{"version":3,"file":"ProcessCell.js","sourceRoot":"","sources":["../../../../src/lib/model/ProcessCell.ts"],"names":[],"mappings":"AAEA,OAAO,EAAE,qBAAqB,EAAE,MAAM,gDAAgD,CAAC;AAGvF,OAAO,EAAE,WAAW,EAAE,MAAM,qBAAqB,CAAC;AAElD;;;GAGG;AACH;IAKI;IAEA,CAAC;IAED,yCAAmB,GAAnB;;QACI,IAAI,YAAY,GAAG,EAAE,CAAC;QACtB,IAAI,KAAK,GAAG,IAAI,qBAAqB,EAAE,CAAC;QACxC,KAAK,CAAC,UAAU,GAAG,OAAO,CAAC;QAC3B,KAAK,CAAC,YAAY,GAAG,WAAW,CAAC,GAAG,CAAC,YAAY,CAAC,IAAI,MAAM,CAAC;QAC7D,KAAK,CAAC,KAAK,GAAG,OAAO,CAAC;QACtB,KAAK,CAAC,OAAO,GAAG,WAAW,CAAC,GAAG,CAAC,gBAAgB,CAAC,IAAI,MAAM,CAAC;QAC5D,KAAK,CAAC,UAAU,GAAG;YACf,EAAE,UAAU,EAAE,MAAM,EAAE,YAAY,EAAE,WAAW,CAAC,GAAG,CAAC,eAAe,CAAC,IAAI,IAAI,EAAE,YAAY,EAAE,QAAQ,EAAE,OAAO,EAAE,CAAC,IAAI,CAAC,QAAQ,CAAC,gBAAgB,EAAE;YAChJ,EAAE,UAAU,EAAE,cAAc,EAAE,YAAY,EAAE,WAAW,CAAC,GAAG,CAAC,eAAe,CAAC,IAAI,IAAI,EAAE,YAAY,EAAE,eAAe,EAAE,OAAO,EAAE,IAAI,CAAC,QAAQ,CAAC,gBAAgB,EAAE;YAC9J,EAAE,UAAU,EAAE,KAAK,EAAE,YAAY,EAAE,WAAW,CAAC,GAAG,CAAC,aAAa,CAAC,IAAI,IAAI,EAAE,YAAY,EAAE,QAAQ,EAAE,QAAQ,EAAE,IAAI,EAAE;SACtH,CAAC;QAEF,YAAY,CAAC,MAAM,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC;QACzC,8BAA8B;QAC9B,YAAY,CAAC,cAAc,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC,YAAY;YACpD,GAAC,IAAI,CAAC,QAAQ,CAAC,QAAQ,IAAI,QAAQ,IAAG,IAAI,CAAC,OAAO,CAAC,IAAI;eAC1D,CAAC;QACF,YAAY,CAAC,KAAK,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC;QACvC,YAAY,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC;QACrC,YAAY,CAAC,WAAW,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC;QACnD,YAAY,CAAC,WAAW,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC;QAEnD,OAAO;YACH,cAAc,EAAE,CAAC,KAAK,CAAC;YACvB,YAAY,EAAE,YAAY;SAC7B,CAAC;IACN,CAAC;IAED,iCAAW,GAAX,UAAY,GAAQ;QAChB,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,UAAU,CAAC,GAAG,GAAG,CAAC,aAAa,CAAC;QACjD,IAAI,GAAG,CAAC,UAAU,IAAI,cAAc,EAAE;YAClC,IAAI,CAAC,OAAO,CAAC,IAAI,GAAG,IAAI,CAAC,OAAO,CAAC,YAAY,IAAI,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,QAAQ,CAAC,IAAI,EAAE,CAAC;SAC9F;IACL,CAAC;IACL,kBAAC;AAAD,CAAC,AA5CD,IA4CC","sourcesContent":["import { BPMNPlane, Process } from \"@edp-pmf/bpmn-model\";\r\nimport { IEditorUi } from \"../ui/IEditorUi\";\r\nimport { ElementPropertyConfig } from \"./farris-property-config/ElementPropertyConfig\";\r\nimport { FarrisPropConfigWithData } from \"./farris-property-config/FarrisPropConfigWithData\";\r\nimport { IFarrisPropertyPanelOperation } from \"./farris-property-config/IFarrisPropertyPanelOperation\";\r\nimport { mxResources } from \"@edp-pmf/mxgraph-ts\";\r\n\r\n/**\r\n * 流程元素类。\r\n * 取名虽然Cell，但实际上不需要继承mxCell以及Cell类，仅持有流程与画布实例，可进行属性获取与修改操作。\r\n */\r\nexport class ProcessCell implements IFarrisPropertyPanelOperation {\r\n    process: Process;\r\n    plane: BPMNPlane;\r\n    editorUi: IEditorUi;\r\n\r\n    constructor() {\r\n\r\n    }\r\n\r\n    getFarrisPropConfig(): FarrisPropConfigWithData {\r\n        let propertyData = {};\r\n        let usual = new ElementPropertyConfig();\r\n        usual.categoryId = 'usual';\r\n        usual.categoryName = mxResources.get(\"Basic Info\") || '基本信息';\r\n        usual.tabId = 'basic';\r\n        usual.tabName = mxResources.get(\"Basic Property\") || '基础属性';\r\n        usual.properties = [\r\n            { propertyID: 'Name', propertyName: mxResources.get(\"Property Name\") || '名称', propertyType: 'string', visible: !this.editorUi.multiLangEnabled },\r\n            { propertyID: \"NameLanguage\", propertyName: mxResources.get(\"Property Name\") || '名称', propertyType: 'multiLanguage', visible: this.editorUi.multiLangEnabled },\r\n            { propertyID: \"Key\", propertyName: mxResources.get(\"Property Id\") || '标识', propertyType: 'string', readonly: true },\r\n        ];\r\n\r\n        propertyData[\"Name\"] = this.process.Name;\r\n        // 没有NameLanguage时把Name作为中文简体值\r\n        propertyData[\"NameLanguage\"] = this.process.NameLanguage || {\r\n            [this.editorUi.langCode || \"zh-CHS\"]: this.process.Name,\r\n        };\r\n        propertyData[\"Key\"] = this.process.Key;\r\n        propertyData[\"Id\"] = this.process.Id;\r\n        propertyData[\"ClrTypeId\"] = this.process.ClrTypeID;\r\n        propertyData[\"ClrTypeID\"] = this.process.ClrTypeID;\r\n\r\n        return {\r\n            propertyConfig: [usual],\r\n            propertyData: propertyData\r\n        };\r\n    }\r\n\r\n    updateProps(obj: any) {\r\n        this.process[obj.propertyID] = obj.propertyValue;\r\n        if (obj.propertyID == \"NameLanguage\") {\r\n            this.process.Name = this.process.NameLanguage && this.process.NameLanguage['zh-CHS'] || \"\";\r\n        }\r\n    }\r\n}"]}