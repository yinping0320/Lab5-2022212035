{"version":3,"file":"grapheditor.system.js","sources":["../../node_modules/tslib/tslib.es6.js","../esm/lib/util/PmfEvents.js","../esm/lib/util/KeyboardMap.js","../esm/lib/action/ActionKeys.js","../esm/lib/action/Action.js","../esm/lib/action/impl/AboutAction.js","../esm/lib/util/KeyCodes.js","../esm/lib/action/impl/AlignBottomAction.js","../esm/lib/action/impl/AlignCenterAction.js","../esm/lib/action/impl/AlignLeftAction.js","../esm/lib/action/impl/AlignMiddleAction.js","../esm/lib/action/impl/AlignRightAction.js","../esm/lib/action/impl/AlignTopAction.js","../esm/lib/action/impl/AutosizeAction.js","../esm/lib/action/impl/ClearWaypointsAction.js","../esm/lib/action/impl/CopyAction.js","../esm/lib/action/impl/CutAction.js","../esm/lib/action/impl/DeleteAction.js","../esm/lib/action/impl/DistributeHorizontalAction.js","../esm/lib/action/impl/DistributeVerticalAction.js","../esm/lib/action/impl/DuplicateAction.js","../esm/lib/action/impl/FitWindowAction.js","../esm/lib/action/impl/FormatPanelAction.js","../esm/lib/action/impl/HelpAction.js","../esm/lib/action/impl/LockUnlockAction.js","../esm/lib/ui/OutlineWindow.js","../esm/lib/action/impl/OutlineAction.js","../esm/lib/action/impl/PasteAction.js","../esm/lib/action/impl/RedoAction.js","../esm/lib/action/impl/ResetViewAction.js","../esm/lib/action/impl/SelectAllAction.js","../esm/lib/action/impl/SelectEdgesAction.js","../esm/lib/action/impl/SelectNoneAction.js","../esm/lib/action/impl/SelectVerticesAction.js","../esm/lib/action/impl/ToBackAction.js","../esm/lib/action/impl/ToFrontAction.js","../esm/lib/action/impl/UndoAction.js","../esm/lib/action/impl/ViewGridAction.js","../esm/lib/action/impl/View_100_Action.js","../esm/lib/action/impl/View_125_Action.js","../esm/lib/action/impl/View_150_Action.js","../esm/lib/action/impl/View_200_Action.js","../esm/lib/action/impl/View_25_Action.js","../esm/lib/action/impl/View_300_Action.js","../esm/lib/action/impl/View_400_Action.js","../esm/lib/action/impl/View_50_Action.js","../esm/lib/action/impl/View_75_Action.js","../esm/lib/action/impl/ZoomInAction.js","../esm/lib/action/impl/ZoomOutAction.js","../esm/lib/action/Actions.js","../esm/lib/model/farris-property-config/ElementPropertyConfig.js","../esm/lib/model/property-config/PropertyConfig.js","../esm/lib/model/property-config/PropertyConfigTab.js","../esm/lib/model/property-config/PropertyConfigGroup.js","../esm/lib/model/property-config/PropertyConfigItem.js","../esm/lib/model/farris-property-config/FarrisPropConfigWithData.js","../esm/lib/model/Cell.js","../esm/lib/model/farris-property-config/PropertyEntity.js","../esm/lib/model/EdgeCell.js","../esm/lib/model/NodeCell.js","../esm/lib/model/DefaultEdgeCell.js","../esm/lib/model/DefaultNodeCell.js","../esm/lib/model/ProcessCell.js","../esm/lib/util/Constant.js","../esm/lib/model/bpmn-cell/EndEventCell.js","../esm/lib/model/bpmn-cell/ExclusiveGatewayCell.js","../esm/lib/model/bpmn-cell/InclusiveGatewayCell.js","../esm/lib/model/bpmn-cell/ParallelGatewayCell.js","../esm/lib/model/bpmn-cell/SequenceFlowEdge.js","../esm/lib/model/bpmn-cell/StartEventCell.js","../esm/lib/util/BpmnCellHelper.js","../esm/lib/model/bpmn-cell/BpmnCellRegister.js","../esm/lib/toolbar/ToolbarItem.js","../esm/lib/toolbar/ToolbarItemDisplayStyle.js","../esm/lib/toolbar/ToolbarActionItem.js","../esm/lib/toolbar/ToolbarButton.js","../esm/lib/util/ResourceKeys.js","../esm/lib/toolbar/ToolbarDropDownItem.js","../esm/lib/toolbar/ToolbarDropDownButton.js","../esm/lib/toolbar/ToolbarDropDownMenuItem.js","../esm/lib/toolbar/ToolbarItems.js","../esm/lib/toolbar/ToolbarMenuItem.js","../esm/lib/toolbar/ToolbarSeparator.js","../esm/lib/toolbar/DefaultToolbarItems.js","../esm/lib/util/MxGraphInnerClass.js","../esm/lib/toolbox/ToolBox.js","../esm/lib/toolbox/ToolBoxGroup.js","../esm/lib/toolbox/ToolBoxItem.js","../esm/lib/toolbox/DefaultToolBox.js","../esm/lib/ui/Footer.js","../esm/lib/ui/Format.js","../esm/lib/util/Base64.js","../esm/lib/ui/GraphView.js","../esm/lib/util/MxGraphHelper.js","../esm/lib/ui/Graph.js","../esm/lib/ui/KeyHandler.js","../esm/lib/ui/Menubar.js","../esm/lib/ui/Sidebar.js","../esm/lib/ui/Toolbar.js","../esm/lib/ui/EditorUi.js","../esm/lib/util/Init.js","../esm/lib/util/Utils.js"],"sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __createBinding(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","/**\r\n * 流程设计器事件列表\r\n */\r\nexport var PmfEvents;\r\n(function (PmfEvents) {\r\n    /**\r\n     * 重置画布视图\r\n     */\r\n    PmfEvents[\"ResetGraphView\"] = \"ResetGraphView\";\r\n    /**\r\n     * 画布视图大小改变\r\n     */\r\n    PmfEvents[\"ResizeGraphView\"] = \"ResizeGraphView\";\r\n    /**\r\n     * 选中元素改变\r\n     */\r\n    PmfEvents[\"SelectionModelChanged\"] = \"SelectionModelChanged\";\r\n    /**\r\n     * 锁定状态改变\r\n     */\r\n    PmfEvents[\"LockedChanged\"] = \"LockedChanged\";\r\n    /**\r\n     * 按钮状态改变\r\n     */\r\n    PmfEvents[\"StateChanged\"] = \"StateChanged\";\r\n    /**\r\n     * 网格启用状态改变\r\n     */\r\n    PmfEvents[\"GridEnabledChanged\"] = \"GridEnabledChanged\";\r\n    /**\r\n     * 节点从侧边栏拖入画布事件\r\n     */\r\n    PmfEvents[\"CellsInserted\"] = \"CellsInserted\";\r\n    /**\r\n     * 显示属性事件\r\n     */\r\n    PmfEvents[\"ShowProperty\"] = \"ShowProperty\";\r\n    /**\r\n     * 名称属性修改事件\r\n     */\r\n    PmfEvents[\"NameChanged\"] = \"NameChanged\";\r\n})(PmfEvents || (PmfEvents = {}));\r\n//# sourceMappingURL=PmfEvents.js.map","export var KEYBOARD_MAP = [\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"CANCEL\",\r\n    \"\",\r\n    \"\",\r\n    \"HELP\",\r\n    \"\",\r\n    \"BACK_SPACE\",\r\n    \"TAB\",\r\n    \"\",\r\n    \"\",\r\n    \"CLEAR\",\r\n    \"Enter\",\r\n    \"ENTER_SPECIAL\",\r\n    \"\",\r\n    \"SHIFT\",\r\n    \"CONTROL\",\r\n    \"ALT\",\r\n    \"PAUSE\",\r\n    \"CAPS_LOCK\",\r\n    \"KANA\",\r\n    \"EISU\",\r\n    \"JUNJA\",\r\n    \"FINAL\",\r\n    \"HANJA\",\r\n    \"\",\r\n    \"Esc\",\r\n    \"CONVERT\",\r\n    \"NONCONVERT\",\r\n    \"ACCEPT\",\r\n    \"MODECHANGE\",\r\n    \"SPACE\",\r\n    \"PAGE_UP\",\r\n    \"PAGE_DOWN\",\r\n    \"END\",\r\n    \"HOME\",\r\n    \"Left\",\r\n    \"Up\",\r\n    \"Right\",\r\n    \"Down\",\r\n    \"SELECT\",\r\n    \"PRINT\",\r\n    \"EXECUTE\",\r\n    \"PRINTSCREEN\",\r\n    \"INSERT\",\r\n    \"Del\",\r\n    \"\",\r\n    \"0\",\r\n    \"1\",\r\n    \"2\",\r\n    \"3\",\r\n    \"4\",\r\n    \"5\",\r\n    \"6\",\r\n    \"7\",\r\n    \"8\",\r\n    \"9\",\r\n    \"COLON\",\r\n    \"SEMICOLON\",\r\n    \"LESS_THAN\",\r\n    \"EQUALS\",\r\n    \"GREATER_THAN\",\r\n    \"QUESTION_MARK\",\r\n    \"AT\",\r\n    \"A\",\r\n    \"B\",\r\n    \"C\",\r\n    \"D\",\r\n    \"E\",\r\n    \"F\",\r\n    \"G\",\r\n    \"H\",\r\n    \"I\",\r\n    \"J\",\r\n    \"K\",\r\n    \"L\",\r\n    \"M\",\r\n    \"N\",\r\n    \"O\",\r\n    \"P\",\r\n    \"Q\",\r\n    \"R\",\r\n    \"S\",\r\n    \"T\",\r\n    \"U\",\r\n    \"V\",\r\n    \"W\",\r\n    \"X\",\r\n    \"Y\",\r\n    \"Z\",\r\n    \"OS_KEY\",\r\n    \"\",\r\n    \"CONTEXT_MENU\",\r\n    \"\",\r\n    \"SLEEP\",\r\n    \"NUMPAD0\",\r\n    \"NUMPAD1\",\r\n    \"NUMPAD2\",\r\n    \"NUMPAD3\",\r\n    \"NUMPAD4\",\r\n    \"NUMPAD5\",\r\n    \"NUMPAD6\",\r\n    \"NUMPAD7\",\r\n    \"NUMPAD8\",\r\n    \"NUMPAD9\",\r\n    \"MULTIPLY\",\r\n    \"ADD\",\r\n    \"SEPARATOR\",\r\n    \"SUBTRACT\",\r\n    \"DECIMAL\",\r\n    \"DIVIDE\",\r\n    \"F1\",\r\n    \"F2\",\r\n    \"F3\",\r\n    \"F4\",\r\n    \"F5\",\r\n    \"F6\",\r\n    \"F7\",\r\n    \"F8\",\r\n    \"F9\",\r\n    \"F10\",\r\n    \"F11\",\r\n    \"F12\",\r\n    \"F13\",\r\n    \"F14\",\r\n    \"F15\",\r\n    \"F16\",\r\n    \"F17\",\r\n    \"F18\",\r\n    \"F19\",\r\n    \"F20\",\r\n    \"F21\",\r\n    \"F22\",\r\n    \"F23\",\r\n    \"F24\",\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"NUM_LOCK\",\r\n    \"SCROLL_LOCK\",\r\n    \"WIN_OEM_FJ_JISHO\",\r\n    \"WIN_OEM_FJ_MASSHOU\",\r\n    \"WIN_OEM_FJ_TOUROKU\",\r\n    \"WIN_OEM_FJ_LOYA\",\r\n    \"WIN_OEM_FJ_ROYA\",\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"CIRCUMFLEX\",\r\n    \"EXCLAMATION\",\r\n    \"DOUBLE_QUOTE\",\r\n    \"HASH\",\r\n    \"DOLLAR\",\r\n    \"PERCENT\",\r\n    \"AMPERSAND\",\r\n    \"UNDERSCORE\",\r\n    \"OPEN_PAREN\",\r\n    \"CLOSE_PAREN\",\r\n    \"ASTERISK\",\r\n    \"PLUS\",\r\n    \"PIPE\",\r\n    \"HYPHEN_MINUS\",\r\n    \"OPEN_CURLY_BRACKET\",\r\n    \"CLOSE_CURLY_BRACKET\",\r\n    \"TILDE\",\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"VOLUME_MUTE\",\r\n    \"VOLUME_DOWN\",\r\n    \"VOLUME_UP\",\r\n    \"\",\r\n    \"\",\r\n    \"SEMICOLON\",\r\n    \"=\",\r\n    \"COMMA\",\r\n    \"-\",\r\n    \"PERIOD\",\r\n    \"SLASH\",\r\n    \"BACK_QUOTE\",\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"OPEN_BRACKET\",\r\n    \"BACK_SLASH\",\r\n    \"CLOSE_BRACKET\",\r\n    \"QUOTE\",\r\n    \"\",\r\n    \"META\",\r\n    \"ALTGR\",\r\n    \"\",\r\n    \"WIN_ICO_HELP\",\r\n    \"WIN_ICO_00\",\r\n    \"\",\r\n    \"WIN_ICO_CLEAR\",\r\n    \"\",\r\n    \"\",\r\n    \"WIN_OEM_RESET\",\r\n    \"WIN_OEM_JUMP\",\r\n    \"WIN_OEM_PA1\",\r\n    \"WIN_OEM_PA2\",\r\n    \"WIN_OEM_PA3\",\r\n    \"WIN_OEM_WSCTRL\",\r\n    \"WIN_OEM_CUSEL\",\r\n    \"WIN_OEM_ATTN\",\r\n    \"WIN_OEM_FINISH\",\r\n    \"WIN_OEM_COPY\",\r\n    \"WIN_OEM_AUTO\",\r\n    \"WIN_OEM_ENLW\",\r\n    \"WIN_OEM_BACKTAB\",\r\n    \"ATTN\",\r\n    \"CRSEL\",\r\n    \"EXSEL\",\r\n    \"EREOF\",\r\n    \"PLAY\",\r\n    \"ZOOM\",\r\n    \"\",\r\n    \"PA1\",\r\n    \"WIN_OEM_CLEAR\",\r\n    \"\" // [255]\r\n];\r\n//# sourceMappingURL=KeyboardMap.js.map","/**\r\n * 动作Key列表\r\n */\r\nexport var ActionKeys;\r\n(function (ActionKeys) {\r\n    //temp =\"pmf_temp\",\r\n    // File\r\n    ActionKeys[\"pmf_save\"] = \"pmf_save\";\r\n    ActionKeys[\"pmf_saveAs\"] = \"pmf_saveAs\";\r\n    ActionKeys[\"wf_sync\"] = \"wf_sync\";\r\n    ActionKeys[\"wf_note\"] = \"wf_note\";\r\n    ActionKeys[\"wf_edit\"] = \"wf_edit\";\r\n    ActionKeys[\"pmf_export\"] = \"pmf_export\";\r\n    //Edit\r\n    ActionKeys[\"pmf_undo\"] = \"pmf_undo\";\r\n    ActionKeys[\"pmf_redo\"] = \"pmf_redo\";\r\n    ActionKeys[\"pmf_cut\"] = \"pmf_cut\";\r\n    ActionKeys[\"pmf_copy\"] = \"pmf_copy\";\r\n    ActionKeys[\"pmf_paste\"] = \"pmf_paste\";\r\n    ActionKeys[\"pmf_pasteHere\"] = \"pmf_pasteHere\";\r\n    ActionKeys[\"pmf_delete\"] = \"pmf_delete\";\r\n    ActionKeys[\"pmf_deleteAll\"] = \"pmf_deleteAll\";\r\n    ActionKeys[\"pmf_duplicate\"] = \"pmf_duplicate\";\r\n    ActionKeys[\"pmf_selectVertices\"] = \"pmf_selectVertices\";\r\n    ActionKeys[\"pmf_selectEdges\"] = \"pmf_selectEdges\";\r\n    ActionKeys[\"pmf_selectAll\"] = \"pmf_selectAll\";\r\n    ActionKeys[\"pmf_selectNone\"] = \"pmf_selectNone\";\r\n    ActionKeys[\"pmf_lockUnlock\"] = \"pmf_lockUnlock\";\r\n    //View\r\n    ActionKeys[\"pmf_formatPanel\"] = \"pmf_formatPanel\";\r\n    ActionKeys[\"pmf_outline\"] = \"pmf_outline\";\r\n    ActionKeys[\"pmf_layers\"] = \"pmf_layers\";\r\n    ActionKeys[\"pmf_pageView\"] = \"pmf_pageView\";\r\n    ActionKeys[\"pmf_grid\"] = \"pmf_grid\";\r\n    ActionKeys[\"pmf_connectionArrows\"] = \"pmf_connectionArrows\";\r\n    ActionKeys[\"pmf_connectionPoints\"] = \"pmf_connectionPoints\";\r\n    ActionKeys[\"pmf_resetView\"] = \"pmf_resetView\";\r\n    ActionKeys[\"pmf_zoomIn\"] = \"pmf_zoomIn\";\r\n    ActionKeys[\"pmf_zoomOut\"] = \"pmf_zoomOut\";\r\n    ActionKeys[\"pmf_view_25\"] = \"pmf_view_25\";\r\n    ActionKeys[\"pmf_view_50\"] = \"pmf_view_50\";\r\n    ActionKeys[\"pmf_view_75\"] = \"pmf_view_75\";\r\n    ActionKeys[\"pmf_view_100\"] = \"pmf_view_100\";\r\n    ActionKeys[\"pmf_view_125\"] = \"pmf_view_125\";\r\n    ActionKeys[\"pmf_view_150\"] = \"pmf_view_150\";\r\n    ActionKeys[\"pmf_view_200\"] = \"pmf_view_200\";\r\n    ActionKeys[\"pmf_view_300\"] = \"pmf_view_300\";\r\n    ActionKeys[\"pmf_view_400\"] = \"pmf_view_400\";\r\n    ActionKeys[\"pmf_fitWindow\"] = \"pmf_fitWindow\";\r\n    ActionKeys[\"pmf_fitPage\"] = \"pmf_fitPage\";\r\n    ActionKeys[\"pmf_fitTwoPages\"] = \"pmf_fitTwoPages\";\r\n    ActionKeys[\"pmf_fitPageWidth\"] = \"pmf_fitPageWidth\";\r\n    ActionKeys[\"pmf_customZoom\"] = \"pmf_customZoom\";\r\n    // Arrange\r\n    ActionKeys[\"pmf_toFront\"] = \"pmf_toFront\";\r\n    ActionKeys[\"pmf_toBack\"] = \"pmf_toBack\";\r\n    ActionKeys[\"pmf_leftAlign\"] = \"pmf_leftAlign\";\r\n    ActionKeys[\"pmf_center\"] = \"pmf_center\";\r\n    ActionKeys[\"pmf_rightAlign\"] = \"pmf_rightAlign\";\r\n    ActionKeys[\"pmf_topAlign\"] = \"pmf_topAlign\";\r\n    ActionKeys[\"pmf_middle\"] = \"pmf_middle\";\r\n    ActionKeys[\"pmf_bottomAlign\"] = \"pmf_bottomAlign\";\r\n    ActionKeys[\"pmf_horizontal\"] = \"pmf_horizontal\";\r\n    ActionKeys[\"pmf_vertical\"] = \"pmf_vertical\";\r\n    ActionKeys[\"pmf_clearWaypoints\"] = \"pmf_clearWaypoints\";\r\n    ActionKeys[\"pmf_autosize\"] = \"pmf_autosize\";\r\n    //Help\r\n    ActionKeys[\"pmf_help\"] = \"pmf_help\";\r\n    ActionKeys[\"pmf_about\"] = \"pmf_about\";\r\n    ActionKeys[\"pmf_viewModelXml\"] = \"pmf_viewModelXml\";\r\n    ActionKeys[\"pmf_release\"] = \"pmf_release\";\r\n    ActionKeys[\"pmf_closeDesigner\"] = \"pmf_closeDesigner\";\r\n})(ActionKeys || (ActionKeys = {}));\r\n//# sourceMappingURL=ActionKeys.js.map","import { __extends } from \"tslib\";\r\nimport { mxClient, mxEventObject, mxEventSource } from \"@edp-pmf/mxgraph-ts\";\r\nimport { PmfEvents } from \"../util/PmfEvents\";\r\nimport { KEYBOARD_MAP } from \"../util/KeyboardMap\";\r\n/**\r\n * 动作类\r\n */\r\nvar Action = /** @class */ (function (_super) {\r\n    __extends(Action, _super);\r\n    function Action(key, editorUi, enabled) {\r\n        var _this = _super.call(this) || this;\r\n        /**\r\n         * 是否启用\r\n         */\r\n        _this.enabled = true;\r\n        /**\r\n         * 是否是切换动作\r\n         */\r\n        _this.toggleAction = false;\r\n        _this.key = key;\r\n        _this.editorUi = editorUi;\r\n        _this.enabled = (enabled != null) ? enabled : true;\r\n        return _this;\r\n    }\r\n    /**\r\n     * 获取启用状态\r\n     */\r\n    Action.prototype.isEnabled = function () {\r\n        return this.enabled;\r\n    };\r\n    /**\r\n     * 获取是否为切换动作\r\n     */\r\n    Action.prototype.isToggleAction = function () {\r\n        return this.toggleAction;\r\n    };\r\n    /**\r\n     * 是否被选中\r\n     */\r\n    Action.prototype.isSelected = function () {\r\n        return false;\r\n    };\r\n    /**\r\n     * 设置启用状态，状态修改时发射状态变更事件\r\n     */\r\n    Action.prototype.setEnabled = function (value) {\r\n        var origin = this.enabled;\r\n        this.enabled = value;\r\n        if (origin != value) {\r\n            this.fireEvent(new mxEventObject(PmfEvents.StateChanged));\r\n        }\r\n    };\r\n    /**\r\n     * 获取快捷键文本\r\n     */\r\n    Action.prototype.getShortcut = function () {\r\n        if (this.shortcutKeyCode == null)\r\n            return null;\r\n        var shortcut = KEYBOARD_MAP[this.shortcutKeyCode];\r\n        if (this.shortcutAltKey) {\r\n            shortcut = \"Alt+\" + shortcut;\r\n        }\r\n        if (this.shortcutShiftKey) {\r\n            shortcut = \"Shift+\" + shortcut;\r\n        }\r\n        if (this.shortcutControlKey) {\r\n            shortcut = Action.ctrlKey + \"+\" + shortcut;\r\n        }\r\n        return shortcut;\r\n    };\r\n    /**\r\n     * 设置是否为切换动作\r\n     */\r\n    Action.prototype.setToggleAction = function (value) {\r\n        this.toggleAction = value;\r\n    };\r\n    /**\r\n     * 执行动作\r\n     */\r\n    Action.prototype.execute = function (evt) {\r\n    };\r\n    Action.ctrlKey = (mxClient.IS_MAC) ? 'Cmd' : 'Ctrl';\r\n    return Action;\r\n}(mxEventSource));\r\nexport { Action };\r\n//# sourceMappingURL=Action.js.map","import { __extends } from \"tslib\";\r\nimport { Action } from \"../Action\";\r\nimport { ActionKeys } from \"../ActionKeys\";\r\nvar AboutAction = /** @class */ (function (_super) {\r\n    __extends(AboutAction, _super);\r\n    function AboutAction(editorUi) {\r\n        return _super.call(this, ActionKeys.pmf_about, editorUi, true) || this;\r\n    }\r\n    AboutAction.prototype.execute = function (evt) {\r\n        alert(this.key);\r\n    };\r\n    return AboutAction;\r\n}(Action));\r\nexport { AboutAction };\r\n//# sourceMappingURL=AboutAction.js.map","export var KeyCodes;\r\n(function (KeyCodes) {\r\n    KeyCodes[KeyCodes[\"Enter\"] = 13] = \"Enter\";\r\n    KeyCodes[KeyCodes[\"Esc\"] = 27] = \"Esc\";\r\n    KeyCodes[KeyCodes[\"Left\"] = 37] = \"Left\";\r\n    KeyCodes[KeyCodes[\"Up\"] = 38] = \"Up\";\r\n    KeyCodes[KeyCodes[\"Right\"] = 39] = \"Right\";\r\n    KeyCodes[KeyCodes[\"Down\"] = 40] = \"Down\";\r\n    KeyCodes[KeyCodes[\"Del\"] = 46] = \"Del\";\r\n    KeyCodes[KeyCodes[\"_0\"] = 48] = \"_0\";\r\n    KeyCodes[KeyCodes[\"_1\"] = 49] = \"_1\";\r\n    KeyCodes[KeyCodes[\"_2\"] = 50] = \"_2\";\r\n    KeyCodes[KeyCodes[\"_3\"] = 51] = \"_3\";\r\n    KeyCodes[KeyCodes[\"_4\"] = 52] = \"_4\";\r\n    KeyCodes[KeyCodes[\"_5\"] = 53] = \"_5\";\r\n    KeyCodes[KeyCodes[\"_6\"] = 54] = \"_6\";\r\n    KeyCodes[KeyCodes[\"_7\"] = 55] = \"_7\";\r\n    KeyCodes[KeyCodes[\"_8\"] = 56] = \"_8\";\r\n    KeyCodes[KeyCodes[\"_9\"] = 57] = \"_9\";\r\n    KeyCodes[KeyCodes[\"A\"] = 65] = \"A\";\r\n    KeyCodes[KeyCodes[\"B\"] = 66] = \"B\";\r\n    KeyCodes[KeyCodes[\"C\"] = 67] = \"C\";\r\n    KeyCodes[KeyCodes[\"D\"] = 68] = \"D\";\r\n    KeyCodes[KeyCodes[\"E\"] = 69] = \"E\";\r\n    KeyCodes[KeyCodes[\"F\"] = 70] = \"F\";\r\n    KeyCodes[KeyCodes[\"G\"] = 71] = \"G\";\r\n    KeyCodes[KeyCodes[\"H\"] = 72] = \"H\";\r\n    KeyCodes[KeyCodes[\"I\"] = 73] = \"I\";\r\n    KeyCodes[KeyCodes[\"J\"] = 74] = \"J\";\r\n    KeyCodes[KeyCodes[\"K\"] = 75] = \"K\";\r\n    KeyCodes[KeyCodes[\"L\"] = 76] = \"L\";\r\n    KeyCodes[KeyCodes[\"M\"] = 77] = \"M\";\r\n    KeyCodes[KeyCodes[\"N\"] = 78] = \"N\";\r\n    KeyCodes[KeyCodes[\"O\"] = 79] = \"O\";\r\n    KeyCodes[KeyCodes[\"P\"] = 80] = \"P\";\r\n    KeyCodes[KeyCodes[\"Q\"] = 81] = \"Q\";\r\n    KeyCodes[KeyCodes[\"R\"] = 82] = \"R\";\r\n    KeyCodes[KeyCodes[\"S\"] = 83] = \"S\";\r\n    KeyCodes[KeyCodes[\"T\"] = 84] = \"T\";\r\n    KeyCodes[KeyCodes[\"U\"] = 85] = \"U\";\r\n    KeyCodes[KeyCodes[\"V\"] = 86] = \"V\";\r\n    KeyCodes[KeyCodes[\"W\"] = 87] = \"W\";\r\n    KeyCodes[KeyCodes[\"X\"] = 88] = \"X\";\r\n    KeyCodes[KeyCodes[\"Y\"] = 89] = \"Y\";\r\n    KeyCodes[KeyCodes[\"Z\"] = 90] = \"Z\";\r\n    KeyCodes[KeyCodes[\"F1\"] = 112] = \"F1\";\r\n    KeyCodes[KeyCodes[\"F2\"] = 113] = \"F2\";\r\n    KeyCodes[KeyCodes[\"F3\"] = 114] = \"F3\";\r\n    KeyCodes[KeyCodes[\"F4\"] = 115] = \"F4\";\r\n    KeyCodes[KeyCodes[\"F5\"] = 116] = \"F5\";\r\n    KeyCodes[KeyCodes[\"F6\"] = 117] = \"F6\";\r\n    KeyCodes[KeyCodes[\"F7\"] = 118] = \"F7\";\r\n    KeyCodes[KeyCodes[\"F8\"] = 119] = \"F8\";\r\n    KeyCodes[KeyCodes[\"F9\"] = 120] = \"F9\";\r\n    KeyCodes[KeyCodes[\"F10\"] = 121] = \"F10\";\r\n    KeyCodes[KeyCodes[\"F11\"] = 122] = \"F11\";\r\n    KeyCodes[KeyCodes[\"F12\"] = 123] = \"F12\";\r\n    //+\r\n    KeyCodes[KeyCodes[\"Plus\"] = 187] = \"Plus\";\r\n    //-\r\n    KeyCodes[KeyCodes[\"Minus\"] = 189] = \"Minus\";\r\n})(KeyCodes || (KeyCodes = {}));\r\n//# sourceMappingURL=KeyCodes.js.map","import { __extends } from \"tslib\";\r\nimport { mxConstants } from \"@edp-pmf/mxgraph-ts\";\r\nimport { PmfEvents } from \"../../util/PmfEvents\";\r\nimport { Action } from \"../Action\";\r\nimport { ActionKeys } from \"../ActionKeys\";\r\nvar AlignBottomAction = /** @class */ (function (_super) {\r\n    __extends(AlignBottomAction, _super);\r\n    function AlignBottomAction(editorUi) {\r\n        var _this = _super.call(this, ActionKeys.pmf_bottomAlign, editorUi, false) || this;\r\n        _this.editorUi.addListener(PmfEvents.LockedChanged, function () {\r\n            _this.setEnabled(_this.isAlignActionEnabled(_this.editorUi.graph));\r\n        });\r\n        _this.editorUi.addListener(PmfEvents.SelectionModelChanged, function () {\r\n            _this.setEnabled(_this.isAlignActionEnabled(_this.editorUi.graph));\r\n        });\r\n        return _this;\r\n    }\r\n    AlignBottomAction.prototype.execute = function (evt) {\r\n        var graph = this.editorUi.graph;\r\n        graph.alignCells(mxConstants.ALIGN_BOTTOM);\r\n    };\r\n    AlignBottomAction.prototype.isAlignActionEnabled = function (graph) {\r\n        return this.isUnlocked(graph) && this.isVertexSelected(graph) && graph.getSelectionCount() > 1;\r\n    };\r\n    AlignBottomAction.prototype.isUnlocked = function (graph) {\r\n        var unlocked = graph.isEnabled() && !graph.isCellLocked(graph.getDefaultParent());\r\n        return unlocked;\r\n    };\r\n    AlignBottomAction.prototype.isVertexSelected = function (graph) {\r\n        var vertexSelected = false;\r\n        var cells = graph.getSelectionCells();\r\n        if (cells != null) {\r\n            for (var i = 0; i < cells.length; i++) {\r\n                var cell = cells[i];\r\n                if (graph.getModel().isVertex(cell)) {\r\n                    vertexSelected = true;\r\n                }\r\n                if (vertexSelected) {\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        return vertexSelected;\r\n    };\r\n    return AlignBottomAction;\r\n}(Action));\r\nexport { AlignBottomAction };\r\n//# sourceMappingURL=AlignBottomAction.js.map","import { __extends } from \"tslib\";\r\nimport { mxConstants } from \"@edp-pmf/mxgraph-ts\";\r\nimport { PmfEvents } from \"../../util/PmfEvents\";\r\nimport { Action } from \"../Action\";\r\nimport { ActionKeys } from \"../ActionKeys\";\r\nvar AlignCenterAction = /** @class */ (function (_super) {\r\n    __extends(AlignCenterAction, _super);\r\n    function AlignCenterAction(editorUi) {\r\n        var _this = _super.call(this, ActionKeys.pmf_center, editorUi, false) || this;\r\n        _this.editorUi.addListener(PmfEvents.LockedChanged, function () {\r\n            _this.setEnabled(_this.isAlignActionEnabled(_this.editorUi.graph));\r\n        });\r\n        _this.editorUi.addListener(PmfEvents.SelectionModelChanged, function () {\r\n            _this.setEnabled(_this.isAlignActionEnabled(_this.editorUi.graph));\r\n        });\r\n        return _this;\r\n    }\r\n    AlignCenterAction.prototype.execute = function (evt) {\r\n        var graph = this.editorUi.graph;\r\n        graph.alignCells(mxConstants.ALIGN_CENTER);\r\n    };\r\n    AlignCenterAction.prototype.isAlignActionEnabled = function (graph) {\r\n        return this.isUnlocked(graph) && this.isVertexSelected(graph) && graph.getSelectionCount() > 1;\r\n    };\r\n    AlignCenterAction.prototype.isUnlocked = function (graph) {\r\n        var unlocked = graph.isEnabled() && !graph.isCellLocked(graph.getDefaultParent());\r\n        return unlocked;\r\n    };\r\n    AlignCenterAction.prototype.isVertexSelected = function (graph) {\r\n        var vertexSelected = false;\r\n        var cells = graph.getSelectionCells();\r\n        if (cells != null) {\r\n            for (var i = 0; i < cells.length; i++) {\r\n                var cell = cells[i];\r\n                if (graph.getModel().isVertex(cell)) {\r\n                    vertexSelected = true;\r\n                }\r\n                if (vertexSelected) {\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        return vertexSelected;\r\n    };\r\n    return AlignCenterAction;\r\n}(Action));\r\nexport { AlignCenterAction };\r\n//# sourceMappingURL=AlignCenterAction.js.map","import { __extends } from \"tslib\";\r\nimport { mxConstants } from \"@edp-pmf/mxgraph-ts\";\r\nimport { PmfEvents } from \"../../util/PmfEvents\";\r\nimport { Action } from \"../Action\";\r\nimport { ActionKeys } from \"../ActionKeys\";\r\nvar AlignLeftAction = /** @class */ (function (_super) {\r\n    __extends(AlignLeftAction, _super);\r\n    function AlignLeftAction(editorUi) {\r\n        var _this = _super.call(this, ActionKeys.pmf_leftAlign, editorUi, false) || this;\r\n        _this.editorUi.addListener(PmfEvents.LockedChanged, function () {\r\n            _this.setEnabled(_this.isAlignActionEnabled(_this.editorUi.graph));\r\n        });\r\n        _this.editorUi.addListener(PmfEvents.SelectionModelChanged, function () {\r\n            _this.setEnabled(_this.isAlignActionEnabled(_this.editorUi.graph));\r\n        });\r\n        return _this;\r\n    }\r\n    AlignLeftAction.prototype.execute = function (evt) {\r\n        var graph = this.editorUi.graph;\r\n        graph.alignCells(mxConstants.ALIGN_LEFT);\r\n    };\r\n    AlignLeftAction.prototype.isAlignActionEnabled = function (graph) {\r\n        return this.isUnlocked(graph) && this.isVertexSelected(graph) && graph.getSelectionCount() > 1;\r\n    };\r\n    AlignLeftAction.prototype.isUnlocked = function (graph) {\r\n        var unlocked = graph.isEnabled() && !graph.isCellLocked(graph.getDefaultParent());\r\n        return unlocked;\r\n    };\r\n    AlignLeftAction.prototype.isVertexSelected = function (graph) {\r\n        var vertexSelected = false;\r\n        var cells = graph.getSelectionCells();\r\n        if (cells != null) {\r\n            for (var i = 0; i < cells.length; i++) {\r\n                var cell = cells[i];\r\n                if (graph.getModel().isVertex(cell)) {\r\n                    vertexSelected = true;\r\n                }\r\n                if (vertexSelected) {\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        return vertexSelected;\r\n    };\r\n    return AlignLeftAction;\r\n}(Action));\r\nexport { AlignLeftAction };\r\n//# sourceMappingURL=AlignLeftAction.js.map","import { __extends } from \"tslib\";\r\nimport { mxConstants } from \"@edp-pmf/mxgraph-ts\";\r\nimport { PmfEvents } from \"../../util/PmfEvents\";\r\nimport { Action } from \"../Action\";\r\nimport { ActionKeys } from \"../ActionKeys\";\r\nvar AlignMiddleAction = /** @class */ (function (_super) {\r\n    __extends(AlignMiddleAction, _super);\r\n    function AlignMiddleAction(editorUi) {\r\n        var _this = _super.call(this, ActionKeys.pmf_middle, editorUi, false) || this;\r\n        _this.editorUi.addListener(PmfEvents.LockedChanged, function () {\r\n            _this.setEnabled(_this.isAlignActionEnabled(_this.editorUi.graph));\r\n        });\r\n        _this.editorUi.addListener(PmfEvents.SelectionModelChanged, function () {\r\n            _this.setEnabled(_this.isAlignActionEnabled(_this.editorUi.graph));\r\n        });\r\n        return _this;\r\n    }\r\n    AlignMiddleAction.prototype.execute = function (evt) {\r\n        var graph = this.editorUi.graph;\r\n        graph.alignCells(mxConstants.ALIGN_MIDDLE);\r\n    };\r\n    AlignMiddleAction.prototype.isAlignActionEnabled = function (graph) {\r\n        return this.isUnlocked(graph) && this.isVertexSelected(graph) && graph.getSelectionCount() > 1;\r\n    };\r\n    AlignMiddleAction.prototype.isUnlocked = function (graph) {\r\n        var unlocked = graph.isEnabled() && !graph.isCellLocked(graph.getDefaultParent());\r\n        return unlocked;\r\n    };\r\n    AlignMiddleAction.prototype.isVertexSelected = function (graph) {\r\n        var vertexSelected = false;\r\n        var cells = graph.getSelectionCells();\r\n        if (cells != null) {\r\n            for (var i = 0; i < cells.length; i++) {\r\n                var cell = cells[i];\r\n                if (graph.getModel().isVertex(cell)) {\r\n                    vertexSelected = true;\r\n                }\r\n                if (vertexSelected) {\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        return vertexSelected;\r\n    };\r\n    return AlignMiddleAction;\r\n}(Action));\r\nexport { AlignMiddleAction };\r\n//# sourceMappingURL=AlignMiddleAction.js.map","import { __extends } from \"tslib\";\r\nimport { mxConstants } from \"@edp-pmf/mxgraph-ts\";\r\nimport { PmfEvents } from \"../../util/PmfEvents\";\r\nimport { Action } from \"../Action\";\r\nimport { ActionKeys } from \"../ActionKeys\";\r\nvar AlignRightAction = /** @class */ (function (_super) {\r\n    __extends(AlignRightAction, _super);\r\n    function AlignRightAction(editorUi) {\r\n        var _this = _super.call(this, ActionKeys.pmf_rightAlign, editorUi, false) || this;\r\n        _this.editorUi.addListener(PmfEvents.LockedChanged, function () {\r\n            _this.setEnabled(_this.isAlignActionEnabled(_this.editorUi.graph));\r\n        });\r\n        _this.editorUi.addListener(PmfEvents.SelectionModelChanged, function () {\r\n            _this.setEnabled(_this.isAlignActionEnabled(_this.editorUi.graph));\r\n        });\r\n        return _this;\r\n    }\r\n    AlignRightAction.prototype.execute = function (evt) {\r\n        var graph = this.editorUi.graph;\r\n        graph.alignCells(mxConstants.ALIGN_RIGHT);\r\n    };\r\n    AlignRightAction.prototype.isAlignActionEnabled = function (graph) {\r\n        return this.isUnlocked(graph) && this.isVertexSelected(graph) && graph.getSelectionCount() > 1;\r\n    };\r\n    AlignRightAction.prototype.isUnlocked = function (graph) {\r\n        var unlocked = graph.isEnabled() && !graph.isCellLocked(graph.getDefaultParent());\r\n        return unlocked;\r\n    };\r\n    AlignRightAction.prototype.isVertexSelected = function (graph) {\r\n        var vertexSelected = false;\r\n        var cells = graph.getSelectionCells();\r\n        if (cells != null) {\r\n            for (var i = 0; i < cells.length; i++) {\r\n                var cell = cells[i];\r\n                if (graph.getModel().isVertex(cell)) {\r\n                    vertexSelected = true;\r\n                }\r\n                if (vertexSelected) {\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        return vertexSelected;\r\n    };\r\n    return AlignRightAction;\r\n}(Action));\r\nexport { AlignRightAction };\r\n//# sourceMappingURL=AlignRightAction.js.map","import { __extends } from \"tslib\";\r\nimport { mxConstants } from \"@edp-pmf/mxgraph-ts\";\r\nimport { PmfEvents } from \"../../util/PmfEvents\";\r\nimport { Action } from \"../Action\";\r\nimport { ActionKeys } from \"../ActionKeys\";\r\nvar AlignTopAction = /** @class */ (function (_super) {\r\n    __extends(AlignTopAction, _super);\r\n    function AlignTopAction(editorUi) {\r\n        var _this = _super.call(this, ActionKeys.pmf_topAlign, editorUi, false) || this;\r\n        _this.editorUi.addListener(PmfEvents.LockedChanged, function () {\r\n            _this.setEnabled(_this.isAlignActionEnabled(_this.editorUi.graph));\r\n        });\r\n        _this.editorUi.addListener(PmfEvents.SelectionModelChanged, function () {\r\n            _this.setEnabled(_this.isAlignActionEnabled(_this.editorUi.graph));\r\n        });\r\n        return _this;\r\n    }\r\n    AlignTopAction.prototype.execute = function (evt) {\r\n        var graph = this.editorUi.graph;\r\n        graph.alignCells(mxConstants.ALIGN_TOP);\r\n    };\r\n    AlignTopAction.prototype.isAlignActionEnabled = function (graph) {\r\n        return this.isUnlocked(graph) && this.isVertexSelected(graph) && graph.getSelectionCount() > 1;\r\n    };\r\n    AlignTopAction.prototype.isUnlocked = function (graph) {\r\n        var unlocked = graph.isEnabled() && !graph.isCellLocked(graph.getDefaultParent());\r\n        return unlocked;\r\n    };\r\n    AlignTopAction.prototype.isVertexSelected = function (graph) {\r\n        var vertexSelected = false;\r\n        var cells = graph.getSelectionCells();\r\n        if (cells != null) {\r\n            for (var i = 0; i < cells.length; i++) {\r\n                var cell = cells[i];\r\n                if (graph.getModel().isVertex(cell)) {\r\n                    vertexSelected = true;\r\n                }\r\n                if (vertexSelected) {\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        return vertexSelected;\r\n    };\r\n    return AlignTopAction;\r\n}(Action));\r\nexport { AlignTopAction };\r\n//# sourceMappingURL=AlignTopAction.js.map","import { __extends } from \"tslib\";\r\nimport { KeyCodes } from \"../../util/KeyCodes\";\r\nimport { PmfEvents } from \"../../util/PmfEvents\";\r\nimport { Action } from \"../Action\";\r\nimport { ActionKeys } from \"../ActionKeys\";\r\nvar AutosizeAction = /** @class */ (function (_super) {\r\n    __extends(AutosizeAction, _super);\r\n    function AutosizeAction(editorUi) {\r\n        var _this = _super.call(this, ActionKeys.pmf_autosize, editorUi, false) || this;\r\n        _this.shortcutControlKey = true;\r\n        _this.shortcutShiftKey = true;\r\n        _this.shortcutKeyCode = KeyCodes.Y;\r\n        _this.editorUi.addListener(PmfEvents.SelectionModelChanged, function () {\r\n            _this.setEnabled(_this.isVertexSelected(_this.editorUi.graph));\r\n        });\r\n        return _this;\r\n    }\r\n    AutosizeAction.prototype.execute = function (evt) {\r\n        var graph = this.editorUi.graph;\r\n        var cells = graph.getSelectionCells();\r\n        if (cells != null) {\r\n            graph.getModel().beginUpdate();\r\n            try {\r\n                for (var i = 0; i < cells.length; i++) {\r\n                    var cell = cells[i];\r\n                    if (graph.getModel().getChildCount(cell)) {\r\n                        graph.updateGroupBounds([cell], 20);\r\n                    }\r\n                    else {\r\n                        var state = graph.view.getState(cell);\r\n                        var geo = graph.getCellGeometry(cell);\r\n                        if (graph.getModel().isVertex(cell) && state != null && state.text != null &&\r\n                            geo != null && graph.isWrapping(cell)) {\r\n                            geo = geo.clone();\r\n                            geo.height = state.text.boundingBox.height / graph.view.scale;\r\n                            graph.getModel().setGeometry(cell, geo);\r\n                        }\r\n                        else {\r\n                            graph.updateCellSize(cell);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            finally {\r\n                graph.getModel().endUpdate();\r\n            }\r\n        }\r\n    };\r\n    AutosizeAction.prototype.isVertexSelected = function (graph) {\r\n        var vertexSelected = false;\r\n        var cells = graph.getSelectionCells();\r\n        if (cells != null) {\r\n            for (var i = 0; i < cells.length; i++) {\r\n                var cell = cells[i];\r\n                if (graph.getModel().isVertex(cell)) {\r\n                    vertexSelected = true;\r\n                }\r\n                if (vertexSelected) {\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        return vertexSelected;\r\n    };\r\n    return AutosizeAction;\r\n}(Action));\r\nexport { AutosizeAction };\r\n//# sourceMappingURL=AutosizeAction.js.map","import { __extends } from \"tslib\";\r\nimport { KeyCodes } from \"../../util/KeyCodes\";\r\nimport { PmfEvents } from \"../../util/PmfEvents\";\r\nimport { Action } from \"../Action\";\r\nimport { ActionKeys } from \"../ActionKeys\";\r\nvar ClearWaypointsAction = /** @class */ (function (_super) {\r\n    __extends(ClearWaypointsAction, _super);\r\n    function ClearWaypointsAction(editorUi) {\r\n        var _this = _super.call(this, ActionKeys.pmf_clearWaypoints, editorUi, false) || this;\r\n        _this.shortcutControlKey = false;\r\n        _this.shortcutShiftKey = true;\r\n        _this.shortcutAltKey = true;\r\n        _this.shortcutKeyCode = KeyCodes.C;\r\n        _this.editorUi.addListener(PmfEvents.SelectionModelChanged, function () {\r\n            var selected = !_this.editorUi.graph.isSelectionEmpty();\r\n            _this.setEnabled(selected);\r\n        });\r\n        return _this;\r\n    }\r\n    ClearWaypointsAction.prototype.execute = function (evt) {\r\n        var graph = this.editorUi.graph;\r\n        var cells = graph.getSelectionCells();\r\n        if (cells != null) {\r\n            cells = graph.addAllEdges(cells);\r\n            graph.getModel().beginUpdate();\r\n            try {\r\n                for (var i = 0; i < cells.length; i++) {\r\n                    var cell = cells[i];\r\n                    if (graph.getModel().isEdge(cell)) {\r\n                        var geo = graph.getCellGeometry(cell);\r\n                        if (geo != null) {\r\n                            geo = geo.clone();\r\n                            geo.points = null;\r\n                            graph.getModel().setGeometry(cell, geo);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            finally {\r\n                graph.getModel().endUpdate();\r\n            }\r\n        }\r\n    };\r\n    return ClearWaypointsAction;\r\n}(Action));\r\nexport { ClearWaypointsAction };\r\n//# sourceMappingURL=ClearWaypointsAction.js.map","import { __extends } from \"tslib\";\r\nimport { mxClipboard } from \"@edp-pmf/mxgraph-ts\";\r\nimport { KeyCodes } from \"../../util/KeyCodes\";\r\nimport { PmfEvents } from \"../../util/PmfEvents\";\r\nimport { Action } from \"../Action\";\r\nimport { ActionKeys } from \"../ActionKeys\";\r\nvar CopyAction = /** @class */ (function (_super) {\r\n    __extends(CopyAction, _super);\r\n    function CopyAction(editorUi) {\r\n        var _this = _super.call(this, ActionKeys.pmf_copy, editorUi, true) || this;\r\n        _this.shortcutControlKey = true;\r\n        _this.shortcutShiftKey = false;\r\n        _this.shortcutKeyCode = KeyCodes.C;\r\n        _this.editorUi.addListener(PmfEvents.SelectionModelChanged, function () {\r\n            var selected = !_this.editorUi.graph.isSelectionEmpty();\r\n            _this.setEnabled(selected);\r\n        });\r\n        return _this;\r\n    }\r\n    CopyAction.prototype.execute = function (evt) {\r\n        var graph = this.editorUi.graph;\r\n        mxClipboard.copy(graph);\r\n    };\r\n    return CopyAction;\r\n}(Action));\r\nexport { CopyAction };\r\n//# sourceMappingURL=CopyAction.js.map","import { __extends } from \"tslib\";\r\nimport { KeyCodes } from \"../../util/KeyCodes\";\r\nimport { PmfEvents } from \"../../util/PmfEvents\";\r\nimport { Action } from \"../Action\";\r\nimport { ActionKeys } from \"../ActionKeys\";\r\nvar CutAction = /** @class */ (function (_super) {\r\n    __extends(CutAction, _super);\r\n    function CutAction(editorUi) {\r\n        var _this = _super.call(this, ActionKeys.pmf_cut, editorUi, false) || this;\r\n        _this.shortcutControlKey = true;\r\n        _this.shortcutShiftKey = false;\r\n        _this.shortcutKeyCode = KeyCodes.X;\r\n        _this.editorUi.addListener(PmfEvents.SelectionModelChanged, function () {\r\n            var selected = !_this.editorUi.graph.isSelectionEmpty();\r\n            _this.setEnabled(selected);\r\n        });\r\n        return _this;\r\n    }\r\n    CutAction.prototype.execute = function (evt) {\r\n        var graph = this.editorUi.graph;\r\n        // mxClipboard.cut(graph);\r\n    };\r\n    return CutAction;\r\n}(Action));\r\nexport { CutAction };\r\n//# sourceMappingURL=CutAction.js.map","import { __extends } from \"tslib\";\r\nimport { KeyCodes } from \"../../util/KeyCodes\";\r\nimport { PmfEvents } from \"../../util/PmfEvents\";\r\nimport { Action } from \"../Action\";\r\nimport { ActionKeys } from \"../ActionKeys\";\r\nvar DeleteAction = /** @class */ (function (_super) {\r\n    __extends(DeleteAction, _super);\r\n    function DeleteAction(editorUi) {\r\n        var _this = _super.call(this, ActionKeys.pmf_delete, editorUi, true) || this;\r\n        _this.shortcutControlKey = false;\r\n        _this.shortcutShiftKey = false;\r\n        _this.shortcutKeyCode = KeyCodes.Del;\r\n        _this.editorUi.addListener(PmfEvents.SelectionModelChanged, function () {\r\n            var selected = !_this.editorUi.graph.isSelectionEmpty();\r\n            _this.setEnabled(selected);\r\n        });\r\n        return _this;\r\n    }\r\n    DeleteAction.prototype.execute = function (evt) {\r\n        var includeEdges = true;\r\n        var graph = this.editorUi.graph;\r\n        graph.escape();\r\n        var cells = graph.getDeletableCells(graph.getSelectionCells());\r\n        if (cells != null && cells.length > 0) {\r\n            var parents = graph.model.getParents(cells);\r\n            graph.removeCells(cells, includeEdges);\r\n            // Selects parents for easier editing of groups\r\n            if (parents != null) {\r\n                var select = [];\r\n                for (var i = 0; i < parents.length; i++) {\r\n                    if (graph.model.contains(parents[i]) && (graph.model.isVertex(parents[i]) || graph.model.isEdge(parents[i]))) {\r\n                        select.push(parents[i]);\r\n                    }\r\n                }\r\n                graph.setSelectionCells(select);\r\n            }\r\n        }\r\n    };\r\n    return DeleteAction;\r\n}(Action));\r\nexport { DeleteAction };\r\n//# sourceMappingURL=DeleteAction.js.map","import { __extends } from \"tslib\";\r\nimport { PmfEvents } from \"../../util/PmfEvents\";\r\nimport { Action } from \"../Action\";\r\nimport { ActionKeys } from \"../ActionKeys\";\r\nvar DistributeHorizontalAction = /** @class */ (function (_super) {\r\n    __extends(DistributeHorizontalAction, _super);\r\n    function DistributeHorizontalAction(editorUi) {\r\n        var _this = _super.call(this, ActionKeys.pmf_horizontal, editorUi, false) || this;\r\n        _this.editorUi.addListener(PmfEvents.LockedChanged, function () {\r\n            _this.setEnabled(_this.isAlignActionEnabled(_this.editorUi.graph));\r\n        });\r\n        _this.editorUi.addListener(PmfEvents.SelectionModelChanged, function () {\r\n            _this.setEnabled(_this.isAlignActionEnabled(_this.editorUi.graph));\r\n        });\r\n        return _this;\r\n    }\r\n    DistributeHorizontalAction.prototype.execute = function (evt) {\r\n        var graph = this.editorUi.graph;\r\n        graph.distributeCells(true);\r\n    };\r\n    DistributeHorizontalAction.prototype.isAlignActionEnabled = function (graph) {\r\n        return this.isUnlocked(graph) && this.isVertexSelected(graph) && graph.getSelectionCount() > 1;\r\n    };\r\n    DistributeHorizontalAction.prototype.isUnlocked = function (graph) {\r\n        var unlocked = graph.isEnabled() && !graph.isCellLocked(graph.getDefaultParent());\r\n        return unlocked;\r\n    };\r\n    DistributeHorizontalAction.prototype.isVertexSelected = function (graph) {\r\n        var vertexSelected = false;\r\n        var cells = graph.getSelectionCells();\r\n        if (cells != null) {\r\n            for (var i = 0; i < cells.length; i++) {\r\n                var cell = cells[i];\r\n                if (graph.getModel().isVertex(cell)) {\r\n                    vertexSelected = true;\r\n                }\r\n                if (vertexSelected) {\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        return vertexSelected;\r\n    };\r\n    return DistributeHorizontalAction;\r\n}(Action));\r\nexport { DistributeHorizontalAction };\r\n//# sourceMappingURL=DistributeHorizontalAction.js.map","import { __extends } from \"tslib\";\r\nimport { PmfEvents } from \"../../util/PmfEvents\";\r\nimport { Action } from \"../Action\";\r\nimport { ActionKeys } from \"../ActionKeys\";\r\nvar DistributeVerticalAction = /** @class */ (function (_super) {\r\n    __extends(DistributeVerticalAction, _super);\r\n    function DistributeVerticalAction(editorUi) {\r\n        var _this = _super.call(this, ActionKeys.pmf_vertical, editorUi, false) || this;\r\n        _this.editorUi.addListener(PmfEvents.LockedChanged, function () {\r\n            _this.setEnabled(_this.isAlignActionEnabled(_this.editorUi.graph));\r\n        });\r\n        _this.editorUi.addListener(PmfEvents.SelectionModelChanged, function () {\r\n            _this.setEnabled(_this.isAlignActionEnabled(_this.editorUi.graph));\r\n        });\r\n        return _this;\r\n    }\r\n    DistributeVerticalAction.prototype.execute = function (evt) {\r\n        var graph = this.editorUi.graph;\r\n        graph.distributeCells(false);\r\n    };\r\n    DistributeVerticalAction.prototype.isAlignActionEnabled = function (graph) {\r\n        return this.isUnlocked(graph) && this.isVertexSelected(graph) && graph.getSelectionCount() > 1;\r\n    };\r\n    DistributeVerticalAction.prototype.isUnlocked = function (graph) {\r\n        var unlocked = graph.isEnabled() && !graph.isCellLocked(graph.getDefaultParent());\r\n        return unlocked;\r\n    };\r\n    DistributeVerticalAction.prototype.isVertexSelected = function (graph) {\r\n        var vertexSelected = false;\r\n        var cells = graph.getSelectionCells();\r\n        if (cells != null) {\r\n            for (var i = 0; i < cells.length; i++) {\r\n                var cell = cells[i];\r\n                if (graph.getModel().isVertex(cell)) {\r\n                    vertexSelected = true;\r\n                }\r\n                if (vertexSelected) {\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        return vertexSelected;\r\n    };\r\n    return DistributeVerticalAction;\r\n}(Action));\r\nexport { DistributeVerticalAction };\r\n//# sourceMappingURL=DistributeVerticalAction.js.map","import { __extends } from \"tslib\";\r\nimport { KeyCodes } from \"../../util/KeyCodes\";\r\nimport { PmfEvents } from \"../../util/PmfEvents\";\r\nimport { Action } from \"../Action\";\r\nimport { ActionKeys } from \"../ActionKeys\";\r\nvar DuplicateAction = /** @class */ (function (_super) {\r\n    __extends(DuplicateAction, _super);\r\n    function DuplicateAction(editorUi) {\r\n        var _this = _super.call(this, ActionKeys.pmf_duplicate, editorUi, false) || this;\r\n        _this.shortcutControlKey = true;\r\n        _this.shortcutShiftKey = false;\r\n        _this.shortcutKeyCode = KeyCodes.D;\r\n        _this.editorUi.addListener(PmfEvents.SelectionModelChanged, function () {\r\n            var selected = !_this.editorUi.graph.isSelectionEmpty();\r\n            _this.setEnabled(selected);\r\n        });\r\n        return _this;\r\n    }\r\n    DuplicateAction.prototype.execute = function (evt) {\r\n        var graph = this.editorUi.graph;\r\n        var cells = graph.getSelectionCells();\r\n        var append = true;\r\n        cells = graph.model.getTopmostCells(cells);\r\n        var model = graph.getModel();\r\n        var s = graph.gridSize;\r\n        var select = [];\r\n        model.beginUpdate();\r\n        try {\r\n            var clones = graph.cloneCells(cells, false);\r\n            for (var i = 0; i < cells.length; i++) {\r\n                var parent_1 = model.getParent(cells[i]);\r\n                var child = graph.moveCells([clones[i]], s, s, false, parent_1)[0];\r\n                select.push(child);\r\n                if (append) {\r\n                    model.add(parent_1, clones[i]);\r\n                }\r\n                else {\r\n                    // Maintains child index by inserting after cloned in parent\r\n                    var index = parent_1.getIndex(cells[i]);\r\n                    model.add(parent_1, clones[i], index + 1);\r\n                }\r\n            }\r\n        }\r\n        finally {\r\n            model.endUpdate();\r\n        }\r\n        graph.setSelectionCells(select);\r\n    };\r\n    return DuplicateAction;\r\n}(Action));\r\nexport { DuplicateAction };\r\n//# sourceMappingURL=DuplicateAction.js.map","import { __extends } from \"tslib\";\r\nimport { KeyCodes } from \"../../util/KeyCodes\";\r\nimport { Action } from \"../Action\";\r\nimport { ActionKeys } from \"../ActionKeys\";\r\nvar FitWindowAction = /** @class */ (function (_super) {\r\n    __extends(FitWindowAction, _super);\r\n    function FitWindowAction(editorUi) {\r\n        var _this = _super.call(this, ActionKeys.pmf_fitWindow, editorUi, true) || this;\r\n        _this.shortcutControlKey = true;\r\n        _this.shortcutShiftKey = true;\r\n        _this.shortcutKeyCode = KeyCodes.H;\r\n        return _this;\r\n    }\r\n    FitWindowAction.prototype.execute = function (evt) {\r\n        this.editorUi.graph.fit(16);\r\n    };\r\n    return FitWindowAction;\r\n}(Action));\r\nexport { FitWindowAction };\r\n//# sourceMappingURL=FitWindowAction.js.map","import { __extends } from \"tslib\";\r\nimport { KeyCodes } from \"../../util/KeyCodes\";\r\nimport { Action } from \"../Action\";\r\nimport { ActionKeys } from \"../ActionKeys\";\r\nvar FormatPanelAction = /** @class */ (function (_super) {\r\n    __extends(FormatPanelAction, _super);\r\n    function FormatPanelAction(editorUi) {\r\n        var _this = _super.call(this, ActionKeys.pmf_formatPanel, editorUi, true) || this;\r\n        _this.shortcutControlKey = true;\r\n        _this.shortcutShiftKey = true;\r\n        _this.shortcutKeyCode = KeyCodes.P;\r\n        _this.setToggleAction(true);\r\n        return _this;\r\n    }\r\n    FormatPanelAction.prototype.isSelected = function () {\r\n        return this.editorUi.showFormat;\r\n    };\r\n    FormatPanelAction.prototype.execute = function (evt) {\r\n        this.editorUi.showFormat = !this.editorUi.showFormat;\r\n        this.editorUi.refresh();\r\n    };\r\n    return FormatPanelAction;\r\n}(Action));\r\nexport { FormatPanelAction };\r\n//# sourceMappingURL=FormatPanelAction.js.map","import { __extends } from \"tslib\";\r\nimport { Action } from \"../Action\";\r\nimport { ActionKeys } from \"../ActionKeys\";\r\nvar HelpAction = /** @class */ (function (_super) {\r\n    __extends(HelpAction, _super);\r\n    function HelpAction(editorUi) {\r\n        return _super.call(this, ActionKeys.pmf_help, editorUi, true) || this;\r\n    }\r\n    HelpAction.prototype.execute = function (evt) {\r\n        alert(this.key);\r\n    };\r\n    return HelpAction;\r\n}(Action));\r\nexport { HelpAction };\r\n//# sourceMappingURL=HelpAction.js.map","import { __extends } from \"tslib\";\r\nimport { mxConstants, mxEventObject } from \"@edp-pmf/mxgraph-ts\";\r\nimport { KeyCodes } from \"../../util/KeyCodes\";\r\nimport { PmfEvents } from \"../../util/PmfEvents\";\r\nimport { Action } from \"../Action\";\r\nimport { ActionKeys } from \"../ActionKeys\";\r\nvar LockUnlockAction = /** @class */ (function (_super) {\r\n    __extends(LockUnlockAction, _super);\r\n    function LockUnlockAction(editorUi) {\r\n        var _this = _super.call(this, ActionKeys.pmf_lockUnlock, editorUi, false) || this;\r\n        _this.shortcutControlKey = true;\r\n        _this.shortcutShiftKey = false;\r\n        _this.shortcutKeyCode = KeyCodes.L;\r\n        _this.editorUi.addListener(PmfEvents.SelectionModelChanged, function () {\r\n            var selected = !_this.editorUi.graph.isSelectionEmpty();\r\n            _this.setEnabled(selected);\r\n        });\r\n        return _this;\r\n    }\r\n    LockUnlockAction.prototype.execute = function (evt) {\r\n        var graph = this.editorUi.graph;\r\n        if (!graph.isSelectionEmpty()) {\r\n            graph.getModel().beginUpdate();\r\n            try {\r\n                var defaultValue = graph.isCellMovable(graph.getSelectionCell()) ? 1 : 0;\r\n                graph.toggleCellStyles(mxConstants.STYLE_MOVABLE, defaultValue);\r\n                graph.toggleCellStyles(mxConstants.STYLE_RESIZABLE, defaultValue);\r\n                graph.toggleCellStyles(mxConstants.STYLE_ROTATABLE, defaultValue);\r\n                graph.toggleCellStyles(mxConstants.STYLE_DELETABLE, defaultValue);\r\n                graph.toggleCellStyles(mxConstants.STYLE_EDITABLE, defaultValue);\r\n                graph.toggleCellStyles('connectable', defaultValue);\r\n            }\r\n            finally {\r\n                graph.getModel().endUpdate();\r\n                this.editorUi.fireEvent(new mxEventObject(PmfEvents.LockedChanged));\r\n            }\r\n        }\r\n    };\r\n    return LockUnlockAction;\r\n}(Action));\r\nexport { LockUnlockAction };\r\n//# sourceMappingURL=LockUnlockAction.js.map","import { ActionKeys } from \"../action/ActionKeys\";\r\nimport { mxWindow, mxResources, mxEvent, mxOutline, mxUtils, mxConstants } from \"@edp-pmf/mxgraph-ts\";\r\nimport { PmfEvents } from \"../util/PmfEvents\";\r\n/**\r\n * mxgraph弹窗类\r\n */\r\nvar OutlineWindow = /** @class */ (function () {\r\n    function OutlineWindow(editorUi, x, y, w, h) {\r\n        var _this = this;\r\n        var graph = editorUi.graph;\r\n        var div = document.createElement('div');\r\n        div.style.position = 'absolute';\r\n        div.style.width = '100%';\r\n        div.style.height = '100%';\r\n        div.style.border = '1px solid whiteSmoke';\r\n        div.style.overflow = 'hidden';\r\n        this.window = new mxWindow(mxResources.get('outline'), div, x, y, w, h, true, true);\r\n        this.window.destroyOnClose = false;\r\n        this.window.setMaximizable(false);\r\n        this.window.setResizable(true);\r\n        this.window.setClosable(true);\r\n        this.window.setVisible(true);\r\n        this.window.setLocation = function (x, y) {\r\n            var iw = window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth;\r\n            var ih = window.innerHeight || document.documentElement.clientHeight || document.body.clientHeight;\r\n            x = Math.max(0, Math.min(x, iw - _this.window.table.clientWidth));\r\n            y = Math.max(0, Math.min(y, ih - _this.window.table.clientHeight - 48));\r\n            if (_this.window.getX() != x || _this.window.getY() != y) {\r\n                mxWindow.prototype.setLocation.apply(_this.window, [x, y]);\r\n            }\r\n        };\r\n        mxEvent.addListener(window, 'resize', function () {\r\n            var x = _this.window.getX();\r\n            var y = _this.window.getY();\r\n            _this.window.setLocation(x, y);\r\n        });\r\n        var outline = new mxOutline(editorUi.graph);\r\n        outline.border = 20;\r\n        mxEvent.addListener(window, 'resize', function () {\r\n            outline.update();\r\n        });\r\n        editorUi.addListener('pageFormatChanged', function () {\r\n            outline.update();\r\n        });\r\n        editorUi.addListener(PmfEvents.ResizeGraphView, function () {\r\n            outline.update();\r\n        });\r\n        this.window.addListener(mxEvent.RESIZE, function () {\r\n            outline.update(false);\r\n            outline.outline.sizeDidChange();\r\n        });\r\n        this.window.addListener(mxEvent.SHOW, function () {\r\n            outline.suspended = false;\r\n            outline.outline.refresh();\r\n            outline.update();\r\n        });\r\n        this.window.addListener(mxEvent.HIDE, function () {\r\n            outline.suspended = true;\r\n        });\r\n        this.window.addListener(mxEvent.NORMALIZE, function () {\r\n            outline.suspended = false;\r\n            outline.update();\r\n        });\r\n        this.window.addListener(mxEvent.MINIMIZE, function () {\r\n            outline.suspended = true;\r\n        });\r\n        var outlineCreateGraph = outline.createGraph;\r\n        outline.createGraph = function (container) {\r\n            var g = outlineCreateGraph.apply(outline, [container]);\r\n            g.gridEnabled = false;\r\n            g.pageScale = graph.pageScale;\r\n            g.pageFormat = graph.pageFormat;\r\n            g.background = graph.background;\r\n            g.pageVisible = graph.pageVisible;\r\n            var current = mxUtils.getCurrentStyle(graph.container);\r\n            div.style.backgroundColor = current.backgroundColor;\r\n            return g;\r\n        };\r\n        var update = function () {\r\n            outline.outline.pageScale = graph.pageScale;\r\n            outline.outline.pageFormat = graph.pageFormat;\r\n            outline.outline.pageVisible = graph.pageVisible;\r\n            outline.outline.background = graph.background;\r\n            var current = mxUtils.getCurrentStyle(graph.container);\r\n            div.style.backgroundColor = current.backgroundColor;\r\n            if (graph.view.backgroundPageShape != null && outline.outline.view.backgroundPageShape != null) {\r\n                outline.outline.view.backgroundPageShape.fill = graph.view.backgroundPageShape.fill;\r\n            }\r\n            outline.outline.refresh();\r\n        };\r\n        outline.init(div);\r\n        editorUi.addListener('resetGraphView', update);\r\n        editorUi.addListener('pageFormatChanged', update);\r\n        editorUi.addListener('backgroundColorChanged', update);\r\n        editorUi.addListener('backgroundImageChanged', update);\r\n        editorUi.addListener('pageViewChanged', function () {\r\n            update();\r\n            outline.update(true);\r\n        });\r\n        if (outline.outline.dialect == mxConstants.DIALECT_SVG) {\r\n            var zoomInAction_1 = editorUi.actions.getAction(ActionKeys.pmf_zoomIn);\r\n            var zoomOutAction_1 = editorUi.actions.getAction(ActionKeys.pmf_zoomOut);\r\n            mxEvent.addMouseWheelListener(function (evt, up) {\r\n                var outlineWheel = false;\r\n                var source = mxEvent.getSource(evt);\r\n                while (source != null) {\r\n                    if (source == outline.outline.view.canvas.ownerSVGElement) {\r\n                        outlineWheel = true;\r\n                        break;\r\n                    }\r\n                    source = source.parentNode;\r\n                }\r\n                if (outlineWheel) {\r\n                    if (up) {\r\n                        zoomInAction_1.execute();\r\n                    }\r\n                    else {\r\n                        zoomOutAction_1.execute();\r\n                    }\r\n                    mxEvent.consume(evt);\r\n                }\r\n            });\r\n        }\r\n    }\r\n    return OutlineWindow;\r\n}());\r\nexport { OutlineWindow };\r\n//# sourceMappingURL=OutlineWindow.js.map","import { __extends } from \"tslib\";\r\nimport { mxEventObject } from \"@edp-pmf/mxgraph-ts\";\r\nimport { OutlineWindow } from \"../../ui/OutlineWindow\";\r\nimport { KeyCodes } from \"../../util/KeyCodes\";\r\nimport { Action } from \"../Action\";\r\nimport { ActionKeys } from \"../ActionKeys\";\r\nvar OutlineAction = /** @class */ (function (_super) {\r\n    __extends(OutlineAction, _super);\r\n    function OutlineAction(editorUi) {\r\n        var _this = _super.call(this, ActionKeys.pmf_outline, editorUi, true) || this;\r\n        _this.shortcutControlKey = true;\r\n        _this.shortcutShiftKey = true;\r\n        _this.shortcutKeyCode = KeyCodes.O;\r\n        _this.setToggleAction(true);\r\n        return _this;\r\n    }\r\n    OutlineAction.prototype.isSelected = function () {\r\n        if (this.outlineWindow == null)\r\n            return false;\r\n        return this.outlineWindow.window.isVisible();\r\n    };\r\n    OutlineAction.prototype.execute = function (evt) {\r\n        var _this = this;\r\n        if (this.outlineWindow == null) {\r\n            // LATER: Check layers window for initial placement\r\n            this.outlineWindow = new OutlineWindow(this.editorUi, document.body.offsetWidth - 260, 100, 180, 180);\r\n            this.outlineWindow.window.addListener('show', function () {\r\n                _this.editorUi.fireEvent(new mxEventObject('outline'));\r\n            });\r\n            this.outlineWindow.window.addListener('hide', function () {\r\n                _this.editorUi.fireEvent(new mxEventObject('outline'));\r\n            });\r\n            this.outlineWindow.window.setVisible(true);\r\n            this.editorUi.fireEvent(new mxEventObject('outline'));\r\n        }\r\n        else {\r\n            this.outlineWindow.window.setVisible(!this.outlineWindow.window.isVisible());\r\n        }\r\n    };\r\n    return OutlineAction;\r\n}(Action));\r\nexport { OutlineAction };\r\n//# sourceMappingURL=OutlineAction.js.map","import { __extends } from \"tslib\";\r\nimport { mxClipboard } from \"@edp-pmf/mxgraph-ts\";\r\nimport { KeyCodes } from \"../../util/KeyCodes\";\r\nimport { Action } from \"../Action\";\r\nimport { ActionKeys } from \"../ActionKeys\";\r\nvar PasteAction = /** @class */ (function (_super) {\r\n    __extends(PasteAction, _super);\r\n    function PasteAction(editorUi) {\r\n        var _this = _super.call(this, ActionKeys.pmf_paste, editorUi, true) || this;\r\n        _this.shortcutControlKey = true;\r\n        _this.shortcutShiftKey = false;\r\n        _this.shortcutKeyCode = KeyCodes.V;\r\n        return _this;\r\n    }\r\n    PasteAction.prototype.execute = function (evt) {\r\n        var graph = this.editorUi.graph;\r\n        if (graph.isEnabled() && !graph.isCellLocked(graph.getDefaultParent())) {\r\n            mxClipboard.paste(graph);\r\n        }\r\n    };\r\n    return PasteAction;\r\n}(Action));\r\nexport { PasteAction };\r\n//# sourceMappingURL=PasteAction.js.map","import { __extends } from \"tslib\";\r\nimport { KeyCodes } from \"../../util/KeyCodes\";\r\nimport { Action } from \"../Action\";\r\nimport { ActionKeys } from \"../ActionKeys\";\r\nvar RedoAction = /** @class */ (function (_super) {\r\n    __extends(RedoAction, _super);\r\n    function RedoAction(editorUi) {\r\n        var _this = _super.call(this, ActionKeys.pmf_redo, editorUi, false) || this;\r\n        _this.shortcutControlKey = true;\r\n        _this.shortcutShiftKey = false;\r\n        _this.shortcutKeyCode = KeyCodes.Y;\r\n        return _this;\r\n    }\r\n    RedoAction.prototype.execute = function (evt) {\r\n        alert(this.key);\r\n    };\r\n    return RedoAction;\r\n}(Action));\r\nexport { RedoAction };\r\n//# sourceMappingURL=RedoAction.js.map","import { __extends } from \"tslib\";\r\nimport { KeyCodes } from \"../../util/KeyCodes\";\r\nimport { Action } from \"../Action\";\r\nimport { ActionKeys } from \"../ActionKeys\";\r\nvar ResetViewAction = /** @class */ (function (_super) {\r\n    __extends(ResetViewAction, _super);\r\n    function ResetViewAction(editorUi) {\r\n        var _this = _super.call(this, ActionKeys.pmf_resetView, editorUi, true) || this;\r\n        _this.shortcutControlKey = true;\r\n        _this.shortcutShiftKey = false;\r\n        _this.shortcutKeyCode = KeyCodes.H;\r\n        return _this;\r\n    }\r\n    ResetViewAction.prototype.execute = function (evt) {\r\n        this.editorUi.graph.zoomTo(1);\r\n        this.editorUi.resetScrollbars();\r\n    };\r\n    return ResetViewAction;\r\n}(Action));\r\nexport { ResetViewAction };\r\n//# sourceMappingURL=ResetViewAction.js.map","import { __extends } from \"tslib\";\r\nimport { KeyCodes } from \"../../util/KeyCodes\";\r\nimport { PmfEvents } from \"../../util/PmfEvents\";\r\nimport { Action } from \"../Action\";\r\nimport { ActionKeys } from \"../ActionKeys\";\r\nvar SelectAllAction = /** @class */ (function (_super) {\r\n    __extends(SelectAllAction, _super);\r\n    function SelectAllAction(editorUi) {\r\n        var _this = _super.call(this, ActionKeys.pmf_selectAll, editorUi, true) || this;\r\n        _this.shortcutControlKey = true;\r\n        _this.shortcutShiftKey = false;\r\n        _this.shortcutKeyCode = KeyCodes.A;\r\n        _this.editorUi.addListener(PmfEvents.LockedChanged, function () {\r\n            var graph = _this.editorUi.graph;\r\n            var unlocked = graph.isEnabled() && !graph.isCellLocked(graph.getDefaultParent());\r\n            _this.setEnabled(unlocked);\r\n        });\r\n        return _this;\r\n    }\r\n    SelectAllAction.prototype.execute = function (evt) {\r\n        var graph = this.editorUi.graph;\r\n        graph.selectAll(null, true);\r\n    };\r\n    return SelectAllAction;\r\n}(Action));\r\nexport { SelectAllAction };\r\n//# sourceMappingURL=SelectAllAction.js.map","import { __extends } from \"tslib\";\r\nimport { KeyCodes } from \"../../util/KeyCodes\";\r\nimport { PmfEvents } from \"../../util/PmfEvents\";\r\nimport { Action } from \"../Action\";\r\nimport { ActionKeys } from \"../ActionKeys\";\r\nvar SelectEdgesAction = /** @class */ (function (_super) {\r\n    __extends(SelectEdgesAction, _super);\r\n    function SelectEdgesAction(editorUi) {\r\n        var _this = _super.call(this, ActionKeys.pmf_selectEdges, editorUi, true) || this;\r\n        _this.shortcutControlKey = true;\r\n        _this.shortcutShiftKey = true;\r\n        _this.shortcutKeyCode = KeyCodes.E;\r\n        _this.editorUi.addListener(PmfEvents.LockedChanged, function () {\r\n            var graph = _this.editorUi.graph;\r\n            var unlocked = graph.isEnabled() && !graph.isCellLocked(graph.getDefaultParent());\r\n            _this.setEnabled(unlocked);\r\n        });\r\n        return _this;\r\n    }\r\n    SelectEdgesAction.prototype.execute = function (evt) {\r\n        var graph = this.editorUi.graph;\r\n        graph.selectEdges();\r\n    };\r\n    return SelectEdgesAction;\r\n}(Action));\r\nexport { SelectEdgesAction };\r\n//# sourceMappingURL=SelectEdgesAction.js.map","import { __extends } from \"tslib\";\r\nimport { KeyCodes } from \"../../util/KeyCodes\";\r\nimport { PmfEvents } from \"../../util/PmfEvents\";\r\nimport { Action } from \"../Action\";\r\nimport { ActionKeys } from \"../ActionKeys\";\r\nvar SelectNoneAction = /** @class */ (function (_super) {\r\n    __extends(SelectNoneAction, _super);\r\n    function SelectNoneAction(editorUi) {\r\n        var _this = _super.call(this, ActionKeys.pmf_selectNone, editorUi, true) || this;\r\n        _this.shortcutControlKey = true;\r\n        _this.shortcutShiftKey = true;\r\n        _this.shortcutKeyCode = KeyCodes.A;\r\n        _this.editorUi.addListener(PmfEvents.LockedChanged, function () {\r\n            var graph = _this.editorUi.graph;\r\n            var unlocked = graph.isEnabled() && !graph.isCellLocked(graph.getDefaultParent());\r\n            _this.setEnabled(unlocked);\r\n        });\r\n        return _this;\r\n    }\r\n    SelectNoneAction.prototype.execute = function (evt) {\r\n        var graph = this.editorUi.graph;\r\n        graph.clearSelection();\r\n    };\r\n    return SelectNoneAction;\r\n}(Action));\r\nexport { SelectNoneAction };\r\n//# sourceMappingURL=SelectNoneAction.js.map","import { __extends } from \"tslib\";\r\nimport { KeyCodes } from \"../../util/KeyCodes\";\r\nimport { PmfEvents } from \"../../util/PmfEvents\";\r\nimport { Action } from \"../Action\";\r\nimport { ActionKeys } from \"../ActionKeys\";\r\nvar SelectVerticesAction = /** @class */ (function (_super) {\r\n    __extends(SelectVerticesAction, _super);\r\n    function SelectVerticesAction(editorUi) {\r\n        var _this = _super.call(this, ActionKeys.pmf_selectVertices, editorUi, true) || this;\r\n        _this.shortcutControlKey = true;\r\n        _this.shortcutShiftKey = true;\r\n        _this.shortcutKeyCode = KeyCodes.I;\r\n        _this.editorUi.addListener(PmfEvents.LockedChanged, function () {\r\n            var graph = _this.editorUi.graph;\r\n            var unlocked = graph.isEnabled() && !graph.isCellLocked(graph.getDefaultParent());\r\n            _this.setEnabled(unlocked);\r\n        });\r\n        return _this;\r\n    }\r\n    SelectVerticesAction.prototype.execute = function (evt) {\r\n        var graph = this.editorUi.graph;\r\n        graph.selectVertices();\r\n    };\r\n    return SelectVerticesAction;\r\n}(Action));\r\nexport { SelectVerticesAction };\r\n//# sourceMappingURL=SelectVerticesAction.js.map","import { __extends } from \"tslib\";\r\nimport { KeyCodes } from \"../../util/KeyCodes\";\r\nimport { PmfEvents } from \"../../util/PmfEvents\";\r\nimport { Action } from \"../Action\";\r\nimport { ActionKeys } from \"../ActionKeys\";\r\nvar ToBackAction = /** @class */ (function (_super) {\r\n    __extends(ToBackAction, _super);\r\n    function ToBackAction(editorUi) {\r\n        var _this = _super.call(this, ActionKeys.pmf_toBack, editorUi, false) || this;\r\n        _this.shortcutControlKey = true;\r\n        _this.shortcutShiftKey = true;\r\n        _this.shortcutKeyCode = KeyCodes.B;\r\n        _this.editorUi.addListener(PmfEvents.SelectionModelChanged, function () {\r\n            var selected = !_this.editorUi.graph.isSelectionEmpty();\r\n            _this.setEnabled(selected);\r\n        });\r\n        return _this;\r\n    }\r\n    ToBackAction.prototype.execute = function (evt) {\r\n        var graph = this.editorUi.graph;\r\n        graph.orderCells(true);\r\n    };\r\n    return ToBackAction;\r\n}(Action));\r\nexport { ToBackAction };\r\n//# sourceMappingURL=ToBackAction.js.map","import { __extends } from \"tslib\";\r\nimport { KeyCodes } from \"../../util/KeyCodes\";\r\nimport { PmfEvents } from \"../../util/PmfEvents\";\r\nimport { Action } from \"../Action\";\r\nimport { ActionKeys } from \"../ActionKeys\";\r\nvar ToFrontAction = /** @class */ (function (_super) {\r\n    __extends(ToFrontAction, _super);\r\n    function ToFrontAction(editorUi) {\r\n        var _this = _super.call(this, ActionKeys.pmf_toFront, editorUi, false) || this;\r\n        _this.shortcutControlKey = true;\r\n        _this.shortcutShiftKey = true;\r\n        _this.shortcutKeyCode = KeyCodes.F;\r\n        _this.editorUi.addListener(PmfEvents.SelectionModelChanged, function () {\r\n            var selected = !_this.editorUi.graph.isSelectionEmpty();\r\n            _this.setEnabled(selected);\r\n        });\r\n        return _this;\r\n    }\r\n    ToFrontAction.prototype.execute = function (evt) {\r\n        var graph = this.editorUi.graph;\r\n        graph.orderCells(false);\r\n    };\r\n    return ToFrontAction;\r\n}(Action));\r\nexport { ToFrontAction };\r\n//# sourceMappingURL=ToFrontAction.js.map","import { __extends } from \"tslib\";\r\nimport { KeyCodes } from \"../../util/KeyCodes\";\r\nimport { Action } from \"../Action\";\r\nimport { ActionKeys } from \"../ActionKeys\";\r\nvar UndoAction = /** @class */ (function (_super) {\r\n    __extends(UndoAction, _super);\r\n    function UndoAction(editorUi) {\r\n        var _this = _super.call(this, ActionKeys.pmf_undo, editorUi, false) || this;\r\n        _this.shortcutControlKey = true;\r\n        _this.shortcutShiftKey = false;\r\n        _this.shortcutKeyCode = KeyCodes.Z;\r\n        return _this;\r\n    }\r\n    UndoAction.prototype.execute = function (evt) {\r\n        alert(this.key);\r\n    };\r\n    return UndoAction;\r\n}(Action));\r\nexport { UndoAction };\r\n//# sourceMappingURL=UndoAction.js.map","import { __extends } from \"tslib\";\r\nimport { KeyCodes } from \"../../util/KeyCodes\";\r\nimport { Action } from \"../Action\";\r\nimport { ActionKeys } from \"../ActionKeys\";\r\nvar ViewGridAction = /** @class */ (function (_super) {\r\n    __extends(ViewGridAction, _super);\r\n    function ViewGridAction(editorUi) {\r\n        var _this = _super.call(this, ActionKeys.pmf_grid, editorUi, true) || this;\r\n        _this.shortcutControlKey = true;\r\n        _this.shortcutShiftKey = true;\r\n        _this.shortcutKeyCode = KeyCodes.G;\r\n        _this.setToggleAction(true);\r\n        return _this;\r\n    }\r\n    ViewGridAction.prototype.isSelected = function () {\r\n        return this.editorUi.graph.isGridEnabled();\r\n    };\r\n    ViewGridAction.prototype.execute = function (evt) {\r\n        var graph = this.editorUi.graph;\r\n        graph.setGridEnabled(!graph.isGridEnabled());\r\n        graph.refresh();\r\n    };\r\n    return ViewGridAction;\r\n}(Action));\r\nexport { ViewGridAction };\r\n//# sourceMappingURL=ViewGridAction.js.map","import { __extends } from \"tslib\";\r\nimport { KeyCodes } from \"../../util/KeyCodes\";\r\nimport { Action } from \"../Action\";\r\nimport { ActionKeys } from \"../ActionKeys\";\r\nvar View_100_Action = /** @class */ (function (_super) {\r\n    __extends(View_100_Action, _super);\r\n    function View_100_Action(editorUi) {\r\n        var _this = _super.call(this, ActionKeys.pmf_view_100, editorUi, true) || this;\r\n        _this.shortcutControlKey = true;\r\n        _this.shortcutShiftKey = false;\r\n        _this.shortcutAltKey = true;\r\n        _this.shortcutKeyCode = KeyCodes._0;\r\n        return _this;\r\n    }\r\n    View_100_Action.prototype.execute = function (evt) {\r\n        this.editorUi.graph.zoomTo(1);\r\n    };\r\n    return View_100_Action;\r\n}(Action));\r\nexport { View_100_Action };\r\n//# sourceMappingURL=View_100_Action.js.map","import { __extends } from \"tslib\";\r\nimport { Action } from \"../Action\";\r\nimport { ActionKeys } from \"../ActionKeys\";\r\nvar View_125_Action = /** @class */ (function (_super) {\r\n    __extends(View_125_Action, _super);\r\n    function View_125_Action(editorUi) {\r\n        return _super.call(this, ActionKeys.pmf_view_125, editorUi, true) || this;\r\n    }\r\n    View_125_Action.prototype.execute = function (evt) {\r\n        this.editorUi.graph.zoomTo(1.25);\r\n    };\r\n    return View_125_Action;\r\n}(Action));\r\nexport { View_125_Action };\r\n//# sourceMappingURL=View_125_Action.js.map","import { __extends } from \"tslib\";\r\nimport { Action } from \"../Action\";\r\nimport { ActionKeys } from \"../ActionKeys\";\r\nvar View_150_Action = /** @class */ (function (_super) {\r\n    __extends(View_150_Action, _super);\r\n    function View_150_Action(editorUi) {\r\n        return _super.call(this, ActionKeys.pmf_view_150, editorUi, true) || this;\r\n    }\r\n    View_150_Action.prototype.execute = function (evt) {\r\n        this.editorUi.graph.zoomTo(1.5);\r\n    };\r\n    return View_150_Action;\r\n}(Action));\r\nexport { View_150_Action };\r\n//# sourceMappingURL=View_150_Action.js.map","import { __extends } from \"tslib\";\r\nimport { Action } from \"../Action\";\r\nimport { ActionKeys } from \"../ActionKeys\";\r\nvar View_200_Action = /** @class */ (function (_super) {\r\n    __extends(View_200_Action, _super);\r\n    function View_200_Action(editorUi) {\r\n        return _super.call(this, ActionKeys.pmf_view_200, editorUi, true) || this;\r\n    }\r\n    View_200_Action.prototype.execute = function (evt) {\r\n        this.editorUi.graph.zoomTo(2);\r\n    };\r\n    return View_200_Action;\r\n}(Action));\r\nexport { View_200_Action };\r\n//# sourceMappingURL=View_200_Action.js.map","import { __extends } from \"tslib\";\r\nimport { Action } from \"../Action\";\r\nimport { ActionKeys } from \"../ActionKeys\";\r\nvar View_25_Action = /** @class */ (function (_super) {\r\n    __extends(View_25_Action, _super);\r\n    function View_25_Action(editorUi) {\r\n        return _super.call(this, ActionKeys.pmf_view_25, editorUi, true) || this;\r\n    }\r\n    View_25_Action.prototype.execute = function (evt) {\r\n        this.editorUi.graph.zoomTo(0.25);\r\n    };\r\n    return View_25_Action;\r\n}(Action));\r\nexport { View_25_Action };\r\n//# sourceMappingURL=View_25_Action.js.map","import { __extends } from \"tslib\";\r\nimport { Action } from \"../Action\";\r\nimport { ActionKeys } from \"../ActionKeys\";\r\nvar View_300_Action = /** @class */ (function (_super) {\r\n    __extends(View_300_Action, _super);\r\n    function View_300_Action(editorUi) {\r\n        return _super.call(this, ActionKeys.pmf_view_300, editorUi, true) || this;\r\n    }\r\n    View_300_Action.prototype.execute = function (evt) {\r\n        this.editorUi.graph.zoomTo(3);\r\n    };\r\n    return View_300_Action;\r\n}(Action));\r\nexport { View_300_Action };\r\n//# sourceMappingURL=View_300_Action.js.map","import { __extends } from \"tslib\";\r\nimport { Action } from \"../Action\";\r\nimport { ActionKeys } from \"../ActionKeys\";\r\nvar View_400_Action = /** @class */ (function (_super) {\r\n    __extends(View_400_Action, _super);\r\n    function View_400_Action(editorUi) {\r\n        return _super.call(this, ActionKeys.pmf_view_400, editorUi, true) || this;\r\n    }\r\n    View_400_Action.prototype.execute = function (evt) {\r\n        this.editorUi.graph.zoomTo(4);\r\n    };\r\n    return View_400_Action;\r\n}(Action));\r\nexport { View_400_Action };\r\n//# sourceMappingURL=View_400_Action.js.map","import { __extends } from \"tslib\";\r\nimport { Action } from \"../Action\";\r\nimport { ActionKeys } from \"../ActionKeys\";\r\nvar View_50_Action = /** @class */ (function (_super) {\r\n    __extends(View_50_Action, _super);\r\n    function View_50_Action(editorUi) {\r\n        return _super.call(this, ActionKeys.pmf_view_50, editorUi, true) || this;\r\n    }\r\n    View_50_Action.prototype.execute = function (evt) {\r\n        this.editorUi.graph.zoomTo(0.5);\r\n    };\r\n    return View_50_Action;\r\n}(Action));\r\nexport { View_50_Action };\r\n//# sourceMappingURL=View_50_Action.js.map","import { __extends } from \"tslib\";\r\nimport { Action } from \"../Action\";\r\nimport { ActionKeys } from \"../ActionKeys\";\r\nvar View_75_Action = /** @class */ (function (_super) {\r\n    __extends(View_75_Action, _super);\r\n    function View_75_Action(editorUi) {\r\n        return _super.call(this, ActionKeys.pmf_view_75, editorUi, true) || this;\r\n    }\r\n    View_75_Action.prototype.execute = function (evt) {\r\n        this.editorUi.graph.zoomTo(0.75);\r\n    };\r\n    return View_75_Action;\r\n}(Action));\r\nexport { View_75_Action };\r\n//# sourceMappingURL=View_75_Action.js.map","import { __extends } from \"tslib\";\r\nimport { KeyCodes } from \"../../util/KeyCodes\";\r\nimport { Action } from \"../Action\";\r\nimport { ActionKeys } from \"../ActionKeys\";\r\nvar ZoomInAction = /** @class */ (function (_super) {\r\n    __extends(ZoomInAction, _super);\r\n    function ZoomInAction(editorUi) {\r\n        var _this = _super.call(this, ActionKeys.pmf_zoomIn, editorUi, true) || this;\r\n        _this.shortcutControlKey = true;\r\n        _this.shortcutShiftKey = false;\r\n        _this.shortcutAltKey = true;\r\n        _this.shortcutKeyCode = KeyCodes.Plus;\r\n        return _this;\r\n    }\r\n    ZoomInAction.prototype.execute = function (evt) {\r\n        this.editorUi.graph.zoomIn();\r\n    };\r\n    return ZoomInAction;\r\n}(Action));\r\nexport { ZoomInAction };\r\n//# sourceMappingURL=ZoomInAction.js.map","import { __extends } from \"tslib\";\r\nimport { KeyCodes } from \"../../util/KeyCodes\";\r\nimport { Action } from \"../Action\";\r\nimport { ActionKeys } from \"../ActionKeys\";\r\nvar ZoomOutAction = /** @class */ (function (_super) {\r\n    __extends(ZoomOutAction, _super);\r\n    function ZoomOutAction(editorUi) {\r\n        var _this = _super.call(this, ActionKeys.pmf_zoomOut, editorUi, true) || this;\r\n        _this.shortcutControlKey = true;\r\n        _this.shortcutShiftKey = false;\r\n        _this.shortcutAltKey = true;\r\n        _this.shortcutKeyCode = KeyCodes.Minus;\r\n        return _this;\r\n    }\r\n    ZoomOutAction.prototype.execute = function (evt) {\r\n        this.editorUi.graph.zoomOut();\r\n    };\r\n    return ZoomOutAction;\r\n}(Action));\r\nexport { ZoomOutAction };\r\n//# sourceMappingURL=ZoomOutAction.js.map","import { AboutAction } from \"./impl/AboutAction\";\r\nimport { AlignBottomAction } from \"./impl/AlignBottomAction\";\r\nimport { AlignCenterAction } from \"./impl/AlignCenterAction\";\r\nimport { AlignLeftAction } from \"./impl/AlignLeftAction\";\r\nimport { AlignMiddleAction } from \"./impl/AlignMiddleAction\";\r\nimport { AlignRightAction } from \"./impl/AlignRightAction\";\r\nimport { AlignTopAction } from \"./impl/AlignTopAction\";\r\nimport { AutosizeAction } from \"./impl/AutosizeAction\";\r\nimport { ClearWaypointsAction } from \"./impl/ClearWaypointsAction\";\r\nimport { CopyAction } from \"./impl/CopyAction\";\r\nimport { CutAction } from \"./impl/CutAction\";\r\nimport { DeleteAction } from \"./impl/DeleteAction\";\r\nimport { DistributeHorizontalAction } from \"./impl/DistributeHorizontalAction\";\r\nimport { DistributeVerticalAction } from \"./impl/DistributeVerticalAction\";\r\nimport { DuplicateAction } from \"./impl/DuplicateAction\";\r\nimport { FitWindowAction } from \"./impl/FitWindowAction\";\r\nimport { FormatPanelAction } from \"./impl/FormatPanelAction\";\r\nimport { HelpAction } from \"./impl/HelpAction\";\r\nimport { LockUnlockAction } from \"./impl/LockUnlockAction\";\r\nimport { OutlineAction } from \"./impl/OutlineAction\";\r\nimport { PasteAction } from \"./impl/PasteAction\";\r\nimport { RedoAction } from \"./impl/RedoAction\";\r\nimport { ResetViewAction } from \"./impl/ResetViewAction\";\r\nimport { SelectAllAction } from \"./impl/SelectAllAction\";\r\nimport { SelectEdgesAction } from \"./impl/SelectEdgesAction\";\r\nimport { SelectNoneAction } from \"./impl/SelectNoneAction\";\r\nimport { SelectVerticesAction } from \"./impl/SelectVerticesAction\";\r\nimport { ToBackAction } from \"./impl/ToBackAction\";\r\nimport { ToFrontAction } from \"./impl/ToFrontAction\";\r\nimport { UndoAction } from \"./impl/UndoAction\";\r\nimport { ViewGridAction } from \"./impl/ViewGridAction\";\r\nimport { View_100_Action } from \"./impl/View_100_Action\";\r\nimport { View_125_Action } from \"./impl/View_125_Action\";\r\nimport { View_150_Action } from \"./impl/View_150_Action\";\r\nimport { View_200_Action } from \"./impl/View_200_Action\";\r\nimport { View_25_Action } from \"./impl/View_25_Action\";\r\nimport { View_300_Action } from \"./impl/View_300_Action\";\r\nimport { View_400_Action } from \"./impl/View_400_Action\";\r\nimport { View_50_Action } from \"./impl/View_50_Action\";\r\nimport { View_75_Action } from \"./impl/View_75_Action\";\r\nimport { ZoomInAction } from \"./impl/ZoomInAction\";\r\nimport { ZoomOutAction } from \"./impl/ZoomOutAction\";\r\n/**\r\n * 动作列表类\r\n */\r\nvar Actions = /** @class */ (function () {\r\n    function Actions(editorUi) {\r\n        this.editorUi = editorUi;\r\n        this.actionDic = {};\r\n        this.init();\r\n    }\r\n    /**\r\n     * 添加动作\r\n     * @param action\r\n     */\r\n    Actions.prototype.addAction = function (action) {\r\n        this.actionDic[action.key] = action;\r\n        if (action.shortcutKeyCode != null) {\r\n            this.addShortcut(action.key, action.shortcutKeyCode, action.shortcutControlKey, action.shortcutShiftKey, action.shortcutAltKey);\r\n        }\r\n    };\r\n    /**\r\n     * 添加动作\r\n     */\r\n    Actions.prototype.addActions = function () {\r\n        var _this = this;\r\n        var actions = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            actions[_i] = arguments[_i];\r\n        }\r\n        actions && actions.forEach(function (action) {\r\n            _this.addAction(action);\r\n        });\r\n    };\r\n    /**\r\n     * 根据key查找动作\r\n     * @param key\r\n     * @returns\r\n     */\r\n    Actions.prototype.getAction = function (key) {\r\n        return this.actionDic[key];\r\n    };\r\n    /**\r\n     * 删除动作\r\n     * @param key\r\n     * @returns\r\n     */\r\n    Actions.prototype.removeAction = function (key) {\r\n        var action = this.getAction(key);\r\n        if (action) {\r\n            delete this.actionDic[key];\r\n        }\r\n        return action;\r\n    };\r\n    /**\r\n     * 添加快捷键\r\n     * @param actionKey\r\n     * @param keyCode\r\n     * @param control\r\n     * @param shift\r\n     * @param alt\r\n     * @returns\r\n     */\r\n    Actions.prototype.addShortcut = function (actionKey, keyCode, control, shift, alt) {\r\n        var action = this.getAction(actionKey);\r\n        if (action == null) {\r\n            return;\r\n        }\r\n        var funct = function (evt) {\r\n            if (action.isEnabled()) {\r\n                action.execute(evt);\r\n            }\r\n        };\r\n        this.editorUi.keyHandler && this.editorUi.keyHandler.bindAction(funct, keyCode, control, shift, alt);\r\n    };\r\n    /**\r\n     * 初始化\r\n     */\r\n    Actions.prototype.init = function () {\r\n        //Edit\r\n        this.addActions(new UndoAction(this.editorUi), new RedoAction(this.editorUi), new CutAction(this.editorUi), new CopyAction(this.editorUi), new PasteAction(this.editorUi), new DeleteAction(this.editorUi), new DuplicateAction(this.editorUi), new SelectVerticesAction(this.editorUi), new SelectEdgesAction(this.editorUi), new SelectAllAction(this.editorUi), new SelectNoneAction(this.editorUi), new LockUnlockAction(this.editorUi));\r\n        //View\r\n        this.addActions(new FormatPanelAction(this.editorUi), new OutlineAction(this.editorUi), new ZoomInAction(this.editorUi), new ZoomOutAction(this.editorUi), new ResetViewAction(this.editorUi), new View_25_Action(this.editorUi), new View_50_Action(this.editorUi), new View_75_Action(this.editorUi), new View_100_Action(this.editorUi), new View_125_Action(this.editorUi), new View_150_Action(this.editorUi), new View_200_Action(this.editorUi), new View_300_Action(this.editorUi), new View_400_Action(this.editorUi), new FitWindowAction(this.editorUi), new ViewGridAction(this.editorUi));\r\n        //Arrange\r\n        this.addActions(new ToFrontAction(this.editorUi), new ToBackAction(this.editorUi), new AlignLeftAction(this.editorUi), new AlignCenterAction(this.editorUi), new AlignRightAction(this.editorUi), new AlignTopAction(this.editorUi), new AlignMiddleAction(this.editorUi), new AlignBottomAction(this.editorUi), new DistributeHorizontalAction(this.editorUi), new DistributeVerticalAction(this.editorUi), new ClearWaypointsAction(this.editorUi), new AutosizeAction(this.editorUi));\r\n        //Help\r\n        this.addActions(new HelpAction(this.editorUi), new AboutAction(this.editorUi));\r\n    };\r\n    Actions.prototype.isUnlocked = function (graph) {\r\n        var unlocked = graph.isEnabled() && !graph.isCellLocked(graph.getDefaultParent());\r\n        return unlocked;\r\n    };\r\n    Actions.prototype.isVertexSelected = function (graph) {\r\n        var vertexSelected = false;\r\n        var cells = graph.getSelectionCells();\r\n        if (cells != null) {\r\n            for (var i = 0; i < cells.length; i++) {\r\n                var cell = cells[i];\r\n                if (graph.getModel().isVertex(cell)) {\r\n                    vertexSelected = true;\r\n                }\r\n                if (vertexSelected) {\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        return vertexSelected;\r\n    };\r\n    Actions.prototype.isEdgeSelected = function (graph) {\r\n        var edgeSelected = false;\r\n        var cells = graph.getSelectionCells();\r\n        if (cells != null) {\r\n            for (var i = 0; i < cells.length; i++) {\r\n                var cell = cells[i];\r\n                if (graph.getModel().isEdge(cell)) {\r\n                    edgeSelected = true;\r\n                }\r\n                if (edgeSelected) {\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        return edgeSelected;\r\n    };\r\n    Actions.prototype.isAlignActionEnabled = function (graph) {\r\n        return this.isUnlocked(graph) && this.isVertexSelected(graph) && graph.getSelectionCount() > 1;\r\n    };\r\n    return Actions;\r\n}());\r\nexport { Actions };\r\n//# sourceMappingURL=Actions.js.map","/**\r\n * 控件全部配置\r\n */\r\nvar ElementPropertyConfig = /** @class */ (function () {\r\n    function ElementPropertyConfig() {\r\n    }\r\n    return ElementPropertyConfig;\r\n}());\r\nexport { ElementPropertyConfig };\r\n//# sourceMappingURL=ElementPropertyConfig.js.map","/**\r\n * 属性配置\r\n */\r\nvar PropertyConfig = /** @class */ (function () {\r\n    function PropertyConfig() {\r\n        /**\r\n         * 属性标签页\r\n         */\r\n        this.tabs = [];\r\n    }\r\n    return PropertyConfig;\r\n}());\r\nexport { PropertyConfig };\r\n//# sourceMappingURL=PropertyConfig.js.map","/**\r\n * 属性分组\r\n */\r\nvar PropertyConfigTab = /** @class */ (function () {\r\n    function PropertyConfigTab(tabId, tabName) {\r\n        /**\r\n         * 属性分组\r\n         */\r\n        this.groups = [];\r\n        this.tabId = tabId;\r\n        this.tabName = tabName;\r\n    }\r\n    return PropertyConfigTab;\r\n}());\r\nexport { PropertyConfigTab };\r\n//# sourceMappingURL=PropertyConfigTab.js.map","/**\r\n * 属性分组\r\n */\r\nvar PropertyConfigGroup = /** @class */ (function () {\r\n    function PropertyConfigGroup(groupId, groupName) {\r\n        /**\r\n         * 属性明细列表\r\n         */\r\n        this.items = [];\r\n        this.groupId = groupId;\r\n        this.groupName = groupName;\r\n    }\r\n    return PropertyConfigGroup;\r\n}());\r\nexport { PropertyConfigGroup };\r\n//# sourceMappingURL=PropertyConfigGroup.js.map","/**\r\n * 属性详情\r\n */\r\nvar PropertyConfigItem = /** @class */ (function () {\r\n    function PropertyConfigItem(propertyId, propertyName, propertyType, propertyValue) {\r\n        /**\r\n         * 属性类型\r\n         */\r\n        this.propertyType = \"string\";\r\n        /**\r\n         * 是否只读\r\n         */\r\n        this.readonly = false;\r\n        /**\r\n         * 是否可见\r\n         */\r\n        this.visible = true;\r\n        this.propertyId = propertyId;\r\n        this.propertyName = propertyName;\r\n        this.propertyType = propertyType;\r\n        this.propertyValue = propertyValue;\r\n    }\r\n    return PropertyConfigItem;\r\n}());\r\nexport { PropertyConfigItem };\r\n//# sourceMappingURL=PropertyConfigItem.js.map","/**\r\n * Farris属性框配置与数据\r\n */\r\nvar FarrisPropConfigWithData = /** @class */ (function () {\r\n    function FarrisPropConfigWithData() {\r\n        this.propertyConfig = [];\r\n        this.propertyData = {};\r\n    }\r\n    return FarrisPropConfigWithData;\r\n}());\r\nexport { FarrisPropConfigWithData };\r\n//# sourceMappingURL=FarrisPropConfigWithData.js.map","import { __extends } from \"tslib\";\r\nimport { BpmnModelHelper } from \"@edp-pmf/bpmn-model\";\r\nimport { mxCell, mxEventObject, mxResources } from \"@edp-pmf/mxgraph-ts\";\r\nimport { PmfEvents } from \"../util/PmfEvents\";\r\nimport { ElementPropertyConfig } from \"./farris-property-config/ElementPropertyConfig\";\r\nimport { FarrisPropConfigWithData } from \"./farris-property-config/FarrisPropConfigWithData\";\r\n/**\r\n * 画布元素类，分为边和节点两种\r\n */\r\nvar Cell = /** @class */ (function (_super) {\r\n    __extends(Cell, _super);\r\n    function Cell(value, geometry, style) {\r\n        return _super.call(this, value, geometry, style) || this;\r\n    }\r\n    /**\r\n     * 实例化FlowElement与DiagramElement，并绑定至BpmnModel\r\n     * @param bpmnModel\r\n     */\r\n    Cell.prototype.bindBpmnModel = function (flowElt, diagElt) {\r\n        var bpmnModel = this.editorUi.graph.bpmnModel;\r\n        this.flowElement = this.createFlowElement(flowElt);\r\n        this.diagramElement = this.createDiagramElement(diagElt);\r\n        // diagElt与flowElt绑定\r\n        this.diagramElement.BpmnElementId = this.flowElement.Id;\r\n        // 添加到BpmnModel\r\n        bpmnModel.DefaultProcess.AddFlowElement(this.flowElement);\r\n        bpmnModel.DefaultDiagram.BpmnPlane.AddDiagramElement(this.diagramElement);\r\n    };\r\n    /**\r\n     * 与BpmnModel脱钩，从Process和Diagram删除元素\r\n     * @param bpmnModel\r\n     */\r\n    Cell.prototype.unbindBpmnModel = function () {\r\n        if (this.flowElement == null) {\r\n            return;\r\n        }\r\n        this.flowElement.Model.DefaultProcess.RemoveFlowElement(this.flowElement.Id);\r\n        this.flowElement.Model.DefaultDiagram.BpmnPlane.RemoveDiagramElement(this.diagramElement.Id);\r\n    };\r\n    Cell.prototype.clone = function () {\r\n        // 为保证clone方法顺利执行，临时删除editorUi与bpmn属性\r\n        var tmpFlowElt = this.flowElement;\r\n        var tmpDiagElt = this.diagramElement;\r\n        var tmpEditorUi = this.editorUi;\r\n        delete this.flowElement;\r\n        delete this.diagramElement;\r\n        delete this.editorUi;\r\n        var clone = _super.prototype.clone.call(this);\r\n        // 恢复bpmn属性\r\n        this.flowElement = tmpFlowElt;\r\n        this.diagramElement = tmpDiagElt;\r\n        this.editorUi = tmpEditorUi;\r\n        // 克隆bpmn属性\r\n        if (tmpFlowElt) {\r\n            var b = this.cloneFlowElement(tmpFlowElt);\r\n            clone.flowElement = b;\r\n        }\r\n        if (tmpDiagElt) {\r\n            var d = this.cloneDiagramElement(tmpDiagElt);\r\n            d.BpmnElementId = clone.flowElement.Id;\r\n            clone.diagramElement = d;\r\n        }\r\n        if (tmpEditorUi) {\r\n            clone.editorUi = tmpEditorUi;\r\n        }\r\n        return clone;\r\n    };\r\n    /**\r\n     * 克隆FlowElement\r\n     * @param flowElt\r\n     * @returns\r\n     */\r\n    Cell.prototype.cloneFlowElement = function (flowElt) {\r\n        var b = flowElt.clone();\r\n        return b;\r\n    };\r\n    /**\r\n     * 克隆DiagramElement\r\n     * @param diagElt\r\n     * @returns\r\n     */\r\n    Cell.prototype.cloneDiagramElement = function (diagElt) {\r\n        var d = diagElt.NewInstance();\r\n        d.LoadFromJsonObject(diagElt.ConvertToJsonObject());\r\n        d.Id = BpmnModelHelper.GenerateElementId();\r\n        return d;\r\n    };\r\n    /**\r\n     * 获取属性配置\r\n     */\r\n    Cell.prototype.getPropConfig = function () {\r\n        return {};\r\n    };\r\n    /**\r\n     * 获取属性配置（Farris属性框专用）\r\n     */\r\n    Cell.prototype.getFarrisPropConfig = function () {\r\n        var _a;\r\n        var configWithData = new FarrisPropConfigWithData();\r\n        var propertyConfig = new ElementPropertyConfig();\r\n        configWithData.propertyConfig.push(propertyConfig);\r\n        propertyConfig.categoryId = 'general';\r\n        propertyConfig.categoryName = mxResources.get(\"Basic Info\") || '基本信息';\r\n        propertyConfig.tabId = 'basic';\r\n        propertyConfig.tabName = mxResources.get(\"Basic Property\") || '基础属性';\r\n        propertyConfig.properties = [\r\n            { propertyID: 'Name', propertyName: mxResources.get(\"Property Name\") || '名称', propertyType: 'string', visible: !this.editorUi.multiLangEnabled },\r\n            { propertyID: \"NameLanguage\", propertyName: mxResources.get(\"Property Name\") || '名称', propertyType: 'multiLanguage', visible: this.editorUi.multiLangEnabled },\r\n            { propertyID: 'Id', propertyName: mxResources.get(\"Property Id\") || '标识', propertyType: 'string', readonly: true }\r\n        ];\r\n        configWithData.propertyData = {\r\n            Id: this.flowElement.Id,\r\n            Name: this.flowElement.Name,\r\n            ClrTypeId: this.flowElement.ClrTypeID,\r\n            ClrTypeID: this.flowElement.ClrTypeID,\r\n            // 没有NameLanguage时把Name作为中文简体值\r\n            NameLanguage: this.flowElement.NameLanguage || (_a = {},\r\n                _a[this.editorUi.langCode || \"zh-CHS\"] = this.flowElement.Name,\r\n                _a)\r\n        };\r\n        return configWithData;\r\n    };\r\n    /**\r\n     * 更新属性\r\n     */\r\n    Cell.prototype.updateProps = function (obj) {\r\n        this.flowElement[obj.propertyID] = obj.propertyValue;\r\n        if (obj.propertyID == \"NameLanguage\") {\r\n            this.flowElement.Name = this.flowElement.NameLanguage && this.flowElement.NameLanguage['zh-CHS'] || \"\";\r\n        }\r\n        if (obj.propertyID == \"NameLanguage\" || obj.propertyID == \"Name\") {\r\n            this.editorUi.fireEvent(new mxEventObject(PmfEvents.NameChanged, \"cell\", this));\r\n        }\r\n    };\r\n    return Cell;\r\n}(mxCell));\r\nexport { Cell };\r\n//# sourceMappingURL=Cell.js.map","/**\r\n * 属性实体\r\n */\r\nvar PropertyEntity = /** @class */ (function () {\r\n    function PropertyEntity() {\r\n        /**\r\n         *  属性的类型：String/Number/Boolean或自定义类型\r\n         */\r\n        this.propertyType = \"string\"; //\r\n        /**\r\n         * 是否只读\r\n         */\r\n        this.readonly = false;\r\n        /**\r\n         * 是否可见\r\n         */\r\n        this.visible = true;\r\n    }\r\n    return PropertyEntity;\r\n}());\r\nexport { PropertyEntity };\r\n//# sourceMappingURL=PropertyEntity.js.map","import { __extends } from \"tslib\";\r\nimport { Bounds, BPMNEdge, BPMNLabel, BpmnModelHelper, SequenceFlowState, Point, RectangularLine, RectangularLineType, SequenceFlowLineType, ExclusiveGateway, Activity } from \"@edp-pmf/bpmn-model\";\r\nimport { Cell } from \"./Cell\";\r\n/**\r\n * 边元素\r\n */\r\nvar EdgeCell = /** @class */ (function (_super) {\r\n    __extends(EdgeCell, _super);\r\n    function EdgeCell() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.edge = true;\r\n        _this.vertex = false;\r\n        return _this;\r\n    }\r\n    /**\r\n     * 与BpmnModel脱钩，删除起点和终点元素的Outgoings Incomings，从Process和Diagram删除元素\r\n     * @returns\r\n     */\r\n    EdgeCell.prototype.unbindBpmnModel = function () {\r\n        if (this.flowElement == null) {\r\n            return;\r\n        }\r\n        //删除Outgoings Incomings\r\n        var seqFlow = this.flowElement;\r\n        var srcFlowNode = this.source && this.source.flowElement;\r\n        var tarFlowNode = this.target && this.target.flowElement;\r\n        if (srcFlowNode != null) {\r\n            srcFlowNode.Outgoings = srcFlowNode.Outgoings ? srcFlowNode.Outgoings.filter(function (it) {\r\n                return it != seqFlow.Id;\r\n            }) : [];\r\n            // 如果删除的分支为默认分支，需清理源节点的default属性\r\n            if (srcFlowNode instanceof ExclusiveGateway && srcFlowNode.Default === seqFlow.Id) {\r\n                srcFlowNode.Default = null;\r\n            }\r\n            if (srcFlowNode instanceof Activity && srcFlowNode.Default === seqFlow.Id) {\r\n                srcFlowNode.Default = null;\r\n            }\r\n        }\r\n        if (tarFlowNode != null) {\r\n            tarFlowNode.Incomings = tarFlowNode.Incomings ? tarFlowNode.Incomings.filter(function (it) {\r\n                return it != seqFlow.Id;\r\n            }) : [];\r\n        }\r\n        return _super.prototype.unbindBpmnModel.call(this);\r\n    };\r\n    EdgeCell.prototype.createFlowElement = function (flowElt) {\r\n        var bpmnModel = this.editorUi.graph.bpmnModel;\r\n        var seqFlow = null;\r\n        if (flowElt) {\r\n            seqFlow = flowElt.clone();\r\n        }\r\n        else {\r\n            var tmpSeqFlow = BpmnModelHelper.GetElementType(this.clrTypeId);\r\n            tmpSeqFlow.Model = bpmnModel;\r\n            seqFlow = tmpSeqFlow.NewInstance();\r\n        }\r\n        var srcFlowNode = this.source && this.source.flowElement;\r\n        var tarFlowNode = this.target && this.target.flowElement;\r\n        seqFlow.SourceRef = srcFlowNode && srcFlowNode.Id;\r\n        seqFlow.TargetRef = tarFlowNode && tarFlowNode.Id;\r\n        seqFlow.Id = seqFlow.SourceRef + '_' + seqFlow.TargetRef;\r\n        seqFlow.Name = '';\r\n        if (srcFlowNode && !this.existOutging(bpmnModel, srcFlowNode, tarFlowNode)) {\r\n            srcFlowNode.Outgoings.push(seqFlow.Id);\r\n        }\r\n        if (tarFlowNode && !this.existIncoming(bpmnModel, tarFlowNode, srcFlowNode)) {\r\n            tarFlowNode.Incomings.push(seqFlow.Id);\r\n        }\r\n        return seqFlow;\r\n    };\r\n    EdgeCell.prototype.createDiagramElement = function (diagElt) {\r\n        var bpmnModel = this.editorUi.graph.bpmnModel;\r\n        var srcDiagElt = this.source && this.source.diagramElement;\r\n        var tarDiagElt = this.target && this.target.diagramElement;\r\n        var edge = new BPMNEdge(bpmnModel);\r\n        edge.SourceShapeElementId = srcDiagElt && srcDiagElt.Id;\r\n        edge.TargetShapeElementId = tarDiagElt && tarDiagElt.Id;\r\n        edge.LineType = SequenceFlowLineType.RectangularLineType;\r\n        var rectangularLine = new RectangularLine(bpmnModel);\r\n        rectangularLine.LineType = RectangularLineType.H2V;\r\n        edge.RectangularLine = rectangularLine;\r\n        return edge;\r\n    };\r\n    /**\r\n     * flowNode1是否存在指向flowNode2的连线\r\n     */\r\n    EdgeCell.prototype.existOutging = function (bpmnModel, flowNode1, flowNode2) {\r\n        var exist = false;\r\n        for (var _i = 0, _a = flowNode1.Outgoings; _i < _a.length; _i++) {\r\n            var seqFlowId = _a[_i];\r\n            var seq = bpmnModel.DefaultProcess.GetFlowElement(seqFlowId);\r\n            if (seq.TargetRef == flowNode2.Id) {\r\n                exist = true;\r\n                break;\r\n            }\r\n        }\r\n        return exist;\r\n    };\r\n    /**\r\n     * flowNode1是否存在来自于flowNode2的连线\r\n     */\r\n    EdgeCell.prototype.existIncoming = function (bpmnModel, flowNode1, flowNode2) {\r\n        var exist = false;\r\n        for (var _i = 0, _a = flowNode1.Incomings; _i < _a.length; _i++) {\r\n            var seqFlowId = _a[_i];\r\n            var seq = bpmnModel.DefaultProcess.GetFlowElement(seqFlowId);\r\n            if (seq.SourceRef == flowNode2.Id) {\r\n                exist = true;\r\n                break;\r\n            }\r\n        }\r\n        return exist;\r\n    };\r\n    /**\r\n     * 设置路径点\r\n     * @param waypoints\r\n     */\r\n    EdgeCell.prototype.setPoints = function (waypoints) {\r\n        var _this = this;\r\n        var bpmnPts = [];\r\n        waypoints && waypoints.forEach(function (mxPt) {\r\n            var bpmnPt = new Point(_this.diagramElement.Model);\r\n            bpmnPt.X = mxPt.x;\r\n            bpmnPt.Y = mxPt.y;\r\n            bpmnPts.push(bpmnPt);\r\n        });\r\n        if (this.diagramElement) {\r\n            this.diagramElement.Points = bpmnPts;\r\n        }\r\n    };\r\n    /**\r\n     * 设置标签坐标\r\n     * @param mxRect\r\n     */\r\n    EdgeCell.prototype.setBpmnLabel = function (mxRect) {\r\n        if (this.diagramElement == null) {\r\n            return;\r\n        }\r\n        var edge = this.diagramElement;\r\n        var bpmnModel = this.diagramElement.Model;\r\n        if (mxRect == null) {\r\n            edge.BpmnLabel = null;\r\n            return;\r\n        }\r\n        var bpmnLabel = new BPMNLabel(bpmnModel);\r\n        var bounds = new Bounds(bpmnModel);\r\n        bounds.X = mxRect.x;\r\n        bounds.Y = mxRect.y;\r\n        bounds.Width = mxRect.width;\r\n        bounds.Height = mxRect.height;\r\n        bpmnLabel.Bounds = bounds;\r\n        bpmnLabel.LabelStyle = 'testLabelStyle';\r\n        edge.BpmnLabel = bpmnLabel;\r\n    };\r\n    return EdgeCell;\r\n}(Cell));\r\nexport { EdgeCell };\r\n//# sourceMappingURL=EdgeCell.js.map","import { __assign, __extends } from \"tslib\";\r\nimport { Bounds, BpmnModelHelper, BPMNShape, FlowNodeState } from \"@edp-pmf/bpmn-model\";\r\nimport { Cell } from \"./Cell\";\r\n/**\r\n * 节点元素\r\n */\r\nvar NodeCell = /** @class */ (function (_super) {\r\n    __extends(NodeCell, _super);\r\n    function NodeCell() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.edge = false;\r\n        _this.vertex = true;\r\n        return _this;\r\n    }\r\n    NodeCell.prototype.unbindBpmnModel = function () {\r\n        return _super.prototype.unbindBpmnModel.call(this);\r\n    };\r\n    NodeCell.prototype.createFlowElement = function (flowElt) {\r\n        var bpmnModel = this.editorUi.graph.bpmnModel;\r\n        var flowNode = null;\r\n        if (flowElt) {\r\n            flowNode = flowElt.clone();\r\n            flowNode.Name = flowElt.Name;\r\n            flowNode.NameLanguage = flowElt.NameLanguage && __assign({}, flowElt.NameLanguage);\r\n        }\r\n        else {\r\n            var tmpFlowNode = BpmnModelHelper.GetElementType(this.clrTypeId);\r\n            tmpFlowNode.Model = bpmnModel;\r\n            flowNode = tmpFlowNode.NewInstance();\r\n            flowNode.Name = this.name;\r\n            flowNode.NameLanguage = this.nameLanguage && __assign({}, this.nameLanguage);\r\n        }\r\n        return flowNode;\r\n    };\r\n    NodeCell.prototype.createDiagramElement = function (diagElt) {\r\n        var bpmnModel = this.editorUi.graph.bpmnModel;\r\n        var shape = new BPMNShape(bpmnModel);\r\n        var bounds = new Bounds(bpmnModel);\r\n        bounds.X = this.geometry.x;\r\n        bounds.Y = this.geometry.y;\r\n        bounds.Width = this.geometry.width;\r\n        bounds.Height = this.geometry.height;\r\n        shape.Bounds = bounds;\r\n        return shape;\r\n    };\r\n    return NodeCell;\r\n}(Cell));\r\nexport { NodeCell };\r\n//# sourceMappingURL=NodeCell.js.map","import { __extends } from \"tslib\";\r\nimport { EdgeCell } from \"./EdgeCell\";\r\n/**\r\n * 缺省边元素类\r\n */\r\nvar DefaultEdgeCell = /** @class */ (function (_super) {\r\n    __extends(DefaultEdgeCell, _super);\r\n    function DefaultEdgeCell() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    return DefaultEdgeCell;\r\n}(EdgeCell));\r\nexport { DefaultEdgeCell };\r\n//# sourceMappingURL=DefaultEdgeCell.js.map","import { __extends } from \"tslib\";\r\nimport { NodeCell } from \"./NodeCell\";\r\n/**\r\n * 缺省节点元素类\r\n */\r\nvar DefaultNodeCell = /** @class */ (function (_super) {\r\n    __extends(DefaultNodeCell, _super);\r\n    function DefaultNodeCell() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    return DefaultNodeCell;\r\n}(NodeCell));\r\nexport { DefaultNodeCell };\r\n//# sourceMappingURL=DefaultNodeCell.js.map","import { ElementPropertyConfig } from \"./farris-property-config/ElementPropertyConfig\";\r\nimport { mxResources } from \"@edp-pmf/mxgraph-ts\";\r\n/**\r\n * 流程元素类。\r\n * 取名虽然Cell，但实际上不需要继承mxCell以及Cell类，仅持有流程与画布实例，可进行属性获取与修改操作。\r\n */\r\nvar ProcessCell = /** @class */ (function () {\r\n    function ProcessCell() {\r\n    }\r\n    ProcessCell.prototype.getFarrisPropConfig = function () {\r\n        var _a;\r\n        var propertyData = {};\r\n        var usual = new ElementPropertyConfig();\r\n        usual.categoryId = 'usual';\r\n        usual.categoryName = mxResources.get(\"Basic Info\") || '基本信息';\r\n        usual.tabId = 'basic';\r\n        usual.tabName = mxResources.get(\"Basic Property\") || '基础属性';\r\n        usual.properties = [\r\n            { propertyID: 'Name', propertyName: mxResources.get(\"Property Name\") || '名称', propertyType: 'string', visible: !this.editorUi.multiLangEnabled },\r\n            { propertyID: \"NameLanguage\", propertyName: mxResources.get(\"Property Name\") || '名称', propertyType: 'multiLanguage', visible: this.editorUi.multiLangEnabled },\r\n            { propertyID: \"Key\", propertyName: mxResources.get(\"Property Id\") || '标识', propertyType: 'string', readonly: true },\r\n        ];\r\n        propertyData[\"Name\"] = this.process.Name;\r\n        // 没有NameLanguage时把Name作为中文简体值\r\n        propertyData[\"NameLanguage\"] = this.process.NameLanguage || (_a = {},\r\n            _a[this.editorUi.langCode || \"zh-CHS\"] = this.process.Name,\r\n            _a);\r\n        propertyData[\"Key\"] = this.process.Key;\r\n        propertyData[\"Id\"] = this.process.Id;\r\n        propertyData[\"ClrTypeId\"] = this.process.ClrTypeID;\r\n        propertyData[\"ClrTypeID\"] = this.process.ClrTypeID;\r\n        return {\r\n            propertyConfig: [usual],\r\n            propertyData: propertyData\r\n        };\r\n    };\r\n    ProcessCell.prototype.updateProps = function (obj) {\r\n        this.process[obj.propertyID] = obj.propertyValue;\r\n        if (obj.propertyID == \"NameLanguage\") {\r\n            this.process.Name = this.process.NameLanguage && this.process.NameLanguage['zh-CHS'] || \"\";\r\n        }\r\n    };\r\n    return ProcessCell;\r\n}());\r\nexport { ProcessCell };\r\n//# sourceMappingURL=ProcessCell.js.map","import { mxClient } from \"@edp-pmf/mxgraph-ts\";\r\nvar Constant = /** @class */ (function () {\r\n    function Constant() {\r\n    }\r\n    Constant.IMAGE_PATH = (window.mxiGIXBasePath ? window.mxiGIXBasePath : \"\") + \"/platform/runtime/common/web/@edp-pmf/grapheditor/images\";\r\n    Constant.STYLE_PATH = (window.mxiGIXBasePath ? window.mxiGIXBasePath : \"\") + \"/platform/runtime/common/web/@edp-pmf/grapheditor/styles\";\r\n    /**\r\n     * 已选中标记图片\r\n     */\r\n    Constant.CHECK_MARK_IMAGE = Constant.IMAGE_PATH + '/checkmark.gif';\r\n    /**\r\n     * 透明图片\r\n     */\r\n    Constant.TRANSPARENT_IMAGE = Constant.IMAGE_PATH + '/transparent.gif';\r\n    /**\r\n     * mxClient.NO_FO原始值\r\n     */\r\n    Constant.ORIGINAL_NO_FO = mxClient.NO_FO;\r\n    return Constant;\r\n}());\r\nexport { Constant };\r\n//# sourceMappingURL=Constant.js.map","import { __extends } from \"tslib\";\r\nimport { FlowNodeState } from \"@edp-pmf/bpmn-model\";\r\nimport { Constant } from \"../../util/Constant\";\r\nimport { NodeCell } from \"../NodeCell\";\r\n/**\r\n * 结束事件节点\r\n */\r\nvar EndEventCell = /** @class */ (function (_super) {\r\n    __extends(EndEventCell, _super);\r\n    function EndEventCell(value, geometry, style) {\r\n        var _a;\r\n        var _this = _super.call(this, value, geometry, style) || this;\r\n        _this.clrTypeId = EndEventCell.CLR_TYPE_ID;\r\n        _this.name = \"结束\";\r\n        _this.nameLanguage = {\r\n            \"zh-CHS\": \"结束\",\r\n            \"zh-CHT\": \"結束\",\r\n            \"en\": \"End\",\r\n        };\r\n        _this.imgUrls = (_a = {},\r\n            _a[FlowNodeState.Default] = Constant.IMAGE_PATH + \"/end.png\",\r\n            _a);\r\n        return _this;\r\n    }\r\n    EndEventCell.CLR_TYPE_ID = \"bpmn.EndEvent\";\r\n    return EndEventCell;\r\n}(NodeCell));\r\nexport { EndEventCell };\r\n//# sourceMappingURL=EndEventCell.js.map","import { __extends } from \"tslib\";\r\nimport { FlowNodeState } from \"@edp-pmf/bpmn-model\";\r\nimport { Constant } from \"../../util/Constant\";\r\nimport { NodeCell } from \"../NodeCell\";\r\n/**\r\n * 排他网关节点\r\n */\r\nvar ExclusiveGatewayCell = /** @class */ (function (_super) {\r\n    __extends(ExclusiveGatewayCell, _super);\r\n    function ExclusiveGatewayCell(value, geometry, style) {\r\n        var _a;\r\n        var _this = _super.call(this, value, geometry, style) || this;\r\n        _this.clrTypeId = ExclusiveGatewayCell.CLR_TYPE_ID;\r\n        _this.name = \"排他网关\";\r\n        _this.nameLanguage = {\r\n            \"zh-CHS\": \"排他网关\",\r\n            \"zh-CHT\": \"排他網關\",\r\n            \"en\": \"ExclusiveGateway\",\r\n        };\r\n        _this.imgUrls = (_a = {},\r\n            _a[FlowNodeState.Default] = Constant.IMAGE_PATH + \"/ExclusiveGateway.png\",\r\n            _a);\r\n        return _this;\r\n    }\r\n    ExclusiveGatewayCell.CLR_TYPE_ID = \"bpmn.ExclusiveGateway\";\r\n    return ExclusiveGatewayCell;\r\n}(NodeCell));\r\nexport { ExclusiveGatewayCell };\r\n//# sourceMappingURL=ExclusiveGatewayCell.js.map","import { __extends } from \"tslib\";\r\nimport { FlowNodeState } from \"@edp-pmf/bpmn-model\";\r\nimport { Constant } from \"../../util/Constant\";\r\nimport { NodeCell } from \"../NodeCell\";\r\n/**\r\n * 结束事件节点\r\n */\r\nvar InclusiveGatewayCell = /** @class */ (function (_super) {\r\n    __extends(InclusiveGatewayCell, _super);\r\n    function InclusiveGatewayCell(value, geometry, style) {\r\n        var _a;\r\n        var _this = _super.call(this, value, geometry, style) || this;\r\n        _this.clrTypeId = InclusiveGatewayCell.CLR_TYPE_ID;\r\n        _this.name = \"包容网关\";\r\n        _this.nameLanguage = {\r\n            \"zh-CHS\": \"包容网关\",\r\n            \"zh-CHT\": \"包容網關\",\r\n            \"en\": \"InclusiveGateway\",\r\n        };\r\n        _this.imgUrls = (_a = {},\r\n            _a[FlowNodeState.Default] = Constant.IMAGE_PATH + \"/InclusiveGateway.png\",\r\n            _a);\r\n        return _this;\r\n    }\r\n    InclusiveGatewayCell.CLR_TYPE_ID = \"bpmn.InclusiveGateway\";\r\n    return InclusiveGatewayCell;\r\n}(NodeCell));\r\nexport { InclusiveGatewayCell };\r\n//# sourceMappingURL=InclusiveGatewayCell.js.map","import { __extends } from \"tslib\";\r\nimport { FlowNodeState } from \"@edp-pmf/bpmn-model\";\r\nimport { Constant } from \"../../util/Constant\";\r\nimport { NodeCell } from \"../NodeCell\";\r\n/**\r\n * 并行网关节点\r\n */\r\nvar ParallelGatewayCell = /** @class */ (function (_super) {\r\n    __extends(ParallelGatewayCell, _super);\r\n    function ParallelGatewayCell(value, geometry, style) {\r\n        var _a;\r\n        var _this = _super.call(this, value, geometry, style) || this;\r\n        _this.clrTypeId = ParallelGatewayCell.CLR_TYPE_ID;\r\n        _this.name = \"并行网关\";\r\n        _this.nameLanguage = {\r\n            \"zh-CHS\": \"并行网关\",\r\n            \"zh-CHT\": \"並行網關\",\r\n            \"en\": \"ParallelGateway\",\r\n        };\r\n        _this.imgUrls = (_a = {},\r\n            _a[FlowNodeState.Default] = Constant.IMAGE_PATH + \"/ParallelGateway.png\",\r\n            _a);\r\n        return _this;\r\n    }\r\n    ParallelGatewayCell.CLR_TYPE_ID = \"bpmn.ParallelGateway\";\r\n    return ParallelGatewayCell;\r\n}(NodeCell));\r\nexport { ParallelGatewayCell };\r\n//# sourceMappingURL=ParallelGatewayCell.js.map","import { __extends } from \"tslib\";\r\nimport { SequenceFlowState, Activity, ExclusiveGateway, InclusiveGateway } from \"@edp-pmf/bpmn-model\";\r\nimport { mxResources } from \"@edp-pmf/mxgraph-ts\";\r\nimport { EdgeCell } from \"../EdgeCell\";\r\nimport { ElementPropertyConfig } from \"../farris-property-config\";\r\n/**\r\n * 事件流连线\r\n */\r\nvar SequenceFlowEdge = /** @class */ (function (_super) {\r\n    __extends(SequenceFlowEdge, _super);\r\n    function SequenceFlowEdge(value, geometry, style) {\r\n        var _a;\r\n        var _this = _super.call(this, value, geometry, style) || this;\r\n        _this.clrTypeId = SequenceFlowEdge.CLR_TYPE_ID;\r\n        _this.name = \"事件流\";\r\n        _this.nameLanguage = {\r\n            \"zh-CHS\": \"事件流\",\r\n            \"zh-CHT\": \"事件流\",\r\n            \"en\": \"SequenceFlow\",\r\n        };\r\n        _this.strokeColors = (_a = {},\r\n            _a[SequenceFlowState.Default] = \"#6482b9\",\r\n            _a);\r\n        return _this;\r\n    }\r\n    SequenceFlowEdge.prototype.getFarrisPropConfig = function () {\r\n        var propWithData = _super.prototype.getFarrisPropConfig.call(this);\r\n        var propertyData = propWithData.propertyData;\r\n        var sourceNode = this.flowElement.Model.DefaultProcess.GetFlowElement(this.flowElement.SourceRef);\r\n        var conditionConfig = new ElementPropertyConfig();\r\n        propWithData.propertyConfig.push(conditionConfig);\r\n        conditionConfig.categoryId = 'condition';\r\n        conditionConfig.categoryName = mxResources.get('ConditionOption');\r\n        conditionConfig.tabId = 'basic';\r\n        conditionConfig.tabName = mxResources.get('basic');\r\n        conditionConfig.properties = [\r\n        // { propertyID: \"ConditionExpression\", propertyName: mxResources.get('ConditionExpression'), propertyType: 'modal' }\r\n        ];\r\n        // 源节点为排他网关、包容网关和Activity时\r\n        if (sourceNode instanceof Activity || sourceNode instanceof ExclusiveGateway || sourceNode instanceof InclusiveGateway) {\r\n            conditionConfig.properties.push({ propertyID: \"Default\", propertyName: mxResources.get('Default Transform'), propertyType: 'select' });\r\n            var act = sourceNode;\r\n            if (act.Default === this.flowElement.Id) {\r\n                propertyData.Default = true;\r\n            }\r\n            else {\r\n                propertyData.Default = false;\r\n            }\r\n        }\r\n        return propWithData;\r\n    };\r\n    SequenceFlowEdge.prototype.updateProps = function (obj) {\r\n        var sequenceFlow = this.flowElement;\r\n        var propertyId = obj.propertyID;\r\n        switch (propertyId) {\r\n            case \"Default\":\r\n                this.modifyDefaultSequenceFlow(sequenceFlow, obj.propertyValue);\r\n                break;\r\n            default:\r\n                _super.prototype.updateProps.call(this, obj);\r\n                break;\r\n        }\r\n    };\r\n    /**\r\n     * 更新默认分支(当前适用：排他网关+活动节点)\r\n     * @param seqFlow\r\n     * @param val\r\n     */\r\n    SequenceFlowEdge.prototype.modifyDefaultSequenceFlow = function (seqFlow, val) {\r\n        // 获取流转线源节点\r\n        var sourceNode = seqFlow.Model.DefaultProcess.GetFlowElement(seqFlow.SourceRef);\r\n        // 以下活动支持缺省转移线\r\n        if (sourceNode instanceof Activity || sourceNode instanceof ExclusiveGateway || sourceNode instanceof InclusiveGateway) {\r\n            if (val === true) {\r\n                sourceNode.Default = seqFlow.Id;\r\n            }\r\n            else if (val === false) {\r\n                // 源节点的默认分支===流转分支ID\r\n                if (sourceNode.Default === seqFlow.Id) {\r\n                    sourceNode.Default = null;\r\n                }\r\n            }\r\n        }\r\n    };\r\n    SequenceFlowEdge.CLR_TYPE_ID = \"bpmn.SequenceFlow\";\r\n    return SequenceFlowEdge;\r\n}(EdgeCell));\r\nexport { SequenceFlowEdge };\r\n//# sourceMappingURL=SequenceFlowEdge.js.map","import { __extends } from \"tslib\";\r\nimport { FlowNodeState } from \"@edp-pmf/bpmn-model\";\r\nimport { Constant } from \"../../util/Constant\";\r\nimport { NodeCell } from \"../NodeCell\";\r\n/**\r\n * 开始事件节点\r\n */\r\nvar StartEventCell = /** @class */ (function (_super) {\r\n    __extends(StartEventCell, _super);\r\n    function StartEventCell(value, geometry, style) {\r\n        var _a;\r\n        var _this = _super.call(this, value, geometry, style) || this;\r\n        _this.clrTypeId = StartEventCell.CLR_TYPE_ID;\r\n        _this.name = \"开始\";\r\n        _this.nameLanguage = {\r\n            \"zh-CHS\": \"开始\",\r\n            \"zh-CHT\": \"開始\",\r\n            \"en\": \"Start\",\r\n        };\r\n        _this.imgUrl = Constant.IMAGE_PATH + \"/start.png\";\r\n        _this.imgUrls = (_a = {},\r\n            _a[FlowNodeState.Default] = Constant.IMAGE_PATH + \"/start.png\",\r\n            _a);\r\n        return _this;\r\n    }\r\n    StartEventCell.CLR_TYPE_ID = \"bpmn.StartEvent\";\r\n    return StartEventCell;\r\n}(NodeCell));\r\nexport { StartEventCell };\r\n//# sourceMappingURL=StartEventCell.js.map","import { DefaultNodeCell } from \"../model/DefaultNodeCell\";\r\nimport { NodeCell } from \"../model/NodeCell\";\r\nimport { FlowNodeState } from \"@edp-pmf/bpmn-model\";\r\n/**\r\n * 元素生成器工具\r\n */\r\nvar BpmnCellHelper = /** @class */ (function () {\r\n    function BpmnCellHelper() {\r\n    }\r\n    /**\r\n     * 注册构造器\r\n     * @param clrTypeId 类型ID\r\n     * @param ctor 构造方法\r\n     */\r\n    BpmnCellHelper.register = function (clrTypeId, ctor) {\r\n        BpmnCellHelper.ctors[clrTypeId] = ctor;\r\n    };\r\n    /**\r\n     * 删除构造器\r\n     * @param clrTypeId 类型ID\r\n     */\r\n    BpmnCellHelper.remove = function (clrTypeId) {\r\n        delete BpmnCellHelper.ctors[clrTypeId];\r\n    };\r\n    /**\r\n     * 生成元素\r\n     * @param clrTypeId\r\n     * @param value\r\n     * @param geometry\r\n     * @param style\r\n     * @returns\r\n     */\r\n    BpmnCellHelper.generate = function (clrTypeId, value, geometry, style) {\r\n        var ctor = BpmnCellHelper.ctors[clrTypeId];\r\n        if (ctor) {\r\n            var cell = new ctor(value, geometry, style);\r\n            if (cell instanceof NodeCell && style == null && cell.imgUrls && cell.imgUrls[FlowNodeState.Default]) {\r\n                cell.style = \"image=\" + cell.imgUrls[FlowNodeState.Default] + \";\";\r\n            }\r\n            return cell;\r\n        }\r\n        else {\r\n            var cell = new DefaultNodeCell(value, geometry, style);\r\n            cell.clrTypeId = clrTypeId;\r\n        }\r\n    };\r\n    BpmnCellHelper.ctors = {};\r\n    return BpmnCellHelper;\r\n}());\r\nexport { BpmnCellHelper };\r\n//# sourceMappingURL=BpmnCellHelper.js.map","import { BpmnCellHelper } from \"../../util/BpmnCellHelper\";\r\nimport { EndEventCell } from \"./EndEventCell\";\r\nimport { ExclusiveGatewayCell } from \"./ExclusiveGatewayCell\";\r\nimport { InclusiveGatewayCell } from \"./InclusiveGatewayCell\";\r\nimport { ParallelGatewayCell } from \"./ParallelGatewayCell\";\r\nimport { SequenceFlowEdge } from \"./SequenceFlowEdge\";\r\nimport { StartEventCell } from \"./StartEventCell\";\r\nBpmnCellHelper.register(EndEventCell.CLR_TYPE_ID, EndEventCell);\r\nBpmnCellHelper.register(ExclusiveGatewayCell.CLR_TYPE_ID, ExclusiveGatewayCell);\r\nBpmnCellHelper.register(InclusiveGatewayCell.CLR_TYPE_ID, InclusiveGatewayCell);\r\nBpmnCellHelper.register(ParallelGatewayCell.CLR_TYPE_ID, ParallelGatewayCell);\r\nBpmnCellHelper.register(SequenceFlowEdge.CLR_TYPE_ID, SequenceFlowEdge);\r\nBpmnCellHelper.register(StartEventCell.CLR_TYPE_ID, StartEventCell);\r\n//# sourceMappingURL=BpmnCellRegister.js.map","/**\r\n * 工具栏项\r\n */\r\nvar ToolbarItem = /** @class */ (function () {\r\n    function ToolbarItem() {\r\n    }\r\n    return ToolbarItem;\r\n}());\r\nexport { ToolbarItem };\r\n//# sourceMappingURL=ToolbarItem.js.map","/**\r\n * 工具栏项展示样式\r\n */\r\nexport var ToolbarItemDisplayStyle;\r\n(function (ToolbarItemDisplayStyle) {\r\n    /**\r\n     * 文本\r\n     */\r\n    ToolbarItemDisplayStyle[\"Text\"] = \"Text\";\r\n    /**\r\n     * 图片\r\n     */\r\n    ToolbarItemDisplayStyle[\"Image\"] = \"Image\";\r\n    /**\r\n     * 图片+文本\r\n     */\r\n    ToolbarItemDisplayStyle[\"ImageAndText\"] = \"ImageAndText\";\r\n})(ToolbarItemDisplayStyle || (ToolbarItemDisplayStyle = {}));\r\n//# sourceMappingURL=ToolbarItemDisplayStyle.js.map","import { __extends } from \"tslib\";\r\nimport { ToolbarItem } from \"./ToolbarItem\";\r\n/**\r\n * 工具栏动作项，可执行指定动作\r\n */\r\nvar ToolbarActionItem = /** @class */ (function (_super) {\r\n    __extends(ToolbarActionItem, _super);\r\n    function ToolbarActionItem() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    return ToolbarActionItem;\r\n}(ToolbarItem));\r\nexport { ToolbarActionItem };\r\n//# sourceMappingURL=ToolbarActionItem.js.map","import { __extends } from \"tslib\";\r\nimport { ToolbarActionItem } from \"./ToolbarActionItem\";\r\nimport { ToolbarItemDisplayStyle } from \"./ToolbarItemDisplayStyle\";\r\n/**\r\n * 工具栏按钮项\r\n */\r\nvar ToolbarButton = /** @class */ (function (_super) {\r\n    __extends(ToolbarButton, _super);\r\n    function ToolbarButton() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.displayStyle = ToolbarItemDisplayStyle.ImageAndText;\r\n        return _this;\r\n    }\r\n    return ToolbarButton;\r\n}(ToolbarActionItem));\r\nexport { ToolbarButton };\r\n//# sourceMappingURL=ToolbarButton.js.map","/**\r\n * 资源Key列表\r\n */\r\nexport var ResourceKeys;\r\n(function (ResourceKeys) {\r\n    //temp = \"temp\",\r\n    // File\r\n    ResourceKeys[\"pmf_file\"] = \"file\";\r\n    ResourceKeys[\"pmf_save\"] = \"save\";\r\n    ResourceKeys[\"pmf_saveAs\"] = \"saveAs\";\r\n    ResourceKeys[\"pmf_export\"] = \"export\";\r\n    //Edit\r\n    ResourceKeys[\"pmf_edit\"] = \"edit\";\r\n    ResourceKeys[\"pmf_undo\"] = \"undo\";\r\n    ResourceKeys[\"pmf_redo\"] = \"redo\";\r\n    ResourceKeys[\"pmf_cut\"] = \"cut\";\r\n    ResourceKeys[\"pmf_copy\"] = \"copy\";\r\n    ResourceKeys[\"pmf_paste\"] = \"paste\";\r\n    ResourceKeys[\"pmf_pasteHere\"] = \"pasteHere\";\r\n    ResourceKeys[\"pmf_delete\"] = \"delete\";\r\n    ResourceKeys[\"pmf_deleteAll\"] = \"deleteAll\";\r\n    ResourceKeys[\"pmf_duplicate\"] = \"duplicate\";\r\n    ResourceKeys[\"pmf_selectVertices\"] = \"selectVertices\";\r\n    ResourceKeys[\"pmf_selectEdges\"] = \"selectEdges\";\r\n    ResourceKeys[\"pmf_selectAll\"] = \"selectAll\";\r\n    ResourceKeys[\"pmf_selectNone\"] = \"selectNone\";\r\n    ResourceKeys[\"pmf_lockUnlock\"] = \"lockUnlock\";\r\n    //View\r\n    ResourceKeys[\"pmf_view\"] = \"view\";\r\n    ResourceKeys[\"pmf_formatPanel\"] = \"formatPanel\";\r\n    ResourceKeys[\"pmf_outline\"] = \"outline\";\r\n    ResourceKeys[\"pmf_layers\"] = \"layers\";\r\n    ResourceKeys[\"pmf_pageView\"] = \"pageView\";\r\n    ResourceKeys[\"pmf_grid\"] = \"grid\";\r\n    ResourceKeys[\"pmf_connectionArrows\"] = \"connectionArrows\";\r\n    ResourceKeys[\"pmf_connectionPoints\"] = \"connectionPoints\";\r\n    ResourceKeys[\"pmf_resetView\"] = \"resetView\";\r\n    ResourceKeys[\"pmf_zoom\"] = \"zoom\";\r\n    ResourceKeys[\"pmf_zoomIn\"] = \"zoomIn\";\r\n    ResourceKeys[\"pmf_zoomOut\"] = \"zoomOut\";\r\n    ResourceKeys[\"pmf_fitWindow\"] = \"fitWindow\";\r\n    ResourceKeys[\"pmf_fitPage\"] = \"fitPage\";\r\n    ResourceKeys[\"pmf_fitTwoPages\"] = \"fitTwoPages\";\r\n    ResourceKeys[\"pmf_fitPageWidth\"] = \"fitPageWidth\";\r\n    ResourceKeys[\"pmf_customZoom\"] = \"custom\";\r\n    // Arrange\r\n    ResourceKeys[\"pmf_arrange\"] = \"arrange\";\r\n    ResourceKeys[\"pmf_toFront\"] = \"toFront\";\r\n    ResourceKeys[\"pmf_toBack\"] = \"toBack\";\r\n    ResourceKeys[\"pmf_align\"] = \"align\";\r\n    ResourceKeys[\"pmf_leftAlign\"] = \"leftAlign\";\r\n    ResourceKeys[\"pmf_center\"] = \"center\";\r\n    ResourceKeys[\"pmf_rightAlign\"] = \"rightAlign\";\r\n    ResourceKeys[\"pmf_topAlign\"] = \"topAlign\";\r\n    ResourceKeys[\"pmf_middle\"] = \"middle\";\r\n    ResourceKeys[\"pmf_bottomAlign\"] = \"bottomAlign\";\r\n    ResourceKeys[\"pmf_distribute\"] = \"distribute\";\r\n    ResourceKeys[\"pmf_horizontal\"] = \"horizontal\";\r\n    ResourceKeys[\"pmf_vertical\"] = \"vertical\";\r\n    ResourceKeys[\"pmf_clearWaypoints\"] = \"clearWaypoints\";\r\n    ResourceKeys[\"pmf_autosize\"] = \"autosize\";\r\n    //Help\r\n    ResourceKeys[\"pmf_help\"] = \"help\";\r\n    ResourceKeys[\"pmf_about\"] = \"about\";\r\n    //pmf------------------\r\n    ResourceKeys[\"pmf_mainMenu\"] = \"pmf_mainMenu\";\r\n    ResourceKeys[\"pmf_viewModelXml\"] = \"pmf_viewModelXml\";\r\n})(ResourceKeys || (ResourceKeys = {}));\r\n//# sourceMappingURL=ResourceKeys.js.map","import { __extends } from \"tslib\";\r\nimport { ToolbarItem } from \"./ToolbarItem\";\r\n/**\r\n * 工具栏下拉按钮弹出项\r\n */\r\nvar ToolbarDropDownItem = /** @class */ (function (_super) {\r\n    __extends(ToolbarDropDownItem, _super);\r\n    function ToolbarDropDownItem() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.items = [];\r\n        return _this;\r\n    }\r\n    return ToolbarDropDownItem;\r\n}(ToolbarItem));\r\nexport { ToolbarDropDownItem };\r\n//# sourceMappingURL=ToolbarDropDownItem.js.map","import { __extends } from \"tslib\";\r\nimport { ToolbarDropDownItem } from \"./ToolbarDropDownItem\";\r\nimport { ToolbarItemDisplayStyle } from \"./ToolbarItemDisplayStyle\";\r\n/**\r\n * 工具栏下拉按钮项\r\n */\r\nvar ToolbarDropDownButton = /** @class */ (function (_super) {\r\n    __extends(ToolbarDropDownButton, _super);\r\n    function ToolbarDropDownButton() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.displayStyle = ToolbarItemDisplayStyle.ImageAndText;\r\n        return _this;\r\n    }\r\n    return ToolbarDropDownButton;\r\n}(ToolbarDropDownItem));\r\nexport { ToolbarDropDownButton };\r\n//# sourceMappingURL=ToolbarDropDownButton.js.map","import { __extends } from \"tslib\";\r\nimport { ToolbarDropDownItem } from \"./ToolbarDropDownItem\";\r\n/**\r\n * 工具栏下拉按钮弹出菜单项\r\n */\r\nvar ToolbarDropDownMenuItem = /** @class */ (function (_super) {\r\n    __extends(ToolbarDropDownMenuItem, _super);\r\n    function ToolbarDropDownMenuItem() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    return ToolbarDropDownMenuItem;\r\n}(ToolbarDropDownItem));\r\nexport { ToolbarDropDownMenuItem };\r\n//# sourceMappingURL=ToolbarDropDownMenuItem.js.map","/**\r\n * 工具栏列表类\r\n */\r\nvar ToolbarItems = /** @class */ (function () {\r\n    function ToolbarItems() {\r\n        /**\r\n         * 工具栏项字典\r\n         */\r\n        this.itemDict = {};\r\n        /**\r\n         * 工具栏项列表\r\n         */\r\n        this.itemList = [];\r\n    }\r\n    return ToolbarItems;\r\n}());\r\nexport { ToolbarItems };\r\n//# sourceMappingURL=ToolbarItems.js.map","import { __extends } from \"tslib\";\r\nimport { ToolbarActionItem } from \"./ToolbarActionItem\";\r\n/**\r\n * 工具栏菜单项\r\n */\r\nvar ToolbarMenuItem = /** @class */ (function (_super) {\r\n    __extends(ToolbarMenuItem, _super);\r\n    function ToolbarMenuItem() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    return ToolbarMenuItem;\r\n}(ToolbarActionItem));\r\nexport { ToolbarMenuItem };\r\n//# sourceMappingURL=ToolbarMenuItem.js.map","import { __extends } from \"tslib\";\r\nimport { ToolbarItem } from \"./ToolbarItem\";\r\n/**\r\n * 工具栏分割条\r\n */\r\nvar ToolbarSeparator = /** @class */ (function (_super) {\r\n    __extends(ToolbarSeparator, _super);\r\n    function ToolbarSeparator() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    return ToolbarSeparator;\r\n}(ToolbarItem));\r\nexport { ToolbarSeparator };\r\n//# sourceMappingURL=ToolbarSeparator.js.map","import { __extends } from \"tslib\";\r\nimport { mxResources } from \"@edp-pmf/mxgraph-ts\";\r\nimport { Constant } from \"../util/Constant\";\r\nimport { ResourceKeys } from \"../util/ResourceKeys\";\r\nimport { ToolbarDropDownButton } from \"./ToolbarDropDownButton\";\r\nimport { ToolbarItemDisplayStyle } from \"./ToolbarItemDisplayStyle\";\r\nimport { ToolbarItems } from \"./ToolbarItems\";\r\nimport { ToolbarSeparator } from \"./ToolbarSeparator\";\r\n/**\r\n * 默认的工具栏列表\r\n */\r\nvar DefaultToolbarItems = /** @class */ (function (_super) {\r\n    __extends(DefaultToolbarItems, _super);\r\n    function DefaultToolbarItems() {\r\n        var _this = _super.call(this) || this;\r\n        _this.init();\r\n        return _this;\r\n    }\r\n    /**\r\n     * 初始化\r\n     */\r\n    DefaultToolbarItems.prototype.init = function () {\r\n        var btnMainMenu = new ToolbarDropDownButton();\r\n        btnMainMenu.resourceKey = ResourceKeys.pmf_mainMenu;\r\n        btnMainMenu.displayStyle = ToolbarItemDisplayStyle.Image;\r\n        btnMainMenu.imageSrc = Constant.IMAGE_PATH + \"/iconic/svg/menu.svg\";\r\n        btnMainMenu.imageClassName = \"pmf_iconic_svg\";\r\n        btnMainMenu.toolTipText = mxResources.get(ResourceKeys.pmf_mainMenu);\r\n        this.itemDict[ResourceKeys.pmf_mainMenu] = btnMainMenu;\r\n        this.itemList.push(btnMainMenu);\r\n        this.itemList.push(new ToolbarSeparator());\r\n        var btnZoom = new ToolbarDropDownButton();\r\n        btnZoom.displayStyle = ToolbarItemDisplayStyle.Text;\r\n        btnZoom.text = \"100%\";\r\n        btnZoom.resourceKey = ResourceKeys.pmf_zoom;\r\n        btnZoom.toolTipText = mxResources.get(ResourceKeys.pmf_zoom);\r\n        this.itemDict[ResourceKeys.pmf_zoom] = btnZoom;\r\n        this.itemList.push(btnZoom);\r\n    };\r\n    return DefaultToolbarItems;\r\n}(ToolbarItems));\r\nexport { DefaultToolbarItems };\r\n//# sourceMappingURL=DefaultToolbarItems.js.map","/**\r\n * mxgraph内置类，并未导出\r\n */\r\nexport var MxGraphInnerClass;\r\n(function (MxGraphInnerClass) {\r\n    MxGraphInnerClass[\"mxCellCodec\"] = \"mxCellCodec\";\r\n    MxGraphInnerClass[\"mxChildChangeCodec\"] = \"mxChildChangeCodec\";\r\n    MxGraphInnerClass[\"mxDefaultKeyHandlerCodec\"] = \"mxDefaultKeyHandlerCodec\";\r\n    MxGraphInnerClass[\"mxDefaultPopupMenuCodec\"] = \"mxDefaultPopupMenuCodec\";\r\n    MxGraphInnerClass[\"mxEditorCodec\"] = \"mxEditorCodec\";\r\n    MxGraphInnerClass[\"mxGraphCodec\"] = \"mxGraphCodec\";\r\n    MxGraphInnerClass[\"mxGraphViewCodec\"] = \"mxGraphViewCodec\";\r\n    MxGraphInnerClass[\"mxModelCodec\"] = \"mxModelCodec\";\r\n    MxGraphInnerClass[\"mxRootChangeCodec\"] = \"mxRootChangeCodec\";\r\n    MxGraphInnerClass[\"mxTerminalChangeCodec\"] = \"mxTerminalChangeCodec\";\r\n    MxGraphInnerClass[\"mxRootChange\"] = \"mxRootChange\";\r\n    MxGraphInnerClass[\"mxChildChange\"] = \"mxChildChange\";\r\n    MxGraphInnerClass[\"mxTerminalChange\"] = \"mxTerminalChange\";\r\n    MxGraphInnerClass[\"mxValueChange\"] = \"mxValueChange\";\r\n    MxGraphInnerClass[\"mxStyleChange\"] = \"mxStyleChange\";\r\n    MxGraphInnerClass[\"mxGeometryChange\"] = \"mxGeometryChange\";\r\n    MxGraphInnerClass[\"mxCollapseChange\"] = \"mxCollapseChange\";\r\n    MxGraphInnerClass[\"mxVisibleChange\"] = \"mxVisibleChange\";\r\n    MxGraphInnerClass[\"mxCellAttributeChange\"] = \"mxCellAttributeChange\";\r\n    MxGraphInnerClass[\"renderingHint\"] = \"renderingHint\";\r\n    MxGraphInnerClass[\"mxSelectionChange\"] = \"mxSelectionChange\";\r\n    MxGraphInnerClass[\"mxCurrentRootChange\"] = \"mxCurrentRootChange\";\r\n})(MxGraphInnerClass || (MxGraphInnerClass = {}));\r\n//# sourceMappingURL=MxGraphInnerClass.js.map","/**\r\n * 工具箱类，内含多个控件分组\r\n */\r\nvar Toolbox = /** @class */ (function () {\r\n    function Toolbox() {\r\n        /**\r\n         * 控件分组列表\r\n         */\r\n        this.groups = [];\r\n    }\r\n    return Toolbox;\r\n}());\r\nexport { Toolbox };\r\n//# sourceMappingURL=ToolBox.js.map","/**\r\n * 控件分组类，内含多个控件\r\n */\r\nvar ToolboxGroup = /** @class */ (function () {\r\n    function ToolboxGroup() {\r\n        /**\r\n         * 控件列表\r\n         */\r\n        this.items = [];\r\n    }\r\n    return ToolboxGroup;\r\n}());\r\nexport { ToolboxGroup };\r\n//# sourceMappingURL=ToolBoxGroup.js.map","/**\r\n * 控件类\r\n */\r\nvar ToolboxItem = /** @class */ (function () {\r\n    function ToolboxItem(clrTypeId, name, imgUrl) {\r\n        this.clrTypeId = clrTypeId;\r\n        this.name = name;\r\n        this.imgUrl = imgUrl;\r\n    }\r\n    return ToolboxItem;\r\n}());\r\nexport { ToolboxItem };\r\n//# sourceMappingURL=ToolBoxItem.js.map","import { __extends } from \"tslib\";\r\nimport { mxResources } from \"@edp-pmf/mxgraph-ts\";\r\nimport { Toolbox } from \"./ToolBox\";\r\nimport { ToolboxGroup } from \"./ToolBoxGroup\";\r\nimport { ToolboxItem } from \"./ToolBoxItem\";\r\n/**\r\n * 默认工具箱\r\n */\r\nvar DefaultToolbox = /** @class */ (function (_super) {\r\n    __extends(DefaultToolbox, _super);\r\n    function DefaultToolbox() {\r\n        var _this = _super.call(this) || this;\r\n        _this.init();\r\n        return _this;\r\n    }\r\n    /**\r\n     * 初始化\r\n     */\r\n    DefaultToolbox.prototype.init = function () {\r\n        var g1 = new ToolboxGroup();\r\n        g1.name = mxResources.get(\"Basic Element\") || \"基本元素\";\r\n        g1.items.push(new ToolboxItem(\"bpmn.StartEvent\"), new ToolboxItem(\"bpmn.ExclusiveGateway\"), new ToolboxItem(\"bpmn.InclusiveGateway\"), new ToolboxItem(\"bpmn.ParallelGateway\"), new ToolboxItem(\"bpmn.EndEvent\"));\r\n        this.groups.push(g1);\r\n    };\r\n    return DefaultToolbox;\r\n}(Toolbox));\r\nexport { DefaultToolbox };\r\n//# sourceMappingURL=DefaultToolBox.js.map","/**\r\n * 底部栏\r\n */\r\nvar Footer = /** @class */ (function () {\r\n    function Footer(editorUi, container) {\r\n        this.editorUi = editorUi;\r\n        this.container = container;\r\n    }\r\n    return Footer;\r\n}());\r\nexport { Footer };\r\n//# sourceMappingURL=Footer.js.map","/**\r\n * 内置属性框\r\n */\r\nvar Format = /** @class */ (function () {\r\n    function Format(editorUi, container) {\r\n        this.editorUi = editorUi;\r\n        this.container = container;\r\n    }\r\n    return Format;\r\n}());\r\nexport { Format };\r\n//# sourceMappingURL=Format.js.map","/**\r\n*\r\n*  Base64 encode / decode\r\n*  http://www.webtoolkit.info/\r\n*\r\n**/\r\nexport var Base64 = {\r\n    // private property\r\n    _keyStr: \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\",\r\n    // public method for encoding\r\n    encode: function (input, binary) {\r\n        binary = (binary != null) ? binary : false;\r\n        var output = \"\";\r\n        var chr1, chr2, chr3, enc1, enc2, enc3, enc4;\r\n        var i = 0;\r\n        if (!binary) {\r\n            input = Base64._utf8_encode(input);\r\n        }\r\n        while (i < input.length) {\r\n            chr1 = input.charCodeAt(i++);\r\n            chr2 = input.charCodeAt(i++);\r\n            chr3 = input.charCodeAt(i++);\r\n            enc1 = chr1 >> 2;\r\n            enc2 = ((chr1 & 3) << 4) | (chr2 >> 4);\r\n            enc3 = ((chr2 & 15) << 2) | (chr3 >> 6);\r\n            enc4 = chr3 & 63;\r\n            if (isNaN(chr2)) {\r\n                enc3 = enc4 = 64;\r\n            }\r\n            else if (isNaN(chr3)) {\r\n                enc4 = 64;\r\n            }\r\n            output = output +\r\n                this._keyStr.charAt(enc1) + this._keyStr.charAt(enc2) +\r\n                this._keyStr.charAt(enc3) + this._keyStr.charAt(enc4);\r\n        }\r\n        return output;\r\n    },\r\n    // public method for decoding\r\n    decode: function (input, binary) {\r\n        binary = (binary != null) ? binary : false;\r\n        var output = \"\";\r\n        var chr1, chr2, chr3;\r\n        var enc1, enc2, enc3, enc4;\r\n        var i = 0;\r\n        input = input.replace(/[^A-Za-z0-9\\+\\/\\=]/g, \"\");\r\n        while (i < input.length) {\r\n            enc1 = this._keyStr.indexOf(input.charAt(i++));\r\n            enc2 = this._keyStr.indexOf(input.charAt(i++));\r\n            enc3 = this._keyStr.indexOf(input.charAt(i++));\r\n            enc4 = this._keyStr.indexOf(input.charAt(i++));\r\n            chr1 = (enc1 << 2) | (enc2 >> 4);\r\n            chr2 = ((enc2 & 15) << 4) | (enc3 >> 2);\r\n            chr3 = ((enc3 & 3) << 6) | enc4;\r\n            output = output + String.fromCharCode(chr1);\r\n            if (enc3 != 64) {\r\n                output = output + String.fromCharCode(chr2);\r\n            }\r\n            if (enc4 != 64) {\r\n                output = output + String.fromCharCode(chr3);\r\n            }\r\n        }\r\n        if (!binary) {\r\n            output = Base64._utf8_decode(output);\r\n        }\r\n        return output;\r\n    },\r\n    // private method for UTF-8 encoding\r\n    _utf8_encode: function (str) {\r\n        str = str.replace(/\\r\\n/g, \"\\n\");\r\n        var utftext = \"\";\r\n        for (var n = 0; n < str.length; n++) {\r\n            var c = str.charCodeAt(n);\r\n            if (c < 128) {\r\n                utftext += String.fromCharCode(c);\r\n            }\r\n            else if ((c > 127) && (c < 2048)) {\r\n                utftext += String.fromCharCode((c >> 6) | 192);\r\n                utftext += String.fromCharCode((c & 63) | 128);\r\n            }\r\n            else {\r\n                utftext += String.fromCharCode((c >> 12) | 224);\r\n                utftext += String.fromCharCode(((c >> 6) & 63) | 128);\r\n                utftext += String.fromCharCode((c & 63) | 128);\r\n            }\r\n        }\r\n        return utftext;\r\n    },\r\n    // private method for UTF-8 decoding\r\n    _utf8_decode: function (utftext) {\r\n        var string = \"\";\r\n        var i = 0;\r\n        var c = 0;\r\n        var c1 = 0;\r\n        var c2 = 0;\r\n        var c3;\r\n        while (i < utftext.length) {\r\n            c = utftext.charCodeAt(i);\r\n            if (c < 128) {\r\n                string += String.fromCharCode(c);\r\n                i++;\r\n            }\r\n            else if ((c > 191) && (c < 224)) {\r\n                c2 = utftext.charCodeAt(i + 1);\r\n                string += String.fromCharCode(((c & 31) << 6) | (c2 & 63));\r\n                i += 2;\r\n            }\r\n            else {\r\n                c2 = utftext.charCodeAt(i + 1);\r\n                c3 = utftext.charCodeAt(i + 2);\r\n                string += String.fromCharCode(((c & 15) << 12) | ((c2 & 63) << 6) | (c3 & 63));\r\n                i += 3;\r\n            }\r\n        }\r\n        return string;\r\n    }\r\n};\r\n//# sourceMappingURL=Base64.js.map","import { __extends } from \"tslib\";\r\nimport { mxClient, mxConstants, mxGraphView, mxUtils } from \"@edp-pmf/mxgraph-ts\";\r\nimport { Base64 } from \"../util/Base64\";\r\nimport { Constant } from \"../util/Constant\";\r\nimport { Graph } from \"./Graph\";\r\n/**\r\n * 画布视图类，可通过mxCellState获取元素的绝对坐标等信息\r\n */\r\nvar GraphView = /** @class */ (function (_super) {\r\n    __extends(GraphView, _super);\r\n    function GraphView(graph) {\r\n        var _this = _super.call(this, graph) || this;\r\n        /**\r\n         * 网格图片\r\n         */\r\n        _this.gridImage = Constant.IMAGE_PATH + '/grid.gif';\r\n        /**\r\n         * 网格颜色\r\n         */\r\n        _this.gridColor = '#e0e0e0';\r\n        /**\r\n         * 网格间隔\r\n         */\r\n        _this.gridSteps = 4;\r\n        /**\r\n         * 网格大小\r\n         */\r\n        _this.minGridSize = 4;\r\n        return _this;\r\n    }\r\n    /**\r\n     * 画布网格背景\r\n     */\r\n    GraphView.prototype.validateBackgroundPage = function () {\r\n        _super.prototype.validateBackgroundPage.call(this);\r\n        var graph = this.graph;\r\n        if (graph.container != null) {\r\n            this.validateBackgroundStyles();\r\n        }\r\n    };\r\n    /**\r\n     * 画布网格背景\r\n     */\r\n    GraphView.prototype.validateBackgroundStyles = function () {\r\n        // Updates the CSS of the background to draw the grid\r\n        var graph = this.graph;\r\n        var color = (graph.background == null || graph.background == mxConstants.NONE) ? Graph.defaultPageBackgroundColor : graph.background;\r\n        var gridColor = (color != null && this.gridColor != color.toLowerCase()) ? this.gridColor : '#ffffff';\r\n        var image = 'none';\r\n        var position = '';\r\n        if (graph.isGridEnabled()) {\r\n            var phase = 10;\r\n            if (mxClient.IS_SVG) {\r\n                // Generates the SVG required for drawing the dynamic grid\r\n                image = unescape(encodeURIComponent(this.createSvgGrid(gridColor)));\r\n                image = (window.btoa) ? btoa(image) : Base64.encode(image, true);\r\n                image = 'url(' + 'data:image/svg+xml;base64,' + image + ')';\r\n                phase = graph.gridSize * this.scale * this.gridSteps;\r\n            }\r\n            else {\r\n                // Fallback to grid wallpaper with fixed size\r\n                image = 'url(' + this.gridImage + ')';\r\n            }\r\n            var x0 = 0;\r\n            var y0 = 0;\r\n            if (graph.view.backgroundPageShape != null) {\r\n                var bds = this.getBackgroundPageBounds();\r\n                x0 = 1 + bds.x;\r\n                y0 = 1 + bds.y;\r\n            }\r\n            // Computes the offset to maintain origin for grid\r\n            position = -Math.round(phase - mxUtils.mod(this.translate.x * this.scale - x0, phase)) + 'px ' +\r\n                -Math.round(phase - mxUtils.mod(this.translate.y * this.scale - y0, phase)) + 'px';\r\n        }\r\n        var canvas = graph.view.canvas;\r\n        if (canvas.ownerSVGElement != null) {\r\n            canvas = canvas.ownerSVGElement;\r\n        }\r\n        if (graph.view.backgroundPageShape != null) {\r\n            graph.view.backgroundPageShape.node.style.backgroundPosition = position;\r\n            graph.view.backgroundPageShape.node.style.backgroundImage = image;\r\n            graph.view.backgroundPageShape.node.style.backgroundColor = color;\r\n            graph.container.className = 'geDiagramContainer geDiagramBackdrop';\r\n            canvas.style.backgroundImage = 'none';\r\n            canvas.style.backgroundColor = '';\r\n        }\r\n        else {\r\n            graph.container.className = 'geDiagramContainer';\r\n            canvas.style.backgroundPosition = position;\r\n            canvas.style.backgroundColor = color;\r\n            canvas.style.backgroundImage = image;\r\n        }\r\n    };\r\n    /**\r\n     * 画布网格背景\r\n     */\r\n    GraphView.prototype.createSvgGrid = function (color) {\r\n        // Returns the SVG required for painting the background grid.\r\n        var tmp = this.graph.gridSize * this.scale;\r\n        while (tmp < this.minGridSize) {\r\n            tmp *= 2;\r\n        }\r\n        var tmp2 = this.gridSteps * tmp;\r\n        // Small grid lines\r\n        var d = [];\r\n        for (var i = 1; i < this.gridSteps; i++) {\r\n            var tmp3 = i * tmp;\r\n            d.push('M 0 ' + tmp3 + ' L ' + tmp2 + ' ' + tmp3 + ' M ' + tmp3 + ' 0 L ' + tmp3 + ' ' + tmp2);\r\n        }\r\n        // KNOWN: Rounding errors for certain scales (eg. 144%, 121% in Chrome, FF and Safari). Workaround\r\n        // in Chrome is to use 100% for the svg size, but this results in blurred grid for large diagrams.\r\n        var size = tmp2;\r\n        var svg = '<svg width=\"' + size + '\" height=\"' + size + '\" xmlns=\"' + mxConstants.NS_SVG + '\">' +\r\n            '<defs><pattern id=\"grid\" width=\"' + tmp2 + '\" height=\"' + tmp2 + '\" patternUnits=\"userSpaceOnUse\">' +\r\n            '<path d=\"' + d.join(' ') + '\" fill=\"none\" stroke=\"' + color + '\" opacity=\"0.2\" stroke-width=\"1\"/>' +\r\n            '<path d=\"M ' + tmp2 + ' 0 L 0 0 0 ' + tmp2 + '\" fill=\"none\" stroke=\"' + color + '\" stroke-width=\"1\"/>' +\r\n            '</pattern></defs><rect width=\"100%\" height=\"100%\" fill=\"url(#grid)\"/></svg>';\r\n        return svg;\r\n    };\r\n    return GraphView;\r\n}(mxGraphView));\r\nexport { GraphView };\r\n//# sourceMappingURL=GraphView.js.map","import { mxPoint } from \"@edp-pmf/mxgraph-ts\";\r\n/**\r\n * mxgraph工具类\r\n */\r\nvar MxGraphHelper = /** @class */ (function () {\r\n    function MxGraphHelper() {\r\n    }\r\n    /**\r\n     * 根据绝对坐标获取相对坐标\r\n     * @param pt\r\n     * @param scale\r\n     * @param tr\r\n     * @returns\r\n     */\r\n    MxGraphHelper.getRelativePositon = function (pt, scale, tr) {\r\n        return new mxPoint(pt.x / scale - tr.x, pt.y / scale - tr.y);\r\n    };\r\n    return MxGraphHelper;\r\n}());\r\nexport { MxGraphHelper };\r\n//# sourceMappingURL=MxGraphHelper.js.map","import { __extends } from \"tslib\";\r\nimport { BPMNDiagram, BpmnModel, Node, Edge, Process } from \"@edp-pmf/bpmn-model\";\r\nimport { mxCodec, mxConnectionConstraint, mxConnectionHandler, mxConstants, mxConstraintHandler, mxEdgeHandler, mxEventObject, mxGeometry, mxGraph, mxImage, mxImageShape, mxPoint, mxRectangle, mxShape, mxUtils } from \"@edp-pmf/mxgraph-ts\";\r\nimport { SequenceFlowEdge } from \"../model/bpmn-cell/SequenceFlowEdge\";\r\nimport { Cell } from \"../model/Cell\";\r\nimport { EdgeCell } from \"../model/EdgeCell\";\r\nimport { NodeCell } from \"../model/NodeCell\";\r\nimport { BpmnCellHelper } from \"../util/BpmnCellHelper\";\r\nimport { Constant } from \"../util/Constant\";\r\nimport { PmfEvents } from \"../util/PmfEvents\";\r\nimport { GraphView } from \"./GraphView\";\r\nimport { MxGraphHelper } from \"../util/MxGraphHelper\";\r\nimport { ProcessCell } from \"../model/ProcessCell\";\r\n/**\r\n * 画布\r\n */\r\nvar Graph = /** @class */ (function (_super) {\r\n    __extends(Graph, _super);\r\n    function Graph(editorUi, container, model, renderHint, stylesheet, themes) {\r\n        var _this = _super.call(this, container, model, renderHint, stylesheet) || this;\r\n        /**\r\n         * BPMN模型是否加载完成\r\n         * todo：借用此属性来作为坐标修改事件是否真正触发的依据感觉仍然存在问题，待进一步优化\r\n         */\r\n        _this.bpmnModelLoaded = false;\r\n        /**\r\n         * 可滚动区域大小\r\n         */\r\n        _this.scrollTileSize = new mxRectangle(0, 0, 400, 400);\r\n        _this.editorUi = editorUi;\r\n        _this.themes = themes;\r\n        if (stylesheet == null) {\r\n            _this.loadStylesheet();\r\n        }\r\n        // 可连线\r\n        _this.setConnectable(true);\r\n        // 不可重复连线\r\n        _this.setMultigraph(false);\r\n        // 不可悬空连线\r\n        _this.setAllowDanglingEdges(false);\r\n        // 不允许有环路，不生效？\r\n        _this.setAllowLoops(false);\r\n        // 不可双击编辑标签\r\n        _this.setCellsEditable(false);\r\n        // 不允许活动节点改变大小\r\n        _this.setCellsResizable(false);\r\n        // 连线标签可移动\r\n        _this.setEdgeLabelsMovable(true);\r\n        // 禁止Ctrl + 拖动进行复制操作\r\n        _this.setCellsCloneable(false);\r\n        // 启用引导线\r\n        _this.graphHandler.guidesEnabled = true;\r\n        // 启用网格状态变化时\r\n        _this.addListener(PmfEvents.GridEnabledChanged, function () {\r\n            _this.view.validateBackground();\r\n        });\r\n        // 启用网格\r\n        _this.setGridEnabled(true);\r\n        // 禁用自动滚动\r\n        _this.autoScroll = false;\r\n        // 启用自动扩展\r\n        _this.autoExtend = true;\r\n        // 禁用页面视图\r\n        _this.pageVisible = false;\r\n        // 禁用节点分割连线\r\n        _this.setSplitEnabled(false);\r\n        // 设置默认样式\r\n        _this.setDefaultStyles();\r\n        // 创建多连接点\r\n        _this.setMultiConstraints();\r\n        // 设置默认BPMN模型与流程元素实例\r\n        _this.setDefaultBpmnModel();\r\n        return _this;\r\n    }\r\n    /**\r\n     * 设置默认样式\r\n     */\r\n    Graph.prototype.setDefaultStyles = function () {\r\n        var styleSheet = this.getStylesheet();\r\n        // 节点默认样式\r\n        var vertexStyle = styleSheet.getDefaultVertexStyle();\r\n        vertexStyle[mxConstants.STYLE_SHAPE] = mxConstants.SHAPE_IMAGE;\r\n        vertexStyle[mxConstants.STYLE_VERTICAL_LABEL_POSITION] = mxConstants.ALIGN_BOTTOM;\r\n        vertexStyle[mxConstants.STYLE_FONTSIZE] = 12;\r\n        // 连线样式默认为正交\r\n        var edgeStyle = styleSheet.getDefaultEdgeStyle();\r\n        edgeStyle[mxConstants.STYLE_EDGE] = mxConstants.EDGESTYLE_ORTHOGONAL;\r\n        edgeStyle[mxConstants.STYLE_STROKECOLOR] = '#6482B9';\r\n        edgeStyle[mxConstants.STYLE_ENDARROW] = mxConstants.ARROW_BLOCK;\r\n        edgeStyle[mxConstants.STYLE_ROUNDED] = 1;\r\n        edgeStyle[mxConstants.STYLE_ENDFILL] = 1;\r\n        edgeStyle[mxConstants.STYLE_ENDSIZE] = 6;\r\n    };\r\n    /**\r\n     * 加载样式\r\n     */\r\n    Graph.prototype.loadStylesheet = function () {\r\n        var node = this.themes || mxUtils.load(Constant.STYLE_PATH + '/default.xml').getDocumentElement();\r\n        if (node != null) {\r\n            var dec = new mxCodec(node.ownerDocument);\r\n            dec.decode(node, this.getStylesheet());\r\n        }\r\n    };\r\n    /**\r\n     * 选中cell变化后事件处理\r\n     * @param cells\r\n     */\r\n    Graph.prototype.bpmnCellsSelectionChanged = function (cells, sender, eventObject) {\r\n        //该段代码仅为了解决父页面属性框值修改后，点击画布内活动节点时不会触发其失去焦点事件的问题\r\n        focus();\r\n        this.editorUi.fireEvent(new mxEventObject(PmfEvents.ShowProperty, \"cells\", cells));\r\n    };\r\n    /**\r\n     * 删除cell后同时从bpmnmodel中删除\r\n     * @param cells\r\n     */\r\n    Graph.prototype.bpmnCellsRemoved = function (cells, sender, eventObject) {\r\n        // 先删除边\r\n        cells && cells.forEach(function (cell) {\r\n            if (cell instanceof EdgeCell) {\r\n                cell.unbindBpmnModel();\r\n            }\r\n        });\r\n        // 再删除节点\r\n        cells && cells.forEach(function (cell) {\r\n            if (cell instanceof NodeCell) {\r\n                cell.unbindBpmnModel();\r\n            }\r\n        });\r\n    };\r\n    /**\r\n     * 连接两个节点后为edge绑定bpmn相关属性\r\n     * @param edge\r\n     */\r\n    Graph.prototype.bpmnCellsConnected = function (edge, sender, eventObject) {\r\n        var _this = this;\r\n        this.bindBpmnElements([edge]);\r\n        // 此时无法拿到mxCellState，故延时操作\r\n        setTimeout(function () {\r\n            _this.updateEdgeState(edge);\r\n        }, 0);\r\n    };\r\n    /**\r\n     * 连线端点改变后同步修改Bpmn相关属性\r\n     * @param source true表示来源端点改变，false表示目标端点改变\r\n     */\r\n    Graph.prototype.bpmnEdgeTerminalChanged = function (edge, terminal, source, previous, sender, eventObject, change) {\r\n        // 更新相关连线路径点与标签\r\n        this.updateEdgeState(edge);\r\n        // 添加连线时同样会执行此方法，需根据previous与terminal判断是否为新增连线\r\n        if (terminal == previous) {\r\n            return;\r\n        }\r\n        // 端点改变时执行下列代码\r\n        if (edge instanceof EdgeCell && edge.flowElement != null) {\r\n            var seqFlow = edge.flowElement;\r\n            var diagElt = edge.diagramElement;\r\n            var srcFlowNode = edge.source && edge.source.flowElement;\r\n            var srcDiagElt = edge.source && edge.source.diagramElement;\r\n            var tarFlowNode = edge.target && edge.target.flowElement;\r\n            var tarDiagElt = edge.target && edge.target.diagramElement;\r\n            var oldSeqFlowId_1 = seqFlow.Id;\r\n            // 先删除原flowElt和diagElt\r\n            this.bpmnModel.DefaultProcess.RemoveFlowElement(seqFlow.Id);\r\n            this.bpmnModel.DefaultDiagram.BpmnPlane.RemoveDiagramElement(diagElt.Id);\r\n            // 赋值新来源端点Id\r\n            seqFlow.SourceRef = srcFlowNode && srcFlowNode.Id;\r\n            // 赋值新目标端点Id\r\n            seqFlow.TargetRef = tarFlowNode && tarFlowNode.Id;\r\n            // 重新赋值Id\r\n            seqFlow.Id = seqFlow.SourceRef + '_' + seqFlow.TargetRef;\r\n            diagElt.BpmnElementId = seqFlow.Id;\r\n            diagElt.SourceShapeElementId = srcDiagElt.Id;\r\n            diagElt.TargetShapeElementId = tarDiagElt.Id;\r\n            // 重新添加\r\n            this.bpmnModel.DefaultProcess.AddFlowElement(seqFlow);\r\n            this.bpmnModel.DefaultDiagram.BpmnPlane.AddDiagramElement(diagElt);\r\n            // 变得是来源端点\r\n            if (source) {\r\n                var oldSrcFlowNode = previous && previous.flowElement;\r\n                // 挪动的线为默认分支时，取消默认分支限制\r\n                if (oldSrcFlowNode.Default && oldSrcFlowNode.Default == oldSeqFlowId_1) {\r\n                    oldSrcFlowNode.Default = null;\r\n                }\r\n                // 原来源端点删除去向\r\n                if (oldSrcFlowNode != null && oldSrcFlowNode != srcFlowNode) {\r\n                    oldSrcFlowNode.Outgoings = oldSrcFlowNode.Outgoings ? oldSrcFlowNode.Outgoings.filter(function (it) {\r\n                        return it != oldSeqFlowId_1;\r\n                    }) : [];\r\n                }\r\n                // 新来源端点增加去向\r\n                if (srcFlowNode != null && !edge.existOutging(this.bpmnModel, srcFlowNode, tarFlowNode)) {\r\n                    srcFlowNode.Outgoings.push(seqFlow.Id);\r\n                }\r\n                // 目标节点删除来源\r\n                if (tarFlowNode != null) {\r\n                    tarFlowNode.Incomings = tarFlowNode.Incomings ? tarFlowNode.Incomings.filter(function (it) {\r\n                        return it != oldSeqFlowId_1;\r\n                    }) : [];\r\n                }\r\n                // 目标端点增加来源\r\n                if (tarFlowNode != null && !edge.existIncoming(this.bpmnModel, srcFlowNode, tarFlowNode)) {\r\n                    tarFlowNode.Incomings.push(seqFlow.Id);\r\n                }\r\n            }\r\n            else {\r\n                var oldTarFlowNode = previous && previous.flowElement;\r\n                // 原目标端点删除来源\r\n                if (oldTarFlowNode != null && oldTarFlowNode != tarFlowNode) {\r\n                    oldTarFlowNode.Incomings = oldTarFlowNode.Incomings ? oldTarFlowNode.Incomings.filter(function (it) {\r\n                        return it != oldSeqFlowId_1;\r\n                    }) : [];\r\n                }\r\n                // 新目标端点增加来源\r\n                if (tarFlowNode != null && !edge.existIncoming(this.bpmnModel, tarFlowNode, srcFlowNode)) {\r\n                    tarFlowNode.Incomings.push(seqFlow.Id);\r\n                }\r\n                // 来源节点删除去向\r\n                if (srcFlowNode != null) {\r\n                    srcFlowNode.Outgoings = srcFlowNode.Outgoings ? srcFlowNode.Outgoings.filter(function (it) {\r\n                        return it != oldSeqFlowId_1;\r\n                    }) : [];\r\n                }\r\n                // 来源端点增加去向\r\n                if (srcFlowNode != null && !edge.existOutging(this.bpmnModel, srcFlowNode, tarFlowNode)) {\r\n                    srcFlowNode.Outgoings.push(seqFlow.Id);\r\n                }\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * cell几何信息改变后同步修改Bpmn相关属性\r\n     * @param cell\r\n     */\r\n    Graph.prototype.bpmnCellGeometryChanged = function (cell, sender, eventObject, change) {\r\n        var _this = this;\r\n        if (this.bpmnModelLoaded == false || cell.flowElement == null) {\r\n            return;\r\n        }\r\n        if (cell instanceof NodeCell) {\r\n            var shape = cell.diagramElement;\r\n            shape.Bounds.X = cell.geometry.x;\r\n            shape.Bounds.Y = cell.geometry.y;\r\n            shape.Bounds.Height = cell.geometry.height;\r\n            shape.Bounds.Width = cell.geometry.width;\r\n            // 更新相关连线路径点与标签\r\n            cell.edges && cell.edges.forEach(function (edge) {\r\n                _this.updateEdgeState(edge);\r\n            });\r\n        }\r\n        else if (cell instanceof EdgeCell) {\r\n            // 更新相关连线路径点与标签\r\n            this.updateEdgeState(cell);\r\n        }\r\n    };\r\n    /**\r\n     * cell名称修改后同步修改Bpmn相关属性\r\n     * @param cell\r\n     * @param sender\r\n     * @param evt\r\n     */\r\n    Graph.prototype.bpmnCellNameChanged = function (cell, sender, evt) {\r\n        this.getModel().beginUpdate();\r\n        try {\r\n            this.labelChanged(cell, cell.flowElement && cell.flowElement.Name, undefined);\r\n        }\r\n        finally {\r\n            this.getModel().endUpdate();\r\n        }\r\n        if (cell instanceof EdgeCell) {\r\n            this.updateEdgeState(cell);\r\n        }\r\n    };\r\n    /**\r\n     * 设置默认BPMN模型与流程元素实例\r\n     */\r\n    Graph.prototype.setDefaultBpmnModel = function () {\r\n        this.bpmnModel = this.createBpmnModel();\r\n        this.processCell = this.createProcessCell(this.bpmnModel);\r\n        this.bpmnModelLoaded = true;\r\n    };\r\n    /**\r\n     * 创建BpmnModel\r\n     */\r\n    Graph.prototype.createBpmnModel = function () {\r\n        var bpmnModel = new BpmnModel();\r\n        bpmnModel.TargetNamespace = \"Default_Namespace\";\r\n        bpmnModel.DefaultProcess = new Process(bpmnModel);\r\n        bpmnModel.DefaultDiagram = new BPMNDiagram(bpmnModel);\r\n        bpmnModel.DefaultDiagram.BpmnPlane.BpmnElementId = bpmnModel.DefaultProcess.Id;\r\n        return bpmnModel;\r\n    };\r\n    /**\r\n     * 加载BpmnModel并画图\r\n     */\r\n    Graph.prototype.loadBpmnModel = function (json) {\r\n        this.bpmnModelLoaded = false;\r\n        var bpmnModel = this.createBpmnModel();\r\n        bpmnModel.LoadFromJson(json);\r\n        this.drawBpmnGraph(bpmnModel);\r\n        this.bpmnModel = bpmnModel;\r\n        this.processCell = this.createProcessCell(this.bpmnModel);\r\n        this.bpmnModelLoaded = true;\r\n    };\r\n    /**\r\n     * 创建流程元素实例\r\n     * @param bpmnModel\r\n     * @returns\r\n     */\r\n    Graph.prototype.createProcessCell = function (bpmnModel) {\r\n        var processCell = new ProcessCell();\r\n        processCell.process = bpmnModel.DefaultProcess;\r\n        processCell.plane = bpmnModel.DefaultDiagram.BpmnPlane;\r\n        processCell.editorUi = this.editorUi;\r\n        return processCell;\r\n    };\r\n    /**\r\n     * 根据BpmnModel画图\r\n     */\r\n    Graph.prototype.drawBpmnGraph = function (bpmnModel) {\r\n        var _a = this.buildFlowDiagDict(bpmnModel), nodeDict = _a.nodeDict, edgeDict = _a.edgeDict;\r\n        var flowDict = this.buildFlowDict(bpmnModel);\r\n        this.drawNodeCells(flowDict, nodeDict);\r\n        this.drawEdgeCells(flowDict, edgeDict);\r\n    };\r\n    /**\r\n     * 画节点\r\n     */\r\n    Graph.prototype.drawNodeCells = function (flowDict, nodeDict) {\r\n        var _this = this;\r\n        Object.keys(nodeDict).forEach(function (bpmnModelElementId) {\r\n            var flowElt = flowDict[bpmnModelElementId];\r\n            var diagElt = nodeDict[bpmnModelElementId];\r\n            if (flowElt == null) {\r\n                return;\r\n            }\r\n            _this.drawNodeCell(flowElt, diagElt);\r\n        });\r\n    };\r\n    /**\r\n     * 画单个节点\r\n     */\r\n    Graph.prototype.drawNodeCell = function (flowElt, diagElt) {\r\n        var cell = BpmnCellHelper.generate(flowElt.ClrTypeID, undefined, new mxGeometry(diagElt.Bounds.X, diagElt.Bounds.Y, diagElt.Bounds.Width, diagElt.Bounds.Height));\r\n        cell.flowElement = flowElt;\r\n        cell.diagramElement = diagElt;\r\n        cell.editorUi = this.editorUi;\r\n        this.moveCells([cell], undefined, undefined, undefined, this.getDefaultParent());\r\n    };\r\n    /**\r\n     * 画连线\r\n     */\r\n    Graph.prototype.drawEdgeCells = function (flowDict, edgeDict) {\r\n        var _this = this;\r\n        Object.keys(edgeDict).forEach(function (bpmnModelElementId) {\r\n            var flowElt = flowDict[bpmnModelElementId];\r\n            var diagElt = edgeDict[bpmnModelElementId];\r\n            if (flowElt == null) {\r\n                return;\r\n            }\r\n            _this.drawEdgeCell(flowElt, diagElt);\r\n        });\r\n    };\r\n    /**\r\n     * 画单个连线\r\n     */\r\n    Graph.prototype.drawEdgeCell = function (flowElt, diagElt) {\r\n        // 获取已画好的所有节点\r\n        var nodeCells = (this.getChildCells(this.getDefaultParent(), true) || []);\r\n        var source = nodeCells.find(function (it) {\r\n            return it.flowElement && it.flowElement.Id === flowElt.SourceRef;\r\n        });\r\n        var target = nodeCells.find(function (it) {\r\n            return it.flowElement && it.flowElement.Id === flowElt.TargetRef;\r\n        });\r\n        var cell = BpmnCellHelper.generate(flowElt.ClrTypeID, undefined, new mxGeometry());\r\n        cell.geometry.relative = true;\r\n        cell.flowElement = flowElt;\r\n        cell.diagramElement = diagElt;\r\n        cell.editorUi = this.editorUi;\r\n        cell.source = source;\r\n        cell.target = target;\r\n        cell.geometry.points = cell.geometry.points || [];\r\n        // 判断是否为旧版本连线\r\n        if (this.isOldBpmnEdge(diagElt)) {\r\n            for (var i = 2; i < diagElt.Points.length; i++) {\r\n                var pt = diagElt.Points[i];\r\n                cell.geometry.points.push(new mxPoint(pt.X, pt.Y));\r\n            }\r\n            // 此行代码执行后可获取mxCellState\r\n            this.moveCells([cell], undefined, undefined, undefined, this.getDefaultParent());\r\n            //按坐标插入label\r\n            var state = this.view.getState(cell);\r\n            if (diagElt.BpmnLabel && state) {\r\n                if (diagElt.BpmnLabel.Bounds.X === 0 && diagElt.BpmnLabel.Bounds.Y === 0) {\r\n                    return;\r\n                }\r\n                var x = diagElt.BpmnLabel.Bounds.X + (state.x - state.paintBounds.x);\r\n                var y = diagElt.BpmnLabel.Bounds.Y + (state.y - state.paintBounds.y);\r\n                var edgeHandler = this.createEdgeHandler(state, undefined);\r\n                edgeHandler.moveLabel(state, x, y);\r\n                edgeHandler.destroy();\r\n            }\r\n        }\r\n        else {\r\n            // 根据连线的起点和终点坐标可以判断具体的连接点信息\r\n            // 根据起点判断来源端点的连接点位置\r\n            var exitX = (diagElt.Points[0].X - source.geometry.x) / source.geometry.width;\r\n            var exitY = (diagElt.Points[0].Y - source.geometry.y) / source.geometry.height;\r\n            // 根据终点判断目标端点的连接点位置\r\n            var entryX = (diagElt.Points[diagElt.Points.length - 1].X - target.geometry.x) / source.geometry.width;\r\n            var entryY = (diagElt.Points[diagElt.Points.length - 1].Y - target.geometry.y) / source.geometry.height;\r\n            // 设置连线的起点和终点的指定连接点\r\n            cell.style = mxConstants.STYLE_EXIT_X + \"=\" + exitX + \";\" + mxConstants.STYLE_EXIT_Y + \"=\" + exitY + \";\" + mxConstants.STYLE_ENTRY_X + \"=\" + entryX + \";\" + mxConstants.STYLE_ENTRY_Y + \"=\" + entryY + \";\";\r\n            // todo：取包含起终点的路径点数组和排除起终点的路径点数组画图结果相同，出现问题时待进一步分析\r\n            for (var i = 1; i < diagElt.Points.length - 1; i++) {\r\n                var pt = diagElt.Points[i];\r\n                cell.geometry.points.push(new mxPoint(pt.X, pt.Y));\r\n            }\r\n            // 此行代码执行后可获取mxCellState\r\n            this.moveCells([cell], undefined, undefined, undefined, this.getDefaultParent());\r\n            //按坐标插入label\r\n            var state = this.view.getState(cell);\r\n            var scale = this.view.getScale();\r\n            var translate = this.view.getTranslate();\r\n            if (diagElt.BpmnLabel && state) {\r\n                if (diagElt.BpmnLabel.Bounds.X === 0 && diagElt.BpmnLabel.Bounds.Y === 0) {\r\n                    return;\r\n                }\r\n                var x = diagElt.BpmnLabel.Bounds.X * scale + translate.x;\r\n                var y = diagElt.BpmnLabel.Bounds.Y * scale + translate.y;\r\n                var edgeHandler = this.createEdgeHandler(state, undefined);\r\n                edgeHandler.moveLabel(state, x, y);\r\n                edgeHandler.destroy();\r\n            }\r\n        }\r\n        // 画完后清除拐点，否则这几个路径点会一直存在，连线位置更新时看起来非常别扭\r\n        cell.geometry.points = [];\r\n    };\r\n    /**\r\n     * 构建FlowElement字典，{ [flowEltId: string]: FlowElement }\r\n     */\r\n    Graph.prototype.buildFlowDict = function (bpmnModel) {\r\n        var flowDict = bpmnModel.DefaultProcess.GetFlowElements();\r\n        return flowDict;\r\n    };\r\n    /**\r\n     * 构建DiagramElement字典，{ [flowEltId: string]: DiagramElement }\r\n     */\r\n    Graph.prototype.buildFlowDiagDict = function (bpmnModel) {\r\n        var nodeDict = {};\r\n        var edgeDict = {};\r\n        var diagramElts = bpmnModel.DefaultDiagram.BpmnPlane.GetDiagramElements();\r\n        diagramElts && diagramElts.forEach(function (elt) {\r\n            if (elt instanceof Node) {\r\n                nodeDict[elt.BpmnElementId] = elt;\r\n            }\r\n            else if (elt instanceof Edge) {\r\n                edgeDict[elt.BpmnElementId] = elt;\r\n            }\r\n        });\r\n        return {\r\n            nodeDict: nodeDict,\r\n            edgeDict: edgeDict,\r\n        };\r\n    };\r\n    /**\r\n     * cell绑定bpmn相关信息\r\n     */\r\n    Graph.prototype.bindBpmnElements = function (cells, formFormats) {\r\n        var _this = this;\r\n        cells && cells.forEach(function (cell) {\r\n            if (cell instanceof Cell) {\r\n                cell.editorUi = _this.editorUi;\r\n                cell.bindBpmnModel();\r\n            }\r\n        });\r\n    };\r\n    /**\r\n     * 根据flowElementId获取cell\r\n     */\r\n    Graph.prototype.getCellByFlowElementId = function (flowEltId, parent) {\r\n        if (flowEltId == null) {\r\n            return null;\r\n        }\r\n        parent = parent ? parent : this.getDefaultParent();\r\n        var cells = this.getChildCells(parent);\r\n        var cell = cells.find(function (it) {\r\n            if (it instanceof Cell) {\r\n                return it.flowElement && it.flowElement.Id == flowEltId;\r\n            }\r\n            else {\r\n                return false;\r\n            }\r\n        });\r\n        return cell;\r\n    };\r\n    /**\r\n     * 更新连线状态\r\n     * @param cell\r\n     */\r\n    Graph.prototype.updateEdgeState = function (cell) {\r\n        this.updateEdgeWaypoints(cell);\r\n        this.updateEdgeLabel(cell);\r\n    };\r\n    /**\r\n     * 更新路径点\r\n     * @param cell\r\n     */\r\n    Graph.prototype.updateEdgeWaypoints = function (cell) {\r\n        if (cell == null) {\r\n            return;\r\n        }\r\n        var state = this.view.getState(cell);\r\n        var scale = this.view.getScale();\r\n        var translate = this.view.getTranslate();\r\n        // 路径点列表\r\n        var waypoints = [];\r\n        state && state.absolutePoints && state.absolutePoints.forEach(function (pt, idx) {\r\n            waypoints.push(MxGraphHelper.getRelativePositon(pt, scale, translate));\r\n        });\r\n        cell.setPoints(waypoints);\r\n    };\r\n    /**\r\n     * 更新连线标签\r\n     */\r\n    Graph.prototype.updateEdgeLabel = function (cell) {\r\n        var state = this.view.getState(cell);\r\n        var scale = this.view.getScale();\r\n        var translate = this.view.getTranslate();\r\n        // 对于边来说，在默认的非相对位置模式下，absoluteOffset是边的标签的绝对坐标\r\n        var pt = MxGraphHelper.getRelativePositon(state.absoluteOffset, scale, translate);\r\n        var width = state.text && state.text.boundingBox ? state.text.boundingBox.width / scale : 0;\r\n        var height = state.text && state.text.boundingBox ? state.text.boundingBox.height / scale : 0;\r\n        var rect = state.text && state.text.boundingBox ? new mxRectangle(pt.x, pt.y, width, height) : null;\r\n        cell.setBpmnLabel(rect);\r\n    };\r\n    /**\r\n     * 创建无限大画布\r\n     */\r\n    Graph.prototype.createInfiniteCanvas = function () {\r\n        var _this = this;\r\n        this.getPagePadding = function () {\r\n            return new mxPoint(Math.max(0, Math.round(_this.container.offsetWidth - 34)), Math.max(0, Math.round(_this.container.offsetHeight - 34)));\r\n        };\r\n        this.getScrollTileSize = function () {\r\n            if (_this.scrollTileSize == null) {\r\n                _this.scrollTileSize = new mxRectangle(0, 0, 400, 600);\r\n            }\r\n            return _this.scrollTileSize;\r\n        };\r\n        this.getPageSize = function () {\r\n            return (_this.pageVisible) ? new mxRectangle(0, 0, _this.pageFormat.width * _this.pageScale, _this.pageFormat.height * _this.pageScale) : _this.getScrollTileSize();\r\n        };\r\n        this.getPageLayout = function () {\r\n            var size = (_this.pageVisible) ? _this.getPageSize() : _this.getScrollTileSize();\r\n            var bounds = _this.getGraphBounds();\r\n            if (bounds.width == 0 || bounds.height == 0) {\r\n                return new mxRectangle(0, 0, 1, 1);\r\n            }\r\n            else {\r\n                // Computes untransformed graph bounds\r\n                var x = Math.ceil(bounds.x / _this.view.scale - _this.view.translate.x);\r\n                var y = Math.ceil(bounds.y / _this.view.scale - _this.view.translate.y);\r\n                var w = Math.floor(bounds.width / _this.view.scale);\r\n                var h = Math.floor(bounds.height / _this.view.scale);\r\n                var x0 = Math.floor(x / size.width);\r\n                var y0 = Math.floor(y / size.height);\r\n                var w0 = Math.ceil((x + w) / size.width) - x0;\r\n                var h0 = Math.ceil((y + h) / size.height) - y0;\r\n                return new mxRectangle(x0, y0, w0, h0);\r\n            }\r\n        };\r\n        this.getPreferredPageSize = function (bounds, width, height) {\r\n            var pages = _this.getPageLayout();\r\n            var size = _this.getPageSize();\r\n            return new mxRectangle(0, 0, pages.width * size.width, pages.height * size.height);\r\n        };\r\n        // 重写画布大小变化后方法\r\n        var graphSizeDidChange = this.sizeDidChange;\r\n        this.sizeDidChange = function () {\r\n            if (_this.container != null && mxUtils.hasScrollbars(_this.container)) {\r\n                var pages = _this.getPageLayout();\r\n                var pad = _this.getPagePadding();\r\n                var size = _this.getPageSize();\r\n                // Updates the minimum graph size\r\n                var minw = Math.ceil(2 * pad.x / _this.view.scale + pages.width * size.width);\r\n                var minh = Math.ceil(2 * pad.y / _this.view.scale + pages.height * size.height);\r\n                var min = _this.minimumGraphSize;\r\n                // LATER: Fix flicker of scrollbar size in IE quirks mode\r\n                // after delayed call in window.resize event handler\r\n                if (min == null || min.width != minw || min.height != minh) {\r\n                    _this.minimumGraphSize = new mxRectangle(0, 0, minw, minh);\r\n                }\r\n                // Updates auto-translate to include padding and graph size\r\n                var dx = pad.x / _this.view.scale - pages.x * size.width;\r\n                var dy = pad.y / _this.view.scale - pages.y * size.height;\r\n                if (!_this.autoTranslate && (_this.view.translate.x != dx || _this.view.translate.y != dy)) {\r\n                    _this.autoTranslate = true;\r\n                    _this.view.x0 = pages.x;\r\n                    _this.view.y0 = pages.y;\r\n                    var tx = _this.view.translate.x;\r\n                    var ty = _this.view.translate.y;\r\n                    _this.view.setTranslate(dx, dy);\r\n                    _this.container.scrollLeft += (dx - tx) * _this.view.scale;\r\n                    _this.container.scrollTop += (dy - ty) * _this.view.scale;\r\n                    _this.autoTranslate = false;\r\n                    return;\r\n                }\r\n                graphSizeDidChange.apply(_this, []);\r\n            }\r\n        };\r\n        // 重写view获取背景页大小\r\n        this.view.getBackgroundPageBounds = function () {\r\n            var layout = _this.getPageLayout();\r\n            var page = _this.getPageSize();\r\n            return new mxRectangle(_this.view.scale * (_this.view.translate.x + layout.x * page.width), _this.view.scale * (_this.view.translate.y + layout.y * page.height), _this.view.scale * layout.width * page.width, _this.view.scale * layout.height * page.height);\r\n        };\r\n        // 重写view validate方法\r\n        var graphViewValidate = this.view.validate;\r\n        this.view.validate = function (cell) {\r\n            if (_this.container != null && mxUtils.hasScrollbars(_this.container)) {\r\n                var pad = _this.getPagePadding();\r\n                var size = _this.getPageSize();\r\n                var tx = _this.view.translate.x;\r\n                var ty = _this.view.translate.y;\r\n                _this.view.translate.x = pad.x / _this.view.scale - (_this.view.x0 || 0) * size.width;\r\n                _this.view.translate.y = pad.y / _this.view.scale - (_this.view.y0 || 0) * size.height;\r\n            }\r\n            graphViewValidate.apply(_this.view, [cell]);\r\n        };\r\n        // 方法重写完成后，需重新调用一次sizeDidChange()才可生效\r\n        // this.sizeDidChange();\r\n    };\r\n    /**\r\n     * 创建多连接点，重写getAllConnectionConstraints方法\r\n     */\r\n    Graph.prototype.setMultiConstraints = function () {\r\n        var _this = this;\r\n        // 修改连接点样式\r\n        mxConstraintHandler.prototype.pointImage = new mxImage(Constant.IMAGE_PATH + \"/round-drop.png\", 8, 8);\r\n        // mxShape新增getConstraints方法\r\n        mxShape.prototype.getConstraints = function (style, w, h) {\r\n            return null;\r\n        };\r\n        // 为mxImageShape添加默认连接点\r\n        mxImageShape.prototype.constraints = [\r\n            new mxConnectionConstraint(new mxPoint(0.5, 0), true),\r\n            new mxConnectionConstraint(new mxPoint(0, 0.5), true),\r\n            new mxConnectionConstraint(new mxPoint(1, 0.5), true),\r\n            new mxConnectionConstraint(new mxPoint(0.5, 1), true),\r\n        ];\r\n        this.setPortsEnabled(false);\r\n        // Disables floating connections (only connections via ports allowed)\r\n        this.connectionHandler.isConnectableCell = function (cell) {\r\n            return false;\r\n        };\r\n        mxEdgeHandler.prototype.isConnectableCell = function (cell) {\r\n            return _this.connectionHandler.isConnectableCell(cell);\r\n        };\r\n        // Disables existing port functionality\r\n        this.view.getTerminalPort = function (state, terminal, source) {\r\n            return terminal;\r\n        };\r\n        // 重写获取所有连接点方法\r\n        this.getAllConnectionConstraints = function (terminal, source) {\r\n            if (terminal != null) {\r\n                var constraints = mxUtils.getValue(terminal.style, 'points', null);\r\n                if (constraints != null) {\r\n                    // Requires an array of arrays with x, y (0..1), an optional\r\n                    // [perimeter (0 or 1), dx, and dy] eg. points=[[0,0,1,-10,10],[0,1,0],[1,1]]\r\n                    var result = [];\r\n                    try {\r\n                        var c = JSON.parse(constraints);\r\n                        for (var i = 0; i < c.length; i++) {\r\n                            var tmp = c[i];\r\n                            result.push(new mxConnectionConstraint(new mxPoint(tmp[0], tmp[1]), (tmp.length > 2) ? tmp[2] != '0' : true, null, (tmp.length > 3) ? tmp[3] : 0, (tmp.length > 4) ? tmp[4] : 0));\r\n                        }\r\n                    }\r\n                    catch (e) {\r\n                        // ignore\r\n                    }\r\n                    return result;\r\n                }\r\n                else if (terminal.shape != null && terminal.shape.bounds != null) {\r\n                    var dir = terminal.shape.direction;\r\n                    var bounds = terminal.shape.bounds;\r\n                    var scale = terminal.shape.scale;\r\n                    var w = bounds.width / scale;\r\n                    var h = bounds.height / scale;\r\n                    if (dir == mxConstants.DIRECTION_NORTH || dir == mxConstants.DIRECTION_SOUTH) {\r\n                        var tmp = w;\r\n                        w = h;\r\n                        h = tmp;\r\n                    }\r\n                    constraints = terminal.shape.getConstraints(terminal.style, w, h);\r\n                    if (constraints != null) {\r\n                        return constraints;\r\n                    }\r\n                    else if (terminal.shape.stencil != null && terminal.shape.stencil.constraints != null) {\r\n                        return terminal.shape.stencil.constraints;\r\n                    }\r\n                    else if (terminal.shape.constraints != null) {\r\n                        return terminal.shape.constraints;\r\n                    }\r\n                }\r\n            }\r\n            return null;\r\n        };\r\n        // 为连线的style设置连接点信息\r\n        this.setConnectionConstraint = function (edge, terminal, source, constraint) {\r\n            if (constraint != null && constraint.point != null) {\r\n                if (source) {\r\n                    _this.setCellStyles(mxConstants.STYLE_EXIT_X, constraint.point.x, [edge]);\r\n                    _this.setCellStyles(mxConstants.STYLE_EXIT_Y, constraint.point.y, [edge]);\r\n                }\r\n                else {\r\n                    _this.setCellStyles(mxConstants.STYLE_ENTRY_X, constraint.point.x, [edge]);\r\n                    _this.setCellStyles(mxConstants.STYLE_ENTRY_Y, constraint.point.y, [edge]);\r\n                }\r\n            }\r\n        };\r\n        // 从连线的style获取连接点信息\r\n        this.getConnectionConstraint = function (edge, terminal, source) {\r\n            var point = new mxPoint();\r\n            if (source) {\r\n                point.x = edge.style[mxConstants.STYLE_EXIT_X];\r\n                point.y = edge.style[mxConstants.STYLE_EXIT_Y];\r\n            }\r\n            else {\r\n                point.x = edge.style[mxConstants.STYLE_ENTRY_X];\r\n                point.y = edge.style[mxConstants.STYLE_ENTRY_Y];\r\n            }\r\n            var constraint = mxImageShape.prototype.constraints ? mxImageShape.prototype.constraints.find(function (it) { return it.point.x == point.x && it.point.y == point.y; }) : null;\r\n            return constraint;\r\n        };\r\n    };\r\n    /**\r\n     * 分布排列节点\r\n     * @param horizontal true: 横向分布，false：纵向分布\r\n     * @param cells\r\n     * @returns\r\n     */\r\n    Graph.prototype.distributeCells = function (horizontal, cells) {\r\n        if (cells == null) {\r\n            cells = this.getSelectionCells();\r\n        }\r\n        if (cells != null && cells.length > 1) {\r\n            var vertices = [];\r\n            var max = null;\r\n            var min = null;\r\n            for (var i = 0; i < cells.length; i++) {\r\n                if (this.getModel().isVertex(cells[i])) {\r\n                    var state = this.view.getState(cells[i]);\r\n                    if (state != null) {\r\n                        var tmp = (horizontal) ? state.getCenterX() : state.getCenterY();\r\n                        max = (max != null) ? Math.max(max, tmp) : tmp;\r\n                        min = (min != null) ? Math.min(min, tmp) : tmp;\r\n                        vertices.push(state);\r\n                    }\r\n                }\r\n            }\r\n            if (vertices.length > 2) {\r\n                vertices.sort(function (a, b) {\r\n                    return (horizontal) ? a.x - b.x : a.y - b.y;\r\n                });\r\n                var t = this.view.translate;\r\n                var s = this.view.scale;\r\n                min = min / s - ((horizontal) ? t.x : t.y);\r\n                max = max / s - ((horizontal) ? t.x : t.y);\r\n                this.getModel().beginUpdate();\r\n                try {\r\n                    var dt = (max - min) / (vertices.length - 1);\r\n                    var t0 = min;\r\n                    for (var i = 1; i < vertices.length - 1; i++) {\r\n                        var pstate = this.view.getState(this.model.getParent(vertices[i].cell));\r\n                        var geo = this.getCellGeometry(vertices[i].cell);\r\n                        t0 += dt;\r\n                        if (geo != null && pstate != null) {\r\n                            geo = geo.clone();\r\n                            if (horizontal) {\r\n                                geo.x = Math.round(t0 - geo.width / 2) - pstate.origin.x;\r\n                            }\r\n                            else {\r\n                                geo.y = Math.round(t0 - geo.height / 2) - pstate.origin.y;\r\n                            }\r\n                            this.getModel().setGeometry(vertices[i].cell, geo);\r\n                        }\r\n                    }\r\n                }\r\n                finally {\r\n                    this.getModel().endUpdate();\r\n                }\r\n            }\r\n        }\r\n        return cells;\r\n    };\r\n    /**\r\n     * 重写创建GraphView方法\r\n     * @override\r\n     */\r\n    Graph.prototype.createGraphView = function () {\r\n        return new GraphView(this);\r\n    };\r\n    /**\r\n     * 重写连线处理器创建方法，默认创建SequenceFlowEdge\r\n     * @override\r\n     */\r\n    Graph.prototype.createConnectionHandler = function () {\r\n        var handler = new mxConnectionHandler(this, function (source, target, style) {\r\n            var edge = BpmnCellHelper.generate(SequenceFlowEdge.CLR_TYPE_ID, undefined, new mxGeometry(), style);\r\n            edge.geometry.relative = true;\r\n            edge.source = source;\r\n            edge.target = target;\r\n            return edge;\r\n        });\r\n        return handler;\r\n    };\r\n    /**\r\n     * 设置元素显示标签内容\r\n     * @override\r\n     */\r\n    Graph.prototype.getLabel = function (cell) {\r\n        if (cell instanceof Cell) {\r\n            if (this.editorUi.multiLangEnabled) {\r\n                var label = _super.prototype.getLabel.call(this, cell);\r\n                if (cell.flowElement != null) {\r\n                    label = cell.flowElement.Name;\r\n                    if (cell.flowElement.NameLanguage && cell.flowElement.NameLanguage[this.editorUi.langCode] != null && cell.flowElement.NameLanguage[this.editorUi.langCode] != \"\") {\r\n                        label = cell.flowElement.NameLanguage[this.editorUi.langCode];\r\n                    }\r\n                }\r\n                return label;\r\n            }\r\n            else {\r\n                return (cell.flowElement && cell.flowElement.Name) || _super.prototype.getLabel.call(this, cell);\r\n            }\r\n        }\r\n        return _super.prototype.getLabel.call(this, cell);\r\n    };\r\n    /**\r\n     * 设置网格状态\r\n     * @override\r\n     * @param value\r\n     */\r\n    Graph.prototype.setGridEnabled = function (value) {\r\n        _super.prototype.setGridEnabled.call(this, value);\r\n        this.fireEvent(new mxEventObject(PmfEvents.GridEnabledChanged));\r\n    };\r\n    /**\r\n     * 判断是否是泳道\r\n     * @override\r\n     * @param cell\r\n     * @returns\r\n     */\r\n    Graph.prototype.isSwimlane = function (cell) {\r\n        if (typeof this.model.getValue(cell) == 'string') {\r\n            return this.model.getValue(cell).toString().indexOf('Container') > -1;\r\n        }\r\n        return false;\r\n    };\r\n    /**\r\n     * 判断是否为旧版本BPMNEdge\r\n     *\r\n     * 旧版本连线Points数组中[0]和[1]分别表示起点和终点，因取值错误，[0]和[1]坐标均为(0,0)，以此为依据判断是否为旧版本的连线\r\n     * 新版本从起点到终点按顺序记录每一个点坐标\r\n     * @param bpmnEdge\r\n     * @returns\r\n     */\r\n    Graph.prototype.isOldBpmnEdge = function (bpmnEdge) {\r\n        if (bpmnEdge.Points.length >= 2) {\r\n            var pt1 = bpmnEdge.Points[0];\r\n            var pt2 = bpmnEdge.Points[1];\r\n            if (pt1.X == 0 && pt1.Y == 0 && pt2.X == 0 && pt2.Y == 0) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    };\r\n    /**\r\n     * 默认页面背景色\r\n     */\r\n    Graph.defaultPageBackgroundColor = '#ffffff';\r\n    /**\r\n     * 默认页面边框色\r\n     */\r\n    Graph.defaultPageBorderColor = '#ffffff';\r\n    return Graph;\r\n}(mxGraph));\r\nexport { Graph };\r\n//# sourceMappingURL=Graph.js.map","import { __extends } from \"tslib\";\r\nimport { mxKeyHandler, mxEvent, mxClient } from \"@edp-pmf/mxgraph-ts\";\r\n/**\r\n * 按键处理器\r\n */\r\nvar KeyHandler = /** @class */ (function (_super) {\r\n    __extends(KeyHandler, _super);\r\n    function KeyHandler(graph) {\r\n        var _this = _super.call(this, graph) || this;\r\n        _this.altKeys = {};\r\n        _this.ctrlAltKeys = {};\r\n        _this.shiftAltKeys = {};\r\n        _this.ctrlShiftAltKeys = {};\r\n        return _this;\r\n    }\r\n    /**\r\n     * 判断Ctrl或Cmd是否按下\r\n     * @param evt\r\n     * @returns\r\n     */\r\n    KeyHandler.prototype.isControlDown = function (evt) {\r\n        return mxEvent.isControlDown(evt) || (mxClient.IS_MAC && evt.metaKey);\r\n    };\r\n    /**\r\n     * 获取事件处理器\r\n     * @param evt\r\n     * @returns\r\n     */\r\n    KeyHandler.prototype.getFunction = function (evt) {\r\n        if (evt != null && mxEvent.isAltDown(evt)) {\r\n            if (this.isControlDown(evt)) {\r\n                if (mxEvent.isShiftDown(evt)) {\r\n                    return this.ctrlShiftAltKeys[evt.keyCode];\r\n                }\r\n                else {\r\n                    return this.ctrlAltKeys[evt.keyCode];\r\n                }\r\n            }\r\n            else {\r\n                if (mxEvent.isShiftDown(evt)) {\r\n                    return this.shiftAltKeys[evt.keyCode];\r\n                }\r\n                else {\r\n                    return this.altKeys[evt.keyCode];\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            return _super.prototype.getFunction.call(this, evt);\r\n        }\r\n    };\r\n    /**\r\n     * 绑定动作\r\n     * @param funct\r\n     * @param keyCode\r\n     * @param control\r\n     * @param shift\r\n     * @param alt\r\n     */\r\n    KeyHandler.prototype.bindAction = function (funct, keyCode, control, shift, alt) {\r\n        if (control === void 0) { control = false; }\r\n        if (shift === void 0) { shift = false; }\r\n        if (alt === void 0) { alt = false; }\r\n        if (control) {\r\n            if (shift) {\r\n                if (alt) {\r\n                    this.bindCtrlShiftAltKey(keyCode, funct);\r\n                }\r\n                else {\r\n                    this.bindControlShiftKey(keyCode, funct);\r\n                }\r\n            }\r\n            else {\r\n                if (alt) {\r\n                    this.bindCtrlAltKey(keyCode, funct);\r\n                }\r\n                else {\r\n                    this.bindControlKey(keyCode, funct);\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            if (shift) {\r\n                if (alt) {\r\n                    this.bindShiftAltKey(keyCode, funct);\r\n                }\r\n                else {\r\n                    this.bindShiftKey(keyCode, funct);\r\n                }\r\n            }\r\n            else {\r\n                this.bindKey(keyCode, funct);\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * 绑定Alt+按键\r\n     * @param code\r\n     * @param funct\r\n     */\r\n    KeyHandler.prototype.bindAltKey = function (code, funct) {\r\n        this.altKeys[code] = funct;\r\n    };\r\n    /**\r\n     * 绑定Ctrl+Alt+按键\r\n     * @param code\r\n     * @param funct\r\n     */\r\n    KeyHandler.prototype.bindCtrlAltKey = function (code, funct) {\r\n        this.ctrlAltKeys[code] = funct;\r\n    };\r\n    /**\r\n     * 绑定Shift+Alt+按键\r\n     * @param code\r\n     * @param funct\r\n     */\r\n    KeyHandler.prototype.bindShiftAltKey = function (code, funct) {\r\n        this.shiftAltKeys[code] = funct;\r\n    };\r\n    /**\r\n     * 绑定Ctrl+Shift+Alt按键+\r\n     * @param code\r\n     * @param funct\r\n     */\r\n    KeyHandler.prototype.bindCtrlShiftAltKey = function (code, funct) {\r\n        this.ctrlShiftAltKeys[code] = funct;\r\n    };\r\n    return KeyHandler;\r\n}(mxKeyHandler));\r\nexport { KeyHandler };\r\n//# sourceMappingURL=KeyHandler.js.map","/**\r\n * 菜单栏\r\n */\r\nvar Menubar = /** @class */ (function () {\r\n    function Menubar(editorUi, container) {\r\n        this.editorUi = editorUi;\r\n        this.container = container;\r\n    }\r\n    return Menubar;\r\n}());\r\nexport { Menubar };\r\n//# sourceMappingURL=Menubar.js.map","import { mxClient, mxConstants, mxEvent, mxEventObject, mxGeometry, mxGraph, mxPoint, mxPopupMenu, mxRectangle, mxResources, mxUtils } from \"@edp-pmf/mxgraph-ts\";\r\nimport { BpmnCellHelper } from \"../util/BpmnCellHelper\";\r\nimport { Constant } from \"../util/Constant\";\r\nimport { PmfEvents } from \"../util/PmfEvents\";\r\n/**\r\n * 侧边栏\r\n */\r\nvar Sidebar = /** @class */ (function () {\r\n    function Sidebar(editorUi, container) {\r\n        /**\r\n         * 缩略图宽度\r\n         */\r\n        this.thumbWidth = 36;\r\n        /**\r\n         * 缩略图高度\r\n         */\r\n        this.thumbHeight = 36;\r\n        /**\r\n         * 缩略图内边距\r\n         */\r\n        this.thumbPadding = (document.documentMode >= 5) ? 0 : 1;\r\n        /**\r\n         * 缩略图边框宽度\r\n         */\r\n        this.thumbBorder = 2;\r\n        /**\r\n         * 工具箱分组标题字体大小\r\n         */\r\n        this.sidebarTitleSize = 12;\r\n        /**\r\n         * 显示分组标题\r\n         */\r\n        this.sidebarTitles = true;\r\n        /**\r\n         * 显示提示信息\r\n         */\r\n        this.tooltipTitles = true;\r\n        /**\r\n         * 启用提示信息\r\n         */\r\n        this.enableTooltips = true;\r\n        /**\r\n         * 显示提示信息\r\n         */\r\n        this.showTooltips = true;\r\n        /**\r\n         * 提示信息图片\r\n         */\r\n        this.tooltipImageSrc = Constant.IMAGE_PATH + '/tooltip.png';\r\n        /**\r\n         * 提示信息显示延迟\r\n         */\r\n        this.tooltipDelay = 300;\r\n        /**\r\n         * 提示信息边框宽度\r\n         */\r\n        this.tooltipBorder = 16;\r\n        /**\r\n         * 提示信息最大宽度\r\n         */\r\n        this.maxTooltipWidth = 400;\r\n        /**\r\n         * 提示信息最大高度\r\n         */\r\n        this.maxTooltipHeight = 400;\r\n        /**\r\n         * 分组折叠图片\r\n         */\r\n        this.collapsedImage = Constant.IMAGE_PATH + '/collapsed.gif';\r\n        /**\r\n         * 分组展开图片\r\n         */\r\n        this.expandedImage = Constant.IMAGE_PATH + '/expanded.gif';\r\n        /**\r\n         * 拖拽至画布后元素高度\r\n         */\r\n        this.defaultImageHeight = 36;\r\n        /**\r\n         * 拖拽至画布后元素宽度\r\n         */\r\n        this.defaultImageWidth = 36;\r\n        /**\r\n         * 拖拽预览边框样式\r\n         */\r\n        this.dragPreviewBorder = '1px dashed black';\r\n        /**\r\n         * 工具箱分组Map\r\n         */\r\n        this.palettes = {};\r\n        this.editorUi = editorUi;\r\n        this.container = container;\r\n        this.graph = this.createTemporaryGraph(this.editorUi.graph.getStylesheet());\r\n        this.graph.cellRenderer.antiAlias = false;\r\n        this.graph.foldingEnabled = false;\r\n        // Workaround for blank output in IE11-\r\n        if (!mxClient.IS_IE && !mxClient.IS_IE11) {\r\n            this.graph.container.style.display = 'none';\r\n        }\r\n    }\r\n    /**\r\n     * 创建临时画布\r\n     * @param stylesheet\r\n     * @returns\r\n     */\r\n    Sidebar.prototype.createTemporaryGraph = function (stylesheet) {\r\n        var graph = new mxGraph(document.createElement('div'), null, null, stylesheet);\r\n        graph.resetViewOnRootChange = false;\r\n        graph.setConnectable(false);\r\n        graph.gridEnabled = false;\r\n        graph.autoScroll = false;\r\n        graph.setTooltips(false);\r\n        graph.setEnabled(false);\r\n        // Container must be in the DOM for correct HTML rendering\r\n        graph.container.style.visibility = 'hidden';\r\n        graph.container.style.position = 'absolute';\r\n        graph.container.style.overflow = 'hidden';\r\n        graph.container.style.height = '1px';\r\n        graph.container.style.width = '1px';\r\n        return graph;\r\n    };\r\n    /**\r\n     * 重置工具箱\r\n     * @param toolbox\r\n     */\r\n    Sidebar.prototype.reset = function (toolbox) {\r\n        var _this = this;\r\n        // 内置工具箱分组\r\n        toolbox && toolbox.groups && toolbox.groups.forEach(function (g) {\r\n            var factories = [];\r\n            g.items && g.items.forEach(function (it) {\r\n                var cell = BpmnCellHelper.generate(it.clrTypeId, undefined, new mxGeometry(0, 0, _this.defaultImageWidth, _this.defaultImageHeight));\r\n                if (cell.edge) {\r\n                    cell.geometry.setTerminalPoint(new mxPoint(0, _this.defaultImageHeight), true);\r\n                    cell.geometry.setTerminalPoint(new mxPoint(_this.defaultImageWidth, 0), false);\r\n                    cell.geometry.relative = true;\r\n                }\r\n                // 先取多语名称，取不到再取默认名称\r\n                factories.push(_this.createItemFactory([cell], (cell.nameLanguage && cell.nameLanguage[_this.editorUi.langCode]) || cell.name, _this.defaultImageWidth, _this.defaultImageHeight));\r\n            });\r\n            _this.addPaletteFunctions(g.name, g.name, true, factories);\r\n        });\r\n    };\r\n    /**\r\n     * 添加带创建元素工厂方法的工具箱显示项分组\r\n     * @param id\r\n     * @param title\r\n     * @param expanded\r\n     * @param factories\r\n     */\r\n    Sidebar.prototype.addPaletteFunctions = function (id, title, expanded, factories) {\r\n        var onInit = function (content) {\r\n            for (var i = 0; i < factories.length; i++) {\r\n                content.appendChild(factories[i]());\r\n            }\r\n        };\r\n        this.addPalette(id, title, expanded, onInit);\r\n    };\r\n    /**\r\n     * 添加工具箱显示项分组\r\n     * @param id\r\n     * @param title\r\n     * @param expanded\r\n     * @param onInit\r\n     */\r\n    Sidebar.prototype.addPalette = function (id, title, expanded, onInit) {\r\n        var elt = this.createPaletteTitle(title);\r\n        this.container.appendChild(elt);\r\n        var div = document.createElement('div');\r\n        div.className = 'geSidebar';\r\n        // Disables built-in pan and zoom in IE10 and later\r\n        if (mxClient.IS_POINTER) {\r\n            div.style.touchAction = 'none';\r\n        }\r\n        if (expanded) {\r\n            onInit(div);\r\n            onInit = null;\r\n        }\r\n        else {\r\n            div.style.display = 'none';\r\n        }\r\n        this.addFoldingHandler(elt, div, onInit);\r\n        var outer = document.createElement('div');\r\n        outer.appendChild(div);\r\n        this.container.appendChild(outer);\r\n        // Keeps references to the DOM nodes\r\n        if (id != null) {\r\n            this.palettes[id] = [elt, outer];\r\n        }\r\n    };\r\n    /**\r\n     * 创建工具箱显示项分组标题栏\r\n     * @param label\r\n     * @returns\r\n     */\r\n    Sidebar.prototype.createPaletteTitle = function (label) {\r\n        var elt = document.createElement('a');\r\n        elt.setAttribute('href', 'javascript:void(0);');\r\n        elt.setAttribute('title', mxResources.get('sidebarTooltip'));\r\n        elt.className = 'geTitle';\r\n        mxUtils.write(elt, label);\r\n        return elt;\r\n    };\r\n    /**\r\n     * 添加工具箱显示项分组标题栏折叠处理器\r\n     * @param title\r\n     * @param content\r\n     * @param onInit\r\n     */\r\n    Sidebar.prototype.addFoldingHandler = function (title, content, onInit) {\r\n        var that = this;\r\n        var initialized = false;\r\n        // Avoids mixed content warning in IE6-8\r\n        if (!mxClient.IS_IE || document.documentMode >= 8) {\r\n            title.style.backgroundImage = (content.style.display == 'none') ?\r\n                'url(\\'' + this.collapsedImage + '\\')' : 'url(\\'' + this.expandedImage + '\\')';\r\n        }\r\n        title.style.backgroundRepeat = 'no-repeat';\r\n        title.style.backgroundPosition = '0% 50%';\r\n        mxEvent.addListener(title, 'click', function (evt) {\r\n            if (content.style.display == 'none') {\r\n                if (!initialized) {\r\n                    initialized = true;\r\n                    if (onInit != null) {\r\n                        // Wait cursor does not show up on Mac\r\n                        title.style.cursor = 'wait';\r\n                        var prev_1 = title.innerHTML;\r\n                        title.innerHTML = mxResources.get('loading') + '...';\r\n                        window.setTimeout(function () {\r\n                            var fo = mxClient.NO_FO;\r\n                            mxClient.NO_FO = Constant.ORIGINAL_NO_FO;\r\n                            onInit(content);\r\n                            mxClient.NO_FO = fo;\r\n                            content.style.display = 'block';\r\n                            title.style.cursor = '';\r\n                            title.innerHTML = prev_1;\r\n                        }, 0);\r\n                    }\r\n                    else {\r\n                        content.style.display = 'block';\r\n                    }\r\n                }\r\n                else {\r\n                    content.style.display = 'block';\r\n                }\r\n                title.style.backgroundImage = 'url(\\'' + that.expandedImage + '\\')';\r\n            }\r\n            else {\r\n                title.style.backgroundImage = 'url(\\'' + that.collapsedImage + '\\')';\r\n                content.style.display = 'none';\r\n            }\r\n            mxEvent.consume(evt);\r\n        });\r\n    };\r\n    /**\r\n     * 创建工具箱显示项的工厂方法\r\n     * @param cells\r\n     * @param title\r\n     * @param width\r\n     * @param height\r\n     * @param showLabel\r\n     * @param showTitle\r\n     * @param allowCellsInserted\r\n     * @returns\r\n     */\r\n    Sidebar.prototype.createItemFactory = function (cells, title, width, height, showLabel, showTitle, allowCellsInserted) {\r\n        var _this = this;\r\n        if (showLabel === void 0) { showLabel = true; }\r\n        if (showTitle === void 0) { showTitle = true; }\r\n        if (allowCellsInserted === void 0) { allowCellsInserted = true; }\r\n        var func = function () {\r\n            return _this.createItem(cells, title, showLabel, showTitle, width, height, allowCellsInserted);\r\n        };\r\n        return func;\r\n    };\r\n    /**\r\n     * 创建工具箱显示项\r\n     * @param cells\r\n     * @param title\r\n     * @param showLabel\r\n     * @param showTitle\r\n     * @param width\r\n     * @param height\r\n     * @param allowCellsInserted\r\n     * @returns\r\n     */\r\n    Sidebar.prototype.createItem = function (cells, title, showLabel, showTitle, width, height, allowCellsInserted) {\r\n        var _this = this;\r\n        var elt = document.createElement('a');\r\n        elt.setAttribute('href', 'javascript:void(0);');\r\n        elt.className = 'geItem';\r\n        elt.style.overflow = 'hidden';\r\n        var border = (mxClient.IS_QUIRKS) ? 8 + 2 * this.thumbPadding : 2 * this.thumbBorder;\r\n        elt.style.width = 70 + 'px';\r\n        elt.style.height = 70 + 'px';\r\n        // elt.style.padding = this.thumbPadding + 'px';\r\n        if (mxClient.IS_IE6) {\r\n            elt.style.border = 'none';\r\n        }\r\n        // Blocks default click action\r\n        mxEvent.addListener(elt, 'click', function (evt) {\r\n            mxEvent.consume(evt);\r\n        });\r\n        this.createThumb(cells, this.thumbWidth, this.thumbHeight, elt, title, showLabel, showTitle, width, height);\r\n        var bounds = new mxRectangle(0, 0, width, height);\r\n        if (cells.length > 0) {\r\n            var dropHandler = this.createDropHandler(cells, false, allowCellsInserted, bounds);\r\n            var dragPreview = this.createDragPreview(width, height);\r\n            var ds = this.createDragSource(elt, dropHandler, dragPreview, cells, bounds);\r\n        }\r\n        // Shows a tooltip with the rendered cell\r\n        if (!mxClient.IS_IOS) {\r\n            mxEvent.addGestureListeners(elt, null, function (evt) {\r\n                if (mxEvent.isMouseEvent(evt)) {\r\n                    _this.showTooltip(elt, cells, bounds.width, bounds.height, title, showLabel);\r\n                }\r\n            });\r\n            mxEvent.addListener(elt, (mxClient.IS_POINTER) ? 'pointerdown' : 'mousedown', function () {\r\n                _this.hideTooltip();\r\n                _this.showTooltips = false;\r\n            });\r\n            mxEvent.addListener(elt, (mxClient.IS_POINTER) ? 'pointerup' : 'mouseup', function () {\r\n                _this.showTooltips = true;\r\n            });\r\n            mxEvent.addListener(elt, (mxClient.IS_POINTER) ? 'pointerleave' : 'mouseleave', function (evt) {\r\n                _this.hideTooltip();\r\n                _this.showTooltips = true;\r\n            });\r\n        }\r\n        return elt;\r\n    };\r\n    /**\r\n     * 创建显示项缩略图\r\n     * @param cells\r\n     * @param width\r\n     * @param height\r\n     * @param parent\r\n     * @param title\r\n     * @param showLabel\r\n     * @param showTitle\r\n     * @param realWidth\r\n     * @param realHeight\r\n     */\r\n    Sidebar.prototype.createThumb = function (cells, width, height, parent, title, showLabel, showTitle, realWidth, realHeight) {\r\n        this.graph.labelsVisible = (showLabel == null || showLabel);\r\n        var fo = mxClient.NO_FO;\r\n        mxClient.NO_FO = Constant.ORIGINAL_NO_FO;\r\n        this.graph.view.scaleAndTranslate(1, 0, 0);\r\n        this.graph.addCells(cells);\r\n        var bounds = this.graph.getGraphBounds();\r\n        var s = Math.floor(Math.min((width - 2 * this.thumbBorder) / bounds.width, (height - 2 * this.thumbBorder) / bounds.height) * 100) / 100;\r\n        this.graph.view.scaleAndTranslate(s, Math.floor((width - bounds.width * s) / 2 / s - bounds.x), Math.floor((height - bounds.height * s) / 2 / s - bounds.y));\r\n        var node = null;\r\n        // For supporting HTML labels in IE9 standards mode the container is cloned instead\r\n        if (this.graph.dialect == mxConstants.DIALECT_SVG && !mxClient.NO_FO) {\r\n            node = this.graph.view.getCanvas().ownerSVGElement.cloneNode(true);\r\n        }\r\n        // LATER: Check if deep clone can be used for quirks if container in DOM\r\n        else {\r\n            node = this.graph.container.cloneNode(false);\r\n            node.innerHTML = this.graph.container.innerHTML;\r\n        }\r\n        this.graph.getModel().clear();\r\n        mxClient.NO_FO = fo;\r\n        // Catch-all event handling\r\n        if (mxClient.IS_IE6) {\r\n            parent.style.backgroundImage = 'url(' + Constant.TRANSPARENT_IMAGE + ')';\r\n        }\r\n        node.style.position = 'relative';\r\n        node.style.overflow = 'hidden';\r\n        node.style.cursor = 'move';\r\n        node.style.left = this.thumbBorder + 'px';\r\n        node.style.top = this.thumbBorder + 'px';\r\n        node.style.width = width + 'px';\r\n        node.style.height = height + 'px';\r\n        node.style.visibility = '';\r\n        node.style.minWidth = '';\r\n        node.style.minHeight = '';\r\n        node.style.display = 'block';\r\n        node.style.margin = '0 auto';\r\n        node.style.paddingTop = '4px';\r\n        parent.appendChild(node);\r\n        // Adds title for sidebar entries\r\n        if (this.sidebarTitles && title != null && showTitle != false) {\r\n            var border = (mxClient.IS_QUIRKS) ? 2 * this.thumbPadding + 2 : 0;\r\n            // parent.style.height = (this.thumbHeight + border + this.sidebarTitleSize + 20) + 'px';\r\n            // parent.style.width = (this.thumbWidth + border + 8) + 'px';\r\n            var div = document.createElement('div');\r\n            div.style.fontSize = mxClient.IS_FF ? (this.sidebarTitleSize + 2) + 'px' : this.sidebarTitleSize + 'px';\r\n            div.style.color = '#303030';\r\n            div.style.textAlign = 'center';\r\n            div.style.whiteSpace = 'nowrap';\r\n            if (mxClient.IS_IE) {\r\n                div.style.height = (this.sidebarTitleSize + 12) + 'px';\r\n            }\r\n            div.style.paddingTop = '5px';\r\n            mxUtils.write(div, title);\r\n            parent.appendChild(div);\r\n        }\r\n        //return bounds;\r\n    };\r\n    /**\r\n     * 显示提示信息\r\n     * @param elt\r\n     * @param cells\r\n     * @param w\r\n     * @param h\r\n     * @param title\r\n     * @param showLabel\r\n     */\r\n    Sidebar.prototype.showTooltip = function (elt, cells, w, h, title, showLabel) {\r\n        var _this = this;\r\n        if (this.enableTooltips && this.showTooltips) {\r\n            if (this.currentElt != elt) {\r\n                if (this.thread != null) {\r\n                    window.clearTimeout(this.thread);\r\n                    this.thread = null;\r\n                }\r\n                var show = function () {\r\n                    // Lazy creation of the DOM nodes and graph instance\r\n                    if (_this.tooltip == null) {\r\n                        _this.tooltip = document.createElement('div');\r\n                        _this.tooltip.className = 'geSidebarTooltip';\r\n                        _this.tooltip.style.zIndex = (mxPopupMenu.prototype.zIndex - 1).toString();\r\n                        document.body.appendChild(_this.tooltip);\r\n                        _this.graph2 = new mxGraph(_this.tooltip, null, null, _this.editorUi.graph.getStylesheet());\r\n                        _this.graph2.resetViewOnRootChange = false;\r\n                        _this.graph2.foldingEnabled = false;\r\n                        _this.graph2.gridEnabled = false;\r\n                        _this.graph2.autoScroll = false;\r\n                        _this.graph2.setTooltips(false);\r\n                        _this.graph2.setConnectable(false);\r\n                        _this.graph2.setEnabled(false);\r\n                        if (!mxClient.IS_SVG) {\r\n                            _this.graph2.view.canvas.style.position = 'relative';\r\n                        }\r\n                        _this.tooltipImage = mxUtils.createImage(_this.tooltipImageSrc);\r\n                        _this.tooltipImage.className = 'geSidebarTooltipImage';\r\n                        _this.tooltipImage.style.zIndex = (mxPopupMenu.prototype.zIndex - 1).toString();\r\n                        _this.tooltipImage.style.position = 'absolute';\r\n                        _this.tooltipImage.style.width = '14px';\r\n                        _this.tooltipImage.style.height = '27px';\r\n                        document.body.appendChild(_this.tooltipImage);\r\n                    }\r\n                    _this.graph2.model.clear();\r\n                    _this.graph2.view.setTranslate(_this.tooltipBorder, _this.tooltipBorder);\r\n                    if (w > _this.maxTooltipWidth || h > _this.maxTooltipHeight) {\r\n                        _this.graph2.view.scale = Math.round(Math.min(_this.maxTooltipWidth / w, _this.maxTooltipHeight / h) * 100) / 100;\r\n                    }\r\n                    else {\r\n                        _this.graph2.view.scale = 1;\r\n                    }\r\n                    _this.tooltip.style.display = 'block';\r\n                    _this.graph2.labelsVisible = (showLabel == null || showLabel);\r\n                    var fo = mxClient.NO_FO;\r\n                    mxClient.NO_FO = Constant.ORIGINAL_NO_FO;\r\n                    _this.graph2.addCells(cells);\r\n                    mxClient.NO_FO = fo;\r\n                    var bounds = _this.graph2.getGraphBounds();\r\n                    var width = bounds.width + 2 * _this.tooltipBorder + 4;\r\n                    var height = bounds.height + 2 * _this.tooltipBorder;\r\n                    if (mxClient.IS_QUIRKS) {\r\n                        height += 4;\r\n                        _this.tooltip.style.overflow = 'hidden';\r\n                    }\r\n                    else {\r\n                        _this.tooltip.style.overflow = 'visible';\r\n                    }\r\n                    _this.tooltipImage.style.visibility = 'visible';\r\n                    _this.tooltip.style.width = width + 'px';\r\n                    // Adds title for entry\r\n                    if (_this.tooltipTitles && title != null && title.length > 0) {\r\n                        if (_this.tooltipTitle == null) {\r\n                            _this.tooltipTitle = document.createElement('div');\r\n                            _this.tooltipTitle.style.borderTop = '1px solid gray';\r\n                            _this.tooltipTitle.style.textAlign = 'center';\r\n                            _this.tooltipTitle.style.width = '100%';\r\n                            // Oversize titles are cut-off currently. Should make tooltip wider later.\r\n                            _this.tooltipTitle.style.overflow = 'hidden';\r\n                            if (mxClient.IS_SVG) {\r\n                                _this.tooltipTitle.style.paddingTop = '6px';\r\n                            }\r\n                            else {\r\n                                _this.tooltipTitle.style.position = 'absolute';\r\n                                _this.tooltipTitle.style.paddingTop = '6px';\r\n                            }\r\n                            _this.tooltip.appendChild(_this.tooltipTitle);\r\n                        }\r\n                        else {\r\n                            _this.tooltipTitle.innerHTML = '';\r\n                        }\r\n                        _this.tooltipTitle.style.display = '';\r\n                        mxUtils.write(_this.tooltipTitle, title);\r\n                        var ddy = _this.tooltipTitle.offsetHeight + 10;\r\n                        height += ddy;\r\n                        if (mxClient.IS_SVG) {\r\n                            _this.tooltipTitle.style.marginTop = (2 - ddy) + 'px';\r\n                        }\r\n                        else {\r\n                            height -= 6;\r\n                            _this.tooltipTitle.style.top = (height - ddy) + 'px';\r\n                        }\r\n                    }\r\n                    else if (_this.tooltipTitle != null && _this.tooltipTitle.parentNode != null) {\r\n                        _this.tooltipTitle.style.display = 'none';\r\n                    }\r\n                    _this.tooltip.style.height = height + 'px';\r\n                    var x0 = -Math.round(bounds.x - _this.tooltipBorder);\r\n                    var y0 = -Math.round(bounds.y - _this.tooltipBorder);\r\n                    var b = document.body;\r\n                    var d = document.documentElement;\r\n                    var off = new mxPoint(0, 0);\r\n                    var bottom = Math.max(b.clientHeight || 0, d.clientHeight);\r\n                    var left = _this.container.clientWidth + _this.editorUi.sidebarSplitSize + 3 + _this.editorUi.container.offsetLeft + off.x;\r\n                    var top = Math.min(bottom - height - 20 /*status bar*/, Math.max(0, (_this.editorUi.container.offsetTop +\r\n                        _this.container.offsetTop + elt.offsetTop - _this.container.scrollTop - height / 2 + 16))) + off.y;\r\n                    if (mxClient.IS_SVG) {\r\n                        if (x0 != 0 || y0 != 0) {\r\n                            _this.graph2.view.canvas.setAttribute('transform', 'translate(' + x0 + ',' + y0 + ')');\r\n                        }\r\n                        else {\r\n                            _this.graph2.view.canvas.removeAttribute('transform');\r\n                        }\r\n                    }\r\n                    else {\r\n                        _this.graph2.view.drawPane.style.left = x0 + 'px';\r\n                        _this.graph2.view.drawPane.style.top = y0 + 'px';\r\n                    }\r\n                    // Workaround for ignored position CSS style in IE9\r\n                    // (changes to relative without the following line)\r\n                    _this.tooltip.style.position = 'absolute';\r\n                    _this.tooltip.style.left = left + 'px';\r\n                    _this.tooltip.style.top = top + 'px';\r\n                    _this.tooltipImage.style.left = (left - 13) + 'px';\r\n                    _this.tooltipImage.style.top = (top + height / 2 - 13) + 'px';\r\n                };\r\n                if (this.tooltip != null && this.tooltip.style.display != 'none') {\r\n                    show();\r\n                }\r\n                else {\r\n                    this.thread = window.setTimeout(show, this.tooltipDelay);\r\n                }\r\n                this.currentElt = elt;\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * 隐藏提示信息\r\n     */\r\n    Sidebar.prototype.hideTooltip = function () {\r\n        if (this.thread != null) {\r\n            window.clearTimeout(this.thread);\r\n            this.thread = null;\r\n        }\r\n        if (this.tooltip != null) {\r\n            this.tooltip.style.display = 'none';\r\n            this.tooltipImage.style.visibility = 'hidden';\r\n            this.currentElt = null;\r\n        }\r\n    };\r\n    /**\r\n     * 创建可拖动对象\r\n     * @param elt\r\n     * @param dropHandler\r\n     * @param preview\r\n     * @param cells\r\n     * @param bounds\r\n     * @returns\r\n     */\r\n    Sidebar.prototype.createDragSource = function (elt, dropHandler, preview, cells, bounds) {\r\n        var dragSource = mxUtils.makeDraggable(elt, this.editorUi.graph, function (graph, evt, target, x, y) {\r\n            dropHandler(graph, evt, target, x, y);\r\n        }, preview, 0, 0, null, true, true);\r\n        // 拖拽时支持对标画布节点\r\n        dragSource.isGuidesEnabled = function () { return true; };\r\n        return dragSource;\r\n    };\r\n    /**\r\n     * 创建拖拽对象落地后处理器\r\n     * @param cells\r\n     * @param allowSplit\r\n     * @param allowCellsInserted\r\n     * @param bounds\r\n     * @returns\r\n     */\r\n    Sidebar.prototype.createDropHandler = function (cells, allowSplit, allowCellsInserted, bounds) {\r\n        var _this = this;\r\n        if (allowCellsInserted === void 0) { allowCellsInserted = true; }\r\n        var handler = function (graph, evt, target, x, y, force) {\r\n            var elt = (force) ? null : ((mxEvent.isTouchEvent(evt) || mxEvent.isPenEvent(evt)) ?\r\n                document.elementFromPoint(mxEvent.getClientX(evt), mxEvent.getClientY(evt)) :\r\n                mxEvent.getSource(evt));\r\n            while (elt != null && elt != _this.container) {\r\n                elt = elt.parentNode;\r\n            }\r\n            if (elt == null && graph.isEnabled()) {\r\n                cells = graph.getImportableCells(cells);\r\n                if (cells.length > 0) {\r\n                    graph.stopEditing();\r\n                    // Holding alt while mouse is released ignores drop target\r\n                    var validDropTarget = (target != null && !mxEvent.isAltDown(evt)) ?\r\n                        graph.isValidDropTarget(target, cells, evt) : false;\r\n                    var select = null;\r\n                    if (target != null && !validDropTarget) {\r\n                        target = null;\r\n                    }\r\n                    if (!graph.isCellLocked(target || graph.getDefaultParent())) {\r\n                        graph.model.beginUpdate();\r\n                        try {\r\n                            x = Math.round(x);\r\n                            y = Math.round(y);\r\n                            // Splits the target edge or inserts into target group\r\n                            if (allowSplit && graph.isSplitTarget(target, cells, evt)) {\r\n                                var s = graph.view.scale;\r\n                                var tr = graph.view.translate;\r\n                                var tx = (x + tr.x) * s;\r\n                                var ty = (y + tr.y) * s;\r\n                                var clones = graph.cloneCells(cells);\r\n                                graph.splitEdge(target, clones, null, x - bounds.width / 2, y - bounds.height / 2, tx, ty);\r\n                                select = clones;\r\n                            }\r\n                            else if (cells.length > 0) {\r\n                                select = graph.importCells(cells, x, y, target);\r\n                            }\r\n                            // Executes parent layout hooks for position/order\r\n                            if (graph.layoutManager != null) {\r\n                                var layout = graph.layoutManager.getLayout(target);\r\n                                if (layout != null) {\r\n                                    var s = graph.view.scale;\r\n                                    var tr = graph.view.translate;\r\n                                    var tx = (x + tr.x) * s;\r\n                                    var ty = (y + tr.y) * s;\r\n                                    for (var i = 0; i < select.length; i++) {\r\n                                        layout.moveCell(select[i], tx, ty);\r\n                                    }\r\n                                }\r\n                            }\r\n                            // 绑定BPMN相关属性\r\n                            graph.bindBpmnElements(select);\r\n                            if (allowCellsInserted && (evt == null || !mxEvent.isShiftDown(evt))) {\r\n                                graph.fireEvent(new mxEventObject(PmfEvents.CellsInserted, 'cells', select));\r\n                            }\r\n                        }\r\n                        finally {\r\n                            graph.model.endUpdate();\r\n                        }\r\n                        if (select != null && select.length > 0) {\r\n                            graph.scrollCellToVisible(select[0]);\r\n                            graph.setSelectionCells(select);\r\n                        }\r\n                    }\r\n                }\r\n                mxEvent.consume(evt);\r\n            }\r\n        };\r\n        return handler;\r\n    };\r\n    /**\r\n     * 创建拖拽源预览\r\n     * @param width\r\n     * @param height\r\n     * @returns\r\n     */\r\n    Sidebar.prototype.createDragPreview = function (width, height) {\r\n        var elt = document.createElement('div');\r\n        elt.style.border = this.dragPreviewBorder;\r\n        elt.style.width = width + 'px';\r\n        elt.style.height = height + 'px';\r\n        return elt;\r\n    };\r\n    /**\r\n     * 销毁\r\n     */\r\n    Sidebar.prototype.destroy = function () {\r\n        if (this.graph != null) {\r\n            if (this.graph.container != null && this.graph.container.parentNode != null) {\r\n                this.graph.container.parentNode.removeChild(this.graph.container);\r\n            }\r\n            this.graph.destroy();\r\n            this.graph = null;\r\n        }\r\n    };\r\n    return Sidebar;\r\n}());\r\nexport { Sidebar };\r\n//# sourceMappingURL=Sidebar.js.map","import { mxClient, mxResources, mxEvent, mxUtils, mxPopupMenu } from \"@edp-pmf/mxgraph-ts\";\r\nimport { ToolbarButton } from \"../toolbar/ToolbarButton\";\r\nimport { ToolbarDropDownButton } from \"../toolbar/ToolbarDropDownButton\";\r\nimport { ToolbarDropDownMenuItem } from \"../toolbar/ToolbarDropDownMenuItem\";\r\nimport { ToolbarItemDisplayStyle } from \"../toolbar/ToolbarItemDisplayStyle\";\r\nimport { ToolbarMenuItem } from \"../toolbar/ToolbarMenuItem\";\r\nimport { ToolbarSeparator } from \"../toolbar/ToolbarSeparator\";\r\nimport { Constant } from \"../util/Constant\";\r\nimport { PmfEvents } from \"../util/PmfEvents\";\r\nimport { ResourceKeys } from \"../util/ResourceKeys\";\r\n/**\r\n * 工具栏\r\n */\r\nvar Toolbar = /** @class */ (function () {\r\n    function Toolbar(editorUi, container) {\r\n        this.dropdownImage = (!mxClient.IS_SVG) ? Constant.IMAGE_PATH + '/dropdown.gif' : 'data:image/gif;base64,R0lGODlhDQANAIABAHt7e////yH/C1hNUCBEYXRhWE1QPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS4wLWMwNjAgNjEuMTM0Nzc3LCAyMDEwLzAyLzEyLTE3OjMyOjAwICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IE1hY2ludG9zaCIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpCREM1NkJFMjE0NEMxMUU1ODk1Q0M5MjQ0MTA4QjNDMSIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpCREM1NkJFMzE0NEMxMUU1ODk1Q0M5MjQ0MTA4QjNDMSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkQzOUMzMjZCMTQ0QjExRTU4OTVDQzkyNDQxMDhCM0MxIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkQzOUMzMjZDMTQ0QjExRTU4OTVDQzkyNDQxMDhCM0MxIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+Af/+/fz7+vn49/b19PPy8fDv7u3s6+rp6Ofm5eTj4uHg397d3Nva2djX1tXU09LR0M/OzczLysnIx8bFxMPCwcC/vr28u7q5uLe2tbSzsrGwr66trKuqqainpqWko6KhoJ+enZybmpmYl5aVlJOSkZCPjo2Mi4qJiIeGhYSDgoGAf359fHt6eXh3dnV0c3JxcG9ubWxramloZ2ZlZGNiYWBfXl1cW1pZWFdWVVRTUlFQT05NTEtKSUhHRkVEQ0JBQD8+PTw7Ojk4NzY1NDMyMTAvLi0sKyopKCcmJSQjIiEgHx4dHBsaGRgXFhUUExIREA8ODQwLCgkIBwYFBAMCAQAAIfkEAQAAAQAsAAAAAA0ADQAAAhGMj6nL3QAjVHIu6azbvPtWAAA7';\r\n        this.container = container;\r\n        this.editorUi = editorUi;\r\n    }\r\n    /**\r\n     * 重置工具栏\r\n     * @param items\r\n     * @returns\r\n     */\r\n    Toolbar.prototype.reset = function (items) {\r\n        var _this = this;\r\n        while (this.container.hasChildNodes()) {\r\n            this.container.removeChild(this.container.firstChild);\r\n        }\r\n        if (items == null) {\r\n            return;\r\n        }\r\n        items.itemList.forEach(function (item) {\r\n            if (item instanceof ToolbarButton) {\r\n                var elt = _this.buildToolbarButton(item);\r\n                _this.container.appendChild(elt);\r\n                item.elt = elt;\r\n            }\r\n            if (item instanceof ToolbarDropDownButton) {\r\n                var elt = _this.buildToolbarButton(item);\r\n                _this.container.appendChild(elt);\r\n                item.elt = elt;\r\n            }\r\n            if (item instanceof ToolbarSeparator) {\r\n                var elt = _this.addToolbarSeparator();\r\n                item.elt = elt;\r\n            }\r\n        });\r\n    };\r\n    Toolbar.prototype.destroy = function () {\r\n    };\r\n    /**\r\n     * 添加按钮\r\n     * @param item\r\n     * @returns\r\n     */\r\n    Toolbar.prototype.buildToolbarButton = function (item) {\r\n        var _this = this;\r\n        var tooltip = item.toolTipText || mxResources.get(item.resourceKey) || \"\";\r\n        if (item instanceof ToolbarButton) {\r\n            var action = this.editorUi.actions.getAction(item.actionKey);\r\n            if (action != null && action.getShortcut() != null) {\r\n                tooltip += \" (\" + action.getShortcut() + \")\";\r\n            }\r\n        }\r\n        var btn = this.createToolbarButton(tooltip);\r\n        if (item.displayStyle == ToolbarItemDisplayStyle.ImageAndText || item.displayStyle == ToolbarItemDisplayStyle.Image) {\r\n            var btnImage = this.createToolbarButtonImage(item.imageSrc, item.imageClassName);\r\n            btn.appendChild(btnImage);\r\n        }\r\n        if (item.displayStyle == ToolbarItemDisplayStyle.ImageAndText || item.displayStyle == ToolbarItemDisplayStyle.Text) {\r\n            var btnText_1 = this.createToolbarButtonText(item.text || mxResources.get(item.resourceKey));\r\n            btn.appendChild(btnText_1);\r\n            // 特殊情况处理\r\n            // 缩放按钮显示文本随实际比例变化\r\n            if (item.resourceKey == ResourceKeys.pmf_zoom) {\r\n                this.editorUi.graph.view.addListener(mxEvent.EVENT_SCALE, function () {\r\n                    btnText_1.innerText = Math.round(_this.editorUi.graph.view.scale * 100) + '%';\r\n                });\r\n            }\r\n        }\r\n        if (item instanceof ToolbarButton) {\r\n            this.addToolbarButtonHandler(btn, item);\r\n        }\r\n        if (item instanceof ToolbarDropDownButton) {\r\n            var btnDropdownImage = this.createToolbarButtonDropdownImage();\r\n            btn.appendChild(btnDropdownImage);\r\n            this.addToolbarDropDownButtonHandler(btn, item);\r\n        }\r\n        return btn;\r\n    };\r\n    /**\r\n     * 添加分割线\r\n     * @param c\r\n     * @returns\r\n     */\r\n    Toolbar.prototype.addToolbarSeparator = function (c) {\r\n        c = (c != null) ? c : this.container;\r\n        var elt = document.createElement('div');\r\n        elt.className = 'geSeparator';\r\n        c.appendChild(elt);\r\n        return elt;\r\n    };\r\n    /**\r\n     * 创建按钮\r\n     * @param tooltip\r\n     * @returns\r\n     */\r\n    Toolbar.prototype.createToolbarButton = function (tooltip) {\r\n        var elt = document.createElement('a');\r\n        elt.setAttribute('href', 'javascript:void(0);');\r\n        elt.className = 'geLabel';\r\n        elt.style.color = \"#000000\";\r\n        if (tooltip != null)\r\n            elt.title = tooltip;\r\n        return elt;\r\n    };\r\n    /**\r\n     * 创建按钮图片\r\n     * @param src\r\n     * @param className\r\n     * @returns\r\n     */\r\n    Toolbar.prototype.createToolbarButtonImage = function (src, className) {\r\n        var elt = document.createElement('img');\r\n        elt.src = src;\r\n        if (className != null)\r\n            elt.className = className;\r\n        elt.style.display = \"inline-block\";\r\n        elt.style.verticalAlign = \"middle\";\r\n        return elt;\r\n    };\r\n    /**\r\n     * 创建按钮文字\r\n     * @param text\r\n     * @param className\r\n     * @returns\r\n     */\r\n    Toolbar.prototype.createToolbarButtonText = function (text, className) {\r\n        var elt = document.createElement('div');\r\n        mxUtils.write(elt, text);\r\n        if (className != null)\r\n            elt.className = className;\r\n        elt.style.display = \"inline-block\";\r\n        elt.style.verticalAlign = \"middle\";\r\n        elt.style.paddingLeft = \"2px\";\r\n        return elt;\r\n    };\r\n    /**\r\n     * 创建下拉按钮图标\r\n     * @returns\r\n     */\r\n    Toolbar.prototype.createToolbarButtonDropdownImage = function () {\r\n        var elt = document.createElement('img');\r\n        elt.src = this.dropdownImage;\r\n        elt.style.display = \"inline-block\";\r\n        elt.style.verticalAlign = \"middle\";\r\n        elt.style.paddingLeft = \"2px\";\r\n        return elt;\r\n    };\r\n    /**\r\n     * 添加按钮处理器\r\n     * @param elt\r\n     * @param item\r\n     * @returns\r\n     */\r\n    Toolbar.prototype.addToolbarButtonHandler = function (elt, item) {\r\n        var action = this.editorUi.actions.getAction(item.actionKey);\r\n        if (action == null) {\r\n            return;\r\n        }\r\n        mxEvent.addListener(elt, 'click', function (evt) {\r\n            if (action != null && action.isEnabled()) {\r\n                action.execute(evt);\r\n            }\r\n            mxEvent.consume(evt);\r\n        });\r\n        if (document.documentMode != null && document.documentMode >= 9) {\r\n            mxEvent.addListener(elt, 'mousedown', function (evt) {\r\n                evt.preventDefault();\r\n            });\r\n        }\r\n        var classname = elt.className;\r\n        elt.setEnabled = function (value) {\r\n            if (value) {\r\n                elt.className = classname;\r\n            }\r\n            else {\r\n                elt.className = classname + ' mxDisabled';\r\n            }\r\n        };\r\n        elt.setEnabled(action.isEnabled());\r\n        action.addListener(PmfEvents.StateChanged, function () {\r\n            elt.setEnabled(action.isEnabled());\r\n        });\r\n    };\r\n    /**\r\n     * 添加下拉按钮处理器\r\n     * @param elt\r\n     * @param item\r\n     * @param showLabels\r\n     * @param showDisabled\r\n     */\r\n    Toolbar.prototype.addToolbarDropDownButtonHandler = function (elt, item, showLabels, showDisabled) {\r\n        var _this = this;\r\n        if (showLabels === void 0) { showLabels = true; }\r\n        if (showDisabled === void 0) { showDisabled = true; }\r\n        var show = true;\r\n        var funct = function (popupMenu, cell, evt) {\r\n            _this.addPopupMenuItems(popupMenu, item.items, popupMenu);\r\n        };\r\n        mxEvent.addListener(elt, 'click', function (evt) {\r\n            if (show && (elt.enabled == null || elt.enabled)) {\r\n                _this.editorUi.graph.popupMenuHandler.hideMenu();\r\n                var popupMenu_1 = new mxPopupMenu(funct);\r\n                popupMenu_1.div.className += ' geToolbarMenu';\r\n                popupMenu_1.showDisabled = showDisabled;\r\n                popupMenu_1.labels = showLabels;\r\n                popupMenu_1.autoExpand = true;\r\n                var offset = mxUtils.getOffset(elt);\r\n                popupMenu_1.popup(offset.x, offset.y + elt.offsetHeight, null, evt);\r\n                _this.editorUi.setCurrentMenu(popupMenu_1, elt);\r\n                if (!showLabels && popupMenu_1.div.scrollHeight > popupMenu_1.div.clientHeight) {\r\n                    popupMenu_1.div.style.width = '40px';\r\n                }\r\n                popupMenu_1.hideMenu = function () {\r\n                    mxPopupMenu.prototype.hideMenu.apply(popupMenu_1);\r\n                    _this.editorUi.resetCurrentMenu();\r\n                    popupMenu_1.destroy();\r\n                };\r\n            }\r\n            show = true;\r\n            mxEvent.consume(evt);\r\n        });\r\n        mxEvent.addListener(elt, 'mousedown', function (evt) {\r\n            show = _this.currentElt != elt;\r\n            if (document.documentMode != null && document.documentMode >= 9) {\r\n                evt.preventDefault();\r\n            }\r\n        });\r\n    };\r\n    /**\r\n     * 添加弹出菜单项\r\n     * @param popupMenu\r\n     * @param items\r\n     * @param parent\r\n     */\r\n    Toolbar.prototype.addPopupMenuItems = function (popupMenu, items, parent) {\r\n        var _this = this;\r\n        items.forEach(function (item) {\r\n            if (item instanceof ToolbarMenuItem) {\r\n                var action_1 = _this.editorUi.actions.getAction(item.actionKey);\r\n                var row = popupMenu.addItem(item.text || mxResources.get(item.resourceKey), null, function (evt) {\r\n                    if (action_1 != null && action_1.isEnabled()) {\r\n                        action_1.execute(evt);\r\n                    }\r\n                }, parent, null, action_1 == null ? false : action_1.isEnabled());\r\n                if (action_1 != null && action_1.isToggleAction() && action_1.isSelected()) {\r\n                    popupMenu.addCheckmark(row, Constant.CHECK_MARK_IMAGE);\r\n                }\r\n                _this.addShortcut(row, action_1);\r\n                item.elt = row;\r\n            }\r\n            if (item instanceof ToolbarSeparator) {\r\n                popupMenu.addSeparator(parent);\r\n            }\r\n            if (item instanceof ToolbarDropDownMenuItem) {\r\n                var row = popupMenu.addItem(item.text || mxResources.get(item.resourceKey), null, null, parent);\r\n                _this.addPopupMenuItems(popupMenu, item.items, row);\r\n                item.elt = row;\r\n            }\r\n        });\r\n    };\r\n    /**\r\n     * 添加快捷键提示\r\n     * @param item\r\n     * @param action\r\n     */\r\n    Toolbar.prototype.addShortcut = function (item, action) {\r\n        if (action != null && action.getShortcut() != null) {\r\n            var td = item.firstChild.nextSibling.nextSibling;\r\n            var span = document.createElement('span');\r\n            span.style.color = 'gray';\r\n            mxUtils.write(span, action.getShortcut());\r\n            td.appendChild(span);\r\n        }\r\n    };\r\n    return Toolbar;\r\n}());\r\nexport { Toolbar };\r\n//# sourceMappingURL=Toolbar.js.map","import { __extends } from \"tslib\";\r\nimport { Actions } from \"../action/Actions\";\r\nimport { mxEventSource, mxClient, mxPoint, mxPopupMenu, mxEvent, mxEventObject, mxResources, mxUtils, mxConstants, mxGuide, mxPolyline, mxRubberband, mxClipboard } from \"@edp-pmf/mxgraph-ts\";\r\nimport { DefaultToolbarItems } from \"../toolbar/DefaultToolbarItems\";\r\nimport { DefaultToolbox } from \"../toolbox/DefaultToolBox\";\r\nimport { PmfEvents } from \"../util/PmfEvents\";\r\nimport { Footer } from \"./Footer\";\r\nimport { Format } from \"./Format\";\r\nimport { Graph } from \"./Graph\";\r\nimport { KeyHandler } from \"./KeyHandler\";\r\nimport { Menubar } from \"./Menubar\";\r\nimport { Sidebar } from \"./Sidebar\";\r\nimport { Toolbar } from \"./Toolbar\";\r\nimport { MxGraphInnerClass } from \"../util/MxGraphInnerClass\";\r\n/**\r\n * 设计器统一入口，持有各部分组件实例，可触发以及响应事件\r\n */\r\nvar EditorUi = /** @class */ (function (_super) {\r\n    __extends(EditorUi, _super);\r\n    /**\r\n     * 构造方法\r\n     * @param container 容器dom，没有则去body\r\n     * @param eventSource 事件源\r\n     * @param importLinks 是否引入内置样式文件，默认为true\r\n     */\r\n    function EditorUi(container, eventSource, importLinks) {\r\n        if (importLinks === void 0) { importLinks = true; }\r\n        var _this = _super.call(this, eventSource) || this;\r\n        /**\r\n         * 菜单栏高度\r\n         */\r\n        _this.menubarHeight = 30;\r\n        /**\r\n         * 工具栏高度\r\n         */\r\n        _this.toolbarHeight = 34;\r\n        /**\r\n         * 属性框宽度\r\n         */\r\n        _this.formatWidth = 240;\r\n        /**\r\n         * 底部栏高度\r\n         */\r\n        _this.footerHeight = 28;\r\n        /**\r\n         * 分割条位置\r\n         */\r\n        _this.sidebarSplitPosition = (screen.width <= 640) ? 118 : 243;\r\n        /**\r\n         * 分割条宽度\r\n         */\r\n        _this.sidebarSplitSize = (mxClient.IS_TOUCH || mxClient.IS_POINTER) ? 12 : 8;\r\n        /**\r\n         * 画布最小宽度\r\n         */\r\n        _this.diagramMinWidth = 50;\r\n        /**\r\n         * 侧边栏底部栏高度\r\n         */\r\n        _this.sidebarFooterHeight = 34;\r\n        /**\r\n         * 0偏移量\r\n         */\r\n        _this.zeroOffset = new mxPoint(0, 0);\r\n        /**\r\n         * 是否显示菜单栏\r\n         */\r\n        _this.showMenubar = false;\r\n        /**\r\n         * 是否显示工具栏\r\n         */\r\n        _this.showToolbar = false;\r\n        /**\r\n         * 是否显示侧边栏\r\n         */\r\n        _this.showSidebar = true;\r\n        /**\r\n         * 是否显示属性框\r\n         */\r\n        _this.showFormat = false;\r\n        /**\r\n         * 是否显示底部栏\r\n         */\r\n        _this.showFooter = false;\r\n        /**\r\n         * 组件销毁方法列表\r\n         */\r\n        _this.destroyFunctions = [];\r\n        /**\r\n         * 是否启用多语\r\n         */\r\n        _this.multiLangEnabled = false;\r\n        /**\r\n         * 当前语言，尝试从igix运行框架取当前语言，没有则取zh-CHS\r\n         */\r\n        _this.langCode = window.gspframeworkService && window.gspframeworkService.rtf && window.gspframeworkService.rtf.language && window.gspframeworkService.rtf.language.getLanguageCode && window.gspframeworkService.rtf.language.getLanguageCode() || localStorage.getItem('languageCode') || 'zh-CHS';\r\n        _this.container = container || document.body;\r\n        importLinks && _this.importStyles();\r\n        return _this;\r\n    }\r\n    /**\r\n     * 引入内置样式文件\r\n     */\r\n    EditorUi.prototype.importStyles = function () {\r\n        var link1 = document.createElement(\"link\");\r\n        link1.rel = \"stylesheet\";\r\n        link1.href = (window.mxiGIXBasePath ? window.mxiGIXBasePath : \"\") + \"/platform/runtime/common/web/@edp-pmf/grapheditor/styles/grapheditor.css?v=\" + new Date().getTime();\r\n        document.head.appendChild(link1);\r\n        var link2 = document.createElement(\"link\");\r\n        link2.rel = \"stylesheet\";\r\n        link2.href = (window.mxiGIXBasePath ? window.mxiGIXBasePath : \"\") + \"/platform/runtime/common/web/@edp-pmf/grapheditor/styles/pmf.css?v=\" + new Date().getTime();\r\n        document.head.appendChild(link2);\r\n    };\r\n    /**\r\n     * 修改属性\r\n     * @param obj 至少要包含属性标识propertyID，属性值propertyValue和元素标识Id三个属性，元素标识Id可以为空，为空表示修改的是流程属性\r\n     */\r\n    EditorUi.prototype.updateProperty = function (obj) {\r\n        var cell = this.graph.getCellByFlowElementId(obj.Id);\r\n        if (cell) {\r\n            cell.updateProps(obj);\r\n        }\r\n        else {\r\n            this.graph.processCell.updateProps(obj);\r\n        }\r\n    };\r\n    /**\r\n     * 获取属性配置\r\n     * @param cells\r\n     * @returns\r\n     */\r\n    EditorUi.prototype.getFarrisPropConfig = function (cells) {\r\n        if (cells && cells.length > 0 && cells[0] != null) {\r\n            var cell = cells[0];\r\n            return this.getCellFarrisPropConfig(cell);\r\n        }\r\n        else {\r\n            return this.getProcessFarrisPropConfig();\r\n        }\r\n    };\r\n    /**\r\n     * 获取流程属性配置\r\n     */\r\n    EditorUi.prototype.getProcessFarrisPropConfig = function () {\r\n        return this.graph.processCell.getFarrisPropConfig();\r\n    };\r\n    /**\r\n     * 获取节点属性配置\r\n     * @param cell\r\n     * @returns\r\n     */\r\n    EditorUi.prototype.getCellFarrisPropConfig = function (cell) {\r\n        return cell.getFarrisPropConfig();\r\n    };\r\n    /**\r\n     * 显示EditorUI\r\n     */\r\n    EditorUi.prototype.show = function () {\r\n        var _this = this;\r\n        this.createDivs();\r\n        this.refresh(false);\r\n        this.graph = this.createGraph();\r\n        this.keyHandler = this.createKeyHandler(this.graph);\r\n        this.actions = this.createActions();\r\n        this.toolbarItems = this.createToolbarItems();\r\n        if (this.showMenubar) {\r\n            this.menubar = this.createMenubar();\r\n        }\r\n        if (this.showToolbar) {\r\n            this.toolbar = this.createToolbar();\r\n        }\r\n        if (this.showSidebar) {\r\n            this.sidebar = this.createSidebar();\r\n        }\r\n        if (this.showFormat) {\r\n            this.format = this.createFormat();\r\n        }\r\n        if (this.showFooter) {\r\n            this.footer = this.createFooter();\r\n        }\r\n        this.resetToolbar(this.toolbarItems);\r\n        this.resetToolbox();\r\n        // 禁用右键快捷菜单\r\n        mxEvent.disableContextMenu(this.container);\r\n        // 点击非当前菜单位置时关闭菜单\r\n        this.gestureHandler = function (evt) {\r\n            if (_this.currentMenu != null && mxEvent.getSource(evt) != _this.currentMenu.div) {\r\n                _this.hideCurrentMenu();\r\n            }\r\n        };\r\n        mxEvent.addGestureListeners(document, this.gestureHandler);\r\n        this.resizeHandler = function () {\r\n            window.setTimeout(function () {\r\n                if (_this.graph != null) {\r\n                    _this.refresh();\r\n                }\r\n            }, 0);\r\n        };\r\n        mxEvent.addListener(window, 'resize', this.resizeHandler);\r\n        this.addListener(PmfEvents.ResetGraphView, function () {\r\n            _this.resetScrollbars();\r\n        });\r\n        this.fireEvent(new mxEventObject(PmfEvents.ResetGraphView));\r\n        this.addBpmnListeners();\r\n    };\r\n    /**\r\n     * 刷新\r\n     * @param sizeDidChange\r\n     */\r\n    EditorUi.prototype.refresh = function (sizeDidChange) {\r\n        if (sizeDidChange === void 0) { sizeDidChange = true; }\r\n        var quirks = mxClient.IS_QUIRKS;\r\n        var w = this.container.clientWidth;\r\n        var h = this.container.clientHeight;\r\n        if (this.container == document.body) {\r\n            w = document.body.clientWidth || document.documentElement.clientWidth;\r\n            h = (quirks) ? document.body.clientHeight || document.documentElement.clientHeight : document.documentElement.clientHeight;\r\n        }\r\n        // Workaround for bug on iOS see\r\n        // http://stackoverflow.com/questions/19012135/ios-7-ipad-safari-landscape-innerheight-outerheight-layout-issue\r\n        // FIXME: Fix if footer visible\r\n        var off = 0;\r\n        if (mxClient.IS_IOS && !window.navigator.standalone) {\r\n            if (window.innerHeight != document.documentElement.clientHeight) {\r\n                off = document.documentElement.clientHeight - window.innerHeight;\r\n                window.scrollTo(0, 0);\r\n            }\r\n        }\r\n        var menubarContainerHeight = this.showMenubar ? this.menubarHeight : 0;\r\n        var toolbarContainerHeight = this.showToolbar ? this.toolbarHeight : 0;\r\n        var formatContainerWidth = this.showFooter ? this.formatWidth : 0;\r\n        var footerContainerHeight = this.showFooter ? this.footerHeight : 0;\r\n        var tmp = 0;\r\n        this.menubarContainer.style.height = menubarContainerHeight + 'px';\r\n        tmp += menubarContainerHeight;\r\n        this.toolbarContainer.style.top = menubarContainerHeight + 'px';\r\n        this.toolbarContainer.style.height = toolbarContainerHeight + 'px';\r\n        tmp += toolbarContainerHeight;\r\n        if (tmp > 0 && !mxClient.IS_QUIRKS) {\r\n            tmp += 1;\r\n        }\r\n        var effectSidebarSplitPosition = Math.max(0, Math.min(this.sidebarSplitPosition, w - this.sidebarSplitSize - 20));\r\n        if (this.showSidebar) {\r\n            this.sidebarContainer.style.top = tmp + 'px';\r\n            this.sidebarContainer.style.width = effectSidebarSplitPosition + 'px';\r\n            this.sidebarSplit.style.top = this.sidebarContainer.style.top;\r\n            this.sidebarSplit.style.bottom = (footerContainerHeight + off) + 'px';\r\n            this.sidebarSplit.style.left = effectSidebarSplitPosition + 'px';\r\n        }\r\n        this.diagramContainer.style.left = (this.sidebarSplit.parentNode != null) && this.showSidebar ? (effectSidebarSplitPosition + this.sidebarSplitSize) + 'px' : '0px';\r\n        this.diagramContainer.style.top = tmp + 'px';\r\n        this.formatContainer.style.top = tmp + 'px';\r\n        this.formatContainer.style.width = formatContainerWidth + 'px';\r\n        this.footerContainer.style.height = footerContainerHeight + \"px\";\r\n        if (quirks) {\r\n            this.menubarContainer.style.width = w + 'px';\r\n            this.toolbarContainer.style.width = this.menubarContainer.style.width;\r\n            var sidebarHeight = Math.max(0, h - footerContainerHeight - menubarContainerHeight - this.toolbarHeight);\r\n            this.sidebarContainer.style.height = sidebarHeight + 'px';\r\n            this.formatContainer.style.height = sidebarHeight + 'px';\r\n            this.diagramContainer.style.width = (this.sidebarSplit.parentNode != null) ? Math.max(0, w - effectSidebarSplitPosition - this.sidebarSplitSize - formatContainerWidth) + 'px' : w + 'px';\r\n            this.footerContainer.style.width = this.menubarContainer.style.width;\r\n            var diagramHeight = Math.max(0, h - footerContainerHeight - menubarContainerHeight - this.toolbarHeight);\r\n            this.diagramContainer.style.height = diagramHeight + 'px';\r\n            this.sidebarSplit.style.height = diagramHeight + 'px';\r\n        }\r\n        else {\r\n            if (footerContainerHeight > 0) {\r\n                this.footerContainer.style.bottom = off + 'px';\r\n            }\r\n            this.diagramContainer.style.right = formatContainerWidth + 'px';\r\n            this.sidebarContainer.style.bottom = (footerContainerHeight + off) + 'px';\r\n            this.formatContainer.style.bottom = (footerContainerHeight + off) + 'px';\r\n            this.diagramContainer.style.bottom = (footerContainerHeight + off) + 'px';\r\n        }\r\n        if (sizeDidChange && this.graph != null) {\r\n            this.graph.sizeDidChange();\r\n            this.fireEvent(new mxEventObject(PmfEvents.ResizeGraphView));\r\n        }\r\n    };\r\n    /**\r\n     * 创建各容器div\r\n     */\r\n    EditorUi.prototype.createDivs = function () {\r\n        var _this = this;\r\n        this.menubarContainer = this.createDiv('geMenubarContainer');\r\n        this.menubarContainer.style.top = '0px';\r\n        this.menubarContainer.style.left = '0px';\r\n        this.menubarContainer.style.right = '0px';\r\n        this.container.appendChild(this.menubarContainer);\r\n        this.toolbarContainer = this.createDiv('geToolbarContainer');\r\n        this.toolbarContainer.style.left = '0px';\r\n        this.toolbarContainer.style.right = '0px';\r\n        this.container.appendChild(this.toolbarContainer);\r\n        this.sidebarContainer = this.createDiv('geSidebarContainer');\r\n        this.sidebarContainer.style.left = '0px';\r\n        this.container.appendChild(this.sidebarContainer);\r\n        this.sidebarSplit = this.createDiv('geHsplit');\r\n        this.sidebarSplit.setAttribute('title', mxResources.get('collapseExpand'));\r\n        this.sidebarSplit.style.width = this.sidebarSplitSize + 'px';\r\n        this.addSplitHandler(this.sidebarSplit, true, 0, function (value) {\r\n            _this.sidebarSplitOnChange(value);\r\n        });\r\n        this.container.appendChild(this.sidebarSplit);\r\n        this.diagramContainer = this.createDiv('geDiagramContainer');\r\n        this.diagramContainer.style.right = (this.showFormat ? this.formatWidth : 0) + 'px';\r\n        this.diagramContainer.style.overflow = \"auto\";\r\n        this.container.appendChild(this.diagramContainer);\r\n        this.formatContainer = this.createDiv('geSidebarContainer');\r\n        this.formatContainer.style.right = '0px';\r\n        this.formatContainer.style.zIndex = '1';\r\n        this.formatContainer.style.backgroundColor = 'whiteSmoke';\r\n        this.formatContainer.style.overflowX = 'hidden';\r\n        this.formatContainer.style.overflowY = 'auto';\r\n        this.formatContainer.style.fontSize = '12px';\r\n        this.container.appendChild(this.formatContainer);\r\n        this.footerContainer = this.createDiv('geFooterContainer');\r\n        this.footerContainer.style.left = '0px';\r\n        this.footerContainer.style.right = '0px';\r\n        this.footerContainer.style.bottom = '0px';\r\n        this.footerContainer.style.zIndex = (mxPopupMenu.prototype.zIndex - 2).toString();\r\n        this.container.appendChild(this.footerContainer);\r\n    };\r\n    /**\r\n     * 创建带指定样式类的div\r\n     * @param classname\r\n     * @returns\r\n     */\r\n    EditorUi.prototype.createDiv = function (classname) {\r\n        var elt = document.createElement('div');\r\n        elt.className = classname;\r\n        return elt;\r\n    };\r\n    /**\r\n     * 添加分割条处理器\r\n     * @param elt\r\n     * @param horizontal\r\n     * @param dx\r\n     * @param onChange\r\n     */\r\n    EditorUi.prototype.addSplitHandler = function (elt, horizontal, dx, onChange) {\r\n        var _this = this;\r\n        onChange = mxUtils.bind(this, onChange);\r\n        var start;\r\n        var initial;\r\n        var ignoreClick = true;\r\n        var last;\r\n        // Disables built-in pan and zoom in IE10 and later\r\n        if (mxClient.IS_POINTER) {\r\n            elt.style.touchAction = 'none';\r\n        }\r\n        var getValue = function () {\r\n            var result = parseInt(((horizontal) ? elt.style.left : elt.style.bottom));\r\n            if (!horizontal) {\r\n                result = result + dx - _this.footerHeight;\r\n            }\r\n            return result;\r\n        };\r\n        var clickHandler = function (evt) {\r\n            if (!ignoreClick) {\r\n                var next = (last != null) ? last - dx : 0;\r\n                last = getValue();\r\n                onChange(next);\r\n                mxEvent.consume(evt);\r\n            }\r\n        };\r\n        var startHandler = function (evt) {\r\n            start = new mxPoint(mxEvent.getClientX(evt), mxEvent.getClientY(evt));\r\n            initial = getValue();\r\n            ignoreClick = false;\r\n            mxEvent.consume(evt);\r\n        };\r\n        var moveHandler = function (evt) {\r\n            if (start != null) {\r\n                var pt = new mxPoint(mxEvent.getClientX(evt), mxEvent.getClientY(evt));\r\n                onChange(Math.max(0, (initial == null ? 0 : initial) + ((horizontal) ? (pt.x - start.x) : (start.y - pt.y)) - dx));\r\n                mxEvent.consume(evt);\r\n                if (initial != getValue()) {\r\n                    ignoreClick = true;\r\n                    last = null;\r\n                }\r\n            }\r\n        };\r\n        var dropHandler = function (evt) {\r\n            moveHandler(evt);\r\n            initial = null;\r\n            start = null;\r\n        };\r\n        mxEvent.addListener(elt, 'click', clickHandler);\r\n        mxEvent.addGestureListeners(elt, startHandler, null, null);\r\n        mxEvent.addGestureListeners(document, null, moveHandler, dropHandler);\r\n    };\r\n    /**\r\n     * 分割条移动后刷新界面\r\n     * @param value\r\n     */\r\n    EditorUi.prototype.sidebarSplitOnChange = function (value) {\r\n        // 分割条不可超过画布最小宽度\r\n        if (this.container.clientWidth - value <= this.formatWidth + this.sidebarSplitSize + this.diagramMinWidth) {\r\n            return;\r\n        }\r\n        this.sidebarSplitPosition = value;\r\n        this.refresh();\r\n    };\r\n    /**\r\n     * 获取画布容器偏移量\r\n     * @returns\r\n     */\r\n    EditorUi.prototype.getDiagramContainerOffset = function () {\r\n        return this.zeroOffset;\r\n    };\r\n    /**\r\n     * 创建画布\r\n     * @returns\r\n     */\r\n    EditorUi.prototype.createGraph = function () {\r\n        this.beforeCreateGraph();\r\n        var graph = this.createGraphInstance();\r\n        this.afterCreateGraph(graph);\r\n        return graph;\r\n    };\r\n    /**\r\n     * 创建画布前\r\n     */\r\n    EditorUi.prototype.beforeCreateGraph = function () {\r\n        mxConstants.DEFAULT_VALID_COLOR = '#FFFFFF';\r\n        mxConstants.VALID_COLOR = '#00CD66';\r\n        // 引导线颜色\r\n        mxConstants.GUIDE_COLOR = '#0088cf';\r\n        // 选中高亮框宽度\r\n        mxConstants.HIGHLIGHT_STROKEWIDTH = 1;\r\n        //设置节点选中线框宽度\r\n        mxConstants.VERTEX_SELECTION_STROKEWIDTH = 1;\r\n        mxConstants.VERTEX_SELECTION_COLOR = '#0000CD';\r\n        mxConstants.VERTEX_SELECTION_DASHED = true;\r\n        mxGuide.prototype.createGuideShape = function (horizontal) {\r\n            var guide = new mxPolyline([], mxConstants.GUIDE_COLOR, mxConstants.GUIDE_STROKEWIDTH);\r\n            return guide;\r\n        };\r\n    };\r\n    /**\r\n     * 创建画布实例\r\n     */\r\n    EditorUi.prototype.createGraphInstance = function () {\r\n        var graph = new Graph(this, this.diagramContainer);\r\n        return graph;\r\n    };\r\n    /**\r\n     * 创建画布后\r\n     * @param graph\r\n     */\r\n    EditorUi.prototype.afterCreateGraph = function (graph) {\r\n        var _this = this;\r\n        new mxRubberband(graph);\r\n        graph.setDropEnabled(true);\r\n        graph.setConnectable(true);\r\n        // 设置画布容器dom可以获得焦点\r\n        graph.container.setAttribute('tabindex', '0');\r\n        //选中元素变更后出发EditorUI选中模型变更事件，修改action状态\r\n        graph.getSelectionModel().addListener(mxEvent.CHANGE, function (sender, evt) {\r\n            _this.fireEvent(new mxEventObject(PmfEvents.SelectionModelChanged));\r\n        });\r\n        // 保证鼠标按下时焦点一直是画布容器\r\n        var graphFireMouseEvent = graph.fireMouseEvent;\r\n        graph.fireMouseEvent = function (evtName, me, sender) {\r\n            if (evtName == mxEvent.MOUSE_DOWN) {\r\n                graph.container.focus();\r\n            }\r\n            graphFireMouseEvent.apply(graph, [evtName, me, sender]);\r\n        };\r\n        // 创建无限大画布\r\n        graph.createInfiniteCanvas();\r\n        // 方法重写完成后，需重新调用一次sizeDidChange()才可生效\r\n        graph.sizeDidChange();\r\n        // 重写复制方法\r\n        mxClipboard.copy = function (graph, cells) {\r\n            cells = cells || graph.getSelectionCells();\r\n            // 仅复制节点\r\n            cells = cells.filter(function (cell) { return cell.vertex; });\r\n            var result = graph.getExportableCells(graph.model.getTopmostCells(cells));\r\n            mxClipboard.insertCount = 1;\r\n            mxClipboard.setCells(graph.cloneCells(result));\r\n            return result;\r\n        };\r\n        // 重写粘贴方法\r\n        mxClipboard.paste = function (graph) {\r\n            var cells = null;\r\n            if (!mxClipboard.isEmpty()) {\r\n                cells = graph.getImportableCells(mxClipboard.getCells());\r\n                // 仅粘贴节点\r\n                cells = cells.filter(function (cell) { return cell.vertex; });\r\n                var delta_1 = mxClipboard.insertCount * mxClipboard.STEPSIZE;\r\n                var parent_1 = graph.getDefaultParent();\r\n                graph.clearSelection();\r\n                var select_1 = [];\r\n                graph.model.beginUpdate();\r\n                try {\r\n                    cells.forEach(function (cell) {\r\n                        // const clone = graph.moveCells([cell], delta, delta, false, parent)[0] as NodeCell;\r\n                        var clone = graph.importCells([cell], delta_1, delta_1, parent_1)[0];\r\n                        clone.bindBpmnModel(clone.flowElement, clone.diagramElement);\r\n                        select_1.push(clone);\r\n                    });\r\n                    // Increments the counter and selects the inserted cells\r\n                    mxClipboard.insertCount++;\r\n                }\r\n                finally {\r\n                    graph.model.endUpdate();\r\n                }\r\n                graph.setSelectionCells(select_1);\r\n            }\r\n            return cells;\r\n        };\r\n    };\r\n    /**\r\n     * 创建动作列表\r\n     * @returns\r\n     */\r\n    EditorUi.prototype.createActions = function () {\r\n        var actions = new Actions(this);\r\n        return actions;\r\n    };\r\n    /**\r\n     * 创建工具栏项列表\r\n     * @returns\r\n     */\r\n    EditorUi.prototype.createToolbarItems = function () {\r\n        var toolbarItems = new DefaultToolbarItems();\r\n        return toolbarItems;\r\n    };\r\n    /**\r\n     * 创建键盘事件处理器\r\n     * @param graph\r\n     * @returns\r\n     */\r\n    EditorUi.prototype.createKeyHandler = function (graph) {\r\n        var keyHandler = new KeyHandler(graph);\r\n        return keyHandler;\r\n    };\r\n    /**\r\n     * 创建菜单栏\r\n     * @returns\r\n     */\r\n    EditorUi.prototype.createMenubar = function () {\r\n        var menubar = new Menubar(this, this.menubarContainer);\r\n        return menubar;\r\n    };\r\n    /**\r\n     * 创建工具栏\r\n     * @returns\r\n     */\r\n    EditorUi.prototype.createToolbar = function () {\r\n        var toolbar = new Toolbar(this, this.toolbarContainer);\r\n        return toolbar;\r\n    };\r\n    /**\r\n     * 创建侧边栏\r\n     * @returns\r\n     */\r\n    EditorUi.prototype.createSidebar = function () {\r\n        var sidebar = new Sidebar(this, this.sidebarContainer);\r\n        return sidebar;\r\n    };\r\n    /**\r\n     * 创建内置属性框\r\n     * @returns\r\n     */\r\n    EditorUi.prototype.createFormat = function () {\r\n        var format = new Format(this, this.formatContainer);\r\n        return format;\r\n    };\r\n    /**\r\n     * 创建底部栏\r\n     * @returns\r\n     */\r\n    EditorUi.prototype.createFooter = function () {\r\n        var footer = new Footer(this, this.footerContainer);\r\n        return footer;\r\n    };\r\n    /**\r\n     * 重置工具条\r\n     */\r\n    EditorUi.prototype.resetToolbar = function (toolbarItems) {\r\n        this.toolbar && this.toolbar.reset(toolbarItems);\r\n    };\r\n    /**\r\n     * 重置工具箱\r\n     */\r\n    EditorUi.prototype.resetToolbox = function () {\r\n        this.toolbox = this.createToolbox();\r\n        this.sidebar && this.sidebar.reset(this.toolbox);\r\n    };\r\n    /**\r\n     * 创建工具箱\r\n     * @returns\r\n     */\r\n    EditorUi.prototype.createToolbox = function () {\r\n        var toolbox = new DefaultToolbox();\r\n        return toolbox;\r\n    };\r\n    /**\r\n     * 加载BpmnModel\r\n     * @param json\r\n     */\r\n    EditorUi.prototype.loadBpmnModel = function (json) {\r\n        this.graph && this.graph.loadBpmnModel(json);\r\n    };\r\n    /**\r\n     * 重置滚动条\r\n     */\r\n    EditorUi.prototype.resetScrollbars = function () {\r\n        var graph = this.graph;\r\n        var bounds = graph.getGraphBounds();\r\n        var width = bounds.width;\r\n        var height = bounds.height;\r\n        if (graph.getScrollTileSize) {\r\n            width = Math.max(bounds.width, graph.getScrollTileSize().width * graph.view.scale);\r\n            height = Math.max(bounds.height, graph.getScrollTileSize().height * graph.view.scale);\r\n        }\r\n        graph.container.scrollTop = Math.floor(Math.max(0, bounds.y - Math.max(20, (graph.container.clientHeight - height) / 4)));\r\n        graph.container.scrollLeft = Math.floor(Math.max(0, bounds.x - Math.max(0, (graph.container.clientWidth - width) / 2)));\r\n    };\r\n    /**\r\n     * 设置当前菜单\r\n     * @param menu\r\n     * @param elt\r\n     */\r\n    EditorUi.prototype.setCurrentMenu = function (menu, elt) {\r\n        this.currentMenuElt = elt;\r\n        this.currentMenu = menu;\r\n    };\r\n    /**\r\n     * 重置当前菜单\r\n     */\r\n    EditorUi.prototype.resetCurrentMenu = function () {\r\n        this.currentMenuElt = null;\r\n        this.currentMenu = null;\r\n    };\r\n    /**\r\n     * 隐藏当前菜单\r\n     */\r\n    EditorUi.prototype.hideCurrentMenu = function () {\r\n        if (this.currentMenu != null) {\r\n            this.currentMenu.hideMenu();\r\n            this.resetCurrentMenu();\r\n        }\r\n    };\r\n    /**\r\n     * 添加模型相关监听器\r\n     */\r\n    EditorUi.prototype.addBpmnListeners = function () {\r\n        var _this = this;\r\n        // 元素修改事件处理\r\n        this.graph.getModel().addListener(mxEvent.CHANGE, function (sender, evt) {\r\n            // 画图完成后才会为graph的bpmnModel赋值，此后才真正监听change事件\r\n            if (_this.graph.bpmnModel == null) {\r\n                return;\r\n            }\r\n            var changes = evt.getProperty(\"changes\");\r\n            var edit = evt.getProperty(\"edit\");\r\n            //消息发送开关，发送出一次消息后关闭\r\n            var flag = true;\r\n            changes && changes.forEach(function (chg) {\r\n                // 根据change实例的构造函数名判断具体属于哪种类型\r\n                if (chg.constructor.name == MxGraphInnerClass.mxTerminalChange) {\r\n                    var change = chg;\r\n                    var edge = change.cell;\r\n                    var terminal = change.terminal;\r\n                    var source = change.source;\r\n                    var previous = change.previous;\r\n                    _this.graph.bpmnEdgeTerminalChanged(edge, terminal, source, previous, sender, evt, change);\r\n                    if (flag && edge != null) {\r\n                        _this.fireEvent(new mxEventObject(PmfEvents.ShowProperty, \"cells\", [edge]));\r\n                        flag = false;\r\n                    }\r\n                    _this.graph.setSelectionCells([edge]);\r\n                }\r\n                else if (chg.constructor.name == MxGraphInnerClass.mxGeometryChange) {\r\n                    var change = chg;\r\n                    var cell = change.cell;\r\n                    _this.graph.bpmnCellGeometryChanged(cell, sender, evt, change);\r\n                    if (flag && cell != null) {\r\n                        _this.fireEvent(new mxEventObject(PmfEvents.ShowProperty, \"cells\", [cell]));\r\n                        flag = false;\r\n                    }\r\n                }\r\n            });\r\n        });\r\n        // 元素删除事件处理\r\n        this.graph.addListener(mxEvent.CELLS_REMOVED, function (sender, evt) {\r\n            var cells = evt.getProperty(\"cells\");\r\n            _this.graph.bpmnCellsRemoved(cells, sender, evt);\r\n        });\r\n        // 修改选中元素事件处理\r\n        this.graph.getSelectionModel().addListener(mxEvent.CHANGE, function (sender, evt) {\r\n            var cells = _this.graph.getSelectionCells();\r\n            _this.graph.bpmnCellsSelectionChanged(cells, sender, evt);\r\n        });\r\n        // 添加连线事件\r\n        this.graph.connectionHandler.addListener(mxEvent.CONNECT, function (sender, evt) {\r\n            var edge = evt.getProperty(\"cell\");\r\n            _this.graph.bpmnCellsConnected(edge, sender, evt);\r\n        });\r\n        // 活动名称修改事件\r\n        this.addListener(PmfEvents.NameChanged, function (sender, evt) {\r\n            var cell = evt.getProperty(\"cell\");\r\n            _this.graph.bpmnCellNameChanged(cell, sender, evt);\r\n        });\r\n    };\r\n    /**\r\n     * 销毁\r\n     */\r\n    EditorUi.prototype.destroy = function () {\r\n        if (this.graph != null) {\r\n            this.graph.destroy();\r\n        }\r\n        if (this.toolbar != null) {\r\n            this.toolbar.destroy();\r\n            this.toolbar = null;\r\n        }\r\n        if (this.sidebar != null) {\r\n            this.sidebar.destroy();\r\n            this.sidebar = null;\r\n        }\r\n        if (this.keyHandler != null) {\r\n            this.keyHandler.destroy();\r\n            this.keyHandler = null;\r\n        }\r\n        if (this.gestureHandler != null) {\r\n            mxEvent.removeGestureListeners(document, this.gestureHandler);\r\n            this.gestureHandler = null;\r\n        }\r\n        if (this.resizeHandler != null) {\r\n            mxEvent.removeListener(window, 'resize', this.resizeHandler);\r\n            this.resizeHandler = null;\r\n        }\r\n        if (this.deleteKeyHandler != null) {\r\n            mxEvent.removeListener(document, 'keydown', this.deleteKeyHandler);\r\n            this.deleteKeyHandler = null;\r\n        }\r\n        if (this.destroyFunctions != null) {\r\n            for (var i = 0; i < this.destroyFunctions.length; i++) {\r\n                this.destroyFunctions[i]();\r\n            }\r\n            this.destroyFunctions = null;\r\n        }\r\n        var c = [\r\n            this.menubarContainer,\r\n            this.toolbarContainer,\r\n            this.sidebarContainer,\r\n            this.formatContainer,\r\n            this.diagramContainer,\r\n            this.footerContainer,\r\n            this.sidebarSplit,\r\n        ];\r\n        for (var i = 0; i < c.length; i++) {\r\n            if (c[i] != null && c[i].parentNode != null) {\r\n                c[i].parentNode.removeChild(c[i]);\r\n            }\r\n        }\r\n    };\r\n    return EditorUi;\r\n}(mxEventSource));\r\nexport { EditorUi };\r\n//# sourceMappingURL=EditorUi.js.map","import { mxResources } from \"@edp-pmf/mxgraph-ts\";\r\n/**\r\n * 本文件下为js加载完成后立即执行代码\r\n */\r\n(function () {\r\n    if (window.mxiGIXBasePath == null) {\r\n        var topWindow = window.top;\r\n        var gspframeworkService = topWindow.gspframeworkService;\r\n        var igixBasePath = gspframeworkService && gspframeworkService.common && gspframeworkService.common.getBasePath && gspframeworkService.common.getBasePath.get ? gspframeworkService.common.getBasePath.get() : \"\";\r\n        window.mxiGIXBasePath = igixBasePath || \"\";\r\n    }\r\n    // 重写加载默认资源文件方法，在url后加参数以更新缓存\r\n    var originGetDefaultBundle = mxResources.getDefaultBundle;\r\n    mxResources.getDefaultBundle = function (basename, lan) {\r\n        var bundle = originGetDefaultBundle.apply(this, [basename, lan]);\r\n        if (bundle) {\r\n            bundle = bundle + \"?v=\" + new Date().getTime();\r\n        }\r\n        return bundle;\r\n    };\r\n    // 重写加载特定资源文件方法，在url后加参数以更新缓存\r\n    var originGetSpecialBundle = mxResources.getSpecialBundle;\r\n    mxResources.getSpecialBundle = function (basename, lan) {\r\n        var bundle = originGetSpecialBundle.apply(this, [basename, lan]);\r\n        if (bundle) {\r\n            bundle = bundle + \"?v=\" + new Date().getTime();\r\n        }\r\n        return bundle;\r\n    };\r\n    // 引入资源文件\r\n    mxResources.add((window.mxiGIXBasePath ? window.mxiGIXBasePath : \"\") + \"/platform/runtime/common/web/@edp-pmf/grapheditor/resources/grapheditor\");\r\n})();\r\n//# sourceMappingURL=Init.js.map","var Utils = /** @class */ (function () {\r\n    function Utils() {\r\n    }\r\n    // Check if `child` is a descendant of `parent`\r\n    Utils.isDescendant = function (parent, child) {\r\n        var node = child.parentNode;\r\n        while (node) {\r\n            if (node === parent) {\r\n                return true;\r\n            }\r\n            // Traverse up to the parent\r\n            node = node.parentNode;\r\n        }\r\n        // Go up until the root but couldn't find the `parent`\r\n        return false;\r\n    };\r\n    return Utils;\r\n}());\r\nexport { Utils };\r\n//# sourceMappingURL=Utils.js.map"],"names":["extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__extends","__","this","constructor","prototype","create","PmfEvents","__assign","assign","t","s","i","n","arguments","length","call","apply","exports","ActionKeys","KEYBOARD_MAP","Action","_super","key","editorUi","enabled","_this","toggleAction","isEnabled","isToggleAction","isSelected","setEnabled","value","origin","fireEvent","mxEventObject","StateChanged","getShortcut","shortcutKeyCode","shortcut","shortcutAltKey","shortcutShiftKey","shortcutControlKey","ctrlKey","setToggleAction","execute","evt","mxClient","mxEventSource","KeyCodes","AboutAction","pmf_about","alert","AlignBottomAction","pmf_bottomAlign","addListener","LockedChanged","isAlignActionEnabled","graph","SelectionModelChanged","alignCells","mxConstants","ALIGN_BOTTOM","isUnlocked","isVertexSelected","getSelectionCount","isCellLocked","getDefaultParent","vertexSelected","cells","getSelectionCells","cell","getModel","isVertex","AlignCenterAction","pmf_center","ALIGN_CENTER","AlignLeftAction","pmf_leftAlign","ALIGN_LEFT","AlignMiddleAction","pmf_middle","ALIGN_MIDDLE","AlignRightAction","pmf_rightAlign","ALIGN_RIGHT","AlignTopAction","pmf_topAlign","ALIGN_TOP","AutosizeAction","pmf_autosize","Y","beginUpdate","getChildCount","updateGroupBounds","state","view","getState","geo","getCellGeometry","text","isWrapping","clone","height","boundingBox","scale","setGeometry","updateCellSize","endUpdate","ClearWaypointsAction","pmf_clearWaypoints","C","selected","isSelectionEmpty","addAllEdges","isEdge","points","CopyAction","pmf_copy","mxClipboard","copy","CutAction","pmf_cut","X","DeleteAction","pmf_delete","Del","escape","getDeletableCells","parents","model","getParents","removeCells","select","contains","push","setSelectionCells","DistributeHorizontalAction","pmf_horizontal","distributeCells","DistributeVerticalAction","pmf_vertical","DuplicateAction","pmf_duplicate","D","getTopmostCells","gridSize","clones","cloneCells","parent_1","getParent","child","moveCells","add","FitWindowAction","pmf_fitWindow","H","fit","FormatPanelAction","pmf_formatPanel","P","showFormat","refresh","HelpAction","pmf_help","LockUnlockAction","pmf_lockUnlock","L","defaultValue","isCellMovable","getSelectionCell","toggleCellStyles","STYLE_MOVABLE","STYLE_RESIZABLE","STYLE_ROTATABLE","STYLE_DELETABLE","STYLE_EDITABLE","OutlineWindow","x","y","w","h","div","document","createElement","style","position","width","border","overflow","window","mxWindow","mxResources","get","destroyOnClose","setMaximizable","setResizable","setClosable","setVisible","setLocation","iw","innerWidth","documentElement","clientWidth","body","ih","innerHeight","clientHeight","Math","max","min","table","getX","getY","mxEvent","outline","mxOutline","update","ResizeGraphView","RESIZE","sizeDidChange","SHOW","suspended","HIDE","NORMALIZE","MINIMIZE","outlineCreateGraph","createGraph","container","g","gridEnabled","pageScale","pageFormat","background","pageVisible","current","mxUtils","getCurrentStyle","backgroundColor","backgroundPageShape","fill","init","dialect","DIALECT_SVG","zoomInAction_1","actions","getAction","pmf_zoomIn","zoomOutAction_1","pmf_zoomOut","addMouseWheelListener","up","outlineWheel","source","getSource","canvas","ownerSVGElement","parentNode","consume","OutlineAction","pmf_outline","O","outlineWindow","isVisible","offsetWidth","PasteAction","pmf_paste","V","paste","RedoAction","pmf_redo","ResetViewAction","pmf_resetView","zoomTo","resetScrollbars","SelectAllAction","pmf_selectAll","A","unlocked","selectAll","SelectEdgesAction","pmf_selectEdges","E","selectEdges","SelectNoneAction","pmf_selectNone","clearSelection","SelectVerticesAction","pmf_selectVertices","I","selectVertices","ToBackAction","pmf_toBack","B","orderCells","ToFrontAction","pmf_toFront","F","UndoAction","pmf_undo","Z","ViewGridAction","pmf_grid","G","isGridEnabled","setGridEnabled","View_100_Action","pmf_view_100","_0","View_125_Action","pmf_view_125","View_150_Action","pmf_view_150","View_200_Action","pmf_view_200","View_25_Action","pmf_view_25","View_300_Action","pmf_view_300","View_400_Action","pmf_view_400","View_50_Action","pmf_view_50","View_75_Action","pmf_view_75","ZoomInAction","Plus","zoomIn","ZoomOutAction","Minus","zoomOut","Actions","actionDic","addAction","action","addShortcut","addActions","_i","forEach","removeAction","actionKey","keyCode","control","shift","alt","keyHandler","bindAction","isEdgeSelected","edgeSelected","ElementPropertyConfig","tabs","tabId","tabName","groups","groupId","groupName","items","propertyId","propertyName","propertyType","propertyValue","readonly","visible","FarrisPropConfigWithData","propertyConfig","propertyData","Cell","geometry","bindBpmnModel","flowElt","diagElt","bpmnModel","flowElement","createFlowElement","diagramElement","createDiagramElement","BpmnElementId","Id","DefaultProcess","AddFlowElement","DefaultDiagram","BpmnPlane","AddDiagramElement","unbindBpmnModel","Model","RemoveFlowElement","RemoveDiagramElement","tmpFlowElt","tmpDiagElt","tmpEditorUi","cloneFlowElement","cloneDiagramElement","NewInstance","LoadFromJsonObject","ConvertToJsonObject","BpmnModelHelper","GenerateElementId","getPropConfig","getFarrisPropConfig","_a","configWithData","categoryId","categoryName","properties","propertyID","multiLangEnabled","Name","ClrTypeId","ClrTypeID","NameLanguage","langCode","updateProps","obj","NameChanged","mxCell","EdgeCell","edge","vertex","seqFlow","srcFlowNode","tarFlowNode","target","Outgoings","filter","it","ExclusiveGateway","Default","Activity","Incomings","tmpSeqFlow","GetElementType","clrTypeId","SourceRef","TargetRef","existOutging","existIncoming","srcDiagElt","tarDiagElt","BPMNEdge","SourceShapeElementId","TargetShapeElementId","LineType","SequenceFlowLineType","RectangularLineType","rectangularLine","RectangularLine","H2V","flowNode1","flowNode2","exist","seqFlowId","GetFlowElement","setPoints","waypoints","bpmnPts","mxPt","bpmnPt","Point","Points","setBpmnLabel","mxRect","bpmnLabel","BPMNLabel","bounds","Bounds","Width","Height","LabelStyle","BpmnLabel","NodeCell","DefaultEdgeCell","flowNode","tmpFlowNode","name","nameLanguage","shape","BPMNShape","DefaultNodeCell","ProcessCell","usual","process","Key","Constant","IMAGE_PATH","mxiGIXBasePath","STYLE_PATH","CHECK_MARK_IMAGE","TRANSPARENT_IMAGE","ORIGINAL_NO_FO","NO_FO","EndEventCell","CLR_TYPE_ID","en","imgUrls","FlowNodeState","ExclusiveGatewayCell","InclusiveGatewayCell","ParallelGatewayCell","SequenceFlowEdge","strokeColors","SequenceFlowState","propWithData","sourceNode","conditionConfig","InclusiveGateway","sequenceFlow","modifyDefaultSequenceFlow","val","StartEventCell","imgUrl","BpmnCellHelper","register","ctor","ctors","remove","generate","ToolbarItemDisplayStyle","ToolbarItem","ToolbarActionItem","ResourceKeys","ToolbarButton","displayStyle","ImageAndText","ToolbarDropDownItem","ToolbarDropDownButton","ToolbarDropDownMenuItem","ToolbarItems","itemDict","itemList","ToolbarMenuItem","ToolbarSeparator","MxGraphInnerClass","DefaultToolbarItems","btnMainMenu","resourceKey","pmf_mainMenu","Image","imageSrc","imageClassName","toolTipText","btnZoom","Text","pmf_zoom","Toolbox","ToolboxGroup","ToolboxItem","DefaultToolbox","g1","Footer","Format","Base64","_keyStr","encode","input","binary","chr1","chr2","chr3","enc1","enc2","enc3","enc4","output","_utf8_encode","charCodeAt","isNaN","charAt","decode","replace","indexOf","String","fromCharCode","_utf8_decode","str","utftext","c","c3","string","c2","GraphView","gridImage","gridColor","gridSteps","minGridSize","validateBackgroundPage","validateBackgroundStyles","color","NONE","Graph","defaultPageBackgroundColor","toLowerCase","image","phase","IS_SVG","unescape","encodeURIComponent","createSvgGrid","btoa","x0","y0","bds","getBackgroundPageBounds","round","mod","translate","node","backgroundPosition","backgroundImage","className","tmp","tmp2","tmp3","NS_SVG","join","mxGraphView","MxGraphHelper","getRelativePositon","pt","tr","mxPoint","renderHint","stylesheet","themes","bpmnModelLoaded","scrollTileSize","mxRectangle","loadStylesheet","setConnectable","setMultigraph","setAllowDanglingEdges","setAllowLoops","setCellsEditable","setCellsResizable","setEdgeLabelsMovable","setCellsCloneable","graphHandler","guidesEnabled","GridEnabledChanged","validateBackground","autoScroll","autoExtend","setSplitEnabled","setDefaultStyles","setMultiConstraints","setDefaultBpmnModel","styleSheet","getStylesheet","vertexStyle","getDefaultVertexStyle","STYLE_SHAPE","SHAPE_IMAGE","STYLE_VERTICAL_LABEL_POSITION","STYLE_FONTSIZE","edgeStyle","getDefaultEdgeStyle","STYLE_EDGE","EDGESTYLE_ORTHOGONAL","STYLE_STROKECOLOR","STYLE_ENDARROW","ARROW_BLOCK","STYLE_ROUNDED","STYLE_ENDFILL","STYLE_ENDSIZE","load","getDocumentElement","mxCodec","ownerDocument","bpmnCellsSelectionChanged","sender","eventObject","focus","ShowProperty","bpmnCellsRemoved","bpmnCellsConnected","bindBpmnElements","setTimeout","updateEdgeState","bpmnEdgeTerminalChanged","terminal","previous","change","oldSeqFlowId_1","oldSrcFlowNode","oldTarFlowNode","bpmnCellGeometryChanged","edges","bpmnCellNameChanged","labelChanged","undefined","createBpmnModel","processCell","createProcessCell","BpmnModel","TargetNamespace","Process","BPMNDiagram","loadBpmnModel","json","LoadFromJson","drawBpmnGraph","plane","buildFlowDiagDict","nodeDict","edgeDict","flowDict","buildFlowDict","drawNodeCells","drawEdgeCells","keys","bpmnModelElementId","drawNodeCell","mxGeometry","drawEdgeCell","nodeCells","getChildCells","find","relative","isOldBpmnEdge","paintBounds","edgeHandler","createEdgeHandler","moveLabel","destroy","exitX","exitY","entryX","entryY","STYLE_EXIT_X","STYLE_EXIT_Y","STYLE_ENTRY_X","STYLE_ENTRY_Y","getScale","getTranslate","GetFlowElements","diagramElts","GetDiagramElements","elt","Node","Edge","formFormats","getCellByFlowElementId","flowEltId","parent","updateEdgeWaypoints","updateEdgeLabel","absolutePoints","idx","absoluteOffset","rect","createInfiniteCanvas","getPagePadding","offsetHeight","getScrollTileSize","getPageSize","getPageLayout","size","getGraphBounds","ceil","floor","w0","h0","getPreferredPageSize","pages","graphSizeDidChange","hasScrollbars","pad","minw","minh","minimumGraphSize","dx","dy","autoTranslate","tx","ty","setTranslate","scrollLeft","scrollTop","layout","page","graphViewValidate","validate","mxConstraintHandler","pointImage","mxImage","mxShape","getConstraints","mxImageShape","constraints","mxConnectionConstraint","setPortsEnabled","connectionHandler","isConnectableCell","mxEdgeHandler","getTerminalPort","getAllConnectionConstraints","getValue","result","JSON","parse","e","dir","direction","DIRECTION_NORTH","DIRECTION_SOUTH","stencil","setConnectionConstraint","constraint","point","setCellStyles","getConnectionConstraint","horizontal","vertices","getCenterX","getCenterY","sort","a","dt","t0","pstate","createGraphView","createConnectionHandler","mxConnectionHandler","getLabel","label","isSwimlane","toString","bpmnEdge","pt1","pt2","defaultPageBorderColor","mxGraph","KeyHandler","altKeys","ctrlAltKeys","shiftAltKeys","ctrlShiftAltKeys","isControlDown","IS_MAC","metaKey","getFunction","isAltDown","isShiftDown","funct","bindCtrlShiftAltKey","bindControlShiftKey","bindCtrlAltKey","bindControlKey","bindShiftAltKey","bindShiftKey","bindKey","bindAltKey","code","mxKeyHandler","Menubar","Sidebar","thumbWidth","thumbHeight","thumbPadding","documentMode","thumbBorder","sidebarTitleSize","sidebarTitles","tooltipTitles","enableTooltips","showTooltips","tooltipImageSrc","tooltipDelay","tooltipBorder","maxTooltipWidth","maxTooltipHeight","collapsedImage","expandedImage","defaultImageHeight","defaultImageWidth","dragPreviewBorder","palettes","createTemporaryGraph","cellRenderer","antiAlias","foldingEnabled","IS_IE","IS_IE11","display","resetViewOnRootChange","setTooltips","visibility","reset","toolbox","factories","setTerminalPoint","createItemFactory","addPaletteFunctions","id","title","expanded","addPalette","content","appendChild","onInit","createPaletteTitle","IS_POINTER","touchAction","addFoldingHandler","outer","setAttribute","write","that","initialized","backgroundRepeat","cursor","prev_1","innerHTML","fo","showLabel","showTitle","allowCellsInserted","createItem","IS_IE6","createThumb","dropHandler","createDropHandler","dragPreview","createDragPreview","createDragSource","IS_IOS","addGestureListeners","isMouseEvent","showTooltip","hideTooltip","realWidth","realHeight","labelsVisible","scaleAndTranslate","addCells","cloneNode","getCanvas","clear","left","top","minWidth","minHeight","margin","paddingTop","fontSize","IS_FF","textAlign","whiteSpace","currentElt","thread","clearTimeout","show","tooltip","zIndex","mxPopupMenu","graph2","tooltipImage","createImage","IS_QUIRKS","tooltipTitle","borderTop","ddy","marginTop","off","bottom","sidebarSplitSize","offsetLeft","offsetTop","removeAttribute","drawPane","preview","dragSource","makeDraggable","isGuidesEnabled","allowSplit","force","isTouchEvent","isPenEvent","elementFromPoint","getClientX","getClientY","getImportableCells","stopEditing","validDropTarget","isValidDropTarget","isSplitTarget","splitEdge","importCells","layoutManager","getLayout","moveCell","CellsInserted","scrollCellToVisible","removeChild","Toolbar","dropdownImage","hasChildNodes","firstChild","item","buildToolbarButton","addToolbarSeparator","btn","createToolbarButton","btnImage","createToolbarButtonImage","btnText_1","createToolbarButtonText","EVENT_SCALE","innerText","addToolbarButtonHandler","btnDropdownImage","createToolbarButtonDropdownImage","addToolbarDropDownButtonHandler","src","verticalAlign","paddingLeft","preventDefault","classname","showLabels","showDisabled","popupMenu","addPopupMenuItems","popupMenuHandler","hideMenu","popupMenu_1","labels","autoExpand","offset","getOffset","popup","setCurrentMenu","scrollHeight","resetCurrentMenu","action_1","row","addItem","addCheckmark","addSeparator","td","nextSibling","span","EditorUi","eventSource","importLinks","menubarHeight","toolbarHeight","formatWidth","footerHeight","sidebarSplitPosition","screen","IS_TOUCH","diagramMinWidth","sidebarFooterHeight","zeroOffset","showMenubar","showToolbar","showSidebar","showFooter","destroyFunctions","gspframeworkService","rtf","language","getLanguageCode","localStorage","getItem","importStyles","link1","rel","href","Date","getTime","head","link2","updateProperty","getCellFarrisPropConfig","getProcessFarrisPropConfig","createDivs","createKeyHandler","createActions","toolbarItems","createToolbarItems","menubar","createMenubar","toolbar","createToolbar","sidebar","createSidebar","format","createFormat","footer","createFooter","resetToolbar","resetToolbox","disableContextMenu","gestureHandler","currentMenu","hideCurrentMenu","resizeHandler","ResetGraphView","addBpmnListeners","quirks","navigator","standalone","scrollTo","menubarContainerHeight","toolbarContainerHeight","formatContainerWidth","footerContainerHeight","menubarContainer","toolbarContainer","effectSidebarSplitPosition","sidebarContainer","sidebarSplit","diagramContainer","formatContainer","footerContainer","sidebarHeight","diagramHeight","right","createDiv","addSplitHandler","sidebarSplitOnChange","overflowX","overflowY","onChange","start","initial","bind","last","ignoreClick","parseInt","moveHandler","next","getDiagramContainerOffset","beforeCreateGraph","createGraphInstance","afterCreateGraph","DEFAULT_VALID_COLOR","VALID_COLOR","GUIDE_COLOR","HIGHLIGHT_STROKEWIDTH","VERTEX_SELECTION_STROKEWIDTH","VERTEX_SELECTION_COLOR","VERTEX_SELECTION_DASHED","mxGuide","createGuideShape","mxPolyline","GUIDE_STROKEWIDTH","mxRubberband","setDropEnabled","getSelectionModel","CHANGE","graphFireMouseEvent","fireMouseEvent","evtName","me","MOUSE_DOWN","getExportableCells","insertCount","setCells","isEmpty","getCells","delta_1","STEPSIZE","select_1","createToolbox","menu","currentMenuElt","changes","getProperty","flag","chg","mxTerminalChange","mxGeometryChange","CELLS_REMOVED","CONNECT","removeGestureListeners","removeListener","deleteKeyHandler","igixBasePath","common","getBasePath","originGetDefaultBundle","getDefaultBundle","basename","lan","bundle","originGetSpecialBundle","getSpecialBundle","Utils","isDescendant"],"mappings":";;;;;;;;;;;;;;;AAgBA,IAAIA,EAAgB,SAASC,EAAGC,GAI5B,OAHAF,EAAgBG,OAAOC,gBAClB,CAAEC,UAAW,cAAgBC,OAAS,SAAUL,EAAGC,GAAKD,EAAEI,UAAYH,CAAE,GACzE,SAAUD,EAAGC,GAAK,IAAK,IAAIK,KAAKL,EAAOA,EAAEM,eAAeD,KAAIN,EAAEM,GAAKL,EAAEK,KAClEP,EAAcC,EAAGC,EAC5B,EAEO,SAASO,EAAUR,EAAGC,GAEzB,SAASQ,IAAOC,KAAKC,YAAcX,CAAI,CADvCD,EAAcC,EAAGC,GAEjBD,EAAEY,UAAkB,OAANX,EAAaC,OAAOW,OAAOZ,IAAMQ,EAAGG,UAAYX,EAAEW,UAAW,IAAIH,EACnF,CAEO,IC1BIK,ED0BAC,EAAW,WAQlB,OAPAA,EAAWb,OAAOc,QAAU,SAAkBC,GAC1C,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUC,OAAQH,EAAIC,EAAGD,IAE5C,IAAK,IAAIb,KADTY,EAAIG,UAAUF,GACOjB,OAAOU,UAAUL,eAAegB,KAAKL,EAAGZ,KAAIW,EAAEX,GAAKY,EAAEZ,IAE9E,OAAOW,CACV,EACMF,EAASS,MAAMd,KAAMW,UAChC,ECnCqBI,EAAA,YAAAX,GACrB,SAAWA,GAIPA,EAA0B,eAAI,iBAI9BA,EAA2B,gBAAI,kBAI/BA,EAAiC,sBAAI,wBAIrCA,EAAyB,cAAI,gBAI7BA,EAAwB,aAAI,eAI5BA,EAA8B,mBAAI,qBAIlCA,EAAyB,cAAI,gBAI7BA,EAAwB,aAAI,eAI5BA,EAAuB,YAAI,aAC9B,CArCD,CAqCGA,GAASW,EAAA,YAAKX,EAAY,CAAA,ICzCtB,ICGIY,EDHAC,GAAe,CACtB,GACA,GACA,GACA,SACA,GACA,GACA,OACA,GACA,aACA,MACA,GACA,GACA,QACA,QACA,gBACA,GACA,QACA,UACA,MACA,QACA,YACA,OACA,OACA,QACA,QACA,QACA,GACA,MACA,UACA,aACA,SACA,aACA,QACA,UACA,YACA,MACA,OACA,OACA,KACA,QACA,OACA,SACA,QACA,UACA,cACA,SACA,MACA,GACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,QACA,YACA,YACA,SACA,eACA,gBACA,KACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,SACA,GACA,eACA,GACA,QACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,WACA,MACA,YACA,WACA,UACA,SACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,WACA,cACA,mBACA,qBACA,qBACA,kBACA,kBACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,aACA,cACA,eACA,OACA,SACA,UACA,YACA,aACA,aACA,cACA,WACA,OACA,OACA,eACA,qBACA,sBACA,QACA,GACA,GACA,GACA,GACA,cACA,cACA,YACA,GACA,GACA,YACA,IACA,QACA,IACA,SACA,QACA,aACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,eACA,aACA,gBACA,QACA,GACA,OACA,QACA,GACA,eACA,aACA,GACA,gBACA,GACA,GACA,gBACA,eACA,cACA,cACA,cACA,iBACA,gBACA,eACA,iBACA,eACA,eACA,eACA,kBACA,OACA,QACA,QACA,QACA,OACA,OACA,GACA,MACA,gBACA,IEzPAC,GAAMH,EAAA,SAAkB,SAAUI,GAElC,SAASD,EAAOE,EAAKC,EAAUC,GAC3B,IAAIC,EAAQJ,EAAON,KAAKb,OAASA,KAYjC,OARAuB,EAAMD,SAAU,EAIhBC,EAAMC,cAAe,EACrBD,EAAMH,IAAMA,EAC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"}