{"version":3,"file":"IEditorUi.js","sourceRoot":"","sources":["../../../../src/lib/ui/IEditorUi.ts"],"names":[],"mappings":"","sourcesContent":["import { MxGraphNS } from \"@edp-pmf/mxgraph-ts\";\r\nimport { Actions } from \"../action/Actions\";\r\nimport { ToolbarItems } from \"../toolbar/ToolbarItems\";\r\nimport { Toolbox } from \"../toolbox/ToolBox\";\r\nimport { Footer } from \"../ui/Footer\";\r\nimport { Format } from \"../ui/Format\";\r\nimport { Graph } from \"../ui/Graph\";\r\nimport { KeyHandler } from \"../ui/KeyHandler\";\r\nimport { Menubar } from \"../ui/Menubar\";\r\nimport { Sidebar } from \"./Sidebar\";\r\nimport { Toolbar } from \"../ui/Toolbar\";\r\nimport { Cell } from \"../model/Cell\";\r\nimport { FarrisPropConfigWithData } from \"../model/farris-property-config/FarrisPropConfigWithData\";\r\n\r\n/**\r\n * 设计器统一入口，持有各部分组件实例，可触发以及响应事件\r\n */\r\nexport interface IEditorUi extends MxGraphNS.mxEventSource {\r\n    /**\r\n     * 菜单栏高度\r\n     */\r\n    menubarHeight: number;\r\n    /**\r\n     * 工具栏高度\r\n     */\r\n    toolbarHeight: number;\r\n    /**\r\n     * 属性框宽度\r\n     */\r\n    formatWidth: number;\r\n    /**\r\n     * 底部栏高度\r\n     */\r\n    footerHeight: number;\r\n    /**\r\n     * 分割条位置\r\n     */\r\n    sidebarSplitPosition: number;\r\n    /**\r\n     * 分割条宽度\r\n     */\r\n    sidebarSplitSize: number;\r\n    /**\r\n     * 画布最小宽度\r\n     */\r\n    diagramMinWidth: number;\r\n    /**\r\n     * 侧边栏底部栏高度\r\n     */\r\n    sidebarFooterHeight: number;\r\n    /**\r\n     * 0偏移量\r\n     */\r\n    zeroOffset: MxGraphNS.mxPoint;\r\n    /**\r\n     * 是否显示菜单栏\r\n     */\r\n    showMenubar: boolean;\r\n    /**\r\n     * 是否显示工具栏\r\n     */\r\n    showToolbar: boolean;\r\n    /**\r\n     * 是否显示侧边栏\r\n     */\r\n    showSidebar: boolean;\r\n    /**\r\n     * 是否显示属性框\r\n     */\r\n    showFormat: boolean;\r\n    /**\r\n     * 是否显示底部栏\r\n     */\r\n    showFooter: boolean;\r\n    /**\r\n     * 菜单栏\r\n     */\r\n    menubar: Menubar;\r\n    /**\r\n     * 工具栏\r\n     */\r\n    toolbar: Toolbar;\r\n    /**\r\n     * 侧边栏\r\n     */\r\n    sidebar: Sidebar;\r\n    /**\r\n     * 工具箱\r\n     */\r\n    toolbox: Toolbox;\r\n    /**\r\n     * 画布\r\n     */\r\n    graph: Graph;\r\n    /**\r\n     * 属性框\r\n     */\r\n    format: Format;\r\n    /**\r\n     * 底部栏\r\n     */\r\n    footer: Footer;\r\n    /**\r\n     * 动作列表\r\n     */\r\n    actions: Actions;\r\n    /**\r\n     * 工具栏列表\r\n     */\r\n    toolbarItems: ToolbarItems;\r\n    /**\r\n     * 快捷键处理器\r\n     */\r\n    keyHandler: KeyHandler;\r\n    /**\r\n     * 总容器\r\n     */\r\n    container: HTMLElement;\r\n    /**\r\n     * 菜单栏容器\r\n     */\r\n    menubarContainer: HTMLDivElement;\r\n    /**\r\n     * 工具栏容器\r\n     */\r\n    toolbarContainer: HTMLDivElement;\r\n    /**\r\n     * 侧边栏容器\r\n     */\r\n    sidebarContainer: HTMLDivElement;\r\n    /**\r\n     * 侧边栏底部容器\r\n     */\r\n    sidebarFooterContainer: HTMLDivElement;\r\n    /**\r\n     * 分割条\r\n     */\r\n    sidebarSplit: HTMLDivElement;\r\n    /**\r\n     * 画布容器\r\n     */\r\n    diagramContainer: HTMLDivElement;\r\n    /**\r\n     * 属性框容器\r\n     */\r\n    formatContainer: HTMLDivElement;\r\n    /**\r\n     * 底部栏容器\r\n     */\r\n    footerContainer: HTMLDivElement;\r\n    /**\r\n     * 组件销毁方法列表\r\n     */\r\n    destroyFunctions: any;\r\n    /**\r\n     * 当前菜单DOM元素\r\n     */\r\n    currentMenuElt: HTMLAnchorElement;\r\n    /**\r\n     * 当前菜单\r\n     */\r\n    currentMenu: MxGraphNS.mxPopupMenu;\r\n    /**\r\n     * 是否启用多语\r\n     */\r\n    multiLangEnabled: boolean;\r\n    /**\r\n     * 当前语言\r\n     */\r\n    langCode: string;\r\n    /**\r\n     * 鼠标点击非当前菜单位置时，关闭已显示的菜单\r\n     */\r\n    gestureHandler: (evt: PointerEvent) => void;\r\n    /**\r\n     * 窗口大小变化时触发，刷新界面\r\n     */\r\n    resizeHandler: () => void;\r\n    /**\r\n     * Delete按键处理器\r\n     */\r\n    deleteKeyHandler: (evt: KeyboardEvent) => void;\r\n    /**\r\n     * 引入内置样式文件\r\n     */\r\n    importStyles(): void;\r\n    /**\r\n     * 修改属性\r\n     * @param obj 至少要包含属性标识propertyID，属性值propertyValue和元素标识Id三个属性，元素标识Id可以为空，为空表示修改的是流程属性\r\n     */\r\n    updateProperty(obj: { propertyID: string; propertyValue: any; Id: string;[key: string]: any }): void;\r\n    /**\r\n     * 获取属性配置\r\n     * @param cells \r\n     * @returns \r\n     */\r\n    getFarrisPropConfig(cells?: Cell[]): FarrisPropConfigWithData;\r\n    /**\r\n     * 获取流程属性配置\r\n     */\r\n    getProcessFarrisPropConfig(): FarrisPropConfigWithData;\r\n    /**\r\n     * 获取节点属性配置\r\n     * @param cell \r\n     * @returns \r\n     */\r\n    getCellFarrisPropConfig(cell: Cell): FarrisPropConfigWithData;\r\n    /**\r\n     * 显示EditorUI\r\n     */\r\n    show(): void;\r\n    /**\r\n     * 刷新\r\n     * @param sizeDidChange\r\n     */\r\n    refresh(sizeDidChange?: boolean): void;\r\n    /**\r\n     * 创建各容器div\r\n     */\r\n    createDivs(): void;\r\n    /**\r\n     * 创建带指定样式类的div\r\n     * @param classname\r\n     * @returns\r\n     */\r\n    createDiv(classname: string): HTMLDivElement;\r\n    /**\r\n     * 添加分割条处理器\r\n     * @param elt\r\n     * @param horizontal\r\n     * @param dx\r\n     * @param onChange\r\n     */\r\n    addSplitHandler(elt: HTMLDivElement, horizontal: boolean, dx: number, onChange: (value: number) => void): void;\r\n    /**\r\n     * 分割条移动后刷新界面\r\n     * @param value\r\n     */\r\n    sidebarSplitOnChange(value: number): void;\r\n    /**\r\n     * 获取画布容器偏移量\r\n     * @returns\r\n     */\r\n    getDiagramContainerOffset(): MxGraphNS.mxPoint;\r\n    /**\r\n     * 创建画布\r\n     * @returns\r\n     */\r\n    createGraph(): Graph;\r\n    /**\r\n     * 创建画布前\r\n     */\r\n    beforeCreateGraph(): void;\r\n    /**\r\n     * 创建画布实例\r\n     */\r\n    createGraphInstance(): Graph;\r\n    /**\r\n     * 创建画布后\r\n     * @param graph\r\n     */\r\n    afterCreateGraph(graph: Graph): void;\r\n    /**\r\n     * 创建动作列表\r\n     * @returns\r\n     */\r\n    createActions(): Actions;\r\n    /**\r\n     * 创建工具栏项列表\r\n     * @returns\r\n     */\r\n    createToolbarItems(): ToolbarItems;\r\n    /**\r\n     * 创建键盘事件处理器\r\n     * @param graph\r\n     * @returns\r\n     */\r\n    createKeyHandler(graph: Graph): KeyHandler;\r\n    /**\r\n     * 创建菜单栏\r\n     * @returns\r\n     */\r\n    createMenubar(): Menubar;\r\n    /**\r\n     * 创建工具栏\r\n     * @returns\r\n     */\r\n    createToolbar(): Toolbar;\r\n    /**\r\n     * 创建侧边栏\r\n     * @returns\r\n     */\r\n    createSidebar(): Sidebar;\r\n    /**\r\n     * 创建内置属性框\r\n     * @returns\r\n     */\r\n    createFormat(): Format;\r\n    /**\r\n     * 创建底部栏\r\n     * @returns\r\n     */\r\n    createFooter(): Footer;\r\n    /**\r\n     * 重置工具条\r\n     */\r\n    resetToolbar(toolbarItems: ToolbarItems): void;\r\n    /**\r\n     * 重置工具箱\r\n     */\r\n    resetToolbox(): void;\r\n    /**\r\n     * 创建工具箱\r\n     * @returns\r\n     */\r\n    createToolbox(): Toolbox;\r\n    /**\r\n     * 加载BpmnModel\r\n     * @param json\r\n     */\r\n    loadBpmnModel(json: string): void;\r\n    /**\r\n     * 重置滚动条\r\n     */\r\n    resetScrollbars(): void;\r\n    /**\r\n     * 设置当前菜单\r\n     * @param menu\r\n     * @param elt\r\n     */\r\n    setCurrentMenu(menu: MxGraphNS.mxPopupMenu, elt: HTMLAnchorElement): void;\r\n    /**\r\n     * 重置当前菜单\r\n     */\r\n    resetCurrentMenu(): void;\r\n    /**\r\n     * 隐藏当前菜单\r\n     */\r\n    hideCurrentMenu(): void;\r\n    /**\r\n     * 添加模型相关监听器\r\n     */\r\n    addBpmnListeners(): void;\r\n    /**\r\n     * 销毁\r\n     */\r\n    destroy(): void;\r\n}\r\n"]}