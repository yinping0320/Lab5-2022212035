{"version":3,"file":"Init.js","sourceRoot":"","sources":["../../../../src/lib/util/Init.ts"],"names":[],"mappings":";;AAAA,kDAAkD;AAGlD;;GAEG;AACH,CAAC;IACG,IAAI,MAAM,CAAC,cAAc,IAAI,IAAI,EAAE;QAC/B,IAAM,SAAS,GAAG,MAAM,CAAC,GAAG,CAAC;QAC7B,IAAM,mBAAmB,GAAG,SAAS,CAAC,mBAAmB,CAAC;QAC1D,IAAM,YAAY,GAAG,mBAAmB,IAAI,mBAAmB,CAAC,MAAM,IAAI,mBAAmB,CAAC,MAAM,CAAC,WAAW,IAAI,mBAAmB,CAAC,MAAM,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC,CAAC,mBAAmB,CAAC,MAAM,CAAC,WAAW,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC;QAEnN,MAAM,CAAC,cAAc,GAAG,YAAY,IAAI,EAAE,CAAC;KAC9C;IAED,6BAA6B;IAC7B,IAAM,sBAAsB,GAAG,wBAAW,CAAC,gBAAgB,CAAC;IAC5D,wBAAW,CAAC,gBAAgB,GAAG,UAAU,QAAa,EAAE,GAAQ;QAC5D,IAAI,MAAM,GAAG,sBAAsB,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC,QAAQ,EAAE,GAAG,CAAC,CAAC,CAAC;QACjE,IAAI,MAAM,EAAE;YACR,MAAM,GAAM,MAAM,WAAM,IAAI,IAAI,EAAE,CAAC,OAAO,EAAI,CAAC;SAClD;QACD,OAAO,MAAM,CAAC;IAClB,CAAC,CAAA;IAED,6BAA6B;IAC7B,IAAM,sBAAsB,GAAG,wBAAW,CAAC,gBAAgB,CAAC;IAC5D,wBAAW,CAAC,gBAAgB,GAAG,UAAU,QAAa,EAAE,GAAQ;QAC5D,IAAI,MAAM,GAAG,sBAAsB,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC,QAAQ,EAAE,GAAG,CAAC,CAAC,CAAC;QACjE,IAAI,MAAM,EAAE;YACR,MAAM,GAAM,MAAM,WAAM,IAAI,IAAI,EAAE,CAAC,OAAO,EAAI,CAAC;SAClD;QACD,OAAO,MAAM,CAAC;IAClB,CAAC,CAAA;IAED,SAAS;IACT,wBAAW,CAAC,GAAG,CAAC,CAAC,MAAM,CAAC,cAAc,CAAC,CAAC,CAAC,MAAM,CAAC,cAAc,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,yEAAyE,CAAC,CAAC;AACtJ,CAAC,CAAC,EAAE,CAAC","sourcesContent":["import { mxResources } from \"@edp-pmf/mxgraph-ts\";\r\nimport { Constant } from \"./Constant\";\r\n\r\n/**\r\n * 本文件下为js加载完成后立即执行代码\r\n */\r\n(() => {\r\n    if (window.mxiGIXBasePath == null) {\r\n        const topWindow = window.top;\r\n        const gspframeworkService = topWindow.gspframeworkService;\r\n        const igixBasePath = gspframeworkService && gspframeworkService.common && gspframeworkService.common.getBasePath && gspframeworkService.common.getBasePath.get ? gspframeworkService.common.getBasePath.get() : \"\";\r\n\r\n        window.mxiGIXBasePath = igixBasePath || \"\";\r\n    }\r\n\r\n    // 重写加载默认资源文件方法，在url后加参数以更新缓存\r\n    const originGetDefaultBundle = mxResources.getDefaultBundle;\r\n    mxResources.getDefaultBundle = function (basename: any, lan: any) {\r\n        let bundle = originGetDefaultBundle.apply(this, [basename, lan]);\r\n        if (bundle) {\r\n            bundle = `${bundle}?v=${new Date().getTime()}`;\r\n        }\r\n        return bundle;\r\n    }\r\n\r\n    // 重写加载特定资源文件方法，在url后加参数以更新缓存\r\n    const originGetSpecialBundle = mxResources.getSpecialBundle;\r\n    mxResources.getSpecialBundle = function (basename: any, lan: any) {\r\n        let bundle = originGetSpecialBundle.apply(this, [basename, lan]);\r\n        if (bundle) {\r\n            bundle = `${bundle}?v=${new Date().getTime()}`;\r\n        }\r\n        return bundle;\r\n    }\r\n\r\n    // 引入资源文件\r\n    mxResources.add((window.mxiGIXBasePath ? window.mxiGIXBasePath : \"\") + \"/platform/runtime/common/web/@edp-pmf/grapheditor/resources/grapheditor\");\r\n})();"]}