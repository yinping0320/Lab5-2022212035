{"version":3,"file":"CatchEvent.js","sourceRoot":"","sources":["../../../../src/lib/model/CatchEvent.ts"],"names":[],"mappings":"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","sourcesContent":["import { BpmnModel } from \"./BpmnModel\";\r\nimport { BpmnModelHelper } from \"./BpmnModelHelper\";\r\nimport { DataOutput } from \"./DataOutput\";\r\nimport { DataOutputAssociation } from \"./DataOutputAssociation\";\r\nimport { IDataOutputAssociationContainer } from \"./IDataOutputAssociationContainer\";\r\nimport { IDataOutputContainer } from \"./IDataOutputContainer\";\r\nimport { IVariableElement } from \"./IVariableElement\";\r\nimport { ValidateHelper } from \"./ValidateHelper\";\r\nimport { ValidationError } from \"./ValidationError\";\r\nimport { Event } from \"./Event\";\r\n\r\nexport abstract class CatchEvent extends Event implements IDataOutputAssociationContainer, IDataOutputContainer {\r\n    constructor(model: BpmnModel) {\r\n        super(model);\r\n    }\r\n\r\n    private dataOutputAssociationDic: { [Key: string]: DataOutputAssociation } = {};\r\n    private dataOutputDIc: { [Key: string]: DataOutput } = {};\r\n\r\n    protected ResetBeforeLoadFrom(): void {\r\n        super.ResetBeforeLoadFrom();\r\n\r\n        this.dataOutputAssociationDic = {};\r\n        this.dataOutputDIc = {};\r\n    }\r\n\r\n    AddDataOutput(item: DataOutput): void {\r\n        this.CheckVariableElement(item);\r\n        this.dataOutputDIc[item.Id] = item;\r\n        this.Model.AddHasIdElement(item);\r\n    }\r\n\r\n    GetDataOutput(dataOutputId: string): DataOutput {\r\n        if (dataOutputId == null)\r\n            return null;\r\n\r\n        if (this.dataOutputDIc.hasOwnProperty(\"dataOutputId\"))\r\n            return this.dataOutputDIc[dataOutputId];\r\n\r\n        return null;\r\n    }\r\n\r\n    GetDataOutputs(): Array<DataOutput> {\r\n        let dataOutputs: Array<DataOutput> = new Array<DataOutput>();\r\n        for (let item in this.dataOutputDIc) {\r\n            dataOutputs.push(this.dataOutputDIc[item])\r\n        }\r\n        return dataOutputs;\r\n    }\r\n\r\n    RemoveDataOutput(dataOutputId: string): void {\r\n        delete this.dataOutputDIc[dataOutputId];\r\n        this.Model.RemoveHasIdElement(dataOutputId);\r\n    }\r\n\r\n    AddDataOutputAssociation(association: DataOutputAssociation): void {\r\n        ValidateHelper.CheckHasIdElement(association);\r\n        this.dataOutputAssociationDic[association.Id] = association;\r\n        this.Model.AddHasIdElement(association);\r\n    }\r\n\r\n    GetDataOutputAssociation(associationId: string): DataOutputAssociation {\r\n        if (associationId == null)\r\n            return null;\r\n\r\n        if (this.dataOutputAssociationDic.hasOwnProperty(\"associationId\"))\r\n            return this.dataOutputAssociationDic[associationId];\r\n\r\n        return null;\r\n    }\r\n\r\n    GetDataOutputAssociations(): Array<DataOutputAssociation> {\r\n        let dataOutputAssociations: Array<DataOutputAssociation> = new Array<DataOutputAssociation>();\r\n        for (let item in this.dataOutputAssociationDic) {\r\n            dataOutputAssociations.push(this.dataOutputAssociationDic[item])\r\n        }\r\n        return dataOutputAssociations;\r\n    }\r\n\r\n    RemoveDataOutputAssociation(associationId: string): void {\r\n        delete this.dataOutputAssociationDic[associationId];\r\n        this.Model.RemoveHasIdElement(associationId);\r\n    }\r\n\r\n    ConvertToJsonObject(): any {\r\n        let obj: any = super.ConvertToJsonObject();\r\n\r\n        let dataOutputs: Array<any> = new Array<any>();\r\n        for (let item in this.dataOutputDIc) {\r\n            let element = this.dataOutputDIc[item].ConvertToJsonObject();\r\n            dataOutputs.push(element);\r\n        }\r\n        if (dataOutputs.length > 0) {\r\n            BpmnModelHelper.SetAttributeValue(obj, \"dataOutputs\", dataOutputs);\r\n        }\r\n\r\n        let dataOutputAssociations: Array<any> = new Array<any>();\r\n        for (let item in this.dataOutputAssociationDic) {\r\n            let element = this.dataOutputAssociationDic[item].ConvertToJsonObject();\r\n            dataOutputAssociations.push(element);\r\n        }\r\n        if (dataOutputAssociations.length > 0) {\r\n            BpmnModelHelper.SetAttributeValue(obj, \"dataOutputAssociations\", dataOutputAssociations);\r\n        }\r\n\r\n        return obj;\r\n    }\r\n\r\n    LoadFromJsonObject(obj: any): void {\r\n        super.LoadFromJsonObject(obj);\r\n\r\n        if (obj.hasOwnProperty(\"dataOutputs\") && Array.isArray(obj.dataOutputs)) {\r\n            for (let item of obj.dataOutputs) {\r\n                let dataOutput = new DataOutput(this.Model);\r\n                dataOutput.LoadFromJsonObject(item);\r\n                this.AddDataOutput(dataOutput);\r\n            }\r\n        }\r\n\r\n        if (obj.hasOwnProperty(\"dataOutputAssociations\") && Array.isArray(obj.dataOutputAssociations)) {\r\n            for (let item in obj.dataOutputAssociations) {\r\n                let dataOutputAssociation = new DataOutputAssociation(this.Model);\r\n                dataOutputAssociation.LoadFromJsonObject(item);\r\n                this.AddDataOutputAssociation(dataOutputAssociation);\r\n            }\r\n        }\r\n    }\r\n\r\n    Validate(errors: Array<ValidationError>): void {\r\n        super.Validate(errors);\r\n\r\n        for (let item in this.dataOutputDIc) {\r\n            this.dataOutputDIc[item].Validate(errors);\r\n        }\r\n\r\n        for (let item in this.dataOutputAssociationDic) {\r\n            this.dataOutputAssociationDic[item].Validate(errors);\r\n        }\r\n    }\r\n\r\n    CheckVariableElement(variableElement: IVariableElement): void {\r\n        ValidateHelper.CheckVariableElement(variableElement, null, this, null);\r\n    }\r\n}"]}