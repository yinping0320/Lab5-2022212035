{"version":3,"file":"CallableElement.js","sourceRoot":"","sources":["../../../../src/lib/model/CallableElement.ts"],"names":[],"mappings":"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","sourcesContent":["import { BpmnModel } from \"./BpmnModel\";\r\nimport { BpmnModelHelper } from \"./BpmnModelHelper\";\r\nimport { DataInput } from \"./DataInput\";\r\nimport { DataOutput } from \"./DataOutput\";\r\nimport { IDataInputContainer } from \"./IDataInputContainer\";\r\nimport { IDataOutputContainer } from \"./IDataOutputContainer\";\r\nimport { IHasNameElement } from \"./IHasNameElement\";\r\nimport { IVariableElement } from \"./IVariableElement\";\r\nimport { RootElement } from \"./RootElement\";\r\nimport { ValidateHelper } from \"./ValidateHelper\";\r\n\r\nexport abstract class CallableElement extends RootElement implements IDataInputContainer, IDataOutputContainer, IHasNameElement {\r\n    constructor(model: BpmnModel) {\r\n        super(model);\r\n    }\r\n\r\n    Name: string;\r\n    NameLanguage: { [lang: string]: any };\r\n    private dataInputDIc: { [key: string]: DataInput } = {};\r\n    private dataOutputDIc: { [key: string]: DataOutput } = {};\r\n\r\n    protected ResetBeforeLoadFrom(): void {\r\n        super.ResetBeforeLoadFrom();\r\n\r\n        this.Name = null;\r\n        this.dataInputDIc = {};\r\n        this.dataOutputDIc = {};\r\n    }\r\n\r\n    AddDataInput(item: DataInput): void {\r\n        this.CheckVariableElement(item);\r\n        this.dataInputDIc[item.Id] = item;\r\n        this.Model.AddHasIdElement(item);\r\n    }\r\n\r\n    GetDataInput(dataInputId: string): DataInput {\r\n        if (dataInputId == null)\r\n            return null;\r\n\r\n        if (this.dataInputDIc.hasOwnProperty(dataInputId))\r\n            return this.dataInputDIc[dataInputId];\r\n\r\n        return null;\r\n    }\r\n\r\n    GetDataInputs(): Array<DataInput> {\r\n        let dataInputs = new Array<DataInput>();\r\n        for (let dataInput in this.dataInputDIc) {\r\n            dataInputs.push(this.dataInputDIc[dataInput]);\r\n        }\r\n        return dataInputs;\r\n    }\r\n\r\n    RemoveDataInput(dataInputId: string): void {\r\n        delete this.dataInputDIc[dataInputId];\r\n        this.Model.RemoveHasIdElement(dataInputId);\r\n    }\r\n\r\n    AddDataOutput(item: any): void {\r\n        this.CheckVariableElement(item);\r\n        this.dataOutputDIc[item.Id] = item;\r\n        this.Model.AddHasIdElement(item);\r\n    }\r\n\r\n    GetDataOutput(dataOutputId: string): DataOutput {\r\n        if (dataOutputId == null)\r\n            return null;\r\n\r\n        if (this.dataInputDIc.hasOwnProperty(dataOutputId))\r\n            return this.dataOutputDIc[dataOutputId];\r\n\r\n        return null;\r\n    }\r\n\r\n    GetDataOutputs(): Array<DataOutput> {\r\n        let dataOutputs = new Array<DataOutput>();\r\n        for (let dataOutput in this.dataOutputDIc) {\r\n            dataOutputs.push(this.dataOutputDIc[dataOutput]);\r\n        }\r\n        return dataOutputs;\r\n    }\r\n\r\n    RemoveDataOutput(dataOutputId: string): void {\r\n        delete this.dataOutputDIc[dataOutputId];\r\n        this.Model.RemoveHasIdElement(dataOutputId);\r\n    }\r\n\r\n    ConvertToJsonObject(): any {\r\n        let obj: any = super.ConvertToJsonObject();\r\n\r\n        BpmnModelHelper.SetAttributeValue(obj, \"Name\", this.Name);\r\n        BpmnModelHelper.SetAttributeValue(obj, \"nameLanguage\", this.NameLanguage);\r\n\r\n        let dataInputs: Array<any> = new Array<any>();\r\n        for (let item in this.dataInputDIc) {\r\n            let element: any = this.dataInputDIc[item].ConvertToJsonObject();\r\n            dataInputs.push(element);\r\n        }\r\n\r\n        if (dataInputs.length > 0) {\r\n            BpmnModelHelper.SetAttributeValue(obj, \"dataInputs\", dataInputs);\r\n        }\r\n\r\n        let dataOutputs: Array<any> = new Array<any>();\r\n        for (let item in this.dataOutputDIc) {\r\n            let element: any = this.dataOutputDIc[item].ConvertToJsonObject();\r\n            dataOutputs.push(element);\r\n        }\r\n\r\n        if (dataOutputs.length > 0) {\r\n            BpmnModelHelper.SetAttributeValue(obj, \"dataOutputs\", dataOutputs);\r\n        }\r\n\r\n        return obj;\r\n    }\r\n\r\n    LoadFromJsonObject(obj: any): void {\r\n        super.LoadFromJsonObject(obj);\r\n\r\n        this.Name = obj.Name;\r\n        this.NameLanguage = obj.nameLanguage;\r\n\r\n        if (obj.hasOwnProperty(\"dataInputs\") && Array.isArray(obj.dataInputs)) {\r\n            for (let item of obj.dataInputs) {\r\n                let dataInput = new DataInput(this.Model);\r\n                dataInput.LoadFromJsonObject(item);\r\n                this.AddDataInput(dataInput);\r\n            }\r\n        }\r\n\r\n        if (obj.hasOwnProperty(\"dataOutputs\") && Array.isArray(obj.dataOutputs)) {\r\n            for (let item of obj.dataOutputs) {\r\n                let dataOutput = new DataOutput(this.Model);\r\n                dataOutput.LoadFromJsonObject(item);\r\n                this.AddDataOutput(dataOutput);\r\n            }\r\n        }\r\n    }\r\n\r\n    CheckVariableElement(variableElement: IVariableElement): void {\r\n        ValidateHelper.CheckVariableElement(variableElement, this, this, null);\r\n    }\r\n}"]}