/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { Pipe } from '@angular/core';
import { DateTimeHelperService } from './date-helper.service';
export class DateTimeFormatPipe {
    /**
     * @param {?} dateSer
     */
    constructor(dateSer) {
        this.dateSer = dateSer;
    }
    /**
     * @param {?} value
     * @param {...?} args
     * @return {?}
     */
    transform(value, ...args) {
        if (value) {
            /** @type {?} */
            let fmt = 'yyyy-MM-dd';
            if (args && args.length) {
                fmt = args[0];
            }
            if (fmt === 'timeago') {
                /** @type {?} */
                const locale = args[1] || 'zh-CHS';
                return this.dateSer.relativeTime(value, locale);
            }
            return this.dateSer.formatTo(value, fmt);
        }
    }
}
DateTimeFormatPipe.decorators = [
    { type: Pipe, args: [{
                name: 'dateformat'
            },] }
];
/** @nocollapse */
DateTimeFormatPipe.ctorParameters = () => [
    { type: DateTimeHelperService }
];
if (false) {
    /**
     * @type {?}
     * @private
     */
    DateTimeFormatPipe.prototype.dateSer;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGF0ZS1mb3JtYXQucGlwZS5qcyIsInNvdXJjZVJvb3QiOiJuZzovL0BmYXJyaXMvdWktY29tbW9uL2RhdGUvIiwic291cmNlcyI6WyJsaWIvZGF0ZS1mb3JtYXQucGlwZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O0FBQUEsT0FBTyxFQUFFLElBQUksRUFBaUIsTUFBTSxlQUFlLENBQUM7QUFDcEQsT0FBTyxFQUFFLHFCQUFxQixFQUFFLE1BQU0sdUJBQXVCLENBQUM7QUFLOUQsTUFBTSxPQUFPLGtCQUFrQjs7OztJQUMzQixZQUFvQixPQUE4QjtRQUE5QixZQUFPLEdBQVAsT0FBTyxDQUF1QjtJQUFHLENBQUM7Ozs7OztJQUN0RCxTQUFTLENBQUMsS0FBVSxFQUFFLEdBQUcsSUFBVztRQUNoQyxJQUFJLEtBQUssRUFBRTs7Z0JBQ0gsR0FBRyxHQUFHLFlBQVk7WUFDdEIsSUFBSSxJQUFJLElBQUksSUFBSSxDQUFDLE1BQU0sRUFBRTtnQkFDckIsR0FBRyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQzthQUNqQjtZQUVELElBQUksR0FBRyxLQUFLLFNBQVMsRUFBRTs7c0JBQ2IsTUFBTSxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsSUFBSSxRQUFRO2dCQUNsQyxPQUFPLElBQUksQ0FBQyxPQUFPLENBQUMsWUFBWSxDQUFDLEtBQUssRUFBRSxNQUFNLENBQUMsQ0FBQzthQUNuRDtZQUVELE9BQU8sSUFBSSxDQUFDLE9BQU8sQ0FBQyxRQUFRLENBQUMsS0FBSyxFQUFFLEdBQUcsQ0FBQyxDQUFDO1NBQzVDO0lBQ0wsQ0FBQzs7O1lBbkJKLElBQUksU0FBQztnQkFDRixJQUFJLEVBQUUsWUFBWTthQUNyQjs7OztZQUpRLHFCQUFxQjs7Ozs7OztJQU1kLHFDQUFzQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFBpcGUsIFBpcGVUcmFuc2Zvcm0gfSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuaW1wb3J0IHsgRGF0ZVRpbWVIZWxwZXJTZXJ2aWNlIH0gZnJvbSAnLi9kYXRlLWhlbHBlci5zZXJ2aWNlJztcclxuXHJcbkBQaXBlKHtcclxuICAgIG5hbWU6ICdkYXRlZm9ybWF0J1xyXG59KVxyXG5leHBvcnQgY2xhc3MgRGF0ZVRpbWVGb3JtYXRQaXBlIGltcGxlbWVudHMgUGlwZVRyYW5zZm9ybSB7XHJcbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIGRhdGVTZXI6IERhdGVUaW1lSGVscGVyU2VydmljZSkge31cclxuICAgIHRyYW5zZm9ybSh2YWx1ZTogYW55LCAuLi5hcmdzOiBhbnlbXSk6IGFueSB7XHJcbiAgICAgICAgaWYgKHZhbHVlKSB7XHJcbiAgICAgICAgICAgIGxldCBmbXQgPSAneXl5eS1NTS1kZCc7XHJcbiAgICAgICAgICAgIGlmIChhcmdzICYmIGFyZ3MubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICBmbXQgPSBhcmdzWzBdO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAoZm10ID09PSAndGltZWFnbycpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGxvY2FsZSA9IGFyZ3NbMV0gfHwgJ3poLUNIUyc7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5kYXRlU2VyLnJlbGF0aXZlVGltZSh2YWx1ZSwgbG9jYWxlKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGF0ZVNlci5mb3JtYXRUbyh2YWx1ZSwgZm10KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iXX0=