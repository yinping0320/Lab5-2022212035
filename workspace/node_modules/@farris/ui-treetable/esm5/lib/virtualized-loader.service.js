/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
var VirtualizedLoaderService = /** @class */ (function () {
    function VirtualizedLoaderService(tt) {
        this.tt = tt;
    }
    /**
     * @return {?}
     */
    VirtualizedLoaderService.prototype.getTableHeight = /**
     * @return {?}
     */
    function () {
        return this.tt.height;
    };
    /**
     * @return {?}
     */
    VirtualizedLoaderService.prototype.getTableHeaderHeight = /**
     * @return {?}
     */
    function () {
        return this.tt.headerBox.nativeElement.getBoundingClientRect().height;
    };
    /**
     * @return {?}
     */
    VirtualizedLoaderService.prototype.getTableBodyHeight = /**
     * @return {?}
     */
    function () {
        return this.tt.height - this.getTableHeaderHeight();
    };
    /**
     * @return {?}
     */
    VirtualizedLoaderService.prototype.getTableWidth = /**
     * @return {?}
     */
    function () {
        return this.tt.width;
    };
    /**
     * @return {?}
     */
    VirtualizedLoaderService.prototype.getRowHeight = /**
     * @return {?}
     */
    function () {
        return this.tt.rowHeight;
    };
    /**
     * @param {?} scrollTop
     * @return {?}
     */
    VirtualizedLoaderService.prototype.getRowNodes = /**
     * @param {?} scrollTop
     * @return {?}
     */
    function (scrollTop) {
        /** @type {?} */
        var top = 0;
        /** @type {?} */
        var rows = [];
        /** @type {?} */
        var topHideHeight = 0;
        /** @type {?} */
        var bottomHideHeight = 0;
        /** @type {?} */
        var rowNodes = this.tt.getCurrentAllRowNodes();
        // const {rowNodes } = this.tt.state;
        /** @type {?} */
        var rowHeight = this.getRowHeight();
        /** @type {?} */
        var minTop = scrollTop;
        /** @type {?} */
        var maxTop = minTop + this.getTableHeight() + rowHeight;
        for (var i = 0; i < rowNodes.length; i++) {
            /** @type {?} */
            var n = rowNodes[i];
            if (!n.visible) {
                continue;
            }
            top += rowHeight;
            if (top + rowHeight < minTop) {
                topHideHeight += rowHeight;
                continue;
            }
            else {
                if (top > maxTop) {
                    bottomHideHeight += rowHeight;
                    continue;
                }
            }
            rows.push(n);
        }
        return {
            data: rows,
            topHideHeight: topHideHeight,
            bottomHideHeight: bottomHideHeight
        };
    };
    return VirtualizedLoaderService;
}());
export { VirtualizedLoaderService };
if (false) {
    /**
     * @type {?}
     * @private
     */
    VirtualizedLoaderService.prototype.tt;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmlydHVhbGl6ZWQtbG9hZGVyLnNlcnZpY2UuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9AZmFycmlzL3VpLXRyZWV0YWJsZS8iLCJzb3VyY2VzIjpbImxpYi92aXJ0dWFsaXplZC1sb2FkZXIuc2VydmljZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O0FBV0E7SUFDSSxrQ0FBb0IsRUFBc0I7UUFBdEIsT0FBRSxHQUFGLEVBQUUsQ0FBb0I7SUFBRyxDQUFDOzs7O0lBRTlDLGlEQUFjOzs7SUFBZDtRQUNJLE9BQU8sSUFBSSxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUM7SUFDMUIsQ0FBQzs7OztJQUNELHVEQUFvQjs7O0lBQXBCO1FBQ0ksT0FBTyxJQUFJLENBQUMsRUFBRSxDQUFDLFNBQVMsQ0FBQyxhQUFhLENBQUMscUJBQXFCLEVBQUUsQ0FBQyxNQUFNLENBQUM7SUFDMUUsQ0FBQzs7OztJQUNELHFEQUFrQjs7O0lBQWxCO1FBQ0ksT0FBTyxJQUFJLENBQUMsRUFBRSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUMsb0JBQW9CLEVBQUUsQ0FBQztJQUN4RCxDQUFDOzs7O0lBQ0QsZ0RBQWE7OztJQUFiO1FBQ0ksT0FBTyxJQUFJLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQztJQUN6QixDQUFDOzs7O0lBRUQsK0NBQVk7OztJQUFaO1FBQ0ksT0FBTyxJQUFJLENBQUMsRUFBRSxDQUFDLFNBQVMsQ0FBQztJQUM3QixDQUFDOzs7OztJQUdELDhDQUFXOzs7O0lBQVgsVUFBWSxTQUFpQjs7WUFDckIsR0FBRyxHQUFHLENBQUM7O1lBQ0wsSUFBSSxHQUFHLEVBQUU7O1lBQ1gsYUFBYSxHQUFHLENBQUM7O1lBQ2pCLGdCQUFnQixHQUFHLENBQUM7O1lBR2xCLFFBQVEsR0FBRyxJQUFJLENBQUMsRUFBRSxDQUFDLHFCQUFxQixFQUFFOzs7WUFHMUMsU0FBUyxHQUFHLElBQUksQ0FBQyxZQUFZLEVBQUU7O1lBQy9CLE1BQU0sR0FBRyxTQUFTOztZQUNsQixNQUFNLEdBQUcsTUFBTSxHQUFHLElBQUksQ0FBQyxjQUFjLEVBQUUsR0FBRyxTQUFTO1FBQ3pELEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxRQUFRLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUFFOztnQkFDaEMsQ0FBQyxHQUFZLFFBQVEsQ0FBQyxDQUFDLENBQUM7WUFDOUIsSUFBSyxDQUFDLENBQUMsQ0FBQyxPQUFPLEVBQUU7Z0JBQ2IsU0FBUzthQUNaO1lBQ0QsR0FBRyxJQUFJLFNBQVMsQ0FBQztZQUNqQixJQUFJLEdBQUcsR0FBRyxTQUFTLEdBQUcsTUFBTSxFQUFFO2dCQUMxQixhQUFhLElBQUksU0FBUyxDQUFDO2dCQUMzQixTQUFTO2FBQ1o7aUJBQU07Z0JBQ0gsSUFBSSxHQUFHLEdBQUcsTUFBTSxFQUFFO29CQUNkLGdCQUFnQixJQUFJLFNBQVMsQ0FBQztvQkFDOUIsU0FBUztpQkFDWjthQUNKO1lBRUQsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztTQUNoQjtRQUVELE9BQU87WUFDSCxJQUFJLEVBQUUsSUFBSTtZQUNWLGFBQWEsZUFBQTtZQUNiLGdCQUFnQixrQkFBQTtTQUNuQixDQUFDO0lBQ04sQ0FBQztJQUNMLCtCQUFDO0FBQUQsQ0FBQyxBQTNERCxJQTJEQzs7Ozs7OztJQTFEZSxzQ0FBOEIiLCJzb3VyY2VzQ29udGVudCI6WyIvKlxyXG4gKiBAQXV0aG9yOiDnlq/ni4Lnp4DmiY0oTHVjYXMgSHVhbmcpXHJcbiAqIEBEYXRlOiAyMDE5LTA1LTIzIDEwOjI3OjA5XHJcbiAqIEBMYXN0RWRpdG9yczog55av54uC56eA5omNKEx1Y2FzIEh1YW5nKVxyXG4gKiBATGFzdEVkaXRUaW1lOiAyMDE5LTA5LTAyIDA5OjA4OjI1XHJcbiAqIEBRUTogMTA1NTgxODIzOVxyXG4gKiBAVmVyc2lvbjogdjAuMC4xXHJcbiAqL1xyXG5pbXBvcnQgeyBUcmVlVGFibGVDb21wb25lbnQgfSBmcm9tICcuL3RyZWV0YWJsZS5jb21wb25lbnQnO1xyXG5pbXBvcnQgeyBSb3dOb2RlIH0gZnJvbSAnLi90eXBlcy90cmVlbm9kZSc7XHJcblxyXG5leHBvcnQgY2xhc3MgVmlydHVhbGl6ZWRMb2FkZXJTZXJ2aWNlIHtcclxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgdHQ6IFRyZWVUYWJsZUNvbXBvbmVudCkge31cclxuXHJcbiAgICBnZXRUYWJsZUhlaWdodCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy50dC5oZWlnaHQ7XHJcbiAgICB9XHJcbiAgICBnZXRUYWJsZUhlYWRlckhlaWdodCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy50dC5oZWFkZXJCb3gubmF0aXZlRWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHQ7XHJcbiAgICB9XHJcbiAgICBnZXRUYWJsZUJvZHlIZWlnaHQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMudHQuaGVpZ2h0IC0gdGhpcy5nZXRUYWJsZUhlYWRlckhlaWdodCgpO1xyXG4gICAgfVxyXG4gICAgZ2V0VGFibGVXaWR0aCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy50dC53aWR0aDtcclxuICAgIH1cclxuXHJcbiAgICBnZXRSb3dIZWlnaHQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMudHQucm93SGVpZ2h0O1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBnZXRSb3dOb2RlcyhzY3JvbGxUb3A6IG51bWJlcikge1xyXG4gICAgICAgIGxldCB0b3AgPSAwO1xyXG4gICAgICAgIGNvbnN0IHJvd3MgPSBbXTtcclxuICAgICAgICBsZXQgdG9wSGlkZUhlaWdodCA9IDA7XHJcbiAgICAgICAgbGV0IGJvdHRvbUhpZGVIZWlnaHQgPSAwO1xyXG4gICAgICAgIFxyXG5cclxuICAgICAgICBjb25zdCByb3dOb2RlcyA9IHRoaXMudHQuZ2V0Q3VycmVudEFsbFJvd05vZGVzKCk7XHJcblxyXG4gICAgICAgIC8vIGNvbnN0IHtyb3dOb2RlcyB9ID0gdGhpcy50dC5zdGF0ZTtcclxuICAgICAgICBjb25zdCByb3dIZWlnaHQgPSB0aGlzLmdldFJvd0hlaWdodCgpO1xyXG4gICAgICAgIGNvbnN0IG1pblRvcCA9IHNjcm9sbFRvcDtcclxuICAgICAgICBjb25zdCBtYXhUb3AgPSBtaW5Ub3AgKyB0aGlzLmdldFRhYmxlSGVpZ2h0KCkgKyByb3dIZWlnaHQ7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCByb3dOb2Rlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBjb25zdCBuOiBSb3dOb2RlID0gcm93Tm9kZXNbaV07XHJcbiAgICAgICAgICAgIGlmICggIW4udmlzaWJsZSkge1xyXG4gICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdG9wICs9IHJvd0hlaWdodDtcclxuICAgICAgICAgICAgaWYgKHRvcCArIHJvd0hlaWdodCA8IG1pblRvcCkge1xyXG4gICAgICAgICAgICAgICAgdG9wSGlkZUhlaWdodCArPSByb3dIZWlnaHQ7XHJcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGlmICh0b3AgPiBtYXhUb3ApIHtcclxuICAgICAgICAgICAgICAgICAgICBib3R0b21IaWRlSGVpZ2h0ICs9IHJvd0hlaWdodDtcclxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcm93cy5wdXNoKG4pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgZGF0YTogcm93cyxcclxuICAgICAgICAgICAgdG9wSGlkZUhlaWdodCxcclxuICAgICAgICAgICAgYm90dG9tSGlkZUhlaWdodFxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbn1cclxuIl19