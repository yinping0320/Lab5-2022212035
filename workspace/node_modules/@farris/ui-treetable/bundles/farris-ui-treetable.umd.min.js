!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/common"),require("@angular/forms"),require("@farris/ui-input-group"),require("@farris/ui-pagination"),require("@farris/ui-forms"),require("@angular/platform-browser"),require("@farris/ui-common/events"),require("@farris/ui-common/column"),require("@farris/ui-locale"),require("@farris/ui-perfect-scrollbar"),require("resize-observer-polyfill"),require("lodash-es"),require("@farris/ui-context-menu"),require("rxjs/operators"),require("rxjs"),require("@farris/ui-common"),require("@angular/core")):"function"==typeof define&&define.amd?define("@farris/ui-treetable",["exports","@angular/common","@angular/forms","@farris/ui-input-group","@farris/ui-pagination","@farris/ui-forms","@angular/platform-browser","@farris/ui-common/events","@farris/ui-common/column","@farris/ui-locale","@farris/ui-perfect-scrollbar","resize-observer-polyfill","lodash-es","@farris/ui-context-menu","rxjs/operators","rxjs","@farris/ui-common","@angular/core"],t):t((e.farris=e.farris||{},e.farris["ui-treetable"]={}),e.ng.common,e.ng.forms,e.uiInputGroup,e.uiPagination,e.uiForms,e.ng.platformBrowser,e.events,e.column,e.uiLocale,e.uiPerfectScrollbar,e.ResizeObserver,e.lodashEs,e.uiContextMenu,e.rxjs.operators,e.rxjs,e.uiCommon,e.ng.core)}(this,function(e,t,n,i,s,o,r,l,a,h,d,c,u,p,f,g,m,y){"use strict";c=c&&c.hasOwnProperty("default")?c["default"]:c;var v=function(){return(v=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var s in t=arguments[n])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e}).apply(this,arguments)};function b(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,s,o=n.call(e),r=[];try{for(;(void 0===t||0<t--)&&!(i=o.next()).done;)r.push(i.value)}catch(l){s={error:l}}finally{try{i&&!i.done&&(n=o["return"])&&n.call(o)}finally{if(s)throw s.error}}return r}function w(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(b(arguments[t]));return e}var C=(x.prototype.transform=function(e,t,n,i){void 0===n&&(n=""),void 0===i&&(i="");var s=!0;if(n&&i&&(s=-1===i.indexOf(",")?n===i:i.split(",").some(function(e){return e===n})),!s)return e;if(t&&e){var o=t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");o=o.split(" ").filter(function(e){return 0<e.length}).join("|");var r=new RegExp(o,"gi");return this.sanitizer.bypassSecurityTrustHtml(this.replaceContent(e,r,function(e){return'<span class="search-highlight">'+e+"</span>"}))}return e},x.prototype.parseHTML=function(e,t){var n=(t||document).createElement("template");return n.innerHTML=e,n.content.cloneNode(!0)},x.prototype.replaceContent=function(e,t,n){var i,s,o=e.match(/>.*?\</gi);if(o&&o.length){try{for(var r=function u(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}(o),l=r.next();!l.done;l=r.next()){var a=l.value,d=o[a],c=o[a].replace(t,n),h=new RegExp(d,"g");e=e.replace(h,c)}}catch(p){i={error:p}}finally{try{l&&!l.done&&(s=r["return"])&&s.call(r)}finally{if(i)throw i.error}}return e}return e.replace(t,n)},x.decorators=[{type:y.Pipe,args:[{name:"highlight"}]}],x.ctorParameters=function(){return[{type:r.DomSanitizer},{type:y.ElementRef}]},x);function x(e,t){this.sanitizer=e,this.el=t}var k=(S.prototype.addShortcut=function(e){var n=this,i=v({},this.defaults,e);-1<i.keys.indexOf("ctrl")&&(i.keys=i.keys.replace("ctrl","control"));var s="keydown."+i.keys;return i.description&&this.hotkeys.set(i.keys,i.description),new g.Observable(function(t){var e=n.eventManager.addEventListener(i.element,s,function(e){e.preventDefault(),t.next(e)});return function(){e(),n.hotkeys["delete"](i.keys)}})},S.decorators=[{type:y.Injectable,args:[{providedIn:"root"}]}],S.ctorParameters=function(){return[{type:r.EventManager}]},S.ngInjectableDef=y.defineInjectable({factory:function(){return new S(y.inject(r.EventManager))},token:S,providedIn:"root"}),S);function S(e){this.eventManager=e,this.hotkeys=new Map,this.defaults={element:document}}var I=(N.prototype.getTableHeight=function(){return this.tt.height},N.prototype.getTableHeaderHeight=function(){return this.tt.headerBox.nativeElement.getBoundingClientRect().height},N.prototype.getTableBodyHeight=function(){return this.tt.height-this.getTableHeaderHeight()},N.prototype.getTableWidth=function(){return this.tt.width},N.prototype.getRowHeight=function(){return this.tt.rowHeight},N.prototype.getRowNodes=function(e){for(var t=0,n=[],i=0,s=0,o=this.tt.getCurrentAllRowNodes(),r=this.getRowHeight(),l=e,a=l+this.getTableHeight()+r,d=0;d<o.length;d++){var c=o[d];c.visible&&((t+=r)+r<l?i+=r:a<t?s+=r:n.push(c))}return{data:n,topHideHeight:i,bottomHideHeight:s}},N);function N(e){this.tt=e}var E=(R.prototype.onSelectionChange=function(e){this.selectionSource.next(e)},R.prototype.onDblClick=function(e){this.dblClickSource.next(e)},R.prototype.onChangeCheckboxStatus=function(e){this.changeCheckboxStatus.next(e)},R.prototype.onInsert=function(e,t){this.insertNode.next(e)},R.prototype.onRemove=function(e){this.removeNode.next(e)},R.prototype.onUpdate=function(e){this.updateNode.next(e)},R.prototype.columnIsVisible=function(e,t){return e.visible===undefined||("function"==typeof e.visible?e.visible(t):e.visible)},R.prototype.checkColumnsForGroupHeader=function(e,t){var n=[];return e&&e.length&&(n=this.getDataColumns(e)),{columns:n}},R.prototype.getDataFields=function(e,n){var i=0,s=0;return e.forEach(function(e){var t=e.colspan||1;i+t<=n&&(i+=t,s++)}),e.splice(0,s)},R.prototype.getDataColumns=function(n){var i=this;if(!n||!n.length)return[];for(var s=[],e=function(e){var t=n[e];n[e]&&!n[e].length&&(t=w(s),s=[]),t.forEach(function(t){!t.field&&t.colspan&&1<t.colspan?(t.halign&&(t.hAlign=t.halign),i.getDataFields(n[e+1],t.colspan).forEach(function(t){s.includes(function(e){return e.field===t.field})||s.push(t)})):s.includes(function(e){return e.field===t.field})||s.push(t)})},t=0;t<n.length;t++)e(t);return s.filter(function(e){return!e.colspan||1===e.colspan})},R.decorators=[{type:y.Injectable}],R);function R(){this.selectionSource=new g.Subject,this.dblClickSource=new g.Subject,this.changeCheckboxStatus=new g.Subject,this.removeNode=new g.Subject,this.insertNode=new g.Subject,this.updateNode=new g.Subject,this.selectionSource$=this.selectionSource.asObservable(),this.dblClickSource$=this.dblClickSource.asObservable(),this.changeCheckboxStatus$=this.changeCheckboxStatus.asObservable(),this.insertNode$=this.insertNode.asObservable(),this.removeNode$=this.removeNode.asObservable(),this.updateNode$=this.updateNode.asObservable()}var T=(V.prototype.research=function(e){void 0===e&&(e="client");var t=this.ttInstance.searchData,n=t.field,i=t.value;this.allNodes=[],this.search(n,i,e)},V.prototype.search=function(e,t,n){switch(void 0===n&&(n="client"),this.allNodes.length||(this.allNodes=u.cloneDeep(this.ttInstance.state.rowNodes)),n){case"server":this.searchOnServer(e,t);break;default:if(""!==t&&t!==undefined&&null!==t){var i=this.searchOnClient(e,t,this.allNodes);this.ttInstance.state.searchRowNodes=null,this._updateSerializedValues(i)}else this.ttInstance.state.searched=!1,this.ttInstance.updateSerializedValue();this._refreshTree()}},V.prototype._refreshTree=function(){var t=this;this.ttInstance.checkeds&&this.ttInstance.checkeds.length?(this.ttInstance.checkedNodes(this.ttInstance.checkeds.map(function(e){return e.data[t.ttInstance.idField]})),this.ttInstance.updateNodeStatus(),this.ttInstance.detectChanges()):(this.ttInstance.serializedValue&&this.ttInstance.serializedValue.length&&this.ttInstance.resize(),this.ttInstance.detectChanges(),this.ttInstance.psRef&&this.ttInstance.psRef.directiveRef.update())},V.prototype._updateSerializedValues=function(e){var t=this,n=e.map(function(e){return w(e.parents,[e.id])}).flat(),i=Array.from(new Set(n)),s=this.allNodes.filter(function(t){return i.some(function(e){return e==t.id})}).map(function(e){return e.expanded=!0,t.ttInstance.updateNodeProperty(e.id,{expanded:!0}),e});this.ttInstance.state.searched=!0,this.ttInstance.serializedValue=this.resetTreeData(null,s),this.ttInstance.state.searchRowNodes=this.ttInstance.serializedValue},V.prototype.findParent=function(t,e){var n=this,i=[];if(t&&e&&e.length){var s=e.find(function(e){return e.id===t.data[n.ttInstance.idField]});i.push(s),s.parent&&(i=i.concat(this.findParent(s.parent,e)))}return i},V.prototype.searchExpression=function(n,i,e){var s=this;return void 0===e&&(e=[]),(e.length?e:this.ttInstance.columns.map(function(e){return e.field})).map(function(e){var t=s.getValue(e,n.node.data);if(null!==t&&t!==undefined)return"number"==typeof t?t===parseFloat(i):-1<t.toLowerCase().indexOf(i.toLowerCase());s.ttInstance.writeConsole("不存在列 "+e)}).reduce(function(e,t){return e||t},!1)},V.prototype.getValue=function(e,t){if(e){if(!(-1<e.indexOf(".")))return t[e];try{return e.split(".").reduce(function(e,t){return e?e[t]:null},t)}catch(n){this.ttInstance.writeConsole("字段 "+e+" 不存在。")}}},V.prototype.getFindTextTotal=function(e,i,t){var s,o,r=this,n=[e];return"*"===e?n=this.ttInstance.columns.map(function(e){return e.field}):-1<e.indexOf(",")&&(n=e.split(",").map(function(e){return e.trim()})),s=n,o=0,t.forEach(function(n){s.forEach(function(e){var t=""+r.getValue(e,n.node.data);t!==undefined&&-1<t.indexOf(i)&&o++})}),o},V.prototype.searchOnClient=function(t,n,e){var i=this;return n===undefined||null===n?[]:"*"===t?e.filter(function(e){return i.searchExpression(e,n)}):-1<t.indexOf(",")?e.filter(function(e){return i.searchExpression(e,n,t.split(",").map(function(e){return e.trim()}))}):(n=n.toLowerCase(),-1===t.indexOf(".")?e.filter(function(e){return-1<(""+e.node.data[t]).toLowerCase().indexOf(n)}):e.filter(function(e){return-1<(""+i.getValue(t,e.node.data)).toLowerCase().indexOf(n)}))},V.prototype.searchWithConditions=function(i){var s=this;this.allNodes.length||(this.allNodes=u.cloneDeep(this.ttInstance.state.rowNodes));var e=Object.keys(i);if(e.length){var t=this.allNodes.filter(function(n){return e.map(function(e){var t=i[e];return s.searchExpression(n,t,[e])}).every(function(e){return e})});this.ttInstance.state.searchRowNodes=null,this._updateSerializedValues(t)}else this.ttInstance.state.searched=!1,this.ttInstance.updateSerializedValue();this._refreshTree()},V.prototype.findParents=function(e,t){var n=this,i=[];return e.forEach(function(e){i=i.concat(n.findParent(e.node,t))}),Array.from(new Set(i))},V.prototype.resetTreeData=function(t,n){var i=this,s=[],e=[];return null===t?e=n.filter(function(e){return e.parent===t}):(t.node.expanded=!0,(e=n.filter(function(e){return e.parent&&e.parent.data[i.ttInstance.idField]===t.id})).length?t.node.children=e.map(function(e){return e.node}):t.node.children=[]),e.forEach(function(e){e.visible=!0,s.push(e),s=s.concat(i.resetTreeData(e,n))}),u.cloneDeep(s)},V.prototype.searchOnServer=function(e,t){},V);function V(e){this.ttInstance=e,this.allNodes=[]}var O="__nodespagerbar__",z=(F.decorators=[{type:y.Directive,args:[{selector:"tt-column, [tt-column]"}]}],F.propDecorators={field:[{type:y.Input}],title:[{type:y.Input}],width:[{type:y.Input}],hAlign:[{type:y.Input}],align:[{type:y.Input}],formatter:[{type:y.Input}]},F);function F(){}var D=(Object.defineProperty(H.prototype,"groupColumns",{get:function(){return this._groupColumns},set:function(e){this._groupColumns=e||[];var t=this.ttService.checkColumnsForGroupHeader(e.map(function(e){return w(e)}),this).columns;this.columns=t.filter(function(e){return e.field})},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"data",{get:function(){return this._data},set:function(e){this._data=e,this.updateSerializedValue(),this.isLoadNewDataSetEmpty||this.initNodeStatus(),this.setNewColumnsWidth(),this.loadDataSuccess()},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"allCheckbox",{set:function(e){this.headerCheckboxCmp=e},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"selections",{get:function(){return this._selections},set:function(e){var t=this;if(e&&e.length){this._selections=e.filter(function(e){return e&&t.findRowNode(e.id)});var n=this._selections.map(function(e){return e.id});(n.length!==this.selectValues.length||n.length===this.selectValues.length&&this.difference(n,this.selectValues).length)&&(this.selectValues=n,setTimeout(function(){t.selectValuesChange.emit(n)}))}else this._selections=[],this.selectValues=[],this.selectValuesChange.emit([])},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"selectedRow",{get:function(){return this._selectedRow},set:function(e){(this._selectedRow=e)?this.selectValue!==e.id&&(this.selectValue=e.id,this.selectValueChange.emit(e.id)):(this.selectValue=null,this.selectValueChange.emit(null))},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"checkeds",{get:function(){return this._checkeds},set:function(e){var t=this;if(e&&e.length){this._checkeds=e.filter(function(e){return t.findRowNode(e.id)});var n=this._checkeds.map(function(e){return e.id});this.checkValues=this.checkValues||[],(n.length!==this.checkValues.length||n.length===this.checkValues.length&&this.difference(n,this.checkValues).length)&&(this.checkValues=n,setTimeout(function(){t.checkValuesChange.emit(n)}))}else this._checkeds=[],this.checkValues=[],this.checkValuesChange.emit([])},enumerable:!0,configurable:!0}),H.prototype.writeConsole=function(e,t){void 0===t&&(t="warn"),this.debugSer&&this.debugSer[t](e)},H.prototype.checkOptons=function(){var e=this;if(this.nowrap||(this.virtualized=!1),setTimeout(function(){e.reSetSize(),e.setScorllBodyHeight()}),this.multiSelect&&(this.singleSelect=!1),this.singleSelect&&this.showCheckbox&&(this.checkOnSelect=!0,this.selectOnCheck=!0),this.beforeSortColumn||(this.beforeSortColumn=function(){return g.of(!0)}),this.fit){this.renderer.addClass(this.el.nativeElement,"f-utils-fill-flex-column");var t=this.el.nativeElement.parentElement||this.el.nativeElement.parentNode;t&&this.renderer.setStyle(t,"overflow","hidden")}this.beforeClickNode||(this.beforeClickNode=function(){return g.of(!0)}),this.beforeCheckAll||(this.beforeCheckAll=function(){return g.of(!0)}),this.beforeUnCheckAll||(this.beforeUnCheckAll=function(){return g.of(!0)}),this.autoWidth&&(this.fitColumns=!1,this.resizableColumns=!1),this.disabledRow||(this.disabledRow=function(){return!1}),!this.searchAnyField&&this.searchFields&&this.searchFields.length&&(this.searchData.field=this.searchFields[0].label)},H.prototype.ngOnInit=function(){var r=this;this.id="Treetable-"+this._UUID,this.styleElement=this.utils.createStyleSheet(this.styleSheetId),this.checkColumnOption(),this.checkOptons(),this.ngZone&&this.ngZone.runOutsideAngular(function(){r.el.nativeElement.parentElement&&(r.ro=new c(function(e,t){if(e&&e[0]){var n=e[0].contentRect,i=n.width,s=n.height,o=e[0].target;r.fit&&o.offsetParent&&r.resize({width:i,height:r.showBorder?s-2:s})}r.scrollToCurrentNode()}),r.ro.observe(r.el.nativeElement.parentElement))}),this.paginationOptions=this.initPaginationOptions()},H.prototype.ngOnDestroy=function(){this.ro&&(this.el.nativeElement.parentElement&&this.ro.unobserve(this.el.nativeElement.parentElement),this.ro.disconnect(),this.ro=null),this.findKeysHandler&&this.findKeysHandler.unsubscribe(),this.utils.removeStyleSheet(this.styleSheetId),this.styleElement=null,this.farrisInstances&&this.farrisInstances.destroy(this.el.nativeElement),this.ttService=null,this.destroy$.next(),this.destroy$.complete()},H.prototype.ngOnChanges=function(e){e.data&&!e.data.isFirstChange()&&(this.isDataChanged=e.data.currentValue!==e.data.previousValue),e.multiSelect&&!e.multiSelect.isFirstChange()&&(this.singleSelect=!e.multiSelect.currentValue,this.singleSelect&&this.showCheckbox&&(this.selectOnCheck=!0,this.checkOnSelect=!0)),e.disabled&&!e.disabled.isFirstChange()&&(this.hovered=!e.disabled.currentValue),e.enableFindText&&!e.enableFindText.isFirstChange()&&this.setFindText(e.enableFindText.currentValue),e.selectValue&&!e.selectValue.isFirstChange()&&this.selectNode(e.selectValue.currentValue),e.selectValues&&!e.selectValues.isFirstChange()&&this.selectNodes(e.selectValues.currentValue),e.checkValues&&!e.checkValues.isFirstChange()&&this.checkedNodes(e.checkValues.currentValue),e.pageIndex===undefined||e.pageIndex.isFirstChange()||(this.paginationOptions=Object.assign(this.paginationOptions,{currentPage:this.pageIndex})),e.pageSize===undefined||e.pageSize.isFirstChange()||(this.paginationOptions=Object.assign(this.paginationOptions,{itemsPerPage:this.pageSize})),e.pageList===undefined||e.pageList.isFirstChange()||(this.paginationOptions=Object.assign(this.paginationOptions,{pageList:this.pageList})),e.total===undefined||e.total.isFirstChange()||(this.paginationOptions=Object.assign(this.paginationOptions,{totalItems:this.total})),e.fitColumns&&!e.fitColumns.isFirstChange()&&this.setTableWidth(this.allColumnsWidth()),e.columns&&!e.columns.isFirstChange()&&this.checkColumnOption(),e.showBorder&&e.showBorder.isFirstChange()},H.prototype.ngAfterViewChecked=function(){},H.prototype.ngAfterContentInit=function(){var t=this;this.templates.forEach(function(e){switch(e.getType()){case"header":t.headerTemplate=e.template;break;case"body":t.bodyTemplate=e.template}}),this.columnsRef.length&&(this.columns=this.ttc2columns(this.columnsRef),this.columnsRef.changes.subscribe(function(e){t.columns=t.ttc2columns(e)}))},H.prototype.ngAfterViewInit=function(){if(this.containerElement=this.el.nativeElement.querySelector(".farris-treetable"),this.registerShortcuts(),this.setNewColumnsWidth(),this.setRightFixedColumnShadow(),this.el&&this.farrisInstances&&this.farrisInstances.add(this.el.nativeElement,this),this.bodyTemplate&&this.utils.appendCssRules(["#"+this.id+" .farris-treetable .farris-treetable-tbody td {padding: .25rem 0.75rem;}"],this.styleElement.sheet),this.fit&&"DIV"!==this.el.nativeElement.parentElement.nodeName&&"APP-DG-TREE-GRID"===this.el.nativeElement.parentElement.nodeName){var e=this.el.nativeElement.parentElement.closest("div");e&&(e.style.overflow="hidden")}this.loadDataSuccess()},H.prototype.loadDataSuccess=function(){var e=this;g.timer(this.loadedTimer).pipe(f.takeUntil(this.destroy$)).subscribe(function(){e.psRef&&e.psRef.directiveRef&&e.psRef.directiveRef.update(),e.loadedData.emit()})},H.prototype.setNewColumnsWidth=function(){var o=this;if(this.autoWidth){var r=[],e=[];this.showHeader&&this.headerTable&&(r=Array.from(this.headerTable.nativeElement.querySelectorAll("th"))),this.serializedValue&&this.serializedValue.length&&this.bodyTable&&(e=Array.from(this.bodyTable.nativeElement.querySelector("tr").querySelectorAll("td"))),e.forEach(function(e,t){var n=e.getAttribute("field"),i=e.getBoundingClientRect().width.toFixed(2),s=o.columns.find(function(e){return e.field===n});s&&s.width!==undefined&&(i=i>s.width?i:s.width),e.style.minWidth=i+"px",r[t].style.width=i+"px"});var t=this.allColumnsWidth();this.setTableWidth(t)}},H.prototype.columnIsVisible=function(e){return this.ttService.columnIsVisible(e,this)},H.prototype.columnCssName=function(e){return"#"+this.id+' .treetable-cell[field="'+e.field+'"], #'+this.id+' .treetable-header-cell[field="'+e.field+'"]:not(.group-header-cell)'},H.prototype.checkGroupColumns=function(){for(var n=this,i=this.groupColumns.length-1;0<=i;){var e=this.groupColumns[i].map(function(e){return e.parentId});(e=Array.from(new Set(e))).map(function(t){var e=n.groupColumns[i].filter(function(e){return e.parentId==t}).map(function(t){return n.columns.find(function(e){return e.id===t.id})||t});return{id:t,width:e.reduce(function(e,t){return e+t.width},0),left:e[0].left,right:e[e.length-1].right||0}}).forEach(function(t){if(0<=i-1){var e=n.groupColumns[i-1].find(function(e){return e.id==t.id});(e=n.columns.find(function(e){return e.id===t.id})||e).width=t.width,"left"===e.fixed&&(e.left=t.left),"right"===e.fixed&&(e.right=t.right)}}),i--}},H.prototype.sortColumnsByFixed=function(e){void 0===e&&(e=!0);var t=this.columns.filter(function(e){return"left"===e.fixed}),n=this.columns.filter(function(e){return!e.fixed||"center"===e.fixed}),i=this.columns.filter(function(e){return"right"===e.fixed});if(t&&t.length&&t.forEach(function(e,i){e.left=i?t.reduce(function(e,t,n){return n<i?e+t.width:e},0):0}),i&&i.length){var s=i.reduce(function(e,t){return e+t.width},0);i.forEach(function(e,t){s-=e.width,e.right=s})}e&&(this.columns=t.concat(n).concat(i))},H.prototype.checkColumnOption=function(){if(this.paginationForChildren){var e={field:O,width:160,title:"",align:"center",template:this.nodesPagerBar,rowspan:1};this.useGroupHeader&&("right"===this.groupColumns[0][this.groupColumns[0].length-1].fixed&&(e.fixed="right"),e.rowspan=this.groupColumns.length,this.groupColumns[0].push(e)),this.columns.push(e)}this.fitColumns||this.sortColumnsByFixed(),this.columns.forEach(function(e,t){e.visible===undefined&&(e.visible=!0),e.halign&&(e.hAlign=e.halign),e.width===undefined&&(e.width=100),e.id||(e.id="treetable-header-"+(e.field||t))});var t=this.allColumnsWidth(),n=0,i=this.columns.filter(function(e){return"right"===e.fixed});i&&i.length?(i[0].rightShadowCol=!0,i[i.length-1].lastColumn=!0):this.columns&&this.columns.length&&(this.columns[this.columns.length-1].lastColumn=!0);var s=this.columns.filter(function(e){return"left"===e.fixed});s&&s.length&&(s[s.length-1].leftShadowCol=!0),n=this.setCellWidthCss(t,n,[]),this.setTableWidth(t),this.fixedColumns=!!n},H.prototype.setCellWidthCss=function(r,l,a){var d=this;if(this.columns.forEach(function(e,t){var n=d.columnIsVisible(e),i=d.columnCssName(e),s=d.utils.getCssRule(i,d.styleElement.sheet);if(s)s.style.display=n?"":"none",d.fitColumns?s.style.width=(e.width/r*100).toFixed(2)+"%":(s.style.width=e.width+"px",e.fixed&&("left"===e.fixed&&(s.style.left=e.left+"px"),"right"===e.fixed&&(s.style.right=e.right+"px")));else{var o=i+" { ";o+=n?"":"display: none;",d.fitColumns?o+="width: "+(e.width/r*100).toFixed(2)+"%;":(o+="width: "+e.width+"px;",e.fixed&&("left"===e.fixed&&(o+="left: "+e.left+"px",l++),"right"===e.fixed&&(o+="right: "+e.right+"px",l++))),o+="}",a.push(o)}}),this.useGroupHeader){this.autoWidth=!1,this.checkGroupColumns();for(var e=this.groupColumns.length-2;0<=e;){var t=this.groupColumns[e].filter(function(e){return!e.field}).map(function(e){var t="#"+e.id+"{ width: "+e.width+"px";return e.fixed&&("left"===e.fixed&&(t+=";left:"+e.left+"px"),"right"===e.fixed&&(t+=";right:"+e.right+"px")),t+"}"});this.utils.appendCssRules2(t,this.styleElement.sheet),e--}}return a.length&&this.utils.appendCssRules(a,this.styleElement.sheet),l},H.prototype.setTableWidth=function(e){this.headerTable&&this.bodyTable&&(this.fitColumns||this.autoFitColumns?(this.headerTable.nativeElement.style.width="100%",this.bodyTable.nativeElement.style.width="100%"):(this.headerTable.nativeElement.style.width=e+"px",this.bodyTable.nativeElement.style.width=e+"px"))},H.prototype.allColumnsWidth=function(){var n=this;return this.columns.reduce(function(e,t){return n.columnIsVisible(t)?e+t.width:e},0)},H.prototype.onPageChange=function(e){this.pageChanged.emit(e)},H.prototype.onPageSizeChange=function(e){this.pageSizeChanged.emit(e)},H.prototype.updatePageInfo=function(e){if(e&&Object.keys(e).length){var t={};e.total!==undefined&&(t.totalItems=e.total),e.pageIndex!==undefined&&(t.currentPage=e.pageIndex),e.pageSize!==undefined&&(t.itemsPerPage=e.pageSize),e.pageList!==undefined&&(t.pageList=e.pageList),this.paginationOptions=Object.assign(this.paginationOptions,t)}},H.prototype.initPaginationOptions=function(){return{id:"Farris-TreeTable-Pagination_"+this._UUID,itemsPerPage:this.pageSize,currentPage:this.pageIndex,pageList:this.pageList,totalItems:this.total,remote:this.pagerOnServer}},H.prototype.getNodeText=function(e,t,n){if(void 0===n&&(n=!1),!e.isMultilingualField)return this.utils.getValue(e.field,t,!n);var i=this.utils.getValue(e.field,t);if(this.localeService){var s=this.localeService.localeId||"zh-CHS";return i&&"object"==typeof i&&0<Object.keys(i).length?i[s]:i}},H.prototype.initNodeStatus=function(){this.singleSelect?this.selectValue&&this.selectNode(this.selectValue,!1):(this.checkValues&&this.checkValues.length&&this.checkedNodes(this.checkValues,!1,!1),this.selectValues&&this.selectValues.length&&!this.onlySelectSelf&&this.selectNodes(this.selectValues,!1,!1))},H.prototype.registerShortcuts=function(){var e=this;this.showFilterBar&&this._hotKeys&&this._hotKeys.addShortcut({keys:"enter",element:this.inputGroup.textbox.nativeElement}).subscribe(function(){e.onSearch()}),this.setFindText(this.enableFindText)},H.prototype.setFindText=function(e){var t=this;void 0===e&&(e=!0),this.enableFindText=e,this.enableFindText&&this._hotKeys?this.findKeysHandler=this._hotKeys.addShortcut({keys:"control.shift.f"}).subscribe(function(e){t.enableFindText&&(t.showFindInput=!0,t.detectChanges())}):(this.showFindInput&&(this.showFindInput=!1,this.cdRef.detectChanges()),this.findKeysHandler&&(this.findKeysHandler.unsubscribe(),this.findKeysHandler=null))},H.prototype.getCustomCls=function(e,t,n){void 0===t&&(t=""),void 0===n&&(n="row");var i={},s=this.rowStyler;if("cell"===n&&(s=this.cellStyler),s){var o=s(e.node,t);if(o){var r=[];if("string"==typeof o?r=[o]:Array.isArray(o)&&(r=o),r.length){var l={};return r.forEach(function(e){l[""+e]=!0}),v({},l,i)}return o}return i}return i},H.prototype.getRowCls=function(e,t){return this.getCustomCls(e,"row")},H.prototype.getCellCls=function(e,t){return this.getCustomCls(e,t,"cell")},H.prototype.getRealColWidth=function(e){var n=this;if(this.columns&&this.columns.length&&this.fitColumns){var t=this.columns.reduce(function(e,t){return e+(n.columnIsVisible(t)&&(e.field!==O||e.fixedWidth)?t.width:0)},0);return this.columnIsVisible(e)?e.field===O||e.fixedWidth?(e.width||120)+"px":(e.width/t*100).toFixed(2)+"%":0}return e.width+"px"},H.prototype.onResized=function(){this.resizeSer.windowResized()},H.prototype.setRightFixedColumnShadow=function(){if(this.psRef&&this.psRef.directiveRef){var e=this.psRef.directiveRef.instance;if(!e)return;if(e.containerWidth+e.scrollbarXLeft<e.contentWidth){var t=this.columns.filter(function(e){return"right"===e.fixed}),n="#"+this.id+".f-treetable--fixed-columns";if(t&&t.length){var i=n+" [r-tt-shadow-col]::before{\n                        box-shadow:#d9d9d9 -12px 0px 8px -12px inset;\n                    }";this.utils.appendCssRules([i],this.styleElement.sheet)}}}},H.prototype.setFixedColumnShadow=function(e,t){var n=this.columns.filter(function(e){return"left"===e.fixed}),i=this.columns.filter(function(e){return"right"===e.fixed}),s="#"+this.id+".f-treetable--fixed-columns",o="",r="",l="",a="";if(n&&n.length&&(l=(o=s+' [field="'+n[n.length-1].field+'"]::after')+"{\n                box-shadow:#d9d9d9 12px 0px 8px -12px inset;\n            }"),i&&i.length&&(a=(r=s+" [r-tt-shadow-col]::before")+"{\n                box-shadow:#d9d9d9 -12px 0px 8px -12px inset;\n            }"),0===e)o&&this.utils.removeCssRule(o,this.styleElement.sheet);else if((e+t.srcElement.offsetWidth).toFixed()==t.srcElement.scrollWidth)r&&this.utils.removeCssRule(r,this.styleElement.sheet);else{var d=[];l&&d.push(l),a&&d.push(a),this.utils.appendCssRules(d,this.styleElement.sheet)}},H.prototype.onScrollX=function(e){if(this.showHeader&&this.headerBox){var t=e.srcElement.scrollLeft;this.state.scrollX=t,this.headerBox.nativeElement.scrollLeft=t,this.setFixedColumnShadow(t,e)}},H.prototype.onScrollY=function(e){if(this.virtualized){var t=e.target.scrollTop;this.renderData(t)}},H.prototype.renderData=function(e){var t=this.scrollLoader.getRowNodes(e),n=t.data,i=t.topHideHeight,s=t.bottomHideHeight;this.state.scrollY=e,this.serializedValue=n,this.topHideHeight=i,this.bottomHideHeight=s,this.detectChanges(),this.setNewColumnsWidth()},H.prototype.onSearchValueChange=function(e){e||this.onClearSearchValue(),this.searchValueChange.emit(this.searchData)},H.prototype.onClearSearchValue=function(){this.searchData.value="",this.state.searched=!1,this.clearSearchValue.emit()},H.prototype.onCellClick=function(e,t,n){this.cellClick.emit({event:e,col:t,node:n})},H.prototype.trackByFn=function(e,t){return t.id},H.prototype.formatData=function(e,t,n){var i=this.getNodeText(e,t);return n&&"timeago"===n.type&&(n.options?n.options.locale||(n.options.locale=this.localeService.localeId):n.options={locale:this.localeService.localeId}),this.colFormatSer.format(i,t,n,{locale:this.localeService.localeId})},H.prototype.columnsChanged=function(){this.checkColumnOption(),this.detectChanges()},H.prototype.ttc2columns=function(e){return e.map(function(e){return{field:e.field,title:e.title,align:e.align,hAlign:e.hAlign,width:e.width,formatter:e.formatter}})},H.prototype.reSetSize=function(){if(this.fit){var e=this.el.nativeElement.parentNode;if(this.setWidth(e.offsetWidth),this.height=e.offsetHeight,this.el.nativeElement.style.height){var t=this.el.nativeElement.style.height;-1<t.indexOf("px")&&0<(t=parseInt(t.replace("px",""),10))&&(this.height=t)}}},H.prototype.renderVirtualRowNodes=function(e){var t=this;if(void 0===e&&(e=null),this.virtualized){var n=null!==e&&e!==undefined?e:this.state.scrollY,i=this.scrollLoader.getRowNodes(n);this.serializedValue=i.data,this.topHideHeight=i.topHideHeight,this.bottomHideHeight=i.bottomHideHeight,this.detectChanges(),null!==e&&e!==undefined&&this.ngZone.runOutsideAngular(function(){setTimeout(function(){t.psRef.directiveRef.elementRef.nativeElement.scrollTop=e},20)})}},H.prototype.updateSerializedValue=function(e){void 0===e&&(e=null),this.serializedValue=[],this.searchHandle.allNodes=[],this.state.rowNodes=[],this.serializeNodes(null,this.data,0,!0),this.virtualized&&this.fixedHeader?this.renderVirtualRowNodes(e):(this.serializedValue=this.state.rowNodes,this.detectChanges())},H.prototype.serializeNodes=function(u,p,f,g,m){var y=this;if(p&&p.length){if(!p[0].data)return;p.forEach(function(e,t){e.parent=u,e.hasOwnProperty("selectable")||(e.selectable=!0),e.hasOwnProperty("showIcon")||(e.showIcon=!0),"yes"===y.onlySelectLeaf&&e.selectable&&(e.selectable=!!e.leaf);var n=e.data[y.idField];e.id=n;var i=-1<y.findIndexInSelection(e),s=-1<y.findIndexInCheckeds(e),o=t===p.length-1,r=0===t,l=[],a=null;if(u){var d=u.data[y.idField],c=m||[];(l=l.concat(c.map(function(e){return e}))).push(d),a=y.state.rowNodes.find(function(e){return e.id===u.id})}var h={id:n,node:e,parent:u,level:f,visible:g&&(!u||u.expanded),isSelected:i,isChecked:s,parents:l,parentRowNode:a,index:y.state.rowNodes.length,last:o,first:r};y.state.rowNodes.push(h),y.serializeNodes(e,e.children,f+1,h.visible,l)})}},H.prototype.isSelected=function(t){var n=this;return this.singleSelect?!(!t||!this.selectedRow)&&t.data[this.idField]===this.selectedRow.data[this.idField]:!(!this.selections||!this.selections.length)&&-1<this.selections.findIndex(function(e){return e.data[n.idField]===t.data[n.idField]})},H.prototype.isChecked=function(t){var n=this;return!(!t||!this.checkeds)&&this.checkeds instanceof Array&&-1<this.checkeds.findIndex(function(e){return e.data[n.idField]===t.data[n.idField]})},H.prototype.unSelectedCurrentRowEmit=function(){var e=this.selectedRow;e&&this.nodeUnSelect.emit({node:e,type:"row",instance:this})},H.prototype._singleSelectNode=function(e){this.clearSelections(),this.selectedRow=e.rowNode.node,this.selectRowIndex=e.rowIndex,this.selections=[e.rowNode.node],e.rowNode.isSelected=!0,this.showCheckbox&&(e.rowNode.isChecked=!0,this.clearCheckeds(),this.setCheckeds(e.rowNode));var t={originalEvent:e.originalEvent,node:e.rowNode.node,type:"row",index:e.rowIndex,parents:e.rowNode.parents,instance:this};this.nodeSelected.emit(t)},H.prototype._singleUnSelectNode=function(e){this.selectedRow=null,this.selectRowIndex=-1,e.rowNode.isSelected=!1,e.rowNode.isChecked=!1,this.selections=[],this.nodeUnSelect.emit({originalEvent:e.originalEvent,node:e.rowNode.node,type:"row",parents:e.rowNode.parents,instance:this})},H.prototype.__singleSelectNode=function(e,t){void 0===t&&(t=!1),t?this.keepSelect||this._singleUnSelectNode(e):(this.unSelectedCurrentRowEmit(),this._singleSelectNode(e))},H.prototype.__multiSelectNode=function(e,t){var n=e.rowNode;t?(this.unSelectedCurrentRowEmit(),this.singleSelectWhenMultiSelect(n,!0),this.nodeSelected.emit({originalEvent:e.originalEvent,node:n.node,type:"row",index:e.rowIndex,parents:n.parents,instance:this})):this.keepSelect||(this.singleSelectWhenMultiSelect(n,!1),this.nodeUnSelect.emit({originalEvent:e.originalEvent,node:n.node,type:"row",index:e.rowIndex,parents:n.parents,instance:this}))},H.prototype.handleRowClick=function(e){var t=e.rowNode;t.node.elementRef=e.originalEvent.target;var n=this.isSelected(t.node);if(this.singleSelect)this.__singleSelectNode(e,n);else{if(t.indeterminate=!1,this.onlySelectSelf)this.__multiSelectNode(e,!n);else{t.isSelected=!n,this.state.rowNodes.find(function(e){return e.id===t.id}).isSelected=!n,this.setSelections(t);var i={originalEvent:e.originalEvent,node:t.node,type:"row",index:e.rowIndex,parents:t.parents,instance:this};if(t.isSelected?this.nodeSelected.emit(i):this.nodeUnSelect.emit(i),this.checkOnSelect){t.isChecked=!n,this.state.rowNodes.find(function(e){return e.id===t.id}).isChecked=!n,this.setCheckeds(t);var s=this.cascadeNodes(t,t.isChecked);this.ttService.onChangeCheckboxStatus(t),t.isChecked?this.nodeChecked.emit({originalEvent:e,node:t.node,nodes:s,instance:this}):this.nodeUnChecked.emit({originalEvent:e,node:t.node,nodes:s,instance:this})}}if(this.checkOnSelect){var o=this.checkeds.map(function(e){return e.id});this.checkValues=o,this.checkValuesChange.emit(o)}}this.detectChanges()},H.prototype.singleSelectWhenMultiSelect=function(e,t){this.checkOnSelect&&(e.isChecked=t,this.cascadeNodes(e,e.isChecked),this.setCheckeds(e),this.ttService.onChangeCheckboxStatus(e),e.isChecked?this.nodeChecked.emit({originalEvent:event,node:e.node,instance:this}):this.nodeUnChecked.emit({originalEvent:event,node:e.node,instance:this})),this.clearSelections(),this.onlySelectSelf&&(this.selectedRow=e.node),e.isSelected=t,this.setSelections(e)},H.prototype.selectWhenChecked=function(t,e,n){t.node.selectable&&(t.isChecked=e),this.setCheckeds(t,!1),this.selectOnCheck&&(this.onlySelectSelf&&(e||this.selectedRow&&this.selectedRow.id===t.id)&&this.clearSelections(),this.singleSelect&&this.showCheckbox&&this.clearCheckeds(),t.node.selectable&&(t.isSelected=e),this.setSelections(t),this.state.rowNodes.find(function(e){return e.id===t.id}).isSelected=e,t.isSelected?this.nodeSelected.emit({originalEvent:n,node:t.node,instance:this,type:"checkbox"}):this.nodeUnSelect.emit({originalEvent:n,node:t.node,instance:this,type:"checkbox"}))},H.prototype.isInArray=function(t,e){var n=this;return(!e||0!==e.length)&&-1<e.findIndex(function(e){return e.data[n.idField]===t.id})},H.prototype.setSelections=function(t){var n=this;if(t.isSelected)this.selections||(this.selections=[]),this.isInArray(t,this.selections)||this.selections.push(t.node);else if(this.selections){var e=this.selections.findIndex(function(e){return e.data[n.idField]===t.node.data[n.idField]});-1!==e&&this.selections.splice(e,1)}},H.prototype.setCheckeds=function(t,e){var n=this;if(void 0===e&&(e=!0),t.isChecked)this.checkeds||(this.checkeds=[]),this.isInArray(t,this.checkeds)||this.checkeds.push(t.node);else if(this.checkeds){var i=this.checkeds.findIndex(function(e){return e.data[n.idField]===t.node.data[n.idField]});-1!==i&&this.checkeds.splice(i,1)}e&&(this.checkeds=w(this.checkeds))},H.prototype.getDiffrentData=function(e){var n=this;if(e.length){var i=[];return e.forEach(function(t){-1===i.findIndex(function(e){return e.data[n.idField]===t.data[n.idField]})&&i.push(t)}),i}return e},H.prototype.cascadeCheckedNode=function(e,t,n){void 0===n&&(n=!1);var i=[];return e.node.selectable&&(e.isChecked=t),this.setCheckeds(e,!1),this.selectOnCheck&&(n&&(t=2!==this.isIndeterminate(e)&&t),e.node.selectable&&(e.isSelected=t,this.setSelections(e))),this.isInArray(e,i)||i.push(e.node),i},H.prototype.propagateSelectionDown=function(e,i){var s=this,o=this.cascadeCheckedNode(e,i);return this.cascadeCheck&&this.cascadeDown&&e.node.children&&e.node.children.length&&e.node.children.forEach(function(t,e){var n=s.state.rowNodes.find(function(e){return e.id===t.data[s.idField]});n&&(n.indeterminate=!1,n.node.selectable&&(n.isChecked=i),o=o.concat(s.propagateSelectionDown(n,i)),s.ttService.onChangeCheckboxStatus(n))}),o},H.prototype.propagateSelectionUp=function(e,s){var o=this,r=this.cascadeCheckedNode(e,s);if(this.cascadeCheck&&this.cascadeUp&&e.node.parent&&e.parents&&e.parents.length){var l=[];e.parents.forEach(function(e,t){var n=o.findRowNode(e);if(n&&n.node.selectable){var i=o.cascadeCheckedNode(n,s,!0);i.length&&r.push(i[0]),l.push(n)}}),l.reverse().forEach(function(e){o.updateCheckboxStatus(e)})}return r},H.prototype.updateNodeStatus=function(){var i=this;if(this.state.searched){var e=this.state.searchRowNodes;if(!e)return;e.forEach(function(t){var e=i.state.rowNodes.find(function(e){return e.id===t.id}),n=!!e&&e.isChecked;t.indeterminate=!1,t.isChecked=n,i.selectOnCheck&&(e.isSelected!=t.isChecked&&(e.isSelected=e.isChecked),t.isSelected=e.isSelected)})}else this.selectOnCheck&&this.state.rowNodes.forEach(function(e){i.onlySelectSelf?i.selections&&i.selections.length&&i.selections[0].id===e.id?e.isSelected=!0:e.isSelected=!1:e.isSelected!=e.isChecked&&(e.isSelected=e.isChecked)})},H.prototype.cascadeNodes=function(e,t){var n=this.propagateSelectionDown(e,t);return n=n.concat(this.propagateSelectionUp(e,t)),n=this.getDiffrentData(n),this.updateNodeStatus(),this.updateAllCheckboxStatus(),n.filter(function(e){return e.selectable})},H.prototype.toggleNodeWithCheckbox=function(e,t,n){this.state.rowNodes.find(function(e){return e.id===t.id}).isChecked=n,t.indeterminate=!1;var i=this.cascadeNodes(t,n);this.ttService.onChangeCheckboxStatus(t),n?this.nodeChecked.emit({originalEvent:e,node:t.node,nodes:i,instance:this}):this.nodeUnChecked.emit({originalEvent:e,node:t.node,nodes:i,instance:this}),this.selectWhenChecked(t,n,e),this.onlySelectSelf&&n&&(this.selectedRow=t.node),this.checkeds=w(this.checkeds),this.detectChanges(),e.stopPropagation()},H.prototype.toggleNodesWithCheckbox=function(e,t){t?this.data&&this.data.length&&this.checkAllNodes({originalEvent:e,checked:t,instance:this}):(this.selections=null,this.unCheckAllNodes({originalEvent:e,checked:t,instance:this})),this.detectChanges()},H.prototype.updateAllCheckboxStatus=function(){if(!this.checkall_CLICKED){var e=this.isIndeterminate();this.showCheckAll&&!this.singleSelect&&this.showCheckbox&&e!==undefined&&this.headerCheckboxCmp&&(this.headerCheckboxCmp.chkAll.nativeElement.indeterminate=2===e,this.headerCheckboxCmp.checked=1===e)}},H.prototype.updateParentCheckboxStatus=function(e){var n=this,i=[];e.parents.forEach(function(e){var t=n.findRowNode(e);t&&i.push(t)}),i.reverse().forEach(function(e){n.updateCheckboxStatus(e)})},H.prototype.updateParentsCheckStatus=function(e){var t=this,n=[];e.forEach(function(e){n=w(n,e)}),n=Array.from(new Set(n)),this.findRowNodes(n).sort(function(e,t){return t.level-e.level}).forEach(function(e){t.updateCheckboxStatus(e)})},H.prototype.updateCheckboxStatus=function(e){var t=this.isIndeterminate(e);t!==undefined&&e.node.selectable&&(e.indeterminate=2===t,this.ttService.onChangeCheckboxStatus(e))},H.prototype.isIndeterminate=function(e){var t=this.getCheckboxStatus(e);if(t!==undefined){var n=!1;n=2!==t&&!!t,e&&e.node.selectable&&(e.isChecked=n,this.setCheckeds(e,!1))}return t},H.prototype.getCheckboxStatus=function(n){var e,i=this,s=0,o=0,t=[];if(n){if(!(t=n.node.children||[]).filter(function(e){return e.selectable}).length)return n.isChecked}else t=this.state.rowNodes;return e=t.length,t.forEach(function(e){var t=e;n&&(t=i.findRowNode(e.data[i.idField])),t&&!t.indeterminate&&(t.isChecked?o++:s++)}),0===e?undefined:s===e?0:o===e?1:2},H.prototype.findIndexIn=function(n,e){var i=this,t=-1;return e&&e.length&&(t=e.findIndex(function(e,t){return i.equals(e,n)})),t},H.prototype.findIndexInCheckeds=function(e){return this.findIndexIn(e,this.checkeds)},H.prototype.findIndexInSelection=function(e){return this.findIndexIn(e,this.selections)},H.prototype.equals=function(e,t){return e.data[this.idField]===t.data[this.idField]},H.prototype.toggleExpand=function(e,n,i){var s=this;if(void 0===n&&(n=!1),void 0===i&&(i=!0),e){if(e.expanded=!e.expanded,this.updateNodeProperty(e.id,{expanded:e.expanded}),this.toggleVisible(e),this.virtualized&&e.children&&e.children.length&&this.renderVirtualRowNodes(),e.expanded){if(!(i||e.children&&e.children.length))return void(e.expanded=!e.expanded);this.expand.emit(e)}else this.collapse.emit(e);n&&e.children&&e.children.length&&e.children.forEach(function(e,t){s.toggleExpand(e,n,i)})}else this.data&&this.data.length&&this.data.forEach(function(e){s.toggleExpand(e)});this.setNewColumnsWidth()},H.prototype.toggleVisible=function(t){var o=this,e=this.findRowNode(t.id);if(e){var n=e.id,i=function(t,e){var n=t.parent.data[o.idField],i=o.findRowNode(n);t.visible=i?i.visible&&i.node.expanded:e;var s=o.serializedValue.find(function(e){return e.id===t.id});s&&(s.visible=t.visible)};this.state.rowNodes.filter(function(e){return-1<e.parents.indexOf(n)}).forEach(function(e){i(e,t.expanded)});var s=this.getCurrentAllRowNodes();s&&s.filter(function(e){return-1<e.parents.indexOf(n)}).forEach(function(e){i(e,t.expanded)})}},H.prototype.expandNode=function(e,t,n){if(void 0===t&&(t=!0),void 0===n&&(n=!0),e){var i=this.findRowNode(e);i?(i.node.expanded=!0,this.toggleVisible(i.node),n&&(this.virtualized?i.node.children&&i.node.children.length&&this.renderVirtualRowNodes():this.detectChanges()),t&&this.expand.emit(i.node),this.setNewColumnsWidth()):this.writeConsole("Con't find tree node widh id:"+e,"error")}},H.prototype.expandAll=function(){this.state.rowNodes=this.state.rowNodes.map(function(e){return e.node.expanded=!0,e.visible=!0,e}),this.virtualized?this.renderVirtualRowNodes():this.serializedValue=this.state.rowNodes,this.setNewColumnsWidth(),this.expandAllNodes.emit(),this.detectChanges()},H.prototype.expandNodes=function(e){},H.prototype.expandAllNodesBy=function(t){t&&(t.node.expanded=!0,t.visible=!0,this.state.rowNodes.filter(function(e){return-1<e.parents.indexOf(t.id)}).forEach(function(e){e.visible=!0,e.node.expanded=!0}),this.detectChanges(),this.setNewColumnsWidth())},H.prototype.collapseNode=function(e){if(e){var t=this.findRowNode(e);t?(t.node.expanded=!1,this.toggleVisible(t.node),this.detectChanges(),this.setNewColumnsWidth(),this.collapse.emit(t.node)):this.writeConsole("Con't find tree node widh id:"+e,"error")}},H.prototype.collapseAll=function(){this.state.rowNodes=this.state.rowNodes.map(function(e){return e.node.expanded=!1,e.visible=!e.parent,e}),this.virtualized?this.renderVirtualRowNodes(0):this.serializedValue=this.state.rowNodes,this.collapseAllNodes.emit(),this.detectChanges(),this.setNewColumnsWidth()},H.prototype.getContainerOffset=function(){var e=this.containerElement.getBoundingClientRect();return{left:e.left+document.body.scrollLeft,top:e.top+document.body.scrollTop}},H.prototype.onColumnResizeBegin=function(e){var t=Math.round(this.getContainerOffset().left);this.lastResizerHelperX=e.pageX-t+this.containerElement.scrollLeft,e.preventDefault()},H.prototype.onColumnResize=function(e){if(this.resizableColumns){var t=this.getContainerOffset().left;this.renderer.addClass(this.containerElement,"ui-unselectable-text"),this.resizerHelperVC.nativeElement.style.height=this.containerElement.offsetHeight+"px",this.resizerHelperVC.nativeElement.style.top="0px",this.resizerHelperVC.nativeElement.style.left=e.pageX-t+"px",this.resizerHelperVC.nativeElement.style.display="block"}},H.prototype.onColumnResizeEnd=function(e,t){if(this.resizerHelperVC.nativeElement.offsetLeft){var n=this.resizerHelperVC.nativeElement.offsetLeft-this.lastResizerHelperX,i=t.offsetWidth+n,s=t.style.minWidth||15,o=-1;if(t.id)o=this.columns.findIndex(function(e){return e.id===t.id});else{var r=t.getAttribute("field");r&&(o=this.columns.findIndex(function(e){return e.field===r}))}if(this.fitColumns){if(s<i){for(var l=t.nextElementSibling;!l.offsetParent;)l=l.nextElementSibling;if(l){var a=l.offsetWidth-n,d=l.style.minWidth||15;15<i&&d<a&&(this.resizeColGroup(this.headerTable.nativeElement,o,i,a),this.resizeColGroup(this.bodyTable.nativeElement,o,i,a))}}}else this.resizeColGroup(this.headerTable.nativeElement,o,i,0),this.resizeColGroup(this.bodyTable.nativeElement,o,i,0),this.columns[o]&&(this.columns[o].width=i),this.sortColumnsByFixed(!1),this.setCellWidthCss(this.allColumnsWidth(),0,[]);this.resizerHelperVC.nativeElement.style.display="none",this.renderer.removeClass(this.containerElement,"ui-unselectable-text"),this.psRef.directiveRef.update()}},H.prototype.resizeColGroup=function(e,t,n,i){if(e){var s="COLGROUP"===e.children[0].nodeName?e.children[0]:null;if(!s)throw new Error("Scrollable tables require a colgroup to support resizable columns");var o=s.children[t],r=o.nextElementSibling;o.style.width=n+"px",r&&i&&this.fitColumns&&(r.style.width=i+"px")}},H.prototype.onSearch=function(){this.state.searchRowNodes=null,this.state.searched=!!this.searchData.value,this.searchData.value&&(this.searchData.value=this.searchData.value.trim()),this.search.emit(this.searchData)},H.prototype.insert=function(e,t){t?(t.children||(t.children=[]),t.children.push(e),this.expandNode(t.data[this.idField]),this.appendNew.emit({parent:t})):this.data.push(e),this.updateSerializedValue()},H.prototype.append=function(e,t){e&&e[this.idField]?this.insert({data:e,id:e[this.idField]},t):this.writeConsole("Please set id value.","warn")},H.prototype.emitAppendNew=function(e){if(this.virtualized){var t=this.psRef.directiveRef.elementRef.nativeElement.scrollTop;this.updateSerializedValue(t)}else this.updateSerializedValue()},H.prototype.appendChildren=function(e,t,n){var i;if(void 0===n&&(n=!0),e&&e.length){if(!t)throw new Error("未找到父级节点");(i=t.children).push.apply(i,w(e)),this.emitAppendNew(t),n&&this.appendNew.emit({parent:t})}else this.updateSerializedValue(),this.writeConsole("添加子节点的数据为空","warn")},H.prototype.loadChildren=function(e,t,n){void 0===n&&(n=!0),t&&(t.children=e||[],this.emitAppendNew(t),n&&this.appendNew.emit({parent:t}))},H.prototype.remove=function(t){var n=this;if(t){var e=this.findRowNode(t);e&&(this.selectValue===t&&(this.selectedRow=null,this.selectValue=null),e.parent?u.remove(e.parent.children,function(e){return e.data[n.idField]===t}):(u.remove(this.state.rowNodes,function(e){return e.id===t}),this.data=this.data.filter(function(e){return e.data[n.idField]!==t})),this.updateSerializedValue(),this.detectChanges(),this.ttService.onRemove(e),this.removed.emit(e))}},H.prototype.update=function(e,t){if(e&&t){var n=this.findRowNode(e);n&&(n.node.data=u.extend(n.node.data,t),this.detectChanges(),this.ttService.onUpdate(n),this.updated.emit(n))}},H.prototype.updateNodeProperty=function(e,t){var n=this.findRowNode(e);n&&t&&Object.keys(t).forEach(function(e){n.node[e]=t[e]})},H.prototype.setScorllBodyHeight=function(){if(this.scorllBodyHeight=this.height,this.showFilterBar&&(this.scorllBodyHeight=this.scorllBodyHeight-46),this.enableFilterRow&&(this.scorllBodyHeight=this.scorllBodyHeight-36),this.fixedHeader&&this.showHeader)if(this.headerBox&&(this.headerWrap||this.useGroupHeader)){var e=this.headerBox.nativeElement.clientHeight;this.scorllBodyHeight=this.scorllBodyHeight-e}else{var t=this.headerHeight;"loose"===localStorage.getItem("gsp_rtf_themSKey")&&this.headerBox&&(t=this.headerBox.nativeElement.getBoundingClientRect().height),this.scorllBodyHeight=this.scorllBodyHeight-t}this.pagination&&(this.scorllBodyHeight=this.scorllBodyHeight-this.pagerHeight),this.detectChanges()},H.prototype.setWidth=function(e){this.width=e},H.prototype.resize=function(e){if(e){var t=parseInt(""+e.width,10),n=parseInt(""+e.height,10);if(this.width===t&&this.height===n)return this.state.scrollY&&this.psRef.directiveRef.scrollToY(this.state.scrollY),void(this.state.scrollX&&this.psRef.directiveRef.scrollToX(this.state.scrollX));this.setWidth(t),this.height=n}this.setScorllBodyHeight(),this.data&&this.data.length&&this.renderVirtualRowNodes()},H.prototype.loadData=function(e){this.showLines&&(this.isLoadNewDataSetEmpty=!0,this.data=[],this.isLoadNewDataSetEmpty=!1),this.data=e},H.prototype.empty=function(){this.data=[]},H.prototype.getCurrentAllRowNodes=function(){return this.state.searched&&this.state.searchRowNodes&&this.state.searchRowNodes.length&&this.state.searchRowNodes||this.state.rowNodes},H.prototype.clearAll=function(e){var t=this;return void 0===e&&(e=!0),this.state.rowNodes.filter(function(e){return e.indeterminate}).forEach(function(e){e.indeterminate=!1,t.ttService.onChangeCheckboxStatus(e)}),this.state.rowNodes=this.state.rowNodes.map(function(e){return e.isChecked=!1,e.isSelected=!1,e.indeterminate=!1,e}),this.state.searched&&this.state.searchRowNodes&&this.state.searchRowNodes.length&&(this.serializedValue=this.state.searchRowNodes.map(function(e){return e.isChecked=!1,e.isSelected=!1,e.indeterminate=!1,e})),this.checkeds=[],this.selections=[],this.selectedRow=undefined,this.showCheckAll&&this.headerCheckboxCmp&&(this.headerCheckboxCmp.chkAll.nativeElement.indeterminate=!1,this.headerCheckboxCmp.checked=!1),e&&this.detectChanges(),this},H.prototype.detectChanges=function(){return this.cdRef.markForCheck(),this.cdRef.destroyed||this.cdRef.detectChanges(),this},H.prototype.clearCheckeds=function(){var t=this;return this.checkeds&&this.checkeds.length&&this.findRowNodes(this.checkeds.map(function(e){return e.data[t.idField]})).forEach(function(e){e.isChecked=!1}),this.checkeds=[],this.showCheckAll&&this.headerCheckboxCmp&&(this.headerCheckboxCmp.chkAll.nativeElement.indeterminate=!1,this.headerCheckboxCmp.checked=!1),this},H.prototype.clearSelections=function(){var t=this;if(this.serializedValue&&this.serializedValue.length&&this.serializedValue.forEach(function(e){e.isSelected=!1}),this.state.rowNodes.forEach(function(e){e.isSelected=!1}),this.selections&&this.selections.length){var e=this.selections.map(function(e){return e.data[t.idField]});this.findRowNodes(e).forEach(function(e){e.isSelected=!1,t.singleSelect&&(e.isChecked=!1)})}return this.selections=undefined,this.selectedRow=undefined,this},H.prototype.selectFirstNode=function(){if(this.state.rowNodes&&this.state.rowNodes.length){var e=this.state.rowNodes.find(function(e){return e.node.selectable});e&&this.selectNode(e.id)}},H.prototype.scrollToCurrentRow=function(e){var t="rownode-"+e,n=this.el.nativeElement.querySelector("#"+t)||document.getElementById(t);if(n&&n.closest(".farris-treetable")&&n.closest(".farris-treetable").id===this.id){if(this.isElementInViewport(n))n.scrollIntoView({block:"nearest"});else{if(n.scrollIntoViewIfNeeded)return n.scrollIntoViewIfNeeded(),!0;this.utils.getBrowserType().ff&&this.utils.getFFVer()<58?n.scrollIntoView():n.scrollIntoView({block:"nearest",inline:"nearest"})}return!0}return!1},H.prototype.isElementInViewport=function(e){var t=this.el.nativeElement.querySelector(".farris-treetable-body");if(!t)return!1;var n=t.getBoundingClientRect().height,i=e.offsetTop+this.topHideHeight-this.psRef.directiveRef.elementRef.nativeElement.scrollTop;return 0<=i&&i<=n},H.prototype._scrollToNode=function(e){this.scrollToCurrentNode(e)},H.prototype.scrollToCurrentNode=function(e){var t=this;void 0===e&&(e="");var n=e;if(!e&&this.selectedRow&&(n=this.selectedRow.id),null!=n&&n!=undefined&&""!=n&&!this.scrollToCurrentRow(n)){var i=this.findRowNode(n),s=Math.ceil(this.scorllBodyHeight/this.rowHeight)+1;i.parents&&i.parents.length&&i.parents.forEach(function(e){t.expandNode(e,!1,!1)});var o=this.state.rowNodes.filter(function(e){return e.visible}).findIndex(function(e){return e.id===n});if(o<s)return this.virtualized&&this.renderData(0),void setTimeout(function(){t.scrollToCurrentRow(n)});var r=o*this.rowHeight;this.virtualized?(this.renderData(r-this.rowHeight),setTimeout(function(){t.scrollToCurrentRow(n),t.psRef&&t.psRef.directiveRef&&(t.psRef.directiveRef.elementRef.nativeElement.scrollTop+=1)},50)):(this.scrollToY(r-this.rowHeight),this.scrollToCurrentRow(n))}},H.prototype.selectNode=function(e,t,n){var i=this;if(void 0===t&&(t=!0),void 0===n&&(n=!0),!e)return this;var s=this.findRowNode(e),o=s&&s.node&&s.node.selectable&&(!this.selectedRow||this.selectedRow&&e!==this.selectedRow.id);return s&&o?(s.isSelected=!0,this.singleSelect||this.onlySelectSelf?(this.clearSelections(),s.isSelected=!0,this.selections=[s.node],this.checkOnSelect&&this.showCheckbox&&(s.isChecked=!0,this.multiSelect?this.setCheckeds(s):(this.clearCheckeds(),this.checkeds=[s.node]),this.cascadeCheck&&this.cascadeUp&&this.updateParentCheckboxStatus(s))):this.setSelections(s),this.selectedRow=s.node,this.selectNodeChangedSubject.next(e),this.nodeSelected.emit({node:s.node,instance:this}),this.serializedValue.find(function(e){return e.id==i.selectedRow.id})&&(this.serializedValue.find(function(e){return e.id==i.selectedRow.id}).isSelected=!0),n&&this.fixedHeader&&this.scrollToCurrentNode(),t&&this.detectChanges()):s||(this.selectedRow=null,this.writeConsole("未找到ID为 "+e+" 的数据！！")),this},H.prototype.unSelectNode=function(e,t){void 0===t&&(t=!0);var n=this.findRowNode(e);n?(n.isSelected=!1,this.singleSelect?(this.clearSelections(),this.selectedRow=null,n.isChecked=!1,this.selections=[]):this.onlySelectSelf?this.selections=[]:this.setSelections(n),t&&this.detectChanges(),this.nodeUnSelect.emit({node:n.node,instance:this})):this.writeConsole("未找到ID为"+e+"的数据！！")},H.prototype.selectNodes=function(e,t,n){var i=this;if(void 0===t&&(t=!0),void 0===n&&(n=!1),e&&e.length){var s=this.findRowNodes(e).map(function(e){return e.isSelected=!0,i.setSelections(e),e.node});this.selections=w(this.selections),t&&this.detectChanges(),this.selectNodeChangedSubject.next(e.join(",")),n&&this.nodeSelected.emit({node:s,instance:this})}return this},H.prototype.unSelectNodes=function(e,t){var n=this;if(void 0===t&&(t=!0),e&&e.length){var i=this.findRowNodes(e);i&&i.length&&(i.forEach(function(e){e.isSelected=!1,n.setSelections(e)}),this.selections=w(this.selections),this.detectChanges(),t&&this.nodeUnSelect.emit({node:i.map(function(e){return e.node}),instance:this}))}else this.clearSelections(),this.detectChanges()},H.prototype.checkedNode=function(e,t,n){if(void 0===t&&(t=!0),void 0===n&&(n=!0),this.isEnableMultiSelect()){var i=this.findRowNode(e);i?(i.isChecked=!0,this.isChecked(i.node)||(this.setCheckeds(i,!1),t&&this.cascadeCheck&&this.cascadeUp&&this.updateParentCheckboxStatus(i)),n&&this.detectChanges(),this.nodeChecked.emit({originalEvent:null,node:i.node,instance:this})):this.writeConsole("未找到ID为"+e+"的数据！！")}},H.prototype.unCheckedNode=function(t,e){if(void 0===e&&(e=!0),this.isEnableMultiSelect()){var n=this.findRowNode(t);if(n)if(n.isChecked=!1,this.setCheckeds(n),this.selectOnCheck&&(n.isSelected=!1,this.setSelections(n)),this.selectedRow&&this.selectedRow.id===t&&(this.selectedRow=null),this.singleSelect||!this.cascadeCheck)this.updateNodeStatus(),e&&this.cascadeCheck&&this.cascadeUp&&this.updateParentCheckboxStatus(n),this.checkValues&&(this.checkValues=this.checkValues.filter(function(e){return e!==t}),this.checkValuesChange.emit(this.checkValues)),this.detectChanges(),this.nodeUnChecked.emit({node:n,instance:this});else{var i=this.cascadeNodes(n,!1);this.checkeds=w(this.checkeds),this.checkValuesChange.emit(this.checkValues),this.detectChanges(),this.nodeUnChecked.emit({node:n,nodes:i,instance:this})}else this.writeConsole("未找到ID为"+t+"的数据！！")}},H.prototype._checkedNodes=function(e,t){var n=this,i=[],s=this.findRowNodes(e).map(function(e){return i.push(e.parents),e.node.selectable&&(e.isChecked=t,n.setCheckeds(e,!1)),e.node});return this.checkeds=w(this.checkeds),this.cascadeCheck&&this.cascadeUp&&this.updateParentsCheckStatus(i),s},H.prototype.checkedNodes=function(e,t,n,i){if(void 0===t&&(t=!0),void 0===n&&(n=!0),this.isEnableMultiSelect()&&e&&e.length){var s=this.cascadeCheck;i&&s&&(this.cascadeCheck=!1);var o=this._checkedNodes(e,!0);i&&s&&(this.cascadeCheck=!0),this.updateAllCheckboxStatus(),t&&this.detectChanges(),n&&this.nodeChecked.emit({originalEvent:null,node:o,nodes:o,instance:this})}},H.prototype.unCheckedNodes=function(e,t,n){if(void 0===n&&(n=!0),e&&e.length){var i=this.cascadeCheck;t&&i&&(this.cascadeCheck=!1);var s=this._checkedNodes(e,!1);t&&i&&(this.cascadeCheck=!0),this.detectChanges(),n&&this.nodeUnChecked.emit({originalEvent:null,node:s,nodes:s,instance:this})}else this.clearCheckeds(),this.detectChanges()},H.prototype.unCheckedAndSelected=function(e){this.unCheckedNodes(e,!0,!1),this.unSelectNodes(e,!1)},H.prototype.findRowNode=function(t){return t&&this.state.rowNodes?this.state.rowNodes.find(function(e){return e.id===t}):undefined},H.prototype.findNode=function(e){return this.findRowNode(e)},H.prototype.getRoot=function(e){var t=this.findRowNode(e);return t?t.parents&&t.parents.length?this.findRowNode(t.parents[0]):t:null},H.prototype.findRowNodes=function(t){return this.state.rowNodes.filter(function(e){return-1<t.indexOf(e.id)})},H.prototype.checkAllNodes=function(e){var n=this,t=this.getCurrentAllRowNodes();t=t.filter(function(e){return e.node.selectable||e.node.selectable===undefined}),this.checkeds=t.map(function(e){return e.indeterminate=!1,n.ttService.onChangeCheckboxStatus(e),!e.node.selectable&&e.node.selectable!==undefined||(e.isChecked=!0),e.node}),this.selectOnCheck&&!this.onlySelectSelf&&(this.selections=t.map(function(e){return!e.node.selectable&&e.node.selectable!==undefined||(e.isSelected=!0),e.node})),this.state.searched&&t.forEach(function(t){var e=n.state.rowNodes.find(function(e){return e.id===t.id});e&&(e.isSelected=t.isSelected,e.isChecked=t.isChecked)}),this.checkAll.emit(e),this.updateAllCheckboxStatus(),this.detectChanges()},H.prototype.unCheckAllNodes=function(e){this.clearAll(),this.unCheckAll.emit(e),this.detectChanges()},H.prototype.isEnableMultiSelect=function(){return!this.singleSelect||!!this.showCheckbox},H.prototype.getNodeIconFromData=function(e){var t=null,n=null,i=null;if(this.useIconFromData&&this.iconField){var s="";"string"==typeof this.iconField?n=i=t=e[s=this.iconField]?e[s]:this.utils.getValue(s,e.data):(this.iconField.leaf&&(t=this.utils.getValue(this.iconField.leaf,e.data)),this.iconField.expand&&(n=this.utils.getValue(this.iconField.expand,e.data)),this.iconField.collapse&&(i=this.utils.getValue(this.iconField.collapse,e.data)),n&&!i&&(i=n),!n&&i&&(n=i))}return{leaf:t,expand:n,collapse:i}},H.prototype.getTreeIcon=function(e){var t=e,n=this.leafIcon||"file",i=this.expandIcon||"folder-open",s=this.collapseIcon||"folder";if(t.showLoading)return{"f-loading-round":!0};if(t.icon&&(n=t.icon),t.expandedIcon&&(i=t.expandedIcon),t.collapsedIcon&&(s=t.collapsedIcon),this.useIconFromData){var o=this.getNodeIconFromData(e),r=o.leaf,l=o.expand,a=o.collapse;this.whenDataIconEmptyUseDefault?(r&&(n=r),l&&(i=l),a&&(s=a)):(n=r||"",i=l||"",s=a||"")}var d=!(t.leaf&&(!t.children||!t.children.length)||t.expanded),c=!!t.expanded,h=t.leaf===undefined?!t.children||!t.children.length:t.leaf,u={};return h&&n?u[n]=h:t.expanded&&i?u[i]=c:s&&(u[s]=d),this.iconCls&&(u[this.iconCls]=!0),u},H.prototype.compare=function(e,t){return"string"==typeof e?e.localeCompare(t):e===t?0:t<e?1:-1},H.prototype._sort=function(r,l){var a=0,d=this.sortName.split(","),c=this.sortOrder.split(",");if(!this.sortName)return a;for(var e=function(e){var t=d[e],n=c[e],i=h.columns.find(function(e){return e.field===t}).sorter||h.compare,s=h.utils.getValue(t,r.data);null!==s&&s!==undefined||(s="");var o=h.utils.getValue(t,l.data);if(null!==o&&o!==undefined||(o=""),0!==(a=i(s,o)))return{value:a*("asc"===n?1:-1)}},h=this,t=0;t<d.length;t++){var n=e(t);if("object"==typeof n)return n.value}return a},H.prototype.clientSort=function(){var t=this;if(this.data&&this.data.length){var e=this.data.sort(this._sort.bind(this)),n=function(e){return(e=e.sort(t._sort.bind(t))).forEach(function(e){e.children&&e.children.length&&(e.children=e.children.sort(t._sort.bind(t)),n(e.children))}),e};e.forEach(function(e){e.children=n(e.children)}),this.loadData(e)}},H.prototype.onSortColumnClick=function(e,t){var n=this;if(t.sortable){var i=this.sortName,s=this.sortOrder,o=[],r=[];i&&(o=i.split(","),r=s.split(","));var l,a=t.order||"asc",d=a,c=o.findIndex(function(e){return e===t.field});if(0<=c){var h="asc"===r[c]?"desc":"asc";"asc"==(d=h)?(d=undefined,o.splice(c,1),r.splice(c,1)):r[c]=h}else this.multiSort?(o.push(t.field),r.push(a)):(o=[t.field],r=[a]);t.order=d,this.sortName=o.join(","),this.sortOrder=r.join(","),this.multiSort||((l=this.columns)&&l.length&&l.forEach(function(t){t.order=undefined;var e=o.findIndex(function(e){return e===t.field});0<=e&&(t.order=r[e])}),this.cdRef.detectChanges()),this.beforeSortColumn(this.sortName,this.sortOrder).subscribe(function(){n.remoteSort||n.clientSort(),n.columnSorted.emit({sortName:n.sortName,sortOrder:n.sortOrder})})}},H.prototype.findKeyWords=function(e){var t=e.value,n=e.field;if(this.findField=n,t&&2<=t.length){if(this.findValue=t,!n)return void this.writeConsole("Please set a field for the FindField property.","warn");var i=this.searchHandle.searchOnClient(n,t,this.state.rowNodes);i&&i.length?(this.findResult=i.sort(function(e,t){return e.index===t.index?0:e.index>t.index?1:-1}),this.findCount=i.length,this.findCurrent=1,this._scrollToNode(i[0].id),this.highLightKeywords()):(this.findResult=[],this.findCurrent=0,this.findCount=0)}else this.resetFindText(),this.cdRef.detectChanges()},H.prototype.nextFindValue=function(e){var i=this;if(this.findResult&&this.findResult.length){var t=Array.from(this.el.nativeElement.querySelectorAll(".search-highlight"));this.findCurrent===this.findResult.length?this.findCurrent=1:e?(this.findCurrent=this.findCurrent+e,-1===e&&this.findCurrent<=0&&(this.findCurrent=1)):this.findCurrent++;var n=this.el.nativeElement.querySelector(".search-highlight.active");n&&this.renderer.removeClass(n,"active");var s=this.findCurrent-1,o=this.findResult[s];o&&(this._scrollToNode(o.id),this.virtualized?this.ngZone.runOutsideAngular(function(){i.HIGH_LIGHT_TIMER&&clearTimeout(i.HIGH_LIGHT_TIMER),i.HIGH_LIGHT_TIMER=setTimeout(function(){var e="rownode-"+o.id,t=i.el.nativeElement.querySelector("#"+e);if(t){var n=t.querySelector(".search-highlight");n&&i.renderer.addClass(n,"active")}},100)}):t[s]&&this.renderer.addClass(t[s],"active"))}},H.prototype.closeFindPanel=function(){this.showFindInput=!1,this.resetFindText(),this.cdRef.detectChanges()},H.prototype.highLightKeywords=function(){var t=this;this.ngZone.runOutsideAngular(function(){setTimeout(function(){t.cdRef.detectChanges();var e=t.el.nativeElement.querySelectorAll(".search-highlight");e.length&&t.renderer.addClass(e[0],"active")},100)})},H.prototype.resetFindText=function(){this.findValue="",this.findCurrent=0,this.findCount=0,this.findResult=[]},H.prototype.scrollToY=function(e,t){void 0===t&&(t=200),this.state.scrollY=e||0,this.psRef.directiveRef.scrollToY(e,t)},H.prototype.showOrHideColumn=function(t,n){Array.isArray(t)?this.columns.forEach(function(e){-1<t.indexOf(e.field)&&(e.visible=!n)}):this.columns.forEach(function(e){t===e.field&&(e.visible=!n)}),this.columnsChanged()},H.prototype.showColumn=function(e){this.showOrHideColumn(e,!1)},H.prototype.hideColumn=function(e){this.showOrHideColumn(e,!0)},H.prototype.showChildsLoading=function(e){var t,n=this.columns.filter(function(e){return!1!==e.visible}).length,i=((t={})[this.idField]="正在加载中....",t.__colspan__=n,t);this.loadChildren([{data:i,__childs_loading__:!0}],e,!1)},H.prototype.onChildsPageChanged=function(e){this.childsPageChanged.emit(e)},H.prototype.trId2DataId=function(e){return e.id.replace("rownode-","")},H.prototype.onKeydownEvent=function(e){var t=this;if(e&&this.singleSelect&&this.data&&this.data.length&&["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].includes(e.key)&&"INPUT"!==e.target.nodeName){var n;e.stopPropagation(),e.preventDefault(),this.inputGroup.textbox.nativeElement.blur();var i=Array.from(this.bodyTable.nativeElement.querySelectorAll("tr")),s=i.length,o=-1;if(this.selectedRow&&(o=i.findIndex(function(e){return t.trId2DataId(e)===t.selectedRow.id})),"ArrowDown"===e.code)n=o+1;else{if("ArrowUp"!==e.code)return void(!this.selectedRow||"ArrowRight"!==e.code&&"ArrowLeft"!==e.code||this.toggleExpand(this.selectedRow));-1!==o&&(n=o-1)}if(0<=n&&n<s){var r=i[n];if(r){var l=this.trId2DataId(r);this.selectNode(l),r.scrollIntoView({block:"nearest"})}}}},H.prototype.getChildNodes=function(e){var t=this,n=[];if(e){var i=this.findRowNode(e);return i&&i.node.children&&i.node.children.length&&i.node.children.forEach(function(e){e.selectable&&n.push(e),n=n.concat(t.getChildNodes(e.id))}),n}return[]},H.prototype.getParentNodes=function(e){var n=this,i=[];if(e){var t=this.findRowNode(e);return t&&t.parents&&t.parents.length&&t.parents.forEach(function(e){var t=n.findRowNode(e);t&&t.node.selectable&&i.push(t)}),i}return[]},H.prototype.onFilterRowInput=function(e,t){var n=this;this.filterRowConditions=this.filterRowConditions||{},this.filterRowConditions[t.field]=e.target.value,Object.keys(this.filterRowConditions).forEach(function(e){""!==n.filterRowConditions[e]&&null!=n.filterRowConditions[e]||delete n.filterRowConditions[e]}),this.FILTERCONDITIONS_CHANGED_TIMER&&clearTimeout(this.FILTERCONDITIONS_CHANGED_TIMER),this.FILTERCONDITIONS_CHANGED_TIMER=setTimeout(function(){n.searchHandle.searchWithConditions(n.filterRowConditions),n.setNewColumnsWidth()},200)},H.decorators=[{type:y.Component,args:[{selector:"farris-treetable",template:'\r\n<div class="filter-row" style="width: 100%;" *ngIf="showFilterBar">\r\n    <form style="display: flex; width: 100%;">\r\n        <div class="search-fields" style="padding-left:0; max-width: 180px;min-width: 140px;" [style.display]="showSearchField ? \'\': \'none\'">\r\n            <select class="custom-select" [(ngModel)]="searchData.field" name="field"  single-select [panelRef]="selectpanel" [items]="searchFields">\r\n                \x3c!-- <option value="*">{{allColumnsTitle}}</option>\r\n                <option *ngFor="let col of searchFields" value="{{col.value}}">{{ col.label }}</option> --\x3e\r\n            </select>\r\n\r\n            <div #selectpanel class="single-select-panel f-area-hide">\r\n                <ul class="dropdown-menu show">\r\n                    <li class="dropdown-item" [attr.value]="\'*\'" [class.active]="searchData.field === \'*\'" *ngIf="searchAnyField">{{allColumnsTitle}}</li>\r\n                    <li class="dropdown-item" *ngFor="let col of searchFields" [attr.value]="col.value" [class.active]="searchData.field === col.value">{{ col.label }}</li>\r\n                </ul>\r\n            </div>\r\n\r\n\r\n        </div>\r\n        <div class="search-text flex-fill" style="padding-right: 0px;">\r\n            <input-group #inputGroup [groupText]="searchButtonText" name="searchValue" [(ngModel)]="searchData.value"\r\n                (clear)="onClearSearchValue()" (valueChange)="onSearchValueChange($event)" (clickHandle)="onSearch()"\r\n                (keydownHandle)="onKeydownEvent($event)"></input-group>\r\n        </div>\r\n    </form>\r\n</div>\r\n\r\n<ng-content select="tt-column"></ng-content>\r\n\r\n<ng-template #tdcell let-col let-serializedNode="rowNode" let-left="left">\r\n\r\n    <ng-container *ngIf="enableFindText">\r\n        <span *ngIf="!col.formatter" style="width: 100%;"\r\n            [innerHTML]="getNodeText(col, serializedNode.node.data) | highlight: findValue: col.field :findField"></span>\r\n        <span *ngIf="col.formatter" style="width: 100%;" \r\n            [innerHTML]="formatData(col, serializedNode.node.data, col.formatter) | safe: \'html\' "></span>\r\n    </ng-container>\r\n\r\n    <ng-container *ngIf="!enableFindText">\r\n        <span *ngIf="!col.formatter && !fast" style="width: 100%;"\r\n            [innerHTML]="getNodeText(col, serializedNode.node.data)"></span>\r\n        <span *ngIf="!col.formatter && fast" style="width: 100%;"\r\n            [textContent]="getNodeText(col, serializedNode.node.data, true)"></span>\r\n        <span *ngIf="col.formatter" style="width: 100%;" \r\n            [innerHTML]="formatData(col, serializedNode.node.data, col.formatter) | safe: \'html\' "></span>\r\n    </ng-container>\r\n</ng-template>\r\n\r\n<ng-template #tbodyrows>\r\n    <ng-template ngFor let-serializedNode let-rowIndex="index" [ngForTrackBy]="trackByFn" [ngForOf]="pagination ? (serializedValue | paginate: paginationOptions) : serializedValue">\r\n        <tr *ngIf="serializedNode.visible" #row="row" \r\n            [attr.id]=" \'rownode-\' + serializedNode.id" class="f-treetable-row"\r\n            [selectRow]="serializedNode" [rowIndex]="rowIndex" [dblclick]="useDblClick" [dblclickNode]="serializedNode"\r\n            [selectRowDisabled]="serializedNode.node | disablenode: disabledRow"\r\n            [customRowStyle]="serializedNode"\r\n            [class.f-treetable-disable-row]="serializedNode.node | disablenode: disabledRow"\r\n            [class.farris-table-selectedrow]="serializedNode.isSelected">\r\n\r\n            <td *ngIf="serializedNode.node.data[\'__colspan__\']"  [attr.colspan]=" serializedNode.node.data[\'__colspan__\'] || 0">\r\n                <childs-loading></childs-loading>\r\n            </td>\r\n\r\n            <ng-container *ngIf="!serializedNode.node.data[\'__colspan__\']">\r\n                <td *ngFor="let col of columns; let i = index;"\r\n                    [customCellStyle]="col" [rowNode]="serializedNode" [rowIndex]="rowIndex"\r\n                    [style.textAlign]="col!.align || \'left\'" \r\n                    (click)="onCellClick($event, col, serializedNode.node)"\r\n                    class="treetable-cell" [attr.field]="col.field"\r\n                    [attr.colspan]=" serializedNode.node.data[\'__cellspan__\'] || 0"\r\n                    [attr.title]="col | tipmsg: serializedNode.node"\r\n                    [class.f-treetable--fixed-left]="fixedColumns && fixedHeader && col.fixed && col.fixed === \'left\'"\r\n                    [class.f-treetable--fixed-right]="fixedColumns && fixedHeader && col.fixed && col.fixed === \'right\'"\r\n                    [attr.r-tt-shadow-col]="col.rightShadowCol"\r\n                    [attr.l-tt-shadow-col]="col.leftShadowCol"\r\n                >\r\n\r\n                    <div class="treetable-cell-content d-flex align-items-center">\r\n                        <farris-treeTableToggler style="float: left"\r\n                            [showLines]="showLines"\r\n                            [indentSpacing]="indentSpacing"\r\n                            [disabled]="serializedNode.node | disablenode: disabledRow: disabled"\r\n                            [rowNode]="serializedNode" *ngIf="i == 0"></farris-treeTableToggler>\r\n                        \r\n                        <div class="flex-grow-1 text"  *ngIf="!col.componentType">\r\n                            <ng-container *ngIf="!col.template && col.field">\r\n                                <ng-container *ngTemplateOutlet="tdcell; context: {$implicit: col, node: serializedNode.node, rowNode: serializedNode, rowData: serializedNode.node.data  }" ></ng-container>\r\n                            </ng-container>\r\n            \r\n                            <ng-container *ngIf="col.template"\r\n                                [ngTemplateOutlet]="col.template"\r\n                                [ngTemplateOutletContext]="{$implicit: { column: col, node: serializedNode.node, rowNode: serializedNode, rowData:  serializedNode.node.data  }}">\r\n                            </ng-container>\r\n                        </div>\r\n                        <div class="flex-grow-1 text"  *ngIf="col.componentType" [component-template]="col" [ctx]=" { column: col, node: serializedNode.node, rowNode: serializedNode, rowData:  serializedNode.node.data  }">\r\n                        </div>\r\n                    </div>\r\n                </td>\r\n            </ng-container>\r\n        </tr>\r\n    </ng-template>\r\n</ng-template>\r\n\r\n<ng-template #tbody>\r\n    <tbody class="farris-treetable-tbody"\r\n        [farris-context-menus]="contextMenuItems" [disabled]="!enableContextMenu" \r\n        [activeDomName]="\'tr\'" [beforeShowContextMenu]="onBeforeShowContextMenu"\r\n        [menuClass]="\'f-treetable-context-menu\'">\r\n        <ng-container *ngTemplateOutlet="tbodyrows"></ng-container>\r\n    </tbody>\r\n</ng-template>\r\n\r\n\x3c!--单行表头模板--\x3e\r\n<ng-template #headerCells let-cols let-firstRow="firstRow">\r\n    <ng-template ngFor let-col [ngForOf]="cols" let-i="index" let-first="first" let-last="last">\r\n        <th [resizable-column]="(!col.lastColumn || !last) && (!col.colspan || col.colspan == 1)" [style.textAlign]="col!.hAlign || \'left\'" #th \r\n            class="treetable-header-cell"\r\n            [class.f-treetable--fixed-left]="fixedColumns && col.fixed && col.fixed === \'left\'"\r\n            [class.f-treetable--fixed-right]="fixedColumns && col.fixed && col.fixed === \'right\'"\r\n            [attr.field]="col.field || \'\'"\r\n            [attr.r-tt-shadow-col]="col.rightShadowCol"\r\n            [attr.l-tt-shadow-col]="col.leftShadowCol"\r\n            [attr.colspan]="col.colspan" \r\n            [attr.rowspan]="col.rowspan"\r\n            [class.group-header-cell]="col.colspan && col.colspan > 1"\r\n            [attr.id]="col.id"\r\n            >\r\n      \r\n            <div class="d-flex" style="line-height: 1.25em;" [style.padding-right.px]="col.sortable ? 10: 0">\r\n                <ng-container *ngIf="!singleSelect && showCheckAll && first && showCheckbox && !last && firstRow">\r\n                    <tt-header-checkbox #allCheckbox></tt-header-checkbox>\r\n                </ng-container>\r\n                <ng-container *ngIf="col.headTemplate&& !col.headerComponentType"\r\n                    [ngTemplateOutlet]="col.headTemplate"\r\n                    [ngTemplateOutletContext]="{$implicit: { column: col}}">\r\n                </ng-container>\r\n                <ng-container *ngIf="!col.headTemplate && !col.headerComponentType">\r\n                    <span style="overflow: hidden;width: 100%;" *ngIf="!headerWrap">{{ col.title }}</span>\r\n                    <span style="white-space: pre-wrap;width: 100%;"  *ngIf="headerWrap">{{ col.title }}</span>\r\n                </ng-container>\r\n\r\n                <div class="flex-grow-1 text" *ngIf="col.headerComponentType" [component-template]="col" [templateType]="\'head\'" [ctx]="{ column: col}" [style.whiteSpace]="headerWrap ? \'pre-wrap\': \'\'"></div>\r\n\r\n\r\n                <ng-container *ngIf="col.sortable">\r\n                    <span class="f-treetable-sort"\r\n                        [class.f-treetable-sort-asc]="col.order === \'asc\'"\r\n                        [class.f-treetable-sort-desc]="col.order === \'desc\'"\r\n                        (click)="onSortColumnClick($event, col)" *ngIf="col.order"></span>\r\n                    <span class="f-treetable-sort" (click)="onSortColumnClick($event, col)" *ngIf="!col.order"></span>\r\n                </ng-container>\r\n\r\n            </div>\r\n        </th>\r\n    </ng-template>\r\n</ng-template>\r\n\r\n\x3c!--多行表头模板--\x3e\r\n<ng-template #groupHeader>\r\n    <tr *ngFor="let cols of groupColumns; first as isFirst">\r\n        <ng-container *ngTemplateOutlet="headerCells; context: {$implicit: cols, firstRow: isFirst}"></ng-container>\r\n    </tr>\r\n</ng-template>\r\n\r\n\r\n<ng-template #scorllview>\r\n    <div class="farris-treetable fixed" [attr.id]="id" [class.f-treetable--fixed-columns]="fixedColumns"\r\n        [class.farris-treetable-nowrap]="!nowrap" [class.table-bordered]="showBorder"\r\n        [ngClass]="{\'farris-treetable-disabled\': disabled}"\r\n        [class.farris-treetable-showlines]="showLinesOnHover && showLines" [style.width]="fit ? \'100%\': (width + \'px\')">\r\n        <div #headerBox class="farris-treetable-header" *ngIf="showHeader && columns" style="overflow: hidden; background-color: #f7f8fb">\r\n            <table #headerTable class="table" >\r\n                <colgroup *ngIf="!autoWidth">\r\n                    <ng-container *ngFor="let col of columns">\r\n                        <col *ngIf="columnIsVisible(col)" [style.width]="getRealColWidth(col)" />\r\n                    </ng-container>\r\n                </colgroup>\r\n                <thead class="farris-treetable-thead" [class.header-wrap]="headerWrap">\r\n                    <ng-container *ngIf="!headerTemplate">\r\n                        <tr *ngIf="!useGroupHeader; else groupHeader">\r\n                            <ng-container *ngTemplateOutlet="headerCells; context: {$implicit: columns, firstRow: true}"></ng-container>\r\n                        </tr>\r\n                        <tr *ngIf="enableFilterRow">\r\n                            <th *ngFor="let col of columns">\r\n                                <input autocomplete="off" type="text" class="form-control" name="{{ col.field }}" (input)="onFilterRowInput($event, col)" />\r\n                            </th>\r\n                        </tr>\r\n                    </ng-container>\r\n\r\n                    <ng-container *ngIf="headerTemplate">\r\n                        <ng-container *ngTemplateOutlet="headerTemplate; context: {$implicit: columns}"></ng-container>\r\n                    </ng-container>\r\n                </thead>\r\n            </table>\r\n            \x3c!-- 客户端查询定位工具条 --\x3e\r\n            <find-input *ngIf="showFindInput" [columns]="columns" [current]="findCurrent" [count]="findCount"\r\n                (valueChanged)="findKeyWords($event)" (close)="closeFindPanel()" (enterHandler)="nextFindValue($event)">\r\n            </find-input>\r\n\r\n        </div>\r\n\r\n        <div class="farris-treetable-body">\r\n            <perfect-scrollbar #perfectScrollbar [config]="{minScrollbarLength: 15}" (psScrollX)="onScrollX($event)"\r\n                (psScrollY)="onScrollY($event)" [style.height.px]="scorllBodyHeight">\r\n                <div *ngIf="topHideHeight && virtualized" [style.height.px]="topHideHeight"> </div>\r\n                <table #bodyTable class="table" [style.tableLayout]="autoWidth? \'auto\': \'fixed\'"\r\n                    [ngClass]="{\'table-striped\': striped, \'table-hover\': (hovered && serializedValue && serializedValue.length), \'f-table-norecords\': (!serializedValue || !serializedValue.length),\r\n                    \'h-100\': (!serializedValue || !serializedValue.length) }">\r\n                    <colgroup>\r\n                        <ng-container *ngFor="let col of columns">\r\n                            <col *ngIf="columnIsVisible(col)" [style.width]="getRealColWidth(col)" />\r\n                        </ng-container>\r\n                    </colgroup>\r\n\r\n                    <ng-container *ngIf="!serializedValue || !serializedValue.length">\r\n                        <tbody class="farris-treetable-tbody">\r\n                            <tr class="f-table-norecords-row">\r\n                                <td [attr.align]="\'center\'" class="farris-treetable-emptydata" [attr.colspan]="columns.length">\r\n                                    <div class="f-table-norecords-content" >\r\n                                        {{ \'treetable.emptyMessage\' | locale }}\r\n                                    </div>\r\n                                </td>\r\n                            </tr>\r\n                        </tbody>\r\n                    </ng-container>\r\n\r\n                    <ng-container *ngIf="serializedValue && serializedValue.length">\r\n                        <ng-container *ngIf="bodyTemplate">\r\n                            <tbody class="farris-treetable-tbody" treeTableBody [columns]="columns" [template]="bodyTemplate"></tbody>\r\n                        </ng-container>\r\n\r\n                        <ng-container #defaultBodyTemplate *ngIf="!bodyTemplate">\r\n                            <ng-container *ngTemplateOutlet="tbody"></ng-container>\r\n                        </ng-container>\r\n                    </ng-container>\r\n                </table>\r\n                <div *ngIf="bottomHideHeight && virtualized" [style.height.px]="bottomHideHeight"> </div>\r\n            </perfect-scrollbar>\r\n        </div>\r\n\r\n        \x3c!-- 分页条 --\x3e\r\n        <div *ngIf="pagination" #tablePager class="farris-table-pager" [ngStyle]=" { \'opacity\': (disabled ? 0.6 : 1), \'pointer-events\': (disabled? \'none\': \'\')  }">\r\n            <pagination-controls #pager [id]="paginationOptions?.id"\r\n                [maxSize]="pagerLabelSize" [directionLinks]="true"\r\n                [autoHide]="false" [responsive]="true"\r\n                [previousLabel]="\' \'" [nextLabel]="\' \'"\r\n                [showPageInfo]="showPageInfo" [showPageNumber]="showPageNumber" [showPageList]="showPageList"\r\n                (pageChange)="onPageChange($event)" [showGotoInput]="showGotoInput"\r\n                (pageSizeChange)="onPageSizeChange($event)"\r\n                >\r\n\r\n                \r\n            </pagination-controls>\r\n        </div>\r\n\r\n        <div #resizerHelper class="column-resizer-helper" *ngIf="resizableColumns"></div>\r\n    </div>\r\n</ng-template>\r\n\r\n<ng-template #nodespagerbar let-ctx>\r\n    <nodes-pager [context]="ctx" [disabled]="disabled" (pageChange)="onChildsPageChanged($event)" [showTotal]="showTotalForChildren"></nodes-pager>\r\n</ng-template>\r\n\r\n\r\n\r\n<div class="farris-treetable" [class.table-bordered]="showBorder" [attr.id]="id"\r\n    [class.farris-treetable-showlines]="showLinesOnHover && showLines" \r\n    [class.farris-treetable-nowrap]="!nowrap"  *ngIf="!fixedHeader; else scorllview">\r\n    <table class="table" [style.tableLayout]="autoWidth? \'auto\': \'fixed\'"\r\n        [ngClass]="{\'table-striped\': striped, \'table-hover\': (hovered && serializedValue && serializedValue.length), \'f-table-norecords\': (!serializedValue || !serializedValue.length),\r\n        \'h-100\': (!serializedValue || !serializedValue.length) }">\r\n        <thead class="farris-treetable-thead" *ngIf="showHeader" [class.header-wrap]="headerWrap">\r\n            <ng-container *ngIf="!headerTemplate && columns">\r\n                <th *ngFor="let col of columns;let isFirst=first" [style.textAlign]="col!.hAlign || \'left\'" class="treetable-header-cell" [attr.field]="col.field">\r\n                    <div class="d-flex">\r\n                        <ng-container *ngIf="!singleSelect && showCheckAll && isFirst && showCheckbox">\r\n                            <tt-header-checkbox #allCheckbox class="f-cmp-treetable-toggler"></tt-header-checkbox>\r\n                        </ng-container>\r\n\r\n                        <ng-container *ngIf="!col.headTemplate && !col.headComponentType">\r\n                            <div class="flex-grow-1 text" [style.whiteSpace]="headerWrap ? \'pre-wrap\': \'\'">{{col.title}}</div>\r\n                        </ng-container>\r\n        \r\n                        <ng-container *ngIf="col.headTemplate && !col.headComponentType"\r\n                            [ngTemplateOutlet]="col.headTemplate"\r\n                            [ngTemplateOutletContext]="{$implicit: { column: col}}">\r\n                        </ng-container>\r\n                        <div class="flex-grow-1 text" *ngIf="col.headerComponentType" [component-template]="col" [templateType]="\'head\'" [ctx]=" { column: col}" [style.whiteSpace]="headerWrap ? \'pre-wrap\': \'\'"></div>\r\n                    </div>\r\n                </th>\r\n            </ng-container>\r\n            <ng-container *ngIf="headerTemplate">\r\n                <ng-container *ngTemplateOutlet="headerTemplate; context: {$implicit: columns}"></ng-container>\r\n            </ng-container>\r\n        </thead>\r\n        <ng-container *ngIf="serializedValue && serializedValue.length">\r\n             \x3c!-- 客户端查询定位工具条 --\x3e\r\n             <find-input *ngIf="showFindInput" [current]="findCurrent" [count]="findCount"\r\n             (valueChanged)="findKeyWords($event)" (close)="closeFindPanel()"  [columns]="columns"\r\n             (enterHandler)="nextFindValue($event)"></find-input>\r\n            <ng-container *ngIf="bodyTemplate">\r\n                <tbody class="farris-treetable-tbody" treeTableBody [columns]="columns" [template]="bodyTemplate">\r\n                </tbody>\r\n            </ng-container>\r\n            <ng-container *ngIf="!bodyTemplate">\r\n                <ng-container *ngTemplateOutlet="tbody"></ng-container>\r\n            </ng-container>\r\n        </ng-container>\r\n        <ng-container *ngIf="!serializedValue || !serializedValue.length">\r\n            <tbody class="farris-treetable-tbody">\r\n                <tr class="f-table-norecords-row" style="height: 200px">\r\n                    <td [attr.align]="\'center\'" class="farris-treetable-emptydata" [attr.colspan]="columns.length">\r\n                        <div class="f-table-norecords-content" >\r\n                            {{ \'treetable.emptyMessage\' | locale }}\r\n                        </div>\r\n                    </td>\r\n                </tr>\r\n            </tbody>\r\n        </ng-container>\r\n    </table>\r\n</div>\r\n\r\n',exportAs:"treeTable",encapsulation:y.ViewEncapsulation.None,changeDetection:y.ChangeDetectionStrategy.OnPush,styles:["\n        .farris-treetable {\n            position: relative;\n        }\n        .resizable-column {\n            background-clip: padding-box;\n            position: relative;\n        }\n        .column-resizer {\n            display: block;\n            position: absolute!important;\n            top: 0;\n            right: 0;\n            margin: 0;\n            width: .5em;\n            height: 100%;\n            padding: 0;\n            cursor: col-resize;\n            border: 1px solid transparent;\n        }\n        .column-resizer-helper {\n            width: 1px;\n            position: absolute;\n            z-index: 10;\n            display: none;\n            border-right: 1px dashed #1890ff;\n        }\n\n        .farris-treetable-disabled .farris-treetable-body .table tr{\n            opacity: 0.4;\n            cursor: not-allowed;\n        }\n        .farris-treetable-disabled .table tr.farris-table-selectedrow{\n            opacity: 1;\n            cursor: default;\n        }\n\n        .custom-checkbox .custom-control-input:indeterminate~.custom-control-label::after {\n            background-image: url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 4 4'%3e%3cpath stroke='%23fff' d='M0 2h4'/%3e%3c/svg%3e\");\n            background-color: #1890ff;\n        }\n        .unselectable-text {\n            -webkit-user-select: none;\n            -moz-user-select: none;\n            -o-user-select: none;\n            -ms-user-select: none;\n            user-select: none\n        }\n        .search-highlight {\n            background-color: #FFFF1F;\n        }\n        .search-highlight.active{\n            background-color: #FF901C;\n        }\n\n        .f-treetable--fixed-columns .ps__rail-x, .f-treetable--fixed-columns .ps__rail-y {\n            z-index: 18;\n        }\n    "]}]}],H.ctorParameters=function(){return[{type:E},{type:y.ElementRef},{type:l.ResizeService},{type:y.Renderer2},{type:m.CommonUtils},{type:a.ColumnFormatService},{type:k},{type:y.ChangeDetectorRef},{type:y.NgZone},{type:y.Injector}]},H.propDecorators={width:[{type:y.Input}],height:[{type:y.Input}],showFilterBar:[{type:y.Input}],enableFilterRow:[{type:y.Input}],showSearchField:[{type:y.Input}],headerHeight:[{type:y.Input}],headerWrap:[{type:y.Input}],rowHeight:[{type:y.Input}],columns:[{type:y.Input}],groupColumns:[{type:y.Input}],useGroupHeader:[{type:y.Input}],fitColumns:[{type:y.Input}],autoFitColumns:[{type:y.Input}],searchFields:[{type:y.Input}],allColumnsTitle:[{type:y.Input}],searchAnyField:[{type:y.Input}],showLines:[{type:y.Input}],showLinesOnHover:[{type:y.Input}],multiSelect:[{type:y.Input}],singleSelect:[{type:y.Input}],showCheckbox:[{type:y.Input}],idField:[{type:y.Input}],showBorder:[{type:y.Input}],showCheckAll:[{type:y.Input}],showHeader:[{type:y.Input}],striped:[{type:y.Input}],hovered:[{type:y.Input}],disabled:[{type:y.Input}],disabledRow:[{type:y.Input}],loadDataType:[{type:y.Input}],fixedHeader:[{type:y.Input}],checkOnSelect:[{type:y.Input}],selectOnCheck:[{type:y.Input}],onlySelectSelf:[{type:y.Input}],resizableColumns:[{type:y.Input}],fit:[{type:y.Input}],cascadeCheck:[{type:y.Input}],cascadeDown:[{type:y.Input}],cascadeUp:[{type:y.Input}],emptyMessage:[{type:y.Input}],indentSpacing:[{type:y.Input}],keepSelect:[{type:y.Input}],virtualized:[{type:y.Input}],onlySelectLeaf:[{type:y.Input}],showIcon:[{type:y.Input}],leafIcon:[{type:y.Input}],expandIcon:[{type:y.Input}],collapseIcon:[{type:y.Input}],foldIcon:[{type:y.Input}],unfoldIcon:[{type:y.Input}],useIconFromData:[{type:y.Input}],whenDataIconEmptyUseDefault:[{type:y.Input}],iconField:[{type:y.Input}],iconCls:[{type:y.Input}],remoteSort:[{type:y.Input}],sortName:[{type:y.Input}],sortOrder:[{type:y.Input}],multiSort:[{type:y.Input}],beforeSortColumn:[{type:y.Input}],rowStyler:[{type:y.Input}],cellStyler:[{type:y.Input}],enableFindText:[{type:y.Input}],findField:[{type:y.Input}],expandLevel:[{type:y.Input}],selectValue:[{type:y.Input}],selectValueChange:[{type:y.Output}],dblClickExpand:[{type:y.Input}],useDblClick:[{type:y.Input}],selectValues:[{type:y.Input}],selectValuesChange:[{type:y.Output}],nowrap:[{type:y.Input}],checkValues:[{type:y.Input}],checkValuesChange:[{type:y.Output}],beforeNodeSelected:[{type:y.Input}],beforeNodeUnSelected:[{type:y.Input}],beforeNodeChecked:[{type:y.Input}],beforeNodeUnChecked:[{type:y.Input}],beforeCheckAll:[{type:y.Input}],beforeUnCheckAll:[{type:y.Input}],beforeClickNode:[{type:y.Input}],pagination:[{type:y.Input}],paginationForChildren:[{type:y.Input}],pagerViewMode:[{type:y.Input}],pagerOnServer:[{type:y.Input}],pageList:[{type:y.Input}],pageIndex:[{type:y.Input}],pageSize:[{type:y.Input}],pagerHeight:[{type:y.Input}],showPageList:[{type:y.Input}],showPageInfo:[{type:y.Input}],showPageNumber:[{type:y.Input}],pagerLabelSize:[{type:y.Input}],showGotoInput:[{type:y.Input}],showTotalForChildren:[{type:y.Input}],total:[{type:y.Input}],enableContextMenu:[{type:y.Input}],contextMenuItems:[{type:y.Input}],beforeShowContextMenu:[{type:y.Input}],pageSizeChanged:[{type:y.Output}],pageChanged:[{type:y.Output}],columnSorted:[{type:y.Output}],nodeSelected:[{type:y.Output}],nodeUnSelect:[{type:y.Output}],nodeChecked:[{type:y.Output}],nodeUnChecked:[{type:y.Output}],checkAll:[{type:y.Output}],unCheckAll:[{type:y.Output}],search:[{type:y.Output}],dblClick:[{type:y.Output}],loadedData:[{type:y.Output}],expand:[{type:y.Output}],collapse:[{type:y.Output}],expandAllNodes:[{type:y.Output}],collapseAllNodes:[{type:y.Output}],appendNew:[{type:y.Output}],removed:[{type:y.Output}],updated:[{type:y.Output}],clearSearchValue:[{type:y.Output}],cellClick:[{type:y.Output}],childsPageChanged:[{type:y.Output}],searchValueChange:[{type:y.Output}],loadedTimer:[{type:y.Input}],data:[{type:y.Input}],autoWidth:[{type:y.Input}],templates:[{type:y.ContentChildren,args:[m.FarrisTemplateDirective]}],columnsRef:[{type:y.ContentChildren,args:[z]}],headerBox:[{type:y.ViewChild,args:["headerBox"]}],resizerHelperVC:[{type:y.ViewChild,args:["resizerHelper"]}],headerTable:[{type:y.ViewChild,args:["headerTable"]}],bodyTable:[{type:y.ViewChild,args:["bodyTable"]}],inputGroup:[{type:y.ViewChild,args:["inputGroup"]}],psRef:[{type:y.ViewChild,args:[d.PerfectScrollbarComponent]}],allCheckbox:[{type:y.ViewChild,args:["allCheckbox"]}],nodesPagerBar:[{type:y.ViewChild,args:["nodespagerbar"]}],ctxMenu:[{type:y.ViewChild,args:[p.FarrisContextMenuDirective]}],onResized:[{type:y.HostListener,args:["window:resize"]}]},H);function H(e,t,n,i,s,o,r,l,a,d){var c=this;this.ttService=e,this.el=t,this.resizeSer=n,this.renderer=i,this.utils=s,this.colFormatSer=o,this.shortcuts=r,this.cdRef=l,this.ngZone=a,this.injector=d,this.id="",this.width=500,this.height=400,this.showFilterBar=!1,this.enableFilterRow=!1,this.showSearchField=!0,this.headerHeight=35,this.headerWrap=!1,this.rowHeight=29,this.columns=[],this._groupColumns=[],this.useGroupHeader=!1,this.fitColumns=!0,this.autoFitColumns=!1,this.allColumnsTitle="所有列",this.searchAnyField=!0,this.showLines=!1,this.showLinesOnHover=!1,this.multiSelect=!1,this.singleSelect=!0,this.showCheckbox=!1,this.showBorder=!0,this.showCheckAll=!0,this.showHeader=!0,this.striped=!1,this.hovered=!0,this.disabled=!1,this.loadDataType="all",this.fixedHeader=!1,this.checkOnSelect=!1,this.selectOnCheck=!1,this.onlySelectSelf=!1,this.resizableColumns=!0,this.fit=!1,this.cascadeCheck=!0,this.cascadeDown=!0,this.cascadeUp=!0,this.emptyMessage="暂无数据",this.indentSpacing=16,this.keepSelect=!0,this.virtualized=!1,this.onlySelectLeaf="default",this.showIcon=!1,this.leafIcon="file",this.expandIcon="folder-open",this.collapseIcon="folder",this.foldIcon="treetable-toggler",this.unfoldIcon="extanded treetable-toggler",this.useIconFromData=!1,this.whenDataIconEmptyUseDefault=!0,this.iconField="",this.remoteSort=!0,this.enableFindText=!1,this.expandLevel=-1,this.selectValue="",this.selectValueChange=new y.EventEmitter,this.dblClickExpand=!0,this.useDblClick=!0,this.selectValues=[],this.selectValuesChange=new y.EventEmitter,this.nowrap=!0,this.checkValues=[],this.checkValuesChange=new y.EventEmitter,this.pagination=!1,this.paginationForChildren=!1,this.pagerViewMode="default",this.pagerOnServer=!0,this.pageList=[10,20,30,50,100],this.pageIndex=1,this.pageSize=20,this.pagerHeight=56,this.showPageList=!1,this.showPageInfo=!0,this.showPageNumber=!0,this.pagerLabelSize=7,this.showGotoInput=!1,this.showTotalForChildren=!1,this.total=0,this.enableContextMenu=!1,this.contextMenuItems=[],this.pageSizeChanged=new y.EventEmitter,this.pageChanged=new y.EventEmitter,this.columnSorted=new y.EventEmitter,this.nodeSelected=new y.EventEmitter,this.nodeUnSelect=new y.EventEmitter,this.nodeChecked=new y.EventEmitter,this.nodeUnChecked=new y.EventEmitter,this.checkAll=new y.EventEmitter,this.unCheckAll=new y.EventEmitter,this.search=new y.EventEmitter,this.dblClick=new y.EventEmitter,this.loadedData=new y.EventEmitter,this.expand=new y.EventEmitter,this.collapse=new y.EventEmitter,this.expandAllNodes=new y.EventEmitter,this.collapseAllNodes=new y.EventEmitter,this.appendNew=new y.EventEmitter,this.removed=new y.EventEmitter,this.updated=new y.EventEmitter,this.clearSearchValue=new y.EventEmitter,this.cellClick=new y.EventEmitter,this.childsPageChanged=new y.EventEmitter,this.searchValueChange=new y.EventEmitter,this.loadedTimer=100,this._data=[],this.isLoadNewDataSetEmpty=!1,this.autoWidth=!1,this._selections=[],this.selectRowIndex=-1,this._selectedRow=null,this._checkeds=[],this.searchData={field:"*",value:""},this.searchButtonText='<i class="f-icon f-icon-search"></i>',this.showFindInput=!1,this.isDataChanged=!1,this.topHideHeight=0,this.bottomHideHeight=0,this.state={searchRowNodes:null,searched:!1,rowNodes:[],scrollY:0,scrollX:0},this.findValue="",this.findCount=0,this.findCurrent=0,this.findResult=[],this.ro=null,this.findKeysHandler=null,this._hotKeys=null,this.styleSheetId="treetable-style-",this.fast=!1,this.paginationOptions={id:"Farris-TreeTable-Pagination_",itemsPerPage:this.pageSize,currentPage:this.pageIndex,pageList:this.pageList,totalItems:this.total,remote:this.pagerOnServer},this.selectNodeChangedSubject=new g.BehaviorSubject(null),this._UUID="",this.fixedColumns=!1,this.destroy$=new g.Subject,this.farrisInstances=null,this.difference=function(e,n){return e.filter(function(t){return!n.some(function(e){return e==t})})},this.debugSer=null,this.filterRowConditions=null,this.onBeforeShowContextMenu=function(e){var s=e.contextMenuDom,t=e.event.target.id;if(s){t=c.trId2DataId(s);var o=c.findRowNode(t),n=g.of({show:!0});return c.beforeShowContextMenu&&(n=c.beforeShowContextMenu({data:o,tree:c})),n.pipe(f.switchMap(function(e){if(e.show){e.menus&&(c.contextMenuItems=e.menus,c.detectChanges());var t=s.closest(".farris-treetable").offsetWidth,n=s.offsetWidth,i=n<t?n:t;return g.of({show:!0,data:{data:o,tree:c},focusTargetWidth:i})}return g.of({show:!1})}))}return g.of({show:!1})},this.searchHandle=new T(this),this.scrollLoader=new I(this),this.injector&&(this._hotKeys=this.injector.get(k,null),this.localeService=this.injector.get(h.LocaleService,null),this.idService=this.injector.get(m.IdService,null),this.farrisInstances=this.injector.get(m.FarrisComponentInstanceService,null)),this.idService?(this._UUID=this.idService.uuid(),this.styleSheetId+=this.idService.uuid()):(this._UUID=(""+Math.random()).slice(2),this.styleSheetId+=(""+Math.random()).slice(2)),this.ttService=new E,this.debugSer=this.injector.get(m.DebugService,null),this.debugSer&&this.debugSer.useDebugMode()}var L=(P.decorators=[{type:y.Component,args:[{selector:"[treeTableBody]",template:'\n        <ng-template ngFor let-serializedNode let-rowIndex="index" [ngForOf]="tt.serializedValue">\n            <ng-container *ngIf="serializedNode.visible">\n                <ng-container\n                    *ngTemplateOutlet="template;\n                        context: {$implicit: serializedNode, node: serializedNode.node,\n                        rowData: serializedNode.node.data, rowIndex: rowIndex, columns: columns}">\n                </ng-container>\n            </ng-container>\n        </ng-template>\n    '}]}],P.ctorParameters=function(){return[{type:D}]},P.propDecorators={columns:[{type:y.Input}],template:[{type:y.Input}]},P);function P(e){this.tt=e}var A=(Object.defineProperty(_.prototype,"offsetWidth",{get:function(){return this.togglerEl.nativeElement.parentElement.offsetWidth},enumerable:!0,configurable:!0}),_.prototype.ngOnInit=function(){var t=this;this.treeNodeIcon=this.tt.getTreeIcon(this.rowNode.node),this.isShowTriangle=this.showTriangle(),this.noChilds=this.hasChildren();var e=this.tt.expand.subscribe(function(e){t.rowNode.id===e.data[t.tt.idField]&&(t.updateIcon(t.rowNode.node),t.tt.psRef&&t.tt.psRef.directiveRef.update(),t.tt.detectChanges())}),n=this.tt.collapse.subscribe(function(e){t.rowNode.id===e.data[t.tt.idField]&&(t.updateIcon(t.rowNode.node),t.tt.psRef&&t.tt.psRef.directiveRef.update(),t.tt.detectChanges())}),i=this.tt.appendNew.subscribe(function(e){e.parent&&(t.rowNode.id===e.parent.data[t.tt.idField]&&(!t.rowNode.node.leaf&&t.rowNode.node.leaf!==undefined||(t.rowNode.node.leaf=!1)),t.updateIcon(t.rowNode.node))});this.subscriptions=[e,n,i]},_.prototype.ngOnChanges=function(e){if(e.showLines&&!e.showLines.isFirstChange()&&(this.showLines?this.render.setStyle(this.togglerEl.nativeElement,"display",this.isShowTriangle?"":"none"):this.render.removeStyle(this.togglerEl.nativeElement,"display"),this.reSetLines()),e.rowNode&&!e.rowNode.isFirstChange()&&(this.updateIcon(this.rowNode.node),this.tt.showLines)){var t=0,n=0;e.rowNode.currentValue&&e.rowNode.currentValue.node.children&&(t=e.rowNode.currentValue.node.children.length),e.rowNode.previousValue&&e.rowNode.previousValue.node.children&&(n=e.rowNode.previousValue.node.children.length),t==n&&(t||n)||this.reSetLines()}},_.prototype.ngAfterViewInit=function(){var e=this;!this.tt.bodyTemplate&&this.showLines&&setTimeout(function(){e.reSetLines()})},_.prototype.ngDoCheck=function(){},_.prototype.ngAfterViewChecked=function(){},_.prototype.ngOnDestroy=function(){this.unAllSubscriptions()},_.prototype.unAllSubscriptions=function(){this.subscriptions.forEach(function(e){e.unsubscribe()}),this.subscriptions=[]},_.prototype.hasChildren=function(){var e=this.rowNode.node;return!1===e.leaf||0!==this.rowNode.level||e.children&&0<e.children.length},_.prototype.showTriangle=function(){var e=this.rowNode.node;return"all"===this.tt.loadDataType?!1===e.leaf||e.children&&0<e.children.length:!1===e.leaf},_.prototype.reSetLines=function(){if(this.togglerEl){var e=this.togglerEl.nativeElement.closest(".treetable-cell-content");if(e)for(var t=e.querySelectorAll(".treetable-lines"),n=0;n<t.length;n++)t[n].remove()}this._renderLines()},_.prototype._renderLines=function(){this.tt.bodyTemplate||this.showLines&&this.renderLines()},_.prototype.noLineStyle=function(){this.togglerEl&&(this.render.setStyle(this.togglerEl.nativeElement,"visibility",this.isShowTriangle?"visible":"hidden"),this.render.removeStyle(this.togglerEl.nativeElement,"display"))},_.prototype.renderLines=function(){var e=this.rowNode.level;if(this.togglerEl){var t=this.togglerEl.nativeElement.closest(".treetable-cell-content");if(t){var n=this.togglerEl.nativeElement.parentElement;0!==e||this.showTriangle()||this.createLeafNodeLines(n,t,!0);for(var i=0;i<e;i++){t.insertBefore(this.newLineElement(),n);var s=this.newLineElement(!1);t.insertBefore(s,n),this.showTriangle()||i!==e-1||this.createLeafNodeLines(n,t)}}}},_.prototype.newLineElement=function(e){void 0===e&&(e=!0);var t=this.render.createElement("div");return this.render.addClass(t,"treetable-lines"),this.showLines&&e&&this.render.addClass(t,"treetable-lines-border-color"),t},_.prototype.createLeafNodeLines=function(e,t,n){void 0===n&&(n=!1);var i=this.newLineElement(),s=this.newLineElement(!1);this.render.addClass(s,"treetable-lines-leaf");var o=this.render.createElement("div");if(this.showLines){var r="normal";this.rowNode.last&&(r="corner",this.render.removeClass(i,"treetable-lines-border-color")),s.appendChild(o),this.render.addClass(o,r),this.render.addClass(o,"treetable-lines-border-color")}t.insertBefore(i,e),t.insertBefore(s,e),n&&this.render.setStyle(s,"marginRight","3px")},_.prototype.registerClickEvent=function(){this.togglerEl&&this.render.listen(this.togglerEl.nativeElement,"click",this.onClick.bind(this))},_.prototype.onClick=function(e){return e.stopPropagation(),e.preventDefault(),this.rowNode.node.showLoading||this.tt.disabled||this.tt.toggleExpand(this.rowNode.node),!1},_.prototype.updateIcon=function(e){this.isShowTriangle=this.showTriangle(),this.noChilds=this.hasChildren(),this.treeNodeIcon=this.tt.getTreeIcon(e)},_.decorators=[{type:y.Component,args:[{selector:"farris-treeTableToggler",template:'\n    <a #toggler style="cursor: pointer"\n            class="treenode-fold" *ngIf="showLines"\n            [ngClass]="rowNode.node.expanded ? tt.unfoldIcon : tt.foldIcon"\n            [style.display]="isShowTriangle ? \'\' : \'none\'"\n            (click)="onClick($event)"></a>\n\n    <a #toggler style="cursor: pointer"\n            class="treenode-fold"  *ngIf="!showLines"\n            [ngClass]="rowNode.node.expanded ? tt.unfoldIcon : tt.foldIcon"\n            [style.marginLeft.px]="rowNode.level * indentSpacing"\n            [style.visibility]="isShowTriangle ? \'visible\' : \'hidden\'"\n            (click)="onClick($event)"></a>\n    <span class="tree-icon-line" [style.display]="isShowTriangle && showLines? \'\' : \'none\'"></span>\n    <span [style.display]="(tt.showIcon && rowNode.node.showIcon) ? \'inline-block\': \'none\'" class="treenode-icon" [ngClass]="treeNodeIcon"></span>\n\n    <tt-checkbox  [rowNode]="rowNode" *ngIf="tt.showCheckbox" [disabled]="disabled" [checked]="rowNode.isChecked" ></tt-checkbox>\n    ',encapsulation:y.ViewEncapsulation.None,exportAs:"ttToggler"}]}],_.ctorParameters=function(){return[{type:D},{type:y.NgZone},{type:y.Renderer2}]},_.propDecorators={cls:[{type:y.HostBinding,args:["class.f-cmp-treetable-toggler"]}],rowNode:[{type:y.Input}],disabled:[{type:y.Input}],showLines:[{type:y.Input}],indentSpacing:[{type:y.Input}],togglerEl:[{type:y.ViewChild,args:["toggler"]}]},_);function _(e,t,n){this.tt=e,this.ngzone=t,this.render=n,this.cls=!0,this.showLines=!1,this.indentSpacing=16,this.treeNodeIcon={},this.isShowTriangle=!1,this.noChilds=!1,this.subscriptions=[]}var M=(j.prototype.ngOnInit=function(){},j.prototype.ngOnChanges=function(e){},j.prototype.ngOnDestroy=function(){this.subscription&&(this.subscription.unsubscribe(),this.subscription=null)},j.prototype.ngDoCheck=function(){this.tt.bodyTemplate&&(this.tt.isSelected(this.rowNode.node)||this.render.removeClass(this.el.nativeElement,"farris-table-selectedrow"))},j.prototype.onclick=function(e){var t=this;this.isEnabled()&&(0!==this.delay?this.prevent||(this.prevent=!0,this.timer=setTimeout(function(){t.rowClick(e),t.prevent=!1},this.delay)):this.rowClick(e))},j.prototype.isEnabled=function(){return!this.tt.disabled&&!0!==this.selectRowDisabled},j.prototype.rowClick=function(t){var n=this;t.stopPropagation(),this.tt.beforeClickNode({instance:this.tt,rowNode:this.rowNode,event:t,type:"row"}).subscribe(function(e){e&&(n.tt.handleRowClick({originalEvent:t,rowNode:n.rowNode,rowIndex:n.rowIndex}),n.ngZone.runOutsideAngular(function(){n.toggleClass()}))})},j.prototype.toggleClass=function(){var t=this;this.tt.bodyTemplate||(this.tt.isSelected(this.rowNode.node)?(this.tt.singleSelect&&this.tt.el.nativeElement.querySelectorAll(".farris-treetable-tbody>tr.farris-table-selectedrow").forEach(function(e){t.render.removeClass(e,"farris-table-selectedrow")}),this.render.addClass(this.el.nativeElement,"farris-table-selectedrow")):this.tt.keepSelect||this.render.removeClass(this.el.nativeElement,"farris-table-selectedrow"))},j.decorators=[{type:y.Directive,args:[{selector:"[selectRow]",exportAs:"row"}]}],j.ctorParameters=function(){return[{type:D},{type:y.ElementRef},{type:y.Renderer2},{type:y.NgZone}]},j.propDecorators={rowNode:[{type:y.Input,args:["selectRow"]}],rowIndex:[{type:y.Input}],selectRowDisabled:[{type:y.Input}],delay:[{type:y.Input}],onclick:[{type:y.HostListener,args:["click",["$event"]]}]},j);function j(e,t,n,i){var s=this;this.tt=e,this.el=t,this.render=n,this.ngZone=i,this.prevent=!1,this.delay=0,this.subscription=this.tt.selectNodeChangedSubject.subscribe(function(e){e&&s.rowNode&&-1<e.split(",").indexOf(s.rowNode.id)&&(s.toggleClass(),s.rowNode.node.elementRef=s.el)})}var W=(B.prototype.ngOnInit=function(){},B.prototype.handleClick=function(t){var n=this;if(!this.disabled&&!this.tt.disabled){var e=this.checked?this.tt.beforeUnCheckAll:this.tt.beforeCheckAll;this.tt.checkall_CLICKED=!0,e({instance:this.tt,checked:!this.checked}).subscribe(function(e){n.chkAll.nativeElement.indeterminate=!1,n.checked=!n.checked,n.tt.toggleNodesWithCheckbox(t,n.checked),setTimeout(function(){n.tt.checkall_CLICKED=!1},50)})}return t.stopPropagation(),!1},B.decorators=[{type:y.Component,args:[{selector:"tt-header-checkbox",template:'\n    <div class="custom-control custom-checkbox  custom-control-inline tt-checkbox" style="top: -2px;">\n        <input type="checkbox" #chkAll class="custom-control-input"  [checked]="checked">\n        <label class="custom-control-label" (click)="handleClick($event)"></label>\n    </div>\n    ',styles:["\n        :host {\n            vertical-align: middle;\n        }\n        "]}]}],B.ctorParameters=function(){return[{type:D},{type:E}]},B.propDecorators={checked:[{type:y.Input}],disabled:[{type:y.Input}],checkedChange:[{type:y.Output}],chkAll:[{type:y.ViewChild,args:["chkAll"]}]},B);function B(e,t){this.tt=e,this.ttService=t,this.checkedChange=new y.EventEmitter}var U=($.prototype.ngOnDestroy=function(){this.destroy$.next(),this.destroy$.complete()},$.prototype.ngOnInit=function(){var t=this;this.chk.nativeElement.indeterminate=this.rowNode.indeterminate||!1,this.ttService.changeCheckboxStatus$.pipe(f.takeUntil(this.destroy$)).pipe(f.map(function(e){return e.id===t.rowNode.id?e:null})).subscribe(function(e){e&&(t.chk.nativeElement.indeterminate=e.indeterminate,t.checked=e.isChecked,t.chk.nativeElement.checked=t.checked)})},$.prototype.handleClick=function(t){var n=this;return t.stopPropagation(),this.disabled||this.tt.beforeClickNode({instance:this.tt,rowNode:this.rowNode,event:t,type:"checkbox"}).subscribe(function(e){e&&(n.checked=!n.checked,n.tt.singleSelect?(n.tt.clearAll(),n.checked?n.tt.selectNode(n.rowNode.id,!0):n.tt.unSelectNode(n.rowNode.id,!0)):n.tt.toggleNodeWithCheckbox(t,n.rowNode,n.checked))}),!1},$.decorators=[{type:y.Component,args:[{selector:"tt-checkbox",template:'\n    <div class="custom-control custom-checkbox  custom-control-inline tt-checkbox">\n        <input type="checkbox" #chk class="custom-control-input" [disabled]="disabled" [checked]="checked">\n        <label class="custom-control-label" (click)="handleClick($event)"></label>\n    </div>\n    ',styles:["\n        :host {\n            vertical-align: middle;\n        }\n        :host .custom-checkbox {\n            opacity: 1;\n            float: none;\n        }\n        "]}]}],$.ctorParameters=function(){return[{type:D},{type:E}]},$.propDecorators={cls1:[{type:y.HostBinding,args:["class.tree-toggler-checkbox"]}],checked:[{type:y.Input}],disabled:[{type:y.Input}],rowNode:[{type:y.Input}],checkedChange:[{type:y.Output}],chk:[{type:y.ViewChild,args:["chk"]}]},$);function $(e,t){this.tt=e,this.ttService=t,this.cls1=!0,this.checkedChange=new y.EventEmitter,this.destroy$=new g.Subject,this.ttService=this.tt.ttService}var G=(q.prototype.ngOnInit=function(){this.enableDblClick?this.selectRowDir.delay=200:this.selectRowDir.delay=0},q.prototype.ondblclick=function(e){var t=e.target.previousSibling;if(!t||"checkbox"!==t.type){if(this.tt.disabled)return!1;if(this.tt.multiSelect&&this.dblclickNode&&this.dblclickNode.node.leaf)return!1;var n=null;if(-1<e.target.className.indexOf("f-cmp-treetable-toggler")?n=e.target.querySelector(".treenode-fold"):-1<e.target.className.indexOf("treenode-fold")&&(n=e.target),n&&"visible"===n.style.visibility)return!1;if(this.selectRowDir&&(this.selectRowDir.prevent=!1,clearTimeout(this.selectRowDir.timer),this.selectRowDir.rowNode&&this.enableDblClick)){var i=this.selectRowDir.rowNode;i.node.children&&i.node.children.length&&!i.node.leaf&&this.tt.dblClickExpand&&this.tt.toggleExpand(i.node),this.tt.dblClick.emit(i.node)}}},q.decorators=[{type:y.Directive,args:[{selector:"[dblclick]"}]}],q.ctorParameters=function(){return[{type:D},{type:y.ElementRef},{type:E},{type:M,decorators:[{type:y.Optional},{type:y.Self}]}]},q.propDecorators={enableDblClick:[{type:y.Input,args:["dblclick"]}],dblclickNode:[{type:y.Input}],ondblclick:[{type:y.HostListener,args:["dblclick",["$event"]]}]},q);function q(e,t,n,i){this.tt=e,this.el=t,this.ttService=n,this.selectRowDir=i,this.enableDblClick=!1,this.ttService=this.tt.ttService}var K=(Z.prototype.ngOnInit=function(){this.col&&this.tt.fixedColumns&&this.tt.fixedHeader&&this.col.fixed&&"left"!==this.col.fixed&&"right"!==this.col.fixed||this.setRowStyle()},Z.prototype.setRowStyle=function(){var t=this,e=this.tt.rowStyler;if(e){var n=e(this.rowNode.node);if(n)if("object"==typeof n&&(n.style||n.cls))n.style&&Object.keys(n.style).forEach(function(e){t.render.setStyle(t.el.nativeElement,e,n.style[e])}),n.cls&&n.cls.split(",").forEach(function(e){t.render.addClass(t.el.nativeElement,e)});else if(Array.isArray(n)||"string"==typeof n){var i=this.tt.getRowCls(this.rowNode);i&&Object.keys(i).length&&Object.keys(i).forEach(function(e){i[e]&&t.render.addClass(t.el.nativeElement,e)})}else Object.keys(n).forEach(function(e){t.render.setStyle(t.el.nativeElement,e,n[e])})}},Z.prototype.ngOnChanges=function(e){e.rowNode&&!e.rowNode.isFirstChange()&&this.setRowStyle()},Z.decorators=[{type:y.Directive,args:[{selector:"[customRowStyle]"}]}],Z.ctorParameters=function(){return[{type:y.Injector},{type:y.NgZone},{type:y.ElementRef},{type:D},{type:m.CommonUtils},{type:y.Renderer2}]},Z.propDecorators={rowNode:[{type:y.Input,args:["customRowStyle"]}],col:[{type:y.Input,args:["field"]}]},Z);function Z(e,t,n,i,s,o){this.injector=e,this.ngZone=t,this.el=n,this.tt=i,this.utils=s,this.render=o}var X=(Y.prototype.ngOnInit=function(){this.tt&&this.tt.getCellCls&&this.setCellStyle(),this.tt.showBorder||1!==this.tt.columns.length||this.render.setStyle(this.el.nativeElement,"border-width","0px")},Y.prototype.setCellStyle=function(){var t=this,n=this.tt.getCellCls(this.rowNode,this.column.field);if(this.column&&this.column.styler){n&&Object.keys(n).length&&Object.keys(n).forEach(function(e){n[e]&&t.render.addClass(t.el.nativeElement,e)});var e=this.rowNode.node.data,i=this.column.styler(this.utils.getValue(this.column.field,e),e,this.rowIndex,this.rowNode);i&&(i.style||i.cls)&&(i.style&&Object.keys(i.style).forEach(function(e){t.render.setStyle(t.el.nativeElement,e,i.style[e])}),i.cls&&i.cls.split(",").forEach(function(e){"!"===e[0]?t.render.removeClass(t.el.nativeElement,e.substring(1)):t.render.addClass(t.el.nativeElement,e)}))}else{var s=n||{},o=this.tt.getRowCls(this.rowNode)||{},r=Object.keys(n).find(function(e){return-1<["background","background-color","backgroundcolor"].indexOf(e.toLowerCase())}),l=o;o.style&&(l=o.style);var a=s;s.style&&(a=s.style),s=r?Object.assign(l,a):Object.assign(a,l),Object.keys(s).forEach(function(e){t.render.setStyle(t.el.nativeElement,e,s[e])})}},Y.prototype.ngOnChanges=function(e){e.rowNode&&!e.rowNode.isFirstChange()&&this.setCellStyle()},Y.decorators=[{type:y.Directive,args:[{selector:"[customCellStyle]"}]}],Y.ctorParameters=function(){return[{type:y.Injector},{type:y.NgZone},{type:y.ElementRef},{type:D},{type:m.CommonUtils},{type:y.Renderer2}]},Y.propDecorators={column:[{type:y.Input,args:["customCellStyle"]}],rowNode:[{type:y.Input}],rowIndex:[{type:y.Input}]},Y);function Y(e,t,n,i,s,o){this.injector=e,this.ngZone=t,this.el=n,this.tt=i,this.utils=s,this.render=o}var J=(Q.prototype.ngAfterViewInit=function(){var e=this;this.isEnable()&&(this.render.addClass(this.el.nativeElement,"resizable-column"),this.resizer=document.createElement("span"),this.resizer.className="column-resizer",this.el.nativeElement.appendChild(this.resizer),this.ngzone.runOutsideAngular(function(){e.resizerMouseDownListener=e.onMouseDown.bind(e),e.resizer.addEventListener("mousedown",e.resizerMouseDownListener),e.el.nativeElement.addEventListener("mouseenter",e.onMouseEnter.bind(e))}))},Q.prototype.ngOnChanges=function(e){e.enableResize&&!e.enableResize.isFirstChange()&&!this.isEnable()&&this.resizer&&this.resizer.remove()},Q.prototype.isEnable=function(){return this.tt.resizableColumns&&!this.tt.autoWidth&&this.enableResize},Q.prototype.bindDocumentEvents=function(){var e=this;this.ngzone.runOutsideAngular(function(){e.documentMouseMoveListener=e.onMouseMove.bind(e),document.addEventListener("mousemove",e.documentMouseMoveListener),e.documentMouseUpListener=e.onMouseUp.bind(e),document.addEventListener("mouseup",e.documentMouseUpListener)})},Q.prototype.unbindDocumentEvents=function(){this.documentMouseMoveListener&&(document.removeEventListener("mousemove",this.documentMouseMoveListener),this.documentMouseMoveListener=null),this.documentMouseUpListener&&(document.removeEventListener("mouseup",this.documentMouseUpListener),this.documentMouseUpListener=null)},Q.prototype.onMouseDown=function(e){this.isEnable()&&(this.tt.onColumnResizeBegin(e),this.bindDocumentEvents())},Q.prototype.onMouseEnter=function(){},Q.prototype.onMouseMove=function(e){this.tt.onColumnResize(e)},Q.prototype.onMouseUp=function(e){this.tt.onColumnResizeEnd(e,this.el.nativeElement),this.unbindDocumentEvents()},Q.prototype.ngOnDestroy=function(){this.resizerMouseDownListener&&this.resizer.removeEventListener("mousedown",this.resizerMouseDownListener),this.unbindDocumentEvents()},Q.decorators=[{type:y.Directive,args:[{selector:"[resizable-column]"}]}],Q.ctorParameters=function(){return[{type:D},{type:y.NgZone},{type:y.ElementRef},{type:y.Renderer2}]},Q.propDecorators={enableResize:[{type:y.Input,args:["resizable-column"]}]},Q);function Q(e,t,n,i){this.tt=e,this.ngzone=t,this.el=n,this.render=i,this.enableResize=!0}var ee=(te.prototype.ngOnInit=function(){var t=this;this.columns.length&&(this.columns=this.columns.filter(function(e){return!e.formatter&&e.field}),this.findField=this.columns[0].field),this.ngZone.runOutsideAngular(function(){t.keyupEventSub=g.fromEvent(t.input.nativeElement,"keyup").pipe(f.filter(function(e){return 13!==(e["switch"]||e.keyCode)}),f.debounceTime(200),f.map(function(e){return e.target.value})).subscribe(function(e){t.valueChanged.emit({value:e,field:t.findField})})})},te.prototype.ngAfterViewInit=function(){this.input.nativeElement.focus()},te.prototype.ngOnDestroy=function(){this.keyupEventSub&&this.keyupEventSub.unsubscribe(),this.keyupEventSub=null},te.prototype.onClose=function(e){return this.close.emit(),!1},te.prototype.onEnter=function(e,t){return this.enterHandler.emit(t),!1},te.decorators=[{type:y.Component,args:[{selector:"find-input",template:'\n        <div class="f-find-input" style="">\n            <div class="input-group">\n                <div class="input-group-prepend">\n                    <select class="form-control" [(ngModel)]="findField">\n                        <option *ngFor="let col of columns" value="{{col.field}}">{{ col.title }}</option>\n                    </select>\n                </div>\n                <input #input type="text" placeholder="至少2个字符" class="form-control"\n                    (keydown.esc)="onClose($event)" (keydown.enter)="onEnter($event, 0)">\n                <div class="input-group-append">\n                    <span class="input-group-text">{{current}}/{{count}}</span>\n                    <button class="btn btn-outline-secondary" type="button" title="上一个"\n                        [disabled]="current === 0" (click)="onEnter($event, -1)">\n                        <span class="f-icon f-icon-arrow-chevron-up"></span>\n                    </button>\n                    <button class="btn btn-outline-secondary" type="button" title="下一个"\n                    [disabled]="current === count" (click)="onEnter($event, 1)">\n                        <span class="f-icon f-icon-arrow-chevron-down"></span>\n                    </button>\n                    <button class="btn btn-outline-secondary" type="button" title="关闭" (click)="onClose($event)">\n                        <span class="f-icon f-icon-close"></span>\n                    </button>\n                </div>\n            </div>\n        </div>\n    ',styles:["\n        .f-find-input {\n            width: 300px; height: 40px; background: #fefefe; position: absolute; right: 0; z-index: 10; padding: 5px;\n            box-shadow: 0px 1px 7px 0px #bdbdbd;\n            border-radius: 6px;\n        }\n        .f-find-input .input-group-text { border-right: 1px solid #ccc; font-size: 10px }\n        .f-find-input .input-group-append { background: #fff; }\n        .f-find-input .input-group-append button { padding:1px 6px;}\n        .f-find-input .input-group-append button span{position: relative; top: 2px;}\n        "]}]}],te.ctorParameters=function(){return[{type:y.ElementRef},{type:y.NgZone},{type:y.Injector}]},te.propDecorators={current:[{type:y.Input}],count:[{type:y.Input}],columns:[{type:y.Input}],close:[{type:y.Output}],valueChanged:[{type:y.Output}],enterHandler:[{type:y.Output}],input:[{type:y.ViewChild,args:["input"]}]},te);function te(e,t,n){this.el=e,this.ngZone=t,this.injector=n,this.current=0,this.count=0,this.columns=[],this.close=new y.EventEmitter,this.valueChanged=new y.EventEmitter,this.enterHandler=new y.EventEmitter,this.findField="",this.keyupEventSub=null}var ne=(Object.defineProperty(ie.prototype,"pagers",{get:function(){var e=this.getPagerCount();return e?new Array(e):[]},enumerable:!0,configurable:!0}),ie.prototype.ngOnInit=function(){this.setPagerInfo()},ie.prototype.ngOnChanges=function(e){e.context&&!e.context.isFirstChange()&&this.setPagerInfo()},ie.prototype.setPagerInfo=function(){if(this.context){var e=this.context.node;e&&e.pagination&&(this.pagerInfo=v({},e.pagination),this.showPager.next(e.expanded&&e.pagination))}},ie.prototype.getPagerCount=function(){var e=this.pagerInfo,t=e.pageSize,n=e.total;return n?Math.ceil(n/t):0},ie.prototype.isFirstPager=function(){return 1===this.pagerInfo.pageIndex},ie.prototype.isLastPager=function(){return this.pagerInfo.pageIndex===this.getPagerCount()},ie.prototype.previous=function(e){e.stopPropagation(),this.setCurrent(this.pagerInfo.pageIndex-1,this.pagerInfo.pageSize)},ie.prototype.next=function(e){e.stopPropagation(),this.setCurrent(this.pagerInfo.pageIndex+1,this.pagerInfo.pageSize)},ie.prototype.setCurrent=function(e,t,n){n&&n.stopPropagation(),this.pageChange.emit({pageIndex:e,pageSize:t,node:this.context.node,context:this.context})},ie.prototype.pagerChanged=function(e){this.setCurrent(e,this.pagerInfo.pageSize)},ie.decorators=[{type:y.Component,args:[{selector:"nodes-pager",template:'\r\n<div style="justify-content: center;align-items: center;height: 100%;left: -6px;position: relative;" class="d-flex f-utils-fill" *ngIf="showPager | async"  [ngStyle]=" { \'opacity\': (disabled ? 0.6 : 1), \'pointer-events\': (disabled? \'none\': \'\')  }">\r\n    <ul class="treetable-nodes-pagerbar d-flex"  (click)="$event.stopPropagation()" >\r\n        <li class="pageinfo d-flex flex-row" >\r\n            <div class="page-number-list">\r\n                <div style="display: inline-block;">\r\n                    {{pagerInfo.pageIndex}}\r\n                </div>\r\n                <select #pagerList class="page-index" hidefocus="true" [ngModel]="pagerInfo.pageIndex" (ngModelChange)="pagerChanged($event)">\r\n                    <option *ngFor="let t of pagers;let i=index" [ngValue]="i + 1">{{i + 1}}</option>\r\n                </select>\r\n            </div>\r\n           / {{ getPagerCount() }}</li>\r\n        <li class="pager-btn prev" [class.disabled]="isFirstPager()" (click)="previous($event)" title="{{ \'pagination.previous\'|locale: \'上一页\' }}">\r\n            <span class="f-icon f-icon-arrow-chevron-left"></span>\r\n        </li>\r\n        <li class="pager-btn next"  [class.disabled]="isLastPager()" (click)="next($event)" title="{{ \'pagination.next\'|locale: \'下一页\' }}">\r\n            <span class="f-icon f-icon-arrow-chevron-right"></span>\r\n        </li>\r\n        <li class="ml-2" *ngIf="showTotal">\r\n            {{pagerInfo?.total}}\r\n        </li>\r\n    </ul>\r\n\r\n</div>',styles:["\n        .treetable-nodes-pagerbar { height: 22px; line-height: 22px; list-style: none}\n        .treetable-nodes-pagerbar li { float: left; box-sizing: border-box; }\n        .treetable-nodes-pagerbar .pager-btn {\n            width: 22px;\n            height: 22px;\n            text-align: center;\n            border: 1px solid #ccc;\n            background: rgb(248 249 250);\n            cursor: pointer;\n        }\n        .treetable-nodes-pagerbar .pager-btn:hover {\n            background: white;\n        }\n        .treetable-nodes-pagerbar .prev {}\n        .treetable-nodes-pagerbar .next {\n            border-left: 0;\n        }\n\n        .pager-btn.disabled{\n            color: rgb(204 204 204);\n            pointer-events: none;\n        }\n        .treetable-nodes-pagerbar .pageinfo {\n            margin-right: 5px;\n            padding-left: 0;\n            font-weight: 400;\n            padding-right: 5px;\n        }\n\n        .treetable-nodes-pagerbar .page-index {\n            border: 0;\n            background: transparent;\n            outline: none;\n            appearance: none;\n            padding-left: 5px;\n            min-width: 50px;\n            position: absolute;\n            height: 20px;\n            text-align: left;\n            opacity: 0;\n            left: 0;\n        }\n\n        .treetable-nodes-pagerbar .page-number-list {\n            height: 20px;\n            min-width: 30px;\n            max-width: 50px;\n            overflow: hidden;\n            text-align: center;\n            position: relative;\n            border-bottom: 1px solid #ced4da;\n        }\n        "]}]}],ie.ctorParameters=function(){return[{type:D},{type:y.ChangeDetectorRef},{type:y.Injector}]},ie.propDecorators={disabled:[{type:y.Input}],context:[{type:y.Input}],pagerListEl:[{type:y.ViewChild,args:["pagerList"]}],pageChange:[{type:y.Output}],showTotal:[{type:y.Input}]},ie);function ie(e,t,n){var i=this;this.tt=e,this.cd=t,this.injector=n,this.disabled=!1,this.pageChange=new y.EventEmitter,this.showTotal=!1,this.showPager=new g.BehaviorSubject(!1),this.pagerInfo=null,this.tt&&(this.tt.expand.pipe(f.filter(function(e){return e.id===i.context.node.id&&e.pagination&&e.children.filter(function(e){return!e.__childs_loading__}).length})).subscribe(function(e){i.pagerInfo=v({},e.pagination),i.showPager.next(!0)}),this.tt.appendNew.subscribe(function(e){var t=e.parent;t.id===i.context.node.id&&t.pagination&&(i.pagerInfo=v({},t.pagination),i.showPager.next(!0))}),this.tt.collapse.subscribe(function(e){e.id===i.context.node.id&&i.showPager.next(!1)}))}var se=(oe.prototype.ngOnInit=function(){},oe.decorators=[{type:y.Component,args:[{selector:"childs-loading",template:'\n    <div class="loading">\n        <span></span>\n        <span></span>\n        <span></span>\n        <span></span>\n        <span></span>\n    </div>\n    ',styles:["\n        .loading{\n            width: 150px;\n            height: 10px;\n            margin: 0 auto;\n            margin-top:10px;\n            margin-bottom: 20px;\n        }\n        .loading span{\n            display: inline-block;\n            width: 10px;\n            height: 100%;\n            margin-right: 5px;\n            border-radius: 50%;\n            background: #59a1ff;\n            -webkit-animation: load 1.04s ease infinite;\n        }\n        .loading span:last-child{\n            margin-right: 0px;\n        }\n        @-webkit-keyframes load{\n            0%{\n                opacity: 1;\n                -webkit-transform: scale(1.3);\n            }\n            100%{\n                opacity: 0.2;\n                -webkit-transform: scale(.3);\n            }\n        }\n        .loading span:nth-child(1){\n            -webkit-animation-delay:0.13s;\n        }\n        .loading span:nth-child(2){\n            -webkit-animation-delay:0.26s;\n        }\n        .loading span:nth-child(3){\n            -webkit-animation-delay:0.39s;\n        }\n        .loading span:nth-child(4){\n            -webkit-animation-delay:0.52s;\n        }\n        .loading span:nth-child(5){\n            -webkit-animation-delay:0.65s;\n        }\n        "]}]}],oe.ctorParameters=function(){return[]},oe);function oe(){}var re=(le.prototype.transform=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return e.showTips?this.getCellTooltipContent(e,t[0]):""},le.prototype.getCellTooltipContent=function(e,t){var n=this.commonUtils.getValue(e.field,t.data);return e.tipContent?"string"==typeof e.tipContent?n=e.tipContent:"function"==typeof e.tipContent&&(n=e.tipContent(n,t.data,e)):e.formatter&&"object"==typeof e.formatter&&"enum"===e.formatter.type&&(n=this.commonUtils.getEnumTitleFromColumnOptions(n,e.formatter.options)),n},le.decorators=[{type:y.Pipe,args:[{name:"tipmsg"}]}],le.ctorParameters=function(){return[{type:m.CommonUtils}]},le);function le(e){this.commonUtils=e}var ae=(de.prototype.transform=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=!e.selectable,s=!1;return!!(t&&t.length&&(t[0]&&(s=t[0]({node:e})),t[1]))||i||s},de.decorators=[{type:y.Pipe,args:[{name:"disablenode"}]}],de);function de(){}var ce=(he.decorators=[{type:y.NgModule,args:[{imports:[t.CommonModule,n.FormsModule,m.FarrisCommonModule.forRoot(),d.PerfectScrollbarModule,i.InputGroupModule,h.LocaleModule.forRoot(),a.DataColumnModule.forRoot(),s.PaginationModule,p.FarrisContextMenuModule,o.FarrisFormsModule],declarations:[D,L,A,M,U,W,G,J,z,X,ee,C,K,ne,se,re,ae],exports:[D,L,A,M,U,W,G,J,m.FarrisCommonModule,X,z,C,K,ne,se,re,ae,p.FarrisContextMenuModule],providers:[E,l.ResizeService,k]}]}],he);function he(){}e.TreetableService=E,e.FindInputComponent=ee,e.HighlightPipe=C,e.TTHotkeys=k,e.TreetableNodesPagerComponent=ne,e.ChildsLoadingComponent=se,e.CellTipsPipe=re,e.DisableNodePipe=ae,e.TreeTableModule=ce,e.TreeTableColumnDirective=z,e.TreeTableComponent=D,e.TTBodyComponent=L,e.TreeTableTogglerComponent=A,e.TreeTableSelectRowDirective=M,e.TreeTableHeaderCheckboxComponent=W,e.TreeTableCheckboxComponent=U,e.DblClickRowDirective=G,e.CustomRowStyleDirective=K,e.TTCustomCellStyleDirective=X,e.TTResizableColumnDirective=J,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=farris-ui-treetable.umd.min.js.map