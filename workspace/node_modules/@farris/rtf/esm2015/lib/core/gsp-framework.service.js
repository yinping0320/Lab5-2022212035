/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
export class GSPFrameworkService {
    /**
     * 获取gspFramework服务
     * @return {?}
     */
    static getGSPFrameworkService() {
        if (this.gspFrameworkService) {
            return this.gspFrameworkService;
        }
        /** @type {?} */
        let env = window;
        while (!(env['gspframeworkService'] && env['gspframeworkService']['common']) && this.isSameOrigin(env) && env !== window.top) {
            env = env.parent;
        }
        this.gspFrameworkService = env['gspframeworkService'];
        return this.gspFrameworkService;
    }
    /**
     * @private
     * @param {?} environment
     * @return {?}
     */
    static isSameOrigin(environment) {
        /** @type {?} */
        const host = window.location.host;
        try {
            if (environment && environment.location && typeof environment.location.host !== 'undefined') {
                return environment.location.host === host;
            }
        }
        catch (e) {
            return false;
        }
        return false;
    }
}
GSPFrameworkService.gspFrameworkService = null;
if (false) {
    /**
     * @type {?}
     * @private
     */
    GSPFrameworkService.gspFrameworkService;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZ3NwLWZyYW1ld29yay5zZXJ2aWNlLmpzIiwic291cmNlUm9vdCI6Im5nOi8vQGZhcnJpcy9ydGYvIiwic291cmNlcyI6WyJsaWIvY29yZS9nc3AtZnJhbWV3b3JrLnNlcnZpY2UudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7OztBQUVBLE1BQU0sT0FBTyxtQkFBbUI7Ozs7O0lBTXZCLE1BQU0sQ0FBQyxzQkFBc0I7UUFDbEMsSUFBSSxJQUFJLENBQUMsbUJBQW1CLEVBQUU7WUFDNUIsT0FBTyxJQUFJLENBQUMsbUJBQW1CLENBQUM7U0FDakM7O1lBQ0csR0FBRyxHQUFXLE1BQU07UUFDeEIsT0FBTyxDQUFDLENBQUMsR0FBRyxDQUFDLHFCQUFxQixDQUFDLElBQUksR0FBRyxDQUFDLHFCQUFxQixDQUFDLENBQUMsUUFBUSxDQUFDLENBQUMsSUFBSSxJQUFJLENBQUMsWUFBWSxDQUFDLEdBQUcsQ0FBQyxJQUFJLEdBQUcsS0FBSyxNQUFNLENBQUMsR0FBRyxFQUFFO1lBQzVILEdBQUcsR0FBRyxHQUFHLENBQUMsTUFBTSxDQUFDO1NBQ2xCO1FBQ0QsSUFBSSxDQUFDLG1CQUFtQixHQUFHLEdBQUcsQ0FBQyxxQkFBcUIsQ0FBQyxDQUFDO1FBQ3RELE9BQU8sSUFBSSxDQUFDLG1CQUFtQixDQUFDO0lBQ2xDLENBQUM7Ozs7OztJQUVPLE1BQU0sQ0FBQyxZQUFZLENBQUMsV0FBbUI7O2NBQ3ZDLElBQUksR0FBRyxNQUFNLENBQUMsUUFBUSxDQUFDLElBQUk7UUFDakMsSUFBSTtZQUNGLElBQUksV0FBVyxJQUFJLFdBQVcsQ0FBQyxRQUFRLElBQUksT0FBTyxXQUFXLENBQUMsUUFBUSxDQUFDLElBQUksS0FBSyxXQUFXLEVBQUU7Z0JBQzNGLE9BQU8sV0FBVyxDQUFDLFFBQVEsQ0FBQyxJQUFJLEtBQUssSUFBSSxDQUFDO2FBQzNDO1NBQ0Y7UUFBQyxPQUFPLENBQUMsRUFBRTtZQUNWLE9BQU8sS0FBSyxDQUFDO1NBQ2Q7UUFFRCxPQUFPLEtBQUssQ0FBQztJQUNmLENBQUM7O0FBNUJjLHVDQUFtQixHQUF5QixJQUFJLENBQUM7Ozs7OztJQUFoRSx3Q0FBZ0UiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJR1NQRnJhbWV3b3JrU2VydmljZSB9IGZyb20gXCIuLi90eXBlc1wiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEdTUEZyYW1ld29ya1NlcnZpY2Uge1xyXG4gIHByaXZhdGUgc3RhdGljIGdzcEZyYW1ld29ya1NlcnZpY2U6IElHU1BGcmFtZXdvcmtTZXJ2aWNlID0gbnVsbDtcclxuICAvKipcclxuICAgKiDojrflj5Znc3BGcmFtZXdvcmvmnI3liqFcclxuICAgKiBAcmV0dXJuc1xyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgZ2V0R1NQRnJhbWV3b3JrU2VydmljZSgpOiBJR1NQRnJhbWV3b3JrU2VydmljZSB7XHJcbiAgICBpZiAodGhpcy5nc3BGcmFtZXdvcmtTZXJ2aWNlKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLmdzcEZyYW1ld29ya1NlcnZpY2U7XHJcbiAgICB9XHJcbiAgICBsZXQgZW52OiBXaW5kb3cgPSB3aW5kb3c7XHJcbiAgICB3aGlsZSAoIShlbnZbJ2dzcGZyYW1ld29ya1NlcnZpY2UnXSAmJiBlbnZbJ2dzcGZyYW1ld29ya1NlcnZpY2UnXVsnY29tbW9uJ10pICYmIHRoaXMuaXNTYW1lT3JpZ2luKGVudikgJiYgZW52ICE9PSB3aW5kb3cudG9wKSB7XHJcbiAgICAgIGVudiA9IGVudi5wYXJlbnQ7XHJcbiAgICB9XHJcbiAgICB0aGlzLmdzcEZyYW1ld29ya1NlcnZpY2UgPSBlbnZbJ2dzcGZyYW1ld29ya1NlcnZpY2UnXTtcclxuICAgIHJldHVybiB0aGlzLmdzcEZyYW1ld29ya1NlcnZpY2U7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIHN0YXRpYyBpc1NhbWVPcmlnaW4oZW52aXJvbm1lbnQ6IFdpbmRvdykge1xyXG4gICAgY29uc3QgaG9zdCA9IHdpbmRvdy5sb2NhdGlvbi5ob3N0O1xyXG4gICAgdHJ5IHtcclxuICAgICAgaWYgKGVudmlyb25tZW50ICYmIGVudmlyb25tZW50LmxvY2F0aW9uICYmIHR5cGVvZiBlbnZpcm9ubWVudC5sb2NhdGlvbi5ob3N0ICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgIHJldHVybiBlbnZpcm9ubWVudC5sb2NhdGlvbi5ob3N0ID09PSBob3N0O1xyXG4gICAgICB9XHJcbiAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbiAgfVxyXG59XHJcbiJdfQ==