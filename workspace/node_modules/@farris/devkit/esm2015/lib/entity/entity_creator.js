import { EntityTypeCreator } from './entity_type_creator';
/**
 * 创建实体
 * @param entityType 实体类型
 * @param entityData 实体数据
 */
export function createEntity(entityType, entityData) {
    let entity;
    if (entityType && entityType.prototype && entityType.prototype.typeName === 'ConcreteEntityPrototype') {
        entity = new entityType(entityData);
    }
    else {
        entity = EntityTypeCreator.create(entityType, entityData); //new entityType(entityData); 
    }
    entity.constructor = entityType;
    return entity;
}
/**
 * 批量创建实体
 * @param entityType     实体类型
 * @param entityListData 实体数据数组
 */
export function createEntities(entityType, entityListData) {
    const entities = [];
    entityListData.forEach((entityData) => {
        const entity = createEntity(entityType, entityData);
        entities.push(entity);
    });
    return entities;
}
/**
 * 已弃用：请使用createEntity方法代替。
 */
export function EntityFactory(T, data) {
    const entity = new T(data);
    return entity;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZW50aXR5X2NyZWF0b3IuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9AZmFycmlzL2RldmtpdC8iLCJzb3VyY2VzIjpbImxpYi9lbnRpdHkvZW50aXR5X2NyZWF0b3IudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBRUEsT0FBTyxFQUFFLGlCQUFpQixFQUFFLE1BQU0sdUJBQXVCLENBQUM7QUFFMUQ7Ozs7R0FJRztBQUNILE1BQU0sVUFBVSxZQUFZLENBQW1CLFVBQXFCLEVBQUUsVUFBZTtJQUNuRixJQUFJLE1BQVcsQ0FBQztJQUNoQixJQUFJLFVBQVUsSUFBSSxVQUFVLENBQUMsU0FBUyxJQUFJLFVBQVUsQ0FBQyxTQUFTLENBQUMsUUFBUSxLQUFLLHlCQUF5QixFQUFFO1FBQ3JHLE1BQU0sR0FBRyxJQUFJLFVBQVUsQ0FBQyxVQUFVLENBQUMsQ0FBQztLQUNyQztTQUFNO1FBQ0wsTUFBTSxHQUFHLGlCQUFpQixDQUFDLE1BQU0sQ0FBQyxVQUFVLEVBQUUsVUFBVSxDQUFDLENBQUMsQ0FBQSw4QkFBOEI7S0FDekY7SUFDRCxNQUFNLENBQUMsV0FBVyxHQUFHLFVBQVUsQ0FBQztJQUNoQyxPQUFPLE1BQU0sQ0FBQztBQUNoQixDQUFDO0FBRUQ7Ozs7R0FJRztBQUNILE1BQU0sVUFBVSxjQUFjLENBQW1CLFVBQXFCLEVBQUUsY0FBbUI7SUFDekYsTUFBTSxRQUFRLEdBQVEsRUFBRSxDQUFDO0lBQ3pCLGNBQWMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxVQUFlLEVBQUUsRUFBRTtRQUN6QyxNQUFNLE1BQU0sR0FBRyxZQUFZLENBQUksVUFBVSxFQUFFLFVBQVUsQ0FBQyxDQUFDO1FBQ3ZELFFBQVEsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUM7SUFDeEIsQ0FBQyxDQUFDLENBQUM7SUFDSCxPQUFPLFFBQVEsQ0FBQztBQUNsQixDQUFDO0FBRUQ7O0dBRUc7QUFDSCxNQUFNLFVBQVUsYUFBYSxDQUFtQixDQUE4QixFQUFFLElBQVM7SUFDdkYsTUFBTSxNQUFNLEdBQUcsSUFBSSxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDM0IsT0FBTyxNQUFNLENBQUM7QUFDaEIsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFR5cGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuaW1wb3J0IHsgRW50aXR5IH0gZnJvbSAnLi9lbnRpdHknO1xyXG5pbXBvcnQgeyBFbnRpdHlUeXBlQ3JlYXRvciB9IGZyb20gJy4vZW50aXR5X3R5cGVfY3JlYXRvcic7XHJcblxyXG4vKipcclxuICog5Yib5bu65a6e5L2TXHJcbiAqIEBwYXJhbSBlbnRpdHlUeXBlIOWunuS9k+exu+Wei1xyXG4gKiBAcGFyYW0gZW50aXR5RGF0YSDlrp7kvZPmlbDmja5cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVFbnRpdHk8VCBleHRlbmRzIEVudGl0eT4oZW50aXR5VHlwZTogVHlwZTxhbnk+LCBlbnRpdHlEYXRhOiBhbnkpOiBUIHtcclxuICBsZXQgZW50aXR5OiBhbnk7XHJcbiAgaWYgKGVudGl0eVR5cGUgJiYgZW50aXR5VHlwZS5wcm90b3R5cGUgJiYgZW50aXR5VHlwZS5wcm90b3R5cGUudHlwZU5hbWUgPT09ICdDb25jcmV0ZUVudGl0eVByb3RvdHlwZScpIHtcclxuICAgIGVudGl0eSA9IG5ldyBlbnRpdHlUeXBlKGVudGl0eURhdGEpO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBlbnRpdHkgPSBFbnRpdHlUeXBlQ3JlYXRvci5jcmVhdGUoZW50aXR5VHlwZSwgZW50aXR5RGF0YSk7Ly9uZXcgZW50aXR5VHlwZShlbnRpdHlEYXRhKTsgXHJcbiAgfVxyXG4gIGVudGl0eS5jb25zdHJ1Y3RvciA9IGVudGl0eVR5cGU7XHJcbiAgcmV0dXJuIGVudGl0eTtcclxufVxyXG5cclxuLyoqXHJcbiAqIOaJuemHj+WIm+W7uuWunuS9k1xyXG4gKiBAcGFyYW0gZW50aXR5VHlwZSAgICAg5a6e5L2T57G75Z6LXHJcbiAqIEBwYXJhbSBlbnRpdHlMaXN0RGF0YSDlrp7kvZPmlbDmja7mlbDnu4RcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVFbnRpdGllczxUIGV4dGVuZHMgRW50aXR5PihlbnRpdHlUeXBlOiBUeXBlPGFueT4sIGVudGl0eUxpc3REYXRhOiBhbnkpOiBUW10ge1xyXG4gIGNvbnN0IGVudGl0aWVzOiBUW10gPSBbXTtcclxuICBlbnRpdHlMaXN0RGF0YS5mb3JFYWNoKChlbnRpdHlEYXRhOiBhbnkpID0+IHtcclxuICAgIGNvbnN0IGVudGl0eSA9IGNyZWF0ZUVudGl0eTxUPihlbnRpdHlUeXBlLCBlbnRpdHlEYXRhKTtcclxuICAgIGVudGl0aWVzLnB1c2goZW50aXR5KTtcclxuICB9KTtcclxuICByZXR1cm4gZW50aXRpZXM7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiDlt7LlvIPnlKjvvJror7fkvb/nlKhjcmVhdGVFbnRpdHnmlrnms5Xku6Pmm7/jgIJcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBFbnRpdHlGYWN0b3J5PFQgZXh0ZW5kcyBFbnRpdHk+KFQ6IG5ldyAoLi4uYXJnczogYW55W10pID0+IGFueSwgZGF0YTogYW55KTogVCB7XHJcbiAgY29uc3QgZW50aXR5ID0gbmV3IFQoZGF0YSk7XHJcbiAgcmV0dXJuIGVudGl0eTtcclxufVxyXG5cclxuXHJcblxyXG4iXX0=