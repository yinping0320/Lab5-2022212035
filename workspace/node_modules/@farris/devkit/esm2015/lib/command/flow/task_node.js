import { of } from 'rxjs';
import { isObservable } from '../../misc/is-observable';
/**
 * 任务节点
 */
class TaskNode {
    /**
     * 构造函数
     */
    constructor(name, func) {
        this.name = name;
        this.func = func;
    }
    /**
     * 执行任务函数
     */
    execute(context) {
        const result = this.func(context);
        const result$ = isObservable(result) ? result : of(result);
        return result$;
    }
}
export { TaskNode };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGFza19ub2RlLmpzIiwic291cmNlUm9vdCI6Im5nOi8vQGZhcnJpcy9kZXZraXQvIiwic291cmNlcyI6WyJsaWIvY29tbWFuZC9mbG93L3Rhc2tfbm9kZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQWMsRUFBRSxFQUFFLE1BQU0sTUFBTSxDQUFDO0FBRXRDLE9BQU8sRUFBRSxZQUFZLEVBQUUsTUFBTSwwQkFBMEIsQ0FBQztBQVF4RDs7R0FFRztBQUNILE1BQU0sUUFBUTtJQVlaOztPQUVHO0lBQ0gsWUFBWSxJQUFZLEVBQUUsSUFBYztRQUN0QyxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQztRQUNqQixJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQztJQUNuQixDQUFDO0lBRUQ7O09BRUc7SUFDSCxPQUFPLENBQUMsT0FBdUI7UUFDN0IsTUFBTSxNQUFNLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQztRQUNsQyxNQUFNLE9BQU8sR0FBRyxZQUFZLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQzNELE9BQU8sT0FBTyxDQUFDO0lBQ2pCLENBQUM7Q0FDRjtBQUVELE9BQU8sRUFBWSxRQUFRLEVBQUUsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE9ic2VydmFibGUsIG9mIH0gZnJvbSAncnhqcyc7XHJcbmltcG9ydCB7IENvbW1hbmRDb250ZXh0IH0gZnJvbSAnLi4vY29tbWFuZF9jb250ZXh0JztcclxuaW1wb3J0IHsgaXNPYnNlcnZhYmxlIH0gZnJvbSAnLi4vLi4vbWlzYy9pcy1vYnNlcnZhYmxlJztcclxuXHJcbi8qKlxyXG4gKiDku7vliqHlh73mlbBcclxuICovXHJcbnR5cGUgVGFza0Z1bmMgPSAoY29udGV4dDogQ29tbWFuZENvbnRleHQpID0+IGFueTtcclxuXHJcblxyXG4vKipcclxuICog5Lu75Yqh6IqC54K5XHJcbiAqL1xyXG5jbGFzcyBUYXNrTm9kZSB7XHJcblxyXG4gIC8qKlxyXG4gICAqIOS7u+WKoeWQjeensFxyXG4gICAqL1xyXG4gIG5hbWU6IHN0cmluZztcclxuXHJcbiAgLyoqXHJcbiAgICog5Lu75Yqh5Ye95pWwXHJcbiAgICovXHJcbiAgZnVuYzogVGFza0Z1bmM7XHJcblxyXG4gIC8qKlxyXG4gICAqIOaehOmAoOWHveaVsFxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKG5hbWU6IHN0cmluZywgZnVuYzogVGFza0Z1bmMpIHtcclxuICAgIHRoaXMubmFtZSA9IG5hbWU7XHJcbiAgICB0aGlzLmZ1bmMgPSBmdW5jO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICog5omn6KGM5Lu75Yqh5Ye95pWwXHJcbiAgICovXHJcbiAgZXhlY3V0ZShjb250ZXh0OiBDb21tYW5kQ29udGV4dCk6IE9ic2VydmFibGU8YW55PiB7XHJcbiAgICBjb25zdCByZXN1bHQgPSB0aGlzLmZ1bmMoY29udGV4dCk7XHJcbiAgICBjb25zdCByZXN1bHQkID0gaXNPYnNlcnZhYmxlKHJlc3VsdCkgPyByZXN1bHQgOiBvZihyZXN1bHQpO1xyXG4gICAgcmV0dXJuIHJlc3VsdCQ7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgeyBUYXNrRnVuYywgVGFza05vZGUgfTtcclxuIl19