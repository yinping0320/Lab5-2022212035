import { TaskFunc, TaskNode } from './task_node';
import { TaskLink } from './task_link';
import { CommandContext } from '../command_context';
/**
 * 任务执行流程
 */
declare class TaskFlow {
    /**
     * 节点集合
     */
    private nodes;
    /**
     * 边集合
     */
    private links;
    /**
     * 添加节点
     */
    addNode(name: string, func: TaskFunc): void;
    /**
     * 批量添加链接
     */
    addNodes(nodes: TaskNode[]): void;
    /**
     * 在目标节点之前插入一个节点
     * @param target 目标节点名称
     * @param name 名称
     * @param func 函数
     */
    insertNode(target: string, name: string, func: TaskFunc): void;
    /**
     * 在目标节点之前插入一个节点
     */
    appendNode(target: string, name: string, func: TaskFunc): void;
    /**
     * 获取节点索引
     * @param name 名称
     */
    private findNodeIndex;
    /**
     * 创建任务节点
     * @param name 名称
     * @param func 函数
     */
    private createNode;
    /**
     * 添加链接
     * @param name 名称
     * @param func 函数
     */
    addLink(from: string, to: string, condition: string | boolean): void;
    /**
     * 批量添加链接
     */
    addLinks(links: TaskLink[]): void;
    /**
     * 创建链接
     */
    private createLink;
    /**
     * 获取下一个节点
     * @param from    源节点名称
     * @param context 上下文
     */
    getNext(from?: string, context?: CommandContext): TaskNode;
    /**
     * 克隆任务流
     */
    clone(): TaskFlow;
}
export { TaskFlow };
