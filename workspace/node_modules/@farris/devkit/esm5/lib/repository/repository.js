import { Injectable } from '@angular/core';
import { Subject } from 'rxjs';
import { DataTypeInfo } from '../core/index';
import { MetadataUtil } from '../metadata/index';
import { createEntity, createEntities } from '../entity/index';
import { EntityCollection } from './entity_collection';
import { PaginationManager } from './pagination_manager';
import { DataChangeHistory } from './data_change_history';
import { SortConditionManager } from './sort_condition_manager';
import { FilterConditionManager } from './filter_condition_manager';
import { UID } from '../misc/uid';
/**
 * 本地仓库
 * @description
 * # Repository
 *
 * Repository负责与后台接口交互并将接口返回的数据转换为Entity集合进行保存。因此Repository有两个重要的职责：后端交互、数据存储。
 * Repository中存储的数据是Entity类型，可以通过API对数据进行修改或删除。由于Repository和BindingData相互监听，对数据仓库的操作最终会通过BindingData更新到界面上。
 *
 * ## 实体操作
 * 实体操作仅对Repository本地已经存在的数据进行操作，不会发送请求。
 *
 * - 通过主键获取实体
 *
 *   ```javascript
 *    this.repository.entityCollection.getEntityById("id");
 *   ```
 *
 * - 删除实体数据
 *
 *   ```javascript
 *   this.repository.entityCollection.removeEntityById("id")
 *   ```
 *
 * - 清空所有实体
 *
 *   ```javascript
 *   this.repository.entityCollection.clear();
 *   ```
 *
 * - 将实体数据转换为json格式
 *
 *   ```javascript
 *   this.repository.entityCollection.toJSON();
 *   ```
 *
 * - 添加实体
 *
 *   ```javascript
 *   this.repository.entityCollection.addEntity(entity:T);
 *   ```
 * - 添加子表实体
 *
 *   ```javascript
 *   const befRepository = this.repository as BefRepository<any>;
 *   const entityManager = befRepository.entityManager;
 *   entityManager.appendEntityByPath("/主实体Id/子表名s",{子表JSON数据});
 *   ```
 * - 批量添加实体
 *
 *   ```javascript
 *   this.repository.entityCollection.addEntities(entities:T[])
 *   ```
 *
 * - 批量添加子表实体
 *
 *   ```javascript
 *   const befRepository = this.repository as BefRepository<any>;
 *   const entityManager = befRepository.entityManager;
 *   const childrenEntities = entityManager.createEntitiesByPath(["主实体Id","子表名s"], entityListData: any[])
 *   entityManager.appendEntitiesByPath(["主实体Id","子表名s"],childrenEntities);
 *   ```
 *
 * - 批量加载实体
 *
 *   ```javascript
 *   this.repository.entityCollection.loadEntities(entities:T[]);
 *   ```
 *
 *   > 加载实体会将本地仓库数据置为加载的实体。
 *
 * - 创建实体
 *
 *   ```javascript
 *   this.repository.buildEntity(JSON数据);
 *   ```
 *
 * - 批量创建实体
 *
 *   ```javascript
 *   this.repository.buildEntities(JSON数据);
 *   ```
 *
 * - 获取子表数据
 *
 *   ```javascript
 *   const befRepository = this.repository as BefRepository<any>;
 *   const entityManager = befRepository.entityManager;
 *   entityManager.getEntityByPath(["主实体Id","子表名","子表id"]);
 *   ```
 *
 *   !> **注意** entityManager属性仅存在于BefRepository类，因此在使用EntityManager时应先将Repository转换为BefRepository
 *
 * - 获取所有子表数据
 *
 *   ```javascript
 *   const befRepository = this.repository as BefRepository<any>;
 *   const entityManager = befRepository.entityManager;
 *   entityManager.getEntitiesByPath(["主实体Id","子表名"]);
 *   ```
 *
 *   > EntityManager不仅可以获取子表数据，同样可以获取主表数据。
 *   >
 *   > ```javascript
 *   > entityManager.getEntitiesByPath(["主实体Id"]);
 *   > ```
 *
 * - 获取实体属性值
 *
 *   ```javascript
 *   const entity = this.repository.entityCollection.getEntityById("id");
 *   cosnt name = entity['name'];
 *   // 或者
 *   const entity: any = this.repository.entityCollection.getEntityById("id");
 *   cosnt name = entity.name;
 *   ```
 *
 * ## 后端交互
 *
 * ​	通过接口操作后端数据，会直接对数据产生影响。
 *
 * - 更新实体数据
 *
 *   ```javascript
 *   this.repository.updateById('id');
 *   ```
 *
 * - 删除实体
 *
 *   ```javascript
 *   this.repository.removeById("id");
 *   ```
 *
 * - 批量删除实体
 *
 *   ```javascript
 *   this.repository.removeByIds(ids:string[])
 *   ```
 *
 * - 删除下级表数据
 *
 *   ```javascript
 *   this.repository.removeByPath(['主表Id','子表名','子表Id'])
 *   ```
 *
 * - 新增主实体
 *
 *   ```javascript
 *   this.repository.append();
 *   ```
 *
 * - 新增子实体
 *
 *   ```javascript
 *   this.repository.appendByPath(['主表id','子表名']);
 *   ```
 *
 * - 加载实体数据
 *
 *   ```javascript
 *   this.repository.getById('id');
 *   ```
 *
 * - 获取主表数据
 *
 *   ```javascript
 *   this.repository.getEntities(filter: any[], sorts: any[], pageSize: number | null, pageIndex: number | null)
 *
 *   ```
 *
 *   > pageSize、pageIndex可以不传。
 *
 * - 获取主表数据（POST方法）
 *
 *   ```javascript
 *   this.repository.filter(filter: any[], sorts: any[], pageSize: number | null, pageIndex: number | null)
 *   ```
 *
 * - 提交指定实体变更到后端
 *
 *   ```javascript
 *   this.repository.updateChangesById("id");
 *   ```
 *
 * - 提交所有变更
 *
 *   ```javascript
 *   this.repository.updateAllChanges();
 *   ```
 *
 * - 应用变更（保存）
 *
 *   ```javascript
 *   this.repository.applyChanges();
 *   ```
 *
 * - 取消变更
 *
 *   ```javascript
 *   this.repository.cancelChanges();
 *   ```
 *
 * - 清除Repository所有变更
 *
 *   ```javascript
 *   const befRepository = this.repository as BefRepository<any>;
 *   befRepository.entityManager.clearAllEntityChanges();
 *   ```
 *
 * - 批量新增子表数据
 *   ```javascript
 *   this.repository.batchAppendByPath(path: string, defaultValues: Array<any>);
 *   ```
 *
 *   > path `string`：/主表id/从表前端nodeCode，如果/1/orders
 *   >
 *   > defaultValues `Array<any>`：新增从表时的默认值，数组，元素为对象，key为字段名，value为默认值。
 *
 * - 批量删除子表数据
 *
 *   ```javascript
 *   this.repository.batchRemoveByPath(path: string, ids: string);
 *   ```
 *
 *   > path `string`： /主表id/从表前端nodeCode，如果/1/orders
 *   >
 *   > ids `string` ：要删除的子表数据id，格式为`id1,id2,id3`
 */
var Repository = /** @class */ (function () {
    // #endregion
    /**
     * 构造函数
     */
    function Repository() {
        /**
         * 用户分页配置信息
         */
        this.paginationInfo = null;
        this.readMetadata();
        if (this.entityType) {
            this.entityTypeInfo = new DataTypeInfo(this.entityType);
            this.entityCollection = new EntityCollection(this.entityType);
        }
        this.dataChangeHistory = new DataChangeHistory();
        this.sortConditionManager = new SortConditionManager();
        this.filterConditionManager = new FilterConditionManager();
        this.destroy$ = new Subject();
    }
    Object.defineProperty(Repository.prototype, "primaryKey", {
        // #endregion
        // #region get/set方法
        /**
         * 实体主键
         */
        get: function () {
            return this.entityCollection.primaryKey;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Repository.prototype, "changes", {
        get: function () {
            return this.entityCollection.changes;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Repository.prototype, "entityCollectionChange", {
        /**
         * 实体变更集合
         */
        get: function () {
            return this.entityCollection.collectionChanged;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Repository.prototype, "name", {
        /**
         * 获取名称
         */
        get: function () {
            // 1、老表单没有name属性
            // 2、不能使用construcotr.name，压缩脚本会把name改掉，或者压缩成相同的名称（目前发现已知）
            if (!this.innerName) {
                var guid = UID.create();
                this.innerName = "Repository_" + guid;
            }
            return this.innerName;
        },
        /**
         * 设置名称
         */
        set: function (value) {
            this.innerName = value;
        },
        enumerable: true,
        configurable: true
    });
    Repository.prototype.dispose = function (options) {
        this.paginationManager = null;
        if (this.destroy$) {
            this.destroy$.next();
            this.destroy$.complete();
            this.destroy$ = null;
        }
        if (this.entityCollection) {
            this.entityCollection.reset(false);
            // this.entityCollection = null;
        }
    };
    Repository.prototype.ngOnDestroy = function () {
        this.dispose();
    };
    Repository.prototype.updateEntityType = function (entityType) {
        this.entityType = entityType;
        this.entityTypeInfo = new DataTypeInfo(this.entityType);
        this.entityCollection = new EntityCollection(this.entityType);
    };
    /**
     * 读取元数据
     */
    Repository.prototype.readMetadata = function () {
        var repositoryMetadata = MetadataUtil.getClassMetadataByName(this.constructor, 'NgRepository');
        if (repositoryMetadata) {
            // API地址
            this.apiUri = repositoryMetadata.apiUrl;
            // 实体类型
            this.entityType = repositoryMetadata.entityType;
        }
    };
    /**
     * 初始化分页配置
     * @param config - 用户分页配置
     */
    Repository.prototype.setPaginationConfig = function (config) {
        this.paginationManager = new PaginationManager(this.entityType, config);
        var _a = (this.paginationManager.getPaginationConfigByPath('/') || {}).pageSize, pageSize = _a === void 0 ? 0 : _a;
        // tslint:disable-next-line: max-line-length
        this.entityCollection.paginationInfo = Object.assign({ pageSize: pageSize }, this.paginationManager.pagination, this.entityCollection.paginationInfo);
        // 无需再单独设置一次pageSize，减少一次变更
        // this.entityCollection.pageSize = pageSize;
    };
    /**
     * 重置状态
     */
    Repository.prototype.reset = function () {
        this.entityCollection.reset();
    };
    /**
     * 创建实体
     * @param data
     */
    Repository.prototype.buildEntity = function (data) {
        var entity = createEntity(this.entityType, data);
        return entity;
    };
    /**
     * 批量创建实体
     * @param listData
     */
    Repository.prototype.buildEntities = function (listData) {
        var entities = createEntities(this.entityType, listData);
        return entities;
    };
    Repository.decorators = [
        { type: Injectable }
    ];
    /** @nocollapse */
    Repository.ctorParameters = function () { return []; };
    return Repository;
}());
export { Repository };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicmVwb3NpdG9yeS5qcyIsInNvdXJjZVJvb3QiOiJuZzovL0BmYXJyaXMvZGV2a2l0LyIsInNvdXJjZXMiOlsibGliL3JlcG9zaXRvcnkvcmVwb3NpdG9yeS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsVUFBVSxFQUFhLE1BQU0sZUFBZSxDQUFDO0FBQ3RELE9BQU8sRUFBYyxPQUFPLEVBQUUsTUFBTSxNQUFNLENBQUM7QUFDM0MsT0FBTyxFQUFFLFlBQVksRUFBZSxNQUFNLGVBQWUsQ0FBQztBQUUxRCxPQUFPLEVBQUUsWUFBWSxFQUFFLE1BQU0sbUJBQW1CLENBQUM7QUFDakQsT0FBTyxFQUFVLFlBQVksRUFBRSxjQUFjLEVBQUUsTUFBTSxpQkFBaUIsQ0FBQztBQUV2RSxPQUFPLEVBQUUsZ0JBQWdCLEVBQUUsTUFBTSxxQkFBcUIsQ0FBQztBQUN2RCxPQUFPLEVBQUUsaUJBQWlCLEVBQUUsTUFBTSxzQkFBc0IsQ0FBQztBQUN6RCxPQUFPLEVBQUUsaUJBQWlCLEVBQUUsTUFBTSx1QkFBdUIsQ0FBQztBQUMxRCxPQUFPLEVBQUUsb0JBQW9CLEVBQUUsTUFBTSwwQkFBMEIsQ0FBQztBQUNoRSxPQUFPLEVBQUUsc0JBQXNCLEVBQUUsTUFBTSw0QkFBNEIsQ0FBQztBQUNwRSxPQUFPLEVBQUUsR0FBRyxFQUFFLE1BQU0sYUFBYSxDQUFDO0FBRWxDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0dBa09HO0FBQ0g7SUErRkUsYUFBYTtJQUViOztPQUVHO0lBQ0g7UUFsRUE7O1dB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bnQiOlsiaW1wb3J0IHsgSW5qZWN0YWJsZSwgT25EZXN0cm95IH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcbmltcG9ydCB7IE9ic2VydmFibGUsIFN1YmplY3QgfSBmcm9tICdyeGpzJztcclxuaW1wb3J0IHsgRGF0YVR5cGVJbmZvLCBJRGlzcG9zYWJsZSB9IGZyb20gJy4uL2NvcmUvaW5kZXgnO1xyXG5pbXBvcnQgeyBNb2RpZmljYXRpb24gfSBmcm9tICcuLi9jaGFuZ2VzZXQvaW5kZXgnO1xyXG5pbXBvcnQgeyBNZXRhZGF0YVV0aWwgfSBmcm9tICcuLi9tZXRhZGF0YS9pbmRleCc7XHJcbmltcG9ydCB7IEVudGl0eSwgY3JlYXRlRW50aXR5LCBjcmVhdGVFbnRpdGllcyB9IGZyb20gJy4uL2VudGl0eS9pbmRleCc7XHJcbmltcG9ydCB7IE5nUmVwb3NpdG9yeSB9IGZyb20gJy4vZGVjb3JhdG9ycyc7XHJcbmltcG9ydCB7IEVudGl0eUNvbGxlY3Rpb24gfSBmcm9tICcuL2VudGl0eV9jb2xsZWN0aW9uJztcclxuaW1wb3J0IHsgUGFnaW5hdGlvbk1hbmFnZXIgfSBmcm9tICcuL3BhZ2luYXRpb25fbWFuYWdlcic7XHJcbmltcG9ydCB7IERhdGFDaGFuZ2VIaXN0b3J5IH0gZnJvbSAnLi9kYXRhX2NoYW5nZV9oaXN0b3J5JztcclxuaW1wb3J0IHsgU29ydENvbmRpdGlvbk1hbmFnZXIgfSBmcm9tICcuL3NvcnRfY29uZGl0aW9uX21hbmFnZXInO1xyXG5pbXBvcnQgeyBGaWx0ZXJDb25kaXRpb25NYW5hZ2VyIH0gZnJvbSAnLi9maWx0ZXJfY29uZGl0aW9uX21hbmFnZXInO1xyXG5pbXBvcnQgeyBVSUQgfSBmcm9tICcuLi9taXNjL3VpZCc7XHJcblxyXG4vKipcclxuICog5pys5Zyw5LuT5bqTXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKiAjIFJlcG9zaXRvcnlcclxuICpcclxuICogUmVwb3NpdG9yeei0n+i0o+S4juWQjuWPsOaOpeWPo+S6pOS6kuW5tuWwhuaOpeWPo+i/lOWbnueahOaVsOaNrui9rOaNouS4ukVudGl0eembhuWQiOi/m+ihjOS/neWtmOOAguWboOatpFJlcG9zaXRvcnnmnInkuKTkuKrph43opoHnmoTogYzotKPvvJrlkI7nq6/kuqTkupLjgIHmlbDmja7lrZjlgqjjgIJcclxuICogUmVwb3NpdG9yeeS4reWtmOWCqOeahOaVsOaNruaYr0VudGl0eeexu+Wei++8jOWPr+S7pemAmui/h0FQSeWvueaVsOaNrui/m+ihjOS/ruaUueaIluWIoOmZpOOAgueUseS6jlJlcG9zaXRvcnnlkoxCaW5kaW5nRGF0YeebuOS6kuebkeWQrO+8jOWvueaVsOaNruS7k+W6k+eahOaTjeS9nOacgOe7iOS8mumAmui/h0JpbmRpbmdEYXRh5pu05paw5Yiw55WM6Z2i5LiK44CCXHJcbiAqXHJcbiAqICMjIOWunuS9k+aTjeS9nFxyXG4gKiDlrp7kvZPmk43kvZzku4Xlr7lSZXBvc2l0b3J55pys5Zyw5bey57uP5a2Y5Zyo55qE5pWw5o2u6L+b6KGM5pON5L2c77yM5LiN5Lya5Y+R6YCB6K+35rGC44CCXHJcbiAqXHJcbiAqIC0g6YCa6L+H5Li76ZSu6I635Y+W5a6e5L2TXHJcbiAqXHJcbiAqICAgYGBgamF2YXNjcmlwdFxyXG4gKiAgICB0aGlzLnJlcG9zaXRvcnkuZW50aXR5Q29sbGVjdGlvbi5nZXRFbnRpdHlCeUlkKFwiaWRcIik7XHJcbiAqICAgYGBgXHJcbiAqXHJcbiAqIC0g5Yig6Zmk5a6e5L2T5pWw5o2uXHJcbiAqXHJcbiAqICAgYGBgamF2YXNjcmlwdFxyXG4gKiAgIHRoaXMucmVwb3NpdG9yeS5lbnRpdHlDb2xsZWN0aW9uLnJlbW92ZUVudGl0eUJ5SWQoXCJpZFwiKVxyXG4gKiAgIGBgYFxyXG4gKlxyXG4gKiAtIOa4heepuuaJgOacieWunuS9k1xyXG4gKlxyXG4gKiAgIGBgYGphdmFzY3JpcHRcclxuICogICB0aGlzLnJlcG9zaXRvcnkuZW50aXR5Q29sbGVjdGlvbi5jbGVhcigpO1xyXG4gKiAgIGBgYFxyXG4gKlxyXG4gKiAtIOWwhuWunuS9k+aVsOaNrui9rOaNouS4umpzb27moLzlvI9cclxuICpcclxuICogICBgYGBqYXZhc2NyaXB0XHJcbiAqICAgdGhpcy5yZXBvc2l0b3J5LmVudGl0eUNvbGxlY3Rpb24udG9KU09OKCk7XHJcbiAqICAgYGBgXHJcbiAqXHJcbiAqIC0g5re75Yqg5a6e5L2TXHJcbiAqXHJcbiAqICAgYGBgamF2YXNjcmlwdFxyXG4gKiAgIHRoaXMucmVwb3NpdG9yeS5lbnRpdHlDb2xsZWN0aW9uLmFkZEVudGl0eShlbnRpdHk6VCk7XHJcbiAqICAgYGBgXHJcbiAqIC0g5re75Yqg5a2Q6KGo5a6e5L2TXHJcbiAqXHJcbiAqICAgYGBgamF2YXNjcmlwdFxyXG4gKiAgIGNvbnN0IGJlZlJlcG9zaXRvcnkgPSB0aGlzLnJlcG9zaXRvcnkgYXMgQmVmUmVwb3NpdG9yeTxhbnk+O1xyXG4gKiAgIGNvbnN0IGVudGl0eU1hbmFnZXIgPSBiZWZSZXBvc2l0b3J5LmVudGl0eU1hbmFnZXI7XHJcbiAqICAgZW50aXR5TWFuYWdlci5hcHBlbmRFbnRpdHlCeVBhdGgoXCIv5Li75a6e5L2TSWQv5a2Q6KGo5ZCNc1wiLHvlrZDooahKU09O5pWw5o2ufSk7XHJcbiAqICAgYGBgXHJcbiAqIC0g5om56YeP5re75Yqg5a6e5L2TXHJcbiAqXHJcbiAqICAgYGBgamF2YXNjcmlwdFxyXG4gKiAgIHRoaXMucmVwb3NpdG9yeS5lbnRpdHlDb2xsZWN0aW9uLmFkZEVudGl0aWVzKGVudGl0aWVzOlRbXSlcclxuICogICBgYGBcclxuICpcclxuICogLSDmibnph4/mt7vliqDlrZDooajlrp7kvZNcclxuICpcclxuICogICBgYGBqYXZhc2NyaXB0XHJcbiAqICAgY29uc3QgYmVmUmVwb3NpdG9yeSA9IHRoaXMucmVwb3NpdG9yeSBhcyBCZWZSZXBvc2l0b3J5PGFueT47XHJcbiAqICAgY29uc3QgZW50aXR5TWFuYWdlciA9IGJlZlJlcG9zaXRvcnkuZW50aXR5TWFuYWdlcjtcclxuICogICBjb25zdCBjaGlsZHJlbkVudGl0aWVzID0gZW50aXR5TWFuYWdlci5jcmVhdGVFbnRpdGllc0J5UGF0aChbXCLkuLvlrp7kvZNJZFwiLFwi5a2Q6KGo5ZCNc1wiXSwgZW50aXR5TGlzdERhdGE6IGFueVtdKVxyXG4gKiAgIGVudGl0eU1hbmFnZXIuYXBwZW5kRW50aXRpZXNCeVBhdGgoW1wi5Li75a6e5L2TSWRcIixcIuWtkOihqOWQjXNcIl0sY2hpbGRyZW5FbnRpdGllcyk7XHJcbiAqICAgYGBgXHJcbiAqXHJcbiAqIC0g5om56YeP5Yqg6L295a6e5L2TXHJcbiAqXHJcbiAqICAgYGBgamF2YXNjcmlwdFxyXG4gKiAgIHRoaXMucmVwb3NpdG9yeS5lbnRpdHlDb2xsZWN0aW9uLmxvYWRFbnRpdGllcyhlbnRpdGllczpUW10pO1xyXG4gKiAgIGBgYFxyXG4gKlxyXG4gKiAgID4g5Yqg6L295a6e5L2T5Lya5bCG5pys5Zyw5LuT5bqT5pWw5o2u572u5Li65Yqg6L2955qE5a6e5L2T44CCXHJcbiAqXHJcbiAqIC0g5Yib5bu65a6e5L2TXHJcbiAqXHJcbiAqICAgYGBgamF2YXNjcmlwdFxyXG4gKiAgIHRoaXMucmVwb3NpdG9yeS5idWlsZEVudGl0eShKU09O5pWw5o2uKTtcclxuICogICBgYGBcclxuICpcclxuICogLSDmibnph4/liJvlu7rlrp7kvZNcclxuICpcclxuICogICBgYGBqYXZhc2NyaXB0XHJcbiAqICAgdGhpcy5yZXBvc2l0b3J5LmJ1aWxkRW50aXRpZXMoSlNPTuaVsOaNrik7XHJcbiAqICAgYGBgXHJcbiAqXHJcbiAqIC0g6I635Y+W5a2Q6KGo5pWw5o2uXHJcbiAqXHJcbiAqICAgYGBgamF2YXNjcmlwdFxyXG4gKiAgIGNvbnN0IGJlZlJlcG9zaXRvcnkgPSB0aGlzLnJlcG9zaXRvcnkgYXMgQmVmUmVwb3NpdG9yeTxhbnk+O1xyXG4gKiAgIGNvbnN0IGVudGl0eU1hbmFnZXIgPSBiZWZSZXBvc2l0b3J5LmVudGl0eU1hbmFnZXI7XHJcbiAqICAgZW50aXR5TWFuYWdlci5nZXRFbnRpdHlCeVBhdGgoW1wi5Li75a6e5L2TSWRcIixcIuWtkOihqOWQjVwiLFwi5a2Q6KGoaWRcIl0pO1xyXG4gKiAgIGBgYFxyXG4gKlxyXG4gKiAgICE+ICoq5rOo5oSPKiogZW50aXR5TWFuYWdlcuWxnuaAp+S7heWtmOWcqOS6jkJlZlJlcG9zaXRvcnnnsbvvvIzlm6DmraTlnKjkvb/nlKhFbnRpdHlNYW5hZ2Vy5pe25bqU5YWI5bCGUmVwb3NpdG9yeei9rOaNouS4ukJlZlJlcG9zaXRvcnlcclxuICpcclxuICogLSDojrflj5bmiYDmnInlrZDooajmlbDmja5cclxuICpcclxuICogICBgYGBqYXZhc2NyaXB0XHJcbiAqICAgY29uc3QgYmVmUmVwb3NpdG9yeSA9IHRoaXMucmVwb3NpdG9yeSBhcyBCZWZSZXBvc2l0b3J5PGFueT47XHJcbiAqICAgY29uc3QgZW50aXR5TWFuYWdlciA9IGJlZlJlcG9zaXRvcnkuZW50aXR5TWFuYWdlcjtcclxuICogICBlbnRpdHlNYW5hZ2VyLmdldEVudGl0aWVzQnlQYXRoKFtcIuS4u+WunuS9k0lkXCIsXCLlrZDooajlkI1cIl0pO1xyXG4gKiAgIGBgYFxyXG4gKlxyXG4gKiAgID4gRW50aXR5TWFuYWdlcuS4jeS7heWPr+S7peiOt+WPluWtkOihqOaVsOaNru+8jOWQjOagt+WPr+S7peiOt+WPluS4u+ihqOaVsOaNruOAglxyXG4gKiAgID5cclxuICogICA+IGBgYGphdmFzY3JpcHRcclxuICogICA+IGVudGl0eU1hbmFnZXIuZ2V0RW50aXRpZXNCeVBhdGgoW1wi5Li75a6e5L2TSWRcIl0pO1xyXG4gKiAgID4gYGBgXHJcbiAqXHJcbiAqIC0g6I635Y+W5a6e5L2T5bGe5oCn5YC8XHJcbiAqXHJcbiAqICAgYGBgamF2YXNjcmlwdFxyXG4gKiAgIGNvbnN0IGVudGl0eSA9IHRoaXMucmVwb3NpdG9yeS5lbnRpdHlDb2xsZWN0aW9uLmdldEVudGl0eUJ5SWQoXCJpZFwiKTtcclxuICogICBjb3NudCBuYW1lID0gZW50aXR5WyduYW1lJ107XHJcbiAqICAgLy8g5oiW6ICFXHJcbiAqICAgY29uc3QgZW50aXR5OiBhbnkgPSB0aGlzLnJlcG9zaXRvcnkuZW50aXR5Q29sbGVjdGlvbi5nZXRFbnRpdHlCeUlkKFwiaWRcIik7XHJcbiAqICAgY29zbnQgbmFtZSA9IGVudGl0eS5uYW1lO1xyXG4gKiAgIGBgYFxyXG4gKlxyXG4gKiAjIyDlkI7nq6/kuqTkupJcclxuICpcclxuICog4oCLXHTpgJrov4fmjqXlj6Pmk43kvZzlkI7nq6/mlbDmja7vvIzkvJrnm7TmjqXlr7nmlbDmja7kuqfnlJ/lvbHlk43jgIJcclxuICpcclxuICogLSDmm7TmlrDlrp7kvZPmlbDmja5cclxuICpcclxuICogICBgYGBqYXZhc2NyaXB0XHJcbiAqICAgdGhpcy5yZXBvc2l0b3J5LnVwZGF0ZUJ5SWQoJ2lkJyk7XHJcbiAqICAgYGBgXHJcbiAqXHJcbiAqIC0g5Yig6Zmk5a6e5L2TXHJcbiAqXHJcbiAqICAgYGBgamF2YXNjcmlwdFxyXG4gKiAgIHRoaXMucmVwb3NpdG9yeS5yZW1vdmVCeUlkKFwiaWRcIik7XHJcbiAqICAgYGBgXHJcbiAqXHJcbiAqIC0g5om56YeP5Yig6Zmk5a6e5L2TXHJcbiAqXHJcbiAqICAgYGBgamF2YXNjcmlwdFxyXG4gKiAgIHRoaXMucmVwb3NpdG9yeS5yZW1vdmVCeUlkcyhpZHM6c3RyaW5nW10pXHJcbiAqICAgYGBgXHJcbiAqXHJcbiAqIC0g5Yig6Zmk5LiL57qn6KGo5pWw5o2uXHJcbiAqXHJcbiAqICAgYGBgamF2YXNjcmlwdFxyXG4gKiAgIHRoaXMucmVwb3NpdG9yeS5yZW1vdmVCeVBhdGgoWyfkuLvooahJZCcsJ+WtkOihqOWQjScsJ+WtkOihqElkJ10pXHJcbiAqICAgYGBgXHJcbiAqXHJcbiAqIC0g5paw5aKe5Li75a6e5L2TXHJcbiAqXHJcbiAqICAgYGBgamF2YXNjcmlwdFxyXG4gKiAgIHRoaXMucmVwb3NpdG9yeS5hcHBlbmQoKTtcclxuICogICBgYGBcclxuICpcclxuICogLSDmlrDlop7lrZDlrp7kvZNcclxuICpcclxuICogICBgYGBqYXZhc2NyaXB0XHJcbiAqICAgdGhpcy5yZXBvc2l0b3J5LmFwcGVuZEJ5UGF0aChbJ+S4u+ihqGlkJywn5a2Q6KGo5ZCNJ10pO1xyXG4gKiAgIGBgYFxyXG4gKlxyXG4gKiAtIOWKoOi9veWunuS9k+aVsOaNrlxyXG4gKlxyXG4gKiAgIGBgYGphdmFzY3JpcHRcclxuICogICB0aGlzLnJlcG9zaXRvcnkuZ2V0QnlJZCgnaWQnKTtcclxuICogICBgYGBcclxuICpcclxuICogLSDojrflj5bkuLvooajmlbDmja5cclxuICpcclxuICogICBgYGBqYXZhc2NyaXB0XHJcbiAqICAgdGhpcy5yZXBvc2l0b3J5LmdldEVudGl0aWVzKGZpbHRlcjogYW55W10sIHNvcnRzOiBhbnlbXSwgcGFnZVNpemU6IG51bWJlciB8IG51bGwsIHBhZ2VJbmRleDogbnVtYmVyIHwgbnVsbClcclxuICpcclxuICogICBgYGBcclxuICpcclxuICogICA+IHBhZ2VTaXpl44CBcGFnZUluZGV45Y+v5Lul5LiN5Lyg44CCXHJcbiAqXHJcbiAqIC0g6I635Y+W5Li76KGo5pWw5o2u77yIUE9TVOaWueazle+8iVxyXG4gKlxyXG4gKiAgIGBgYGphdmFzY3JpcHRcclxuICogICB0aGlzLnJlcG9zaXRvcnkuZmlsdGVyKGZpbHRlcjogYW55W10sIHNvcnRzOiBhbnlbXSwgcGFnZVNpemU6IG51bWJlciB8IG51bGwsIHBhZ2VJbmRleDogbnVtYmVyIHwgbnVsbClcclxuICogICBgYGBcclxuICpcclxuICogLSDmj5DkuqTmjIflrprlrp7kvZPlj5jmm7TliLDlkI7nq69cclxuICpcclxuICogICBgYGBqYXZhc2NyaXB0XHJcbiAqICAgdGhpcy5yZXBvc2l0b3J5LnVwZGF0ZUNoYW5nZXNCeUlkKFwiaWRcIik7XHJcbiAqICAgYGBgXHJcbiAqXHJcbiAqIC0g5o+Q5Lqk5omA5pyJ5Y+Y5pu0XHJcbiAqXHJcbiAqICAgYGBgamF2YXNjcmlwdFxyXG4gKiAgIHRoaXMucmVwb3NpdG9yeS51cGRhdGVBbGxDaGFuZ2VzKCk7XHJcbiAqICAgYGBgXHJcbiAqXHJcbiAqIC0g5bqU55So5Y+Y5pu077yI5L+d5a2Y77yJXHJcbiAqXHJcbiAqICAgYGBgamF2YXNjcmlwdFxyXG4gKiAgIHRoaXMucmVwb3NpdG9yeS5hcHBseUNoYW5nZXMoKTtcclxuICogICBgYGBcclxuICpcclxuICogLSDlj5bmtojlj5jmm7RcclxuICpcclxuICogICBgYGBqYXZhc2NyaXB0XHJcbiAqICAgdGhpcy5yZXBvc2l0b3J5LmNhbmNlbENoYW5nZXMoKTtcclxuICogICBgYGBcclxuICpcclxuICogLSDmuIXpmaRSZXBvc2l0b3J55omA5pyJ5Y+Y5pu0XHJcbiAqXHJcbiAqICAgYGBgamF2YXNjcmlwdFxyXG4gKiAgIGNvbnN0IGJlZlJlcG9zaXRvcnkgPSB0aGlzLnJlcG9zaXRvcnkgYXMgQmVmUmVwb3NpdG9yeTxhbnk+O1xyXG4gKiAgIGJlZlJlcG9zaXRvcnkuZW50aXR5TWFuYWdlci5jbGVhckFsbEVudGl0eUNoYW5nZXMoKTtcclxuICogICBgYGBcclxuICpcclxuICogLSDmibnph4/mlrDlop7lrZDooajmlbDmja5cclxuICogICBgYGBqYXZhc2NyaXB0XHJcbiAqICAgdGhpcy5yZXBvc2l0b3J5LmJhdGNoQXBwZW5kQnlQYXRoKHBhdGg6IHN0cmluZywgZGVmYXVsdFZhbHVlczogQXJyYXk8YW55Pik7XHJcbiAqICAgYGBgXHJcbiAqXHJcbiAqICAgPiBwYXRoIGBzdHJpbmdg77yaL+S4u+ihqGlkL+S7juihqOWJjeerr25vZGVDb2Rl77yM5aaC5p6cLzEvb3JkZXJzXHJcbiAqICAgPlxyXG4gKiAgID4gZGVmYXVsdFZhbHVlcyBgQXJyYXk8YW55PmDvvJrmlrDlop7ku47ooajml7bnmoTpu5jorqTlgLzvvIzmlbDnu4TvvIzlhYPntKDkuLrlr7nosaHvvIxrZXnkuLrlrZfmrrXlkI3vvIx2YWx1ZeS4uum7mOiupOWAvOOAglxyXG4gKlxyXG4gKiAtIOaJuemHj+WIoOmZpOWtkOihqOaVsOaNrlxyXG4gKlxyXG4gKiAgIGBgYGphdmFzY3JpcHRcclxuICogICB0aGlzLnJlcG9zaXRvcnkuYmF0Y2hSZW1vdmVCeVBhdGgocGF0aDogc3RyaW5nLCBpZHM6IHN0cmluZyk7XHJcbiAqICAgYGBgXHJcbiAqXHJcbiAqICAgPiBwYXRoIGBzdHJpbmdg77yaIC/kuLvooahpZC/ku47ooajliY3nq69ub2RlQ29kZe+8jOWmguaenC8xL29yZGVyc1xyXG4gKiAgID5cclxuICogICA+IGlkcyBgc3RyaW5nYCDvvJropoHliKDpmaTnmoTlrZDooajmlbDmja5pZO+8jOagvOW8j+S4umBpZDEsaWQyLGlkM2BcclxuICovXHJcbkBJbmplY3RhYmxlKClcclxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIFJlcG9zaXRvcnk8VCBleHRlbmRzIEVudGl0eT4gaW1wbGVtZW50cyBJRGlzcG9zYWJsZSwgT25EZXN0cm95IHtcclxuICAvLyAjcmVnaW9uIOengeacieWxnuaAp1xyXG5cclxuICAvKipcclxuICAgKiDlkI3np7BcclxuICAgKi9cclxuICBwcml2YXRlIGlubmVyTmFtZTogc3RyaW5nO1xyXG5cclxuICAvLyAjZW5kcmVnaW9uXHJcblxyXG4gIC8vICNyZWdpb24g5YWs5pyJ5bGe5oCn77yI5YWx5pyJ5bGe5oCn5LiN5bqU6K+l55u05o6l5pq06Zyy77yM5b6F5YyF6KOF77yJXHJcblxyXG4gIC8qKlxyXG4gICAqIEFQSeWcsOWdgFxyXG4gICAqL1xyXG4gIHB1YmxpYyBhcGlVcmk6IHN0cmluZztcclxuXHJcbiAgLyoqXHJcbiAgICog5a6e5L2T57G75Z6LXHJcbiAgICovXHJcbiAgcHVibGljIGVudGl0eVR5cGU6IGFueTtcclxuXHJcbiAgLyoqXHJcbiAgICog5a6e5L2T57G75Z6L5L+h5oGvXHJcbiAgICogQHRvZG/vvJrlrp7kvZPlsYLlupTor6XkuovlhYjkuIDkuKpFbnRpdHlUeXBlSW5mb++8jOW5tue7p+aJv0RhdGFUeXBlSW5mb+OAglxyXG4gICAqL1xyXG4gIHB1YmxpYyBlbnRpdHlUeXBlSW5mbzogRGF0YVR5cGVJbmZvO1xyXG5cclxuICAvKipcclxuICAgKiDlrp7kvZPpm4blkIhcclxuICAgKi9cclxuICBwdWJsaWMgZW50aXR5Q29sbGVjdGlvbjogRW50aXR5Q29sbGVjdGlvbjxUPjtcclxuXHJcbiAgLyoqXHJcbiAgICog55So5oi35YiG6aG16YWN572u5L+h5oGvXHJcbiAgICovXHJcbiAgcHVibGljIHBhZ2luYXRpb25JbmZvOiBhbnkgPSBudWxsO1xyXG5cclxuICAvKipcclxuICAgKiDmlbDmja7lj5jmm7Tljoblj7LvvIjku4Xpkojlr7nkuLvooajlop7liqDjgIHlkITnp43ooajliKDpmaTvvIlcclxuICAgKi9cclxuICBwdWJsaWMgZGF0YUNoYW5nZUhpc3Rvcnk6IERhdGFDaGFuZ2VIaXN0b3J5O1xyXG5cclxuICAvKipcclxuICAgKiDmjpLluo/mnaHku7bnrqHnkIblmahcclxuICAgKi9cclxuICBwdWJsaWMgc29ydENvbmRpdGlvbk1hbmFnZXI6IFNvcnRDb25kaXRpb25NYW5hZ2VyO1xyXG4gIC8qKlxyXG4gICAqIOi/h+a7pOadoeS7tueuoeeQhuWZqFxyXG4gICAqL1xyXG4gIHB1YmxpYyBmaWx0ZXJDb25kaXRpb25NYW5hZ2VyOiBGaWx0ZXJDb25kaXRpb25NYW5hZ2VyO1xyXG5cclxuICAvLyAjZW5kcmVnaW9uXHJcblxyXG4gIC8vICNyZWdpb24gZ2V0L3NldOaWueazlVxyXG5cclxuICAvKipcclxuICAgKiDlrp7kvZPkuLvplK5cclxuICAgKi9cclxuICBwdWJsaWMgZ2V0IHByaW1hcnlLZXkoKTogc3RyaW5nIHtcclxuICAgIHJldHVybiB0aGlzLmVudGl0eUNvbGxlY3Rpb24ucHJpbWFyeUtleTtcclxuICB9XHJcbiAgcHVibGljIGdldCBjaGFuZ2VzKCk6IFN1YmplY3Q8TW9kaWZpY2F0aW9uPiB7XHJcbiAgICByZXR1cm4gdGhpcy5lbnRpdHlDb2xsZWN0aW9uLmNoYW5nZXM7XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIOWunuS9k+WPmOabtOmbhuWQiFxyXG4gICAqL1xyXG4gIHB1YmxpYyBnZXQgZW50aXR5Q29sbGVjdGlvbkNoYW5nZSgpOiBTdWJqZWN0PE1vZGlmaWNhdGlvbj4ge1xyXG4gICAgcmV0dXJuIHRoaXMuZW50aXR5Q29sbGVjdGlvbi5jb2xsZWN0aW9uQ2hhbmdlZDtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIOiOt+WPluWQjeensFxyXG4gICAqL1xyXG4gIHB1YmxpYyBnZXQgbmFtZSgpOiBzdHJpbmcge1xyXG4gICAgLy8gMeOAgeiAgeihqOWNleayoeaciW5hbWXlsZ7mgKdcclxuICAgIC8vIDLjgIHkuI3og73kvb/nlKhjb25zdHJ1Y290ci5uYW1l77yM5Y6L57yp6ISa5pys5Lya5oqKbmFtZeaUueaOie+8jOaIluiAheWOi+e8qeaIkOebuOWQjOeahOWQjeensO+8iOebruWJjeWPkeeOsOW3suefpe+8iVxyXG4gICAgaWYgKCF0aGlzLmlubmVyTmFtZSkge1xyXG4gICAgICBjb25zdCBndWlkID0gVUlELmNyZWF0ZSgpO1xyXG4gICAgICB0aGlzLmlubmVyTmFtZSA9IGBSZXBvc2l0b3J5XyR7Z3VpZH1gO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0aGlzLmlubmVyTmFtZTtcclxuICB9XHJcbiAgLyoqXHJcbiAgICog6K6+572u5ZCN56ewXHJcbiAgICovXHJcbiAgcHVibGljIHNldCBuYW1lKHZhbHVlOiBzdHJpbmcpIHtcclxuICAgIHRoaXMuaW5uZXJOYW1lID0gdmFsdWU7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgcGFnaW5hdGlvbk1hbmFnZXI6IFBhZ2luYXRpb25NYW5hZ2VyPFQ+O1xyXG4gIHB1YmxpYyBkZXN0cm95JDogU3ViamVjdDxhbnk+O1xyXG4gIC8vICNlbmRyZWdpb25cclxuXHJcbiAgLyoqXHJcbiAgICog5p6E6YCg5Ye95pWwXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3IoKSB7XHJcbiAgICB0aGlzLnJlYWRNZXRhZGF0YSgpO1xyXG4gICAgaWYgKHRoaXMuZW50aXR5VHlwZSkge1xyXG4gICAgICB0aGlzLmVudGl0eVR5cGVJbmZvID0gbmV3IERhdGFUeXBlSW5mbyh0aGlzLmVudGl0eVR5cGUpO1xyXG4gICAgICB0aGlzLmVudGl0eUNvbGxlY3Rpb24gPSBuZXcgRW50aXR5Q29sbGVjdGlvbjxUPih0aGlzLmVudGl0eVR5cGUpO1xyXG4gICAgfVxyXG4gICAgdGhpcy5kYXRhQ2hhbmdlSGlzdG9yeSA9IG5ldyBEYXRhQ2hhbmdlSGlzdG9yeSgpO1xyXG4gICAgdGhpcy5zb3J0Q29uZGl0aW9uTWFuYWdlciA9IG5ldyBTb3J0Q29uZGl0aW9uTWFuYWdlcigpO1xyXG4gICAgdGhpcy5maWx0ZXJDb25kaXRpb25NYW5hZ2VyID0gbmV3IEZpbHRlckNvbmRpdGlvbk1hbmFnZXIoKTtcclxuICAgIHRoaXMuZGVzdHJveSQgPSBuZXcgU3ViamVjdDxhbnk+KCk7XHJcbiAgfVxyXG4gIGRpc3Bvc2Uob3B0aW9ucz86IGFueSkge1xyXG4gICAgdGhpcy5wYWdpbmF0aW9uTWFuYWdlciA9IG51bGw7XHJcbiAgICBpZiAodGhpcy5kZXN0cm95JCkge1xyXG4gICAgICB0aGlzLmRlc3Ryb3kkLm5leHQoKTtcclxuICAgICAgdGhpcy5kZXN0cm95JC5jb21wbGV0ZSgpO1xyXG4gICAgICB0aGlzLmRlc3Ryb3kkID0gbnVsbDtcclxuICAgIH1cclxuICAgIGlmICh0aGlzLmVudGl0eUNvbGxlY3Rpb24pIHtcclxuICAgICAgdGhpcy5lbnRpdHlDb2xsZWN0aW9uLnJlc2V0KGZhbHNlKTtcclxuICAgICAgLy8gdGhpcy5lbnRpdHlDb2xsZWN0aW9uID0gbnVsbDtcclxuICAgIH1cclxuICB9XHJcbiAgbmdPbkRlc3Ryb3koKTogdm9pZCB7XHJcbiAgICB0aGlzLmRpc3Bvc2UoKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyB1cGRhdGVFbnRpdHlUeXBlKGVudGl0eVR5cGU6IGFueSkge1xyXG4gICAgdGhpcy5lbnRpdHlUeXBlID0gZW50aXR5VHlwZTtcclxuICAgIHRoaXMuZW50aXR5VHlwZUluZm8gPSBuZXcgRGF0YVR5cGVJbmZvKHRoaXMuZW50aXR5VHlwZSk7XHJcbiAgICB0aGlzLmVudGl0eUNvbGxlY3Rpb24gPSBuZXcgRW50aXR5Q29sbGVjdGlvbjxUPih0aGlzLmVudGl0eVR5cGUpO1xyXG4gIH1cclxuXHJcblxyXG4gIC8qKlxyXG4gICAqIOivu+WPluWFg+aVsOaNrlxyXG4gICAqL1xyXG4gIHByaXZhdGUgcmVhZE1ldGFkYXRhKCkge1xyXG4gICAgY29uc3QgcmVwb3NpdG9yeU1ldGFkYXRhOiBOZ1JlcG9zaXRvcnkgPSBNZXRhZGF0YVV0aWwuZ2V0Q2xhc3NNZXRhZGF0YUJ5TmFtZSh0aGlzLmNvbnN0cnVjdG9yLCAnTmdSZXBvc2l0b3J5Jyk7XHJcbiAgICBpZiAocmVwb3NpdG9yeU1ldGFkYXRhKSB7XHJcbiAgICAgIC8vIEFQSeWcsOWdgFxyXG4gICAgICB0aGlzLmFwaVVyaSA9IHJlcG9zaXRvcnlNZXRhZGF0YS5hcGlVcmw7XHJcbiAgICAgIC8vIOWunuS9k+exu+Wei1xyXG4gICAgICB0aGlzLmVudGl0eVR5cGUgPSByZXBvc2l0b3J5TWV0YWRhdGEuZW50aXR5VHlwZTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIOWIneWni+WMluWIhumhtemFjee9rlxyXG4gICAqIEBwYXJhbSBjb25maWcgLSDnlKjmiLfliIbpobXphY3nva5cclxuICAgKi9cclxuICBzZXRQYWdpbmF0aW9uQ29uZmlnKGNvbmZpZzogYW55KSB7XHJcbiAgICB0aGlzLnBhZ2luYXRpb25NYW5hZ2VyID0gbmV3IFBhZ2luYXRpb25NYW5hZ2VyKHRoaXMuZW50aXR5VHlwZSwgY29uZmlnKTtcclxuICAgIGNvbnN0IHsgcGFnZVNpemUgPSAwIH0gPSB0aGlzLnBhZ2luYXRpb25NYW5hZ2VyLmdldFBhZ2luYXRpb25Db25maWdCeVBhdGgoJy8nKSB8fCB7fTtcclxuICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTogbWF4LWxpbmUtbGVuZ3RoXHJcbiAgICB0aGlzLmVudGl0eUNvbGxlY3Rpb24ucGFnaW5hdGlvbkluZm8gPSBPYmplY3QuYXNzaWduKHsgcGFnZVNpemUgfSwgdGhpcy5wYWdpbmF0aW9uTWFuYWdlci5wYWdpbmF0aW9uLCB0aGlzLmVudGl0eUNvbGxlY3Rpb24ucGFnaW5hdGlvbkluZm8pO1xyXG4gICAgLy8g5peg6ZyA5YaN5Y2V54us6K6+572u5LiA5qyhcGFnZVNpemXvvIzlh4/lsJHkuIDmrKHlj5jmm7RcclxuICAgIC8vIHRoaXMuZW50aXR5Q29sbGVjdGlvbi5wYWdlU2l6ZSA9IHBhZ2VTaXplO1xyXG4gIH1cclxuICAvKipcclxuICAgKiDph43nva7nirbmgIFcclxuICAgKi9cclxuICBwdWJsaWMgcmVzZXQoKTogdm9pZCB7XHJcbiAgICB0aGlzLmVudGl0eUNvbGxlY3Rpb24ucmVzZXQoKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIOWIm+W7uuWunuS9k1xyXG4gICAqIEBwYXJhbSBkYXRhXHJcbiAgICovXHJcbiAgcHVibGljIGJ1aWxkRW50aXR5KGRhdGE6IGFueSk6IFQge1xyXG4gICAgY29uc3QgZW50aXR5ID0gY3JlYXRlRW50aXR5PFQ+KHRoaXMuZW50aXR5VHlwZSwgZGF0YSk7XHJcbiAgICByZXR1cm4gZW50aXR5O1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICog5om56YeP5Yib5bu65a6e5L2TXHJcbiAgICogQHBhcmFtIGxpc3REYXRhXHJcbiAgICovXHJcbiAgcHVibGljIGJ1aWxkRW50aXRpZXMobGlzdERhdGE6IGFueVtdKTogVFtdIHtcclxuICAgIGNvbnN0IGVudGl0aWVzOiBUW10gPSBjcmVhdGVFbnRpdGllczxUPih0aGlzLmVudGl0eVR5cGUsIGxpc3REYXRhKTtcclxuICAgIHJldHVybiBlbnRpdGllcztcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIOiOt+WPluWunuS9k+WIl+ihqFxyXG4gICAqIEBwYXJhbSBmaWx0ZXJzIC0gICAg6L+H5ruk5p2h5Lu2XHJcbiAgICogQHBhcmFtIHNvcnRzIC0gICAgICDmjpLluo/mnaHku7ZcclxuICAgKiBAcGFyYW0gcGFnaW5hdGlvbiAtIOWIhumhteS/oeaBr1xyXG4gICAqL1xyXG4gIGFic3RyYWN0IGdldEVudGl0aWVzKGZpbHRlcjogYW55W10sIHNvcnRzOiBhbnlbXSwgcGFnZVNpemU6IG51bWJlciB8IG51bGwsIHBhZ2VJbmRleDogbnVtYmVyIHwgbnVsbCk6IE9ic2VydmFibGU8VFtdPjtcclxuICAvKipcclxuICAgKiDojrflj5blrp7kvZPliJfooahcclxuICAgKiBAcGFyYW0gZmlsdGVyIC0g6L+H5ruk5p2h5Lu2XHJcbiAgICogQHBhcmFtIHNvcnRzIC0g5o6S5bqP5p2h5Lu2XHJcbiAgICogQHBhcmFtIHBhZ2VTaXplIC0g5YiG6aG15aSn5bCPXHJcbiAgICogQHBhcmFtIHBhZ2VJbmRleCAtIOW9k+WJjeWIhumhtVxyXG4gICAqL1xyXG4gIGFic3RyYWN0IGZpbHRlcihmaWx0ZXI/OiBhbnlbXSwgc29ydHM/OiBhbnlbXSwgcGFnZVNpemU/OiBudW1iZXIgfCBudWxsLCBwYWdlSW5kZXg/OiBudW1iZXIgfCBudWxsKTogT2JzZXJ2YWJsZTxUW10+O1xyXG4gIC8qKlxyXG4gICAqIOiOt+WPluWunuS9k+WIl+ihqFxyXG4gICAqL1xyXG4gIGFic3RyYWN0IGdldExpc3QoKTogT2JzZXJ2YWJsZTxUW10+O1xyXG4gIC8qKlxyXG4gICAqIOagueaNrmlk6I635Y+W5a6e5L2TXHJcbiAgICogQHBhcmFtIGlkIC0g5a6e5L2T5qCH6K+GXHJcbiAgICovXHJcbiAgYWJzdHJhY3QgZ2V0QnlJZChpZDogc3RyaW5nKTogT2JzZXJ2YWJsZTxUPjtcclxuICAvKipcclxuICAgKiDmoLnmja5pZOiOt+WPluWunuS9k1xyXG4gICAqIEBwYXJhbSBpZCAtIOS4u+WunuS9k2lkXHJcbiAgICovXHJcbiAgYWJzdHJhY3QgZ2V0RW50aXR5QnlJZChpZDogc3RyaW5nKTogT2JzZXJ2YWJsZTxUPjtcclxuICAvKipcclxuICAgKiDliIbpobXmn6Xor6Lku47ooagv5LuO5LuO6KGo5pWw5o2uXHJcbiAgICogQHBhcmFtIHBhdGggLSDnu5Hlrprot6/lvoRcclxuICAgKiBAcGFyYW0gaWRzIC0g57uR5a6a6Lev5b6E5a+55bqU55qE5Li76ZSuXHJcbiAgICogQHBhcmFtIGZpbHRlciAtIOi/h+a7pOadoeS7tlxyXG4gICAqIEBwYXJhbSBzb3J0IC0g5o6S5bqPXHJcbiAgICovXHJcbiAgYWJzdHJhY3QgcXVlcnlDaGlsZChwYXRoczogc3RyaW5nW10sIHBhZ2VJbmRleDogbnVtYmVyLCBwYWdlU2l6ZTogbnVtYmVyLCBmaWx0ZXI/OiBzdHJpbmcsIHNvcnQ/OiBzdHJpbmcpOiBPYnNlcnZhYmxlPFRbXT47XHJcbiAgLyoqXHJcbiAgICog5qC55o2uaWTmm7TmlrDlrp7kvZNcclxuICAgKiBAcGFyYW0gaWQgLSDlrp7kvZNpZFxyXG4gICAqL1xyXG4gIGFic3RyYWN0IHVwZGF0ZUJ5SWQoaWQ6IHN0cmluZyk6IE9ic2VydmFibGU8VD47XHJcbiAgLyoqXHJcbiAgICog5pu05paw5a6e5L2T5pWw5o2uKOWtkOihqOWIhumhtSlcclxuICAgKiBAcGFyYW0gaWQgLSDlrp7kvZPkuLvplK5cclxuICAgKi9cclxuICBhYnN0cmFjdCB1cGRhdGVFbnRpdHlCeUlkKGlkOiBzdHJpbmcpOiBPYnNlcnZhYmxlPFQ+O1xyXG4gIC8qKlxyXG4gICAqIOWIm+W7uuaWsOWunuS9k++8jOWwhuivpeWunuS9k+WKoOi9veWIsOWIl+ihqFxyXG4gICAqL1xyXG4gIGFic3RyYWN0IGNyZWF0ZSgpOiBPYnNlcnZhYmxlPGFueT47XHJcblxyXG4gIC8vIC8qKlxyXG4gIC8vICAqIOWIm+W7uuWQjuS7o+WunuS9k++8jOWwhuivpeWunuS9k+WKoOi9veWIsOWQjuS7o+WIl+ihqO+8iOaaguaXoOivpeWcuuaZr++8iVxyXG4gIC8vICAqIEBwYXJhbSBwYXRoIOi3r+W+hFxyXG4gIC8vICAqL1xyXG4gIC8vIGFic3RyYWN0IGNyZWF0ZUJ5UGF0aChwYXRoOiBzdHJpbmcpO1xyXG5cclxuICAvKipcclxuICAgKiDliJvlu7rmlrDlrp7kvZPvvIzlubbov73liqDliLDlrp7kvZPliJfooahcclxuICAgKi9cclxuICBhYnN0cmFjdCBhcHBlbmQoKTogT2JzZXJ2YWJsZTxhbnk+O1xyXG5cclxuICAvKipcclxuICAgKiDliJvlu7rmlrDnmoTlrZDlrp7kvZPvvIzlubbov73liqDliLDlrp7kvZPliJfooahcclxuICAgKiBAcGFyYW0gcGF0aCAtIOWunuS9k+i3r+W+hFxyXG4gICAqL1xyXG4gIGFic3RyYWN0IGFwcGVuZEJ5UGF0aChwYXRoOiBzdHJpbmcpOiBPYnNlcnZhYmxlPGFueT47XHJcbiAgLyoqXHJcbiAgICog5YaN5oyH5a6a5L2N572u5o+S5YWl5pWw5o2uXHJcbiAgICovXHJcbiAgYWJzdHJhY3QgaW5zZXJ0KHBvc2l0aW9uOiAxIHwgLTEsIGRlZmF1bHRWYWx1ZT86IGFueSk6IE9ic2VydmFibGU8YW55PjtcclxuICAvKipcclxuICAgKiDlnKjmjIflrprlrp7kvZPot6/lvoTmj5LlhaXlrp7kvZNcclxuICAgKiBAcGFyYW0gcGF0aCAtIOWunuS9k+i3r+W+hFxyXG4gICAqL1xyXG4gIGFic3RyYWN0IGluc2VydEJ5UGF0aChwYXRoOiBzdHJpbmcsIHBvc2l0aW9uOiAxIHwgLTEpOiBPYnNlcnZhYmxlPGFueT47XHJcbiAgLyoqXHJcbiAgICog5qC55o2uaWTliKDpmaTlr7nlupTlrp7kvZNcclxuICAgKiBAcGFyYW0gaWQgLSDlhoXnoIFcclxuICAgKi9cclxuICBhYnN0cmFjdCByZW1vdmVCeUlkKGlkOiBzdHJpbmcsIGlmU2F2ZT86IGJvb2xlYW4pOiBPYnNlcnZhYmxlPGFueT47XHJcblxyXG4gIC8qKlxyXG4gICAqIOagueaNrmlkc+aJuemHj+WIoOmZpOWunuS9k1xyXG4gICAqIEBwYXJhbSBpZCAtIGlkc1xyXG4gICAqIEBwYXJhbSBpZlNhdmUgLSDmmK/lkKbkv53lrZhcclxuICAgKiBAZGVwcmVjYXRlZCDlt7Llup/lvIPvvIzor6XmjqXlj6Pkvb/nlKhxdWVyeXN0cmluZ+S8oOWPgu+8jOWtmOWcqOi2hemVv+mXrumimOOAguivt+S9v+eUqGJhdGNoUmVtb3Zl5o6l5Y+j5pu/5Luj44CCXHJcbiAgICovXHJcbiAgYWJzdHJhY3QgcmVtb3ZlQnlJZHMoaWRzOiBzdHJpbmdbXSwgaWZTYXZlPzogYm9vbGVhbik6IE9ic2VydmFibGU8YW55PjtcclxuICAvKipcclxuICAgKiDmoLnmja5pZHPmibnph4/liKDpmaTlrp7kvZNcclxuICAgKiBAcGFyYW0gaWRzIC0gaWRzXHJcbiAgICogQHBhcmFtIGlmU2F2ZSAtIOaYr+WQpuS/neWtmFxyXG4gICAqL1xyXG4gIGFic3RyYWN0IGJhdGNoUmVtb3ZlKGlkczogc3RyaW5nW10sIGlmU2F2ZT86IGJvb2xlYW4pOiBPYnNlcnZhYmxlPGFueT47XHJcbiAgLyoqXHJcbiAgICog5qC55o2uaWTliKDpmaRwYXRo5a+55bqU55qE5ZCO5Luj5a6e5L2TXHJcbiAgICovXHJcbiAgYWJzdHJhY3QgcmVtb3ZlQnlQYXRoKHBhdGg6IHN0cmluZywgaWQ6IHN0cmluZyk7XHJcblxyXG4gIC8qKlxyXG4gICAqIOaPkOS6pGlk5a+55bqU55qE5qC55a6e5L2T5Y+Y5pu0XHJcbiAgICovXHJcbiAgYWJzdHJhY3QgdXBkYXRlQ2hhbmdlc0J5SWQoaWQ6IHN0cmluZyk6IE9ic2VydmFibGU8Ym9vbGVhbj47XHJcblxyXG4gIC8qKlxyXG4gICAqIOaPkOS6pHBhdGjlr7nlupTnmoTlrp7kvZPlj5jmm7RcclxuICAgKi9cclxuICBhYnN0cmFjdCB1cGRhdGVDaGFuZ2VzQnlQYXRoKHBhdGg6IHN0cmluZywgaWQ6IHN0cmluZyk6IE9ic2VydmFibGU8Ym9vbGVhbj47XHJcblxyXG4gIC8qKlxyXG4gICAqIOabtOaWsOaJgOacieWPmOabtFxyXG4gICAqL1xyXG4gIGFic3RyYWN0IHVwZGF0ZUFsbENoYW5nZXMoKTogT2JzZXJ2YWJsZTxib29sZWFuPjtcclxuXHJcbiAgLyoqXHJcbiAgICog5bqU55So5pyN5Yqh5Zmo56uv5Y+Y5pu0XHJcbiAgICovXHJcbiAgYWJzdHJhY3QgYXBwbHlDaGFuZ2VzKCk6IE9ic2VydmFibGU8Ym9vbGVhbj47XHJcblxyXG4gIC8qKlxyXG4gICAqIOS/neWtmGlk5a+55bqU5pWw5o2u55qE5Y+Y5pu0XHJcbiAgICovXHJcbiAgYWJzdHJhY3QgYXBwbHlDaGFuZ2VzQnlJZChpZDogc3RyaW5nKTogT2JzZXJ2YWJsZTxib29sZWFuPjtcclxuXHJcbiAgLyoqXHJcbiAgICog5Y+W5raI5Y+Y5pu06ZuGXHJcbiAgICovXHJcbiAgYWJzdHJhY3QgY2FuY2VsQ2hhbmdlcyhvcHRpb25zPzogYW55KTogT2JzZXJ2YWJsZTxib29sZWFuPjtcclxuICAvKipcclxuICAgKiDmibnph4/liKDpmaTlrZDooahcclxuICAgKi9cclxuICBhYnN0cmFjdCBiYXRjaFJlbW92ZUJ5UGF0aChwYXRoOiBzdHJpbmcsIGlkczogc3RyaW5nKTogT2JzZXJ2YWJsZTxib29sZWFuPjtcclxuICAvKipcclxuICAgKiDmibnph4/mlrDlop7ku47ooagv5LuO5LuO6KGo5pWw5o2uXHJcbiAgICogQHBhcmFtIHBhdGggLSDlrp7kvZPnu5Hlrprot6/lvoTvvIxsaWtlIDEvY2hpbGRzIG9yIDEvY2hpbGRzLzExL2NoaWxkY2hpbGRzXHJcbiAgICogQHBhcmFtIGRlZmF1bHRWYWx1ZXMgLSDpu5jorqTlrp7kvZPmlbDmja7mlbDnu4RcclxuICAgKiBAZGVzY3JpcHRpb24g5ZCO56uv5o6l5Y+j5Y+q5pSv5oyB5om56YeP5paw5aKe5a2Q6KGo77yM5om56YeP5paw5aKe5Li76KGo55uu5YmN5LiN5pSv5oyBXHJcbiAgICovXHJcbiAgYWJzdHJhY3QgYmF0Y2hBcHBlbmRCeVBhdGgocGF0aDogc3RyaW5nLCBkZWZhdWx0VmFsdWVzOiBBcnJheTxhbnk+KTogT2JzZXJ2YWJsZTxhbnk+O1xyXG4gIC8qKlxyXG4gICAqIOaJuemHj+aWsOWinuS4u+ihqOaVsOaNrlxyXG4gICAqIEBwYXJhbSBkZWZhdWx0VmFsdWVzIC0g6buY6K6k5a6e5L2T5pWw5o2u5pWw57uEXHJcbiAgICovXHJcbiAgYWJzdHJhY3QgYmF0Y2hBcHBlbmQoZGVmYXVsdFZhbHVlczogQXJyYXk8YW55Pik6IE9ic2VydmFibGU8YW55PjtcclxuICAvKipcclxuICAgKiDmo4Dmn6XlvZPliY3kuJrliqHkuIrkuIvmloflhoXmmK/lkKblrZjlnKjmnKrkv53lrZjnmoTlj5jmm7RcclxuICAgKi9cclxuICBhYnN0cmFjdCBoYXNDaGFuZ2VzKCk6IE9ic2VydmFibGU8YW55PjtcclxufVxyXG4iXX0=