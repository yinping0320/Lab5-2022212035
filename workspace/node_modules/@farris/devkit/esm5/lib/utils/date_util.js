import { format, isDate, parseISO, isEqual, compareAsc } from 'date-fns';
/**
 * 日期处理类
 */
var DateUtil = /** @class */ (function () {
    function DateUtil() {
    }
    /**
     * 将日期（或日期字符串）转换为完整的的ISO格式的字符串
     */
    DateUtil.formatISO = function (dateOrDateString) {
        if (this.isEmptyDateOrDateString(dateOrDateString) === true) {
            return this.emptyISODateTimeString;
        }
        var dateObj = this.parse(dateOrDateString);
        return format(dateObj, this.defaultISOFormat);
    };
    /**
     * 将日期（或日期字符串）转换为指定格式的字符串
     * @param dateOrDateString 日期对象或符合ISO8601规范的日期字符串
     * @param dateFormat 日期格式字符串
     */
    DateUtil.format = function (dateOrDateString, dateFormat) {
        if (this.isEmptyDateOrDateString(dateOrDateString) === true) {
            return this.emptyISODateTimeString;
        }
        var dateObj = this.parse(dateOrDateString);
        dateFormat = dateFormat ? dateFormat : this.defaultDisplayFormat;
        return format(dateObj, dateFormat);
    };
    /**
     * 创建日期
     * @param dateOrDateString 日期对象或符合ISO8601规范的日期字符串
     */
    DateUtil.parse = function (dateOrDateString) {
        if (this.isEmptyDateOrDateString(dateOrDateString) === true) {
            return null;
        }
        if (this.isDate(dateOrDateString) === true) {
            return dateOrDateString;
        }
        return parseISO(dateOrDateString);
    };
    /**
     * 是否是日期对象
     */
    DateUtil.isDate = function (date) {
        return isDate(date);
    };
    /**
     * 是否是空日期或者空日期字符串
     * @param dateOrDateString 日期或日期字符串
     */
    DateUtil.isEmptyDateOrDateString = function (dateOrDateString) {
        if (this.isDate(dateOrDateString) === true) {
            return this.isEmptyDate(dateOrDateString);
        }
        return this.isEmptyDateString(dateOrDateString);
    };
    /**
     * 是否为空日期字符串
     * @param date 日期对象
     */
    DateUtil.isEmptyDate = function (date) {
        if (!date) {
            return true;
        }
        return false;
    };
    /**
     * 是否是空日期字符串
     * @param dateString 日期字符串
     */
    DateUtil.isEmptyDateString = function (dateString) {
        if (!dateString || dateString.startsWith('0001-01-01') === true) {
            return true;
        }
        return false;
    };
    /**
     * 两个日期是否相等
     * @param dateOrDateString1 日期对象或字符串
     * @param dateOrDateString1 日期对象或字符串
     * @return 相等返回true，否则返回false
     */
    DateUtil.isEqual = function (dateOrDateString1, dateOrDateString2) {
        var dateObj1 = this.parse(dateOrDateString1);
        var dateObj2 = this.parse(dateOrDateString2);
        if (dateObj1 === dateObj2) {
            return true;
        }
        return isEqual(dateObj1, dateObj2);
    };
    /**
     * 两个日期是否相等
     * @param dateOrDateString1 日期对象或字符串
     * @param dateOrDateString1 日期对象或字符串
     * @return 返回-1、0、1
     */
    DateUtil.compare = function (dateOrDateString1, dateOrDateString2) {
        var dateObj1 = this.parse(dateOrDateString1);
        var dateObj2 = this.parse(dateOrDateString2);
        if (this.isEqual(dateObj1, dateObj2) === true) {
            return 0;
        }
        // 处理解析后为null的场景，null比所有有效日期小
        if (!dateObj1 && this.isDate(dateObj2) === true) {
            return -1;
        }
        if (!dateObj2 && this.isDate(dateObj1) === true) {
            return 1;
        }
        return compareAsc(dateObj1, dateObj2);
    };
    /**
     * 空日期字符串（N版）
     * @todo：兼容服务器端，不应该在devkit体现这种兼容，待移除
     */
    // static emptyDateTimeString = '0001-01-01T00:00:00';
    DateUtil.emptyDateTimeString = null;
    /**
     * 默认空日期字符串（ISO标准格式）
     */
    // static emptyISODateTimeString = '0001-01-01T00:00:00+00:00';
    DateUtil.emptyISODateTimeString = null;
    /**
     * 默认日期听格式
     */
    DateUtil.defaultISOFormat = "yyyy-MM-dd'T'HH:mm:ssxxx";
    DateUtil.defaultDisplayFormat = 'yyyy-MM-dd HH:mm:ss';
    DateUtil.defaultDateFormat = 'yyyy-MM-dd';
    DateUtil.defaultTimeFormat = 'HH:mm:ss';
    return DateUtil;
}());
export { DateUtil };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGF0ZV91dGlsLmpzIiwic291cmNlUm9vdCI6Im5nOi8vQGZhcnJpcy9kZXZraXQvIiwic291cmNlcyI6WyJsaWIvdXRpbHMvZGF0ZV91dGlsLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxNQUFNLEVBQUUsTUFBTSxFQUFFLFFBQVEsRUFBRSxPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0sVUFBVSxDQUFDO0FBRXpFOztHQUVHO0FBQ0g7SUFBQTtJQWlKQSxDQUFDO0lBdkhDOztPQUVHO0lBQ0ksa0JBQVMsR0FBaEIsVUFBaUIsZ0JBQTZCO1FBQzVDLElBQUksSUFBSSxDQUFDLHVCQUF1QixDQUFDLGdCQUFnQixDQUFDLEtBQUssSUFBSSxFQUFFO1lBQzNELE9BQU8sSUFBSSxDQUFDLHNCQUFzQixDQUFDO1NBQ3BDO1FBQ0QsSUFBTSxPQUFPLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDO1FBQzdDLE9BQU8sTUFBTSxDQUFDLE9BQU8sRUFBRSxJQUFJLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztJQUNoRCxDQUFDO0lBRUQ7Ozs7T0FJRztJQUNJLGVBQU0sR0FBYixVQUFjLGdCQUE2QixFQUFFLFVBQW1CO1FBQzlELElBQUksSUFBSSxDQUFDLHVCQUF1QixDQUFDLGdCQUFnQixDQUFDLEtBQUssSUFBSSxFQUFFO1lBQzNELE9BQU8sSUFBSSxDQUFDLHNCQUFzQixDQUFDO1NBQ3BDO1FBQ0QsSUFBTSxPQUFPLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDO1FBQzdDLFVBQVUsR0FBRyxVQUFVLENBQUMsQ0FBQyxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLG9CQUFvQixDQUFDO1FBQ2pFLE9BQU8sTUFBTSxDQUFDLE9BQU8sRUFBRSxVQUFVLENBQUMsQ0FBQztJQUNyQyxDQUFDO0lBRUQ7OztPQUdHO0lBQ0ksY0FBSyxHQUFaLFVBQWEsZ0JBQStCO1FBQzFDLElB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R0FBRyxZQUFZLENBQUM7SUFFakMsMEJBQWlCLEdBQUcsVUFBVSxDQUFDO0lBeUh4QyxlQUFDO0NBQUEsQUFqSkQsSUFpSkM7QUFFRCxPQUFPLEVBQUUsUUFBUSxFQUFFLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBmb3JtYXQsIGlzRGF0ZSwgcGFyc2VJU08sIGlzRXF1YWwsIGNvbXBhcmVBc2MgfSBmcm9tICdkYXRlLWZucyc7XHJcblxyXG4vKipcclxuICog5pel5pyf5aSE55CG57G7XHJcbiAqL1xyXG5jbGFzcyBEYXRlVXRpbCB7XHJcblxyXG4gIC8qKlxyXG4gICAqIOepuuaXpeacn+Wtl+espuS4su+8iE7niYjvvIlcclxuICAgKiBAdG9kb++8muWFvOWuueacjeWKoeWZqOerr++8jOS4jeW6lOivpeWcqGRldmtpdOS9k+eOsOi/meenjeWFvOWuue+8jOW+heenu+mZpFxyXG4gICAqL1xyXG4gIC8vIHN0YXRpYyBlbXB0eURhdGVUaW1lU3RyaW5nID0gJzAwMDEtMDEtMDFUMDA6MDA6MDAnO1xyXG4gIHN0YXRpYyBlbXB0eURhdGVUaW1lU3RyaW5nID0gbnVsbDtcclxuXHJcbiAgLyoqXHJcbiAgICog6buY6K6k56m65pel5pyf5a2X56ym5Liy77yISVNP5qCH5YeG5qC85byP77yJXHJcbiAgICovXHJcbiAgLy8gc3RhdGljIGVtcHR5SVNPRGF0ZVRpbWVTdHJpbmcgPSAnMDAwMS0wMS0wMVQwMDowMDowMCswMDowMCc7XHJcbiAgc3RhdGljIGVtcHR5SVNPRGF0ZVRpbWVTdHJpbmcgPSBudWxsO1xyXG5cclxuICAvKipcclxuICAgKiDpu5jorqTml6XmnJ/lkKzmoLzlvI9cclxuICAgKi9cclxuICBzdGF0aWMgZGVmYXVsdElTT0Zvcm1hdCA9IGB5eXl5LU1NLWRkJ1QnSEg6bW06c3N4eHhgO1xyXG5cclxuICBzdGF0aWMgZGVmYXVsdERpc3BsYXlGb3JtYXQgPSAneXl5eS1NTS1kZCBISDptbTpzcyc7XHJcblxyXG4gIHN0YXRpYyBkZWZhdWx0RGF0ZUZvcm1hdCA9ICd5eXl5LU1NLWRkJztcclxuXHJcbiAgc3RhdGljIGRlZmF1bHRUaW1lRm9ybWF0ID0gJ0hIOm1tOnNzJztcclxuXHJcbiAgLyoqXHJcbiAgICog5bCG5pel5pyf77yI5oiW5pel5pyf5a2X56ym5Liy77yJ6L2s5o2i5Li65a6M5pW055qE55qESVNP5qC85byP55qE5a2X56ym5LiyXHJcbiAgICovXHJcbiAgc3RhdGljIGZvcm1hdElTTyhkYXRlT3JEYXRlU3RyaW5nOiBzdHJpbmd8RGF0ZSk6IHN0cmluZyB7XHJcbiAgICBpZiAodGhpcy5pc0VtcHR5RGF0ZU9yRGF0ZVN0cmluZyhkYXRlT3JEYXRlU3RyaW5nKSA9PT0gdHJ1ZSkge1xyXG4gICAgICByZXR1cm4gdGhpcy5lbXB0eUlTT0RhdGVUaW1lU3RyaW5nO1xyXG4gICAgfVxyXG4gICAgY29uc3QgZGF0ZU9iaiA9IHRoaXMucGFyc2UoZGF0ZU9yRGF0ZVN0cmluZyk7XHJcbiAgICByZXR1cm4gZm9ybWF0KGRhdGVPYmosIHRoaXMuZGVmYXVsdElTT0Zvcm1hdCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiDlsIbml6XmnJ/vvIjmiJbml6XmnJ/lrZfnrKbkuLLvvInovazmjaLkuLrmjIflrprmoLzlvI/nmoTlrZfnrKbkuLJcclxuICAgKiBAcGFyYW0gZGF0ZU9yRGF0ZVN0cmluZyDml6XmnJ/lr7nosaHmiJbnrKblkIhJU084NjAx6KeE6IyD55qE5pel5pyf5a2X56ym5LiyXHJcbiAgICogQHBhcmFtIGRhdGVGb3JtYXQg5pel5pyf5qC85byP5a2X56ym5LiyXHJcbiAgICovXHJcbiAgc3RhdGljIGZvcm1hdChkYXRlT3JEYXRlU3RyaW5nOiBzdHJpbmd8RGF0ZSwgZGF0ZUZvcm1hdD86IHN0cmluZyk6IHN0cmluZyB7XHJcbiAgICBpZiAodGhpcy5pc0VtcHR5RGF0ZU9yRGF0ZVN0cmluZyhkYXRlT3JEYXRlU3RyaW5nKSA9PT0gdHJ1ZSkge1xyXG4gICAgICByZXR1cm4gdGhpcy5lbXB0eUlTT0RhdGVUaW1lU3RyaW5nO1xyXG4gICAgfVxyXG4gICAgY29uc3QgZGF0ZU9iaiA9IHRoaXMucGFyc2UoZGF0ZU9yRGF0ZVN0cmluZyk7XHJcbiAgICBkYXRlRm9ybWF0ID0gZGF0ZUZvcm1hdCA/IGRhdGVGb3JtYXQgOiB0aGlzLmRlZmF1bHREaXNwbGF5Rm9ybWF0O1xyXG4gICAgcmV0dXJuIGZvcm1hdChkYXRlT2JqLCBkYXRlRm9ybWF0KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIOWIm+W7uuaXpeacn1xyXG4gICAqIEBwYXJhbSBkYXRlT3JEYXRlU3RyaW5nIOaXpeacn+WvueixoeaIluespuWQiElTTzg2MDHop4TojIPnmoTml6XmnJ/lrZfnrKbkuLJcclxuICAgKi9cclxuICBzdGF0aWMgcGFyc2UoZGF0ZU9yRGF0ZVN0cmluZzogc3RyaW5nIHwgRGF0ZSk6IERhdGUge1xyXG4gICAgaWYgKHRoaXMuaXNFbXB0eURhdGVPckRhdGVTdHJpbmcoZGF0ZU9yRGF0ZVN0cmluZykgPT09IHRydWUpIHtcclxuICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHRoaXMuaXNEYXRlKGRhdGVPckRhdGVTdHJpbmcpID09PSB0cnVlKSB7XHJcbiAgICAgIHJldHVybiBkYXRlT3JEYXRlU3RyaW5nIGFzIERhdGU7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHBhcnNlSVNPKGRhdGVPckRhdGVTdHJpbmcgYXMgc3RyaW5nKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIOaYr+WQpuaYr+aXpeacn+WvueixoVxyXG4gICAqL1xyXG4gIHN0YXRpYyBpc0RhdGUoZGF0ZTogYW55KTogYm9vbGVhbiB7XHJcbiAgICByZXR1cm4gaXNEYXRlKGRhdGUpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICog5piv5ZCm5piv56m65pel5pyf5oiW6ICF56m65pel5pyf5a2X56ym5LiyXHJcbiAgICogQHBhcmFtIGRhdGVPckRhdGVTdHJpbmcg5pel5pyf5oiW5pel5pyf5a2X56ym5LiyXHJcbiAgICovXHJcbiAgc3RhdGljIGlzRW1wdHlEYXRlT3JEYXRlU3RyaW5nKGRhdGVPckRhdGVTdHJpbmc6IHN0cmluZyB8IERhdGUpIHtcclxuICAgIGlmICh0aGlzLmlzRGF0ZShkYXRlT3JEYXRlU3RyaW5nKSA9PT0gdHJ1ZSkge1xyXG4gICAgICByZXR1cm4gdGhpcy5pc0VtcHR5RGF0ZShkYXRlT3JEYXRlU3RyaW5nIGFzIERhdGUpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHRoaXMuaXNFbXB0eURhdGVTdHJpbmcoZGF0ZU9yRGF0ZVN0cmluZyBhcyBzdHJpbmcpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICog5piv5ZCm5Li656m65pel5pyf5a2X56ym5LiyXHJcbiAgICogQHBhcmFtIGRhdGUg5pel5pyf5a+56LGhXHJcbiAgICovXHJcbiAgc3RhdGljIGlzRW1wdHlEYXRlKGRhdGU6IERhdGUpIHtcclxuICAgIGlmICghZGF0ZSkge1xyXG4gICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuICAgIHJldHVybiBmYWxzZTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIOaYr+WQpuaYr+epuuaXpeacn+Wtl+espuS4slxyXG4gICAqIEBwYXJhbSBkYXRlU3RyaW5nIOaXpeacn+Wtl+espuS4slxyXG4gICAqL1xyXG4gIHN0YXRpYyBpc0VtcHR5RGF0ZVN0cmluZyhkYXRlU3RyaW5nOiBzdHJpbmcpIHtcclxuICAgIGlmICghZGF0ZVN0cmluZyB8fCBkYXRlU3RyaW5nLnN0YXJ0c1dpdGgoJzAwMDEtMDEtMDEnKSA9PT0gdHJ1ZSkge1xyXG4gICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuICAgIHJldHVybiBmYWxzZTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIOS4pOS4quaXpeacn+aYr+WQpuebuOetiVxyXG4gICAqIEBwYXJhbSBkYXRlT3JEYXRlU3RyaW5nMSDml6XmnJ/lr7nosaHmiJblrZfnrKbkuLJcclxuICAgKiBAcGFyYW0gZGF0ZU9yRGF0ZVN0cmluZzEg5pel5pyf5a+56LGh5oiW5a2X56ym5LiyXHJcbiAgICogQHJldHVybiDnm7jnrYnov5Tlm550cnVl77yM5ZCm5YiZ6L+U5ZueZmFsc2VcclxuICAgKi9cclxuICBzdGF0aWMgaXNFcXVhbChkYXRlT3JEYXRlU3RyaW5nMTogc3RyaW5nfERhdGUsIGRhdGVPckRhdGVTdHJpbmcyOiBzdHJpbmd8RGF0ZSk6IGJvb2xlYW4ge1xyXG4gICAgY29uc3QgZGF0ZU9iajEgPSB0aGlzLnBhcnNlKGRhdGVPckRhdGVTdHJpbmcxKTtcclxuICAgIGNvbnN0IGRhdGVPYmoyID0gdGhpcy5wYXJzZShkYXRlT3JEYXRlU3RyaW5nMik7XHJcbiAgICBpZiAoZGF0ZU9iajEgPT09IGRhdGVPYmoyKSB7XHJcbiAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGlzRXF1YWwoZGF0ZU9iajEsIGRhdGVPYmoyKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIOS4pOS4quaXpeacn+aYr+WQpuebuOetiVxyXG4gICAqIEBwYXJhbSBkYXRlT3JEYXRlU3RyaW5nMSDml6XmnJ/lr7nosaHmiJblrZfnrKbkuLJcclxuICAgKiBAcGFyYW0gZGF0ZU9yRGF0ZVN0cmluZzEg5pel5pyf5a+56LGh5oiW5a2X56ym5LiyXHJcbiAgICogQHJldHVybiDov5Tlm54tMeOAgTDjgIExXHJcbiAgICovXHJcbiAgc3RhdGljIGNvbXBhcmUoZGF0ZU9yRGF0ZVN0cmluZzE6IHN0cmluZ3xEYXRlLCBkYXRlT3JEYXRlU3RyaW5nMjogc3RyaW5nfERhdGUpIHtcclxuICAgIGNvbnN0IGRhdGVPYmoxID0gdGhpcy5wYXJzZShkYXRlT3JEYXRlU3RyaW5nMSk7XHJcbiAgICBjb25zdCBkYXRlT2JqMiA9IHRoaXMucGFyc2UoZGF0ZU9yRGF0ZVN0cmluZzIpO1xyXG4gICAgaWYgKHRoaXMuaXNFcXVhbChkYXRlT2JqMSwgZGF0ZU9iajIpID09PSB0cnVlKSB7XHJcbiAgICAgIHJldHVybiAwO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIOWkhOeQhuino+aekOWQjuS4um51bGznmoTlnLrmma/vvIxudWxs5q+U5omA5pyJ5pyJ5pWI5pel5pyf5bCPXHJcbiAgICBpZiAoIWRhdGVPYmoxICYmIHRoaXMuaXNEYXRlKGRhdGVPYmoyKSA9PT0gdHJ1ZSkge1xyXG4gICAgICByZXR1cm4gLTE7XHJcbiAgICB9XHJcbiAgICBpZiAoIWRhdGVPYmoyICYmIHRoaXMuaXNEYXRlKGRhdGVPYmoxKSA9PT0gdHJ1ZSkge1xyXG4gICAgICByZXR1cm4gMTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gY29tcGFyZUFzYyhkYXRlT2JqMSwgZGF0ZU9iajIpO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IHsgRGF0ZVV0aWwgfTtcclxuXHJcbiJdfQ==