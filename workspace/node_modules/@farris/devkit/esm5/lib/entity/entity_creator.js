import { EntityTypeCreator } from './entity_type_creator';
/**
 * 创建实体
 * @param entityType 实体类型
 * @param entityData 实体数据
 */
export function createEntity(entityType, entityData) {
    var entity;
    if (entityType && entityType.prototype && entityType.prototype.typeName === 'ConcreteEntityPrototype') {
        entity = new entityType(entityData);
    }
    else {
        entity = EntityTypeCreator.create(entityType, entityData); //new entityType(entityData); 
    }
    entity.constructor = entityType;
    return entity;
}
/**
 * 批量创建实体
 * @param entityType     实体类型
 * @param entityListData 实体数据数组
 */
export function createEntities(entityType, entityListData) {
    var entities = [];
    entityListData.forEach(function (entityData) {
        var entity = createEntity(entityType, entityData);
        entities.push(entity);
    });
    return entities;
}
/**
 * 已弃用：请使用createEntity方法代替。
 */
export function EntityFactory(T, data) {
    var entity = new T(data);
    return entity;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZW50aXR5X2NyZWF0b3IuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9AZmFycmlzL2RldmtpdC8iLCJzb3VyY2VzIjpbImxpYi9lbnRpdHkvZW50aXR5X2NyZWF0b3IudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBRUEsT0FBTyxFQUFFLGlCQUFpQixFQUFFLE1BQU0sdUJBQXVCLENBQUM7QUFFMUQ7Ozs7R0FJRztBQUNILE1BQU0sVUFBVSxZQUFZLENBQW1CLFVBQXFCLEVBQUUsVUFBZTtJQUNuRixJQUFJLE1BQVcsQ0FBQztJQUNoQixJQUFJLFVBQVUsSUFBSSxVQUFVLENBQUMsU0FBUyxJQUFJLFVBQVUsQ0FBQyxTQUFTLENBQUMsUUFBUSxLQUFLLHlCQUF5QixFQUFFO1FBQ3JHLE1BQU0sR0FBRyxJQUFJLFVBQVUsQ0FBQyxVQUFVLENBQUMsQ0FBQztLQUNyQztTQUFNO1FBQ0wsTUFBTSxHQUFHLGlCQUFpQixDQUFDLE1BQU0sQ0FBQyxVQUFVLEVBQUUsVUFBVSxDQUFDLENBQUMsQ0FBQSw4QkFBOEI7S0FDekY7SUFDRCxNQUFNLENBQUMsV0FBVyxHQUFHLFVBQVUsQ0FBQztJQUNoQyxPQUFPLE1BQU0sQ0FBQztBQUNoQixDQUFDO0FBRUQ7Ozs7R0FJRztBQUNILE1BQU0sVUFBVSxjQUFjLENBQW1CLFVBQXFCLEVBQUUsY0FBbUI7SUFDekYsSUFBTSxRQUFRLEdBQVEsRUFBRSxDQUFDO0lBQ3pCLGNBQWMsQ0FBQyxPQUFPLENBQUMsVUFBQyxVQUFlO1FBQ3JDLElBQU0sTUFBTSxHQUFHLFlBQVksQ0FBSSxVQUFVLEVBQUUsVUFBVSxDQUFDLENBQUM7UUFDdkQsUUFBUSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQztJQUN4QixDQUFDLENBQUMsQ0FBQztJQUNILE9BQU8sUUFBUSxDQUFDO0FBQ2xCLENBQUM7QUFFRDs7R0FFRztBQUNILE1BQU0sVUFBVSxhQUFhLENBQW1CLENBQThCLEVBQUUsSUFBUztJQUN2RixJQUFNLE1BQU0sR0FBRyxJQUFJLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUMzQixPQUFPLE1BQU0sQ0FBQztBQUNoQixDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgVHlwZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xyXG5pbXBvcnQgeyBFbnRpdHkgfSBmcm9tICcuL2VudGl0eSc7XHJcbmltcG9ydCB7IEVudGl0eVR5cGVDcmVhdG9yIH0gZnJvbSAnLi9lbnRpdHlfdHlwZV9jcmVhdG9yJztcclxuXHJcbi8qKlxyXG4gKiDliJvlu7rlrp7kvZNcclxuICogQHBhcmFtIGVudGl0eVR5cGUg5a6e5L2T57G75Z6LXHJcbiAqIEBwYXJhbSBlbnRpdHlEYXRhIOWunuS9k+aVsOaNrlxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUVudGl0eTxUIGV4dGVuZHMgRW50aXR5PihlbnRpdHlUeXBlOiBUeXBlPGFueT4sIGVudGl0eURhdGE6IGFueSk6IFQge1xyXG4gIGxldCBlbnRpdHk6IGFueTtcclxuICBpZiAoZW50aXR5VHlwZSAmJiBlbnRpdHlUeXBlLnByb3RvdHlwZSAmJiBlbnRpdHlUeXBlLnByb3RvdHlwZS50eXBlTmFtZSA9PT0gJ0NvbmNyZXRlRW50aXR5UHJvdG90eXBlJykge1xyXG4gICAgZW50aXR5ID0gbmV3IGVudGl0eVR5cGUoZW50aXR5RGF0YSk7XHJcbiAgfSBlbHNlIHtcclxuICAgIGVudGl0eSA9IEVudGl0eVR5cGVDcmVhdG9yLmNyZWF0ZShlbnRpdHlUeXBlLCBlbnRpdHlEYXRhKTsvL25ldyBlbnRpdHlUeXBlKGVudGl0eURhdGEpOyBcclxuICB9XHJcbiAgZW50aXR5LmNvbnN0cnVjdG9yID0gZW50aXR5VHlwZTtcclxuICByZXR1cm4gZW50aXR5O1xyXG59XHJcblxyXG4vKipcclxuICog5om56YeP5Yib5bu65a6e5L2TXHJcbiAqIEBwYXJhbSBlbnRpdHlUeXBlICAgICDlrp7kvZPnsbvlnotcclxuICogQHBhcmFtIGVudGl0eUxpc3REYXRhIOWunuS9k+aVsOaNruaVsOe7hFxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUVudGl0aWVzPFQgZXh0ZW5kcyBFbnRpdHk+KGVudGl0eVR5cGU6IFR5cGU8YW55PiwgZW50aXR5TGlzdERhdGE6IGFueSk6IFRbXSB7XHJcbiAgY29uc3QgZW50aXRpZXM6IFRbXSA9IFtdO1xyXG4gIGVudGl0eUxpc3REYXRhLmZvckVhY2goKGVudGl0eURhdGE6IGFueSkgPT4ge1xyXG4gICAgY29uc3QgZW50aXR5ID0gY3JlYXRlRW50aXR5PFQ+KGVudGl0eVR5cGUsIGVudGl0eURhdGEpO1xyXG4gICAgZW50aXRpZXMucHVzaChlbnRpdHkpO1xyXG4gIH0pO1xyXG4gIHJldHVybiBlbnRpdGllcztcclxufVxyXG5cclxuLyoqXHJcbiAqIOW3suW8g+eUqO+8muivt+S9v+eUqGNyZWF0ZUVudGl0eeaWueazleS7o+abv+OAglxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIEVudGl0eUZhY3Rvcnk8VCBleHRlbmRzIEVudGl0eT4oVDogbmV3ICguLi5hcmdzOiBhbnlbXSkgPT4gYW55LCBkYXRhOiBhbnkpOiBUIHtcclxuICBjb25zdCBlbnRpdHkgPSBuZXcgVChkYXRhKTtcclxuICByZXR1cm4gZW50aXR5O1xyXG59XHJcblxyXG5cclxuXHJcbiJdfQ==