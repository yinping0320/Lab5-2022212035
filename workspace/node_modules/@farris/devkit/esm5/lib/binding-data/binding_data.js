// tslint:disable: max-line-length member-ordering
/**
 * 绑定数据相关定义
 * @author Witt<jiwt@inspur.com>
 * @todo
 * 1、全局的BindingData和局部的BindingData应该拆成两个类，两个类之间是装饰关系；；
 * 2、为了保持兼容，减少改动量，暂时放在一起，待进一步重构。
 */
import { Injectable } from '@angular/core';
import { ChangeType } from './changes';
import { BindingList } from './binding_list';
import { BindingListFactory } from './binding_list_factory';
import { PropertyUtil } from './property_util';
import { EntityUtil } from './entity_util';
/**
 * 绑定数据
 * @description
 * # BindingData
 *
 * BindingData用于直接和界面绑定，它持有一个不可变的数据集合（BindingList），数据集合中是一个个不可变的数据对象（BindingObject）。
 *
 * ## 更新界面数据
 *
 * ### 接口定义
 *
 * ```javascript
 * //根据paths设置属性值
 * //@param paths 属性路径数组
 * //@param value 属性值
 * //@param emitEventToView 如果设置为true，则发送事件通知订阅它的组件、指令去更新界面，默认为false。
 * //@param emitEventToEntity 如果设置为true，则同步去更新Entity上对应的字段，默认为true。
 * public setValue(paths: string[], value: any, emitEventToView: boolean = false, emitEventToEntity: boolean = true)
 * ```
 *
 * ### 示例
 *
 * - 更新主表数据
 *
 *   ```javascript
 *   bindingData.setValue(['name'],'ESG');
 *   ```
 *
 * - 更新子表数据
 *
 *   ```javascript
 *   bindingData.setValue(['soItems','price'],20);
 *   ```
 *
 * - 更新业务字段数据
 *
 *   ```javascript
 *   bindingData.setValue(['udt','udt_field'],'value');
 *   ```
 *
 * - 仅更新界面数据（不提交变更集）
 *
 *   ```javascript
 *   bindingData.setValue(['name'],'ESG',true,false);
 *   ```
 *
 *   > 注意：
 *   >
 *   > 仅更新界面数据时bindingData必须是对应组件上下文的bindingData。
 *   >
 *   > 更新数据的命令挂载到不同的组件，产生的效果也不相同。如果命令挂到了卡片视图模型，那么可以直接在构件中注入`FrameContext`或`BindingData`并更新数据就可以。但如果命令挂到了非卡片视图 * 模型，则应该先获取到卡片上下文的bindingData。
 *   >
 *   > - 命令挂在卡片视图模型:
 *   >
 *   >   ```javascript
 *   >   const frameContext = this.frameContext.bindingData;
 *   >   frameContext.bindingData.setValue(['name'],'ESG');
 *   >   ```
 *   >
 *   > - 命令挂在非卡片视图模型：
 *   >
 *   >   ```javascript
 *   >   const cardFrameContext = this.frameContext.appContext.frameContextManager.getFrameContextById('card-frameId');
 *   >   cardFrameContext.bindingData.setValue(['name'],'ESG');
 *   >   ```
 *
 * ## 获取界面数据
 *
 * ### 接口定义
 *
 *   ```javascript
 *   //获取paths对应的属性值
 *   //@param  paths 属性路径数组
 *   //@returns 属性值
 *   public getValue(paths: string[], useInitValue = false)
 *   ```
 *
 * ### 示例
 *
 * - 获取主表数据
 *
 *   ```javascript
 *   bindingData.getValue(['name']) //'ESG'
 *   ```
 *
 * - 获取从表中字段属性
 *
 *   ```javascript
 *   bindingData.getValue(['soItems','price']); // 20
 *   ```
 *
 * - 获取业务字段数据
 *
 *   ```javascript
 *   bindingData.getValue(['udt','udt_field']); // 'value'
 *   ```
 *
 * ## 获取指定BindingObject
 *
 * ### 接口定义
 *
 * ```javascript
 * //通过主键获取对应的bindingObject
 * bindingData.list.findById(id: string): BindingObject;
 * ```
 *
 * ### 示例
 * - 获取某个主实体
 *   ```javascript
 *   bindingData.list.findById("id");
 *   ```
 * - 获取某个实体下子表的所有数据
 *   ```javascript
 *   // 获取主实体
 *   const bindingObject = bindingData.list.findById("id") as BindingObject;
 *   // 获取该实体下的某个子表数据
 *   const bindingList = bindingObject.getValue("soItems") as BindingList;
 *   ```
 *
 * - 获取子表某一行数据
 *
 *   ```javascript
 *   //获取主实体
 *   const bindingObject = bindingData.list.findById("id") as BindingObject;
 *   //获取该实体下的某个子表数据
 *   const bindingList = bindingObject.getValue("soItems") as BindingList;
 *   //子表行数据
 *   const childrenBindingObject = bindingList.findById('子表数据id');
 *   const name = childrenBindingObject.getValue("name"); // 或者childrenBindingObject['name']
 *   ```
 *
 * ## 常见问题
 *
 * ### 赋值或取值时为何不用指定主键？
 *
 *    示例中取值或赋值时并没有指定主键值，这是由于BindingData赋值或取值时都是对当前行就行操作的，所以不需要指定主键。所以在计算&行切换场景下会导致取值或赋值错误，如本来想给第一行的某个字 * 段赋值，结果由于行切换导致把值赋给了其他行。
 *
 *    如果遇到赋值错误的情况可以通过BindingObject赋值或取值。
 *
 * ### 通过bindingData赋值了，界面也刷新了，但保存不上
 *
 *    这种情况多发生在有后端请求的情况下，比如通过bindingData赋值后紧接着有一个后端请求。由于bindingData赋值是异步的（目前是），这就可能导致赋值还没有结束（还没有产生变更）请求就发送 * 了，从而请求中没有对应的变更，请求回来后会默认清空本地变更，从而导致界面上显示数据已经修改，但数据库中数据并未修改。
 *
 *    解决该类问题可以通过实体赋值的方式，给实体赋值是同步的，赋值完成后变更就会产生，这样再发送请求时就可以把变更带到后端。
 */
var BindingData = /** @class */ (function () {
    function BindingData() {
        this.paginationInfo = null;
    }
    Object.defineProperty(BindingData.prototype, "pagingInfo", {
        get: function () {
            return this.paginationInfo;
        },
        set: function (pagingInfo) {
            this.paginationInfo = pagingInfo;
            this.firePagingChangeEvent();
        },
        enumerable: true,
        configurable: true
    });
    BindingData.prototype.dispose = function (options) {
        this.list.dispose();
    };
    BindingData.prototype.ngOnDestroy = function () {
        this.dispose();
    };
    /**
     * 设置分页信息
     * @param skip 跳过
     * @param take 获取
     * @param bindingPath 路径
     */
    BindingData.prototype.setPagingInfo = function (skip, take, bindingPath) {
        if (bindingPath.length < 1 || bindingPath === '/') {
            this.paginationInfo = Object.assign(this.paginationInfo, { pageSize: take, pageIndex: skip / take + 1 });
        }
        else {
            var pagingInfo = this.paginationInfo || {};
            var bindingPaths = bindingPath.substr(1).split('/').filter(function (item) { return !!item && item.length > 0; }); // .map(item => item.substring(0, item.length - 1));
            var nodeCode = bindingPaths[bindingPaths.length - 1];
            // 去s
            nodeCode = nodeCode.substr(0, nodeCode.length - 1);
            // 找到父级
            // 获取当前实体上级的主键
            var paths = bindingPaths.slice(0, bindingPaths.length - 1);
            var parentObject = this.getValue(paths);
            if (parentObject && parentObject[parentObject.primaryKey]) {
                // const key = `${nodeCode}_${parentObject[parentObject.primaryKey]}`;
                var key = "" + nodeCode;
                pagingInfo = pagingInfo[key] || {};
                pagingInfo.pageIndex = ((skip / take) || 0) + 1;
                pagingInfo.pageSize = take || 0;
            }
        }
        this.firePagingChangeEvent();
    };
    BindingData.prototype.updatePagingInfo = function (pageInfo, bindingPath) {
        if (bindingPath.length < 1 || bindingPath === '/') {
            this.paginationInfo = Object.assign(this.paginationInfo, pageInfo);
        }
        else {
            var pagingInfo = this.paginationInfo || {};
            var bindingPaths = bindingPath.substr(1).split('/').filter(function (item) { return !!item && item.length > 0; }); // .map(item => item.substring(0, item.length - 1));
            var nodeCode = bindingPaths[bindingPaths.length - 1];
            // 去s
            nodeCode = nodeCode.substr(0, nodeCode.length - 1);
            pagingInfo[nodeCode] = Object.assign(pagingInfo[nodeCode], pageInfo);
        }
        this.firePagingChangeEvent();
    };
    BindingData.prototype.firePagingChangeEvent = function () {
        this.list.changes.next({
            type: ChangeType.PaginationInfoChange,
            path: this.bindingPath && this.bindingPath.split('/').filter(function (p) { return p; }) || [],
            value: this.paginationInfo
        });
    };
    Object.defineProperty(BindingData.prototype, "changes", {
        /**
         * 变更集
         */
        get: function () {
            return this.list.changes;
        },
        enumerable: true,
        configurable: true
    });
    /**
     * 设置值变化执行器工厂
     * @param value 值变化执行器工厂
     */
    BindingData.prototype.setValueChangeInvokerFactory = function (value) {
        this.valueChangeInvokerFactory = value;
    };
    BindingData.prototype.getValudChangeInvokerFactory = function () {
        return this.valueChangeInvokerFactory;
    };
    /**
     * 初始化（已废弃）
     */
    BindingData.prototype.init = function (repository, bindingPath) {
        this.initByRepository(repository, bindingPath);
    };
    /**
     * 根据Repository对BindingData进行初始化
     */
    BindingData.prototype.initByRepository = function (repository, bindingPath) {
        this.bindingPath = bindingPath;
        this.properties = PropertyUtil.getProperties(repository.entityType);
        this.list = BindingListFactory.create(this.properties);
        // 从repository初始化bindingData
        this.pagingInfo = repository.entityCollection.paginationInfo;
        // @todo
        // BindingData不应该知道Repository，加载数据、建立关联关系的过程应该转移到外边
        EntityUtil.loadRepository(repository, this.list);
        this.dataTypeInfo = repository.entityTypeInfo;
        this.extendProperties(this.properties);
    };
    /**
     * 初始化
     */
    BindingData.prototype.initByBindingList = function (bindingList, bindingPath) {
        this.list = bindingList;
        this.bindingPath = bindingPath;
        this.extendProperties(this.list.properties);
    };
    BindingData.prototype.setDataTypeInfo = function (dataTypeInfo) {
        this.dataTypeInfo = dataTypeInfo;
    };
    /**
     * 获取界面数据
     * @param paths 属性路径数组
     * @param useInitValue 是否使用默认值，默认为`false`
     * @returns 属性值
     */
    BindingData.prototype.getValue = function (paths, useInitValue) {
        if (useInitValue === void 0) { useInitValue = false; }
        var target = this.list;
        paths.forEach(function (path) {
            if (target) {
                target = target[path];
            }
        });
        if (useInitValue === true && paths && paths.length > 0) {
            var initValue = this.getInitValueByPaths(paths);
            if (target === undefined && target !== initValue) {
                target = initValue;
            }
        }
        return target;
    };
    /**
     * 该方法可以更新绑定层数据，从而达到更新界面数据的目的，进而更新本地仓库实体数据，产生变更，下次请求时会将变更带到后端并更新后端数据。
     * @param paths 属性路径数组
     * @param value 属性值
     * @param emitEventToView 如果设置为true，则发送事件通知订阅它的组件、指令去更新界面，默认为false。
     * @param emitEventToEntity 如果设置为true，则同步去更新Entity上对应的字段，默认为true。
     * @description
     * ## 示例
     *
     * ### 更新界面数据
     * 使用该方法时只传递path和value参数，其余参数使用默认值。该用法会更新界面数据，同时更新实体数据，实体数据更新时会产生变更，这样在下次请求时会将该变更带到后端，
     * 进而更新后端数据。
     * ```typescript
     * this.frameContext.bindingData.setValue(paths,value);
     * ```
     *
     * ### 仅更新界面数据
     * 有些场景下我们希望只更新界面的数据，不希望对后端数据产生影响，此时除传递paths和value参数外，还需要将emitEventToView设为true，emitEventToEntity设为false，
     * 此时必须使用对应BindingData的setValue方法：
     * ```typescript
     * const tableFrameContext = this.frameContext.appContext.frameContextManager.getFrameContextById('data-grid-component');
     * tableFrameContext.bindingData.setValue(paths,value,true,false);
     * ```
     * ## 注意事项
     * setValue为异步方法，如果调用该方法后随即发送后端请求，此时实体变更尚未产生，但请求已经发送，变更无法带到后端，导致变更丢失，出现界面上显示数据已经修改，
     * 但后端并未修改的问题。
     * 因此，如果赋值后随即发送请求应该使用实体赋值的方法。
     */
    BindingData.prototype.setValue = function (paths, value, emitEventToView, emitEventToEntity, errors, context) {
        if (emitEventToView === void 0) { emitEventToView = false; }
        if (emitEventToEntity === void 0) { emitEventToEntity = true; }
        if (errors === void 0) { errors = {}; }
        if (!paths || paths.length === 0) {
            throw Error('路径不能为空');
        }
        var parentPaths = paths.slice(0, paths.length - 1);
        var propName = paths[paths.length - 1];
        var parent = this.getValue(parentPaths);
        if (!parent) {
            throw Error('找不到要设置的对象');
        }
        if (parent instanceof BindingData) {
            parent = parent.list.currentItem;
        }
        else if (parent instanceof BindingList) {
            parent = parent.currentItem;
        }
        if (!!this.valueChangeInvokerFactory) {
            parent.setValue(propName, value, emitEventToView, emitEventToEntity, errors, this.valueChangeInvokerFactory(paths), context);
        }
        else {
            parent.setValue(propName, value, emitEventToView, emitEventToEntity, errors, null, context);
        }
    };
    /**
     * 根据paths清空属性值
     */
    BindingData.prototype.clearValue = function (paths, emitEventToView, emitEventToEntity, context) {
        if (emitEventToView === void 0) { emitEventToView = false; }
        if (emitEventToEntity === void 0) { emitEventToEntity = true; }
        var initValue;
        var propInfo = this.dataTypeInfo.getPropInfoByPath(paths);
        if (propInfo && propInfo.metadataInfo && propInfo.metadataInfo.initValue !== undefined) {
            initValue = propInfo.metadataInfo.initValue;
        }
        else {
            // 原来的帮助映射中，强行纠正了数值的情况，保持一致
            var oldValue = this.getValue(paths);
            if (typeof oldValue === 'number') {
                initValue = 0;
            }
            else {
                initValue = '';
            }
        }
        this.setValue(paths, initValue, emitEventToView, emitEventToEntity, null, context);
    };
    /**
     * 获取当前列表
     */
    BindingData.prototype.getList = function () {
        if (!this.bindingPath || this.bindingPath === '/') {
            return this.list;
        }
        var bindingPath = this.bindingPath.substr(1);
        var bindingPathArray = bindingPath.split('/').filter(function (part) {
            return part !== '';
        });
        return this.getValue(bindingPathArray);
    };
    /**
     * 获取当前对象
     */
    BindingData.prototype.getObject = function () {
        var bindingList = this.getList();
        return bindingList.currentItem;
    };
    /**
     * 绑定路径（仅路径部分，不包括属性）
     * @param bindingPath 绑定路径
     */
    BindingData.prototype.getPath = function (bindingPath) {
        var _this = this;
        var bindingPaths = bindingPath.filter(function (p) { return p; });
        var path = [this.list.primaryKey + ":" + this.list.currentId];
        bindingPaths.forEach(function (item) {
            path.push(item);
            var list = _this[item];
            if (list) {
                path.push(list.primaryKey + ":" + list.currentId);
            }
        });
        return path;
    };
    /**
     * 清空绑定数据
     */
    BindingData.prototype.reset = function () {
        this.list.clear(true);
    };
    /**
     * 通过绑定路径获取属性初始值
     * @param paths 绑定路径
     */
    BindingData.prototype.getInitValueByPaths = function (paths) {
        var initValue;
        var propInfo = this.dataTypeInfo && this.dataTypeInfo.getPropInfoByPath(paths) || null;
        if (propInfo && propInfo.metadataInfo && propInfo.metadataInfo.initValue !== undefined) {
            initValue = propInfo.metadataInfo.initValue;
        }
        return initValue;
    };
    /**
     * 扩展BindingData属性，映射BindingData所持有的绑定列表当前行的属性，减少绑定层级。
     * @param properties 关联实体的属性集合
     */
    BindingData.prototype.extendProperties = function (properties) {
        var _this = this;
        properties.forEach(function (property) {
            var propName = property.name;
            Object.defineProperty(_this, propName, {
                get: function () {
                    return _this.list.currentItem[propName];
                },
                set: function (value) {
                    _this.list.currentItem[propName] = value;
                }
            });
        });
    };
    BindingData.decorators = [
        { type: Injectable }
    ];
    return BindingData;
}());
export { BindingData };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYmluZGluZ19kYXRhLmpzIiwic291cmNlUm9vdCI6Im5nOi8vQGZhcnJpcy9kZXZraXQvIiwic291cmNlcyI6WyJsaWIvYmluZGluZy1kYXRhL2JpbmRpbmdfZGF0YS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxrREFBa0Q7QUFDbEQ7Ozs7OztHQU1HO0FBRUgsT0FBTyxFQUFFLFVBQVUsRUFBYSxNQUFNLGVBQWUsQ0FBQztBQUl0RCxPQUFPLEVBQVUsVUFBVSxFQUFFLE1BQU0sV0FBVyxDQUFDO0FBRS9DLE9BQU8sRUFBRSxXQUFXLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQztBQUM3QyxPQUFPLEVBQUUsa0JBQWtCLEVBQUUsTUFBTSx3QkFBd0IsQ0FBQztBQUM1RCxPQUFPLEVBQUUsWUFBWSxFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFDL0MsT0FBTyxFQUFFLFVBQVUsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUszQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0dBZ0pHO0FBQ0g7SUFBQTtRQXlCVSxtQkFBYyxHQUFHLElBQUksQ0FBQztJQXFTaEMsQ0FBQztJQW5TQyxzQkFBVyxtQ0FBVTthQUtyQjtZQUNFLE9BQU8sSUFBSSxDQUFDLGNBQWMsQ0FBQztRQUM3QixDQUFDO2FBUEQsVUFBc0IsVUFBZTtZQUNuQyxJQUFJLENBQUMsY0FBYyxHQUFHLFVBQVUsQ0FBQztZQUNqQyxJQUFJLENBQUMscUJBQXFCLEVBQUUsQ0FBQztRQUMvQixDQUFDOzs7T0FBQTtJQUtELDZCQUFPLEdBQVAsVUFBUSxPQUFhO1FBQ25CLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFLENBQUM7SUFDdEIsQ0FBQztJQUNELGlDQUFXLEdBQVg7UUFDRSxJQUFJ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ZCxLQUFJLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxRQUFRLENBQUMsR0FBRyxLQUFLLENBQUM7Z0JBQzFDLENBQUM7YUFDRixDQUFDLENBQUM7UUFDTCxDQUFDLENBQUMsQ0FBQztJQUNMLENBQUM7O2dCQTdURixVQUFVOztJQThUWCxrQkFBQztDQUFBLEFBOVRELElBOFRDO0FBRUQsT0FBTyxFQUFFLFdBQVcsRUFBRSxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiLy8gdHNsaW50OmRpc2FibGU6IG1heC1saW5lLWxlbmd0aCBtZW1iZXItb3JkZXJpbmdcclxuLyoqXHJcbiAqIOe7keWumuaVsOaNruebuOWFs+WumuS5iVxyXG4gKiBAYXV0aG9yIFdpdHQ8aml3dEBpbnNwdXIuY29tPlxyXG4gKiBAdG9kb1xyXG4gKiAx44CB5YWo5bGA55qEQmluZGluZ0RhdGHlkozlsYDpg6jnmoRCaW5kaW5nRGF0YeW6lOivpeaLhuaIkOS4pOS4quexu++8jOS4pOS4quexu+S5i+mXtOaYr+ijhemlsOWFs+ezu++8m++8m1xyXG4gKiAy44CB5Li65LqG5L+d5oyB5YW85a6577yM5YeP5bCR5pS55Yqo6YeP77yM5pqC5pe25pS+5Zyo5LiA6LW377yM5b6F6L+b5LiA5q2l6YeN5p6E44CCXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgSW5qZWN0YWJsZSwgT25EZXN0cm95IH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcbmltcG9ydCB7IFN1YmplY3QgfSBmcm9tICdyeGpzJztcclxuaW1wb3J0IHsgRGF0YVR5cGVJbmZvIH0gZnJvbSAnLi4vY29yZS9kYXRhLXR5cGUtaW5mbyc7XHJcbmltcG9ydCB7IFJlcG9zaXRvcnkgfSBmcm9tICcuLi9yZXBvc2l0b3J5L2luZGV4JztcclxuaW1wb3J0IHsgQ2hhbmdlLCBDaGFuZ2VUeXBlIH0gZnJvbSAnLi9jaGFuZ2VzJztcclxuaW1wb3J0IHsgQmluZGluZ1Byb3BlcnR5IH0gZnJvbSAnLi9iaW5kaW5nX3Byb3BlcnR5JztcclxuaW1wb3J0IHsgQmluZGluZ0xpc3QgfSBmcm9tICcuL2JpbmRpbmdfbGlzdCc7XHJcbmltcG9ydCB7IEJpbmRpbmdMaXN0RmFjdG9yeSB9IGZyb20gJy4vYmluZGluZ19saXN0X2ZhY3RvcnknO1xyXG5pbXBvcnQgeyBQcm9wZXJ0eVV0aWwgfSBmcm9tICcuL3Byb3BlcnR5X3V0aWwnO1xyXG5pbXBvcnQgeyBFbnRpdHlVdGlsIH0gZnJvbSAnLi9lbnRpdHlfdXRpbCc7XHJcbmltcG9ydCB7IEJpbmRpbmdPYmplY3QgfSBmcm9tICcuL2JpbmRpbmdfb2JqZWN0JztcclxuaW1wb3J0IHsgSW52b2tlT25WYWx1ZUNoYW5nZSB9IGZyb20gJy4vdHlwZXMnO1xyXG5pbXBvcnQgeyBJRGlzcG9zYWJsZSB9IGZyb20gJy4uL2NvcmUnO1xyXG5cclxuLyoqXHJcbiAqIOe7keWumuaVsOaNrlxyXG4gKiBAZGVzY3JpcHRpb25cclxuICogIyBCaW5kaW5nRGF0YVxyXG4gKiBcclxuICogQmluZGluZ0RhdGHnlKjkuo7nm7TmjqXlkoznlYzpnaLnu5HlrprvvIzlroPmjIHmnInkuIDkuKrkuI3lj6/lj5jnmoTmlbDmja7pm4blkIjvvIhCaW5kaW5nTGlzdO+8ie+8jOaVsOaNrumbhuWQiOS4reaYr+S4gOS4quS4quS4jeWPr+WPmOeahOaVsOaNruWvueixoe+8iEJpbmRpbmdPYmplY3TvvInjgIJcclxuICogXHJcbiAqICMjIOabtOaWsOeVjOmdouaVsOaNrlxyXG4gKiBcclxuICogIyMjIOaOpeWPo+WumuS5iVxyXG4gKiBcclxuICogYGBgamF2YXNjcmlwdFxyXG4gKiAvL+agueaNrnBhdGhz6K6+572u5bGe5oCn5YC8XHJcbiAqIC8vQHBhcmFtIHBhdGhzIOWxnuaAp+i3r+W+hOaVsOe7hFxyXG4gKiAvL0BwYXJhbSB2YWx1ZSDlsZ7mgKflgLxcclxuICogLy9AcGFyYW0gZW1pdEV2ZW50VG9WaWV3IOWmguaenOiuvue9ruS4unRydWXvvIzliJnlj5HpgIHkuovku7bpgJrnn6XorqLpmIXlroPnmoTnu4Tku7bjgIHmjIfku6Tljrvmm7TmlrDnlYzpnaLvvIzpu5jorqTkuLpmYWxzZeOAglxyXG4gKiAvL0BwYXJhbSBlbWl0RXZlbnRUb0VudGl0eSDlpoLmnpzorr7nva7kuLp0cnVl77yM5YiZ5ZCM5q2l5Y675pu05pawRW50aXR55LiK5a+55bqU55qE5a2X5q6177yM6buY6K6k5Li6dHJ1ZeOAglxyXG4gKiBwdWJsaWMgc2V0VmFsdWUocGF0aHM6IHN0cmluZ1tdLCB2YWx1ZTogYW55LCBlbWl0RXZlbnRUb1ZpZXc6IGJvb2xlYW4gPSBmYWxzZSwgZW1pdEV2ZW50VG9FbnRpdHk6IGJvb2xlYW4gPSB0cnVlKVxyXG4gKiBgYGBcclxuICogXHJcbiAqICMjIyDnpLrkvotcclxuICogXHJcbiAqIC0g5pu05paw5Li76KGo5pWw5o2uXHJcbiAqIFxyXG4gKiAgIGBgYGphdmFzY3JpcHRcclxuICogICBiaW5kaW5nRGF0YS5zZXRWYWx1ZShbJ25hbWUnXSwnRVNHJyk7XHJcbiAqICAgYGBgXHJcbiAqIFxyXG4gKiAtIOabtOaWsOWtkOihqOaVsOaNrlxyXG4gKiBcclxuICogICBgYGBqYXZhc2NyaXB0XHJcbiAqICAgYmluZGluZ0RhdGEuc2V0VmFsdWUoWydzb0l0ZW1zJywncHJpY2UnXSwyMCk7XHJcbiAqICAgYGBgXHJcbiAqIFxyXG4gKiAtIOabtOaWsOS4muWKoeWtl+auteaVsOaNrlxyXG4gKiBcclxuICogICBgYGBqYXZhc2NyaXB0XHJcbiAqICAgYmluZGluZ0RhdGEuc2V0VmFsdWUoWyd1ZHQnLCd1ZHRfZmllbGQnXSwndmFsdWUnKTtcclxuICogICBgYGBcclxuICogXHJcbiAqIC0g5LuF5pu05paw55WM6Z2i5pWw5o2u77yI5LiN5o+Q5Lqk5Y+Y5pu06ZuG77yJXHJcbiAqIFxyXG4gKiAgIGBgYGphdmFzY3JpcHRcclxuICogICBiaW5kaW5nRGF0YS5zZXRWYWx1ZShbJ25hbWUnXSwnRVNHJyx0cnVlLGZhbHNlKTtcclxuICogICBgYGBcclxuICogXHJcbiAqICAgPiDms6jmhI/vvJpcclxuICogICA+XHJcbiAqICAgPiDku4Xmm7TmlrDnlYzpnaLmlbDmja7ml7ZiaW5kaW5nRGF0YeW/hemhu+aYr+WvueW6lOe7hOS7tuS4iuS4i+aWh+eahGJpbmRpbmdEYXRh44CCXHJcbiAqICAgPlxyXG4gKiAgID4g5pu05paw5pWw5o2u55qE5ZG95Luk5oyC6L295Yiw5LiN5ZCM55qE57uE5Lu277yM5Lqn55Sf55qE5pWI5p6c5Lmf5LiN55u45ZCM44CC5aaC5p6c5ZG95Luk5oyC5Yiw5LqG5Y2h54mH6KeG5Zu+5qih5Z6L77yM6YKj5LmI5Y+v5Lul55u05o6l5Zyo5p6E5Lu25Lit5rOo5YWlYEZyYW1lQ29udGV4dGDmiJZgQmluZGluZ0RhdGFg5bm25pu05paw5pWw5o2u5bCx5Y+v5Lul44CC5L2G5aaC5p6c5ZG95Luk5oyC5Yiw5LqG6Z2e5Y2h54mH6KeG5Zu+ICog5qih5Z6L77yM5YiZ5bqU6K+l5YWI6I635Y+W5Yiw5Y2h54mH5LiK5LiL5paH55qEYmluZGluZ0RhdGHjgIJcclxuICogICA+XHJcbiAqICAgPiAtIOWRveS7pOaMguWcqOWNoeeJh+inhuWbvuaooeWeizpcclxuICogICA+XHJcbiAqICAgPiAgIGBgYGphdmFzY3JpcHRcclxuICogICA+ICAgY29uc3QgZnJhbWVDb250ZXh0ID0gdGhpcy5mcmFtZUNvbnRleHQuYmluZGluZ0RhdGE7XHJcbiAqICAgPiAgIGZyYW1lQ29udGV4dC5iaW5kaW5nRGF0YS5zZXRWYWx1ZShbJ25hbWUnXSwnRVNHJyk7XHJcbiAqICAgPiAgIGBgYFxyXG4gKiAgID5cclxuICogICA+IC0g5ZG95Luk5oyC5Zyo6Z2e5Y2h54mH6KeG5Zu+5qih5Z6L77yaXHJcbiAqICAgPlxyXG4gKiAgID4gICBgYGBqYXZhc2NyaXB0XHJcbiAqICAgPiAgIGNvbnN0IGNhcmRGcmFtZUNvbnRleHQgPSB0aGlzLmZyYW1lQ29udGV4dC5hcHBDb250ZXh0LmZyYW1lQ29udGV4dE1hbmFnZXIuZ2V0RnJhbWVDb250ZXh0QnlJZCgnY2FyZC1mcmFtZUlkJyk7XHJcbiAqICAgPiAgIGNhcmRGcmFtZUNvbnRleHQuYmluZGluZ0RhdGEuc2V0VmFsdWUoWyduYW1lJ10sJ0VTRycpO1xyXG4gKiAgID4gICBgYGBcclxuICogXHJcbiAqICMjIOiOt+WPlueVjOmdouaVsOaNrlxyXG4gKiBcclxuICogIyMjIOaOpeWPo+WumuS5iVxyXG4gKiBcclxuICogICBgYGBqYXZhc2NyaXB0XHJcbiAqICAgLy/ojrflj5ZwYXRoc+WvueW6lOeahOWxnuaAp+WAvFxyXG4gKiAgIC8vQHBhcmFtICBwYXRocyDlsZ7mgKfot6/lvoTmlbDnu4RcclxuICogICAvL0ByZXR1cm5zIOWxnuaAp+WAvFxyXG4gKiAgIHB1YmxpYyBnZXRWYWx1ZShwYXRoczogc3RyaW5nW10sIHVzZUluaXRWYWx1ZSA9IGZhbHNlKVxyXG4gKiAgIGBgYFxyXG4gKiBcclxuICogIyMjIOekuuS+i1xyXG4gKiBcclxuICogLSDojrflj5bkuLvooajmlbDmja5cclxuICogXHJcbiAqICAgYGBgamF2YXNjcmlwdFxyXG4gKiAgIGJpbmRpbmdEYXRhLmdldFZhbHVlKFsnbmFtZSddKSAvLydFU0cnXHJcbiAqICAgYGBgXHJcbiAqIFxyXG4gKiAtIOiOt+WPluS7juihqOS4reWtl+auteWxnuaAp1xyXG4gKiBcclxuICogICBgYGBqYXZhc2NyaXB0XHJcbiAqICAgYmluZGluZ0RhdGEuZ2V0VmFsdWUoWydzb0l0ZW1zJywncHJpY2UnXSk7IC8vIDIwXHJcbiAqICAgYGBgXHJcbiAqIFxyXG4gKiAtIOiOt+WPluS4muWKoeWtl+auteaVsOaNrlxyXG4gKiBcclxuICogICBgYGBqYXZhc2NyaXB0XHJcbiAqICAgYmluZGluZ0RhdGEuZ2V0VmFsdWUoWyd1ZHQnLCd1ZHRfZmllbGQnXSk7IC8vICd2YWx1ZSdcclxuICogICBgYGBcclxuICogXHJcbiAqICMjIOiOt+WPluaMh+WumkJpbmRpbmdPYmplY3RcclxuICogXHJcbiAqICMjIyDmjqXlj6PlrprkuYlcclxuICogXHJcbiAqIGBgYGphdmFzY3JpcHRcclxuICogLy/pgJrov4fkuLvplK7ojrflj5blr7nlupTnmoRiaW5kaW5nT2JqZWN0XHJcbiAqIGJpbmRpbmdEYXRhLmxpc3QuZmluZEJ5SWQoaWQ6IHN0cmluZyk6IEJpbmRpbmdPYmplY3Q7XHJcbiAqIGBgYFxyXG4gKiBcclxuICogIyMjIOekuuS+i1xyXG4gKiAtIOiOt+WPluafkOS4quS4u+WunuS9k1xyXG4gKiAgIGBgYGphdmFzY3JpcHRcclxuICogICBiaW5kaW5nRGF0YS5saXN0LmZpbmRCeUlkKFwiaWRcIik7XHJcbiAqICAgYGBgXHJcbiAqIC0g6I635Y+W5p+Q5Liq5a6e5L2T5LiL5a2Q6KGo55qE5omA5pyJ5pWw5o2uXHJcbiAqICAgYGBgamF2YXNjcmlwdFxyXG4gKiAgIC8vIOiOt+WPluS4u+WunuS9k1xyXG4gKiAgIGNvbnN0IGJpbmRpbmdPYmplY3QgPSBiaW5kaW5nRGF0YS5saXN0LmZpbmRCeUlkKFwiaWRcIikgYXMgQmluZGluZ09iamVjdDtcclxuICogICAvLyDojrflj5bor6Xlrp7kvZPkuIvnmoTmn5DkuKrlrZDooajmlbDmja5cclxuICogICBjb25zdCBiaW5kaW5nTGlzdCA9IGJpbmRpbmdPYmplY3QuZ2V0VmFsdWUoXCJzb0l0ZW1zXCIpIGFzIEJpbmRpbmdMaXN0O1xyXG4gKiAgIGBgYFxyXG4gKiBcclxuICogLSDojrflj5blrZDooajmn5DkuIDooYzmlbDmja5cclxuICogXHJcbiAqICAgYGBgamF2YXNjcmlwdFxyXG4gKiAgIC8v6I635Y+W5Li75a6e5L2TXHJcbiAqICAgY29uc3QgYmluZGluZ09iamVjdCA9IGJpbmRpbmdEYXRhLmxpc3QuZmluZEJ5SWQoXCJpZFwiKSBhcyBCaW5kaW5nT2JqZWN0O1xyXG4gKiAgIC8v6I635Y+W6K+l5a6e5L2T5LiL55qE5p+Q5Liq5a2Q6KGo5pWw5o2uXHJcbiAqICAgY29uc3QgYmluZGluZ0xpc3QgPSBiaW5kaW5nT2JqZWN0LmdldFZhbHVlKFwic29JdGVtc1wiKSBhcyBCaW5kaW5nTGlzdDtcclxuICogICAvL+WtkOihqOihjOaVsOaNrlxyXG4gKiAgIGNvbnN0IGNoaWxkcmVuQmluZGluZ09iamVjdCA9IGJpbmRpbmdMaXN0LmZpbmRCeUlkKCflrZDooajmlbDmja5pZCcpO1xyXG4gKiAgIGNvbnN0IG5hbWUgPSBjaGlsZHJlbkJpbmRpbmdPYmplY3QuZ2V0VmFsdWUoXCJuYW1lXCIpOyAvLyDmiJbogIVjaGlsZHJlbkJpbmRpbmdPYmplY3RbJ25hbWUnXVxyXG4gKiAgIGBgYFxyXG4gKiBcclxuICogIyMg5bi46KeB6Zeu6aKYXHJcbiAqIFxyXG4gKiAjIyMg6LWL5YC85oiW5Y+W5YC85pe25Li65L2V5LiN55So5oyH5a6a5Li76ZSu77yfXHJcbiAqIFxyXG4gKiAgICDnpLrkvovkuK3lj5blgLzmiJbotYvlgLzml7blubbmsqHmnInmjIflrprkuLvplK7lgLzvvIzov5nmmK/nlLHkuo5CaW5kaW5nRGF0Yei1i+WAvOaIluWPluWAvOaXtumDveaYr+WvueW9k+WJjeihjOWwseihjOaTjeS9nOeahO+8jOaJgOS7peS4jemcgOimgeaMh+WumuS4u+mUruOAguaJgOS7peWcqOiuoeeulybooYzliIfmjaLlnLrmma/kuIvkvJrlr7zoh7Tlj5blgLzmiJbotYvlgLzplJnor6/vvIzlpoLmnKzmnaXmg7Pnu5nnrKzkuIDooYznmoTmn5DkuKrlrZcgKiDmrrXotYvlgLzvvIznu5PmnpznlLHkuo7ooYzliIfmjaLlr7zoh7TmiorlgLzotYvnu5nkuoblhbbku5booYzjgIJcclxuICogXHJcbiAqICAgIOWmguaenOmBh+WIsOi1i+WAvOmUmeivr+eahOaDheWGteWPr+S7pemAmui/h0JpbmRpbmdPYmplY3TotYvlgLzmiJblj5blgLzjgIJcclxuICogXHJcbiAqICMjIyDpgJrov4diaW5kaW5nRGF0Yei1i+WAvOS6hu+8jOeVjOmdouS5n+WIt+aWsOS6hu+8jOS9huS/neWtmOS4jeS4ilxyXG4gKiBcclxuICogICAg6L+Z56eN5oOF5Ya15aSa5Y+R55Sf5Zyo5pyJ5ZCO56uv6K+35rGC55qE5oOF5Ya15LiL77yM5q+U5aaC6YCa6L+HYmluZGluZ0RhdGHotYvlgLzlkI7ntKfmjqXnnYDmnInkuIDkuKrlkI7nq6/or7fmsYLjgILnlLHkuo5iaW5kaW5nRGF0Yei1i+WAvOaYr+W8guatpeeahO+8iOebruWJjeaYr++8ie+8jOi/meWwseWPr+iDveWvvOiHtOi1i+WAvOi/mOayoeaciee7k+adn++8iOi/mOayoeacieS6p+eUn+WPmOabtO+8ieivt+axguWwseWPkemAgSAqIOS6hu+8jOS7juiAjOivt+axguS4reayoeacieWvueW6lOeahOWPmOabtO+8jOivt+axguWbnuadpeWQjuS8mum7mOiupOa4heepuuacrOWcsOWPmOabtO+8jOS7juiAjOWvvOiHtOeVjOmdouS4iuaYvuekuuaVsOaNruW3sue7j+S/ruaUue+8jOS9huaVsOaNruW6k+S4reaVsOaNruW5tuacquS/ruaUueOAglxyXG4gKiBcclxuICogICAg6Kej5Yaz6K+l57G76Zeu6aKY5Y+v5Lul6YCa6L+H5a6e5L2T6LWL5YC855qE5pa55byP77yM57uZ5a6e5L2T6LWL5YC85piv5ZCM5q2l55qE77yM6LWL5YC85a6M5oiQ5ZCO5Y+Y5pu05bCx5Lya5Lqn55Sf77yM6L+Z5qC35YaN5Y+R6YCB6K+35rGC5pe25bCx5Y+v5Lul5oqK5Y+Y5pu05bim5Yiw5ZCO56uv44CCXHJcbiAqL1xyXG5ASW5qZWN0YWJsZSgpXHJcbmNsYXNzIEJpbmRpbmdEYXRhIGltcGxlbWVudHMgSURpc3Bvc2FibGUsIE9uRGVzdHJveXtcclxuICAvKipcclxuICAgKiDmlbDmja7nsbvlnovmj4/ov7BcclxuICAgKi9cclxuICBwcml2YXRlIGRhdGFUeXBlSW5mbzogRGF0YVR5cGVJbmZvO1xyXG5cclxuICAvKipcclxuICAgKiDnu5Hlrpror6Xot6/lvoRcclxuICAgKi9cclxuICBwdWJsaWMgYmluZGluZ1BhdGg6IHN0cmluZztcclxuXHJcbiAgLyoqXHJcbiAgICog5Y+v57uR5a6a55qE5bGe5oCn5o+P6L+wXHJcbiAgICovXHJcbiAgcHVibGljIHByb3BlcnRpZXM6IEJpbmRpbmdQcm9wZXJ0eVtdO1xyXG5cclxuICAvKipcclxuICAgKiDooYzliIfmjaLkuovku7bmmoLlgZzmipvlh7pcclxuICAgKi9cclxuICBwdWJsaWMgcm93U2VsZWN0ZWRFdmVudFN1c3BlbmQ6IGJvb2xlYW47XHJcbiAgLyoqXHJcbiAgICog5pWw5o2u5YiX6KGoXHJcbiAgICovXHJcbiAgcHVibGljIGxpc3Q6IEJpbmRpbmdMaXN0O1xyXG4gIHByaXZhdGUgcGFnaW5hdGlvbkluZm8gPSBudWxsO1xyXG5cclxuICBwdWJsaWMgc2V0IHBhZ2luZ0luZm8ocGFnaW5nSW5mbzogYW55KSB7XHJcbiAgICB0aGlzLnBhZ2luYXRpb25JbmZvID0gcGFnaW5nSW5mbztcclxuICAgIHRoaXMuZmlyZVBhZ2luZ0NoYW5nZUV2ZW50KCk7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgZ2V0IHBhZ2luZ0luZm8oKSB7XHJcbiAgICByZXR1cm4gdGhpcy5wYWdpbmF0aW9uSW5mbztcclxuICB9XHJcbiAgZGlzcG9zZShvcHRpb25zPzogYW55KSB7XHJcbiAgICB0aGlzLmxpc3QuZGlzcG9zZSgpO1xyXG4gIH1cclxuICBuZ09uRGVzdHJveSgpOiB2b2lkIHtcclxuICAgIHRoaXMuZGlzcG9zZSgpO1xyXG4gIH1cclxuICAvKipcclxuICAgKiDorr7nva7liIbpobXkv6Hmga9cclxuICAgKiBAcGFyYW0gc2tpcCDot7Pov4dcclxuICAgKiBAcGFyYW0gdGFrZSDojrflj5ZcclxuICAgKiBAcGFyYW0gYmluZGluZ1BhdGgg6Lev5b6EXHJcbiAgICovXHJcbiAgcHVibGljIHNldFBhZ2luZ0luZm8oc2tpcDogbnVtYmVyLCB0YWtlOiBudW1iZXIsIGJpbmRpbmdQYXRoOiBzdHJpbmcpIHtcclxuICAgIGlmIChiaW5kaW5nUGF0aC5sZW5ndGggPCAxIHx8IGJpbmRpbmdQYXRoID09PSAnLycpIHtcclxuICAgICAgdGhpcy5wYWdpbmF0aW9uSW5mbyA9IE9iamVjdC5hc3NpZ24odGhpcy5wYWdpbmF0aW9uSW5mbywgeyBwYWdlU2l6ZTogdGFrZSwgcGFnZUluZGV4OiBza2lwIC8gdGFrZSArIDEgfSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBsZXQgcGFnaW5nSW5mbyA9IHRoaXMucGFnaW5hdGlvbkluZm8gfHwge307XHJcbiAgICAgIGNvbnN0IGJpbmRpbmdQYXRocyA9IGJpbmRpbmdQYXRoLnN1YnN0cigxKS5zcGxpdCgnLycpLmZpbHRlcihpdGVtID0+ICEhaXRlbSAmJiBpdGVtLmxlbmd0aCA+IDApOyAvLyAubWFwKGl0ZW0gPT4gaXRlbS5zdWJzdHJpbmcoMCwgaXRlbS5sZW5ndGggLSAxKSk7XHJcbiAgICAgIGxldCBub2RlQ29kZSA9IGJpbmRpbmdQYXRoc1tiaW5kaW5nUGF0aHMubGVuZ3RoIC0gMV07XHJcbiAgICAgIC8vIOWOu3NcclxuICAgICAgbm9kZUNvZGUgPSBub2RlQ29kZS5zdWJzdHIoMCwgbm9kZUNvZGUubGVuZ3RoIC0gMSk7XHJcbiAgICAgIC8vIOaJvuWIsOeItue6p1xyXG4gICAgICAvLyDojrflj5blvZPliY3lrp7kvZPkuIrnuqfnmoTkuLvplK5cclxuICAgICAgY29uc3QgcGF0aHMgPSBiaW5kaW5nUGF0aHMuc2xpY2UoMCwgYmluZGluZ1BhdGhzLmxlbmd0aCAtIDEpO1xyXG4gICAgICBjb25zdCBwYXJlbnRPYmplY3QgPSB0aGlzLmdldFZhbHVlKHBhdGhzKSBhcyBCaW5kaW5nT2JqZWN0O1xyXG4gICAgICBpZiAocGFyZW50T2JqZWN0ICYmIHBhcmVudE9iamVjdFtwYXJlbnRPYmplY3QucHJpbWFyeUtleV0pIHtcclxuICAgICAgICAvLyBjb25zdCBrZXkgPSBgJHtub2RlQ29kZX1fJHtwYXJlbnRPYmplY3RbcGFyZW50T2JqZWN0LnByaW1hcnlLZXldfWA7XHJcbiAgICAgICAgY29uc3Qga2V5ID0gYCR7bm9kZUNvZGV9YDtcclxuICAgICAgICBwYWdpbmdJbmZvID0gcGFnaW5nSW5mb1trZXldIHx8IHt9O1xyXG4gICAgICAgIHBhZ2luZ0luZm8ucGFnZUluZGV4ID0gKChza2lwIC8gdGFrZSkgfHwgMCkgKyAxO1xyXG4gICAgICAgIHBhZ2luZ0luZm8ucGFnZVNpemUgPSB0YWtlIHx8IDA7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHRoaXMuZmlyZVBhZ2luZ0NoYW5nZUV2ZW50KCk7XHJcbiAgfVxyXG4gIHB1YmxpYyB1cGRhdGVQYWdpbmdJbmZvKHBhZ2VJbmZvOiB7IHBhZ2VJbmRleD86IG51bWJlciwgcGFnZVNpemU/OiBudW1iZXIsIHRvdGFsPzogbnVtYmVyIH0sIGJpbmRpbmdQYXRoOiBzdHJpbmcpIHtcclxuICAgIGlmIChiaW5kaW5nUGF0aC5sZW5ndGggPCAxIHx8IGJpbmRpbmdQYXRoID09PSAnLycpIHtcclxuICAgICAgdGhpcy5wYWdpbmF0aW9uSW5mbyA9IE9iamVjdC5hc3NpZ24odGhpcy5wYWdpbmF0aW9uSW5mbywgcGFnZUluZm8pO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgbGV0IHBhZ2luZ0luZm8gPSB0aGlzLnBhZ2luYXRpb25JbmZvIHx8IHt9O1xyXG4gICAgICBjb25zdCBiaW5kaW5nUGF0aHMgPSBiaW5kaW5nUGF0aC5zdWJzdHIoMSkuc3BsaXQoJy8nKS5maWx0ZXIoaXRlbSA9PiAhIWl0ZW0gJiYgaXRlbS5sZW5ndGggPiAwKTsgLy8gLm1hcChpdGVtID0+IGl0ZW0uc3Vic3RyaW5nKDAsIGl0ZW0ubGVuZ3RoIC0gMSkpO1xyXG4gICAgICBsZXQgbm9kZUNvZGUgPSBiaW5kaW5nUGF0aHNbYmluZGluZ1BhdGhzLmxlbmd0aCAtIDFdO1xyXG4gICAgICAvLyDljrtzXHJcbiAgICAgIG5vZGVDb2RlID0gbm9kZUNvZGUuc3Vic3RyKDAsIG5vZGVDb2RlLmxlbmd0aCAtIDEpO1xyXG4gICAgICBwYWdpbmdJbmZvW25vZGVDb2RlXSA9IE9iamVjdC5hc3NpZ24ocGFnaW5nSW5mb1tub2RlQ29kZV0sIHBhZ2VJbmZvKTtcclxuICAgIH1cclxuICAgIHRoaXMuZmlyZVBhZ2luZ0NoYW5nZUV2ZW50KCk7XHJcbiAgfVxyXG4gIHByaXZhdGUgZmlyZVBhZ2luZ0NoYW5nZUV2ZW50KCkge1xyXG4gICAgdGhpcy5saXN0LmNoYW5nZXMubmV4dCh7XHJcbiAgICAgIHR5cGU6IENoYW5nZVR5cGUuUGFnaW5hdGlvbkluZm9DaGFuZ2UsXHJcbiAgICAgIHBhdGg6IHRoaXMuYmluZGluZ1BhdGggJiYgdGhpcy5iaW5kaW5nUGF0aC5zcGxpdCgnLycpLmZpbHRlcihwID0+IHApIHx8IFtdLFxyXG4gICAgICB2YWx1ZTogdGhpcy5wYWdpbmF0aW9uSW5mb1xyXG4gICAgfSk7XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIOWPmOabtOmbhlxyXG4gICAqL1xyXG4gIHB1YmxpYyBnZXQgY2hhbmdlcygpOiBTdWJqZWN0PENoYW5nZT4ge1xyXG4gICAgcmV0dXJuIHRoaXMubGlzdC5jaGFuZ2VzO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICog5YC85Y+Y5YyW5omn6KGM5Zmo5bel5Y6C77yM5qC55o2u6Lev5b6E5Lqn55Sf5omn6KGM5ZmoXHJcbiAgICovXHJcbiAgcHJpdmF0ZSB2YWx1ZUNoYW5nZUludm9rZXJGYWN0b3J5OiAocGF0aHM6IHN0cmluZ1tdKSA9PiBJbnZva2VPblZhbHVlQ2hhbmdlO1xyXG5cclxuICAvKipcclxuICAgKiDorr7nva7lgLzlj5jljJbmiafooYzlmajlt6XljoJcclxuICAgKiBAcGFyYW0gdmFsdWUg5YC85Y+Y5YyW5omn6KGM5Zmo5bel5Y6CXHJcbiAgICovXHJcbiAgcHVibGljIHNldFZhbHVlQ2hhbmdlSW52b2tlckZhY3RvcnkodmFsdWU6IChwYXRoczogc3RyaW5nW10pID0+IEludm9rZU9uVmFsdWVDaGFuZ2UpIHtcclxuICAgIHRoaXMudmFsdWVDaGFuZ2VJbnZva2VyRmFjdG9yeSA9IHZhbHVlO1xyXG4gIH1cclxuICBwdWJsaWMgZ2V0VmFsdWRDaGFuZ2VJbnZva2VyRmFjdG9yeSgpIHtcclxuICAgIHJldHVybiB0aGlzLnZhbHVlQ2hhbmdlSW52b2tlckZhY3Rvcnk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiDliJ3lp4vljJbvvIjlt7Llup/lvIPvvIlcclxuICAgKi9cclxuICBwdWJsaWMgaW5pdChyZXBvc2l0b3J5OiBSZXBvc2l0b3J5PGFueT4sIGJpbmRpbmdQYXRoOiBzdHJpbmcpIHtcclxuICAgIHRoaXMuaW5pdEJ5UmVwb3NpdG9yeShyZXBvc2l0b3J5LCBiaW5kaW5nUGF0aCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiDmoLnmja5SZXBvc2l0b3J55a+5QmluZGluZ0RhdGHov5vooYzliJ3lp4vljJZcclxuICAgKi9cclxuICBwdWJsaWMgaW5pdEJ5UmVwb3NpdG9yeShyZXBvc2l0b3J5OiBSZXBvc2l0b3J5PGFueT4sIGJpbmRpbmdQYXRoOiBzdHJpbmcpIHtcclxuICAgIHRoaXMuYmluZGluZ1BhdGggPSBiaW5kaW5nUGF0aDtcclxuXHJcbiAgICB0aGlzLnByb3BlcnRpZXMgPSBQcm9wZXJ0eVV0aWwuZ2V0UHJvcGVydGllcyhyZXBvc2l0b3J5LmVudGl0eVR5cGUpO1xyXG4gICAgdGhpcy5saXN0ID0gQmluZGluZ0xpc3RGYWN0b3J5LmNyZWF0ZSh0aGlzLnByb3BlcnRpZXMpO1xyXG4gICAgLy8g5LuOcmVwb3NpdG9yeeWIneWni+WMlmJpbmRpbmdEYXRhXHJcbiAgICB0aGlzLnBhZ2luZ0luZm8gPSByZXBvc2l0b3J5LmVudGl0eUNvbGxlY3Rpb24ucGFnaW5hdGlvbkluZm87XHJcbiAgICAvLyBAdG9kb1xyXG4gICAgLy8gQmluZGluZ0RhdGHkuI3lupTor6Xnn6XpgZNSZXBvc2l0b3J577yM5Yqg6L295pWw5o2u44CB5bu656uL5YWz6IGU5YWz57O755qE6L+H56iL5bqU6K+l6L2s56e75Yiw5aSW6L65XHJcbiAgICBFbnRpdHlVdGlsLmxvYWRSZXBvc2l0b3J5KHJlcG9zaXRvcnksIHRoaXMubGlzdCk7XHJcbiAgICB0aGlzLmRhdGFUeXBlSW5mbyA9IHJlcG9zaXRvcnkuZW50aXR5VHlwZUluZm87XHJcblxyXG4gICAgdGhpcy5leHRlbmRQcm9wZXJ0aWVzKHRoaXMucHJvcGVydGllcyk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiDliJ3lp4vljJZcclxuICAgKi9cclxuICBwdWJsaWMgaW5pdEJ5QmluZGluZ0xpc3QoYmluZGluZ0xpc3Q6IEJpbmRpbmdMaXN0LCBiaW5kaW5nUGF0aDogc3RyaW5nKSB7XHJcbiAgICB0aGlzLmxpc3QgPSBiaW5kaW5nTGlzdDtcclxuICAgIHRoaXMuYmluZGluZ1BhdGggPSBiaW5kaW5nUGF0aDtcclxuICAgIHRoaXMuZXh0ZW5kUHJvcGVydGllcyh0aGlzLmxpc3QucHJvcGVydGllcyk7XHJcbiAgfVxyXG4gIHB1YmxpYyBzZXREYXRhVHlwZUluZm8oZGF0YVR5cGVJbmZvOiBEYXRhVHlwZUluZm8pIHtcclxuICAgIHRoaXMuZGF0YVR5cGVJbmZvID0gZGF0YVR5cGVJbmZvO1xyXG4gIH1cclxuICAvKipcclxuICAgKiDojrflj5bnlYzpnaLmlbDmja5cclxuICAgKiBAcGFyYW0gcGF0aHMg5bGe5oCn6Lev5b6E5pWw57uEXHJcbiAgICogQHBhcmFtIHVzZUluaXRWYWx1ZSDmmK/lkKbkvb/nlKjpu5jorqTlgLzvvIzpu5jorqTkuLpgZmFsc2VgXHJcbiAgICogQHJldHVybnMg5bGe5oCn5YC8XHJcbiAgICovXHJcbiAgcHVibGljIGdldFZhbHVlKHBhdGhzOiBzdHJpbmdbXSwgdXNlSW5pdFZhbHVlID0gZmFsc2UpIHtcclxuICAgIGxldCB0YXJnZXQ6IGFueSA9IHRoaXMubGlzdDtcclxuICAgIHBhdGhzLmZvckVhY2goKHBhdGg6IHN0cmluZykgPT4ge1xyXG4gICAgICBpZiAodGFyZ2V0KSB7XHJcbiAgICAgICAgdGFyZ2V0ID0gdGFyZ2V0W3BhdGhdO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICAgIGlmICh1c2VJbml0VmFsdWUgPT09IHRydWUgJiYgcGF0aHMgJiYgcGF0aHMubGVuZ3RoID4gMCkge1xyXG4gICAgICBjb25zdCBpbml0VmFsdWUgPSB0aGlzLmdldEluaXRWYWx1ZUJ5UGF0aHMocGF0aHMpO1xyXG4gICAgICBpZiAodGFyZ2V0ID09PSB1bmRlZmluZWQgJiYgdGFyZ2V0ICE9PSBpbml0VmFsdWUpIHtcclxuICAgICAgICB0YXJnZXQgPSBpbml0VmFsdWU7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiB0YXJnZXQ7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiDor6Xmlrnms5Xlj6/ku6Xmm7TmlrDnu5HlrprlsYLmlbDmja7vvIzku47ogIzovr7liLDmm7TmlrDnlYzpnaLmlbDmja7nmoTnm67nmoTvvIzov5vogIzmm7TmlrDmnKzlnLDku5PlupPlrp7kvZPmlbDmja7vvIzkuqfnlJ/lj5jmm7TvvIzkuIvmrKHor7fmsYLml7bkvJrlsIblj5jmm7TluKbliLDlkI7nq6/lubbmm7TmlrDlkI7nq6/mlbDmja7jgIJcclxuICAgKiBAcGFyYW0gcGF0aHMg5bGe5oCn6Lev5b6E5pWw57uEXHJcbiAgICogQHBhcmFtIHZhbHVlIOWxnuaAp+WAvFxyXG4gICAqIEBwYXJhbSBlbWl0RXZlbnRUb1ZpZXcg5aaC5p6c6K6+572u5Li6dHJ1Ze+8jOWImeWPkemAgeS6i+S7tumAmuefpeiuoumYheWug+eahOe7hOS7tuOAgeaMh+S7pOWOu+abtOaWsOeVjOmdou+8jOm7mOiupOS4umZhbHNl44CCXHJcbiAgICogQHBhcmFtIGVtaXRFdmVudFRvRW50aXR5IOWmguaenOiuvue9ruS4unRydWXvvIzliJnlkIzmraXljrvmm7TmlrBFbnRpdHnkuIrlr7nlupTnmoTlrZfmrrXvvIzpu5jorqTkuLp0cnVl44CCXHJcbiAgICogQGRlc2NyaXB0aW9uXHJcbiAgICogIyMg56S65L6LXHJcbiAgICogXHJcbiAgICogIyMjIOabtOaWsOeVjOmdouaVsOaNrlxyXG4gICAqIOS9v+eUqOivpeaWueazleaXtuWPquS8oOmAknBhdGjlkox2YWx1ZeWPguaVsO+8jOWFtuS9meWPguaVsOS9v+eUqOm7mOiupOWAvOOAguivpeeUqOazleS8muabtOaWsOeVjOmdouaVsOaNru+8jOWQjOaXtuabtOaWsOWunuS9k+aVsOaNru+8jOWunuS9k+aVsOaNruabtOaWsOaXtuS8muS6p+eUn+WPmOabtO+8jOi/meagt+WcqOS4i+asoeivt+axguaXtuS8muWwhuivpeWPmOabtOW4puWIsOWQjuerr++8jFxyXG4gICAqIOi/m+iAjOabtOaWsOWQjuerr+aVsOaNruOAglxyXG4gICAqIGBgYHR5cGVzY3JpcHRcclxuICAgKiB0aGlzLmZyYW1lQ29udGV4dC5iaW5kaW5nRGF0YS5zZXRWYWx1ZShwYXRocyx2YWx1ZSk7XHJcbiAgICogYGBgXHJcbiAgICogXHJcbiAgICogIyMjIOS7heabtOaWsOeVjOmdouaVsOaNrlxyXG4gICAqIOacieS6m+WcuuaZr+S4i+aIkeS7rOW4jOacm+WPquabtOaWsOeVjOmdoueahOaVsOaNru+8jOS4jeW4jOacm+WvueWQjuerr+aVsOaNruS6p+eUn+W9seWTje+8jOatpOaXtumZpOS8oOmAknBhdGhz5ZKMdmFsdWXlj4LmlbDlpJbvvIzov5jpnIDopoHlsIZlbWl0RXZlbnRUb1ZpZXforr7kuLp0cnVl77yMZW1pdEV2ZW50VG9FbnRpdHnorr7kuLpmYWxzZe+8jFxyXG4gICAqIOatpOaXtuW/hemhu+S9v+eUqOWvueW6lEJpbmRpbmdEYXRh55qEc2V0VmFsdWXmlrnms5XvvJpcclxuICAgKiBgYGB0eXBlc2NyaXB0XHJcbiAgICogY29uc3QgdGFibGVGcmFtZUNvbnRleHQgPSB0aGlzLmZyYW1lQ29udGV4dC5hcHBDb250ZXh0LmZyYW1lQ29udGV4dE1hbmFnZXIuZ2V0RnJhbWVDb250ZXh0QnlJZCgnZGF0YS1ncmlkLWNvbXBvbmVudCcpO1xyXG4gICAqIHRhYmxlRnJhbWVDb250ZXh0LmJpbmRpbmdEYXRhLnNldFZhbHVlKHBhdGhzLHZhbHVlLHRydWUsZmFsc2UpO1xyXG4gICAqIGBgYFxyXG4gICAqICMjIOazqOaEj+S6i+mhuVxyXG4gICAqIHNldFZhbHVl5Li65byC5q2l5pa55rOV77yM5aaC5p6c6LCD55So6K+l5pa55rOV5ZCO6ZqP5Y2z5Y+R6YCB5ZCO56uv6K+35rGC77yM5q2k5pe25a6e5L2T5Y+Y5pu05bCa5pyq5Lqn55Sf77yM5L2G6K+35rGC5bey57uP5Y+R6YCB77yM5Y+Y5pu05peg5rOV5bim5Yiw5ZCO56uv77yM5a+86Ie05Y+Y5pu05Lii5aSx77yM5Ye6546w55WM6Z2i5LiK5pi+56S65pWw5o2u5bey57uP5L+u5pS577yMXHJcbiAgICog5L2G5ZCO56uv5bm25pyq5L+u5pS555qE6Zeu6aKY44CCXHJcbiAgICog5Zug5q2k77yM5aaC5p6c6LWL5YC85ZCO6ZqP5Y2z5Y+R6YCB6K+35rGC5bqU6K+l5L2/55So5a6e5L2T6LWL5YC855qE5pa55rOV44CCXHJcbiAgICovXHJcbiAgcHVibGljIHNldFZhbHVlKHBhdGhzOiBzdHJpbmdbXSwgdmFsdWU6IGFueSwgZW1pdEV2ZW50VG9WaWV3OiBib29sZWFuID0gZmFsc2UsIGVtaXRFdmVudFRvRW50aXR5OiBib29sZWFuID0gdHJ1ZSwgZXJyb3JzOiBhbnkgPSB7fSwgY29udGV4dD86IGFueSkge1xyXG5cclxuICAgIGlmICghcGF0aHMgfHwgcGF0aHMubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgIHRocm93IEVycm9yKCfot6/lvoTkuI3og73kuLrnqbonKTtcclxuICAgIH1cclxuICAgIGNvbnN0IHBhcmVudFBhdGhzID0gcGF0aHMuc2xpY2UoMCwgcGF0aHMubGVuZ3RoIC0gMSk7XHJcbiAgICBjb25zdCBwcm9wTmFtZSA9IHBhdGhzW3BhdGhzLmxlbmd0aCAtIDFdO1xyXG5cclxuICAgIGxldCBwYXJlbnQgPSB0aGlzLmdldFZhbHVlKHBhcmVudFBhdGhzKTtcclxuICAgIGlmICghcGFyZW50KSB7XHJcbiAgICAgIHRocm93IEVycm9yKCfmib7kuI3liLDopoHorr7nva7nmoTlr7nosaEnKTtcclxuICAgIH1cclxuICAgIGlmIChwYXJlbnQgaW5zdGFuY2VvZiBCaW5kaW5nRGF0YSkge1xyXG4gICAgICBwYXJlbnQgPSBwYXJlbnQubGlzdC5jdXJyZW50SXRlbTtcclxuICAgIH0gZWxzZSBpZiAocGFyZW50IGluc3RhbmNlb2YgQmluZGluZ0xpc3QpIHtcclxuICAgICAgcGFyZW50ID0gcGFyZW50LmN1cnJlbnRJdGVtO1xyXG4gICAgfVxyXG4gICAgaWYgKCEhdGhpcy52YWx1ZUNoYW5nZUludm9rZXJGYWN0b3J5KSB7XHJcbiAgICAgIHBhcmVudC5zZXRWYWx1ZShwcm9wTmFtZSwgdmFsdWUsIGVtaXRFdmVudFRvVmlldywgZW1pdEV2ZW50VG9FbnRpdHksIGVycm9ycywgdGhpcy52YWx1ZUNoYW5nZUludm9rZXJGYWN0b3J5KHBhdGhzKSwgY29udGV4dCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBwYXJlbnQuc2V0VmFsdWUocHJvcE5hbWUsIHZhbHVlLCBlbWl0RXZlbnRUb1ZpZXcsIGVtaXRFdmVudFRvRW50aXR5LCBlcnJvcnMsIG51bGwsIGNvbnRleHQpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICog5qC55o2ucGF0aHPmuIXnqbrlsZ7mgKflgLxcclxuICAgKi9cclxuICBwdWJsaWMgY2xlYXJWYWx1ZShwYXRoczogc3RyaW5nW10sIGVtaXRFdmVudFRvVmlldzogYm9vbGVhbiA9IGZhbHNlLCBlbWl0RXZlbnRUb0VudGl0eTogYm9vbGVhbiA9IHRydWUsIGNvbnRleHQ/OiBhbnkpIHtcclxuICAgIGxldCBpbml0VmFsdWU6IGFueTtcclxuICAgIGNvbnN0IHByb3BJbmZvID0gdGhpcy5kYXRhVHlwZUluZm8uZ2V0UHJvcEluZm9CeVBhdGgocGF0aHMpO1xyXG4gICAgaWYgKHByb3BJbmZvICYmIHByb3BJbmZvLm1ldGFkYXRhSW5mbyAmJiBwcm9wSW5mby5tZXRhZGF0YUluZm8uaW5pdFZhbHVlICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgaW5pdFZhbHVlID0gcHJvcEluZm8ubWV0YWRhdGFJbmZvLmluaXRWYWx1ZTtcclxuICAgIH0gZWxzZSB7XHJcblxyXG4gICAgICAvLyDljp/mnaXnmoTluK7liqnmmKDlsITkuK3vvIzlvLrooYznuqDmraPkuobmlbDlgLznmoTmg4XlhrXvvIzkv53mjIHkuIDoh7RcclxuICAgICAgY29uc3Qgb2xkVmFsdWUgPSB0aGlzLmdldFZhbHVlKHBhdGhzKTtcclxuICAgICAgaWYgKHR5cGVvZiBvbGRWYWx1ZSA9PT0gJ251bWJlcicpIHtcclxuICAgICAgICBpbml0VmFsdWUgPSAwO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGluaXRWYWx1ZSA9ICcnO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICB0aGlzLnNldFZhbHVlKHBhdGhzLCBpbml0VmFsdWUsIGVtaXRFdmVudFRvVmlldywgZW1pdEV2ZW50VG9FbnRpdHksIG51bGwsIGNvbnRleHQpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICog6I635Y+W5b2T5YmN5YiX6KGoXHJcbiAgICovXHJcbiAgcHVibGljIGdldExpc3QoKSB7XHJcbiAgICBpZiAoIXRoaXMuYmluZGluZ1BhdGggfHwgdGhpcy5iaW5kaW5nUGF0aCA9PT0gJy8nKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLmxpc3Q7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgYmluZGluZ1BhdGggPSB0aGlzLmJpbmRpbmdQYXRoLnN1YnN0cigxKTtcclxuICAgIGNvbnN0IGJpbmRpbmdQYXRoQXJyYXkgPSBiaW5kaW5nUGF0aC5zcGxpdCgnLycpLmZpbHRlcigocGFydDogc3RyaW5nKSA9PiB7XHJcbiAgICAgIHJldHVybiBwYXJ0ICE9PSAnJztcclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIHRoaXMuZ2V0VmFsdWUoYmluZGluZ1BhdGhBcnJheSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiDojrflj5blvZPliY3lr7nosaFcclxuICAgKi9cclxuICBwdWJsaWMgZ2V0T2JqZWN0KCkge1xyXG4gICAgY29uc3QgYmluZGluZ0xpc3QgPSB0aGlzLmdldExpc3QoKTtcclxuICAgIHJldHVybiBiaW5kaW5nTGlzdC5jdXJyZW50SXRlbTtcclxuICB9XHJcbiAgLyoqXHJcbiAgICog57uR5a6a6Lev5b6E77yI5LuF6Lev5b6E6YOo5YiG77yM5LiN5YyF5ous5bGe5oCn77yJXHJcbiAgICogQHBhcmFtIGJpbmRpbmdQYXRoIOe7keWumui3r+W+hFxyXG4gICAqL1xyXG4gIHB1YmxpYyBnZXRQYXRoKGJpbmRpbmdQYXRoPzogc3RyaW5nW10pIHtcclxuICAgIGNvbnN0IGJpbmRpbmdQYXRocyA9IGJpbmRpbmdQYXRoLmZpbHRlcihwID0+IHApO1xyXG4gICAgY29uc3QgcGF0aCA9IFtgJHt0aGlzLmxpc3QucHJpbWFyeUtleX06JHt0aGlzLmxpc3QuY3VycmVudElkfWBdO1xyXG5cclxuICAgIGJpbmRpbmdQYXRocy5mb3JFYWNoKChpdGVtOiBzdHJpbmcpID0+IHtcclxuICAgICAgcGF0aC5wdXNoKGl0ZW0pO1xyXG4gICAgICBjb25zdCBsaXN0ID0gdGhpc1tpdGVtXSBhcyBCaW5kaW5nTGlzdDtcclxuICAgICAgaWYgKGxpc3QpIHtcclxuICAgICAgICBwYXRoLnB1c2goYCR7bGlzdC5wcmltYXJ5S2V5fToke2xpc3QuY3VycmVudElkfWApO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICAgIHJldHVybiBwYXRoO1xyXG4gIH1cclxuICAvKipcclxuICAgKiDmuIXnqbrnu5HlrprmlbDmja5cclxuICAgKi9cclxuICBwdWJsaWMgcmVzZXQoKSB7XHJcbiAgICB0aGlzLmxpc3QuY2xlYXIodHJ1ZSk7XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIOmAmui/h+e7keWumui3r+W+hOiOt+WPluWxnuaAp+WIneWni+WAvFxyXG4gICAqIEBwYXJhbSBwYXRocyDnu5Hlrprot6/lvoRcclxuICAgKi9cclxuICBwcml2YXRlIGdldEluaXRWYWx1ZUJ5UGF0aHMocGF0aHM6IEFycmF5PHN0cmluZz4pIHtcclxuICAgIGxldCBpbml0VmFsdWU6IGFueTtcclxuICAgIGNvbnN0IHByb3BJbmZvID0gdGhpcy5kYXRhVHlwZUluZm8gJiYgdGhpcy5kYXRhVHlwZUluZm8uZ2V0UHJvcEluZm9CeVBhdGgocGF0aHMpIHx8IG51bGw7XHJcbiAgICBpZiAocHJvcEluZm8gJiYgcHJvcEluZm8ubWV0YWRhdGFJbmZvICYmIHByb3BJbmZvLm1ldGFkYXRhSW5mby5pbml0VmFsdWUgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICBpbml0VmFsdWUgPSBwcm9wSW5mby5tZXRhZGF0YUluZm8uaW5pdFZhbHVlO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGluaXRWYWx1ZTtcclxuICB9XHJcbiAgLyoqXHJcbiAgICog5omp5bGVQmluZGluZ0RhdGHlsZ7mgKfvvIzmmKDlsIRCaW5kaW5nRGF0YeaJgOaMgeacieeahOe7keWumuWIl+ihqOW9k+WJjeihjOeahOWxnuaAp++8jOWHj+Wwkee7keWumuWxgue6p+OAglxyXG4gICAqIEBwYXJhbSBwcm9wZXJ0aWVzIOWFs+iBlOWunuS9k+eahOWxnuaAp+mbhuWQiFxyXG4gICAqL1xyXG4gIHByaXZhdGUgZXh0ZW5kUHJvcGVydGllcyhwcm9wZXJ0aWVzOiBCaW5kaW5nUHJvcGVydHlbXSkge1xyXG4gICAgcHJvcGVydGllcy5mb3JFYWNoKChwcm9wZXJ0eTogQmluZGluZ1Byb3BlcnR5KSA9PiB7XHJcbiAgICAgIGNvbnN0IHByb3BOYW1lID0gcHJvcGVydHkubmFtZTtcclxuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIHByb3BOYW1lLCB7XHJcbiAgICAgICAgZ2V0OiAoKSA9PiB7XHJcbiAgICAgICAgICByZXR1cm4gdGhpcy5saXN0LmN1cnJlbnRJdGVtW3Byb3BOYW1lXTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIHNldDogKHZhbHVlOiBhbnkpID0+IHtcclxuICAgICAgICAgIHRoaXMubGlzdC5jdXJyZW50SXRlbVtwcm9wTmFtZV0gPSB2YWx1ZTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgeyBCaW5kaW5nRGF0YSB9O1xyXG4iXX0=