/**
 * @fileoverview added by tsickle
 * Generated from: lib/framework_session_service.ts
 * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
/**
 * 框架Session服务
 */
class FrameworkSessionService {
    constructor() {
    }
    /**
     * 获取用户SessionId
     * @return {?}
     */
    getUserSessionId() {
        /** @type {?} */
        const userSessionId = window.localStorage.getItem('sessionId');
        return userSessionId;
    }
    /**
     * 获取框架菜单id
     * @return {?}
     */
    getFuncSessionId() {
        /** @type {?} */
        const frmMobileService = window['frmMobileService'];
        if (frmMobileService) {
            return frmMobileService.rtf.commonVariable.formToken();
        }
        return null;
    }
    /**
     * 获取当前会话id
     * @return {?}
     */
    getCurrentSessionId() {
        /** @type {?} */
        let funcSessionId = window.sessionStorage.getItem('FuncSessionId');
        /** @type {?} */
        let latestFuncSessionId = this.getFuncSessionId();
        if (latestFuncSessionId && latestFuncSessionId !== funcSessionId) {
            // 设置为空，触发后续逻辑更新最新FuncSessionId
            funcSessionId = null;
        }
        if (!funcSessionId) {
            funcSessionId = this.getFuncSessionId();
            if (funcSessionId) {
                window.sessionStorage.setItem('FuncSessionId', funcSessionId);
            }
        }
        return funcSessionId;
    }
}
export { FrameworkSessionService };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZnJhbWV3b3JrX3Nlc3Npb25fc2VydmljZS5qcyIsInNvdXJjZVJvb3QiOiJuZzovL0BmYXJyaXMvbW9iaWxlLWJlZi8iLCJzb3VyY2VzIjpbImxpYi9mcmFtZXdvcmtfc2Vzc2lvbl9zZXJ2aWNlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBR0EsTUFBTSx1QkFBdUI7SUFFM0I7SUFDQSxDQUFDOzs7OztJQUtELGdCQUFnQjs7Y0FDUixhQUFhLEdBQUcsTUFBTSxDQUFDLFlBQVksQ0FBQyxPQUFPLENBQUMsV0FBVyxDQUFDO1FBQzlELE9BQU8sYUFBYSxDQUFDO0lBQ3ZCLENBQUM7Ozs7O0lBS0QsZ0JBQWdCOztjQUNSLGdCQUFnQixHQUFHLE1BQU0sQ0FBQyxrQkFBa0IsQ0FBQztRQUNuRCxJQUFJLGdCQUFnQixFQUFFO1lBQ3BCLE9BQU8sZ0JBQWdCLENBQUMsR0FBRyxDQUFDLGNBQWMsQ0FBQyxTQUFTLEVBQUUsQ0FBQztTQUN4RDtRQUNELE9BQU8sSUFBSSxDQUFDO0lBQ2QsQ0FBQzs7Ozs7SUFLRCxtQkFBbUI7O1lBRWIsYUFBYSxHQUFHLE1BQU0sQ0FBQyxjQUFjLENBQUMsT0FBTyxDQUFDLGVBQWUsQ0FBQzs7WUFDOUQsbUJBQW1CLEdBQUcsSUFBSSxDQUFDLGdCQUFnQixFQUFFO1FBQ2pELElBQUksbUJBQW1CLElBQUksbUJBQW1CLEtBQUssYUFBYSxFQUFFO1lBRWhFLCtCQUErQjtZQUMvQixhQUFhLEdBQUcsSUFBSSxDQUFDO1NBQ3RCO1FBRUQsSUFBSSxDQUFDLGFBQWEsRUFBRTtZQUNsQixhQUFhLEdBQUcsSUFBSSxDQUFDLGdCQUFnQixFQUFFLENBQUM7WUFDeEMsSUFBSSxhQUFhLEVBQUU7Z0JBQ2pCLE1BQU0sQ0FBQyxjQUFjLENBQUMsT0FBTyxDQUFDLGVBQWUsRUFBRSxhQUFhLENBQUMsQ0FBQTthQUM5RDtTQUNGO1FBQ0QsT0FBTyxhQUFhLENBQUM7SUFDdkIsQ0FBQztDQUVGO0FBRUQsT0FBTyxFQUFFLHVCQUF1QixFQUFFLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICog5qGG5p62U2Vzc2lvbuacjeWKoVxyXG4gKi9cclxuY2xhc3MgRnJhbWV3b3JrU2Vzc2lvblNlcnZpY2Uge1xyXG5cclxuICBjb25zdHJ1Y3RvcigpIHtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIOiOt+WPlueUqOaIt1Nlc3Npb25JZFxyXG4gICAqL1xyXG4gIGdldFVzZXJTZXNzaW9uSWQoKTogc3RyaW5nIHtcclxuICAgIGNvbnN0IHVzZXJTZXNzaW9uSWQgPSB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Nlc3Npb25JZCcpO1xyXG4gICAgcmV0dXJuIHVzZXJTZXNzaW9uSWQ7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiDojrflj5bmoYbmnrboj5zljZVpZFxyXG4gICAqL1xyXG4gIGdldEZ1bmNTZXNzaW9uSWQoKTogc3RyaW5nIHtcclxuICAgIGNvbnN0IGZybU1vYmlsZVNlcnZpY2UgPSB3aW5kb3dbJ2ZybU1vYmlsZVNlcnZpY2UnXTtcclxuICAgIGlmIChmcm1Nb2JpbGVTZXJ2aWNlKSB7XHJcbiAgICAgIHJldHVybiBmcm1Nb2JpbGVTZXJ2aWNlLnJ0Zi5jb21tb25WYXJpYWJsZS5mb3JtVG9rZW4oKTtcclxuICAgIH1cclxuICAgIHJldHVybiBudWxsO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICog6I635Y+W5b2T5YmN5Lya6K+daWRcclxuICAgKi9cclxuICBnZXRDdXJyZW50U2Vzc2lvbklkKCk6IHN0cmluZyB7XHJcblxyXG4gICAgbGV0IGZ1bmNTZXNzaW9uSWQgPSB3aW5kb3cuc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgnRnVuY1Nlc3Npb25JZCcpO1xyXG4gICAgbGV0IGxhdGVzdEZ1bmNTZXNzaW9uSWQgPSB0aGlzLmdldEZ1bmNTZXNzaW9uSWQoKTtcclxuICAgIGlmIChsYXRlc3RGdW5jU2Vzc2lvbklkICYmIGxhdGVzdEZ1bmNTZXNzaW9uSWQgIT09IGZ1bmNTZXNzaW9uSWQpIHtcclxuICAgICAgXHJcbiAgICAgIC8vIOiuvue9ruS4uuepuu+8jOinpuWPkeWQjue7remAu+i+keabtOaWsOacgOaWsEZ1bmNTZXNzaW9uSWRcclxuICAgICAgZnVuY1Nlc3Npb25JZCA9IG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCFmdW5jU2Vzc2lvbklkKSB7XHJcbiAgICAgIGZ1bmNTZXNzaW9uSWQgPSB0aGlzLmdldEZ1bmNTZXNzaW9uSWQoKTtcclxuICAgICAgaWYgKGZ1bmNTZXNzaW9uSWQpIHtcclxuICAgICAgICB3aW5kb3cuc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgnRnVuY1Nlc3Npb25JZCcsIGZ1bmNTZXNzaW9uSWQpXHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBmdW5jU2Vzc2lvbklkO1xyXG4gIH1cclxuXHJcbn1cclxuXHJcbmV4cG9ydCB7IEZyYW1ld29ya1Nlc3Npb25TZXJ2aWNlIH07XHJcbiJdfQ==