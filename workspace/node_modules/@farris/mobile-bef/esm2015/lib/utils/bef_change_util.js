/**
 * @fileoverview added by tsickle
 * Generated from: lib/utils/bef_change_util.ts
 * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
/**
 * 变更集工具类
 */
class BefChangeUtil {
    /**
     * 创建空的ChangeDetail
     * @param {?} type   the type of change
     * @param {?=} dataId the identity of the entity whose properties's values have changed
     * @return {?}
     */
    static createEmpty(type, dataId) {
        /** @type {?} */
        const changeDetail = {
            ChangeType: type,
            ChangeInfo: {}
        };
        if (dataId) {
            changeDetail.ChangeInfo.DataId = dataId;
        }
        return changeDetail;
    }
    /**
     * Get changes from an ChangeDetail object or an plain object
     * @param {?} changeDetail 变更详情
     * @return {?}
     */
    static getChangeInfo(changeDetail) {
        /** @type {?} */
        const isChangeDetail = this.isChangeDetail(changeDetail);
        if (isChangeDetail === true) {
            return changeDetail.ChangeInfo;
        }
        else {
            return changeDetail;
        }
    }
    /**
     * Check whether the changeDetial object is an instance of the ChangeDetial class.
     * @param {?} changeDetail
     * @return {?}
     */
    static isChangeDetail(changeDetail) {
        // @todo: if the associated object has only two properties: ChangeType and ChangeInfo, it fails.
        /** @type {?} */
        const keys = Object.keys(changeDetail);
        return keys.length === 2 && keys.indexOf('ChangeType') > -1 && keys.indexOf('ChangeInfo') > -1;
    }
}
export { BefChangeUtil };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYmVmX2NoYW5nZV91dGlsLmpzIiwic291cmNlUm9vdCI6Im5nOi8vQGZhcnJpcy9tb2JpbGUtYmVmLyIsInNvdXJjZXMiOlsibGliL3V0aWxzL2JlZl9jaGFuZ2VfdXRpbC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUtBLE1BQU0sYUFBYTs7Ozs7OztJQU9qQixNQUFNLENBQUMsV0FBVyxDQUFDLElBQXNCLEVBQUUsTUFBZTs7Y0FDbEQsWUFBWSxHQUFpQjtZQUNqQyxVQUFVLEVBQUUsSUFBSTtZQUNoQixVQUFVLEVBQUUsRUFBRTtTQUNmO1FBRUQsSUFBSSxNQUFNLEVBQUU7WUFDVixZQUFZLENBQUMsVUFBVSxDQUFDLE1BQU0sR0FBRyxNQUFNLENBQUU7U0FDMUM7UUFDRCxPQUFPLFlBQVksQ0FBQztJQUN0QixDQUFDOzs7Ozs7SUFNRCxNQUFNLENBQUMsYUFBYSxDQUFDLFlBQWlCOztjQUU5QixjQUFjLEdBQUcsSUFBSSxDQUFDLGNBQWMsQ0FBQyxZQUFZLENBQUM7UUFDeEQsSUFBSSxjQUFjLEtBQUssSUFBSSxFQUFFO1lBQzNCLE9BQU8sWUFBWSxDQUFDLFVBQVUsQ0FBQztTQUNoQzthQUFNO1lBQ0wsT0FBTyxZQUFZLENBQUM7U0FDckI7SUFDSCxDQUFDOzs7Ozs7SUFLRCxNQUFNLENBQUMsY0FBYyxDQUFDLFlBQWlCOzs7Y0FHL0IsSUFBSSxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDO1FBQ3RDLE9BQU8sSUFBSSxDQUFDLE1BQU0sS0FBSyxDQUFDLElBQUksSUFBSSxDQUFDLE9BQU8sQ0FBQyxZQUFZLENBQUMsR0FBRyxDQUFDLENBQUMsSUFBSSxJQUFJLENBQUMsT0FBTyxDQUFDLFlBQVksQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO0lBQ2pHLENBQUM7Q0FDRjtBQUVELE9BQU8sRUFBRSxhQUFhLEVBQUUsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENoYW5nZURldGFpbFR5cGUsIENoYW5nZURldGFpbCB9IGZyb20gJy4uL3R5cGVzJztcclxuXHJcbi8qKlxyXG4gKiDlj5jmm7Tpm4blt6XlhbfnsbtcclxuICovXHJcbmNsYXNzIEJlZkNoYW5nZVV0aWwge1xyXG5cclxuICAvKipcclxuICAgKiDliJvlu7rnqbrnmoRDaGFuZ2VEZXRhaWxcclxuICAgKiBAcGFyYW0gdHlwZSAgIHRoZSB0eXBlIG9mIGNoYW5nZVxyXG4gICAqIEBwYXJhbSBkYXRhSWQgdGhlIGlkZW50aXR5IG9mIHRoZSBlbnRpdHkgd2hvc2UgcHJvcGVydGllcydzIHZhbHVlcyBoYXZlIGNoYW5nZWRcclxuICAgKi9cclxuICBzdGF0aWMgY3JlYXRlRW1wdHkodHlwZTogQ2hhbmdlRGV0YWlsVHlwZSwgZGF0YUlkPzogc3RyaW5nKSB7XHJcbiAgICBjb25zdCBjaGFuZ2VEZXRhaWw6IENoYW5nZURldGFpbCA9IHtcclxuICAgICAgQ2hhbmdlVHlwZTogdHlwZSxcclxuICAgICAgQ2hhbmdlSW5mbzoge31cclxuICAgIH07XHJcblxyXG4gICAgaWYgKGRhdGFJZCkge1xyXG4gICAgICBjaGFuZ2VEZXRhaWwuQ2hhbmdlSW5mby5EYXRhSWQgPSBkYXRhSWQgO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGNoYW5nZURldGFpbDtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEdldCBjaGFuZ2VzIGZyb20gYW4gQ2hhbmdlRGV0YWlsIG9iamVjdCBvciBhbiBwbGFpbiBvYmplY3RcclxuICAgKiBAcGFyYW0gY2hhbmdlRGV0YWlsIOWPmOabtOivpuaDhVxyXG4gICAqL1xyXG4gIHN0YXRpYyBnZXRDaGFuZ2VJbmZvKGNoYW5nZURldGFpbDogYW55KTogYW55IHtcclxuXHJcbiAgICBjb25zdCBpc0NoYW5nZURldGFpbCA9IHRoaXMuaXNDaGFuZ2VEZXRhaWwoY2hhbmdlRGV0YWlsKTtcclxuICAgIGlmIChpc0NoYW5nZURldGFpbCA9PT0gdHJ1ZSkge1xyXG4gICAgICByZXR1cm4gY2hhbmdlRGV0YWlsLkNoYW5nZUluZm87XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXR1cm4gY2hhbmdlRGV0YWlsO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQ2hlY2sgd2hldGhlciB0aGUgY2hhbmdlRGV0aWFsIG9iamVjdCBpcyBhbiBpbnN0YW5jZSBvZiB0aGUgQ2hhbmdlRGV0aWFsIGNsYXNzLlxyXG4gICAqL1xyXG4gIHN0YXRpYyBpc0NoYW5nZURldGFpbChjaGFuZ2VEZXRhaWw6IGFueSkge1xyXG5cclxuICAgIC8vIEB0b2RvOiBpZiB0aGUgYXNzb2NpYXRlZCBvYmplY3QgaGFzIG9ubHkgdHdvIHByb3BlcnRpZXM6IENoYW5nZVR5cGUgYW5kIENoYW5nZUluZm8sIGl0IGZhaWxzLlxyXG4gICAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKGNoYW5nZURldGFpbCk7XHJcbiAgICByZXR1cm4ga2V5cy5sZW5ndGggPT09IDIgJiYga2V5cy5pbmRleE9mKCdDaGFuZ2VUeXBlJykgPiAtMSAmJiBrZXlzLmluZGV4T2YoJ0NoYW5nZUluZm8nKSA+IC0xO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IHsgQmVmQ2hhbmdlVXRpbCB9O1xyXG4iXX0=