/**
 * @fileoverview added by tsickle
 * Generated from: lib/framework_session_service.ts
 * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
/**
 * 框架Session服务
 */
var /**
 * 框架Session服务
 */
FrameworkSessionService = /** @class */ (function () {
    function FrameworkSessionService() {
    }
    /**
     * 获取用户SessionId
     */
    /**
     * 获取用户SessionId
     * @return {?}
     */
    FrameworkSessionService.prototype.getUserSessionId = /**
     * 获取用户SessionId
     * @return {?}
     */
    function () {
        /** @type {?} */
        var userSessionId = window.localStorage.getItem('sessionId');
        return userSessionId;
    };
    /**
     * 获取框架菜单id
     */
    /**
     * 获取框架菜单id
     * @return {?}
     */
    FrameworkSessionService.prototype.getFuncSessionId = /**
     * 获取框架菜单id
     * @return {?}
     */
    function () {
        /** @type {?} */
        var frmMobileService = window['frmMobileService'];
        if (frmMobileService) {
            return frmMobileService.rtf.commonVariable.formToken();
        }
        return null;
    };
    /**
     * 获取当前会话id
     */
    /**
     * 获取当前会话id
     * @return {?}
     */
    FrameworkSessionService.prototype.getCurrentSessionId = /**
     * 获取当前会话id
     * @return {?}
     */
    function () {
        /** @type {?} */
        var funcSessionId = window.sessionStorage.getItem('FuncSessionId');
        /** @type {?} */
        var latestFuncSessionId = this.getFuncSessionId();
        if (latestFuncSessionId && latestFuncSessionId !== funcSessionId) {
            // 设置为空，触发后续逻辑更新最新FuncSessionId
            funcSessionId = null;
        }
        if (!funcSessionId) {
            funcSessionId = this.getFuncSessionId();
            if (funcSessionId) {
                window.sessionStorage.setItem('FuncSessionId', funcSessionId);
            }
        }
        return funcSessionId;
    };
    return FrameworkSessionService;
}());
export { FrameworkSessionService };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZnJhbWV3b3JrX3Nlc3Npb25fc2VydmljZS5qcyIsInNvdXJjZVJvb3QiOiJuZzovL0BmYXJyaXMvbW9iaWxlLWJlZi8iLCJzb3VyY2VzIjpbImxpYi9mcmFtZXdvcmtfc2Vzc2lvbl9zZXJ2aWNlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBR0E7Ozs7SUFFRTtJQUNBLENBQUM7SUFFRDs7T0FFRzs7Ozs7SUFDSCxrREFBZ0I7Ozs7SUFBaEI7O1lBQ1EsYUFBYSxHQUFHLE1BQU0sQ0FBQyxZQUFZLENBQUMsT0FBTyxDQUFDLFdBQVcsQ0FBQztRQUM5RCxPQUFPLGFBQWEsQ0FBQztJQUN2QixDQUFDO0lBRUQ7O09BRUc7Ozs7O0lBQ0gsa0RBQWdCOzs7O0lBQWhCOztZQUNRLGdCQUFnQixHQUFHLE1BQU0sQ0FBQyxrQkFBa0IsQ0FBQztRQUNuRCxJQUFJLGdCQUFnQixFQUFFO1lBQ3BCLE9BQU8sZ0JBQWdCLENBQUMsR0FBRyxDQUFDLGNBQWMsQ0FBQyxTQUFTLEVBQUUsQ0FBQztTQUN4RDtRQUNELE9BQU8sSUFBSSxDQUFDO0lBQ2QsQ0FBQztJQUVEOztPQUVHOzs7OztJQUNILHFEQUFtQjs7OztJQUFuQjs7WUFFTSxhQUFhLEdBQUcsTUFBTSxDQUFDLGNBQWMsQ0FBQyxPQUFPLENBQUMsZUFBZSxDQUFDOztZQUM5RCxtQkFBbUIsR0FBRyxJQUFJLENBQUMsZ0JBQWdCLEVBQUU7UUFDakQsSUFBSSxtQkFBbUIsSUFBSSxtQkFBbUIsS0FBSyxhQUFhLEVBQUU7WUFFaEUsK0JBQStCO1lBQy9CLGFBQWEsR0FBRyxJQUFJLENBQUM7U0FDdEI7UUFFRCxJQUFJLENBQUMsYUFBYSxFQUFFO1lBQ2xCLGFBQWEsR0FBRyxJQUFJLENBQUMsZ0JBQWdCLEVBQUUsQ0FBQztZQUN4QyxJQUFJLGFBQWEsRUFBRTtnQkFDakIsTUFBTSxDQUFDLGNBQWMsQ0FBQyxPQUFPLENBQUMsZUFBZSxFQUFFLGFBQWEsQ0FBQyxDQUFBO2FBQzlEO1NBQ0Y7UUFDRCxPQUFPLGFBQWEsQ0FBQztJQUN2QixDQUFDO0lBRUgsOEJBQUM7QUFBRCxDQUFDLEFBOUNELElBOENDO0FBRUQsT0FBTyxFQUFFLHVCQUF1QixFQUFFLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICog5qGG5p62U2Vzc2lvbuacjeWKoVxyXG4gKi9cclxuY2xhc3MgRnJhbWV3b3JrU2Vzc2lvblNlcnZpY2Uge1xyXG5cclxuICBjb25zdHJ1Y3RvcigpIHtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIOiOt+WPlueUqOaIt1Nlc3Npb25JZFxyXG4gICAqL1xyXG4gIGdldFVzZXJTZXNzaW9uSWQoKTogc3RyaW5nIHtcclxuICAgIGNvbnN0IHVzZXJTZXNzaW9uSWQgPSB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Nlc3Npb25JZCcpO1xyXG4gICAgcmV0dXJuIHVzZXJTZXNzaW9uSWQ7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiDojrflj5bmoYbmnrboj5zljZVpZFxyXG4gICAqL1xyXG4gIGdldEZ1bmNTZXNzaW9uSWQoKTogc3RyaW5nIHtcclxuICAgIGNvbnN0IGZybU1vYmlsZVNlcnZpY2UgPSB3aW5kb3dbJ2ZybU1vYmlsZVNlcnZpY2UnXTtcclxuICAgIGlmIChmcm1Nb2JpbGVTZXJ2aWNlKSB7XHJcbiAgICAgIHJldHVybiBmcm1Nb2JpbGVTZXJ2aWNlLnJ0Zi5jb21tb25WYXJpYWJsZS5mb3JtVG9rZW4oKTtcclxuICAgIH1cclxuICAgIHJldHVybiBudWxsO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICog6I635Y+W5b2T5YmN5Lya6K+daWRcclxuICAgKi9cclxuICBnZXRDdXJyZW50U2Vzc2lvbklkKCk6IHN0cmluZyB7XHJcblxyXG4gICAgbGV0IGZ1bmNTZXNzaW9uSWQgPSB3aW5kb3cuc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgnRnVuY1Nlc3Npb25JZCcpO1xyXG4gICAgbGV0IGxhdGVzdEZ1bmNTZXNzaW9uSWQgPSB0aGlzLmdldEZ1bmNTZXNzaW9uSWQoKTtcclxuICAgIGlmIChsYXRlc3RGdW5jU2Vzc2lvbklkICYmIGxhdGVzdEZ1bmNTZXNzaW9uSWQgIT09IGZ1bmNTZXNzaW9uSWQpIHtcclxuICAgICAgXHJcbiAgICAgIC8vIOiuvue9ruS4uuepuu+8jOinpuWPkeWQjue7remAu+i+keabtOaWsOacgOaWsEZ1bmNTZXNzaW9uSWRcclxuICAgICAgZnVuY1Nlc3Npb25JZCA9IG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCFmdW5jU2Vzc2lvbklkKSB7XHJcbiAgICAgIGZ1bmNTZXNzaW9uSWQgPSB0aGlzLmdldEZ1bmNTZXNzaW9uSWQoKTtcclxuICAgICAgaWYgKGZ1bmNTZXNzaW9uSWQpIHtcclxuICAgICAgICB3aW5kb3cuc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgnRnVuY1Nlc3Npb25JZCcsIGZ1bmNTZXNzaW9uSWQpXHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBmdW5jU2Vzc2lvbklkO1xyXG4gIH1cclxuXHJcbn1cclxuXHJcbmV4cG9ydCB7IEZyYW1ld29ya1Nlc3Npb25TZXJ2aWNlIH07XHJcbiJdfQ==