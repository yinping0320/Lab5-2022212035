/**
 * @fileoverview added by tsickle
 * Generated from: lib/bef_repository.ts
 * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import * as tslib_1 from "tslib";
import { Repository } from '@farris/mobile-devkit';
import { BefRepositoryInitializer } from './bef_repository_initializer';
/**
 * Bef实体仓库实现类
 * @abstract
 * @template T
 */
var /**
 * Bef实体仓库实现类
 * @abstract
 * @template T
 */
BefRepository = /** @class */ (function (_super) {
    tslib_1.__extends(BefRepository, _super);
    /**
     * 构造函数
     */
    function BefRepository(injector) {
        var _this = _super.call(this) || this;
        _this.injector = injector;
        return _this;
    }
    /**
     * 初始化
     * @summary
     * 实现类的构造函数中调用才能正确获取apiProxy
     */
    /**
     * 初始化
     * \@summary
     * 实现类的构造函数中调用才能正确获取apiProxy
     * @protected
     * @return {?}
     */
    BefRepository.prototype.init = /**
     * 初始化
     * \@summary
     * 实现类的构造函数中调用才能正确获取apiProxy
     * @protected
     * @return {?}
     */
    function () {
        _super.prototype.init.call(this);
        /** @type {?} */
        var initializer = new BefRepositoryInitializer(this);
        initializer.init();
    };
    /**
     * 获取注入器
     */
    /**
     * 获取注入器
     * @return {?}
     */
    BefRepository.prototype.getInjector = /**
     * 获取注入器
     * @return {?}
     */
    function () {
        return this.injector;
    };
    /**
     * 获取实体数组
     */
    /**
     * 获取实体数组
     * @param {?} filter
     * @param {?} sort
     * @param {?} pageSize
     * @param {?} pageIndex
     * @return {?}
     */
    BefRepository.prototype.getEntities = /**
     * 获取实体数组
     * @param {?} filter
     * @param {?} sort
     * @param {?} pageSize
     * @param {?} pageIndex
     * @return {?}
     */
    function (filter, sort, pageSize, pageIndex) {
        return this.dataService.getList(filter, sort, pageSize, pageIndex);
    };
    /**
     * 获取主键为id的实体
     * @param id 实体id
     */
    /**
     * 获取主键为id的实体
     * @param {?} id 实体id
     * @return {?}
     */
    BefRepository.prototype.getEntityById = /**
     * 获取主键为id的实体
     * @param {?} id 实体id
     * @return {?}
     */
    function (id) {
        return this.dataService.getById(id);
    };
    /**
     * 更新实体数据
     */
    /**
     * 更新实体数据
     * @param {?} id
     * @return {?}
     */
    BefRepository.prototype.updateEntityById = /**
     * 更新实体数据
     * @param {?} id
     * @return {?}
     */
    function (id) {
        return this.dataService.updateById(id);
    };
    /**
     * 更新实体数据并加锁
     */
    /**
     * 更新实体数据并加锁
     * @param {?} id
     * @return {?}
     */
    BefRepository.prototype.editEntityById = /**
     * 更新实体数据并加锁
     * @param {?} id
     * @return {?}
     */
    function (id) {
        return this.dataService.editById(id);
    };
    /**
     * 创建实体
     */
    /**
     * 创建实体
     * @param {?=} defaultValue
     * @return {?}
     */
    BefRepository.prototype.createEntity = /**
     * 创建实体
     * @param {?=} defaultValue
     * @return {?}
     */
    function (defaultValue) {
        return this.dataService.create(defaultValue);
    };
    /**
     * 追加实体
     */
    /**
     * 追加实体
     * @param {?=} defaultValue
     * @return {?}
     */
    BefRepository.prototype.appendEntity = /**
     * 追加实体
     * @param {?=} defaultValue
     * @return {?}
     */
    function (defaultValue) {
        return this.dataService.append(defaultValue);
    };
    /**
     * 创建子实体，并追加
     * @param fpath 父路径，格式形如：/1/edus（从表）或/1/edus/2/grades（从从表）
     */
    /**
     * 创建子实体，并追加
     * @param {?} fpath 父路径，格式形如：/1/edus（从表）或/1/edus/2/grades（从从表）
     * @return {?}
     */
    BefRepository.prototype.appendEntityByPath = /**
     * 创建子实体，并追加
     * @param {?} fpath 父路径，格式形如：/1/edus（从表）或/1/edus/2/grades（从从表）
     * @return {?}
     */
    function (fpath) {
        return this.dataService.appendByPath(fpath);
    };
    /**
     * 根据id删除实体
     */
    /**
     * 根据id删除实体
     * @param {?} id
     * @param {?=} ifSave
     * @return {?}
     */
    BefRepository.prototype.removeEntityById = /**
     * 根据id删除实体
     * @param {?} id
     * @param {?=} ifSave
     * @return {?}
     */
    function (id, ifSave) {
        return this.dataService.removeById(id, ifSave);
    };
    /**
     * 根据ids批量删除实体
     */
    /**
     * 根据ids批量删除实体
     * @param {?} ids
     * @return {?}
     */
    BefRepository.prototype.removeEntitiesByIds = /**
     * 根据ids批量删除实体
     * @param {?} ids
     * @return {?}
     */
    function (ids) {
        return this.dataService.removeByIds(ids);
    };
    /**
     * 根据id删除实体并执行保存
     */
    /**
     * 根据id删除实体并执行保存
     * @param {?} id
     * @return {?}
     */
    BefRepository.prototype.removeEntityAndSaveById = /**
     * 根据id删除实体并执行保存
     * @param {?} id
     * @return {?}
     */
    function (id) {
        return this.dataService.removeAndSaveById(id);
    };
    /**
     * 删除子级
     */
    /**
     * 删除子级
     * @param {?} fpath
     * @param {?} id
     * @return {?}
     */
    BefRepository.prototype.removeEntityByPath = /**
     * 删除子级
     * @param {?} fpath
     * @param {?} id
     * @return {?}
     */
    function (fpath, id) {
        return this.dataService.removeByPath(fpath, id);
    };
    /**
     * 保存主键为id的实体
     */
    /**
     * 保存主键为id的实体
     * @param {?} id
     * @return {?}
     */
    BefRepository.prototype.saveEntityById = /**
     * 保存主键为id的实体
     * @param {?} id
     * @return {?}
     */
    function (id) {
        return this.dataService.applyChangesById(id);
    };
    /**
     * 批量保存
     */
    /**
     * 批量保存
     * @return {?}
     */
    BefRepository.prototype.saveEntities = /**
     * 批量保存
     * @return {?}
     */
    function () {
        return this.dataService.applyChanges();
    };
    /**
     * 取消实体变更
     */
    /**
     * 取消实体变更
     * @return {?}
     */
    BefRepository.prototype.cancelEntityChanges = /**
     * 取消实体变更
     * @return {?}
     */
    function () {
        return this.dataService.cancelChanges();
    };
    /**
     * 清空Repositoy内的数据和变量
     */
    /**
     * 清空Repositoy内的数据和变量
     * @return {?}
     */
    BefRepository.prototype.reset = /**
     * 清空Repositoy内的数据和变量
     * @return {?}
     */
    function () {
        this.entityManager.reset();
        this.variableManager.reset();
        this.sessionService.clearBeSessionId();
    };
    return BefRepository;
}(Repository));
if (false) {
    /**
     * 名称
     * @type {?}
     */
    BefRepository.prototype.name;
    /**
     * Bef代理
     * @type {?}
     */
    BefRepository.prototype.apiProxyType;
    /**
     * 应用上下文
     * @type {?}
     */
    BefRepository.prototype.appContext;
    /**
     * 实体管理器
     * @type {?}
     */
    BefRepository.prototype.entityManager;
    /**
     * 变量管理器
     * @type {?}
     */
    BefRepository.prototype.variableManager;
    /**
     * API代理
     * @type {?}
     */
    BefRepository.prototype.apiProxy;
    /**
     * Bef会话管理
     * @type {?}
     */
    BefRepository.prototype.sessionService;
    /**
     * Bef数据操作
     * @type {?}
     */
    BefRepository.prototype.dataService;
    /**
     * @type {?}
     * @protected
     */
    BefRepository.prototype.injector;
}
export { BefRepository };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYmVmX3JlcG9zaXRvcnkuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9AZmFycmlzL21vYmlsZS1iZWYvIiwic291cmNlcyI6WyJsaWIvYmVmX3JlcG9zaXRvcnkudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQ0EsT0FBTyxFQUE0QixVQUFVLEVBQVcsTUFBTSx1QkFBdUIsQ0FBQztBQU90RixPQUFPLEVBQUUsd0JBQXdCLEVBQUUsTUFBTSw4QkFBOEIsQ0FBQzs7Ozs7O0FBS3hFOzs7Ozs7SUFBdUQseUNBQWE7SUEwQ2xFOztPQUVHO0lBQ0gsdUJBQXNCLFFBQWtCO1FBQXhDLFlBQ0UsaUJBQU8sU0FDUjtRQUZxQixjQUFRLEdBQVIsUUFBUSxDQUFVOztJQUV4QyxDQUFDO0lBRUQ7Ozs7T0FJRzs7Ozs7Ozs7SUFDTyw0QkFBSTs7Ozs7OztJQUFkO1FBQ0UsaUJBQU0sSUFBSSxXQUFFLENBQUM7O1lBQ1AsV0FBVyxHQUFHLElBQUksd0JBQXdCLENBQUMsSUFBSSxDQUFDO1FBQ3RELFdBQVcsQ0FBQyxJQUFJLEVBQUUsQ0FBQztJQUNyQixDQUFDO0lBRUQ7O09BRUc7Ozs7O0lBQ0ksbUNBQVc7Ozs7SUFBbEI7UUFDRSxPQUFPLElBQUksQ0FBQyxRQUFRLENBQUM7SUFDdkIsQ0FBQztJQUVEOztPQUVHOzs7Ozs7Ozs7SUFDSSxtQ0FBVzs7Ozs7Ozs7SUFBbEIsVUFBbUIsTUFBYSxFQUFFLElBQVcsRUFBRSxRQUF1QixFQUFFLFNBQXdCO1FBQzlGLE9BQU8sSUFBSSxDQUFDLFdBQVcsQ0FBQyxPQUFPLENBQUMsTUFBTSxFQUFFLElBQUksRUFBRSxRQUFRLEVBQUUsU0FBUyxDQUFDLENBQUM7SUFDckUsQ0FBQztJQUVEOzs7T0FHRzs7Ozs7O0lBQ0kscUNBQWE7Ozs7O0lBQXBCLFVBQXFCLEVBQVU7UUFDN0IsT0FBTyxJQUFJLENBQUMsV0FBVyxDQUFDLE9BQU8sQ0FBQyxFQUFFLENBQUMsQ0FBQztJQUN0QyxDQUFDO0lBRUQ7O09BRUc7Ozs7OztJQUNJ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IE9ic2VydmFibGUgfSBmcm9tICdyeGpzJztcclxuaW1wb3J0IHsgVHlwZSwgRW50aXR5LCBBcHBDb250ZXh0LCBSZXBvc2l0b3J5LCBJbmplY3Rvcn0gZnJvbSAnQGZhcnJpcy9tb2JpbGUtZGV2a2l0JztcclxuXHJcbmltcG9ydCB7IEJlZkVudGl0eU1hbmFnZXIgfSBmcm9tICcuL2JlZl9lbnRpdHlfbWFuYWdlcic7XHJcbmltcG9ydCB7IEJlZlZhcmlhYmxlTWFuYWdlciB9IGZyb20gJy4vYmVmX3ZhcmlhYmxlX21hbmFnZXInO1xyXG5pbXBvcnQgeyBCZWZQcm94eSB9IGZyb20gJy4vYmVmX3Byb3h5JztcclxuaW1wb3J0IHsgQmVmU2Vzc2lvblNlcnZpY2UgfSBmcm9tICcuL3Nlc3Npb24vaW5kZXgnO1xyXG5pbXBvcnQgeyBCZWZEYXRhU2VydmljZSB9IGZyb20gJy4vYmVmX2RhdGFfc2VydmljZSc7XHJcbmltcG9ydCB7IEJlZlJlcG9zaXRvcnlJbml0aWFsaXplciB9IGZyb20gJy4vYmVmX3JlcG9zaXRvcnlfaW5pdGlhbGl6ZXInO1xyXG5cclxuLyoqXHJcbiAqIEJlZuWunuS9k+S7k+W6k+WunueOsOexu1xyXG4gKi9cclxuYWJzdHJhY3QgY2xhc3MgQmVmUmVwb3NpdG9yeTxUIGV4dGVuZHMgRW50aXR5PiBleHRlbmRzIFJlcG9zaXRvcnk8VD4ge1xyXG5cclxuICAvKipcclxuICAgKiDlkI3np7BcclxuICAgKi9cclxuICBwdWJsaWMgYWJzdHJhY3QgbmFtZTogc3RyaW5nO1xyXG5cclxuICAvKipcclxuICAgKiBCZWbku6PnkIZcclxuICAgKi9cclxuICBwdWJsaWMgYWJzdHJhY3QgYXBpUHJveHlUeXBlOiBUeXBlPEJlZlByb3h5PjtcclxuXHJcbiAgLyoqXHJcbiAgICog5bqU55So5LiK5LiL5paHXHJcbiAgICovXHJcbiAgcHVibGljIGFwcENvbnRleHQ6IEFwcENvbnRleHQ7XHJcblxyXG4gIC8qKlxyXG4gICAqIOWunuS9k+euoeeQhuWZqFxyXG4gICAqL1xyXG4gIHB1YmxpYyBlbnRpdHlNYW5hZ2VyOiBCZWZFbnRpdHlNYW5hZ2VyPFQ+O1xyXG5cclxuICAvKipcclxuICAgKiDlj5jph4/nrqHnkIblmahcclxuICAgKi9cclxuICBwdWJsaWMgdmFyaWFibGVNYW5hZ2VyOiBCZWZWYXJpYWJsZU1hbmFnZXI7XHJcblxyXG4gIC8qKlxyXG4gICAqIEFQSeS7o+eQhlxyXG4gICAqL1xyXG4gIHB1YmxpYyBhcGlQcm94eTogQmVmUHJveHk7XHJcblxyXG4gIC8qKlxyXG4gICAqIEJlZuS8muivneeuoeeQhlxyXG4gICAqL1xyXG4gIHB1YmxpYyBzZXNzaW9uU2VydmljZTogQmVmU2Vzc2lvblNlcnZpY2U7XHJcblxyXG4gIC8qKlxyXG4gICAqIEJlZuaVsOaNruaTjeS9nFxyXG4gICAqL1xyXG4gIHB1YmxpYyBkYXRhU2VydmljZTogQmVmRGF0YVNlcnZpY2U8VD47XHJcblxyXG4gIC8qKlxyXG4gICAqIOaehOmAoOWHveaVsFxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKHByb3RlY3RlZCBpbmplY3RvcjogSW5qZWN0b3IpIHtcclxuICAgIHN1cGVyKCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiDliJ3lp4vljJZcclxuICAgKiBAc3VtbWFyeVxyXG4gICAqIOWunueOsOexu+eahOaehOmAoOWHveaVsOS4reiwg+eUqOaJjeiDveato+ehruiOt+WPlmFwaVByb3h5XHJcbiAgICovXHJcbiAgcHJvdGVjdGVkIGluaXQoKSB7XHJcbiAgICBzdXBlci5pbml0KCk7XHJcbiAgICBjb25zdCBpbml0aWFsaXplciA9IG5ldyBCZWZSZXBvc2l0b3J5SW5pdGlhbGl6ZXIodGhpcyk7XHJcbiAgICBpbml0aWFsaXplci5pbml0KCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiDojrflj5bms6jlhaXlmahcclxuICAgKi9cclxuICBwdWJsaWMgZ2V0SW5qZWN0b3IoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5pbmplY3RvcjtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIOiOt+WPluWunuS9k+aVsOe7hFxyXG4gICAqL1xyXG4gIHB1YmxpYyBnZXRFbnRpdGllcyhmaWx0ZXI6IGFueVtdLCBzb3J0OiBhbnlbXSwgcGFnZVNpemU6IG51bWJlciB8IG51bGwsIHBhZ2VJbmRleDogbnVtYmVyIHwgbnVsbCk6IE9ic2VydmFibGU8VFtdPiB7XHJcbiAgICByZXR1cm4gdGhpcy5kYXRhU2VydmljZS5nZXRMaXN0KGZpbHRlciwgc29ydCwgcGFnZVNpemUsIHBhZ2VJbmRleCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiDojrflj5bkuLvplK7kuLppZOeahOWunuS9k1xyXG4gICAqIEBwYXJhbSBpZCDlrp7kvZNpZFxyXG4gICAqL1xyXG4gIHB1YmxpYyBnZXRFbnRpdHlCeUlkKGlkOiBzdHJpbmcpOiBPYnNlcnZhYmxlPFQ+IHtcclxuICAgIHJldHVybiB0aGlzLmRhdGFTZXJ2aWNlLmdldEJ5SWQoaWQpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICog5pu05paw5a6e5L2T5pWw5o2uXHJcbiAgICovXHJcbiAgcHVibGljIHVwZGF0ZUVudGl0eUJ5SWQoaWQ6IHN0cmluZyk6IE9ic2VydmFibGU8VD4ge1xyXG4gICAgcmV0dXJuIHRoaXMuZGF0YVNlcnZpY2UudXBkYXRlQnlJZChpZCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiDmm7TmlrDlrp7kvZPmlbDmja7lubbliqDplIFcclxuICAgKi9cclxuICBwdWJsaWMgZWRpdEVudGl0eUJ5SWQoaWQ6IHN0cmluZyk6IE9ic2VydmFibGU8VD4ge1xyXG4gICAgcmV0dXJuIHRoaXMuZGF0YVNlcnZpY2UuZWRpdEJ5SWQoaWQpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICog5Yib5bu65a6e5L2TXHJcbiAgICovXHJcbiAgcHVibGljIGNyZWF0ZUVudGl0eShkZWZhdWx0VmFsdWU/OiBhbnkpOiBPYnNlcnZhYmxlPFQ+IHtcclxuICAgIHJldHVybiB0aGlzLmRhdGFTZXJ2aWNlLmNyZWF0ZShkZWZhdWx0VmFsdWUpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICog6L+95Yqg5a6e5L2TXHJcbiAgICovXHJcbiAgcHVibGljIGFwcGVuZEVudGl0eShkZWZhdWx0VmFsdWU/OiBhbnkpOiBPYnNlcnZhYmxlPFQ+IHtcclxuICAgIHJldHVybiB0aGlzLmRhdGFTZXJ2aWNlLmFwcGVuZChkZWZhdWx0VmFsdWUpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICog5Yib5bu65a2Q5a6e5L2T77yM5bm26L+95YqgXHJcbiAgICogQHBhcmFtIGZwYXRoIOeItui3r+W+hO+8jOagvOW8j+W9ouWmgu+8mi8xL2VkdXPvvIjku47ooajvvInmiJYvMS9lZHVzLzIvZ3JhZGVz77yI5LuO5LuO6KGo77yJXHJcbiAgICovXHJcbiAgcHVibGljIGFwcGVuZEVudGl0eUJ5UGF0aChmcGF0aDogc3RyaW5nKTogT2JzZXJ2YWJsZTxFbnRpdHk+IHtcclxuICAgIHJldHVybiB0aGlzLmRhdGFTZXJ2aWNlLmFwcGVuZEJ5UGF0aChmcGF0aCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiDmoLnmja5pZOWIoOmZpOWunuS9k1xyXG4gICAqL1xyXG4gIHB1YmxpYyByZW1vdmVFbnRpdHlCeUlkKGlkOiBzdHJpbmcsIGlmU2F2ZT86IGJvb2xlYW4pOiBPYnNlcnZhYmxlPGJvb2xlYW4+IHtcclxuICAgIHJldHVybiB0aGlzLmRhdGFTZXJ2aWNlLnJlbW92ZUJ5SWQoaWQsIGlmU2F2ZSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiDmoLnmja5pZHPmibnph4/liKDpmaTlrp7kvZNcclxuICAgKi9cclxuICBwdWJsaWMgcmVtb3ZlRW50aXRpZXNCeUlkcyhpZHM6IHN0cmluZ1tdKSB7XHJcbiAgICByZXR1cm4gdGhpcy5kYXRhU2VydmljZS5yZW1vdmVCeUlkcyhpZHMpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICog5qC55o2uaWTliKDpmaTlrp7kvZPlubbmiafooYzkv53lrZhcclxuICAgKi9cclxuICBwdWJsaWMgcmVtb3ZlRW50aXR5QW5kU2F2ZUJ5SWQoaWQ6IHN0cmluZyk6IE9ic2VydmFibGU8Ym9vbGVhbj4ge1xyXG4gICAgcmV0dXJuIHRoaXMuZGF0YVNlcnZpY2UucmVtb3ZlQW5kU2F2ZUJ5SWQoaWQpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICog5Yig6Zmk5a2Q57qnXHJcbiAgICovXHJcbiAgcHVibGljIHJlbW92ZUVudGl0eUJ5UGF0aChmcGF0aDogc3RyaW5nLCBpZDogc3RyaW5nKTogT2JzZXJ2YWJsZTxib29sZWFuPiB7XHJcbiAgICByZXR1cm4gdGhpcy5kYXRhU2VydmljZS5yZW1vdmVCeVBhdGgoZnBhdGgsIGlkKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIOS/neWtmOS4u+mUruS4umlk55qE5a6e5L2TXHJcbiAgICovXHJcbiAgcHVibGljIHNhdmVFbnRpdHlCeUlkKGlkOiBzdHJpbmcpOiBPYnNlcnZhYmxlPGJvb2xlYW4+IHtcclxuICAgIHJldHVybiB0aGlzLmRhdGFTZXJ2aWNlLmFwcGx5Q2hhbmdlc0J5SWQoaWQpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICog5om56YeP5L+d5a2YXHJcbiAgICovXHJcbiAgcHVibGljIHNhdmVFbnRpdGllcygpOiBPYnNlcnZhYmxlPGJvb2xlYW4+IHtcclxuICAgIHJldHVybiB0aGlzLmRhdGFTZXJ2aWNlLmFwcGx5Q2hhbmdlcygpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICog5Y+W5raI5a6e5L2T5Y+Y5pu0XHJcbiAgICovXHJcbiAgcHVibGljIGNhbmNlbEVudGl0eUNoYW5nZXMoKTogT2JzZXJ2YWJsZTxib29sZWFuPiB7XHJcbiAgICByZXR1cm4gdGhpcy5kYXRhU2VydmljZS5jYW5jZWxDaGFuZ2VzKCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiDmuIXnqbpSZXBvc2l0b3nlhoXnmoTmlbDmja7lkozlj5jph49cclxuICAgKi9cclxuICBwdWJsaWMgcmVzZXQoKSB7XHJcbiAgICB0aGlzLmVudGl0eU1hbmFnZXIucmVzZXQoKTtcclxuICAgIHRoaXMudmFyaWFibGVNYW5hZ2VyLnJlc2V0KCk7XHJcbiAgICB0aGlzLnNlc3Npb25TZXJ2aWNlLmNsZWFyQmVTZXNzaW9uSWQoKTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCB7IEJlZlJlcG9zaXRvcnkgfTtcclxuIl19