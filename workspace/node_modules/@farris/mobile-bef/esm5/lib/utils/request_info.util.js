/**
 * @fileoverview added by tsickle
 * Generated from: lib/utils/request_info.util.ts
 * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
var RequestInfoUtil = /** @class */ (function () {
    function RequestInfoUtil() {
    }
    /**
     * 构造RequestInfo
     */
    /**
     * 构造RequestInfo
     * @param {?} repository
     * @return {?}
     */
    RequestInfoUtil.buildRequestInfo = /**
     * 构造RequestInfo
     * @param {?} repository
     * @return {?}
     */
    function (repository) {
        /** @type {?} */
        var requestInfo = {
            dataChange: repository.entityManager.buildAllEntityChangeDetails(),
            variableChange: repository.variableManager.buildChangeDetail()
        };
        return requestInfo;
    };
    /**
     * 向body中添加RequestInfo
     */
    /**
     * 向body中添加RequestInfo
     * @param {?} body
     * @param {?} repository
     * @return {?}
     */
    RequestInfoUtil.appendRequestInfoToBody = /**
     * 向body中添加RequestInfo
     * @param {?} body
     * @param {?} repository
     * @return {?}
     */
    function (body, repository) {
        if (body.requestInfo) {
            return body;
        }
        /** @type {?} */
        var requestInfo = this.buildRequestInfo(repository);
        // body不存在时，body=requestInfo
        if (!body || Object.keys(body).length === 0) {
            return requestInfo;
        }
        /** @type {?} */
        var bodyWithRequestInfo = Object.assign({}, body, { requestInfo: requestInfo });
        return bodyWithRequestInfo;
    };
    return RequestInfoUtil;
}());
export { RequestInfoUtil };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicmVxdWVzdF9pbmZvLnV0aWwuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9AZmFycmlzL21vYmlsZS1iZWYvIiwic291cmNlcyI6WyJsaWIvdXRpbHMvcmVxdWVzdF9pbmZvLnV0aWwudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFJQTtJQUFBO0lBOEJBLENBQUM7SUE1QkM7O09BRUc7Ozs7OztJQUNXLGdDQUFnQjs7Ozs7SUFBOUIsVUFBK0IsVUFBaUM7O1lBQ3hELFdBQVcsR0FBZ0I7WUFDL0IsVUFBVSxFQUFFLFVBQVUsQ0FBQyxhQUFhLENBQUMsMkJBQTJCLEVBQUU7WUFDbEUsY0FBYyxFQUFFLFVBQVUsQ0FBQyxlQUFlLENBQUMsaUJBQWlCLEVBQUU7U0FDL0Q7UUFDRCxPQUFPLFdBQVcsQ0FBQztJQUNyQixDQUFDO0lBRUQ7O09BRUc7Ozs7Ozs7SUFDVyx1Q0FBdUI7Ozs7OztJQUFyQyxVQUFzQyxJQUFTLEVBQUUsVUFBaUM7UUFDaEYsSUFBSSxJQUFJLENBQUMsV0FBVyxFQUFFO1lBQ3BCLE9BQU8sSUFBSSxDQUFDO1NBQ2I7O1lBQ0ssV0FBVyxHQUFHLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxVQUFVLENBQUM7UUFFckQsNEJBQTRCO1FBQzVCLElBQUksQ0FBQyxJQUFJLElBQUksTUFBTSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxNQUFNLEtBQUssQ0FBQyxFQUFFO1lBQzNDLE9BQU8sV0FBVyxDQUFDO1NBQ3BCOztZQUVLLG1CQUFtQixHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUMsRUFBRSxFQUFFLElBQUksRUFBRSxFQUFFLFdBQVcsRUFBRSxXQUFXLEVBQUUsQ0FBQztRQUNqRixPQUFPLG1CQUFtQixDQUFDO0lBQzdCLENBQUM7SUFDSCxzQkFBQztBQUFELENBQUMsQUE5QkQsSUE4QkM7QUFFRCxPQUFPLEVBQUUsZUFBZSxFQUFFLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBFbnRpdHkgfSBmcm9tICdAZmFycmlzL21vYmlsZS1kZXZraXQnO1xyXG5pbXBvcnQgeyBCZWZSZXBvc2l0b3J5IH0gZnJvbSAnLi4vYmVmX3JlcG9zaXRvcnknO1xyXG5pbXBvcnQgeyBSZXF1ZXN0SW5mbyB9IGZyb20gJy4uL3R5cGVzJztcclxuXHJcbmNsYXNzIFJlcXVlc3RJbmZvVXRpbCB7XHJcblxyXG4gIC8qKlxyXG4gICAqIOaehOmAoFJlcXVlc3RJbmZvXHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBidWlsZFJlcXVlc3RJbmZvKHJlcG9zaXRvcnk6IEJlZlJlcG9zaXRvcnk8RW50aXR5Pik6IFJlcXVlc3RJbmZvIHtcclxuICAgIGNvbnN0IHJlcXVlc3RJbmZvOiBSZXF1ZXN0SW5mbyA9IHtcclxuICAgICAgZGF0YUNoYW5nZTogcmVwb3NpdG9yeS5lbnRpdHlNYW5hZ2VyLmJ1aWxkQWxsRW50aXR5Q2hhbmdlRGV0YWlscygpLFxyXG4gICAgICB2YXJpYWJsZUNoYW5nZTogcmVwb3NpdG9yeS52YXJpYWJsZU1hbmFnZXIuYnVpbGRDaGFuZ2VEZXRhaWwoKVxyXG4gICAgfTtcclxuICAgIHJldHVybiByZXF1ZXN0SW5mbztcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIOWQkWJvZHnkuK3mt7vliqBSZXF1ZXN0SW5mb1xyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgYXBwZW5kUmVxdWVzdEluZm9Ub0JvZHkoYm9keTogYW55LCByZXBvc2l0b3J5OiBCZWZSZXBvc2l0b3J5PEVudGl0eT4pOiBhbnkge1xyXG4gICAgaWYgKGJvZHkucmVxdWVzdEluZm8pIHtcclxuICAgICAgcmV0dXJuIGJvZHk7XHJcbiAgICB9XHJcbiAgICBjb25zdCByZXF1ZXN0SW5mbyA9IHRoaXMuYnVpbGRSZXF1ZXN0SW5mbyhyZXBvc2l0b3J5KTtcclxuXHJcbiAgICAvLyBib2R55LiN5a2Y5Zyo5pe277yMYm9keT1yZXF1ZXN0SW5mb1xyXG4gICAgaWYgKCFib2R5IHx8IE9iamVjdC5rZXlzKGJvZHkpLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICByZXR1cm4gcmVxdWVzdEluZm87XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgYm9keVdpdGhSZXF1ZXN0SW5mbyA9IE9iamVjdC5hc3NpZ24oe30sIGJvZHksIHsgcmVxdWVzdEluZm86IHJlcXVlc3RJbmZvIH0pO1xyXG4gICAgcmV0dXJuIGJvZHlXaXRoUmVxdWVzdEluZm87XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgeyBSZXF1ZXN0SW5mb1V0aWwgfTtcclxuIl19