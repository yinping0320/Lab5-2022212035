/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { Injectable } from '@angular/core';
import { FieldConfig } from '../entity/fieldconfig/fieldconfig';
import { QueryCondition } from '../entity/querycondition';
// import { SolutionService } from './solution.service';
import { EnumType } from '../entity/controltype/dropdownlist/enumtype';
import { EnumBoolValue } from '../entity/controltype/dropdownlist/boolenumvalue';
import { EnumIntegerValue } from '../entity/controltype/dropdownlist/integerenumvalue';
import { EnumStringValue } from '../entity/controltype/dropdownlist/stringenumvalue';
import { ControlType } from '../entity/controltype';
import { CompareType } from '../entity/comparetype';
import { ValueType } from '../entity/valuetype';
import { RelationType } from '../entity/relationtype';
import { CheckboxEnumValue } from '../entity/controltype/checkbox/ienumvalue';
var ConvertorService = /** @class */ (function () {
    function ConvertorService() {
    }
    // private solutionservice:SolutionService
    /**
    * 获取已选择的字段配置
    * @param selectedConditions
    */
    // private solutionservice:SolutionService
    /**
     * 获取已选择的字段配置
     * @param {?} selectedConditions
     * @return {?}
     */
    ConvertorService.prototype.getFeildConfigs = 
    // private solutionservice:SolutionService
    /**
     * 获取已选择的字段配置
     * @param {?} selectedConditions
     * @return {?}
     */
    function (selectedConditions) {
        /** @type {?} */
        var fieldsConfigs = new Array();
        if (!selectedConditions || selectedConditions.length <= 0) {
            return fieldsConfigs;
        }
        else {
            selectedConditions.forEach((/**
             * @param {?} condition
             * @return {?}
             */
            function (condition) {
                /** @type {?} */
                var fieldConfig = new FieldConfig();
                fieldConfig.id = condition.id;
                fieldConfig.labelCode = condition.fieldCode;
                fieldConfig.name = condition.fieldName;
                fieldConfig.control = condition.control;
                fieldsConfigs.push(fieldConfig);
            }));
        }
        return fieldsConfigs;
    };
    /**
     * @param {?} fileds
     * @param {?} selectedFieldConditions
     * @return {?}
     */
    ConvertorService.prototype.getSelectedFieldConditions = /**
     * @param {?} fileds
     * @param {?} selectedFieldConditions
     * @return {?}
     */
    function (fileds, selectedFieldConditions) {
        var _this = this;
        // console.log(selectedFieldConditions);
        /** @type {?} */
        var tempSelectedFieldConditions = new Array();
        tempSelectedFieldConditions = this.arrayClone(selectedFieldConditions);
        selectedFieldConditions = new Array();
        fileds.forEach((/**
         * @param {?} filed
         * @return {?}
         */
        function (filed) {
            filed.control = _this.getDropListEnumValues((/** @type {?} */ (filed.control)));
            // filed.control = this.getCheckGroupEnumValues(filed.control as CheckboxGroupControl);
            if (tempSelectedFieldConditions.length > 0) {
                /** @type {?} */
                var tempIndex = tempSelectedFieldConditions.findIndex((/**
                 * @param {?} x
                 * @return {?}
                 */
                function (x) { return x.id == filed.id; }));
                if (tempIndex != (-1)) {
                    selectedFieldConditions.push(tempSelectedFieldConditions[tempIndex]);
                }
                else {
                    selectedFieldConditions = _this.getNewFieldConditions(filed, selectedFieldConditions);
                }
            }
            else {
                selectedFieldConditions = _this.getNewFieldConditions(filed, selectedFieldConditions);
            }
        }));
        return selectedFieldConditions;
    };
    /**
     * @private
     * @param {?} control
     * @return {?}
     */
    ConvertorService.prototype.getDropListEnumValues = /**
     * @private
     * @param {?} control
     * @return {?}
     */
    function (control) {
        if (control.valueType == EnumType.BoolType) {
            /** @type {?} */
            var enumValues_1 = new Array();
            control.enumValues.forEach((/**
             * @param {?} element
             * @return {?}
             */
            function (element) {
                enumValues_1.push(Object.assign(new EnumBoolValue(), element));
            }));
            control.enumValues = enumValues_1;
        }
        else if (control.valueType == EnumType.IntType) {
            /** @type {?} */
            var enumValues_2 = new Array();
            control.enumValues.forEach((/**
             * @param {?} element
             * @return {?}
             */
            function (element) {
                enumValues_2.push(Object.assign(new EnumIntegerValue(), element));
            }));
            control.enumValues = enumValues_2;
        }
        else if (control.valueType == EnumType.StringType) {
            /** @type {?} */
            var enumValues_3 = new Array();
            control.enumValues.forEach((/**
             * @param {?} element
             * @return {?}
             */
            function (element) {
                enumValues_3.push(Object.assign(new EnumStringValue(), element));
            }));
            control.enumValues = enumValues_3;
        }
        return control;
    };
    /**
     * @private
     * @param {?} control
     * @return {?}
     */
    ConvertorService.prototype.getCheckGroupEnumValues = /**
     * @private
     * @param {?} control
     * @return {?}
     */
    function (control) {
        /** @type {?} */
        var enumValues = new Array();
        control.enumValues.forEach((/**
         * @param {?} element
         * @return {?}
         */
        function (element) {
            enumValues.push(Object.assign(new CheckboxEnumValue(), element));
        }));
        control.enumValues = enumValues;
        return control;
    };
    /**
     * @param {?} filed
     * @param {?} selectedFieldConditions
     * @return {?}
     */
    ConvertorService.prototype.getNewFieldConditions = /**
     * @param {?} filed
     * @param {?} selectedFieldConditions
     * @return {?}
     */
    function (filed, selectedFieldConditions) {
        /** @type {?} */
        var selectedFieldCondition = new QueryCondition();
        if (filed.control.getControlType() == ControlType.Text) {
            selectedFieldConditions = this.getTextValueFieldCondition(selectedFieldCondition, filed, selectedFieldConditions);
        }
        else if (filed.control.getControlType() == ControlType.DateRange) {
            selectedFieldConditions = this.getDateRangeValueFieldCondition(selectedFieldCondition, filed, selectedFieldConditions);
        }
        else if (filed.control.getControlType() == ControlType.DateRangeTime) {
            selectedFieldConditions = this.getDateRangeTimeValueFieldCondition(selectedFieldCondition, filed, selectedFieldConditions);
        }
        else if (filed.control.getControlType() == ControlType.MonthRange) {
            selectedFieldConditions = this.getDateRangeValueFieldCondition(selectedFieldCondition, filed, selectedFieldConditions);
        }
        else if (filed.control.getControlType() == ControlType.YearRange) {
            selectedFieldConditions = this.getDateRangeValueFieldCondition(selectedFieldCondition, filed, selectedFieldConditions);
        }
        else if (filed.control.getControlType() == ControlType.NumberRange) {
            selectedFieldConditions = this.getNumberRangeValueFieldCondition(selectedFieldCondition, filed, selectedFieldConditions);
        }
        else if (filed.control.getControlType() == ControlType.Help) {
            selectedFieldConditions = this.getSmartHelpValueFieldCondition(selectedFieldCondition, filed, selectedFieldConditions);
        }
        else if (filed.control.getControlType() == ControlType.DropDown) {
            selectedFieldConditions = this.getDropDownListValueFieldCondition(selectedFieldCondition, filed, selectedFieldConditions);
        }
        else if (filed.control.getControlType() == ControlType.Search) {
            selectedFieldConditions = this.getSearchValueFieldCondition(selectedFieldCondition, filed, selectedFieldConditions);
        }
        else if (filed.control.getControlType() == ControlType.Date) {
            selectedFieldConditions = this.getDateValueFieldCondition(selectedFieldCondition, filed, selectedFieldConditions);
        }
        else if (filed.control.getControlType() == ControlType.Year) {
            selectedFieldConditions = this.getDateValueFieldCondition(selectedFieldCondition, filed, selectedFieldConditions);
        }
        else if (filed.control.getControlType() == ControlType.Month) {
            selectedFieldConditions = this.getDateValueFieldCondition(selectedFieldCondition, filed, selectedFieldConditions);
        }
        else if (filed.control.getControlType() == ControlType.CheckboxGroup) {
            selectedFieldConditions = this.getCheckboxGroupValueFieldCondition(selectedFieldCondition, filed, selectedFieldConditions);
        }
        else if (filed.control.getControlType() == ControlType.Radio) {
            selectedFieldConditions = this.getRadioValueFieldCondition(selectedFieldCondition, filed, selectedFieldConditions);
        }
        else if (filed.control.getControlType() == ControlType.InputGroup) {
            selectedFieldConditions = this.getInputGroupValueFieldCondition(selectedFieldCondition, filed, selectedFieldConditions);
        }
        return selectedFieldConditions;
    };
    /**
     * @private
     * @param {?} selectedFieldCondition
     * @param {?} filed
     * @param {?} selectedFieldConditions
     * @return {?}
     */
    ConvertorService.prototype.getDropDownListValueFieldCondition = /**
     * @private
     * @param {?} selectedFieldCondition
     * @param {?} filed
     * @param {?} selectedFieldConditions
     * @return {?}
     */
    function (selectedFieldCondition, filed, selectedFieldConditions) {
        selectedFieldCondition.id = filed.id;
        selectedFieldCondition.fieldCode = filed.labelCode;
        selectedFieldCondition.placeHolder = filed.placeHolder;
        selectedFieldCondition.fieldName = filed.name;
        selectedFieldCondition.compareType = CompareType.Equal;
        selectedFieldCondition.valueType = ValueType.Value;
        selectedFieldCondition.value = filed.value;
        selectedFieldCondition.relationType = RelationType.And;
        selectedFieldCondition.control = filed.control;
        this.getDropListEnumValues((/** @type {?} */ (selectedFieldCondition.control)));
        selectedFieldConditions.push(selectedFieldCondition);
        return selectedFieldConditions;
    };
    /**
     * @private
     * @param {?} selectedFieldCondition
     * @param {?} filed
     * @param {?} selectedFieldConditions
     * @return {?}
     */
    ConvertorService.prototype.getCheckboxGroupValueFieldCondition = /**
     * @private
     * @param {?} selectedFieldCondition
     * @param {?} filed
     * @param {?} selectedFieldConditions
     * @return {?}
     */
    function (selectedFieldCondition, filed, selectedFieldConditions) {
        selectedFieldCondition.id = filed.id;
        selectedFieldCondition.fieldCode = filed.labelCode;
        selectedFieldCondition.placeHolder = filed.placeHolder;
        selectedFieldCondition.fieldName = filed.name;
        selectedFieldCondition.compareType = CompareType.Equal;
        selectedFieldCondition.valueType = ValueType.Value;
        selectedFieldCondition.value = filed.value;
        selectedFieldCondition.relationType = RelationType.And;
        selectedFieldCondition.control = filed.control;
        this.getCheckGroupEnumValues((/** @type {?} */ (selectedFieldCondition.control)));
        selectedFieldConditions.push(selectedFieldCondition);
        return selectedFieldConditions;
    };
    /**
     * @private
     * @param {?} selectedFieldCondition
     * @param {?} filed
     * @param {?} selectedFieldConditions
     * @return {?}
     */
    ConvertorService.prototype.getRadioValueFieldCondition = /**
     * @private
     * @param {?} selectedFieldCondition
     * @param {?} filed
     * @param {?} selectedFieldConditions
     * @return {?}
     */
    function (selectedFieldCondition, filed, selectedFieldConditions) {
        selectedFieldCondition.id = filed.id;
        selectedFieldCondition.fieldCode = filed.labelCode;
        selectedFieldCondition.placeHolder = filed.placeHolder;
        selectedFieldCondition.fieldName = filed.name;
        selectedFieldCondition.compareType = CompareType.Equal;
        selectedFieldCondition.valueType = ValueType.Value;
        selectedFieldCondition.value = filed.value;
        selectedFieldCondition.relationType = RelationType.And;
        selectedFieldCondition.control = filed.control;
        this.getCheckGroupEnumValues((/** @type {?} */ (selectedFieldCondition.control)));
        selectedFieldConditions.push(selectedFieldCondition);
        return selectedFieldConditions;
    };
    /**
     * @private
     * @param {?} selectedFieldCondition
     * @param {?} filed
     * @param {?} selectedFieldConditions
     * @return {?}
     */
    ConvertorService.prototype.getSmartHelpValueFieldCondition = /**
     * @private
     * @param {?} selectedFieldCondition
     * @param {?} filed
     * @param {?} selectedFieldConditions
     * @return {?}
     */
    function (selectedFieldCondition, filed, selectedFieldConditions) {
        selectedFieldCondition.id = filed.id;
        selectedFieldCondition.fieldCode = filed.labelCode;
        selectedFieldCondition.placeHolder = filed.placeHolder;
        selectedFieldCondition.fieldName = filed.name;
        selectedFieldCondition.compareType = CompareType.Equal;
        selectedFieldCondition.valueType = ValueType.Value;
        selectedFieldCondition.value = filed.value;
        selectedFieldCondition.relationType = RelationType.And;
        selectedFieldCondition.control = filed.control;
        selectedFieldConditions.push(selectedFieldCondition);
        return selectedFieldConditions;
    };
    /**
     * @private
     * @param {?} selectedFieldCondition
     * @param {?} filed
     * @param {?} selectedFieldConditions
     * @return {?}
     */
    ConvertorService.prototype.getNumberRangeValueFieldCondition = /**
     * @private
     * @param {?} selectedFieldCondition
     * @param {?} filed
     * @param {?} selectedFieldConditions
     * @return {?}
     */
    function (selectedFieldCondition, filed, selectedFieldConditions) {
        selectedFieldCondition.id = filed.id;
        selectedFieldCondition.fieldCode = filed.labelCode;
        selectedFieldCondition.placeHolder = filed.placeHolder;
        selectedFieldCondition.beginPlaceHolder = filed.beginPlaceHolder;
        selectedFieldCondition.endPlaceHolder = filed.endPlaceHolder;
        selectedFieldCondition.fieldName = filed.name;
        selectedFieldCondition.compareType = CompareType.BetWeen;
        selectedFieldCondition.valueType = ValueType.Value;
        selectedFieldCondition.value = filed.value;
        selectedFieldCondition.relationType = RelationType.And;
        selectedFieldCondition.control = filed.control;
        selectedFieldConditions.push(selectedFieldCondition);
        return selectedFieldConditions;
    };
    /**
     * @private
     * @param {?} selectedFieldCondition
     * @param {?} filed
     * @param {?} selectedFieldConditions
     * @return {?}
     */
    ConvertorService.prototype.getDateRangeValueFieldCondition = /**
     * @private
     * @param {?} selectedFieldCondition
     * @param {?} filed
     * @param {?} selectedFieldConditions
     * @return {?}
     */
    function (selectedFieldCondition, filed, selectedFieldConditions) {
        selectedFieldCondition.id = filed.id;
        selectedFieldCondition.fieldCode = filed.labelCode;
        selectedFieldCondition.placeHolder = filed.placeHolder;
        selectedFieldCondition.beginPlaceHolder = filed.beginPlaceHolder;
        selectedFieldCondition.endPlaceHolder = filed.endPlaceHolder;
        selectedFieldCondition.fieldName = filed.name;
        selectedFieldCondition.compareType = CompareType.BetWeen;
        selectedFieldCondition.valueType = ValueType.Value;
        selectedFieldCondition.value = filed.value;
        selectedFieldCondition.relationType = RelationType.And;
        selectedFieldCondition.control = filed.control;
        selectedFieldConditions.push(selectedFieldCondition);
        return selectedFieldConditions;
    };
    /**
     * @private
     * @param {?} selectedFieldCondition
     * @param {?} filed
     * @param {?} selectedFieldConditions
     * @return {?}
     */
    ConvertorService.prototype.getDateRangeTimeValueFieldCondition = /**
     * @private
     * @param {?} selectedFieldCondition
     * @param {?} filed
     * @param {?} selectedFieldConditions
     * @return {?}
     */
    function (selectedFieldCondition, filed, selectedFieldConditions) {
        selectedFieldCondition.id = filed.id;
        selectedFieldCondition.fieldCode = filed.labelCode;
        selectedFieldCondition.placeHolder = filed.placeHolder;
        selectedFieldCondition.fieldName = filed.name;
        selectedFieldCondition.compareType = CompareType.BetWeen;
        selectedFieldCondition.valueType = ValueType.Value;
        selectedFieldCondition.value = filed.value;
        selectedFieldCondition.relationType = RelationType.And;
        selectedFieldCondition.control = filed.control;
        selectedFieldConditions.push(selectedFieldCondition);
        return selectedFieldConditions;
    };
    /**
     * @private
     * @param {?} selectedFieldCondition
     * @param {?} filed
     * @param {?} selectedFieldConditions
     * @return {?}
     */
    ConvertorService.prototype.getTextValueFieldCondition = /**
     * @private
     * @param {?} selectedFieldCondition
     * @param {?} filed
     * @param {?} selectedFieldConditions
     * @return {?}
     */
    function (selectedFieldCondition, filed, selectedFieldConditions) {
        selectedFieldCondition.id = filed.id;
        selectedFieldCondition.fieldCode = filed.labelCode;
        selectedFieldCondition.placeHolder = filed.placeHolder;
        selectedFieldCondition.fieldName = filed.name;
        selectedFieldCondition.compareType = CompareType.Equal;
        selectedFieldCondition.valueType = ValueType.Value;
        selectedFieldCondition.value = filed.value;
        selectedFieldCondition.relationType = RelationType.And;
        selectedFieldCondition.control = filed.control;
        selectedFieldConditions.push(selectedFieldCondition);
        return selectedFieldConditions;
    };
    /**
     * @private
     * @param {?} selectedFieldCondition
     * @param {?} filed
     * @param {?} selectedFieldConditions
     * @return {?}
     */
    ConvertorService.prototype.getInputGroupValueFieldCondition = /**
     * @private
     * @param {?} selectedFieldCondition
     * @param {?} filed
     * @param {?} selectedFieldConditions
     * @return {?}
     */
    function (selectedFieldCondition, filed, selectedFieldConditions) {
        selectedFieldCondition.id = filed.id;
        selectedFieldCondition.fieldCode = filed.labelCode;
        selectedFieldCondition.placeHolder = filed.placeHolder;
        selectedFieldCondition.fieldName = filed.name;
        selectedFieldCondition.compareType = CompareType.Equal;
        selectedFieldCondition.valueType = ValueType.Value;
        selectedFieldCondition.value = filed.value;
        selectedFieldCondition.relationType = RelationType.And;
        selectedFieldCondition.control = filed.control;
        selectedFieldConditions.push(selectedFieldCondition);
        return selectedFieldConditions;
    };
    /**
     * @private
     * @param {?} selectedFieldCondition
     * @param {?} filed
     * @param {?} selectedFieldConditions
     * @return {?}
     */
    ConvertorService.prototype.getDateValueFieldCondition = /**
     * @private
     * @param {?} selectedFieldCondition
     * @param {?} filed
     * @param {?} selectedFieldConditions
     * @return {?}
     */
    function (selectedFieldCondition, filed, selectedFieldConditions) {
        selectedFieldCondition.id = filed.id;
        selectedFieldCondition.fieldCode = filed.labelCode;
        selectedFieldCondition.placeHolder = filed.placeHolder;
        selectedFieldCondition.fieldName = filed.name;
        selectedFieldCondition.compareType = CompareType.Equal;
        selectedFieldCondition.valueType = ValueType.Value;
        selectedFieldCondition.value = filed.value;
        selectedFieldCondition.relationType = RelationType.And;
        selectedFieldCondition.control = filed.control;
        selectedFieldConditions.push(selectedFieldCondition);
        return selectedFieldConditions;
    };
    /**
     * @private
     * @param {?} selectedFieldCondition
     * @param {?} filed
     * @param {?} selectedFieldConditions
     * @return {?}
     */
    ConvertorService.prototype.getSearchValueFieldCondition = /**
     * @private
     * @param {?} selectedFieldCondition
     * @param {?} filed
     * @param {?} selectedFieldConditions
     * @return {?}
     */
    function (selectedFieldCondition, filed, selectedFieldConditions) {
        selectedFieldCondition.id = filed.id;
        selectedFieldCondition.fieldCode = filed.labelCode;
        selectedFieldCondition.placeHolder = filed.placeHolder;
        selectedFieldCondition.fieldName = filed.name;
        selectedFieldCondition.compareType = CompareType.Equal;
        selectedFieldCondition.valueType = ValueType.Value;
        selectedFieldCondition.value = filed.value;
        selectedFieldCondition.relationType = RelationType.And;
        selectedFieldCondition.control = filed.control;
        selectedFieldConditions.push(selectedFieldCondition);
        return selectedFieldConditions;
    };
    /**
     * @private
     * @param {?} input
     * @return {?}
     */
    ConvertorService.prototype.arrayClone = /**
     * @private
     * @param {?} input
     * @return {?}
     */
    function (input) {
        /** @type {?} */
        var result = new Array();
        if (input && input.length > 0) {
            input.forEach((/**
             * @param {?} element
             * @return {?}
             */
            function (element) {
                result.push(Object.assign({}, element));
            }));
        }
        return result;
    };
    ConvertorService.decorators = [
        { type: Injectable }
    ];
    /** @nocollapse */
    ConvertorService.ctorParameters = function () { return []; };
    return ConvertorService;
}());
export { ConvertorService };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29udmVydG9yc2VydmljZS5qcyIsInNvdXJjZVJvb3QiOiJuZzovL0BmYXJyaXMvdWktbGlzdC1maWx0ZXIvIiwic291cmNlcyI6WyJsaWIvc2VydmljZS9jb252ZXJ0b3JzZXJ2aWNlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7QUFBQSxPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBQzNDLE9BQU8sRUFBRSxXQUFXLEVBQUUsTUFBTSxtQ0FBbUMsQ0FBQztBQUNoRSxPQUFPLEVBQUUsY0FBYyxFQUFFLE1BQU0sMEJBQTBCLENBQUM7O0FBRTFELE9BQU8sRUFBRSxRQUFRLEVBQUUsTUFBTSw2Q0FBNkMsQ0FBQztBQUN2RSxPQUFPLEVBQUUsYUFBYSxFQUFFLE1BQU0sa0RBQWtELENBQUM7QUFDakYsT0FBTyxFQUFFLGdCQUFnQixFQUFFLE1BQU0scURBQXFELENBQUM7QUFDdkYsT0FBTyxFQUFFLGVBQWUsRUFBRSxNQUFNLG9EQUFvRCxDQUFDO0FBQ3JGLE9BQU8sRUFBRSxXQUFXLEVBQUUsTUFBTSx1QkFBdUIsQ0FBQztBQUNwRCxPQUFPLEVBQUUsV0FBVyxFQUFFLE1BQU0sdUJBQXVCLENBQUM7QUFFcEQsT0FBTyxFQUFFLFNBQVMsRUFBRSxNQUFNLHFCQUFxQixDQUFDO0FBQ2hELE9BQU8sRUFBRSxZQUFZLEVBQUUsTUFBTSx3QkFBd0IsQ0FBQztBQVV0RCxPQUFPLEVBQXNCLGlCQUFpQixFQUFFLE1BQU0sMkNBQTJDLENBQUM7QUFHbEc7SUFHSTtJQUFnQixDQUFDO0lBQ2pCLDBDQUEwQztJQUMxQzs7O01BR0U7Ozs7Ozs7SUFDRiwwQ0FBZTs7Ozs7OztJQUFmLFVBQWdCLGtCQUF5Qzs7WUFDakQsYUFBYSxHQUFHLElBQUksS0FBSyxFQUFlO1FBQzVDLElBQUksQ0FBQyxrQkFBa0IsSUFBSSxrQkFBa0IsQ0FBQyxNQUFNLElBQUksQ0FBQyxFQUFFO1lBQ3ZELE9BQU8sYUFBYSxDQUFDO1NBQ3hCO2FBQ0k7WUFDRCxrQkFB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QUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsRUFBRSxFQUFFLE9BQU8sQ0FBQyxDQUFDLENBQUM7WUFDNUMsQ0FBQyxFQUFDLENBQUM7U0FDTjtRQUNELE9BQU8sTUFBTSxDQUFDO0lBQ2xCLENBQUM7O2dCQWhUSixVQUFVOzs7O0lBaVRYLHVCQUFDO0NBQUEsQUFqVEQsSUFpVEM7U0FoVFksZ0JBQWdCIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSW5qZWN0YWJsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xyXG5pbXBvcnQgeyBGaWVsZENvbmZpZyB9IGZyb20gJy4uL2VudGl0eS9maWVsZGNvbmZpZy9maWVsZGNvbmZpZyc7XHJcbmltcG9ydCB7IFF1ZXJ5Q29uZGl0aW9uIH0gZnJvbSAnLi4vZW50aXR5L3F1ZXJ5Y29uZGl0aW9uJztcclxuLy8gaW1wb3J0IHsgU29sdXRpb25TZXJ2aWNlIH0gZnJvbSAnLi9zb2x1dGlvbi5zZXJ2aWNlJztcclxuaW1wb3J0IHsgRW51bVR5cGUgfSBmcm9tICcuLi9lbnRpdHkvY29udHJvbHR5cGUvZHJvcGRvd25saXN0L2VudW10eXBlJztcclxuaW1wb3J0IHsgRW51bUJvb2xWYWx1ZSB9IGZyb20gJy4uL2VudGl0eS9jb250cm9sdHlwZS9kcm9wZG93bmxpc3QvYm9vbGVudW12YWx1ZSc7XHJcbmltcG9ydCB7IEVudW1JbnRlZ2VyVmFsdWUgfSBmcm9tICcuLi9lbnRpdHkvY29udHJvbHR5cGUvZHJvcGRvd25saXN0L2ludGVnZXJlbnVtdmFsdWUnO1xyXG5pbXBvcnQgeyBFbnVtU3RyaW5nVmFsdWUgfSBmcm9tICcuLi9lbnRpdHkvY29udHJvbHR5cGUvZHJvcGRvd25saXN0L3N0cmluZ2VudW12YWx1ZSc7XHJcbmltcG9ydCB7IENvbnRyb2xUeXBlIH0gZnJvbSAnLi4vZW50aXR5L2NvbnRyb2x0eXBlJztcclxuaW1wb3J0IHsgQ29tcGFyZVR5cGUgfSBmcm9tICcuLi9lbnRpdHkvY29tcGFyZXR5cGUnO1xyXG5pbXBvcnQgeyBEcm9wRG93bkxpc3RWYWx1ZSB9IGZyb20gJy4uL2VudGl0eS9jb25kaXRpb252YWx1ZS9kcm9wZG93bmxpc3R2YWx1ZSc7XHJcbmltcG9ydCB7IFZhbHVlVHlwZSB9IGZyb20gJy4uL2VudGl0eS92YWx1ZXR5cGUnO1xyXG5pbXBvcnQgeyBSZWxhdGlvblR5cGUgfSBmcm9tICcuLi9lbnRpdHkvcmVsYXRpb250eXBlJztcclxuaW1wb3J0IHsgTnVtYmVyUmFuZ2VWYWx1ZSB9IGZyb20gJy4uL2VudGl0eS9jb25kaXRpb252YWx1ZS9udW1iZXJyYW5nZXZhdWUnO1xyXG5pbXBvcnQgeyBEYXRlUmFuZ2VWYWx1ZSB9IGZyb20gJy4uL2VudGl0eS9jb25kaXRpb252YWx1ZS9kYXRlcmFuZ2V2YWx1ZSc7XHJcbmltcG9ydCB7IFRleHRWYWx1ZSB9IGZyb20gJy4uL2VudGl0eS9jb25kaXRpb252YWx1ZS90ZXh0dmFsdWUnO1xyXG5pbXBvcnQgeyBEcm9wRG93bkNvbnRyb2wgfSBmcm9tICcuLi9lbnRpdHkvY29udHJvbHR5cGUvZHJvcGRvd25saXN0L2Ryb3Bkb3duY29udHJvbCc7XHJcbmltcG9ydCB7IEhlbHBWYWx1ZSB9IGZyb20gJy4uL2VudGl0eS9jb25kaXRpb252YWx1ZS9oZWxwdmFsdWUnO1xyXG5pbXBvcnQgeyBDaGVja2JveEdyb3VwQ29udHJvbCB9IGZyb20gJy4uL2VudGl0eS9jb250cm9sdHlwZS9jaGVja2JveC9jaGVja2JveGNvbnRyb2wnO1xyXG5pbXBvcnQgeyBTZWFyY2hWYWx1ZSB9IGZyb20gJy4uL2VudGl0eS9jb25kaXRpb252YWx1ZS9zZWFyY2h2YWx1ZSc7XHJcbmltcG9ydCB7IENoZWNrYm94R3JvdXBWYWx1ZSB9IGZyb20gJy4uL2VudGl0eS9jb25kaXRpb252YWx1ZS9jaGVja2JveGdyb3VwdmFsdWUnO1xyXG5pbXBvcnQgeyBEYXRlVmFsdWUgfSBmcm9tICcuLi9lbnRpdHkvY29uZGl0aW9udmFsdWUvZGF0ZXZhbHVlJztcclxuaW1wb3J0IHsgQ2hlY2tib3hJRW51bVZhbHVlLCBDaGVja2JveEVudW1WYWx1ZSB9IGZyb20gJy4uL2VudGl0eS9jb250cm9sdHlwZS9jaGVja2JveC9pZW51bXZhbHVlJztcclxuaW1wb3J0IHsgRGF0ZVJhbmdlVGltZVZhbHVlIH0gZnJvbSAnLi4vZW50aXR5L2NvbmRpdGlvbnZhbHVlL2RhdGVyYW5nZXRpbWV2YWx1ZSc7XHJcblxyXG5ASW5qZWN0YWJsZSgpXHJcbmV4cG9ydCBjbGFzcyBDb252ZXJ0b3JTZXJ2aWNlIHtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHsgfVxyXG4gICAgLy8gcHJpdmF0ZSBzb2x1dGlvbnNlcnZpY2U6U29sdXRpb25TZXJ2aWNlXHJcbiAgICAvKipcclxuICAgICog6I635Y+W5bey6YCJ5oup55qE5a2X5q616YWN572uXHJcbiAgICAqIEBwYXJhbSBzZWxlY3RlZENvbmRpdGlvbnMgXHJcbiAgICAqL1xyXG4gICAgZ2V0RmVpbGRDb25maWdzKHNlbGVjdGVkQ29uZGl0aW9uczogQXJyYXk8UXVlcnlDb25kaXRpb24+KSB7XHJcbiAgICAgICAgbGV0IGZpZWxkc0NvbmZpZ3MgPSBuZXcgQXJyYXk8RmllbGRDb25maWc+KCk7XHJcbiAgICAgICAgaWYgKCFzZWxlY3RlZENvbmRpdGlvbnMgfHwgc2VsZWN0ZWRDb25kaXRpb25zLmxlbmd0aCA8PSAwKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmaWVsZHNDb25maWdzO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgc2VsZWN0ZWRDb25kaXRpb25zLmZvckVhY2goY29uZGl0aW9uID0+IHtcclxuICAgICAgICAgICAgICAgIGxldCBmaWVsZENvbmZpZyA9IG5ldyBGaWVsZENvbmZpZygpO1xyXG4gICAgICAgICAgICAgICAgZmllbGRDb25maWcuaWQgPSBjb25kaXRpb24uaWQ7XHJcbiAgICAgICAgICAgICAgICBmaWVsZENvbmZpZy5sYWJlbENvZGUgPSBjb25kaXRpb24uZmllbGRDb2RlO1xyXG4gICAgICAgICAgICAgICAgZmllbGRDb25maWcubmFtZSA9IGNvbmRpdGlvbi5maWVsZE5hbWU7XHJcbiAgICAgICAgICAgICAgICBmaWVsZENvbmZpZy5jb250cm9sID0gY29uZGl0aW9uLmNvbnRyb2w7XHJcbiAgICAgICAgICAgICAgICBmaWVsZHNDb25maWdzLnB1c2goZmllbGRDb25maWcpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGZpZWxkc0NvbmZpZ3M7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0U2VsZWN0ZWRGaWVsZENvbmRpdGlvbnMoZmlsZWRzOiBBcnJheTxGaWVsZENvbmZpZz4sIHNlbGVjdGVkRmllbGRDb25kaXRpb25zOiBBcnJheTxRdWVyeUNvbmRpdGlvbj4pIHtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZyhzZWxlY3RlZEZpZWxkQ29uZGl0aW9ucyk7XHJcbiAgICAgICAgbGV0IHRlbXBTZWxlY3RlZEZpZWxkQ29uZGl0aW9ucyA9IG5ldyBBcnJheTxRdWVyeUNvbmRpdGlvbj4oKTtcclxuICAgICAgICB0ZW1wU2VsZWN0ZWRGaWVsZENvbmRpdGlvbnMgPSB0aGlzLmFycmF5Q2xvbmUoc2VsZWN0ZWRGaWVsZENvbmRpdGlvbnMpO1xyXG4gICAgICAgIHNlbGVjdGVkRmllbGRDb25kaXRpb25zID0gbmV3IEFycmF5PFF1ZXJ5Q29uZGl0aW9uPigpO1xyXG4gICAgICAgIGZpbGVkcy5mb3JFYWNoKGZpbGVkID0+IHtcclxuICAgICAgICAgICAgZmlsZWQuY29udHJvbCA9IHRoaXMuZ2V0RHJvcExpc3RFbnVtVmFsdWVzKGZpbGVkLmNvbnRyb2wgYXMgRHJvcERvd25Db250cm9sKTtcclxuICAgICAgICAgICAgLy8gZmlsZWQuY29udHJvbCA9IHRoaXMuZ2V0Q2hlY2tHcm91cEVudW1WYWx1ZXMoZmlsZWQuY29udHJvbCBhcyBDaGVja2JveEdyb3VwQ29udHJvbCk7XHJcbiAgICAgICAgICAgIGlmICh0ZW1wU2VsZWN0ZWRGaWVsZENvbmRpdGlvbnMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgbGV0IHRlbXBJbmRleCA9IHRlbXBTZWxlY3RlZEZpZWxkQ29uZGl0aW9ucy5maW5kSW5kZXgoeCA9PiB4LmlkID09IGZpbGVkLmlkKTtcclxuICAgICAgICAgICAgICAgIGlmICh0ZW1wSW5kZXggIT0gKC0xKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkRmllbGRDb25kaXRpb25zLnB1c2godGVtcFNlbGVjdGVkRmllbGRDb25kaXRpb25zW3RlbXBJbmRleF0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRGaWVsZENvbmRpdGlvbnMgPSB0aGlzLmdldE5ld0ZpZWxkQ29uZGl0aW9ucyhmaWxlZCwgc2VsZWN0ZWRGaWVsZENvbmRpdGlvbnMpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgc2VsZWN0ZWRGaWVsZENvbmRpdGlvbnMgPSB0aGlzLmdldE5ld0ZpZWxkQ29uZGl0aW9ucyhmaWxlZCwgc2VsZWN0ZWRGaWVsZENvbmRpdGlvbnMpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiBzZWxlY3RlZEZpZWxkQ29uZGl0aW9ucztcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGdldERyb3BMaXN0RW51bVZhbHVlcyhjb250cm9sOiBEcm9wRG93bkNvbnRyb2wpOiBEcm9wRG93bkNvbnRyb2wge1xyXG4gICAgICAgIGlmIChjb250cm9sLnZhbHVlVHlwZSA9PSBFbnVtVHlwZS5Cb29sVHlwZSkge1xyXG4gICAgICAgICAgICBsZXQgZW51bVZhbHVlcyA9IG5ldyBBcnJheTxFbnVtQm9vbFZhbHVlPigpO1xyXG4gICAgICAgICAgICBjb250cm9sLmVudW1WYWx1ZXMuZm9yRWFjaChlbGVtZW50ID0+IHtcclxuICAgICAgICAgICAgICAgIGVudW1WYWx1ZXMucHVzaChPYmplY3QuYXNzaWduKG5ldyBFbnVtQm9vbFZhbHVlKCksIGVsZW1lbnQpKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGNvbnRyb2wuZW51bVZhbHVlcyA9IGVudW1WYWx1ZXM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGNvbnRyb2wudmFsdWVUeXBlID09IEVudW1UeXBlLkludFR5cGUpIHtcclxuICAgICAgICAgICAgbGV0IGVudW1WYWx1ZXMgPSBuZXcgQXJyYXk8RW51bUludGVnZXJWYWx1ZT4oKTtcclxuICAgICAgICAgICAgY29udHJvbC5lbnVtVmFsdWVzLmZvckVhY2goZWxlbWVudCA9PiB7XHJcbiAgICAgICAgICAgICAgICBlbnVtVmFsdWVzLnB1c2goT2JqZWN0LmFzc2lnbihuZXcgRW51bUludGVnZXJWYWx1ZSgpLCBlbGVtZW50KSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBjb250cm9sLmVudW1WYWx1ZXMgPSBlbnVtVmFsdWVzO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChjb250cm9sLnZhbHVlVHlwZSA9PSBFbnVtVHlwZS5TdHJpbmdUeXBlKSB7XHJcbiAgICAgICAgICAgIGxldCBlbnVtVmFsdWVzID0gbmV3IEFycmF5PEVudW1TdHJpbmdWYWx1ZT4oKTtcclxuICAgICAgICAgICAgY29udHJvbC5lbnVtVmFsdWVzLmZvckVhY2goZWxlbWVudCA9PiB7XHJcbiAgICAgICAgICAgICAgICBlbnVtVmFsdWVzLnB1c2goT2JqZWN0LmFzc2lnbihuZXcgRW51bVN0cmluZ1ZhbHVlKCksIGVsZW1lbnQpKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGNvbnRyb2wuZW51bVZhbHVlcyA9IGVudW1WYWx1ZXM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBjb250cm9sO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZ2V0Q2hlY2tHcm91cEVudW1WYWx1ZXMoY29udHJvbDogQ2hlY2tib3hHcm91cENvbnRyb2wpOiBDaGVja2JveEdyb3VwQ29udHJvbCB7XHJcbiAgICAgICAgbGV0IGVudW1WYWx1ZXMgPSBuZXcgQXJyYXk8Q2hlY2tib3hJRW51bVZhbHVlPigpO1xyXG4gICAgICAgIGNvbnRyb2wuZW51bVZhbHVlcy5mb3JFYWNoKGVsZW1lbnQgPT4ge1xyXG4gICAgICAgICAgICBlbnVtVmFsdWVzLnB1c2goT2JqZWN0LmFzc2lnbihuZXcgQ2hlY2tib3hFbnVtVmFsdWUoKSwgZWxlbWVudCkpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGNvbnRyb2wuZW51bVZhbHVlcyA9IGVudW1WYWx1ZXM7XHJcbiAgICAgICAgcmV0dXJuIGNvbnRyb2w7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldE5ld0ZpZWxkQ29uZGl0aW9ucyhmaWxlZDogRmllbGRDb25maWcsIHNlbGVjdGVkRmllbGRDb25kaXRpb25zOiBBcnJheTxRdWVyeUNvbmRpdGlvbj4pIHtcclxuICAgICAgICBsZXQgc2VsZWN0ZWRGaWVsZENvbmRpdGlvbiA9IG5ldyBRdWVyeUNvbmRpdGlvbigpO1xyXG5cclxuICAgICAgICBpZiAoZmlsZWQuY29udHJvbC5nZXRDb250cm9sVHlwZSgpID09IENvbnRyb2xUeXBlLlRleHQpIHtcclxuICAgICAgICAgICAgc2VsZWN0ZWRGaWVsZENvbmRpdGlvbnMgPSB0aGlzLmdldFRleHRWYWx1ZUZpZWxkQ29uZGl0aW9uKHNlbGVjdGVkRmllbGRDb25kaXRpb24sIGZpbGVkLCBzZWxlY3RlZEZpZWxkQ29uZGl0aW9ucyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGZpbGVkLmNvbnRyb2wuZ2V0Q29udHJvbFR5cGUoKSA9PSBDb250cm9sVHlwZS5EYXRlUmFuZ2UpIHtcclxuICAgICAgICAgICAgc2VsZWN0ZWRGaWVsZENvbmRpdGlvbnMgPSB0aGlzLmdldERhdGVSYW5nZVZhbHVlRmllbGRDb25kaXRpb24oc2VsZWN0ZWRGaWVsZENvbmRpdGlvbiwgZmlsZWQsIHNlbGVjdGVkRmllbGRDb25kaXRpb25zKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoZmlsZWQuY29udHJvbC5nZXRDb250cm9sVHlwZSgpID09IENvbnRyb2xUeXBlLkRhdGVSYW5nZVRpbWUpIHtcclxuICAgICAgICAgICAgc2VsZWN0ZWRGaWVsZENvbmRpdGlvbnMgPSB0aGlzLmdldERhdGVSYW5nZVRpbWVWYWx1ZUZpZWxkQ29uZGl0aW9uKHNlbGVjdGVkRmllbGRDb25kaXRpb24sIGZpbGVkLCBzZWxlY3RlZEZpZWxkQ29uZGl0aW9ucyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGZpbGVkLmNvbnRyb2wuZ2V0Q29udHJvbFR5cGUoKSA9PSBDb250cm9sVHlwZS5Nb250aFJhbmdlKSB7XHJcbiAgICAgICAgICAgIHNlbGVjdGVkRmllbGRDb25kaXRpb25zID0gdGhpcy5nZXREYXRlUmFuZ2VWYWx1ZUZpZWxkQ29uZGl0aW9uKHNlbGVjdGVkRmllbGRDb25kaXRpb24sIGZpbGVkLCBzZWxlY3RlZEZpZWxkQ29uZGl0aW9ucyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGZpbGVkLmNvbnRyb2wuZ2V0Q29udHJvbFR5cGUoKSA9PSBDb250cm9sVHlwZS5ZZWFyUmFuZ2UpIHtcclxuICAgICAgICAgICAgc2VsZWN0ZWRGaWVsZENvbmRpdGlvbnMgPSB0aGlzLmdldERhdGVSYW5nZVZhbHVlRmllbGRDb25kaXRpb24oc2VsZWN0ZWRGaWVsZENvbmRpdGlvbiwgZmlsZWQsIHNlbGVjdGVkRmllbGRDb25kaXRpb25zKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoZmlsZWQuY29udHJvbC5nZXRDb250cm9sVHlwZSgpID09IENvbnRyb2xUeXBlLk51bWJlclJhbmdlKSB7XHJcbiAgICAgICAgICAgIHNlbGVjdGVkRmllbGRDb25kaXRpb25zID0gdGhpcy5nZXROdW1iZXJSYW5nZVZhbHVlRmllbGRDb25kaXRpb24oc2VsZWN0ZWRGaWVsZENvbmRpdGlvbiwgZmlsZWQsIHNlbGVjdGVkRmllbGRDb25kaXRpb25zKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoZmlsZWQuY29udHJvbC5nZXRDb250cm9sVHlwZSgpID09IENvbnRyb2xUeXBlLkhlbHApIHtcclxuICAgICAgICAgICAgc2VsZWN0ZWRGaWVsZENvbmRpdGlvbnMgPSB0aGlzLmdldFNtYXJ0SGVscFZhbHVlRmllbGRDb25kaXRpb24oc2VsZWN0ZWRGaWVsZENvbmRpdGlvbiwgZmlsZWQsIHNlbGVjdGVkRmllbGRDb25kaXRpb25zKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoZmlsZWQuY29udHJvbC5nZXRDb250cm9sVHlwZSgpID09IENvbnRyb2xUeXBlLkRyb3BEb3duKSB7XHJcbiAgICAgICAgICAgIHNlbGVjdGVkRmllbGRDb25kaXRpb25zID0gdGhpcy5nZXREcm9wRG93bkxpc3RWYWx1ZUZpZWxkQ29uZGl0aW9uKHNlbGVjdGVkRmllbGRDb25kaXRpb24sIGZpbGVkLCBzZWxlY3RlZEZpZWxkQ29uZGl0aW9ucyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGZpbGVkLmNvbnRyb2wuZ2V0Q29udHJvbFR5cGUoKSA9PSBDb250cm9sVHlwZS5TZWFyY2gpIHtcclxuICAgICAgICAgICAgc2VsZWN0ZWRGaWVsZENvbmRpdGlvbnMgPSB0aGlzLmdldFNlYXJjaFZhbHVlRmllbGRDb25kaXRpb24oc2VsZWN0ZWRGaWVsZENvbmRpdGlvbiwgZmlsZWQsIHNlbGVjdGVkRmllbGRDb25kaXRpb25zKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoZmlsZWQuY29udHJvbC5nZXRDb250cm9sVHlwZSgpID09IENvbnRyb2xUeXBlLkRhdGUpIHtcclxuICAgICAgICAgICAgc2VsZWN0ZWRGaWVsZENvbmRpdGlvbnMgPSB0aGlzLmdldERhdGVWYWx1ZUZpZWxkQ29uZGl0aW9uKHNlbGVjdGVkRmllbGRDb25kaXRpb24sIGZpbGVkLCBzZWxlY3RlZEZpZWxkQ29uZGl0aW9ucyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGZpbGVkLmNvbnRyb2wuZ2V0Q29udHJvbFR5cGUoKSA9PSBDb250cm9sVHlwZS5ZZWFyKSB7XHJcbiAgICAgICAgICAgIHNlbGVjdGVkRmllbGRDb25kaXRpb25zID0gdGhpcy5nZXREYXRlVmFsdWVGaWVsZENvbmRpdGlvbihzZWxlY3RlZEZpZWxkQ29uZGl0aW9uLCBmaWxlZCwgc2VsZWN0ZWRGaWVsZENvbmRpdGlvbnMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChmaWxlZC5jb250cm9sLmdldENvbnRyb2xUeXBlKCkgPT0gQ29udHJvbFR5cGUuTW9udGgpIHtcclxuICAgICAgICAgICAgc2VsZWN0ZWRGaWVsZENvbmRpdGlvbnMgPSB0aGlzLmdldERhdGVWYWx1ZUZpZWxkQ29uZGl0aW9uKHNlbGVjdGVkRmllbGRDb25kaXRpb24sIGZpbGVkLCBzZWxlY3RlZEZpZWxkQ29uZGl0aW9ucyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGZpbGVkLmNvbnRyb2wuZ2V0Q29udHJvbFR5cGUoKSA9PSBDb250cm9sVHlwZS5DaGVja2JveEdyb3VwKSB7XHJcbiAgICAgICAgICAgIHNlbGVjdGVkRmllbGRDb25kaXRpb25zID0gdGhpcy5nZXRDaGVja2JveEdyb3VwVmFsdWVGaWVsZENvbmRpdGlvbihzZWxlY3RlZEZpZWxkQ29uZGl0aW9uLCBmaWxlZCwgc2VsZWN0ZWRGaWVsZENvbmRpdGlvbnMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChmaWxlZC5jb250cm9sLmdldENvbnRyb2xUeXBlKCkgPT0gQ29udHJvbFR5cGUuUmFkaW8pIHtcclxuICAgICAgICAgICAgc2VsZWN0ZWRGaWVsZENvbmRpdGlvbnMgPSB0aGlzLmdldFJhZGlvVmFsdWVGaWVsZENvbmRpdGlvbihzZWxlY3RlZEZpZWxkQ29uZGl0aW9uLCBmaWxlZCwgc2VsZWN0ZWRGaWVsZENvbmRpdGlvbnMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChmaWxlZC5jb250cm9sLmdldENvbnRyb2xUeXBlKCkgPT0gQ29udHJvbFR5cGUuSW5wdXRHcm91cCkge1xyXG4gICAgICAgICAgICBzZWxlY3RlZEZpZWxkQ29uZGl0aW9ucyA9IHRoaXMuZ2V0SW5wdXRHcm91cFZhbHVlRmllbGRDb25kaXRpb24oc2VsZWN0ZWRGaWVsZENvbmRpdGlvbiwgZmlsZWQsIHNlbGVjdGVkRmllbGRDb25kaXRpb25zKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHNlbGVjdGVkRmllbGRDb25kaXRpb25zO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZ2V0RHJvcERvd25MaXN0VmFsdWVGaWVsZENvbmRpdGlvbihzZWxlY3RlZEZpZWxkQ29uZGl0aW9uOiBRdWVyeUNvbmRpdGlvbiwgZmlsZWQ6IEZpZWxkQ29uZmlnLCBzZWxlY3RlZEZpZWxkQ29uZGl0aW9uczogQXJyYXk8UXVlcnlDb25kaXRpb24+KSB7XHJcbiAgICAgICAgc2VsZWN0ZWRGaWVsZENvbmRpdGlvbi5pZCA9IGZpbGVkLmlkO1xyXG4gICAgICAgIHNlbGVjdGVkRmllbGRDb25kaXRpb24uZmllbGRDb2RlID0gZmlsZWQubGFiZWxDb2RlO1xyXG4gICAgICAgIHNlbGVjdGVkRmllbGRDb25kaXRpb24ucGxhY2VIb2xkZXIgPSBmaWxlZC5wbGFjZUhvbGRlcjtcclxuICAgICAgICBzZWxlY3RlZEZpZWxkQ29uZGl0aW9uLmZpZWxkTmFtZSA9IGZpbGVkLm5hbWU7XHJcbiAgICAgICAgc2VsZWN0ZWRGaWVsZENvbmRpdGlvbi5jb21wYXJlVHlwZSA9IENvbXBhcmVUeXBlLkVxdWFsO1xyXG4gICAgICAgIHNlbGVjdGVkRmllbGRDb25kaXRpb24udmFsdWVUeXBlID0gVmFsdWVUeXBlLlZhbHVlO1xyXG4gICAgICAgIHNlbGVjdGVkRmllbGRDb25kaXRpb24udmFsdWUgPSBmaWxlZC52YWx1ZTtcclxuICAgICAgICBzZWxlY3RlZEZpZWxkQ29uZGl0aW9uLnJlbGF0aW9uVHlwZSA9IFJlbGF0aW9uVHlwZS5BbmQ7XHJcbiAgICAgICAgc2VsZWN0ZWRGaWVsZENvbmRpdGlvbi5jb250cm9sID0gZmlsZWQuY29udHJvbDtcclxuICAgICAgICB0aGlzLmdldERyb3BMaXN0RW51bVZhbHVlcyhzZWxlY3RlZEZpZWxkQ29uZGl0aW9uLmNvbnRyb2wgYXMgRHJvcERvd25Db250cm9sKTtcclxuICAgICAgICBzZWxlY3RlZEZpZWxkQ29uZGl0aW9ucy5wdXNoKHNlbGVjdGVkRmllbGRDb25kaXRpb24pO1xyXG4gICAgICAgIHJldHVybiBzZWxlY3RlZEZpZWxkQ29uZGl0aW9ucztcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGdldENoZWNrYm94R3JvdXBWYWx1ZUZpZWxkQ29uZGl0aW9uKHNlbGVjdGVkRmllbGRDb25kaXRpb246IFF1ZXJ5Q29uZGl0aW9uLCBmaWxlZDogRmllbGRDb25maWcsIHNlbGVjdGVkRmllbGRDb25kaXRpb25zOiBBcnJheTxRdWVyeUNvbmRpdGlvbj4pIHtcclxuICAgICAgICBzZWxlY3RlZEZpZWxkQ29uZGl0aW9uLmlkID0gZmlsZWQuaWQ7XHJcbiAgICAgICAgc2VsZWN0ZWRGaWVsZENvbmRpdGlvbi5maWVsZENvZGUgPSBmaWxlZC5sYWJlbENvZGU7XHJcbiAgICAgICAgc2VsZWN0ZWRGaWVsZENvbmRpdGlvbi5wbGFjZUhvbGRlciA9IGZpbGVkLnBsYWNlSG9sZGVyO1xyXG4gICAgICAgIHNlbGVjdGVkRmllbGRDb25kaXRpb24uZmllbGROYW1lID0gZmlsZWQubmFtZTtcclxuICAgICAgICBzZWxlY3RlZEZpZWxkQ29uZGl0aW9uLmNvbXBhcmVUeXBlID0gQ29tcGFyZVR5cGUuRXF1YWw7XHJcbiAgICAgICAgc2VsZWN0ZWRGaWVsZENvbmRpdGlvbi52YWx1ZVR5cGUgPSBWYWx1ZVR5cGUuVmFsdWU7XHJcbiAgICAgICAgc2VsZWN0ZWRGaWVsZENvbmRpdGlvbi52YWx1ZSA9IGZpbGVkLnZhbHVlO1xyXG4gICAgICAgIHNlbGVjdGVkRmllbGRDb25kaXRpb24ucmVsYXRpb25UeXBlID0gUmVsYXRpb25UeXBlLkFuZDtcclxuICAgICAgICBzZWxlY3RlZEZpZWxkQ29uZGl0aW9uLmNvbnRyb2wgPSBmaWxlZC5jb250cm9sO1xyXG4gICAgICAgIHRoaXMuZ2V0Q2hlY2tHcm91cEVudW1WYWx1ZXMoc2VsZWN0ZWRGaWVsZENvbmRpdGlvbi5jb250cm9sIGFzIENoZWNrYm94R3JvdXBDb250cm9sKTtcclxuICAgICAgICBzZWxlY3RlZEZpZWxkQ29uZGl0aW9ucy5wdXNoKHNlbGVjdGVkRmllbGRDb25kaXRpb24pO1xyXG4gICAgICAgIHJldHVybiBzZWxlY3RlZEZpZWxkQ29uZGl0aW9ucztcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGdldFJhZGlvVmFsdWVGaWVsZENvbmRpdGlvbihzZWxlY3RlZEZpZWxkQ29uZGl0aW9uOiBRdWVyeUNvbmRpdGlvbiwgZmlsZWQ6IEZpZWxkQ29uZmlnLCBzZWxlY3RlZEZpZWxkQ29uZGl0aW9uczogQXJyYXk8UXVlcnlDb25kaXRpb24+KSB7XHJcbiAgICAgICAgc2VsZWN0ZWRGaWVsZENvbmRpdGlvbi5pZCA9IGZpbGVkLmlkO1xyXG4gICAgICAgIHNlbGVjdGVkRmllbGRDb25kaXRpb24uZmllbGRDb2RlID0gZmlsZWQubGFiZWxDb2RlO1xyXG4gICAgICAgIHNlbGVjdGVkRmllbGRDb25kaXRpb24ucGxhY2VIb2xkZXIgPSBmaWxlZC5wbGFjZUhvbGRlcjtcclxuICAgICAgICBzZWxlY3RlZEZpZWxkQ29uZGl0aW9uLmZpZWxkTmFtZSA9IGZpbGVkLm5hbWU7XHJcbiAgICAgICAgc2VsZWN0ZWRGaWVsZENvbmRpdGlvbi5jb21wYXJlVHlwZSA9IENvbXBhcmVUeXBlLkVxdWFsO1xyXG4gICAgICAgIHNlbGVjdGVkRmllbGRDb25kaXRpb24udmFsdWVUeXBlID0gVmFsdWVUeXBlLlZhbHVlO1xyXG4gICAgICAgIHNlbGVjdGVkRmllbGRDb25kaXRpb24udmFsdWUgPSBmaWxlZC52YWx1ZTtcclxuICAgICAgICBzZWxlY3RlZEZpZWxkQ29uZGl0aW9uLnJlbGF0aW9uVHlwZSA9IFJlbGF0aW9uVHlwZS5BbmQ7XHJcbiAgICAgICAgc2VsZWN0ZWRGaWVsZENvbmRpdGlvbi5jb250cm9sID0gZmlsZWQuY29udHJvbDtcclxuICAgICAgICB0aGlzLmdldENoZWNrR3JvdXBFbnVtVmFsdWVzKHNlbGVjdGVkRmllbGRDb25kaXRpb24uY29udHJvbCBhcyBDaGVja2JveEdyb3VwQ29udHJvbCk7XHJcbiAgICAgICAgc2VsZWN0ZWRGaWVsZENvbmRpdGlvbnMucHVzaChzZWxlY3RlZEZpZWxkQ29uZGl0aW9uKTtcclxuICAgICAgICByZXR1cm4gc2VsZWN0ZWRGaWVsZENvbmRpdGlvbnM7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBnZXRTbWFydEhlbHBWYWx1ZUZpZWxkQ29uZGl0aW9uKHNlbGVjdGVkRmllbGRDb25kaXRpb246IFF1ZXJ5Q29uZGl0aW9uLCBmaWxlZDogRmllbGRDb25maWcsIHNlbGVjdGVkRmllbGRDb25kaXRpb25zOiBBcnJheTxRdWVyeUNvbmRpdGlvbj4pIHtcclxuICAgICAgICBzZWxlY3RlZEZpZWxkQ29uZGl0aW9uLmlkID0gZmlsZWQuaWQ7XHJcbiAgICAgICAgc2VsZWN0ZWRGaWVsZENvbmRpdGlvbi5maWVsZENvZGUgPSBmaWxlZC5sYWJlbENvZGU7XHJcbiAgICAgICAgc2VsZWN0ZWRGaWVsZENvbmRpdGlvbi5wbGFjZUhvbGRlciA9IGZpbGVkLnBsYWNlSG9sZGVyO1xyXG4gICAgICAgIHNlbGVjdGVkRmllbGRDb25kaXRpb24uZmllbGROYW1lID0gZmlsZWQubmFtZTtcclxuICAgICAgICBzZWxlY3RlZEZpZWxkQ29uZGl0aW9uLmNvbXBhcmVUeXBlID0gQ29tcGFyZVR5cGUuRXF1YWw7XHJcbiAgICAgICAgc2VsZWN0ZWRGaWVsZENvbmRpdGlvbi52YWx1ZVR5cGUgPSBWYWx1ZVR5cGUuVmFsdWU7XHJcbiAgICAgICAgc2VsZWN0ZWRGaWVsZENvbmRpdGlvbi52YWx1ZSA9IGZpbGVkLnZhbHVlO1xyXG4gICAgICAgIHNlbGVjdGVkRmllbGRDb25kaXRpb24ucmVsYXRpb25UeXBlID0gUmVsYXRpb25UeXBlLkFuZDtcclxuICAgICAgICBzZWxlY3RlZEZpZWxkQ29uZGl0aW9uLmNvbnRyb2wgPSBmaWxlZC5jb250cm9sO1xyXG4gICAgICAgIHNlbGVjdGVkRmllbGRDb25kaXRpb25zLnB1c2goc2VsZWN0ZWRGaWVsZENvbmRpdGlvbik7XHJcbiAgICAgICAgcmV0dXJuIHNlbGVjdGVkRmllbGRDb25kaXRpb25zO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZ2V0TnVtYmVyUmFuZ2VWYWx1ZUZpZWxkQ29uZGl0aW9uKHNlbGVjdGVkRmllbGRDb25kaXRpb246IFF1ZXJ5Q29uZGl0aW9uLCBmaWxlZDogRmllbGRDb25maWcsIHNlbGVjdGVkRmllbGRDb25kaXRpb25zOiBBcnJheTxRdWVyeUNvbmRpdGlvbj4pIHtcclxuICAgICAgICBzZWxlY3RlZEZpZWxkQ29uZGl0aW9uLmlkID0gZmlsZWQuaWQ7XHJcbiAgICAgICAgc2VsZWN0ZWRGaWVsZENvbmRpdGlvbi5maWVsZENvZGUgPSBmaWxlZC5sYWJlbENvZGU7XHJcbiAgICAgICAgc2VsZWN0ZWRGaWVsZENvbmRpdGlvbi5wbGFjZUhvbGRlciA9IGZpbGVkLnBsYWNlSG9sZGVyO1xyXG4gICAgICAgIHNlbGVjdGVkRmllbGRDb25kaXRpb24uYmVnaW5QbGFjZUhvbGRlciA9IGZpbGVkLmJlZ2luUGxhY2VIb2xkZXI7XHJcbiAgICAgICAgc2VsZWN0ZWRGaWVsZENvbmRpdGlvbi5lbmRQbGFjZUhvbGRlciA9IGZpbGVkLmVuZFBsYWNlSG9sZGVyO1xyXG4gICAgICAgIHNlbGVjdGVkRmllbGRDb25kaXRpb24uZmllbGROYW1lID0gZmlsZWQubmFtZTtcclxuICAgICAgICBzZWxlY3RlZEZpZWxkQ29uZGl0aW9uLmNvbXBhcmVUeXBlID0gQ29tcGFyZVR5cGUuQmV0V2VlbjtcclxuICAgICAgICBzZWxlY3RlZEZpZWxkQ29uZGl0aW9uLnZhbHVlVHlwZSA9IFZhbHVlVHlwZS5WYWx1ZTtcclxuICAgICAgICBzZWxlY3RlZEZpZWxkQ29uZGl0aW9uLnZhbHVlID0gZmlsZWQudmFsdWU7XHJcbiAgICAgICAgc2VsZWN0ZWRGaWVsZENvbmRpdGlvbi5yZWxhdGlvblR5cGUgPSBSZWxhdGlvblR5cGUuQW5kO1xyXG4gICAgICAgIHNlbGVjdGVkRmllbGRDb25kaXRpb24uY29udHJvbCA9IGZpbGVkLmNvbnRyb2w7XHJcbiAgICAgICAgc2VsZWN0ZWRGaWVsZENvbmRpdGlvbnMucHVzaChzZWxlY3RlZEZpZWxkQ29uZGl0aW9uKTtcclxuICAgICAgICByZXR1cm4gc2VsZWN0ZWRGaWVsZENvbmRpdGlvbnM7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBnZXREYXRlUmFuZ2VWYWx1ZUZpZWxkQ29uZGl0aW9uKHNlbGVjdGVkRmllbGRDb25kaXRpb246IFF1ZXJ5Q29uZGl0aW9uLCBmaWxlZDogRmllbGRDb25maWcsIHNlbGVjdGVkRmllbGRDb25kaXRpb25zOiBBcnJheTxRdWVyeUNvbmRpdGlvbj4pIHtcclxuICAgICAgICBzZWxlY3RlZEZpZWxkQ29uZGl0aW9uLmlkID0gZmlsZWQuaWQ7XHJcbiAgICAgICAgc2VsZWN0ZWRGaWVsZENvbmRpdGlvbi5maWVsZENvZGUgPSBmaWxlZC5sYWJlbENvZGU7XHJcbiAgICAgICAgc2VsZWN0ZWRGaWVsZENvbmRpdGlvbi5wbGFjZUhvbGRlciA9IGZpbGVkLnBsYWNlSG9sZGVyO1xyXG4gICAgICAgIHNlbGVjdGVkRmllbGRDb25kaXRpb24uYmVnaW5QbGFjZUhvbGRlciA9IGZpbGVkLmJlZ2luUGxhY2VIb2xkZXI7XHJcbiAgICAgICAgc2VsZWN0ZWRGaWVsZENvbmRpdGlvbi5lbmRQbGFjZUhvbGRlciA9IGZpbGVkLmVuZFBsYWNlSG9sZGVyO1xyXG4gICAgICAgIHNlbGVjdGVkRmllbGRDb25kaXRpb24uZmllbGROYW1lID0gZmlsZWQubmFtZTtcclxuICAgICAgICBzZWxlY3RlZEZpZWxkQ29uZGl0aW9uLmNvbXBhcmVUeXBlID0gQ29tcGFyZVR5cGUuQmV0V2VlbjtcclxuICAgICAgICBzZWxlY3RlZEZpZWxkQ29uZGl0aW9uLnZhbHVlVHlwZSA9IFZhbHVlVHlwZS5WYWx1ZTtcclxuICAgICAgICBzZWxlY3RlZEZpZWxkQ29uZGl0aW9uLnZhbHVlID0gZmlsZWQudmFsdWU7XHJcbiAgICAgICAgc2VsZWN0ZWRGaWVsZENvbmRpdGlvbi5yZWxhdGlvblR5cGUgPSBSZWxhdGlvblR5cGUuQW5kO1xyXG4gICAgICAgIHNlbGVjdGVkRmllbGRDb25kaXRpb24uY29udHJvbCA9IGZpbGVkLmNvbnRyb2w7XHJcbiAgICAgICAgc2VsZWN0ZWRGaWVsZENvbmRpdGlvbnMucHVzaChzZWxlY3RlZEZpZWxkQ29uZGl0aW9uKTtcclxuICAgICAgICByZXR1cm4gc2VsZWN0ZWRGaWVsZENvbmRpdGlvbnM7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBnZXREYXRlUmFuZ2VUaW1lVmFsdWVGaWVsZENvbmRpdGlvbihzZWxlY3RlZEZpZWxkQ29uZGl0aW9uOiBRdWVyeUNvbmRpdGlvbiwgZmlsZWQ6IEZpZWxkQ29uZmlnLCBzZWxlY3RlZEZpZWxkQ29uZGl0aW9uczogQXJyYXk8UXVlcnlDb25kaXRpb24+KSB7XHJcbiAgICAgICAgc2VsZWN0ZWRGaWVsZENvbmRpdGlvbi5pZCA9IGZpbGVkLmlkO1xyXG4gICAgICAgIHNlbGVjdGVkRmllbGRDb25kaXRpb24uZmllbGRDb2RlID0gZmlsZWQubGFiZWxDb2RlO1xyXG4gICAgICAgIHNlbGVjdGVkRmllbGRDb25kaXRpb24ucGxhY2VIb2xkZXIgPSBmaWxlZC5wbGFjZUhvbGRlcjtcclxuICAgICAgICBzZWxlY3RlZEZpZWxkQ29uZGl0aW9uLmZpZWxkTmFtZSA9IGZpbGVkLm5hbWU7XHJcbiAgICAgICAgc2VsZWN0ZWRGaWVsZENvbmRpdGlvbi5jb21wYXJlVHlwZSA9IENvbXBhcmVUeXBlLkJldFdlZW47XHJcbiAgICAgICAgc2VsZWN0ZWRGaWVsZENvbmRpdGlvbi52YWx1ZVR5cGUgPSBWYWx1ZVR5cGUuVmFsdWU7XHJcbiAgICAgICAgc2VsZWN0ZWRGaWVsZENvbmRpdGlvbi52YWx1ZSA9IGZpbGVkLnZhbHVlO1xyXG4gICAgICAgIHNlbGVjdGVkRmllbGRDb25kaXRpb24ucmVsYXRpb25UeXBlID0gUmVsYXRpb25UeXBlLkFuZDtcclxuICAgICAgICBzZWxlY3RlZEZpZWxkQ29uZGl0aW9uLmNvbnRyb2wgPSBmaWxlZC5jb250cm9sO1xyXG4gICAgICAgIHNlbGVjdGVkRmllbGRDb25kaXRpb25zLnB1c2goc2VsZWN0ZWRGaWVsZENvbmRpdGlvbik7XHJcbiAgICAgICAgcmV0dXJuIHNlbGVjdGVkRmllbGRDb25kaXRpb25zO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZ2V0VGV4dFZhbHVlRmllbGRDb25kaXRpb24oc2VsZWN0ZWRGaWVsZENvbmRpdGlvbjogUXVlcnlDb25kaXRpb24sIGZpbGVkOiBGaWVsZENvbmZpZywgc2VsZWN0ZWRGaWVsZENvbmRpdGlvbnM6IEFycmF5PFF1ZXJ5Q29uZGl0aW9uPikge1xyXG4gICAgICAgIHNlbGVjdGVkRmllbGRDb25kaXRpb24uaWQgPSBmaWxlZC5pZDtcclxuICAgICAgICBzZWxlY3RlZEZpZWxkQ29uZGl0aW9uLmZpZWxkQ29kZSA9IGZpbGVkLmxhYmVsQ29kZTtcclxuICAgICAgICBzZWxlY3RlZEZpZWxkQ29uZGl0aW9uLnBsYWNlSG9sZGVyID0gZmlsZWQucGxhY2VIb2xkZXI7XHJcbiAgICAgICAgc2VsZWN0ZWRGaWVsZENvbmRpdGlvbi5maWVsZE5hbWUgPSBmaWxlZC5uYW1lO1xyXG4gICAgICAgIHNlbGVjdGVkRmllbGRDb25kaXRpb24uY29tcGFyZVR5cGUgPSBDb21wYXJlVHlwZS5FcXVhbDtcclxuICAgICAgICBzZWxlY3RlZEZpZWxkQ29uZGl0aW9uLnZhbHVlVHlwZSA9IFZhbHVlVHlwZS5WYWx1ZTtcclxuICAgICAgICBzZWxlY3RlZEZpZWxkQ29uZGl0aW9uLnZhbHVlID0gZmlsZWQudmFsdWU7XHJcbiAgICAgICAgc2VsZWN0ZWRGaWVsZENvbmRpdGlvbi5yZWxhdGlvblR5cGUgPSBSZWxhdGlvblR5cGUuQW5kO1xyXG4gICAgICAgIHNlbGVjdGVkRmllbGRDb25kaXRpb24uY29udHJvbCA9IGZpbGVkLmNvbnRyb2w7XHJcbiAgICAgICAgc2VsZWN0ZWRGaWVsZENvbmRpdGlvbnMucHVzaChzZWxlY3RlZEZpZWxkQ29uZGl0aW9uKTtcclxuICAgICAgICByZXR1cm4gc2VsZWN0ZWRGaWVsZENvbmRpdGlvbnM7XHJcbiAgICB9XHJcbiAgICBwcml2YXRlIGdldElucHV0R3JvdXBWYWx1ZUZpZWxkQ29uZGl0aW9uKHNlbGVjdGVkRmllbGRDb25kaXRpb246IFF1ZXJ5Q29uZGl0aW9uLCBmaWxlZDogRmllbGRDb25maWcsIHNlbGVjdGVkRmllbGRDb25kaXRpb25zOiBBcnJheTxRdWVyeUNvbmRpdGlvbj4pIHtcclxuICAgICAgICBzZWxlY3RlZEZpZWxkQ29uZGl0aW9uLmlkID0gZmlsZWQuaWQ7XHJcbiAgICAgICAgc2VsZWN0ZWRGaWVsZENvbmRpdGlvbi5maWVsZENvZGUgPSBmaWxlZC5sYWJlbENvZGU7XHJcbiAgICAgICAgc2VsZWN0ZWRGaWVsZENvbmRpdGlvbi5wbGFjZUhvbGRlciA9IGZpbGVkLnBsYWNlSG9sZGVyO1xyXG4gICAgICAgIHNlbGVjdGVkRmllbGRDb25kaXRpb24uZmllbGROYW1lID0gZmlsZWQubmFtZTtcclxuICAgICAgICBzZWxlY3RlZEZpZWxkQ29uZGl0aW9uLmNvbXBhcmVUeXBlID0gQ29tcGFyZVR5cGUuRXF1YWw7XHJcbiAgICAgICAgc2VsZWN0ZWRGaWVsZENvbmRpdGlvbi52YWx1ZVR5cGUgPSBWYWx1ZVR5cGUuVmFsdWU7XHJcbiAgICAgICAgc2VsZWN0ZWRGaWVsZENvbmRpdGlvbi52YWx1ZSA9IGZpbGVkLnZhbHVlO1xyXG4gICAgICAgIHNlbGVjdGVkRmllbGRDb25kaXRpb24ucmVsYXRpb25UeXBlID0gUmVsYXRpb25UeXBlLkFuZDtcclxuICAgICAgICBzZWxlY3RlZEZpZWxkQ29uZGl0aW9uLmNvbnRyb2wgPSBmaWxlZC5jb250cm9sO1xyXG4gICAgICAgIHNlbGVjdGVkRmllbGRDb25kaXRpb25zLnB1c2goc2VsZWN0ZWRGaWVsZENvbmRpdGlvbik7XHJcbiAgICAgICAgcmV0dXJuIHNlbGVjdGVkRmllbGRDb25kaXRpb25zO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZ2V0RGF0ZVZhbHVlRmllbGRDb25kaXRpb24oc2VsZWN0ZWRGaWVsZENvbmRpdGlvbjogUXVlcnlDb25kaXRpb24sIGZpbGVkOiBGaWVsZENvbmZpZywgc2VsZWN0ZWRGaWVsZENvbmRpdGlvbnM6IEFycmF5PFF1ZXJ5Q29uZGl0aW9uPikge1xyXG4gICAgICAgIHNlbGVjdGVkRmllbGRDb25kaXRpb24uaWQgPSBmaWxlZC5pZDtcclxuICAgICAgICBzZWxlY3RlZEZpZWxkQ29uZGl0aW9uLmZpZWxkQ29kZSA9IGZpbGVkLmxhYmVsQ29kZTtcclxuICAgICAgICBzZWxlY3RlZEZpZWxkQ29uZGl0aW9uLnBsYWNlSG9sZGVyID0gZmlsZWQucGxhY2VIb2xkZXI7XHJcbiAgICAgICAgc2VsZWN0ZWRGaWVsZENvbmRpdGlvbi5maWVsZE5hbWUgPSBmaWxlZC5uYW1lO1xyXG4gICAgICAgIHNlbGVjdGVkRmllbGRDb25kaXRpb24uY29tcGFyZVR5cGUgPSBDb21wYXJlVHlwZS5FcXVhbDtcclxuICAgICAgICBzZWxlY3RlZEZpZWxkQ29uZGl0aW9uLnZhbHVlVHlwZSA9IFZhbHVlVHlwZS5WYWx1ZTtcclxuICAgICAgICBzZWxlY3RlZEZpZWxkQ29uZGl0aW9uLnZhbHVlID0gZmlsZWQudmFsdWU7XHJcbiAgICAgICAgc2VsZWN0ZWRGaWVsZENvbmRpdGlvbi5yZWxhdGlvblR5cGUgPSBSZWxhdGlvblR5cGUuQW5kO1xyXG4gICAgICAgIHNlbGVjdGVkRmllbGRDb25kaXRpb24uY29udHJvbCA9IGZpbGVkLmNvbnRyb2w7XHJcbiAgICAgICAgc2VsZWN0ZWRGaWVsZENvbmRpdGlvbnMucHVzaChzZWxlY3RlZEZpZWxkQ29uZGl0aW9uKTtcclxuICAgICAgICByZXR1cm4gc2VsZWN0ZWRGaWVsZENvbmRpdGlvbnM7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBnZXRTZWFyY2hWYWx1ZUZpZWxkQ29uZGl0aW9uKHNlbGVjdGVkRmllbGRDb25kaXRpb246IFF1ZXJ5Q29uZGl0aW9uLCBmaWxlZDogRmllbGRDb25maWcsIHNlbGVjdGVkRmllbGRDb25kaXRpb25zOiBBcnJheTxRdWVyeUNvbmRpdGlvbj4pIHtcclxuICAgICAgICBzZWxlY3RlZEZpZWxkQ29uZGl0aW9uLmlkID0gZmlsZWQuaWQ7XHJcbiAgICAgICAgc2VsZWN0ZWRGaWVsZENvbmRpdGlvbi5maWVsZENvZGUgPSBmaWxlZC5sYWJlbENvZGU7XHJcbiAgICAgICAgc2VsZWN0ZWRGaWVsZENvbmRpdGlvbi5wbGFjZUhvbGRlciA9IGZpbGVkLnBsYWNlSG9sZGVyO1xyXG4gICAgICAgIHNlbGVjdGVkRmllbGRDb25kaXRpb24uZmllbGROYW1lID0gZmlsZWQubmFtZTtcclxuICAgICAgICBzZWxlY3RlZEZpZWxkQ29uZGl0aW9uLmNvbXBhcmVUeXBlID0gQ29tcGFyZVR5cGUuRXF1YWw7XHJcbiAgICAgICAgc2VsZWN0ZWRGaWVsZENvbmRpdGlvbi52YWx1ZVR5cGUgPSBWYWx1ZVR5cGUuVmFsdWU7XHJcbiAgICAgICAgc2VsZWN0ZWRGaWVsZENvbmRpdGlvbi52YWx1ZSA9IGZpbGVkLnZhbHVlO1xyXG4gICAgICAgIHNlbGVjdGVkRmllbGRDb25kaXRpb24ucmVsYXRpb25UeXBlID0gUmVsYXRpb25UeXBlLkFuZDtcclxuICAgICAgICBzZWxlY3RlZEZpZWxkQ29uZGl0aW9uLmNvbnRyb2wgPSBmaWxlZC5jb250cm9sO1xyXG4gICAgICAgIHNlbGVjdGVkRmllbGRDb25kaXRpb25zLnB1c2goc2VsZWN0ZWRGaWVsZENvbmRpdGlvbik7XHJcbiAgICAgICAgcmV0dXJuIHNlbGVjdGVkRmllbGRDb25kaXRpb25zO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgYXJyYXlDbG9uZShpbnB1dDogQXJyYXk8YW55Pik6IEFycmF5PGFueT4ge1xyXG4gICAgICAgIGxldCByZXN1bHQgPSBuZXcgQXJyYXk8YW55PigpO1xyXG4gICAgICAgIGlmIChpbnB1dCAmJiBpbnB1dC5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIGlucHV0LmZvckVhY2goZWxlbWVudCA9PiB7XHJcbiAgICAgICAgICAgICAgICByZXN1bHQucHVzaChPYmplY3QuYXNzaWduKHt9LCBlbGVtZW50KSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfVxyXG59Il19