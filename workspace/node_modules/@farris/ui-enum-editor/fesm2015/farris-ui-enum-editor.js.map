{"version":3,"file":"farris-ui-enum-editor.js.map","sources":["ng://@farris/ui-enum-editor/lib/enum-editor.component.ts","ng://@farris/ui-enum-editor/lib/enum-editor.service.ts","ng://@farris/ui-enum-editor/lib/enum-editor-footer.component.ts","ng://@farris/ui-enum-editor/lib/enum-editor-input.component.ts","ng://@farris/ui-enum-editor/lib/enum-editor.module.ts"],"sourcesContent":["import { LocaleService } from '@farris/ui-locale';\r\nimport { Component, ElementRef, Input, Output, OnInit,\r\n    Renderer2, ViewChild, OnChanges, SimpleChanges, EventEmitter, HostBinding } from '@angular/core';\r\nimport { MessagerService } from '@farris/ui-messager';\r\n\r\n\r\n\r\n@Component({\r\n    selector: 'farris-enum-editor',\r\n    templateUrl: './enum-editor.component.html',\r\n    styles: []\r\n})\r\nexport class EnumEditorComponent implements OnInit, OnChanges {\r\n\r\n    /** enum data */\r\n    @Input() data: any = [];\r\n    @Input() columns: { label: string, value: string }[] = [];\r\n\r\n    @Input() textField = 'name';\r\n    @Input() valueField = 'value';\r\n\r\n    @Output() dataChange = new EventEmitter();\r\n\r\n    @ViewChild('tablebodybox') tablebodybox: ElementRef;\r\n\r\n    @HostBinding('class') cls = 'd-flex flex-column flex-fill';\r\n    @HostBinding('style.overflow') overflow = 'hidden';\r\n    @HostBinding('style.height') height = '100%';\r\n\r\n    @Input() showSortBtns = true;\r\n\r\n    currentEnumData: { index: number, data: any } = null;\r\n\r\n    private newEnumData: any = {\r\n        [this.textField]: '',\r\n        [this.valueField]: ''\r\n    };\r\n\r\n    constructor(private el: ElementRef, private render: Renderer2, private messagerService: MessagerService,\r\n                private localeSer: LocaleService) { }\r\n\r\n    ngOnChanges(changes: SimpleChanges) {\r\n    }\r\n\r\n    ngOnInit() {\r\n    }\r\n\r\n    insertCondition(index: number) {\r\n        const newEnumData = Object.assign({}, this.newEnumData);\r\n        if (index === 0) {\r\n            this.data.unshift(newEnumData);\r\n        } else {\r\n            this.data.splice(index, 0, newEnumData);\r\n        }\r\n\r\n        this.changeConditionList();\r\n    }\r\n\r\n    remove(index: number) {\r\n        this.data.splice(index, 1);\r\n        this.changeConditionList();\r\n\r\n        if (this.currentEnumData) {\r\n            if (index === this.currentEnumData.index) {\r\n                this.currentEnumData = null;\r\n            }\r\n        }\r\n    }\r\n\r\n    onAddFilter() {\r\n        this.data = [...this.data, Object.assign({}, this.newEnumData)];\r\n        this.changeConditionList();\r\n        this.itemIntoView();\r\n    }\r\n\r\n    onClear() {\r\n        this.messagerService.question(this.localeSer.getValue('enumEditor.message'), () => {\r\n            this.data = [];\r\n            this.currentEnumData = null;\r\n            this.changeConditionList();\r\n        });\r\n    }\r\n\r\n    onMoveTop() {\r\n        if (this.currentEnumData) {\r\n            this.data.unshift(this.currentEnumData.data);\r\n            this.data.splice(this.currentEnumData.index + 1, 1);\r\n\r\n            this.currentEnumData.index = 0;\r\n            this.changeConditionList();\r\n        }\r\n    }\r\n\r\n    onMovePrev() {\r\n        if (this.currentEnumData) {\r\n            const index = this.currentEnumData.index;\r\n            const tempArr = this.data.splice(index, 1);\r\n            this.data.splice(index - 1, 0, ...tempArr);\r\n\r\n            this.currentEnumData.index = index - 1;\r\n            this.changeConditionList();\r\n        }\r\n    }\r\n    onMoveNext() {\r\n        if (this.currentEnumData) {\r\n            const index = this.currentEnumData.index;\r\n            const tempArr = this.data.splice(index, 1);\r\n            this.data.splice(index + 1, 0, ...tempArr);\r\n\r\n            this.currentEnumData.index = index + 1;\r\n            this.changeConditionList();\r\n        }\r\n    }\r\n    onMoveBottom() {\r\n        if (this.currentEnumData) {\r\n            this.data.push(this.currentEnumData.data);\r\n            this.data.splice(this.currentEnumData.index, 1);\r\n            this.currentEnumData.index = this.data.length - 1;\r\n            this.changeConditionList();\r\n        }\r\n    }\r\n\r\n\r\n    private itemIntoView() {\r\n        if (this.tablebodybox) {\r\n            setTimeout(() => {\r\n                const tr = this.tablebodybox.nativeElement.querySelector('tbody tr:last-child');\r\n                if (tr) {\r\n                        if (tr.scrollIntoViewIfNeeded) {\r\n                            tr.scrollIntoViewIfNeeded(false);\r\n                        } else {\r\n                            tr.scrollIntoView({block: 'nearest'});\r\n                        }\r\n                    }\r\n            }, 50);\r\n        }\r\n    }\r\n\r\n\r\n    private changeConditionList() {\r\n        this.dataChange.next(this.data);\r\n    }\r\n\r\n    selected($event) {\r\n        // console.log($event);\r\n        this.currentEnumData = $event;\r\n    }\r\n\r\n    isSelected($event: number) {\r\n        if (this.currentEnumData) {\r\n            return this.currentEnumData.index === $event;\r\n        }\r\n        return false;\r\n    }\r\n\r\n}\r\n","import { LocaleService } from '@farris/ui-locale';\r\nimport { BsModalService } from '@farris/ui-modal';\r\nimport { Injectable, Injector, ComponentFactoryResolver, ComponentRef } from '@angular/core';\r\nimport { Subject } from 'rxjs';\r\nimport { EnumEditorComponent } from './enum-editor.component';\r\n\r\nimport { cloneDeep } from 'lodash-es';\r\n\r\nexport enum EnumOutType {\r\n    'array',\r\n    'object'\r\n}\r\n\r\n\r\n@Injectable({\r\n    providedIn: 'root'\r\n})\r\nexport class EnumEditorService {\r\n\r\n    enumEditorRef: ComponentRef<EnumEditorComponent> = null;\r\n    dlgRef = null;\r\n    originalData = [];\r\n\r\n    textField = 'name';\r\n    valueField = 'value';\r\n    outType = EnumOutType.array;\r\n\r\n    dataChanged = new Subject();\r\n\r\n\r\n    constructor(private injector: Injector, private cfr: ComponentFactoryResolver,\r\n                private modalService: BsModalService, private localeService: LocaleService) { }\r\n\r\n\r\n    showDialog(enumData = [], options = {}) {\r\n        enumData = this.toJSON(enumData);\r\n        const enumEditorFactory = this.cfr.resolveComponentFactory(EnumEditorComponent);\r\n        this.enumEditorRef = enumEditorFactory.create(this.injector);\r\n        this.enumEditorRef.instance.data = enumData;\r\n        this.originalData = cloneDeep(enumData);\r\n\r\n        this.textField = options['textField'] || 'name';\r\n        this.valueField = options['valueField'] || 'value';\r\n        this.outType = options['outType'] || EnumOutType.array;\r\n\r\n        options['showSortBtns'] = this.outType === EnumOutType.array;\r\n\r\n        this.dlgRef = this.modalService.show(this.enumEditorRef, {\r\n            width: 800, height: 500,\r\n            title: this.localeService.getValue('enumEditor.title'), enableScroll: false,\r\n            minHeight: 398, minWidth: 798, iconCls: 'f-icon f-icon-top_developmenttool',\r\n            buttons: [\r\n                {\r\n                    text: this.localeService.getValue('enumEditor.cancelButton'),\r\n                    cls: 'btn btn-outline-secondary',\r\n                    handle: () => {\r\n                        this.cancel();\r\n                    }\r\n                },\r\n                {\r\n                    text: this.localeService.getValue('enumEditor.okButton'),\r\n                    cls: 'btn btn-primary',\r\n                    handle: () => {\r\n                        this.save();\r\n                    }\r\n                }\r\n            ],\r\n            initialState: options,\r\n            dialogFooterStyles: { background: '#F4F6F9' },\r\n            buttonAlign: 'right',\r\n            closed: (isCloseButtonClick: boolean) => {\r\n                if (isCloseButtonClick) {\r\n                    this.cancel();\r\n                }\r\n            }\r\n        });\r\n\r\n        this.enumEditorRef.instance.height = this.dlgRef.dialog.instance.getContainerSize().height;\r\n\r\n        this.dlgRef.dialog.instance.resized.subscribe(size => {\r\n            this.enumEditorRef.instance.height = size.containerHeight;\r\n        });\r\n\r\n        this.enumEditorRef.changeDetectorRef.detectChanges();\r\n\r\n        this.dlgRef.dialog.changeDetectorRef.reattach();\r\n        // this.openDialog.emit();\r\n    }\r\n\r\n    cancel() {\r\n        this._dataChanged(this.originalData);\r\n        this.dlgRef.close();\r\n    }\r\n\r\n    save() {\r\n        const enumData = this.enumEditorRef.instance.data;\r\n        this._dataChanged(enumData);\r\n        this.dlgRef.close();\r\n    }\r\n\r\n    private _dataChanged(enumData: any) {\r\n        const str = this.toString(enumData);\r\n        this.dataChanged.next(str);\r\n    }\r\n\r\n    toString(enumData: any) {\r\n        if (enumData && enumData.length) {\r\n            if (this.outType === EnumOutType.array) {\r\n                return JSON.stringify(enumData);\r\n            } else {\r\n                const obj = enumData.reduce((r, c) => {\r\n                    r[c[this.valueField]] = c[this.textField];\r\n                    return r;\r\n                }, {});\r\n                return JSON.stringify(obj);\r\n            }\r\n        }\r\n        return '';\r\n    }\r\n\r\n    toJSON(val: any) {\r\n        let enumData = [];\r\n        if (val) {\r\n            if (typeof val === 'string') {\r\n                try {\r\n                    enumData = JSON.parse(val);\r\n                    if (this.outType === EnumOutType.object) {\r\n                        enumData = this.convertObject2Array(enumData);\r\n                    }\r\n                } catch (e) {\r\n                    enumData = [];\r\n                    // console.warn(e);\r\n                }\r\n            } else {\r\n                if (Array.isArray(val)) {\r\n                    enumData = val;\r\n                } else {\r\n                    enumData = this.convertObject2Array(val);\r\n                }\r\n            }\r\n        }\r\n        return enumData;\r\n    }\r\n\r\n    private convertObject2Array(obj: any) {\r\n        const _enumData = [];\r\n        Object.keys(obj).forEach(n => {\r\n            _enumData.push({ [this.valueField]: n, [this.textField]: obj[n] });\r\n        });\r\n\r\n        return _enumData;\r\n    }\r\n}\r\n","import { Component, EventEmitter, HostBinding, OnInit, Output, Input } from '@angular/core';\r\nimport { EnumEditorComponent } from './enum-editor.component';\r\n\r\n@Component({\r\n    selector: 'enum-editor-footer',\r\n    template: `\r\n    <div class=\"footer-container px-2\" style=\"height: 36px;\">\r\n        <button type=\"button\" (click)=\"onAddFilter()\"\r\n            class=\"k-button k-button-icontext k-flat \"><span class=\"k-icon k-i-add\"></span> {{ 'enumEditor.addWhere' | locale }}</button>\r\n        <button type=\"button\" (click)=\"onClear()\" [disabled]=\"!grid.data.length\"\r\n            class=\"k-button k-button-icontext k-flat \"><span class=\"k-icon k-i-delete\"></span> {{ 'enumEditor.clear' | locale }}</button>\r\n        <ng-container *ngIf=\"showSortBtns\">\r\n            <button type=\"button\" [disabled]=\"!canMoveUp()\" (click)=\"onMoveTop()\"\r\n            class=\"k-button k-button-icontext k-flat \"><span class=\"k-icon k-i-arrow-end-up\"></span>\r\n            {{'enumEditor.moveTop' | locale }}</button>\r\n        <button type=\"button\" [disabled]=\"!canMoveUp()\" (click)=\"onMovePrev()\"\r\n            class=\"k-button k-button-icontext k-flat \"><span class=\"k-icon k-i-arrow-60-up\"></span>\r\n            {{'enumEditor.moveUp' | locale }}</button>\r\n        <button type=\"button\" [disabled]=\"!canMoveDown()\" (click)=\"onMoveNext()\"\r\n            class=\"k-button k-button-icontext k-flat \"><span class=\"k-icon k-i-arrow-60-down\"></span>\r\n            {{'enumEditor.moveDown' | locale }}</button>\r\n        <button type=\"button\" [disabled]=\"!canMoveDown()\" (click)=\"onMoveBottom()\"\r\n            class=\"k-button k-button-icontext k-flat\"><span class=\"k-icon k-i-arrow-end-down\"></span>\r\n            {{'enumEditor.moveBottom' | locale }}</button>\r\n            </ng-container>\r\n    </div>\r\n    `\r\n})\r\nexport class EnumEditorFooterComponent implements OnInit {\r\n    @HostBinding('class') cls = 'f-filter-footer';\r\n\r\n    @Input() showSortBtns = true;\r\n\r\n    @Output() addFilter = new EventEmitter();\r\n    @Output() clearFilter = new EventEmitter();\r\n\r\n    @Output() moveTop = new EventEmitter();\r\n    @Output() movePrev = new EventEmitter();\r\n    @Output() moveNext = new EventEmitter();\r\n    @Output() moveBottom = new EventEmitter();\r\n\r\n    constructor(public grid: EnumEditorComponent) { }\r\n\r\n    ngOnInit() { }\r\n\r\n    onAddFilter() {\r\n        this.addFilter.emit();\r\n    }\r\n\r\n    onClear() {\r\n        this.clearFilter.emit();\r\n    }\r\n\r\n    onMoveTop() {\r\n        this.moveTop.emit();\r\n    }\r\n    onMovePrev() {\r\n        this.movePrev.emit();\r\n    }\r\n    onMoveNext() {\r\n        this.moveNext.emit();\r\n    }\r\n    onMoveBottom() {\r\n        this.moveBottom.emit();\r\n    }\r\n\r\n\r\n    canUse() {\r\n        if (this.grid.currentEnumData) {\r\n            return this.grid.data.length > 1;\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n    canMoveUp() {\r\n        if (this.canUse()) {\r\n            return this.grid.currentEnumData.index > 0;\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n    canMoveDown() {\r\n        if (this.canUse()) {\r\n            return this.grid.currentEnumData.index < this.grid.data.length - 1;\r\n        }\r\n\r\n        return false;\r\n    }\r\n}\r\n","import { InputGroupComponent } from '@farris/ui-input-group';\r\nimport { EnumEditorService, EnumOutType } from './enum-editor.service';\r\nimport { Component, OnInit, Injector, ElementRef, Input, EventEmitter, Output, forwardRef, ViewChild, ChangeDetectorRef } from '@angular/core';\r\nimport { LookupComponent } from '@farris/ui-lookup';\r\nimport { NG_VALUE_ACCESSOR } from '@angular/forms';\r\n\r\nexport const ENUM_EDITOR_VALUE_ACCESSOR: any = {\r\n    provide: NG_VALUE_ACCESSOR,\r\n    useExisting: forwardRef(() => EnumEditorInputComponent),\r\n    multi: true\r\n};\r\n\r\n\r\n@Component({\r\n    selector: 'enum-editor-input',\r\n    template: `\r\n    <input-group #ig style=\"width: 100%\"\r\n        [groupText]=\"groupIcon\"\r\n        (clear)=\"onClear($event)\"\r\n        (clickHandle)=\"showDialog()\"\r\n        [readonly] = \"readonly\"\r\n        [editable] = \"editable\"\r\n        [enableClear] = \"enableClear\"\r\n        [(value)]=\"value\">\r\n    </input-group>\r\n    `,\r\n    providers: [\r\n        ENUM_EDITOR_VALUE_ACCESSOR,\r\n        EnumEditorService\r\n    ]\r\n})\r\nexport class EnumEditorInputComponent extends LookupComponent implements OnInit {\r\n    @Input() value: any;\r\n    @Input() textField = 'name';\r\n    @Input() valueField = 'value';\r\n    @Input() outType: EnumOutType = EnumOutType.array;\r\n    @Input() enableClear = true;\r\n\r\n    @Output() valueChange = new EventEmitter();\r\n\r\n    @ViewChild('ig') inputGroupRef: InputGroupComponent;\r\n\r\n    groupIcon = '<i class=\"f-icon f-icon-lookup\"></i>';\r\n    cd: ChangeDetectorRef = null;\r\n\r\n    constructor(public injector: Injector, private ees: EnumEditorService, public el: ElementRef) {\r\n        super(injector, el);\r\n\r\n        this.ees.dataChanged.subscribe(str => {\r\n            this.updateData(str);\r\n        });\r\n\r\n        this.cd = this.injector.get(ChangeDetectorRef, null);\r\n    }\r\n\r\n    private updateData(str: any) {\r\n        this.value = str;\r\n        if (this.cd) {\r\n            this.cd.detectChanges();\r\n        }\r\n\r\n        this.valueChange.emit(str);\r\n        this.onModelChange(str);\r\n        this.onModelTouched(str);\r\n    }\r\n\r\n    ngOnInit(): void { }\r\n\r\n    showDialog() {\r\n        const enumData = this.convertValue2JSON();\r\n        this.ees.showDialog(enumData, {\r\n            textField: this.textField,\r\n            valueField: this.valueField,\r\n            outType: this.outType\r\n        });\r\n    }\r\n\r\n    onClear($event) {\r\n        this.updateData('');\r\n    }\r\n\r\n    writeValue(val: any) {\r\n        if (val && typeof val === 'object') {\r\n            this.value = JSON.stringify(val);\r\n        } else {\r\n            this.value = val || '';\r\n        }\r\n    }\r\n\r\n    private convertValue2JSON() {\r\n        return this.ees.toJSON(this.value);\r\n    }\r\n}\r\n","import { InputGroupModule } from '@farris/ui-input-group';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { CommonModule } from '@angular/common';\r\nimport { MessagerModule } from '@farris/ui-messager';\r\nimport { ModalModule } from '@farris/ui-modal';\r\nimport { LocaleModule } from '@farris/ui-locale';\r\nimport { NgModule, ModuleWithProviders } from '@angular/core';\r\nimport { EnumEditorInputComponent } from './enum-editor-input.component';\r\nimport { EnumEditorComponent } from './enum-editor.component';\r\nimport { EnumEditorService } from './enum-editor.service';\r\nimport { FarrisCommonModule } from '@farris/ui-common';\r\nimport { PerfectScrollbarModule } from '@farris/ui-perfect-scrollbar';\r\nimport { LookupModule } from '@farris/ui-lookup';\r\nimport { EnumEditorFooterComponent } from './enum-editor-footer.component';\r\n\r\n@NgModule({\r\n    declarations: [\r\n        EnumEditorComponent,\r\n        EnumEditorInputComponent,\r\n        EnumEditorFooterComponent\r\n    ],\r\n    imports: [\r\n        CommonModule,\r\n        FormsModule,\r\n        InputGroupModule,\r\n        FarrisCommonModule,\r\n        MessagerModule.forRoot(),\r\n        PerfectScrollbarModule,\r\n        LookupModule,\r\n        LocaleModule\r\n    ],\r\n    entryComponents: [\r\n        EnumEditorComponent\r\n    ],\r\n    exports: [EnumEditorComponent, EnumEditorInputComponent]\r\n})\r\nexport class EnumEditorModule {\r\n    static forRoot(): ModuleWithProviders {\r\n        return {\r\n            ngModule: EnumEditorModule,\r\n            providers: [\r\n                EnumEditorService\r\n            ]\r\n        };\r\n    }\r\n}\r\n"],"names":[],"mappings":"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"}
