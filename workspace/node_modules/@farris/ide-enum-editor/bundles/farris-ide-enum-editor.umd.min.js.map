{"version":3,"sources":["../../../../node_modules/tslib/tslib.es6.js","ng://@farris/ide-enum-editor/lib/ide-enum-editor.component.ts","ng://@farris/ide-enum-editor/lib/ide-enum-editor.module.ts"],"names":["__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","this","__read","o","m","Symbol","iterator","r","e","ar","next","done","push","value","error","__spread","concat","IdeEnumEditorComponent","notifyService","injector","render","el","cd","closeModal","EventEmitter","submitModal","editorParams","valueChange","modalConfig","title","width","height","showButtons","columns","ngOnInit","field","template","nameTemp","valueTemp","activeTemp","halign","align","map","id","addClass","nativeElement","ngOnChanges","changes","map2EnumData","v","name","changeEmit","detectChanges","emit","clickCancel","clickConfirm","checkBeforeSave","enumData","msg","type","timeout","warning","_b","tslib_1.__values","_c","item","enumKeys","keySet","Set","exclusiveKeys","Array","from","enumNames","nameSet","exclusiveNames","add","remove","rows","dg","checkeds","filter","findIndex","deleteItem","moveTop","$event","index","stopPropagation","unshift","splice","moveBottom","moveUp","tempArr","_a","moveDown","len","Component","args","selector","NotifyService","Injector","Renderer2","ElementRef","ChangeDetectorRef","Output","Input","ViewChild","IdeEnumEditorModule","NgModule","declarations","imports","CommonModule","FormsModule","DatagridModule","NotifyModule","forRoot","exports"],"mappings":"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","sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n","import { Component, OnInit, Output, EventEmitter, Input, ViewChild, TemplateRef, SimpleChanges, OnChanges, Injector, HostBinding, Renderer2, ElementRef, ChangeDetectorRef } from '@angular/core';\nimport { DatagridComponent } from '@farris/ui-datagrid';\nimport { NotifyService } from '@farris/ui-notify';\n\n\nexport interface EnumData {\n    id: any;\n    value: string;\n    name: string;\n}\n\n@Component({\n    selector: 'ide-enum-editor',\n    template: `\n    <div class=\"border-bottom mb-1 py-1\">\n        <button class=\"btn btn-primary mr-1 ml-2\" (click)=\"add()\"> æ°å¢</button>\n        <button class=\"btn btn-default mr-1\" (click)=\"remove()\">å é¤</button>\n    </div>\n    <div class=\"d-flex flex-column flex-fill\">\n        <farris-datagrid #dg [idField]=\"'id'\"\n            [columns]=\"columns\" [sizeType]=\"'md'\" [showAllCheckbox]=\"true\"\n            [striped]=\"false\" [showCheckbox]=\"true\" [multiSelect]=\"true\"\n            [data]=\"value\" [fit]=\"true\" [fitColumns]=\"true\"\n            [showBorder]=\"true\" [pagination]=\"false\"\n            [selectOnCheck]=\"false\" [checkOnSelect]=\"false\"\n        ></farris-datagrid>\n\n        <ng-template #nameTemp let-ctx>\n            <div class=\"f-datagrid-cell-formgroup farris-group-auto\">\n                <input type=\"text\" class=\"form-control\" name=\"name\" [(ngModel)]=\"ctx.rowData['name']\">\n            </div>\n        </ng-template>\n        <ng-template #valueTemp let-ctx>\n            <div class=\"f-datagrid-cell-formgroup farris-group-auto\">\n                <input type=\"text\" class=\"form-control\" [(ngModel)]=\"ctx.rowData['value']\" name=\"value\">\n            </div>\n        </ng-template>\n\n        <ng-template #activeTemp let-ctx>\n            <button type=\"button\" class=\"btn btn-warning  mr-1\" (click)=\"deleteItem(ctx.rowData.id)\">å é¤</button>\n            <button class=\"btn btn-info mr-1\" style=\"padding: 2px 5px\" (click)=\"moveTop($event, ctx.rowData.id, ctx.rowIndex)\" title=\"ç½®é¡¶\">\n                <span class=\"f-icon f-icon-roofing\"></span>\n            </button>\n            <button class=\"btn btn-info mr-1\" style=\"padding: 2px 5px\" (click)=\"moveUp($event, ctx.rowData.id, ctx.rowIndex)\" title=\"ä¸ç§»\">\n                <span class=\"f-icon f-icon-arrow-chevron-up\"></span>\n            </button>\n            <button class=\"btn btn-info mr-1\"  style=\"padding: 2px 5px\" (click)=\"moveDown($event, ctx.rowData.id, ctx.rowIndex)\" title=\"ä¸ç§»\">\n                <span class=\"f-icon f-icon-arrow-chevron-down\"></span>\n            </button>\n            <button class=\"btn btn-info mr-1\" style=\"padding: 2px 5px\" (click)=\"moveBottom($event, ctx.rowData.id, ctx.rowIndex)\" title=\"ç½®åº\">\n                <span class=\"f-icon f-icon-bottomsetting\"></span>\n            </button>\n        </ng-template>\n\n    </div>\n    <ng-template #enumFooter>\n        <div class=\"btns\">\n            <button type=\"button\" class=\"btn btn-outline-secondary btn-sm px-3\" (click)=\"clickCancel()\" > åæ¶ </button>\n            &nbsp;&nbsp;\n            <button  type=\"button\"  class=\"btn btn-outline-primary btn-sm px-3\" (click)=\"clickConfirm()\" > ç¡®å® </button>\n        </div>\n    </ng-template>\n    `,\n    styles: []\n})\nexport class IdeEnumEditorComponent implements OnInit, OnChanges {\n    @Output() closeModal = new EventEmitter<any>();\n    // æ¨¡ææ¡ç¡®å®åå³é­ï¼å¹¶ä¼ éåæ°\n    @Output() submitModal = new EventEmitter<any>();\n    @Input() value: EnumData[]; // æä¸¾æ°ç»\n    @Input() editorParams: any = {};\n\n    @ViewChild('enumFooter') modalFooter: TemplateRef<any>;\n\n    @ViewChild('dg') dg: DatagridComponent;\n    @ViewChild('nameTemp') nameTemp: TemplateRef<any>;\n    @ViewChild('valueTemp') valueTemp: TemplateRef<any>;\n    @ViewChild('activeTemp') activeTemp: TemplateRef<any>;\n\n    @Output() valueChange = new EventEmitter();\n\n    modalConfig = {\n        title: 'æä¸¾ç¼è¾å¨',\n        width: 900,\n        height: 500,\n        showButtons: true\n    };\n\n    columns = [];\n\n    constructor(\n        private notifyService: NotifyService,\n        private injector: Injector,\n        private render: Renderer2,\n        private el: ElementRef,\n        private cd: ChangeDetectorRef\n    ) { }\n\n    ngOnInit() {\n\n        this.columns = [\n            { field: 'name', title: 'åç§°', width: 100, template: this.nameTemp },\n            { field: 'value', title: 'å¼', width: 100, template: this.valueTemp },\n            { title: 'æä½', width: 100, template: this.activeTemp, halign: 'center', align: 'center' }\n        ];\n\n        if (!this.value || this.value.length === 0) {\n            this.value = [];\n        } else {\n            this.value = this.value.map((n, i) => {\n                return {\n                    id: i + 1,\n                    ...n\n                };\n            });\n        }\n\n\n        this.render.addClass(this.el.nativeElement, 'f-utils-absolute-all');\n        this.render.addClass(this.el.nativeElement, 'f-utils-flex-column');\n\n    }\n\n    ngOnChanges(changes: SimpleChanges) {\n\n    }\n\n    private map2EnumData() {\n        return this.value.map(v => {\n            return {\n                name: v.name,\n                value: v.value\n            };\n        });\n    }\n\n    private changeEmit() {\n        this.cd.detectChanges();\n        this.valueChange.emit(this.value);\n    }\n\n    clickCancel() {\n        this.closeModal.emit();\n    }\n\n    clickConfirm() {\n        if (!this.checkBeforeSave()) {\n            return;\n        }\n        const enumData = this.map2EnumData();\n        this.submitModal.emit({ value: enumData });\n    }\n\n    /**\n     * ä¿å­åæ£æ¥\n     */\n    checkBeforeSave(): boolean {\n\n        const msg = {\n            type: 'warning',\n            title: 'ç³»ç»æç¤º',\n            msg: 'è¯·æ·»å æä¸¾å¼ã',\n            timeout: 3000\n        };\n\n\n        // â  ç©º\n        if (!this.value || this.value.length === 0) {\n            this.notifyService.warning(msg);\n            return false;\n        }\n        // â¡ éç©ºï¼åæ ¡éªæ¯ä¸ªçé®å¼æ¯å¦ä¸ºç©ºï¼\n        for (const item of this.value) {\n            if (!item.name || !item.value) {\n                msg.msg = 'æä¸¾å¼åæä¸¾åç§°åä¸åè®¸ä¸ºç©ºã';\n                this.notifyService.warning(msg);\n                return false;\n            }\n        }\n        // â¢ é®ä¸åè®¸éå¤ï¼\n        const enumKeys = this.value.map(e => e.value);\n        const keySet = new Set(enumKeys);\n        const exclusiveKeys = Array.from(keySet);\n        if (enumKeys.length !== exclusiveKeys.length) {\n            msg.msg = 'æä¸¾å¼ä¸åè®¸éå¤ã';\n            return false;\n        }\n\n        // â¢ å¼ä¸åè®¸éå¤ï¼\n        const enumNames = this.value.map(e => e.name);\n        const nameSet = new Set(enumNames);\n        const exclusiveNames = Array.from(nameSet);\n        if (enumNames.length !== exclusiveNames.length) {\n            msg.msg =  'æä¸¾åç§°ä¸åè®¸éå¤ã';\n            this.notifyService.warning(msg);\n            return false;\n        }\n\n        return true;\n    }\n\n\n    add() {\n        this.value = [ ...this.value, {  id: (this.value.length + 1), name: '', value: ''  } ];\n        this.changeEmit();\n    }\n\n    remove() {\n        const rows = this.dg.checkeds;\n        if (rows && rows.length) {\n            this.value = this.value.filter( v => {\n                return rows.findIndex(r => r.id === v.id) === -1;\n            });\n            this.changeEmit();\n        } else {\n            this.notifyService.warning('è¯·é©éè¦å é¤çæ°æ®ï¼');\n        }\n    }\n\n    deleteItem(id) {\n        this.value = this.value.filter( v => {\n            return v.id !== id;\n        });\n        this.changeEmit();\n    }\n\n    moveTop($event: MouseEvent, id, index) {\n        $event.stopPropagation();\n        const i = this.value.findIndex(n => n.id === id);\n        // const i = index;\n        this.value.unshift(this.value[i]);\n        this.value.splice(i + 1, 1);\n\n        this.value = [...this.value];\n        this.changeEmit();\n        return false;\n    }\n\n    moveBottom($event, id, index) {\n        $event.stopPropagation();\n        const i = this.value.findIndex(n => n.id === id);\n        // const i = index;\n        this.value.push(this.value[i]);\n        this.value.splice(i, 1);\n        this.value = [...this.value];\n        this.changeEmit();\n        return false;\n    }\n\n    moveUp($event, id, index) {\n        $event.stopPropagation();\n        const i = this.value.findIndex(n => n.id === id);\n        // const i = index;\n        if (i !== 0) {\n            const tempArr = this.value.splice(i, 1);\n            this.value.splice(i - 1, 0, ...tempArr);\n            this.value = [...this.value];\n            this.changeEmit();\n        }\n        return false;\n    }\n\n    moveDown($event, id, index) {\n        $event.stopPropagation();\n        const len = this.value.length;\n        const i = this.value.findIndex(n => n.id === id);\n        // const i = index;\n        if (i !== len - 1) {\n            const tempArr = this.value.splice(i, 1);\n            this.value.splice(i + 1, 0, ...tempArr);\n            this.value = [...this.value];\n            this.changeEmit();\n        }\n        return false;\n    }\n}\n","import { FormsModule } from '@angular/forms';\nimport { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { DatagridModule } from '@farris/ui-datagrid';\nimport { IdeEnumEditorComponent } from './ide-enum-editor.component';\nimport { NotifyModule } from '@farris/ui-notify';\n\n@NgModule({\n  declarations: [IdeEnumEditorComponent],\n  imports: [\n    CommonModule,\n    FormsModule,\n    DatagridModule,\n    NotifyModule.forRoot()\n  ],\n  exports: [IdeEnumEditorComponent]\n})\nexport class IdeEnumEditorModule { }\n"]}