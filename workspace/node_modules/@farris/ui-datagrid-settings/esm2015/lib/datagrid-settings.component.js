/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { Component, ViewEncapsulation, ViewChild, ElementRef, Input, EventEmitter, ChangeDetectorRef, Injector, Output, Renderer2 } from '@angular/core';
import { LocaleService } from '@farris/ui-locale';
import { MessagerService } from '@farris/ui-messager';
import { ColumnFormatSettingComponent } from './column-format-setting/column-format-setting.component';
import { getDataFieldsForMultiHeaders, mergeSortInfo, multiHeadersHasDataFields, reset2DefaultForMultiHeaders } from './mutli-headers.helper';
import { NotifyService } from '@farris/ui-notify';
export class DatagridSettingsComponent {
    /**
     * @param {?} cd
     * @param {?} inject
     */
    constructor(cd, inject) {
        this.cd = cd;
        this.inject = inject;
        this.activeTabIndex = 1;
        /**
         * 排序列数据
         */
        this.sortTreeData = [];
        this.sortNames = [];
        this.sortInfo = {};
        /**
         * 显示列数据
         */
        // viewTreeData = [];
        this.viewColumns = [];
        this.columnFormat = [];
        this.groupField = [];
        this.expandGroupRows = true;
        this.canSetColumnSort = true;
        this.canSetColumnVisible = true;
        this.enableReset = false;
        this.cancelHandle = new EventEmitter();
        this.submitHandle = new EventEmitter();
        this.reset = new EventEmitter();
        this.concise = new EventEmitter();
        this.schemeInfo = null;
        this.searchItems = [];
        this.alignItems = [];
        this.summaryItems = [];
        this.summaryItems2 = [];
        this.enableGroupFooter = false;
        this.fixedItems = [];
        /**
         * 配置多表头相关设置
         */
        this.multiHeaders = {};
        // 启用多表头
        this.enableMultipleHeaders = false;
        this.schemeName = '';
        this.tabWidth = 70;
        this.messager = this.inject.get(MessagerService, null);
        this.localeSer = this.inject.get(LocaleService);
        this.render2 = this.inject.get(Renderer2, null);
        this.notifySer = this.inject.get(NotifyService, null);
        this.searchItems = [
            { value: 'all', title: this.localeSer.getValue('datagrid.settings.allColumns') },
            { value: 'visible', title: this.localeSer.getValue('datagrid.settings.visibleColumns') },
            { value: 'hidden', title: this.localeSer.getValue('datagrid.settings.hiddenColumns') }
        ];
        this.alignItems = [
            { value: 'left', title: this.localeSer.getValue('datagrid.settings.alignLeft') },
            { value: 'center', title: this.localeSer.getValue('datagrid.settings.alignCenter') },
            { value: 'right', title: this.localeSer.getValue('datagrid.settings.alignRight') },
        ];
        this.summaryItems = [
            { value: -1, title: this.localeSer.getValue('datagrid.settings.summaryNone') },
            { value: 2, title: this.localeSer.getValue('datagrid.settings.summarySum') },
            { value: 0, title: this.localeSer.getValue('datagrid.settings.summaryMax') },
            { value: 1, title: this.localeSer.getValue('datagrid.settings.summaryMin') },
            { value: 3, title: this.localeSer.getValue('datagrid.settings.summaryAverage') },
            { value: 4, title: this.localeSer.getValue('datagrid.settings.summarCount') },
        ];
        this.summaryItems2 = [
            { value: -1, title: this.localeSer.getValue('datagrid.settings.summaryNone') },
            { value: 4, title: this.localeSer.getValue('datagrid.settings.summarCount') },
        ];
        this.fixedItems = [
            { value: 'UNFIXED', title: this.localeSer.getValue('datagrid-settings.column.unFixed') },
            { value: 'left', title: this.localeSer.getValue('datagrid-settings.column.leftFixed') },
            { value: 'right', title: this.localeSer.getValue('datagrid-settings.column.rightFixed') },
        ];
        if (this.localeSer.localeId === 'en') {
            this.tabWidth = 80;
        }
    }
    /**
     * @private
     * @return {?}
     */
    initData() {
        this.sortNames = this.gridInstance.sortName ? this.gridInstance.sortName.split(',') : [];
        /** @type {?} */
        const sortOrders = this.gridInstance.sortOrder ? this.gridInstance.sortOrder.split(',') : [];
        this.viewColumns = this.getViewColumns();
        this.sortInfo = { sortName: this.sortNames, sortOrder: sortOrders };
        this.columnFormat = [...this.columns[0]];
        this.groupField = this.gridInstance.groupField ? this.gridInstance.groupField.split(',') : [];
        this.expandGroupRows = this.gridInstance['expandGroupRows'];
        this.enableGroupFooter = this.gridInstance.groupFooter;
    }
    /**
     * @return {?}
     */
    ngOnInit() {
        if (!this.gridInstance.enableScheme) {
            this.initData();
        }
        else {
            if (this.schemeInfo) {
                this.sortInfo = this.schemeInfo.sortInfo || {};
                if (this.sortInfo) {
                    this.sortNames = this.sortInfo.sortName || '';
                }
                this.viewColumns = this.schemeInfo.viewColumns;
                this.columnFormat = this.schemeInfo.columnFormat;
                if (!this.columnFormat) {
                    this.columnFormat = [...this.columns[0]];
                }
                if (this.schemeInfo.groupField) {
                    if (typeof this.schemeInfo.groupField === 'string') {
                        this.groupField = ((/** @type {?} */ (this.schemeInfo.groupField))).split(',');
                    }
                    else {
                        this.groupField = this.schemeInfo.groupField || [];
                    }
                }
                else {
                    this.groupField = [];
                }
                this.expandGroupRows = !!this.schemeInfo.expandGroupRows;
            }
            else {
                // 系统预制
                this.reset2Default();
            }
        }
    }
    /**
     * @param {?} changes
     * @return {?}
     */
    ngOnChanges(changes) {
    }
    /**
     * @param {?} $event
     * @return {?}
     */
    close($event) {
        $event.stopPropagation();
        if (this.modalRef) {
            this.modalRef.close();
        }
    }
    /**
     * @private
     * @param {?=} tab
     * @return {?}
     */
    setCurrentTab(tab = null) {
        if (this.render2) {
            /** @type {?} */
            let left = 0;
            /** @type {?} */
            const tabs = Array.from(this.header.nativeElement.querySelectorAll('.navitem'));
            /** @type {?} */
            let index = this.activeTabIndex;
            if (tabs.length !== 3) {
                index = tabs.findIndex((/**
                 * @param {?} n
                 * @return {?}
                 */
                n => n === tab)) + 1;
            }
            switch (index) {
                case 2:
                    left = this.localeSer.localeId === 'en' ? 78 : 68;
                    break;
                case 3:
                    left = this.localeSer.localeId === 'en' ? 158 : 138;
                    break;
                default:
                    left = 0;
                    break;
            }
            this.render2.setStyle(this.activeTab.nativeElement, 'transform', `translate3d(${left}px, 0px, 0px)`);
        }
    }
    /**
     * @param {?} $event
     * @param {?} idx
     * @return {?}
     */
    changeTabs($event, idx) {
        $event.stopPropagation();
        /** @type {?} */
        const treeNodes = this.getCurrentGroupHeaders();
        if (this.activeTabIndex === 1 && this.enableMultipleHeaders) {
            this.setCurrentGroupHeaders(treeNodes);
        }
        else {
            this.multiHeaders.treeData = treeNodes ? treeNodes.treeData : [];
        }
        if (idx === 2 && this.enableMultipleHeaders) {
            this.sortTreeData = getDataFieldsForMultiHeaders(treeNodes.viewCols).filter((/**
             * @param {?} n
             * @return {?}
             */
            (n) => n.field.indexOf('farris-datagrid-column_') == -1 && n.sortable));
        }
        if (idx === 3) {
            if (this.enableMultipleHeaders) {
                this.columnFormat = treeNodes && treeNodes.viewCols ? getDataFieldsForMultiHeaders(treeNodes.viewCols).filter((/**
                 * @param {?} n
                 * @return {?}
                 */
                (n) => n.field.indexOf('farris-datagrid-column_') == -1)) : [];
            }
            else {
                this.columnFormat = getDataFieldsForMultiHeaders(this.columns);
            }
        }
        this.activeTabIndex = idx;
        /** @type {?} */
        let tabEl = $event.target;
        if (!tabEl.classList.contains('navitem') && tabEl.closest('.navitem')) {
            tabEl = tabEl.closest('.navitem');
        }
        this.setCurrentTab(tabEl);
    }
    /**
     * @param {?} sortInfo
     * @return {?}
     */
    onSortInfoChange(sortInfo) {
        this.sortInfo = sortInfo;
    }
    /**
     * @private
     * @return {?}
     */
    getViewColumns() {
        // 多表头
        /** @type {?} */
        let visibleCls = [];
        if (this.columns.length > 1) {
            this.columns.forEach((/**
             * @param {?} cols
             * @return {?}
             */
            cols => {
                visibleCls = visibleCls.concat(this._getViewColumns(cols));
            }));
        }
        else {
            visibleCls = this.columns[0].filter((/**
             * @param {?} n
             * @return {?}
             */
            n => (n.visible || n.visible === undefined)));
        }
        return visibleCls.map((/**
         * @param {?} n
         * @return {?}
         */
        n => n.field));
    }
    /**
     * @private
     * @param {?} cols
     * @return {?}
     */
    _getViewColumns(cols) {
        return cols.filter((/**
         * @param {?} c
         * @return {?}
         */
        c => !c.colspan && (c.visible || c.visible === undefined)));
    }
    /**
     * @private
     * @return {?}
     */
    mergeColumnFormats() {
        if (this.sortInfo && Object.keys(this.sortInfo).length && this.columnFormat && this.columnFormat.length) {
            const { sortName, sortOrder } = this.sortInfo;
            if (sortName && sortName.length) {
                sortName.forEach((/**
                 * @param {?} n
                 * @param {?} i
                 * @return {?}
                 */
                (n, i) => {
                    /** @type {?} */
                    const col = this.columnFormat.find((/**
                     * @param {?} col
                     * @return {?}
                     */
                    (col) => {
                        return col.field === n;
                    }));
                    if (col) {
                        col.sortable = true;
                        col.order = sortOrder[i] || 'asc';
                    }
                }));
            }
        }
        /**
         * 1、只有一组表头，且固定在左侧或右侧时，按无固定列方式处理
         * 2、只有左侧、右侧固定列而没有其他正常列时，取消右侧固定列
         * 3、只有左侧或右侧固定时，按无固定列处理
         * @type {?}
         */
        const _columnsFormat = this.columnFormat;
        if (!_columnsFormat.filter((/**
         * @param {?} n
         * @return {?}
         */
        n => (!n.fixed || n.fixed === 'UNFIXED') && n.visible)).length) {
            /** @type {?} */
            const colsCount = _columnsFormat.length;
            /** @type {?} */
            const rightCols = _columnsFormat.filter((/**
             * @param {?} n
             * @return {?}
             */
            n => n.fixed === 'right'));
            /** @type {?} */
            const leftCols = _columnsFormat.filter((/**
             * @param {?} n
             * @return {?}
             */
            n => n.fixed === 'left'));
            if (leftCols.length == colsCount || rightCols.length == colsCount) {
                _columnsFormat.forEach((/**
                 * @param {?} n
                 * @return {?}
                 */
                n => {
                    n.fixed = '';
                }));
            }
            else {
                if (rightCols.length === 1) {
                    leftCols.forEach((/**
                     * @param {?} t
                     * @return {?}
                     */
                    t => {
                        t.fixed = '';
                    }));
                }
                else {
                    rightCols.forEach((/**
                     * @param {?} t
                     * @return {?}
                     */
                    t => {
                        t.fixed = '';
                    }));
                }
            }
        }
    }
    /**
     * @param {?} colFormatData
     * @return {?}
     */
    onColumnFormatChange(colFormatData) {
        this.columnFormat = colFormatData;
    }
    /**
     * @private
     * @param {?} msg
     * @return {?}
     */
    _showMessager(msg) {
        if (this.notifySer) {
            this.notifySer.info(msg);
        }
        else {
            this.messager.info(msg);
        }
    }
    /**
     * @param {?} $event
     * @return {?}
     */
    onSubmitClick($event) {
        if (this.enableMultipleHeaders) {
            /** @type {?} */
            const _multiHeaders = this.getCurrentGroupHeaders();
            if (_multiHeaders && !multiHeadersHasDataFields(_multiHeaders.viewCols)) {
                this._showMessager('请设置表头。');
                return;
            }
            mergeSortInfo(_multiHeaders.viewCols, this.sortInfo);
            this.multiHeaders = _multiHeaders;
        }
        else {
            this.multiHeaders = null;
            this.mergeColumnFormats();
        }
        this.submitHandle.emit($event);
    }
    /**
     * @param {?} $event
     * @return {?}
     */
    onCancelClick($event) {
        this.cancelHandle.emit($event);
    }
    /**
     * @param {?} $event
     * @return {?}
     */
    onSettingReset($event) {
        /** @type {?} */
        const restorDefaultText = this.localeSer.getValue('datagrid.settings.restoreDefaultSettingsText') || '确认要恢复默认设置吗？';
        this.messager.confirm(restorDefaultText).subscribe((/**
         * @param {?} t
         * @return {?}
         */
        (t) => {
            if (t) {
                if (this.enableMultipleHeaders) {
                    const { settings, multiHeaderOptions } = reset2DefaultForMultiHeaders(this.gridInstance);
                    const { viewColumns, columnFormat, sortInfo, groupField, expandGroupRows, multiHeaders } = settings;
                    this.viewColumns = viewColumns;
                    this.sortInfo = sortInfo;
                    this.sortNames = sortInfo.sortName || [];
                    this.groupField = groupField;
                    this.expandGroupRows = expandGroupRows;
                    this.multiHeaders = {
                        columns: multiHeaderOptions.columns,
                        treeData: multiHeaders.treeData
                    };
                    this.columnFormat = getDataFieldsForMultiHeaders(multiHeaderOptions.columns);
                    this.setCurrentGroupHeaders({ viewCols: multiHeaderOptions.columns, treeData: null });
                }
                else {
                    this.reset2Default();
                }
            }
        }));
    }
    /**
     * @private
     * @return {?}
     */
    reset2Default() {
        /** @type {?} */
        const options = this.gridInstance.dfs['_state'].initialOptions;
        if (options.columnFields && options.columnFields.length) {
            /** @type {?} */
            const newColumns = [];
            options.columnFields.forEach((/**
             * @param {?} c
             * @return {?}
             */
            c => {
                if (c.field !== '_datagrid-setting-control_') {
                    /** @type {?} */
                    const col = this.gridInstance.columns[0].find((/**
                     * @param {?} n
                     * @return {?}
                     */
                    (n) => n.field === c.field));
                    if (col) {
                        col.visible = c.visible;
                        col.halign = c.halign;
                        col.align = c.align;
                        col.width = c.width;
                        col.footer = Object.assign({}, c.footer || {});
                        col.groupFooter = Object.assign({}, c.groupFooter || {});
                        col.title = c.title;
                        col.fixed = c.fixed || '';
                        newColumns.push(col);
                    }
                }
            }));
            this.columns = [newColumns];
        }
        this.viewColumns = this.getViewColumns();
        if (options.sort) {
            /** @type {?} */
            const sortOrders = options.sort.sortOrder ? options.sort.sortOrder.split(',') : [];
            this.sortNames = options.sort.sortName ? options.sort.sortName.split(',') : [];
            this.sortInfo = { sortName: this.sortNames, sortOrder: sortOrders };
        }
        else {
            this.sortNames = [];
            this.sortInfo = {};
        }
        this.columnFormat = [...this.columns[0]];
        this.groupField = options.groupField ? options.groupField.split(',') : [];
        this.expandGroupRows = !!options.expandGroupRows;
        this.enableGroupFooter = !!options.enableGroupFooter;
    }
    /**
     * 显示简洁模式窗口
     * @param {?} $event
     * @return {?}
     */
    showConcise($event) {
        if ($event) {
            $event.stopPropagation();
        }
        if (this.enableMultipleHeaders) {
            this.multiHeaders = this.getCurrentGroupHeaders();
        }
        this.mergeColumnFormats();
        this.concise.emit();
    }
    /**
     * @private
     * @param {?} p
     * @return {?}
     */
    setCurrentGroupHeaders(p) {
        this['GROUP_HEADERS'] = p;
    }
    /**
     * @return {?}
     */
    getCurrentGroupHeaders() {
        if (this.colFormatSettings) {
            return this.colFormatSettings.getMultiHeaders();
        }
        else {
            return this['GROUP_HEADERS'];
        }
    }
}
DatagridSettingsComponent.decorators = [
    { type: Component, args: [{
                selector: 'datagrid-settings',
                template: "<div class=\"f-datagrid-settings d-flex flex-column\" style=\"height: 100%;\">\r\n\r\n    <div class=\"d-flex justify-content-between header\" #header>\r\n        <div class=\"title\">{{'datagrid.settings.title' | locale}}</div>\r\n\r\n        <div style=\"width: 100%;\" class=\"tabs\">\r\n            <div class=\"d-flex justify-content-center\">\r\n                <div class=\"d-flex tabs-labels\" (mousedown)=\"$event.stopPropagation()\">\r\n\r\n                    <div class=\"active-tab\" #activeTab [style.width.px]=\"tabWidth - 2\"></div>\r\n\r\n                    <div class=\"navitem text-center\" [class.active]=\"activeTabIndex === 1\" (click)=\"changeTabs($event, 1)\"\r\n                        style=\"border: 0; z-index:2; \" [style.width.px]=\"tabWidth\">{{'datagrid.settings.visible' | locale}}</div>\r\n                    <div class=\"navitem text-center\" *ngIf=\"canSetColumnSort\" [class.active]=\"activeTabIndex === 2 && canSetColumnSort\" (click)=\"changeTabs($event, 2)\" \r\n                    style=\"border: 0;z-index:2;\" [style.width.px]=\"tabWidth\">{{'datagrid.settings.sortting' | locale}}</div>\r\n                    <div class=\"navitem text-center\" *ngIf=\"gridInstance?.groupRows\"\r\n                        [class.active]=\"activeTabIndex === 3\" (click)=\"changeTabs($event, 3)\" \r\n                        style=\"border: 0;z-index:2;\" [style.width.px]=\"tabWidth\">{{'datagrid.settings.groupping' | locale}}</div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <div class=\"close\">\r\n            <span class=\"f-icon modal_close\" (click)=\"onCancelClick($event)\"></span>\r\n        </div>\r\n    </div>\r\n\r\n    <div class=\"f-utils-fill tabs-container\" [ngSwitch]=\"activeTabIndex\" >\r\n        <ng-container *ngSwitchCase=\"1\">\r\n            <column-format-setting [(fields)]=\"viewColumns\" [columns]=\"columns\" #colFormatSettings\r\n                (formatChange)=\"onColumnFormatChange($event)\" \r\n                [enableMultipleHeaders]=\"enableMultipleHeaders\"\r\n                [multiHeaderOptions]=\"multiHeaders\"></column-format-setting>\r\n        </ng-container>\r\n        <ng-container *ngSwitchCase=\"2\">\r\n            <sort-setting [treeData]=\"sortTreeData\" [selectedIds]=\"sortNames\"\r\n                (sortInfoChange)=\"onSortInfoChange($event)\"></sort-setting>\r\n        </ng-container>\r\n\r\n        <ng-container *ngSwitchCase=\"3\">\r\n            <column-group-setting [enabelGroupFooter]=\"gridInstance.groupFooter\" [(formatColumns)]=\"columnFormat\"\r\n            [(groupFields)]=\"groupField\" [(expandGroupRows)]=\"expandGroupRows\" [columns]=\"columns\"></column-group-setting>\r\n        </ng-container>\r\n    </div>\r\n\r\n    <div class=\"buttons\">\r\n        <button class=\"btn btn-link\" (click)=\"showConcise($event)\" *ngIf=\"gridInstance.enableSimpleMode\"\r\n            style=\"width: 66px;height: 32px; float: left;\">{{ 'datagrid.settings.conciseMode' | locale: '\u7B80\u6D01\u6A21\u5F0F' }}</button>\r\n\r\n        <button class=\"btn btn-link reset\" style=\"\r\n        color: black;\r\n        width: auto;\r\n        float: left;\r\n        margin-left: 20px;\r\n        cursor: default;\" *ngIf=\"gridInstance.enableScheme\">{{'datagrid-scheme.currentSheme' | locale: '\u5F53\u524D\u65B9\u6848'}}<span>{{ schemeName }}</span></button>\r\n\r\n        <button class=\"btn btn-link reset\" (click)=\"onSettingReset($event)\"\r\n            *ngIf=\"enableReset\">{{ 'datagrid.settings.reset' | locale: '\u6062\u590D\u9ED8\u8BA4' }}</button>\r\n        <button class=\"btn btn-secondary cancel\"\r\n            (click)=\"onCancelClick($event)\">{{'datagrid.settings.cancel' | locale}}</button>\r\n        <button class=\"btn btn-primary ok\"\r\n            (click)=\"onSubmitClick($event)\">{{'datagrid.settings.ok' | locale}}</button>\r\n    </div>\r\n\r\n</div>",
                encapsulation: ViewEncapsulation.None
            }] }
];
/** @nocollapse */
DatagridSettingsComponent.ctorParameters = () => [
    { type: ChangeDetectorRef },
    { type: Injector }
];
DatagridSettingsComponent.propDecorators = {
    enableReset: [{ type: Input }],
    columns: [{ type: Input }],
    cancelHandle: [{ type: Output }],
    submitHandle: [{ type: Output }],
    reset: [{ type: Output }],
    concise: [{ type: Output }],
    schemeInfo: [{ type: Input }],
    header: [{ type: ViewChild, args: ['header',] }],
    activeTab: [{ type: ViewChild, args: ['activeTab',] }],
    colFormatSettings: [{ type: ViewChild, args: ['colFormatSettings',] }]
};
if (false) {
    /** @type {?} */
    DatagridSettingsComponent.prototype.modalRef;
    /** @type {?} */
    DatagridSettingsComponent.prototype.gridInstance;
    /** @type {?} */
    DatagridSettingsComponent.prototype.activeTabIndex;
    /**
     * 排序列数据
     * @type {?}
     */
    DatagridSettingsComponent.prototype.sortTreeData;
    /** @type {?} */
    DatagridSettingsComponent.prototype.sortNames;
    /** @type {?} */
    DatagridSettingsComponent.prototype.sortInfo;
    /**
     * 显示列数据
     * @type {?}
     */
    DatagridSettingsComponent.prototype.viewColumns;
    /** @type {?} */
    DatagridSettingsComponent.prototype.columnFormat;
    /** @type {?} */
    DatagridSettingsComponent.prototype.groupField;
    /** @type {?} */
    DatagridSettingsComponent.prototype.expandGroupRows;
    /** @type {?} */
    DatagridSettingsComponent.prototype.canSetColumnSort;
    /** @type {?} */
    DatagridSettingsComponent.prototype.canSetColumnVisible;
    /** @type {?} */
    DatagridSettingsComponent.prototype.enableReset;
    /** @type {?} */
    DatagridSettingsComponent.prototype.columns;
    /** @type {?} */
    DatagridSettingsComponent.prototype.cancelHandle;
    /** @type {?} */
    DatagridSettingsComponent.prototype.submitHandle;
    /** @type {?} */
    DatagridSettingsComponent.prototype.reset;
    /** @type {?} */
    DatagridSettingsComponent.prototype.concise;
    /** @type {?} */
    DatagridSettingsComponent.prototype.schemeInfo;
    /** @type {?} */
    DatagridSettingsComponent.prototype.header;
    /** @type {?} */
    DatagridSettingsComponent.prototype.activeTab;
    /** @type {?} */
    DatagridSettingsComponent.prototype.colFormatSettings;
    /** @type {?} */
    DatagridSettingsComponent.prototype.searchItems;
    /** @type {?} */
    DatagridSettingsComponent.prototype.alignItems;
    /** @type {?} */
    DatagridSettingsComponent.prototype.summaryItems;
    /** @type {?} */
    DatagridSettingsComponent.prototype.summaryItems2;
    /** @type {?} */
    DatagridSettingsComponent.prototype.enableGroupFooter;
    /** @type {?} */
    DatagridSettingsComponent.prototype.fixedItems;
    /**
     * @type {?}
     * @private
     */
    DatagridSettingsComponent.prototype.localeSer;
    /**
     * @type {?}
     * @private
     */
    DatagridSettingsComponent.prototype.messager;
    /**
     * @type {?}
     * @private
     */
    DatagridSettingsComponent.prototype.render2;
    /**
     * 配置多表头相关设置
     * @type {?}
     */
    DatagridSettingsComponent.prototype.multiHeaders;
    /** @type {?} */
    DatagridSettingsComponent.prototype.enableMultipleHeaders;
    /** @type {?} */
    DatagridSettingsComponent.prototype.notifySer;
    /** @type {?} */
    DatagridSettingsComponent.prototype.schemeName;
    /** @type {?} */
    DatagridSettingsComponent.prototype.tabWidth;
    /**
     * @type {?}
     * @private
     */
    DatagridSettingsComponent.prototype.cd;
    /**
     * @type {?}
     * @private
     */
    DatagridSettingsComponent.prototype.inject;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGF0YWdyaWQtc2V0dGluZ3MuY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6Im5nOi8vQGZhcnJpcy91aS1kYXRhZ3JpZC1zZXR0aW5ncy8iLCJzb3VyY2VzIjpbImxpYi9kYXRhZ3JpZC1zZXR0aW5ncy5jb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7OztBQUFBLE9BQU8sRUFDSCxTQUFTLEVBQUUsaUJBQWlCLEVBQUUsU0FBUyxFQUFFLFVBQVUsRUFBRSxLQUFLLEVBQUUsWUFBWSxFQUN0QyxpQkFBaUIsRUFBRSxRQUFRLEVBQUUsTUFBTSxFQUFFLFNBQVMsRUFDbkYsTUFBTSxlQUFlLENBQUM7QUFHdkIsT0FBTyxFQUFFLGFBQWEsRUFBRSxNQUFNLG1CQUFtQixDQUFDO0FBQ2xELE9BQU8sRUFBRSxlQUFlLEVBQUUsTUFBTSxxQkFBcUIsQ0FBQztBQUV0RCxPQUFPLEVBQUUsNEJBQTRCLEVBQUUsTUFBTSx5REFBeUQsQ0FBQztBQUN2RyxPQUFPLEVBQUUsNEJBQTRCLEVBQUUsYUFBYSxFQUFFLHlCQUF5QixFQUFFLDRCQUE0QixFQUFFLE1BQU0sd0JBQXdCLENBQUM7QUFDOUksT0FBTyxFQUFFLGFBQWEsRUFBRSxNQUFNLG1CQUFtQixDQUFDO0FBT2xELE1BQU0sT0FBTyx5QkFBeUI7Ozs7O0lBeURsQyxZQUFvQixFQUFxQixFQUFVLE1BQWdCO1FBQS9DLE9BQUUsR0FBRixFQUFFLENBQW1CO1FBQVUsV0FBTSxHQUFOLE1BQU0sQ0FBVTtRQXREbkUsbUJBQWMsR0FBRyxDQUFDLENBQUM7Ozs7UUFHbkIsaUJBQVksR0FBRyxFQUFFLENBQUM7UUFDbEIsY0FBUyxHQUFHLEVBQUUsQ0FBQztRQUNmLGFBQVEsR0FBUSxFQUFFLENBQUM7Ozs7O1FBSW5CLGdCQUFXLEdBQUcsRUFBRSxDQUFDO1FBRWpCLGlCQUFZLEdBQUcsRUFBRSxDQUFDO1FBRWxCLGVBQVUsR0FBRyxFQUFFLENBQUM7UUFDaEIsb0JBQWUsR0FBRyxJQUFJLENBQUM7UUFF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QWtCOztJQUNsQixrREFBbUI7O0lBRW5CLHNEQUEwQjs7SUFFMUIsK0NBQWdCOzs7OztJQUVoQiw4Q0FBaUM7Ozs7O0lBQ2pDLDZDQUFrQzs7Ozs7SUFDbEMsNENBQTJCOzs7OztJQUczQixpREFBOEM7O0lBRTlDLDBEQUE4Qjs7SUFDOUIsOENBQXlCOztJQUV6QiwrQ0FBZ0I7O0lBRWhCLDZDQUFjOzs7OztJQUVGLHVDQUE2Qjs7Ozs7SUFBRSwyQ0FBd0IiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xyXG4gICAgQ29tcG9uZW50LCBWaWV3RW5jYXBzdWxhdGlvbiwgVmlld0NoaWxkLCBFbGVtZW50UmVmLCBJbnB1dCwgRXZlbnRFbWl0dGVyLFxyXG4gICAgT25Jbml0LCBPbkNoYW5nZXMsIFNpbXBsZUNoYW5nZXMsIENoYW5nZURldGVjdG9yUmVmLCBJbmplY3RvciwgT3V0cHV0LCBSZW5kZXJlcjJcclxufSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuaW1wb3J0IHsgQnNNb2RhbFJlZiB9IGZyb20gJ0BmYXJyaXMvdWktbW9kYWwnO1xyXG5pbXBvcnQgeyBEYXRhQ29sdW1uLCBEYXRhZ3JpZENvbXBvbmVudCB9IGZyb20gJ0BmYXJyaXMvdWktZGF0YWdyaWQnO1xyXG5pbXBvcnQgeyBMb2NhbGVTZXJ2aWNlIH0gZnJvbSAnQGZhcnJpcy91aS1sb2NhbGUnO1xyXG5pbXBvcnQgeyBNZXNzYWdlclNlcnZpY2UgfSBmcm9tICdAZmFycmlzL3VpLW1lc3NhZ2VyJztcclxuaW1wb3J0IHsgQ29sdW1uVHJlZU9wdGlvbnMsIFNldHRpbmdNb2RlbCB9IGZyb20gJy4vc2V0dGluZy5tb2RlbCc7XHJcbmltcG9ydCB7IENvbHVtbkZvcm1hdFNldHRpbmdDb21wb25lbnQgfSBmcm9tICcuL2NvbHVtbi1mb3JtYXQtc2V0dGluZy9jb2x1bW4tZm9ybWF0LXNldHRpbmcuY29tcG9uZW50JztcclxuaW1wb3J0IHsgZ2V0RGF0YUZpZWxkc0Zvck11bHRpSGVhZGVycywgbWVyZ2VTb3J0SW5mbywgbXVsdGlIZWFkZXJzSGFzRGF0YUZpZWxkcywgcmVzZXQyRGVmYXVsdEZvck11bHRpSGVhZGVycyB9IGZyb20gJy4vbXV0bGktaGVhZGVycy5oZWxwZXInO1xyXG5pbXBvcnQgeyBOb3RpZnlTZXJ2aWNlIH0gZnJvbSAnQGZhcnJpcy91aS1ub3RpZnknO1xyXG5cclxuQENvbXBvbmVudCh7XHJcbiAgICBzZWxlY3RvcjogJ2RhdGFncmlkLXNldHRpbmdzJyxcclxuICAgIHRlbXBsYXRlVXJsOiAnLi9kYXRhZ3JpZC1zZXR0aW5ncy5jb21wb25lbnQuaHRtbCcsXHJcbiAgICBlbmNhcHN1bGF0aW9uOiBWaWV3RW5jYXBzdWxhdGlvbi5Ob25lXHJcbn0pXHJcbmV4cG9ydCBjbGFzcyBEYXRhZ3JpZFNldHRpbmdzQ29tcG9uZW50IGltcGxlbWVudHMgT25Jbml0LCBPbkNoYW5nZXMge1xyXG4gICAgbW9kYWxSZWY6IEJzTW9kYWxSZWY7XHJcbiAgICBncmlkSW5zdGFuY2U6IERhdGFncmlkQ29tcG9uZW50O1xyXG4gICAgYWN0aXZlVGFiSW5kZXggPSAxO1xyXG5cclxuICAgIC8qKiDmjpLluo/liJfmlbDmja4gKi9cclxuICAgIHNvcnRUcmVlRGF0YSA9IFtdO1xyXG4gICAgc29ydE5hbWVzID0gW107XHJcbiAgICBzb3J0SW5mbzogYW55ID0ge307XHJcblxyXG4gICAgLyoqIOaYvuekuuWIl+aVsOaNriAqL1xyXG4gICAgLy8gdmlld1RyZWVEYXRhID0gW107XHJcbiAgICB2aWV3Q29sdW1ucyA9IFtdO1xyXG5cclxuICAgIGNvbHVtbkZvcm1hdCA9IFtdO1xyXG5cclxuICAgIGdyb3VwRmllbGQgPSBbXTtcclxuICAgIGV4cGFuZEdyb3VwUm93cyA9IHRydWU7XHJcblxyXG4gICAgY2FuU2V0Q29sdW1uU29ydCA9IHRydWU7XHJcbiAgICBjYW5TZXRDb2x1bW5WaXNpYmxlID0gdHJ1ZTtcclxuICAgIEBJbnB1dCgpIGVuYWJsZVJlc2V0ID0gZmFsc2U7XHJcbiAgICBASW5wdXQoKSBjb2x1bW5zOiBEYXRhQ29sdW1uW11bXTtcclxuXHJcbiAgICBAT3V0cHV0KCkgY2FuY2VsSGFuZGxlID0gbmV3IEV2ZW50RW1pdHRlcigpO1xyXG4gICAgQE91dHB1dCgpIHN1Ym1pdEhhbmRsZSA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcclxuICAgIEBPdXRwdXQoKSByZXNldCA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcclxuICAgIEBPdXRwdXQoKSBjb25jaXNlID0gbmV3IEV2ZW50RW1pdHRlcigpO1xyXG4gICAgQElucHV0KCkgc2NoZW1lSW5mbzogU2V0dGluZ01vZGVsID0gbnVsbDtcclxuXHJcbiAgICBAVmlld0NoaWxkKCdoZWFkZXInKSBoZWFkZXI6IEVsZW1lbnRSZWY7XHJcbiAgICBAVmlld0NoaWxkKCdhY3RpdmVUYWInKSBhY3RpdmVUYWI6IEVsZW1lbnRSZWY7XHJcbiAgICBAVmlld0NoaWxkKCdjb2xGb3JtYXRTZXR0aW5ncycpIGNvbEZvcm1hdFNldHRpbmdzOiBDb2x1bW5Gb3JtYXRTZXR0aW5nQ29tcG9uZW50XHJcblxyXG4gICAgc2VhcmNoSXRlbXMgPSBbXTtcclxuICAgIGFsaWduSXRlbXMgPSBbXTtcclxuICAgIHN1bW1hcnlJdGVtcyA9IFtdO1xyXG4gICAgc3VtbWFyeUl0ZW1zMiA9IFtdO1xyXG5cclxuICAgIGVuYWJsZUdyb3VwRm9vdGVyID0gZmFsc2U7XHJcblxyXG4gICAgZml4ZWRJdGVtcyA9IFtdO1xyXG5cclxuICAgIHByaXZhdGUgbG9jYWxlU2VyOiBMb2NhbGVTZXJ2aWNlO1xyXG4gICAgcHJpdmF0ZSBtZXNzYWdlcjogTWVzc2FnZXJTZXJ2aWNlO1xyXG4gICAgcHJpdmF0ZSByZW5kZXIyOiBSZW5kZXJlcjI7XHJcblxyXG4gICAgLyoqIOmFjee9ruWkmuihqOWktOebuOWFs+iuvue9riAqL1xyXG4gICAgbXVsdGlIZWFkZXJzOiBQYXJ0aWFsPENvbHVtblRyZWVPcHRpb25zPiA9IHt9O1xyXG4gICAgLy8g5ZCv55So5aSa6KGo5aS0XHJcbiAgICBlbmFibGVNdWx0aXBsZUhlYWRlcnMgPSBmYWxzZTtcclxuICAgIG5vdGlmeVNlcjogTm90aWZ5U2VydmljZTtcclxuXHJcbiAgICBzY2hlbWVOYW1lID0gJyc7XHJcblxyXG4gICAgdGFiV2lkdGggPSA3MDtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIGNkOiBDaGFuZ2VEZXRlY3RvclJlZiwgcHJpdmF0ZSBpbmplY3Q6IEluamVjdG9yKSB7XHJcbiAgICAgICAgdGhpcy5tZXNzYWdlciA9IHRoaXMuaW5qZWN0LmdldChNZXNzYWdlclNlcnZpY2UsIG51bGwpO1xyXG4gICAgICAgIHRoaXMubG9jYWxlU2VyID0gdGhpcy5pbmplY3QuZ2V0KExvY2FsZVNlcnZpY2UpO1xyXG4gICAgICAgIHRoaXMucmVuZGVyMiA9IHRoaXMuaW5qZWN0LmdldChSZW5kZXJlcjIsIG51bGwpO1xyXG4gICAgICAgIHRoaXMubm90aWZ5U2VyID0gdGhpcy5pbmplY3QuZ2V0KE5vdGlmeVNlcnZpY2UsIG51bGwpO1xyXG4gICAgICAgIHRoaXMuc2VhcmNoSXRlbXMgPSBbXHJcbiAgICAgICAgICAgIHsgdmFsdWU6ICdhbGwnLCB0aXRsZTogdGhpcy5sb2NhbGVTZXIuZ2V0VmFsdWUoJ2RhdGFncmlkLnNldHRpbmdzLmFsbENvbHVtbnMnKSB9LFxyXG4gICAgICAgICAgICB7IHZhbHVlOiAndmlzaWJsZScsIHRpdGxlOiB0aGlzLmxvY2FsZVNlci5nZXRWYWx1ZSgnZGF0YWdyaWQuc2V0dGluZ3MudmlzaWJsZUNvbHVtbnMnKSB9LFxyXG4gICAgICAgICAgICB7IHZhbHVlOiAnaGlkZGVuJywgdGl0bGU6IHRoaXMubG9jYWxlU2VyLmdldFZhbHVlKCdkYXRhZ3JpZC5zZXR0aW5ncy5oaWRkZW5Db2x1bW5zJykgfVxyXG4gICAgICAgIF07XHJcblxyXG4gICAgICAgIHRoaXMuYWxpZ25JdGVtcyA9IFtcclxuICAgICAgICAgICAgeyB2YWx1ZTogJ2xlZnQnLCB0aXRsZTogdGhpcy5sb2NhbGVTZXIuZ2V0VmFsdWUoJ2RhdGFncmlkLnNldHRpbmdzLmFsaWduTGVmdCcpfSxcclxuICAgICAgICAgICAgeyB2YWx1ZTogJ2NlbnRlcicsIHRpdGxlOiB0aGlzLmxvY2FsZVNlci5nZXRWYWx1ZSgnZGF0YWdyaWQuc2V0dGluZ3MuYWxpZ25DZW50ZXInKX0sXHJcbiAgICAgICAgICAgIHsgdmFsdWU6ICdyaWdodCcsIHRpdGxlOiB0aGlzLmxvY2FsZVNlci5nZXRWYWx1ZSgnZGF0YWdyaWQuc2V0dGluZ3MuYWxpZ25SaWdodCcpfSxcclxuICAgICAgICBdO1xyXG5cclxuICAgICAgICB0aGlzLnN1bW1hcnlJdGVtcyA9IFtcclxuICAgICAgICAgICAgeyB2YWx1ZTogLTEsIHRpdGxlOiB0aGlzLmxvY2FsZVNlci5nZXRWYWx1ZSgnZGF0YWdyaWQuc2V0dGluZ3Muc3VtbWFyeU5vbmUnKSB9LFxyXG4gICAgICAgICAgICB7IHZhbHVlOiAyLCB0aXRsZTogdGhpcy5sb2NhbGVTZXIuZ2V0VmFsdWUoJ2RhdGFncmlkLnNldHRpbmdzLnN1bW1hcnlTdW0nKSB9LFxyXG4gICAgICAgICAgICB7IHZhbHVlOiAwLCB0aXRsZTogdGhpcy5sb2NhbGVTZXIuZ2V0VmFsdWUoJ2RhdGFncmlkLnNldHRpbmdzLnN1bW1hcnlNYXgnKSB9LFxyXG4gICAgICAgICAgICB7IHZhbHVlOiAxLCB0aXRsZTogdGhpcy5sb2NhbGVTZXIuZ2V0VmFsdWUoJ2RhdGFncmlkLnNldHRpbmdzLnN1bW1hcnlNaW4nKSB9LFxyXG4gICAgICAgICAgICB7IHZhbHVlOiAzLCB0aXRsZTogdGhpcy5sb2NhbGVTZXIuZ2V0VmFsdWUoJ2RhdGFncmlkLnNldHRpbmdzLnN1bW1hcnlBdmVyYWdlJykgfSxcclxuICAgICAgICAgICAgeyB2YWx1ZTogNCwgdGl0bGU6IHRoaXMubG9jYWxlU2VyLmdldFZhbHVlKCdkYXRhZ3JpZC5zZXR0aW5ncy5zdW1tYXJDb3VudCcpIH0sXHJcbiAgICAgICAgXTtcclxuXHJcbiAgICAgICAgdGhpcy5zdW1tYXJ5SXRlbXMyID0gW1xyXG4gICAgICAgICAgICB7IHZhbHVlOiAtMSwgdGl0bGU6IHRoaXMubG9jYWxlU2VyLmdldFZhbHVlKCdkYXRhZ3JpZC5zZXR0aW5ncy5zdW1tYXJ5Tm9uZScpIH0sXHJcbiAgICAgICAgICAgIHsgdmFsdWU6IDQsIHRpdGxlOiB0aGlzLmxvY2FsZVNlci5nZXRWYWx1ZSgnZGF0YWdyaWQuc2V0dGluZ3Muc3VtbWFyQ291bnQnKSB9LFxyXG4gICAgICAgIF07XHJcblxyXG4gICAgICAgIHRoaXMuZml4ZWRJdGVtcyA9IFtcclxuICAgICAgICAgICAgeyB2YWx1ZTogJ1VORklYRUQnLCB0aXRsZTogdGhpcy5sb2NhbGVTZXIuZ2V0VmFsdWUoJ2RhdGFncmlkLXNldHRpbmdzLmNvbHVtbi51bkZpeGVkJykgfSxcclxuICAgICAgICAgICAgeyB2YWx1ZTogJ2xlZnQnLCB0aXRsZTogdGhpcy5sb2NhbGVTZXIuZ2V0VmFsdWUoJ2RhdGFncmlkLXNldHRpbmdzLmNvbHVtbi5sZWZ0Rml4ZWQnKSB9LFxyXG4gICAgICAgICAgICB7IHZhbHVlOiAncmlnaHQnLCB0aXRsZTogdGhpcy5sb2NhbGVTZXIuZ2V0VmFsdWUoJ2RhdGFncmlkLXNldHRpbmdzLmNvbHVtbi5yaWdodEZpeGVkJykgfSxcclxuICAgICAgICBdXHJcblxyXG4gICAgICAgIGlmICh0aGlzLmxvY2FsZVNlci5sb2NhbGVJZCA9PT0gJ2VuJykge1xyXG4gICAgICAgICAgICB0aGlzLnRhYldpZHRoID0gODA7XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGluaXREYXRhKCkge1xyXG4gICAgICAgIHRoaXMuc29ydE5hbWVzID0gdGhpcy5ncmlkSW5zdGFuY2Uuc29ydE5hbWUgPyB0aGlzLmdyaWRJbnN0YW5jZS5zb3J0TmFtZS5zcGxpdCgnLCcpIDogW107XHJcbiAgICAgICAgY29uc3Qgc29ydE9yZGVycyA9IHRoaXMuZ3JpZEluc3RhbmNlLnNvcnRPcmRlciA/IHRoaXMuZ3JpZEluc3RhbmNlLnNvcnRPcmRlci5zcGxpdCgnLCcpIDogW107XHJcblxyXG4gICAgICAgIHRoaXMudmlld0NvbHVtbnMgPSB0aGlzLmdldFZpZXdDb2x1bW5zKCk7XHJcbiAgICAgICAgdGhpcy5zb3J0SW5mbyA9IHtzb3J0TmFtZTogdGhpcy5zb3J0TmFtZXMsIHNvcnRPcmRlcjogc29ydE9yZGVyc307XHJcbiAgICAgICAgdGhpcy5jb2x1bW5Gb3JtYXQgPSBbLi4udGhpcy5jb2x1bW5zWzBdXTtcclxuICAgICAgICB0aGlzLmdyb3VwRmllbGQgPSB0aGlzLmdyaWRJbnN0YW5jZS5ncm91cEZpZWxkID8gdGhpcy5ncmlkSW5zdGFuY2UuZ3JvdXBGaWVsZC5zcGxpdCgnLCcpIDogW107XHJcbiAgICAgICAgdGhpcy5leHBhbmRHcm91cFJvd3MgPSB0aGlzLmdyaWRJbnN0YW5jZVsnZXhwYW5kR3JvdXBSb3dzJ107XHJcblxyXG4gICAgICAgIHRoaXMuZW5hYmxlR3JvdXBGb290ZXIgPSB0aGlzLmdyaWRJbnN0YW5jZS5ncm91cEZvb3RlcjtcclxuICAgIH1cclxuXHJcbiAgICBuZ09uSW5pdCgpIHtcclxuICAgICAgICBpZiAoIXRoaXMuZ3JpZEluc3RhbmNlLmVuYWJsZVNjaGVtZSkge1xyXG4gICAgICAgICAgICB0aGlzLmluaXREYXRhKCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuc2NoZW1lSW5mbykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zb3J0SW5mbyA9IHRoaXMuc2NoZW1lSW5mby5zb3J0SW5mbyB8fCB7fTtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnNvcnRJbmZvKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zb3J0TmFtZXMgPSB0aGlzLnNvcnRJbmZvLnNvcnROYW1lIHx8ICcnO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhpcy52aWV3Q29sdW1ucyA9IHRoaXMuc2NoZW1lSW5mby52aWV3Q29sdW1ucztcclxuICAgICAgICAgICAgICAgIHRoaXMuY29sdW1uRm9ybWF0ID0gdGhpcy5zY2hlbWVJbmZvLmNvbHVtbkZvcm1hdDtcclxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5jb2x1bW5Gb3JtYXQpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbHVtbkZvcm1hdCA9IFsuLi50aGlzLmNvbHVtbnNbMF1dO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnNjaGVtZUluZm8uZ3JvdXBGaWVsZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdGhpcy5zY2hlbWVJbmZvLmdyb3VwRmllbGQgPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZ3JvdXBGaWVsZCA9ICh0aGlzLnNjaGVtZUluZm8uZ3JvdXBGaWVsZCBhcyBhbnkpLnNwbGl0KCcsJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5ncm91cEZpZWxkID0gdGhpcy5zY2hlbWVJbmZvLmdyb3VwRmllbGQgfHwgW107XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmdyb3VwRmllbGQgPSBbXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMuZXhwYW5kR3JvdXBSb3dzID0gISF0aGlzLnNjaGVtZUluZm8uZXhwYW5kR3JvdXBSb3dzO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy8g57O757uf6aKE5Yi2XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlc2V0MkRlZmF1bHQoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBuZ09uQ2hhbmdlcyhjaGFuZ2VzOiBTaW1wbGVDaGFuZ2VzKSB7XHJcbiAgICB9XHJcblxyXG4gICAgY2xvc2UoJGV2ZW50OiBNb3VzZUV2ZW50KSB7XHJcbiAgICAgICAgJGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgIGlmICh0aGlzLm1vZGFsUmVmKSB7XHJcbiAgICAgICAgICAgIHRoaXMubW9kYWxSZWYuY2xvc2UoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBzZXRDdXJyZW50VGFiKHRhYjogSFRNTEVsZW1lbnQgPSBudWxsKSB7XHJcbiAgICAgICAgaWYgKHRoaXMucmVuZGVyMikge1xyXG5cclxuICAgICAgICAgICAgbGV0IGxlZnQgPSAwO1xyXG5cclxuICAgICAgICAgICAgY29uc3QgdGFicyA9IEFycmF5LmZyb20odGhpcy5oZWFkZXIubmF0aXZlRWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKCcubmF2aXRlbScpKTtcclxuICAgICAgICAgICAgbGV0IGluZGV4ID0gdGhpcy5hY3RpdmVUYWJJbmRleDtcclxuICAgICAgICAgICAgaWYgKHRhYnMubGVuZ3RoICE9PSAzKSB7XHJcbiAgICAgICAgICAgICAgICBpbmRleCA9IHRhYnMuZmluZEluZGV4KG4gPT4gbiA9PT0gdGFiKSArIDE7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgc3dpdGNoKGluZGV4KSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDI6XHJcbiAgICAgICAgICAgICAgICAgICAgbGVmdCA9IHRoaXMubG9jYWxlU2VyLmxvY2FsZUlkID09PSAnZW4nPyA3ODogNjg7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDM6XHJcbiAgICAgICAgICAgICAgICAgICAgbGVmdCA9IHRoaXMubG9jYWxlU2VyLmxvY2FsZUlkID09PSAnZW4nID8xNTg6IDEzODtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgbGVmdCA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMucmVuZGVyMi5zZXRTdHlsZSh0aGlzLmFjdGl2ZVRhYi5uYXRpdmVFbGVtZW50LCAndHJhbnNmb3JtJywgYHRyYW5zbGF0ZTNkKCR7bGVmdH1weCwgMHB4LCAwcHgpYCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGNoYW5nZVRhYnMoJGV2ZW50OiBNb3VzZUV2ZW50LCBpZHgpIHtcclxuICAgICAgICAkZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcblxyXG4gICAgICAgIGNvbnN0IHRyZWVOb2RlcyA9IHRoaXMuZ2V0Q3VycmVudEdyb3VwSGVhZGVycygpO1xyXG4gICAgICAgIGlmKHRoaXMuYWN0aXZlVGFiSW5kZXggPT09IDEgJiYgdGhpcy5lbmFibGVNdWx0aXBsZUhlYWRlcnMpIHtcclxuICAgICAgICAgICAgdGhpcy5zZXRDdXJyZW50R3JvdXBIZWFkZXJzKHRyZWVOb2Rlcyk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5tdWx0aUhlYWRlcnMudHJlZURhdGEgPSB0cmVlTm9kZXM/IHRyZWVOb2Rlcy50cmVlRGF0YTogW107XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgaWYgKGlkeCA9PT0gMiAmJiB0aGlzLmVuYWJsZU11bHRpcGxlSGVhZGVycykge1xyXG4gICAgICAgICAgICB0aGlzLnNvcnRUcmVlRGF0YSA9IGdldERhdGFGaWVsZHNGb3JNdWx0aUhlYWRlcnModHJlZU5vZGVzLnZpZXdDb2xzKS5maWx0ZXIoIChuOiBhbnkpID0+IG4uZmllbGQuaW5kZXhPZignZmFycmlzLWRhdGFncmlkLWNvbHVtbl8nKSA9PSAtMSAmJiBuLnNvcnRhYmxlICk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoaWR4ID09PSAzKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmVuYWJsZU11bHRpcGxlSGVhZGVycykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb2x1bW5Gb3JtYXQgPSB0cmVlTm9kZXMgJiYgdHJlZU5vZGVzLnZpZXdDb2xzID8gZ2V0RGF0YUZpZWxkc0Zvck11bHRpSGVhZGVycyh0cmVlTm9kZXMudmlld0NvbHMpLmZpbHRlciggKG46IGFueSkgPT4gbi5maWVsZC5pbmRleE9mKCdmYXJyaXMtZGF0YWdyaWQtY29sdW1uXycpID09IC0xICkgOiBbXTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY29sdW1uRm9ybWF0ID0gZ2V0RGF0YUZpZWxkc0Zvck11bHRpSGVhZGVycyh0aGlzLmNvbHVtbnMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmFjdGl2ZVRhYkluZGV4ID0gaWR4O1xyXG5cclxuXHJcbiAgICAgICAgbGV0IHRhYkVsOiBhbnkgPSAkZXZlbnQudGFyZ2V0O1xyXG4gICAgICAgIGlmICghdGFiRWwuY2xhc3NMaXN0LmNvbnRhaW5zKCduYXZpdGVtJykgJiYgdGFiRWwuY2xvc2VzdCgnLm5hdml0ZW0nKSkge1xyXG4gICAgICAgICAgICB0YWJFbCA9IHRhYkVsLmNsb3Nlc3QoJy5uYXZpdGVtJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnNldEN1cnJlbnRUYWIodGFiRWwpO1xyXG4gICAgfVxyXG5cclxuICAgIG9uU29ydEluZm9DaGFuZ2Uoc29ydEluZm86IGFueSkge1xyXG4gICAgICAgIHRoaXMuc29ydEluZm8gPSBzb3J0SW5mbztcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGdldFZpZXdDb2x1bW5zKCkge1xyXG4gICAgICAgIC8vIOWkmuihqOWktFxyXG4gICAgICAgIGxldCB2aXNpYmxlQ2xzID0gW107XHJcbiAgICAgICAgaWYgKHRoaXMuY29sdW1ucy5sZW5ndGggPiAxICkge1xyXG4gICAgICAgICAgICB0aGlzLmNvbHVtbnMuZm9yRWFjaChjb2xzID0+IHtcclxuICAgICAgICAgICAgICAgIHZpc2libGVDbHMgPSB2aXNpYmxlQ2xzLmNvbmNhdCh0aGlzLl9nZXRWaWV3Q29sdW1ucyhjb2xzKSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHZpc2libGVDbHMgPSB0aGlzLmNvbHVtbnNbMF0uZmlsdGVyKG4gPT4gKG4udmlzaWJsZSB8fCBuLnZpc2libGUgPT09IHVuZGVmaW5lZCkpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHZpc2libGVDbHMubWFwKG4gPT4gbi5maWVsZCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBfZ2V0Vmlld0NvbHVtbnMoY29sczogYW55W10pIHtcclxuICAgICAgICByZXR1cm4gY29scy5maWx0ZXIoYyA9PiAhYy5jb2xzcGFuICYmIChjLnZpc2libGUgfHwgYy52aXNpYmxlID09PSB1bmRlZmluZWQpKTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgcHJpdmF0ZSBtZXJnZUNvbHVtbkZvcm1hdHMoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuc29ydEluZm8gJiYgT2JqZWN0LmtleXModGhpcy5zb3J0SW5mbykubGVuZ3RoICYmIHRoaXMuY29sdW1uRm9ybWF0ICYmIHRoaXMuY29sdW1uRm9ybWF0Lmxlbmd0aCkge1xyXG4gICAgICAgICAgICBjb25zdCB7IHNvcnROYW1lLCBzb3J0T3JkZXIgfSA9IHRoaXMuc29ydEluZm87XHJcbiAgICAgICAgICAgIGlmIChzb3J0TmFtZSAmJiBzb3J0TmFtZS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgIHNvcnROYW1lLmZvckVhY2goKG4sIGkpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBjb2wgPSB0aGlzLmNvbHVtbkZvcm1hdC5maW5kKChjb2w6IGFueSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY29sLmZpZWxkID09PSBuO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjb2wpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29sLnNvcnRhYmxlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29sLm9yZGVyID0gc29ydE9yZGVyW2ldIHx8ICdhc2MnO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiAx44CB5Y+q5pyJ5LiA57uE6KGo5aS077yM5LiU5Zu65a6a5Zyo5bem5L6n5oiW5Y+z5L6n5pe277yM5oyJ5peg5Zu65a6a5YiX5pa55byP5aSE55CGXHJcbiAgICAgICAgICogMuOAgeWPquacieW3puS+p+OAgeWPs+S+p+WbuuWumuWIl+iAjOayoeacieWFtuS7luato+W4uOWIl+aXtu+8jOWPlua2iOWPs+S+p+WbuuWumuWIl1xyXG4gICAgICAgICAqIDPjgIHlj6rmnInlt6bkvqfmiJblj7Pkvqflm7rlrprml7bvvIzmjInml6Dlm7rlrprliJflpITnkIZcclxuICAgICAgICAgKi9cclxuICAgICAgICBjb25zdCBfY29sdW1uc0Zvcm1hdCA9IHRoaXMuY29sdW1uRm9ybWF0O1xyXG4gICAgICAgIGlmICghX2NvbHVtbnNGb3JtYXQuZmlsdGVyKG4gPT4gKCFuLmZpeGVkIHx8IG4uZml4ZWQgPT09ICdVTkZJWEVEJykgJiYgbi52aXNpYmxlKS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgY29uc3QgY29sc0NvdW50ID0gX2NvbHVtbnNGb3JtYXQubGVuZ3RoO1xyXG4gICAgICAgICAgICBjb25zdCByaWdodENvbHMgPSBfY29sdW1uc0Zvcm1hdC5maWx0ZXIobiA9PiBuLmZpeGVkID09PSAncmlnaHQnKTtcclxuICAgICAgICAgICAgY29uc3QgbGVmdENvbHMgPSBfY29sdW1uc0Zvcm1hdC5maWx0ZXIobiA9PiBuLmZpeGVkID09PSAnbGVmdCcpO1xyXG4gICAgICAgICAgICBpZiAoIGxlZnRDb2xzLmxlbmd0aCA9PSBjb2xzQ291bnQgfHwgcmlnaHRDb2xzLmxlbmd0aCA9PSBjb2xzQ291bnQpIHtcclxuICAgICAgICAgICAgICAgIF9jb2x1bW5zRm9ybWF0LmZvckVhY2gobiA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgbi5maXhlZCA9ICcnXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGlmIChyaWdodENvbHMubGVuZ3RoID09PSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGVmdENvbHMuZm9yRWFjaCh0ID0+e1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0LmZpeGVkID0gJyc7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHJpZ2h0Q29scy5mb3JFYWNoKHQgPT57XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHQuZml4ZWQgPSAnJztcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG5cclxuICAgIG9uQ29sdW1uRm9ybWF0Q2hhbmdlKGNvbEZvcm1hdERhdGEpIHtcclxuICAgICAgICB0aGlzLmNvbHVtbkZvcm1hdCA9IGNvbEZvcm1hdERhdGE7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBfc2hvd01lc3NhZ2VyKG1zZzogc3RyaW5nKSB7XHJcbiAgICAgICAgaWYgKHRoaXMubm90aWZ5U2VyKSB7XHJcbiAgICAgICAgICAgIHRoaXMubm90aWZ5U2VyLmluZm8obXNnKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLm1lc3NhZ2VyLmluZm8obXNnKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgb25TdWJtaXRDbGljaygkZXZlbnQpIHtcclxuICAgICAgICBpZiAodGhpcy5lbmFibGVNdWx0aXBsZUhlYWRlcnMpIHtcclxuICAgICAgICAgICAgY29uc3QgX211bHRpSGVhZGVycyA9IHRoaXMuZ2V0Q3VycmVudEdyb3VwSGVhZGVycygpO1xyXG4gICAgICAgICAgICBpZiAoX211bHRpSGVhZGVycyAmJiAhbXVsdGlIZWFkZXJzSGFzRGF0YUZpZWxkcyhfbXVsdGlIZWFkZXJzLnZpZXdDb2xzKSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fc2hvd01lc3NhZ2VyKCfor7forr7nva7ooajlpLTjgIInKTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgbWVyZ2VTb3J0SW5mbyhfbXVsdGlIZWFkZXJzLnZpZXdDb2xzLCB0aGlzLnNvcnRJbmZvKTtcclxuICAgICAgICAgICAgdGhpcy5tdWx0aUhlYWRlcnMgPSBfbXVsdGlIZWFkZXJzO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMubXVsdGlIZWFkZXJzID0gbnVsbDtcclxuICAgICAgICAgICAgdGhpcy5tZXJnZUNvbHVtbkZvcm1hdHMoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5zdWJtaXRIYW5kbGUuZW1pdCgkZXZlbnQpO1xyXG4gICAgfVxyXG5cclxuICAgIG9uQ2FuY2VsQ2xpY2soJGV2ZW50KSB7XHJcbiAgICAgICAgdGhpcy5jYW5jZWxIYW5kbGUuZW1pdCgkZXZlbnQpO1xyXG4gICAgfVxyXG5cclxuICAgIG9uU2V0dGluZ1Jlc2V0KCRldmVudCkge1xyXG4gICAgICAgIGNvbnN0IHJlc3RvckRlZmF1bHRUZXh0ID0gdGhpcy5sb2NhbGVTZXIuZ2V0VmFsdWUoJ2RhdGFncmlkLnNldHRpbmdzLnJlc3RvcmVEZWZhdWx0U2V0dGluZ3NUZXh0JykgfHwgJ+ehruiupOimgeaBouWkjem7mOiupOiuvue9ruWQl++8nyc7XHJcbiAgICAgICAgdGhpcy5tZXNzYWdlci5jb25maXJtKHJlc3RvckRlZmF1bHRUZXh0KS5zdWJzY3JpYmUoKHQ6IGJvb2xlYW4pID0+IHtcclxuICAgICAgICAgICAgaWYgKHQpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmVuYWJsZU11bHRpcGxlSGVhZGVycykge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgc2V0dGluZ3MsIG11bHRpSGVhZGVyT3B0aW9ucyB9ID0gcmVzZXQyRGVmYXVsdEZvck11bHRpSGVhZGVycyh0aGlzLmdyaWRJbnN0YW5jZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qge3ZpZXdDb2x1bW5zLCBjb2x1bW5Gb3JtYXQsIHNvcnRJbmZvLGdyb3VwRmllbGQsIGV4cGFuZEdyb3VwUm93cywgbXVsdGlIZWFkZXJzfSA9IHNldHRpbmdzO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudmlld0NvbHVtbnMgPSB2aWV3Q29sdW1ucztcclxuICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNvcnRJbmZvID0gc29ydEluZm87XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zb3J0TmFtZXMgPSBzb3J0SW5mby5zb3J0TmFtZSB8fCBbXTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmdyb3VwRmllbGQgPSBncm91cEZpZWxkO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZXhwYW5kR3JvdXBSb3dzID0gZXhwYW5kR3JvdXBSb3dzO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubXVsdGlIZWFkZXJzID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2x1bW5zOiBtdWx0aUhlYWRlck9wdGlvbnMuY29sdW1ucyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHJlZURhdGE6IG11bHRpSGVhZGVycy50cmVlRGF0YVxyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29sdW1uRm9ybWF0ID0gZ2V0RGF0YUZpZWxkc0Zvck11bHRpSGVhZGVycyggbXVsdGlIZWFkZXJPcHRpb25zLmNvbHVtbnMpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0Q3VycmVudEdyb3VwSGVhZGVycyh7IHZpZXdDb2xzOiBtdWx0aUhlYWRlck9wdGlvbnMuY29sdW1ucywgdHJlZURhdGE6IG51bGwgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlc2V0MkRlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgcmVzZXQyRGVmYXVsdCgpIHtcclxuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5ncmlkSW5zdGFuY2UuZGZzWydfc3RhdGUnXS5pbml0aWFsT3B0aW9ucztcclxuICAgICAgICBpZiAob3B0aW9ucy5jb2x1bW5GaWVsZHMgJiYgb3B0aW9ucy5jb2x1bW5GaWVsZHMubGVuZ3RoKSB7XHJcblxyXG4gICAgICAgICAgICBjb25zdCBuZXdDb2x1bW5zID0gW107XHJcbiAgICAgICAgICAgIG9wdGlvbnMuY29sdW1uRmllbGRzLmZvckVhY2goYyA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoYy5maWVsZCAhPT0gJ19kYXRhZ3JpZC1zZXR0aW5nLWNvbnRyb2xfJykge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbCA9IHRoaXMuZ3JpZEluc3RhbmNlLmNvbHVtbnNbMF0uZmluZCgobjogYW55KSA9PiBuLmZpZWxkID09PSBjLmZpZWxkKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY29sKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbC52aXNpYmxlID0gYy52aXNpYmxlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2wuaGFsaWduID0gYy5oYWxpZ247XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbC5hbGlnbiA9IGMuYWxpZ247XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbC53aWR0aCA9IGMud2lkdGg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbC5mb290ZXIgPSB7Li4uYy5mb290ZXIgfHwge319O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2wuZ3JvdXBGb290ZXIgPSB7Li4uYy5ncm91cEZvb3RlciB8fCB7fX07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbC50aXRsZSA9IGMudGl0bGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbC5maXhlZCA9IGMuZml4ZWQgfHwgJyc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld0NvbHVtbnMucHVzaChjb2wpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmNvbHVtbnMgPSBbbmV3Q29sdW1uc107XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnZpZXdDb2x1bW5zID0gdGhpcy5nZXRWaWV3Q29sdW1ucygpO1xyXG5cclxuICAgICAgICBpZiAob3B0aW9ucy5zb3J0KSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHNvcnRPcmRlcnMgPSBvcHRpb25zLnNvcnQuc29ydE9yZGVyPyBvcHRpb25zLnNvcnQuc29ydE9yZGVyLnNwbGl0KCcsJykgOiBbXTtcclxuICAgICAgICAgICAgdGhpcy5zb3J0TmFtZXMgPSBvcHRpb25zLnNvcnQuc29ydE5hbWUgPyBvcHRpb25zLnNvcnQuc29ydE5hbWUuc3BsaXQoJywnKSA6IFtdO1xyXG4gICAgICAgICAgICB0aGlzLnNvcnRJbmZvID0geyBzb3J0TmFtZTogdGhpcy5zb3J0TmFtZXMsIHNvcnRPcmRlcjogIHNvcnRPcmRlcnMgfTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLnNvcnROYW1lcyA9IFtdO1xyXG4gICAgICAgICAgICB0aGlzLnNvcnRJbmZvID0ge307XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuY29sdW1uRm9ybWF0ID0gWy4uLnRoaXMuY29sdW1uc1swXV07XHJcbiAgICAgICAgdGhpcy5ncm91cEZpZWxkID0gIG9wdGlvbnMuZ3JvdXBGaWVsZCA/IG9wdGlvbnMuZ3JvdXBGaWVsZC5zcGxpdCgnLCcpIDogW107XHJcbiAgICAgICAgdGhpcy5leHBhbmRHcm91cFJvd3MgPSAhIW9wdGlvbnMuZXhwYW5kR3JvdXBSb3dzO1xyXG4gICAgICAgIHRoaXMuZW5hYmxlR3JvdXBGb290ZXIgPSAhIW9wdGlvbnMuZW5hYmxlR3JvdXBGb290ZXI7XHJcblxyXG4gICAgfVxyXG4gICAgLyoqIOaYvuekuueugOa0geaooeW8j+eql+WPoyAqL1xyXG4gICAgc2hvd0NvbmNpc2UoJGV2ZW50KSB7XHJcbiAgICAgICAgaWYgKCRldmVudCkge1xyXG4gICAgICAgICAgICAkZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy5lbmFibGVNdWx0aXBsZUhlYWRlcnMpIHtcclxuICAgICAgICAgICAgdGhpcy5tdWx0aUhlYWRlcnMgPSB0aGlzLmdldEN1cnJlbnRHcm91cEhlYWRlcnMoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMubWVyZ2VDb2x1bW5Gb3JtYXRzKCk7XHJcbiAgICAgICAgdGhpcy5jb25jaXNlLmVtaXQoKTtcclxuICAgIH1cclxuXHJcbiAgICBcclxuICAgIHByaXZhdGUgc2V0Q3VycmVudEdyb3VwSGVhZGVycyhwOiB7dmlld0NvbHM6YW55LCB0cmVlRGF0YTogYW55fSkge1xyXG4gICAgICAgIHRoaXNbJ0dST1VQX0hFQURFUlMnXSA9IHA7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0Q3VycmVudEdyb3VwSGVhZGVycygpIHtcclxuICAgICAgICBpZiAodGhpcy5jb2xGb3JtYXRTZXR0aW5ncykge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jb2xGb3JtYXRTZXR0aW5ncy5nZXRNdWx0aUhlYWRlcnMoKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpc1snR1JPVVBfSEVBREVSUyddO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbn1cclxuIl19