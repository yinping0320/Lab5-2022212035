/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import * as tslib_1 from "tslib";
import { Component, ViewEncapsulation, ViewChild, ElementRef, Input, EventEmitter, ChangeDetectorRef, Injector, Output, Renderer2 } from '@angular/core';
import { LocaleService } from '@farris/ui-locale';
import { MessagerService } from '@farris/ui-messager';
import { ColumnFormatSettingComponent } from './column-format-setting/column-format-setting.component';
import { getDataFieldsForMultiHeaders, mergeSortInfo, multiHeadersHasDataFields, reset2DefaultForMultiHeaders } from './mutli-headers.helper';
import { NotifyService } from '@farris/ui-notify';
var DatagridSettingsComponent = /** @class */ (function () {
    function DatagridSettingsComponent(cd, inject) {
        this.cd = cd;
        this.inject = inject;
        this.activeTabIndex = 1;
        /**
         * 排序列数据
         */
        this.sortTreeData = [];
        this.sortNames = [];
        this.sortInfo = {};
        /**
         * 显示列数据
         */
        // viewTreeData = [];
        this.viewColumns = [];
        this.columnFormat = [];
        this.groupField = [];
        this.expandGroupRows = true;
        this.canSetColumnSort = true;
        this.canSetColumnVisible = true;
        this.enableReset = false;
        this.cancelHandle = new EventEmitter();
        this.submitHandle = new EventEmitter();
        this.reset = new EventEmitter();
        this.concise = new EventEmitter();
        this.schemeInfo = null;
        this.searchItems = [];
        this.alignItems = [];
        this.summaryItems = [];
        this.summaryItems2 = [];
        this.enableGroupFooter = false;
        this.fixedItems = [];
        /**
         * 配置多表头相关设置
         */
        this.multiHeaders = {};
        // 启用多表头
        this.enableMultipleHeaders = false;
        this.schemeName = '';
        this.tabWidth = 70;
        this.messager = this.inject.get(MessagerService, null);
        this.localeSer = this.inject.get(LocaleService);
        this.render2 = this.inject.get(Renderer2, null);
        this.notifySer = this.inject.get(NotifyService, null);
        this.searchItems = [
            { value: 'all', title: this.localeSer.getValue('datagrid.settings.allColumns') },
            { value: 'visible', title: this.localeSer.getValue('datagrid.settings.visibleColumns') },
            { value: 'hidden', title: this.localeSer.getValue('datagrid.settings.hiddenColumns') }
        ];
        this.alignItems = [
            { value: 'left', title: this.localeSer.getValue('datagrid.settings.alignLeft') },
            { value: 'center', title: this.localeSer.getValue('datagrid.settings.alignCenter') },
            { value: 'right', title: this.localeSer.getValue('datagrid.settings.alignRight') },
        ];
        this.summaryItems = [
            { value: -1, title: this.localeSer.getValue('datagrid.settings.summaryNone') },
            { value: 2, title: this.localeSer.getValue('datagrid.settings.summarySum') },
            { value: 0, title: this.localeSer.getValue('datagrid.settings.summaryMax') },
            { value: 1, title: this.localeSer.getValue('datagrid.settings.summaryMin') },
            { value: 3, title: this.localeSer.getValue('datagrid.settings.summaryAverage') },
            { value: 4, title: this.localeSer.getValue('datagrid.settings.summarCount') },
        ];
        this.summaryItems2 = [
            { value: -1, title: this.localeSer.getValue('datagrid.settings.summaryNone') },
            { value: 4, title: this.localeSer.getValue('datagrid.settings.summarCount') },
        ];
        this.fixedItems = [
            { value: 'UNFIXED', title: this.localeSer.getValue('datagrid-settings.column.unFixed') },
            { value: 'left', title: this.localeSer.getValue('datagrid-settings.column.leftFixed') },
            { value: 'right', title: this.localeSer.getValue('datagrid-settings.column.rightFixed') },
        ];
        if (this.localeSer.localeId === 'en') {
            this.tabWidth = 80;
        }
    }
    /**
     * @private
     * @return {?}
     */
    DatagridSettingsComponent.prototype.initData = /**
     * @private
     * @return {?}
     */
    function () {
        this.sortNames = this.gridInstance.sortName ? this.gridInstance.sortName.split(',') : [];
        /** @type {?} */
        var sortOrders = this.gridInstance.sortOrder ? this.gridInstance.sortOrder.split(',') : [];
        this.viewColumns = this.getViewColumns();
        this.sortInfo = { sortName: this.sortNames, sortOrder: sortOrders };
        this.columnFormat = tslib_1.__spread(this.columns[0]);
        this.groupField = this.gridInstance.groupField ? this.gridInstance.groupField.split(',') : [];
        this.expandGroupRows = this.gridInstance['expandGroupRows'];
        this.enableGroupFooter = this.gridInstance.groupFooter;
    };
    /**
     * @return {?}
     */
    DatagridSettingsComponent.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
        if (!this.gridInstance.enableScheme) {
            this.initData();
        }
        else {
            if (this.schemeInfo) {
                this.sortInfo = this.schemeInfo.sortInfo || {};
                if (this.sortInfo) {
                    this.sortNames = this.sortInfo.sortName || '';
                }
                this.viewColumns = this.schemeInfo.viewColumns;
                this.columnFormat = this.schemeInfo.columnFormat;
                if (!this.columnFormat) {
                    this.columnFormat = tslib_1.__spread(this.columns[0]);
                }
                if (this.schemeInfo.groupField) {
                    if (typeof this.schemeInfo.groupField === 'string') {
                        this.groupField = ((/** @type {?} */ (this.schemeInfo.groupField))).split(',');
                    }
                    else {
                        this.groupField = this.schemeInfo.groupField || [];
                    }
                }
                else {
                    this.groupField = [];
                }
                this.expandGroupRows = !!this.schemeInfo.expandGroupRows;
            }
            else {
                // 系统预制
                this.reset2Default();
            }
        }
    };
    /**
     * @param {?} changes
     * @return {?}
     */
    DatagridSettingsComponent.prototype.ngOnChanges = /**
     * @param {?} changes
     * @return {?}
     */
    function (changes) {
    };
    /**
     * @param {?} $event
     * @return {?}
     */
    DatagridSettingsComponent.prototype.close = /**
     * @param {?} $event
     * @return {?}
     */
    function ($event) {
        $event.stopPropagation();
        if (this.modalRef) {
            this.modalRef.close();
        }
    };
    /**
     * @private
     * @param {?=} tab
     * @return {?}
     */
    DatagridSettingsComponent.prototype.setCurrentTab = /**
     * @private
     * @param {?=} tab
     * @return {?}
     */
    function (tab) {
        if (tab === void 0) { tab = null; }
        if (this.render2) {
            /** @type {?} */
            var left = 0;
            /** @type {?} */
            var tabs = Array.from(this.header.nativeElement.querySelectorAll('.navitem'));
            /** @type {?} */
            var index = this.activeTabIndex;
            if (tabs.length !== 3) {
                index = tabs.findIndex((/**
                 * @param {?} n
                 * @return {?}
                 */
                function (n) { return n === tab; })) + 1;
            }
            switch (index) {
                case 2:
                    left = this.localeSer.localeId === 'en' ? 78 : 68;
                    break;
                case 3:
                    left = this.localeSer.localeId === 'en' ? 158 : 138;
                    break;
                default:
                    left = 0;
                    break;
            }
            this.render2.setStyle(this.activeTab.nativeElement, 'transform', "translate3d(" + left + "px, 0px, 0px)");
        }
    };
    /**
     * @param {?} $event
     * @param {?} idx
     * @return {?}
     */
    DatagridSettingsComponent.prototype.changeTabs = /**
     * @param {?} $event
     * @param {?} idx
     * @return {?}
     */
    function ($event, idx) {
        $event.stopPropagation();
        /** @type {?} */
        var treeNodes = this.getCurrentGroupHeaders();
        if (this.activeTabIndex === 1 && this.enableMultipleHeaders) {
            this.setCurrentGroupHeaders(treeNodes);
        }
        else {
            this.multiHeaders.treeData = treeNodes ? treeNodes.treeData : [];
        }
        if (idx === 2 && this.enableMultipleHeaders) {
            this.sortTreeData = getDataFieldsForMultiHeaders(treeNodes.viewCols).filter((/**
             * @param {?} n
             * @return {?}
             */
            function (n) { return n.field.indexOf('farris-datagrid-column_') == -1 && n.sortable; }));
        }
        if (idx === 3) {
            if (this.enableMultipleHeaders) {
                this.columnFormat = treeNodes && treeNodes.viewCols ? getDataFieldsForMultiHeaders(treeNodes.viewCols).filter((/**
                 * @param {?} n
                 * @return {?}
                 */
                function (n) { return n.field.indexOf('farris-datagrid-column_') == -1; })) : [];
            }
            else {
                this.columnFormat = getDataFieldsForMultiHeaders(this.columns);
            }
        }
        this.activeTabIndex = idx;
        /** @type {?} */
        var tabEl = $event.target;
        if (!tabEl.classList.contains('navitem') && tabEl.closest('.navitem')) {
            tabEl = tabEl.closest('.navitem');
        }
        this.setCurrentTab(tabEl);
    };
    /**
     * @param {?} sortInfo
     * @return {?}
     */
    DatagridSettingsComponent.prototype.onSortInfoChange = /**
     * @param {?} sortInfo
     * @return {?}
     */
    function (sortInfo) {
        this.sortInfo = sortInfo;
    };
    /**
     * @private
     * @return {?}
     */
    DatagridSettingsComponent.prototype.getViewColumns = /**
     * @private
     * @return {?}
     */
    function () {
        var _this = this;
        // 多表头
        /** @type {?} */
        var visibleCls = [];
        if (this.columns.length > 1) {
            this.columns.forEach((/**
             * @param {?} cols
             * @return {?}
             */
            function (cols) {
                visibleCls = visibleCls.concat(_this._getViewColumns(cols));
            }));
        }
        else {
            visibleCls = this.columns[0].filter((/**
             * @param {?} n
             * @return {?}
             */
            function (n) { return (n.visible || n.visible === undefined); }));
        }
        return visibleCls.map((/**
         * @param {?} n
         * @return {?}
         */
        function (n) { return n.field; }));
    };
    /**
     * @private
     * @param {?} cols
     * @return {?}
     */
    DatagridSettingsComponent.prototype._getViewColumns = /**
     * @private
     * @param {?} cols
     * @return {?}
     */
    function (cols) {
        return cols.filter((/**
         * @param {?} c
         * @return {?}
         */
        function (c) { return !c.colspan && (c.visible || c.visible === undefined); }));
    };
    /**
     * @private
     * @return {?}
     */
    DatagridSettingsComponent.prototype.mergeColumnFormats = /**
     * @private
     * @return {?}
     */
    function () {
        var _this = this;
        if (this.sortInfo && Object.keys(this.sortInfo).length && this.columnFormat && this.columnFormat.length) {
            var _a = this.sortInfo, sortName = _a.sortName, sortOrder_1 = _a.sortOrder;
            if (sortName && sortName.length) {
                sortName.forEach((/**
                 * @param {?} n
                 * @param {?} i
                 * @return {?}
                 */
                function (n, i) {
                    /** @type {?} */
                    var col = _this.columnFormat.find((/**
                     * @param {?} col
                     * @return {?}
                     */
                    function (col) {
                        return col.field === n;
                    }));
                    if (col) {
                        col.sortable = true;
                        col.order = sortOrder_1[i] || 'asc';
                    }
                }));
            }
        }
        /**
         * 1、只有一组表头，且固定在左侧或右侧时，按无固定列方式处理
         * 2、只有左侧、右侧固定列而没有其他正常列时，取消右侧固定列
         * 3、只有左侧或右侧固定时，按无固定列处理
         * @type {?}
         */
        var _columnsFormat = this.columnFormat;
        if (!_columnsFormat.filter((/**
         * @param {?} n
         * @return {?}
         */
        function (n) { return (!n.fixed || n.fixed === 'UNFIXED') && n.visible; })).length) {
            /** @type {?} */
            var colsCount = _columnsFormat.length;
            /** @type {?} */
            var rightCols = _columnsFormat.filter((/**
             * @param {?} n
             * @return {?}
             */
            function (n) { return n.fixed === 'right'; }));
            /** @type {?} */
            var leftCols = _columnsFormat.filter((/**
             * @param {?} n
             * @return {?}
             */
            function (n) { return n.fixed === 'left'; }));
            if (leftCols.length == colsCount || rightCols.length == colsCount) {
                _columnsFormat.forEach((/**
                 * @param {?} n
                 * @return {?}
                 */
                function (n) {
                    n.fixed = '';
                }));
            }
            else {
                if (rightCols.length === 1) {
                    leftCols.forEach((/**
                     * @param {?} t
                     * @return {?}
                     */
                    function (t) {
                        t.fixed = '';
                    }));
                }
                else {
                    rightCols.forEach((/**
                     * @param {?} t
                     * @return {?}
                     */
                    function (t) {
                        t.fixed = '';
                    }));
                }
            }
        }
    };
    /**
     * @param {?} colFormatData
     * @return {?}
     */
    DatagridSettingsComponent.prototype.onColumnFormatChange = /**
     * @param {?} colFormatData
     * @return {?}
     */
    function (colFormatData) {
        this.columnFormat = colFormatData;
    };
    /**
     * @private
     * @param {?} msg
     * @return {?}
     */
    DatagridSettingsComponent.prototype._showMessager = /**
     * @private
     * @param {?} msg
     * @return {?}
     */
    function (msg) {
        if (this.notifySer) {
            this.notifySer.info(msg);
        }
        else {
            this.messager.info(msg);
        }
    };
    /**
     * @param {?} $event
     * @return {?}
     */
    DatagridSettingsComponent.prototype.onSubmitClick = /**
     * @param {?} $event
     * @return {?}
     */
    function ($event) {
        if (this.enableMultipleHeaders) {
            /** @type {?} */
            var _multiHeaders = this.getCurrentGroupHeaders();
            if (_multiHeaders && !multiHeadersHasDataFields(_multiHeaders.viewCols)) {
                this._showMessager('请设置表头。');
                return;
            }
            mergeSortInfo(_multiHeaders.viewCols, this.sortInfo);
            this.multiHeaders = _multiHeaders;
        }
        else {
            this.multiHeaders = null;
            this.mergeColumnFormats();
        }
        this.submitHandle.emit($event);
    };
    /**
     * @param {?} $event
     * @return {?}
     */
    DatagridSettingsComponent.prototype.onCancelClick = /**
     * @param {?} $event
     * @return {?}
     */
    function ($event) {
        this.cancelHandle.emit($event);
    };
    /**
     * @param {?} $event
     * @return {?}
     */
    DatagridSettingsComponent.prototype.onSettingReset = /**
     * @param {?} $event
     * @return {?}
     */
    function ($event) {
        var _this = this;
        /** @type {?} */
        var restorDefaultText = this.localeSer.getValue('datagrid.settings.restoreDefaultSettingsText') || '确认要恢复默认设置吗？';
        this.messager.confirm(restorDefaultText).subscribe((/**
         * @param {?} t
         * @return {?}
         */
        function (t) {
            if (t) {
                if (_this.enableMultipleHeaders) {
                    var _a = reset2DefaultForMultiHeaders(_this.gridInstance), settings = _a.settings, multiHeaderOptions = _a.multiHeaderOptions;
                    var viewColumns = settings.viewColumns, columnFormat = settings.columnFormat, sortInfo = settings.sortInfo, groupField = settings.groupField, expandGroupRows = settings.expandGroupRows, multiHeaders = settings.multiHeaders;
                    _this.viewColumns = viewColumns;
                    _this.sortInfo = sortInfo;
                    _this.sortNames = sortInfo.sortName || [];
                    _this.groupField = groupField;
                    _this.expandGroupRows = expandGroupRows;
                    _this.multiHeaders = {
                        columns: multiHeaderOptions.columns,
                        treeData: multiHeaders.treeData
                    };
                    _this.columnFormat = getDataFieldsForMultiHeaders(multiHeaderOptions.columns);
                    _this.setCurrentGroupHeaders({ viewCols: multiHeaderOptions.columns, treeData: null });
                }
                else {
                    _this.reset2Default();
                }
            }
        }));
    };
    /**
     * @private
     * @return {?}
     */
    DatagridSettingsComponent.prototype.reset2Default = /**
     * @private
     * @return {?}
     */
    function () {
        var _this = this;
        /** @type {?} */
        var options = this.gridInstance.dfs['_state'].initialOptions;
        if (options.columnFields && options.columnFields.length) {
            /** @type {?} */
            var newColumns_1 = [];
            options.columnFields.forEach((/**
             * @param {?} c
             * @return {?}
             */
            function (c) {
                if (c.field !== '_datagrid-setting-control_') {
                    /** @type {?} */
                    var col = _this.gridInstance.columns[0].find((/**
                     * @param {?} n
                     * @return {?}
                     */
                    function (n) { return n.field === c.field; }));
                    if (col) {
                        col.visible = c.visible;
                        col.halign = c.halign;
                        col.align = c.align;
                        col.width = c.width;
                        col.footer = tslib_1.__assign({}, c.footer || {});
                        col.groupFooter = tslib_1.__assign({}, c.groupFooter || {});
                        col.title = c.title;
                        col.fixed = c.fixed || '';
                        newColumns_1.push(col);
                    }
                }
            }));
            this.columns = [newColumns_1];
        }
        this.viewColumns = this.getViewColumns();
        if (options.sort) {
            /** @type {?} */
            var sortOrders = options.sort.sortOrder ? options.sort.sortOrder.split(',') : [];
            this.sortNames = options.sort.sortName ? options.sort.sortName.split(',') : [];
            this.sortInfo = { sortName: this.sortNames, sortOrder: sortOrders };
        }
        else {
            this.sortNames = [];
            this.sortInfo = {};
        }
        this.columnFormat = tslib_1.__spread(this.columns[0]);
        this.groupField = options.groupField ? options.groupField.split(',') : [];
        this.expandGroupRows = !!options.expandGroupRows;
        this.enableGroupFooter = !!options.enableGroupFooter;
    };
    /** 显示简洁模式窗口 */
    /**
     * 显示简洁模式窗口
     * @param {?} $event
     * @return {?}
     */
    DatagridSettingsComponent.prototype.showConcise = /**
     * 显示简洁模式窗口
     * @param {?} $event
     * @return {?}
     */
    function ($event) {
        if ($event) {
            $event.stopPropagation();
        }
        if (this.enableMultipleHeaders) {
            this.multiHeaders = this.getCurrentGroupHeaders();
        }
        this.mergeColumnFormats();
        this.concise.emit();
    };
    /**
     * @private
     * @param {?} p
     * @return {?}
     */
    DatagridSettingsComponent.prototype.setCurrentGroupHeaders = /**
     * @private
     * @param {?} p
     * @return {?}
     */
    function (p) {
        this['GROUP_HEADERS'] = p;
    };
    /**
     * @return {?}
     */
    DatagridSettingsComponent.prototype.getCurrentGroupHeaders = /**
     * @return {?}
     */
    function () {
        if (this.colFormatSettings) {
            return this.colFormatSettings.getMultiHeaders();
        }
        else {
            return this['GROUP_HEADERS'];
        }
    };
    DatagridSettingsComponent.decorators = [
        { type: Component, args: [{
                    selector: 'datagrid-settings',
                    template: "<div class=\"f-datagrid-settings d-flex flex-column\" style=\"height: 100%;\">\r\n\r\n    <div class=\"d-flex justify-content-between header\" #header>\r\n        <div class=\"title\">{{'datagrid.settings.title' | locale}}</div>\r\n\r\n        <div style=\"width: 100%;\" class=\"tabs\">\r\n            <div class=\"d-flex justify-content-center\">\r\n                <div class=\"d-flex tabs-labels\" (mousedown)=\"$event.stopPropagation()\">\r\n\r\n                    <div class=\"active-tab\" #activeTab [style.width.px]=\"tabWidth - 2\"></div>\r\n\r\n                    <div class=\"navitem text-center\" [class.active]=\"activeTabIndex === 1\" (click)=\"changeTabs($event, 1)\"\r\n                        style=\"border: 0; z-index:2; \" [style.width.px]=\"tabWidth\">{{'datagrid.settings.visible' | locale}}</div>\r\n                    <div class=\"navitem text-center\" *ngIf=\"canSetColumnSort\" [class.active]=\"activeTabIndex === 2 && canSetColumnSort\" (click)=\"changeTabs($event, 2)\" \r\n                    style=\"border: 0;z-index:2;\" [style.width.px]=\"tabWidth\">{{'datagrid.settings.sortting' | locale}}</div>\r\n                    <div class=\"navitem text-center\" *ngIf=\"gridInstance?.groupRows\"\r\n                        [class.active]=\"activeTabIndex === 3\" (click)=\"changeTabs($event, 3)\" \r\n                        style=\"border: 0;z-index:2;\" [style.width.px]=\"tabWidth\">{{'datagrid.settings.groupping' | locale}}</div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <div class=\"close\">\r\n            <span class=\"f-icon modal_close\" (click)=\"onCancelClick($event)\"></span>\r\n        </div>\r\n    </div>\r\n\r\n    <div class=\"f-utils-fill tabs-container\" [ngSwitch]=\"activeTabIndex\" >\r\n        <ng-container *ngSwitchCase=\"1\">\r\n            <column-format-setting [(fields)]=\"viewColumns\" [columns]=\"columns\" #colFormatSettings\r\n                (formatChange)=\"onColumnFormatChange($event)\" \r\n                [enableMultipleHeaders]=\"enableMultipleHeaders\"\r\n                [multiHeaderOptions]=\"multiHeaders\"></column-format-setting>\r\n        </ng-container>\r\n        <ng-container *ngSwitchCase=\"2\">\r\n            <sort-setting [treeData]=\"sortTreeData\" [selectedIds]=\"sortNames\"\r\n                (sortInfoChange)=\"onSortInfoChange($event)\"></sort-setting>\r\n        </ng-container>\r\n\r\n        <ng-container *ngSwitchCase=\"3\">\r\n            <column-group-setting [enabelGroupFooter]=\"gridInstance.groupFooter\" [(formatColumns)]=\"columnFormat\"\r\n            [(groupFields)]=\"groupField\" [(expandGroupRows)]=\"expandGroupRows\" [columns]=\"columns\"></column-group-setting>\r\n        </ng-container>\r\n    </div>\r\n\r\n    <div class=\"buttons\">\r\n        <button class=\"btn btn-link\" (click)=\"showConcise($event)\" *ngIf=\"gridInstance.enableSimpleMode\"\r\n            style=\"width: 66px;height: 32px; float: left;\">{{ 'datagrid.settings.conciseMode' | locale: '\u7B80\u6D01\u6A21\u5F0F' }}</button>\r\n\r\n        <button class=\"btn btn-link reset\" style=\"\r\n        color: black;\r\n        width: auto;\r\n        float: left;\r\n        margin-left: 20px;\r\n        cursor: default;\" *ngIf=\"gridInstance.enableScheme\">{{'datagrid-scheme.currentSheme' | locale: '\u5F53\u524D\u65B9\u6848'}}<span>{{ schemeName }}</span></button>\r\n\r\n        <button class=\"btn btn-link reset\" (click)=\"onSettingReset($event)\"\r\n            *ngIf=\"enableReset\">{{ 'datagrid.settings.reset' | locale: '\u6062\u590D\u9ED8\u8BA4' }}</button>\r\n        <button class=\"btn btn-secondary cancel\"\r\n            (click)=\"onCancelClick($event)\">{{'datagrid.settings.cancel' | locale}}</button>\r\n        <button class=\"btn btn-primary ok\"\r\n            (click)=\"onSubmitClick($event)\">{{'datagrid.settings.ok' | locale}}</button>\r\n    </div>\r\n\r\n</div>",
                    encapsulation: ViewEncapsulation.None
                }] }
    ];
    /** @nocollapse */
    DatagridSettingsComponent.ctorParameters = function () { return [
        { type: ChangeDetectorRef },
        { type: Injector }
    ]; };
    DatagridSettingsComponent.propDecorators = {
        enableReset: [{ type: Input }],
        columns: [{ type: Input }],
        cancelHandle: [{ type: Output }],
        submitHandle: [{ type: Output }],
        reset: [{ type: Output }],
        concise: [{ type: Output }],
        schemeInfo: [{ type: Input }],
        header: [{ type: ViewChild, args: ['header',] }],
        activeTab: [{ type: ViewChild, args: ['activeTab',] }],
        colFormatSettings: [{ type: ViewChild, args: ['colFormatSettings',] }]
    };
    return DatagridSettingsComponent;
}());
export { DatagridSettingsComponent };
if (false) {
    /** @type {?} */
    DatagridSettingsComponent.prototype.modalRef;
    /** @type {?} */
    DatagridSettingsComponent.prototype.gridInstance;
    /** @type {?} */
    DatagridSettingsComponent.prototype.activeTabIndex;
    /**
     * 排序列数据
     * @type {?}
     */
    DatagridSettingsComponent.prototype.sortTreeData;
    /** @type {?} */
    DatagridSettingsComponent.prototype.sortNames;
    /** @type {?} */
    DatagridSettingsComponent.prototype.sortInfo;
    /**
     * 显示列数据
     * @type {?}
     */
    DatagridSettingsComponent.prototype.viewColumns;
    /** @type {?} */
    DatagridSettingsComponent.prototype.columnFormat;
    /** @type {?} */
    DatagridSettingsComponent.prototype.groupField;
    /** @type {?} */
    DatagridSettingsComponent.prototype.expandGroupRows;
    /** @type {?} */
    DatagridSettingsComponent.prototype.canSetColumnSort;
    /** @type {?} */
    DatagridSettingsComponent.prototype.canSetColumnVisible;
    /** @type {?} */
    DatagridSettingsComponent.prototype.enableReset;
    /** @type {?} */
    DatagridSettingsComponent.prototype.columns;
    /** @type {?} */
    DatagridSettingsComponent.prototype.cancelHandle;
    /** @type {?} */
    DatagridSettingsComponent.prototype.submitHandle;
    /** @type {?} */
    DatagridSettingsComponent.prototype.reset;
    /** @type {?} */
    DatagridSettingsComponent.prototype.concise;
    /** @type {?} */
    DatagridSettingsComponent.prototype.schemeInfo;
    /** @type {?} */
    DatagridSettingsComponent.prototype.header;
    /** @type {?} */
    DatagridSettingsComponent.prototype.activeTab;
    /** @type {?} */
    DatagridSettingsComponent.prototype.colFormatSettings;
    /** @type {?} */
    DatagridSettingsComponent.prototype.searchItems;
    /** @type {?} */
    DatagridSettingsComponent.prototype.alignItems;
    /** @type {?} */
    DatagridSettingsComponent.prototype.summaryItems;
    /** @type {?} */
    DatagridSettingsComponent.prototype.summaryItems2;
    /** @type {?} */
    DatagridSettingsComponent.prototype.enableGroupFooter;
    /** @type {?} */
    DatagridSettingsComponent.prototype.fixedItems;
    /**
     * @type {?}
     * @private
     */
    DatagridSettingsComponent.prototype.localeSer;
    /**
     * @type {?}
     * @private
     */
    DatagridSettingsComponent.prototype.messager;
    /**
     * @type {?}
     * @private
     */
    DatagridSettingsComponent.prototype.render2;
    /**
     * 配置多表头相关设置
     * @type {?}
     */
    DatagridSettingsComponent.prototype.multiHeaders;
    /** @type {?} */
    DatagridSettingsComponent.prototype.enableMultipleHeaders;
    /** @type {?} */
    DatagridSettingsComponent.prototype.notifySer;
    /** @type {?} */
    DatagridSettingsComponent.prototype.schemeName;
    /** @type {?} */
    DatagridSettingsComponent.prototype.tabWidth;
    /**
     * @type {?}
     * @private
     */
    DatagridSettingsComponent.prototype.cd;
    /**
     * @type {?}
     * @private
     */
    DatagridSettingsComponent.prototype.inject;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGF0YWdyaWQtc2V0dGluZ3MuY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6Im5nOi8vQGZhcnJpcy91aS1kYXRhZ3JpZC1zZXR0aW5ncy8iLCJzb3VyY2VzIjpbImxpYi9kYXRhZ3JpZC1zZXR0aW5ncy5jb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQSxPQUFPLEVBQ0gsU0FBUyxFQUFFLGlCQUFpQixFQUFFLFNBQVMsRUFBRSxVQUFVLEVBQUUsS0FBSyxFQUFFLFlBQVksRUFDdEMsaUJBQWlCLEVBQUUsUUFBUSxFQUFFLE1BQU0sRUFBRSxTQUFTLEVBQ25GLE1BQU0sZUFBZSxDQUFDO0FBR3ZCLE9BQU8sRUFBRSxhQUFhLEVBQUUsTUFBTSxtQkFBbUIsQ0FBQztBQUNsRCxPQUFPLEVBQUUsZUFBZSxFQUFFLE1BQU0scUJBQXFCLENBQUM7QUFFdEQsT0FBTyxFQUFFLDRCQUE0QixFQUFFLE1BQU0seURBQXlELENBQUM7QUFDdkcsT0FBTyxFQUFFLDRCQUE0QixFQUFFLGFBQWEsRUFBRSx5QkFBeUIsRUFBRSw0QkFBNEIsRUFBRSxNQUFNLHdCQUF3QixDQUFDO0FBQzlJLE9BQU8sRUFBRSxhQUFhLEVBQUUsTUFBTSxtQkFBbUIsQ0FBQztBQUVsRDtJQThESSxtQ0FBb0IsRUFBcUIsRUFBVSxNQUFnQjtRQUEvQyxPQUFFLEdBQUYsRUFBRSxDQUFtQjtRQUFVLFdBQU0sR0FBTixNQUFNLENBQVU7UUF0RG5FLG1CQUFjLEdBQUcsQ0FBQyxDQUFDOzs7O1FBR25CLGlCQUFZLEdBQUcsRUFBRSxDQUFDO1FBQ2xCLGNBQVMsR0FBRyxFQUFFLENBQUM7UUFDZixhQUFRLEdBQVEsRUFBRSxDQUFDOzs7OztRQUluQixnQkFBVyxHQUFHLEVBQUUsQ0FBQztRQUVqQixpQkFBWSxHQUFHLEVBQUUsQ0FBQztRQUVsQixlQUFVLEdBQUcsRUFBRSxDQUFDO1FBQ2hCLG9CQUFlLEdBQUcsSUFBSSxDQUFDO1FBRXZCLHFCQUFnQixHQUFHLElBQUks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QUluQixnREFBaUI7O0lBRWpCLGlEQUFrQjs7SUFFbEIsK0NBQWdCOztJQUNoQixvREFBdUI7O0lBRXZCLHFEQUF3Qjs7SUFDeEIsd0RBQTJCOztJQUMzQixnREFBNkI7O0lBQzdCLDRDQUFpQzs7SUFFakMsaURBQTRDOztJQUM1QyxpREFBNEM7O0lBQzVDLDBDQUFxQzs7SUFDckMsNENBQXVDOztJQUN2QywrQ0FBeUM7O0lBRXpDLDJDQUF3Qzs7SUFDeEMsOENBQThDOztJQUM5QyxzREFBK0U7O0lBRS9FLGdEQUFpQjs7SUFDakIsK0NBQWdCOztJQUNoQixpREFBa0I7O0lBQ2xCLGtEQUFtQjs7SUFFbkIsc0RBQTBCOztJQUUxQiwrQ0FBZ0I7Ozs7O0lBRWhCLDhDQUFpQzs7Ozs7SUFDakMsNkNBQWtDOzs7OztJQUNsQyw0Q0FBMkI7Ozs7O0lBRzNCLGlEQUE4Qzs7SUFFOUMsMERBQThCOztJQUM5Qiw4Q0FBeUI7O0lBRXpCLCtDQUFnQjs7SUFFaEIsNkNBQWM7Ozs7O0lBRUYsdUNBQTZCOzs7OztJQUFFLDJDQUF3QiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XHJcbiAgICBDb21wb25lbnQsIFZpZXdFbmNhcHN1bGF0aW9uLCBWaWV3Q2hpbGQsIEVsZW1lbnRSZWYsIElucHV0LCBFdmVudEVtaXR0ZXIsXHJcbiAgICBPbkluaXQsIE9uQ2hhbmdlcywgU2ltcGxlQ2hhbmdlcywgQ2hhbmdlRGV0ZWN0b3JSZWYsIEluamVjdG9yLCBPdXRwdXQsIFJlbmRlcmVyMlxyXG59IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xyXG5pbXBvcnQgeyBCc01vZGFsUmVmIH0gZnJvbSAnQGZhcnJpcy91aS1tb2RhbCc7XHJcbmltcG9ydCB7IERhdGFDb2x1bW4sIERhdGFncmlkQ29tcG9uZW50IH0gZnJvbSAnQGZhcnJpcy91aS1kYXRhZ3JpZCc7XHJcbmltcG9ydCB7IExvY2FsZVNlcnZpY2UgfSBmcm9tICdAZmFycmlzL3VpLWxvY2FsZSc7XHJcbmltcG9ydCB7IE1lc3NhZ2VyU2VydmljZSB9IGZyb20gJ0BmYXJyaXMvdWktbWVzc2FnZXInO1xyXG5pbXBvcnQgeyBDb2x1bW5UcmVlT3B0aW9ucywgU2V0dGluZ01vZGVsIH0gZnJvbSAnLi9zZXR0aW5nLm1vZGVsJztcclxuaW1wb3J0IHsgQ29sdW1uRm9ybWF0U2V0dGluZ0NvbXBvbmVudCB9IGZyb20gJy4vY29sdW1uLWZvcm1hdC1zZXR0aW5nL2NvbHVtbi1mb3JtYXQtc2V0dGluZy5jb21wb25lbnQnO1xyXG5pbXBvcnQgeyBnZXREYXRhRmllbGRzRm9yTXVsdGlIZWFkZXJzLCBtZXJnZVNvcnRJbmZvLCBtdWx0aUhlYWRlcnNIYXNEYXRhRmllbGRzLCByZXNldDJEZWZhdWx0Rm9yTXVsdGlIZWFkZXJzIH0gZnJvbSAnLi9tdXRsaS1oZWFkZXJzLmhlbHBlcic7XHJcbmltcG9ydCB7IE5vdGlmeVNlcnZpY2UgfSBmcm9tICdAZmFycmlzL3VpLW5vdGlmeSc7XHJcblxyXG5AQ29tcG9uZW50KHtcclxuICAgIHNlbGVjdG9yOiAnZGF0YWdyaWQtc2V0dGluZ3MnLFxyXG4gICAgdGVtcGxhdGVVcmw6ICcuL2RhdGFncmlkLXNldHRpbmdzLmNvbXBvbmVudC5odG1sJyxcclxuICAgIGVuY2Fwc3VsYXRpb246IFZpZXdFbmNhcHN1bGF0aW9uLk5vbmVcclxufSlcclxuZXhwb3J0IGNsYXNzIERhdGFncmlkU2V0dGluZ3NDb21wb25lbnQgaW1wbGVtZW50cyBPbkluaXQsIE9uQ2hhbmdlcyB7XHJcbiAgICBtb2RhbFJlZjogQnNNb2RhbFJlZjtcclxuICAgIGdyaWRJbnN0YW5jZTogRGF0YWdyaWRDb21wb25lbnQ7XHJcbiAgICBhY3RpdmVUYWJJbmRleCA9IDE7XHJcblxyXG4gICAgLyoqIOaOkuW6j+WIl+aVsOaNriAqL1xyXG4gICAgc29ydFRyZWVEYXRhID0gW107XHJcbiAgICBzb3J0TmFtZXMgPSBbXTtcclxuICAgIHNvcnRJbmZvOiBhbnkgPSB7fTtcclxuXHJcbiAgICAvKiog5pi+56S65YiX5pWw5o2uICovXHJcbiAgICAvLyB2aWV3VHJlZURhdGEgPSBbXTtcclxuICAgIHZpZXdDb2x1bW5zID0gW107XHJcblxyXG4gICAgY29sdW1uRm9ybWF0ID0gW107XHJcblxyXG4gICAgZ3JvdXBGaWVsZCA9IFtdO1xyXG4gICAgZXhwYW5kR3JvdXBSb3dzID0gdHJ1ZTtcclxuXHJcbiAgICBjYW5TZXRDb2x1bW5Tb3J0ID0gdHJ1ZTtcclxuICAgIGNhblNldENvbHVtblZpc2libGUgPSB0cnVlO1xyXG4gICAgQElucHV0KCkgZW5hYmxlUmVzZXQgPSBmYWxzZTtcclxuICAgIEBJbnB1dCgpIGNvbHVtbnM6IERhdGFDb2x1bW5bXVtdO1xyXG5cclxuICAgIEBPdXRwdXQoKSBjYW5jZWxIYW5kbGUgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XHJcbiAgICBAT3V0cHV0KCkgc3VibWl0SGFuZGxlID0gbmV3IEV2ZW50RW1pdHRlcigpO1xyXG4gICAgQE91dHB1dCgpIHJlc2V0ID0gbmV3IEV2ZW50RW1pdHRlcigpO1xyXG4gICAgQE91dHB1dCgpIGNvbmNpc2UgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XHJcbiAgICBASW5wdXQoKSBzY2hlbWVJbmZvOiBTZXR0aW5nTW9kZWwgPSBudWxsO1xyXG5cclxuICAgIEBWaWV3Q2hpbGQoJ2hlYWRlcicpIGhlYWRlcjogRWxlbWVudFJlZjtcclxuICAgIEBWaWV3Q2hpbGQoJ2FjdGl2ZVRhYicpIGFjdGl2ZVRhYjogRWxlbWVudFJlZjtcclxuICAgIEBWaWV3Q2hpbGQoJ2NvbEZvcm1hdFNldHRpbmdzJykgY29sRm9ybWF0U2V0dGluZ3M6IENvbHVtbkZvcm1hdFNldHRpbmdDb21wb25lbnRcclxuXHJcbiAgICBzZWFyY2hJdGVtcyA9IFtdO1xyXG4gICAgYWxpZ25JdGVtcyA9IFtdO1xyXG4gICAgc3VtbWFyeUl0ZW1zID0gW107XHJcbiAgICBzdW1tYXJ5SXRlbXMyID0gW107XHJcblxyXG4gICAgZW5hYmxlR3JvdXBGb290ZXIgPSBmYWxzZTtcclxuXHJcbiAgICBmaXhlZEl0ZW1zID0gW107XHJcblxyXG4gICAgcHJpdmF0ZSBsb2NhbGVTZXI6IExvY2FsZVNlcnZpY2U7XHJcbiAgICBwcml2YXRlIG1lc3NhZ2VyOiBNZXNzYWdlclNlcnZpY2U7XHJcbiAgICBwcml2YXRlIHJlbmRlcjI6IFJlbmRlcmVyMjtcclxuXHJcbiAgICAvKiog6YWN572u5aSa6KGo5aS055u45YWz6K6+572uICovXHJcbiAgICBtdWx0aUhlYWRlcnM6IFBhcnRpYWw8Q29sdW1uVHJlZU9wdGlvbnM+ID0ge307XHJcbiAgICAvLyDlkK/nlKjlpJrooajlpLRcclxuICAgIGVuYWJsZU11bHRpcGxlSGVhZGVycyA9IGZhbHNlO1xyXG4gICAgbm90aWZ5U2VyOiBOb3RpZnlTZXJ2aWNlO1xyXG5cclxuICAgIHNjaGVtZU5hbWUgPSAnJztcclxuXHJcbiAgICB0YWJXaWR0aCA9IDcwO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgY2Q6IENoYW5nZURldGVjdG9yUmVmLCBwcml2YXRlIGluamVjdDogSW5qZWN0b3IpIHtcclxuICAgICAgICB0aGlzLm1lc3NhZ2VyID0gdGhpcy5pbmplY3QuZ2V0KE1lc3NhZ2VyU2VydmljZSwgbnVsbCk7XHJcbiAgICAgICAgdGhpcy5sb2NhbGVTZXIgPSB0aGlzLmluamVjdC5nZXQoTG9jYWxlU2VydmljZSk7XHJcbiAgICAgICAgdGhpcy5yZW5kZXIyID0gdGhpcy5pbmplY3QuZ2V0KFJlbmRlcmVyMiwgbnVsbCk7XHJcbiAgICAgICAgdGhpcy5ub3RpZnlTZXIgPSB0aGlzLmluamVjdC5nZXQoTm90aWZ5U2VydmljZSwgbnVsbCk7XHJcbiAgICAgICAgdGhpcy5zZWFyY2hJdGVtcyA9IFtcclxuICAgICAgICAgICAgeyB2YWx1ZTogJ2FsbCcsIHRpdGxlOiB0aGlzLmxvY2FsZVNlci5nZXRWYWx1ZSgnZGF0YWdyaWQuc2V0dGluZ3MuYWxsQ29sdW1ucycpIH0sXHJcbiAgICAgICAgICAgIHsgdmFsdWU6ICd2aXNpYmxlJywgdGl0bGU6IHRoaXMubG9jYWxlU2VyLmdldFZhbHVlKCdkYXRhZ3JpZC5zZXR0aW5ncy52aXNpYmxlQ29sdW1ucycpIH0sXHJcbiAgICAgICAgICAgIHsgdmFsdWU6ICdoaWRkZW4nLCB0aXRsZTogdGhpcy5sb2NhbGVTZXIuZ2V0VmFsdWUoJ2RhdGFncmlkLnNldHRpbmdzLmhpZGRlbkNvbHVtbnMnKSB9XHJcbiAgICAgICAgXTtcclxuXHJcbiAgICAgICAgdGhpcy5hbGlnbkl0ZW1zID0gW1xyXG4gICAgICAgICAgICB7IHZhbHVlOiAnbGVmdCcsIHRpdGxlOiB0aGlzLmxvY2FsZVNlci5nZXRWYWx1ZSgnZGF0YWdyaWQuc2V0dGluZ3MuYWxpZ25MZWZ0Jyl9LFxyXG4gICAgICAgICAgICB7IHZhbHVlOiAnY2VudGVyJywgdGl0bGU6IHRoaXMubG9jYWxlU2VyLmdldFZhbHVlKCdkYXRhZ3JpZC5zZXR0aW5ncy5hbGlnbkNlbnRlcicpfSxcclxuICAgICAgICAgICAgeyB2YWx1ZTogJ3JpZ2h0JywgdGl0bGU6IHRoaXMubG9jYWxlU2VyLmdldFZhbHVlKCdkYXRhZ3JpZC5zZXR0aW5ncy5hbGlnblJpZ2h0Jyl9LFxyXG4gICAgICAgIF07XHJcblxyXG4gICAgICAgIHRoaXMuc3VtbWFyeUl0ZW1zID0gW1xyXG4gICAgICAgICAgICB7IHZhbHVlOiAtMSwgdGl0bGU6IHRoaXMubG9jYWxlU2VyLmdldFZhbHVlKCdkYXRhZ3JpZC5zZXR0aW5ncy5zdW1tYXJ5Tm9uZScpIH0sXHJcbiAgICAgICAgICAgIHsgdmFsdWU6IDIsIHRpdGxlOiB0aGlzLmxvY2FsZVNlci5nZXRWYWx1ZSgnZGF0YWdyaWQuc2V0dGluZ3Muc3VtbWFyeVN1bScpIH0sXHJcbiAgICAgICAgICAgIHsgdmFsdWU6IDAsIHRpdGxlOiB0aGlzLmxvY2FsZVNlci5nZXRWYWx1ZSgnZGF0YWdyaWQuc2V0dGluZ3Muc3VtbWFyeU1heCcpIH0sXHJcbiAgICAgICAgICAgIHsgdmFsdWU6IDEsIHRpdGxlOiB0aGlzLmxvY2FsZVNlci5nZXRWYWx1ZSgnZGF0YWdyaWQuc2V0dGluZ3Muc3VtbWFyeU1pbicpIH0sXHJcbiAgICAgICAgICAgIHsgdmFsdWU6IDMsIHRpdGxlOiB0aGlzLmxvY2FsZVNlci5nZXRWYWx1ZSgnZGF0YWdyaWQuc2V0dGluZ3Muc3VtbWFyeUF2ZXJhZ2UnKSB9LFxyXG4gICAgICAgICAgICB7IHZhbHVlOiA0LCB0aXRsZTogdGhpcy5sb2NhbGVTZXIuZ2V0VmFsdWUoJ2RhdGFncmlkLnNldHRpbmdzLnN1bW1hckNvdW50JykgfSxcclxuICAgICAgICBdO1xyXG5cclxuICAgICAgICB0aGlzLnN1bW1hcnlJdGVtczIgPSBbXHJcbiAgICAgICAgICAgIHsgdmFsdWU6IC0xLCB0aXRsZTogdGhpcy5sb2NhbGVTZXIuZ2V0VmFsdWUoJ2RhdGFncmlkLnNldHRpbmdzLnN1bW1hcnlOb25lJykgfSxcclxuICAgICAgICAgICAgeyB2YWx1ZTogNCwgdGl0bGU6IHRoaXMubG9jYWxlU2VyLmdldFZhbHVlKCdkYXRhZ3JpZC5zZXR0aW5ncy5zdW1tYXJDb3VudCcpIH0sXHJcbiAgICAgICAgXTtcclxuXHJcbiAgICAgICAgdGhpcy5maXhlZEl0ZW1zID0gW1xyXG4gICAgICAgICAgICB7IHZhbHVlOiAnVU5GSVhFRCcsIHRpdGxlOiB0aGlzLmxvY2FsZVNlci5nZXRWYWx1ZSgnZGF0YWdyaWQtc2V0dGluZ3MuY29sdW1uLnVuRml4ZWQnKSB9LFxyXG4gICAgICAgICAgICB7IHZhbHVlOiAnbGVmdCcsIHRpdGxlOiB0aGlzLmxvY2FsZVNlci5nZXRWYWx1ZSgnZGF0YWdyaWQtc2V0dGluZ3MuY29sdW1uLmxlZnRGaXhlZCcpIH0sXHJcbiAgICAgICAgICAgIHsgdmFsdWU6ICdyaWdodCcsIHRpdGxlOiB0aGlzLmxvY2FsZVNlci5nZXRWYWx1ZSgnZGF0YWdyaWQtc2V0dGluZ3MuY29sdW1uLnJpZ2h0Rml4ZWQnKSB9LFxyXG4gICAgICAgIF1cclxuXHJcbiAgICAgICAgaWYgKHRoaXMubG9jYWxlU2VyLmxvY2FsZUlkID09PSAnZW4nKSB7XHJcbiAgICAgICAgICAgIHRoaXMudGFiV2lkdGggPSA4MDtcclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgaW5pdERhdGEoKSB7XHJcbiAgICAgICAgdGhpcy5zb3J0TmFtZXMgPSB0aGlzLmdyaWRJbnN0YW5jZS5zb3J0TmFtZSA/IHRoaXMuZ3JpZEluc3RhbmNlLnNvcnROYW1lLnNwbGl0KCcsJykgOiBbXTtcclxuICAgICAgICBjb25zdCBzb3J0T3JkZXJzID0gdGhpcy5ncmlkSW5zdGFuY2Uuc29ydE9yZGVyID8gdGhpcy5ncmlkSW5zdGFuY2Uuc29ydE9yZGVyLnNwbGl0KCcsJykgOiBbXTtcclxuXHJcbiAgICAgICAgdGhpcy52aWV3Q29sdW1ucyA9IHRoaXMuZ2V0Vmlld0NvbHVtbnMoKTtcclxuICAgICAgICB0aGlzLnNvcnRJbmZvID0ge3NvcnROYW1lOiB0aGlzLnNvcnROYW1lcywgc29ydE9yZGVyOiBzb3J0T3JkZXJzfTtcclxuICAgICAgICB0aGlzLmNvbHVtbkZvcm1hdCA9IFsuLi50aGlzLmNvbHVtbnNbMF1dO1xyXG4gICAgICAgIHRoaXMuZ3JvdXBGaWVsZCA9IHRoaXMuZ3JpZEluc3RhbmNlLmdyb3VwRmllbGQgPyB0aGlzLmdyaWRJbnN0YW5jZS5ncm91cEZpZWxkLnNwbGl0KCcsJykgOiBbXTtcclxuICAgICAgICB0aGlzLmV4cGFuZEdyb3VwUm93cyA9IHRoaXMuZ3JpZEluc3RhbmNlWydleHBhbmRHcm91cFJvd3MnXTtcclxuXHJcbiAgICAgICAgdGhpcy5lbmFibGVHcm91cEZvb3RlciA9IHRoaXMuZ3JpZEluc3RhbmNlLmdyb3VwRm9vdGVyO1xyXG4gICAgfVxyXG5cclxuICAgIG5nT25Jbml0KCkge1xyXG4gICAgICAgIGlmICghdGhpcy5ncmlkSW5zdGFuY2UuZW5hYmxlU2NoZW1lKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaW5pdERhdGEoKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5zY2hlbWVJbmZvKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNvcnRJbmZvID0gdGhpcy5zY2hlbWVJbmZvLnNvcnRJbmZvIHx8IHt9O1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc29ydEluZm8pIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNvcnROYW1lcyA9IHRoaXMuc29ydEluZm8uc29ydE5hbWUgfHwgJyc7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXdDb2x1bW5zID0gdGhpcy5zY2hlbWVJbmZvLnZpZXdDb2x1bW5zO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb2x1bW5Gb3JtYXQgPSB0aGlzLnNjaGVtZUluZm8uY29sdW1uRm9ybWF0O1xyXG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLmNvbHVtbkZvcm1hdCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29sdW1uRm9ybWF0ID0gWy4uLnRoaXMuY29sdW1uc1swXV07XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc2NoZW1lSW5mby5ncm91cEZpZWxkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0aGlzLnNjaGVtZUluZm8uZ3JvdXBGaWVsZCA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5ncm91cEZpZWxkID0gKHRoaXMuc2NoZW1lSW5mby5ncm91cEZpZWxkIGFzIGFueSkuc3BsaXQoJywnKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmdyb3VwRmllbGQgPSB0aGlzLnNjaGVtZUluZm8uZ3JvdXBGaWVsZCB8fCBbXTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZ3JvdXBGaWVsZCA9IFtdO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhpcy5leHBhbmRHcm91cFJvd3MgPSAhIXRoaXMuc2NoZW1lSW5mby5leHBhbmRHcm91cFJvd3M7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvLyDns7vnu5/pooTliLZcclxuICAgICAgICAgICAgICAgIHRoaXMucmVzZXQyRGVmYXVsdCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIG5nT25DaGFuZ2VzKGNoYW5nZXM6IFNpbXBsZUNoYW5nZXMpIHtcclxuICAgIH1cclxuXHJcbiAgICBjbG9zZSgkZXZlbnQ6IE1vdXNlRXZlbnQpIHtcclxuICAgICAgICAkZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgaWYgKHRoaXMubW9kYWxSZWYpIHtcclxuICAgICAgICAgICAgdGhpcy5tb2RhbFJlZi5jbG9zZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHNldEN1cnJlbnRUYWIodGFiOiBIVE1MRWxlbWVudCA9IG51bGwpIHtcclxuICAgICAgICBpZiAodGhpcy5yZW5kZXIyKSB7XHJcblxyXG4gICAgICAgICAgICBsZXQgbGVmdCA9IDA7XHJcblxyXG4gICAgICAgICAgICBjb25zdCB0YWJzID0gQXJyYXkuZnJvbSh0aGlzLmhlYWRlci5uYXRpdmVFbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5uYXZpdGVtJykpO1xyXG4gICAgICAgICAgICBsZXQgaW5kZXggPSB0aGlzLmFjdGl2ZVRhYkluZGV4O1xyXG4gICAgICAgICAgICBpZiAodGFicy5sZW5ndGggIT09IDMpIHtcclxuICAgICAgICAgICAgICAgIGluZGV4ID0gdGFicy5maW5kSW5kZXgobiA9PiBuID09PSB0YWIpICsgMTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBzd2l0Y2goaW5kZXgpIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgICAgICAgICAgICBsZWZ0ID0gdGhpcy5sb2NhbGVTZXIubG9jYWxlSWQgPT09ICdlbic/IDc4OiA2ODtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgMzpcclxuICAgICAgICAgICAgICAgICAgICBsZWZ0ID0gdGhpcy5sb2NhbGVTZXIubG9jYWxlSWQgPT09ICdlbicgPzE1ODogMTM4O1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICBsZWZ0ID0gMDtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5yZW5kZXIyLnNldFN0eWxlKHRoaXMuYWN0aXZlVGFiLm5hdGl2ZUVsZW1lbnQsICd0cmFuc2Zvcm0nLCBgdHJhbnNsYXRlM2QoJHtsZWZ0fXB4LCAwcHgsIDBweClgKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgY2hhbmdlVGFicygkZXZlbnQ6IE1vdXNlRXZlbnQsIGlkeCkge1xyXG4gICAgICAgICRldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuXHJcbiAgICAgICAgY29uc3QgdHJlZU5vZGVzID0gdGhpcy5nZXRDdXJyZW50R3JvdXBIZWFkZXJzKCk7XHJcbiAgICAgICAgaWYodGhpcy5hY3RpdmVUYWJJbmRleCA9PT0gMSAmJiB0aGlzLmVuYWJsZU11bHRpcGxlSGVhZGVycykge1xyXG4gICAgICAgICAgICB0aGlzLnNldEN1cnJlbnRHcm91cEhlYWRlcnModHJlZU5vZGVzKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLm11bHRpSGVhZGVycy50cmVlRGF0YSA9IHRyZWVOb2Rlcz8gdHJlZU5vZGVzLnRyZWVEYXRhOiBbXTtcclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICBpZiAoaWR4ID09PSAyICYmIHRoaXMuZW5hYmxlTXVsdGlwbGVIZWFkZXJzKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc29ydFRyZWVEYXRhID0gZ2V0RGF0YUZpZWxkc0Zvck11bHRpSGVhZGVycyh0cmVlTm9kZXMudmlld0NvbHMpLmZpbHRlciggKG46IGFueSkgPT4gbi5maWVsZC5pbmRleE9mKCdmYXJyaXMtZGF0YWdyaWQtY29sdW1uXycpID09IC0xICYmIG4uc29ydGFibGUgKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChpZHggPT09IDMpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuZW5hYmxlTXVsdGlwbGVIZWFkZXJzKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbHVtbkZvcm1hdCA9IHRyZWVOb2RlcyAmJiB0cmVlTm9kZXMudmlld0NvbHMgPyBnZXREYXRhRmllbGRzRm9yTXVsdGlIZWFkZXJzKHRyZWVOb2Rlcy52aWV3Q29scykuZmlsdGVyKCAobjogYW55KSA9PiBuLmZpZWxkLmluZGV4T2YoJ2ZhcnJpcy1kYXRhZ3JpZC1jb2x1bW5fJykgPT0gLTEgKSA6IFtdO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb2x1bW5Gb3JtYXQgPSBnZXREYXRhRmllbGRzRm9yTXVsdGlIZWFkZXJzKHRoaXMuY29sdW1ucyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuYWN0aXZlVGFiSW5kZXggPSBpZHg7XHJcblxyXG5cclxuICAgICAgICBsZXQgdGFiRWw6IGFueSA9ICRldmVudC50YXJnZXQ7XHJcbiAgICAgICAgaWYgKCF0YWJFbC5jbGFzc0xpc3QuY29udGFpbnMoJ25hdml0ZW0nKSAmJiB0YWJFbC5jbG9zZXN0KCcubmF2aXRlbScpKSB7XHJcbiAgICAgICAgICAgIHRhYkVsID0gdGFiRWwuY2xvc2VzdCgnLm5hdml0ZW0nKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuc2V0Q3VycmVudFRhYih0YWJFbCk7XHJcbiAgICB9XHJcblxyXG4gICAgb25Tb3J0SW5mb0NoYW5nZShzb3J0SW5mbzogYW55KSB7XHJcbiAgICAgICAgdGhpcy5zb3J0SW5mbyA9IHNvcnRJbmZvO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZ2V0Vmlld0NvbHVtbnMoKSB7XHJcbiAgICAgICAgLy8g5aSa6KGo5aS0XHJcbiAgICAgICAgbGV0IHZpc2libGVDbHMgPSBbXTtcclxuICAgICAgICBpZiAodGhpcy5jb2x1bW5zLmxlbmd0aCA+IDEgKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY29sdW1ucy5mb3JFYWNoKGNvbHMgPT4ge1xyXG4gICAgICAgICAgICAgICAgdmlzaWJsZUNscyA9IHZpc2libGVDbHMuY29uY2F0KHRoaXMuX2dldFZpZXdDb2x1bW5zKGNvbHMpKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdmlzaWJsZUNscyA9IHRoaXMuY29sdW1uc1swXS5maWx0ZXIobiA9PiAobi52aXNpYmxlIHx8IG4udmlzaWJsZSA9PT0gdW5kZWZpbmVkKSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gdmlzaWJsZUNscy5tYXAobiA9PiBuLmZpZWxkKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIF9nZXRWaWV3Q29sdW1ucyhjb2xzOiBhbnlbXSkge1xyXG4gICAgICAgIHJldHVybiBjb2xzLmZpbHRlcihjID0+ICFjLmNvbHNwYW4gJiYgKGMudmlzaWJsZSB8fCBjLnZpc2libGUgPT09IHVuZGVmaW5lZCkpO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBwcml2YXRlIG1lcmdlQ29sdW1uRm9ybWF0cygpIHtcclxuICAgICAgICBpZiAodGhpcy5zb3J0SW5mbyAmJiBPYmplY3Qua2V5cyh0aGlzLnNvcnRJbmZvKS5sZW5ndGggJiYgdGhpcy5jb2x1bW5Gb3JtYXQgJiYgdGhpcy5jb2x1bW5Gb3JtYXQubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHsgc29ydE5hbWUsIHNvcnRPcmRlciB9ID0gdGhpcy5zb3J0SW5mbztcclxuICAgICAgICAgICAgaWYgKHNvcnROYW1lICYmIHNvcnROYW1lLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgc29ydE5hbWUuZm9yRWFjaCgobiwgaSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbCA9IHRoaXMuY29sdW1uRm9ybWF0LmZpbmQoKGNvbDogYW55KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjb2wuZmllbGQgPT09IG47XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2wuc29ydGFibGUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2wub3JkZXIgPSBzb3J0T3JkZXJbaV0gfHwgJ2FzYyc7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIDHjgIHlj6rmnInkuIDnu4TooajlpLTvvIzkuJTlm7rlrprlnKjlt6bkvqfmiJblj7Pkvqfml7bvvIzmjInml6Dlm7rlrprliJfmlrnlvI/lpITnkIZcclxuICAgICAgICAgKiAy44CB5Y+q5pyJ5bem5L6n44CB5Y+z5L6n5Zu65a6a5YiX6ICM5rKh5pyJ5YW25LuW5q2j5bi45YiX5pe277yM5Y+W5raI5Y+z5L6n5Zu65a6a5YiXXHJcbiAgICAgICAgICogM+OAgeWPquacieW3puS+p+aIluWPs+S+p+WbuuWumuaXtu+8jOaMieaXoOWbuuWumuWIl+WkhOeQhlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGNvbnN0IF9jb2x1bW5zRm9ybWF0ID0gdGhpcy5jb2x1bW5Gb3JtYXQ7XHJcbiAgICAgICAgaWYgKCFfY29sdW1uc0Zvcm1hdC5maWx0ZXIobiA9PiAoIW4uZml4ZWQgfHwgbi5maXhlZCA9PT0gJ1VORklYRUQnKSAmJiBuLnZpc2libGUpLmxlbmd0aCkge1xyXG4gICAgICAgICAgICBjb25zdCBjb2xzQ291bnQgPSBfY29sdW1uc0Zvcm1hdC5sZW5ndGg7XHJcbiAgICAgICAgICAgIGNvbnN0IHJpZ2h0Q29scyA9IF9jb2x1bW5zRm9ybWF0LmZpbHRlcihuID0+IG4uZml4ZWQgPT09ICdyaWdodCcpO1xyXG4gICAgICAgICAgICBjb25zdCBsZWZ0Q29scyA9IF9jb2x1bW5zRm9ybWF0LmZpbHRlcihuID0+IG4uZml4ZWQgPT09ICdsZWZ0Jyk7XHJcbiAgICAgICAgICAgIGlmICggbGVmdENvbHMubGVuZ3RoID09IGNvbHNDb3VudCB8fCByaWdodENvbHMubGVuZ3RoID09IGNvbHNDb3VudCkge1xyXG4gICAgICAgICAgICAgICAgX2NvbHVtbnNGb3JtYXQuZm9yRWFjaChuID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBuLmZpeGVkID0gJydcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaWYgKHJpZ2h0Q29scy5sZW5ndGggPT09IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICBsZWZ0Q29scy5mb3JFYWNoKHQgPT57XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHQuZml4ZWQgPSAnJztcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmlnaHRDb2xzLmZvckVhY2godCA9PntcclxuICAgICAgICAgICAgICAgICAgICAgICAgdC5maXhlZCA9ICcnO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxuXHJcblxyXG4gICAgb25Db2x1bW5Gb3JtYXRDaGFuZ2UoY29sRm9ybWF0RGF0YSkge1xyXG4gICAgICAgIHRoaXMuY29sdW1uRm9ybWF0ID0gY29sRm9ybWF0RGF0YTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIF9zaG93TWVzc2FnZXIobXNnOiBzdHJpbmcpIHtcclxuICAgICAgICBpZiAodGhpcy5ub3RpZnlTZXIpIHtcclxuICAgICAgICAgICAgdGhpcy5ub3RpZnlTZXIuaW5mbyhtc2cpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMubWVzc2FnZXIuaW5mbyhtc2cpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBvblN1Ym1pdENsaWNrKCRldmVudCkge1xyXG4gICAgICAgIGlmICh0aGlzLmVuYWJsZU11bHRpcGxlSGVhZGVycykge1xyXG4gICAgICAgICAgICBjb25zdCBfbXVsdGlIZWFkZXJzID0gdGhpcy5nZXRDdXJyZW50R3JvdXBIZWFkZXJzKCk7XHJcbiAgICAgICAgICAgIGlmIChfbXVsdGlIZWFkZXJzICYmICFtdWx0aUhlYWRlcnNIYXNEYXRhRmllbGRzKF9tdWx0aUhlYWRlcnMudmlld0NvbHMpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9zaG93TWVzc2FnZXIoJ+ivt+iuvue9ruihqOWktOOAgicpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBtZXJnZVNvcnRJbmZvKF9tdWx0aUhlYWRlcnMudmlld0NvbHMsIHRoaXMuc29ydEluZm8pO1xyXG4gICAgICAgICAgICB0aGlzLm11bHRpSGVhZGVycyA9IF9tdWx0aUhlYWRlcnM7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5tdWx0aUhlYWRlcnMgPSBudWxsO1xyXG4gICAgICAgICAgICB0aGlzLm1lcmdlQ29sdW1uRm9ybWF0cygpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnN1Ym1pdEhhbmRsZS5lbWl0KCRldmVudCk7XHJcbiAgICB9XHJcblxyXG4gICAgb25DYW5jZWxDbGljaygkZXZlbnQpIHtcclxuICAgICAgICB0aGlzLmNhbmNlbEhhbmRsZS5lbWl0KCRldmVudCk7XHJcbiAgICB9XHJcblxyXG4gICAgb25TZXR0aW5nUmVzZXQoJGV2ZW50KSB7XHJcbiAgICAgICAgY29uc3QgcmVzdG9yRGVmYXVsdFRleHQgPSB0aGlzLmxvY2FsZVNlci5nZXRWYWx1ZSgnZGF0YWdyaWQuc2V0dGluZ3MucmVzdG9yZURlZmF1bHRTZXR0aW5nc1RleHQnKSB8fCAn56Gu6K6k6KaB5oGi5aSN6buY6K6k6K6+572u5ZCX77yfJztcclxuICAgICAgICB0aGlzLm1lc3NhZ2VyLmNvbmZpcm0ocmVzdG9yRGVmYXVsdFRleHQpLnN1YnNjcmliZSgodDogYm9vbGVhbikgPT4ge1xyXG4gICAgICAgICAgICBpZiAodCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZW5hYmxlTXVsdGlwbGVIZWFkZXJzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgeyBzZXR0aW5ncywgbXVsdGlIZWFkZXJPcHRpb25zIH0gPSByZXNldDJEZWZhdWx0Rm9yTXVsdGlIZWFkZXJzKHRoaXMuZ3JpZEluc3RhbmNlKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCB7dmlld0NvbHVtbnMsIGNvbHVtbkZvcm1hdCwgc29ydEluZm8sZ3JvdXBGaWVsZCwgZXhwYW5kR3JvdXBSb3dzLCBtdWx0aUhlYWRlcnN9ID0gc2V0dGluZ3M7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy52aWV3Q29sdW1ucyA9IHZpZXdDb2x1bW5zO1xyXG4gICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc29ydEluZm8gPSBzb3J0SW5mbztcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNvcnROYW1lcyA9IHNvcnRJbmZvLnNvcnROYW1lIHx8IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZ3JvdXBGaWVsZCA9IGdyb3VwRmllbGQ7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5leHBhbmRHcm91cFJvd3MgPSBleHBhbmRHcm91cFJvd3M7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tdWx0aUhlYWRlcnMgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbHVtbnM6IG11bHRpSGVhZGVyT3B0aW9ucy5jb2x1bW5zLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0cmVlRGF0YTogbXVsdGlIZWFkZXJzLnRyZWVEYXRhXHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb2x1bW5Gb3JtYXQgPSBnZXREYXRhRmllbGRzRm9yTXVsdGlIZWFkZXJzKCBtdWx0aUhlYWRlck9wdGlvbnMuY29sdW1ucyk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRDdXJyZW50R3JvdXBIZWFkZXJzKHsgdmlld0NvbHM6IG11bHRpSGVhZGVyT3B0aW9ucy5jb2x1bW5zLCB0cmVlRGF0YTogbnVsbCB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVzZXQyRGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSByZXNldDJEZWZhdWx0KCkge1xyXG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLmdyaWRJbnN0YW5jZS5kZnNbJ19zdGF0ZSddLmluaXRpYWxPcHRpb25zO1xyXG4gICAgICAgIGlmIChvcHRpb25zLmNvbHVtbkZpZWxkcyAmJiBvcHRpb25zLmNvbHVtbkZpZWxkcy5sZW5ndGgpIHtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IG5ld0NvbHVtbnMgPSBbXTtcclxuICAgICAgICAgICAgb3B0aW9ucy5jb2x1bW5GaWVsZHMuZm9yRWFjaChjID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChjLmZpZWxkICE9PSAnX2RhdGFncmlkLXNldHRpbmctY29udHJvbF8nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY29sID0gdGhpcy5ncmlkSW5zdGFuY2UuY29sdW1uc1swXS5maW5kKChuOiBhbnkpID0+IG4uZmllbGQgPT09IGMuZmllbGQpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjb2wpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29sLnZpc2libGUgPSBjLnZpc2libGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbC5oYWxpZ24gPSBjLmhhbGlnbjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29sLmFsaWduID0gYy5hbGlnbjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29sLndpZHRoID0gYy53aWR0aDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29sLmZvb3RlciA9IHsuLi5jLmZvb3RlciB8fCB7fX07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbC5ncm91cEZvb3RlciA9IHsuLi5jLmdyb3VwRm9vdGVyIHx8IHt9fTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29sLnRpdGxlID0gYy50aXRsZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29sLmZpeGVkID0gYy5maXhlZCB8fCAnJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3Q29sdW1ucy5wdXNoKGNvbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuY29sdW1ucyA9IFtuZXdDb2x1bW5zXTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMudmlld0NvbHVtbnMgPSB0aGlzLmdldFZpZXdDb2x1bW5zKCk7XHJcblxyXG4gICAgICAgIGlmIChvcHRpb25zLnNvcnQpIHtcclxuICAgICAgICAgICAgY29uc3Qgc29ydE9yZGVycyA9IG9wdGlvbnMuc29ydC5zb3J0T3JkZXI/IG9wdGlvbnMuc29ydC5zb3J0T3JkZXIuc3BsaXQoJywnKSA6IFtdO1xyXG4gICAgICAgICAgICB0aGlzLnNvcnROYW1lcyA9IG9wdGlvbnMuc29ydC5zb3J0TmFtZSA/IG9wdGlvbnMuc29ydC5zb3J0TmFtZS5zcGxpdCgnLCcpIDogW107XHJcbiAgICAgICAgICAgIHRoaXMuc29ydEluZm8gPSB7IHNvcnROYW1lOiB0aGlzLnNvcnROYW1lcywgc29ydE9yZGVyOiAgc29ydE9yZGVycyB9O1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuc29ydE5hbWVzID0gW107XHJcbiAgICAgICAgICAgIHRoaXMuc29ydEluZm8gPSB7fTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5jb2x1bW5Gb3JtYXQgPSBbLi4udGhpcy5jb2x1bW5zWzBdXTtcclxuICAgICAgICB0aGlzLmdyb3VwRmllbGQgPSAgb3B0aW9ucy5ncm91cEZpZWxkID8gb3B0aW9ucy5ncm91cEZpZWxkLnNwbGl0KCcsJykgOiBbXTtcclxuICAgICAgICB0aGlzLmV4cGFuZEdyb3VwUm93cyA9ICEhb3B0aW9ucy5leHBhbmRHcm91cFJvd3M7XHJcbiAgICAgICAgdGhpcy5lbmFibGVHcm91cEZvb3RlciA9ICEhb3B0aW9ucy5lbmFibGVHcm91cEZvb3RlcjtcclxuXHJcbiAgICB9XHJcbiAgICAvKiog5pi+56S6566A5rSB5qih5byP56qX5Y+jICovXHJcbiAgICBzaG93Q29uY2lzZSgkZXZlbnQpIHtcclxuICAgICAgICBpZiAoJGV2ZW50KSB7XHJcbiAgICAgICAgICAgICRldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmVuYWJsZU11bHRpcGxlSGVhZGVycykge1xyXG4gICAgICAgICAgICB0aGlzLm11bHRpSGVhZGVycyA9IHRoaXMuZ2V0Q3VycmVudEdyb3VwSGVhZGVycygpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5tZXJnZUNvbHVtbkZvcm1hdHMoKTtcclxuICAgICAgICB0aGlzLmNvbmNpc2UuZW1pdCgpO1xyXG4gICAgfVxyXG5cclxuICAgIFxyXG4gICAgcHJpdmF0ZSBzZXRDdXJyZW50R3JvdXBIZWFkZXJzKHA6IHt2aWV3Q29sczphbnksIHRyZWVEYXRhOiBhbnl9KSB7XHJcbiAgICAgICAgdGhpc1snR1JPVVBfSEVBREVSUyddID0gcDtcclxuICAgIH1cclxuXHJcbiAgICBnZXRDdXJyZW50R3JvdXBIZWFkZXJzKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmNvbEZvcm1hdFNldHRpbmdzKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbEZvcm1hdFNldHRpbmdzLmdldE11bHRpSGVhZGVycygpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzWydHUk9VUF9IRUFERVJTJ107XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxufVxyXG4iXX0=