"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.merge = void 0;
const base_1 = require("./base");
function merge(...arg) {
    return arg.reduce((acc, cur) => {
        return Object.keys(cur).reduce((subAcc, key) => {
            const srcVal = cur[key];
            if (base_1.isObject(srcVal)) {
                subAcc[key] = merge(subAcc[key] ? subAcc[key] : {}, srcVal);
            }
            else if (base_1.isArray(srcVal)) {
                subAcc[key] = srcVal.map((item, idx) => {
                    if (base_1.isObject(item)) {
                        const curAccVal = subAcc[key] ? subAcc[key] : [];
                        return merge(curAccVal[idx] ? curAccVal[idx] : {}, item);
                    }
                    else {
                        return item;
                    }
                });
            }
            else {
                subAcc[key] = srcVal;
            }
            return subAcc;
        }, acc);
    }, {});
}
exports.merge = merge;
//# sourceMappingURL=merge.js.map