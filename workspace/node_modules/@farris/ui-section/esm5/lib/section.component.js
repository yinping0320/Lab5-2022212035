/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import * as tslib_1 from "tslib";
/*
 * @Author: 疯狂秀才(Lucas Huang)
 * @Date: 2019-08-14 15:22:21
 * @LastEditors: 疯狂秀才(Lucas Huang)
 * @LastEditTime: 2019-08-15 16:44:15
 * @QQ: 1055818239
 * @Version: v0.0.1
 */
import { Component, Input, ContentChild, HostBinding, ViewChild, Optional, NgZone, Injector, ElementRef, Renderer2, ChangeDetectorRef, } from "@angular/core";
import { FarrisSectionTitleDirective } from "./directive/section-title.directive";
import { FarrisSectionHeaderDirective } from "./directive/section-header.directive";
import { FarrisSectionHcontentDirective } from "./directive/section-hcontent.directive";
import { FarrisSectionToolbarDirective, FarrisSectionViewChangeDirective, } from "./directive/section-toolbar.directive";
import { FarrisSectionExtendDirective } from "./directive/section-extend.directive";
import { FarrisSectionContentDirective } from "./directive/section-content.directive";
import { Observable, Subject, of } from "rxjs";
import ResizeObserver from "resize-observer-polyfill";
import { map, debounceTime } from "rxjs/operators";
import { CommonUtils } from "@farris/ui-common";
var FarrisSectionComponent = /** @class */ (function () {
    function FarrisSectionComponent(inject) {
        this.inject = inject;
        this.contentCls = "";
        this.maxStatus = false;
        this.baseCls = true;
        this.maxStatusCls = false;
        // 是否显示header
        this.showHeader = true;
        // 是否支持最大化
        this.enableMaximize = false;
        // 最大化时，内容是否填充——一般表格填充、表单填写区域是滚动
        this.maxContentFill = true;
        /**
         * 是否启用収折功能
         * 默认不启用収折,值为''
         * 启用默认収折,值为'default'
         * 启用自定义収折,值为 'custom'
         *
         */
        this.enableAccordion = "";
        // section是否铺满
        this.fill = false;
        // 默认是是否展开
        this.expandStatus = true;
        // 就来按钮位置
        this.toolbarPosition = "";
        //
        this.toolbarBtns = [];
        // 工具栏按钮
        this._toolbar = null;
        //标记按钮工具栏是否隐藏[更多]按钮
        this.toolbarDpHidden = true;
        // 参照Tab中这样的处理方式有问题----延后修改
        // 是否被禁用的状态
        // 按照之前的逻辑，如果没有找到key，就说明被禁用
        this._disableDatas = new Subject();
        // 按照之前的逻辑，如果没有找到key，就说明可见
        this._visibleDatas = new Subject();
        this.clickThrottleTime = 350;
        this.clickItems = new Subject();
        // 用于计算响应时
        this.ro = null;
        this.resizeEl = null;
        // 当宽度改变时，强制收起下拉菜单 
        this.dpState = [false];
        // 下拉菜单的参照元素
        this.referEl = null;
        // 初始的父元素
        this.initParent = null;
        this.initSibling = null;
        this.inMoreButtonContents = [];
        if (this.inject) {
            this.ngZone = this.inject.get(NgZone, null);
            this.renderer = this.inject.get(Renderer2, null);
            this.elSelf = this.inject.get(ElementRef, null);
            this.cdRef = this.inject.get(ChangeDetectorRef, null);
            this.commonUtils = this.inject.get(CommonUtils, new CommonUtils());
            this.nativeEl = this.inject.get(ElementRef, null);
            this.referEl = this.nativeEl.nativeElement;
        }
    }
    Object.defineProperty(FarrisSectionComponent.prototype, "fillCls", {
        // @HostBinding("class.f-section-maximize-scroll-content") maxScroll:boolean = false;
        get: 
        // @HostBinding("class.f-section-maximize-scroll-content") maxScroll:boolean = false;
        /**
         * @return {?}
         */
        function () {
            return this.fill;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(FarrisSectionComponent.prototype, "enableAccordionCls", {
        get: /**
         * @return {?}
         */
        function () {
            return this.enableAccordion == "default";
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(FarrisSectionComponent.prototype, "enableCollapseCls", {
        get: /**
         * @return {?}
         */
        function () {
            if (this.enableAccordion === "default" ||
                this.enableAccordion === "custom") {
                return !this.expandStatus;
            }
            else {
                return false;
            }
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(FarrisSectionComponent.prototype, "enableCustomAccordionCls", {
        get: /**
         * @return {?}
         */
        function () {
            return this.enableAccordion == "custom";
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(FarrisSectionComponent.prototype, "toolbar", {
        get: /**
         * @return {?}
         */
        function () {
            return this._toolbar;
        },
        set: /**
         * @param {?} value
         * @return {?}
         */
        function (value) {
            if (value) {
                this._toolbar = value;
                // 计算位置
                this.toolbarPosition = this.getToolbarPosition();
                //
                this.toolbarBtns = tslib_1.__spread(this.toolbar.contents);
                this.inMoreButtonContents = [];
                // 绑定事件
                this.bindResizeEvent();
                // 调整界面
                this.afterBindToolbarData();
            }
            else {
                this._toolbar = null;
                // 有位置
                this.toolbarPosition = "";
                this.toolbarBtns = [];
                this.inMoreButtonContents = [];
                // 移除绑定事件
                this.unBindResizeEvent();
            }
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(FarrisSectionComponent.prototype, "btnStates", {
        set: /**
         * @param {?} values
         * @return {?}
         */
        function (values) {
            if (values) {
                if (this._disableDatas &&
                    this._disableDatas.hasOwnProperty("unsubscribe")) {
                    this._disableDatas["unsubscribe"]();
                }
                this._disableDatas = values;
            }
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(FarrisSectionComponent.prototype, "btnVisible", {
        // 是否可见的状态
        set: 
        // 是否可见的状态
        /**
         * @param {?} values
         * @return {?}
         */
        function (values) {
            if (values) {
                if (this._visibleDatas &&
                    this._visibleDatas.hasOwnProperty("unsubscribe")) {
                    this._visibleDatas["unsubscribe"]();
                }
                this._visibleDatas = values;
            }
        },
        enumerable: true,
        configurable: true
    });
    // 用于提供循环效率
    // 用于提供循环效率
    /**
     * @param {?} index
     * @param {?} btn
     * @return {?}
     */
    FarrisSectionComponent.prototype.trackByButton = 
    // 用于提供循环效率
    /**
     * @param {?} index
     * @param {?} btn
     * @return {?}
     */
    function (index, btn) {
        return btn.id;
    };
    /**
     * @return {?}
     */
    FarrisSectionComponent.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
        var _this = this;
        // 标记点击事件
        this.clickSubscription = this.clickItems
            .pipe(debounceTime(this.clickThrottleTime))
            .subscribe((/**
         * @param {?} btnInfo
         * @return {?}
         */
        function (btnInfo) {
            if (btnInfo.click && typeof btnInfo.click == "function") {
                btnInfo.click({ context: _this.context });
            }
        }));
        // 绑定状态
        this._disableDatas.subscribe((/**
         * @param {?} data
         * @return {?}
         */
        function (data) {
            // 调整按钮可用状态
            _this.changeState(data, "disable");
        }));
        this._visibleDatas.subscribe((/**
         * @param {?} data
         * @return {?}
         */
        function (data) {
            // 调整按钮可见状态
            _this.changeState(data, "visible");
            // 重新判断是否需要显示下拉            
            _this._calculateToolbarDropdownIsShow();
            _this._calculateButtonsShow();
        }));
        // 如果有inject，取到元素本身
        if (this.elSelf) {
            this.initParent = this.elSelf.nativeElement.parentElement;
        }
    };
    /**
    * Ximena 23.08.30 判断是否可见,独立出来
    * Todo:
    * 1、现在btnVisible每次的变更都是全量，是否需要记录每次变更，然后合并计算？
    * 2、现在判断是否可见的方法，是直接更新界面的，每个按钮上都绑定了这个方法，会有性能问题。应该改成处理在绑定的所有数据，然后更新界面。
    * 3、是否可见和禁用有同样的问题
    * @param id
    * @returns
    */
    /**
     * 获取按钮配置中，禁用、可见的属性
     * @param id
     * @param stateProp
     */
    /**
         * Ximena 23.08.30 判断是否可见,独立出来
         * Todo:
         * 1、现在btnVisible每次的变更都是全量，是否需要记录每次变更，然后合并计算？
         * 2、现在判断是否可见的方法，是直接更新界面的，每个按钮上都绑定了这个方法，会有性能问题。应该改成处理在绑定的所有数据，然后更新界面。
         * 3、是否可见和禁用有同样的问题
         * @param id
         * @returns
         */
    /**
     * 获取按钮配置中，禁用、可见的属性
     * @param {?} btnItem
     * @param {?} stateProp
     * @return {?}
     */
    FarrisSectionComponent.prototype.getState = /**
         * Ximena 23.08.30 判断是否可见,独立出来
         * Todo:
         * 1、现在btnVisible每次的变更都是全量，是否需要记录每次变更，然后合并计算？
         * 2、现在判断是否可见的方法，是直接更新界面的，每个按钮上都绑定了这个方法，会有性能问题。应该改成处理在绑定的所有数据，然后更新界面。
         * 3、是否可见和禁用有同样的问题
         * @param id
         * @returns
         */
    /**
     * 获取按钮配置中，禁用、可见的属性
     * @param {?} btnItem
     * @param {?} stateProp
     * @return {?}
     */
    function (btnItem, stateProp) {
        if (btnItem.hasOwnProperty(stateProp)) {
            return btnItem[stateProp];
        }
        // 不存在属性
        if (stateProp == "visible") {
            return true;
        }
        return false;
    };
    /**
     * 改变可用状态
     * @param values
     */
    /**
     * 改变可用状态
     * @private
     * @param {?} values
     * @param {?} stateProp
     * @return {?}
     */
    FarrisSectionComponent.prototype.changeState = /**
     * 改变可用状态
     * @private
     * @param {?} values
     * @param {?} stateProp
     * @return {?}
     */
    function (values, stateProp) {
        var _this = this;
        /** @type {?} */
        var idArray = Object.keys(values);
        idArray.forEach((/**
         * @param {?} id
         * @return {?}
         */
        function (id) {
            /** @type {?} */
            var state = values[id];
            /** @type {?} */
            var item = _this._findItemByID(id, _this.toolbarBtns);
            if (item) {
                item[stateProp] = state;
            }
        }));
        this.toolbar.contents.forEach((/**
         * @param {?} item
         * @return {?}
         */
        function (item) {
            /** @type {?} */
            var findId = idArray.find((/**
             * @param {?} id
             * @return {?}
             */
            function (id) { return id == item.id; }));
            if (findId) {
                item[stateProp] = values[findId];
            }
            if (item['children'] && item['children'].length > 0) {
                // 数据源只有一级的下拉
                /** @type {?} */
                var dpChildren = item.children;
                dpChildren.forEach((/**
                 * @param {?} item
                 * @return {?}
                 */
                function (item) {
                    /** @type {?} */
                    var findId = idArray.find((/**
                     * @param {?} id
                     * @return {?}
                     */
                    function (id) { return id == item.id; }));
                    if (findId) {
                        item[stateProp] = values[findId];
                    }
                }));
            }
        }));
        this.inMoreButtonContents.forEach((/**
         * @param {?} item
         * @return {?}
         */
        function (item) {
            /** @type {?} */
            var findId = idArray.find((/**
             * @param {?} id
             * @return {?}
             */
            function (id) { return id == item.id; }));
            if (findId) {
                item[stateProp] = values[findId];
            }
            if (item['children'] && item['children'].length > 0) {
                // 数据源只有一级的下拉
                /** @type {?} */
                var dpChildren = item.children;
                dpChildren.forEach((/**
                 * @param {?} item
                 * @return {?}
                 */
                function (item) {
                    /** @type {?} */
                    var findId = idArray.find((/**
                     * @param {?} id
                     * @return {?}
                     */
                    function (id) { return id == item.id; }));
                    if (findId) {
                        item[stateProp] = values[findId];
                    }
                }));
            }
        }));
        this.dpState = [false];
        this.cdRef && !this.cdRef['destroyed'] && this.cdRef.detectChanges();
    };
    /**
     * 查找-支持一级下拉
     * @param id
     * @param datas
     */
    /**
     * 查找-支持一级下拉
     * @private
     * @param {?} id
     * @param {?} datas
     * @return {?}
     */
    FarrisSectionComponent.prototype._findItemByID = /**
     * 查找-支持一级下拉
     * @private
     * @param {?} id
     * @param {?} datas
     * @return {?}
     */
    function (id, datas) {
        /** @type {?} */
        var result;
        /** @type {?} */
        var flag = false;
        /** @type {?} */
        var len = datas.length;
        for (var k = 0; k++; k < len) {
            if (datas[k].id == id) {
                flag = true;
                result = datas[k];
            }
            else if (datas[k]["children"] && datas[k]["children"].length > 0) {
                /** @type {?} */
                var tIndex = datas[k]["children"].findIndex((/**
                 * @param {?} btnItem
                 * @return {?}
                 */
                function (btnItem) { return btnItem.id == id; }));
                if (tIndex > -1) {
                    flag = true;
                    result = datas[k]["children"][tIndex];
                }
            }
            if (flag)
                break;
        }
        return result;
    };
    /**
     * @return {?}
     */
    FarrisSectionComponent.prototype.ngOnDestroy = /**
     * @return {?}
     */
    function () {
        if (this.clickSubscription) {
            this.clickSubscription.unsubscribe();
            this.clickSubscription = null;
        }
        if (this._visibleDatas &&
            this._visibleDatas.hasOwnProperty("unsubscribe")) {
            this._visibleDatas["unsubscribe"]();
            this._visibleDatas = null;
        }
        if (this._disableDatas &&
            this._disableDatas.hasOwnProperty("unsubscribe")) {
            this._disableDatas["unsubscribe"]();
            this._disableDatas = null;
        }
        this.unBindResizeEvent();
    };
    /**
     * 绑定限制
     */
    /**
     * 绑定限制
     * @private
     * @return {?}
     */
    FarrisSectionComponent.prototype.bindResizeEvent = /**
     * 绑定限制
     * @private
     * @return {?}
     */
    function () {
        var _this = this;
        // 标记响应时
        if (this.ngZone && this.toolbar && this.toolbar.contents.length > 0) {
            this.ngZone.runOutsideAngular((/**
             * @return {?}
             */
            function () {
                setTimeout((/**
                 * @return {?}
                 */
                function () {
                    if (!_this.toolbarContainer) {
                        return;
                    }
                    if (_this.ro) {
                        if (_this.toolbarContainer.nativeElement.parentElement ==
                            _this.resizeEl) {
                            // 已绑定过
                            return;
                        }
                        else {
                            _this.unBindResizeEvent();
                        }
                    }
                    if (_this.ro === null) {
                        _this.ro = new ResizeObserver((/**
                         * @param {?} el
                         * @return {?}
                         */
                        function (el) {
                            _this._calculateToolbarDropdownIsShow();
                            _this._calculateButtonsShow();
                        }));
                        _this.resizeEl =
                            _this.toolbarContainer.nativeElement.parentElement;
                        _this.ro.observe(_this.resizeEl);
                    }
                }), 0);
            }));
        }
        else {
            this.unBindResizeEvent();
        }
    };
    /**
     * 按钮数据变更后触发检查
     */
    /**
     * 按钮数据变更后触发检查
     * @private
     * @return {?}
     */
    FarrisSectionComponent.prototype.afterBindToolbarData = /**
     * 按钮数据变更后触发检查
     * @private
     * @return {?}
     */
    function () {
        var _this = this;
        if (this.ngZone && this.toolbar && this.toolbar.contents.length > 0) {
            this.ngZone.runOutsideAngular((/**
             * @return {?}
             */
            function () {
                setTimeout((/**
                 * @return {?}
                 */
                function () {
                    _this._calculateToolbarDropdownIsShow();
                    _this._calculateButtonsShow();
                }), 0);
            }));
        }
    };
    /**
     * 判断下拉按钮是否显示
     */
    /**
     * 判断下拉按钮是否显示
     * @private
     * @return {?}
     */
    FarrisSectionComponent.prototype._calculateToolbarDropdownIsShow = /**
     * 判断下拉按钮是否显示
     * @private
     * @return {?}
     */
    function () {
        if (!this.toolbarContainer || !this.toolbar || !this.toolbarPosition) {
            // 容器未显示，没有数据，没有按钮位置
            this.toolbarDpHidden = true;
            return;
        }
        /** @type {?} */
        var btnParentsContainer = this.toolbarContainer.nativeElement.parentElement;
        if (this.btnPlaceHolder.nativeElement.scrollWidth >
            btnParentsContainer.offsetWidth) {
            this.toolbarDpHidden = false;
        }
        else {
            this.toolbarDpHidden = true;
        }
    };
    /**
     * 计算显示的按钮个数及更多中显示的按钮个数
     */
    /**
     * 计算显示的按钮个数及更多中显示的按钮个数
     * @private
     * @return {?}
     */
    FarrisSectionComponent.prototype._calculateButtonsShow = /**
     * 计算显示的按钮个数及更多中显示的按钮个数
     * @private
     * @return {?}
     */
    function () {
        var _this = this;
        if (!this.toolbarContainer || !this.toolbar || !this.toolbarPosition) {
            // 容器未显示，没有数据，没有按钮位置
            return;
        }
        if (this.toolbarDpHidden) {
            this.toolbarBtns = tslib_1.__spread(this.toolbar.contents);
            this.inMoreButtonContents = [];
            return;
        }
        /** @type {?} */
        var toolbarParentContainerEl = this.toolbarContainer.nativeElement.parentElement;
        // let divEl = this.toolbarContainer.nativeElement;
        /** @type {?} */
        var btnPlaceHolderEl = this.btnPlaceHolder.nativeElement;
        /** @type {?} */
        var btnPlaceHolderBtns = btnPlaceHolderEl.querySelectorAll(".btn--cal");
        // 更多按钮
        /** @type {?} */
        var moreButton = btnPlaceHolderEl.parentElement.querySelector(".morebtn");
        // 计算按钮的宽度
        /** @type {?} */
        var basicStart = parseInt(btnPlaceHolderEl.getBoundingClientRect().left);
        /** @type {?} */
        var basicWidth = toolbarParentContainerEl.offsetWidth - moreButton.offsetWidth - 12;
        /** @type {?} */
        var toolbarDropdownHidden = true;
        /** @type {?} */
        var k = 0;
        // 只有一个按钮
        if (btnPlaceHolderBtns.length == 1) {
            if (btnPlaceHolderEl.offsetWidth > basicWidth) {
                toolbarDropdownHidden = false;
            }
            else {
                k = 1;
            }
        }
        else {
            for (k = 1; k <= btnPlaceHolderBtns.length - 1; k++) {
                // 如果内容超出,考虑到按钮之间的间距
                if (k == btnPlaceHolderBtns.length - 1) {
                    if (btnPlaceHolderEl.offsetWidth > basicWidth) {
                        toolbarDropdownHidden = false;
                        k = k - 1;
                        break;
                    }
                }
                else if (parseInt(btnPlaceHolderBtns[k].getBoundingClientRect().left) -
                    basicStart >
                    basicWidth) {
                    toolbarDropdownHidden = false;
                    k = k - 1;
                    break;
                }
            }
        }
        this.toolbarDpHidden = toolbarDropdownHidden;
        // let showBtns = divEl.querySelectorAll("button");
        // 只判断第一层，不判断下拉项
        /** @type {?} */
        var showBtns = this.toolbar.contents.filter((/**
         * @param {?} item
         * @return {?}
         */
        function (item) { return _this.getState(item, "visible"); }));
        /** @type {?} */
        var resultBtns = showBtns.filter((/**
         * @param {?} item
         * @param {?} index
         * @return {?}
         */
        function (item, index) {
            return index < k;
        }));
        this.toolbarBtns = resultBtns ? tslib_1.__spread(resultBtns) : [];
        // for (let m = k; m < showBtns.length; m++) {
        //     this.renderer.setStyle(showBtns[m], 'display', 'none');
        // }
        this.inMoreButtonContents = showBtns.filter((/**
         * @param {?} item
         * @param {?} index
         * @return {?}
         */
        function (item, index) {
            return index >= k;
        }));
        this.dpState = [false];
    };
    /**
     * 在按钮状态变化时解除限制
     */
    /**
     * 在按钮状态变化时解除限制
     * @private
     * @return {?}
     */
    FarrisSectionComponent.prototype.unBindResizeEvent = /**
     * 在按钮状态变化时解除限制
     * @private
     * @return {?}
     */
    function () {
        if (this.ro) {
            if (this.resizeEl) {
                this.ro.unobserve(this.resizeEl);
            }
            this.ro = null;
        }
    };
    /**
     * @return string
     * '' 不存在按钮，无所谓位置
     * 'inHead' 按钮在头部
     * 'inContent' 按钮在内容位置
     */
    /**
     * @private
     * @return {?} string
     * '' 不存在按钮，无所谓位置
     * 'inHead' 按钮在头部
     * 'inContent' 按钮在内容位置
     */
    FarrisSectionComponent.prototype.getToolbarPosition = /**
     * @private
     * @return {?} string
     * '' 不存在按钮，无所谓位置
     * 'inHead' 按钮在头部
     * 'inContent' 按钮在内容位置
     */
    function () {
        if (this.toolbar &&
            this.toolbar.hasOwnProperty("position") &&
            this.toolbar.hasOwnProperty("contents") &&
            this.toolbar.contents.length > 0) {
            // 如果有属性，且按钮有值
            if (this.toolbar.position === "inHead") {
                return "inHead";
            }
            else {
                return "inContent";
            }
        }
        return "";
    };
    /**
     * 判断是否显示、隐藏
     * @param id
     * @param state
     */
    /**
     * 判断是否显示、隐藏
     * @param {?} id
     * @param {?=} state
     * @param {?=} defaultValue
     * @return {?}
     */
    FarrisSectionComponent.prototype.getToolbarState = /**
     * 判断是否显示、隐藏
     * @param {?} id
     * @param {?=} state
     * @param {?=} defaultValue
     * @return {?}
     */
    function (id, state, defaultValue) {
        if (state === void 0) { state = this.btnStates; }
        if (defaultValue === void 0) { defaultValue = false; }
        if (state) {
            return state.pipe(map((/**
             * @param {?} n
             * @return {?}
             */
            function (n) {
                if (n[id] === undefined) {
                    // console.warn(`未找ID为：${id} 相关状态设置！`);
                    return defaultValue;
                }
                return n[id];
            })));
        }
        else {
            return of(defaultValue);
        }
    };
    /**
     * @param {?} btnInfo
     * @return {?}
     */
    FarrisSectionComponent.prototype.clickHandler = /**
     * @param {?} btnInfo
     * @return {?}
     */
    function (btnInfo) {
        if (!btnInfo) {
            return;
        }
        if (btnInfo.hasOwnProperty('disable') && btnInfo['disable']) {
            return;
        }
        this.clickItems.next(btnInfo);
    };
    /**
     * 最大最小化事件处理
     */
    /**
     * 最大最小化事件处理
     * @return {?}
     */
    FarrisSectionComponent.prototype.maxminHandler = /**
     * 最大最小化事件处理
     * @return {?}
     */
    function () {
        this.maxStatus = !this.maxStatus;
        this.maxStatusCls = this.maxStatus;
        //this.maxStatusCls=this.maxStatus&&this.maxContentFill;
        // this.maxScroll=this.maxStatus&&!this.maxContentFill;
        // 最大化
        if (!this.initParent) {
            return;
        }
        if (this.maxStatus) {
            this.initSibling = this.elSelf.nativeElement.nextElementSibling;
            document
                .querySelector("body")
                .appendChild(this.elSelf.nativeElement);
            if (this.commonUtils) {
                /** @type {?} */
                var zindex = this.commonUtils.getFloatingLayerIndex();
                this.renderer.setStyle(this.elSelf.nativeElement, "zIndex", zindex);
            }
        }
        else {
            // 最小化
            if (this.initSibling) {
                this.initParent.insertBefore(this.elSelf.nativeElement, this.initSibling);
            }
            else {
                this.initParent.appendChild(this.elSelf.nativeElement);
            }
            this.renderer.removeStyle(this.elSelf.nativeElement, "zIndex");
        }
    };
    FarrisSectionComponent.decorators = [
        { type: Component, args: [{
                    selector: "farris-section",
                    template: "<div class=\"f-section-header\" [ngClass]=\"headerDirective && headerDirective.headerCls\" *ngIf=\"showHeader\">\r\n    \r\n    <div *ngIf=\"headerComponentType\" component-template [cmpRef]=\"headerComponentType\" [ctx]=\"ctx\"></div>\r\n\r\n    <ng-template [ngTemplateOutlet]=\"headerDirective.templateRef\"\r\n        *ngIf=\"!headerComponentType&&headerDirective && headerDirective.templateRef\"></ng-template>\r\n    <ng-template [ngIf]=\"!headerDirective\">\r\n        <div component-template *ngIf=\"titleComponentType\" [cmpRef]=\"titleComponentType\" [ctx]=\"ctx\"></div>\r\n        <ng-template [ngTemplateOutlet]=\"headerTitleDirective.templateRef\"\r\n            *ngIf=\"!titleComponentType&&headerTitleDirective && headerTitleDirective.templateRef\" [ngTemplateOutletContext]=\"{context:this.context,index:this.index }\"></ng-template>\r\n        <div *ngIf=\"!headerComponentType&&!titleComponentType&&(!headerTitleDirective||!headerTitleDirective.templateRef)\" class=\"f-title\"\r\n            (click)=\"this.expandStatus = !this.expandStatus\">\r\n            <h4 class=\"f-title-text\">{{ mainTitle }}</h4>\r\n            <span *ngIf=\"subTitle && subTitle.length\">{{\r\n            subTitle\r\n        }}</span>\r\n        </div>\r\n        <div class=\"f-content\"  *ngIf=\"contentComponentType\" component-template [cmpRef]=\"contentComponentType\" [ctx]=\"ctx\"></div>\r\n        <div class=\"f-content\" [ngClass]=\"\r\n            headerContentDirective &&\r\n            headerContentDirective.hcontentCls\r\n        \" *ngIf=\"\r\n            !contentComponentType&&headerContentDirective &&\r\n            headerContentDirective.templateRef\r\n        \">\r\n            <ng-template [ngTemplateOutlet]=\"headerContentDirective.templateRef\"></ng-template>\r\n        </div>\r\n        <div class=\"f-toolbar\"  *ngIf=\"toolbarComponentType\" component-template [cmpRef]=\"toolbarComponentType\" [ctx]=\"ctx\"></div>\r\n        <div class=\"f-toolbar\" [ngClass]=\"\r\n            headerToolbarDirective &&\r\n            headerToolbarDirective.toolbarCls\" *ngIf=\" !toolbarComponentType&&headerToolbarDirective &&headerToolbarDirective.templateRef \">\r\n            <ng-template [ngTemplateOutlet]=\"headerToolbarDirective.templateRef\" *ngIf=\"\r\n                headerToolbarDirective &&\r\n                headerToolbarDirective.templateRef\r\n            \"></ng-template>\r\n        </div>\r\n        <div #toolbarHeaderContainer class=\"f-section-toolbar f-section-header--toolbar\"\r\n            *ngIf=\"!toolbarComponentType&&!headerToolbarDirective&&toolbarPosition=='inHead'\">\r\n            <ng-container [ngTemplateOutlet]=\"toolbarBtnTmpl\"\r\n                [ngTemplateOutletContext]=\"{ datas: toolbarBtns, dpHidden:toolbarDpHidden,dpDatas:inMoreButtonContents}\">\r\n            </ng-container>\r\n        </div>\r\n        <div class=\"f-viewchange\" *ngIf=\"viewchagneComponentType\" component-template [cmpRef]=\"viewchagneComponentType\" [ctx]=\"ctx\"></div>\r\n        <div class=\"f-viewchange\" [ngClass]=\"viewChangeDirective && viewChangeDirective.viewChangeCls\"\r\n            *ngIf=\"!viewchagneComponentType&&viewChangeDirective &&viewChangeDirective.templateRef \">\r\n            <ng-template [ngTemplateOutlet]=\"viewChangeDirective.templateRef\"></ng-template>\r\n        </div>\r\n        <div class=\"f-max-accordion\" *ngIf=\"enableMaximize||enableAccordion!=''\">\r\n            <span class=\"f-icon\" *ngIf=\"enableMaximize\" [class.f-icon-maximize]=\"!maxStatus\"\r\n                [class.f-icon-minimize]=\"maxStatus\" (click)=\"maxminHandler()\"> </span>\r\n            <button class=\"btn f-btn-collapse-expand f-btn-mx\" *ngIf=\"enableAccordion\"\r\n                [ngClass]=\"{ 'f-state-expand': expandStatus }\" (click)=\"this.expandStatus = !this.expandStatus\">\r\n                <span *ngIf=\"!expandStatus\">{{'section.expandLabel'|locale}}</span>\r\n                <span *ngIf=\"expandStatus\">{{'section.collapseLabel'|locale}}</span>\r\n            </button>\r\n        </div>\r\n    </ng-template>\r\n\r\n    <div class=\"f-section-header--btn-placeholder\" *ngIf=\"!headerToolbarDirective&&toolbarPosition\">\r\n        <div class=\"btn-group f-btn-ml\"><button class=\"btn btn-secondary morebtn dropdown-toggle\">{{'tabs.more' | locale}}</button></div>    \r\n        <div class=\"btn-placeholder--content\"  #btnPlaceholder>\r\n            <ng-container *ngTemplateOutlet=\"btnPlaceHolderTmpl; context: { $implicit: toolbar.contents }\"></ng-container>\r\n        </div>       \r\n    </div>\r\n</div>\r\n<div class=\"f-section-header--btn-placeholder\" *ngIf=\"!showHeader&&toolbarPosition=='inContent'\">\r\n    <div class=\"btn-group  f-btn-ml\"><button class=\"btn btn-secondary morebtn dropdown-toggle\">{{'tabs.more' | locale}}</button></div>    \r\n    <div class=\"btn-placeholder--content\"  #btnPlaceholder>   \r\n            <ng-container *ngTemplateOutlet=\"btnPlaceHolderTmpl; context: { $implicit: toolbar.contents }\"></ng-container>\r\n    </div>\r\n</div>\r\n\r\n<div class=\"f-section-extend\" *ngIf=\"extendComponentType\" component-template [cmpRef]=\"extendComponentType\" [ctx]=\"ctx\">\r\n</div>\r\n\r\n<div class=\"f-section-extend\" [ngClass]=\"extendDirective && extendDirective.extendCls\" \r\n    *ngIf=\"!extendComponentType&&extendDirective && extendDirective.templateRef\">\r\n    <ng-template  [ngTemplateOutlet]=\"extendDirective.templateRef\"></ng-template>\r\n</div>\r\n\r\n<div class=\"f-section-content\" [ngClass]=\"contentCls\">\r\n    <div class=\"f-section-toolbar f-section-content--toolbar\"\r\n        *ngIf=\"!toolbarComponentType&&!headerToolbarDirective&&toolbarPosition=='inContent'\">\r\n        <ng-container [ngTemplateOutlet]=\"toolbarBtnTmpl\"\r\n            [ngTemplateOutletContext]=\"{ datas: toolbarBtns, dpHidden:toolbarDpHidden,dpDatas:inMoreButtonContents}\">\r\n        </ng-container>\r\n    </div>\r\n    <ng-content></ng-content>\r\n</div>\r\n<ng-template #toolbarBtnTmpl let-datas=\"datas\" let-dpHidden=\"dpHidden\" let-dpDatas=\"dpDatas\">\r\n    <div class=\"toolbar-btn-inline-flex\" #toolbarContainer>\r\n        <ng-container *ngFor=\"let btn of datas;trackBy:trackByButton\">\r\n            <ng-container *ngIf=\"getState(btn,'visible')\">\r\n                <ng-container *ngIf=\"!btn.children||btn.children.length==0\">\r\n                    <button [attr.id]=\"btn.id\" [ngClass]=\"btn.appearance?.class\"  [disabled]=\"getState(btn,'disable')\"\r\n                    (click)=\"clickHandler(btn)\"  [class.btn-icontext]=\"btn.icon&&btn.icon.trim()\">\r\n                    <i class=\"f-icon\" [ngClass]=\"btn.icon&&btn.icon.trim()\" *ngIf=\"btn.icon&&btn.icon.trim()\"></i>{{btn.title}}\r\n                </button>\r\n                </ng-container>\r\n                <ng-container *ngIf=\"btn.children&&btn.children.length>0\">\r\n                    <ng-container *ngTemplateOutlet=\"dropdownTmpl; context: { $implicit: btn }\"></ng-container>\r\n                </ng-container> \r\n            </ng-container>\r\n        </ng-container>\r\n    </div>        \r\n    <ng-container *ngIf=\"!dpHidden&&dpDatas.length>0\">\r\n        <div class=\"btn-group f-btn-ml\" fDropdown  [forceState]=\"dpState\" [rectifyReference]=\"referEl\" [autoRectify]=\"true\">\r\n            <button class=\"btn btn-secondary dropdown-toggle\" fDropdownToggle>{{'tabs.more' | locale}}</button>\r\n            <ul class=\"dropdown-menu\" fDropdownMenu *ngIf=\"dpDatas.length>0\">\r\n                <ng-container *ngFor=\"let dpBtn of dpDatas;trackBy:trackByButton\">                                   \r\n                    <ng-container  *ngIf=\"getState(dpBtn,'visible')\">\r\n                        <ng-container *ngIf=\"dpBtn.children&&dpBtn.children.length>0\">\r\n                            <ng-container *ngTemplateOutlet=\"dropdownSubTmpl;context: { $implicit: dpBtn}\"></ng-container>\r\n                        </ng-container>\r\n                        <ng-container *ngIf=\"!dpBtn.children||dpBtn.children.length==0\">\r\n                            <li class=\"dropdown-item  text-truncate \" id=\"{{ dpBtn.id }}\" [class.disabled]=\"getState(dpBtn,'disable')\"  (click)=\"clickHandler(dpBtn)\">\r\n                                {{ dpBtn.title }}\r\n                            </li>\r\n                        </ng-container>\r\n                    </ng-container>\r\n                </ng-container>\r\n            </ul>\r\n        </div>\r\n    </ng-container>   \r\n</ng-template>\r\n<!--\u7B2C\u4E00\u5C42\u4E0B\u62C9-->\r\n<ng-template #dropdownTmpl let-data>\r\n    <div class=\"btn-group\" id=\"{{ data.id }}\" [ngClass]=\"data.appearance?.dropdownCls\" fDropdown [forceState]=\"dpState\"  [rectifyReference]=\"referEl\"  [autoRectify]=\"true\">\r\n        <ng-container *ngIf=\"data.split\">\r\n            <button type=\"button\" class=\"btn\" [ngClass]=\"data.appearance?.class\" [class.disabled]=\"getState(data,'disable')\" [class.btn-icontext]=\"data.icon&&data.icon.trim()\" (click)=\"clickHandler(data)\">\r\n                <i class=\"f-icon\" [ngClass]=\"data.icon&&data.icon.trim()\" *ngIf=\"data.icon&&data.icon.trim()\"></i>{{ data.title }}\r\n            </button>\r\n        <button class=\"btn dropdown-toggle dropdown-toggle-split\" [ngClass]=\"data.appearance?.class\" fDropdownToggle></button>\r\n        </ng-container>\r\n        <!--\u4E0D\u542F\u7528\u4E0B\u62C9\u5206\u5F00\u6309\u94AE-->\r\n        <ng-container *ngIf=\"!data.split\">\r\n            <button type=\"button\" fDropdownToggle class=\"btn\" [ngClass]=\"data.appearance?.class + ' dropdown-toggle'\"\r\n                [dpDisabled]=\"getState(data,'disable')\"  [class.btn-icontext]=\"data.icon&&data.icon.trim()\" (click)=\"clickHandler(data)\">\r\n                <i class=\"f-icon\" [ngClass]=\"data.icon&&data.icon.trim()\" *ngIf=\"data.icon&&data.icon.trim()\"></i>{{ data.title }}\r\n            </button>\r\n            <i></i>\r\n        </ng-container>\r\n        <ul class=\"dropdown-menu\" fDropdownMenu id=\"{{ data.id }}_menu\">\r\n            <ng-container *ngTemplateOutlet=\"dropMenuItem; context: { $implicit: data.children }\"></ng-container>\r\n        </ul>\r\n    </div>\r\n</ng-template>\r\n\r\n<!--\u4E0B\u62C9\u5B50\u9879-->\r\n<ng-template #dropMenuItem let-data>\r\n    <ng-container *ngFor=\"let item of data\">\r\n        <ng-container *ngIf=\"getState(item,'visible')\">\r\n            <li class=\"dropdown-item\" id=\"{{ item.id }}\" [class.disabled]=\"getState(item,'disable')\"  (click)=\"clickHandler(item)\">\r\n                {{ item.title }}\r\n            </li>\r\n        </ng-container>\r\n    </ng-container>\r\n</ng-template>\r\n\r\n<!--\u7B2C\u4E8C\u5C42\u4E0B\u62C9-->\r\n<ng-template #dropdownSubTmpl let-subData>\r\n    <li class=\"dropdown-submenu\" fDropdown [isSubDP]=\"true\" [placement]=\"'left-bottom'\"  [autoRectify]=\"true\" [rectifyReference]=\"referEl\" id=\"{{ subData.id }}\">\r\n        <ng-container *ngIf=\"subData.split\">\r\n            <span class=\"dropdown-item\" [class.disabled]=\"getState(subData,'disable')\" (click)=\"clickHandler(subData)\">{{ subData.title }}</span>\r\n            <span class=\"dropdown-toggle dropdown-toggle-split\" fDropdownToggle></span>\r\n        </ng-container>\r\n        <ng-container *ngIf=\"!subData.split\">\r\n            <span class=\"dropdown-item  dropdown-toggle\" [dpDisabled]=\"getState(subData,'disable')\" (click)=\"clickHandler(subData)\" fDropdownToggle>{{ subData.title }}</span>\r\n        </ng-container>\r\n        <ul class=\"dropdown-menu\" fDropdownMenu id=\"{{ subData.id }}_submenu\">\r\n            <ng-container *ngTemplateOutlet=\"dropMenuItem; context: { $implicit: subData.children }\"></ng-container>\r\n        </ul>\r\n    </li>\r\n</ng-template>\r\n<!--PlaceHolder\u5B58\u653E\u6309\u94AE\u6A21\u7248-->\r\n<ng-template #btnPlaceHolderTmpl let-data>\r\n    <ng-container *ngFor=\"let btn of data\">\r\n        <ng-container  *ngIf=\"getState(btn,'visible')\">\r\n            <ng-container *ngIf=\"!btn.children||btn.children.length==0\">\r\n                <button class=\"btn--cal\" [ngClass]=\"btn.appearance?.class\"  [class.btn-icontext]=\"btn.icon&&btn.icon.trim()\">\r\n                <i class=\"f-icon\" [ngClass]=\"btn.icon&&btn.icon.trim()\" *ngIf=\"btn.icon&&btn.icon.trim()\"></i>{{btn.title}}\r\n            </button>\r\n            </ng-container>\r\n            <ng-container *ngIf=\"btn.children&&btn.children.length>0\">\r\n                <div class=\"btn-group btn--cal\" [ngClass]=\"btn.appearance?.dropdownCls\" >\r\n                    <ng-container *ngIf=\"btn.split\">\r\n                        <button type=\"button\" class=\"btn\" [ngClass]=\"btn.appearance?.class\" [class.btn-icontext]=\"btn.icon&&btn.icon.trim()\">\r\n                            <i class=\"f-icon\" [ngClass]=\"btn.icon&&btn.icon.trim()\" *ngIf=\"btn.icon&&btn.icon.trim()\"></i>{{ btn.title }}\r\n                        </button>\r\n                    <button class=\"btn dropdown-toggle dropdown-toggle-split\" [ngClass]=\"btn.appearance?.class\"></button>\r\n                    </ng-container>\r\n                    <!--\u4E0D\u542F\u7528\u4E0B\u62C9\u5206\u5F00\u6309\u94AE-->\r\n                    <ng-container *ngIf=\"!btn.split\">\r\n                        <button type=\"button\"  class=\"btn\" [ngClass]=\"btn.appearance?.class + ' dropdown-toggle'\"  [class.btn-icontext]=\"btn.icon&&btn.icon.trim()\">\r\n                            <i class=\"f-icon\" [ngClass]=\"btn.icon&&btn.icon.trim()\" *ngIf=\"btn.icon&&btn.icon.trim()\"></i>{{ btn.title }}\r\n                        </button>\r\n                        <i></i>\r\n                    </ng-container>\r\n                </div>\r\n            </ng-container>  \r\n        </ng-container> \r\n    </ng-container>\r\n</ng-template>",
                    styles: [".f-section-header--btn-placeholder{position:absolute;top:-30px;right:0;overflow:hidden;left:0;opacity:0;z-index:-90}.f-section-header--btn-placeholder .btn-placeholder--content{display:-webkit-inline-box;display:inline-flex;left:0;position:absolute}.f-section-content .toolbar-btn-inline-flex,.f-section-header .toolbar-btn-inline-flex{display:-webkit-inline-box;display:inline-flex;overflow:hidden}.f-section-header--toolbar{-webkit-box-flex:1;flex:1;-webkit-box-align:center;align-items:center;width:30%;display:-webkit-box;display:flex;-webkit-box-pack:end;justify-content:flex-end;margin-left:.875rem}.f-section-content--toolbar{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center}"]
                }] }
    ];
    /** @nocollapse */
    FarrisSectionComponent.ctorParameters = function () { return [
        { type: Injector, decorators: [{ type: Optional }] }
    ]; };
    FarrisSectionComponent.propDecorators = {
        contentCls: [{ type: Input }],
        baseCls: [{ type: HostBinding, args: ["class.f-section",] }],
        maxStatusCls: [{ type: HostBinding, args: ["class.f-section-maximize",] }],
        fillCls: [{ type: HostBinding, args: ["class.f-section-fill",] }],
        enableAccordionCls: [{ type: HostBinding, args: ["class.f-section-accordion",] }],
        enableCollapseCls: [{ type: HostBinding, args: ["class.f-state-collapse",] }],
        enableCustomAccordionCls: [{ type: HostBinding, args: ["class.f-section-custom-accordion",] }],
        mainTitle: [{ type: Input }],
        subTitle: [{ type: Input }],
        showHeader: [{ type: Input }],
        enableMaximize: [{ type: Input }],
        maxContentFill: [{ type: Input }],
        enableAccordion: [{ type: Input }],
        fill: [{ type: Input }],
        expandStatus: [{ type: Input }],
        context: [{ type: Input }],
        index: [{ type: Input }],
        toolbar: [{ type: Input }],
        ctx: [{ type: Input }],
        headerComponentType: [{ type: Input }],
        titleComponentType: [{ type: Input }],
        contentComponentType: [{ type: Input }],
        toolbarComponentType: [{ type: Input }],
        extendComponentType: [{ type: Input }],
        viewchagneComponentType: [{ type: Input }],
        headerDirective: [{ type: ContentChild, args: [FarrisSectionHeaderDirective,] }],
        headerTitleDirective: [{ type: ContentChild, args: [FarrisSectionTitleDirective,] }],
        headerContentDirective: [{ type: ContentChild, args: [FarrisSectionHcontentDirective,] }],
        headerToolbarDirective: [{ type: ContentChild, args: [FarrisSectionToolbarDirective,] }],
        extendDirective: [{ type: ContentChild, args: [FarrisSectionExtendDirective,] }],
        contentDirective: [{ type: ContentChild, args: [FarrisSectionContentDirective,] }],
        viewChangeDirective: [{ type: ContentChild, args: [FarrisSectionViewChangeDirective,] }],
        btnStates: [{ type: Input }],
        btnVisible: [{ type: Input }],
        clickThrottleTime: [{ type: Input }],
        toolbarContainer: [{ type: ViewChild, args: ["toolbarContainer",] }],
        btnPlaceHolder: [{ type: ViewChild, args: ["btnPlaceholder",] }]
    };
    return FarrisSectionComponent;
}());
export { FarrisSectionComponent };
if (false) {
    /** @type {?} */
    FarrisSectionComponent.prototype.contentCls;
    /** @type {?} */
    FarrisSectionComponent.prototype.maxStatus;
    /** @type {?} */
    FarrisSectionComponent.prototype.baseCls;
    /** @type {?} */
    FarrisSectionComponent.prototype.maxStatusCls;
    /** @type {?} */
    FarrisSectionComponent.prototype.mainTitle;
    /** @type {?} */
    FarrisSectionComponent.prototype.subTitle;
    /** @type {?} */
    FarrisSectionComponent.prototype.showHeader;
    /** @type {?} */
    FarrisSectionComponent.prototype.enableMaximize;
    /** @type {?} */
    FarrisSectionComponent.prototype.maxContentFill;
    /**
     * 是否启用収折功能
     * 默认不启用収折,值为''
     * 启用默认収折,值为'default'
     * 启用自定义収折,值为 'custom'
     *
     * @type {?}
     */
    FarrisSectionComponent.prototype.enableAccordion;
    /** @type {?} */
    FarrisSectionComponent.prototype.fill;
    /** @type {?} */
    FarrisSectionComponent.prototype.expandStatus;
    /**
     * 事件上下文，解决按钮点击时没有上下文的问题
     * @type {?}
     */
    FarrisSectionComponent.prototype.context;
    /** @type {?} */
    FarrisSectionComponent.prototype.index;
    /** @type {?} */
    FarrisSectionComponent.prototype.toolbarPosition;
    /** @type {?} */
    FarrisSectionComponent.prototype.toolbarBtns;
    /**
     * @type {?}
     * @private
     */
    FarrisSectionComponent.prototype._toolbar;
    /** @type {?} */
    FarrisSectionComponent.prototype.toolbarDpHidden;
    /** @type {?} */
    FarrisSectionComponent.prototype.ctx;
    /** @type {?} */
    FarrisSectionComponent.prototype.headerComponentType;
    /** @type {?} */
    FarrisSectionComponent.prototype.titleComponentType;
    /** @type {?} */
    FarrisSectionComponent.prototype.contentComponentType;
    /** @type {?} */
    FarrisSectionComponent.prototype.toolbarComponentType;
    /** @type {?} */
    FarrisSectionComponent.prototype.extendComponentType;
    /** @type {?} */
    FarrisSectionComponent.prototype.viewchagneComponentType;
    /** @type {?} */
    FarrisSectionComponent.prototype.headerDirective;
    /** @type {?} */
    FarrisSectionComponent.prototype.headerTitleDirective;
    /** @type {?} */
    FarrisSectionComponent.prototype.headerContentDirective;
    /** @type {?} */
    FarrisSectionComponent.prototype.headerToolbarDirective;
    /** @type {?} */
    FarrisSectionComponent.prototype.extendDirective;
    /** @type {?} */
    FarrisSectionComponent.prototype.contentDirective;
    /** @type {?} */
    FarrisSectionComponent.prototype.viewChangeDirective;
    /** @type {?} */
    FarrisSectionComponent.prototype._disableDatas;
    /** @type {?} */
    FarrisSectionComponent.prototype._visibleDatas;
    /** @type {?} */
    FarrisSectionComponent.prototype.clickThrottleTime;
    /** @type {?} */
    FarrisSectionComponent.prototype.toolbarContainer;
    /** @type {?} */
    FarrisSectionComponent.prototype.btnPlaceHolder;
    /**
     * @type {?}
     * @private
     */
    FarrisSectionComponent.prototype.clickItems;
    /**
     * @type {?}
     * @private
     */
    FarrisSectionComponent.prototype.clickSubscription;
    /**
     * @type {?}
     * @private
     */
    FarrisSectionComponent.prototype.ro;
    /**
     * @type {?}
     * @private
     */
    FarrisSectionComponent.prototype.resizeEl;
    /**
     * @type {?}
     * @private
     */
    FarrisSectionComponent.prototype.ngZone;
    /** @type {?} */
    FarrisSectionComponent.prototype.dpState;
    /** @type {?} */
    FarrisSectionComponent.prototype.referEl;
    /**
     * @type {?}
     * @private
     */
    FarrisSectionComponent.prototype.renderer;
    /**
     * @type {?}
     * @private
     */
    FarrisSectionComponent.prototype.initParent;
    /**
     * @type {?}
     * @private
     */
    FarrisSectionComponent.prototype.initSibling;
    /**
     * @type {?}
     * @private
     */
    FarrisSectionComponent.prototype.elSelf;
    /** @type {?} */
    FarrisSectionComponent.prototype.inMoreButtonContents;
    /** @type {?} */
    FarrisSectionComponent.prototype.commonUtils;
    /**
     * @type {?}
     * @private
     */
    FarrisSectionComponent.prototype.cdRef;
    /**
     * @type {?}
     * @private
     */
    FarrisSectionComponent.prototype.nativeEl;
    /**
     * @type {?}
     * @private
     */
    FarrisSectionComponent.prototype.inject;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2VjdGlvbi5jb21wb25lbnQuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9AZmFycmlzL3VpLXNlY3Rpb24vIiwic291cmNlcyI6WyJsaWIvc2VjdGlvbi5jb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQVFBLE9BQU8sRUFDSCxTQUFTLEVBRVQsS0FBSyxFQUNMLFlBQVksRUFDWixXQUFXLEVBRVgsU0FBUyxFQUNULFFBQVEsRUFDUixNQUFNLEVBQ04sUUFBUSxFQUNSLFVBQVUsRUFDVixTQUFTLEVBQ1QsaUJBQWlCLEdBQ3BCLE1BQU0sZUFBZSxDQUFDO0FBQ3ZCLE9BQU8sRUFBRSwyQkFBMkIsRUFBRSxNQUFNLHFDQUFxQyxDQUFDO0FBQ2xGLE9BQU8sRUFBRSw0QkFBNEIsRUFBRSxNQUFNLHNDQUFzQyxDQUFDO0FBQ3BGLE9BQU8sRUFBRSw4QkFBOEIsRUFBRSxNQUFNLHdDQUF3QyxDQUFDO0FBQ3hGLE9BQU8sRUFDSCw2QkFBNkIsRUFDN0IsZ0NBQWdDLEdBQ25DLE1BQU0sdUNBQXVDLENBQUM7QUFDL0MsT0FBTyxFQUFFLDRCQUE0QixFQUFFLE1BQU0sc0NBQXNDLENBQUM7QUFDcEYsT0FBTyxFQUFFLDZCQUE2QixFQUFFLE1BQU0sdUNBQXVDLENBQUM7QUFDdEYsT0FBTyxFQUFFLFVBQVUsRUFBRSxPQUFPLEVBQWdCLEVBQUUsRUFBRSxNQUFNLE1BQU0sQ0FBQztBQUU3RCxPQUFPLGNBQWMsTUFBTSwwQkFBMEIsQ0FBQztBQUN0RCxPQUFPLEVBQUUsR0FBRyxFQUFFLFlBQVksRUFBRSxNQUFNLGdCQUFnQixDQUFDO0FBQ25ELE9BQU8sRUFBd0IsV0FBVyxFQUFFLE1BQU0sbUJBQW1CLENBQUM7QUFDdEU7SUEwTEksZ0NBQWdDLE1BQWdCO1FBQWhCLFdBQU0sR0FBTixNQUFNLENBQVU7UUFwTHZDLGVBQVUsR0FBRyxFQUFFLENBQUM7UUFDekIsY0FBUyxHQUFHLEtBQUssQ0FBQztRQUNjLFlBQU8sR0FBRyxJQUFJ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c291cmNlc0NvbnRlbnQiOlsiLypcclxuICogQEF1dGhvcjog55av54uC56eA5omNKEx1Y2FzIEh1YW5nKVxyXG4gKiBARGF0ZTogMjAxOS0wOC0xNCAxNToyMjoyMVxyXG4gKiBATGFzdEVkaXRvcnM6IOeWr+eLguengOaJjShMdWNhcyBIdWFuZylcclxuICogQExhc3RFZGl0VGltZTogMjAxOS0wOC0xNSAxNjo0NDoxNVxyXG4gKiBAUVE6IDEwNTU4MTgyMzlcclxuICogQFZlcnNpb246IHYwLjAuMVxyXG4gKi9cclxuaW1wb3J0IHtcclxuICAgIENvbXBvbmVudCxcclxuICAgIE9uSW5pdCxcclxuICAgIElucHV0LFxyXG4gICAgQ29udGVudENoaWxkLFxyXG4gICAgSG9zdEJpbmRpbmcsXHJcbiAgICBPbkRlc3Ryb3ksXHJcbiAgICBWaWV3Q2hpbGQsXHJcbiAgICBPcHRpb25hbCxcclxuICAgIE5nWm9uZSxcclxuICAgIEluamVjdG9yLFxyXG4gICAgRWxlbWVudFJlZixcclxuICAgIFJlbmRlcmVyMixcclxuICAgIENoYW5nZURldGVjdG9yUmVmLFxyXG59IGZyb20gXCJAYW5ndWxhci9jb3JlXCI7XHJcbmltcG9ydCB7IEZhcnJpc1NlY3Rpb25UaXRsZURpcmVjdGl2ZSB9IGZyb20gXCIuL2RpcmVjdGl2ZS9zZWN0aW9uLXRpdGxlLmRpcmVjdGl2ZVwiO1xyXG5pbXBvcnQgeyBGYXJyaXNTZWN0aW9uSGVhZGVyRGlyZWN0aXZlIH0gZnJvbSBcIi4vZGlyZWN0aXZlL3NlY3Rpb24taGVhZGVyLmRpcmVjdGl2ZVwiO1xyXG5pbXBvcnQgeyBGYXJyaXNTZWN0aW9uSGNvbnRlbnREaXJlY3RpdmUgfSBmcm9tIFwiLi9kaXJlY3RpdmUvc2VjdGlvbi1oY29udGVudC5kaXJlY3RpdmVcIjtcclxuaW1wb3J0IHtcclxuICAgIEZhcnJpc1NlY3Rpb25Ub29sYmFyRGlyZWN0aXZlLFxyXG4gICAgRmFycmlzU2VjdGlvblZpZXdDaGFuZ2VEaXJlY3RpdmUsXHJcbn0gZnJvbSBcIi4vZGlyZWN0aXZlL3NlY3Rpb24tdG9vbGJhci5kaXJlY3RpdmVcIjtcclxuaW1wb3J0IHsgRmFycmlzU2VjdGlvbkV4dGVuZERpcmVjdGl2ZSB9IGZyb20gXCIuL2RpcmVjdGl2ZS9zZWN0aW9uLWV4dGVuZC5kaXJlY3RpdmVcIjtcclxuaW1wb3J0IHsgRmFycmlzU2VjdGlvbkNvbnRlbnREaXJlY3RpdmUgfSBmcm9tIFwiLi9kaXJlY3RpdmUvc2VjdGlvbi1jb250ZW50LmRpcmVjdGl2ZVwiO1xyXG5pbXBvcnQgeyBPYnNlcnZhYmxlLCBTdWJqZWN0LCBTdWJzY3JpcHRpb24sIG9mIH0gZnJvbSBcInJ4anNcIjtcclxuaW1wb3J0IHsgVG9vbGJhckNvbmZpZywgQnV0dG9uQ29uZmlnIH0gZnJvbSBcIi4vdG9vbGJhci5jb25maWdcIjtcclxuaW1wb3J0IFJlc2l6ZU9ic2VydmVyIGZyb20gXCJyZXNpemUtb2JzZXJ2ZXItcG9seWZpbGxcIjtcclxuaW1wb3J0IHsgbWFwLCBkZWJvdW5jZVRpbWUgfSBmcm9tIFwicnhqcy9vcGVyYXRvcnNcIjtcclxuaW1wb3J0IHsgQ29tcG9uZW50VGVtcGxhdGVSZWYsIENvbW1vblV0aWxzIH0gZnJvbSBcIkBmYXJyaXMvdWktY29tbW9uXCI7XHJcbkBDb21wb25lbnQoe1xyXG4gICAgc2VsZWN0b3I6IFwiZmFycmlzLXNlY3Rpb25cIixcclxuICAgIHRlbXBsYXRlVXJsOiBcIi4vc2VjdGlvbi5jb21wb25lbnQuaHRtbFwiLFxyXG4gICAgc3R5bGVVcmxzOiBbXCIuL3NlY3Rpb24uY29tcG9uZW50LmNzc1wiXSxcclxufSlcclxuZXhwb3J0IGNsYXNzIEZhcnJpc1NlY3Rpb25Db21wb25lbnQgaW1wbGVtZW50cyBPbkluaXQsIE9uRGVzdHJveSB7XHJcbiAgICBASW5wdXQoKSBjb250ZW50Q2xzID0gXCJcIjtcclxuICAgIG1heFN0YXR1cyA9IGZhbHNlO1xyXG4gICAgQEhvc3RCaW5kaW5nKFwiY2xhc3MuZi1zZWN0aW9uXCIpIGJhc2VDbHMgPSB0cnVlO1xyXG4gICAgQEhvc3RCaW5kaW5nKFwiY2xhc3MuZi1zZWN0aW9uLW1heGltaXplXCIpIG1heFN0YXR1c0NsczogYm9vbGVhbiA9IGZhbHNlO1xyXG4gICAgLy8gQEhvc3RCaW5kaW5nKFwiY2xhc3MuZi1zZWN0aW9uLW1heGltaXplLXNjcm9sbC1jb250ZW50XCIpIG1heFNjcm9sbDpib29sZWFuID0gZmFsc2U7XHJcbiAgICBASG9zdEJpbmRpbmcoXCJjbGFzcy5mLXNlY3Rpb24tZmlsbFwiKSBnZXQgZmlsbENscygpOiBib29sZWFuIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5maWxsO1xyXG4gICAgfVxyXG4gICAgQEhvc3RCaW5kaW5nKFwiY2xhc3MuZi1zZWN0aW9uLWFjY29yZGlvblwiKVxyXG4gICAgZ2V0IGVuYWJsZUFjY29yZGlvbkNscygpOiBib29sZWFuIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5lbmFibGVBY2NvcmRpb24gPT0gXCJkZWZhdWx0XCI7XHJcbiAgICB9XHJcbiAgICBASG9zdEJpbmRpbmcoXCJjbGFzcy5mLXN0YXRlLWNvbGxhcHNlXCIpIGdldCBlbmFibGVDb2xsYXBzZUNscygpOiBib29sZWFuIHtcclxuICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgIHRoaXMuZW5hYmxlQWNjb3JkaW9uID09PSBcImRlZmF1bHRcIiB8fFxyXG4gICAgICAgICAgICB0aGlzLmVuYWJsZUFjY29yZGlvbiA9PT0gXCJjdXN0b21cIlxyXG4gICAgICAgICkge1xyXG4gICAgICAgICAgICByZXR1cm4gIXRoaXMuZXhwYW5kU3RhdHVzO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgQEhvc3RCaW5kaW5nKFwiY2xhc3MuZi1zZWN0aW9uLWN1c3RvbS1hY2NvcmRpb25cIilcclxuICAgIGdldCBlbmFibGVDdXN0b21BY2NvcmRpb25DbHMoKTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZW5hYmxlQWNjb3JkaW9uID09IFwiY3VzdG9tXCI7XHJcbiAgICB9XHJcbiAgICAvLyDkuLvmoIfpophcclxuICAgIEBJbnB1dCgpIG1haW5UaXRsZTogc3RyaW5nO1xyXG4gICAgLy8g5Ymv5qCH6aKYXHJcbiAgICBASW5wdXQoKSBzdWJUaXRsZTogc3RyaW5nO1xyXG4gICAgLy8g5piv5ZCm5pi+56S6aGVhZGVyXHJcbiAgICBASW5wdXQoKSBzaG93SGVhZGVyID0gdHJ1ZTtcclxuICAgIC8vIOaYr+WQpuaUr+aMgeacgOWkp+WMllxyXG4gICAgQElucHV0KCkgZW5hYmxlTWF4aW1pemUgPSBmYWxzZTtcclxuICAgIC8vIOacgOWkp+WMluaXtu+8jOWGheWuueaYr+WQpuWhq+WFheKAlOKAlOS4gOiIrOihqOagvOWhq+WFheOAgeihqOWNleWhq+WGmeWMuuWfn+aYr+a7muWKqFxyXG4gICAgQElucHV0KCkgbWF4Q29udGVudEZpbGwgPSB0cnVlO1xyXG4gICAgLyoqXHJcbiAgICAgKiDmmK/lkKblkK/nlKjlj47mipjlip/og71cclxuICAgICAqIOm7mOiupOS4jeWQr+eUqOWPjuaKmCzlgLzkuLonJ1xyXG4gICAgICog5ZCv55So6buY6K6k5Y+O5oqYLOWAvOS4uidkZWZhdWx0J1xyXG4gICAgICog5ZCv55So6Ieq5a6a5LmJ5Y+O5oqYLOWAvOS4uiAnY3VzdG9tJ1xyXG4gICAgICoqL1xyXG4gICAgQElucHV0KCkgZW5hYmxlQWNjb3JkaW9uID0gXCJcIjtcclxuICAgIC8vIHNlY3Rpb27mmK/lkKbpk7rmu6FcclxuICAgIEBJbnB1dCgpIGZpbGwgPSBmYWxzZTtcclxuICAgIC8vIOm7mOiupOaYr+aYr+WQpuWxleW8gFxyXG4gICAgQElucHV0KCkgZXhwYW5kU3RhdHVzID0gdHJ1ZTtcclxuICAgIC8qKlxyXG4gICAgICog5LqL5Lu25LiK5LiL5paH77yM6Kej5Yaz5oyJ6ZKu54K55Ye75pe25rKh5pyJ5LiK5LiL5paH55qE6Zeu6aKYXHJcbiAgICAgKi9cclxuICAgIEBJbnB1dCgpIGNvbnRleHQ6IGFueTtcclxuICAgIEBJbnB1dCgpIGluZGV4OiBhbnk7XHJcbiAgICAvLyDlsLHmnaXmjInpkq7kvY3nva5cclxuICAgIHRvb2xiYXJQb3NpdGlvbiA9IFwiXCI7XHJcbiAgICAvL1xyXG4gICAgdG9vbGJhckJ0bnMgPSBbXTtcclxuICAgIC8vIOW3peWFt+agj+aMiemSrlxyXG4gICAgcHJpdmF0ZSBfdG9vbGJhcjogVG9vbGJhckNvbmZpZyB8IG51bGwgPSBudWxsO1xyXG4gICAgQElucHV0KClcclxuICAgIHNldCB0b29sYmFyKHZhbHVlOiBUb29sYmFyQ29uZmlnIHwgbnVsbCkge1xyXG4gICAgICAgIGlmICh2YWx1ZSkge1xyXG4gICAgICAgICAgICB0aGlzLl90b29sYmFyID0gdmFsdWU7XHJcbiAgICAgICAgICAgIC8vIOiuoeeul+S9jee9rlxyXG4gICAgICAgICAgICB0aGlzLnRvb2xiYXJQb3NpdGlvbiA9IHRoaXMuZ2V0VG9vbGJhclBvc2l0aW9uKCk7XHJcbiAgICAgICAgICAgIC8vXHJcbiAgICAgICAgICAgIHRoaXMudG9vbGJhckJ0bnMgPSBbLi4udGhpcy50b29sYmFyLmNvbnRlbnRzXTtcclxuICAgICAgICAgICAgdGhpcy5pbk1vcmVCdXR0b25Db250ZW50cyA9IFtdO1xyXG4gICAgICAgICAgICAvLyDnu5Hlrprkuovku7ZcclxuICAgICAgICAgICAgdGhpcy5iaW5kUmVzaXplRXZlbnQoKTtcclxuICAgICAgICAgICAgLy8g6LCD5pW055WM6Z2iXHJcbiAgICAgICAgICAgIHRoaXMuYWZ0ZXJCaW5kVG9vbGJhckRhdGEoKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLl90b29sYmFyID0gbnVsbDtcclxuICAgICAgICAgICAgLy8g5pyJ5L2N572uXHJcbiAgICAgICAgICAgIHRoaXMudG9vbGJhclBvc2l0aW9uID0gXCJcIjtcclxuICAgICAgICAgICAgdGhpcy50b29sYmFyQnRucyA9IFtdO1xyXG4gICAgICAgICAgICB0aGlzLmluTW9yZUJ1dHRvbkNvbnRlbnRzID0gW107XHJcbiAgICAgICAgICAgIC8vIOenu+mZpOe7keWumuS6i+S7tlxyXG4gICAgICAgICAgICB0aGlzLnVuQmluZFJlc2l6ZUV2ZW50KCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZ2V0IHRvb2xiYXIoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Rvb2xiYXI7XHJcbiAgICB9XHJcbiAgICAvL+agh+iusOaMiemSruW3peWFt+agj+aYr+WQpumakOiXj1vmm7TlpJpd5oyJ6ZKuXHJcbiAgICB0b29sYmFyRHBIaWRkZW4gPSB0cnVlO1xyXG4gICAgQElucHV0KCkgY3R4O1xyXG4gICAgLy8gc2VjdGlvbuWktOmDqFxyXG4gICAgQElucHV0KCkgaGVhZGVyQ29tcG9uZW50VHlwZTogQ29tcG9uZW50VGVtcGxhdGVSZWY7XHJcbiAgICAvLyBzZWN0aW9u5aS06YOo5qCH6aKY5Yy65qih5p2/XHJcbiAgICBASW5wdXQoKSB0aXRsZUNvbXBvbmVudFR5cGU6IENvbXBvbmVudFRlbXBsYXRlUmVmO1xyXG4gICAgLy9zZWN0aW9u5aS06YOo5Y+v5omp5bGV5Yy65Z+f5qih5p2/XHJcbiAgICBASW5wdXQoKSBjb250ZW50Q29tcG9uZW50VHlwZTogQ29tcG9uZW50VGVtcGxhdGVSZWY7XHJcbiAgICAvL3NlY3Rpb27lpLTpg6jlt6XlhbfmoI/ljLrln5/mqKHmnb9cclxuICAgIEBJbnB1dCgpIHRvb2xiYXJDb21wb25lbnRUeXBlOiBDb21wb25lbnRUZW1wbGF0ZVJlZjtcclxuICAgIC8vc2VjdGlvbuWPr+aJqeWxleWMuuWfn+aooeadv+KAlOKAlOWGheWuueWMuuS4iumdoueahOaJqeWxle+8jOagh+mimOS4i+mdolxyXG4gICAgQElucHV0KCkgZXh0ZW5kQ29tcG9uZW50VHlwZTogQ29tcG9uZW50VGVtcGxhdGVSZWY7XHJcbiAgICAvL3NlY3Rpb27lpLTpg6hWaWV3Q2hhbmdl5Yy65Z+f5qih5p2/XHJcbiAgICBASW5wdXQoKSB2aWV3Y2hhZ25lQ29tcG9uZW50VHlwZTogQ29tcG9uZW50VGVtcGxhdGVSZWY7XHJcblxyXG4gICAgLy8gc2VjdGlvbuWktOmDqOaooeadv1xyXG4gICAgQENvbnRlbnRDaGlsZChGYXJyaXNTZWN0aW9uSGVhZGVyRGlyZWN0aXZlKSBoZWFkZXJEaXJlY3RpdmU6IGFueTtcclxuICAgIC8vIHNlY3Rpb27lpLTpg6jmoIfpopjljLrmqKHmnb9cclxuICAgIEBDb250ZW50Q2hpbGQoRmFycmlzU2VjdGlvblRpdGxlRGlyZWN0aXZlKSBoZWFkZXJUaXRsZURpcmVjdGl2ZTogYW55O1xyXG4gICAgLy9zZWN0aW9u5aS06YOo5Y+v5omp5bGV5Yy65Z+f5qih5p2/XHJcbiAgICBAQ29udGVudENoaWxkKEZhcnJpc1NlY3Rpb25IY29udGVudERpcmVjdGl2ZSkgaGVhZGVyQ29udGVudERpcmVjdGl2ZTogYW55O1xyXG4gICAgLy9zZWN0aW9u5aS06YOo5bel5YW35qCP5Yy65Z+f5qih5p2/XHJcbiAgICBAQ29udGVudENoaWxkKEZhcnJpc1NlY3Rpb25Ub29sYmFyRGlyZWN0aXZlKSBoZWFkZXJUb29sYmFyRGlyZWN0aXZlOiBhbnk7XHJcbiAgICAvL3NlY3Rpb27lj6/mianlsZXljLrln5/mqKHmnb/igJTigJTlhoXlrrnljLrkuIrpnaLnmoTmianlsZXvvIzmoIfpopjkuIvpnaJcclxuICAgIEBDb250ZW50Q2hpbGQoRmFycmlzU2VjdGlvbkV4dGVuZERpcmVjdGl2ZSkgZXh0ZW5kRGlyZWN0aXZlOiBhbnk7XHJcbiAgICAvL3NlY3Rpb27lhoXlrrnljLrln5/mqKHmnb9cclxuICAgIEBDb250ZW50Q2hpbGQoRmFycmlzU2VjdGlvbkNvbnRlbnREaXJlY3RpdmUpIGNvbnRlbnREaXJlY3RpdmU6IGFueTtcclxuICAgIC8vc2VjdGlvbuWktOmDqFZpZXdDaGFuZ2XljLrln5/mqKHmnb9cclxuICAgIEBDb250ZW50Q2hpbGQoRmFycmlzU2VjdGlvblZpZXdDaGFuZ2VEaXJlY3RpdmUpIHZpZXdDaGFuZ2VEaXJlY3RpdmU6IGFueTtcclxuXHJcbiAgICAvLyDlj4LnhadUYWLkuK3ov5nmoLfnmoTlpITnkIbmlrnlvI/mnInpl67popgtLS0t5bu25ZCO5L+u5pS5XHJcbiAgICAvLyDmmK/lkKbooqvnpoHnlKjnmoTnirbmgIFcclxuICAgIC8vIOaMieeFp+S5i+WJjeeahOmAu+i+ke+8jOWmguaenOayoeacieaJvuWIsGtlee+8jOWwseivtOaYjuiiq+emgeeUqFxyXG4gICAgX2Rpc2FibGVEYXRhczogT2JzZXJ2YWJsZTxBcnJheTx7IFtrZXk6IHN0cmluZ106IGJvb2xlYW4gfT4+ID1cclxuICAgICAgICBuZXcgU3ViamVjdCgpO1xyXG4gICAgQElucHV0KClcclxuICAgIHNldCBidG5TdGF0ZXModmFsdWVzOiBPYnNlcnZhYmxlPEFycmF5PHsgW2tleTogc3RyaW5nXTogYm9vbGVhbiB9Pj4pIHtcclxuICAgICAgICBpZiAodmFsdWVzKSB7XHJcbiAgICAgICAgICAgIGlmIChcclxuICAgICAgICAgICAgICAgIHRoaXMuX2Rpc2FibGVEYXRhcyAmJlxyXG4gICAgICAgICAgICAgICAgdGhpcy5fZGlzYWJsZURhdGFzLmhhc093blByb3BlcnR5KFwidW5zdWJzY3JpYmVcIilcclxuICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9kaXNhYmxlRGF0YXNbXCJ1bnN1YnNjcmliZVwiXSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuX2Rpc2FibGVEYXRhcyA9IHZhbHVlcztcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvLyDmjInnhafkuYvliY3nmoTpgLvovpHvvIzlpoLmnpzmsqHmnInmib7liLBrZXnvvIzlsLHor7TmmI7lj6/op4FcclxuICAgIF92aXNpYmxlRGF0YXM6IE9ic2VydmFibGU8QXJyYXk8eyBba2V5OiBzdHJpbmddOiBib29sZWFuIH0+PiA9XHJcbiAgICAgICAgbmV3IFN1YmplY3QoKTtcclxuICAgIC8vIOaYr+WQpuWPr+ingeeahOeKtuaAgVxyXG4gICAgQElucHV0KClcclxuICAgIHNldCBidG5WaXNpYmxlKHZhbHVlczogT2JzZXJ2YWJsZTxBcnJheTx7IFtrZXk6IHN0cmluZ106IGJvb2xlYW4gfT4+KSB7XHJcbiAgICAgICAgaWYgKHZhbHVlcykge1xyXG4gICAgICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgICAgICB0aGlzLl92aXNpYmxlRGF0YXMgJiZcclxuICAgICAgICAgICAgICAgIHRoaXMuX3Zpc2libGVEYXRhcy5oYXNPd25Qcm9wZXJ0eShcInVuc3Vic2NyaWJlXCIpXHJcbiAgICAgICAgICAgICkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fdmlzaWJsZURhdGFzW1widW5zdWJzY3JpYmVcIl0oKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLl92aXNpYmxlRGF0YXMgPSB2YWx1ZXM7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgQElucHV0KCkgY2xpY2tUaHJvdHRsZVRpbWUgPSAzNTA7XHJcblxyXG4gICAgLy8g6YCa6L+H5oyJ6ZKu5pWw57uE5pi+56S65bel5YW35qCPXHJcbiAgICBAVmlld0NoaWxkKFwidG9vbGJhckNvbnRhaW5lclwiKSB0b29sYmFyQ29udGFpbmVyO1xyXG4gICAgLy8g6K6h566X5bel5YW35qCP5oyJ6ZKu5a695bqm55qE6L6F5Yqp5Yy65Z+fXHJcbiAgICBAVmlld0NoaWxkKFwiYnRuUGxhY2Vob2xkZXJcIikgYnRuUGxhY2VIb2xkZXI7XHJcblxyXG4gICAgcHJpdmF0ZSBjbGlja0l0ZW1zID0gbmV3IFN1YmplY3Q8YW55PigpO1xyXG4gICAgcHJpdmF0ZSBjbGlja1N1YnNjcmlwdGlvbjogU3Vic2NyaXB0aW9uO1xyXG4gICAgLy8g55So5LqO5o+Q5L6b5b6q546v5pWI546HXHJcbiAgICB0cmFja0J5QnV0dG9uKGluZGV4OiBudW1iZXIsIGJ0bjogYW55KTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gYnRuLmlkO1xyXG4gICAgfVxyXG4gICAgLy8g55So5LqO6K6h566X5ZON5bqU5pe2XHJcbiAgICBwcml2YXRlIHJvOiBSZXNpemVPYnNlcnZlciA9IG51bGw7XHJcbiAgICBwcml2YXRlIHJlc2l6ZUVsID0gbnVsbDtcclxuICAgIC8vIOWkhOeQhuWPmOWMllxyXG4gICAgcHJpdmF0ZSBuZ1pvbmU7XHJcbiAgICAvLyDlvZPlrr3luqbmlLnlj5jml7bvvIzlvLrliLbmlLbotbfkuIvmi4noj5zljZUgXHJcbiAgICBkcFN0YXRlID0gW2ZhbHNlXTtcclxuICAgIC8vIOS4i+aLieiPnOWNleeahOWPgueFp+WFg+e0oFxyXG4gICAgcmVmZXJFbCA9IG51bGw7XHJcbiAgICBwcml2YXRlIHJlbmRlcmVyOiBSZW5kZXJlcjI7XHJcbiAgICAvLyDliJ3lp4vnmoTniLblhYPntKBcclxuICAgIHByaXZhdGUgaW5pdFBhcmVudCA9IG51bGw7XHJcbiAgICBwcml2YXRlIGluaXRTaWJsaW5nID0gbnVsbDtcclxuICAgIHByaXZhdGUgZWxTZWxmOiBFbGVtZW50UmVmPGFueT47XHJcbiAgICBpbk1vcmVCdXR0b25Db250ZW50czogQnV0dG9uQ29uZmlnW10gPSBbXTtcclxuICAgIGNvbW1vblV0aWxzOiBDb21tb25VdGlscztcclxuICAgIHByaXZhdGUgY2RSZWY6IENoYW5nZURldGVjdG9yUmVmO1xyXG4gICAgcHJpdmF0ZSBuYXRpdmVFbDtcclxuICAgIGNvbnN0cnVjdG9yKEBPcHRpb25hbCgpIHByaXZhdGUgaW5qZWN0OiBJbmplY3Rvcikge1xyXG4gICAgICAgIGlmICh0aGlzLmluamVjdCkge1xyXG4gICAgICAgICAgICB0aGlzLm5nWm9uZSA9IHRoaXMuaW5qZWN0LmdldChOZ1pvbmUsIG51bGwpO1xyXG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVyID0gdGhpcy5pbmplY3QuZ2V0KFJlbmRlcmVyMiwgbnVsbCk7XHJcbiAgICAgICAgICAgIHRoaXMuZWxTZWxmID0gdGhpcy5pbmplY3QuZ2V0KEVsZW1lbnRSZWYsIG51bGwpO1xyXG4gICAgICAgICAgICB0aGlzLmNkUmVmPSB0aGlzLmluamVjdC5nZXQoQ2hhbmdlRGV0ZWN0b3JSZWYsIG51bGwpO1xyXG4gICAgICAgICAgICB0aGlzLmNvbW1vblV0aWxzID0gdGhpcy5pbmplY3QuZ2V0KENvbW1vblV0aWxzLCBuZXcgQ29tbW9uVXRpbHMoKSk7XHJcbiAgICAgICAgICAgIHRoaXMubmF0aXZlRWw9dGhpcy5pbmplY3QuZ2V0KEVsZW1lbnRSZWYsIG51bGwpO1xyXG4gICAgICAgICAgICB0aGlzLnJlZmVyRWw9dGhpcy5uYXRpdmVFbC5uYXRpdmVFbGVtZW50O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBuZ09uSW5pdCgpIHtcclxuICAgICAgICAvLyDmoIforrDngrnlh7vkuovku7ZcclxuICAgICAgICB0aGlzLmNsaWNrU3Vic2NyaXB0aW9uID0gdGhpcy5jbGlja0l0ZW1zXHJcbiAgICAgICAgICAgIC5waXBlKGRlYm91bmNlVGltZSh0aGlzLmNsaWNrVGhyb3R0bGVUaW1lKSlcclxuICAgICAgICAgICAgLnN1YnNjcmliZSgoYnRuSW5mbzogQnV0dG9uQ29uZmlnKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoYnRuSW5mby5jbGljayAmJiB0eXBlb2YgYnRuSW5mby5jbGljayA9PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBidG5JbmZvLmNsaWNrKHsgY29udGV4dDogdGhpcy5jb250ZXh0IH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAvLyDnu5HlrprnirbmgIFcclxuICAgICAgICB0aGlzLl9kaXNhYmxlRGF0YXMuc3Vic2NyaWJlKChkYXRhKSA9PiB7XHJcbiAgICAgICAgICAgIC8vIOiwg+aVtOaMiemSruWPr+eUqOeKtuaAgVxyXG4gICAgICAgICAgICB0aGlzLmNoYW5nZVN0YXRlKGRhdGEsIFwiZGlzYWJsZVwiKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLl92aXNpYmxlRGF0YXMuc3Vic2NyaWJlKChkYXRhKSA9PiB7XHJcbiAgICAgICAgICAgIC8vIOiwg+aVtOaMiemSruWPr+ingeeKtuaAgVxyXG4gICAgICAgICAgICB0aGlzLmNoYW5nZVN0YXRlKGRhdGEsIFwidmlzaWJsZVwiKTtcclxuICAgICAgICAgICAgLy8g6YeN5paw5Yik5pat5piv5ZCm6ZyA6KaB5pi+56S65LiL5ouJICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIHRoaXMuX2NhbGN1bGF0ZVRvb2xiYXJEcm9wZG93bklzU2hvdygpO1xyXG4gICAgICAgICAgICB0aGlzLl9jYWxjdWxhdGVCdXR0b25zU2hvdygpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vIOWmguaenOaciWluamVjdO+8jOWPluWIsOWFg+e0oOacrOi6q1xyXG4gICAgICAgIGlmICh0aGlzLmVsU2VsZikge1xyXG4gICAgICAgICAgICB0aGlzLmluaXRQYXJlbnQgPSB0aGlzLmVsU2VsZi5uYXRpdmVFbGVtZW50LnBhcmVudEVsZW1lbnQ7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgIC8qKlxyXG4gICAgICogWGltZW5hIDIzLjA4LjMwIOWIpOaWreaYr+WQpuWPr+ingSzni6znq4vlh7rmnaVcclxuICAgICAqIFRvZG86XHJcbiAgICAgKiAx44CB546w5ZyoYnRuVmlzaWJsZeavj+asoeeahOWPmOabtOmDveaYr+WFqOmHj++8jOaYr+WQpumcgOimgeiusOW9leavj+asoeWPmOabtO+8jOeEtuWQjuWQiOW5tuiuoeeul++8n1xyXG4gICAgICogMuOAgeeOsOWcqOWIpOaWreaYr+WQpuWPr+ingeeahOaWueazle+8jOaYr+ebtOaOpeabtOaWsOeVjOmdoueahO+8jOavj+S4quaMiemSruS4iumDvee7keWumuS6hui/meS4quaWueazle+8jOS8muacieaAp+iDvemXrumimOOAguW6lOivpeaUueaIkOWkhOeQhuWcqOe7keWumueahOaJgOacieaVsOaNru+8jOeEtuWQjuabtOaWsOeVjOmdouOAglxyXG4gICAgICogM+OAgeaYr+WQpuWPr+ingeWSjOemgeeUqOacieWQjOagt+eahOmXrumimFxyXG4gICAgICogQHBhcmFtIGlkIFxyXG4gICAgICogQHJldHVybnMgXHJcbiAgICAgKi9cclxuICAgIC8qKlxyXG4gICAgICog6I635Y+W5oyJ6ZKu6YWN572u5Lit77yM56aB55So44CB5Y+v6KeB55qE5bGe5oCnXHJcbiAgICAgKiBAcGFyYW0gaWRcclxuICAgICAqIEBwYXJhbSBzdGF0ZVByb3BcclxuICAgICAqL1xyXG4gICAgZ2V0U3RhdGUoYnRuSXRlbSwgc3RhdGVQcm9wKSB7XHJcbiAgICAgICAgaWYgKGJ0bkl0ZW0uaGFzT3duUHJvcGVydHkoc3RhdGVQcm9wKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gYnRuSXRlbVtzdGF0ZVByb3BdO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyDkuI3lrZjlnKjlsZ7mgKdcclxuICAgICAgICBpZiAoc3RhdGVQcm9wID09IFwidmlzaWJsZVwiKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIOaUueWPmOWPr+eUqOeKtuaAgVxyXG4gICAgICogQHBhcmFtIHZhbHVlc1xyXG4gICAgICovXHJcbiAgICBwcml2YXRlIGNoYW5nZVN0YXRlKHZhbHVlcywgc3RhdGVQcm9wKSB7XHJcbiAgICAgICAgY29uc3QgaWRBcnJheSA9IE9iamVjdC5rZXlzKHZhbHVlcyk7XHJcbiAgICAgICAgaWRBcnJheS5mb3JFYWNoKChpZCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBzdGF0ZSA9IHZhbHVlc1tpZF07XHJcbiAgICAgICAgICAgIGNvbnN0IGl0ZW0gPSB0aGlzLl9maW5kSXRlbUJ5SUQoaWQsIHRoaXMudG9vbGJhckJ0bnMpO1xyXG4gICAgICAgICAgICBpZiAoaXRlbSkge1xyXG4gICAgICAgICAgICAgICAgaXRlbVtzdGF0ZVByb3BdID0gc3RhdGU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLnRvb2xiYXIuY29udGVudHMuZm9yRWFjaCgoaXRlbSkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBmaW5kSWQgPSBpZEFycmF5LmZpbmQoKGlkKSA9PiBpZCA9PSBpdGVtLmlkKTtcclxuICAgICAgICAgICAgaWYgKGZpbmRJZCkge1xyXG4gICAgICAgICAgICAgICAgaXRlbVtzdGF0ZVByb3BdID0gdmFsdWVzW2ZpbmRJZF07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYoaXRlbVsnY2hpbGRyZW4nXSYmaXRlbVsnY2hpbGRyZW4nXS5sZW5ndGg+MCl7XHJcbiAgICAgICAgICAgICAgICAvLyDmlbDmja7mupDlj6rmnInkuIDnuqfnmoTkuIvmi4lcclxuICAgICAgICAgICAgICAgIGxldCBkcENoaWxkcmVuPWl0ZW0uY2hpbGRyZW47XHJcbiAgICAgICAgICAgICAgICBkcENoaWxkcmVuLmZvckVhY2goKGl0ZW0pID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBmaW5kSWQgPSBpZEFycmF5LmZpbmQoKGlkKSA9PiBpZCA9PSBpdGVtLmlkKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZmluZElkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW1bc3RhdGVQcm9wXSA9IHZhbHVlc1tmaW5kSWRdO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5pbk1vcmVCdXR0b25Db250ZW50cy5mb3JFYWNoKChpdGVtKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGZpbmRJZCA9IGlkQXJyYXkuZmluZCgoaWQpID0+IGlkID09IGl0ZW0uaWQpO1xyXG4gICAgICAgICAgICBpZiAoZmluZElkKSB7XHJcbiAgICAgICAgICAgICAgICBpdGVtW3N0YXRlUHJvcF0gPSB2YWx1ZXNbZmluZElkXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZihpdGVtWydjaGlsZHJlbiddJiZpdGVtWydjaGlsZHJlbiddLmxlbmd0aD4wKXtcclxuICAgICAgICAgICAgICAgIC8vIOaVsOaNrua6kOWPquacieS4gOe6p+eahOS4i+aLiVxyXG4gICAgICAgICAgICAgICAgbGV0IGRwQ2hpbGRyZW49aXRlbS5jaGlsZHJlbjtcclxuICAgICAgICAgICAgICAgIGRwQ2hpbGRyZW4uZm9yRWFjaCgoaXRlbSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGZpbmRJZCA9IGlkQXJyYXkuZmluZCgoaWQpID0+IGlkID09IGl0ZW0uaWQpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChmaW5kSWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaXRlbVtzdGF0ZVByb3BdID0gdmFsdWVzW2ZpbmRJZF07XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmRwU3RhdGUgPSBbZmFsc2VdO1xyXG4gICAgICAgIHRoaXMuY2RSZWYmJiF0aGlzLmNkUmVmWydkZXN0cm95ZWQnXSYmdGhpcy5jZFJlZi5kZXRlY3RDaGFuZ2VzKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDmn6Xmib4t5pSv5oyB5LiA57qn5LiL5ouJXHJcbiAgICAgKiBAcGFyYW0gaWRcclxuICAgICAqIEBwYXJhbSBkYXRhc1xyXG4gICAgICovXHJcbiAgICBwcml2YXRlIF9maW5kSXRlbUJ5SUQoaWQ6IHN0cmluZywgZGF0YXM6IEJ1dHRvbkNvbmZpZ1tdKSB7XHJcbiAgICAgICAgbGV0IHJlc3VsdDtcclxuICAgICAgICBsZXQgZmxhZyA9IGZhbHNlO1xyXG4gICAgICAgIGxldCBsZW4gPSBkYXRhcy5sZW5ndGg7XHJcbiAgICAgICAgZm9yICh2YXIgayA9IDA7IGsrKzsgayA8IGxlbikge1xyXG4gICAgICAgICAgICBpZiAoZGF0YXNba10uaWQgPT0gaWQpIHtcclxuICAgICAgICAgICAgICAgIGZsYWcgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gZGF0YXNba107XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZGF0YXNba11bXCJjaGlsZHJlblwiXSAmJiBkYXRhc1trXVtcImNoaWxkcmVuXCJdLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgIGxldCB0SW5kZXggPSBkYXRhc1trXVtcImNoaWxkcmVuXCJdLmZpbmRJbmRleChcclxuICAgICAgICAgICAgICAgICAgICAoYnRuSXRlbSkgPT4gYnRuSXRlbS5pZCA9PSBpZFxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgIGlmICh0SW5kZXggPiAtMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZsYWcgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IGRhdGFzW2tdW1wiY2hpbGRyZW5cIl1bdEluZGV4XTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoZmxhZykgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9XHJcbiAgICBuZ09uRGVzdHJveSgpIHtcclxuICAgICAgICBpZiAodGhpcy5jbGlja1N1YnNjcmlwdGlvbikge1xyXG4gICAgICAgICAgICB0aGlzLmNsaWNrU3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCk7XHJcbiAgICAgICAgICAgIHRoaXMuY2xpY2tTdWJzY3JpcHRpb24gPSBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgIHRoaXMuX3Zpc2libGVEYXRhcyAmJlxyXG4gICAgICAgICAgICB0aGlzLl92aXNpYmxlRGF0YXMuaGFzT3duUHJvcGVydHkoXCJ1bnN1YnNjcmliZVwiKVxyXG4gICAgICAgICkge1xyXG4gICAgICAgICAgICB0aGlzLl92aXNpYmxlRGF0YXNbXCJ1bnN1YnNjcmliZVwiXSgpO1xyXG4gICAgICAgICAgICB0aGlzLl92aXNpYmxlRGF0YXMgPSBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgIHRoaXMuX2Rpc2FibGVEYXRhcyAmJlxyXG4gICAgICAgICAgICB0aGlzLl9kaXNhYmxlRGF0YXMuaGFzT3duUHJvcGVydHkoXCJ1bnN1YnNjcmliZVwiKVxyXG4gICAgICAgICkge1xyXG4gICAgICAgICAgICB0aGlzLl9kaXNhYmxlRGF0YXNbXCJ1bnN1YnNjcmliZVwiXSgpO1xyXG4gICAgICAgICAgICB0aGlzLl9kaXNhYmxlRGF0YXMgPSBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnVuQmluZFJlc2l6ZUV2ZW50KCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIOe7keWumumZkOWItlxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIGJpbmRSZXNpemVFdmVudCgpIHtcclxuICAgICAgICAvLyDmoIforrDlk43lupTml7ZcclxuICAgICAgICBpZiAodGhpcy5uZ1pvbmUgJiYgdGhpcy50b29sYmFyICYmIHRoaXMudG9vbGJhci5jb250ZW50cy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIHRoaXMubmdab25lLnJ1bk91dHNpZGVBbmd1bGFyKCgpID0+IHtcclxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy50b29sYmFyQ29udGFpbmVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucm8pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50b29sYmFyQ29udGFpbmVyLm5hdGl2ZUVsZW1lbnQucGFyZW50RWxlbWVudCA9PVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXNpemVFbFxyXG4gICAgICAgICAgICAgICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIOW3sue7keWumui/h1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy51bkJpbmRSZXNpemVFdmVudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnJvID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucm8gPSBuZXcgUmVzaXplT2JzZXJ2ZXIoKGVsKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9jYWxjdWxhdGVUb29sYmFyRHJvcGRvd25Jc1Nob3coKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2NhbGN1bGF0ZUJ1dHRvbnNTaG93KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlc2l6ZUVsID1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudG9vbGJhckNvbnRhaW5lci5uYXRpdmVFbGVtZW50LnBhcmVudEVsZW1lbnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucm8ub2JzZXJ2ZSh0aGlzLnJlc2l6ZUVsKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LCAwKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy51bkJpbmRSZXNpemVFdmVudCgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICog5oyJ6ZKu5pWw5o2u5Y+Y5pu05ZCO6Kem5Y+R5qOA5p+lXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgYWZ0ZXJCaW5kVG9vbGJhckRhdGEoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMubmdab25lICYmIHRoaXMudG9vbGJhciAmJiB0aGlzLnRvb2xiYXIuY29udGVudHMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICB0aGlzLm5nWm9uZS5ydW5PdXRzaWRlQW5ndWxhcigoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9jYWxjdWxhdGVUb29sYmFyRHJvcGRvd25Jc1Nob3coKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9jYWxjdWxhdGVCdXR0b25zU2hvdygpO1xyXG4gICAgICAgICAgICAgICAgfSwgMCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICog5Yik5pat5LiL5ouJ5oyJ6ZKu5piv5ZCm5pi+56S6XHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgX2NhbGN1bGF0ZVRvb2xiYXJEcm9wZG93bklzU2hvdygpIHtcclxuICAgICAgICBpZiAoIXRoaXMudG9vbGJhckNvbnRhaW5lciB8fCAhdGhpcy50b29sYmFyIHx8ICF0aGlzLnRvb2xiYXJQb3NpdGlvbikge1xyXG4gICAgICAgICAgICAvLyDlrrnlmajmnKrmmL7npLrvvIzmsqHmnInmlbDmja7vvIzmsqHmnInmjInpkq7kvY3nva5cclxuICAgICAgICAgICAgdGhpcy50b29sYmFyRHBIaWRkZW4gPSB0cnVlO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGJ0blBhcmVudHNDb250YWluZXIgPVxyXG4gICAgICAgICAgICB0aGlzLnRvb2xiYXJDb250YWluZXIubmF0aXZlRWxlbWVudC5wYXJlbnRFbGVtZW50O1xyXG4gICAgICAgIGlmIChcclxuICAgICAgICAgICAgdGhpcy5idG5QbGFjZUhvbGRlci5uYXRpdmVFbGVtZW50LnNjcm9sbFdpZHRoID5cclxuICAgICAgICAgICAgYnRuUGFyZW50c0NvbnRhaW5lci5vZmZzZXRXaWR0aFxyXG4gICAgICAgICkge1xyXG4gICAgICAgICAgICB0aGlzLnRvb2xiYXJEcEhpZGRlbiA9IGZhbHNlO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMudG9vbGJhckRwSGlkZGVuID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIOiuoeeul+aYvuekuueahOaMiemSruS4quaVsOWPiuabtOWkmuS4reaYvuekuueahOaMiemSruS4quaVsFxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIF9jYWxjdWxhdGVCdXR0b25zU2hvdygpIHtcclxuICAgICAgICBpZiAoIXRoaXMudG9vbGJhckNvbnRhaW5lciB8fCAhdGhpcy50b29sYmFyIHx8ICF0aGlzLnRvb2xiYXJQb3NpdGlvbikge1xyXG4gICAgICAgICAgICAvLyDlrrnlmajmnKrmmL7npLrvvIzmsqHmnInmlbDmja7vvIzmsqHmnInmjInpkq7kvY3nva5cclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy50b29sYmFyRHBIaWRkZW4pIHtcclxuICAgICAgICAgICAgdGhpcy50b29sYmFyQnRucyA9IFsuLi50aGlzLnRvb2xiYXIuY29udGVudHNdO1xyXG4gICAgICAgICAgICB0aGlzLmluTW9yZUJ1dHRvbkNvbnRlbnRzID0gW107XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IHRvb2xiYXJQYXJlbnRDb250YWluZXJFbCA9XHJcbiAgICAgICAgICAgIHRoaXMudG9vbGJhckNvbnRhaW5lci5uYXRpdmVFbGVtZW50LnBhcmVudEVsZW1lbnQ7XHJcbiAgICAgICAgLy8gbGV0IGRpdkVsID0gdGhpcy50b29sYmFyQ29udGFpbmVyLm5hdGl2ZUVsZW1lbnQ7XHJcbiAgICAgICAgbGV0IGJ0blBsYWNlSG9sZGVyRWwgPSB0aGlzLmJ0blBsYWNlSG9sZGVyLm5hdGl2ZUVsZW1lbnQ7XHJcbiAgICAgICAgbGV0IGJ0blBsYWNlSG9sZGVyQnRucyA9IGJ0blBsYWNlSG9sZGVyRWwucXVlcnlTZWxlY3RvckFsbChcIi5idG4tLWNhbFwiKTtcclxuXHJcbiAgICAgICAgLy8g5pu05aSa5oyJ6ZKuXHJcbiAgICAgICAgY29uc3QgbW9yZUJ1dHRvbiA9XHJcbiAgICAgICAgICAgIGJ0blBsYWNlSG9sZGVyRWwucGFyZW50RWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vcmVidG5cIik7XHJcbiAgICAgICAgLy8g6K6h566X5oyJ6ZKu55qE5a695bqmXHJcbiAgICAgICAgbGV0IGJhc2ljU3RhcnQgPSBwYXJzZUludChcclxuICAgICAgICAgICAgYnRuUGxhY2VIb2xkZXJFbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0XHJcbiAgICAgICAgKTtcclxuICAgICAgICBsZXQgYmFzaWNXaWR0aCA9XHJcbiAgICAgICAgICAgIHRvb2xiYXJQYXJlbnRDb250YWluZXJFbC5vZmZzZXRXaWR0aCAtIG1vcmVCdXR0b24ub2Zmc2V0V2lkdGggLSAxMjtcclxuICAgICAgICBsZXQgdG9vbGJhckRyb3Bkb3duSGlkZGVuID0gdHJ1ZTtcclxuICAgICAgICBsZXQgayA9IDA7XHJcbiAgICAgICAgLy8g5Y+q5pyJ5LiA5Liq5oyJ6ZKuXHJcbiAgICAgICAgaWYgKGJ0blBsYWNlSG9sZGVyQnRucy5sZW5ndGggPT0gMSkge1xyXG4gICAgICAgICAgICBpZiAoYnRuUGxhY2VIb2xkZXJFbC5vZmZzZXRXaWR0aCA+IGJhc2ljV2lkdGgpIHtcclxuICAgICAgICAgICAgICAgIHRvb2xiYXJEcm9wZG93bkhpZGRlbiA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgayA9IDE7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBmb3IgKGsgPSAxOyBrIDw9IGJ0blBsYWNlSG9sZGVyQnRucy5sZW5ndGggLSAxOyBrKyspIHtcclxuICAgICAgICAgICAgICAgIC8vIOWmguaenOWGheWuuei2heWHuizogIPomZHliLDmjInpkq7kuYvpl7TnmoTpl7Tot51cclxuICAgICAgICAgICAgICAgIGlmIChrID09IGJ0blBsYWNlSG9sZGVyQnRucy5sZW5ndGggLSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGJ0blBsYWNlSG9sZGVyRWwub2Zmc2V0V2lkdGggPiBiYXNpY1dpZHRoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvb2xiYXJEcm9wZG93bkhpZGRlbiA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBrID0gayAtIDE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoXHJcbiAgICAgICAgICAgICAgICAgICAgcGFyc2VJbnQoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJ0blBsYWNlSG9sZGVyQnRuc1trXS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0XHJcbiAgICAgICAgICAgICAgICAgICAgKSAtXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhc2ljU3RhcnQgPlxyXG4gICAgICAgICAgICAgICAgICAgIGJhc2ljV2lkdGhcclxuICAgICAgICAgICAgICAgICkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRvb2xiYXJEcm9wZG93bkhpZGRlbiA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIGsgPSBrIC0gMTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy50b29sYmFyRHBIaWRkZW4gPSB0b29sYmFyRHJvcGRvd25IaWRkZW47XHJcbiAgICAgICAgLy8gbGV0IHNob3dCdG5zID0gZGl2RWwucXVlcnlTZWxlY3RvckFsbChcImJ1dHRvblwiKTtcclxuICAgICAgICAvLyDlj6rliKTmlq3nrKzkuIDlsYLvvIzkuI3liKTmlq3kuIvmi4npoblcclxuICAgICAgICBsZXQgc2hvd0J0bnMgPSB0aGlzLnRvb2xiYXIuY29udGVudHMuZmlsdGVyKChpdGVtKSA9PiB0aGlzLmdldFN0YXRlKGl0ZW0sIFwidmlzaWJsZVwiKSk7XHJcbiAgICAgICAgbGV0IHJlc3VsdEJ0bnMgPSBzaG93QnRucy5maWx0ZXIoKGl0ZW0sIGluZGV4KSA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiBpbmRleCA8IGs7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy50b29sYmFyQnRucyA9IHJlc3VsdEJ0bnMgPyBbLi4ucmVzdWx0QnRuc10gOiBbXTtcclxuICAgICAgICAvLyBmb3IgKGxldCBtID0gazsgbSA8IHNob3dCdG5zLmxlbmd0aDsgbSsrKSB7XHJcbiAgICAgICAgLy8gICAgIHRoaXMucmVuZGVyZXIuc2V0U3R5bGUoc2hvd0J0bnNbbV0sICdkaXNwbGF5JywgJ25vbmUnKTtcclxuICAgICAgICAvLyB9XHJcblxyXG4gICAgICAgIHRoaXMuaW5Nb3JlQnV0dG9uQ29udGVudHMgPSBzaG93QnRucy5maWx0ZXIoXHJcbiAgICAgICAgICAgIChpdGVtLCBpbmRleCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGluZGV4ID49IGs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICApO1xyXG4gICAgICAgIHRoaXMuZHBTdGF0ZSA9IFtmYWxzZV07XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIOWcqOaMiemSrueKtuaAgeWPmOWMluaXtuino+mZpOmZkOWItlxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIHVuQmluZFJlc2l6ZUV2ZW50KCkge1xyXG4gICAgICAgIGlmICh0aGlzLnJvKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnJlc2l6ZUVsKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJvLnVub2JzZXJ2ZSh0aGlzLnJlc2l6ZUVsKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLnJvID0gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEByZXR1cm4gc3RyaW5nXHJcbiAgICAgKiAnJyDkuI3lrZjlnKjmjInpkq7vvIzml6DmiYDosJPkvY3nva5cclxuICAgICAqICdpbkhlYWQnIOaMiemSruWcqOWktOmDqFxyXG4gICAgICogJ2luQ29udGVudCcg5oyJ6ZKu5Zyo5YaF5a655L2N572uXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgZ2V0VG9vbGJhclBvc2l0aW9uKCkge1xyXG4gICAgICAgIGlmIChcclxuICAgICAgICAgICAgdGhpcy50b29sYmFyICYmXHJcbiAgICAgICAgICAgIHRoaXMudG9vbGJhci5oYXNPd25Qcm9wZXJ0eShcInBvc2l0aW9uXCIpICYmXHJcbiAgICAgICAgICAgIHRoaXMudG9vbGJhci5oYXNPd25Qcm9wZXJ0eShcImNvbnRlbnRzXCIpICYmXHJcbiAgICAgICAgICAgIHRoaXMudG9vbGJhci5jb250ZW50cy5sZW5ndGggPiAwXHJcbiAgICAgICAgKSB7XHJcbiAgICAgICAgICAgIC8vIOWmguaenOacieWxnuaAp++8jOS4lOaMiemSruacieWAvFxyXG4gICAgICAgICAgICBpZiAodGhpcy50b29sYmFyLnBvc2l0aW9uID09PSBcImluSGVhZFwiKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJpbkhlYWRcIjtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBcImluQ29udGVudFwiO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBcIlwiO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiDliKTmlq3mmK/lkKbmmL7npLrjgIHpmpDol49cclxuICAgICAqIEBwYXJhbSBpZFxyXG4gICAgICogQHBhcmFtIHN0YXRlXHJcbiAgICAgKi9cclxuICAgIGdldFRvb2xiYXJTdGF0ZShcclxuICAgICAgICBpZDogc3RyaW5nLFxyXG4gICAgICAgIHN0YXRlOiBPYnNlcnZhYmxlPGFueT4gPSB0aGlzLmJ0blN0YXRlcyxcclxuICAgICAgICBkZWZhdWx0VmFsdWU6IGJvb2xlYW4gPSBmYWxzZVxyXG4gICAgKSB7XHJcbiAgICAgICAgaWYgKHN0YXRlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBzdGF0ZS5waXBlKFxyXG4gICAgICAgICAgICAgICAgbWFwKChuOiBhbnkpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAobltpZF0gPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLndhcm4oYOacquaJvklE5Li677yaJHtpZH0g55u45YWz54q25oCB6K6+572u77yBYCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkZWZhdWx0VmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuW2lkXTtcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIG9mKGRlZmF1bHRWYWx1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgY2xpY2tIYW5kbGVyKGJ0bkluZm8pIHtcclxuICAgICAgICBpZiAoIWJ0bkluZm8pIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoYnRuSW5mby5oYXNPd25Qcm9wZXJ0eSgnZGlzYWJsZScpJiZidG5JbmZvWydkaXNhYmxlJ10pIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmNsaWNrSXRlbXMubmV4dChidG5JbmZvKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICog5pyA5aSn5pyA5bCP5YyW5LqL5Lu25aSE55CGXHJcbiAgICAgKi9cclxuICAgIG1heG1pbkhhbmRsZXIoKSB7XHJcbiAgICAgICAgdGhpcy5tYXhTdGF0dXMgPSAhdGhpcy5tYXhTdGF0dXM7XHJcbiAgICAgICAgdGhpcy5tYXhTdGF0dXNDbHMgPSB0aGlzLm1heFN0YXR1cztcclxuICAgICAgICAvL3RoaXMubWF4U3RhdHVzQ2xzPXRoaXMubWF4U3RhdHVzJiZ0aGlzLm1heENvbnRlbnRGaWxsO1xyXG4gICAgICAgIC8vIHRoaXMubWF4U2Nyb2xsPXRoaXMubWF4U3RhdHVzJiYhdGhpcy5tYXhDb250ZW50RmlsbDtcclxuICAgICAgICAvLyDmnIDlpKfljJZcclxuICAgICAgICBpZiAoIXRoaXMuaW5pdFBhcmVudCkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLm1heFN0YXR1cykge1xyXG4gICAgICAgICAgICB0aGlzLmluaXRTaWJsaW5nID0gdGhpcy5lbFNlbGYubmF0aXZlRWxlbWVudC5uZXh0RWxlbWVudFNpYmxpbmc7XHJcbiAgICAgICAgICAgIGRvY3VtZW50XHJcbiAgICAgICAgICAgICAgICAucXVlcnlTZWxlY3RvcihcImJvZHlcIilcclxuICAgICAgICAgICAgICAgIC5hcHBlbmRDaGlsZCh0aGlzLmVsU2VsZi5uYXRpdmVFbGVtZW50KTtcclxuICAgICAgICAgICAgaWYgKHRoaXMuY29tbW9uVXRpbHMpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHppbmRleCA9IHRoaXMuY29tbW9uVXRpbHMuZ2V0RmxvYXRpbmdMYXllckluZGV4KCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlcmVyLnNldFN0eWxlKFxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZWxTZWxmLm5hdGl2ZUVsZW1lbnQsXHJcbiAgICAgICAgICAgICAgICAgICAgXCJ6SW5kZXhcIixcclxuICAgICAgICAgICAgICAgICAgICB6aW5kZXhcclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvLyDmnIDlsI/ljJZcclxuICAgICAgICAgICAgaWYgKHRoaXMuaW5pdFNpYmxpbmcpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuaW5pdFBhcmVudC5pbnNlcnRCZWZvcmUoXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbFNlbGYubmF0aXZlRWxlbWVudCxcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmluaXRTaWJsaW5nXHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pbml0UGFyZW50LmFwcGVuZENoaWxkKHRoaXMuZWxTZWxmLm5hdGl2ZUVsZW1lbnQpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVyLnJlbW92ZVN0eWxlKHRoaXMuZWxTZWxmLm5hdGl2ZUVsZW1lbnQsIFwiekluZGV4XCIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4iXX0=