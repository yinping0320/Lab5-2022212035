/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { Component, HostBinding, Input, HostListener, Output, EventEmitter } from '@angular/core';
var RateComponent = /** @class */ (function () {
    function RateComponent() {
        this.fsr = true;
        // 星星大小
        this.size = 'large';
        // 启用半颗星模式
        this.enableHalf = false;
        // 启用再次点击后清除
        this.enableClear = false;
        // 只读
        this.disabled = false;
        // 分制
        this.pointSystem = 5;
        // 图案样式
        this.iconClass = 'f-icon-star';
        // 禁用单个星星的文字提示
        this.toolTipDisabled = true;
        // 默认的满意度文案
        this.toolTipContents = ['很不满意', '不满意', '一般', '满意', '非常满意'];
        // 启用评分
        this.enableScore = true;
        // 启用满意度
        this.enableSatisfaction = false;
        this.valueChange = new EventEmitter();
        // 界面中亮色区域真实宽度
        this.realWidth = 0;
        // 虚拟分数
        this.score = 0;
        // 最终分数
        this.realScore = 0;
        // 比率
        this.rate = 1;
        // 配置
        this.config = [];
        // 星星之间的间距,设计稿是4
        this.distance = 4;
    }
    Object.defineProperty(RateComponent.prototype, "value", {
        set: /**
         * @param {?} value
         * @return {?}
         */
        function (value) {
            this.realScore = value;
        },
        enumerable: true,
        configurable: true
    });
    /**
     * @return {?}
     */
    RateComponent.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
        /** @type {?} */
        var starId;
        switch (this.size) {
            case 'small':
                this.oneStarWidth = 14;
                break;
            case 'middle':
                this.oneStarWidth = 16;
                break;
            case 'large':
                this.oneStarWidth = 18;
                break;
        }
        this.config = [
            {
                id: 1
            },
            {
                id: 2
            },
            {
                id: 3
            },
            {
                id: 4
            },
            {
                id: 5
            }
        ];
        if (this.config.length) {
            this.rate = this.pointSystem / this.config.length;
        }
        if (this.realScore) {
            if (this.enableHalf) {
                starId = Math.ceil(this.realScore / this.rate);
            }
            else {
                starId = this.realScore;
            }
            this.realWidth = (this.oneStarWidth * this.realScore + Math.floor(this.realScore) * this.distance) / this.rate;
            this.satisfaction = this.toolTipContents[starId - 1];
        }
    };
    /**
     * @param {?} event
     * @return {?}
     */
    RateComponent.prototype.onMouseOver = /**
     * @param {?} event
     * @return {?}
     */
    function (event) {
        if (!this.isTargetElement(event.target)) {
            return;
        }
        /** @type {?} */
        var id = parseInt(event.target.id);
        this.operateStar(event, id, false);
    };
    /**
     * @param {?} event
     * @return {?}
     */
    RateComponent.prototype.onMouseMove = /**
     * @param {?} event
     * @return {?}
     */
    function (event) {
        if (!this.isTargetElement(event.target)) {
            return;
        }
        /** @type {?} */
        var id = parseInt(event.target.id);
        this.operateStar(event, id, false);
    };
    /**
     * @param {?} event
     * @return {?}
     */
    RateComponent.prototype.onMouseOut = /**
     * @param {?} event
     * @return {?}
     */
    function (event) {
        if (!this.isTargetElement(event.target)) {
            return;
        }
        this.lightStarAreaWidth = 0;
        this.score = 0;
        this.satisfaction = null;
    };
    /**
     * @param {?} event
     * @return {?}
     */
    RateComponent.prototype.onClick = /**
     * @param {?} event
     * @return {?}
     */
    function (event) {
        if (!this.isTargetElement(event.target)) {
            return;
        }
        /** @type {?} */
        var id = parseInt(event.target.id);
        this.operateStar(event, id, true);
    };
    /**
     * 是否是目标元素
     * @param element
     */
    /**
     * 是否是目标元素
     * @private
     * @param {?} element
     * @return {?}
     */
    RateComponent.prototype.isTargetElement = /**
     * 是否是目标元素
     * @private
     * @param {?} element
     * @return {?}
     */
    function (element) {
        if (element.className.indexOf('f-icon') !== -1) {
            return true;
        }
        else {
            return false;
        }
    };
    /**
     *  再次点击取消选中
     */
    /**
     *  再次点击取消选中
     * @private
     * @return {?}
     */
    RateComponent.prototype.clear = /**
     *  再次点击取消选中
     * @private
     * @return {?}
     */
    function () {
        if (this.lightStarAreaWidth === this.realWidth && this.enableClear && this.realWidth !== 0) {
            this.realWidth = 0;
            this.realScore = 0;
            this.realSatisfaction = null;
            this.valueChange.emit(this.realScore);
            return true;
        }
        return false;
    };
    /**
     *
     * @param event 事件
     * @param id 当前星星的id
     * @param token 是否点击事件触发
     */
    /**
     *
     * @private
     * @param {?} event 事件
     * @param {?} id 当前星星的id
     * @param {?} token 是否点击事件触发
     * @return {?}
     */
    RateComponent.prototype.operateStar = /**
     *
     * @private
     * @param {?} event 事件
     * @param {?} id 当前星星的id
     * @param {?} token 是否点击事件触发
     * @return {?}
     */
    function (event, id, token) {
        // 禁用
        if (this.disabled) {
            return;
        }
        // 满意度文案
        if (this.enableSatisfaction) {
            this.satisfaction = this.toolTipContents[id - 1];
        }
        // 如果滑动的距离小于一颗星星一半的距离（或者超过）
        if (event.offsetX < this.oneStarWidth / 2 && this.enableHalf === true) {
            this.lightStarAreaWidth = (this.oneStarWidth * id) - this.oneStarWidth / 2 + this.distance * (id - 1);
            this.score = (this.rate * id) - this.rate / 2;
            if (token === true) {
                if (this.clear()) {
                    return;
                }
                this.realScore = this.score;
                this.valueChange.emit(this.realScore);
                this.realWidth = this.lightStarAreaWidth;
                this.realSatisfaction = this.satisfaction;
            }
        }
        else {
            this.lightStarAreaWidth = this.oneStarWidth * id + this.distance * (id - 1);
            this.score = this.rate * id;
            if (token === true) {
                if (this.clear()) {
                    return;
                }
                this.realScore = this.score;
                this.valueChange.emit(this.realScore);
                this.realWidth = this.lightStarAreaWidth;
                this.realSatisfaction = this.satisfaction;
            }
        }
    };
    RateComponent.decorators = [
        { type: Component, args: [{
                    selector: 'farris-rate',
                    template: "<div class=\"star-light-area\" [ngStyle]=\"{'width': (lightStarAreaWidth ? lightStarAreaWidth : realWidth)+ 'px'}\">\r\n    <span class=\"{{'f-icon default-light-color ' + iconClass}}\" [id]=\"item.id\"\r\n        [ngStyle]=\"{'color': lightColor ? lightColor : null}\"\r\n        farrisTooltip [content]=\"toolTipContents[item.id - 1]\" [disable]=\"toolTipDisabled\"\r\n        [ngClass]=\"{'f-star-sm': size === 'small','f-star-md': size === 'middle','f-star-lg': size === 'large'}\"\r\n        *ngFor=\"let item of config\">\r\n    </span>\r\n</div>\r\n<div class=\"star-dark-area\"\r\n    [ngClass]=\"{'small': size === 'small', 'middle': size === 'middle','large': size === 'large'}\">\r\n    <span class=\"{{'f-icon default-dark-color ' + iconClass}}\" [id]=\"item.id\"\r\n        [ngStyle]=\"{'color': darkColor ? darkColor : null}\" \r\n        [ngClass]=\"{'f-star-sm': size === 'small', 'f-star-md': size === 'middle', 'f-star-lg': size === 'large'}\"\r\n        *ngFor=\"let item of config\">\r\n    </span>\r\n</div>\r\n<div class=\"f-utils-fill\"\r\n    [ngClass]=\"{'font-small': size === 'small', 'font-middle': size === 'middle','font-large': size === 'large'}\">\r\n    <span *ngIf=\"enableScore\">{{score ? score + '\u5206' : realScore + '\u5206'}}</span>\r\n    <span *ngIf=\"enableSatisfaction && (realSatisfaction || satisfaction)\">\uFF0C{{satisfaction ? satisfaction : realSatisfaction}}</span>\r\n</div>",
                    styles: [":host{display:-webkit-box;display:flex;position:relative}:host .default-light-color{color:#fbdb10}:host .default-dark-color{color:#e8e8e8}.star-dark-area span,.star-light-area span{box-sizing:content-box;padding-right:4px}:host .f-star-sm{font-size:14px}:host .f-star-md{font-size:16px}:host .f-star-lg{font-size:18px}:host .star-dark-area{overflow:hidden;display:-webkit-box;display:flex;flex-wrap:nowrap}:host .small{width:90px}:host .middle{width:100px}:host .large{width:110px}:host .f-utils-fill{padding-left:2px;font-size:14px}:host .font-small{line-height:14px}:host .font-middle{line-height:16px}:host .font-large{line-height:18px}:host .star-light-area{position:absolute;left:0;top:0;z-index:2;width:0%;overflow:hidden;display:-webkit-box;display:flex;flex-wrap:nowrap}:host .star-dark-area span,:host .star-light-area span{-webkit-box-flex:1;flex:1}"]
                }] }
    ];
    /** @nocollapse */
    RateComponent.ctorParameters = function () { return []; };
    RateComponent.propDecorators = {
        fsr: [{ type: HostBinding, args: ['class.farris-star-rating',] }],
        value: [{ type: Input }],
        size: [{ type: Input }],
        enableHalf: [{ type: Input }],
        enableClear: [{ type: Input }],
        disabled: [{ type: Input }],
        pointSystem: [{ type: Input }],
        lightColor: [{ type: Input }],
        darkColor: [{ type: Input }],
        iconClass: [{ type: Input }],
        toolTipDisabled: [{ type: Input }],
        toolTipContents: [{ type: Input }],
        enableScore: [{ type: Input }],
        enableSatisfaction: [{ type: Input }],
        valueChange: [{ type: Output }],
        onMouseOver: [{ type: HostListener, args: ['mouseover', ['$event'],] }],
        onMouseMove: [{ type: HostListener, args: ['mousemove', ['$event'],] }],
        onMouseOut: [{ type: HostListener, args: ['mouseout', ['$event'],] }],
        onClick: [{ type: HostListener, args: ['click', ['$event'],] }]
    };
    return RateComponent;
}());
export { RateComponent };
if (false) {
    /** @type {?} */
    RateComponent.prototype.fsr;
    /** @type {?} */
    RateComponent.prototype.size;
    /** @type {?} */
    RateComponent.prototype.enableHalf;
    /** @type {?} */
    RateComponent.prototype.enableClear;
    /** @type {?} */
    RateComponent.prototype.disabled;
    /** @type {?} */
    RateComponent.prototype.pointSystem;
    /** @type {?} */
    RateComponent.prototype.lightColor;
    /** @type {?} */
    RateComponent.prototype.darkColor;
    /** @type {?} */
    RateComponent.prototype.iconClass;
    /** @type {?} */
    RateComponent.prototype.toolTipDisabled;
    /** @type {?} */
    RateComponent.prototype.toolTipContents;
    /** @type {?} */
    RateComponent.prototype.enableScore;
    /** @type {?} */
    RateComponent.prototype.enableSatisfaction;
    /** @type {?} */
    RateComponent.prototype.valueChange;
    /** @type {?} */
    RateComponent.prototype.pointInfo;
    /** @type {?} */
    RateComponent.prototype.oneStarWidth;
    /** @type {?} */
    RateComponent.prototype.lightStarAreaWidth;
    /** @type {?} */
    RateComponent.prototype.realWidth;
    /** @type {?} */
    RateComponent.prototype.score;
    /** @type {?} */
    RateComponent.prototype.realScore;
    /** @type {?} */
    RateComponent.prototype.rate;
    /** @type {?} */
    RateComponent.prototype.satisfaction;
    /** @type {?} */
    RateComponent.prototype.realSatisfaction;
    /** @type {?} */
    RateComponent.prototype.config;
    /** @type {?} */
    RateComponent.prototype.distance;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicmF0ZS5jb21wb25lbnQuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9AZmFycmlzL3VpLXJhdGUvIiwic291cmNlcyI6WyJsaWIvcmF0ZS5jb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7OztBQUFBLE9BQU8sRUFBRSxTQUFTLEVBQVUsV0FBVyxFQUFFLEtBQUssRUFBRSxZQUFZLEVBQUUsTUFBTSxFQUFFLFlBQVksRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUUxRztJQTBESTtRQW5EeUMsUUFBRyxHQUFHLElBQUksQ0FBQzs7UUFLM0MsU0FBSSxHQUFHLE9BQU8sQ0FBQzs7UUFFZixlQUFVLEdBQUcsS0FBSyxDQUFDOztRQUVuQixnQkFBVyxHQUFHLEtBQUssQ0FBQzs7UUFFcEIsYUFBUSxHQUFHLEtBQUssQ0FBQzs7UUFFakIsZ0JBQVcsR0FBRyxDQUFDLENBQUM7O1FBTWhCLGNBQVMsR0FBRyxhQUFhLENBQUM7O1FBRzFCLG9CQUFlLEdBQUcsSUFBSSxDQUFDOztRQUV2QixvQkFBZSxHQUFHLENBQUMsTUFBTSxFQUFFLEtBQUssRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLE1BQU0sQ0FBQyxDQUFDOztRQUV0RCxnQkFBVyxHQUFHLElBQUksQ0FBQzs7UUFFbkIsdUJBQWtCLEdBQUcsS0FBSyxDQUFDO1FBQzFCLGdCQUFXLEdBQUcsSUFBSSxZQUFZLEVBQUUsQ0FBQzs7UUFPM0MsY0FBUyxHQUFHLENBQUMsQ0FBQzs7UUFFZCxVQUFLLEdBQVEsQ0FBQyxDQUFDOztRQUVmLGNBQVMsR0FBRyxDQUFDLENBQUM7O1FBRWQsU0FBSSxHQUFHLENBQUMsQ0FBQzs7UUFNVCxXQUFNLEdBQUcsRUFBRSxDQUFDOztRQUVaLGFBQVEsR0FBRyxDQUFDLENBQUM7SUFDRyxDQUFDO0lBbERqQixzQkFBYSxnQ0FBSzs7Ozs7UUFBbEIsVUFBbUIsS0FBVTtZQUN6QixJQUFJLENBQUMsU0FBUyxHQUFHLEtBQUssQ0FBQztRQUMzQixDQUFDOzs7T0FBQTs7OztJQWtE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b0NBQTRCOztJQUU1QiwyQ0FBb0M7O0lBQ3BDLG9DQUEyQzs7SUFDM0Msa0NBQWtCOztJQUVsQixxQ0FBcUI7O0lBRXJCLDJDQUEyQjs7SUFFM0Isa0NBQWM7O0lBRWQsOEJBQWU7O0lBRWYsa0NBQWM7O0lBRWQsNkJBQVM7O0lBRVQscUNBQWtCOztJQUVsQix5Q0FBc0I7O0lBRXRCLCtCQUFZOztJQUVaLGlDQUFhIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29tcG9uZW50LCBPbkluaXQsIEhvc3RCaW5kaW5nLCBJbnB1dCwgSG9zdExpc3RlbmVyLCBPdXRwdXQsIEV2ZW50RW1pdHRlciB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xyXG5cclxuQENvbXBvbmVudCh7XHJcbiAgICBzZWxlY3RvcjogJ2ZhcnJpcy1yYXRlJyxcclxuICAgIHRlbXBsYXRlVXJsOiAnLi9yYXRlLmNvbXBvbmVudC5odG1sJyxcclxuICAgIHN0eWxlVXJsczogWycuL3JhdGUuY29tcG9uZW50LmNzcyddXHJcbn0pXHJcbmV4cG9ydCBjbGFzcyBSYXRlQ29tcG9uZW50IGltcGxlbWVudHMgT25Jbml0IHtcclxuXHJcbiAgICBASG9zdEJpbmRpbmcoJ2NsYXNzLmZhcnJpcy1zdGFyLXJhdGluZycpIGZzciA9IHRydWU7XHJcbiAgICBASW5wdXQoKSBzZXQgdmFsdWUodmFsdWU6IGFueSkge1xyXG4gICAgICAgIHRoaXMucmVhbFNjb3JlID0gdmFsdWU7XHJcbiAgICB9XHJcbiAgICAvLyDmmJ/mmJ/lpKflsI9cclxuICAgIEBJbnB1dCgpIHNpemUgPSAnbGFyZ2UnO1xyXG4gICAgLy8g5ZCv55So5Y2K6aKX5pif5qih5byPXHJcbiAgICBASW5wdXQoKSBlbmFibGVIYWxmID0gZmFsc2U7XHJcbiAgICAvLyDlkK/nlKjlho3mrKHngrnlh7vlkI7muIXpmaRcclxuICAgIEBJbnB1dCgpIGVuYWJsZUNsZWFyID0gZmFsc2U7XHJcbiAgICAvLyDlj6ror7tcclxuICAgIEBJbnB1dCgpIGRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAvLyDliIbliLZcclxuICAgIEBJbnB1dCgpIHBvaW50U3lzdGVtID0gNTtcclxuICAgIC8vIOaYn+aYn+S6ruiJslxyXG4gICAgQElucHV0KCkgbGlnaHRDb2xvcjogc3RyaW5nO1xyXG4gICAgLy8g5pif5pif5pqX6Imy77yI5bqV6Imy77yJXHJcbiAgICBASW5wdXQoKSBkYXJrQ29sb3I6IHN0cmluZztcclxuICAgIC8vIOWbvuahiOagt+W8j1xyXG4gICAgQElucHV0KCkgaWNvbkNsYXNzID0gJ2YtaWNvbi1zdGFyJztcclxuXHJcbiAgICAvLyDnpoHnlKjljZXkuKrmmJ/mmJ/nmoTmloflrZfmj5DnpLpcclxuICAgIEBJbnB1dCgpIHRvb2xUaXBEaXNhYmxlZCA9IHRydWU7XHJcbiAgICAvLyDpu5jorqTnmoTmu6HmhI/luqbmlofmoYhcclxuICAgIEBJbnB1dCgpIHRvb2xUaXBDb250ZW50cyA9IFsn5b6I5LiN5ruh5oSPJywgJ+S4jea7oeaEjycsICfkuIDoiKwnLCAn5ruh5oSPJywgJ+mdnuW4uOa7oeaEjyddO1xyXG4gICAgLy8g5ZCv55So6K+E5YiGXHJcbiAgICBASW5wdXQoKSBlbmFibGVTY29yZSA9IHRydWU7XHJcbiAgICAvLyDlkK/nlKjmu6HmhI/luqZcclxuICAgIEBJbnB1dCgpIGVuYWJsZVNhdGlzZmFjdGlvbiA9IGZhbHNlO1xyXG4gICAgQE91dHB1dCgpIHZhbHVlQ2hhbmdlID0gbmV3IEV2ZW50RW1pdHRlcigpO1xyXG4gICAgcG9pbnRJbmZvOiBzdHJpbmc7XHJcbiAgICAvLyDkuIDpopfmmJ/lrr3luqZcclxuICAgIG9uZVN0YXJXaWR0aDogbnVtYmVyO1xyXG4gICAgLy8g5Lqu6Imy5Yy65Z+f6Jma5ouf5a695bqmXHJcbiAgICBsaWdodFN0YXJBcmVhV2lkdGg6IG51bWJlcjtcclxuICAgIC8vIOeVjOmdouS4reS6ruiJsuWMuuWfn+ecn+WunuWuveW6plxyXG4gICAgcmVhbFdpZHRoID0gMDtcclxuICAgIC8vIOiZmuaLn+WIhuaVsFxyXG4gICAgc2NvcmU6IGFueSA9IDA7XHJcbiAgICAvLyDmnIDnu4jliIbmlbBcclxuICAgIHJlYWxTY29yZSA9IDA7XHJcbiAgICAvLyDmr5TnjodcclxuICAgIHJhdGUgPSAxO1xyXG4gICAgLy8g5YiH5o2i55qE5ruh5oSP5bqmXHJcbiAgICBzYXRpc2ZhY3Rpb246IGFueTtcclxuICAgIC8vIOacgOe7iOaYvuekuueahOa7oeaEj+W6plxyXG4gICAgcmVhbFNhdGlzZmFjdGlvbjogYW55O1xyXG4gICAgLy8g6YWN572uXHJcbiAgICBjb25maWcgPSBbXTtcclxuICAgIC8vIOaYn+aYn+S5i+mXtOeahOmXtOi3nSzorr7orqHnqL/mmK80XHJcbiAgICBkaXN0YW5jZSA9IDQ7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHsgfVxyXG5cclxuICAgIG5nT25Jbml0KCkge1xyXG4gICAgICAgIGxldCBzdGFySWQ6IGFueTtcclxuICAgICAgICBzd2l0Y2ggKHRoaXMuc2l6ZSkge1xyXG4gICAgICAgICAgICBjYXNlICdzbWFsbCc6XHJcbiAgICAgICAgICAgICAgICB0aGlzLm9uZVN0YXJXaWR0aCA9IDE0O1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgJ21pZGRsZSc6XHJcbiAgICAgICAgICAgICAgICB0aGlzLm9uZVN0YXJXaWR0aCA9IDE2O1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgJ2xhcmdlJzpcclxuICAgICAgICAgICAgICAgIHRoaXMub25lU3RhcldpZHRoID0gMTg7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5jb25maWcgPSBbXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGlkOiAxXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGlkOiAyXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGlkOiAzXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGlkOiA0XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGlkOiA1XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICBdO1xyXG4gICAgICAgIGlmICh0aGlzLmNvbmZpZy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgdGhpcy5yYXRlID0gdGhpcy5wb2ludFN5c3RlbSAvIHRoaXMuY29uZmlnLmxlbmd0aDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMucmVhbFNjb3JlKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmVuYWJsZUhhbGYpIHtcclxuICAgICAgICAgICAgICAgIHN0YXJJZCA9IE1hdGguY2VpbCh0aGlzLnJlYWxTY29yZSAvIHRoaXMucmF0ZSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBzdGFySWQgPSB0aGlzLnJlYWxTY29yZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLnJlYWxXaWR0aCA9ICh0aGlzLm9uZVN0YXJXaWR0aCAqIHRoaXMucmVhbFNjb3JlICsgTWF0aC5mbG9vcih0aGlzLnJlYWxTY29yZSkgKiB0aGlzLmRpc3RhbmNlKSAvIHRoaXMucmF0ZTtcclxuICAgICAgICAgICAgdGhpcy5zYXRpc2ZhY3Rpb24gPSB0aGlzLnRvb2xUaXBDb250ZW50c1tzdGFySWQgLSAxXVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBASG9zdExpc3RlbmVyKCdtb3VzZW92ZXInLCBbJyRldmVudCddKVxyXG4gICAgb25Nb3VzZU92ZXIoZXZlbnQ6IGFueSkge1xyXG4gICAgICAgIGlmICghdGhpcy5pc1RhcmdldEVsZW1lbnQoZXZlbnQudGFyZ2V0KSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGlkID0gcGFyc2VJbnQoZXZlbnQudGFyZ2V0LmlkKTtcclxuICAgICAgICB0aGlzLm9wZXJhdGVTdGFyKGV2ZW50LCBpZCwgZmFsc2UpO1xyXG4gICAgfVxyXG5cclxuICAgIEBIb3N0TGlzdGVuZXIoJ21vdXNlbW92ZScsIFsnJGV2ZW50J10pXHJcbiAgICBvbk1vdXNlTW92ZShldmVudDogYW55KSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmlzVGFyZ2V0RWxlbWVudChldmVudC50YXJnZXQpKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgaWQgPSBwYXJzZUludChldmVudC50YXJnZXQuaWQpO1xyXG4gICAgICAgIHRoaXMub3BlcmF0ZVN0YXIoZXZlbnQsIGlkLCBmYWxzZSk7XHJcbiAgICB9XHJcblxyXG4gICAgQEhvc3RMaXN0ZW5lcignbW91c2VvdXQnLCBbJyRldmVudCddKVxyXG4gICAgb25Nb3VzZU91dChldmVudDogYW55KSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmlzVGFyZ2V0RWxlbWVudChldmVudC50YXJnZXQpKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5saWdodFN0YXJBcmVhV2lkdGggPSAwO1xyXG4gICAgICAgIHRoaXMuc2NvcmUgPSAwO1xyXG4gICAgICAgIHRoaXMuc2F0aXNmYWN0aW9uID0gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBASG9zdExpc3RlbmVyKCdjbGljaycsIFsnJGV2ZW50J10pXHJcbiAgICBvbkNsaWNrKGV2ZW50OiBhbnkpIHtcclxuICAgICAgICBpZiAoIXRoaXMuaXNUYXJnZXRFbGVtZW50KGV2ZW50LnRhcmdldCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBpZCA9IHBhcnNlSW50KGV2ZW50LnRhcmdldC5pZCk7XHJcbiAgICAgICAgdGhpcy5vcGVyYXRlU3RhcihldmVudCwgaWQsIHRydWUpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5piv5ZCm5piv55uu5qCH5YWD57SgXHJcbiAgICAgKiBAcGFyYW0gZWxlbWVudCBcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBpc1RhcmdldEVsZW1lbnQoZWxlbWVudDogYW55KSB7XHJcbiAgICAgICAgaWYgKGVsZW1lbnQuY2xhc3NOYW1lLmluZGV4T2YoJ2YtaWNvbicpICE9PSAtMSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogIOWGjeasoeeCueWHu+WPlua2iOmAieS4rVxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIGNsZWFyKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmxpZ2h0U3RhckFyZWFXaWR0aCA9PT0gdGhpcy5yZWFsV2lkdGggJiYgdGhpcy5lbmFibGVDbGVhciAmJiB0aGlzLnJlYWxXaWR0aCAhPT0gMCkge1xyXG4gICAgICAgICAgICB0aGlzLnJlYWxXaWR0aCA9IDA7XHJcbiAgICAgICAgICAgIHRoaXMucmVhbFNjb3JlID0gMDtcclxuICAgICAgICAgICAgdGhpcy5yZWFsU2F0aXNmYWN0aW9uID0gbnVsbDtcclxuICAgICAgICAgICAgdGhpcy52YWx1ZUNoYW5nZS5lbWl0KHRoaXMucmVhbFNjb3JlKTtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogXHJcbiAgICAgKiBAcGFyYW0gZXZlbnQg5LqL5Lu2XHJcbiAgICAgKiBAcGFyYW0gaWQg5b2T5YmN5pif5pif55qEaWRcclxuICAgICAqIEBwYXJhbSB0b2tlbiDmmK/lkKbngrnlh7vkuovku7bop6blj5FcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBvcGVyYXRlU3RhcihldmVudDogYW55LCBpZDogYW55LCB0b2tlbjogYm9vbGVhbikge1xyXG4gICAgICAgIC8vIOemgeeUqFxyXG4gICAgICAgIGlmICh0aGlzLmRpc2FibGVkKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8g5ruh5oSP5bqm5paH5qGIXHJcbiAgICAgICAgaWYgKHRoaXMuZW5hYmxlU2F0aXNmYWN0aW9uKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2F0aXNmYWN0aW9uID0gdGhpcy50b29sVGlwQ29udGVudHNbaWQgLSAxXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8g5aaC5p6c5ruR5Yqo55qE6Led56a75bCP5LqO5LiA6aKX5pif5pif5LiA5Y2K55qE6Led56a777yI5oiW6ICF6LaF6L+H77yJXHJcbiAgICAgICAgaWYgKGV2ZW50Lm9mZnNldFggPCB0aGlzLm9uZVN0YXJXaWR0aCAvIDIgJiYgdGhpcy5lbmFibGVIYWxmID09PSB0cnVlKSB7XHJcbiAgICAgICAgICAgIHRoaXMubGlnaHRTdGFyQXJlYVdpZHRoID0gKHRoaXMub25lU3RhcldpZHRoICogaWQpIC0gdGhpcy5vbmVTdGFyV2lkdGggLyAyICsgdGhpcy5kaXN0YW5jZSAqIChpZCAtIDEpO1xyXG4gICAgICAgICAgICB0aGlzLnNjb3JlID0gKHRoaXMucmF0ZSAqIGlkKSAtIHRoaXMucmF0ZSAvIDI7XHJcbiAgICAgICAgICAgIGlmICh0b2tlbiA9PT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY2xlYXIoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMucmVhbFNjb3JlID0gdGhpcy5zY29yZTtcclxuICAgICAgICAgICAgICAgIHRoaXMudmFsdWVDaGFuZ2UuZW1pdCh0aGlzLnJlYWxTY29yZSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlYWxXaWR0aCA9IHRoaXMubGlnaHRTdGFyQXJlYVdpZHRoO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yZWFsU2F0aXNmYWN0aW9uID0gdGhpcy5zYXRpc2ZhY3Rpb247XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmxpZ2h0U3RhckFyZWFXaWR0aCA9IHRoaXMub25lU3RhcldpZHRoICogaWQgKyB0aGlzLmRpc3RhbmNlICogKGlkIC0gMSk7XHJcbiAgICAgICAgICAgIHRoaXMuc2NvcmUgPSB0aGlzLnJhdGUgKiBpZDtcclxuICAgICAgICAgICAgaWYgKHRva2VuID09PSB0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jbGVhcigpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhpcy5yZWFsU2NvcmUgPSB0aGlzLnNjb3JlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy52YWx1ZUNoYW5nZS5lbWl0KHRoaXMucmVhbFNjb3JlKTtcclxuICAgICAgICAgICAgICAgIHRoaXMucmVhbFdpZHRoID0gdGhpcy5saWdodFN0YXJBcmVhV2lkdGg7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlYWxTYXRpc2ZhY3Rpb24gPSB0aGlzLnNhdGlzZmFjdGlvbjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4iXX0=