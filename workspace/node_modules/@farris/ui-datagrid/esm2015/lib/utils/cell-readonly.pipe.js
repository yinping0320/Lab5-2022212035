/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { Pipe } from '@angular/core';
export class CellIsReadonlyPipe {
    /**
     * @param {?} col
     * @param {...?} args
     * @return {?}
     */
    transform(col, ...args) {
        return this.isReadonly(col, args[0], args[1]);
    }
    /**
     * @private
     * @param {?} col
     * @param {?} rowData
     * @param {?} dg
     * @return {?}
     */
    isReadonly(col, rowData, dg) {
        if (dg.editable) {
            // 参与合并的单元格不允许编辑
            if (dg.mergeCell && dg.mergeFields.indexOf(col.field) > -1) {
                return true;
            }
            return this.getReadonlyValue(col, rowData);
        }
        else {
            return true;
        }
    }
    /**
     * @private
     * @param {?} col
     * @param {?} rowData
     * @return {?}
     */
    getReadonlyValue(col, rowData) {
        if (col.readonly !== undefined) {
            if (typeof col.readonly === 'boolean') {
                return col.readonly;
            }
            else if (typeof col.readonly === 'function') {
                return col.readonly(rowData);
            }
        }
        return false;
    }
}
CellIsReadonlyPipe.decorators = [
    { type: Pipe, args: [{
                name: 'cellReadonly'
            },] }
];
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2VsbC1yZWFkb25seS5waXBlLmpzIiwic291cmNlUm9vdCI6Im5nOi8vQGZhcnJpcy91aS1kYXRhZ3JpZC8iLCJzb3VyY2VzIjpbImxpYi91dGlscy9jZWxsLXJlYWRvbmx5LnBpcGUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7OztBQUFBLE9BQU8sRUFBRSxJQUFJLEVBQWlCLE1BQU0sZUFBZSxDQUFDO0FBS3BELE1BQU0sT0FBTyxrQkFBa0I7Ozs7OztJQUMzQixTQUFTLENBQUMsR0FBUSxFQUFFLEdBQUcsSUFBVztRQUM5QixPQUFPLElBQUksQ0FBQyxVQUFVLENBQUMsR0FBRyxFQUFFLElBQUksQ0FBQyxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUNsRCxDQUFDOzs7Ozs7OztJQUVPLFVBQVUsQ0FBQyxHQUFHLEVBQUUsT0FBTyxFQUFFLEVBQUU7UUFDL0IsSUFBSSxFQUFFLENBQUMsUUFBUSxFQUFFO1lBQ2IsZ0JBQWdCO1lBQ2hCLElBQUksRUFBRSxDQUFDLFNBQVMsSUFBSSxFQUFFLENBQUMsV0FBVyxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUU7Z0JBQ3hELE9BQU8sSUFBSSxDQUFDO2FBQ2Y7WUFDRCxPQUFPLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxHQUFHLEVBQUUsT0FBTyxDQUFDLENBQUM7U0FDOUM7YUFBTTtZQUNILE9BQU8sSUFBSSxDQUFDO1NBQ2Y7SUFDTCxDQUFDOzs7Ozs7O0lBRU8sZ0JBQWdCLENBQUMsR0FBRyxFQUFFLE9BQU87UUFDakMsSUFBSSxHQUFHLENBQUMsUUFBUSxLQUFLLFNBQVMsRUFBRTtZQUM1QixJQUFJLE9BQU8sR0FBRyxDQUFDLFFBQVEsS0FBSyxTQUFTLEVBQUU7Z0JBQ25DLE9BQU8sR0FBRyxDQUFDLFFBQVEsQ0FBQzthQUN2QjtpQkFBTSxJQUFJLE9BQU8sR0FBRyxDQUFDLFFBQVEsS0FBSyxVQUFVLEVBQUU7Z0JBQzNDLE9BQU8sR0FBRyxDQUFDLFFBQVEsQ0FBQyxPQUFPLENBQUMsQ0FBQzthQUNoQztTQUNKO1FBQ0QsT0FBTyxLQUFLLENBQUM7SUFDakIsQ0FBQzs7O1lBN0JKLElBQUksU0FBQztnQkFDRixJQUFJLEVBQUUsY0FBYzthQUN2QiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFBpcGUsIFBpcGVUcmFuc2Zvcm0gfSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuXHJcbkBQaXBlKHtcclxuICAgIG5hbWU6ICdjZWxsUmVhZG9ubHknXHJcbn0pXHJcbmV4cG9ydCBjbGFzcyBDZWxsSXNSZWFkb25seVBpcGUgaW1wbGVtZW50cyBQaXBlVHJhbnNmb3JtIHtcclxuICAgIHRyYW5zZm9ybShjb2w6IGFueSwgLi4uYXJnczogYW55W10pOiBhbnkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmlzUmVhZG9ubHkoY29sLCBhcmdzWzBdLCBhcmdzWzFdKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGlzUmVhZG9ubHkoY29sLCByb3dEYXRhLCBkZykge1xyXG4gICAgICAgIGlmIChkZy5lZGl0YWJsZSkge1xyXG4gICAgICAgICAgICAvLyDlj4LkuI7lkIjlubbnmoTljZXlhYPmoLzkuI3lhYHorrjnvJbovpFcclxuICAgICAgICAgICAgaWYgKGRnLm1lcmdlQ2VsbCAmJiBkZy5tZXJnZUZpZWxkcy5pbmRleE9mKGNvbC5maWVsZCkgPiAtMSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0UmVhZG9ubHlWYWx1ZShjb2wsIHJvd0RhdGEpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGdldFJlYWRvbmx5VmFsdWUoY29sLCByb3dEYXRhKSB7XHJcbiAgICAgICAgaWYgKGNvbC5yZWFkb25seSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgY29sLnJlYWRvbmx5ID09PSAnYm9vbGVhbicpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBjb2wucmVhZG9ubHk7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGNvbC5yZWFkb25seSA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbC5yZWFkb25seShyb3dEYXRhKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbn1cclxuIl19