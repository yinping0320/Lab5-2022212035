!function(e,l){"object"==typeof exports&&"undefined"!=typeof module?l(exports,require("@angular/common"),require("@angular/platform-browser"),require("@angular/forms"),require("@farris/ui-common"),require("quill"),require("@angular/core"),require("@farris/ui-notify"),require("@farris/ui-locale")):"function"==typeof define&&define.amd?define("@farris/ui-html-editor",["exports","@angular/common","@angular/platform-browser","@angular/forms","@farris/ui-common","quill","@angular/core","@farris/ui-notify","@farris/ui-locale"],l):l((e.farris=e.farris||{},e.farris["ui-html-editor"]={}),e.ng.common,e.ng.platformBrowser,e.ng.forms,e.uiCommon,e.Quill,e.ng.core,e.uiNotify,e.uiLocale)}(this,function(e,c,l,t,p,u,f,o,i){"use strict";u=u&&u.hasOwnProperty("default")?u["default"]:u;var h={toolbar:[["bold","italic","code-block",{header:1},{header:2},{list:"ordered"},{list:"bullet"},"image"]],imageDrop:!0,imageResize:!0,tooltip:!0},r=new f.InjectionToken("config"),n={modules:["DisplaySize","Toolbar","Resize"],overlayStyles:{position:"absolute",boxSizing:"border-box",border:"1px dashed #444"},handleStyles:{position:"absolute",height:"12px",width:"12px",backgroundColor:"white",border:"1px solid #777",boxSizing:"border-box",opacity:"0.80"},displayStyles:{position:"absolute",font:"12px/1.0 Arial, Helvetica, sans-serif",padding:"4px 8px",textAlign:"center",backgroundColor:"white",color:"#333",border:"1px solid #777",boxSizing:"border-box",opacity:"0.80",cursor:"default"},toolbarStyles:{position:"absolute",top:"-12px",right:"0",left:"0",height:"0",minWidth:"100px",font:"12px/1.0 Arial, Helvetica, sans-serif",textAlign:"center",color:"#333",boxSizing:"border-box",cursor:"default"},toolbarButtonStyles:{display:"inline-block",width:"24px",height:"24px",background:"white",border:"1px solid #999",verticalAlign:"middle"},toolbarButtonSvgStyles:{fill:"#444",stroke:"#444",strokeWidth:"2"}},a=function(e,l){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,l){e.__proto__=l}||function(e,l){for(var t in l)l.hasOwnProperty(t)&&(e[t]=l[t])})(e,l)};function s(e,l){function t(){this.constructor=e}a(e,l),e.prototype=null===l?Object.create(l):(t.prototype=l.prototype,new t)}function m(e){var l="function"==typeof Symbol&&e[Symbol.iterator],t=0;return l?l.call(e):{next:function(){return e&&t>=e.length&&(e=void 0),{value:e&&e[t++],done:!e}}}}var q,d=function P(e){this.onCreate=function(){},this.onDestroy=function(){},this.onUpdate=function(){},this.overlay=e.overlay,this.img=e.img,this.options=e.options,this.requestUpdate=e.onUpdate},b=(s(g,q=d),g);function g(){var t=null!==q&&q.apply(this,arguments)||this;return t.onCreate=function(){t.display=document.createElement("div"),Object.assign(t.display.style,t.options.displayStyles),t.overlay.appendChild(t.display)},t.onDestroy=function(){},t.onUpdate=function(){if(t.display&&t.img){var e=t.getCurrentSize();if(t.display.innerHTML=e.join(" &times; "),120<e[0]&&30<e[1])Object.assign(t.display.style,{right:"4px",bottom:"4px",left:"auto"});else if("right"==t.img.style["float"]){var l=t.display.getBoundingClientRect();Object.assign(t.display.style,{right:"auto",bottom:"-"+(l.height+4)+"px",left:"-"+(l.width+4)+"px"})}else{l=t.display.getBoundingClientRect();Object.assign(t.display.style,{right:"-"+(l.width+4)+"px",bottom:"-"+(l.height+4)+"px",left:"auto"})}}},t.getCurrentSize=function(){return[t.img.width,Math.round(t.img.width/t.img.naturalWidth*t.img.naturalHeight)]},t}var k,v,y=u.imports.parchment,w=new y.Attributor.Style("float","float"),x=new y.Attributor.Style("margin","margin"),S=new y.Attributor.Style("display","display");function z(){var i=null!==k&&k.apply(this,arguments)||this;return i.onCreate=function(){i.toolbar=document.createElement("div"),Object.assign(i.toolbar.style,i.options.toolbarStyles),i.overlay.appendChild(i.toolbar),i._defineAlignments(),i._addToolbarButtons()},i.onDestroy=function(){},i.onUpdate=function(){},i._defineAlignments=function(){i.alignments=[{icon:'<svg viewbox="0 0 18 18">\n                <line class="ql-stroke" x1="3" x2="15" y1="9" y2="9"></line>\n                <line class="ql-stroke" x1="3" x2="13" y1="14" y2="14"></line>\n                <line class="ql-stroke" x1="3" x2="9" y1="4" y2="4"></line>\n              </svg>',apply:function(){S.add(i.img,"inline"),w.add(i.img,"left"),x.add(i.img,"0 1em 1em 0")},isApplied:function(){return"left"==w.value(i.img)}},{icon:'<svg viewbox="0 0 18 18">\n                <line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"></line>\n                <line class="ql-stroke" x1="14" x2="4" y1="14" y2="14"></line>\n                <line class="ql-stroke" x1="12" x2="6" y1="4" y2="4"></line>\n              </svg>',apply:function(){S.add(i.img,"block"),w.remove(i.img),x.add(i.img,"auto")},isApplied:function(){return"auto"==x.value(i.img)}},{icon:'<svg viewbox="0 0 18 18">\n                <line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"></line>\n                <line class="ql-stroke" x1="15" x2="5" y1="14" y2="14"></line>\n                <line class="ql-stroke" x1="15" x2="9" y1="4" y2="4"></line>\n              </svg>',apply:function(){S.add(i.img,"inline"),w.add(i.img,"right"),x.add(i.img,"0 0 1em 1em")},isApplied:function(){return"right"==w.value(i.img)}}]},i._addToolbarButtons=function(){var o=[];i.alignments.forEach(function(e,l){var t=document.createElement("span");o.push(t),t.innerHTML=e.icon,t.addEventListener("click",function(){o.forEach(function(e){return e.style.filter=""}),e.isApplied()?(w.remove(i.img),x.remove(i.img),S.remove(i.img)):(i._selectButton(t),e.apply()),i.requestUpdate()}),Object.assign(t.style,i.options.toolbarButtonStyles),0<l&&(t.style.borderLeftWidth="0"),Object.assign(t.children[0].style,i.options.toolbarButtonSvgStyles),e.isApplied()&&i._selectButton(t),i.toolbar.appendChild(t)})},i._selectButton=function(e){e.style.filter="invert(20%)"},i}function E(){var t=null!==v&&v.apply(this,arguments)||this;return t.onCreate=function(){t.boxes=[],t.addBox("nwse-resize"),t.addBox("nesw-resize"),t.addBox("nwse-resize"),t.addBox("nesw-resize"),t.positionBoxes()},t.onDestroy=function(){t.setCursor("")},t.positionBoxes=function(){var e=-parseFloat(t.options.handleStyles.width)/2+"px",l=-parseFloat(t.options.handleStyles.height)/2+"px";[{left:e,top:l},{right:e,top:l},{right:e,bottom:l},{left:e,bottom:l}].forEach(function(e,l){Object.assign(t.boxes[l].style,e)})},t.addBox=function(e){var l=document.createElement("div");Object.assign(l.style,t.options.handleStyles),l.style.cursor=e,l.style.width=t.options.handleStyles.width+"px",l.style.height=t.options.handleStyles.height+"px",l.addEventListener("mousedown",t.handleMousedown,!1),t.overlay.appendChild(l),t.boxes.push(l)},t.handleMousedown=function(e){t.dragBox=e.target,t.dragStartX=e.clientX,t.preDragWidth=t.img.width||t.img.naturalWidth,t.setCursor(t.dragBox.style.cursor),document.addEventListener("mousemove",t.handleDrag,!1),document.addEventListener("mouseup",t.handleMouseup,!1)},t.handleMouseup=function(){t.setCursor(""),document.removeEventListener("mousemove",t.handleDrag),document.removeEventListener("mouseup",t.handleMouseup)},t.handleDrag=function(e){if(t.img){var l=e.clientX-t.dragStartX;t.dragBox===t.boxes[0]||t.dragBox===t.boxes[3]?t.img.width=Math.round(t.preDragWidth-l):t.img.width=Math.round(t.preDragWidth+l),t.requestUpdate()}},t.setCursor=function(l){[document.body,t.img].forEach(function(e){e.style.cursor=l})},t}var C={DisplaySize:b,Toolbar:(s(z,k=d),z),Resize:(s(E,v=d),E)},I=function V(e,l){void 0===l&&(l={});var o=this;this.initializeModules=function(){o.removeModules(),o.modules=o.moduleClasses.map(function(e){return new(C[e]||e)(o)}),o.modules.forEach(function(e){e.onCreate()}),o.onUpdate()},this.onUpdate=function(){o.repositionElements(),o.modules.forEach(function(e){e.onUpdate()})},this.removeModules=function(){o.modules.forEach(function(e){e.onDestroy()}),o.modules=[]},this.handleClick=function(e){if(e.target&&e.target.tagName&&"IMG"===e.target.tagName.toUpperCase()){if(o.img===e.target)return;o.img&&o.hide(),o.show(e.target)}else o.img&&o.hide()},this.show=function(e){o.quill.isEnabled()&&(o.img=e,o.showOverlay(),o.initializeModules())},this.showOverlay=function(){o.overlay&&o.hideOverlay(),o.quill.setSelection(null),o.setUserSelect("none"),document.addEventListener("keyup",o.checkImage,!0),o.quill.root.addEventListener("input",o.checkImage,!0),o.overlay=document.createElement("div"),Object.assign(o.overlay.style,o.options.overlayStyles),o.quill.root.parentNode.appendChild(o.overlay),o.repositionElements()},this.hideOverlay=function(){o.overlay&&(o.quill.root.parentNode.removeChild(o.overlay),o.overlay=undefined,document.removeEventListener("keyup",o.checkImage),o.quill.root.removeEventListener("input",o.checkImage),o.setUserSelect(""))},this.repositionElements=function(){if(o.overlay&&o.img){var e=o.quill.root.parentNode,l=o.img.getBoundingClientRect(),t=e.getBoundingClientRect();Object.assign(o.overlay.style,{left:l.left-t.left+e.scrollLeft-2+"px",top:l.top-t.top+e.scrollTop-2+"px",width:l.width+2+"px",height:l.height+2+"px"})}},this.hide=function(){o.hideOverlay(),o.removeModules(),o.img=undefined},this.setUserSelect=function(l){["userSelect","mozUserSelect","webkitUserSelect","msUserSelect"].forEach(function(e){o.quill.root.style[e]=l,document.documentElement.style[e]=l})},this.checkImage=function(e){o.img&&(46!=e.keyCode&&8!=e.keyCode||u.find(o.img).deleteAt(0),o.hide())},this.quill=e;var t=!1;l.modules&&(t=l.modules.slice()),this.options=Object.assign({},l,n),!1!==t&&(this.options.modules=t),document.execCommand("enableObjectResizing",!1,"false"),this.quill.root.addEventListener("click",this.handleClick,!1),this.quill.root.parentNode.style.position=this.quill.root.parentNode.style.position||"relative",this.moduleClasses=this.options.modules,this.modules=[]},B=(H.prototype.handleDrop=function(e){if(e.preventDefault(),e.dataTransfer&&e.dataTransfer.files&&e.dataTransfer.files.length){if(document.caretRangeFromPoint){var l=document.getSelection(),t=document.caretRangeFromPoint(e.clientX,e.clientY);l&&t&&l.setBaseAndExtent(t.startContainer,t.startOffset,t.startContainer,t.startOffset)}this.readFiles(e.dataTransfer.files,this.insert.bind(this))}},H.prototype.handlePaste=function(e){var t=this;e&&e.preventDefault(),e.clipboardData&&e.clipboardData.items&&e.clipboardData.items.length&&this.readFiles(e.clipboardData.items,function(e){var l=t.ngZone;!l&&t.quill&&t.quill.options&&(l=t.quill.options.ngZone),l&&l.runOutsideAngular(function(){setTimeout(function(){t.quill.container.querySelector('img[src="'+e+'"]')||t.insert(e)},0)})})},H.prototype.insert=function(e){var l=(this.quill.getSelection()||{}).index||this.quill.getLength();this.quill.insertEmbed(l,"image",e,"user")},H.prototype.readFiles=function(e,o){var t=[],l=this.quill.options,i=l.limitImageSize,r=l.maxImgSize;Array.from(e).filter(function(e){var l=e.getAsFile&&e.getAsFile()||e;return!(!l.type.match(/^image\/(gif|jpe?g|a?png|svg|webp|bmp|vnd\.microsoft\.icon)/i)||i&&r&&l.size>1024*r&&(t.push(l),1))}).forEach(function(e){var l=new FileReader;l.onload=function(e){o(e.target.result)};var t=e.getAsFile&&e.getAsFile()||e;t instanceof Blob&&l.readAsDataURL(t)}),t&&t.length&&this.quill.options.showMaxImageMessage(t)},H);function H(e,l,t){void 0===l&&(l={}),this.ngZone=t,this.quill=e,this.handleDrop=this.handleDrop.bind(this),this.handlePaste=this.handlePaste.bind(this),this.quill.root.addEventListener("drop",this.handleDrop,!1),this.quill.root.addEventListener("paste",this.handlePaste,!1)}var T={en:{align:{"":"Align",center:"Alinear al centro",right:"Alinear a la derecha",justify:"Justificar"},background:"Background color",blockquote:"Bloque de cita",bold:"Bold",clean:"Limpiar formato",code:"Code","code-block":"Code block",color:"Font Color",direction:"Direction","float":{center:"Center",full:"全浮动",left:"左浮动",right:"右浮动"},formula:"Formula",header:{"":"Encabezados",1:"Encabezados 1",2:"Encabezados 2"},italic:"Italic",image:"Image",indent:{"+1":"Increase indent","-1":"Decrease indent"},link:"Enlace",list:{ordered:"Numbered list",bullet:"Bullet list",check:"选择列表"},script:{sub:"Subscript","super":"Superscript"},strike:"Strike",underline:"Underline",video:"Video",undo:"Undo",redo:"Redo",size:"Font Size",font:"Font Family",divider:"Divider",formatBrush:"Format Brush",emoji:"Emoji"},"zh-CHS":{align:{"":"对齐",center:"居中对齐",right:"右对齐",justify:"两端对齐"},background:"背景色",blockquote:"引用",bold:"加粗",clean:"清除格式",code:"代码","code-block":"代码段",color:"颜色",direction:"方向","float":{center:"居中",full:"全浮动",left:"左浮动",right:"右浮动"},formula:"公式",header:{"":"标题",1:"标题1",2:"标题2"},italic:"斜体",image:"图片",indent:{"+1":"缩进","-1":"取消缩进"},link:"链接",list:{ordered:"有序列表",bullet:"无序列表",check:"选择列表"},script:{sub:"下标","super":"上标"},strike:"删除线",underline:"下划线",video:"视频",undo:"撤销",redo:"重做",size:"字号",font:"字体",divider:"分割线",formatBrush:"格式刷",emoji:"表情"},"zh-CHT":{align:{"":"對齊",center:"居中對齊",right:"右對齊",justify:"兩端對齊"},background:"背景色",blockquote:"引用",bold:"加粗",clean:"清除格式",code:"代碼","code-block":"代碼段",color:"顔色",direction:"方向","float":{center:"居中",full:"全浮動",left:"左浮動",right:"右浮動"},formula:"公式",header:{"":"標題",1:"標題1",2:"標題2"},italic:"斜體",image:"圖片",indent:{"+1":"縮進","-1":"取消縮進"},link:"鏈接",list:{ordered:"有序列表",bullet:"無序列表",check:"選擇列表"},script:{sub:"下標","super":"上標"},strike:"刪除線",underline:"下劃線",video:"視頻",undo:"撤銷",redo:"重做",size:"字號",font:"字體",divider:"分割線",formatBrush:"格式刷",emoji:"表情"}},O=function(e){var l=e.parentNode;return l?l===document?document.body.scrollTop!==undefined?document.body:document.documentElement:-1!==["scroll","auto"].indexOf(M(l,"overflow"))||-1!==["scroll","auto"].indexOf(M(l,"overflow-x"))||-1!==["scroll","auto"].indexOf(M(l,"overflow-y"))?l:O(e.parentNode):e},M=function(e,l){return window.getComputedStyle(e,null)[l]},A={minWidth:"70px",position:"absolute",padding:"4px 8px",textAlign:"center",backgroundColor:"rgba(0,0,0,0.7)",color:"#fff",cursor:"default",borderRadius:"4px",fontSize:"12px",top:"-9999px",visibility:"hidden","z-index":"9999"},j=(R.prototype.createTooltip=function(){this.tip=document.createElement("div"),this.tip.classList.add("quill-tooltip"),Object.assign(this.tip.style,A),document.body.appendChild(this.tip)},R.prototype.addHandler=function(e){var l=this;this.mouseenterHandler=function(){l.timeout=setTimeout(function(){l.showTooltip(e)},100)},this.mouseleaveHandler=function(){l.timeout&&clearTimeout(l.timeout),l.hideTooltip()},e.addEventListener("mouseenter",this.mouseenterHandler),e.addEventListener("mouseleave",this.mouseleaveHandler)},R.prototype.showTooltip=function(e){var l=this.quill.options.localeId||"zh-CHS",t=[].find.call(e.classList,function(e){return 0===e.indexOf("ql-")}).replace("ql-",""),o=T[l][t];if(o){if("string"==typeof o)this.tip.textContent=o;else{var i=e.value||"";null!=i&&o[i]&&(this.tip.textContent=o[i])}var r=e.getBoundingClientRect(),n=this.tip.getBoundingClientRect(),a=document.documentElement||document.body,s=(a.scrollWidth,a.scrollHeight,a.scrollTop),q=a.scrollLeft;Object.assign(this.tip.style,{top:r.top-r.height-3+s+"px",left:r.left-(n.width-r.width)/2+q+"px",visibility:"visible"})}},R.prototype.hideTooltip=function(){Object.assign(this.tip.style,{top:"-9999px",visibility:"hidden"})},R.prototype.onDestroy=function(){var e,l,t,o;if(this.destroyTooltip(),this.buttons)try{for(var i=m(this.buttons),r=i.next();!r.done;r=i.next()){var n=r.value;this.removeHandler(n)}}catch(q){e={error:q}}finally{try{r&&!r.done&&(l=i["return"])&&l.call(i)}finally{if(e)throw e.error}}if(this.selectors)try{for(var a=m(this.selectors),s=a.next();!s.done;s=a.next())n=s.value,this.removeHandler(n)}catch(d){t={error:d}}finally{try{s&&!s.done&&(o=a["return"])&&o.call(a)}finally{if(t)throw t.error}}this.scrollElm&&this.scrollElm.removeEventListener("scroll",this.mouseleaveHandler)},R.prototype.destroyTooltip=function(){this.tip.parentNode&&this.tip.parentNode.removeChild(this.tip)},R.prototype.removeHandler=function(e){e.removeEventListener("mouseenter",this.mouseenterHandler),e.removeEventListener("mouseleave",this.mouseleaveHandler)},R);function R(e,l){var t,o,i,r;this.ngZone=l,this.quill=e,this.toolbar=e.getModule("toolbar"),this.buttons=null,this.selectors=null,this.tip=null,this.timeout=null,this.mouseenterHandler=null,this.mouseleaveHandler=null;var n=this.toolbar.container;if(n){this.buttons=n.querySelectorAll("button"),this.selectors=n.querySelectorAll(".ql-picker");try{for(var a=m(this.buttons),s=a.next();!s.done;s=a.next()){var q=s.value;this.addHandler(q)}}catch(c){t={error:c}}finally{try{s&&!s.done&&(o=a["return"])&&o.call(a)}finally{if(t)throw t.error}}try{for(var d=m(this.selectors),b=d.next();!b.done;b=d.next()){q=b.value;this.addHandler(q)}}catch(p){i={error:p}}finally{try{b&&!b.done&&(r=d["return"])&&r.call(d)}finally{if(i)throw i.error}}this.createTooltip(),this.scrollElm=O(n),this.scrollElm.addEventListener("scroll",this.mouseleaveHandler)}}var L={en:{"html-editor":{maximgsize:"The uploaded image should not exceed {0}",dropimg:"{0} has exceeded the upload limit! Maximum allowed upload {1}"}},"zh-CHS":{"html-editor":{maximgsize:"图片超出上传限制！最大允许 {0}",dropimg:"{0} 超出上传限制！最大允许 {1}"}},"zh-CHT":{"html-editor":{maximgsize:"圖片超出上傳限制！最大允許 {0}",dropimg:"{0} 超出上傳限制！最大允許 {1}"}}},D=u["import"]("attributors/style/font");D.whitelist=["Microsoft-YaHei","SimSun","SimHei","KaiTi","FangSong","Arial","Times","sans-serif"],u.register(D,!0),u.register("modules/imageDrop",B),u.register("modules/imageResize",I),u.register("modules/tooltip",j);var N=function(e,l){return e||l||"html"},F=(U.prototype.onModelChange=function(e){},U.prototype.onModelTouched=function(){},U.prototype.ngAfterViewInit=function(){this.editorCreate(),this.editorElem&&(this.renderer.setStyle(this.editorElem,"min-height",(this.minHeight||100)+"px"),this.autoHeight?this.maxHeight&&(this.renderer.setStyle(this.editorElem,"max-height",this.maxHeight+"px"),this.renderer.setStyle(this.editorElem,"overflow","auto")):(this.renderer.setStyle(this.editorElem,"max-height",this.minHeight+"px"),this.renderer.setStyle(this.editorElem,"overflow","auto")))},U.prototype.setToolbar=function(e){},U.prototype.editorCreate=function(){var l=this;if(!c.isPlatformServer(this.platformId)){this.elementRef.nativeElement.insertAdjacentHTML("top"===this.customToolbarPosition?"beforeend":"afterbegin",this.preserveWhitespace?"<pre html-editor-element></pre>":"<div html-editor-element></div>"),this.editorElem=this.elementRef.nativeElement.querySelector("[html-editor-element]");var e=this.elementRef.nativeElement.querySelector("[html-editor-toolbar]"),t=this.modules||this.config.modules||h;t.toolbar===undefined&&(t.toolbar=h.toolbar),this.customToolbar&&(this.toolbar&&this.toolbar.length?t.toolbar=p.Convert2HtmlEditorToolbars("concise",this.toolbar):t.toolbar=h.toolbar),t.tooltip===undefined&&(t.tooltip=h.tooltip),t.imageDrop===undefined&&(t.imageDrop=h.imageDrop),t.imageResize===undefined&&(t.imageResize=h.imageResize);var o=this.placeholder!==undefined?this.placeholder:this.config.placeholder;o===undefined&&(o=""),e&&(t.toolbar=e),this.styles&&Object.keys(this.styles).forEach(function(e){l.renderer.setStyle(l.editorElem,e,l.styles[e])}),this.customOptions.forEach(function(e){var l=u["import"](e["import"]);l.whitelist=e.whitelist,u.register(l,!0)});var i=this.bounds&&"self"===this.bounds?this.editorElem:this.bounds;i=i||(this.config.bounds?this.config.bounds:this.doc.body);var r=this.debug;!r&&!1!==r&&this.config.debug&&(r=this.config.debug);var n=this.readonly;n||!1===this.readonly||(n=this.config.readOnly!==undefined&&this.config.readOnly);var a=this.scrollingContainer;a=a||this.editorElem;var s=this.formats;if(s||s!==undefined||(s=this.config.formats||null===this.config.formats?this.config.formats:undefined),this.quillEditor=new u(this.editorElem,{bounds:i,debug:r,formats:s,modules:t,placeholder:o,readOnly:n,scrollingContainer:a,strict:this.strict,theme:this.theme||(this.config.theme?this.config.theme:"snow"),limitImageSize:this.limitImageSize,maxImgSize:this.maxImgSize,showMaxImageMessage:this.showMaxImageMessage.bind(this),ngZone:this.zone,localeId:this.localeSer?this.localeSer.localeId:localStorage.getItem("languageCode")||"zh-CHS"}),this.content){var q=N(this.format,this.config.format);if("object"===q)this.quillEditor.setContents(this.content,"silent");else if("text"===q)this.quillEditor.setText(this.content,"silent");else if("json"===q)try{this.quillEditor.setContents(JSON.parse(this.content),"silent")}catch(b){this.quillEditor.setText(this.content,"silent")}else{this.sanitize&&(this.content=this.domSanitizer.sanitize(f.SecurityContext.HTML,this.content));var d=this.quillEditor.clipboard.convert(this.content);this.quillEditor.setContents(d,"silent")}this.quillEditor.history.clear()}this.setStatusEditor(this.readonly,this.disabled),this.onEditorCreated.emit(this.quillEditor),this.quillEditor.on("selection-change",this.selectionChangeHandler),this.quillEditor.on("text-change",this.textChangeHandler)}},U.prototype.random_id=function(){return Math.random().toString(36).slice(2)},U.prototype.endEdit=function(){this.onModelTouched()},U.prototype.buildToolbar=function(l){var t=this,o=[];return Object.keys(l).forEach(function(e){!0===t[e]?o.push(l[e]):t[e]&&o.push(t[e])}),o},U.prototype.ngOnDestroy=function(){this.quillEditor&&(this.quillEditor.off("selection-change",this.selectionChangeHandler),this.quillEditor.off("text-change",this.textChangeHandler))},U.prototype.hideImgSelectionRange=function(){var e=this.quillEditor.getModule("imageResize");e&&(this.readonly||this.disabled)&&e.hide()},U.prototype.ngOnChanges=function(e){var l=this;if(this.quillEditor){if(e.disabled&&(this.setStatusEditor(!1,this.disabled),this.hideImgSelectionRange()),e.readonly&&(this.quillEditor.enable(!e.readonly.currentValue),this.disableToolbar(e.readonly.currentValue),this.hideImgSelectionRange()),e.placeholder&&(this.quillEditor.root.dataset.placeholder=e.placeholder.currentValue),e.styles){var t=e.styles.currentValue,o=e.styles.previousValue;o&&Object.keys(o).forEach(function(e){l.renderer.removeStyle(l.editorElem,e)}),t&&Object.keys(t).forEach(function(e){l.renderer.setStyle(l.editorElem,e,l.styles[e])})}e.limitImageSize&&!e.limitImageSize.isFirstChange()&&(this.quillEditor.options.limitImageSize=this.limitImageSize),e.maxImgSize&&!e.maxImgSize.isFirstChange()&&(this.quillEditor.options.maxImgSize=this.maxImgSize)}},U.prototype.writeValue=function(e){this.content=e;var l=N(this.format,this.config.format);this.quillEditor&&(this.quillEditor.setText(""),e)&&("text"===l?this.quillEditor.setText(e):this.quillEditor.setContents(this.valueSetter(this.quillEditor,this.content)))},U.prototype.disableToolbar=function(e){var l=this.elementRef.nativeElement.querySelector(".ql-toolbar");l&&(l.style.display=e?"none":"block")},U.prototype.setStatusEditor=function(e,l){void 0===e&&(e=!1),this.disableToolbar(l||e),this.setDisabledState(l)},U.prototype.setDisabledState=function(e){void 0===e&&(e=this._disabled),this._disabled=e,this.quillEditor&&(e?(this.quillEditor.disable(),this.renderer.setAttribute(this.elementRef.nativeElement,"disabled","disabled")):(this.readonly||this.quillEditor.enable(),this.renderer.removeAttribute(this.elementRef.nativeElement,"disabled")))},U.prototype.registerOnChange=function(e){this.onModelChange=e},U.prototype.registerOnTouched=function(e){this.onModelTouched=e},U.prototype.showMaxImageMessage=function(e){void 0===e&&(e=null);var l="上传的图片不得大于"+this.maxImgSize+"kb";if(this.localeSer){var t=this.localeSer.getValue("html-editor.maximgsize");if(t&&(l=t=t.replace("{0}",this.maxImgSize+"kb")),e&&e.length){var o=e.map(function(e){return e.name}).join(", ");l=this.localeSer.getValue("html-editor.dropimg").replace("{0}",o).replace("{1}",this.maxImgSize+"kb")}}else e&&e.length&&(l=(o=e.map(function(e){return e.name}).join(", "))+" 超出上传限制！最大允许 "+this.maxImgSize+"kb");this.notifySer?this.notifySer.warning({msg:l,timeout:2e3}):alert(l)},U.prototype.validate=function(){return null},U.decorators=[{type:f.Component,args:[{selector:"farris-html-editor",template:'\n        <ng-content select="[html-editor-toolbar]"></ng-content>\n    ',encapsulation:f.ViewEncapsulation.None,providers:[{multi:!0,provide:t.NG_VALUE_ACCESSOR,useExisting:f.forwardRef(function(){return U})},{provide:t.NG_VALIDATORS,useExisting:f.forwardRef(function(){return U}),multi:!0}],styles:[".ql-container{box-sizing:border-box;font-family:Helvetica,Arial,sans-serif;font-size:.875rem;height:100%;margin:0;position:relative;color:rgba(0,0,0,.85)}.ql-container.ql-disabled .ql-tooltip{visibility:hidden}.ql-container.ql-disabled .ql-editor ul[data-checked]>li::before{pointer-events:none}.ql-clipboard{left:-100000px;height:1px;overflow-y:hidden;position:absolute;top:50%}.ql-clipboard p{margin:0;padding:0}.ql-editor{box-sizing:border-box;line-height:1.42;height:100%;outline:0;overflow-y:auto;padding:12px 15px;-o-tab-size:4;tab-size:4;-moz-tab-size:4;text-align:left;white-space:pre-wrap;word-wrap:break-word;min-height:80px;word-break:break-all}.ql-editor>*{cursor:text}.ql-editor blockquote,.ql-editor h1,.ql-editor h2,.ql-editor h3,.ql-editor h4,.ql-editor h5,.ql-editor h6,.ql-editor ol,.ql-editor p,.ql-editor pre,.ql-editor ul{margin:0;padding:0;counter-reset:list-1 list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9}.ql-editor ol,.ql-editor ul{padding-left:1.5em}.ql-editor ol>li,.ql-editor ul>li{list-style-type:none}.ql-editor ul>li::before{content:'\\2022'}.ql-editor ul[data-checked=false],.ql-editor ul[data-checked=true]{pointer-events:none}.ql-editor ul[data-checked=false]>li *,.ql-editor ul[data-checked=true]>li *{pointer-events:all}.ql-editor ul[data-checked=false]>li::before,.ql-editor ul[data-checked=true]>li::before{color:#777;cursor:pointer;pointer-events:all}.ql-editor ul[data-checked=true]>li::before{content:'\\2611'}.ql-editor ul[data-checked=false]>li::before{content:'\\2610'}.ql-editor li::before{display:inline-block;white-space:nowrap;width:1.2em}.ql-editor li:not(.ql-direction-rtl)::before{margin-left:-1.5em;margin-right:.3em;text-align:right}.ql-editor li.ql-direction-rtl::before{margin-left:.3em;margin-right:-1.5em}.ql-editor ol li:not(.ql-direction-rtl),.ql-editor ul li:not(.ql-direction-rtl){padding-left:1.5em}.ql-editor ol li.ql-direction-rtl,.ql-editor ul li.ql-direction-rtl{padding-right:1.5em}.ql-editor ol li{counter-reset:list-1 list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9;counter-increment:list-0}.ql-editor ol li:before{content:counter(list-0,decimal) '. '}.ql-editor ol li.ql-indent-1{counter-increment:list-1;counter-reset:list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9}.ql-editor ol li.ql-indent-1:before{content:counter(list-1,lower-alpha) '. '}.ql-editor ol li.ql-indent-2{counter-increment:list-2;counter-reset:list-3 list-4 list-5 list-6 list-7 list-8 list-9}.ql-editor ol li.ql-indent-2:before{content:counter(list-2,lower-roman) '. '}.ql-editor ol li.ql-indent-3{counter-increment:list-3;counter-reset:list-4 list-5 list-6 list-7 list-8 list-9}.ql-editor ol li.ql-indent-3:before{content:counter(list-3,decimal) '. '}.ql-editor ol li.ql-indent-4{counter-increment:list-4;counter-reset:list-5 list-6 list-7 list-8 list-9}.ql-editor ol li.ql-indent-4:before{content:counter(list-4,lower-alpha) '. '}.ql-editor ol li.ql-indent-5{counter-increment:list-5;counter-reset:list-6 list-7 list-8 list-9}.ql-editor ol li.ql-indent-5:before{content:counter(list-5,lower-roman) '. '}.ql-editor ol li.ql-indent-6{counter-increment:list-6;counter-reset:list-7 list-8 list-9}.ql-editor ol li.ql-indent-6:before{content:counter(list-6,decimal) '. '}.ql-editor ol li.ql-indent-7{counter-increment:list-7;counter-reset:list-8 list-9}.ql-editor ol li.ql-indent-7:before{content:counter(list-7,lower-alpha) '. '}.ql-editor ol li.ql-indent-8{counter-increment:list-8;counter-reset:list-9}.ql-editor ol li.ql-indent-8:before{content:counter(list-8,lower-roman) '. '}.ql-editor ol li.ql-indent-9{counter-increment:list-9}.ql-editor ol li.ql-indent-9:before{content:counter(list-9,decimal) '. '}.ql-editor .ql-indent-1:not(.ql-direction-rtl){padding-left:3em}.ql-editor li.ql-indent-1:not(.ql-direction-rtl){padding-left:4.5em}.ql-editor .ql-indent-1.ql-direction-rtl.ql-align-right{padding-right:3em}.ql-editor li.ql-indent-1.ql-direction-rtl.ql-align-right{padding-right:4.5em}.ql-editor .ql-indent-2:not(.ql-direction-rtl){padding-left:6em}.ql-editor li.ql-indent-2:not(.ql-direction-rtl){padding-left:7.5em}.ql-editor .ql-indent-2.ql-direction-rtl.ql-align-right{padding-right:6em}.ql-editor li.ql-indent-2.ql-direction-rtl.ql-align-right{padding-right:7.5em}.ql-editor .ql-indent-3:not(.ql-direction-rtl){padding-left:9em}.ql-editor li.ql-indent-3:not(.ql-direction-rtl){padding-left:10.5em}.ql-editor .ql-indent-3.ql-direction-rtl.ql-align-right{padding-right:9em}.ql-editor li.ql-indent-3.ql-direction-rtl.ql-align-right{padding-right:10.5em}.ql-editor .ql-indent-4:not(.ql-direction-rtl){padding-left:12em}.ql-editor li.ql-indent-4:not(.ql-direction-rtl){padding-left:13.5em}.ql-editor .ql-indent-4.ql-direction-rtl.ql-align-right{padding-right:12em}.ql-editor li.ql-indent-4.ql-direction-rtl.ql-align-right{padding-right:13.5em}.ql-editor .ql-indent-5:not(.ql-direction-rtl){padding-left:15em}.ql-editor li.ql-indent-5:not(.ql-direction-rtl){padding-left:16.5em}.ql-editor .ql-indent-5.ql-direction-rtl.ql-align-right{padding-right:15em}.ql-editor li.ql-indent-5.ql-direction-rtl.ql-align-right{padding-right:16.5em}.ql-editor .ql-indent-6:not(.ql-direction-rtl){padding-left:18em}.ql-editor li.ql-indent-6:not(.ql-direction-rtl){padding-left:19.5em}.ql-editor .ql-indent-6.ql-direction-rtl.ql-align-right{padding-right:18em}.ql-editor li.ql-indent-6.ql-direction-rtl.ql-align-right{padding-right:19.5em}.ql-editor .ql-indent-7:not(.ql-direction-rtl){padding-left:21em}.ql-editor li.ql-indent-7:not(.ql-direction-rtl){padding-left:22.5em}.ql-editor .ql-indent-7.ql-direction-rtl.ql-align-right{padding-right:21em}.ql-editor li.ql-indent-7.ql-direction-rtl.ql-align-right{padding-right:22.5em}.ql-editor .ql-indent-8:not(.ql-direction-rtl){padding-left:24em}.ql-editor li.ql-indent-8:not(.ql-direction-rtl){padding-left:25.5em}.ql-editor .ql-indent-8.ql-direction-rtl.ql-align-right{padding-right:24em}.ql-editor li.ql-indent-8.ql-direction-rtl.ql-align-right{padding-right:25.5em}.ql-editor .ql-indent-9:not(.ql-direction-rtl){padding-left:27em}.ql-editor li.ql-indent-9:not(.ql-direction-rtl){padding-left:28.5em}.ql-editor .ql-indent-9.ql-direction-rtl.ql-align-right{padding-right:27em}.ql-editor li.ql-indent-9.ql-direction-rtl.ql-align-right{padding-right:28.5em}.ql-editor .ql-video{display:block;max-width:100%}.ql-editor .ql-video.ql-align-center{margin:0 auto}.ql-editor .ql-video.ql-align-right{margin:0 0 0 auto}.ql-editor .ql-bg-black{background-color:#000}.ql-editor .ql-bg-red{background-color:#e60000}.ql-editor .ql-bg-orange{background-color:#f90}.ql-editor .ql-bg-yellow{background-color:#ff0}.ql-editor .ql-bg-green{background-color:#008a00}.ql-editor .ql-bg-blue{background-color:#06c}.ql-editor .ql-bg-purple{background-color:#93f}.ql-editor .ql-color-white{color:#fff}.ql-editor .ql-color-red{color:#e60000}.ql-editor .ql-color-orange{color:#f90}.ql-editor .ql-color-yellow{color:#ff0}.ql-editor .ql-color-green{color:#008a00}.ql-editor .ql-color-blue{color:#06c}.ql-editor .ql-color-purple{color:#93f}.ql-editor .ql-font-serif{font-family:Georgia,Times New Roman,serif}.ql-editor .ql-font-monospace{font-family:Monaco,Courier New,monospace}.ql-editor .ql-size-small{font-size:.75em}.ql-editor .ql-size-large{font-size:1.5em}.ql-editor .ql-size-huge{font-size:2.5em}.ql-editor .ql-direction-rtl{direction:rtl;text-align:inherit}.ql-editor .ql-align-center{text-align:center}.ql-editor .ql-align-justify{text-align:justify}.ql-editor .ql-align-right{text-align:right}.ql-editor.ql-blank::before{color:rgba(0,0,0,.6);content:attr(data-placeholder);left:15px;pointer-events:none;position:absolute;right:15px}.ql-snow .ql-toolbar:after,.ql-snow.ql-toolbar:after{clear:both;content:'';display:table}.ql-snow .ql-toolbar button,.ql-snow.ql-toolbar button{background:0 0;border:none;cursor:pointer;display:inline-block;float:left;height:24px;padding:3px 5px;width:28px}.ql-snow .ql-toolbar button svg,.ql-snow.ql-toolbar button svg{float:left;height:100%}.ql-snow .ql-toolbar button:active:hover,.ql-snow.ql-toolbar button:active:hover{outline:0}.ql-snow .ql-toolbar input.ql-image[type=file],.ql-snow.ql-toolbar input.ql-image[type=file]{display:none}.ql-snow .ql-toolbar .ql-picker-item.ql-selected,.ql-snow .ql-toolbar .ql-picker-item:hover,.ql-snow .ql-toolbar .ql-picker-label.ql-active,.ql-snow .ql-toolbar .ql-picker-label:hover,.ql-snow .ql-toolbar button.ql-active,.ql-snow .ql-toolbar button:focus,.ql-snow .ql-toolbar button:hover,.ql-snow.ql-toolbar .ql-picker-item.ql-selected,.ql-snow.ql-toolbar .ql-picker-item:hover,.ql-snow.ql-toolbar .ql-picker-label.ql-active,.ql-snow.ql-toolbar .ql-picker-label:hover,.ql-snow.ql-toolbar button.ql-active,.ql-snow.ql-toolbar button:focus,.ql-snow.ql-toolbar button:hover{color:#06c}.ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-fill,.ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-stroke.ql-fill,.ql-snow .ql-toolbar .ql-picker-item:hover .ql-fill,.ql-snow .ql-toolbar .ql-picker-item:hover .ql-stroke.ql-fill,.ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-fill,.ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-stroke.ql-fill,.ql-snow .ql-toolbar .ql-picker-label:hover .ql-fill,.ql-snow .ql-toolbar .ql-picker-label:hover .ql-stroke.ql-fill,.ql-snow .ql-toolbar button.ql-active .ql-fill,.ql-snow .ql-toolbar button.ql-active .ql-stroke.ql-fill,.ql-snow .ql-toolbar button:focus .ql-fill,.ql-snow .ql-toolbar button:focus .ql-stroke.ql-fill,.ql-snow .ql-toolbar button:hover .ql-fill,.ql-snow .ql-toolbar button:hover .ql-stroke.ql-fill,.ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-fill,.ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-stroke.ql-fill,.ql-snow.ql-toolbar .ql-picker-item:hover .ql-fill,.ql-snow.ql-toolbar .ql-picker-item:hover .ql-stroke.ql-fill,.ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-fill,.ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-stroke.ql-fill,.ql-snow.ql-toolbar .ql-picker-label:hover .ql-fill,.ql-snow.ql-toolbar .ql-picker-label:hover .ql-stroke.ql-fill,.ql-snow.ql-toolbar button.ql-active .ql-fill,.ql-snow.ql-toolbar button.ql-active .ql-stroke.ql-fill,.ql-snow.ql-toolbar button:focus .ql-fill,.ql-snow.ql-toolbar button:focus .ql-stroke.ql-fill,.ql-snow.ql-toolbar button:hover .ql-fill,.ql-snow.ql-toolbar button:hover .ql-stroke.ql-fill{fill:#06c}.ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-stroke,.ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-stroke-miter,.ql-snow .ql-toolbar .ql-picker-item:hover .ql-stroke,.ql-snow .ql-toolbar .ql-picker-item:hover .ql-stroke-miter,.ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-stroke,.ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-stroke-miter,.ql-snow .ql-toolbar .ql-picker-label:hover .ql-stroke,.ql-snow .ql-toolbar .ql-picker-label:hover .ql-stroke-miter,.ql-snow .ql-toolbar button.ql-active .ql-stroke,.ql-snow .ql-toolbar button.ql-active .ql-stroke-miter,.ql-snow .ql-toolbar button:focus .ql-stroke,.ql-snow .ql-toolbar button:focus .ql-stroke-miter,.ql-snow .ql-toolbar button:hover .ql-stroke,.ql-snow .ql-toolbar button:hover .ql-stroke-miter,.ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-stroke,.ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-stroke-miter,.ql-snow.ql-toolbar .ql-picker-item:hover .ql-stroke,.ql-snow.ql-toolbar .ql-picker-item:hover .ql-stroke-miter,.ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-stroke,.ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-stroke-miter,.ql-snow.ql-toolbar .ql-picker-label:hover .ql-stroke,.ql-snow.ql-toolbar .ql-picker-label:hover .ql-stroke-miter,.ql-snow.ql-toolbar button.ql-active .ql-stroke,.ql-snow.ql-toolbar button.ql-active .ql-stroke-miter,.ql-snow.ql-toolbar button:focus .ql-stroke,.ql-snow.ql-toolbar button:focus .ql-stroke-miter,.ql-snow.ql-toolbar button:hover .ql-stroke,.ql-snow.ql-toolbar button:hover .ql-stroke-miter{stroke:#06c}@media (pointer:coarse){.ql-snow .ql-toolbar button:hover:not(.ql-active),.ql-snow.ql-toolbar button:hover:not(.ql-active){color:#444}.ql-snow .ql-toolbar button:hover:not(.ql-active) .ql-fill,.ql-snow .ql-toolbar button:hover:not(.ql-active) .ql-stroke.ql-fill,.ql-snow.ql-toolbar button:hover:not(.ql-active) .ql-fill,.ql-snow.ql-toolbar button:hover:not(.ql-active) .ql-stroke.ql-fill{fill:#444}.ql-snow .ql-toolbar button:hover:not(.ql-active) .ql-stroke,.ql-snow .ql-toolbar button:hover:not(.ql-active) .ql-stroke-miter,.ql-snow.ql-toolbar button:hover:not(.ql-active) .ql-stroke,.ql-snow.ql-toolbar button:hover:not(.ql-active) .ql-stroke-miter{stroke:#444}}.ql-snow,.ql-snow *{box-sizing:border-box}.ql-snow .ql-hidden{display:none}.ql-snow .ql-out-bottom,.ql-snow .ql-out-top{visibility:hidden}.ql-snow .ql-tooltip{position:absolute;-webkit-transform:translateY(10px);transform:translateY(10px)}.ql-snow .ql-tooltip a{cursor:pointer;text-decoration:none;line-height:26px}.ql-snow .ql-tooltip.ql-flip{-webkit-transform:translateY(-10px);transform:translateY(-10px)}.ql-snow .ql-formats{display:inline-block;vertical-align:middle}.ql-snow .ql-formats:after{clear:both;content:'';display:table}.ql-snow .ql-stroke{fill:none;stroke:#444;stroke-linecap:round;stroke-linejoin:round;stroke-width:2}.ql-snow .ql-stroke-miter{fill:none;stroke:#444;stroke-miterlimit:10;stroke-width:2}.ql-snow .ql-fill,.ql-snow .ql-stroke.ql-fill{fill:#444}.ql-snow .ql-empty{fill:none}.ql-snow .ql-even{fill-rule:evenodd}.ql-snow .ql-stroke.ql-thin,.ql-snow .ql-thin{stroke-width:1}.ql-snow .ql-transparent{opacity:.4}.ql-snow .ql-direction svg:last-child{display:none}.ql-snow .ql-direction.ql-active svg:last-child{display:inline}.ql-snow .ql-direction.ql-active svg:first-child{display:none}.ql-snow .ql-editor h1{font-size:2em}.ql-snow .ql-editor h2{font-size:1.5em}.ql-snow .ql-editor h3{font-size:1.17em}.ql-snow .ql-editor h4{font-size:1em}.ql-snow .ql-editor h5{font-size:.83em}.ql-snow .ql-editor h6{font-size:.67em}.ql-snow .ql-editor a{text-decoration:underline}.ql-snow .ql-editor blockquote{border-left:4px solid #ccc;margin-bottom:5px;margin-top:5px;padding-left:16px}.ql-snow .ql-editor code,.ql-snow .ql-editor pre{background-color:#f0f0f0;border-radius:3px}.ql-snow .ql-editor pre{white-space:pre-wrap;margin-bottom:5px;margin-top:5px;padding:5px 10px}.ql-snow .ql-editor code{font-size:85%;padding:2px 4px}.ql-snow .ql-editor pre.ql-syntax{background-color:#23241f;color:#f8f8f2;overflow:visible}.ql-snow .ql-editor img{max-width:100%}.ql-snow .ql-picker{color:#444;display:inline-block;float:left;font-size:14px;font-weight:500;height:24px;position:relative;vertical-align:middle}.ql-snow .ql-picker-label{cursor:pointer;display:inline-block;height:100%;padding-left:8px;padding-right:2px;position:relative;width:100%;overflow:hidden}.ql-snow .ql-picker-options{background-color:#fff;display:none;min-width:100%;padding:4px 8px;position:absolute;white-space:nowrap}.ql-snow .ql-picker-options .ql-picker-item{cursor:pointer;display:block;padding-bottom:5px;padding-top:5px}.ql-snow .ql-picker.ql-expanded .ql-picker-label{color:#ccc;z-index:2}.ql-snow .ql-picker.ql-expanded .ql-picker-label .ql-fill{fill:#ccc}.ql-snow .ql-picker.ql-expanded .ql-picker-label .ql-stroke{stroke:#ccc}.ql-snow .ql-picker.ql-expanded .ql-picker-options{display:block;margin-top:-1px;top:100%;z-index:1}.ql-snow .ql-color-picker,.ql-snow .ql-icon-picker{width:28px}.ql-snow .ql-color-picker .ql-picker-label,.ql-snow .ql-icon-picker .ql-picker-label{padding:0 4px}.ql-snow .ql-color-picker .ql-picker-label svg,.ql-snow .ql-icon-picker .ql-picker-label svg{top:-1px;position:relative}.ql-snow .ql-icon-picker .ql-picker-options{padding:4px 0}.ql-snow .ql-icon-picker .ql-picker-item{height:24px;width:24px;padding:2px 4px}.ql-snow .ql-color-picker .ql-picker-options{padding:3px 5px;width:152px}.ql-snow .ql-color-picker .ql-picker-item{border:1px solid transparent;float:left;height:16px;margin:2px;padding:0;width:16px}.ql-snow .ql-picker:not(.ql-color-picker):not(.ql-icon-picker) svg{position:absolute;margin-top:-9px;right:0;top:50%;width:18px;background-color:#fff}.ql-snow .ql-picker.ql-font .ql-picker-item[data-label]:not([data-label=''])::before,.ql-snow .ql-picker.ql-font .ql-picker-label[data-label]:not([data-label=''])::before,.ql-snow .ql-picker.ql-header .ql-picker-item[data-label]:not([data-label=''])::before,.ql-snow .ql-picker.ql-header .ql-picker-label[data-label]:not([data-label=''])::before,.ql-snow .ql-picker.ql-size .ql-picker-item[data-label]:not([data-label=''])::before,.ql-snow .ql-picker.ql-size .ql-picker-label[data-label]:not([data-label=''])::before{content:attr(data-label)}.ql-snow .ql-picker.ql-header{width:98px}.ql-snow .ql-picker.ql-header .ql-picker-item::before,.ql-snow .ql-picker.ql-header .ql-picker-label::before{content:'Normal'}.ql-snow .ql-picker.ql-header .ql-picker-item[data-value='1']::before,.ql-snow .ql-picker.ql-header .ql-picker-label[data-value='1']::before{content:'Heading 1'}.ql-snow .ql-picker.ql-header .ql-picker-item[data-value='2']::before,.ql-snow .ql-picker.ql-header .ql-picker-label[data-value='2']::before{content:'Heading 2'}.ql-snow .ql-picker.ql-header .ql-picker-item[data-value='3']::before,.ql-snow .ql-picker.ql-header .ql-picker-label[data-value='3']::before{content:'Heading 3'}.ql-snow .ql-picker.ql-header .ql-picker-item[data-value='4']::before,.ql-snow .ql-picker.ql-header .ql-picker-label[data-value='4']::before{content:'Heading 4'}.ql-snow .ql-picker.ql-header .ql-picker-item[data-value='5']::before,.ql-snow .ql-picker.ql-header .ql-picker-label[data-value='5']::before{content:'Heading 5'}.ql-snow .ql-picker.ql-header .ql-picker-item[data-value='6']::before,.ql-snow .ql-picker.ql-header .ql-picker-label[data-value='6']::before{content:'Heading 6'}.ql-snow .ql-picker.ql-header .ql-picker-item[data-value='1']::before{font-size:2em}.ql-snow .ql-picker.ql-header .ql-picker-item[data-value='2']::before{font-size:1.5em}.ql-snow .ql-picker.ql-header .ql-picker-item[data-value='3']::before{font-size:1.17em}.ql-snow .ql-picker.ql-header .ql-picker-item[data-value='4']::before{font-size:1em}.ql-snow .ql-picker.ql-header .ql-picker-item[data-value='5']::before{font-size:.83em}.ql-snow .ql-picker.ql-header .ql-picker-item[data-value='6']::before{font-size:.67em}.ql-snow .ql-picker.ql-font{width:108px}.ql-snow .ql-picker.ql-font .ql-picker-item::before,.ql-snow .ql-picker.ql-font .ql-picker-label::before{content:'Sans Serif'}.ql-snow .ql-picker.ql-font .ql-picker-item[data-value=serif]::before,.ql-snow .ql-picker.ql-font .ql-picker-label[data-value=serif]::before{content:'Serif'}.ql-snow .ql-picker.ql-font .ql-picker-item[data-value=monospace]::before,.ql-snow .ql-picker.ql-font .ql-picker-label[data-value=monospace]::before{content:'Monospace'}.ql-snow .ql-picker.ql-font .ql-picker-item[data-value=serif]::before{font-family:Georgia,Times New Roman,serif}.ql-snow .ql-picker.ql-font .ql-picker-item[data-value=monospace]::before{font-family:Monaco,Courier New,monospace}.ql-snow .ql-picker.ql-size{width:98px}.ql-snow .ql-picker.ql-size .ql-picker-item::before,.ql-snow .ql-picker.ql-size .ql-picker-label::before{content:'Normal'}.ql-snow .ql-picker.ql-size .ql-picker-item[data-value=small]::before,.ql-snow .ql-picker.ql-size .ql-picker-label[data-value=small]::before{content:'Small'}.ql-snow .ql-picker.ql-size .ql-picker-item[data-value=large]::before,.ql-snow .ql-picker.ql-size .ql-picker-label[data-value=large]::before{content:'Large'}.ql-snow .ql-picker.ql-size .ql-picker-item[data-value=huge]::before,.ql-snow .ql-picker.ql-size .ql-picker-label[data-value=huge]::before{content:'Huge'}.ql-snow .ql-picker.ql-size .ql-picker-item[data-value=small]::before{font-size:10px}.ql-snow .ql-picker.ql-size .ql-picker-item[data-value=large]::before{font-size:18px}.ql-snow .ql-picker.ql-size .ql-picker-item[data-value=huge]::before{font-size:32px}.ql-snow .ql-color-picker.ql-background .ql-picker-item{background-color:#fff}.ql-snow .ql-color-picker.ql-color .ql-picker-item{background-color:#000}.ql-toolbar.ql-snow{border:1px solid #ccc;box-sizing:border-box;font-family:'Helvetica Neue',Helvetica,Arial,sans-serif;padding:8px}.ql-toolbar.ql-snow .ql-formats{margin-right:15px}.ql-toolbar.ql-snow .ql-picker-label{border:1px solid transparent}.ql-toolbar.ql-snow .ql-picker-options{border:1px solid transparent;box-shadow:rgba(0,0,0,.2) 0 2px 8px}.ql-toolbar.ql-snow .ql-picker.ql-expanded .ql-picker-label,.ql-toolbar.ql-snow .ql-picker.ql-expanded .ql-picker-options{border-color:#ccc}.ql-toolbar.ql-snow .ql-color-picker .ql-picker-item.ql-selected,.ql-toolbar.ql-snow .ql-color-picker .ql-picker-item:hover{border-color:#000}.ql-toolbar.ql-snow+.ql-container.ql-snow{border-top:0}.ql-snow .ql-tooltip{background-color:#fff;border:1px solid #ccc;box-shadow:0 0 5px #ddd;color:#444;padding:5px 12px;white-space:nowrap}.ql-snow .ql-tooltip::before{content:'Visit URL:';line-height:26px;margin-right:8px}.ql-snow .ql-tooltip input[type=text]{display:none;border:1px solid #ccc;font-size:13px;height:26px;margin:0;padding:3px 5px;width:170px}.ql-snow .ql-tooltip a.ql-preview{display:inline-block;max-width:200px;overflow-x:hidden;text-overflow:ellipsis;vertical-align:top}.ql-snow .ql-tooltip a.ql-action::after{border-right:1px solid #ccc;content:'Edit';margin-left:16px;padding-right:8px}.ql-snow .ql-tooltip a.ql-remove::before{content:'Remove';margin-left:8px}.ql-snow .ql-tooltip.ql-editing a.ql-preview,.ql-snow .ql-tooltip.ql-editing a.ql-remove{display:none}.ql-snow .ql-tooltip.ql-editing input[type=text]{display:inline-block}.ql-snow .ql-tooltip.ql-editing a.ql-action::after{border-right:0;content:'Save';padding-right:0}.ql-snow .ql-tooltip[data-mode=link]::before{content:'Enter link:'}.ql-snow .ql-tooltip[data-mode=formula]::before{content:'Enter formula:'}.ql-snow .ql-tooltip[data-mode=video]::before{content:'Enter video:'}.ql-snow a{color:#06c}.ql-container.ql-snow{border:1px solid #d9d9d9;border-top:1px solid #d9d9d9!important}.ql-toolbar.ql-snow{border-bottom:0;line-height:20px}.ql-snow .ql-picker.ql-font .ql-picker-item[data-value=SimSun]::before,.ql-snow .ql-picker.ql-font .ql-picker-label[data-value=SimSun]::before{content:'宋体';font-family:SimSun}.ql-snow .ql-picker.ql-font .ql-picker-item[data-value=SimHei]::before,.ql-snow .ql-picker.ql-font .ql-picker-label[data-value=SimHei]::before{content:'黑体';font-family:SimHei}.ql-snow .ql-picker.ql-font .ql-picker-item[data-value=Microsoft-YaHei]::before,.ql-snow .ql-picker.ql-font .ql-picker-label[data-value=Microsoft-YaHei]::before{content:'微软雅黑';font-family:'Microsoft YaHei'}.ql-snow .ql-picker.ql-font .ql-picker-item[data-value=KaiTi]::before,.ql-snow .ql-picker.ql-font .ql-picker-label[data-value=KaiTi]::before{content:'楷体';font-family:KaiTi}.ql-snow .ql-picker.ql-font .ql-picker-item[data-value=FangSong]::before,.ql-snow .ql-picker.ql-font .ql-picker-label[data-value=FangSong]::before{content:'仿宋';font-family:FangSong}.ql-snow .ql-picker.ql-font .ql-picker-item[data-value=Arial]::before,.ql-snow .ql-picker.ql-font .ql-picker-label[data-value=Arial]::before{content:'Arial';font-family:Arial}.ql-snow .ql-picker.ql-font .ql-picker-item[data-value=Times]::before,.ql-snow .ql-picker.ql-font .ql-picker-label[data-value=Times]::before{content:'Times New Roman';font-family:'Times New Roman';white-space:nowrap}.ql-snow .ql-picker.ql-font .ql-picker-item[data-value=sans-serif]::before,.ql-snow .ql-picker.ql-font .ql-picker-label[data-value=sans-serif]::before{content:'sans-serif';font-family:sans-serif}.ql-font-SimSun{font-family:SimSun}.ql-font-SimHei{font-family:SimHei}.ql-font-Microsoft-YaHei{font-family:'Microsoft YaHei'}.ql-font-KaiTi{font-family:KaiTi}.ql-font-FangSong{font-family:FangSong}.ql-font-Arial{font-family:Arial}.ql-font-Times{font-family:'Times New Roman'}.ql-font-sans-serif{font-family:sans-serif}.ql-toolbar [tooltip]{position:relative}.ql-toolbar [tooltip]::before{content:'';position:absolute;top:-4px;left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%);border-width:4px 6px 0;border-style:solid;border-color:rgba(0,0,0,.7) transparent transparent;z-index:99;opacity:0}.ql-toolbar [tooltip-position=left]::before{left:0;top:50%;margin-left:-12px;-webkit-transform:translatey(-50%) rotate(-90deg);transform:translatey(-50%) rotate(-90deg)}.ql-toolbar [tooltip-position=top]::before{left:50%}.ql-toolbar [tooltip-position=bottom]::before{top:100%;margin-top:8px;-webkit-transform:translateX(-50%) translatey(-100%) rotate(-180deg);transform:translateX(-50%) translatey(-100%) rotate(-180deg)}.ql-toolbar [tooltip-position=right]::before{left:100%;top:50%;margin-left:1px;-webkit-transform:translatey(-50%) rotate(90deg);transform:translatey(-50%) rotate(90deg)}.ql-toolbar [tooltip]::after{content:attr(tooltip);position:absolute;left:50%;top:-4px;-webkit-transform:translateX(-50%) translateY(-100%);transform:translateX(-50%) translateY(-100%);background:rgba(0,0,0,.7);text-align:center;color:#fff;padding:4px;font-size:12px;min-width:70px;border-radius:5px;pointer-events:none;z-index:99;opacity:0}.ql-toolbar [tooltip-position=left]::after{left:0;top:50%;margin-left:-8px;-webkit-transform:translateX(-100%) translateY(-50%);transform:translateX(-100%) translateY(-50%)}.ql-toolbar [tooltip-position=top]::after{left:50%}.ql-toolbar [tooltip-position=bottom]::after{top:100%;margin-top:8px;-webkit-transform:translateX(-50%) translateY(0);transform:translateX(-50%) translateY(0)}.ql-toolbar [tooltip-position=right]::after{left:100%;top:50%;margin-left:8px;-webkit-transform:translateX(0) translateY(-50%);transform:translateX(0) translateY(-50%)}.ql-toolbar [tooltip]:hover::after,.ql-toolbar [tooltip]:hover::before{opacity:1}.quill-tooltip::before{content:'';position:absolute;bottom:-4px;left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%);border-width:4px 6px 0;border-style:solid;border-color:rgba(0,0,0,.7) transparent transparent;z-index:99}.ql-container.ql-snow,.ql-toolbar.ql-snow{border:none}.farris-html-editor{height:auto;border:1px solid #d9d9d9;display:block;padding:0}.farris-html-editor.farris-html-editor-disabled,.farris-html-editor.farris-html-editor-readonly{border:none}.ql-container.ql-disabled{border-top:none!important}.ql-bubble .ql-toolbar:after,.ql-bubble.ql-toolbar:after{clear:both;content:'';display:table}.ql-bubble .ql-toolbar button,.ql-bubble.ql-toolbar button{background:0 0;border:none;cursor:pointer;display:inline-block;float:left;height:24px;padding:3px 5px;width:28px}.ql-bubble .ql-toolbar button svg,.ql-bubble.ql-toolbar button svg{float:left;height:100%}.ql-bubble .ql-toolbar button:active:hover,.ql-bubble.ql-toolbar button:active:hover{outline:0}.ql-bubble .ql-toolbar input.ql-image[type=file],.ql-bubble.ql-toolbar input.ql-image[type=file]{display:none}.ql-bubble .ql-toolbar .ql-picker-item.ql-selected,.ql-bubble .ql-toolbar .ql-picker-item:hover,.ql-bubble .ql-toolbar .ql-picker-label.ql-active,.ql-bubble .ql-toolbar .ql-picker-label:hover,.ql-bubble .ql-toolbar button.ql-active,.ql-bubble .ql-toolbar button:focus,.ql-bubble .ql-toolbar button:hover,.ql-bubble.ql-toolbar .ql-picker-item.ql-selected,.ql-bubble.ql-toolbar .ql-picker-item:hover,.ql-bubble.ql-toolbar .ql-picker-label.ql-active,.ql-bubble.ql-toolbar .ql-picker-label:hover,.ql-bubble.ql-toolbar button.ql-active,.ql-bubble.ql-toolbar button:focus,.ql-bubble.ql-toolbar button:hover{color:#fff}.ql-bubble .ql-toolbar .ql-picker-item.ql-selected .ql-fill,.ql-bubble .ql-toolbar .ql-picker-item.ql-selected .ql-stroke.ql-fill,.ql-bubble .ql-toolbar .ql-picker-item:hover .ql-fill,.ql-bubble .ql-toolbar .ql-picker-item:hover .ql-stroke.ql-fill,.ql-bubble .ql-toolbar .ql-picker-label.ql-active .ql-fill,.ql-bubble .ql-toolbar .ql-picker-label.ql-active .ql-stroke.ql-fill,.ql-bubble .ql-toolbar .ql-picker-label:hover .ql-fill,.ql-bubble .ql-toolbar .ql-picker-label:hover .ql-stroke.ql-fill,.ql-bubble .ql-toolbar button.ql-active .ql-fill,.ql-bubble .ql-toolbar button.ql-active .ql-stroke.ql-fill,.ql-bubble .ql-toolbar button:focus .ql-fill,.ql-bubble .ql-toolbar button:focus .ql-stroke.ql-fill,.ql-bubble .ql-toolbar button:hover .ql-fill,.ql-bubble .ql-toolbar button:hover .ql-stroke.ql-fill,.ql-bubble.ql-toolbar .ql-picker-item.ql-selected .ql-fill,.ql-bubble.ql-toolbar .ql-picker-item.ql-selected .ql-stroke.ql-fill,.ql-bubble.ql-toolbar .ql-picker-item:hover .ql-fill,.ql-bubble.ql-toolbar .ql-picker-item:hover .ql-stroke.ql-fill,.ql-bubble.ql-toolbar .ql-picker-label.ql-active .ql-fill,.ql-bubble.ql-toolbar .ql-picker-label.ql-active .ql-stroke.ql-fill,.ql-bubble.ql-toolbar .ql-picker-label:hover .ql-fill,.ql-bubble.ql-toolbar .ql-picker-label:hover .ql-stroke.ql-fill,.ql-bubble.ql-toolbar button.ql-active .ql-fill,.ql-bubble.ql-toolbar button.ql-active .ql-stroke.ql-fill,.ql-bubble.ql-toolbar button:focus .ql-fill,.ql-bubble.ql-toolbar button:focus .ql-stroke.ql-fill,.ql-bubble.ql-toolbar button:hover .ql-fill,.ql-bubble.ql-toolbar button:hover .ql-stroke.ql-fill{fill:#fff}.ql-bubble .ql-toolbar .ql-picker-item.ql-selected .ql-stroke,.ql-bubble .ql-toolbar .ql-picker-item.ql-selected .ql-stroke-miter,.ql-bubble .ql-toolbar .ql-picker-item:hover .ql-stroke,.ql-bubble .ql-toolbar .ql-picker-item:hover .ql-stroke-miter,.ql-bubble .ql-toolbar .ql-picker-label.ql-active .ql-stroke,.ql-bubble .ql-toolbar .ql-picker-label.ql-active .ql-stroke-miter,.ql-bubble .ql-toolbar .ql-picker-label:hover .ql-stroke,.ql-bubble .ql-toolbar .ql-picker-label:hover .ql-stroke-miter,.ql-bubble .ql-toolbar button.ql-active .ql-stroke,.ql-bubble .ql-toolbar button.ql-active .ql-stroke-miter,.ql-bubble .ql-toolbar button:focus .ql-stroke,.ql-bubble .ql-toolbar button:focus .ql-stroke-miter,.ql-bubble .ql-toolbar button:hover .ql-stroke,.ql-bubble .ql-toolbar button:hover .ql-stroke-miter,.ql-bubble.ql-toolbar .ql-picker-item.ql-selected .ql-stroke,.ql-bubble.ql-toolbar .ql-picker-item.ql-selected .ql-stroke-miter,.ql-bubble.ql-toolbar .ql-picker-item:hover .ql-stroke,.ql-bubble.ql-toolbar .ql-picker-item:hover .ql-stroke-miter,.ql-bubble.ql-toolbar .ql-picker-label.ql-active .ql-stroke,.ql-bubble.ql-toolbar .ql-picker-label.ql-active .ql-stroke-miter,.ql-bubble.ql-toolbar .ql-picker-label:hover .ql-stroke,.ql-bubble.ql-toolbar .ql-picker-label:hover .ql-stroke-miter,.ql-bubble.ql-toolbar button.ql-active .ql-stroke,.ql-bubble.ql-toolbar button.ql-active .ql-stroke-miter,.ql-bubble.ql-toolbar button:focus .ql-stroke,.ql-bubble.ql-toolbar button:focus .ql-stroke-miter,.ql-bubble.ql-toolbar button:hover .ql-stroke,.ql-bubble.ql-toolbar button:hover .ql-stroke-miter{stroke:#fff}@media (pointer:coarse){.ql-bubble .ql-toolbar button:hover:not(.ql-active),.ql-bubble.ql-toolbar button:hover:not(.ql-active){color:#ccc}.ql-bubble .ql-toolbar button:hover:not(.ql-active) .ql-fill,.ql-bubble .ql-toolbar button:hover:not(.ql-active) .ql-stroke.ql-fill,.ql-bubble.ql-toolbar button:hover:not(.ql-active) .ql-fill,.ql-bubble.ql-toolbar button:hover:not(.ql-active) .ql-stroke.ql-fill{fill:#ccc}.ql-bubble .ql-toolbar button:hover:not(.ql-active) .ql-stroke,.ql-bubble .ql-toolbar button:hover:not(.ql-active) .ql-stroke-miter,.ql-bubble.ql-toolbar button:hover:not(.ql-active) .ql-stroke,.ql-bubble.ql-toolbar button:hover:not(.ql-active) .ql-stroke-miter{stroke:#ccc}}.ql-bubble,.ql-bubble *{box-sizing:border-box}.ql-bubble .ql-hidden{display:none}.ql-bubble .ql-out-bottom,.ql-bubble .ql-out-top{visibility:hidden}.ql-bubble .ql-tooltip{position:absolute;-webkit-transform:translateY(10px);transform:translateY(10px)}.ql-bubble .ql-tooltip a{cursor:pointer;text-decoration:none}.ql-bubble .ql-tooltip.ql-flip{-webkit-transform:translateY(-10px);transform:translateY(-10px)}.ql-bubble .ql-formats{display:inline-block;vertical-align:middle}.ql-bubble .ql-formats:after{clear:both;content:'';display:table}.ql-bubble .ql-stroke{fill:none;stroke:#ccc;stroke-linecap:round;stroke-linejoin:round;stroke-width:2}.ql-bubble .ql-stroke-miter{fill:none;stroke:#ccc;stroke-miterlimit:10;stroke-width:2}.ql-bubble .ql-fill,.ql-bubble .ql-stroke.ql-fill{fill:#ccc}.ql-bubble .ql-empty{fill:none}.ql-bubble .ql-even{fill-rule:evenodd}.ql-bubble .ql-stroke.ql-thin,.ql-bubble .ql-thin{stroke-width:1}.ql-bubble .ql-transparent{opacity:.4}.ql-bubble .ql-direction svg:last-child{display:none}.ql-bubble .ql-direction.ql-active svg:last-child{display:inline}.ql-bubble .ql-direction.ql-active svg:first-child{display:none}.ql-bubble .ql-editor h1{font-size:2em}.ql-bubble .ql-editor h2{font-size:1.5em}.ql-bubble .ql-editor h3{font-size:1.17em}.ql-bubble .ql-editor h4{font-size:1em}.ql-bubble .ql-editor h5{font-size:.83em}.ql-bubble .ql-editor h6{font-size:.67em}.ql-bubble .ql-editor a{text-decoration:underline}.ql-bubble .ql-editor blockquote{border-left:4px solid #ccc;margin-bottom:5px;margin-top:5px;padding-left:16px}.ql-bubble .ql-editor code,.ql-bubble .ql-editor pre{background-color:#f0f0f0;border-radius:3px}.ql-bubble .ql-editor pre{white-space:pre-wrap;margin-bottom:5px;margin-top:5px;padding:5px 10px}.ql-bubble .ql-editor code{font-size:85%;padding:2px 4px}.ql-bubble .ql-editor pre.ql-syntax{background-color:#23241f;color:#f8f8f2;overflow:visible}.ql-bubble .ql-editor img{max-width:100%}.ql-bubble .ql-picker{color:#ccc;display:inline-block;float:left;font-size:14px;font-weight:500;height:24px;position:relative;vertical-align:middle}.ql-bubble .ql-picker-label{cursor:pointer;display:inline-block;height:100%;padding-left:8px;padding-right:2px;position:relative;width:100%;overflow:hidden}.ql-bubble .ql-picker-label::before{display:inline-block;line-height:22px}.ql-bubble .ql-picker-options{background-color:#444;display:none;min-width:100%;padding:4px 8px;position:absolute;white-space:nowrap}.ql-bubble .ql-picker-options .ql-picker-item{cursor:pointer;display:block;padding-bottom:5px;padding-top:5px}.ql-bubble .ql-picker.ql-expanded .ql-picker-label{color:#777;z-index:2}.ql-bubble .ql-picker.ql-expanded .ql-picker-label .ql-fill{fill:#777}.ql-bubble .ql-picker.ql-expanded .ql-picker-label .ql-stroke{stroke:#777}.ql-bubble .ql-picker.ql-expanded .ql-picker-options{display:block;margin-top:-1px;top:100%;z-index:1}.ql-bubble .ql-color-picker,.ql-bubble .ql-icon-picker{width:28px}.ql-bubble .ql-color-picker .ql-picker-label,.ql-bubble .ql-icon-picker .ql-picker-label{padding:0 4px}.ql-bubble .ql-color-picker .ql-picker-label svg,.ql-bubble .ql-icon-picker .ql-picker-label svg{right:4px}.ql-bubble .ql-icon-picker .ql-picker-options{padding:4px 0}.ql-bubble .ql-icon-picker .ql-picker-item{height:24px;width:24px;padding:2px 4px}.ql-bubble .ql-color-picker .ql-picker-options{padding:3px 5px;width:152px}.ql-bubble .ql-color-picker .ql-picker-item{border:1px solid transparent;float:left;height:16px;margin:2px;padding:0;width:16px}.ql-bubble .ql-picker:not(.ql-color-picker):not(.ql-icon-picker) svg{position:absolute;margin-top:-9px;right:0;top:50%;width:18px;background-color:#fff}.ql-bubble .ql-picker.ql-font .ql-picker-item[data-label]:not([data-label=''])::before,.ql-bubble .ql-picker.ql-font .ql-picker-label[data-label]:not([data-label=''])::before,.ql-bubble .ql-picker.ql-header .ql-picker-item[data-label]:not([data-label=''])::before,.ql-bubble .ql-picker.ql-header .ql-picker-label[data-label]:not([data-label=''])::before,.ql-bubble .ql-picker.ql-size .ql-picker-item[data-label]:not([data-label=''])::before,.ql-bubble .ql-picker.ql-size .ql-picker-label[data-label]:not([data-label=''])::before{content:attr(data-label)}.ql-bubble .ql-picker.ql-header{width:98px}.ql-bubble .ql-picker.ql-header .ql-picker-item::before,.ql-bubble .ql-picker.ql-header .ql-picker-label::before{content:'Normal'}.ql-bubble .ql-picker.ql-header .ql-picker-item[data-value=\"1\"]::before,.ql-bubble .ql-picker.ql-header .ql-picker-label[data-value=\"1\"]::before{content:'Heading 1'}.ql-bubble .ql-picker.ql-header .ql-picker-item[data-value=\"2\"]::before,.ql-bubble .ql-picker.ql-header .ql-picker-label[data-value=\"2\"]::before{content:'Heading 2'}.ql-bubble .ql-picker.ql-header .ql-picker-item[data-value=\"3\"]::before,.ql-bubble .ql-picker.ql-header .ql-picker-label[data-value=\"3\"]::before{content:'Heading 3'}.ql-bubble .ql-picker.ql-header .ql-picker-item[data-value=\"4\"]::before,.ql-bubble .ql-picker.ql-header .ql-picker-label[data-value=\"4\"]::before{content:'Heading 4'}.ql-bubble .ql-picker.ql-header .ql-picker-item[data-value=\"5\"]::before,.ql-bubble .ql-picker.ql-header .ql-picker-label[data-value=\"5\"]::before{content:'Heading 5'}.ql-bubble .ql-picker.ql-header .ql-picker-item[data-value=\"6\"]::before,.ql-bubble .ql-picker.ql-header .ql-picker-label[data-value=\"6\"]::before{content:'Heading 6'}.ql-bubble .ql-picker.ql-header .ql-picker-item[data-value=\"1\"]::before{font-size:2em}.ql-bubble .ql-picker.ql-header .ql-picker-item[data-value=\"2\"]::before{font-size:1.5em}.ql-bubble .ql-picker.ql-header .ql-picker-item[data-value=\"3\"]::before{font-size:1.17em}.ql-bubble .ql-picker.ql-header .ql-picker-item[data-value=\"4\"]::before{font-size:1em}.ql-bubble .ql-picker.ql-header .ql-picker-item[data-value=\"5\"]::before{font-size:.83em}.ql-bubble .ql-picker.ql-header .ql-picker-item[data-value=\"6\"]::before{font-size:.67em}.ql-bubble .ql-picker.ql-font{width:108px}.ql-bubble .ql-picker.ql-font .ql-picker-item::before,.ql-bubble .ql-picker.ql-font .ql-picker-label::before{content:'Sans Serif'}.ql-bubble .ql-picker.ql-font .ql-picker-item[data-value=serif]::before,.ql-bubble .ql-picker.ql-font .ql-picker-label[data-value=serif]::before{content:'Serif'}.ql-bubble .ql-picker.ql-font .ql-picker-item[data-value=monospace]::before,.ql-bubble .ql-picker.ql-font .ql-picker-label[data-value=monospace]::before{content:'Monospace'}.ql-bubble .ql-picker.ql-font .ql-picker-item[data-value=serif]::before{font-family:Georgia,Times New Roman,serif}.ql-bubble .ql-picker.ql-font .ql-picker-item[data-value=monospace]::before{font-family:Monaco,Courier New,monospace}.ql-bubble .ql-picker.ql-size{width:98px}.ql-bubble .ql-picker.ql-size .ql-picker-item::before,.ql-bubble .ql-picker.ql-size .ql-picker-label::before{content:'Normal'}.ql-bubble .ql-picker.ql-size .ql-picker-item[data-value=small]::before,.ql-bubble .ql-picker.ql-size .ql-picker-label[data-value=small]::before{content:'Small'}.ql-bubble .ql-picker.ql-size .ql-picker-item[data-value=large]::before,.ql-bubble .ql-picker.ql-size .ql-picker-label[data-value=large]::before{content:'Large'}.ql-bubble .ql-picker.ql-size .ql-picker-item[data-value=huge]::before,.ql-bubble .ql-picker.ql-size .ql-picker-label[data-value=huge]::before{content:'Huge'}.ql-bubble .ql-picker.ql-size .ql-picker-item[data-value=small]::before{font-size:10px}.ql-bubble .ql-picker.ql-size .ql-picker-item[data-value=large]::before{font-size:18px}.ql-bubble .ql-picker.ql-size .ql-picker-item[data-value=huge]::before{font-size:32px}.ql-bubble .ql-color-picker.ql-background .ql-picker-item{background-color:#fff}.ql-bubble .ql-color-picker.ql-color .ql-picker-item{background-color:#000}.ql-bubble .ql-toolbar .ql-formats{margin:8px 12px 8px 0}.ql-bubble .ql-toolbar .ql-formats:first-child{margin-left:12px}.ql-bubble .ql-color-picker svg{margin:1px}.ql-bubble .ql-color-picker .ql-picker-item.ql-selected,.ql-bubble .ql-color-picker .ql-picker-item:hover{border-color:#fff}.ql-bubble .ql-tooltip{background-color:#444;border-radius:25px;color:#fff}.ql-bubble .ql-tooltip-arrow{border-left:6px solid transparent;border-right:6px solid transparent;content:\" \";display:block;left:50%;margin-left:-6px;position:absolute}.ql-bubble .ql-tooltip:not(.ql-flip) .ql-tooltip-arrow{border-bottom:6px solid #444;top:-6px}.ql-bubble .ql-tooltip.ql-flip .ql-tooltip-arrow{border-top:6px solid #444;bottom:-6px}.ql-bubble .ql-tooltip.ql-editing .ql-tooltip-editor{display:block}.ql-bubble .ql-tooltip.ql-editing .ql-formats{visibility:hidden}.ql-bubble .ql-tooltip-editor{display:none}.ql-bubble .ql-tooltip-editor input[type=text]{background:0 0;border:none;color:#fff;font-size:13px;height:100%;outline:0;padding:10px 20px;position:absolute;width:100%}.ql-bubble .ql-tooltip-editor a{top:10px;position:absolute;right:20px}.ql-bubble .ql-tooltip-editor a:before{color:#ccc;content:\"\\D7\";font-size:16px;font-weight:700}.ql-container.ql-bubble:not(.ql-disabled) a{position:relative;white-space:nowrap}.ql-container.ql-bubble:not(.ql-disabled) a::before{background-color:#444;border-radius:15px;top:-5px;font-size:12px;color:#fff;content:attr(href);font-weight:400;overflow:hidden;padding:5px 15px;text-decoration:none;z-index:1}.ql-container.ql-bubble:not(.ql-disabled) a::after{border-top:6px solid #444;border-left:6px solid transparent;border-right:6px solid transparent;top:0;content:\" \";height:0;width:0}.ql-container.ql-bubble:not(.ql-disabled) a::after,.ql-container.ql-bubble:not(.ql-disabled) a::before{left:0;margin-left:50%;position:absolute;-webkit-transform:translate(-50%,-100%);transform:translate(-50%,-100%);-webkit-transition:visibility .2s;transition:visibility .2s;visibility:hidden}.ql-container.ql-bubble:not(.ql-disabled) a:hover::after,.ql-container.ql-bubble:not(.ql-disabled) a:hover::before{visibility:visible}"]}]}],U.ctorParameters=function(){return[{type:f.ElementRef},{type:l.DomSanitizer},{type:undefined,decorators:[{type:f.Inject,args:[c.DOCUMENT]}]},{type:Object,decorators:[{type:f.Inject,args:[f.PLATFORM_ID]}]},{type:f.Renderer2},{type:f.NgZone},{type:undefined,decorators:[{type:f.Inject,args:[r]}]},{type:o.NotifyService,decorators:[{type:f.Optional}]},{type:i.LocaleService,decorators:[{type:f.Optional}]},{type:f.Injector,decorators:[{type:f.Optional}]}]},U.propDecorators={rootClass:[{type:f.HostBinding,args:["class"]}],readonly:[{type:f.Input},{type:f.HostBinding,args:["class.farris-html-editor-readonly"]}],disabled:[{type:f.Input},{type:f.HostBinding,args:["class.farris-html-editor-disabled"]}],showBorder:[{type:f.Input},{type:f.HostBinding,args:["class.farris-html-editor-border"]}],format:[{type:f.Input}],theme:[{type:f.Input}],modules:[{type:f.Input}],debug:[{type:f.Input}],placeholder:[{type:f.Input}],maxLength:[{type:f.Input}],minLength:[{type:f.Input}],required:[{type:f.Input}],formats:[{type:f.Input}],customToolbarPosition:[{type:f.Input}],sanitize:[{type:f.Input}],styles:[{type:f.Input}],strict:[{type:f.Input}],scrollingContainer:[{type:f.Input}],bounds:[{type:f.Input}],customOptions:[{type:f.Input}],trackChanges:[{type:f.Input}],preserveWhitespace:[{type:f.Input}],limitImageSize:[{type:f.Input}],maxImgSize:[{type:f.Input}],customToolbar:[{type:f.Input}],toolbar:[{type:f.Input}],fontStyleBar:[{type:f.Input}],BlockBar:[{type:f.Input}],headerBar:[{type:f.Input}],sizeBar:[{type:f.Input}],listBar:[{type:f.Input}],fontBar:[{type:f.Input}],superAndSubscriptBar:[{type:f.Input}],indentBar:[{type:f.Input}],colorBar:[{type:f.Input}],mediaBar:[{type:f.Input}],imageBar:[{type:f.Input}],videoBar:[{type:f.Input}],cleanBar:[{type:f.Input}],alignBar:[{type:f.Input}],maxHeight:[{type:f.Input}],minHeight:[{type:f.Input}],autoHeight:[{type:f.Input}],onEditorCreated:[{type:f.Output}],onContentChanged:[{type:f.Output}],onSelectionChanged:[{type:f.Output}],onFocus:[{type:f.Output}],onBlur:[{type:f.Output}],imageUpload:[{type:f.Input}],valueGetter:[{type:f.Input}],valueSetter:[{type:f.Input}]},U);function U(e,l,t,o,i,r,n,a,s,q){var d=this;this.elementRef=e,this.domSanitizer=l,this.doc=t,this.platformId=o,this.renderer=i,this.zone=r,this.config=n,this.notifySer=a,this.localeSer=s,this.injector=q,this._disabled=!1,this.rootClass="farris-html-editor",this.disabled=!1,this.showBorder=!0,this.modules={imageDrop:!0,imageResize:!0,tooltip:!0},this.required=!1,this.customToolbarPosition="top",this.sanitize=!1,this.styles=null,this.strict=!0,this.customOptions=[],this.preserveWhitespace=!1,this.limitImageSize=!1,this.maxImgSize=500,this.customToolbar=!1,this.fontStyleBar=!0,this.BlockBar=!1,this.headerBar=!0,this.sizeBar=!0,this.listBar=!0,this.fontBar=!0,this.superAndSubscriptBar=!0,this.indentBar=!0,this.colorBar=!0,this.mediaBar=!0,this.imageBar=!1,this.videoBar=!1,this.cleanBar=!0,this.alignBar=!0,this.maxHeight=800,this.minHeight=100,this.autoHeight=!0,this.onEditorCreated=new f.EventEmitter,this.onContentChanged=new f.EventEmitter,this.onSelectionChanged=new f.EventEmitter,this.onFocus=new f.EventEmitter,this.onBlur=new f.EventEmitter,this.valueGetter=function(e,l){var t=l.querySelector(".ql-editor").innerHTML;"<p><br></p>"!==t&&"<div><br><div>"!==t||(t=null);var o=t,i=N(d.format,d.config.format);if("text"===i)o=e.getText();else if("object"===i)o=e.getContents();else if("json"===i)try{o=JSON.stringify(e.getContents())}catch(r){o=e.getText()}return o},this.valueSetter=function(e,l){var t=N(d.format,d.config.format);if("html"===t)return d.sanitize&&(l=d.domSanitizer.sanitize(f.SecurityContext.HTML,l)),l=l?(l+"").replace(/\s\s/g,"&nbsp;&nbsp;"):"",e.clipboard.convert(l);if("json"===t)try{return JSON.parse(l)}catch(o){return[{insert:l}]}return l},this.selectionChangeHandler=function(e,l,t){d.zone.run(function(){null===e?d.onBlur.emit({editor:d.quillEditor,source:t}):null===l&&d.onFocus.emit({editor:d.quillEditor,source:t}),d.onSelectionChanged.emit({editor:d.quillEditor,oldRange:l,range:e,source:t}),!e&&d.onModelTouched&&d.onModelTouched()})},this.textChangeHandler=function(l,t,o){var i=d.quillEditor.getText(),r=d.quillEditor.getContents(),n=d.editorElem.querySelector(".ql-editor").innerHTML;"<p><br></p>"!==n&&"<div><br><div>"!==n||(n=null),d.zone.run(function(){var e=d.trackChanges||d.config.trackChanges;(o===u.sources.USER||e&&"all"===e)&&d.onModelChange&&d.onModelChange(d.valueGetter(d.quillEditor,d.editorElem)),d.onContentChanged.emit({content:r,delta:l,editor:d.quillEditor,html:n,oldDelta:t,source:o,text:i})})},this.localeSer&&this.localeSer.setLocaleData(L)}var _={modules:h},Y=(X.forRoot=function(e){return{ngModule:X,providers:[{provide:r,useValue:e||{modules:h}}]}},X.decorators=[{type:f.NgModule,args:[{declarations:[F],imports:[o.NotifyModule.forRoot(),i.LocaleModule.forRoot()],exports:[F],providers:[{provide:r,useValue:_}]}]}],X);function X(){}e.HtmlEditorComponent=F,e.FarrisHtmlEditorModule=Y,e.defaultModules=h,e.toolbarOptions={fontBar:[{font:["Microsoft-YaHei","SimSun","SimHei","KaiTi","FangSong","Arial","sans-serif"]}],headerBar:[{header:[1,2,3,4,5,6,!1]}],sizeBar:[{size:["small",!1,"large","huge"]}],fontStyleBar:["bold","italic","underline","strike","link"],indentBar:[{indent:"-1"},{indent:"+1"}],listBar:[{list:"ordered"},{list:"bullet"}],BlockBar:["code-block","blockquote"],superAndSubscriptBar:[{script:"sub"},{script:"super"}],colorBar:[{color:[]},{background:[]}],mediaBar:["image","video"],alignBar:[{align:[]}],imageBar:["image"],videoBar:["video"],cleanBar:["clean"]},e.ɵb=r,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=farris-ui-html-editor.umd.min.js.map