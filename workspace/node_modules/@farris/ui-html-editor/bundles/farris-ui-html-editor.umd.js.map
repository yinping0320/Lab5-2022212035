{"version":3,"file":"farris-ui-html-editor.umd.js.map","sources":["ng://@farris/ui-html-editor/lib/html-editor-defaults.ts","ng://@farris/ui-html-editor/lib/html-editor.interfaces.ts","ng://@farris/ui-html-editor/lib/image-resize-module/DefaultOptions.ts","node_modules/tslib/tslib.es6.js","ng://@farris/ui-html-editor/lib/image-resize-module/modules/BaseModule.ts","ng://@farris/ui-html-editor/lib/image-resize-module/modules/DisplaySize.ts","ng://@farris/ui-html-editor/lib/image-resize-module/modules/Toolbar.ts","ng://@farris/ui-html-editor/lib/image-resize-module/modules/Resize.ts","ng://@farris/ui-html-editor/lib/image-resize-module/ImageResize.ts","ng://@farris/ui-html-editor/lib/image-drop-module/image-drop.ts","ng://@farris/ui-html-editor/lib/tool-tip-module/tooltip-list.ts","ng://@farris/ui-html-editor/lib/tool-tip-module/utils/scrollInfo.ts","ng://@farris/ui-html-editor/lib/tool-tip-module/index.ts","ng://@farris/ui-html-editor/lib/html-editor.locale.ts","ng://@farris/ui-html-editor/lib/html-editor.component.ts","ng://@farris/ui-html-editor/lib/html-editor.module.ts"],"sourcesContent":["\r\n\r\n\r\nexport const defaultModules = {\r\n    toolbar: [\r\n        // ['bold', 'italic', 'underline', 'strike'], // toggled buttons\r\n        ['bold', 'italic', 'code-block', { header: 1 }, { header: 2 }, { list: 'ordered' }, { list: 'bullet' }, 'image']\r\n        // ['blockquote', 'code-block'],\r\n\r\n        // [{ header: 1 }, { header: 2 }], // custom button values\r\n        // [{ list: 'ordered' }, { list: 'bullet' }],\r\n        // [{ script: 'sub' }, { script: 'super' }], // superscript/subscript\r\n        // [{ indent: '-1' }, { indent: '+1' }], // outdent/indent\r\n        // [{ direction: 'rtl' }], // text direction\r\n\r\n        // [{ size: ['small', false, 'large', 'huge'] }], // custom dropdown\r\n        // [{ header: [1, 2, 3, 4, 5, 6, false] }],\r\n\r\n        // [{ color: [] }, { background: [] }], // dropdown with defaults from theme\r\n        // [\r\n        //     {\r\n        //         font: [\r\n        //             'Microsoft-YaHei',\r\n        //             'SimSun',\r\n        //             'SimHei',\r\n        //             'KaiTi',\r\n        //             'FangSong',\r\n        //             'Arial',\r\n        //             'Times',\r\n        //             'sans-serif'\r\n        //         ]\r\n        //     }\r\n        // ],\r\n        // [{ align: [] }],\r\n\r\n        // ['clean'], // remove formatting button\r\n\r\n        // ['link', 'image', 'video'] // link and image, video,\r\n    ],\r\n    imageDrop: true,\r\n    imageResize: true,\r\n    tooltip: true\r\n};\r\nexport const toolbarOptions = {\r\n    fontBar: [\r\n        {\r\n            font: ['Microsoft-YaHei', 'SimSun', 'SimHei', 'KaiTi', 'FangSong', 'Arial', 'sans-serif']\r\n        }\r\n    ],\r\n    headerBar: [{ header: [1, 2, 3, 4, 5, 6, false] }],\r\n    sizeBar: [{ size: ['small', false, 'large', 'huge'] }],\r\n    fontStyleBar: ['bold', 'italic', 'underline', 'strike', 'link'],\r\n    indentBar: [{ indent: '-1' }, { indent: '+1' }],\r\n    listBar: [{ list: 'ordered' }, { list: 'bullet' }],\r\n    BlockBar: ['code-block', 'blockquote'],\r\n    superAndSubscriptBar: [{ script: 'sub' }, { script: 'super' }],\r\n    colorBar: [{ color: [] }, { background: [] }],\r\n    mediaBar: ['image', 'video'],\r\n    alignBar: [{ align: [] }],\r\n    imageBar: ['image'],\r\n    videoBar: ['video'],\r\n    cleanBar: ['clean']\r\n};\r\n","import { InjectionToken } from '@angular/core';\r\n\r\nexport type QuillToolbarConfig = Array<\r\n    Array<\r\n        | string\r\n        | {\r\n              indent?: string;\r\n              list?: string;\r\n              direction?: string;\r\n              header?: number | Array<boolean | number>;\r\n              color?: string[];\r\n              background?: string[];\r\n              align?: string[];\r\n              script?: string;\r\n              font?: string[];\r\n              size?: Array<boolean | string>;\r\n          }\r\n    >\r\n>;\r\n\r\nexport interface QuillModules {\r\n    [key: string]: any;\r\n    clipboard?:\r\n        | {\r\n              mathers?: any[];\r\n              matchVisual?: boolean;\r\n          }\r\n        | boolean;\r\n    history?:\r\n        | {\r\n              delay?: number;\r\n              maxStack?: number;\r\n              userOnly?: boolean;\r\n          }\r\n        | boolean;\r\n    keyboard?:\r\n        | {\r\n              bindings?: any;\r\n          }\r\n        | boolean;\r\n    syntax?: boolean;\r\n    toolbar?:\r\n        | QuillToolbarConfig\r\n        | string\r\n        | {\r\n              container?: string | string[] | QuillToolbarConfig;\r\n              handlers?: {\r\n                  [key: string]: any;\r\n              };\r\n          }\r\n        | boolean;\r\n}\r\n\r\nexport type QuillFormat = 'object' | 'json' | 'html' | 'text';\r\n\r\nexport interface QuillConfig {\r\n    bounds?: HTMLElement | string;\r\n    debug?: 'error' | 'warn' | 'log' | false;\r\n    format?: QuillFormat;\r\n    formats?: any;\r\n    modules?: QuillModules;\r\n    placeholder?: string;\r\n    readOnly?: boolean;\r\n    scrollingContainer?: HTMLElement | string | null;\r\n    theme?: string;\r\n    // Custom Config to track all changes or only changes by 'user'\r\n    trackChanges?: 'user' | 'all';\r\n}\r\n\r\nexport const QUILL_CONFIG_TOKEN = new InjectionToken<QuillConfig>('config');\r\n","export default {\r\n    modules: ['DisplaySize', 'Toolbar', 'Resize'],\r\n    overlayStyles: {\r\n        position: 'absolute',\r\n        boxSizing: 'border-box',\r\n        border: '1px dashed #444'\r\n    },\r\n    handleStyles: {\r\n        position: 'absolute',\r\n        height: '12px',\r\n        width: '12px',\r\n        backgroundColor: 'white',\r\n        border: '1px solid #777',\r\n        boxSizing: 'border-box',\r\n        opacity: '0.80'\r\n    },\r\n    displayStyles: {\r\n        position: 'absolute',\r\n        font: '12px/1.0 Arial, Helvetica, sans-serif',\r\n        padding: '4px 8px',\r\n        textAlign: 'center',\r\n        backgroundColor: 'white',\r\n        color: '#333',\r\n        border: '1px solid #777',\r\n        boxSizing: 'border-box',\r\n        opacity: '0.80',\r\n        cursor: 'default'\r\n    },\r\n    toolbarStyles: {\r\n        position: 'absolute',\r\n        top: '-12px',\r\n        right: '0',\r\n        left: '0',\r\n        height: '0',\r\n        minWidth: '100px',\r\n        font: '12px/1.0 Arial, Helvetica, sans-serif',\r\n        textAlign: 'center',\r\n        color: '#333',\r\n        boxSizing: 'border-box',\r\n        cursor: 'default'\r\n    },\r\n    toolbarButtonStyles: {\r\n        display: 'inline-block',\r\n        width: '24px',\r\n        height: '24px',\r\n        background: 'white',\r\n        border: '1px solid #999',\r\n        verticalAlign: 'middle'\r\n    },\r\n    toolbarButtonSvgStyles: {\r\n        fill: '#444',\r\n        stroke: '#444',\r\n        strokeWidth: '2'\r\n    }\r\n};\r\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n","export class BaseModule {\r\n    overlay;\r\n    img;\r\n    options;\r\n    requestUpdate;\r\n    constructor(resizer) {\r\n        this.overlay = resizer.overlay;\r\n        this.img = resizer.img;\r\n        this.options = resizer.options;\r\n        this.requestUpdate = resizer.onUpdate;\r\n    }\r\n    /*\r\n        requestUpdate (passed in by the library during construction, above) can be used to let the library know that\r\n        you've changed something about the image that would require re-calculating the overlay (and all of its child\r\n        elements)\r\n\r\n        For example, if you add a margin to the element, you'll want to call this or else all the controls will be\r\n        misaligned on-screen.\r\n     */\r\n\r\n    /*\r\n        onCreate will be called when the element is clicked on\r\n\r\n        If the module has any user controls, it should create any containers that it'll need here.\r\n        The overlay has absolute positioning, and will be automatically repositioned and resized as needed, so you can\r\n        use your own absolute positioning and the 'top', 'right', etc. styles to be positioned relative to the element\r\n        on-screen.\r\n     */\r\n    onCreate = () => {};\r\n\r\n    /*\r\n        onDestroy will be called when the element is de-selected, or when this module otherwise needs to tidy up.\r\n\r\n        If you created any DOM elements in onCreate, please remove them from the DOM and destroy them here.\r\n     */\r\n    onDestroy = () => {};\r\n\r\n    /*\r\n        onUpdate will be called any time that the element is changed (e.g. resized, aligned, etc.)\r\n\r\n        This frequently happens during resize dragging, so keep computations light while here to ensure a smooth\r\n        user experience.\r\n     */\r\n    onUpdate = () => {};\r\n}\r\n","import { BaseModule } from './BaseModule';\r\n\r\nexport class DisplaySize extends BaseModule {\r\n    display;\r\n    onCreate = () => {\r\n        // Create the container to hold the size display\r\n        this.display = document.createElement('div');\r\n\r\n        // Apply styles\r\n        Object.assign(this.display.style, this.options.displayStyles);\r\n\r\n        // Attach it\r\n        this.overlay.appendChild(this.display);\r\n    };\r\n\r\n    onDestroy = () => {};\r\n\r\n    onUpdate = () => {\r\n        if (!this.display || !this.img) {\r\n            return;\r\n        }\r\n\r\n        const size = this.getCurrentSize();\r\n        this.display.innerHTML = size.join(' &times; ');\r\n        if (size[0] > 120 && size[1] > 30) {\r\n            // position on top of image\r\n            Object.assign(this.display.style, {\r\n                right: '4px',\r\n                bottom: '4px',\r\n                left: 'auto'\r\n            });\r\n        } else if (this.img.style.float == 'right') {\r\n            // position off bottom left\r\n            const dispRect = this.display.getBoundingClientRect();\r\n            Object.assign(this.display.style, {\r\n                right: 'auto',\r\n                bottom: `-${dispRect.height + 4}px`,\r\n                left: `-${dispRect.width + 4}px`\r\n            });\r\n        } else {\r\n            // position off bottom right\r\n            const dispRect = this.display.getBoundingClientRect();\r\n            Object.assign(this.display.style, {\r\n                right: `-${dispRect.width + 4}px`,\r\n                bottom: `-${dispRect.height + 4}px`,\r\n                left: 'auto'\r\n            });\r\n        }\r\n    };\r\n\r\n    getCurrentSize = () => [\r\n        this.img.width,\r\n        Math.round(\r\n            (this.img.width / this.img.naturalWidth) * this.img.naturalHeight\r\n        )\r\n    ];\r\n}\r\n","import { BaseModule } from './BaseModule';\r\nimport Quill from 'quill';\r\nconst Parchment = Quill.imports.parchment;\r\nconst FloatStyle = new Parchment.Attributor.Style('float', 'float');\r\nconst MarginStyle = new Parchment.Attributor.Style('margin', 'margin');\r\nconst DisplayStyle = new Parchment.Attributor.Style('display', 'display');\r\n\r\nexport class Toolbar extends BaseModule {\r\n    toolbar;\r\n    alignments;\r\n    onCreate = () => {\r\n        // Setup Toolbar\r\n        this.toolbar = document.createElement('div');\r\n        Object.assign(this.toolbar.style, this.options.toolbarStyles);\r\n        this.overlay.appendChild(this.toolbar);\r\n\r\n        // Setup Buttons\r\n        this._defineAlignments();\r\n        this._addToolbarButtons();\r\n    };\r\n\r\n    // The toolbar and its children will be destroyed when the overlay is removed\r\n    onDestroy = () => {};\r\n\r\n    // Nothing to update on drag because we are are positioned relative to the overlay\r\n    onUpdate = () => {};\r\n\r\n    _defineAlignments = () => {\r\n        this.alignments = [\r\n            {\r\n                icon: `<svg viewbox=\"0 0 18 18\">\r\n                <line class=\"ql-stroke\" x1=\"3\" x2=\"15\" y1=\"9\" y2=\"9\"></line>\r\n                <line class=\"ql-stroke\" x1=\"3\" x2=\"13\" y1=\"14\" y2=\"14\"></line>\r\n                <line class=\"ql-stroke\" x1=\"3\" x2=\"9\" y1=\"4\" y2=\"4\"></line>\r\n              </svg>`,\r\n                apply: () => {\r\n                    DisplayStyle.add(this.img, 'inline');\r\n                    FloatStyle.add(this.img, 'left');\r\n                    MarginStyle.add(this.img, '0 1em 1em 0');\r\n                },\r\n                isApplied: () => FloatStyle.value(this.img) == 'left'\r\n            },\r\n            {\r\n                icon: `<svg viewbox=\"0 0 18 18\">\r\n                <line class=\"ql-stroke\" x1=\"15\" x2=\"3\" y1=\"9\" y2=\"9\"></line>\r\n                <line class=\"ql-stroke\" x1=\"14\" x2=\"4\" y1=\"14\" y2=\"14\"></line>\r\n                <line class=\"ql-stroke\" x1=\"12\" x2=\"6\" y1=\"4\" y2=\"4\"></line>\r\n              </svg>`,\r\n                apply: () => {\r\n                    DisplayStyle.add(this.img, 'block');\r\n                    FloatStyle.remove(this.img);\r\n                    MarginStyle.add(this.img, 'auto');\r\n                },\r\n                isApplied: () => MarginStyle.value(this.img) == 'auto'\r\n            },\r\n            {\r\n                icon: `<svg viewbox=\"0 0 18 18\">\r\n                <line class=\"ql-stroke\" x1=\"15\" x2=\"3\" y1=\"9\" y2=\"9\"></line>\r\n                <line class=\"ql-stroke\" x1=\"15\" x2=\"5\" y1=\"14\" y2=\"14\"></line>\r\n                <line class=\"ql-stroke\" x1=\"15\" x2=\"9\" y1=\"4\" y2=\"4\"></line>\r\n              </svg>`,\r\n                apply: () => {\r\n                    DisplayStyle.add(this.img, 'inline');\r\n                    FloatStyle.add(this.img, 'right');\r\n                    MarginStyle.add(this.img, '0 0 1em 1em');\r\n                },\r\n                isApplied: () => FloatStyle.value(this.img) == 'right'\r\n            }\r\n        ];\r\n    };\r\n\r\n    _addToolbarButtons = () => {\r\n        const buttons = [];\r\n        this.alignments.forEach((alignment, idx) => {\r\n            const button = document.createElement('span');\r\n            buttons.push(button);\r\n            button.innerHTML = alignment.icon;\r\n            button.addEventListener('click', () => {\r\n                // deselect all buttons\r\n                buttons.forEach(button => (button.style.filter = ''));\r\n                if (alignment.isApplied()) {\r\n                    // If applied, unapply\r\n                    FloatStyle.remove(this.img);\r\n                    MarginStyle.remove(this.img);\r\n                    DisplayStyle.remove(this.img);\r\n                } else {\r\n                    // otherwise, select button and apply\r\n                    this._selectButton(button);\r\n                    alignment.apply();\r\n                }\r\n                // image may change position; redraw drag handles\r\n                this.requestUpdate();\r\n            });\r\n            Object.assign(button.style, this.options.toolbarButtonStyles);\r\n            if (idx > 0) {\r\n                button.style.borderLeftWidth = '0';\r\n            }\r\n            Object.assign(\r\n                // tslint:disable-next-line:object-literal-key-quotes\r\n                button.children[0]['style'],\r\n                this.options.toolbarButtonSvgStyles\r\n            );\r\n            if (alignment.isApplied()) {\r\n                // select button if previously applied\r\n                this._selectButton(button);\r\n            }\r\n            this.toolbar.appendChild(button);\r\n        });\r\n    };\r\n\r\n    _selectButton = button => {\r\n        button.style.filter = 'invert(20%)';\r\n    };\r\n}\r\n","import { BaseModule } from './BaseModule';\r\n\r\nexport class Resize extends BaseModule {\r\n    boxes;\r\n    dragBox;\r\n    dragStartX;\r\n    preDragWidth;\r\n    onCreate = () => {\r\n        // track resize handles\r\n        this.boxes = [];\r\n\r\n        // add 4 resize handles\r\n        this.addBox('nwse-resize'); // top left\r\n        this.addBox('nesw-resize'); // top right\r\n        this.addBox('nwse-resize'); // bottom right\r\n        this.addBox('nesw-resize'); // bottom left\r\n\r\n        this.positionBoxes();\r\n    };\r\n\r\n    onDestroy = () => {\r\n        // reset drag handle cursors\r\n        this.setCursor('');\r\n    };\r\n\r\n    positionBoxes = () => {\r\n        const handleXOffset = `${-parseFloat(this.options.handleStyles.width) /\r\n            2}px`;\r\n        const handleYOffset = `${-parseFloat(this.options.handleStyles.height) /\r\n                2}px`;\r\n\r\n            // set the top and left for each drag handle\r\n        [\r\n            { left: handleXOffset, top: handleYOffset }, // top left\r\n            { right: handleXOffset, top: handleYOffset }, // top right\r\n            { right: handleXOffset, bottom: handleYOffset }, // bottom right\r\n            { left: handleXOffset, bottom: handleYOffset } // bottom left\r\n        ].forEach((pos, idx) => {\r\n            Object.assign(this.boxes[idx].style, pos);\r\n        });\r\n    };\r\n\r\n    addBox = cursor => {\r\n        // create div element for resize handle\r\n        const box = document.createElement('div');\r\n\r\n        // Star with the specified styles\r\n        Object.assign(box.style, this.options.handleStyles);\r\n        box.style.cursor = cursor;\r\n\r\n        // Set the width/height to use 'px'\r\n        box.style.width = `${this.options.handleStyles.width}px`;\r\n        box.style.height = `${this.options.handleStyles.height}px`;\r\n\r\n        // listen for mousedown on each box\r\n        box.addEventListener('mousedown', this.handleMousedown, false);\r\n        // add drag handle to document\r\n        this.overlay.appendChild(box);\r\n        // keep track of drag handle\r\n        this.boxes.push(box);\r\n    };\r\n\r\n    handleMousedown = evt => {\r\n        // note which box\r\n        this.dragBox = evt.target;\r\n        // note starting mousedown position\r\n        this.dragStartX = evt.clientX;\r\n        // store the width before the drag\r\n        this.preDragWidth = this.img.width || this.img.naturalWidth;\r\n        // set the proper cursor everywhere\r\n        this.setCursor(this.dragBox.style.cursor);\r\n        // listen for movement and mouseup\r\n        document.addEventListener('mousemove', this.handleDrag, false);\r\n        document.addEventListener('mouseup', this.handleMouseup, false);\r\n    };\r\n\r\n    handleMouseup = () => {\r\n        // reset cursor everywhere\r\n        this.setCursor('');\r\n        // stop listening for movement and mouseup\r\n        document.removeEventListener('mousemove', this.handleDrag);\r\n        document.removeEventListener('mouseup', this.handleMouseup);\r\n    };\r\n\r\n    handleDrag = evt => {\r\n        if (!this.img) {\r\n            // image not set yet\r\n            return;\r\n        }\r\n        // update image size\r\n        const deltaX = evt.clientX - this.dragStartX;\r\n        if (this.dragBox === this.boxes[0] || this.dragBox === this.boxes[3]) {\r\n            // left-side resize handler; dragging right shrinks image\r\n            this.img.width = Math.round(this.preDragWidth - deltaX);\r\n        } else {\r\n            // right-side resize handler; dragging right enlarges image\r\n            this.img.width = Math.round(this.preDragWidth + deltaX);\r\n        }\r\n        this.requestUpdate();\r\n    };\r\n\r\n    setCursor = value => {\r\n        [document.body, this.img].forEach(el => {\r\n            el.style.cursor = value; // eslint-disable-line no-param-reassign\r\n        });\r\n    };\r\n}\r\n","\r\nimport DefaultOptions from './DefaultOptions';\r\nimport { DisplaySize } from './modules/DisplaySize';\r\nimport { Toolbar } from './modules/Toolbar';\r\nimport { Resize } from './modules/Resize';\r\nimport Quill from 'quill';\r\nconst knownModules = { DisplaySize, Toolbar, Resize };\r\n\r\n/**\r\n * Custom module for quilljs to allow user to resize <img> elements\r\n * (Works on Chrome, Edge, Safari and replaces Firefox's native resize behavior)\r\n * @see https://quilljs.com/blog/building-a-custom-module/\r\n */\r\nexport class ImageResize {\r\n    quill: any;\r\n    options: any;\r\n    moduleClasses: any;\r\n    modules: any;\r\n    img: any;\r\n    overlay: any;\r\n    constructor(quill, options = {}) {\r\n        // save the quill reference and options\r\n        this.quill = quill;\r\n        // Apply the options to our defaults, and stash them for later\r\n        // defaultsDeep doesn't do arrays as you'd expect, so we'll need to apply the classes array from options separately\r\n        let moduleClasses = false;\r\n        // tslint:disable-next-line:object-literal-key-quotes\r\n        if (options['modules']) {\r\n            moduleClasses = options['modules'].slice();\r\n        }\r\n\r\n        // Apply options to default options\r\n        //this.options = defaultsDeep({}, options, DefaultOptions);\r\n        this.options =Object.assign({}, options, DefaultOptions);\r\n\r\n        // (see above about moduleClasses)\r\n        if (moduleClasses !== false) {\r\n            this.options.modules = moduleClasses;\r\n        }\r\n\r\n        // disable native image resizing on firefox\r\n        document.execCommand('enableObjectResizing', false, 'false');\r\n\r\n        // respond to clicks inside the editor\r\n        this.quill.root.addEventListener('click', this.handleClick, false);\r\n\r\n        this.quill.root.parentNode.style.position =\r\n            this.quill.root.parentNode.style.position || 'relative';\r\n\r\n        // setup modules\r\n        this.moduleClasses = this.options.modules;\r\n        //console.log('this.options.modules', this.options.modules)\r\n\r\n        this.modules = [];\r\n    }\r\n\r\n    initializeModules = () => {\r\n        this.removeModules();\r\n\r\n        this.modules = this.moduleClasses.map(\r\n            ModuleClass => new (knownModules[ModuleClass] || ModuleClass)(this)\r\n        );\r\n\r\n        this.modules.forEach(module => {\r\n            module.onCreate();\r\n        });\r\n\r\n        this.onUpdate();\r\n    };\r\n\r\n    onUpdate = () => {\r\n        this.repositionElements();\r\n        this.modules.forEach(module => {\r\n            module.onUpdate();\r\n        });\r\n    };\r\n\r\n    removeModules = () => {\r\n        this.modules.forEach(module => {\r\n            module.onDestroy();\r\n        });\r\n\r\n        this.modules = [];\r\n    };\r\n\r\n    handleClick = evt => {\r\n        if (\r\n            evt.target &&\r\n            evt.target.tagName &&\r\n            evt.target.tagName.toUpperCase() === 'IMG'\r\n        ) {\r\n            if (this.img === evt.target) {\r\n                // we are already focused on this image\r\n                return;\r\n            }\r\n            if (this.img) {\r\n                // we were just focused on another image\r\n                this.hide();\r\n            }\r\n            // clicked on an image inside the editor\r\n            this.show(evt.target);\r\n        } else if (this.img) {\r\n            // clicked on a non image\r\n            this.hide();\r\n        }\r\n    };\r\n    show = img => {\r\n        if (!this.quill.isEnabled()) {\r\n            return;\r\n        }\r\n\r\n        // keep track of this img element\r\n        this.img = img;\r\n\r\n        this.showOverlay();\r\n\r\n        this.initializeModules();\r\n    };\r\n\r\n    showOverlay = () => {\r\n        if (this.overlay) {\r\n            this.hideOverlay();\r\n        }\r\n\r\n        this.quill.setSelection(null);\r\n\r\n        // prevent spurious text selection\r\n        this.setUserSelect('none');\r\n\r\n        // listen for the image being deleted or moved\r\n        document.addEventListener('keyup', this.checkImage, true);\r\n        this.quill.root.addEventListener('input', this.checkImage, true);\r\n\r\n        // Create and add the overlay\r\n        this.overlay = document.createElement('div');\r\n        Object.assign(this.overlay.style, this.options.overlayStyles);\r\n\r\n        this.quill.root.parentNode.appendChild(this.overlay);\r\n\r\n        this.repositionElements();\r\n    };\r\n\r\n    hideOverlay = () => {\r\n        if (!this.overlay) {\r\n            return;\r\n        }\r\n\r\n        // Remove the overlay\r\n        this.quill.root.parentNode.removeChild(this.overlay);\r\n        this.overlay = undefined;\r\n\r\n        // stop listening for image deletion or movement\r\n        document.removeEventListener('keyup', this.checkImage);\r\n        this.quill.root.removeEventListener('input', this.checkImage);\r\n\r\n        // reset user-select\r\n        this.setUserSelect('');\r\n    };\r\n\r\n    repositionElements = () => {\r\n        if (!this.overlay || !this.img) {\r\n            return;\r\n        }\r\n\r\n        // position the overlay over the image\r\n        const parent = this.quill.root.parentNode;\r\n        const imgRect = this.img.getBoundingClientRect();\r\n        const containerRect = parent.getBoundingClientRect();\r\n\r\n        Object.assign(this.overlay.style, {\r\n            left: `${imgRect.left -\r\n                containerRect.left +\r\n                parent.scrollLeft -\r\n                2}px`,\r\n            top: `${imgRect.top - containerRect.top + parent.scrollTop - 2}px`,\r\n            width: `${imgRect.width + 2}px`,\r\n            height: `${imgRect.height + 2}px`\r\n        });\r\n    };\r\n\r\n    hide = () => {\r\n        this.hideOverlay();\r\n        this.removeModules();\r\n        this.img = undefined;\r\n    };\r\n\r\n    setUserSelect = value => {\r\n        [\r\n            'userSelect',\r\n            'mozUserSelect',\r\n            'webkitUserSelect',\r\n            'msUserSelect'\r\n        ].forEach(prop => {\r\n            // set on contenteditable element and <html>\r\n            this.quill.root.style[prop] = value;\r\n            document.documentElement.style[prop] = value;\r\n        });\r\n    };\r\n\r\n    checkImage = evt => {\r\n        if (this.img) {\r\n            if (evt.keyCode == 46 || evt.keyCode == 8) {\r\n                Quill.find(this.img).deleteAt(0);\r\n            }\r\n            this.hide();\r\n        }\r\n    };\r\n}\r\n//console.log(ImageResize)\r\n// if (Quill) {\r\n//     Quill.register('modules/imageResize', ImageResize)\r\n// }\r\n","import { NgZone } from \"@angular/core\";\r\nexport class ImageDrop {\r\n    quill: any;\r\n    constructor(quill, options = {}, private ngZone: NgZone) {\r\n        // save the quill reference\r\n        this.quill = quill;\r\n        // bind handlers to this instance\r\n        this.handleDrop = this.handleDrop.bind(this);\r\n        this.handlePaste = this.handlePaste.bind(this);\r\n        // listen for drop and paste events\r\n        this.quill.root.addEventListener('drop', this.handleDrop, false);\r\n        this.quill.root.addEventListener('paste', this.handlePaste, false);\r\n    }\r\n\r\n    handleDrop(evt) {\r\n        evt.preventDefault();\r\n        if (\r\n            evt.dataTransfer &&\r\n            evt.dataTransfer.files &&\r\n            evt.dataTransfer.files.length\r\n        ) {\r\n            if (document.caretRangeFromPoint) {\r\n                const selection = document.getSelection();\r\n                const range = document.caretRangeFromPoint(\r\n                    evt.clientX,\r\n                    evt.clientY\r\n                );\r\n                if (selection && range) {\r\n                    selection.setBaseAndExtent(\r\n                        range.startContainer,\r\n                        range.startOffset,\r\n                        range.startContainer,\r\n                        range.startOffset\r\n                    );\r\n                }\r\n            }\r\n            this.readFiles(evt.dataTransfer.files, this.insert.bind(this));\r\n        }\r\n    }\r\n\r\n    handlePaste(evt) {\r\n\r\n        if (evt) {\r\n            evt.preventDefault();\r\n        }\r\n\r\n        if (\r\n            evt.clipboardData &&\r\n            evt.clipboardData.items &&\r\n            evt.clipboardData.items.length\r\n        ) {\r\n            this.readFiles(evt.clipboardData.items, dataUrl => {\r\n                // const selection = this.quill.getSelection();\r\n                // if (selection && selection.length) {\r\n                //     // we must be in a browser that supports pasting (like Firefox)\r\n                //     // so it has already been placed into the editor\r\n                // } else {\r\n                //     // otherwise we wait until after the paste when this.quill.getSelection()\r\n                //     // will return a valid index\r\n\r\n                //     let _ngZone = this.ngZone;\r\n                //     if (!_ngZone && this.quill && this.quill.options) {\r\n                //         _ngZone = this.quill.options.ngZone;\r\n                //     }\r\n\r\n                //     if (_ngZone) {\r\n                //         _ngZone.runOutsideAngular(() => {\r\n                //             setTimeout(() => this.insert(dataUrl), 0);\r\n                //         });\r\n                //     }\r\n                // }\r\n\r\n                let _ngZone = this.ngZone;\r\n                if (!_ngZone && this.quill && this.quill.options) {\r\n                    _ngZone = this.quill.options.ngZone;\r\n                }\r\n\r\n                if (_ngZone) {\r\n                    _ngZone.runOutsideAngular(() => {\r\n                        setTimeout(() => {\r\n                            const img = this.quill.container.querySelector('img[src=\"'+dataUrl+'\"]');\r\n                            if (!img) {\r\n                                this.insert(dataUrl);\r\n                            }\r\n                        }, 0);\r\n                    });\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    insert(dataUrl) {\r\n        const index = (this.quill.getSelection() || {}).index || this.quill.getLength();\r\n        this.quill.insertEmbed(index, 'image', dataUrl, 'user');\r\n    }\r\n\r\n    readFiles(files, callback) {\r\n        // check each file for an image\r\n        let imgs = [];\r\n        const {limitImageSize, maxImgSize} = this.quill.options;\r\n  \r\n        var uploadImgs = Array.from(files).filter((n: any) => {\r\n            const blob = n.getAsFile && n.getAsFile() || n;\r\n            if (!blob.type.match(/^image\\/(gif|jpe?g|a?png|svg|webp|bmp|vnd\\.microsoft\\.icon)/i)) {\r\n                // file is not an image\r\n                // Note that some file formats such as psd start with image/* but are not readable\r\n                return false;\r\n            } else {\r\n                if (!limitImageSize) {\r\n                    return true;\r\n                } else {\r\n                    if ( maxImgSize && blob.size > maxImgSize * 1024) {\r\n                        imgs.push(blob);\r\n                        return false;\r\n                    }\r\n                    return true;\r\n                }\r\n            }\r\n        });\r\n\r\n\r\n        uploadImgs.forEach((file: any) => {\r\n            const reader = new FileReader();\r\n            reader.onload = (evt: any) => {\r\n                callback(evt.target.result);\r\n            };\r\n            const blob = file.getAsFile && file.getAsFile() || file;\r\n\r\n            if (blob instanceof Blob) {\r\n                reader.readAsDataURL(blob);\r\n            }\r\n        })\r\n\r\n        // [].forEach.call(files, file => {\r\n        //     // read the clipboard item or file\r\n        //     const blob = file.getAsFile && file.getAsFile() || file;\r\n\r\n        //     if (!blob.type.match(/^image\\/(gif|jpe?g|a?png|svg|webp|bmp|vnd\\.microsoft\\.icon)/i)) {\r\n        //         // file is not an image\r\n        //         // Note that some file formats such as psd start with image/* but are not readable\r\n        //         return;\r\n        //     }\r\n\r\n        //     if (limitImageSize && maxImgSize && blob.size > maxImgSize * 1024) {\r\n        //         imgs.push(blob);\r\n        //         return;\r\n        //     } else {\r\n        //         // set up file reader\r\n        //         const reader = new FileReader();\r\n        //         reader.onload = (evt: any) => {\r\n        //             callback(evt.target.result);\r\n        //         };\r\n            \r\n        //         if (blob instanceof Blob) {\r\n        //             reader.readAsDataURL(blob);\r\n        //         }\r\n        //     }\r\n\r\n        // });\r\n\r\n        if (imgs && imgs.length) {\r\n            this.quill.options.showMaxImageMessage(imgs);\r\n        }\r\n    }\r\n}\r\n","export const tooltips = {\r\n    \"en\": {\r\n        align: {\r\n            '': 'Align',\r\n            center: 'Alinear al centro',\r\n            right: 'Alinear a la derecha',\r\n            justify: 'Justificar'\r\n        },\r\n        background: 'Background color',\r\n        blockquote: 'Bloque de cita',\r\n        bold: 'Bold',\r\n        clean: 'Limpiar formato',\r\n        code: 'Code',\r\n        'code-block': 'Code block',\r\n        color: 'Font Color',\r\n        direction: 'Direction',\r\n        float: {\r\n            center: 'Center',\r\n            full: 'å¨æµ®å¨',\r\n            left: 'å·¦æµ®å¨',\r\n            right: 'å³æµ®å¨'\r\n        },\r\n        formula: 'Formula',\r\n        header: {\r\n            '': 'Encabezados',\r\n            '1': 'Encabezados 1',\r\n            '2': 'Encabezados 2'\r\n        },\r\n        italic: 'Italic',\r\n        image: 'Image',\r\n        indent: {\r\n            '+1': 'Increase indent',\r\n            '-1': 'Decrease indent'\r\n        },\r\n        link: 'Enlace',\r\n        list: {\r\n            ordered: 'Numbered list',\r\n            bullet: 'Bullet list',\r\n            check: 'éæ©åè¡¨'\r\n        },\r\n        script: {\r\n            sub: 'Subscript',\r\n            super: 'Superscript'\r\n        },\r\n        strike: 'Strike',\r\n        underline: 'Underline',\r\n        video: 'Video',\r\n        undo: 'Undo',\r\n        redo: 'Redo',\r\n        size: 'Font Size',\r\n        font: 'Font Family',\r\n        divider: 'Divider',\r\n        formatBrush: 'Format Brush',\r\n        emoji: 'Emoji'\r\n    },\r\n    \"zh-CHS\": {\r\n        align: {\r\n            '': 'å¯¹é½',\r\n            center: 'å±ä¸­å¯¹é½',\r\n            right: 'å³å¯¹é½',\r\n            justify: 'ä¸¤ç«¯å¯¹é½'\r\n        },\r\n        background: 'èæ¯è²',\r\n        blockquote: 'å¼ç¨',\r\n        bold: 'å ç²',\r\n        clean: 'æ¸é¤æ ¼å¼',\r\n        code: 'ä»£ç ',\r\n        'code-block': 'ä»£ç æ®µ',\r\n        color: 'é¢è²',\r\n        direction: 'æ¹å',\r\n        float: {\r\n            center: 'å±ä¸­',\r\n            full: 'å¨æµ®å¨',\r\n            left: 'å·¦æµ®å¨',\r\n            right: 'å³æµ®å¨'\r\n        },\r\n        formula: 'å¬å¼',\r\n        header: {\r\n            '': 'æ é¢',\r\n            '1': 'æ é¢1',\r\n            '2': 'æ é¢2'\r\n        },\r\n        italic: 'æä½',\r\n        image: 'å¾ç',\r\n        indent: {\r\n            '+1': 'ç¼©è¿',\r\n            '-1': 'åæ¶ç¼©è¿'\r\n        },\r\n        link: 'é¾æ¥',\r\n        list: {\r\n            ordered: 'æåºåè¡¨',\r\n            bullet: 'æ åºåè¡¨',\r\n            check: 'éæ©åè¡¨'\r\n        },\r\n        script: {\r\n            sub: 'ä¸æ ',\r\n            super: 'ä¸æ '\r\n        },\r\n        strike: 'å é¤çº¿',\r\n        underline: 'ä¸åçº¿',\r\n        video: 'è§é¢',\r\n        undo: 'æ¤é',\r\n        redo: 'éå',\r\n        size: 'å­å·',\r\n        font: 'å­ä½',\r\n        divider: 'åå²çº¿',\r\n        formatBrush: 'æ ¼å¼å·',\r\n        emoji: 'è¡¨æ'\r\n    },\r\n    \"zh-CHT\": {\r\n        align: {\r\n            '': 'å°é½',\r\n            center: 'å±ä¸­å°é½',\r\n            right: 'å³å°é½',\r\n            justify: 'å©ç«¯å°é½'\r\n        },\r\n        background: 'èæ¯è²',\r\n        blockquote: 'å¼ç¨',\r\n        bold: 'å ç²',\r\n        clean: 'æ¸é¤æ ¼å¼',\r\n        code: 'ä»£ç¢¼',\r\n        'code-block': 'ä»£ç¢¼æ®µ',\r\n        color: 'é¡è²',\r\n        direction: 'æ¹å',\r\n        float: {\r\n            center: 'å±ä¸­',\r\n            full: 'å¨æµ®å',\r\n            left: 'å·¦æµ®å',\r\n            right: 'å³æµ®å'\r\n        },\r\n        formula: 'å¬å¼',\r\n        header: {\r\n            '': 'æ¨é¡',\r\n            '1': 'æ¨é¡1',\r\n            '2': 'æ¨é¡2'\r\n        },\r\n        italic: 'æé«',\r\n        image: 'åç',\r\n        indent: {\r\n            '+1': 'ç¸®é²',\r\n            '-1': 'åæ¶ç¸®é²'\r\n        },\r\n        link: 'éæ¥',\r\n        list: {\r\n            ordered: 'æåºåè¡¨',\r\n            bullet: 'ç¡åºåè¡¨',\r\n            check: 'é¸æåè¡¨'\r\n        },\r\n        script: {\r\n            sub: 'ä¸æ¨',\r\n            super: 'ä¸æ¨'\r\n        },\r\n        strike: 'åªé¤ç·',\r\n        underline: 'ä¸åç·',\r\n        video: 'è¦é »',\r\n        undo: 'æ¤é·',\r\n        redo: 'éå',\r\n        size: 'å­è',\r\n        font: 'å­é«',\r\n        divider: 'åå²ç·',\r\n        formatBrush: 'æ ¼å¼å·',\r\n        emoji: 'è¡¨æ'\r\n    }\r\n};\r\n","export const getScrollParent = function(element) {\r\n    var parent = element.parentNode;\r\n    if (!parent) {\r\n        return element;\r\n    }\r\n    if (parent === document) {\r\n        if (document.body.scrollTop !== undefined) {\r\n            return document.body;\r\n        } else {\r\n            return document.documentElement;\r\n        }\r\n    }\r\n    if (\r\n        ['scroll', 'auto'].indexOf(\r\n            getStyleComputedProperty(parent, 'overflow')\r\n        ) !== -1 ||\r\n        ['scroll', 'auto'].indexOf(\r\n            getStyleComputedProperty(parent, 'overflow-x')\r\n        ) !== -1 ||\r\n        ['scroll', 'auto'].indexOf(\r\n            getStyleComputedProperty(parent, 'overflow-y')\r\n        ) !== -1\r\n    ) {\r\n        return parent;\r\n    }\r\n    return getScrollParent(element.parentNode);\r\n};\r\nexport const getStyleComputedProperty = function(element, property) {\r\n    var css = window.getComputedStyle(element, null);\r\n    return css[property];\r\n};\r\n","import { NgZone } from '@angular/core';\r\nimport { tooltips } from './tooltip-list';\r\nimport { getScrollParent } from './utils/scrollInfo';\r\nconst tooltipStyles = {\r\n    minWidth: '70px',\r\n    position: 'absolute',\r\n    padding: '4px 8px',\r\n    textAlign: 'center',\r\n    backgroundColor: 'rgba(0,0,0,0.7)',\r\n    color: '#fff',\r\n    cursor: 'default',\r\n    borderRadius: '4px',\r\n    fontSize: '12px',\r\n    top: '-9999px',\r\n    visibility: 'hidden',\r\n    'z-index': '9999'\r\n};\r\nexport class Tooltip {\r\n    quill: any;\r\n    toolbar: any;\r\n    buttons: any;\r\n    tip: any;\r\n    selectors: any;\r\n    mouseenterHandler: any;\r\n    mouseleaveHandler: any;\r\n    timeout: any;\r\n    scrollElm: any;\r\n    constructor(quill, private ngZone: NgZone) {\r\n        this.quill = quill;\r\n        this.toolbar = quill.getModule('toolbar');\r\n        this.buttons = null;\r\n        this.selectors = null;\r\n        this.tip = null;\r\n        this.timeout = null;\r\n        this.mouseenterHandler = null;\r\n        this.mouseleaveHandler = null;\r\n        const toolbarElement = this.toolbar.container;\r\n        if (toolbarElement) {\r\n            // æ·»å å¤çäºä»¶\r\n            this.buttons = toolbarElement.querySelectorAll('button');\r\n            this.selectors = toolbarElement.querySelectorAll('.ql-picker');\r\n            for (let el of this.buttons) {\r\n                this.addHandler(el);\r\n            }\r\n            for (let el of this.selectors) {\r\n                this.addHandler(el);\r\n            }\r\n            // åå»ºtooltip\r\n            this.createTooltip();\r\n            // æ»å¨åç´ å¢å handler\r\n            this.scrollElm = getScrollParent(toolbarElement);\r\n            this.scrollElm.addEventListener('scroll', this.mouseleaveHandler);\r\n        }\r\n    }\r\n\r\n    createTooltip() {\r\n        this.tip = document.createElement('div');\r\n        this.tip.classList.add('quill-tooltip');\r\n        Object.assign(this.tip.style, tooltipStyles);\r\n        document.body.appendChild(this.tip);\r\n    }\r\n\r\n    addHandler(el) {\r\n        this.mouseenterHandler = () => {\r\n            // this.ngZone.runOutsideAngular(() => {\r\n            //     this.timeout = setTimeout(() => {\r\n            //         this.showTooltip(el);\r\n            //     }, 100);\r\n            // });\r\n            this.timeout = setTimeout(() => {\r\n                this.showTooltip(el);\r\n            }, 100);\r\n        };\r\n        this.mouseleaveHandler = () => {\r\n            if (this.timeout) {\r\n                // this.ngZone.runOutsideAngular(() => {\r\n                //     clearTimeout(this.timeout);\r\n                // });\r\n                clearTimeout(this.timeout);\r\n            }\r\n            this.hideTooltip();\r\n        };\r\n        // if (this.ngZone && this.ngZone.runOutsideAngular) {\r\n        //     this.ngZone.runOutsideAngular(() => {\r\n        //         el.addEventListener('mouseenter', this.mouseenterHandler);\r\n        //         el.addEventListener('mouseleave', this.mouseleaveHandler);\r\n        //     });\r\n        // }\r\n        el.addEventListener('mouseenter', this.mouseenterHandler);\r\n        el.addEventListener('mouseleave', this.mouseleaveHandler);\r\n    }\r\n\r\n    showTooltip(el) {\r\n        // let format = el.className.replace('ql-', '')\r\n\r\n        const LOCALE_ID = this.quill.options.localeId || 'zh-CHS';\r\n\r\n        const format = [].find\r\n            .call(el.classList, className => {\r\n                return className.indexOf('ql-') === 0;\r\n            })\r\n            .replace('ql-', '');\r\n        const tool = tooltips[LOCALE_ID][format];\r\n        if (tool) {\r\n            if (typeof tool === 'string') {\r\n                this.tip.textContent = tool;\r\n            } else {\r\n                const value = el.value || '';\r\n                if (value != null && tool[value]) {\r\n                    this.tip.textContent = tool[value];\r\n                }\r\n            }\r\n            const elRect = el.getBoundingClientRect();\r\n            const tipRect = this.tip.getBoundingClientRect();\r\n            const body = document.documentElement || document.body;\r\n            const bodyRect = {\r\n                width: body.scrollWidth,\r\n                height: body.scrollHeight,\r\n                scrollTop: body.scrollTop,\r\n                scrollLeft: body.scrollLeft\r\n            };\r\n            const offset = 3;\r\n            Object.assign(this.tip.style, {\r\n                top: elRect.top - elRect.height - offset + bodyRect.scrollTop + 'px',\r\n                left: elRect.left - (tipRect.width - elRect.width) / 2 + bodyRect.scrollLeft + 'px',\r\n                visibility: 'visible'\r\n            });\r\n        }\r\n    }\r\n\r\n    hideTooltip() {\r\n        Object.assign(this.tip.style, {\r\n            top: '-9999px',\r\n            visibility: 'hidden'\r\n        });\r\n    }\r\n\r\n    onDestroy() {\r\n        // console.warn('ondestroy');\r\n        this.destroyTooltip();\r\n        if (this.buttons) {\r\n            for (let el of this.buttons) {\r\n                this.removeHandler(el);\r\n            }\r\n        }\r\n        if (this.selectors) {\r\n            for (let el of this.selectors) {\r\n                this.removeHandler(el);\r\n            }\r\n        }\r\n        if (this.scrollElm) {\r\n            this.scrollElm.removeEventListener('scroll', this.mouseleaveHandler);\r\n        }\r\n    }\r\n\r\n    destroyTooltip() {\r\n        if (this.tip.parentNode) {\r\n            this.tip.parentNode.removeChild(this.tip);\r\n        }\r\n    }\r\n\r\n    removeHandler(el) {\r\n        el.removeEventListener('mouseenter', this.mouseenterHandler);\r\n        el.removeEventListener('mouseleave', this.mouseleaveHandler);\r\n    }\r\n}\r\n","export const HTML_EDITOR_LOCALES = {\r\n    \"en\": {\r\n        \"html-editor\": {\r\n            \"maximgsize\": \"The uploaded image should not exceed {0}\",\r\n            \"dropimg\": \"{0} has exceeded the upload limit! Maximum allowed upload {1}\"\r\n        }\r\n    },\r\n    \"zh-CHS\": {\r\n        \"html-editor\": {\r\n            \"maximgsize\": \"å¾çè¶åºä¸ä¼ éå¶ï¼æå¤§åè®¸ {0}\",\r\n            \"dropimg\": \"{0} è¶åºä¸ä¼ éå¶ï¼æå¤§åè®¸ {1}\"\r\n        }\r\n    },\r\n    \"zh-CHT\": {\r\n        \"html-editor\": {\r\n            \"maximgsize\": \"åçè¶åºä¸å³éå¶ï¼æå¤§åè¨± {0}\",\r\n            \"dropimg\": \"{0} è¶åºä¸å³éå¶ï¼æå¤§åè¨± {1}\"\r\n        }\r\n    }\r\n}","import {\r\n    AfterViewInit, Component, ElementRef, EventEmitter, forwardRef, Inject, Input, NgZone, OnChanges, OnDestroy,\r\n    Output, PLATFORM_ID, Renderer2, SecurityContext, SimpleChanges, ViewEncapsulation, HostBinding, Optional, Injector\r\n} from '@angular/core';\r\nimport { isPlatformServer, DOCUMENT} from '@angular/common';\r\nimport { DomSanitizer } from '@angular/platform-browser';\r\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR, NG_VALIDATORS } from '@angular/forms';\r\n\r\nimport Quill from 'quill';\r\n\r\nimport { Convert2HtmlEditorToolbars, RichTextEditorToolbars } from '@farris/ui-common';\r\n\r\nimport { defaultModules, toolbarOptions } from './html-editor-defaults';\r\nimport { QUILL_CONFIG_TOKEN, QuillConfig, QuillFormat, QuillModules } from './html-editor.interfaces';\r\nimport { ImageResize } from './image-resize-module/ImageResize';\r\nimport { ImageDrop } from './image-drop-module/image-drop'; // æå¨å è½½å¾çç»ä»¶ã\r\nimport { Tooltip } from './tool-tip-module/index';\r\nimport { NotifyService } from '@farris/ui-notify';\r\nimport { LocaleService } from '@farris/ui-locale';\r\nimport { HTML_EDITOR_LOCALES } from './html-editor.locale';\r\n// ä¿®æ¹é»è®¤å­ä½\r\nconst Font = Quill.import('attributors/style/font');\r\nFont.whitelist = ['Microsoft-YaHei', 'SimSun', 'SimHei', 'KaiTi', 'FangSong', 'Arial', 'Times', 'sans-serif'];\r\nQuill.register(Font, true);\r\n\r\n\r\n// æ³¨åå¾çææ½åå¾çå¤§å°è°æ´\r\nQuill.register('modules/imageDrop', ImageDrop);\r\nQuill.register('modules/imageResize', ImageResize);\r\nQuill.register('modules/tooltip', Tooltip);\r\n// Because quill uses `document` directly, we cannot `import` during SSR\r\n// instead, we load dynamically via `require('quill')` in `ngAfterViewInit()`\r\n// declare var require: any\r\n// let Quill: any = null\r\n\r\nexport interface CustomOption {\r\n    import: string;\r\n    whitelist: any[];\r\n}\r\n\r\nexport interface Range {\r\n    index: number;\r\n    length: number;\r\n}\r\n\r\nconst getFormat = (format?: QuillFormat, configFormat?: QuillFormat): QuillFormat => {\r\n    const passedFormat = format || configFormat;\r\n    return passedFormat || 'html';\r\n};\r\n\r\n@Component({\r\n    selector: 'farris-html-editor',\r\n    template: `\r\n        <ng-content select=\"[html-editor-toolbar]\"></ng-content>\r\n    `,\r\n    styleUrls: ['./html-editor.component.css'],\r\n    encapsulation: ViewEncapsulation.None,\r\n    providers: [\r\n        {\r\n            multi: true,\r\n            provide: NG_VALUE_ACCESSOR, // èªå®ä¹ç»ä»¶çæ°æ®ç»å®\r\n            useExisting: forwardRef(() => HtmlEditorComponent)\r\n        }, {\r\n            provide: NG_VALIDATORS,\r\n            useExisting: forwardRef(() => HtmlEditorComponent),\r\n            multi: true\r\n        }\r\n    ]\r\n})\r\nexport class HtmlEditorComponent implements AfterViewInit, ControlValueAccessor, OnChanges, OnDestroy {\r\n\r\n    quillEditor: any;\r\n    editorElem: HTMLElement | undefined;\r\n    content: any;\r\n    private _disabled = false; // used to store initial value before ViewInit\r\n\r\n    @HostBinding('class') rootClass = 'farris-html-editor';\r\n    @Input()\r\n    @HostBinding('class.farris-html-editor-readonly') readonly?: boolean;\r\n    @Input()\r\n    @HostBinding('class.farris-html-editor-disabled') disabled = false;\r\n    @Input()\r\n    @HostBinding('class.farris-html-editor-border') showBorder = true;\r\n\r\n    @Input() format?: 'object' | 'html' | 'text' | 'json';\r\n    @Input() theme?: string;\r\n    @Input() modules?: QuillModules = {\r\n        imageDrop: true,\r\n        imageResize: true,\r\n        tooltip: true\r\n    };\r\n    @Input() debug?: 'warn' | 'log' | 'error' | false;\r\n    @Input() placeholder?: string;\r\n    @Input() maxLength?: number;\r\n    @Input() minLength?: number;\r\n    @Input() required = false;\r\n    @Input() formats?: string[] | null;\r\n    @Input() customToolbarPosition: 'top' | 'bottom' = 'top';\r\n    @Input() sanitize = false; // åådom\r\n    @Input() styles: any = null;\r\n    @Input() strict = true;\r\n    @Input() scrollingContainer?: HTMLElement | string | null;\r\n    @Input() bounds?: HTMLElement | string;\r\n    @Input() customOptions: CustomOption[] = [];\r\n    @Input() trackChanges?: 'user' | 'all';\r\n    @Input() preserveWhitespace = false;\r\n\r\n     /** éå¶ä¸ä¼ å¾çå¤§å°, é»è®¤ä¸º falseä¸éå¶ä¸ä¼ å¾ççå¤§å° */\r\n     @Input() limitImageSize = false;\r\n     /** åè®¸ä¸ä¼ å¾çæå¤§å­èæ°ï¼åä½ kb  */\r\n     @Input() maxImgSize = 500;\r\n\r\n\r\n    // èªå®ä¹toobar\r\n    @Input() customToolbar = false;\r\n    // èªå®ä¹åè½æé®\r\n    @Input() toolbar: RichTextEditorToolbars;\r\n\r\n\r\n    // æå­æ ·å¼\r\n    @Input() fontStyleBar: string[] | boolean = true;\r\n    // ä»£ç å\r\n    @Input() BlockBar: string[] | boolean =  false; // false;\r\n    // æ é¢\r\n    @Input() headerBar: { header: any[] } | boolean = true;\r\n    // å­å·\r\n    @Input() sizeBar: { size: any[] } | boolean = true;\r\n    // åè¡¨\r\n    @Input() listBar: any[] | boolean = true;\r\n    // å­ä½\r\n    @Input() fontBar: { font: string[] } | boolean = true;\r\n    // ä¸æ åä¸æ \r\n    @Input() superAndSubscriptBar: any[] | boolean = true; // false;\r\n    // ç¼©è¿\r\n    @Input() indentBar: any[] | boolean = true;\r\n    // æå­é¢è²\r\n    @Input() colorBar: any[] | boolean = true; // false;\r\n    // åªä½\r\n    @Input() mediaBar: string | boolean = true; // false;\r\n    // å¾ç\r\n    @Input() imageBar: string | boolean = false;\r\n    // è§é¢\r\n    @Input() videoBar: string | boolean = false; // false;\r\n    // æ¸é¤\r\n    @Input() cleanBar: string | boolean = true;\r\n    @Input() alignBar: string | boolean = true;\r\n    /** åªè¯»ç¦ç¨æ¶ï¼æå¤§é«åº¦ï¼ä¸º 0 æ¶ï¼ä¸éå¶æå¤§é«åº¦; é»è®¤ 800px */\r\n    @Input() maxHeight = 800;\r\n    @Input() minHeight = 100;\r\n    @Input() autoHeight = true;\r\n\r\n    @Output() onEditorCreated = new EventEmitter();\r\n\r\n    @Output() onContentChanged: EventEmitter<{\r\n        content: any;\r\n        delta: any;\r\n        editor: any;\r\n        html: string | null;\r\n        oldDelta: any;\r\n        source: string;\r\n        text: string;\r\n    }> = new EventEmitter();\r\n\r\n    @Output() onSelectionChanged: EventEmitter<{\r\n        editor: any;\r\n        oldRange: Range | null;\r\n        range: Range | null;\r\n        source: string;\r\n    }> = new EventEmitter<any>();\r\n\r\n    @Output() onFocus: EventEmitter<{\r\n        editor: any;\r\n        source: string;\r\n    }> = new EventEmitter();\r\n    @Output() onBlur: EventEmitter<{\r\n        editor: any;\r\n        source: string;\r\n    }> = new EventEmitter();\r\n\r\n    @Input() imageUpload: () => void;\r\n\r\n    @Input() valueGetter = (quillEditor: any, editorElement: HTMLElement): string | any => {\r\n        // tslint:disable-next-line: no-non-null-assertion\r\n        let html: string | null = editorElement.querySelector('.ql-editor')!.innerHTML;\r\n        if (html === '<p><br></p>' || html === '<div><br><div>') {\r\n            html = null;\r\n        }\r\n        let modelValue = html;\r\n        const format = getFormat(this.format, this.config.format);\r\n\r\n        if (format === 'text') {\r\n            modelValue = quillEditor.getText();\r\n        } else if (format === 'object') {\r\n            modelValue = quillEditor.getContents();\r\n        } else if (format === 'json') {\r\n            try {\r\n                modelValue = JSON.stringify(quillEditor.getContents());\r\n            } catch (e) {\r\n                modelValue = quillEditor.getText();\r\n            }\r\n        }\r\n        return modelValue;\r\n    }\r\n\r\n    @Input() valueSetter = (quillEditor: any, value: any): any => {\r\n        const format = getFormat(this.format, this.config.format);\r\n        if (format === 'html') {\r\n            if (this.sanitize) {\r\n                value = this.domSanitizer.sanitize(SecurityContext.HTML, value);\r\n            }\r\n            value = value ? (value + '').replace(/\\s\\s/g, '&nbsp;&nbsp;') : '';\r\n            return quillEditor.clipboard.convert(value);\r\n        } else if (format === 'json') {\r\n            try {\r\n                return JSON.parse(value);\r\n            } catch (e) {\r\n                return [{ insert: value }];\r\n            }\r\n        }\r\n        return value;\r\n    }\r\n\r\n    constructor(\r\n        private elementRef: ElementRef,\r\n        private domSanitizer: DomSanitizer,\r\n        @Inject(DOCUMENT) private doc: any,\r\n        // tslint:disable-next-line:ban-types\r\n        @Inject(PLATFORM_ID) private platformId: Object,\r\n        private renderer: Renderer2,\r\n        private zone: NgZone,\r\n        @Inject(QUILL_CONFIG_TOKEN) private config: QuillConfig,\r\n        @Optional() private notifySer: NotifyService,\r\n        @Optional() private localeSer: LocaleService,\r\n        @Optional() private injector: Injector\r\n    ) {\r\n        if (this.localeSer) {\r\n            this.localeSer.setLocaleData(HTML_EDITOR_LOCALES);\r\n        }\r\n    }\r\n\r\n    // tslint:disable-next-line:no-empty\r\n    onModelChange(_modelValue?: any) { }\r\n    // tslint:disable-next-line:no-empty\r\n    onModelTouched() { }\r\n\r\n    ngAfterViewInit(): void {\r\n       this.editorCreate();\r\n\r\n       if (this.editorElem) {\r\n            this.renderer.setStyle(this.editorElem, 'min-height', `${this.minHeight || 100}px`);\r\n\r\n            if (this.autoHeight) {\r\n                if (this.maxHeight) {\r\n                    this.renderer.setStyle(this.editorElem, 'max-height', `${this.maxHeight}px`);\r\n                    this.renderer.setStyle(this.editorElem, 'overflow', 'auto');\r\n                }\r\n            } else {\r\n                this.renderer.setStyle(this.editorElem, 'max-height', `${this.minHeight}px`);\r\n                this.renderer.setStyle(this.editorElem, 'overflow', 'auto');\r\n            }\r\n       }\r\n    }\r\n\r\n    setToolbar(toolbar) {\r\n        // console.log(toolbar);\r\n    }\r\n\r\n    private editorCreate() {\r\n        if (isPlatformServer(this.platformId)) {\r\n            return;\r\n        }\r\n\r\n        this.elementRef.nativeElement.insertAdjacentHTML(\r\n            this.customToolbarPosition === 'top' ? 'beforeend' : 'afterbegin',\r\n            this.preserveWhitespace ? '<pre html-editor-element></pre>' : '<div html-editor-element></div>'\r\n        );\r\n\r\n        this.editorElem = this.elementRef.nativeElement.querySelector('[html-editor-element]');\r\n\r\n        const toolbarElem = this.elementRef.nativeElement.querySelector('[html-editor-toolbar]');\r\n        const modules = this.modules || this.config.modules || defaultModules;\r\n        if (modules.toolbar === undefined) {\r\n            modules.toolbar = defaultModules.toolbar;\r\n        }\r\n        if (this.customToolbar) {\r\n            if (this.toolbar && this.toolbar.length) {\r\n                modules.toolbar = Convert2HtmlEditorToolbars('concise', this.toolbar);\r\n            } else  {\r\n                modules.toolbar =  defaultModules.toolbar;\r\n            }\r\n        }\r\n        if (modules.tooltip === undefined) {\r\n            modules.tooltip = defaultModules.tooltip;\r\n        }\r\n        if (modules.imageDrop === undefined) {\r\n            modules.imageDrop = defaultModules.imageDrop;\r\n        }\r\n        if (modules.imageResize === undefined) {\r\n            modules.imageResize =  defaultModules.imageResize;\r\n        }\r\n\r\n        let placeholder = this.placeholder !== undefined ? this.placeholder : this.config.placeholder;\r\n        if (placeholder === undefined) {\r\n            placeholder = '';\r\n        }\r\n\r\n        if (toolbarElem) {\r\n            // tslint:disable-next-line:no-string-literal\r\n            modules['toolbar'] = toolbarElem;\r\n        }\r\n\r\n        if (this.styles) {\r\n            Object.keys(this.styles).forEach((key: string) => {\r\n                this.renderer.setStyle(this.editorElem, key, this.styles[key]);\r\n            });\r\n        }\r\n\r\n        this.customOptions.forEach(customOption => {\r\n            const newCustomOption = Quill.import(customOption.import);\r\n            newCustomOption.whitelist = customOption.whitelist;\r\n            Quill.register(newCustomOption, true);\r\n        });\r\n\r\n        let bounds = this.bounds && this.bounds === 'self' ? this.editorElem : this.bounds;\r\n        if (!bounds) {\r\n            bounds = this.config.bounds ? this.config.bounds : this.doc.body;\r\n        }\r\n\r\n        let debug = this.debug;\r\n        if (!debug && debug !== false && this.config.debug) {\r\n            debug = this.config.debug;\r\n        }\r\n\r\n        let readOnly = this.readonly;\r\n        if (!readOnly && this.readonly !== false) {\r\n            readOnly = this.config.readOnly !== undefined ? this.config.readOnly : false;\r\n        }\r\n\r\n        // modules.imageResize = !(readOnly || this.disabled)\r\n\r\n        let scrollingContainer = this.scrollingContainer;\r\n\r\n        if (!scrollingContainer) {\r\n            scrollingContainer = this.editorElem;\r\n        }\r\n\r\n        // if (!scrollingContainer) {\r\n        //     scrollingContainer =\r\n        //         this.config.scrollingContainer === null || this.config.scrollingContainer\r\n        //             ? this.config.scrollingContainer\r\n        //             : null;\r\n        // }\r\n\r\n        let formats = this.formats;\r\n        if (!formats && formats === undefined) {\r\n            formats = this.config.formats || this.config.formats === null ? this.config.formats : undefined;\r\n        }\r\n        // åå§åquill\r\n        this.quillEditor = new Quill(this.editorElem, {\r\n            bounds,\r\n            debug,\r\n            formats,\r\n            modules,\r\n            placeholder,\r\n            readOnly,\r\n            scrollingContainer,\r\n            strict: this.strict,\r\n            theme: this.theme || (this.config.theme ? this.config.theme : 'snow'),\r\n             /** éå¶ä¸ä¼ å¾çå¤§å°, é»è®¤ä¸º falseä¸éå¶ä¸ä¼ å¾ççå¤§å° */\r\n            limitImageSize: this.limitImageSize,\r\n            /** åè®¸ä¸ä¼ å¾çæå¤§å­èæ°ï¼åä½ kb  */\r\n            maxImgSize: this.maxImgSize,\r\n            showMaxImageMessage: this.showMaxImageMessage.bind(this),\r\n            ngZone: this.zone,\r\n            localeId: this.localeSer? this.localeSer.localeId :  localStorage.getItem('languageCode') || 'zh-CHS'\r\n        });\r\n\r\n        if (this.content) {\r\n            const format = getFormat(this.format, this.config.format);\r\n            if (format === 'object') {\r\n                this.quillEditor.setContents(this.content, 'silent');\r\n            } else if (format === 'text') {\r\n                this.quillEditor.setText(this.content, 'silent');\r\n            } else if (format === 'json') {\r\n                try {\r\n                    this.quillEditor.setContents(JSON.parse(this.content), 'silent');\r\n                } catch (e) {\r\n                    this.quillEditor.setText(this.content, 'silent');\r\n                }\r\n            } else {\r\n                if (this.sanitize) {\r\n                    this.content = this.domSanitizer.sanitize(SecurityContext.HTML, this.content);\r\n                }\r\n                const contents = this.quillEditor.clipboard.convert(this.content);\r\n                this.quillEditor.setContents(contents, 'silent');\r\n            }\r\n\r\n            this.quillEditor.history.clear();\r\n        }\r\n\r\n        // initialize _disabled status based on this._disabled as default value\r\n        // this.setDisabledState(this.disabled);\r\n        this.setStatusEditor(this.readonly, this.disabled);\r\n        this.onEditorCreated.emit(this.quillEditor);\r\n\r\n        // mark model as touched if editor lost focus\r\n        this.quillEditor.on('selection-change', this.selectionChangeHandler);\r\n\r\n        // update model if text changes\r\n        this.quillEditor.on('text-change', this.textChangeHandler);\r\n    }\r\n\r\n    random_id() {\r\n        return Math.random().toString(36).slice(2);\r\n    }\r\n\r\n    selectionChangeHandler = (range: Range | null, oldRange: Range | null, source: string) => {\r\n        this.zone.run(() => {\r\n            if (range === null) {\r\n                this.onBlur.emit({\r\n                    editor: this.quillEditor,\r\n                    source\r\n                });\r\n            } else if (oldRange === null) {\r\n                this.onFocus.emit({\r\n                    editor: this.quillEditor,\r\n                    source\r\n                });\r\n            }\r\n\r\n            this.onSelectionChanged.emit({\r\n                editor: this.quillEditor,\r\n                oldRange,\r\n                range,\r\n                source\r\n            });\r\n\r\n            if (!range && this.onModelTouched) {\r\n                this.onModelTouched();\r\n            }\r\n        });\r\n    }\r\n\r\n    textChangeHandler = (delta: any, oldDelta: any, source: string): void => {\r\n        // only emit changes emitted by user interactions\r\n\r\n        const text = this.quillEditor.getText();\r\n        const content = this.quillEditor.getContents();\r\n\r\n        // tslint:disable-next-line: no-non-null-assertion\r\n        let html: string | null = this.editorElem!.querySelector('.ql-editor')!.innerHTML;\r\n        if (html === '<p><br></p>' || html === '<div><br><div>') {\r\n            html = null;\r\n        }\r\n\r\n        this.zone.run(() => {\r\n            const trackChanges = this.trackChanges || this.config.trackChanges;\r\n            if ((source === Quill.sources.USER || (trackChanges && trackChanges === 'all')) && this.onModelChange) {\r\n                this.onModelChange(this.valueGetter(this.quillEditor, this.editorElem!));\r\n            }\r\n\r\n            this.onContentChanged.emit({\r\n                content,\r\n                delta,\r\n                editor: this.quillEditor,\r\n                html,\r\n                oldDelta,\r\n                source,\r\n                text\r\n            });\r\n        });\r\n    }\r\n\r\n    endEdit() {\r\n        this.onModelTouched();\r\n    }\r\n\r\n    buildToolbar(options: any) {\r\n        const rtn = [];\r\n        Object.keys(options).forEach(e => {\r\n            if (this[e] === true) {\r\n                rtn.push(options[e]);\r\n            } else if (this[e]) {\r\n                rtn.push(this[e]);\r\n            }\r\n        });\r\n        return rtn;\r\n    }\r\n\r\n    ngOnDestroy() {\r\n        if (this.quillEditor) {\r\n            this.quillEditor.off('selection-change', this.selectionChangeHandler);\r\n            this.quillEditor.off('text-change', this.textChangeHandler);\r\n        }\r\n    }\r\n\r\n    private hideImgSelectionRange() {\r\n        const imgResizeIns: any = this.quillEditor.getModule('imageResize');\r\n        if (imgResizeIns) {\r\n            if (this.readonly || this.disabled) {\r\n                imgResizeIns.hide();\r\n            }\r\n        }\r\n    }\r\n    \r\n\r\n\r\n    ngOnChanges(changes: SimpleChanges): void {\r\n        if (!this.quillEditor) {\r\n            return;\r\n        }\r\n        if (changes['disabled']) {\r\n            this.setStatusEditor(false, this.disabled);\r\n            this.hideImgSelectionRange();\r\n        }\r\n        // tslint:disable:no-string-literal\r\n        if (changes['readonly']) {\r\n            this.quillEditor.enable(!changes['readonly'].currentValue);\r\n            this.disableToolbar(changes['readonly'].currentValue);\r\n            this.hideImgSelectionRange();\r\n        }\r\n        if (changes['placeholder']) {\r\n            this.quillEditor.root.dataset.placeholder = changes['placeholder'].currentValue;\r\n        }\r\n        if (changes['styles']) {\r\n            const currentStyling = changes['styles'].currentValue;\r\n            const previousStyling = changes['styles'].previousValue;\r\n\r\n            if (previousStyling) {\r\n                Object.keys(previousStyling).forEach((key: string) => {\r\n                    this.renderer.removeStyle(this.editorElem, key);\r\n                });\r\n            }\r\n            if (currentStyling) {\r\n                Object.keys(currentStyling).forEach((key: string) => {\r\n                    this.renderer.setStyle(this.editorElem, key, this.styles[key]);\r\n                });\r\n            }\r\n        }\r\n\r\n        if (changes.limitImageSize && !changes.limitImageSize.isFirstChange()) {\r\n            this.quillEditor.options.limitImageSize = this.limitImageSize;\r\n        }\r\n\r\n        if (changes.maxImgSize && !changes.maxImgSize.isFirstChange()) {\r\n            this.quillEditor.options.maxImgSize = this.maxImgSize;\r\n        }\r\n\r\n        // tslint:enable:no-string-literal\r\n    }\r\n\r\n    writeValue(currentValue: any) {\r\n        this.content = currentValue;\r\n        const format = getFormat(this.format, this.config.format);\r\n        if (this.quillEditor) {\r\n            this.quillEditor.setText('');\r\n            if (currentValue) {\r\n                if (format === 'text') {\r\n                    this.quillEditor.setText(currentValue);\r\n                } else {\r\n                    this.quillEditor.setContents(this.valueSetter(this.quillEditor, this.content));\r\n                }\r\n                return;\r\n            }\r\n        }\r\n    }\r\n\r\n    disableToolbar(readonly: boolean) {\r\n        const toolbarElem = this.elementRef.nativeElement.querySelector('.ql-toolbar');\r\n        if (toolbarElem) {\r\n            toolbarElem.style.display = readonly ? 'none' : 'block';\r\n        }\r\n    }\r\n\r\n    setStatusEditor(readonly: boolean = false, disable: boolean) {\r\n        // if (disable || readonly) {\r\n        //     this.elementRef.nativeElement.style.border = 'none';\r\n        // }\r\n        this.disableToolbar(disable || readonly);\r\n        this.setDisabledState(disable);\r\n    }\r\n\r\n    setDisabledState(isDisabled: boolean = this._disabled): void {\r\n        // store initial value to set appropriate _disabled status after ViewInit\r\n        this._disabled = isDisabled;\r\n        if (this.quillEditor) {\r\n            if (isDisabled) {\r\n                this.quillEditor.disable();\r\n                this.renderer.setAttribute(this.elementRef.nativeElement, 'disabled', 'disabled');\r\n            } else {\r\n                if (!this.readonly) {\r\n                    this.quillEditor.enable();\r\n                }\r\n                this.renderer.removeAttribute(this.elementRef.nativeElement, 'disabled');\r\n            }\r\n        }\r\n    }\r\n\r\n    registerOnChange(fn: (modelValue: any) => void): void {\r\n        this.onModelChange = fn;\r\n    }\r\n\r\n    registerOnTouched(fn: () => void): void {\r\n        this.onModelTouched = fn;\r\n    }\r\n\r\n    showMaxImageMessage(imgs = null) {\r\n        let errMsg = `ä¸ä¼ çå¾çä¸å¾å¤§äº${this.maxImgSize}kb`;\r\n\r\n        if (this.localeSer) {\r\n            let _errMsg = this.localeSer.getValue('html-editor.maximgsize');\r\n            if (_errMsg) {\r\n                _errMsg = _errMsg.replace('{0}', `${this.maxImgSize}kb`);\r\n                errMsg = _errMsg;\r\n            }\r\n            if (imgs && imgs.length) {\r\n                const imgNames = imgs.map(n => n.name).join(', ');\r\n                errMsg = this.localeSer.getValue('html-editor.dropimg').replace('{0}', imgNames).replace('{1}', `${this.maxImgSize}kb`);\r\n            }\r\n        } else {\r\n            if (imgs && imgs.length) {\r\n                const imgNames = imgs.map(n => n.name).join(', ');\r\n                errMsg = `${imgNames} è¶åºä¸ä¼ éå¶ï¼æå¤§åè®¸ ${this.maxImgSize}kb`;\r\n            }\r\n        }\r\n\r\n        if (this.notifySer) {\r\n            this.notifySer.warning({msg: errMsg, timeout: 2000});\r\n        } else {\r\n            alert(errMsg);\r\n        }\r\n    }\r\n\r\n    validate() {\r\n        return null;\r\n        // if (!this.quillEditor) {\r\n        // }\r\n        // const err: {\r\n        //     minLengthError?: {\r\n        //         given: number;\r\n        //         minLength: number;\r\n        //     };\r\n        //     maxLengthError?: {\r\n        //         given: number;\r\n        //         maxLength: number;\r\n        //     };\r\n        //     requiredError?: { empty: boolean };\r\n        // } = {};\r\n        // let valid = true;\r\n\r\n        // const textLength = this.quillEditor.getText().trim().length;\r\n\r\n        // if (this.minLength && textLength && textLength < this.minLength) {\r\n        //     err.minLengthError = {\r\n        //         given: textLength,\r\n        //         minLength: this.minLength\r\n        //     };\r\n\r\n        //     valid = false;\r\n        // }\r\n\r\n        // if (this.maxLength && textLength > this.maxLength) {\r\n        //     err.maxLengthError = {\r\n        //         given: textLength,\r\n        //         maxLength: this.maxLength\r\n        //     };\r\n\r\n        //     valid = false;\r\n        // }\r\n\r\n        // if (this.required && !textLength) {\r\n        //     err.requiredError = {\r\n        //         empty: true\r\n        //     };\r\n\r\n        //     valid = false;\r\n        // }\r\n\r\n        // return valid ? null : err;\r\n    }\r\n}\r\n","import { NgModule, ModuleWithProviders } from '@angular/core';\r\nimport { HtmlEditorComponent } from './html-editor.component';\r\nimport { defaultModules } from './html-editor-defaults';\r\nimport { QUILL_CONFIG_TOKEN, QuillConfig } from './html-editor.interfaces';\r\nimport { NotifyModule } from '@farris/ui-notify';\r\nimport { LocaleModule } from '@farris/ui-locale';\r\n@NgModule({\r\n    declarations: [HtmlEditorComponent],\r\n    imports: [\r\n        NotifyModule.forRoot(),\r\n        LocaleModule.forRoot()\r\n    ],\r\n    exports: [HtmlEditorComponent],\r\n    providers: [\r\n        {\r\n            provide: QUILL_CONFIG_TOKEN,\r\n            useValue: { modules: defaultModules }\r\n        }\r\n    ]\r\n})\r\nexport class FarrisHtmlEditorModule {\r\n    static forRoot(config?: QuillConfig): ModuleWithProviders {\r\n        return {\r\n            ngModule: FarrisHtmlEditorModule,\r\n            providers: [\r\n                {\r\n                    provide: QUILL_CONFIG_TOKEN,\r\n                    // tslint:disable-next-line:only-arrow-functions\r\n                    useValue: config || { modules: defaultModules }\r\n                }\r\n            ]\r\n        };\r\n    }\r\n}\r\n"],"names":["InjectionToken","tslib_1.__extends","tslib_1.__values","EventEmitter","SecurityContext","isPlatformServer","Convert2HtmlEditorToolbars","Component","ViewEncapsulation","NG_VALUE_ACCESSOR","forwardRef","NG_VALIDATORS","ElementRef","DomSanitizer","Inject","DOCUMENT","PLATFORM_ID","Renderer2","NgZone","NotifyService","Optional","LocaleService","Injector","HostBinding","Input","Output","NgModule","NotifyModule","LocaleModule"],"mappings":"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"}
