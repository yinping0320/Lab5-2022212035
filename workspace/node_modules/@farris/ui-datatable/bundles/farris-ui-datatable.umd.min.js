!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("lodash-es"),require("rxjs"),require("@farris/ui-locale"),require("@angular/common"),require("@angular/forms"),require("@farris/ui-perfect-scrollbar"),require("@farris/ui-pagination"),require("@farris/ui-common"),require("@farris/ui-common/column"),require("@farris/ui-input-group"),require("@farris/ui-forms"),require("@angular/core")):"function"==typeof define&&define.amd?define("@farris/ui-datatable",["exports","lodash-es","rxjs","@farris/ui-locale","@angular/common","@angular/forms","@farris/ui-perfect-scrollbar","@farris/ui-pagination","@farris/ui-common","@farris/ui-common/column","@farris/ui-input-group","@farris/ui-forms","@angular/core"],t):t((e.farris=e.farris||{},e.farris["ui-datatable"]={}),e.lodashEs,e.rxjs,e.uiLocale,e.ng.common,e.ng.forms,e.uiPerfectScrollbar,e.uiPagination,e.uiCommon,e.column,e.uiInputGroup,e.uiForms,e.ng.core)}(this,function(e,t,i,a,n,o,r,s,l,c,d,h,p){"use strict";var u=function(e,t){var i=[],n=[];return e.forEach(function(e){!e.fixed||e.fixed!==t&&e.fixed.type!==t?n.push(e):i.push(e)}),i.concat(n)},g=function(e){return t.cloneDeep(e)},f=(m.decorators=[{type:p.Injectable}],m.ctorParameters=function(){return[]},m);function m(){this.loadSuccess=new i.Subject,this.selectedRow=new i.Subject,this.unSelectedRow=new i.Subject,this.selectedAll=new i.Subject,this.dblClickRow=new i.Subject,this.updateCheckAllStatus=new i.Subject}var y=function(){return(y=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var o in t=arguments[i])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},b=(v.prototype.ngOnInit=function(){},v.decorators=[{type:p.Directive,args:[{selector:"data-column"}]}],v.ctorParameters=function(){return[{type:p.ElementRef}]},v.propDecorators={edit:[{type:p.Input}],title:[{type:p.Input}],field:[{type:p.Input}],width:[{type:p.Input}],align:[{type:p.Input}],fixed:[{type:p.Input}],className:[{type:p.Input}],media:[{type:p.Input}],sortable:[{type:p.Input}],multipleFilter:[{type:p.Input}],filter:[{type:p.Input}],fixedClass:[{type:p.HostBinding,args:["class.fixed"]}]},v);function v(e){this.el=e,this.align="left",this.multipleFilter=!0,this.fixedClass="left"===this.fixed}var w=(Object.defineProperty(x.prototype,"pageList",{get:function(){return this._pageList},set:function(e){this._pageList=e,this.pager&&this.pager.setPageList(e)},enumerable:!0,configurable:!0}),Object.defineProperty(x.prototype,"data",{get:function(){return this._data},set:function(e){this._data=e||[]},enumerable:!0,configurable:!0}),Object.defineProperty(x.prototype,"selections",{get:function(){return this.dtBody.selections},set:function(e){this.dtBody.selections=e||{}},enumerable:!0,configurable:!0}),Object.defineProperty(x.prototype,"currentRowIndex",{get:function(){return this._currentRowIndex},enumerable:!0,configurable:!0}),Object.defineProperty(x.prototype,"currentRow",{get:function(){return this._currentRow},enumerable:!0,configurable:!0}),x.prototype.ngOnInit=function(){var e=this;setTimeout(function(){e.setBodyHeight(!0),e.ps=e.perfectScrollbar.directiveRef.ps()}),this.id||(this.id="datatable_"+this.idService.generate()),this.paginationOptions.id=this.paginationOptions.id+this.id,this.paginationOptions.remote=this.pagerOnServer,this.copyData=g(this.data),this.beforeSortColumn||(this.beforeSortColumn=function(){return i.of(!0)})},x.prototype.setBodyHeight=function(e){void 0===e&&(e=!0);var t=this.height;this.showFilterBar&&(t=this.height-46),this.tableHeight=t;var i=0;this.showHeader&&this.tableHeader&&(i=this.tableHeight-this.tableHeader.nativeElement.querySelector("table").clientHeight),this.pagination&&(i-=50),this.scorllableBodyHeight=i,e&&this.cd&&!this.cd.destroyed&&this.cd.detectChanges()},x.prototype.onClearSearchValue=function(){this.searchData.value="",this.cd.detectChanges(),this.clearSearchValue.emit()},x.prototype.ngOnChanges=function(e){if(e.height&&!e.height.isFirstChange()&&this.setBodyHeight(),e.total&&!e.total.isFirstChange()&&(this.paginationOptions.totalItems=e.total.currentValue),e.pageSize&&(this.paginationOptions.itemsPerPage=e.pageSize.currentValue),e.pagerOnServer&&!e.pagerOnServer.isFirstChange()&&(this.paginationOptions.remote=e.pagerOnServer.currentValue),e.pageIndex&&!e.pageIndex.isFirstChange()&&(this.paginationOptions.currentPage=e.pageIndex.currentValue),e.data&&!e.data.isFirstChange()){var t=e.data.currentValue;this.updateCheckboxState(t),this.paginationOptions=y({},this.paginationOptions),this.dataService.loadSuccess.next(e.data.currentValue)}},x.prototype.ngAfterContentInit=function(){var s=this;this.columns||this.columnsRef&&this.columnsRef.length&&(this.columns=this.columnsRef.map(function(e){return{width:e.width,title:e.title,field:e.field,align:e.align,fixed:e.fixed,className:e.className,multipleFilter:e.multipleFilter,filter:e.filter,media:e.media,sortable:e.sortable,edit:e.edit}})),this.ngZone.runOutsideAngular(function(){setTimeout(function(){s.tablePager&&"simple"!==s.pagerViewMode&&(s.tablePager.nativeElement.addEventListener("mouseenter",s.mouseEnterOnPager=function(e){var t="auto";(-1<e.target.className.indexOf("pg-pagelist")||e.target.closest(".pg-pagelist"))&&(t="unset",s.pgScrollbar.nativeElement.scrollLeft=0),s.pgScrollbar.nativeElement.style.overflowX=t},!0),s.tablePager.nativeElement.addEventListener("mouseleave",s.mouseLeaveOnPager=function(e){s.pgScrollbar.nativeElement.style.overflowX="hidden"}),s.tablePager.nativeElement.addEventListener("wheel",s.mouseWheelOnPager=function(e){var t=s.tablePager.nativeElement,i=s.pgScrollbar.nativeElement.scrollWidth,n=t.offsetWidth;if(n<i){var o=i-n,r=Math.abs(s.pgScrollbar.nativeElement.scrollLeft);r<o&&0<e.deltaY&&(e.preventDefault(),s.pgScrollbar.nativeElement.scrollLeft=r+50),0<r&&e.deltaY<0&&(e.preventDefault(),s.pgScrollbar.nativeElement.scrollLeft=r-50)}}))})})},x.prototype.ngOnDestroy=function(){this.subscription.forEach(function(e){e.unsubscribe()}),this.subscription=[],this.pager=null,this.tablePager&&this.tablePager.nativeElement&&(this.tablePager.nativeElement.removeEventListener("mouseenter",this.mouseEnterOnPager,!0),this.tablePager.nativeElement.removeEventListener("mouseleave",this.mouseLeaveOnPager),this.tablePager.nativeElement.removeEventListener("wheel",this.mouseWheelOnPager))},x.prototype.ngAfterViewInit=function(){this.datatableContainer=this.el.nativeElement.querySelector(".farris-datatable"),"simple"==this.pagerViewMode&&this.tablePager&&(this.tablePager.nativeElement.style.minHeight="44px",this.tablePager.nativeElement.style.height="44px")},x.prototype.updateCheckboxState=function(e){var t=this,i=function(e){t.showHeader&&t.dtHeader&&(t.dtHeader.isCheckAll=e)};if(e&&e.length)if(this.selections){var n=Object.keys(this.dtBody._selections);if(n.length){var o=0,r=e.map(function(e){return e[t.idField].toString()});n.forEach(function(e){-1<r.indexOf(e)&&o++}),i(r.length===o)}else i(!1)}else i(!1);else i(!1)},x.prototype.getContainerOffset=function(){var e=this.datatableContainer.getBoundingClientRect();return{left:e.left+document.body.scrollLeft,top:e.top+document.body.scrollTop,right:e.right,bottom:e.bottom}},x.prototype.beginDrag=function(e){this.dragLineX=e.pageX,event.preventDefault()},x.prototype.moveDrag=function(e){var t=this.getContainerOffset().left;this.tablePager?this.dragLine.nativeElement.style.height=this.datatableContainer.offsetHeight-this.tablePager.nativeElement.offsetHeight+"px":this.dragLine.nativeElement.style.height=this.datatableContainer.offsetHeight+"px",this.dragLine.nativeElement.style.top="0px",this.dragLine.nativeElement.style.left=e.pageX-t+"px",this.dragLine.nativeElement.style.display="block"},x.prototype.stopDrag=function(e,t){if(this.autoFitColumns)return this.resizeColumn2(e,t),void(this.ps&&this.ps.update());this.resizeColumn(e,t)},x.prototype.resizeColumn=function(e,t){if(this.isCheckBox(t,"dt-checkbox-cell"))this.dragLine.nativeElement.style.display="none";else{var i=e.pageX-this.dragLineX,n=t.offsetWidth,o=n+i,r=t.style.minWidth||30;o=r<o?o:r;for(var s=-1,a=[],l=this.tableHeader.nativeElement.querySelectorAll("th"),c=t.parentElement.offsetWidth,d=t.parentElement.firstElementChild,h=this.isCheckBox(d,"dt-checkbox-cell")?d.offsetWidth:0,p=c-n-h,u=c-o-h,g=0;g<l.length;g++)if(l[g]===t)s=g;else{if(this.isCheckBox(l[g],"dt-checkbox-cell"))continue;var f=l[g].offsetWidth/p,m=u*f;15<u*f?m=u*f:(p-=m=15,o=o-15+(u-=m)*f),a.push({colIndex:g,colWidth:m})}this.resizeColGroup(this.dtHeader.el.nativeElement,s,o,a),this.resizeColGroup(this.dtBody.el.nativeElement,s,o,a),this.dragLine.nativeElement.style.display="none"}},x.prototype.resizeColumn2=function(e,t){if(this.isCheckBox(t,"dt-checkbox-cell"))this.dragLine.nativeElement.style.display="none";else{var i=e.pageX-this.dragLineX,n=t.offsetWidth,o=n+i,r=t.style.minWidth||30;o=r<o?o:r;for(var s=-1,a=this.tableHeader.nativeElement.querySelectorAll("th"),l=t.parentElement.offsetWidth,c=t.parentElement.firstElementChild,d=this.isCheckBox(c,"dt-checkbox-cell")?c.offsetWidth:0,h=l-n-d,p=l-o-d,u=0;u<a.length;u++)if(a[u]===t)s=u;else{if(this.isCheckBox(a[u],"dt-checkbox-cell"))continue;var g=a[u].offsetWidth/h,f=p*g;15<p*g?f=p*g:(h-=f=15,o=o-15+(p-=f)*g)}this.resizeColGroup(this.dtHeader.el.nativeElement,s,o,[]),this.resizeColGroup(this.dtBody.el.nativeElement,s,o,[]);var m=t.getAttribute("field");if(m){var y=this.columns.find(function(e){return e.field===m});y&&(y.width=o)}this.dragLine.nativeElement.style.display="none"}},x.prototype.isCheckBox=function(e,t){return!!e.className.match(new RegExp("(\\s|^)"+t+"(\\s|$)"))},x.prototype.resizeColGroup=function(e,t,i,n){if(e){var o="COLGROUP"===e.childNodes[0].children[0].nodeName?e.childNodes[0].children[0]:null;if(!o)throw new Error("Scrollable tables require a colgroup to support resizable columns");o.children[t].style.width=i+"px";for(var r=0;r<n.length;r++){var s=o.children[n[r].colIndex];s&&n[r].colWidth&&(s.style.width=n[r].colWidth+"px")}}},x.prototype.onScrollX=function(e){var t=e.srcElement.scrollLeft;this.tableHeader.nativeElement.scrollTo(t,0)},x.prototype.onScrollY=function(e){if(this.hasFixed){var t=e.srcElement.scrollTop;this.dtLeftFixed.nativeElement.style.top=-t+"px",this.dtRightFixed.nativeElement.style.top=-t+"px"}},x.prototype.onPageChange=function(e){this.pageIndex!==e.pageIndex&&(this.pageIndex=e.pageIndex,this.paginationOptions.currentPage=e.pageIndex,this.pageChanged.emit({pageInfo:e,search:this.searchData,sortName:this.sortName,sortOrder:this.sortOrder}))},x.prototype.onPageSizeChange=function(e){if(this.pageSize!==e&&this.total){this.paginationOptions.itemsPerPage=e,this.pageSize=e;var t=this.total,i=Math.floor(t/e);0<t%e&&(i+=1),i&&this.pageIndex>i&&(this.pageIndex=i,this.paginationOptions.currentPage=this.pageIndex),this.pageSizeChanged.emit({pageInfo:{pageIndex:this.pageIndex,pageSize:e},search:this.searchData,sortName:this.sortName,sortOrder:this.sortOrder})}},x.prototype.onSearch=function(e){e.originalEvent&&e.originalEvent.stopPropagation(),this.search.emit(this.searchData)},x.prototype.onCheckAll=function(e){this.dataService.selectedAll.next(e),this.checkAll.emit(e)},x.prototype.onSelectedRow=function(e){this.selectedRow.emit({data:e.rowData,index:e.rowIndex}),this.selectRows.emit({data:e.rowData,index:e.rowIndex})},x.prototype.resize=function(e){e&&(this.width===e.width&&this.height===e.height||(this.width=e.width,this.height=e.height),this.setBodyHeight())},x.prototype.loadData=function(e){var t=this;if(this.data=e.data,this.pagination){var i=y({},e),n=i.total,o=void 0===n?0:n,r=i.pageSize,s=void 0===r?20:r,a=i.pageIndex,l=void 0===a?1:a;this.paginationOptions.totalItems=o,this.paginationOptions.itemsPerPage=s,this.paginationOptions.currentPage=l,this.paginationOptions.pageList=this.pageList,this.paginationOptions=y({},this.paginationOptions),this.total=o,this.pageSize=s,this.pageIndex=l}this.cd.detectChanges(),setTimeout(function(){t.ps&&t.ps.update()},10),this.updateCheckboxState(this.data)},x.prototype.onCellClick=function(e){this.cellClick.emit(e)},x.prototype.addRows=function(e){this.data=this.data.concat(e)},x.prototype.removeRows=function(){var e=this.selections;if(this.singleSelect)for(var t=0;t<this.data.length;t++)this.data[t]===e&&this.data.splice(t,1);else for(t=0;t<e.length;t++)for(var i=0;i<this.data.length;i++)e[t][this.idField]===this.data[i][this.idField]&&this.data.splice(i,1)},x.prototype.checkRow=function(i,e){var t,n,o=this;void 0===e&&(e=!1);var r=-1,s=this.data.find(function(e,t){if(e[o.idField]==i)return r=t,!0});if(s&&(this.selections?this.selections=y(((n={})[i]=s,n),this.selections.reduce(function(e,t){return e[t[o.idField]]=t,e},{})):this.selections=((t={})[i]=s,t),this.dataService.selectedRow.next({rowIndex:r,rowData:s}),e)){var a={data:s,index:r};this.selectedRow.emit(a),this.selectRows.emit(a)}},x.prototype.unCheckRow=function(i,e){var n=this;void 0===e&&(e=!1);var o=-1,t=this.data.find(function(e,t){if(e[n.idField]==i)return o=t,!0});this.selections&&(this.selections=this.selections.filter(function(e){return e[n.idField]!=i}).reduce(function(e,t){return e[t[n.idField]]=t,e},{}),this.dataService.unSelectedRow.next({rowIndex:o,rowData:t}),e&&this.unSelectRow.emit({data:t,index:o}))},x.prototype.unCheckRows=function(t){var i=this;this.selections&&(this.selections=this.selections.filter(function(e){return!t.includes(e[i.idField])}).reduce(function(e,t){return e[t[i.idField]]=t,e},{}),this.cd.detectChanges())},x.prototype.clearSelections=function(){this.selections=[]},x.prototype.onKeydownEvent=function(e){var t,i=this;e&&this.singleSelect&&this.data&&this.data.length&&["ArrowDown","ArrowUp"].includes(e.code)&&("ArrowDown"===e.code?(t=this._currentRowIndex+1)>=this.data.length&&(t=0):"ArrowUp"===e.code&&-1!==this._currentRowIndex&&(t=this._currentRowIndex-1),0<=t&&this.dtBody.selectedRow(e,t,this.data[t]),setTimeout(function(){var e=i.dtBody.el.nativeElement.querySelectorAll(".ui-table-tbody tr");e&&e[i._currentRowIndex]&&e[i._currentRowIndex].scrollIntoView({block:"nearest"})}))},x.decorators=[{type:p.Component,args:[{selector:"farrisui-datatable,farris-datatable",template:'<div class="filter-row" [style.width]="width + \'px\'" *ngIf="showFilterBar">\r\n    <form style="display: flex; width: 100%;">\r\n        <div class="search-fields" style="max-width: 180px;min-width: 140px;">\r\n            <select class="custom-select" [(ngModel)]="searchData.field" name="field" single-select [panelRef]="selectpanel" [items]="searchFields">\r\n                \x3c!-- <option value="*">{{allColumnsTitle}}</option>\r\n                <option *ngFor="let col of searchFields" value="{{col.value}}">{{ col.label }}</option> --\x3e\r\n            </select>\r\n\r\n            <div #selectpanel class="single-select-panel f-area-hide">\r\n                <ul class="dropdown-menu show">\r\n                    <li class="dropdown-item" [attr.value]="\'*\'" *ngIf="searchAnyField" [class.active]="searchData.field === \'*\'">{{allColumnsTitle}}</li>\r\n                    <li class="dropdown-item" *ngFor="let col of searchFields" [attr.value]="col.value" [class.active]="searchData.field === col.value">{{ col.label }}</li>\r\n                </ul>\r\n            </div>\r\n        </div>\r\n        <div class="search-text flex-fill">\r\n            <input-group [groupText]="searchButtonText" name="searchValue" (clear)="onClearSearchValue()" #inputgroup\r\n                [(ngModel)]="searchData.value" (clickHandle)="onSearch($event)" (enterHandle)="onSearch($event)"\r\n                (keydownHandle)="onKeydownEvent($event)" (valueChange)="searchValueChange.emit(searchData)"></input-group>\r\n        </div>\r\n    </form>\r\n</div>\r\n<div [style.height.px]="tableHeight" [style.width.px]="width" class="farris-datatable-container">\r\n    <div class="farris-datatable">\r\n        <div #tableHeader class="farris-table-header" [style.display]="showHeader? \'\': \'none\'">\r\n            <datatable-header #dtHeader [size]="size" [columns]="columns" [singleSelect]="singleSelect" [data]="data"\r\n                (loadData)="loadData" (checkedAll)="onCheckAll($event)">\r\n                <ng-content select="data-columns"></ng-content>\r\n            </datatable-header>\r\n        </div>\r\n        <div #scorllableBody class="farris-table-scorllable-body" [style.height.px]="scorllableBodyHeight">\r\n            <perfect-scrollbar #perfectScrollbar [config]="{}" (psScrollX)="onScrollX($event)" (psScrollY)="onScrollY($event)">\r\n                <ng-container [style.display]="data && data.length ? \'block\': \'none\'">\r\n                    <datatable-body #dtBody [rows]="pagination ? (data | paginate: paginationOptions) : data" [size]="size" [columns]="columns" [striped]="striped"\r\n                        [bordered]="bordered" [rowClassName]="rowClassName" [cellClassName]="cellClassName" (cellClick)="onCellClick($event)">\r\n                    </datatable-body>\r\n                </ng-container>\r\n\r\n            </perfect-scrollbar>\r\n        </div>\r\n        <div class="farris-table-header" *ngIf="footer">\r\n            <ng-template [ngTemplateOutlet]="footer">\r\n            </ng-template>\r\n        </div>\r\n        <div *ngIf="pagination" #tablePager class="farris-table-pager" style="box-shadow: inset 0px 1px 0px 0px #e9ecf3;" >\r\n            <div #pgScrollbar style="width: 100%;position: absolute;overflow-x: unset;">\r\n                <pagination-controls #pager [id]="paginationOptions.id" [maxSize]="maxSize" [directionLinks]="directionLinks"\r\n                    [autoHide]="autoHide" [responsive]="responsive" [previousLabel]="labels.previousLabel" [nextLabel]="labels.nextLabel"\r\n                    [screenReaderPaginationLabel]="labels.screenReaderPaginationLabel" [screenReaderPageLabel]="labels.screenReaderPageLabel"\r\n                    [screenReaderCurrentLabel]="labels.screenReaderCurrentLabel" (pageChange)="onPageChange($event)"\r\n                    (pageSizeChange)="onPageSizeChange($event)" [viewMode]="pagerViewMode" [showGoToFirst]="true" [showGoToLast]="true"\r\n                    [showPageInfo]="showPageInfo" [showPageNumber]="showPageNumber" [showPageList]="showPageList" style="position: relative;"\r\n                >\r\n\r\n                    <div class="simple-pager-extend-area" *ngIf="pagerViewMode === \'simple\' && pagerExtendTemplate">\r\n                        <ng-template [ngTemplateOutlet]="pagerExtendTemplate" [ngTemplateOutletContext]="{$implicit: this}"></ng-template>\r\n                    </div>\r\n\r\n                </pagination-controls>\r\n            </div>\r\n        </div>\r\n        <div #dragLine *ngIf="resizableColumns" class="column-resizer-helper"></div>\r\n    </div>\r\n</div>',encapsulation:p.ViewEncapsulation.None,providers:[f],styles:[".farris-table-scorllable-body .ps__rail-x{z-index:2}.filter-row{display:-webkit-box;display:flex;margin:10px 0}.filter-row .search-text{-webkit-box-flex:1;flex:1;margin-left:10px}.filter-row .search-text .btn-outline-secondary{border-color:#ced4da}.filter-row .search-text .btn-outline-secondary:active,.filter-row .search-text .btn-outline-secondary:focus{box-shadow:none}.filter-row .form-control:focus{border-color:#ced4da;box-shadow:none}.filter-row .custom-select:focus{box-shadow:none}.farris-datatable{position:relative}.resizable-column{background-clip:padding-box;position:relative}.column-resizer{display:block;position:absolute!important;top:0;right:0;margin:0;width:.5em;height:100%;padding:0;cursor:col-resize;border:1px solid transparent}.column-resizer-helper{width:1px;position:absolute;z-index:10;display:none;background-color:#6c757d;opacity:.6}.farris-table-fixed-body,.farris-table-fixed-header{position:absolute;top:0;left:0;overflow:hidden;box-shadow:2px 0 6px -2px rgba(0,0,0,.2)}.farris-table-fixed-right-body,.farris-table-fixed-right-header{position:absolute;top:0;right:0;overflow:hidden;box-shadow:-2px 0 6px -2px rgba(0,0,0,.2)}.td-hidden{visibility:hidden}@media (min-width:576px){.td-sm-hidden{visibility:hidden!important}.td-sm-visible{visibility:visible!important}}@media (min-width:768px){.td-md-hidden{visibility:hidden!important}.td-md-visible{visibility:visible!important}}@media (min-width:992px){.td-lg-hidden{visibility:hidden!important}.td-lg-visible{visibility:visible!important}}@media (min-width:1200px){.td-xl-hidden{visibility:hidden!important}.td-xl-visible{visibility:visible!important}}"]}]}],x.ctorParameters=function(){return[{type:f},{type:l.IdService},{type:p.ElementRef},{type:p.ChangeDetectorRef},{type:p.NgZone}]},x.propDecorators={keydownEnterEdit:[{type:p.Input}],id:[{type:p.Input}],size:[{type:p.Input}],allColumnsTitle:[{type:p.Input}],width:[{type:p.Input}],height:[{type:p.Input}],searchAnyField:[{type:p.Input}],fill:[{type:p.Input}],pagination:[{type:p.Input}],pagerOnServer:[{type:p.Input}],pageSize:[{type:p.Input}],pageIndex:[{type:p.Input}],showPageInfo:[{type:p.Input}],showPageNumber:[{type:p.Input}],showPageList:[{type:p.Input}],pagerViewMode:[{type:p.Input}],pagerExtendTemplate:[{type:p.Input}],showHeader:[{type:p.Input}],pageList:[{type:p.Input}],total:[{type:p.Input}],columns:[{type:p.Input}],searchFields:[{type:p.Input}],showFilterBar:[{type:p.Input}],virtualized:[{type:p.Input}],autoFitColumns:[{type:p.Input}],data:[{type:p.Input}],remote:[{type:p.Input}],remoteSort:[{type:p.Input}],sortName:[{type:p.Input}],sortOrder:[{type:p.Input}],multiSort:[{type:p.Input}],beforeSortColumn:[{type:p.Input}],singleSelect:[{type:p.Input}],idField:[{type:p.Input}],hover:[{type:p.Input}],striped:[{type:p.Input}],bordered:[{type:p.Input}],rowClassName:[{type:p.Input}],cellClassName:[{type:p.Input}],rowStyler:[{type:p.Input}],cellStyler:[{type:p.Input}],selections:[{type:p.Input}],scorllableBody:[{type:p.ViewChild,args:["scorllableBody"]}],tableHeader:[{type:p.ViewChild,args:["tableHeader"]}],tablePager:[{type:p.ViewChild,args:["tablePager"]}],dtHeader:[{type:p.ViewChild,args:["dtHeader"]}],dtBody:[{type:p.ViewChild,args:["dtBody"]}],dtLeftBody:[{type:p.ViewChild,args:["dtLeftBody"]}],dtRightBody:[{type:p.ViewChild,args:["dtRightBody"]}],dtLeftFixed:[{type:p.ViewChild,args:["dtLeftFixed"]}],dtRightFixed:[{type:p.ViewChild,args:["dtRightFixed"]}],pager:[{type:p.ViewChild,args:["pager"]}],inputGroup:[{type:p.ViewChild,args:["inputgroup"]}],pgScrollbar:[{type:p.ViewChild,args:["pgScrollbar"]}],pageChanged:[{type:p.Output}],pageSizeChanged:[{type:p.Output}],search:[{type:p.Output}],columnSorted:[{type:p.Output}],rowDblClick:[{type:p.Output}],selectedRow:[{type:p.Output}],selectRows:[{type:p.Output}],unSelectRow:[{type:p.Output}],cellClick:[{type:p.Output}],clearSearchValue:[{type:p.Output}],checkAll:[{type:p.Output}],searchValueChange:[{type:p.Output}],sortChange:[{type:p.Output}],columnsRef:[{type:p.ContentChildren,args:[b]}],footer:[{type:p.ContentChild,args:["footer"]}],dragLine:[{type:p.ViewChild,args:["dragLine"]}],resizableColumns:[{type:p.Input}],keepSelect:[{type:p.Input}],perfectScrollbar:[{type:p.ViewChild,args:["perfectScrollbar"]}]},x);function x(e,t,i,n,o){var r=this;this.dataService=e,this.idService=t,this.el=i,this.cd=n,this.ngZone=o,this.searchButtonText='<i class="f-icon f-icon-search"></i>',this.keydownEnterEdit=!1,this.allColumnsTitle="所有列",this.searchAnyField=!0,this.fill=!1,this.pagination=!0,this.pagerOnServer=!0,this.pageSize=10,this.pageIndex=1,this.showPageInfo=!0,this.showPageNumber=!0,this.showPageList=!0,this.pagerViewMode="default",this.showHeader=!0,this._pageList=[10,20,30,50,100],this.total=0,this.showFilterBar=!1,this.virtualized=!1,this.autoFitColumns=!1,this._data=[],this.remote="client",this.remoteSort=!0,this.multiSort=!1,this.singleSelect=!0,this.idField="id",this.hover=!0,this.pageChanged=new p.EventEmitter,this.pageSizeChanged=new p.EventEmitter,this.search=new p.EventEmitter,this.columnSorted=new p.EventEmitter,this.rowDblClick=new p.EventEmitter,this.selectedRow=new p.EventEmitter,this.selectRows=new p.EventEmitter,this.unSelectRow=new p.EventEmitter,this.cellClick=new p.EventEmitter,this.clearSearchValue=new p.EventEmitter,this.checkAll=new p.EventEmitter,this.searchValueChange=new p.EventEmitter,this.sortChange=new p.EventEmitter,this.resizableColumns=!0,this.keepSelect=!0,this.hasRowTepml=!1,this.moveable=!1,this.searchData={field:"*",value:""},this.subscription=[],this.filter="",this.maxSize=7,this.directionLinks=!0,this.autoHide=!1,this.responsive=!0,this.paginationOptions={id:"Farris-DataTable-Pagination",itemsPerPage:this.pageSize,currentPage:this.pageIndex,pageList:this.pageList,totalItems:this.total,remote:this.pagerOnServer},this.labels={previousLabel:" ",nextLabel:" ",screenReaderPaginationLabel:"Pagination",screenReaderPageLabel:"page",screenReaderCurrentLabel:"You're on page"},this._currentRowIndex=-1,this._currentRow=undefined,this.isCheckAll=function(){if(!r.selections||!r.selections.length)return!1;if(!r.data||!r.data.length)return!1;var e=0;return r.selections.forEach(function(t){r.data.find(function(e){return e[r.idField]===t[r.idField]})&&(e+=1)}),r.data.length===e},this.mouseEnterOnPager=null,this.mouseLeaveOnPager=null,this.mouseWheelOnPager=null,this.trackByRows=function(e,t){return t?t[r.idField]:e},this.dataService.selectedRow.subscribe(function(e){r.singleSelect?(r._currentRowIndex=e.rowIndex,r._currentRow=e.rowData):r.selections&&(r.dtHeader.isCheckAll=r.isCheckAll())}),this.dataService.unSelectedRow.subscribe(function(e){r.singleSelect?(r._currentRow=undefined,r._currentRowIndex=-1):r.dtHeader.isCheckAll=!1})}var C=(I.prototype.ngOnInit=function(){"left"===this.fixed&&(this.columns=u(this.columns,"left")),"right"===this.fixed&&(this.columns=u(this.columns,"right"))},I.prototype.ngAfterViewInit=function(){},I.prototype.onCheckedChange=function(e){this.isCheckAll=e.checked,this.checkedAll.emit(e.checked)},I.prototype.createRowClassName=function(e,t){return this.rowClassName?this.rowClassName(e,t):""},I.prototype.compare=function(e,t){return"string"==typeof e?e.localeCompare(t):e===t?0:t<e?1:-1},I.prototype._sort=function(s,a){var l=0,c=this.dt.sortName.split(","),d=this.dt.sortOrder.split(",");if(!this.dt.sortName)return l;for(var e=function(e){var t=c[e],i=d[e],n=h.columns.find(function(e){return e.field===t}).sorter||h.compare,o=h.utils.getValue(t,s);null!==o&&o!==undefined||(o="");var r=h.utils.getValue(t,a);if(null!==r&&r!==undefined||(r=""),0!==(l=n(o,r)))return{value:l*("asc"===i?1:-1)}},h=this,t=0;t<c.length;t++){var i=e(t);if("object"==typeof i)return i.value}return l},I.prototype.clientSort=function(){var e=this.data.sort(this._sort.bind(this));this.loadData.emit(e)},I.prototype.onSortColumnClick=function(e,t){var i=this;if(t.sortable){var n=this.dt.sortName,o=this.dt.sortOrder,r=[],s=[];n&&(r=n.split(","),s=o.split(","));var a,l=t.order||"asc",c=l,d=r.findIndex(function(e){return e===t.field});if(0<=d){var h="asc"===s[d]?"desc":"asc";"asc"==(c=h)?(c=undefined,r.splice(d,1),s.splice(d,1)):s[d]=h}else this.dt.multiSort?(r.push(t.field),s.push(l)):(r=[t.field],s=[l]);t.order=c,this.dt.sortName=r.join(","),this.dt.sortOrder=s.join(","),this.dt.multiSort||(a=this.columns)&&a.length&&a.forEach(function(t){t.order=undefined;var e=r.findIndex(function(e){return e===t.field});0<=e&&(t.order=s[e])}),this.dt.beforeSortColumn(this.dt.sortName,this.dt.sortOrder).subscribe(function(){i.dt.remoteSort||i.clientSort(),i.dt.columnSorted.emit({sortName:i.dt.sortName,sortOrder:i.dt.sortOrder})})}},I.prototype.deepCopyData=function(){var e=g(this.columns),t=g(this.rows);return e.forEach(function(e){e.sortType="normal"}),{copyColumns:e,copyRows:t}},I.prototype.hasChecked=function(e){return this.filterFields.hasOwnProperty(e.field)&&this.filterFields[e.field].some(function(e){return e.checked}),!1},I.decorators=[{type:p.Component,args:[{selector:"datatable-header",template:'\n        <table class="table" [class.table-sm]="size === \'small\'">\n            <colgroup>\n                <col class="dt-checkbox-cell" *ngIf="!singleSelect" />\n                <col *ngFor="let col of columns" [style.width]="col.width + \'px\'" />\n            </colgroup>\n            <thead>\n                <tr>\n                    <th drag-column class="dt-checkbox-cell datatable-fixed-left" *ngIf="!singleSelect">\n                        <dt-checkbox #checkall *ngIf="data && data.length" [checked]="isCheckAll" (checkedChange)="onCheckedChange($event)"></dt-checkbox>\n                    </th>\n                    <th drag-column *ngFor="let col of columns; let i = index" #dragbar="resizeRef"\n                        [class.resizable-column]="dt.resizableColumns && !dt.hasFixed"\n                        [attr.field]="col.field"\n                        [style.textAlign]="col.hAlign || \'left\'" [class.datatable-fixed-right]="col[\'fixed\'] === \'right\'">\n                        <span [style.marginRight.px]="col.sortable ? 10: 0">{{ col.title }}</span>\n                        <ng-container *ngIf="col.sortable">\n                            <span *ngIf="col.order" class="f-datatable-sort"\n                                [ngClass]="{\n                                  \'f-datatable-sort-asc\':col.order === \'asc\',\n                                  \'f-datatable-sort-desc\':col.order === \'desc\'\n                                }"\n                                (click)="onSortColumnClick($event, col)">\n                            </span>\n                            <span *ngIf="!col.order" class="f-datatable-sort" (click)="onSortColumnClick($event, col)"></span>\n                        </ng-container>\n                        <span class="column-resizer" (mousedown)="dragbar.onMouseDown($event)" *ngIf="dt.resizableColumns && !dt.hasFixed"></span>\n                    </th>\n                </tr>\n            </thead>\n        </table>\n    ',styles:["th>div{display:inline-block;float:right;width:20%;height:0;margin-right:5%}th>div>span.sort-container{position:relative;display:inline-block;width:100%;height:1rem}th span.farris-icon{position:absolute;left:0;opacity:.5;cursor:pointer}th span.k-i-arrow-60-up{top:0}th span.k-i-arrow-60-down{top:.5em}th span.k-i-filter{top:-.5rem}th span.clicked,th span.k-i-filter:hover{opacity:1}.farris-table-header{overflow:auto}"]}]}],I.ctorParameters=function(){return[{type:p.ElementRef},{type:f},{type:p.Renderer2},{type:l.CommonUtils},{type:w}]},I.propDecorators={size:[{type:p.Input}],hover:[{type:p.Input}],columns:[{type:p.Input}],singleSelect:[{type:p.Input}],fixed:[{type:p.Input}],rows:[{type:p.Input}],data:[{type:p.Input}],rowClassName:[{type:p.Input}],checkedAll:[{type:p.Output}],rowsChange:[{type:p.Output}],loadData:[{type:p.Output}],checkallEl:[{type:p.ViewChild,args:["checkall"]}]},I);function I(e,t,i,n,o){var r=this;this.el=e,this.dataService=t,this.render=i,this.utils=n,this.dt=o,this.columns=[],this.singleSelect=!0,this.checkedAll=new p.EventEmitter,this.rowsChange=new p.EventEmitter,this.loadData=new p.EventEmitter,this.sortType={},this.filterFields={},this.clickedUp=!1,this.clickedDown=!1,this.isCheckAll=!1,this.allClass=" ",this.width="100%",this.allClass+=this.el.nativeElement.classList.value,this.dataService.updateCheckAllStatus.subscribe(function(e){r.isCheckAll=2!==e&&!!e})}var S=(k.prototype.ngOnInit=function(){},k.prototype.ondblclick=function(e){this.row&&this.dt.rowDblClick.emit(this.row),e.stopPropagation()},k.decorators=[{type:p.Directive,args:[{selector:"[dblclick]"}]}],k.ctorParameters=function(){return[{type:p.ElementRef},{type:w,decorators:[{type:p.Optional}]}]},k.propDecorators={row:[{type:p.Input,args:["dblclick"]}],ondblclick:[{type:p.HostListener,args:["dblclick",["$event"]]}]},k);function k(e,t){this.el=e,this.dt=t}var E=(Object.defineProperty(R.prototype,"selections",{get:function(){var t=this;if(this._selections){var e=Object.keys(this._selections);return e.length?this.dt.singleSelect?this._selections:e.map(function(e){return t._selections[e]}):undefined}},set:function(e){this._selections=e||{},this.dt.updateCheckboxState(this.rows)},enumerable:!0,configurable:!0}),R.prototype.ngOnInit=function(){var n=this;this.dataService.selectedAll.subscribe(function(t){var i=n.idField();n.rows.forEach(function(e){t?n._selections[e[i]]=e:delete n._selections[e[i]]})}),this.rows&&(this.isRowTempl=this.rows.some(function(e){return e.hasOwnProperty("rowTempl")})),"left"===this.fixed&&(this.columns=u(this.columns,"left")),"right"===this.fixed&&(this.columns=u(this.columns,"right")),this.emptyMessage=this.localeService.getValue("datagrid.emptyMessage")},R.prototype.ngAfterViewInit=function(){this._rows=this.el.nativeElement.querySelectorAll("tr"),this.checkBodyHeightWhenEmptyData()},R.prototype.checkBodyHeightWhenEmptyData=function(){!this.emptyTbodyElRef||this.rows&&this.rows.length||this.emptyTbodyElRef.nativeElement.offsetHeight<130&&(this.emptyTbodyElRef.nativeElement.style.height=this.dt.pagination?"150px":"120px")},R.prototype.ngOnChanges=function(e){var t=this;if(e.rows&&!e.rows.isFirstChange()&&!this.dt.singleSelect){var i=e.rows.currentValue||[],n=i.map(function(e){return t.isSelected(e)?e:0}).filter(function(e){return e});if(!i.length)return void this.dataService.updateCheckAllStatus.next(0);var o=this.idField(),r=0;i.forEach(function(t){n.find(function(e){return e[o]===t[o]})&&(r+=1)}),i.length===r?this.dataService.updateCheckAllStatus.next(1):0===n.length?this.dataService.updateCheckAllStatus.next(0):this.dataService.updateCheckAllStatus.next(2)}},R.prototype.getValue=function(e,t){return-1===e.indexOf(".")?t[e]:e.split(".").reduce(function(e,t){return e[t]},t)||""},R.prototype.selectedRow=function(e,t,i){e&&(e.stopPropagation(),e.preventDefault());var n=!1,o=this.idField();this.dt.singleSelect?this.selectedRowIndex===t&&this._selections&&this._selections[o]===i[o]?this.dt.keepSelect?n=!0:(this.selectedRowIndex=-1,this._selections=undefined,n=!1,this.dataService.unSelectedRow.next({rowIndex:t,rowData:i})):(this.selectedRowIndex=t,this._selections=i,n=!0,this.dataService.selectedRow.next({rowIndex:t,rowData:i})):this.isSelected(i)?(delete this._selections[i[o]],n=!1,this.dataService.unSelectedRow.next({rowIndex:t,rowData:i})):(this._selections[i[this.idField()]]=i,n=!0,this.dataService.selectedRow.next({rowIndex:t,rowData:i})),n?(this.dt.selectedRow.emit({data:i,index:t}),this.dt.selectRows.emit({data:i,index:t})):this.dt.unSelectRow.emit({data:i,index:t})},R.prototype.onChecked=function(e,t,i){var n=e.checked,o=this.dt.idField;n?(this._selections[i[o]]=i,this.dataService.selectedRow.next({rowIndex:t,rowData:i}),this.dt.selectedRow.emit({data:i,index:t}),this.dt.selectRows.emit({data:i,index:t})):(delete this._selections[i[o]],this.dataService.unSelectedRow.next({rowIndex:t,rowData:i}),this.dt.unSelectRow.emit({data:i,index:t})),e.originalEvent.stopPropagation()},R.prototype.idField=function(){return this.dt.idField},R.prototype.isSelected=function(e,t){var i=this.idField();return!!this._selections&&(this.dt.singleSelect?this._selections[i]===e[i]:this._selections[e[i]]!==undefined)},R.prototype.formatData=function(e,t,i){var n=this.utils.getValue(e,t,!0);return this.colFormatSer.format(n,t,i)},R.prototype.getTdClassName=function(e,t){var i={};return t.className&&"[object String]"===Object.prototype.toString.call(t.className)&&(i[t.className]=!0),this.cellClassName&&this.cellClassName(e,t)&&(i[this.cellClassName(e,t)]=!0),i},R.prototype.createRowClassName=function(e,t){return this.rowClassName?this.rowClassName(e,t):""},R.prototype.onCellClick=function(e,t,i){this.cellClick.emit({event:e,col:t,row:i})},R.prototype.renderRowStyle=function(e,t){return this.dt.rowStyler?this.dt.rowStyler({data:e,index:t}):""},R.prototype.renderCellStyle=function(e,t,i,n){return this.dt.cellStyler?this.dt.cellStyler({value:e,data:t,index:i,col:n,field:n.field}):""},R.decorators=[{type:p.Component,args:[{selector:"datatable-body",template:'\n        <table\n            class="table"\n            [class.table-sm]="size === \'small\'"\n            [class.table-hover]="dt.hover"\n            [class.table-striped]="striped"\n            [class.table-bordered]="bordered"\n            [class.f-table-norecords]="!rows || !rows.length"\n            style="border-collapse: separate;border-spacing: 0;"\n        >\n            <colgroup>\n                <col class="dt-checkbox-cell" *ngIf="!dt.singleSelect" />\n                <col *ngFor="let col of columns" [style.width]="col.width + \'px\'" />\n            </colgroup>\n\n            <tbody class="ui-table-tbody " *ngIf="rows && rows.length">\n                <tr\n                    *ngFor="let row of rows; trackBy: dt.trackByRows; let rowIndex = index"\n                    [ngClass]="createRowClassName(row, rowIndex)"\n                    (click)="selectedRow($event, rowIndex, row)"\n                    [class.selected]="isSelected(row, tr)" #tr\n                    [dblclick]="row"\n                    [ngStyle]="renderRowStyle(row, rowIndex)"\n                >\n                    <td class="dt-checkbox-cell datatable-fixed-left" *ngIf="!dt.singleSelect" \n                    [cell-styler]="{row: row, index: rowIndex}">\n                        <dt-checkbox\n                            [checked]="isSelected(row, tr)"\n                            (checkedChange)="onChecked($event, rowIndex, row)"\n                        ></dt-checkbox>\n                    </td>\n                    <td\n                        [ngClass]="getTdClassName(row[col.field], col)"\n                        *ngFor="let col of columns; let colIndex = index"\n                        [style.textAlign]="col.align || \'left\'"\n                        \n                        (click)="onCellClick($event, col, row)"\n                        [class.datatable-fixed-right]="col[\'fixed\'] === \'right\'"\n                        [cell-styler]="{val:utils.getValue(col.field, row), row: row, index: rowIndex, col: col}"\n                    >\n                        <ng-container *ngIf="!col.cellTempl; else cellTemp">\n                            <span *ngIf="col.formatter" [innerHTML]="formatData(col.field, row, col.formatter) | safe:\'html\'" ></span>\n                            \x3c!-- <span *ngIf="col.formatter" [innerHTML]=" col.field | getvalue: row | columnformatter: col : row | safe: \'html\'" ></span> --\x3e\n                            <span *ngIf="!col.formatter" [title]="utils.getValue(col.field, row)"\n                             [textContent]="utils.getValue(col.field, row)"></span>\n                        </ng-container>\n                        <ng-template\n                            #cellTemp\n                            [ngTemplateOutlet]="col.cellTempl"\n                            [ngTemplateOutletContext]="{\n                                $implicit: row,\n                                rowIndex: rowIndex,\n                                value: row[col.field]\n                            }"\n                        ></ng-template>\n                    </td>\n                </tr>\n            </tbody>\n\n            <tbody class="ui-table-tbody" *ngIf="!rows || !rows.length" #emptyTbody>\n                <tr class="f-table-norecords-row">\n                    <td [attr.align]="\'center\'"\n                        class="farris-treetable-emptydata"\n                        [attr.colspan]="columns.length"\n                    >\n                        <div\n                            class="f-table-norecords-content"\n                            [innerHTML]="emptyMessage | safe: \'html\'"\n                        ></div>\n                    </td>\n                </tr>\n            </tbody>\n        </table>\n    ',styles:["\n            .table td:focus-within {\n                box-shadow: inset 0 0 0 2px rgba(0, 0, 0, 0.13);\n            }\n            .table td div {\n                width: 100%;\n                height: 100%;\n            }\n            .table td input {\n                width: 100%;\n                height: 100%;\n                font-family: auto;\n                line-height: 1;\n                font-size: 13px;\n            }\n            .table td input:focus {\n                border: 0;\n            }\n            input[type='checkbox']:focus {\n                outline: none;\n            }\n\n            .f-table-norecords-row:hover {\n                background-color: transparent!important;\n                cursor: default!important;\n            }\n        "]}]}],R.ctorParameters=function(){return[{type:p.ElementRef},{type:f},{type:p.Renderer2},{type:w,decorators:[{type:p.Optional}]},{type:c.ColumnFormatService},{type:l.CommonUtils},{type:p.Injector}]},R.propDecorators={size:[{type:p.Input}],hover:[{type:p.Input}],bordered:[{type:p.Input}],striped:[{type:p.Input}],columns:[{type:p.Input}],fixed:[{type:p.Input}],rows:[{type:p.Input}],rowClassName:[{type:p.Input}],cellClassName:[{type:p.Input}],rowDblClick:[{type:p.Output}],selectRow:[{type:p.Output}],cellEdit:[{type:p.Output}],cellClick:[{type:p.Output}],emptyTbodyElRef:[{type:p.ViewChild,args:["emptyTbody"]}]},R);function R(e,t,i,n,o,r,s){this.el=e,this.dataService=t,this.render=i,this.dt=n,this.colFormatSer=o,this.utils=r,this.injector=s,this.rows=[],this.rowDblClick=new p.EventEmitter,this.selectRow=new p.EventEmitter,this.cellEdit=new p.EventEmitter,this.cellClick=new p.EventEmitter,this.lastRowIndex=0,this.lastColumnIndex=0,this.edit={},this.className={},this.isRowTempl=!1,this.selectedRowIndex=-1,this._selections={},this.emptyMessage="暂无数据",this.localeService=this.injector.get(a.LocaleService),this.ngzone=this.injector.get(p.NgZone,null)}var O=(P.decorators=[{type:p.Component,args:[{selector:"datatable-footer",template:'\n    <div class="table"\n    [class.table-hover]="hover">\n        <ng-container *ngIf="!tableFooter">\n                <table class="table table-hover">\n                        <colgroup>\n                            <col class="dt-checkbox-cell" />\n                            <col *ngFor="let col of columns" [style.width]="col.width + \'px\'" />\n                        </colgroup>\n                        <thead>\n                            <tr>\n                                <th class="dt-checkbox-cell">\n                                    \n                                </th>\n                                <th  *ngFor="let col of columns" [attr.align]="col.align" >{{ col.title }}</th>\n                            </tr>\n                        </thead>\n                    </table>\n        </ng-container>\n</div>\n    '}]}],P.ctorParameters=function(){return[]},P.propDecorators={hover:[{type:p.Input}],columns:[{type:p.Input}],tableFooter:[{type:p.Input},{type:p.ContentChild,args:[p.TemplateRef]}]},P);function P(){}var L=(D.prototype.ngOnInit=function(){},D.prototype.handleClick=function(e){this.disabled||this.checkedChange.emit({originalEvent:e,checked:!this.checked})},D.decorators=[{type:p.Component,args:[{selector:"dt-checkbox",template:'\n        <div class="custom-control custom-checkbox  custom-control-inline dt-checkbox f-checkradio-single">\n            <input type="checkbox" class="custom-control-input"  [checked]="checked">\n            <label class="custom-control-label" (click)="handleClick($event)"></label>\n        </div>\n    '}]}],D.ctorParameters=function(){return[]},D.propDecorators={checked:[{type:p.Input}],id:[{type:p.Input}],disabled:[{type:p.Input}],checkedChange:[{type:p.Output}]},D);function D(){this.checkedChange=new p.EventEmitter}var F=(z.prototype.ngAfterViewInit=function(){},z.prototype.isEnable=function(){return this.dt.resizableColumns&&!this.dt.hasFixed},z.prototype.bindDocumentEvents=function(){var e=this;this.ngzone.runOutsideAngular(function(){e.documentMouseMoveListener=e.onMouseMove.bind(e),document.addEventListener("mousemove",e.documentMouseMoveListener),e.documentMouseUpListener=e.onMouseUp.bind(e),document.addEventListener("mouseup",e.documentMouseUpListener)})},z.prototype.unbindDocumentEvents=function(){this.documentMouseMoveListener&&(document.removeEventListener("mousemove",this.documentMouseMoveListener),this.documentMouseMoveListener=null),this.documentMouseUpListener&&(document.removeEventListener("mouseup",this.documentMouseUpListener),this.documentMouseUpListener=null)},z.prototype.onMouseDown=function(e){this.dt.beginDrag(e),this.bindDocumentEvents()},z.prototype.onMouseMove=function(e){this.dt.moveDrag(e)},z.prototype.onMouseUp=function(e){this.dt.stopDrag(e,this.el.nativeElement),this.unbindDocumentEvents()},z.prototype.ngOnDestroy=function(){this.unbindDocumentEvents()},z.decorators=[{type:p.Directive,args:[{selector:"[drag-column]",exportAs:"resizeRef"}]}],z.ctorParameters=function(){return[{type:w},{type:p.NgZone},{type:p.ElementRef},{type:p.Renderer2}]},z);function z(e,t,i,n){this.dt=e,this.ngzone=t,this.el=i,this.render=n}var N=(T.prototype.ngOnInit=function(){var t=this;if(this.dtb&&this.options){var e=this.options,i=e.val,n=e.row,o=e.col,r=e.index,s=null;if(o){var a=this.dtb.renderRowStyle(n,r)||{},l=this.dtb.renderCellStyle(i,n,r,o)||{};s=l,"right"!==o.fixed||null!==Object.keys(l).find(function(e){return-1<["background","background-color","backgroundcolor"].indexOf(e.toLowerCase())})&&(s=Object.assign(l,a))}else s=this.dtb.renderRowStyle(n,r)||{};s&&Object.keys(s).forEach(function(e){t.elRef.nativeElement.style.setProperty(e,s[e],"important")})}},T.decorators=[{type:p.Directive,args:[{selector:"[cell-styler]"}]}],T.ctorParameters=function(){return[{type:E},{type:p.ElementRef},{type:p.Renderer2}]},T.propDecorators={options:[{type:p.Input,args:["cell-styler"]}]},T);function T(e,t,i){this.dtb=e,this.elRef=t,this.render=i,this.options=null}var M=(V.decorators=[{type:p.NgModule,args:[{imports:[n.CommonModule,o.FormsModule,r.PerfectScrollbarModule,s.PaginationModule,l.FarrisCommonModule.forRoot(),d.InputGroupModule,c.DataColumnModule.forRoot(),h.FarrisFormsModule],exports:[w,C,b,E,l.FarrisCommonModule,O,F],declarations:[w,C,b,F,E,L,O,S,N],providers:[]}]}],V);function V(){}e.DataTableHeaderComponent=C,e.DTDblClickRowDirective=S,e.DataTableBodyComponent=E,e.DatatableFooterComponent=O,e.DTCheckboxComponent=L,e.ColumnDirective=b,e.convertColumns=u,e.deepCopy=g,e.toUpper=function(e){var t=JSON.parse(e.replace(/\\/g,""));return g(t)},e.DataTableComponent=w,e.DataTableService=f,e.DragColumnDirective=F,e.DataTableModule=M,e.CellStylerDirective=N,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=farris-ui-datatable.umd.min.js.map