/**
 * @fileoverview added by tsickle
 * Generated from: lib/ui-services/dialog.service.ts
 * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { from } from 'rxjs';
import { Dialog } from '@farris/mobile-ui';
class DialogService {
    /**
     * 提示对话框
     * \@summary
     * type=info|success|warning|error
     * @param {?} message
     * @param {?=} options
     * @return {?}
     */
    alert(message, options) {
        /** @type {?} */
        const promise$ = new Promise((/**
         * @param {?} resolve
         * @param {?} reject
         * @return {?}
         */
        (resolve, reject) => {
            Dialog.alert(Object.assign({ title: '提醒', message: message, cancelText: '取消', confirmText: '确定', onConfirm: (/**
                 * @return {?}
                 */
                () => { resolve(true); }), onCancel: (/**
                 * @return {?}
                 */
                () => { resolve(false); }) }, options));
        }));
        return from(promise$);
    }
    /**
     * 确认框对话框
     * @param {?} message
     * @return {?}
     */
    confirm(message) {
        /** @type {?} */
        const confirmResult$ = this.confirmPromise(message);
        return from(confirmResult$);
    }
    /**
     * 自定义弹窗
     * @param {?} options
     * @return {?}
     */
    show(options) {
        this.confirmPromise(options);
    }
    /**
     * 输入对话框
     * @param {?} title 标题
     * @param {?=} options 配置信息
     * @return {?}
     */
    prompt(title, options) {
        /** @type {?} */
        const promise$ = new Promise((/**
         * @param {?} resolve
         * @param {?} reject
         * @return {?}
         */
        (resolve, reject) => {
            /** @type {?} */
            const vm = Dialog.prompt(Object.assign({ title: title, confirmText: '确定', onConfirm: (/**
                 * @return {?}
                 */
                () => {
                    resolve(vm.$data.promptText);
                }), onCancel: (/**
                 * @return {?}
                 */
                () => { resolve('取消'); }), onShow: (/**
                 * @return {?}
                 */
                () => {
                    console.log('显示弹窗');
                }) }, options));
        }));
        return from(promise$);
    }
    /**
     * 使用Promise实例包装回调方法，以同步回调方法执行后结果
     * @private
     * @param {?=} message
     * @return {?}
     */
    confirmPromise(message) {
        return new Promise((/**
         * @param {?} resolve
         * @param {?} reject
         * @return {?}
         */
        (resolve, reject) => {
            Dialog.confirm({
                message: message,
                onConfirm: (/**
                 * @return {?}
                 */
                () => { resolve(true); }),
                onCancel: (/**
                 * @return {?}
                 */
                () => { resolve(false); }),
            });
        }));
    }
}
export { DialogService };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGlhbG9nLnNlcnZpY2UuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9AZmFycmlzL21vYmlsZS1jb21tYW5kLXNlcnZpY2VzLyIsInNvdXJjZXMiOlsibGliL3VpLXNlcnZpY2VzL2RpYWxvZy5zZXJ2aWNlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7O0FBQUEsT0FBTyxFQUFjLElBQUksRUFBUyxNQUFNLE1BQU0sQ0FBQztBQUMvQyxPQUFPLEVBQUUsTUFBTSxFQUFFLE1BQU0sbUJBQW1CLENBQUM7QUFFM0MsTUFBTSxhQUFhOzs7Ozs7Ozs7SUFPakIsS0FBSyxDQUFDLE9BQWUsRUFBRSxPQUFhOztjQUM1QixRQUFRLEdBQXFCLElBQUksT0FBTzs7Ozs7UUFBQyxDQUFDLE9BQU8sRUFBRSxNQUFNLEVBQUUsRUFBRTtZQUNqRSxNQUFNLENBQUMsS0FBSyxpQkFDVixLQUFLLEVBQUUsSUFBSSxFQUNYLE9BQU8sRUFBRSxPQUFPLEVBQ2hCLFVBQVUsRUFBRSxJQUFJLEVBQ2hCLFdBQVcsRUFBRSxJQUFJLEVBQ2pCLFNBQVM7OztnQkFBRSxHQUFHLEVBQUUsR0FBRyxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUEsQ0FBQyxDQUFDLEdBQ2xDLFFBQVE7OztnQkFBRSxHQUFHLEVBQUUsR0FBRyxPQUFPLENBQUMsS0FBSyxDQUFDLENBQUEsQ0FBQyxDQUFDLEtBQy9CLE9BQU8sRUFDVixDQUFDO1FBQ0wsQ0FBQyxFQUFDO1FBQ0YsT0FBTyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUM7SUFDeEIsQ0FBQzs7Ozs7O0lBS0QsT0FBTyxDQUFDLE9BQWU7O2NBQ2YsY0FBYyxHQUFxQixJQUFJLENBQUMsY0FBYyxDQUFDLE9BQU8sQ0FBQztRQUNyRSxPQUFPLElBQUksQ0FBQyxjQUFjLENBQUMsQ0FBQztJQUM5QixDQUFDOzs7Ozs7SUFLRCxJQUFJLENBQUMsT0FBWTtRQUNmLElBQUksQ0FBQyxjQUFjLENBQUMsT0FBTyxDQUFDLENBQUM7SUFDL0IsQ0FBQzs7Ozs7OztJQU9ELE1BQU0sQ0FBQyxLQUFhLEVBQUUsT0FBYTs7Y0FDM0IsUUFBUSxHQUFvQixJQUFJLE9BQU87Ozs7O1FBQUMsQ0FBQyxPQUFPLEVBQUUsTUFBTSxFQUFFLEVBQUU7O2tCQUMxRCxFQUFFLEdBQUcsTUFBTSxDQUFDLE1BQU0saUJBQ3RCLEtBQUssRUFBRSxLQUFLLEVBQ1osV0FBVyxFQUFFLElBQUksRUFDakIsU0FBUzs7O2dCQUFFLEdBQUcsRUFBRTtvQkFDZCxPQUFPLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQyxVQUFVLENBQUMsQ0FBQztnQkFDL0IsQ0FBQyxHQUNELFFBQVE7OztnQkFBRSxHQUFHLEVBQUUsR0FBRyxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQ2xDLE1BQU07OztnQkFBRSxHQUFHLEVBQUU7b0JBQ1gsT0FBTyxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsQ0FBQztnQkFDdEIsQ0FBQyxLQUNFLE9BQU8sRUFDVjtRQUNKLENBQUMsRUFBQztRQUNGLE9BQU8sSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDO0lBQ3hCLENBQUM7Ozs7Ozs7SUFLTyxjQUFjLENBQUMsT0FBZ0I7UUFDckMsT0FBTyxJQUFJLE9BQU87Ozs7O1FBQUMsQ0FBQyxPQUFPLEVBQUUsTUFBTSxFQUFFLEVBQUU7WUFDckMsTUFBTSxDQUFDLE9BQU8sQ0FBQztnQkFDYixPQUFPLEVBQUUsT0FBTztnQkFDaEIsU0FBUzs7O2dCQUFFLEdBQUcsRUFBRSxHQUFHLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQTtnQkFDbkMsUUFBUTs7O2dCQUFFLEdBQUcsRUFBRSxHQUFHLE9BQU8sQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQTthQUNwQyxDQUFDLENBQUE7UUFDSixDQUFDLEVBQUMsQ0FBQztJQUNMLENBQUM7Q0FDRjtBQUVELE9BQU8sRUFBRSxhQUFhLEVBQUUsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE9ic2VydmFibGUsIGZyb20sIEVNUFRZIH0gZnJvbSAncnhqcyc7XHJcbmltcG9ydCB7IERpYWxvZyB9IGZyb20gJ0BmYXJyaXMvbW9iaWxlLXVpJztcclxuXHJcbmNsYXNzIERpYWxvZ1NlcnZpY2Uge1xyXG5cclxuICAvKipcclxuICAgKiDmj5DnpLrlr7nor53moYZcclxuICAgKiBAc3VtbWFyeVxyXG4gICAqIHR5cGU9aW5mb3xzdWNjZXNzfHdhcm5pbmd8ZXJyb3JcclxuICAgKi9cclxuICBhbGVydChtZXNzYWdlOiBzdHJpbmcsIG9wdGlvbnM/OiBhbnkpOiBPYnNlcnZhYmxlPGJvb2xlYW4+IHtcclxuICAgIGNvbnN0IHByb21pc2UkOiBQcm9taXNlPGJvb2xlYW4+ID0gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICBEaWFsb2cuYWxlcnQoe1xyXG4gICAgICAgIHRpdGxlOiAn5o+Q6YaSJyxcclxuICAgICAgICBtZXNzYWdlOiBtZXNzYWdlLFxyXG4gICAgICAgIGNhbmNlbFRleHQ6ICflj5bmtognLFxyXG4gICAgICAgIGNvbmZpcm1UZXh0OiAn56Gu5a6aJyxcclxuICAgICAgICBvbkNvbmZpcm06ICgpID0+IHsgcmVzb2x2ZSh0cnVlKSB9LFxyXG4gICAgICAgIG9uQ2FuY2VsOiAoKSA9PiB7IHJlc29sdmUoZmFsc2UpIH0sXHJcbiAgICAgICAgLi4ub3B0aW9uc1xyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIGZyb20ocHJvbWlzZSQpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICog56Gu6K6k5qGG5a+56K+d5qGGXHJcbiAgICovXHJcbiAgY29uZmlybShtZXNzYWdlOiBzdHJpbmcpOiBPYnNlcnZhYmxlPGJvb2xlYW4+IHtcclxuICAgIGNvbnN0IGNvbmZpcm1SZXN1bHQkOiBQcm9taXNlPGJvb2xlYW4+ID0gdGhpcy5jb25maXJtUHJvbWlzZShtZXNzYWdlKTtcclxuICAgIHJldHVybiBmcm9tKGNvbmZpcm1SZXN1bHQkKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIOiHquWumuS5ieW8ueeql1xyXG4gICAqL1xyXG4gIHNob3cob3B0aW9uczogYW55KTogdm9pZCB7XHJcbiAgICB0aGlzLmNvbmZpcm1Qcm9taXNlKG9wdGlvbnMpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICog6L6T5YWl5a+56K+d5qGGXHJcbiAgICogQHBhcmFtIHRpdGxlIOagh+mimFxyXG4gICAqIEBwYXJhbSBvcHRpb25zIOmFjee9ruS/oeaBr1xyXG4gICAqL1xyXG4gIHByb21wdCh0aXRsZTogc3RyaW5nLCBvcHRpb25zPzogYW55KTogT2JzZXJ2YWJsZTxzdHJpbmc+IHtcclxuICAgIGNvbnN0IHByb21pc2UkOiBQcm9taXNlPHN0cmluZz4gPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgIGNvbnN0IHZtID0gRGlhbG9nLnByb21wdCh7XHJcbiAgICAgICAgdGl0bGU6IHRpdGxlLFxyXG4gICAgICAgIGNvbmZpcm1UZXh0OiAn56Gu5a6aJyxcclxuICAgICAgICBvbkNvbmZpcm06ICgpID0+IHtcclxuICAgICAgICAgIHJlc29sdmUodm0uJGRhdGEucHJvbXB0VGV4dCk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBvbkNhbmNlbDogKCkgPT4geyByZXNvbHZlKCflj5bmtognKTsgfSxcclxuICAgICAgICBvblNob3c6ICgpID0+IHtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKCfmmL7npLrlvLnnqpcnKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIC4uLm9wdGlvbnNcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICAgIHJldHVybiBmcm9tKHByb21pc2UkKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIOS9v+eUqFByb21pc2Xlrp7kvovljIXoo4Xlm57osIPmlrnms5XvvIzku6XlkIzmraXlm57osIPmlrnms5XmiafooYzlkI7nu5PmnpxcclxuICAgKi9cclxuICBwcml2YXRlIGNvbmZpcm1Qcm9taXNlKG1lc3NhZ2U/OiBzdHJpbmcpOiBQcm9taXNlPGJvb2xlYW4+IHtcclxuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgIERpYWxvZy5jb25maXJtKHtcclxuICAgICAgICBtZXNzYWdlOiBtZXNzYWdlLFxyXG4gICAgICAgIG9uQ29uZmlybTogKCkgPT4geyByZXNvbHZlKHRydWUpOyB9LFxyXG4gICAgICAgIG9uQ2FuY2VsOiAoKSA9PiB7IHJlc29sdmUoZmFsc2UpOyB9LFxyXG4gICAgICB9KVxyXG4gICAgfSk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgeyBEaWFsb2dTZXJ2aWNlIH07XHJcbiJdfQ==