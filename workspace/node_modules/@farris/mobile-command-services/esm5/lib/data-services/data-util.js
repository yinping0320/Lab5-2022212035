/**
 * @fileoverview added by tsickle
 * Generated from: lib/data-services/data-util.ts
 * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
/**
 * 数据工具类
 * \@summary
 * 数据相关的工具方法临时放在这里
 */
var /**
 * 数据工具类
 * \@summary
 * 数据相关的工具方法临时放在这里
 */
DataUtil = /** @class */ (function () {
    function DataUtil() {
    }
    /**
     * 将BindingPath转换为EntityPath
     */
    /**
     * 将BindingPath转换为EntityPath
     * @param {?} bindingPath
     * @param {?} viewModelContext
     * @return {?}
     */
    DataUtil.convertBindingPathToEntityPath = /**
     * 将BindingPath转换为EntityPath
     * @param {?} bindingPath
     * @param {?} viewModelContext
     * @return {?}
     */
    function (bindingPath, viewModelContext) {
        /** @type {?} */
        var rid = viewModelContext.bindingData.list.currentId;
        // root表数据id
        /** @type {?} */
        var path = '/' + rid;
        /** @type {?} */
        var subPaths = bindingPath.split('/');
        if (subPaths.length > 0) {
            for (var index = 1; index < subPaths.length - 1; index++) {
                /** @type {?} */
                var subPath = subPaths[index];
                /** @type {?} */
                var subData = viewModelContext.bindingData[subPath];
                if (!subData || !subData.currentId) {
                    throw Error("\u83B7\u53D6\u5B50\u8868\u5B8C\u6574\u8DEF\u5F84\u51FA\u9519\uFF0C\u627E\u4E0D\u5230" + subData + "\u5BF9\u5E94\u7684\u5B50\u8868\uFF0C\u6216\u5BF9\u5E94\u5B50\u8868\u6CA1\u6709\u5F53\u524D\u884C\u3002");
                }
                path += "/" + subPath + "/" + subData.currentId;
            }
        }
        path += '/' + subPaths[subPaths.length - 1];
        return path;
    };
    /**
     * @param {?} viewModelContext
     * @return {?}
     */
    DataUtil.clearFromValidateType = /**
     * @param {?} viewModelContext
     * @return {?}
     */
    function (viewModelContext) {
        /** @type {?} */
        var contexts = viewModelContext.appContext.viewModelContextManager.getContexts();
        /** @type {?} */
        var contextsChild = contexts.filter((/**
         * @param {?} item
         * @return {?}
         */
        function (item) { return (item.parent && viewModelContext.id === item.parent.id); }));
        if (contextsChild.length >= 1) {
            contextsChild.forEach((/**
             * @param {?} item
             * @return {?}
             */
            function (item) {
                item.form.resetFieldsValidate();
            }));
        }
    };
    /**
     * @param {?} parame
     * @return {?}
     */
    DataUtil.stringTransformArray = /**
     * @param {?} parame
     * @return {?}
     */
    function (parame) {
        if (this.parameIsThreeBoss(parame)) {
            return [];
        }
        else {
            return JSON.parse(parame);
        }
    };
    /**
     * 检测参数是否属于三大幻神 ''  undefined  null
     */
    /**
     * 检测参数是否属于三大幻神 ''  undefined  null
     * @param {?} parame
     * @return {?}
     */
    DataUtil.parameIsThreeBoss = /**
     * 检测参数是否属于三大幻神 ''  undefined  null
     * @param {?} parame
     * @return {?}
     */
    function (parame) {
        if (parame === '' || parame === undefined || parame === null) {
            return true;
        }
        else {
            return false;
        }
    };
    return DataUtil;
}());
export { DataUtil };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGF0YS11dGlsLmpzIiwic291cmNlUm9vdCI6Im5nOi8vQGZhcnJpcy9tb2JpbGUtY29tbWFuZC1zZXJ2aWNlcy8iLCJzb3VyY2VzIjpbImxpYi9kYXRhLXNlcnZpY2VzL2RhdGEtdXRpbC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBT0E7Ozs7OztJQUFBO0lBcURBLENBQUM7SUFuREM7O09BRUc7Ozs7Ozs7SUFDVyx1Q0FBOEI7Ozs7OztJQUE1QyxVQUE2QyxXQUFtQixFQUFFLGdCQUFrQzs7WUFDNUYsR0FBRyxHQUFHLGdCQUFnQixDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsU0FBUzs7O1lBQ25ELElBQUksR0FBRyxHQUFHLEdBQUcsR0FBRzs7WUFFZCxRQUFRLEdBQUcsV0FBVyxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUM7UUFDdkMsSUFBSSxRQUFRLENBQUMsTUFBTSxHQUFHLENBQUMsRUFBRTtZQUN2QixLQUFLLElBQUksS0FBSyxHQUFHLENBQUMsRUFBRSxLQUFLLEdBQUcsUUFBUSxDQUFDLE1BQU0sR0FBRyxDQUFDLEVBQUUsS0FBSyxFQUFFLEVBQUU7O29CQUNsRCxPQUFPLEdBQUcsUUFBUSxDQUFDLEtBQUssQ0FBQzs7b0JBQ3pCLE9BQU8sR0FBRyxnQkFBZ0IsQ0FBQyxXQUFXLENBQUMsT0FBTyxDQUFDO2dCQUNyRCxJQUFJLENBQUMsT0FBTyxJQUFJLENBQUMsT0FBTyxDQUFDLFNBQVMsRUFBRTtvQkFDbEMsTUFBTSxLQUFLLENBQUMseUZBQWlCLE9BQU8sMkdBQW1CLENBQUMsQ0FBQztpQkFDMUQ7Z0JBQ0QsSUFBSSxJQUFJLE1BQUksT0FBTyxTQUFJLE9BQU8sQ0FBQyxTQUFXLENBQUM7YUFDNUM7U0FDRjtRQUNELElBQUksSUFBSSxHQUFHLEdBQUcsUUFBUSxDQUFDLFFBQVEsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFFNUMsT0FBTyxJQUFJLENBQUM7SUFDZCxDQUFDOzs7OztJQUVhLDhCQUFxQjs7OztJQUFuQyxVQUFvQyxnQkFBa0M7O1lBQzlELFFBQVEsR0FBRyxnQkFBZ0IsQ0FBQyxVQUFVLENBQUMsdUJBQXVCLENBQUMsV0FBVyxFQUFFOztZQUM1RSxhQUFhLEdBQUcsUUFBUSxDQUFDLE1BQU07Ozs7UUFBQyxVQUFBLElBQUksSUFBTSxPQUFPLENBQUMsSUFBSSxDQUFDLE1BQU0sSUFBSSxnQkFBZ0IsQ0FBQyxFQUFFLEtBQUssSUFBSSxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUMsQ0FBQSxDQUFDLENBQUMsRUFBQztRQUNqSCxJQUFJLGFBQWEsQ0FBQyxNQUFNLElBQUksQ0FBQyxFQUFFO1lBQzdCLGFBQWEsQ0FBQyxPQUFPOzs7O1lBQUMsVUFBQSxJQUFJO2dCQUN4QixJQUFJLENBQUMsSUFBSSxDQUFDLG1CQUFtQixFQUFFLENBQUE7WUFDakMsQ0FBQyxFQUFDLENBQUE7U0FDSDtJQUNILENBQUM7Ozs7O0lBRWEsNkJBQW9COzs7O0lBQWxDLFVBQW1DLE1BQU07UUFDdkMsSUFBSSxJQUFJLENBQUMsaUJBQWlCLENBQUMsTUFBTSxDQUFDLEVBQUU7WUFDbEMsT0FBTyxFQUFFLENBQUE7U0FDVjthQUFNO1lBQ0wsT0FBTyxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxDQUFDO1NBQzNCO0lBQ0gsQ0FBQztJQUVEOztPQUVHOzs7Ozs7SUFDVywwQkFBaUI7Ozs7O0lBQS9CLFVBQWdDLE1BQU07UUFDcEMsSUFBSSxNQUFNLEtBQUssRUFBRSxJQUFJLE1BQU0sS0FBSyxTQUFTLElBQUksTUFBTSxLQUFLLElBQUksRUFBRTtZQUM1RCxPQUFPLElBQUksQ0FBQTtTQUNaO2FBQU07WUFDTCxPQUFPLEtBQUssQ0FBQTtTQUNiO0lBQ0gsQ0FBQztJQUNILGVBQUM7QUFBRCxDQUFDLEFBckRELElBcURDO0FBRUQsT0FBTyxFQUFFLFFBQVEsRUFBRSxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgVmlld01vZGVsQ29udGV4dCB9IGZyb20gJ0BmYXJyaXMvbW9iaWxlLWRldmtpdCc7XHJcblxyXG4vKipcclxuICog5pWw5o2u5bel5YW357G7XHJcbiAqIEBzdW1tYXJ5XHJcbiAqIOaVsOaNruebuOWFs+eahOW3peWFt+aWueazleS4tOaXtuaUvuWcqOi/memHjFxyXG4gKi9cclxuY2xhc3MgRGF0YVV0aWwge1xyXG5cclxuICAvKipcclxuICAgKiDlsIZCaW5kaW5nUGF0aOi9rOaNouS4ukVudGl0eVBhdGhcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIGNvbnZlcnRCaW5kaW5nUGF0aFRvRW50aXR5UGF0aChiaW5kaW5nUGF0aDogc3RyaW5nLCB2aWV3TW9kZWxDb250ZXh0OiBWaWV3TW9kZWxDb250ZXh0KTogc3RyaW5nIHtcclxuICAgIGNvbnN0IHJpZCA9IHZpZXdNb2RlbENvbnRleHQuYmluZGluZ0RhdGEubGlzdC5jdXJyZW50SWQ7IC8vIHJvb3TooajmlbDmja5pZFxyXG4gICAgbGV0IHBhdGggPSAnLycgKyByaWQ7XHJcblxyXG4gICAgY29uc3Qgc3ViUGF0aHMgPSBiaW5kaW5nUGF0aC5zcGxpdCgnLycpO1xyXG4gICAgaWYgKHN1YlBhdGhzLmxlbmd0aCA+IDApIHtcclxuICAgICAgZm9yIChsZXQgaW5kZXggPSAxOyBpbmRleCA8IHN1YlBhdGhzLmxlbmd0aCAtIDE7IGluZGV4KyspIHtcclxuICAgICAgICBjb25zdCBzdWJQYXRoID0gc3ViUGF0aHNbaW5kZXhdO1xyXG4gICAgICAgIGNvbnN0IHN1YkRhdGEgPSB2aWV3TW9kZWxDb250ZXh0LmJpbmRpbmdEYXRhW3N1YlBhdGhdO1xyXG4gICAgICAgIGlmICghc3ViRGF0YSB8fCAhc3ViRGF0YS5jdXJyZW50SWQpIHtcclxuICAgICAgICAgIHRocm93IEVycm9yKGDojrflj5blrZDooajlrozmlbTot6/lvoTlh7rplJnvvIzmib7kuI3liLAke3N1YkRhdGF95a+55bqU55qE5a2Q6KGo77yM5oiW5a+55bqU5a2Q6KGo5rKh5pyJ5b2T5YmN6KGM44CCYCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHBhdGggKz0gYC8ke3N1YlBhdGh9LyR7c3ViRGF0YS5jdXJyZW50SWR9YDtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgcGF0aCArPSAnLycgKyBzdWJQYXRoc1tzdWJQYXRocy5sZW5ndGggLSAxXTtcclxuXHJcbiAgICByZXR1cm4gcGF0aDtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBzdGF0aWMgY2xlYXJGcm9tVmFsaWRhdGVUeXBlKHZpZXdNb2RlbENvbnRleHQ6IFZpZXdNb2RlbENvbnRleHQpOiB2b2lkIHtcclxuICAgIGNvbnN0IGNvbnRleHRzID0gdmlld01vZGVsQ29udGV4dC5hcHBDb250ZXh0LnZpZXdNb2RlbENvbnRleHRNYW5hZ2VyLmdldENvbnRleHRzKCk7XHJcbiAgICBjb25zdCBjb250ZXh0c0NoaWxkID0gY29udGV4dHMuZmlsdGVyKGl0ZW0gPT4geyByZXR1cm4gKGl0ZW0ucGFyZW50ICYmIHZpZXdNb2RlbENvbnRleHQuaWQgPT09IGl0ZW0ucGFyZW50LmlkKSB9KVxyXG4gICAgaWYgKGNvbnRleHRzQ2hpbGQubGVuZ3RoID49IDEpIHtcclxuICAgICAgY29udGV4dHNDaGlsZC5mb3JFYWNoKGl0ZW0gPT4ge1xyXG4gICAgICAgIGl0ZW0uZm9ybS5yZXNldEZpZWxkc1ZhbGlkYXRlKClcclxuICAgICAgfSlcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHB1YmxpYyBzdGF0aWMgc3RyaW5nVHJhbnNmb3JtQXJyYXkocGFyYW1lKTogYW55W10ge1xyXG4gICAgaWYgKHRoaXMucGFyYW1lSXNUaHJlZUJvc3MocGFyYW1lKSkge1xyXG4gICAgICByZXR1cm4gW11cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJldHVybiBKU09OLnBhcnNlKHBhcmFtZSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiDmo4DmtYvlj4LmlbDmmK/lkKblsZ7kuo7kuInlpKflubvnpZ4gJycgIHVuZGVmaW5lZCAgbnVsbFxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgcGFyYW1lSXNUaHJlZUJvc3MocGFyYW1lKSB7XHJcbiAgICBpZiAocGFyYW1lID09PSAnJyB8fCBwYXJhbWUgPT09IHVuZGVmaW5lZCB8fCBwYXJhbWUgPT09IG51bGwpIHtcclxuICAgICAgcmV0dXJuIHRydWVcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJldHVybiBmYWxzZVxyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IHsgRGF0YVV0aWwgfTtcclxuXHJcbiJdfQ==