import { Observable } from 'rxjs';
import { Entity, ViewModelContext } from '@farris/mobile-devkit';
import { BefRepository } from '@farris/mobile-bef';
import { BusinessAttachmentInfo } from './types';
/**
 * 附件数据服务
 */
declare class BusinessAttachmentDataService {
    /**
     * ViewModel上下文
     */
    viewModelContext: ViewModelContext;
    /**
     * 实体仓库
     */
    readonly befReposi: BefRepository<Entity>;
    /**
     * 绑定数据
     */
    private readonly bindingData;
    /**
     * 构造函数
     */
    constructor(viewModelContext: ViewModelContext);
    getAllBeSessions(): any;
    /**
     * 获取用户SessionId
     */
    getUserSessionId(): string;
    /**
     * 扩展BeSessionId相关头信息
     */
    handleRequestHeaders(headers: any): any;
    extendQueryData(url: string): Observable<any>;
    /**
     * 更新附件信息
     */
    updateRow(attachmentInfoFieldPath: string, attachmentInfo: BusinessAttachmentInfo): Observable<any>;
    /**
     * 批量创建附件行数据
     */
    updateRows(updateUrl: string, attachmentInfoFieldPath: string, attachmentInfos: BusinessAttachmentInfo[]): Observable<any>;
    /**
     * 创建服务器端需要的更新信息
     */
    private createUpdateAttachInfo;
    /**
     * 创建服务器端需要的批量新增附件信息
     */
    private createBatchCreateAttachInfo;
    /**
     * 同步服务器端最新信息到客户端
     * @todo:
     * 1、主对象批量新增时不支持
     */
    syncAttachmentInfosToClient(): Observable<Entity>;
    /**
     * 追击主表数据到客户端
     */
    appendAttachmentInfosToClient(listData: any[], isRootEntity: boolean): Observable<any[]>;
}
export { BusinessAttachmentDataService };
