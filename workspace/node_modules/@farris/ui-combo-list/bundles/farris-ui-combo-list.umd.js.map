{"version":3,"file":"farris-ui-combo-list.umd.js.map","sources":["ng://@farris/ui-combo-list/lib/http/ComboHttpService.ts","ng://@farris/ui-combo-list/lib/combo.service.ts","node_modules/tslib/tslib.es6.js","ng://@farris/ui-combo-list/lib/services/combo.locale.service.ts","ng://@farris/ui-combo-list/lib/base-combo.component.ts","ng://@farris/ui-combo-list/lib/combo-list.component.ts","ng://@farris/ui-combo-list/lib/combo-list.module.ts"],"sourcesContent":["import { InjectionToken } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\n\r\nexport interface ComboHttpService {\r\n    /**\r\n     * æ ¹æ®åæ°æ®IDåç¸å³åæ°è·åæ°æ®\r\n     * @param uri æ°æ®ID or Rest API\r\n     * @param data æå¡å¨ç«¯æ¥æ¶åæ° key/value\r\n     */\r\n    context?: any;\r\n    getData(uri: string, params?: any, method?: string): Observable<any>;\r\n}\r\nexport const ComboServerSideToken = new InjectionToken<ComboHttpService>('Combo Grid HTTP service');\r\n","import { Injectable, Injector } from '@angular/core';\r\nimport { BehaviorSubject, Subject, Observable, of } from 'rxjs';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { debounceTime, map, switchMap, catchError, tap, delay } from 'rxjs/operators';\r\nimport { LoadingService, LoadingComponent } from '@farris/ui-loading';\r\nimport { LookupUtils, ServerSideToken } from '@farris/ui-lookup';\r\nimport { ComboServerSideToken, ComboHttpService } from './http/ComboHttpService';\r\nimport { NormalObject } from './combo.interface';\r\n\r\n@Injectable()\r\nexport class ComboService {\r\n\r\n    selections$ = new Subject<any>();\r\n    isOpen$ = new BehaviorSubject<boolean|any>(false);\r\n\r\n    data$ = new BehaviorSubject<any>('');\r\n    serachValue$ = new Subject<any>();\r\n    loadSuccess$ = new Subject();\r\n    treeInfo$ = new BehaviorSubject<any>(null);\r\n\r\n    selections: NormalObject[];\r\n    idField: string;\r\n    valueField: string;\r\n    textField: string;\r\n    multiSelect: boolean;\r\n    displayType = 'LIST';\r\n    separator = ',';\r\n\r\n\r\n    _uri: string;\r\n    get uri() {\r\n        return this._uri;\r\n    }\r\n    set uri(val: string) {\r\n        this._uri = val;\r\n        this.data$.next([]);\r\n    }\r\n\r\n    selectedValues;\r\n    pageInfo: any;\r\n    treeInfo: any;\r\n    columns: NormalObject[] = [];\r\n    context: any;\r\n    remoteSearch = true;\r\n\r\n    panelElement: any = null;\r\n\r\n    treeSearchHandler: any = null;\r\n\r\n    // æ å¸®å©å è½½è®¾ç½®\r\n    private treeloadconfig = null;\r\n    private _data: NormalObject[] = [];\r\n    private loading: LoadingComponent;\r\n    private lookupUtils: LookupUtils;\r\n    private comboHttp: ComboHttpService;\r\n    get data(): NormalObject[] {\r\n        return this._data;\r\n    }\r\n    set data(value: NormalObject[]) {\r\n        this._data = value || [];\r\n        if (Array.isArray(value)) {\r\n            this.data$.next(value);\r\n        }\r\n    }\r\n\r\n\r\n    constructor(public http: HttpClient, public loadingService: LoadingService, private injector: Injector) {\r\n        this.serachValue$.pipe(debounceTime(300)).subscribe(value => {\r\n            if (!this.remoteSearch) {\r\n                this.filterData(value, this.textField);\r\n            } else {\r\n                this.filterDataOnServer(value);\r\n            }\r\n        });\r\n    }\r\n\r\n    injectService() {\r\n        if (this.injector && !this.comboHttp) {\r\n            this.lookupUtils = this.injector.get(LookupUtils, null);\r\n            if (this.displayType.indexOf('LOOKUP') > -1) {\r\n                this.comboHttp = this.injector.get(ServerSideToken, null);\r\n            } else {\r\n                this.comboHttp = this.injector.get(ComboServerSideToken, null);\r\n            }\r\n        }\r\n    }\r\n\r\n    toBoolean(value: any): boolean {\r\n        return value != null && `${value}` !== 'false';\r\n    }\r\n\r\n    selectItem(data: any, index?: number, emitEvent = true) {\r\n        if (!this.multiSelect) {\r\n            this.selections = [];\r\n        }\r\n        if (Array.isArray(data)) {\r\n            data.forEach(n => {\r\n                if (this.selections.findIndex(s => s[this.idField] === n[this.idField]) === -1) {\r\n                    this.selections.push(n);\r\n                }\r\n            });\r\n        } else {\r\n            if (this.selections.findIndex(s => s[this.idField] === data[this.idField]) === -1) {\r\n                this.selections.push(data);\r\n            }\r\n        }\r\n        if (emitEvent) {\r\n            this.selections$.next({action: 'clicked'});\r\n        }\r\n    }\r\n\r\n    unSelectItem(data: any) {\r\n        this.selections = this.selections.filter(item => {\r\n            // return item[this.idField] !== data[this.idField];\r\n            return JSON.stringify(item) !== JSON.stringify(data);\r\n        });\r\n        this.selections$.next({action: 'clicked'});\r\n    }\r\n\r\n\r\n    selectAll(datas) {\r\n        (datas || []).forEach(n => {\r\n            if (!this.selections.find(i => i[this.idField] === n[this.idField])) {\r\n                this.selections.push(n);\r\n            }\r\n        });\r\n        // this.selections = datas;\r\n        this.selections$.next({action: 'clicked'});\r\n    }\r\n\r\n    unSelectAll(datas) {\r\n        // this.selections = [];\r\n        datas = datas || [];\r\n        this.selections = (this.selections || []).filter(n => datas.findIndex(i => i[this.idField] === n[this.idField]) === -1 );\r\n        this.selections$.next({action: 'clicked'});\r\n    }\r\n\r\n    isSelect(id: any) {\r\n        if (this.selections && this.selections.length) {\r\n            return this.selections.find(item => item[this.idField] === id) !== undefined;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    loadData(data: any, selectValues = '', callback) {\r\n        if (data) {\r\n\r\n            if (selectValues === null || selectValues === undefined) {\r\n                selectValues = '';\r\n            }\r\n\r\n            if (typeof selectValues === 'boolean') {\r\n                selectValues = '' + selectValues;\r\n            }\r\n\r\n            // this.data$.next(data);\r\n            if (selectValues) {\r\n                let vals = [(selectValues + '')];\r\n                if (this.multiSelect) {\r\n                    vals = (selectValues + '').split(this.separator);\r\n                }\r\n\r\n                let selectedItems = vals.map(val => {\r\n                    return callback(data, val);\r\n                });\r\n                selectedItems = selectedItems.filter(el => el);\r\n                if ((!this.selections || !this.selections.length) && selectedItems.length) {\r\n                    this.selections = selectedItems;\r\n                }\r\n            } else {\r\n                this.selections = [];\r\n            }\r\n            this.selections$.next({action: 'initData'});\r\n        }\r\n    }\r\n\r\n    filterDataOnServer(params) {\r\n        this.getData(params).subscribe(r => {\r\n            this.closeLoading();\r\n            this.loadingService.clearAll();\r\n            if (r && r.items) {\r\n                switch (this.displayType) {\r\n                    case 'LOOKUPLIST': {\r\n                        this.loadLookUpDataTable(r, true);\r\n                        break;\r\n                    }\r\n                    case 'LOOKUPTREELIST': {\r\n                        this.loadLookUpDataTree(r);\r\n                        break;\r\n                    }\r\n                }\r\n\r\n            } else {\r\n                this.data$.next([]);\r\n            }\r\n        });\r\n    }\r\n\r\n    // å®¢æ·ç«¯è¿æ»¤\r\n    filterData(val: string, field: any = 'text') {\r\n        if (val) {\r\n            let data = [];\r\n\r\n            if (this.displayType === 'LOOKUPLIST' || this.displayType === 'LIST') {\r\n                data = this.data.filter(item => {\r\n                    let itemval = this.getValueByObj(field, item);\r\n                    if (itemval != '' && itemval !== null && itemval !== undefined) {\r\n                        itemval = String(itemval).toLowerCase();\r\n                    }\r\n                    return itemval.indexOf(val.toLowerCase()) > -1;\r\n                });\r\n            }\r\n\r\n            // const data = this.data\r\n            //     ? this.data.filter(item => {\r\n            //         if (this.getValueByObj(filed, item)) {\r\n            //             return String(this.getValueByObj(filed, item)).indexOf(val) > -1;\r\n            //         } else if (item.data && this.getValueByObj(filed, item.data)) {\r\n            //             return String(this.getValueByObj(filed, item.data)).indexOf(val) > -1;\r\n            //         }\r\n            //     })\r\n            //     : [];\r\n            this.data$.next(data);\r\n        } else {\r\n            this.data$.next(this.data);\r\n        }\r\n    }\r\n\r\n\r\n    getSelections() {\r\n        return this.selections;\r\n    }\r\n\r\n    clearSelections() {\r\n        this.selections = [];\r\n    }\r\n\r\n    getValue(prop: string, selections?: any): string {\r\n        selections = selections ? selections : this.selections;\r\n        if (selections && selections.length) {\r\n            const tmp = selections.map(item => {\r\n                return this.getValueByObj(prop, item);\r\n            });\r\n            if (tmp && (tmp.length > 1 || tmp.length === 0)) {\r\n                return tmp.join(this.separator);\r\n            } else {\r\n                return tmp[0];\r\n            }\r\n        }\r\n        return '';\r\n    }\r\n\r\n    getValueByObj(field: string, data: any) {\r\n        if (!data) {\r\n            return '';\r\n        }\r\n        let resultVal = '';\r\n        if (field.indexOf('.') === -1) {\r\n            if (data.hasOwnProperty(field)) {\r\n                resultVal = data[field];\r\n            } else {\r\n                // console.log(`%cError: The %c\"${field}\"%c is not in `,\r\n                //         'color: #bb0000;font-weight: bold;', 'color: red;font-style: italic', 'color: #bb0000;font-weight: bold;', data);\r\n                resultVal = null;\r\n            }\r\n        } else {\r\n            resultVal = field.split('.').reduce((obj, key) => {\r\n                if (obj) {\r\n                    return obj[key];\r\n                } else {\r\n                    // console.log(`%cError: The %c\"${key}\"%c is not in  `,\r\n                    // 'color: #bb0000;font-weight: bold', 'color: red;font-style: italic', 'color: #bb0000;font-weight: bold;', obj);\r\n                    return null;\r\n                }\r\n            }, data);\r\n        }\r\n        return resultVal;\r\n    }\r\n\r\n    initData(params: any = {}, method = 'get', selectedIds = '') {\r\n        switch (this.displayType) {\r\n            case 'TreeList':\r\n            case 'LIST': {\r\n                if (params.data) {\r\n                    params = params.data;\r\n                }\r\n                this.getData(params, method).subscribe(d => {\r\n                    let __data = d;\r\n                    if (!this.uri) {\r\n                        __data = this.data;\r\n                    }\r\n                    if (this.displayType === 'TreeList') {\r\n                        this.loadDataTree(__data);\r\n                    } else {\r\n                        this.loadDataTable(__data);\r\n                    }\r\n                    this.loadSuccess$.next(true);\r\n                });\r\n                break;\r\n            }\r\n            case 'LOOKUPLIST':\r\n            case 'LOOKUPTREELIST': {\r\n                // TFS 466104\r\n                if (!selectedIds) {\r\n                    this.selections = [];\r\n                    this.selectedValues = '';\r\n                }\r\n\r\n                \r\n                this.loadLookupData(params, selectedIds, 'get', this.displayType === 'LOOKUPTREELIST');\r\n                break;\r\n            }\r\n        }\r\n\r\n        return this.loadSuccess$;\r\n    }\r\n\r\n    // æ­¤æ¹æ³ç¨äºç­ééä¸­çæ°æ®\r\n    // è¿ä¸æ­¥ä¼åï¼éè¦æå¡å¨ç«¯æä¾ä¸ä¸ªä¸æé æ ç»æãæ ¹æ®IDè¿åç®åçåè¡¨å³å¯\r\n    private treeNodesToFlatData(treeNodes: [], arr = []) {\r\n        treeNodes.forEach((n: any) => {\r\n            if (!n['addtional']) {\r\n                arr.push(n.data);\r\n            }\r\n            if (n.children && n.children.length) {\r\n                this.treeNodesToFlatData(n.children, arr);\r\n            }\r\n        });\r\n    }\r\n\r\n    private loadLookupData(params: any, selectedIds, method = 'get', isTree = false) {\r\n        const { data, enableFullTree, loadTreeDataType, searchValue } = params;\r\n        if (data) {\r\n            params = { customData: data };\r\n        }\r\n        if (this.displayType === 'LOOKUPTREELIST' && !this['treeToList']) {\r\n            params.enableFullTree = enableFullTree;\r\n            // params.loadTreeDataType = 'loadall'; \r\n            params.searchValue = {\"category\":\"all\"};\r\n            this.treeloadconfig = { enableFullTree, loadTreeDataType };\r\n\r\n            if (!isNaN(Number(params.expandLevel))) {\r\n                // åç«¯ -1 ä¸å±å¼   0 å¨å±å¼\r\n                // åç«¯  0 ä¸å±å¼  -1 å¨å±å¼\r\n                if (params.expandLevel) {\r\n                    if (params.expandLevel === -1) {\r\n                        params.expandLevel = 0;\r\n                    }\r\n                } else {\r\n                    params.expandLevel = -1;\r\n                }\r\n                params.searchValue['layerNum'] = params.expandLevel;\r\n            }\r\n\r\n            params.searchValue = JSON.stringify(params.searchValue);\r\n        }\r\n\r\n        if (searchValue) {\r\n            params.searchValue = searchValue;\r\n        }\r\n\r\n        if (this['treeToList']) {\r\n            isTree = false;\r\n            this.displayType = 'LOOKUPLIST';\r\n        }\r\n\r\n        this.getData(params, method).pipe(\r\n            switchMap((data) => {\r\n                if (selectedIds) {\r\n                    return this.getSelectedItems(selectedIds).pipe(\r\n                        map(d => {\r\n                            if (d && d.items) {\r\n                                // data.selectedItems = isTree ?  d.items.map(n => n.data) : d.items;\r\n                                if (isTree) {\r\n                                    const arr = [];\r\n                                    this.treeNodesToFlatData(d.items, arr);\r\n                                    data.selectedItems = arr;\r\n                                } else {\r\n                                    data.selectedItems =  d.items;\r\n                                }\r\n                            } else {\r\n                                if (Array.isArray(d)) {\r\n                                    data.selectedItems = (selectedIds + '').split(this.separator).map(val => {\r\n                                        if (isTree) {\r\n                                            return this.treeNodeToFlatData(d, val, this.idField);\r\n                                        } else {\r\n                                            return d.find(n => n[this.idField] + '' == val || n[this.textField] == val);\r\n                                        }\r\n                                    }).filter(n => n !=undefined && n != null);\r\n                                }\r\n                            }\r\n                            return data;\r\n                        }),\r\n                        catchError(() => {\r\n                            return of(data);\r\n                        })\r\n                    );\r\n                } else {\r\n                    data.selectedItems = [];\r\n                }\r\n                return of(data);\r\n            })\r\n        ).subscribe(data => {\r\n            this.loadingService.clearAll();\r\n\r\n            if (data) {\r\n                if (isTree) {\r\n                    this.loadLookUpDataTree(data);\r\n                } else {\r\n                    this.loadLookUpDataTable(data);\r\n                }\r\n            }\r\n\r\n            this.loadSuccess$.next(true);\r\n        });\r\n\r\n    }\r\n\r\n    getSelectedItems(selIds) {\r\n        const searchParam = {\r\n            category: 'fav', favoriteIds: ('' + selIds).split(this.separator)\r\n        };\r\n        const p = {searchValue: JSON.stringify(searchParam),  enableFullTree: false, loadTreeDataType: 'default'};\r\n        return this.getData(p);\r\n    }\r\n\r\n    getData(params = {}, method = 'get', loadChild = false): Observable<any> {\r\n        if (this.uri) {\r\n            // this.data = []\r\n            // tfs 470519\r\n            if (this.data && this.data.length && !loadChild) {\r\n                this.data = [];\r\n            }\r\n\r\n            params['treeToList'] = this['treeToList'];\r\n            params['navTreeToList'] = this['navTreeToList'];\r\n\r\n            if (this['treeToList']) {\r\n                this.displayType = 'LOOKUPLIST';\r\n            }\r\n\r\n            this.showLoading();\r\n            if (this.comboHttp) {\r\n                if (this.context) {\r\n                    this.comboHttp.context = this.context;\r\n                }\r\n                return this.comboHttp.getData(this.uri, params, method).pipe(\r\n                    tap(() => {\r\n                        this.closeLoading();\r\n                    }),\r\n                );\r\n            } else {\r\n                return this.http.request(method, this.uri, params).pipe(\r\n                    tap(() => {\r\n                        this.closeLoading();\r\n                    }),\r\n                );\r\n            }\r\n        } else {\r\n            if (this.data) {\r\n                return of(this.data).pipe(delay(10));\r\n            } else {\r\n                return of([]).pipe(delay(10));\r\n            }\r\n        }\r\n    }\r\n\r\n    loadDataTable(data: any) {\r\n        if (data instanceof Array) {\r\n            this.data = data;\r\n        } else {\r\n            this.data = data ? data.returnValue : [];\r\n        }\r\n        this.loadData(this.data, this.selectedValues, (dataArr, val) => {\r\n            return dataArr.find(d => d[this.idField] + '' == val || d[this.textField] == val);\r\n        });\r\n        this.closeLoading();\r\n    }\r\n\r\n    loadDataTree(data: any) {\r\n        if (data instanceof Array) {\r\n            this.data = data;\r\n        } else {\r\n            this.data = data ? data.returnValue : [];\r\n        }\r\n        this.loadData(this.data, this.selectedValues, (dataArr, val) => {\r\n            return eachData(dataArr, val, this.idField);\r\n            function eachData(paramData, paramVal, idField) {\r\n                let rtnData: any = '';\r\n                paramData.find(d => {\r\n                    if (d.data[idField] == paramVal) {\r\n                        rtnData = d.data;\r\n                        return true;\r\n                    } else if (d.children && d.children.length) {\r\n                        rtnData = eachData(d.children, paramVal, idField);\r\n                    } else {\r\n                        return false;\r\n                    }\r\n                });\r\n                return rtnData;\r\n            }\r\n        });\r\n        this.closeLoading();\r\n    }\r\n\r\n    loadLookUpDataTable(resData: any, sortable = false) {\r\n        this.closeLoading();\r\n\r\n        if (typeof resData === 'object') {\r\n\r\n            if (resData.returnValue) {\r\n                resData = resData.returnValue;\r\n            }\r\n\r\n            if (!sortable &&  resData.columns) {\r\n                this.columns = resData.columns;\r\n            }\r\n            if (resData.pageInfo) {\r\n                this.pageInfo = resData.pageInfo;\r\n                this.pageInfo.total = resData.total ? resData.total : 0;\r\n            }\r\n\r\n            if ( resData.items) {\r\n                this.data = resData.items;\r\n            }\r\n\r\n        }\r\n        if (resData && resData.selectedItems) {\r\n            this.selections = resData.selectedItems || [];\r\n        }\r\n        \r\n        if (this.selections) {\r\n            const ids = this.selections.map(n => n[this.idField]).join(this.separator);\r\n            if (ids !== this['__SELECTEDIDS__']) {\r\n                // this.selectedValues = ids;\r\n                this['__SELECTEDIDS__'] = ids;\r\n            }\r\n        }\r\n\r\n        this.loadData(this.data, this['__SELECTEDIDS__'], (dataArr, val) => {\r\n            let isMaped = dataArr.find(d => d[this.idField] + '' == val);\r\n            if (this.selections) {\r\n                isMaped = !isMaped ? this.selections.find(d => d[this.idField] + '' == val) : isMaped;\r\n            }\r\n            return isMaped;\r\n        });\r\n    }\r\n\r\n    checkNodeCanBeSelect(nodes, allData = true) {\r\n        if (nodes && nodes.length) {\r\n            return nodes.map((node: any) => {\r\n                if (node.hasOwnProperty('addtional')) {\r\n                    node.selectable = !node['addtional'];\r\n                }\r\n\r\n                if (node.children && node.children.length) {\r\n                    this.checkNodeCanBeSelect(node.children, allData);\r\n                } else {\r\n                    if (allData) {\r\n                        node.leaf = true;\r\n                    }\r\n                }\r\n\r\n                return node;\r\n            });\r\n        }\r\n        return nodes;\r\n    }\r\n\r\n    loadLookUpDataTree(resData: any) {\r\n        this.closeLoading();\r\n\r\n        if (!resData) {\r\n            return;\r\n        }\r\n\r\n        if (resData instanceof Array) {\r\n            this.data = resData;\r\n            if (resData['selectedItems']) {\r\n                this.selections = resData['selectedItems'] || [];\r\n            }\r\n        } else {\r\n            if (resData.returnValue) {\r\n                resData = resData.returnValue;\r\n            }\r\n            this.columns = resData.columns;\r\n            this.treeInfo = resData.treeInfo;\r\n\r\n            this.treeInfo$.next(this.treeInfo);\r\n            if (resData.selectedItems) {\r\n                this.selections = resData.selectedItems || [];\r\n            }\r\n           \r\n            if (this.treeInfo && !this.treeInfo['treeDataIsInit']) {\r\n                if (this.treeInfo.layerType.toLowerCase() === 'pathcode') {\r\n                    this.data = this.lookupUtils.makeTree(resData.items, this.treeInfo);\r\n                } else {\r\n                    this.data = this.lookupUtils.makeTreeWithParentID(\r\n                        resData.items,\r\n                        '',\r\n                        `${this.treeInfo.dataField}.${this.treeInfo.parentField}`,\r\n                        this.idField\r\n                    );\r\n                }\r\n            } else if (resData.items) {\r\n                // this.data = resData.items;\r\n\r\n                const isLoadAllTreeData = () => {\r\n                    if (this.treeloadconfig.loadTreeDataType === 'default') {\r\n                        return this.treeInfo.loadDataType === 'all';\r\n                    } else {\r\n                        return this.treeloadconfig.loadTreeDataType === 'loadall';\r\n                    }\r\n                };\r\n\r\n                this.data = this.checkNodeCanBeSelect(resData.items, isLoadAllTreeData());\r\n            }\r\n        }\r\n\r\n        if (this.selections) {\r\n            const ids = this.selections.map(n => n[this.idField]).join(this.separator);\r\n            if (ids !== this['__SELECTEDIDS__']) {\r\n                this['__SELECTEDIDS__'] = ids;\r\n            }\r\n        }\r\n\r\n        this.loadData(this.data, this['__SELECTEDIDS__'], (dataArr, val) => {\r\n            return this.treeNodeToFlatData(dataArr, val, this.idField);\r\n        });\r\n    }\r\n\r\n    treeNodeToFlatData(paramData, paramVal, idField) {\r\n        let rtnData: any = '';\r\n        paramData.find(d => {\r\n            if ((d.data && d.data[idField] == paramVal) || d[idField] == paramVal) {\r\n                rtnData = d.data;\r\n                return true;\r\n            } else if (d.children && d.children.length) {\r\n                rtnData = this.treeNodeToFlatData(d.children, paramVal, idField);\r\n                return rtnData ? true : false;\r\n            } else {\r\n                return false;\r\n            }\r\n        });\r\n        return rtnData;\r\n    }\r\n\r\n    private showLoading() {\r\n        this.loading = this.loadingService.show({ container: this.panelElement, delay: 100 });\r\n    }\r\n\r\n    closeLoading() {\r\n        if (this.loading) {\r\n            this.loading.close();\r\n            this.loading = null;\r\n        }\r\n    }\r\n}\r\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { LocaleService } from '@farris/ui-locale';\r\n\r\n@Injectable()\r\nexport class ComboLocaleService {\r\n    private localeConfig: any = {\r\n        'ZH_CN' : {\r\n            placeholder: 'è¯·éæ©'\r\n        },\r\n        'EN_US' : {\r\n            placeholder: 'Please Select'\r\n        }\r\n    };\r\n    constructor(private localeService: LocaleService) {}\r\n    public getLocaleConfig() {\r\n        const locale = this.localeService.localeId;\r\n\r\n        this.localeConfig = this.localeService.getResources(`${locale}.combo`);\r\n\r\n        return this.localeConfig;\r\n\r\n        // if (locale && this.localeConfig[locale]) {\r\n        //     return this.localeConfig[locale];\r\n        // } else {\r\n        //     return this.localeConfig.ZH_CN;\r\n        // }\r\n    }\r\n}\r\n","import { NotifyService } from '@farris/ui-notify';\r\nimport {\r\n    OnInit, Input, Output, EventEmitter, ElementRef, ChangeDetectorRef,\r\n    Renderer2, ViewChild, AfterViewInit, OnDestroy, Inject, Injector, NgZone\r\n} from '@angular/core';\r\nimport { Subject, interval, of, Observable, Subscription, fromEvent } from 'rxjs';\r\nimport { ControlValueAccessor, NgControl } from '@angular/forms';\r\nimport { DOCUMENT } from '@angular/common';\r\nimport { takeUntil, filter, skip, debounceTime, throttle, take, delayWhen, throwIfEmpty } from 'rxjs/operators';\r\nimport { ComboService } from './combo.service';\r\nimport { InputGroupComponent } from '@farris/ui-input-group';\r\nimport { SelectItem, NormalObject, ComboChanges } from './combo.interface';\r\nimport { ComboLocaleService } from './services/combo.locale.service';\r\nimport { CommonUtils, reqAnimFrame } from '@farris/ui-common';\r\nimport { EventManager } from '@angular/platform-browser';\r\nimport ResizeObserver from 'resize-observer-polyfill';\r\n\r\nlet nextUniqueId = 0;\r\nexport class BaseComboComponent implements OnInit, AfterViewInit, OnDestroy, ControlValueAccessor {\r\n    @Input() disabled = false;\r\n    @Input() readonly = false;\r\n    @Input() editable = true;\r\n    @Input() placeholder = '';\r\n    @Input() panelWidth = 300;\r\n    @Input() panelHeight: number | string = 'auto';\r\n    /** ä¸æé¢æ¿å®½åº¦ä¸è¾å¥æ¡å®½åº¦ä¿æä¸è³ï¼ é»è®¤ä¸º true */\r\n    @Input() autoWidth = true;\r\n    @Input() enableClear = true;\r\n    @Input() mapFields: any;\r\n    /** ç¦ç¨åªè¯»æ¶æ¾ç¤º placeholder */\r\n    @Input() forcePlaceholder = false;\r\n\r\n    /** ä»»æè¾å¥ 20210202 */\r\n    @Input() nosearch = false;\r\n    /** åè®¸æå¤§è¾å¥é¿åº¦ */\r\n    @Input() maxLength;\r\n\r\n    // é¼ æ æ»è¿æ¾ç¤ºææ¬åå®¹\r\n    @Input() enableTitle = true;\r\n    /** å±ç¤ºç±»åï¼ textææ¬ï¼tagæ ç­¾ã é»è®¤ text */\r\n    @Input() viewType: 'text' | 'tag' = 'text';\r\n    @Input()\r\n    set context(value) {\r\n        this.comboService.context = value;\r\n    }\r\n    @Input()\r\n    set mappingField(v: any) {\r\n        this.mapFields = v;\r\n    }\r\n    get mappingField(): any {\r\n        return this.mapFields;\r\n    }\r\n    @Input()\r\n    set data(val: NormalObject[]) {\r\n        this.comboService.data = val;\r\n    }\r\n    get data(): NormalObject[] {\r\n        return this.comboService.data;\r\n    }\r\n    \r\n    @Input()\r\n    set idField(val: string) {\r\n        this.comboService.idField = val;\r\n    }\r\n    get idField(): string {\r\n        return this.comboService.idField;\r\n    }\r\n    @Input()\r\n    set valueField(val: string) {\r\n        this.comboService.valueField = val;\r\n    }\r\n    get valueField(): string {\r\n        return this.comboService.valueField ? this.comboService.valueField : this.idField;\r\n    }\r\n    @Input()\r\n    set textField(val: string) {\r\n        this.comboService.textField = val;\r\n    }\r\n    get textField(): string {\r\n        return this.comboService.textField;\r\n    }\r\n    @Input()\r\n    set multiSelect(val: boolean) {\r\n        this.comboService.multiSelect = val;\r\n    }\r\n    get multiSelect(): boolean {\r\n        return this.comboService.multiSelect;\r\n    }\r\n    @Input()\r\n    set uri(val: string) {\r\n        this.comboService.uri = val;\r\n    }\r\n    get uri(): string {\r\n        return this.comboService.uri;\r\n    }\r\n    @Input()\r\n    set selectedValues(val: string) {\r\n        this.comboService.selectedValues = val;\r\n    }\r\n    get selectedValues(): string {\r\n        return this.comboService.selectedValues;\r\n    }\r\n\r\n    get selectedValuesStr() {\r\n        if (this.selectedValues === null || this.selectedValues === undefined) {\r\n            this.selectedValues = '';\r\n        }\r\n        return (this.selectedValues) + '';\r\n    }\r\n    @Input() displayText = '';\r\n    @Input() maxHeight = 200;\r\n    @Input() enableCancelSelected = false;\r\n\r\n    /** è¿ç«¯è¿æ»¤ */\r\n    @Input() get remoteSearch(): boolean {\r\n        return this.comboService.remoteSearch;\r\n    }\r\n    set remoteSearch(val: boolean) {\r\n        this.comboService.remoteSearch = val;\r\n    }\r\n    @Input() beforeShow: (instance?: this) => Observable<any>;\r\n    @Input() beforeHide: (instance?: this) => Observable<any>;\r\n\r\n    // å¦æé¢æ¿å·²æå¼ï¼ ç¹å»æ¸ç©ºæé®æ¶æ¯å¦å³é­é¢æ¿ãtrue: å³é­ï¼ false: ä¸å³é­ï¼\r\n    @Input() hidePanelOnClear = false;\r\n    /** å¼å¯åï¼ngModel çå¼ä¸º valueField or  idField; å¦åä¸ºtextFieldçå¼ */\r\n    @Input() useValue = false;\r\n    /** åéç¬¦ */\r\n    @Input() separator = ',';\r\n\r\n    @Input() treeToList = false;\r\n    @Input() navTreeToList = false;\r\n\r\n    @Input() emptyMsg = 'ææ æ°æ®';\r\n\r\n    @Output() showPanel = new EventEmitter();\r\n    @Output() hidePanel = new EventEmitter();\r\n    @Output() clear = new EventEmitter();\r\n    @Output() valueChange = new EventEmitter<ComboChanges>();\r\n    @Output() selectChange = new EventEmitter<SelectItem>();\r\n\r\n    @ViewChild('comboPanel') set cmbPanel(cmp: ElementRef) {\r\n        if (cmp) {\r\n            this._cmbPanel = cmp;\r\n            this.ro.observe(cmp.nativeElement);\r\n            this._comboPanelCreated$.next(cmp);\r\n        } else {\r\n            this._cmbPanel = null;\r\n            // this.ro.unobserve(this.el.nativeElement);\r\n            if (this.ro) {\r\n                this.ro.disconnect();\r\n            }\r\n            this._comboPanelCreated$.next(null);\r\n        }\r\n\r\n    }\r\n    @ViewChild('input') input: InputGroupComponent;\r\n    @ViewChild('input2') input2: ElementRef;\r\n    public isOpen = false;\r\n    public comPosition = {};\r\n    public destroy$ = new Subject();\r\n    public ngControl: NgControl | any = null;\r\n    public groupIcon = '<span class=\"f-icon f-icon-arrow-60-down\"></span>';\r\n    public localeService: ComboLocaleService;\r\n    public innerPanelHeight: any;\r\n    public commonUtils: CommonUtils;\r\n    private _cmbPanel: ElementRef = null;\r\n    private _comboPanelCreated$ = new Subject();\r\n    // private _hasPosited = false;\r\n    // private _container: Element;\r\n    private willHide$: Subject<void> = new Subject();\r\n    private containerElement: any;\r\n    /** overlay */\r\n    private panelElement: any;\r\n    private _documentClickEvent: any;\r\n    set selections(value: NormalObject[]) {\r\n        this.comboService.selections = value;\r\n    }\r\n    get selections(): NormalObject[] {\r\n        if (this.comboService.selections) {\r\n            return this.comboService.selections.filter(n => n !== null && n !== undefined);\r\n        }\r\n        return [];\r\n    }\r\n\r\n    private panelListener = null;\r\n\r\n    private ngZone: NgZone = null;\r\n    private mouseWheelEvent = null;\r\n    textChangeSubject = new Subject();\r\n    private initdataSubscription: Subscription = null;\r\n\r\n    customData = null;\r\n\r\n    private originalText = '';\r\n    private isTextChange = false;\r\n\r\n    treeClientSearch = new Subject();\r\n\r\n    eventMgr: EventManager;\r\n    private notifySer: NotifyService;\r\n    private ro: ResizeObserver | null = null;\r\n    onChange: (value: string | string[]) => void = () => null;\r\n    onTouched: () => void = () => null;\r\n\r\n    constructor(\r\n        public el: ElementRef,\r\n        public cdr: ChangeDetectorRef,\r\n        @Inject(DOCUMENT) public document: any,\r\n        public render: Renderer2,\r\n        public comboService: ComboService,\r\n        public injector: Injector\r\n    ) {\r\n        this.initToggleAction();\r\n        this.initSelectionsChangeAction();\r\n        this.initDatasChangeAction();\r\n\r\n        this.commonUtils = this.injector.get(CommonUtils, null);\r\n        this.willHide$.pipe(\r\n            takeUntil(this.destroy$),\r\n            debounceTime(110)\r\n        ).subscribe(e => {\r\n            if (!this.nosearch && this.displayText !== this.originalText) {\r\n                this.displayText = this.originalText;\r\n\r\n                if (this.isLookup()) {\r\n                    this.onChange(this.displayText);\r\n                } else {\r\n                    const _displayText = this.comboService.getValue(this.textField);\r\n                    this.onValueChange({ text: _displayText, value: this.selectedValues, selections: this.selections });\r\n                }\r\n\r\n            }\r\n            this['_searchKeyWords'] = '';\r\n            this.onTouched();\r\n            this.hidePanel.emit(this);\r\n        });\r\n\r\n        this.ngZone = this.injector.get(NgZone);\r\n        this.eventMgr = this.injector.get(EventManager);\r\n        this.emitTextChange();\r\n\r\n        this.notifySer = this.injector.get(NotifyService, null);\r\n\r\n    }\r\n\r\n    ngOnInit() {\r\n        this.localeService = this.injector.get(ComboLocaleService, '');\r\n        if (this.localeService) {\r\n            const localConfig = this.localeService.getLocaleConfig();\r\n            if (localConfig) {\r\n                if (!this.placeholder) {\r\n                    this.placeholder = localConfig['placeholder'] || 'è¯·éæ©';\r\n                }\r\n\r\n                this.emptyMsg =  localConfig['emptyMsg'] || 'ææ æ°æ®';\r\n            }\r\n        }\r\n\r\n        this.comboService.separator = this.separator;\r\n        this.comboService['treeToList'] = this.treeToList;\r\n        this.comboService['navTreeToList'] = this.navTreeToList;\r\n    }\r\n\r\n    ngAfterViewInit() {\r\n        const that = this;\r\n        this.ngControl = this.injector.get(NgControl, null);\r\n        fromEvent(window, 'resize').pipe(\r\n            takeUntil(this.destroy$)\r\n        ).pipe(\r\n            debounceTime(100),\r\n            throttle(ev => interval(100)),\r\n        ).subscribe(() => {\r\n            this.updatePanelWidth();\r\n            if (this.isOpen) {\r\n                this.comboService.isOpen$.next(false);\r\n                this.willHide$.next();\r\n            }\r\n        });\r\n\r\n        if (this.ngZone) {\r\n            this.ngZone.runOutsideAngular(() => {\r\n                setTimeout(() => {\r\n                    that.updatePanelWidth();\r\n                });\r\n            });\r\n\r\n            let reszieTimer = null;\r\n            this.ro = new ResizeObserver((e) => {\r\n                this.ngZone.runOutsideAngular(() => {\r\n                    if (reszieTimer) {\r\n                        clearTimeout(reszieTimer);\r\n                    }\r\n                    reszieTimer = setTimeout(() => {\r\n                        if (that._cmbPanel && that.panelElement) {\r\n                            reqAnimFrame(() => {\r\n                                that.updatePosition(that._cmbPanel.nativeElement);\r\n                                if (that._cmbPanel.nativeElement.className.indexOf('f-area-show') === -1) {\r\n                                    that.render.addClass(that._cmbPanel.nativeElement, 'f-area-show');\r\n                                }\r\n                            });\r\n                        }\r\n                    }, 10);\r\n                });\r\n            });\r\n        }\r\n\r\n        this.comboService.injectService();\r\n    }\r\n\r\n    ngOnDestroy(): void {\r\n        this.destroy$.next();\r\n        this.destroy$.complete();\r\n        this.comboService.serachValue$.unsubscribe();\r\n\r\n        if (this.mouseWheelEvent) {\r\n            this.mouseWheelEvent();\r\n        }\r\n    }\r\n\r\n    private updatePanelWidth() {\r\n        const { width } = this.getInputSizeInfo();\r\n        this.panelWidth = this.autoWidth ? width : this.panelWidth;\r\n    }\r\n\r\n    onClick($event: any = null) {\r\n        if ($event) {\r\n            if ($event.stopPropagation) {\r\n                $event.stopPropagation();\r\n            } else {\r\n                if ($event.originalEvent) {\r\n                    $event.originalEvent.stopPropagation();\r\n                }\r\n            }\r\n        }\r\n\r\n        // éå¤æ§è¡é¢æ¿å³é­äºä»¶ ææ³¨éæ 20220917\r\n        // if (this.isOpen) {\r\n        //     this.willHide$.next();\r\n        // } else {\r\n        //     this.comboService.isOpen$.next(!this.isOpen);\r\n        // }\r\n\r\n        this.comboService.isOpen$.next(!this.isOpen);\r\n\r\n        if (this.input && this.input.textbox) {\r\n            this.input.textbox.nativeElement.focus();\r\n        }\r\n    }\r\n\r\n    onBlur(event: Event) {\r\n        this.onTouched();\r\n    }\r\n\r\n    onFocus(event: Event) {\r\n        // // å¯ç¨ä»»æè¾å¥åï¼ææ¬æ¡å¾å°ç¦ç¹åä¸å¼¹åºä¸æé¢æ¿ã2021/02/19\r\n        // if (this.nosearch) {\r\n        //     return ;\r\n        // }\r\n\r\n        // if (!this.isOpen) {\r\n        //     this.comboService.isOpen$.next(true);\r\n        //     // å»¶è¿æ§è¡åæ´æ£æµ æ´æ°å¼¹åºæ¡ä½ç½®\r\n        // of('').pipe(debounceTime(0)).subscribe(() => {\r\n        //     this.cdr.detectChanges();\r\n        // });\r\n        // } else {\r\n        //     this.hide();\r\n        // }\r\n    }\r\n\r\n    onInputclick($event?: any) {\r\n        if ($event && $event.stopPropagation) {\r\n            $event.stopPropagation();\r\n        }\r\n        this.comboService.isOpen$.next(!this.isOpen);\r\n    }\r\n\r\n    onEnter(event: Event) { }\r\n\r\n    blur() {\r\n        this.input.textbox.nativeElement.blur();\r\n    }\r\n\r\n    focus() {\r\n        this.input.textbox.nativeElement.focus();\r\n    }\r\n\r\n    onClear() {\r\n        this.selectedValues = '';\r\n        this.selections = [];\r\n        this.comboService.selections = [];\r\n        this.onValueChange({ text: '', value: '', selections: [] });\r\n        this.clear.emit();\r\n        if (this.isOpen && this.hidePanelOnClear) {\r\n            // this.comboService.isOpen$.next(false);\r\n            this.willHide$.next();\r\n        } else {\r\n            if (this.isOpen && this.comboService.displayType === 'LIST') {\r\n                this.comboService.serachValue$.next('');\r\n            }\r\n        }\r\n    }\r\n\r\n    private getInputSizeInfo() {\r\n        const el: any = this.viewType === 'text' ? this.input.inputGroup : this.input2;\r\n        return el.nativeElement.getBoundingClientRect();\r\n    }\r\n\r\n\r\n    private emitTextChange() {\r\n        return this.textChangeSubject.pipe(\r\n            debounceTime(200)\r\n        ).subscribe((r: any) => {\r\n            const _selectedValues = this.selectedValues;\r\n            const val = r ? r : this.displayText;\r\n\r\n            if (r === '') {\r\n                this.onClear();\r\n            } else if (this.nosearch) {\r\n                this.onValueChange({ text: r, value: '', selections: this.selections, nosearch: true });\r\n            }\r\n\r\n            if (!this.remoteSearch) {\r\n                if (!this.multiSelect) {\r\n                    if (this.comboService.displayType === 'LOOKUPTREELIST') {\r\n                        this.treeClientSearch.next(val);\r\n                    } else {\r\n                        this.comboService.serachValue$.next(val);\r\n                    }\r\n                } else {\r\n                    const valArr = (val + '').split(this.separator);\r\n                    const appendVal = valArr[valArr.length - 1] ? valArr[valArr.length - 1] : '';\r\n                    this.comboService.serachValue$.next(appendVal);\r\n                }\r\n                // if (_selectedValues !== this.selectedValues) {\r\n                //     this.onValueChange({ text: this.displayText, value: this.selectedValues, selections: this.selections });\r\n                // }\r\n\r\n            } else {\r\n                this.filterDataOnServer(val, '*');\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n    private __createPanel(value: any, searchParam = null) {\r\n        let params: any = {\r\n        };\r\n        let method = 'get';\r\n        if (value instanceof Object) {\r\n            const { params: _p, data, method: _m, showDialog } = value;\r\n            if (showDialog === false) {\r\n                return;\r\n            }\r\n\r\n            if (data) {\r\n                params = {data};\r\n                this.customData = data;\r\n            } else {\r\n                if (_p) {\r\n                    params = {data: _p};\r\n                    this.customData = _p;\r\n                } else {\r\n                    this.customData = null;\r\n                }\r\n            }\r\n\r\n            if (_m) {\r\n                method = _m;\r\n            }\r\n        } else if (typeof value === 'boolean') {\r\n            if (value === false) {\r\n                return;\r\n            }\r\n        }\r\n\r\n\r\n        this.initCreatPanelAction();\r\n\r\n        if (this.uri) {\r\n            this.updateSelectedValues();\r\n\r\n            if (this.isLookup()) {\r\n                this.isOpen = true;\r\n            }\r\n        } else {\r\n            this.isOpen = true;\r\n        }\r\n\r\n\r\n        if (this.comboService.displayType === 'LOOKUPTREELIST') {\r\n            params.enableFullTree = this['enableFullTree'];\r\n            params.loadTreeDataType = this['loadTreeDataType'];\r\n        }\r\n\r\n        if (this.isLookup() && this.input && this.nosearch) {\r\n            this.input.textbox.nativeElement.disabled = true;\r\n        }\r\n\r\n        const focusInput = () => {\r\n            if (this.isLookup() && this.input  && this.nosearch) {\r\n                this.input.textbox.nativeElement.disabled = false;\r\n                this.input.focus();\r\n            }\r\n        };\r\n\r\n        if (searchParam) {\r\n            params.searchValue = searchParam.searchValue;\r\n        }\r\n\r\n        let selectedIds = this.selectedValues;\r\n\r\n        if (this.isLookup() ) {\r\n            if (this.el.nativeElement['__zone_symbol__UIStateBindingChangefalse'] || \r\n                (this.mapFields && !this.mapFields[this.idField])) {\r\n                selectedIds = this.comboService['__SELECTEDIDS__'];\r\n            }\r\n            const _expLevel = this['expandLevel'];\r\n            params['expandLevel'] = _expLevel;\r\n        }\r\n\r\n        this.initdataSubscription = this.comboService.initData(params, method, selectedIds).pipe(\r\n            throwIfEmpty(focusInput)\r\n        ).subscribe(n => {\r\n            if (!this.isOpen) {\r\n                this.isOpen = true;\r\n            }\r\n            focusInput();\r\n            this.cdr.detectChanges();\r\n        });\r\n\r\n        // ç¦æ­¢æ»å¨\r\n        // this.render.setStyle(this.containerElement, 'pointer-events', 'auto');\r\n        this.ngZone.runOutsideAngular(() => {\r\n            this.registerDocumentEvent();\r\n        });\r\n    }\r\n\r\n    // æ¾ç¤ºåäºä»¶\r\n    private onBeforeShow() {\r\n        if (!this.beforeShow) {\r\n            this.beforeShow = () => of('');\r\n        }\r\n        return this.beforeShow(this).pipe(take(1));\r\n    }\r\n    private isLookup() {\r\n        return this.comboService.displayType.indexOf('LOOKUP') > -1;\r\n    }\r\n\r\n    // éèåäºä»¶\r\n    private onBeforeHide() {\r\n        if (!this.beforeHide) {\r\n            this.beforeHide = () => of('');\r\n        }\r\n        this.beforeHide(this).pipe(\r\n            take(1)\r\n        ).subscribe(value => {\r\n            if (typeof value === 'boolean') {\r\n                if (value) {\r\n                    this.hide(true);\r\n                }\r\n            } else if (typeof value === 'object') {\r\n                if (value.hide) {\r\n                    this.hide(true);\r\n                } else {\r\n                    if (value.message) {\r\n                        if (this.notifySer) {\r\n                            this.notifySer.warning(value.message);\r\n                        } else {\r\n                            // console.info(value.message);\r\n                        }\r\n                    }\r\n                }\r\n            } else {\r\n                this.hide(true);\r\n            }\r\n        });\r\n    }\r\n\r\n    // æ¾ç¤ºæéèä¸ææ¡\r\n    private initToggleAction() {\r\n        this.comboService.isOpen$.pipe(\r\n            debounceTime(20),\r\n            takeUntil(this.destroy$),\r\n            skip(1)\r\n        ).subscribe(value => {\r\n            if (this.readonly || this.disabled) {\r\n                return;\r\n            }\r\n\r\n            let open = value;\r\n            let searchParam = null;\r\n            if (typeof value === 'object') {\r\n                open = value.isOpen;\r\n                searchParam = value.search;\r\n            }\r\n\r\n            if (open) {\r\n                this.onBeforeShow().subscribe((v) => {\r\n                    this.__createPanel(v, searchParam);\r\n                });\r\n                return;\r\n            } else {\r\n                this.onBeforeHide();\r\n            }\r\n\r\n            this.cdr.detectChanges();\r\n        });\r\n\r\n        this._comboPanelCreated$.pipe(\r\n            takeUntil(this.destroy$),\r\n            filter(value => !!value)\r\n        ).subscribe((cmp: ElementRef) => {\r\n            cmp.nativeElement.style.display = '';\r\n\r\n            this.initCreatPanelAction();\r\n\r\n\r\n            this.panelElement.appendChild(cmp.nativeElement);\r\n            let transitionFlag = true;\r\n            cmp.nativeElement.addEventListener('transitionend', (e: any) => {\r\n                if (e.target === e.currentTarget && transitionFlag) {\r\n                    transitionFlag = false;\r\n                    this.showPanel.emit(this);\r\n                }\r\n            });\r\n\r\n            if (this.isLookup()) {\r\n                cmp.nativeElement.style.width = `${this.panelWidth}px`;\r\n                cmp.nativeElement.style.height = `${this.panelHeight}px`;\r\n                setTimeout(() => {\r\n                    this.render.addClass(cmp.nativeElement, 'f-area-show');\r\n                }, 0);\r\n            }\r\n         \r\n            // this.updatePosition(cmp.nativeElement);\r\n            // this.cdr.detectChanges();\r\n        });\r\n\r\n        this.destroy$.pipe(take(1)).subscribe(() => {\r\n            this.comboService.closeLoading();\r\n            nextUniqueId = 0;\r\n            if (this.panelListener) {\r\n                this.panelListener();\r\n            }\r\n            if (this.initdataSubscription) {\r\n                this.initdataSubscription.unsubscribe();\r\n                this.initdataSubscription = null;\r\n            }\r\n            this.removePanelElement();\r\n        });\r\n    }\r\n\r\n    private iframeEventHandle(action: 'addEventListener' | 'removeEventListener') {\r\n        const iframes = Array.from(document.querySelectorAll('iframe'));\r\n        if (iframes && iframes.length) {\r\n            for (const iframe of iframes) {\r\n                const iframeDoc = iframe.contentDocument;\r\n                if (iframeDoc) {\r\n                    iframeDoc[action]('mousedown', this._documentClickEvent);\r\n                    iframeDoc[action]('mousewheel', this._documentClickEvent);\r\n                    iframeDoc[action]('DOMMouseScroll', this._documentClickEvent);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    private removeDocumentListener() {\r\n        if (this._documentClickEvent) {\r\n            document.removeEventListener('mousedown', this._documentClickEvent, true);\r\n            document.removeEventListener('mousewheel', this._documentClickEvent, true);\r\n            document.removeEventListener('DOMMouseScroll', this._documentClickEvent, true);\r\n\r\n            if (top !== window) {\r\n                top.document.body.removeEventListener('mousedown', this._documentClickEvent, true);\r\n            }\r\n\r\n            this.iframeEventHandle('removeEventListener');\r\n            this._documentClickEvent = null;\r\n        }\r\n    }\r\n\r\n    private registerDocumentEvent() {\r\n        // æ³¨å mousedown äºä»¶ éèpanel\r\n        document.addEventListener('mousedown', (this._documentClickEvent = event => {\r\n\r\n            if (event.type === 'mousewheel' && this.el.nativeElement.contains(event.target)) {\r\n                this.comboService.isOpen$.next(false);\r\n                return;\r\n            }\r\n\r\n            if (\r\n                !this.el.nativeElement.contains(event.target) && this._cmbPanel && !this.contains(this._cmbPanel, event)\r\n            ) {\r\n                this.comboService.isOpen$.next(false);\r\n                // this.willHide$.next();\r\n            }\r\n        }), true);\r\n\r\n        document.addEventListener('mousewheel', this._documentClickEvent, true);\r\n        document.addEventListener('DOMMouseScroll', this._documentClickEvent, true);\r\n\r\n        if (top !== window) {\r\n            top.document.body.addEventListener('mousedown', this._documentClickEvent, true);\r\n        }\r\n\r\n        this.iframeEventHandle('addEventListener');\r\n    }\r\n\r\n\r\n    // åå»ºä¸æé¢æ¿æ¶äºä»¶\r\n    private initCreatPanelAction() {\r\n        if (this.panelElement) {\r\n            return;\r\n        }\r\n        this.createPanel(document.body);\r\n        this.panelListener = this.render.listen(this.panelElement, 'click', (e: Event) => {\r\n            e.stopPropagation();\r\n        });\r\n    }\r\n\r\n    private removePanelElement() {\r\n        reqAnimFrame(() => {\r\n            if (this.panelElement) {\r\n                document.body.removeChild(this.panelElement);\r\n                this.panelElement = null;\r\n            }\r\n        });\r\n    }\r\n\r\n    private initSelectionsChangeAction() {\r\n        this.comboService.selections$.pipe(\r\n            takeUntil(this.destroy$),\r\n            debounceTime(100)\r\n        ).subscribe(value => {\r\n            if (value.action === 'initData') {\r\n                this.onSelectionsChange(this.selections);\r\n            } else {\r\n                this.onSelectionsChangeDefault();\r\n                if(this.isLookup()) {\r\n                    this.updateSelectedValues();\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    protected initDatasChangeAction() { }\r\n\r\n    // canNull è§£å³åæ¶éä¸­æ¶ä¾ç¶æ¾ç¤º\r\n    private onSelectionsChangeDefault() {\r\n\r\n        const _displayText = this.comboService.getValue(this.textField);\r\n        const _selectedValues = this.comboService.getValue(this.idField);\r\n\r\n        if (this.displayText !== _displayText && !this.nosearch) {\r\n            this.displayText = _displayText || this.displayText;\r\n            this.displayText = this.displayText || '';\r\n            this.originalText = _selectedValues ? _displayText : this.displayText;\r\n        }\r\n\r\n        if (this.input) {\r\n            this.input.textbox.nativeElement.value = this.displayText;\r\n        }\r\n\r\n        this.selectedValues =\r\n            (_selectedValues !== '' && _selectedValues !== undefined && _selectedValues !== null) ? _selectedValues : this.selectedValues;\r\n\r\n\r\n        if (!this.cdr['destroyed']) {\r\n            this.cdr.detectChanges();\r\n        }\r\n    }\r\n\r\n    protected onSelectionsChange(v: any[]) { }\r\n\r\n    updateMappingFieldValue(clearMapFields = false) {\r\n        if (\r\n            this.mappingField &&\r\n            this.ngControl &&\r\n            this.ngControl.formDirective &&\r\n            this.ngControl.formDirective.form &&\r\n            this.ngControl.formDirective.form.bindingData\r\n        ) {\r\n            const bindingData = this.ngControl.formDirective.form.bindingData;\r\n\r\n            if (clearMapFields) {\r\n                this.selectedValues = '';\r\n            }\r\n\r\n            if (bindingData.setValue) {\r\n                const bindingPath = this.ngControl.formDirective.form.bindingPath;\r\n                let pathArr: string[] = [];\r\n                if (bindingPath) {\r\n                    pathArr = bindingPath.split('/').filter(n => n !== '');\r\n                }\r\n                const mappingField = this.mappingField ? this.mappingField : '';\r\n                bindingData.setValue(pathArr.concat(mappingField.split('.')), this.selectedValues, true, true);\r\n            } else if (this.commonUtils) {\r\n                this.commonUtils.setValue(bindingData, this.mappingField, this.selectedValues);\r\n            }\r\n            // if (!bindingData.setValue && this.commonUtils) {\r\n            //     this.commonUtils.setValue(bindingData, this.mappingField, this.selectedValues);\r\n            // }\r\n        }\r\n    }\r\n\r\n    updateSelectedValues() {\r\n        if (\r\n            this.mappingField &&\r\n            this.ngControl &&\r\n            this.ngControl.formDirective &&\r\n            this.ngControl.formDirective.form &&\r\n            this.ngControl.formDirective.form.bindingData\r\n        ) {\r\n            const bindingData = this.ngControl.formDirective.form.bindingData;\r\n            if (bindingData.getValue) {\r\n                const bindingPath = this.ngControl.formDirective.form.bindingPath;\r\n                let pathArr: string[] = [];\r\n                if (bindingPath) {\r\n                    pathArr = bindingPath.split('/').filter(value => value !== '');\r\n                }\r\n                const mappingField = this.mappingField ? this.mappingField : '';\r\n                this.selectedValues = bindingData.getValue(pathArr.concat(mappingField.split('.')));\r\n            } else if (this.commonUtils) {\r\n                this.selectedValues = this.commonUtils.getValue(this.mappingField, bindingData);\r\n            }\r\n        } else if (!this.mappingField) {\r\n            // this.selectedValues = this.displayText\r\n        }\r\n    }\r\n    onTextChange(val?: string) {\r\n        this.isTextChange = true;\r\n        if (this.nosearch) {\r\n            this.selectedValues = val;\r\n            this.updateMappingFieldValue(this.isLookup());\r\n            this.onChange(val);\r\n        }\r\n\r\n        if (!this.isOpen && this.comboService.displayType === 'LIST') {\r\n            this.isOpen = true;\r\n        }\r\n\r\n        this.textChangeSubject.next(val);\r\n    }\r\n\r\n    onValueChange(changes: ComboChanges) {\r\n        this.displayText = changes.text;\r\n        this.originalText = this.displayText;\r\n        if (!this.uri && this.data && this.data.length > 0 && (!this['displayType'] || this.useValue) ) {\r\n            this.onChange(this.selectedValues);\r\n        } else {\r\n            this.onChange(this.displayText);\r\n        }\r\n        // if (!changes.nosearch) {\r\n        // }\r\n        this.valueChange.emit(changes);\r\n        this.updateMappingFieldValue();\r\n        this.onTouched();\r\n        // if (this.isOpen && changes.emitHidePanel) { this.willHide$.next(); }\r\n    }\r\n\r\n    onSelect(item: any) { }\r\n    onUnSelected(item: any) { }\r\n\r\n    /**\r\n     * emit: é»è®¤ä¸º true;\r\n     */\r\n    hide(emit = true) {\r\n        if (!this.isOpen) {\r\n            return;\r\n        }\r\n        this.removeDocumentListener();\r\n        this.isOpen = false;\r\n        if (emit) {\r\n            this.willHide$.next();\r\n        }\r\n\r\n        if (this.initdataSubscription) {\r\n            this.initdataSubscription.unsubscribe();\r\n            this.initdataSubscription = null;\r\n        }\r\n        this.removePanelElement();\r\n    }\r\n\r\n    show() {\r\n        if (this.isOpen) {\r\n            return;\r\n        }\r\n        this.onBeforeShow().subscribe((value: any) => {\r\n            this.__createPanel(value);\r\n        });\r\n        this.cdr.detectChanges();\r\n    }\r\n\r\n    private createPanel(host: HTMLElement) {\r\n        this.panelElement = this.document.createElement('div');\r\n\r\n        this.panelElement.id = `overlay-${nextUniqueId++}`;\r\n        this.panelElement.classList.add('overlay-pane');\r\n\r\n        this.panelElement.style.display = 'none';\r\n\r\n        host.appendChild(this.panelElement);\r\n\r\n        this.comboService.panelElement = this.panelElement;\r\n\r\n        if (this.isLookup()) {\r\n            const { panelWidth, top, left } = this.getPanelSize();\r\n            this.panelElement.style.width = `${panelWidth}px`;\r\n            this.panelElement.style.height = `${this.panelHeight}px`;\r\n            this.panelElement.style.top = `${top}px`;\r\n            this.panelElement.style.left = `${left}px`;\r\n        } else {\r\n            this.panelElement.style.overflow = 'hidden';\r\n            this.render.setStyle(this.panelElement, 'top', '0');\r\n            this.render.setStyle(this.panelElement, 'left', '0');\r\n        }\r\n\r\n        const zindex = this.commonUtils.getFloatingLayerIndex();\r\n        this.panelElement.style.zIndex = zindex;\r\n        this.panelElement.classList.add('f-combo-lookup');\r\n        this.panelElement.style.display = '';\r\n    }\r\n\r\n    private getPanelSize(target?: Element) {\r\n        let panelHeight = this.panelHeight;\r\n        this.innerPanelHeight = 202;\r\n\r\n        if (this.autoWidth) {\r\n            const { width } = this.getInputSizeInfo();\r\n            this.panelWidth = width ? width : this.panelWidth;\r\n        }\r\n        // å¦ætageté«åº¦å­å¨ ä¿®æ¹pnaelHeight ç¨äºéå®ä½å¼¹åºæ¡ä½ç½®\r\n        if (target && target.tagName && panelHeight === 'auto') {\r\n            const targetHeight = target.scrollHeight;\r\n            const isNoRecord = !!target.querySelector('.f-table-norecords-content');\r\n            // if (this.uri) {\r\n            //     if (this.data && this.data.length) {\r\n            //         if (this.comboService.displayType === 'LIST' && target.querySelector('.list-group')) {\r\n            //             this.innerPanelHeight = target.querySelector('.list-group')['offsetHeight'] + 2;\r\n            //         } else {\r\n            //             this.innerPanelHeight = targetHeight;\r\n            //         }\r\n            //     }\r\n            // } else {\r\n            //     this.innerPanelHeight = targetHeight && targetHeight > 10 && !isNoRecord ? Math.floor(targetHeight) : this.panelHeight;\r\n            // }\r\n\r\n            if (this.data && this.data.length) {\r\n                if (this.comboService.displayType === 'LIST' && target.querySelector('.list-group')) {\r\n                    this.innerPanelHeight = target.querySelector('.list-group')['offsetHeight'] + 2;\r\n                } else {\r\n                    this.innerPanelHeight = targetHeight;\r\n                }\r\n            }\r\n\r\n        } else if (target && target.tagName && panelHeight && !String(panelHeight).includes('px')) {\r\n            panelHeight = panelHeight;\r\n        }\r\n        let { top, height, left, right } = this.el.nativeElement.getBoundingClientRect();\r\n        height = height + 1;\r\n        const bottom = window.innerHeight - height - top;\r\n        if (panelHeight === 'auto') {\r\n            if (this.maxHeight && this.maxHeight > this.innerPanelHeight) {\r\n                panelHeight = this.innerPanelHeight;\r\n            } else {\r\n                panelHeight = this.maxHeight;\r\n            }\r\n        }\r\n\r\n        const h = top > bottom ? top : bottom;\r\n        const below = h === bottom;\r\n\r\n        let fx = 'top';\r\n        if (bottom > panelHeight) {\r\n            top = top + height;\r\n        } else {\r\n            if (top > bottom) {\r\n                if (h < panelHeight) {\r\n                    panelHeight = h - 10;\r\n                    top = 10;\r\n                } else {\r\n                    top = top - parseInt('' + panelHeight, 10) - 5;\r\n                }\r\n                fx = 'bottom'\r\n            } else {\r\n                if (h < panelHeight) {\r\n                    panelHeight = h - 10;\r\n                }\r\n                top = top + height;\r\n            }\r\n        }\r\n        let panelWidth = this.panelWidth;\r\n        if (window.innerWidth - left < this.panelWidth) {\r\n            // left = right - 400;\r\n            if (left + this.el.nativeElement.offsetWidth > this.panelWidth) {\r\n                left = left + this.el.nativeElement.offsetWidth - this.panelWidth;\r\n            } else {\r\n                left = 0;\r\n                panelWidth = window.innerWidth> this.panelWidth ? this.panelWidth : window.innerWidth - 10;\r\n            }\r\n        }\r\n\r\n        return { panelWidth, panelHeight, top, left, below, fx };\r\n    }\r\n    private compatibleScrollTop() {\r\n        if (document.scrollingElement) {\r\n            return document.scrollingElement.scrollTop;\r\n        }\r\n\r\n        return Math.max(window.pageYOffset, document.documentElement.scrollTop, document.body.scrollTop);\r\n    }\r\n    private compatibleScrollLeft() {\r\n        if (document.scrollingElement) {\r\n            return document.scrollingElement.scrollLeft;\r\n        }\r\n\r\n        return Math.max(window.pageXOffset, document.documentElement.scrollLeft, document.body.scrollLeft);\r\n    }\r\n    // è®¾ç½®å¼¹åºæ¡ä½ç½®\r\n    updatePosition(target: any) {\r\n        const { panelHeight, left, top, below, fx } = this.getPanelSize(target);\r\n\r\n        if (!this.isLookup()) {\r\n            let _top = top;\r\n            let _height = panelHeight;\r\n            if (top < 0) {\r\n                _height = this.innerPanelHeight + top - 10;\r\n                _top = 10;\r\n            }\r\n            _top += this.compatibleScrollTop();\r\n\r\n            if (this.panelHeight !== 'auto') {\r\n                if (this.maxHeight < _height) {\r\n                    this.maxHeight = _height as number;\r\n                }\r\n            }\r\n\r\n            this.comPosition = {\r\n                'left': left + this.compatibleScrollLeft(),\r\n                'top': _top,\r\n                'width': this.panelWidth,\r\n                height: _height === 'auto' ? 'auto' : _height,\r\n                'max-height': this.maxHeight\r\n            };\r\n        } else {\r\n            this.comPosition = {\r\n                'width': this.panelWidth,\r\n                'height': panelHeight\r\n            };\r\n        }\r\n        this.panelElement.style.overflow = '';\r\n        target['style'].display = '';\r\n\r\n        Object.keys(this.comPosition).forEach(n => {\r\n            let val = this.comPosition[n];\r\n            if (val !== 'auto') {\r\n                val += 'px';\r\n            }\r\n            this.render.setStyle(target, n, val);\r\n        });\r\n        target.style.transformOrigin = '100% ' + fx;\r\n        // target['style'].visibility = 'visible';\r\n        return this.comPosition;\r\n    }\r\n\r\n    contains(el: ElementRef, event: any) {\r\n        return el.nativeElement.contains(event.target);\r\n    }\r\n\r\n    protected filterSelections(value: string, data: any[]) {\r\n        const selectedItems = String(value)\r\n            .split(this.separator)\r\n            .map(selectedItem => {\r\n                const item = data.find(val => selectedItem == this.commonUtils.getValue(this.idField, val) + '');\r\n                return item ? this.commonUtils.getValue(this.textField, item) : '';\r\n            });\r\n        return selectedItems.filter(el => el);\r\n    }\r\n\r\n    protected updateSelections(selectedValues: string, data: any[]) {\r\n        if (selectedValues === null || selectedValues === undefined) {\r\n            this.selections = [];\r\n        }\r\n\r\n        if (typeof selectedValues === 'boolean' || typeof selectedValues === 'number') {\r\n            selectedValues = '' + selectedValues;\r\n        }\r\n\r\n        const selectedItems = selectedValues ? String(selectedValues).split(this.separator).map(val => {\r\n            if (this.comboService.displayType === 'LOOKUPTREELIST') {\r\n                return this.comboService.treeNodeToFlatData(data, val, this.idField);\r\n            }\r\n            return data.find(_data => '' + val == this.commonUtils.getValue(this.idField, _data) + '');\r\n\r\n        }) : [];\r\n        this.selections = selectedItems || [];\r\n    }\r\n\r\n    private getDisplayText(value, data) {\r\n        if (value !== null && value !== undefined) {\r\n            const selectedItems = this.filterSelections(value, data);\r\n            if (!selectedItems || !selectedItems.length) {\r\n                return value;\r\n            } else {\r\n                return selectedItems.filter(v => !!v).join(this.separator);\r\n            }\r\n        } else {\r\n            return '';\r\n        }\r\n    }\r\n\r\n    writeValue(value: any): void {\r\n        let data = [];\r\n        if (this.data instanceof Array) {\r\n            data = this.data;\r\n        } else if (this.data) {\r\n            data = (this.data['items'] as any) instanceof Array ? this.data['items'] : data;\r\n        }\r\n\r\n        this.originalText = value;\r\n        // è§£å³ uistate binding ä¸­åæ¬¡ç»å®æ¶è®¾ç½®äº selectedValues å¼ ï¼æ­¤å¤æ¸ç©ºåå¯¼è³ä¸æå¸®å©è·åéä¸­è®°å½ä¸æ­£ç¡®\r\n        // this.selectedValues = '';\r\n\r\n        if (!this.uri && data && data.length > 0) {\r\n            if (this.isLookup()) {\r\n                if (this.selectedValues === undefined || this.selectedValues === null) {\r\n                    this.selectedValues = value;\r\n                }\r\n            } else {\r\n                this.selectedValues = value;\r\n            }\r\n            this.updateSelections(this.selectedValues, data);\r\n            this.displayText = this.getDisplayText(this.selectedValues, this.selections || []);\r\n\r\n            if (this.isLookup()) {\r\n                this.displayText = this.displayText === this.selectedValues ? value: this.displayText;\r\n            }\r\n\r\n            this.originalText = this.displayText;\r\n        } else {\r\n            // this.displayText = this.getDisplayText(value, this.selections);\r\n            this.displayText = value;\r\n            if (this.el.nativeElement['__zone_symbol__UIStateBindingChangefalse']) {\r\n                this.comboService['__SELECTEDIDS__'] = this.selectedValues;\r\n            }\r\n            \r\n            this.updateSelectedValues();\r\n            \r\n            if (this.selectedValues === undefined || this.selectedValues === null) {\r\n                this.selectedValues = value;\r\n            }\r\n            \r\n            if (this.viewType === 'tag' && this.multiSelect && (this.displayText !== null && this.displayText !== undefined)) {\r\n                const txtArr = this.displayText.split(this.separator).filter(n => n);\r\n                this.selections = txtArr.reduce((r, c, i) => {\r\n                    r.push({ [this.textField]: c });\r\n                    return r;\r\n                }, []);\r\n            }\r\n        }\r\n\r\n      \r\n        this.cdr.markForCheck();\r\n    }\r\n    registerOnChange(fn: any): void {\r\n        this.onChange = fn;\r\n    }\r\n    registerOnTouched(fn: any): void {\r\n        this.onTouched = fn;\r\n    }\r\n    setDisabledState?(isDisabled: boolean): void {\r\n        this.disabled = isDisabled;\r\n        this.cdr.markForCheck();\r\n    }\r\n\r\n    filterDataOnServer(searchValue, searchField) {\r\n    }\r\n}\r\n","\r\nimport { Component, ElementRef, ChangeDetectorRef, Inject, Renderer2, forwardRef, ChangeDetectionStrategy,\r\n         ViewEncapsulation, Input, Injector, OnInit, OnChanges, SimpleChanges, ViewChild, HostBinding, HostListener } from '@angular/core';\r\nimport { DOCUMENT } from '@angular/common';\r\nimport { NG_VALUE_ACCESSOR } from '@angular/forms';\r\nimport { DatalistComponent } from '@farris/ui-datalist';\r\nimport { BaseComboComponent } from './base-combo.component';\r\nimport { SelectItem } from './combo.interface';\r\nimport { ComboService } from './combo.service';\r\nimport { filter, take, takeUntil } from 'rxjs/operators';\r\n\r\n\r\nexport const INPUT_COMBO_VALUE_ACCESSOR: any = {\r\n    provide: NG_VALUE_ACCESSOR,\r\n    useExisting: forwardRef(() => ComboListComponent),\r\n    multi: true\r\n};\r\n@Component({\r\n    selector: 'farris-combo-list',\r\n    templateUrl: './combo-list.component.html',\r\n    // styleUrls: ['./combo-list.component.scss'],\r\n    encapsulation: ViewEncapsulation.None,\r\n    changeDetection: ChangeDetectionStrategy.OnPush,\r\n    providers: [INPUT_COMBO_VALUE_ACCESSOR, ComboService]\r\n})\r\nexport class ComboListComponent extends BaseComboComponent implements OnInit, OnChanges {\r\n    @Input() itemTemplate: any;\r\n\r\n    /** æ°æ®ä¸­æ è¯ç¦ç¨çå­æ®µåç§°ï¼é»è®¤ä¸º disabled */\r\n    @Input() disabledField = 'disabled';\r\n    /** åè¡¨ä¸­æ¯å¦æ¾ç¤ºå·²ç¦ç¨çé¡¹ï¼é»è®¤ true */\r\n    @Input() showDisabledItem = true;\r\n\r\n    /**\r\n     * æ¾ç¤ºé¢æ¿æ¹å¼ï¼ click | focus, é»è®¤ï¼ click\r\n     */\r\n    @Input() showPanelType: 'click'|'focus' = 'click';\r\n    @ViewChild('dl') dataListRef: DatalistComponent;\r\n    @Input() itemHeight: number;\r\n    @HostBinding('class.f-combo-list') cls = true;\r\n    @HostBinding('class.f-combo-list--tag')\r\n    get clsTag() {\r\n        return this.viewType === 'tag';\r\n    }\r\n\r\n    private filterData: any[] = [];\r\n    constructor(\r\n        public el: ElementRef,\r\n        public cdr: ChangeDetectorRef,\r\n        @Inject(DOCUMENT) public document: any,\r\n        public render: Renderer2,\r\n        public comboService: ComboService,\r\n        public injector: Injector\r\n    ) {\r\n        super(el, cdr, document, render, comboService, injector);\r\n    }\r\n\r\n    ngOnInit() {\r\n       super.ngOnInit();\r\n       if (this.multiSelect) {\r\n            this.enableCancelSelected = this.multiSelect;\r\n       }\r\n       this.remoteSearch = false;\r\n    }\r\n\r\n    ngOnChanges(changes: SimpleChanges): void {\r\n        /**\r\n         * å¦æç´æ¥ç»å®ä¸ä¸ªæ°ç»ä½ä¸ºåè¡¨æ°æ®å¹¶ä¸ data æ¯å¼æ­¥æ°æ®ï¼éè¦æ­¤æ¹æ³ï¼åæ­¥displayTextä¸selectedValues\r\n         */\r\n        if (changes.data && !changes.data.firstChange && !this.uri && !this.nosearch) {\r\n            const datas = changes.data.currentValue;\r\n            let val = this.ngControl ? this.ngControl.value || this.selectedValues : this.selectedValues;\r\n\r\n            if (this.selectedValues === undefined || this.selectedValues === null) {\r\n                val = this.displayText;\r\n            }\r\n\r\n            if (val !== undefined && val !== null && datas && datas.length > 0) {\r\n                const textArr = this.filterSelections(val, this.data);\r\n                this.displayText = textArr.filter(v => !!v).join(this.separator);\r\n                this.updateSelections(val, this.data);\r\n                this.comboService.selections$.next({action: 'initData'});\r\n            } else {\r\n                this.selections = [];\r\n                this.displayText = '';\r\n            }\r\n        }\r\n\r\n        // if (changes.multiSelect && !changes.multiSelect.isFirstChange()) {\r\n        //     this.enableCancelSelected = this.multiSelect;\r\n        // }\r\n    }\r\n\r\n    @HostListener('keydown', ['$event'])\r\n    registerKeyboardEvent($event: KeyboardEvent) {\r\n\r\n        if (this.multiSelect || (this.readonly || this.disabled))  {\r\n            return;\r\n        }\r\n\r\n        if ($event.code === 'ArrowUp' || $event.code === 'ArrowDown' ||\r\n            (!this.editable && !this.readonly && !this.disabled && $event.code === 'Space')) {\r\n            $event.preventDefault();\r\n            $event.stopPropagation();\r\n        }\r\n\r\n        const selectItem = (index) => {\r\n            this.comboService.selectItem(data[index], index, false);\r\n            const params = {data: data[index], index};\r\n            if (this.isOpen) {\r\n                this.scrollToCurrentItem(index);\r\n            }\r\n            this.updateSelectValues(params);\r\n        };\r\n\r\n\r\n        let data = this.filterData && this.filterData.length ? this.filterData : this.data;\r\n\r\n        if (!this['_cmbPanel']) {\r\n            data = this.data;\r\n        }\r\n\r\n        let _data = [];\r\n\r\n        if (this.disabledField) {\r\n            _data = data.filter(n => !this.commonUtils.getValue(this.disabledField, n))\r\n        }\r\n\r\n        const getrealIndex = (idx, nextIdx, isNext = true) => {\r\n            if (data[nextIdx]) {\r\n                // å¤æ­ä¸ä¸é¡¹æ¯å¦ç¦ç¨\r\n                const isDisabled = this.commonUtils.getValue(this.disabledField, data[nextIdx]);\r\n                if (isDisabled) {\r\n\r\n                    const _idx = _data.findIndex(n => this.commonUtils.getValue(this.idField, n) === this.commonUtils.getValue(this.idField, data[idx]));\r\n                    if (isNext) {\r\n                        nextIdx = _idx + 1;\r\n                    } else {\r\n                        nextIdx = _idx - 1;\r\n                    }\r\n                    if (_data[nextIdx]) {\r\n                        return data.findIndex(n => this.commonUtils.getValue(this.idField, n) === this.commonUtils.getValue(this.idField, _data[nextIdx]));\r\n                    } else {\r\n                        const newIdex = nextIdx > 0 ? 0 : _data.length -1;\r\n                        return data.findIndex(n => this.commonUtils.getValue(this.idField, n) === this.commonUtils.getValue(this.idField, _data[newIdex]) && !this.commonUtils.getValue(this.disabledField, n))\r\n                    }\r\n                }\r\n                return nextIdx;\r\n            }\r\n        }\r\n\r\n        const idx = data.findIndex(n => this.commonUtils.getValue(this.idField, n) == this.selectedValues);\r\n\r\n        if ($event.code === 'ArrowUp') {  // up\r\n            let prevIdx = idx - 1;\r\n            if (prevIdx < 0) {\r\n                prevIdx = data.length - 1;\r\n            }\r\n\r\n            if (this.disabledField) {\r\n                prevIdx = getrealIndex(idx,prevIdx, false);\r\n            }\r\n\r\n            selectItem(prevIdx);\r\n        }\r\n        if ($event.code === 'ArrowDown' || ($event.code === 'Space' && !this.editable)) { // down\r\n            let nextIdx = idx + 1;\r\n            if (nextIdx >= data.length) {\r\n                nextIdx = 0;\r\n            }\r\n\r\n            if (this.disabledField) {\r\n                nextIdx = getrealIndex(idx,nextIdx);\r\n            }\r\n\r\n            selectItem(nextIdx);\r\n        }\r\n    }\r\n\r\n\r\n\r\n    @HostListener('keydown.esc', ['$event'])\r\n    escHandlerEvent($event: KeyboardEvent) {\r\n        if (this.isOpen) {\r\n            this.hide(false);\r\n        }\r\n    }\r\n\r\n\r\n    protected onSelectionsChange(v: any[]) {\r\n        if (this.uri) {\r\n            if (this.selections && this.selections.length) {\r\n                this.selectedValues = this.selections.map(n => n[this.idField]).join(this.separator);\r\n            }\r\n        }\r\n    }\r\n\r\n    private updateSelectValues(item: SelectItem, emitEvent = true) {\r\n        const { data, index } = { ...item };\r\n        this.comboService.selectItem(data, index);\r\n        if (this.dataListRef) {\r\n            this.selectedValues = this.dataListRef.selectedValues;\r\n        }\r\n        if (!this.multiSelect) {\r\n            this.selectedValues = data[this.idField];\r\n        }\r\n\r\n        const _displayText = this.comboService.getValue(this.textField);\r\n        if (emitEvent) {\r\n            this.selectChange.emit({ data, index, instance: this, selections: this.selections });\r\n            this.cdr.markForCheck();\r\n            this.onValueChange({ text: _displayText, value: this.selectedValues, selections: this.selections });\r\n        }\r\n    }\r\n\r\n    private scrollToCurrentItem(index: number) {\r\n        if (this.dataListRef && this.dataListRef.el) {\r\n            const ulEl = this.dataListRef.el.nativeElement.querySelector('ul.list-group');\r\n            if (ulEl && ulEl.children && ulEl.children[index]) {\r\n                ulEl.children[index].scrollIntoView({block: 'nearest'});\r\n            }\r\n        }\r\n    }\r\n\r\n    onSelect(item: SelectItem) {\r\n        this.updateSelectValues(item, true);\r\n\r\n        if (!this.multiSelect) {\r\n            this.comboService.isOpen$.next(false);\r\n        }\r\n    }\r\n\r\n    onUnSelected(value: SelectItem) {\r\n        const { data } = { ...value };\r\n        this.comboService.unSelectItem(data);\r\n        if (this.dataListRef) {\r\n            this.selectedValues = this.dataListRef.selectedValues;\r\n        }\r\n        // if (!this.multiSelect) {\r\n        //     this.selectedValues = data[this.idField];\r\n        // }\r\n        const _displayText = this.comboService.getValue(this.textField);\r\n        this.cdr.markForCheck();\r\n        this.onValueChange({ text: _displayText, value: this.selectedValues, selections: this.selections });\r\n    }\r\n\r\n    onEnter(event: Event) {\r\n        if (this.isOpen) {\r\n            this.hide();\r\n        }\r\n    }\r\n\r\n    onKeyup($event) {\r\n\r\n    }\r\n\r\n    onKeydown($event: KeyboardEvent) {\r\n        if ($event.code === 'Tab') {\r\n            this.hide(false);\r\n        }\r\n    }\r\n\r\n    onFocus($event) {\r\n        if (this.showPanelType === 'focus') {\r\n            this.show();\r\n        }\r\n    }\r\n\r\n    removeSelectItem($event: MouseEvent, item) {\r\n        if ($event) {\r\n            $event.stopPropagation();\r\n        }\r\n        this.comboService.unSelectItem(item);\r\n        this.selectedValues = this.comboService.getValue(this.idField);\r\n        const _displayText = this.comboService.getValue(this.textField);\r\n        this.cdr.detectChanges();\r\n        this.onValueChange({ text: _displayText, value: this.selectedValues, selections: this.selections });\r\n    }\r\n\r\n    protected initDatasChangeAction() {\r\n        this.comboService.data$.subscribe(data => {\r\n            this.filterData = data;\r\n\r\n\r\n            if (data && data.length && !this.editable) {\r\n              \r\n                if (typeof this.selectedValues === 'boolean') {\r\n                    return;\r\n                }\r\n\r\n                if (this.selectedValues) {\r\n                    let idx = -1;\r\n                    let items = [];\r\n                    if (typeof this.selectedValues === 'number' || typeof this.selectedValues === 'boolean') {\r\n                        items = data.filter((n) => {\r\n                            return n[this.idField] === this.selectedValues || n[this.textField] === this.selectedValues;\r\n                        });\r\n                    } else {\r\n                        items = this.selectedValues.split(this.separator).map(val => {\r\n                            return data.find((n, i) => {\r\n                                return n[this.idField] === val || n[this.textField] === val;\r\n                            });\r\n                        });\r\n                    }\r\n\r\n\r\n                    if (!this.selections || !this.selections.length) {\r\n                        if (items && items.length) {\r\n                            this.selectedValues = items.map(i => {\r\n                                return this.commonUtils.getValue(this.idField, i);\r\n                            }).join(this.separator);\r\n                            this.selections = items;\r\n                        }\r\n                    }\r\n                    \r\n                    idx = data.findIndex(n => {\r\n                        return  this.commonUtils.getValue(this.idField, n)  === this.commonUtils.getValue(this.idField, this.selections[0]) || \r\n                        this.commonUtils.getValue(this.textField, n) === this.commonUtils.getValue(this.textField, this.selections[0]);\r\n                    });\r\n\r\n                    if (idx > -1) {\r\n                        setTimeout(() => {\r\n                            this.scrollToCurrentItem(idx);\r\n                        }, 300);\r\n                    }\r\n                }\r\n              \r\n              \r\n            }\r\n\r\n        });\r\n    }\r\n\r\n\r\n}\r\n","import { NotifyModule } from '@farris/ui-notify';\r\nimport { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { HttpClientModule } from '@angular/common/http';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { ComboListComponent } from './combo-list.component';\r\nimport { InputGroupModule } from '@farris/ui-input-group';\r\nimport { DatalistModule } from '@farris/ui-datalist';\r\nimport { LoadingModule } from '@farris/ui-loading';\r\nimport { ComboLocaleService } from './services/combo.locale.service';\r\n@NgModule({\r\n    declarations: [\r\n        ComboListComponent\r\n    ],\r\n    imports: [\r\n        CommonModule,\r\n        FormsModule,\r\n        HttpClientModule, \r\n        InputGroupModule,\r\n        LoadingModule.forRoot(),\r\n        DatalistModule,\r\n        NotifyModule.forRoot()\r\n    ],\r\n    exports: [ComboListComponent],\r\n    providers: [ComboLocaleService]\r\n})\r\nexport class ComboListModule {}\r\n"],"names":["InjectionToken","http","Subject","BehaviorSubject","debounceTime","LookupUtils","ServerSideToken","switchMap","map","catchError","of","tap","delay","Injectable","HttpClient","LoadingService","Injector","LocaleService","EventEmitter","CommonUtils","takeUntil","NgZone","EventManager","NotifyService","NgControl","fromEvent","throttle","interval","reqAnimFrame","throwIfEmpty","take","skip","filter","tslib_1.__values","ElementRef","ChangeDetectorRef","Inject","DOCUMENT","Renderer2","Input","Output","ViewChild","NG_VALUE_ACCESSOR","forwardRef","tslib_1.__extends","Component","ViewEncapsulation","ChangeDetectionStrategy","HostBinding","HostListener","NgModule","CommonModule","FormsModule","HttpClientModule","InputGroupModule","LoadingModule","DatalistModule","NotifyModule"],"mappings":"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"}
