{"version":3,"file":"farris-ui-response-toolbar.umd.js.map","sources":["node_modules/tslib/tslib.es6.js","ng://@farris/ui-response-toolbar/lib/model/response-toolbar.model.ts","ng://@farris/ui-response-toolbar/lib/resized/f-resized.events.ts","ng://@farris/ui-response-toolbar/lib/resized/f-resized.directive.ts","ng://@farris/ui-response-toolbar/lib/component/response-toolbar.component.ts","ng://@farris/ui-response-toolbar/lib/response-toolbar.module.ts"],"sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n","export class ResponseToolbarBasic {\r\n    id?: string; // æ è®°\r\n    class?: string; // class\r\n    icon?: string; // å¾æ å\r\n    groupId?: string; // æå±çç»,åªæä¸å±åæ\r\n    order?: number; // æ¶èé¡ºåº\r\n    asDropDownTop?: boolean; // æ¯å¦ä½ä¸ºä¸æèåçé¡¶å±æé®\r\n    text: string; // ææ¬\r\n    isDP: boolean;\r\n    disabled: boolean;//æ¯å¦ç¦ç¨\r\n    visible: boolean;//æ¯å¦å¯è§\r\n    responsed: boolean;    \r\n    tipsEnable?:boolean;//æ¯å¦å¯ç¨æç¤ºæ¶æ¯\r\n    tipsText?:string;//æç¤ºæ¶æ¯åå®¹\r\n    width: Number; // è®°å½å®½åº¦\r\n    constructor(item: any) {\r\n        const defaultData = {\r\n            id: '',\r\n            class: 'btn-secondary',\r\n            icon: '',\r\n            groupId: '',\r\n            order: -1,\r\n            asDropDownTop: false,\r\n            text: '',\r\n            isDP: false,\r\n            disabled: false,\r\n            visible: true,\r\n            responsed: false,\r\n            width: 0,\r\n            tipsEnable:false,\r\n            tipsText:''\r\n        };\r\n        Object.keys(defaultData).forEach(propName => {\r\n            this[propName] = item.hasOwnProperty(propName)\r\n                ? item[propName]\r\n                : defaultData[propName];\r\n        });\r\n    }\r\n    // è®¾ç½®å®½åº¦\r\n    setWidth(value: string) {\r\n        this.width = parseInt(value, 10);\r\n    }\r\n    // è·åå®½åº¦\r\n    getWidth(): any {\r\n        if(this.visible){\r\n            return this.width;\r\n        }\r\n        return false;\r\n    }\r\n}\r\n\r\nexport class ResponseToolbarItem extends ResponseToolbarBasic {\r\n    event: Function | null; // ç¹å»äºä»¶\r\n    constructor(item: any) {\r\n        super(item);\r\n        const defaultData = {\r\n            text: '',\r\n            event: null,\r\n            isDP: false\r\n        };\r\n        Object.keys(defaultData).forEach(propName => {\r\n            this[propName] = item.hasOwnProperty(propName)\r\n                ? item[propName]\r\n                : defaultData[propName];\r\n        });\r\n    }\r\n    // // è®¾ç½®å®½åº¦\r\n    // setWidth(value: string) {\r\n    //   this.width = parseInt(value, 10);\r\n    // }\r\n    // // è·åå®½åº¦\r\n    // getWidth() {\r\n    //   return this.width;\r\n    // }\r\n}\r\n\r\nexport class ResponseToolbarDropDown extends ResponseToolbarBasic {\r\n    placement?: string; // ä¸æä½ç½®\r\n    topItem?: ResponseToolbarItem | null;\r\n    dropdownCls: string; // ä¸æclass\r\n    menuCls: string; // ä¸æèåclass\r\n    split: boolean; // æ¯å¦ç¨åå¼çä¸ææé®\r\n    children: Array<ResponseToolbarItem | ResponseToolbarDropDown>;\r\n    constructor(item) {\r\n        super(item);\r\n        const defaultData = {\r\n            topItem: null,\r\n            isDP: true,\r\n            children: [],\r\n            class: 'btn-secondary',\r\n            dropdownCls: '',\r\n            menuCls: '',\r\n            placement: '',\r\n            split: false\r\n        };\r\n\r\n        Object.keys(defaultData).forEach(propName => {\r\n            this[propName] = item.hasOwnProperty(propName)\r\n                ? item[propName]\r\n                : defaultData[propName];\r\n        });\r\n    }\r\n    /**\r\n     * æ¯å¦æå­é¡¹\r\n     */\r\n    hasChild(): boolean {\r\n        return this.children.length > 0 ? true : false;\r\n    }\r\n    /**\r\n     * è¿½å å­é¡¹,é»è®¤ä»å¼å¤´æå¥\r\n     * @param item\r\n     */\r\n    addChild(item) {\r\n        this.children.unshift(item);\r\n    }\r\n    // ä»å¤´é¨å¼å§å é¤å­åç´ \r\n    removeChild(){\r\n        this.children.shift();\r\n    }\r\n    // // è®¾ç½®å®½åº¦\r\n    // setWidth(value: string) {\r\n    //   this.width = parseInt(value, 10);\r\n    // }\r\n    // // è·åå®½åº¦\r\n    // getWidth(): any {\r\n    //   return this.width;\r\n    // }\r\n}\r\n\r\nexport class ResponseToolbarGroup {\r\n    id: string;\r\n    name: string;\r\n    presetId: Array<string> = []; // è®°å½åç´ çId\r\n    responsedIndex: Array<Number> = []; // è®°å½è½¬åä¸ºä¸ææ¶åç´ çä½ç½®\r\n    width: number; // è®°å½å®½åº¦\r\n    constructor(_id: string, _groupName: string) {\r\n        this.id = _id;\r\n        this.name = _groupName;\r\n        this.width = 0;\r\n    }\r\n    // è®¾ç½®å®½åº¦\r\n    setWidth(value: any) {\r\n        this.width = parseInt(value + '', 10);\r\n    }\r\n    // è·åå®½åº¦\r\n    getWidth(): any {\r\n        return this.width;\r\n    }\r\n    // æ´æ°presetIndex\r\n    setPreset(value: Array<string> | string) {\r\n        if (Array.isArray(value)) {\r\n            this.presetId = this.presetId.concat(value);\r\n        } else {\r\n            this.presetId.push(value);\r\n        }\r\n    }\r\n    // æ¸é¤preset\r\n    delPreset(){\r\n        this.presetId=[];\r\n    }\r\n    // å é¤\r\n    removeResponsed(index) {\r\n        this.responsedIndex.splice(index, 1);\r\n    }\r\n    // æ´æ°responsedIndex\r\n    setResponsed(value: Array<Number> | Number) {\r\n        if (Array.isArray(value)) {\r\n            this.responsedIndex = this.responsedIndex.concat(value);\r\n        } else {\r\n            this.responsedIndex.push(value);\r\n        }\r\n    }\r\n    // æ¯å¦å·²ç»å¼å§å¤çååºå¼\r\n    isResponsing() {\r\n        return this.responsedIndex.length > 0;\r\n    }\r\n    // æ¯å¦å·²ç»å¤çå®ååºå¼\r\n    isResponsed() {\r\n        return this.presetId.length === this.responsedIndex.length;\r\n    }\r\n}\r\n\r\nexport interface ResponseToolbarClickEvent {\r\n    id: string; // åç´ id\r\n    text: string;\r\n    hidden: boolean;\r\n}\r\n","import { ElementRef } from '@angular/core';\r\n\r\nexport class ResizedEvent {\r\n  constructor(\r\n    readonly element: ElementRef,\r\n    readonly newWidth: number,\r\n    readonly newHeight: number,\r\n    readonly oldWidth: number,\r\n    readonly oldHeight: number\r\n  ) {}\r\n}\r\n","import {\r\n  Directive,\r\n  Output,\r\n  EventEmitter,\r\n  ElementRef,\r\n  OnInit,\r\n  HostListener,\r\n  AfterViewInit\r\n} from '@angular/core';\r\nimport { Subject } from 'rxjs';\r\nimport { throttleTime } from 'rxjs/operators';\r\nimport { ResizedEvent } from './f-resized.events';\r\n\r\n@Directive({\r\n  selector: '[fResized]'\r\n})\r\nexport class FResizedDirective implements OnInit, AfterViewInit {\r\n  @Output() readonly resizedEvent = new EventEmitter<ResizedEvent>();\r\n  private oldWidth: number;\r\n  private oldHeight: number;\r\n  private resizeSubject = new Subject<number>();\r\n  private resizeObservable = this.resizeSubject\r\n    .asObservable()\r\n    .pipe(throttleTime(200));\r\n\r\n  @HostListener('window:resize', ['$event'])\r\n  onResize(event) {\r\n    this.resizeSubject.next(event);\r\n  }\r\n  constructor(private readonly element: ElementRef) {}\r\n\r\n  ngOnInit() {\r\n    this.resizeObservable.subscribe(x => this.doWithResize());\r\n  }\r\n  ngAfterViewInit() {\r\n    this.doWithResize();\r\n  }\r\n\r\n  private doWithResize() {\r\n    const newWidth = this.element.nativeElement.clientWidth;\r\n    const newHeight = this.element.nativeElement.clientHeight;\r\n\r\n    if (newWidth === this.oldWidth && newHeight === this.oldHeight) {\r\n      return;\r\n    }\r\n    this.resizedEvent.next(\r\n      new ResizedEvent(\r\n        this.element,\r\n        newWidth,\r\n        newHeight,\r\n        this.oldWidth,\r\n        this.oldHeight\r\n      )\r\n    );\r\n\r\n    this.oldWidth = newWidth;\r\n    this.oldHeight = newHeight;\r\n  }\r\n}\r\n","import {\r\n    Component,\r\n    OnInit,\r\n    Input,\r\n    ViewChild,\r\n    ElementRef,\r\n    Renderer2,\r\n    AfterViewInit,\r\n    DoCheck,\r\n    AfterViewChecked,\r\n    ChangeDetectionStrategy,\r\n    ChangeDetectorRef,\r\n    HostBinding,\r\n    Output,\r\n    EventEmitter,\r\n    NgZone,\r\n    OnDestroy,\r\n    ViewRef\r\n} from \"@angular/core\";\r\nimport {\r\n    ResponseToolbarDropDown,\r\n    ResponseToolbarItem,\r\n    ResponseToolbarGroup,\r\n    ResponseToolbarClickEvent\r\n} from \"../model/response-toolbar.model\";\r\nimport { FResizedDirective } from \"../resized/f-resized.directive\";\r\nimport { Subject, Observable, Subscription, BehaviorSubject } from \"rxjs\";\r\nimport { throttleTime, debounceTime } from \"rxjs/operators\";\r\nimport { LocaleService } from \"@farris/ui-locale\";\r\nimport ResizeObserver from \"resize-observer-polyfill\";\r\nimport { FDropdownDirective } from \"@farris/ui-dropdown\";\r\n@Component({\r\n    selector: \"f-response-toolbar\",\r\n    templateUrl: \"./response-toolbar.component.html\",\r\n    styleUrls: [\"./response-toolbar.component.css\"],\r\n   // changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class ResponseToolbarComponent\r\n    implements OnInit, AfterViewInit, DoCheck, AfterViewChecked, OnDestroy {\r\n    @HostBinding(\"class.f-response-toolbar\") frtCls = true;\r\n    @HostBinding(\"class.position-relative\") prCls = true;\r\n    // ååºå¼å®¹å¨\r\n    @ViewChild(\"resizedContainer\") resizedContainerEl;\r\n    // è¾å©è®¡ç®å®¹å¨\r\n    @ViewChild(\"auxiliaryContainer\") auxiliaryContainerEl;\r\n    // ååºå¼åå®¹å®¹å¨\r\n    @ViewChild(\"resizedContent\") resizedContentEl;\r\n    //\r\n    @ViewChild(\"resizedContainer\", { read: FResizedDirective })\r\n    resizedContainerDirective: FResizedDirective;\r\n    // ä¼ éç¹å»äºä»¶\r\n    @Output()\r\n    rtClickEvent: EventEmitter<ResponseToolbarClickEvent> = new EventEmitter<\r\n        ResponseToolbarClickEvent\r\n    >();\r\n    // è¾å©è®¡ç®å®½åº¦æ°æ®\r\n    auxiliaryDatas: Array<ResponseToolbarDropDown> = [];\r\n    // æ§å¶ç¶åç´ æ»å¨çæ ·å¼\r\n    //  private _dpState = false;\r\n    //\r\n    private ro: ResizeObserver | null = null;\r\n    // è®°å½å®¹å¨å®½åº¦\r\n    private containerWidthRecord = 0;\r\n    // è®°å½åå\r\n    private needResponseChanges = 0;\r\n    referEl = null;\r\n    dpState = [false];\r\n    // ç¨æ¥åé¨è®°å½\r\n    private _auxiliary = -1;\r\n    private _selfEl: HTMLElement;\r\n    resizeGroups: Array<ResponseToolbarGroup> = [];\r\n    // è®°å½æ ¼å¼ååçæ°æ®\r\n    toolbarDatas: Array<ResponseToolbarItem | ResponseToolbarDropDown> = [];\r\n    // åé¨è®°å½æ ¼å¼ååçåå§æ°æ®-------------------------ææ¶ä¸ç¨\r\n    // _toolbarDatas: Array<ResponseToolbarItem | ResponseToolbarDropDown> = [];\r\n    @Input()\r\n    set groups(values: Array<ResponseToolbarGroup>) {\r\n        if (values) {\r\n            this.resizeGroups = [];\r\n            values.forEach(group => {\r\n                this.resizeGroups.push(\r\n                    new ResponseToolbarGroup(group.id, group.name)\r\n                );\r\n                // è¿æ²¡æè®¡ç®é¢ç½®æåº\r\n            });\r\n        }\r\n    }\r\n    private distanceThreshold = 20;\r\n    private isUpdateTBView = false;\r\n\r\n    @Input()\r\n    set datas(values: Array<ResponseToolbarItem | ResponseToolbarDropDown>) {\r\n        if (values) {\r\n            this.toolbarDatas = this._formatData(values);\r\n            this.needResponseChanges++;\r\n            // å¤çåç»æ°æ®\r\n            this._reOrganizeResizeGroups();\r\n        }\r\n    }\r\n    _stateDatas: Observable<Array<any>> = new Subject();\r\n    // æé®çç¦ç¨ç¶æ\r\n    @Input()\r\n    set btnState(values: Observable<Array<any>>) {\r\n        this._stateDatas = values;\r\n    }\r\n    _btnVisibleDatas: Observable<Array<any>> = new Subject();\r\n    // æé®çæ¥çç¶æ\r\n    @Input()\r\n    set btnVisible(values: Observable<Array<any>>) {\r\n        this._btnVisibleDatas = values;\r\n    }\r\n    @Input() clickThrottleTime = 350;\r\n    private clickItems = new Subject<any>();\r\n    private clickSubscription: Subscription;\r\n    private rtSize = \"\";\r\n    /*å°ºå¯¸ï¼æsm,lg,ç©ºå¼ï¼é»è®¤æ¯ç©ºå¼ */\r\n    @Input()\r\n    set buttonSize(btnSize: string) {\r\n        if (btnSize != this.rtSize) {\r\n            this.rtSize &&\r\n                this.render.removeClass(\r\n                    this._selfEl,\r\n                    \"f-response-toolbar-\" + this.rtSize\r\n                );\r\n            this.rtSize = btnSize;\r\n            this.rtSize &&\r\n                this.render.addClass(\r\n                    this._selfEl,\r\n                    \"f-response-toolbar-\" + this.rtSize\r\n                );\r\n        }\r\n    }\r\n    get buttonSize(): string {\r\n        return this.rtSize;\r\n    }\r\n    /*å¼ºå¶æ¹åï¼é»è®¤ä¸ºç©ºå¼ï¼å¯ä»¥ætopãbottomï¼æä¸ãæä¸ã\r\n     * ä½¿ç¨åºæ¯ï¼å·¥å·æ åé¨çä¸æï¼éè¦æä¸æèéè¦æä¸å±å¼ï¼ç»ä¸æ§å¶\r\n     */\r\n    @Input() popDirection = \"\";\r\n    // rightæé®é å³ leftæé®é å·¦\r\n    @Input() btnAlign = \"right\";\r\n    private ngZone = null;\r\n    constructor(\r\n        el: ElementRef,\r\n        private render: Renderer2,\r\n        private cd: ChangeDetectorRef,\r\n        public localeService: LocaleService\r\n    ) // private ngZone: NgZone\r\n    {\r\n        this._selfEl = el.nativeElement;\r\n        if (el.nativeElement.parentElement) {\r\n            this.referEl = el.nativeElement.parentElement;\r\n        }\r\n    }\r\n    // å ä¸ºæ§æ¨¡æ¿å¸¦æè¿ä¸ªæ¹æ³\r\n    ngAfterViewInit() {}\r\n    // å ä¸ºæ§æ¨¡æ¿å¸¦æè¿ä¸ªæ¹æ³\r\n    ngDoCheck() {}\r\n    ngOnInit() {\r\n        // å»æoverflowä¹å\r\n        this.render.addClass(\r\n            this.auxiliaryContainerEl.nativeElement,\r\n            \"response-toolbar-hidden-element\"\r\n        );\r\n        // æé®çç¦ç¨ç¶æ\r\n        this._stateDatas.subscribe(data => {\r\n            this.changeState(data);\r\n        });\r\n        // æé®çå¯è§ç¶æ\r\n        this._btnVisibleDatas.subscribe(data => {\r\n            this.changeVisible(data);\r\n        });\r\n        this.observerElement();\r\n        //å¤çè¡¨åå è½½åçæé®åå\r\n        this.ngZone.runOutsideAngular(() => {\r\n            let selfObj=this;\r\n            setTimeout(()=>{\r\n                selfObj.responseResize();\r\n            },0);\r\n        });\r\n        // æ¦æªç¹å»äºä»¶åªä¼ éç¬¬ä¸æ¬¡ç¹å»äºä»¶çå¤çæä½äº¤ç»parentæ¥å¤ç\r\n        this.clickSubscription = this.clickItems\r\n            .pipe(debounceTime(this.clickThrottleTime))\r\n            .subscribe((eventDatas: ResponseToolbarClickEvent) => {\r\n                this.rtClickEvent.emit(eventDatas);\r\n            });\r\n        \r\n        if (this.popDirection === 'default') {\r\n            this.popDirection = '';\r\n        }\r\n    }\r\n    ngOnDestroy() {\r\n        if (this.ro) {\r\n            this.ro.unobserve(this.resizedContainerEl.nativeElement);\r\n            this.ro = null;\r\n        }\r\n        if (this.clickSubscription) {\r\n            this.clickSubscription.unsubscribe();\r\n        }\r\n    }\r\n    // è¿ä¸ªæ¹æ³ææ§è½é®é¢ï¼å¾åæå¤ç TODO\r\n    ngAfterViewChecked() {\r\n        if (this.needResponseChanges > 0) {\r\n                this.needResponseChanges--;\r\n                this.responseResize();\r\n        }else if (this.auxiliaryDatas.length>0) {\r\n                this._calculate(\r\n                    true,\r\n                    this.auxiliaryContainerEl.nativeElement.offsetWidth\r\n                );\r\n            }\r\n    }\r\n    // å ä¸ºæ§æ¨¡æ¿å¸¦æè¿ä¸ªæ¹æ³\r\n    onResize(event) {}\r\n    /**\r\n     * å¼å®¹æ§æ¨¡æ¿æ§æ¹æ³\r\n     * å¨ä¸å­å¨ngZoneçæåµä¸ï¼åå»ºngZone,ç¶åç»å®äºä»¶\r\n     */\r\n    private observerElement() {\r\n        if (!this.ngZone) {\r\n            const moduleInjector = this.cd[\"_view\"].root.ngModule.injector;\r\n            this.ngZone = moduleInjector.get<NgZone>(NgZone, null);\r\n        }\r\n\r\n        this.ngZone.runOutsideAngular(() => {\r\n            this.ro = new ResizeObserver((entries, observer) => {\r\n                const tempWidth = entries[0].contentRect.width;\r\n                if (\r\n                    Math.abs(tempWidth - this.containerWidthRecord) >\r\n                        this.distanceThreshold\r\n                ) {\r\n                    this.responseResize();\r\n                    this.containerWidthRecord = tempWidth;\r\n                }\r\n            });\r\n            this.ro.observe(this.resizedContainerEl.nativeElement);\r\n        });\r\n    }\r\n    /**\r\n     * å¼ºå¶è½¬æ¢æ¹å\r\n     * @param selfDefinePL\r\n     * @param defaultPL\r\n     */\r\n    getPlacement(selfDefinePL: string, defaultPL: string): string {\r\n        let oldDirection = selfDefinePL ? selfDefinePL : defaultPL;\r\n        if (!this.popDirection) {\r\n            return oldDirection;\r\n        }\r\n        var plRelation = { bottom: \"top\", top: \"bottom\" };\r\n        oldDirection = oldDirection == \"left\" ? \"left-bottom\" : oldDirection;\r\n        oldDirection = oldDirection == \"right\" ? \"right-bottom\" : oldDirection;\r\n        let newDirection = oldDirection.replace(\r\n            plRelation[this.popDirection],\r\n            this.popDirection\r\n        );\r\n        return newDirection;\r\n    }\r\n\r\n    /**\r\n     * è°ç¨æ­¤æ¹æ³çåºæ¯\r\n     * 1ãçé¢ææ½èªå¨è§¦å\r\n     * 2ãæ¾ç¤ºè°ç¨\r\n     */\r\n    responseResize() {\r\n        const _distance = this._getDistance();\r\n        if (_distance > 0) {\r\n            // å¦æåç»é½å·²ç»å¤çå®,ååºç°æ»å¨æ¡ä¸ç®¡\r\n            const _tempIndex = this._getFirstUnResponsedIndex();\r\n            if (_tempIndex < 0) {\r\n                return;\r\n            }\r\n            // ææç¬¬ä¸å±ä¸æé½åæ\r\n            this.dpState = [false];\r\n            for (let k = _tempIndex; k < this.resizeGroups.length; k++) {\r\n                const _tempGroup = this.resizeGroups[k];\r\n                this._auxiliary = k;\r\n                if (_tempGroup.isResponsing()) {\r\n                    this._calculate();\r\n                } else {\r\n                    // å¦æè¿æªå¼å§å¤çååºå¼\r\n                    const _tempDP = new ResponseToolbarDropDown({\r\n                        text: _tempGroup.name,\r\n                        id: _tempGroup.id,\r\n                        placement: this.popDirection\r\n                            ? this.popDirection + \"-left\"\r\n                            : \"bottom-left\",\r\n                        width: _tempGroup.getWidth()\r\n                    });\r\n                    // å·²ç»å¤çè¿å®½åº¦\r\n                    if (_tempDP.getWidth()) {\r\n                        this.auxiliaryDatas = [_tempDP];\r\n                        this._calculate(true, _tempDP.getWidth());\r\n                    } else {\r\n                        // æ´æ°è¾å©æ°æ®\r\n                        let auxiliaryIndex=this.auxiliaryDatas.findIndex((item)=>{\r\n                            return item.id==_tempDP.id\r\n                        });\r\n                        if(auxiliaryIndex==-1){\r\n                            this.auxiliaryDatas.push(_tempDP);\r\n                        }\r\n                        if(this.cd&&!(this.cd as ViewRef).destroyed){\r\n                            this.cd.detectChanges();\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        } else {\r\n            // å¯»æ¾æåä¸ä¸ªå¤çååºå¼çåç´ \r\n            const _tempIndex = this._getLastResponseIndex();\r\n            if (_tempIndex < 0) {\r\n                return;\r\n            }\r\n            // ä¸´æ¶å­å¨æ°æ®\r\n            let _tempToolbarDatas = [].concat(this.toolbarDatas);\r\n            // å¦æå·²ç»å¼å§å¤çååºå¼\r\n            for (let k = _tempIndex; k >= 0; k--) {\r\n                const result = this._restitute(_tempToolbarDatas, k);\r\n                _tempToolbarDatas = [].concat(result[\"data\"]);\r\n                if (!result[\"continueTo\"]) {\r\n                    break;\r\n                }\r\n            }\r\n            // æ´æ°æ°æ®\r\n            this.toolbarDatas = [].concat(_tempToolbarDatas);\r\n            // ææç¬¬ä¸å±ä¸æé½åæ\r\n            this.dpState = [false];\r\n            if(this.cd&&!(this.cd as ViewRef).destroyed){\r\n                this.cd.detectChanges();\r\n            }\r\n        }\r\n    }\r\n    // ä¸æçå±å¼æ¶èµ·ç¶æ\r\n    dpSectionState(state: boolean, id) {\r\n        if (state) {\r\n            // å±å¼ç¶æä¸\r\n            let dropdowns = this.resizedContentEl.nativeElement.querySelectorAll(\r\n                \"[fDropdown]\"\r\n            );\r\n            if (dropdowns && dropdowns.length > 1) {\r\n                for (var k = 0; k < dropdowns.length; k++) {\r\n                    if (\r\n                        dropdowns[k].className.indexOf(\"show\") &&\r\n                        dropdowns[k].id != id\r\n                    ) {\r\n                        // dropdowns[k].dispatchEvent(new Event('selfClose'));\r\n                        this.compatibleDispatchEvent(dropdowns[k], \"selfClose\");\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n    private compatibleDispatchEvent(eventEl, eventName) {\r\n        var event;\r\n        if (typeof Event === \"function\") {\r\n            event = new Event(eventName);\r\n        } else {\r\n            event = document.createEvent(\"Event\");\r\n            event.initEvent(eventName, false, false);\r\n        }\r\n        eventEl.dispatchEvent(event);\r\n    }\r\n    // ä¿®æ¹å¯ç¨ç¦ç¨ç¶æ\r\n    changeState(values) {\r\n        const idArray = Object.keys(values);\r\n        idArray.forEach(id => {\r\n            const state = values[id];\r\n            const item = this._findItemByID(id, this.toolbarDatas);\r\n            if(item){\r\n                 item[\"disabled\"] = state;\r\n            }\r\n        });\r\n        if(this.cd&&!(this.cd as ViewRef).destroyed){\r\n            this.cd.detectChanges();\r\n        }\r\n    }\r\n    /**\r\n     * ä¿®æ¹æ¾ç¤ºç¶æ\r\n     * å¦ææ¯ä¸ææé®\r\n     *   å¤æ­ä¸é¢çå­æ¯å¦é½éè\r\n     * @param values\r\n     */\r\n    changeVisible(values) {\r\n        const idArray = Object.keys(values);\r\n        idArray.forEach(id => {\r\n            const visible = values[id];\r\n            const item = this._findItemByID(id, this.toolbarDatas);\r\n            if(item){\r\n                item[\"visible\"] = visible;\r\n            }\r\n        });\r\n        // éåå¾ªç¯,æ´æ°æ°æ®\r\n        this.toolbarDatas.forEach(item => {\r\n            // å¦ææ¯ä¸æ\r\n            if (item[\"isDP\"]) {\r\n                this._checkDropdownVisible(values, item);\r\n            }\r\n        });\r\n        this.needResponseChanges++;\r\n        // æ´æ°\r\n       //this.cd.markForCheck();\r\n       if(this.cd&&!(this.cd as ViewRef).destroyed){\r\n        this.cd.detectChanges();\r\n     }\r\n    }\r\n    /**\r\n     * å¦ææ¯ä¸ææé®\r\n     *   å¤æ­ä¸é¢çå­æ¯å¦é½éè\r\n     *       A. å¦æå­é½éèï¼é£ä¹æ´ä¸ªä¸æé½è¢«éèï¼\r\n     *       B. å¦æå­å¨å­æ²¡æéèï¼èä¸ä¸ææ²¡æè¢«é¢ç½®éèï¼ä¸ææé®æ¾ç¤º\r\n     * @param outsideVisibleArrays ä»ç»ä»¶å¤ä¼ å¥çå¯è§ç¶æå¯¹è±¡\r\n     * @param dropdownItem ä¸æåç´ \r\n     */\r\n    private _checkDropdownVisible(outsideVisibleArrays, dropdownItem): void {\r\n        //å¦ææ²¡æè¢«å¼ºå¶è®¾ç½®ç¶æ\r\n        if (!outsideVisibleArrays.hasOwnProperty(dropdownItem[\"id\"])) {\r\n            // ä¸æåç´ ä¸å¯è§ï¼å¤æ­æ¯å¦æå¯è§å­åç´ \r\n            if (\r\n                !dropdownItem[\"visible\"] &&\r\n                this._hasVisibleItem(dropdownItem[\"children\"], true)\r\n            ) {\r\n                dropdownItem[\"visible\"] = true;\r\n            }\r\n            // ä¸æåç´ æ¯å¯è§ï¼å¤æ­æ¯å¦æå­åç´ é½ä¸å¯è§\r\n            if (\r\n                dropdownItem[\"visible\"] &&\r\n                !this._hasVisibleItem(dropdownItem[\"children\"], true)\r\n            ) {\r\n                dropdownItem[\"visible\"] = false;\r\n            }\r\n        }\r\n        dropdownItem.children.forEach(item => {\r\n            if (item[\"isDP\"]) {\r\n                this._checkDropdownVisible(outsideVisibleArrays, item);\r\n            }\r\n        });\r\n    }\r\n    /**\r\n     * å¨å¾æ£æ¥æ°æ®ä¸­å¿ï¼æ£æ¥æ¯å¦å­å¨è¯¥å¯è§ç¶æçæ°æ®ã\r\n     * å¦ææè¿åtrue,å¦åè¿åfalse\r\n     * @param datas å¾æ£æ¥æ°æ®\r\n     * @param visible å¯è§ç¶æ\r\n     */\r\n    private _hasVisibleItem(datas, visible): boolean {\r\n        const findIndex = datas.findIndex(childItem => {\r\n            if (childItem[\"visible\"] == visible) {\r\n                return true;\r\n            }\r\n            return false;\r\n        });\r\n        if (findIndex > -1) {\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    /**\r\n     * æè·ç¹å»\r\n     * @param ev\r\n     */\r\n    clickItem(ev: MouseEvent, ddRef?: FDropdownDirective) {\r\n        ev.stopPropagation();\r\n        // å¦ææ¯åç¦»çä¸ææé®\r\n        if (this.elhasSpecialCls(ev.target, \"dropdown-toggle-split\")) {\r\n            ev.stopImmediatePropagation();\r\n        }\r\n        // å¤æ­æ¯å¦ç¹å»å°éè¦å¤çäºä»¶çåç´ ä¸,æé®ãä¸ææé®\r\n        var clickEvEl = this.findBtnOrTogglerItemFromClick(ev.target);\r\n        if (clickEvEl) {\r\n            let tempID = clickEvEl[\"id\"];\r\n            // ä¿®æ¹æ¨¡æ¿ï¼idè°æ´å°ä¸ææ´ä½ä¸\r\n            if (\r\n                !tempID &&\r\n                this.elhasSpecialCls(clickEvEl[\"parentNode\"], \"f-rt-dropdown\")\r\n            ) {\r\n                tempID = clickEvEl[\"parentNode\"].id;\r\n            }\r\n            if (tempID) {\r\n                const tempItem = this._findItemByID(tempID, this.toolbarDatas);\r\n                // å¦æåç´ ç¦ç¨\r\n                if (tempItem[\"disabled\"]) {\r\n                    // ç¦æ­¢åä¸ä¼ é\r\n                    ev.stopImmediatePropagation();\r\n                } else {\r\n\r\n                    this.clickItems.next({\r\n                        id: tempID,\r\n                        text: tempItem[\"text\"],\r\n                        hidden: tempItem[\"hidden\"]\r\n                    });\r\n\r\n                    \r\n                    if (ddRef) {\r\n                        ddRef.close();\r\n                    }\r\n                }\r\n            }\r\n        } else {\r\n            ev.stopImmediatePropagation();\r\n        }\r\n    }\r\n    private findBtnOrTogglerItemFromClick(clickTarget) {\r\n        // ç¶çº§æ ç­¾æ¯å¦æ¯body,æ¯çåæ­¢è¿åéå,åä¹ç»§ç»­\r\n        if (this.elhasSpecialCls(clickTarget)) {\r\n            return clickTarget;\r\n        } else if (\r\n            clickTarget.parentNode[\"className\"]&&clickTarget.parentNode[\"className\"].indexOf(\"f-response-content\") < 0\r\n        ) {\r\n            var parentN = clickTarget.parentNode;\r\n            if (this.elhasSpecialCls(parentN)) {\r\n                return parentN;\r\n            } else {\r\n                return this.findBtnOrTogglerItemFromClick(parentN);\r\n            }\r\n        }\r\n        // è¿åéå,ç»æ\r\n        return null;\r\n    }\r\n    private elhasSpecialCls(el, clsName = \"\") {\r\n        if (el) {\r\n            var classNameList = el.classList;\r\n            var findCls = false;\r\n            for (var k = 0; k < classNameList.length; k++) {\r\n                if (clsName) {\r\n                    if (classNameList[k] == clsName) {\r\n                        findCls = true;\r\n                        break;\r\n                    }\r\n                } else {\r\n                    if (\r\n                        classNameList[k] == \"f-rt-btn\" ||\r\n                        classNameList[k] == \"f-rt-toggle\"\r\n                    ) {\r\n                        findCls = true;\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n            return findCls;\r\n        }\r\n        return false;\r\n    }\r\n    /**\r\n     * æ ¹æ®ä¼ éçæ°æ®éæ°ç»å»ºåç»\r\n     * ToDo ææ¶æ²¡ææ´å¤æçåç»ï¼å¦åéè¦è®°å½åç»\r\n     */\r\n    private _reOrganizeResizeGroups() {\r\n        // å¤çåç»æ°æ®\r\n        //  if (this.resizeGroups.length === 0) {\r\n        let moreText = \"æ´å¤\";\r\n        if (this.localeService) {\r\n            moreText = this.localeService.getValue(\"responseToolbar.more\");\r\n        }\r\n        const defaultResizeGroup = new ResponseToolbarGroup(\r\n            \"toolbar-group-1\",\r\n            moreText\r\n        );\r\n        for (let i = this.toolbarDatas.length - 1; i >= 0; i--) {\r\n            defaultResizeGroup.setPreset(this.toolbarDatas[i][\"id\"]);\r\n        }\r\n        this.resizeGroups = [].concat(defaultResizeGroup);\r\n       // this.cd.markForCheck();\r\n       if(this.cd&&!(this.cd as ViewRef).destroyed){\r\n        this.cd.detectChanges();\r\n    }\r\n    }\r\n    /**\r\n     * åå®¹ä¸å®¹å¨çå·®å¼\r\n     */\r\n    private _getDistance() {\r\n        return (\r\n            this.resizedContentEl.nativeElement.offsetWidth -\r\n            this.resizedContainerEl.nativeElement.offsetWidth\r\n        );\r\n    }\r\n    /**\r\n     * æ ¹æ®è¿åç»æå¤æ­æ¯å¦ç»§ç»­\r\n     * @param groupIndex\r\n     */\r\n    private _restitute(originalData, groupIndex) {\r\n        const tempGroup = this.resizeGroups[groupIndex];\r\n        // æ»å¨æ¡ååå®¹çè·ç¦»\r\n        let tempDistance = this._getDistance();\r\n        // è®¡ç®æåä¸ä¸ªä¸æçå®½åº¦\r\n        const tempGroupData =\r\n            originalData[this._findIndexByID(originalData, tempGroup.id)];\r\n        // æ¾å°è¿åçä½ç½®\r\n        const tempPresetIndex = [].concat(tempGroup.responsedIndex);\r\n        // æé¤åä¸æå­åç´ è¢«è®¡ç®\r\n        for (let j = tempPresetIndex.length - 1; j >= 0; j--) {\r\n            if (tempDistance >= 0) {\r\n                break;\r\n            }\r\n            // ä»ä¸æä¸­ç§»é¤\r\n            const tempChildData = tempGroupData.children[0];\r\n            const specialDistance = j === 0 ? tempGroupData.getWidth() : 0;\r\n\r\n            tempDistance =\r\n                tempDistance +\r\n                (tempChildData.getWidth() ? tempChildData.getWidth() : 0) -\r\n                specialDistance;\r\n\r\n            if (tempDistance >= 0) {\r\n                break;\r\n            } else {\r\n                // æ´æ°ä¸æ\r\n                tempGroupData.removeChild();\r\n                // æå¥å°åä½ç½®\r\n                originalData.splice(tempPresetIndex[j], 0, tempChildData);\r\n                // æ´æ°ä½ç½®\r\n                tempGroup.removeResponsed(j);\r\n                if (j === 0) {\r\n                    originalData.splice(\r\n                        this._findIndexByID(originalData, tempGroup.id),\r\n                        1\r\n                    );\r\n                }\r\n            }\r\n        }\r\n        return {\r\n            continueTo: tempDistance > 0 ? true : false,\r\n            data: originalData\r\n        };\r\n    }\r\n\r\n    /**\r\n     * å¼å§è®¡ç®\r\n     * @param datas\r\n     */\r\n    private _calculate(auxiliary: boolean = false, tGroupWidth: number = 0) {\r\n        if (this._auxiliary < 0) {\r\n            return;\r\n        }\r\n        // è®°å½éè¦ä¿®æ¹çä¸æ\r\n        let tempDP;\r\n        // æ»å¨æ¡ååå®¹çè·ç¦»\r\n        let tempDistance = this._getDistance() + tGroupWidth;\r\n        // ä¸´æ¶å­å¨æ°æ®\r\n        const tempToolbarDatas = [].concat(this.toolbarDatas);\r\n        const tempGroup = this.resizeGroups[this._auxiliary];\r\n        if (auxiliary) {\r\n            tempDP = this.auxiliaryDatas.pop();\r\n            tempDP.setWidth(tGroupWidth);\r\n            tempGroup.setWidth(tGroupWidth);\r\n        } else {\r\n            tempDP =\r\n                tempToolbarDatas[\r\n                    this._findIndexByID(tempToolbarDatas, tempGroup.id)\r\n                ];\r\n        }\r\n        // å½åå©ä½éè\r\n        for (\r\n            let j = tempGroup.responsedIndex.length;\r\n            j < tempGroup.presetId.length;\r\n            j++\r\n        ) {\r\n            if (tempDistance <= 0) {\r\n                break;\r\n            }\r\n\r\n            // è®¡ç®å¨å½åæ°æ®ä¸­çä½ç½®ï¼æ ¹æ®è¿ä¸ªä½ç½®å¯ä»¥æ¾å®½åº¦\r\n            const tempOldIndex = this._findIndexByID(\r\n                this.toolbarDatas,\r\n                tempGroup.presetId[j]\r\n            ) as any;\r\n            const tempNewIndex = this._findIndexByID(\r\n                tempToolbarDatas,\r\n                tempGroup.presetId[j]\r\n            ) as any;\r\n\r\n            // è®¡ç®æé®å®½åº¦\r\n            let tempWidth = this.toolbarDatas[tempOldIndex].getWidth() as any;\r\n            if (tempWidth === 0) {\r\n                // æé®å®½åº¦æªæ¾è¢«è®¡ç®è¿\r\n                tempWidth = this._getWidthFromElementsById(\r\n                    tempGroup.presetId[j]\r\n                );\r\n                tempToolbarDatas[tempNewIndex].setWidth(tempWidth);\r\n            } else if (tempWidth === false) {\r\n                // æé®è¢«éè\r\n                tempWidth = 0;\r\n            }\r\n\r\n            tempDP.addChild(tempToolbarDatas[tempNewIndex]);\r\n            // ç§»é¤\r\n            tempToolbarDatas.splice(tempNewIndex, 1);\r\n            // ä¿å­ä½ç½®ç¨äºè¿å\r\n            tempGroup.setResponsed(tempNewIndex);\r\n            tempDistance = tempDistance - tempWidth;\r\n        }\r\n        if (auxiliary && tempDP.hasChild()) {\r\n            // æå¥\r\n            tempToolbarDatas.push(tempDP);\r\n        }\r\n        this._auxiliary = -1;\r\n        this.toolbarDatas = [].concat(tempToolbarDatas);\r\n        if(this.cd&&!(this.cd as ViewRef).destroyed){\r\n            this.cd.detectChanges();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * æ ¹æ®idæ¾å°å®éæ¾ç¤ºåç´ çå®½åº¦\r\n     * @param findId\r\n     */\r\n    private _getWidthFromElementsById(findId): number {\r\n        const parentEl = this.resizedContentEl.nativeElement;\r\n        const childLen = parentEl.children.length;\r\n        let result = 0;\r\n        for (var k = 0; k < childLen; k++) {\r\n            if (parentEl.children[k].id === findId) {\r\n                let findEl=parentEl.children[k];\r\n                let getComputedStyleEl=window.getComputedStyle(findEl,null);\r\n                result = findEl.offsetWidth+parseFloat(getComputedStyleEl.marginLeft)+parseFloat(getComputedStyleEl.marginRight);\r\n                break;\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n    /**\r\n     * æ ¼å¼åæ°æ®\r\n     */\r\n    private _formatData(datas, idPrefix: string = \"response\") {\r\n        const result = [];\r\n        datas.forEach((item, index) => {\r\n            if (item.isDP) {\r\n                // å¦ææ¯ä¸æ\r\n                if (\r\n                    item.hasOwnProperty(\"children\") &&\r\n                    item[\"children\"].length\r\n                ) {\r\n                    const children = [].concat(item[\"children\"]);\r\n                    // item.children = []; // åºgzqè¦æ±20230529\r\n                    const dpItem = new ResponseToolbarDropDown(\r\n                        Object.assign({ id: idPrefix + \"_\" + index }, item)\r\n                    );\r\n                    result.push(dpItem);\r\n                    dpItem.children = this._formatData(\r\n                        children,\r\n                        idPrefix + \"_\" + index\r\n                    );\r\n                } else {\r\n                    result.push(\r\n                        new ResponseToolbarDropDown(\r\n                            Object.assign({ id: idPrefix + \"_\" + index }, item)\r\n                        )\r\n                    );\r\n                }\r\n            } else {\r\n                // éä¸æ\r\n                result.push(\r\n                    new ResponseToolbarItem(\r\n                        Object.assign({ id: idPrefix + \"_\" + index }, item)\r\n                    )\r\n                );\r\n            }\r\n        });\r\n\r\n        return result;\r\n    }\r\n    /**\r\n     * æ¾å°ç¬¬ä¸ä¸ªæªå¤çå®ååºå¼çåç´ \r\n     */\r\n    private _getFirstUnResponsedIndex() {\r\n        const tempUnResponsedIndex = this.resizeGroups.findIndex(group => {\r\n            if (group.isResponsed()) {\r\n                return false;\r\n            }\r\n            return true;\r\n        });\r\n        return tempUnResponsedIndex;\r\n    }\r\n    /**\r\n     * å¯»æ¾æåä¸ä¸ªå¤çååºå¼çåç´ \r\n     */\r\n    private _getLastResponseIndex() {\r\n        const tempResponsingIndex = this.resizeGroups.findIndex(group => {\r\n            if (!group.isResponsing()) {\r\n                return true;\r\n            }\r\n            return false;\r\n        });\r\n        // ææç»åç´ é½å·²å¤çå®ååºå¼\r\n        if (tempResponsingIndex === -1) {\r\n            return this.resizeGroups.length - 1;\r\n        }\r\n        // ææç»åç´ é½æªå¼å§å¤çååºå¼\r\n        return tempResponsingIndex > 1 ? tempResponsingIndex - 1 : -1;\r\n    }\r\n    /**\r\n     * æ¾å°groupå½¢æçä¸æï¼å¨æ°æ®ä¸­çä½ç½®\r\n     */\r\n    private _findIndexByID(\r\n        datas: Array<ResponseToolbarItem | ResponseToolbarDropDown>,\r\n        id: string\r\n    ): any {\r\n        const result = datas.findIndex((item, index) => {\r\n            if (item[\"id\"] === id) {\r\n                return true;\r\n            }\r\n            return false;\r\n        });\r\n        return result;\r\n    }\r\n    /**\r\n     * æ ¹æ®IDå¯»æ¾Item\r\n     */\r\n    private _findItemByID(\r\n        id: string,\r\n        data: Array<ResponseToolbarDropDown | ResponseToolbarItem>\r\n    ): ResponseToolbarDropDown | ResponseToolbarItem {\r\n        let tempResult = null;\r\n        const tempIndex = data.findIndex((item, index) => {\r\n            if (item[\"id\"] === id) {\r\n                tempResult = item;\r\n                return true;\r\n            }\r\n            // å¦ææ¯ä¸æï¼å±çº§ä¸æ\r\n            if (item[\"isDP\"]) {\r\n                const tempItem = this._findItemByID(id, item[\"children\"]);\r\n                if (tempItem) {\r\n                    tempResult = tempItem;\r\n                    return true;\r\n                }\r\n            }\r\n            return false;\r\n        });\r\n        return tempResult;\r\n    }\r\n}\r\n","import { LocaleModule } from '@farris/ui-locale';\r\nimport { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FDropdownDirectiveTypeModule } from '@farris/ui-dropdown';\r\nimport { FarrisTooltipModule } from '@farris/ui-tooltip';\r\nimport { ResponseToolbarComponent } from './component/response-toolbar.component';\r\nimport { FResizedDirective } from './resized/f-resized.directive';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FDropdownDirectiveTypeModule,\r\n    FarrisTooltipModule,\r\n    LocaleModule\r\n  ],\r\n  declarations: [\r\n    FResizedDirective,\r\n    ResponseToolbarComponent\r\n  ],\r\n  exports: [ResponseToolbarComponent]\r\n})\r\nexport class FResponseToolbarModule {}\r\n"],"names":["tslib_1.__extends","EventEmitter","Subject","throttleTime","Directive","ElementRef","Output","HostListener","debounceTime","NgZone","Component","Renderer2","ChangeDetectorRef","LocaleService","HostBinding","ViewChild","Input","NgModule","CommonModule","FDropdownDirectiveTypeModule","FarrisTooltipModule","LocaleModule"],"mappings":"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"}
