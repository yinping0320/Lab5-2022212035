import { Injectable } from '@angular/core';
import { ViewModel } from '@farris/devkit';
import { of } from 'rxjs';
var RemoteSummaryService = /** @class */ (function () {
    function RemoteSummaryService(viewModel) {
        this.viewModel = viewModel;
    }
    /**
     * 服务器端合计
     * @param methodName 服务器端合计自定义动作名称
     * @param filters 过滤条件
     */
    RemoteSummaryService.prototype.summary = function (methodName, filters) {
        var repository = this.viewModel.frameContext.repository || null;
        if (repository) {
            var proxy = repository.proxy;
            if (proxy && typeof proxy[methodName] === 'function') {
                return proxy[methodName](filters);
            }
        }
        return of(null);
    };
    RemoteSummaryService.decorators = [
        { type: Injectable }
    ];
    /** @nocollapse */
    RemoteSummaryService.ctorParameters = function () { return [
        { type: ViewModel }
    ]; };
    return RemoteSummaryService;
}());
export { RemoteSummaryService };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicmVtb3RlLXN1bW1hcnkuc2VydmljZS5qcyIsInNvdXJjZVJvb3QiOiJuZzovL0BmYXJyaXMvY29tbWFuZC1zZXJ2aWNlcy8iLCJzb3VyY2VzIjpbImxpYi9yZW1vdGUtc3VtbWFyeS5zZXJ2aWNlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxVQUFVLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFDM0MsT0FBTyxFQUFFLFNBQVMsRUFBRSxNQUFNLGdCQUFnQixDQUFDO0FBRTNDLE9BQU8sRUFBRSxFQUFFLEVBQWMsTUFBTSxNQUFNLENBQUM7QUFFdEM7SUFFRSw4QkFBb0IsU0FBb0I7UUFBcEIsY0FBUyxHQUFULFNBQVMsQ0FBVztJQUFJLENBQUM7SUFDN0M7Ozs7T0FJRztJQUNJLHNDQUFPLEdBQWQsVUFBZSxVQUFrQixFQUFFLE9BQVk7UUFDN0MsSUFBTSxVQUFVLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxZQUFZLENBQUMsVUFBZ0MsSUFBSSxJQUFJLENBQUM7UUFDeEYsSUFBSSxVQUFVLEVBQUU7WUFDZCxJQUFNLEtBQUssR0FBRyxVQUFVLENBQUMsS0FBSyxDQUFDO1lBQy9CLElBQUksS0FBSyxJQUFJLE9BQU8sS0FBSyxDQUFDLFVBQVUsQ0FBQyxLQUFLLFVBQVUsRUFBRTtnQkFDcEQsT0FBTyxLQUFLLENBQUMsVUFBVSxDQUFDLENBQUMsT0FBTyxDQUFvQixDQUFDO2FBQ3REO1NBQ0Y7UUFDRCxPQUFPLEVBQUUsQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUNsQixDQUFDOztnQkFqQkYsVUFBVTs7OztnQkFKRixTQUFTOztJQXNCbEIsMkJBQUM7Q0FBQSxBQWxCRCxJQWtCQztTQWpCWSxvQkFBb0IiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJbmplY3RhYmxlIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcbmltcG9ydCB7IFZpZXdNb2RlbCB9IGZyb20gJ0BmYXJyaXMvZGV2a2l0JztcclxuaW1wb3J0IHsgQmVmUmVwb3NpdG9yeSB9IGZyb20gJ0BmYXJyaXMvYmVmJztcclxuaW1wb3J0IHsgb2YsIE9ic2VydmFibGUgfSBmcm9tICdyeGpzJztcclxuXHJcbkBJbmplY3RhYmxlKClcclxuZXhwb3J0IGNsYXNzIFJlbW90ZVN1bW1hcnlTZXJ2aWNlIHtcclxuICBjb25zdHJ1Y3Rvcihwcml2YXRlIHZpZXdNb2RlbDogVmlld01vZGVsKSB7IH1cclxuICAvKipcclxuICAgKiDmnI3liqHlmajnq6/lkIjorqFcclxuICAgKiBAcGFyYW0gbWV0aG9kTmFtZSDmnI3liqHlmajnq6/lkIjorqHoh6rlrprkuYnliqjkvZzlkI3np7BcclxuICAgKiBAcGFyYW0gZmlsdGVycyDov4fmu6TmnaHku7ZcclxuICAgKi9cclxuICBwdWJsaWMgc3VtbWFyeShtZXRob2ROYW1lOiBzdHJpbmcsIGZpbHRlcnM6IGFueSkge1xyXG4gICAgY29uc3QgcmVwb3NpdG9yeSA9IHRoaXMudmlld01vZGVsLmZyYW1lQ29udGV4dC5yZXBvc2l0b3J5IGFzIEJlZlJlcG9zaXRvcnk8YW55PiB8fCBudWxsO1xyXG4gICAgaWYgKHJlcG9zaXRvcnkpIHtcclxuICAgICAgY29uc3QgcHJveHkgPSByZXBvc2l0b3J5LnByb3h5O1xyXG4gICAgICBpZiAocHJveHkgJiYgdHlwZW9mIHByb3h5W21ldGhvZE5hbWVdID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgcmV0dXJuIHByb3h5W21ldGhvZE5hbWVdKGZpbHRlcnMpIGFzIE9ic2VydmFibGU8YW55PjtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIG9mKG51bGwpO1xyXG4gIH1cclxufVxyXG4iXX0=