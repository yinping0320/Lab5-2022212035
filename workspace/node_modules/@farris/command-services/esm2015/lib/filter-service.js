import { Injectable } from '@angular/core';
/**
 * 过滤条件服务
 * @scope FormModule
 */
class FilterService {
    /**
     * 移除包含特殊值的过滤条件
     * @todo：假定filters为字符串，待设计时支持数组参数后一起调整
     */
    stripFiltersWithSpecialValue(filters, specialValues) {
        if (!filters || !specialValues) {
            return filters;
        }
        const filterArray = JSON.parse(filters);
        const strippedFilterArray = filterArray.filter((filter) => {
            const filterValue = this.getFilterValue(filter);
            return specialValues.indexOf(filterValue) === -1;
        });
        return JSON.stringify(strippedFilterArray);
    }
    /**
     * 获取过滤条件的值
     * @todo：没有Filter接口定义，目前产品部大小写不一致。
     */
    getFilterValue(filter) {
        return filter.Value || filter.value;
    }
}
FilterService.decorators = [
    { type: Injectable }
];
export { FilterService };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZmlsdGVyLXNlcnZpY2UuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9AZmFycmlzL2NvbW1hbmQtc2VydmljZXMvIiwic291cmNlcyI6WyJsaWIvZmlsdGVyLXNlcnZpY2UudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFVBQVUsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUUzQzs7O0dBR0c7QUFDSCxNQUNNLGFBQWE7SUFFakI7OztPQUdHO0lBQ0ksNEJBQTRCLENBQUMsT0FBZSxFQUFFLGFBQXFCO1FBQ3hFLElBQUksQ0FBQyxPQUFPLElBQUksQ0FBQyxhQUFhLEVBQUU7WUFDOUIsT0FBTyxPQUFPLENBQUM7U0FDaEI7UUFFRCxNQUFNLFdBQVcsR0FBVSxJQUFJLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxDQUFDO1FBQy9DLE1BQU0sbUJBQW1CLEdBQUcsV0FBVyxDQUFDLE1BQU0sQ0FBQyxDQUFDLE1BQVcsRUFBRSxFQUFFO1lBQzdELE1BQU0sV0FBVyxHQUFHLElBQUksQ0FBQyxjQUFjLENBQUMsTUFBTSxDQUFDLENBQUM7WUFDaEQsT0FBTyxhQUFhLENBQUMsT0FBTyxDQUFDLFdBQVcsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDO1FBQ25ELENBQUMsQ0FBQyxDQUFDO1FBRUgsT0FBTyxJQUFJLENBQUMsU0FBUyxDQUFDLG1CQUFtQixDQUFDLENBQUM7SUFDN0MsQ0FBQztJQUVEOzs7T0FHRztJQUNLLGNBQWMsQ0FBQyxNQUFXO1FBQ2hDLE9BQU8sTUFBTSxDQUFDLEtBQUssSUFBSSxNQUFNLENBQUMsS0FBSyxDQUFDO0lBQ3RDLENBQUM7OztZQTNCRixVQUFVOztBQThCWCxPQUFPLEVBQUUsYUFBYSxFQUFFLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJbmplY3RhYmxlIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcblxyXG4vKipcclxuICog6L+H5ruk5p2h5Lu25pyN5YqhXHJcbiAqIEBzY29wZSBGb3JtTW9kdWxlXHJcbiAqL1xyXG5ASW5qZWN0YWJsZSgpXHJcbmNsYXNzIEZpbHRlclNlcnZpY2Uge1xyXG5cclxuICAvKipcclxuICAgKiDnp7vpmaTljIXlkKvnibnmrorlgLznmoTov4fmu6TmnaHku7ZcclxuICAgKiBAdG9kb++8muWBh+WummZpbHRlcnPkuLrlrZfnrKbkuLLvvIzlvoXorr7orqHml7bmlK/mjIHmlbDnu4Tlj4LmlbDlkI7kuIDotbfosIPmlbRcclxuICAgKi9cclxuICBwdWJsaWMgc3RyaXBGaWx0ZXJzV2l0aFNwZWNpYWxWYWx1ZShmaWx0ZXJzOiBzdHJpbmcsIHNwZWNpYWxWYWx1ZXM6IHN0cmluZyk6IHN0cmluZyB7XHJcbiAgICBpZiAoIWZpbHRlcnMgfHwgIXNwZWNpYWxWYWx1ZXMpIHtcclxuICAgICAgcmV0dXJuIGZpbHRlcnM7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgZmlsdGVyQXJyYXk6IGFueVtdID0gSlNPTi5wYXJzZShmaWx0ZXJzKTtcclxuICAgIGNvbnN0IHN0cmlwcGVkRmlsdGVyQXJyYXkgPSBmaWx0ZXJBcnJheS5maWx0ZXIoKGZpbHRlcjogYW55KSA9PiB7XHJcbiAgICAgIGNvbnN0IGZpbHRlclZhbHVlID0gdGhpcy5nZXRGaWx0ZXJWYWx1ZShmaWx0ZXIpO1xyXG4gICAgICByZXR1cm4gc3BlY2lhbFZhbHVlcy5pbmRleE9mKGZpbHRlclZhbHVlKSA9PT0gLTE7XHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoc3RyaXBwZWRGaWx0ZXJBcnJheSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiDojrflj5bov4fmu6TmnaHku7bnmoTlgLxcclxuICAgKiBAdG9kb++8muayoeaciUZpbHRlcuaOpeWPo+WumuS5ie+8jOebruWJjeS6p+WTgemDqOWkp+Wwj+WGmeS4jeS4gOiHtOOAglxyXG4gICAqL1xyXG4gIHByaXZhdGUgZ2V0RmlsdGVyVmFsdWUoZmlsdGVyOiBhbnkpIHtcclxuICAgIHJldHVybiBmaWx0ZXIuVmFsdWUgfHwgZmlsdGVyLnZhbHVlO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IHsgRmlsdGVyU2VydmljZSB9O1xyXG4iXX0=