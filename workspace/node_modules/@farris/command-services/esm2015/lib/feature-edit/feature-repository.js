import { Injectable, Injector } from "@angular/core";
import { Repository } from '@farris/devkit';
import { BasePathService } from "@farris/rtf";
export class FeatureRepository {
    constructor(injector, repository) {
        this.injector = injector;
        this.repository = repository;
    }
    /**
     * 根据物料id获取物料特征项及特征值（公共默认值）
     * @param materialId 物料id
     */
    getFeaturesByMaterialId(materialId) {
        const url = BasePathService.convertPath('/api/scm/scmfnd/v1.0/scmcommoncmpservice/service/getmaterialprops');
        const body = {
            materialID: materialId
        };
        const options = {
            body
        };
        const befRepository = this.repository;
        return befRepository.proxy.request(url, 'put', null, options);
    }
    /**
     * 根据物料id及物料特征保存后的hash获取该物料已经存储的特征项值
     * @param materialId 物料Id
     * @param configID 对应该物料的特征项hash
     * @returns
     */
    getConfigedValueByFeatureId(materialId, configID, configType = 'Materials') {
        const url = BasePathService.convertPath('/api/bf/df/v1.0/charactconfigservice/service/getcharactconfiginfo');
        const body = { objType: configType, objID: materialId, configID };
        const befRepository = this.repository;
        const options = {
            body
        };
        return befRepository.proxy.request(url, 'put', null, options);
    }
    /**
     * 保存物料特征项
     * @param materialId 物料id
     * @param charactValue 特征值
     * @param configType 配置类型
     * @returns
     */
    applyFeatures(materialId, charactValue, configType = 'Materials') {
        const body = { objType: configType, objID: materialId, charactValue };
        const befRepository = this.repository;
        const options = {
            body
        };
        return befRepository.proxy.request(BasePathService.convertPath('/api/bf/df/v1.0/charactconfigservice/service/matchcharactconfigid'), 'put', null, options);
    }
    /**
     * 获取帮助信息
     * @param helpid 帮助id
     * @param filter 过滤条件
     * @param params 参数
     * @returns
     */
    getHelpInfo(helpid, filter, params) {
        const url = BasePathService.convertPath('/api/scm/scmfnd/v1.0/scmcommoncmpservice/service/gethelpdata');
        const httpParams = {};
        if (params) {
            if (params.pageIndex) {
                httpParams['pageIndex'] = JSON.stringify(params.pageIndex - 0);
            }
            if (params.pageSize) {
                httpParams['pageSize'] = JSON.stringify(params.pageSize - 0);
            }
            if (params.condition) {
                httpParams['condition'] = JSON.stringify(params.condition);
            }
            if (params.searchValue) {
                httpParams['search'] = params.searchValue;
            }
        }
        const body = {
            helpID: helpid,
            queryParam: JSON.stringify(httpParams),
            filterStr: filter
        };
        const befRepository = this.repository;
        const options = {
            body
        };
        return befRepository.proxy.request(url, 'put', null, options);
    }
}
FeatureRepository.decorators = [
    { type: Injectable }
];
/** @nocollapse */
FeatureRepository.ctorParameters = () => [
    { type: Injector },
    { type: Repository }
];
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZmVhdHVyZS1yZXBvc2l0b3J5LmpzIiwic291cmNlUm9vdCI6Im5nOi8vQGZhcnJpcy9jb21tYW5kLXNlcnZpY2VzLyIsInNvdXJjZXMiOlsibGliL2ZlYXR1cmUtZWRpdC9mZWF0dXJlLXJlcG9zaXRvcnkudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFVBQVUsRUFBRSxRQUFRLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFFckQsT0FBTyxFQUFFLFVBQVUsRUFBRSxNQUFNLGdCQUFnQixDQUFDO0FBSTVDLE9BQU8sRUFBRSxlQUFlLEVBQUUsTUFBTSxhQUFhLENBQUM7QUFHOUMsTUFBTSxPQUFPLGlCQUFpQjtJQUM1QixZQUNVLFFBQWtCLEVBQ2xCLFVBQTJCO1FBRDNCLGFBQVEsR0FBUixRQUFRLENBQVU7UUFDbEIsZUFBVSxHQUFWLFVBQVUsQ0FBaUI7SUFDakMsQ0FBQztJQUNMOzs7T0FHRztJQUNJLHVCQUF1QixDQUFDLFVBQWtCO1FBQy9DLE1BQU0sR0FBRyxHQUFHLGVBQWUsQ0FBQyxXQUFXLENBQUMsbUVBQW1FLENBQUMsQ0FBQztRQUM3RyxNQUFNLElBQUksR0FBRztZQUNYLFVBQVUsRUFBRSxVQUFVO1NBQ3ZCLENBQUM7UUFDRixNQUFNLE9BQU8sR0FBRztZQUNkLElBQUk7U0FDTCxDQUFDO1FBQ0YsTUFBTSxhQUFhLEdBQXVCLElBQUksQ0FBQyxVQUFnQyxDQUFDO1FBQ2hGLE9BQU8sYUFBYSxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsR0FBRyxFQUFFLEtBQUssRUFBRSxJQUFJLEVBQUUsT0FBTyxDQUFDLENBQUM7SUFDaEUsQ0FBQztJQUNEOzs7OztPQUtHO0lBQ0ksMkJBQTJCLENBQUMsVUFBa0IsRUFBRSxRQUFnQixFQUFFLGFBQXFCLFdBQVc7UUFDdkcsTUFBTSxHQUFHLEdBQUcsZUFBZSxDQUFDLFdBQVcsQ0FBQyxtRUFBbUUsQ0FBQyxDQUFDO1FBQzdHLE1BQU0sSUFBSSxHQUFHLEVBQUUsT0FBTyxFQUFFLFVBQVUsRUFBRSxLQUFLLEVBQUUsVUFBVSxFQUFFLFFBQVEsRUFBRSxDQUFDO1FBQ2xFLE1BQU0sYUFBYSxHQUF1QixJQUFJLENBQUMsVUFBZ0MsQ0FBQztRQUNoRixNQUFNLE9BQU8sR0FBRztZQUNkLElBQUk7U0FDTCxDQUFDO1FBQ0YsT0FBTyxhQUFhLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxHQUFHLEVBQUUsS0FBSyxFQUFFLElBQUksRUFBRSxPQUFPLENBQUMsQ0FBQztJQUNoRSxDQUFDO0lBQ0Q7Ozs7OztPQU1HO0lBQ0ksYUFBYSxDQUFDLFVBQWtCLEVBQUUsWUFBaUIsRUFBRSxhQUFxQixXQUFXO1FBQzFGLE1BQU0sSUFBSSxHQUFHLEVBQUUsT0FBTyxFQUFFLFVBQVUsRUFBRSxLQUFLLEVBQUUsVUFBVSxFQUFFLFlBQVksRUFBRSxDQUFDO1FBQ3RFLE1BQU0sYUFBYSxHQUF1QixJQUFJLENBQUMsVUFBZ0MsQ0FBQztRQUNoRixNQUFNLE9BQU8sR0FBRztZQUNkLElBQUk7U0FDTCxDQUFDO1FBQ0YsT0FBTyxhQUFhLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxlQUFlLENBQUMsV0FBVyxDQUFDLG1FQUFtRSxDQUFDLEVBQUUsS0FBSyxFQUFFLElBQUksRUFBRSxPQUFPLENBQUMsQ0FBQztJQUM3SixDQUFDO0lBQ0Q7Ozs7OztPQU1HO0lBQ0ksV0FBVyxDQUFDLE1BQWMsRUFBRSxNQUFjLEVBQUUsTUFBVztRQUM1RCxNQUFNLEdBQUcsR0FBRyxlQUFlLENBQUMsV0FBVyxDQUFDLDhEQUE4RCxDQUFDLENBQUM7UUFDeEcsTUFBTSxVQUFVLEdBQVEsRUFBRSxDQUFDO1FBQzNCLElBQUksTUFBTSxFQUFFO1lBQ1YsSUFBSSxNQUFNLENBQUMsU0FBUyxFQUFFO2dCQUNwQixVQUFVLENBQUMsV0FBVyxDQUFDLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsU0FBUyxHQUFHLENBQUMsQ0FBQyxDQUFDO2FBQ2hFO1lBQ0QsSUFBSSxNQUFNLENBQUMsUUFBUSxFQUFFO2dCQUNuQixVQUFVLENBQUMsVUFBVSxDQUFDLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsUUFBUSxHQUFHLENBQUMsQ0FBQyxDQUFDO2FBQzlEO1lBQ0QsSUFBSSxNQUFNLENBQUMsU0FBUyxFQUFFO2dCQUNwQixVQUFVLENBQUMsV0FBVyxDQUFDLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsU0FBUyxDQUFDLENBQUM7YUFDNUQ7WUFDRCxJQUFJLE1BQU0sQ0FBQyxXQUFXLEVBQUU7Z0JBQ3RCLFVBQVUsQ0FBQyxRQUFRLENBQUMsR0FBRyxNQUFNLENBQUMsV0FBVyxDQUFDO2FBQzNDO1NBQ0Y7UUFDRCxNQUFNLElBQUksR0FBRztZQUNYLE1BQU0sRUFBRSxNQUFNO1lBQ2QsVUFBVSxFQUFFLElBQUksQ0FBQyxTQUFTLENBQUMsVUFBVSxDQUFDO1lBQ3RDLFNBQVMsRUFBRSxNQUFNO1NBQ2xCLENBQUM7UUFDRixNQUFNLGFBQWEsR0FBdUIsSUFBSSxDQUFDLFVBQWdDLENBQUM7UUFDaEYsTUFBTSxPQUFPLEdBQUc7WUFDZCxJQUFJO1NBQ0wsQ0FBQztRQUNGLE9BQU8sYUFBYSxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsR0FBRyxFQUFFLEtBQUssRUFBRSxJQUFJLEVBQUUsT0FBTyxDQUFDLENBQUM7SUFDaEUsQ0FBQzs7O1lBckZGLFVBQVU7Ozs7WUFSVSxRQUFRO1lBRXBCLFVBQVUiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJbmplY3RhYmxlLCBJbmplY3RvciB9IGZyb20gXCJAYW5ndWxhci9jb3JlXCI7XHJcbmltcG9ydCB7IEJlZlJlcG9zaXRvcnksIFJlc3BvbnNlSW5mbyB9IGZyb20gXCJAZmFycmlzL2JlZlwiO1xyXG5pbXBvcnQgeyBSZXBvc2l0b3J5IH0gZnJvbSAnQGZhcnJpcy9kZXZraXQnO1xyXG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSBcInJ4anNcIjtcclxuaW1wb3J0IHsgbWFwIH0gZnJvbSBcInJ4anMvb3BlcmF0b3JzXCI7XHJcbmltcG9ydCB7IFByb3AgfSBmcm9tIFwiLi90eXBlc1wiO1xyXG5pbXBvcnQgeyBCYXNlUGF0aFNlcnZpY2UgfSBmcm9tIFwiQGZhcnJpcy9ydGZcIjtcclxuXHJcbkBJbmplY3RhYmxlKClcclxuZXhwb3J0IGNsYXNzIEZlYXR1cmVSZXBvc2l0b3J5IHtcclxuICBjb25zdHJ1Y3RvcihcclxuICAgIHByaXZhdGUgaW5qZWN0b3I6IEluamVjdG9yLFxyXG4gICAgcHJpdmF0ZSByZXBvc2l0b3J5OiBSZXBvc2l0b3J5PGFueT4sXHJcbiAgKSB7IH1cclxuICAvKipcclxuICAgKiDmoLnmja7nianmlplpZOiOt+WPlueJqeaWmeeJueW+gemhueWPiueJueW+geWAvO+8iOWFrOWFsem7mOiupOWAvO+8iVxyXG4gICAqIEBwYXJhbSBtYXRlcmlhbElkIOeJqeaWmWlkXHJcbiAgICovXHJcbiAgcHVibGljIGdldEZlYXR1cmVzQnlNYXRlcmlhbElkKG1hdGVyaWFsSWQ6IHN0cmluZyk6IE9ic2VydmFibGU8UmVzcG9uc2VJbmZvPiB7XHJcbiAgICBjb25zdCB1cmwgPSBCYXNlUGF0aFNlcnZpY2UuY29udmVydFBhdGgoJy9hcGkvc2NtL3NjbWZuZC92MS4wL3NjbWNvbW1vbmNtcHNlcnZpY2Uvc2VydmljZS9nZXRtYXRlcmlhbHByb3BzJyk7XHJcbiAgICBjb25zdCBib2R5ID0ge1xyXG4gICAgICBtYXRlcmlhbElEOiBtYXRlcmlhbElkXHJcbiAgICB9O1xyXG4gICAgY29uc3Qgb3B0aW9ucyA9IHtcclxuICAgICAgYm9keVxyXG4gICAgfTtcclxuICAgIGNvbnN0IGJlZlJlcG9zaXRvcnk6IEJlZlJlcG9zaXRvcnk8YW55PiA9IHRoaXMucmVwb3NpdG9yeSBhcyBCZWZSZXBvc2l0b3J5PGFueT47XHJcbiAgICByZXR1cm4gYmVmUmVwb3NpdG9yeS5wcm94eS5yZXF1ZXN0KHVybCwgJ3B1dCcsIG51bGwsIG9wdGlvbnMpO1xyXG4gIH1cclxuICAvKipcclxuICAgKiDmoLnmja7nianmlplpZOWPiueJqeaWmeeJueW+geS/neWtmOWQjueahGhhc2jojrflj5bor6Xnianmlpnlt7Lnu4/lrZjlgqjnmoTnibnlvoHpobnlgLxcclxuICAgKiBAcGFyYW0gbWF0ZXJpYWxJZCDnianmlplJZFxyXG4gICAqIEBwYXJhbSBjb25maWdJRCDlr7nlupTor6XnianmlpnnmoTnibnlvoHpobloYXNoXHJcbiAgICogQHJldHVybnNcclxuICAgKi9cclxuICBwdWJsaWMgZ2V0Q29uZmlnZWRWYWx1ZUJ5RmVhdHVyZUlkKG1hdGVyaWFsSWQ6IHN0cmluZywgY29uZmlnSUQ6IHN0cmluZywgY29uZmlnVHlwZTogc3RyaW5nID0gJ01hdGVyaWFscycpOiBPYnNlcnZhYmxlPFJlc3BvbnNlSW5mbz4ge1xyXG4gICAgY29uc3QgdXJsID0gQmFzZVBhdGhTZXJ2aWNlLmNvbnZlcnRQYXRoKCcvYXBpL2JmL2RmL3YxLjAvY2hhcmFjdGNvbmZpZ3NlcnZpY2Uvc2VydmljZS9nZXRjaGFyYWN0Y29uZmlnaW5mbycpO1xyXG4gICAgY29uc3QgYm9keSA9IHsgb2JqVHlwZTogY29uZmlnVHlwZSwgb2JqSUQ6IG1hdGVyaWFsSWQsIGNvbmZpZ0lEIH07XHJcbiAgICBjb25zdCBiZWZSZXBvc2l0b3J5OiBCZWZSZXBvc2l0b3J5PGFueT4gPSB0aGlzLnJlcG9zaXRvcnkgYXMgQmVmUmVwb3NpdG9yeTxhbnk+O1xyXG4gICAgY29uc3Qgb3B0aW9ucyA9IHtcclxuICAgICAgYm9keVxyXG4gICAgfTtcclxuICAgIHJldHVybiBiZWZSZXBvc2l0b3J5LnByb3h5LnJlcXVlc3QodXJsLCAncHV0JywgbnVsbCwgb3B0aW9ucyk7XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIOS/neWtmOeJqeaWmeeJueW+gemhuVxyXG4gICAqIEBwYXJhbSBtYXRlcmlhbElkIOeJqeaWmWlkXHJcbiAgICogQHBhcmFtIGNoYXJhY3RWYWx1ZSDnibnlvoHlgLxcclxuICAgKiBAcGFyYW0gY29uZmlnVHlwZSDphY3nva7nsbvlnotcclxuICAgKiBAcmV0dXJuc1xyXG4gICAqL1xyXG4gIHB1YmxpYyBhcHBseUZlYXR1cmVzKG1hdGVyaWFsSWQ6IHN0cmluZywgY2hhcmFjdFZhbHVlOiBhbnksIGNvbmZpZ1R5cGU6IHN0cmluZyA9ICdNYXRlcmlhbHMnKSB7XHJcbiAgICBjb25zdCBib2R5ID0geyBvYmpUeXBlOiBjb25maWdUeXBlLCBvYmpJRDogbWF0ZXJpYWxJZCwgY2hhcmFjdFZhbHVlIH07XHJcbiAgICBjb25zdCBiZWZSZXBvc2l0b3J5OiBCZWZSZXBvc2l0b3J5PGFueT4gPSB0aGlzLnJlcG9zaXRvcnkgYXMgQmVmUmVwb3NpdG9yeTxhbnk+O1xyXG4gICAgY29uc3Qgb3B0aW9ucyA9IHtcclxuICAgICAgYm9keVxyXG4gICAgfTtcclxuICAgIHJldHVybiBiZWZSZXBvc2l0b3J5LnByb3h5LnJlcXVlc3QoQmFzZVBhdGhTZXJ2aWNlLmNvbnZlcnRQYXRoKCcvYXBpL2JmL2RmL3YxLjAvY2hhcmFjdGNvbmZpZ3NlcnZpY2Uvc2VydmljZS9tYXRjaGNoYXJhY3Rjb25maWdpZCcpLCAncHV0JywgbnVsbCwgb3B0aW9ucyk7XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIOiOt+WPluW4ruWKqeS/oeaBr1xyXG4gICAqIEBwYXJhbSBoZWxwaWQg5biu5YqpaWRcclxuICAgKiBAcGFyYW0gZmlsdGVyIOi/h+a7pOadoeS7tlxyXG4gICAqIEBwYXJhbSBwYXJhbXMg5Y+C5pWwXHJcbiAgICogQHJldHVybnNcclxuICAgKi9cclxuICBwdWJsaWMgZ2V0SGVscEluZm8oaGVscGlkOiBzdHJpbmcsIGZpbHRlcjogc3RyaW5nLCBwYXJhbXM6IGFueSk6IE9ic2VydmFibGU8YW55PiB7XHJcbiAgICBjb25zdCB1cmwgPSBCYXNlUGF0aFNlcnZpY2UuY29udmVydFBhdGgoJy9hcGkvc2NtL3NjbWZuZC92MS4wL3NjbWNvbW1vbmNtcHNlcnZpY2Uvc2VydmljZS9nZXRoZWxwZGF0YScpO1xyXG4gICAgY29uc3QgaHR0cFBhcmFtczogYW55ID0ge307XHJcbiAgICBpZiAocGFyYW1zKSB7XHJcbiAgICAgIGlmIChwYXJhbXMucGFnZUluZGV4KSB7XHJcbiAgICAgICAgaHR0cFBhcmFtc1sncGFnZUluZGV4J10gPSBKU09OLnN0cmluZ2lmeShwYXJhbXMucGFnZUluZGV4IC0gMCk7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKHBhcmFtcy5wYWdlU2l6ZSkge1xyXG4gICAgICAgIGh0dHBQYXJhbXNbJ3BhZ2VTaXplJ10gPSBKU09OLnN0cmluZ2lmeShwYXJhbXMucGFnZVNpemUgLSAwKTtcclxuICAgICAgfVxyXG4gICAgICBpZiAocGFyYW1zLmNvbmRpdGlvbikge1xyXG4gICAgICAgIGh0dHBQYXJhbXNbJ2NvbmRpdGlvbiddID0gSlNPTi5zdHJpbmdpZnkocGFyYW1zLmNvbmRpdGlvbik7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKHBhcmFtcy5zZWFyY2hWYWx1ZSkge1xyXG4gICAgICAgIGh0dHBQYXJhbXNbJ3NlYXJjaCddID0gcGFyYW1zLnNlYXJjaFZhbHVlO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBjb25zdCBib2R5ID0ge1xyXG4gICAgICBoZWxwSUQ6IGhlbHBpZCxcclxuICAgICAgcXVlcnlQYXJhbTogSlNPTi5zdHJpbmdpZnkoaHR0cFBhcmFtcyksXHJcbiAgICAgIGZpbHRlclN0cjogZmlsdGVyXHJcbiAgICB9O1xyXG4gICAgY29uc3QgYmVmUmVwb3NpdG9yeTogQmVmUmVwb3NpdG9yeTxhbnk+ID0gdGhpcy5yZXBvc2l0b3J5IGFzIEJlZlJlcG9zaXRvcnk8YW55PjtcclxuICAgIGNvbnN0IG9wdGlvbnMgPSB7XHJcbiAgICAgIGJvZHlcclxuICAgIH07XHJcbiAgICByZXR1cm4gYmVmUmVwb3NpdG9yeS5wcm94eS5yZXF1ZXN0KHVybCwgJ3B1dCcsIG51bGwsIG9wdGlvbnMpO1xyXG4gIH1cclxufVxyXG4iXX0=