{"__symbolic":"module","version":4,"metadata":{"DatagridExtIntgrtnComponent":{"__symbolic":"class","extends":{"__symbolic":"reference","module":"@farris/ui-datagrid-editors","name":"DatagridBaseEditorDirective","line":41,"character":49},"decorators":[{"__symbolic":"call","expression":{"__symbolic":"reference","module":"@angular/core","name":"Component","line":20,"character":1},"arguments":[{"selector":"grid-external-integration","template":"\n    <div [formGroup]=\"group\" class=\"f-datagrid-cell-formgroup farris-group-auto\">\n      <web-external-integration\n        #extIntgrtn\n        style=\"width: 100%\"\n        extIntegration-dataMapping\n        [placeholder]=\"options.placeholder\"\n        [readonly]=\"options.readonly\"\n        [mapFields]=\"options.mapFields\"\n        [serviceCode] = \"options.serviceCode\"\n        [externalParams] = \"options.externalParams\"\n        [extTableSchemas] = \"options.extTableSchemas\"\n        [formControlName]=\"column.field\"\n        [mappingType] = \"'grid'\"\n        \n      ></web-external-integration>\n    </div>\n  "}]}],"members":{"instance":[{"__symbolic":"property","decorators":[{"__symbolic":"call","expression":{"__symbolic":"reference","module":"@angular/core","name":"ViewChild","line":43,"character":3},"arguments":["extIntgrtn"]}]}],"__ctor__":[{"__symbolic":"constructor","parameters":[{"__symbolic":"reference","module":"@angular/core","name":"Renderer2","line":47,"character":12},{"__symbolic":"reference","module":"@angular/core","name":"ElementRef","line":48,"character":8},{"__symbolic":"reference","module":"@farris/ui-common","name":"RuntimeStateService","line":49,"character":17},{"__symbolic":"reference","module":"@angular/core","name":"Injector","line":50,"character":14}]}],"ngOnInit":[{"__symbolic":"method"}],"ngAfterViewInit":[{"__symbolic":"method"}]}},"ExtIntgrtnDataGridEditorProvider":{"provide":{"__symbolic":"reference","module":"@farris/ui-datagrid","name":"GRID_EDITORS","line":77,"character":11},"useValue":{"name":"external-integration","value":{"__symbolic":"reference","name":"DatagridExtIntgrtnComponent"}},"multi":true},"ExternalIntegrationModule":{"__symbolic":"class","decorators":[{"__symbolic":"call","expression":{"__symbolic":"reference","module":"@angular/core","name":"NgModule","line":31,"character":1},"arguments":[{"declarations":[{"__symbolic":"reference","name":"ExtIntegrationDataMappingDirective"},{"__symbolic":"reference","name":"ExternalIntegrationComponent"},{"__symbolic":"reference","name":"DatagridExtIntgrtnComponent"}],"imports":[{"__symbolic":"reference","module":"@angular/common","name":"CommonModule","line":38,"character":4},{"__symbolic":"reference","module":"@angular/forms","name":"ReactiveFormsModule","line":39,"character":4},{"__symbolic":"reference","module":"@farris/ui-list-view","name":"ListViewModule","line":40,"character":4},{"__symbolic":"reference","module":"@angular/router","name":"RouterModule","line":41,"character":4},{"__symbolic":"reference","module":"@farris/ui-list-nav","name":"ListNavModule","line":42,"character":4},{"__symbolic":"reference","module":"@farris/ui-input-group","name":"InputGroupModule","line":43,"character":4},{"__symbolic":"reference","module":"@farris/ui-text","name":"TextModule","line":44,"character":4},{"__symbolic":"reference","module":"@angular/common/http","name":"HttpClientModule","line":45,"character":4},{"__symbolic":"reference","module":"@farris/ui-forms/validation-message","name":"FormMessageModule","line":46,"character":4},{"__symbolic":"reference","module":"@farris/ui-perfect-scrollbar","name":"PerfectScrollbarModule","line":47,"character":4},{"__symbolic":"reference","module":"@farris/ui-tree","name":"TreeModule","line":48,"character":4},{"__symbolic":"reference","module":"@farris/ui-tabs","name":"FarrisTabsModule","line":49,"character":4},{"__symbolic":"reference","module":"@farris/ui-forms","name":"FarrisFormsModule","line":50,"character":4},{"__symbolic":"reference","module":"@angular/forms","name":"FormsModule","line":51,"character":4},{"__symbolic":"call","expression":{"__symbolic":"select","expression":{"__symbolic":"reference","module":"@farris/ui-common","name":"FarrisCommonModule","line":52,"character":4},"member":"forRoot"}},{"__symbolic":"call","expression":{"__symbolic":"select","expression":{"__symbolic":"reference","module":"@farris/ui-dialog","name":"FarrisDialogModule","line":53,"character":4},"member":"forRoot"}},{"__symbolic":"call","expression":{"__symbolic":"select","expression":{"__symbolic":"reference","module":"@farris/ui-messager","name":"MessagerModule","line":54,"character":4},"member":"forRoot"}},{"__symbolic":"call","expression":{"__symbolic":"select","expression":{"__symbolic":"reference","module":"@farris/ui-notify","name":"NotifyModule","line":55,"character":4},"member":"forRoot"}},{"__symbolic":"reference","module":"@farris/ui-layout","name":"LayoutModule","line":56,"character":4},{"__symbolic":"call","expression":{"__symbolic":"select","expression":{"__symbolic":"reference","module":"@farris/ui-locale","name":"LocaleModule","line":57,"character":4},"member":"forRoot"}},{"__symbolic":"call","expression":{"__symbolic":"select","expression":{"__symbolic":"reference","module":"@farris/ui-modal","name":"ModalModule","line":58,"character":4},"member":"forRoot"}},{"__symbolic":"reference","module":"@farris/ui-datagrid","name":"DatagridModule","line":59,"character":4}],"providers":[{"__symbolic":"reference","module":"@farris/ui-modal","name":"BsModalService","line":61,"character":15},{"__symbolic":"reference","module":"@farris/ui-dialog","name":"DialogService","line":61,"character":31}],"entryComponents":[{"__symbolic":"reference","name":"DatagridExtIntgrtnComponent"},{"__symbolic":"reference","module":"@farris/ui-datagrid","name":"DatagridComponent","line":62,"character":49}],"exports":[{"__symbolic":"reference","name":"ExtIntegrationDataMappingDirective"},{"__symbolic":"reference","name":"ExternalIntegrationComponent"},{"__symbolic":"reference","name":"DatagridExtIntgrtnComponent"}]}]}],"members":{}},"ExtIntegrationDataMappingDirective":{"__symbolic":"class","decorators":[{"__symbolic":"call","expression":{"__symbolic":"reference","module":"@angular/core","name":"Directive","line":9,"character":1},"arguments":[{"selector":"[extIntegration-dataMapping]"}]}],"members":{"myField":[{"__symbolic":"property","decorators":[{"__symbolic":"call","expression":{"__symbolic":"reference","module":"@angular/core","name":"Input","line":14,"character":3},"arguments":["mapFields"]}]}],"showModal":[{"__symbolic":"property","decorators":[{"__symbolic":"call","expression":{"__symbolic":"reference","module":"@angular/core","name":"Output","line":15,"character":3}}]}],"__ctor__":[{"__symbolic":"constructor","parameterDecorators":[[{"__symbolic":"call","expression":{"__symbolic":"reference","module":"@angular/core","name":"Optional","line":17,"character":5}}],null],"parameters":[{"__symbolic":"reference","module":"@farris/devkit","name":"ViewModel","line":17,"character":28},{"__symbolic":"reference","name":"ExternalIntegrationComponent"}]}],"ngOnInit":[{"__symbolic":"method"}],"mappingData":[{"__symbolic":"method"}],"getBindingPathArray":[{"__symbolic":"method"}]}},"ExternalIntegrationService":{"__symbolic":"class","decorators":[{"__symbolic":"call","expression":{"__symbolic":"reference","module":"@angular/core","name":"Injectable","line":4,"character":1}}],"members":{"__ctor__":[{"__symbolic":"constructor","parameters":[{"__symbolic":"reference","module":"@angular/common/http","name":"HttpClient","line":7,"character":18},{"__symbolic":"reference","module":"@farris/devkit","name":"VariableParseService","line":8,"character":34},{"__symbolic":"reference","module":"@farris/devkit","name":"ViewModel","line":9,"character":16}]}],"sapData":[{"__symbolic":"property","decorators":[{"__symbolic":"call","expression":{"__symbolic":"reference","module":"@angular/core","name":"Output","line":11,"character":3}}]}],"queryExtIntegrationService":[{"__symbolic":"method"}],"assembleSapRequest":[{"__symbolic":"method"}]}},"ExternalIntegrationComponent":{"__symbolic":"class","decorators":[{"__symbolic":"call","expression":{"__symbolic":"reference","module":"@angular/core","name":"Component","line":32,"character":1},"arguments":[{"selector":"web-external-integration","providers":[{"__symbolic":"reference","name":"ExternalIntegrationService"},{"provide":{"__symbolic":"reference","module":"@angular/forms","name":"NG_VALUE_ACCESSOR","line":39,"character":15},"useExisting":{"__symbolic":"reference","name":"ExternalIntegrationComponent"},"multi":true}],"template":"<input [(ngModel)]=\"fieldText\" #input  class=\"form-control\" input-end-edit [readonly]=\"false\"\r\n  tabindex=\"0\" maxlength=\"36\" />\r\n\r\n<farris-dialog #dialog [title]=\"'选择数据'\" [beforeClose]=\"beforeClose\"  [width]=\"1000\" [height]=\"834\" [showButtons]=\"true\" [showMaxButton]=\"true\"\r\n  [showCloseButton]=\"true\" [enableScroll]=\"false\" [dialogHeaderHeight]=\"50\" [buttons]=\"defaultButtonRef\">\r\n  <div [ngStyle]=\"containerStyle\" style=\"height: 100%;\">\r\n    <div class=\"listnav-example-wrapper\">\r\n      <div class=\"example-side-nav\">\r\n        <farris-list-nav  [listNavWidth]=\"240\" (listClick)=\"listClick($event)\">\r\n          <ng-template listNavContent>\r\n            <farris-list-view #farrisListView [showEmpty]=\"true\" [data]=\"tableData\" [activeIndex]=\"3\" listidName=\"code\" (listClick)=\"listClick($event)\">\r\n              <ng-template #navView listTemplate let-item=\"item\" let-selected=\"selectedItem\">\r\n                <div class=\"f-template-listnav-row\">\r\n                  <!-- routerLinkActive=\"active\" -->\r\n                  <a class=\"list-nav-link\" [ngStyle]=\"{'pointer-events': item.disable ?'none' : '','width':240 +'px'}\"\r\n                     [title]=\"item.name\">\r\n                    <span class=\"nav-item-name\">\r\n                      {{ item.name }}\r\n                    </span>\r\n                  </a>\r\n                </div>\r\n              </ng-template>\r\n            </farris-list-view>\r\n          </ng-template>\r\n\r\n          <!-- <ng-template listNavFooter>\r\n                底部部分\r\n            </ng-template> -->\r\n\r\n        </farris-list-nav>\r\n      </div>\r\n      <div class=\"example-content\" >\r\n        <ng-container #girdView *ngFor=\"let item of tableData;let i = index\">\r\n          <div style=\"height:100%\" [hidden]=\"! (currentLink && item.code == ((currentLink['data'] || [])[0] || {})['code'])\" >\r\n            <farris-datagrid \r\n              [autoFitColumns]=\"true\" \r\n              [columns]=\"item.columns\" \r\n              [data]=\"item.data\" \r\n              [fitColumns]=\"true\"\r\n              [fit]=\"true\" \r\n              [showBorder]=\"true\" \r\n              [(selectValue)]=\"item.selectedValue\"\r\n              [keepSelect]=\"false\"\r\n              [pagination]=\"false\"\r\n              (selectChanged)=\"selectRowChange($event, item.code)\"\r\n              (unSelect)=\"unSelect(null, item.code)\">\r\n            </farris-datagrid>\r\n          </div>\r\n        </ng-container>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</farris-dialog>\r\n\r\n<ng-template #defaultButtonRef>\r\n  <button #okbtn type=\"button\" [disabled]=\"ensureFlag\" (click)=\"confirm('ensure')\"  class=\"btn btn-primary btn-lg\">\r\n    {{ 'lookup.okText' | locale: '确定' }}\r\n  </button>\r\n  <button type=\"button\" class=\"btn btn-secondary btn-lg\" (click)=\"confirm('cancel')\" [disabled]=\"false\">\r\n    {{ 'lookup.cancelText' | locale: '取消' }}\r\n  </button>\r\n</ng-template>","styles":[".listnav-example-wrapper{background-color:#e7ebef;display:flex;height:100%}.listnav-example-wrapper .example-side-nav{flex:0 0 auto}.listnav-example-wrapper .example-content{flex:1 1 0;width:726px;overflow-y:auto;padding:10px 10px 10px 4px}.listnav-example-wrapper .example-content .listnav-content{height:100%;width:100%;background-color:#fff}.listnav-example-wrapper .example-content.example-content-right{padding:10px 4px 10px 10px}"]}]}],"members":{"width":[{"__symbolic":"property","decorators":[{"__symbolic":"call","expression":{"__symbolic":"reference","module":"@angular/core","name":"Input","line":48,"character":3}}]}],"height":[{"__symbolic":"property","decorators":[{"__symbolic":"call","expression":{"__symbolic":"reference","module":"@angular/core","name":"Input","line":50,"character":3}}]}],"serviceCode":[{"__symbolic":"property","decorators":[{"__symbolic":"call","expression":{"__symbolic":"reference","module":"@angular/core","name":"Input","line":52,"character":3},"arguments":["serviceCode"]}]}],"externalParams":[{"__symbolic":"property","decorators":[{"__symbolic":"call","expression":{"__symbolic":"reference","module":"@angular/core","name":"Input","line":54,"character":3},"arguments":["externalParams"]}]}],"mappingType":[{"__symbolic":"property","decorators":[{"__symbolic":"call","expression":{"__symbolic":"reference","module":"@angular/core","name":"Input","line":56,"character":3},"arguments":["mappingType"]}]}],"myField":[{"__symbolic":"property","decorators":[{"__symbolic":"call","expression":{"__symbolic":"reference","module":"@angular/core","name":"Input","line":58,"character":3},"arguments":["mapFields"]}]}],"fieldText":[{"__symbolic":"property","decorators":[{"__symbolic":"call","expression":{"__symbolic":"reference","module":"@angular/core","name":"Input","line":59,"character":3}}]}],"extTableSchemas":[{"__symbolic":"property","decorators":[{"__symbolic":"call","expression":{"__symbolic":"reference","module":"@angular/core","name":"Input","line":61,"character":3},"arguments":["extTableSchemas"]}]}],"placeholder":[{"__symbolic":"property","decorators":[{"__symbolic":"call","expression":{"__symbolic":"reference","module":"@angular/core","name":"Input","line":63,"character":3}}]}],"readonly":[{"__symbolic":"property","decorators":[{"__symbolic":"call","expression":{"__symbolic":"reference","module":"@angular/core","name":"Input","line":65,"character":3}}]}],"beforeSapSrvc":[{"__symbolic":"property","decorators":[{"__symbolic":"call","expression":{"__symbolic":"reference","module":"@angular/core","name":"Input","line":67,"character":3}}]}],"customData":[{"__symbolic":"property","decorators":[{"__symbolic":"call","expression":{"__symbolic":"reference","module":"@angular/core","name":"Input","line":72,"character":3}}]}],"selectSapData":[{"__symbolic":"property","decorators":[{"__symbolic":"call","expression":{"__symbolic":"reference","module":"@angular/core","name":"Output","line":74,"character":3}}]}],"afterOnblur":[{"__symbolic":"property","decorators":[{"__symbolic":"call","expression":{"__symbolic":"reference","module":"@angular/core","name":"Output","line":75,"character":3}}]}],"dialog":[{"__symbolic":"property","decorators":[{"__symbolic":"call","expression":{"__symbolic":"reference","module":"@angular/core","name":"ViewChild","line":76,"character":3},"arguments":["dialog"]}]}],"input":[{"__symbolic":"property","decorators":[{"__symbolic":"call","expression":{"__symbolic":"reference","module":"@angular/core","name":"ViewChild","line":77,"character":3},"arguments":["input"]}]}],"girdView":[{"__symbolic":"property","decorators":[{"__symbolic":"call","expression":{"__symbolic":"reference","module":"@angular/core","name":"ViewChild","line":78,"character":3},"arguments":["girdView",{"read":{"__symbolic":"reference","module":"@angular/core","name":"ViewContainerRef","line":78,"character":33}}]}]}],"farrisListView":[{"__symbolic":"property","decorators":[{"__symbolic":"call","expression":{"__symbolic":"reference","module":"@angular/core","name":"ViewChild","line":79,"character":3},"arguments":["farrisListView"]}]}],"__ctor__":[{"__symbolic":"constructor","parameterDecorators":[[{"__symbolic":"call","expression":{"__symbolic":"reference","module":"@angular/core","name":"Optional","line":99,"character":5}}],null,null,null,null,null],"parameters":[{"__symbolic":"reference","module":"@farris/devkit","name":"ViewModel","line":99,"character":28},{"__symbolic":"reference","module":"@angular/core","name":"ElementRef","line":100,"character":15},{"__symbolic":"reference","name":"ExternalIntegrationService"},{"__symbolic":"reference","module":"@farris/devkit","name":"VariableParseService","line":102,"character":34},{"__symbolic":"reference","module":"@angular/core","name":"ComponentFactoryResolver","line":103,"character":22},{"__symbolic":"reference","module":"@angular/core","name":"Injector","line":104,"character":17}]}],"ngOnChanges":[{"__symbolic":"method"}],"fieldTextChange":[{"__symbolic":"method"}],"ngAfterViewInit":[{"__symbolic":"method"}],"ngOnDestroy":[{"__symbolic":"method"}],"writeValue":[{"__symbolic":"method"}],"registerOnChange":[{"__symbolic":"method"}],"registerOnTouched":[{"__symbolic":"method"}],"setDisabledState":[{"__symbolic":"method"}],"ngOnInit":[{"__symbolic":"method"}],"showDialog":[{"__symbolic":"method"}],"callSapService":[{"__symbolic":"method"}],"sapDataHandle":[{"__symbolic":"method"}],"checkMultiTableData":[{"__symbolic":"method"}],"assembleTableData":[{"__symbolic":"method"}],"getTableListFromMapFields":[{"__symbolic":"method"}],"assembleTableInfo":[{"__symbolic":"method"}],"listClick":[{"__symbolic":"method"}],"confirm":[{"__symbolic":"method"}],"selectRowChange":[{"__symbolic":"method"}],"unSelect":[{"__symbolic":"method"}],"setEnsureButtonFlag":[{"__symbolic":"method"}],"assembleSapData":[{"__symbolic":"method"}],"sendSapData":[{"__symbolic":"method"}],"getBindingPathArray":[{"__symbolic":"method"}]}}},"origins":{"DatagridExtIntgrtnComponent":"./lib/component/external-integration/grid-external-integration.component","ExtIntgrtnDataGridEditorProvider":"./lib/component/external-integration/grid-external-integration.component","ExternalIntegrationModule":"./lib/external-integration.module","ExtIntegrationDataMappingDirective":"./lib/directives/ext-integration-data-mapping.directive","ExternalIntegrationService":"./lib/component/external-integration/external-integration-service","ExternalIntegrationComponent":"./lib/component/external-integration/external-integration.component"},"importAs":"@farris/external-integration"}