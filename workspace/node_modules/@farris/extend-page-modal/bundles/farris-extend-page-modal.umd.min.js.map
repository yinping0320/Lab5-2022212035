{"version":3,"sources":["ng://@farris/extend-page-modal/lib/page-modal-ref.service.ts","ng://@farris/extend-page-modal/lib/page-modal-options.class.ts","ng://@farris/extend-page-modal/lib/page-modal-backdrop.component.ts","node_modules/tslib/tslib.es6.js","ng://@farris/extend-page-modal/lib/page-modal.component.ts","ng://@farris/extend-page-modal/lib/page-sidebar.component.ts","ng://@farris/extend-page-modal/lib/page-modal.service.ts","ng://@farris/extend-page-modal/lib/page-modal.module.ts"],"sourcesContent":["import { Injectable, ComponentRef, QueryList } from '@angular/core';\r\nimport { FEPageModalComponent } from './page-modal.component';\r\nimport {FEPageModalSidebarComponent} from './page-sidebar.component';\r\n\r\n@Injectable()\r\nexport class FEPageModalRef {\r\n  /**\r\n   * Reference to a component inside the modal. Null if modal's been created with TemplateRef\r\n   */\r\n  content?: any | null;\r\n  /**\r\n   * Hides the modal\r\n   */\r\n  close: () => void = Function;\r\n  dialog?: ComponentRef<FEPageModalComponent|FEPageModalSidebarComponent> | null;\r\n}\r\n","import { Injectable, TemplateRef, EventEmitter } from '@angular/core';\r\nimport { Observable, of } from 'rxjs';\r\n\r\n@Injectable()\r\nexport class FEPageModalOptions {\r\n    /**\r\n     *  Includes a modal-backdrop element. Alternatively,\r\n     *  specify static for a backdrop which doesn't close the modal on click.\r\n     */\r\n    backdrop?: boolean | 'static';\r\n    /**\r\n     * Closes the modal when escape key is pressed.\r\n     */\r\n    keyboard?: boolean;\r\n\r\n    focus?: boolean;\r\n    /**\r\n     * Shows the modal when initialized.\r\n     */\r\n    show?: boolean;\r\n    /**\r\n     * Ignore the backdrop click\r\n     */\r\n    ignoreBackdropClick?: boolean;\r\n    /**\r\n     * Css class for opened modal\r\n     */\r\n    class?: string;\r\n    /**\r\n     * Toggle animation\r\n     */\r\n    animated?: boolean;\r\n    /**\r\n     * Modal data\r\n     */\r\n    initialState?: object;\r\n     /**\r\n     * 显示关闭按钮\r\n     */\r\n    showCloseButton?: boolean;\r\n    /**\r\n     * 显示最大化按钮\r\n     */\r\n    showMaxButton?: boolean;\r\n    /**\r\n     * 显示最小化按钮\r\n     */\r\n    showMinButton?: boolean;\r\n\r\n    /**\r\n     * 窗口宽度\r\n     */\r\n    width?: number|string;\r\n    /**\r\n     * 窗口高度\r\n     */\r\n    height?: number|string;\r\n\r\n    minWidth?: number;\r\n    minHeight?: number;\r\n    maxWidth?: number;\r\n    maxHeight?: number;\r\n    /** 启用拖拽功能 */\r\n    draggable?: boolean;\r\n\r\n    /** 启用调整尺寸大小 */\r\n    resizable?: boolean;\r\n\r\n    /** 是否启用滚动条 */\r\n    enableScroll?: boolean;\r\n\r\n    beforeOpen?: () => Observable<boolean>;\r\n    beforeClose?: (modalRef: any) => Observable<boolean>;\r\n    opened?: () => void;\r\n    closed?: (isCloseButtonClick: boolean | any) => void;\r\n    okText?: string;\r\n    cancelText?: string;\r\n    /** 弹窗类型：default，弹出组件、模板等；iframe,弹出iframe; ngFactory, 弹出ngFactory; sidebar:侧边栏 */\r\n    dialogType?: string;\r\n    // 窗口适应内容自动\r\n    fitContent?: boolean;\r\n    // 窗口内容区域是否自动响应式\r\n    areaResponse?:boolean;\r\n    sidebar?:object\r\n}\r\n\r\nexport const FEPModalConfigDefaults: FEPageModalOptions = {\r\n    backdrop: 'static',\r\n    keyboard: true,\r\n    focus: true,\r\n    show: false,\r\n    ignoreBackdropClick: true,\r\n    class: '',\r\n    animated: true,\r\n    initialState: {},\r\n    width: 600,\r\n    height: 450,\r\n    showCloseButton:true,\r\n    minHeight: null,\r\n    minWidth: null,\r\n    maxHeight: null,\r\n    maxWidth: null,\r\n    draggable: true,\r\n    resizable: true,\r\n    enableScroll: true,\r\n    beforeOpen: () => of(true),\r\n    beforeClose: () => of(true),\r\n    dialogType: 'modal',\r\n    fitContent: false,\r\n    areaResponse:true,\r\n    sidebar:{\r\n        showPos:'right',\r\n        parentCls:''\r\n    }\r\n};\r\n\r\nexport const FEPageModalCLASS_NAME: any = {\r\n    SCROLLBAR_MEASURER: 'modal-scrollbar-measure',\r\n    BACKDROP: 'modal-backdrop',\r\n    OPEN: 'modal-open',\r\n    FADE: 'fade',\r\n    IN: 'in', // bs3\r\n    SHOW: 'show' // bs4\r\n};\r\n\r\nexport const FPageModalSELECTOR: any = {\r\n    DIALOG: '.modal-dialog',\r\n    DATA_TOGGLE: '[data-toggle=\"modal\"]',\r\n    DATA_DISMISS: '[data-dismiss=\"modal\"]',\r\n    FIXED_CONTENT: '.navbar-fixed-top, .navbar-fixed-bottom, .is-fixed'\r\n};\r\n\r\nexport const FPageModalTRANSITION_DURATIONS: any = {\r\n    MODAL: 300,\r\n    BACKDROP: 150\r\n};\r\n\r\nexport const FPageModalDISMISS_REASONS = {\r\n    BACKRDOP: 'backdrop-click',\r\n    ESC: 'esc'\r\n};\r\n","import { Component, ElementRef, OnInit, Renderer2 } from '@angular/core';\r\nimport { FEPageModalCLASS_NAME } from './page-modal-options.class';\r\nimport { Utils} from '@farris/ui-modal/utils';\r\n\r\n/** This component will be added as background layout for modals if enabled */\r\n@Component({\r\n    selector: 'fe-modal-backdrop',\r\n    template: ' ',\r\n    host: { class: FEPageModalCLASS_NAME.BACKDROP }\r\n})\r\nexport class FEModalBackdropComponent implements OnInit {\r\n    get isAnimated(): boolean {\r\n        return this._isAnimated;\r\n    }\r\n\r\n    set isAnimated(value: boolean) {\r\n        this._isAnimated = value;\r\n        // this.renderer.setElementClass(this.element.nativeElement, `${ClassName.FADE}`, value);\r\n    }\r\n\r\n    get isShown(): boolean {\r\n        return this._isShown;\r\n    }\r\n\r\n    set isShown(value: boolean) {\r\n        this._isShown = value;\r\n        if (value) {\r\n            this.renderer.addClass(this.element.nativeElement, `${FEPageModalCLASS_NAME.IN}`);\r\n        } else {\r\n            this.renderer.removeClass(this.element.nativeElement, `${FEPageModalCLASS_NAME.IN}`);\r\n        }\r\n\r\n        if (value) {\r\n            this.renderer.addClass(\r\n                this.element.nativeElement,\r\n                `${FEPageModalCLASS_NAME.SHOW}`\r\n            );\r\n        } else {\r\n            this.renderer.removeClass(\r\n                this.element.nativeElement,\r\n                `${FEPageModalCLASS_NAME.SHOW}`\r\n            );\r\n        }\r\n\r\n    }\r\n\r\n    element: ElementRef;\r\n    renderer: Renderer2;\r\n\r\n    get dialogType():string{\r\n        return this._dialogType;\r\n    }\r\n    set dialogType(value:string){\r\n        // 只有一次显示，不考虑其他\r\n        if(value){\r\n            this.renderer.addClass(this.element.nativeElement,'fe-modal-backdrop-'+value);\r\n        }\r\n    }\r\n\r\n    protected _isAnimated: boolean;\r\n    protected _isShown = false;\r\n    protected _dialogType='modal';\r\n    constructor(element: ElementRef, renderer: Renderer2) {\r\n        this.element = element;\r\n        this.renderer = renderer;\r\n    }\r\n\r\n    ngOnInit(): void {\r\n        if (this.isAnimated) {\r\n            this.renderer.addClass(this.element.nativeElement, `${FEPageModalCLASS_NAME.FADE}`);\r\n            Utils.reflow(this.element.nativeElement);\r\n        }\r\n        this.isShown = true;\r\n    }\r\n}\r\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __createBinding(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","import {\r\n  Component, ElementRef, HostListener, OnDestroy,\r\n  OnInit, Renderer2, ViewChild, Output,\r\n  EventEmitter, TemplateRef, AfterViewInit, Input,\r\n  NgZone,\r\n  ViewChildren,\r\n  QueryList,\r\n  HostBinding\r\n} from '@angular/core';\r\nimport { AngularDraggableDirective } from '@farris/ui-draggable';\r\nimport { DomSanitizer, SafeResourceUrl } from \"@angular/platform-browser\";\r\nimport {\r\n  FEPageModalCLASS_NAME, FPageModalDISMISS_REASONS,\r\n  FEPageModalOptions, FPageModalTRANSITION_DURATIONS\r\n} from './page-modal-options.class';\r\nimport { FEPageModalService } from './page-modal.service';\r\n@Component({\r\n  selector: 'fe-page-modal',\r\n  template: `\r\n  <div [attr.id]=\"modalID\"\r\n  [ngDraggable]=\"config.draggable\"\r\n  [ngResizable]=\"config.resizable\"\r\n  [rzMinWidth]=\"config.minWidth\"\r\n  [rzMaxWidth]=\"config.maxWidth\"\r\n  [rzMinHeight]=\"config.minHeight\"\r\n  [rzMaxHeight]=\"config.maxHeight\"\r\n  rzHandles=\"all\" [handle]=\"dragEl\"\r\n  (stopped)=\"dropdown($event)\"\r\n  (rzStop)=\"resizeStop($event)\"\r\n  [inBounds]=\"true\" [bounds]=\"boundsElement\"\r\n  [class]=\"'modal-dialog' + (config.class ? ' ' + config.class : '')\" role=\"document\"\r\n  [style.width]=\"config.width + 'px'\" [style.height]=\"config.fitContent?'auto':(config.height + 'px')\"\r\n  style=\"position: absolute;top: 50%;left: 50%;\">\r\n  <div class=\"modal-content\">   \r\n      <ng-container *ngIf=\"config.showCloseButton&&!config.showMaxButton\">\r\n        <div class=\"action-wrapper\">\r\n          <span class=\"close-icon\" (click)=\"close($event, true)\">\r\n            <i class=\"f-icon f-icon-close\"></i>\r\n          </span>\r\n          </div>\r\n      </ng-container> \r\n      <ng-container *ngIf=\"config.showMaxButton\">\r\n        <ul class=\"action-list\" [ngDraggable]=\"true\" [handle]=\"actionListDrag\" [inBounds]=\"true\" [bounds]=\"boundsElement\">\r\n            <li class=\"action-list--item\" *ngIf=\"config.showCloseButton\">\r\n                <span class=\"action-list--icon close-icon\"  (click)=\"close($event, true)\">\r\n                  <i class=\"f-icon f-icon-close\"></i>\r\n                </span>\r\n            </li>\r\n            <li *ngIf=\"config.showMaxButton\" class=\"action-list--item\">\r\n                  <span class=\"action-list--icon max-icon\"  (click)=\"changeDialogSize()\" >                \r\n                    <i class=\"f-icon modal_maximize\" [class.modalrevert]=\"isMax\"></i>\r\n                  </span>\r\n            </li>\r\n            <div #actionListDrag class=\"action-list--drag\"></div>\r\n        </ul>     \r\n    </ng-container>   \r\n \r\n    <div #dragEl class=\"f-utils-absolute-all\" style=\"height:10px;z-index: 1;\"></div>\r\n        <div class=\"modal-body\" [class.f-utils-flex-column]=\"dialogType === 'iframe'\" [f-area-response]=\"config.areaResponse\">\r\n            <perfect-scrollbar [config]=\"{}\" [disabled]=\"!config.enableScroll||config.fitContent\"  *ngIf=\"dialogType!=='iframe'\">\r\n                <ng-content ></ng-content>\r\n            </perfect-scrollbar>\r\n            <iframe *ngIf=\"dialogType === 'iframe'\" class=\"f-utils-fill\" width=\"100%\" frameborder=\"0\" [src]=\"iframeSrc\"></iframe>\r\n        </div>\r\n    </div>\r\n</div>\r\n  `,\r\n  styles: [],\r\n  host: {\r\n    class: 'modal farris-modal fe-cmp-page-modal',\r\n    role: 'dialog',\r\n    tabindex: '-1',\r\n    '[attr.aria-modal]': 'true'\r\n  }\r\n})\r\nexport class FEPageModalComponent implements OnInit, OnDestroy, AfterViewInit {\r\n  config: FEPageModalOptions;\r\n  isShown = false;\r\n  level: number;\r\n  isAnimated: boolean;\r\n  bsModalService: FEPageModalService;\r\n  dialogType: string;\r\n  iframeSrc: SafeResourceUrl;\r\n  @Input()\r\n  public set iframe(value: string) {\r\n    if (this.sanitizer) {\r\n      this.iframeSrc = this.sanitizer.bypassSecurityTrustResourceUrl(value);\r\n    }\r\n  }\r\n\r\n  private isModalHiding = false;\r\n  private originalWidth: number|string;\r\n  private originalHeight: number|string;\r\n  isMax = false;\r\n  @ViewChild(AngularDraggableDirective) draggbar: AngularDraggableDirective;\r\n  @ViewChild('header') modalHeader: ElementRef;\r\n  boundsElement: HTMLElement;\r\n\r\n  @Output() closed = new EventEmitter();\r\n  @Output() opened = new EventEmitter();\r\n  @Output() resized = new EventEmitter();\r\n\r\n  @HostBinding('id') modalID = `MODALID_${Date.now().toPrecision()}`;\r\n\r\n  dlgHeaderLineHeight: any;\r\n  constructor(\r\n    options: FEPageModalOptions,\r\n    protected el: ElementRef,\r\n    private _renderer: Renderer2,\r\n    private sanitizer: DomSanitizer) {\r\n    this.config = Object.assign({}, options);\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.boundsElement = this.el.nativeElement;\r\n    if (this.config.fitContent) {\r\n      this._renderer.addClass(this.el.nativeElement, 'f-modal-fitContent');\r\n    }\r\n\r\n    if (this.isAnimated) {\r\n      this._renderer.addClass(this.el.nativeElement, FEPageModalCLASS_NAME.FADE);\r\n    }\r\n    // this.ngZone.runOutsideAngular(() => {\r\n    setTimeout(() => {\r\n      this.isShown = true;\r\n      this._renderer.addClass(\r\n        this.el.nativeElement, FEPageModalCLASS_NAME.SHOW\r\n      );\r\n      this._renderer.setStyle(this.el.nativeElement, 'display', 'block');\r\n      if (this.config.fitContent && this.el.nativeElement.className.indexOf('f-modal-fitContent-scroll') > -1) {\r\n        this.el.nativeElement.scrollTop = 0;\r\n      }\r\n\r\n      if (document && document.body) {\r\n        const modalLen = this.bsModalService.getModalsCount();\r\n        if (modalLen === 1) {\r\n          this.bsModalService.checkScrollbar();\r\n          this.bsModalService.setScrollbar();\r\n        }\r\n        if (!document.body.classList.contains(FEPageModalCLASS_NAME.OPEN)) {\r\n          this._renderer.addClass(document.body, FEPageModalCLASS_NAME.OPEN);\r\n        }\r\n      }\r\n      this.opened.emit({ modal: this });\r\n    }, this.isAnimated ? FPageModalTRANSITION_DURATIONS.BACKDROP : 0);\r\n    // });\r\n\r\n    if (this.el.nativeElement) {\r\n      this.el.nativeElement.focus();\r\n    }\r\n\r\n  }\r\n\r\n  ngAfterViewInit(): void {\r\n    this._renderer.setStyle(this.el.nativeElement, 'display', 'block');\r\n    // 如果内容适应宽度\r\n    if (this.config.fitContent) {\r\n      let initElRect = this.el.nativeElement.getBoundingClientRect();\r\n      let initBodySize = this.getContainerSize();\r\n      if (initElRect.height < initBodySize.height + 30) {\r\n        this._renderer.addClass(this.el.nativeElement, 'f-modal-fitContent-scroll');\r\n      }\r\n    }\r\n\r\n  }\r\n\r\n  // 获取内容区域的尺寸\r\n  getContainerSize() {\r\n    const bodyTarget = this.el.nativeElement.querySelector('.modal-body');\r\n    const height = bodyTarget.offsetHeight;\r\n    const width = bodyTarget.offsetWidth;\r\n    return { width, height };\r\n  }\r\n\r\n  @HostListener('click', ['$event'])\r\n  onClick(event: MouseEvent) {\r\n    const tag = event.target as any;\r\n\r\n    if (this.config.ignoreBackdropClick || this.config.backdrop === 'static' || event.target !== this.el.nativeElement) {\r\n      event.stopPropagation();\r\n      return;\r\n    }\r\n\r\n    this.bsModalService.setDismissReason(FPageModalDISMISS_REASONS.BACKRDOP);\r\n    this.close();\r\n  }\r\n\r\n  @HostListener('window:keydown.esc', ['$event'])\r\n  onEsc(event: any): void {\r\n    if (!this.isShown) {\r\n      return;\r\n    }\r\n\r\n    if (event.keyCode === 27) {\r\n      event.preventDefault();\r\n    }\r\n\r\n    if (\r\n      this.config.keyboard &&\r\n      this.level === this.bsModalService.getModalsCount()\r\n    ) {\r\n      this.bsModalService.setDismissReason(FPageModalDISMISS_REASONS.ESC);\r\n      this.close(event);\r\n    }\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    if (this.isShown) {\r\n      this.close();\r\n    }\r\n  }\r\n\r\n  close(e?: MouseEvent, isCloseButton = false): void {\r\n    if (e) {\r\n      e.stopPropagation();\r\n    }\r\n    if (this.isModalHiding || !this.isShown) {\r\n      return;\r\n    }\r\n\r\n    this.config.beforeClose(this).subscribe(r => {\r\n      if (!r) {\r\n        return false;\r\n      }\r\n\r\n      this.isModalHiding = true;\r\n      this._renderer.removeClass(\r\n        this.el.nativeElement,\r\n        FEPageModalCLASS_NAME.SHOW\r\n      );\r\n      // this.ngZone.runOutsideAngular(() => {\r\n      setTimeout(() => {\r\n        this.isShown = false;\r\n        if (document &&\r\n          document.body\r\n        ) {\r\n          if (this.bsModalService.getModalsCount() === 1) {\r\n            this._renderer.removeClass(document.body, FEPageModalCLASS_NAME.OPEN);\r\n          }\r\n        }\r\n        this.bsModalService.hide(this.level);\r\n        this.isModalHiding = false;\r\n        if (this.config.closed) {\r\n          this.config.closed(isCloseButton);\r\n        }\r\n        this.closed.emit(this.level);\r\n      }, this.isAnimated ? FPageModalTRANSITION_DURATIONS.MODAL : 0);\r\n      // });\r\n    });\r\n  }\r\n\r\n  toCenter() {\r\n    const marginLeft = parseInt('' + -this.config.width / 2,10) + 'px';\r\n    const marginTop = parseInt('' + -this.config.height / 2,10) + 'px';\r\n\r\n    const dialogEl = this.el.nativeElement.querySelector('.modal-dialog');\r\n    const contentEl = this.el.nativeElement.querySelector('.modal-body');\r\n\r\n    this._renderer.setStyle(dialogEl, 'margin-left', marginLeft);\r\n    this._renderer.setStyle(dialogEl, 'margin-top', marginTop);\r\n\r\n    let contentHeight =parseInt(''+ this.config.height,10) - 38;\r\n\r\n    if (!this.config.fitContent) {\r\n      this._renderer.setStyle(\r\n        contentEl,\r\n        'height',\r\n        contentHeight + 'px'\r\n      );\r\n    }\r\n    this._renderer.setStyle(contentEl, 'overflow', 'hidden');\r\n\r\n    this._renderer.setStyle(dialogEl, 'transform', `translate3d(0px, 0px, 0px)`);\r\n\r\n\r\n\r\n    setTimeout(() => {\r\n      const container = this.getContainerSize();\r\n      const { width: containerWidth, height: containerHeight } = container;\r\n      this.resized.emit({ width: this.config.width, height: this.config.height, containerWidth, containerHeight });\r\n    });\r\n  }\r\n\r\n  moveTo(x: number, y: number) {\r\n    const dialogEl = this.el.nativeElement.querySelector('.modal-dialog');\r\n    this._renderer.setStyle(dialogEl, 'transform', `translate3d(${x}px, ${y}px, 0px)`);\r\n    this.draggbar.position = { x, y };\r\n    this.draggbar.resetPosition();\r\n  }\r\n\r\n  maxDialog() {\r\n    this.originalWidth = this.config.width;\r\n    this.originalHeight = this.config.height;\r\n    this.config.width = document.scrollingElement.clientWidth - 20;\r\n    this.config.height = document.scrollingElement.clientHeight - 20;\r\n\r\n    this.config.draggable = false;\r\n    this.config.resizable = false;\r\n    const dialogEl = this.el.nativeElement.querySelector('.modal-dialog');\r\n    this._renderer.addClass(dialogEl, 'model-dialog-maximize');\r\n    this._renderer.setStyle(dialogEl, 'top', '50%');\r\n    this._renderer.setStyle(dialogEl, 'left', '50%');\r\n    this.isMax = true;\r\n    this.toCenter();\r\n  }\r\n\r\n  dropdown(el: any) {\r\n  }\r\n\r\n  revertDialog() {\r\n    this.isMax = false;\r\n    this.config.width = this.originalWidth;\r\n    this.config.height = this.originalHeight;\r\n    this.config.draggable = true;\r\n    this.config.resizable = true;\r\n    const dialogEl = this.el.nativeElement.querySelector('.modal-dialog');\r\n    this._renderer.removeClass(dialogEl, 'model-dialog-maximize');\r\n    this.toCenter();\r\n    this.draggbar.resetPosition();\r\n  }\r\n\r\n  changeDialogSize() {\r\n    if (this.isMax) {\r\n      this.revertDialog();\r\n    } else {\r\n      this.maxDialog();\r\n    }\r\n  }\r\n\r\n  resizeStop(opts: any) {\r\n    this.config.width = opts.size.width;\r\n    this.config.height = opts.size.height;\r\n    const container = this.getContainerSize();\r\n    const { width: containerWidth, height: containerHeight } = container;\r\n    this.resized.emit({ ...opts.size, ...{ containerWidth, containerHeight } });\r\n  }\r\n}\r\n","import { Component, OnInit, Input, ContentChild, EventEmitter, Output, Renderer2, ElementRef, AfterContentInit, AfterViewInit, ViewChild, SimpleChanges, OnChanges, HostBinding, HostListener, OnDestroy } from '@angular/core';\r\nimport { AngularDraggableDirective } from '@farris/ui-draggable';\r\nimport { DomSanitizer, SafeResourceUrl } from \"@angular/platform-browser\";\r\nimport {\r\n    FEPageModalCLASS_NAME, FPageModalDISMISS_REASONS,\r\n    FEPageModalOptions, FPageModalTRANSITION_DURATIONS\r\n} from './page-modal-options.class';\r\nimport { FEPageModalService } from './page-modal.service';\r\n\r\n\r\n@Component({\r\n    selector: 'fe-page-sidebar',\r\n    templateUrl: './page-sidebar.component.html',\r\n    styleUrls: [],\r\n    host: {\r\n        class: 'fe-cmp-page-modal'\r\n    }\r\n})\r\nexport class FEPageModalSidebarComponent implements OnInit, OnDestroy,AfterContentInit {\r\n    config: FEPageModalOptions;\r\n    isShown = false;\r\n    level: number;\r\n    isAnimated: boolean;\r\n    bsModalService: FEPageModalService;\r\n    dialogType: string;\r\n    @Output() closed = new EventEmitter();\r\n    @Output() opened = new EventEmitter();\r\n    @Output() resized = new EventEmitter();\r\n    @HostBinding('id') modalID = `MODALID_${Date.now().toPrecision()}`;\r\n    iframeSrc: SafeResourceUrl = '';\r\n    private _iframe = '';\r\n    @Input()\r\n    public set iframe(value: string) {\r\n        if (this.sanitizer) {\r\n            this._iframe = value;\r\n            this.iframeSrc = this.sanitizer.bypassSecurityTrustResourceUrl(value);\r\n        }\r\n    }\r\n    public get iframe() {\r\n        return this._iframe;\r\n    }\r\n\r\n    @HostListener('click', ['$event'])\r\n    onClick(event: MouseEvent) {\r\n        const tag = event.target as any;\r\n        if (this.config.ignoreBackdropClick || this.config.backdrop === 'static' || event.target !== this.el.nativeElement) {\r\n            event.stopPropagation();  \r\n            return;\r\n        }\r\n\r\n        this.bsModalService.setDismissReason(FPageModalDISMISS_REASONS.BACKRDOP);\r\n        this.close();\r\n    }\r\n\r\n    @HostListener('window:keydown.esc', ['$event'])\r\n    onEsc(event: any): void {\r\n        if (!this.isShown) {\r\n            return;\r\n        }\r\n\r\n        if (event.keyCode === 27) {\r\n            event.preventDefault();\r\n        }\r\n\r\n        if (\r\n            this.config.keyboard &&\r\n            this.level === this.bsModalService.getModalsCount()\r\n        ) {\r\n            this.bsModalService.setDismissReason(FPageModalDISMISS_REASONS.ESC);\r\n            this.close(event);\r\n        }\r\n    }\r\n    private isModalHiding = false;\r\n\r\n    // 侧边栏所独有\r\n    @ViewChild('sidebarMain') private sidebarMainEl: ElementRef;\r\n    private canRemoveInitNoAnimateCls = true;\r\n    private parentEl: HTMLElement;\r\n    private sidebarCls = {\r\n        'parent': 'f-sidebar-parent',\r\n        'openParent': 'f-sidebar-parent-expand',\r\n        'closeParent': 'f-sidebar-parent-collapse',\r\n        'init': 'animated-none'\r\n    }\r\n    isOpen = false;\r\n    constructor(\r\n        options: FEPageModalOptions,\r\n        protected el: ElementRef,\r\n        private _renderer: Renderer2,\r\n        private sanitizer: DomSanitizer) {\r\n        this.config = Object.assign({}, options);\r\n    }\r\n\r\n    ngOnInit(): void {\r\n        this.parentEl = this.el.nativeElement.parentElement;\r\n        this._renderer.addClass(this.parentEl, this.sidebarCls.parent);\r\n        this.removeNoneAnimateCls();\r\n        setTimeout(() => {\r\n            this.isShown = true;\r\n            this.isOpen = true;\r\n            // this._renderer.addClass(\r\n            //     this.el.nativeElement, FEPageModalCLASS_NAME.SHOW\r\n            // );\r\n            // Parent\r\n            this._renderer.removeClass(this.parentEl, this.sidebarCls.closeParent);\r\n            this._renderer.addClass(this.parentEl, this.sidebarCls.openParent);\r\n            // this._renderer.setStyle(this.el.nativeElement, 'display', 'block');\r\n            // if (this.config.fitContent && this.el.nativeElement.className.indexOf('f-modal-fitContent-scroll') > -1) {\r\n            //   this.el.nativeElement.scrollTop = 0;\r\n            // }\r\n\r\n            // if (document && document.body) {\r\n            //     const modalLen = this.bsModalService.getModalsCount();\r\n            //     if (modalLen === 1) {\r\n            //         this.bsModalService.checkScrollbar();\r\n            //         this.bsModalService.setScrollbar();\r\n            //     }\r\n            //     if (!document.body.classList.contains(FEPageModalCLASS_NAME.OPEN)) {\r\n            //         this._renderer.addClass(document.body, FEPageModalCLASS_NAME.OPEN);\r\n            //     }\r\n            // }\r\n            this.opened.emit({ modal: this });\r\n        }, 0);\r\n        if (this.el.nativeElement) {\r\n            this.el.nativeElement.focus();\r\n        }\r\n\r\n    }\r\n    ngAfterContentInit() {\r\n    }\r\n    ngOnDestroy(): void {\r\n        if (this.isShown) {\r\n            this.close();\r\n        }\r\n    }\r\n    hasIframe() {\r\n        return this._iframe != '';\r\n    }\r\n    closeSideBar() {\r\n        // this.removeNoneAnimateCls();\r\n        // if (this.beforeClose) {\r\n        //     this.beforeClose().subscribe((isOpen: boolean) => {\r\n        //         this.isOpen = !isOpen;\r\n        //     })\r\n        // } else {\r\n        //     this.isOpen = false;\r\n        // }\r\n        this._renderer.removeClass(this.parentEl, this.sidebarCls.openParent);\r\n        this._renderer.addClass(this.parentEl, this.sidebarCls.closeParent);\r\n    }\r\n    openSideBar() {\r\n        this.removeNoneAnimateCls();\r\n        this.isOpen = true;\r\n        this._renderer.removeClass(this.parentEl, this.sidebarCls.closeParent);\r\n        this._renderer.addClass(this.parentEl, this.sidebarCls.openParent);\r\n    }\r\n\r\n    /*侧边栏初始因为动画收起时，会被看到, 移除 */\r\n    private removeNoneAnimateCls() {\r\n        if (!this.canRemoveInitNoAnimateCls) {\r\n            return;\r\n        }\r\n        if (this.sidebarMainEl) {\r\n            this._renderer.removeClass(this.sidebarMainEl.nativeElement, this.sidebarCls.init);\r\n            this.canRemoveInitNoAnimateCls = false;\r\n        }\r\n    }\r\n    // 侧边栏宽度计算\r\n    getSidebarWidth() {\r\n        if (typeof this.config['width'] == 'string') {\r\n            return this.config['width'];\r\n        } else {\r\n            return this.config['width'] + 'px';\r\n        }\r\n\r\n    }\r\n    // 必须带的方法\r\n    close(e?: MouseEvent, isCloseButton = false): void {\r\n        if (e) {\r\n            e.stopPropagation();\r\n        }\r\n        if (this.isModalHiding || !this.isShown) {\r\n            return;\r\n        }\r\n\r\n        this.config.beforeClose(this).subscribe(r => {\r\n            if (!r) {\r\n                return false;\r\n            }\r\n            //动画结束执行其他操作\r\n            this.sidebarMainEl.nativeElement.parentElement.addEventListener('transitionend', (e: any) => {\r\n                this.bsModalService.hide(this.level);\r\n                this.isModalHiding = false;\r\n                if (this.config.closed) {\r\n                    this.config.closed(isCloseButton);\r\n                }\r\n                this.closed.emit(this.level);\r\n            }, false);\r\n            this.isModalHiding = true;\r\n            this.isShown = false;\r\n            this._renderer.removeClass(this.parentEl, this.sidebarCls.openParent);\r\n            this._renderer.addClass(this.parentEl, this.sidebarCls.closeParent);\r\n        });\r\n    }\r\n    toCenter() {\r\n\r\n    }\r\n\r\n}\r\n","import {\r\n  ComponentRef, Injectable, TemplateRef,\r\n  EventEmitter, Renderer2, RendererFactory2, NgZone, Injector, Optional\r\n} from '@angular/core';\r\nimport { FEModalBackdropComponent } from './page-modal-backdrop.component';\r\nimport { FEPageModalComponent } from './page-modal.component';\r\nimport { FEPageModalSidebarComponent } from './page-sidebar.component';\r\nimport {\r\n  FEPageModalCLASS_NAME,\r\n  FEPModalConfigDefaults,\r\n  FEPageModalOptions, FPageModalTRANSITION_DURATIONS\r\n} from './page-modal-options.class';\r\nimport { FEPageModalRef } from './page-modal-ref.service';\r\nimport { Utils } from '@farris/ui-modal/utils';\r\nimport { ComponentLoaderFactory, ComponentLoader } from '@farris/ui-modal/component-loader';\r\nimport { Observable, Subject } from 'rxjs';\r\nimport { CommonUtils } from '@farris/ui-common';\r\n\r\ndeclare var System: any;\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class FEPageModalService {\r\n  version = '0.0.6';\r\n  config: FEPageModalOptions = FEPModalConfigDefaults;\r\n\r\n  onShow: EventEmitter<any> = new EventEmitter();\r\n  onShown: EventEmitter<any> = new EventEmitter();\r\n  onHide: EventEmitter<any> = new EventEmitter();\r\n  onHidden: EventEmitter<any> = new EventEmitter();\r\n\r\n  protected isBodyOverflowing = false;\r\n  protected originalBodyPadding = 0;\r\n\r\n  protected scrollbarWidth = 0;\r\n\r\n  protected backdropRef: ComponentRef<FEModalBackdropComponent>;\r\n  private _backdropLoader: ComponentLoader<FEModalBackdropComponent>;\r\n  private modalsCount = 0;\r\n  private lastDismissReason = '';\r\n\r\n  private loaders: ComponentLoader<FEPageModalComponent | FEPageModalSidebarComponent>[] = [];\r\n\r\n  private _renderer: Renderer2;\r\n\r\n  private commonUtils:CommonUtils=null;\r\n\r\n  constructor(rendererFactory: RendererFactory2, @Optional() private clf: ComponentLoaderFactory, private _injector: Injector, public ngZone: NgZone) {\r\n\r\n    this._renderer = rendererFactory.createRenderer(null, null);\r\n    this.commonUtils=new CommonUtils();\r\n  }\r\n  showByComponent() { }\r\n  showByUrl(content: string, config?: FEPageModalOptions): Observable<FEPageModalRef | null> {\r\n    let subject = new Subject<FEPageModalRef | null>();\r\n    System.import(content).then((moduleFactorys: any) => {\r\n      const moduleFactory: any = Object.values(moduleFactorys)[0];\r\n      let moduleRef = moduleFactory.create(this._injector);\r\n      if (moduleRef._bootstrapComponents.length > 0) {\r\n        const entryComponent = moduleRef._bootstrapComponents[0];\r\n        const compFactory = moduleRef.componentFactoryResolver.resolveComponentFactory(entryComponent);\r\n        let compRef = compFactory.create(this._injector);\r\n        let fpm: FEPageModalRef = this.show(compRef, config);\r\n        subject.next(fpm);\r\n      } else {\r\n        subject.next(null);\r\n      }\r\n    });\r\n    return subject;\r\n  }\r\n  /** Shows a modal */\r\n  show(content: string | TemplateRef<any> | any, config?: FEPageModalOptions): FEPageModalRef {\r\n    if (!this.clf) {\r\n      this.clf = this._injector.get(ComponentLoaderFactory);\r\n    }\r\n    if (!this.clf) {\r\n      throw new Error(\"FEPageModalService Can't Load ComponentLoaderFactory!\");\r\n    }\r\n    this.modalsCount++;\r\n    let tempConfig = { dialogType: 'modal' };\r\n    // \r\n    if (config.hasOwnProperty('dialogType') && config['dialogType'] == 'sidebar') {\r\n      tempConfig['width'] = '60%';\r\n    }\r\n    this.config = Object.assign({}, FEPModalConfigDefaults, tempConfig, config);\r\n    this._createLoaders(this.config['dialogType']);\r\n    if (config['dialogType'] != 'sidebar') {\r\n      this.checkDialogSize();\r\n    }\r\n\r\n    this._showBackdrop();\r\n    this.lastDismissReason = null;\r\n\r\n    return this._showModal(content);\r\n  }\r\n\r\n  hide(level: number) {\r\n    if (this.modalsCount === 1) {\r\n      this._hideBackdrop();\r\n      this.resetScrollbar();\r\n    }\r\n    this.modalsCount = this.modalsCount >= 1 ? this.modalsCount - 1 : 0;\r\n    this._hideModal(level);\r\n    this.removeLoaders(level);\r\n  }\r\n  /**\r\n   * 确保当前窗口在最上层\r\n   * @param _modalRef \r\n   */\r\n  private updateZIndex(_modalRef){\r\n    const maxZIndex=this.commonUtils.getFloatingLayerIndex();\r\n    _modalRef.dialog.location.nativeElement.style.zIndex=maxZIndex;\r\n  }\r\n\r\n  _showBackdrop(): void {\r\n    const isBackdropEnabled =\r\n      this.config.backdrop || this.config.backdrop === 'static';\r\n    const isBackdropInDOM =\r\n      !this.backdropRef || !this.backdropRef.instance.isShown;\r\n\r\n    this._backdropLoader = this.clf.createLoader<FEModalBackdropComponent>(\r\n      null,\r\n      null,\r\n      this._renderer\r\n    );\r\n\r\n    if (this.modalsCount === 1) {\r\n      this.removeBackdrop();\r\n\r\n      if (isBackdropEnabled && isBackdropInDOM) {\r\n        this._backdropLoader\r\n          .attach(FEModalBackdropComponent)\r\n          .to('body')\r\n          .show({ isAnimated: this.config.animated, dialogType: this.config['dialogType'] });\r\n        this.backdropRef = this._backdropLoader._componentRef;\r\n      }\r\n    }\r\n  }\r\n\r\n  _hideBackdrop(): void {\r\n    if (!this.backdropRef) {\r\n      return;\r\n    }\r\n    this.backdropRef.instance.isShown = false;\r\n    const duration = this.config.animated ? FPageModalTRANSITION_DURATIONS.BACKDROP : 0;\r\n    this.ngZone.runOutsideAngular(() => {\r\n      setTimeout(() => this.removeBackdrop(), duration);\r\n    });\r\n  }\r\n\r\n  _showModal(content: any): FEPageModalRef {\r\n    const modalLoader = this.loaders[this.loaders.length - 1];\r\n    const bsModalRef = new FEPageModalRef();\r\n    // 修改showType\r\n    this.config.initialState['showType'] = this.config.dialogType;\r\n    const modalContainerRef = modalLoader\r\n      .provide({ provide: FEPageModalOptions, useValue: this.config })\r\n      .provide({ provide: FEPageModalRef, useValue: FEPageModalRef })\r\n      .attach(this.config.dialogType == 'sidebar' ? FEPageModalSidebarComponent : FEPageModalComponent)\r\n      .to('body')\r\n      .show({ content, isAnimated: this.config.animated, initialState: this.config.initialState, bsModalService: this });\r\n    modalContainerRef.instance.level = this.getModalsCount();\r\n    modalContainerRef.instance.dialogType = this.config.dialogType;\r\n    modalContainerRef.instance.iframe = '';\r\n    if (this.config.dialogType === 'iframe') {\r\n      modalContainerRef.instance.iframe = content;\r\n    }\r\n    bsModalRef.close = () => {\r\n      modalContainerRef.instance.close();\r\n    };\r\n\r\n\r\n    // 如果是消息类型的，出现滚动条就不响应动画了\r\n    if (!this.config.fitContent) {\r\n      modalContainerRef.instance.toCenter();\r\n      this.ngZone.runOutsideAngular(() => {\r\n        document.body.addEventListener('mousedown', this._onMouseDown.bind(this));\r\n      });\r\n    }\r\n    bsModalRef.content = modalLoader.getInnerComponent() || null;\r\n\r\n    bsModalRef.dialog = modalContainerRef;\r\n\r\n    modalContainerRef.instance['modalRef'] = bsModalRef;\r\n\r\n    if (this.config.opened) {\r\n      this.config.opened();\r\n    }\r\n    this.updateZIndex(bsModalRef);\r\n    return bsModalRef;\r\n  }\r\n\r\n  _onMouseDown(e: any) {\r\n    if (e.target.localName === 'modal-container' || e.target.classList.contains('farris-modal')) {\r\n      this._renderer.addClass(e.target, 'animated');\r\n      this._renderer.addClass(e.target, 'shake');\r\n      this.ngZone.runOutsideAngular(() => {\r\n        setTimeout(() => {\r\n          this._renderer.removeClass(e.target, 'animated');\r\n          this._renderer.removeClass(e.target, 'shake');\r\n        }, 650);\r\n      });\r\n      return false;\r\n    }\r\n  }\r\n\r\n  _hideModal(level: number): void {\r\n    const modalLoader = this.loaders[level - 1];\r\n    if (modalLoader) {\r\n      modalLoader.hide();\r\n    }\r\n  }\r\n\r\n  getModalsCount(): number {\r\n    return this.modalsCount;\r\n  }\r\n\r\n  getCurrentModalContainer() {\r\n    return this.loaders[this.getModalsCount() - 1];\r\n  }\r\n\r\n  setDismissReason(reason: string) {\r\n    this.lastDismissReason = reason;\r\n  }\r\n\r\n  removeBackdrop(): void {\r\n    if(this._backdropLoader){\r\n      this._backdropLoader.hide();\r\n    }\r\n    this.backdropRef = null;\r\n  }\r\n\r\n  /** AFTER PR MERGE MODAL.COMPONENT WILL BE USING THIS CODE */\r\n  /** Scroll bar tricks */\r\n  /** @internal */\r\n  checkScrollbar(): void {\r\n    this.isBodyOverflowing = document.body.clientWidth < window.innerWidth;\r\n    this.scrollbarWidth = this.getScrollbarWidth();\r\n  }\r\n\r\n  setScrollbar(): void {\r\n    if (!document) {\r\n      return;\r\n    }\r\n\r\n    this.originalBodyPadding = parseInt(\r\n      window\r\n        .getComputedStyle(document.body)\r\n        .getPropertyValue('padding-right') || '0',\r\n      10\r\n    );\r\n\r\n    if (this.isBodyOverflowing) {\r\n      document.body.style.paddingRight = `${this.originalBodyPadding +\r\n        this.scrollbarWidth}px`;\r\n    }\r\n  }\r\n\r\n  private resetScrollbar(): void {\r\n    document.body.style.paddingRight = `${this.originalBodyPadding}px`;\r\n  }\r\n\r\n  // thx d.walsh\r\n  private getScrollbarWidth(): number {\r\n    const scrollDiv = this._renderer.createElement('div');\r\n    this._renderer.addClass(scrollDiv, FEPageModalCLASS_NAME.SCROLLBAR_MEASURER);\r\n    this._renderer.appendChild(document.body, scrollDiv);\r\n    const scrollbarWidth = scrollDiv.offsetWidth - scrollDiv.clientWidth;\r\n    this._renderer.removeChild(document.body, scrollDiv);\r\n\r\n    return scrollbarWidth;\r\n  }\r\n\r\n  private _createLoaders(dialogType = 'modal'): void {\r\n    let loader;\r\n    if (dialogType == 'sidebar') {\r\n      loader = this.clf.createLoader<FEPageModalSidebarComponent>(\r\n        null,\r\n        null,\r\n        this._renderer\r\n      );\r\n    } else {\r\n      loader = this.clf.createLoader<FEPageModalComponent>(\r\n        null,\r\n        null,\r\n        this._renderer\r\n      );\r\n    }\r\n\r\n    this.copyEvent(loader.onBeforeShow, this.onShow);\r\n    this.copyEvent(loader.onShown, this.onShown);\r\n    this.copyEvent(loader.onBeforeHide, this.onHide);\r\n    this.copyEvent(loader.onHidden, this.onHidden);\r\n    this.loaders.push(loader);\r\n  }\r\n\r\n  private removeLoaders(level: number): void {\r\n    this.loaders.splice(level - 1, 1);\r\n    this.loaders.forEach(\r\n      (loader: ComponentLoader<FEPageModalComponent | FEPageModalSidebarComponent>, i: number) => {\r\n        loader.instance.level = i + 1;\r\n      }\r\n    );\r\n  }\r\n\r\n  private copyEvent(from: EventEmitter<any>, to: EventEmitter<any>) {\r\n    from.subscribe(() => {\r\n      to.emit(this.lastDismissReason);\r\n    });\r\n  }\r\n\r\n  private checkDialogSize() {\r\n    const newSize = Utils.checkDialogSize(parseInt(this.config.width + '', 10), parseInt(this.config.height+'',10));\r\n    if (this.config.width !== newSize.width) {\r\n      this.config.width = newSize.width - 20;\r\n    }\r\n\r\n    if (this.config.height !== newSize.height) {\r\n      this.config.height = newSize.height - 20;\r\n    }\r\n  }\r\n}\r\n","import { NgModule, ModuleWithProviders } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { PerfectScrollbarModule } from '@farris/ui-perfect-scrollbar';\r\nimport { AngularDraggableModule } from '@farris/ui-draggable';\r\n//import { ModalModule } from '@farris/ui-modal';\r\nimport { PositioningService } from '@farris/ui-modal/positioning';\r\nimport { ComponentLoaderFactory } from '@farris/ui-modal/component-loader';\r\nimport{FAreaResponseModule} from '@farris/ui-area-response';\r\nimport { FEPageModalComponent } from './page-modal.component';\r\nimport { FEModalBackdropComponent } from './page-modal-backdrop.component';\r\nimport { FEPageModalService } from './page-modal.service';\r\nimport{FEPageModalSidebarComponent} from './page-sidebar.component';\r\n@NgModule({\r\n  declarations: [FEPageModalComponent, FEModalBackdropComponent,FEPageModalSidebarComponent],\r\n  imports: [\r\n    CommonModule,\r\n    PerfectScrollbarModule,\r\n    AngularDraggableModule,\r\n    FAreaResponseModule\r\n  ],\r\n  exports: [FEModalBackdropComponent],\r\n  entryComponents: [FEPageModalComponent, FEModalBackdropComponent,FEPageModalSidebarComponent]\r\n})\r\nexport class FEPageModalModule {\r\n  static forRoot(): ModuleWithProviders {\r\n    return {\r\n      ngModule: FEPageModalModule,\r\n      providers: [\r\n        ComponentLoaderFactory,\r\n        FEPageModalService,\r\n        PositioningService\r\n      ]\r\n    };\r\n  }\r\n}\r\n"],"names":["FEPageModalRef","Injectable","this","close","Function","FEPageModalOptions","FEPModalConfigDefaults","backdrop","keyboard","focus","show","ignoreBackdropClick","class","animated","initialState","width","height","showCloseButton","minHeight","minWidth","maxHeight","maxWidth","draggable","resizable","enableScroll","beforeOpen","of","beforeClose","dialogType","fitContent","areaResponse","sidebar","showPos","parentCls","FEPageModalCLASS_NAME","SCROLLBAR_MEASURER","BACKDROP","OPEN","FADE","IN","SHOW","FPageModalTRANSITION_DURATIONS","FPageModalDISMISS_REASONS","FEModalBackdropComponent","Object","defineProperty","prototype","_isAnimated","value","_isShown","renderer","addClass","element","nativeElement","removeClass","_dialogType","ngOnInit","isAnimated","Utils","reflow","isShown","Component","args","selector","template","host","ElementRef","Renderer2","__assign","assign","t","s","i","n","arguments","length","p","hasOwnProperty","call","apply","FEPageModalComponent","sanitizer","iframeSrc","bypassSecurityTrustResourceUrl","_this","boundsElement","el","config","_renderer","setTimeout","setStyle","className","indexOf","scrollTop","document","body","bsModalService","getModalsCount","checkScrollbar","setScrollbar","classList","contains","opened","emit","modal","ngAfterViewInit","initElRect","initBodySize","getBoundingClientRect","getContainerSize","bodyTarget","querySelector","offsetHeight","offsetWidth","onClick","event","target","stopPropagation","setDismissReason","onEsc","keyCode","preventDefault","level","ngOnDestroy","e","isCloseButton","isModalHiding","subscribe","r","hide","closed","toCenter","marginLeft","parseInt","marginTop","dialogEl","contentEl","contentHeight","container","containerWidth","containerHeight","resized","moveTo","x","y","draggbar","position","resetPosition","maxDialog","originalWidth","originalHeight","scrollingElement","clientWidth","clientHeight","isMax","dropdown","revertDialog","changeDialogSize","resizeStop","opts","size","role","tabindex","[attr.aria-modal]","DomSanitizer","Input","ViewChild","AngularDraggableDirective","Output","HostBinding","HostListener","options","EventEmitter","modalID","Date","now","toPrecision","FEPageModalSidebarComponent","_iframe","parentEl","parentElement","sidebarCls","parent","removeNoneAnimateCls","isOpen","closeParent","openParent","ngAfterContentInit","hasIframe","closeSideBar","openSideBar","canRemoveInitNoAnimateCls","sidebarMainEl","init","getSidebarWidth","addEventListener","FEPageModalService","showByComponent","showByUrl","content","subject","Subject","System","import","then","moduleFactorys","moduleRef","values","create","_injector","_bootstrapComponents","entryComponent","compRef","componentFactoryResolver","resolveComponentFactory","fpm","next","clf","get","ComponentLoaderFactory","Error","modalsCount","tempConfig","_createLoaders","checkDialogSize","_showBackdrop","lastDismissReason","_showModal","_hideBackdrop","resetScrollbar","_hideModal","removeLoaders","updateZIndex","_modalRef","maxZIndex","commonUtils","getFloatingLayerIndex","dialog","location","style","zIndex","isBackdropEnabled","isBackdropInDOM","backdropRef","instance","_backdropLoader","createLoader","removeBackdrop","attach","to","_componentRef","duration","ngZone","runOutsideAngular","modalLoader","loaders","bsModalRef","modalContainerRef","provide","useValue","iframe","_onMouseDown","bind","getInnerComponent","localName","getCurrentModalContainer","reason","isBodyOverflowing","window","innerWidth","scrollbarWidth","getScrollbarWidth","originalBodyPadding","getComputedStyle","getPropertyValue","paddingRight","scrollDiv","createElement","appendChild","removeChild","loader","copyEvent","onBeforeShow","onShow","onShown","onBeforeHide","onHide","onHidden","push","splice","forEach","from","newSize","providedIn","RendererFactory2","decorators","type","Optional","Injector","NgZone","rendererFactory","version","createRenderer","CommonUtils","FEPageModalModule","forRoot","ngModule","providers","PositioningService","NgModule","declarations","imports","CommonModule","PerfectScrollbarModule","AngularDraggableModule","FAreaResponseModule","exports","entryComponents"],"mappings":"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"}