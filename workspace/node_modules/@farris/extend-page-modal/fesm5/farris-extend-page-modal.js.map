{"version":3,"file":"farris-extend-page-modal.js.map","sources":["ng://@farris/extend-page-modal/lib/page-modal-ref.service.ts","ng://@farris/extend-page-modal/lib/page-modal-options.class.ts","ng://@farris/extend-page-modal/lib/page-modal-backdrop.component.ts","ng://@farris/extend-page-modal/lib/page-modal.component.ts","ng://@farris/extend-page-modal/lib/page-sidebar.component.ts","ng://@farris/extend-page-modal/lib/page-modal.service.ts","ng://@farris/extend-page-modal/lib/page-modal.module.ts"],"sourcesContent":["import { Injectable, ComponentRef, QueryList } from '@angular/core';\r\nimport { FEPageModalComponent } from './page-modal.component';\r\nimport {FEPageModalSidebarComponent} from './page-sidebar.component';\r\n\r\n@Injectable()\r\nexport class FEPageModalRef {\r\n  /**\r\n   * Reference to a component inside the modal. Null if modal's been created with TemplateRef\r\n   */\r\n  content?: any | null;\r\n  /**\r\n   * Hides the modal\r\n   */\r\n  close: () => void = Function;\r\n  dialog?: ComponentRef<FEPageModalComponent|FEPageModalSidebarComponent> | null;\r\n}\r\n","import { Injectable, TemplateRef, EventEmitter } from '@angular/core';\r\nimport { Observable, of } from 'rxjs';\r\n\r\n@Injectable()\r\nexport class FEPageModalOptions {\r\n    /**\r\n     *  Includes a modal-backdrop element. Alternatively,\r\n     *  specify static for a backdrop which doesn't close the modal on click.\r\n     */\r\n    backdrop?: boolean | 'static';\r\n    /**\r\n     * Closes the modal when escape key is pressed.\r\n     */\r\n    keyboard?: boolean;\r\n\r\n    focus?: boolean;\r\n    /**\r\n     * Shows the modal when initialized.\r\n     */\r\n    show?: boolean;\r\n    /**\r\n     * Ignore the backdrop click\r\n     */\r\n    ignoreBackdropClick?: boolean;\r\n    /**\r\n     * Css class for opened modal\r\n     */\r\n    class?: string;\r\n    /**\r\n     * Toggle animation\r\n     */\r\n    animated?: boolean;\r\n    /**\r\n     * Modal data\r\n     */\r\n    initialState?: object;\r\n     /**\r\n     * 显示关闭按钮\r\n     */\r\n    showCloseButton?: boolean;\r\n    /**\r\n     * 显示最大化按钮\r\n     */\r\n    showMaxButton?: boolean;\r\n    /**\r\n     * 显示最小化按钮\r\n     */\r\n    showMinButton?: boolean;\r\n\r\n    /**\r\n     * 窗口宽度\r\n     */\r\n    width?: number|string;\r\n    /**\r\n     * 窗口高度\r\n     */\r\n    height?: number|string;\r\n\r\n    minWidth?: number;\r\n    minHeight?: number;\r\n    maxWidth?: number;\r\n    maxHeight?: number;\r\n    /** 启用拖拽功能 */\r\n    draggable?: boolean;\r\n\r\n    /** 启用调整尺寸大小 */\r\n    resizable?: boolean;\r\n\r\n    /** 是否启用滚动条 */\r\n    enableScroll?: boolean;\r\n\r\n    beforeOpen?: () => Observable<boolean>;\r\n    beforeClose?: (modalRef: any) => Observable<boolean>;\r\n    opened?: () => void;\r\n    closed?: (isCloseButtonClick: boolean | any) => void;\r\n    okText?: string;\r\n    cancelText?: string;\r\n    /** 弹窗类型：default，弹出组件、模板等；iframe,弹出iframe; ngFactory, 弹出ngFactory; sidebar:侧边栏 */\r\n    dialogType?: string;\r\n    // 窗口适应内容自动\r\n    fitContent?: boolean;\r\n    // 窗口内容区域是否自动响应式\r\n    areaResponse?:boolean;\r\n    sidebar?:object\r\n}\r\n\r\nexport const FEPModalConfigDefaults: FEPageModalOptions = {\r\n    backdrop: 'static',\r\n    keyboard: true,\r\n    focus: true,\r\n    show: false,\r\n    ignoreBackdropClick: true,\r\n    class: '',\r\n    animated: true,\r\n    initialState: {},\r\n    width: 600,\r\n    height: 450,\r\n    showCloseButton:true,\r\n    minHeight: null,\r\n    minWidth: null,\r\n    maxHeight: null,\r\n    maxWidth: null,\r\n    draggable: true,\r\n    resizable: true,\r\n    enableScroll: true,\r\n    beforeOpen: () => of(true),\r\n    beforeClose: () => of(true),\r\n    dialogType: 'modal',\r\n    fitContent: false,\r\n    areaResponse:true,\r\n    sidebar:{\r\n        showPos:'right',\r\n        parentCls:''\r\n    }\r\n};\r\n\r\nexport const FEPageModalCLASS_NAME: any = {\r\n    SCROLLBAR_MEASURER: 'modal-scrollbar-measure',\r\n    BACKDROP: 'modal-backdrop',\r\n    OPEN: 'modal-open',\r\n    FADE: 'fade',\r\n    IN: 'in', // bs3\r\n    SHOW: 'show' // bs4\r\n};\r\n\r\nexport const FPageModalSELECTOR: any = {\r\n    DIALOG: '.modal-dialog',\r\n    DATA_TOGGLE: '[data-toggle=\"modal\"]',\r\n    DATA_DISMISS: '[data-dismiss=\"modal\"]',\r\n    FIXED_CONTENT: '.navbar-fixed-top, .navbar-fixed-bottom, .is-fixed'\r\n};\r\n\r\nexport const FPageModalTRANSITION_DURATIONS: any = {\r\n    MODAL: 300,\r\n    BACKDROP: 150\r\n};\r\n\r\nexport const FPageModalDISMISS_REASONS = {\r\n    BACKRDOP: 'backdrop-click',\r\n    ESC: 'esc'\r\n};\r\n","import { Component, ElementRef, OnInit, Renderer2 } from '@angular/core';\r\nimport { FEPageModalCLASS_NAME } from './page-modal-options.class';\r\nimport { Utils} from '@farris/ui-modal/utils';\r\n\r\n/** This component will be added as background layout for modals if enabled */\r\n@Component({\r\n    selector: 'fe-modal-backdrop',\r\n    template: ' ',\r\n    host: { class: FEPageModalCLASS_NAME.BACKDROP }\r\n})\r\nexport class FEModalBackdropComponent implements OnInit {\r\n    get isAnimated(): boolean {\r\n        return this._isAnimated;\r\n    }\r\n\r\n    set isAnimated(value: boolean) {\r\n        this._isAnimated = value;\r\n        // this.renderer.setElementClass(this.element.nativeElement, `${ClassName.FADE}`, value);\r\n    }\r\n\r\n    get isShown(): boolean {\r\n        return this._isShown;\r\n    }\r\n\r\n    set isShown(value: boolean) {\r\n        this._isShown = value;\r\n        if (value) {\r\n            this.renderer.addClass(this.element.nativeElement, `${FEPageModalCLASS_NAME.IN}`);\r\n        } else {\r\n            this.renderer.removeClass(this.element.nativeElement, `${FEPageModalCLASS_NAME.IN}`);\r\n        }\r\n\r\n        if (value) {\r\n            this.renderer.addClass(\r\n                this.element.nativeElement,\r\n                `${FEPageModalCLASS_NAME.SHOW}`\r\n            );\r\n        } else {\r\n            this.renderer.removeClass(\r\n                this.element.nativeElement,\r\n                `${FEPageModalCLASS_NAME.SHOW}`\r\n            );\r\n        }\r\n\r\n    }\r\n\r\n    element: ElementRef;\r\n    renderer: Renderer2;\r\n\r\n    get dialogType():string{\r\n        return this._dialogType;\r\n    }\r\n    set dialogType(value:string){\r\n        // 只有一次显示，不考虑其他\r\n        if(value){\r\n            this.renderer.addClass(this.element.nativeElement,'fe-modal-backdrop-'+value);\r\n        }\r\n    }\r\n\r\n    protected _isAnimated: boolean;\r\n    protected _isShown = false;\r\n    protected _dialogType='modal';\r\n    constructor(element: ElementRef, renderer: Renderer2) {\r\n        this.element = element;\r\n        this.renderer = renderer;\r\n    }\r\n\r\n    ngOnInit(): void {\r\n        if (this.isAnimated) {\r\n            this.renderer.addClass(this.element.nativeElement, `${FEPageModalCLASS_NAME.FADE}`);\r\n            Utils.reflow(this.element.nativeElement);\r\n        }\r\n        this.isShown = true;\r\n    }\r\n}\r\n","import {\r\n  Component, ElementRef, HostListener, OnDestroy,\r\n  OnInit, Renderer2, ViewChild, Output,\r\n  EventEmitter, TemplateRef, AfterViewInit, Input,\r\n  NgZone,\r\n  ViewChildren,\r\n  QueryList,\r\n  HostBinding\r\n} from '@angular/core';\r\nimport { AngularDraggableDirective } from '@farris/ui-draggable';\r\nimport { DomSanitizer, SafeResourceUrl } from \"@angular/platform-browser\";\r\nimport {\r\n  FEPageModalCLASS_NAME, FPageModalDISMISS_REASONS,\r\n  FEPageModalOptions, FPageModalTRANSITION_DURATIONS\r\n} from './page-modal-options.class';\r\nimport { FEPageModalService } from './page-modal.service';\r\n@Component({\r\n  selector: 'fe-page-modal',\r\n  template: `\r\n  <div [attr.id]=\"modalID\"\r\n  [ngDraggable]=\"config.draggable\"\r\n  [ngResizable]=\"config.resizable\"\r\n  [rzMinWidth]=\"config.minWidth\"\r\n  [rzMaxWidth]=\"config.maxWidth\"\r\n  [rzMinHeight]=\"config.minHeight\"\r\n  [rzMaxHeight]=\"config.maxHeight\"\r\n  rzHandles=\"all\" [handle]=\"dragEl\"\r\n  (stopped)=\"dropdown($event)\"\r\n  (rzStop)=\"resizeStop($event)\"\r\n  [inBounds]=\"true\" [bounds]=\"boundsElement\"\r\n  [class]=\"'modal-dialog' + (config.class ? ' ' + config.class : '')\" role=\"document\"\r\n  [style.width]=\"config.width + 'px'\" [style.height]=\"config.fitContent?'auto':(config.height + 'px')\"\r\n  style=\"position: absolute;top: 50%;left: 50%;\">\r\n  <div class=\"modal-content\">   \r\n      <ng-container *ngIf=\"config.showCloseButton&&!config.showMaxButton\">\r\n        <div class=\"action-wrapper\">\r\n          <span class=\"close-icon\" (click)=\"close($event, true)\">\r\n            <i class=\"f-icon f-icon-close\"></i>\r\n          </span>\r\n          </div>\r\n      </ng-container> \r\n      <ng-container *ngIf=\"config.showMaxButton\">\r\n        <ul class=\"action-list\" [ngDraggable]=\"true\" [handle]=\"actionListDrag\" [inBounds]=\"true\" [bounds]=\"boundsElement\">\r\n            <li class=\"action-list--item\" *ngIf=\"config.showCloseButton\">\r\n                <span class=\"action-list--icon close-icon\"  (click)=\"close($event, true)\">\r\n                  <i class=\"f-icon f-icon-close\"></i>\r\n                </span>\r\n            </li>\r\n            <li *ngIf=\"config.showMaxButton\" class=\"action-list--item\">\r\n                  <span class=\"action-list--icon max-icon\"  (click)=\"changeDialogSize()\" >                \r\n                    <i class=\"f-icon modal_maximize\" [class.modalrevert]=\"isMax\"></i>\r\n                  </span>\r\n            </li>\r\n            <div #actionListDrag class=\"action-list--drag\"></div>\r\n        </ul>     \r\n    </ng-container>   \r\n \r\n    <div #dragEl class=\"f-utils-absolute-all\" style=\"height:10px;z-index: 1;\"></div>\r\n        <div class=\"modal-body\" [class.f-utils-flex-column]=\"dialogType === 'iframe'\" [f-area-response]=\"config.areaResponse\">\r\n            <perfect-scrollbar [config]=\"{}\" [disabled]=\"!config.enableScroll||config.fitContent\"  *ngIf=\"dialogType!=='iframe'\">\r\n                <ng-content ></ng-content>\r\n            </perfect-scrollbar>\r\n            <iframe *ngIf=\"dialogType === 'iframe'\" class=\"f-utils-fill\" width=\"100%\" frameborder=\"0\" [src]=\"iframeSrc\"></iframe>\r\n        </div>\r\n    </div>\r\n</div>\r\n  `,\r\n  styles: [],\r\n  host: {\r\n    class: 'modal farris-modal fe-cmp-page-modal',\r\n    role: 'dialog',\r\n    tabindex: '-1',\r\n    '[attr.aria-modal]': 'true'\r\n  }\r\n})\r\nexport class FEPageModalComponent implements OnInit, OnDestroy, AfterViewInit {\r\n  config: FEPageModalOptions;\r\n  isShown = false;\r\n  level: number;\r\n  isAnimated: boolean;\r\n  bsModalService: FEPageModalService;\r\n  dialogType: string;\r\n  iframeSrc: SafeResourceUrl;\r\n  @Input()\r\n  public set iframe(value: string) {\r\n    if (this.sanitizer) {\r\n      this.iframeSrc = this.sanitizer.bypassSecurityTrustResourceUrl(value);\r\n    }\r\n  }\r\n\r\n  private isModalHiding = false;\r\n  private originalWidth: number|string;\r\n  private originalHeight: number|string;\r\n  isMax = false;\r\n  @ViewChild(AngularDraggableDirective) draggbar: AngularDraggableDirective;\r\n  @ViewChild('header') modalHeader: ElementRef;\r\n  boundsElement: HTMLElement;\r\n\r\n  @Output() closed = new EventEmitter();\r\n  @Output() opened = new EventEmitter();\r\n  @Output() resized = new EventEmitter();\r\n\r\n  @HostBinding('id') modalID = `MODALID_${Date.now().toPrecision()}`;\r\n\r\n  dlgHeaderLineHeight: any;\r\n  constructor(\r\n    options: FEPageModalOptions,\r\n    protected el: ElementRef,\r\n    private _renderer: Renderer2,\r\n    private sanitizer: DomSanitizer) {\r\n    this.config = Object.assign({}, options);\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.boundsElement = this.el.nativeElement;\r\n    if (this.config.fitContent) {\r\n      this._renderer.addClass(this.el.nativeElement, 'f-modal-fitContent');\r\n    }\r\n\r\n    if (this.isAnimated) {\r\n      this._renderer.addClass(this.el.nativeElement, FEPageModalCLASS_NAME.FADE);\r\n    }\r\n    // this.ngZone.runOutsideAngular(() => {\r\n    setTimeout(() => {\r\n      this.isShown = true;\r\n      this._renderer.addClass(\r\n        this.el.nativeElement, FEPageModalCLASS_NAME.SHOW\r\n      );\r\n      this._renderer.setStyle(this.el.nativeElement, 'display', 'block');\r\n      if (this.config.fitContent && this.el.nativeElement.className.indexOf('f-modal-fitContent-scroll') > -1) {\r\n        this.el.nativeElement.scrollTop = 0;\r\n      }\r\n\r\n      if (document && document.body) {\r\n        const modalLen = this.bsModalService.getModalsCount();\r\n        if (modalLen === 1) {\r\n          this.bsModalService.checkScrollbar();\r\n          this.bsModalService.setScrollbar();\r\n        }\r\n        if (!document.body.classList.contains(FEPageModalCLASS_NAME.OPEN)) {\r\n          this._renderer.addClass(document.body, FEPageModalCLASS_NAME.OPEN);\r\n        }\r\n      }\r\n      this.opened.emit({ modal: this });\r\n    }, this.isAnimated ? FPageModalTRANSITION_DURATIONS.BACKDROP : 0);\r\n    // });\r\n\r\n    if (this.el.nativeElement) {\r\n      this.el.nativeElement.focus();\r\n    }\r\n\r\n  }\r\n\r\n  ngAfterViewInit(): void {\r\n    this._renderer.setStyle(this.el.nativeElement, 'display', 'block');\r\n    // 如果内容适应宽度\r\n    if (this.config.fitContent) {\r\n      let initElRect = this.el.nativeElement.getBoundingClientRect();\r\n      let initBodySize = this.getContainerSize();\r\n      if (initElRect.height < initBodySize.height + 30) {\r\n        this._renderer.addClass(this.el.nativeElement, 'f-modal-fitContent-scroll');\r\n      }\r\n    }\r\n\r\n  }\r\n\r\n  // 获取内容区域的尺寸\r\n  getContainerSize() {\r\n    const bodyTarget = this.el.nativeElement.querySelector('.modal-body');\r\n    const height = bodyTarget.offsetHeight;\r\n    const width = bodyTarget.offsetWidth;\r\n    return { width, height };\r\n  }\r\n\r\n  @HostListener('click', ['$event'])\r\n  onClick(event: MouseEvent) {\r\n    const tag = event.target as any;\r\n\r\n    if (this.config.ignoreBackdropClick || this.config.backdrop === 'static' || event.target !== this.el.nativeElement) {\r\n      event.stopPropagation();\r\n      return;\r\n    }\r\n\r\n    this.bsModalService.setDismissReason(FPageModalDISMISS_REASONS.BACKRDOP);\r\n    this.close();\r\n  }\r\n\r\n  @HostListener('window:keydown.esc', ['$event'])\r\n  onEsc(event: any): void {\r\n    if (!this.isShown) {\r\n      return;\r\n    }\r\n\r\n    if (event.keyCode === 27) {\r\n      event.preventDefault();\r\n    }\r\n\r\n    if (\r\n      this.config.keyboard &&\r\n      this.level === this.bsModalService.getModalsCount()\r\n    ) {\r\n      this.bsModalService.setDismissReason(FPageModalDISMISS_REASONS.ESC);\r\n      this.close(event);\r\n    }\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    if (this.isShown) {\r\n      this.close();\r\n    }\r\n  }\r\n\r\n  close(e?: MouseEvent, isCloseButton = false): void {\r\n    if (e) {\r\n      e.stopPropagation();\r\n    }\r\n    if (this.isModalHiding || !this.isShown) {\r\n      return;\r\n    }\r\n\r\n    this.config.beforeClose(this).subscribe(r => {\r\n      if (!r) {\r\n        return false;\r\n      }\r\n\r\n      this.isModalHiding = true;\r\n      this._renderer.removeClass(\r\n        this.el.nativeElement,\r\n        FEPageModalCLASS_NAME.SHOW\r\n      );\r\n      // this.ngZone.runOutsideAngular(() => {\r\n      setTimeout(() => {\r\n        this.isShown = false;\r\n        if (document &&\r\n          document.body\r\n        ) {\r\n          if (this.bsModalService.getModalsCount() === 1) {\r\n            this._renderer.removeClass(document.body, FEPageModalCLASS_NAME.OPEN);\r\n          }\r\n        }\r\n        this.bsModalService.hide(this.level);\r\n        this.isModalHiding = false;\r\n        if (this.config.closed) {\r\n          this.config.closed(isCloseButton);\r\n        }\r\n        this.closed.emit(this.level);\r\n      }, this.isAnimated ? FPageModalTRANSITION_DURATIONS.MODAL : 0);\r\n      // });\r\n    });\r\n  }\r\n\r\n  toCenter() {\r\n    const marginLeft = parseInt('' + -this.config.width / 2,10) + 'px';\r\n    const marginTop = parseInt('' + -this.config.height / 2,10) + 'px';\r\n\r\n    const dialogEl = this.el.nativeElement.querySelector('.modal-dialog');\r\n    const contentEl = this.el.nativeElement.querySelector('.modal-body');\r\n\r\n    this._renderer.setStyle(dialogEl, 'margin-left', marginLeft);\r\n    this._renderer.setStyle(dialogEl, 'margin-top', marginTop);\r\n\r\n    let contentHeight =parseInt(''+ this.config.height,10) - 38;\r\n\r\n    if (!this.config.fitContent) {\r\n      this._renderer.setStyle(\r\n        contentEl,\r\n        'height',\r\n        contentHeight + 'px'\r\n      );\r\n    }\r\n    this._renderer.setStyle(contentEl, 'overflow', 'hidden');\r\n\r\n    this._renderer.setStyle(dialogEl, 'transform', `translate3d(0px, 0px, 0px)`);\r\n\r\n\r\n\r\n    setTimeout(() => {\r\n      const container = this.getContainerSize();\r\n      const { width: containerWidth, height: containerHeight } = container;\r\n      this.resized.emit({ width: this.config.width, height: this.config.height, containerWidth, containerHeight });\r\n    });\r\n  }\r\n\r\n  moveTo(x: number, y: number) {\r\n    const dialogEl = this.el.nativeElement.querySelector('.modal-dialog');\r\n    this._renderer.setStyle(dialogEl, 'transform', `translate3d(${x}px, ${y}px, 0px)`);\r\n    this.draggbar.position = { x, y };\r\n    this.draggbar.resetPosition();\r\n  }\r\n\r\n  maxDialog() {\r\n    this.originalWidth = this.config.width;\r\n    this.originalHeight = this.config.height;\r\n    this.config.width = document.scrollingElement.clientWidth - 20;\r\n    this.config.height = document.scrollingElement.clientHeight - 20;\r\n\r\n    this.config.draggable = false;\r\n    this.config.resizable = false;\r\n    const dialogEl = this.el.nativeElement.querySelector('.modal-dialog');\r\n    this._renderer.addClass(dialogEl, 'model-dialog-maximize');\r\n    this._renderer.setStyle(dialogEl, 'top', '50%');\r\n    this._renderer.setStyle(dialogEl, 'left', '50%');\r\n    this.isMax = true;\r\n    this.toCenter();\r\n  }\r\n\r\n  dropdown(el: any) {\r\n  }\r\n\r\n  revertDialog() {\r\n    this.isMax = false;\r\n    this.config.width = this.originalWidth;\r\n    this.config.height = this.originalHeight;\r\n    this.config.draggable = true;\r\n    this.config.resizable = true;\r\n    const dialogEl = this.el.nativeElement.querySelector('.modal-dialog');\r\n    this._renderer.removeClass(dialogEl, 'model-dialog-maximize');\r\n    this.toCenter();\r\n    this.draggbar.resetPosition();\r\n  }\r\n\r\n  changeDialogSize() {\r\n    if (this.isMax) {\r\n      this.revertDialog();\r\n    } else {\r\n      this.maxDialog();\r\n    }\r\n  }\r\n\r\n  resizeStop(opts: any) {\r\n    this.config.width = opts.size.width;\r\n    this.config.height = opts.size.height;\r\n    const container = this.getContainerSize();\r\n    const { width: containerWidth, height: containerHeight } = container;\r\n    this.resized.emit({ ...opts.size, ...{ containerWidth, containerHeight } });\r\n  }\r\n}\r\n","import { Component, OnInit, Input, ContentChild, EventEmitter, Output, Renderer2, ElementRef, AfterContentInit, AfterViewInit, ViewChild, SimpleChanges, OnChanges, HostBinding, HostListener, OnDestroy } from '@angular/core';\r\nimport { AngularDraggableDirective } from '@farris/ui-draggable';\r\nimport { DomSanitizer, SafeResourceUrl } from \"@angular/platform-browser\";\r\nimport {\r\n    FEPageModalCLASS_NAME, FPageModalDISMISS_REASONS,\r\n    FEPageModalOptions, FPageModalTRANSITION_DURATIONS\r\n} from './page-modal-options.class';\r\nimport { FEPageModalService } from './page-modal.service';\r\n\r\n\r\n@Component({\r\n    selector: 'fe-page-sidebar',\r\n    templateUrl: './page-sidebar.component.html',\r\n    styleUrls: [],\r\n    host: {\r\n        class: 'fe-cmp-page-modal'\r\n    }\r\n})\r\nexport class FEPageModalSidebarComponent implements OnInit, OnDestroy,AfterContentInit {\r\n    config: FEPageModalOptions;\r\n    isShown = false;\r\n    level: number;\r\n    isAnimated: boolean;\r\n    bsModalService: FEPageModalService;\r\n    dialogType: string;\r\n    @Output() closed = new EventEmitter();\r\n    @Output() opened = new EventEmitter();\r\n    @Output() resized = new EventEmitter();\r\n    @HostBinding('id') modalID = `MODALID_${Date.now().toPrecision()}`;\r\n    iframeSrc: SafeResourceUrl = '';\r\n    private _iframe = '';\r\n    @Input()\r\n    public set iframe(value: string) {\r\n        if (this.sanitizer) {\r\n            this._iframe = value;\r\n            this.iframeSrc = this.sanitizer.bypassSecurityTrustResourceUrl(value);\r\n        }\r\n    }\r\n    public get iframe() {\r\n        return this._iframe;\r\n    }\r\n\r\n    @HostListener('click', ['$event'])\r\n    onClick(event: MouseEvent) {\r\n        const tag = event.target as any;\r\n        if (this.config.ignoreBackdropClick || this.config.backdrop === 'static' || event.target !== this.el.nativeElement) {\r\n            event.stopPropagation();  \r\n            return;\r\n        }\r\n\r\n        this.bsModalService.setDismissReason(FPageModalDISMISS_REASONS.BACKRDOP);\r\n        this.close();\r\n    }\r\n\r\n    @HostListener('window:keydown.esc', ['$event'])\r\n    onEsc(event: any): void {\r\n        if (!this.isShown) {\r\n            return;\r\n        }\r\n\r\n        if (event.keyCode === 27) {\r\n            event.preventDefault();\r\n        }\r\n\r\n        if (\r\n            this.config.keyboard &&\r\n            this.level === this.bsModalService.getModalsCount()\r\n        ) {\r\n            this.bsModalService.setDismissReason(FPageModalDISMISS_REASONS.ESC);\r\n            this.close(event);\r\n        }\r\n    }\r\n    private isModalHiding = false;\r\n\r\n    // 侧边栏所独有\r\n    @ViewChild('sidebarMain') private sidebarMainEl: ElementRef;\r\n    private canRemoveInitNoAnimateCls = true;\r\n    private parentEl: HTMLElement;\r\n    private sidebarCls = {\r\n        'parent': 'f-sidebar-parent',\r\n        'openParent': 'f-sidebar-parent-expand',\r\n        'closeParent': 'f-sidebar-parent-collapse',\r\n        'init': 'animated-none'\r\n    }\r\n    isOpen = false;\r\n    constructor(\r\n        options: FEPageModalOptions,\r\n        protected el: ElementRef,\r\n        private _renderer: Renderer2,\r\n        private sanitizer: DomSanitizer) {\r\n        this.config = Object.assign({}, options);\r\n    }\r\n\r\n    ngOnInit(): void {\r\n        this.parentEl = this.el.nativeElement.parentElement;\r\n        this._renderer.addClass(this.parentEl, this.sidebarCls.parent);\r\n        this.removeNoneAnimateCls();\r\n        setTimeout(() => {\r\n            this.isShown = true;\r\n            this.isOpen = true;\r\n            // this._renderer.addClass(\r\n            //     this.el.nativeElement, FEPageModalCLASS_NAME.SHOW\r\n            // );\r\n            // Parent\r\n            this._renderer.removeClass(this.parentEl, this.sidebarCls.closeParent);\r\n            this._renderer.addClass(this.parentEl, this.sidebarCls.openParent);\r\n            // this._renderer.setStyle(this.el.nativeElement, 'display', 'block');\r\n            // if (this.config.fitContent && this.el.nativeElement.className.indexOf('f-modal-fitContent-scroll') > -1) {\r\n            //   this.el.nativeElement.scrollTop = 0;\r\n            // }\r\n\r\n            // if (document && document.body) {\r\n            //     const modalLen = this.bsModalService.getModalsCount();\r\n            //     if (modalLen === 1) {\r\n            //         this.bsModalService.checkScrollbar();\r\n            //         this.bsModalService.setScrollbar();\r\n            //     }\r\n            //     if (!document.body.classList.contains(FEPageModalCLASS_NAME.OPEN)) {\r\n            //         this._renderer.addClass(document.body, FEPageModalCLASS_NAME.OPEN);\r\n            //     }\r\n            // }\r\n            this.opened.emit({ modal: this });\r\n        }, 0);\r\n        if (this.el.nativeElement) {\r\n            this.el.nativeElement.focus();\r\n        }\r\n\r\n    }\r\n    ngAfterContentInit() {\r\n    }\r\n    ngOnDestroy(): void {\r\n        if (this.isShown) {\r\n            this.close();\r\n        }\r\n    }\r\n    hasIframe() {\r\n        return this._iframe != '';\r\n    }\r\n    closeSideBar() {\r\n        // this.removeNoneAnimateCls();\r\n        // if (this.beforeClose) {\r\n        //     this.beforeClose().subscribe((isOpen: boolean) => {\r\n        //         this.isOpen = !isOpen;\r\n        //     })\r\n        // } else {\r\n        //     this.isOpen = false;\r\n        // }\r\n        this._renderer.removeClass(this.parentEl, this.sidebarCls.openParent);\r\n        this._renderer.addClass(this.parentEl, this.sidebarCls.closeParent);\r\n    }\r\n    openSideBar() {\r\n        this.removeNoneAnimateCls();\r\n        this.isOpen = true;\r\n        this._renderer.removeClass(this.parentEl, this.sidebarCls.closeParent);\r\n        this._renderer.addClass(this.parentEl, this.sidebarCls.openParent);\r\n    }\r\n\r\n    /*侧边栏初始因为动画收起时，会被看到, 移除 */\r\n    private removeNoneAnimateCls() {\r\n        if (!this.canRemoveInitNoAnimateCls) {\r\n            return;\r\n        }\r\n        if (this.sidebarMainEl) {\r\n            this._renderer.removeClass(this.sidebarMainEl.nativeElement, this.sidebarCls.init);\r\n            this.canRemoveInitNoAnimateCls = false;\r\n        }\r\n    }\r\n    // 侧边栏宽度计算\r\n    getSidebarWidth() {\r\n        if (typeof this.config['width'] == 'string') {\r\n            return this.config['width'];\r\n        } else {\r\n            return this.config['width'] + 'px';\r\n        }\r\n\r\n    }\r\n    // 必须带的方法\r\n    close(e?: MouseEvent, isCloseButton = false): void {\r\n        if (e) {\r\n            e.stopPropagation();\r\n        }\r\n        if (this.isModalHiding || !this.isShown) {\r\n            return;\r\n        }\r\n\r\n        this.config.beforeClose(this).subscribe(r => {\r\n            if (!r) {\r\n                return false;\r\n            }\r\n            //动画结束执行其他操作\r\n            this.sidebarMainEl.nativeElement.parentElement.addEventListener('transitionend', (e: any) => {\r\n                this.bsModalService.hide(this.level);\r\n                this.isModalHiding = false;\r\n                if (this.config.closed) {\r\n                    this.config.closed(isCloseButton);\r\n                }\r\n                this.closed.emit(this.level);\r\n            }, false);\r\n            this.isModalHiding = true;\r\n            this.isShown = false;\r\n            this._renderer.removeClass(this.parentEl, this.sidebarCls.openParent);\r\n            this._renderer.addClass(this.parentEl, this.sidebarCls.closeParent);\r\n        });\r\n    }\r\n    toCenter() {\r\n\r\n    }\r\n\r\n}\r\n","import {\r\n  ComponentRef, Injectable, TemplateRef,\r\n  EventEmitter, Renderer2, RendererFactory2, NgZone, Injector, Optional\r\n} from '@angular/core';\r\nimport { FEModalBackdropComponent } from './page-modal-backdrop.component';\r\nimport { FEPageModalComponent } from './page-modal.component';\r\nimport { FEPageModalSidebarComponent } from './page-sidebar.component';\r\nimport {\r\n  FEPageModalCLASS_NAME,\r\n  FEPModalConfigDefaults,\r\n  FEPageModalOptions, FPageModalTRANSITION_DURATIONS\r\n} from './page-modal-options.class';\r\nimport { FEPageModalRef } from './page-modal-ref.service';\r\nimport { Utils } from '@farris/ui-modal/utils';\r\nimport { ComponentLoaderFactory, ComponentLoader } from '@farris/ui-modal/component-loader';\r\nimport { Observable, Subject } from 'rxjs';\r\nimport { CommonUtils } from '@farris/ui-common';\r\n\r\ndeclare var System: any;\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class FEPageModalService {\r\n  version = '0.0.6';\r\n  config: FEPageModalOptions = FEPModalConfigDefaults;\r\n\r\n  onShow: EventEmitter<any> = new EventEmitter();\r\n  onShown: EventEmitter<any> = new EventEmitter();\r\n  onHide: EventEmitter<any> = new EventEmitter();\r\n  onHidden: EventEmitter<any> = new EventEmitter();\r\n\r\n  protected isBodyOverflowing = false;\r\n  protected originalBodyPadding = 0;\r\n\r\n  protected scrollbarWidth = 0;\r\n\r\n  protected backdropRef: ComponentRef<FEModalBackdropComponent>;\r\n  private _backdropLoader: ComponentLoader<FEModalBackdropComponent>;\r\n  private modalsCount = 0;\r\n  private lastDismissReason = '';\r\n\r\n  private loaders: ComponentLoader<FEPageModalComponent | FEPageModalSidebarComponent>[] = [];\r\n\r\n  private _renderer: Renderer2;\r\n\r\n  private commonUtils:CommonUtils=null;\r\n\r\n  constructor(rendererFactory: RendererFactory2, @Optional() private clf: ComponentLoaderFactory, private _injector: Injector, public ngZone: NgZone) {\r\n\r\n    this._renderer = rendererFactory.createRenderer(null, null);\r\n    this.commonUtils=new CommonUtils();\r\n  }\r\n  showByComponent() { }\r\n  showByUrl(content: string, config?: FEPageModalOptions): Observable<FEPageModalRef | null> {\r\n    let subject = new Subject<FEPageModalRef | null>();\r\n    System.import(content).then((moduleFactorys: any) => {\r\n      const moduleFactory: any = Object.values(moduleFactorys)[0];\r\n      let moduleRef = moduleFactory.create(this._injector);\r\n      if (moduleRef._bootstrapComponents.length > 0) {\r\n        const entryComponent = moduleRef._bootstrapComponents[0];\r\n        const compFactory = moduleRef.componentFactoryResolver.resolveComponentFactory(entryComponent);\r\n        let compRef = compFactory.create(this._injector);\r\n        let fpm: FEPageModalRef = this.show(compRef, config);\r\n        subject.next(fpm);\r\n      } else {\r\n        subject.next(null);\r\n      }\r\n    });\r\n    return subject;\r\n  }\r\n  /** Shows a modal */\r\n  show(content: string | TemplateRef<any> | any, config?: FEPageModalOptions): FEPageModalRef {\r\n    if (!this.clf) {\r\n      this.clf = this._injector.get(ComponentLoaderFactory);\r\n    }\r\n    if (!this.clf) {\r\n      throw new Error(\"FEPageModalService Can't Load ComponentLoaderFactory!\");\r\n    }\r\n    this.modalsCount++;\r\n    let tempConfig = { dialogType: 'modal' };\r\n    // \r\n    if (config.hasOwnProperty('dialogType') && config['dialogType'] == 'sidebar') {\r\n      tempConfig['width'] = '60%';\r\n    }\r\n    this.config = Object.assign({}, FEPModalConfigDefaults, tempConfig, config);\r\n    this._createLoaders(this.config['dialogType']);\r\n    if (config['dialogType'] != 'sidebar') {\r\n      this.checkDialogSize();\r\n    }\r\n\r\n    this._showBackdrop();\r\n    this.lastDismissReason = null;\r\n\r\n    return this._showModal(content);\r\n  }\r\n\r\n  hide(level: number) {\r\n    if (this.modalsCount === 1) {\r\n      this._hideBackdrop();\r\n      this.resetScrollbar();\r\n    }\r\n    this.modalsCount = this.modalsCount >= 1 ? this.modalsCount - 1 : 0;\r\n    this._hideModal(level);\r\n    this.removeLoaders(level);\r\n  }\r\n  /**\r\n   * 确保当前窗口在最上层\r\n   * @param _modalRef \r\n   */\r\n  private updateZIndex(_modalRef){\r\n    const maxZIndex=this.commonUtils.getFloatingLayerIndex();\r\n    _modalRef.dialog.location.nativeElement.style.zIndex=maxZIndex;\r\n  }\r\n\r\n  _showBackdrop(): void {\r\n    const isBackdropEnabled =\r\n      this.config.backdrop || this.config.backdrop === 'static';\r\n    const isBackdropInDOM =\r\n      !this.backdropRef || !this.backdropRef.instance.isShown;\r\n\r\n    this._backdropLoader = this.clf.createLoader<FEModalBackdropComponent>(\r\n      null,\r\n      null,\r\n      this._renderer\r\n    );\r\n\r\n    if (this.modalsCount === 1) {\r\n      this.removeBackdrop();\r\n\r\n      if (isBackdropEnabled && isBackdropInDOM) {\r\n        this._backdropLoader\r\n          .attach(FEModalBackdropComponent)\r\n          .to('body')\r\n          .show({ isAnimated: this.config.animated, dialogType: this.config['dialogType'] });\r\n        this.backdropRef = this._backdropLoader._componentRef;\r\n      }\r\n    }\r\n  }\r\n\r\n  _hideBackdrop(): void {\r\n    if (!this.backdropRef) {\r\n      return;\r\n    }\r\n    this.backdropRef.instance.isShown = false;\r\n    const duration = this.config.animated ? FPageModalTRANSITION_DURATIONS.BACKDROP : 0;\r\n    this.ngZone.runOutsideAngular(() => {\r\n      setTimeout(() => this.removeBackdrop(), duration);\r\n    });\r\n  }\r\n\r\n  _showModal(content: any): FEPageModalRef {\r\n    const modalLoader = this.loaders[this.loaders.length - 1];\r\n    const bsModalRef = new FEPageModalRef();\r\n    // 修改showType\r\n    this.config.initialState['showType'] = this.config.dialogType;\r\n    const modalContainerRef = modalLoader\r\n      .provide({ provide: FEPageModalOptions, useValue: this.config })\r\n      .provide({ provide: FEPageModalRef, useValue: FEPageModalRef })\r\n      .attach(this.config.dialogType == 'sidebar' ? FEPageModalSidebarComponent : FEPageModalComponent)\r\n      .to('body')\r\n      .show({ content, isAnimated: this.config.animated, initialState: this.config.initialState, bsModalService: this });\r\n    modalContainerRef.instance.level = this.getModalsCount();\r\n    modalContainerRef.instance.dialogType = this.config.dialogType;\r\n    modalContainerRef.instance.iframe = '';\r\n    if (this.config.dialogType === 'iframe') {\r\n      modalContainerRef.instance.iframe = content;\r\n    }\r\n    bsModalRef.close = () => {\r\n      modalContainerRef.instance.close();\r\n    };\r\n\r\n\r\n    // 如果是消息类型的，出现滚动条就不响应动画了\r\n    if (!this.config.fitContent) {\r\n      modalContainerRef.instance.toCenter();\r\n      this.ngZone.runOutsideAngular(() => {\r\n        document.body.addEventListener('mousedown', this._onMouseDown.bind(this));\r\n      });\r\n    }\r\n    bsModalRef.content = modalLoader.getInnerComponent() || null;\r\n\r\n    bsModalRef.dialog = modalContainerRef;\r\n\r\n    modalContainerRef.instance['modalRef'] = bsModalRef;\r\n\r\n    if (this.config.opened) {\r\n      this.config.opened();\r\n    }\r\n    this.updateZIndex(bsModalRef);\r\n    return bsModalRef;\r\n  }\r\n\r\n  _onMouseDown(e: any) {\r\n    if (e.target.localName === 'modal-container' || e.target.classList.contains('farris-modal')) {\r\n      this._renderer.addClass(e.target, 'animated');\r\n      this._renderer.addClass(e.target, 'shake');\r\n      this.ngZone.runOutsideAngular(() => {\r\n        setTimeout(() => {\r\n          this._renderer.removeClass(e.target, 'animated');\r\n          this._renderer.removeClass(e.target, 'shake');\r\n        }, 650);\r\n      });\r\n      return false;\r\n    }\r\n  }\r\n\r\n  _hideModal(level: number): void {\r\n    const modalLoader = this.loaders[level - 1];\r\n    if (modalLoader) {\r\n      modalLoader.hide();\r\n    }\r\n  }\r\n\r\n  getModalsCount(): number {\r\n    return this.modalsCount;\r\n  }\r\n\r\n  getCurrentModalContainer() {\r\n    return this.loaders[this.getModalsCount() - 1];\r\n  }\r\n\r\n  setDismissReason(reason: string) {\r\n    this.lastDismissReason = reason;\r\n  }\r\n\r\n  removeBackdrop(): void {\r\n    if(this._backdropLoader){\r\n      this._backdropLoader.hide();\r\n    }\r\n    this.backdropRef = null;\r\n  }\r\n\r\n  /** AFTER PR MERGE MODAL.COMPONENT WILL BE USING THIS CODE */\r\n  /** Scroll bar tricks */\r\n  /** @internal */\r\n  checkScrollbar(): void {\r\n    this.isBodyOverflowing = document.body.clientWidth < window.innerWidth;\r\n    this.scrollbarWidth = this.getScrollbarWidth();\r\n  }\r\n\r\n  setScrollbar(): void {\r\n    if (!document) {\r\n      return;\r\n    }\r\n\r\n    this.originalBodyPadding = parseInt(\r\n      window\r\n        .getComputedStyle(document.body)\r\n        .getPropertyValue('padding-right') || '0',\r\n      10\r\n    );\r\n\r\n    if (this.isBodyOverflowing) {\r\n      document.body.style.paddingRight = `${this.originalBodyPadding +\r\n        this.scrollbarWidth}px`;\r\n    }\r\n  }\r\n\r\n  private resetScrollbar(): void {\r\n    document.body.style.paddingRight = `${this.originalBodyPadding}px`;\r\n  }\r\n\r\n  // thx d.walsh\r\n  private getScrollbarWidth(): number {\r\n    const scrollDiv = this._renderer.createElement('div');\r\n    this._renderer.addClass(scrollDiv, FEPageModalCLASS_NAME.SCROLLBAR_MEASURER);\r\n    this._renderer.appendChild(document.body, scrollDiv);\r\n    const scrollbarWidth = scrollDiv.offsetWidth - scrollDiv.clientWidth;\r\n    this._renderer.removeChild(document.body, scrollDiv);\r\n\r\n    return scrollbarWidth;\r\n  }\r\n\r\n  private _createLoaders(dialogType = 'modal'): void {\r\n    let loader;\r\n    if (dialogType == 'sidebar') {\r\n      loader = this.clf.createLoader<FEPageModalSidebarComponent>(\r\n        null,\r\n        null,\r\n        this._renderer\r\n      );\r\n    } else {\r\n      loader = this.clf.createLoader<FEPageModalComponent>(\r\n        null,\r\n        null,\r\n        this._renderer\r\n      );\r\n    }\r\n\r\n    this.copyEvent(loader.onBeforeShow, this.onShow);\r\n    this.copyEvent(loader.onShown, this.onShown);\r\n    this.copyEvent(loader.onBeforeHide, this.onHide);\r\n    this.copyEvent(loader.onHidden, this.onHidden);\r\n    this.loaders.push(loader);\r\n  }\r\n\r\n  private removeLoaders(level: number): void {\r\n    this.loaders.splice(level - 1, 1);\r\n    this.loaders.forEach(\r\n      (loader: ComponentLoader<FEPageModalComponent | FEPageModalSidebarComponent>, i: number) => {\r\n        loader.instance.level = i + 1;\r\n      }\r\n    );\r\n  }\r\n\r\n  private copyEvent(from: EventEmitter<any>, to: EventEmitter<any>) {\r\n    from.subscribe(() => {\r\n      to.emit(this.lastDismissReason);\r\n    });\r\n  }\r\n\r\n  private checkDialogSize() {\r\n    const newSize = Utils.checkDialogSize(parseInt(this.config.width + '', 10), parseInt(this.config.height+'',10));\r\n    if (this.config.width !== newSize.width) {\r\n      this.config.width = newSize.width - 20;\r\n    }\r\n\r\n    if (this.config.height !== newSize.height) {\r\n      this.config.height = newSize.height - 20;\r\n    }\r\n  }\r\n}\r\n","import { NgModule, ModuleWithProviders } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { PerfectScrollbarModule } from '@farris/ui-perfect-scrollbar';\r\nimport { AngularDraggableModule } from '@farris/ui-draggable';\r\n//import { ModalModule } from '@farris/ui-modal';\r\nimport { PositioningService } from '@farris/ui-modal/positioning';\r\nimport { ComponentLoaderFactory } from '@farris/ui-modal/component-loader';\r\nimport{FAreaResponseModule} from '@farris/ui-area-response';\r\nimport { FEPageModalComponent } from './page-modal.component';\r\nimport { FEModalBackdropComponent } from './page-modal-backdrop.component';\r\nimport { FEPageModalService } from './page-modal.service';\r\nimport{FEPageModalSidebarComponent} from './page-sidebar.component';\r\n@NgModule({\r\n  declarations: [FEPageModalComponent, FEModalBackdropComponent,FEPageModalSidebarComponent],\r\n  imports: [\r\n    CommonModule,\r\n    PerfectScrollbarModule,\r\n    AngularDraggableModule,\r\n    FAreaResponseModule\r\n  ],\r\n  exports: [FEModalBackdropComponent],\r\n  entryComponents: [FEPageModalComponent, FEModalBackdropComponent,FEPageModalSidebarComponent]\r\n})\r\nexport class FEPageModalModule {\r\n  static forRoot(): ModuleWithProviders {\r\n    return {\r\n      ngModule: FEPageModalModule,\r\n      providers: [\r\n        ComponentLoaderFactory,\r\n        FEPageModalService,\r\n        PositioningService\r\n      ]\r\n    };\r\n  }\r\n}\r\n"],"names":[],"mappings":"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"}
