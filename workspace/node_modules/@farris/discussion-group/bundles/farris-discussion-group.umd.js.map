{"version":3,"file":"farris-discussion-group.umd.js.map","sources":["ng://@farris/discussion-group/lib/discussion-group.service.ts","ng://@farris/discussion-group/lib/discussion-list/discussion-list.service.ts","ng://@farris/discussion-group/lib/discussion-list/discussion-list.component.ts","node_modules/tslib/tslib.es6.js","ng://@farris/discussion-group/lib/discussion-editor/discussion-editor.interface.ts","ng://@farris/discussion-group/lib/discussion-editor/discussion-editor.component.ts","ng://@farris/discussion-group/lib/discussion-personnel/discussion-personnel.component.ts","ng://@farris/discussion-group/lib/discussion-list/discussionList.directive.ts","ng://@farris/discussion-group/lib/pipe/safe-html.pipe.ts","ng://@farris/discussion-group/lib/pipe/controlType.pipe.ts","ng://@farris/discussion-group/lib/discussion-group.module.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class DiscussionGroupService {\r\n\r\n  constructor() { }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { discussionConfig } from './discussionList.interface';\r\nimport { Subject,BehaviorSubject } from 'rxjs';\r\n\r\n@Injectable()\r\nexport class DiscussionListService {\r\n\r\n    resultDiscussion: BehaviorSubject<any> = new BehaviorSubject<any>(null);;\r\n\r\n    constructor() { }\r\n\r\n    resetData(data) {\r\n        let results = [];\r\n        if (data && data.commentIds && data.commentIds.length) {\r\n            data.commentIds.forEach(commentId => {\r\n                const item = data['comments'].find((comment) => {\r\n                    return comment[\"id\"] === commentId\r\n                })\r\n                if (item) {\r\n                    let id = item[\"id\"],\r\n                        userId = item[\"userId\"],\r\n                        userName = item['user'][\"name\"],\r\n                        //  imgData = item['user'][\"imgData\"],\r\n                        imgData = item['user'].hasOwnProperty('imgData') ? item['user'][\"imgData\"] : '',\r\n                        commentDate = item[\"commentDate\"],\r\n                        //  commentDate = this.dataFormate(item[\"commentDate\"]),\r\n                        text = item[\"text\"],\r\n                        attachFiles = item.hasOwnProperty('attachFiles') ? item[\"attachFiles\"] : [],\r\n                        parentData;\r\n                    if (item.hasOwnProperty('parentId')) {\r\n                        let parentItem = data['comments'].find(i => {\r\n                            return i.id === item.parentId;\r\n                        })\r\n                        if (parentItem) {\r\n                            let parid = parentItem[\"id\"],\r\n                                paruserId = parentItem[\"userId\"],\r\n                                paruserName = parentItem['user'][\"name\"],\r\n                                // parimgData = parentItem['user'][\"imgData\"],\r\n                                parimgData = parentItem['user'].hasOwnProperty('imgData') ? parentItem['user'][\"imgData\"] : '',\r\n                                parcommentDate = parentItem[\"commentDate\"],\r\n                                partext = parentItem[\"text\"],\r\n                                parattachFiles = parentItem.hasOwnProperty('attachFiles') ? parentItem[\"attachFiles\"] : [];\r\n                            parentData = {\r\n                                id: parid,\r\n                                userId: paruserId,\r\n                                userName: paruserName,\r\n                                imgData: parimgData,\r\n                                commentDate: parcommentDate,\r\n                                text: partext,\r\n                                attachFiles: parattachFiles\r\n                            }\r\n                        }\r\n                    }\r\n                    let thisData: discussionConfig = {\r\n                        id,\r\n                        userId,\r\n                        userName,\r\n                        imgData,\r\n                        commentDate,\r\n                        text,\r\n                        attachFiles,\r\n                        parentData\r\n                    };\r\n                    results.push(thisData);\r\n                }\r\n                else {\r\n                    return;\r\n                }\r\n            });\r\n        }\r\n        // this.resultDiscussion = results;\r\n        this.resultDiscussion.next(results);\r\n    }\r\n    getData() {\r\n        return this.resultDiscussion;\r\n    }\r\n}\r\n","import { Component, OnInit, Input, Output, EventEmitter, ViewChild, ViewEncapsulation } from '@angular/core';\r\nimport { PaginationControlsComponent, PaginationInstance } from '@farris/ui-pagination';\r\nimport { DiscussionListService } from './discussion-list.service';\r\n\r\n@Component({\r\n    selector: 'farris-discussion-list',\r\n    templateUrl: './discussion-list.component.html',\r\n    styleUrls: ['./discussion-list.component.scss'],\r\n    encapsulation: ViewEncapsulation.None\r\n})\r\nexport class DiscussionListComponent implements OnInit {\r\n    // @Input() personnelsPrimaryKey: string = 'userId';\r\n    @Input() personnelsDisplayKey = 'userName';\r\n    @Input() pagerOnServer = true;\r\n    /* *æ¯å¦æ¯æåé¡µ */\r\n    @Input() supportPaging = true;\r\n    /**  æ»é¡µæ° */\r\n    // @Input() pageSize:number;\r\n    /**  å½åé¡µç  */\r\n    @Input() pageIndex = 1;\r\n    /**  æ¯é¡µæ¾ç¤ºæ¡æ°éé¡¹ */\r\n    // private _pageList = [10,20,30,50];\r\n    // get pageList() {\r\n    //     return this._pageList;\r\n    // }\r\n    // @Input() set pageList(val) {\r\n    //     this._pageList = val;\r\n    //     if (this.pager) {\r\n    //         this.pager.setPageList(val);\r\n    //     }\r\n    // }\r\n    /**  æ»æ¡æ° */\r\n    private _total = 0;\r\n    get total() {\r\n        return this._total;\r\n    }\r\n    @Input() set total(val) {\r\n        this._total = val;\r\n        // this.paginationOptions.totalItems = val;\r\n        this.initPaginationOptions();\r\n        // if(val){\r\n        //   this.initPaginationOptions();\r\n        // }\r\n    }\r\n    /**  æ¯é¡µæ¾ç¤ºä¸ªæ° */\r\n    private _pageSize = 10;\r\n    get pageSize() {\r\n        return this._pageSize;\r\n    }\r\n    @Input() set pageSize(val) {\r\n        this._pageSize = val;\r\n        // this.paginationOptions.itemsPerPage = val;\r\n        this.initPaginationOptions();\r\n    }\r\n    /**  æ»æ¡æ° */\r\n    // @Input() total = 0;\r\n    /**  è¯è®ºæ°æ® */\r\n    innerDiscussionData = [];\r\n    _discussionData = [];\r\n    @Input()\r\n    set discussionData(val) {\r\n        if (val) {\r\n            this._discussionData = val;\r\n            this.innerDiscussionData = val;\r\n        }\r\n    }\r\n    get discussionData() {\r\n        return this._discussionData;\r\n    }\r\n    @Output() replyMessage = new EventEmitter();\r\n    // åé¡µäºä»¶\r\n    @Output() pageChanged = new EventEmitter();\r\n    @Output() pageSizeChanged = new EventEmitter();\r\n\r\n    /** éä»¶é¢è§ */\r\n    @Output() filePreview = new EventEmitter();\r\n    /** éä»¶ä¸è½½ */\r\n    @Output() fileDownload = new EventEmitter();\r\n    public labels: any = {\r\n        previousLabel: ' ',\r\n        nextLabel: ' '\r\n    };\r\n    public directionLinks = true;\r\n    public maxSize = 7;\r\n    public responsive = true;\r\n    public autoHide = false;\r\n    paginationOptions: PaginationInstance;\r\n    @ViewChild('pager') pager: PaginationControlsComponent;\r\n\r\n    constructor(private discussionListService: DiscussionListService) { }\r\n    ngOnInit() {\r\n        // this.paginationOptions = {\r\n        //   id: 'Farris-discussion-Pagination',\r\n        //   itemsPerPage: this.pageSize,\r\n        //   currentPage: this.pageIndex,\r\n        //   // pageList: this.pageList,\r\n        //   totalItems: this.total\r\n        // };\r\n        this.initPaginationOptions();\r\n        /** çå¬æä»¤å¾å°çæ°æ® */\r\n        this.discussionListService.getData().subscribe((data: any): void => {\r\n            if (data && !this._discussionData.length) {\r\n                this.innerDiscussionData = data;\r\n            }\r\n        });\r\n    }\r\n    initPaginationOptions() {\r\n        this.paginationOptions = {\r\n            id: 'Farris-discussion-Pagination',\r\n            itemsPerPage: this._pageSize,\r\n            currentPage: this.pageIndex,\r\n            pageList: [10, 20, 30, 50, 100],\r\n            totalItems: this._total,\r\n            remote: this.pagerOnServer\r\n        };\r\n    }\r\n    /** ç¹å»åå¤çè¨ */\r\n    reply(item) {\r\n        this.replyMessage.emit(item);\r\n    }\r\n    /** é¡µç åå */\r\n    onPageChange(page: { pageIndex: number, pageSize: number }) {\r\n        if (this.pageIndex !== page.pageIndex) {\r\n            this.pageIndex = page.pageIndex;\r\n            this.paginationOptions.currentPage = page.pageIndex;\r\n            this.pageChanged.emit({ pageInfo: page });\r\n        }\r\n    }\r\n    /** æ¯é¡µæ¾ç¤ºæ¡æ°åå */\r\n    onPageSizeChange(pageSize: number) {\r\n        if (this.pageSize !== pageSize && this.total) {\r\n            this.paginationOptions.itemsPerPage = pageSize;\r\n            this.pageSize = pageSize;\r\n\r\n            const total = this.total;\r\n            let pageLength = Math.floor(total / pageSize);\r\n            if (total % pageSize > 0) {\r\n                pageLength += 1;\r\n            }\r\n\r\n            if (pageLength && this.pageIndex > pageLength) {\r\n                this.pageIndex = pageLength;\r\n                this.paginationOptions.currentPage = this.pageIndex;\r\n            }\r\n\r\n            this.pageSizeChanged.emit({ pageInfo: { pageIndex: this.pageIndex, pageSize: pageSize } });\r\n        }\r\n    }\r\n    /** éä»¶é¢è§ */\r\n    filePreviewEventHandler(info) {\r\n        this.filePreview.emit(info);\r\n    }\r\n    /** éä»¶ä¸è½½ */\r\n    fileDownloadEventHandler(info) {\r\n        this.fileDownload.emit(info);\r\n    }\r\n    /** å ä½å¤´åæå­ */\r\n    getAvatar(item) {\r\n        if (item && item[this.personnelsDisplayKey]) {\r\n            let str = item[this.personnelsDisplayKey];\r\n            return str.substring(str.length - 2, str.length);\r\n        } else {\r\n            return '';\r\n        }\r\n    }\r\n}\r\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n","export interface editAttachFile {\r\n    id?:string;\r\n    name:string;\r\n    size:number;\r\n    metadataId:string;\r\n}\r\nexport interface ValueConfig {\r\n    msgInfo: MsgInfo;\r\n    text: string;\r\n    mailTos: Array<{ userId: string, userName: string }>;\r\n    mailToSections:Array<any>;\r\n    visibility: string;\r\n    // replyUser?:any;\r\n    parentId:string;\r\n    attachFiles?:editAttachFile[];\r\n}\r\nexport enum MsgInfo {\r\n    Cancel = 0,\r\n    Confirm = 1\r\n}","import { Component, OnInit, Input, ViewChild, ElementRef, Renderer2, Output, EventEmitter, ViewEncapsulation, ChangeDetectorRef, Injector } from '@angular/core';\r\nimport { UploaderOptions, FUploadFileExtend } from '@farris/extend-file-upload';\r\nimport { NotifyService } from '@farris/ui-notify';\r\nimport { LocaleService } from '@farris/ui-locale';\r\nimport { ValueConfig, MsgInfo, editAttachFile } from './discussion-editor.interface';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { of } from 'rxjs';\r\n\r\n@Component({\r\n    selector: 'farris-discussion-editor',\r\n    templateUrl: './discussion-editor.component.html',\r\n    styleUrls: ['./discussion-editor.component.scss'],\r\n    encapsulation: ViewEncapsulation.None\r\n})\r\nexport class DiscussionEditorComponent implements OnInit {\r\n    @Input() personnelsPrimaryKey: string = 'id';\r\n    @Input() personnelsDisplayKey: string = 'name';\r\n    @Input() replyPersonnelsDisplayKey: string = 'userName';\r\n    // @Input() personnels: Array<any> = [];\r\n    // @Input() permissionList: Array<any> = [\r\n    //     { value: 'ALL', text: this.localeService.getValue('discussionGroup.all') },\r\n    //     { value: 'RELATED', text: this.localeService.getValue('discussionGroup.related') }\r\n    // ];\r\n    @Input() cancelVisible: boolean = true;\r\n    @Input() editHeight: number = 130;\r\n\r\n    @Input() type: string = 'user';\r\n    @Input() orgUrl:string;\r\n    @Input() personSearchUrl:string;\r\n    // éè¦çæ æ°æ®\r\n    // @Input() treeData: any[];\r\n    // å·¦ä¾§æ çä¸»é®å­æ®µ\r\n    @Input() treeIdField: string;\r\n    @Input() treeDisplayText: string;\r\n    @Input() sectionData:any[];\r\n    // ç¨æ·è§è²\r\n    // @Input() groupList: any[] = [];\r\n\r\n    options: UploaderOptions;\r\n    placeholder:string;\r\n    sectiontreeData:Array<any>;\r\n    // äººäºå¼¹çªåè¡¨æ°æ®\r\n    private _personnels: Array<any> = [];\r\n\r\n    get personnels() {\r\n        return this._personnels;\r\n    }\r\n    @Input() set personnels(val) {\r\n        if (val) {\r\n            this._personnels = val;\r\n            this.innerPersonnels = this._personnels;\r\n            this.copyPersonnels = this._personnels;\r\n            // this.copyPersonnels = this._personnels;\r\n        }\r\n    }\r\n\r\n    // äººäºå¼¹çªåè¡¨æ°æ®\r\n    private _replyUser;\r\n\r\n    get replyUser() {\r\n        return this._replyUser;\r\n    }\r\n    @Input() set replyUser(val) {\r\n        if (val) {\r\n            this._replyUser = val;\r\n            if(this._replyUser['id']){\r\n                this.editorFocus();\r\n            }\r\n        }\r\n    }\r\n\r\n    _attachFiles: FUploadFileExtend[];\r\n    get attachFiles() {\r\n        return this._attachFiles;\r\n    }\r\n    @Input() set attachFiles(val) {\r\n        if (val) {\r\n            this._attachFiles = val;\r\n        }\r\n    }\r\n\r\n    // æ°å»ºè¿æ¯ç»´æ¤èªå®ä¹è§è²\r\n    // @Output() customGroupChange = new EventEmitter<any>();\r\n    // å¯¹å¤æ´é²æ°æ®\r\n    @Output() selectionsChange = new EventEmitter<any>();\r\n    // éä¸­çè¡\r\n    @Output() lineDataChange = new EventEmitter<any>();\r\n    // å¯¹å¤\r\n    @Output() valueChange = new EventEmitter<ValueConfig>();\r\n    /** éä»¶é¢è§ */\r\n    @Output() filePreview = new EventEmitter();\r\n    /** éä»¶å é¤ */\r\n    @Output() fileRemove = new EventEmitter();\r\n    @Output() fileUploadDone = new EventEmitter();\r\n    @Output() personnelSearch = new EventEmitter();\r\n    @Output() getOugUsers = new EventEmitter();\r\n    @ViewChild('editor') editor;\r\n    @ViewChild('personModal') personModal;\r\n    // @ViewChild('searchInput') searchInput;\r\n    // å®¡æ¹æè§\r\n    textValue: string = '';\r\n    // æå­ææ¬æ¡çè¾å¥ï¼è§£å³ç¦ç¹é®é¢\r\n    tempTextValue: string;\r\n    // æå­äººåä¿¡æ¯\r\n    tempPersonnelsValue: string = '';\r\n    // æå­é¨é¨\r\n    tempSectionValue: string = '';\r\n    // æç´¢äººäºç®¡çå¼¹çª\r\n    personModalVisible = false;\r\n    // éæ©è¦åéçäººååè¡¨\r\n    selectedPersonnels: Array<any> = [];\r\n    // éæ©è¦åéçé¨é¨\r\n    selectedSection: Array<any> = [];\r\n    // æç´¢ææ¬æ¡ä¸­ç»å®çå¼\r\n    personnelText;\r\n    // æå­äººåä¿¡æ¯ï¼ç¨äºæç´¢\r\n    copyPersonnels: Array<any> = [];\r\n    innerPersonnels: Array<any> = [];\r\n    el: ElementRef;\r\n    // é¿åéå¤è¾å¥çtoken\r\n    token: boolean;\r\n    relativeVisible: boolean = false;\r\n    permission: any;\r\n    //ä¸ä¼ éä»¶æ¯å¦æ¾ç¤º\r\n    attachFilesModalVisible = false;\r\n    pageSize:number = 20;\r\n    searchPersonnelList:any = {};\r\n    showSearchList:boolean = false;\r\n    permissionList: Array<any> = [];\r\n    localeService: LocaleService;\r\n    groupIcon = '<span class=\"f-icon f-icon-search\"></span>';\r\n    constructor(\r\n        private renderer: Renderer2,\r\n        private elementRef: ElementRef,\r\n        private cd: ChangeDetectorRef,\r\n        private notifyService: NotifyService,\r\n        private injector: Injector,\r\n        private http: HttpClient,\r\n    ) { \r\n        this.localeService = this.injector.get(LocaleService);\r\n    }\r\n\r\n    ngOnInit() {\r\n        const self = this;\r\n        this.renderer.listen(document, 'click', function (event) {\r\n            self.personModalVisible = false;\r\n            self.relativeVisible = false;\r\n        });\r\n        // this.copyPersonnels = this.personnels;\r\n        this.el = this.elementRef.nativeElement;\r\n        this.permissionList = [\r\n            { value: 'ALL', text: this.localeService.getValue('discussionGroup.all') },\r\n            { value: 'RELATED', text: this.localeService.getValue('discussionGroup.related') }\r\n        ]\r\n        this.permission = this.permissionList[0];\r\n        this.options = { maxUploads: 3, maxFileSize: 10240, allowedContentTypes: ['.jpg', '.pdf'] };\r\n        this.placeholder = this.localeService.getValue('discussionGroup.placeholder');\r\n    }\r\n\r\n    /**\r\n     * åä¸ªéä»¶ä¸ä¼ å®æ\r\n     * @param ev \r\n     */\r\n    fUploadDoneHandler(ev) {\r\n        this.fileUploadDone.emit(ev);\r\n    }\r\n    /**\r\n     * ä¸ä¼ éä»¶ä¸­åä¸ªéä»¶å é¤å®æ\r\n     * @param ev \r\n     */\r\n    fUploadRemovedHandler(ev) {\r\n       // console.log('fUploadRemovedHandler');\r\n       // console.log(ev);\r\n    }\r\n    /**éä»¶åè¡¨ä¸­é¢è§ */\r\n    filePreviewEventHandler(info) {\r\n        this.filePreview.emit(info);\r\n    }\r\n    /**éä»¶åè¡¨ä¸­å é¤ */\r\n    fileRemoveEventHandler(file) {\r\n        this.fileRemove.emit(file);\r\n    }\r\n\r\n    // ææ¬æ¡å¤±å»ç¦ç¹è§¦å\r\n    setTextValue(e = null) {\r\n        if (e) {\r\n            // console.log(e.target.innerHTML);\r\n            this.tempTextValue = e.target.innerHTML;\r\n            this.textValue = this.tempTextValue;\r\n        }\r\n        // if (this.tempTextValue) {\r\n        //     this.textValue = this.tempTextValue\r\n        // }\r\n        if (this.tempPersonnelsValue) {\r\n            this.textValue += this.tempPersonnelsValue;\r\n        }\r\n        if(this.tempSectionValue){\r\n            this.textValue += this.tempSectionValue;\r\n        }\r\n        this.tempTextValue = '';\r\n        this.tempPersonnelsValue = '';\r\n        this.tempSectionValue = '';\r\n    }\r\n\r\n    // çå¬é®çäºä»¶, ä¸»è¦æ¯ç¨äºå é¤@äºº\r\n    listenEditorValueChange(e) {\r\n        this.tempTextValue = e.target.innerHTML;\r\n        const children = e.target.children;\r\n        const childrenId = [];\r\n        for (let i = 0; i < children.length; i++) {\r\n            childrenId.push(children[i].id);\r\n        }\r\n        this.selectedPersonnels.forEach((personnel, index) => {\r\n            if (!childrenId.includes(personnel[this.personnelsPrimaryKey])) {\r\n                this.selectedPersonnels.splice(index, 1);\r\n            }\r\n        });\r\n        this.selectedSection.forEach((section, index) => {\r\n            if (!childrenId.includes(section[this.personnelsPrimaryKey])) {\r\n                this.selectedSection.splice(index, 1);\r\n            }\r\n        });\r\n        if (!this.tempTextValue) {\r\n            this.tempTextValue = '';\r\n        }\r\n    }\r\n\r\n    /**\r\n     * æç´¢äººå\r\n     */\r\n    serachPersonnel() {\r\n        // if (this.personnelText) {\r\n        //     this.innerPersonnels = this.copyPersonnels.filter(item => {\r\n        //         if(item[this.personnelsDisplayKey]){\r\n        //             return item[this.personnelsDisplayKey].indexOf(this.personnelText) !== -1;\r\n        //         }\r\n        //     })\r\n        // }\r\n        // else {\r\n        //     this.innerPersonnels = this.copyPersonnels;\r\n        // }\r\n        if(this.personnelText){\r\n            this.showSearchList = true;\r\n            this.getSearchData(this.personnelText,0).subscribe(d=>{\r\n                if(d.hasOwnProperty(\"users\")){\r\n                    this.searchPersonnelList = d;\r\n                    this.setPersonModalPosition();\r\n                }\r\n            });\r\n        }\r\n        else{\r\n            this.showSearchList = false;\r\n        }\r\n        // this.searchInput.nativeElement.blur();\r\n        //ææ¶æ³¨éææå¡å¨ç«¯æ¥è¯¢\r\n        // this.personnelSearch.emit(this.personnelText);\r\n    }\r\n    /**\r\n     * æç´¢ä¸ä¸é¡µ\r\n     */\r\n    getMoreSearchData(){\r\n        this.getSearchData(this.personnelText,this.searchPersonnelList.pageIndex + 1).subscribe(d=>{\r\n            if(d.hasOwnProperty(\"users\")){\r\n                this.searchPersonnelList.pageIndex = d['pageIndex'];\r\n                this.searchPersonnelList['users'] = [...this.searchPersonnelList['users'],...d['users']];\r\n            }\r\n        });\r\n    }\r\n\r\n    getSearchData(text:string,pageIndex:number,pageSize:number = this.pageSize){\r\n        if(this.personSearchUrl){\r\n            const url = `${this.personSearchUrl}?param=${text}&pageSize=${pageSize}&pageIndex=${pageIndex}`;\r\n            //console.log(url);\r\n            return this.http.get(url);\r\n            //return this.http.get('assets/data/discussionPerson3.json');\r\n        }\r\n        else{\r\n            return of(true);\r\n        }\r\n    }\r\n\r\n    personnelChecked(item){\r\n        item.active = !item.active;\r\n        this.innerPersonnels = this.innerPersonnels.map(o => ({ ...o }));\r\n        this.cd.markForCheck();\r\n        this.appendPersonnels();\r\n    }\r\n\r\n    // å¢å @äººå\r\n    appendPersonnels() {\r\n        let selectedList = [];\r\n        if(!this.showSearchList){\r\n            selectedList = this.innerPersonnels.filter(item => item.active === true);\r\n        }\r\n        else{\r\n            selectedList = this.searchPersonnelList['users'].filter(item => item.active === true);\r\n        }\r\n        if (selectedList.length) {\r\n            this.appendPersonnel(selectedList);\r\n        }\r\n        this.resetPersonnels();\r\n        this.setTextValue();\r\n        this.personModalVisible = false;\r\n    }\r\n    //é«çº§æç´¢äººåæ·»å \r\n    appendPersonnelsList(listData) {\r\n        if (listData.length) {\r\n            this.appendPersonnel(listData, true);\r\n        }\r\n\r\n        this.setTextValue();\r\n    }\r\n    //å¾ªç¯å¢å äººå\r\n    appendPersonnel(listData, external = false) {\r\n        listData.forEach(item => {\r\n            if (this.selectedPersonnels.length && this._isInArray(item[this.personnelsPrimaryKey], this.personnelsPrimaryKey, this.selectedPersonnels)) {\r\n                return;\r\n            } else {\r\n                //if (!external) {\r\n                this.tempPersonnelsValue += '<a name=\"personnel\" contenteditable=\"false\" class=\"at-user\" id=\"' + item[this.personnelsPrimaryKey] + '\" userid=\"' + item[this.personnelsPrimaryKey] + '\">@' + item[this.personnelsDisplayKey] + '</a>&nbsp;';\r\n                // }\r\n                // else {\r\n                //     this.tempPersonnelsValue += '<a name=\"personnel\" contenteditable=\"false\" class=\"at-user\" id=\"' + item[this.personnelsPrimaryKey] + '\" userid=\"' + item[this.personnelsPrimaryKey] + '\">@' + item[this.replyPersonnelsDisplayKey] + '</a>';\r\n                // }\r\n                this.selectedPersonnels.push(item);\r\n            }\r\n        })\r\n    }\r\n    /**\r\n     * æ·»å é¨é¨\r\n     * @param listData \r\n     */\r\n    appendSectionList(listData){\r\n        if(listData.length){\r\n            this.appendSection(listData);\r\n        }\r\n        this.setTextValue();\r\n    }\r\n\r\n    appendSection(listData,) {\r\n        listData.forEach(item => {\r\n            if (this.selectedSection.length && this._isInArray(item[this.personnelsPrimaryKey], this.personnelsPrimaryKey, this.selectedSection)) {return;} \r\n            else {\r\n                this.tempSectionValue += '<a name=\"org\" contenteditable=\"false\" class=\"at-org\" id=\"' + item[this.personnelsPrimaryKey] + '\" orgid=\"' + item[this.personnelsPrimaryKey] + '\">@' + item['name'] + '</a>&nbsp;';\r\n                this.selectedSection.push(item);\r\n            }\r\n        })\r\n    }\r\n\r\n\r\n    // å¤æ­æ¯å¦å¨æ°ç»\r\n    private _isInArray(value: any, fieldInArray: string, array: any[]) {\r\n        if (!value || !fieldInArray) {\r\n            return false;\r\n        }\r\n        return array.findIndex(item => value === item[fieldInArray]) === -1 ? false : true;\r\n    }\r\n\r\n    /**\r\n     * å³é­äººäºç®¡çå¼¹çª\r\n     */\r\n    resetPersonnels() {\r\n        this.showSearchList = false;\r\n        this.personModalVisible = false;\r\n        this.innerPersonnels = this.copyPersonnels;\r\n        if(this.innerPersonnels.length){\r\n            this.innerPersonnels.forEach(item => item.active = false);\r\n        }\r\n        this.personnelText = '';\r\n        // this.stopBubble(e);\r\n    }\r\n\r\n    /**\r\n     * æå¼äººåç®¡ç\r\n     * @param e äºä»¶\r\n     */\r\n    openModalPerson(e) {\r\n        this.personModalVisible = !this.personModalVisible;\r\n        setTimeout(() => {\r\n            if(this.personModalVisible){\r\n                this.setPersonModalPosition();\r\n            }\r\n        }, 0);\r\n        // this.getPersonnelList();\r\n        this.stopBubble(e);\r\n    }\r\n    setPersonModalPosition(){\r\n        let winH = window.innerHeight;\r\n        let ModalBottom = this.personModal.nativeElement.getBoundingClientRect().bottom;\r\n        if(winH < ModalBottom){\r\n            this.personModal.nativeElement.scrollIntoView(false);\r\n        }\r\n    }\r\n    openModalPermission(e) {\r\n        this.relativeVisible = !this.relativeVisible;\r\n        this.stopBubble(e);\r\n    }\r\n\r\n    /**\r\n     * æå¼ä¸ä¼ éä»¶\r\n     */\r\n    openModalFile(e) {\r\n        this.attachFilesModalVisible = !this.attachFilesModalVisible;\r\n        this.stopBubble(e);\r\n    }\r\n\r\n    // é»æ­¢åæ³¡\r\n    stopBubble(e) {\r\n        if (e && e.stopPropagation) {\r\n            e.stopPropagation();\r\n        } else {\r\n            window.event.cancelBubble = true;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * æäº¤è¯è¯­\r\n     */\r\n    submitApproval() {\r\n        if (!this.textValue) {\r\n            let notEmptyText = this.localeService.getValue('discussionGroup.notEmpty');\r\n            if(notEmptyText){\r\n                this.notifyService.error(notEmptyText);\r\n            }\r\n            return;\r\n        }\r\n        let editAttachFiles: editAttachFile[] = [];\r\n        if (this.attachFiles && this.attachFiles.length) {\r\n            this.attachFiles.forEach(file => {\r\n                let id = file['id'],\r\n                    name = file['name'],\r\n                    size = file['size'],\r\n                    metadataId = file['extend']['metadataId'];\r\n                let attachFile = {\r\n                    id,\r\n                    name,\r\n                    size,\r\n                    metadataId\r\n                }\r\n                editAttachFiles.push(attachFile);\r\n            })\r\n        }\r\n        this.valueChange.emit({\r\n            msgInfo: MsgInfo.Confirm,\r\n            text: this.textValue,\r\n            mailTos: this.selectedPersonnels,\r\n            mailToSections: this.selectedSection,\r\n            visibility: this.permission.value,\r\n            parentId: (this.replyUser && this.replyUser.hasOwnProperty('id')) ? this.replyUser.id : null,\r\n            attachFiles: editAttachFiles.length ? editAttachFiles : null\r\n        });\r\n        this.textValue = '';\r\n        this.selectedPersonnels = [];\r\n        this.selectedSection = [];\r\n        this.attachFiles = [];\r\n        this.replyUser = {};\r\n    }\r\n\r\n    cancel() {\r\n        this.valueChange.emit({\r\n            msgInfo: MsgInfo.Cancel,\r\n            text: null,\r\n            mailTos: [],\r\n            mailToSections: [],\r\n            visibility: null,\r\n            parentId: null,\r\n            attachFiles: null\r\n        });\r\n        this.textValue = '';\r\n        this.selectedPersonnels = [];\r\n        this.selectedSection = [];\r\n        this.attachFiles = [];\r\n        this.replyUser = {};\r\n    }\r\n    /**ä¿®æ¹æ¥çæé */\r\n    changePermission(value: string) {\r\n        this.permission = this.permissionList.find(item => item.value === value);\r\n        this.relativeVisible = false;\r\n    }\r\n    //è·å¾ç¦ç¹\r\n    editorFocus() {\r\n        this.editor.nativeElement.focus();\r\n    }\r\n    // customGroupChangePar(event){\r\n    //     this.customGroupChange.emit(event);\r\n    // }\r\n    /**\r\n     * é«çº§äººåç¹ç¡®è®¤\r\n     */\r\n    selectionsChangePar(event) {\r\n        //this.resetPersonnels();\r\n        if(event.data.users.length){\r\n            let userList = [];\r\n            event.data.users.forEach(user => {\r\n                userList.push(user.data);\r\n            });\r\n            this.appendPersonnelsList(userList);\r\n        }\r\n        if(event.data.section.length){\r\n            let sectionList = [];\r\n            event.data.section.forEach(sec => {\r\n                sectionList.push(sec.data);\r\n            });\r\n            this.appendSectionList(sectionList);\r\n        }\r\n        this.selectionsChange.emit(event);\r\n    }\r\n    /**é«çº§äººåä¸­éä¸­æè¡ */\r\n    lineDataChangePar(event) {\r\n        this.lineDataChange.emit(event);\r\n    }\r\n    /**è·å¾å ä½å¤´å */\r\n    getAvatar(item) {\r\n        if (item && item[this.personnelsDisplayKey]) {\r\n            let str = item[this.personnelsDisplayKey];\r\n            return str.substring(str.length - 2, str.length);\r\n        }\r\n        else {\r\n            return '';\r\n        }\r\n    }\r\n\r\n    ougUsers(event){\r\n        this.getOugUsers.emit(event);\r\n    }\r\n}","import { Component, OnInit, Input, ViewChild, ElementRef, Renderer2, NgZone, HostBinding, Output, EventEmitter, ChangeDetectorRef, Injector, Optional } from '@angular/core';\r\nimport { of, forkJoin, Subscription, Subject } from 'rxjs';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { LocaleService } from '@farris/ui-locale';\r\nimport { LoadingService } from '@farris/ui-loading';\r\nimport { debounceTime } from 'rxjs/operators';\r\nimport { WEBAPI_PREFIX_TOKEN } from '@farris/ui-common';\r\n\r\n@Component({\r\n    selector: 'farris-discussion-personnel',\r\n    templateUrl: './discussion-personnel.component.html',\r\n    styleUrls: ['./discussion-personnel.component.scss'],\r\n})\r\nexport class DiscussionPersonnelComponent implements OnInit {\r\n\r\n    // æä½åè¡¨æèåç»æéè¦çä¸»é®å­æ®µ\r\n    @Input() listIdField: string = \"id\";\r\n    // åè¡¨ä¸­æ¾ç¤ºçå­æ®µ\r\n    @Input() listDisplayText: string = \"userName\";\r\n    @Input() sectionData: any[];\r\n    // è·åäººåé¾æ¥\r\n    @Input() orgUrl: string;\r\n    // äººåæ¥è¯¢é¾æ¥\r\n    @Input() personSearchUrl: string;\r\n    // åå±è·åç»ç»çé¾æ¥\r\n    // ä½¿ç¨æ¹å¼ /api/runtime/sys/v1.0/sysOrgs?param={\"parentId\":\"afa5ee9b-f9ba-2927-f9ce-2a30369267e9\"}\r\n    @Input() urlGetOrgByLayer: string = \"/api/runtime/sys/v1.0/sysOrgs\";\r\n\r\n    @ViewChild('personnelDialog') personnelDialog;\r\n    // æ°å»ºè¿æ¯ç»´æ¤èªå®ä¹è§è²\r\n    // @Output() customGroupChange = new EventEmitter<any>();\r\n    // å¯¹å¤æ´é²æ°æ®\r\n    @Output() selectionsChange = new EventEmitter<any>();\r\n    // éä¸­çè¡\r\n    @Output() lineDataChange = new EventEmitter<any>();\r\n    @Output() openDialog = new EventEmitter<any>();\r\n    @Output() ougUsers = new EventEmitter<any>();\r\n\r\n    @ViewChild('crumbsList') crumbsList: ElementRef;\r\n    @ViewChild('discussionContent') discussionContent: ElementRef;\r\n    private loadingInstance = null;\r\n    // å³ä¾§é¡¹\r\n    selections: any[] = [];\r\n    selectedSections: any[] = [];\r\n    selectedUsers: any[] = [];\r\n    // æç´¢ææ¬\r\n    searchText: string\r\n    // æéè¦æ¾ç¤ºçäººåä¿¡æ¯\r\n    finalText: string = '';\r\n\r\n    sectionDataTree: Array<any> = [];\r\n    sectionDataTiled: Array<any> = [];\r\n    currentSectionData: Array<any> = [];\r\n    currentSection: any = {};\r\n    currentSectionPerson: any = {};\r\n    currentSectionId: string = '';\r\n    sectionCrumbs: Array<any> = [];\r\n    pageSize: number = 20;\r\n\r\n    showSearchList: boolean = false;\r\n    crumbsEllipsis: boolean = false;\r\n    searchUserList: any = {};\r\n\r\n    selectEmployee: string = \"éæ©åå·¥\";\r\n    placeholder: string = \"è¯·è¾å¥åå·¥å§åæç´¢\";\r\n    allOrg: string = \"å¨é¨ç»ç»\";\r\n    private localeService: LocaleService;\r\n    private loadingSer: LoadingService;\r\n    groupIcon = '<span class=\"f-icon f-icon-search\"></span>';\r\n    // æ è®°è¯·æ±\r\n    private recordGetUserSubscribe:Subscription=null;\r\n    // æ¥è¯¢åå\r\n    private searchTextChangeSubject = new Subject();\r\n    errorText='';\r\n    private perfixStr='';\r\n    constructor(\r\n        private renderer: Renderer2,\r\n        private elementRef: ElementRef,\r\n        private ngZone: NgZone,\r\n        private http: HttpClient,\r\n        private cd: ChangeDetectorRef,\r\n        private injector: Injector\r\n    ) {\r\n        this.localeService = this.injector.get(LocaleService);\r\n        this.loadingSer = this.injector.get(LoadingService);\r\n        if(WEBAPI_PREFIX_TOKEN){\r\n            this.perfixStr= this.injector.get(WEBAPI_PREFIX_TOKEN, '');\r\n        }\r\n    }\r\n\r\n    ngOnInit() {\r\n        // let sectionDataTrees = this.initsectionData(this.sectionData,'');\r\n        this.allOrg = this.localeService.getValue('discussionGroup.allOrg');\r\n        let sectionDataTrees = this.initSectionData(this.sectionData, '');\r\n        // this.sectionSort(sectionDataTrees);\r\n        // if(sectionDataTrees.length>1){\r\n        let sectionParent = [\r\n            {\r\n                data: {\r\n                    id: 'discussionParent',\r\n                    code: 'parent',\r\n                    name: this.allOrg,\r\n                    layer: 0,\r\n                    parentId: \"\",\r\n                    sortOrder: 1,\r\n                    path: \"\",\r\n                },\r\n                children: [],\r\n                personnels: {\r\n                    count: 0,\r\n                    pageCount: 0,\r\n                    pageIndex: 1,\r\n                    pageSize: 0,\r\n                    totalCount: 0,\r\n                    users: []\r\n                },\r\n                parent: null,\r\n                parents: [],\r\n                parentsArr: [],\r\n                checked: false\r\n            }\r\n        ];\r\n        sectionParent[0].children = sectionDataTrees;\r\n        sectionParent[0].children.sort((a, b): number => a.data['sortOrder'] - b.data['sortOrder']);\r\n        this.initSectionTree(sectionParent[0].children);\r\n        this.sectionDataTree = sectionParent;\r\n        // }\r\n        // else{\r\n        //     this.sectionDataTree = sectionDataTrees;\r\n        // }\r\n        //console.log(this.sectionDataTree);\r\n\r\n        if (this.sectionDataTree && this.sectionDataTree.length) {\r\n            // å¦ææç»ç»æ çæ°æ®ï¼æå¹³ææ°ç»æ°æ®\r\n            this.sectionDataTiled = this.tileSectionData(this.sectionDataTree);\r\n        }\r\n        /**\r\n         * å½åçé¢ä¸çç»ç»èç¹å®æ´æ æ°æ®\r\n         * {\r\n         *    checked:false,ç»ç»æ¯å¦éä¸­\r\n         *    children:[],ç»ç»çå­é¨é¨\r\n         *    data:{ æ¥èªäºä»æå¡å¨ç«¯è¿åçæ°æ®ç»æ\r\n         *      id:ç»ç»id,\r\n         *      code:ç»ç»code,\r\n         *      name:ç»ç»åç§°\r\n         *      layer:ç»ç»å±çº§\r\n         *      parentId:ç¶èç¹\r\n         *      ....\r\n         *      },\r\n         *    parents:[],ç¶èç¹Id\r\n         *    parentsArr:[{id:'ç»ç»èç¹Id',name:'ç»ç»èç¹åç§°'}],\r\n         *    personnels:{\r\n         *          count:0,\r\n         *          pageCount:,\r\n         *          users:[] ç¨æ·ä¿¡æ¯\r\n         *      }\r\n         * }\r\n         * \r\n         */\r\n        this.currentSection = this.sectionDataTree[0];\r\n        // é¢åå±æ°æ®[{id:'ç»ç»èç¹Id',name:'ç»ç»èç¹åç§°'}]\r\n        this.sectionCrumbs = this.sectionDataTree[0].children.length ? this.sectionDataTree[0].children[0]['parentsArr'] : [];\r\n        // å½åçé¢ä¸çç»ç»åè¡¨æ°æ®\r\n        this.currentSectionData = this.sectionDataTree[0].children.length ? this.sectionDataTree[0].children : [];\r\n        // å½åçé¢ä¸çç»ç»é¶å±çç»ç»çæ°æ®Id\r\n        this.currentSectionId = this.sectionDataTree[0].data.id;\r\n        // ç»å®å½äººåè·ååæ°æ®æ¶ï¼æ§è¡çæä½\r\n        this.getPersonnel(this.currentSectionId, 0).subscribe((d: any) => {\r\n            if (d.hasOwnProperty(\"users\")) {\r\n                this.sectionDataTree[0].personnels = d;\r\n                this.currentSectionPerson = this.sectionDataTree[0].personnels;\r\n                // console.log('cur',this.currentSectionPerson);\r\n            }\r\n        });\r\n\r\n        this.selectEmployee = this.localeService.getValue('discussionGroup.selectEmployee');\r\n        this.placeholder = this.localeService.getValue('discussionGroup.placeholder');\r\n        // console.log(this.sectionDataTiled);\r\n        // çªå£æå¼æ¶åè°ç¨ä¹å¯ä»¥ this.dialogOpend();\r\n    }\r\n\r\n    initSectionTree(data, parentId = \"discussionParent\", parentName = this.allOrg) {\r\n        if (data && data.length) {\r\n            data.forEach(item => {\r\n                let par = {\r\n                    id: parentId,\r\n                    name: parentName\r\n                };\r\n                item.parentsArr.unshift(par);\r\n                item.parents.unshift(parentId);\r\n                if (item.children.length) {\r\n                    this.initSectionTree(item.children);\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    /**\r\n     * åå§ååç»æ°æ®\r\n     * ä¼ éè¿æ¥çæ°æ®æ¯åè¡¨ï¼éè¦è½¬æ¢ææ çå±çº§ç»æ\r\n     */\r\n    initSectionData(data, parentId, parentIdField = 'parentId', idField = 'id', presetParent = null) {\r\n        const nodes = new Map();\r\n        const result = [];\r\n        const unattached = [];\r\n        if (presetParent) {\r\n            nodes.set(presetParent.data.id, presetParent);\r\n        }\r\n        if (data && data.length) {\r\n            data.forEach(item => {\r\n                const node = {\r\n                    data: item,\r\n                    children: [],\r\n                    personnels: {},\r\n                    parent: null,\r\n                    parents: [],\r\n                    parentsArr: [],\r\n                    checked: false\r\n                };\r\n                const id = item[idField];\r\n                nodes.set(id, node);\r\n                const PID = item[parentIdField];\r\n                // åå§\r\n                if (PID === parentId || PID === null) {\r\n                    result.push(node);\r\n                } else {\r\n                    const parent = nodes.get(PID);\r\n                    // console.log(parent);\r\n                    if (parent) {\r\n                        let par = {\r\n                            id: PID,\r\n                            name: parent.data.name\r\n                        };\r\n                        node['parent'] = PID;\r\n                        node['parents'] = [...parent.parents, PID];\r\n                        node['parentsArr'] = [...parent.parentsArr, par];\r\n                        parent.children.push(node);\r\n                        parent.children.sort((a, b): number => a.data['sortOrder'] - b.data['sortOrder']);\r\n                    } else {\r\n                        unattached.push(node);\r\n                    }\r\n                }\r\n            });\r\n            if (unattached.length) {\r\n                unattached.forEach(unItem => {\r\n                    const pid = unItem.data[parentIdField];\r\n                    const parent = nodes.get(pid);\r\n                    if (parent) {\r\n                        // æé æ°æ®\r\n                        unItem['parent'] = pid;\r\n                        unItem['parents'] = [...parent.parents, pid];\r\n                        unItem['parentsArr'] = [...parent.parentsArr, {\r\n                            id: pid,\r\n                            name: parent.data.name\r\n                        }];\r\n\r\n                        parent.children.push(unItem);\r\n                        parent.children.sort((a, b): number => a.data['sortOrder'] - b.data['sortOrder']);\r\n                    }\r\n                });\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n    /**\r\n     * æænodesçå­èç¹è½¬åææ°ç»ï¼å¹¶è¿åæ°ç»\r\n     * @param nodes \r\n     */\r\n    tileSectionData(nodes) {\r\n        let r = [];\r\n        this.getAllNodes(nodes, r);\r\n        return r;\r\n    }\r\n    /**\r\n     * æænodesçå­èç¹è½¬åææ°ç»ï¼å¹¶è·æ°æ°ç»r\r\n     * @param nodes \r\n     * @param r \r\n     */\r\n    getAllNodes(nodes, r) {\r\n        nodes.forEach(n => {\r\n            r.push(n);\r\n            if (n.children.length) {\r\n                this.getAllNodes(n.children, r);\r\n            }\r\n        })\r\n    }\r\n    /**\r\n     * ç¹å»ä¸çº§\r\n     * @param section \r\n     */\r\n    sectionNext(section) {\r\n        // æé ç»ç»èç¹ä¸é¢çäººåä¿¡æ¯ï¼å¦ææ²¡æäººåä¿¡æ¯ï¼å°±æé ç»æï¼ç¶ååè¯·æ±è·åäººåä¿¡æ¯\r\n        this.showOrHideLoading(true);\r\n        forkJoin([this.getOrgByLayerHttp(section), this.getPersonByUrlHttp(section)])\r\n            .subscribe(orgAndPersonDatas => {\r\n                this.showOrHideLoading(false);\r\n                // è·åç»ç»æ°æ®\r\n                let getOrgData = orgAndPersonDatas[0];\r\n                if (getOrgData !== false) {\r\n                    // ä»æå¡å¨ç«¯çå®è¿åæ°æ®,ç´æ¥å¨æ¹æ³åæ´æ°sectionçç»æ\r\n                    this.initSectionData(getOrgData, '', 'parentId', 'id', section);\r\n                    // è¾å¥ææç»ç»æ çæ°æ®ï¼çsectionåæ´æ¯å¦æ´æ°\r\n                    // æ´æ°æ°æ®\r\n                    this.sectionDataTiled = this.tileSectionData(this.sectionDataTree);\r\n                }\r\n\r\n                // è·åäººåæ°æ®\r\n                let getPersonData = orgAndPersonDatas[1];\r\n                if (getPersonData !== false) {\r\n                    // æé æ°æ®\r\n                    section.personnels = {\r\n                        count: 0,\r\n                        pageCount: 0,\r\n                        pageIndex: 1,\r\n                        pageSize: 0,\r\n                        totalCount: 0,\r\n                        users: []\r\n                    };\r\n                    if (getPersonData.hasOwnProperty(\"users\")) {\r\n                        section.personnels.count = getPersonData['count'];\r\n                        section.personnels.pageCount = getPersonData['pageCount'];\r\n                        section.personnels.pageIndex = getPersonData['pageIndex'];\r\n                        section.personnels.pageSize = getPersonData['pageSize'];\r\n                        section.personnels.totalCount = getPersonData['totalCount'];\r\n                        section.personnels['users'] = [...section.personnels['users'], ...getPersonData['users']];\r\n                    }\r\n                    else {\r\n                        section['noPersonnel'] = true;\r\n                    }\r\n                }\r\n                this.getNextData(section);\r\n            });\r\n    }\r\n\r\n    /**\r\n     * è·åä¸çº§æ°æ®\r\n     * ç¹å»çç»ç»å¯¹åºçæ¯ï¼å½åç»ç»èç¹\r\n     * @param section \r\n     */\r\n    getNextData(section) {\r\n\r\n        if ((section.children && section.children.length) || (JSON.stringify(section.personnels) !== '{}')) {\r\n            // å¦æå½åç»ç»èç¹æä¸çº§æ°æ®\r\n            const sec = this.getSectionById(section.data.id);\r\n            if (sec) {\r\n                // å¤æ­å½åç»ç»èç¹ï¼æ¯å¦å¾éå¨é\r\n                let secChecked = sec['checked'];\r\n                sec['disabled'] = secChecked ? true : false;\r\n                if (!sec['indeterminate']) {\r\n                    // å½åç»ç»çä¸ä¸çº§ç»ç»é½å¾é\r\n                    if (sec.children && sec.children.length) {\r\n                        sec.children.forEach(item => {\r\n                            item['checked'] = secChecked;\r\n                            item['indeterminate'] = false;\r\n                            // item['disabled'] = sec['disabled'];\r\n                        });\r\n                    };\r\n                    // å¦ææäººåï¼å½åäººåé½å¾é\r\n                    if (section.personnels['users'] && section.personnels['users'].length) {\r\n                        section.personnels['users'].forEach(user => {\r\n                            user['checked'] = secChecked;\r\n                            user['indeterminate'] = false;\r\n                            // user['disabled'] = sec['disabled'];\r\n                        });\r\n                    }\r\n                }\r\n            }\r\n            let secParent = {\r\n                id: sec.data.id,\r\n                name: sec.data.name\r\n            };\r\n            // å½åç»ç»çç¶èç¹ä¸å½åç»ç»èç¹æ°æ®åå¹¶\r\n            let secCrumbs = [...sec['parentsArr'], secParent];\r\n            // å¦æå½åç»ç»æå­èç¹ï¼è·åå­èç¹çç¶æ°ç»ï¼å¦åï¼æç§ä¸é¢æ°æ®åå¹¶è·å\r\n            this.sectionCrumbs = sec.children.length ? sec.children[0]['parentsArr'] : secCrumbs;\r\n            // æ°çç»ç»èç¹æ¯å½åç»ç»çå­èç¹\r\n            this.currentSectionData = sec.children.length ? sec.children : [];\r\n            // è®°å½å½åç»ç»èç¹\r\n            this.currentSection = sec;\r\n            // è®°å½å½åç»ç»èç¹çæ°æ®\r\n            this.currentSectionId = sec.data.id;\r\n            // å½åç»ç»ä¸å¯¹åºçäººåä¿¡æ¯\r\n            this.currentSectionPerson = sec.personnels;\r\n            setTimeout(() => {\r\n                this.initCrumbsList();\r\n            }, 0);\r\n            // console.log(this.currentSection);\r\n            this.cd.detectChanges();\r\n        }\r\n        else {\r\n            this.currentSectionPerson = [];\r\n        }\r\n    }\r\n    /**\r\n     * è·åäººåæ¥å£å®ä¹\r\n     * @param ougId \r\n     * @param pageIndex \r\n     * @param pageSize \r\n     */\r\n    getPersonnel(ougId: string, pageIndex: number, pageSize: number = this.pageSize) {\r\n        // let data = {};\r\n        if (this.orgUrl) {\r\n            const url = `${this.perfixStr}${this.orgUrl}?orgId=${ougId}&pageSize=${pageSize}&pageIndex=${pageIndex}`;\r\n            return this.http.get(url);\r\n            // if(ougId == 'langchao'){\r\n            //     return this.http.get('assets/data/discussionPerson.json');\r\n            // }\r\n            // else if(ougId == 'guoji'){\r\n            //     return this.http.get('assets/data/discussionPerson2.json');\r\n            // }\r\n            // else if(ougId == 'yanfa'){\r\n            //     return this.http.get('assets/data/discussionPerson3.json');\r\n            // }\r\n            // else{\r\n            //     return of(true);\r\n            // }\r\n        }\r\n        else {\r\n            return of(false);\r\n        }\r\n        // return data;\r\n    }\r\n\r\n    /**\r\n     * åå±è·åæ°æ®\r\n     */\r\n    private getOrgByLayerHttp(section) {\r\n        if (!section.data['isDetail'] && (!section.children || section.children.length == 0)) {\r\n            //ä¸æ¯å¶å­èç¹ï¼ä½æ¯å­ä¸ºç©º\r\n            if (this.urlGetOrgByLayer) {\r\n                let url = `${this.perfixStr}${this.urlGetOrgByLayer}?param={\"parentId\":\"${section.data.id}\"}`;\r\n                return this.http.get(url);\r\n            }\r\n        }\r\n        // å¤çè¿çæ°æ®\r\n        return of(false);\r\n    }\r\n    /**\r\n     * è·åäººå\r\n     * @param section \r\n     */\r\n    private getPersonByUrlHttp(section) {\r\n        if (JSON.stringify(section.personnels) === '{}' && !section.hasOwnProperty('noPersonnel')) {\r\n            return this.getPersonnel(section.data.id, 0);\r\n        }\r\n        return of(false);\r\n    }\r\n\r\n    getSectionById(id) {\r\n        let section = this.sectionDataTiled.find(sec => {\r\n            return sec.data.id == id;\r\n        });\r\n        return section;\r\n    }\r\n    /**\r\n     * ç¹å»é¢åå±\r\n     * @param crumbs \r\n     */\r\n    crumbsClick(crumbs) {\r\n        if (crumbs.id == this.currentSectionId) return;\r\n        const sec = this.getSectionById(crumbs.id);\r\n        this.sectionCrumbs = sec.children.length ? sec.children[0]['parentsArr'] : [];\r\n        this.currentSectionData = sec.children.length ? sec.children : [];\r\n        this.currentSectionId = sec.data.id;\r\n        this.currentSectionPerson = sec.personnels;\r\n        this.currentSection = sec;\r\n        setTimeout(() => {\r\n            this.initCrumbsList();\r\n        }, 0);\r\n    }\r\n    /**\r\n     * é¨é¨æäººåç¶æåå\r\n     * @param event \r\n     * @param section \r\n     */\r\n    handleClick(event, section, type) {\r\n        if (this.currentSection.disabled) return;\r\n        event.stopPropagation();\r\n        section.checked = !section.checked;\r\n        section['indeterminate'] = false;\r\n        this.setSectionDataChecked();\r\n        if (section.checked) {\r\n            let selectedData = {\r\n                parent: this.currentSection,\r\n                data: section\r\n            };\r\n            if (type == 'user') {\r\n                if (this._isSelectedInArray(section[this.listIdField], this.listIdField, this.selectedUsers)) {\r\n                    return;\r\n                }\r\n                else {\r\n                    this.selectedUsers.push(selectedData);\r\n                }\r\n            }\r\n            else if (type == 'section') {\r\n                this.addSection(section);\r\n            }\r\n        }\r\n        else {\r\n            if (type == 'user') {\r\n                if (this._isSelectedInArray(section[this.listIdField], this.listIdField, this.selectedUsers)) {\r\n                    this.selectedUsers.forEach((item, index) => {\r\n                        if (item['data'][this.listIdField] === section[this.listIdField]) {\r\n                            this.selectedUsers.splice(index, 1);\r\n                        }\r\n                    });\r\n                }\r\n            }\r\n            else if (type == 'section') {\r\n                this.removeSection(section);\r\n            }\r\n        }\r\n        // console.log(this.selectedUsers,this.selectedSections);\r\n    }\r\n\r\n    handleSearchClick(event, user) {\r\n        event.stopPropagation();\r\n        user.checked = !user.checked;\r\n        if (user.checked) {\r\n            if (this._isSelectedInArray(user[this.listIdField], this.listIdField, this.selectedUsers)) {\r\n                return;\r\n            }\r\n            else {\r\n                let selectedData = {\r\n                    parent: null,\r\n                    data: user\r\n                };\r\n                this.selectedUsers.push(selectedData);\r\n            }\r\n        }\r\n        else {\r\n            if (this._isSelectedInArray(user[this.listIdField], this.listIdField, this.selectedUsers)) {\r\n                this.selectedUsers.forEach((item, index) => {\r\n                    if (item['data'][this.listIdField] === user[this.listIdField]) {\r\n                        this.selectedUsers.splice(index, 1);\r\n                    }\r\n                });\r\n            }\r\n        }\r\n    }\r\n\r\n    setSectionDataChecked() {\r\n        let curChecked: boolean = false;\r\n        let sec = this.currentSection;\r\n        let secArray: any = [];\r\n        if (sec.children || (sec.personnels['users'] && sec.personnels['users'].length)) {\r\n            secArray = secArray.concat(sec.children, sec.personnels['users']);\r\n            let secCheckedList = secArray.filter(item => {\r\n                if (item.hasOwnProperty('checked') && item['checked']) {\r\n                    return item;\r\n                }\r\n            });\r\n            let secIndeList = sec.children.filter(item => {\r\n                if (item.hasOwnProperty('indeterminate') && item['indeterminate']) {\r\n                    return item;\r\n                }\r\n            })\r\n            this.currentSection['indeterminate'] = (secIndeList && secIndeList.length) ? true : false;\r\n            if (secCheckedList && secCheckedList.length) {\r\n                if (secCheckedList.length == secArray.length && sec.personnels.pageIndex >= sec.personnels.pageCount - 1) {\r\n                    curChecked = true;\r\n                }\r\n                else {\r\n                    this.currentSection['indeterminate'] = true;\r\n                }\r\n            }\r\n            else {\r\n                curChecked = false;\r\n            }\r\n            this.currentSection['checked'] = curChecked;\r\n            // console.log(this.currentSection);\r\n        }\r\n\r\n        if (this.currentSection.parents.length > 0 && this.currentSection['indeterminate']) {\r\n            this.currentSection.parents.forEach(par => {\r\n                const parSec = this.getSectionById(par);\r\n                if (parSec) {\r\n                    parSec['indeterminate'] = this.currentSection['indeterminate'];\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    setChildDisabledStatus(status: boolean = true) {\r\n        let sec = this.currentSection;\r\n        // sec['disabled'] = status;\r\n        if (sec.children || (sec.personnels['users'] && sec.personnels['users'].length)) {\r\n            sec.children.forEach(item => {\r\n                item['disabled'] = status;\r\n            });\r\n            // sec['childDisabled'] = status;\r\n            sec.personnels['users'].forEach(user => {\r\n                user['disabled'] = status;\r\n            });\r\n        }\r\n    }\r\n\r\n    /**\r\n     * äººåæ¥çæ´å¤\r\n     */\r\n    getMoreData() {\r\n        if (this.currentSectionId) {\r\n            const sec = this.getSectionById(this.currentSectionId);\r\n            if (sec) {\r\n                this.getPersonnel(this.currentSectionId, sec.personnels.pageIndex + 1).subscribe((d: any) => {\r\n                    if (d.hasOwnProperty(\"users\")) {\r\n                        sec.personnels.pageIndex = d['pageIndex'];\r\n                        sec.personnels['users'] = [...sec.personnels['users'], ...d['users']];\r\n                        if (sec.personnels['users'].length) {\r\n                            if (sec['checked']) {\r\n                                sec.personnels['users'].forEach(user => {\r\n                                    user['checked'] = sec['checked'];\r\n                                });\r\n                            }\r\n                        }\r\n                        // this.setSectionDataChecked();\r\n                    }\r\n                    this.cd.detectChanges();\r\n                })\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * å¨é\r\n     * @param event \r\n     */\r\n    handleClickAll(event) {\r\n        if (this.currentSection.disabled) return;\r\n        if (this.currentSection) {\r\n            this.currentSection['checked'] = !this.currentSection['checked'];\r\n            this.currentSection['indeterminate'] = false;\r\n            let curChecked = this.currentSection['checked'];\r\n            this.currentSection.children.forEach(item => {\r\n                item['checked'] = curChecked;\r\n            });\r\n            if (JSON.stringify(this.currentSection.personnels) != '{}' && this.currentSection['personnels']['users'].length) {\r\n                this.currentSection['personnels']['users'].forEach(user => {\r\n                    user['checked'] = curChecked;\r\n                });\r\n            }\r\n            if (curChecked) {\r\n                this.addSection(this.currentSection)\r\n            }\r\n            else {\r\n                this.removeSection(this.currentSection);\r\n            }\r\n        }\r\n    }\r\n\r\n    addSection(section) {\r\n        if (this._isSelectedInArray(section['data'][this.listIdField], this.listIdField, this.selectedSections)) {\r\n            return;\r\n        }\r\n        else {\r\n            this.selectedSections.push(section);\r\n        }\r\n    }\r\n    removeSection(section) {\r\n        if (this._isSelectedInArray(section['data'][this.listIdField], this.listIdField, this.selectedSections)) {\r\n            this.selectedSections.forEach((item, index) => {\r\n                if (item['data'][this.listIdField] === section['data'][this.listIdField]) {\r\n                    this.selectedSections.splice(index, 1);\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    /**\r\n     * æç´¢ç¨æ·\r\n     */\r\n    searchUser() {\r\n        if (this.searchText) {\r\n            this.showSearchList = true;\r\n            this.searchTextChangeSubject.next(this.searchText);           \r\n        }\r\n        else {\r\n            this.showSearchList = false;\r\n        }\r\n    }\r\n    clearSearch(){\r\n        this.showSearchList=false;\r\n        this.searchText = '';\r\n        this.errorText='';\r\n        // åæ¶æèµ·çè¯·æ±\r\n        if(this.recordGetUserSubscribe){\r\n            this.recordGetUserSubscribe.unsubscribe();\r\n            this.recordGetUserSubscribe=null;\r\n        }        \r\n        // æ¸é¤é®ç½©\r\n        this.showOrHideLoading(false);\r\n    }\r\n    dialogOpend(){\r\n        this.showOrHideLoading(false);\r\n        this.searchTextChangeSubject=new Subject();\r\n        this.searchTextChangeSubject.pipe(debounceTime(200)).subscribe((tsearchText:string)=>{\r\n            this.errorText='';\r\n            this.showOrHideLoading(true);\r\n            // è®°å½\r\n            this.recordGetUserSubscribe=this.getSearchData(tsearchText, 0).subscribe(d => {\r\n                this.showOrHideLoading(false);\r\n                if (d.hasOwnProperty(\"users\")) {\r\n                    this.searchUserList = d;\r\n                }\r\n            },error=>{\r\n                // å¤çå¤±è´¥\r\n                if(error&&error.statusText){\r\n                    this.errorText=error.statusText;\r\n                }else{\r\n                    this.errorText='åºç°å¼å¸¸';\r\n                }                \r\n                this.showOrHideLoading(false);\r\n            });\r\n        })\r\n    }\r\n    /**\r\n     * æç´¢äººåæ¥çæ´å¤\r\n     */\r\n    getMoreSearchData() {\r\n        if (this.searchText && this.personSearchUrl) {\r\n            this.getSearchData(this.searchText, this.searchUserList.pageIndex + 1).subscribe(d => {\r\n                if (d.hasOwnProperty(\"users\")) {\r\n                    this.searchUserList.pageIndex = d['pageIndex'];\r\n                    this.searchUserList['users'] = [...this.searchUserList['users'], ...d['users']];\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    getSearchData(text: string, pageIndex: number, pageSize: number = this.pageSize) {\r\n        if (this.personSearchUrl) {\r\n            const url = `${this.perfixStr}${this.personSearchUrl}?param=${text}&pageSize=${pageSize}&pageIndex=${pageIndex}`;\r\n            return this.http.get(url);\r\n            //return this.http.get('assets/data/discussionPerson3.json');\r\n        }\r\n        else {\r\n            return of(true);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * éä¸­äººåæç»ç»å é¤\r\n     * @param data \r\n     * @param type \r\n     */\r\n    selectionRemove(data: any, type: string) {\r\n        if (!data) return;\r\n        if (type == 'user') {\r\n            let index = this.selectedUsers.findIndex(user => {\r\n                return user.data.id == data.data.id;\r\n            });\r\n            if (index >= 0) {\r\n                this.selectedUsers.splice(index, 1);\r\n            }\r\n            data.data['checked'] = false;\r\n        }\r\n        else if (type == 'section') {\r\n            let index = this.selectedSections.findIndex(item => {\r\n                return item.data.id == data.data.id;\r\n            });\r\n            if (index >= 0) {\r\n                this.selectedSections.splice(index, 1);\r\n            }\r\n            data['checked'] = false;\r\n        }\r\n        let dataParent = null;\r\n        if (type == 'section') {\r\n            dataParent = this.getSectionById(data.parent);\r\n        }\r\n        else if (type == 'user') {\r\n            // bugNum:480649\r\n            if(data['parent']){\r\n                dataParent = this.getSectionById(data.parent.data.id);\r\n            }\r\n        }\r\n        if(dataParent&&type=='user'){\r\n            // bugNum:480651\r\n            // å¦æå é¤çæ¯ç¨æ·å¹¶ä¸è¿æç¶çº§å«\r\n            let delParentIndex = this.selectedSections.findIndex(item => {\r\n                return item.data.id == dataParent.data.id;\r\n            });\r\n            if(delParentIndex>-1){\r\n                return;\r\n            }\r\n        }\r\n        if (dataParent) {\r\n            dataParent['checked'] = false;\r\n            if ((dataParent.children && dataParent.children.length) || (dataParent.personnels.users && dataParent.personnels.users.length)) {\r\n                let childrens = dataParent.children.filter(child => {\r\n                    return child['checked'];\r\n                });\r\n                let users = dataParent.personnels.users.filter(user => {\r\n                    return user['checked'];\r\n                })\r\n                if ((childrens && childrens.length) || (users && users.length)) {\r\n                    dataParent['indeterminate'] = true;\r\n                }\r\n                else {\r\n                    dataParent['indeterminate'] = false;\r\n                }\r\n                if (dataParent.parents.length > 0) {\r\n                    dataParent.parents.forEach(par => {\r\n                        const parSec = this.getSectionById(par);\r\n                        if ((parSec.children && parSec.children.length) || (parSec.personnels.users && parSec.personnels.users.length)) {\r\n                            let parchildrens = parSec.children.filter(child => {\r\n                                return child['checked'];\r\n                            });\r\n                            let parusers = parSec.personnels.users.filter(user => {\r\n                                return user['checked'];\r\n                            })\r\n                            if ((parchildrens && parchildrens.length) || (parusers && parusers.length)) {\r\n                                parSec['indeterminate'] = true;\r\n                            }\r\n                            else {\r\n                                if (dataParent['indeterminate']) {\r\n                                    parSec['indeterminate'] = dataParent['indeterminate'];\r\n                                }\r\n                                else {\r\n                                    parSec['indeterminate'] = false;\r\n                                }\r\n                            }\r\n                        }\r\n                    });\r\n                }\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * å é¤å³ä¾§å¨é¨æ°æ®\r\n     */\r\n    moveAllToLeft() {\r\n        this.selectedUsers.forEach(user => {\r\n            user.data['checked'] = false;\r\n        });\r\n        this.selectedSections.forEach(item => {\r\n            item['checked'] = false;\r\n        });\r\n        this.sectionDataTiled.forEach(sec => {\r\n            sec['indeterminate'] = false;\r\n            sec['checked'] = false;\r\n            sec['disabled'] = false;\r\n            if (JSON.stringify(sec.personnels) != '{}' && sec['personnels']['users'].length) {\r\n                sec['personnels']['users'].forEach(user => {\r\n                    user['checked'] = false;\r\n                });\r\n            }\r\n        });\r\n        this.selectedUsers = [];\r\n        this.selectedSections = [];\r\n        this.cd.markForCheck();\r\n    }\r\n\r\n    /**\r\n     * \r\n     * @param numberType 0ï¼åæ¶ï¼1ï¼ç¡®å®\r\n     */\r\n    returnResult(numberType: number) {\r\n        this.finalText = '';\r\n        if (numberType) {\r\n            // console.log(this.selectedUsers,this.selectedSections);\r\n            this.selectionsChange.emit({\r\n                info: 'confirm',\r\n                data: {\r\n                    users: this.selectedUsers,\r\n                    section: this.selectedSections\r\n                }\r\n            });\r\n            // this.selections.forEach(item => {\r\n            //     this.finalText += item[this.listDisplayText] + 'ï¼';\r\n            // })\r\n        } else {\r\n            this.selectionsChange.emit({\r\n                info: 'cancel',\r\n                data: {\r\n                    users: [],\r\n                    section: []\r\n                }\r\n            });\r\n        }\r\n        this.moveAllToLeft();\r\n        this.searchText = '';\r\n        this.searchUser();\r\n        this.personnelDialog.close();\r\n    }\r\n    /**\r\n     *  é¢åå±åè¡¨æ¾ç¤º\r\n     */\r\n    initCrumbsList() {\r\n        const crumbsListWidth = this.crumbsList.nativeElement.offsetWidth - 30;\r\n        const crumbsListItems = this.crumbsList.nativeElement.children;\r\n\r\n        let crumbsListItemWidth = 0;\r\n        if (crumbsListItems && crumbsListItems.length) {\r\n            for (let i = crumbsListItems.length - 1; i >= 0; i--) {\r\n\r\n                this.renderer.setStyle(crumbsListItems[i], 'display', 'flex');\r\n                let width = crumbsListItems[i].offsetWidth;\r\n                crumbsListItemWidth += width;\r\n                if (crumbsListItemWidth >= crumbsListWidth) {\r\n                    this.renderer.setStyle(crumbsListItems[i], 'display', 'none');\r\n                }\r\n                else {\r\n                    this.renderer.setStyle(crumbsListItems[i], 'display', 'flex');\r\n                }\r\n            }\r\n        };\r\n        if (crumbsListItemWidth >= crumbsListWidth) {\r\n            this.crumbsEllipsis = true;\r\n        }\r\n        else {\r\n            this.crumbsEllipsis = false;\r\n        }\r\n    }\r\n\r\n    crumbsMore() {\r\n        if (this.sectionCrumbs && this.sectionCrumbs.length) {\r\n            this.crumbsClick(this.sectionCrumbs[0]);\r\n        }\r\n    }\r\n\r\n    _isInArray(value: string, field: string, array: any[]) {\r\n        if (!field || !value) {\r\n            throw new Error('å2ä¸ªåæ°å¿å¡«');\r\n        }\r\n        return array.find(item => value === item[field]) ? true : false;\r\n    }\r\n\r\n    _isSelectedInArray(value: string, field: string, array: any[]) {\r\n        if (!field || !value) {\r\n            throw new Error('å2ä¸ªåæ°å¿å¡«');\r\n        }\r\n        return array.find(item => value === item['data'][field]) ? true : false;\r\n    }\r\n\r\n    closeDialog() {\r\n        this.moveAllToLeft();\r\n        this.clearSearch();\r\n        this.searchUser();\r\n    }\r\n    /**\r\n     * æ¾ç¤ºæéèæ­£å¨å è½½\r\n     * @param showOrHide ï¼trueä¸ºæ¾ç¤ºï¼hideä¸ºéè\r\n     */\r\n    private showOrHideLoading(showOrHide) {\r\n        if (!this.discussionContent || !this.loadingSer) {\r\n            return;\r\n        }\r\n        if (showOrHide) {\r\n            // æå¼\r\n            if(!this.loadingInstance){\r\n                 this.loadingInstance = this.loadingSer.show({ delay: 500, container: this.discussionContent, type: 1, message: 'å¨åå è½½ä¸­...' });\r\n            } \r\n        } else if (this.loadingInstance) {\r\n            // å³é­\r\n            this.loadingSer.close(this.loadingInstance.id);\r\n            this.loadingInstance=null;\r\n        }\r\n    }\r\n\r\n}","import { Directive, Input } from '@angular/core';\r\nimport { of } from 'rxjs';\r\nimport { discussionConfig } from './discussionList.interface';\r\nimport { DiscussionListService } from './discussion-list.service';\r\n\r\n@Directive({\r\n    selector: '[fDiscussionList]'\r\n})\r\nexport class DiscussionListDirective {\r\n    // private comments=[];\r\n    // @Input('discussionListData') \r\n    // set discussionListData(datas){\r\n    //     if(datas){\r\n    //         this.discussionListService.resetData(datas);\r\n    //         this.comments=[...datas];\r\n    //     }\r\n    // };\r\n    // get discussionListData(){\r\n    //     return this.comments;\r\n    // }\r\n\r\n    _discussionListData = [];\r\n    @Input() \r\n    set discussionListData(data) {\r\n      if(data){\r\n        this._discussionListData = data;\r\n        this.discussionListService.resetData(data);\r\n        // this.comments=[...data];\r\n      }\r\n    }\r\n    get discussionListData(){\r\n      return this._discussionListData;\r\n    }\r\n\r\n    constructor(private discussionListService:DiscussionListService) {\r\n    }\r\n}","\r\nimport { Pipe, PipeTransform } from \"@angular/core\";\r\nimport { DomSanitizer } from '@angular/platform-browser';\r\n@Pipe({ name: 'safeHtml' })\r\nexport class SafeHtmlPipe implements PipeTransform {\r\n    constructor(private sanitized: DomSanitizer) { }\r\n\r\n    transform(value) {\r\n        return this.sanitized.bypassSecurityTrustHtml(value);\r\n    }\r\n}","import { Pipe, PipeTransform } from '@angular/core';\r\n\r\n@Pipe({name: 'avatarHtml'})\r\nexport class AvatarHtmlPipe implements PipeTransform {\r\n    transform(item:any): string {\r\n        let str = item['name'];\r\n        if(str){\r\n            return str.substring(str.length-2,str.length);\r\n        }\r\n        else{\r\n            return '';\r\n        }\r\n    }\r\n}\r\n\r\n@Pipe({name: 'getOrgText'})\r\nexport class GetOrgTextPipe implements PipeTransform {\r\n    transform(item:any, orgs: any[]): string {\r\n        let str = item['orgId'];\r\n        if(orgs && orgs.length){\r\n            let sec = orgs.find(org => {\r\n                return org['id'] == str;\r\n            });\r\n            let orgtext = '';\r\n            if(sec){\r\n                if(sec['parentId'] != ''){\r\n                    let par = orgs.find(org => {\r\n                        return org['id'] == sec['parentId'];\r\n                    });\r\n                    orgtext = par ? `${par.name}/${sec['name']}`:sec['name'];\r\n                }\r\n                else{\r\n                    orgtext = sec['name'];\r\n                }\r\n            }\r\n            return orgtext;\r\n        }\r\n        else {\r\n            return '';\r\n        }\r\n    }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule} from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { SafeHtmlPipe } from './pipe/safe-html.pipe';\r\nimport { DiscussionListComponent } from './discussion-list/discussion-list.component';\r\nimport { DiscussionEditorComponent } from './discussion-editor/discussion-editor.component';\r\nimport { FarrisDialogModule } from '@farris/ui-dialog';\r\nimport { FarrisCommonModule } from '@farris/ui-common';\r\nimport { DateHelperModule } from '@farris/ui-common/date';\r\nimport { TreeModule } from '@farris/ui-tree';\r\nimport { ModalModule, BsModalService } from '@farris/ui-modal';\r\nimport { LoadingModule } from '@farris/ui-loading';\r\nimport { LocaleModule } from '@farris/ui-locale';\r\nimport { ComponentLoaderFactory } from '@farris/ui-modal/component-loader';\r\nimport { PositioningService } from '@farris/ui-modal/positioning';\r\nimport { PerfectScrollbarModule } from '@farris/ui-perfect-scrollbar';\r\nimport { DiscussionPersonnelComponent } from './discussion-personnel/discussion-personnel.component';\r\nimport { PaginationModule } from '@farris/ui-pagination';\r\nimport { DiscussionListService } from './discussion-list/discussion-list.service';\r\nimport { DiscussionListDirective } from './discussion-list/discussionList.directive';\r\nimport { NotifyModule } from '@farris/ui-notify';\r\nimport { InputGroupModule } from '@farris/ui-input-group';\r\nimport { HttpClientModule } from '@angular/common/http';\r\nimport { AvatarHtmlPipe, GetOrgTextPipe } from './pipe/controlType.pipe';\r\n\r\n@NgModule({\r\n  declarations: [DiscussionEditorComponent, DiscussionListComponent, DiscussionPersonnelComponent, SafeHtmlPipe, AvatarHtmlPipe,GetOrgTextPipe,DiscussionListDirective],\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    ModalModule,\r\n    FarrisDialogModule,\r\n    FarrisCommonModule,\r\n    LoadingModule.forRoot(),\r\n    PerfectScrollbarModule,\r\n    TreeModule,\r\n    PaginationModule,\r\n    NotifyModule,\r\n    HttpClientModule,\r\n    DateHelperModule.forRoot(),\r\n    LocaleModule.forRoot(),\r\n    InputGroupModule\r\n  ],\r\n  providers: [\r\n      BsModalService,\r\n      ComponentLoaderFactory,\r\n      PositioningService,\r\n      DiscussionListService\r\n  ],\r\n  exports: [DiscussionEditorComponent, DiscussionListComponent, DiscussionPersonnelComponent, SafeHtmlPipe, AvatarHtmlPipe,GetOrgTextPipe,DiscussionListDirective],\r\n  entryComponents: [ DiscussionPersonnelComponent]\r\n})\r\nexport class DiscussionGroupModule { }\r\n"],"names":["Injectable","BehaviorSubject","EventEmitter","Component","ViewEncapsulation","Input","Output","ViewChild","http","LocaleService","of","Renderer2","ElementRef","ChangeDetectorRef","NotifyService","Injector","HttpClient","Subject","LoadingService","WEBAPI_PREFIX_TOKEN","forkJoin","debounceTime","NgZone","Directive","Pipe","DomSanitizer","NgModule","CommonModule","FormsModule","ModalModule","FarrisDialogModule","FarrisCommonModule","LoadingModule","PerfectScrollbarModule","TreeModule","PaginationModule","NotifyModule","HttpClientModule","DateHelperModule","LocaleModule","InputGroupModule","BsModalService","ComponentLoaderFactory","PositioningService"],"mappings":"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"}
