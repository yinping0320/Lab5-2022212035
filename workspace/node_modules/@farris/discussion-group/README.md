# DiscussionGroup


## discussion-editor 评论区

### 属性
| 属性 | 说明 | 类型 | 默认值 |
| ---| ----- | ------ | ------ |
| personnelsPrimaryKey | 人员信息的唯一标识 | string | `id` |
| personnelsDisplayKey | 人员显示的名称 | string | `name` |
| replyPersonnelsDisplayKey | 高级人员搜索中名称 | sting | `userName` |
| permissionList | 该评论可见选项 | permissionListOption | - |
| cancelVisible | 评论是否支持取消 | boolean | `false` |
| editHeight | 输入区高度 | number | `130` |
| personnels | 常用人员列表 | array | - |
| replyUser | 回复人员 | object | - |
| attachFiles | 附件列表(上传附件成功后) | FUploadFileExtend[] | - |
| treeData | 高级人员搜索中树数据 | array | - |
| treeIdField | 树结构唯一标识 | string | `id` |
| treeDisplayText | 树结构显示 | sting | `name` |

### permissionListOption 评论可见选项
| 属性 | 说明 | 类型 | 默认值 |
| ---| ----- | ------ | ------ |
| value | 上传的类型 `RELATED` | string | `ALL` |
| text | 在页面中显示的名称 `仅相关人员可见` | string | `所有人员可见` | 

### FUploadFileExtend 附件格式
| 属性 | 说明 | 类型 |
| ---| ----- | ------ |
| id | id | string |
| size | 文件大小 | number |
| type | 文件类型 | string | 
| extend | fileName 和 metadataId | any / null |
| extendStatus | | number |
| extendHeaders | | string / null|

#### Events

| 事件名 | 说明                               | 回调参数 |
| ------ | ---------------------------------- | -------- |
| selectionsChange | 高级人员搜索中点击确定 | `{info: confirm | cancel,data: 选中人员列表}` |
| lineDataChange | 高级人员搜索中选中某行 | 人员数据 |
| valueChange | 提交或取消评论 | ValueConfig[] |
| filePreview | 附件预览 | FUploadFileExtend |
| fileRemove | 附件删除 | FUploadFileExtend |
| fileUploadDone | 附件上传完成 | FUploadFileExtend |

### ValueConfig 评论区数据格式
| 属性 | 说明 | 类型 |
| ---| ----- | ------ |
| msgInfo | 评论类型 0 为取消 1 为提交 | number | 
| text | 评论区内容 | string |
| mailTos | @的人员列表 | array | 
| visibility | 可见人员 | `ALL` | 
| parentId | 回复的表单id | `string | null` |
| attachFiles | 附件列表 | |


## discussion-list 评论区列表 

### 属性
| 属性 | 说明 | 类型 | 默认值 |
| ---| ----- | ------ | ------ |
| personnelsDisplayKey | 展示的人员名称key值 | string | `userName` |
| supportPaging | 是否支持分页 | boolean | `true` |
| pageSize | 每页显示条数 | number | - |
| pageIndex | 当前页码 | number | `1` |
| pageList | 每页显示条数选项 | number[] | `[10,20,30,50]` |
| total | 总条数 | number | `0` |
| discussionData | 评论区数据 | array | - |

### Event
| 事件名 | 说明                               | 回调参数 |
| ------ | ---------------------------------- | -------- |
| replyMessage | 点击回复按钮 | 该条评论数据 | 
| pageChanged | 修改页码 | 当前页码 |
| pageSizeChanged | 每页显示条数变化 | 每页显示条数 |
| filePreview | 附件预览 | 当前附件数据 |
| fileDownload | 附件下载 | 当前附件数据 | 