!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports,require("@angular/core")):"function"==typeof define&&define.amd?define("@farris/ui-filter-condition",["exports","@angular/core"],n):n((e.farris=e.farris||{},e.farris["ui-filter-condition"]={}),e.ng.core)}(this,function(e,n){"use strict";var a={Equal:0,GreaterThan:2,GreaterThanOrEqual:3,LessThan:4,LessThanOrEqual:5,Like:6,In:14};a[a.Equal]="Equal",a[a.GreaterThan]="GreaterThan",a[a.GreaterThanOrEqual]="GreaterThanOrEqual",a[a.LessThan]="LessThan",a[a.LessThanOrEqual]="LessThanOrEqual",a[a.Like]="Like",a[a.In]="In";var r={Value:0,Express:1};r[r.Value]="Value",r[r.Express]="Express";var l={And:1,Or:2};l[l.And]="And",l[l.Or]="Or";var t=(o.prototype.convert=function(e){var n=e.value;return 0<Object.keys(n).length&&n.value?[{FilterField:e.labelCode,Compare:a.Like,Value:n.value,Relation:l.And,Expresstype:r.Value}]:[]},o);function o(){}var i=(u.prototype.convert=function(e){var n=[],t=e.value;return 0===Object.keys(t).length||!t.startTime&&!t.endTime||(t.startTime&&n.push({FilterField:e.labelCode,Compare:a.GreaterThanOrEqual,Value:t.startTime,Relation:l.And,Expresstype:r.Value}),t.endTime&&n.push({FilterField:e.labelCode,Compare:a.LessThanOrEqual,Value:t.endTime,Relation:l.And,Expresstype:r.Value})),n},u);function u(){}var p=(s.prototype.convert=function(e){var n=e.value;return null==n.value||n.value==undefined?[]:0===Object.keys(n).length||0===Object.keys(n.value).length?[]:[{FilterField:e.labelCode,Compare:a.Equal,Value:n.value,Relation:l.And,Expresstype:r.Value}]},s);function s(){}var d=(c.prototype.convert=function(e){var n=[],t=e.value;return 0===Object.keys(t).length||(null!=t.startValue&&n.push({FilterField:e.labelCode,Compare:a.GreaterThanOrEqual,Value:t.startValue,Relation:l.And,Expresstype:r.Value}),null!=t.endValue&&n.push({FilterField:e.labelCode,Compare:a.LessThanOrEqual,Value:t.endValue,Relation:l.And,Expresstype:r.Value})),n},c);function c(){}var y=(v.prototype.convert=function(n){var e=n.value;if(0!=e.value.length&&e.valueField){var t=[];return e.getOriginalValue().split(",").forEach(function(e){e&&t.push({FilterField:n.labelCode,Compare:a.Equal,Value:e,Relation:l.Or,Expresstype:r.Value})}),0<t.length?(t[0].Lbracket="(",t[t.length-1].Rbracket=")",t[t.length-1].Relation=l.And,t):[]}return[]},v);function v(){}var h=(f.prototype.convert=function(e){var n=e.value;return 0<Object.keys(n).length&&n.value?[{FilterField:e.labelCode,Compare:a.Like,Value:n.value,Relation:l.And,Expresstype:r.Value}]:[]},f);function f(){}var C=(g.prototype.convert=function(e){var n=e.value;return 0<Object.keys(n).length&&n.value?[{FilterField:e.labelCode,Compare:e.control.compareType,Value:n.value,Relation:l.And,Expresstype:r.Value}]:[]},g);function g(){}var V=(b.prototype.convert=function(n){var e=n.value;if(0===Object.keys(e).length||0===Object.keys(e.value).length)return[];var t=[];return"bool-check"==n.control.controltype?[{FilterField:n.labelCode,Compare:a.Equal,Value:e.value[0],Relation:l.And,Expresstype:r.Value}]:1===e.value.length?[{FilterField:n.labelCode,Compare:a.Equal,Value:e.value[0],Relation:l.And,Expresstype:r.Value}]:(e.value.forEach(function(e){t.push({FilterField:n.labelCode,Compare:a.Equal,Value:e,Relation:l.Or,Expresstype:r.Value})}),t[0].Lbracket="(",t[t.length-1].Rbracket=")",t[t.length-1].Relation=l.And,t)},b);function b(){}var m=(E.prototype.convert=function(e){var n=[],t=e.value;return 0===Object.keys(t).length||!t.startTime&&!t.endTime||(t.startTime&&n.push({FilterField:e.labelCode,Compare:a.GreaterThanOrEqual,Value:t.startTime,Relation:l.And,Expresstype:r.Value}),t.endTime&&n.push({FilterField:e.labelCode,Compare:a.LessThanOrEqual,Value:t.endTime,Relation:l.And,Expresstype:r.Value})),n},E);function E(){}var F=(T.prototype.convert=function(e){var n=e.value;return 0===Object.keys(n).length||0===Object.keys(n.value).length?[]:[{FilterField:e.labelCode,Compare:a.Equal,Value:n.value,Relation:l.And,Expresstype:r.Value}]},T);function T(){}var q=(x.prototype.convert=function(e){var n=e.value;return 0<Object.keys(n).length&&n.value?[{FilterField:e.labelCode,Compare:e.control.compareType,Value:n.value,Relation:l.And,Expresstype:r.Value}]:[]},x);function x(){}var O=(R.prototype.convert=function(e){var n=e.value;return 0<Object.keys(n).length&&n.value?[{FilterField:e.labelCode,Compare:e.control.compareType,Value:n.value,Relation:l.And,Expresstype:r.Value}]:[]},R);function R(){}var H=(k.prototype.convert=function(e){var n=[],t=e.value;return 0===Object.keys(t).length||!t.startTime&&!t.endTime||(t.startTime&&n.push({FilterField:e.labelCode,Compare:a.GreaterThanOrEqual,Value:t.startTime,Relation:l.And,Expresstype:r.Value}),t.endTime&&n.push({FilterField:e.labelCode,Compare:a.LessThanOrEqual,Value:t.endTime,Relation:l.And,Expresstype:r.Value})),n},k);function k(){}var A=(M.prototype.convert=function(e){var n=[],t=e.value;return 0===Object.keys(t).length||!t.startTime&&!t.endTime||(t.startTime&&n.push({FilterField:e.labelCode,Compare:a.GreaterThanOrEqual,Value:t.startTime,Relation:l.And,Expresstype:r.Value}),t.endTime&&n.push({FilterField:e.labelCode,Compare:a.LessThanOrEqual,Value:t.endTime,Relation:l.And,Expresstype:r.Value})),n},M);function M(){}var j=(w.prototype.convert=function(n){var e=n.value,t=[];return e.textValue===undefined||null===e.textValue||0==e.textValue.length?[]:e.isInputText?(t.push({FilterField:n.labelCode,Compare:a.Like,Value:e.textValue,Relation:l.And,Expresstype:r.Value}),t):(e.getOriginalValue().split(",").forEach(function(e){e&&t.push({FilterField:n.labelCode,Compare:a.Equal,Value:e,Relation:l.Or,Expresstype:r.Value})}),0<t.length?(t[0].Lbracket="(",t[t.length-1].Rbracket=")",t[t.length-1].Relation=l.And,t):[])},w);function w(){}var L=(G.prototype.convert=function(e){var n=e.value;return 0<Object.keys(n).length&&null!=n.value?[{FilterField:e.labelCode,Compare:a.Like,Value:n.value,Relation:l.And,Expresstype:r.Value}]:[]},G);function G(){}var I=(D.prototype.convert=function(e){var n=[],t=e.value;return e.control.single?0<Object.keys(t).length&&null!=t.value?[{FilterField:e.labelCode,Compare:a.Equal,Value:t.value,Relation:l.And,Expresstype:r.Value}]:[]:(0===Object.keys(t).length||(null!=t.startValue&&n.push({FilterField:e.labelCode,Compare:a.GreaterThanOrEqual,Value:t.startValue,Relation:l.And,Expresstype:r.Value}),null!=t.endValue&&n.push({FilterField:e.labelCode,Compare:a.LessThanOrEqual,Value:t.endValue,Relation:l.And,Expresstype:r.Value})),n)},D);function D(){}var S=(_.prototype.convert=function(e){var n=[],t=e.value;return e.control.single?0<Object.keys(t).length&&t.value?[{FilterField:e.labelCode,Compare:a.Equal,Value:t.value,Relation:l.And,Expresstype:r.Value}]:[]:(0===Object.keys(t).length||(null!=t.startValue&&t.startValue&&n.push({FilterField:e.labelCode,Compare:a.GreaterThanOrEqual,Value:t.startValue,Relation:l.And,Expresstype:r.Value}),null!=t.endValue&&t.endValue&&n.push({FilterField:e.labelCode,Compare:a.LessThanOrEqual,Value:t.endValue,Relation:l.And,Expresstype:r.Value})),n)},_);function _(){}var N=(P.getInstance=function(){return P._instance||(P._instance=new P),P._instance},P.prototype.getHandler=function(e){return this.queryConditionHandlerMapping.get(e)},P._instance=null,P);function P(){this.queryConditionHandlerMapping=new Map,this.queryConditionHandlerMapping.set("text",new t),this.queryConditionHandlerMapping.set("date",new i),this.queryConditionHandlerMapping.set("datetime",new m),this.queryConditionHandlerMapping.set("monthRange",new A),this.queryConditionHandlerMapping.set("yearRange",new H),this.queryConditionHandlerMapping.set("dropdown",new p),this.queryConditionHandlerMapping.set("number",new d),this.queryConditionHandlerMapping.set("help",new y),this.queryConditionHandlerMapping.set("search",new h),this.queryConditionHandlerMapping.set("singleDate",new C),this.queryConditionHandlerMapping.set("month",new q),this.queryConditionHandlerMapping.set("year",new O),this.queryConditionHandlerMapping.set("checkboxgroup",new V),this.queryConditionHandlerMapping.set("radio",new F),this.queryConditionHandlerMapping.set("input-group",new j),this.queryConditionHandlerMapping.set("singlenumber",new L),this.queryConditionHandlerMapping.set("flexibleNumber",new I),this.queryConditionHandlerMapping.set("flexibleDate",new S),this.queryConditionHandlerMapping.set("bool-check",new V)}function Q(e,n){var t="function"==typeof Symbol&&e[Symbol.iterator];if(!t)return e;var a,r,l=t.call(e),o=[];try{for(;(void 0===n||0<n--)&&!(a=l.next()).done;)o.push(a.value)}catch(i){r={error:i}}finally{try{a&&!a.done&&(t=l["return"])&&t.call(l)}finally{if(r)throw r.error}}return o}var Y=(z.prototype.setFilterConditions=function(e){if(Array.isArray(e)){var n,a=[];return e.forEach(function(e){n=N.getInstance().getHandler(e.control.controltype),a.push.apply(a,function t(){for(var e=[],n=0;n<arguments.length;n++)e=e.concat(Q(arguments[n]));return e}(n.convert(e)))}),a}return N.getInstance().getHandler(e.control.controltype).convert(e)},z.decorators=[{type:n.Injectable,args:[{providedIn:"root"}]}],z.ctorParameters=function(){return[]},z.ngInjectableDef=n.defineInjectable({factory:function(){return new z},token:z,providedIn:"root"}),z);function z(){}var B=(J.decorators=[{type:n.NgModule,args:[{declarations:[],imports:[],exports:[]}]}],J);function J(){}e.QuerySolutionService=Y,e.QueryConditionHandlerFactory=N,e.CheckboxGroupHandler=V,e.DateHandler=C,e.DateRangeHandler=i,e.DateRangeTimeHandler=m,e.DropDownHandler=p,e.NumberRangeHandler=d,e.SearchHandler=h,e.SmartHelpHandler=y,e.TextHandler=t,e.RadioHandler=F,e.YearHandler=O,e.YearRangeHandler=H,e.MonthHandler=q,e.MonthRangeHandler=A,e.InputGroupHandler=j,e.NumberHandler=L,e.FlexibleNumberHandler=I,e.FlexibleDateHandler=S,e.CompareType=a,e.RelationType=l,e.ValueType=r,e.FilterConditionModule=B,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=farris-ui-filter-condition.umd.min.js.map