/**
 * @fileoverview added by tsickle
 * Generated from: utils/loading-service.ts
 * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { Injectable } from '@angular/core';
class DataLoadingService {
    /**
     * 构造函数
     * 注入\@farris/ui的LoadingService
     */
    constructor() {
        //this.loadingService = this.injector.get(LoadingService);
    }
    /**
     * 显示加载中
     * @param {?=} configOrMessage
     * @return {?}
     */
    show(configOrMessage) {
        if (this.loadingCmp) {
            this.loadingCmp.close();
            this.loadingCmp = null;
        }
        /** @type {?} */
        const loadingConfig = this.buildLoadingConfig(configOrMessage);
        this.loadingCmp = this.loadingService.show(loadingConfig);
        return this.loadingCmp;
    }
    /**
     * 构造LoadingConfig
     * @private
     * @param {?} configOrMessage 配置对象或消息字符串
     * @return {?}
     */
    buildLoadingConfig(configOrMessage) {
        /** @type {?} */
        let loadingConfig;
        if (!!configOrMessage) {
            if (typeof configOrMessage === 'object') {
                loadingConfig = configOrMessage;
            }
            else {
                loadingConfig = { 'message': configOrMessage };
            }
        }
        else {
            loadingConfig = {};
        }
        if (!loadingConfig.hasOwnProperty('delay')) {
            loadingConfig.delay = 0;
        }
        return loadingConfig;
    }
    /**
     * 隐藏加载中
     * @return {?}
     */
    hide() {
        if (!this.loadingCmp) {
            return;
        }
        this.loadingCmp.close();
        this.loadingCmp = null;
    }
}
DataLoadingService.decorators = [
    { type: Injectable }
];
/** @nocollapse */
DataLoadingService.ctorParameters = () => [];
if (false) {
    /**
     * 加载中组件实例
     * @type {?}
     * @private
     */
    DataLoadingService.prototype.loadingCmp;
    /** @type {?} */
    DataLoadingService.prototype.loadingService;
}
export { DataLoadingService };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibG9hZGluZy1zZXJ2aWNlLmpzIiwic291cmNlUm9vdCI6Im5nOi8vQGZhcnJpcy91aS1wZXJzb25uZWwtc2VsZWN0b3IvIiwic291cmNlcyI6WyJ1dGlscy9sb2FkaW5nLXNlcnZpY2UudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQSxPQUFPLEVBQUUsVUFBVSxFQUFZLE1BQU0sZUFBZSxDQUFDO0FBR3JELE1BQ00sa0JBQWtCOzs7OztJQWF0QjtRQUNFLDBEQUEwRDtJQUM1RCxDQUFDOzs7Ozs7SUFLTSxJQUFJLENBQUMsZUFBcUI7UUFDL0IsSUFBSSxJQUFJLENBQUMsVUFBVSxFQUFFO1lBQ25CLElBQUksQ0FBQyxVQUFVLENBQUMsS0FBSyxFQUFFLENBQUM7WUFDeEIsSUFBSSxDQUFDLFVBQVUsR0FBRyxJQUFJLENBQUM7U0FDeEI7O2NBRUssYUFBYSxHQUFHLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxlQUFlLENBQUM7UUFDOUQsSUFBSSxDQUFDLFVBQVUsR0FBRyxJQUFJLENBQUMsY0FBYyxDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsQ0FBQztRQUMxRCxPQUFPLElBQUksQ0FBQyxVQUFVLENBQUM7SUFDekIsQ0FBQzs7Ozs7OztJQU1PLGtCQUFrQixDQUFDLGVBQW9COztZQUN6QyxhQUE0QjtRQUNoQyxJQUFJLENBQUMsQ0FBQyxlQUFlLEVBQUU7WUFDckIsSUFBSSxPQUFPLGVBQWUsS0FBSyxRQUFRLEVBQUU7Z0JBQ3ZDLGFBQWEsR0FBRyxlQUFlLENBQUM7YUFDakM7aUJBQU07Z0JBQ0wsYUFBYSxHQUFHLEVBQUUsU0FBUyxFQUFFLGVBQWUsRUFBRSxDQUFDO2FBQ2hEO1NBQ0Y7YUFBTTtZQUNMLGFBQWEsR0FBRyxFQUFFLENBQUM7U0FDcEI7UUFDRCxJQUFJLENBQUMsYUFBYSxDQUFDLGNBQWMsQ0FBQyxPQUFPLENBQUMsRUFBRTtZQUMxQyxhQUFhLENBQUMsS0FBSyxHQUFHLENBQUMsQ0FBQztTQUN6QjtRQUNELE9BQU8sYUFBYSxDQUFDO0lBQ3ZCLENBQUM7Ozs7O0lBS00sSUFBSTtRQUNULElBQUksQ0FBQyxJQUFJLENBQUMsVUFBVSxFQUFFO1lBQ3BCLE9BQU87U0FDUjtRQUNELElBQUksQ0FBQyxVQUFVLENBQUMsS0FBSyxFQUFFLENBQUM7UUFDeEIsSUFBSSxDQUFDLFVBQVUsR0FBRyxJQUFJLENBQUM7SUFDekIsQ0FBQzs7O1lBOURGLFVBQVU7Ozs7Ozs7Ozs7SUFNVCx3Q0FBcUM7O0lBRXJDLDRDQUErQjs7QUF5RGpDLE9BQU8sRUFBRSxrQkFBa0IsRUFBRSxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSW5qZWN0YWJsZSwgSW5qZWN0b3IgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuaW1wb3J0IHsgTG9hZGluZ1NlcnZpY2UsIExvYWRpbmdDb25maWcsIExvYWRpbmdDb21wb25lbnQgfSBmcm9tICdAZmFycmlzL3VpLWxvYWRpbmcnO1xyXG5cclxuQEluamVjdGFibGUoKVxyXG5jbGFzcyBEYXRhTG9hZGluZ1NlcnZpY2Uge1xyXG5cclxuICAvKipcclxuICAgKiDliqDovb3kuK3nu4Tku7blrp7kvotcclxuICAgKi9cclxuICBwcml2YXRlIGxvYWRpbmdDbXA6IExvYWRpbmdDb21wb25lbnQ7XHJcblxyXG4gIGxvYWRpbmdTZXJ2aWNlOiBMb2FkaW5nU2VydmljZTtcclxuXHJcbiAgLyoqXHJcbiAgICog5p6E6YCg5Ye95pWwXHJcbiAgICog5rOo5YWlQGZhcnJpcy91aeeahExvYWRpbmdTZXJ2aWNlXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAvL3RoaXMubG9hZGluZ1NlcnZpY2UgPSB0aGlzLmluamVjdG9yLmdldChMb2FkaW5nU2VydmljZSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiDmmL7npLrliqDovb3kuK1cclxuICAgKi9cclxuICBwdWJsaWMgc2hvdyhjb25maWdPck1lc3NhZ2U/OiBhbnkpOiBMb2FkaW5nQ29tcG9uZW50IHtcclxuICAgIGlmICh0aGlzLmxvYWRpbmdDbXApIHtcclxuICAgICAgdGhpcy5sb2FkaW5nQ21wLmNsb3NlKCk7XHJcbiAgICAgIHRoaXMubG9hZGluZ0NtcCA9IG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgbG9hZGluZ0NvbmZpZyA9IHRoaXMuYnVpbGRMb2FkaW5nQ29uZmlnKGNvbmZpZ09yTWVzc2FnZSk7XHJcbiAgICB0aGlzLmxvYWRpbmdDbXAgPSB0aGlzLmxvYWRpbmdTZXJ2aWNlLnNob3cobG9hZGluZ0NvbmZpZyk7XHJcbiAgICByZXR1cm4gdGhpcy5sb2FkaW5nQ21wO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICog5p6E6YCgTG9hZGluZ0NvbmZpZ1xyXG4gICAqIEBwYXJhbSBjb25maWdPck1lc3NhZ2Ug6YWN572u5a+56LGh5oiW5raI5oGv5a2X56ym5LiyXHJcbiAgICovXHJcbiAgcHJpdmF0ZSBidWlsZExvYWRpbmdDb25maWcoY29uZmlnT3JNZXNzYWdlOiBhbnkpOiBMb2FkaW5nQ29uZmlnIHtcclxuICAgIGxldCBsb2FkaW5nQ29uZmlnOiBMb2FkaW5nQ29uZmlnO1xyXG4gICAgaWYgKCEhY29uZmlnT3JNZXNzYWdlKSB7XHJcbiAgICAgIGlmICh0eXBlb2YgY29uZmlnT3JNZXNzYWdlID09PSAnb2JqZWN0Jykge1xyXG4gICAgICAgIGxvYWRpbmdDb25maWcgPSBjb25maWdPck1lc3NhZ2U7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgbG9hZGluZ0NvbmZpZyA9IHsgJ21lc3NhZ2UnOiBjb25maWdPck1lc3NhZ2UgfTtcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgbG9hZGluZ0NvbmZpZyA9IHt9O1xyXG4gICAgfVxyXG4gICAgaWYgKCFsb2FkaW5nQ29uZmlnLmhhc093blByb3BlcnR5KCdkZWxheScpKSB7XHJcbiAgICAgIGxvYWRpbmdDb25maWcuZGVsYXkgPSAwO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGxvYWRpbmdDb25maWc7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiDpmpDol4/liqDovb3kuK1cclxuICAgKi9cclxuICBwdWJsaWMgaGlkZSgpIHtcclxuICAgIGlmICghdGhpcy5sb2FkaW5nQ21wKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIHRoaXMubG9hZGluZ0NtcC5jbG9zZSgpO1xyXG4gICAgdGhpcy5sb2FkaW5nQ21wID0gbnVsbDtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCB7IERhdGFMb2FkaW5nU2VydmljZSB9OyJdfQ==