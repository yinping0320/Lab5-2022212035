/**
 * @fileoverview added by tsickle
 * Generated from: lib/tab-group/group.component.ts
 * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { Component, EventEmitter, Inject, Input, Optional, Output, ViewChild } from '@angular/core';
import * as _ from 'lodash-es';
import { noDataImg } from '../../assets/resource';
import { GROUP_SERVICE } from '../../utils/app.token';
import { FavoritesTool } from '../../utils/favorites.tool';
import { OrgPersonnelComponent } from '../tab-org-personnel/op.component';
import { DataLoadingService } from '../../utils/loading-service';
var GroupComponent = /** @class */ (function () {
    function GroupComponent(groupService, favoritesTool) {
        this.groupService = groupService;
        this.favoritesTool = favoritesTool;
        this.idField = 'userId';
        this.orgId = '';
        this.shownOrgId = '';
        this.userIds = '';
        this.pageSize = 10;
        this.treeListData = [];
        this.selectionsChange = new EventEmitter();
        this.groupChange = new EventEmitter();
        this.groupIdField = 'id';
        this.userIdField = 'userId';
        this.selections = [];
        this.cloneUserIds = '';
        this.cloneSelections = [];
        this.noDataImg = noDataImg;
        this.allChecked = false;
        this.items = [];
        this.favoritesList = [];
        this.groupData = { public: [], personal: [] };
        this.personnelList = [];
        this.groupPersonnels = [];
        this.publicVisible = true;
        this.personalVisible = true;
        this.publicToken = 'public';
        this.personalToken = 'personal';
        this.showGroupPersonnelDialog = false;
        this.currentGroupType = 'public';
        // 是否显示用户编号
        this.showUserCode = true;
        this.userInShownOrg = [];
        this.allIndexId = Math.random().toString(16).substring(3, 10);
    }
    /**
     * @return {?}
     */
    GroupComponent.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
        var _this = this;
        // 兼容老表单
        if (this.favoritesTool) {
            this.favoritesTool.favoritesSubject.subscribe((/**
             * @param {?} data
             * @return {?}
             */
            function (data) {
                _this.favoritesList = data;
                if (_this.enableFavorites && !!_this.selectedGroupId) {
                    _this.getPersonnelsByGroup({ id: _this.selectedGroupId }, _this.currentGroupType);
                }
            }));
        }
    };
    /**
     * @return {?}
     */
    GroupComponent.prototype.ngAfterViewInit = /**
     * @return {?}
     */
    function () {
    };
    /**
     * @param {?} e
     * @param {?} item
     * @return {?}
     */
    GroupComponent.prototype.editGroup = /**
     * @param {?} e
     * @param {?} item
     * @return {?}
     */
    function (e, item) {
        this.groupChange.next(item);
        e.stopPropagation();
        e.cancelBubble = true;
    };
    //群组触发事件类型 1：add 2：delete 3：update(title和description) 4：update(追加群组成员)
    //群组触发事件类型 1：add 2：delete 3：update(title和description) 4：update(追加群组成员)
    /**
     * @param {?} e
     * @param {?} item
     * @return {?}
     */
    GroupComponent.prototype.deleteGroup = 
    //群组触发事件类型 1：add 2：delete 3：update(title和description) 4：update(追加群组成员)
    /**
     * @param {?} e
     * @param {?} item
     * @return {?}
     */
    function (e, item) {
        var _this = this;
        /** @type {?} */
        var helpExtend = window && ((/** @type {?} */ (window))).helpExtend;
        if (item[this.groupIdField] === this.selectedGroupId) {
            this.selectedGroupId = null;
            this.currentGroupType = this.publicToken;
        }
        if (helpExtend) {
            helpExtend.curdGroupData({
                id: item[this.groupIdField],
                type: 2
            }).then((/**
             * @return {?}
             */
            function () {
                _this.items = [];
                _this.getGroupList();
            }));
        }
        else {
            throw new Error(this.groupExtendInfo);
        }
        e.stopPropagation();
        e.cancelBubble = true;
    };
    /**
     * 添加群组成员
     */
    /**
     * 添加群组成员
     * @return {?}
     */
    GroupComponent.prototype.appendGroupPersonnel = /**
     * 添加群组成员
     * @return {?}
     */
    function () {
        var _this = this;
        /** @type {?} */
        var helpExtend = window && ((/** @type {?} */ (window))).helpExtend;
        /** @type {?} */
        var userIds = [];
        this.groupPersonnelComponent.selections.forEach((/**
         * @param {?} selection
         * @return {?}
         */
        function (selection) {
            userIds.push(selection[_this.idField]);
        }));
        if (helpExtend) {
            helpExtend.curdGroupData({
                id: this.selectedGroupId,
                userIds: userIds,
                type: 4
            }).then((/**
             * @return {?}
             */
            function () {
                _this.toggleGroupPersonnelDialog(false);
                _this.getPersonnelsByGroup({ id: _this.selectedGroupId }, _this.currentGroupType);
            }));
        }
        else {
            throw new Error(this.groupExtendInfo);
        }
    };
    /**
     * @param {?} show
     * @param {?=} groupType
     * @return {?}
     */
    GroupComponent.prototype.toggleGroupPersonnelDialog = /**
     * @param {?} show
     * @param {?=} groupType
     * @return {?}
     */
    function (show, groupType) {
        if (groupType === void 0) { groupType = this.personalToken; }
        if (groupType === this.personalToken) {
            this.showGroupPersonnelDialog = show;
        }
    };
    // 设置我的群组
    // setMyGroup() {
    //     const options = {
    //         // 打开菜单，funcId需要指定，appId、appEntrance可以为空
    //         funcId: '2cea1078-eefb-b716-37b5-480afcbede03',
    //         tabId: '个人群组',
    //         appId: '',
    //         appEntrance: '',
    //         // 指定当前打开的是菜单
    //         appType: 'menu'
    //     };
    //     (window as any).gspframeworkService.rtf.func.openMenu(options);
    // }
    // 设置我的群组
    // setMyGroup() {
    //     const options = {
    //         // 打开菜单，funcId需要指定，appId、appEntrance可以为空
    //         funcId: '2cea1078-eefb-b716-37b5-480afcbede03',
    //         tabId: '个人群组',
    //         appId: '',
    //         appEntrance: '',
    //         // 指定当前打开的是菜单
    //         appType: 'menu'
    //     };
    //     (window as any).gspframeworkService.rtf.func.openMenu(options);
    // }
    /**
     * @return {?}
     */
    GroupComponent.prototype.assembleData = 
    // 设置我的群组
    // setMyGroup() {
    //     const options = {
    //         // 打开菜单，funcId需要指定，appId、appEntrance可以为空
    //         funcId: '2cea1078-eefb-b716-37b5-480afcbede03',
    //         tabId: '个人群组',
    //         appId: '',
    //         appEntrance: '',
    //         // 指定当前打开的是菜单
    //         appType: 'menu'
    //     };
    //     (window as any).gspframeworkService.rtf.func.openMenu(options);
    // }
    /**
     * @return {?}
     */
    function () {
        if (this.searchPage) {
            this.searchByCodeOrName();
        }
        else {
            this.getGroupList();
        }
    };
    /**
     * @param {?} item
     * @param {?=} groupType
     * @return {?}
     */
    GroupComponent.prototype.getPersonnelsByGroup = /**
     * @param {?} item
     * @param {?=} groupType
     * @return {?}
     */
    function (item, groupType) {
        var _this = this;
        if (groupType === void 0) { groupType = this.publicToken; }
        if (this.dataLoadingService) {
            this.dataLoadingService.show(this.loadingServiceMessage);
        }
        this.currentGroupType = groupType;
        this.allChecked = false;
        this.selectedGroupId = item[this.groupIdField];
        /** @type {?} */
        var helpExtend = window && ((/** @type {?} */ (window))).helpExtend;
        if (helpExtend) {
            helpExtend.getDataByGroupId(item[this.groupIdField], this.absOrgType).then((/**
             * @param {?} data
             * @return {?}
             */
            function (data) {
                /** @type {?} */
                var res = data && data.items;
                if (_this.userInShownOrg.length) {
                    /** @type {?} */
                    var originalPersonnelsData = _.cloneDeep(res);
                    _this.items = originalPersonnelsData.filter((/**
                     * @param {?} data
                     * @return {?}
                     */
                    function (data) { return _this.userInShownOrg.find((/**
                     * @param {?} user
                     * @return {?}
                     */
                    function (user) { return user.userId == data.userId; })); }));
                }
                else {
                    _this.items = res;
                }
                _this.groupData.personal.forEach((/**
                 * @param {?} item
                 * @return {?}
                 */
                function (item) {
                    if (item[_this.groupIdField] === _this.selectedGroupId && item.total !== _this.items.length) {
                        item.total = _this.items.length;
                    }
                }));
                _this.items.forEach((/**
                 * @param {?} it
                 * @return {?}
                 */
                function (it) {
                    if (_this._isInArray(it[_this.idField], _this.idField, _this.favoritesList) !== -1) {
                        it.inFavorites = true;
                    }
                    else {
                        it.inFavorites = false;
                    }
                    it.indexId = Math.random().toString(16).substring(2);
                    it.displayName = !!_this.showUserCode ? ('[' + it.code + ']' + it.name) : it.name;
                    if (_this.showOrgAllPathByDesc && it.orgAllPath) {
                        it.orgAllPath = _this.changeDisplayOrgAllPath(it.orgAllPath);
                    }
                }));
                _this.toggleChecked();
                _this.cdRef ? _this.cdRef.detectChanges() : null;
                if (_this.dataLoadingService) {
                    _this.dataLoadingService.hide();
                }
            }));
        }
        else {
            throw new Error(this.groupExtendInfo);
        }
    };
    /**
     * @return {?}
     */
    GroupComponent.prototype.getGroupList = /**
     * @return {?}
     */
    function () {
        var _this = this;
        /** @type {?} */
        var helpExtend = window && ((/** @type {?} */ (window))).helpExtend;
        if (helpExtend) {
            helpExtend.getGroupData().then((/**
             * @param {?} data
             * @return {?}
             */
            function (data) {
                /** @type {?} */
                var resPublic = data && data.items[0] && data.items[0].data;
                /** @type {?} */
                var resPersonal = data && data.items[1] && data.items[1].data;
                _this.groupData.public = resPublic ? resPublic : [];
                _this.groupData.personal = resPersonal ? resPersonal : [];
                /** @type {?} */
                var firstPublicGroup = resPublic[0] && resPublic[0][_this.groupIdField];
                /** @type {?} */
                var firstPersonalGroup = resPersonal[0] && resPersonal[0][_this.groupIdField];
                _this.selectedGroupId = _this.selectedGroupId ? _this.selectedGroupId : firstPublicGroup;
                _this.selectedGroupId = _this.selectedGroupId ? _this.selectedGroupId : firstPersonalGroup;
                if (!!_this.selectedGroupId) {
                    _this.getPersonnelsByGroup({ id: _this.selectedGroupId }, _this.currentGroupType);
                    if (_this.groupData.public.findIndex((/**
                     * @param {?} item
                     * @return {?}
                     */
                    function (item) { return item[_this.groupIdField] === _this.selectedGroupId; })) !== -1) {
                        _this.currentGroupType = _this.publicToken;
                    }
                    else if (_this.groupData.personal.findIndex((/**
                     * @param {?} item
                     * @return {?}
                     */
                    function (item) { return item[_this.groupIdField] === _this.selectedGroupId; })) !== -1) {
                        _this.currentGroupType = _this.personalToken;
                    }
                }
            }));
        }
        else {
            throw new Error(this.groupExtendInfo);
        }
    };
    /**
     * @return {?}
     */
    GroupComponent.prototype.searchByCodeOrName = /**
     * @return {?}
     */
    function () {
        var _this = this;
        this.items = this.items.filter((/**
         * @param {?} item
         * @return {?}
         */
        function (item) {
            return item.code.indexOf(_this.searchText) !== -1 || item.name.indexOf(_this.searchText) !== -1;
        }));
    };
    /**
     * @param {?} e
     * @param {?} item
     * @return {?}
     */
    GroupComponent.prototype.toggleFavorites = /**
     * @param {?} e
     * @param {?} item
     * @return {?}
     */
    function (e, item) {
        this.favoritesTool.toggleFavorites(e, item);
    };
    /**
     * @param {?} e
     * @param {?} type
     * @return {?}
     */
    GroupComponent.prototype.toggleVisible = /**
     * @param {?} e
     * @param {?} type
     * @return {?}
     */
    function (e, type) {
        if (type === this.publicToken) {
            this.publicVisible = !this.publicVisible;
        }
        else if (type === this.personalToken) {
            this.personalVisible = !this.personalVisible;
        }
        e.stopPropagation();
        e.cancelBubble = true;
    };
    /**
     * @return {?}
     */
    GroupComponent.prototype.restoreSelections = /**
     * @return {?}
     */
    function () {
        this.selections = _.cloneDeep(this.cloneSelections);
        // this.emitSelections();
        this.toggleChecked();
        if (this.isAllChecked()) {
            this.allChecked = true;
        }
        else {
            this.allChecked = false;
        }
    };
    /**
     * @return {?}
     */
    GroupComponent.prototype.toggleAll = /**
     * @return {?}
     */
    function () {
        if (!this.allChecked) {
            this.checkAll();
        }
        else {
            this.unCheckAll();
        }
        this.emitSelections();
    };
    /**
     * @param {?} data
     * @return {?}
     */
    GroupComponent.prototype.toggleOne = /**
     * @param {?} data
     * @return {?}
     */
    function (data) {
        if (data.checked) {
            this.unSelectLine(data);
        }
        else {
            this.selectLine(data);
        }
        this.emitSelections();
    };
    /**
     * datagrid用于数据展示
     */
    /**
     * datagrid用于数据展示
     * @return {?}
     */
    GroupComponent.prototype.loadGroupList = /**
     * datagrid用于数据展示
     * @return {?}
     */
    function () {
        this.items = [];
        // this.unSelectedList.forEach(res => {
        //     const indexId = Math.random().toString(16).substring(3, 10);
        //     const item = {
        //         abbreviation: res.abbreviation,
        //         code: res.code,
        //         defaultOrgId: res.defaultOrgId,
        //         defaultOrgPath: res.defaultOrgPath,
        //         ext1: res.ext1,
        //         ext2: res.ext2,
        //         fullPathName: res.fullPathName,
        //         name: res.name,
        //         orgTypeId: res.orgTypeId,
        //         secLevel: res.secLevel,
        //         sortOrder: res.sortOrder,
        //         state: res.state,
        //         su: res.su,
        //         userId: res.userId,
        //         orgAllPath: res.orgAllPath,
        //         type: 'people',
        //         checked: false,
        //         inFavorites: false,
        //         indexId
        //     };
        //     if (this._isInArray(res[this.idField], this.idField, this.selections) !== -1) {
        //         item.checked = true;
        //     }
        //     if (this._isInArray(res[this.idField], this.idField, this.favoritesList) !== -1) {
        //         item.inFavorites = true;
        //     }
        //     this.items.push(item);
        //     this.itemsBackup.push(item);
        // });
        /** @type {?} */
        var tempSelections = _.cloneDeep(this.selections);
        this.toggleChecked();
        this.selections = _.cloneDeep(tempSelections);
    };
    /**
     * 全选后处理
     * @param dataArr 全选的值
     */
    /**
     * 全选后处理
     * @return {?}
     */
    GroupComponent.prototype.checkAll = /**
     * 全选后处理
     * @return {?}
     */
    function () {
        var _this = this;
        this.items.forEach((/**
         * @param {?} item
         * @return {?}
         */
        function (item) {
            _this._insertOneIntoSelections(item);
            item.checked = true;
        }));
    };
    /**
     * 全部取消
     * @param dataArr 取消的数据
     * @returns void
     */
    /**
     * 全部取消
     * @return {?} void
     */
    GroupComponent.prototype.unCheckAll = /**
     * 全部取消
     * @return {?} void
     */
    function () {
        var _this = this;
        this.items.forEach((/**
         * @param {?} item
         * @return {?}
         */
        function (item) {
            _this.selections.forEach((/**
             * @param {?} selection
             * @param {?} index
             * @return {?}
             */
            function (selection, index) {
                if (item[_this.idField] === selection[_this.idField]) {
                    _this.selections.splice(index, 1);
                }
            }));
            item.checked = false;
        }));
    };
    /**
     * 当前行选中
     * @param data 当前行的数据（）
     */
    /**
     * 当前行选中
     * @param {?} data 当前行的数据（）
     * @return {?}
     */
    GroupComponent.prototype.selectLine = /**
     * 当前行选中
     * @param {?} data 当前行的数据（）
     * @return {?}
     */
    function (data) {
        if (this.multiSelect) {
            this._insertOneIntoSelections(data);
        }
        else {
            this.userIds = '';
            this.selections = [];
            this.items.forEach((/**
             * @param {?} item
             * @return {?}
             */
            function (item) {
                if (item.checked) {
                    item.checked = false;
                }
            }));
            this._insertOneIntoSelections(data);
        }
        if (this.isAllChecked()) {
            this.allChecked = true;
        }
    };
    /**
     * 单选取消选中
     * @param data 取消选中行
     */
    /**
     * 单选取消选中
     * @param {?} data 取消选中行
     * @return {?}
     */
    GroupComponent.prototype.unSelectLine = /**
     * 单选取消选中
     * @param {?} data 取消选中行
     * @return {?}
     */
    function (data) {
        /** @type {?} */
        var index = this._isInArray(data[this.idField], this.idField, this.selections);
        if (index > -1) {
            this.selections.splice(index, 1);
        }
        if (this.allChecked) {
            this.allChecked = false;
        }
    };
    /**
     * @private
     * @return {?}
     */
    GroupComponent.prototype.emitSelections = /**
     * @private
     * @return {?}
     */
    function () {
        /** @type {?} */
        var emitObj = {
            selections: this.selections,
            token: 'candidate'
        };
        this.selectionsChange.emit(emitObj);
    };
    /**
     *  取消选中
     * @param $event 取消勾选的数据
     */
    /**
     *  取消选中
     * @param {?} $event 取消勾选的数据
     * @return {?}
     */
    GroupComponent.prototype.cancelSelections = /**
     *  取消选中
     * @param {?} $event 取消勾选的数据
     * @return {?}
     */
    function ($event) {
        var _this = this;
        if (this.items.findIndex((/**
         * @param {?} item
         * @return {?}
         */
        function (item) { return item[_this.idField] === $event.id; })) === -1) {
            return;
        }
        this.items.forEach((/**
         * @param {?} item
         * @return {?}
         */
        function (item) {
            if (item[_this.idField] === $event.id) {
                item.checked = false;
            }
        }));
        this.selections.forEach((/**
         * @param {?} selection
         * @param {?} index
         * @return {?}
         */
        function (selection, index) {
            if ($event.id === selection[_this.idField]) {
                _this.selections.splice(index, 1);
            }
        }));
        this.allChecked = false;
    };
    /**
     * 全部取消勾选
     */
    /**
     * 全部取消勾选
     * @return {?}
     */
    GroupComponent.prototype.clearCheckeds = /**
     * 全部取消勾选
     * @return {?}
     */
    function () {
        this.items.forEach((/**
         * @param {?} item
         * @return {?}
         */
        function (item) {
            item.checked = false;
        }));
        this.allChecked = false;
        this.selections = [];
    };
    /**
     * @return {?}
     */
    GroupComponent.prototype.clearUserIds = /**
     * @return {?}
     */
    function () {
        this.userIds = '';
    };
    /**
     * 选中并插入当前行数据到右侧
     * @param data 当前行的数据
     * @param collection 暂存当前数据的集合
     */
    /**
     * 选中并插入当前行数据到右侧
     * @param {?} data 当前行的数据
     * @return {?}
     */
    GroupComponent.prototype._insertOneIntoSelections = /**
     * 选中并插入当前行数据到右侧
     * @param {?} data 当前行的数据
     * @return {?}
     */
    function (data) {
        // 如果当前数据已经移入右侧数据，则返回。
        if (this._isInArray(data[this.idField], this.idField, this.selections) > -1) {
            return;
        }
        this.selections.push(data);
        this.selections = this.selections.slice();
    };
    /**
     * 判断是否在内
     * @param value value
     * @param field field
     * @param array array
     * @returns 位置索引
     */
    /**
     * 判断是否在内
     * @param {?} value value
     * @param {?} field field
     * @param {?} array array
     * @return {?} 位置索引
     */
    GroupComponent.prototype._isInArray = /**
     * 判断是否在内
     * @param {?} value value
     * @param {?} field field
     * @param {?} array array
     * @return {?} 位置索引
     */
    function (value, field, array) {
        if (!field || !value) {
            throw new Error(this.validElementsInfo);
        }
        return array.findIndex((/**
         * @param {?} item
         * @return {?}
         */
        function (item) { return value === item[field]; }));
    };
    /**
     * 翻页检查：人员展示区的勾选状态与已选人员区是否对应
     */
    /**
     * 翻页检查：人员展示区的勾选状态与已选人员区是否对应
     * @return {?}
     */
    GroupComponent.prototype.toggleChecked = /**
     * 翻页检查：人员展示区的勾选状态与已选人员区是否对应
     * @return {?}
     */
    function () {
        var _this = this;
        this.items.forEach((/**
         * @param {?} item
         * @return {?}
         */
        function (item) {
            if (_this._isInArray(item[_this.idField], _this.idField, _this.selections) > -1) {
                item.checked = true;
            }
            else {
                item.checked = false;
            }
        }));
        if (this.isAllChecked()) {
            this.allChecked = true;
        }
        else {
            this.allChecked = false;
        }
    };
    /**
     * @private
     * @return {?}
     */
    GroupComponent.prototype.isAllChecked = /**
     * @private
     * @return {?}
     */
    function () {
        var _this = this;
        /** @type {?} */
        var count = 0;
        /** @type {?} */
        var allChecked = false;
        this.items.forEach((/**
         * @param {?} item
         * @return {?}
         */
        function (item) {
            _this.selections.forEach((/**
             * @param {?} selection
             * @return {?}
             */
            function (selection) {
                if (item[_this.idField] === selection[_this.idField]) {
                    count += 1;
                }
            }));
        }));
        if (this.items.length === count && count > 0) {
            allChecked = true;
        }
        return allChecked;
    };
    /**
     * @private
     * @param {?} data
     * @return {?}
     */
    GroupComponent.prototype.changeDisplayOrgAllPath = /**
     * @private
     * @param {?} data
     * @return {?}
     */
    function (data) {
        if (!data) {
            return '';
        }
        /** @type {?} */
        var orgAllPathArray = data.split('_');
        return orgAllPathArray.reverse().join('_');
    };
    /**
     * @param {?} index
     * @param {?} item
     * @return {?}
     */
    GroupComponent.prototype.trackByFn = /**
     * @param {?} index
     * @param {?} item
     * @return {?}
     */
    function (index, item) {
        return index;
    };
    GroupComponent.decorators = [
        { type: Component, args: [{
                    selector: 'lib-group',
                    template: "<div class=\"candidate flex-left\" style=\"position:relative; border-right: 1px solid #DEE1EA; overflow: hidden;\">\r\n    <perfect-scrollbar *ngIf=\"groupData.personal.length || groupData.public.length\">\r\n        <div class=\"h-100\">\r\n            <div class=\"group_blank_15\"></div>\r\n            <div class=\"group-top-tree\">\r\n                <span class=\"f-icon\" [class.f-icon-minus-outline]=\"publicVisible\"\r\n                    [class.f-icon-plus-outline]=\"!publicVisible\" (click)=\"toggleVisible($event, publicToken)\"></span>\r\n                    {{'personnelSelector.group.publicGroup' | locale}}\r\n            </div>\r\n            <ng-template [ngIf]=\"publicVisible\">\r\n                <div class=\"s-opCell-f\" [class.active]=\"selectedGroupId === item[groupIdField]\" title=\"\"\r\n                    *ngFor=\"let item of groupData.public\" (click)=\"getPersonnelsByGroup(item, publicToken)\">\r\n                    <div class=\"s-opCell-f-group\">\r\n                        <farris-avatar [avatarWidth]=\"32\" [avatarHeight]=\"32\" [cover]=\"item['avatar']\" [readonly]=\"true\"\r\n                            class=\"s-opCell-a\">\r\n                        </farris-avatar>\r\n                        <div class=\"s-opCell-d\">\r\n                            <p class=\"s-opCell-d1\">{{item.title}} {{item.total}}\u4EBA</p>\r\n                            <p class=\"s-opCell-d2\" title=\"{{item.description}}\">{{item.description}}</p>\r\n                        </div>\r\n                    </div>\r\n                    <!-- <span class=\"span-find-details\">\u67E5\u770B\u8BE6\u60C5</span> -->\r\n                </div>\r\n            </ng-template>\r\n            <div class=\"group_blank_15\"></div>\r\n            <div class=\"group-top-tree\">\r\n                <span class=\"f-icon\" [class.f-icon-minus-outline]=\"personalVisible\"\r\n                    [class.f-icon-plus-outline]=\"!personalVisible\"\r\n                    (click)=\"toggleVisible($event, personalToken)\"></span>\r\n                    {{'personnelSelector.group.privateGroup' | locale}}\r\n            </div>\r\n            <ng-template [ngIf]=\"personalVisible\">\r\n                <div class=\"s-opCell-f\" [class.active]=\"selectedGroupId === item[groupIdField]\"\r\n                    *ngFor=\"let item of groupData.personal\" (click)=\"getPersonnelsByGroup(item, personalToken)\">\r\n                    <div class=\"s-opCell-f-group\">\r\n                        <farris-avatar [avatarWidth]=\"32\" [avatarHeight]=\"32\" [cover]=\"item['avatar']\" [readonly]=\"true\"\r\n                            class=\"s-opCell-a\">\r\n                        </farris-avatar>\r\n                        <div class=\"s-opCell-d\">\r\n                            <p class=\"s-opCell-d1\">{{item.title}} {{item.total}} {{'personnelSelector.group.items' | locale}}</p>\r\n                            <p class=\"s-opCell-d2\" title=\"{{item.description}}\">{{item.description}}</p>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"s-opCell-edit\">\r\n                        <span class=\"f-icon f-icon-new-edit\" (click)=\"editGroup($event, item)\"></span>\r\n                        <span class=\"f-icon f-icon-minus-circle default-light-color\"\r\n                            (click)=\"deleteGroup($event, item)\"></span>\r\n                    </div>\r\n                    <!-- <span class=\"span-find-details\">\u67E5\u770B\u8BE6\u60C5</span> -->\r\n                </div>\r\n            </ng-template>\r\n        </div>\r\n    </perfect-scrollbar>\r\n    <!-- <div class=\"saved-group\" (click)=\"setMyGroup()\"><span class=\"f-icon f-icon-home-setup\"></span>\u8BBE\u7F6E\u6211\u7684\u7FA4\u7EC4\r\n    </div> -->\r\n    <div *ngIf=\"groupData.personal.length === 0 && groupData.public.length === 0\"\r\n        [ngStyle]=\"{'background-image': noDataImg}\" class=\"fp-candidate-nodata\">\r\n        {{'personnelSelector.tabCommon.noUserData' | locale}}</div>\r\n</div>\r\n<div class=\"candidate flex-right\">\r\n    <div class=\"candidate-title\" *ngIf=\"groupData?.public.length > 0 || groupData?.personal.length > 0\">\r\n        <div class=\"custom-control custom-checkbox mb-2\" *ngIf=\"multiSelect\">\r\n            <input class=\"custom-control-input\" [id]=\"allIndexId\" type=\"checkbox\" [(ngModel)]=\"allChecked\">\r\n            <label class=\"custom-control-label\" [for]=\"allIndexId\" (click)=\"toggleAll()\">{{'personnelSelector.tabCommon.checkAll' | locale}}</label>\r\n        </div>\r\n        <div *ngIf=\"!multiSelect\"></div>\r\n        <div (click)=\"toggleGroupPersonnelDialog(true, currentGroupType)\"\r\n            [ngStyle]=\"{'color': currentGroupType === publicToken ? '#d8d8d8' : '#2a87ff', 'cursor': currentGroupType === publicToken ? 'not-allowed' : 'pointer'}\">\r\n            <span class=\"f-icon f-icon-user\"></span>\r\n            {{'personnelSelector.group.appendMembers' | locale}}\r\n        </div>\r\n    </div>\r\n    <perfect-scrollbar *ngIf=\"items.length!==0\">\r\n        <div class=\"candidate-content\">\r\n            <div *ngFor=\"let data of items; let i = index;trackBy: trackByFn\" class=\"s-selectedPerson\">\r\n                <div class=\"custom-control custom-checkbox mb-2\">\r\n                    <input class=\"custom-control-input\" [(ngModel)]=\"data.checked\" [id]=\"data.indexId\" type=\"checkbox\">\r\n                    <label class=\"custom-control-label\" [for]=\"data.indexId\" (click)=\"toggleOne(data)\">\r\n                        <div style=\"display: flex; height: 32px; margin: -21px 0 0 24px;\">\r\n                            <farris-avatar [avatarWidth]=\"32\" [avatarHeight]=\"32\" [cover]=\"data.ext1\" [readonly]=\"true\">\r\n                            </farris-avatar>\r\n                            <div style=\"margin-left: 11px; margin-top: -2px;  padding-right: 10px; overflow: hidden;\">\r\n                                <p class=\"candidate-content-title\" title=\"{{data.displayName}}\">\r\n                                    {{data.displayName}}</p>\r\n                                <p class=\"candidate-content-orgpath\" title=\"{{data.orgAllPath}}\">\r\n                                    {{data.orgAllPath}}</p>\r\n                            </div>\r\n                        </div>\r\n                    </label>\r\n                </div>\r\n                <span class=\"f-icon f-icon-star\" *ngIf=\"enableFavorites\" [class.default-light-color]=\"data.inFavorites\"\r\n                    [class.default-dark-color]=\"!data.inFavorites\" (click)=\"toggleFavorites($event, data)\"></span>\r\n            </div>\r\n\r\n        </div>\r\n    </perfect-scrollbar>\r\n    <div *ngIf=\"items.length===0\" [ngStyle]=\"{'background-image': noDataImg}\" class=\"fp-candidate-nodata\">\r\n        {{'personnelSelector.tabCommon.noUserData' | locale}}</div>\r\n</div>\r\n\r\n<!--\u7FA4\u7EC4\u5F39\u7A97\u9009\u4EBA--->\r\n<div class=\"s-group-dialog-container\" *ngIf=\"showGroupPersonnelDialog\">\r\n    <div class=\"s-personnel-group-title\">\r\n        <span class=\"f-icon f-sidebar-close\" (click)=\"toggleGroupPersonnelDialog(false)\"></span>{{'personnelSelector.group.appendMembers' | locale}}\r\n    </div>\r\n    <lib-org-personnel #groupPersonnels style=\"margin-top: 15px;\" [multiSelect]=\"true\" [idField]=\"idField\"\r\n        [pageSize]=\"pageSize\" [userTypeMode]=\"userTypeMode\" [personnelOrderField]=\"personnelOrderField\"\r\n        [includeStopUser]=\"includeStopUser\" [orgId]=\"orgId\" [shownOrgId]=\"shownOrgId\" [enablePagination]=\"enablePagination\"\r\n        [absUserOrgUrl]=\"absUserOrgUrl\" [absOrgType]=\"absOrgType\" [includeStopOrg]=\"includeStopOrg\"\r\n        [originalTreeData]=\"originalTreeData\" [filterId]=\"filterId\" [enableFavorites]=\"enableFavorites\"\r\n        [treeListData]=\"treeListData\" [orgIdField]=\"orgIdField\" [enableHierarchicalLoading]=\"enableHierarchicalLoading\"\r\n        [showUserCode]=\"showUserCode\" [withPermission]=\"withPermission\" [onlyCurrentOrg]=\"onlyCurrentOrg\"\r\n        [showOrgAllPathByDesc]=\"showOrgAllPathByDesc\" [userManagePathResult]=\"userManagePathResult\"\r\n        [enableSecurityControl]=\"enableSecurityControl\" [securityLevel]=\"securityLevel\">\r\n    </lib-org-personnel>\r\n    <div class=\"s-personnel-group-footer\">\r\n        <input type=\"button\" class=\"btn btn-primary fr\" style=\"width: 100px;\" value=\"{{'personnelSelector.selection.confirm' | locale}}\"\r\n            (click)=\"appendGroupPersonnel()\" />\r\n        <input type=\"button\" class=\"btn btn-secondary fr mr-3\" value=\"{{'personnelSelector.selection.cancel' | locale}}\" (click)=\"toggleGroupPersonnelDialog(false)\" />\r\n    </div>\r\n</div>\r\n<div class=\"s-help-bg\" *ngIf=\"showGroupPersonnelDialog\"></div>",
                    styles: [":host{display:-webkit-box;display:flex;height:100%;-webkit-box-flex:1;flex:1;overflow:hidden;position:static}.candidate{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;overflow:hidden}.candidate.flex-left{-webkit-box-flex:0;flex:0 0 49%}.candidate.flex-right{-webkit-box-flex:0;flex:0 0 51%}.candidate .s-opCell-f{display:-webkit-box;display:flex;height:40px;border-radius:6px;padding-left:10px;-webkit-box-pack:justify;justify-content:space-between;margin:1px 5px 0;cursor:pointer}.candidate .s-opCell-f .s-opCell-f-group{display:-webkit-box;display:flex;-webkit-box-flex:1;flex:1}.candidate .s-opCell-f.active,.candidate .s-opCell-f:hover{background-color:#eef5ff}.candidate .s-opCell-f:hover .s-opCell-edit{visibility:visible}.candidate .s-opCell-a{margin-top:4px;margin-left:6px}.candidate .s-opCell-d{-webkit-box-flex:1;flex:1;overflow:hidden;margin:1.5px 10px 0}.candidate .s-opCell-d1{line-height:20px;font-size:13px;height:20px;color:#2d2f33;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;margin:0;padding:0;max-width:210px}.candidate .s-opCell-d2{color:#a8adb8;font-size:12px;line-height:14px;height:14px;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;margin:0;padding:0;max-width:210px}.candidate .s-opCell-f .f-avatar .f-avatar-image{display:block!important}.candidate .fp-candidate-nodata{width:100px;height:100px;text-align:center;background-repeat:no-repeat;background-size:contain;margin:80px auto 0;color:#b4bccc;padding-top:110px}.candidate .s-opCell-f:hover .span-find-details{display:block}.candidate .s-opCell-f .span-find-details{margin-right:5px;line-height:40px;color:#2a87ff;width:60px;display:none}.candidate .s-opCell-f .s-opCell-edit{line-height:40px;width:60px;text-align:center;visibility:hidden}.candidate .s-opCell-f .s-opCell-edit .f-icon-new-edit{margin-right:10px;color:#949aa6}.candidate .s-opCell-f .s-opCell-edit .f-icon-minus-circle{color:#f46160}.candidate .group-top-tree{margin:0 15px 10px;font-size:13px}.candidate .group_blank_15{width:100%;height:15px}.candidate .group-top-tree .f-icon{color:#d5d4d7;margin-right:8px}.candidate .group-top-tree .k-checkbox-label::after,.candidate .group-top-tree .k-checkbox-label::before{top:1px}.candidate .candidate-content{clear:both}.candidate .s-selectedPerson:first-child{margin-top:0}.candidate .s-selectedPerson{min-width:240px;float:left;width:calc(100% - 6px);position:relative;height:40px;padding:5px 12px;margin:0 3px 1px}.candidate .s-selectedPerson:hover{background:#eef5ff;border-radius:5px}.candidate .f-icon{font-size:14px}.candidate .s-selectedPerson .f-icon-star{position:absolute;top:13px;right:15px;font-size:14px}.candidate .s-selectedPerson .default-light-color{color:#f7b500}.candidate .s-selectedPerson .default-dark-color{color:#d8dce6}.candidate .k-checkbox-label::before{top:10px;font-size:16px;width:14px;height:14px}.candidate .k-checkbox-label::after{top:10px;font-size:16px;width:15px;height:14px}.candidate .candidate-content-title{margin:0;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;font-size:13px}.candidate .candidate-content-orgpath{margin:0;font-size:12px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;color:#c7ccd7}.candidate .candidate-title{display:-webkit-box;display:flex;-webkit-box-pack:justify;justify-content:space-between}.candidate .candidate-title .custom-control{margin:10px 0 0 15px;line-height:35px}.candidate .s-selectedPerson .custom-control-label::before{top:8px}.candidate .candidate-title .title-clearall{margin:5px 15px 0 0;color:#2a87ff;cursor:pointer;line-height:35px}.candidate .candidate-title div{line-height:35px;margin:9px 10px 0 0;color:#2a87ff;cursor:pointer}.candidate .saved-group{position:absolute;width:111px;height:26px;line-height:26px;background:#eaedf2;border-radius:5px;text-align:center;font-size:13px;bottom:10px;left:13px;z-index:999;color:#909ba2;cursor:pointer}.candidate .saved-group:hover{color:#2a87ff;background:#eaf4ff}.candidate .saved-group:hover .f-icon{color:#2a87ff}.candidate .saved-group .f-icon{color:#909ba2;margin-right:5px;cursor:pointer;font-size:14px}.s-group-dialog-container{height:520px;width:700px;position:fixed;left:50%;top:50%;margin:-260px 0 0 -350px;background:#fff;padding:15px 20px;border-radius:10px;display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;z-index:9999}.s-group-dialog-container .s-personnel-group-footer{margin-top:15px}.s-help-bg{background:rgb(0 0 0 / 15%);position:fixed;left:0;top:0;right:0;bottom:0;z-index:9997}.s-group-dialog-container .s-personnel-group-title{font-size:17px;line-height:24px;color:#2d2f33;font-weight:600}.s-group-dialog-container .s-personnel-group-title .f-icon{float:right;font-size:20px;color:#878d99;margin-top:3px;cursor:pointer}.s-group-dialog-container .s-personnel-group-footer .fr{float:right;height:32px}"]
                }] }
    ];
    /** @nocollapse */
    GroupComponent.ctorParameters = function () { return [
        { type: undefined, decorators: [{ type: Optional }, { type: Inject, args: [GROUP_SERVICE,] }] },
        { type: FavoritesTool, decorators: [{ type: Optional }] }
    ]; };
    GroupComponent.propDecorators = {
        groupPersonnelComponent: [{ type: ViewChild, args: ['groupPersonnels',] }],
        idField: [{ type: Input }],
        multiSelect: [{ type: Input }],
        absOrgType: [{ type: Input }],
        searchText: [{ type: Input }],
        orgId: [{ type: Input }],
        shownOrgId: [{ type: Input }],
        userIds: [{ type: Input }],
        includeStopUser: [{ type: Input }],
        searchPage: [{ type: Input }],
        includeCurrentUser: [{ type: Input }],
        busNum: [{ type: Input }],
        enableFavorites: [{ type: Input }],
        pageSize: [{ type: Input }],
        userTypeMode: [{ type: Input }],
        orderField: [{ type: Input }],
        enablePagination: [{ type: Input }],
        absUserOrgUrl: [{ type: Input }],
        treeListData: [{ type: Input }],
        orgIdField: [{ type: Input }],
        enableHierarchicalLoading: [{ type: Input }],
        includeStopOrg: [{ type: Input }],
        originalTreeData: [{ type: Input }],
        personnelOrderField: [{ type: Input }],
        filterId: [{ type: Input }],
        dataLoadingService: [{ type: Input }],
        validElementsInfo: [{ type: Input }],
        groupExtendInfo: [{ type: Input }],
        onlyCurrentOrg: [{ type: Input }],
        withPermission: [{ type: Input }],
        showOrgAllPathByDesc: [{ type: Input }],
        userManagePathResult: [{ type: Input }],
        enableSecurityControl: [{ type: Input }],
        securityLevel: [{ type: Input }],
        selectionsChange: [{ type: Output }],
        groupChange: [{ type: Output }]
    };
    return GroupComponent;
}());
export { GroupComponent };
if (false) {
    /** @type {?} */
    GroupComponent.prototype.groupPersonnelComponent;
    /** @type {?} */
    GroupComponent.prototype.idField;
    /** @type {?} */
    GroupComponent.prototype.multiSelect;
    /** @type {?} */
    GroupComponent.prototype.absOrgType;
    /** @type {?} */
    GroupComponent.prototype.searchText;
    /** @type {?} */
    GroupComponent.prototype.orgId;
    /** @type {?} */
    GroupComponent.prototype.shownOrgId;
    /** @type {?} */
    GroupComponent.prototype.userIds;
    /** @type {?} */
    GroupComponent.prototype.includeStopUser;
    /** @type {?} */
    GroupComponent.prototype.searchPage;
    /** @type {?} */
    GroupComponent.prototype.includeCurrentUser;
    /** @type {?} */
    GroupComponent.prototype.busNum;
    /** @type {?} */
    GroupComponent.prototype.enableFavorites;
    /** @type {?} */
    GroupComponent.prototype.pageSize;
    /** @type {?} */
    GroupComponent.prototype.userTypeMode;
    /** @type {?} */
    GroupComponent.prototype.orderField;
    /** @type {?} */
    GroupComponent.prototype.enablePagination;
    /** @type {?} */
    GroupComponent.prototype.absUserOrgUrl;
    /** @type {?} */
    GroupComponent.prototype.treeListData;
    /** @type {?} */
    GroupComponent.prototype.orgIdField;
    /** @type {?} */
    GroupComponent.prototype.enableHierarchicalLoading;
    /** @type {?} */
    GroupComponent.prototype.includeStopOrg;
    /** @type {?} */
    GroupComponent.prototype.originalTreeData;
    /** @type {?} */
    GroupComponent.prototype.personnelOrderField;
    /** @type {?} */
    GroupComponent.prototype.filterId;
    /** @type {?} */
    GroupComponent.prototype.dataLoadingService;
    /** @type {?} */
    GroupComponent.prototype.validElementsInfo;
    /** @type {?} */
    GroupComponent.prototype.groupExtendInfo;
    /** @type {?} */
    GroupComponent.prototype.onlyCurrentOrg;
    /** @type {?} */
    GroupComponent.prototype.withPermission;
    /** @type {?} */
    GroupComponent.prototype.showOrgAllPathByDesc;
    /** @type {?} */
    GroupComponent.prototype.userManagePathResult;
    /** @type {?} */
    GroupComponent.prototype.enableSecurityControl;
    /** @type {?} */
    GroupComponent.prototype.securityLevel;
    /** @type {?} */
    GroupComponent.prototype.selectionsChange;
    /** @type {?} */
    GroupComponent.prototype.groupChange;
    /** @type {?} */
    GroupComponent.prototype.groupIdField;
    /** @type {?} */
    GroupComponent.prototype.userIdField;
    /** @type {?} */
    GroupComponent.prototype.selections;
    /** @type {?} */
    GroupComponent.prototype.cloneUserIds;
    /** @type {?} */
    GroupComponent.prototype.cloneSelections;
    /** @type {?} */
    GroupComponent.prototype.noDataImg;
    /** @type {?} */
    GroupComponent.prototype.allChecked;
    /** @type {?} */
    GroupComponent.prototype.items;
    /** @type {?} */
    GroupComponent.prototype.favoritesList;
    /** @type {?} */
    GroupComponent.prototype.groupData;
    /** @type {?} */
    GroupComponent.prototype.personnelList;
    /** @type {?} */
    GroupComponent.prototype.groupPersonnels;
    /** @type {?} */
    GroupComponent.prototype.publicVisible;
    /** @type {?} */
    GroupComponent.prototype.personalVisible;
    /** @type {?} */
    GroupComponent.prototype.publicToken;
    /** @type {?} */
    GroupComponent.prototype.personalToken;
    /** @type {?} */
    GroupComponent.prototype.selectedGroupId;
    /** @type {?} */
    GroupComponent.prototype.allIndexId;
    /** @type {?} */
    GroupComponent.prototype.showGroupPersonnelDialog;
    /** @type {?} */
    GroupComponent.prototype.currentGroupType;
    /** @type {?} */
    GroupComponent.prototype.showUserCode;
    /** @type {?} */
    GroupComponent.prototype.loadingServiceMessage;
    /** @type {?} */
    GroupComponent.prototype.cdRef;
    /** @type {?} */
    GroupComponent.prototype.userInShownOrg;
    /**
     * @type {?}
     * @private
     */
    GroupComponent.prototype.groupService;
    /**
     * @type {?}
     * @private
     */
    GroupComponent.prototype.favoritesTool;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZ3JvdXAuY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6Im5nOi8vQGZhcnJpcy91aS1wZXJzb25uZWwtc2VsZWN0b3IvIiwic291cmNlcyI6WyJsaWIvdGFiLWdyb3VwL2dyb3VwLmNvbXBvbmVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7OztBQUFBLE9BQU8sRUFBb0MsU0FBUyxFQUFFLFlBQVksRUFBRSxNQUFNLEVBQUUsS0FBSyxFQUFVLFFBQVEsRUFBRSxNQUFNLEVBQUUsU0FBUyxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBQzlJLE9BQU8sS0FBSyxDQUFDLE1BQU0sV0FBVyxDQUFDO0FBQy9CLE9BQU8sRUFBRSxTQUFTLEVBQUUsTUFBTSx1QkFBdUIsQ0FBQztBQUNsRCxPQUFPLEVBQUUsYUFBYSxFQUFFLE1BQU0sdUJBQXVCLENBQUM7QUFDdEQsT0FBTyxFQUFFLGFBQWEsRUFBRSxNQUFNLDRCQUE0QixDQUFDO0FBRTNELE9BQU8sRUFBRSxxQkFBcUIsRUFBRSxNQUFNLG1DQUFtQyxDQUFDO0FBQzFFLE9BQU8sRUFBRSxrQkFBa0IsRUFBRSxNQUFNLDZCQUE2QixDQUFDO0FBSWpFO0lBNEVJLHdCQUMrQyxZQUFZLEVBQ25DLGFBQTRCO1FBREwsaUJBQVksR0FBWixZQUFZLENBQUE7UUFDbkMsa0JBQWEsR0FBYixhQUFhLENBQWU7UUFqRTNDLFlBQU8sR0FBRyxRQUFRLENBQUM7UUFJbkIsVUFBSyxHQUFHLEVBQUUsQ0FBQztRQUNYLGVBQVUsR0FBRyxFQUFFLENBQUM7UUFDaEIsWUFBTyxHQUFHLEVBQUUsQ0FBQztRQU9iLGFBQVEsR0FBRyxFQUFFLENBQUM7UUFLZCxpQkFBWSxHQUFHLEVBQUUsQ0FBQztRQWdCakIscUJBQWdCLEdBQUcsSUFBSSxZQUFZLEVBQU8sQ0FBQztRQUMzQyxnQkFBVyxHQUFHLElBQUksWUFBWSxFQUFPLENBQUM7UUFFaEQsaUJBQVksR0FBRyxJQUFJLENBQUM7UUFDcEIsZ0JBQVcsR0FBRyxRQUFRLENBQUM7UUFD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QUF5Qjs7SUFDekIsaUNBQXNCOztJQUN0Qix5Q0FBa0M7O0lBQ2xDLG9DQUE2Qjs7SUFDN0IsNENBQXFDOztJQUNyQyxnQ0FBd0I7O0lBQ3hCLHlDQUFrQzs7SUFFbEMsa0NBQXVCOztJQUN2QixzQ0FBOEI7O0lBQzlCLG9DQUE0Qjs7SUFDNUIsMENBQW1DOztJQUNuQyx1Q0FBK0I7O0lBQy9CLHNDQUEyQjs7SUFDM0Isb0NBQTRCOztJQUM1QixtREFBNEM7O0lBQzVDLHdDQUFpQzs7SUFDakMsMENBQStCOztJQUMvQiw2Q0FBcUM7O0lBQ3JDLGtDQUEwQjs7SUFDMUIsNENBQWdEOztJQUNoRCwyQ0FBbUM7O0lBQ25DLHlDQUFpQzs7SUFDakMsd0NBQWlDOztJQUNqQyx3Q0FBaUM7O0lBQ2pDLDhDQUF1Qzs7SUFDdkMsOENBQW1DOztJQUNuQywrQ0FBd0M7O0lBQ3hDLHVDQUFzQzs7SUFDdEMsMENBQXFEOztJQUNyRCxxQ0FBZ0Q7O0lBRWhELHNDQUFvQjs7SUFDcEIscUNBQXVCOztJQUN2QixvQ0FBdUI7O0lBQ3ZCLHNDQUFrQjs7SUFDbEIseUNBQXFCOztJQUNyQixtQ0FBc0I7O0lBQ3RCLG9DQUFtQjs7SUFDbkIsK0JBQVc7O0lBQ1gsdUNBQW1COztJQUNuQixtQ0FBZ0Q7O0lBQ2hELHVDQUFtQjs7SUFDbkIseUNBQXFCOztJQUNyQix1Q0FBcUI7O0lBQ3JCLHlDQUF1Qjs7SUFDdkIscUNBQXVCOztJQUN2Qix1Q0FBMkI7O0lBQzNCLHlDQUF3Qjs7SUFDeEIsb0NBQW1COztJQUNuQixrREFBaUM7O0lBQ2pDLDBDQUE0Qjs7SUFFNUIsc0NBQW9COztJQUNwQiwrQ0FBOEI7O0lBQzlCLCtCQUF5Qjs7SUFDekIsd0NBQW9COzs7OztJQUdoQixzQ0FBdUQ7Ozs7O0lBQ3ZELHVDQUFnRCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFmdGVyVmlld0luaXQsIENoYW5nZURldGVjdG9yUmVmLCBDb21wb25lbnQsIEV2ZW50RW1pdHRlciwgSW5qZWN0LCBJbnB1dCwgT25Jbml0LCBPcHRpb25hbCwgT3V0cHV0LCBWaWV3Q2hpbGQgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuaW1wb3J0ICogYXMgXyBmcm9tICdsb2Rhc2gtZXMnO1xyXG5pbXBvcnQgeyBub0RhdGFJbWcgfSBmcm9tICcuLi8uLi9hc3NldHMvcmVzb3VyY2UnO1xyXG5pbXBvcnQgeyBHUk9VUF9TRVJWSUNFIH0gZnJvbSAnLi4vLi4vdXRpbHMvYXBwLnRva2VuJztcclxuaW1wb3J0IHsgRmF2b3JpdGVzVG9vbCB9IGZyb20gJy4uLy4uL3V0aWxzL2Zhdm9yaXRlcy50b29sJztcclxuaW1wb3J0IHsgR3JvdXAsIEdyb3VwSXRlbSB9IGZyb20gJy4uLy4uL3V0aWxzL2dyb3VwLnRvb2wnO1xyXG5pbXBvcnQgeyBPcmdQZXJzb25uZWxDb21wb25lbnQgfSBmcm9tICcuLi90YWItb3JnLXBlcnNvbm5lbC9vcC5jb21wb25lbnQnO1xyXG5pbXBvcnQgeyBEYXRhTG9hZGluZ1NlcnZpY2UgfSBmcm9tICcuLi8uLi91dGlscy9sb2FkaW5nLXNlcnZpY2UnO1xyXG5pbXBvcnQgeyBTZWN1cml0eUxldmVsIH0gZnJvbSAnLi4vLi4vdXRpbHMvdXNlci50eXBlJztcclxuXHJcbmRlY2xhcmUgY29uc3QgbWV0aG9kOiBhbnk7XHJcbkBDb21wb25lbnQoe1xyXG4gICAgc2VsZWN0b3I6ICdsaWItZ3JvdXAnLFxyXG4gICAgdGVtcGxhdGVVcmw6ICcuL2dyb3VwLmNvbXBvbmVudC5odG1sJyxcclxuICAgIHN0eWxlVXJsczogWycuL2dyb3VwLmNvbXBvbmVudC5jc3MnXSxcclxuICAgIC8vIHByb3ZpZGVyczogW3tcclxuICAgIC8vICAgICBwcm92aWRlOiBHUk9VUF9TRVJWSUNFLFxyXG4gICAgLy8gICAgIHVzZUNsYXNzOiBHcm91cFRvb2xcclxuICAgIC8vIH1dXHJcbn0pXHJcbmV4cG9ydCBjbGFzcyBHcm91cENvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCwgQWZ0ZXJWaWV3SW5pdCB7XHJcblxyXG4gICAgQFZpZXdDaGlsZCgnZ3JvdXBQZXJzb25uZWxzJykgZ3JvdXBQZXJzb25uZWxDb21wb25lbnQ6IE9yZ1BlcnNvbm5lbENvbXBvbmVudDtcclxuXHJcbiAgICBASW5wdXQoKSBpZEZpZWxkID0gJ3VzZXJJZCc7XHJcbiAgICBASW5wdXQoKSBtdWx0aVNlbGVjdDogYW55O1xyXG4gICAgQElucHV0KCkgYWJzT3JnVHlwZTogc3RyaW5nO1xyXG4gICAgQElucHV0KCkgc2VhcmNoVGV4dDogYW55O1xyXG4gICAgQElucHV0KCkgb3JnSWQgPSAnJztcclxuICAgIEBJbnB1dCgpIHNob3duT3JnSWQgPSAnJztcclxuICAgIEBJbnB1dCgpIHVzZXJJZHMgPSAnJztcclxuICAgIEBJbnB1dCgpIGluY2x1ZGVTdG9wVXNlcjogYm9vbGVhbjtcclxuICAgIEBJbnB1dCgpIHNlYXJjaFBhZ2U6IGJvb2xlYW47XHJcbiAgICBASW5wdXQoKSBpbmNsdWRlQ3VycmVudFVzZXI6IGJvb2xlYW47XHJcbiAgICBASW5wdXQoKSBidXNOdW06IHN0cmluZztcclxuICAgIEBJbnB1dCgpIGVuYWJsZUZhdm9yaXRlczogYm9vbGVhbjtcclxuXHJcbiAgICBASW5wdXQoKSBwYWdlU2l6ZSA9IDEwO1xyXG4gICAgQElucHV0KCkgdXNlclR5cGVNb2RlOiBzdHJpbmc7XHJcbiAgICBASW5wdXQoKSBvcmRlckZpZWxkOiBzdHJpbmc7XHJcbiAgICBASW5wdXQoKSBlbmFibGVQYWdpbmF0aW9uOiBib29sZWFuO1xyXG4gICAgQElucHV0KCkgYWJzVXNlck9yZ1VybDogc3RyaW5nO1xyXG4gICAgQElucHV0KCkgdHJlZUxpc3REYXRhID0gW107XHJcbiAgICBASW5wdXQoKSBvcmdJZEZpZWxkOiBzdHJpbmc7XHJcbiAgICBASW5wdXQoKSBlbmFibGVIaWVyYXJjaGljYWxMb2FkaW5nOiBib29sZWFuO1xyXG4gICAgQElucHV0KCkgaW5jbHVkZVN0b3BPcmc6IGJvb2xlYW47XHJcbiAgICBASW5wdXQoKSBvcmlnaW5hbFRyZWVEYXRhOiBhbnk7XHJcbiAgICBASW5wdXQoKSBwZXJzb25uZWxPcmRlckZpZWxkOiBzdHJpbmc7XHJcbiAgICBASW5wdXQoKSBmaWx0ZXJJZDogc3RyaW5nO1xyXG4gICAgQElucHV0KCkgZGF0YUxvYWRpbmdTZXJ2aWNlOiBEYXRhTG9hZGluZ1NlcnZpY2U7XHJcbiAgICBASW5wdXQoKSB2YWxpZEVsZW1lbnRzSW5mbzogc3RyaW5nO1xyXG4gICAgQElucHV0KCkgZ3JvdXBFeHRlbmRJbmZvOiBzdHJpbmc7XHJcbiAgICBASW5wdXQoKSBvbmx5Q3VycmVudE9yZzogYm9vbGVhbjtcclxuICAgIEBJbnB1dCgpIHdpdGhQZXJtaXNzaW9uOiBib29sZWFuO1xyXG4gICAgQElucHV0KCkgc2hvd09yZ0FsbFBhdGhCeURlc2M6IGJvb2xlYW47XHJcbiAgICBASW5wdXQoKSB1c2VyTWFuYWdlUGF0aFJlc3VsdDogYW55O1xyXG4gICAgQElucHV0KCkgZW5hYmxlU2VjdXJpdHlDb250cm9sOiBib29sZWFuO1xyXG4gICAgQElucHV0KCkgc2VjdXJpdHlMZXZlbDogU2VjdXJpdHlMZXZlbDtcclxuICAgIEBPdXRwdXQoKSBzZWxlY3Rpb25zQ2hhbmdlID0gbmV3IEV2ZW50RW1pdHRlcjxhbnk+KCk7XHJcbiAgICBAT3V0cHV0KCkgZ3JvdXBDaGFuZ2UgPSBuZXcgRXZlbnRFbWl0dGVyPGFueT4oKTtcclxuXHJcbiAgICBncm91cElkRmllbGQgPSAnaWQnO1xyXG4gICAgdXNlcklkRmllbGQgPSAndXNlcklkJztcclxuICAgIHNlbGVjdGlvbnM6IGFueVtdID0gW107XHJcbiAgICBjbG9uZVVzZXJJZHMgPSAnJztcclxuICAgIGNsb25lU2VsZWN0aW9ucyA9IFtdO1xyXG4gICAgbm9EYXRhSW1nID0gbm9EYXRhSW1nO1xyXG4gICAgYWxsQ2hlY2tlZCA9IGZhbHNlO1xyXG4gICAgaXRlbXMgPSBbXTtcclxuICAgIGZhdm9yaXRlc0xpc3QgPSBbXTtcclxuICAgIGdyb3VwRGF0YTogR3JvdXAgPSB7IHB1YmxpYzogW10sIHBlcnNvbmFsOiBbXSB9O1xyXG4gICAgcGVyc29ubmVsTGlzdCA9IFtdO1xyXG4gICAgZ3JvdXBQZXJzb25uZWxzID0gW107XHJcbiAgICBwdWJsaWNWaXNpYmxlID0gdHJ1ZTtcclxuICAgIHBlcnNvbmFsVmlzaWJsZSA9IHRydWU7XHJcbiAgICBwdWJsaWNUb2tlbiA9ICdwdWJsaWMnO1xyXG4gICAgcGVyc29uYWxUb2tlbiA9ICdwZXJzb25hbCc7XHJcbiAgICBzZWxlY3RlZEdyb3VwSWQ6IHN0cmluZztcclxuICAgIGFsbEluZGV4SWQ6IHN0cmluZztcclxuICAgIHNob3dHcm91cFBlcnNvbm5lbERpYWxvZyA9IGZhbHNlO1xyXG4gICAgY3VycmVudEdyb3VwVHlwZSA9ICdwdWJsaWMnO1xyXG4gICAgLy8g5piv5ZCm5pi+56S655So5oi357yW5Y+3XHJcbiAgICBzaG93VXNlckNvZGUgPSB0cnVlO1xyXG4gICAgbG9hZGluZ1NlcnZpY2VNZXNzYWdlOiBzdHJpbmc7XHJcbiAgICBjZFJlZjogQ2hhbmdlRGV0ZWN0b3JSZWY7XHJcbiAgICB1c2VySW5TaG93bk9yZyA9IFtdO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKFxyXG4gICAgICAgIEBPcHRpb25hbCgpIEBJbmplY3QoR1JPVVBfU0VSVklDRSkgcHJpdmF0ZSBncm91cFNlcnZpY2UsXHJcbiAgICAgICAgQE9wdGlvbmFsKCkgcHJpdmF0ZSBmYXZvcml0ZXNUb29sOiBGYXZvcml0ZXNUb29sXHJcbiAgICApIHtcclxuICAgICAgICB0aGlzLmFsbEluZGV4SWQgPSBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDE2KS5zdWJzdHJpbmcoMywgMTApXHJcbiAgICB9XHJcblxyXG4gICAgbmdPbkluaXQoKTogdm9pZCB7XHJcbiAgICAgICAgLy8g5YW85a656ICB6KGo5Y2VXHJcbiAgICAgICAgaWYgKHRoaXMuZmF2b3JpdGVzVG9vbCkge1xyXG4gICAgICAgICAgICB0aGlzLmZhdm9yaXRlc1Rvb2wuZmF2b3JpdGVzU3ViamVjdC5zdWJzY3JpYmUoZGF0YSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmZhdm9yaXRlc0xpc3QgPSBkYXRhO1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZW5hYmxlRmF2b3JpdGVzICYmICEhdGhpcy5zZWxlY3RlZEdyb3VwSWQpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmdldFBlcnNvbm5lbHNCeUdyb3VwKHsgaWQ6IHRoaXMuc2VsZWN0ZWRHcm91cElkIH0sIHRoaXMuY3VycmVudEdyb3VwVHlwZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBuZ0FmdGVyVmlld0luaXQoKTogdm9pZCB7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGVkaXRHcm91cChlOiBNb3VzZUV2ZW50LCBpdGVtOiBHcm91cEl0ZW0pIHtcclxuICAgICAgICB0aGlzLmdyb3VwQ2hhbmdlLm5leHQoaXRlbSk7XHJcbiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICBlLmNhbmNlbEJ1YmJsZSA9IHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgLy/nvqTnu4Top6blj5Hkuovku7bnsbvlnosgMe+8mmFkZCAy77yaZGVsZXRlIDPvvJp1cGRhdGUodGl0bGXlkoxkZXNjcmlwdGlvbikgNO+8mnVwZGF0ZSjov73liqDnvqTnu4TmiJDlkZgpXHJcbiAgICBkZWxldGVHcm91cChlOiBNb3VzZUV2ZW50LCBpdGVtOiBHcm91cEl0ZW0pIHtcclxuICAgICAgICBjb25zdCBoZWxwRXh0ZW5kID0gd2luZG93ICYmICh3aW5kb3cgYXMgYW55KS5oZWxwRXh0ZW5kO1xyXG4gICAgICAgIGlmIChpdGVtW3RoaXMuZ3JvdXBJZEZpZWxkXSA9PT0gdGhpcy5zZWxlY3RlZEdyb3VwSWQpIHtcclxuICAgICAgICAgICAgdGhpcy5zZWxlY3RlZEdyb3VwSWQgPSBudWxsO1xyXG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRHcm91cFR5cGUgPSB0aGlzLnB1YmxpY1Rva2VuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoaGVscEV4dGVuZCkge1xyXG4gICAgICAgICAgICBoZWxwRXh0ZW5kLmN1cmRHcm91cERhdGEoe1xyXG4gICAgICAgICAgICAgICAgaWQ6IGl0ZW1bdGhpcy5ncm91cElkRmllbGRdLFxyXG4gICAgICAgICAgICAgICAgdHlwZTogMlxyXG4gICAgICAgICAgICB9KS50aGVuKCgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuaXRlbXMgPSBbXTtcclxuICAgICAgICAgICAgICAgIHRoaXMuZ2V0R3JvdXBMaXN0KCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcih0aGlzLmdyb3VwRXh0ZW5kSW5mbyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgZS5jYW5jZWxCdWJibGUgPSB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5re75Yqg576k57uE5oiQ5ZGYXHJcbiAgICAgKi9cclxuICAgIGFwcGVuZEdyb3VwUGVyc29ubmVsKCkge1xyXG4gICAgICAgIGNvbnN0IGhlbHBFeHRlbmQgPSB3aW5kb3cgJiYgKHdpbmRvdyBhcyBhbnkpLmhlbHBFeHRlbmQ7XHJcbiAgICAgICAgY29uc3QgdXNlcklkcyA9IFtdO1xyXG4gICAgICAgIHRoaXMuZ3JvdXBQZXJzb25uZWxDb21wb25lbnQuc2VsZWN0aW9ucy5mb3JFYWNoKHNlbGVjdGlvbiA9PiB7XHJcbiAgICAgICAgICAgIHVzZXJJZHMucHVzaChzZWxlY3Rpb25bdGhpcy5pZEZpZWxkXSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgaWYgKGhlbHBFeHRlbmQpIHtcclxuICAgICAgICAgICAgaGVscEV4dGVuZC5jdXJkR3JvdXBEYXRhKHtcclxuICAgICAgICAgICAgICAgIGlkOiB0aGlzLnNlbGVjdGVkR3JvdXBJZCxcclxuICAgICAgICAgICAgICAgIHVzZXJJZHMsXHJcbiAgICAgICAgICAgICAgICB0eXBlOiA0XHJcbiAgICAgICAgICAgIH0pLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy50b2dnbGVHcm91cFBlcnNvbm5lbERpYWxvZyhmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmdldFBlcnNvbm5lbHNCeUdyb3VwKHsgaWQ6IHRoaXMuc2VsZWN0ZWRHcm91cElkIH0sIHRoaXMuY3VycmVudEdyb3VwVHlwZSk7XHJcblxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IodGhpcy5ncm91cEV4dGVuZEluZm8pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB0b2dnbGVHcm91cFBlcnNvbm5lbERpYWxvZyhzaG93OiBib29sZWFuLCBncm91cFR5cGUgPSB0aGlzLnBlcnNvbmFsVG9rZW4pIHtcclxuICAgICAgICBpZiAoZ3JvdXBUeXBlID09PSB0aGlzLnBlcnNvbmFsVG9rZW4pIHtcclxuICAgICAgICAgICAgdGhpcy5zaG93R3JvdXBQZXJzb25uZWxEaWFsb2cgPSBzaG93O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyDorr7nva7miJHnmoTnvqTnu4RcclxuICAgIC8vIHNldE15R3JvdXAoKSB7XHJcbiAgICAvLyAgICAgY29uc3Qgb3B0aW9ucyA9IHtcclxuICAgIC8vICAgICAgICAgLy8g5omT5byA6I+c5Y2V77yMZnVuY0lk6ZyA6KaB5oyH5a6a77yMYXBwSWTjgIFhcHBFbnRyYW5jZeWPr+S7peS4uuepulxyXG4gICAgLy8gICAgICAgICBmdW5jSWQ6ICcyY2VhMTA3OC1lZWZiLWI3MTYtMzdiNS00ODBhZmNiZWRlMDMnLFxyXG4gICAgLy8gICAgICAgICB0YWJJZDogJ+S4quS6uue+pOe7hCcsXHJcbiAgICAvLyAgICAgICAgIGFwcElkOiAnJyxcclxuICAgIC8vICAgICAgICAgYXBwRW50cmFuY2U6ICcnLFxyXG4gICAgLy8gICAgICAgICAvLyDmjIflrprlvZPliY3miZPlvIDnmoTmmK/oj5zljZVcclxuICAgIC8vICAgICAgICAgYXBwVHlwZTogJ21lbnUnXHJcbiAgICAvLyAgICAgfTtcclxuICAgIC8vICAgICAod2luZG93IGFzIGFueSkuZ3NwZnJhbWV3b3JrU2VydmljZS5ydGYuZnVuYy5vcGVuTWVudShvcHRpb25zKTtcclxuICAgIC8vIH1cclxuXHJcbiAgICBhc3NlbWJsZURhdGEoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuc2VhcmNoUGFnZSkge1xyXG4gICAgICAgICAgICB0aGlzLnNlYXJjaEJ5Q29kZU9yTmFtZSgpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuZ2V0R3JvdXBMaXN0KCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGdldFBlcnNvbm5lbHNCeUdyb3VwKGl0ZW06IGFueSwgZ3JvdXBUeXBlID0gdGhpcy5wdWJsaWNUb2tlbikge1xyXG4gICAgICAgIGlmKHRoaXMuZGF0YUxvYWRpbmdTZXJ2aWNlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZGF0YUxvYWRpbmdTZXJ2aWNlLnNob3codGhpcy5sb2FkaW5nU2VydmljZU1lc3NhZ2UpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmN1cnJlbnRHcm91cFR5cGUgPSBncm91cFR5cGU7XHJcbiAgICAgICAgdGhpcy5hbGxDaGVja2VkID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5zZWxlY3RlZEdyb3VwSWQgPSBpdGVtW3RoaXMuZ3JvdXBJZEZpZWxkXTtcclxuICAgICAgICBjb25zdCBoZWxwRXh0ZW5kID0gd2luZG93ICYmICh3aW5kb3cgYXMgYW55KS5oZWxwRXh0ZW5kO1xyXG4gICAgICAgIGlmIChoZWxwRXh0ZW5kKSB7XHJcbiAgICAgICAgICAgIGhlbHBFeHRlbmQuZ2V0RGF0YUJ5R3JvdXBJZChpdGVtW3RoaXMuZ3JvdXBJZEZpZWxkXSwgdGhpcy5hYnNPcmdUeXBlKS50aGVuKGRhdGEgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcmVzID0gZGF0YSAmJiBkYXRhLml0ZW1zO1xyXG4gICAgICAgICAgICAgICAgaWYodGhpcy51c2VySW5TaG93bk9yZy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBvcmlnaW5hbFBlcnNvbm5lbHNEYXRhID0gXy5jbG9uZURlZXAocmVzKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLml0ZW1zID0gb3JpZ2luYWxQZXJzb25uZWxzRGF0YS5maWx0ZXIoZGF0YSA9PiB0aGlzLnVzZXJJblNob3duT3JnLmZpbmQodXNlciA9PiB1c2VyLnVzZXJJZCA9PSBkYXRhLnVzZXJJZCkpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLml0ZW1zID0gcmVzO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhpcy5ncm91cERhdGEucGVyc29uYWwuZm9yRWFjaChpdGVtID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbVt0aGlzLmdyb3VwSWRGaWVsZF0gPT09IHRoaXMuc2VsZWN0ZWRHcm91cElkICYmIGl0ZW0udG90YWwgIT09IHRoaXMuaXRlbXMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0udG90YWwgPSB0aGlzLml0ZW1zLmxlbmd0aDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIHRoaXMuaXRlbXMuZm9yRWFjaChpdCA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX2lzSW5BcnJheShpdFt0aGlzLmlkRmllbGRdLCB0aGlzLmlkRmllbGQsIHRoaXMuZmF2b3JpdGVzTGlzdCkgIT09IC0xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0LmluRmF2b3JpdGVzID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpdC5pbkZhdm9yaXRlcyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpdC5pbmRleElkID0gTWF0aC5yYW5kb20oKS50b1N0cmluZygxNikuc3Vic3RyaW5nKDIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGl0LmRpc3BsYXlOYW1lID0gISF0aGlzLnNob3dVc2VyQ29kZSA/ICgnWycgKyBpdC5jb2RlICsgJ10nICsgaXQubmFtZSkgOiBpdC5uYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKHRoaXMuc2hvd09yZ0FsbFBhdGhCeURlc2MgJiYgaXQub3JnQWxsUGF0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpdC5vcmdBbGxQYXRoID0gdGhpcy5jaGFuZ2VEaXNwbGF5T3JnQWxsUGF0aChpdC5vcmdBbGxQYXRoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIHRoaXMudG9nZ2xlQ2hlY2tlZCgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jZFJlZiA/IHRoaXMuY2RSZWYuZGV0ZWN0Q2hhbmdlcygpIDogbnVsbDtcclxuICAgICAgICAgICAgICAgIGlmKHRoaXMuZGF0YUxvYWRpbmdTZXJ2aWNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRhTG9hZGluZ1NlcnZpY2UuaGlkZSgpOyAgICBcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHRoaXMuZ3JvdXBFeHRlbmRJbmZvKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0R3JvdXBMaXN0KCkge1xyXG4gICAgICAgIGNvbnN0IGhlbHBFeHRlbmQgPSB3aW5kb3cgJiYgKHdpbmRvdyBhcyBhbnkpLmhlbHBFeHRlbmQ7XHJcbiAgICAgICAgaWYgKGhlbHBFeHRlbmQpIHtcclxuICAgICAgICAgICAgaGVscEV4dGVuZC5nZXRHcm91cERhdGEoKS50aGVuKGRhdGEgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcmVzUHVibGljID0gZGF0YSAmJiBkYXRhLml0ZW1zWzBdICYmIGRhdGEuaXRlbXNbMF0uZGF0YTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHJlc1BlcnNvbmFsID0gZGF0YSAmJiBkYXRhLml0ZW1zWzFdICYmIGRhdGEuaXRlbXNbMV0uZGF0YTtcclxuICAgICAgICAgICAgICAgIHRoaXMuZ3JvdXBEYXRhLnB1YmxpYyA9IHJlc1B1YmxpYyA/IHJlc1B1YmxpYyA6IFtdO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5ncm91cERhdGEucGVyc29uYWwgPSByZXNQZXJzb25hbCA/IHJlc1BlcnNvbmFsIDogW107XHJcbiAgICAgICAgICAgICAgICBjb25zdCBmaXJzdFB1YmxpY0dyb3VwID0gcmVzUHVibGljWzBdICYmIHJlc1B1YmxpY1swXVt0aGlzLmdyb3VwSWRGaWVsZF07XHJcbiAgICAgICAgICAgICAgICBjb25zdCBmaXJzdFBlcnNvbmFsR3JvdXAgPSByZXNQZXJzb25hbFswXSAmJiByZXNQZXJzb25hbFswXVt0aGlzLmdyb3VwSWRGaWVsZF07XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkR3JvdXBJZCA9IHRoaXMuc2VsZWN0ZWRHcm91cElkID8gdGhpcy5zZWxlY3RlZEdyb3VwSWQgOiBmaXJzdFB1YmxpY0dyb3VwO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZEdyb3VwSWQgPSB0aGlzLnNlbGVjdGVkR3JvdXBJZCA/IHRoaXMuc2VsZWN0ZWRHcm91cElkIDogZmlyc3RQZXJzb25hbEdyb3VwO1xyXG4gICAgICAgICAgICAgICAgaWYgKCEhdGhpcy5zZWxlY3RlZEdyb3VwSWQpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmdldFBlcnNvbm5lbHNCeUdyb3VwKHsgaWQ6IHRoaXMuc2VsZWN0ZWRHcm91cElkIH0sIHRoaXMuY3VycmVudEdyb3VwVHlwZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZ3JvdXBEYXRhLnB1YmxpYy5maW5kSW5kZXgoaXRlbSA9PiBpdGVtW3RoaXMuZ3JvdXBJZEZpZWxkXSA9PT0gdGhpcy5zZWxlY3RlZEdyb3VwSWQpICE9PSAtMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRHcm91cFR5cGUgPSB0aGlzLnB1YmxpY1Rva2VuO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5ncm91cERhdGEucGVyc29uYWwuZmluZEluZGV4KGl0ZW0gPT4gaXRlbVt0aGlzLmdyb3VwSWRGaWVsZF0gPT09IHRoaXMuc2VsZWN0ZWRHcm91cElkKSAhPT0gLTEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50R3JvdXBUeXBlID0gdGhpcy5wZXJzb25hbFRva2VuO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHRoaXMuZ3JvdXBFeHRlbmRJbmZvKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc2VhcmNoQnlDb2RlT3JOYW1lKCkge1xyXG4gICAgICAgIHRoaXMuaXRlbXMgPSB0aGlzLml0ZW1zLmZpbHRlcihpdGVtID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIGl0ZW0uY29kZS5pbmRleE9mKHRoaXMuc2VhcmNoVGV4dCkgIT09IC0xIHx8IGl0ZW0ubmFtZS5pbmRleE9mKHRoaXMuc2VhcmNoVGV4dCkgIT09IC0xO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHRvZ2dsZUZhdm9yaXRlcyhlOiBhbnksIGl0ZW06IGFueSkge1xyXG4gICAgICAgIHRoaXMuZmF2b3JpdGVzVG9vbC50b2dnbGVGYXZvcml0ZXMoZSwgaXRlbSk7XHJcbiAgICB9XHJcblxyXG4gICAgdG9nZ2xlVmlzaWJsZShlLCB0eXBlOiBzdHJpbmcpIHtcclxuICAgICAgICBpZiAodHlwZSA9PT0gdGhpcy5wdWJsaWNUb2tlbikge1xyXG4gICAgICAgICAgICB0aGlzLnB1YmxpY1Zpc2libGUgPSAhdGhpcy5wdWJsaWNWaXNpYmxlO1xyXG4gICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gdGhpcy5wZXJzb25hbFRva2VuKSB7XHJcbiAgICAgICAgICAgIHRoaXMucGVyc29uYWxWaXNpYmxlID0gIXRoaXMucGVyc29uYWxWaXNpYmxlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgIGUuY2FuY2VsQnViYmxlID0gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICByZXN0b3JlU2VsZWN0aW9ucygpIHtcclxuICAgICAgICB0aGlzLnNlbGVjdGlvbnMgPSBfLmNsb25lRGVlcCh0aGlzLmNsb25lU2VsZWN0aW9ucyk7XHJcbiAgICAgICAgLy8gdGhpcy5lbWl0U2VsZWN0aW9ucygpO1xyXG4gICAgICAgIHRoaXMudG9nZ2xlQ2hlY2tlZCgpO1xyXG4gICAgICAgIGlmICh0aGlzLmlzQWxsQ2hlY2tlZCgpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYWxsQ2hlY2tlZCA9IHRydWU7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5hbGxDaGVja2VkID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHRvZ2dsZUFsbCgpIHtcclxuICAgICAgICBpZiAoIXRoaXMuYWxsQ2hlY2tlZCkge1xyXG4gICAgICAgICAgICB0aGlzLmNoZWNrQWxsKCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy51bkNoZWNrQWxsKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuZW1pdFNlbGVjdGlvbnMoKTtcclxuICAgIH1cclxuXHJcbiAgICB0b2dnbGVPbmUoZGF0YSkge1xyXG4gICAgICAgIGlmIChkYXRhLmNoZWNrZWQpIHtcclxuICAgICAgICAgICAgdGhpcy51blNlbGVjdExpbmUoZGF0YSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5zZWxlY3RMaW5lKGRhdGEpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmVtaXRTZWxlY3Rpb25zKCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIGRhdGFncmlk55So5LqO5pWw5o2u5bGV56S6XHJcbiAgICAgKi9cclxuICAgIGxvYWRHcm91cExpc3QoKSB7XHJcbiAgICAgICAgdGhpcy5pdGVtcyA9IFtdO1xyXG4gICAgICAgIC8vIHRoaXMudW5TZWxlY3RlZExpc3QuZm9yRWFjaChyZXMgPT4ge1xyXG4gICAgICAgIC8vICAgICBjb25zdCBpbmRleElkID0gTWF0aC5yYW5kb20oKS50b1N0cmluZygxNikuc3Vic3RyaW5nKDMsIDEwKTtcclxuICAgICAgICAvLyAgICAgY29uc3QgaXRlbSA9IHtcclxuICAgICAgICAvLyAgICAgICAgIGFiYnJldmlhdGlvbjogcmVzLmFiYnJldmlhdGlvbixcclxuICAgICAgICAvLyAgICAgICAgIGNvZGU6IHJlcy5jb2RlLFxyXG4gICAgICAgIC8vICAgICAgICAgZGVmYXVsdE9yZ0lkOiByZXMuZGVmYXVsdE9yZ0lkLFxyXG4gICAgICAgIC8vICAgICAgICAgZGVmYXVsdE9yZ1BhdGg6IHJlcy5kZWZhdWx0T3JnUGF0aCxcclxuICAgICAgICAvLyAgICAgICAgIGV4dDE6IHJlcy5leHQxLFxyXG4gICAgICAgIC8vICAgICAgICAgZXh0MjogcmVzLmV4dDIsXHJcbiAgICAgICAgLy8gICAgICAgICBmdWxsUGF0aE5hbWU6IHJlcy5mdWxsUGF0aE5hbWUsXHJcbiAgICAgICAgLy8gICAgICAgICBuYW1lOiByZXMubmFtZSxcclxuICAgICAgICAvLyAgICAgICAgIG9yZ1R5cGVJZDogcmVzLm9yZ1R5cGVJZCxcclxuICAgICAgICAvLyAgICAgICAgIHNlY0xldmVsOiByZXMuc2VjTGV2ZWwsXHJcbiAgICAgICAgLy8gICAgICAgICBzb3J0T3JkZXI6IHJlcy5zb3J0T3JkZXIsXHJcbiAgICAgICAgLy8gICAgICAgICBzdGF0ZTogcmVzLnN0YXRlLFxyXG4gICAgICAgIC8vICAgICAgICAgc3U6IHJlcy5zdSxcclxuICAgICAgICAvLyAgICAgICAgIHVzZXJJZDogcmVzLnVzZXJJZCxcclxuICAgICAgICAvLyAgICAgICAgIG9yZ0FsbFBhdGg6IHJlcy5vcmdBbGxQYXRoLFxyXG4gICAgICAgIC8vICAgICAgICAgdHlwZTogJ3Blb3BsZScsXHJcbiAgICAgICAgLy8gICAgICAgICBjaGVja2VkOiBmYWxzZSxcclxuICAgICAgICAvLyAgICAgICAgIGluRmF2b3JpdGVzOiBmYWxzZSxcclxuICAgICAgICAvLyAgICAgICAgIGluZGV4SWRcclxuICAgICAgICAvLyAgICAgfTtcclxuICAgICAgICAvLyAgICAgaWYgKHRoaXMuX2lzSW5BcnJheShyZXNbdGhpcy5pZEZpZWxkXSwgdGhpcy5pZEZpZWxkLCB0aGlzLnNlbGVjdGlvbnMpICE9PSAtMSkge1xyXG4gICAgICAgIC8vICAgICAgICAgaXRlbS5jaGVja2VkID0gdHJ1ZTtcclxuICAgICAgICAvLyAgICAgfVxyXG4gICAgICAgIC8vICAgICBpZiAodGhpcy5faXNJbkFycmF5KHJlc1t0aGlzLmlkRmllbGRdLCB0aGlzLmlkRmllbGQsIHRoaXMuZmF2b3JpdGVzTGlzdCkgIT09IC0xKSB7XHJcbiAgICAgICAgLy8gICAgICAgICBpdGVtLmluRmF2b3JpdGVzID0gdHJ1ZTtcclxuICAgICAgICAvLyAgICAgfVxyXG4gICAgICAgIC8vICAgICB0aGlzLml0ZW1zLnB1c2goaXRlbSk7XHJcbiAgICAgICAgLy8gICAgIHRoaXMuaXRlbXNCYWNrdXAucHVzaChpdGVtKTtcclxuICAgICAgICAvLyB9KTtcclxuICAgICAgICBjb25zdCB0ZW1wU2VsZWN0aW9ucyA9IF8uY2xvbmVEZWVwKHRoaXMuc2VsZWN0aW9ucyk7XHJcbiAgICAgICAgdGhpcy50b2dnbGVDaGVja2VkKCk7XHJcbiAgICAgICAgdGhpcy5zZWxlY3Rpb25zID0gXy5jbG9uZURlZXAodGVtcFNlbGVjdGlvbnMpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5YWo6YCJ5ZCO5aSE55CGXHJcbiAgICAgKiBAcGFyYW0gZGF0YUFyciDlhajpgInnmoTlgLxcclxuICAgICAqL1xyXG4gICAgY2hlY2tBbGwoKSB7XHJcbiAgICAgICAgdGhpcy5pdGVtcy5mb3JFYWNoKGl0ZW0gPT4ge1xyXG4gICAgICAgICAgICB0aGlzLl9pbnNlcnRPbmVJbnRvU2VsZWN0aW9ucyhpdGVtKTtcclxuICAgICAgICAgICAgaXRlbS5jaGVja2VkID0gdHJ1ZTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOWFqOmDqOWPlua2iFxyXG4gICAgICogQHBhcmFtIGRhdGFBcnIg5Y+W5raI55qE5pWw5o2uXHJcbiAgICAgKiBAcmV0dXJucyB2b2lkXHJcbiAgICAgKi9cclxuICAgIHVuQ2hlY2tBbGwoKSB7XHJcbiAgICAgICAgdGhpcy5pdGVtcy5mb3JFYWNoKGl0ZW0gPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnNlbGVjdGlvbnMuZm9yRWFjaCgoc2VsZWN0aW9uLCBpbmRleCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKGl0ZW1bdGhpcy5pZEZpZWxkXSA9PT0gc2VsZWN0aW9uW3RoaXMuaWRGaWVsZF0pIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGlvbnMuc3BsaWNlKGluZGV4LCAxKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGl0ZW0uY2hlY2tlZCA9IGZhbHNlO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5b2T5YmN6KGM6YCJ5LitXHJcbiAgICAgKiBAcGFyYW0gZGF0YSDlvZPliY3ooYznmoTmlbDmja7vvIjvvIlcclxuICAgICAqL1xyXG4gICAgc2VsZWN0TGluZShkYXRhOiBhbnkpIHtcclxuICAgICAgICBpZiAodGhpcy5tdWx0aVNlbGVjdCkge1xyXG4gICAgICAgICAgICB0aGlzLl9pbnNlcnRPbmVJbnRvU2VsZWN0aW9ucyhkYXRhKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLnVzZXJJZHMgPSAnJztcclxuICAgICAgICAgICAgdGhpcy5zZWxlY3Rpb25zID0gW107XHJcbiAgICAgICAgICAgIHRoaXMuaXRlbXMuZm9yRWFjaChpdGVtID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChpdGVtLmNoZWNrZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBpdGVtLmNoZWNrZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHRoaXMuX2luc2VydE9uZUludG9TZWxlY3Rpb25zKGRhdGEpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5pc0FsbENoZWNrZWQoKSkge1xyXG4gICAgICAgICAgICB0aGlzLmFsbENoZWNrZWQgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOWNlemAieWPlua2iOmAieS4rVxyXG4gICAgICogQHBhcmFtIGRhdGEg5Y+W5raI6YCJ5Lit6KGMXHJcbiAgICAgKi9cclxuICAgIHVuU2VsZWN0TGluZShkYXRhOiBhbnkpIHtcclxuICAgICAgICBjb25zdCBpbmRleCA9IHRoaXMuX2lzSW5BcnJheShkYXRhW3RoaXMuaWRGaWVsZF0sIHRoaXMuaWRGaWVsZCwgdGhpcy5zZWxlY3Rpb25zKTtcclxuICAgICAgICBpZiAoaW5kZXggPiAtMSkge1xyXG4gICAgICAgICAgICB0aGlzLnNlbGVjdGlvbnMuc3BsaWNlKGluZGV4LCAxKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuYWxsQ2hlY2tlZCkge1xyXG4gICAgICAgICAgICB0aGlzLmFsbENoZWNrZWQgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBlbWl0U2VsZWN0aW9ucygpIHtcclxuICAgICAgICBjb25zdCBlbWl0T2JqID0ge1xyXG4gICAgICAgICAgICBzZWxlY3Rpb25zOiB0aGlzLnNlbGVjdGlvbnMsXHJcbiAgICAgICAgICAgIHRva2VuOiAnY2FuZGlkYXRlJ1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5zZWxlY3Rpb25zQ2hhbmdlLmVtaXQoZW1pdE9iaik7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiAg5Y+W5raI6YCJ5LitXHJcbiAgICAgKiBAcGFyYW0gJGV2ZW50IOWPlua2iOWLvumAieeahOaVsOaNrlxyXG4gICAgICovXHJcbiAgICBjYW5jZWxTZWxlY3Rpb25zKCRldmVudCkge1xyXG4gICAgICAgIGlmICh0aGlzLml0ZW1zLmZpbmRJbmRleChpdGVtID0+IGl0ZW1bdGhpcy5pZEZpZWxkXSA9PT0gJGV2ZW50LmlkKSA9PT0gLTEpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLml0ZW1zLmZvckVhY2goaXRlbSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChpdGVtW3RoaXMuaWRGaWVsZF0gPT09ICRldmVudC5pZCkge1xyXG4gICAgICAgICAgICAgICAgaXRlbS5jaGVja2VkID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLnNlbGVjdGlvbnMuZm9yRWFjaCgoc2VsZWN0aW9uLCBpbmRleCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoJGV2ZW50LmlkID09PSBzZWxlY3Rpb25bdGhpcy5pZEZpZWxkXSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3Rpb25zLnNwbGljZShpbmRleCwgMSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmFsbENoZWNrZWQgPSBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOWFqOmDqOWPlua2iOWLvumAiVxyXG4gICAgICovXHJcbiAgICBjbGVhckNoZWNrZWRzKCkge1xyXG4gICAgICAgIHRoaXMuaXRlbXMuZm9yRWFjaChpdGVtID0+IHtcclxuICAgICAgICAgICAgaXRlbS5jaGVja2VkID0gZmFsc2U7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5hbGxDaGVja2VkID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5zZWxlY3Rpb25zID0gW107XHJcbiAgICB9XHJcblxyXG4gICAgY2xlYXJVc2VySWRzKCkge1xyXG4gICAgICAgIHRoaXMudXNlcklkcyA9ICcnO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiDpgInkuK3lubbmj5LlhaXlvZPliY3ooYzmlbDmja7liLDlj7PkvqdcclxuICAgICAqIEBwYXJhbSBkYXRhIOW9k+WJjeihjOeahOaVsOaNrlxyXG4gICAgICogQHBhcmFtIGNvbGxlY3Rpb24g5pqC5a2Y5b2T5YmN5pWw5o2u55qE6ZuG5ZCIXHJcbiAgICAgKi9cclxuICAgIF9pbnNlcnRPbmVJbnRvU2VsZWN0aW9ucyhkYXRhOiBhbnkpIHtcclxuICAgICAgICAvLyDlpoLmnpzlvZPliY3mlbDmja7lt7Lnu4/np7vlhaXlj7PkvqfmlbDmja7vvIzliJnov5Tlm57jgIJcclxuICAgICAgICBpZiAodGhpcy5faXNJbkFycmF5KGRhdGFbdGhpcy5pZEZpZWxkXSwgdGhpcy5pZEZpZWxkLCB0aGlzLnNlbGVjdGlvbnMpID4gLTEpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnNlbGVjdGlvbnMucHVzaChkYXRhKTtcclxuICAgICAgICB0aGlzLnNlbGVjdGlvbnMgPSB0aGlzLnNlbGVjdGlvbnMuc2xpY2UoKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOWIpOaWreaYr+WQpuWcqOWGhVxyXG4gICAgICogQHBhcmFtIHZhbHVlIHZhbHVlXHJcbiAgICAgKiBAcGFyYW0gZmllbGQgZmllbGRcclxuICAgICAqIEBwYXJhbSBhcnJheSBhcnJheVxyXG4gICAgICogQHJldHVybnMg5L2N572u57Si5byVXHJcbiAgICAgKi9cclxuICAgIF9pc0luQXJyYXkodmFsdWU6IHN0cmluZywgZmllbGQ6IHN0cmluZywgYXJyYXk6IGFueVtdKTogbnVtYmVyIHtcclxuICAgICAgICBpZiAoIWZpZWxkIHx8ICF2YWx1ZSkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IodGhpcy52YWxpZEVsZW1lbnRzSW5mbyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBhcnJheS5maW5kSW5kZXgoaXRlbSA9PiB2YWx1ZSA9PT0gaXRlbVtmaWVsZF0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog57+76aG15qOA5p+l77ya5Lq65ZGY5bGV56S65Yy655qE5Yu+6YCJ54q25oCB5LiO5bey6YCJ5Lq65ZGY5Yy65piv5ZCm5a+55bqUXHJcbiAgICAgKi9cclxuICAgIHRvZ2dsZUNoZWNrZWQoKSB7XHJcbiAgICAgICAgdGhpcy5pdGVtcy5mb3JFYWNoKGl0ZW0gPT4ge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5faXNJbkFycmF5KGl0ZW1bdGhpcy5pZEZpZWxkXSwgdGhpcy5pZEZpZWxkLCB0aGlzLnNlbGVjdGlvbnMpID4gLTEpIHtcclxuICAgICAgICAgICAgICAgIGl0ZW0uY2hlY2tlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBpdGVtLmNoZWNrZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGlmICh0aGlzLmlzQWxsQ2hlY2tlZCgpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYWxsQ2hlY2tlZCA9IHRydWU7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5hbGxDaGVja2VkID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgaXNBbGxDaGVja2VkKCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIGxldCBjb3VudCA9IDA7XHJcbiAgICAgICAgbGV0IGFsbENoZWNrZWQgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgdGhpcy5pdGVtcy5mb3JFYWNoKGl0ZW0gPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnNlbGVjdGlvbnMuZm9yRWFjaChzZWxlY3Rpb24gPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKGl0ZW1bdGhpcy5pZEZpZWxkXSA9PT0gc2VsZWN0aW9uW3RoaXMuaWRGaWVsZF0pIHtcclxuICAgICAgICAgICAgICAgICAgICBjb3VudCArPSAxO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBpZiAodGhpcy5pdGVtcy5sZW5ndGggPT09IGNvdW50ICYmIGNvdW50ID4gMCkge1xyXG4gICAgICAgICAgICBhbGxDaGVja2VkID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGFsbENoZWNrZWQ7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBjaGFuZ2VEaXNwbGF5T3JnQWxsUGF0aChkYXRhOiBzdHJpbmcpIHtcclxuICAgICAgICBpZighZGF0YSkge1xyXG4gICAgICAgICAgICByZXR1cm4gJyc7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IG9yZ0FsbFBhdGhBcnJheSA9IGRhdGEuc3BsaXQoJ18nKTtcclxuICAgICAgICByZXR1cm4gb3JnQWxsUGF0aEFycmF5LnJldmVyc2UoKS5qb2luKCdfJyk7XHJcbiAgICB9XHJcblxyXG4gICAgdHJhY2tCeUZuKGluZGV4LCBpdGVtKSB7XHJcbiAgICAgICAgcmV0dXJuIGluZGV4O1xyXG4gICAgfVxyXG5cclxufVxyXG4iXX0=