/**
 * @fileoverview added by tsickle
 * Generated from: lib/service/solution.service.ts
 * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { Injectable } from '@angular/core';
import { NotifyService } from '@farris/ui-notify';
import { QueryCondition } from '../entity/querycondition';
import { ValueType } from '../entity/valuetype';
import { TextControl } from '../entity/controltype/text/textcontrol';
import { InputGroupControl, DialogConfig } from '../entity/controltype/input-group/inputgroupcontrol';
import { TextValue } from '../entity/conditionvalue/textvalue';
import { DateRangeControl } from '../entity/controltype/daterange/date-range.control';
import { DateRangeValue } from '../entity/conditionvalue/daterangevalue';
import { NumberRangeControl } from '../entity/controltype/numberrange/numberrangecontrol';
import { NumberRangeValue } from '../entity/conditionvalue/numberrangevaue';
import { DropDownListControl } from '../entity/controltype/dropdownlist/dropdownlistcontrol';
import { DropDownListValue } from '../entity/conditionvalue/dropdownlistvalue';
import { SmartHelpContol, QuickSelectOption } from '../entity/controltype/smarthelp/smarthelpcontrol';
import { SmartHelpValue } from '../entity/conditionvalue/smarthelpvalue';
import { SingleDateControl } from '../entity/controltype/date/single-date-control';
import { SingleDateValue } from '../entity/conditionvalue/single-date-value';
import { SingleNumberControl } from '../entity/controltype/number/single-number-control';
import { SingleNumberValue } from '../entity/conditionvalue/single-number-value';
import { SingleYearControl } from '../entity/controltype/year/year-control';
import { SingleYearValue } from '../entity/conditionvalue/single-year-value';
import { SingleMonthControl } from '../entity/controltype/month/month-control';
import { SingleMonthValue } from '../entity/conditionvalue/single-month-value';
import { CheckBoxControl } from '../entity/controltype/checkbox/checkbox-control';
import { CheckBoxValue } from '../entity/conditionvalue/checkbox-value';
import { DateTimeRangeControl } from '../entity/controltype/daterange/datertime-range-control';
import { MonthRangeControl } from '../entity/controltype/monthrange/month-range-control';
import { MonthRangeValue } from '../entity/conditionvalue/month-range-value';
import { SingleDateTimeControl } from '../entity/controltype/date/single-date-time-control';
import { SingleDateTimeValue } from '../entity/conditionvalue/single-date-time-value';
import { ComboLookUpControl } from '../entity/controltype/combolookup/combolookup-control';
import { ComboLookUpValue } from '../entity/conditionvalue/combolookup-value';
import { RadioControl } from '../entity/controltype/radio/radio-control';
import { RadioValue } from '../entity/conditionvalue/radio-value';
import { InputGroupValue } from '../entity/conditionvalue/inputgroupvalue';
import { ControlType } from '../entity/controltype';
import { BehaviorSubject } from 'rxjs';
var SolutionService = /** @class */ (function () {
    function SolutionService(notify) {
        this.notify = notify;
        // 标记变更
        this.controlConfigState = new BehaviorSubject([]);
        this.controlTypeMap = new Map([
            [ControlType.Text, 'text'], [ControlType.BoolCheck, 'bool-check'], [ControlType.DateRange, 'date'],
            [ControlType.DateTimeRange, 'date-time'], [ControlType.NumberRange, 'number'], [ControlType.DropDownList, 'dropdown'],
            [ControlType.SmartHelp, 'help'], [ControlType.SingleDate, 'single-date'], [ControlType.SingleNumber, 'single-number'],
            [ControlType.SingleYear, 'single-year'], [ControlType.SingleMonth, 'single-month'], [ControlType.MonthRange, 'month'],
            [ControlType.SingleDateTime, 'single-date-time'], [ControlType.ComboLookUp, 'combolist-help'], [ControlType.Radio, 'radio'],
            [ControlType.InputGroup, 'input-group']
        ]);
    }
    /**
     * @return {?}
     */
    SolutionService.prototype.getControlConfigState = /**
     * @return {?}
     */
    function () {
        return this.controlConfigState;
    };
    /**
     * 传递过来的是已经处理过的条件
     * @param simpleCondition
     */
    /**
     * 传递过来的是已经处理过的条件
     * @param {?} simpleCondition
     * @return {?}
     */
    SolutionService.prototype.updateControlConfigState = /**
     * 传递过来的是已经处理过的条件
     * @param {?} simpleCondition
     * @return {?}
     */
    function (simpleCondition) {
        this.controlConfigState.next(simpleCondition);
    };
    /**
     * 只返回存在的属性
     */
    /**
     * 只返回存在的属性
     * @param {?} fields
     * @return {?}
     */
    SolutionService.prototype.convertToSimpleQueryConditions = /**
     * 只返回存在的属性
     * @param {?} fields
     * @return {?}
     */
    function (fields) {
        var _this = this;
        if (fields && fields.length == 0) {
            return [];
        }
        return fields.map((/**
         * @param {?} field
         * @return {?}
         */
        function (field) {
            /** @type {?} */
            var simpleQueryCondition = {};
            simpleQueryCondition['fieldCode'] = field.labelCode;
            if (field.hasOwnProperty('visible')) {
                simpleQueryCondition['visible'] = field.visible;
            }
            simpleQueryCondition['control'] = _this.getSimpleControl(field);
            return simpleQueryCondition;
        }));
    };
    /**
     * 只处理设置的属性
     * @param field
     */
    /**
     * 只处理设置的属性
     * @private
     * @param {?} field
     * @return {?}
     */
    SolutionService.prototype.getSimpleControl = /**
     * 只处理设置的属性
     * @private
     * @param {?} field
     * @return {?}
     */
    function (field) {
        /** @type {?} */
        var controlData = field.control;
        /** @type {?} */
        var simpleControl = {};
        /** @type {?} */
        var tControlType = this.controlTypeMap.get(controlData.controltype);
        switch (tControlType) {
            case 'single-year':
                this.updateSimpleControl(simpleControl, ['maxDate', 'minDate'], controlData);
                break;
            default:
                simpleControl = {};
        }
        return simpleControl;
    };
    /**
     * 只处理指定属性
     * @param resultObj 修改的对象  {test01:'',test01:''}
     * @param sourceProps 待获取的属性列表 ['prop01','prop02']
     * @param source 取值来源{prop01:'',prop02:''}
     * @param distProps 目标属性，对应的返回属性按照设置['dist01','']
     * @return
     */
    /**
     * 只处理指定属性
     * @private
     * @param {?} resultObj 修改的对象  {test01:'',test01:''}
     * @param {?} sourceProps 待获取的属性列表 ['prop01','prop02']
     * @param {?} source 取值来源{prop01:'',prop02:''}
     * @param {?=} distProps 目标属性，对应的返回属性按照设置['dist01','']
     * @return {?}
     */
    SolutionService.prototype.updateSimpleControl = /**
     * 只处理指定属性
     * @private
     * @param {?} resultObj 修改的对象  {test01:'',test01:''}
     * @param {?} sourceProps 待获取的属性列表 ['prop01','prop02']
     * @param {?} source 取值来源{prop01:'',prop02:''}
     * @param {?=} distProps 目标属性，对应的返回属性按照设置['dist01','']
     * @return {?}
     */
    function (resultObj, sourceProps, source, distProps) {
        if (distProps === void 0) { distProps = []; }
        if (distProps.length == 0) {
            distProps = sourceProps;
        }
        for (var m = 0; m < sourceProps.length; m++) {
            if (!distProps[m]) {
                distProps[m] = sourceProps[m];
            }
        }
        for (var k = 0; k < sourceProps.length; k++) {
            if (source && source.hasOwnProperty(sourceProps[k])) {
                resultObj[distProps[k]] = source[sourceProps[k]];
            }
        }
    };
    /**
     * 将字段配置JSON描述信息转换为筛选条件
     * @param fields 字段配置信息
     * @returns 筛选条件数组
     */
    /**
     * 将字段配置JSON描述信息转换为筛选条件
     * @param {?} fields 字段配置信息
     * @return {?} 筛选条件数组
     */
    SolutionService.prototype.convertToQueryConditions = /**
     * 将字段配置JSON描述信息转换为筛选条件
     * @param {?} fields 字段配置信息
     * @return {?} 筛选条件数组
     */
    function (fields) {
        var _this = this;
        /** @type {?} */
        var queryCondition;
        return fields.map((/**
         * @param {?} field
         * @return {?}
         */
        function (field) {
            queryCondition = new QueryCondition();
            queryCondition.id = field.id;
            queryCondition.fieldCode = field.labelCode;
            // queryCondition.code = field.code; 无用属性
            queryCondition.fieldName = field.name;
            queryCondition.valueType = ValueType.Value;
            queryCondition.placeHolder = field.placeHolder;
            queryCondition.beginPlaceHolder = field.hasOwnProperty('beginPlaceHolder') ? field.beginPlaceHolder : '';
            queryCondition.endPlaceHolder = field.hasOwnProperty('endPlaceHolder') ? field.endPlaceHolder : '';
            var _a = _this.getControlAndValue(field), control = _a.control, value = _a.value;
            queryCondition.control = control;
            queryCondition.value = value;
            return queryCondition;
        }));
    };
    /**
     * 根据控件类型分别创建筛选条件的control对象和value对象
     * @param field 字段配置信息
     * @returns 筛选条件的control对象和value对象
     */
    /**
     * 根据控件类型分别创建筛选条件的control对象和value对象
     * @param {?} field 字段配置信息
     * @return {?} 筛选条件的control对象和value对象
     */
    SolutionService.prototype.getControlAndValue = /**
     * 根据控件类型分别创建筛选条件的control对象和value对象
     * @param {?} field 字段配置信息
     * @return {?} 筛选条件的control对象和value对象
     */
    function (field) {
        /** @type {?} */
        var controlData = field.control;
        /** @type {?} */
        var valueData = field.value;
        /** @type {?} */
        var control;
        /** @type {?} */
        var value;
        switch (controlData.controltype) {
            case 'text':
                control = new TextControl();
                control.className = controlData.className;
                control.placeholder = controlData.placeholder;
                control.require = controlData.require;
                //plain string
                value = new TextValue({ value: valueData });
                break;
            case 'input-group':
                control = new InputGroupControl();
                control.className = controlData.className;
                control.require = controlData.require;
                control.editable = controlData.editable;
                control.groupText = controlData.groupText;
                control.usageMode = controlData.usageMode;
                control.dialogOptions = this.setInputGroupDialog(field);
                control.click = controlData.click;
                value = new InputGroupValue(valueData);
                break;
            case 'date':
                control = new DateRangeControl();
                control.format = controlData.format;
                control.returnFormat = controlData.returnFormat;
                control.dateChangedCmd = controlData.valueChangedCmd ? controlData.valueChangedCmd : controlData.dateChangedCmd;
                control.className = controlData.className;
                control.placeholder = controlData.placeholder;
                control.require = controlData.require;
                control.weekSelect = controlData.weekSelect;
                control.showWeekNumbers = controlData.showWeekNumbers;
                control.startFieldCode = controlData.startFieldCode || field.labelCode;
                control.endFieldCode = controlData.endFieldCode || field.labelCode;
                control.enableSplit = controlData.enableSplit || false;
                //control.beginPlaceHolder=controlData.beginPlaceHolder;
                //control.endPlaceHolder=controlData.endPlaceHolder;
                //{startTime: valueData.startTime, endTime: valueData.endTime}
                value = new DateRangeValue(valueData);
                break;
            case 'date-time':
                control = new DateTimeRangeControl();
                control.format = controlData.format;
                control.returnFormat = controlData.returnFormat;
                control.dateChangedCmd = controlData.valueChangedCmd ? controlData.valueChangedCmd : controlData.dateChangedCmd;
                control.className = controlData.className;
                control.placeholder = controlData.placeholder;
                control.require = controlData.require;
                control.enableCustomFormat = controlData.enableCustomFormat;
                control.enableSplit = controlData.enableSplit || false;
                // control.beginPlaceHolder=controlData.beginPlaceHolder;
                //control.endPlaceHolder=controlData.endPlaceHolder;
                //control.weekSelect = controlData.weekSelect;
                //control.showWeekNumbers = controlData.showWeekNumbers;
                //{startTime: valueData.startTime, endTime: valueData.endTime}
                value = new DateRangeValue(valueData);
                break;
            case 'month':
                control = new MonthRangeControl();
                control.format = controlData.format;
                control.returnFormat = controlData.returnFormat;
                control.dateChangedCmd = controlData.valueChangedCmd ? controlData.valueChangedCmd : controlData.dateChangedCmd;
                control.className = controlData.className;
                control.placeholder = controlData.placeholder;
                control.require = controlData.require;
                control.enableSplit = controlData.enableSplit || false;
                //control.beginPlaceHolder=controlData.beginPlaceHolder;
                //control.endPlaceHolder=controlData.endPlaceHolder;
                value = new MonthRangeValue(valueData);
                break;
            case 'number':
                control = new NumberRangeControl();
                control.className = controlData.className;
                control.placeholder = this.emptyString(controlData.placeholder);
                control.require = controlData.require;
                control.precision = controlData.precision;
                control.textAlign = controlData.textAlign;
                control.bigNumber = controlData.isBigNumber;
                control.min = controlData.minValue;
                control.max = controlData.maxValue;
                //control.beginPlaceHolder=controlData.beginPlaceHolder;
                //control.endPlaceHolder=controlData.endPlaceHolder;
                //{startValue: valueData.startValue, endValue: valueData.endValue}
                value = new NumberRangeValue(valueData);
                break;
            case 'dropdown':
                control = new DropDownListControl();
                control.valueType = controlData.valueType;
                control.enumValues = controlData.enumValues;
                control.uri = controlData.uri;
                control.beforeShow = controlData.beforeShow;
                control.beforeHide = controlData.beforeHide;
                control.idField = controlData.idField;
                control.textField = controlData.textField;
                control.multiSelect = controlData.multiSelect;
                control.className = controlData.className;
                control.placeholder = controlData.placeholder;
                control.panelHeight = controlData.panelHeight;
                control.require = controlData.require;
                //{value: [enumValues], key: 以，号分割的字符串})
                value = new DropDownListValue(valueData);
                break;
            case 'help':
                control = new SmartHelpContol();
                control.uri = controlData.uri;
                control.textField = controlData.textField;
                control.valueField = controlData.valueField;
                control.displayType = controlData.displayType;
                control.idField = controlData.idField;
                control.mapFields = controlData.mapFields;
                control.preEventCmd = controlData.preEventCmd;
                control.postEventCmd = controlData.postEventCmd;
                control.context = controlData.context;
                control.className = controlData.className;
                control.enableFullTree = controlData.enableFullTree;
                control.loadTreeDataType = controlData.loadTreeDataType;
                control.singleSelect = controlData.singleSelect;
                control.expandLevel = controlData.expandLevel;
                control.enableCascade = controlData.enableCascade;
                control.cascadeStatus = controlData.cascadeStatus;
                control.placeholder = controlData.placeholder;
                control.require = controlData.require;
                control.nosearch = controlData.nosearch;
                control.displayFields = controlData.displayFields;
                control.displayTextSeparator = controlData.displayTextSeparator;
                control.editable = controlData.editable;
                control.clearFields = controlData.clearFields;
                control.clear = controlData.clear;
                control.dialogTitle = controlData.dialogTitle;
                control.panelHeight = controlData.panelHeight;
                control.panelWidth = controlData.panelWidth;
                control.enableMultiFieldSearch = controlData.enableMultiFieldSearch;
                if (controlData.hasOwnProperty('pageSize')) {
                    control.pageSize = controlData.pageSize;
                }
                if (controlData.hasOwnProperty('pageList')) {
                    control.pageList = controlData.pageList;
                }
                if (controlData.hasOwnProperty('quickSelect')) {
                    /** @type {?} */
                    var quickSelectControl = new QuickSelectOption();
                    quickSelectControl.enable = controlData.quickSelect['enable'];
                    quickSelectControl.showItemsCount = controlData.quickSelect['showItemsCount'];
                    quickSelectControl.formatter = controlData.quickSelect['formatter'];
                    quickSelectControl.showMore = controlData.quickSelect['showMore'];
                    control.quickSelect = quickSelectControl;
                }
                //{value: [{}], valueField: string, textValue: string}
                value = new SmartHelpValue(valueData);
                break;
            case 'combolist-help':
                control = new ComboLookUpControl();
                control.uri = controlData.uri;
                control.idField = controlData.idField;
                control.valueField = controlData.valueField;
                control.textField = controlData.textField;
                control.mapFields = controlData.mapFields;
                control.displayType = this.displayTypeTransform(controlData.displayType);
                control.singleSelect = controlData.singleSelect;
                control.preEventCmd = controlData.preEventCmd;
                control.postEventCmd = controlData.postEventCmd;
                control.enableFullTree = controlData.enableFullTree;
                control.loadTreeDataType = controlData.loadTreeDataType;
                control.expandLevel = controlData.expandLevel;
                control.className = controlData.className;
                control.placeholder = controlData.placeholder;
                control.panelWidth = controlData.panelWidth;
                control.panelHeight = controlData.panelHeight;
                control.require = controlData.require;
                control.context = controlData.context;
                //{value: [{}], valueField: string, textValue: string}
                value = new ComboLookUpValue(valueData);
                break;
            case 'single-date':
                control = new SingleDateControl();
                control.format = controlData.format;
                control.returnFormat = controlData.returnFormat;
                control.dateChangedCmd = controlData.valueChangedCmd ? controlData.valueChangedCmd : controlData.dateChangedCmd;
                control.className = controlData.className;
                control.placeholder = controlData.placeholder;
                control.require = controlData.require;
                control.isDynamicDate = controlData.isDynamicDate ? controlData.isDynamicDate : false;
                //plain string
                value = new SingleDateValue(valueData);
                break;
            case 'single-date-time':
                control = new SingleDateTimeControl();
                control.format = controlData.format;
                control.returnFormat = controlData.returnFormat;
                control.dateChangedCmd = controlData.valueChangedCmd ? controlData.valueChangedCmd : controlData.dateChangedCmd;
                control.className = controlData.className;
                control.placeholder = controlData.placeholder;
                control.require = controlData.require;
                control.enableCustomFormat = controlData.enableCustomFormat;
                value = new SingleDateTimeValue(valueData);
                break;
            case 'single-number':
                control = new SingleNumberControl();
                control.className = controlData.className;
                control.placeholder = this.emptyString(controlData.placeholder);
                control.precision = controlData.precision;
                control.require = controlData.require;
                control.textAlign = controlData.textAlign;
                control.bigNumber = controlData.isBigNumber;
                control.min = controlData.minValue;
                control.max = controlData.maxValue;
                //{numValue: xxxx}
                value = new SingleNumberValue(valueData);
                break;
            case 'single-year':
                control = new SingleYearControl();
                control.format = controlData.format;
                control.returnFormat = controlData.returnFormat;
                control.dateChangedCmd = controlData.valueChangedCmd ? controlData.valueChangedCmd : controlData.dateChangedCmd;
                control.className = controlData.className;
                control.placeholder = controlData.placeholder;
                control.require = controlData.require;
                control.maxDate = controlData.maxDate;
                control.minDate = controlData.minDate;
                //yearValue : plain string
                value = new SingleYearValue(valueData);
                break;
            case 'single-month':
                control = new SingleMonthControl();
                control.format = controlData.format;
                control.returnFormat = controlData.returnFormat;
                control.dateChangedCmd = controlData.valueChangedCmd ? controlData.valueChangedCmd : controlData.dateChangedCmd;
                control.className = controlData.className;
                control.placeholder = controlData.placeholder;
                control.require = controlData.require;
                value = new SingleMonthValue(valueData);
                break;
            case 'bool-check':
                control = new CheckBoxControl();
                control.className = controlData.className;
                control.data = [{ value: "true", name: field.name }];
                control.horizontal = controlData.horizontal;
                control.disable = controlData.disable;
                control.isStringValue = false;
                control.require = controlData.require;
                //[true] or [false]
                value = new CheckBoxValue(valueData);
                break;
            case 'radio':
                control = new RadioControl();
                control.valueType = controlData.valueType;
                control.enumValues = controlData.enumValues;
                control.className = controlData.className;
                control.showLabel = controlData.showLabel;
                control.horizontal = controlData.horizontal;
                control.disabled = controlData.disabled;
                control.require = controlData.require;
                value = new RadioValue(valueData);
                break;
        }
        return { control: control, value: value };
    };
    /**
     * @return {?}
     */
    SolutionService.prototype.getGuid = /**
     * @return {?}
     */
    function () {
        return (this.s4() + this.s4() + "-" + this.s4() + "-" + this.s4() + "-" + this.s4() + "-" + this.s4() + this.s4() + this.s4());
    };
    /**
     * @private
     * @return {?}
     */
    SolutionService.prototype.s4 = /**
     * @private
     * @return {?}
     */
    function () {
        return (((1 + Math.random()) * 0x10000) | 0).toString(16).substring(1);
    };
    /**
     * @param {?} message
     * @param {?} infoType
     * @param {?} title
     * @param {?} timeout
     * @return {?}
     */
    SolutionService.prototype.showInfo = /**
     * @param {?} message
     * @param {?} infoType
     * @param {?} title
     * @param {?} timeout
     * @return {?}
     */
    function (message, infoType, title, timeout) {
        this.notify.config.position = 'top-center';
        if (infoType == 'success') {
            this.notify.success((/** @type {?} */ ({ title: title, msg: message, timeout: timeout })));
        }
        else if (infoType == 'info') {
            this.notify.info((/** @type {?} */ ({ title: title, msg: message, timeout: timeout })));
        }
        else if (infoType == 'warning') {
            this.notify.warning((/** @type {?} */ ({ title: title, msg: message, timeout: timeout })));
        }
        else if (infoType == 'error') {
            this.notify.error((/** @type {?} */ ({ title: title, msg: message, timeout: timeout })));
        }
    };
    /**
    * 根据字段获取Lable控件的Title
    * @param field
    */
    /**
     * 根据字段获取Lable控件的Title
     * @param {?} field
     * @return {?}
     */
    SolutionService.prototype.getConditionItemTitle = /**
     * 根据字段获取Lable控件的Title
     * @param {?} field
     * @return {?}
     */
    function (field) {
        if (field.id && field.id !== '') {
            return field.fieldName;
        }
    };
    /**
     * 加载筛选方案时赋默认值
     * @param solution 需要赋默认值的筛选方案
     * @param fieldConfigs 默认值设置
     * @param readonly 是否只读
     * @returns 已赋默认值的筛选方案
     */
    /**
     * 加载筛选方案时赋默认值
     * @param {?} solution 需要赋默认值的筛选方案
     * @param {?} fieldConfigs 默认值设置
     * @param {?} readonly 是否只读
     * @return {?} 已赋默认值的筛选方案
     */
    SolutionService.prototype.setValues = /**
     * 加载筛选方案时赋默认值
     * @param {?} solution 需要赋默认值的筛选方案
     * @param {?} fieldConfigs 默认值设置
     * @param {?} readonly 是否只读
     * @return {?} 已赋默认值的筛选方案
     */
    function (solution, fieldConfigs, readonly) {
        var _this = this;
        /** @type {?} */
        var qc;
        /** @type {?} */
        var conditions = solution.queryConditions ? solution.queryConditions : [];
        /** @type {?} */
        var controlType;
        fieldConfigs.forEach((/**
         * @param {?} field
         * @return {?}
         */
        function (field) {
            qc = conditions.find((/**
             * @param {?} c
             * @return {?}
             */
            function (c) { return c.fieldCode == field.labelCode; }));
            //qc.control并不是controlData
            if (qc && qc.control && qc.value) {
                controlType = _this.controlTypeMap.get(qc.control.getControlType());
                field.control = { controltype: controlType };
                var _a = _this.getControlAndValue(field), control = _a.control, value = _a.value;
                qc.value = _this.isNumCheck(qc, value, field);
                qc.readonly = readonly;
            }
        }));
        return solution;
    };
    /**
     *
     * @param solution 需要更新配置的筛选方案
     * @param fieldConfigs 更新配置
     * @returns 已更新配置的筛选方案
     */
    /**
     *
     * @param {?} conditions
     * @param {?} fieldConfigs 更新配置
     * @return {?} 已更新配置的筛选方案
     */
    SolutionService.prototype.updateControl = /**
     *
     * @param {?} conditions
     * @param {?} fieldConfigs 更新配置
     * @return {?} 已更新配置的筛选方案
     */
    function (conditions, fieldConfigs) {
        /** @type {?} */
        var qc;
        conditions = conditions ? conditions : [];
        if (conditions.length > 0) {
            fieldConfigs.forEach((/**
             * @param {?} field
             * @return {?}
             */
            function (field) {
                qc = conditions.find((/**
                 * @param {?} c
                 * @return {?}
                 */
                function (c) { return c.fieldCode == field['fieldCode']; }));
                if (qc && qc.hasOwnProperty('visible') && field.hasOwnProperty('visible') && field['visible'] !== qc.visible) {
                    qc.visible = field['visible'];
                }
                if (qc && qc.control) {
                    for (var prop in field.control) {
                        qc.control[prop] = field.control[prop];
                    }
                }
            }));
        }
        // let qc: QueryCondition;
        // const conditions = solution.queryConditions ? solution.queryConditions : [];
        // if (conditions.length > 0) {
        //   fieldConfigs.forEach(field => {
        //     qc = conditions.find(c => c.fieldCode == field.labelCode);
        //     if (qc && qc.control) {
        //       for (var prop in field.control) {
        //         qc.control[prop] = field.control[prop]
        //       }
        //     }
        //   });
        // }
    };
    /**
     * 必填控件非空判断
     * @param conditions 进行筛选操作时当前所有的筛选条件
     */
    /**
     * 必填控件非空判断
     * @param {?} conditions 进行筛选操作时当前所有的筛选条件
     * @return {?}
     */
    SolutionService.prototype.isValid = /**
     * 必填控件非空判断
     * @param {?} conditions 进行筛选操作时当前所有的筛选条件
     * @return {?}
     */
    function (conditions) {
        /** @type {?} */
        var qc;
        /** @type {?} */
        var errorArr = conditions.map((/**
         * @param {?} qc
         * @return {?}
         */
        function (qc) {
            if (qc.control.isRequired() && qc.value.isEmpty() && qc.visible) {
                return {
                    type: 'require',
                    field: qc.fieldName
                };
            }
        }));
        return errorArr.filter((/**
         * @param {?} error
         * @return {?}
         */
        function (error) { return error != null; }));
    };
    /**
     * 解决数值控件placeholder显示为undefined的问题
     * @param s 数值控件JSON描述中的placeholder配置信息
     */
    /**
     * 解决数值控件placeholder显示为undefined的问题
     * @private
     * @param {?} data
     * @return {?}
     */
    SolutionService.prototype.emptyString = /**
     * 解决数值控件placeholder显示为undefined的问题
     * @private
     * @param {?} data
     * @return {?}
     */
    function (data) {
        if (data === null || data === undefined) {
            return '';
        }
        return data;
    };
    /**
     * 解决jit生成代码后下拉帮助控件的displayType属性与组件api不一致的问题
     * @param data 下拉帮助控件JSON描述中的displayType配置信息
     */
    /**
     * 解决jit生成代码后下拉帮助控件的displayType属性与组件api不一致的问题
     * @private
     * @param {?} data 下拉帮助控件JSON描述中的displayType配置信息
     * @return {?}
     */
    SolutionService.prototype.displayTypeTransform = /**
     * 解决jit生成代码后下拉帮助控件的displayType属性与组件api不一致的问题
     * @private
     * @param {?} data 下拉帮助控件JSON描述中的displayType配置信息
     * @return {?}
     */
    function (data) {
        if (data === 'List') {
            return 'LOOKUPLIST';
        }
        return 'LOOKUPTREELIST';
    };
    /**
     * 解决数值控件赋默认值功能与最大最小值限制功能的冲突问题
     * @param condition 当前正在赋默认值的筛选条件，若是数值类型，需要提取其control对象的max属性和min属性的值
     * @param value 默认值配置value对象
     * @param field 默认值配置
     * @returns 校验最大值和最小值之后的默认值配置value对象
     */
    /**
     * 解决数值控件赋默认值功能与最大最小值限制功能的冲突问题
     * @private
     * @param {?} condition 当前正在赋默认值的筛选条件，若是数值类型，需要提取其control对象的max属性和min属性的值
     * @param {?} value 默认值配置value对象
     * @param {?} field 默认值配置
     * @return {?} 校验最大值和最小值之后的默认值配置value对象
     */
    SolutionService.prototype.isNumCheck = /**
     * 解决数值控件赋默认值功能与最大最小值限制功能的冲突问题
     * @private
     * @param {?} condition 当前正在赋默认值的筛选条件，若是数值类型，需要提取其control对象的max属性和min属性的值
     * @param {?} value 默认值配置value对象
     * @param {?} field 默认值配置
     * @return {?} 校验最大值和最小值之后的默认值配置value对象
     */
    function (condition, value, field) {
        /** @type {?} */
        var minValue;
        /** @type {?} */
        var maxValue;
        if (field.control.controltype == 'single-number') {
            minValue = (condition.control.min == null || condition.control.min == undefined) ? -2147483648 : condition.control.min;
            maxValue = (condition.control.max == null || condition.control.max == undefined) ? 2147483647 : condition.control.max;
            value.numValue = ((value.numValue - minValue) > 0) ? value.numValue : minValue;
            value.numValue = ((value.numValue - maxValue) < 0) ? value.numValue : maxValue;
        }
        if (field.control.controltype == 'number') {
            minValue = (condition.control.min == null || condition.control.min == undefined) ? -2147483648 : condition.control.min;
            maxValue = (condition.control.max == null || condition.control.max == undefined) ? 2147483647 : condition.control.max;
            value.startValue = ((value.startValue - minValue) > 0) ? value.startValue : minValue;
            value.startValue = ((value.startValue - maxValue) < 0) ? value.startValue : maxValue;
            value.endValue = ((value.endValue - minValue) > 0) ? value.endValue : minValue;
            value.endValue = ((value.endValue - maxValue) < 0) ? value.endValue : maxValue;
        }
        return value;
    };
    /**
     * 智能输入框控件需要弹出表单时，将表单配置JSON描述转换为弹出表单命令可接收的弹窗参数
     * @param field 配置为智能输入框控件的字段的JSON描述
     * @returns 弹窗参数
     */
    /**
     * 智能输入框控件需要弹出表单时，将表单配置JSON描述转换为弹出表单命令可接收的弹窗参数
     * @private
     * @param {?} field 配置为智能输入框控件的字段的JSON描述
     * @return {?} 弹窗参数
     */
    SolutionService.prototype.setInputGroupDialog = /**
     * 智能输入框控件需要弹出表单时，将表单配置JSON描述转换为弹出表单命令可接收的弹窗参数
     * @private
     * @param {?} field 配置为智能输入框控件的字段的JSON描述
     * @return {?} 弹窗参数
     */
    function (field) {
        /** @type {?} */
        var inputGroupControlData = field.control;
        /** @type {?} */
        var modalConfigData = inputGroupControlData.modalConfig;
        if (!field.id || inputGroupControlData.usageMode == 'text') {
            return undefined;
        }
        /** @type {?} */
        var dialogConfig = new DialogConfig();
        dialogConfig.modalId = field.id;
        if (modalConfigData.mapFields) {
            dialogConfig.mapFields = JSON.parse(modalConfigData.mapFields.replace(/'/g, '"'));
        }
        dialogConfig.showHeader = modalConfigData.hasOwnProperty('showHeader') ? modalConfigData.showHeader : true;
        dialogConfig.showCloseButton = modalConfigData.hasOwnProperty('showCloseButton') ? modalConfigData.showCloseButton : true;
        dialogConfig.showMaxButton = modalConfigData.hasOwnProperty('showMaxButton') ? modalConfigData.showMaxButton : true;
        dialogConfig.title = modalConfigData.hasOwnProperty('title') ? modalConfigData.title : '';
        dialogConfig.width = modalConfigData.width;
        dialogConfig.height = modalConfigData.height;
        return dialogConfig;
    };
    SolutionService.decorators = [
        { type: Injectable }
    ];
    /** @nocollapse */
    SolutionService.ctorParameters = function () { return [
        { type: NotifyService }
    ]; };
    return SolutionService;
}());
export { SolutionService };
if (false) {
    /**
     * @type {?}
     * @private
     */
    SolutionService.prototype.controlConfigState;
    /** @type {?} */
    SolutionService.prototype.controlTypeMap;
    /**
     * @type {?}
     * @private
     */
    SolutionService.prototype.notify;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic29sdXRpb24uc2VydmljZS5qcyIsInNvdXJjZVJvb3QiOiJuZzovL0BmYXJyaXMvY29tcG9uZW50LXF1ZXJ5Y29uZGl0aW9uLyIsInNvdXJjZXMiOlsibGliL3NlcnZpY2Uvc29sdXRpb24uc2VydmljZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7OztBQUFBLE9BQU8sRUFBRSxVQUFVLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFDM0MsT0FBTyxFQUFFLGFBQWEsRUFBaUIsTUFBTSxtQkFBbUIsQ0FBQztBQUNqRSxPQUFPLEVBQUUsY0FBYyxFQUFFLE1BQU0sMEJBQTBCLENBQUM7QUFDMUQsT0FBTyxFQUFFLFNBQVMsRUFBRSxNQUFNLHFCQUFxQixDQUFDO0FBQ2hELE9BQU8sRUFBRSxXQUFXLEVBQUUsTUFBTSx3Q0FBd0MsQ0FBQztBQUNyRSxPQUFPLEVBQUUsaUJBQWlCLEVBQUUsWUFBWSxFQUFFLE1BQU0scURBQXFELENBQUM7QUFDdEcsT0FBTyxFQUFFLFNBQVMsRUFBRSxNQUFNLG9DQUFvQyxDQUFDO0FBQy9ELE9BQU8sRUFBRSxnQkFBZ0IsRUFBRSxNQUFNLG9EQUFvRCxDQUFDO0FBQ3RGLE9BQU8sRUFBRSxjQUFjLEVBQUUsTUFBTSx5Q0FBeUMsQ0FBQztBQUN6RSxPQUFPLEVBQUUsa0JBQWtCLEVBQUUsTUFBTSxzREFBc0QsQ0FBQztBQUMxRixPQUFPLEVBQUUsZ0JBQWdCLEVBQUUsTUFBTSwwQ0FBMEMsQ0FBQztBQUM1RSxPQUFPLEVBQUUsbUJBQW1CLEVBQUUsTUFBTSx3REFBd0QsQ0FBQztBQUM3RixPQUFPLEVBQUUsaUJBQWlCLEVBQUUsTUFBTSw0Q0FBNEMsQ0FBQztBQUMvRSxPQUFPLEVBQUUsZUFBZSxFQUFFLGlCQUFpQixFQUFFLE1BQU0sa0RBQWtELENBQUM7QUFDdEcsT0FBTyxFQUFFLGNBQWMsRUFBRSxNQUFNLHlDQUF5QyxDQUFDO0FBQ3pFLE9BQU8sRUFBRSxpQkFBaUIsRUFBRSxNQUFNLGdEQUFnRCxDQUFDO0FBQ25GLE9B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Q29udGVudCI6WyJpbXBvcnQgeyBJbmplY3RhYmxlIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcbmltcG9ydCB7IE5vdGlmeVNlcnZpY2UsIE5vdGlmeU9wdGlvbnMgfSBmcm9tICdAZmFycmlzL3VpLW5vdGlmeSc7XHJcbmltcG9ydCB7IFF1ZXJ5Q29uZGl0aW9uIH0gZnJvbSAnLi4vZW50aXR5L3F1ZXJ5Y29uZGl0aW9uJztcclxuaW1wb3J0IHsgVmFsdWVUeXBlIH0gZnJvbSAnLi4vZW50aXR5L3ZhbHVldHlwZSc7XHJcbmltcG9ydCB7IFRleHRDb250cm9sIH0gZnJvbSAnLi4vZW50aXR5L2NvbnRyb2x0eXBlL3RleHQvdGV4dGNvbnRyb2wnO1xyXG5pbXBvcnQgeyBJbnB1dEdyb3VwQ29udHJvbCwgRGlhbG9nQ29uZmlnIH0gZnJvbSAnLi4vZW50aXR5L2NvbnRyb2x0eXBlL2lucHV0LWdyb3VwL2lucHV0Z3JvdXBjb250cm9sJztcclxuaW1wb3J0IHsgVGV4dFZhbHVlIH0gZnJvbSAnLi4vZW50aXR5L2NvbmRpdGlvbnZhbHVlL3RleHR2YWx1ZSc7XHJcbmltcG9ydCB7IERhdGVSYW5nZUNvbnRyb2wgfSBmcm9tICcuLi9lbnRpdHkvY29udHJvbHR5cGUvZGF0ZXJhbmdlL2RhdGUtcmFuZ2UuY29udHJvbCc7XHJcbmltcG9ydCB7IERhdGVSYW5nZVZhbHVlIH0gZnJvbSAnLi4vZW50aXR5L2NvbmRpdGlvbnZhbHVlL2RhdGVyYW5nZXZhbHVlJztcclxuaW1wb3J0IHsgTnVtYmVyUmFuZ2VDb250cm9sIH0gZnJvbSAnLi4vZW50aXR5L2NvbnRyb2x0eXBlL251bWJlcnJhbmdlL251bWJlcnJhbmdlY29udHJvbCc7XHJcbmltcG9ydCB7IE51bWJlclJhbmdlVmFsdWUgfSBmcm9tICcuLi9lbnRpdHkvY29uZGl0aW9udmFsdWUvbnVtYmVycmFuZ2V2YXVlJztcclxuaW1wb3J0IHsgRHJvcERvd25MaXN0Q29udHJvbCB9IGZyb20gJy4uL2VudGl0eS9jb250cm9sdHlwZS9kcm9wZG93bmxpc3QvZHJvcGRvd25saXN0Y29udHJvbCc7XHJcbmltcG9ydCB7IERyb3BEb3duTGlzdFZhbHVlIH0gZnJvbSAnLi4vZW50aXR5L2NvbmRpdGlvbnZhbHVlL2Ryb3Bkb3dubGlzdHZhbHVlJztcclxuaW1wb3J0IHsgU21hcnRIZWxwQ29udG9sLCBRdWlja1NlbGVjdE9wdGlvbiB9IGZyb20gJy4uL2VudGl0eS9jb250cm9sdHlwZS9zbWFydGhlbHAvc21hcnRoZWxwY29udHJvbCc7XHJcbmltcG9ydCB7IFNtYXJ0SGVscFZhbHVlIH0gZnJvbSAnLi4vZW50aXR5L2NvbmRpdGlvbnZhbHVlL3NtYXJ0aGVscHZhbHVlJztcclxuaW1wb3J0IHsgU2luZ2xlRGF0ZUNvbnRyb2wgfSBmcm9tICcuLi9lbnRpdHkvY29udHJvbHR5cGUvZGF0ZS9zaW5nbGUtZGF0ZS1jb250cm9sJztcclxuaW1wb3J0IHsgU2luZ2xlRGF0ZVZhbHVlIH0gZnJvbSAnLi4vZW50aXR5L2NvbmRpdGlvbnZhbHVlL3NpbmdsZS1kYXRlLXZhbHVlJztcclxuaW1wb3J0IHsgU2luZ2xlTnVtYmVyQ29udHJvbCB9IGZyb20gJy4uL2VudGl0eS9jb250cm9sdHlwZS9udW1iZXIvc2luZ2xlLW51bWJlci1jb250cm9sJztcclxuaW1wb3J0IHsgU2luZ2xlTnVtYmVyVmFsdWUgfSBmcm9tICcuLi9lbnRpdHkvY29uZGl0aW9udmFsdWUvc2luZ2xlLW51bWJlci12YWx1ZSc7XHJcbmltcG9ydCB7IFNpbmdsZVllYXJDb250cm9sIH0gZnJvbSAnLi4vZW50aXR5L2NvbnRyb2x0eXBlL3llYXIveWVhci1jb250cm9sJztcclxuaW1wb3J0IHsgU2luZ2xlWWVhclZhbHVlIH0gZnJvbSAnLi4vZW50aXR5L2NvbmRpdGlvbnZhbHVlL3NpbmdsZS15ZWFyLXZhbHVlJztcclxuaW1wb3J0IHsgU2luZ2xlTW9udGhDb250cm9sIH0gZnJvbSAnLi4vZW50aXR5L2NvbnRyb2x0eXBlL21vbnRoL21vbnRoLWNvbnRyb2wnO1xyXG5pbXBvcnQgeyBTaW5nbGVNb250aFZhbHVlIH0gZnJvbSAnLi4vZW50aXR5L2NvbmRpdGlvbnZhbHVlL3NpbmdsZS1tb250aC12YWx1ZSc7XHJcbmltcG9ydCB7IENoZWNrQm94Q29udHJvbCB9IGZyb20gJy4uL2VudGl0eS9jb250cm9sdHlwZS9jaGVja2JveC9jaGVja2JveC1jb250cm9sJztcclxuaW1wb3J0IHsgQ2hlY2tCb3hWYWx1ZSB9IGZyb20gJy4uL2VudGl0eS9jb25kaXRpb252YWx1ZS9jaGVja2JveC12YWx1ZSc7XHJcbmltcG9ydCB7IERhdGVUaW1lUmFuZ2VDb250cm9sIH0gZnJvbSAnLi4vZW50aXR5L2NvbnRyb2x0eXBlL2RhdGVyYW5nZS9kYXRlcnRpbWUtcmFuZ2UtY29udHJvbCc7XHJcbmltcG9ydCB7IE1vbnRoUmFuZ2VDb250cm9sIH0gZnJvbSAnLi4vZW50aXR5L2NvbnRyb2x0eXBlL21vbnRocmFuZ2UvbW9udGgtcmFuZ2UtY29udHJvbCc7XHJcbmltcG9ydCB7IE1vbnRoUmFuZ2VWYWx1ZSB9IGZyb20gJy4uL2VudGl0eS9jb25kaXRpb252YWx1ZS9tb250aC1yYW5nZS12YWx1ZSc7XHJcbmltcG9ydCB7IFNpbmdsZURhdGVUaW1lQ29udHJvbCB9IGZyb20gJy4uL2VudGl0eS9jb250cm9sdHlwZS9kYXRlL3NpbmdsZS1kYXRlLXRpbWUtY29udHJvbCc7XHJcbmltcG9ydCB7IFNpbmdsZURhdGVUaW1lVmFsdWUgfSBmcm9tICcuLi9lbnRpdHkvY29uZGl0aW9udmFsdWUvc2luZ2xlLWRhdGUtdGltZS12YWx1ZSc7XHJcbmltcG9ydCB7IENvbWJvTG9va1VwQ29udHJvbCB9IGZyb20gJy4uL2VudGl0eS9jb250cm9sdHlwZS9jb21ib2xvb2t1cC9jb21ib2xvb2t1cC1jb250cm9sJztcclxuaW1wb3J0IHsgQ29tYm9Mb29rVXBWYWx1ZSB9IGZyb20gJy4uL2VudGl0eS9jb25kaXRpb252YWx1ZS9jb21ib2xvb2t1cC12YWx1ZSc7XHJcbmltcG9ydCB7IFJhZGlvQ29udHJvbCB9IGZyb20gJy4uL2VudGl0eS9jb250cm9sdHlwZS9yYWRpby9yYWRpby1jb250cm9sJztcclxuaW1wb3J0IHsgUmFkaW9WYWx1ZSB9IGZyb20gJy4uL2VudGl0eS9jb25kaXRpb252YWx1ZS9yYWRpby12YWx1ZSc7XHJcbmltcG9ydCB7IElucHV0R3JvdXBWYWx1ZSB9IGZyb20gJy4uL2VudGl0eS9jb25kaXRpb252YWx1ZS9pbnB1dGdyb3VwdmFsdWUnO1xyXG5pbXBvcnQgeyBRdWVyeVNvbHV0aW9uVm8gfSBmcm9tICcuLi9lbnRpdHkvcXVlcnlzb2x1dGlvbnZvJztcclxuaW1wb3J0IHsgRmllbGRDb25maWcgfSBmcm9tICcuLi9lbnRpdHkvZmllbGRjb25maWcvZmllbGRjb25maWcnO1xyXG5pbXBvcnQgeyBDb250cm9sVHlwZSB9IGZyb20gJy4uL2VudGl0eS9jb250cm9sdHlwZSc7XHJcbmltcG9ydCB7IFN1YmplY3QsIEJlaGF2aW9yU3ViamVjdCB9IGZyb20gJ3J4anMnO1xyXG5cclxuXHJcbkBJbmplY3RhYmxlKClcclxuZXhwb3J0IGNsYXNzIFNvbHV0aW9uU2VydmljZSB7XHJcbiAgLy8g5qCH6K6w5Y+Y5pu0XHJcbiAgcHJpdmF0ZSBjb250cm9sQ29uZmlnU3RhdGU6IEJlaGF2aW9yU3ViamVjdDxhbnk+ID0gbmV3IEJlaGF2aW9yU3ViamVjdChbXSk7XHJcblxyXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgbm90aWZ5OiBOb3RpZnlTZXJ2aWNlKSB7IH1cclxuICBjb250cm9sVHlwZU1hcDogTWFwPG51bWJlciwgc3RyaW5nPiA9IG5ldyBNYXAoW1xyXG4gICAgW0NvbnRyb2xUeXBlLlRleHQsICd0ZXh0J10sIFtDb250cm9sVHlwZS5Cb29sQ2hlY2ssICdib29sLWNoZWNrJ10sIFtDb250cm9sVHlwZS5EYXRlUmFuZ2UsICdkYXRlJ10sXHJcbiAgICBbQ29udHJvbFR5cGUuRGF0ZVRpbWVSYW5nZSwgJ2RhdGUtdGltZSddLCBbQ29udHJvbFR5cGUuTnVtYmVyUmFuZ2UsICdudW1iZXInXSwgW0NvbnRyb2xUeXBlLkRyb3BEb3duTGlzdCwgJ2Ryb3Bkb3duJ10sXHJcbiAgICBbQ29udHJvbFR5cGUuU21hcnRIZWxwLCAnaGVscCddLCBbQ29udHJvbFR5cGUuU2luZ2xlRGF0ZSwgJ3NpbmdsZS1kYXRlJ10sIFtDb250cm9sVHlwZS5TaW5nbGVOdW1iZXIsICdzaW5nbGUtbnVtYmVyJ10sXHJcbiAgICBbQ29udHJvbFR5cGUuU2luZ2xlWWVhciwgJ3NpbmdsZS15ZWFyJ10sIFtDb250cm9sVHlwZS5TaW5nbGVNb250aCwgJ3NpbmdsZS1tb250aCddLCBbQ29udHJvbFR5cGUuTW9udGhSYW5nZSwgJ21vbnRoJ10sXHJcbiAgICBbQ29udHJvbFR5cGUuU2luZ2xlRGF0ZVRpbWUsICdzaW5nbGUtZGF0ZS10aW1lJ10sIFtDb250cm9sVHlwZS5Db21ib0xvb2tVcCwgJ2NvbWJvbGlzdC1oZWxwJ10sIFtDb250cm9sVHlwZS5SYWRpbywgJ3JhZGlvJ10sXHJcbiAgICBbQ29udHJvbFR5cGUuSW5wdXRHcm91cCwgJ2lucHV0LWdyb3VwJ11cclxuICBdKTtcclxuICBnZXRDb250cm9sQ29uZmlnU3RhdGUoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5jb250cm9sQ29uZmlnU3RhdGU7XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIOS8oOmAkui/h+adpeeahOaYr+W3sue7j+WkhOeQhui/h+eahOadoeS7tlxyXG4gICAqIEBwYXJhbSBzaW1wbGVDb25kaXRpb24gXHJcbiAgICovXHJcbiAgdXBkYXRlQ29udHJvbENvbmZpZ1N0YXRlKHNpbXBsZUNvbmRpdGlvbjogQXJyYXk8YW55Pikge1xyXG4gICAgdGhpcy5jb250cm9sQ29uZmlnU3RhdGUubmV4dChzaW1wbGVDb25kaXRpb24pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICog5Y+q6L+U5Zue5a2Y5Zyo55qE5bGe5oCnXHJcbiAgICovXHJcbiAgY29udmVydFRvU2ltcGxlUXVlcnlDb25kaXRpb25zKGZpZWxkczogQXJyYXk8RmllbGRDb25maWc+KTogQXJyYXk8YW55PiB7XHJcbiAgICBpZihmaWVsZHMgJiYgZmllbGRzLmxlbmd0aCA9PSAwKSB7XHJcbiAgICAgIHJldHVybiBbXTtcclxuICAgIH1cclxuICAgIHJldHVybiBmaWVsZHMubWFwKGZpZWxkID0+IHtcclxuICAgICAgbGV0IHNpbXBsZVF1ZXJ5Q29uZGl0aW9uID0ge307XHJcbiAgICAgIHNpbXBsZVF1ZXJ5Q29uZGl0aW9uWydmaWVsZENvZGUnXSA9IGZpZWxkLmxhYmVsQ29kZTtcclxuICAgICAgaWYoZmllbGQuaGFzT3duUHJvcGVydHkoJ3Zpc2libGUnKSkge1xyXG4gICAgICAgIHNpbXBsZVF1ZXJ5Q29uZGl0aW9uWyd2aXNpYmxlJ10gPSBmaWVsZC52aXNpYmxlO1xyXG4gICAgICB9XHJcbiAgICAgIHNpbXBsZVF1ZXJ5Q29uZGl0aW9uWydjb250cm9sJ10gPSB0aGlzLmdldFNpbXBsZUNvbnRyb2woZmllbGQpO1xyXG4gICAgICByZXR1cm4gc2ltcGxlUXVlcnlDb25kaXRpb247XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIOWPquWkhOeQhuiuvue9rueahOWxnuaAp1xyXG4gICAqIEBwYXJhbSBmaWVsZCBcclxuICAgKi9cclxuICBwcml2YXRlIGdldFNpbXBsZUNvbnRyb2woZmllbGQ6IEZpZWxkQ29uZmlnKSB7XHJcbiAgICBjb25zdCBjb250cm9sRGF0YSA9IGZpZWxkLmNvbnRyb2w7XHJcbiAgICBsZXQgc2ltcGxlQ29udHJvbCA9IHt9O1xyXG4gICAgbGV0IHRDb250cm9sVHlwZSA9IHRoaXMuY29udHJvbFR5cGVNYXAuZ2V0KGNvbnRyb2xEYXRhLmNvbnRyb2x0eXBlKTtcclxuICAgIHN3aXRjaCAodENvbnRyb2xUeXBlKSB7XHJcbiAgICAgIGNhc2UgJ3NpbmdsZS15ZWFyJzpcclxuICAgICAgICB0aGlzLnVwZGF0ZVNpbXBsZUNvbnRyb2woc2ltcGxlQ29udHJvbCwgWydtYXhEYXRlJywgJ21pbkRhdGUnXSwgY29udHJvbERhdGEpO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBkZWZhdWx0OlxyXG4gICAgICAgIHNpbXBsZUNvbnRyb2wgPSB7fTtcclxuICAgIH1cclxuICAgIHJldHVybiBzaW1wbGVDb250cm9sO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICog5Y+q5aSE55CG5oyH5a6a5bGe5oCnXHJcbiAgICogQHBhcmFtIHJlc3VsdE9iaiDkv67mlLnnmoTlr7nosaEgIHt0ZXN0MDE6JycsdGVzdDAxOicnfVxyXG4gICAqIEBwYXJhbSBzb3VyY2VQcm9wcyDlvoXojrflj5bnmoTlsZ7mgKfliJfooaggWydwcm9wMDEnLCdwcm9wMDInXVxyXG4gICAqIEBwYXJhbSBzb3VyY2Ug5Y+W5YC85p2l5rqQe3Byb3AwMTonJyxwcm9wMDI6Jyd9XHJcbiAgICogQHBhcmFtIGRpc3RQcm9wcyDnm67moIflsZ7mgKfvvIzlr7nlupTnmoTov5Tlm57lsZ7mgKfmjInnhaforr7nva5bJ2Rpc3QwMScsJyddXHJcbiAgICogQHJldHVybiBcclxuICAgKi9cclxuICBwcml2YXRlIHVwZGF0ZVNpbXBsZUNvbnRyb2wocmVzdWx0T2JqOiBhbnksIHNvdXJjZVByb3BzOiBhbnksIHNvdXJjZTogYW55LCBkaXN0UHJvcHMgPSBbXSkge1xyXG4gICAgaWYgKGRpc3RQcm9wcy5sZW5ndGggPT0gMCkge1xyXG4gICAgICBkaXN0UHJvcHMgPSBzb3VyY2VQcm9wcztcclxuICAgIH1cclxuICAgIGZvciAobGV0IG0gPSAwOyBtIDwgc291cmNlUHJvcHMubGVuZ3RoOyBtKyspIHtcclxuICAgICAgaWYgKCFkaXN0UHJvcHNbbV0pIHtcclxuICAgICAgICBkaXN0UHJvcHNbbV0gPSBzb3VyY2VQcm9wc1ttXTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgZm9yIChsZXQgayA9IDA7IGsgPCBzb3VyY2VQcm9wcy5sZW5ndGg7IGsrKykge1xyXG4gICAgICBpZiAoc291cmNlICYmIHNvdXJjZS5oYXNPd25Qcm9wZXJ0eShzb3VyY2VQcm9wc1trXSkpIHtcclxuICAgICAgICByZXN1bHRPYmpbZGlzdFByb3BzW2tdXSA9IHNvdXJjZVtzb3VyY2VQcm9wc1trXV07XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcbiAgXHJcbiAgLyoqXHJcbiAgICog5bCG5a2X5q616YWN572uSlNPTuaPj+i/sOS/oeaBr+i9rOaNouS4uuetm+mAieadoeS7tlxyXG4gICAqIEBwYXJhbSBmaWVsZHMg5a2X5q616YWN572u5L+h5oGvXHJcbiAgICogQHJldHVybnMg562b6YCJ5p2h5Lu25pWw57uEXHJcbiAgICovXHJcbiAgcHVibGljIGNvbnZlcnRUb1F1ZXJ5Q29uZGl0aW9ucyhmaWVsZHM6IEFycmF5PEZpZWxkQ29uZmlnPik6IEFycmF5PFF1ZXJ5Q29uZGl0aW9uPiB7XHJcbiAgICBsZXQgcXVlcnlDb25kaXRpb246IFF1ZXJ5Q29uZGl0aW9uO1xyXG4gICAgcmV0dXJuIGZpZWxkcy5tYXAoZmllbGQgPT4ge1xyXG4gICAgICBxdWVyeUNvbmRpdGlvbiA9IG5ldyBRdWVyeUNvbmRpdGlvbigpO1xyXG4gICAgICBxdWVyeUNvbmRpdGlvbi5pZCA9IGZpZWxkLmlkO1xyXG4gICAgICBxdWVyeUNvbmRpdGlvbi5maWVsZENvZGUgPSBmaWVsZC5sYWJlbENvZGU7XHJcbiAgICAgIC8vIHF1ZXJ5Q29uZGl0aW9uLmNvZGUgPSBmaWVsZC5jb2RlOyDml6DnlKjlsZ7mgKdcclxuICAgICAgcXVlcnlDb25kaXRpb24uZmllbGROYW1lID0gZmllbGQubmFtZTtcclxuICAgICAgcXVlcnlDb25kaXRpb24udmFsdWVUeXBlID0gVmFsdWVUeXBlLlZhbHVlO1xyXG4gICAgICBxdWVyeUNvbmRpdGlvbi5wbGFjZUhvbGRlciA9IGZpZWxkLnBsYWNlSG9sZGVyO1xyXG4gICAgICBxdWVyeUNvbmRpdGlvbi5iZWdpblBsYWNlSG9sZGVyPWZpZWxkLmhhc093blByb3BlcnR5KCdiZWdpblBsYWNlSG9sZGVyJyk/ZmllbGQuYmVnaW5QbGFjZUhvbGRlcjonJztcclxuICAgICAgcXVlcnlDb25kaXRpb24uZW5kUGxhY2VIb2xkZXI9ZmllbGQuaGFzT3duUHJvcGVydHkoJ2VuZFBsYWNlSG9sZGVyJyk/ZmllbGQuZW5kUGxhY2VIb2xkZXI6Jyc7ICAgICAgXHJcbiAgICAgIGxldCB7IGNvbnRyb2wsIHZhbHVlIH0gPSB0aGlzLmdldENvbnRyb2xBbmRWYWx1ZShmaWVsZCk7XHJcbiAgICAgIHF1ZXJ5Q29uZGl0aW9uLmNvbnRyb2wgPSBjb250cm9sO1xyXG4gICAgICBxdWVyeUNvbmRpdGlvbi52YWx1ZSA9IHZhbHVlO1xyXG4gICAgICByZXR1cm4gcXVlcnlDb25kaXRpb247XHJcbiAgICB9KTtcclxuICB9XHJcbiAgLyoqXHJcbiAgICog5qC55o2u5o6n5Lu257G75Z6L5YiG5Yir5Yib5bu6562b6YCJ5p2h5Lu255qEY29udHJvbOWvueixoeWSjHZhbHVl5a+56LGhXHJcbiAgICogQHBhcmFtIGZpZWxkIOWtl+autemFjee9ruS/oeaBr1xyXG4gICAqIEByZXR1cm5zIOetm+mAieadoeS7tueahGNvbnRyb2zlr7nosaHlkox2YWx1ZeWvueixoVxyXG4gICAqL1xyXG4gIGdldENvbnRyb2xBbmRWYWx1ZShmaWVsZDogRmllbGRDb25maWcpIHtcclxuICAgIGNvbnN0IGNvbnRyb2xEYXRhID0gZmllbGQuY29udHJvbDtcclxuICAgIGNvbnN0IHZhbHVlRGF0YSA9IGZpZWxkLnZhbHVlO1xyXG4gICAgbGV0IGNvbnRyb2wsIHZhbHVlOiBhbnk7XHJcbiAgICBzd2l0Y2ggKGNvbnRyb2xEYXRhLmNvbnRyb2x0eXBlKSB7XHJcbiAgICAgIGNhc2UgJ3RleHQnOlxyXG4gICAgICAgIGNvbnRyb2wgPSBuZXcgVGV4dENvbnRyb2woKTtcclxuICAgICAgICBjb250cm9sLmNsYXNzTmFtZSA9IGNvbnRyb2xEYXRhLmNsYXNzTmFtZTtcclxuICAgICAgICBjb250cm9sLnBsYWNlaG9sZGVyID0gY29udHJvbERhdGEucGxhY2Vob2xkZXI7XHJcbiAgICAgICAgY29udHJvbC5yZXF1aXJlID0gY29udHJvbERhdGEucmVxdWlyZTtcclxuICAgICAgICAvL3BsYWluIHN0cmluZ1xyXG4gICAgICAgIHZhbHVlID0gbmV3IFRleHRWYWx1ZSh7IHZhbHVlOiB2YWx1ZURhdGEgfSk7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgJ2lucHV0LWdyb3VwJzpcclxuICAgICAgICBjb250cm9sID0gbmV3IElucHV0R3JvdXBDb250cm9sKCk7XHJcbiAgICAgICAgY29udHJvbC5jbGFzc05hbWUgPSBjb250cm9sRGF0YS5jbGFzc05hbWU7XHJcbiAgICAgICAgY29udHJvbC5yZXF1aXJlID0gY29udHJvbERhdGEucmVxdWlyZTtcclxuICAgICAgICBjb250cm9sLmVkaXRhYmxlID0gY29udHJvbERhdGEuZWRpdGFibGU7XHJcbiAgICAgICAgY29udHJvbC5ncm91cFRleHQgPSBjb250cm9sRGF0YS5ncm91cFRleHQ7XHJcbiAgICAgICAgY29udHJvbC51c2FnZU1vZGUgPSBjb250cm9sRGF0YS51c2FnZU1vZGU7XHJcbiAgICAgICAgY29udHJvbC5kaWFsb2dPcHRpb25zID0gdGhpcy5zZXRJbnB1dEdyb3VwRGlhbG9nKGZpZWxkKTtcclxuICAgICAgICBjb250cm9sLmNsaWNrID0gY29udHJvbERhdGEuY2xpY2s7XHJcbiAgICAgICAgdmFsdWUgPSBuZXcgSW5wdXRHcm91cFZhbHVlKHZhbHVlRGF0YSk7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgJ2RhdGUnOlxyXG4gICAgICAgIGNvbnRyb2wgPSBuZXcgRGF0ZVJhbmdlQ29udHJvbCgpO1xyXG4gICAgICAgIGNvbnRyb2wuZm9ybWF0ID0gY29udHJvbERhdGEuZm9ybWF0O1xyXG4gICAgICAgIGNvbnRyb2wucmV0dXJuRm9ybWF0ID0gY29udHJvbERhdGEucmV0dXJuRm9ybWF0O1xyXG4gICAgICAgIGNvbnRyb2wuZGF0ZUNoYW5nZWRDbWQgPSBjb250cm9sRGF0YS52YWx1ZUNoYW5nZWRDbWQgPyBjb250cm9sRGF0YS52YWx1ZUNoYW5nZWRDbWQgOiBjb250cm9sRGF0YS5kYXRlQ2hhbmdlZENtZDtcclxuICAgICAgICBjb250cm9sLmNsYXNzTmFtZSA9IGNvbnRyb2xEYXRhLmNsYXNzTmFtZTtcclxuICAgICAgICBjb250cm9sLnBsYWNlaG9sZGVyID0gY29udHJvbERhdGEucGxhY2Vob2xkZXI7XHJcbiAgICAgICAgY29udHJvbC5yZXF1aXJlID0gY29udHJvbERhdGEucmVxdWlyZTtcclxuICAgICAgICBjb250cm9sLndlZWtTZWxlY3QgPSBjb250cm9sRGF0YS53ZWVrU2VsZWN0O1xyXG4gICAgICAgIGNvbnRyb2wuc2hvd1dlZWtOdW1iZXJzID0gY29udHJvbERhdGEuc2hvd1dlZWtOdW1iZXJzO1xyXG4gICAgICAgIGNvbnRyb2wuc3RhcnRGaWVsZENvZGUgPSBjb250cm9sRGF0YS5zdGFydEZpZWxkQ29kZSB8fCBmaWVsZC5sYWJlbENvZGU7XHJcbiAgICAgICAgY29udHJvbC5lbmRGaWVsZENvZGUgPSBjb250cm9sRGF0YS5lbmRGaWVsZENvZGUgfHwgZmllbGQubGFiZWxDb2RlO1xyXG4gICAgICAgIGNvbnRyb2wuZW5hYmxlU3BsaXQgPSBjb250cm9sRGF0YS5lbmFibGVTcGxpdCB8fCBmYWxzZTtcclxuICAgICAgICAvL2NvbnRyb2wuYmVnaW5QbGFjZUhvbGRlcj1jb250cm9sRGF0YS5iZWdpblBsYWNlSG9sZGVyO1xyXG4gICAgICAgIC8vY29udHJvbC5lbmRQbGFjZUhvbGRlcj1jb250cm9sRGF0YS5lbmRQbGFjZUhvbGRlcjtcclxuICAgICAgICAvL3tzdGFydFRpbWU6IHZhbHVlRGF0YS5zdGFydFRpbWUsIGVuZFRpbWU6IHZhbHVlRGF0YS5lbmRUaW1lfVxyXG4gICAgICAgIHZhbHVlID0gbmV3IERhdGVSYW5nZVZhbHVlKHZhbHVlRGF0YSk7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgJ2RhdGUtdGltZSc6XHJcbiAgICAgICAgY29udHJvbCA9IG5ldyBEYXRlVGltZVJhbmdlQ29udHJvbCgpO1xyXG4gICAgICAgIGNvbnRyb2wuZm9ybWF0ID0gY29udHJvbERhdGEuZm9ybWF0O1xyXG4gICAgICAgIGNvbnRyb2wucmV0dXJuRm9ybWF0ID0gY29udHJvbERhdGEucmV0dXJuRm9ybWF0O1xyXG4gICAgICAgIGNvbnRyb2wuZGF0ZUNoYW5nZWRDbWQgPSBjb250cm9sRGF0YS52YWx1ZUNoYW5nZWRDbWQgPyBjb250cm9sRGF0YS52YWx1ZUNoYW5nZWRDbWQgOiBjb250cm9sRGF0YS5kYXRlQ2hhbmdlZENtZDtcclxuICAgICAgICBjb250cm9sLmNsYXNzTmFtZSA9IGNvbnRyb2xEYXRhLmNsYXNzTmFtZTtcclxuICAgICAgICBjb250cm9sLnBsYWNlaG9sZGVyID0gY29udHJvbERhdGEucGxhY2Vob2xkZXI7XHJcbiAgICAgICAgY29udHJvbC5yZXF1aXJlID0gY29udHJvbERhdGEucmVxdWlyZTtcclxuICAgICAgICBjb250cm9sLmVuYWJsZUN1c3RvbUZvcm1hdCA9IGNvbnRyb2xEYXRhLmVuYWJsZUN1c3RvbUZvcm1hdDsgICAgICBcclxuICAgICAgICBjb250cm9sLmVuYWJsZVNwbGl0ID0gY29udHJvbERhdGEuZW5hYmxlU3BsaXQgfHwgZmFsc2U7ICBcclxuICAgICAgIC8vIGNvbnRyb2wuYmVnaW5QbGFjZUhvbGRlcj1jb250cm9sRGF0YS5iZWdpblBsYWNlSG9sZGVyO1xyXG4gICAgICAgIC8vY29udHJvbC5lbmRQbGFjZUhvbGRlcj1jb250cm9sRGF0YS5lbmRQbGFjZUhvbGRlcjtcclxuICAgICAgICAvL2NvbnRyb2wud2Vla1NlbGVjdCA9IGNvbnRyb2xEYXRhLndlZWtTZWxlY3Q7XHJcbiAgICAgICAgLy9jb250cm9sLnNob3dXZWVrTnVtYmVycyA9IGNvbnRyb2xEYXRhLnNob3dXZWVrTnVtYmVycztcclxuICAgICAgICAvL3tzdGFydFRpbWU6IHZhbHVlRGF0YS5zdGFydFRpbWUsIGVuZFRpbWU6IHZhbHVlRGF0YS5lbmRUaW1lfVxyXG4gICAgICAgIHZhbHVlID0gbmV3IERhdGVSYW5nZVZhbHVlKHZhbHVlRGF0YSk7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgJ21vbnRoJzpcclxuICAgICAgICBjb250cm9sID0gbmV3IE1vbnRoUmFuZ2VDb250cm9sKCk7XHJcbiAgICAgICAgY29udHJvbC5mb3JtYXQgPSBjb250cm9sRGF0YS5mb3JtYXQ7XHJcbiAgICAgICAgY29udHJvbC5yZXR1cm5Gb3JtYXQgPSBjb250cm9sRGF0YS5yZXR1cm5Gb3JtYXQ7XHJcbiAgICAgICAgY29udHJvbC5kYXRlQ2hhbmdlZENtZCA9IGNvbnRyb2xEYXRhLnZhbHVlQ2hhbmdlZENtZCA/IGNvbnRyb2xEYXRhLnZhbHVlQ2hhbmdlZENtZCA6IGNvbnRyb2xEYXRhLmRhdGVDaGFuZ2VkQ21kO1xyXG4gICAgICAgIGNvbnRyb2wuY2xhc3NOYW1lID0gY29udHJvbERhdGEuY2xhc3NOYW1lO1xyXG4gICAgICAgIGNvbnRyb2wucGxhY2Vob2xkZXIgPSBjb250cm9sRGF0YS5wbGFjZWhvbGRlcjtcclxuICAgICAgICBjb250cm9sLnJlcXVpcmUgPSBjb250cm9sRGF0YS5yZXF1aXJlOyAgICAgIFxyXG4gICAgICAgIGNvbnRyb2wuZW5hYmxlU3BsaXQgPSBjb250cm9sRGF0YS5lbmFibGVTcGxpdCB8fCBmYWxzZTtcclxuICAgICAgICAvL2NvbnRyb2wuYmVnaW5QbGFjZUhvbGRlcj1jb250cm9sRGF0YS5iZWdpblBsYWNlSG9sZGVyO1xyXG4gICAgICAgIC8vY29udHJvbC5lbmRQbGFjZUhvbGRlcj1jb250cm9sRGF0YS5lbmRQbGFjZUhvbGRlcjtcclxuICAgICAgICB2YWx1ZSA9IG5ldyBNb250aFJhbmdlVmFsdWUodmFsdWVEYXRhKTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSAnbnVtYmVyJzpcclxuICAgICAgICBjb250cm9sID0gbmV3IE51bWJlclJhbmdlQ29udHJvbCgpO1xyXG4gICAgICAgIGNvbnRyb2wuY2xhc3NOYW1lID0gY29udHJvbERhdGEuY2xhc3NOYW1lO1xyXG4gICAgICAgIGNvbnRyb2wucGxhY2Vob2xkZXIgPSB0aGlzLmVtcHR5U3RyaW5nKGNvbnRyb2xEYXRhLnBsYWNlaG9sZGVyKTtcclxuICAgICAgICBjb250cm9sLnJlcXVpcmUgPSBjb250cm9sRGF0YS5yZXF1aXJlO1xyXG4gICAgICAgIGNvbnRyb2wucHJlY2lzaW9uID0gY29udHJvbERhdGEucHJlY2lzaW9uO1xyXG4gICAgICAgIGNvbnRyb2wudGV4dEFsaWduID0gY29udHJvbERhdGEudGV4dEFsaWduO1xyXG4gICAgICAgIGNvbnRyb2wuYmlnTnVtYmVyID0gY29udHJvbERhdGEuaXNCaWdOdW1iZXI7XHJcbiAgICAgICAgY29udHJvbC5taW4gPSBjb250cm9sRGF0YS5taW5WYWx1ZTtcclxuICAgICAgICBjb250cm9sLm1heCA9IGNvbnRyb2xEYXRhLm1heFZhbHVlOyAgICAgICAgXHJcbiAgICAgICAgLy9jb250cm9sLmJlZ2luUGxhY2VIb2xkZXI9Y29udHJvbERhdGEuYmVnaW5QbGFjZUhvbGRlcjtcclxuICAgICAgICAvL2NvbnRyb2wuZW5kUGxhY2VIb2xkZXI9Y29udHJvbERhdGEuZW5kUGxhY2VIb2xkZXI7XHJcbiAgICAgICAgLy97c3RhcnRWYWx1ZTogdmFsdWVEYXRhLnN0YXJ0VmFsdWUsIGVuZFZhbHVlOiB2YWx1ZURhdGEuZW5kVmFsdWV9XHJcbiAgICAgICAgdmFsdWUgPSBuZXcgTnVtYmVyUmFuZ2VWYWx1ZSh2YWx1ZURhdGEpO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlICdkcm9wZG93bic6XHJcbiAgICAgICAgY29udHJvbCA9IG5ldyBEcm9wRG93bkxpc3RDb250cm9sKCk7XHJcbiAgICAgICAgY29udHJvbC52YWx1ZVR5cGUgPSBjb250cm9sRGF0YS52YWx1ZVR5cGU7XHJcbiAgICAgICAgY29udHJvbC5lbnVtVmFsdWVzID0gY29udHJvbERhdGEuZW51bVZhbHVlcztcclxuICAgICAgICBjb250cm9sLnVyaSA9IGNvbnRyb2xEYXRhLnVyaTtcclxuICAgICAgICBjb250cm9sLmJlZm9yZVNob3cgPSBjb250cm9sRGF0YS5iZWZvcmVTaG93O1xyXG4gICAgICAgIGNvbnRyb2wuYmVmb3JlSGlkZSA9IGNvbnRyb2xEYXRhLmJlZm9yZUhpZGU7XHJcbiAgICAgICAgY29udHJvbC5pZEZpZWxkID0gY29udHJvbERhdGEuaWRGaWVsZDtcclxuICAgICAgICBjb250cm9sLnRleHRGaWVsZCA9IGNvbnRyb2xEYXRhLnRleHRGaWVsZDtcclxuICAgICAgICBjb250cm9sLm11bHRpU2VsZWN0ID0gY29udHJvbERhdGEubXVsdGlTZWxlY3Q7XHJcbiAgICAgICAgY29udHJvbC5jbGFzc05hbWUgPSBjb250cm9sRGF0YS5jbGFzc05hbWU7XHJcbiAgICAgICAgY29udHJvbC5wbGFjZWhvbGRlciA9IGNvbnRyb2xEYXRhLnBsYWNlaG9sZGVyO1xyXG4gICAgICAgIGNvbnRyb2wucGFuZWxIZWlnaHQgPSBjb250cm9sRGF0YS5wYW5lbEhlaWdodDtcclxuICAgICAgICBjb250cm9sLnJlcXVpcmUgPSBjb250cm9sRGF0YS5yZXF1aXJlO1xyXG4gICAgICAgIC8ve3ZhbHVlOiBbZW51bVZhbHVlc10sIGtleTog5Lul77yM5Y+35YiG5Ymy55qE5a2X56ym5LiyfSlcclxuICAgICAgICB2YWx1ZSA9IG5ldyBEcm9wRG93bkxpc3RWYWx1ZSh2YWx1ZURhdGEpO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlICdoZWxwJzpcclxuICAgICAgICBjb250cm9sID0gbmV3IFNtYXJ0SGVscENvbnRvbCgpO1xyXG4gICAgICAgIGNvbnRyb2wudXJpID0gY29udHJvbERhdGEudXJpO1xyXG4gICAgICAgIGNvbnRyb2wudGV4dEZpZWxkID0gY29udHJvbERhdGEudGV4dEZpZWxkO1xyXG4gICAgICAgIGNvbnRyb2wudmFsdWVGaWVsZCA9IGNvbnRyb2xEYXRhLnZhbHVlRmllbGQ7XHJcbiAgICAgICAgY29udHJvbC5kaXNwbGF5VHlwZSA9IGNvbnRyb2xEYXRhLmRpc3BsYXlUeXBlO1xyXG4gICAgICAgIGNvbnRyb2wuaWRGaWVsZCA9IGNvbnRyb2xEYXRhLmlkRmllbGQ7XHJcbiAgICAgICAgY29udHJvbC5tYXBGaWVsZHMgPSBjb250cm9sRGF0YS5tYXBGaWVsZHM7XHJcbiAgICAgICAgY29udHJvbC5wcmVFdmVudENtZCA9IGNvbnRyb2xEYXRhLnByZUV2ZW50Q21kO1xyXG4gICAgICAgIGNvbnRyb2wucG9zdEV2ZW50Q21kID0gY29udHJvbERhdGEucG9zdEV2ZW50Q21kO1xyXG4gICAgICAgIGNvbnRyb2wuY29udGV4dCA9IGNvbnRyb2xEYXRhLmNvbnRleHQ7XHJcbiAgICAgICAgY29udHJvbC5jbGFzc05hbWUgPSBjb250cm9sRGF0YS5jbGFzc05hbWU7XHJcbiAgICAgICAgY29udHJvbC5lbmFibGVGdWxsVHJlZSA9IGNvbnRyb2xEYXRhLmVuYWJsZUZ1bGxUcmVlO1xyXG4gICAgICAgIGNvbnRyb2wubG9hZFRyZWVEYXRhVHlwZSA9IGNvbnRyb2xEYXRhLmxvYWRUcmVlRGF0YVR5cGU7XHJcbiAgICAgICAgY29udHJvbC5zaW5nbGVTZWxlY3QgPSBjb250cm9sRGF0YS5zaW5nbGVTZWxlY3Q7XHJcbiAgICAgICAgY29udHJvbC5leHBhbmRMZXZlbCA9IGNvbnRyb2xEYXRhLmV4cGFuZExldmVsO1xyXG4gICAgICAgIGNvbnRyb2wuZW5hYmxlQ2FzY2FkZSA9IGNvbnRyb2xEYXRhLmVuYWJsZUNhc2NhZGU7XHJcbiAgICAgICAgY29udHJvbC5jYXNjYWRlU3RhdHVzID0gY29udHJvbERhdGEuY2FzY2FkZVN0YXR1cztcclxuICAgICAgICBjb250cm9sLnBsYWNlaG9sZGVyID0gY29udHJvbERhdGEucGxhY2Vob2xkZXI7XHJcbiAgICAgICAgY29udHJvbC5yZXF1aXJlID0gY29udHJvbERhdGEucmVxdWlyZTtcclxuICAgICAgICBjb250cm9sLm5vc2VhcmNoID0gY29udHJvbERhdGEubm9zZWFyY2g7XHJcbiAgICAgICAgY29udHJvbC5kaXNwbGF5RmllbGRzID0gY29udHJvbERhdGEuZGlzcGxheUZpZWxkcztcclxuICAgICAgICBjb250cm9sLmRpc3BsYXlUZXh0U2VwYXJhdG9yID0gY29udHJvbERhdGEuZGlzcGxheVRleHRTZXBhcmF0b3I7XHJcbiAgICAgICAgY29udHJvbC5lZGl0YWJsZSA9IGNvbnRyb2xEYXRhLmVkaXRhYmxlO1xyXG4gICAgICAgIGNvbnRyb2wuY2xlYXJGaWVsZHMgPSBjb250cm9sRGF0YS5jbGVhckZpZWxkcztcclxuICAgICAgICBjb250cm9sLmNsZWFyID0gY29udHJvbERhdGEuY2xlYXI7XHJcbiAgICAgICAgY29udHJvbC5kaWFsb2dUaXRsZSA9IGNvbnRyb2xEYXRhLmRpYWxvZ1RpdGxlO1xyXG4gICAgICAgIGNvbnRyb2wucGFuZWxIZWlnaHQgPSBjb250cm9sRGF0YS5wYW5lbEhlaWdodDtcclxuICAgICAgICBjb250cm9sLnBhbmVsV2lkdGggPSBjb250cm9sRGF0YS5wYW5lbFdpZHRoO1xyXG4gICAgICAgIGNvbnRyb2wuZW5hYmxlTXVsdGlGaWVsZFNlYXJjaCA9IGNvbnRyb2xEYXRhLmVuYWJsZU11bHRpRmllbGRTZWFyY2g7XHJcbiAgICAgICAgaWYgKGNvbnRyb2xEYXRhLmhhc093blByb3BlcnR5KCdwYWdlU2l6ZScpKSB7XHJcbiAgICAgICAgICBjb250cm9sLnBhZ2VTaXplID0gY29udHJvbERhdGEucGFnZVNpemU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChjb250cm9sRGF0YS5oYXNPd25Qcm9wZXJ0eSgncGFnZUxpc3QnKSkge1xyXG4gICAgICAgICAgY29udHJvbC5wYWdlTGlzdCA9IGNvbnRyb2xEYXRhLnBhZ2VMaXN0O1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoY29udHJvbERhdGEuaGFzT3duUHJvcGVydHkoJ3F1aWNrU2VsZWN0JykpIHtcclxuICAgICAgICAgIGxldCBxdWlja1NlbGVjdENvbnRyb2wgPSBuZXcgUXVpY2tTZWxlY3RPcHRpb24oKTtcclxuICAgICAgICAgIHF1aWNrU2VsZWN0Q29udHJvbC5lbmFibGUgPSBjb250cm9sRGF0YS5xdWlja1NlbGVjdFsnZW5hYmxlJ107XHJcbiAgICAgICAgICBxdWlja1NlbGVjdENvbnRyb2wuc2hvd0l0ZW1zQ291bnQgPSBjb250cm9sRGF0YS5xdWlja1NlbGVjdFsnc2hvd0l0ZW1zQ291bnQnXTtcclxuICAgICAgICAgIHF1aWNrU2VsZWN0Q29udHJvbC5mb3JtYXR0ZXIgPSBjb250cm9sRGF0YS5xdWlja1NlbGVjdFsnZm9ybWF0dGVyJ107XHJcbiAgICAgICAgICBxdWlja1NlbGVjdENvbnRyb2wuc2hvd01vcmUgPSBjb250cm9sRGF0YS5xdWlja1NlbGVjdFsnc2hvd01vcmUnXTtcclxuICAgICAgICAgIGNvbnRyb2wucXVpY2tTZWxlY3QgPSBxdWlja1NlbGVjdENvbnRyb2w7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8ve3ZhbHVlOiBbe31dLCB2YWx1ZUZpZWxkOiBzdHJpbmcsIHRleHRWYWx1ZTogc3RyaW5nfVxyXG4gICAgICAgIHZhbHVlID0gbmV3IFNtYXJ0SGVscFZhbHVlKHZhbHVlRGF0YSk7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgJ2NvbWJvbGlzdC1oZWxwJzpcclxuICAgICAgICBjb250cm9sID0gbmV3IENvbWJvTG9va1VwQ29udHJvbCgpO1xyXG4gICAgICAgIGNvbnRyb2wudXJpID0gY29udHJvbERhdGEudXJpO1xyXG4gICAgICAgIGNvbnRyb2wuaWRGaWVsZCA9IGNvbnRyb2xEYXRhLmlkRmllbGQ7XHJcbiAgICAgICAgY29udHJvbC52YWx1ZUZpZWxkID0gY29udHJvbERhdGEudmFsdWVGaWVsZDtcclxuICAgICAgICBjb250cm9sLnRleHRGaWVsZCA9IGNvbnRyb2xEYXRhLnRleHRGaWVsZDtcclxuICAgICAgICBjb250cm9sLm1hcEZpZWxkcyA9IGNvbnRyb2xEYXRhLm1hcEZpZWxkcztcclxuICAgICAgICBjb250cm9sLmRpc3BsYXlUeXBlID0gdGhpcy5kaXNwbGF5VHlwZVRyYW5zZm9ybShjb250cm9sRGF0YS5kaXNwbGF5VHlwZSk7XHJcbiAgICAgICAgY29udHJvbC5zaW5nbGVTZWxlY3QgPSBjb250cm9sRGF0YS5zaW5nbGVTZWxlY3Q7XHJcbiAgICAgICAgY29udHJvbC5wcmVFdmVudENtZCA9IGNvbnRyb2xEYXRhLnByZUV2ZW50Q21kO1xyXG4gICAgICAgIGNvbnRyb2wucG9zdEV2ZW50Q21kID0gY29udHJvbERhdGEucG9zdEV2ZW50Q21kO1xyXG4gICAgICAgIGNvbnRyb2wuZW5hYmxlRnVsbFRyZWUgPSBjb250cm9sRGF0YS5lbmFibGVGdWxsVHJlZTtcclxuICAgICAgICBjb250cm9sLmxvYWRUcmVlRGF0YVR5cGUgPSBjb250cm9sRGF0YS5sb2FkVHJlZURhdGFUeXBlO1xyXG4gICAgICAgIGNvbnRyb2wuZXhwYW5kTGV2ZWwgPSBjb250cm9sRGF0YS5leHBhbmRMZXZlbDtcclxuICAgICAgICBjb250cm9sLmNsYXNzTmFtZSA9IGNvbnRyb2xEYXRhLmNsYXNzTmFtZTtcclxuICAgICAgICBjb250cm9sLnBsYWNlaG9sZGVyID0gY29udHJvbERhdGEucGxhY2Vob2xkZXI7XHJcbiAgICAgICAgY29udHJvbC5wYW5lbFdpZHRoID0gY29udHJvbERhdGEucGFuZWxXaWR0aDtcclxuICAgICAgICBjb250cm9sLnBhbmVsSGVpZ2h0ID0gY29udHJvbERhdGEucGFuZWxIZWlnaHQ7XHJcbiAgICAgICAgY29udHJvbC5yZXF1aXJlID0gY29udHJvbERhdGEucmVxdWlyZTtcclxuICAgICAgICBjb250cm9sLmNvbnRleHQgPSBjb250cm9sRGF0YS5jb250ZXh0O1xyXG4gICAgICAgIC8ve3ZhbHVlOiBbe31dLCB2YWx1ZUZpZWxkOiBzdHJpbmcsIHRleHRWYWx1ZTogc3RyaW5nfVxyXG4gICAgICAgIHZhbHVlID0gbmV3IENvbWJvTG9va1VwVmFsdWUodmFsdWVEYXRhKTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSAnc2luZ2xlLWRhdGUnOlxyXG4gICAgICAgIGNvbnRyb2wgPSBuZXcgU2luZ2xlRGF0ZUNvbnRyb2woKTtcclxuICAgICAgICBjb250cm9sLmZvcm1hdCA9IGNvbnRyb2xEYXRhLmZvcm1hdDtcclxuICAgICAgICBjb250cm9sLnJldHVybkZvcm1hdCA9IGNvbnRyb2xEYXRhLnJldHVybkZvcm1hdDtcclxuICAgICAgICBjb250cm9sLmRhdGVDaGFuZ2VkQ21kID0gY29udHJvbERhdGEudmFsdWVDaGFuZ2VkQ21kID8gY29udHJvbERhdGEudmFsdWVDaGFuZ2VkQ21kIDogY29udHJvbERhdGEuZGF0ZUNoYW5nZWRDbWQ7XHJcbiAgICAgICAgY29udHJvbC5jbGFzc05hbWUgPSBjb250cm9sRGF0YS5jbGFzc05hbWU7XHJcbiAgICAgICAgY29udHJvbC5wbGFjZWhvbGRlciA9IGNvbnRyb2xEYXRhLnBsYWNlaG9sZGVyO1xyXG4gICAgICAgIGNvbnRyb2wucmVxdWlyZSA9IGNvbnRyb2xEYXRhLnJlcXVpcmU7XHJcbiAgICAgICAgY29udHJvbC5pc0R5bmFtaWNEYXRlID0gY29udHJvbERhdGEuaXNEeW5hbWljRGF0ZSA/IGNvbnRyb2xEYXRhLmlzRHluYW1pY0RhdGUgOiBmYWxzZTtcclxuICAgICAgICAvL3BsYWluIHN0cmluZ1xyXG4gICAgICAgIHZhbHVlID0gbmV3IFNpbmdsZURhdGVWYWx1ZSh2YWx1ZURhdGEpO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlICdzaW5nbGUtZGF0ZS10aW1lJzpcclxuICAgICAgICBjb250cm9sID0gbmV3IFNpbmdsZURhdGVUaW1lQ29udHJvbCgpO1xyXG4gICAgICAgIGNvbnRyb2wuZm9ybWF0ID0gY29udHJvbERhdGEuZm9ybWF0O1xyXG4gICAgICAgIGNvbnRyb2wucmV0dXJuRm9ybWF0PWNvbnRyb2xEYXRhLnJldHVybkZvcm1hdDtcclxuICAgICAgICBjb250cm9sLmRhdGVDaGFuZ2VkQ21kID0gY29udHJvbERhdGEudmFsdWVDaGFuZ2VkQ21kID8gY29udHJvbERhdGEudmFsdWVDaGFuZ2VkQ21kIDogY29udHJvbERhdGEuZGF0ZUNoYW5nZWRDbWQ7XHJcbiAgICAgICAgY29udHJvbC5jbGFzc05hbWUgPSBjb250cm9sRGF0YS5jbGFzc05hbWU7XHJcbiAgICAgICAgY29udHJvbC5wbGFjZWhvbGRlciA9IGNvbnRyb2xEYXRhLnBsYWNlaG9sZGVyO1xyXG4gICAgICAgIGNvbnRyb2wucmVxdWlyZSA9IGNvbnRyb2xEYXRhLnJlcXVpcmU7XHJcbiAgICAgICAgY29udHJvbC5lbmFibGVDdXN0b21Gb3JtYXQgPSBjb250cm9sRGF0YS5lbmFibGVDdXN0b21Gb3JtYXQ7ICAgIFxyXG4gICAgICAgIHZhbHVlID0gbmV3IFNpbmdsZURhdGVUaW1lVmFsdWUodmFsdWVEYXRhKTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSAnc2luZ2xlLW51bWJlcic6XHJcbiAgICAgICAgY29udHJvbCA9IG5ldyBTaW5nbGVOdW1iZXJDb250cm9sKCk7XHJcbiAgICAgICAgY29udHJvbC5jbGFzc05hbWUgPSBjb250cm9sRGF0YS5jbGFzc05hbWU7XHJcbiAgICAgICAgY29udHJvbC5wbGFjZWhvbGRlciA9IHRoaXMuZW1wdHlTdHJpbmcoY29udHJvbERhdGEucGxhY2Vob2xkZXIpO1xyXG4gICAgICAgIGNvbnRyb2wucHJlY2lzaW9uID0gY29udHJvbERhdGEucHJlY2lzaW9uO1xyXG4gICAgICAgIGNvbnRyb2wucmVxdWlyZSA9IGNvbnRyb2xEYXRhLnJlcXVpcmU7XHJcbiAgICAgICAgY29udHJvbC50ZXh0QWxpZ24gPSBjb250cm9sRGF0YS50ZXh0QWxpZ247XHJcbiAgICAgICAgY29udHJvbC5iaWdOdW1iZXIgPSBjb250cm9sRGF0YS5pc0JpZ051bWJlcjtcclxuICAgICAgICBjb250cm9sLm1pbiA9IGNvbnRyb2xEYXRhLm1pblZhbHVlO1xyXG4gICAgICAgIGNvbnRyb2wubWF4ID0gY29udHJvbERhdGEubWF4VmFsdWU7XHJcbiAgICAgICAgLy97bnVtVmFsdWU6IHh4eHh9XHJcbiAgICAgICAgdmFsdWUgPSBuZXcgU2luZ2xlTnVtYmVyVmFsdWUodmFsdWVEYXRhKTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSAnc2luZ2xlLXllYXInOlxyXG4gICAgICAgIGNvbnRyb2wgPSBuZXcgU2luZ2xlWWVhckNvbnRyb2woKTtcclxuICAgICAgICBjb250cm9sLmZvcm1hdCA9IGNvbnRyb2xEYXRhLmZvcm1hdDtcclxuICAgICAgICBjb250cm9sLnJldHVybkZvcm1hdCA9IGNvbnRyb2xEYXRhLnJldHVybkZvcm1hdDtcclxuICAgICAgICBjb250cm9sLmRhdGVDaGFuZ2VkQ21kID0gY29udHJvbERhdGEudmFsdWVDaGFuZ2VkQ21kID8gY29udHJvbERhdGEudmFsdWVDaGFuZ2VkQ21kIDogY29udHJvbERhdGEuZGF0ZUNoYW5nZWRDbWQ7XHJcbiAgICAgICAgY29udHJvbC5jbGFzc05hbWUgPSBjb250cm9sRGF0YS5jbGFzc05hbWU7XHJcbiAgICAgICAgY29udHJvbC5wbGFjZWhvbGRlciA9IGNvbnRyb2xEYXRhLnBsYWNlaG9sZGVyO1xyXG4gICAgICAgIGNvbnRyb2wucmVxdWlyZSA9IGNvbnRyb2xEYXRhLnJlcXVpcmU7XHJcbiAgICAgICAgY29udHJvbC5tYXhEYXRlID0gY29udHJvbERhdGEubWF4RGF0ZTtcclxuICAgICAgICBjb250cm9sLm1pbkRhdGUgPSBjb250cm9sRGF0YS5taW5EYXRlO1xyXG4gICAgICAgIC8veWVhclZhbHVlIDogcGxhaW4gc3RyaW5nXHJcbiAgICAgICAgdmFsdWUgPSBuZXcgU2luZ2xlWWVhclZhbHVlKHZhbHVlRGF0YSk7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgJ3NpbmdsZS1tb250aCc6XHJcbiAgICAgICAgY29udHJvbCA9IG5ldyBTaW5nbGVNb250aENvbnRyb2woKTtcclxuICAgICAgICBjb250cm9sLmZvcm1hdCA9IGNvbnRyb2xEYXRhLmZvcm1hdDtcclxuICAgICAgICBjb250cm9sLnJldHVybkZvcm1hdCA9IGNvbnRyb2xEYXRhLnJldHVybkZvcm1hdDtcclxuICAgICAgICBjb250cm9sLmRhdGVDaGFuZ2VkQ21kID0gY29udHJvbERhdGEudmFsdWVDaGFuZ2VkQ21kID8gY29udHJvbERhdGEudmFsdWVDaGFuZ2VkQ21kIDogY29udHJvbERhdGEuZGF0ZUNoYW5nZWRDbWQ7XHJcbiAgICAgICAgY29udHJvbC5jbGFzc05hbWUgPSBjb250cm9sRGF0YS5jbGFzc05hbWU7XHJcbiAgICAgICAgY29udHJvbC5wbGFjZWhvbGRlciA9IGNvbnRyb2xEYXRhLnBsYWNlaG9sZGVyO1xyXG4gICAgICAgIGNvbnRyb2wucmVxdWlyZSA9IGNvbnRyb2xEYXRhLnJlcXVpcmU7XHJcbiAgICAgICAgdmFsdWUgPSBuZXcgU2luZ2xlTW9udGhWYWx1ZSh2YWx1ZURhdGEpO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlICdib29sLWNoZWNrJzpcclxuICAgICAgICBjb250cm9sID0gbmV3IENoZWNrQm94Q29udHJvbCgpO1xyXG4gICAgICAgIGNvbnRyb2wuY2xhc3NOYW1lID0gY29udHJvbERhdGEuY2xhc3NOYW1lO1xyXG4gICAgICAgIGNvbnRyb2wuZGF0YSA9IFt7IHZhbHVlOiBcInRydWVcIiwgbmFtZTogZmllbGQubmFtZSB9XTtcclxuICAgICAgICBjb250cm9sLmhvcml6b250YWwgPSBjb250cm9sRGF0YS5ob3Jpem9udGFsO1xyXG4gICAgICAgIGNvbnRyb2wuZGlzYWJsZSA9IGNvbnRyb2xEYXRhLmRpc2FibGU7XHJcbiAgICAgICAgY29udHJvbC5pc1N0cmluZ1ZhbHVlID0gZmFsc2U7XHJcbiAgICAgICAgY29udHJvbC5yZXF1aXJlID0gY29udHJvbERhdGEucmVxdWlyZTtcclxuICAgICAgICAvL1t0cnVlXSBvciBbZmFsc2VdXHJcbiAgICAgICAgdmFsdWUgPSBuZXcgQ2hlY2tCb3hWYWx1ZSh2YWx1ZURhdGEpO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlICdyYWRpbyc6XHJcbiAgICAgICAgY29udHJvbCA9IG5ldyBSYWRpb0NvbnRyb2woKTtcclxuICAgICAgICBjb250cm9sLnZhbHVlVHlwZSA9IGNvbnRyb2xEYXRhLnZhbHVlVHlwZTtcclxuICAgICAgICBjb250cm9sLmVudW1WYWx1ZXMgPSBjb250cm9sRGF0YS5lbnVtVmFsdWVzO1xyXG4gICAgICAgIGNvbnRyb2wuY2xhc3NOYW1lID0gY29udHJvbERhdGEuY2xhc3NOYW1lO1xyXG4gICAgICAgIGNvbnRyb2wuc2hvd0xhYmVsID0gY29udHJvbERhdGEuc2hvd0xhYmVsO1xyXG4gICAgICAgIGNvbnRyb2wuaG9yaXpvbnRhbCA9IGNvbnRyb2xEYXRhLmhvcml6b250YWw7XHJcbiAgICAgICAgY29udHJvbC5kaXNhYmxlZCA9IGNvbnRyb2xEYXRhLmRpc2FibGVkO1xyXG4gICAgICAgIGNvbnRyb2wucmVxdWlyZSA9IGNvbnRyb2xEYXRhLnJlcXVpcmU7XHJcbiAgICAgICAgdmFsdWUgPSBuZXcgUmFkaW9WYWx1ZSh2YWx1ZURhdGEpO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHsgY29udHJvbCwgdmFsdWUgfTtcclxuICB9XHJcblxyXG4gIGdldEd1aWQoKSB7XHJcbiAgICByZXR1cm4gKHRoaXMuczQoKSArIHRoaXMuczQoKSArIFwiLVwiICsgdGhpcy5zNCgpICsgXCItXCIgKyB0aGlzLnM0KCkgKyBcIi1cIiArIHRoaXMuczQoKSArIFwiLVwiICsgdGhpcy5zNCgpICsgdGhpcy5zNCgpICsgdGhpcy5zNCgpKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgczQoKSB7XHJcbiAgICByZXR1cm4gKCgoMSArIE1hdGgucmFuZG9tKCkpICogMHgxMDAwMCkgfCAwKS50b1N0cmluZygxNikuc3Vic3RyaW5nKDEpO1xyXG4gIH1cclxuXHJcbiAgc2hvd0luZm8obWVzc2FnZTogc3RyaW5nLCBpbmZvVHlwZTogc3RyaW5nLCB0aXRsZTogc3RyaW5nLCB0aW1lb3V0OiBudW1iZXIpIHtcclxuICAgIHRoaXMubm90aWZ5LmNvbmZpZy5wb3NpdGlvbiA9ICd0b3AtY2VudGVyJztcclxuICAgIGlmIChpbmZvVHlwZSA9PSAnc3VjY2VzcycpIHtcclxuICAgICAgdGhpcy5ub3RpZnkuc3VjY2Vzcyg8Tm90aWZ5T3B0aW9ucz57IHRpdGxlOiB0aXRsZSwgbXNnOiBtZXNzYWdlLCB0aW1lb3V0OiB0aW1lb3V0IH0pO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoaW5mb1R5cGUgPT0gJ2luZm8nKSB7XHJcbiAgICAgIHRoaXMubm90aWZ5LmluZm8oPE5vdGlmeU9wdGlvbnM+eyB0aXRsZTogdGl0bGUsIG1zZzogbWVzc2FnZSwgdGltZW91dDogdGltZW91dCB9KTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGluZm9UeXBlID09ICd3YXJuaW5nJykge1xyXG4gICAgICB0aGlzLm5vdGlmeS53YXJuaW5nKDxOb3RpZnlPcHRpb25zPnsgdGl0bGU6IHRpdGxlLCBtc2c6IG1lc3NhZ2UsIHRpbWVvdXQ6IHRpbWVvdXQgfSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChpbmZvVHlwZSA9PSAnZXJyb3InKSB7XHJcbiAgICAgIHRoaXMubm90aWZ5LmVycm9yKDxOb3RpZnlPcHRpb25zPnsgdGl0bGU6IHRpdGxlLCBtc2c6IG1lc3NhZ2UsIHRpbWVvdXQ6IHRpbWVvdXQgfSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuXHJcbiAgLyoqXHJcbiAgKiDmoLnmja7lrZfmrrXojrflj5ZMYWJsZeaOp+S7tueahFRpdGxlXHJcbiAgKiBAcGFyYW0gZmllbGRcclxuICAqL1xyXG4gIGdldENvbmRpdGlvbkl0ZW1UaXRsZShmaWVsZDogUXVlcnlDb25kaXRpb24pIHtcclxuICAgIGlmIChmaWVsZC5pZCAmJiBmaWVsZC5pZCAhPT0gJycpIHtcclxuICAgICAgcmV0dXJuIGZpZWxkLmZpZWxkTmFtZTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIOWKoOi9veetm+mAieaWueahiOaXtui1i+m7mOiupOWAvFxyXG4gICAqIEBwYXJhbSBzb2x1dGlvbiDpnIDopoHotYvpu5jorqTlgLznmoTnrZvpgInmlrnmoYhcclxuICAgKiBAcGFyYW0gZmllbGRDb25maWdzIOm7mOiupOWAvOiuvue9rlxyXG4gICAqIEBwYXJhbSByZWFkb25seSDmmK/lkKblj6ror7tcclxuICAgKiBAcmV0dXJucyDlt7LotYvpu5jorqTlgLznmoTnrZvpgInmlrnmoYhcclxuICAgKi9cclxuICBzZXRWYWx1ZXMoc29sdXRpb246IFF1ZXJ5U29sdXRpb25WbywgZmllbGRDb25maWdzOiBGaWVsZENvbmZpZ1tdLCByZWFkb25seTogYm9vbGVhbik6IFF1ZXJ5U29sdXRpb25WbyB7XHJcbiAgICBsZXQgcWM6IFF1ZXJ5Q29uZGl0aW9uO1xyXG4gICAgY29uc3QgY29uZGl0aW9ucyA9IHNvbHV0aW9uLnF1ZXJ5Q29uZGl0aW9ucyA/IHNvbHV0aW9uLnF1ZXJ5Q29uZGl0aW9ucyA6IFtdO1xyXG4gICAgbGV0IGNvbnRyb2xUeXBlOiBzdHJpbmc7XHJcbiAgICBmaWVsZENvbmZpZ3MuZm9yRWFjaChmaWVsZCA9PiB7XHJcbiAgICAgIHFjID0gY29uZGl0aW9ucy5maW5kKGMgPT4gYy5maWVsZENvZGUgPT0gZmllbGQubGFiZWxDb2RlKTtcclxuICAgICAgLy9xYy5jb250cm9s5bm25LiN5pivY29udHJvbERhdGFcclxuICAgICAgaWYgKHFjICYmIHFjLmNvbnRyb2wgJiYgcWMudmFsdWUpIHtcclxuICAgICAgICBjb250cm9sVHlwZSA9IHRoaXMuY29udHJvbFR5cGVNYXAuZ2V0KHFjLmNvbnRyb2wuZ2V0Q29udHJvbFR5cGUoKSk7XHJcbiAgICAgICAgZmllbGQuY29udHJvbCA9IHsgY29udHJvbHR5cGU6IGNvbnRyb2xUeXBlIH07XHJcbiAgICAgICAgY29uc3QgeyBjb250cm9sLCB2YWx1ZSB9ID0gdGhpcy5nZXRDb250cm9sQW5kVmFsdWUoZmllbGQpO1xyXG4gICAgICAgIHFjLnZhbHVlID0gdGhpcy5pc051bUNoZWNrKHFjLCB2YWx1ZSwgZmllbGQpO1xyXG4gICAgICAgIHFjLnJlYWRvbmx5ID0gcmVhZG9ubHk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIHNvbHV0aW9uO1xyXG4gIH1cclxuICAvKipcclxuICAgKiBcclxuICAgKiBAcGFyYW0gc29sdXRpb24g6ZyA6KaB5pu05paw6YWN572u55qE562b6YCJ5pa55qGIXHJcbiAgICogQHBhcmFtIGZpZWxkQ29uZmlncyDmm7TmlrDphY3nva5cclxuICAgKiBAcmV0dXJucyDlt7Lmm7TmlrDphY3nva7nmoTnrZvpgInmlrnmoYhcclxuICAgKi9cclxuICB1cGRhdGVDb250cm9sKGNvbmRpdGlvbnM6IEFycmF5PFF1ZXJ5Q29uZGl0aW9uPiwgZmllbGRDb25maWdzOiBBcnJheTxhbnk+KSB7XHJcbiAgICBsZXQgcWM6IFF1ZXJ5Q29uZGl0aW9uO1xyXG4gICAgY29uZGl0aW9ucyA9IGNvbmRpdGlvbnMgPyBjb25kaXRpb25zIDogW107XHJcbiAgICBpZiAoY29uZGl0aW9ucy5sZW5ndGggPiAwKSB7XHJcbiAgICAgIGZpZWxkQ29uZmlncy5mb3JFYWNoKGZpZWxkID0+IHtcclxuICAgICAgICBxYyA9IGNvbmRpdGlvbnMuZmluZChjID0+IGMuZmllbGRDb2RlID09IGZpZWxkWydmaWVsZENvZGUnXSk7XHJcbiAgICAgICAgaWYocWMgJiYgcWMuaGFzT3duUHJvcGVydHkoJ3Zpc2libGUnKSAmJiBmaWVsZC5oYXNPd25Qcm9wZXJ0eSgndmlzaWJsZScpICYmIGZpZWxkWyd2aXNpYmxlJ10gIT09IHFjLnZpc2libGUgKSB7XHJcbiAgICAgICAgICBxYy52aXNpYmxlID0gZmllbGRbJ3Zpc2libGUnXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHFjICYmIHFjLmNvbnRyb2wpIHtcclxuICAgICAgICAgIGZvciAodmFyIHByb3AgaW4gZmllbGQuY29udHJvbCkge1xyXG4gICAgICAgICAgICBxYy5jb250cm9sW3Byb3BdID0gZmllbGQuY29udHJvbFtwcm9wXVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICAvLyBsZXQgcWM6IFF1ZXJ5Q29uZGl0aW9uO1xyXG4gICAgLy8gY29uc3QgY29uZGl0aW9ucyA9IHNvbHV0aW9uLnF1ZXJ5Q29uZGl0aW9ucyA/IHNvbHV0aW9uLnF1ZXJ5Q29uZGl0aW9ucyA6IFtdO1xyXG4gICAgLy8gaWYgKGNvbmRpdGlvbnMubGVuZ3RoID4gMCkge1xyXG4gICAgLy8gICBmaWVsZENvbmZpZ3MuZm9yRWFjaChmaWVsZCA9PiB7XHJcbiAgICAvLyAgICAgcWMgPSBjb25kaXRpb25zLmZpbmQoYyA9PiBjLmZpZWxkQ29kZSA9PSBmaWVsZC5sYWJlbENvZGUpO1xyXG4gICAgLy8gICAgIGlmIChxYyAmJiBxYy5jb250cm9sKSB7XHJcbiAgICAvLyAgICAgICBmb3IgKHZhciBwcm9wIGluIGZpZWxkLmNvbnRyb2wpIHtcclxuICAgIC8vICAgICAgICAgcWMuY29udHJvbFtwcm9wXSA9IGZpZWxkLmNvbnRyb2xbcHJvcF1cclxuICAgIC8vICAgICAgIH1cclxuICAgIC8vICAgICB9XHJcbiAgICAvLyAgIH0pO1xyXG4gICAgLy8gfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICog5b+F5aGr5o6n5Lu26Z2e56m65Yik5patXHJcbiAgICogQHBhcmFtIGNvbmRpdGlvbnMg6L+b6KGM562b6YCJ5pON5L2c5pe25b2T5YmN5omA5pyJ55qE562b6YCJ5p2h5Lu2XHJcbiAgICovXHJcbiAgaXNWYWxpZChjb25kaXRpb25zOiBBcnJheTxRdWVyeUNvbmRpdGlvbj4pOiBhbnlbXSB7XHJcbiAgICBsZXQgcWM6IFF1ZXJ5Q29uZGl0aW9uO1xyXG4gICAgY29uc3QgZXJyb3JBcnIgPSBjb25kaXRpb25zLm1hcChxYyA9PiB7XHJcbiAgICAgIGlmIChxYy5jb250cm9sLmlzUmVxdWlyZWQoKSAmJiBxYy52YWx1ZS5pc0VtcHR5KCkgJiYgcWMudmlzaWJsZSkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICB0eXBlOiAncmVxdWlyZScsXHJcbiAgICAgICAgICBmaWVsZDogcWMuZmllbGROYW1lXHJcbiAgICAgICAgfTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gZXJyb3JBcnIuZmlsdGVyKGVycm9yID0+IGVycm9yICE9IG51bGwpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICog6Kej5Yaz5pWw5YC85o6n5Lu2cGxhY2Vob2xkZXLmmL7npLrkuLp1bmRlZmluZWTnmoTpl67pophcclxuICAgKiBAcGFyYW0gcyDmlbDlgLzmjqfku7ZKU09O5o+P6L+w5Lit55qEcGxhY2Vob2xkZXLphY3nva7kv6Hmga9cclxuICAgKi9cclxuICBwcml2YXRlIGVtcHR5U3RyaW5nKGRhdGE6IGFueSkge1xyXG4gICAgaWYgKGRhdGEgPT09IG51bGwgfHwgZGF0YSA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgIHJldHVybiAnJztcclxuICAgIH1cclxuICAgIHJldHVybiBkYXRhO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICog6Kej5Yazaml055Sf5oiQ5Luj56CB5ZCO5LiL5ouJ5biu5Yqp5o6n5Lu255qEZGlzcGxheVR5cGXlsZ7mgKfkuI7nu4Tku7ZhcGnkuI3kuIDoh7TnmoTpl67pophcclxuICAgKiBAcGFyYW0gZGF0YSDkuIvmi4nluK7liqnmjqfku7ZKU09O5o+P6L+w5Lit55qEZGlzcGxheVR5cGXphY3nva7kv6Hmga9cclxuICAgKi9cclxuICBwcml2YXRlIGRpc3BsYXlUeXBlVHJhbnNmb3JtKGRhdGE6IGFueSkge1xyXG4gICAgaWYgKGRhdGEgPT09ICdMaXN0Jykge1xyXG4gICAgICByZXR1cm4gJ0xPT0tVUExJU1QnO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuICdMT09LVVBUUkVFTElTVCc7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiDop6PlhrPmlbDlgLzmjqfku7botYvpu5jorqTlgLzlip/og73kuI7mnIDlpKfmnIDlsI/lgLzpmZDliLblip/og73nmoTlhrLnqoHpl67pophcclxuICAgKiBAcGFyYW0gY29uZGl0aW9uIOW9k+WJjeato+WcqOi1i+m7mOiupOWAvOeahOetm+mAieadoeS7tu+8jOiLpeaYr+aVsOWAvOexu+Wei++8jOmcgOimgeaPkOWPluWFtmNvbnRyb2zlr7nosaHnmoRtYXjlsZ7mgKflkoxtaW7lsZ7mgKfnmoTlgLxcclxuICAgKiBAcGFyYW0gdmFsdWUg6buY6K6k5YC86YWN572udmFsdWXlr7nosaFcclxuICAgKiBAcGFyYW0gZmllbGQg6buY6K6k5YC86YWN572uXHJcbiAgICogQHJldHVybnMg5qCh6aqM5pyA5aSn5YC85ZKM5pyA5bCP5YC85LmL5ZCO55qE6buY6K6k5YC86YWN572udmFsdWXlr7nosaFcclxuICAgKi9cclxuICBwcml2YXRlIGlzTnVtQ2hlY2soY29uZGl0aW9uOiBhbnksIHZhbHVlOiBhbnksIGZpZWxkOiBhbnkpIHtcclxuICAgIGxldCBtaW5WYWx1ZTogYW55O1xyXG4gICAgbGV0IG1heFZhbHVlOiBhbnk7XHJcbiAgICBpZiAoZmllbGQuY29udHJvbC5jb250cm9sdHlwZSA9PSAnc2luZ2xlLW51bWJlcicpIHtcclxuICAgICAgbWluVmFsdWUgPSAoY29uZGl0aW9uLmNvbnRyb2wubWluID09IG51bGwgfHwgY29uZGl0aW9uLmNvbnRyb2wubWluID09IHVuZGVmaW5lZCkgPyAtMjE0NzQ4MzY0OCA6IGNvbmRpdGlvbi5jb250cm9sLm1pbjtcclxuICAgICAgbWF4VmFsdWUgPSAoY29uZGl0aW9uLmNvbnRyb2wubWF4ID09IG51bGwgfHwgY29uZGl0aW9uLmNvbnRyb2wubWF4ID09IHVuZGVmaW5lZCkgPyAyMTQ3NDgzNjQ3IDogY29uZGl0aW9uLmNvbnRyb2wubWF4O1xyXG4gICAgICB2YWx1ZS5udW1WYWx1ZSA9ICgodmFsdWUubnVtVmFsdWUgLSBtaW5WYWx1ZSkgPiAwKSA/IHZhbHVlLm51bVZhbHVlIDogbWluVmFsdWU7XHJcbiAgICAgIHZhbHVlLm51bVZhbHVlID0gKCh2YWx1ZS5udW1WYWx1ZSAtIG1heFZhbHVlKSA8IDApID8gdmFsdWUubnVtVmFsdWUgOiBtYXhWYWx1ZTtcclxuICAgIH1cclxuICAgIGlmIChmaWVsZC5jb250cm9sLmNvbnRyb2x0eXBlID09ICdudW1iZXInKSB7XHJcbiAgICAgIG1pblZhbHVlID0gKGNvbmRpdGlvbi5jb250cm9sLm1pbiA9PSBudWxsIHx8IGNvbmRpdGlvbi5jb250cm9sLm1pbiA9PSB1bmRlZmluZWQpID8gLTIxNDc0ODM2NDggOiBjb25kaXRpb24uY29udHJvbC5taW47XHJcbiAgICAgIG1heFZhbHVlID0gKGNvbmRpdGlvbi5jb250cm9sLm1heCA9PSBudWxsIHx8IGNvbmRpdGlvbi5jb250cm9sLm1heCA9PSB1bmRlZmluZWQpID8gMjE0NzQ4MzY0NyA6IGNvbmRpdGlvbi5jb250cm9sLm1heDtcclxuICAgICAgdmFsdWUuc3RhcnRWYWx1ZSA9ICgodmFsdWUuc3RhcnRWYWx1ZSAtIG1pblZhbHVlKSA+IDApID8gdmFsdWUuc3RhcnRWYWx1ZSA6IG1pblZhbHVlO1xyXG4gICAgICB2YWx1ZS5zdGFydFZhbHVlID0gKCh2YWx1ZS5zdGFydFZhbHVlIC0gbWF4VmFsdWUpIDwgMCkgPyB2YWx1ZS5zdGFydFZhbHVlIDogbWF4VmFsdWU7XHJcbiAgICAgIHZhbHVlLmVuZFZhbHVlID0gKCh2YWx1ZS5lbmRWYWx1ZSAtIG1pblZhbHVlKSA+IDApID8gdmFsdWUuZW5kVmFsdWUgOiBtaW5WYWx1ZTtcclxuICAgICAgdmFsdWUuZW5kVmFsdWUgPSAoKHZhbHVlLmVuZFZhbHVlIC0gbWF4VmFsdWUpIDwgMCkgPyB2YWx1ZS5lbmRWYWx1ZSA6IG1heFZhbHVlO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHZhbHVlO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICog5pm66IO96L6T5YWl5qGG5o6n5Lu26ZyA6KaB5by55Ye66KGo5Y2V5pe277yM5bCG6KGo5Y2V6YWN572uSlNPTuaPj+i/sOi9rOaNouS4uuW8ueWHuuihqOWNleWRveS7pOWPr+aOpeaUtueahOW8ueeql+WPguaVsFxyXG4gICAqIEBwYXJhbSBmaWVsZCDphY3nva7kuLrmmbrog73ovpPlhaXmoYbmjqfku7bnmoTlrZfmrrXnmoRKU09O5o+P6L+wXHJcbiAgICogQHJldHVybnMg5by556qX5Y+C5pWwXHJcbiAgICovXHJcbiAgcHJpdmF0ZSBzZXRJbnB1dEdyb3VwRGlhbG9nKGZpZWxkOiBhbnkpOiBEaWFsb2dDb25maWcge1xyXG4gICAgbGV0IGlucHV0R3JvdXBDb250cm9sRGF0YSA9IGZpZWxkLmNvbnRyb2w7XHJcbiAgICBsZXQgbW9kYWxDb25maWdEYXRhID0gaW5wdXRHcm91cENvbnRyb2xEYXRhLm1vZGFsQ29uZmlnO1xyXG4gICAgaWYgKCFmaWVsZC5pZCB8fCBpbnB1dEdyb3VwQ29udHJvbERhdGEudXNhZ2VNb2RlID09ICd0ZXh0Jykge1xyXG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xyXG4gICAgfVxyXG5cclxuICAgIGxldCBkaWFsb2dDb25maWcgPSBuZXcgRGlhbG9nQ29uZmlnKCk7XHJcbiAgICBkaWFsb2dDb25maWcubW9kYWxJZCA9IGZpZWxkLmlkO1xyXG4gICAgaWYgKG1vZGFsQ29uZmlnRGF0YS5tYXBGaWVsZHMpIHtcclxuICAgICAgZGlhbG9nQ29uZmlnLm1hcEZpZWxkcyA9IEpTT04ucGFyc2UobW9kYWxDb25maWdEYXRhLm1hcEZpZWxkcy5yZXBsYWNlKC8nL2csICdcIicpKTtcclxuICAgIH1cclxuICAgIGRpYWxvZ0NvbmZpZy5zaG93SGVhZGVyID0gbW9kYWxDb25maWdEYXRhLmhhc093blByb3BlcnR5KCdzaG93SGVhZGVyJykgPyBtb2RhbENvbmZpZ0RhdGEuc2hvd0hlYWRlciA6IHRydWU7XHJcbiAgICBkaWFsb2dDb25maWcuc2hvd0Nsb3NlQnV0dG9uID0gbW9kYWxDb25maWdEYXRhLmhhc093blByb3BlcnR5KCdzaG93Q2xvc2VCdXR0b24nKSA/IG1vZGFsQ29uZmlnRGF0YS5zaG93Q2xvc2VCdXR0b24gOiB0cnVlO1xyXG4gICAgZGlhbG9nQ29uZmlnLnNob3dNYXhCdXR0b24gPSBtb2RhbENvbmZpZ0RhdGEuaGFzT3duUHJvcGVydHkoJ3Nob3dNYXhCdXR0b24nKSA/IG1vZGFsQ29uZmlnRGF0YS5zaG93TWF4QnV0dG9uIDogdHJ1ZTtcclxuICAgIGRpYWxvZ0NvbmZpZy50aXRsZSA9IG1vZGFsQ29uZmlnRGF0YS5oYXNPd25Qcm9wZXJ0eSgndGl0bGUnKSA/IG1vZGFsQ29uZmlnRGF0YS50aXRsZSA6ICcnO1xyXG4gICAgZGlhbG9nQ29uZmlnLndpZHRoID0gbW9kYWxDb25maWdEYXRhLndpZHRoO1xyXG4gICAgZGlhbG9nQ29uZmlnLmhlaWdodCA9IG1vZGFsQ29uZmlnRGF0YS5oZWlnaHQ7XHJcbiAgICByZXR1cm4gZGlhbG9nQ29uZmlnO1xyXG4gIH1cclxufVxyXG5cclxuIl19