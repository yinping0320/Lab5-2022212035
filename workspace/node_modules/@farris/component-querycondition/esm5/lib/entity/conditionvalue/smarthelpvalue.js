/**
 * @fileoverview added by tsickle
 * Generated from: lib/entity/conditionvalue/smarthelpvalue.ts
 * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { ControlType } from "../controltype";
import { cloneDeep } from 'lodash-es';
var SmartHelpValue = /** @class */ (function () {
    function SmartHelpValue(data) {
        if (data === void 0) { data = { value: [], valueField: undefined, textValue: undefined, isInputText: undefined }; }
        if (data.textValue) {
            this.value = data.value;
            this.valueField = data.valueField;
            this.textValue = data.textValue;
            this.isInputText = data.isInputText;
        }
        else {
            //帮助未支持多选时，没有textValue属性，所有值都是通过选择产生的
            this.value = data.value;
            this.valueField = data.valueField ? data.valueField : '';
            this.textValue = 'help-text-value-null';
            this.isInputText = false;
        }
    }
    /**
     * @return {?}
     */
    SmartHelpValue.prototype.getControlType = /**
     * @return {?}
     */
    function () {
        return ControlType.SmartHelp;
    };
    /**
     * @param {?} value
     * @return {?}
     */
    SmartHelpValue.prototype.setOriginalValue = /**
     * @param {?} value
     * @return {?}
     */
    function (value) {
        throw new Error("Method not implemented.");
    };
    /**
     * @return {?}
     */
    SmartHelpValue.prototype.getOriginalValue = /**
     * @return {?}
     */
    function () {
        var _this = this;
        /** @type {?} */
        var args = this.valueField.split('.');
        /** @type {?} */
        var valueArr = this.value.map((/**
         * @param {?} helpItem
         * @return {?}
         */
        function (helpItem) { return _this.getPropValue(helpItem, cloneDeep(args)); }));
        return valueArr && valueArr.length ? valueArr.join(',') : '';
    };
    /**
     * @return {?}
     */
    SmartHelpValue.prototype.clearValue = /**
     * @return {?}
     */
    function () {
        this.value = [];
        this.valueField = undefined;
        this.textValue = undefined;
        this.isInputText = undefined;
    };
    /**
     * @return {?}
     */
    SmartHelpValue.prototype.isEmpty = /**
     * @return {?}
     */
    function () {
        return !this.value.length;
    };
    /**
     * @param {?} textField
     * @return {?}
     */
    SmartHelpValue.prototype.getTextValue = /**
     * @param {?} textField
     * @return {?}
     */
    function (textField) {
        var _this = this;
        /** @type {?} */
        var args = textField.split('.');
        /** @type {?} */
        var textArr = this.value.map((/**
         * @param {?} helpItem
         * @return {?}
         */
        function (helpItem) { return _this.getPropValue(helpItem, cloneDeep(args)); }));
        return textArr && textArr.length ? textArr.join(',') : '';
    };
    /**
     * @param {?} helpItem
     * @param {?} args
     * @return {?}
     */
    SmartHelpValue.prototype.getPropValue = /**
     * @param {?} helpItem
     * @param {?} args
     * @return {?}
     */
    function (helpItem, args) {
        if (args.length > 1) {
            /** @type {?} */
            var arg = args.shift();
            return helpItem[arg] ? this.getPropValue(helpItem[arg], args) : null;
        }
        return helpItem[args[0]];
    };
    return SmartHelpValue;
}());
export { SmartHelpValue };
if (false) {
    /** @type {?} */
    SmartHelpValue.prototype.value;
    /** @type {?} */
    SmartHelpValue.prototype.valueField;
    /** @type {?} */
    SmartHelpValue.prototype.textValue;
    /** @type {?} */
    SmartHelpValue.prototype.isInputText;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic21hcnRoZWxwdmFsdWUuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9AZmFycmlzL2NvbXBvbmVudC1xdWVyeWNvbmRpdGlvbi8iLCJzb3VyY2VzIjpbImxpYi9lbnRpdHkvY29uZGl0aW9udmFsdWUvc21hcnRoZWxwdmFsdWUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFDQSxPQUFPLEVBQUUsV0FBVyxFQUFFLE1BQU0sZ0JBQWdCLENBQUM7QUFDN0MsT0FBTyxFQUFFLFNBQVMsRUFBRSxNQUFNLFdBQVcsQ0FBQztBQUV0QztJQWlDSSx3QkFBWSxJQUt3RTtRQUx4RSxxQkFBQSxFQUFBLFNBS1AsS0FBSyxFQUFFLEVBQUUsRUFBRSxVQUFVLEVBQUUsU0FBUyxFQUFFLFNBQVMsRUFBRSxTQUFTLEVBQUUsV0FBVyxFQUFFLFNBQVMsRUFBQztRQUNoRixJQUFHLElBQUksQ0FBQyxTQUFTLEVBQUM7WUFDZCxJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUM7WUFDeEIsSUFBSSxDQUFDLFVBQVUsR0FBRyxJQUFJLENBQUMsVUFBVSxDQUFDO1lBQ2xDLElBQUksQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQztZQUNoQyxJQUFJLENBQUMsV0FBVyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUM7U0FDdkM7YUFBSTtZQUNELHFDQUFxQztZQUNyQyxJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUM7WUFDeEIsSUFBSSxDQUFDLFVBQVUsR0FBRyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUM7WUFDekQsSUFBSSxDQUFDLFNBQVMsR0FBRyxzQkFBc0IsQ0FBQztZQUN4QyxJQUFJLENBQUMsV0FBVyxHQUFHLEtBQUssQ0FBQztTQUM1QjtJQUNMLENBQUM7Ozs7SUFqREQsdUNBQWM7OztJQUFkO1FBQ0ksT0FBTyxXQUFXLENBQUMsU0FBUyxDQUFDO0lBQ2pDLENBQUM7Ozs7O0lBRUQseUNBQWdCOzs7O0lBQWhCLFVBQWlCLEtBQVU7UUFDdkIsTUFBTSxJQUFJLEtBQUssQ0FBQyx5QkFBeUIsQ0FBQyxDQUFDO0lBQy9DLENBQUM7Ozs7SUFFRCx5Q0FBZ0I7OztJQUFoQjtRQUFBLGlCQUlDOztZQUhTLElBQUksR0FBRyxJQUFJLENBQUMsVUFBVSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUM7O1lBQ2pDLFFBQVEsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLEdBQUc7Ozs7UUFBQyxVQUFBLFFBQVEsSUFBSSxPQUFBLEtBQUksQ0FBQyxZQUFZLENBQUMsUUFBUSxFQUFFLFNBQVMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxFQUE1QyxDQUE0QyxFQUFDO1FBQ3pGLE9BQU8sUUFBUSxJQUFJLFFBQVEsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQztJQUNqRSxDQUFDOzs7O0lBRUQsbUNBQVU7OztJQUFWO1FBQ0ksSUFBSSxDQUFDLEtBQUssR0FBRyxFQUFFLENBQUM7UUFDaEIsSUFBSSxDQUFDLFVBQVUsR0FBRyxTQUFTLENBQUM7UUFDNUIsSUFBSSxDQUFDLFNBQVMsR0FBRyxTQUFTLENBQUM7UUFDM0IsSUFBSSxDQUFDLFdBQVcsR0FBRyxTQUFTLENBQUM7SUFDakMsQ0FBQzs7OztJQUVELGdDQUFPOzs7SUFBUDtRQUNJLE9BQU8sQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQztJQUM5QixDQUFDOzs7OztJQTRCRCxxQ0FBWTs7OztJQUFaLFVBQWEsU0FBaUI7UUFBOUIsaUJBSUM7O1lBSFMsSUFBSSxHQUFHLFNBQVMsQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDOztZQUMzQixPQUFPLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHOzs7O1FBQUMsVUFBQSxRQUFRLElBQUksT0FBQSxLQUFJLENBQUMsWUFBWSxDQUFDLFFBQVEsRUFBRSxTQUFTLENBQUMsSUFBSSxDQUFDLENBQUMsRUFBNUMsQ0FBNEMsRUFBQztRQUN4RixPQUFPLE9BQU8sSUFBSSxPQUFPLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUM7SUFDOUQsQ0FBQzs7Ozs7O0lBRUQscUNBQVk7Ozs7O0lBQVosVUFBYSxRQUFhLEVBQUUsSUFBbUI7UUFDM0MsSUFBRyxJQUFJLENBQUMsTUFBTSxHQUFHLENBQUMsRUFBQzs7Z0JBQ1QsR0FBRyxHQUFHLElBQUksQ0FBQyxLQUFLLEVBQUU7WUFDeEIsT0FBTyxRQUFRLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUM7U0FDeEU7UUFDRCxPQUFPLFFBQVEsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUM3QixDQUFDO0lBQ0wscUJBQUM7QUFBRCxDQUFDLEFBbEVELElBa0VDOzs7O0lBdkNHLCtCQUFhOztJQUNiLG9DQUFtQjs7SUFDbkIsbUNBQWtCOztJQUVsQixxQ0FBcUIiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJVmFsdWUgfSBmcm9tIFwiLi9pdmFsdWVcIjtcclxuaW1wb3J0IHsgQ29udHJvbFR5cGUgfSBmcm9tIFwiLi4vY29udHJvbHR5cGVcIjtcclxuaW1wb3J0IHsgY2xvbmVEZWVwIH0gZnJvbSAnbG9kYXNoLWVzJztcclxuXHJcbmV4cG9ydCBjbGFzcyBTbWFydEhlbHBWYWx1ZSBpbXBsZW1lbnRzIElWYWx1ZXtcclxuXHJcbiAgICBnZXRDb250cm9sVHlwZSgpOiBDb250cm9sVHlwZSB7XHJcbiAgICAgICAgcmV0dXJuIENvbnRyb2xUeXBlLlNtYXJ0SGVscDtcclxuICAgIH1cclxuXHJcbiAgICBzZXRPcmlnaW5hbFZhbHVlKHZhbHVlOiBhbnkpOiB2b2lkIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNZXRob2Qgbm90IGltcGxlbWVudGVkLlwiKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRPcmlnaW5hbFZhbHVlKCk6IHN0cmluZyB7XHJcbiAgICAgICAgY29uc3QgYXJncyA9IHRoaXMudmFsdWVGaWVsZC5zcGxpdCgnLicpO1xyXG4gICAgICAgIGNvbnN0IHZhbHVlQXJyID0gdGhpcy52YWx1ZS5tYXAoaGVscEl0ZW0gPT4gdGhpcy5nZXRQcm9wVmFsdWUoaGVscEl0ZW0sIGNsb25lRGVlcChhcmdzKSkpO1xyXG4gICAgICAgIHJldHVybiB2YWx1ZUFyciAmJiB2YWx1ZUFyci5sZW5ndGggPyB2YWx1ZUFyci5qb2luKCcsJykgOiAnJztcclxuICAgIH1cclxuXHJcbiAgICBjbGVhclZhbHVlKCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMudmFsdWUgPSBbXTtcclxuICAgICAgICB0aGlzLnZhbHVlRmllbGQgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgdGhpcy50ZXh0VmFsdWUgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgdGhpcy5pc0lucHV0VGV4dCA9IHVuZGVmaW5lZDtcclxuICAgIH1cclxuICAgIFxyXG4gICAgaXNFbXB0eSgpOiBib29sZWFuIHtcclxuICAgICAgICByZXR1cm4gIXRoaXMudmFsdWUubGVuZ3RoO1xyXG4gICAgfVxyXG5cclxuICAgIHZhbHVlOiBhbnlbXTtcclxuICAgIHZhbHVlRmllbGQ6IHN0cmluZztcclxuICAgIHRleHRWYWx1ZTogc3RyaW5nO1xyXG4gICAgLy/luK7liqnnmoTlgLzmmK/lkKbkuLrmiYvliqjovpPlhaXnmoTku7vmhI/lgLzvvIzlr7nlupTluK7liqnnmoTku7vmhI/ovpPlhaXlsZ7mgKdub3NlYXJjaFxyXG4gICAgaXNJbnB1dFRleHQ6IGJvb2xlYW47IFxyXG5cclxuICAgIGNvbnN0cnVjdG9yKGRhdGE6IHtcclxuICAgICAgICB2YWx1ZTogYW55LCBcclxuICAgICAgICB2YWx1ZUZpZWxkOiBzdHJpbmcsXHJcbiAgICAgICAgdGV4dFZhbHVlOiBzdHJpbmcsXHJcbiAgICAgICAgaXNJbnB1dFRleHQ6IGJvb2xlYW5cclxuICAgIH0gPSB7dmFsdWU6IFtdLCB2YWx1ZUZpZWxkOiB1bmRlZmluZWQsIHRleHRWYWx1ZTogdW5kZWZpbmVkLCBpc0lucHV0VGV4dDogdW5kZWZpbmVkfSl7XHJcbiAgICAgICAgaWYoZGF0YS50ZXh0VmFsdWUpe1xyXG4gICAgICAgICAgICB0aGlzLnZhbHVlID0gZGF0YS52YWx1ZTtcclxuICAgICAgICAgICAgdGhpcy52YWx1ZUZpZWxkID0gZGF0YS52YWx1ZUZpZWxkO1xyXG4gICAgICAgICAgICB0aGlzLnRleHRWYWx1ZSA9IGRhdGEudGV4dFZhbHVlO1xyXG4gICAgICAgICAgICB0aGlzLmlzSW5wdXRUZXh0ID0gZGF0YS5pc0lucHV0VGV4dDtcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgLy/luK7liqnmnKrmlK/mjIHlpJrpgInml7bvvIzmsqHmnIl0ZXh0VmFsdWXlsZ7mgKfvvIzmiYDmnInlgLzpg73mmK/pgJrov4fpgInmi6nkuqfnlJ/nmoRcclxuICAgICAgICAgICAgdGhpcy52YWx1ZSA9IGRhdGEudmFsdWU7XHJcbiAgICAgICAgICAgIHRoaXMudmFsdWVGaWVsZCA9IGRhdGEudmFsdWVGaWVsZCA/IGRhdGEudmFsdWVGaWVsZCA6ICcnO1xyXG4gICAgICAgICAgICB0aGlzLnRleHRWYWx1ZSA9ICdoZWxwLXRleHQtdmFsdWUtbnVsbCc7IFxyXG4gICAgICAgICAgICB0aGlzLmlzSW5wdXRUZXh0ID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGdldFRleHRWYWx1ZSh0ZXh0RmllbGQ6IHN0cmluZyk6IHN0cmluZyB7XHJcbiAgICAgICAgY29uc3QgYXJncyA9IHRleHRGaWVsZC5zcGxpdCgnLicpO1xyXG4gICAgICAgIGNvbnN0IHRleHRBcnIgPSB0aGlzLnZhbHVlLm1hcChoZWxwSXRlbSA9PiB0aGlzLmdldFByb3BWYWx1ZShoZWxwSXRlbSwgY2xvbmVEZWVwKGFyZ3MpKSk7XHJcbiAgICAgICAgcmV0dXJuIHRleHRBcnIgJiYgdGV4dEFyci5sZW5ndGggPyB0ZXh0QXJyLmpvaW4oJywnKSA6ICcnO1xyXG4gICAgfVxyXG5cclxuICAgIGdldFByb3BWYWx1ZShoZWxwSXRlbTogYW55LCBhcmdzOiBBcnJheTxzdHJpbmc+KTogYW55e1xyXG4gICAgICAgIGlmKGFyZ3MubGVuZ3RoID4gMSl7XHJcbiAgICAgICAgICAgIGNvbnN0IGFyZyA9IGFyZ3Muc2hpZnQoKTtcclxuICAgICAgICAgICAgcmV0dXJuIGhlbHBJdGVtW2FyZ10gPyB0aGlzLmdldFByb3BWYWx1ZShoZWxwSXRlbVthcmddLCBhcmdzKSA6IG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBoZWxwSXRlbVthcmdzWzBdXTtcclxuICAgIH1cclxufSJdfQ==