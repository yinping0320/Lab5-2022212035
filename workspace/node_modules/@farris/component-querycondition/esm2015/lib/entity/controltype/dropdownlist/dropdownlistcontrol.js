/**
 * @fileoverview added by tsickle
 * Generated from: lib/entity/controltype/dropdownlist/dropdownlistcontrol.ts
 * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { ControlType } from "../../controltype";
import { EnumType } from "./enumtype";
import { EnumValueConvert } from "./ienumvalue";
import { EnumStringValue } from "./stringenumvalue";
import { EnumBoolValue } from "./boolenumvalue";
import { EnumIntegerValue } from "./integerenumvalue";
/**
 * 下拉列表控件
 */
export class DropDownListControl {
    /**
     * 获取控件类型
     * @return {?}
     */
    getControlType() {
        return ControlType.DropDownList;
    }
    /**
     * @return {?}
     */
    isRequired() {
        return !!this.require;
    }
}
if (false) {
    /**
     * 下拉值类型
     * @type {?}
     */
    DropDownListControl.prototype.valueType;
    /**
     * 下拉数据源列表
     * 该属性为IEnumValue接口类型，具体实现类如下：
     * 1.布尔类型：EnumBoolValue,布尔类型的控件会转成下拉列表，实现类使用EnumBoolValue
     * 2.字符串类型：EnumStringValue
     * 3.整型类型：EnumIntegerValue 例如Radio Button类型需要使用EnumIntegerValue实现类
     * @type {?}
     */
    DropDownListControl.prototype.enumValues;
    /**
     * 服务器端API
     * @type {?}
     */
    DropDownListControl.prototype.uri;
    /**
     * 面板显示前事件
     * @type {?}
     */
    DropDownListControl.prototype.beforeShow;
    /**
     * 面板隐藏前事件
     * @type {?}
     */
    DropDownListControl.prototype.beforeHide;
    /** @type {?} */
    DropDownListControl.prototype.idField;
    /** @type {?} */
    DropDownListControl.prototype.textField;
    /**
     * 是否多选
     * @type {?}
     */
    DropDownListControl.prototype.multiSelect;
    /**
     * 自定义样式
     * @type {?}
     */
    DropDownListControl.prototype.className;
    /** @type {?} */
    DropDownListControl.prototype.placeholder;
    /** @type {?} */
    DropDownListControl.prototype.panelHeight;
    /** @type {?} */
    DropDownListControl.prototype.require;
}
/**
 * 下拉列表控件序列化与反序列化器
 */
export class DropDownListControlConvert {
    /**
     * 序列化
     * @param {?} obj 下拉列表控件实体
     * @return {?}
     */
    convertToObject(obj) {
        /** @type {?} */
        let dropDownListControl = (/** @type {?} */ (obj));
        /** @type {?} */
        let jobj = new Object();
        jobj["valueType"] = dropDownListControl.valueType;
        if (dropDownListControl.enumValues != null) {
            /** @type {?} */
            let jarray = jobj["enumValues"] = [];
            /** @type {?} */
            let convertor = new EnumValueConvert();
            dropDownListControl.enumValues.forEach((/**
             * @param {?} element
             * @return {?}
             */
            element => {
                if (dropDownListControl.valueType == EnumType.BoolType) {
                    jarray.push(convertor.convertJObject(Object.assign(new EnumBoolValue(), element)));
                }
                else if (dropDownListControl.valueType == EnumType.IntType) {
                    jarray.push(convertor.convertJObject(Object.assign(new EnumIntegerValue(), element)));
                }
                else {
                    jarray.push(convertor.convertJObject(Object.assign(new EnumStringValue(), element)));
                }
            }));
        }
        jobj["uri"] = dropDownListControl.uri;
        jobj["beforeShow"] = dropDownListControl.beforeShow;
        jobj["beforeHide"] = dropDownListControl.beforeHide;
        jobj["idField"] = dropDownListControl.idField;
        jobj["textField"] = dropDownListControl.textField;
        jobj["multiSelect"] = dropDownListControl.multiSelect;
        jobj["panelHeight"] = dropDownListControl.panelHeight;
        jobj["placeholder"] = dropDownListControl.placeholder;
        jobj["className"] = dropDownListControl.className;
        jobj["require"] = dropDownListControl.require;
        return jobj;
    }
    /**
     * 反序列化
     * @param {?} jobj 下拉列表控件实体序列化后的JSON对象
     * @return {?}
     */
    initFromObject(jobj) {
        /** @type {?} */
        let control = new DropDownListControl();
        if (jobj["valueType"] != null) {
            control.valueType = (/** @type {?} */ (jobj["valueType"]));
        }
        if (jobj["enumValues"] != null) {
            control.enumValues = new Array();
            jobj["enumValues"].forEach((/**
             * @param {?} element
             * @return {?}
             */
            element => {
                /** @type {?} */
                let convertor = new EnumValueConvert();
                control.enumValues.push(convertor.initFromJobject(element));
            }));
        }
        if (jobj["uri"] != null) {
            control.uri = jobj["uri"];
        }
        if (jobj["beforeShow"] != null) {
            control.beforeShow = jobj["beforeShow"];
        }
        if (jobj["beforeHide"] != null) {
            control.beforeHide = jobj["beforeHide"];
        }
        if (jobj["idField"] != null) {
            control.idField = jobj["idField"];
        }
        if (jobj["textField"] != null) {
            control.textField = jobj["textField"];
        }
        if (jobj["multiSelect"] != null) {
            control.multiSelect = jobj["multiSelect"];
        }
        if (jobj["panelHeight"] != null) {
            control.panelHeight = jobj["panelHeight"];
        }
        if (jobj["placeholder"] != null) {
            control.placeholder = jobj["placeholder"];
        }
        if (jobj["className"] != null) {
            control.className = jobj["className"];
        }
        if (jobj["require"] != null) {
            control.require = jobj["require"];
        }
        return control;
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZHJvcGRvd25saXN0Y29udHJvbC5qcyIsInNvdXJjZVJvb3QiOiJuZzovL0BmYXJyaXMvY29tcG9uZW50LXF1ZXJ5Y29uZGl0aW9uLyIsInNvdXJjZXMiOlsibGliL2VudGl0eS9jb250cm9sdHlwZS9kcm9wZG93bmxpc3QvZHJvcGRvd25saXN0Y29udHJvbC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7OztBQUNBLE9BQU8sRUFBRSxXQUFXLEVBQUUsTUFBTSxtQkFBbUIsQ0FBQztBQUNoRCxPQUFPLEVBQUUsUUFBUSxFQUFFLE1BQU0sWUFBWSxDQUFDO0FBQ3RDLE9BQU8sRUFBYyxnQkFBZ0IsRUFBRSxNQUFNLGNBQWMsQ0FBQztBQUM1RCxPQUFPLEVBQUUsZUFBZSxFQUFFLE1BQU0sbUJBQW1CLENBQUM7QUFDcEQsT0FBTyxFQUFFLGFBQWEsRUFBRSxNQUFNLGlCQUFpQixDQUFDO0FBQ2hELE9BQU8sRUFBRSxnQkFBZ0IsRUFBRSxNQUFNLG9CQUFvQixDQUFDOzs7O0FBS3RELE1BQU0sT0FBTyxtQkFBbUI7Ozs7O0lBSzVCLGNBQWM7UUFDVixPQUFPLFdBQVcsQ0FBQyxZQUFZLENBQUM7SUFDcEMsQ0FBQzs7OztJQUNELFVBQVU7UUFDTixPQUFPLENBQUMsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDO0lBQzFCLENBQUM7Q0FpREo7Ozs7OztJQTdDRyx3Q0FBb0I7Ozs7Ozs7OztJQVNwQix5Q0FBOEI7Ozs7O0lBSzlCLGtDQUFZOzs7OztJQUtaLHlDQUFnQjs7Ozs7SUFLaEIseUNBQWdCOztJQUVoQixzQ0FBZ0I7O0lBRWhCLHdDQUFrQjs7Ozs7SUFLbEIsMENBQXFCOzs7OztJQUtyQix3Q0FBa0I7O0lBRWxCLDBDQUFvQjs7SUFFcEIsMENBQTZCOztJQUU3QixzQ0FBaUI7Ozs7O0FBTXJCLE1BQU0sT0FBTywwQkFBMEI7Ozs7OztJQU1uQyxlQUFlLENBQUMsR0FBd0I7O1lBQ2hDLG1CQUFtQixHQUFHLG1CQUFBLEdBQUcsRUFBdUI7O1lBQ2hELElB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LENBQUMsSUFBSSxJQUFJLEVBQUM7WUFDbkIsT0FBTyxDQUFDLEdBQUcsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7U0FDN0I7UUFDRCxJQUFHLElBQUksQ0FBQyxZQUFZLENBQUMsSUFBSSxJQUFJLEVBQUM7WUFDMUIsT0FBTyxDQUFDLFVBQVUsR0FBRyxJQUFJLENBQUMsWUFBWSxDQUFDLENBQUM7U0FDM0M7UUFDRCxJQUFHLElBQUksQ0FBQyxZQUFZLENBQUMsSUFBSSxJQUFJLEVBQUM7WUFDMUIsT0FBTyxDQUFDLFVBQVUsR0FBRyxJQUFJLENBQUMsWUFBWSxDQUFDLENBQUM7U0FDM0M7UUFDRCxJQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxJQUFJLEVBQUM7WUFDdkIsT0FBTyxDQUFDLE9BQU8sR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUM7U0FDckM7UUFDRCxJQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsSUFBSSxJQUFJLEVBQUM7WUFDekIsT0FBTyxDQUFDLFNBQVMsR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUM7U0FDekM7UUFDRCxJQUFHLElBQUksQ0FBQyxhQUFhLENBQUMsSUFBSSxJQUFJLEVBQUM7WUFDM0IsT0FBTyxDQUFDLFdBQVcsR0FBRyxJQUFJLENBQUMsYUFBYSxDQUFDLENBQUM7U0FDN0M7UUFDRCxJQUFHLElBQUksQ0FBQyxhQUFhLENBQUMsSUFBSSxJQUFJLEVBQUM7WUFDM0IsT0FBTyxDQUFDLFdBQVcsR0FBRyxJQUFJLENBQUMsYUFBYSxDQUFDLENBQUM7U0FDN0M7UUFDRCxJQUFHLElBQUksQ0FBQyxhQUFhLENBQUMsSUFBSSxJQUFJLEVBQUM7WUFDM0IsT0FBTyxDQUFDLFdBQVcsR0FBRyxJQUFJLENBQUMsYUFBYSxDQUFDLENBQUM7U0FDN0M7UUFDRCxJQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsSUFBSSxJQUFJLEVBQUM7WUFDekIsT0FBTyxDQUFDLFNBQVMsR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUM7U0FDekM7UUFDRCxJQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxJQUFJLEVBQUM7WUFDdkIsT0FBTyxDQUFDLE9BQU8sR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUM7U0FDckM7UUFDRCxPQUFPLE9BQU8sQ0FBQztJQUNuQixDQUFDO0NBQ0oiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJQ29udHJvbCB9IGZyb20gXCIuLi9pY29udHJvbFwiO1xyXG5pbXBvcnQgeyBDb250cm9sVHlwZSB9IGZyb20gXCIuLi8uLi9jb250cm9sdHlwZVwiO1xyXG5pbXBvcnQgeyBFbnVtVHlwZSB9IGZyb20gXCIuL2VudW10eXBlXCI7XHJcbmltcG9ydCB7IElFbnVtVmFsdWUsIEVudW1WYWx1ZUNvbnZlcnQgfSBmcm9tIFwiLi9pZW51bXZhbHVlXCI7XHJcbmltcG9ydCB7IEVudW1TdHJpbmdWYWx1ZSB9IGZyb20gXCIuL3N0cmluZ2VudW12YWx1ZVwiO1xyXG5pbXBvcnQgeyBFbnVtQm9vbFZhbHVlIH0gZnJvbSBcIi4vYm9vbGVudW12YWx1ZVwiO1xyXG5pbXBvcnQgeyBFbnVtSW50ZWdlclZhbHVlIH0gZnJvbSBcIi4vaW50ZWdlcmVudW12YWx1ZVwiO1xyXG5cclxuLyoqXHJcbiAqIOS4i+aLieWIl+ihqOaOp+S7tlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIERyb3BEb3duTGlzdENvbnRyb2wgaW1wbGVtZW50cyBJQ29udHJvbHtcclxuXHJcbiAgICAvKipcclxuICAgICAqIOiOt+WPluaOp+S7tuexu+Wei1xyXG4gICAgICovXHJcbiAgICBnZXRDb250cm9sVHlwZSgpOiBDb250cm9sVHlwZSB7XHJcbiAgICAgICAgcmV0dXJuIENvbnRyb2xUeXBlLkRyb3BEb3duTGlzdDtcclxuICAgIH1cclxuICAgIGlzUmVxdWlyZWQoKTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuICEhdGhpcy5yZXF1aXJlO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiDkuIvmi4nlgLznsbvlnotcclxuICAgICAqL1xyXG4gICAgdmFsdWVUeXBlOiBFbnVtVHlwZTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIOS4i+aLieaVsOaNrua6kOWIl+ihqFxyXG4gICAgICog6K+l5bGe5oCn5Li6SUVudW1WYWx1ZeaOpeWPo+exu+Wei++8jOWFt+S9k+WunueOsOexu+WmguS4i++8mlxyXG4gICAgICogMS7luIPlsJTnsbvlnovvvJpFbnVtQm9vbFZhbHVlLOW4g+WwlOexu+Wei+eahOaOp+S7tuS8mui9rOaIkOS4i+aLieWIl+ihqO+8jOWunueOsOexu+S9v+eUqEVudW1Cb29sVmFsdWVcclxuICAgICAqIDIu5a2X56ym5Liy57G75Z6L77yaRW51bVN0cmluZ1ZhbHVlXHJcbiAgICAgKiAzLuaVtOWei+exu+Wei++8mkVudW1JbnRlZ2VyVmFsdWUg5L6L5aaCUmFkaW8gQnV0dG9u57G75Z6L6ZyA6KaB5L2/55SoRW51bUludGVnZXJWYWx1ZeWunueOsOexu1xyXG4gICAgICovXHJcbiAgICBlbnVtVmFsdWVzOiBBcnJheTxJRW51bVZhbHVlPjtcclxuXHJcbiAgICAvKipcclxuICAgICAqIOacjeWKoeWZqOerr0FQSVxyXG4gICAgICovXHJcbiAgICB1cmk6IHN0cmluZztcclxuXHJcbiAgICAvKipcclxuICAgICAqIOmdouadv+aYvuekuuWJjeS6i+S7tlxyXG4gICAgICovXHJcbiAgICBiZWZvcmVTaG93OiBhbnk7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDpnaLmnb/pmpDol4/liY3kuovku7ZcclxuICAgICAqL1xyXG4gICAgYmVmb3JlSGlkZTogYW55O1xyXG5cclxuICAgIGlkRmllbGQ6IHN0cmluZztcclxuXHJcbiAgICB0ZXh0RmllbGQ6IHN0cmluZztcclxuXHJcbiAgICAvKipcclxuICAgICAqIOaYr+WQpuWkmumAiVxyXG4gICAgKi9cclxuICAgIG11bHRpU2VsZWN0OiBib29sZWFuO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICog6Ieq5a6a5LmJ5qC35byPXHJcbiAgICAqL1xyXG4gICAgY2xhc3NOYW1lOiBzdHJpbmc7XHJcblxyXG4gICAgcGxhY2Vob2xkZXI6IHN0cmluZztcclxuXHJcbiAgICBwYW5lbEhlaWdodDogbnVtYmVyIHwgc3RyaW5nO1xyXG5cclxuICAgIHJlcXVpcmU6IGJvb2xlYW47XHJcbn1cclxuXHJcbi8qKlxyXG4gKiDkuIvmi4nliJfooajmjqfku7bluo/liJfljJbkuI7lj43luo/liJfljJblmahcclxuICovXHJcbmV4cG9ydCBjbGFzcyBEcm9wRG93bkxpc3RDb250cm9sQ29udmVydHtcclxuXHJcbiAgICAvKipcclxuICAgICAqIOW6j+WIl+WMllxyXG4gICAgICogQHBhcmFtIG9iaiDkuIvmi4nliJfooajmjqfku7blrp7kvZNcclxuICAgICAqL1xyXG4gICAgY29udmVydFRvT2JqZWN0KG9iajogRHJvcERvd25MaXN0Q29udHJvbCl7XHJcbiAgICAgICAgbGV0IGRyb3BEb3duTGlzdENvbnRyb2wgPSBvYmogYXMgRHJvcERvd25MaXN0Q29udHJvbDtcclxuICAgICAgICBsZXQgam9iaiA9IG5ldyBPYmplY3QoKTtcclxuICAgICAgICBqb2JqW1widmFsdWVUeXBlXCJdID0gZHJvcERvd25MaXN0Q29udHJvbC52YWx1ZVR5cGU7XHJcbiAgICAgICAgaWYoZHJvcERvd25MaXN0Q29udHJvbC5lbnVtVmFsdWVzICE9IG51bGwpe1xyXG4gICAgICAgICAgICBsZXQgamFycmF5ID0gam9ialtcImVudW1WYWx1ZXNcIl0gPSBbXTtcclxuICAgICAgICAgICAgbGV0IGNvbnZlcnRvciA9IG5ldyBFbnVtVmFsdWVDb252ZXJ0KCk7XHJcbiAgICAgICAgICAgIGRyb3BEb3duTGlzdENvbnRyb2wuZW51bVZhbHVlcy5mb3JFYWNoKGVsZW1lbnQgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYoZHJvcERvd25MaXN0Q29udHJvbC52YWx1ZVR5cGUgPT0gRW51bVR5cGUuQm9vbFR5cGUpe1xyXG4gICAgICAgICAgICAgICAgICAgIGphcnJheS5wdXNoKGNvbnZlcnRvci5jb252ZXJ0Sk9iamVjdChPYmplY3QuYXNzaWduKG5ldyBFbnVtQm9vbFZhbHVlKCksZWxlbWVudCkpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYoZHJvcERvd25MaXN0Q29udHJvbC52YWx1ZVR5cGUgPT0gRW51bVR5cGUuSW50VHlwZSl7XHJcbiAgICAgICAgICAgICAgICAgICAgamFycmF5LnB1c2goY29udmVydG9yLmNvbnZlcnRKT2JqZWN0KE9iamVjdC5hc3NpZ24obmV3IEVudW1JbnRlZ2VyVmFsdWUoKSxlbGVtZW50KSkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICBqYXJyYXkucHVzaChjb252ZXJ0b3IuY29udmVydEpPYmplY3QoT2JqZWN0LmFzc2lnbihuZXcgRW51bVN0cmluZ1ZhbHVlKCksZWxlbWVudCkpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGpvYmpbXCJ1cmlcIl0gPSBkcm9wRG93bkxpc3RDb250cm9sLnVyaTtcclxuICAgICAgICBqb2JqW1wiYmVmb3JlU2hvd1wiXSA9IGRyb3BEb3duTGlzdENvbnRyb2wuYmVmb3JlU2hvdztcclxuICAgICAgICBqb2JqW1wiYmVmb3JlSGlkZVwiXSA9IGRyb3BEb3duTGlzdENvbnRyb2wuYmVmb3JlSGlkZTtcclxuICAgICAgICBqb2JqW1wiaWRGaWVsZFwiXSA9IGRyb3BEb3duTGlzdENvbnRyb2wuaWRGaWVsZDtcclxuICAgICAgICBqb2JqW1widGV4dEZpZWxkXCJdID0gZHJvcERvd25MaXN0Q29udHJvbC50ZXh0RmllbGQ7XHJcbiAgICAgICAgam9ialtcIm11bHRpU2VsZWN0XCJdID0gZHJvcERvd25MaXN0Q29udHJvbC5tdWx0aVNlbGVjdDtcclxuICAgICAgICBqb2JqW1wicGFuZWxIZWlnaHRcIl0gPSBkcm9wRG93bkxpc3RDb250cm9sLnBhbmVsSGVpZ2h0O1xyXG4gICAgICAgIGpvYmpbXCJwbGFjZWhvbGRlclwiXSA9IGRyb3BEb3duTGlzdENvbnRyb2wucGxhY2Vob2xkZXI7XHJcbiAgICAgICAgam9ialtcImNsYXNzTmFtZVwiXSA9IGRyb3BEb3duTGlzdENvbnRyb2wuY2xhc3NOYW1lO1xyXG4gICAgICAgIGpvYmpbXCJyZXF1aXJlXCJdID0gZHJvcERvd25MaXN0Q29udHJvbC5yZXF1aXJlO1xyXG4gICAgICAgIHJldHVybiBqb2JqO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5Y+N5bqP5YiX5YyWXHJcbiAgICAgKiBAcGFyYW0gam9iaiDkuIvmi4nliJfooajmjqfku7blrp7kvZPluo/liJfljJblkI7nmoRKU09O5a+56LGhXHJcbiAgICAgKi9cclxuICAgIGluaXRGcm9tT2JqZWN0KGpvYmo6IE9iamVjdCk6IERyb3BEb3duTGlzdENvbnRyb2x7XHJcbiAgICAgICAgbGV0IGNvbnRyb2wgPSBuZXcgRHJvcERvd25MaXN0Q29udHJvbCgpO1xyXG4gICAgICAgIGlmKGpvYmpbXCJ2YWx1ZVR5cGVcIl0gIT0gbnVsbCl7XHJcbiAgICAgICAgICAgIGNvbnRyb2wudmFsdWVUeXBlID0gam9ialtcInZhbHVlVHlwZVwiXSBhcyBudW1iZXI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmKGpvYmpbXCJlbnVtVmFsdWVzXCJdICE9IG51bGwpe1xyXG4gICAgICAgICAgICBjb250cm9sLmVudW1WYWx1ZXMgPSBuZXcgQXJyYXk8SUVudW1WYWx1ZT4oKTtcclxuICAgICAgICAgICAgam9ialtcImVudW1WYWx1ZXNcIl0uZm9yRWFjaChlbGVtZW50ID0+IHtcclxuICAgICAgICAgICAgICAgIGxldCBjb252ZXJ0b3IgPSBuZXcgRW51bVZhbHVlQ29udmVydCgpO1xyXG4gICAgICAgICAgICAgICAgY29udHJvbC5lbnVtVmFsdWVzLnB1c2goY29udmVydG9yLmluaXRGcm9tSm9iamVjdChlbGVtZW50KSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZihqb2JqW1widXJpXCJdICE9IG51bGwpe1xyXG4gICAgICAgICAgICBjb250cm9sLnVyaSA9IGpvYmpbXCJ1cmlcIl07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmKGpvYmpbXCJiZWZvcmVTaG93XCJdICE9IG51bGwpe1xyXG4gICAgICAgICAgICBjb250cm9sLmJlZm9yZVNob3cgPSBqb2JqW1wiYmVmb3JlU2hvd1wiXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYoam9ialtcImJlZm9yZUhpZGVcIl0gIT0gbnVsbCl7XHJcbiAgICAgICAgICAgIGNvbnRyb2wuYmVmb3JlSGlkZSA9IGpvYmpbXCJiZWZvcmVIaWRlXCJdO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZihqb2JqW1wiaWRGaWVsZFwiXSAhPSBudWxsKXtcclxuICAgICAgICAgICAgY29udHJvbC5pZEZpZWxkID0gam9ialtcImlkRmllbGRcIl07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmKGpvYmpbXCJ0ZXh0RmllbGRcIl0gIT0gbnVsbCl7XHJcbiAgICAgICAgICAgIGNvbnRyb2wudGV4dEZpZWxkID0gam9ialtcInRleHRGaWVsZFwiXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYoam9ialtcIm11bHRpU2VsZWN0XCJdICE9IG51bGwpe1xyXG4gICAgICAgICAgICBjb250cm9sLm11bHRpU2VsZWN0ID0gam9ialtcIm11bHRpU2VsZWN0XCJdO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZihqb2JqW1wicGFuZWxIZWlnaHRcIl0gIT0gbnVsbCl7XHJcbiAgICAgICAgICAgIGNvbnRyb2wucGFuZWxIZWlnaHQgPSBqb2JqW1wicGFuZWxIZWlnaHRcIl07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmKGpvYmpbXCJwbGFjZWhvbGRlclwiXSAhPSBudWxsKXtcclxuICAgICAgICAgICAgY29udHJvbC5wbGFjZWhvbGRlciA9IGpvYmpbXCJwbGFjZWhvbGRlclwiXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYoam9ialtcImNsYXNzTmFtZVwiXSAhPSBudWxsKXtcclxuICAgICAgICAgICAgY29udHJvbC5jbGFzc05hbWUgPSBqb2JqW1wiY2xhc3NOYW1lXCJdO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZihqb2JqW1wicmVxdWlyZVwiXSAhPSBudWxsKXtcclxuICAgICAgICAgICAgY29udHJvbC5yZXF1aXJlID0gam9ialtcInJlcXVpcmVcIl07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBjb250cm9sO1xyXG4gICAgfVxyXG59Il19