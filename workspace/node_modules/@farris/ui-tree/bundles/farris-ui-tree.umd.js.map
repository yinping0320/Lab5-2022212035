{"version":3,"file":"farris-ui-tree.umd.js.map","sources":["ng://@farris/ui-tree/lib/tree.component.ts","ng://@farris/ui-tree/lib/show-title.directive.ts","ng://@farris/ui-tree/lib/tree.module.ts"],"sourcesContent":["import { Component, OnInit, Input, Output, EventEmitter, ViewChild, Directive, ElementRef, Injector } from '@angular/core';\r\nimport { TreeNode, TreeTableComponent } from '@farris/ui-treetable';\r\nimport { FarrisTemplateDirective, CommonUtils, } from '@farris/ui-common';\r\n@Component({\r\n    selector: 'farris-tree',\r\n    template: `\r\n        <farris-treetable #t2\r\n            [width]=\"width\"\r\n            [height]=\"height\"\r\n            [data]=\"data\"\r\n            [idField]=\"idField\"\r\n            [singleSelect]=\"singleSelect\"\r\n            [showCheckbox]=\"showCheckbox\"\r\n            [showIcon]=\"showIcon\"\r\n            [showFilterBar]=\"false\"\r\n            [showBorder]=\"showBorder\"\r\n            [disabled]=\"disabled\"\r\n            [loadDataType]=\"loadDataType\"\r\n            [checkOnSelect]=\"checkOnSelect\"\r\n            [selectOnCheck]=\"selectOnCheck\"\r\n            [onlySelectSelf]=\"onlySelectSelf\"\r\n            [fit]=\"fit\"\r\n            [cascadeCheck]=\"cascadeCheck\"\r\n            [cascadeDown]=\"cascadeDown\"\r\n            [cascadeUp]=\"cascadeUp\"\r\n            [emptyMessage]=\"emptyMessage\"\r\n            [keepSelect]=\"keepSelect\"\r\n            [virtualized]=\"virtualized\"\r\n            [onlySelectLeaf]=\"onlySelectLeaf\"\r\n            [leafIcon]=\"leafIcon\"\r\n            [expandIcon]=\"expandIcon\"\r\n            [collapseIcon]=\"collapseIcon\"\r\n            [remoteSort]=\"remoteSort\"\r\n            [sortName]=\"displayText\"\r\n            [sortOrder]=\"sortOrder\"\r\n            [multiSort]=\"false\"\r\n            (nodeSelected)=\"nodeSelected.emit($event)\"\r\n            (nodeUnSelect)=\"nodeUnSelect.emit($event)\"\r\n            (nodeChecked)=\"nodeChecked.emit($event)\"\r\n            (nodeUnChecked)=\"nodeUnChecked.emit($event)\"\r\n            (search)=\"search.emit($event)\"\r\n            (dblClick)=\"dblClick.emit($event)\"\r\n            (loadedData)=\"loadedData.emit($event)\"\r\n        >\r\n            <ng-template farrisTemplate=\"body\" let-rowNode let-treeNode=\"node\" let-rowData=\"rowData\">\r\n                <tr\r\n                    #row=\"row\"\r\n                    [selectRow]=\"rowNode\"\r\n                    [dblclick]=\"true\"\r\n                    (mouseenter)=\"onMouseEnter($event)\"\r\n                    (mouseleave)=\"onMouseLeave($event)\"\r\n                    class=\"farris-table-selectedrow\"\r\n                >\r\n                    <td style=\"border: 0\" [style.color]=\"row.selectRowDisabled ? '#a6a6a6' : '#333'\">\r\n                        <farris-treeTableToggler [rowNode]=\"rowNode\"></farris-treeTableToggler>\r\n                        <span [show-title]=\"showTips\"\r\n                            [innerHTML]=\"(utils || t2.utils).getValue(displayText, rowData, true) | safe: 'html'\"></span>\r\n\r\n                        <span\r\n                            class=\"rbtn\"\r\n                            style=\" float: right; width: 40px; display:none; cursor: pointer\"\r\n                            (click)=\"onClickAppendBtn($event)\"\r\n                            >{{ appendText }}</span\r\n                        >\r\n                    </td>\r\n                </tr>\r\n            </ng-template>\r\n        </farris-treetable>\r\n    `\r\n})\r\nexport class TreeComponent implements OnInit {\r\n\r\n    @ViewChild(TreeTableComponent) treeTable: TreeTableComponent;\r\n\r\n    @Input() showTips = true;\r\n\r\n    /** å®½åº¦ */\r\n    @Input() width = 500;\r\n    /** é«åº¦ */\r\n    @Input() height = 400;\r\n\r\n    @Input() showFilterBar = false;\r\n    /** æ¯å¦å¯ç¨å¤é */\r\n    @Input() singleSelect = true;\r\n    /** å¯ç¨å¤éåï¼æ¯å¦æ¾ç¤ºcheckbox */\r\n    @Input() showCheckbox = true;\r\n    /** ä¸»é®å­æ®µ */\r\n    @Input() idField: string;\r\n    /** ææ¬å­æ®µ */\r\n    @Input() displayText: string;\r\n    /** æ¾ç¤ºå¾æ  */\r\n    @Input() showIcon = false;\r\n    /** æ¾ç¤ºè¾¹æ¡çº¿ */\r\n    @Input() showBorder = false;\r\n    /** ç¦ç¨ã ç¦ç¨æ¶ä¸åè®¸éä¸­è¡ */\r\n    @Input() disabled = false;\r\n    /** æ°æ®å è½½æ¹å¼\r\n     * - all: å¨é¨å è½½\r\n     * - async: åå±å è½½\r\n     */\r\n    @Input() loadDataType: 'all' | 'async' = 'all';\r\n\r\n    /** å½å¤éæ¶ï¼éä¸­å½åè¡å¹¶é©é */\r\n    @Input() checkOnSelect = false;\r\n    /** å½å¤éæ¶ï¼é©éå¹¶éä¸­å½åè¡ */\r\n    @Input() selectOnCheck = false;\r\n    /**\r\n     * å¯ç¨å¤éæ¶ï¼æ­¤å±æ§ä¸ºtrue æ¶ï¼ä»å½åè¡éä¸­\r\n     */\r\n    @Input() onlySelectSelf = false;\r\n\r\n    /** è®¾ç½®ä¸ºtrueæ¶èªéåºç¶å®¹çå°ºå¯¸ */\r\n    @Input() fit = false;\r\n\r\n    /** å¯ç¨çº§èéä¸­åè½ */\r\n    @Input() cascadeCheck = true;\r\n    /** åä¸çº§èéä¸­ */\r\n    @Input() cascadeDown = true;\r\n    /** åä¸çº§èéä¸­ */\r\n    @Input() cascadeUp = true;\r\n    /** ç©ºæ°æ®æ¶ï¼æ¾ç¤ºçæç¤ºææ¬ */\r\n    @Input() emptyMessage = 'ææ æ°æ®';\r\n\r\n    /**\r\n     * åå»è¡éä¸­åï¼å¨æ¬¡ç¹å»ä¸ä¼è¢«åæ¶éä¸­ç¶æ;\r\n     */\r\n    @Input() keepSelect = true;\r\n    /** èæå è½½ */\r\n    @Input() virtualized = false;\r\n    /**\r\n     * ä»åè®¸éæ©å¶å­èç¹\r\n     * - default: åºç¨æå¡å¨ç«¯ä¼ åçè®¾ç½®ï¼å¦ææå¡å¨ç«¯æ²¡æè®¾ç½®ï¼åä¸ no ä¿æä¸è³ï¼\r\n     * - yes: å¦æå®¢æ·ç«¯è®¾ç½®ä¸º `yes`, æå¡å¨ç«¯çè®¾ç½®å¤±æï¼\r\n     * - no: åè®¸éæ©ææèç¹ï¼æå¡å¨ç«¯è®¾ç½®å¤±æ\r\n     */\r\n    @Input() onlySelectLeaf: boolean | 'default' | 'yes' | 'no' = 'default';\r\n\r\n    /** å¶å­èç¹å¾æ  */\r\n    @Input() leafIcon = 'file';\r\n    /** èç¹å±å¼å¾æ  */\r\n    @Input() expandIcon = 'folder-open';\r\n    /** èç¹æå å¾æ  */\r\n    @Input() collapseIcon = 'folder';\r\n\r\n    /** å¯ç¨è¿ç«¯æåº */\r\n    @Input() remoteSort = true;\r\n    /** æåºæ¹å¼ asc | desc */\r\n    @Input() sortOrder: string;\r\n\r\n    @Input() data: TreeNode[] = [];\r\n    /** éå æé®TXT */\r\n    @Input() appendText = '';\r\n\r\n    /** éå æé®ç¹å»äºä»¶ */\r\n    @Output() appendBtnClick: EventEmitter<any> = new EventEmitter();\r\n\r\n    /** éä¸­äºä»¶ */\r\n    @Output() nodeSelected: EventEmitter<any> = new EventEmitter();\r\n    /** åæ¶éä¸­äºä»¶ */\r\n    @Output() nodeUnSelect: EventEmitter<any> = new EventEmitter();\r\n\r\n    /** é©é */\r\n    @Output() nodeChecked: EventEmitter<any> = new EventEmitter();\r\n    /** åæ¶é©é */\r\n    @Output() nodeUnChecked: EventEmitter<any> = new EventEmitter();\r\n    /** æ¥è¯¢ */\r\n    @Output() search: EventEmitter<any> = new EventEmitter();\r\n\r\n    @Output() dblClick: EventEmitter<any> = new EventEmitter();\r\n    @Output() loadedData: EventEmitter<any> = new EventEmitter();\r\n    constructor( public utils: CommonUtils) {}\r\n\r\n    ngOnInit() {}\r\n\r\n    onMouseEnter($event: MouseEvent) {\r\n        if (this.appendText) {\r\n            ($event.target as any).querySelector('.rbtn').style.display = 'inline-block';\r\n        }\r\n    }\r\n\r\n    onMouseLeave($event: MouseEvent) {\r\n        if (this.appendText) {\r\n            ($event.target as any).querySelector('.rbtn').style.display = 'none';\r\n        }\r\n    }\r\n\r\n    onClickAppendBtn($event: MouseEvent) {\r\n        this.appendBtnClick.emit();\r\n        $event.stopPropagation();\r\n    }\r\n}\r\n\r\n","import { Directive, Input, OnInit, ElementRef, Injector, AfterViewInit } from '@angular/core';\r\n\r\n@Directive({\r\n    selector: '[show-title]'\r\n})\r\nexport class ShowTitleDirective implements OnInit, AfterViewInit {\r\n    @Input('show-title') enableTips;\r\n\r\n    constructor(private el: ElementRef, private injector: Injector) {}\r\n\r\n    ngOnInit() {\r\n    }\r\n\r\n    ngAfterViewInit() {\r\n        if (this.enableTips) {\r\n            this.el.nativeElement.title = this.el.nativeElement.innerText;\r\n        }\r\n    }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { TreeComponent } from './tree.component';\r\nimport { TreeTableModule } from '@farris/ui-treetable';\r\nimport { FarrisCommonModule } from '@farris/ui-common';\r\nimport { ShowTitleDirective } from './show-title.directive';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    TreeComponent,\r\n    ShowTitleDirective\r\n  ],\r\n  imports: [\r\n    FarrisCommonModule.forRoot(),\r\n    TreeTableModule\r\n  ],\r\n  exports: [TreeComponent, ShowTitleDirective]\r\n})\r\nexport class TreeModule { }\r\n"],"names":["EventEmitter","Component","CommonUtils","ViewChild","TreeTableComponent","Input","Output","Directive","ElementRef","Injector","NgModule","FarrisCommonModule","TreeTableModule"],"mappings":";;;;;;;;;;AAAA;QA0KI,uBAAoB,KAAkB;YAAlB,UAAK,GAAL,KAAK,CAAa;YAhG7B,aAAQ,GAAG,IAAI,CAAC;;;;YAGhB,UAAK,GAAG,GAAG,CAAC;;;;YAEZ,WAAM,GAAG,GAAG,CAAC;YAEb,kBAAa,GAAG,KAAK,CAAC;;;;YAEtB,iBAAY,GAAG,IAAI,CAAC;;;;YAEpB,iBAAY,GAAG,IAAI,CAAC;;;;YAMpB,aAAQ,GAAG,KAAK,CAAC;;;;YAEjB,eAAU,GAAG,KAAK,CAAC;;;;YAEnB,aAAQ,GAAG,KAAK,CAAC;;;;;;YAKjB,iBAAY,GAAoB,KAAK,CAAC;;;;YAGtC,kBAAa,GAAG,KAAK,CAAC;;;;YAEtB,kBAAa,GAAG,KAAK,CAAC;;;;YAItB,mBAAc,GAAG,KAAK,CAAC;;;;YAGvB,QAAG,GAAG,KAAK,CAAC;;;;YAGZ,iBAAY,GAAG,IAAI,CAAC;;;;YAEpB,gBAAW,GAAG,IAAI,CAAC;;;;YAEnB,cAAS,GAAG,IAAI,CAAC;;;;YAEjB,iBAAY,GAAG,MAAM,CAAC;;;;YAKtB,eAAU,GAAG,IAAI,CAAC;;;;YAElB,gBAAW,GAAG,KAAK,CAAC;;;;;;;YAOpB,mBAAc,GAAuC,SAAS,CAAC;;;;YAG/D,aAAQ,GAAG,MAAM,CAAC;;;;YAElB,eAAU,GAAG,aAAa,CAAC;;;;YAE3B,iBAAY,GAAG,QAAQ,CAAC;;;;YAGxB,eAAU,GAAG,IAAI,CAAC;YAIlB,SAAI,GAAe,EAAE,CAAC;;;;YAEtB,eAAU,GAAG,EAAE,CAAC;;;;YAGf,mBAAc,GAAsB,IAAIA,iBAAY,EAAE,CAAC;;;;YAGvD,iBAAY,GAAsB,IAAIA,iBAAY,EAAE,CAAC;;;;YAErD,iBAAY,GAAsB,IAAIA,iBAAY,EAAE,CAAC;;;;YAGrD,gBAAW,GAAsB,IAAIA,iBAAY,EAAE,CAAC;;;;YAEpD,kBAAa,GAAsB,IAAIA,iBAAY,EAAE,CAAC;;;;YAEtD,WAAM,GAAsB,IAAIA,iBAAY,EAAE,CAAC;YAE/C,aAAQ,GAAsB,IAAIA,iBAAY,EAAE,CAAC;YACjD,eAAU,GAAsB,IAAIA,iBAAY,EAAE,CAAC;SACnB;;;;QAE1C,gCAAQ;;;YAAR,eAAa;;;;;QAEb,oCAAY;;;;YAAZ,UAAa,MAAkB;gBAC3B,IAAI,IAAI,CAAC,UAAU,EAAE;oBACjB,oBAAC,MAAM,CAAC,MAAM,IAAS,aAAa,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,OAAO,GAAG,cAAc,CAAC;iBAChF;aACJ;;;;;QAED,oCAAY;;;;YAAZ,UAAa,MAAkB;gBAC3B,IAAI,IAAI,CAAC,UAAU,EAAE;oBACjB,oBAAC,MAAM,CAAC,MAAM,IAAS,aAAa,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC;iBACxE;aACJ;;;;;QAED,wCAAgB;;;;YAAhB,UAAiB,MAAkB;gBAC/B,IAAI,CAAC,cAAc,CAAC,IAAI,EAAE,CAAC;gBAC3B,MAAM,CAAC,eAAe,EAAE,CAAC;aAC5B;;oBA1LJC,cAAS,SAAC;wBACP,QAAQ,EAAE,aAAa;wBACvB,QAAQ,EAAE,4yFA+DT;qBACJ;;;;;wBAnEiCC,oBAAW;;;;gCAsExCC,cAAS,SAACC,8BAAkB;+BAE5BC,UAAK;4BAGLA,UAAK;6BAELA,UAAK;oCAELA,UAAK;mCAELA,UAAK;mCAELA,UAAK;8BAELA,UAAK;kCAELA,UAAK;+BAELA,UAAK;iCAELA,UAAK;+BAELA,UAAK;mCAKLA,UAAK;oCAGLA,UAAK;oCAELA,UAAK;qCAILA,UAAK;0BAGLA,UAAK;mCAGLA,UAAK;kCAELA,UAAK;gCAELA,UAAK;mCAELA,UAAK;iCAKLA,UAAK;kCAELA,UAAK;qCAOLA,UAAK;+BAGLA,UAAK;iCAELA,UAAK;mCAELA,UAAK;iCAGLA,UAAK;gCAELA,UAAK;2BAELA,UAAK;iCAELA,UAAK;qCAGLC,WAAM;mCAGNA,WAAM;mCAENA,WAAM;kCAGNA,WAAM;oCAENA,WAAM;6BAENA,WAAM;+BAENA,WAAM;iCACNA,WAAM;;QAqBX,oBAAC;KA3LD;;;;;;ACHA;QAQI,4BAAoB,EAAc,EAAU,QAAkB;YAA1C,OAAE,GAAF,EAAE,CAAY;YAAU,aAAQ,GAAR,QAAQ,CAAU;SAAI;;;;QAElE,qCAAQ;;;YAAR;aACC;;;;QAED,4CAAe;;;YAAf;gBACI,IAAI,IAAI,CAAC,UAAU,EAAE;oBACjB,IAAI,CAAC,EAAE,CAAC,aAAa,CAAC,KAAK,GAAG,IAAI,CAAC,EAAE,CAAC,aAAa,CAAC,SAAS,CAAC;iBACjE;aACJ;;oBAfJC,cAAS,SAAC;wBACP,QAAQ,EAAE,cAAc;qBAC3B;;;;;wBAJkCC,eAAU;wBAAEC,aAAQ;;;;iCAMlDJ,UAAK,SAAC,YAAY;;QAYvB,yBAAC;KAhBD;;;;;;ACFA;QAMA;SAW2B;;oBAX1BK,aAAQ,SAAC;wBACR,YAAY,EAAE;4BACZ,aAAa;4BACb,kBAAkB;yBACnB;wBACD,OAAO,EAAE;4BACPC,2BAAkB,CAAC,OAAO,EAAE;4BAC5BC,2BAAe;yBAChB;wBACD,OAAO,EAAE,CAAC,aAAa,EAAE,kBAAkB,CAAC;qBAC7C;;QACyB,iBAAC;KAX3B;;;;;;;;;;;;;;;;;;;;;;;;"}
