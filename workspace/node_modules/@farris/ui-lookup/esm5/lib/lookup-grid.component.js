/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import * as tslib_1 from "tslib";
/*
 * @Author: 疯狂秀才(lucas huang)
 * @Date: 2018-11-23 11:23:12
 * @LastEditors: 疯狂秀才(Lucas Huang)
 * @LastEditTime: 2020-10-20 20:18:26
 * @Company: Inspur
 * @Version: v0.3.x
 */
import { Component, Input, ViewChild, EventEmitter, Injector, ComponentFactoryResolver, Output, ChangeDetectorRef, ViewEncapsulation, ViewContainerRef, forwardRef, ElementRef, NgZone, Renderer2, } from "@angular/core";
import { NG_VALUE_ACCESSOR } from "@angular/forms";
import { of, Subject } from "rxjs";
import { LocaleService } from "@farris/ui-locale";
import { MessagerService } from "@farris/ui-messager";
import { LoadingService } from "@farris/ui-loading";
import { DataTableComponent } from "@farris/ui-datatable";
import { TreeTableComponent } from "@farris/ui-treetable";
import { LayoutComponent, LayoutPanelComponent } from "@farris/ui-layout";
import { CommonUtils, DebugService, FarrisComponentInstanceService, OverLayHiddenService } from "@farris/ui-common";
import { ShortcutsService } from "@farris/ui-shortcuts";
import { InputGroupComponent } from "@farris/ui-input-group";
import { NotifyService } from "@farris/ui-notify";
import { FAVORITE_FIELD_NAME, INPUT_GROUP_ICON, LookupGridDisplayType, QuickSelectDefaultOptions, SearchBarMode, } from "./lookup-displaytype";
import { LookupComponent } from "./lookup.component";
import { lookupGridDefaults, displayInfoDefault } from "./lookup-grid-options";
import { ServerSideToken } from "./http/ILookupHttpService";
import { LookupDefaultMapping } from "./lookup-defaut-mapping";
import { LookupUtils } from "./utils";
import { PersonalConfigService } from "./lookup-presonalConfig.service";
import { UtilService, TreeNodeHelper, FavoriteHelper, SelectionManager, DataTableEventManager, TreeTableEventManager, MultiSelectionManager, LookupHttpManager, LookupComponentManager, LookupDialogManager, onTextChanged, LookupSelectionService, } from "./services";
import { map, switchMap } from "rxjs/operators";
import { EventManager } from "@angular/platform-browser";
import { cloneDeep } from "lodash-es";
import { SingleSelectDirective } from "@farris/ui-forms";
/** @type {?} */
export var LOOKUPGRID_VALUE_ACCESSOR = {
    provide: NG_VALUE_ACCESSOR,
    useExisting: forwardRef((/**
     * @return {?}
     */
    function () { return LookupGridComponent; })),
    multi: true,
};
var LookupGridComponent = /** @class */ (function (_super) {
    tslib_1.__extends(LookupGridComponent, _super);
    function LookupGridComponent(injector, cfr, el, utils, defaultMapping, changeDetector, shortcuts, lookupUtils, zone, render2) {
        var _this = _super.call(this, injector, el, changeDetector) || this;
        _this.injector = injector;
        _this.cfr = cfr;
        _this.el = el;
        _this.utils = utils;
        _this.defaultMapping = defaultMapping;
        _this.changeDetector = changeDetector;
        _this.shortcuts = shortcuts;
        _this.lookupUtils = lookupUtils;
        _this.zone = zone;
        _this.render2 = render2;
        _this.groupIcon = INPUT_GROUP_ICON;
        _this._displayType = "";
        /**
         * 使用表单设计器中的显示类型。否则使用元数据设置的显示类型。 默认：false
         */
        _this.customDisplayType = false;
        _this.viewType = "text";
        /**
         * 启用清空按钮
         */
        _this.enableClear = true;
        /**
         * 服务器端排序
         */
        _this.remoteSort = true;
        /**
         * 树表显示全选复选框。 默认不显示
         */
        _this.showCheckAll = false;
        /**
         * 是否启用多选
         */
        _this.singleSelect = true;
        /**
         * 多选分隔符, 默认为 ,
         */
        _this.multipleChoiceSeparator = ",";
        /**
         * 可以为元数据ID、webapiURL
         */
        _this.uri = '';
        /**
         * BE REST RUI
         * - 此处设置后 uri 失效
         */
        _this.beUri = "";
        /**
         * 显示过滤工具条; 默认 true
         */
        _this.showFilterBar = true;
        /**
         * 是否启用分页
         */
        _this.pagination = true;
        /**
         * 当前页索引，从 1开始
         */
        _this.pageIndex = 1;
        /**
         * 每页记录数
         */
        _this.pageSize = 20;
        /**
         * 可用分页记录数列表
         */
        _this.pageList = [10, 20, 30, 50, 100];
        /**
         * 总记录数
         */
        _this.total = 0;
        /** 可拖动列 */
        // @Input() resizableColumns = true;
        /**
         * 显示列信息, 默认为 []
         */
        _this.columns = [];
        /**
         * 帮助查询是否为远端查询
         */
        _this.remoteSearch = true;
        /**
         * 文本变化后，进行服务器端查询
         */
        _this.searchOnServer = true;
        /**
         * 不进行服务器查询，有啥算啥
         */
        _this.nosearch = false;
        /**
         * 启用任意输入后，值通过输入时触发
         */
        _this.clearMappings = new EventEmitter();
        // 收藏列表
        _this.favoriteItems = [];
        /**
         * 是否启用级联选择控制选项
         */
        _this.enableCascade = false;
        /**
         * 级联控制默认值： enable: 同步选择, up：包含上级, down：包含下级, disable：仅选择自身
         */
        _this.cascadeStatus = "enable";
        /**
         * 分别级联选项的启用状态，默认全部启用
         */
        _this.cascadeItems = {
            enable: true,
            up: true,
            down: true,
            disable: true
        };
        /**
         * 显示级联控制
         */
        _this.showCascadeControl = true;
        _this.placeholder = "";
        /**
         * 显示已选记录列表。 默认为 false 不显示
         */
        _this.showSelected = false;
        /**
         * 应用收藏夹
         */
        _this.useFavorite = false;
        /**
         * 收藏数据来自于： locale: 本地存储， remote: 服务器端存储
         */
        _this.favoriteDataFrom = "remote";
        /**
         * 使用提示,快捷选择
         */
        _this.useTip = false;
        /**
         * 记录窗口大小
         */
        _this.isRecordSize = false;
        /**
         * 是否启用选中value值对应的行数据，默认 true
         */
        _this.enableToSelect = true;
        _this.enableFindText = false;
        /**
         * -1: 不展开； 0: 全部展开；>0: 展开到指定级数
         */
        _this.expandLevel = -1;
        _this.navTreeTableOptions = {};
        _this.treeTableOptions = {};
        _this.dataTableOptions = {};
        _this.defaultTreeTableOptions = {
            maxLevel: 9,
            enableContextMenu: false,
            contextMenuItems: [],
        };
        /**
         * 树形帮助数据加载方式： default: 内置取数； loadall: 加载所有 layerload：分层加载
         */
        _this.loadTreeDataType = "default";
        /**
         * 窗口打开后立即加载数据，默认为 true
         */
        _this.loadDataWhenOpen = true;
        /**
         * 导航列表，树列表在帮助打开后选中的数据;
         * 设置后，`selectFirstInNav` 失效！
         */
        _this.navSelectedIds = "";
        /**
         * 导航帮助，选中第1条数据，默认为 false;
         * 注意：当`navSelectedIds`不为空时，此属性失效。
         */
        _this.selectFirstInNav = false;
        /**
         * 启用构造完整树过滤
         */
        _this.enableFullTree = true;
        /**
         * 显示文本自定义函数
         */
        _this.displayFormatter = undefined;
        /**
         * 显示文本字段集合，以 英文 逗号隔开
         */
        _this.displayFields = "";
        _this.displayTextSeparator = "_";
        /**
         * 帮助元数据ID，不为空时调用指定的URI
         * /api/runtime/bcc/v1.0/help/data/{helpId}
         */
        _this.helpId = "";
        /**
         * 文本对齐方式； left | center | right; 默认 left
         */
        _this.textAlign = "left";
        /**
         * 鼠标滑过输入框时显示输入框内的文本信息
         */
        _this.enableTitle = true;
        _this.useExtendInfo = false;
        _this.extInfoFields = "";
        _this.extendInfo = "";
        /**
         * IDE 设计器自定义格式化 2103
         */
        _this.customFormatter = null;
        _this.customNavFormatter = null;
        /**
         * 自定义确定事件
         */
        _this.okHandler = null;
        /**
         * 自定义取消事件
         */
        _this.cancelHandler = null;
        _this.tagboxHeight = "auto";
        /**
         * 启用获取所有子级数据的功能,仅支持分级码
         */
        _this.enableGetAllChildNodes = true;
        _this.shortcutKey = {
            /**
             * 打开帮助窗口
             */
            open: "ArrowRight",
            /**
             * 确认选择数据
             */
            confirm: "Enter",
            /**
             * 搜索框焦点
             */
            searchFocus: "F3",
            /**
             * 选中上一条
             */
            moveUp: "ArrowUp",
            /**
             * 选中下一条
             */
            moveDown: "ArrowDown",
            /**
             * 展开节点
             */
            expand: "ArrowRight",
            /**
             * 折叠节点
             */
            collapse: "ArrowLeft",
            /**
             * 下一页
             */
            nextPager: "PageDown",
            /**
             * 上一页
             */
            prevPager: "PageUp",
        };
        /**
         * 快捷选择相关配置项，默认为 null, 即不启用此功能
         */
        _this.quickSelect = null;
        /**
         * 树形帮助 是否使用树形结构数据。默认为 true, 当为 false 时，服务器端无须构造树形结构，按普通列表输出
         */
        _this.treeToList = false;
        _this.navTreeToList = false;
        /**
         * 带导航的帮助中，是否显示左侧导航部分。默认 true
         */
        _this.showNavigation = true;
        /**
         * 是否启用新布局
         * - 默认 false
         */
        _this.useNewLayout = false;
        /**
         * 启用多字段查询 默认为 false
         * - 启用此特性后，useNewLayout 自动启用
         */
        _this.enableMultiFieldSearch = false;
        /**
         * 搜索工具条显示模式， both: 全部显示；onlyfield: 仅显示字段；onlyinput: 仅显示搜索输入框。默认 both
         */
        _this.searchBarMode = SearchBarMode.both;
        /**
         * 允许查询的字段，仅启用多字段查询时有效，多个字段以 “,” 隔开；
         *  - nav 左侧导航字段；main 主数据字段;
         *  - 默认为 null, 即从所有显示列中自动提取
         */
        _this.allowQueryFields = null;
        _this.labels = {
            /**
             * 数据列表
             */
            dataTab: '',
            /**
             * 收藏夹
             */
            favTab: '',
            /**
             * 取消已选
             */
            clearAllSelected: '',
            /**
             * 已选记录面板中 删除已选
             */
            delSelected: ''
        };
        /**
         * 允许任意字段进行查询； 默认 true
         */
        _this.searchAnyField = true;
        _this.selectedData = new EventEmitter();
        _this.clear = new EventEmitter();
        /**
         * 未启用多字段查询时触发
         */
        _this.search = new EventEmitter();
        /**
         * 启用多字段查询时触发
         */
        _this.query = new EventEmitter();
        // 帮助文本框中值变化事件
        _this.valueChanged = new EventEmitter();
        _this.loadSuccess = new EventEmitter();
        _this.pagerChanged = new EventEmitter();
        _this.expandTreeNode = new EventEmitter();
        _this.textChanged = new EventEmitter();
        _this.checkedChange = new EventEmitter();
        _this.tagRemoved = new EventEmitter();
        /**
         * 内容中留白边距
         */
        _this.containerMargin = { top: 0, bottom: 5, left: 14, right: 14 };
        _this.containerStyle = {};
        _this._gridOptions = lookupGridDefaults;
        // 导航帮助左则宽度
        _this.leftPanelWidth = 320;
        // 导航帮助窗口最小宽度
        _this.navLookupDialogMinWidth = 960;
        _this.navigationFilter = null;
        _this.subscriptions = [];
        _this.isTextChange = false;
        _this.isTabChanged = false;
        _this.displayInfo = Object.assign({}, displayInfoDefault);
        _this.tabChangeSubscription = null;
        // 暂存行点击数据  用于收藏
        _this.personalConf = {};
        _this.favoriteColumns = [];
        /**
         * 临时查询参数
         */
        _this._searchState = null;
        _this.allData = [];
        _this.allColumnsTitle = "所有列";
        _this.mustWriteSomething = "请输入关键字后查询。";
        _this.mustChoosAdatarow = "请选择一条记录！";
        _this.addFavoriteSuccess = "收藏成功。";
        _this.delFavoriteSuccess = "移除收藏成功。";
        /**
         * 使用内置的查询方法, 默认 false
         */
        _this.useInsideSearchHandler = false;
        _this.searching = false;
        /**
         * 临时存储查询结果集
         */
        _this._searchResult = null;
        _this.lookupinitializationSubject = new Subject();
        /**
         * 多选时，选中的数据
         */
        _this.currentSelectedItems = of([]);
        /**
         * 已选数据列信息
         */
        _this.selectedColumns = [];
        _this.activeTab = "datalist";
        _this.favHelper = null;
        _this.ttEventMgr = null;
        _this.multiSelMgr = null;
        _this.httpMgr = null;
        _this.lookupCmpMgr = null;
        _this.dialogMgr = null;
        _this.selectionMgr = null;
        _this.dtEventMgr = null;
        _this.lookupSelectionSer = null;
        _this.controlId = "";
        _this.savingFaoriteData = false;
        _this.isReady = false;
        _this.showTagboxClearButton = false;
        _this.hasError = false;
        _this.cascadeStatusItems = [
            { valeu: 'enable', label: '' },
            { valeu: 'up', label: '' },
            { valeu: 'down', label: '' },
            { valeu: 'disable', label: '' }
        ];
        _this.isGetAllChidlNodes = false;
        /**
         * 选中记录ID，自定义帮助取数时使用
         */
        _this.selectedIds = [];
        _this.lookupSearchInputEvent = null;
        _this.farrisInstances = null;
        /**
         * 用户初始设置
         */
        _this._userSettings = {};
        _this._treeInfo_ = null;
        /**
         * dialog 内容区域高度。 弹窗总高度 - 头部高度 - 脚部高度 - （启用收藏 TAB头高度）
         */
        _this.dialogContentHeight = 0;
        /**
         * 左树右列表， 左树点击节点查询时是否包括下级节点的数据，默认 false
         */
        _this.includeSubordinates = false;
        _this.includeSubordinates$ = new Subject();
        _this.includeSubordinates$$ = null;
        _this.debugSer = null;
        _this.createInstance();
        _this.currentSelectedItems = _this.lookupSelectionSer.selected$;
        _this.eventManager = _this.injector.get(EventManager);
        _this.farrisInstances = _this.injector.get(FarrisComponentInstanceService, null);
        _this.overLayService = new OverLayHiddenService();
        _this.debugSer = _this.injector.get(DebugService, null);
        if (_this.debugSer) {
            _this.debugSer.useDebugMode();
        }
        _this.lookupSelectionSer.selectionChanged$.subscribe((/**
         * @param {?} e
         * @return {?}
         */
        function (e) {
            if (_this.selectedDtRef) {
                if (!e.selected) {
                    _this.selectedDtRef.unCheckRows(e.data);
                }
            }
        }));
        _this.initLabels();
        return _this;
    }
    Object.defineProperty(LookupGridComponent.prototype, "displayType", {
        get: /**
         * @return {?}
         */
        function () {
            return this._displayType;
        },
        set: /**
         * @param {?} val
         * @return {?}
         */
        function (val) {
            if (val) {
                /** @type {?} */
                var types = Object.values(LookupGridDisplayType);
                /** @type {?} */
                var i = types.findIndex((/**
                 * @param {?} n
                 * @return {?}
                 */
                function (n) { return n === val.toUpperCase(); }));
                if (i > -1) {
                    /** @type {?} */
                    var keys = Object.keys(LookupGridDisplayType);
                    this._displayType = LookupGridDisplayType[keys[i]];
                }
            }
            else {
                this._displayType = val;
            }
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(LookupGridComponent.prototype, "gridOptions", {
        get: /**
         * @return {?}
         */
        function () {
            if (this.useFavorite &&
                this.columns &&
                this.columns.length > 0 &&
                !this.columns.find((/**
                 * @param {?} item
                 * @return {?}
                 */
                function (item) { return item.field === FAVORITE_FIELD_NAME; }))) {
                this.columns.push({
                    field: FAVORITE_FIELD_NAME,
                    title: "",
                    width: 40,
                    align: "center",
                    fixed: 'right',
                    // fixedWidth: true,
                    formatter: this.favHelper.favoriteColumnFormatter,
                });
            }
            this._gridOptions = Object.assign(this._gridOptions, {
                singleSelect: this.singleSelect,
                idField: this.idField,
                uri: this.uri,
                showFilterBar: this.enableMultiFieldSearch ? false : this.showFilterBar,
                pagination: this.pagination,
                pageIndex: this.pageIndex,
                pageSize: this.pageSize,
                pageList: this.pageList,
                total: this.total,
                items: this.items,
                columns: this.columns,
                resizableColumns: true,
                fixedHeader: true,
                hover: true,
                treeInfo: this.treeInfo,
                searchAnyField: this.searchAnyField
            });
            return this._gridOptions;
        },
        set: /**
         * @param {?} opts
         * @return {?}
         */
        function (opts) {
            this._gridOptions = Object.assign({}, this._gridOptions, opts);
            // this.selectedColumns = this.multiSelMgr.initSelectedColumns();
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(LookupGridComponent.prototype, "selections", {
        get: /**
         * @return {?}
         */
        function () {
            /** @type {?} */
            var selectItems = this.lookupSelectionSer.getSelections();
            if (this.singleSelect) {
                return selectItems[0];
            }
            else {
                return selectItems;
            }
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(LookupGridComponent.prototype, "usePersionalConf", {
        get: /**
         * @return {?}
         */
        function () {
            return this.useFavorite || this.useTip || this.isRecordSize;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(LookupGridComponent.prototype, "displayTextList", {
        get: /**
         * @return {?}
         */
        function () {
            if (this.displayText) {
                return this.displayText.split(this.multipleChoiceSeparator);
            }
            return [];
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(LookupGridComponent.prototype, "userInitialConfig", {
        get: /**
         * @return {?}
         */
        function () {
            return this._userSettings;
        },
        enumerable: true,
        configurable: true
    });
    /**
     * @private
     * @return {?}
     */
    LookupGridComponent.prototype.initLabels = /**
     * @private
     * @return {?}
     */
    function () {
        if (!this.labels) {
            this.labels = {
                /**
                 * 数据列表
                 */
                dataTab: '',
                /**
                 * 收藏夹
                 */
                favTab: '',
                /**
                 * 取消已选
                 */
                clearAllSelected: '',
                /**
                 * 已选记录面板中 删除已选
                 */
                delSelected: ''
            };
        }
        if (!this.labels.clearAllSelected) {
            this.labels.clearAllSelected = this.localService.getValue('lookup.selectedInfo.clear');
        }
        if (!this.labels.favTab) {
            this.labels.favTab = this.localService.getValue('lookup.favorites');
        }
        if (!this.labels.dataTab) {
            this.labels.dataTab = this.localService.getValue('lookup.datalist');
        }
    };
    /**
     * @param {?} msg
     * @param {?=} type
     * @return {?}
     */
    LookupGridComponent.prototype.writeConsole = /**
     * @param {?} msg
     * @param {?=} type
     * @return {?}
     */
    function (msg, type) {
        if (type === void 0) { type = 'warn'; }
        if (this.debugSer) {
            this.debugSer[type](msg);
        }
    };
    /**
     * @return {?}
     */
    LookupGridComponent.prototype.getFilterBarHeight = /**
     * @return {?}
     */
    function () {
        return (this.showFilterBar && this.enableMultiFieldSearch ? 42 : 0);
    };
    /**
     * @param {?=} isDouble
     * @return {?}
     */
    LookupGridComponent.prototype.getSpaceWidth = /**
     * @param {?=} isDouble
     * @return {?}
     */
    function (isDouble) {
        if (isDouble === void 0) { isDouble = false; }
        return (!this.enableMultiFieldSearch ? 28 : 48) + (isDouble ? (this.enableMultiFieldSearch ? 5 : 7) : 0);
    };
    /**
     * @private
     * @return {?}
     */
    LookupGridComponent.prototype.cacheUserConfig = /**
     * @private
     * @return {?}
     */
    function () {
        var _this = this;
        this._userSettings._title = this.title;
        this.displayInfo.title = this.title;
        this._userSettings._columns = this.deepClone(this.columns || []);
        this._userSettings.getColumns = (/**
         * @return {?}
         */
        function () {
            return _this._userSettings._columns;
        });
        this._userSettings.reset = (/**
         * @return {?}
         */
        function () {
            _this.title = _this._userSettings._title;
            _this.displayInfo.title = _this.title;
            _this.columns = _this._userSettings.getColumns();
        });
    };
    /**
     * @private
     * @param {?} obj
     * @return {?}
     */
    LookupGridComponent.prototype.deepClone = /**
     * @private
     * @param {?} obj
     * @return {?}
     */
    function (obj) {
        var _this = this;
        if (obj === null) {
            return null;
        }
        /** @type {?} */
        var clone = Object.assign({}, obj);
        Object.keys(clone).forEach((/**
         * @param {?} key
         * @return {?}
         */
        function (key) {
            return (clone[key] =
                typeof obj[key] === "object"
                    ? _this.deepClone(obj[key])
                    : obj[key]);
        }));
        if (Array.isArray(obj)) {
            clone.length = obj.length;
            return Array.from(clone);
        }
        return clone;
    };
    /**
     * @return {?}
     */
    LookupGridComponent.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
        _super.prototype.ngOnInit.call(this);
        this.cacheUserConfig();
        if (!this.loadTreeDataType) {
            this.loadTreeDataType = "default";
        }
        this.checkGridOptions();
        this.displayInfo.title = this.title;
        /** 传递上下文 */
        if (this.http) {
            this.http.context = this.context;
        }
        this.allColumnsTitle = this.localService.getValue("lookup.allColumns");
        this.mustWriteSomething = this.localService.getValue("lookup.mustWriteSomething");
        this.mustChoosAdatarow = this.localService.getValue("lookup.mustChoosAdatarow");
        this.addFavoriteSuccess =
            this.localService.getValue("lookup.favoriteInfo.addFav") ||
                this.addFavoriteSuccess;
        this.delFavoriteSuccess =
            this.localService.getValue("lookup.favoriteInfo.cancelFav") ||
                this.delFavoriteSuccess;
        this.dialogMgr.onDialogCreated();
        this._treeInfo_ = this.treeInfo ? cloneDeep(this.treeInfo) : null;
        if (this.quickSelect) {
            this.quickSelect = Object.assign({}, QuickSelectDefaultOptions, this.quickSelect || {});
        }
        this.setContainerMargin();
    };
    /** 内容中留白边距 */
    /**
     * 内容中留白边距
     * @return {?}
     */
    LookupGridComponent.prototype.setContainerMargin = /**
     * 内容中留白边距
     * @return {?}
     */
    function () {
        /** @type {?} */
        var mrn = !this.enableMultiFieldSearch ? 14 : 24;
        /** @type {?} */
        var mb = !this.enableMultiFieldSearch ? 5 : 0;
        this.containerMargin = { top: 0, bottom: mb, left: mrn, right: mrn };
        if (this.enableMultiFieldSearch) {
            this.useNewLayout = true;
        }
        this.containerStyle = {
            marginLeft: this.containerMargin.left + "px",
            marginRight: this.containerMargin.right + "px",
            marginTop: this.containerMargin.top + "px",
            marginBottom: this.containerMargin.bottom + "px",
        };
    };
    /**
     * @return {?}
     */
    LookupGridComponent.prototype.ngOnDestroy = /**
     * @return {?}
     */
    function () {
        _super.prototype.ngOnDestroy.call(this);
        this.subscriptions.forEach((/**
         * @param {?} n
         * @return {?}
         */
        function (n) {
            if (n) {
                n.unsubscribe();
                n = null;
            }
        }));
        if (this.selectionMgr) {
            this.selectionMgr.destroy();
        }
        this.subscriptions = [];
        if (this.farrisInstances) {
            this.farrisInstances.destroy(this.el.nativeElement);
        }
        if (this.lookupSearchInputEvent) {
            this.lookupSearchInputEvent();
        }
        this.lookupUtils.destroy();
        this.overLayService.destory(this.el.nativeElement);
        this.overLayService = null;
    };
    /**
     * @param {?} changes
     * @return {?}
     */
    LookupGridComponent.prototype.ngOnChanges = /**
     * @param {?} changes
     * @return {?}
     */
    function (changes) {
        if (changes.columns && !changes.columns.isFirstChange()) {
            this.cacheUserConfig();
        }
        if (changes.enableMultiFieldSearch && !changes.enableMultiFieldSearch.isFirstChange()) {
            this.setContainerMargin();
        }
    };
    /**
     * @return {?}
     */
    LookupGridComponent.prototype.ngAfterViewInit = /**
     * @return {?}
     */
    function () {
        if (!this.quickSelect || !this.quickSelect.enable) {
            this.lookupSearchInputEvent = onTextChanged.bind(this)();
        }
        // 初始化个性化配置
        if (this.usePersionalConf) {
            this.favHelper.initPersonalInfo();
        }
        if (this.useExtendInfo) {
            /** @type {?} */
            var jsonData = this.selectionMgr.getBindingData();
            this.updateExtendInfo(jsonData, false);
        }
        if (this.viewType === "text") {
            // this.shortcuts.add({
            //     key: 'F2',
            //     target: this.inputGroup.textbox.nativeElement,
            //     command: () => {
            //         this.showDialog();
            //     }
            // });
            this.render2.listen(this.inputGroup.textbox.nativeElement, "keydown.F2", this.showDialog.bind(this));
        }
        else {
            this.registerMouseEventForTagView();
            if (this.tagboxHeight) {
                /** @type {?} */
                var el = this.tagbox.nativeElement.querySelector(".multi-more");
                /** @type {?} */
                var tbh = this.tagboxHeight;
                if (tbh !== "auto") {
                    tbh += "px";
                    if (this.maxTagboxHeight) {
                        this.render2.setStyle(el, "maxHeight", this.maxTagboxHeight + "px");
                    }
                }
                this.render2.setStyle(el, "height", tbh);
            }
        }
        if (this.el && this.farrisInstances) {
            this.farrisInstances.add(this.el.nativeElement, this);
        }
    };
    /**
     * @private
     * @return {?}
     */
    LookupGridComponent.prototype.createInstance = /**
     * @private
     * @return {?}
     */
    function () {
        this.http = this.injector.get(ServerSideToken, null);
        this.messagerService = this.injector.get(MessagerService);
        this.loadingService = this.injector.get(LoadingService);
        this.notifyService = this.injector.get(NotifyService, null);
        this.personalConfigService = this.injector.get(PersonalConfigService, null);
        this.lookupSelectionSer = new LookupSelectionService(this);
        this.utilService = new UtilService(this);
        this.localService = this.injector.get(LocaleService);
        this.treeNodeHelper = new TreeNodeHelper(this);
        this.favHelper = new FavoriteHelper(this);
        this.ttEventMgr = new TreeTableEventManager(this);
        this.multiSelMgr = new MultiSelectionManager(this);
        this.httpMgr = new LookupHttpManager(this);
        this.lookupCmpMgr = new LookupComponentManager(this);
        this.dialogMgr = new LookupDialogManager(this);
        this.selectionMgr = new SelectionManager(this);
        this.dtEventMgr = new DataTableEventManager(this);
    };
    /**
     * @return {?}
     */
    LookupGridComponent.prototype.showDialog = /**
     * @return {?}
     */
    function () {
        var _this = this;
        if (this.disabled || this.readonly) {
            return false;
        }
        this.selectionMgr.initDisplayValue();
        this.dictPickingSubscription = this.dictPicking({
            instance: this,
        }).subscribe((/**
         * @param {?} pr
         * @return {?}
         */
        function (pr) {
            _this.dialogMgr.canOpenDialog(pr);
        }));
        return false;
    };
    /** 判断是否为双列表帮助 */
    /**
     * 判断是否为双列表帮助
     * @return {?}
     */
    LookupGridComponent.prototype.isDoublleList = /**
     * 判断是否为双列表帮助
     * @return {?}
     */
    function () {
        return ((this.displayType === LookupGridDisplayType.NavList ||
            this.displayType === LookupGridDisplayType.NavTreeList ||
            this.displayType === LookupGridDisplayType.NavListTree) && this.showNavigation);
    };
    /** 判断是否显示为树帮助 */
    /**
     * 判断是否显示为树帮助
     * @return {?}
     */
    LookupGridComponent.prototype.isTree = /**
     * 判断是否显示为树帮助
     * @return {?}
     */
    function () {
        /** @type {?} */
        var dtyp = this.displayType.toUpperCase();
        return (dtyp === LookupGridDisplayType.TreeList || dtyp === LookupGridDisplayType.NavListTree);
    };
    /**
     * @param {?} e
     * @return {?}
     */
    LookupGridComponent.prototype.onResized = /**
     * @param {?} e
     * @return {?}
     */
    function (e) {
        this.resizeCmp(e.size);
        this.resized.emit(e.size);
    };
    /**
     * @param {?} pos
     * @return {?}
     */
    LookupGridComponent.prototype.onResizing = /**
     * @param {?} pos
     * @return {?}
     */
    function (pos) {
        this.resizing.emit(pos.size);
        this.resizeCmp(pos.size);
        if (this.isDoublleList() && this.leftComponentRef) {
            this.leftComponentRef.instance.resize({
                width: this.leftPanel.width,
                height: this.dialogMgr.getHeight(),
            });
        }
    };
    /**
     * @param {?} pos
     * @return {?}
     */
    LookupGridComponent.prototype.onMaxDialog = /**
     * @param {?} pos
     * @return {?}
     */
    function (pos) {
        this.resizeCmp(pos.size);
        if (this.leftPanel) {
            this.leftComponentRef.instance.resize({
                width: this.leftPanel.width,
                height: this.dialogMgr.getHeight(),
            });
        }
        // tfs 543132 
        // this.dialogHeight = pos.size.height;
        this.dialogContentHeight = this.dialogMgr.resetDialogContentHeight();
        this.dialogMaxed.emit(pos.size);
    };
    /**
     * @param {?=} size
     * @return {?}
     */
    LookupGridComponent.prototype.resizeCmp = /**
     * @param {?=} size
     * @return {?}
     */
    function (size) {
        if (!this.componentRef || !this.componentRef.instance) {
            return;
        }
        if (!size) {
            size = this.dialog.size;
        }
        /** @type {?} */
        var _size = {
            width: size.width -
                this.containerMargin.left -
                this.containerMargin.right,
            height: 0
        };
        if (this.useFavorite && this.favoritesComponentRef && this.activeTab == 'favorite') {
            _size.height = this.lookupCmpMgr.getCmpHeight(true);
            this.favoritesComponentRef.instance.resize(_size);
        }
        else {
            _size.height = this.lookupCmpMgr.getCmpHeight();
            if (this.isDoublleList()) {
                _size.width = size.width - this.leftPanel.width - this.getSpaceWidth(true);
            }
            this.componentRef.instance.resize(_size);
        }
        if (this.isRecordSize) {
            this.personalConf.size = this.dialog.size;
            this.personalConfigService.updatePersonalConfig({
                size: this.dialog.size,
            });
        }
        if (this.isDoublleList() && this.layoutRef) {
            this.layoutRef.setPanelMaxSize();
        }
    };
    /**
     * @private
     * @return {?}
     */
    LookupGridComponent.prototype.checkGridOptions = /**
     * @private
     * @return {?}
     */
    function () {
        if (!this.gridOptions.idField) {
            this.writeConsole("未设置主键字段 idField");
        }
        if (!this.beforeSelectData) {
            this.beforeSelectData = (/**
             * @return {?}
             */
            function () {
                return of(true);
            });
        }
        /** @type {?} */
        var ctxMenuLanguages = this.localService.getValue("lookup.contextMenu");
        this.treeTableOptions = Object.assign({ language: ctxMenuLanguages }, this.defaultTreeTableOptions, this.treeTableOptions || {});
    };
    /**
     * @return {?}
     */
    LookupGridComponent.prototype.getComponentType = /**
     * @return {?}
     */
    function () {
        if (!this.displayType) {
            this.displayType = "LIST";
        }
        switch (this.displayType) {
            case LookupGridDisplayType.List:
            case LookupGridDisplayType.NavList:
            case LookupGridDisplayType.NavTreeList:
                return DataTableComponent;
            case LookupGridDisplayType.TreeList:
            case LookupGridDisplayType.NavListTree:
                return TreeTableComponent;
        }
    };
    /**
     * @param {?=} msg
     * @return {?}
     */
    LookupGridComponent.prototype.showLoading = /**
     * @param {?=} msg
     * @return {?}
     */
    function (msg) {
        if (msg === void 0) { msg = ""; }
        if (this.dialog && this.dialog.modalContent && !this.loading) {
            /** @type {?} */
            var opts = {
                container: this.dialog.modalContent,
                delay: 200,
            };
            if (msg) {
                opts["message"] = msg;
            }
            this.loading = this.loadingService.show(opts);
        }
        else {
            this.loading = this.loadingService.show();
        }
    };
    /**
     * @return {?}
     */
    LookupGridComponent.prototype.closeLoading = /**
     * @return {?}
     */
    function () {
        if (this.loading) {
            this.loading.close();
            this.loading = null;
        }
        this.loadingService.clearAll();
    };
    /**
     * @param {?} resdata
     * @return {?}
     */
    LookupGridComponent.prototype.getSearchColumns = /**
     * @param {?} resdata
     * @return {?}
     */
    function (resdata) {
        /** @type {?} */
        var cols = resdata.columns || this.columns;
        if (resdata.searchFields) {
            return resdata.searchFields.map((/**
             * @param {?} sf
             * @return {?}
             */
            function (sf) {
                /** @type {?} */
                var c = cols.find((/**
                 * @param {?} col
                 * @return {?}
                 */
                function (col) { return col.field.toLowerCase() === sf.value.toLowerCase(); }));
                if (c) {
                    sf.label = c.title;
                }
                return sf;
            }));
        }
        else if (cols) {
            return cols
                .filter((/**
             * @param {?} c
             * @return {?}
             */
            function (c) { return c.searchField; }))
                .map((/**
             * @param {?} col
             * @return {?}
             */
            function (col) {
                return {
                    label: col.title,
                    value: col.field,
                };
            }));
        }
        return [];
    };
    /**
     * @private
     * @param {?} resData
     * @return {?}
     */
    LookupGridComponent.prototype.initOptions = /**
     * @private
     * @param {?} resData
     * @return {?}
     */
    function (resData) {
        var _this = this;
        /** @type {?} */
        var obser = of(true);
        this.gridOptions.searchFields = this.getSearchColumns(resData);
        if (resData) {
            // 如果组件中未设置显示列，则使用服务器端返回的设置； 否则将使用组件中配置的展示列
            if ((!this.columns || !this.columns.length) &&
                resData.columns &&
                resData.columns.length) {
                this.columns = resData.columns;
            }
            this.initColumnWidth(this.columns);
            this.setLookupTitleText(resData);
            if (this.isDoublleList() &&
                this.dialogWidth < this.navLookupDialogMinWidth &&
                !this.isRecordSize) {
                this.dialogWidth = this.navLookupDialogMinWidth;
                this.dialog.reSize({ width: this.dialogWidth });
            }
            if (!this.customDisplayType) {
                // this.displayType = resData.displayType || this.displayType || 'LIST';
                // if (this.treeToList) {
                //     this.displayType = this.isDoublleList() ? ' NAVLIST ': 'LIST';
                // }
                this.changeDetector.detectChanges();
                this.lookupCmpMgr.createComponentWithServerData(resData);
            }
            if (this.isDoublleList() && resData.navigation && !this.leftComponentRef) {
                this.navigationOptions = resData.navigation;
                this.navigationOptions.hover = true;
                this.navigationOptions.searchFields = this.getSearchColumns(this.navigationOptions);
                this.initColumnWidth(this.navigationOptions.columns, 'nav');
                // update columns formatter
                if (this.customNavFormatter) {
                    this.navigationOptions.columns.forEach((/**
                     * @param {?} col
                     * @return {?}
                     */
                    function (col) {
                        if (_this.customNavFormatter[col.field]) {
                            col.formatter = _this.customNavFormatter[col.field];
                        }
                    }));
                    this.navigationOptions["rowStyler"] =
                        this.customNavFormatter.rowStyler;
                    this.navigationOptions["cellStyler"] =
                        this.customNavFormatter.cellStyler;
                }
                // 20210926 树导航帮助中 左侧树支持分层加载
                if (this.displayType === LookupGridDisplayType.NavTreeList) {
                    /** @type {?} */
                    var _nav_treeinfo_loadtype = this.navigationOptions.treeInfo.loadDataType;
                    if (this.loadTreeDataType !== "default") {
                        _nav_treeinfo_loadtype =
                            this.loadTreeDataType === "loadall"
                                ? "all"
                                : "async";
                    }
                    this.navigationOptions.treeInfo.loadDataType =
                        _nav_treeinfo_loadtype;
                }
                obser = this.lookupCmpMgr.createLeftComponent(this.navigationOptions);
            }
        }
        else {
            this.lookupCmpMgr.createContent(this.gridOptions);
            this.lookupCmpMgr.createFavoriteComponent();
        }
        if (this.isTextChange) {
            this.componentRef.instance.searchData.value = this.displayText;
        }
        else {
            if (this._searchState && this._searchState.value) {
                this.componentRef.instance.searchData.value = this._searchState.value;
            }
        }
        // update columns formatter
        if (this.customFormatter) {
            this.columns.forEach((/**
             * @param {?} col
             * @return {?}
             */
            function (col) {
                if (_this.customFormatter[col.field]) {
                    col.formatter = _this.customFormatter[col.field];
                }
            }));
            if (this.customFormatter.rowStyler) {
                this.componentRef.instance.rowStyler = this.customFormatter.rowStyler;
            }
            if (this.customFormatter.cellStyler) {
                this.componentRef.instance.cellStyler = this.customFormatter.cellStyler;
            }
        }
        else {
            if (resData.customStyles) {
                var _a = resData.customStyles, rowStylers_1 = _a.row, cellStylers_1 = _a.cell;
                /** @type {?} */
                var filterFn_1 = (/**
                 * @param {?} n
                 * @param {?} data
                 * @return {?}
                 */
                function (n, data) {
                    /** @type {?} */
                    var d = _this.utils.getValue(n.field, data);
                    if (typeof d === 'boolean') {
                        if (n.value == '0' || n.value == '1' || n.value == 'true' || n.value == 'false') {
                            return d === (n.value == '0' || n.value == 'false') ? false : true;
                        }
                        return d === !!n.value;
                    }
                    return d === n.value;
                });
                if (rowStylers_1) {
                    this.componentRef.instance.rowStyler = (/**
                     * @param {?} __0
                     * @return {?}
                     */
                    function (_a) {
                        var data = _a.data;
                        /** @type {?} */
                        var styleItem = rowStylers_1.find((/**
                         * @param {?} n
                         * @return {?}
                         */
                        function (n) {
                            return filterFn_1(n, data);
                        }));
                        if (styleItem) {
                            return styleItem.styles;
                        }
                        return null;
                    });
                }
                if (cellStylers_1) {
                    this.componentRef.instance.cellStyler = (/**
                     * @param {?} e
                     * @param {?} field
                     * @return {?}
                     */
                    function (e, field) {
                        var data = e.data;
                        /** @type {?} */
                        var styleItem = cellStylers_1.filter((/**
                         * @param {?} n
                         * @return {?}
                         */
                        function (n) { return n.field === field; })).find((/**
                         * @param {?} t
                         * @return {?}
                         */
                        function (t) {
                            return filterFn_1(t, data);
                        }));
                        if (styleItem) {
                            return styleItem.styles;
                        }
                        return null;
                    });
                }
            }
        }
        // this.changeDetector.detectChanges();
        return obser;
    };
    /**
     * 设置帮助窗口标题
     */
    /**
     * 设置帮助窗口标题
     * @private
     * @param {?} resData
     * @return {?}
     */
    LookupGridComponent.prototype.setLookupTitleText = /**
     * 设置帮助窗口标题
     * @private
     * @param {?} resData
     * @return {?}
     */
    function (resData) {
        if (resData.displayInfo) {
            this.displayInfo = resData.displayInfo;
        }
        // 如果自定义标题，将以此标题为准。否则加载服务器端返回的数据
        if (this.title && this.title !== "此处显示帮助标题") {
            this.displayInfo.title = this.title;
        }
        if (this.displayInfo && resData.title) {
            if (!this.displayInfo.title) {
                this.displayInfo.title = resData.title;
            }
        }
    };
    /**
     * @private
     * @return {?}
     */
    LookupGridComponent.prototype.showGetAllChildrenCheckbox = /**
     * @private
     * @return {?}
     */
    function () {
        if (this.isTree() && this.treeInfo) {
            this.enableGetAllChildNodes =
                this.treeInfo.loadDataType !== "all" && this.treeInfo.layerType === "pathcode";
        }
        else {
            this.enableGetAllChildNodes = false;
        }
    };
    /**
     * @return {?}
     */
    LookupGridComponent.prototype.initData = /**
     * @return {?}
     */
    function () {
        var _this = this;
        /** @type {?} */
        var observer = {
            next: (/**
             * @param {?} data
             * @return {?}
             */
            function (data) {
                if (data === false) {
                    if (!_this.columns || !_this.columns.length) {
                        _this.closeLoading();
                        _this.closeDialog();
                        if (!_this.messagerService.modals || !_this.messagerService.modals.length) {
                            _this.notifyService.error({ msg: _this.localService.getValue('lookup.configError'), timeout: 3000 });
                        }
                        return;
                    }
                }
                // 服务器端发生错误，返回NULL 时，直接关闭窗口
                if (data === null) {
                    _this.isShow = false;
                    if (_this.dialog) {
                        _this.dialog.close();
                    }
                    return;
                }
                _this.initOptions(data).subscribe((/**
                 * @return {?}
                 */
                function () {
                    _this.selectedColumns = _this.multiSelMgr.initSelectedColumns();
                    // this.favoriteColumns = this.favHelper.getFavoriteColumns();
                    if (_this.usePersionalConf) {
                        if (!_this.personalConfigService.getPersonalData()) {
                            _this.personalConfigService.savePersonalConfig(_this.personalConf);
                        }
                    }
                    if (!_this.isTabChanged) {
                        _this.lookupSelectionSer.loadSelections(data.selectedItems || []);
                    }
                    if (_this.isDoublleList()) {
                        // 导航帮助时，设置左侧选中数据时，不加载主数据列表。
                        if (_this.navSelectedIds || _this.selectFirstInNav) {
                            _this.loadDataWhenOpen = false;
                        }
                    }
                    if (data['activeTab'] && !_this.isTabChanged) {
                        _this.activeTab = 'datalist';
                        if (_this.personalConf && _this.personalConf.tabIndex !== _this.activeTab) {
                            _this.personalConf.tabIndex = _this.activeTab;
                        }
                    }
                    _this.loadData(data);
                    if (_this.isTree()) {
                        if (_this.activeTab === "datalist") {
                            /** @type {?} */
                            var tt = (/** @type {?} */ (_this.componentRef.instance));
                            if (tt.searchData.value && _this.items && _this.items.length) {
                                if (_this.items[0].children && _this.items[0].children.length) {
                                    tt.toggleExpand(_this.items[0], true, false);
                                }
                            }
                        }
                        _this.showGetAllChildrenCheckbox();
                    }
                    _this.isTextChange = false;
                    _this._searchResult = null; // 清空临时查询 结果
                    _this.closeLoading();
                    // this.isReady$.next(true);
                    _this.isReady = true;
                    _this.changeDetector.detectChanges();
                    _this.lookupinitializationSubject.next();
                    if (_this.layoutRef) {
                        _this.layoutRef.setPanelMaxSize();
                    }
                }));
            }),
            error: (/**
             * @param {?} err
             * @return {?}
             */
            function (err) {
                // this.isReady$.next(true);
                _this.closeLoading();
                _this._searchResult = null; // 清空临时查询 结果
                _this.isTextChange = false;
                _this.hasError = true;
                _this.changeDetector.detectChanges();
                if (typeof err === "string") {
                    _this.messagerService.error(err);
                }
                else {
                    if (err) {
                        if (err.Message) {
                            _this.messagerService.error(err.Message);
                        }
                        else {
                            if (err.error) {
                                _this.messagerService.exception(err.error);
                            }
                            else {
                                _this.messagerService.error("应用服务器错误,请联系系统管理员！");
                            }
                        }
                    }
                }
            }),
        };
        /** @type {?} */
        var p = {
            pageInfo: {
                pageSize: this.pageSize || 20,
                pageIndex: 1,
            },
        };
        /** @type {?} */
        var t = "all";
        if (this.isTextChange) {
            this._searchState = {
                field: "*",
                value: this.displayText
            };
        }
        // 分层加载支持设置展开层级
        if (this.isTree() || this.displayType === LookupGridDisplayType.NavTreeList) {
            if (this.expandLevel > -1) {
                p['expandLevel'] = this.expandLevel;
            }
        }
        if (this._searchState && this._searchState.value) {
            p['search'] = this._searchState;
            t = 'search';
            // if (this.conditions && !this.conditions.length && this.enableMultiFieldSearch) {
            //     this.conditions = [{
            //         "filterField": this.textField,
            //         "value": this._searchState.value,
            //         "lbracket": "",
            //         "rbracket": "",
            //         "relation": 0,
            //         "compare": 6
            //     }];
            // }
        }
        if (!this.isTabChanged && this.enableToSelect) {
            /** @type {?} */
            var vals = this.selectionMgr.getSelectedIds();
            if (vals && vals.length) {
                p["selectedInfo"] = {
                    selected: true,
                    selectedIds: vals,
                };
            }
            else {
                if (this["selectedIds"]) {
                    p["selectedInfo"] = {
                        selected: true,
                        selectedIds: this["selectedIds"],
                    };
                }
            }
        }
        this.showLoading();
        this.hasError = false;
        this.httpMgr.lookupRequest(p, t).pipe(map((/**
         * @param {?} restData
         * @return {?}
         */
        function (restData) {
            if (restData) {
                restData.selectedItems = restData["selectedData"] || [];
            }
            else {
                if (restData && typeof restData === "object") {
                    restData.selectedItems = [];
                }
            }
            return restData === null ? false : restData;
        })), switchMap((/**
         * @param {?} res
         * @return {?}
         */
        function (res) {
            if (_this.beforeLoadData) {
                return _this.beforeLoadData({ instance: _this, res: res });
            }
            return of(res);
        }))).subscribe(observer);
    };
    /**
     * @param {?=} resData
     * @param {?=} rebindEvent
     * @return {?}
     */
    LookupGridComponent.prototype.loadData = /**
     * @param {?=} resData
     * @param {?=} rebindEvent
     * @return {?}
     */
    function (resData, rebindEvent) {
        if (rebindEvent === void 0) { rebindEvent = true; }
        if (this.activeTab === "datalist") {
            if (this.useFavorite && !this.isTree()) {
                this.favHelper.updateFavoritesStatus(resData.items);
            }
            switch (this.displayType) {
                case LookupGridDisplayType.NavList:
                case LookupGridDisplayType.NavTreeList:
                case LookupGridDisplayType.List:
                    this.loadDataTableData(resData);
                    if (rebindEvent) {
                        this.dtEventMgr.bindDataTableEvent();
                    }
                    break;
                case LookupGridDisplayType.TreeList:
                case LookupGridDisplayType.NavListTree:
                    this.loadTreeTableData(resData, rebindEvent);
                    break;
            }
        }
        else if (this.activeTab === "favorite") {
            this.loadFavData(resData);
        }
        // 选中数据
        this.selectionMgr.selectCurrentValue();
    };
    /**
     * @private
     * @param {?} result
     * @return {?}
     */
    LookupGridComponent.prototype.loadFavData = /**
     * @private
     * @param {?} result
     * @return {?}
     */
    function (result) {
        var _this = this;
        // 加载收藏数据
        if (this.useFavorite) {
            if (this.isTree()) {
                this.setTreeInfo(result);
                /** @type {?} */
                var treeNodes = this.favHelper.initFavoriteTreeData(result.items);
                /** @type {?} */
                var treeData = this.treeNodeHelper
                    .flatTreeNodes(treeNodes)
                    .map((/**
                 * @param {?} n
                 * @return {?}
                 */
                function (n) {
                    n.data["_addtional_"] = n["addtional"];
                    return n.data;
                }));
                this.lookupSelectionSer.initFavoriteItems(treeData);
                setTimeout((/**
                 * @return {?}
                 */
                function () {
                    _this.favoritesComponentRef.instance.scrollToY(1);
                }));
            }
            else {
                this.lookupSelectionSer.initFavoriteItems(result.items);
            }
            this.favHelper.loadFavoritesData(result);
        }
    };
    /**
     * @param {?=} resData
     * @return {?}
     */
    LookupGridComponent.prototype.loadDataTableData = /**
     * @param {?=} resData
     * @return {?}
     */
    function (resData) {
        if (resData) {
            if (this.useFavorite && !this.isTree()) {
                this.favHelper.updateFavoritesStatus(resData.items);
            }
            if (this.gridOptions) {
                if (resData && resData.columns && resData.columns.length) {
                    if (!this.gridOptions.columns ||
                        !this.gridOptions.columns.length) {
                        this.columns = resData.columns;
                    }
                }
                this.items = resData.items;
                this.total = resData.total || resData.items.length;
                if (resData.searchFields) {
                    this.gridOptions.searchFields = this.getSearchColumns(resData);
                }
                if (resData.pageInfo) {
                    if (resData.pageInfo.pageList &&
                        (!this.pageList || !this.pageList.length)) {
                        this.pageList = resData.pageInfo.pageList;
                    }
                    this.pagination = resData.pageInfo.enablePager;
                    this.pageIndex = resData.pageInfo.pageIndex;
                    this.pageSize = resData.pageInfo.pageSize;
                }
                else {
                    this.pagination = false;
                }
            }
            else {
                this.gridOptions = (/** @type {?} */ (resData));
            }
        }
        this.updateDataTable(this.gridOptions);
    };
    /**
     * @private
     * @param {?} opts
     * @return {?}
     */
    LookupGridComponent.prototype.updateDataTable = /**
     * @private
     * @param {?} opts
     * @return {?}
     */
    function (opts) {
        if (opts) {
            /** @type {?} */
            var dt = (/** @type {?} */ (this.componentRef.instance));
            if (!dt.columns || dt.columns.length === 0) {
                dt.columns = this.gridOptions.columns;
            }
            dt.allColumnsTitle = this.allColumnsTitle;
            dt.searchFields = opts.searchFields;
            dt.pagination = opts.pagination;
            dt.pageList = this.pageList;
            dt.remoteSort = this.remoteSort;
            dt.striped = this.enableMultiFieldSearch;
            if (this.loadDataWhenOpen) {
                dt.loadData({
                    pageSize: opts.pageSize,
                    pageIndex: this.gridOptions.pageIndex,
                    total: this.gridOptions.total,
                    data: this.gridOptions.items,
                });
                dt.cd.markForCheck();
            }
            this.loadSuccess.emit();
        }
    };
    /**
     * @private
     * @param {?} resData
     * @return {?}
     */
    LookupGridComponent.prototype.setTreeInfo = /**
     * @private
     * @param {?} resData
     * @return {?}
     */
    function (resData) {
        if (!resData) {
            return;
        }
        /** @type {?} */
        var _treeInfo = null;
        if (resData.treeInfo) {
            /** @type {?} */
            var onlySelectLeaf = resData.treeInfo.onlySelectLeaf;
            /** @type {?} */
            var _osl = "no";
            if (onlySelectLeaf !== undefined) {
                _osl = onlySelectLeaf ? "yes" : "no";
            }
            _treeInfo = tslib_1.__assign({}, resData.treeInfo, { onlySelectLeaf: _osl });
        }
        /** @type {?} */
        var treeInfo = this.gridOptions.treeInfo;
        if (treeInfo) {
            if (treeInfo.onlySelectLeaf === undefined ||
                treeInfo.onlySelectLeaf === null) {
                treeInfo.onlySelectLeaf = "no";
            }
            if (typeof treeInfo.onlySelectLeaf === "boolean") {
                treeInfo.onlySelectLeaf = treeInfo.onlySelectLeaf ? "yes" : "no";
            }
            // 20210902
            if (this.loadTreeDataType === "default") {
                treeInfo.loadDataType = _treeInfo.loadDataType;
            }
            else {
                treeInfo.loadDataType = this.loadTreeDataType === "loadall" ? "all" : "async";
                _treeInfo.loadDataType = treeInfo.loadDataType;
            }
            if (treeInfo.onlySelectLeaf !== "default") {
                _treeInfo = Object.assign(_treeInfo, treeInfo);
            }
        }
        else {
            if (this.loadTreeDataType !== "default") {
                _treeInfo.loadDataType = this.loadTreeDataType === "loadall" ? "all" : "async";
            }
        }
        this.treeInfo = _treeInfo;
    };
    /**
     * @private
     * @param {?=} resData
     * @param {?=} rebindEvent
     * @return {?}
     */
    LookupGridComponent.prototype.loadTreeTableData = /**
     * @private
     * @param {?=} resData
     * @param {?=} rebindEvent
     * @return {?}
     */
    function (resData, rebindEvent) {
        var _this = this;
        if (rebindEvent === void 0) { rebindEvent = true; }
        /** @type {?} */
        var items = resData ? resData.items : this.gridOptions.items;
        this.items = items;
        if (resData) {
            this.setTreeInfo(resData);
            /** @type {?} */
            var treeInfo = this.gridOptions.treeInfo;
            if (!treeInfo["treeDataIsInit"]) {
                if (treeInfo.layerType.toLowerCase() === "pathcode") {
                    this.items = this.lookupUtils.makeTree(this.items, treeInfo);
                }
                else {
                    this.items = this.lookupUtils.makeTreeWithParentID(this.items, "", treeInfo.dataField ? treeInfo.dataField + "." + treeInfo.parentField : treeInfo.parentField, this.idField);
                }
            }
        }
        if (this.componentRef.instance instanceof TreeTableComponent) {
            /** @type {?} */
            var tt_1 = (/** @type {?} */ (this.componentRef.instance));
            if (this.treeInfo) {
                tt_1.loadDataType = this.treeInfo.loadDataType;
            }
            if (!this.columns || !this.columns.length) {
                tt_1.columns = resData.columns || [];
                this.gridOptions.columns = tt_1.columns;
            }
            /** @type {?} */
            var isLoadAllTreeData = (/**
             * @return {?}
             */
            function () {
                if (_this.loadTreeDataType === "default") {
                    return tt_1.loadDataType === "all";
                }
                else {
                    return _this.loadTreeDataType === "loadall";
                }
            });
            if (rebindEvent) {
                this.ttEventMgr.bindTreetableEvent();
            }
            /** @type {?} */
            var isLoadAll = isLoadAllTreeData();
            /** 完整树节点检查 By Lucas 20200302 */
            this.items = this.checkNodeCanBeSelect(this.items, isLoadAll);
            tt_1.keepSelect = true;
            if (this.useFavorite) {
                this.favHelper.updateFavoritesStatus(this.items);
            }
            if (this.loadDataWhenOpen) {
                tt_1.loadData(this.items);
            }
            tt_1.resize();
        }
    };
    /**
     * 在构完整树中，有部分节点因为条件被过滤，为显示完整树，
     * 这些节点在运行时是不允许被选中的, 返回新的节点数组
     * By Lucas 20200302
     */
    /**
     * 在构完整树中，有部分节点因为条件被过滤，为显示完整树，
     * 这些节点在运行时是不允许被选中的, 返回新的节点数组
     * By Lucas 20200302
     * @param {?} nodes
     * @param {?=} isAllTreeData
     * @return {?}
     */
    LookupGridComponent.prototype.checkNodeCanBeSelect = /**
     * 在构完整树中，有部分节点因为条件被过滤，为显示完整树，
     * 这些节点在运行时是不允许被选中的, 返回新的节点数组
     * By Lucas 20200302
     * @param {?} nodes
     * @param {?=} isAllTreeData
     * @return {?}
     */
    function (nodes, isAllTreeData) {
        var _this = this;
        if (isAllTreeData === void 0) { isAllTreeData = false; }
        if (nodes && nodes.length) {
            return nodes.map((/**
             * @param {?} node
             * @return {?}
             */
            function (node) {
                if (node.hasOwnProperty("addtional")) {
                    node.selectable = !node["addtional"];
                }
                if (node.children && node.children.length) {
                    _this.checkNodeCanBeSelect(node.children, isAllTreeData);
                }
                else {
                    if (isAllTreeData && (!_this._searchState || !_this._searchState.value)) {
                        node.leaf = true;
                    }
                }
                return node;
            }));
        }
        return nodes;
    };
    /**
     * @param {?} val
     * @return {?}
     */
    LookupGridComponent.prototype.onChanges = /**
     * @param {?} val
     * @return {?}
     */
    function (val) {
        if (!val) {
            this.onClear();
        }
        else {
            this.displayText = val;
            this.isTextChange = this.originalText !== this.displayText;
            if (this.nosearch) {
                this.setModelValue(val);
                this.clearMappings.emit({ instance: this, value: val, });
            }
            this.onModelTouched(val);
            this.valueChanged.emit(val);
            this.textChanged.emit(val);
        }
    };
    /**
     * @param {?=} emit
     * @return {?}
     */
    LookupGridComponent.prototype.onClear = /**
     * @param {?=} emit
     * @return {?}
     */
    function (emit) {
        if (emit === void 0) { emit = true; }
        this.isTextChange = false;
        this.displayText = "";
        this.displayValue = "";
        this.originalText = "";
        this.extendInfo = "";
        this.setModelValue("");
        if (this.mappingFn) {
            this.mappingFn(null, this.mapFields);
        }
        else {
            if (this.mapFields) {
                /** @type {?} */
                var bindingData = this.selectionMgr.getBindingData();
                if (bindingData) {
                    this.defaultMapping.lookupFieldMap(null, this.mapFields, bindingData);
                }
            }
        }
        this.multiSelMgr.clear();
        if (emit) {
            this.clear.emit();
        }
    };
    /**
     * @param {?=} emit
     * @return {?}
     */
    LookupGridComponent.prototype.clearValue = /**
     * @param {?=} emit
     * @return {?}
     */
    function (emit) {
        if (emit === void 0) { emit = true; }
        this.onClear(emit);
    };
    /**
     * @param {?=} rowData
     * @return {?}
     */
    LookupGridComponent.prototype.selectItem = /**
     * @param {?=} rowData
     * @return {?}
     */
    function (rowData) {
        var _this = this;
        /** @type {?} */
        var selectedRow = null;
        if (rowData) {
            selectedRow = rowData;
        }
        else {
            selectedRow = this.selections;
            if (!selectedRow) {
                selectedRow = null;
            }
            else {
                if (Array.isArray(selectedRow) && !selectedRow.length) {
                    selectedRow = null;
                }
            }
        }
        this._searchState = {
            field: '*',
            value: ''
        };
        // 如果定义了自定义处理确定事件，则由自定义事件处理后面的逻辑
        if (this.okHandler) {
            this.okHandler({ data: selectedRow, instance: this });
        }
        else {
            if (this.beforeSelectData) {
                /** @type {?} */
                var bsdResult = this.beforeSelectData({
                    instance: this,
                    data: selectedRow,
                });
                if (bsdResult && bsdResult.subscribe) {
                    bsdResult.subscribe((/**
                     * @param {?} e
                     * @return {?}
                     */
                    function (e) {
                        _this._beforeSelectDataCallBack(e, selectedRow);
                    }));
                }
                else {
                    this.writeConsole('帮助数据选中前事件未返回值或返回类型非Observable, 请检查', 'error');
                }
            }
            else {
                this._beforeSelectDataCallBack(true, selectedRow);
            }
        }
    };
    /**
     * @param {?} data
     * @param {?=} treeInfo
     * @return {?}
     */
    LookupGridComponent.prototype.getPathCode = /**
     * @param {?} data
     * @param {?=} treeInfo
     * @return {?}
     */
    function (data, treeInfo) {
        if (treeInfo === void 0) { treeInfo = null; }
        return this.lookupUtils.getPathCode(data, treeInfo || this.treeInfo);
    };
    /**
     * @param {?} data
     * @param {?=} treeInfo
     * @return {?}
     */
    LookupGridComponent.prototype.getLayerData = /**
     * @param {?} data
     * @param {?=} treeInfo
     * @return {?}
     */
    function (data, treeInfo) {
        if (treeInfo === void 0) { treeInfo = null; }
        return this.lookupUtils.getLayerData(data, treeInfo || this.treeInfo);
    };
    /**
     * @private
     * @param {?} rows
     * @return {?}
     */
    LookupGridComponent.prototype.getParentPathCode = /**
     * @private
     * @param {?} rows
     * @return {?}
     */
    function (rows) {
        var _this = this;
        /** @type {?} */
        var maxBy = (/**
         * @param {?} arr
         * @param {?} fn
         * @return {?}
         */
        function (arr, fn) {
            return Math.max.apply(Math, tslib_1.__spread(arr.map(typeof fn === "function" ? fn : (/**
             * @param {?} val
             * @return {?}
             */
            function (val) { return val[fn]; }))));
        });
        // const { dataField, pathField, layerField } = this.treeInfo;
        /** @type {?} */
        var maxLayer = maxBy(rows, (/**
         * @param {?} x
         * @return {?}
         */
        function (x) { return _this.getLayerData(x); }));
        var _loop_1 = function (i) {
            /** @type {?} */
            var _rows = rows.filter((/**
             * @param {?} n
             * @return {?}
             */
            function (n) { return _this.getLayerData(n) === i; }));
            if (_rows && _rows.length && _rows.length < rows.length) {
                _rows.forEach((/**
                 * @param {?} r
                 * @return {?}
                 */
                function (r) {
                    /** @type {?} */
                    var patchCode = _this.getPathCode(r);
                    /** @type {?} */
                    var _rows2 = rows.filter((/**
                     * @param {?} n
                     * @return {?}
                     */
                    function (n) {
                        /** @type {?} */
                        var _pc = _this.getPathCode(n);
                        return _pc !== patchCode && _pc.indexOf(patchCode) === 0;
                    }));
                    if (_rows2 && _rows2.length) {
                        rows = rows.filter((/**
                         * @param {?} n
                         * @return {?}
                         */
                        function (n) { return _this.getPathCode(n) !== patchCode; }));
                    }
                }));
            }
        };
        for (var i = 1; i <= maxLayer; i++) {
            _loop_1(i);
        }
        return rows;
    };
    /**
     * @private
     * @param {?} e
     * @param {?} selectedRow
     * @return {?}
     */
    LookupGridComponent.prototype._beforeSelectDataCallBack = /**
     * @private
     * @param {?} e
     * @param {?} selectedRow
     * @return {?}
     */
    function (e, selectedRow) {
        var _this = this;
        /** @type {?} */
        var canSelect = e;
        /** @type {?} */
        var message = "";
        if (typeof e === "boolean") {
            canSelect = e;
        }
        else {
            if (typeof e === "object") {
                canSelect = e.canSelect;
                message = e.message;
            }
            else {
                canSelect = false;
            }
        }
        if (!selectedRow) {
            message = this.mustChoosAdatarow;
            canSelect = false;
        }
        if (canSelect) {
            /** @type {?} */
            var selectedRows$ = of(selectedRow);
            // 多选 树帮助 异步加载 分级码 开启同步选择 或包含下级
            if (!this.singleSelect && this.enableCascade && this.isTree()) {
                if (this.treeInfo.loadDataType !== "all" && this.treeInfo.layerType === "pathcode" && this.isGetAllChidlNodes) {
                    /** @type {?} */
                    var parentsIds = this.getParentPathCode(selectedRow);
                    if (parentsIds && parentsIds.length) {
                        parentsIds = parentsIds.map((/**
                         * @param {?} n
                         * @return {?}
                         */
                        function (n) { return _this.getPathCode(n); }));
                        this.showLoading();
                        selectedRows$ = this.httpMgr
                            .getData({ parentsIds: parentsIds }, "allChildren")
                            .pipe(map((/**
                         * @param {?} r
                         * @return {?}
                         */
                        function (r) {
                            /** @type {?} */
                            var items = r.items
                                ? r.items.map((/**
                                 * @param {?} d
                                 * @return {?}
                                 */
                                function (d) { return d.data; }))
                                : [];
                            /** @type {?} */
                            var allitems = tslib_1.__spread(selectedRow, items);
                            /** @type {?} */
                            var ids = allitems.map((/**
                             * @param {?} n
                             * @return {?}
                             */
                            function (n) { return n[_this.idField]; }));
                            ids = Array.from(new Set(ids));
                            return ids.map((/**
                             * @param {?} n
                             * @return {?}
                             */
                            function (n) {
                                return allitems.find((/**
                                 * @param {?} a
                                 * @return {?}
                                 */
                                function (a) { return a[_this.idField] === n; }));
                            }));
                        })));
                    }
                }
            }
            selectedRows$.subscribe((/**
             * @param {?} rows
             * @return {?}
             */
            function (rows) {
                _this.closeLoading();
                if (_this.isGetAllChidlNodes) {
                    _this.lookupSelectionSer.loadSelections(rows);
                }
                _this.updateControlValue(rows);
                if (!_this.useTip || !rows) {
                    return;
                }
                if (_this.useTip) {
                    _this.personalConfigService.updateQueckSelected(rows, _this.localService.localeId);
                }
            }));
        }
        else {
            if (message) {
                if (this.notifyService) {
                    this.notifyService.warning(message);
                }
                else {
                    this.messagerService.warning(message, "", true, (/**
                     * @return {?}
                     */
                    function () {
                        _this.dialog.el.nativeElement.click();
                    }));
                }
            }
        }
    };
    /**
     * @private
     * @param {?} selectedRow
     * @return {?}
     */
    LookupGridComponent.prototype.updateControlValue = /**
     * @private
     * @param {?} selectedRow
     * @return {?}
     */
    function (selectedRow) {
        if (selectedRow) {
            this.setDisplayText(selectedRow);
            if (this.mappingFn) {
                this.mappingFn(selectedRow, this.mapFields, this.bindingData);
            }
            else {
                if (this.mapFields && this.bindingData) {
                    this.defaultMapping.lookupFieldMap(selectedRow, this.mapFields, this.bindingData);
                }
            }
            this.setModelValue(this.displayText);
            if (this["inDatagrid"] && selectedRow) {
                /** @type {?} */
                var selectItems = Array.isArray(selectedRow)
                    ? selectedRow
                    : [selectedRow];
                this.updateBindData(selectItems);
            }
            this.selectedData.emit(selectedRow);
            this.runDictPickedEvent(selectedRow);
            this.isTextChange = false;
        }
        else {
            if (document.activeElement) {
                ((/** @type {?} */ (document.activeElement))).blur();
            }
            this.messagerService.warning(this.mustChoosAdatarow);
        }
    };
    /**
     * @private
     * @param {?} selectedRow
     * @return {?}
     */
    LookupGridComponent.prototype.updateBindData = /**
     * @private
     * @param {?} selectedRow
     * @return {?}
     */
    function (selectedRow) {
        var _this = this;
        if (!this.mapFields) {
            return;
        }
        /** @type {?} */
        var helpFields = Object.keys(this.mapFields);
        if (this.ngControl &&
            this.ngControl.formDirective &&
            this.ngControl.formDirective.form &&
            this.ngControl.formDirective.form.bindingData) {
            /** @type {?} */
            var bindingData_1 = this.ngControl.formDirective.form.bindingData;
            if (bindingData_1) {
                helpFields.forEach((/**
                 * @param {?} helpField
                 * @return {?}
                 */
                function (helpField) {
                    _this.mapFields[helpField]
                        .split(",")
                        .forEach((/**
                     * @param {?} formField
                     * @return {?}
                     */
                    function (formField) {
                        /** @type {?} */
                        var val = selectedRow
                            .map((/**
                         * @param {?} r
                         * @return {?}
                         */
                        function (r) {
                            return _this.utils.getValue(helpField, r);
                        }))
                            .join(_this.multipleChoiceSeparator);
                        _this.utils.setValue(bindingData_1, formField, val);
                    }));
                }));
            }
            // if (bindingData.setValue) {
            //     const bindingPath = this.ngControl.formDirective.form.bindingPath;
            //     let pathArr: string[] = [];
            //     if (bindingPath) {
            //         pathArr = bindingPath.split('/').filter(n => n !== '');
            //     }
            //     helpFields.forEach((helpField: any) => {
            //         this.mapFields[helpField].split(',').forEach((formField: any) => {
            //             const fieldPaths = pathArr.concat(formField.split('.'));
            //             const val = selectedRow.map(r => {
            //                 return this.utils.getValue(formField, r);
            //             }).join(this.multipleChoiceSeparator);
            //             bindingData.setValue(pathArr.concat(fieldPaths), val, true, true);
            //         });
            //     });
            // }
        }
        else {
            // if (this.bindingData) {
            //     helpFields.forEach((helpField: any) => {
            //         this.mapFields[helpField].split(',').forEach((formField: any) => {
            //             const val = selectedRow.map(r => {
            //                 return this.utils.getValue(formField, r);
            //             }).join(this.multipleChoiceSeparator);
            //             this.utils.setValue(this.bindingData, formField, val);
            //         });
            //     });
            // }
        }
    };
    /**
     * @private
     * @param {?=} isHelpData
     * @return {?}
     */
    LookupGridComponent.prototype.getExtendInfoFields = /**
     * @private
     * @param {?=} isHelpData
     * @return {?}
     */
    function (isHelpData) {
        var _this = this;
        if (isHelpData === void 0) { isHelpData = true; }
        if (!this.extInfoFields) {
            this.writeConsole("\u672A\u8BBE\u7F6E\u6269\u5C55\u5B57\u6BB5\u3002");
            return [];
        }
        /** @type {?} */
        var tipFieldArr = this.extInfoFields.split(",");
        if (isHelpData) {
            /** @type {?} */
            var extendInfoFields = [];
            extendInfoFields = tipFieldArr.map((/**
             * @param {?} tf
             * @return {?}
             */
            function (tf) {
                /** @type {?} */
                var mapKey = Object.keys(_this.mapFields).find((/**
                 * @param {?} k
                 * @return {?}
                 */
                function (k) {
                    return _this.mapFields[k] === tf;
                }));
                if (mapKey) {
                    return mapKey;
                }
                else {
                    _this.writeConsole("\u5728\u5E2E\u52A9\u6620\u5C04\u5B57\u6BB5\u4E2D\u672A\u627E\u5230" + tf);
                    return "";
                }
            }));
            return extendInfoFields;
        }
        return tipFieldArr;
    };
    /**
     * @return {?}
     */
    LookupGridComponent.prototype.onUpdateExtendInfo = /**
     * @return {?}
     */
    function () {
        /** @type {?} */
        var jsonData = this.selectionMgr.getBindingData();
        this.updateExtendInfo(jsonData, false);
    };
    // 选中帮助数据后，更新扩展信息
    // 选中帮助数据后，更新扩展信息
    /**
     * @private
     * @param {?} data
     * @param {?=} isHelpData
     * @return {?}
     */
    LookupGridComponent.prototype.updateExtendInfo = 
    // 选中帮助数据后，更新扩展信息
    /**
     * @private
     * @param {?} data
     * @param {?=} isHelpData
     * @return {?}
     */
    function (data, isHelpData) {
        var _this = this;
        if (isHelpData === void 0) { isHelpData = true; }
        if (data) {
            if (this.extInfoFormatter) {
                if (Array.isArray(data)) {
                    /** @type {?} */
                    var tipString = data.map((/**
                     * @param {?} n
                     * @return {?}
                     */
                    function (n) {
                        return _this.getExtendInfoText(n);
                    }));
                    this.extendInfo = tipString.join("，");
                }
                else {
                    this.extendInfo = this.getExtendInfoText(data);
                }
            }
            else {
                /** @type {?} */
                var extendInfoFields_1 = this.getExtendInfoFields(isHelpData);
                if (extendInfoFields_1 && extendInfoFields_1.length) {
                    if (Array.isArray(data)) {
                        /** @type {?} */
                        var tipString = data.map((/**
                         * @param {?} n
                         * @return {?}
                         */
                        function (n) {
                            return _this.getExtendInfoText(n, extendInfoFields_1);
                        }));
                        this.extendInfo = tipString.join("，");
                    }
                    else {
                        this.extendInfo = this.getExtendInfoText(data, extendInfoFields_1);
                    }
                }
            }
        }
    };
    /**
     * @private
     * @param {?} itemData
     * @param {?=} fields
     * @return {?}
     */
    LookupGridComponent.prototype.getExtendInfoText = /**
     * @private
     * @param {?} itemData
     * @param {?=} fields
     * @return {?}
     */
    function (itemData, fields) {
        var _this = this;
        if (fields === void 0) { fields = null; }
        if (typeof this.extInfoFormatter === "function") {
            return this.extInfoFormatter({
                bindingData: itemData,
                instance: this,
            });
        }
        else {
            /** @type {?} */
            var tipString_1 = [];
            /** @type {?} */
            var tipValues = fields.map((/**
             * @param {?} t
             * @return {?}
             */
            function (t) {
                var _a;
                /** @type {?} */
                var tfv = _this.utils.getValue(t, itemData);
                tipString_1.push(tfv);
                return _a = {}, _a[t] = tfv, _a;
            }));
            return tipString_1.join(" ");
        }
    };
    /**
     * @private
     * @param {?} rows
     * @return {?}
     */
    LookupGridComponent.prototype.getDisplayText = /**
     * @private
     * @param {?} rows
     * @return {?}
     */
    function (rows) {
        var _this = this;
        /** @type {?} */
        var df = this.displayFields
            ? this.displayFields.split(",")
            : [this.textField];
        /** @type {?} */
        var txtArr = rows.map((/**
         * @param {?} r
         * @return {?}
         */
        function (r) {
            /** @type {?} */
            var t = [];
            df.forEach((/**
             * @param {?} n
             * @return {?}
             */
            function (n) {
                t.push(_this.utils.getValue(n, r));
            }));
            return t.join(_this.displayTextSeparator);
        }));
        if (this.gridOptions.singleSelect) {
            return txtArr.join("");
        }
        else {
            if (this.displayFields) {
                return txtArr.map((/**
                 * @param {?} t
                 * @return {?}
                 */
                function (t) { return "[" + t + "]"; })).join(this.multipleChoiceSeparator);
            }
            else {
                return txtArr.join(this.multipleChoiceSeparator);
            }
        }
    };
    /**
     * @private
     * @param {?} selectedRow
     * @return {?}
     */
    LookupGridComponent.prototype.setDisplayText = /**
     * @private
     * @param {?} selectedRow
     * @return {?}
     */
    function (selectedRow) {
        var _this = this;
        this.originalText = this.displayText;
        if (this.gridOptions.singleSelect) {
            if (this.displayFormatter) {
                this.displayText = this.utils.getValue(this.textField, selectedRow);
                if (!this.isTree()) {
                    this.displayText = this.displayFormatter(this.displayText, [selectedRow], {
                        lookup: this,
                        datatable: (/** @type {?} */ (this.componentRef
                            .instance)),
                    });
                }
                else {
                    /** @type {?} */
                    var tt = (/** @type {?} */ (this.componentRef.instance));
                    this.displayText = this.displayFormatter(this.displayText, [selectedRow], { lookup: this, tree: tt });
                }
            }
            else {
                this.displayText = this.getDisplayText([selectedRow]);
            }
            this.displayValue = selectedRow[this.valueField || this.idField];
        }
        else {
            if (selectedRow.length) {
                if (this.displayFormatter) {
                    this.displayText = selectedRow
                        .map((/**
                     * @param {?} r
                     * @return {?}
                     */
                    function (r) {
                        return _this.utils.getValue(_this.textField, r);
                    }))
                        .join(this.multipleChoiceSeparator);
                    if (!this.isTree()) {
                        this.displayText = this.displayFormatter(this.displayText, selectedRow, {
                            lookup: this,
                            datatable: (/** @type {?} */ (this.componentRef
                                .instance)),
                        });
                    }
                    else {
                        /** @type {?} */
                        var tt = (/** @type {?} */ (this.componentRef
                            .instance));
                        this.displayText = this.displayFormatter(this.displayText, selectedRow, { lookup: this, tree: tt });
                    }
                }
                else {
                    this.displayText = this.getDisplayText(selectedRow);
                }
                this.displayValue = selectedRow
                    .map((/**
                 * @param {?} r
                 * @return {?}
                 */
                function (r) {
                    return _this.utils.getValue(_this.valueField || _this.idField, r);
                }))
                    .join(this.multipleChoiceSeparator);
            }
        }
        this.originalText = this.displayText;
    };
    /**
     * @param {?} rowData
     * @return {?}
     */
    LookupGridComponent.prototype.runDictPickedEvent = /**
     * @param {?} rowData
     * @return {?}
     */
    function (rowData) {
        var _this = this;
        if (this.dictPicked) {
            if (this.okButton) {
                this.okButton.nativeElement.disabled = true;
            }
            this.dictPickedSubscription = this.dictPicked(rowData).subscribe((/**
             * @param {?} v
             * @return {?}
             */
            function (v) {
                if (_this.okButton) {
                    _this.okButton.nativeElement.disabled = false;
                }
                if (typeof v === "boolean") {
                    if (v) {
                        _this.closeDialog(rowData);
                    }
                }
                else if (typeof v === "object" &&
                    v.closeDialog !== undefined &&
                    !v.closeDialog) {
                    if (v.message) {
                        _this.messagerService.warning(v.message);
                    }
                    else {
                        _this.closeDialog(rowData);
                    }
                }
                else {
                    _this.closeDialog(rowData);
                }
            }));
        }
        else {
            this.closeDialog(rowData);
        }
    };
    /**
     * @private
     * @return {?}
     */
    LookupGridComponent.prototype.focusToInput = /**
     * @private
     * @return {?}
     */
    function () {
        var _this = this;
        this.zone.runOutsideAngular((/**
         * @return {?}
         */
        function () {
            setTimeout((/**
             * @return {?}
             */
            function () {
                if (_this.inputGroup && _this.inputGroup.textbox) {
                    _this.inputGroup.textbox.nativeElement.focus();
                }
            }));
        }));
    };
    /**
     * @param {?=} rowData
     * @return {?}
     */
    LookupGridComponent.prototype.closeDialog = /**
     * @param {?=} rowData
     * @return {?}
     */
    function (rowData) {
        if (rowData === void 0) { rowData = null; }
        if (this.dialog) {
            this.dialog.close();
        }
        if (rowData) {
            this.multiSelMgr.save(rowData);
        }
        // this.isShow = false;
        this.focusToInput();
    };
    /**
     * @return {?}
     */
    LookupGridComponent.prototype.cancelSelect = /**
     * @return {?}
     */
    function () {
        this.closeDialog();
        this.isTextChange = false;
        if (!this.nosearch) {
            this.displayText = this.originalText;
            this.setModelValue(this.displayText);
        }
        if (this.cancelHandler) {
            this.cancelHandler(this);
        }
    };
    /**
     * @param {?} v
     * @return {?}
     */
    LookupGridComponent.prototype.setModelValue = /**
     * @param {?} v
     * @return {?}
     */
    function (v) {
        if (this.onModelChange) {
            this.onModelChange(v);
            this.valueChanged.emit(v);
        }
    };
    // 数据列表，收藏， 已选数据 tab 页切换
    // 数据列表，收藏， 已选数据 tab 页切换
    /**
     * @param {?} e
     * @return {?}
     */
    LookupGridComponent.prototype.onTabChange = 
    // 数据列表，收藏， 已选数据 tab 页切换
    /**
     * @param {?} e
     * @return {?}
     */
    function (e) {
        var _this = this;
        this.activeTab = e.tabIndex;
        this.personalConf.tabIndex = this.activeTab;
        /** @type {?} */
        var _firstChange = this.isTabChanged;
        this.isTabChanged = true;
        this.personalConfigService.updatePersonalConfig({
            tabIndex: e.tabIndex,
        });
        if (this.activeTab === "datalist") {
            if (this.isDoublleList() && !this.leftComponentRef) {
                if (this.navigationOptions) {
                    this.lookupCmpMgr.createLeftComponent(this.navigationOptions);
                }
                else {
                    this.initData();
                    return;
                }
            }
            if (!this.items || !this.items.length) {
                this.initData();
            }
            else {
                if (!_firstChange) {
                    if (this.isTree()) {
                        this.loadTreeTableData();
                    }
                    else {
                        this.loadDataTableData();
                        this.dtEventMgr.bindDataTableEvent();
                    }
                }
                // this.selectionMgr.selectCurrentValue();
            }
            this.showGetAllChildrenCheckbox();
        }
        else {
            if (this.activeTab === "favorite") {
                if (this.isTree()) {
                    this.initData();
                }
                else {
                    if (!this.favoriteItems ||
                        !this.favoriteItems.length ||
                        this.favoriteItems.length !== this.favHelper.getFavoritIds().length) {
                        this.initData();
                    }
                    else if (!_firstChange) {
                        this.favHelper._loadFavoriteData(this.favoriteItems);
                        // this.selectionMgr.selectCurrentValue();
                    }
                    //  else {
                    //     this.selectionMgr.selectCurrentValue();
                    // }
                }
            }
        }
        this.changeDetector.detectChanges();
        setTimeout((/**
         * @return {?}
         */
        function () {
            _this.resizeCmp();
            if (_this.isTree()) {
                /** @type {?} */
                var y = _this.componentRef.instance.state.scrollY;
                _this.componentRef.instance.scrollToY(y, 0);
                if (_this.enableCascade) {
                    _this.ttEventMgr.cascadeValueChanged(_this.cascadeStatus);
                }
            }
            if (_this.isDoublleList() && _this.displayType === LookupGridDisplayType.NavTreeList && !_this.navTreeToList) {
                _this.leftComponentRef.instance.updateScrollPosition();
            }
            _this.selectionMgr.selectCurrentValue();
        }));
    };
    //#region  Tag View ----------------------------------------------------------------------
    //#region  Tag View ----------------------------------------------------------------------
    /**
     * @private
     * @return {?}
     */
    LookupGridComponent.prototype.registerMouseEventForTagView = 
    //#region  Tag View ----------------------------------------------------------------------
    /**
     * @private
     * @return {?}
     */
    function () {
        if (this.enableClear) {
            this.tagbox.nativeElement.addEventListener("mouseenter", this.onTagboxMouseEnter.bind(this));
            this.tagbox.nativeElement.addEventListener("mouseleave", this.onTagboxMouseLeave.bind(this));
        }
    };
    /**
     * @private
     * @param {?} event
     * @param {?=} isShow
     * @return {?}
     */
    LookupGridComponent.prototype.toggleClearIcon = /**
     * @private
     * @param {?} event
     * @param {?=} isShow
     * @return {?}
     */
    function (event, isShow) {
        if (isShow === void 0) { isShow = false; }
        /** @type {?} */
        var str = isShow ? "" : "none";
        /** @type {?} */
        var clearIcon = event.target.querySelector(".input-group-clear");
        if (clearIcon) {
            clearIcon.style.display = str;
        }
    };
    /**
     * @private
     * @param {?} event
     * @return {?}
     */
    LookupGridComponent.prototype.onTagboxMouseEnter = /**
     * @private
     * @param {?} event
     * @return {?}
     */
    function (event) {
        if (this.displayText && this.enableClear) {
            if (!this.readonly && !this.disabled) {
                this.showTagboxClearButton = true;
            }
        }
        if (this.showTagboxClearButton) {
            this.toggleClearIcon(event, true);
        }
    };
    /**
     * @private
     * @param {?} event
     * @return {?}
     */
    LookupGridComponent.prototype.onTagboxMouseLeave = /**
     * @private
     * @param {?} event
     * @return {?}
     */
    function (event) {
        this.toggleClearIcon(event);
    };
    /**
     * @param {?} $event
     * @param {?} txt
     * @return {?}
     */
    LookupGridComponent.prototype.onRemoveSelectItem = /**
     * @param {?} $event
     * @param {?} txt
     * @return {?}
     */
    function ($event, txt) {
        $event.stopPropagation();
        /** @type {?} */
        var textArray = Array.from(this.displayTextList);
        /** @type {?} */
        var removedIndex = this.displayTextList.indexOf(txt);
        textArray.splice(removedIndex, 1);
        this.displayText = textArray.join(this.multipleChoiceSeparator);
        this.originalText = this.displayText;
        this.setModelValue(this.displayText);
        if (this.displayValue) {
            /** @type {?} */
            var vals = this.displayValue.split(this.multipleChoiceSeparator);
            vals.splice(removedIndex, 1);
            this.displayValue = vals.join(this.multipleChoiceSeparator);
        }
        if (this.mapFields) {
            this.updateOtherFieldDataWhenTagremoved(removedIndex);
        }
        this.tagRemoved.emit({ removedIndex: removedIndex, instance: this });
    };
    /**
     * @private
     * @param {?} removedIndex
     * @return {?}
     */
    LookupGridComponent.prototype.updateOtherFieldDataWhenTagremoved = /**
     * @private
     * @param {?} removedIndex
     * @return {?}
     */
    function (removedIndex) {
        var _this = this;
        /** @type {?} */
        var helpFields = Object.keys(this.mapFields);
        /** @type {?} */
        var textFieldIndex = helpFields.indexOf(this.textField);
        if (this.ngControl &&
            this.ngControl.formDirective &&
            this.ngControl.formDirective.form &&
            this.ngControl.formDirective.form.bindingData) {
            /** @type {?} */
            var bindingData_2 = this.ngControl.formDirective.form.bindingData;
            if (bindingData_2.setValue) {
                /** @type {?} */
                var bindingPath = this.ngControl.formDirective.form.bindingPath;
                /** @type {?} */
                var pathArr_1 = [];
                if (bindingPath) {
                    pathArr_1 = bindingPath.split("/").filter((/**
                     * @param {?} n
                     * @return {?}
                     */
                    function (n) { return n !== ""; }));
                }
                helpFields.forEach((/**
                 * @param {?} helpField
                 * @return {?}
                 */
                function (helpField) {
                    _this.mapFields[helpField]
                        .split(",")
                        .forEach((/**
                     * @param {?} formField
                     * @return {?}
                     */
                    function (formField) {
                        /** @type {?} */
                        var fieldPaths = pathArr_1.concat(formField.split("."));
                        /** @type {?} */
                        var val = bindingData_2.getValue(fieldPaths);
                        /** @type {?} */
                        var valArr = val.split(_this.multipleChoiceSeparator);
                        valArr.splice(removedIndex, 1);
                        /** @type {?} */
                        var newVal = valArr.join(_this.multipleChoiceSeparator);
                        bindingData_2.setValue(pathArr_1.concat(fieldPaths), newVal, true, true);
                    }));
                }));
            }
        }
        else {
            if (this.bindingData) {
                if (textFieldIndex > -1) {
                    helpFields.splice(textFieldIndex, 1);
                }
                helpFields.forEach((/**
                 * @param {?} helpField
                 * @return {?}
                 */
                function (helpField) {
                    _this.mapFields[helpField]
                        .split(",")
                        .forEach((/**
                     * @param {?} formField
                     * @return {?}
                     */
                    function (formField) {
                        /** @type {?} */
                        var val = _this.utils.getValue(formField, _this.bindingData);
                        /** @type {?} */
                        var valArr = val.split(_this.multipleChoiceSeparator);
                        valArr.splice(removedIndex, 1);
                        /** @type {?} */
                        var newVal = valArr.join(_this.multipleChoiceSeparator);
                        _this.utils.setValue(_this.bindingData, formField, newVal);
                    }));
                }));
            }
        }
    };
    //#endregion
    //#endregion
    /**
     * @param {?} $event
     * @return {?}
     */
    LookupGridComponent.prototype.onAllChildNodesClick = 
    //#endregion
    /**
     * @param {?} $event
     * @return {?}
     */
    function ($event) {
        this.isGetAllChidlNodes = !this.isGetAllChidlNodes;
    };
    /**
     * @param {?} val
     * @return {?}
     */
    LookupGridComponent.prototype.onIncludeSubordinatesChange = /**
     * @param {?} val
     * @return {?}
     */
    function (val) {
        this.includeSubordinates = val;
        this.includeSubordinates$.next(val);
    };
    /**
     * @param {?} $event
     * @return {?}
     */
    LookupGridComponent.prototype.onTagContainerClick = /**
     * @param {?} $event
     * @return {?}
     */
    function ($event) {
        $event.stopPropagation();
        if (this.tagInput) {
            this.tagInput.focus();
            this.tagInput.textbox.nativeElement.click();
        }
    };
    /**
     * @param {?} nodes
     * @return {?}
     */
    LookupGridComponent.prototype.expandFirstNode = /**
     * @param {?} nodes
     * @return {?}
     */
    function (nodes) {
        var _this = this;
        if (nodes && nodes.length) {
            return nodes.map((/**
             * @param {?} node
             * @return {?}
             */
            function (node) {
                if (node.children && node.children.length) {
                    node.expanded = true;
                    _this.expandFirstNode(node.children);
                }
                return node;
            }));
        }
        return nodes;
    };
    ;
    // 用于组织个性化数据key
    // 用于组织个性化数据key
    /**
     * @return {?}
     */
    LookupGridComponent.prototype.getLookupBindingFields = 
    // 用于组织个性化数据key
    /**
     * @return {?}
     */
    function () {
        var _this = this;
        if (this.ngControl) {
            if (this.ngControl.name) {
                return this.ngControl.name;
            }
            else {
                if (this.mapFields && this.mapFields.length) {
                    return Object.keys(this.mapFields).map((/**
                     * @param {?} k
                     * @return {?}
                     */
                    function (k) {
                        return _this.mapFields[k];
                    })).join('_');
                }
                else {
                    return this.textField;
                }
            }
        }
        else {
            return '';
        }
    };
    /**
     * @param {?} $event
     * @return {?}
     */
    LookupGridComponent.prototype.onConditionsChange = /**
     * @param {?} $event
     * @return {?}
     */
    function ($event) {
        if (this.isTree()) {
            this.ttEventMgr.conditionsChange($event);
        }
        else {
            this.dtEventMgr.conditionsChange($event);
        }
    };
    /**
     * @param {?} $event
     * @return {?}
     */
    LookupGridComponent.prototype.clearSelected = /**
     * @param {?} $event
     * @return {?}
     */
    function ($event) {
        var _this = this;
        if ($event) {
            $event.stopPropagation();
        }
        /** @type {?} */
        var msg = this.localService.getValue('lookup.selectedInfo.confirm');
        this.messagerService.confirm(msg || '您确认要取消所有已选中的记录吗？').subscribe((/**
         * @param {?} e
         * @return {?}
         */
        function (e) {
            if (e) {
                _this.multiSelMgr.clear();
                if (_this.selectedDtRef) {
                    _this.selectedDtRef.clearSelections();
                }
            }
        }));
    };
    /**
     * @param {?} $event
     * @return {?}
     */
    LookupGridComponent.prototype.onDeleteSelectedItem = /**
     * @param {?} $event
     * @return {?}
     */
    function ($event) {
        var _this = this;
        if ($event) {
            $event.stopPropagation();
        }
        if (this.selectedDtRef.selections && this.selectedDtRef.selections.length) {
            /** @type {?} */
            var unCheckeIds = this.selectedDtRef.selections.map((/**
             * @param {?} n
             * @return {?}
             */
            function (n) { return n[_this.idField]; }));
            this.multiSelMgr.deleteSelectedItems(this.selectedDtRef.selections);
            this.selectedDtRef.unCheckRows(unCheckeIds);
        }
        else {
            this.notifyService.warning('请勾选要删除的记录！');
        }
    };
    /**
     * @param {?} columns
     * @param {?=} typ
     * @return {?}
     */
    LookupGridComponent.prototype.initColumnWidth = /**
     * @param {?} columns
     * @param {?=} typ
     * @return {?}
     */
    function (columns, typ) {
        if (typ === void 0) { typ = 'data'; }
        if (this.personalConf && this.personalConf.colSizeInfo && this.personalConf.colSizeInfo.data) {
            /** @type {?} */
            var fieldsizeData_1 = this.personalConf.colSizeInfo[typ];
            if (fieldsizeData_1) {
                /** @type {?} */
                var fields = Object.keys(fieldsizeData_1);
                if (fields && fields.length) {
                    columns.forEach((/**
                     * @param {?} n
                     * @return {?}
                     */
                    function (n) {
                        if (fieldsizeData_1[n.field]) {
                            n.width = fieldsizeData_1[n.field];
                        }
                    }));
                }
            }
        }
    };
    LookupGridComponent.decorators = [
        { type: Component, args: [{
                    selector: "farris-lookup-grid",
                    template: "<!--\r\n * @Author: \u75AF\u72C2\u79C0\u624D(Lucas Huang)\r\n * @Date: 2019-06-16 13:44:59\r\n * @LastEditors: \u75AF\u72C2\u79C0\u624D(Lucas Huang)\r\n * @LastEditTime: 2019-11-18 08:47:32\r\n * @QQ: 1055818239\r\n * @Version: v0.0.1\r\n -->\r\n\r\n <input-group #inputgroup\r\n    *ngIf=\"viewType === 'text'\"\r\n    [groupText]=\"groupIcon\"\r\n    [lookup-tip]= \"useTip\"\r\n    [(ngModel)]=\"displayText\"\r\n    [disabled]=\"disabled\"\r\n    [readonly]=\"readonly\"\r\n    [editable]=\"editable\"\r\n    [customCls]=\"'lookupbox'\"\r\n    [placeholder]=\"'lookup.placeholder' | locale: '\u8BF7\u9009\u62E9': placeholder\"\r\n    [enableClear]=\"enableClear\"\r\n    [useExtendInfo]=\"useExtendInfo\"\r\n    [extendInfo]=\"extendInfo\"\r\n    [maxLength]=\"maxLength\"\r\n    (updateExtendInfo)=\"onUpdateExtendInfo()\"\r\n    [textAlign]=\"textAlign\"\r\n    [value]=\"displayText\"\r\n    (valueChange)=\"onChanges($event)\"\r\n    (clickHandle)=\"showDialog()\"\r\n    (clear)=\"onClear()\"\r\n    [quick-select]=\"quickSelect\"\r\n></input-group>\r\n\r\n<!--Tag style-->\r\n<div #tagbox class=\"input-group\" [class.f-state-disabled]=\"disabled\" [class.f-state-readonly]=\"readonly\" *ngIf=\"viewType === 'tag'\" [attr.title]=\"displayText\">\r\n    <div class=\"form-control f-cmp-inputgroup--multi-wrapper multi-more\" style=\"height: auto; min-height: 24px;\">\r\n        <div class=\"multi--content d-flex flex-row\" style=\"width: 100%;flex-wrap: wrap;\" #tagContainer (click)=\"onTagContainerClick($event)\">\r\n            <span class=\"multi--item\" *ngFor=\"let txt of displayTextList; let index\" title=\"\" style=\"cursor: default;padding: 0 5px;\r\n            background: #ebf7fe;\r\n            border: 1px solid #cfedff;\r\n            position: relative;\r\n            padding-right: 20px;\r\n            margin-right: 3px;margin-top: 1px;height:18px; float: left;\">\r\n                {{txt}}\r\n                <i class=\"f-icon f-icon-close\" *ngIf=\"!readonly && !disabled\" style=\"cursor: pointer;position:absolute; right: 2px\" (click)=\"onRemoveSelectItem($event, txt)\"></i>\r\n            </span>\r\n\r\n            <span *ngIf=\"quickSelect && quickSelect.enable && !readonly && !disabled\" style=\"flex: 1;position: relative;min-width: 100px;height: 18px;margin: 0;padding: 0;float: left;overflow: hidden;\">\r\n                <!-- <input type=\"text\" style=\"border: 0;outline: none;width: 100px;\" #tagInput> -->\r\n                <input-group #tagInput style=\"position: absolute; top: 0px; height: 20px;align-items: center;display: flex;left: -8px; width: 100%\"\r\n                    [placeholder]=\"'lookup.placeholder' | locale: '\u8BF7\u9009\u62E9': placeholder\"\r\n                    [quick-select]=\"quickSelect\"  [enableClear]=\"false\" [noborder]=\"true\"\r\n                ></input-group>\r\n            </span>\r\n        </div>\r\n        <!-- <div class=\"multi--more\" *ngIf=\"selections && selections.length\">\r\n            <i class=\"f-icon multi--more-icon\"></i><span class=\"multi--more-text\">{{selections.length}}</span>\r\n        </div> -->\r\n    </div>\r\n    <div class=\"input-group-append\" style=\"position: relative;\" title=\"\" >\r\n        <span class=\"input-group-text input-group-clear\" style=\"display: none; padding: 0px 4px;position: absolute;right: 22px;height: 100%;\" (click)=\"onClear()\">\r\n            <i class=\"f-icon modal_close\"></i>\r\n        </span>\r\n        <span class=\"input-group-text\" (click)=\"showDialog()\">\r\n            <span class=\"f-icon f-icon-lookup\"></span>\r\n        </span>\r\n    </div>\r\n</div>\r\n\r\n\r\n<farris-dialog\r\n    #dialog\r\n    *ngIf=\"isShow\"\r\n    [draggable]=\"draggable\"\r\n    [resizable]=\"resizable\"\r\n    [title]=\"displayInfo.title\"\r\n    [beforeOpen]=\"beforeOpen\"\r\n    [beforeClose]=\"beforeClose\"\r\n    [(width)]=\"dialogWidth\"\r\n    [(height)]=\"dialogHeight\"\r\n    [showButtons]=\"showButtons\"\r\n    [showMaxButton]=\"showMaxButton\"\r\n    [showCloseButton]=\"true\"\r\n    [buttons]=\"buttonsRef || defaultButtonRef\"\r\n    [buttonAlign]=\"buttonAlign\"\r\n    [enableScroll]=\"false\"\r\n    [dialogHeaderHeight]=\"50\"\r\n    (maxed)=\"onMaxDialog($event)\"\r\n    (resized)=\"onResized($event)\"\r\n    (resizing)=\"onResizing($event)\"\r\n    [showHeader] = \"!useNewLayout\"\r\n    class=\"farris-lookup-dialog\"\r\n    [class.lookup-advanced]=\"useNewLayout\"\r\n    [minWidth]=\"550\"\r\n    [minHeight]=\"480\"\r\n>\r\n\r\n    <div [ngStyle]=\"containerStyle\" style=\"height: 100%;\" >\r\n        <lookup-tabs (tabChange)=\"onTabChange($event)\" [enableFav]=\"useFavorite\" [activeTab]=\"activeTab\" \r\n            [visible]=\"isReady\" [dialogTitle]=\"displayInfo.title\" [layout]=\"useNewLayout ? 'advanced': 'default'\"\r\n           >\r\n            <div datalist class=\"d-flex f-utils-absolute-all flex-column\">   \r\n                <layout [direction]=\"'h'\" [fill]=\"true\" *ngIf=\"isDoublleList()\" #layout>\r\n                    <layout-panel #leftPanel [width]=\"leftPanelWidth\" region=\"west\" [minWidth]=\"200\" [showBorder]=\"false\" [overflow]=\"'hidden'\">\r\n                        <ng-container #leftContainer></ng-container>\r\n                    </layout-panel>\r\n                    <layout-panel region=\"center\" [showBorder]=\"false\" [overflow]=\"'hidden'\" [minWidth]=\"200\">\r\n                        <div class=\"lookup-filter-bar\" lookup-filter-bar *ngIf=\"enableMultiFieldSearch && showFilterBar\" [viewType]=\"searchBarMode\"\r\n                            (conditionsChange)=\"onConditionsChange($event)\" [searchAnyField]=\"searchAnyField\" [columns]=\"columns\" [searchFields]=\"gridOptions?.searchFields\"></div>\r\n                        <ng-container #centerContainer></ng-container>\r\n                    </layout-panel>\r\n                </layout>\r\n                <div class=\"lookup-filter-bar\" lookup-filter-bar *ngIf=\"!isDoublleList() && enableMultiFieldSearch && showFilterBar\" [viewType]=\"searchBarMode\"\r\n                    [columns]=\"columns\" (conditionsChange)=\"onConditionsChange($event)\" [searchAnyField]=\"searchAnyField\"  [searchFields]=\"gridOptions?.searchFields\"></div>\r\n                <ng-container *ngIf=\"!isDoublleList()\" #contentContainer></ng-container>\r\n            </div>\r\n            <div favorites  class=\"d-flex f-utils-all h-100\" *ngIf=\"useFavorite\"> \r\n                <ng-container #favoritesContainer></ng-container>\r\n            </div>\r\n        </lookup-tabs>\r\n\r\n    </div>\r\n</farris-dialog>\r\n\r\n<ng-template #selectedPagerExtendTemplate let-dtref>\r\n    <button class=\"btn btn-link btn-sm p-0 pl-1 mr-3\" \r\n        *ngIf=\"dtref?.selections && dtref?.selections.length\" (click)=\"onDeleteSelectedItem($event)\">\r\n        {{ 'lookup.selectedInfo.remove' | locale | replaceX: dtref?.selections.length}}\r\n    </button>\r\n</ng-template>\r\n\r\n\r\n<ng-template #defaultButtonRef>\r\n    <!-- \u5DF2\u9009\u8BB0\u5F55\u6D6E\u5C42 -->\r\n    <div class=\"lookup-selected-panel fade hide d-none\" #selectedpanel  *ngIf=\"showSelected\">\r\n        <div class=\"arrow\" [style.left.px]=\"displayType==='NAVTREELIST' && activeTab === 'datalist' && showNavigation ? 123: 38\"></div>\r\n        <div class=\"overlay\" style=\"top: 0px;\"></div>\r\n        <div class=\"content lookup-datalist\" #panelContent>\r\n\r\n            <farris-datatable #multiSelectDT \r\n                [idField]=\"idField\"\r\n                [bordered]=\"false\"\r\n                [width]=\"panelContent.offsetWidth - 28\"\r\n                [columns]=\"selectedColumns\"\r\n                [data]=\"currentSelectedItems | async\"\r\n                (cellClick)=\"multiSelMgr?.onSelectedTableCellClick($event)\"\r\n                [singleSelect]=\"false\"\r\n                [striped]=\"true\"\r\n                [pagination]=\"true\"\r\n                [pageSize]=\"20\"\r\n                [pagerOnServer]=\"false\"\r\n                [pagerViewMode]=\"'simple'\"\r\n                [showPageInfo]=\"false\" \r\n                [showPageNumber]=\"false\" \r\n                [showPageList]=\"false\"\r\n                [remoteSort]=\"false\"\r\n                [total]=\"(currentSelectedItems | async)?.length\"\r\n                [pagerExtendTemplate]=\"selectedPagerExtendTemplate\"\r\n                [autoFitColumns]=\"true\"\r\n            >\r\n        </farris-datatable>\r\n\r\n        </div>\r\n        <div class=\"overlay\" style=\"bottom: 0px;\"></div>\r\n    </div>\r\n\r\n\r\n   \r\n<!--\u4EE5\u4E0B\u4E3A\u6309\u94AE\u533A\u57DF-->\r\n\r\n    <div class=\"f-utils-fill d-flex flex-row m-0\" style=\"text-align: left; align-items: center;height: 30px\" *ngIf=\"isReady\">\r\n        <!--\u5DE6\u4FA7\u5BFC\u822A\u6811 \u5305\u542B\u4E0B\u7EA7-->\r\n        <div class=\"d-flex mr-2\" *ngIf=\"displayType==='NAVTREELIST' && activeTab === 'datalist' && showNavigation\">\r\n            <div class=\"custom-control custom-checkbox custom-control-inline m-0 p-0\">\r\n                <input class=\"custom-control-input\" type=\"checkbox\" id=\"farris-lookup-nav_get-all-child-nodes\" [ngModel]=\"includeSubordinates\" (ngModelChange)=\"onIncludeSubordinatesChange($event)\">\r\n                <label class=\"custom-control-label btn-link lookup-checkbox-label\" for=\"farris-lookup-nav_get-all-child-nodes\" style=\"padding-left: 18px;\">{{ 'lookup.cascade.down' | locale: '\u5305\u542B\u4E0B\u7EA7' }}</label>\r\n            </div>\r\n        </div>\r\n\r\n        <ng-container *ngIf=\" !singleSelect\">\r\n\r\n            <!--\u5DF2\u9009\u8BB0\u5F55-->\r\n            <div class=\"lookup-selected-bar d-flex\" *ngIf=\"showSelected\" \r\n                [style.pointerEvents]=\"(currentSelectedItems | async)?.length ? 'auto': 'none'\" \r\n                [style.opacity]=\"(currentSelectedItems | async)?.length ? 1: 0.4\"\r\n                lookup-selected [count]=\" (currentSelectedItems | async)?.length\"\r\n                [selectedPanel]=\"selectedpanel\" [dataTableRef]=\"selectedDtRef\"\r\n                [class.mr-2]=\"!((currentSelectedItems | async)?.length)\"\r\n                [innerHTML]=\"'lookup.selectedInfo.total' | locale | replaceX: (currentSelectedItems | async)?.length\">\r\n            </div>\r\n            <button class=\"btn btn-link btn-sm p-0 pl-1 mr-3 lookup-clear-selected-items\" \r\n                *ngIf=\"showSelected && (currentSelectedItems | async)?.length\" (click)=\"clearSelected($event)\">\r\n                {{labels.clearAllSelected}}\r\n            </button>\r\n\r\n            <!--\u6811\u8868\u5E2E\u52A9\u7EA7\u8054\u63A7\u5236-->\r\n            <select *ngIf=\"showCascadeControl && enableCascade && displayType==='TREELIST'\" class=\"form-control\" style=\"width: auto; display: inline-block\" (ngModelChange)=\"ttEventMgr?.cascadeValueChanged($event)\" \r\n            [ngModel]=\"cascadeStatus\" name=\"cascadeStatus\" single-select #cascadeSelect=\"singleSelect\" [panelRef]=\"selectpanel\" [width]=\"110\" [position]=\"'above'\">\r\n                <!-- <option value=\"enable\" *ngIf=\"cascadeItems ? cascadeItems.enable : true\">{{ 'lookup.cascade.enable' | locale: '\u540C\u6B65\u9009\u62E9' }}</option>\r\n                <option value=\"up\" *ngIf=\"cascadeItems ? cascadeItems.up : true\">{{ 'lookup.cascade.up' | locale: '\u5305\u542B\u4E0A\u7EA7' }}</option>\r\n                <option value=\"down\" *ngIf=\"cascadeItems ? cascadeItems.down : true\">{{ 'lookup.cascade.down' | locale: '\u5305\u542B\u4E0B\u7EA7' }}</option>\r\n                <option value=\"disable\" *ngIf=\"cascadeItems ? cascadeItems.disable : true\">{{ 'lookup.cascade.disable' | locale: '\u4EC5\u9009\u62E9\u81EA\u8EAB' }}</option> -->\r\n            </select>\r\n            <div #selectpanel class=\"single-select-panel f-area-hide\" [style.left]=\"showSelected ? (currentSelectedItems | async)?.length ? '164px': '92px': 'auto'\">\r\n                <ul class=\"dropdown-menu show\">\r\n                    <li class=\"dropdown-item\" [class.active]=\"cascadeStatus === 'enable'\" value=\"enable\" *ngIf=\"cascadeItems ? cascadeItems.enable : true\">{{ 'lookup.cascade.enable' | locale: '\u540C\u6B65\u9009\u62E9' }}</li>\r\n                    <li class=\"dropdown-item\" [class.active]=\"cascadeStatus === 'up'\" value=\"up\" *ngIf=\"cascadeItems ? cascadeItems.up : true\">{{ 'lookup.cascade.up' | locale: '\u5305\u542B\u4E0A\u7EA7' }}</li>\r\n                    <li class=\"dropdown-item\" [class.active]=\"cascadeStatus === 'down'\" value=\"down\" *ngIf=\"cascadeItems ? cascadeItems.down : true\">{{ 'lookup.cascade.down' | locale: '\u5305\u542B\u4E0B\u7EA7' }}</li>\r\n                    <li class=\"dropdown-item\" [class.active]=\"cascadeStatus === 'disable'\" value=\"disable\" *ngIf=\"cascadeItems ? cascadeItems.disable : true\">{{ 'lookup.cascade.disable' | locale: '\u4EC5\u9009\u62E9\u81EA\u8EAB' }}</li>\r\n                </ul>\r\n            </div>\r\n\r\n            <!--\u83B7\u53D6\u6240\u6709\u5B50\u7EA7\u6570\u636E-->\r\n            <div class=\"f-utils-fill custom-control custom-checkbox custom-control-inline m-0 p-0 ml-2\" *ngIf=\"enableGetAllChildNodes && enableCascade && displayType==='TREELIST'\">\r\n                <input class=\"custom-control-input\" type=\"checkbox\" id=\"farris-lookup_get-all-child-nodes\">\r\n                <label class=\"custom-control-label btn-link lookup-checkbox-label\" for=\"farris-lookup_get-all-child-nodes\" \r\n                    style=\"padding-left: 18px;overflow: hidden;white-space: nowrap;text-overflow: ellipsis;\" title=\"{{'lookup.getAllChilds'|locale: '\u83B7\u53D6\u6240\u6709\u5B50\u7EA7\u6570\u636E'}}\"\r\n                    (click)=\"onAllChildNodesClick($event)\">{{'lookup.getAllChilds'|locale: '\u83B7\u53D6\u6240\u6709\u5B50\u7EA7\u6570\u636E'}}</label>\r\n            </div>\r\n        </ng-container>\r\n    </div>\r\n\r\n    <button type=\"button\" class=\"btn btn-secondary btn-lg\" (click)=\"cancelSelect()\" [disabled]=\"!(isReady || hasError)\" >\r\n        {{ 'lookup.cancelText' | locale: '\u53D6\u6D88' }}\r\n    </button>\r\n    <button #okbtn type=\"button\" [disabled]=\"!isReady\" class=\"btn btn-primary btn-lg\" >\r\n        {{ 'lookup.okText' | locale: '\u786E\u5B9A' }}\r\n    </button>\r\n   \r\n    \r\n</ng-template>\r\n",
                    providers: [
                        LOOKUPGRID_VALUE_ACCESSOR,
                        ShortcutsService,
                        LookupDefaultMapping,
                        LookupUtils,
                        PersonalConfigService,
                    ],
                    encapsulation: ViewEncapsulation.None,
                    exportAs: "lookup",
                    styles: [".input-group{flex-wrap:nowrap}.ng-dirty.ng-invalid>input-group>.lookupbox{border-color:#ff0303}.lookup-clear{cursor:pointer;background:#fff!important}.lookup-clear:hover{background:#e9ecef!important}.f-lookup-favorite{cursor:pointer;color:#ff9800}.f-lookup-unfavorite{cursor:pointer;color:#dd2438}.lookup-tip{position:absolute;min-width:200px;max-height:400px;padding:.25rem 0;z-index:7777;background:#fff;box-shadow:0 2px 8px 0 rgba(0,0,0,.15);border-radius:2px}.lookup-tip .lookup-tip-header{font-weight:700;padding:.25rem .475rem;border-radius:0}.lookup-tip ul{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;padding-left:0;margin-bottom:0}.lookup-tip ul li{position:relative;display:block;width:100%;margin-bottom:-1px;padding:.25rem .875rem;color:rgba(0,0,0,.85);background-color:#fff;cursor:pointer}.lookup-tip ul li:hover{background-color:#e6f7ff}.f-lookup_quick-panel{height:100%;z-index:10001;position:absolute;overflow:auto;background:#fff;margin-top:.25rem;box-shadow:0 2px 8px 0 #dedede;border-radius:3px}.f-lookup_quick-panel .list{margin:0 6px}.f-lookup_quick-panel .list-group-item{padding:0 8px;border:0;margin-bottom:0;word-break:break-all;min-height:30px}.f-lookup_quick-panel .more{height:50px;text-align:center;line-height:50px}.f-lookup_quick-panel .norecord{height:100%;-webkit-box-pack:center;justify-content:center;-webkit-box-align:center;align-items:center;display:-webkit-box;display:flex;font-size:16px;color:#bec6db}"]
                }] }
    ];
    /** @nocollapse */
    LookupGridComponent.ctorParameters = function () { return [
        { type: Injector },
        { type: ComponentFactoryResolver },
        { type: ElementRef },
        { type: CommonUtils },
        { type: LookupDefaultMapping },
        { type: ChangeDetectorRef },
        { type: ShortcutsService },
        { type: LookupUtils },
        { type: NgZone },
        { type: Renderer2 }
    ]; };
    LookupGridComponent.propDecorators = {
        customDisplayType: [{ type: Input }],
        viewType: [{ type: Input }],
        displayType: [{ type: Input }],
        enableClear: [{ type: Input }],
        remoteSort: [{ type: Input }],
        condition: [{ type: Input }],
        conditions: [{ type: Input }],
        showCheckAll: [{ type: Input }],
        singleSelect: [{ type: Input }],
        multipleChoiceSeparator: [{ type: Input }],
        idField: [{ type: Input }],
        uri: [{ type: Input }],
        beUri: [{ type: Input }],
        showFilterBar: [{ type: Input }],
        pagination: [{ type: Input }],
        pageIndex: [{ type: Input }],
        pageSize: [{ type: Input }],
        pageList: [{ type: Input }],
        total: [{ type: Input }],
        columns: [{ type: Input }],
        remoteSearch: [{ type: Input }],
        searchOnServer: [{ type: Input }],
        nosearch: [{ type: Input }],
        clearMappings: [{ type: Output }],
        maxLength: [{ type: Input }],
        mappingFn: [{ type: Input }],
        items: [{ type: Input }],
        favoriteItems: [{ type: Input }],
        customData: [{ type: Input }],
        bindingData: [{ type: Input }],
        treeInfo: [{ type: Input }],
        enableCascade: [{ type: Input }],
        cascadeStatus: [{ type: Input }],
        cascadeItems: [{ type: Input }],
        showCascadeControl: [{ type: Input }],
        placeholder: [{ type: Input }],
        showSelected: [{ type: Input }],
        useFavorite: [{ type: Input }],
        favoriteDataFrom: [{ type: Input }],
        useTip: [{ type: Input }],
        isRecordSize: [{ type: Input }],
        userId: [{ type: Input }],
        enableToSelect: [{ type: Input }],
        enableFindText: [{ type: Input }],
        expandLevel: [{ type: Input }],
        navTreeTableOptions: [{ type: Input }],
        treeTableOptions: [{ type: Input }],
        dataTableOptions: [{ type: Input }],
        loadTreeDataType: [{ type: Input }],
        loadDataWhenOpen: [{ type: Input }],
        navSelectedIds: [{ type: Input }],
        selectFirstInNav: [{ type: Input }],
        enableFullTree: [{ type: Input }],
        displayFormatter: [{ type: Input }],
        displayFields: [{ type: Input }],
        displayTextSeparator: [{ type: Input }],
        helpId: [{ type: Input }],
        textAlign: [{ type: Input }],
        enableTitle: [{ type: Input }],
        useExtendInfo: [{ type: Input }],
        extInfoFields: [{ type: Input }],
        extInfoFormatter: [{ type: Input }],
        extendInfo: [{ type: Input }],
        customFormatter: [{ type: Input }],
        customNavFormatter: [{ type: Input }],
        okHandler: [{ type: Input }],
        cancelHandler: [{ type: Input }],
        tagboxHeight: [{ type: Input }],
        maxTagboxHeight: [{ type: Input }],
        enableGetAllChildNodes: [{ type: Input }],
        shortcutKey: [{ type: Input }],
        quickSelect: [{ type: Input }],
        treeToList: [{ type: Input }],
        navTreeToList: [{ type: Input }],
        showNavigation: [{ type: Input }],
        beforeSelectData: [{ type: Input }],
        beforeLoadData: [{ type: Input }],
        useNewLayout: [{ type: Input }],
        enableMultiFieldSearch: [{ type: Input }],
        searchBarMode: [{ type: Input }],
        allowQueryFields: [{ type: Input }],
        labels: [{ type: Input }],
        searchAnyField: [{ type: Input }],
        selectedData: [{ type: Output }],
        clear: [{ type: Output }],
        search: [{ type: Output }],
        query: [{ type: Output }],
        valueChanged: [{ type: Output }],
        loadSuccess: [{ type: Output }],
        pagerChanged: [{ type: Output }],
        expandTreeNode: [{ type: Output }],
        textChanged: [{ type: Output }],
        checkedChange: [{ type: Output }],
        tagRemoved: [{ type: Output }],
        gridOptions: [{ type: Input }],
        contentContainer: [{ type: ViewChild, args: ["contentContainer", { read: ViewContainerRef },] }],
        favoritesContainer: [{ type: ViewChild, args: ["favoritesContainer", { read: ViewContainerRef },] }],
        leftContainer: [{ type: ViewChild, args: ["leftContainer", { read: ViewContainerRef },] }],
        centerContainer: [{ type: ViewChild, args: ["centerContainer", { read: ViewContainerRef },] }],
        selectedDtRef: [{ type: ViewChild, args: ["multiSelectDT",] }],
        inputGroup: [{ type: ViewChild, args: ["inputgroup",] }],
        leftPanel: [{ type: ViewChild, args: ["leftPanel",] }],
        tagbox: [{ type: ViewChild, args: ["tagbox",] }],
        okButton: [{ type: ViewChild, args: ["okbtn",] }],
        tagInput: [{ type: ViewChild, args: ["tagInput",] }],
        selectedpanel: [{ type: ViewChild, args: ['selectedpanel',] }],
        cascadeSelect: [{ type: ViewChild, args: ['cascadeSelect',] }],
        layoutRef: [{ type: ViewChild, args: ['layout',] }]
    };
    return LookupGridComponent;
}(LookupComponent));
export { LookupGridComponent };
if (false) {
    /** @type {?} */
    LookupGridComponent.prototype.groupIcon;
    /** @type {?} */
    LookupGridComponent.prototype._displayType;
    /**
     * 使用表单设计器中的显示类型。否则使用元数据设置的显示类型。 默认：false
     * @type {?}
     */
    LookupGridComponent.prototype.customDisplayType;
    /** @type {?} */
    LookupGridComponent.prototype.viewType;
    /**
     * 启用清空按钮
     * @type {?}
     */
    LookupGridComponent.prototype.enableClear;
    /**
     * 服务器端排序
     * @type {?}
     */
    LookupGridComponent.prototype.remoteSort;
    /** @type {?} */
    LookupGridComponent.prototype.condition;
    /** @type {?} */
    LookupGridComponent.prototype.conditions;
    /**
     * 树表显示全选复选框。 默认不显示
     * @type {?}
     */
    LookupGridComponent.prototype.showCheckAll;
    /**
     * 是否启用多选
     * @type {?}
     */
    LookupGridComponent.prototype.singleSelect;
    /**
     * 多选分隔符, 默认为 ,
     * @type {?}
     */
    LookupGridComponent.prototype.multipleChoiceSeparator;
    /**
     * 主键字段
     * @type {?}
     */
    LookupGridComponent.prototype.idField;
    /**
     * 可以为元数据ID、webapiURL
     * @type {?}
     */
    LookupGridComponent.prototype.uri;
    /**
     * BE REST RUI
     * - 此处设置后 uri 失效
     * @type {?}
     */
    LookupGridComponent.prototype.beUri;
    /**
     * 显示过滤工具条; 默认 true
     * @type {?}
     */
    LookupGridComponent.prototype.showFilterBar;
    /**
     * 是否启用分页
     * @type {?}
     */
    LookupGridComponent.prototype.pagination;
    /**
     * 当前页索引，从 1开始
     * @type {?}
     */
    LookupGridComponent.prototype.pageIndex;
    /**
     * 每页记录数
     * @type {?}
     */
    LookupGridComponent.prototype.pageSize;
    /**
     * 可用分页记录数列表
     * @type {?}
     */
    LookupGridComponent.prototype.pageList;
    /**
     * 总记录数
     * @type {?}
     */
    LookupGridComponent.prototype.total;
    /**
     * 显示列信息, 默认为 []
     * @type {?}
     */
    LookupGridComponent.prototype.columns;
    /**
     * 帮助查询是否为远端查询
     * @type {?}
     */
    LookupGridComponent.prototype.remoteSearch;
    /**
     * 文本变化后，进行服务器端查询
     * @type {?}
     */
    LookupGridComponent.prototype.searchOnServer;
    /**
     * 不进行服务器查询，有啥算啥
     * @type {?}
     */
    LookupGridComponent.prototype.nosearch;
    /**
     * 启用任意输入后，值通过输入时触发
     * @type {?}
     */
    LookupGridComponent.prototype.clearMappings;
    /**
     * 允许输入的字符最大长度。
     * 任意输入时，此属性有效
     * @type {?}
     */
    LookupGridComponent.prototype.maxLength;
    /** @type {?} */
    LookupGridComponent.prototype.mappingFn;
    /**
     * 数据列表
     * @type {?}
     */
    LookupGridComponent.prototype.items;
    /** @type {?} */
    LookupGridComponent.prototype.favoriteItems;
    /**
     * 自定义数据
     * @type {?}
     */
    LookupGridComponent.prototype.customData;
    /**
     * 绑定值所在的对象
     * @type {?}
     */
    LookupGridComponent.prototype.bindingData;
    /** @type {?} */
    LookupGridComponent.prototype.treeInfo;
    /**
     * 是否启用级联选择控制选项
     * @type {?}
     */
    LookupGridComponent.prototype.enableCascade;
    /**
     * 级联控制默认值： enable: 同步选择, up：包含上级, down：包含下级, disable：仅选择自身
     * @type {?}
     */
    LookupGridComponent.prototype.cascadeStatus;
    /**
     * 分别级联选项的启用状态，默认全部启用
     * @type {?}
     */
    LookupGridComponent.prototype.cascadeItems;
    /**
     * 显示级联控制
     * @type {?}
     */
    LookupGridComponent.prototype.showCascadeControl;
    /** @type {?} */
    LookupGridComponent.prototype.placeholder;
    /**
     * 显示已选记录列表。 默认为 false 不显示
     * @type {?}
     */
    LookupGridComponent.prototype.showSelected;
    /**
     * 应用收藏夹
     * @type {?}
     */
    LookupGridComponent.prototype.useFavorite;
    /**
     * 收藏数据来自于： locale: 本地存储， remote: 服务器端存储
     * @type {?}
     */
    LookupGridComponent.prototype.favoriteDataFrom;
    /**
     * 使用提示,快捷选择
     * @type {?}
     */
    LookupGridComponent.prototype.useTip;
    /**
     * 记录窗口大小
     * @type {?}
     */
    LookupGridComponent.prototype.isRecordSize;
    /**
     * 快速选择
     * @type {?}
     */
    LookupGridComponent.prototype.userId;
    /**
     * 是否启用选中value值对应的行数据，默认 true
     * @type {?}
     */
    LookupGridComponent.prototype.enableToSelect;
    /** @type {?} */
    LookupGridComponent.prototype.enableFindText;
    /**
     * -1: 不展开； 0: 全部展开；>0: 展开到指定级数
     * @type {?}
     */
    LookupGridComponent.prototype.expandLevel;
    /** @type {?} */
    LookupGridComponent.prototype.navTreeTableOptions;
    /** @type {?} */
    LookupGridComponent.prototype.treeTableOptions;
    /** @type {?} */
    LookupGridComponent.prototype.dataTableOptions;
    /** @type {?} */
    LookupGridComponent.prototype.defaultTreeTableOptions;
    /**
     * 树形帮助数据加载方式： default: 内置取数； loadall: 加载所有 layerload：分层加载
     * @type {?}
     */
    LookupGridComponent.prototype.loadTreeDataType;
    /**
     * 窗口打开后立即加载数据，默认为 true
     * @type {?}
     */
    LookupGridComponent.prototype.loadDataWhenOpen;
    /**
     * 导航列表，树列表在帮助打开后选中的数据;
     * 设置后，`selectFirstInNav` 失效！
     * @type {?}
     */
    LookupGridComponent.prototype.navSelectedIds;
    /**
     * 导航帮助，选中第1条数据，默认为 false;
     * 注意：当`navSelectedIds`不为空时，此属性失效。
     * @type {?}
     */
    LookupGridComponent.prototype.selectFirstInNav;
    /**
     * 启用构造完整树过滤
     * @type {?}
     */
    LookupGridComponent.prototype.enableFullTree;
    /**
     * 显示文本自定义函数
     * @type {?}
     */
    LookupGridComponent.prototype.displayFormatter;
    /**
     * 显示文本字段集合，以 英文 逗号隔开
     * @type {?}
     */
    LookupGridComponent.prototype.displayFields;
    /** @type {?} */
    LookupGridComponent.prototype.displayTextSeparator;
    /**
     * 帮助元数据ID，不为空时调用指定的URI
     * /api/runtime/bcc/v1.0/help/data/{helpId}
     * @type {?}
     */
    LookupGridComponent.prototype.helpId;
    /**
     * 文本对齐方式； left | center | right; 默认 left
     * @type {?}
     */
    LookupGridComponent.prototype.textAlign;
    /**
     * 鼠标滑过输入框时显示输入框内的文本信息
     * @type {?}
     */
    LookupGridComponent.prototype.enableTitle;
    /** @type {?} */
    LookupGridComponent.prototype.useExtendInfo;
    /** @type {?} */
    LookupGridComponent.prototype.extInfoFields;
    /** @type {?} */
    LookupGridComponent.prototype.extInfoFormatter;
    /** @type {?} */
    LookupGridComponent.prototype.extendInfo;
    /**
     * IDE 设计器自定义格式化 2103
     * @type {?}
     */
    LookupGridComponent.prototype.customFormatter;
    /** @type {?} */
    LookupGridComponent.prototype.customNavFormatter;
    /**
     * 自定义确定事件
     * @type {?}
     */
    LookupGridComponent.prototype.okHandler;
    /**
     * 自定义取消事件
     * @type {?}
     */
    LookupGridComponent.prototype.cancelHandler;
    /** @type {?} */
    LookupGridComponent.prototype.tagboxHeight;
    /** @type {?} */
    LookupGridComponent.prototype.maxTagboxHeight;
    /**
     * 启用获取所有子级数据的功能,仅支持分级码
     * @type {?}
     */
    LookupGridComponent.prototype.enableGetAllChildNodes;
    /** @type {?} */
    LookupGridComponent.prototype.shortcutKey;
    /**
     * 快捷选择相关配置项，默认为 null, 即不启用此功能
     * @type {?}
     */
    LookupGridComponent.prototype.quickSelect;
    /**
     * 树形帮助 是否使用树形结构数据。默认为 true, 当为 false 时，服务器端无须构造树形结构，按普通列表输出
     * @type {?}
     */
    LookupGridComponent.prototype.treeToList;
    /** @type {?} */
    LookupGridComponent.prototype.navTreeToList;
    /**
     * 带导航的帮助中，是否显示左侧导航部分。默认 true
     * @type {?}
     */
    LookupGridComponent.prototype.showNavigation;
    /**
     * 数据选择后，值映射前触发
     * 返回 Observable
     *      canSelect: <boolean>  是否允许选择
     *      message: <string> 不允许选择时的提示信息
     * @type {?}
     */
    LookupGridComponent.prototype.beforeSelectData;
    /** @type {?} */
    LookupGridComponent.prototype.beforeLoadData;
    /**
     * 是否启用新布局
     * - 默认 false
     * @type {?}
     */
    LookupGridComponent.prototype.useNewLayout;
    /**
     * 启用多字段查询 默认为 false
     * - 启用此特性后，useNewLayout 自动启用
     * @type {?}
     */
    LookupGridComponent.prototype.enableMultiFieldSearch;
    /**
     * 搜索工具条显示模式， both: 全部显示；onlyfield: 仅显示字段；onlyinput: 仅显示搜索输入框。默认 both
     * @type {?}
     */
    LookupGridComponent.prototype.searchBarMode;
    /**
     * 允许查询的字段，仅启用多字段查询时有效，多个字段以 “,” 隔开；
     *  - nav 左侧导航字段；main 主数据字段;
     *  - 默认为 null, 即从所有显示列中自动提取
     * @type {?}
     */
    LookupGridComponent.prototype.allowQueryFields;
    /** @type {?} */
    LookupGridComponent.prototype.labels;
    /**
     * 允许任意字段进行查询； 默认 true
     * @type {?}
     */
    LookupGridComponent.prototype.searchAnyField;
    /** @type {?} */
    LookupGridComponent.prototype.selectedData;
    /** @type {?} */
    LookupGridComponent.prototype.clear;
    /**
     * 未启用多字段查询时触发
     * @type {?}
     */
    LookupGridComponent.prototype.search;
    /**
     * 启用多字段查询时触发
     * @type {?}
     */
    LookupGridComponent.prototype.query;
    /** @type {?} */
    LookupGridComponent.prototype.valueChanged;
    /** @type {?} */
    LookupGridComponent.prototype.loadSuccess;
    /** @type {?} */
    LookupGridComponent.prototype.pagerChanged;
    /** @type {?} */
    LookupGridComponent.prototype.expandTreeNode;
    /** @type {?} */
    LookupGridComponent.prototype.textChanged;
    /** @type {?} */
    LookupGridComponent.prototype.checkedChange;
    /** @type {?} */
    LookupGridComponent.prototype.tagRemoved;
    /**
     * 内容中留白边距
     * @type {?}
     */
    LookupGridComponent.prototype.containerMargin;
    /** @type {?} */
    LookupGridComponent.prototype.containerStyle;
    /** @type {?} */
    LookupGridComponent.prototype._gridOptions;
    /** @type {?} */
    LookupGridComponent.prototype.contentContainer;
    /** @type {?} */
    LookupGridComponent.prototype.favoritesContainer;
    /** @type {?} */
    LookupGridComponent.prototype.leftContainer;
    /** @type {?} */
    LookupGridComponent.prototype.centerContainer;
    /** @type {?} */
    LookupGridComponent.prototype.selectedDtRef;
    /** @type {?} */
    LookupGridComponent.prototype.inputGroup;
    /** @type {?} */
    LookupGridComponent.prototype.leftPanel;
    /** @type {?} */
    LookupGridComponent.prototype.tagbox;
    /** @type {?} */
    LookupGridComponent.prototype.okButton;
    /** @type {?} */
    LookupGridComponent.prototype.tagInput;
    /** @type {?} */
    LookupGridComponent.prototype.selectedpanel;
    /** @type {?} */
    LookupGridComponent.prototype.cascadeSelect;
    /** @type {?} */
    LookupGridComponent.prototype.layoutRef;
    /** @type {?} */
    LookupGridComponent.prototype.componentRef;
    /** @type {?} */
    LookupGridComponent.prototype.leftComponentRef;
    /** @type {?} */
    LookupGridComponent.prototype.favoritesComponentRef;
    /** @type {?} */
    LookupGridComponent.prototype.http;
    /** @type {?} */
    LookupGridComponent.prototype.messagerService;
    /** @type {?} */
    LookupGridComponent.prototype.loadingService;
    /** @type {?} */
    LookupGridComponent.prototype.loading;
    /** @type {?} */
    LookupGridComponent.prototype.navigationOptions;
    /** @type {?} */
    LookupGridComponent.prototype.leftPanelWidth;
    /** @type {?} */
    LookupGridComponent.prototype.navLookupDialogMinWidth;
    /** @type {?} */
    LookupGridComponent.prototype.navigationFilter;
    /** @type {?} */
    LookupGridComponent.prototype.subscriptions;
    /** @type {?} */
    LookupGridComponent.prototype.dialogOpenedSubscription;
    /** @type {?} */
    LookupGridComponent.prototype.dialogClosedSubscription;
    /** @type {?} */
    LookupGridComponent.prototype.isTextChange;
    /** @type {?} */
    LookupGridComponent.prototype.isTabChanged;
    /** @type {?} */
    LookupGridComponent.prototype.displayInfo;
    /** @type {?} */
    LookupGridComponent.prototype.tabChangeSubscription;
    /** @type {?} */
    LookupGridComponent.prototype.personalConf;
    /** @type {?} */
    LookupGridComponent.prototype.favoriteColumns;
    /**
     * 临时查询参数
     * @type {?}
     */
    LookupGridComponent.prototype._searchState;
    /** @type {?} */
    LookupGridComponent.prototype.allData;
    /** @type {?} */
    LookupGridComponent.prototype.personalConfigService;
    /** @type {?} */
    LookupGridComponent.prototype.utilService;
    /** @type {?} */
    LookupGridComponent.prototype.treeNodeHelper;
    /** @type {?} */
    LookupGridComponent.prototype.localService;
    /** @type {?} */
    LookupGridComponent.prototype.notifyService;
    /** @type {?} */
    LookupGridComponent.prototype.allColumnsTitle;
    /** @type {?} */
    LookupGridComponent.prototype.mustWriteSomething;
    /** @type {?} */
    LookupGridComponent.prototype.mustChoosAdatarow;
    /** @type {?} */
    LookupGridComponent.prototype.addFavoriteSuccess;
    /** @type {?} */
    LookupGridComponent.prototype.delFavoriteSuccess;
    /**
     * 使用内置的查询方法, 默认 false
     * @type {?}
     */
    LookupGridComponent.prototype.useInsideSearchHandler;
    /** @type {?} */
    LookupGridComponent.prototype.searching;
    /**
     * 临时存储查询结果集
     * @type {?}
     */
    LookupGridComponent.prototype._searchResult;
    /** @type {?} */
    LookupGridComponent.prototype.lookupinitializationSubject;
    /**
     * 多选时，选中的数据
     * @type {?}
     */
    LookupGridComponent.prototype.currentSelectedItems;
    /**
     * 已选数据列信息
     * @type {?}
     */
    LookupGridComponent.prototype.selectedColumns;
    /** @type {?} */
    LookupGridComponent.prototype.activeTab;
    /** @type {?} */
    LookupGridComponent.prototype.favHelper;
    /** @type {?} */
    LookupGridComponent.prototype.ttEventMgr;
    /** @type {?} */
    LookupGridComponent.prototype.multiSelMgr;
    /** @type {?} */
    LookupGridComponent.prototype.httpMgr;
    /** @type {?} */
    LookupGridComponent.prototype.lookupCmpMgr;
    /** @type {?} */
    LookupGridComponent.prototype.dialogMgr;
    /** @type {?} */
    LookupGridComponent.prototype.selectionMgr;
    /** @type {?} */
    LookupGridComponent.prototype.dtEventMgr;
    /** @type {?} */
    LookupGridComponent.prototype.lookupSelectionSer;
    /** @type {?} */
    LookupGridComponent.prototype.controlId;
    /** @type {?} */
    LookupGridComponent.prototype.savingFaoriteData;
    /** @type {?} */
    LookupGridComponent.prototype.isReady;
    /** @type {?} */
    LookupGridComponent.prototype.showTagboxClearButton;
    /** @type {?} */
    LookupGridComponent.prototype.hasError;
    /** @type {?} */
    LookupGridComponent.prototype.cascadeStatusItems;
    /** @type {?} */
    LookupGridComponent.prototype.isGetAllChidlNodes;
    /** @type {?} */
    LookupGridComponent.prototype.eventManager;
    /**
     * 选中记录ID，自定义帮助取数时使用
     * @type {?}
     */
    LookupGridComponent.prototype.selectedIds;
    /**
     * @type {?}
     * @private
     */
    LookupGridComponent.prototype.lookupSearchInputEvent;
    /**
     * @type {?}
     * @private
     */
    LookupGridComponent.prototype.farrisInstances;
    /**
     * 用户初始设置
     * @type {?}
     * @private
     */
    LookupGridComponent.prototype._userSettings;
    /** @type {?} */
    LookupGridComponent.prototype._treeInfo_;
    /**
     * dialog 内容区域高度。 弹窗总高度 - 头部高度 - 脚部高度 - （启用收藏 TAB头高度）
     * @type {?}
     */
    LookupGridComponent.prototype.dialogContentHeight;
    /**
     * 左树右列表， 左树点击节点查询时是否包括下级节点的数据，默认 false
     * @type {?}
     */
    LookupGridComponent.prototype.includeSubordinates;
    /** @type {?} */
    LookupGridComponent.prototype.includeSubordinates$;
    /** @type {?} */
    LookupGridComponent.prototype.includeSubordinates$$;
    /** @type {?} */
    LookupGridComponent.prototype.overLayService;
    /**
     * @type {?}
     * @private
     */
    LookupGridComponent.prototype.debugSer;
    /** @type {?} */
    LookupGridComponent.prototype.injector;
    /** @type {?} */
    LookupGridComponent.prototype.cfr;
    /** @type {?} */
    LookupGridComponent.prototype.el;
    /** @type {?} */
    LookupGridComponent.prototype.utils;
    /**
     * @type {?}
     * @private
     */
    LookupGridComponent.prototype.defaultMapping;
    /** @type {?} */
    LookupGridComponent.prototype.changeDetector;
    /** @type {?} */
    LookupGridComponent.prototype.shortcuts;
    /** @type {?} */
    LookupGridComponent.prototype.lookupUtils;
    /**
     * @type {?}
     * @private
     */
    LookupGridComponent.prototype.zone;
    /** @type {?} */
    LookupGridComponent.prototype.render2;
    /* Skipping unhandled member: ;*/
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibG9va3VwLWdyaWQuY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6Im5nOi8vQGZhcnJpcy91aS1sb29rdXAvIiwic291cmNlcyI6WyJsaWIvbG9va3VwLWdyaWQuY29tcG9uZW50LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7QUFTQSxPQUFPLEVBQUMsU0FBUyxFQUFFLEtBQUssRUFBRSxTQUFTLEVBQ25DLFlBQVksRUFBUSxRQUFRLEVBQUMsd0JBQXdCLEVBQ3JELE1BQU0sRUFBQyxpQkFBaUIsRUFBQyxpQkFBaUIsRUFBZSxnQkFBZ0IsRUFDekUsVUFBVSxFQUFtQixVQUFVLEVBQUMsTUFBTSxFQUFDLFNBQVMsR0FBeUIsTUFBTSxlQUFlLENBQUM7QUFFdkcsT0FBTyxFQUFFLGlCQUFpQixFQUFFLE1BQU0sZ0JBQWdCLENBQUM7QUFDbkQsT0FBTyxFQUE0QixFQUFFLEVBQUUsT0FBTyxFQUFtQixNQUFNLE1BQU0sQ0FBQztBQUU5RSxPQUFPLEVBQUUsYUFBYSxFQUFFLE1BQU0sbUJBQW1CLENBQUM7QUFFbEQsT0FBTyxFQUFFLGVBQWUsRUFBRSxNQUFNLHFCQUFxQixDQUFDO0FBQ3RELE9BQU8sRUFBRSxjQUFjLEVBQW9CLE1BQU0sb0JBQW9CLENBQUM7QUFDdEUsT0FBTyxFQUFFLGtCQUFrQixFQUFFLE1BQU0sc0JBQXNCLENBQUM7QUFDMUQsT0FBTyxFQUFFLGtCQUFrQixFQUFZLE1BQU0sc0JBQXNCLENBQUM7QUFDcEUsT0FBTyxFQUFFLGVBQWUsRUFBRSxvQkFBb0IsRUFBRSxNQUFNLG1CQUFtQixDQUFDO0FBQzFFLE9BQU8sRUFBRSxXQUFXLEVBQUUsWUFBWSxFQUFFLDhCQUE4QixFQUFFLG9CQUFvQixFQUFFLE1BQU0sbUJBQW1CLENBQUM7QUFFcEgsT0FBTyxFQUFFLGdCQUFnQixFQUFFLE1BQU0sc0JBQXNCLENBQUM7QUFDeEQsT0FBTyxFQUFFLG1CQUFtQixFQUFFLE1BQU0sd0JBQXdCLENBQUM7QUFDN0QsT0FBTyxFQUFFLGFBQWEsRUFBRSxNQUFNLG1CQUFtQixDQUFDO0FBRWxELE9BQU8sRUFDSCxtQkFBbUIsRUFDbkIsZ0JBQWdCLEVBQ2hCLHFCQUFxQixFQUlyQix5QkFBeUIsRUFDekIsYUFBYSxHQUNoQixNQUFNLHNCQUFzQixDQUFDO0FBQzlCLE9BQU8sRUFBRSxlQUFlLEVBQUUsTUFBTSxvQkFBb0IsQ0FBQztBQUNyRCxPQUFPLEVBRUgsa0JBQWtCLEVBSWxCLGtCQUFrQixFQUtILE1BQU0sdUJBQXVCLENBQUM7QUFDakQsT0FBTyxFQUFzQixlQUFlLEVBQUUsTUFBTSwyQkFBMkIsQ0FBQztBQUdoRixPQUFPLEVBQUUsb0JBQW9CLEVBQUUsTUFBTSx5QkFBeUIsQ0FBQztBQUMvRCxPQUFPLEVBQUUsV0FBVyxFQUFFLE1BQU0sU0FBUyxDQUFDO0FBQ3RDLE9BQU8sRUFBRSxxQkFBcUIsRUFBRSxNQUFNLGlDQUFpQyxDQUFDO0FBQ3hFLE9BQU8sRUFDSCxXQUFXLEVBQ1gsY0FBYyxFQUNkLGNBQWMsRUFDZCxnQkFBZ0IsRUFDaEIscUJBQXFCLEVBQ3JCLHFCQUFxQixFQUNyQixxQkFBcUIsRUFDckIsaUJBQWlCLEVBQ2pCLHNCQUFzQixFQUN0QixtQkFBbUIsRUFDbkIsYUFBYSxFQUNiLHNCQUFzQixHQUN6QixNQUFNLFlBQVksQ0FBQztBQUNwQixPQUFPLEVBQWMsR0FBRyxFQUFFLFNBQVMsRUFBRSxNQUFNLGdCQUFnQixDQUFDO0FBRTVELE9BQU8sRUFBRSxZQUFZLEVBQUUsTUFBTSwyQkFBMkIsQ0FBQztBQUN6RCxPQUFPLEVBQUUsU0FBUyxFQUFFLE1BQU0sV0FBVyxDQUFDO0FBQ3RDLE9BQU8sRUFBRSxxQkFBcUIsRUFBRSxNQUFNLGtCQUFrQixDQUFDOztBQUV6RCxNQUFNLEtBQU8seUJBQXlCLEdBQVE7SUFDMUMsT0FBTyxFQUFFLGlCQUFpQjtJQUMxQixXQUFXLEVBQUUsVUFBVTs7O0lBQUMsY0FBTSxPQUFBLG1CQUFtQixFQUFuQixDQUFtQixFQUFDO0lBQ2xELEtBQUssRUFBRSxJQUFJO0NBQ2Q7QUFFRDtJQWVZLCtDQUFlO0lBaWZ2Qiw2QkFDVyxRQUFrQixFQUNsQixHQUE2QixFQUM3QixFQUFjLEVBQ2QsS0FBa0IsRUFDakIsY0FBb0MsRUFDckMsY0FBaUMsRUFDakMsU0FBMkIsRUFDM0IsV0FBd0IsRUFDdkIsSUFBWSxFQUNiLE9BQWtCO1FBVjdCLFlBWUksa0JBQU0sUUFBUSxFQUFFLEVBQUUsRUFBRSxjQUFjLENBQUMsU0F5QnRDO1FBcENVLGNBQVEsR0FBUixRQUFRLENBQVU7UUFDbEIsU0FBRyxHQUFILEdBQUcsQ0FBMEI7UUFDN0IsUUFBRSxHQUFGLEVBQUUsQ0FBWTtRQUNkLFdBQUssR0FBTCxLQUFLLENBQWE7UUFDakIsb0JBQWMsR0FBZCxjQUFjLENBQXNCO1FBQ3JDLG9CQUFjLEdBQWQsY0FBYyxDQUFtQjtRQUNqQyxlQUFTLEdBQVQsU0FBUyxDQUFrQjtRQUMzQixpQkFBVyxHQUFYLFdBQVcsQ0FBYTtRQUN2QixVQUFJLEdBQUosSUFBSSxDQUFRO1FBQ2IsYUFBTyxHQUFQLE9BQU8sQ0FBVztRQXhmN0IsZUFBUyxHQUFHLGdCQUFnQixDQUFDO1FBQzdCLGtCQUFZLEdBQUcsRUFBRSxDQUFDOzs7O1FBR1QsdUJBQWlCLEdBQUcsS0FBSyxDQUFDO1FBQzFCLGNBQVEsR0FBbUIsTUFBTSxDQUFDOzs7O1FBa0JsQyxpQkFBVyxHQUFHLElBQUksQ0FBQzs7OztRQUVuQixnQkFBVSxHQUFHLElBQUksQ0FBQzs7OztRQU1sQixrQkFBWSxHQUFHLEtBQUssQ0FBQzs7OztRQUdyQixrQkFBWSxHQUFHLElBQUksQ0FBQzs7OztRQUVwQiw2QkFBdUIsR0FBRyxHQUFHLENBQUM7Ozs7UUFJOUIsU0FBRyxHQUFZLEVBQUUsQ0FBQzs7Ozs7UUFLbEIsV0FBSyxHQUFHLEVBQUUsQ0FBQzs7OztRQUlYLG1CQUFhLEdBQUcsSUFBSSxDQUFDOzs7O1FBRXJCLGdCQUFVLEdBQUcsSUFBSSxDQUFDOzs7O1FBRWxCLGVBQVMsR0FBRyxDQUFDLENBQUM7Ozs7UUFFZCxjQUFRLEdBQUcsRUFBRSxDQUFDOzs7O1FBRWQsY0FBUSxHQUFHLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEdBQUcsQ0FBQyxDQUFDOzs7O1FBRWpDLFdBQUssR0FBRyxDQUFDLENBQUM7Ozs7OztRQUlWLGFBQU8sR0FBVSxFQUFFLENBQUM7Ozs7UUFHcEIsa0JBQVksR0FBRyxJQUFJLENBQUM7Ozs7UUFHcEIsb0JBQWMsR0FBRyxJQUFJLENBQUM7Ozs7UUFFdEIsY0FBUSxHQUFHLEtBQUssQ0FBQzs7OztRQUtoQixtQkFBYSxHQUFHLElBQUksWUFBWSxFQUFFLENBQUM7O1FBWXBDLG1CQUFhLEdBQVUsRUFBRSxDQUFDOzs7O1FBUzFCLG1CQUFhLEdBQUcsS0FBSyxDQUFDOzs7O1FBRXRCLG1CQUFhLEdBQXlDLFFBQVEsQ0FBQzs7OztRQUUvRCxrQkFBWSxHQUFHO1lBQ3BCLE1BQU0sRUFBRSxJQUFJO1lBQ1osRUFBRSxFQUFFLElBQUk7WUFDUixJQUFJLEVBQUUsSUFBSTtZQUNWLE9BQU8sRUFBRSxJQUFJO1NBQ2hCLENBQUE7Ozs7UUFFUSx3QkFBa0IsR0FBRyxJQUFJLENBQUM7UUFFMUIsaUJBQVcsR0FBRyxFQUFFLENBQUM7Ozs7UUFHakIsa0JBQVksR0FBRyxLQUFLLENBQUM7Ozs7UUFHckIsaUJBQVcsR0FBRyxLQUFLLENBQUM7Ozs7UUFFcEIsc0JBQWdCLEdBQXdCLFFBQVEsQ0FBQzs7OztRQUVqRCxZQUFNLEdBQUcsS0FBSyxDQUFDOzs7O1FBRWYsa0JBQVksR0FBRyxLQUFLLENBQUM7Ozs7UUFNckIsb0JBQWMsR0FBRyxJQUFJLENBQUM7UUFFdEIsb0JBQWMsR0FBRyxLQUFLLENBQUM7Ozs7UUFFdkIsaUJBQVcsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUVqQix5QkFBbUIsR0FBUSxFQUFFLENBQUM7UUFDOUIsc0JBQWdCLEdBQVEsRUFBRSxDQUFDO1FBQzNCLHNCQUFnQixHQUFRLEVBQUUsQ0FBQztRQUdwQyw2QkFBdUIsR0FBRztZQUN0QixRQUFRLEVBQUUsQ0FBQztZQUNYLGlCQUFpQixFQUFFLEtBQUs7WUFDeEIsZ0JBQWdCLEVBQUUsRUFBRTtTQUN2QixDQUFDOzs7O1FBR08sc0JBQWdCLEdBQXdDLFNBQVMsQ0FBQzs7OztRQUdsRSxzQkFBZ0IsR0FBRyxJQUFJLENBQUM7Ozs7O1FBTXhCLG9CQUFjLEdBQUcsRUFBRSxDQUFDOzs7OztRQU1wQixzQkFBZ0IsR0FBRyxLQUFLLENBQUM7Ozs7UUFHekIsb0JBQWMsR0FBRyxJQUFJLENBQUM7Ozs7UUFHdEIsc0JBQWdCLEdBSVgsU0FBUyxDQUFDOzs7O1FBRWYsbUJBQWEsR0FBRyxFQUFFLENBQUM7UUFDbkIsMEJBQW9CLEdBQUcsR0FBRyxDQUFDOzs7OztRQU0zQixZQUFNLEdBQUcsRUFBRSxDQUFDOzs7O1FBRVosZUFBUyxHQUFHLE1BQU0sQ0FBQzs7OztRQUduQixpQkFBVyxHQUFHLElBQUksQ0FBQztRQUNuQixtQkFBYSxHQUFHLEtBQUssQ0FBQztRQUN0QixtQkFBYSxHQUFHLEVBQUUsQ0FBQztRQUVuQixnQkFBVSxHQUFHLEVBQUUsQ0FBQzs7OztRQUVoQixxQkFBZSxHQUF3QixJQUFJLENBQUM7UUFDNUMsd0JBQWtCLEdBQXdCLElBQUksQ0FBQzs7OztRQUcvQyxlQUFTLEdBQUcsSUFBSSxDQUFDOzs7O1FBRWpCLG1CQUFhLEdBQUcsSUFBSSxDQUFDO1FBRXJCLGtCQUFZLEdBQUcsTUFBTSxDQUFDOzs7O1FBSXRCLDRCQUFzQixHQUFHLElBQUksQ0FBQztRQUU5QixpQkFBVyxHQUFHOzs7O1lBRW5CLElBQUksRUFBRSxZQUFZOzs7O1lBRWxCLE9BQU8sRUFBRSxPQUFPOzs7O1lBRWhCLFdBQVcsRUFBRSxJQUFJOzs7O1lBRWpCLE1BQU0sRUFBRSxTQUFTOzs7O1lBRWpCLFFBQVEsRUFBRSxXQUFXOzs7O1lBRXJCLE1BQU0sRUFBRSxZQUFZOzs7O1lBRXBCLFFBQVEsRUFBRSxXQUFXOzs7O1lBRXJCLFNBQVMsRUFBRSxVQUFVOzs7O1lBRXJCLFNBQVMsRUFBRSxRQUFRO1NBQ3RCLENBQUM7Ozs7UUFFTyxpQkFBVyxHQUFzQixJQUFJLENBQUM7Ozs7UUFHdEMsZ0JBQVUsR0FBRyxLQUFLLENBQUM7UUFDbkIsbUJBQWEsR0FBRyxLQUFLLENBQUM7Ozs7UUFHdEIsb0JBQWMsR0FBRyxJQUFJLENBQUM7Ozs7O1FBZ0J0QixrQkFBWSxHQUFHLEtBQUssQ0FBQzs7Ozs7UUFLckIsNEJBQXNCLEdBQUcsS0FBSyxDQUFDOzs7O1FBRS9CLG1CQUFhLEdBQWtCLGFBQWEsQ0FBQyxJQUFJLENBQUM7Ozs7OztRQUtsRCxzQkFBZ0IsR0FBa0MsSUFBSSxDQUFDO1FBRXZELFlBQU0sR0FBRzs7OztZQUVkLE9BQU8sRUFBRSxFQUFFOzs7O1lBRVgsTUFBTSxFQUFDLEVBQUU7Ozs7WUFFVCxnQkFBZ0IsRUFBRSxFQUFFOzs7O1lBRXBCLFdBQVcsRUFBRSxFQUFFO1NBQ2xCLENBQUE7Ozs7UUFHUSxvQkFBYyxHQUFHLElBQUksQ0FBQztRQUVyQixrQkFBWSxHQUFHLElBQUksWUFBWSxFQUFFLENBQUM7UUFDbEMsV0FBSyxHQUFHLElBQUksWUFBWSxFQUFFLENBQUM7Ozs7UUFFM0IsWUFBTSxHQUFHLElBQUksWUFBWSxFQUFFLENBQUM7Ozs7UUFFNUIsV0FBSyxHQUFJLElBQUksWUFBWSxFQUFFLENBQUM7O1FBRTVCLGtCQUFZLEdBQUcsSUFBSSxZQUFZLEVBQUUsQ0FBQztRQUNsQyxpQkFBVyxHQUFHLElBQUksWUFBWSxFQUFFLENBQUM7UUFFakMsa0JBQVksR0FBRyxJQUFJLFlBQVksRUFBRSxDQUFDO1FBRWxDLG9CQUFjLEdBQUcsSUFBSSxZQUFZLEVBQUUsQ0FBQztRQUNwQyxpQkFBVyxHQUFHLElBQUksWUFBWSxFQUFFLENBQUM7UUFFakMsbUJBQWEsR0FBRyxJQUFJLFlBQVksRUFHdEMsQ0FBQztRQUVLLGdCQUFVLEdBQUcsSUFBSSxZQUFZLEVBQUUsQ0FBQzs7OztRQUcxQyxxQkFBZSxHQUFHLEVBQUUsR0FBRyxFQUFFLENBQUMsRUFBRSxNQUFNLEVBQUUsQ0FBQyxFQUFFLElBQUksRUFBRyxFQUFFLEVBQUUsS0FBSyxFQUFFLEVBQUUsRUFBRSxDQUFDO1FBQzlELG9CQUFjLEdBQUcsRUFDaEIsQ0FBQztRQUVGLGtCQUFZLEdBQXNCLGtCQUFrQixDQUFDOztRQTZFckQsb0JBQWMsR0FBRyxHQUFHLENBQUM7O1FBRXJCLDZCQUF1QixHQUFHLEdBQUcsQ0FBQztRQUU5QixzQkFBZ0IsR0FBcUIsSUFBSSxDQUFDO1FBRTFDLG1CQUFhLEdBQW1CLEVBQUUsQ0FBQztRQUluQyxrQkFBWSxHQUFHLEtBQUssQ0FBQztRQUNyQixrQkFBWSxHQUFHLEtBQUssQ0FBQztRQUVyQixpQkFBVyxHQUFnQixNQUFNLENBQUMsTUFBTSxDQUFDLEVBQUUsRUFBRSxrQkFBa0IsQ0FBQyxDQUFDO1FBRWpFLDJCQUFxQixHQUFHLElBQUksQ0FBQzs7UUFFN0Isa0JBQVksR0FBbUIsRUFBRSxDQUFDO1FBQ2xDLHFCQUFlLEdBQVUsRUFBRSxDQUFDOzs7O1FBRTVCLGtCQUFZLEdBQUcsSUFBSSxDQUFDO1FBQ3BCLGFBQU8sR0FBUSxFQUFFLENBQUM7UUF5QmxCLHFCQUFlLEdBQUcsS0FBSyxDQUFDO1FBQ3hCLHdCQUFrQixHQUFHLFlBQVksQ0FBQztRQUNsQyx1QkFBaUIsR0FBRyxVQUFVLENBQUM7UUFDL0Isd0JBQWtCLEdBQUcsT0FBTyxDQUFDO1FBQzdCLHdCQUFrQixHQUFHLFNBQVMsQ0FBQzs7OztRQUcvQiw0QkFBc0IsR0FBRyxLQUFLLENBQUM7UUFDL0IsZUFBUyxHQUFHLEtBQUssQ0FBQzs7OztRQUVsQixtQkFBYSxHQUFHLElBQUksQ0FBQztRQUVyQixpQ0FBMkIsR0FBRyxJQUFJLE9BQU8sRUFBRSxDQUFDOzs7O1FBRzVDLDBCQUFvQixHQUFvQixFQUFFLENBQUMsRUFBRSxDQUFDLENBQUM7Ozs7UUFFL0MscUJBQWUsR0FBRyxFQUFFLENBQUM7UUFDckIsZUFBUyxHQUFrRCxVQUFVLENBQUM7UUFFdEUsZUFBUyxHQUFtQixJQUFJLENBQUM7UUFDakMsZ0JBQVUsR0FBMEIsSUFBSSxDQUFDO1FBQ3pDLGlCQUFXLEdBQTBCLElBQUksQ0FBQztRQUMxQyxhQUFPLEdBQXNCLElBQUksQ0FBQztRQUNsQyxrQkFBWSxHQUEyQixJQUFJLENBQUM7UUFDNUMsZUFBUyxHQUF3QixJQUFJLENBQUM7UUFDdEMsa0JBQVksR0FBcUIsSUFBSSxDQUFDO1FBQ3RDLGdCQUFVLEdBQTBCLElBQUksQ0FBQztRQUV6Qyx3QkFBa0IsR0FBMkIsSUFBSSxDQUFDO1FBRWxELGVBQVMsR0FBRyxFQUFFLENBQUM7UUFDZix1QkFBaUIsR0FBRyxLQUFLLENBQUM7UUFDMUIsYUFBTyxHQUFHLEtBQUssQ0FBQztRQUNoQiwyQkFBcUIsR0FBRyxLQUFLLENBQUM7UUFDOUIsY0FBUSxHQUFHLEtBQUssQ0FBQztRQUVqQix3QkFBa0IsR0FBRztZQUNqQixFQUFFLEtBQUssRUFBRSxRQUFRLEVBQUUsS0FBSyxFQUFFLEVBQUUsRUFBRTtZQUM5QixFQUFFLEtBQUssRUFBRSxJQUFJLEVBQUUsS0FBSyxFQUFFLEVBQUUsRUFBRTtZQUMxQixFQUFFLEtBQUssRUFBRSxNQUFNLEVBQUUsS0FBSyxFQUFFLEVBQUUsRUFBRTtZQUM1QixFQUFFLEtBQUssRUFBRSxTQUFTLEVBQUUsS0FBSyxFQUFFLEVBQUUsRUFBRTtTQUNsQyxDQUFBO1FBRUQsd0JBQWtCLEdBQUcsS0FBSyxDQUFDOzs7O1FBRzNCLGlCQUFXLEdBQUcsRUFBRSxDQUFDO1FBQ1QsNEJBQXNCLEdBQUcsSUFBSSxDQUFDO1FBQzlCLHFCQUFlLEdBQW1DLElBQUksQ0FBQzs7OztRQUV2RCxtQkFBYSxHQUFRLEVBQUUsQ0FBQztRQU1oQyxnQkFBVSxHQUFHLElBQUksQ0FBQzs7OztRQUdsQix5QkFBbUIsR0FBRyxDQUFDLENBQUM7Ozs7UUFFeEIseUJBQW1CLEdBQUcsS0FBSyxDQUFDO1FBQzVCLDBCQUFvQixHQUFHLElBQUksT0FBTyxFQUFFLENBQUM7UUFDckMsMkJBQXFCLEdBQWlCLElBQUksQ0FBQztRQUVuQyxjQUFRLEdBQWlCLElBQUksQ0FBQztRQWNsQyxLQUFJLENBQUMsY0FBYyxFQUFFLENBQUM7UUFDdEIsS0FBSSxDQUFDLG9CQUFvQixHQUFHLEtBQUksQ0FBQyxrQkFBa0IsQ0FBQyxTQUFTLENBQUM7UUFDOUQsS0FBSSxDQUFDLFlBQVksR0FBRyxLQUFJLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxZQUFZLENBQUMsQ0FBQztRQUNwRCxLQUFJLENBQUMsZUFBZSxHQUFHLEtBQUksQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUNwQyw4QkFBOEIsRUFDOUIsSUFBSSxDQUNQLENBQUM7UUFFRixLQUFJLENBQUMsY0FBYyxHQUFHLElBQUksb0JBQW9CLEVBQUUsQ0FBQztRQUVqRCxLQUFJLENBQUMsUUFBUSxHQUFHLEtBQUksQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLFlBQVksRUFBRSxJQUFJLENBQUMsQ0FBQztRQUN0RCxJQUFJLEtBQUksQ0FBQyxRQUFRLEVBQUU7WUFDZixLQUFJLENBQUMsUUFBUSxDQUFDLFlBQVksRUFBRSxDQUFDO1NBQ2hDO1FBRUQsS0FBSSxDQUFDLGtCQUFrQixDQUFDLGlCQUFpQixDQUFDLFNBQVM7Ozs7UUFBQyxVQUFDLENBQXdDO1lBQ3pGLElBQUksS0FBSSxDQUFDLGFBQWEsRUFBRTtnQkFDcEIsSUFBSSxDQUFDLENBQUMsQ0FBQyxRQUFRLEVBQUU7b0JBQ2IsS0FBSSxDQUFDLGFBQWEsQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDO2lCQUMxQzthQUNKO1FBQ0wsQ0FBQyxFQUFDLENBQUM7UUFFSCxLQUFJLENBQUMsVUFBVSxFQUFFLENBQUM7O0lBQ3RCLENBQUM7SUE3Z0JELHNCQUNJLDRDQUFXOzs7O1FBRGY7WUFFSSxPQUFPLElBQUksQ0FBQyxZQUFZLENBQUM7UUFDN0IsQ0FBQzs7Ozs7UUFDRCxVQUFnQixHQUFXO1lBQ3ZCLElBQUksR0FBRyxFQUFFOztvQkFDQyxLQUFLLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQyxxQkFBcUIsQ0FBQzs7b0JBQzVDLENBQUMsR0FBRyxLQUFLLENBQUMsU0FBUzs7OztnQkFBQyxVQUFDLENBQUMsSUFBSyxPQUFBLENBQUMsS0FBSyxHQUFHLENBQUMsV0FBVyxFQUFFLEVBQXZCLENBQXVCLEVBQUM7Z0JBQ3pELElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFOzt3QkFDRixJQUFJLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBQyxxQkFBcUIsQ0FBQztvQkFDL0MsSUFBSSxDQUFDLFlBQVksR0FBRyxxQkFBcUIsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztpQkFDdEQ7YUFDSjtpQkFBTTtnQkFDSCxJQUFJLENBQUMsWUFBWSxHQUFHLEdBQUcsQ0FBQzthQUMzQjtRQUNMLENBQUM7OztPQVpBO0lBeVNELHNCQUFJLDRDQUFXOzs7O1FBQWY7WUFDSSxJQUNJLElBQUksQ0FBQyxXQUFXO2dCQUNoQixJQUFJLENBQUMsT0FBTztnQkFDWixJQUFJLENBQUMsT0FBTyxDQUFDLE1BQU0sR0FBRyxDQUFDO2dCQUN2QixDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSTs7OztnQkFBQyxVQUFDLElBQUksSUFBSyxPQUFBLElBQUksQ0FBQyxLQUFLLEtBQUssbUJBQW1CLEVBQWxDLENBQWtDLEVBQUMsRUFDbEU7Z0JBQ0UsSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUM7b0JBQ2QsS0FBSyxFQUFFLG1CQUFtQjtvQkFDMUIsS0FBSyxFQUFFLEVBQUU7b0JBQ1QsS0FBSyxFQUFFLEVBQUU7b0JBQ1QsS0FBSyxFQUFFLFFBQVE7b0JBQ2YsS0FBSyxFQUFFLE9BQU87O29CQUVkLFNBQVMsRUFBRSxJQUFJLENBQUMsU0FBUyxDQUFDLHVCQUF1QjtpQkFDcEQsQ0FBQyxDQUFDO2FBQ047WUFDRCxJQUFJLENBQUMsWUFBWSxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLFlBQVksRUFBRTtnQkFDakQsWUFBWSxFQUFFLElBQUksQ0FBQyxZQUFZO2dCQUMvQixPQUFPLEVBQUUsSUFBSSxDQUFDLE9BQU87Z0JBQ3JCLEdBQUcsRUFBRSxJQUFJLENBQUMsR0FBRztnQkFDYixhQUFhLEVBQUcsSUFBSSxDQUFDLHNCQUFzQixDQUFBLENBQUMsQ0FBQyxLQUFLLENBQUEsQ0FBQyxDQUFDLElBQUksQ0FBQyxhQUFhO2dCQUN0RSxVQUFVLEVBQUUsSUFBSSxDQUFDLFVBQVU7Z0JBQzNCLFNBQVMsRUFBRSxJQUFJLENBQUMsU0FBUztnQkFDekIsUUFBUSxFQUFFLElBQUksQ0FBQyxRQUFRO2dCQUN2QixRQUFRLEVBQUUsSUFBSSxDQUFDLFFBQVE7Z0JBQ3ZCLEtBQUssRUFBRSxJQUFJLENBQUMsS0FBSztnQkFDakIsS0FBSyxFQUFFLElBQUksQ0FBQyxLQUFLO2dCQUNqQixPQUFPLEVBQUUsSUFBSSxDQUFDLE9BQU87Z0JBQ3JCLGdCQUFnQixFQUFFLElBQUk7Z0JBQ3RCLFdBQVcsRUFBRSxJQUFJO2dCQUNqQixLQUFLLEVBQUUsSUFBSTtnQkFDWCxRQUFRLEVBQUUsSUFBSSxDQUFDLFFBQVE7Z0JBQ3ZCLGNBQWMsRUFBRSxJQUFJLENBQUMsY0FBYzthQUN0QyxDQUFDLENBQUM7WUFFSCxPQUFPLElBQUksQ0FBQyxZQUFZLENBQUM7UUFDN0IsQ0FBQzs7Ozs7UUFDRCxVQUF5QixJQUFJO1lBQ3pCLElBQUksQ0FBQyxZQUFZLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQyxFQUFFLEVBQUUsSUFBSSxDQUFDLFlBQVksRUFBRSxJQUFJLENBQUMsQ0FBQztZQUMvRCxpRUFBaUU7UUFDckUsQ0FBQzs7O09BSkE7SUE0REQsc0JBQUksMkNBQVU7Ozs7UUFBZDs7Z0JBQ1UsV0FBVyxHQUFHLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxhQUFhLEVBQUU7WUFDM0QsSUFBSSxJQUFJLENBQUMsWUFBWSxFQUFFO2dCQUNuQixPQUFPLFdBQVcsQ0FBQyxDQUFDLENBQUMsQ0FBQzthQUN6QjtpQkFBTTtnQkFDSCxPQUFPLFdBQVcsQ0FBQzthQUN0QjtRQUNMLENBQUM7OztPQUFBO0lBQ0Qsc0JBQUksaURBQWdCOzs7O1FBQXBCO1lBQ0ksT0FBTyxJQUFJLENBQUMsV0FBVyxJQUFJLElBQUksQ0FBQyxNQUFNLElBQUksSUFBSSxDQUFDLFlBQVksQ0FBQztRQUNoRSxDQUFDOzs7T0FBQTtJQUVELHNCQUFJLGdEQUFlOzs7O1FBQW5CO1lBQ0ksSUFBSSxJQUFJLENBQUMsV0FBVyxFQUFFO2dCQUNsQixPQUFPLElBQUksQ0FBQyxXQUFXLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyx1QkFBdUIsQ0FBQyxDQUFDO2FBQy9EO1lBQ0QsT0FBTyxFQUFFLENBQUM7UUFDZCxDQUFDOzs7T0FBQTtJQTRERCxzQkFBSSxrREFBaUI7Ozs7UUFBckI7WUFDSSxPQUFPLElBQUksQ0FBQyxhQUFhLENBQUM7UUFDOUIsQ0FBQzs7O09BQUE7Ozs7O0lBbURPLHdDQUFVOzs7O0lBQWxCO1FBQ0ksSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUU7WUFDZCxJQUFJLENBQUMsTUFBTSxHQUFHOzs7O2dCQUVWLE9BQU8sRUFBRSxFQUFFOzs7O2dCQUVYLE1BQU0sRUFBQyxFQUFFOzs7O2dCQUVULGdCQUFnQixFQUFFLEVBQUU7Ozs7Z0JBRXBCLFdBQVcsRUFBRSxFQUFFO2FBQ2xCLENBQUE7U0FDSjtRQUNELElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLGdCQUFnQixFQUFFO1lBQy9CLElBQUksQ0FBQyxNQUFNLENBQUMsZ0JBQWdCLEdBQUcsSUFBSSxDQUFDLFlBQVksQ0FBQyxRQUFRLENBQUMsMkJBQTJCLENBQUMsQ0FBQztTQUMxRjtRQUVELElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sRUFBRTtZQUNyQixJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUMsWUFBWSxDQUFDLFFBQVEsQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDO1NBQ3ZFO1FBRUQsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsT0FBTyxFQUFFO1lBQ3RCLElBQUksQ0FBQyxNQUFNLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQyxZQUFZLENBQUMsUUFBUSxDQUFDLGlCQUFpQixDQUFDLENBQUM7U0FDdkU7SUFDTCxDQUFDOzs7Ozs7SUFFRCwwQ0FBWTs7Ozs7SUFBWixVQUFhLEdBQUcsRUFBRSxJQUEwQztRQUExQyxxQkFBQSxFQUFBLGFBQTBDO1FBQ3hELElBQUksSUFBSSxDQUFDLFFBQVEsRUFBRTtZQUNmLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUM7U0FDNUI7SUFDTCxDQUFDOzs7O0lBRUQsZ0RBQWtCOzs7SUFBbEI7UUFDSSxPQUFPLENBQUMsSUFBSSxDQUFDLGFBQWEsSUFBSSxJQUFJLENBQUMsc0JBQXNCLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDeEUsQ0FBQzs7Ozs7SUFFRCwyQ0FBYTs7OztJQUFiLFVBQWMsUUFBZ0I7UUFBaEIseUJBQUEsRUFBQSxnQkFBZ0I7UUFDMUIsT0FBTyxDQUFDLENBQUMsSUFBSSxDQUFDLHNCQUFzQixDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFFLElBQUksQ0FBQyxzQkFBc0IsQ0FBQSxDQUFDLENBQUMsQ0FBQyxDQUFBLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDNUcsQ0FBQzs7Ozs7SUFFTyw2Q0FBZTs7OztJQUF2QjtRQUFBLGlCQWFDO1FBWkcsSUFBSSxDQUFDLGFBQWEsQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQztRQUN2QyxJQUFJLENBQUMsV0FBVyxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDO1FBQ3BDLElBQUksQ0FBQyxhQUFhLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLE9BQU8sSUFBSSxFQUFFLENBQUMsQ0FBQztRQUNqRSxJQUFJLENBQUMsYUFBYSxDQUFDLFVBQVU7OztRQUFHO1lBQzVCLE9BQU8sS0FBSSxDQUFDLGFBQWEsQ0FBQyxRQUFRLENBQUM7UUFDdkMsQ0FBQyxDQUFBLENBQUM7UUFFRixJQUFJLENBQUMsYUFBYSxDQUFDLEtBQUs7OztRQUFHO1lBQ3ZCLEtBQUksQ0FBQyxLQUFLLEdBQUcsS0FBSSxDQUFDLGFBQWEsQ0FBQyxNQUFNLENBQUM7WUFDdkMsS0FBSSxDQUFDLFdBQVcsQ0FBQyxLQUFLLEdBQUcsS0FBSSxDQUFDLEtBQUssQ0FBQztZQUNwQyxLQUFJLENBQUMsT0FBTyxHQUFHLEtBQUksQ0FBQyxhQUFhLENBQUMsVUFBVSxFQUFFLENBQUM7UUFDbkQsQ0FBQyxDQUFBLENBQUM7SUFDTixDQUFDOzs7Ozs7SUFFTyx1Q0FBUzs7Ozs7SUFBakIsVUFBa0IsR0FBRztRQUFyQixpQkFpQkM7UUFoQkcsSUFBSSxHQUFHLEtBQUssSUFBSSxFQUFFO1lBQ2QsT0FBTyxJQUFJLENBQUM7U0FDZjs7WUFDSyxLQUFLLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQyxFQUFFLEVBQUUsR0FBRyxDQUFDO1FBQ3BDLE1BQU0sQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsT0FBTzs7OztRQUN0QixVQUFDLEdBQUc7WUFDQSxPQUFBLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQztnQkFDUCxPQUFPLEdBQUcsQ0FBQyxHQUFHLENBQUMsS0FBSyxRQUFRO29CQUN4QixDQUFDLENBQUMsS0FBSSxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUM7b0JBQzFCLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUM7UUFIbkIsQ0FHbUIsRUFDMUIsQ0FBQztRQUNGLElBQUksS0FBSyxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsRUFBRTtZQUNwQixLQUFLLENBQUMsTUFBTSxHQUFHLEdBQUcsQ0FBQyxNQUFNLENBQUM7WUFDMUIsT0FBTyxLQUFLLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO1NBQzVCO1FBQ0QsT0FBTyxLQUFLLENBQUM7SUFDakIsQ0FBQzs7OztJQUVELHNDQUFROzs7SUFBUjtRQUNJLGlCQUFNLFFBQVEsV0FBRSxDQUFDO1FBQ2pCLElBQUksQ0FBQyxlQUFlLEVBQUUsQ0FBQztRQUN2QixJQUFJLENBQUMsSUFBSSxDQUFDLGdCQUFnQixFQUFFO1lBQ3hCLElBQUksQ0FBQyxnQkFBZ0IsR0FBRyxTQUFTLENBQUM7U0FDckM7UUFFRCxJQUFJLENBQUMsZ0JBQWdCLEVBQUUsQ0FBQztRQUN4QixJQUFJLENBQUMsV0FBVyxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDO1FBQ3BDLFlBQVk7UUFDWixJQUFJLElBQUksQ0FBQyxJQUFJLEVBQUU7WUFDWCxJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDO1NBQ3BDO1FBRUQsSUFBSSxDQUFDLGVBQWUsR0FBRyxJQUFJLENBQUMsWUFBWSxDQUFDLFFBQVEsQ0FBQyxtQkFBbUIsQ0FBQyxDQUFDO1FBQ3ZFLElBQUksQ0FBQyxrQkFBa0IsR0FBRyxJQUFJLENBQUMsWUFBWSxDQUFDLFFBQVEsQ0FDaEQsMkJBQTJCLENBQzlCLENBQUM7UUFDRixJQUFJLENBQUMsaUJBQWlCLEdBQUcsSUFBSSxDQUFDLFlBQVksQ0FBQyxRQUFRLENBQy9DLDBCQUEwQixDQUM3QixDQUFDO1FBQ0YsSUFBSSxDQUFDLGtCQUFrQjtZQUNuQixJQUFJLENBQUMsWUFBWSxDQUFDLFFBQVEsQ0FBQyw0QkFBNEIsQ0FBQztnQkFDeEQsSUFBSSxDQUFDLGtCQUFrQixDQUFDO1FBQzVCLElBQUksQ0FBQyxrQkFBa0I7WUFDbkIsSUFBSSxDQUFDLFlBQVksQ0FBQyxRQUFRLENBQUMsK0JBQStCLENBQUM7Z0JBQzNELElBQUksQ0FBQyxrQkFBa0IsQ0FBQztRQUU1QixJQUFJLENBQUMsU0FBUyxDQUFDLGVBQWUsRUFBRSxDQUFDO1FBRWpDLElBQUksQ0FBQyxVQUFVLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDO1FBRWxFLElBQUksSUFBSSxDQUFDLFdBQVcsRUFBRTtZQUNsQixJQUFJLENBQUMsV0FBVyxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUMsRUFBRSxFQUFFLHlCQUF5QixFQUFFLElBQUksQ0FBQyxXQUFXLElBQUksRUFBRSxDQUFDLENBQUM7U0FDM0Y7UUFDRCxJQUFJLENBQUMsa0JBQWtCLEVBQUUsQ0FBQztJQUM5QixDQUFDO0lBQ0QsY0FBYzs7Ozs7SUFDZCxnREFBa0I7Ozs7SUFBbEI7O1lBQ1UsR0FBRyxHQUFHLENBQUMsSUFBSSxDQUFDLHNCQUFzQixDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLEVBQUU7O1lBQzVDLEVBQUUsR0FBSSxDQUFDLElBQUksQ0FBQyxzQkFBc0IsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ2hELElBQUksQ0FBQyxlQUFlLEdBQUcsRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFFLE1BQU0sRUFBRSxFQUFFLEVBQUUsSUFBSSxFQUFFLEdBQUcsRUFBRSxLQUFLLEVBQUUsR0FBRyxFQUFFLENBQUM7UUFFckUsSUFBSSxJQUFJLENBQUMsc0JBQXNCLEVBQUU7WUFDN0IsSUFBSSxDQUFDLFlBQVksR0FBRyxJQUFJLENBQUM7U0FDNUI7UUFFRCxJQUFJLENBQUMsY0FBYyxHQUFHO1lBQ2xCLFVBQVUsRUFBRSxJQUFJLENBQUMsZUFBZSxDQUFDLElBQUksR0FBRyxJQUFJO1lBQzVDLFdBQVcsRUFBRSxJQUFJLENBQUMsZUFBZSxDQUFDLEtBQUssR0FBRyxJQUFJO1lBQzlDLFNBQVMsRUFBRSxJQUFJLENBQUMsZUFBZSxDQUFDLEdBQUcsR0FBRyxJQUFJO1lBQzFDLFlBQVksRUFBRSxJQUFJLENBQUMsZUFBZSxDQUFDLE1BQU0sR0FBRyxJQUFJO1NBQ25ELENBQUM7SUFDTixDQUFDOzs7O0lBRUQseUNBQVc7OztJQUFYO1FBQ0ksaUJBQU0sV0FBVyxXQUFFLENBQUM7UUFDcEIsSUFBSSxDQUFDLGFBQWEsQ0FBQyxPQUFPOzs7O1FBQUMsVUFBQyxDQUFDO1lBQ3pCLElBQUksQ0FBQyxFQUFFO2dCQUNILENBQUMsQ0FBQyxXQUFXLEVBQUUsQ0FBQztnQkFDaEIsQ0FBQyxHQUFHLElBQUksQ0FBQzthQUNaO1FBQ0wsQ0FBQyxFQUFDLENBQUM7UUFFSCxJQUFJLElBQUksQ0FBQyxZQUFZLEVBQUU7WUFDbkIsSUFBSSxDQUFDLFlBQVksQ0FBQyxPQUFPLEVBQUUsQ0FBQztTQUMvQjtRQUVELElBQUksQ0FBQyxhQUFhLEdBQUcsRUFBRSxDQUFDO1FBRXhCLElBQUksSUFBSSxDQUFDLGVBQWUsRUFBRTtZQUN0QixJQUFJLENBQUMsZUFBZSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLGFBQWEsQ0FBQyxDQUFDO1NBQ3ZEO1FBRUQsSUFBSSxJQUFJLENBQUMsc0JBQXNCLEVBQUU7WUFDN0IsSUFBSSxDQUFDLHNCQUFzQixFQUFFLENBQUM7U0FDakM7UUFDRCxJQUFJLENBQUMsV0FBVyxDQUFDLE9BQU8sRUFBRSxDQUFDO1FBRTNCLElBQUksQ0FBQyxjQUFjLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsYUFBYSxDQUFDLENBQUM7UUFDbkQsSUFBSSxDQUFDLGNBQWMsR0FBRyxJQUFJLENBQUM7SUFDL0IsQ0FBQzs7Ozs7SUFFRCx5Q0FBVzs7OztJQUFYLFVBQVksT0FBc0I7UUFDOUIsSUFBSSxPQUFPLENBQUMsT0FBTyxJQUFJLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxhQUFhLEVBQUUsRUFBRTtZQUNyRCxJQUFJLENBQUMsZUFBZSxFQUFFLENBQUM7U0FDMUI7UUFFRCxJQUFJLE9BQU8sQ0FBQyxzQkFBc0IsSUFBSSxDQUFDLE9BQU8sQ0FBQyxzQkFBc0IsQ0FBQyxhQUFhLEVBQUUsRUFBRTtZQUNuRixJQUFJLENBQUMsa0JBQWtCLEVBQUUsQ0FBQztTQUM3QjtJQUVMLENBQUM7Ozs7SUFFRCw2Q0FBZTs7O0lBQWY7UUFDSSxJQUFJLENBQUMsSUFBSSxDQUFDLFdBQVcsSUFBSSxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsTUFBTSxFQUFFO1lBQy9DLElBQUksQ0FBQyxzQkFBc0IsR0FBRyxhQUFhLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUM7U0FDNUQ7UUFFRCxXQUFXO1FBQ1gsSUFBSSxJQUFJLENBQUMsZ0JBQWdCLEVBQUU7WUFDdkIsSUFBSSxDQUFDLFNBQVMsQ0FBQyxnQkFBZ0IsRUFBRSxDQUFDO1NBQ3JDO1FBRUQsSUFBSSxJQUFJLENBQUMsYUFBYSxFQUFFOztnQkFDZCxRQUFRLEdBQUcsSUFBSSxDQUFDLFlBQVksQ0FBQyxjQUFjLEVBQUU7WUFDbkQsSUFBSSxDQUFDLGdCQUFnQixDQUFDLFFBQVEsRUFBRSxLQUFLLENBQUMsQ0FBQztTQUMxQztRQUVELElBQUksSUFBSSxDQUFDLFFBQVEsS0FBSyxNQUFNLEVBQUU7WUFDMUIsdUJBQXVCO1lBQ3ZCLGlCQUFpQjtZQUNqQixxREFBcUQ7WUFDckQsdUJBQXVCO1lBQ3ZCLDZCQUE2QjtZQUM3QixRQUFRO1lBQ1IsTUFBTTtZQUNOLElBQUksQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUNmLElBQUksQ0FBQyxVQUFVLENBQUMsT0FBTyxDQUFDLGFBQWEsRUFDckMsWUFBWSxFQUNaLElBQUksQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUM3QixDQUFDO1NBQ0w7YUFBTTtZQUNILElBQUksQ0FBQyw0QkFBNEIsRUFBRSxDQUFDO1lBRXBDLElBQUksSUFBSSxDQUFDLFlBQVksRUFBRTs7b0JBQ2IsRUFBRSxHQUNKLElBQUksQ0FBQyxNQUFNLENBQUMsYUFBYSxDQUFDLGFBQWEsQ0FBQyxhQUFhLENBQUM7O29CQUN0RCxHQUFHLEdBQUcsSUFBSSxDQUFDLFlBQVk7Z0JBQzNCLElBQUksR0FBRyxLQUFLLE1BQU0sRUFBRTtvQkFDaEIsR0FBRyxJQUFJLElBQUksQ0FBQztvQkFFWixJQUFJLElBQUksQ0FBQyxlQUFlLEVBQUU7d0JBQ3RCLElBQUksQ0FBQyxPQUFPLENBQUMsUUFBUSxDQUNqQixFQUFFLEVBQ0YsV0FBVyxFQUNSLElBQUksQ0FBQyxlQUFlLE9BQUksQ0FDOUIsQ0FBQztxQkFDTDtpQkFDSjtnQkFFRCxJQUFJLENBQUMsT0FBTyxDQUFDLFFBQVEsQ0FBQyxFQUFFLEVBQUUsUUFBUSxFQUFFLEdBQUcsQ0FBQyxDQUFDO2FBQzVDO1NBQ0o7UUFFRCxJQUFJLElBQUksQ0FBQyxFQUFFLElBQUksSUFBSSxDQUFDLGVBQWUsRUFBRTtZQUNqQyxJQUFJLENBQUMsZUFBZSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLGFBQWEsRUFBRSxJQUFJLENBQUMsQ0FBQztTQUN6RDtJQUNMLENBQUM7Ozs7O0lBRU8sNENBQWM7Ozs7SUFBdEI7UUFDSSxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLGVBQWUsRUFBRSxJQUFJLENBQUMsQ0FBQztRQUNyRCxJQUFJLENBQUMsZUFBZSxHQUFHLElBQUksQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLGVBQWUsQ0FBQyxDQUFDO1FBQzFELElBQUksQ0FBQyxjQUFjLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsY0FBYyxDQUFDLENBQUM7UUFDeEQsSUFBSSxDQUFDLGFBQWEsR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxhQUFhLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFFNUQsSUFBSSxDQUFDLHFCQUFxQixHQUFHLElBQUksQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUMxQyxxQkFBcUIsRUFDckIsSUFBSSxDQUNQLENBQUM7UUFFRixJQUFJLENBQUMsa0JBQWtCLEdBQUcsSUFBSSxzQkFBc0IsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUUzRCxJQUFJLENBQUMsV0FBVyxHQUFHLElBQUksV0FBVyxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ3pDLElBQUksQ0FBQyxZQUFZLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsYUFBYSxDQUFDLENBQUM7UUFDckQsSUFBSSxDQUFDLGNBQWMsR0FBRyxJQUFJLGNBQWMsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUUvQyxJQUFJLENBQUMsU0FBUyxHQUFHLElBQUksY0FBYyxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQzFDLElBQUksQ0FBQyxVQUFVLEdBQUcsSUFBSSxxQkFBcUIsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUNsRCxJQUFJLENBQUMsV0FBVyxHQUFHLElBQUkscUJBQXFCLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDbkQsSUFBSSxDQUFDLE9BQU8sR0FBRyxJQUFJLGlCQUFpQixDQUFDLElBQUksQ0FBQyxDQUFDO1FBQzNDLElBQUksQ0FBQyxZQUFZLEdBQUcsSUFBSSxzQkFBc0IsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUNyRCxJQUFJLENBQUMsU0FBUyxHQUFHLElBQUksbUJBQW1CLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDL0MsSUFBSSxDQUFDLFlBQVksR0FBRyxJQUFJLGdCQUFnQixDQUFDLElBQUksQ0FBQyxDQUFDO1FBQy9DLElBQUksQ0FBQyxVQUFVLEdBQUcsSUFBSSxxQkFBcUIsQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUN0RCxDQUFDOzs7O0lBRUQsd0NBQVU7OztJQUFWO1FBQUEsaUJBYUM7UUFaRyxJQUFJLElBQUksQ0FBQyxRQUFRLElBQUksSUFBSSxDQUFDLFFBQVEsRUFBRTtZQUNoQyxPQUFPLEtBQUssQ0FBQztTQUNoQjtRQUVELElBQUksQ0FBQyxZQUFZLENBQUMsZ0JBQWdCLEVBQUUsQ0FBQztRQUNyQyxJQUFJLENBQUMsdUJBQXVCLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQztZQUM1QyxRQUFRLEVBQUUsSUFBSTtTQUNqQixDQUFDLENBQUMsU0FBUzs7OztRQUFDLFVBQUMsRUFBaUI7WUFDM0IsS0FBSSxDQUFDLFNBQVMsQ0FBQyxhQUFhLENBQUMsRUFBRSxDQUFDLENBQUM7UUFDckMsQ0FBQyxFQUFDLENBQUM7UUFFSCxPQUFPLEtBQUssQ0FBQztJQUNqQixDQUFDO0lBRUQsaUJBQWlCOzs7OztJQUNqQiwyQ0FBYTs7OztJQUFiO1FBQ0ksT0FBTyxDQUNKLENBQUUsSUFBSSxDQUFDLFdBQVcsS0FBSyxxQkFBcUIsQ0FBQyxPQUFPO1lBQ25ELElBQUksQ0FBQyxXQUFXLEtBQUsscUJBQXFCLENBQUMsV0FBVztZQUN0RCxJQUFJLENBQUMsV0FBVyxLQUFLLHFCQUFxQixDQUFDLFdBQVcsQ0FBQyxJQUFJLElBQUksQ0FBQyxjQUFjLENBQ2pGLENBQUM7SUFDTixDQUFDO0lBQ0QsaUJBQWlCOzs7OztJQUNqQixvQ0FBTTs7OztJQUFOOztZQUNVLElBQUksR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDLFdBQVcsRUFBRTtRQUMzQyxPQUFPLENBQ0gsSUFBSSxLQUFLLHFCQUFxQixDQUFDLFFBQVEsSUFBSSxJQUFJLEtBQUsscUJBQXFCLENBQUMsV0FBVyxDQUN4RixDQUFDO0lBQ04sQ0FBQzs7Ozs7SUFFRCx1Q0FBUzs7OztJQUFULFVBQVUsQ0FBTTtRQUNaLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ3ZCLElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUM5QixDQUFDOzs7OztJQUVELHdDQUFVOzs7O0lBQVYsVUFBVyxHQUFpQjtRQUN4QixJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDN0IsSUFBSSxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDekIsSUFBSSxJQUFJLENBQUMsYUFBYSxFQUFFLElBQUksSUFBSSxDQUFDLGdCQUFnQixFQUFFO1lBQy9DLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDO2dCQUNsQyxLQUFLLEVBQUUsSUFBSSxDQUFDLFNBQVMsQ0FBQyxLQUFLO2dCQUMzQixNQUFNLEVBQUUsSUFBSSxDQUFDLFNBQVMsQ0FBQyxTQUFTLEVBQUU7YUFDckMsQ0FBQyxDQUFDO1NBQ047SUFDTCxDQUFDOzs7OztJQUVELHlDQUFXOzs7O0lBQVgsVUFBWSxHQUFpQjtRQUN6QixJQUFJLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUN6QixJQUFJLElBQUksQ0FBQyxTQUFTLEVBQUU7WUFDaEIsSUFBSSxDQUFDLGdCQUFnQixDQUFDLFFBQVEsQ0FBQyxNQUFNLENBQUM7Z0JBQ2xDLEtBQUssRUFBRSxJQUFJLENBQUMsU0FBUyxDQUFDLEtBQUs7Z0JBQzNCLE1BQU0sRUFBRSxJQUFJLENBQUMsU0FBUyxDQUFDLFNBQVMsRUFBRTthQUNyQyxDQUFDLENBQUM7U0FDTjtRQUNELGNBQWM7UUFDZCx1Q0FBdUM7UUFDdkMsSUFBSSxDQUFDLG1CQUFtQixHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsd0JBQXdCLEVBQUUsQ0FBQztRQUNyRSxJQUFJLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDcEMsQ0FBQzs7Ozs7SUFFRCx1Q0FBUzs7OztJQUFULFVBQVUsSUFBVTtRQUNoQixJQUFJLENBQUMsSUFBSSxDQUFDLFlBQVksSUFBSSxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsUUFBUSxFQUFFO1lBQ25ELE9BQU87U0FDVjtRQUVELElBQUksQ0FBQyxJQUFJLEVBQUU7WUFDUCxJQUFJLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUM7U0FDM0I7O1lBQ0ssS0FBSyxHQUFHO1lBQ1YsS0FBSyxFQUNELElBQUksQ0FBQyxLQUFLO2dCQUNWLElBQUksQ0FBQyxlQUFlLENBQUMsSUFBSTtnQkFDekIsSUFBSSxDQUFDLGVBQWUsQ0FBQyxLQUFLO1lBQzlCLE1BQU0sRUFBRSxDQUFDO1NBQ1o7UUFFRCxJQUFJLElBQUksQ0FBQyxXQUFXLElBQUksSUFBSSxDQUFDLHFCQUFxQixJQUFJLElBQUksQ0FBQyxTQUFTLElBQUksVUFBVSxFQUFFO1lBQ2hGLEtBQUssQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDLFlBQVksQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLENBQUM7WUFDcEQsSUFBSSxDQUFDLHFCQUFxQixDQUFDLFFBQVEsQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUM7U0FDckQ7YUFBTTtZQUNILEtBQUssQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDLFlBQVksQ0FBQyxZQUFZLEVBQUUsQ0FBQztZQUNoRCxJQUFJLElBQUksQ0FBQyxhQUFhLEVBQUUsRUFBRTtnQkFDdEIsS0FBSyxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxhQUFhLENBQUMsSUFBSSxDQUFDLENBQUM7YUFDOUU7WUFFRCxJQUFJLENBQUMsWUFBWSxDQUFDLFFBQVEsQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUM7U0FDNUM7UUFFRCxJQUFJLElBQUksQ0FBQyxZQUFZLEVBQUU7WUFDbkIsSUFBSSxDQUFDLFlBQVksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUM7WUFDMUMsSUFBSSxDQUFDLHFCQUFxQixDQUFDLG9CQUFvQixDQUFDO2dCQUM1QyxJQUFJLEVBQUUsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJO2FBQ3pCLENBQUMsQ0FBQztTQUNOO1FBRUQsSUFBSSxJQUFJLENBQUMsYUFBYSxFQUFFLElBQUksSUFBSSxDQUFDLFNBQVMsRUFBRTtZQUN4QyxJQUFJLENBQUMsU0FBUyxDQUFDLGVBQWUsRUFBRSxDQUFDO1NBQ3BDO0lBQ0wsQ0FBQzs7Ozs7SUFFTyw4Q0FBZ0I7Ozs7SUFBeEI7UUFDSSxJQUFJLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxPQUFPLEVBQUU7WUFDM0IsSUFBSSxDQUFDLFlBQVksQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDO1NBQ3hDO1FBRUQsSUFBSSxDQUFDLElBQUksQ0FBQyxnQkFBZ0IsRUFBRTtZQUN4QixJQUFJLENBQUMsZ0JBQWdCOzs7WUFBRztnQkFDcEIsT0FBTyxFQUFFLENBQUMsSUFBSSxDQUFDLENBQUM7WUFDcEIsQ0FBQyxDQUFBLENBQUM7U0FDTDs7WUFFSyxnQkFBZ0IsR0FDbEIsSUFBSSxDQUFDLFlBQVksQ0FBQyxRQUFRLENBQUMsb0JBQW9CLENBQUM7UUFFcEQsSUFBSSxDQUFDLGdCQUFnQixHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQ2pDLEVBQUUsUUFBUSxFQUFFLGdCQUFnQixFQUFFLEVBQzlCLElBQUksQ0FBQyx1QkFBdUIsRUFDNUIsSUFBSSxDQUFDLGdCQUFnQixJQUFJLEVBQUUsQ0FDOUIsQ0FBQztJQUNOLENBQUM7Ozs7SUFFRCw4Q0FBZ0I7OztJQUFoQjtRQUNJLElBQUksQ0FBQyxJQUFJLENBQUMsV0FBVyxFQUFFO1lBQ25CLElBQUksQ0FBQyxXQUFXLEdBQUcsTUFBTSxDQUFDO1NBQzdCO1FBQ0QsUUFBUSxJQUFJLENBQUMsV0FBVyxFQUFFO1lBQ3RCLEtBQUsscUJBQXFCLENBQUMsSUFBSSxDQUFDO1lBQ2hDLEtBQUsscUJBQXFCLENBQUMsT0FBTyxDQUFDO1lBQ25DLEtBQUsscUJBQXFCLENBQUMsV0FBVztnQkFDbEMsT0FBTyxrQkFBa0IsQ0FBQztZQUM5QixLQUFLLHFCQUFxQixDQUFDLFFBQVEsQ0FBQztZQUNwQyxLQUFLLHFCQUFxQixDQUFDLFdBQVc7Z0JBQ2xDLE9BQU8sa0JBQWtCLENBQUM7U0FDakM7SUFDTCxDQUFDOzs7OztJQUVELHlDQUFXOzs7O0lBQVgsVUFBWSxHQUFRO1FBQVIsb0JBQUEsRUFBQSxRQUFRO1FBQ2hCLElBQUksSUFBSSxDQUFDLE1BQU0sSUFBSSxJQUFJLENBQUMsTUFBTSxDQUFDLFlBQVksSUFBSSxDQUFDLElBQUksQ0FBQyxPQUFPLEVBQUU7O2dCQUNwRCxJQUFJLEdBQUc7Z0JBQ1QsU0FBUyxFQUFFLElBQUksQ0FBQyxNQUFNLENBQUMsWUFBWTtnQkFDbkMsS0FBSyxFQUFFLEdBQUc7YUFDYjtZQUVELElBQUksR0FBRyxFQUFFO2dCQUNMLElBQUksQ0FBQyxTQUFTLENBQUMsR0FBRyxHQUFHLENBQUM7YUFDekI7WUFFRCxJQUFJLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQyxjQUFjLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO1NBQ2pEO2FBQU07WUFDSCxJQUFJLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQyxjQUFjLENBQUMsSUFBSSxFQUFFLENBQUM7U0FDN0M7SUFDTCxDQUFDOzs7O0lBRUQsMENBQVk7OztJQUFaO1FBQ0ksSUFBSSxJQUFJLENBQUMsT0FBTyxFQUFFO1lBQ2QsSUFBSSxDQUFDLE9BQU8sQ0FBQyxLQUFLLEVBQUUsQ0FBQztZQUNyQixJQUFJLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQztTQUN2QjtRQUVELElBQUksQ0FBQyxjQUFjLENBQUMsUUFBUSxFQUFFLENBQUM7SUFDbkMsQ0FBQzs7Ozs7SUFFRCw4Q0FBZ0I7Ozs7SUFBaEIsVUFBaUIsT0FBWTs7WUFDbkIsSUFBSSxHQUFHLE9BQU8sQ0FBQyxPQUFPLElBQUksSUFBSSxDQUFDLE9BQU87UUFDNUMsSUFBSSxPQUFPLENBQUMsWUFBWSxFQUFFO1lBQ3RCLE9BQU8sT0FBTyxDQUFDLFlBQVksQ0FBQyxHQUFHOzs7O1lBQUMsVUFBQyxFQUFFOztvQkFDekIsQ0FBQyxHQUFHLElBQUksQ0FBQyxJQUFJOzs7O2dCQUNmLFVBQUMsR0FBRyxJQUFLLE9BQUEsR0FBRyxDQUFDLEtBQUssQ0FBQyxXQUFXLEVBQUUsS0FBSyxFQUFFLENBQUMsS0FBSyxDQUFDLFdBQVcsRUFBRSxFQUFsRCxDQUFrRCxFQUM5RDtnQkFDRCxJQUFJLENBQUMsRUFBRTtvQkFDSCxFQUFFLENBQUMsS0FBSyxHQUFHLENBQUMsQ0FBQyxLQUFLLENBQUM7aUJBQ3RCO2dCQUNELE9BQU8sRUFBRSxDQUFDO1lBQ2QsQ0FBQyxFQUFDLENBQUM7U0FDTjthQUFNLElBQUksSUFBSSxFQUFFO1lBQ2IsT0FBTyxJQUFJO2lCQUNOLE1BQU07Ozs7WUFBQyxVQUFDLENBQUMsSUFBSyxPQUFBLENBQUMsQ0FBQyxXQUFXLEVBQWIsQ0FBYSxFQUFDO2lCQUM1QixHQUFHOzs7O1lBQUMsVUFBQyxHQUFHO2dCQUNMLE9BQU87b0JBQ0gsS0FBSyxFQUFFLEdBQUcsQ0FBQyxLQUFLO29CQUNoQixLQUFLLEVBQUUsR0FBRyxDQUFDLEtBQUs7aUJBQ25CLENBQUM7WUFDTixDQUFDLEVBQUMsQ0FBQztTQUNWO1FBQ0QsT0FBTyxFQUFFLENBQUM7SUFDZCxDQUFDOzs7Ozs7SUFFTyx5Q0FBVzs7Ozs7SUFBbkIsVUFBb0IsT0FBeUI7UUFBN0MsaUJBa0pDOztZQWpKTyxLQUFLLEdBQUcsRUFBRSxDQUFDLElBQUksQ0FBQztRQUNwQixJQUFJLENBQUMsV0FBVyxDQUFDLFlBQVksR0FBRyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsT0FBTyxDQUFDLENBQUM7UUFDL0QsSUFBSSxPQUFPLEVBQUU7WUFDVCwyQ0FBMkM7WUFDM0MsSUFDSSxDQUFDLENBQUMsSUFBSSxDQUFDLE9BQU8sSUFBSSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDO2dCQUN2QyxPQUFPLENBQUMsT0FBTztnQkFDZixPQUFPLENBQUMsT0FBTyxDQUFDLE1BQU0sRUFDeEI7Z0JBQ0UsSUFBSSxDQUFDLE9BQU8sR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDO2FBQ2xDO1lBRUQsSUFBSSxDQUFDLGVBQWUsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUM7WUFFbkMsSUFBSSxDQUFDLGtCQUFrQixDQUFDLE9BQU8sQ0FBQyxDQUFDO1lBRWpDLElBQ0ksSUFBSSxDQUFDLGFBQWEsRUFBRTtnQkFDcEIsSUFBSSxDQUFDLFdBQVcsR0FBRyxJQUFJLENBQUMsdUJBQXVCO2dCQUMvQyxDQUFDLElBQUksQ0FBQyxZQUFZLEVBQ3BCO2dCQUNFLElBQUksQ0FBQyxXQUFXLEdBQUcsSUFBSSxDQUFDLHVCQUF1QixDQUFDO2dCQUNoRCxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxFQUFFLEtBQUssRUFBRSxJQUFJLENBQUMsV0FBVyxFQUFFLENBQUMsQ0FBQzthQUNuRDtZQUVELElBQUksQ0FBQyxJQUFJLENBQUMsaUJBQWlCLEVBQUU7Z0JBQ3pCLHdFQUF3RTtnQkFDeEUseUJBQXlCO2dCQUN6QixxRUFBcUU7Z0JBQ3JFLElBQUk7Z0JBQ0osSUFBSSxDQUFDLGNBQWMsQ0FBQyxhQUFhLEVBQUUsQ0FBQztnQkFDcEMsSUFBSSxDQUFDLFlBQVksQ0FBQyw2QkFBNkIsQ0FBQyxPQUFPLENBQUMsQ0FBQzthQUM1RDtZQUVELElBQUssSUFBSSxDQUFDLGFBQWEsRUFBRSxJQUFJLE9BQU8sQ0FBQyxVQUFVLElBQUksQ0FBQyxJQUFJLENBQUMsZ0JBQWdCLEVBQUU7Z0JBQ3ZFLElBQUksQ0FBQyxpQkFBaUIsR0FBRyxPQUFPLENBQUMsVUFBVSxDQUFDO2dCQUM1QyxJQUFJLENBQUMsaUJBQWlCLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQztnQkFDcEMsSUFBSSxDQUFDLGlCQUFpQixDQUFDLFlBQVksR0FBRyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsSUFBSSxDQUFDLGlCQUFpQixDQUFDLENBQUM7Z0JBQ3BGLElBQUksQ0FBQyxlQUFlLENBQUMsSUFBSSxDQUFDLGlCQUFpQixDQUFDLE9BQU8sRUFBRSxLQUFLLENBQUMsQ0FBQztnQkFFNUQsMkJBQTJCO2dCQUMzQixJQUFJLElBQUksQ0FBQyxrQkFBa0IsRUFBRTtvQkFDekIsSUFBSSxDQUFDLGlCQUFpQixDQUFDLE9BQU8sQ0FBQyxPQUFPOzs7O29CQUFDLFVBQUMsR0FBRzt3QkFDdkMsSUFBSSxLQUFJLENBQUMsa0JBQWtCLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxFQUFFOzRCQUNwQyxHQUFHLENBQUMsU0FBUyxHQUFHLEtBQUksQ0FBQyxrQkFBa0IsQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUM7eUJBQ3REO29CQUNMLENBQUMsRUFBQyxDQUFDO29CQUVILElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxXQUFXLENBQUM7d0JBQy9CLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxTQUFTLENBQUM7b0JBQ3RDLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxZQUFZLENBQUM7d0JBQ2hDLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxVQUFVLENBQUM7aUJBQzFDO2dCQUNELDRCQUE0QjtnQkFDNUIsSUFBSSxJQUFJLENBQUMsV0FBVyxLQUFLLHFCQUFxQixDQUFDLFdBQVcsRUFBRTs7d0JBQ3BELHNCQUFzQixHQUN0QixJQUFJLENBQUMsaUJBQWlCLENBQUMsUUFBUSxDQUFDLFlBQVk7b0JBQ2hELElBQUksSUFBSSxDQUFDLGdCQUFnQixLQUFLLFNBQVMsRUFBRTt3QkFDckMsc0JBQXNCOzRCQUNsQixJQUFJLENBQUMsZ0JBQWdCLEtBQUssU0FBUztnQ0FDL0IsQ0FBQyxDQUFDLEtBQUs7Z0NBQ1AsQ0FBQyxDQUFDLE9BQU8sQ0FBQztxQkFDckI7b0JBQ0QsSUFBSSxDQUFDLGlCQUFpQixDQUFDLFFBQVEsQ0FBQyxZQUFZO3dCQUN4QyxzQkFBc0IsQ0FBQztpQkFDOUI7Z0JBRUQsS0FBSyxHQUFHLElBQUksQ0FBQyxZQUFZLENBQUMsbUJBQW1CLENBQUMsSUFBSSxDQUFDLGlCQUFpQixDQUFDLENBQUM7YUFDekU7U0FDSjthQUFNO1lBQ0gsSUFBSSxDQUFDLFlBQVksQ0FBQyxhQUFhLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDO1lBQ2xELElBQUksQ0FBQyxZQUFZLENBQUMsdUJBQXVCLEVBQUUsQ0FBQztTQUMvQztRQUVELElBQUksSUFBSSxDQUFDLFlBQVksRUFBRTtZQUNuQixJQUFJLENBQUMsWUFBWSxDQUFDLFFBQVEsQ0FBQyxVQUFVLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUM7U0FDbEU7YUFBTTtZQUNILElBQUksSUFBSSxDQUFDLFlBQVksSUFBSSxJQUFJLENBQUMsWUFBWSxDQUFDLEtBQUssRUFBRTtnQkFDOUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxRQUFRLENBQUMsVUFBVSxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsWUFBWSxDQUFDLEtBQUssQ0FBQzthQUN6RTtTQUNKO1FBRUQsMkJBQTJCO1FBQzNCLElBQUksSUFBSSxDQUFDLGVBQWUsRUFBRTtZQUN0QixJQUFJLENBQUMsT0FBTyxDQUFDLE9BQU87Ozs7WUFBQyxVQUFDLEdBQUc7Z0JBQ3JCLElBQUksS0FBSSxDQUFDLGVBQWUsQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLEVBQUU7b0JBQ2pDLEdBQUcsQ0FBQyxTQUFTLEdBQUcsS0FBSSxDQUFDLGVBQWUsQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUM7aUJBQ25EO1lBQ0wsQ0FBQyxFQUFDLENBQUM7WUFFSCxJQUFJLElBQUksQ0FBQyxlQUFlLENBQUMsU0FBUyxFQUFFO2dCQUNoQyxJQUFJLENBQUMsWUFBWSxDQUFDLFFBQVEsQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDLGVBQWUsQ0FBQyxTQUFTLENBQUM7YUFDekU7WUFFRCxJQUFJLElBQUksQ0FBQyxlQUFlLENBQUMsVUFBVSxFQUFFO2dCQUNqQyxJQUFJLENBQUMsWUFBWSxDQUFDLFFBQVEsQ0FBQyxVQUFVLEdBQUcsSUFBSSxDQUFDLGVBQWUsQ0FBQyxVQUFVLENBQUM7YUFDM0U7U0FDSjthQUFNO1lBQ0gsSUFBSSxPQUFPLENBQUMsWUFBWSxFQUFFO2dCQUNoQixJQUFBLHlCQUE2RCxFQUEzRCxxQkFBZSxFQUFFLHVCQUEwQzs7b0JBRTdELFVBQVE7Ozs7O2dCQUFHLFVBQUMsQ0FBQyxFQUFFLElBQUk7O3dCQUNmLENBQUMsR0FBRyxLQUFJLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsS0FBSyxFQUFFLElBQUksQ0FBQztvQkFDNUMsSUFBSSxPQUFPLENBQUMsS0FBSyxTQUFTLEVBQUU7d0JBQ3hCLElBQUksQ0FBQyxDQUFDLEtBQUssSUFBSSxHQUFHLElBQUksQ0FBQyxDQUFDLEtBQUssSUFBSSxHQUFHLElBQUksQ0FBQyxDQUFDLEtBQUssSUFBSSxNQUFNLElBQUksQ0FBQyxDQUFDLEtBQUssSUFBSSxPQUFPLEVBQUU7NEJBQzdFLE9BQU8sQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLEtBQUssSUFBSSxHQUFHLElBQUksQ0FBQyxDQUFDLEtBQUssSUFBSSxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUM7eUJBQ3RFO3dCQUNELE9BQU8sQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDO3FCQUMxQjtvQkFDRCxPQUFPLENBQUMsS0FBSyxDQUFDLENBQUMsS0FBSyxDQUFDO2dCQUN6QixDQUFDLENBQUE7Z0JBRUQsSUFBSSxZQUFVLEVBQUU7b0JBQ1osSUFBSSxDQUFDLFlBQVksQ0FBQyxRQUFRLENBQUMsU0FBUzs7OztvQkFBRyxVQUFDLEVBQVE7NEJBQU4sY0FBSTs7NEJBQ3BDLFNBQVMsR0FBRyxZQUFVLENBQUMsSUFBSTs7Ozt3QkFBQyxVQUFBLENBQUM7NEJBQy9CLE9BQU8sVUFBUSxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQzt3QkFDN0IsQ0FBQyxFQUFDO3dCQUNGLElBQUksU0FBUyxFQUFFOzRCQUNYLE9BQU8sU0FBUyxDQUFDLE1BQU0sQ0FBQzt5QkFDM0I7d0JBRUQsT0FBTyxJQUFJLENBQUM7b0JBQ2hCLENBQUMsQ0FBQSxDQUFBO2lCQUNKO2dCQUVELElBQUksYUFBVyxFQUFFO29CQUNiLElBQUksQ0FBQyxZQUFZLENBQUMsUUFBUSxDQUFDLFVBQVU7Ozs7O29CQUFHLFVBQUMsQ0FBQyxFQUFFLEtBQUs7d0JBQ3JDLElBQUEsYUFBSTs7NEJBQ04sU0FBUyxHQUFHLGFBQVcsQ0FBQyxNQUFNOzs7O3dCQUFDLFVBQUEsQ0FBQyxJQUFJLE9BQUEsQ0FBQyxDQUFDLEtBQUssS0FBSyxLQUFLLEVBQWpCLENBQWlCLEVBQUMsQ0FBQyxJQUFJOzs7O3dCQUFDLFVBQUEsQ0FBQzs0QkFDL0QsT0FBTyxVQUFRLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDO3dCQUM3QixDQUFDLEVBQUM7d0JBRUYsSUFBSSxTQUFTLEVBQUU7NEJBQ1gsT0FBTyxTQUFTLENBQUMsTUFBTSxDQUFDO3lCQUMzQjt3QkFFRCxPQUFPLElBQUksQ0FBQztvQkFDaEIsQ0FBQyxDQUFBLENBQUE7aUJBQ0o7YUFFSjtTQUNKO1FBRUQsdUNBQXVDO1FBQ3ZDLE9BQU8sS0FBSyxDQUFDO0lBQ2pCLENBQUM7SUFFRDs7T0FFRzs7Ozs7OztJQUNLLGdEQUFrQjs7Ozs7O0lBQTFCLFVBQTJCLE9BQXlCO1FBQ2hELElBQUksT0FBTyxDQUFDLFdBQVcsRUFBRTtZQUNyQixJQUFJLENBQUMsV0FBVyxHQUFHLE9BQU8sQ0FBQyxXQUFXLENBQUM7U0FDMUM7UUFFRCxnQ0FBZ0M7UUFDaEMsSUFBSSxJQUFJLENBQUMsS0FBSyxJQUFJLElBQUksQ0FBQyxLQUFLLEtBQUssVUFBVSxFQUFFO1lBQ3pDLElBQUksQ0FBQyxXQUFXLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUM7U0FDdkM7UUFFRCxJQUFJLElBQUksQ0FBQyxXQUFXLElBQUksT0FBTyxDQUFDLEtBQUssRUFBRTtZQUNuQyxJQUFJLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxLQUFLLEVBQUU7Z0JBQ3pCLElBQUksQ0FBQyxXQUFXLENBQUMsS0FBSyxHQUFHLE9BQU8sQ0FBQyxLQUFLLENBQUM7YUFDMUM7U0FDSjtJQUNMLENBQUM7Ozs7O0lBRU8sd0RBQTBCOzs7O0lBQWxDO1FBQ0ksSUFBSSxJQUFJLENBQUMsTUFBTSxFQUFFLElBQUksSUFBSSxDQUFDLFFBQVEsRUFBRTtZQUNoQyxJQUFJLENBQUMsc0JBQXNCO2dCQUN2QixJQUFJLENBQUMsUUFBUSxDQUFDLFlBQVksS0FBSyxLQUFLLElBQUksSUFBSSxDQUFDLFFBQVEsQ0FBQyxTQUFTLEtBQUssVUFBVSxDQUFDO1NBQ3RGO2FBQU07WUFDSCxJQUFJLENBQUMsc0JBQXNCLEdBQUcsS0FBSyxDQUFDO1NBQ3ZDO0lBQ0wsQ0FBQzs7OztJQUVELHNDQUFROzs7SUFBUjtRQUFBLGlCQTRMQzs7WUExTFMsUUFBUSxHQUFHO1lBQ2IsSUFBSTs7OztZQUFFLFVBQUMsSUFBc0I7Z0JBRXpCLElBQUksSUFBSSxLQUFLLEtBQUssRUFBRTtvQkFDaEIsSUFBSSxDQUFDLEtBQUksQ0FBQyxPQUFPLElBQUksQ0FBQyxLQUFJLENBQUMsT0FBTyxDQUFDLE1BQU0sRUFBRTt3QkFDdkMsS0FBSSxDQUFDLFlBQVksRUFBRSxDQUFDO3dCQUNwQixLQUFJLENBQUMsV0FBVyxFQUFFLENBQUM7d0JBQ25CLElBQUksQ0FBQyxLQUFJLENBQUMsZUFBZSxDQUFDLE1BQU0sSUFBSSxDQUFDLEtBQUksQ0FBQyxlQUFlLENBQUMsTUFBTSxDQUFDLE1BQU0sRUFBRTs0QkFDckUsS0FBSSxDQUFDLGFBQWEsQ0FBQyxLQUFLLENBQUMsRUFBQyxHQUFHLEVBQUUsS0FBSSxDQUFDLFlBQVksQ0FBQyxRQUFRLENBQUMsb0JBQW9CLENBQUMsRUFBRyxPQUFPLEVBQUUsSUFBSSxFQUFDLENBQUMsQ0FBQzt5QkFDckc7d0JBQ0QsT0FBTztxQkFDVjtpQkFDSjtnQkFFRCwyQkFBMkI7Z0JBQzNCLElBQUksSUFBSSxLQUFLLElBQUksRUFBRTtvQkFDZixLQUFJLENBQUMsTUFBTSxHQUFHLEtBQUssQ0FBQztvQkFDcEIsSUFBSSxLQUFJLENBQUMsTUFBTSxFQUFFO3dCQUNiLEtBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxFQUFFLENBQUM7cUJBQ3ZCO29CQUNELE9BQU87aUJBQ1Y7Z0JBQ0QsS0FBSSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsQ0FBQyxTQUFTOzs7Z0JBQUM7b0JBQzdCLEtBQUksQ0FBQyxlQUFlLEdBQUcsS0FBSSxDQUFDLFdBQVcsQ0FBQyxtQkFBbUIsRUFBRSxDQUFDO29CQUM5RCw4REFBOEQ7b0JBRTlELElBQUksS0FBSSxDQUFDLGdCQUFnQixFQUFFO3dCQUN2QixJQUFJLENBQUMsS0FBSSxDQUFDLHFCQUFxQixDQUFDLGVBQWUsRUFBRSxFQUFFOzRCQUMvQyxLQUFJLENBQUMscUJBQXFCLENBQUMsa0JBQWtCLENBQ3pDLEtBQUksQ0FBQyxZQUFZLENBQ3BCLENBQUM7eUJBQ0w7cUJBQ0o7b0JBQ0QsSUFBSSxDQUFDLEtBQUksQ0FBQyxZQUFZLEVBQUU7d0JBQ3BCLEtBQUksQ0FBQyxrQkFBa0IsQ0FBQyxjQUFjLENBQ2xDLElBQUksQ0FBQyxhQUFhLElBQUksRUFBRSxDQUMzQixDQUFDO3FCQUNMO29CQUVELElBQUksS0FBSSxDQUFDLGFBQWEsRUFBRSxFQUFFO3dCQUN0Qiw0QkFBNEI7d0JBQzVCLElBQUksS0FBSSxDQUFDLGNBQWMsSUFBSSxLQUFJLENBQUMsZ0JBQWdCLEVBQUU7NEJBQzlDLEtBQUksQ0FBQyxnQkFBZ0IsR0FBRyxLQUFLLENBQUM7eUJBQ2pDO3FCQUNKO29CQUVELElBQUksSUFBSSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsS0FBSSxDQUFDLFlBQVksRUFBRTt3QkFDekMsS0FBSSxDQUFDLFNBQVMsR0FBRyxVQUFVLENBQUM7d0JBRTVCLElBQUksS0FBSSxDQUFDLFlBQVksSUFBSSxLQUFJLENBQUMsWUFBWSxDQUFDLFFBQVEsS0FBSyxLQUFJLENBQUMsU0FBUyxFQUFFOzRCQUNwRSxLQUFJLENBQUMsWUFBWSxDQUFDLFFBQVEsR0FBRyxLQUFJLENBQUMsU0FBUyxDQUFDO3lCQUMvQztxQkFFSjtvQkFFRCxLQUFJLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxDQUFDO29CQUVwQixJQUFJLEtBQUksQ0FBQyxNQUFNLEVBQUUsRUFBRTt3QkFDZixJQUFJLEtBQUksQ0FBQyxTQUFTLEtBQUssVUFBVSxFQUFFOztnQ0FDekIsRUFBRSxHQUFHLG1CQUFBLEtBQUksQ0FBQyxZQUFZLENBQUMsUUFBUSxFQUFzQjs0QkFDM0QsSUFBSSxFQUFFLENBQUMsVUFBVSxDQUFDLEtBQUssSUFBSSxLQUFJLENBQUMsS0FBSyxJQUFJLEtBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxFQUFFO2dDQUN4RCxJQUFJLEtBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsUUFBUSxJQUFJLEtBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsUUFBUSxDQUFDLE1BQU0sRUFBRTtvQ0FDekQsRUFBRSxDQUFDLFlBQVksQ0FBQyxLQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxFQUFFLElBQUksRUFBRSxLQUFLLENBQUMsQ0FBQztpQ0FDL0M7NkJBQ0o7eUJBQ0o7d0JBQ0QsS0FBSSxDQUFDLDBCQUEwQixFQUFFLENBQUM7cUJBRXJDO29CQUNELEtBQUksQ0FBQyxZQUFZLEdBQUcsS0FBSyxDQUFDO29CQUMxQixLQUFJLENBQUMsYUFBYSxHQUFHLElBQUksQ0FBQyxDQUFDLFlBQVk7b0JBQ3ZDLEtBQUksQ0FBQyxZQUFZLEVBQUUsQ0FBQztvQkFDcEIsNEJBQTRCO29CQUM1QixLQUFJLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQztvQkFDcEIsS0FBSSxDQUFDLGNBQWMsQ0FBQyxhQUFhLEVBQUUsQ0FBQztvQkFDcEMsS0FBSSxDQUFDLDJCQUEyQixDQUFDLElBQUksRUFBRSxDQUFDO29CQUV4QyxJQUFJLEtBQUksQ0FBQyxTQUFTLEVBQUU7d0JBQ2hCLEtBQUksQ0FBQyxTQUFTLENBQUMsZUFBZSxFQUFFLENBQUM7cUJBQ3BDO2dCQUNMLENBQUMsRUFBQyxDQUFDO1lBQ1AsQ0FBQyxDQUFBO1lBQ0QsS0FBSzs7OztZQUFFLFVBQUMsR0FBUTtnQkFDWiw0QkFBNEI7Z0JBQzVCLEtBQUksQ0FBQyxZQUFZLEVBQUUsQ0FBQztnQkFDcEIsS0FBSSxDQUFDLGFBQWEsR0FBRyxJQUFJLENBQUMsQ0FBQyxZQUFZO2dCQUN2QyxLQUFJLENBQUMsWUFBWSxHQUFHLEtBQUssQ0FBQztnQkFFMUIsS0FBSSxDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUM7Z0JBQ3JCLEtBQUksQ0FBQyxjQUFjLENBQUMsYUFBYSxFQUFFLENBQUM7Z0JBQ3BDLElBQUksT0FBTyxHQUFHLEtBQUssUUFBUSxFQUFFO29CQUN6QixLQUFJLENBQUMsZUFBZSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQztpQkFDbkM7cUJBQU07b0JBQ0gsSUFBSSxHQUFHLEVBQUU7d0JBQ0wsSUFBSSxHQUFHLENBQUMsT0FBTyxFQUFFOzRCQUNiLEtBQUksQ0FBQyxlQUFlLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxPQUFPLENBQUMsQ0FBQzt5QkFDM0M7NkJBQU07NEJBQ0gsSUFBSSxHQUFHLENBQUMsS0FBSyxFQUFFO2dDQUNYLEtBQUksQ0FBQyxlQUFlLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQzs2QkFDN0M7aUNBQU07Z0NBQ0gsS0FBSSxDQUFDLGVBQWUsQ0FBQyxLQUFLLENBQ3RCLG1CQUFtQixDQUN0QixDQUFDOzZCQUNMO3lCQUNKO3FCQUNKO2lCQUNKO1lBQ0wsQ0FBQyxDQUFBO1NBQ0o7O1lBRUcsQ0FBQyxHQUFRO1lBQ1QsUUFBUSxFQUFFO2dCQUNOLFFBQVEsRUFBRSxJQUFJLENBQUMsUUFBUSxJQUFJLEVBQUU7Z0JBQzdCLFNBQVMsRUFBRSxDQUFDO2FBQ2Y7U0FDSjs7WUFDRyxDQUFDLEdBQW1CLEtBQUs7UUFDN0IsSUFBSSxJQUFJLENBQUMsWUFBWSxFQUFFO1lBQ25CLElBQUksQ0FBQyxZQUFZLEdBQUc7Z0JBQ2hCLEtBQUssRUFBRSxHQUFHO2dCQUNWLEtBQUssRUFBRSxJQUFJLENBQUMsV0FBVzthQUMxQixDQUFBO1NBQ0o7UUFFRCxlQUFlO1FBQ2YsSUFBSSxJQUFJLENBQUMsTUFBTSxFQUFFLElBQUksSUFBSSxDQUFDLFdBQVcsS0FBSyxxQkFBcUIsQ0FBQyxXQUFXLEVBQUU7WUFDekUsSUFBSSxJQUFJLENBQUMsV0FBVyxHQUFHLENBQUMsQ0FBQyxFQUFFO2dCQUN2QixDQUFDLENBQUMsYUFBYSxDQUFDLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQzthQUN2QztTQUNKO1FBRUQsSUFBSSxJQUFJLENBQUMsWUFBWSxJQUFJLElBQUksQ0FBQyxZQUFZLENBQUMsS0FBSyxFQUFFO1lBQzlDLENBQUMsQ0FBQyxRQUFRLENBQUMsR0FBRyxJQUFJLENBQUMsWUFBWSxDQUFDO1lBQ2hDLENBQUMsR0FBRyxRQUFRLENBQUM7WUFFYixtRkFBbUY7WUFDbkYsMkJBQTJCO1lBQzNCLHlDQUF5QztZQUN6Qyw0Q0FBNEM7WUFDNUMsMEJBQTBCO1lBQzFCLDBCQUEwQjtZQUMxQix5QkFBeUI7WUFDekIsdUJBQXVCO1lBQ3ZCLFVBQVU7WUFDVixJQUFJO1NBQ1A7UUFHRCxJQUFJLENBQUMsSUFBSSxDQUFDLFlBQVksSUFBSSxJQUFJLENBQUMsY0FBYyxFQUFFOztnQkFDckMsSUFBSSxHQUFHLElBQUksQ0FBQyxZQUFZLENBQUMsY0FBYyxFQUFFO1lBQy9DLElBQUksSUFBSSxJQUFJLElBQUksQ0FBQyxNQUFNLEVBQUU7Z0JBQ3JCLENBQUMsQ0FBQyxjQUFjLENBQUMsR0FBRztvQkFDaEIsUUFBUSxFQUFFLElBQUk7b0JBQ2QsV0FBVyxFQUFFLElBQUk7aUJBQ3BCLENBQUM7YUFDTDtpQkFBTTtnQkFDSCxJQUFJLElBQUksQ0FBQyxhQUFhLENBQUMsRUFBRTtvQkFDckIsQ0FBQyxDQUFDLGNBQWMsQ0FBQyxHQUFHO3dCQUNoQixRQUFRLEVBQUUsSUFBSTt3QkFDZCxXQUFXLEVBQUUsSUFBSSxDQUFDLGFBQWEsQ0FBQztxQkFDbkMsQ0FBQztpQkFDTDthQUNKO1NBQ0o7UUFFRCxJQUFJLENBQUMsV0FBVyxFQUFFLENBQUM7UUFDbkIsSUFBSSxDQUFDLFFBQVEsR0FBRyxLQUFLLENBQUM7UUFFdEIsSUFBSSxDQUFDLE9BQU8sQ0FBQyxhQUFhLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FDakMsR0FBRzs7OztRQUFDLFVBQUMsUUFBMEI7WUFDM0IsSUFBSSxRQUFRLEVBQUU7Z0JBQ1YsUUFBUSxDQUFDLGFBQWEsR0FBRyxRQUFRLENBQUMsY0FBYyxDQUFDLElBQUksRUFBRSxDQUFDO2FBQzNEO2lCQUFNO2dCQUNILElBQUksUUFBUSxJQUFJLE9BQU8sUUFBUSxLQUFLLFFBQVEsRUFBRTtvQkFDMUMsUUFBUSxDQUFDLGFBQWEsR0FBRyxFQUFFLENBQUM7aUJBQy9CO2FBQ0o7WUFDRCxPQUFPLFFBQVEsS0FBSyxJQUFJLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsUUFBUSxDQUFDO1FBQ2hELENBQUMsRUFBQyxFQUNGLFNBQVM7Ozs7UUFBQyxVQUFDLEdBQXFCO1lBQzVCLElBQUksS0FBSSxDQUFDLGNBQWMsRUFBRTtnQkFDckIsT0FBTyxLQUFJLENBQUMsY0FBYyxDQUFDLEVBQUMsUUFBUSxFQUFFLEtBQUksRUFBRSxHQUFHLEtBQUEsRUFBQyxDQUFDLENBQUM7YUFDckQ7WUFDRCxPQUFPLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUNuQixDQUFDLEVBQUMsQ0FDTCxDQUFDLFNBQVMsQ0FBQyxRQUFRLENBQUMsQ0FBQztJQUMxQixDQUFDOzs7Ozs7SUFFRCxzQ0FBUTs7Ozs7SUFBUixVQUFTLE9BQTBCLEVBQUUsV0FBa0I7UUFBbEIsNEJBQUEsRUFBQSxrQkFBa0I7UUFDbkQsSUFBSSxJQUFJLENBQUMsU0FBUyxLQUFLLFVBQVUsRUFBRTtZQUMvQixJQUFJLElBQUksQ0FBQyxXQUFXLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFLEVBQUU7Z0JBQ3BDLElBQUksQ0FBQyxTQUFTLENBQUMscUJBQXFCLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxDQUFDO2FBQ3ZEO1lBRUQsUUFBUSxJQUFJLENBQUMsV0FBVyxFQUFFO2dCQUN0QixLQUFLLHFCQUFxQixDQUFDLE9BQU8sQ0FBQztnQkFDbkMsS0FBSyxxQkFBcUIsQ0FBQyxXQUFXLENBQUM7Z0JBQ3ZDLEtBQUsscUJBQXFCLENBQUMsSUFBSTtvQkFDM0IsSUFBSSxDQUFDLGlCQUFpQixDQUFDLE9BQU8sQ0FBQyxDQUFDO29CQUNoQyxJQUFJLFdBQVcsRUFBRTt3QkFDYixJQUFJLENBQUMsVUFBVSxDQUFDLGtCQUFrQixFQUFFLENBQUM7cUJBQ3hDO29CQUNELE1BQU07Z0JBQ1YsS0FBSyxxQkFBcUIsQ0FBQyxRQUFRLENBQUM7Z0JBQ3BDLEtBQUsscUJBQXFCLENBQUMsV0FBVztvQkFDbEMsSUFBSSxDQUFDLGlCQUFpQixDQUFDLE9BQU8sRUFBRSxXQUFXLENBQUMsQ0FBQztvQkFDN0MsTUFBTTthQUNiO1NBQ0o7YUFBTSxJQUFJLElBQUksQ0FBQyxTQUFTLEtBQUssVUFBVSxFQUFFO1lBQ3RDLElBQUksQ0FBQyxXQUFXLENBQUMsT0FBTyxDQUFDLENBQUM7U0FDN0I7UUFFRCxPQUFPO1FBQ1AsSUFBSSxDQUFDLFlBQVksQ0FBQyxrQkFBa0IsRUFBRSxDQUFDO0lBQzNDLENBQUM7Ozs7OztJQUVPLHlDQUFXOzs7OztJQUFuQixVQUFvQixNQUF3QjtRQUE1QyxpQkF5QkM7UUF4QkcsU0FBUztRQUNULElBQUksSUFBSSxDQUFDLFdBQVcsRUFBRTtZQUNsQixJQUFJLElBQUksQ0FBQyxNQUFNLEVBQUUsRUFBRTtnQkFDZixJQUFJLENBQUMsV0FBVyxDQUFDLE1BQU0sQ0FBQyxDQUFDOztvQkFDbkIsU0FBUyxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsb0JBQW9CLENBQ2pELE1BQU0sQ0FBQyxLQUFLLENBQ2Y7O29CQUNLLFFBQVEsR0FBRyxJQUFJLENBQUMsY0FBYztxQkFDL0IsYUFBYSxDQUFDLFNBQVMsQ0FBQztxQkFDeEIsR0FBRzs7OztnQkFBQyxVQUFDLENBQUM7b0JBQ0gsQ0FBQyxDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsR0FBRyxDQUFDLENBQUMsV0FBVyxDQUFDLENBQUM7b0JBQ3ZDLE9BQU8sQ0FBQyxDQUFDLElBQUksQ0FBQztnQkFDbEIsQ0FBQyxFQUFDO2dCQUNOLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxpQkFBaUIsQ0FBQyxRQUFRLENBQUMsQ0FBQztnQkFFcEQsVUFBVTs7O2dCQUFDO29CQUNQLEtBQUksQ0FBQyxxQkFBcUIsQ0FBQyxRQUFRLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFDO2dCQUNyRCxDQUFDLEVBQUMsQ0FBQzthQUNOO2lCQUFNO2dCQUNILElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxpQkFBaUIsQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUM7YUFDM0Q7WUFFRCxJQUFJLENBQUMsU0FBUyxDQUFDLGlCQUFpQixDQUFDLE1BQU0sQ0FBQyxDQUFDO1NBQzVDO0lBQ0wsQ0FBQzs7Ozs7SUFFRCwrQ0FBaUI7Ozs7SUFBakIsVUFBa0IsT0FBMEI7UUFDeEMsSUFBSSxPQUFPLEVBQUU7WUFDVCxJQUFJLElBQUksQ0FBQyxXQUFXLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFLEVBQUU7Z0JBQ3BDLElBQUksQ0FBQyxTQUFTLENBQUMscUJBQXFCLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxDQUFDO2FBQ3ZEO1lBQ0QsSUFBSSxJQUFJLENBQUMsV0FBVyxFQUFFO2dCQUNsQixJQUFJLE9BQU8sSUFBSSxPQUFPLENBQUMsT0FBTyxJQUFJLE9BQU8sQ0FBQyxPQUFPLENBQUMsTUFBTSxFQUFFO29CQUN0RCxJQUNJLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxPQUFPO3dCQUN6QixDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsT0FBTyxDQUFDLE1BQU0sRUFDbEM7d0JBQ0UsSUFBSSxDQUFDLE9BQU8sR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDO3FCQUNsQztpQkFDSjtnQkFFRCxJQUFJLENBQUMsS0FBSyxHQUFHLE9BQU8sQ0FBQyxLQUFLLENBQUM7Z0JBQzNCLElBQUksQ0FBQyxLQUFLLEdBQUcsT0FBTyxDQUFDLEtBQUssSUFBSSxPQUFPLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQztnQkFDbkQsSUFBSyxPQUFPLENBQUMsWUFBWSxFQUFHO29CQUN4QixJQUFJLENBQUMsV0FBVyxDQUFDLFlBQVksR0FBRyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsT0FBTyxDQUFDLENBQUM7aUJBQ2xFO2dCQUNELElBQUksT0FBTyxDQUFDLFFBQVEsRUFBRTtvQkFDbEIsSUFDSSxPQUFPLENBQUMsUUFBUSxDQUFDLFFBQVE7d0JBQ3pCLENBQUMsQ0FBQyxJQUFJLENBQUMsUUFBUSxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxNQUFNLENBQUMsRUFDM0M7d0JBQ0UsSUFBSSxDQUFDLFFBQVEsR0FBRyxPQUFPLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQztxQkFDN0M7b0JBQ0QsSUFBSSxDQUFDLFVBQVUsR0FBRyxPQUFPLENBQUMsUUFBUSxDQUFDLFdBQVcsQ0FBQztvQkFDL0MsSUFBSSxDQUFDLFNBQVMsR0FBRyxPQUFPLENBQUMsUUFBUSxDQUFDLFNBQVMsQ0FBQztvQkFDNUMsSUFBSSxDQUFDLFFBQVEsR0FBRyxPQUFPLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQztpQkFDN0M7cUJBQU07b0JBQ0gsSUFBSSxDQUFDLFVBQVUsR0FBRyxLQUFLLENBQUM7aUJBQzNCO2FBQ0o7aUJBQU07Z0JBQ0gsSUFBSSxDQUFDLFdBQVcsR0FBRyxtQkFBQSxPQUFPLEVBQXFCLENBQUM7YUFDbkQ7U0FDSjtRQUVELElBQUksQ0FBQyxlQUFlLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDO0lBQzNDLENBQUM7Ozs7OztJQUVPLDZDQUFlOzs7OztJQUF2QixVQUF3QixJQUFTO1FBQzdCLElBQUksSUFBSSxFQUFFOztnQkFDQSxFQUFFLEdBQUcsbUJBQUEsSUFBSSxDQUFDLFlBQVksQ0FBQyxRQUFRLEVBQXNCO1lBRTNELElBQUksQ0FBQyxFQUFFLENBQUMsT0FBTyxJQUFJLEVBQUUsQ0FBQyxPQUFPLENBQUMsTUFBTSxLQUFLLENBQUMsRUFBRTtnQkFDeEMsRUFBRSxDQUFDLE9BQU8sR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDLE9BQU8sQ0FBQzthQUN6QztZQUNELEVBQUUsQ0FBQyxlQUFlLEdBQUcsSUFBSSxDQUFDLGVBQWUsQ0FBQztZQUMxQyxFQUFFLENBQUMsWUFBWSxHQUFHLElBQUksQ0FBQyxZQUFZLENBQUM7WUFDcEMsRUFBRSxDQUFDLFVBQVUsR0FBRyxJQUFJLENBQUMsVUFBVSxDQUFDO1lBQ2hDLEVBQUUsQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQztZQUM1QixFQUFFLENBQUMsVUFBVSxHQUFHLElBQUksQ0FBQyxVQUFVLENBQUM7WUFDaEMsRUFBRSxDQUFDLE9BQU8sR0FBRyxJQUFJLENBQUMsc0JBQXNCLENBQUM7WUFFekMsSUFBSSxJQUFJLENBQUMsZ0JBQWdCLEVBQUU7Z0JBQ3ZCLEVBQUUsQ0FBQyxRQUFRLENBQUM7b0JBQ1IsUUFBUSxFQUFFLElBQUksQ0FBQyxRQUFRO29CQUN2QixTQUFTLEVBQUUsSUFBSSxDQUFDLFdBQVcsQ0FBQyxTQUFTO29CQUNyQyxLQUFLLEVBQUUsSUFBSSxDQUFDLFdBQVcsQ0FBQyxLQUFLO29CQUM3QixJQUFJLEVBQUUsSUFBSSxDQUFDLFdBQVcsQ0FBQyxLQUFLO2lCQUMvQixDQUFDLENBQUM7Z0JBQ0gsRUFBRSxDQUFDLEVBQUUsQ0FBQyxZQUFZLEVBQUUsQ0FBQzthQUN4QjtZQUNELElBQUksQ0FBQyxXQUFXLENBQUMsSUFBSSxFQUFFLENBQUM7U0FDM0I7SUFDTCxDQUFDOzs7Ozs7SUFFTyx5Q0FBVzs7Ozs7SUFBbkIsVUFBb0IsT0FBTztRQUN2QixJQUFJLENBQUMsT0FBTyxFQUFFO1lBQ1YsT0FBTztTQUNWOztZQUVHLFNBQVMsR0FBRyxJQUFJO1FBQ3BCLElBQUksT0FBTyxDQUFDLFFBQVEsRUFBRTs7Z0JBQ1osY0FBYyxHQUFHLE9BQU8sQ0FBQyxRQUFRLENBQUMsY0FBYzs7Z0JBQ2xELElBQUksR0FBcUIsSUFBSTtZQUNqQyxJQUFJLGNBQWMsS0FBSyxTQUFTLEVBQUU7Z0JBQzlCLElBQUksR0FBRyxjQUFjLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDO2FBQ3hDO1lBQ0QsU0FBUyx3QkFBUSxPQUFPLENBQUMsUUFBUSxJQUFFLGNBQWMsRUFBRSxJQUFJLEdBQUUsQ0FBQztTQUM3RDs7WUFFSyxRQUFRLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxRQUFRO1FBQzFDLElBQUksUUFBUSxFQUFFO1lBQ1YsSUFDSSxRQUFRLENBQUMsY0FBYyxLQUFLLFNBQVM7Z0JBQ3JDLFFBQVEsQ0FBQyxjQUFjLEtBQUssSUFBSSxFQUNsQztnQkFDRSxRQUFRLENBQUMsY0FBYyxHQUFHLElBQUksQ0FBQzthQUNsQztZQUVELElBQUksT0FBTyxRQUFRLENBQUMsY0FBYyxLQUFLLFNBQVMsRUFBRTtnQkFDOUMsUUFBUSxDQUFDLGNBQWMsR0FBRyxRQUFRLENBQUMsY0FBYyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQzthQUNwRTtZQUVELFdBQVc7WUFDWCxJQUFJLElBQUksQ0FBQyxnQkFBZ0IsS0FBSyxTQUFTLEVBQUU7Z0JBQ3JDLFFBQVEsQ0FBQyxZQUFZLEdBQUcsU0FBUyxDQUFDLFlBQVksQ0FBQzthQUNsRDtpQkFBTTtnQkFDSCxRQUFRLENBQUMsWUFBWSxHQUFHLElBQUksQ0FBQyxnQkFBZ0IsS0FBSyxTQUFTLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDO2dCQUM5RSxTQUFTLENBQUMsWUFBWSxHQUFHLFFBQVEsQ0FBQyxZQUFZLENBQUE7YUFDakQ7WUFFRCxJQUFJLFFBQVEsQ0FBQyxjQUFjLEtBQUssU0FBUyxFQUFFO2dCQUN2QyxTQUFTLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQyxTQUFTLEVBQUUsUUFBUSxDQUFDLENBQUM7YUFDbEQ7U0FDSjthQUFNO1lBQ0gsSUFBSSxJQUFJLENBQUMsZ0JBQWdCLEtBQUssU0FBUyxFQUFFO2dCQUNyQyxTQUFTLENBQUMsWUFBWSxHQUFHLElBQUksQ0FBQyxnQkFBZ0IsS0FBSyxTQUFTLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDO2FBQ2xGO1NBQ0o7UUFFRCxJQUFJLENBQUMsUUFBUSxHQUFHLFNBQVMsQ0FBQztJQUM5QixDQUFDOzs7Ozs7O0lBRU8sK0NBQWlCOzs7Ozs7SUFBekIsVUFBMEIsT0FBMEIsRUFBRSxXQUFrQjtRQUF4RSxpQkErREM7UUEvRHFELDRCQUFBLEVBQUEsa0JBQWtCOztZQUM5RCxLQUFLLEdBQUcsT0FBTyxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLEtBQUs7UUFDOUQsSUFBSSxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUM7UUFFbkIsSUFBSSxPQUFPLEVBQUU7WUFDVCxJQUFJLENBQUMsV0FBVyxDQUFDLE9BQU8sQ0FBQyxDQUFDOztnQkFFcEIsUUFBUSxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsUUFBUTtZQUMxQyxJQUFJLENBQUMsUUFBUSxDQUFDLGdCQUFnQixDQUFDLEVBQUU7Z0JBQzdCLElBQUksUUFBUSxDQUFDLFNBQVMsQ0FBQyxXQUFXLEVBQUUsS0FBSyxVQUFVLEVBQUU7b0JBQ2pELElBQUksQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxRQUFRLENBQ2xDLElBQUksQ0FBQyxLQUFLLEVBQ1YsUUFBUSxDQUNYLENBQUM7aUJBQ0w7cUJBQU07b0JBQ0gsSUFBSSxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDLG9CQUFvQixDQUM5QyxJQUFJLENBQUMsS0FBSyxFQUNWLEVBQUUsRUFDRixRQUFRLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBSSxRQUFRLENBQUMsU0FBUyxTQUFJLFFBQVEsQ0FBQyxXQUFhLENBQUEsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxXQUFXLEVBQzFGLElBQUksQ0FBQyxPQUFPLENBQ2YsQ0FBQztpQkFDTDthQUNKO1NBQ0o7UUFFRCxJQUFJLElBQUksQ0FBQyxZQUFZLENBQUMsUUFBUSxZQUFZLGtCQUFrQixFQUFFOztnQkFDcEQsSUFBRSxHQUFHLG1CQUFBLElBQUksQ0FBQyxZQUFZLENBQUMsUUFBUSxFQUFzQjtZQUMzRCxJQUFJLElBQUksQ0FBQyxRQUFRLEVBQUU7Z0JBQ2YsSUFBRSxDQUFDLFlBQVksR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDLFlBQVksQ0FBQzthQUNoRDtZQUVELElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxNQUFNLEVBQUU7Z0JBQ3ZDLElBQUUsQ0FBQyxPQUFPLEdBQUcsT0FBTyxDQUFDLE9BQU8sSUFBSSxFQUFFLENBQUM7Z0JBQ25DLElBQUksQ0FBQyxXQUFXLENBQUMsT0FBTyxHQUFHLElBQUUsQ0FBQyxPQUFPLENBQUM7YUFDekM7O2dCQUVLLGlCQUFpQjs7O1lBQUc7Z0JBQ3RCLElBQUksS0FBSSxDQUFDLGdCQUFnQixLQUFLLFNBQVMsRUFBRTtvQkFDckMsT0FBTyxJQUFFLENBQUMsWUFBWSxLQUFLLEtBQUssQ0FBQztpQkFDcEM7cUJBQU07b0JBQ0gsT0FBTyxLQUFJLENBQUMsZ0JBQWdCLEtBQUssU0FBUyxDQUFDO2lCQUM5QztZQUNMLENBQUMsQ0FBQTtZQUVELElBQUksV0FBVyxFQUFFO2dCQUNiLElBQUksQ0FBQyxVQUFVLENBQUMsa0JBQWtCLEVBQUUsQ0FBQzthQUN4Qzs7Z0JBQ0ssU0FBUyxHQUFHLGlCQUFpQixFQUFFO1lBRXJDLGdDQUFnQztZQUVoQyxJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxvQkFBb0IsQ0FBQyxJQUFJLENBQUMsS0FBSyxFQUFFLFNBQVMsQ0FBQyxDQUFDO1lBQzlELElBQUUsQ0FBQyxVQUFVLEdBQUcsSUFBSSxDQUFDO1lBRXJCLElBQUksSUFBSSxDQUFDLFdBQVcsRUFBRTtnQkFDbEIsSUFBSSxDQUFDLFNBQVMsQ0FBQyxxQkFBcUIsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7YUFDcEQ7WUFFRCxJQUFJLElBQUksQ0FBQyxnQkFBZ0IsRUFBRTtnQkFDdkIsSUFBRSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7YUFDM0I7WUFDRCxJQUFFLENBQUMsTUFBTSxFQUFFLENBQUM7U0FDZjtJQUNMLENBQUM7SUFFRDs7OztPQUlHOzs7Ozs7Ozs7SUFDSCxrREFBb0I7Ozs7Ozs7O0lBQXBCLFVBQXFCLEtBQUssRUFBRSxhQUFxQjtRQUFqRCxpQkFtQkM7UUFuQjJCLDhCQUFBLEVBQUEscUJBQXFCO1FBQzdDLElBQUksS0FBSyxJQUFJLEtBQUssQ0FBQyxNQUFNLEVBQUU7WUFDdkIsT0FBTyxLQUFLLENBQUMsR0FBRzs7OztZQUFDLFVBQUMsSUFBYztnQkFDNUIsSUFBSSxJQUFJLENBQUMsY0FBYyxDQUFDLFdBQVcsQ0FBQyxFQUFFO29CQUNsQyxJQUFJLENBQUMsVUFBVSxHQUFHLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDO2lCQUN4QztnQkFFRCxJQUFJLElBQUksQ0FBQyxRQUFRLElBQUksSUFBSSxDQUFDLFFBQVEsQ0FBQyxNQUFNLEVBQUU7b0JBQ3ZDLEtBQUksQ0FBQyxvQkFBb0IsQ0FBQyxJQUFJLENBQUMsUUFBUSxFQUFFLGFBQWEsQ0FBQyxDQUFDO2lCQUMzRDtxQkFBTTtvQkFDSCxJQUFJLGFBQWEsSUFBSSxDQUFDLENBQUMsS0FBSSxDQUFDLFlBQVksSUFBSSxDQUFDLEtBQUksQ0FBQyxZQUFZLENBQUMsS0FBSyxDQUFDLEVBQUU7d0JBQ25FLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDO3FCQUNwQjtpQkFDSjtnQkFFRCxPQUFPLElBQUksQ0FBQztZQUNoQixDQUFDLEVBQUMsQ0FBQztTQUNOO1FBQ0QsT0FBTyxLQUFLLENBQUM7SUFDakIsQ0FBQzs7Ozs7SUFFRCx1Q0FBUzs7OztJQUFULFVBQVUsR0FBRztRQUNULElBQUksQ0FBQyxHQUFHLEVBQUU7WUFDTixJQUFJLENBQUMsT0FBTyxFQUFFLENBQUM7U0FDbEI7YUFBTTtZQUNILElBQUksQ0FBQyxXQUFXLEdBQUcsR0FBRyxDQUFDO1lBQ3ZCLElBQUksQ0FBQyxZQUFZLEdBQUcsSUFBSSxDQUFDLFlBQVksS0FBSyxJQUFJLENBQUMsV0FBVyxDQUFDO1lBQzNELElBQUksSUFBSSxDQUFDLFFBQVEsRUFBRTtnQkFDZixJQUFJLENBQUMsYUFBYSxDQUFDLEdBQUcsQ0FBQyxDQUFDO2dCQUN4QixJQUFJLENBQUMsYUFBYSxDQUFDLElBQUksQ0FBQyxFQUFFLFFBQVEsRUFBRSxJQUFJLEVBQUUsS0FBSyxFQUFFLEdBQUcsR0FBRyxDQUFDLENBQUM7YUFDNUQ7WUFFRCxJQUFJLENBQUMsY0FBYyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBQ3pCLElBQUksQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBQzVCLElBQUksQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1NBQzlCO0lBQ0wsQ0FBQzs7Ozs7SUFHRCxxQ0FBTzs7OztJQUFQLFVBQVEsSUFBVztRQUFYLHFCQUFBLEVBQUEsV0FBVztRQUNmLElBQUksQ0FBQyxZQUFZLEdBQUcsS0FBSyxDQUFDO1FBQzFCLElBQUksQ0FBQyxXQUFXLEdBQUcsRUFBRSxDQUFDO1FBQ3RCLElBQUksQ0FBQyxZQUFZLEdBQUcsRUFBRSxDQUFDO1FBQ3ZCLElBQUksQ0FBQyxZQUFZLEdBQUcsRUFBRSxDQUFDO1FBQ3ZCLElBQUksQ0FBQyxVQUFVLEdBQUcsRUFBRSxDQUFDO1FBQ3JCLElBQUksQ0FBQyxhQUFhLENBQUMsRUFBRSxDQUFDLENBQUM7UUFDdkIsSUFBSSxJQUFJLENBQUMsU0FBUyxFQUFFO1lBQ2hCLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQztTQUN4QzthQUFNO1lBQ0gsSUFBSSxJQUFJLENBQUMsU0FBUyxFQUFFOztvQkFDVixXQUFXLEdBQUcsSUFBSSxDQUFDLFlBQVksQ0FBQyxjQUFjLEVBQUU7Z0JBQ3RELElBQUksV0FBVyxFQUFFO29CQUNiLElBQUksQ0FBQyxjQUFjLENBQUMsY0FBYyxDQUM5QixJQUFJLEVBQ0osSUFBSSxDQUFDLFNBQVMsRUFDZCxXQUFXLENBQ2QsQ0FBQztpQkFDTDthQUNKO1NBQ0o7UUFDRCxJQUFJLENBQUMsV0FBVyxDQUFDLEtBQUssRUFBRSxDQUFDO1FBQ3pCLElBQUksSUFBSSxFQUFFO1lBQ04sSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLEVBQUUsQ0FBQztTQUNyQjtJQUNMLENBQUM7Ozs7O0lBRUQsd0NBQVU7Ozs7SUFBVixVQUFXLElBQVc7UUFBWCxxQkFBQSxFQUFBLFdBQVc7UUFDbEIsSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUN2QixDQUFDOzs7OztJQUVELHdDQUFVOzs7O0lBQVYsVUFBVyxPQUFhO1FBQXhCLGlCQXlDQzs7WUF4Q08sV0FBVyxHQUFHLElBQUk7UUFDdEIsSUFBSSxPQUFPLEVBQUU7WUFDVCxXQUFXLEdBQUcsT0FBTyxDQUFDO1NBQ3pCO2FBQU07WUFDSCxXQUFXLEdBQUcsSUFBSSxDQUFDLFVBQVUsQ0FBQztZQUU5QixJQUFJLENBQUMsV0FBVyxFQUFFO2dCQUNkLFdBQVcsR0FBRyxJQUFJLENBQUM7YUFDdEI7aUJBQU07Z0JBQ0gsSUFBSSxLQUFLLENBQUMsT0FBTyxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLE1BQU0sRUFBRTtvQkFDbkQsV0FBVyxHQUFHLElBQUksQ0FBQztpQkFDdEI7YUFDSjtTQUNKO1FBRUQsSUFBSSxDQUFDLFlBQVksR0FBRztZQUNoQixLQUFLLEVBQUUsR0FBRztZQUNWLEtBQUssRUFBRSxFQUFFO1NBQ1osQ0FBQTtRQUVELGdDQUFnQztRQUNoQyxJQUFJLElBQUksQ0FBQyxTQUFTLEVBQUU7WUFDaEIsSUFBSSxDQUFDLFNBQVMsQ0FBQyxFQUFFLElBQUksRUFBRSxXQUFXLEVBQUUsUUFBUSxFQUFFLElBQUksRUFBRSxDQUFDLENBQUM7U0FDekQ7YUFBTTtZQUNILElBQUksSUFBSSxDQUFDLGdCQUFnQixFQUFFOztvQkFDakIsU0FBUyxHQUFHLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQztvQkFDcEMsUUFBUSxFQUFFLElBQUk7b0JBQ2QsSUFBSSxFQUFFLFdBQVc7aUJBQ3BCLENBQUM7Z0JBQ0YsSUFBSSxTQUFTLElBQUksU0FBUyxDQUFDLFNBQVMsRUFBRTtvQkFDbEMsU0FBUyxDQUFDLFNBQVM7Ozs7b0JBQUMsVUFBQyxDQUFNO3dCQUN2QixLQUFJLENBQUMseUJBQXlCLENBQUMsQ0FBQyxFQUFFLFdBQVcsQ0FBQyxDQUFDO29CQUNuRCxDQUFDLEVBQUMsQ0FBQztpQkFDTjtxQkFBTTtvQkFDSCxJQUFJLENBQUMsWUFBWSxDQUFDLG9DQUFvQyxFQUFFLE9BQU8sQ0FBQyxDQUFDO2lCQUNwRTthQUNKO2lCQUFNO2dCQUNILElBQUksQ0FBQyx5QkFBeUIsQ0FBQyxJQUFJLEVBQUUsV0FBVyxDQUFDLENBQUM7YUFDckQ7U0FDSjtJQUNMLENBQUM7Ozs7OztJQUVELHlDQUFXOzs7OztJQUFYLFVBQVksSUFBSSxFQUFFLFFBQWU7UUFBZix5QkFBQSxFQUFBLGVBQWU7UUFDOUIsT0FBTyxJQUFJLENBQUMsV0FBVyxDQUFDLFdBQVcsQ0FBQyxJQUFJLEVBQUUsUUFBUSxJQUFJLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQztJQUN4RSxDQUFDOzs7Ozs7SUFDRCwwQ0FBWTs7Ozs7SUFBWixVQUFhLElBQUksRUFBRSxRQUFlO1FBQWYseUJBQUEsRUFBQSxlQUFlO1FBQzlCLE9BQU8sSUFBSSxDQUFDLFdBQVcsQ0FBQyxZQUFZLENBQUMsSUFBSSxFQUFFLFFBQVEsSUFBSSxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUM7SUFDMUUsQ0FBQzs7Ozs7O0lBR08sK0NBQWlCOzs7OztJQUF6QixVQUEwQixJQUFJO1FBQTlCLGlCQThCQzs7WUE3QlMsS0FBSzs7Ozs7UUFBRyxVQUFDLEdBQUcsRUFBRSxFQUFFO1lBQ2xCLE9BQUEsSUFBSSxDQUFDLEdBQUcsT0FBUixJQUFJLG1CQUNHLEdBQUcsQ0FBQyxHQUFHLENBQUMsT0FBTyxFQUFFLEtBQUssVUFBVSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQzs7OztZQUFDLFVBQUMsR0FBRyxJQUFLLE9BQUEsR0FBRyxDQUFDLEVBQUUsQ0FBQyxFQUFQLENBQU8sQ0FBQSxDQUFDO1FBRGhFLENBRUMsQ0FBQTs7O1lBR0MsUUFBUSxHQUFHLEtBQUssQ0FBQyxJQUFJOzs7O1FBQUUsVUFBQyxDQUFDLElBQUssT0FBQSxLQUFJLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQyxFQUFwQixDQUFvQixFQUFDO2dDQUVoRCxDQUFDOztnQkFDQSxLQUFLLEdBQUcsSUFBSSxDQUFDLE1BQU07Ozs7WUFBQyxVQUFDLENBQUMsSUFBSyxPQUFBLEtBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxFQUExQixDQUEwQixFQUFDO1lBQzVELElBQUksS0FBSyxJQUFJLEtBQUssQ0FBQyxNQUFNLElBQUksS0FBSyxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUMsTUFBTSxFQUFFO2dCQUNyRCxLQUFLLENBQUMsT0FBTzs7OztnQkFBQyxVQUFDLENBQUM7O3dCQUNOLFNBQVMsR0FBRyxLQUFJLENBQUMsV0FBVyxDQUFDLENBQUMsQ0FBQzs7d0JBQy9CLE1BQU0sR0FBRyxJQUFJLENBQUMsTUFBTTs7OztvQkFDdEIsVUFBQyxDQUFDOzs0QkFDTSxHQUFHLEdBQUcsS0FBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDLENBQUM7d0JBQzdCLE9BQU8sR0FBRyxLQUFLLFNBQVMsSUFBSSxHQUFHLENBQUMsT0FBTyxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsQ0FBQztvQkFDN0QsQ0FBQyxFQUNKO29CQUNELElBQUksTUFBTSxJQUFJLE1BQU0sQ0FBQyxNQUFNLEVBQUU7d0JBQ3pCLElBQUksR0FBRyxJQUFJLENBQUMsTUFBTTs7Ozt3QkFDZCxVQUFDLENBQUMsSUFBSyxPQUFBLEtBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDLEtBQUssU0FBUyxFQUFqQyxDQUFpQyxFQUMzQyxDQUFDO3FCQUNMO2dCQUNMLENBQUMsRUFBQyxDQUFDO2FBQ047O1FBakJMLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsSUFBSSxRQUFRLEVBQUUsQ0FBQyxFQUFFO29CQUF6QixDQUFDO1NBa0JUO1FBRUQsT0FBTyxJQUFJLENBQUM7SUFDaEIsQ0FBQzs7Ozs7OztJQUVPLHVEQUF5Qjs7Ozs7O0lBQWpDLFVBQWtDLENBQUMsRUFBRSxXQUFXO1FBQWhELGlCQTRFQzs7WUEzRU8sU0FBUyxHQUFHLENBQUM7O1lBQ2IsT0FBTyxHQUFHLEVBQUU7UUFDaEIsSUFBSSxPQUFPLENBQUMsS0FBSyxTQUFTLEVBQUU7WUFDeEIsU0FBUyxHQUFHLENBQUMsQ0FBQztTQUNqQjthQUFNO1lBQ0gsSUFBSSxPQUFPLENBQUMsS0FBSyxRQUFRLEVBQUU7Z0JBQ3ZCLFNBQVMsR0FBRyxDQUFDLENBQUMsU0FBUyxDQUFDO2dCQUN4QixPQUFPLEdBQUcsQ0FBQyxDQUFDLE9BQU8sQ0FBQzthQUN2QjtpQkFBTTtnQkFDSCxTQUFTLEdBQUcsS0FBSyxDQUFDO2FBQ3JCO1NBQ0o7UUFFRCxJQUFJLENBQUMsV0FBVyxFQUFFO1lBQ2QsT0FBTyxHQUFHLElBQUksQ0FBQyxpQkFBaUIsQ0FBQztZQUNqQyxTQUFTLEdBQUcsS0FBSyxDQUFDO1NBQ3JCO1FBRUQsSUFBSSxTQUFTLEVBQUU7O2dCQUNQLGFBQWEsR0FBRyxFQUFFLENBQUMsV0FBVyxDQUFDO1lBQ25DLCtCQUErQjtZQUMvQixJQUFJLENBQUMsSUFBSSxDQUFDLFlBQVksSUFBSSxJQUFJLENBQUMsYUFBYSxJQUFJLElBQUksQ0FBQyxNQUFNLEVBQUUsRUFBRztnQkFDNUQsSUFBSSxJQUFJLENBQUMsUUFBUSxDQUFDLFlBQVksS0FBSyxLQUFLLElBQUksSUFBSSxDQUFDLFFBQVEsQ0FBQyxTQUFTLEtBQUssVUFBVSxJQUFJLElBQUksQ0FBQyxrQkFBa0IsRUFBRTs7d0JBQ3ZHLFVBQVUsR0FBRyxJQUFJLENBQUMsaUJBQWlCLENBQUMsV0FBVyxDQUFDO29CQUNwRCxJQUFJLFVBQVUsSUFBSSxVQUFVLENBQUMsTUFBTSxFQUFFO3dCQUNqQyxVQUFVLEdBQUcsVUFBVSxDQUFDLEdBQUc7Ozs7d0JBQ3ZCLFVBQUMsQ0FBQyxJQUFLLE9BQUEsS0FBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDLENBQUMsRUFBbkIsQ0FBbUIsRUFDN0IsQ0FBQzt3QkFDRixJQUFJLENBQUMsV0FBVyxFQUFFLENBQUM7d0JBQ25CLGFBQWEsR0FBRyxJQUFJLENBQUMsT0FBTzs2QkFDdkIsT0FBTyxDQUFDLEVBQUUsVUFBVSxZQUFBLEVBQUUsRUFBRSxhQUFhLENBQUM7NkJBQ3RDLElBQUksQ0FDRCxHQUFHOzs7O3dCQUFDLFVBQUMsQ0FBbUI7O2dDQUNkLEtBQUssR0FBRyxDQUFDLENBQUMsS0FBSztnQ0FDakIsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsR0FBRzs7OztnQ0FBQyxVQUFDLENBQUMsSUFBSyxPQUFBLENBQUMsQ0FBQyxJQUFJLEVBQU4sQ0FBTSxFQUFDO2dDQUM1QixDQUFDLENBQUMsRUFBRTs7Z0NBQ0YsUUFBUSxvQkFBTyxXQUFXLEVBQUssS0FBSyxDQUFDOztnQ0FDdkMsR0FBRyxHQUFHLFFBQVEsQ0FBQyxHQUFHOzs7OzRCQUFDLFVBQUMsQ0FBQyxJQUFLLE9BQUEsQ0FBQyxDQUFDLEtBQUksQ0FBQyxPQUFPLENBQUMsRUFBZixDQUFlLEVBQUM7NEJBQzlDLEdBQUcsR0FBRyxLQUFLLENBQUMsSUFBSSxDQUFDLElBQUksR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7NEJBQy9CLE9BQU8sR0FBRyxDQUFDLEdBQUc7Ozs7NEJBQUMsVUFBQyxDQUFDO2dDQUNiLE9BQUEsUUFBUSxDQUFDLElBQUk7Ozs7Z0NBQUMsVUFBQyxDQUFDLElBQUssT0FBQSxDQUFDLENBQUMsS0FBSSxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsRUFBckIsQ0FBcUIsRUFBQzs0QkFBM0MsQ0FBMkMsRUFDOUMsQ0FBQzt3QkFDTixDQUFDLEVBQUMsQ0FDTCxDQUFDO3FCQUNUO2lCQUNKO2FBQ0o7WUFFRCxhQUFhLENBQUMsU0FBUzs7OztZQUFDLFVBQUMsSUFBSTtnQkFDekIsS0FBSSxDQUFDLFlBQVksRUFBRSxDQUFDO2dCQUNwQixJQUFJLEtBQUksQ0FBQyxrQkFBa0IsRUFBRTtvQkFDekIsS0FBSSxDQUFDLGtCQUFrQixDQUFDLGNBQWMsQ0FBQyxJQUFJLENBQUMsQ0FBQztpQkFDaEQ7Z0JBQ0QsS0FBSSxDQUFDLGtCQUFrQixDQUFDLElBQUksQ0FBQyxDQUFDO2dCQUM5QixJQUFJLENBQUMsS0FBSSxDQUFDLE1BQU0sSUFBSSxDQUFDLElBQUksRUFBRTtvQkFDdkIsT0FBTztpQkFDVjtnQkFDRCxJQUFJLEtBQUksQ0FBQyxNQUFNLEVBQUU7b0JBQ2IsS0FBSSxDQUFDLHFCQUFxQixDQUFDLG1CQUFtQixDQUMxQyxJQUFJLEVBQ0osS0FBSSxDQUFDLFlBQVksQ0FBQyxRQUFRLENBQzdCLENBQUM7aUJBQ0w7WUFDTCxDQUFDLEVBQUMsQ0FBQztTQUNOO2FBQU07WUFDSCxJQUFJLE9BQU8sRUFBRTtnQkFDVCxJQUFJLElBQUksQ0FBQyxhQUFhLEVBQUU7b0JBQ3BCLElBQUksQ0FBQyxhQUFhLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFDO2lCQUN2QztxQkFBTTtvQkFDSCxJQUFJLENBQUMsZUFBZSxDQUFDLE9BQU8sQ0FBQyxPQUFPLEVBQUUsRUFBRSxFQUFFLElBQUk7OztvQkFBRTt3QkFDNUMsS0FBSSxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUMsYUFBYSxDQUFDLEtBQUssRUFBRSxDQUFDO29CQUN6QyxDQUFDLEVBQUMsQ0FBQztpQkFDTjthQUNKO1NBQ0o7SUFDTCxDQUFDOzs7Ozs7SUFFTyxnREFBa0I7Ozs7O0lBQTFCLFVBQTJCLFdBQVc7UUFDbEMsSUFBSSxXQUFXLEVBQUU7WUFDYixJQUFJLENBQUMsY0FBYyxDQUFDLFdBQVcsQ0FBQyxDQUFDO1lBQ2pDLElBQUksSUFBSSxDQUFDLFNBQVMsRUFBRTtnQkFDaEIsSUFBSSxDQUFDLFNBQVMsQ0FBQyxXQUFXLEVBQUUsSUFBSSxDQUFDLFNBQVMsRUFBRSxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUM7YUFDakU7aUJBQU07Z0JBQ0gsSUFBSSxJQUFJLENBQUMsU0FBUyxJQUFJLElBQUksQ0FBQyxXQUFXLEVBQUU7b0JBQ3BDLElBQUksQ0FBQyxjQUFjLENBQUMsY0FBYyxDQUM5QixXQUFXLEVBQ1gsSUFBSSxDQUFDLFNBQVMsRUFDZCxJQUFJLENBQUMsV0FBVyxDQUNuQixDQUFDO2lCQUNMO2FBQ0o7WUFDRCxJQUFJLENBQUMsYUFBYSxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQztZQUNyQyxJQUFJLElBQUksQ0FBQyxZQUFZLENBQUMsSUFBSSxXQUFXLEVBQUU7O29CQUM3QixXQUFXLEdBQUcsS0FBSyxDQUFDLE9BQU8sQ0FBQyxXQUFXLENBQUM7b0JBQzFDLENBQUMsQ0FBQyxXQUFXO29CQUNiLENBQUMsQ0FBQyxDQUFDLFdBQVcsQ0FBQztnQkFDbkIsSUFBSSxDQUFDLGNBQWMsQ0FBQyxXQUFXLENBQUMsQ0FBQzthQUNwQztZQUNELElBQUksQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDO1lBQ3BDLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxXQUFXLENBQUMsQ0FBQztZQUNyQyxJQUFJLENBQUMsWUFBWSxHQUFHLEtBQUssQ0FBQztTQUM3QjthQUFNO1lBQ0gsSUFBSSxRQUFRLENBQUMsYUFBYSxFQUFFO2dCQUN4QixDQUFDLG1CQUFBLFFBQVEsQ0FBQyxhQUFhLEVBQXFCLENBQUMsQ0FBQyxJQUFJLEVBQUUsQ0FBQzthQUN4RDtZQUNELElBQUksQ0FBQyxlQUFlLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDO1NBQ3hEO0lBQ0wsQ0FBQzs7Ozs7O0lBRU8sNENBQWM7Ozs7O0lBQXRCLFVBQXVCLFdBQVc7UUFBbEMsaUJBMERDO1FBekRHLElBQUksQ0FBQyxJQUFJLENBQUMsU0FBUyxFQUFFO1lBQ2pCLE9BQU87U0FDVjs7WUFFSyxVQUFVLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDO1FBQzlDLElBQ0ksSUFBSSxDQUFDLFNBQVM7WUFDZCxJQUFJLENBQUMsU0FBUyxDQUFDLGFBQWE7WUFDNUIsSUFBSSxDQUFDLFNBQVMsQ0FBQyxhQUFhLENBQUMsSUFBSTtZQUNqQyxJQUFJLENBQUMsU0FBUyxDQUFDLGFBQWEsQ0FBQyxJQUFJLENBQUMsV0FBVyxFQUMvQzs7Z0JBQ1EsYUFBVyxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsYUFBYSxDQUFDLElBQUksQ0FBQyxXQUFXO1lBRWpFLElBQUksYUFBVyxFQUFFO2dCQUNiLFVBQVUsQ0FBQyxPQUFPOzs7O2dCQUFDLFVBQUMsU0FBYztvQkFDOUIsS0FBSSxDQUFDLFNBQVMsQ0FBQyxTQUFTLENBQUM7eUJBQ3BCLEtBQUssQ0FBQyxHQUFHLENBQUM7eUJBQ1YsT0FBTzs7OztvQkFBQyxVQUFDLFNBQWM7OzRCQUNkLEdBQUcsR0FBRyxXQUFXOzZCQUNsQixHQUFHOzs7O3dCQUFDLFVBQUMsQ0FBQzs0QkFDSCxPQUFPLEtBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLFNBQVMsRUFBRSxDQUFDLENBQUMsQ0FBQzt3QkFDN0MsQ0FBQyxFQUFDOzZCQUNELElBQUksQ0FBQyxLQUFJLENBQUMsdUJBQXVCLENBQUM7d0JBQ3ZDLEtBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLGFBQVcsRUFBRSxTQUFTLEVBQUUsR0FBRyxDQUFDLENBQUM7b0JBQ3JELENBQUMsRUFBQyxDQUFDO2dCQUNYLENBQUMsRUFBQyxDQUFDO2FBQ047WUFFRCw4QkFBOEI7WUFDOUIseUVBQXlFO1lBQ3pFLGtDQUFrQztZQUNsQyx5QkFBeUI7WUFDekIsa0VBQWtFO1lBQ2xFLFFBQVE7WUFFUiwrQ0FBK0M7WUFDL0MsNkVBQTZFO1lBQzdFLHVFQUF1RTtZQUN2RSxpREFBaUQ7WUFDakQsNERBQTREO1lBQzVELHFEQUFxRDtZQUNyRCxpRkFBaUY7WUFDakYsY0FBYztZQUNkLFVBQVU7WUFDVixJQUFJO1NBQ1A7YUFBTTtZQUNILDBCQUEwQjtZQUMxQiwrQ0FBK0M7WUFDL0MsNkVBQTZFO1lBQzdFLGlEQUFpRDtZQUNqRCw0REFBNEQ7WUFDNUQscURBQXFEO1lBQ3JELHFFQUFxRTtZQUNyRSxjQUFjO1lBQ2QsVUFBVTtZQUNWLElBQUk7U0FDUDtJQUNMLENBQUM7Ozs7OztJQUVPLGlEQUFtQjs7Ozs7SUFBM0IsVUFBNEIsVUFBaUI7UUFBN0MsaUJBeUJDO1FBekIyQiwyQkFBQSxFQUFBLGlCQUFpQjtRQUN6QyxJQUFJLENBQUMsSUFBSSxDQUFDLGFBQWEsRUFBRTtZQUNyQixJQUFJLENBQUMsWUFBWSxDQUFDLGtEQUFVLENBQUMsQ0FBQztZQUM5QixPQUFPLEVBQUUsQ0FBQztTQUNiOztZQUNLLFdBQVcsR0FBRyxJQUFJLENBQUMsYUFBYSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUM7UUFFakQsSUFBSSxVQUFVLEVBQUU7O2dCQUNSLGdCQUFnQixHQUFHLEVBQUU7WUFDekIsZ0JBQWdCLEdBQUcsV0FBVyxDQUFDLEdBQUc7Ozs7WUFBQyxVQUFDLEVBQUU7O29CQUM1QixNQUFNLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBQyxLQUFJLENBQUMsU0FBUyxDQUFDLENBQUMsSUFBSTs7OztnQkFBQyxVQUFDLENBQUM7b0JBQzlDLE9BQU8sS0FBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsS0FBSyxFQUFFLENBQUM7Z0JBQ3BDLENBQUMsRUFBQztnQkFFRixJQUFJLE1BQU0sRUFBRTtvQkFDUixPQUFPLE1BQU0sQ0FBQztpQkFDakI7cUJBQU07b0JBQ0gsS0FBSSxDQUFDLFlBQVksQ0FBQyx1RUFBYyxFQUFJLENBQUMsQ0FBQztvQkFDdEMsT0FBTyxFQUFFLENBQUM7aUJBQ2I7WUFDTCxDQUFDLEVBQUMsQ0FBQztZQUNILE9BQU8sZ0JBQWdCLENBQUM7U0FDM0I7UUFFRCxPQUFPLFdBQVcsQ0FBQztJQUN2QixDQUFDOzs7O0lBRUQsZ0RBQWtCOzs7SUFBbEI7O1lBQ1UsUUFBUSxHQUFHLElBQUksQ0FBQyxZQUFZLENBQUMsY0FBYyxFQUFFO1FBQ25ELElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxRQUFRLEVBQUUsS0FBSyxDQUFDLENBQUM7SUFDM0MsQ0FBQztJQUVELGlCQUFpQjs7Ozs7Ozs7SUFDVCw4Q0FBZ0I7Ozs7Ozs7O0lBQXhCLFVBQXlCLElBQVMsRUFBRSxVQUFpQjtRQUFyRCxpQkE0QkM7UUE1Qm1DLDJCQUFBLEVBQUEsaUJBQWlCO1FBQ2pELElBQUksSUFBSSxFQUFFO1lBQ04sSUFBSSxJQUFJLENBQUMsZ0JBQWdCLEVBQUU7Z0JBQ3ZCLElBQUksS0FBSyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsRUFBRTs7d0JBQ2YsU0FBUyxHQUFHLElBQUksQ0FBQyxHQUFHOzs7O29CQUFDLFVBQUMsQ0FBQzt3QkFDekIsT0FBTyxLQUFJLENBQUMsaUJBQWlCLENBQUMsQ0FBQyxDQUFDLENBQUM7b0JBQ3JDLENBQUMsRUFBQztvQkFDRixJQUFJLENBQUMsVUFBVSxHQUFHLFNBQVMsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUM7aUJBQ3pDO3FCQUFNO29CQUNILElBQUksQ0FBQyxVQUFVLEdBQUcsSUFBSSxDQUFDLGlCQUFpQixDQUFDLElBQUksQ0FBQyxDQUFDO2lCQUNsRDthQUNKO2lCQUFNOztvQkFDRyxrQkFBZ0IsR0FBRyxJQUFJLENBQUMsbUJBQW1CLENBQUMsVUFBVSxDQUFDO2dCQUM3RCxJQUFJLGtCQUFnQixJQUFJLGtCQUFnQixDQUFDLE1BQU0sRUFBRTtvQkFDN0MsSUFBSSxLQUFLLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxFQUFFOzs0QkFDZixTQUFTLEdBQUcsSUFBSSxDQUFDLEdBQUc7Ozs7d0JBQUMsVUFBQyxDQUFDOzRCQUN6QixPQUFPLEtBQUksQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDLEVBQUUsa0JBQWdCLENBQUMsQ0FBQzt3QkFDdkQsQ0FBQyxFQUFDO3dCQUNGLElBQUksQ0FBQyxVQUFVLEdBQUcsU0FBUyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQztxQkFDekM7eUJBQU07d0JBQ0gsSUFBSSxDQUFDLFVBQVUsR0FBRyxJQUFJLENBQUMsaUJBQWlCLENBQ3BDLElBQUksRUFDSixrQkFBZ0IsQ0FDbkIsQ0FBQztxQkFDTDtpQkFDSjthQUNKO1NBQ0o7SUFDTCxDQUFDOzs7Ozs7O0lBRU8sK0NBQWlCOzs7Ozs7SUFBekIsVUFBMEIsUUFBUSxFQUFFLE1BQWE7UUFBakQsaUJBZUM7UUFmbUMsdUJBQUEsRUFBQSxhQUFhO1FBQzdDLElBQUksT0FBTyxJQUFJLENBQUMsZ0JBQWdCLEtBQUssVUFBVSxFQUFFO1lBQzdDLE9BQU8sSUFBSSxDQUFDLGdCQUFnQixDQUFDO2dCQUN6QixXQUFXLEVBQUUsUUFBUTtnQkFDckIsUUFBUSxFQUFFLElBQUk7YUFDakIsQ0FBQyxDQUFDO1NBQ047YUFBTTs7Z0JBQ0csV0FBUyxHQUFHLEVBQUU7O2dCQUNkLFNBQVMsR0FBRyxNQUFNLENBQUMsR0FBRzs7OztZQUFDLFVBQUMsQ0FBQzs7O29CQUNyQixHQUFHLEdBQUcsS0FBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsQ0FBQyxFQUFFLFFBQVEsQ0FBQztnQkFDNUMsV0FBUyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQztnQkFDcEIsZ0JBQVMsR0FBQyxDQUFDLElBQUcsR0FBRyxLQUFHO1lBQ3hCLENBQUMsRUFBQztZQUNGLE9BQU8sV0FBUyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQztTQUM5QjtJQUNMLENBQUM7Ozs7OztJQUVPLDRDQUFjOzs7OztJQUF0QixVQUF1QixJQUFTO1FBQWhDLGlCQXFCQzs7WUFwQlMsRUFBRSxHQUFHLElBQUksQ0FBQyxhQUFhO1lBQ3pCLENBQUMsQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUM7WUFDL0IsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQzs7WUFDaEIsTUFBTSxHQUFHLElBQUksQ0FBQyxHQUFHOzs7O1FBQUMsVUFBQyxDQUFDOztnQkFDaEIsQ0FBQyxHQUFHLEVBQUU7WUFDWixFQUFFLENBQUMsT0FBTzs7OztZQUFDLFVBQUMsQ0FBQztnQkFDVCxDQUFDLENBQUMsSUFBSSxDQUFDLEtBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ3RDLENBQUMsRUFBQyxDQUFDO1lBQ0gsT0FBTyxDQUFDLENBQUMsSUFBSSxDQUFDLEtBQUksQ0FBQyxvQkFBb0IsQ0FBQyxDQUFDO1FBQzdDLENBQUMsRUFBQztRQUVGLElBQUksSUFBSSxDQUFDLFdBQVcsQ0FBQyxZQUFZLEVBQUU7WUFDL0IsT0FBTyxNQUFNLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDO1NBQzFCO2FBQU07WUFDSCxJQUFJLElBQUksQ0FBQyxhQUFhLEVBQUU7Z0JBQ3BCLE9BQU8sTUFBTSxDQUFDLEdBQUc7Ozs7Z0JBQUMsVUFBQyxDQUFDLElBQUssT0FBQSxHQUFHLEdBQUcsQ0FBQyxHQUFHLEdBQUcsRUFBYixDQUFhLEVBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLHVCQUF1QixDQUFDLENBQUM7YUFDOUU7aUJBQU07Z0JBQ0gsT0FBTyxNQUFNLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyx1QkFBdUIsQ0FBQyxDQUFDO2FBQ3BEO1NBQ0o7SUFDTCxDQUFDOzs7Ozs7SUFFTyw0Q0FBYzs7Ozs7SUFBdEIsVUFBdUIsV0FBZ0I7UUFBdkMsaUJBc0VDO1FBckVHLElBQUksQ0FBQyxZQUFZLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQztRQUVyQyxJQUFJLElBQUksQ0FBQyxXQUFXLENBQUMsWUFBWSxFQUFFO1lBQy9CLElBQUksSUFBSSxDQUFDLGdCQUFnQixFQUFFO2dCQUN2QixJQUFJLENBQUMsV0FBVyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUNsQyxJQUFJLENBQUMsU0FBUyxFQUNkLFdBQVcsQ0FDZCxDQUFDO2dCQUNGLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFLEVBQUU7b0JBQ2hCLElBQUksQ0FBQyxXQUFXLEdBQUcsSUFBSSxDQUFDLGdCQUFnQixDQUNwQyxJQUFJLENBQUMsV0FBVyxFQUNoQixDQUFDLFdBQVcsQ0FBQyxFQUNiO3dCQUNJLE1BQU0sRUFBRSxJQUFJO3dCQUNaLFNBQVMsRUFBRSxtQkFBQSxJQUFJLENBQUMsWUFBWTs2QkFDdkIsUUFBUSxFQUFzQjtxQkFDdEMsQ0FDSixDQUFDO2lCQUNMO3FCQUFNOzt3QkFDRyxFQUFFLEdBQUcsbUJBQUEsSUFBSSxDQUFDLFlBQVksQ0FBQyxRQUFRLEVBQXNCO29CQUMzRCxJQUFJLENBQUMsV0FBVyxHQUFHLElBQUksQ0FBQyxnQkFBZ0IsQ0FDcEMsSUFBSSxDQUFDLFdBQVcsRUFDaEIsQ0FBQyxXQUFXLENBQUMsRUFDYixFQUFFLE1BQU0sRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLEVBQUUsRUFBRSxDQUM3QixDQUFDO2lCQUNMO2FBQ0o7aUJBQU07Z0JBQ0gsSUFBSSxDQUFDLFdBQVcsR0FBRyxJQUFJLENBQUMsY0FBYyxDQUFDLENBQUMsV0FBVyxDQUFDLENBQUMsQ0FBQzthQUN6RDtZQUNELElBQUksQ0FBQyxZQUFZLEdBQUcsV0FBVyxDQUFDLElBQUksQ0FBQyxVQUFVLElBQUksSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDO1NBQ3BFO2FBQU07WUFDSCxJQUFJLFdBQVcsQ0FBQyxNQUFNLEVBQUU7Z0JBQ3BCLElBQUksSUFBSSxDQUFDLGdCQUFnQixFQUFFO29CQUN2QixJQUFJLENBQUMsV0FBVyxHQUFHLFdBQVc7eUJBQ3pCLEdBQUc7Ozs7b0JBQUMsVUFBQyxDQUFDO3dCQUNILE9BQU8sS0FBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsS0FBSSxDQUFDLFNBQVMsRUFBRSxDQUFDLENBQUMsQ0FBQztvQkFDbEQsQ0FBQyxFQUFDO3lCQUNELElBQUksQ0FBQyxJQUFJLENBQUMsdUJBQXVCLENBQUMsQ0FBQztvQkFDeEMsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUUsRUFBRTt3QkFDaEIsSUFBSSxDQUFDLFdBQVcsR0FBRyxJQUFJLENBQUMsZ0JBQWdCLENBQ3BDLElBQUksQ0FBQyxXQUFXLEVBQ2hCLFdBQVcsRUFDWDs0QkFDSSxNQUFNLEVBQUUsSUFBSTs0QkFDWixTQUFTLEVBQUUsbUJBQUEsSUFBSSxDQUFDLFlBQVk7aUNBQ3ZCLFFBQVEsRUFBc0I7eUJBQ3RDLENBQ0osQ0FBQztxQkFDTDt5QkFBTTs7NEJBQ0csRUFBRSxHQUFHLG1CQUFBLElBQUksQ0FBQyxZQUFZOzZCQUN2QixRQUFRLEVBQXNCO3dCQUNuQyxJQUFJLENBQUMsV0FBVyxHQUFHLElBQUksQ0FBQyxnQkFBZ0IsQ0FDcEMsSUFBSSxDQUFDLFdBQVcsRUFDaEIsV0FBVyxFQUNYLEVBQUUsTUFBTSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsRUFBRSxFQUFFLENBQzdCLENBQUM7cUJBQ0w7aUJBQ0o7cUJBQU07b0JBQ0gsSUFBSSxDQUFDLFdBQVcsR0FBRyxJQUFJLENBQUMsY0FBYyxDQUFDLFdBQVcsQ0FBQyxDQUFDO2lCQUN2RDtnQkFFRCxJQUFJLENBQUMsWUFBWSxHQUFHLFdBQVc7cUJBQzFCLEdBQUc7Ozs7Z0JBQUMsVUFBQyxDQUFDO29CQUNILE9BQU8sS0FBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsS0FBSSxDQUFDLFVBQVUsSUFBSSxLQUFJLENBQUMsT0FBTyxFQUFFLENBQUMsQ0FBQyxDQUFDO2dCQUNuRSxDQUFDLEVBQUM7cUJBQ0QsSUFBSSxDQUFDLElBQUksQ0FBQyx1QkFBdUIsQ0FBQyxDQUFDO2FBQzNDO1NBQ0o7UUFDRCxJQUFJLENBQUMsWUFBWSxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUM7SUFDekMsQ0FBQzs7Ozs7SUFFRCxnREFBa0I7Ozs7SUFBbEIsVUFBbUIsT0FBWTtRQUEvQixpQkFnQ0M7UUEvQkcsSUFBSSxJQUFJLENBQUMsVUFBVSxFQUFFO1lBQ2pCLElBQUksSUFBSSxDQUFDLFFBQVEsRUFBRTtnQkFDZixJQUFJLENBQUMsUUFBUSxDQUFDLGFBQWEsQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDO2FBQy9DO1lBQ0QsSUFBSSxDQUFDLHNCQUFzQixHQUFHLElBQUksQ0FBQyxVQUFVLENBQUMsT0FBTyxDQUFDLENBQUMsU0FBUzs7OztZQUM1RCxVQUFDLENBQU07Z0JBQ0gsSUFBSSxLQUFJLENBQUMsUUFBUSxFQUFFO29CQUNmLEtBQUksQ0FBQyxRQUFRLENBQUMsYUFBYSxDQUFDLFFBQVEsR0FBRyxLQUFLLENBQUM7aUJBQ2hEO2dCQUNELElBQUksT0FBTyxDQUFDLEtBQUssU0FBUyxFQUFFO29CQUN4QixJQUFJLENBQUMsRUFBRTt3QkFDSCxLQUFJLENBQUMsV0FBVyxDQUFDLE9BQU8sQ0FBQyxDQUFDO3FCQUM3QjtpQkFDSjtxQkFBTSxJQUNILE9BQU8sQ0FBQyxLQUFLLFFBQVE7b0JBQ3JCLENBQUMsQ0FBQyxXQUFXLEtBQUssU0FBUztvQkFDM0IsQ0FBQyxDQUFDLENBQUMsV0FBVyxFQUNoQjtvQkFDRSxJQUFJLENBQUMsQ0FBQyxPQUFPLEVBQUU7d0JBQ1gsS0FBSSxDQUFDLGVBQWUsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDO3FCQUMzQzt5QkFBTTt3QkFDSCxLQUFJLENBQUMsV0FBVyxDQUFDLE9BQU8sQ0FBQyxDQUFDO3FCQUM3QjtpQkFDSjtxQkFBTTtvQkFDSCxLQUFJLENBQUMsV0FBVyxDQUFDLE9BQU8sQ0FBQyxDQUFDO2lCQUM3QjtZQUNMLENBQUMsRUFDSixDQUFDO1NBQ0w7YUFBTTtZQUNILElBQUksQ0FBQyxXQUFXLENBQUMsT0FBTyxDQUFDLENBQUM7U0FDN0I7SUFDTCxDQUFDOzs7OztJQUVPLDBDQUFZOzs7O0lBQXBCO1FBQUEsaUJBUUM7UUFQRyxJQUFJLENBQUMsSUFBSSxDQUFDLGlCQUFpQjs7O1FBQUM7WUFDeEIsVUFBVTs7O1lBQUM7Z0JBQ1AsSUFBSSxLQUFJLENBQUMsVUFBVSxJQUFJLEtBQUksQ0FBQyxVQUFVLENBQUMsT0FBTyxFQUFFO29CQUM1QyxLQUFJLENBQUMsVUFBVSxDQUFDLE9BQU8sQ0FBQyxhQUFhLENBQUMsS0FBSyxFQUFFLENBQUM7aUJBQ2pEO1lBQ0wsQ0FBQyxFQUFDLENBQUM7UUFDUCxDQUFDLEVBQUMsQ0FBQztJQUNQLENBQUM7Ozs7O0lBRUQseUNBQVc7Ozs7SUFBWCxVQUFZLE9BQWM7UUFBZCx3QkFBQSxFQUFBLGNBQWM7UUFDdEIsSUFBSSxJQUFJLENBQUMsTUFBTSxFQUFFO1lBQ2IsSUFBSSxDQUFDLE1BQU0sQ0FBQyxLQUFLLEVBQUUsQ0FBQztTQUN2QjtRQUVELElBQUksT0FBTyxFQUFFO1lBQ1QsSUFBSSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUM7U0FDbEM7UUFFRCx1QkFBdUI7UUFDdkIsSUFBSSxDQUFDLFlBQVksRUFBRSxDQUFDO0lBQ3hCLENBQUM7Ozs7SUFFRCwwQ0FBWTs7O0lBQVo7UUFDSSxJQUFJLENBQUMsV0FBVyxFQUFFLENBQUM7UUFDbkIsSUFBSSxDQUFDLFlBQVksR0FBRyxLQUFLLENBQUM7UUFDMUIsSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLEVBQUU7WUFDaEIsSUFBSSxDQUFDLFdBQVcsR0FBRyxJQUFJLENBQUMsWUFBWSxDQUFDO1lBQ3JDLElBQUksQ0FBQyxhQUFhLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDO1NBQ3hDO1FBRUQsSUFBSSxJQUFJLENBQUMsYUFBYSxFQUFFO1lBQ3BCLElBQUksQ0FBQyxhQUFhLENBQUMsSUFBSSxDQUFDLENBQUM7U0FDNUI7SUFDTCxDQUFDOzs7OztJQUVELDJDQUFhOzs7O0lBQWIsVUFBYyxDQUFDO1FBQ1gsSUFBSSxJQUFJLENBQUMsYUFBYSxFQUFFO1lBQ3BCLElBQUksQ0FBQyxhQUFhLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDdEIsSUFBSSxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7U0FDN0I7SUFDTCxDQUFDO0lBRUQsd0JBQXdCOzs7Ozs7SUFDeEIseUNBQVc7Ozs7OztJQUFYLFVBQVksQ0FBTTtRQUFsQixpQkEwRUM7UUF6RUcsSUFBSSxDQUFDLFNBQVMsR0FBRyxDQUFDLENBQUMsUUFBUSxDQUFDO1FBQzVCLElBQUksQ0FBQyxZQUFZLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUM7O1lBQ3RDLFlBQVksR0FBRyxJQUFJLENBQUMsWUFBWTtRQUN0QyxJQUFJLENBQUMsWUFBWSxHQUFHLElBQUksQ0FBQztRQUN6QixJQUFJLENBQUMscUJBQXFCLENBQUMsb0JBQW9CLENBQUM7WUFDNUMsUUFBUSxFQUFFLENBQUMsQ0FBQyxRQUFRO1NBQ3ZCLENBQUMsQ0FBQztRQUVILElBQUksSUFBSSxDQUFDLFNBQVMsS0FBSyxVQUFVLEVBQUU7WUFDL0IsSUFBSSxJQUFJLENBQUMsYUFBYSxFQUFFLElBQUksQ0FBQyxJQUFJLENBQUMsZ0JBQWdCLEVBQUU7Z0JBQ2hELElBQUksSUFBSSxDQUFDLGlCQUFpQixFQUFFO29CQUN4QixJQUFJLENBQUMsWUFBWSxDQUFDLG1CQUFtQixDQUNqQyxJQUFJLENBQUMsaUJBQWlCLENBQ3pCLENBQUM7aUJBQ0w7cUJBQU07b0JBQ0gsSUFBSSxDQUFDLFFBQVEsRUFBRSxDQUFDO29CQUNoQixPQUFPO2lCQUNWO2FBQ0o7WUFFRCxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxFQUFFO2dCQUNuQyxJQUFJLENBQUMsUUFBUSxFQUFFLENBQUM7YUFDbkI7aUJBQU07Z0JBQ0gsSUFBSSxDQUFDLFlBQVksRUFBRTtvQkFDZixJQUFJLElBQUksQ0FBQyxNQUFNLEVBQUUsRUFBRTt3QkFDZixJQUFJLENBQUMsaUJBQWlCLEVBQUUsQ0FBQztxQkFDNUI7eUJBQU07d0JBQ0gsSUFBSSxDQUFDLGlCQUFpQixFQUFFLENBQUM7d0JBQ3pCLElBQUksQ0FBQyxVQUFVLENBQUMsa0JBQWtCLEVBQUUsQ0FBQztxQkFDeEM7aUJBQ0o7Z0JBQ0QsMENBQTBDO2FBQzdDO1lBQ0QsSUFBSSxDQUFDLDBCQUEwQixFQUFFLENBQUM7U0FDckM7YUFBTTtZQUNILElBQUksSUFBSSxDQUFDLFNBQVMsS0FBSyxVQUFVLEVBQUU7Z0JBQy9CLElBQUksSUFBSSxDQUFDLE1BQU0sRUFBRSxFQUFFO29CQUNmLElBQUksQ0FBQyxRQUFRLEVBQUUsQ0FBQztpQkFDbkI7cUJBQU07b0JBQ0gsSUFDSSxDQUFDLElBQUksQ0FBQyxhQUFhO3dCQUNuQixDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsTUFBTTt3QkFDMUIsSUFBSSxDQUFDLGFBQWEsQ0FBQyxNQUFNLEtBQUssSUFBSSxDQUFDLFNBQVMsQ0FBQyxhQUFhLEVBQUUsQ0FBQyxNQUFNLEVBQ3JFO3dCQUNFLElBQUksQ0FBQyxRQUFRLEVBQUUsQ0FBQztxQkFDbkI7eUJBQU0sSUFBSSxDQUFDLFlBQVksRUFBRTt3QkFDdEIsSUFBSSxDQUFDLFNBQVMsQ0FBQyxpQkFBaUIsQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDLENBQUM7d0JBQ3JELDBDQUEwQztxQkFDN0M7b0JBQ0QsVUFBVTtvQkFDViw4Q0FBOEM7b0JBQzlDLElBQUk7aUJBQ1A7YUFDSjtTQUNKO1FBRUQsSUFBSSxDQUFDLGNBQWMsQ0FBQyxhQUFhLEVBQUUsQ0FBQztRQUNwQyxVQUFVOzs7UUFBQztZQUNQLEtBQUksQ0FBQyxTQUFTLEVBQUUsQ0FBQztZQUNqQixJQUFJLEtBQUksQ0FBQyxNQUFNLEVBQUUsRUFBRTs7b0JBQ1QsQ0FBQyxHQUFHLEtBQUksQ0FBQyxZQUFZLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQyxPQUFPO2dCQUNsRCxLQUFJLENBQUMsWUFBWSxDQUFDLFFBQVEsQ0FBQyxTQUFTLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO2dCQUUzQyxJQUFJLEtBQUksQ0FBQyxhQUFhLEVBQUU7b0JBQ3BCLEtBQUksQ0FBQyxVQUFVLENBQUMsbUJBQW1CLENBQUMsS0FBSSxDQUFDLGFBQWEsQ0FBQyxDQUFDO2lCQUMzRDthQUNKO1lBRUQsSUFBSSxLQUFJLENBQUMsYUFBYSxFQUFFLElBQUksS0FBSSxDQUFDLFdBQVcsS0FBSyxxQkFBcUIsQ0FBQyxXQUFXLElBQUksQ0FBQyxLQUFJLENBQUMsYUFBYSxFQUFFO2dCQUN2RyxLQUFJLENBQUMsZ0JBQWdCLENBQUMsUUFBUSxDQUFDLG9CQUFvQixFQUFFLENBQUM7YUFDekQ7WUFDRCxLQUFJLENBQUMsWUFBWSxDQUFDLGtCQUFrQixFQUFFLENBQUM7UUFDM0MsQ0FBQyxFQUFDLENBQUM7SUFDUCxDQUFDO0lBRUQsMEZBQTBGOzs7Ozs7SUFDbEYsMERBQTRCOzs7Ozs7SUFBcEM7UUFDSSxJQUFJLElBQUksQ0FBQyxXQUFXLEVBQUU7WUFDbEIsSUFBSSxDQUFDLE1BQU0sQ0FBQyxhQUFhLENBQUMsZ0JBQWdCLENBQ3RDLFlBQVksRUFDWixJQUFJLENBQUMsa0JBQWtCLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUNyQyxDQUFDO1lBQ0YsSUFBSSxDQUFDLE1BQU0sQ0FBQyxhQUFhLENBQUMsZ0JBQWdCLENBQ3RDLFlBQVksRUFDWixJQUFJLENBQUMsa0JBQWtCLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUNyQyxDQUFDO1NBQ0w7SUFDTCxDQUFDOzs7Ozs7O0lBRU8sNkNBQWU7Ozs7OztJQUF2QixVQUF3QixLQUFVLEVBQUUsTUFBYztRQUFkLHVCQUFBLEVBQUEsY0FBYzs7WUFDeEMsR0FBRyxHQUFHLE1BQU0sQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxNQUFNOztZQUMxQixTQUFTLEdBQUcsS0FBSyxDQUFDLE1BQU0sQ0FBQyxhQUFhLENBQUMsb0JBQW9CLENBQUM7UUFDbEUsSUFBSSxTQUFTLEVBQUU7WUFDWCxTQUFTLENBQUMsS0FBSyxDQUFDLE9BQU8sR0FBRyxHQUFHLENBQUM7U0FDakM7SUFDTCxDQUFDOzs7Ozs7SUFFTyxnREFBa0I7Ozs7O0lBQTFCLFVBQTJCLEtBQUs7UUFDNUIsSUFBSSxJQUFJLENBQUMsV0FBVyxJQUFJLElBQUksQ0FBQyxXQUFXLEVBQUU7WUFDdEMsSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxFQUFFO2dCQUNsQyxJQUFJLENBQUMscUJBQXFCLEdBQUcsSUFBSSxDQUFDO2FBQ3JDO1NBQ0o7UUFDRCxJQUFJLElBQUksQ0FBQyxxQkFBcUIsRUFBRTtZQUM1QixJQUFJLENBQUMsZUFBZSxDQUFDLEtBQUssRUFBRSxJQUFJLENBQUMsQ0FBQztTQUNyQztJQUNMLENBQUM7Ozs7OztJQUVPLGdEQUFrQjs7Ozs7SUFBMUIsVUFBMkIsS0FBSztRQUM1QixJQUFJLENBQUMsZUFBZSxDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQ2hDLENBQUM7Ozs7OztJQUVELGdEQUFrQjs7Ozs7SUFBbEIsVUFBbUIsTUFBTSxFQUFFLEdBQUc7UUFDMUIsTUFBTSxDQUFDLGVBQWUsRUFBRSxDQUFDOztZQUNuQixTQUFTLEdBQUcsS0FBSyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsZUFBZSxDQUFDOztZQUM1QyxZQUFZLEdBQUcsSUFBSSxDQUFDLGVBQWUsQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDO1FBQ3RELFNBQVMsQ0FBQyxNQUFNLENBQUMsWUFBWSxFQUFFLENBQUMsQ0FBQyxDQUFDO1FBQ2xDLElBQUksQ0FBQyxXQUFXLEdBQUcsU0FBUyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsdUJBQXVCLENBQUMsQ0FBQztRQUNoRSxJQUFJLENBQUMsWUFBWSxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUM7UUFDckMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUM7UUFHckMsSUFBSSxJQUFJLENBQUMsWUFBWSxFQUFFOztnQkFDYixJQUFJLEdBQUcsSUFBSSxDQUFDLFlBQVksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLHVCQUF1QixDQUFDO1lBQ2xFLElBQUksQ0FBQyxNQUFNLENBQUMsWUFBWSxFQUFFLENBQUMsQ0FBQyxDQUFDO1lBQzdCLElBQUksQ0FBQyxZQUFZLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsdUJBQXVCLENBQUMsQ0FBQztTQUMvRDtRQUVELElBQUksSUFBSSxDQUFDLFNBQVMsRUFBRTtZQUNoQixJQUFJLENBQUMsa0NBQWtDLENBQUMsWUFBWSxDQUFDLENBQUM7U0FDekQ7UUFFRCxJQUFJLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxFQUFFLFlBQVksY0FBQSxFQUFFLFFBQVEsRUFBRSxJQUFJLEVBQUUsQ0FBQyxDQUFDO0lBQzNELENBQUM7Ozs7OztJQUVPLGdFQUFrQzs7Ozs7SUFBMUMsVUFBMkMsWUFBWTtRQUF2RCxpQkF3RUM7O1lBdkVTLFVBQVUsR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUM7O1lBQ3hDLGNBQWMsR0FBRyxVQUFVLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUM7UUFFekQsSUFDSSxJQUFJLENBQUMsU0FBUztZQUNkLElBQUksQ0FBQyxTQUFTLENBQUMsYUFBYTtZQUM1QixJQUFJLENBQUMsU0FBUyxDQUFDLGFBQWEsQ0FBQyxJQUFJO1lBQ2pDLElBQUksQ0FBQyxTQUFTLENBQUMsYUFBYSxDQUFDLElBQUksQ0FBQyxXQUFXLEVBQy9DOztnQkFDUSxhQUFXLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxhQUFhLENBQUMsSUFBSSxDQUFDLFdBQVc7WUFDakUsSUFBSSxhQUFXLENBQUMsUUFBUSxFQUFFOztvQkFDaEIsV0FBVyxHQUNiLElBQUksQ0FBQyxTQUFTLENBQUMsYUFBYSxDQUFDLElBQUksQ0FBQyxXQUFXOztvQkFDN0MsU0FBTyxHQUFhLEVBQUU7Z0JBQzFCLElBQUksV0FBVyxFQUFFO29CQUNiLFNBQU8sR0FBRyxXQUFXLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDLE1BQU07Ozs7b0JBQUMsVUFBQyxDQUFDLElBQUssT0FBQSxDQUFDLEtBQUssRUFBRSxFQUFSLENBQVEsRUFBQyxDQUFDO2lCQUM1RDtnQkFFRCxVQUFVLENBQUMsT0FBTzs7OztnQkFBQyxVQUFDLFNBQWM7b0JBQzlCLEtBQUksQ0FBQyxTQUFTLENBQUMsU0FBUyxDQUFDO3lCQUNwQixLQUFLLENBQUMsR0FBRyxDQUFDO3lCQUNWLE9BQU87Ozs7b0JBQUMsVUFBQyxTQUFjOzs0QkFDZCxVQUFVLEdBQUcsU0FBTyxDQUFDLE1BQU0sQ0FDN0IsU0FBUyxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FDdkI7OzRCQUNLLEdBQUcsR0FBRyxhQUFXLENBQUMsUUFBUSxDQUFDLFVBQVUsQ0FBQzs7NEJBQ3RDLE1BQU0sR0FBRyxHQUFHLENBQUMsS0FBSyxDQUNwQixLQUFJLENBQUMsdUJBQXVCLENBQy9CO3dCQUNELE1BQU0sQ0FBQyxNQUFNLENBQUMsWUFBWSxFQUFFLENBQUMsQ0FBQyxDQUFDOzs0QkFDekIsTUFBTSxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQ3RCLEtBQUksQ0FBQyx1QkFBdUIsQ0FDL0I7d0JBQ0QsYUFBVyxDQUFDLFFBQVEsQ0FDaEIsU0FBTyxDQUFDLE1BQU0sQ0FBQyxVQUFVLENBQUMsRUFDMUIsTUFBTSxFQUNOLElBQUksRUFDSixJQUFJLENBQ1AsQ0FBQztvQkFDTixDQUFDLEVBQUMsQ0FBQztnQkFDWCxDQUFDLEVBQUMsQ0FBQzthQUNOO1NBQ0o7YUFBTTtZQUNILElBQUksSUFBSSxDQUFDLFdBQVcsRUFBRTtnQkFDbEIsSUFBSSxjQUFjLEdBQUcsQ0FBQyxDQUFDLEVBQUU7b0JBQ3JCLFVBQVUsQ0FBQyxNQUFNLENBQUMsY0FBYyxFQUFFLENBQUMsQ0FBQyxDQUFDO2lCQUN4QztnQkFDRCxVQUFVLENBQUMsT0FBTzs7OztnQkFBQyxVQUFDLFNBQWM7b0JBQzlCLEtBQUksQ0FBQyxTQUFTLENBQUMsU0FBUyxDQUFDO3lCQUNwQixLQUFLLENBQUMsR0FBRyxDQUFDO3lCQUNWLE9BQU87Ozs7b0JBQUMsVUFBQyxTQUFjOzs0QkFDZCxHQUFHLEdBQUcsS0FBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQzNCLFNBQVMsRUFDVCxLQUFJLENBQUMsV0FBVyxDQUNuQjs7NEJBQ0ssTUFBTSxHQUFHLEdBQUcsQ0FBQyxLQUFLLENBQ3BCLEtBQUksQ0FBQyx1QkFBdUIsQ0FDL0I7d0JBQ0QsTUFBTSxDQUFDLE1BQU0sQ0FBQyxZQUFZLEVBQUUsQ0FBQyxDQUFDLENBQUM7OzRCQUN6QixNQUFNLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FDdEIsS0FBSSxDQUFDLHVCQUF1QixDQUMvQjt3QkFDRCxLQUFJLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FDZixLQUFJLENBQUMsV0FBVyxFQUNoQixTQUFTLEVBQ1QsTUFBTSxDQUNULENBQUM7b0JBQ04sQ0FBQyxFQUFDLENBQUM7Z0JBQ1gsQ0FBQyxFQUFDLENBQUM7YUFDTjtTQUNKO0lBQ0wsQ0FBQztJQUNELFlBQVk7Ozs7OztJQUVaLGtEQUFvQjs7Ozs7O0lBQXBCLFVBQXFCLE1BQVc7UUFDNUIsSUFBSSxDQUFDLGtCQUFrQixHQUFHLENBQUMsSUFBSSxDQUFDLGtCQUFrQixDQUFDO0lBQ3ZELENBQUM7Ozs7O0lBRUQseURBQTJCOzs7O0lBQTNCLFVBQTRCLEdBQUc7UUFDM0IsSUFBSSxDQUFDLG1CQUFtQixHQUFHLEdBQUcsQ0FBQztRQUMvQixJQUFJLENBQUMsb0JBQW9CLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQ3hDLENBQUM7Ozs7O0lBRUQsaURBQW1COzs7O0lBQW5CLFVBQW9CLE1BQWtCO1FBQ2xDLE1BQU0sQ0FBQyxlQUFlLEVBQUUsQ0FBQztRQUN6QixJQUFJLElBQUksQ0FBQyxRQUFRLEVBQUU7WUFDZixJQUFJLENBQUMsUUFBUSxDQUFDLEtBQUssRUFBRSxDQUFDO1lBQ3RCLElBQUksQ0FBQyxRQUFRLENBQUMsT0FBTyxDQUFDLGFBQWEsQ0FBQyxLQUFLLEVBQUUsQ0FBQztTQUMvQztJQUNMLENBQUM7Ozs7O0lBRUQsNkNBQWU7Ozs7SUFBZixVQUFnQixLQUFLO1FBQXJCLGlCQVdDO1FBVkcsSUFBSSxLQUFLLElBQUksS0FBSyxDQUFDLE1BQU0sRUFBRTtZQUN2QixPQUFPLEtBQUssQ0FBQyxHQUFHOzs7O1lBQUMsVUFBQyxJQUFjO2dCQUM1QixJQUFJLElBQUksQ0FBQyxRQUFRLElBQUksSUFBSSxDQUFDLFFBQVEsQ0FBQyxNQUFNLEVBQUU7b0JBQ3ZDLElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDO29CQUNyQixLQUFJLENBQUMsZUFBZSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQztpQkFDdkM7Z0JBQ0QsT0FBTyxJQUFJLENBQUM7WUFDaEIsQ0FBQyxFQUFDLENBQUM7U0FDTjtRQUNELE9BQU8sS0FBSyxDQUFDO0lBQ2pCLENBQUM7SUFBQSxDQUFDO0lBRUYsZUFBZTs7Ozs7SUFDZixvREFBc0I7Ozs7O0lBQXRCO1FBQUEsaUJBZ0JDO1FBZkcsSUFBSSxJQUFJLENBQUMsU0FBUyxFQUFFO1lBQ2hCLElBQUksSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLEVBQUU7Z0JBQ3JCLE9BQU8sSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUM7YUFDOUI7aUJBQU07Z0JBQ0gsSUFBSSxJQUFJLENBQUMsU0FBUyxJQUFJLElBQUksQ0FBQyxTQUFTLENBQUMsTUFBTSxFQUFFO29CQUN6QyxPQUFPLE1BQU0sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDLEdBQUc7Ozs7b0JBQUMsVUFBQSxDQUFDO3dCQUNwQyxPQUFPLEtBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUM7b0JBQzdCLENBQUMsRUFBQyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQztpQkFDaEI7cUJBQU07b0JBQ0gsT0FBTyxJQUFJLENBQUMsU0FBUyxDQUFDO2lCQUN6QjthQUNKO1NBQ0o7YUFBTTtZQUNILE9BQU8sRUFBRSxDQUFDO1NBQ2I7SUFDTCxDQUFDOzs7OztJQUVELGdEQUFrQjs7OztJQUFsQixVQUFtQixNQUFNO1FBQ3JCLElBQUksSUFBSSxDQUFDLE1BQU0sRUFBRSxFQUFHO1lBQ2hCLElBQUksQ0FBQyxVQUFVLENBQUMsZ0JBQWdCLENBQUMsTUFBTSxDQUFDLENBQUM7U0FDNUM7YUFBTTtZQUNILElBQUksQ0FBQyxVQUFVLENBQUMsZ0JBQWdCLENBQUMsTUFBTSxDQUFDLENBQUM7U0FDNUM7SUFDTCxDQUFDOzs7OztJQUVELDJDQUFhOzs7O0lBQWIsVUFBYyxNQUFrQjtRQUFoQyxpQkFlQztRQWRHLElBQUcsTUFBTSxFQUFFO1lBQ1AsTUFBTSxDQUFDLGVBQWUsRUFBRSxDQUFDO1NBQzVCOztZQUVLLEdBQUcsR0FBRyxJQUFJLENBQUMsWUFBWSxDQUFDLFFBQVEsQ0FBQyw2QkFBNkIsQ0FBQztRQUVyRSxJQUFJLENBQUMsZUFBZSxDQUFDLE9BQU8sQ0FBQyxHQUFHLElBQUksa0JBQWtCLENBQUMsQ0FBQyxTQUFTOzs7O1FBQUMsVUFBQyxDQUFDO1lBQ2hFLElBQUksQ0FBQyxFQUFFO2dCQUNILEtBQUksQ0FBQyxXQUFXLENBQUMsS0FBSyxFQUFFLENBQUM7Z0JBQ3pCLElBQUksS0FBSSxDQUFDLGFBQWEsRUFBRTtvQkFDcEIsS0FBSSxDQUFDLGFBQWEsQ0FBQyxlQUFlLEVBQUUsQ0FBQztpQkFDeEM7YUFDSjtRQUNMLENBQUMsRUFBQyxDQUFDO0lBQ1AsQ0FBQzs7Ozs7SUFFRCxrREFBb0I7Ozs7SUFBcEIsVUFBcUIsTUFBa0I7UUFBdkMsaUJBWUM7UUFYRyxJQUFHLE1BQU0sRUFBRTtZQUNQLE1BQU0sQ0FBQyxlQUFlLEVBQUUsQ0FBQztTQUM1QjtRQUVELElBQUksSUFBSSxDQUFDLGFBQWEsQ0FBQyxVQUFVLElBQUksSUFBSSxDQUFDLGFBQWEsQ0FBQyxVQUFVLENBQUMsTUFBTSxFQUFFOztnQkFDakUsV0FBVyxHQUFHLElBQUksQ0FBQyxhQUFhLENBQUMsVUFBVSxDQUFDLEdBQUc7Ozs7WUFBQyxVQUFBLENBQUMsSUFBSSxPQUFBLENBQUMsQ0FBQyxLQUFJLENBQUMsT0FBTyxDQUFDLEVBQWYsQ0FBZSxFQUFDO1lBQzNFLElBQUksQ0FBQyxXQUFXLENBQUMsbUJBQW1CLENBQUMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxVQUFVLENBQUMsQ0FBQztZQUNwRSxJQUFJLENBQUMsYUFBYSxDQUFDLFdBQVcsQ0FBQyxXQUFXLENBQUMsQ0FBQztTQUMvQzthQUFNO1lBQ0gsSUFBSSxDQUFDLGFBQWEsQ0FBQyxPQUFPLENBQUMsWUFBWSxDQUFDLENBQUM7U0FDNUM7SUFDTCxDQUFDOzs7Ozs7SUFFRCw2Q0FBZTs7Ozs7SUFBZixVQUFnQixPQUFZLEVBQUUsR0FBc0M7UUFBdEMsb0JBQUEsRUFBQSxZQUFzQztRQUNoRSxJQUFJLElBQUksQ0FBQyxZQUFZLElBQUksSUFBSSxDQUFDLFlBQVksQ0FBQyxXQUFXLElBQUksSUFBSSxDQUFDLFlBQVksQ0FBQyxXQUFXLENBQUMsSUFBSSxFQUFFOztnQkFDcEYsZUFBYSxHQUFHLElBQUksQ0FBQyxZQUFZLENBQUMsV0FBVyxDQUFDLEdBQUcsQ0FBQztZQUN4RCxJQUFHLGVBQWEsRUFBRTs7b0JBQ1IsTUFBTSxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsZUFBYSxDQUFDO2dCQUN6QyxJQUFJLE1BQU0sSUFBSSxNQUFNLENBQUMsTUFBTSxFQUFFO29CQUN6QixPQUFPLENBQUMsT0FBTzs7OztvQkFBQyxVQUFBLENBQUM7d0JBQ2IsSUFBSSxlQUFhLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxFQUFFOzRCQUN4QixDQUFDLENBQUMsS0FBSyxHQUFHLGVBQWEsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUM7eUJBQ3BDO29CQUNMLENBQUMsRUFBQyxDQUFBO2lCQUNMO2FBQ0o7U0FDSjtJQUNMLENBQUM7O2dCQXY3RUosU0FBUyxTQUFDO29CQUNQLFFBQVEsRUFBRSxvQkFBb0I7b0JBQzlCLDBrY0FBMkM7b0JBRTNDLFNBQVMsRUFBRTt3QkFDUCx5QkFBeUI7d0JBQ3pCLGdCQUFnQjt3QkFDaEIsb0JBQW9CO3dCQUNwQixXQUFXO3dCQUNYLHFCQUFxQjtxQkFDeEI7b0JBQ0QsYUFBYSxFQUFFLGlCQUFpQixDQUFDLElBQUk7b0JBQ3JDLFFBQVEsRUFBRSxRQUFROztpQkFDckI7Ozs7Z0JBeEZtQixRQUFRO2dCQUFDLHdCQUF3QjtnQkFFeEIsVUFBVTtnQkFZOUIsV0FBVztnQkFnQ1gsb0JBQW9CO2dCQTdDdEIsaUJBQWlCO2dCQWVmLGdCQUFnQjtnQkErQmhCLFdBQVc7Z0JBN0NvQixNQUFNO2dCQUFDLFNBQVM7OztvQ0ErRm5ELEtBQUs7MkJBQ0wsS0FBSzs4QkFDTCxLQUFLOzhCQWlCTCxLQUFLOzZCQUVMLEtBQUs7NEJBRUwsS0FBSzs2QkFDTCxLQUFLOytCQUdMLEtBQUs7K0JBR0wsS0FBSzswQ0FFTCxLQUFLOzBCQUVMLEtBQUs7c0JBRUwsS0FBSzt3QkFLTCxLQUFLO2dDQUlMLEtBQUs7NkJBRUwsS0FBSzs0QkFFTCxLQUFLOzJCQUVMLEtBQUs7MkJBRUwsS0FBSzt3QkFFTCxLQUFLOzBCQUlMLEtBQUs7K0JBR0wsS0FBSztpQ0FHTCxLQUFLOzJCQUVMLEtBQUs7Z0NBS0wsTUFBTTs0QkFNTixLQUFLOzRCQUVMLEtBQUs7d0JBRUwsS0FBSztnQ0FFTCxLQUFLOzZCQUVMLEtBQUs7OEJBR0wsS0FBSzsyQkFFTCxLQUFLO2dDQUVMLEtBQUs7Z0NBRUwsS0FBSzsrQkFFTCxLQUFLO3FDQU9MLEtBQUs7OEJBRUwsS0FBSzsrQkFHTCxLQUFLOzhCQUdMLEtBQUs7bUNBRUwsS0FBSzt5QkFFTCxLQUFLOytCQUVMLEtBQUs7eUJBR0wsS0FBSztpQ0FHTCxLQUFLO2lDQUVMLEtBQUs7OEJBRUwsS0FBSztzQ0FFTCxLQUFLO21DQUNMLEtBQUs7bUNBQ0wsS0FBSzttQ0FVTCxLQUFLO21DQUdMLEtBQUs7aUNBTUwsS0FBSzttQ0FNTCxLQUFLO2lDQUdMLEtBQUs7bUNBR0wsS0FBSztnQ0FNTCxLQUFLO3VDQUNMLEtBQUs7eUJBTUwsS0FBSzs0QkFFTCxLQUFLOzhCQUdMLEtBQUs7Z0NBQ0wsS0FBSztnQ0FDTCxLQUFLO21DQUNMLEtBQUs7NkJBQ0wsS0FBSztrQ0FFTCxLQUFLO3FDQUNMLEtBQUs7NEJBR0wsS0FBSztnQ0FFTCxLQUFLOytCQUVMLEtBQUs7a0NBQ0wsS0FBSzt5Q0FHTCxLQUFLOzhCQUVMLEtBQUs7OEJBcUJMLEtBQUs7NkJBR0wsS0FBSztnQ0FDTCxLQUFLO2lDQUdMLEtBQUs7bUNBT0wsS0FBSztpQ0FLTCxLQUFLOytCQUlMLEtBQUs7eUNBS0wsS0FBSztnQ0FFTCxLQUFLO21DQUtMLEtBQUs7eUJBRUwsS0FBSztpQ0FZTCxLQUFLOytCQUVMLE1BQU07d0JBQ04sTUFBTTt5QkFFTixNQUFNO3dCQUVOLE1BQU07K0JBRU4sTUFBTTs4QkFDTixNQUFNOytCQUVOLE1BQU07aUNBRU4sTUFBTTs4QkFDTixNQUFNO2dDQUVOLE1BQU07NkJBS04sTUFBTTs4QkErQ04sS0FBSzttQ0FLTCxTQUFTLFNBQUMsa0JBQWtCLEVBQUUsRUFBRSxJQUFJLEVBQUUsZ0JBQWdCLEVBQUU7cUNBRXhELFNBQVMsU0FBQyxvQkFBb0IsRUFBRSxFQUFFLElBQUksRUFBRSxnQkFBZ0IsRUFBRTtnQ0FFMUQsU0FBUyxTQUFDLGVBQWUsRUFBRSxFQUFFLElBQUksRUFBRSxnQkFBZ0IsRUFBRTtrQ0FFckQsU0FBUyxTQUFDLGlCQUFpQixFQUFFLEVBQUUsSUFBSSxFQUFFLGdCQUFnQixFQUFFO2dDQUV2RCxTQUFTLFNBQUMsZUFBZTs2QkFDekIsU0FBUyxTQUFDLFlBQVk7NEJBQ3RCLFNBQVMsU0FBQyxXQUFXO3lCQUNyQixTQUFTLFNBQUMsUUFBUTsyQkFFbEIsU0FBUyxTQUFDLE9BQU87MkJBQ2pCLFNBQVMsU0FBQyxVQUFVO2dDQUVwQixTQUFTLFNBQUMsZUFBZTtnQ0FDekIsU0FBUyxTQUFDLGVBQWU7NEJBQ3pCLFNBQVMsU0FBQyxRQUFROztJQXVqRXZCLDBCQUFDO0NBQUEsQUF4N0VELENBZVksZUFBZSxHQXk2RTFCO1NBMTZFWSxtQkFBbUI7OztJQUk1Qix3Q0FBNkI7O0lBQzdCLDJDQUFrQjs7Ozs7SUFHbEIsZ0RBQW1DOztJQUNuQyx1Q0FBMkM7Ozs7O0lBa0IzQywwQ0FBNEI7Ozs7O0lBRTVCLHlDQUEyQjs7SUFFM0Isd0NBQWlDOztJQUNqQyx5Q0FBNEM7Ozs7O0lBRzVDLDJDQUE4Qjs7Ozs7SUFHOUIsMkNBQTZCOzs7OztJQUU3QixzREFBdUM7Ozs7O0lBRXZDLHNDQUEwQjs7Ozs7SUFFMUIsa0NBQTJCOzs7Ozs7SUFLM0Isb0NBQW9COzs7OztJQUlwQiw0Q0FBOEI7Ozs7O0lBRTlCLHlDQUEyQjs7Ozs7SUFFM0Isd0NBQXVCOzs7OztJQUV2Qix1Q0FBdUI7Ozs7O0lBRXZCLHVDQUEwQzs7Ozs7SUFFMUMsb0NBQW1COzs7OztJQUluQixzQ0FBNkI7Ozs7O0lBRzdCLDJDQUE2Qjs7Ozs7SUFHN0IsNkNBQStCOzs7OztJQUUvQix1Q0FBMEI7Ozs7O0lBSzFCLDRDQUE2Qzs7Ozs7O0lBTTdDLHdDQUFtQjs7SUFFbkIsd0NBQW9FOzs7OztJQUVwRSxvQ0FBb0I7O0lBRXBCLDRDQUFtQzs7Ozs7SUFFbkMseUNBQXlCOzs7OztJQUd6QiwwQ0FBeUI7O0lBRXpCLHVDQUE0Qjs7Ozs7SUFFNUIsNENBQStCOzs7OztJQUUvQiw0Q0FBd0U7Ozs7O0lBRXhFLDJDQUtDOzs7OztJQUVELGlEQUFtQzs7SUFFbkMsMENBQTBCOzs7OztJQUcxQiwyQ0FBOEI7Ozs7O0lBRzlCLDBDQUE2Qjs7Ozs7SUFFN0IsK0NBQTBEOzs7OztJQUUxRCxxQ0FBd0I7Ozs7O0lBRXhCLDJDQUE4Qjs7Ozs7SUFHOUIscUNBQXdCOzs7OztJQUd4Qiw2Q0FBK0I7O0lBRS9CLDZDQUFnQzs7Ozs7SUFFaEMsMENBQTBCOztJQUUxQixrREFBdUM7O0lBQ3ZDLCtDQUFvQzs7SUFDcEMsK0NBQW9DOztJQUdwQyxzREFJRTs7Ozs7SUFHRiwrQ0FBMkU7Ozs7O0lBRzNFLCtDQUFpQzs7Ozs7O0lBTWpDLDZDQUE2Qjs7Ozs7O0lBTTdCLCtDQUFrQzs7Ozs7SUFHbEMsNkNBQStCOzs7OztJQUcvQiwrQ0FJd0I7Ozs7O0lBRXhCLDRDQUE0Qjs7SUFDNUIsbURBQW9DOzs7Ozs7SUFNcEMscUNBQXFCOzs7OztJQUVyQix3Q0FBNEI7Ozs7O0lBRzVCLDBDQUE0Qjs7SUFDNUIsNENBQStCOztJQUMvQiw0Q0FBNEI7O0lBQzVCLCtDQUE0Qzs7SUFDNUMseUNBQXlCOzs7OztJQUV6Qiw4Q0FBcUQ7O0lBQ3JELGlEQUF3RDs7Ozs7SUFHeEQsd0NBQTBCOzs7OztJQUUxQiw0Q0FBOEI7O0lBRTlCLDJDQUErQjs7SUFDL0IsOENBQXlCOzs7OztJQUd6QixxREFBdUM7O0lBRXZDLDBDQW1CRTs7Ozs7SUFFRiwwQ0FBK0M7Ozs7O0lBRy9DLHlDQUE0Qjs7SUFDNUIsNENBQStCOzs7OztJQUcvQiw2Q0FBK0I7Ozs7Ozs7O0lBTy9CLCtDQUdvRTs7SUFFcEUsNkNBQXVHOzs7Ozs7SUFJdkcsMkNBQThCOzs7Ozs7SUFLOUIscURBQXdDOzs7OztJQUV4Qyw0Q0FBMkQ7Ozs7Ozs7SUFLM0QsK0NBQWdFOztJQUVoRSxxQ0FTQzs7Ozs7SUFHRCw2Q0FBK0I7O0lBRS9CLDJDQUE0Qzs7SUFDNUMsb0NBQXFDOzs7OztJQUVyQyxxQ0FBc0M7Ozs7O0lBRXRDLG9DQUFzQzs7SUFFdEMsMkNBQTRDOztJQUM1QywwQ0FBMkM7O0lBRTNDLDJDQUE0Qzs7SUFFNUMsNkNBQThDOztJQUM5QywwQ0FBMkM7O0lBRTNDLDRDQUdLOztJQUVMLHlDQUEwQzs7Ozs7SUFHMUMsOENBQThEOztJQUM5RCw2Q0FDRTs7SUFFRiwyQ0FBcUQ7O0lBNkNyRCwrQ0FDbUM7O0lBQ25DLGlEQUNxQzs7SUFDckMsNENBQ2dDOztJQUNoQyw4Q0FDa0M7O0lBQ2xDLDRDQUE4RDs7SUFDOUQseUNBQXlEOztJQUN6RCx3Q0FBd0Q7O0lBQ3hELHFDQUF3Qzs7SUFFeEMsdUNBQXlDOztJQUN6Qyx1Q0FBcUQ7O0lBRXJELDRDQUFzRDs7SUFDdEQsNENBQWlFOztJQUNqRSx3Q0FBZ0Q7O0lBRWhELDJDQUFnQzs7SUFDaEMsK0NBQW9EOztJQUNwRCxvREFBeUM7O0lBRXpDLG1DQUFnQzs7SUFDaEMsOENBQXdDOztJQUN4Qyw2Q0FBc0M7O0lBQ3RDLHNDQUEwQjs7SUFFMUIsZ0RBQXFDOztJQUdyQyw2Q0FBcUI7O0lBRXJCLHNEQUE4Qjs7SUFFOUIsK0NBQTBDOztJQUUxQyw0Q0FBbUM7O0lBQ25DLHVEQUF1Qzs7SUFDdkMsdURBQXVDOztJQUV2QywyQ0FBcUI7O0lBQ3JCLDJDQUFxQjs7SUFFckIsMENBQWlFOztJQUVqRSxvREFBNkI7O0lBRTdCLDJDQUFrQzs7SUFDbEMsOENBQTRCOzs7OztJQUU1QiwyQ0FBb0I7O0lBQ3BCLHNDQUFrQjs7SUFvQmxCLG9EQUFvRDs7SUFDcEQsMENBQWdDOztJQUNoQyw2Q0FBc0M7O0lBQ3RDLDJDQUFtQzs7SUFDbkMsNENBQW9DOztJQUNwQyw4Q0FBd0I7O0lBQ3hCLGlEQUFrQzs7SUFDbEMsZ0RBQStCOztJQUMvQixpREFBNkI7O0lBQzdCLGlEQUErQjs7Ozs7SUFHL0IscURBQStCOztJQUMvQix3Q0FBa0I7Ozs7O0lBRWxCLDRDQUFxQjs7SUFFckIsMERBQTRDOzs7OztJQUc1QyxtREFBK0M7Ozs7O0lBRS9DLDhDQUFxQjs7SUFDckIsd0NBQXNFOztJQUV0RSx3Q0FBaUM7O0lBQ2pDLHlDQUF5Qzs7SUFDekMsMENBQTBDOztJQUMxQyxzQ0FBa0M7O0lBQ2xDLDJDQUE0Qzs7SUFDNUMsd0NBQXNDOztJQUN0QywyQ0FBc0M7O0lBQ3RDLHlDQUF5Qzs7SUFFekMsaURBQWtEOztJQUVsRCx3Q0FBZTs7SUFDZixnREFBMEI7O0lBQzFCLHNDQUFnQjs7SUFDaEIsb0RBQThCOztJQUM5Qix1Q0FBaUI7O0lBRWpCLGlEQUtDOztJQUVELGlEQUEyQjs7SUFDM0IsMkNBQTJCOzs7OztJQUUzQiwwQ0FBaUI7Ozs7O0lBQ2pCLHFEQUFzQzs7Ozs7SUFDdEMsOENBQStEOzs7Ozs7SUFFL0QsNENBQWdDOztJQU1oQyx5Q0FBa0I7Ozs7O0lBR2xCLGtEQUF3Qjs7Ozs7SUFFeEIsa0RBQTRCOztJQUM1QixtREFBcUM7O0lBQ3JDLG9EQUEyQzs7SUFDM0MsNkNBQXFDOzs7OztJQUNyQyx1Q0FBc0M7O0lBRWxDLHVDQUF5Qjs7SUFDekIsa0NBQW9DOztJQUNwQyxpQ0FBcUI7O0lBQ3JCLG9DQUF5Qjs7Ozs7SUFDekIsNkNBQTRDOztJQUM1Qyw2Q0FBd0M7O0lBQ3hDLHdDQUFrQzs7SUFDbEMsMENBQStCOzs7OztJQUMvQixtQ0FBb0I7O0lBQ3BCLHNDQUF5QiIsInNvdXJjZXNDb250ZW50IjpbIi8qXHJcbiAqIEBBdXRob3I6IOeWr+eLguengOaJjShsdWNhcyBodWFuZylcclxuICogQERhdGU6IDIwMTgtMTEtMjMgMTE6MjM6MTJcclxuICogQExhc3RFZGl0b3JzOiDnlq/ni4Lnp4DmiY0oTHVjYXMgSHVhbmcpXHJcbiAqIEBMYXN0RWRpdFRpbWU6IDIwMjAtMTAtMjAgMjA6MTg6MjZcclxuICogQENvbXBhbnk6IEluc3B1clxyXG4gKiBAVmVyc2lvbjogdjAuMy54XHJcbiAqL1xyXG5cclxuaW1wb3J0IHtDb21wb25lbnQsIElucHV0LCBWaWV3Q2hpbGQsIE9uQ2hhbmdlcywgU2ltcGxlQ2hhbmdlcyxcclxuRXZlbnRFbWl0dGVyLE9uSW5pdCxJbmplY3RvcixDb21wb25lbnRGYWN0b3J5UmVzb2x2ZXIsXHJcbk91dHB1dCxDaGFuZ2VEZXRlY3RvclJlZixWaWV3RW5jYXBzdWxhdGlvbixBZnRlclZpZXdJbml0LFZpZXdDb250YWluZXJSZWYsXHJcbmZvcndhcmRSZWYsQ29tcG9uZW50UmVmLFR5cGUsRWxlbWVudFJlZixOZ1pvbmUsUmVuZGVyZXIyLE9uRGVzdHJveSxIb3N0TGlzdGVuZXIsfSBmcm9tIFwiQGFuZ3VsYXIvY29yZVwiO1xyXG5cclxuaW1wb3J0IHsgTkdfVkFMVUVfQUNDRVNTT1IgfSBmcm9tIFwiQGFuZ3VsYXIvZm9ybXNcIjtcclxuaW1wb3J0IHsgT2JzZXJ2YWJsZSwgU3Vic2NyaXB0aW9uLCBvZiwgU3ViamVjdCwgQmVoYXZpb3JTdWJqZWN0IH0gZnJvbSBcInJ4anNcIjtcclxuXHJcbmltcG9ydCB7IExvY2FsZVNlcnZpY2UgfSBmcm9tIFwiQGZhcnJpcy91aS1sb2NhbGVcIjtcclxuaW1wb3J0IHsgSVJlc2l6ZUV2ZW50IH0gZnJvbSBcIkBmYXJyaXMvdWktZHJhZ2dhYmxlXCI7XHJcbmltcG9ydCB7IE1lc3NhZ2VyU2VydmljZSB9IGZyb20gXCJAZmFycmlzL3VpLW1lc3NhZ2VyXCI7XHJcbmltcG9ydCB7IExvYWRpbmdTZXJ2aWNlLCBMb2FkaW5nQ29tcG9uZW50IH0gZnJvbSBcIkBmYXJyaXMvdWktbG9hZGluZ1wiO1xyXG5pbXBvcnQgeyBEYXRhVGFibGVDb21wb25lbnQgfSBmcm9tIFwiQGZhcnJpcy91aS1kYXRhdGFibGVcIjtcclxuaW1wb3J0IHsgVHJlZVRhYmxlQ29tcG9uZW50LCBUcmVlTm9kZSB9IGZyb20gXCJAZmFycmlzL3VpLXRyZWV0YWJsZVwiO1xyXG5pbXBvcnQgeyBMYXlvdXRDb21wb25lbnQsIExheW91dFBhbmVsQ29tcG9uZW50IH0gZnJvbSBcIkBmYXJyaXMvdWktbGF5b3V0XCI7XHJcbmltcG9ydCB7IENvbW1vblV0aWxzLCBEZWJ1Z1NlcnZpY2UsIEZhcnJpc0NvbXBvbmVudEluc3RhbmNlU2VydmljZSwgT3ZlckxheUhpZGRlblNlcnZpY2UgfSBmcm9tIFwiQGZhcnJpcy91aS1jb21tb25cIjtcclxuaW1wb3J0IHsgRW50aXR5RmlsdGVyLCBGaWx0ZXJDb25kaXRpb24gfSBmcm9tIFwiQGZhcnJpcy91aS1jb21tb24vdHlwZXNcIjtcclxuaW1wb3J0IHsgU2hvcnRjdXRzU2VydmljZSB9IGZyb20gXCJAZmFycmlzL3VpLXNob3J0Y3V0c1wiO1xyXG5pbXBvcnQgeyBJbnB1dEdyb3VwQ29tcG9uZW50IH0gZnJvbSBcIkBmYXJyaXMvdWktaW5wdXQtZ3JvdXBcIjtcclxuaW1wb3J0IHsgTm90aWZ5U2VydmljZSB9IGZyb20gXCJAZmFycmlzL3VpLW5vdGlmeVwiO1xyXG5cclxuaW1wb3J0IHtcclxuICAgIEZBVk9SSVRFX0ZJRUxEX05BTUUsXHJcbiAgICBJTlBVVF9HUk9VUF9JQ09OLFxyXG4gICAgTG9va3VwR3JpZERpc3BsYXlUeXBlLFxyXG4gICAgRXh0SW5mb0Zvcm1hdHRlcixcclxuICAgIEN1c3RvbURhdGFGb3JtYXR0ZXIsXHJcbiAgICBRdWlja1NlbGVjdE9wdGlvbixcclxuICAgIFF1aWNrU2VsZWN0RGVmYXVsdE9wdGlvbnMsXHJcbiAgICBTZWFyY2hCYXJNb2RlLFxyXG59IGZyb20gXCIuL2xvb2t1cC1kaXNwbGF5dHlwZVwiO1xyXG5pbXBvcnQgeyBMb29rdXBDb21wb25lbnQgfSBmcm9tIFwiLi9sb29rdXAuY29tcG9uZW50XCI7XHJcbmltcG9ydCB7XHJcbiAgICBMb29rdXBHcmlkT3B0aW9ucyxcclxuICAgIGxvb2t1cEdyaWREZWZhdWx0cyxcclxuICAgIExvb2t1cEdyaWRSZXN1bHQsXHJcbiAgICBOYXZpZ2F0aW9uT3B0aW9ucyxcclxuICAgIERpc3BsYXlJbmZvLFxyXG4gICAgZGlzcGxheUluZm9EZWZhdWx0LFxyXG4gICAgUGlja2luZ1Jlc3VsdCxcclxuICAgIFRyZWVJbmZvLFxyXG4gICAgTE9BRF9EQVRBX1RZUEUsXHJcbiAgICBPTkxZX1NFTEVDVF9MRUFGLFxyXG4gICAgUGVyc29uYWxDb25maWd9IGZyb20gXCIuL2xvb2t1cC1ncmlkLW9wdGlvbnNcIjtcclxuaW1wb3J0IHsgSUxvb2t1cEh0dHBTZXJ2aWNlLCBTZXJ2ZXJTaWRlVG9rZW4gfSBmcm9tIFwiLi9odHRwL0lMb29rdXBIdHRwU2VydmljZVwiO1xyXG5pbXBvcnQgeyBOYXZpZ2F0aW9uRmlsdGVyIH0gZnJvbSBcIi4vaHR0cC9SZW1vdGVQYXJhbXNcIjtcclxuaW1wb3J0IHsgTG9va3VwTGVmdENvbXBvbmVudCB9IGZyb20gXCIuL2xvb2t1cC1sZWZ0LmNvbXBvbmVudFwiO1xyXG5pbXBvcnQgeyBMb29rdXBEZWZhdWx0TWFwcGluZyB9IGZyb20gXCIuL2xvb2t1cC1kZWZhdXQtbWFwcGluZ1wiO1xyXG5pbXBvcnQgeyBMb29rdXBVdGlscyB9IGZyb20gXCIuL3V0aWxzXCI7XHJcbmltcG9ydCB7IFBlcnNvbmFsQ29uZmlnU2VydmljZSB9IGZyb20gXCIuL2xvb2t1cC1wcmVzb25hbENvbmZpZy5zZXJ2aWNlXCI7XHJcbmltcG9ydCB7XHJcbiAgICBVdGlsU2VydmljZSxcclxuICAgIFRyZWVOb2RlSGVscGVyLFxyXG4gICAgRmF2b3JpdGVIZWxwZXIsXHJcbiAgICBTZWxlY3Rpb25NYW5hZ2VyLFxyXG4gICAgRGF0YVRhYmxlRXZlbnRNYW5hZ2VyLFxyXG4gICAgVHJlZVRhYmxlRXZlbnRNYW5hZ2VyLFxyXG4gICAgTXVsdGlTZWxlY3Rpb25NYW5hZ2VyLFxyXG4gICAgTG9va3VwSHR0cE1hbmFnZXIsXHJcbiAgICBMb29rdXBDb21wb25lbnRNYW5hZ2VyLFxyXG4gICAgTG9va3VwRGlhbG9nTWFuYWdlcixcclxuICAgIG9uVGV4dENoYW5nZWQsXHJcbiAgICBMb29rdXBTZWxlY3Rpb25TZXJ2aWNlLFxyXG59IGZyb20gXCIuL3NlcnZpY2VzXCI7XHJcbmltcG9ydCB7IGNhdGNoRXJyb3IsIG1hcCwgc3dpdGNoTWFwIH0gZnJvbSBcInJ4anMvb3BlcmF0b3JzXCI7XHJcblxyXG5pbXBvcnQgeyBFdmVudE1hbmFnZXIgfSBmcm9tIFwiQGFuZ3VsYXIvcGxhdGZvcm0tYnJvd3NlclwiO1xyXG5pbXBvcnQgeyBjbG9uZURlZXAgfSBmcm9tIFwibG9kYXNoLWVzXCI7XHJcbmltcG9ydCB7IFNpbmdsZVNlbGVjdERpcmVjdGl2ZSB9IGZyb20gXCJAZmFycmlzL3VpLWZvcm1zXCI7XHJcblxyXG5leHBvcnQgY29uc3QgTE9PS1VQR1JJRF9WQUxVRV9BQ0NFU1NPUjogYW55ID0ge1xyXG4gICAgcHJvdmlkZTogTkdfVkFMVUVfQUNDRVNTT1IsXHJcbiAgICB1c2VFeGlzdGluZzogZm9yd2FyZFJlZigoKSA9PiBMb29rdXBHcmlkQ29tcG9uZW50KSxcclxuICAgIG11bHRpOiB0cnVlLFxyXG59O1xyXG5cclxuQENvbXBvbmVudCh7XHJcbiAgICBzZWxlY3RvcjogXCJmYXJyaXMtbG9va3VwLWdyaWRcIixcclxuICAgIHRlbXBsYXRlVXJsOiBcIi4vbG9va3VwLWdyaWQuY29tcG9uZW50Lmh0bWxcIixcclxuICAgIHN0eWxlVXJsczogW1wiLi9sb29rdXAtZ3JpZC5jb21wb25lbnQuc2Nzc1wiXSxcclxuICAgIHByb3ZpZGVyczogW1xyXG4gICAgICAgIExPT0tVUEdSSURfVkFMVUVfQUNDRVNTT1IsXHJcbiAgICAgICAgU2hvcnRjdXRzU2VydmljZSxcclxuICAgICAgICBMb29rdXBEZWZhdWx0TWFwcGluZyxcclxuICAgICAgICBMb29rdXBVdGlscyxcclxuICAgICAgICBQZXJzb25hbENvbmZpZ1NlcnZpY2UsXHJcbiAgICBdLFxyXG4gICAgZW5jYXBzdWxhdGlvbjogVmlld0VuY2Fwc3VsYXRpb24uTm9uZSxcclxuICAgIGV4cG9ydEFzOiBcImxvb2t1cFwiXHJcbn0pXHJcbmV4cG9ydCBjbGFzcyBMb29rdXBHcmlkQ29tcG9uZW50XHJcbiAgICBleHRlbmRzIExvb2t1cENvbXBvbmVudFxyXG4gICAgaW1wbGVtZW50cyBPbkluaXQsIEFmdGVyVmlld0luaXQsIE9uQ2hhbmdlcywgT25EZXN0cm95XHJcbntcclxuICAgIGdyb3VwSWNvbiA9IElOUFVUX0dST1VQX0lDT047XHJcbiAgICBfZGlzcGxheVR5cGUgPSBcIlwiO1xyXG5cclxuICAgIC8qKiDkvb/nlKjooajljZXorr7orqHlmajkuK3nmoTmmL7npLrnsbvlnovjgILlkKbliJnkvb/nlKjlhYPmlbDmja7orr7nva7nmoTmmL7npLrnsbvlnovjgIIg6buY6K6k77yaZmFsc2UgKi9cclxuICAgIEBJbnB1dCgpIGN1c3RvbURpc3BsYXlUeXBlID0gZmFsc2U7XHJcbiAgICBASW5wdXQoKSB2aWV3VHlwZTogXCJ0ZXh0XCIgfCBcInRhZ1wiID0gXCJ0ZXh0XCI7XHJcbiAgICBASW5wdXQoKVxyXG4gICAgZ2V0IGRpc3BsYXlUeXBlKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9kaXNwbGF5VHlwZTtcclxuICAgIH1cclxuICAgIHNldCBkaXNwbGF5VHlwZSh2YWw6IHN0cmluZykge1xyXG4gICAgICAgIGlmICh2YWwpIHtcclxuICAgICAgICAgICAgY29uc3QgdHlwZXMgPSBPYmplY3QudmFsdWVzKExvb2t1cEdyaWREaXNwbGF5VHlwZSk7XHJcbiAgICAgICAgICAgIGNvbnN0IGkgPSB0eXBlcy5maW5kSW5kZXgoKG4pID0+IG4gPT09IHZhbC50b1VwcGVyQ2FzZSgpKTtcclxuICAgICAgICAgICAgaWYgKGkgPiAtMSkge1xyXG4gICAgICAgICAgICAgICAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKExvb2t1cEdyaWREaXNwbGF5VHlwZSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9kaXNwbGF5VHlwZSA9IExvb2t1cEdyaWREaXNwbGF5VHlwZVtrZXlzW2ldXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2Rpc3BsYXlUeXBlID0gdmFsO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8qKiDlkK/nlKjmuIXnqbrmjInpkq4gKi9cclxuICAgIEBJbnB1dCgpIGVuYWJsZUNsZWFyID0gdHJ1ZTtcclxuICAgIC8qKiDmnI3liqHlmajnq6/mjpLluo8gKi9cclxuICAgIEBJbnB1dCgpIHJlbW90ZVNvcnQgPSB0cnVlO1xyXG5cclxuICAgIEBJbnB1dCgpIGNvbmRpdGlvbjogRW50aXR5RmlsdGVyO1xyXG4gICAgQElucHV0KCkgY29uZGl0aW9uczogQXJyYXk8RmlsdGVyQ29uZGl0aW9uPjtcclxuXHJcbiAgICAvKiog5qCR6KGo5pi+56S65YWo6YCJ5aSN6YCJ5qGG44CCIOm7mOiupOS4jeaYvuekuiAqL1xyXG4gICAgQElucHV0KCkgc2hvd0NoZWNrQWxsID0gZmFsc2U7XHJcblxyXG4gICAgLyoqIOaYr+WQpuWQr+eUqOWkmumAiSAqL1xyXG4gICAgQElucHV0KCkgc2luZ2xlU2VsZWN0ID0gdHJ1ZTtcclxuICAgIC8qKiDlpJrpgInliIbpmpTnrKYsIOm7mOiupOS4uiAsICovXHJcbiAgICBASW5wdXQoKSBtdWx0aXBsZUNob2ljZVNlcGFyYXRvciA9IFwiLFwiO1xyXG4gICAgLyoqIOS4u+mUruWtl+autSAqL1xyXG4gICAgQElucHV0KCkgaWRGaWVsZD86IHN0cmluZztcclxuICAgIC8qKiDlj6/ku6XkuLrlhYPmlbDmja5JROOAgXdlYmFwaVVSTCAqL1xyXG4gICAgQElucHV0KCkgdXJpPzogc3RyaW5nID0gJyc7XHJcbiAgICAvKipcclxuICAgICAqIEJFIFJFU1QgUlVJXHJcbiAgICAgKiAtIOatpOWkhOiuvue9ruWQjiB1cmkg5aSx5pWIXHJcbiAgICAgKi9cclxuICAgIEBJbnB1dCgpIGJlVXJpID0gXCJcIjtcclxuICAgIC8qKlxyXG4gICAgICog5pi+56S66L+H5ruk5bel5YW35p2hOyDpu5jorqQgdHJ1ZVxyXG4gICAgICovXHJcbiAgICBASW5wdXQoKSBzaG93RmlsdGVyQmFyID0gdHJ1ZTtcclxuICAgIC8qKiDmmK/lkKblkK/nlKjliIbpobUgKi9cclxuICAgIEBJbnB1dCgpIHBhZ2luYXRpb24gPSB0cnVlO1xyXG4gICAgLyoqIOW9k+WJjemhtee0ouW8le+8jOS7jiAx5byA5aeLICovXHJcbiAgICBASW5wdXQoKSBwYWdlSW5kZXggPSAxO1xyXG4gICAgLyoqIOavj+mhteiusOW9leaVsCAqL1xyXG4gICAgQElucHV0KCkgcGFnZVNpemUgPSAyMDtcclxuICAgIC8qKiDlj6/nlKjliIbpobXorrDlvZXmlbDliJfooaggKi9cclxuICAgIEBJbnB1dCgpIHBhZ2VMaXN0ID0gWzEwLCAyMCwgMzAsIDUwLCAxMDBdO1xyXG4gICAgLyoqIOaAu+iusOW9leaVsCAqL1xyXG4gICAgQElucHV0KCkgdG90YWwgPSAwO1xyXG4gICAgLyoqIOWPr+aLluWKqOWIlyAqL1xyXG4gICAgLy8gQElucHV0KCkgcmVzaXphYmxlQ29sdW1ucyA9IHRydWU7XHJcbiAgICAvKiog5pi+56S65YiX5L+h5oGvLCDpu5jorqTkuLogW10gKi9cclxuICAgIEBJbnB1dCgpIGNvbHVtbnM6IGFueVtdID0gW107XHJcblxyXG4gICAgLyoqIOW4ruWKqeafpeivouaYr+WQpuS4uui/nOerr+afpeivoiAqL1xyXG4gICAgQElucHV0KCkgcmVtb3RlU2VhcmNoID0gdHJ1ZTtcclxuXHJcbiAgICAvKiog5paH5pys5Y+Y5YyW5ZCO77yM6L+b6KGM5pyN5Yqh5Zmo56uv5p+l6K+iICovXHJcbiAgICBASW5wdXQoKSBzZWFyY2hPblNlcnZlciA9IHRydWU7XHJcbiAgICAvKiog5LiN6L+b6KGM5pyN5Yqh5Zmo5p+l6K+i77yM5pyJ5ZWl566X5ZWlICovXHJcbiAgICBASW5wdXQoKSBub3NlYXJjaCA9IGZhbHNlO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICog5ZCv55So5Lu75oSP6L6T5YWl5ZCO77yM5YC86YCa6L+H6L6T5YWl5pe26Kem5Y+RXHJcbiAgICAgKi9cclxuICAgIEBPdXRwdXQoKSBjbGVhck1hcHBpbmdzID0gbmV3IEV2ZW50RW1pdHRlcigpO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICog5YWB6K646L6T5YWl55qE5a2X56ym5pyA5aSn6ZW/5bqm44CCXHJcbiAgICAgKiDku7vmhI/ovpPlhaXml7bvvIzmraTlsZ7mgKfmnInmlYhcclxuICAgICAqL1xyXG4gICAgQElucHV0KCkgbWF4TGVuZ3RoO1xyXG5cclxuICAgIEBJbnB1dCgpIG1hcHBpbmdGbjogKHJvd0RhdGEsIG1hcEZpZWxkcywgYmluZGluZ0RhdGE/OiBhbnkpID0+IHZvaWQ7XHJcbiAgICAvKiog5pWw5o2u5YiX6KGoICovXHJcbiAgICBASW5wdXQoKSBpdGVtczogYW55O1xyXG4gICAgLy8g5pS26JeP5YiX6KGoXHJcbiAgICBASW5wdXQoKSBmYXZvcml0ZUl0ZW1zOiBhbnlbXSA9IFtdO1xyXG4gICAgLyoqIOiHquWumuS5ieaVsOaNriAqL1xyXG4gICAgQElucHV0KCkgY3VzdG9tRGF0YTogYW55O1xyXG5cclxuICAgIC8qKiDnu5HlrprlgLzmiYDlnKjnmoTlr7nosaEgKi9cclxuICAgIEBJbnB1dCgpIGJpbmRpbmdEYXRhOiB7fTtcclxuXHJcbiAgICBASW5wdXQoKSB0cmVlSW5mbzogVHJlZUluZm87XHJcbiAgICAvKiog5piv5ZCm5ZCv55So57qn6IGU6YCJ5oup5o6n5Yi26YCJ6aG5ICovXHJcbiAgICBASW5wdXQoKSBlbmFibGVDYXNjYWRlID0gZmFsc2U7XHJcbiAgICAvKiog57qn6IGU5o6n5Yi26buY6K6k5YC877yaIGVuYWJsZTog5ZCM5q2l6YCJ5oupLCB1cO+8muWMheWQq+S4iue6pywgZG93bu+8muWMheWQq+S4i+e6pywgZGlzYWJsZe+8muS7hemAieaLqeiHqui6qyAqL1xyXG4gICAgQElucHV0KCkgY2FzY2FkZVN0YXR1czogXCJlbmFibGVcIiB8IFwidXBcIiB8IFwiZG93blwiIHwgXCJkaXNhYmxlXCIgPSBcImVuYWJsZVwiO1xyXG4gICAgLyoqIOWIhuWIq+e6p+iBlOmAiemhueeahOWQr+eUqOeKtuaAge+8jOm7mOiupOWFqOmDqOWQr+eUqCAqL1xyXG4gICAgQElucHV0KCkgY2FzY2FkZUl0ZW1zID0ge1xyXG4gICAgICAgIGVuYWJsZTogdHJ1ZSxcclxuICAgICAgICB1cDogdHJ1ZSwgXHJcbiAgICAgICAgZG93bjogdHJ1ZSxcclxuICAgICAgICBkaXNhYmxlOiB0cnVlXHJcbiAgICB9XHJcbiAgICAvKiog5pi+56S657qn6IGU5o6n5Yi2ICovXHJcbiAgICBASW5wdXQoKSBzaG93Q2FzY2FkZUNvbnRyb2wgPSB0cnVlO1xyXG5cclxuICAgIEBJbnB1dCgpIHBsYWNlaG9sZGVyID0gXCJcIjtcclxuXHJcbiAgICAvKiog5pi+56S65bey6YCJ6K6w5b2V5YiX6KGo44CCIOm7mOiupOS4uiBmYWxzZSDkuI3mmL7npLogKi9cclxuICAgIEBJbnB1dCgpIHNob3dTZWxlY3RlZCA9IGZhbHNlO1xyXG5cclxuICAgIC8qKiDlupTnlKjmlLbol4/lpLkgKi9cclxuICAgIEBJbnB1dCgpIHVzZUZhdm9yaXRlID0gZmFsc2U7XHJcbiAgICAvKiog5pS26JeP5pWw5o2u5p2l6Ieq5LqO77yaIGxvY2FsZTog5pys5Zyw5a2Y5YKo77yMIHJlbW90ZTog5pyN5Yqh5Zmo56uv5a2Y5YKoICovXHJcbiAgICBASW5wdXQoKSBmYXZvcml0ZURhdGFGcm9tOiBcImxvY2FsZVwiIHwgXCJyZW1vdGVcIiA9IFwicmVtb3RlXCI7XHJcbiAgICAvKiog5L2/55So5o+Q56S6LOW/q+aNt+mAieaLqSAqL1xyXG4gICAgQElucHV0KCkgdXNlVGlwID0gZmFsc2U7XHJcbiAgICAvKiog6K6w5b2V56qX5Y+j5aSn5bCPICovXHJcbiAgICBASW5wdXQoKSBpc1JlY29yZFNpemUgPSBmYWxzZTtcclxuXHJcbiAgICAvKiog5b+r6YCf6YCJ5oupICovXHJcbiAgICBASW5wdXQoKSB1c2VySWQ6IHN0cmluZztcclxuXHJcbiAgICAvKiog5piv5ZCm5ZCv55So6YCJ5LitdmFsdWXlgLzlr7nlupTnmoTooYzmlbDmja7vvIzpu5jorqQgdHJ1ZSAqL1xyXG4gICAgQElucHV0KCkgZW5hYmxlVG9TZWxlY3QgPSB0cnVlO1xyXG5cclxuICAgIEBJbnB1dCgpIGVuYWJsZUZpbmRUZXh0ID0gZmFsc2U7XHJcbiAgICAvKiogLTE6IOS4jeWxleW8gO+8myAwOiDlhajpg6jlsZXlvIDvvJs+MDog5bGV5byA5Yiw5oyH5a6a57qn5pWwICovXHJcbiAgICBASW5wdXQoKSBleHBhbmRMZXZlbCA9IC0xO1xyXG5cclxuICAgIEBJbnB1dCgpIG5hdlRyZWVUYWJsZU9wdGlvbnM6IGFueSA9IHt9O1xyXG4gICAgQElucHV0KCkgdHJlZVRhYmxlT3B0aW9uczogYW55ID0ge307XHJcbiAgICBASW5wdXQoKSBkYXRhVGFibGVPcHRpb25zOiBhbnkgPSB7fTtcclxuXHJcblxyXG4gICAgZGVmYXVsdFRyZWVUYWJsZU9wdGlvbnMgPSB7XHJcbiAgICAgICAgbWF4TGV2ZWw6IDksXHJcbiAgICAgICAgZW5hYmxlQ29udGV4dE1lbnU6IGZhbHNlLFxyXG4gICAgICAgIGNvbnRleHRNZW51SXRlbXM6IFtdLFxyXG4gICAgfTtcclxuXHJcbiAgICAvKiog5qCR5b2i5biu5Yqp5pWw5o2u5Yqg6L295pa55byP77yaIGRlZmF1bHQ6IOWGhee9ruWPluaVsO+8myBsb2FkYWxsOiDliqDovb3miYDmnIkgbGF5ZXJsb2Fk77ya5YiG5bGC5Yqg6L29ICovXHJcbiAgICBASW5wdXQoKSBsb2FkVHJlZURhdGFUeXBlOiBcImRlZmF1bHRcIiB8IFwibG9hZGFsbFwiIHwgXCJsYXllcmxvYWRcIiA9IFwiZGVmYXVsdFwiO1xyXG5cclxuICAgIC8qKiDnqpflj6PmiZPlvIDlkI7nq4vljbPliqDovb3mlbDmja7vvIzpu5jorqTkuLogdHJ1ZSAqL1xyXG4gICAgQElucHV0KCkgbG9hZERhdGFXaGVuT3BlbiA9IHRydWU7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDlr7zoiKrliJfooajvvIzmoJHliJfooajlnKjluK7liqnmiZPlvIDlkI7pgInkuK3nmoTmlbDmja47XHJcbiAgICAgKiDorr7nva7lkI7vvIxgc2VsZWN0Rmlyc3RJbk5hdmAg5aSx5pWI77yBXHJcbiAgICAgKi9cclxuICAgIEBJbnB1dCgpIG5hdlNlbGVjdGVkSWRzID0gXCJcIjtcclxuXHJcbiAgICAvKipcclxuICAgICAqIOWvvOiIquW4ruWKqe+8jOmAieS4reesrDHmnaHmlbDmja7vvIzpu5jorqTkuLogZmFsc2U7XHJcbiAgICAgKiDms6jmhI/vvJrlvZNgbmF2U2VsZWN0ZWRJZHNg5LiN5Li656m65pe277yM5q2k5bGe5oCn5aSx5pWI44CCXHJcbiAgICAgKi9cclxuICAgIEBJbnB1dCgpIHNlbGVjdEZpcnN0SW5OYXYgPSBmYWxzZTtcclxuXHJcbiAgICAvKiog5ZCv55So5p6E6YCg5a6M5pW05qCR6L+H5rukICovXHJcbiAgICBASW5wdXQoKSBlbmFibGVGdWxsVHJlZSA9IHRydWU7XHJcblxyXG4gICAgLyoqIOaYvuekuuaWh+acrOiHquWumuS5ieWHveaVsCAqL1xyXG4gICAgQElucHV0KCkgZGlzcGxheUZvcm1hdHRlcjogKFxyXG4gICAgICAgIHZhbHVlOiBzdHJpbmcsXHJcbiAgICAgICAgZGF0YTogYW55LFxyXG4gICAgICAgIGluc3RhbmNlOiBhbnlcclxuICAgICkgPT4gc3RyaW5nID0gdW5kZWZpbmVkO1xyXG4gICAgLyoqIOaYvuekuuaWh+acrOWtl+autembhuWQiO+8jOS7pSDoi7Hmlocg6YCX5Y+36ZqU5byAICovXHJcbiAgICBASW5wdXQoKSBkaXNwbGF5RmllbGRzID0gXCJcIjtcclxuICAgIEBJbnB1dCgpIGRpc3BsYXlUZXh0U2VwYXJhdG9yID0gXCJfXCI7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDluK7liqnlhYPmlbDmja5JRO+8jOS4jeS4uuepuuaXtuiwg+eUqOaMh+WumueahFVSSVxyXG4gICAgICogL2FwaS9ydW50aW1lL2JjYy92MS4wL2hlbHAvZGF0YS97aGVscElkfVxyXG4gICAgICovXHJcbiAgICBASW5wdXQoKSBoZWxwSWQgPSBcIlwiO1xyXG4gICAgLyoqIOaWh+acrOWvuem9kOaWueW8j++8myBsZWZ0IHwgY2VudGVyIHwgcmlnaHQ7IOm7mOiupCBsZWZ0ICovXHJcbiAgICBASW5wdXQoKSB0ZXh0QWxpZ24gPSBcImxlZnRcIjtcclxuXHJcbiAgICAvKiog6byg5qCH5ruR6L+H6L6T5YWl5qGG5pe25pi+56S66L6T5YWl5qGG5YaF55qE5paH5pys5L+h5oGvICovXHJcbiAgICBASW5wdXQoKSBlbmFibGVUaXRsZSA9IHRydWU7XHJcbiAgICBASW5wdXQoKSB1c2VFeHRlbmRJbmZvID0gZmFsc2U7XHJcbiAgICBASW5wdXQoKSBleHRJbmZvRmllbGRzID0gXCJcIjtcclxuICAgIEBJbnB1dCgpIGV4dEluZm9Gb3JtYXR0ZXI6IEV4dEluZm9Gb3JtYXR0ZXI7XHJcbiAgICBASW5wdXQoKSBleHRlbmRJbmZvID0gXCJcIjtcclxuICAgIC8qKiBJREUg6K6+6K6h5Zmo6Ieq5a6a5LmJ5qC85byP5YyWIDIxMDMgKi9cclxuICAgIEBJbnB1dCgpIGN1c3RvbUZvcm1hdHRlcjogQ3VzdG9tRGF0YUZvcm1hdHRlciA9IG51bGw7XHJcbiAgICBASW5wdXQoKSBjdXN0b21OYXZGb3JtYXR0ZXI6IEN1c3RvbURhdGFGb3JtYXR0ZXIgPSBudWxsO1xyXG5cclxuICAgIC8qKiDoh6rlrprkuYnnoa7lrprkuovku7YgKi9cclxuICAgIEBJbnB1dCgpIG9rSGFuZGxlciA9IG51bGw7XHJcbiAgICAvKiog6Ieq5a6a5LmJ5Y+W5raI5LqL5Lu2ICovXHJcbiAgICBASW5wdXQoKSBjYW5jZWxIYW5kbGVyID0gbnVsbDtcclxuXHJcbiAgICBASW5wdXQoKSB0YWdib3hIZWlnaHQgPSBcImF1dG9cIjtcclxuICAgIEBJbnB1dCgpIG1heFRhZ2JveEhlaWdodDtcclxuXHJcbiAgICAvKiog5ZCv55So6I635Y+W5omA5pyJ5a2Q57qn5pWw5o2u55qE5Yqf6IO9LOS7heaUr+aMgeWIhue6p+eggSAqL1xyXG4gICAgQElucHV0KCkgZW5hYmxlR2V0QWxsQ2hpbGROb2RlcyA9IHRydWU7XHJcblxyXG4gICAgQElucHV0KCkgc2hvcnRjdXRLZXkgPSB7XHJcbiAgICAgICAgLyoqIOaJk+W8gOW4ruWKqeeql+WPoyAqL1xyXG4gICAgICAgIG9wZW46IFwiQXJyb3dSaWdodFwiLFxyXG4gICAgICAgIC8qKiDnoa7orqTpgInmi6nmlbDmja4gKi9cclxuICAgICAgICBjb25maXJtOiBcIkVudGVyXCIsXHJcbiAgICAgICAgLyoqIOaQnOe0ouahhueEpueCuSAqL1xyXG4gICAgICAgIHNlYXJjaEZvY3VzOiBcIkYzXCIsXHJcbiAgICAgICAgLyoqIOmAieS4reS4iuS4gOadoSAqL1xyXG4gICAgICAgIG1vdmVVcDogXCJBcnJvd1VwXCIsXHJcbiAgICAgICAgLyoqIOmAieS4reS4i+S4gOadoSAqL1xyXG4gICAgICAgIG1vdmVEb3duOiBcIkFycm93RG93blwiLFxyXG4gICAgICAgIC8qKiDlsZXlvIDoioLngrkgKi9cclxuICAgICAgICBleHBhbmQ6IFwiQXJyb3dSaWdodFwiLFxyXG4gICAgICAgIC8qKiDmipjlj6DoioLngrkgKi9cclxuICAgICAgICBjb2xsYXBzZTogXCJBcnJvd0xlZnRcIixcclxuICAgICAgICAvKiog5LiL5LiA6aG1ICovXHJcbiAgICAgICAgbmV4dFBhZ2VyOiBcIlBhZ2VEb3duXCIsXHJcbiAgICAgICAgLyoqIOS4iuS4gOmhtSAqL1xyXG4gICAgICAgIHByZXZQYWdlcjogXCJQYWdlVXBcIixcclxuICAgIH07XHJcbiAgICAvKiog5b+r5o236YCJ5oup55u45YWz6YWN572u6aG577yM6buY6K6k5Li6IG51bGwsIOWNs+S4jeWQr+eUqOatpOWKn+iDvSAqL1xyXG4gICAgQElucHV0KCkgcXVpY2tTZWxlY3Q6IFF1aWNrU2VsZWN0T3B0aW9uID0gbnVsbDtcclxuXHJcbiAgICAvKiog5qCR5b2i5biu5YqpIOaYr+WQpuS9v+eUqOagkeW9oue7k+aehOaVsOaNruOAgum7mOiupOS4uiB0cnVlLCDlvZPkuLogZmFsc2Ug5pe277yM5pyN5Yqh5Zmo56uv5peg6aG75p6E6YCg5qCR5b2i57uT5p6E77yM5oyJ5pmu6YCa5YiX6KGo6L6T5Ye6ICovXHJcbiAgICBASW5wdXQoKSB0cmVlVG9MaXN0ID0gZmFsc2U7XHJcbiAgICBASW5wdXQoKSBuYXZUcmVlVG9MaXN0ID0gZmFsc2U7XHJcblxyXG4gICAgLyoqIOW4puWvvOiIqueahOW4ruWKqeS4re+8jOaYr+WQpuaYvuekuuW3puS+p+WvvOiIqumDqOWIhuOAgum7mOiupCB0cnVlICovXHJcbiAgICBASW5wdXQoKSBzaG93TmF2aWdhdGlvbiA9IHRydWU7XHJcblxyXG4gICAgLyoqIOaVsOaNrumAieaLqeWQju+8jOWAvOaYoOWwhOWJjeinpuWPkVxyXG4gICAgICog6L+U5ZueIE9ic2VydmFibGVcclxuICAgICAqICAgICAgY2FuU2VsZWN0OiA8Ym9vbGVhbj4gIOaYr+WQpuWFgeiuuOmAieaLqVxyXG4gICAgICogICAgICBtZXNzYWdlOiA8c3RyaW5nPiDkuI3lhYHorrjpgInmi6nml7bnmoTmj5DnpLrkv6Hmga9cclxuICAgICAqL1xyXG4gICAgQElucHV0KCkgYmVmb3JlU2VsZWN0RGF0YTogKHA6IHtcclxuICAgICAgICBpbnN0YW5jZTogYW55O1xyXG4gICAgICAgIGRhdGE6IGFueTtcclxuICAgIH0pID0+IE9ic2VydmFibGU8eyBjYW5TZWxlY3Q6IGJvb2xlYW47IG1lc3NhZ2U6IHN0cmluZyB9IHwgYm9vbGVhbj47XHJcblxyXG4gICAgQElucHV0KCkgYmVmb3JlTG9hZERhdGE6IChwOiB7IGluc3RhbmNlOiBhbnksIHJlczogTG9va3VwR3JpZFJlc3VsdCB9KSA9PiBPYnNlcnZhYmxlPExvb2t1cEdyaWRSZXN1bHQ+O1xyXG5cclxuICAgIC8qKiDmmK/lkKblkK/nlKjmlrDluIPlsYBcclxuICAgICAqIC0g6buY6K6kIGZhbHNlICovXHJcbiAgICBASW5wdXQoKSB1c2VOZXdMYXlvdXQgPSBmYWxzZTtcclxuXHJcbiAgICAvKiog5ZCv55So5aSa5a2X5q615p+l6K+iIOm7mOiupOS4uiBmYWxzZVxyXG4gICAgICogLSDlkK/nlKjmraTnibnmgKflkI7vvIx1c2VOZXdMYXlvdXQg6Ieq5Yqo5ZCv55SoXHJcbiAgICAgKi9cclxuICAgIEBJbnB1dCgpIGVuYWJsZU11bHRpRmllbGRTZWFyY2ggPSBmYWxzZTtcclxuICAgIC8qKiDmkJzntKLlt6XlhbfmnaHmmL7npLrmqKHlvI/vvIwgYm90aDog5YWo6YOo5pi+56S677ybb25seWZpZWxkOiDku4XmmL7npLrlrZfmrrXvvJtvbmx5aW5wdXQ6IOS7heaYvuekuuaQnOe0oui+k+WFpeahhuOAgum7mOiupCBib3RoICovXHJcbiAgICBASW5wdXQoKSBzZWFyY2hCYXJNb2RlOiBTZWFyY2hCYXJNb2RlID0gU2VhcmNoQmFyTW9kZS5ib3RoO1xyXG4gICAgLyoqIOWFgeiuuOafpeivoueahOWtl+aute+8jOS7heWQr+eUqOWkmuWtl+auteafpeivouaXtuacieaViO+8jOWkmuS4quWtl+auteS7pSDigJws4oCdIOmalOW8gO+8myAgXHJcbiAgICAgKiAgLSBuYXYg5bem5L6n5a+86Iiq5a2X5q6177ybbWFpbiDkuLvmlbDmja7lrZfmrrU7XHJcbiAgICAgKiAgLSDpu5jorqTkuLogbnVsbCwg5Y2z5LuO5omA5pyJ5pi+56S65YiX5Lit6Ieq5Yqo5o+Q5Y+WXHJcbiAgICAgKi9cclxuICAgIEBJbnB1dCgpIGFsbG93UXVlcnlGaWVsZHM6eyBuYXY/OiBzdHJpbmcsIG1haW46IHN0cmluZyB9ID0gbnVsbDtcclxuXHJcbiAgICBASW5wdXQoKSBsYWJlbHMgPSB7XHJcbiAgICAgICAgLyoqIOaVsOaNruWIl+ihqCovXHJcbiAgICAgICAgZGF0YVRhYjogJycsXHJcbiAgICAgICAgLyoqIOaUtuiXj+WkuSAqL1xyXG4gICAgICAgIGZhdlRhYjonJyxcclxuICAgICAgICAvKiog5Y+W5raI5bey6YCJICovXHJcbiAgICAgICAgY2xlYXJBbGxTZWxlY3RlZDogJycsXHJcbiAgICAgICAgLyoqIOW3sumAieiusOW9lemdouadv+S4rSDliKDpmaTlt7LpgIkgKi9cclxuICAgICAgICBkZWxTZWxlY3RlZDogJydcclxuICAgIH1cclxuXHJcbiAgICAvKiog5YWB6K645Lu75oSP5a2X5q616L+b6KGM5p+l6K+i77ybIOm7mOiupCB0cnVlICovXHJcbiAgICBASW5wdXQoKSBzZWFyY2hBbnlGaWVsZCA9IHRydWU7XHJcblxyXG4gICAgQE91dHB1dCgpIHNlbGVjdGVkRGF0YSA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcclxuICAgIEBPdXRwdXQoKSBjbGVhciA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcclxuICAgIC8qKiDmnKrlkK/nlKjlpJrlrZfmrrXmn6Xor6Lml7bop6blj5EgKi9cclxuICAgIEBPdXRwdXQoKSBzZWFyY2ggPSBuZXcgRXZlbnRFbWl0dGVyKCk7XHJcbiAgICAvKiog5ZCv55So5aSa5a2X5q615p+l6K+i5pe26Kem5Y+RICovXHJcbiAgICBAT3V0cHV0KCkgcXVlcnkgID0gbmV3IEV2ZW50RW1pdHRlcigpO1xyXG4gICAgLy8g5biu5Yqp5paH5pys5qGG5Lit5YC85Y+Y5YyW5LqL5Lu2XHJcbiAgICBAT3V0cHV0KCkgdmFsdWVDaGFuZ2VkID0gbmV3IEV2ZW50RW1pdHRlcigpO1xyXG4gICAgQE91dHB1dCgpIGxvYWRTdWNjZXNzID0gbmV3IEV2ZW50RW1pdHRlcigpO1xyXG5cclxuICAgIEBPdXRwdXQoKSBwYWdlckNoYW5nZWQgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XHJcblxyXG4gICAgQE91dHB1dCgpIGV4cGFuZFRyZWVOb2RlID0gbmV3IEV2ZW50RW1pdHRlcigpO1xyXG4gICAgQE91dHB1dCgpIHRleHRDaGFuZ2VkID0gbmV3IEV2ZW50RW1pdHRlcigpO1xyXG5cclxuICAgIEBPdXRwdXQoKSBjaGVja2VkQ2hhbmdlID0gbmV3IEV2ZW50RW1pdHRlcjx7XHJcbiAgICAgICAgZGF0YTogYW55O1xyXG4gICAgICAgIGlzQ2hlY2s6IGJvb2xlYW47XHJcbiAgICB9PigpO1xyXG5cclxuICAgIEBPdXRwdXQoKSB0YWdSZW1vdmVkID0gbmV3IEV2ZW50RW1pdHRlcigpO1xyXG5cclxuICAgIC8qKiDlhoXlrrnkuK3nlZnnmb3ovrnot50gKi9cclxuICAgIGNvbnRhaW5lck1hcmdpbiA9IHsgdG9wOiAwLCBib3R0b206IDUsIGxlZnQ6ICAxNCwgcmlnaHQ6IDE0IH07XHJcbiAgICBjb250YWluZXJTdHlsZSA9IHtcclxuICAgIH07XHJcblxyXG4gICAgX2dyaWRPcHRpb25zOiBMb29rdXBHcmlkT3B0aW9ucyA9IGxvb2t1cEdyaWREZWZhdWx0cztcclxuXHJcbiAgICBnZXQgZ3JpZE9wdGlvbnMoKSB7XHJcbiAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICB0aGlzLnVzZUZhdm9yaXRlICYmXHJcbiAgICAgICAgICAgIHRoaXMuY29sdW1ucyAmJlxyXG4gICAgICAgICAgICB0aGlzLmNvbHVtbnMubGVuZ3RoID4gMCAmJlxyXG4gICAgICAgICAgICAhdGhpcy5jb2x1bW5zLmZpbmQoKGl0ZW0pID0+IGl0ZW0uZmllbGQgPT09IEZBVk9SSVRFX0ZJRUxEX05BTUUpXHJcbiAgICAgICAgKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY29sdW1ucy5wdXNoKHtcclxuICAgICAgICAgICAgICAgIGZpZWxkOiBGQVZPUklURV9GSUVMRF9OQU1FLFxyXG4gICAgICAgICAgICAgICAgdGl0bGU6IFwiXCIsXHJcbiAgICAgICAgICAgICAgICB3aWR0aDogNDAsXHJcbiAgICAgICAgICAgICAgICBhbGlnbjogXCJjZW50ZXJcIixcclxuICAgICAgICAgICAgICAgIGZpeGVkOiAncmlnaHQnLFxyXG4gICAgICAgICAgICAgICAgLy8gZml4ZWRXaWR0aDogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIGZvcm1hdHRlcjogdGhpcy5mYXZIZWxwZXIuZmF2b3JpdGVDb2x1bW5Gb3JtYXR0ZXIsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLl9ncmlkT3B0aW9ucyA9IE9iamVjdC5hc3NpZ24odGhpcy5fZ3JpZE9wdGlvbnMsIHtcclxuICAgICAgICAgICAgc2luZ2xlU2VsZWN0OiB0aGlzLnNpbmdsZVNlbGVjdCxcclxuICAgICAgICAgICAgaWRGaWVsZDogdGhpcy5pZEZpZWxkLFxyXG4gICAgICAgICAgICB1cmk6IHRoaXMudXJpLFxyXG4gICAgICAgICAgICBzaG93RmlsdGVyQmFyOiAgdGhpcy5lbmFibGVNdWx0aUZpZWxkU2VhcmNoPyBmYWxzZTogdGhpcy5zaG93RmlsdGVyQmFyLFxyXG4gICAgICAgICAgICBwYWdpbmF0aW9uOiB0aGlzLnBhZ2luYXRpb24sXHJcbiAgICAgICAgICAgIHBhZ2VJbmRleDogdGhpcy5wYWdlSW5kZXgsXHJcbiAgICAgICAgICAgIHBhZ2VTaXplOiB0aGlzLnBhZ2VTaXplLFxyXG4gICAgICAgICAgICBwYWdlTGlzdDogdGhpcy5wYWdlTGlzdCxcclxuICAgICAgICAgICAgdG90YWw6IHRoaXMudG90YWwsXHJcbiAgICAgICAgICAgIGl0ZW1zOiB0aGlzLml0ZW1zLFxyXG4gICAgICAgICAgICBjb2x1bW5zOiB0aGlzLmNvbHVtbnMsXHJcbiAgICAgICAgICAgIHJlc2l6YWJsZUNvbHVtbnM6IHRydWUsXHJcbiAgICAgICAgICAgIGZpeGVkSGVhZGVyOiB0cnVlLFxyXG4gICAgICAgICAgICBob3ZlcjogdHJ1ZSxcclxuICAgICAgICAgICAgdHJlZUluZm86IHRoaXMudHJlZUluZm8sXHJcbiAgICAgICAgICAgIHNlYXJjaEFueUZpZWxkOiB0aGlzLnNlYXJjaEFueUZpZWxkXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzLl9ncmlkT3B0aW9ucztcclxuICAgIH1cclxuICAgIEBJbnB1dCgpIHNldCBncmlkT3B0aW9ucyhvcHRzKSB7XHJcbiAgICAgICAgdGhpcy5fZ3JpZE9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHt9LCB0aGlzLl9ncmlkT3B0aW9ucywgb3B0cyk7XHJcbiAgICAgICAgLy8gdGhpcy5zZWxlY3RlZENvbHVtbnMgPSB0aGlzLm11bHRpU2VsTWdyLmluaXRTZWxlY3RlZENvbHVtbnMoKTtcclxuICAgIH1cclxuXHJcbiAgICBAVmlld0NoaWxkKFwiY29udGVudENvbnRhaW5lclwiLCB7IHJlYWQ6IFZpZXdDb250YWluZXJSZWYgfSlcclxuICAgIGNvbnRlbnRDb250YWluZXI6IFZpZXdDb250YWluZXJSZWY7XHJcbiAgICBAVmlld0NoaWxkKFwiZmF2b3JpdGVzQ29udGFpbmVyXCIsIHsgcmVhZDogVmlld0NvbnRhaW5lclJlZiB9KVxyXG4gICAgZmF2b3JpdGVzQ29udGFpbmVyOiBWaWV3Q29udGFpbmVyUmVmO1xyXG4gICAgQFZpZXdDaGlsZChcImxlZnRDb250YWluZXJcIiwgeyByZWFkOiBWaWV3Q29udGFpbmVyUmVmIH0pXHJcbiAgICBsZWZ0Q29udGFpbmVyOiBWaWV3Q29udGFpbmVyUmVmO1xyXG4gICAgQFZpZXdDaGlsZChcImNlbnRlckNvbnRhaW5lclwiLCB7IHJlYWQ6IFZpZXdDb250YWluZXJSZWYgfSlcclxuICAgIGNlbnRlckNvbnRhaW5lcjogVmlld0NvbnRhaW5lclJlZjtcclxuICAgIEBWaWV3Q2hpbGQoXCJtdWx0aVNlbGVjdERUXCIpIHNlbGVjdGVkRHRSZWY6IERhdGFUYWJsZUNvbXBvbmVudDtcclxuICAgIEBWaWV3Q2hpbGQoXCJpbnB1dGdyb3VwXCIpIGlucHV0R3JvdXA6IElucHV0R3JvdXBDb21wb25lbnQ7XHJcbiAgICBAVmlld0NoaWxkKFwibGVmdFBhbmVsXCIpIGxlZnRQYW5lbDogTGF5b3V0UGFuZWxDb21wb25lbnQ7XHJcbiAgICBAVmlld0NoaWxkKFwidGFnYm94XCIpIHRhZ2JveDogRWxlbWVudFJlZjtcclxuXHJcbiAgICBAVmlld0NoaWxkKFwib2tidG5cIikgb2tCdXR0b246IEVsZW1lbnRSZWY7XHJcbiAgICBAVmlld0NoaWxkKFwidGFnSW5wdXRcIikgdGFnSW5wdXQ6IElucHV0R3JvdXBDb21wb25lbnQ7XHJcblxyXG4gICAgQFZpZXdDaGlsZCgnc2VsZWN0ZWRwYW5lbCcpIHNlbGVjdGVkcGFuZWw6IEVsZW1lbnRSZWY7XHJcbiAgICBAVmlld0NoaWxkKCdjYXNjYWRlU2VsZWN0JykgY2FzY2FkZVNlbGVjdDogU2luZ2xlU2VsZWN0RGlyZWN0aXZlO1xyXG4gICAgQFZpZXdDaGlsZCgnbGF5b3V0JykgbGF5b3V0UmVmOiBMYXlvdXRDb21wb25lbnQ7XHJcblxyXG4gICAgY29tcG9uZW50UmVmOiBDb21wb25lbnRSZWY8YW55PjtcclxuICAgIGxlZnRDb21wb25lbnRSZWY6IENvbXBvbmVudFJlZjxMb29rdXBMZWZ0Q29tcG9uZW50PjtcclxuICAgIGZhdm9yaXRlc0NvbXBvbmVudFJlZjogQ29tcG9uZW50UmVmPGFueT47XHJcblxyXG4gICAgcHVibGljIGh0dHA6IElMb29rdXBIdHRwU2VydmljZTtcclxuICAgIHB1YmxpYyBtZXNzYWdlclNlcnZpY2U6IE1lc3NhZ2VyU2VydmljZTtcclxuICAgIHB1YmxpYyBsb2FkaW5nU2VydmljZTogTG9hZGluZ1NlcnZpY2U7XHJcbiAgICBsb2FkaW5nOiBMb2FkaW5nQ29tcG9uZW50O1xyXG4gICAgLy8gZGF0YUZpZWxkTWFwczogYW55O1xyXG4gICAgbmF2aWdhdGlvbk9wdGlvbnM6IE5hdmlnYXRpb25PcHRpb25zO1xyXG5cclxuICAgIC8vIOWvvOiIquW4ruWKqeW3puWImeWuveW6plxyXG4gICAgbGVmdFBhbmVsV2lkdGggPSAzMjA7XHJcbiAgICAvLyDlr7zoiKrluK7liqnnqpflj6PmnIDlsI/lrr3luqZcclxuICAgIG5hdkxvb2t1cERpYWxvZ01pbldpZHRoID0gOTYwO1xyXG5cclxuICAgIG5hdmlnYXRpb25GaWx0ZXI6IE5hdmlnYXRpb25GaWx0ZXIgPSBudWxsO1xyXG5cclxuICAgIHN1YnNjcmlwdGlvbnM6IFN1YnNjcmlwdGlvbltdID0gW107XHJcbiAgICBkaWFsb2dPcGVuZWRTdWJzY3JpcHRpb246IFN1YnNjcmlwdGlvbjtcclxuICAgIGRpYWxvZ0Nsb3NlZFN1YnNjcmlwdGlvbjogU3Vic2NyaXB0aW9uO1xyXG5cclxuICAgIGlzVGV4dENoYW5nZSA9IGZhbHNlO1xyXG4gICAgaXNUYWJDaGFuZ2VkID0gZmFsc2U7XHJcblxyXG4gICAgZGlzcGxheUluZm86IERpc3BsYXlJbmZvID0gT2JqZWN0LmFzc2lnbih7fSwgZGlzcGxheUluZm9EZWZhdWx0KTtcclxuXHJcbiAgICB0YWJDaGFuZ2VTdWJzY3JpcHRpb24gPSBudWxsO1xyXG4gICAgLy8g5pqC5a2Y6KGM54K55Ye75pWw5o2uICDnlKjkuo7mlLbol49cclxuICAgIHBlcnNvbmFsQ29uZjogUGVyc29uYWxDb25maWcgPSB7fTtcclxuICAgIGZhdm9yaXRlQ29sdW1uczogYW55W10gPSBbXTtcclxuICAgIC8qKiDkuLTml7bmn6Xor6Llj4LmlbAgKi9cclxuICAgIF9zZWFyY2hTdGF0ZSA9IG51bGw7XHJcbiAgICBhbGxEYXRhOiBhbnkgPSBbXTtcclxuICAgIGdldCBzZWxlY3Rpb25zKCkge1xyXG4gICAgICAgIGNvbnN0IHNlbGVjdEl0ZW1zID0gdGhpcy5sb29rdXBTZWxlY3Rpb25TZXIuZ2V0U2VsZWN0aW9ucygpO1xyXG4gICAgICAgIGlmICh0aGlzLnNpbmdsZVNlbGVjdCkge1xyXG4gICAgICAgICAgICByZXR1cm4gc2VsZWN0SXRlbXNbMF07XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIHNlbGVjdEl0ZW1zO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGdldCB1c2VQZXJzaW9uYWxDb25mKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnVzZUZhdm9yaXRlIHx8IHRoaXMudXNlVGlwIHx8IHRoaXMuaXNSZWNvcmRTaXplO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBkaXNwbGF5VGV4dExpc3QoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuZGlzcGxheVRleHQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGlzcGxheVRleHQuc3BsaXQodGhpcy5tdWx0aXBsZUNob2ljZVNlcGFyYXRvcik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBbXTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcGVyc29uYWxDb25maWdTZXJ2aWNlOiBQZXJzb25hbENvbmZpZ1NlcnZpY2U7XHJcbiAgICBwdWJsaWMgdXRpbFNlcnZpY2U6IFV0aWxTZXJ2aWNlO1xyXG4gICAgcHVibGljIHRyZWVOb2RlSGVscGVyOiBUcmVlTm9kZUhlbHBlcjtcclxuICAgIHB1YmxpYyBsb2NhbFNlcnZpY2U6IExvY2FsZVNlcnZpY2U7XHJcbiAgICBwdWJsaWMgbm90aWZ5U2VydmljZTogTm90aWZ5U2VydmljZTtcclxuICAgIGFsbENvbHVtbnNUaXRsZSA9IFwi5omA5pyJ5YiXXCI7XHJcbiAgICBtdXN0V3JpdGVTb21ldGhpbmcgPSBcIuivt+i+k+WFpeWFs+mUruWtl+WQjuafpeivouOAglwiO1xyXG4gICAgbXVzdENob29zQWRhdGFyb3cgPSBcIuivt+mAieaLqeS4gOadoeiusOW9le+8gVwiO1xyXG4gICAgYWRkRmF2b3JpdGVTdWNjZXNzID0gXCLmlLbol4/miJDlip/jgIJcIjtcclxuICAgIGRlbEZhdm9yaXRlU3VjY2VzcyA9IFwi56e76Zmk5pS26JeP5oiQ5Yqf44CCXCI7XHJcblxyXG4gICAgLyoqIOS9v+eUqOWGhee9rueahOafpeivouaWueazlSwg6buY6K6kIGZhbHNlICovXHJcbiAgICB1c2VJbnNpZGVTZWFyY2hIYW5kbGVyID0gZmFsc2U7XHJcbiAgICBzZWFyY2hpbmcgPSBmYWxzZTtcclxuICAgIC8qKiDkuLTml7blrZjlgqjmn6Xor6Lnu5Pmnpzpm4YgKi9cclxuICAgIF9zZWFyY2hSZXN1bHQgPSBudWxsO1xyXG5cclxuICAgIGxvb2t1cGluaXRpYWxpemF0aW9uU3ViamVjdCA9IG5ldyBTdWJqZWN0KCk7XHJcblxyXG4gICAgLyoqIOWkmumAieaXtu+8jOmAieS4reeahOaVsOaNriAqL1xyXG4gICAgY3VycmVudFNlbGVjdGVkSXRlbXM6IE9ic2VydmFibGU8YW55PiA9IG9mKFtdKTtcclxuICAgIC8qKiDlt7LpgInmlbDmja7liJfkv6Hmga8gKi9cclxuICAgIHNlbGVjdGVkQ29sdW1ucyA9IFtdO1xyXG4gICAgYWN0aXZlVGFiOiBzdHJpbmcgfCBcImRhdGFsaXN0XCIgfCBcImZhdm9yaXRlXCIgfCBcInNlbGVjdGVkXCIgPSBcImRhdGFsaXN0XCI7XHJcblxyXG4gICAgZmF2SGVscGVyOiBGYXZvcml0ZUhlbHBlciA9IG51bGw7XHJcbiAgICB0dEV2ZW50TWdyOiBUcmVlVGFibGVFdmVudE1hbmFnZXIgPSBudWxsO1xyXG4gICAgbXVsdGlTZWxNZ3I6IE11bHRpU2VsZWN0aW9uTWFuYWdlciA9IG51bGw7XHJcbiAgICBodHRwTWdyOiBMb29rdXBIdHRwTWFuYWdlciA9IG51bGw7XHJcbiAgICBsb29rdXBDbXBNZ3I6IExvb2t1cENvbXBvbmVudE1hbmFnZXIgPSBudWxsO1xyXG4gICAgZGlhbG9nTWdyOiBMb29rdXBEaWFsb2dNYW5hZ2VyID0gbnVsbDtcclxuICAgIHNlbGVjdGlvbk1ncjogU2VsZWN0aW9uTWFuYWdlciA9IG51bGw7XHJcbiAgICBkdEV2ZW50TWdyOiBEYXRhVGFibGVFdmVudE1hbmFnZXIgPSBudWxsO1xyXG5cclxuICAgIGxvb2t1cFNlbGVjdGlvblNlcjogTG9va3VwU2VsZWN0aW9uU2VydmljZSA9IG51bGw7XHJcblxyXG4gICAgY29udHJvbElkID0gXCJcIjtcclxuICAgIHNhdmluZ0Zhb3JpdGVEYXRhID0gZmFsc2U7XHJcbiAgICBpc1JlYWR5ID0gZmFsc2U7XHJcbiAgICBzaG93VGFnYm94Q2xlYXJCdXR0b24gPSBmYWxzZTtcclxuICAgIGhhc0Vycm9yID0gZmFsc2U7XHJcblxyXG4gICAgY2FzY2FkZVN0YXR1c0l0ZW1zID0gW1xyXG4gICAgICAgIHsgdmFsZXU6ICdlbmFibGUnLCBsYWJlbDogJycgfSxcclxuICAgICAgICB7IHZhbGV1OiAndXAnLCBsYWJlbDogJycgfSxcclxuICAgICAgICB7IHZhbGV1OiAnZG93bicsIGxhYmVsOiAnJyB9LFxyXG4gICAgICAgIHsgdmFsZXU6ICdkaXNhYmxlJywgbGFiZWw6ICcnIH1cclxuICAgIF1cclxuXHJcbiAgICBpc0dldEFsbENoaWRsTm9kZXMgPSBmYWxzZTtcclxuICAgIGV2ZW50TWFuYWdlcjogRXZlbnRNYW5hZ2VyO1xyXG4gICAgLyoqIOmAieS4reiusOW9lUlE77yM6Ieq5a6a5LmJ5biu5Yqp5Y+W5pWw5pe25L2/55SoICovXHJcbiAgICBzZWxlY3RlZElkcyA9IFtdO1xyXG4gICAgcHJpdmF0ZSBsb29rdXBTZWFyY2hJbnB1dEV2ZW50ID0gbnVsbDtcclxuICAgIHByaXZhdGUgZmFycmlzSW5zdGFuY2VzOiBGYXJyaXNDb21wb25lbnRJbnN0YW5jZVNlcnZpY2UgPSBudWxsO1xyXG4gICAgLyoqIOeUqOaIt+WIneWni+iuvue9riAqL1xyXG4gICAgcHJpdmF0ZSBfdXNlclNldHRpbmdzOiBhbnkgPSB7fTtcclxuXHJcbiAgICBnZXQgdXNlckluaXRpYWxDb25maWcoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3VzZXJTZXR0aW5ncztcclxuICAgIH1cclxuXHJcbiAgICBfdHJlZUluZm9fID0gbnVsbDtcclxuXHJcbiAgICAvKiogZGlhbG9nIOWGheWuueWMuuWfn+mrmOW6puOAgiDlvLnnqpfmgLvpq5jluqYgLSDlpLTpg6jpq5jluqYgLSDohJrpg6jpq5jluqYgLSDvvIjlkK/nlKjmlLbol48gVEFC5aS06auY5bqm77yJICovXHJcbiAgICBkaWFsb2dDb250ZW50SGVpZ2h0ID0gMDtcclxuICAgIC8qKiDlt6bmoJHlj7PliJfooajvvIwg5bem5qCR54K55Ye76IqC54K55p+l6K+i5pe25piv5ZCm5YyF5ous5LiL57qn6IqC54K555qE5pWw5o2u77yM6buY6K6kIGZhbHNlICovXHJcbiAgICBpbmNsdWRlU3Vib3JkaW5hdGVzID0gZmFsc2U7XHJcbiAgICBpbmNsdWRlU3Vib3JkaW5hdGVzJCA9IG5ldyBTdWJqZWN0KCk7XHJcbiAgICBpbmNsdWRlU3Vib3JkaW5hdGVzJCQ6IFN1YnNjcmlwdGlvbiA9IG51bGw7XHJcbiAgICBvdmVyTGF5U2VydmljZTogT3ZlckxheUhpZGRlblNlcnZpY2U7XHJcbiAgICBwcml2YXRlIGRlYnVnU2VyOiBEZWJ1Z1NlcnZpY2UgPSBudWxsO1xyXG4gICAgY29uc3RydWN0b3IoXHJcbiAgICAgICAgcHVibGljIGluamVjdG9yOiBJbmplY3RvcixcclxuICAgICAgICBwdWJsaWMgY2ZyOiBDb21wb25lbnRGYWN0b3J5UmVzb2x2ZXIsXHJcbiAgICAgICAgcHVibGljIGVsOiBFbGVtZW50UmVmLFxyXG4gICAgICAgIHB1YmxpYyB1dGlsczogQ29tbW9uVXRpbHMsXHJcbiAgICAgICAgcHJpdmF0ZSBkZWZhdWx0TWFwcGluZzogTG9va3VwRGVmYXVsdE1hcHBpbmcsXHJcbiAgICAgICAgcHVibGljIGNoYW5nZURldGVjdG9yOiBDaGFuZ2VEZXRlY3RvclJlZixcclxuICAgICAgICBwdWJsaWMgc2hvcnRjdXRzOiBTaG9ydGN1dHNTZXJ2aWNlLFxyXG4gICAgICAgIHB1YmxpYyBsb29rdXBVdGlsczogTG9va3VwVXRpbHMsXHJcbiAgICAgICAgcHJpdmF0ZSB6b25lOiBOZ1pvbmUsXHJcbiAgICAgICAgcHVibGljIHJlbmRlcjI6IFJlbmRlcmVyMlxyXG4gICAgKSB7XHJcbiAgICAgICAgc3VwZXIoaW5qZWN0b3IsIGVsLCBjaGFuZ2VEZXRlY3Rvcik7XHJcbiAgICAgICAgdGhpcy5jcmVhdGVJbnN0YW5jZSgpO1xyXG4gICAgICAgIHRoaXMuY3VycmVudFNlbGVjdGVkSXRlbXMgPSB0aGlzLmxvb2t1cFNlbGVjdGlvblNlci5zZWxlY3RlZCQ7XHJcbiAgICAgICAgdGhpcy5ldmVudE1hbmFnZXIgPSB0aGlzLmluamVjdG9yLmdldChFdmVudE1hbmFnZXIpO1xyXG4gICAgICAgIHRoaXMuZmFycmlzSW5zdGFuY2VzID0gdGhpcy5pbmplY3Rvci5nZXQoXHJcbiAgICAgICAgICAgIEZhcnJpc0NvbXBvbmVudEluc3RhbmNlU2VydmljZSxcclxuICAgICAgICAgICAgbnVsbFxyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIHRoaXMub3ZlckxheVNlcnZpY2UgPSBuZXcgT3ZlckxheUhpZGRlblNlcnZpY2UoKTtcclxuXHJcbiAgICAgICAgdGhpcy5kZWJ1Z1NlciA9IHRoaXMuaW5qZWN0b3IuZ2V0KERlYnVnU2VydmljZSwgbnVsbCk7XHJcbiAgICAgICAgaWYgKHRoaXMuZGVidWdTZXIpIHtcclxuICAgICAgICAgICAgdGhpcy5kZWJ1Z1Nlci51c2VEZWJ1Z01vZGUoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMubG9va3VwU2VsZWN0aW9uU2VyLnNlbGVjdGlvbkNoYW5nZWQkLnN1YnNjcmliZSgoZToge2RhdGE6IEFycmF5PGFueT4sIHNlbGVjdGVkOiBib29sZWFufSkgPT4ge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5zZWxlY3RlZER0UmVmKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWUuc2VsZWN0ZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkRHRSZWYudW5DaGVja1Jvd3MoZS5kYXRhKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLmluaXRMYWJlbHMoKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGluaXRMYWJlbHMoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmxhYmVscykge1xyXG4gICAgICAgICAgICB0aGlzLmxhYmVscyA9IHtcclxuICAgICAgICAgICAgICAgIC8qKiDmlbDmja7liJfooagqL1xyXG4gICAgICAgICAgICAgICAgZGF0YVRhYjogJycsXHJcbiAgICAgICAgICAgICAgICAvKiog5pS26JeP5aS5ICovXHJcbiAgICAgICAgICAgICAgICBmYXZUYWI6JycsXHJcbiAgICAgICAgICAgICAgICAvKiog5Y+W5raI5bey6YCJICovXHJcbiAgICAgICAgICAgICAgICBjbGVhckFsbFNlbGVjdGVkOiAnJyxcclxuICAgICAgICAgICAgICAgIC8qKiDlt7LpgInorrDlvZXpnaLmnb/kuK0g5Yig6Zmk5bey6YCJICovXHJcbiAgICAgICAgICAgICAgICBkZWxTZWxlY3RlZDogJydcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIXRoaXMubGFiZWxzLmNsZWFyQWxsU2VsZWN0ZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5sYWJlbHMuY2xlYXJBbGxTZWxlY3RlZCA9IHRoaXMubG9jYWxTZXJ2aWNlLmdldFZhbHVlKCdsb29rdXAuc2VsZWN0ZWRJbmZvLmNsZWFyJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoIXRoaXMubGFiZWxzLmZhdlRhYikge1xyXG4gICAgICAgICAgICB0aGlzLmxhYmVscy5mYXZUYWIgPSB0aGlzLmxvY2FsU2VydmljZS5nZXRWYWx1ZSgnbG9va3VwLmZhdm9yaXRlcycpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKCF0aGlzLmxhYmVscy5kYXRhVGFiKSB7XHJcbiAgICAgICAgICAgIHRoaXMubGFiZWxzLmRhdGFUYWIgPSB0aGlzLmxvY2FsU2VydmljZS5nZXRWYWx1ZSgnbG9va3VwLmRhdGFsaXN0Jyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHdyaXRlQ29uc29sZShtc2csIHR5cGU6ICdpbmZvJ3wnbG9nJ3wnd2Fybid8J2Vycm9yJyA9ICd3YXJuJykge1xyXG4gICAgICAgIGlmICh0aGlzLmRlYnVnU2VyKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZGVidWdTZXJbdHlwZV0obXNnKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0RmlsdGVyQmFySGVpZ2h0KCkge1xyXG4gICAgICAgIHJldHVybiAodGhpcy5zaG93RmlsdGVyQmFyICYmIHRoaXMuZW5hYmxlTXVsdGlGaWVsZFNlYXJjaCA/IDQyIDogMCk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0U3BhY2VXaWR0aChpc0RvdWJsZSA9IGZhbHNlKSB7XHJcbiAgICAgICAgcmV0dXJuICghdGhpcy5lbmFibGVNdWx0aUZpZWxkU2VhcmNoID8gMjggOiA0OCkgKyAoaXNEb3VibGUgPyAoIHRoaXMuZW5hYmxlTXVsdGlGaWVsZFNlYXJjaD8gNTogNykgOiAwKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGNhY2hlVXNlckNvbmZpZygpIHtcclxuICAgICAgICB0aGlzLl91c2VyU2V0dGluZ3MuX3RpdGxlID0gdGhpcy50aXRsZTtcclxuICAgICAgICB0aGlzLmRpc3BsYXlJbmZvLnRpdGxlID0gdGhpcy50aXRsZTtcclxuICAgICAgICB0aGlzLl91c2VyU2V0dGluZ3MuX2NvbHVtbnMgPSB0aGlzLmRlZXBDbG9uZSh0aGlzLmNvbHVtbnMgfHwgW10pO1xyXG4gICAgICAgIHRoaXMuX3VzZXJTZXR0aW5ncy5nZXRDb2x1bW5zID0gKCkgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdXNlclNldHRpbmdzLl9jb2x1bW5zO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMuX3VzZXJTZXR0aW5ncy5yZXNldCA9ICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy50aXRsZSA9IHRoaXMuX3VzZXJTZXR0aW5ncy5fdGl0bGU7XHJcbiAgICAgICAgICAgIHRoaXMuZGlzcGxheUluZm8udGl0bGUgPSB0aGlzLnRpdGxlO1xyXG4gICAgICAgICAgICB0aGlzLmNvbHVtbnMgPSB0aGlzLl91c2VyU2V0dGluZ3MuZ2V0Q29sdW1ucygpO1xyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBkZWVwQ2xvbmUob2JqKSB7XHJcbiAgICAgICAgaWYgKG9iaiA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgY2xvbmUgPSBPYmplY3QuYXNzaWduKHt9LCBvYmopO1xyXG4gICAgICAgIE9iamVjdC5rZXlzKGNsb25lKS5mb3JFYWNoKFxyXG4gICAgICAgICAgICAoa2V5KSA9PlxyXG4gICAgICAgICAgICAgICAgKGNsb25lW2tleV0gPVxyXG4gICAgICAgICAgICAgICAgICAgIHR5cGVvZiBvYmpba2V5XSA9PT0gXCJvYmplY3RcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA/IHRoaXMuZGVlcENsb25lKG9ialtrZXldKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA6IG9ialtrZXldKVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkob2JqKSkge1xyXG4gICAgICAgICAgICBjbG9uZS5sZW5ndGggPSBvYmoubGVuZ3RoO1xyXG4gICAgICAgICAgICByZXR1cm4gQXJyYXkuZnJvbShjbG9uZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBjbG9uZTtcclxuICAgIH1cclxuXHJcbiAgICBuZ09uSW5pdCgpIHtcclxuICAgICAgICBzdXBlci5uZ09uSW5pdCgpO1xyXG4gICAgICAgIHRoaXMuY2FjaGVVc2VyQ29uZmlnKCk7XHJcbiAgICAgICAgaWYgKCF0aGlzLmxvYWRUcmVlRGF0YVR5cGUpIHtcclxuICAgICAgICAgICAgdGhpcy5sb2FkVHJlZURhdGFUeXBlID0gXCJkZWZhdWx0XCI7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmNoZWNrR3JpZE9wdGlvbnMoKTtcclxuICAgICAgICB0aGlzLmRpc3BsYXlJbmZvLnRpdGxlID0gdGhpcy50aXRsZTtcclxuICAgICAgICAvKiog5Lyg6YCS5LiK5LiL5paHICovXHJcbiAgICAgICAgaWYgKHRoaXMuaHR0cCkge1xyXG4gICAgICAgICAgICB0aGlzLmh0dHAuY29udGV4dCA9IHRoaXMuY29udGV4dDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuYWxsQ29sdW1uc1RpdGxlID0gdGhpcy5sb2NhbFNlcnZpY2UuZ2V0VmFsdWUoXCJsb29rdXAuYWxsQ29sdW1uc1wiKTtcclxuICAgICAgICB0aGlzLm11c3RXcml0ZVNvbWV0aGluZyA9IHRoaXMubG9jYWxTZXJ2aWNlLmdldFZhbHVlKFxyXG4gICAgICAgICAgICBcImxvb2t1cC5tdXN0V3JpdGVTb21ldGhpbmdcIlxyXG4gICAgICAgICk7XHJcbiAgICAgICAgdGhpcy5tdXN0Q2hvb3NBZGF0YXJvdyA9IHRoaXMubG9jYWxTZXJ2aWNlLmdldFZhbHVlKFxyXG4gICAgICAgICAgICBcImxvb2t1cC5tdXN0Q2hvb3NBZGF0YXJvd1wiXHJcbiAgICAgICAgKTtcclxuICAgICAgICB0aGlzLmFkZEZhdm9yaXRlU3VjY2VzcyA9XHJcbiAgICAgICAgICAgIHRoaXMubG9jYWxTZXJ2aWNlLmdldFZhbHVlKFwibG9va3VwLmZhdm9yaXRlSW5mby5hZGRGYXZcIikgfHxcclxuICAgICAgICAgICAgdGhpcy5hZGRGYXZvcml0ZVN1Y2Nlc3M7XHJcbiAgICAgICAgdGhpcy5kZWxGYXZvcml0ZVN1Y2Nlc3MgPVxyXG4gICAgICAgICAgICB0aGlzLmxvY2FsU2VydmljZS5nZXRWYWx1ZShcImxvb2t1cC5mYXZvcml0ZUluZm8uY2FuY2VsRmF2XCIpIHx8XHJcbiAgICAgICAgICAgIHRoaXMuZGVsRmF2b3JpdGVTdWNjZXNzO1xyXG5cclxuICAgICAgICB0aGlzLmRpYWxvZ01nci5vbkRpYWxvZ0NyZWF0ZWQoKTtcclxuXHJcbiAgICAgICAgdGhpcy5fdHJlZUluZm9fID0gdGhpcy50cmVlSW5mbyA/IGNsb25lRGVlcCh0aGlzLnRyZWVJbmZvKSA6IG51bGw7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnF1aWNrU2VsZWN0KSB7XHJcbiAgICAgICAgICAgIHRoaXMucXVpY2tTZWxlY3QgPSBPYmplY3QuYXNzaWduKHt9LCBRdWlja1NlbGVjdERlZmF1bHRPcHRpb25zLCB0aGlzLnF1aWNrU2VsZWN0IHx8IHt9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5zZXRDb250YWluZXJNYXJnaW4oKTtcclxuICAgIH1cclxuICAgIC8qKiDlhoXlrrnkuK3nlZnnmb3ovrnot50gKi9cclxuICAgIHNldENvbnRhaW5lck1hcmdpbigpIHtcclxuICAgICAgICBjb25zdCBtcm4gPSAhdGhpcy5lbmFibGVNdWx0aUZpZWxkU2VhcmNoID8gMTQgOiAyNDtcclxuICAgICAgICBjb25zdCBtYiA9ICAhdGhpcy5lbmFibGVNdWx0aUZpZWxkU2VhcmNoID8gNSA6IDA7XHJcbiAgICAgICAgdGhpcy5jb250YWluZXJNYXJnaW4gPSB7IHRvcDogMCwgYm90dG9tOiBtYiwgbGVmdDogbXJuLCByaWdodDogbXJuIH07XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKHRoaXMuZW5hYmxlTXVsdGlGaWVsZFNlYXJjaCkge1xyXG4gICAgICAgICAgICB0aGlzLnVzZU5ld0xheW91dCA9IHRydWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmNvbnRhaW5lclN0eWxlID0ge1xyXG4gICAgICAgICAgICBtYXJnaW5MZWZ0OiB0aGlzLmNvbnRhaW5lck1hcmdpbi5sZWZ0ICsgXCJweFwiLFxyXG4gICAgICAgICAgICBtYXJnaW5SaWdodDogdGhpcy5jb250YWluZXJNYXJnaW4ucmlnaHQgKyBcInB4XCIsXHJcbiAgICAgICAgICAgIG1hcmdpblRvcDogdGhpcy5jb250YWluZXJNYXJnaW4udG9wICsgXCJweFwiLFxyXG4gICAgICAgICAgICBtYXJnaW5Cb3R0b206IHRoaXMuY29udGFpbmVyTWFyZ2luLmJvdHRvbSArIFwicHhcIixcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIG5nT25EZXN0cm95KCkge1xyXG4gICAgICAgIHN1cGVyLm5nT25EZXN0cm95KCk7XHJcbiAgICAgICAgdGhpcy5zdWJzY3JpcHRpb25zLmZvckVhY2goKG4pID0+IHtcclxuICAgICAgICAgICAgaWYgKG4pIHtcclxuICAgICAgICAgICAgICAgIG4udW5zdWJzY3JpYmUoKTtcclxuICAgICAgICAgICAgICAgIG4gPSBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnNlbGVjdGlvbk1ncikge1xyXG4gICAgICAgICAgICB0aGlzLnNlbGVjdGlvbk1nci5kZXN0cm95KCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnN1YnNjcmlwdGlvbnMgPSBbXTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuZmFycmlzSW5zdGFuY2VzKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZmFycmlzSW5zdGFuY2VzLmRlc3Ryb3kodGhpcy5lbC5uYXRpdmVFbGVtZW50KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmxvb2t1cFNlYXJjaElucHV0RXZlbnQpIHtcclxuICAgICAgICAgICAgdGhpcy5sb29rdXBTZWFyY2hJbnB1dEV2ZW50KCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMubG9va3VwVXRpbHMuZGVzdHJveSgpO1xyXG5cclxuICAgICAgICB0aGlzLm92ZXJMYXlTZXJ2aWNlLmRlc3RvcnkodGhpcy5lbC5uYXRpdmVFbGVtZW50KTtcclxuICAgICAgICB0aGlzLm92ZXJMYXlTZXJ2aWNlID0gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBuZ09uQ2hhbmdlcyhjaGFuZ2VzOiBTaW1wbGVDaGFuZ2VzKSB7XHJcbiAgICAgICAgaWYgKGNoYW5nZXMuY29sdW1ucyAmJiAhY2hhbmdlcy5jb2x1bW5zLmlzRmlyc3RDaGFuZ2UoKSkge1xyXG4gICAgICAgICAgICB0aGlzLmNhY2hlVXNlckNvbmZpZygpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGNoYW5nZXMuZW5hYmxlTXVsdGlGaWVsZFNlYXJjaCAmJiAhY2hhbmdlcy5lbmFibGVNdWx0aUZpZWxkU2VhcmNoLmlzRmlyc3RDaGFuZ2UoKSkge1xyXG4gICAgICAgICAgICB0aGlzLnNldENvbnRhaW5lck1hcmdpbigpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG4gICAgbmdBZnRlclZpZXdJbml0KCkge1xyXG4gICAgICAgIGlmICghdGhpcy5xdWlja1NlbGVjdCB8fCAhdGhpcy5xdWlja1NlbGVjdC5lbmFibGUpIHtcclxuICAgICAgICAgICAgdGhpcy5sb29rdXBTZWFyY2hJbnB1dEV2ZW50ID0gb25UZXh0Q2hhbmdlZC5iaW5kKHRoaXMpKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyDliJ3lp4vljJbkuKrmgKfljJbphY3nva5cclxuICAgICAgICBpZiAodGhpcy51c2VQZXJzaW9uYWxDb25mKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZmF2SGVscGVyLmluaXRQZXJzb25hbEluZm8oKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnVzZUV4dGVuZEluZm8pIHtcclxuICAgICAgICAgICAgY29uc3QganNvbkRhdGEgPSB0aGlzLnNlbGVjdGlvbk1nci5nZXRCaW5kaW5nRGF0YSgpO1xyXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUV4dGVuZEluZm8oanNvbkRhdGEsIGZhbHNlKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnZpZXdUeXBlID09PSBcInRleHRcIikge1xyXG4gICAgICAgICAgICAvLyB0aGlzLnNob3J0Y3V0cy5hZGQoe1xyXG4gICAgICAgICAgICAvLyAgICAga2V5OiAnRjInLFxyXG4gICAgICAgICAgICAvLyAgICAgdGFyZ2V0OiB0aGlzLmlucHV0R3JvdXAudGV4dGJveC5uYXRpdmVFbGVtZW50LFxyXG4gICAgICAgICAgICAvLyAgICAgY29tbWFuZDogKCkgPT4ge1xyXG4gICAgICAgICAgICAvLyAgICAgICAgIHRoaXMuc2hvd0RpYWxvZygpO1xyXG4gICAgICAgICAgICAvLyAgICAgfVxyXG4gICAgICAgICAgICAvLyB9KTtcclxuICAgICAgICAgICAgdGhpcy5yZW5kZXIyLmxpc3RlbihcclxuICAgICAgICAgICAgICAgIHRoaXMuaW5wdXRHcm91cC50ZXh0Ym94Lm5hdGl2ZUVsZW1lbnQsXHJcbiAgICAgICAgICAgICAgICBcImtleWRvd24uRjJcIixcclxuICAgICAgICAgICAgICAgIHRoaXMuc2hvd0RpYWxvZy5iaW5kKHRoaXMpXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5yZWdpc3Rlck1vdXNlRXZlbnRGb3JUYWdWaWV3KCk7XHJcblxyXG4gICAgICAgICAgICBpZiAodGhpcy50YWdib3hIZWlnaHQpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGVsID1cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnRhZ2JveC5uYXRpdmVFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubXVsdGktbW9yZVwiKTtcclxuICAgICAgICAgICAgICAgIGxldCB0YmggPSB0aGlzLnRhZ2JveEhlaWdodDtcclxuICAgICAgICAgICAgICAgIGlmICh0YmggIT09IFwiYXV0b1wiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGJoICs9IFwicHhcIjtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMubWF4VGFnYm94SGVpZ2h0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyMi5zZXRTdHlsZShcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJtYXhIZWlnaHRcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGAke3RoaXMubWF4VGFnYm94SGVpZ2h0fXB4YFxyXG4gICAgICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlcjIuc2V0U3R5bGUoZWwsIFwiaGVpZ2h0XCIsIHRiaCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmVsICYmIHRoaXMuZmFycmlzSW5zdGFuY2VzKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZmFycmlzSW5zdGFuY2VzLmFkZCh0aGlzLmVsLm5hdGl2ZUVsZW1lbnQsIHRoaXMpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGNyZWF0ZUluc3RhbmNlKCkge1xyXG4gICAgICAgIHRoaXMuaHR0cCA9IHRoaXMuaW5qZWN0b3IuZ2V0KFNlcnZlclNpZGVUb2tlbiwgbnVsbCk7XHJcbiAgICAgICAgdGhpcy5tZXNzYWdlclNlcnZpY2UgPSB0aGlzLmluamVjdG9yLmdldChNZXNzYWdlclNlcnZpY2UpO1xyXG4gICAgICAgIHRoaXMubG9hZGluZ1NlcnZpY2UgPSB0aGlzLmluamVjdG9yLmdldChMb2FkaW5nU2VydmljZSk7XHJcbiAgICAgICAgdGhpcy5ub3RpZnlTZXJ2aWNlID0gdGhpcy5pbmplY3Rvci5nZXQoTm90aWZ5U2VydmljZSwgbnVsbCk7XHJcblxyXG4gICAgICAgIHRoaXMucGVyc29uYWxDb25maWdTZXJ2aWNlID0gdGhpcy5pbmplY3Rvci5nZXQoXHJcbiAgICAgICAgICAgIFBlcnNvbmFsQ29uZmlnU2VydmljZSxcclxuICAgICAgICAgICAgbnVsbFxyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIHRoaXMubG9va3VwU2VsZWN0aW9uU2VyID0gbmV3IExvb2t1cFNlbGVjdGlvblNlcnZpY2UodGhpcyk7XHJcblxyXG4gICAgICAgIHRoaXMudXRpbFNlcnZpY2UgPSBuZXcgVXRpbFNlcnZpY2UodGhpcyk7XHJcbiAgICAgICAgdGhpcy5sb2NhbFNlcnZpY2UgPSB0aGlzLmluamVjdG9yLmdldChMb2NhbGVTZXJ2aWNlKTtcclxuICAgICAgICB0aGlzLnRyZWVOb2RlSGVscGVyID0gbmV3IFRyZWVOb2RlSGVscGVyKHRoaXMpO1xyXG5cclxuICAgICAgICB0aGlzLmZhdkhlbHBlciA9IG5ldyBGYXZvcml0ZUhlbHBlcih0aGlzKTtcclxuICAgICAgICB0aGlzLnR0RXZlbnRNZ3IgPSBuZXcgVHJlZVRhYmxlRXZlbnRNYW5hZ2VyKHRoaXMpO1xyXG4gICAgICAgIHRoaXMubXVsdGlTZWxNZ3IgPSBuZXcgTXVsdGlTZWxlY3Rpb25NYW5hZ2VyKHRoaXMpO1xyXG4gICAgICAgIHRoaXMuaHR0cE1nciA9IG5ldyBMb29rdXBIdHRwTWFuYWdlcih0aGlzKTtcclxuICAgICAgICB0aGlzLmxvb2t1cENtcE1nciA9IG5ldyBMb29rdXBDb21wb25lbnRNYW5hZ2VyKHRoaXMpO1xyXG4gICAgICAgIHRoaXMuZGlhbG9nTWdyID0gbmV3IExvb2t1cERpYWxvZ01hbmFnZXIodGhpcyk7XHJcbiAgICAgICAgdGhpcy5zZWxlY3Rpb25NZ3IgPSBuZXcgU2VsZWN0aW9uTWFuYWdlcih0aGlzKTtcclxuICAgICAgICB0aGlzLmR0RXZlbnRNZ3IgPSBuZXcgRGF0YVRhYmxlRXZlbnRNYW5hZ2VyKHRoaXMpO1xyXG4gICAgfVxyXG5cclxuICAgIHNob3dEaWFsb2coKTogYW55IHtcclxuICAgICAgICBpZiAodGhpcy5kaXNhYmxlZCB8fCB0aGlzLnJlYWRvbmx5KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuc2VsZWN0aW9uTWdyLmluaXREaXNwbGF5VmFsdWUoKTtcclxuICAgICAgICB0aGlzLmRpY3RQaWNraW5nU3Vic2NyaXB0aW9uID0gdGhpcy5kaWN0UGlja2luZyh7XHJcbiAgICAgICAgICAgIGluc3RhbmNlOiB0aGlzLFxyXG4gICAgICAgIH0pLnN1YnNjcmliZSgocHI6IFBpY2tpbmdSZXN1bHQpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5kaWFsb2dNZ3IuY2FuT3BlbkRpYWxvZyhwcik7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICAvKiog5Yik5pat5piv5ZCm5Li65Y+M5YiX6KGo5biu5YqpICovXHJcbiAgICBpc0RvdWJsbGVMaXN0KCkge1xyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgKCB0aGlzLmRpc3BsYXlUeXBlID09PSBMb29rdXBHcmlkRGlzcGxheVR5cGUuTmF2TGlzdCB8fFxyXG4gICAgICAgICAgICB0aGlzLmRpc3BsYXlUeXBlID09PSBMb29rdXBHcmlkRGlzcGxheVR5cGUuTmF2VHJlZUxpc3QgfHxcclxuICAgICAgICAgICAgdGhpcy5kaXNwbGF5VHlwZSA9PT0gTG9va3VwR3JpZERpc3BsYXlUeXBlLk5hdkxpc3RUcmVlKSAmJiB0aGlzLnNob3dOYXZpZ2F0aW9uXHJcbiAgICAgICAgKTtcclxuICAgIH1cclxuICAgIC8qKiDliKTmlq3mmK/lkKbmmL7npLrkuLrmoJHluK7liqkgKi9cclxuICAgIGlzVHJlZSgpIHtcclxuICAgICAgICBjb25zdCBkdHlwID0gdGhpcy5kaXNwbGF5VHlwZS50b1VwcGVyQ2FzZSgpXHJcbiAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgZHR5cCA9PT0gTG9va3VwR3JpZERpc3BsYXlUeXBlLlRyZWVMaXN0IHx8IGR0eXAgPT09IExvb2t1cEdyaWREaXNwbGF5VHlwZS5OYXZMaXN0VHJlZVxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgb25SZXNpemVkKGU6IGFueSkge1xyXG4gICAgICAgIHRoaXMucmVzaXplQ21wKGUuc2l6ZSk7XHJcbiAgICAgICAgdGhpcy5yZXNpemVkLmVtaXQoZS5zaXplKTtcclxuICAgIH1cclxuXHJcbiAgICBvblJlc2l6aW5nKHBvczogSVJlc2l6ZUV2ZW50KSB7XHJcbiAgICAgICAgdGhpcy5yZXNpemluZy5lbWl0KHBvcy5zaXplKTtcclxuICAgICAgICB0aGlzLnJlc2l6ZUNtcChwb3Muc2l6ZSk7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNEb3VibGxlTGlzdCgpICYmIHRoaXMubGVmdENvbXBvbmVudFJlZikge1xyXG4gICAgICAgICAgICB0aGlzLmxlZnRDb21wb25lbnRSZWYuaW5zdGFuY2UucmVzaXplKHtcclxuICAgICAgICAgICAgICAgIHdpZHRoOiB0aGlzLmxlZnRQYW5lbC53aWR0aCxcclxuICAgICAgICAgICAgICAgIGhlaWdodDogdGhpcy5kaWFsb2dNZ3IuZ2V0SGVpZ2h0KCksXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBvbk1heERpYWxvZyhwb3M6IElSZXNpemVFdmVudCkge1xyXG4gICAgICAgIHRoaXMucmVzaXplQ21wKHBvcy5zaXplKTtcclxuICAgICAgICBpZiAodGhpcy5sZWZ0UGFuZWwpIHtcclxuICAgICAgICAgICAgdGhpcy5sZWZ0Q29tcG9uZW50UmVmLmluc3RhbmNlLnJlc2l6ZSh7XHJcbiAgICAgICAgICAgICAgICB3aWR0aDogdGhpcy5sZWZ0UGFuZWwud2lkdGgsXHJcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IHRoaXMuZGlhbG9nTWdyLmdldEhlaWdodCgpLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gdGZzIDU0MzEzMiBcclxuICAgICAgICAvLyB0aGlzLmRpYWxvZ0hlaWdodCA9IHBvcy5zaXplLmhlaWdodDtcclxuICAgICAgICB0aGlzLmRpYWxvZ0NvbnRlbnRIZWlnaHQgPSB0aGlzLmRpYWxvZ01nci5yZXNldERpYWxvZ0NvbnRlbnRIZWlnaHQoKTtcclxuICAgICAgICB0aGlzLmRpYWxvZ01heGVkLmVtaXQocG9zLnNpemUpO1xyXG4gICAgfVxyXG5cclxuICAgIHJlc2l6ZUNtcChzaXplPzogYW55KSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmNvbXBvbmVudFJlZiB8fCAhdGhpcy5jb21wb25lbnRSZWYuaW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKCFzaXplKSB7XHJcbiAgICAgICAgICAgIHNpemUgPSB0aGlzLmRpYWxvZy5zaXplO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBfc2l6ZSA9IHtcclxuICAgICAgICAgICAgd2lkdGg6XHJcbiAgICAgICAgICAgICAgICBzaXplLndpZHRoIC1cclxuICAgICAgICAgICAgICAgIHRoaXMuY29udGFpbmVyTWFyZ2luLmxlZnQgLVxyXG4gICAgICAgICAgICAgICAgdGhpcy5jb250YWluZXJNYXJnaW4ucmlnaHQsXHJcbiAgICAgICAgICAgIGhlaWdodDogMFxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnVzZUZhdm9yaXRlICYmIHRoaXMuZmF2b3JpdGVzQ29tcG9uZW50UmVmICYmIHRoaXMuYWN0aXZlVGFiID09ICdmYXZvcml0ZScpIHtcclxuICAgICAgICAgICAgX3NpemUuaGVpZ2h0ID0gdGhpcy5sb29rdXBDbXBNZ3IuZ2V0Q21wSGVpZ2h0KHRydWUpO1xyXG4gICAgICAgICAgICB0aGlzLmZhdm9yaXRlc0NvbXBvbmVudFJlZi5pbnN0YW5jZS5yZXNpemUoX3NpemUpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIF9zaXplLmhlaWdodCA9IHRoaXMubG9va3VwQ21wTWdyLmdldENtcEhlaWdodCgpO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5pc0RvdWJsbGVMaXN0KCkpIHtcclxuICAgICAgICAgICAgICAgIF9zaXplLndpZHRoID0gc2l6ZS53aWR0aCAtIHRoaXMubGVmdFBhbmVsLndpZHRoIC0gdGhpcy5nZXRTcGFjZVdpZHRoKHRydWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICAgICAgdGhpcy5jb21wb25lbnRSZWYuaW5zdGFuY2UucmVzaXplKF9zaXplKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmlzUmVjb3JkU2l6ZSkge1xyXG4gICAgICAgICAgICB0aGlzLnBlcnNvbmFsQ29uZi5zaXplID0gdGhpcy5kaWFsb2cuc2l6ZTtcclxuICAgICAgICAgICAgdGhpcy5wZXJzb25hbENvbmZpZ1NlcnZpY2UudXBkYXRlUGVyc29uYWxDb25maWcoe1xyXG4gICAgICAgICAgICAgICAgc2l6ZTogdGhpcy5kaWFsb2cuc2l6ZSxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy5pc0RvdWJsbGVMaXN0KCkgJiYgdGhpcy5sYXlvdXRSZWYpIHtcclxuICAgICAgICAgICAgdGhpcy5sYXlvdXRSZWYuc2V0UGFuZWxNYXhTaXplKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgY2hlY2tHcmlkT3B0aW9ucygpIHtcclxuICAgICAgICBpZiAoIXRoaXMuZ3JpZE9wdGlvbnMuaWRGaWVsZCkge1xyXG4gICAgICAgICAgICB0aGlzLndyaXRlQ29uc29sZShcIuacquiuvue9ruS4u+mUruWtl+autSBpZEZpZWxkXCIpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKCF0aGlzLmJlZm9yZVNlbGVjdERhdGEpIHtcclxuICAgICAgICAgICAgdGhpcy5iZWZvcmVTZWxlY3REYXRhID0gKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG9mKHRydWUpO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgY3R4TWVudUxhbmd1YWdlcyA9XHJcbiAgICAgICAgICAgIHRoaXMubG9jYWxTZXJ2aWNlLmdldFZhbHVlKFwibG9va3VwLmNvbnRleHRNZW51XCIpO1xyXG5cclxuICAgICAgICB0aGlzLnRyZWVUYWJsZU9wdGlvbnMgPSBPYmplY3QuYXNzaWduKFxyXG4gICAgICAgICAgICB7IGxhbmd1YWdlOiBjdHhNZW51TGFuZ3VhZ2VzIH0sXHJcbiAgICAgICAgICAgIHRoaXMuZGVmYXVsdFRyZWVUYWJsZU9wdGlvbnMsXHJcbiAgICAgICAgICAgIHRoaXMudHJlZVRhYmxlT3B0aW9ucyB8fCB7fVxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0Q29tcG9uZW50VHlwZSgpOiBUeXBlPGFueT4ge1xyXG4gICAgICAgIGlmICghdGhpcy5kaXNwbGF5VHlwZSkge1xyXG4gICAgICAgICAgICB0aGlzLmRpc3BsYXlUeXBlID0gXCJMSVNUXCI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHN3aXRjaCAodGhpcy5kaXNwbGF5VHlwZSkge1xyXG4gICAgICAgICAgICBjYXNlIExvb2t1cEdyaWREaXNwbGF5VHlwZS5MaXN0OlxyXG4gICAgICAgICAgICBjYXNlIExvb2t1cEdyaWREaXNwbGF5VHlwZS5OYXZMaXN0OlxyXG4gICAgICAgICAgICBjYXNlIExvb2t1cEdyaWREaXNwbGF5VHlwZS5OYXZUcmVlTGlzdDpcclxuICAgICAgICAgICAgICAgIHJldHVybiBEYXRhVGFibGVDb21wb25lbnQ7XHJcbiAgICAgICAgICAgIGNhc2UgTG9va3VwR3JpZERpc3BsYXlUeXBlLlRyZWVMaXN0OlxyXG4gICAgICAgICAgICBjYXNlIExvb2t1cEdyaWREaXNwbGF5VHlwZS5OYXZMaXN0VHJlZTpcclxuICAgICAgICAgICAgICAgIHJldHVybiBUcmVlVGFibGVDb21wb25lbnQ7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHNob3dMb2FkaW5nKG1zZyA9IFwiXCIpIHtcclxuICAgICAgICBpZiAodGhpcy5kaWFsb2cgJiYgdGhpcy5kaWFsb2cubW9kYWxDb250ZW50ICYmICF0aGlzLmxvYWRpbmcpIHtcclxuICAgICAgICAgICAgY29uc3Qgb3B0cyA9IHtcclxuICAgICAgICAgICAgICAgIGNvbnRhaW5lcjogdGhpcy5kaWFsb2cubW9kYWxDb250ZW50LFxyXG4gICAgICAgICAgICAgICAgZGVsYXk6IDIwMCxcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIGlmIChtc2cpIHtcclxuICAgICAgICAgICAgICAgIG9wdHNbXCJtZXNzYWdlXCJdID0gbXNnO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLmxvYWRpbmcgPSB0aGlzLmxvYWRpbmdTZXJ2aWNlLnNob3cob3B0cyk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5sb2FkaW5nID0gdGhpcy5sb2FkaW5nU2VydmljZS5zaG93KCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGNsb3NlTG9hZGluZygpIHtcclxuICAgICAgICBpZiAodGhpcy5sb2FkaW5nKSB7XHJcbiAgICAgICAgICAgIHRoaXMubG9hZGluZy5jbG9zZSgpO1xyXG4gICAgICAgICAgICB0aGlzLmxvYWRpbmcgPSBudWxsO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5sb2FkaW5nU2VydmljZS5jbGVhckFsbCgpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldFNlYXJjaENvbHVtbnMocmVzZGF0YTogYW55KToge2xhYmVsOiBzdHJpbmcsIHZhbHVlOiBzdHJpbmd9W10ge1xyXG4gICAgICAgIGNvbnN0IGNvbHMgPSByZXNkYXRhLmNvbHVtbnMgfHwgdGhpcy5jb2x1bW5zO1xyXG4gICAgICAgIGlmIChyZXNkYXRhLnNlYXJjaEZpZWxkcykge1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzZGF0YS5zZWFyY2hGaWVsZHMubWFwKChzZikgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgYyA9IGNvbHMuZmluZChcclxuICAgICAgICAgICAgICAgICAgICAoY29sKSA9PiBjb2wuZmllbGQudG9Mb3dlckNhc2UoKSA9PT0gc2YudmFsdWUudG9Mb3dlckNhc2UoKVxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgIGlmIChjKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2YubGFiZWwgPSBjLnRpdGxlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHNmO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9IGVsc2UgaWYgKGNvbHMpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGNvbHNcclxuICAgICAgICAgICAgICAgIC5maWx0ZXIoKGMpID0+IGMuc2VhcmNoRmllbGQpXHJcbiAgICAgICAgICAgICAgICAubWFwKChjb2wpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsYWJlbDogY29sLnRpdGxlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogY29sLmZpZWxkLFxyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIFtdO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgaW5pdE9wdGlvbnMocmVzRGF0YTogTG9va3VwR3JpZFJlc3VsdCkge1xyXG4gICAgICAgIGxldCBvYnNlciA9IG9mKHRydWUpO1xyXG4gICAgICAgIHRoaXMuZ3JpZE9wdGlvbnMuc2VhcmNoRmllbGRzID0gdGhpcy5nZXRTZWFyY2hDb2x1bW5zKHJlc0RhdGEpO1xyXG4gICAgICAgIGlmIChyZXNEYXRhKSB7XHJcbiAgICAgICAgICAgIC8vIOWmguaenOe7hOS7tuS4reacquiuvue9ruaYvuekuuWIl++8jOWImeS9v+eUqOacjeWKoeWZqOerr+i/lOWbnueahOiuvue9ru+8myDlkKbliJnlsIbkvb/nlKjnu4Tku7bkuK3phY3nva7nmoTlsZXnpLrliJdcclxuICAgICAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICAgICAgKCF0aGlzLmNvbHVtbnMgfHwgIXRoaXMuY29sdW1ucy5sZW5ndGgpICYmXHJcbiAgICAgICAgICAgICAgICByZXNEYXRhLmNvbHVtbnMgJiZcclxuICAgICAgICAgICAgICAgIHJlc0RhdGEuY29sdW1ucy5sZW5ndGhcclxuICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbHVtbnMgPSByZXNEYXRhLmNvbHVtbnM7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMuaW5pdENvbHVtbldpZHRoKHRoaXMuY29sdW1ucyk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnNldExvb2t1cFRpdGxlVGV4dChyZXNEYXRhKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChcclxuICAgICAgICAgICAgICAgIHRoaXMuaXNEb3VibGxlTGlzdCgpICYmXHJcbiAgICAgICAgICAgICAgICB0aGlzLmRpYWxvZ1dpZHRoIDwgdGhpcy5uYXZMb29rdXBEaWFsb2dNaW5XaWR0aCAmJlxyXG4gICAgICAgICAgICAgICAgIXRoaXMuaXNSZWNvcmRTaXplXHJcbiAgICAgICAgICAgICkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kaWFsb2dXaWR0aCA9IHRoaXMubmF2TG9va3VwRGlhbG9nTWluV2lkdGg7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRpYWxvZy5yZVNpemUoeyB3aWR0aDogdGhpcy5kaWFsb2dXaWR0aCB9KTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKCF0aGlzLmN1c3RvbURpc3BsYXlUeXBlKSB7XHJcbiAgICAgICAgICAgICAgICAvLyB0aGlzLmRpc3BsYXlUeXBlID0gcmVzRGF0YS5kaXNwbGF5VHlwZSB8fCB0aGlzLmRpc3BsYXlUeXBlIHx8ICdMSVNUJztcclxuICAgICAgICAgICAgICAgIC8vIGlmICh0aGlzLnRyZWVUb0xpc3QpIHtcclxuICAgICAgICAgICAgICAgIC8vICAgICB0aGlzLmRpc3BsYXlUeXBlID0gdGhpcy5pc0RvdWJsbGVMaXN0KCkgPyAnIE5BVkxJU1QgJzogJ0xJU1QnO1xyXG4gICAgICAgICAgICAgICAgLy8gfVxyXG4gICAgICAgICAgICAgICAgdGhpcy5jaGFuZ2VEZXRlY3Rvci5kZXRlY3RDaGFuZ2VzKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxvb2t1cENtcE1nci5jcmVhdGVDb21wb25lbnRXaXRoU2VydmVyRGF0YShyZXNEYXRhKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKCB0aGlzLmlzRG91YmxsZUxpc3QoKSAmJiByZXNEYXRhLm5hdmlnYXRpb24gJiYgIXRoaXMubGVmdENvbXBvbmVudFJlZikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5uYXZpZ2F0aW9uT3B0aW9ucyA9IHJlc0RhdGEubmF2aWdhdGlvbjtcclxuICAgICAgICAgICAgICAgIHRoaXMubmF2aWdhdGlvbk9wdGlvbnMuaG92ZXIgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5uYXZpZ2F0aW9uT3B0aW9ucy5zZWFyY2hGaWVsZHMgPSB0aGlzLmdldFNlYXJjaENvbHVtbnModGhpcy5uYXZpZ2F0aW9uT3B0aW9ucyk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmluaXRDb2x1bW5XaWR0aCh0aGlzLm5hdmlnYXRpb25PcHRpb25zLmNvbHVtbnMsICduYXYnKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyB1cGRhdGUgY29sdW1ucyBmb3JtYXR0ZXJcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmN1c3RvbU5hdkZvcm1hdHRlcikge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubmF2aWdhdGlvbk9wdGlvbnMuY29sdW1ucy5mb3JFYWNoKChjb2wpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuY3VzdG9tTmF2Rm9ybWF0dGVyW2NvbC5maWVsZF0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbC5mb3JtYXR0ZXIgPSB0aGlzLmN1c3RvbU5hdkZvcm1hdHRlcltjb2wuZmllbGRdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubmF2aWdhdGlvbk9wdGlvbnNbXCJyb3dTdHlsZXJcIl0gPVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmN1c3RvbU5hdkZvcm1hdHRlci5yb3dTdHlsZXI7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5uYXZpZ2F0aW9uT3B0aW9uc1tcImNlbGxTdHlsZXJcIl0gPVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmN1c3RvbU5hdkZvcm1hdHRlci5jZWxsU3R5bGVyO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gMjAyMTA5MjYg5qCR5a+86Iiq5biu5Yqp5LitIOW3puS+p+agkeaUr+aMgeWIhuWxguWKoOi9vVxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZGlzcGxheVR5cGUgPT09IExvb2t1cEdyaWREaXNwbGF5VHlwZS5OYXZUcmVlTGlzdCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBfbmF2X3RyZWVpbmZvX2xvYWR0eXBlID1cclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5uYXZpZ2F0aW9uT3B0aW9ucy50cmVlSW5mby5sb2FkRGF0YVR5cGU7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMubG9hZFRyZWVEYXRhVHlwZSAhPT0gXCJkZWZhdWx0XCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX25hdl90cmVlaW5mb19sb2FkdHlwZSA9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvYWRUcmVlRGF0YVR5cGUgPT09IFwibG9hZGFsbFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBcImFsbFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBcImFzeW5jXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubmF2aWdhdGlvbk9wdGlvbnMudHJlZUluZm8ubG9hZERhdGFUeXBlID1cclxuICAgICAgICAgICAgICAgICAgICAgICAgX25hdl90cmVlaW5mb19sb2FkdHlwZTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBvYnNlciA9IHRoaXMubG9va3VwQ21wTWdyLmNyZWF0ZUxlZnRDb21wb25lbnQodGhpcy5uYXZpZ2F0aW9uT3B0aW9ucyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmxvb2t1cENtcE1nci5jcmVhdGVDb250ZW50KHRoaXMuZ3JpZE9wdGlvbnMpO1xyXG4gICAgICAgICAgICB0aGlzLmxvb2t1cENtcE1nci5jcmVhdGVGYXZvcml0ZUNvbXBvbmVudCgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRoaXMuaXNUZXh0Q2hhbmdlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY29tcG9uZW50UmVmLmluc3RhbmNlLnNlYXJjaERhdGEudmFsdWUgPSB0aGlzLmRpc3BsYXlUZXh0O1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9zZWFyY2hTdGF0ZSAmJiB0aGlzLl9zZWFyY2hTdGF0ZS52YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb21wb25lbnRSZWYuaW5zdGFuY2Uuc2VhcmNoRGF0YS52YWx1ZSA9IHRoaXMuX3NlYXJjaFN0YXRlLnZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyB1cGRhdGUgY29sdW1ucyBmb3JtYXR0ZXJcclxuICAgICAgICBpZiAodGhpcy5jdXN0b21Gb3JtYXR0ZXIpIHtcclxuICAgICAgICAgICAgdGhpcy5jb2x1bW5zLmZvckVhY2goKGNvbCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY3VzdG9tRm9ybWF0dGVyW2NvbC5maWVsZF0pIHtcclxuICAgICAgICAgICAgICAgICAgICBjb2wuZm9ybWF0dGVyID0gdGhpcy5jdXN0b21Gb3JtYXR0ZXJbY29sLmZpZWxkXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBpZiAodGhpcy5jdXN0b21Gb3JtYXR0ZXIucm93U3R5bGVyKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbXBvbmVudFJlZi5pbnN0YW5jZS5yb3dTdHlsZXIgPSB0aGlzLmN1c3RvbUZvcm1hdHRlci5yb3dTdHlsZXI7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmICh0aGlzLmN1c3RvbUZvcm1hdHRlci5jZWxsU3R5bGVyKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbXBvbmVudFJlZi5pbnN0YW5jZS5jZWxsU3R5bGVyID0gdGhpcy5jdXN0b21Gb3JtYXR0ZXIuY2VsbFN0eWxlcjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGlmIChyZXNEYXRhLmN1c3RvbVN0eWxlcykge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgeyByb3c6IHJvd1N0eWxlcnMsIGNlbGw6IGNlbGxTdHlsZXJzIH0gPSByZXNEYXRhLmN1c3RvbVN0eWxlcztcclxuXHJcbiAgICAgICAgICAgICAgICBjb25zdCBmaWx0ZXJGbiA9IChuLCBkYXRhKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZCA9IHRoaXMudXRpbHMuZ2V0VmFsdWUobi5maWVsZCwgZGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBkID09PSAnYm9vbGVhbicpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG4udmFsdWUgPT0gJzAnIHx8IG4udmFsdWUgPT0gJzEnIHx8IG4udmFsdWUgPT0gJ3RydWUnIHx8IG4udmFsdWUgPT0gJ2ZhbHNlJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGQgPT09IChuLnZhbHVlID09ICcwJyB8fCBuLnZhbHVlID09ICdmYWxzZScpID8gZmFsc2UgOiB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkID09PSAhIW4udmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBkID09PSBuLnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmIChyb3dTdHlsZXJzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb21wb25lbnRSZWYuaW5zdGFuY2Uucm93U3R5bGVyID0gKHsgZGF0YSB9KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHN0eWxlSXRlbSA9IHJvd1N0eWxlcnMuZmluZChuID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmaWx0ZXJGbihuLCBkYXRhKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdHlsZUl0ZW0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzdHlsZUl0ZW0uc3R5bGVzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGNlbGxTdHlsZXJzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb21wb25lbnRSZWYuaW5zdGFuY2UuY2VsbFN0eWxlciA9IChlLCBmaWVsZCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB7IGRhdGEgfSA9IGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHN0eWxlSXRlbSA9IGNlbGxTdHlsZXJzLmZpbHRlcihuID0+IG4uZmllbGQgPT09IGZpZWxkKS5maW5kKHQgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZpbHRlckZuKHQsIGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdHlsZUl0ZW0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzdHlsZUl0ZW0uc3R5bGVzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyB0aGlzLmNoYW5nZURldGVjdG9yLmRldGVjdENoYW5nZXMoKTtcclxuICAgICAgICByZXR1cm4gb2JzZXI7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDorr7nva7luK7liqnnqpflj6PmoIfpophcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBzZXRMb29rdXBUaXRsZVRleHQocmVzRGF0YTogTG9va3VwR3JpZFJlc3VsdCkge1xyXG4gICAgICAgIGlmIChyZXNEYXRhLmRpc3BsYXlJbmZvKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZGlzcGxheUluZm8gPSByZXNEYXRhLmRpc3BsYXlJbmZvO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8g5aaC5p6c6Ieq5a6a5LmJ5qCH6aKY77yM5bCG5Lul5q2k5qCH6aKY5Li65YeG44CC5ZCm5YiZ5Yqg6L295pyN5Yqh5Zmo56uv6L+U5Zue55qE5pWw5o2uXHJcbiAgICAgICAgaWYgKHRoaXMudGl0bGUgJiYgdGhpcy50aXRsZSAhPT0gXCLmraTlpITmmL7npLrluK7liqnmoIfpophcIikge1xyXG4gICAgICAgICAgICB0aGlzLmRpc3BsYXlJbmZvLnRpdGxlID0gdGhpcy50aXRsZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmRpc3BsYXlJbmZvICYmIHJlc0RhdGEudGl0bGUpIHtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLmRpc3BsYXlJbmZvLnRpdGxlKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRpc3BsYXlJbmZvLnRpdGxlID0gcmVzRGF0YS50aXRsZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHNob3dHZXRBbGxDaGlsZHJlbkNoZWNrYm94KCkge1xyXG4gICAgICAgIGlmICh0aGlzLmlzVHJlZSgpICYmIHRoaXMudHJlZUluZm8pIHtcclxuICAgICAgICAgICAgdGhpcy5lbmFibGVHZXRBbGxDaGlsZE5vZGVzID1cclxuICAgICAgICAgICAgICAgIHRoaXMudHJlZUluZm8ubG9hZERhdGFUeXBlICE9PSBcImFsbFwiICYmIHRoaXMudHJlZUluZm8ubGF5ZXJUeXBlID09PSBcInBhdGhjb2RlXCI7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5lbmFibGVHZXRBbGxDaGlsZE5vZGVzID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGluaXREYXRhKCkge1xyXG5cclxuICAgICAgICBjb25zdCBvYnNlcnZlciA9IHtcclxuICAgICAgICAgICAgbmV4dDogKGRhdGE6IExvb2t1cEdyaWRSZXN1bHQpID0+IHtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoZGF0YSA9PT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMuY29sdW1ucyB8fCAhdGhpcy5jb2x1bW5zLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNsb3NlTG9hZGluZygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNsb3NlRGlhbG9nKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5tZXNzYWdlclNlcnZpY2UubW9kYWxzIHx8ICF0aGlzLm1lc3NhZ2VyU2VydmljZS5tb2RhbHMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm5vdGlmeVNlcnZpY2UuZXJyb3Ioe21zZzogdGhpcy5sb2NhbFNlcnZpY2UuZ2V0VmFsdWUoJ2xvb2t1cC5jb25maWdFcnJvcicpICwgdGltZW91dDogMzAwMH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgLy8g5pyN5Yqh5Zmo56uv5Y+R55Sf6ZSZ6K+v77yM6L+U5ZueTlVMTCDml7bvvIznm7TmjqXlhbPpl63nqpflj6NcclxuICAgICAgICAgICAgICAgIGlmIChkYXRhID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pc1Nob3cgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5kaWFsb2cpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kaWFsb2cuY2xvc2UoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhpcy5pbml0T3B0aW9ucyhkYXRhKS5zdWJzY3JpYmUoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRDb2x1bW5zID0gdGhpcy5tdWx0aVNlbE1nci5pbml0U2VsZWN0ZWRDb2x1bW5zKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gdGhpcy5mYXZvcml0ZUNvbHVtbnMgPSB0aGlzLmZhdkhlbHBlci5nZXRGYXZvcml0ZUNvbHVtbnMoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMudXNlUGVyc2lvbmFsQ29uZikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMucGVyc29uYWxDb25maWdTZXJ2aWNlLmdldFBlcnNvbmFsRGF0YSgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBlcnNvbmFsQ29uZmlnU2VydmljZS5zYXZlUGVyc29uYWxDb25maWcoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wZXJzb25hbENvbmZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLmlzVGFiQ2hhbmdlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvb2t1cFNlbGVjdGlvblNlci5sb2FkU2VsZWN0aW9ucyhcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEuc2VsZWN0ZWRJdGVtcyB8fCBbXVxyXG4gICAgICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuaXNEb3VibGxlTGlzdCgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIOWvvOiIquW4ruWKqeaXtu+8jOiuvue9ruW3puS+p+mAieS4reaVsOaNruaXtu+8jOS4jeWKoOi9veS4u+aVsOaNruWIl+ihqOOAglxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5uYXZTZWxlY3RlZElkcyB8fCB0aGlzLnNlbGVjdEZpcnN0SW5OYXYpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9hZERhdGFXaGVuT3BlbiA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YVsnYWN0aXZlVGFiJ10gJiYgIXRoaXMuaXNUYWJDaGFuZ2VkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYWN0aXZlVGFiID0gJ2RhdGFsaXN0JztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnBlcnNvbmFsQ29uZiAmJiB0aGlzLnBlcnNvbmFsQ29uZi50YWJJbmRleCAhPT0gdGhpcy5hY3RpdmVUYWIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGVyc29uYWxDb25mLnRhYkluZGV4ID0gdGhpcy5hY3RpdmVUYWI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmxvYWREYXRhKGRhdGEpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5pc1RyZWUoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5hY3RpdmVUYWIgPT09IFwiZGF0YWxpc3RcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdHQgPSB0aGlzLmNvbXBvbmVudFJlZi5pbnN0YW5jZSBhcyBUcmVlVGFibGVDb21wb25lbnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHQuc2VhcmNoRGF0YS52YWx1ZSAmJiB0aGlzLml0ZW1zICYmIHRoaXMuaXRlbXMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuaXRlbXNbMF0uY2hpbGRyZW4gJiYgdGhpcy5pdGVtc1swXS5jaGlsZHJlbi5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHQudG9nZ2xlRXhwYW5kKHRoaXMuaXRlbXNbMF0sIHRydWUsIGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zaG93R2V0QWxsQ2hpbGRyZW5DaGVja2JveCgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pc1RleHRDaGFuZ2UgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9zZWFyY2hSZXN1bHQgPSBudWxsOyAvLyDmuIXnqbrkuLTml7bmn6Xor6Ig57uT5p6cXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jbG9zZUxvYWRpbmcoKTtcclxuICAgICAgICAgICAgICAgICAgICAvLyB0aGlzLmlzUmVhZHkkLm5leHQodHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pc1JlYWR5ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNoYW5nZURldGVjdG9yLmRldGVjdENoYW5nZXMoKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmxvb2t1cGluaXRpYWxpemF0aW9uU3ViamVjdC5uZXh0KCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmxheW91dFJlZikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxheW91dFJlZi5zZXRQYW5lbE1heFNpemUoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZXJyb3I6IChlcnI6IGFueSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgLy8gdGhpcy5pc1JlYWR5JC5uZXh0KHRydWUpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jbG9zZUxvYWRpbmcoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3NlYXJjaFJlc3VsdCA9IG51bGw7IC8vIOa4heepuuS4tOaXtuafpeivoiDnu5PmnpxcclxuICAgICAgICAgICAgICAgIHRoaXMuaXNUZXh0Q2hhbmdlID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5oYXNFcnJvciA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNoYW5nZURldGVjdG9yLmRldGVjdENoYW5nZXMoKTtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZXJyID09PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tZXNzYWdlclNlcnZpY2UuZXJyb3IoZXJyKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVycikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyLk1lc3NhZ2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubWVzc2FnZXJTZXJ2aWNlLmVycm9yKGVyci5NZXNzYWdlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnIuZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1lc3NhZ2VyU2VydmljZS5leGNlcHRpb24oZXJyLmVycm9yKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tZXNzYWdlclNlcnZpY2UuZXJyb3IoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwi5bqU55So5pyN5Yqh5Zmo6ZSZ6K+vLOivt+iBlOezu+ezu+e7n+euoeeQhuWRmO+8gVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBsZXQgcDogYW55ID0ge1xyXG4gICAgICAgICAgICBwYWdlSW5mbzoge1xyXG4gICAgICAgICAgICAgICAgcGFnZVNpemU6IHRoaXMucGFnZVNpemUgfHwgMjAsXHJcbiAgICAgICAgICAgICAgICBwYWdlSW5kZXg6IDEsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgfTtcclxuICAgICAgICBsZXQgdDogTE9BRF9EQVRBX1RZUEUgPSBcImFsbFwiO1xyXG4gICAgICAgIGlmICh0aGlzLmlzVGV4dENoYW5nZSkge1xyXG4gICAgICAgICAgICB0aGlzLl9zZWFyY2hTdGF0ZSA9IHsgXHJcbiAgICAgICAgICAgICAgICBmaWVsZDogXCIqXCIsXHJcbiAgICAgICAgICAgICAgICB2YWx1ZTogdGhpcy5kaXNwbGF5VGV4dFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyDliIblsYLliqDovb3mlK/mjIHorr7nva7lsZXlvIDlsYLnuqdcclxuICAgICAgICBpZiAodGhpcy5pc1RyZWUoKSB8fCB0aGlzLmRpc3BsYXlUeXBlID09PSBMb29rdXBHcmlkRGlzcGxheVR5cGUuTmF2VHJlZUxpc3QpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuZXhwYW5kTGV2ZWwgPiAtMSkge1xyXG4gICAgICAgICAgICAgICAgcFsnZXhwYW5kTGV2ZWwnXSA9IHRoaXMuZXhwYW5kTGV2ZWw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLl9zZWFyY2hTdGF0ZSAmJiB0aGlzLl9zZWFyY2hTdGF0ZS52YWx1ZSkge1xyXG4gICAgICAgICAgICBwWydzZWFyY2gnXSA9IHRoaXMuX3NlYXJjaFN0YXRlO1xyXG4gICAgICAgICAgICB0ID0gJ3NlYXJjaCc7XHJcblxyXG4gICAgICAgICAgICAvLyBpZiAodGhpcy5jb25kaXRpb25zICYmICF0aGlzLmNvbmRpdGlvbnMubGVuZ3RoICYmIHRoaXMuZW5hYmxlTXVsdGlGaWVsZFNlYXJjaCkge1xyXG4gICAgICAgICAgICAvLyAgICAgdGhpcy5jb25kaXRpb25zID0gW3tcclxuICAgICAgICAgICAgLy8gICAgICAgICBcImZpbHRlckZpZWxkXCI6IHRoaXMudGV4dEZpZWxkLFxyXG4gICAgICAgICAgICAvLyAgICAgICAgIFwidmFsdWVcIjogdGhpcy5fc2VhcmNoU3RhdGUudmFsdWUsXHJcbiAgICAgICAgICAgIC8vICAgICAgICAgXCJsYnJhY2tldFwiOiBcIlwiLFxyXG4gICAgICAgICAgICAvLyAgICAgICAgIFwicmJyYWNrZXRcIjogXCJcIixcclxuICAgICAgICAgICAgLy8gICAgICAgICBcInJlbGF0aW9uXCI6IDAsXHJcbiAgICAgICAgICAgIC8vICAgICAgICAgXCJjb21wYXJlXCI6IDZcclxuICAgICAgICAgICAgLy8gICAgIH1dO1xyXG4gICAgICAgICAgICAvLyB9XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgaWYgKCF0aGlzLmlzVGFiQ2hhbmdlZCAmJiB0aGlzLmVuYWJsZVRvU2VsZWN0KSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHZhbHMgPSB0aGlzLnNlbGVjdGlvbk1nci5nZXRTZWxlY3RlZElkcygpO1xyXG4gICAgICAgICAgICBpZiAodmFscyAmJiB2YWxzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgcFtcInNlbGVjdGVkSW5mb1wiXSA9IHtcclxuICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZDogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZElkczogdmFscyxcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpc1tcInNlbGVjdGVkSWRzXCJdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcFtcInNlbGVjdGVkSW5mb1wiXSA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWQ6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkSWRzOiB0aGlzW1wic2VsZWN0ZWRJZHNcIl0sXHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5zaG93TG9hZGluZygpO1xyXG4gICAgICAgIHRoaXMuaGFzRXJyb3IgPSBmYWxzZTtcclxuICAgICAgIFxyXG4gICAgICAgIHRoaXMuaHR0cE1nci5sb29rdXBSZXF1ZXN0KHAsIHQpLnBpcGUoXHJcbiAgICAgICAgICAgIG1hcCgocmVzdERhdGE6IExvb2t1cEdyaWRSZXN1bHQpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChyZXN0RGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc3REYXRhLnNlbGVjdGVkSXRlbXMgPSByZXN0RGF0YVtcInNlbGVjdGVkRGF0YVwiXSB8fCBbXTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3REYXRhICYmIHR5cGVvZiByZXN0RGF0YSA9PT0gXCJvYmplY3RcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN0RGF0YS5zZWxlY3RlZEl0ZW1zID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3REYXRhID09PSBudWxsID8gZmFsc2UgOiByZXN0RGF0YTtcclxuICAgICAgICAgICAgfSksXHJcbiAgICAgICAgICAgIHN3aXRjaE1hcCgocmVzOiBMb29rdXBHcmlkUmVzdWx0KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5iZWZvcmVMb2FkRGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmJlZm9yZUxvYWREYXRhKHtpbnN0YW5jZTogdGhpcywgcmVzfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gb2YocmVzKTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICApLnN1YnNjcmliZShvYnNlcnZlcik7XHJcbiAgICB9XHJcblxyXG4gICAgbG9hZERhdGEocmVzRGF0YT86IExvb2t1cEdyaWRSZXN1bHQsIHJlYmluZEV2ZW50ID0gdHJ1ZSkge1xyXG4gICAgICAgIGlmICh0aGlzLmFjdGl2ZVRhYiA9PT0gXCJkYXRhbGlzdFwiKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnVzZUZhdm9yaXRlICYmICF0aGlzLmlzVHJlZSgpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmZhdkhlbHBlci51cGRhdGVGYXZvcml0ZXNTdGF0dXMocmVzRGF0YS5pdGVtcyk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHN3aXRjaCAodGhpcy5kaXNwbGF5VHlwZSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSBMb29rdXBHcmlkRGlzcGxheVR5cGUuTmF2TGlzdDpcclxuICAgICAgICAgICAgICAgIGNhc2UgTG9va3VwR3JpZERpc3BsYXlUeXBlLk5hdlRyZWVMaXN0OlxyXG4gICAgICAgICAgICAgICAgY2FzZSBMb29rdXBHcmlkRGlzcGxheVR5cGUuTGlzdDpcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmxvYWREYXRhVGFibGVEYXRhKHJlc0RhdGEpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChyZWJpbmRFdmVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmR0RXZlbnRNZ3IuYmluZERhdGFUYWJsZUV2ZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBMb29rdXBHcmlkRGlzcGxheVR5cGUuVHJlZUxpc3Q6XHJcbiAgICAgICAgICAgICAgICBjYXNlIExvb2t1cEdyaWREaXNwbGF5VHlwZS5OYXZMaXN0VHJlZTpcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmxvYWRUcmVlVGFibGVEYXRhKHJlc0RhdGEsIHJlYmluZEV2ZW50KTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5hY3RpdmVUYWIgPT09IFwiZmF2b3JpdGVcIikge1xyXG4gICAgICAgICAgICB0aGlzLmxvYWRGYXZEYXRhKHJlc0RhdGEpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8g6YCJ5Lit5pWw5o2uXHJcbiAgICAgICAgdGhpcy5zZWxlY3Rpb25NZ3Iuc2VsZWN0Q3VycmVudFZhbHVlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBsb2FkRmF2RGF0YShyZXN1bHQ6IExvb2t1cEdyaWRSZXN1bHQpIHtcclxuICAgICAgICAvLyDliqDovb3mlLbol4/mlbDmja5cclxuICAgICAgICBpZiAodGhpcy51c2VGYXZvcml0ZSkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5pc1RyZWUoKSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRUcmVlSW5mbyhyZXN1bHQpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdHJlZU5vZGVzID0gdGhpcy5mYXZIZWxwZXIuaW5pdEZhdm9yaXRlVHJlZURhdGEoXHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0Lml0ZW1zXHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdHJlZURhdGEgPSB0aGlzLnRyZWVOb2RlSGVscGVyXHJcbiAgICAgICAgICAgICAgICAgICAgLmZsYXRUcmVlTm9kZXModHJlZU5vZGVzKVxyXG4gICAgICAgICAgICAgICAgICAgIC5tYXAoKG4pID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbi5kYXRhW1wiX2FkZHRpb25hbF9cIl0gPSBuW1wiYWRkdGlvbmFsXCJdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbi5kYXRhO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5sb29rdXBTZWxlY3Rpb25TZXIuaW5pdEZhdm9yaXRlSXRlbXModHJlZURhdGEpO1xyXG5cclxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZmF2b3JpdGVzQ29tcG9uZW50UmVmLmluc3RhbmNlLnNjcm9sbFRvWSgxKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5sb29rdXBTZWxlY3Rpb25TZXIuaW5pdEZhdm9yaXRlSXRlbXMocmVzdWx0Lml0ZW1zKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5mYXZIZWxwZXIubG9hZEZhdm9yaXRlc0RhdGEocmVzdWx0KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgbG9hZERhdGFUYWJsZURhdGEocmVzRGF0YT86IExvb2t1cEdyaWRSZXN1bHQpIHtcclxuICAgICAgICBpZiAocmVzRGF0YSkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy51c2VGYXZvcml0ZSAmJiAhdGhpcy5pc1RyZWUoKSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5mYXZIZWxwZXIudXBkYXRlRmF2b3JpdGVzU3RhdHVzKHJlc0RhdGEuaXRlbXMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmdyaWRPcHRpb25zKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocmVzRGF0YSAmJiByZXNEYXRhLmNvbHVtbnMgJiYgcmVzRGF0YS5jb2x1bW5zLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChcclxuICAgICAgICAgICAgICAgICAgICAgICAgIXRoaXMuZ3JpZE9wdGlvbnMuY29sdW1ucyB8fFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAhdGhpcy5ncmlkT3B0aW9ucy5jb2x1bW5zLmxlbmd0aFxyXG4gICAgICAgICAgICAgICAgICAgICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbHVtbnMgPSByZXNEYXRhLmNvbHVtbnM7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuaXRlbXMgPSByZXNEYXRhLml0ZW1zO1xyXG4gICAgICAgICAgICAgICAgdGhpcy50b3RhbCA9IHJlc0RhdGEudG90YWwgfHwgcmVzRGF0YS5pdGVtcy5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgICBpZiAoIHJlc0RhdGEuc2VhcmNoRmllbGRzICkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZ3JpZE9wdGlvbnMuc2VhcmNoRmllbGRzID0gdGhpcy5nZXRTZWFyY2hDb2x1bW5zKHJlc0RhdGEpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHJlc0RhdGEucGFnZUluZm8pIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc0RhdGEucGFnZUluZm8ucGFnZUxpc3QgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgKCF0aGlzLnBhZ2VMaXN0IHx8ICF0aGlzLnBhZ2VMaXN0Lmxlbmd0aClcclxuICAgICAgICAgICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wYWdlTGlzdCA9IHJlc0RhdGEucGFnZUluZm8ucGFnZUxpc3Q7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGFnaW5hdGlvbiA9IHJlc0RhdGEucGFnZUluZm8uZW5hYmxlUGFnZXI7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wYWdlSW5kZXggPSByZXNEYXRhLnBhZ2VJbmZvLnBhZ2VJbmRleDtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBhZ2VTaXplID0gcmVzRGF0YS5wYWdlSW5mby5wYWdlU2l6ZTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wYWdpbmF0aW9uID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmdyaWRPcHRpb25zID0gcmVzRGF0YSBhcyBMb29rdXBHcmlkT3B0aW9ucztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy51cGRhdGVEYXRhVGFibGUodGhpcy5ncmlkT3B0aW9ucyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSB1cGRhdGVEYXRhVGFibGUob3B0czogYW55KSB7XHJcbiAgICAgICAgaWYgKG9wdHMpIHtcclxuICAgICAgICAgICAgY29uc3QgZHQgPSB0aGlzLmNvbXBvbmVudFJlZi5pbnN0YW5jZSBhcyBEYXRhVGFibGVDb21wb25lbnQ7XHJcblxyXG4gICAgICAgICAgICBpZiAoIWR0LmNvbHVtbnMgfHwgZHQuY29sdW1ucy5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgICAgICAgIGR0LmNvbHVtbnMgPSB0aGlzLmdyaWRPcHRpb25zLmNvbHVtbnM7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZHQuYWxsQ29sdW1uc1RpdGxlID0gdGhpcy5hbGxDb2x1bW5zVGl0bGU7XHJcbiAgICAgICAgICAgIGR0LnNlYXJjaEZpZWxkcyA9IG9wdHMuc2VhcmNoRmllbGRzO1xyXG4gICAgICAgICAgICBkdC5wYWdpbmF0aW9uID0gb3B0cy5wYWdpbmF0aW9uO1xyXG4gICAgICAgICAgICBkdC5wYWdlTGlzdCA9IHRoaXMucGFnZUxpc3Q7XHJcbiAgICAgICAgICAgIGR0LnJlbW90ZVNvcnQgPSB0aGlzLnJlbW90ZVNvcnQ7XHJcbiAgICAgICAgICAgIGR0LnN0cmlwZWQgPSB0aGlzLmVuYWJsZU11bHRpRmllbGRTZWFyY2g7XHJcblxyXG4gICAgICAgICAgICBpZiAodGhpcy5sb2FkRGF0YVdoZW5PcGVuKSB7XHJcbiAgICAgICAgICAgICAgICBkdC5sb2FkRGF0YSh7XHJcbiAgICAgICAgICAgICAgICAgICAgcGFnZVNpemU6IG9wdHMucGFnZVNpemUsXHJcbiAgICAgICAgICAgICAgICAgICAgcGFnZUluZGV4OiB0aGlzLmdyaWRPcHRpb25zLnBhZ2VJbmRleCxcclxuICAgICAgICAgICAgICAgICAgICB0b3RhbDogdGhpcy5ncmlkT3B0aW9ucy50b3RhbCxcclxuICAgICAgICAgICAgICAgICAgICBkYXRhOiB0aGlzLmdyaWRPcHRpb25zLml0ZW1zLFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBkdC5jZC5tYXJrRm9yQ2hlY2soKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLmxvYWRTdWNjZXNzLmVtaXQoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBzZXRUcmVlSW5mbyhyZXNEYXRhKSB7XHJcbiAgICAgICAgaWYgKCFyZXNEYXRhKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCBfdHJlZUluZm8gPSBudWxsO1xyXG4gICAgICAgIGlmIChyZXNEYXRhLnRyZWVJbmZvKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IG9ubHlTZWxlY3RMZWFmID0gcmVzRGF0YS50cmVlSW5mby5vbmx5U2VsZWN0TGVhZjtcclxuICAgICAgICAgICAgbGV0IF9vc2w6IE9OTFlfU0VMRUNUX0xFQUYgPSBcIm5vXCI7XHJcbiAgICAgICAgICAgIGlmIChvbmx5U2VsZWN0TGVhZiAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICBfb3NsID0gb25seVNlbGVjdExlYWYgPyBcInllc1wiIDogXCJub1wiO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIF90cmVlSW5mbyA9IHsgLi4ucmVzRGF0YS50cmVlSW5mbywgb25seVNlbGVjdExlYWY6IF9vc2wgfTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IHRyZWVJbmZvID0gdGhpcy5ncmlkT3B0aW9ucy50cmVlSW5mbztcclxuICAgICAgICBpZiAodHJlZUluZm8pIHtcclxuICAgICAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICAgICAgdHJlZUluZm8ub25seVNlbGVjdExlYWYgPT09IHVuZGVmaW5lZCB8fFxyXG4gICAgICAgICAgICAgICAgdHJlZUluZm8ub25seVNlbGVjdExlYWYgPT09IG51bGxcclxuICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgICB0cmVlSW5mby5vbmx5U2VsZWN0TGVhZiA9IFwibm9cIjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKHR5cGVvZiB0cmVlSW5mby5vbmx5U2VsZWN0TGVhZiA9PT0gXCJib29sZWFuXCIpIHtcclxuICAgICAgICAgICAgICAgIHRyZWVJbmZvLm9ubHlTZWxlY3RMZWFmID0gdHJlZUluZm8ub25seVNlbGVjdExlYWYgPyBcInllc1wiIDogXCJub1wiO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyAyMDIxMDkwMlxyXG4gICAgICAgICAgICBpZiAodGhpcy5sb2FkVHJlZURhdGFUeXBlID09PSBcImRlZmF1bHRcIikge1xyXG4gICAgICAgICAgICAgICAgdHJlZUluZm8ubG9hZERhdGFUeXBlID0gX3RyZWVJbmZvLmxvYWREYXRhVHlwZTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRyZWVJbmZvLmxvYWREYXRhVHlwZSA9IHRoaXMubG9hZFRyZWVEYXRhVHlwZSA9PT0gXCJsb2FkYWxsXCIgPyBcImFsbFwiIDogXCJhc3luY1wiO1xyXG4gICAgICAgICAgICAgICAgX3RyZWVJbmZvLmxvYWREYXRhVHlwZSA9IHRyZWVJbmZvLmxvYWREYXRhVHlwZVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAodHJlZUluZm8ub25seVNlbGVjdExlYWYgIT09IFwiZGVmYXVsdFwiKSB7XHJcbiAgICAgICAgICAgICAgICBfdHJlZUluZm8gPSBPYmplY3QuYXNzaWduKF90cmVlSW5mbywgdHJlZUluZm8pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMubG9hZFRyZWVEYXRhVHlwZSAhPT0gXCJkZWZhdWx0XCIpIHtcclxuICAgICAgICAgICAgICAgIF90cmVlSW5mby5sb2FkRGF0YVR5cGUgPSB0aGlzLmxvYWRUcmVlRGF0YVR5cGUgPT09IFwibG9hZGFsbFwiID8gXCJhbGxcIiA6IFwiYXN5bmNcIjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy50cmVlSW5mbyA9IF90cmVlSW5mbztcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGxvYWRUcmVlVGFibGVEYXRhKHJlc0RhdGE/OiBMb29rdXBHcmlkUmVzdWx0LCByZWJpbmRFdmVudCA9IHRydWUpIHtcclxuICAgICAgICBjb25zdCBpdGVtcyA9IHJlc0RhdGEgPyByZXNEYXRhLml0ZW1zIDogdGhpcy5ncmlkT3B0aW9ucy5pdGVtcztcclxuICAgICAgICB0aGlzLml0ZW1zID0gaXRlbXM7XHJcblxyXG4gICAgICAgIGlmIChyZXNEYXRhKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0VHJlZUluZm8ocmVzRGF0YSk7XHJcblxyXG4gICAgICAgICAgICBjb25zdCB0cmVlSW5mbyA9IHRoaXMuZ3JpZE9wdGlvbnMudHJlZUluZm87XHJcbiAgICAgICAgICAgIGlmICghdHJlZUluZm9bXCJ0cmVlRGF0YUlzSW5pdFwiXSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRyZWVJbmZvLmxheWVyVHlwZS50b0xvd2VyQ2FzZSgpID09PSBcInBhdGhjb2RlXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLml0ZW1zID0gdGhpcy5sb29rdXBVdGlscy5tYWtlVHJlZShcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pdGVtcyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHJlZUluZm9cclxuICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLml0ZW1zID0gdGhpcy5sb29rdXBVdGlscy5tYWtlVHJlZVdpdGhQYXJlbnRJRChcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pdGVtcyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHJlZUluZm8uZGF0YUZpZWxkID8gYCR7dHJlZUluZm8uZGF0YUZpZWxkfS4ke3RyZWVJbmZvLnBhcmVudEZpZWxkfWA6IHRyZWVJbmZvLnBhcmVudEZpZWxkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmlkRmllbGRcclxuICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy5jb21wb25lbnRSZWYuaW5zdGFuY2UgaW5zdGFuY2VvZiBUcmVlVGFibGVDb21wb25lbnQpIHtcclxuICAgICAgICAgICAgY29uc3QgdHQgPSB0aGlzLmNvbXBvbmVudFJlZi5pbnN0YW5jZSBhcyBUcmVlVGFibGVDb21wb25lbnQ7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnRyZWVJbmZvKSB7XHJcbiAgICAgICAgICAgICAgICB0dC5sb2FkRGF0YVR5cGUgPSB0aGlzLnRyZWVJbmZvLmxvYWREYXRhVHlwZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKCF0aGlzLmNvbHVtbnMgfHwgIXRoaXMuY29sdW1ucy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgIHR0LmNvbHVtbnMgPSByZXNEYXRhLmNvbHVtbnMgfHwgW107XHJcbiAgICAgICAgICAgICAgICB0aGlzLmdyaWRPcHRpb25zLmNvbHVtbnMgPSB0dC5jb2x1bW5zO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBjb25zdCBpc0xvYWRBbGxUcmVlRGF0YSA9ICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmxvYWRUcmVlRGF0YVR5cGUgPT09IFwiZGVmYXVsdFwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHR0LmxvYWREYXRhVHlwZSA9PT0gXCJhbGxcIjtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubG9hZFRyZWVEYXRhVHlwZSA9PT0gXCJsb2FkYWxsXCI7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICBpZiAocmViaW5kRXZlbnQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMudHRFdmVudE1nci5iaW5kVHJlZXRhYmxlRXZlbnQoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCBpc0xvYWRBbGwgPSBpc0xvYWRBbGxUcmVlRGF0YSgpO1xyXG5cclxuICAgICAgICAgICAgLyoqIOWujOaVtOagkeiKgueCueajgOafpSBCeSBMdWNhcyAyMDIwMDMwMiAqL1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgdGhpcy5pdGVtcyA9IHRoaXMuY2hlY2tOb2RlQ2FuQmVTZWxlY3QodGhpcy5pdGVtcywgaXNMb2FkQWxsKTtcclxuICAgICAgICAgICAgdHQua2VlcFNlbGVjdCA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICBpZiAodGhpcy51c2VGYXZvcml0ZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5mYXZIZWxwZXIudXBkYXRlRmF2b3JpdGVzU3RhdHVzKHRoaXMuaXRlbXMpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAodGhpcy5sb2FkRGF0YVdoZW5PcGVuKSB7XHJcbiAgICAgICAgICAgICAgICB0dC5sb2FkRGF0YSh0aGlzLml0ZW1zKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0dC5yZXNpemUoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDlnKjmnoTlrozmlbTmoJHkuK3vvIzmnInpg6jliIboioLngrnlm6DkuLrmnaHku7booqvov4fmu6TvvIzkuLrmmL7npLrlrozmlbTmoJHvvIxcclxuICAgICAqIOi/meS6m+iKgueCueWcqOi/kOihjOaXtuaYr+S4jeWFgeiuuOiiq+mAieS4reeahCwg6L+U5Zue5paw55qE6IqC54K55pWw57uEXHJcbiAgICAgKiBCeSBMdWNhcyAyMDIwMDMwMlxyXG4gICAgICovXHJcbiAgICBjaGVja05vZGVDYW5CZVNlbGVjdChub2RlcywgaXNBbGxUcmVlRGF0YSA9IGZhbHNlKTogVHJlZU5vZGVbXSB7XHJcbiAgICAgICAgaWYgKG5vZGVzICYmIG5vZGVzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICByZXR1cm4gbm9kZXMubWFwKChub2RlOiBUcmVlTm9kZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKG5vZGUuaGFzT3duUHJvcGVydHkoXCJhZGR0aW9uYWxcIikpIHtcclxuICAgICAgICAgICAgICAgICAgICBub2RlLnNlbGVjdGFibGUgPSAhbm9kZVtcImFkZHRpb25hbFwiXTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAobm9kZS5jaGlsZHJlbiAmJiBub2RlLmNoaWxkcmVuLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2hlY2tOb2RlQ2FuQmVTZWxlY3Qobm9kZS5jaGlsZHJlbiwgaXNBbGxUcmVlRGF0YSk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpc0FsbFRyZWVEYXRhICYmICghdGhpcy5fc2VhcmNoU3RhdGUgfHwgIXRoaXMuX3NlYXJjaFN0YXRlLnZhbHVlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBub2RlLmxlYWYgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbm9kZTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBub2RlcztcclxuICAgIH1cclxuXHJcbiAgICBvbkNoYW5nZXModmFsKSB7XHJcbiAgICAgICAgaWYgKCF2YWwpIHtcclxuICAgICAgICAgICAgdGhpcy5vbkNsZWFyKCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5kaXNwbGF5VGV4dCA9IHZhbDtcclxuICAgICAgICAgICAgdGhpcy5pc1RleHRDaGFuZ2UgPSB0aGlzLm9yaWdpbmFsVGV4dCAhPT0gdGhpcy5kaXNwbGF5VGV4dDtcclxuICAgICAgICAgICAgaWYgKHRoaXMubm9zZWFyY2gpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0TW9kZWxWYWx1ZSh2YWwpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jbGVhck1hcHBpbmdzLmVtaXQoeyBpbnN0YW5jZTogdGhpcywgdmFsdWU6IHZhbCwgfSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMub25Nb2RlbFRvdWNoZWQodmFsKTtcclxuICAgICAgICAgICAgdGhpcy52YWx1ZUNoYW5nZWQuZW1pdCh2YWwpO1xyXG4gICAgICAgICAgICB0aGlzLnRleHRDaGFuZ2VkLmVtaXQodmFsKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG5cclxuICAgIG9uQ2xlYXIoZW1pdCA9IHRydWUpIHtcclxuICAgICAgICB0aGlzLmlzVGV4dENoYW5nZSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuZGlzcGxheVRleHQgPSBcIlwiO1xyXG4gICAgICAgIHRoaXMuZGlzcGxheVZhbHVlID0gXCJcIjtcclxuICAgICAgICB0aGlzLm9yaWdpbmFsVGV4dCA9IFwiXCI7XHJcbiAgICAgICAgdGhpcy5leHRlbmRJbmZvID0gXCJcIjtcclxuICAgICAgICB0aGlzLnNldE1vZGVsVmFsdWUoXCJcIik7XHJcbiAgICAgICAgaWYgKHRoaXMubWFwcGluZ0ZuKSB7XHJcbiAgICAgICAgICAgIHRoaXMubWFwcGluZ0ZuKG51bGwsIHRoaXMubWFwRmllbGRzKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5tYXBGaWVsZHMpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGJpbmRpbmdEYXRhID0gdGhpcy5zZWxlY3Rpb25NZ3IuZ2V0QmluZGluZ0RhdGEoKTtcclxuICAgICAgICAgICAgICAgIGlmIChiaW5kaW5nRGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGVmYXVsdE1hcHBpbmcubG9va3VwRmllbGRNYXAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG51bGwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubWFwRmllbGRzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBiaW5kaW5nRGF0YVxyXG4gICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5tdWx0aVNlbE1nci5jbGVhcigpO1xyXG4gICAgICAgIGlmIChlbWl0KSB7XHJcbiAgICAgICAgICAgIHRoaXMuY2xlYXIuZW1pdCgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBjbGVhclZhbHVlKGVtaXQgPSB0cnVlKSB7XHJcbiAgICAgICAgdGhpcy5vbkNsZWFyKGVtaXQpO1xyXG4gICAgfVxyXG5cclxuICAgIHNlbGVjdEl0ZW0ocm93RGF0YT86IGFueSkge1xyXG4gICAgICAgIGxldCBzZWxlY3RlZFJvdyA9IG51bGw7XHJcbiAgICAgICAgaWYgKHJvd0RhdGEpIHtcclxuICAgICAgICAgICAgc2VsZWN0ZWRSb3cgPSByb3dEYXRhO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHNlbGVjdGVkUm93ID0gdGhpcy5zZWxlY3Rpb25zO1xyXG5cclxuICAgICAgICAgICAgaWYgKCFzZWxlY3RlZFJvdykge1xyXG4gICAgICAgICAgICAgICAgc2VsZWN0ZWRSb3cgPSBudWxsO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoc2VsZWN0ZWRSb3cpICYmICFzZWxlY3RlZFJvdy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZFJvdyA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuX3NlYXJjaFN0YXRlID0geyBcclxuICAgICAgICAgICAgZmllbGQ6ICcqJyxcclxuICAgICAgICAgICAgdmFsdWU6ICcnXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyDlpoLmnpzlrprkuYnkuoboh6rlrprkuYnlpITnkIbnoa7lrprkuovku7bvvIzliJnnlLHoh6rlrprkuYnkuovku7blpITnkIblkI7pnaLnmoTpgLvovpFcclxuICAgICAgICBpZiAodGhpcy5va0hhbmRsZXIpIHtcclxuICAgICAgICAgICAgdGhpcy5va0hhbmRsZXIoeyBkYXRhOiBzZWxlY3RlZFJvdywgaW5zdGFuY2U6IHRoaXMgfSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuYmVmb3JlU2VsZWN0RGF0YSkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgYnNkUmVzdWx0ID0gdGhpcy5iZWZvcmVTZWxlY3REYXRhKHtcclxuICAgICAgICAgICAgICAgICAgICBpbnN0YW5jZTogdGhpcyxcclxuICAgICAgICAgICAgICAgICAgICBkYXRhOiBzZWxlY3RlZFJvdyxcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgaWYgKGJzZFJlc3VsdCAmJiBic2RSZXN1bHQuc3Vic2NyaWJlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYnNkUmVzdWx0LnN1YnNjcmliZSgoZTogYW55KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2JlZm9yZVNlbGVjdERhdGFDYWxsQmFjayhlLCBzZWxlY3RlZFJvdyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMud3JpdGVDb25zb2xlKCfluK7liqnmlbDmja7pgInkuK3liY3kuovku7bmnKrov5Tlm57lgLzmiJbov5Tlm57nsbvlnovpnZ5PYnNlcnZhYmxlLCDor7fmo4Dmn6UnLCAnZXJyb3InKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2JlZm9yZVNlbGVjdERhdGFDYWxsQmFjayh0cnVlLCBzZWxlY3RlZFJvdyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0UGF0aENvZGUoZGF0YSwgdHJlZUluZm8gPSBudWxsKSB7XHJcbiAgICAgICByZXR1cm4gdGhpcy5sb29rdXBVdGlscy5nZXRQYXRoQ29kZShkYXRhLCB0cmVlSW5mbyB8fCB0aGlzLnRyZWVJbmZvKTtcclxuICAgIH1cclxuICAgIGdldExheWVyRGF0YShkYXRhLCB0cmVlSW5mbyA9IG51bGwpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5sb29rdXBVdGlscy5nZXRMYXllckRhdGEoZGF0YSwgdHJlZUluZm8gfHwgdGhpcy50cmVlSW5mbyk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIHByaXZhdGUgZ2V0UGFyZW50UGF0aENvZGUocm93cykge1xyXG4gICAgICAgIGNvbnN0IG1heEJ5ID0gKGFyciwgZm4pID0+XHJcbiAgICAgICAgICAgIE1hdGgubWF4KFxyXG4gICAgICAgICAgICAgICAgLi4uYXJyLm1hcCh0eXBlb2YgZm4gPT09IFwiZnVuY3Rpb25cIiA/IGZuIDogKHZhbCkgPT4gdmFsW2ZuXSlcclxuICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgLy8gY29uc3QgeyBkYXRhRmllbGQsIHBhdGhGaWVsZCwgbGF5ZXJGaWVsZCB9ID0gdGhpcy50cmVlSW5mbztcclxuICAgICAgICBjb25zdCBtYXhMYXllciA9IG1heEJ5KHJvd3MsICh4KSA9PiB0aGlzLmdldExheWVyRGF0YSh4KSk7XHJcblxyXG4gICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDw9IG1heExheWVyOyBpKyspIHtcclxuICAgICAgICAgICAgY29uc3QgX3Jvd3MgPSByb3dzLmZpbHRlcigobikgPT4gdGhpcy5nZXRMYXllckRhdGEobikgPT09IGkpO1xyXG4gICAgICAgICAgICBpZiAoX3Jvd3MgJiYgX3Jvd3MubGVuZ3RoICYmIF9yb3dzLmxlbmd0aCA8IHJvd3MubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICBfcm93cy5mb3JFYWNoKChyKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGF0Y2hDb2RlID0gdGhpcy5nZXRQYXRoQ29kZShyKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBfcm93czIgPSByb3dzLmZpbHRlcihcclxuICAgICAgICAgICAgICAgICAgICAgICAgKG4pID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfcGMgPSB0aGlzLmdldFBhdGhDb2RlKG4pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9wYyAhPT0gcGF0Y2hDb2RlICYmIF9wYy5pbmRleE9mKHBhdGNoQ29kZSkgPT09IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChfcm93czIgJiYgX3Jvd3MyLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByb3dzID0gcm93cy5maWx0ZXIoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAobikgPT4gdGhpcy5nZXRQYXRoQ29kZShuKSAhPT0gcGF0Y2hDb2RlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiByb3dzO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgX2JlZm9yZVNlbGVjdERhdGFDYWxsQmFjayhlLCBzZWxlY3RlZFJvdykge1xyXG4gICAgICAgIGxldCBjYW5TZWxlY3QgPSBlO1xyXG4gICAgICAgIGxldCBtZXNzYWdlID0gXCJcIjtcclxuICAgICAgICBpZiAodHlwZW9mIGUgPT09IFwiYm9vbGVhblwiKSB7XHJcbiAgICAgICAgICAgIGNhblNlbGVjdCA9IGU7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiBlID09PSBcIm9iamVjdFwiKSB7XHJcbiAgICAgICAgICAgICAgICBjYW5TZWxlY3QgPSBlLmNhblNlbGVjdDtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBlLm1lc3NhZ2U7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjYW5TZWxlY3QgPSBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKCFzZWxlY3RlZFJvdykge1xyXG4gICAgICAgICAgICBtZXNzYWdlID0gdGhpcy5tdXN0Q2hvb3NBZGF0YXJvdztcclxuICAgICAgICAgICAgY2FuU2VsZWN0ID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoY2FuU2VsZWN0KSB7XHJcbiAgICAgICAgICAgIGxldCBzZWxlY3RlZFJvd3MkID0gb2Yoc2VsZWN0ZWRSb3cpO1xyXG4gICAgICAgICAgICAvLyDlpJrpgIkg5qCR5biu5YqpIOW8guatpeWKoOi9vSDliIbnuqfnoIEg5byA5ZCv5ZCM5q2l6YCJ5oupIOaIluWMheWQq+S4i+e6p1xyXG4gICAgICAgICAgICBpZiAoIXRoaXMuc2luZ2xlU2VsZWN0ICYmIHRoaXMuZW5hYmxlQ2FzY2FkZSAmJiB0aGlzLmlzVHJlZSgpICkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMudHJlZUluZm8ubG9hZERhdGFUeXBlICE9PSBcImFsbFwiICYmIHRoaXMudHJlZUluZm8ubGF5ZXJUeXBlID09PSBcInBhdGhjb2RlXCIgJiYgdGhpcy5pc0dldEFsbENoaWRsTm9kZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgcGFyZW50c0lkcyA9IHRoaXMuZ2V0UGFyZW50UGF0aENvZGUoc2VsZWN0ZWRSb3cpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChwYXJlbnRzSWRzICYmIHBhcmVudHNJZHMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudHNJZHMgPSBwYXJlbnRzSWRzLm1hcChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChuKSA9PiB0aGlzLmdldFBhdGhDb2RlKG4pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2hvd0xvYWRpbmcoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRSb3dzJCA9IHRoaXMuaHR0cE1nclxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmdldERhdGEoeyBwYXJlbnRzSWRzIH0sIFwiYWxsQ2hpbGRyZW5cIilcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5waXBlKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcCgocjogTG9va3VwR3JpZFJlc3VsdCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpdGVtcyA9IHIuaXRlbXNcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gci5pdGVtcy5tYXAoKGQpID0+IGQuZGF0YSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogW107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGFsbGl0ZW1zID0gWy4uLnNlbGVjdGVkUm93LCAuLi5pdGVtc107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBpZHMgPSBhbGxpdGVtcy5tYXAoKG4pID0+IG5bdGhpcy5pZEZpZWxkXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkcyA9IEFycmF5LmZyb20obmV3IFNldChpZHMpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGlkcy5tYXAoKG4pID0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGxpdGVtcy5maW5kKChhKSA9PiBhW3RoaXMuaWRGaWVsZF0gPT09IG4pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBzZWxlY3RlZFJvd3MkLnN1YnNjcmliZSgocm93cykgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jbG9zZUxvYWRpbmcoKTtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmlzR2V0QWxsQ2hpZGxOb2Rlcykge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubG9va3VwU2VsZWN0aW9uU2VyLmxvYWRTZWxlY3Rpb25zKHJvd3MpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVDb250cm9sVmFsdWUocm93cyk7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMudXNlVGlwIHx8ICFyb3dzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMudXNlVGlwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wZXJzb25hbENvbmZpZ1NlcnZpY2UudXBkYXRlUXVlY2tTZWxlY3RlZChcclxuICAgICAgICAgICAgICAgICAgICAgICAgcm93cyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2NhbFNlcnZpY2UubG9jYWxlSWRcclxuICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBpZiAobWVzc2FnZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMubm90aWZ5U2VydmljZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubm90aWZ5U2VydmljZS53YXJuaW5nKG1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLm1lc3NhZ2VyU2VydmljZS53YXJuaW5nKG1lc3NhZ2UsIFwiXCIsIHRydWUsICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kaWFsb2cuZWwubmF0aXZlRWxlbWVudC5jbGljaygpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgdXBkYXRlQ29udHJvbFZhbHVlKHNlbGVjdGVkUm93KSB7XHJcbiAgICAgICAgaWYgKHNlbGVjdGVkUm93KSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0RGlzcGxheVRleHQoc2VsZWN0ZWRSb3cpO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5tYXBwaW5nRm4pIHtcclxuICAgICAgICAgICAgICAgIHRoaXMubWFwcGluZ0ZuKHNlbGVjdGVkUm93LCB0aGlzLm1hcEZpZWxkcywgdGhpcy5iaW5kaW5nRGF0YSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5tYXBGaWVsZHMgJiYgdGhpcy5iaW5kaW5nRGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGVmYXVsdE1hcHBpbmcubG9va3VwRmllbGRNYXAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkUm93LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1hcEZpZWxkcyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5iaW5kaW5nRGF0YVxyXG4gICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5zZXRNb2RlbFZhbHVlKHRoaXMuZGlzcGxheVRleHQpO1xyXG4gICAgICAgICAgICBpZiAodGhpc1tcImluRGF0YWdyaWRcIl0gJiYgc2VsZWN0ZWRSb3cpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHNlbGVjdEl0ZW1zID0gQXJyYXkuaXNBcnJheShzZWxlY3RlZFJvdylcclxuICAgICAgICAgICAgICAgICAgICA/IHNlbGVjdGVkUm93XHJcbiAgICAgICAgICAgICAgICAgICAgOiBbc2VsZWN0ZWRSb3ddO1xyXG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVCaW5kRGF0YShzZWxlY3RJdGVtcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5zZWxlY3RlZERhdGEuZW1pdChzZWxlY3RlZFJvdyk7XHJcbiAgICAgICAgICAgIHRoaXMucnVuRGljdFBpY2tlZEV2ZW50KHNlbGVjdGVkUm93KTtcclxuICAgICAgICAgICAgdGhpcy5pc1RleHRDaGFuZ2UgPSBmYWxzZTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBpZiAoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCkge1xyXG4gICAgICAgICAgICAgICAgKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgYXMgSFRNTEJ1dHRvbkVsZW1lbnQpLmJsdXIoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLm1lc3NhZ2VyU2VydmljZS53YXJuaW5nKHRoaXMubXVzdENob29zQWRhdGFyb3cpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHVwZGF0ZUJpbmREYXRhKHNlbGVjdGVkUm93KSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLm1hcEZpZWxkcykge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBoZWxwRmllbGRzID0gT2JqZWN0LmtleXModGhpcy5tYXBGaWVsZHMpO1xyXG4gICAgICAgIGlmIChcclxuICAgICAgICAgICAgdGhpcy5uZ0NvbnRyb2wgJiZcclxuICAgICAgICAgICAgdGhpcy5uZ0NvbnRyb2wuZm9ybURpcmVjdGl2ZSAmJlxyXG4gICAgICAgICAgICB0aGlzLm5nQ29udHJvbC5mb3JtRGlyZWN0aXZlLmZvcm0gJiZcclxuICAgICAgICAgICAgdGhpcy5uZ0NvbnRyb2wuZm9ybURpcmVjdGl2ZS5mb3JtLmJpbmRpbmdEYXRhXHJcbiAgICAgICAgKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGJpbmRpbmdEYXRhID0gdGhpcy5uZ0NvbnRyb2wuZm9ybURpcmVjdGl2ZS5mb3JtLmJpbmRpbmdEYXRhO1xyXG5cclxuICAgICAgICAgICAgaWYgKGJpbmRpbmdEYXRhKSB7XHJcbiAgICAgICAgICAgICAgICBoZWxwRmllbGRzLmZvckVhY2goKGhlbHBGaWVsZDogYW55KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tYXBGaWVsZHNbaGVscEZpZWxkXVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuc3BsaXQoXCIsXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5mb3JFYWNoKChmb3JtRmllbGQ6IGFueSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdmFsID0gc2VsZWN0ZWRSb3dcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAubWFwKChyKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnV0aWxzLmdldFZhbHVlKGhlbHBGaWVsZCwgcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuam9pbih0aGlzLm11bHRpcGxlQ2hvaWNlU2VwYXJhdG9yKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudXRpbHMuc2V0VmFsdWUoYmluZGluZ0RhdGEsIGZvcm1GaWVsZCwgdmFsKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gaWYgKGJpbmRpbmdEYXRhLnNldFZhbHVlKSB7XHJcbiAgICAgICAgICAgIC8vICAgICBjb25zdCBiaW5kaW5nUGF0aCA9IHRoaXMubmdDb250cm9sLmZvcm1EaXJlY3RpdmUuZm9ybS5iaW5kaW5nUGF0aDtcclxuICAgICAgICAgICAgLy8gICAgIGxldCBwYXRoQXJyOiBzdHJpbmdbXSA9IFtdO1xyXG4gICAgICAgICAgICAvLyAgICAgaWYgKGJpbmRpbmdQYXRoKSB7XHJcbiAgICAgICAgICAgIC8vICAgICAgICAgcGF0aEFyciA9IGJpbmRpbmdQYXRoLnNwbGl0KCcvJykuZmlsdGVyKG4gPT4gbiAhPT0gJycpO1xyXG4gICAgICAgICAgICAvLyAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gICAgIGhlbHBGaWVsZHMuZm9yRWFjaCgoaGVscEZpZWxkOiBhbnkpID0+IHtcclxuICAgICAgICAgICAgLy8gICAgICAgICB0aGlzLm1hcEZpZWxkc1toZWxwRmllbGRdLnNwbGl0KCcsJykuZm9yRWFjaCgoZm9ybUZpZWxkOiBhbnkpID0+IHtcclxuICAgICAgICAgICAgLy8gICAgICAgICAgICAgY29uc3QgZmllbGRQYXRocyA9IHBhdGhBcnIuY29uY2F0KGZvcm1GaWVsZC5zcGxpdCgnLicpKTtcclxuICAgICAgICAgICAgLy8gICAgICAgICAgICAgY29uc3QgdmFsID0gc2VsZWN0ZWRSb3cubWFwKHIgPT4ge1xyXG4gICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMudXRpbHMuZ2V0VmFsdWUoZm9ybUZpZWxkLCByKTtcclxuICAgICAgICAgICAgLy8gICAgICAgICAgICAgfSkuam9pbih0aGlzLm11bHRpcGxlQ2hvaWNlU2VwYXJhdG9yKTtcclxuICAgICAgICAgICAgLy8gICAgICAgICAgICAgYmluZGluZ0RhdGEuc2V0VmFsdWUocGF0aEFyci5jb25jYXQoZmllbGRQYXRocyksIHZhbCwgdHJ1ZSwgdHJ1ZSk7XHJcbiAgICAgICAgICAgIC8vICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIC8vICAgICB9KTtcclxuICAgICAgICAgICAgLy8gfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIGlmICh0aGlzLmJpbmRpbmdEYXRhKSB7XHJcbiAgICAgICAgICAgIC8vICAgICBoZWxwRmllbGRzLmZvckVhY2goKGhlbHBGaWVsZDogYW55KSA9PiB7XHJcbiAgICAgICAgICAgIC8vICAgICAgICAgdGhpcy5tYXBGaWVsZHNbaGVscEZpZWxkXS5zcGxpdCgnLCcpLmZvckVhY2goKGZvcm1GaWVsZDogYW55KSA9PiB7XHJcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgIGNvbnN0IHZhbCA9IHNlbGVjdGVkUm93Lm1hcChyID0+IHtcclxuICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnV0aWxzLmdldFZhbHVlKGZvcm1GaWVsZCwgcik7XHJcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgIH0pLmpvaW4odGhpcy5tdWx0aXBsZUNob2ljZVNlcGFyYXRvcik7XHJcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgIHRoaXMudXRpbHMuc2V0VmFsdWUodGhpcy5iaW5kaW5nRGF0YSwgZm9ybUZpZWxkLCB2YWwpO1xyXG4gICAgICAgICAgICAvLyAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAvLyAgICAgfSk7XHJcbiAgICAgICAgICAgIC8vIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBnZXRFeHRlbmRJbmZvRmllbGRzKGlzSGVscERhdGEgPSB0cnVlKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmV4dEluZm9GaWVsZHMpIHtcclxuICAgICAgICAgICAgdGhpcy53cml0ZUNvbnNvbGUoYOacquiuvue9ruaJqeWxleWtl+auteOAgmApO1xyXG4gICAgICAgICAgICByZXR1cm4gW107XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHRpcEZpZWxkQXJyID0gdGhpcy5leHRJbmZvRmllbGRzLnNwbGl0KFwiLFwiKTtcclxuXHJcbiAgICAgICAgaWYgKGlzSGVscERhdGEpIHtcclxuICAgICAgICAgICAgbGV0IGV4dGVuZEluZm9GaWVsZHMgPSBbXTtcclxuICAgICAgICAgICAgZXh0ZW5kSW5mb0ZpZWxkcyA9IHRpcEZpZWxkQXJyLm1hcCgodGYpID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG1hcEtleSA9IE9iamVjdC5rZXlzKHRoaXMubWFwRmllbGRzKS5maW5kKChrKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubWFwRmllbGRzW2tdID09PSB0ZjtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChtYXBLZXkpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbWFwS2V5O1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLndyaXRlQ29uc29sZShg5Zyo5biu5Yqp5pig5bCE5a2X5q615Lit5pyq5om+5YiwJHt0Zn1gKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJcIjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHJldHVybiBleHRlbmRJbmZvRmllbGRzO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHRpcEZpZWxkQXJyO1xyXG4gICAgfVxyXG5cclxuICAgIG9uVXBkYXRlRXh0ZW5kSW5mbygpIHtcclxuICAgICAgICBjb25zdCBqc29uRGF0YSA9IHRoaXMuc2VsZWN0aW9uTWdyLmdldEJpbmRpbmdEYXRhKCk7XHJcbiAgICAgICAgdGhpcy51cGRhdGVFeHRlbmRJbmZvKGpzb25EYXRhLCBmYWxzZSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8g6YCJ5Lit5biu5Yqp5pWw5o2u5ZCO77yM5pu05paw5omp5bGV5L+h5oGvXHJcbiAgICBwcml2YXRlIHVwZGF0ZUV4dGVuZEluZm8oZGF0YTogYW55LCBpc0hlbHBEYXRhID0gdHJ1ZSkge1xyXG4gICAgICAgIGlmIChkYXRhKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmV4dEluZm9Gb3JtYXR0ZXIpIHtcclxuICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGRhdGEpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdGlwU3RyaW5nID0gZGF0YS5tYXAoKG4pID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0RXh0ZW5kSW5mb1RleHQobik7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5leHRlbmRJbmZvID0gdGlwU3RyaW5nLmpvaW4oXCLvvIxcIik7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZXh0ZW5kSW5mbyA9IHRoaXMuZ2V0RXh0ZW5kSW5mb1RleHQoZGF0YSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBleHRlbmRJbmZvRmllbGRzID0gdGhpcy5nZXRFeHRlbmRJbmZvRmllbGRzKGlzSGVscERhdGEpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGV4dGVuZEluZm9GaWVsZHMgJiYgZXh0ZW5kSW5mb0ZpZWxkcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShkYXRhKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0aXBTdHJpbmcgPSBkYXRhLm1hcCgobikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0RXh0ZW5kSW5mb1RleHQobiwgZXh0ZW5kSW5mb0ZpZWxkcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmV4dGVuZEluZm8gPSB0aXBTdHJpbmcuam9pbihcIu+8jFwiKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmV4dGVuZEluZm8gPSB0aGlzLmdldEV4dGVuZEluZm9UZXh0KFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4dGVuZEluZm9GaWVsZHNcclxuICAgICAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBnZXRFeHRlbmRJbmZvVGV4dChpdGVtRGF0YSwgZmllbGRzID0gbnVsbCkge1xyXG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy5leHRJbmZvRm9ybWF0dGVyID09PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZXh0SW5mb0Zvcm1hdHRlcih7XHJcbiAgICAgICAgICAgICAgICBiaW5kaW5nRGF0YTogaXRlbURhdGEsXHJcbiAgICAgICAgICAgICAgICBpbnN0YW5jZTogdGhpcyxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgY29uc3QgdGlwU3RyaW5nID0gW107XHJcbiAgICAgICAgICAgIGNvbnN0IHRpcFZhbHVlcyA9IGZpZWxkcy5tYXAoKHQpID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHRmdiA9IHRoaXMudXRpbHMuZ2V0VmFsdWUodCwgaXRlbURhdGEpO1xyXG4gICAgICAgICAgICAgICAgdGlwU3RyaW5nLnB1c2godGZ2KTtcclxuICAgICAgICAgICAgICAgIHJldHVybiB7IFt0XTogdGZ2IH07XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICByZXR1cm4gdGlwU3RyaW5nLmpvaW4oXCIgXCIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGdldERpc3BsYXlUZXh0KHJvd3M6IGFueSkge1xyXG4gICAgICAgIGNvbnN0IGRmID0gdGhpcy5kaXNwbGF5RmllbGRzXHJcbiAgICAgICAgICAgID8gdGhpcy5kaXNwbGF5RmllbGRzLnNwbGl0KFwiLFwiKVxyXG4gICAgICAgICAgICA6IFt0aGlzLnRleHRGaWVsZF07XHJcbiAgICAgICAgY29uc3QgdHh0QXJyID0gcm93cy5tYXAoKHIpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgdCA9IFtdO1xyXG4gICAgICAgICAgICBkZi5mb3JFYWNoKChuKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0LnB1c2godGhpcy51dGlscy5nZXRWYWx1ZShuLCByKSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICByZXR1cm4gdC5qb2luKHRoaXMuZGlzcGxheVRleHRTZXBhcmF0b3IpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5ncmlkT3B0aW9ucy5zaW5nbGVTZWxlY3QpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHR4dEFyci5qb2luKFwiXCIpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmRpc3BsYXlGaWVsZHMpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0eHRBcnIubWFwKCh0KSA9PiBcIltcIiArIHQgKyBcIl1cIikuam9pbih0aGlzLm11bHRpcGxlQ2hvaWNlU2VwYXJhdG9yKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0eHRBcnIuam9pbih0aGlzLm11bHRpcGxlQ2hvaWNlU2VwYXJhdG9yKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHNldERpc3BsYXlUZXh0KHNlbGVjdGVkUm93OiBhbnkpIHtcclxuICAgICAgICB0aGlzLm9yaWdpbmFsVGV4dCA9IHRoaXMuZGlzcGxheVRleHQ7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmdyaWRPcHRpb25zLnNpbmdsZVNlbGVjdCkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5kaXNwbGF5Rm9ybWF0dGVyKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRpc3BsYXlUZXh0ID0gdGhpcy51dGlscy5nZXRWYWx1ZShcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnRleHRGaWVsZCxcclxuICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZFJvd1xyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5pc1RyZWUoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGlzcGxheVRleHQgPSB0aGlzLmRpc3BsYXlGb3JtYXR0ZXIoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGlzcGxheVRleHQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFtzZWxlY3RlZFJvd10sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvb2t1cDogdGhpcyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGF0YWJsZTogdGhpcy5jb21wb25lbnRSZWZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuaW5zdGFuY2UgYXMgRGF0YVRhYmxlQ29tcG9uZW50LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdHQgPSB0aGlzLmNvbXBvbmVudFJlZi5pbnN0YW5jZSBhcyBUcmVlVGFibGVDb21wb25lbnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kaXNwbGF5VGV4dCA9IHRoaXMuZGlzcGxheUZvcm1hdHRlcihcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kaXNwbGF5VGV4dCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgW3NlbGVjdGVkUm93XSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgeyBsb29rdXA6IHRoaXMsIHRyZWU6IHR0IH1cclxuICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwbGF5VGV4dCA9IHRoaXMuZ2V0RGlzcGxheVRleHQoW3NlbGVjdGVkUm93XSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5kaXNwbGF5VmFsdWUgPSBzZWxlY3RlZFJvd1t0aGlzLnZhbHVlRmllbGQgfHwgdGhpcy5pZEZpZWxkXTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBpZiAoc2VsZWN0ZWRSb3cubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5kaXNwbGF5Rm9ybWF0dGVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kaXNwbGF5VGV4dCA9IHNlbGVjdGVkUm93XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5tYXAoKHIpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnV0aWxzLmdldFZhbHVlKHRoaXMudGV4dEZpZWxkLCByKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgLmpvaW4odGhpcy5tdWx0aXBsZUNob2ljZVNlcGFyYXRvcik7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLmlzVHJlZSgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGlzcGxheVRleHQgPSB0aGlzLmRpc3BsYXlGb3JtYXR0ZXIoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc3BsYXlUZXh0LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRSb3csXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9va3VwOiB0aGlzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGF0YWJsZTogdGhpcy5jb21wb25lbnRSZWZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmluc3RhbmNlIGFzIERhdGFUYWJsZUNvbXBvbmVudCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0dCA9IHRoaXMuY29tcG9uZW50UmVmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuaW5zdGFuY2UgYXMgVHJlZVRhYmxlQ29tcG9uZW50O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc3BsYXlUZXh0ID0gdGhpcy5kaXNwbGF5Rm9ybWF0dGVyKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kaXNwbGF5VGV4dCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkUm93LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBsb29rdXA6IHRoaXMsIHRyZWU6IHR0IH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGlzcGxheVRleHQgPSB0aGlzLmdldERpc3BsYXlUZXh0KHNlbGVjdGVkUm93KTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLmRpc3BsYXlWYWx1ZSA9IHNlbGVjdGVkUm93XHJcbiAgICAgICAgICAgICAgICAgICAgLm1hcCgocikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy51dGlscy5nZXRWYWx1ZSh0aGlzLnZhbHVlRmllbGQgfHwgdGhpcy5pZEZpZWxkLCByKTtcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgIC5qb2luKHRoaXMubXVsdGlwbGVDaG9pY2VTZXBhcmF0b3IpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMub3JpZ2luYWxUZXh0ID0gdGhpcy5kaXNwbGF5VGV4dDtcclxuICAgIH1cclxuXHJcbiAgICBydW5EaWN0UGlja2VkRXZlbnQocm93RGF0YTogYW55KSB7XHJcbiAgICAgICAgaWYgKHRoaXMuZGljdFBpY2tlZCkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5va0J1dHRvbikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5va0J1dHRvbi5uYXRpdmVFbGVtZW50LmRpc2FibGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLmRpY3RQaWNrZWRTdWJzY3JpcHRpb24gPSB0aGlzLmRpY3RQaWNrZWQocm93RGF0YSkuc3Vic2NyaWJlKFxyXG4gICAgICAgICAgICAgICAgKHY6IGFueSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm9rQnV0dG9uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub2tCdXR0b24ubmF0aXZlRWxlbWVudC5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHYgPT09IFwiYm9vbGVhblwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNsb3NlRGlhbG9nKHJvd0RhdGEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZW9mIHYgPT09IFwib2JqZWN0XCIgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgdi5jbG9zZURpYWxvZyAhPT0gdW5kZWZpbmVkICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICF2LmNsb3NlRGlhbG9nXHJcbiAgICAgICAgICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2Lm1lc3NhZ2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubWVzc2FnZXJTZXJ2aWNlLndhcm5pbmcodi5tZXNzYWdlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2xvc2VEaWFsb2cocm93RGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNsb3NlRGlhbG9nKHJvd0RhdGEpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmNsb3NlRGlhbG9nKHJvd0RhdGEpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGZvY3VzVG9JbnB1dCgpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLnpvbmUucnVuT3V0c2lkZUFuZ3VsYXIoKCkgPT4ge1xyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmlucHV0R3JvdXAgJiYgdGhpcy5pbnB1dEdyb3VwLnRleHRib3gpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmlucHV0R3JvdXAudGV4dGJveC5uYXRpdmVFbGVtZW50LmZvY3VzKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGNsb3NlRGlhbG9nKHJvd0RhdGEgPSBudWxsKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuZGlhbG9nKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZGlhbG9nLmNsb3NlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIGlmIChyb3dEYXRhKSB7XHJcbiAgICAgICAgICAgIHRoaXMubXVsdGlTZWxNZ3Iuc2F2ZShyb3dEYXRhKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gdGhpcy5pc1Nob3cgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmZvY3VzVG9JbnB1dCgpO1xyXG4gICAgfVxyXG5cclxuICAgIGNhbmNlbFNlbGVjdCgpIHtcclxuICAgICAgICB0aGlzLmNsb3NlRGlhbG9nKCk7XHJcbiAgICAgICAgdGhpcy5pc1RleHRDaGFuZ2UgPSBmYWxzZTtcclxuICAgICAgICBpZiAoIXRoaXMubm9zZWFyY2gpIHtcclxuICAgICAgICAgICAgdGhpcy5kaXNwbGF5VGV4dCA9IHRoaXMub3JpZ2luYWxUZXh0O1xyXG4gICAgICAgICAgICB0aGlzLnNldE1vZGVsVmFsdWUodGhpcy5kaXNwbGF5VGV4dCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy5jYW5jZWxIYW5kbGVyKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY2FuY2VsSGFuZGxlcih0aGlzKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc2V0TW9kZWxWYWx1ZSh2KSB7XHJcbiAgICAgICAgaWYgKHRoaXMub25Nb2RlbENoYW5nZSkge1xyXG4gICAgICAgICAgICB0aGlzLm9uTW9kZWxDaGFuZ2Uodik7XHJcbiAgICAgICAgICAgIHRoaXMudmFsdWVDaGFuZ2VkLmVtaXQodik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIOaVsOaNruWIl+ihqO+8jOaUtuiXj++8jCDlt7LpgInmlbDmja4gdGFiIOmhteWIh+aNolxyXG4gICAgb25UYWJDaGFuZ2UoZTogYW55KSB7XHJcbiAgICAgICAgdGhpcy5hY3RpdmVUYWIgPSBlLnRhYkluZGV4O1xyXG4gICAgICAgIHRoaXMucGVyc29uYWxDb25mLnRhYkluZGV4ID0gdGhpcy5hY3RpdmVUYWI7XHJcbiAgICAgICAgY29uc3QgX2ZpcnN0Q2hhbmdlID0gdGhpcy5pc1RhYkNoYW5nZWQ7XHJcbiAgICAgICAgdGhpcy5pc1RhYkNoYW5nZWQgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMucGVyc29uYWxDb25maWdTZXJ2aWNlLnVwZGF0ZVBlcnNvbmFsQ29uZmlnKHtcclxuICAgICAgICAgICAgdGFiSW5kZXg6IGUudGFiSW5kZXgsXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmFjdGl2ZVRhYiA9PT0gXCJkYXRhbGlzdFwiKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmlzRG91YmxsZUxpc3QoKSAmJiAhdGhpcy5sZWZ0Q29tcG9uZW50UmVmKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5uYXZpZ2F0aW9uT3B0aW9ucykge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubG9va3VwQ21wTWdyLmNyZWF0ZUxlZnRDb21wb25lbnQoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubmF2aWdhdGlvbk9wdGlvbnNcclxuICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmluaXREYXRhKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAoIXRoaXMuaXRlbXMgfHwgIXRoaXMuaXRlbXMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmluaXREYXRhKCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIV9maXJzdENoYW5nZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmlzVHJlZSgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9hZFRyZWVUYWJsZURhdGEoKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvYWREYXRhVGFibGVEYXRhKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZHRFdmVudE1nci5iaW5kRGF0YVRhYmxlRXZlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyB0aGlzLnNlbGVjdGlvbk1nci5zZWxlY3RDdXJyZW50VmFsdWUoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLnNob3dHZXRBbGxDaGlsZHJlbkNoZWNrYm94KCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuYWN0aXZlVGFiID09PSBcImZhdm9yaXRlXCIpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmlzVHJlZSgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pbml0RGF0YSgpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICF0aGlzLmZhdm9yaXRlSXRlbXMgfHxcclxuICAgICAgICAgICAgICAgICAgICAgICAgIXRoaXMuZmF2b3JpdGVJdGVtcy5sZW5ndGggfHxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5mYXZvcml0ZUl0ZW1zLmxlbmd0aCAhPT0gdGhpcy5mYXZIZWxwZXIuZ2V0RmF2b3JpdElkcygpLmxlbmd0aFxyXG4gICAgICAgICAgICAgICAgICAgICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmluaXREYXRhKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICghX2ZpcnN0Q2hhbmdlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZmF2SGVscGVyLl9sb2FkRmF2b3JpdGVEYXRhKHRoaXMuZmF2b3JpdGVJdGVtcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoaXMuc2VsZWN0aW9uTWdyLnNlbGVjdEN1cnJlbnRWYWx1ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAvLyAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgIHRoaXMuc2VsZWN0aW9uTWdyLnNlbGVjdEN1cnJlbnRWYWx1ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5jaGFuZ2VEZXRlY3Rvci5kZXRlY3RDaGFuZ2VzKCk7XHJcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMucmVzaXplQ21wKCk7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmlzVHJlZSgpKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB5ID0gdGhpcy5jb21wb25lbnRSZWYuaW5zdGFuY2Uuc3RhdGUuc2Nyb2xsWTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY29tcG9uZW50UmVmLmluc3RhbmNlLnNjcm9sbFRvWSh5LCAwKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5lbmFibGVDYXNjYWRlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50dEV2ZW50TWdyLmNhc2NhZGVWYWx1ZUNoYW5nZWQodGhpcy5jYXNjYWRlU3RhdHVzKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKHRoaXMuaXNEb3VibGxlTGlzdCgpICYmIHRoaXMuZGlzcGxheVR5cGUgPT09IExvb2t1cEdyaWREaXNwbGF5VHlwZS5OYXZUcmVlTGlzdCAmJiAhdGhpcy5uYXZUcmVlVG9MaXN0KSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxlZnRDb21wb25lbnRSZWYuaW5zdGFuY2UudXBkYXRlU2Nyb2xsUG9zaXRpb24oKTsgXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5zZWxlY3Rpb25NZ3Iuc2VsZWN0Q3VycmVudFZhbHVlKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8jcmVnaW9uICBUYWcgVmlldyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgICBwcml2YXRlIHJlZ2lzdGVyTW91c2VFdmVudEZvclRhZ1ZpZXcoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuZW5hYmxlQ2xlYXIpIHtcclxuICAgICAgICAgICAgdGhpcy50YWdib3gubmF0aXZlRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFxyXG4gICAgICAgICAgICAgICAgXCJtb3VzZWVudGVyXCIsXHJcbiAgICAgICAgICAgICAgICB0aGlzLm9uVGFnYm94TW91c2VFbnRlci5iaW5kKHRoaXMpXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIHRoaXMudGFnYm94Lm5hdGl2ZUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcclxuICAgICAgICAgICAgICAgIFwibW91c2VsZWF2ZVwiLFxyXG4gICAgICAgICAgICAgICAgdGhpcy5vblRhZ2JveE1vdXNlTGVhdmUuYmluZCh0aGlzKVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHRvZ2dsZUNsZWFySWNvbihldmVudDogYW55LCBpc1Nob3cgPSBmYWxzZSkge1xyXG4gICAgICAgIGNvbnN0IHN0ciA9IGlzU2hvdyA/IFwiXCIgOiBcIm5vbmVcIjtcclxuICAgICAgICBjb25zdCBjbGVhckljb24gPSBldmVudC50YXJnZXQucXVlcnlTZWxlY3RvcihcIi5pbnB1dC1ncm91cC1jbGVhclwiKTtcclxuICAgICAgICBpZiAoY2xlYXJJY29uKSB7XHJcbiAgICAgICAgICAgIGNsZWFySWNvbi5zdHlsZS5kaXNwbGF5ID0gc3RyO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIG9uVGFnYm94TW91c2VFbnRlcihldmVudCkge1xyXG4gICAgICAgIGlmICh0aGlzLmRpc3BsYXlUZXh0ICYmIHRoaXMuZW5hYmxlQ2xlYXIpIHtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLnJlYWRvbmx5ICYmICF0aGlzLmRpc2FibGVkKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNob3dUYWdib3hDbGVhckJ1dHRvbiA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuc2hvd1RhZ2JveENsZWFyQnV0dG9uKSB7XHJcbiAgICAgICAgICAgIHRoaXMudG9nZ2xlQ2xlYXJJY29uKGV2ZW50LCB0cnVlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBvblRhZ2JveE1vdXNlTGVhdmUoZXZlbnQpIHtcclxuICAgICAgICB0aGlzLnRvZ2dsZUNsZWFySWNvbihldmVudCk7XHJcbiAgICB9XHJcblxyXG4gICAgb25SZW1vdmVTZWxlY3RJdGVtKCRldmVudCwgdHh0KSB7XHJcbiAgICAgICAgJGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgIGNvbnN0IHRleHRBcnJheSA9IEFycmF5LmZyb20odGhpcy5kaXNwbGF5VGV4dExpc3QpO1xyXG4gICAgICAgIGNvbnN0IHJlbW92ZWRJbmRleCA9IHRoaXMuZGlzcGxheVRleHRMaXN0LmluZGV4T2YodHh0KTtcclxuICAgICAgICB0ZXh0QXJyYXkuc3BsaWNlKHJlbW92ZWRJbmRleCwgMSk7XHJcbiAgICAgICAgdGhpcy5kaXNwbGF5VGV4dCA9IHRleHRBcnJheS5qb2luKHRoaXMubXVsdGlwbGVDaG9pY2VTZXBhcmF0b3IpO1xyXG4gICAgICAgIHRoaXMub3JpZ2luYWxUZXh0ID0gdGhpcy5kaXNwbGF5VGV4dDtcclxuICAgICAgICB0aGlzLnNldE1vZGVsVmFsdWUodGhpcy5kaXNwbGF5VGV4dCk7XHJcblxyXG5cclxuICAgICAgICBpZiAodGhpcy5kaXNwbGF5VmFsdWUpIHtcclxuICAgICAgICAgICAgY29uc3QgdmFscyA9IHRoaXMuZGlzcGxheVZhbHVlLnNwbGl0KHRoaXMubXVsdGlwbGVDaG9pY2VTZXBhcmF0b3IpO1xyXG4gICAgICAgICAgICB2YWxzLnNwbGljZShyZW1vdmVkSW5kZXgsIDEpO1xyXG4gICAgICAgICAgICB0aGlzLmRpc3BsYXlWYWx1ZSA9IHZhbHMuam9pbih0aGlzLm11bHRpcGxlQ2hvaWNlU2VwYXJhdG9yKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLm1hcEZpZWxkcykge1xyXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZU90aGVyRmllbGREYXRhV2hlblRhZ3JlbW92ZWQocmVtb3ZlZEluZGV4KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMudGFnUmVtb3ZlZC5lbWl0KHsgcmVtb3ZlZEluZGV4LCBpbnN0YW5jZTogdGhpcyB9KTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHVwZGF0ZU90aGVyRmllbGREYXRhV2hlblRhZ3JlbW92ZWQocmVtb3ZlZEluZGV4KSB7XHJcbiAgICAgICAgY29uc3QgaGVscEZpZWxkcyA9IE9iamVjdC5rZXlzKHRoaXMubWFwRmllbGRzKTtcclxuICAgICAgICBjb25zdCB0ZXh0RmllbGRJbmRleCA9IGhlbHBGaWVsZHMuaW5kZXhPZih0aGlzLnRleHRGaWVsZCk7XHJcblxyXG4gICAgICAgIGlmIChcclxuICAgICAgICAgICAgdGhpcy5uZ0NvbnRyb2wgJiZcclxuICAgICAgICAgICAgdGhpcy5uZ0NvbnRyb2wuZm9ybURpcmVjdGl2ZSAmJlxyXG4gICAgICAgICAgICB0aGlzLm5nQ29udHJvbC5mb3JtRGlyZWN0aXZlLmZvcm0gJiZcclxuICAgICAgICAgICAgdGhpcy5uZ0NvbnRyb2wuZm9ybURpcmVjdGl2ZS5mb3JtLmJpbmRpbmdEYXRhXHJcbiAgICAgICAgKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGJpbmRpbmdEYXRhID0gdGhpcy5uZ0NvbnRyb2wuZm9ybURpcmVjdGl2ZS5mb3JtLmJpbmRpbmdEYXRhO1xyXG4gICAgICAgICAgICBpZiAoYmluZGluZ0RhdGEuc2V0VmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGJpbmRpbmdQYXRoID1cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLm5nQ29udHJvbC5mb3JtRGlyZWN0aXZlLmZvcm0uYmluZGluZ1BhdGg7XHJcbiAgICAgICAgICAgICAgICBsZXQgcGF0aEFycjogc3RyaW5nW10gPSBbXTtcclxuICAgICAgICAgICAgICAgIGlmIChiaW5kaW5nUGF0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHBhdGhBcnIgPSBiaW5kaW5nUGF0aC5zcGxpdChcIi9cIikuZmlsdGVyKChuKSA9PiBuICE9PSBcIlwiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBoZWxwRmllbGRzLmZvckVhY2goKGhlbHBGaWVsZDogYW55KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tYXBGaWVsZHNbaGVscEZpZWxkXVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuc3BsaXQoXCIsXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5mb3JFYWNoKChmb3JtRmllbGQ6IGFueSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZmllbGRQYXRocyA9IHBhdGhBcnIuY29uY2F0KFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcm1GaWVsZC5zcGxpdChcIi5cIilcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB2YWwgPSBiaW5kaW5nRGF0YS5nZXRWYWx1ZShmaWVsZFBhdGhzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbEFyciA9IHZhbC5zcGxpdChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm11bHRpcGxlQ2hvaWNlU2VwYXJhdG9yXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsQXJyLnNwbGljZShyZW1vdmVkSW5kZXgsIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV3VmFsID0gdmFsQXJyLmpvaW4oXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tdWx0aXBsZUNob2ljZVNlcGFyYXRvclxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJpbmRpbmdEYXRhLnNldFZhbHVlKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhdGhBcnIuY29uY2F0KGZpZWxkUGF0aHMpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld1ZhbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRydWVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5iaW5kaW5nRGF0YSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRleHRGaWVsZEluZGV4ID4gLTEpIHtcclxuICAgICAgICAgICAgICAgICAgICBoZWxwRmllbGRzLnNwbGljZSh0ZXh0RmllbGRJbmRleCwgMSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBoZWxwRmllbGRzLmZvckVhY2goKGhlbHBGaWVsZDogYW55KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tYXBGaWVsZHNbaGVscEZpZWxkXVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuc3BsaXQoXCIsXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5mb3JFYWNoKChmb3JtRmllbGQ6IGFueSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdmFsID0gdGhpcy51dGlscy5nZXRWYWx1ZShcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3JtRmllbGQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5iaW5kaW5nRGF0YVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbEFyciA9IHZhbC5zcGxpdChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm11bHRpcGxlQ2hvaWNlU2VwYXJhdG9yXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsQXJyLnNwbGljZShyZW1vdmVkSW5kZXgsIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV3VmFsID0gdmFsQXJyLmpvaW4oXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tdWx0aXBsZUNob2ljZVNlcGFyYXRvclxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudXRpbHMuc2V0VmFsdWUoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5iaW5kaW5nRGF0YSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3JtRmllbGQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3VmFsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLy8jZW5kcmVnaW9uXHJcblxyXG4gICAgb25BbGxDaGlsZE5vZGVzQ2xpY2soJGV2ZW50OiBhbnkpIHtcclxuICAgICAgICB0aGlzLmlzR2V0QWxsQ2hpZGxOb2RlcyA9ICF0aGlzLmlzR2V0QWxsQ2hpZGxOb2RlcztcclxuICAgIH1cclxuXHJcbiAgICBvbkluY2x1ZGVTdWJvcmRpbmF0ZXNDaGFuZ2UodmFsKSB7XHJcbiAgICAgICAgdGhpcy5pbmNsdWRlU3Vib3JkaW5hdGVzID0gdmFsO1xyXG4gICAgICAgIHRoaXMuaW5jbHVkZVN1Ym9yZGluYXRlcyQubmV4dCh2YWwpO1xyXG4gICAgfVxyXG5cclxuICAgIG9uVGFnQ29udGFpbmVyQ2xpY2soJGV2ZW50OiBNb3VzZUV2ZW50KSB7XHJcbiAgICAgICAgJGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgIGlmICh0aGlzLnRhZ0lucHV0KSB7XHJcbiAgICAgICAgICAgIHRoaXMudGFnSW5wdXQuZm9jdXMoKTtcclxuICAgICAgICAgICAgdGhpcy50YWdJbnB1dC50ZXh0Ym94Lm5hdGl2ZUVsZW1lbnQuY2xpY2soKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZXhwYW5kRmlyc3ROb2RlKG5vZGVzKTogVHJlZU5vZGVbXSB7XHJcbiAgICAgICAgaWYgKG5vZGVzICYmIG5vZGVzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICByZXR1cm4gbm9kZXMubWFwKChub2RlOiBUcmVlTm9kZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKG5vZGUuY2hpbGRyZW4gJiYgbm9kZS5jaGlsZHJlbi5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICBub2RlLmV4cGFuZGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmV4cGFuZEZpcnN0Tm9kZShub2RlLmNoaWxkcmVuKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiBub2RlO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG5vZGVzO1xyXG4gICAgfTtcclxuXHJcbiAgICAvLyDnlKjkuo7nu4Tnu4fkuKrmgKfljJbmlbDmja5rZXlcclxuICAgIGdldExvb2t1cEJpbmRpbmdGaWVsZHMoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMubmdDb250cm9sKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLm5nQ29udHJvbC5uYW1lKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5uZ0NvbnRyb2wubmFtZTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLm1hcEZpZWxkcyAmJiB0aGlzLm1hcEZpZWxkcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gT2JqZWN0LmtleXModGhpcy5tYXBGaWVsZHMpLm1hcChrID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubWFwRmllbGRzW2tdO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pLmpvaW4oJ18nKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMudGV4dEZpZWxkO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuICcnO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBvbkNvbmRpdGlvbnNDaGFuZ2UoJGV2ZW50KSB7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNUcmVlKCkgKSB7XHJcbiAgICAgICAgICAgIHRoaXMudHRFdmVudE1nci5jb25kaXRpb25zQ2hhbmdlKCRldmVudCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5kdEV2ZW50TWdyLmNvbmRpdGlvbnNDaGFuZ2UoJGV2ZW50KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgY2xlYXJTZWxlY3RlZCgkZXZlbnQ6IE1vdXNlRXZlbnQpIHtcclxuICAgICAgICBpZigkZXZlbnQpIHtcclxuICAgICAgICAgICAgJGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgbXNnID0gdGhpcy5sb2NhbFNlcnZpY2UuZ2V0VmFsdWUoJ2xvb2t1cC5zZWxlY3RlZEluZm8uY29uZmlybScpO1xyXG5cclxuICAgICAgICB0aGlzLm1lc3NhZ2VyU2VydmljZS5jb25maXJtKG1zZyB8fCAn5oKo56Gu6K6k6KaB5Y+W5raI5omA5pyJ5bey6YCJ5Lit55qE6K6w5b2V5ZCX77yfJykuc3Vic2NyaWJlKChlKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChlKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm11bHRpU2VsTWdyLmNsZWFyKCk7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zZWxlY3RlZER0UmVmKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZER0UmVmLmNsZWFyU2VsZWN0aW9ucygpO1xyXG4gICAgICAgICAgICAgICAgfSBcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIG9uRGVsZXRlU2VsZWN0ZWRJdGVtKCRldmVudDogTW91c2VFdmVudCkge1xyXG4gICAgICAgIGlmKCRldmVudCkge1xyXG4gICAgICAgICAgICAkZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy5zZWxlY3RlZER0UmVmLnNlbGVjdGlvbnMgJiYgdGhpcy5zZWxlY3RlZER0UmVmLnNlbGVjdGlvbnMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHVuQ2hlY2tlSWRzID0gdGhpcy5zZWxlY3RlZER0UmVmLnNlbGVjdGlvbnMubWFwKG4gPT4gblt0aGlzLmlkRmllbGRdKTtcclxuICAgICAgICAgICAgdGhpcy5tdWx0aVNlbE1nci5kZWxldGVTZWxlY3RlZEl0ZW1zKHRoaXMuc2VsZWN0ZWREdFJlZi5zZWxlY3Rpb25zKTtcclxuICAgICAgICAgICAgdGhpcy5zZWxlY3RlZER0UmVmLnVuQ2hlY2tSb3dzKHVuQ2hlY2tlSWRzKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLm5vdGlmeVNlcnZpY2Uud2FybmluZygn6K+35Yu+6YCJ6KaB5Yig6Zmk55qE6K6w5b2V77yBJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGluaXRDb2x1bW5XaWR0aChjb2x1bW5zOiBhbnksIHR5cDogJ2RhdGEnfCduYXYnfCdmYXYnfCdzZWwnID0gJ2RhdGEnKSB7XHJcbiAgICAgICAgaWYgKHRoaXMucGVyc29uYWxDb25mICYmIHRoaXMucGVyc29uYWxDb25mLmNvbFNpemVJbmZvICYmIHRoaXMucGVyc29uYWxDb25mLmNvbFNpemVJbmZvLmRhdGEpIHtcclxuICAgICAgICAgICAgY29uc3QgZmllbGRzaXplRGF0YSA9IHRoaXMucGVyc29uYWxDb25mLmNvbFNpemVJbmZvW3R5cF07XHJcbiAgICAgICAgICAgIGlmKGZpZWxkc2l6ZURhdGEpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGZpZWxkcyA9IE9iamVjdC5rZXlzKGZpZWxkc2l6ZURhdGEpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGZpZWxkcyAmJiBmaWVsZHMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29sdW1ucy5mb3JFYWNoKG4gPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZmllbGRzaXplRGF0YVtuLmZpZWxkXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbi53aWR0aCA9IGZpZWxkc2l6ZURhdGFbbi5maWVsZF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbiJdfQ==