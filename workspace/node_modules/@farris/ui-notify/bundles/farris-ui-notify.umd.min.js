!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports,require("lodash-es"),require("rxjs"),require("@angular/common"),require("@angular/core"),require("@farris/ui-common"),require("@farris/ui-locale")):"function"==typeof define&&define.amd?define("@farris/ui-notify",["exports","lodash-es","rxjs","@angular/common","@angular/core","@farris/ui-common","@farris/ui-locale"],n):n((t.farris=t.farris||{},t.farris["ui-notify"]={}),t.lodashEs,t.rxjs,t.ng.common,t.ng.core,t.uiCommon,t.uiLocale)}(this,function(t,e,i,n,o,s,r){"use strict";var a=function(t,n){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var o in n)n.hasOwnProperty(o)&&(t[o]=n[o])})(t,n)};var c=(f.decorators=[{type:o.Injectable}],f);function f(){}var p,l=(function _(t,n){function o(){this.constructor=t}a(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}(h,p=c),h);function h(){return null!==p&&p.apply(this,arguments)||this}var u=(y.decorators=[{type:o.Injectable}],y);function y(){this.limit=5,this.showClose=!0,this.position="top-center",this.timeout=3e3,this.theme="bootstrap"}var m={ADD:0,CLEAR:1,CLEAR_ALL:2};m[m.ADD]="ADD",m[m.CLEAR]="CLEAR",m[m.CLEAR_ALL]="CLEAR_ALL";var g=function N(t,n){this.type=t,this.value=n},d=(Object.defineProperty(C.prototype,"state",{get:function(){return this._state},set:function(t){var n=this;(this._state=t)&&(this.inCls[this.animateCls]=!1,this.inCls.animated=t,this.inCls[this.outCls]=t,setTimeout(function(){n.close.next(n.toast)},200))},enumerable:!0,configurable:!0}),C.prototype.ngOnInit=function(){},C.prototype.ngOnChanges=function(t){this.getAnimateCls(t.animateCls.currentValue)},C.prototype.getAnimateCls=function(t){var n;t=t||"bounceInRight",this.outCls="fadeOut",this.inCls=((n={})[this.toast.type]=!0,n[this.toast.theme]=!0,n.animated=!1,n[t]=!0,n[this.outCls]=this.state,n)},C.prototype.closeToast=function(t){t.preventDefault(),this.state=!0},C.prototype.getPurType=function(){return this.toast&&this.toast.type?"f-icon-"+this.toast.type.replace("toasty-type-",""):"f-icon-default"},C.decorators=[{type:o.Component,args:[{selector:"farris-notify",template:'\n        <div #notifyDiv class="toast" [ngClass]="inCls">\n            <button *ngIf="toast.showClose" class="toast-close f-btn-icon f-bare" (click)="closeToast($event)">\n                <span class="f-icon modal_close"></span>\n            </button>\n            <section class="modal-tips"  *ngIf="toast.title || toast.msg">\n                <div class="float-left modal-tips-iconwrap">\n                    <span class="f-icon" [ngClass]=" getPurType()"></span>\n                </div>\n                <div class="modal-tips-content">\n                    <ng-container *ngIf="toast.title&&toast.msg">\n                        <h5 class="toast-title modal-tips-title" [innerHTML]="toast.title | safe: \'html\'"></h5>\n                        <p class="toast-msg" [innerHtml]="toast.msg | safe:\'html\'"></p>\n                    </ng-container>\n                    <ng-container *ngIf="!toast.title&&toast.msg">\n                     <h5 class="toast-title modal-tips-title only-toast-msg" [innerHtml]="toast.msg | safe:\'html\'"></h5>\n                    </ng-container>\n                </div>\n            </section>\n        </div>\n    ',styles:["\n            @-webkit-keyframes farrisMoveUpIn {\n                0% {\n                    transform: translateY(-100%);\n                    transform-origin: 0 0;\n                    opacity: 0\n                }\n            \n                100% {\n                    transform: translateY(0);\n                    transform-origin: 0 0;\n                    opacity: 1\n                }\n            }\n            @keyframes farrisMoveUpIn {\n                0% {\n                    transform: translateY(-100%);\n                    transform-origin: 0 0;\n                    opacity: 0\n                }\n            \n                100% {\n                    transform: translateY(0);\n                    transform-origin: 0 0;\n                    opacity: 1\n                }\n            }\n            @-webkit-keyframes farrisMoveUpOut {\n                0% {\n                    transform: translateY(0);\n                    transform-origin: 0 0;\n                    opacity: 1\n                }\n            \n                100% {\n                    transform: translateY(-100%);\n                    transform-origin: 0 0;\n                    opacity: 0\n                }\n            }\n            @keyframes farrisMoveUpOut {\n                0% {\n                    transform: translateY(0);\n                    transform-origin: 0 0;\n                    opacity: 1\n                }\n            \n                100% {\n                    transform: translateY(-100%);\n                    transform-origin: 0 0;\n                    opacity: 0\n                }\n            }\n            .toast.fadeIn {\n                -webkit-animation: farrisMoveUpIn 0.2s linear;\n                animation: farrisMoveUpIn 0.2s linear;\n            }\n            .toast.fadeOut {\n                -webkit-animation: farrisMoveUpOut 0.2s linear;\n                animation: farrisMoveUpOut 0.2s linear;\n            }\n        "]}]}],C.ctorParameters=function(){return[{type:o.NgZone}]},C.propDecorators={toast:[{type:o.Input}],close:[{type:o.Output}],notifyDiv:[{type:o.ViewChild,args:["notifyDiv"]}],animateCls:[{type:o.Input}]},C);function C(t){this.ngZone=t,this.close=new o.EventEmitter,this._state=!1,this.outCls="",this.inCls={}}var v=(Object.defineProperty(b.prototype,"position",{get:function(){return this._position?this._position:"toasty-position-top-center"},set:function(t){if(t){for(var n=!0,o=0;o<b.POSITIONS.length;o++)if(b.POSITIONS[o]===t){n=!1;break}n&&(t=this.config.position)}else t=this.config.position;b.POSITIONS.indexOf(t),this.animateCls="fadeIn",this._position="toasty-position-"+t,this.config.left&&(this.notifyDistance.left=this.config.left),this.config.right&&(this.notifyDistance.right=this.config.right),this.config.top&&(this.notifyDistance.top=this.config.top),this.config.bottom&&(this.notifyDistance.bottom=this.config.bottom),this.initstyle(),"top-left"===t?(this.style.left=this.notifyDistance.left+"px",this.style.top=this.notifyDistance.top+"px"):"top-center"===t?this.style.top=this.notifyDistance.top+"px":"top-right"===t?(this.style.right=this.notifyDistance.right+"px",this.style.top=this.notifyDistance.top+"px"):"bottom-left"===t?(this.style.left=this.notifyDistance.left+"px",this.style.bottom=this.notifyDistance.bottom+"px"):"bottom-center"===t?this.style.bottom=this.notifyDistance.bottom+"px":"bottom-right"===t&&(this.style.right=this.notifyDistance.right+"px",this.style.bottom=this.notifyDistance.bottom+"px")},enumerable:!0,configurable:!0}),b.prototype.initstyle=function(){this.style={left:"",right:"",top:"",bottom:""}},b.prototype.ngOnInit=function(){},b.prototype.ngAfterContentChecked=function(){var n=this;this.notifyCmpList&&this.notifyCmpList.length&&this.notifyCmpList.forEach(function(t){t.close.subscribe(function(){n.clear(t.toast.id)})})},b.prototype.closeToast=function(t){this.clear(t.id)},b.prototype.add=function(t){this.toasts.length>=this.config.limit&&this.toasts.shift(),this.toasts.push(t),t.timeout&&this._setTimeout(t)},b.prototype.clear=function(o){var i=this;if(!o)throw new Error("Please provide id of Toast to close");this.toasts.forEach(function(t,n){t.id===o&&(t.onRemove&&e.isFunction(t.onRemove)&&t.onRemove.call(i,t),i.toasts.splice(n,1))}),0===this.toasts.length&&this.empty.emit()},b.prototype.clearAll=function(){var o=this;this.toasts.forEach(function(t,n){t.onRemove&&e.isFunction(t.onRemove)&&t.onRemove.call(o,t)}),this.toasts=[],this.empty.emit()},b.prototype.findNotifyComponent=function(n){return this.notifyCmpList.find(function(t){return t.toast.id===n})},b.prototype._setTimeout=function(n){var o=this;window.setTimeout(function(){var t=o.findNotifyComponent(n.id);t&&(t.state=!0,t.inCls[t.animateCls]=!1)},n.timeout)},b.POSITIONS=["bottom-right","bottom-left","top-right","top-left","top-center","bottom-center","center-center"],b.ANIMATES=["bounceInRight","bounceInLeft","bounceInRight","bounceInLeft","bounceInDown","bounceInUp","bounceIn"],b.decorators=[{type:o.Component,args:[{selector:"farris-notify-container",template:'\n    <div [id]="id" class="farris-notify" [ngClass]="[position]" [ngStyle]="style">\n        <farris-notify *ngFor="let toast of toasts" [toast]="toast" [animateCls]="animateCls" (close)="closeToast(toast)"></farris-notify>\n    </div>\n    '}]}],b.ctorParameters=function(){return[{type:o.NgZone}]},b.propDecorators={notifyCmpList:[{type:o.ViewChildren,args:[d]}],empty:[{type:o.Output}],position:[{type:o.Input}]},b);function b(t){this.ngZone=t,this._position="",this.style={left:"",right:"",top:"",bottom:""},this.notifyDistance={left:12,right:12,top:136,bottom:12},this.animateCls="fadeIn",this.id="",this.empty=new o.EventEmitter,this.toasts=[]}function I(t){return"string"==typeof t}function w(t){return"number"==typeof t}function D(t){return"function"==typeof t}var O=(A.prototype["default"]=function(t){this.show(t,"default")},A.prototype.info=function(t){this.show(t,"info")},A.prototype.success=function(t){this.show(t,"success")},A.prototype.warning=function(t){this.show(t,"warning")},A.prototype.error=function(t){this.show(t,"danger")},A.prototype.clearAll=function(){this.notifyContainer.instance.clearAll()},A.prototype.clear=function(t){this.notifyContainer.instance.clear(t)},A.prototype.createContainer=function(){if(!this.notifyContainer){var t=this.cfr.resolveComponentFactory(v).create(this.injector);this.appRef.attachView(t.hostView),document.querySelector("body").appendChild(t.location.nativeElement),this.notifyContainer=t}},A.prototype.show=function(t,n){var o,i=this;if(this.createContainer(),!(o=I(t)&&""!==t||w(t)?{msg:t.toString()}:t)||!o.title&&!o.msg)throw new Error("Farris-Notify: No notify title or message specified!");n=n||"default",this.uniqueCounter++;var e,s=this._checkConfigItem(this.config,o,"showClose");e=o.theme&&-1<A.THEMES.indexOf(o.theme)?o.theme:this.config.theme,"success"===n&&(o.hasOwnProperty("timeout")||(o.timeout=1500));var r={id:this.uniqueCounter,title:o.title,msg:o.msg,showClose:s,type:"toasty-type-"+n,theme:"toasty-theme-"+e,onAdd:o.onAdd&&D(o.onAdd)?o.onAdd:null,onRemove:o.onRemove&&D(o.onRemove)?o.onRemove:null};r.timeout=o.hasOwnProperty("timeout")?o.timeout:this.config.timeout,this.notifyContainer.instance.config=this.config,this.notifyContainer.instance.position=this.config.position,this.notifyContainer.instance.add(r),this.notifyContainer.instance.empty.subscribe(function(){i.clearDom()}),this.notifyContainer.changeDetectorRef.markForCheck(),this.notifyContainer.changeDetectorRef.detectChanges(),o.onAdd&&D(o.onAdd)&&o.onAdd.call(this,r)},A.prototype._checkConfigItem=function(t,n,o){return!1!==n[o]&&(!!n[o]||t[o])},A.prototype.clearDom=function(){if(this.notifyContainer){var t=this.notifyContainer.location.nativeElement;t.parentNode&&t.parentNode.removeChild(t),this.notifyContainer.destroy(),this.notifyContainer=undefined}},A.THEMES=["default","material","bootstrap"],A.decorators=[{type:o.Injectable}],A.ctorParameters=function(){return[{type:o.ComponentFactoryResolver},{type:o.Injector},{type:o.ApplicationRef}]},A);function A(t,n,o){this.cfr=t,this.injector=n,this.appRef=o,this.uniqueCounter=0,this.eventSource=new i.Subject,this.events=this.eventSource.asObservable(),this.config=new u,this.localeService=this.injector.get(r.LocaleService)}var R=(E.forRoot=function(){return{ngModule:E,providers:[O]}},E.decorators=[{type:o.NgModule,args:[{imports:[n.CommonModule,s.FarrisCommonModule,r.LocaleModule],declarations:[d,v],providers:[O],exports:[d,v],entryComponents:[v]}]}],E);function E(){}t.NotifyConfig=u,t.NotifyData=l,t.NotifyEvent=g,t.NotifyEventType=m,t.NotifyOptions=c,t.NotifyContainerComponent=v,t.NotifyComponent=d,t.isString=I,t.isNumber=w,t.isFunction=D,t.NotifyService=O,t.NotifyModule=R,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=farris-ui-notify.umd.min.js.map