/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { Component, Input, Output, EventEmitter, ViewChild, ElementRef, NgZone } from '@angular/core';
import { NotifyData } from './notifiy.options';
export class NotifyComponent {
    /**
     * @param {?} ngZone
     */
    constructor(ngZone) {
        this.ngZone = ngZone;
        this.close = new EventEmitter();
        this._state = false;
        this.outCls = '';
        this.inCls = {};
    }
    /**
     * @return {?}
     */
    get state() {
        return this._state;
    }
    /**
     * @param {?} value
     * @return {?}
     */
    set state(value) {
        this._state = value;
        if (value) {
            this.inCls[this.animateCls] = false;
            this.inCls['animated'] = value;
            this.inCls[this.outCls] = value;
            // this.ngZone.runOutsideAngular(() => {
            setTimeout((/**
             * @return {?}
             */
            () => {
                this.close.next(this.toast);
            }), 200);
            // });
        }
    }
    /**
     * @return {?}
     */
    ngOnInit() {
    }
    /**
     * @param {?} changes
     * @return {?}
     */
    ngOnChanges(changes) {
        this.getAnimateCls(changes.animateCls.currentValue);
    }
    /**
     * @param {?=} cls
     * @return {?}
     */
    getAnimateCls(cls) {
        cls = cls || 'bounceInRight';
        // this.outCls = 'bounceOut' + cls.substr(8);
        // switch (cls.substr(8)) {
        //     case 'Up':
        //         this.outCls = 'bounceOutDown';
        //         break;
        //     case 'Down':
        //         this.outCls = 'bounceOutUp';
        //         break;
        // }
        this.outCls = 'fadeOut';
        // outCls += tmp;
        this.inCls = {
            [this.toast.type]: true,
            [this.toast.theme]: true,
            'animated': false,
            [cls]: true,
            [this.outCls]: this.state
        };
    }
    /**
     * @param {?} event
     * @return {?}
     */
    closeToast(event) {
        event.preventDefault();
        this.state = true;
    }
    /**
     * @return {?}
     */
    getPurType() {
        if (this.toast && this.toast.type) {
            return 'f-icon-' + this.toast.type.replace('toasty-type-', '');
        }
        return 'f-icon-default';
    }
}
NotifyComponent.decorators = [
    { type: Component, args: [{
                selector: 'farris-notify',
                template: `
        <div #notifyDiv class="toast" [ngClass]="inCls">
            <button *ngIf="toast.showClose" class="toast-close f-btn-icon f-bare" (click)="closeToast($event)">
                <span class="f-icon modal_close"></span>
            </button>
            <section class="modal-tips"  *ngIf="toast.title || toast.msg">
                <div class="float-left modal-tips-iconwrap">
                    <span class="f-icon" [ngClass]=" getPurType()"></span>
                </div>
                <div class="modal-tips-content">
                    <ng-container *ngIf="toast.title&&toast.msg">
                        <h5 class="toast-title modal-tips-title" [innerHTML]="toast.title | safe: 'html'"></h5>
                        <p class="toast-msg" [innerHtml]="toast.msg | safe:'html'"></p>
                    </ng-container>
                    <ng-container *ngIf="!toast.title&&toast.msg">
                     <h5 class="toast-title modal-tips-title only-toast-msg" [innerHtml]="toast.msg | safe:'html'"></h5>
                    </ng-container>
                </div>
            </section>
        </div>
    `,
                styles: [`
            @-webkit-keyframes farrisMoveUpIn {
                0% {
                    transform: translateY(-100%);
                    transform-origin: 0 0;
                    opacity: 0
                }
            
                100% {
                    transform: translateY(0);
                    transform-origin: 0 0;
                    opacity: 1
                }
            }
            @keyframes farrisMoveUpIn {
                0% {
                    transform: translateY(-100%);
                    transform-origin: 0 0;
                    opacity: 0
                }
            
                100% {
                    transform: translateY(0);
                    transform-origin: 0 0;
                    opacity: 1
                }
            }
            @-webkit-keyframes farrisMoveUpOut {
                0% {
                    transform: translateY(0);
                    transform-origin: 0 0;
                    opacity: 1
                }
            
                100% {
                    transform: translateY(-100%);
                    transform-origin: 0 0;
                    opacity: 0
                }
            }
            @keyframes farrisMoveUpOut {
                0% {
                    transform: translateY(0);
                    transform-origin: 0 0;
                    opacity: 1
                }
            
                100% {
                    transform: translateY(-100%);
                    transform-origin: 0 0;
                    opacity: 0
                }
            }
            .toast.fadeIn {
                -webkit-animation: farrisMoveUpIn 0.2s linear;
                animation: farrisMoveUpIn 0.2s linear;
            }
            .toast.fadeOut {
                -webkit-animation: farrisMoveUpOut 0.2s linear;
                animation: farrisMoveUpOut 0.2s linear;
            }
        `]
            }] }
];
/** @nocollapse */
NotifyComponent.ctorParameters = () => [
    { type: NgZone }
];
NotifyComponent.propDecorators = {
    toast: [{ type: Input }],
    close: [{ type: Output }],
    notifyDiv: [{ type: ViewChild, args: ['notifyDiv',] }],
    animateCls: [{ type: Input }]
};
if (false) {
    /** @type {?} */
    NotifyComponent.prototype.toast;
    /** @type {?} */
    NotifyComponent.prototype.close;
    /** @type {?} */
    NotifyComponent.prototype.notifyDiv;
    /** @type {?} */
    NotifyComponent.prototype._state;
    /** @type {?} */
    NotifyComponent.prototype.animateCls;
    /** @type {?} */
    NotifyComponent.prototype.outCls;
    /** @type {?} */
    NotifyComponent.prototype.inCls;
    /**
     * @type {?}
     * @private
     */
    NotifyComponent.prototype.ngZone;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibm90aWZ5LmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiJuZzovL0BmYXJyaXMvdWktbm90aWZ5LyIsInNvdXJjZXMiOlsibGliL25vdGlmeS5jb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7OztBQUFBLE9BQU8sRUFDSCxTQUFTLEVBR1QsS0FBSyxFQUNMLE1BQU0sRUFDTixZQUFZLEVBQ1osU0FBUyxFQUNULFVBQVUsRUFFVixNQUFNLEVBQ1QsTUFBTSxlQUFlLENBQUM7QUFDdkIsT0FBTyxFQUFFLFVBQVUsRUFBRSxNQUFNLG1CQUFtQixDQUFDO0FBMEYvQyxNQUFNLE9BQU8sZUFBZTs7OztJQTRCeEIsWUFBb0IsTUFBYztRQUFkLFdBQU0sR0FBTixNQUFNLENBQVE7UUExQnhCLFVBQUssR0FBRyxJQUFJLFlBQVksRUFBRSxDQUFDO1FBR3JDLFdBQU0sR0FBRyxLQUFLLENBQUM7UUFFZixXQUFNLEdBQUcsRUFBRSxDQUFDO1FBQ1osVUFBSyxHQUFHLEVBQUUsQ0FBQztJQW9CMkIsQ0FBQzs7OztJQWxCdkMsSUFBSSxLQUFLO1FBQ0wsT0FBTyxJQUFJLENBQUMsTUFBTSxDQUFDO0lBQ3ZCLENBQUM7Ozs7O0lBRUQsSUFBSSxLQUFLLENBQUMsS0FBSztRQUNYLElBQUksQ0FBQyxNQUFNLEdBQUcsS0FBSyxDQUFDO1FBQ3BCLElBQUksS0FBSyxFQUFFO1lBQ1AsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLEdBQUcsS0FBSyxDQUFDO1lBQ3BDLElBQUksQ0FBQyxLQUFLLENBQUMsVUFBVSxDQUFDLEdBQUcsS0FBSyxDQUFDO1lBQy9CLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxHQUFHLEtBQUssQ0FBQztZQUNoQyx3Q0FBd0M7WUFDcEMsVUFBVTs7O1lBQUMsR0FBRyxFQUFFO2dCQUNaLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztZQUNoQyxDQUFDLEdBQUUsR0FBRyxDQUFDLENBQUM7WUFDWixNQUFNO1NBQ1Q7SUFDTCxDQUFDOzs7O0lBSUQsUUFBUTtJQUNSLENBQUM7Ozs7O0lBRUQsV0FBVyxDQUFDLE9BQXNCO1FBQzlCLElBQUksQ0FBQyxhQUFhLENBQUMsT0FBTyxDQUFDLFVBQVUsQ0FBQyxZQUFZLENBQUMsQ0FBQztJQUN4RCxDQUFDOzs7OztJQUVELGFBQWEsQ0FBQyxHQUFTO1FBQ25CLEdBQUcsR0FBRyxHQUFHLElBQUksZUFBZSxDQUFDO1FBQzdCLDZDQUE2QztRQUM3QywyQkFBMkI7UUFDM0IsaUJBQWlCO1FBQ2pCLHlDQUF5QztRQUN6QyxpQkFBaUI7UUFDakIsbUJBQW1CO1FBQ25CLHVDQUF1QztRQUN2QyxpQkFBaUI7UUFDakIsSUFBSTtRQUVKLElBQUksQ0FBQyxNQUFNLEdBQUcsU0FBUyxDQUFDO1FBRXhCLGlCQUFpQjtRQUVqQixJQUFJLENBQUMsS0FBSyxHQUFHO1lBQ1QsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxFQUFFLElBQUk7WUFDdkIsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxFQUFFLElBQUk7WUFDeEIsVUFBVSxFQUFFLEtBQUs7WUFDakIsQ0FBQyxHQUFHLENBQUMsRUFBRSxJQUFJO1lBQ1gsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLEVBQUUsSUFBSSxDQUFDLEtBQUs7U0FDNUIsQ0FBQztJQUNOLENBQUM7Ozs7O0lBRUQsVUFBVSxDQUFDLEtBQVU7UUFDakIsS0FBSyxDQUFDLGNBQWMsRUFBRSxDQUFDO1FBQ3ZCLElBQUksQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDO0lBQ3RCLENBQUM7Ozs7SUFDRCxVQUFVO1FBQ04sSUFBSSxJQUFJLENBQUMsS0FBSyxJQUFJLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxFQUFFO1lBQy9CLE9BQU8sU0FBUyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxjQUFjLEVBQUUsRUFBRSxDQUFDLENBQUM7U0FDbEU7UUFDRCxPQUFPLGdCQUFnQixDQUFDO0lBQzVCLENBQUM7OztZQS9KSixTQUFTLFNBQUM7Z0JBQ1AsUUFBUSxFQUFFLGVBQWU7Z0JBQ3pCLFFBQVEsRUFBRTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7S0FvQlQ7eUJBRUc7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7U0E2REM7YUFFUjs7OztZQTNGRyxNQUFNOzs7b0JBNkZMLEtBQUs7b0JBQ0wsTUFBTTt3QkFDTixTQUFTLFNBQUMsV0FBVzt5QkFHckIsS0FBSzs7OztJQUxOLGdDQUEyQjs7SUFDM0IsZ0NBQXFDOztJQUNyQyxvQ0FBOEM7O0lBRTlDLGlDQUFlOztJQUNmLHFDQUE0Qjs7SUFDNUIsaUNBQVk7O0lBQ1osZ0NBQVc7Ozs7O0lBb0JDLGlDQUFzQiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XHJcbiAgICBDb21wb25lbnQsXHJcbiAgICBPbkluaXQsXHJcbiAgICBPbkNoYW5nZXMsXHJcbiAgICBJbnB1dCxcclxuICAgIE91dHB1dCxcclxuICAgIEV2ZW50RW1pdHRlcixcclxuICAgIFZpZXdDaGlsZCxcclxuICAgIEVsZW1lbnRSZWYsXHJcbiAgICBTaW1wbGVDaGFuZ2VzLFxyXG4gICAgTmdab25lXHJcbn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcbmltcG9ydCB7IE5vdGlmeURhdGEgfSBmcm9tICcuL25vdGlmaXkub3B0aW9ucyc7XHJcblxyXG5AQ29tcG9uZW50KHtcclxuICAgIHNlbGVjdG9yOiAnZmFycmlzLW5vdGlmeScsXHJcbiAgICB0ZW1wbGF0ZTogYFxyXG4gICAgICAgIDxkaXYgI25vdGlmeURpdiBjbGFzcz1cInRvYXN0XCIgW25nQ2xhc3NdPVwiaW5DbHNcIj5cclxuICAgICAgICAgICAgPGJ1dHRvbiAqbmdJZj1cInRvYXN0LnNob3dDbG9zZVwiIGNsYXNzPVwidG9hc3QtY2xvc2UgZi1idG4taWNvbiBmLWJhcmVcIiAoY2xpY2spPVwiY2xvc2VUb2FzdCgkZXZlbnQpXCI+XHJcbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImYtaWNvbiBtb2RhbF9jbG9zZVwiPjwvc3Bhbj5cclxuICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgIDxzZWN0aW9uIGNsYXNzPVwibW9kYWwtdGlwc1wiICAqbmdJZj1cInRvYXN0LnRpdGxlIHx8IHRvYXN0Lm1zZ1wiPlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZsb2F0LWxlZnQgbW9kYWwtdGlwcy1pY29ud3JhcFwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZi1pY29uXCIgW25nQ2xhc3NdPVwiIGdldFB1clR5cGUoKVwiPjwvc3Bhbj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1vZGFsLXRpcHMtY29udGVudFwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxuZy1jb250YWluZXIgKm5nSWY9XCJ0b2FzdC50aXRsZSYmdG9hc3QubXNnXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxoNSBjbGFzcz1cInRvYXN0LXRpdGxlIG1vZGFsLXRpcHMtdGl0bGVcIiBbaW5uZXJIVE1MXT1cInRvYXN0LnRpdGxlIHwgc2FmZTogJ2h0bWwnXCI+PC9oNT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3M9XCJ0b2FzdC1tc2dcIiBbaW5uZXJIdG1sXT1cInRvYXN0Lm1zZyB8IHNhZmU6J2h0bWwnXCI+PC9wPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvbmctY29udGFpbmVyPlxyXG4gICAgICAgICAgICAgICAgICAgIDxuZy1jb250YWluZXIgKm5nSWY9XCIhdG9hc3QudGl0bGUmJnRvYXN0Lm1zZ1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICA8aDUgY2xhc3M9XCJ0b2FzdC10aXRsZSBtb2RhbC10aXBzLXRpdGxlIG9ubHktdG9hc3QtbXNnXCIgW2lubmVySHRtbF09XCJ0b2FzdC5tc2cgfCBzYWZlOidodG1sJ1wiPjwvaDU+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9uZy1jb250YWluZXI+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9zZWN0aW9uPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgYCxcclxuICAgIHN0eWxlczogW1xyXG4gICAgICAgIGBcclxuICAgICAgICAgICAgQC13ZWJraXQta2V5ZnJhbWVzIGZhcnJpc01vdmVVcEluIHtcclxuICAgICAgICAgICAgICAgIDAlIHtcclxuICAgICAgICAgICAgICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTEwMCUpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybS1vcmlnaW46IDAgMDtcclxuICAgICAgICAgICAgICAgICAgICBvcGFjaXR5OiAwXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgMTAwJSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKDApO1xyXG4gICAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybS1vcmlnaW46IDAgMDtcclxuICAgICAgICAgICAgICAgICAgICBvcGFjaXR5OiAxXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgQGtleWZyYW1lcyBmYXJyaXNNb3ZlVXBJbiB7XHJcbiAgICAgICAgICAgICAgICAwJSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC0xMDAlKTtcclxuICAgICAgICAgICAgICAgICAgICB0cmFuc2Zvcm0tb3JpZ2luOiAwIDA7XHJcbiAgICAgICAgICAgICAgICAgICAgb3BhY2l0eTogMFxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIDEwMCUge1xyXG4gICAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgwKTtcclxuICAgICAgICAgICAgICAgICAgICB0cmFuc2Zvcm0tb3JpZ2luOiAwIDA7XHJcbiAgICAgICAgICAgICAgICAgICAgb3BhY2l0eTogMVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIEAtd2Via2l0LWtleWZyYW1lcyBmYXJyaXNNb3ZlVXBPdXQge1xyXG4gICAgICAgICAgICAgICAgMCUge1xyXG4gICAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgwKTtcclxuICAgICAgICAgICAgICAgICAgICB0cmFuc2Zvcm0tb3JpZ2luOiAwIDA7XHJcbiAgICAgICAgICAgICAgICAgICAgb3BhY2l0eTogMVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIDEwMCUge1xyXG4gICAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtMTAwJSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNmb3JtLW9yaWdpbjogMCAwO1xyXG4gICAgICAgICAgICAgICAgICAgIG9wYWNpdHk6IDBcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBAa2V5ZnJhbWVzIGZhcnJpc01vdmVVcE91dCB7XHJcbiAgICAgICAgICAgICAgICAwJSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKDApO1xyXG4gICAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybS1vcmlnaW46IDAgMDtcclxuICAgICAgICAgICAgICAgICAgICBvcGFjaXR5OiAxXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgMTAwJSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC0xMDAlKTtcclxuICAgICAgICAgICAgICAgICAgICB0cmFuc2Zvcm0tb3JpZ2luOiAwIDA7XHJcbiAgICAgICAgICAgICAgICAgICAgb3BhY2l0eTogMFxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC50b2FzdC5mYWRlSW4ge1xyXG4gICAgICAgICAgICAgICAgLXdlYmtpdC1hbmltYXRpb246IGZhcnJpc01vdmVVcEluIDAuMnMgbGluZWFyO1xyXG4gICAgICAgICAgICAgICAgYW5pbWF0aW9uOiBmYXJyaXNNb3ZlVXBJbiAwLjJzIGxpbmVhcjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAudG9hc3QuZmFkZU91dCB7XHJcbiAgICAgICAgICAgICAgICAtd2Via2l0LWFuaW1hdGlvbjogZmFycmlzTW92ZVVwT3V0IDAuMnMgbGluZWFyO1xyXG4gICAgICAgICAgICAgICAgYW5pbWF0aW9uOiBmYXJyaXNNb3ZlVXBPdXQgMC4ycyBsaW5lYXI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICBgXHJcbiAgICBdXHJcbn0pXHJcbmV4cG9ydCBjbGFzcyBOb3RpZnlDb21wb25lbnQgaW1wbGVtZW50cyBPbkluaXQsIE9uQ2hhbmdlcyB7XHJcbiAgICBASW5wdXQoKSB0b2FzdDogTm90aWZ5RGF0YTtcclxuICAgIEBPdXRwdXQoKSBjbG9zZSA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcclxuICAgIEBWaWV3Q2hpbGQoJ25vdGlmeURpdicpIG5vdGlmeURpdjogRWxlbWVudFJlZjtcclxuXHJcbiAgICBfc3RhdGUgPSBmYWxzZTtcclxuICAgIEBJbnB1dCgpIGFuaW1hdGVDbHM6IHN0cmluZztcclxuICAgIG91dENscyA9ICcnO1xyXG4gICAgaW5DbHMgPSB7fTtcclxuXHJcbiAgICBnZXQgc3RhdGUoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3N0YXRlO1xyXG4gICAgfVxyXG5cclxuICAgIHNldCBzdGF0ZSh2YWx1ZSkge1xyXG4gICAgICAgIHRoaXMuX3N0YXRlID0gdmFsdWU7XHJcbiAgICAgICAgaWYgKHZhbHVlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaW5DbHNbdGhpcy5hbmltYXRlQ2xzXSA9IGZhbHNlO1xyXG4gICAgICAgICAgICB0aGlzLmluQ2xzWydhbmltYXRlZCddID0gdmFsdWU7XHJcbiAgICAgICAgICAgIHRoaXMuaW5DbHNbdGhpcy5vdXRDbHNdID0gdmFsdWU7XHJcbiAgICAgICAgICAgIC8vIHRoaXMubmdab25lLnJ1bk91dHNpZGVBbmd1bGFyKCgpID0+IHtcclxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2xvc2UubmV4dCh0aGlzLnRvYXN0KTtcclxuICAgICAgICAgICAgICAgIH0sIDIwMCk7XHJcbiAgICAgICAgICAgIC8vIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIG5nWm9uZTogTmdab25lKSB7IH1cclxuXHJcbiAgICBuZ09uSW5pdCgpIHtcclxuICAgIH1cclxuXHJcbiAgICBuZ09uQ2hhbmdlcyhjaGFuZ2VzOiBTaW1wbGVDaGFuZ2VzKSB7XHJcbiAgICAgICAgdGhpcy5nZXRBbmltYXRlQ2xzKGNoYW5nZXMuYW5pbWF0ZUNscy5jdXJyZW50VmFsdWUpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldEFuaW1hdGVDbHMoY2xzPzogYW55KSB7XHJcbiAgICAgICAgY2xzID0gY2xzIHx8ICdib3VuY2VJblJpZ2h0JztcclxuICAgICAgICAvLyB0aGlzLm91dENscyA9ICdib3VuY2VPdXQnICsgY2xzLnN1YnN0cig4KTtcclxuICAgICAgICAvLyBzd2l0Y2ggKGNscy5zdWJzdHIoOCkpIHtcclxuICAgICAgICAvLyAgICAgY2FzZSAnVXAnOlxyXG4gICAgICAgIC8vICAgICAgICAgdGhpcy5vdXRDbHMgPSAnYm91bmNlT3V0RG93bic7XHJcbiAgICAgICAgLy8gICAgICAgICBicmVhaztcclxuICAgICAgICAvLyAgICAgY2FzZSAnRG93bic6XHJcbiAgICAgICAgLy8gICAgICAgICB0aGlzLm91dENscyA9ICdib3VuY2VPdXRVcCc7XHJcbiAgICAgICAgLy8gICAgICAgICBicmVhaztcclxuICAgICAgICAvLyB9XHJcblxyXG4gICAgICAgIHRoaXMub3V0Q2xzID0gJ2ZhZGVPdXQnO1xyXG5cclxuICAgICAgICAvLyBvdXRDbHMgKz0gdG1wO1xyXG5cclxuICAgICAgICB0aGlzLmluQ2xzID0ge1xyXG4gICAgICAgICAgICBbdGhpcy50b2FzdC50eXBlXTogdHJ1ZSxcclxuICAgICAgICAgICAgW3RoaXMudG9hc3QudGhlbWVdOiB0cnVlLFxyXG4gICAgICAgICAgICAnYW5pbWF0ZWQnOiBmYWxzZSxcclxuICAgICAgICAgICAgW2Nsc106IHRydWUsXHJcbiAgICAgICAgICAgIFt0aGlzLm91dENsc106IHRoaXMuc3RhdGVcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIGNsb3NlVG9hc3QoZXZlbnQ6IGFueSkge1xyXG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHRydWU7XHJcbiAgICB9XHJcbiAgICBnZXRQdXJUeXBlKCk6IHN0cmluZyB7XHJcbiAgICAgICAgaWYgKHRoaXMudG9hc3QgJiYgdGhpcy50b2FzdC50eXBlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAnZi1pY29uLScgKyB0aGlzLnRvYXN0LnR5cGUucmVwbGFjZSgndG9hc3R5LXR5cGUtJywgJycpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gJ2YtaWNvbi1kZWZhdWx0JztcclxuICAgIH1cclxufVxyXG4iXX0=