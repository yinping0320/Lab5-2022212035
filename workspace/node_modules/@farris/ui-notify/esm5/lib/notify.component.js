/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { Component, Input, Output, EventEmitter, ViewChild, ElementRef, NgZone } from '@angular/core';
import { NotifyData } from './notifiy.options';
var NotifyComponent = /** @class */ (function () {
    function NotifyComponent(ngZone) {
        this.ngZone = ngZone;
        this.close = new EventEmitter();
        this._state = false;
        this.outCls = '';
        this.inCls = {};
    }
    Object.defineProperty(NotifyComponent.prototype, "state", {
        get: /**
         * @return {?}
         */
        function () {
            return this._state;
        },
        set: /**
         * @param {?} value
         * @return {?}
         */
        function (value) {
            var _this = this;
            this._state = value;
            if (value) {
                this.inCls[this.animateCls] = false;
                this.inCls['animated'] = value;
                this.inCls[this.outCls] = value;
                // this.ngZone.runOutsideAngular(() => {
                setTimeout((/**
                 * @return {?}
                 */
                function () {
                    _this.close.next(_this.toast);
                }), 200);
                // });
            }
        },
        enumerable: true,
        configurable: true
    });
    /**
     * @return {?}
     */
    NotifyComponent.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
    };
    /**
     * @param {?} changes
     * @return {?}
     */
    NotifyComponent.prototype.ngOnChanges = /**
     * @param {?} changes
     * @return {?}
     */
    function (changes) {
        this.getAnimateCls(changes.animateCls.currentValue);
    };
    /**
     * @param {?=} cls
     * @return {?}
     */
    NotifyComponent.prototype.getAnimateCls = /**
     * @param {?=} cls
     * @return {?}
     */
    function (cls) {
        var _a;
        cls = cls || 'bounceInRight';
        // this.outCls = 'bounceOut' + cls.substr(8);
        // switch (cls.substr(8)) {
        //     case 'Up':
        //         this.outCls = 'bounceOutDown';
        //         break;
        //     case 'Down':
        //         this.outCls = 'bounceOutUp';
        //         break;
        // }
        this.outCls = 'fadeOut';
        // outCls += tmp;
        this.inCls = (_a = {},
            _a[this.toast.type] = true,
            _a[this.toast.theme] = true,
            _a['animated'] = false,
            _a[cls] = true,
            _a[this.outCls] = this.state,
            _a);
    };
    /**
     * @param {?} event
     * @return {?}
     */
    NotifyComponent.prototype.closeToast = /**
     * @param {?} event
     * @return {?}
     */
    function (event) {
        event.preventDefault();
        this.state = true;
    };
    /**
     * @return {?}
     */
    NotifyComponent.prototype.getPurType = /**
     * @return {?}
     */
    function () {
        if (this.toast && this.toast.type) {
            return 'f-icon-' + this.toast.type.replace('toasty-type-', '');
        }
        return 'f-icon-default';
    };
    NotifyComponent.decorators = [
        { type: Component, args: [{
                    selector: 'farris-notify',
                    template: "\n        <div #notifyDiv class=\"toast\" [ngClass]=\"inCls\">\n            <button *ngIf=\"toast.showClose\" class=\"toast-close f-btn-icon f-bare\" (click)=\"closeToast($event)\">\n                <span class=\"f-icon modal_close\"></span>\n            </button>\n            <section class=\"modal-tips\"  *ngIf=\"toast.title || toast.msg\">\n                <div class=\"float-left modal-tips-iconwrap\">\n                    <span class=\"f-icon\" [ngClass]=\" getPurType()\"></span>\n                </div>\n                <div class=\"modal-tips-content\">\n                    <ng-container *ngIf=\"toast.title&&toast.msg\">\n                        <h5 class=\"toast-title modal-tips-title\" [innerHTML]=\"toast.title | safe: 'html'\"></h5>\n                        <p class=\"toast-msg\" [innerHtml]=\"toast.msg | safe:'html'\"></p>\n                    </ng-container>\n                    <ng-container *ngIf=\"!toast.title&&toast.msg\">\n                     <h5 class=\"toast-title modal-tips-title only-toast-msg\" [innerHtml]=\"toast.msg | safe:'html'\"></h5>\n                    </ng-container>\n                </div>\n            </section>\n        </div>\n    ",
                    styles: ["\n            @-webkit-keyframes farrisMoveUpIn {\n                0% {\n                    transform: translateY(-100%);\n                    transform-origin: 0 0;\n                    opacity: 0\n                }\n            \n                100% {\n                    transform: translateY(0);\n                    transform-origin: 0 0;\n                    opacity: 1\n                }\n            }\n            @keyframes farrisMoveUpIn {\n                0% {\n                    transform: translateY(-100%);\n                    transform-origin: 0 0;\n                    opacity: 0\n                }\n            \n                100% {\n                    transform: translateY(0);\n                    transform-origin: 0 0;\n                    opacity: 1\n                }\n            }\n            @-webkit-keyframes farrisMoveUpOut {\n                0% {\n                    transform: translateY(0);\n                    transform-origin: 0 0;\n                    opacity: 1\n                }\n            \n                100% {\n                    transform: translateY(-100%);\n                    transform-origin: 0 0;\n                    opacity: 0\n                }\n            }\n            @keyframes farrisMoveUpOut {\n                0% {\n                    transform: translateY(0);\n                    transform-origin: 0 0;\n                    opacity: 1\n                }\n            \n                100% {\n                    transform: translateY(-100%);\n                    transform-origin: 0 0;\n                    opacity: 0\n                }\n            }\n            .toast.fadeIn {\n                -webkit-animation: farrisMoveUpIn 0.2s linear;\n                animation: farrisMoveUpIn 0.2s linear;\n            }\n            .toast.fadeOut {\n                -webkit-animation: farrisMoveUpOut 0.2s linear;\n                animation: farrisMoveUpOut 0.2s linear;\n            }\n        "]
                }] }
    ];
    /** @nocollapse */
    NotifyComponent.ctorParameters = function () { return [
        { type: NgZone }
    ]; };
    NotifyComponent.propDecorators = {
        toast: [{ type: Input }],
        close: [{ type: Output }],
        notifyDiv: [{ type: ViewChild, args: ['notifyDiv',] }],
        animateCls: [{ type: Input }]
    };
    return NotifyComponent;
}());
export { NotifyComponent };
if (false) {
    /** @type {?} */
    NotifyComponent.prototype.toast;
    /** @type {?} */
    NotifyComponent.prototype.close;
    /** @type {?} */
    NotifyComponent.prototype.notifyDiv;
    /** @type {?} */
    NotifyComponent.prototype._state;
    /** @type {?} */
    NotifyComponent.prototype.animateCls;
    /** @type {?} */
    NotifyComponent.prototype.outCls;
    /** @type {?} */
    NotifyComponent.prototype.inCls;
    /**
     * @type {?}
     * @private
     */
    NotifyComponent.prototype.ngZone;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibm90aWZ5LmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiJuZzovL0BmYXJyaXMvdWktbm90aWZ5LyIsInNvdXJjZXMiOlsibGliL25vdGlmeS5jb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7OztBQUFBLE9BQU8sRUFDSCxTQUFTLEVBR1QsS0FBSyxFQUNMLE1BQU0sRUFDTixZQUFZLEVBQ1osU0FBUyxFQUNULFVBQVUsRUFFVixNQUFNLEVBQ1QsTUFBTSxlQUFlLENBQUM7QUFDdkIsT0FBTyxFQUFFLFVBQVUsRUFBRSxNQUFNLG1CQUFtQixDQUFDO0FBRS9DO0lBb0hJLHlCQUFvQixNQUFjO1FBQWQsV0FBTSxHQUFOLE1BQU0sQ0FBUTtRQTFCeEIsVUFBSyxHQUFHLElBQUksWUFBWSxFQUFFLENBQUM7UUFHckMsV0FBTSxHQUFHLEtBQUssQ0FBQztRQUVmLFdBQU0sR0FBRyxFQUFFLENBQUM7UUFDWixVQUFLLEdBQUcsRUFBRSxDQUFDO0lBb0IyQixDQUFDO0lBbEJ2QyxzQkFBSSxrQ0FBSzs7OztRQUFUO1lBQ0ksT0FBTyxJQUFJLENBQUMsTUFBTSxDQUFDO1FBQ3ZCLENBQUM7Ozs7O1FBRUQsVUFBVSxLQUFLO1lBQWYsaUJBWUM7WUFYRyxJQUFJLENBQUMsTUFBTSxHQUFHLEtBQUssQ0FBQztZQUNwQixJQUFJLEtBQUssRUFBRTtnQkFDUCxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsR0FBRyxLQUFLLENBQUM7Z0JBQ3BDLElBQUksQ0FBQyxLQUFLLENBQUMsVUFBVSxDQUFDLEdBQUcsS0FBSyxDQUFDO2dCQUMvQixJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsR0FBRyxLQUFLLENBQUM7Z0JBQ2hDLHdDQUF3QztnQkFDcEMsVUFBVTs7O2dCQUFDO29CQUNQLEtBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLEtBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztnQkFDaEMsQ0FBQyxHQUFFLEdBQUcsQ0FBQyxDQUFDO2dCQUNaLE1BQU07YUFDVDtRQUNMLENBQUM7OztPQWRBOzs7O0lBa0JELGtDQUFROzs7SUFBUjtJQUNBLENBQUM7Ozs7O0lBRUQscUNBQVc7Ozs7SUFBWCxVQUFZLE9BQXNCO1FBQzlCLElBQUksQ0FBQyxhQUFhLENBQUMsT0FBTyxDQUFDLFVBQVUsQ0FBQyxZQUFZLENBQUMsQ0FBQztJQUN4RCxDQUFDOzs7OztJQUVELHVDQUFhOzs7O0lBQWIsVUFBYyxHQUFTOztRQUNuQixHQUFHLEdBQUcsR0FBRyxJQUFJLGVBQWUsQ0FBQztRQUM3Qiw2Q0FBNkM7UUFDN0MsMkJBQTJCO1FBQzNCLGlCQUFpQjtRQUNqQix5Q0FBeUM7UUFDekMsaUJBQWlCO1FBQ2pCLG1CQUFtQjtRQUNuQix1Q0FBdUM7UUFDdkMsaUJBQWlCO1FBQ2pCLElBQUk7UUFFSixJQUFJLENBQUMsTUFBTSxHQUFHLFNBQVMsQ0FBQztRQUV4QixpQkFBaUI7UUFFakIsSUFBSSxDQUFDLEtBQUs7WUFDTixHQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxJQUFHLElBQUk7WUFDdkIsR0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUssSUFBRyxJQUFJO1lBQ3hCLGNBQVUsR0FBRSxLQUFLO1lBQ2pCLEdBQUMsR0FBRyxJQUFHLElBQUk7WUFDWCxHQUFDLElBQUksQ0FBQyxNQUFNLElBQUcsSUFBSSxDQUFDLEtBQUs7ZUFDNUIsQ0FBQztJQUNOLENBQUM7Ozs7O0lBRUQsb0NBQVU7Ozs7SUFBVixVQUFXLEtBQVU7UUFDakIsS0FBSyxDQUFDLGNBQWMsRUFBRSxDQUFDO1FBQ3ZCLElBQUksQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDO0lBQ3RCLENBQUM7Ozs7SUFDRCxvQ0FBVTs7O0lBQVY7UUFDSSxJQUFJLElBQUksQ0FBQyxLQUFLLElBQUksSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLEVBQUU7WUFDL0IsT0FBTyxTQUFTLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLGNBQWMsRUFBRSxFQUFFLENBQUMsQ0FBQztTQUNsRTtRQUNELE9BQU8sZ0JBQWdCLENBQUM7SUFDNUIsQ0FBQzs7Z0JBL0pKLFNBQVMsU0FBQztvQkFDUCxRQUFRLEVBQUUsZUFBZTtvQkFDekIsUUFBUSxFQUFFLGlxQ0FvQlQ7NkJBRUcseTdEQTZEQztpQkFFUjs7OztnQkEzRkcsTUFBTTs7O3dCQTZGTCxLQUFLO3dCQUNMLE1BQU07NEJBQ04sU0FBUyxTQUFDLFdBQVc7NkJBR3JCLEtBQUs7O0lBa0VWLHNCQUFDO0NBQUEsQUFoS0QsSUFnS0M7U0F4RVksZUFBZTs7O0lBQ3hCLGdDQUEyQjs7SUFDM0IsZ0NBQXFDOztJQUNyQyxvQ0FBOEM7O0lBRTlDLGlDQUFlOztJQUNmLHFDQUE0Qjs7SUFDNUIsaUNBQVk7O0lBQ1osZ0NBQVc7Ozs7O0lBb0JDLGlDQUFzQiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XHJcbiAgICBDb21wb25lbnQsXHJcbiAgICBPbkluaXQsXHJcbiAgICBPbkNoYW5nZXMsXHJcbiAgICBJbnB1dCxcclxuICAgIE91dHB1dCxcclxuICAgIEV2ZW50RW1pdHRlcixcclxuICAgIFZpZXdDaGlsZCxcclxuICAgIEVsZW1lbnRSZWYsXHJcbiAgICBTaW1wbGVDaGFuZ2VzLFxyXG4gICAgTmdab25lXHJcbn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcbmltcG9ydCB7IE5vdGlmeURhdGEgfSBmcm9tICcuL25vdGlmaXkub3B0aW9ucyc7XHJcblxyXG5AQ29tcG9uZW50KHtcclxuICAgIHNlbGVjdG9yOiAnZmFycmlzLW5vdGlmeScsXHJcbiAgICB0ZW1wbGF0ZTogYFxyXG4gICAgICAgIDxkaXYgI25vdGlmeURpdiBjbGFzcz1cInRvYXN0XCIgW25nQ2xhc3NdPVwiaW5DbHNcIj5cclxuICAgICAgICAgICAgPGJ1dHRvbiAqbmdJZj1cInRvYXN0LnNob3dDbG9zZVwiIGNsYXNzPVwidG9hc3QtY2xvc2UgZi1idG4taWNvbiBmLWJhcmVcIiAoY2xpY2spPVwiY2xvc2VUb2FzdCgkZXZlbnQpXCI+XHJcbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImYtaWNvbiBtb2RhbF9jbG9zZVwiPjwvc3Bhbj5cclxuICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgIDxzZWN0aW9uIGNsYXNzPVwibW9kYWwtdGlwc1wiICAqbmdJZj1cInRvYXN0LnRpdGxlIHx8IHRvYXN0Lm1zZ1wiPlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZsb2F0LWxlZnQgbW9kYWwtdGlwcy1pY29ud3JhcFwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZi1pY29uXCIgW25nQ2xhc3NdPVwiIGdldFB1clR5cGUoKVwiPjwvc3Bhbj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1vZGFsLXRpcHMtY29udGVudFwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxuZy1jb250YWluZXIgKm5nSWY9XCJ0b2FzdC50aXRsZSYmdG9hc3QubXNnXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxoNSBjbGFzcz1cInRvYXN0LXRpdGxlIG1vZGFsLXRpcHMtdGl0bGVcIiBbaW5uZXJIVE1MXT1cInRvYXN0LnRpdGxlIHwgc2FmZTogJ2h0bWwnXCI+PC9oNT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3M9XCJ0b2FzdC1tc2dcIiBbaW5uZXJIdG1sXT1cInRvYXN0Lm1zZyB8IHNhZmU6J2h0bWwnXCI+PC9wPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvbmctY29udGFpbmVyPlxyXG4gICAgICAgICAgICAgICAgICAgIDxuZy1jb250YWluZXIgKm5nSWY9XCIhdG9hc3QudGl0bGUmJnRvYXN0Lm1zZ1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICA8aDUgY2xhc3M9XCJ0b2FzdC10aXRsZSBtb2RhbC10aXBzLXRpdGxlIG9ubHktdG9hc3QtbXNnXCIgW2lubmVySHRtbF09XCJ0b2FzdC5tc2cgfCBzYWZlOidodG1sJ1wiPjwvaDU+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9uZy1jb250YWluZXI+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9zZWN0aW9uPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgYCxcclxuICAgIHN0eWxlczogW1xyXG4gICAgICAgIGBcclxuICAgICAgICAgICAgQC13ZWJraXQta2V5ZnJhbWVzIGZhcnJpc01vdmVVcEluIHtcclxuICAgICAgICAgICAgICAgIDAlIHtcclxuICAgICAgICAgICAgICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTEwMCUpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybS1vcmlnaW46IDAgMDtcclxuICAgICAgICAgICAgICAgICAgICBvcGFjaXR5OiAwXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgMTAwJSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKDApO1xyXG4gICAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybS1vcmlnaW46IDAgMDtcclxuICAgICAgICAgICAgICAgICAgICBvcGFjaXR5OiAxXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgQGtleWZyYW1lcyBmYXJyaXNNb3ZlVXBJbiB7XHJcbiAgICAgICAgICAgICAgICAwJSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC0xMDAlKTtcclxuICAgICAgICAgICAgICAgICAgICB0cmFuc2Zvcm0tb3JpZ2luOiAwIDA7XHJcbiAgICAgICAgICAgICAgICAgICAgb3BhY2l0eTogMFxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIDEwMCUge1xyXG4gICAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgwKTtcclxuICAgICAgICAgICAgICAgICAgICB0cmFuc2Zvcm0tb3JpZ2luOiAwIDA7XHJcbiAgICAgICAgICAgICAgICAgICAgb3BhY2l0eTogMVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIEAtd2Via2l0LWtleWZyYW1lcyBmYXJyaXNNb3ZlVXBPdXQge1xyXG4gICAgICAgICAgICAgICAgMCUge1xyXG4gICAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgwKTtcclxuICAgICAgICAgICAgICAgICAgICB0cmFuc2Zvcm0tb3JpZ2luOiAwIDA7XHJcbiAgICAgICAgICAgICAgICAgICAgb3BhY2l0eTogMVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIDEwMCUge1xyXG4gICAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtMTAwJSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNmb3JtLW9yaWdpbjogMCAwO1xyXG4gICAgICAgICAgICAgICAgICAgIG9wYWNpdHk6IDBcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBAa2V5ZnJhbWVzIGZhcnJpc01vdmVVcE91dCB7XHJcbiAgICAgICAgICAgICAgICAwJSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKDApO1xyXG4gICAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybS1vcmlnaW46IDAgMDtcclxuICAgICAgICAgICAgICAgICAgICBvcGFjaXR5OiAxXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgMTAwJSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC0xMDAlKTtcclxuICAgICAgICAgICAgICAgICAgICB0cmFuc2Zvcm0tb3JpZ2luOiAwIDA7XHJcbiAgICAgICAgICAgICAgICAgICAgb3BhY2l0eTogMFxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC50b2FzdC5mYWRlSW4ge1xyXG4gICAgICAgICAgICAgICAgLXdlYmtpdC1hbmltYXRpb246IGZhcnJpc01vdmVVcEluIDAuMnMgbGluZWFyO1xyXG4gICAgICAgICAgICAgICAgYW5pbWF0aW9uOiBmYXJyaXNNb3ZlVXBJbiAwLjJzIGxpbmVhcjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAudG9hc3QuZmFkZU91dCB7XHJcbiAgICAgICAgICAgICAgICAtd2Via2l0LWFuaW1hdGlvbjogZmFycmlzTW92ZVVwT3V0IDAuMnMgbGluZWFyO1xyXG4gICAgICAgICAgICAgICAgYW5pbWF0aW9uOiBmYXJyaXNNb3ZlVXBPdXQgMC4ycyBsaW5lYXI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICBgXHJcbiAgICBdXHJcbn0pXHJcbmV4cG9ydCBjbGFzcyBOb3RpZnlDb21wb25lbnQgaW1wbGVtZW50cyBPbkluaXQsIE9uQ2hhbmdlcyB7XHJcbiAgICBASW5wdXQoKSB0b2FzdDogTm90aWZ5RGF0YTtcclxuICAgIEBPdXRwdXQoKSBjbG9zZSA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcclxuICAgIEBWaWV3Q2hpbGQoJ25vdGlmeURpdicpIG5vdGlmeURpdjogRWxlbWVudFJlZjtcclxuXHJcbiAgICBfc3RhdGUgPSBmYWxzZTtcclxuICAgIEBJbnB1dCgpIGFuaW1hdGVDbHM6IHN0cmluZztcclxuICAgIG91dENscyA9ICcnO1xyXG4gICAgaW5DbHMgPSB7fTtcclxuXHJcbiAgICBnZXQgc3RhdGUoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3N0YXRlO1xyXG4gICAgfVxyXG5cclxuICAgIHNldCBzdGF0ZSh2YWx1ZSkge1xyXG4gICAgICAgIHRoaXMuX3N0YXRlID0gdmFsdWU7XHJcbiAgICAgICAgaWYgKHZhbHVlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaW5DbHNbdGhpcy5hbmltYXRlQ2xzXSA9IGZhbHNlO1xyXG4gICAgICAgICAgICB0aGlzLmluQ2xzWydhbmltYXRlZCddID0gdmFsdWU7XHJcbiAgICAgICAgICAgIHRoaXMuaW5DbHNbdGhpcy5vdXRDbHNdID0gdmFsdWU7XHJcbiAgICAgICAgICAgIC8vIHRoaXMubmdab25lLnJ1bk91dHNpZGVBbmd1bGFyKCgpID0+IHtcclxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2xvc2UubmV4dCh0aGlzLnRvYXN0KTtcclxuICAgICAgICAgICAgICAgIH0sIDIwMCk7XHJcbiAgICAgICAgICAgIC8vIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIG5nWm9uZTogTmdab25lKSB7IH1cclxuXHJcbiAgICBuZ09uSW5pdCgpIHtcclxuICAgIH1cclxuXHJcbiAgICBuZ09uQ2hhbmdlcyhjaGFuZ2VzOiBTaW1wbGVDaGFuZ2VzKSB7XHJcbiAgICAgICAgdGhpcy5nZXRBbmltYXRlQ2xzKGNoYW5nZXMuYW5pbWF0ZUNscy5jdXJyZW50VmFsdWUpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldEFuaW1hdGVDbHMoY2xzPzogYW55KSB7XHJcbiAgICAgICAgY2xzID0gY2xzIHx8ICdib3VuY2VJblJpZ2h0JztcclxuICAgICAgICAvLyB0aGlzLm91dENscyA9ICdib3VuY2VPdXQnICsgY2xzLnN1YnN0cig4KTtcclxuICAgICAgICAvLyBzd2l0Y2ggKGNscy5zdWJzdHIoOCkpIHtcclxuICAgICAgICAvLyAgICAgY2FzZSAnVXAnOlxyXG4gICAgICAgIC8vICAgICAgICAgdGhpcy5vdXRDbHMgPSAnYm91bmNlT3V0RG93bic7XHJcbiAgICAgICAgLy8gICAgICAgICBicmVhaztcclxuICAgICAgICAvLyAgICAgY2FzZSAnRG93bic6XHJcbiAgICAgICAgLy8gICAgICAgICB0aGlzLm91dENscyA9ICdib3VuY2VPdXRVcCc7XHJcbiAgICAgICAgLy8gICAgICAgICBicmVhaztcclxuICAgICAgICAvLyB9XHJcblxyXG4gICAgICAgIHRoaXMub3V0Q2xzID0gJ2ZhZGVPdXQnO1xyXG5cclxuICAgICAgICAvLyBvdXRDbHMgKz0gdG1wO1xyXG5cclxuICAgICAgICB0aGlzLmluQ2xzID0ge1xyXG4gICAgICAgICAgICBbdGhpcy50b2FzdC50eXBlXTogdHJ1ZSxcclxuICAgICAgICAgICAgW3RoaXMudG9hc3QudGhlbWVdOiB0cnVlLFxyXG4gICAgICAgICAgICAnYW5pbWF0ZWQnOiBmYWxzZSxcclxuICAgICAgICAgICAgW2Nsc106IHRydWUsXHJcbiAgICAgICAgICAgIFt0aGlzLm91dENsc106IHRoaXMuc3RhdGVcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIGNsb3NlVG9hc3QoZXZlbnQ6IGFueSkge1xyXG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHRydWU7XHJcbiAgICB9XHJcbiAgICBnZXRQdXJUeXBlKCk6IHN0cmluZyB7XHJcbiAgICAgICAgaWYgKHRoaXMudG9hc3QgJiYgdGhpcy50b2FzdC50eXBlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAnZi1pY29uLScgKyB0aGlzLnRvYXN0LnR5cGUucmVwbGFjZSgndG9hc3R5LXR5cGUtJywgJycpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gJ2YtaWNvbi1kZWZhdWx0JztcclxuICAgIH1cclxufVxyXG4iXX0=