{"version":3,"file":"farris-approval-comments.js.map","sources":["ng://@farris/approval-comments/utils/api.service.ts","ng://@farris/approval-comments/utils/common.tool.ts","ng://@farris/approval-comments/utils/domain.entity.ts","ng://@farris/approval-comments/lib/approval-comment-editor/approval-comment-editor.component.ts","ng://@farris/approval-comments/entity/approval-comments.ts","ng://@farris/approval-comments/lib/approval-comments.component.ts","ng://@farris/approval-comments/lib/approval-comments.module.ts"],"sourcesContent":["import { HttpClient, HttpHeaders } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\n\r\n@Injectable()\r\nexport class ApiService {\r\n\r\n  baseURL: string;\r\n  constructor(\r\n    private http: HttpClient\r\n  ) { }\r\n\r\n    demoapi(param) {\r\n        const options = {\r\n            headers: new HttpHeaders({\r\n                'Content-Type': 'application/json',\r\n            }),\r\n        };\r\n        return this.http.post(this.baseURL + '/path', param, options);\r\n    }\r\n\r\n    // 获取审批意见接口\r\n    getApprovalCommentApi(param): Observable<any> {\r\n        const options = {\r\n            headers: new HttpHeaders({\r\n                'Content-Type': 'application/json',\r\n            }),\r\n        };\r\n        // this.baseURL = '/api/dev/nocode/v1.0/micro-apps/getworkitemlogs';\r\n        this.baseURL = '/api/no/code/runtime/v1.0/getworkitemlogs';\r\n        return this.http.post(this.baseURL, param, options);\r\n    }\r\n\r\n    // 获取审批节点接口\r\n    getAuditorsByMicroAppId(microAppId: string): Observable<any> {\r\n        const options = {\r\n            headers: new HttpHeaders({\r\n                'Content-Type': 'application/json',\r\n            }),\r\n        };\r\n        this.baseURL = '/api/dev/nocode/v1.0/micro-apps/getauditorsbyappid/' + microAppId;\r\n        return this.http.get(this.baseURL, options);\r\n    }\r\n\r\n}\r\n","export class CommonUtil {\r\n    static newGuid() {\r\n        const res = 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\r\n            // tslint:disable-next-line:no-bitwise\r\n            const r = Math.random() * 16 | 0, v = c === 'x' ? r : (r & 0x3 | 0x8);\r\n            return v.toString(16);\r\n        });\r\n        return res;\r\n    }\r\n}\r\n","export class Domain {\r\n    domainId: string = '';\r\n    domainName: string = '';\r\n    domainCode: string = '';\r\n    activityDefinedIds: string = '';\r\n    isFold: boolean = false;\r\n    nameErrorMessage: string;\r\n    activityIdErrorMessage: string;\r\n}\r\n","\r\nimport { ChangeDetectorRef, Component, EventEmitter, OnChanges, OnInit, Output, SimpleChanges } from '@angular/core';\r\nimport { cloneDeep } from 'lodash-es';\r\nimport { ApiService } from '../../utils/api.service';\r\nimport { CommonUtil } from '../../utils/common.tool';\r\nimport { Domain } from '../../utils/domain.entity';\r\n\r\n@Component({\r\n    selector: 'farris-approval-comment-editor',\r\n    templateUrl: './approval-comment-editor.component.html',\r\n    styleUrls: ['./approval-comment-editor.component.css'],\r\n})\r\nexport class ApprovalCommentEditorComponent implements OnInit, OnChanges {\r\n\r\n    /** 集成时传出的数据的规定名submitModal */\r\n    @Output() valueChanged = new EventEmitter<any>();\r\n\r\n    private _elementConfig;\r\n    approvalCommentId: string;\r\n    approvalDomains: Domain[] = new Array<Domain>();\r\n    _approvalDomains: any;\r\n\r\n    get elementConfig() {\r\n        return this._elementConfig;\r\n    }\r\n\r\n    set elementConfig(value) {\r\n        this._elementConfig = value;\r\n    }\r\n\r\n    /** 记录初始入参 */\r\n    originalData: any;\r\n    microAppId: string;\r\n\r\n    activityDefinedIds: string;\r\n    activityOptions = [];\r\n\r\n    constructor(\r\n        private apiService: ApiService,\r\n        private cdRef: ChangeDetectorRef\r\n    ) { }\r\n\r\n    ngOnInit() {\r\n        this.initSetting();\r\n    }\r\n\r\n    ngOnChanges(changes: SimpleChanges): void {\r\n\r\n    }\r\n\r\n    initSetting() {\r\n        if (!this.elementConfig.beforeOpenModal) {\r\n            return;\r\n        }\r\n        const result = this.elementConfig.beforeOpenModal();\r\n        this.microAppId = result.parameters.microAppId;\r\n        this.approvalCommentId = result.parameters.approvalCommentId;\r\n        this.getAuditorsByMicroAppId(this.microAppId);\r\n        this.approvalDomains = result.parameters.domains || [];\r\n        this._approvalDomains = cloneDeep(this.approvalDomains);\r\n        if (!this.approvalDomains.length) {\r\n            this.addDomain();\r\n        }\r\n    }\r\n\r\n    getAuditorsByMicroAppId(microAppId: string) {\r\n        this.apiService.getAuditorsByMicroAppId(microAppId).subscribe(resp => {\r\n            if (resp) {\r\n                const activityDefinedIdList = [];\r\n                [].concat(resp).map(item => {\r\n                    if (item.Id) {\r\n                        activityDefinedIdList.push(\r\n                            {\r\n                                value: item.Id,\r\n                                text: item.Name\r\n                            });\r\n                    }\r\n                });\r\n                this.activityOptions = activityDefinedIdList;\r\n                this.approvalDomains.map(domainData => {\r\n                    if (domainData.activityDefinedIds) {\r\n                        const idArr = domainData.activityDefinedIds.split(',');\r\n                        const _idArr = [...new Set(idArr)];\r\n                        const deleteArr = [];\r\n                        const spareArr = [];\r\n                        _idArr.forEach(item => {\r\n                            if (!!activityDefinedIdList.some(activityDefinedId => item.trim() === activityDefinedId.value)) {\r\n                                spareArr.push(item);\r\n                            } else {\r\n                                deleteArr.push(item);\r\n                            }\r\n                        });\r\n                        if (!this.compareArray1EqualToArray2(_idArr, spareArr)) {\r\n                            domainData.activityIdErrorMessage = `流程设计已变更，请更新审批意见组件绑定节点`;\r\n                            domainData.activityDefinedIds = spareArr.join(',');\r\n                        }\r\n                    }\r\n                });\r\n                this._approvalDomains = cloneDeep(this.approvalDomains);\r\n                this.cdRef.detectChanges();\r\n            }\r\n        }, error => {\r\n\r\n        });\r\n    }\r\n\r\n\r\n    // 新增域\r\n    addDomain(event?: any) {\r\n        const newDomain = new Domain();\r\n        newDomain.domainId = CommonUtil.newGuid();\r\n        let domainCodePrefix = '';\r\n        if (this.approvalCommentId.length > 5) {\r\n            domainCodePrefix = 'ac_' + this.approvalCommentId.slice(this.approvalCommentId.length - 4);\r\n        } else {\r\n            domainCodePrefix = 'ac_' + CommonUtil.newGuid().slice(0, 4);\r\n        }\r\n        const preIndexFix = 1 + this.approvalDomains.length;\r\n        // 这里要增加去重\r\n        newDomain.domainName = '新增域' + preIndexFix;\r\n        newDomain.domainCode = domainCodePrefix + '_domain' + preIndexFix;\r\n        this.approvalDomains.push(newDomain);\r\n        this._approvalDomains = cloneDeep(this.approvalDomains);\r\n        this.valueChanged.next({ $event: null, elementValue: this._approvalDomains });\r\n    }\r\n\r\n    // 删除域\r\n    deleteDomain(event: any, data: Domain) {\r\n        const index = this.approvalDomains.findIndex(item => item.domainId === data.domainId);\r\n        this.approvalDomains.splice(index, 1);\r\n        this.approvalDomains = this.approvalDomains.slice();\r\n        // this.updateApprovalDomainsInDom(this.approvalDomains);\r\n        this._approvalDomains = cloneDeep(this.approvalDomains);\r\n        this.valueChanged.next({ $event: null, elementValue: this._approvalDomains });\r\n    }\r\n\r\n    // 收折域\r\n    foldDomain(event: any, data: Domain) {\r\n        const domainItem = this.approvalDomains.find(item => item.domainId === data.domainId);\r\n        domainItem.isFold = !domainItem.isFold;\r\n    }\r\n\r\n    moveDomain(event: any, index1: number, index2: number) {\r\n        if (index1 < 0 || index2 == this.approvalDomains.length) {\r\n            return;\r\n        }\r\n        this.approvalDomains[index1] = this.approvalDomains.splice(index2, 1, this.approvalDomains[index1])[0];\r\n        this.approvalDomains = this.approvalDomains.slice();\r\n        // this.updateApprovalDomainsInDom(this.approvalDomains);\r\n        this._approvalDomains = cloneDeep(this.approvalDomains);\r\n        this.valueChanged.next({ $event: null, elementValue: this._approvalDomains });\r\n    }\r\n\r\n    // 设置域名称时需要判断是否名称重复\r\n    onDomainNameBlur(domainId: string, domainName: string, index: number) {\r\n        if (!domainName || !domainName.trim()) {\r\n            this.approvalDomains[index].nameErrorMessage = '域名称不能为空！';\r\n            this.cdRef.detectChanges();\r\n            return;\r\n        }\r\n        this.approvalDomains[index].nameErrorMessage = '';\r\n        this.cdRef.detectChanges();\r\n        const domainData = this.approvalDomains.find(data => data.domainId == domainId);\r\n        const targetData = this.approvalDomains.filter(data => data.domainName.trim() == domainData.domainName);\r\n        if (targetData.length > 1) {\r\n            domainData.domainCode = (this._approvalDomains.find(data => data.domainId == domainId) as Domain).domainCode;\r\n            this.approvalDomains[index].nameErrorMessage = '域名称重复，请重新设置!';\r\n            this.cdRef.detectChanges();\r\n        } else {\r\n            this._approvalDomains = cloneDeep(this.approvalDomains);\r\n        }\r\n        this.valueChanged.next({ $event: null, elementValue: this._approvalDomains });\r\n    }\r\n\r\n    // 设置域编号时需要判断是否编号重复\r\n    onDomainCodeBlur(domainId: string) {\r\n        const domainData = this.approvalDomains.find(data => data.domainId == domainId);\r\n        const regex = /^[a-zA-Z_][0-9a-zA-Z_]*$/;\r\n        const isMatch = regex.test(domainData.domainCode);\r\n        if (!isMatch) {\r\n            // this.notifyService.warning('域编号必须以英文字母下划线开头，并且只能由英文字母、数字、下划线组成！');\r\n            return;\r\n        }\r\n        const targetData = this.approvalDomains.filter(data => data.domainCode == domainData.domainCode);\r\n        if (targetData.length > 1) {\r\n            domainData.domainCode = (this._approvalDomains.find(data => data.domainId == domainId) as Domain).domainCode;\r\n            // this.notifyService.warning('域编号重复，请重新设置。');\r\n        } else {\r\n            this._approvalDomains = cloneDeep(this.approvalDomains);\r\n        }\r\n        this.valueChanged.next({ $event: null, elementValue: this._approvalDomains });\r\n    }\r\n\r\n    // 设置流程节点id时不能为空\r\n    onActivityDefinedIdsBlur(domainId: string, activityDefinedIds: string, index: number) {\r\n        if (!activityDefinedIds || !activityDefinedIds.trim()) {\r\n            this.approvalDomains[index].activityIdErrorMessage = '流程节点不能为空！';\r\n            this.cdRef.detectChanges();\r\n            return;\r\n        }\r\n        this.approvalDomains[index].activityIdErrorMessage = '';\r\n        this.cdRef.detectChanges();\r\n        this._approvalDomains = cloneDeep(this.approvalDomains);\r\n        this.valueChanged.next({ $event: null, elementValue: this._approvalDomains });\r\n    }\r\n\r\n    trackByFn(index, item) {\r\n        return item.domainId;\r\n    }\r\n    // 判断两个数组是否相等\r\n    compareArray1EqualToArray2(arr1, arr2) {\r\n        if (arr1.length !== arr2.length) {\r\n            return false;\r\n        }\r\n        for (let i = 0; i < arr1.length; i++) {\r\n            if (arr1[i] !== arr2[i]) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n\r\n}\r\n","import { WorkItemLog } from './workItemLog';\r\n\r\nexport class ApprovalComment {\r\n    title: string;\r\n    workItemLogs: Array<WorkItemLog>;\r\n}\r\n","import { Component, forwardRef, Injector, Input, OnChanges, OnDestroy, OnInit, SimpleChanges } from '@angular/core';\r\nimport { NG_VALUE_ACCESSOR } from '@angular/forms';\r\nimport { Change } from '@farris/devkit';\r\nimport { ApprovalComment } from '../entity/approval-comments';\r\nimport { WorkItemLog } from '../entity/workItemLog';\r\nimport { ApiService } from '../utils/api.service';\r\n\r\nenum DisplayTypes {\r\n    Single = 'single',\r\n    Default = 'default',\r\n    Theme1 = 'theme1'\r\n}\r\n\r\n@Component({\r\n    selector: 'farris-approval-comments',\r\n    templateUrl: './approval-comments.component.html',\r\n    styleUrls: ['./approval-comments.component.css'],\r\n    providers: [\r\n        {\r\n            provide: NG_VALUE_ACCESSOR,\r\n            useExisting: forwardRef(() => ApprovalCommentComponent),\r\n            multi: true\r\n        },\r\n        ApiService,\r\n    ]\r\n})\r\nexport class ApprovalCommentComponent implements OnInit, OnChanges, OnDestroy {\r\n\r\n    /*\r\n    * 要向字段界面靠齐，但是需要兼容在section 直接获取数据\r\n    */\r\n\r\n    /*\r\n    * 审批意见表填 \r\n    */\r\n    @Input() title: string;\r\n    /*\r\n    * 域配置\r\n    */\r\n    @Input() domains = [];\r\n    @Input() procInstId: string;\r\n    @Input() sortOrder: string;\r\n\r\n    /*\r\n    * 绑定的字段\r\n    */\r\n    @Input() field: string;\r\n    /*\r\n    * 绑定字段\r\n    */\r\n    @Input() bindingfield: string;\r\n\r\n    @Input() displayType: DisplayTypes = DisplayTypes.Default;\r\n    @Input() attachmentVisible: boolean = true; // 附件是否可见\r\n    dataList: ApprovalComment[];\r\n    filterAction: string[] = ['Pass', 'Back'];\r\n    AttachUtil: any;\r\n\r\n    DisplayTypes = DisplayTypes;\r\n\r\n\r\n    /*\r\n    * 单条模式下处理\r\n    */\r\n    workItemLogs: Array<Partial<WorkItemLog>>;\r\n\r\n    constructor(\r\n        private apiService: ApiService,\r\n        private injector: Injector,\r\n    ) {\r\n        const rootViewModel = this.injector[\"view\"].component.viewModel;\r\n        rootViewModel.bindingData.changes.subscribe((change: Change) => {\r\n            if (this.displayType === this.DisplayTypes.Single) {\r\n                this.getFieldData(rootViewModel.bindingData.getValue(this.sortPath(this.field)));\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n    ngOnDestroy(): void {\r\n\r\n    }\r\n\r\n    ngOnChanges(changes: SimpleChanges): void {\r\n        if (!this.procInstId) {\r\n            return;\r\n        }\r\n\r\n        if (!!this.dataList) {\r\n            return;\r\n        }\r\n\r\n        if (this.displayType === this.DisplayTypes.Default && this.domains.length) {\r\n            this.getApprovalComment();\r\n        }\r\n\r\n\r\n    }\r\n\r\n    ngOnInit(): void {\r\n\r\n        if (this.displayType === this.DisplayTypes.Single) {\r\n            const rootViewModel = this.injector[\"view\"].component.viewModel;\r\n            this.getFieldData(rootViewModel.bindingData.getValue(this.sortPath(this.field)));\r\n        }\r\n\r\n        const AttachUtil = {\r\n            mergeString: (str, str1) => {\r\n                const min = str.length < str1.length ? str.length : str1.length;\r\n                let res = '';\r\n                let i = 0;\r\n                for (i = 0; i < min; i++) {\r\n                    res += str.substring(i, i + 1);\r\n                    res += str1.substring(i, i + 1);\r\n                }\r\n                res += str.length < str1.length ? str1.substring(i) : str.substring(i);\r\n                return res;\r\n            },\r\n            getToken: (str) => {\r\n                const array = [1, 2, 3];\r\n                if (str.length > 24) {\r\n                    str = str.substring(0, 24);\r\n                }\r\n                const length = Math.floor(str.length / 3);\r\n                const str1 = str.substring(0, length);\r\n                const str2 = str.substring(length, 2 * length);\r\n                const str3 = str.substring(2 * length, 3 * length);\r\n                const randomArray = [];\r\n                let random = Math.ceil(Math.random() * 3);\r\n                randomArray.push(array[random - 1]);\r\n                array.splice(random - 1, 1);\r\n                random = Math.ceil(Math.random() * 2);\r\n                randomArray.push(array[random - 1]);\r\n                array.splice(random - 1, 1);\r\n                randomArray.push(array[0]);\r\n                const timeStamp = Math.round(new Date().getTime() / 1000) + '';\r\n                return (\r\n                    timeStamp.substring(0, 5) +\r\n                    'times' +\r\n                    randomArray[0] +\r\n                    '' +\r\n                    randomArray[1] +\r\n                    '' +\r\n                    randomArray[2] +\r\n                    AttachUtil.switchStr(str1, str2, str3, randomArray[0]) +\r\n                    AttachUtil.switchStr(str1, str2, str3, randomArray[1]) +\r\n                    AttachUtil.switchStr(str1, str2, str3, randomArray[2]) +\r\n                    'times' +\r\n                    timeStamp.substring(5)\r\n                );\r\n            },\r\n            switchStr: (str1, str2, str3, i) => {\r\n                switch (i) {\r\n                    case 1:\r\n                        return str1;\r\n                    case 2:\r\n                        return str2;\r\n                    case 3:\r\n                        return str3;\r\n                }\r\n            }\r\n        };\r\n        this.AttachUtil = AttachUtil;\r\n    }\r\n\r\n    private sortPath(field: string) {\r\n        const pathArry = field.split('_');\r\n        return pathArry.reduce((pre, bindingPath) => {\r\n            pre.push(bindingPath[0].toLowerCase() + bindingPath.substring(1, bindingPath.length))\r\n            return pre;\r\n        }, []);\r\n    }\r\n\r\n    private getFieldData(fieldData) {\r\n        if (!fieldData) {\r\n            return\r\n        }\r\n        try {\r\n            const workItemLogs: Array<Partial<WorkItemLog>> = [];\r\n            const retList: Array<{\r\n                comment: string;\r\n                url?: string;\r\n                operatorName: string;\r\n                operateTime: Date;\r\n                signature: string;\r\n            }> = JSON.parse(fieldData);\r\n            retList.forEach(element => {\r\n                if (element.signature) {\r\n                    element.url = this.getUrl(`{\"id\":\"${element.signature}\"}`, 'taskcentersignature');\r\n                }\r\n                workItemLogs.push({\r\n                    url: element.url,\r\n                    createdTime: element.operateTime,\r\n                    message: element.comment,\r\n                    operatorName: element.operatorName,\r\n                });\r\n            });\r\n            this.workItemLogs = workItemLogs;\r\n        } catch (error) {\r\n            console.error(error)\r\n        }\r\n    }\r\n\r\n    /*\r\n    * 从根据域配置获取审批意见信息\r\n    */\r\n    private getApprovalComment(): void {\r\n        const domainList = this.domains.filter(item => item.domainCode && item.domainName && item.activityDefinedIds);\r\n        const params = {\r\n            processsInstId: this.procInstId,\r\n            domains: domainList\r\n        };\r\n        this.dataList = [];\r\n        this.apiService.getApprovalCommentApi(params).subscribe(resp => {\r\n            if (resp) {\r\n                [].concat(resp).forEach(value => {\r\n                    const data = new ApprovalComment();\r\n                    data.title = value.domainName;\r\n                    let workItemLogs = [];\r\n                    if (value.taskCommentImpl) {\r\n                        if (this.sortOrder === 'time') {\r\n                            workItemLogs = value.taskCommentImpl.sort((a, b) => {\r\n                                return Date.parse(a.operatorTime) - Date.parse(b.operatorTime);\r\n                            });\r\n                        } else {\r\n                            workItemLogs = value.taskCommentImpl;\r\n                        }\r\n                    }\r\n                    // const workItemLogsFilter = workItemLogs.filter(workItem => workItem.action && this.filterAction.indexOf(workItem.action) > -1);\r\n                    const workItemLogsFilter = workItemLogs.filter(workItem => workItem.action && workItem.action !== 'Submit');\r\n                    workItemLogsFilter.map(item => {\r\n                        if (item.signature) {\r\n                            item.url = this.getUrl(item.signature, 'taskcentersignature');\r\n                        }\r\n                        if (item.attachmentRef && item.attachmentRef !== '') {\r\n                            const attachmentInfo = JSON.parse(item.attachmentRef);\r\n                            const attachmentList = [];\r\n                            for (let i = 0; i < attachmentInfo.length; i++) {\r\n                                const info = {\r\n                                    fileName: attachmentInfo[i].fileName,\r\n                                    fileType: this.getFileType(\r\n                                        attachmentInfo[i].fileName\r\n                                    ),\r\n                                    fileSize: attachmentInfo[i].fileSize,\r\n                                    url: this.getDownLoadUrl(\r\n                                        attachmentInfo[i].metadataId,\r\n                                        'wf_attachment'\r\n                                    ),\r\n                                    metadataId: attachmentInfo[i].metadataId,\r\n                                };\r\n                                attachmentList.push(info);\r\n                            }\r\n                            item.attachmentList = attachmentList;\r\n                        }\r\n                    });\r\n                    data.workItemLogs = workItemLogsFilter;\r\n                    this.dataList.push(data);\r\n                });\r\n            }\r\n        }, error => {\r\n\r\n        });\r\n    }\r\n\r\n    /*\r\n    * 获取审批意见附件地址\r\n    */\r\n    private getUrl(signature, rootId) {\r\n        const AttachUtil = {\r\n            mergeString: (str, str1) => {\r\n                const min = str.length < str1.length ? str.length : str1.length;\r\n                let res = '';\r\n                let i = 0;\r\n                for (i = 0; i < min; i++) {\r\n                    res += str.substring(i, i + 1);\r\n                    res += str1.substring(i, i + 1);\r\n                }\r\n                res += str.length < str1.length ? str1.substring(i) : str.substring(i);\r\n                return res;\r\n            },\r\n            getToken: (str) => {\r\n                const array = [1, 2, 3];\r\n                if (str.length > 24) {\r\n                    str = str.substring(0, 24);\r\n                }\r\n                const length = Math.floor(str.length / 3);\r\n                const str1 = str.substring(0, length);\r\n                const str2 = str.substring(length, 2 * length);\r\n                const str3 = str.substring(2 * length, 3 * length);\r\n                const randomArray = [];\r\n                let random = Math.ceil(Math.random() * 3);\r\n                randomArray.push(array[random - 1]);\r\n                array.splice(random - 1, 1);\r\n                random = Math.ceil(Math.random() * 2);\r\n                randomArray.push(array[random - 1]);\r\n                array.splice(random - 1, 1);\r\n                randomArray.push(array[0]);\r\n                const timeStamp = Math.round(new Date().getTime() / 1000) + '';\r\n                return (\r\n                    timeStamp.substring(0, 5) +\r\n                    'times' +\r\n                    randomArray[0] +\r\n                    '' +\r\n                    randomArray[1] +\r\n                    '' +\r\n                    randomArray[2] +\r\n                    AttachUtil.switchStr(str1, str2, str3, randomArray[0]) +\r\n                    AttachUtil.switchStr(str1, str2, str3, randomArray[1]) +\r\n                    AttachUtil.switchStr(str1, str2, str3, randomArray[2]) +\r\n                    'times' +\r\n                    timeStamp.substring(5)\r\n                );\r\n            },\r\n            switchStr: (str1, str2, str3, i) => {\r\n                switch (i) {\r\n                    case 1:\r\n                        return str1;\r\n                    case 2:\r\n                        return str2;\r\n                    case 3:\r\n                        return str3;\r\n                }\r\n            }\r\n        };\r\n\r\n        rootId = rootId || 'default-root';\r\n        const attachId = JSON.parse(signature).id;\r\n        const url = `/api/runtime/dfs/v1.0/doc/filecontent?metadataid=${attachId}&rootid=${rootId}&token=${AttachUtil.getToken(\r\n            AttachUtil.mergeString(attachId, rootId)\r\n        )}`;\r\n        return url;\r\n    }\r\n\r\n    /*\r\n    * 审批日志国际化信息\r\n    */\r\n    translateTask(code) {\r\n        const supportLanguage = ['zh-CHS', 'zh_CHT', 'en'];\r\n        const defaultLang = localStorage.getItem('languageCode');\r\n        let langData;\r\n        const translate = {\r\n            'zh-CHS': {\r\n                logDate: '处理时间',\r\n                processTime: '处理时长',\r\n                message: '办理意见',\r\n                showForecastLog: '显示后续审批人',\r\n                hiddenForecastLog: '隐藏后续审批人',\r\n                terminal: '来自',\r\n                web: '电脑端',\r\n                mobile: '移动端',\r\n                title: '审批记录',\r\n                viewProcess: '查看流程',\r\n                nodeName: '节点名称',\r\n                participant: '办理人',\r\n                receiveTime: '接收时间',\r\n                action: '操作',\r\n                submitTime: '提交时间',\r\n                todo: '待办理',\r\n                done: '已办理',\r\n                submit: '已提交',\r\n                undo: '未到达',\r\n                toAssign: '未指派',\r\n                toRead: '待阅',\r\n                noResolvedUser: '未解析到用户',\r\n                noData: '暂无数据',\r\n                startTime: '接收时间',\r\n                taskRead: '已读',\r\n                taskToRead: '未读',\r\n                taskHandle: '实际操作人',\r\n                toSubmit: '待提交',\r\n                download: '下载',\r\n                view: '查看',\r\n            },\r\n            en: {\r\n                logDate: 'EndTime',\r\n                processTime: 'ProcessTime',\r\n                message: 'Approval opinion',\r\n                showForecastLog: 'show forecast log',\r\n                hiddenForecastLog: 'hide forecast log',\r\n                terminal: 'From',\r\n                web: 'Web',\r\n                mobile: 'Mobile',\r\n                title: 'Logs',\r\n                viewProcess: 'View Process',\r\n                nodeName: 'Node name',\r\n                participant: 'Participant',\r\n                receiveTime: 'Receive time',\r\n                action: 'Action',\r\n                submitTime: 'Submit time',\r\n                todo: 'Todo',\r\n                done: 'Done',\r\n                submit: 'Submit',\r\n                undo: 'Undo',\r\n                toAssign: 'To Assign',\r\n                toRead: 'To Read',\r\n                noResolvedUser: 'No one',\r\n                noData: 'Empty',\r\n                startTime: 'Start time',\r\n                taskRead: 'Read',\r\n                taskToRead: 'To read',\r\n                taskOwner: 'Operator',\r\n                toSubmit: 'To submit',\r\n                download: 'download',\r\n                view: 'view',\r\n            },\r\n            'zh-CHT': {\r\n                logDate: '處理時間',\r\n                processTime: '處理時長',\r\n                message: '辦理意見',\r\n                showForecastLog: '顯示後續審批人',\r\n                hiddenForecastLog: '隱藏後續審批人',\r\n                terminal: '來自',\r\n                web: '電腦端',\r\n                mobile: '移動端',\r\n                title: '審批記錄',\r\n                viewProcess: '查看流程',\r\n                nodeName: '節點名稱',\r\n                participant: '辦理人',\r\n                receiveTime: '接收時間',\r\n                action: '操作',\r\n                submitTime: '提交時間',\r\n                todo: '待辦理',\r\n                done: '已辦理',\r\n                submit: '已提交',\r\n                undo: '未到達',\r\n                toAssign: '未指派',\r\n                toRead: '待閱',\r\n                noResolvedUser: '未解析到用戶',\r\n                noData: '暫無數據',\r\n                startTime: '接收時間',\r\n                taskRead: '已讀',\r\n                taskToRead: '未讀',\r\n                taskHandle: '實際操作人',\r\n                toSubmit: '待提交',\r\n                download: '下載',\r\n                view: '查看',\r\n            },\r\n        };\r\n        if (defaultLang && supportLanguage.includes(defaultLang)) {\r\n            langData = translate[defaultLang];\r\n        } else {\r\n            langData = translate['zh-CHS'];\r\n        }\r\n        return langData[code];\r\n    }\r\n\r\n    /*\r\n    * 获取附件文件类型\r\n    */\r\n    private getFileType(fileName) {\r\n        const pos = fileName.lastIndexOf('.');\r\n        let type = fileName.substring(pos + 1);\r\n        type = type === '' ? 'Default' : type.toLowerCase();\r\n        const docLib = 'doc-docx-htm-html-js-pdf-ppt-pptx-rar-zip-txt-xls-xlsx';\r\n        const videoLib = 'wav-aif-aiff-au-mp1-mp2-mp3-ra-rm-ram-mid-rmi';\r\n        const audioLib = 'avi-rm-rmvb-mpeg-mpg-dat-mov-qt-asf-wm-mp4';\r\n        const imgLib =\r\n            'webp-baibmp-dupcx-tif-gif-jpeg-tga-exif-fpx-svg-psd-cdr-pcd-dxf-ufo-eps-ai-png-hdri-raw-wmf-flic-emf-ico-jpg';\r\n        if (docLib.indexOf(type) >= 0) {\r\n            type = type.toLowerCase();\r\n        } else if (videoLib.indexOf(type) >= 0) {\r\n            type = 'video';\r\n        } else if (audioLib.indexOf(type) >= 0) {\r\n            type = 'audio';\r\n        } else if (imgLib.indexOf(type) >= 0) {\r\n            type = 'picture';\r\n        } else {\r\n            type = 'default';\r\n        }\r\n        return (\r\n            '/platform/runtime/wf/webapp/mobiletaskcenter/assets/accessory/' +\r\n            type +\r\n            '.svg?v=20230316'\r\n        );\r\n    }\r\n\r\n    /*\r\n    * 获取附件下载地址\r\n    */\r\n    private getDownLoadUrl(attachId, rootId) {\r\n        rootId = rootId || 'default-root';\r\n        const ishttps = 'https:' === document.location.protocol ? true : false;\r\n        let url = window.location.host;\r\n        if (ishttps) {\r\n            url = 'https://' + url;\r\n        } else {\r\n            url = 'http://' + url;\r\n        }\r\n        url += `/api/runtime/dfs/v1.0/doc/filecontent?metadataid=${attachId}&rootid=${rootId}&token=${this.AttachUtil.getToken(\r\n            this.AttachUtil.mergeString(attachId, rootId)\r\n        )}`;\r\n        return url;\r\n    }\r\n\r\n    /*\r\n    * 点击下载\r\n    */\r\n    attachmentDownload(downloadUrl: string) {\r\n        window.open(downloadUrl);\r\n    }\r\n\r\n    /**\r\n     * 预览附件\r\n     */\r\n    attachmentPreview(metadataIds) {\r\n        const options = {\r\n            appType: 'app',\r\n            funcId: '',\r\n            tabName: '文档在线预览',\r\n            appId: '6ccb476b-f2ba-df8f-6f47-d37d100c56e2',\r\n            appEntrance: 'docviewertab',\r\n            tabId: new Date().getTime(),\r\n            entityParams: {\r\n                metadataIdList: metadataIds,\r\n                rootId: 'wf_attachment',\r\n                metadataId: null,\r\n                viewOptions: {\r\n                    showHeader: true,\r\n                    showPaging: true,\r\n                    showThumbnails: true,\r\n                    showDownload: true,\r\n                    showSearch: true,\r\n                    showZoom: true,\r\n                    showPrint: true,\r\n                    showSecondaryToolBar: true,\r\n                },\r\n            },\r\n        };\r\n        if ((top as any).gspframeworkService) {\r\n            (top as any).gspframeworkService.rtf.func.openMenu(options);\r\n            top.postMessage('TaskCloseLogDialog', top.document.location.origin);\r\n        }\r\n    }\r\n}\r\n","import { CommonModule } from '@angular/common';\r\nimport { NgModule } from '@angular/core';\r\nimport { ApiService } from '../utils/api.service';\r\n\r\nimport { DragDropModule } from '@angular/cdk/drag-drop';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { FEPageModalModule } from '@farris/extend-page-modal';\r\nimport { ComboListModule } from '@farris/ui-combo-list';\r\nimport { FarrisFormsModule } from '@farris/ui-forms';\r\nimport { InputGroupModule } from '@farris/ui-input-group';\r\nimport { NotifyModule } from '@farris/ui-notify';\r\nimport { RateModule } from '@farris/ui-rate';\r\nimport { SwitchModule } from '@farris/ui-switch';\r\nimport { ApprovalCommentEditorComponent } from './approval-comment-editor/approval-comment-editor.component';\r\nimport { ApprovalCommentComponent } from './approval-comments.component';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    ApprovalCommentComponent,\r\n    ApprovalCommentEditorComponent\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    FarrisFormsModule,\r\n    DragDropModule,\r\n    FEPageModalModule,\r\n    NotifyModule,\r\n    RateModule,\r\n    SwitchModule,\r\n    ComboListModule,\r\n    InputGroupModule\r\n  ],\r\n  exports: [ApprovalCommentComponent, ApprovalCommentEditorComponent],\r\n  entryComponents: [ApprovalCommentComponent, ApprovalCommentEditorComponent],\r\n  providers: [ApiService]\r\n})\r\nexport class ApprovalCommentsModule { }\r\n"],"names":[],"mappings":"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"}
