/**
 * @fileoverview added by tsickle
 * Generated from: lib/approval-comment-editor/approval-comment-editor.component.ts
 * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import * as tslib_1 from "tslib";
import { ChangeDetectorRef, Component, EventEmitter, Output } from '@angular/core';
import { cloneDeep } from 'lodash-es';
import { ApiService } from '../../utils/api.service';
import { CommonUtil } from '../../utils/common.tool';
import { Domain } from '../../utils/domain.entity';
var ApprovalCommentEditorComponent = /** @class */ (function () {
    function ApprovalCommentEditorComponent(apiService, cdRef) {
        this.apiService = apiService;
        this.cdRef = cdRef;
        /**
         * 集成时传出的数据的规定名submitModal
         */
        this.valueChanged = new EventEmitter();
        this.approvalDomains = new Array();
        this.activityOptions = [];
    }
    Object.defineProperty(ApprovalCommentEditorComponent.prototype, "elementConfig", {
        get: /**
         * @return {?}
         */
        function () {
            return this._elementConfig;
        },
        set: /**
         * @param {?} value
         * @return {?}
         */
        function (value) {
            this._elementConfig = value;
        },
        enumerable: true,
        configurable: true
    });
    /**
     * @return {?}
     */
    ApprovalCommentEditorComponent.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
        this.initSetting();
    };
    /**
     * @param {?} changes
     * @return {?}
     */
    ApprovalCommentEditorComponent.prototype.ngOnChanges = /**
     * @param {?} changes
     * @return {?}
     */
    function (changes) {
    };
    /**
     * @return {?}
     */
    ApprovalCommentEditorComponent.prototype.initSetting = /**
     * @return {?}
     */
    function () {
        if (!this.elementConfig.beforeOpenModal) {
            return;
        }
        /** @type {?} */
        var result = this.elementConfig.beforeOpenModal();
        this.microAppId = result.parameters.microAppId;
        this.approvalCommentId = result.parameters.approvalCommentId;
        this.getAuditorsByMicroAppId(this.microAppId);
        this.approvalDomains = result.parameters.domains || [];
        this._approvalDomains = cloneDeep(this.approvalDomains);
        if (!this.approvalDomains.length) {
            this.addDomain();
        }
    };
    /**
     * @param {?} microAppId
     * @return {?}
     */
    ApprovalCommentEditorComponent.prototype.getAuditorsByMicroAppId = /**
     * @param {?} microAppId
     * @return {?}
     */
    function (microAppId) {
        var _this = this;
        this.apiService.getAuditorsByMicroAppId(microAppId).subscribe((/**
         * @param {?} resp
         * @return {?}
         */
        function (resp) {
            if (resp) {
                /** @type {?} */
                var activityDefinedIdList_1 = [];
                [].concat(resp).map((/**
                 * @param {?} item
                 * @return {?}
                 */
                function (item) {
                    if (item.Id) {
                        activityDefinedIdList_1.push({
                            value: item.Id,
                            text: item.Name
                        });
                    }
                }));
                _this.activityOptions = activityDefinedIdList_1;
                _this.approvalDomains.map((/**
                 * @param {?} domainData
                 * @return {?}
                 */
                function (domainData) {
                    if (domainData.activityDefinedIds) {
                        /** @type {?} */
                        var idArr = domainData.activityDefinedIds.split(',');
                        /** @type {?} */
                        var _idArr = tslib_1.__spread(new Set(idArr));
                        /** @type {?} */
                        var deleteArr_1 = [];
                        /** @type {?} */
                        var spareArr_1 = [];
                        _idArr.forEach((/**
                         * @param {?} item
                         * @return {?}
                         */
                        function (item) {
                            if (!!activityDefinedIdList_1.some((/**
                             * @param {?} activityDefinedId
                             * @return {?}
                             */
                            function (activityDefinedId) { return item.trim() === activityDefinedId.value; }))) {
                                spareArr_1.push(item);
                            }
                            else {
                                deleteArr_1.push(item);
                            }
                        }));
                        if (!_this.compareArray1EqualToArray2(_idArr, spareArr_1)) {
                            domainData.activityIdErrorMessage = "\u6D41\u7A0B\u8BBE\u8BA1\u5DF2\u53D8\u66F4\uFF0C\u8BF7\u66F4\u65B0\u5BA1\u6279\u610F\u89C1\u7EC4\u4EF6\u7ED1\u5B9A\u8282\u70B9";
                            domainData.activityDefinedIds = spareArr_1.join(',');
                        }
                    }
                }));
                _this._approvalDomains = cloneDeep(_this.approvalDomains);
                _this.cdRef.detectChanges();
            }
        }), (/**
         * @param {?} error
         * @return {?}
         */
        function (error) {
        }));
    };
    // 新增域
    // 新增域
    /**
     * @param {?=} event
     * @return {?}
     */
    ApprovalCommentEditorComponent.prototype.addDomain = 
    // 新增域
    /**
     * @param {?=} event
     * @return {?}
     */
    function (event) {
        /** @type {?} */
        var newDomain = new Domain();
        newDomain.domainId = CommonUtil.newGuid();
        /** @type {?} */
        var domainCodePrefix = '';
        if (this.approvalCommentId.length > 5) {
            domainCodePrefix = 'ac_' + this.approvalCommentId.slice(this.approvalCommentId.length - 4);
        }
        else {
            domainCodePrefix = 'ac_' + CommonUtil.newGuid().slice(0, 4);
        }
        /** @type {?} */
        var preIndexFix = 1 + this.approvalDomains.length;
        // 这里要增加去重
        newDomain.domainName = '新增域' + preIndexFix;
        newDomain.domainCode = domainCodePrefix + '_domain' + preIndexFix;
        this.approvalDomains.push(newDomain);
        this._approvalDomains = cloneDeep(this.approvalDomains);
        this.valueChanged.next({ $event: null, elementValue: this._approvalDomains });
    };
    // 删除域
    // 删除域
    /**
     * @param {?} event
     * @param {?} data
     * @return {?}
     */
    ApprovalCommentEditorComponent.prototype.deleteDomain = 
    // 删除域
    /**
     * @param {?} event
     * @param {?} data
     * @return {?}
     */
    function (event, data) {
        /** @type {?} */
        var index = this.approvalDomains.findIndex((/**
         * @param {?} item
         * @return {?}
         */
        function (item) { return item.domainId === data.domainId; }));
        this.approvalDomains.splice(index, 1);
        this.approvalDomains = this.approvalDomains.slice();
        // this.updateApprovalDomainsInDom(this.approvalDomains);
        this._approvalDomains = cloneDeep(this.approvalDomains);
        this.valueChanged.next({ $event: null, elementValue: this._approvalDomains });
    };
    // 收折域
    // 收折域
    /**
     * @param {?} event
     * @param {?} data
     * @return {?}
     */
    ApprovalCommentEditorComponent.prototype.foldDomain = 
    // 收折域
    /**
     * @param {?} event
     * @param {?} data
     * @return {?}
     */
    function (event, data) {
        /** @type {?} */
        var domainItem = this.approvalDomains.find((/**
         * @param {?} item
         * @return {?}
         */
        function (item) { return item.domainId === data.domainId; }));
        domainItem.isFold = !domainItem.isFold;
    };
    /**
     * @param {?} event
     * @param {?} index1
     * @param {?} index2
     * @return {?}
     */
    ApprovalCommentEditorComponent.prototype.moveDomain = /**
     * @param {?} event
     * @param {?} index1
     * @param {?} index2
     * @return {?}
     */
    function (event, index1, index2) {
        if (index1 < 0 || index2 == this.approvalDomains.length) {
            return;
        }
        this.approvalDomains[index1] = this.approvalDomains.splice(index2, 1, this.approvalDomains[index1])[0];
        this.approvalDomains = this.approvalDomains.slice();
        // this.updateApprovalDomainsInDom(this.approvalDomains);
        this._approvalDomains = cloneDeep(this.approvalDomains);
        this.valueChanged.next({ $event: null, elementValue: this._approvalDomains });
    };
    // 设置域名称时需要判断是否名称重复
    // 设置域名称时需要判断是否名称重复
    /**
     * @param {?} domainId
     * @param {?} domainName
     * @param {?} index
     * @return {?}
     */
    ApprovalCommentEditorComponent.prototype.onDomainNameBlur = 
    // 设置域名称时需要判断是否名称重复
    /**
     * @param {?} domainId
     * @param {?} domainName
     * @param {?} index
     * @return {?}
     */
    function (domainId, domainName, index) {
        if (!domainName || !domainName.trim()) {
            this.approvalDomains[index].nameErrorMessage = '域名称不能为空！';
            this.cdRef.detectChanges();
            return;
        }
        this.approvalDomains[index].nameErrorMessage = '';
        this.cdRef.detectChanges();
        /** @type {?} */
        var domainData = this.approvalDomains.find((/**
         * @param {?} data
         * @return {?}
         */
        function (data) { return data.domainId == domainId; }));
        /** @type {?} */
        var targetData = this.approvalDomains.filter((/**
         * @param {?} data
         * @return {?}
         */
        function (data) { return data.domainName.trim() == domainData.domainName; }));
        if (targetData.length > 1) {
            domainData.domainCode = ((/** @type {?} */ (this._approvalDomains.find((/**
             * @param {?} data
             * @return {?}
             */
            function (data) { return data.domainId == domainId; }))))).domainCode;
            this.approvalDomains[index].nameErrorMessage = '域名称重复，请重新设置!';
            this.cdRef.detectChanges();
        }
        else {
            this._approvalDomains = cloneDeep(this.approvalDomains);
        }
        this.valueChanged.next({ $event: null, elementValue: this._approvalDomains });
    };
    // 设置域编号时需要判断是否编号重复
    // 设置域编号时需要判断是否编号重复
    /**
     * @param {?} domainId
     * @return {?}
     */
    ApprovalCommentEditorComponent.prototype.onDomainCodeBlur = 
    // 设置域编号时需要判断是否编号重复
    /**
     * @param {?} domainId
     * @return {?}
     */
    function (domainId) {
        /** @type {?} */
        var domainData = this.approvalDomains.find((/**
         * @param {?} data
         * @return {?}
         */
        function (data) { return data.domainId == domainId; }));
        /** @type {?} */
        var regex = /^[a-zA-Z_][0-9a-zA-Z_]*$/;
        /** @type {?} */
        var isMatch = regex.test(domainData.domainCode);
        if (!isMatch) {
            // this.notifyService.warning('域编号必须以英文字母下划线开头，并且只能由英文字母、数字、下划线组成！');
            return;
        }
        /** @type {?} */
        var targetData = this.approvalDomains.filter((/**
         * @param {?} data
         * @return {?}
         */
        function (data) { return data.domainCode == domainData.domainCode; }));
        if (targetData.length > 1) {
            domainData.domainCode = ((/** @type {?} */ (this._approvalDomains.find((/**
             * @param {?} data
             * @return {?}
             */
            function (data) { return data.domainId == domainId; }))))).domainCode;
            // this.notifyService.warning('域编号重复，请重新设置。');
        }
        else {
            this._approvalDomains = cloneDeep(this.approvalDomains);
        }
        this.valueChanged.next({ $event: null, elementValue: this._approvalDomains });
    };
    // 设置流程节点id时不能为空
    // 设置流程节点id时不能为空
    /**
     * @param {?} domainId
     * @param {?} activityDefinedIds
     * @param {?} index
     * @return {?}
     */
    ApprovalCommentEditorComponent.prototype.onActivityDefinedIdsBlur = 
    // 设置流程节点id时不能为空
    /**
     * @param {?} domainId
     * @param {?} activityDefinedIds
     * @param {?} index
     * @return {?}
     */
    function (domainId, activityDefinedIds, index) {
        if (!activityDefinedIds || !activityDefinedIds.trim()) {
            this.approvalDomains[index].activityIdErrorMessage = '流程节点不能为空！';
            this.cdRef.detectChanges();
            return;
        }
        this.approvalDomains[index].activityIdErrorMessage = '';
        this.cdRef.detectChanges();
        this._approvalDomains = cloneDeep(this.approvalDomains);
        this.valueChanged.next({ $event: null, elementValue: this._approvalDomains });
    };
    /**
     * @param {?} index
     * @param {?} item
     * @return {?}
     */
    ApprovalCommentEditorComponent.prototype.trackByFn = /**
     * @param {?} index
     * @param {?} item
     * @return {?}
     */
    function (index, item) {
        return item.domainId;
    };
    // 判断两个数组是否相等
    // 判断两个数组是否相等
    /**
     * @param {?} arr1
     * @param {?} arr2
     * @return {?}
     */
    ApprovalCommentEditorComponent.prototype.compareArray1EqualToArray2 = 
    // 判断两个数组是否相等
    /**
     * @param {?} arr1
     * @param {?} arr2
     * @return {?}
     */
    function (arr1, arr2) {
        if (arr1.length !== arr2.length) {
            return false;
        }
        for (var i = 0; i < arr1.length; i++) {
            if (arr1[i] !== arr2[i]) {
                return false;
            }
        }
        return true;
    };
    ApprovalCommentEditorComponent.decorators = [
        { type: Component, args: [{
                    selector: 'farris-approval-comment-editor',
                    template: "<div class=\"domain-areas\">\r\n    <div style=\"flex-direction: row;flex-wrap: wrap;\">\r\n        <div *ngFor=\"let data of approvalDomains; let i = index; trackBy: trackByFn\">\r\n            <div style=\"margin-top: 5px; border: 1px dashed #ccc;\">\r\n                <div style=\"display: flex; justify-content: space-between\">\r\n                    <div style=\"display: flex; align-items: center; margin: 5px 0 0 10px; height: 30px;\">\r\n                        <div style=\"margin-right: 5px\">\r\n                            <span class=\"f-icon f-icon-col-ascending\"\r\n                                [ngClass]=\"i == 0 ? 'cannotMoveDomain' : 'canMoveDomain'\"\r\n                                (click)=\"moveDomain($event, i - 1, i)\"></span>\r\n                        </div>\r\n                        <div>\r\n                            <span class=\"f-icon f-icon-col-descending\"\r\n                                [ngClass]=\"i == (approvalDomains.length -1) ? 'cannotMoveDomain' : 'canMoveDomain'\"\r\n                                (click)=\"moveDomain($event, i, i + 1)\"></span>\r\n                        </div>\r\n                    </div>\r\n                    <div style=\"display: flex; align-items: center; margin: 5px 10px 0 0; height: 30px;\">\r\n                        <div style=\"margin-right: 5px\">\r\n                            <span class=\"f-icon f-icon-arrow-chevron-down cursor-pointer\"\r\n                                [ngStyle]=\"{'transform': data.isFold ? 'rotate(90deg)' : 'none'}\"\r\n                                (click)=\"foldDomain($event, data)\"></span>\r\n                        </div>\r\n                        <div style=\"margin-left: 5px\">\r\n                            <span class=\"f-icon f-icon-yxs_delete cursor-pointer\"\r\n                                (click)=\"deleteDomain($event, data)\"></span>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"f-form-layout farris-form farris-form-controls-inline\" id=\"data.domainId\">\r\n                    <div class=\"col-12\" style=\"margin-top: 5px\">\r\n                        <div class=\"farris-group-wrap\">\r\n                            <div class=\"form-group farris-form-group\">\r\n                                <label class=\"col-form-label\" title=\"\u57DF\u540D\u79F0\">\r\n                                    <span class=\"farris-label-text\">\u57DF\u540D\u79F0</span>\r\n                                </label>\r\n                                <div class=\"farris-input-wrap\">\r\n                                    <!--<input-group [(ngModel)]=\"data.domainName\" (clear)=\"onDomainNameBlur(data.domainId, data.domainName, i)\"\r\n                                                 (blurHandle)=\"onDomainNameBlur(data.domainId, data.domainName, i)\"></input-group>-->\r\n                                    <div class=\"f-cmp-inputgroup\">\r\n                                        <div class=\"input-group f-state-editable\">\r\n                                            <textarea class=\"form-control f-utils-fill text-left\"\r\n                                                style=\"display: block;overflow: auto\" [(ngModel)]=\"data.domainName\"\r\n                                                (blur)=\"onDomainNameBlur(data.domainId, data.domainName, i)\">\r\n                                                </textarea>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div *ngIf=\"data?.nameErrorMessage\" style=\"margin-top: 4px\">\r\n                                        <div class=\"error-text\">\r\n                                            {{data?.nameErrorMessage}}\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <!-- <div class=\"col-12\" style=\"margin-top: 5px\" *ngIf=\"!data.isFold\">\r\n                        <div class=\"farris-group-wrap\">\r\n                            <div class=\"form-group farris-form-group\">\r\n                                <label class=\"col-form-label\" title=\"\u57DF\u7F16\u53F7\">\r\n                                    <span class=\"farris-label-text\">\u57DF\u7F16\u53F7</span>\r\n                                </label>\r\n                                <div class=\"farris-input-wrap\">\r\n                                    <input-group [(ngModel)]=\"data.domainCode\"\r\n                                                 (blurHandle)=\"onDomainCodeBlur(data.domainId)\"></input-group>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>-->\r\n                    <div class=\"col-12\" style=\"margin-top: 5px\" *ngIf=\"!data.isFold\">\r\n                        <div class=\"farris-group-wrap\">\r\n                            <div class=\"form-group farris-form-group\">\r\n                                <label class=\"col-form-label\" title=\"\u6D41\u7A0B\u8282\u70B9\">\r\n                                    <span class=\"farris-label-text\">\u6D41\u7A0B\u8282\u70B9</span>\r\n                                </label>\r\n                                <div class=\"farris-input-wrap\">\r\n                                    <!-- <input-group [(ngModel)]=\"data.activityDefinedIds\"\r\n                                                 (blurHandle)=\"onActivityDefinedIdsBlur(data.domainId)\"></input-group>-->\r\n                                    <farris-combo-list [(ngModel)]=\"data.activityDefinedIds\" [idField]=\"'value'\"\r\n                                        [textField]=\"'text'\" [data]=\"activityOptions\" [multiSelect]=\"true\"\r\n                                        (ngModelChange)=\"onActivityDefinedIdsBlur(data.domainId, data.activityDefinedIds, i)\"\r\n                                        [editable]=\"false\" [enableClear]=\"false\" [enableCancelSelected]=\"false\">\r\n                                    </farris-combo-list>\r\n                                    <div *ngIf=\"data?.activityIdErrorMessage\" style=\"margin-top: 4px\">\r\n                                        <div class=\"error-text\">\r\n                                            {{data?.activityIdErrorMessage}}\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div style=\"display: flex; justify-content:center;align-items: center; margin-top: 15px;\">\r\n        <input type=\"button\" class=\"btn btn-primary\" value=\"\u65B0\u589E\u57DF\" (click)=\"addDomain($event)\" />\r\n    </div>\r\n</div>",
                    styles: ["@media screen and (min-width:888px){::ng-deep .apporal-comment .farris-form .farris-group-wrap{max-width:38.625rem!important}}.domain-areas .farris-form .farris-group-wrap::after{display:none}.domain-areas .canMoveDomain{cursor:pointer}.domain-areas .cannotMoveDomain{cursor:not-allowed;color:#80808080}.farris-form-controls-inline .farris-group-wrap .col-form-label,.farris-form-inline .col-form-label{width:4rem}.error-text{color:red}"]
                }] }
    ];
    /** @nocollapse */
    ApprovalCommentEditorComponent.ctorParameters = function () { return [
        { type: ApiService },
        { type: ChangeDetectorRef }
    ]; };
    ApprovalCommentEditorComponent.propDecorators = {
        valueChanged: [{ type: Output }]
    };
    return ApprovalCommentEditorComponent;
}());
export { ApprovalCommentEditorComponent };
if (false) {
    /**
     * 集成时传出的数据的规定名submitModal
     * @type {?}
     */
    ApprovalCommentEditorComponent.prototype.valueChanged;
    /**
     * @type {?}
     * @private
     */
    ApprovalCommentEditorComponent.prototype._elementConfig;
    /** @type {?} */
    ApprovalCommentEditorComponent.prototype.approvalCommentId;
    /** @type {?} */
    ApprovalCommentEditorComponent.prototype.approvalDomains;
    /** @type {?} */
    ApprovalCommentEditorComponent.prototype._approvalDomains;
    /**
     * 记录初始入参
     * @type {?}
     */
    ApprovalCommentEditorComponent.prototype.originalData;
    /** @type {?} */
    ApprovalCommentEditorComponent.prototype.microAppId;
    /** @type {?} */
    ApprovalCommentEditorComponent.prototype.activityDefinedIds;
    /** @type {?} */
    ApprovalCommentEditorComponent.prototype.activityOptions;
    /**
     * @type {?}
     * @private
     */
    ApprovalCommentEditorComponent.prototype.apiService;
    /**
     * @type {?}
     * @private
     */
    ApprovalCommentEditorComponent.prototype.cdRef;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXBwcm92YWwtY29tbWVudC1lZGl0b3IuY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6Im5nOi8vQGZhcnJpcy9hcHByb3ZhbC1jb21tZW50cy8iLCJzb3VyY2VzIjpbImxpYi9hcHByb3ZhbC1jb21tZW50LWVkaXRvci9hcHByb3ZhbC1jb21tZW50LWVkaXRvci5jb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQ0EsT0FBTyxFQUFFLGlCQUFpQixFQUFFLFNBQVMsRUFBRSxZQUFZLEVBQXFCLE1BQU0sRUFBaUIsTUFBTSxlQUFlLENBQUM7QUFDckgsT0FBTyxFQUFFLFNBQVMsRUFBRSxNQUFNLFdBQVcsQ0FBQztBQUN0QyxPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0seUJBQXlCLENBQUM7QUFDckQsT0FBTyxFQUFFLFVBQVUsRUFBRSxNQUFNLHlCQUF5QixDQUFDO0FBQ3JELE9BQU8sRUFBRSxNQUFNLEVBQUUsTUFBTSwyQkFBMkIsQ0FBQztBQUVuRDtJQThCSSx3Q0FDWSxVQUFzQixFQUN0QixLQUF3QjtRQUR4QixlQUFVLEdBQVYsVUFBVSxDQUFZO1FBQ3RCLFVBQUssR0FBTCxLQUFLLENBQW1COzs7O1FBeEIxQixpQkFBWSxHQUFHLElBQUksWUFBWSxFQUFPLENBQUM7UUFJakQsb0JBQWUsR0FBYSxJQUFJLEtBQUssRUFBVSxDQUFDO1FBZ0JoRCxvQkFBZSxHQUFHLEVBQUUsQ0FBQztJQUtqQixDQUFDO0lBbEJMLHNCQUFJLHlEQUFhOzs7O1FBQWpCO1lBQ0ksT0FBTyxJQUFJLENBQUMsY0FBYyxDQUFDO1FBQy9CLENBQUM7Ozs7O1FBRUQsVUFBa0IsS0FBSztZQUNuQixJQUFJLENBQUMsY0FBYyxHQUFHLEtBQUssQ0FBQztRQUNoQyxDQUFDOzs7T0FKQTs7OztJQWtCRCxpREFBUTs7O0lBQVI7UUFDSSxJQUFJLENBQUMsV0FBVyxFQUFFLENBQUM7SUFDdkIsQ0FBQzs7Ozs7SUFFRCxvREFBVzs7OztJQUFYLFVBQVksT0FB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WyJcclxuaW1wb3J0IHsgQ2hhbmdlRGV0ZWN0b3JSZWYsIENvbXBvbmVudCwgRXZlbnRFbWl0dGVyLCBPbkNoYW5nZXMsIE9uSW5pdCwgT3V0cHV0LCBTaW1wbGVDaGFuZ2VzIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcbmltcG9ydCB7IGNsb25lRGVlcCB9IGZyb20gJ2xvZGFzaC1lcyc7XHJcbmltcG9ydCB7IEFwaVNlcnZpY2UgfSBmcm9tICcuLi8uLi91dGlscy9hcGkuc2VydmljZSc7XHJcbmltcG9ydCB7IENvbW1vblV0aWwgfSBmcm9tICcuLi8uLi91dGlscy9jb21tb24udG9vbCc7XHJcbmltcG9ydCB7IERvbWFpbiB9IGZyb20gJy4uLy4uL3V0aWxzL2RvbWFpbi5lbnRpdHknO1xyXG5cclxuQENvbXBvbmVudCh7XHJcbiAgICBzZWxlY3RvcjogJ2ZhcnJpcy1hcHByb3ZhbC1jb21tZW50LWVkaXRvcicsXHJcbiAgICB0ZW1wbGF0ZVVybDogJy4vYXBwcm92YWwtY29tbWVudC1lZGl0b3IuY29tcG9uZW50Lmh0bWwnLFxyXG4gICAgc3R5bGVVcmxzOiBbJy4vYXBwcm92YWwtY29tbWVudC1lZGl0b3IuY29tcG9uZW50LmNzcyddLFxyXG59KVxyXG5leHBvcnQgY2xhc3MgQXBwcm92YWxDb21tZW50RWRpdG9yQ29tcG9uZW50IGltcGxlbWVudHMgT25Jbml0LCBPbkNoYW5nZXMge1xyXG5cclxuICAgIC8qKiDpm4bmiJDml7bkvKDlh7rnmoTmlbDmja7nmoTop4TlrprlkI1zdWJtaXRNb2RhbCAqL1xyXG4gICAgQE91dHB1dCgpIHZhbHVlQ2hhbmdlZCA9IG5ldyBFdmVudEVtaXR0ZXI8YW55PigpO1xyXG5cclxuICAgIHByaXZhdGUgX2VsZW1lbnRDb25maWc7XHJcbiAgICBhcHByb3ZhbENvbW1lbnRJZDogc3RyaW5nO1xyXG4gICAgYXBwcm92YWxEb21haW5zOiBEb21haW5bXSA9IG5ldyBBcnJheTxEb21haW4+KCk7XHJcbiAgICBfYXBwcm92YWxEb21haW5zOiBhbnk7XHJcblxyXG4gICAgZ2V0IGVsZW1lbnRDb25maWcoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VsZW1lbnRDb25maWc7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0IGVsZW1lbnRDb25maWcodmFsdWUpIHtcclxuICAgICAgICB0aGlzLl9lbGVtZW50Q29uZmlnID0gdmFsdWU7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqIOiusOW9leWIneWni+WFpeWPgiAqL1xyXG4gICAgb3JpZ2luYWxEYXRhOiBhbnk7XHJcbiAgICBtaWNyb0FwcElkOiBzdHJpbmc7XHJcblxyXG4gICAgYWN0aXZpdHlEZWZpbmVkSWRzOiBzdHJpbmc7XHJcbiAgICBhY3Rpdml0eU9wdGlvbnMgPSBbXTtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihcclxuICAgICAgICBwcml2YXRlIGFwaVNlcnZpY2U6IEFwaVNlcnZpY2UsXHJcbiAgICAgICAgcHJpdmF0ZSBjZFJlZjogQ2hhbmdlRGV0ZWN0b3JSZWZcclxuICAgICkgeyB9XHJcblxyXG4gICAgbmdPbkluaXQoKSB7XHJcbiAgICAgICAgdGhpcy5pbml0U2V0dGluZygpO1xyXG4gICAgfVxyXG5cclxuICAgIG5nT25DaGFuZ2VzKGNoYW5nZXM6IFNpbXBsZUNoYW5nZXMpOiB2b2lkIHtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgaW5pdFNldHRpbmcoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmVsZW1lbnRDb25maWcuYmVmb3JlT3Blbk1vZGFsKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gdGhpcy5lbGVtZW50Q29uZmlnLmJlZm9yZU9wZW5Nb2RhbCgpO1xyXG4gICAgICAgIHRoaXMubWljcm9BcHBJZCA9IHJlc3VsdC5wYXJhbWV0ZXJzLm1pY3JvQXBwSWQ7XHJcbiAgICAgICAgdGhpcy5hcHByb3ZhbENvbW1lbnRJZCA9IHJlc3VsdC5wYXJhbWV0ZXJzLmFwcHJvdmFsQ29tbWVudElkO1xyXG4gICAgICAgIHRoaXMuZ2V0QXVkaXRvcnNCeU1pY3JvQXBwSWQodGhpcy5taWNyb0FwcElkKTtcclxuICAgICAgICB0aGlzLmFwcHJvdmFsRG9tYWlucyA9IHJlc3VsdC5wYXJhbWV0ZXJzLmRvbWFpbnMgfHwgW107XHJcbiAgICAgICAgdGhpcy5fYXBwcm92YWxEb21haW5zID0gY2xvbmVEZWVwKHRoaXMuYXBwcm92YWxEb21haW5zKTtcclxuICAgICAgICBpZiAoIXRoaXMuYXBwcm92YWxEb21haW5zLmxlbmd0aCkge1xyXG4gICAgICAgICAgICB0aGlzLmFkZERvbWFpbigpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBnZXRBdWRpdG9yc0J5TWljcm9BcHBJZChtaWNyb0FwcElkOiBzdHJpbmcpIHtcclxuICAgICAgICB0aGlzLmFwaVNlcnZpY2UuZ2V0QXVkaXRvcnNCeU1pY3JvQXBwSWQobWljcm9BcHBJZCkuc3Vic2NyaWJlKHJlc3AgPT4ge1xyXG4gICAgICAgICAgICBpZiAocmVzcCkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgYWN0aXZpdHlEZWZpbmVkSWRMaXN0ID0gW107XHJcbiAgICAgICAgICAgICAgICBbXS5jb25jYXQocmVzcCkubWFwKGl0ZW0gPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpdGVtLklkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFjdGl2aXR5RGVmaW5lZElkTGlzdC5wdXNoKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBpdGVtLklkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IGl0ZW0uTmFtZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmFjdGl2aXR5T3B0aW9ucyA9IGFjdGl2aXR5RGVmaW5lZElkTGlzdDtcclxuICAgICAgICAgICAgICAgIHRoaXMuYXBwcm92YWxEb21haW5zLm1hcChkb21haW5EYXRhID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZG9tYWluRGF0YS5hY3Rpdml0eURlZmluZWRJZHMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaWRBcnIgPSBkb21haW5EYXRhLmFjdGl2aXR5RGVmaW5lZElkcy5zcGxpdCgnLCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBfaWRBcnIgPSBbLi4ubmV3IFNldChpZEFycildO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkZWxldGVBcnIgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3BhcmVBcnIgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX2lkQXJyLmZvckVhY2goaXRlbSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoISFhY3Rpdml0eURlZmluZWRJZExpc3Quc29tZShhY3Rpdml0eURlZmluZWRJZCA9PiBpdGVtLnRyaW0oKSA9PT0gYWN0aXZpdHlEZWZpbmVkSWQudmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3BhcmVBcnIucHVzaChpdGVtKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlQXJyLnB1c2goaXRlbSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMuY29tcGFyZUFycmF5MUVxdWFsVG9BcnJheTIoX2lkQXJyLCBzcGFyZUFycikpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvbWFpbkRhdGEuYWN0aXZpdHlJZEVycm9yTWVzc2FnZSA9IGDmtYHnqIvorr7orqHlt7Llj5jmm7TvvIzor7fmm7TmlrDlrqHmibnmhI/op4Hnu4Tku7bnu5HlrproioLngrlgO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9tYWluRGF0YS5hY3Rpdml0eURlZmluZWRJZHMgPSBzcGFyZUFyci5qb2luKCcsJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2FwcHJvdmFsRG9tYWlucyA9IGNsb25lRGVlcCh0aGlzLmFwcHJvdmFsRG9tYWlucyk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNkUmVmLmRldGVjdENoYW5nZXMoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sIGVycm9yID0+IHtcclxuXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIC8vIOaWsOWinuWfn1xyXG4gICAgYWRkRG9tYWluKGV2ZW50PzogYW55KSB7XHJcbiAgICAgICAgY29uc3QgbmV3RG9tYWluID0gbmV3IERvbWFpbigpO1xyXG4gICAgICAgIG5ld0RvbWFpbi5kb21haW5JZCA9IENvbW1vblV0aWwubmV3R3VpZCgpO1xyXG4gICAgICAgIGxldCBkb21haW5Db2RlUHJlZml4ID0gJyc7XHJcbiAgICAgICAgaWYgKHRoaXMuYXBwcm92YWxDb21tZW50SWQubGVuZ3RoID4gNSkge1xyXG4gICAgICAgICAgICBkb21haW5Db2RlUHJlZml4ID0gJ2FjXycgKyB0aGlzLmFwcHJvdmFsQ29tbWVudElkLnNsaWNlKHRoaXMuYXBwcm92YWxDb21tZW50SWQubGVuZ3RoIC0gNCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgZG9tYWluQ29kZVByZWZpeCA9ICdhY18nICsgQ29tbW9uVXRpbC5uZXdHdWlkKCkuc2xpY2UoMCwgNCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHByZUluZGV4Rml4ID0gMSArIHRoaXMuYXBwcm92YWxEb21haW5zLmxlbmd0aDtcclxuICAgICAgICAvLyDov5nph4zopoHlop7liqDljrvph41cclxuICAgICAgICBuZXdEb21haW4uZG9tYWluTmFtZSA9ICfmlrDlop7ln58nICsgcHJlSW5kZXhGaXg7XHJcbiAgICAgICAgbmV3RG9tYWluLmRvbWFpbkNvZGUgPSBkb21haW5Db2RlUHJlZml4ICsgJ19kb21haW4nICsgcHJlSW5kZXhGaXg7XHJcbiAgICAgICAgdGhpcy5hcHByb3ZhbERvbWFpbnMucHVzaChuZXdEb21haW4pO1xyXG4gICAgICAgIHRoaXMuX2FwcHJvdmFsRG9tYWlucyA9IGNsb25lRGVlcCh0aGlzLmFwcHJvdmFsRG9tYWlucyk7XHJcbiAgICAgICAgdGhpcy52YWx1ZUNoYW5nZWQubmV4dCh7ICRldmVudDogbnVsbCwgZWxlbWVudFZhbHVlOiB0aGlzLl9hcHByb3ZhbERvbWFpbnMgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8g5Yig6Zmk5Z+fXHJcbiAgICBkZWxldGVEb21haW4oZXZlbnQ6IGFueSwgZGF0YTogRG9tYWluKSB7XHJcbiAgICAgICAgY29uc3QgaW5kZXggPSB0aGlzLmFwcHJvdmFsRG9tYWlucy5maW5kSW5kZXgoaXRlbSA9PiBpdGVtLmRvbWFpbklkID09PSBkYXRhLmRvbWFpbklkKTtcclxuICAgICAgICB0aGlzLmFwcHJvdmFsRG9tYWlucy5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgICAgIHRoaXMuYXBwcm92YWxEb21haW5zID0gdGhpcy5hcHByb3ZhbERvbWFpbnMuc2xpY2UoKTtcclxuICAgICAgICAvLyB0aGlzLnVwZGF0ZUFwcHJvdmFsRG9tYWluc0luRG9tKHRoaXMuYXBwcm92YWxEb21haW5zKTtcclxuICAgICAgICB0aGlzLl9hcHByb3ZhbERvbWFpbnMgPSBjbG9uZURlZXAodGhpcy5hcHByb3ZhbERvbWFpbnMpO1xyXG4gICAgICAgIHRoaXMudmFsdWVDaGFuZ2VkLm5leHQoeyAkZXZlbnQ6IG51bGwsIGVsZW1lbnRWYWx1ZTogdGhpcy5fYXBwcm92YWxEb21haW5zIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIOaUtuaKmOWfn1xyXG4gICAgZm9sZERvbWFpbihldmVudDogYW55LCBkYXRhOiBEb21haW4pIHtcclxuICAgICAgICBjb25zdCBkb21haW5JdGVtID0gdGhpcy5hcHByb3ZhbERvbWFpbnMuZmluZChpdGVtID0+IGl0ZW0uZG9tYWluSWQgPT09IGRhdGEuZG9tYWluSWQpO1xyXG4gICAgICAgIGRvbWFpbkl0ZW0uaXNGb2xkID0gIWRvbWFpbkl0ZW0uaXNGb2xkO1xyXG4gICAgfVxyXG5cclxuICAgIG1vdmVEb21haW4oZXZlbnQ6IGFueSwgaW5kZXgxOiBudW1iZXIsIGluZGV4MjogbnVtYmVyKSB7XHJcbiAgICAgICAgaWYgKGluZGV4MSA8IDAgfHwgaW5kZXgyID09IHRoaXMuYXBwcm92YWxEb21haW5zLmxlbmd0aCkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuYXBwcm92YWxEb21haW5zW2luZGV4MV0gPSB0aGlzLmFwcHJvdmFsRG9tYWlucy5zcGxpY2UoaW5kZXgyLCAxLCB0aGlzLmFwcHJvdmFsRG9tYWluc1tpbmRleDFdKVswXTtcclxuICAgICAgICB0aGlzLmFwcHJvdmFsRG9tYWlucyA9IHRoaXMuYXBwcm92YWxEb21haW5zLnNsaWNlKCk7XHJcbiAgICAgICAgLy8gdGhpcy51cGRhdGVBcHByb3ZhbERvbWFpbnNJbkRvbSh0aGlzLmFwcHJvdmFsRG9tYWlucyk7XHJcbiAgICAgICAgdGhpcy5fYXBwcm92YWxEb21haW5zID0gY2xvbmVEZWVwKHRoaXMuYXBwcm92YWxEb21haW5zKTtcclxuICAgICAgICB0aGlzLnZhbHVlQ2hhbmdlZC5uZXh0KHsgJGV2ZW50OiBudWxsLCBlbGVtZW50VmFsdWU6IHRoaXMuX2FwcHJvdmFsRG9tYWlucyB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvLyDorr7nva7ln5/lkI3np7Dml7bpnIDopoHliKTmlq3mmK/lkKblkI3np7Dph43lpI1cclxuICAgIG9uRG9tYWluTmFtZUJsdXIoZG9tYWluSWQ6IHN0cmluZywgZG9tYWluTmFtZTogc3RyaW5nLCBpbmRleDogbnVtYmVyKSB7XHJcbiAgICAgICAgaWYgKCFkb21haW5OYW1lIHx8ICFkb21haW5OYW1lLnRyaW0oKSkge1xyXG4gICAgICAgICAgICB0aGlzLmFwcHJvdmFsRG9tYWluc1tpbmRleF0ubmFtZUVycm9yTWVzc2FnZSA9ICfln5/lkI3np7DkuI3og73kuLrnqbrvvIEnO1xyXG4gICAgICAgICAgICB0aGlzLmNkUmVmLmRldGVjdENoYW5nZXMoKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmFwcHJvdmFsRG9tYWluc1tpbmRleF0ubmFtZUVycm9yTWVzc2FnZSA9ICcnO1xyXG4gICAgICAgIHRoaXMuY2RSZWYuZGV0ZWN0Q2hhbmdlcygpO1xyXG4gICAgICAgIGNvbnN0IGRvbWFpbkRhdGEgPSB0aGlzLmFwcHJvdmFsRG9tYWlucy5maW5kKGRhdGEgPT4gZGF0YS5kb21haW5JZCA9PSBkb21haW5JZCk7XHJcbiAgICAgICAgY29uc3QgdGFyZ2V0RGF0YSA9IHRoaXMuYXBwcm92YWxEb21haW5zLmZpbHRlcihkYXRhID0+IGRhdGEuZG9tYWluTmFtZS50cmltKCkgPT0gZG9tYWluRGF0YS5kb21haW5OYW1lKTtcclxuICAgICAgICBpZiAodGFyZ2V0RGF0YS5sZW5ndGggPiAxKSB7XHJcbiAgICAgICAgICAgIGRvbWFpbkRhdGEuZG9tYWluQ29kZSA9ICh0aGlzLl9hcHByb3ZhbERvbWFpbnMuZmluZChkYXRhID0+IGRhdGEuZG9tYWluSWQgPT0gZG9tYWluSWQpIGFzIERvbWFpbikuZG9tYWluQ29kZTtcclxuICAgICAgICAgICAgdGhpcy5hcHByb3ZhbERvbWFpbnNbaW5kZXhdLm5hbWVFcnJvck1lc3NhZ2UgPSAn5Z+f5ZCN56ew6YeN5aSN77yM6K+36YeN5paw6K6+572uISc7XHJcbiAgICAgICAgICAgIHRoaXMuY2RSZWYuZGV0ZWN0Q2hhbmdlcygpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2FwcHJvdmFsRG9tYWlucyA9IGNsb25lRGVlcCh0aGlzLmFwcHJvdmFsRG9tYWlucyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMudmFsdWVDaGFuZ2VkLm5leHQoeyAkZXZlbnQ6IG51bGwsIGVsZW1lbnRWYWx1ZTogdGhpcy5fYXBwcm92YWxEb21haW5zIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIOiuvue9ruWfn+e8luWPt+aXtumcgOimgeWIpOaWreaYr+WQpue8luWPt+mHjeWkjVxyXG4gICAgb25Eb21haW5Db2RlQmx1cihkb21haW5JZDogc3RyaW5nKSB7XHJcbiAgICAgICAgY29uc3QgZG9tYWluRGF0YSA9IHRoaXMuYXBwcm92YWxEb21haW5zLmZpbmQoZGF0YSA9PiBkYXRhLmRvbWFpbklkID09IGRvbWFpbklkKTtcclxuICAgICAgICBjb25zdCByZWdleCA9IC9eW2EtekEtWl9dWzAtOWEtekEtWl9dKiQvO1xyXG4gICAgICAgIGNvbnN0IGlzTWF0Y2ggPSByZWdleC50ZXN0KGRvbWFpbkRhdGEuZG9tYWluQ29kZSk7XHJcbiAgICAgICAgaWYgKCFpc01hdGNoKSB7XHJcbiAgICAgICAgICAgIC8vIHRoaXMubm90aWZ5U2VydmljZS53YXJuaW5nKCfln5/nvJblj7flv4Xpobvku6Xoi7HmloflrZfmr43kuIvliJLnur/lvIDlpLTvvIzlubbkuJTlj6rog73nlLHoi7HmloflrZfmr43jgIHmlbDlrZfjgIHkuIvliJLnur/nu4TmiJDvvIEnKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCB0YXJnZXREYXRhID0gdGhpcy5hcHByb3ZhbERvbWFpbnMuZmlsdGVyKGRhdGEgPT4gZGF0YS5kb21haW5Db2RlID09IGRvbWFpbkRhdGEuZG9tYWluQ29kZSk7XHJcbiAgICAgICAgaWYgKHRhcmdldERhdGEubGVuZ3RoID4gMSkge1xyXG4gICAgICAgICAgICBkb21haW5EYXRhLmRvbWFpbkNvZGUgPSAodGhpcy5fYXBwcm92YWxEb21haW5zLmZpbmQoZGF0YSA9PiBkYXRhLmRvbWFpbklkID09IGRvbWFpbklkKSBhcyBEb21haW4pLmRvbWFpbkNvZGU7XHJcbiAgICAgICAgICAgIC8vIHRoaXMubm90aWZ5U2VydmljZS53YXJuaW5nKCfln5/nvJblj7fph43lpI3vvIzor7fph43mlrDorr7nva7jgIInKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLl9hcHByb3ZhbERvbWFpbnMgPSBjbG9uZURlZXAodGhpcy5hcHByb3ZhbERvbWFpbnMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnZhbHVlQ2hhbmdlZC5uZXh0KHsgJGV2ZW50OiBudWxsLCBlbGVtZW50VmFsdWU6IHRoaXMuX2FwcHJvdmFsRG9tYWlucyB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvLyDorr7nva7mtYHnqIvoioLngrlpZOaXtuS4jeiDveS4uuepulxyXG4gICAgb25BY3Rpdml0eURlZmluZWRJZHNCbHVyKGRvbWFpbklkOiBzdHJpbmcsIGFjdGl2aXR5RGVmaW5lZElkczogc3RyaW5nLCBpbmRleDogbnVtYmVyKSB7XHJcbiAgICAgICAgaWYgKCFhY3Rpdml0eURlZmluZWRJZHMgfHwgIWFjdGl2aXR5RGVmaW5lZElkcy50cmltKCkpIHtcclxuICAgICAgICAgICAgdGhpcy5hcHByb3ZhbERvbWFpbnNbaW5kZXhdLmFjdGl2aXR5SWRFcnJvck1lc3NhZ2UgPSAn5rWB56iL6IqC54K55LiN6IO95Li656m677yBJztcclxuICAgICAgICAgICAgdGhpcy5jZFJlZi5kZXRlY3RDaGFuZ2VzKCk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5hcHByb3ZhbERvbWFpbnNbaW5kZXhdLmFjdGl2aXR5SWRFcnJvck1lc3NhZ2UgPSAnJztcclxuICAgICAgICB0aGlzLmNkUmVmLmRldGVjdENoYW5nZXMoKTtcclxuICAgICAgICB0aGlzLl9hcHByb3ZhbERvbWFpbnMgPSBjbG9uZURlZXAodGhpcy5hcHByb3ZhbERvbWFpbnMpO1xyXG4gICAgICAgIHRoaXMudmFsdWVDaGFuZ2VkLm5leHQoeyAkZXZlbnQ6IG51bGwsIGVsZW1lbnRWYWx1ZTogdGhpcy5fYXBwcm92YWxEb21haW5zIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHRyYWNrQnlGbihpbmRleCwgaXRlbSkge1xyXG4gICAgICAgIHJldHVybiBpdGVtLmRvbWFpbklkO1xyXG4gICAgfVxyXG4gICAgLy8g5Yik5pat5Lik5Liq5pWw57uE5piv5ZCm55u4562JXHJcbiAgICBjb21wYXJlQXJyYXkxRXF1YWxUb0FycmF5MihhcnIxLCBhcnIyKSB7XHJcbiAgICAgICAgaWYgKGFycjEubGVuZ3RoICE9PSBhcnIyLmxlbmd0aCkge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXJyMS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAoYXJyMVtpXSAhPT0gYXJyMltpXSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG5cclxufVxyXG4iXX0=