{"version":3,"file":"farris-ui-loading.umd.js.map","sources":["ng://@farris/ui-loading/lib/loading.config.ts","ng://@farris/ui-loading/lib/loading.styles.ts","ng://@farris/ui-loading/lib/loading.component.ts","ng://@farris/ui-loading/lib/loading.service.ts","ng://@farris/ui-loading/lib/loading.module.ts"],"sourcesContent":["import { InjectionToken } from '@angular/core';\r\n\r\nexport interface LoadingConfig {\r\n    width?: number;\r\n    container?: any;\r\n    message?: string;\r\n    position?: string;\r\n    template?: string;\r\n    type?: number;\r\n    /** å»¶è¿1s åå¨æ¾ç¤º */\r\n    delay?: number;\r\n}\r\n\r\nexport const loaddingDefaultConfig = {\r\n    width: 30,\r\n    container: 'body',\r\n    message: 'æ­£å¨å è½½ä¸­ï¼è¯·ç¨å...',\r\n    posion: 'center',\r\n    type: 0,\r\n    delay: 300\r\n};\r\n\r\nexport const LOADING_DEFAULT_CONFIG = new InjectionToken<LoadingConfig>('loading default options.');\r\n","export const LOADING_STYLES = [\r\n  `<div class=\"f-loading-round\"></div>`,\r\n  `<div class=\"f-loading-dot-wrapper\">\r\n    <div class=\"f-loading-dot\">\r\n        <div class=\"dot dot1\"></div>\r\n        <div class=\"dot dot2\"></div>\r\n        <div class=\"dot dot3\"></div>\r\n        <div class=\"dot dot4\"></div>\r\n    </div>\r\n</div>`,\r\n  `<svg width=\"100%\" height=\"100%\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 100 100\" preserveAspectRatio=\"xMidYMid\" class=\"lds-coffee\"><defs><linearGradient id=\"gradient\" x1=\"0%\" x2=\"0%\" y1=\"0%\" y2=\"100%\"><stop offset=\"10%\" stop-color=\"black\" stop-opacity=\"0\"></stop><stop offset=\"100%\" stop-color=\"white\" stop-opacity=\"1\"></stop></linearGradient><mask id=\"mask\" maskUnits=\"userSpaceOnUse\" x=\"0\" y=\"0\" width=\"100\" height=\"100\"><rect x=\"22\" y=\"8\" width=\"56\" height=\"54\" fill=\"url(#gradient)\"></rect></mask><path id=\"steam\" d=\"M0-4c-2.1,2.6-2.1,6.4,0,9l0,0c2.1,2.6,2.1,6.4,0,9l0,0c-2.1,2.6-2.1,6.4,0,9l0,0c2.1,2.6,2.1,6.4,0,9l0,0 c-2.1,2.6-2.1,6.4,0,9l0,0c2.1,2.6,2.1,6.4,0,9c-2.1,2.6-2.1,6.4,0,9l0,0c2.1,2.6,2.1,6.4,0,9l0,0c-2.1,2.6-2.1,6.4,0,9l0,0 c2.1,2.6,2.1,6.4,0,9l0,0c-2.1,2.6-2.1,6.4,0,9l0,0c2.1,2.6,2.1,6.4,0,9c-2.1,2.6-2.1,6.4,0,9l0,0c2.1,2.6,2.1,6.4,0,9l0,0 c-2.1,2.6-2.1,6.4,0,9h0c2.1,2.6,2.1,6.4,0,9h0c-2.1,2.6-2.1,6.4,0,9h0c2.1,2.6,2.1,6.4,0,9\" stroke-width=\"6\" stroke-linecap=\"round\" fill=\"#f00\" stroke=\"#58a8f6\"></path></defs><g mask=\"url(#mask)\"><use x=\"29\" y=\"1.00876\" href=\"#steam\"><animate attributeName=\"y\" calcMode=\"linear\" values=\"4;-14\" keyTimes=\"0;1\" dur=\"0.5\" begin=\"0s\" repeatCount=\"indefinite\"></animate></use><use x=\"47\" y=\"-5.98248\" href=\"#steam\"><animate attributeName=\"y\" calcMode=\"linear\" values=\"0;-18\" keyTimes=\"0;1\" dur=\"0.25\" begin=\"0s\" repeatCount=\"indefinite\"></animate></use><use x=\"64\" y=\"-8.48686\" href=\"#steam\"><animate attributeName=\"y\" calcMode=\"linear\" values=\"-4;-22\" keyTimes=\"0;1\" dur=\"0.3333333333333333\" begin=\"0s\" repeatCount=\"indefinite\"></animate></use></g><path d=\"M81.2,52.5l-5.2,0V49c0-1.6-1.3-3-3-3H20c-1.6,0-3,1.3-3,3v11.6C17,71.3,25.7,80,36.5,80h20.1 c7.1,0,13.3-3.8,16.7-9.5h8.3c5.2,0,9.3-4.4,9-9.6C90.2,56.1,86,52.5,81.2,52.5z M81.5,67.5h-6.8c0.8-2.2,1.3-4.5,1.3-7v-5h5.5 c3.3,0,6,2.7,6,6S84.8,67.5,81.5,67.5z\" fill=\"#58a8f6\"></path><path d=\"M78.8,88H19.2c-1.1,0-2-0.9-2-2s0.9-2,2-2h59.5c1.1,0,2,0.9,2,2S79.9,88,78.8,88z\" fill=\"rgba(80.78431372549018%,94.50980392156862%,72.15686274509802%,0)\"></path></svg>`\r\n];\r\n","/*\r\n* @Author: ç¯çç§æ(Lucas Huang)\r\n* @LastEditors: ç¯çç§æ(Lucas Huang)\r\n* @Company: Inspur\r\n* @Version: v0.1.8\r\n* @Date: 2018-09-18 16:04:05\r\n* @LastEditTime: 2019-10-17 13:42:45\r\n*/\r\n\r\nimport { Component, OnInit, ElementRef, ViewChild, Renderer2, AfterViewInit, Output, EventEmitter, OnDestroy, Input } from '@angular/core';\r\nimport { LOADING_STYLES } from './loading.styles';\r\nimport { delay, filter, takeUntil } from 'rxjs/operators';\r\nimport { Subject, Subscription, BehaviorSubject } from 'rxjs';\r\nimport { CommonUtils, DebugService } from '@farris/ui-common';\r\n\r\n@Component({\r\n    selector: 'farris-loading',\r\n    template: `\r\n        <div #loadingBackdrop class=\"farris-loading-backdrop loading-wait\" (click)=\"closeWhenClick5($event)\"></div>\r\n        <div #loadingContainerEl class=\"farris-loading\" style=\"visibility: hidden\">\r\n            <div class=\"ng-busy-default-wrapper\">\r\n                <div class=\"ng-busy-default-sign\" >\r\n                    <div [style.width]=\"width+ 'px'\" [style.height]=\"width+'px'\" style=\"display: inline-block;margin:4px;\"\r\n                                [innerHTML]=\"loadingStyleDom[type] | safe: 'html'\"></div>\r\n                    <div class=\"ng-busy-default-text\" style=\"margin-left:0;\"\r\n                                 *ngIf=\"showMessage\" [innerHTML]=\"'loading.message' | locale: '' :message | safe: 'html'\"></div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    `,\r\n    styles: [\r\n        `.loading-wait {\r\n            cursor: wait\r\n        }\r\n        .animated-0.5 {\r\n            -webkit-animation-duration: 0s;\r\n            animation-duration: 0s;\r\n        }\r\n        `\r\n    ]\r\n})\r\nexport class LoadingComponent implements OnInit, AfterViewInit, OnDestroy {\r\n    @Input() showMessage = true;\r\n    loadingStyleDom = LOADING_STYLES;\r\n    id: number;\r\n    private _isActive = false;\r\n    private activeSubject = new BehaviorSubject(false);\r\n    message = '';\r\n    width = 30;\r\n    /** loading æ ·å¼ */\r\n    type = 0;\r\n\r\n    delay = 300;\r\n\r\n    get isActive(): boolean {\r\n        return this._isActive;\r\n    }\r\n\r\n    set isActive(val: boolean) {\r\n        this._isActive = val;\r\n        if (this.activeSubject) {\r\n            this.activeSubject.next(val);\r\n        }\r\n    }\r\n\r\n    @ViewChild('loadingContainerEl') loadingContainerEl: ElementRef;\r\n    @ViewChild('loadingBackdrop') loadingBackdrop: ElementRef;\r\n    @Output() closed = new EventEmitter<any>();\r\n    activedSubscrition: Subscription = null;\r\n\r\n    parentContainer = null;\r\n\r\n    private destroy$ = new Subject();\r\n\r\n    private debugSer: DebugService = null;\r\n    private commonUtils: CommonUtils = null;\r\n\r\n    constructor(private render: Renderer2, private el: ElementRef) {\r\n        if (!this.debugSer) {\r\n            this.debugSer = new DebugService();\r\n        }\r\n\r\n        if (this.debugSer.useDebugMode) {\r\n            this.debugSer.useDebugMode();\r\n        }\r\n    }\r\n\r\n    ngOnInit() {\r\n        this.activedSubscrition = this.activeSubject.pipe(\r\n            takeUntil(this.destroy$)\r\n        ).pipe(\r\n            filter((n: boolean) => {\r\n                return n;\r\n            }),\r\n            delay(this.delay)\r\n        ).subscribe(v => {\r\n            if (v && this.isActive) {\r\n                // this.render.setStyle(this.loadingContainerEl.nativeElement, 'display', 'block');\r\n                this.render.setStyle(this.loadingBackdrop.nativeElement, 'display', 'block');\r\n                this.render.setStyle(this.loadingContainerEl.nativeElement, 'left', 0);\r\n                this.setPosition();\r\n                this.render.removeStyle(this.loadingContainerEl.nativeElement, 'visibility');\r\n                this.render.removeStyle(this.loadingContainerEl.nativeElement, 'left');\r\n            }\r\n        });\r\n    }\r\n\r\n    ngAfterViewInit() {\r\n\r\n    }\r\n\r\n    ngOnDestroy() {\r\n        this.destroy$.next();\r\n        this.destroy$.complete();\r\n        this.commonUtils = null;\r\n    }\r\n\r\n    close() {\r\n        if (this.loadingBackdrop) {\r\n            this.loadingBackdrop.nativeElement.remove();\r\n        }\r\n        this.isActive = false;\r\n        this.render.removeAttribute(this.el.nativeElement, 'class');\r\n        // this.animate('f-component-loading fadeOut animated animated-0.5');\r\n        this.closed.emit(this.isActive);\r\n    }\r\n\r\n    private setPosition() {\r\n        if (!this.commonUtils) {\r\n            this.commonUtils = new CommonUtils();\r\n        }\r\n\r\n        const containerWidth = this.loadingContainerEl.nativeElement.clientWidth;\r\n        const containerHeight = this.loadingContainerEl.nativeElement.clientHeight;\r\n\r\n        this.render.setStyle(this.loadingContainerEl.nativeElement, 'marginTop', -containerHeight / 2 + 'px');\r\n\r\n        let ml = -containerWidth / 2 + 'px'\r\n        if (this.parentContainer) {\r\n            if (this.parentContainer.clientWidth <= 200) {\r\n                ml = '-100px';\r\n            }\r\n        }\r\n        this.render.setStyle(this.loadingContainerEl.nativeElement, 'marginLeft', ml);\r\n\r\n        const zindex = this.commonUtils.getFloatingLayerIndex();\r\n        this.render.setStyle(this.loadingBackdrop.nativeElement, 'zIndex', zindex);\r\n        this.render.setStyle(this.loadingContainerEl.nativeElement, 'zIndex', zindex + 1);\r\n    }\r\n\r\n    private animate(animateCls: string) {\r\n        this.addAnimationEndEvent('webkitAnimationEnd', 'mozAnimationEnd', 'MSAnimationEnd', 'oanimationend', 'animationend');\r\n        this.render.setAttribute(this.el.nativeElement, 'class', animateCls);\r\n    }\r\n\r\n    private addAnimationEndEvent(...events: string[]) {\r\n        const _this = this;\r\n\r\n        events.forEach(e => {\r\n            _this.el.nativeElement.addEventListener(e, function handler() {\r\n                _this.el.nativeElement.removeEventListener(e, handler);\r\n                // _this.render.removeAttribute(_this.el.nativeElement, 'class');\r\n                ['fadeIn', 'fadeOut', 'animated', 'animated-0.5'].forEach(n => {\r\n                    _this.render.removeClass(_this.el.nativeElement, n);\r\n                });\r\n                _this.closed.emit(_this.isActive);\r\n            });\r\n        });\r\n    }\r\n\r\n    closeWhenClick5($event: MouseEvent) {\r\n        $event.stopPropagation();\r\n        if (this.debugSer.isDebug) {\r\n            this.commonUtils.clickContinuity(() => {\r\n                this.close();\r\n            });\r\n        }\r\n    }\r\n}\r\n","import { LocaleService } from '@farris/ui-locale';\r\nimport { Injectable, ApplicationRef, ComponentFactoryResolver, Injector, ComponentRef, ElementRef } from '@angular/core';\r\nimport { LoadingConfig, LOADING_DEFAULT_CONFIG, loaddingDefaultConfig } from './loading.config';\r\nimport { LoadingComponent } from './loading.component';\r\nimport { max } from 'lodash-es';\r\n\r\n@Injectable()\r\nexport class LoadingService {\r\n    config: LoadingConfig;\r\n\r\n    private currentLoadingInstanceID = null;\r\n    private loadingInstances: { [key: number]: ComponentRef<LoadingComponent> } = {};\r\n    private localeSer: LocaleService;\r\n    constructor(private appRef: ApplicationRef,\r\n                private cfr: ComponentFactoryResolver, private injecotr: Injector) {\r\n                    this.localeSer = this.injecotr.get(LocaleService);\r\n    }\r\n\r\n    show(config?: LoadingConfig): LoadingComponent {\r\n        this.config = this.injecotr.get(LOADING_DEFAULT_CONFIG) || {};\r\n        this.config = Object.assign(loaddingDefaultConfig, this.config);\r\n\r\n        let _loadingCmpRef: ComponentRef<LoadingComponent>;\r\n        const loadingFactory = this.cfr.resolveComponentFactory(LoadingComponent);\r\n        _loadingCmpRef = loadingFactory.create(this.injecotr);\r\n\r\n        if (config) {\r\n            this.config = Object.assign({}, this.config, config);\r\n        }\r\n        // const languageCode = localStorage.getItem('languageCode');\r\n        // if (languageCode === 'en') {\r\n        //     this.config.message = 'Loading...';\r\n        // }\r\n        if (this.localeSer) {\r\n            if (!this.config.message || this.config.message === 'æ­£å¨å è½½ä¸­ï¼è¯·ç¨å...') {\r\n                this.config.message = this.localeSer.getValue('loading.message');\r\n            }\r\n        }\r\n\r\n        const container = this.config.container;\r\n        let parentContainer = null;\r\n        if (container === 'body') {\r\n            document.querySelector(container as string).appendChild( _loadingCmpRef.location.nativeElement);\r\n        } else {\r\n            if (container instanceof ElementRef ) {\r\n                container.nativeElement.appendChild(\r\n                    _loadingCmpRef.location.nativeElement\r\n                );\r\n\r\n                parentContainer = container.nativeElement;\r\n            } else {\r\n                if (container instanceof Element) {\r\n                    container.appendChild(\r\n                        _loadingCmpRef.location.nativeElement\r\n                    );\r\n\r\n                    parentContainer = container;\r\n                }\r\n            }\r\n        }\r\n        _loadingCmpRef.instance.delay = this.config.delay;\r\n        _loadingCmpRef.instance.isActive = true;\r\n        _loadingCmpRef.instance.parentContainer = parentContainer;\r\n        Object.assign(_loadingCmpRef.instance, this.config);\r\n\r\n        _loadingCmpRef.instance.closed.subscribe(state => {\r\n            if (!state) {\r\n                delete this.loadingInstances[_loadingCmpRef.instance.id];\r\n                this.currentLoadingInstanceID = this.getMaxLoadingID();\r\n                this.clearDom(_loadingCmpRef);\r\n            }\r\n        });\r\n\r\n        _loadingCmpRef.changeDetectorRef.markForCheck();\r\n        _loadingCmpRef.changeDetectorRef.detectChanges();\r\n\r\n        const loadingID = this.createInsId();\r\n        _loadingCmpRef.instance.id = loadingID;\r\n        this.loadingInstances[loadingID] =  _loadingCmpRef;\r\n        this.currentLoadingInstanceID = loadingID;\r\n\r\n        return _loadingCmpRef.instance;\r\n    }\r\n\r\n    close(loadingId?: number) {\r\n        const id = loadingId || this.currentLoadingInstanceID;\r\n        const loadingRef = this.loadingInstances[id];\r\n        if (loadingRef) {\r\n            loadingRef.instance.close();\r\n        }\r\n    }\r\n\r\n    clearAll() {\r\n        const keys = Object.keys(this.loadingInstances);\r\n        if (keys.length) {\r\n            keys.forEach(id => {\r\n                this.clearDom(this.loadingInstances[id]);\r\n            });\r\n        } else {\r\n            const loadings = document.querySelectorAll('farris-loading');\r\n            if (loadings.length) {\r\n                loadings.forEach( el => el.remove() );\r\n            }\r\n\r\n            this.loadingInstances = {};\r\n        }\r\n    }\r\n\r\n    private clearDom(_loadingCmpRef: ComponentRef<LoadingComponent>) {\r\n        if (_loadingCmpRef && _loadingCmpRef.location) {\r\n            const loadingEl = _loadingCmpRef.location.nativeElement;\r\n\r\n            if (loadingEl.parentNode) {\r\n                loadingEl.parentNode.removeChild(loadingEl);\r\n            }\r\n\r\n            _loadingCmpRef.destroy();\r\n        }\r\n\r\n        _loadingCmpRef = null;\r\n    }\r\n\r\n    private createInsId() {\r\n        return this.getMaxLoadingID() + 1;\r\n    }\r\n\r\n    private getMaxLoadingID() {\r\n        const ids = Object.keys(this.loadingInstances).map(k => parseInt(k, 10));\r\n        if (ids.length) {\r\n            return max(ids);\r\n        }\r\n\r\n        return 0;\r\n    }\r\n}\r\n\r\n","import { NgModule, ModuleWithProviders } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { LoadingComponent } from './loading.component';\r\nimport { LoadingService } from './loading.service';\r\nimport { LoadingConfig, LOADING_DEFAULT_CONFIG, loaddingDefaultConfig } from './loading.config';\r\nimport { FarrisCommonModule } from '@farris/ui-common';\r\nimport { LocaleModule } from '@farris/ui-locale';\r\n\r\n\r\n@NgModule({\r\n    imports: [\r\n        CommonModule,\r\n        FarrisCommonModule,\r\n        LocaleModule\r\n    ],\r\n    declarations: [\r\n        LoadingComponent\r\n    ],\r\n    entryComponents: [\r\n        LoadingComponent\r\n    ]\r\n})\r\nexport class LoadingModule {\r\n    static forRoot(config?: LoadingConfig): ModuleWithProviders {\r\n        return {\r\n            ngModule: LoadingModule,\r\n            providers: [\r\n                { provide: LOADING_DEFAULT_CONFIG, useValue: config || loaddingDefaultConfig},\r\n                LoadingService\r\n            ]\r\n        };\r\n    }\r\n}\r\n"],"names":["InjectionToken","BehaviorSubject","EventEmitter","Subject","DebugService","takeUntil","filter","delay","CommonUtils","Component","Renderer2","ElementRef","Input","ViewChild","Output","LocaleService","max","Injectable","ApplicationRef","ComponentFactoryResolver","Injector","NgModule","CommonModule","FarrisCommonModule","LocaleModule"],"mappings":"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"}
