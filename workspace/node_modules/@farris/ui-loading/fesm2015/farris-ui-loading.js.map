{"version":3,"file":"farris-ui-loading.js.map","sources":["ng://@farris/ui-loading/lib/loading.config.ts","ng://@farris/ui-loading/lib/loading.styles.ts","ng://@farris/ui-loading/lib/loading.component.ts","ng://@farris/ui-loading/lib/loading.service.ts","ng://@farris/ui-loading/lib/loading.module.ts"],"sourcesContent":["import { InjectionToken } from '@angular/core';\r\n\r\nexport interface LoadingConfig {\r\n    width?: number;\r\n    container?: any;\r\n    message?: string;\r\n    position?: string;\r\n    template?: string;\r\n    type?: number;\r\n    /** å»¶è¿1s åå¨æ¾ç¤º */\r\n    delay?: number;\r\n}\r\n\r\nexport const loaddingDefaultConfig = {\r\n    width: 30,\r\n    container: 'body',\r\n    message: 'æ­£å¨å è½½ä¸­ï¼è¯·ç¨å...',\r\n    posion: 'center',\r\n    type: 0,\r\n    delay: 300\r\n};\r\n\r\nexport const LOADING_DEFAULT_CONFIG = new InjectionToken<LoadingConfig>('loading default options.');\r\n","export const LOADING_STYLES = [\r\n  `<div class=\"f-loading-round\"></div>`,\r\n  `<div class=\"f-loading-dot-wrapper\">\r\n    <div class=\"f-loading-dot\">\r\n        <div class=\"dot dot1\"></div>\r\n        <div class=\"dot dot2\"></div>\r\n        <div class=\"dot dot3\"></div>\r\n        <div class=\"dot dot4\"></div>\r\n    </div>\r\n</div>`,\r\n  `<svg width=\"100%\" height=\"100%\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 100 100\" preserveAspectRatio=\"xMidYMid\" class=\"lds-coffee\"><defs><linearGradient id=\"gradient\" x1=\"0%\" x2=\"0%\" y1=\"0%\" y2=\"100%\"><stop offset=\"10%\" stop-color=\"black\" stop-opacity=\"0\"></stop><stop offset=\"100%\" stop-color=\"white\" stop-opacity=\"1\"></stop></linearGradient><mask id=\"mask\" maskUnits=\"userSpaceOnUse\" x=\"0\" y=\"0\" width=\"100\" height=\"100\"><rect x=\"22\" y=\"8\" width=\"56\" height=\"54\" fill=\"url(#gradient)\"></rect></mask><path id=\"steam\" d=\"M0-4c-2.1,2.6-2.1,6.4,0,9l0,0c2.1,2.6,2.1,6.4,0,9l0,0c-2.1,2.6-2.1,6.4,0,9l0,0c2.1,2.6,2.1,6.4,0,9l0,0 c-2.1,2.6-2.1,6.4,0,9l0,0c2.1,2.6,2.1,6.4,0,9c-2.1,2.6-2.1,6.4,0,9l0,0c2.1,2.6,2.1,6.4,0,9l0,0c-2.1,2.6-2.1,6.4,0,9l0,0 c2.1,2.6,2.1,6.4,0,9l0,0c-2.1,2.6-2.1,6.4,0,9l0,0c2.1,2.6,2.1,6.4,0,9c-2.1,2.6-2.1,6.4,0,9l0,0c2.1,2.6,2.1,6.4,0,9l0,0 c-2.1,2.6-2.1,6.4,0,9h0c2.1,2.6,2.1,6.4,0,9h0c-2.1,2.6-2.1,6.4,0,9h0c2.1,2.6,2.1,6.4,0,9\" stroke-width=\"6\" stroke-linecap=\"round\" fill=\"#f00\" stroke=\"#58a8f6\"></path></defs><g mask=\"url(#mask)\"><use x=\"29\" y=\"1.00876\" href=\"#steam\"><animate attributeName=\"y\" calcMode=\"linear\" values=\"4;-14\" keyTimes=\"0;1\" dur=\"0.5\" begin=\"0s\" repeatCount=\"indefinite\"></animate></use><use x=\"47\" y=\"-5.98248\" href=\"#steam\"><animate attributeName=\"y\" calcMode=\"linear\" values=\"0;-18\" keyTimes=\"0;1\" dur=\"0.25\" begin=\"0s\" repeatCount=\"indefinite\"></animate></use><use x=\"64\" y=\"-8.48686\" href=\"#steam\"><animate attributeName=\"y\" calcMode=\"linear\" values=\"-4;-22\" keyTimes=\"0;1\" dur=\"0.3333333333333333\" begin=\"0s\" repeatCount=\"indefinite\"></animate></use></g><path d=\"M81.2,52.5l-5.2,0V49c0-1.6-1.3-3-3-3H20c-1.6,0-3,1.3-3,3v11.6C17,71.3,25.7,80,36.5,80h20.1 c7.1,0,13.3-3.8,16.7-9.5h8.3c5.2,0,9.3-4.4,9-9.6C90.2,56.1,86,52.5,81.2,52.5z M81.5,67.5h-6.8c0.8-2.2,1.3-4.5,1.3-7v-5h5.5 c3.3,0,6,2.7,6,6S84.8,67.5,81.5,67.5z\" fill=\"#58a8f6\"></path><path d=\"M78.8,88H19.2c-1.1,0-2-0.9-2-2s0.9-2,2-2h59.5c1.1,0,2,0.9,2,2S79.9,88,78.8,88z\" fill=\"rgba(80.78431372549018%,94.50980392156862%,72.15686274509802%,0)\"></path></svg>`\r\n];\r\n","/*\r\n* @Author: ç¯çç§æ(Lucas Huang)\r\n* @LastEditors: ç¯çç§æ(Lucas Huang)\r\n* @Company: Inspur\r\n* @Version: v0.1.8\r\n* @Date: 2018-09-18 16:04:05\r\n* @LastEditTime: 2019-10-17 13:42:45\r\n*/\r\n\r\nimport { Component, OnInit, ElementRef, ViewChild, Renderer2, AfterViewInit, Output, EventEmitter, OnDestroy, Input } from '@angular/core';\r\nimport { LOADING_STYLES } from './loading.styles';\r\nimport { delay, filter, takeUntil } from 'rxjs/operators';\r\nimport { Subject, Subscription, BehaviorSubject } from 'rxjs';\r\nimport { CommonUtils, DebugService } from '@farris/ui-common';\r\n\r\n@Component({\r\n    selector: 'farris-loading',\r\n    template: `\r\n        <div #loadingBackdrop class=\"farris-loading-backdrop loading-wait\" (click)=\"closeWhenClick5($event)\"></div>\r\n        <div #loadingContainerEl class=\"farris-loading\" style=\"visibility: hidden\">\r\n            <div class=\"ng-busy-default-wrapper\">\r\n                <div class=\"ng-busy-default-sign\" >\r\n                    <div [style.width]=\"width+ 'px'\" [style.height]=\"width+'px'\" style=\"display: inline-block;margin:4px;\"\r\n                                [innerHTML]=\"loadingStyleDom[type] | safe: 'html'\"></div>\r\n                    <div class=\"ng-busy-default-text\" style=\"margin-left:0;\"\r\n                                 *ngIf=\"showMessage\" [innerHTML]=\"'loading.message' | locale: '' :message | safe: 'html'\"></div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    `,\r\n    styles: [\r\n        `.loading-wait {\r\n            cursor: wait\r\n        }\r\n        .animated-0.5 {\r\n            -webkit-animation-duration: 0s;\r\n            animation-duration: 0s;\r\n        }\r\n        `\r\n    ]\r\n})\r\nexport class LoadingComponent implements OnInit, AfterViewInit, OnDestroy {\r\n    @Input() showMessage = true;\r\n    loadingStyleDom = LOADING_STYLES;\r\n    id: number;\r\n    private _isActive = false;\r\n    private activeSubject = new BehaviorSubject(false);\r\n    message = '';\r\n    width = 30;\r\n    /** loading æ ·å¼ */\r\n    type = 0;\r\n\r\n    delay = 300;\r\n\r\n    get isActive(): boolean {\r\n        return this._isActive;\r\n    }\r\n\r\n    set isActive(val: boolean) {\r\n        this._isActive = val;\r\n        if (this.activeSubject) {\r\n            this.activeSubject.next(val);\r\n        }\r\n    }\r\n\r\n    @ViewChild('loadingContainerEl') loadingContainerEl: ElementRef;\r\n    @ViewChild('loadingBackdrop') loadingBackdrop: ElementRef;\r\n    @Output() closed = new EventEmitter<any>();\r\n    activedSubscrition: Subscription = null;\r\n\r\n    parentContainer = null;\r\n\r\n    private destroy$ = new Subject();\r\n\r\n    private debugSer: DebugService = null;\r\n    private commonUtils: CommonUtils = null;\r\n\r\n    constructor(private render: Renderer2, private el: ElementRef) {\r\n        if (!this.debugSer) {\r\n            this.debugSer = new DebugService();\r\n        }\r\n\r\n        if (this.debugSer.useDebugMode) {\r\n            this.debugSer.useDebugMode();\r\n        }\r\n    }\r\n\r\n    ngOnInit() {\r\n        this.activedSubscrition = this.activeSubject.pipe(\r\n            takeUntil(this.destroy$)\r\n        ).pipe(\r\n            filter((n: boolean) => {\r\n                return n;\r\n            }),\r\n            delay(this.delay)\r\n        ).subscribe(v => {\r\n            if (v && this.isActive) {\r\n                // this.render.setStyle(this.loadingContainerEl.nativeElement, 'display', 'block');\r\n                this.render.setStyle(this.loadingBackdrop.nativeElement, 'display', 'block');\r\n                this.render.setStyle(this.loadingContainerEl.nativeElement, 'left', 0);\r\n                this.setPosition();\r\n                this.render.removeStyle(this.loadingContainerEl.nativeElement, 'visibility');\r\n                this.render.removeStyle(this.loadingContainerEl.nativeElement, 'left');\r\n            }\r\n        });\r\n    }\r\n\r\n    ngAfterViewInit() {\r\n\r\n    }\r\n\r\n    ngOnDestroy() {\r\n        this.destroy$.next();\r\n        this.destroy$.complete();\r\n        this.commonUtils = null;\r\n    }\r\n\r\n    close() {\r\n        if (this.loadingBackdrop) {\r\n            this.loadingBackdrop.nativeElement.remove();\r\n        }\r\n        this.isActive = false;\r\n        this.render.removeAttribute(this.el.nativeElement, 'class');\r\n        // this.animate('f-component-loading fadeOut animated animated-0.5');\r\n        this.closed.emit(this.isActive);\r\n    }\r\n\r\n    private setPosition() {\r\n        if (!this.commonUtils) {\r\n            this.commonUtils = new CommonUtils();\r\n        }\r\n\r\n        const containerWidth = this.loadingContainerEl.nativeElement.clientWidth;\r\n        const containerHeight = this.loadingContainerEl.nativeElement.clientHeight;\r\n\r\n        this.render.setStyle(this.loadingContainerEl.nativeElement, 'marginTop', -containerHeight / 2 + 'px');\r\n\r\n        let ml = -containerWidth / 2 + 'px'\r\n        if (this.parentContainer) {\r\n            if (this.parentContainer.clientWidth <= 200) {\r\n                ml = '-100px';\r\n            }\r\n        }\r\n        this.render.setStyle(this.loadingContainerEl.nativeElement, 'marginLeft', ml);\r\n\r\n        const zindex = this.commonUtils.getFloatingLayerIndex();\r\n        this.render.setStyle(this.loadingBackdrop.nativeElement, 'zIndex', zindex);\r\n        this.render.setStyle(this.loadingContainerEl.nativeElement, 'zIndex', zindex + 1);\r\n    }\r\n\r\n    private animate(animateCls: string) {\r\n        this.addAnimationEndEvent('webkitAnimationEnd', 'mozAnimationEnd', 'MSAnimationEnd', 'oanimationend', 'animationend');\r\n        this.render.setAttribute(this.el.nativeElement, 'class', animateCls);\r\n    }\r\n\r\n    private addAnimationEndEvent(...events: string[]) {\r\n        const _this = this;\r\n\r\n        events.forEach(e => {\r\n            _this.el.nativeElement.addEventListener(e, function handler() {\r\n                _this.el.nativeElement.removeEventListener(e, handler);\r\n                // _this.render.removeAttribute(_this.el.nativeElement, 'class');\r\n                ['fadeIn', 'fadeOut', 'animated', 'animated-0.5'].forEach(n => {\r\n                    _this.render.removeClass(_this.el.nativeElement, n);\r\n                });\r\n                _this.closed.emit(_this.isActive);\r\n            });\r\n        });\r\n    }\r\n\r\n    closeWhenClick5($event: MouseEvent) {\r\n        $event.stopPropagation();\r\n        if (this.debugSer.isDebug) {\r\n            this.commonUtils.clickContinuity(() => {\r\n                this.close();\r\n            });\r\n        }\r\n    }\r\n}\r\n","import { LocaleService } from '@farris/ui-locale';\r\nimport { Injectable, ApplicationRef, ComponentFactoryResolver, Injector, ComponentRef, ElementRef } from '@angular/core';\r\nimport { LoadingConfig, LOADING_DEFAULT_CONFIG, loaddingDefaultConfig } from './loading.config';\r\nimport { LoadingComponent } from './loading.component';\r\nimport { max } from 'lodash-es';\r\n\r\n@Injectable()\r\nexport class LoadingService {\r\n    config: LoadingConfig;\r\n\r\n    private currentLoadingInstanceID = null;\r\n    private loadingInstances: { [key: number]: ComponentRef<LoadingComponent> } = {};\r\n    private localeSer: LocaleService;\r\n    constructor(private appRef: ApplicationRef,\r\n                private cfr: ComponentFactoryResolver, private injecotr: Injector) {\r\n                    this.localeSer = this.injecotr.get(LocaleService);\r\n    }\r\n\r\n    show(config?: LoadingConfig): LoadingComponent {\r\n        this.config = this.injecotr.get(LOADING_DEFAULT_CONFIG) || {};\r\n        this.config = Object.assign(loaddingDefaultConfig, this.config);\r\n\r\n        let _loadingCmpRef: ComponentRef<LoadingComponent>;\r\n        const loadingFactory = this.cfr.resolveComponentFactory(LoadingComponent);\r\n        _loadingCmpRef = loadingFactory.create(this.injecotr);\r\n\r\n        if (config) {\r\n            this.config = Object.assign({}, this.config, config);\r\n        }\r\n        // const languageCode = localStorage.getItem('languageCode');\r\n        // if (languageCode === 'en') {\r\n        //     this.config.message = 'Loading...';\r\n        // }\r\n        if (this.localeSer) {\r\n            if (!this.config.message || this.config.message === 'æ­£å¨å è½½ä¸­ï¼è¯·ç¨å...') {\r\n                this.config.message = this.localeSer.getValue('loading.message');\r\n            }\r\n        }\r\n\r\n        const container = this.config.container;\r\n        let parentContainer = null;\r\n        if (container === 'body') {\r\n            document.querySelector(container as string).appendChild( _loadingCmpRef.location.nativeElement);\r\n        } else {\r\n            if (container instanceof ElementRef ) {\r\n                container.nativeElement.appendChild(\r\n                    _loadingCmpRef.location.nativeElement\r\n                );\r\n\r\n                parentContainer = container.nativeElement;\r\n            } else {\r\n                if (container instanceof Element) {\r\n                    container.appendChild(\r\n                        _loadingCmpRef.location.nativeElement\r\n                    );\r\n\r\n                    parentContainer = container;\r\n                }\r\n            }\r\n        }\r\n        _loadingCmpRef.instance.delay = this.config.delay;\r\n        _loadingCmpRef.instance.isActive = true;\r\n        _loadingCmpRef.instance.parentContainer = parentContainer;\r\n        Object.assign(_loadingCmpRef.instance, this.config);\r\n\r\n        _loadingCmpRef.instance.closed.subscribe(state => {\r\n            if (!state) {\r\n                delete this.loadingInstances[_loadingCmpRef.instance.id];\r\n                this.currentLoadingInstanceID = this.getMaxLoadingID();\r\n                this.clearDom(_loadingCmpRef);\r\n            }\r\n        });\r\n\r\n        _loadingCmpRef.changeDetectorRef.markForCheck();\r\n        _loadingCmpRef.changeDetectorRef.detectChanges();\r\n\r\n        const loadingID = this.createInsId();\r\n        _loadingCmpRef.instance.id = loadingID;\r\n        this.loadingInstances[loadingID] =  _loadingCmpRef;\r\n        this.currentLoadingInstanceID = loadingID;\r\n\r\n        return _loadingCmpRef.instance;\r\n    }\r\n\r\n    close(loadingId?: number) {\r\n        const id = loadingId || this.currentLoadingInstanceID;\r\n        const loadingRef = this.loadingInstances[id];\r\n        if (loadingRef) {\r\n            loadingRef.instance.close();\r\n        }\r\n    }\r\n\r\n    clearAll() {\r\n        const keys = Object.keys(this.loadingInstances);\r\n        if (keys.length) {\r\n            keys.forEach(id => {\r\n                this.clearDom(this.loadingInstances[id]);\r\n            });\r\n        } else {\r\n            const loadings = document.querySelectorAll('farris-loading');\r\n            if (loadings.length) {\r\n                loadings.forEach( el => el.remove() );\r\n            }\r\n\r\n            this.loadingInstances = {};\r\n        }\r\n    }\r\n\r\n    private clearDom(_loadingCmpRef: ComponentRef<LoadingComponent>) {\r\n        if (_loadingCmpRef && _loadingCmpRef.location) {\r\n            const loadingEl = _loadingCmpRef.location.nativeElement;\r\n\r\n            if (loadingEl.parentNode) {\r\n                loadingEl.parentNode.removeChild(loadingEl);\r\n            }\r\n\r\n            _loadingCmpRef.destroy();\r\n        }\r\n\r\n        _loadingCmpRef = null;\r\n    }\r\n\r\n    private createInsId() {\r\n        return this.getMaxLoadingID() + 1;\r\n    }\r\n\r\n    private getMaxLoadingID() {\r\n        const ids = Object.keys(this.loadingInstances).map(k => parseInt(k, 10));\r\n        if (ids.length) {\r\n            return max(ids);\r\n        }\r\n\r\n        return 0;\r\n    }\r\n}\r\n\r\n","import { NgModule, ModuleWithProviders } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { LoadingComponent } from './loading.component';\r\nimport { LoadingService } from './loading.service';\r\nimport { LoadingConfig, LOADING_DEFAULT_CONFIG, loaddingDefaultConfig } from './loading.config';\r\nimport { FarrisCommonModule } from '@farris/ui-common';\r\nimport { LocaleModule } from '@farris/ui-locale';\r\n\r\n\r\n@NgModule({\r\n    imports: [\r\n        CommonModule,\r\n        FarrisCommonModule,\r\n        LocaleModule\r\n    ],\r\n    declarations: [\r\n        LoadingComponent\r\n    ],\r\n    entryComponents: [\r\n        LoadingComponent\r\n    ]\r\n})\r\nexport class LoadingModule {\r\n    static forRoot(config?: LoadingConfig): ModuleWithProviders {\r\n        return {\r\n            ngModule: LoadingModule,\r\n            providers: [\r\n                { provide: LOADING_DEFAULT_CONFIG, useValue: config || loaddingDefaultConfig},\r\n                LoadingService\r\n            ]\r\n        };\r\n    }\r\n}\r\n"],"names":[],"mappings":"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"}
