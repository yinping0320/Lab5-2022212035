{"version":3,"file":"farris-ui-progress-step.umd.js.map","sources":["ng://@farris/ui-progress-step/lib/progress-step.service.ts","ng://@farris/ui-progress-step/lib/progress-step.component.ts","ng://@farris/ui-progress-step/lib/progress-step.module.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class ProgressStepService {\r\n\r\n  constructor() { }\r\n}\r\n","import {\r\n  Component,\r\n  OnInit,\r\n  Input,\r\n  Output,\r\n  Directive,\r\n  TemplateRef,\r\n  ContentChild,\r\n  EventEmitter,\r\n  OnChanges,\r\n  SimpleChanges,\r\n} from \"@angular/core\";\r\n\r\n@Directive({\r\n  selector: \"[progressStepItem]\",\r\n})\r\nexport class ProgressStepItemTemplateDirective {\r\n  constructor(public template: TemplateRef<any>) { }\r\n}\r\n\r\n@Directive({\r\n  selector: \"[progressStepExtend]\",\r\n})\r\nexport class ProgressStepExtendTemplateDirective {\r\n  constructor(public template: TemplateRef<any>) { }\r\n}\r\n\r\nexport interface stepMessage {\r\n  id: string;\r\n  title: string;\r\n  icon?: string;\r\n  status?: string;\r\n  clickDisable?: boolean;\r\n  hidden?: boolean;\r\n  class?: string;\r\n}\r\nexport interface progressData {\r\n  activeIndex: number;\r\n  stepMessages: stepMessage[];\r\n}\r\n\r\n@Component({\r\n  selector: \"farris-progress-step\",\r\n  templateUrl: \"./progress-step.component.html\",\r\n  styleUrls: [\"./progress-step.component.scss\"],\r\n})\r\nexport class ProgressStepComponent implements OnInit, OnChanges {\r\n  @ContentChild(ProgressStepItemTemplateDirective, { read: TemplateRef })\r\n  progressStepTemplate: TemplateRef<any>;\r\n  @ContentChild(ProgressStepExtendTemplateDirective, { read: TemplateRef })\r\n  progressStepExtendTmpl: TemplateRef<any>;\r\n\r\n  //è¿åº¦æ¡æ°æ®\r\n  // @Input() stepData:progressData;\r\n\r\n  /**æ¨ªåhorizontalãç«åæåvertical*/\r\n  @Input() direction = \"horizontal\";\r\n  /**æ¯å¦éºæ»¡ */\r\n  @Input() fill: boolean = false;\r\n  /**æ¯å¦æ¯æç¹å» */\r\n  @Input() clickable: boolean = false;\r\n  // æ­¥éª¤æ¡æ´ä½æ ·å¼\r\n  @Input() stepsCls = \"\";\r\n  @Input() fHeight: number;\r\n  // æ­¥éª¤æ¡Style,åæ³ [stepStyle]=\"{'max-width':'100px'}\"\r\n  @Input() stepStyle: any;\r\n  @Output(\"stepClick\") stepClick = new EventEmitter();\r\n\r\n  /**\r\n   * stepsä¸stepDataï¼éæ©ä¸ä¸ªä½¿ç¨\r\n   * æå®æ­¥éª¤æ¡æ°æ®ï¼æ¯æ°ç»ãå¸¸ç¨å¨åèªå®ä¹æ¨¡ççå°æ¹ã\r\n   * [{id:string,title:string,icon?string,hidden?boolean}]\r\n   */\r\n  @Input() steps: stepMessage[];\r\n  /**\r\n   * æå®å½åæ­¥éª¤çæ°æ®Id\r\n   */\r\n  @Input() currentId: string;\r\n  @Input() storedIndexState: boolean = false;\r\n\r\n  /**\r\n   * æå®å­é¡¹æ°æ®ä¸­ï¼åªä¸ªæ¯æ´»å¨ç\r\n   * {å­é¡¹æ­¥éª¤id:æå®å­é¡¹å¤äºæ´»å¨æ­¥éª¤çé¡ºåº}æ¯å¦{\"data3\":2}\r\n   */\r\n  _subStepData;\r\n  @Input()\r\n  set subStepData(value) {\r\n    this._subStepData = value;\r\n  }\r\n  get subStepData() {\r\n    return this._subStepData;\r\n  }\r\n  /**\r\n   * è¿æ»¤éèçæ­¥éª¤ä¿¡æ¯ï¼è®°å½å½åæ¾ç¤ºçæ­¥éª¤æ¡ï¼\r\n   */\r\n  stepMessages: stepMessage[];\r\n  /**\r\n   * è®°å½å½åæ­¥éª¤æå¨çä½ç½®ï¼ä»0å¼å§\r\n   */\r\n  activeIndex: number = 0;\r\n  currentIndex: number;\r\n\r\n  private innerStepData: progressData;\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit() { }\r\n  /**\r\n   * stepsä¸stepDataï¼éæ©ä¸ä¸ªä½¿ç¨ã\r\n   * stepDataå¸¸è¢«è¡¨åç»å®ä½¿ç¨ï¼æ°æ®ç±»å\r\n   * {activeIndex:number,stepMessages:[{id:string,title:string,icon?string,hidden?boolean}]}\r\n   * activeIndex: æå®æ´»å¨çæ­¥éª¤å¨æ°ç»ä¸­çä½ç½®,\r\n   * stepMessages: æææ­¥éª¤æ°æ®çæ°ç»\r\n   */\r\n  _stepData: progressData;\r\n  @Input()\r\n  set stepData(value) {\r\n    if (value) {\r\n      // äºéä¸å±æ§ï¼éç½®\r\n      this.steps = null;\r\n      this.stepInit(value);\r\n    }\r\n  }\r\n  get stepData() {\r\n    return this._stepData;\r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges) {\r\n    if (changes[\"steps\"] || changes[\"currentId\"]) {\r\n      // stepsæ²¡æå¼æèstepDataæå¼ï¼é½ä¸å¤çï¼è¿ä¸¤ä¸ªå±æ§å¯¹ç¨æ·æ¯äºéä¸\r\n      if (!this.steps || this.stepData) {\r\n        return;\r\n      }\r\n      this.steps.forEach((item) => (item.status = \"\"));\r\n      this.stepMessages = this.steps.filter((item) => !item.hidden);\r\n      let index = this.stepMessages.findIndex(\r\n        (item) => item.id === this.currentId\r\n      );\r\n      this.activeIndex = index === -1 ? 0 : index;\r\n    }\r\n  }\r\n\r\n  /**ç¹å»æä¸æ­¥ */\r\n  listClick(step, index) {\r\n    if (this.clickable) {\r\n      this.stepClick.emit({ \"step\": step, \"index\": index });\r\n    }\r\n  }\r\n\r\n  goStep(index) {\r\n    if (this.storedIndexState) {\r\n      if (this.activeIndex == index) {\r\n        this.currentIndex = null;\r\n      } else {\r\n        this.currentIndex = index;\r\n      }\r\n    } else {\r\n      this.stepMessages.forEach((step, i) => {\r\n        if (i < index) {\r\n          step.status = \"finish\";\r\n        } else if (i > index) {\r\n          step.status = \"\";\r\n        } else {\r\n          step.status = \"active\";\r\n        }\r\n      });\r\n      this.activeIndex = index;\r\n    }\r\n  }\r\n\r\n  /**ä¸ä¸æ­¥ */\r\n  nextStep() {\r\n    if (\r\n      this.storedIndexState &&\r\n      this.currentIndex < this.stepMessages.length - 1\r\n    ) {\r\n      this.currentIndex++;\r\n    }\r\n    if (this.activeIndex < this.stepMessages.length - 1) {\r\n      this.stepMessages[this.activeIndex].status = \"finish\";\r\n      this.stepMessages[this.activeIndex + 1].status = \"active\";\r\n      this.activeIndex++;\r\n      if (this.storedIndexState) {\r\n        this.currentIndex = this.activeIndex;\r\n      }\r\n    }\r\n    //return this.activeIndex;\r\n  }\r\n  /**ä¸ä¸æ­¥ */\r\n  prevStep() {\r\n    // if(this.storedIndexState && this.currentIndex > 0){\r\n    //   this.currentIndex--;\r\n    // }\r\n    if (this.activeIndex > 0) {\r\n      // else if(this.activeIndex > 0 && !this.storedIndexState){\r\n      this.stepMessages[this.activeIndex].status = \"\";\r\n      this.stepMessages[this.activeIndex - 1].status = \"active\";\r\n      this.activeIndex--;\r\n      if (this.storedIndexState) {\r\n        this.currentIndex = this.activeIndex;\r\n      }\r\n    }\r\n    //return this.activeIndex;\r\n  }\r\n\r\n  getCurrentStepIndex() {\r\n    return this.activeIndex;\r\n  }\r\n\r\n  stepInit(data) {\r\n    if (data[\"stepMessages\"] && data[\"stepMessages\"].length) {\r\n      data[\"stepMessages\"].forEach((step) => {\r\n        //if(typeof step.status === 'undefined'){\r\n        step.status = \"\";\r\n        //}\r\n      });\r\n      this.stepMessages = data[\"stepMessages\"].filter((step) => {\r\n        return !step.hidden;\r\n      });\r\n    }\r\n    this.activeIndex = data[\"activeIndex\"];\r\n    if (this.storedIndexState) {\r\n      this.currentIndex = this.activeIndex;\r\n    }\r\n  }\r\n\r\n  setProgressData(progressData: progressData) {\r\n    if (progressData) {\r\n      //this.stepData = progressData;\r\n      this.stepInit(progressData);\r\n    }\r\n  }\r\n\r\n  setActiveIndex(num: number) {\r\n    let activeNum: number =\r\n      num >= 0 && num < this.stepMessages.length ? num : 0;\r\n    this.activeIndex = activeNum;\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { ProgressStepComponent,ProgressStepItemTemplateDirective,ProgressStepExtendTemplateDirective } from './progress-step.component';\r\nimport { LocaleModule } from '@farris/ui-locale';\r\n\r\n@NgModule({\r\n  declarations: [ProgressStepComponent,ProgressStepItemTemplateDirective,ProgressStepExtendTemplateDirective],\r\n  imports: [\r\n    CommonModule,\r\n    LocaleModule.forRoot()\r\n  ],\r\n  exports: [ProgressStepComponent,ProgressStepItemTemplateDirective,ProgressStepExtendTemplateDirective]\r\n})\r\nexport class ProgressStepModule { }\r\n"],"names":["Injectable","Directive","TemplateRef","EventEmitter","Component","ContentChild","Input","Output","NgModule","CommonModule","LocaleModule"],"mappings":"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"}
