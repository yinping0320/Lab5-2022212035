{"version":3,"file":"farris-ui-calculator.js.map","sources":["ng://@farris/ui-calculator/lib/calculator.service.ts","ng://@farris/ui-calculator/lib/calculator.component.ts","ng://@farris/ui-calculator/lib/precision.ts","ng://@farris/ui-calculator/lib/calculator.directive.ts","ng://@farris/ui-calculator/lib/calculator.module.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class CalculatorService {\r\n\r\n  constructor() { }\r\n}\r\n","import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'farris-calculator',\r\n  template: `<div class=\"standard-main\" id=\"std-main\" #calculator farrisCalculator>\r\n  <div class=\"title\">\r\n    &nbsp;&nbsp;è®¡ç®å¨\r\n  </div>\r\n  <!--ç»ææ¾ç¤ºåºå-->\r\n  <div class=\"result\">\r\n    <!--æ¾ç¤ºç±»åä¿¡æ¯-->\r\n    <div class=\"type\" id=\"std-show-bar\">\r\n    â°&nbsp;&nbsp;&nbsp;Stanard\r\n    </div>\r\n    <!--ä¸ä¸æ­¥çç»æ-->\r\n    <div class=\"pre\">\r\n      <div class=\"pre_left\" style=\"display:none;\">&lt;</div>\r\n      <div class=\"pre_content\" id=\"std-pre-step\">\r\n        &nbsp;\r\n      </div>\r\n      <div class=\"pre_right\" style=\"display:none;\">&gt;</div>\r\n    </div>\r\n    <!--ç¬¬äºä¸ª/è¿ç®ç»æ-->\r\n    <div class=\"res_out\">\r\n      <div class=\"second\" id=\"std-show-input\">0</div>\r\n    </div>\r\n  </div>\r\n  <!--æ°å­åç¬¦å·-->\r\n  <ul id=\"std-num-symbol\">\r\n    <li value=\"37\" class=\"letter\">CE</li>\r\n    <li value=\"38\" class=\"letter\">C</li>\r\n    <li value=\"39\" class=\"letter\">Back</li>\r\n    <li value=\"16\" class=\"operator\">Ã·</li>\r\n    <li class=\"number\" value=\"7\">7</li>\r\n    <li class=\"number\" value=\"8\">8</li>\r\n    <li class=\"number\" value=\"9\">9</li>\r\n    <li value=\"15\" class=\"operator\">Ã</li>\r\n    <li class=\"number\" value=\"4\">4</li>\r\n    <li class=\"number\" value=\"5\">5</li>\r\n    <li class=\"number\" value=\"6\">6</li>\r\n    <li value=\"14\" class=\"operator\">-</li>\r\n    <li class=\"number\" value=\"1\">1</li>\r\n    <li class=\"number\" value=\"2\">2</li>\r\n    <li class=\"number\" value=\"3\">3</li>\r\n    <li value=\"13\" class=\"operator\">+</li>\r\n    <li value=\"11\">Â±</li>\r\n    <li class=\"number\" value=\"0\">0</li>\r\n    <li value=\"10\">.</li>\r\n    <li value=\"12\" class=\"operator\">=</li>\r\n  </ul>\r\n</div>\r\n  `,\r\n  styleUrls: ['./calculator.css'],\r\n})\r\nexport class CalculatorComponent implements OnInit {\r\n\r\n  constructor() {\r\n\r\n  }\r\n  ngOnInit() {\r\n\r\n  }\r\n\r\n}\r\n","/**\r\n * @desc è§£å³æµ®å¨è¿ç®é®é¢ï¼é¿åå°æ°ç¹åäº§çå¤ä½æ°åè®¡ç®ç²¾åº¦æå¤±ã\r\n * é®é¢ç¤ºä¾ï¼2.3 + 2.4 = 4.699999999999999ï¼1.0 - 0.9 = 0.09999999999999998\r\n */\r\n\r\n/**\r\n * æéè¯¯çæ°æ®è½¬æ­£\r\n * strip(0.09999999999999998)=0.1\r\n */\r\nfunction strip(num: number, precision = 12): number {\r\n    return +parseFloat(num.toPrecision(precision));\r\n}\r\n\r\n/**\r\n * Return digits length of a number\r\n * @param num Input number\r\n */\r\nfunction digitLength(num: number): number {\r\n    // Get digit length of e\r\n    const eSplit = num.toString().split(/[eE]/);\r\n    const len = (eSplit[0].split('.')[1] || '').length - +(eSplit[1] || 0);\r\n    return len > 0 ? len : 0;\r\n}\r\n\r\n/**\r\n * æå°æ°è½¬ææ´æ°ï¼æ¯æç§å­¦è®¡æ°æ³ãå¦ææ¯å°æ°åæ¾å¤§ææ´æ°\r\n * @param num è¾å¥æ°\r\n */\r\nfunction float2Fixed(num: number): number {\r\n    if (num.toString().indexOf('e') === -1) {\r\n        return Number(num.toString().replace('.', ''));\r\n    }\r\n    const dLen = digitLength(num);\r\n    return dLen > 0 ? strip(num * Math.pow(10, dLen)) : num;\r\n}\r\n\r\n/**\r\n * æ£æµæ°å­æ¯å¦è¶çï¼å¦æè¶çç»åºæç¤º\r\n * @param num è¾å¥æ°\r\n */\r\nfunction checkBoundary(num: number) {\r\n    if (_boundaryCheckingState) {\r\n        if (num > Number.MAX_SAFE_INTEGER || num < Number.MIN_SAFE_INTEGER) {\r\n            console.warn(\r\n                `${num} is beyond boundary when transfer to integer, the results may not be accurate`\r\n            );\r\n        }\r\n    }\r\n}\r\n\r\n/**\r\n * ç²¾ç¡®ä¹æ³\r\n */\r\nfunction times(num1: number, num2: number, ...others: number[]): number {\r\n    if (others.length > 0) {\r\n        return times(times(num1, num2), others[0], ...others.slice(1));\r\n    }\r\n    const num1Changed = float2Fixed(num1);\r\n    const num2Changed = float2Fixed(num2);\r\n    const baseNum = digitLength(num1) + digitLength(num2);\r\n    const leftValue = num1Changed * num2Changed;\r\n\r\n    checkBoundary(leftValue);\r\n\r\n    return leftValue / Math.pow(10, baseNum);\r\n}\r\n\r\n/**\r\n * ç²¾ç¡®å æ³\r\n */\r\nfunction plus(num1: number, num2: number, ...others: number[]): number {\r\n    if (others.length > 0) {\r\n        return plus(plus(num1, num2), others[0], ...others.slice(1));\r\n    }\r\n    const baseNum = Math.pow(10, Math.max(digitLength(num1), digitLength(num2)));\r\n    return (times(num1, baseNum) + times(num2, baseNum)) / baseNum;\r\n}\r\n\r\n/**\r\n * ç²¾ç¡®åæ³\r\n */\r\nfunction minus(num1: number, num2: number, ...others: number[]): number {\r\n    if (others.length > 0) {\r\n        return minus(minus(num1, num2), others[0], ...others.slice(1));\r\n    }\r\n    const baseNum = Math.pow(10, Math.max(digitLength(num1), digitLength(num2)));\r\n    return (times(num1, baseNum) - times(num2, baseNum)) / baseNum;\r\n}\r\n\r\n/**\r\n * ç²¾ç¡®é¤æ³\r\n */\r\nfunction divide(num1: number, num2: number, ...others: number[]): number {\r\n    if (others.length > 0) {\r\n        return divide(divide(num1, num2), others[0], ...others.slice(1));\r\n    }\r\n    const num1Changed = float2Fixed(num1);\r\n    const num2Changed = float2Fixed(num2);\r\n    checkBoundary(num1Changed);\r\n    checkBoundary(num2Changed);\r\n    return times(\r\n        num1Changed / num2Changed,\r\n        Math.pow(10, digitLength(num2) - digitLength(num1))\r\n    );\r\n}\r\n\r\n/**\r\n * åèäºå¥\r\n */\r\nfunction round(num: number, ratio: number): number {\r\n    const base = Math.pow(10, ratio);\r\n    return divide(Math.round(times(num, base)), base);\r\n}\r\n\r\nlet _boundaryCheckingState = false;\r\n/**\r\n * æ¯å¦è¿è¡è¾¹çæ£æ¥ï¼é»è®¤å¼å¯\r\n * @param flag æ è®°å¼å³ï¼true ä¸ºå¼å¯ï¼false ä¸ºå³é­ï¼é»è®¤ä¸º true\r\n */\r\nfunction enableBoundaryChecking(flag = true) {\r\n    _boundaryCheckingState = flag;\r\n}\r\nexport {\r\n    strip,\r\n    plus,\r\n    minus,\r\n    times,\r\n    divide,\r\n    round,\r\n    digitLength,\r\n    float2Fixed,\r\n    enableBoundaryChecking\r\n};\r\nexport default {\r\n    strip,\r\n    plus,\r\n    minus,\r\n    times,\r\n    divide,\r\n    round,\r\n    digitLength,\r\n    float2Fixed,\r\n    enableBoundaryChecking\r\n};\r\n","import { Directive, HostListener, Renderer2, ElementRef, OnInit, AfterViewChecked, ChangeDetectorRef } from '@angular/core';\r\nimport { plus, minus, times, divide, } from './precision';\r\nimport { NotifyService } from '@farris/ui-notify';\r\n\r\n@Directive({\r\n  selector: '[farrisCalculator]'\r\n})\r\nexport class CalculatorDirective implements OnInit, AfterViewChecked {\r\n  //è®¡ç®å¨æ¬èº«\r\n  private selfEl: HTMLElement;\r\n  //æä½æ­¥éª¤æ¾ç¤ºåº\r\n  private stepEl: HTMLElement;\r\n  //è®¡ç®ç»ææ¾ç¤ºåº\r\n  private resultEl: HTMLElement;\r\n  //æé®åº\r\n  private symbolEl: HTMLElement;\r\n  private preEl: HTMLElement;\r\n  private leftEl: HTMLElement;\r\n  private rightEl: HTMLElement;\r\n  private number = ['0', '1', '2', '3', '4', '5', '6', '7', '8', '9'];\r\n  //æä½æ­¥éª¤ç¼å­\r\n  private stepInputCache: any = '';\r\n  //ç»æç¼å­\r\n  private resultInputCache: any = '0';\r\n  //è®°å½å åä¹é¤çæ°å­\r\n  private preNumber: any[] = [];\r\n  //è®°å½å åä¹é¤ç¬¦å·\r\n  private preOperator: any[] = [];\r\n  //è®°å½è½å¦è¿½å è¿ç®æèæ°å­æ¯è¿½å è¿æ¯è¦ç\r\n  private firstInputToken: boolean;\r\n  private equalToken: boolean;\r\n\r\n  constructor(\r\n    private el: ElementRef,\r\n    private rd: Renderer2,\r\n    private notifyService: NotifyService,\r\n    private cdr: ChangeDetectorRef\r\n  ) {\r\n\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.selfEl = this.el.nativeElement;\r\n    this.stepEl = this.selfEl.querySelector('#std-pre-step');\r\n    this.resultEl = this.selfEl.querySelector('#std-show-input');\r\n    this.symbolEl = this.selfEl.querySelector('#std-num-symbol');\r\n    this.preEl = this.selfEl.querySelector('.pre');\r\n    this.leftEl = this.selfEl.querySelector('.pre_left');\r\n    this.rightEl = this.selfEl.querySelector('.pre_right');\r\n\r\n    this.rd.listen(this.rightEl, 'click', () => {\r\n      this.stepEl.scrollLeft +=50;\r\n    })\r\n\r\n    this.rd.listen(this.leftEl, 'click', () => {\r\n      this.stepEl.scrollLeft -=50;\r\n    })\r\n  }\r\n\r\n  ngAfterViewChecked(): void {\r\n    this.calculateWidth()\r\n  }\r\n\r\n  calculateWidth() {\r\n    if (this.stepEl.scrollWidth > this.preEl.offsetWidth) {\r\n      this.leftEl.style.display = 'block';\r\n      this.rightEl.style.display = 'block';\r\n    } else {\r\n      this.leftEl.style.display = 'none';\r\n      this.rightEl.style.display = 'none';\r\n    }\r\n  }\r\n\r\n  /**\r\n   * \r\n   * @param value è®¾ç½®æ­¥éª¤æ¾ç¤ºåºçåå®¹\r\n   */\r\n  setStepInput(value: any) {\r\n    this.stepEl.innerHTML = value;\r\n  }\r\n\r\n  /**\r\n   * \r\n   * @param value è®¾ç½®ç»æç¤ºåºçåå®¹\r\n   */\r\n  setResultInput(value: any) {\r\n    this.resultEl.innerHTML = value;\r\n  }\r\n\r\n  /**\r\n   * æ­¥éª¤æä½è§çªä¸­ï¼æåæ¾ç¤ºçæ¯å¦æ¯æä½ç¬¦\r\n   */\r\n  stepInputEndIsOperator() {\r\n    return this.stepInputCache.lastIndexOf('+') !== -1 ||\r\n      this.stepInputCache.lastIndexOf('-') !== -1 ||\r\n      this.stepInputCache.lastIndexOf('Ã') !== -1 ||\r\n      this.stepInputCache.lastIndexOf('Ã·') !== -1;\r\n  }\r\n\r\n  /**\r\n   * å åä¹é¤è¿ç®\r\n   * @param f ç¬¬ä¸ä¸ªæ°å­\r\n   * @param s ç¬¬äºä¸ªæ°å­\r\n   * @param o æä½ç¬¦\r\n   */\r\n  calculate(f: number, s: number, o: string) {\r\n    let result: number;\r\n    f = Number(f);\r\n    s = Number(s);\r\n    switch (o) {\r\n      case '+':\r\n        result = plus(f, s);\r\n        break;\r\n      case '-':\r\n        result = minus(f, s);\r\n        break;\r\n      case 'Ã':\r\n        result = times(f, s);\r\n        break;\r\n      case 'Ã·':\r\n        result = divide(f, s);\r\n        break;\r\n    }\r\n    return result;\r\n  }\r\n\r\n  /**\r\n   * numberClick,dotClick,operatorClick,pnClick,equalClick,ceClick,cClick,backClickç­ï¼å¯¹åºçç¹å»ç¸å³çæé®æä½\r\n   * @param val \r\n   */\r\n\r\n  numberClick(val: any) {\r\n    if ((this.resultInputCache.indexOf('0') === 0 && this.resultInputCache.indexOf('.') === -1) || this.firstInputToken === true) {\r\n      this.resultInputCache = val;\r\n    } else {\r\n      this.resultInputCache += val;\r\n    }\r\n    this.firstInputToken = false;\r\n    this.equalToken = false;\r\n  }\r\n\r\n  dotClick(val: any) {\r\n    if (this.firstInputToken === true) {\r\n      this.resultInputCache = '0' + val;\r\n    } else {\r\n      if (this.resultInputCache.indexOf('.') === -1) {\r\n        this.resultInputCache += val;\r\n      }\r\n    }\r\n    this.firstInputToken = false;\r\n    this.equalToken = false;\r\n  }\r\n\r\n  pnClick() {\r\n    if (this.resultInputCache.indexOf('-') === -1 && this.resultInputCache !== '0') {\r\n      this.resultInputCache = \"-\" + this.resultInputCache;\r\n    } else if (this.resultInputCache.indexOf('-') > -1 && this.resultInputCache !== '0') {\r\n      this.resultInputCache = this.resultInputCache.substring(1);\r\n    }\r\n  }\r\n\r\n  operatorClick(val: any) {\r\n    if (this.preNumber.length < 2 && (this.firstInputToken !== true || this.equalToken === true)) {\r\n      this.resultInputCache = parseFloat(this.resultInputCache) + '';\r\n      this.stepInputCache = this.stepInputCache + ' ' + this.resultInputCache + ' ' + val;\r\n      this.preNumber.push(this.resultInputCache);\r\n      this.preOperator.push(val);\r\n      this.firstInputToken = true;\r\n    } else if (this.preNumber.length < 2 && this.stepInputEndIsOperator()) {\r\n      this.stepInputCache = this.stepInputCache.substring(0, this.stepInputCache.length - 1) + '' + val;\r\n      this.preOperator.push(val);\r\n    }\r\n\r\n    if (this.preNumber.length === 2) {\r\n      const operator = this.preOperator[this.preOperator.length - 2];\r\n      if (this.preNumber[1] === '0' && operator === 'Ã·') {\r\n        this.preNumber = [];\r\n        this.resultInputCache = 'é¤æ°ä¸è½ä¸ºé¶';\r\n        this.stepInputCache = '';\r\n        this.firstInputToken = true;\r\n        return;\r\n      }\r\n      const res = this.calculate(this.preNumber[0], this.preNumber[1], operator);\r\n      this.preNumber = [];\r\n      this.preNumber.push(res);\r\n      this.resultInputCache = res + '';\r\n      this.firstInputToken = true;\r\n    }\r\n    this.cdr.detectChanges();\r\n  }\r\n\r\n  equalClick() {\r\n    if (this.preNumber.length > 0) {\r\n      const operator = this.preOperator.pop();\r\n      if (this.resultInputCache === '0' && operator === 'Ã·') {\r\n        this.preNumber = [];\r\n        this.resultInputCache = 'é¤æ°ä¸è½ä¸ºé¶';\r\n        this.stepInputCache = '';\r\n        this.firstInputToken = true;\r\n        this.equalToken = true;\r\n        return;\r\n      }\r\n      const res = this.calculate(this.preNumber[0], this.resultInputCache, operator);\r\n      this.preNumber = [];\r\n      this.resultInputCache = res + '';\r\n      this.stepInputCache = '';\r\n      this.firstInputToken = true;\r\n      this.equalToken = true;\r\n    }\r\n    this.cdr.detectChanges();\r\n  }\r\n\r\n  ceClick() {\r\n    this.resultInputCache = '0';\r\n  }\r\n\r\n  cClick() {\r\n    this.resultInputCache = '0';\r\n    this.stepInputCache = '';\r\n    this.firstInputToken = true;\r\n    this.preNumber = [];\r\n    this.preOperator = [];\r\n    this.cdr.detectChanges();\r\n  }\r\n\r\n  backClick() {\r\n    this.resultInputCache = this.resultInputCache.length > 1 ? this.resultInputCache.substring(0, this.resultInputCache.length - 1) : '0';\r\n  }\r\n\r\n  @HostListener('click', ['$event']) click(event: any) {\r\n\r\n    if (!this.symbolEl.contains(event.target)) {\r\n      return;\r\n    }\r\n\r\n    const val = event.target.innerHTML;\r\n\r\n    // if (this.resultInputCache.length > 12 && this.number.includes(val) && this.firstInputToken !== true) {\r\n    //   this.notifyService.warning(`${this.resultInputCache}è¶ç,è¯¥åºåè³å¤æ¾ç¤º13ä½æ°å­`);\r\n    //   return;\r\n    // }\r\n\r\n    switch (val) {\r\n      case '0':\r\n      case '1':\r\n      case '2':\r\n      case '3':\r\n      case '4':\r\n      case '5':\r\n      case '6':\r\n      case '7':\r\n      case '8':\r\n      case '9':\r\n        this.numberClick(val);\r\n        break;\r\n      case '.':\r\n        this.dotClick(val);\r\n        break;\r\n      case 'Â±':\r\n        this.pnClick();\r\n        break;\r\n      case '+':\r\n      case '-':\r\n      case 'Ã':\r\n      case 'Ã·':\r\n        this.operatorClick(val);\r\n        break;\r\n      case '=':\r\n        this.equalClick();\r\n        break;\r\n      case 'CE':\r\n        this.ceClick();\r\n        break;\r\n      case 'C':\r\n        this.cClick();\r\n        break;\r\n      case 'Back':\r\n        this.backClick();\r\n        break;\r\n    }\r\n\r\n    this.setStepInput(this.stepInputCache)\r\n    this.setResultInput(this.resultInputCache);\r\n  }\r\n}\r\n\r\n","import { NgModule } from '@angular/core';\r\nimport { NotifyModule } from '@farris/ui-notify';\r\nimport { CalculatorComponent } from './calculator.component';\r\nimport { CalculatorDirective } from './calculator.directive';\r\n\r\n\r\n@NgModule({\r\n  declarations: [CalculatorComponent, CalculatorDirective],\r\n  imports: [\r\n    NotifyModule\r\n  ],\r\n  exports: [CalculatorComponent, CalculatorDirective]\r\n})\r\nexport class CalculatorModule { }\r\n"],"names":[],"mappings":"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"}
