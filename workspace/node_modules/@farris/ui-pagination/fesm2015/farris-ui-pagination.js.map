{"version":3,"file":"farris-ui-pagination.js.map","sources":["ng://@farris/ui-pagination/lib/pagination.service.ts","ng://@farris/ui-pagination/lib/paginate.pipe.ts","ng://@farris/ui-pagination/lib/pagination-controls.directive.ts","ng://@farris/ui-pagination/lib/pagination-controls.component.ts","ng://@farris/ui-pagination/lib/selected-list/selected-list.component.ts","ng://@farris/ui-pagination/lib/pagination.module.ts"],"sourcesContent":["import { IdService } from '@farris/ui-common';\r\nimport {EventEmitter, Injectable} from '@angular/core';\r\nimport {PaginationInstance} from './pagination-instance';\r\n\r\n@Injectable({\r\n    providedIn: 'root'\r\n})\r\nexport class PaginationService {\r\n\r\n    public change: EventEmitter<string> = new EventEmitter<string>();\r\n\r\n    private instances: { [id: string]: PaginationInstance } = {};\r\n    private DEFAULT_ID = 'DEFAULT_PAGINATION_ID';\r\n\r\n    public defaultId(): string {\r\n        return this.DEFAULT_ID + new IdService().uuid();\r\n    }\r\n\r\n    removeInstance(id: string) {\r\n        if (this.instances[id]) {\r\n            this.instances[id] = null;\r\n            delete this.instances[id];\r\n        }\r\n    }\r\n\r\n    public register(instance: PaginationInstance) {\r\n        if (instance.id == null) {\r\n            instance.id = this.DEFAULT_ID;\r\n        }\r\n\r\n        if (!this.instances[instance.id]) {\r\n            this.instances[instance.id] = instance;\r\n            this.change.emit(instance.id);\r\n        } else {\r\n            const changed = this.updateInstance(instance);\r\n            if (changed) {\r\n                this.change.emit(instance.id);\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Check each property of the instance and update any that have changed. Return\r\n     * true if any changes were made, else return false.\r\n     */\r\n    private updateInstance(instance: PaginationInstance): boolean {\r\n        let changed = false;\r\n        for (const prop in this.instances[instance.id]) {\r\n            if (instance[prop] !== this.instances[instance.id][prop]) {\r\n                this.instances[instance.id][prop] = instance[prop];\r\n                changed = true;\r\n            }\r\n        }\r\n        return changed;\r\n    }\r\n\r\n    /**\r\n     * Returns the current page number.\r\n     */\r\n    public getCurrentPage(id: string): number {\r\n        if (this.instances[id]) {\r\n            return this.instances[id].currentPage;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Sets the current page number.\r\n     */\r\n    public setCurrentPage(id: string, page: number) {\r\n        if (this.instances[id]) {\r\n            const instance = this.instances[id];\r\n            const maxPage = Math.ceil(instance.totalItems / instance.itemsPerPage);\r\n            if (page <= maxPage && 1 <= page) {\r\n                this.instances[id].currentPage = page;\r\n                this.change.emit(id);\r\n            }\r\n        }\r\n    }\r\n\r\n    public setPageList(id: string, newList: number[]) {\r\n        if (this.instances[id]) {\r\n            const instance = this.instances[id];\r\n            instance.pageList = newList;\r\n            this.change.emit(id);\r\n        }\r\n    }\r\n\r\n\r\n    /**\r\n     * Sets the value of instance.totalItems\r\n     */\r\n    public setTotalItems(id: string, totalItems: number) {\r\n        if (this.instances[id] && 0 <= totalItems) {\r\n            this.instances[id].totalItems = totalItems;\r\n            this.change.emit(id);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Sets the value of instance.itemsPerPage.\r\n     */\r\n    public setItemsPerPage(id: string, itemsPerPage: number) {\r\n        if (this.instances[id]) {\r\n            this.instances[id].itemsPerPage = itemsPerPage;\r\n            this.change.emit(id);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Returns a clone of the pagination instance object matching the id. If no\r\n     * id specified, returns the instance corresponding to the default id.\r\n     */\r\n    public getInstance(id: string = this.DEFAULT_ID): PaginationInstance {\r\n        if (this.instances[id]) {\r\n            return this.clone(this.instances[id]);\r\n        }\r\n        return {} as PaginationInstance;\r\n    }\r\n\r\n    /**\r\n     * Perform a shallow clone of an object.\r\n     */\r\n    private clone(obj: any): any {\r\n        const target = {};\r\n        for (const i in obj) {\r\n            if (obj.hasOwnProperty(i)) {\r\n                target[i] = obj[i];\r\n            }\r\n        }\r\n        return target;\r\n    }\r\n\r\n}\r\n","import { Optional, Pipe, PipeTransform } from '@angular/core';\r\nimport { PaginationService } from './pagination.service';\r\nimport { PaginationInstance } from './pagination-instance';\r\n\r\nconst LARGE_NUMBER = Number.MAX_SAFE_INTEGER;\r\n\r\nexport type Collection<T> = T[] | ReadonlyArray<T>;\r\n\r\nexport interface PaginatePipeArgs {\r\n    id?: string;\r\n    itemsPerPage?: string | number;\r\n    currentPage?: string | number;\r\n    totalItems?: string | number;\r\n    pageList?: number[];\r\n    remote?: boolean;\r\n}\r\n\r\nexport interface PipeState {\r\n    collection: any[];\r\n    size: number;\r\n    start: number;\r\n    end: number;\r\n    slice: any[];\r\n}\r\n\r\n@Pipe({\r\n    name: 'paginate',\r\n    pure: false\r\n})\r\nexport class PaginatePipe implements PipeTransform {\r\n\r\n    // store the values from the last time the pipe was invoked\r\n    private state: { [id: string]: PipeState } = {};\r\n\r\n    constructor(@Optional() private service: PaginationService) {\r\n        if (!this.service) {\r\n            this.service = new PaginationService();\r\n        }\r\n    }\r\n\r\n    public transform<T, U extends Collection<T>>(collection: U, args: PaginatePipeArgs): U {\r\n\r\n        // When an observable is passed through the AsyncPipe, it will output\r\n        // `null` until the subscription resolves. In this case, we want to\r\n        // use the cached data from the `state` object to prevent the NgFor\r\n        // from flashing empty until the real values arrive.\r\n\r\n\r\n\r\n        if (!(collection instanceof Array)) {\r\n            const _id = args.id || this.service.defaultId();\r\n            if (this.state[_id]) {\r\n                return this.state[_id].slice as U;\r\n            } else {\r\n                return collection;\r\n            }\r\n        }\r\n\r\n        // const serverSideMode = args.totalItems && args.totalItems !== collection.length;\r\n        const serverSideMode = args.remote;\r\n        const instance = this.createInstance(collection, args);\r\n        const id = instance.id;\r\n        let start: number;\r\n        let end: number;\r\n        let perPage = instance.itemsPerPage;\r\n\r\n        this.service.register(instance);\r\n\r\n        if (!serverSideMode && collection instanceof Array) {\r\n            perPage = +perPage || LARGE_NUMBER;\r\n            start = (instance.currentPage - 1) * perPage;\r\n            end = start + perPage;\r\n\r\n            const isIdentical = this.stateIsIdentical(id, collection, start, end);\r\n            if (isIdentical) {\r\n                return this.state[id].slice as U;\r\n            } else {\r\n                const slice = collection.slice(start, end);\r\n                this.saveState(id, collection, slice, start, end);\r\n                this.service.change.emit(id);\r\n                return slice as U;\r\n            }\r\n        }\r\n\r\n        // save the state for server-side collection to avoid null\r\n        // flash as new data loads.\r\n        this.saveState(id, collection, collection, start, end);\r\n        return collection;\r\n    }\r\n\r\n    /**\r\n     * Create an PaginationInstance object, using defaults for any optional properties not supplied.\r\n     */\r\n    private createInstance(collection: any[], config: PaginatePipeArgs): PaginationInstance {\r\n        // this.checkConfig(config);\r\n\r\n        return {\r\n            id: config.id != null ? config.id : this.service.defaultId(),\r\n            itemsPerPage: +config.itemsPerPage || 0,\r\n            currentPage: +config.currentPage || 1,\r\n            totalItems: +config.totalItems || collection.length,\r\n            pageList: config.pageList || [10, 20, 30, 50, 100],\r\n            remote: config.remote\r\n        };\r\n    }\r\n\r\n    /**\r\n     * Ensure the argument passed to the filter contains the required properties.\r\n     */\r\n    private checkConfig(config: PaginatePipeArgs): void {\r\n        const required = ['itemsPerPage', 'currentPage'];\r\n\r\n        const missing = required.filter(prop => !(prop in config));\r\n        if (0 < missing.length) {\r\n            throw new Error(`PaginatePipe: Argument is missing the following required properties: ${missing.join(', ')}`);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * To avoid returning a brand new array each time the pipe is run, we store the state of the sliced\r\n     * array for a given id. This means that the next time the pipe is run on this collection & id, we just\r\n     * need to check that the collection, start and end points are all identical, and if so, return the\r\n     * last sliced array.\r\n     */\r\n    private saveState(id: string, collection: any[], slice: any[], start: number, end: number) {\r\n        this.state[id] = {\r\n            collection,\r\n            size: collection.length,\r\n            slice,\r\n            start,\r\n            end\r\n        };\r\n    }\r\n\r\n    /**\r\n     * For a given id, returns true if the collection, size, start and end values are identical.\r\n     */\r\n    private stateIsIdentical(id: string, collection: any[], start: number, end: number): boolean {\r\n        const state = this.state[id];\r\n        if (!state) {\r\n            return false;\r\n        }\r\n        const isMetaDataIdentical = state.size === collection.length &&\r\n            state.start === start &&\r\n            state.end === end;\r\n\r\n        if (!isMetaDataIdentical) {\r\n            return false;\r\n        }\r\n\r\n        return state.slice.every((element, index) => element === collection[start + index]);\r\n    }\r\n}\r\n","import { ChangeDetectorRef, Directive, EventEmitter, Input, Output, OnInit, OnChanges, OnDestroy, Optional, Injector } from '@angular/core';\r\nimport {Subscription} from 'rxjs';\r\n\r\nimport {PaginationService} from './pagination.service';\r\nimport {PaginationInstance} from './pagination-instance';\r\n\r\nexport interface Page {\r\n    label: string;\r\n    value: any;\r\n}\r\n\r\n/**\r\n * This directive is what powers all pagination controls components, including the default one.\r\n * It exposes an API which is hooked up to the PaginationService to keep the PaginatePipe in sync\r\n * with the pagination controls.\r\n */\r\n@Directive({\r\n    selector: 'pagination-template,[pagination-template]',\r\n    exportAs: 'paginationApi'\r\n})\r\nexport class PaginationControlsDirective implements OnInit, OnChanges, OnDestroy {\r\n    @Input() id: string;\r\n    @Input() maxSize = 7;\r\n    @Output() pageChange: EventEmitter<any> = new EventEmitter<any>();\r\n    @Output() pageSizeChange = new EventEmitter<number>();\r\n    pages: Page[] = [];\r\n\r\n\r\n    private changeSub: Subscription;\r\n\r\n    constructor(@Optional() private service: PaginationService,\r\n                public changeDetectorRef: ChangeDetectorRef, @Optional() private injector: Injector) {\r\n\r\n        if (!this.service) {\r\n            if (this.injector) {\r\n                this.service = this.injector.get(PaginationService);\r\n            } else {\r\n                this.service = new PaginationService();\r\n            }\r\n        }\r\n\r\n        this.changeSub = this.service.change.subscribe(id => {\r\n            if (this.id === id) {\r\n                this.updatePageLinks();\r\n                this.changeDetectorRef.markForCheck();\r\n                this.changeDetectorRef.detectChanges();\r\n            }\r\n        });\r\n    }\r\n\r\n    ngOnInit() {\r\n        if (this.id === undefined) {\r\n            this.id = this.service.defaultId();\r\n        }\r\n        this.updatePageLinks();\r\n    }\r\n\r\n    ngOnChanges(changes: any) {\r\n        this.updatePageLinks();\r\n    }\r\n\r\n    ngOnDestroy() {\r\n        this.changeSub.unsubscribe();\r\n        this.service.removeInstance(this.id);\r\n    }\r\n\r\n    /**\r\n     * Go to the previous page\r\n     */\r\n    previous() {\r\n        this.checkValidId();\r\n        this.setCurrent(this.getCurrent() - 1);\r\n    }\r\n\r\n    /**\r\n     * Go to the next page\r\n     */\r\n    next() {\r\n        this.checkValidId();\r\n        this.setCurrent(this.getCurrent() + 1);\r\n    }\r\n    /**\r\n     * lucas added 2019/07/02\r\n     * Go to the first page\r\n     */\r\n    first($event: any) {\r\n        $event.stopPropagation();\r\n        this.checkValidId();\r\n        this.setCurrent( 1);\r\n    }\r\n    /**\r\n     * lucas added 2019/07/02\r\n     * Go to the last page\r\n     */\r\n    last($event: any) {\r\n        $event.stopPropagation();\r\n        this.checkValidId();\r\n        this.setCurrent(this.getLastPage());\r\n    }\r\n\r\n    /**\r\n     * Returns true if current page is first page\r\n     */\r\n    isFirstPage(): boolean {\r\n        return this.getCurrent() === 1;\r\n    }\r\n\r\n    /**\r\n     * Returns true if current page is last page\r\n     */\r\n    isLastPage(): boolean {\r\n        return this.getLastPage() === this.getCurrent();\r\n    }\r\n\r\n    /**\r\n     * Set the current page number.\r\n     */\r\n    setCurrent(page: number, pageSize?: number, $event?: any) {\r\n        if ($event) {\r\n            $event.stopPropagation();\r\n        }\r\n        if (!pageSize) {\r\n            pageSize =  this.getPageSize();\r\n        }\r\n\r\n        this.pageChange.emit({ pageIndex: page, pageSize});\r\n    }\r\n\r\n    /**\r\n     * Get the current page number.\r\n     */\r\n    getCurrent(): number {\r\n        return this.service.getCurrentPage(this.id);\r\n    }\r\n\r\n\r\n    setPageList(pageList: number[]) {\r\n        this.service.setPageList(this.id, pageList);\r\n    }\r\n\r\n\r\n    /**\r\n     * Returns the last page number\r\n     */\r\n    getLastPage(): number {\r\n        const inst = this.service.getInstance(this.id);\r\n        if (inst.totalItems < 1) {\r\n            // when there are 0 or fewer (an error case) items, there are no \"pages\" as such,\r\n            // but it makes sense to consider a single, empty page as the last page.\r\n            return 1;\r\n        }\r\n        return Math.ceil(inst.totalItems / inst.itemsPerPage);\r\n    }\r\n\r\n    getTotalItems(): number {\r\n        return this.service.getInstance(this.id).totalItems;\r\n    }\r\n\r\n    getPageList() {\r\n        return this.service.getInstance(this.id).pageList;\r\n    }\r\n\r\n    getPageSize() {\r\n        return this.service.getInstance(this.id).itemsPerPage;\r\n    }\r\n\r\n    goto(pager: number) {\r\n        // alert(pager);\r\n        this.setCurrent(pager);\r\n    }\r\n\r\n    private checkValidId() {\r\n        if (this.service.getInstance(this.id).id == null) {\r\n            console.warn(`PaginationControlsDirective: the specified id \"${this.id}\" does not match any registered PaginationInstance`);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Updates the page links and checks that the current page is valid. Should run whenever the\r\n     * PaginationService.change stream emits a value matching the current ID, or when any of the\r\n     * input values changes.\r\n     */\r\n    private updatePageLinks() {\r\n        const inst = this.service.getInstance(this.id);\r\n        const correctedCurrentPage = this.outOfBoundCorrection(inst);\r\n\r\n        if (correctedCurrentPage !== inst.currentPage) {\r\n            setTimeout(() => {\r\n                this.setCurrent(correctedCurrentPage);\r\n                this.pages = this.createPageArray(inst.currentPage, inst.itemsPerPage, inst.totalItems, this.maxSize);\r\n            });\r\n        } else {\r\n            this.pages = this.createPageArray(inst.currentPage, inst.itemsPerPage, inst.totalItems, this.maxSize);\r\n        }\r\n\r\n        this.changeDetectorRef.markForCheck();\r\n        this.changeDetectorRef.detectChanges();\r\n    }\r\n\r\n    /**\r\n     * Checks that the instance.currentPage property is within bounds for the current page range.\r\n     * If not, return a correct value for currentPage, or the current value if OK.\r\n     */\r\n    private outOfBoundCorrection(instance: PaginationInstance): number {\r\n        const totalPages = Math.ceil(instance.totalItems / instance.itemsPerPage);\r\n        if (totalPages < instance.currentPage && 0 < totalPages) {\r\n            return totalPages;\r\n        } else if (instance.currentPage < 1) {\r\n            return 1;\r\n        }\r\n\r\n        return instance.currentPage;\r\n    }\r\n\r\n    /**\r\n     * Returns an array of Page objects to use in the pagination controls.\r\n     */\r\n    private createPageArray(currentPage: number, itemsPerPage: number, totalItems: number, paginationRange: number): Page[] {\r\n        // paginationRange could be a string if passed from attribute, so cast to number.\r\n        paginationRange = +paginationRange;\r\n        const pages = [];\r\n        const totalPages = Math.ceil(totalItems / itemsPerPage);\r\n        const halfWay = Math.ceil(paginationRange / 2);\r\n\r\n        const isStart = currentPage <= halfWay;\r\n        const isEnd = totalPages - halfWay < currentPage;\r\n        const isMiddle = !isStart && !isEnd;\r\n\r\n        const ellipsesNeeded = paginationRange < totalPages;\r\n        let i = 1;\r\n\r\n        while (i <= totalPages && i <= paginationRange) {\r\n            let label;\r\n            const pageNumber = this.calculatePageNumber(i, currentPage, paginationRange, totalPages);\r\n            const openingEllipsesNeeded = (i === 2 && (isMiddle || isEnd));\r\n            const closingEllipsesNeeded = (i === paginationRange - 1 && (isMiddle || isStart));\r\n            if (ellipsesNeeded && (openingEllipsesNeeded || closingEllipsesNeeded)) {\r\n                label = '...';\r\n            } else {\r\n                label = pageNumber;\r\n            }\r\n            pages.push({\r\n                label,\r\n                value: pageNumber\r\n            });\r\n            i ++;\r\n        }\r\n        return pages;\r\n    }\r\n\r\n    /**\r\n     * Given the position in the sequence of pagination links [i],\r\n     * figure out what page number corresponds to that position.\r\n     */\r\n    private calculatePageNumber(i: number, currentPage: number, paginationRange: number, totalPages: number) {\r\n        const halfWay = Math.ceil(paginationRange / 2);\r\n        if (i === paginationRange) {\r\n            return totalPages;\r\n        } else if (i === 1) {\r\n            return i;\r\n        } else if (paginationRange < totalPages) {\r\n            if (totalPages - halfWay < currentPage) {\r\n                return totalPages - paginationRange + i;\r\n            } else if (halfWay < currentPage) {\r\n                return currentPage - halfWay + i;\r\n            } else {\r\n                return i;\r\n            }\r\n        } else {\r\n            return i;\r\n        }\r\n    }\r\n}\r\n","import { PaginationService } from './pagination.service';\r\nimport { PaginationControlsDirective } from './pagination-controls.directive';\r\nimport {Component, Input, Output, EventEmitter, ChangeDetectionStrategy, ViewEncapsulation, ViewChild, ElementRef, Optional} from '@angular/core';\r\n\r\nfunction coerceToBoolean(input: string | boolean): boolean {\r\n    return !!input && input !== 'false';\r\n}\r\n\r\n// styleUrls: ['./pagination-controls.component.css'],\r\n\r\n/**\r\n * The default pagination controls component. Actually just a default implementation of a custom template.\r\n */\r\n\r\n//  #farris-gotopagenumber{ text-align: center;\r\n//     -moz-appearance: textfield;\r\n//     width: 40px;\r\n// }\r\n// #farris-gotopagenumber::-webkit-outer-spin-button,\r\n// #farris-gotopagenumber::-webkit-inner-spin-button {\r\n//     -webkit-appearance: none;\r\n// }\r\n@Component({\r\n    selector: 'pagination-controls',\r\n    templateUrl: './pagination-controls.component.html',\r\n    styles: [],\r\n    changeDetection: ChangeDetectionStrategy.OnPush,\r\n    encapsulation: ViewEncapsulation.None\r\n})\r\nexport class PaginationControlsComponent {\r\n\r\n    private _directionLinks = true;\r\n    private _autoHide = false;\r\n    private _responsive = false;\r\n\r\n    private mouseInSelectedList = false;\r\n\r\n    /** æ¾ç¤ºæ¨¡å¼ï¼ default é»è®¤ï¼simple: ç®æ´ */\r\n    @Input() viewMode = 'default';\r\n\r\n    @Input() id: string;\r\n    @Input() maxSize = 7;\r\n    @Input()\r\n    get directionLinks(): boolean {\r\n        return this._directionLinks;\r\n    }\r\n    set directionLinks(value: boolean) {\r\n        this._directionLinks = coerceToBoolean(value);\r\n    }\r\n    @Input()\r\n    get autoHide(): boolean {\r\n        return this._autoHide;\r\n    }\r\n    set autoHide(value: boolean) {\r\n        this._autoHide = coerceToBoolean(value);\r\n    }\r\n    @Input()\r\n    get responsive(): boolean {\r\n        return this._responsive;\r\n    }\r\n    set responsive(value: boolean) {\r\n        this._responsive = coerceToBoolean(value);\r\n    }\r\n    @Input() previousLabel = 'Previous';\r\n    @Input() nextLabel = 'Next';\r\n    @Input() screenReaderPaginationLabel = 'Pagination';\r\n    @Input() screenReaderPageLabel = 'page';\r\n    @Input() screenReaderCurrentLabel = `You're on page`;\r\n    @Input() showPageList = true;\r\n    @Input() showPageInfo = true;\r\n    @Input() showPageNumber = true;\r\n\r\n    @Input() showSelectedList = false;\r\n\r\n    @Input() showGoToLast = false;\r\n    @Input() showGoToFirst = false;\r\n\r\n    /** æ¾ç¤ºè·³è½¬è³æå®é¡µç è¾å¥æ¡ */\r\n    @Input() showGotoInput = false;\r\n\r\n    @Input() position: 'left'|'center'|'right' = 'right';\r\n\r\n    /**\r\n     * @deprecated\r\n     */\r\n    @Input() message = 'æ¯é¡µ {0} æ¡è®°å½ï¼å± {1} æ¡è®°å½';\r\n    /**\r\n     * @deprecated\r\n     */\r\n    @Input() pageListFirstText = 'æ¾ç¤º';\r\n    /**\r\n     * @deprecated\r\n     */\r\n    @Input() pageListLastText = 'æ¡';\r\n\r\n    @Output() pageChange: EventEmitter<number> = new EventEmitter<number>();\r\n    @Output() pageSizeChange = new EventEmitter<number>();\r\n    @ViewChild('p') paginationDirective: PaginationControlsDirective;\r\n\r\n    @ViewChild('focusPageSize') focusPageSizeRef: ElementRef<any>;\r\n    @ViewChild('pglistinfo') pglistinfo: ElementRef<any>;\r\n    showPagesPanel = false;\r\n\r\n    // constructor(@Optional() private pagerService: PaginationService) {\r\n    //     if (!this.pagerService) {\r\n    //         this.pagerService = new PaginationService();\r\n    //     }\r\n    // }\r\n\r\n    onMouseLeave($event) {\r\n        this.showPagesPanel = false;\r\n        this.paginationDirective.changeDetectorRef.detectChanges();\r\n    }\r\n\r\n    onMouseEnter($event: MouseEvent) {\r\n        if (this.paginationDirective.getTotalItems() === 0) {\r\n            return;\r\n        }\r\n        this.showPagesPanel = true;\r\n    }\r\n\r\n    changePageSizeHandler($event, pagesize) {\r\n        $event.stopPropagation();\r\n        // å½åé¡µåæ¬¡ç¹å»\r\n        if (pagesize === this.paginationDirective.getPageSize()) {\r\n            return;\r\n        }\r\n        this.showPagesPanel = false;\r\n        // this.removeOverlay();\r\n        this.pageSizeChange.emit(pagesize);\r\n    }\r\n\r\n    onPageNumberChanged(inputEl: KeyboardEvent, maxNumber) {\r\n        const target = inputEl.target as any;\r\n        const currentPageNumber = Number(target.value);\r\n        if (currentPageNumber > maxNumber) {\r\n            target.value = maxNumber;\r\n        } else {\r\n            // if (currentPageNumber < 1) {\r\n            //     target.value = 1;\r\n            // }\r\n        }\r\n    }\r\n\r\n    onPageNumberBlur(inputEl: any) {\r\n        const target = inputEl.target as any;\r\n        const currentPageNumber = Number(target.value);\r\n        if (currentPageNumber < 1) {\r\n            target.value = 1;\r\n        }\r\n    }\r\n\r\n    setPageList(newpageList: number[]) {\r\n        this.paginationDirective.setPageList(newpageList);\r\n    }\r\n\r\n    goto($event) {\r\n        let newpager = Number($event.target.value);\r\n        if (newpager < 1) {\r\n            newpager = 1;\r\n            $event.target.value = 1;\r\n        }\r\n\r\n        if (this.paginationDirective.getCurrent() !== newpager) {\r\n            this.paginationDirective.goto(newpager);\r\n        }\r\n    }\r\n\r\n}\r\n","import { debounce } from 'rxjs/operators';\r\nimport { Component, OnInit, EventEmitter, Output, Input, OnChanges, SimpleChanges, HostBinding } from '@angular/core';\r\nimport { interval } from 'rxjs';\r\n\r\n@Component({\r\n    selector: 'pagination-selected-list',\r\n    templateUrl: './selected-list.component.html',\r\n})\r\nexport class PaginationSelectedListComponent implements OnInit, OnChanges {\r\n\r\n    @Input() data = [];\r\n    //ä½ç½®ï¼å³å®æ¯å¦ç¿»è½¬\r\n    @Input() position=\"bottom\";\r\n    @Output() close = new EventEmitter();\r\n    @Output() remove = new EventEmitter();\r\n    @Output() clear = new EventEmitter();\r\n    @HostBinding('class.pos-top') get slPosition() { return this.position=='top'; }\r\n\r\n    constructor() { }\r\n\r\n    ngOnInit(): void { }\r\n\r\n    ngOnChanges(changes: SimpleChanges) {\r\n    }\r\n\r\n    onClose($event: MouseEvent) {\r\n        $event.stopPropagation();\r\n        this.close.emit();\r\n    }\r\n\r\n    onRemoveClick($event: MouseEvent, id: any) {\r\n        $event.stopPropagation();\r\n        this.remove.emit(id);\r\n    }\r\n\r\n    onClearClick($event: MouseEvent) {\r\n        $event.stopPropagation();\r\n        this.clear.emit();\r\n    }\r\n\r\n    onClick($event: MouseEvent) {\r\n        $event.stopPropagation();\r\n        return false;\r\n    }\r\n}\r\n","import { FarrisCommonModule } from '@farris/ui-common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport {NgModule} from '@angular/core';\r\nimport {CommonModule} from '@angular/common';\r\nimport {PaginatePipe} from './paginate.pipe';\r\nimport {PaginationService} from './pagination.service';\r\nimport {PaginationControlsComponent} from './pagination-controls.component';\r\nimport {PaginationControlsDirective} from './pagination-controls.directive';\r\nimport { LocaleModule } from '@farris/ui-locale';\r\nimport { PaginationSelectedListComponent } from './selected-list/selected-list.component';\r\n\r\nexport {PaginationInstance} from './pagination-instance';\r\nexport {PaginationService} from './pagination.service';\r\nexport {PaginationControlsComponent} from './pagination-controls.component';\r\nexport {PaginationControlsDirective} from './pagination-controls.directive';\r\nexport {PaginatePipe} from './paginate.pipe';\r\n\r\n@NgModule({\r\n    imports: [\r\n        CommonModule,\r\n        FormsModule,\r\n        FarrisCommonModule.forRoot(),\r\n        LocaleModule\r\n    ],\r\n    declarations: [\r\n        PaginatePipe,\r\n        PaginationControlsComponent,\r\n        PaginationControlsDirective,\r\n        PaginationSelectedListComponent\r\n    ],\r\n    providers: [PaginationService],\r\n    exports: [\r\n        PaginatePipe,\r\n        PaginationControlsComponent,\r\n        PaginationControlsDirective,\r\n        PaginationSelectedListComponent\r\n    ]\r\n})\r\nexport class PaginationModule { }\r\n"],"names":[],"mappings":"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"}
