var DefaultFunctions = (function () {
    function DefaultFunctions(context) {
        this.context = context;
    }
    DefaultFunctions.prototype.GetChainedPropertyValue = function (chainedPropName) {
        return this.eval(chainedPropName + ";")();
    };
    DefaultFunctions.prototype.GetContextParameter = function (propertyName) {
        return this.eval("" + propertyName)();
    };
    DefaultFunctions.prototype.GetSessionValue = function (propertyName) {
        return this.eval("" + propertyName);
    };
    DefaultFunctions.prototype.eval = function (expr) {
        var contexts = this.context && this.context.contexts || {};
        var args = contexts.arguments || {};
        var signature = Object.keys(args).join(',');
        var hasReturnStatement = expr.match(/([\s\r\n{;}]+return)|(^return)\s+/g);
        if (!hasReturnStatement) {
            expr = "return " + expr;
        }
        var scopeNames = Object.getOwnPropertyNames(contexts);
        var scopeVariable = "__scope__" + new Date().valueOf();
        return new Function(scopeVariable, "\n      " + scopeNames.map(function (key) { return "var " + key + " = " + scopeVariable + "['" + key + "'];"; }).join('\r\n') + "\n      return function anonymous(" + signature + ") {\n        try{ \n" + expr + "\n }catch(e){console.error(e);}\n      };")(contexts);
    };
    DefaultFunctions.prototype.GetComputeJsonData = function (setName, propName) {
        console.warn("GetComputeJsonData\u4E0D\u652F\u6301");
        return null;
    };
    DefaultFunctions.prototype.GetInjectedEntity = function (name) {
        console.warn("GetInjectedEntity\u4E0D\u652F\u6301");
        return null;
    };
    DefaultFunctions.prototype.Sum = function (paramArray) {
        var sum = 0;
        for (var i = 0; i < paramArray.length; i++) {
            sum += paramArray[i];
        }
        return sum;
    };
    DefaultFunctions.prototype.SumByProp = function (chainedPropName, propertyName) {
        return this.eval("\n    var list = " + chainedPropName + ";\n    var array = DefaultFunction.getIterable(list);\n    var result = array.reduce((total,item)=>{\n      const value = DefaultFunction.getPropValue(item,\"" + propertyName + "\");\n      if(Object.prototype.toString.call(value) === '[object Number]'){\n        total = total + value;\n      }\n      return total;\n    },0);\n    return result;\n    ")();
    };
    DefaultFunctions.prototype.CountByProp = function (chainedPropName, propertyName) {
        return this.eval("\n    var list = " + chainedPropName + ";\n    var array = DefaultFunction.getIterable(list);\n    var result = array.reduce((count,item)=>{\n      const isPropExist = DefaultFunction.hasProp(item,\"" + propertyName + "\");\n      if(isPropExist){\n        count ++;\n      }\n      return count;\n    },0);\n    return result;\n    ")();
    };
    DefaultFunctions.prototype.AvgByProp = function (chainedPropName, propertyName) {
        return this.eval("\n    var list = " + chainedPropName + ";\n    var array = DefaultFunction.getIterable(list);\n    var result = array.reduce((total,item)=>{\n      var value = DefaultFunction.getPropValue(item,\"" + propertyName + "\");\n      if(Object.prototype.toString.call(value) === '[object Number]'){\n        total = total + value;\n      }\n      return total;\n    },0);\n    return parseFloat((result/array.length).toFixed(2));\n    ")();
    };
    DefaultFunctions.prototype.MaxByProp = function (chainedPropName, propertyName) {
        return this.eval("\n    var list = " + chainedPropName + ";\n    var array = DefaultFunction.getIterable(list);\n    var result = array.reduce((max,item)=>{\n      var value = DefaultFunction.getPropValue(item,\"" + propertyName + "\");\n      if(value!==undefined){\n        if(Object.prototype.toString.apply(value)!==\"[object Number]\"){\n          console.warn(\"\u5BF9\u8C61\"+JSON.stringify(item) + \"\u4E2D\uFF0C\u5C5E\u6027 " + propertyName + " \u4E0D\u662F\u6570\u5B57\u3002\");\n        }\n        max = max>=value?max:value;\n      }\n      return max;\n    },0);\n    return result;\n    ")();
    };
    DefaultFunctions.prototype.MinByProp = function (chainedPropName, propertyName) {
        return this.eval("\n    var list = " + chainedPropName + ";\n    var array = DefaultFunction.getIterable(list);\n    var result = array.reduce((min,item)=>{\n      var value = DefaultFunction.getPropValue(item,\"" + propertyName + "\");\n      if(value!==undefined){\n        if(Object.prototype.toString.apply(value)!==\"[object Number]\"){\n          console.warn(\"\u5BF9\u8C61\"+JSON.stringify(item) + \"\u4E2D\uFF0C\u5C5E\u6027 " + propertyName + " \u4E0D\u662F\u6570\u5B57\u3002\");\n        }\n        min = min<=value?min:value;\n      }\n      return min;\n    },undefined);\n    return result;\n    ")();
    };
    DefaultFunctions.prototype.getIterable = function (item) {
        if (item && item.hasOwnProperty('__type__') && item['__type__'] === 'BindingList') {
            return item.toArray() || [];
        }
        else if (item && item.hasOwnProperty('__type__') && item['__type__'] === 'EntityList') {
            return item.items || [];
        }
        else if (item && item.hasOwnProperty('__type__') && (item['__type__'] === 'List' || item['__type__'] === 'Entity')) {
            return item['__items__'] || [];
        }
        else if (Object.prototype.toString.apply(item) === "[object Array]") {
            return item;
        }
        else {
            return [];
        }
    };
    DefaultFunctions.prototype.getPropValue = function (target, prop) {
        var paths = prop.split('.').filter(function (p) { return p; });
        return paths && paths.reduce(function (result, path) {
            if (result && result.hasOwnProperty(path)) {
                return result[path];
            }
            else {
                return undefined;
            }
        }, target);
    };
    DefaultFunctions.prototype.hasProp = function (target, prop) {
        var paths = prop.split('.').filter(function (p) { return p; });
        var isPropExist = true;
        if (paths) {
            for (var idx = 0; idx < paths.length; idx++) {
                var path = paths[idx];
                if (!target.hasOwnProperty(path)) {
                    isPropExist = false;
                    break;
                }
                target = target[path];
            }
        }
        else {
            isPropExist = false;
        }
        return isPropExist;
    };
    DefaultFunctions.prototype.StringSubstring = function (originalString, startIndex, length) {
        if (!originalString) {
            return originalString;
        }
        return originalString.substring(startIndex, length);
    };
    DefaultFunctions.prototype.Length = function (originalString) {
        return originalString && originalString.hasOwnProperty('length') && originalString.length || 0;
    };
    DefaultFunctions.prototype.StringLength = function (originalString) {
        return originalString && originalString.hasOwnProperty('length') && originalString.length || 0;
    };
    DefaultFunctions.prototype.StringReplace = function (originalString, oldValue, newValue) {
        return originalString.replace(new RegExp(oldValue, 'g'), newValue);
    };
    DefaultFunctions.prototype.ToUpper = function (originalString) {
        if (!originalString) {
            return originalString;
        }
        return originalString.toUpperCase();
    };
    DefaultFunctions.prototype.ToLower = function (originalString) {
        if (!originalString) {
            return originalString;
        }
        return originalString.toLowerCase();
    };
    DefaultFunctions.prototype.IndexOf = function (originalString, value) {
        if (originalString) {
            return originalString.indexOf(value);
        }
        else {
            return -1;
        }
    };
    DefaultFunctions.prototype.LastIndexOf = function (originalString, value) {
        return originalString.lastIndexOf(value);
    };
    DefaultFunctions.prototype.TrimStart = function (originalString) {
        return originalString && originalString.trimLeft();
    };
    DefaultFunctions.prototype.TrimEnd = function (originalString) {
        return originalString && originalString.trimRight();
    };
    DefaultFunctions.prototype.Trim = function (originalString) {
        return originalString.trim();
    };
    DefaultFunctions.prototype.SubString = function (originalString, startIndex, length) {
        return this.StringSubstring(originalString, startIndex, length);
    };
    DefaultFunctions.prototype.GetStringLength = function (obj) {
        return this.StringLength(obj);
    };
    DefaultFunctions.prototype.Replace = function (originalString, oldValue, newValue) {
        return this.StringReplace(originalString, oldValue, newValue);
    };
    DefaultFunctions.prototype.CreateGuid = function () {
        var d = new Date().getTime();
        var uuid = 'xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx'.replace(/[xy]/g, (function (c) {
            var r = (d + Math.random() * 16) % 16 | 0;
            d = Math.floor(d / 16);
            return (c == 'x' ? r : (r & 0x3 | 0x8)).toString(16);
        }));
        return uuid.toUpperCase();
    };
    DefaultFunctions.prototype.CaseToSql = function (col) {
        if (col == null || col == "")
            return ("参数为空");
        var parameter = col.split(",");
        if (parameter.length == 0 || parameter.length == 1) {
            return ("函数CaseToSql,参数个数不正确");
        }
        var resultSql = " case " + parameter[0];
        var temp = "";
        for (var i = 1; i <= parameter.length; i++) {
            temp = parameter[i].replace("{", "");
            temp = temp.replace("}", "");
            var valueStr = temp.split(",");
            resultSql = resultSql + " when " + valueStr[0] + " then " + valueStr[1];
        }
        resultSql = resultSql + "end ";
        return resultSql;
    };
    ;
    DefaultFunctions.prototype.IsNullEmpty = function (str) {
        if (str != null && str != "") {
            return true;
        }
        else {
            return false;
        }
    };
    DefaultFunctions.prototype.Add = function () {
        var str = [];
        for (var _i = 0; _i < arguments.length; _i++) {
            str[_i] = arguments[_i];
        }
        var strTem = "";
        for (var i = 0; i < str.length; i++) {
            strTem += str[i];
        }
        return strTem;
    };
    DefaultFunctions.prototype.ToByte = function (obj) {
        return obj >> 0;
    };
    DefaultFunctions.prototype.ToStringX = function (obj) {
        return JSON.stringify(obj);
    };
    DefaultFunctions.prototype.ToDateTime = function (obj) {
        return new Date(obj);
    };
    DefaultFunctions.prototype.ToBoolean = function (obj) {
        return ((JSON.stringify(obj) != null) && JSON.stringify(obj) == "true");
    };
    DefaultFunctions.prototype.ToDecimal = function (obj) {
        return Number(obj);
    };
    DefaultFunctions.prototype.ToBigDecimal = function (value) {
        return Number(value);
    };
    DefaultFunctions.prototype.ToDouble = function (obj) {
        return Number(obj);
    };
    DefaultFunctions.prototype.ToFloat = function (obj) {
        return Number(obj);
    };
    DefaultFunctions.prototype.ToInt16 = function (obj) {
        return Number(obj);
    };
    DefaultFunctions.prototype.ToInt32 = function (obj) {
        return Number(obj);
    };
    DefaultFunctions.prototype.ToChineseMoney = function (money) {
        var cnNums = new Array('零', '壹', '贰', '叁', '肆', '伍', '陆', '柒', '捌', '玖');
        var cnIntRadice = new Array('', '拾', '佰', '仟');
        var cnIntUnits = new Array('', '万', '亿', '兆');
        var cnDecUnits = new Array('角', '分', '毫', '厘');
        var cnInteger = '整';
        var cnIntLast = '元';
        var maxNum = 999999999999999.9999;
        var integerNum;
        var decimalNum;
        var chineseStr = '';
        var parts;
        if (money >= maxNum) {
            return '';
        }
        if (money == 0) {
            chineseStr = cnNums[0] + cnIntLast + cnInteger;
            return chineseStr;
        }
        var moneyStr = money.toString();
        if (moneyStr.indexOf('.') == -1) {
            integerNum = moneyStr;
            decimalNum = '';
        }
        else {
            parts = moneyStr.split('.');
            integerNum = parts[0];
            decimalNum = parts[1].substr(0, 4);
        }
        if (parseInt(integerNum, 10) > 0) {
            var zeroCount = 0;
            var IntLen = integerNum.length;
            for (var i = 0; i < IntLen; i++) {
                var n = integerNum.substr(i, 1);
                var p = IntLen - i - 1;
                var q = p / 4;
                var m = p % 4;
                if (n == '0') {
                    zeroCount++;
                }
                else {
                    if (zeroCount > 0) {
                        chineseStr += cnNums[0];
                    }
                    zeroCount = 0;
                    chineseStr += cnNums[parseInt(n)] + cnIntRadice[m];
                }
                if (m == 0 && zeroCount < 4) {
                    chineseStr += cnIntUnits[q];
                }
            }
            chineseStr += cnIntLast;
        }
        if (decimalNum != '') {
            var decLen = decimalNum.length;
            for (var i = 0; i < decLen; i++) {
                var n = decimalNum.substr(i, 1);
                if (n != '0') {
                    chineseStr += cnNums[Number(n)] + cnDecUnits[i];
                }
            }
        }
        if (chineseStr == '') {
            chineseStr += cnNums[0] + cnIntLast + cnInteger;
        }
        else if (decimalNum == '') {
            chineseStr += cnInteger;
        }
        return chineseStr;
    };
    DefaultFunctions.prototype.IsNull = function (obj) {
        return obj == null;
    };
    DefaultFunctions.prototype.IsNullOrWhiteSpace = function (obj) {
        if (obj == null || obj == "" || obj.trim() == "") {
            return true;
        }
        return false;
    };
    DefaultFunctions.prototype.IsNaN = function (obj) {
        return isNaN(Number(obj));
    };
    DefaultFunctions.prototype.IsNumber = function (obj) {
        return !isNaN(Number(obj));
    };
    DefaultFunctions.prototype.sin = function (value) {
        return Math.sin(value);
    };
    DefaultFunctions.prototype.cos = function (value) {
        return Math.cos(value);
    };
    DefaultFunctions.prototype.random = function (value) {
        return Math.random();
    };
    DefaultFunctions.prototype.ceil = function (value) {
        return Math.ceil(value);
    };
    DefaultFunctions.prototype.abs = function (value) {
        return Math.abs(value);
    };
    DefaultFunctions.prototype.floor = function (value) {
        return Math.floor(value);
    };
    DefaultFunctions.prototype.round = function (value, digits) {
        return Math.round(value * Math.pow(10, digits)) / Math.pow(10, digits);
    };
    DefaultFunctions.prototype.bankerRound = function (value, num) {
        if (typeof value !== "number") {
            console.error("输入值必须是数字！");
            return undefined;
        }
        return value.toFixed(num);
    };
    DefaultFunctions.prototype.GetBirthday = function (idCard) {
        var ret = this.IsIDcard(idCard);
        if (!ret) {
            return null;
        }
        var birthdayValue = "";
        if (15 == idCard.length) {
            birthdayValue = idCard.substring(6, 8);
            if (Number(birthdayValue) < 10) {
                birthdayValue = "20" + birthdayValue;
            }
            else {
                birthdayValue = "19" + birthdayValue;
            }
            birthdayValue = birthdayValue + '-' + idCard.substring(8, 10) + '-' + idCard.substring(10, 12);
        }
        else if (18 == idCard.length) {
            return idCard.substr(6, 4) + "-" + idCard.substr(10, 2) + "-" + idCard.substr(12, 2);
        }
        return birthdayValue;
    };
    DefaultFunctions.prototype.GetAge = function (idCard) {
        if (!idCard) {
            return;
        }
        var birthDay = this.GetBirthday(idCard);
        if (birthDay == null || birthDay == "") {
            return -1;
        }
        var birthDate = new Date(birthDay.replace(/-/g, "/"));
        var nowDate = new Date();
        var age = nowDate.getFullYear() - birthDate.getFullYear();
        if (nowDate.getMonth() < birthDate.getMonth() || (nowDate.getMonth() == birthDate.getMonth()
            && nowDate.getDate() < birthDate.getDate())) {
            age--;
        }
        return age;
    };
    DefaultFunctions.prototype.GetSex = function (idCard) {
        if (this.IsIDcard(idCard) == false) {
            return null;
        }
        var strSex = "";
        if (idCard.length == 18) {
            strSex = idCard.substring(14, 17);
        }
        else if (idCard.length == 15) {
            strSex = idCard.substring(12, 15);
        }
        if (Number(strSex) % 2 == 0) {
            strSex = "女";
        }
        else {
            strSex = "男";
        }
        return strSex;
    };
    DefaultFunctions.prototype.IsIDcard = function (idcard) {
        var regularExpression = /(^[1-9]\d{7}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}$|^[1-9]\d{5}[1-9]\d{3}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}([0-9]|X)$)|([1-9][0-9]{5}[0-9]{2}((0[1-9])|(10|11|12))(([0-2][1-9])|10|20|30|31)[0-9]{3})/;
        return regularExpression.test(idcard);
    };
    DefaultFunctions.prototype.DateTimeAddDays = function (date, value) {
        if (!date) {
            return date;
        }
        var tempDate = new Date(date.replace(/-/g, "/"));
        tempDate.setDate(tempDate.getDate() + value);
        return tempDate;
    };
    DefaultFunctions.prototype.DateTimeAddMonths = function (date, value) {
        if (!date) {
            return date;
        }
        var tempDate = new Date(date.replace(/-/g, "/"));
        tempDate.setMonth(tempDate.getMonth() + value);
        return tempDate;
    };
    DefaultFunctions.prototype.DateTimeAddYears = function (date, value) {
        if (!date) {
            return date;
        }
        var tempDate = new Date(date.replace(/-/g, "/"));
        tempDate.setFullYear(tempDate.getFullYear() + value);
        return tempDate;
    };
    DefaultFunctions.prototype.GetFirstDayOfMonth = function (date) {
        if (!date) {
            return date;
        }
        var tempDate = new Date(date.replace(/-/g, "/"));
        tempDate.setDate(1);
        return tempDate;
    };
    DefaultFunctions.prototype.GetLastDayOfMonth = function (date) {
        if (!date) {
            return date;
        }
        var endDate = new Date(date.replace(/-/g, "/"));
        var month = endDate.getMonth();
        var nextMonth = ++month;
        var nextMonthFirstDay = new Date(endDate.getFullYear(), nextMonth, 1);
        var oneDay = 1000 * 60 * 60 * 24;
        return new Date(Number(nextMonthFirstDay) - oneDay);
    };
    DefaultFunctions.prototype.GetDateTimeNow = function () {
        return new Date();
    };
    DefaultFunctions.prototype.CompareDate = function (str1, str2) {
        if (!str1 || !str2) {
            return;
        }
        var tempDate1 = new Date(str1.replace(/-/g, "/"));
        var tempDate2 = new Date(str2.replace(/-/g, "/"));
        if (tempDate1.getTime() > tempDate2.getTime()) {
            return 1;
        }
        if (tempDate1.getTime() == tempDate2.getTime()) {
            return 0;
        }
        if (tempDate1.getTime() < tempDate2.getTime()) {
            return -1;
        }
    };
    DefaultFunctions.prototype.FormatDate = function (format) {
        format = format || 'yyyy-MM-dd';
        return this.FormatDefineDate(format, new Date());
    };
    DefaultFunctions.prototype.FormatDefineDate = function (format, datesStr) {
        if (datesStr === void 0) { datesStr = null; }
        var dates;
        if (datesStr == null) {
            dates = new Date();
        }
        else {
            if (typeof datesStr === 'string') {
                dates = new Date(datesStr.replace(/-/g, "/"));
            }
            else if (Object.prototype.toString.call(datesStr) === '[object Date]') {
                dates = datesStr;
            }
            else {
                console.error('日期参数仅支持日期字符串或日期对象');
                return null;
            }
        }
        var o = {
            "M+": dates.getMonth() + 1,
            "d+": dates.getDate(),
            "H+": dates.getHours(),
            "m+": dates.getMinutes(),
            "s+": dates.getSeconds(),
            "q+": Math.floor((dates.getMonth() + 3) / 3),
            "S": dates.getMilliseconds()
        };
        if (/(y+)/.test(format)) {
            format = format.replace(RegExp.$1, (dates.getFullYear() + "").substr(4 - RegExp.$1.length));
        }
        for (var k in o) {
            if (new RegExp("(" + k + ")").test(format)) {
                format = format.replace(RegExp.$1, (RegExp.$1.length == 1) ? (o[k]) : (("00" + o[k]).substr(("" + o[k]).length)));
            }
        }
        return format;
    };
    DefaultFunctions.prototype.Today = function (date) {
        if (date === void 0) { date = null; }
        if (date == null) {
            var day2 = new Date();
            day2.setTime(day2.getTime());
            return this.FormatDefineDate('yyyy-MM-dd', day2);
        }
        else {
            var dd = new Date(date);
            dd.setDate(dd.getDate());
            return this.FormatDefineDate('yyyy-MM-dd', dd);
        }
    };
    DefaultFunctions.prototype.Yesterday = function (date) {
        if (date === void 0) { date = null; }
        if (date == null) {
            var day1 = new Date();
            day1.setTime(day1.getTime() - 24 * 60 * 60 * 1000);
            return this.FormatDefineDate('yyyy-MM-dd', day1);
        }
        else {
            var dd = new Date(date);
            dd.setDate(dd.getDate() - 1);
            return this.FormatDefineDate('yyyy-MM-dd', dd);
        }
    };
    DefaultFunctions.prototype.Tomorrow = function (date) {
        if (date === void 0) { date = null; }
        if (date == null) {
            var dd = new Date();
            dd.setDate(dd.getDate() + 1);
            return this.FormatDefineDate('yyyy-MM-dd', dd);
        }
        else {
            var dd = new Date(date);
            dd.setDate(dd.getDate() + 1);
            return this.FormatDefineDate('yyyy-MM-dd', dd);
        }
    };
    DefaultFunctions.prototype.ThisYear = function (date) {
        if (date === void 0) { date = null; }
        if (date == null) {
            var dd = new Date();
            dd.setFullYear(dd.getFullYear());
            return dd.getFullYear() + "";
        }
        else {
            var dd = new Date(date);
            dd.setFullYear(dd.getFullYear());
            return dd.getFullYear() + "";
        }
    };
    DefaultFunctions.prototype.LastYear = function (date) {
        if (date === void 0) { date = null; }
        if (date == null) {
            var dd = new Date();
            dd.setFullYear(dd.getFullYear() - 1);
            return dd.getFullYear() + "";
        }
        else {
            var dd = new Date(date);
            dd.setFullYear(dd.getFullYear() - 1);
            return dd.getFullYear() + "";
        }
    };
    DefaultFunctions.prototype.NextYear = function (date) {
        if (date === void 0) { date = null; }
        if (date == null) {
            var dd = new Date();
            dd.setFullYear(dd.getFullYear() + 1);
            return dd.getFullYear() + "";
        }
        else {
            var dd = new Date(date);
            dd.setFullYear(dd.getFullYear() + 1);
            return dd.getFullYear() + "";
        }
    };
    DefaultFunctions.prototype.ThisMonth = function (date) {
        if (date === void 0) { date = null; }
        if (date == null) {
            var dd = new Date();
            dd.setMonth(dd.getMonth() + 1);
            return dd.getMonth() + "";
        }
        else {
            var dd = new Date(date);
            dd.setMonth(dd.getMonth() + 1);
            return dd.getMonth() + "";
        }
    };
    DefaultFunctions.prototype.LastMonth = function (date) {
        if (date === void 0) { date = null; }
        if (date == null) {
            var dd = new Date();
            dd.setMonth(dd.getMonth());
            return dd.getMonth() + "";
        }
        else {
            var dd = new Date(date);
            dd.setMonth(dd.getMonth());
            return dd.getMonth() + "";
        }
    };
    DefaultFunctions.prototype.NextMonth = function (date) {
        if (date === void 0) { date = null; }
        if (date == null) {
            var dd = new Date();
            dd.setMonth(dd.getMonth() + 2);
            return dd.getMonth() + "";
        }
        else {
            var dd = new Date(date);
            dd.setMonth(dd.getMonth() + 2);
            return dd.getMonth() + "";
        }
    };
    DefaultFunctions.prototype.DayOfWeek = function (date) {
        if (date === void 0) { date = null; }
        if (date == null) {
            var dd = new Date();
            return dd.getDay() + "";
        }
        else {
            var dd = new Date(date);
            return dd.getDay() + "";
        }
    };
    DefaultFunctions.prototype.isLeapYear = function (year) {
        return (year % 400 == 0) || (year % 4 == 0 && year % 100 != 0);
    };
    DefaultFunctions.prototype.getMonthDays = function (year, month) {
        return [31, null, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31][month] || (this.isLeapYear(year) ? 29 : 28);
    };
    DefaultFunctions.prototype.ThisWeek = function (date) {
        if (date === void 0) { date = null; }
        var dd;
        var year;
        var month;
        var days;
        if (date == null) {
            dd = new Date();
            year = dd.getFullYear(),
                month = dd.getMonth(),
                days = dd.getDate();
        }
        else {
            dd = new Date(date);
            year = dd.getFullYear(),
                month = dd.getMonth(),
                days = dd.getDate();
        }
        for (var i = 0; i < month; i++) {
            days += this.getMonthDays(year, i);
        }
        var yearFirstDay = new Date(year, 0, 1).getDay() || 7;
        var week = null;
        if (yearFirstDay == 1) {
            week = Math.ceil(days / yearFirstDay);
        }
        else {
            days -= (7 - yearFirstDay + 1);
            week = Math.ceil(days / 7) + 1;
        }
        return week;
    };
    DefaultFunctions.prototype.LastWeek = function (date) {
        if (date === void 0) { date = null; }
        return (Number(this.ThisWeek(date)) - 1) + "";
    };
    DefaultFunctions.prototype.NextWeek = function (date) {
        if (date === void 0) { date = null; }
        return (Number(this.ThisWeek(date)) + 1) + "";
    };
    DefaultFunctions.prototype.FirstDayOfWeek = function (date) {
        if (date === void 0) { date = null; }
        if (date == null) {
            var currentDate = new Date();
            var week = currentDate.getDay();
            var millisecond = 1000 * 60 * 60 * 24;
            var minusDay = week != 0 ? week - 1 : 6;
            var monday = new Date(currentDate.getTime() - (minusDay * millisecond));
            return this.FormatDefineDate('yyyy-MM-dd', monday);
        }
        else {
            var currentDate = new Date(date);
            var week = currentDate.getDay();
            var millisecond = 1000 * 60 * 60 * 24;
            var minusDay = week != 0 ? week - 1 : 6;
            var monday = new Date(currentDate.getTime() - (minusDay * millisecond));
            return this.FormatDefineDate('yyyy-MM-dd', monday);
        }
    };
    DefaultFunctions.prototype.LastDayOfWeek = function (date) {
        if (date === void 0) { date = null; }
        if (date == null) {
            var currentDate = new Date();
            var week = currentDate.getDay();
            var millisecond = 1000 * 60 * 60 * 24;
            var minusDay = week != 0 ? week - 1 : 6;
            var monday = new Date(currentDate.getTime() - (minusDay * millisecond));
            var sunday = new Date(monday.getTime() + (6 * millisecond));
            return this.FormatDefineDate('yyyy-MM-dd', sunday);
        }
        else {
            var currentDate = new Date(date);
            var week = currentDate.getDay();
            var millisecond = 1000 * 60 * 60 * 24;
            var minusDay = week != 0 ? week - 1 : 6;
            var monday = new Date(currentDate.getTime() - (minusDay * millisecond));
            var sunday = new Date(monday.getTime() + (6 * millisecond));
            return this.FormatDefineDate('yyyy-MM-dd', sunday);
        }
    };
    DefaultFunctions.prototype.FirstDayOfLastWeek = function (date) {
        if (date === void 0) { date = null; }
        if (date == null) {
            var currentDate = new Date();
            var week = currentDate.getDay();
            var millisecond = 1000 * 60 * 60 * 24;
            var minusDay = week != 0 ? week - 1 : 6;
            var monday = new Date(currentDate.getTime() - (minusDay * millisecond));
            monday.setDate(monday.getDate() - 7);
            return this.FormatDefineDate('yyyy-MM-dd', monday);
        }
        else {
            var currentDate = new Date(date);
            var week = currentDate.getDay();
            var millisecond = 1000 * 60 * 60 * 24;
            var minusDay = week != 0 ? week - 1 : 6;
            var monday = new Date(currentDate.getTime() - (minusDay * millisecond));
            monday.setDate(monday.getDate() - 7);
            return this.FormatDefineDate('yyyy-MM-dd', monday);
        }
    };
    DefaultFunctions.prototype.LastDayOfLastWeek = function (date) {
        if (date === void 0) { date = null; }
        if (date == null) {
            var currentDate = new Date();
            var week = currentDate.getDay();
            var millisecond = 1000 * 60 * 60 * 24;
            var minusDay = week != 0 ? week - 1 : 6;
            var monday = new Date(currentDate.getTime() - (minusDay * millisecond));
            var sunday = new Date(monday.getTime() + (6 * millisecond));
            sunday.setDate(sunday.getDate() - 7);
            return this.FormatDefineDate('yyyy-MM-dd', sunday);
        }
        else {
            var currentDate = new Date(date);
            var week = currentDate.getDay();
            var millisecond = 1000 * 60 * 60 * 24;
            var minusDay = week != 0 ? week - 1 : 6;
            var monday = new Date(currentDate.getTime() - (minusDay * millisecond));
            var sunday = new Date(monday.getTime() + (6 * millisecond));
            sunday.setDate(sunday.getDate() - 7);
            return this.FormatDefineDate('yyyy-MM-dd', sunday);
        }
    };
    DefaultFunctions.prototype.FirstDayOfNextWeek = function (date) {
        if (date === void 0) { date = null; }
        if (date == null) {
            var currentDate = new Date();
            var week = currentDate.getDay();
            var millisecond = 1000 * 60 * 60 * 24;
            var minusDay = week != 0 ? week - 1 : 6;
            var monday = new Date(currentDate.getTime() - (minusDay * millisecond));
            monday.setDate(monday.getDate() + 7);
            return this.FormatDefineDate('yyyy-MM-dd', monday);
        }
        else {
            var currentDate = new Date(date);
            var week = currentDate.getDay();
            var millisecond = 1000 * 60 * 60 * 24;
            var minusDay = week != 0 ? week - 1 : 6;
            var monday = new Date(currentDate.getTime() - (minusDay * millisecond));
            monday.setDate(monday.getDate() + 7);
            return this.FormatDefineDate('yyyy-MM-dd', monday);
        }
    };
    DefaultFunctions.prototype.LastDayOfNextWeek = function (date) {
        if (date === void 0) { date = null; }
        if (date == null) {
            var currentDate = new Date();
            var week = currentDate.getDay();
            var millisecond = 1000 * 60 * 60 * 24;
            var minusDay = week != 0 ? week - 1 : 6;
            var monday = new Date(currentDate.getTime() - (minusDay * millisecond));
            var sunday = new Date(monday.getTime() + (6 * millisecond));
            sunday.setDate(sunday.getDate() + 7);
            return this.FormatDefineDate('yyyy-MM-dd', sunday);
        }
        else {
            var currentDate = new Date(date);
            var week = currentDate.getDay();
            var millisecond = 1000 * 60 * 60 * 24;
            var minusDay = week != 0 ? week - 1 : 6;
            var monday = new Date(currentDate.getTime() - (minusDay * millisecond));
            var sunday = new Date(monday.getTime() + (6 * millisecond));
            sunday.setDate(sunday.getDate() + 7);
            return this.FormatDefineDate('yyyy-MM-dd', sunday);
        }
    };
    DefaultFunctions.prototype.FirstDayOfMonth = function (date) {
        if (date === void 0) { date = null; }
        if (date == null) {
            var currentDate = new Date();
            var currentMonth = currentDate.getMonth();
            var currentYear = currentDate.getFullYear();
            var firstDay = new Date(currentYear, currentMonth, 1);
            return this.FormatDefineDate('yyyy-MM-dd', firstDay);
        }
        else {
            var currentDate = new Date(date);
            var currentMonth = currentDate.getMonth();
            var currentYear = currentDate.getFullYear();
            var firstDay = new Date(currentYear, currentMonth, 1);
            return this.FormatDefineDate('yyyy-MM-dd', firstDay);
        }
    };
    DefaultFunctions.prototype.LastDayOfMonth = function (date) {
        if (date === void 0) { date = null; }
        if (date == null) {
            var currentDate = new Date();
            var fullYear = currentDate.getFullYear();
            var month = currentDate.getMonth() + 1;
            var endOfMonth = new Date(fullYear, month, 0);
            return this.FormatDefineDate('yyyy-MM-dd', endOfMonth);
        }
        else {
            var currentDate = new Date(date);
            var fullYear = currentDate.getFullYear();
            var month = currentDate.getMonth() + 1;
            var endOfMonth = new Date(fullYear, month, 0);
            return this.FormatDefineDate('yyyy-MM-dd', endOfMonth);
        }
    };
    DefaultFunctions.prototype.FirstDayOfLastMonth = function (date) {
        if (date === void 0) { date = null; }
        if (date == null) {
            var currentDate = new Date();
            var currentMonth = currentDate.getMonth();
            var currentYear = currentDate.getFullYear();
            var firstDay = new Date(currentYear, currentMonth, 1);
            firstDay.setMonth(firstDay.getMonth());
            return this.FormatDefineDate('yyyy-MM-dd', firstDay);
        }
        else {
            var currentDate = new Date(date);
            var currentMonth = currentDate.getMonth();
            var currentYear = currentDate.getFullYear();
            var firstDay = new Date(currentYear, currentMonth, 1);
            firstDay.setMonth(firstDay.getMonth());
            return this.FormatDefineDate('yyyy-MM-dd', firstDay);
        }
    };
    DefaultFunctions.prototype.LastDayOfLastMonth = function (date) {
        if (date === void 0) { date = null; }
        if (date == null) {
            var currentDate = new Date();
            var fullYear = currentDate.getFullYear();
            var month = currentDate.getMonth() + 1;
            var endOfMonth = new Date(fullYear, month, 0);
            endOfMonth.setMonth(endOfMonth.getMonth());
            return this.FormatDefineDate('yyyy-MM-dd', endOfMonth);
        }
        else {
            var currentDate = new Date(date);
            var fullYear = currentDate.getFullYear();
            var month = currentDate.getMonth() + 1;
            var endOfMonth = new Date(fullYear, month, 0);
            endOfMonth.setMonth(endOfMonth.getMonth());
            return this.FormatDefineDate('yyyy-MM-dd', endOfMonth);
        }
    };
    DefaultFunctions.prototype.FirstDayOfNextMonth = function (date) {
        if (date === void 0) { date = null; }
        if (date == null) {
            var currentDate = new Date();
            var currentMonth = currentDate.getMonth();
            var currentYear = currentDate.getFullYear();
            var firstDay = new Date(currentYear, currentMonth, 1);
            firstDay.setMonth(firstDay.getMonth() + 2);
            return this.FormatDefineDate('yyyy-MM-dd', firstDay);
        }
        else {
            var currentDate = new Date(date);
            var currentMonth = currentDate.getMonth();
            var currentYear = currentDate.getFullYear();
            var firstDay = new Date(currentYear, currentMonth, 1);
            firstDay.setMonth(firstDay.getMonth() + 2);
            return this.FormatDefineDate('yyyy-MM-dd', firstDay);
        }
    };
    DefaultFunctions.prototype.LastDayOfNextMonth = function (date) {
        if (date === void 0) { date = null; }
        if (date == null) {
            var currentDate = new Date();
            var fullYear = currentDate.getFullYear();
            var month = currentDate.getMonth() + 1;
            var endOfMonth = new Date(fullYear, month, 0);
            endOfMonth.setMonth(endOfMonth.getMonth() + 2);
            return this.FormatDefineDate('yyyy-MM-dd', currentDate);
        }
        else {
            var currentDate = new Date(date);
            var fullYear = currentDate.getFullYear();
            var month = currentDate.getMonth() + 1;
            var endOfMonth = new Date(fullYear, month, 0);
            endOfMonth.setMonth(endOfMonth.getMonth() + 2);
            return this.FormatDefineDate('yyyy-MM-dd', currentDate);
        }
    };
    DefaultFunctions.prototype.FirstDayOfYear = function (date) {
        if (date === void 0) { date = null; }
        if (date == null) {
            var currentDate = new Date();
            currentDate.setDate(1);
            currentDate.setMonth(0);
            return this.FormatDefineDate('yyyy-MM-dd', currentDate);
        }
        else {
            var currentDate = new Date(date);
            currentDate.setDate(1);
            currentDate.setMonth(0);
            return this.FormatDefineDate('yyyy-MM-dd', currentDate);
        }
    };
    DefaultFunctions.prototype.LastDayOfYear = function (date) {
        if (date === void 0) { date = null; }
        if (date == null) {
            var currentDate = new Date();
            currentDate.setDate(0);
            currentDate.setMonth(11);
            return this.FormatDefineDate('yyyy-MM-dd', currentDate);
        }
        else {
            var currentDate = new Date(date);
            currentDate.setFullYear(currentDate.getFullYear() + 1);
            currentDate.setDate(0);
            currentDate.setMonth(11);
            return this.FormatDefineDate('yyyy-MM-dd', currentDate);
        }
    };
    DefaultFunctions.prototype.FirstDayOfLastYear = function (date) {
        if (date === void 0) { date = null; }
        if (date == null) {
            var currentDate = new Date();
            currentDate.setFullYear(currentDate.getFullYear() - 1);
            currentDate.setDate(1);
            currentDate.setMonth(0);
            return this.FormatDefineDate('yyyy-MM-dd', currentDate);
        }
        else {
            var currentDate = new Date(date);
            currentDate.setFullYear(currentDate.getFullYear() - 1);
            currentDate.setDate(1);
            currentDate.setMonth(0);
            return this.FormatDefineDate('yyyy-MM-dd', currentDate);
        }
    };
    DefaultFunctions.prototype.LastDayOfLastYear = function (date) {
        if (date === void 0) { date = null; }
        if (date == null) {
            var currentDate = new Date();
            currentDate.setFullYear(currentDate.getFullYear() - 1);
            currentDate.setDate(0);
            currentDate.setMonth(11);
            return this.FormatDefineDate('yyyy-MM-dd', currentDate);
        }
        else {
            var currentDate = new Date(date);
            currentDate.setFullYear(currentDate.getFullYear());
            currentDate.setDate(0);
            currentDate.setMonth(11);
            return this.FormatDefineDate('yyyy-MM-dd', currentDate);
        }
    };
    DefaultFunctions.prototype.FirstDayOfNextYear = function (date) {
        if (date === void 0) { date = null; }
        if (date == null) {
            var currentDate = new Date();
            currentDate.setFullYear(currentDate.getFullYear() + 1);
            currentDate.setDate(1);
            currentDate.setMonth(0);
            return this.FormatDefineDate('yyyy-MM-dd', currentDate);
        }
        else {
            var currentDate = new Date(date);
            currentDate.setFullYear(currentDate.getFullYear() + 1);
            currentDate.setDate(1);
            currentDate.setMonth(0);
            return this.FormatDefineDate('yyyy-MM-dd', currentDate);
        }
    };
    DefaultFunctions.prototype.LastDayOfNextYear = function (date) {
        if (date === void 0) { date = null; }
        if (date == null) {
            var currentDate = new Date();
            currentDate.setFullYear(currentDate.getFullYear() + 1);
            currentDate.setDate(0);
            currentDate.setMonth(11);
            return this.FormatDefineDate('yyyy-MM-dd', currentDate);
        }
        else {
            var currentDate = new Date(date);
            currentDate.setFullYear(currentDate.getFullYear() + 2);
            currentDate.setDate(0);
            currentDate.setMonth(11);
            return this.FormatDefineDate('yyyy-MM-dd', currentDate);
        }
    };
    DefaultFunctions.prototype.GetDate = function (format, date) {
        if (date === void 0) { date = null; }
        switch (format) {
            case "DD":
                return this.Today(date);
            case "LD":
                return this.Yesterday(date);
            case "ND":
                return this.Tomorrow(date);
            case "YY":
                return this.ThisYear(date);
            case "LY":
                return this.LastYear(date);
            case "NY":
                return this.NextYear(date);
            case "MM":
                return this.ThisMonth(date);
            case "LM":
                return this.LastMonth(date);
            case "NM":
                return this.NextMonth(date);
            case "WD":
                return this.DayOfWeek(date);
            case "WW":
                return this.ThisWeek(date);
            case "LW":
                return this.LastWeek(date);
            case "NW":
                return this.NextWeek(date);
            case "FDW":
                return this.FirstDayOfWeek(date);
            case "LDW":
                return this.LastDayOfWeek(date);
            case "FDLW":
                return this.FirstDayOfLastWeek(date);
            case "LDLW":
                return this.LastDayOfLastWeek(date);
            case "FDNW":
                return this.FirstDayOfNextWeek(date);
            case "LDNW":
                return this.LastDayOfNextWeek(date);
            case "FDM":
                return this.FirstDayOfMonth(date);
            case "LDM":
                return this.LastDayOfMonth(date);
            case "FDLM":
                return this.FirstDayOfLastMonth(date);
            case "LDLM":
                return this.LastDayOfLastMonth(date);
            case "FDNM":
                return this.FirstDayOfNextMonth(date);
            case "LDNM":
                return this.LastDayOfNextMonth(date);
            case "FDY":
                return this.FirstDayOfYear(date);
            case "LDY":
                return this.LastDayOfYear(date);
            case "FDLY":
                return this.FirstDayOfLastYear(date);
            case "LDLY":
                return this.LastDayOfLastYear(date);
            case "FDNY":
                return this.FirstDayOfNextYear(date);
            case "LDNY":
                return this.LastDayOfNextYear(date);
            default:
                return (date);
        }
    };
    DefaultFunctions.prototype.IsExistRecord = function (chainedPropName, propertyName, matchValue) {
        return this.eval("\n    var list = " + chainedPropName + ";\n    var array = DefaultFunction.getIterable(list);\n    return array.find(item=>item[\"" + propertyName + "\"] === " + matchValue + ")==null?false:true;\n    ")();
    };
    DefaultFunctions.prototype.ListContains = function (chainedPropName, propertyName, matchValue) {
        return this.eval("\n    var list = " + chainedPropName + ";\n    var array = DefaultFunction.getIterable(list);\n    return !array.find(item=> item.hasOwnProperty(\"" + propertyName + "\") && item[\"" + propertyName + "\"].toString().indexOf(\"" + matchValue + "\")!==-1)?false:true;\n    ")();
    };
    DefaultFunctions.prototype.ListGreaterThan = function (chainedPropName, propertyName, matchValue) {
        return this.eval("\n    var list = " + chainedPropName + ";\n    var array = DefaultFunction.getIterable(list);\n    return !array.find(item=> item.hasOwnProperty(\"" + propertyName + "\") && item[\"" + propertyName + "\"] > " + matchValue + ") ? false: true;\n    ")();
    };
    DefaultFunctions.prototype.ListLessThan = function (chainedPropName, propertyName, matchValue) {
        return this.eval("\n    var list = " + chainedPropName + ";\n    var array = DefaultFunction.getIterable(list);\n    return !array.find(item=> item.hasOwnProperty(\"" + propertyName + "\") && item[\"" + propertyName + "\"] < " + matchValue + ") ? false: true;\n    ")();
    };
    DefaultFunctions.prototype.ListStartWith = function (chainedPropName, propertyName, matchValue) {
        return this.eval("\n    var list = " + chainedPropName + ";\n    var array = DefaultFunction.getIterable(list);\n    return !array.find(item=> item.hasOwnProperty(\"" + propertyName + "\") && item[\"" + propertyName + "\"] && item[\"" + propertyName + "\"].toString().startsWith(\"" + matchValue + "\")) ? false: true;\n    ")();
    };
    DefaultFunctions.prototype.ListEndWith = function (chainedPropName, propertyName, matchValue) {
        return this.eval("\n    var list = " + chainedPropName + ";\n    var array = DefaultFunction.getIterable(list);\n    return !array.find(item=> item.hasOwnProperty(\"" + propertyName + "\") && item[\"" + propertyName + "\"] && item[\"" + propertyName + "\"].toString().endsWith(\"" + matchValue + "\")) ? false: true;\n    ")();
    };
    DefaultFunctions.prototype.getComputeJsonData = function (chainedPropName, propertyName) {
        throw new Error("Method not implemented.");
    };
    DefaultFunctions.prototype.Contains = function (originalString, matchString) {
        if (originalString == null || matchString == null) {
            return false;
        }
        else {
            return originalString.indexOf(matchString) != -1;
        }
    };
    DefaultFunctions.prototype.NotContains = function (originalString, matchString) {
        if (originalString == null || matchString == null) {
            return false;
        }
        else {
            return !(originalString.indexOf(matchString) != -1);
        }
    };
    DefaultFunctions.prototype.StartsWith = function (originalString, matchString) {
        if (originalString == null || matchString == null) {
            return false;
        }
        else {
            return originalString.startsWith(matchString);
        }
    };
    DefaultFunctions.prototype.NotStartsWith = function (originalString, matchString) {
        if (originalString == null || matchString == null) {
            return false;
        }
        else {
            return !originalString.startsWith(matchString);
        }
    };
    DefaultFunctions.prototype.EndsWith = function (originalString, matchString) {
        if (originalString == null || matchString == null) {
            return false;
        }
        else {
            return originalString.endsWith(matchString);
        }
    };
    DefaultFunctions.prototype.NotEndsWith = function (originalString, matchString) {
        if (originalString == null || matchString == null) {
            return false;
        }
        else {
            return !originalString.endsWith(matchString);
        }
    };
    DefaultFunctions.prototype.trimStart = function (s, c) {
        if (s == null || s == "" || s.indexOf(c) < 0) {
            return s;
        }
        var startPos = s.indexOf(c);
        s = s.substring(startPos + 1);
        return s;
    };
    DefaultFunctions.prototype.trimEnd = function (s, c) {
        if (s == null || s == "" || s.indexOf(c) < 0) {
            return s;
        }
        var lastPos = s.lastIndexOf(c);
        if (lastPos >= 0) {
            s = s.substring(0, lastPos);
        }
        return s;
    };
    DefaultFunctions.prototype.trimStartEnd = function (s, c) {
        return this.trimEnd(this.trimStart(s, c), c);
    };
    return DefaultFunctions;
}());
export { DefaultFunctions };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGVmYXVsdF9mdW5jdGlvbnMuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9AZmFycmlzL2V4cHJlc3Npb24tZW5naW5lLyIsInNvdXJjZXMiOlsibGliL2Z1bmN0aW9uL2RlZmF1bHRfZnVuY3Rpb25zLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUVBO0lBRUUsMEJBQVksT0FBMkI7UUFDckMsSUFBSSxDQUFDLE9BQU8sR0FBRyxPQUFPLENBQUM7SUFDekIsQ0FBQztJQUVNLGtEQUF1QixHQUE5QixVQUErQixlQUF1QjtRQUNwRCxPQUFPLElBQUksQ0FBQyxJQUFJLENBQUksZUFBZSxNQUFHLENBQUMsRUFBRSxDQUFDO0lBQzVDLENBQUM7SUFDTSw4Q0FBbUIsR0FBMUIsVUFBMkIsWUFBb0I7UUFDN0MsT0FBTyxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUcsWUFBYyxDQUFDLEVBQUUsQ0FBQztJQUN4QyxDQUFDO0lBQ00sMENBQWUsR0FBdEIsVUFBdUIsWUFBb0I7UUFDekMsT0FBTyxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUcsWUFBYyxDQUFDLENBQUM7SUFDdEMsQ0FBQztJQUNNLCtCQUFJLEdBQVgsVUFBWSxJQUFZO1FBQ3RCLElBQU0sUUFBUSxHQUFHLElBQUksQ0FBQyxPQUFPLElBQUksSUFBSSxDQUFDLE9BQU8sQ0FBQyxRQUFRLElBQUksRUFBRSxDQUFDO1FBQzdELElBQU0sSUFBSSxHQUFHLFFBQVEsQ0FBQyxTQUFTLElBQUksRUFBRSxDQUFDO1FBQ3RDLElBQU0sU0FBUyxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFBO1FBQzdDLElBQU0sa0JBQWtCLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxvQ0FBb0MsQ0FBQyxDQUFDO1FBQzVFLElBQUksQ0FBQyxrQkFBa0IsRUFBRTtZQUN2QixJQUFJLEdBQUcsWUFBVSxJQUFNLENBQUM7U0FDekI7UUFDRCxJQUFNLFVBQVUsR0FBRyxN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LENBQUM7UUFDNUIsQ0FBQyxHQUFHLENBQUMsQ0FBQyxTQUFTLENBQUMsUUFBUSxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQzlCLE9BQU8sQ0FBQyxDQUFDO0lBQ1gsQ0FBQztJQUVNLGtDQUFPLEdBQWQsVUFBZSxDQUFDLEVBQUUsQ0FBQztRQUNqQixJQUFJLENBQUMsSUFBSSxJQUFJLElBQUksQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsRUFBRTtZQUM1QyxPQUFPLENBQUMsQ0FBQztTQUNWO1FBRUQsSUFBSSxPQUFPLEdBQUcsQ0FBQyxDQUFDLFdBQVcsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUMvQixJQUFJLE9BQU8sSUFBSSxDQUFDLEVBQUU7WUFDaEIsQ0FBQyxHQUFHLENBQUMsQ0FBQyxTQUFTLENBQUMsQ0FBQyxFQUFFLE9BQU8sQ0FBQyxDQUFDO1NBQzdCO1FBQ0QsT0FBTyxDQUFDLENBQUM7SUFDWCxDQUFDO0lBRU0sdUNBQVksR0FBbkIsVUFBb0IsQ0FBQyxFQUFFLENBQUM7UUFDdEIsT0FBTyxJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQy9DLENBQUM7SUFDSCx1QkFBQztBQUFELENBQUMsQUFqOENELElBaThDQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IElFeHByZXNzaW9uQ29udGV4dCB9IGZyb20gXCIuLi9jb3JlL2luZGV4XCI7XHJcblxyXG5leHBvcnQgY2xhc3MgRGVmYXVsdEZ1bmN0aW9ucyB7XHJcbiAgcHJvdGVjdGVkIGNvbnRleHQ6IElFeHByZXNzaW9uQ29udGV4dDtcclxuICBjb25zdHJ1Y3Rvcihjb250ZXh0OiBJRXhwcmVzc2lvbkNvbnRleHQpIHtcclxuICAgIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XHJcbiAgfVxyXG4gIC8vIOagueaNrumTvuW8j+WxnuaAp+WQjeiOt+WPluWxnuaAp+WAvFxyXG4gIHB1YmxpYyBHZXRDaGFpbmVkUHJvcGVydHlWYWx1ZShjaGFpbmVkUHJvcE5hbWU6IHN0cmluZykge1xyXG4gICAgcmV0dXJuIHRoaXMuZXZhbChgJHtjaGFpbmVkUHJvcE5hbWV9O2ApKCk7XHJcbiAgfVxyXG4gIHB1YmxpYyBHZXRDb250ZXh0UGFyYW1ldGVyKHByb3BlcnR5TmFtZTogc3RyaW5nKSB7XHJcbiAgICByZXR1cm4gdGhpcy5ldmFsKGAke3Byb3BlcnR5TmFtZX1gKSgpO1xyXG4gIH1cclxuICBwdWJsaWMgR2V0U2Vzc2lvblZhbHVlKHByb3BlcnR5TmFtZTogc3RyaW5nKSB7XHJcbiAgICByZXR1cm4gdGhpcy5ldmFsKGAke3Byb3BlcnR5TmFtZX1gKTtcclxuICB9XHJcbiAgcHVibGljIGV2YWwoZXhwcjogc3RyaW5nKSB7XHJcbiAgICBjb25zdCBjb250ZXh0cyA9IHRoaXMuY29udGV4dCAmJiB0aGlzLmNvbnRleHQuY29udGV4dHMgfHwge307XHJcbiAgICBjb25zdCBhcmdzID0gY29udGV4dHMuYXJndW1lbnRzIHx8IHt9O1xyXG4gICAgY29uc3Qgc2lnbmF0dXJlID0gT2JqZWN0LmtleXMoYXJncykuam9pbignLCcpXHJcbiAgICBjb25zdCBoYXNSZXR1cm5TdGF0ZW1lbnQgPSBleHByLm1hdGNoKC8oW1xcc1xcclxcbns7fV0rcmV0dXJuKXwoXnJldHVybilcXHMrL2cpO1xyXG4gICAgaWYgKCFoYXNSZXR1cm5TdGF0ZW1lbnQpIHtcclxuICAgICAgZXhwciA9IGByZXR1cm4gJHtleHByfWA7XHJcbiAgICB9XHJcbiAgICBjb25zdCBzY29wZU5hbWVzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoY29udGV4dHMpO1xyXG4gICAgY29uc3Qgc2NvcGVWYXJpYWJsZSA9IGBfX3Njb3BlX18ke25ldyBEYXRlKCkudmFsdWVPZigpfWA7XHJcbiAgICByZXR1cm4gbmV3IEZ1bmN0aW9uKHNjb3BlVmFyaWFibGUsIGBcclxuICAgICAgJHtzY29wZU5hbWVzLm1hcCgoa2V5OiBzdHJpbmcpID0+IGB2YXIgJHtrZXl9ID0gJHtzY29wZVZhcmlhYmxlfVsnJHtrZXl9J107YCkuam9pbignXFxyXFxuJyl9XHJcbiAgICAgIHJldHVybiBmdW5jdGlvbiBhbm9ueW1vdXMoJHtzaWduYXR1cmV9KSB7XHJcbiAgICAgICAgdHJ5eyBcXG4ke2V4cHJ9XFxuIH1jYXRjaChlKXtjb25zb2xlLmVycm9yKGUpO31cclxuICAgICAgfTtgKShjb250ZXh0cyk7XHJcbiAgfVxyXG4gIHB1YmxpYyBHZXRDb21wdXRlSnNvbkRhdGEoc2V0TmFtZTogYW55LCBwcm9wTmFtZTogc3RyaW5nKSB7XHJcbiAgICBjb25zb2xlLndhcm4oYEdldENvbXB1dGVKc29uRGF0YeS4jeaUr+aMgWApO1xyXG4gICAgcmV0dXJuIG51bGw7XHJcbiAgfVxyXG4gIHB1YmxpYyBHZXRJbmplY3RlZEVudGl0eShuYW1lOiBzdHJpbmcpIHtcclxuICAgIGNvbnNvbGUud2FybihgR2V0SW5qZWN0ZWRFbnRpdHnkuI3mlK/mjIFgKTtcclxuICAgIHJldHVybiBudWxsO1xyXG4gIH1cclxuICAvKipcclxuICAgKiDogZrlkIjnsbvlh73mlbAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuICAgKi9cclxuICAvLyDlkIjorqHluLjph4/lgLxcclxuICBwdWJsaWMgU3VtKHBhcmFtQXJyYXk6IG51bWJlcltdKSB7XHJcbiAgICBsZXQgc3VtID0gMDtcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGFyYW1BcnJheS5sZW5ndGg7IGkrKykge1xyXG4gICAgICBzdW0gKz0gcGFyYW1BcnJheVtpXTtcclxuICAgIH1cclxuICAgIHJldHVybiBzdW07XHJcbiAgfVxyXG4gIC8vIOWQiOiuoeW4uOmHj+WAvFxyXG4gIHB1YmxpYyBTdW1CeVByb3AoY2hhaW5lZFByb3BOYW1lLCBwcm9wZXJ0eU5hbWUpIHtcclxuICAgIC8vIOWOn+Wni+ihqOi+vuW8jyBTdW1CeVByb3AoXCJBRW50aXR5LmFiY3NcIixcImFcIilcclxuICAgIC8vIGxpa2UgU3VtQnlQcm9wKFwiRW50aXR5LmFiY3NcIixcImFcIik7XHJcbiAgICByZXR1cm4gdGhpcy5ldmFsKGBcclxuICAgIHZhciBsaXN0ID0gJHtjaGFpbmVkUHJvcE5hbWV9O1xyXG4gICAgdmFyIGFycmF5ID0gRGVmYXVsdEZ1bmN0aW9uLmdldEl0ZXJhYmxlKGxpc3QpO1xyXG4gICAgdmFyIHJlc3VsdCA9IGFycmF5LnJlZHVjZSgodG90YWwsaXRlbSk9PntcclxuICAgICAgY29uc3QgdmFsdWUgPSBEZWZhdWx0RnVuY3Rpb24uZ2V0UHJvcFZhbHVlKGl0ZW0sXCIke3Byb3BlcnR5TmFtZX1cIik7XHJcbiAgICAgIGlmKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWx1ZSkgPT09ICdbb2JqZWN0IE51bWJlcl0nKXtcclxuICAgICAgICB0b3RhbCA9IHRvdGFsICsgdmFsdWU7XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIHRvdGFsO1xyXG4gICAgfSwwKTtcclxuICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICBgKSgpO1xyXG4gIH1cclxuICBwdWJsaWMgQ291bnRCeVByb3AoY2hhaW5lZFByb3BOYW1lOiBzdHJpbmcsIHByb3BlcnR5TmFtZTogc3RyaW5nKSB7XHJcbiAgICByZXR1cm4gdGhpcy5ldmFsKGBcclxuICAgIHZhciBsaXN0ID0gJHtjaGFpbmVkUHJvcE5hbWV9O1xyXG4gICAgdmFyIGFycmF5ID0gRGVmYXVsdEZ1bmN0aW9uLmdldEl0ZXJhYmxlKGxpc3QpO1xyXG4gICAgdmFyIHJlc3VsdCA9IGFycmF5LnJlZHVjZSgoY291bnQsaXRlbSk9PntcclxuICAgICAgY29uc3QgaXNQcm9wRXhpc3QgPSBEZWZhdWx0RnVuY3Rpb24uaGFzUHJvcChpdGVtLFwiJHtwcm9wZXJ0eU5hbWV9XCIpO1xyXG4gICAgICBpZihpc1Byb3BFeGlzdCl7XHJcbiAgICAgICAgY291bnQgKys7XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIGNvdW50O1xyXG4gICAgfSwwKTtcclxuICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICBgKSgpO1xyXG4gIH1cclxuICBwdWJsaWMgQXZnQnlQcm9wKGNoYWluZWRQcm9wTmFtZTogc3RyaW5nLCBwcm9wZXJ0eU5hbWU6IHN0cmluZykge1xyXG4gICAgcmV0dXJuIHRoaXMuZXZhbChgXHJcbiAgICB2YXIgbGlzdCA9ICR7Y2hhaW5lZFByb3BOYW1lfTtcclxuICAgIHZhciBhcnJheSA9IERlZmF1bHRGdW5jdGlvbi5nZXRJdGVyYWJsZShsaXN0KTtcclxuICAgIHZhciByZXN1bHQgPSBhcnJheS5yZWR1Y2UoKHRvdGFsLGl0ZW0pPT57XHJcbiAgICAgIHZhciB2YWx1ZSA9IERlZmF1bHRGdW5jdGlvbi5nZXRQcm9wVmFsdWUoaXRlbSxcIiR7cHJvcGVydHlOYW1lfVwiKTtcclxuICAgICAgaWYoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbHVlKSA9PT0gJ1tvYmplY3QgTnVtYmVyXScpe1xyXG4gICAgICAgIHRvdGFsID0gdG90YWwgKyB2YWx1ZTtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gdG90YWw7XHJcbiAgICB9LDApO1xyXG4gICAgcmV0dXJuIHBhcnNlRmxvYXQoKHJlc3VsdC9hcnJheS5sZW5ndGgpLnRvRml4ZWQoMikpO1xyXG4gICAgYCkoKTtcclxuICB9XHJcbiAgcHVibGljIE1heEJ5UHJvcChjaGFpbmVkUHJvcE5hbWU6IHN0cmluZywgcHJvcGVydHlOYW1lOiBzdHJpbmcpIHtcclxuICAgIHJldHVybiB0aGlzLmV2YWwoYFxyXG4gICAgdmFyIGxpc3QgPSAke2NoYWluZWRQcm9wTmFtZX07XHJcbiAgICB2YXIgYXJyYXkgPSBEZWZhdWx0RnVuY3Rpb24uZ2V0SXRlcmFibGUobGlzdCk7XHJcbiAgICB2YXIgcmVzdWx0ID0gYXJyYXkucmVkdWNlKChtYXgsaXRlbSk9PntcclxuICAgICAgdmFyIHZhbHVlID0gRGVmYXVsdEZ1bmN0aW9uLmdldFByb3BWYWx1ZShpdGVtLFwiJHtwcm9wZXJ0eU5hbWV9XCIpO1xyXG4gICAgICBpZih2YWx1ZSE9PXVuZGVmaW5lZCl7XHJcbiAgICAgICAgaWYoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5hcHBseSh2YWx1ZSkhPT1cIltvYmplY3QgTnVtYmVyXVwiKXtcclxuICAgICAgICAgIGNvbnNvbGUud2FybihcIuWvueixoVwiK0pTT04uc3RyaW5naWZ5KGl0ZW0pICsgXCLkuK3vvIzlsZ7mgKcgJHtwcm9wZXJ0eU5hbWV9IOS4jeaYr+aVsOWtl+OAglwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgbWF4ID0gbWF4Pj12YWx1ZT9tYXg6dmFsdWU7XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIG1heDtcclxuICAgIH0sMCk7XHJcbiAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgYCkoKTtcclxuICB9XHJcbiAgcHVibGljIE1pbkJ5UHJvcChjaGFpbmVkUHJvcE5hbWU6IHN0cmluZywgcHJvcGVydHlOYW1lOiBzdHJpbmcpIHtcclxuICAgIHJldHVybiB0aGlzLmV2YWwoYFxyXG4gICAgdmFyIGxpc3QgPSAke2NoYWluZWRQcm9wTmFtZX07XHJcbiAgICB2YXIgYXJyYXkgPSBEZWZhdWx0RnVuY3Rpb24uZ2V0SXRlcmFibGUobGlzdCk7XHJcbiAgICB2YXIgcmVzdWx0ID0gYXJyYXkucmVkdWNlKChtaW4saXRlbSk9PntcclxuICAgICAgdmFyIHZhbHVlID0gRGVmYXVsdEZ1bmN0aW9uLmdldFByb3BWYWx1ZShpdGVtLFwiJHtwcm9wZXJ0eU5hbWV9XCIpO1xyXG4gICAgICBpZih2YWx1ZSE9PXVuZGVmaW5lZCl7XHJcbiAgICAgICAgaWYoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5hcHBseSh2YWx1ZSkhPT1cIltvYmplY3QgTnVtYmVyXVwiKXtcclxuICAgICAgICAgIGNvbnNvbGUud2FybihcIuWvueixoVwiK0pTT04uc3RyaW5naWZ5KGl0ZW0pICsgXCLkuK3vvIzlsZ7mgKcgJHtwcm9wZXJ0eU5hbWV9IOS4jeaYr+aVsOWtl+OAglwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgbWluID0gbWluPD12YWx1ZT9taW46dmFsdWU7XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIG1pbjtcclxuICAgIH0sdW5kZWZpbmVkKTtcclxuICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICBgKSgpO1xyXG4gIH1cclxuICBwdWJsaWMgZ2V0SXRlcmFibGUoaXRlbTogYW55KSB7XHJcbiAgICBpZiAoaXRlbSAmJiBpdGVtLmhhc093blByb3BlcnR5KCdfX3R5cGVfXycpICYmIGl0ZW1bJ19fdHlwZV9fJ10gPT09ICdCaW5kaW5nTGlzdCcpIHtcclxuICAgICAgcmV0dXJuIGl0ZW0udG9BcnJheSgpIHx8IFtdO1xyXG4gICAgfSBlbHNlIGlmIChpdGVtICYmIGl0ZW0uaGFzT3duUHJvcGVydHkoJ19fdHlwZV9fJykgJiYgaXRlbVsnX190eXBlX18nXSA9PT0gJ0VudGl0eUxpc3QnKSB7XHJcbiAgICAgIHJldHVybiBpdGVtLml0ZW1zIHx8IFtdO1xyXG4gICAgfSBlbHNlIGlmIChpdGVtICYmIGl0ZW0uaGFzT3duUHJvcGVydHkoJ19fdHlwZV9fJykgJiYgKGl0ZW1bJ19fdHlwZV9fJ10gPT09ICdMaXN0JyB8fCBpdGVtWydfX3R5cGVfXyddID09PSAnRW50aXR5JykpIHtcclxuICAgICAgcmV0dXJuIGl0ZW1bJ19faXRlbXNfXyddIHx8IFtdO1xyXG4gICAgfSBlbHNlIGlmIChPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmFwcGx5KGl0ZW0pID09PSBcIltvYmplY3QgQXJyYXldXCIpIHtcclxuICAgICAgcmV0dXJuIGl0ZW07XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXR1cm4gW107XHJcbiAgICB9XHJcbiAgfVxyXG4gIHByaXZhdGUgZ2V0UHJvcFZhbHVlKHRhcmdldDogYW55LCBwcm9wOiBzdHJpbmcpIHtcclxuICAgIGNvbnN0IHBhdGhzOiBzdHJpbmdbXSA9IHByb3Auc3BsaXQoJy4nKS5maWx0ZXIocCA9PiBwKTtcclxuICAgIHJldHVybiBwYXRocyAmJiBwYXRocy5yZWR1Y2UoKHJlc3VsdCwgcGF0aCkgPT4ge1xyXG4gICAgICBpZiAocmVzdWx0ICYmIHJlc3VsdC5oYXNPd25Qcm9wZXJ0eShwYXRoKSkge1xyXG4gICAgICAgIHJldHVybiByZXN1bHRbcGF0aF07XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcclxuICAgICAgfVxyXG4gICAgfSwgdGFyZ2V0KTtcclxuICB9XHJcbiAgcHJpdmF0ZSBoYXNQcm9wKHRhcmdldDogYW55LCBwcm9wOiBzdHJpbmcpIHtcclxuICAgIGNvbnN0IHBhdGhzOiBzdHJpbmdbXSA9IHByb3Auc3BsaXQoJy4nKS5maWx0ZXIocCA9PiBwKTtcclxuICAgIGxldCBpc1Byb3BFeGlzdCA9IHRydWU7XHJcbiAgICBpZiAocGF0aHMpIHtcclxuICAgICAgZm9yIChsZXQgaWR4ID0gMDsgaWR4IDwgcGF0aHMubGVuZ3RoOyBpZHgrKykge1xyXG4gICAgICAgIGNvbnN0IHBhdGggPSBwYXRoc1tpZHhdO1xyXG4gICAgICAgIGlmICghdGFyZ2V0Lmhhc093blByb3BlcnR5KHBhdGgpKSB7XHJcbiAgICAgICAgICBpc1Byb3BFeGlzdCA9IGZhbHNlO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRhcmdldCA9IHRhcmdldFtwYXRoXTtcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgaXNQcm9wRXhpc3QgPSBmYWxzZTtcclxuICAgIH1cclxuICAgIHJldHVybiBpc1Byb3BFeGlzdDtcclxuICB9XHJcbiAgLyoqXHJcbiAgICog5a2X56ym5Liy5Ye95pWwKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG4gICAqL1xyXG4gIC8vIOWPluWtkOWtl+espuS4slxyXG4gIHB1YmxpYyBTdHJpbmdTdWJzdHJpbmcob3JpZ2luYWxTdHJpbmcsIHN0YXJ0SW5kZXgsIGxlbmd0aCk6IHN0cmluZyB7XHJcbiAgICBpZiAoIW9yaWdpbmFsU3RyaW5nKSB7XHJcbiAgICAgIHJldHVybiBvcmlnaW5hbFN0cmluZztcclxuICAgIH1cclxuICAgIHJldHVybiBvcmlnaW5hbFN0cmluZy5zdWJzdHJpbmcoc3RhcnRJbmRleCwgbGVuZ3RoKTtcclxuICB9XHJcbiAgcHVibGljIExlbmd0aChvcmlnaW5hbFN0cmluZzogc3RyaW5nKTogbnVtYmVyIHtcclxuICAgIHJldHVybiBvcmlnaW5hbFN0cmluZyAmJiBvcmlnaW5hbFN0cmluZy5oYXNPd25Qcm9wZXJ0eSgnbGVuZ3RoJykgJiYgb3JpZ2luYWxTdHJpbmcubGVuZ3RoIHx8IDA7XHJcbiAgfVxyXG4gIC8vIOWPluWtl+espuaVsFxyXG4gIHB1YmxpYyBTdHJpbmdMZW5ndGgob3JpZ2luYWxTdHJpbmcpOiBudW1iZXIge1xyXG4gICAgcmV0dXJuIG9yaWdpbmFsU3RyaW5nICYmIG9yaWdpbmFsU3RyaW5nLmhhc093blByb3BlcnR5KCdsZW5ndGgnKSAmJiBvcmlnaW5hbFN0cmluZy5sZW5ndGggfHwgMDtcclxuICB9XHJcbiAgLy8g5a2X56ym5Liy5pu/5o2iXHJcbiAgcHVibGljIFN0cmluZ1JlcGxhY2Uob3JpZ2luYWxTdHJpbmcsIG9sZFZhbHVlLCBuZXdWYWx1ZSkge1xyXG4gICAgcmV0dXJuIG9yaWdpbmFsU3RyaW5nLnJlcGxhY2UobmV3IFJlZ0V4cChvbGRWYWx1ZSwgJ2cnKSwgbmV3VmFsdWUpO1xyXG4gIH1cclxuICAvLyDovazkuLrlpKflhplcclxuICBwdWJsaWMgVG9VcHBlcihvcmlnaW5hbFN0cmluZzogc3RyaW5nKSB7XHJcbiAgICBpZiAoIW9yaWdpbmFsU3RyaW5nKSB7XHJcbiAgICAgIHJldHVybiBvcmlnaW5hbFN0cmluZztcclxuICAgIH1cclxuICAgIHJldHVybiBvcmlnaW5hbFN0cmluZy50b1VwcGVyQ2FzZSgpO1xyXG4gIH1cclxuICAvLyDovazkuLrlsI/lhplcclxuICBwdWJsaWMgVG9Mb3dlcihvcmlnaW5hbFN0cmluZzogc3RyaW5nKSB7XHJcbiAgICBpZiAoIW9yaWdpbmFsU3RyaW5nKSB7XHJcbiAgICAgIHJldHVybiBvcmlnaW5hbFN0cmluZztcclxuICAgIH1cclxuICAgIHJldHVybiBvcmlnaW5hbFN0cmluZy50b0xvd2VyQ2FzZSgpO1xyXG4gIH1cclxuICAvLyDov5Tlm57lrZfnrKbkuLLotbflp4vkvY3nva5cclxuICBwdWJsaWMgSW5kZXhPZihvcmlnaW5hbFN0cmluZzogc3RyaW5nLCB2YWx1ZTogc3RyaW5nKSB7XHJcbiAgICBpZiAob3JpZ2luYWxTdHJpbmcpIHtcclxuICAgICAgcmV0dXJuIG9yaWdpbmFsU3RyaW5nLmluZGV4T2YodmFsdWUpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmV0dXJuIC0xO1xyXG4gICAgfVxyXG4gIH1cclxuICAvLyDov5Tlm57lrZfnrKbkuLLmnIDlkI7kvY3nva5cclxuICBwdWJsaWMgTGFzdEluZGV4T2Yob3JpZ2luYWxTdHJpbmcsIHZhbHVlKSB7XHJcbiAgICByZXR1cm4gb3JpZ2luYWxTdHJpbmcubGFzdEluZGV4T2YodmFsdWUpO1xyXG4gIH1cclxuICAvLyDljrvpmaTlrZfnrKbkuLLliY3pnaLnqbrmoLxcclxuICBwdWJsaWMgVHJpbVN0YXJ0KG9yaWdpbmFsU3RyaW5nKSB7XHJcbiAgICByZXR1cm4gb3JpZ2luYWxTdHJpbmcgJiYgb3JpZ2luYWxTdHJpbmcudHJpbUxlZnQoKTtcclxuICB9XHJcbiAgLy8g5Y676Zmk5a2X56ym5Liy5ZCO6Z2i56m65qC8KlxyXG4gIHB1YmxpYyBUcmltRW5kKG9yaWdpbmFsU3RyaW5nKSB7XHJcbiAgICByZXR1cm4gb3JpZ2luYWxTdHJpbmcgJiYgb3JpZ2luYWxTdHJpbmcudHJpbVJpZ2h0KCk7XHJcbiAgfVxyXG4gIC8vIOWOu+mZpOS4pOi+ueeahOepuuagvFxyXG4gIHB1YmxpYyBUcmltKG9yaWdpbmFsU3RyaW5nKSB7XHJcbiAgICByZXR1cm4gb3JpZ2luYWxTdHJpbmcudHJpbSgpO1xyXG4gIH1cclxuICAvLyDlj5blrZDlrZfnrKbkuLJcclxuICBwdWJsaWMgU3ViU3RyaW5nKG9yaWdpbmFsU3RyaW5nLCBzdGFydEluZGV4LCBsZW5ndGgpIHtcclxuICAgIHJldHVybiB0aGlzLlN0cmluZ1N1YnN0cmluZyhvcmlnaW5hbFN0cmluZywgc3RhcnRJbmRleCwgbGVuZ3RoKTtcclxuICB9XHJcbiAgLy8g5Y+W5a2X56ym5pWwXHJcbiAgcHVibGljIEdldFN0cmluZ0xlbmd0aChvYmopIHtcclxuICAgIHJldHVybiB0aGlzLlN0cmluZ0xlbmd0aChvYmopO1xyXG4gIH1cclxuICAvLyDlrZfnrKbkuLLmm7/mjaJcclxuICBwdWJsaWMgUmVwbGFjZShvcmlnaW5hbFN0cmluZywgb2xkVmFsdWUsIG5ld1ZhbHVlKSB7XHJcbiAgICByZXR1cm4gdGhpcy5TdHJpbmdSZXBsYWNlKG9yaWdpbmFsU3RyaW5nLCBvbGRWYWx1ZSwgbmV3VmFsdWUpO1xyXG4gIH1cclxuICAvLyDllK/kuIDmoIfor4bnrKZcclxuICBwdWJsaWMgQ3JlYXRlR3VpZCgpIHtcclxuICAgIHZhciBkID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XHJcbiAgICB2YXIgdXVpZCA9ICd4eHh4eHh4eHh4eHg0eHh4eXh4eHh4eHh4eHh4eHh4eCcucmVwbGFjZSgvW3h5XS9nLCAoXHJcbiAgICAgIGZ1bmN0aW9uIChjKSB7XHJcbiAgICAgICAgdmFyIHIgPSAoZCArIE1hdGgucmFuZG9tKCkgKiAxNikgJSAxNiB8IDA7XHJcbiAgICAgICAgZCA9IE1hdGguZmxvb3IoZCAvIDE2KTtcclxuICAgICAgICByZXR1cm4gKGMgPT0gJ3gnID8gciA6IChyICYgMHgzIHwgMHg4KSkudG9TdHJpbmcoMTYpO1xyXG4gICAgICB9KSk7XHJcbiAgICByZXR1cm4gdXVpZC50b1VwcGVyQ2FzZSgpO1xyXG4gIH1cclxuICAvLyDovazmjaLkuLpzcWwuLi4uLi4uLi4uLi4uLi4uLi5cclxuICBwdWJsaWMgQ2FzZVRvU3FsKGNvbCkge1xyXG4gICAgaWYgKGNvbCA9PSBudWxsIHx8IGNvbCA9PSBcIlwiKVxyXG4gICAgICByZXR1cm4gKFwi5Y+C5pWw5Li656m6XCIpO1xyXG5cclxuICAgIGxldCBwYXJhbWV0ZXIgPSBjb2wuc3BsaXQoXCIsXCIpO1xyXG4gICAgaWYgKHBhcmFtZXRlci5sZW5ndGggPT0gMCB8fCBwYXJhbWV0ZXIubGVuZ3RoID09IDEpIHtcclxuICAgICAgcmV0dXJuIChcIuWHveaVsENhc2VUb1NxbCzlj4LmlbDkuKrmlbDkuI3mraPnoa5cIik7XHJcbiAgICB9XHJcblxyXG4gICAgbGV0IHJlc3VsdFNxbCA9IFwiIGNhc2UgXCIgKyBwYXJhbWV0ZXJbMF07XHJcblxyXG4gICAgbGV0IHRlbXAgPSBcIlwiO1xyXG4gICAgLy9TdHJpbmdbXSB2YWx1ZVN0ciA9IG5ldyBTdHJpbmdbMl07XHJcbiAgICBmb3IgKGxldCBpID0gMTsgaSA8PSBwYXJhbWV0ZXIubGVuZ3RoOyBpKyspIHtcclxuICAgICAgdGVtcCA9IHBhcmFtZXRlcltpXS5yZXBsYWNlKFwie1wiLCBcIlwiKTtcclxuICAgICAgdGVtcCA9IHRlbXAucmVwbGFjZShcIn1cIiwgXCJcIik7XHJcblxyXG4gICAgICBsZXQgdmFsdWVTdHIgPSB0ZW1wLnNwbGl0KFwiLFwiKTtcclxuICAgICAgcmVzdWx0U3FsID0gcmVzdWx0U3FsICsgXCIgd2hlbiBcIiArIHZhbHVlU3RyWzBdICsgXCIgdGhlbiBcIiArIHZhbHVlU3RyWzFdO1xyXG4gICAgfVxyXG4gICAgcmVzdWx0U3FsID0gcmVzdWx0U3FsICsgXCJlbmQgXCI7XHJcbiAgICByZXR1cm4gcmVzdWx0U3FsO1xyXG4gIH1cclxuICA7XHJcbiAgLy8g5Yik5pat5piv5ZCm5Li656m65a2X56ym5LiyXHJcbiAgcHVibGljIElzTnVsbEVtcHR5KHN0cikge1xyXG4gICAgaWYgKHN0ciAhPSBudWxsICYmIHN0ciAhPSBcIlwiKSB7XHJcbiAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICB9XHJcbiAgLy8gMi0tLTEw5a2X56ym5Liy55u45YqgLi4uLi4uLi4uLi4uXHJcbiAgcHVibGljIEFkZCguLi5zdHIpIHtcclxuXHJcbiAgICB2YXIgc3RyVGVtID0gXCJcIjtcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc3RyLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIHN0clRlbSArPSBzdHJbaV07XHJcbiAgICB9XHJcbiAgICByZXR1cm4gc3RyVGVtO1xyXG4gIH1cclxuICAvKipcclxuICAgKiDovazljJbnsbvlh73mlbAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG4gICAqL1xyXG4gIC8vIOi9rOS4ujjkvY3ml6DnrKblj7fmlbTmlbBcclxuICBwdWJsaWMgVG9CeXRlKG9iaikge1xyXG4gICAgcmV0dXJuIG9iaiA+PiAwO1xyXG4gIH1cclxuICAvLyDovazkuLrlrZfnrKbkuLJcclxuICBwdWJsaWMgVG9TdHJpbmdYKG9iaikge1xyXG4gICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KG9iaik7XHJcbiAgfVxyXG4gIC8vIOi9rOS4uuaXpeacn+aXtumXtC4uLi4uLi4uLi4uLlxyXG4gIHB1YmxpYyBUb0RhdGVUaW1lKG9iaikge1xyXG4gICAgcmV0dXJuIG5ldyBEYXRlKG9iaik7XHJcbiAgfVxyXG4gIC8vIOi9rOS4uuW4g+WwlOWAvFxyXG4gIHB1YmxpYyBUb0Jvb2xlYW4ob2JqKSB7XHJcbiAgICByZXR1cm4gKChKU09OLnN0cmluZ2lmeShvYmopICE9IG51bGwpICYmIEpTT04uc3RyaW5naWZ5KG9iaikgPT0gXCJ0cnVlXCIpO1xyXG4gIH1cclxuICAvLyDovazkuLrmlbDlgLwuLi4uLi4uLi4uLi4uXHJcbiAgcHVibGljIFRvRGVjaW1hbChvYmopIHtcclxuICAgIHJldHVybiBOdW1iZXIob2JqKTtcclxuICB9XHJcbiAgcHVibGljIFRvQmlnRGVjaW1hbCh2YWx1ZSkge1xyXG4gICAgcmV0dXJuIE51bWJlcih2YWx1ZSk7XHJcbiAgfVxyXG4gIC8vIOi9rOS4uuWPjOeyvuW6pua1rueCueaVsC4uLi4uLi4uLi5cclxuICBwdWJsaWMgVG9Eb3VibGUob2JqKSB7XHJcbiAgICByZXR1cm4gTnVtYmVyKG9iaik7XHJcbiAgfVxyXG4gIC8vIOi9rOS4uuWNleeyvuW6pua1rueCueaVsC4uLi4uLi4uLi4uLlxyXG4gIHB1YmxpYyBUb0Zsb2F0KG9iaikge1xyXG4gICAgcmV0dXJuIE51bWJlcihvYmopO1xyXG4gIH1cclxuXHJcbiAgLy8g6L2s5Li6aW50ZWdlcuaVtOaVsC4uLi4uLi4uLlxyXG4gIHB1YmxpYyBUb0ludDE2KG9iaikge1xyXG4gICAgcmV0dXJuIE51bWJlcihvYmopO1xyXG4gIH1cclxuICBwdWJsaWMgVG9JbnQzMihvYmopIHtcclxuICAgIHJldHVybiBOdW1iZXIob2JqKTtcclxuICB9XHJcbiAgLy8g6L2s5Li65Lit5paH5aSn5YaZ6YeR6aKdXHJcbiAgcHVibGljIFRvQ2hpbmVzZU1vbmV5KG1vbmV5KSB7XHJcbiAgICAvL+axieWtl+eahOaVsOWtl1xyXG4gICAgdmFyIGNuTnVtcyA9IG5ldyBBcnJheSgn6Zu2JywgJ+WjuScsICfotLAnLCAn5Y+BJywgJ+iChicsICfkvI0nLCAn6ZmGJywgJ+afkicsICfmjYwnLCAn546WJyk7XHJcbiAgICAvL+WfuuacrOWNleS9jVxyXG4gICAgdmFyIGNuSW50UmFkaWNlID0gbmV3IEFycmF5KCcnLCAn5ou+JywgJ+S9sCcsICfku58nKTtcclxuICAgIC8v5a+55bqU5pW05pWw6YOo5YiG5omp5bGV5Y2V5L2NXHJcbiAgICB2YXIgY25JbnRVbml0cyA9IG5ldyBBcnJheSgnJywgJ+S4hycsICfkur8nLCAn5YWGJyk7XHJcbiAgICAvL+WvueW6lOWwj+aVsOmDqOWIhuWNleS9jVxyXG4gICAgdmFyIGNuRGVjVW5pdHMgPSBuZXcgQXJyYXkoJ+inkicsICfliIYnLCAn5q+rJywgJ+WOmCcpO1xyXG4gICAgLy/mlbTmlbDph5Hpop3ml7blkI7pnaLot5/nmoTlrZfnrKZcclxuICAgIHZhciBjbkludGVnZXIgPSAn5pW0JztcclxuICAgIC8v5pW05Z6L5a6M5Lul5ZCO55qE5Y2V5L2NXHJcbiAgICB2YXIgY25JbnRMYXN0ID0gJ+WFgyc7XHJcbiAgICAvL+acgOWkp+WkhOeQhueahOaVsOWtl1xyXG4gICAgdmFyIG1heE51bSA9IDk5OTk5OTk5OTk5OTk5OS45OTk5O1xyXG4gICAgLy/ph5Hpop3mlbTmlbDpg6jliIZcclxuICAgIHZhciBpbnRlZ2VyTnVtO1xyXG4gICAgLy/ph5Hpop3lsI/mlbDpg6jliIZcclxuICAgIHZhciBkZWNpbWFsTnVtO1xyXG4gICAgLy/ovpPlh7rnmoTkuK3mlofph5Hpop3lrZfnrKbkuLJcclxuICAgIHZhciBjaGluZXNlU3RyID0gJyc7XHJcbiAgICAvL+WIhuemu+mHkemineWQjueUqOeahOaVsOe7hO+8jOmihOWumuS5iVxyXG4gICAgdmFyIHBhcnRzO1xyXG4gICAgaWYgKG1vbmV5ID49IG1heE51bSkge1xyXG4gICAgICAvL+i2heWHuuacgOWkp+WkhOeQhuaVsOWtl1xyXG4gICAgICByZXR1cm4gJyc7XHJcbiAgICB9XHJcbiAgICBpZiAobW9uZXkgPT0gMCkge1xyXG4gICAgICBjaGluZXNlU3RyID0gY25OdW1zWzBdICsgY25JbnRMYXN0ICsgY25JbnRlZ2VyO1xyXG4gICAgICByZXR1cm4gY2hpbmVzZVN0cjtcclxuICAgIH1cclxuICAgIC8v6L2s5o2i5Li65a2X56ym5LiyXHJcblxyXG4gICAgdmFyIG1vbmV5U3RyID0gbW9uZXkudG9TdHJpbmcoKTtcclxuICAgIGlmIChtb25leVN0ci5pbmRleE9mKCcuJykgPT0gLTEpIHtcclxuICAgICAgaW50ZWdlck51bSA9IG1vbmV5U3RyO1xyXG4gICAgICBkZWNpbWFsTnVtID0gJyc7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgcGFydHMgPSBtb25leVN0ci5zcGxpdCgnLicpO1xyXG4gICAgICBpbnRlZ2VyTnVtID0gcGFydHNbMF07XHJcbiAgICAgIGRlY2ltYWxOdW0gPSBwYXJ0c1sxXS5zdWJzdHIoMCwgNCk7XHJcbiAgICB9XHJcbiAgICAvL+iOt+WPluaVtOWei+mDqOWIhui9rOaNolxyXG4gICAgaWYgKHBhcnNlSW50KGludGVnZXJOdW0sIDEwKSA+IDApIHtcclxuICAgICAgdmFyIHplcm9Db3VudCA9IDA7XHJcbiAgICAgIHZhciBJbnRMZW4gPSBpbnRlZ2VyTnVtLmxlbmd0aDtcclxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBJbnRMZW47IGkrKykge1xyXG4gICAgICAgIHZhciBuID0gaW50ZWdlck51bS5zdWJzdHIoaSwgMSk7XHJcbiAgICAgICAgdmFyIHAgPSBJbnRMZW4gLSBpIC0gMTtcclxuICAgICAgICB2YXIgcSA9IHAgLyA0O1xyXG4gICAgICAgIHZhciBtID0gcCAlIDQ7XHJcbiAgICAgICAgaWYgKG4gPT0gJzAnKSB7XHJcbiAgICAgICAgICB6ZXJvQ291bnQrKztcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICBpZiAoemVyb0NvdW50ID4gMCkge1xyXG4gICAgICAgICAgICBjaGluZXNlU3RyICs9IGNuTnVtc1swXTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIC8v5b2S6Zu2XHJcbiAgICAgICAgICB6ZXJvQ291bnQgPSAwO1xyXG4gICAgICAgICAgY2hpbmVzZVN0ciArPSBjbk51bXNbcGFyc2VJbnQobildICsgY25JbnRSYWRpY2VbbV07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChtID09IDAgJiYgemVyb0NvdW50IDwgNCkge1xyXG4gICAgICAgICAgY2hpbmVzZVN0ciArPSBjbkludFVuaXRzW3FdO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICBjaGluZXNlU3RyICs9IGNuSW50TGFzdDtcclxuICAgIH1cclxuICAgIC8v5bCP5pWw6YOo5YiGXHJcbiAgICBpZiAoZGVjaW1hbE51bSAhPSAnJykge1xyXG4gICAgICB2YXIgZGVjTGVuID0gZGVjaW1hbE51bS5sZW5ndGg7XHJcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGVjTGVuOyBpKyspIHtcclxuICAgICAgICB2YXIgbiA9IGRlY2ltYWxOdW0uc3Vic3RyKGksIDEpO1xyXG4gICAgICAgIGlmIChuICE9ICcwJykge1xyXG4gICAgICAgICAgY2hpbmVzZVN0ciArPSBjbk51bXNbTnVtYmVyKG4pXSArIGNuRGVjVW5pdHNbaV07XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBpZiAoY2hpbmVzZVN0ciA9PSAnJykge1xyXG4gICAgICBjaGluZXNlU3RyICs9IGNuTnVtc1swXSArIGNuSW50TGFzdCArIGNuSW50ZWdlcjtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGRlY2ltYWxOdW0gPT0gJycpIHtcclxuICAgICAgY2hpbmVzZVN0ciArPSBjbkludGVnZXI7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gY2hpbmVzZVN0cjtcclxuICB9XHJcbiAgLyoqXHJcbiAgICog5Yik5pat5Ye95pWwKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKjhcclxuICAgKi9cclxuICAvLyDmmK/nqbrlgLxcclxuICBwdWJsaWMgSXNOdWxsKG9iaikge1xyXG4gICAgcmV0dXJuIG9iaiA9PSBudWxsO1xyXG4gIH1cclxuICAvLyDmmK/nqbrkuLJcclxuICBwdWJsaWMgSXNOdWxsT3JXaGl0ZVNwYWNlKG9iaikge1xyXG4gICAgaWYgKG9iaiA9PSBudWxsIHx8IG9iaiA9PSBcIlwiIHx8IG9iai50cmltKCkgPT0gXCJcIikge1xyXG4gICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuICAgIHJldHVybiBmYWxzZTtcclxuICB9XHJcbiAgLy8g5piv6Z2e5pWw5a2XXHJcbiAgcHVibGljIElzTmFOKG9iaikge1xyXG4gICAgcmV0dXJuIGlzTmFOKE51bWJlcihvYmopKTtcclxuICB9XHJcbiAgLy8g5piv5pWw5a2XXHJcbiAgcHVibGljIElzTnVtYmVyKG9iaikge1xyXG4gICAgcmV0dXJuICFpc05hTihOdW1iZXIob2JqKSk7XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIOaVsOWtpuexu+WHveaVsCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG4gICAqL1xyXG4gIC8vIHNpbuWHveaVsFxyXG4gIHB1YmxpYyBzaW4odmFsdWUpIHtcclxuICAgIHJldHVybiBNYXRoLnNpbih2YWx1ZSk7XHJcbiAgfVxyXG4gIC8vIGNvc+WHveaVsFxyXG4gIHB1YmxpYyBjb3ModmFsdWUpIHtcclxuICAgIHJldHVybiBNYXRoLmNvcyh2YWx1ZSk7XHJcbiAgfVxyXG4gIC8vIHJvdW5k5Ye95pWwXHJcbiAgcHVibGljIHJhbmRvbSh2YWx1ZSkge1xyXG4gICAgcmV0dXJuIE1hdGgucmFuZG9tKCk7XHJcbiAgfVxyXG4gIC8vIGNlaWxpbmflh73mlbBcclxuICBwdWJsaWMgY2VpbCh2YWx1ZSkge1xyXG4gICAgcmV0dXJuIE1hdGguY2VpbCh2YWx1ZSk7XHJcbiAgfVxyXG4gIC8vIGFic+WHveaVsFxyXG4gIHB1YmxpYyBhYnModmFsdWUpIHtcclxuICAgIHJldHVybiBNYXRoLmFicyh2YWx1ZSk7XHJcbiAgfVxyXG4gIHB1YmxpYyBmbG9vcih2YWx1ZSkge1xyXG4gICAgcmV0dXJuIE1hdGguZmxvb3IodmFsdWUpO1xyXG4gIH1cclxuICAvLyDlm5voiI3kupTlhaVcclxuICBwdWJsaWMgcm91bmQodmFsdWUsIGRpZ2l0cykge1xyXG4gICAgcmV0dXJuIE1hdGgucm91bmQodmFsdWUgKiBNYXRoLnBvdygxMCwgZGlnaXRzKSkgLyBNYXRoLnBvdygxMCwgZGlnaXRzKTtcclxuICB9XHJcbiAgLy8g6ZO26KGM5a62566X5rOV6IiN5YWlLi4uLi4uLi4uLi4uLlxyXG4gIHB1YmxpYyBiYW5rZXJSb3VuZCh2YWx1ZTogYW55LCBudW06IG51bWJlcikge1xyXG4gICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gXCJudW1iZXJcIikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKFwi6L6T5YWl5YC85b+F6aG75piv5pWw5a2X77yBXCIpO1xyXG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHZhbHVlLnRvRml4ZWQobnVtKTtcclxuICB9XHJcbiAgLyoqXHJcbiAgICog6Lqr5Lu96K+B5Ye95pWwKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuICAgKi9cclxuICAvLyDmoLnmja7ouqvku73or4Hlj7fojrflj5bnlJ/ml6XlrZfnrKbkuLJcclxuICBwdWJsaWMgR2V0QmlydGhkYXkoaWRDYXJkKSB7XHJcbiAgICB2YXIgcmV0ID0gdGhpcy5Jc0lEY2FyZChpZENhcmQpO1xyXG4gICAgaWYgKCFyZXQpIHtcclxuICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcbiAgICB2YXIgYmlydGhkYXlWYWx1ZSA9IFwiXCI7XHJcbiAgICBpZiAoMTUgPT0gaWRDYXJkLmxlbmd0aCkge1xyXG4gICAgICAvLzE15L2N6Lqr5Lu96K+B5Y+356CBXHJcbiAgICAgIGJpcnRoZGF5VmFsdWUgPSBpZENhcmQuc3Vic3RyaW5nKDYsIDgpO1xyXG4gICAgICBpZiAoTnVtYmVyKGJpcnRoZGF5VmFsdWUpIDwgMTApIHtcclxuICAgICAgICBiaXJ0aGRheVZhbHVlID0gXCIyMFwiICsgYmlydGhkYXlWYWx1ZTtcclxuICAgICAgfVxyXG4gICAgICBlbHNlIHtcclxuICAgICAgICBiaXJ0aGRheVZhbHVlID0gXCIxOVwiICsgYmlydGhkYXlWYWx1ZTtcclxuICAgICAgfVxyXG4gICAgICBiaXJ0aGRheVZhbHVlID0gYmlydGhkYXlWYWx1ZSArICctJyArIGlkQ2FyZC5zdWJzdHJpbmcoOCwgMTApICsgJy0nICsgaWRDYXJkLnN1YnN0cmluZygxMCwgMTIpO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoMTggPT0gaWRDYXJkLmxlbmd0aCkge1xyXG4gICAgICByZXR1cm4gaWRDYXJkLnN1YnN0cig2LCA0KSArIFwiLVwiICsgaWRDYXJkLnN1YnN0cigxMCwgMikgKyBcIi1cIiArIGlkQ2FyZC5zdWJzdHIoMTIsIDIpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGJpcnRoZGF5VmFsdWU7XHJcbiAgfVxyXG4gIC8vIOagueaNrui6q+S7veivgeWPt+iOt+WPluW5tOm+hFxyXG4gIHB1YmxpYyBHZXRBZ2UoaWRDYXJkKSB7XHJcbiAgICBpZiAoIWlkQ2FyZCkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICB2YXIgYmlydGhEYXkgPSB0aGlzLkdldEJpcnRoZGF5KGlkQ2FyZCk7XHJcbiAgICBpZiAoYmlydGhEYXkgPT0gbnVsbCB8fCBiaXJ0aERheSA9PSBcIlwiKSB7XHJcbiAgICAgIHJldHVybiAtMTtcclxuICAgIH1cclxuICAgIHZhciBiaXJ0aERhdGUgPSBuZXcgRGF0ZShiaXJ0aERheS5yZXBsYWNlKC8tL2csIFwiL1wiKSk7XHJcbiAgICB2YXIgbm93RGF0ZSA9IG5ldyBEYXRlKCk7XHJcbiAgICB2YXIgYWdlID0gbm93RGF0ZS5nZXRGdWxsWWVhcigpIC0gYmlydGhEYXRlLmdldEZ1bGxZZWFyKCk7XHJcbiAgICAvL+WGjeiAg+iZkeaciOOAgeWkqeeahOWboOe0oFxyXG4gICAgaWYgKG5vd0RhdGUuZ2V0TW9udGgoKSA8IGJpcnRoRGF0ZS5nZXRNb250aCgpIHx8IChub3dEYXRlLmdldE1vbnRoKCkgPT0gYmlydGhEYXRlLmdldE1vbnRoKClcclxuICAgICAgJiYgbm93RGF0ZS5nZXREYXRlKCkgPCBiaXJ0aERhdGUuZ2V0RGF0ZSgpKSkge1xyXG4gICAgICBhZ2UtLTtcclxuICAgIH1cclxuICAgIHJldHVybiBhZ2U7XHJcbiAgfVxyXG4gIC8vIOagueaNrui6q+S7veivgeWPt+i/lOWbnuS4juW9k+WJjeivreiogOWvueW6lOeahOeUt+OAgeWls+Wtl+espuS4slxyXG4gIHB1YmxpYyBHZXRTZXgoaWRDYXJkKSB7XHJcbiAgICBpZiAodGhpcy5Jc0lEY2FyZChpZENhcmQpID09IGZhbHNlKSB7XHJcbiAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIHZhciBzdHJTZXggPSBcIlwiO1xyXG4gICAgLy/lpITnkIYxOOS9jeeahOi6q+S7veivgeWPt+eggeS7juWPt+eggeS4reW+l+WIsOeUn+aXpeWSjOaAp+WIq+S7o+eggVxyXG4gICAgaWYgKGlkQ2FyZC5sZW5ndGggPT0gMTgpIHtcclxuICAgICAgc3RyU2V4ID0gaWRDYXJkLnN1YnN0cmluZygxNCwgMTcpO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoaWRDYXJkLmxlbmd0aCA9PSAxNSkge1xyXG4gICAgICBzdHJTZXggPSBpZENhcmQuc3Vic3RyaW5nKDEyLCAxNSk7XHJcbiAgICB9XHJcbiAgICAvL+aAp+WIq+S7o+eggeS4uuWBtuaVsOaYr+Wls+aAp+Wlh+aVsOS4uueUt+aAp1xyXG4gICAgaWYgKE51bWJlcihzdHJTZXgpICUgMiA9PSAwKSB7XHJcbiAgICAgIHN0clNleCA9IFwi5aWzXCI7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgc3RyU2V4ID0gXCLnlLdcIjtcclxuICAgIH1cclxuICAgIHJldHVybiBzdHJTZXg7XHJcbiAgfVxyXG4gIC8vIOmqjOivgei6q+S7veivgeWPty5cclxuICBwdWJsaWMgSXNJRGNhcmQoaWRjYXJkKSB7XHJcbiAgICB2YXIgcmVndWxhckV4cHJlc3Npb24gPSAvKF5bMS05XVxcZHs3fSgoMFxcZCl8KDFbMC0yXSkpKChbMHwxfDJdXFxkKXwzWzAtMV0pXFxkezN9JHxeWzEtOV1cXGR7NX1bMS05XVxcZHszfSgoMFxcZCl8KDFbMC0yXSkpKChbMHwxfDJdXFxkKXwzWzAtMV0pXFxkezN9KFswLTldfFgpJCl8KFsxLTldWzAtOV17NX1bMC05XXsyfSgoMFsxLTldKXwoMTB8MTF8MTIpKSgoWzAtMl1bMS05XSl8MTB8MjB8MzB8MzEpWzAtOV17M30pLztcclxuICAgIHJldHVybiByZWd1bGFyRXhwcmVzc2lvbi50ZXN0KGlkY2FyZCk7XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIOaXpeacn+Wei+WHveaVsCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG4gICAqL1xyXG4gIC8vIOWinuWKoOaMh+WumueahOWkqeaVsFxyXG4gIHB1YmxpYyBEYXRlVGltZUFkZERheXMoZGF0ZSwgdmFsdWUpIHtcclxuICAgIGlmICghZGF0ZSkge1xyXG4gICAgICByZXR1cm4gZGF0ZTtcclxuICAgIH1cclxuICAgIHZhciB0ZW1wRGF0ZSA9IG5ldyBEYXRlKGRhdGUucmVwbGFjZSgvLS9nLCBcIi9cIikpO1xyXG4gICAgdGVtcERhdGUuc2V0RGF0ZSh0ZW1wRGF0ZS5nZXREYXRlKCkgKyB2YWx1ZSk7XHJcbiAgICByZXR1cm4gdGVtcERhdGU7XHJcbiAgfVxyXG4gIC8vIOWinuWKoOaMh+WumueahOaciOaVsFxyXG4gIHB1YmxpYyBEYXRlVGltZUFkZE1vbnRocyhkYXRlLCB2YWx1ZSkge1xyXG4gICAgaWYgKCFkYXRlKSB7XHJcbiAgICAgIHJldHVybiBkYXRlO1xyXG4gICAgfVxyXG4gICAgdmFyIHRlbXBEYXRlID0gbmV3IERhdGUoZGF0ZS5yZXBsYWNlKC8tL2csIFwiL1wiKSk7XHJcbiAgICB0ZW1wRGF0ZS5zZXRNb250aCh0ZW1wRGF0ZS5nZXRNb250aCgpICsgdmFsdWUpO1xyXG4gICAgcmV0dXJuIHRlbXBEYXRlO1xyXG4gIH1cclxuICAvLyDlop7liqDmjIflrprnmoTlubTmlbBcclxuICBwdWJsaWMgRGF0ZVRpbWVBZGRZZWFycyhkYXRlLCB2YWx1ZSkge1xyXG4gICAgaWYgKCFkYXRlKSB7XHJcbiAgICAgIHJldHVybiBkYXRlO1xyXG4gICAgfVxyXG4gICAgdmFyIHRlbXBEYXRlID0gbmV3IERhdGUoZGF0ZS5yZXBsYWNlKC8tL2csIFwiL1wiKSk7XHJcbiAgICB0ZW1wRGF0ZS5zZXRGdWxsWWVhcih0ZW1wRGF0ZS5nZXRGdWxsWWVhcigpICsgdmFsdWUpO1xyXG4gICAgcmV0dXJuIHRlbXBEYXRlO1xyXG4gIH1cclxuICAvLyDlj5bmjIflrprml6XmnJ/ml7bpl7TlgLzmiYDlnKjmnIjnmoTnrKzkuIDlpKlcclxuICBwdWJsaWMgR2V0Rmlyc3REYXlPZk1vbnRoKGRhdGUpIHtcclxuICAgIGlmICghZGF0ZSkge1xyXG4gICAgICByZXR1cm4gZGF0ZTtcclxuICAgIH1cclxuICAgIHZhciB0ZW1wRGF0ZSA9IG5ldyBEYXRlKGRhdGUucmVwbGFjZSgvLS9nLCBcIi9cIikpO1xyXG4gICAgdGVtcERhdGUuc2V0RGF0ZSgxKTtcclxuICAgIHJldHVybiB0ZW1wRGF0ZTtcclxuICB9XHJcbiAgLy8g6I635Y+W5oyH5a6a5pel5pyf5pe26Ze05YC85omA5Zyo5pyI55qE5pyA5ZCO5LiA5aSpXHJcbiAgcHVibGljIEdldExhc3REYXlPZk1vbnRoKGRhdGUpIHtcclxuICAgIGlmICghZGF0ZSkge1xyXG4gICAgICByZXR1cm4gZGF0ZTtcclxuICAgIH1cclxuICAgIHZhciBlbmREYXRlID0gbmV3IERhdGUoZGF0ZS5yZXBsYWNlKC8tL2csIFwiL1wiKSk7XHJcbiAgICAvL+aKiuaXpeacn+Wtl+espuS4sui9rOaNouaIkOaXpeacn+agvOW8j1xyXG4gICAgdmFyIG1vbnRoID0gZW5kRGF0ZS5nZXRNb250aCgpO1xyXG4gICAgdmFyIG5leHRNb250aCA9ICsrbW9udGg7XHJcbiAgICB2YXIgbmV4dE1vbnRoRmlyc3REYXkgPSBuZXcgRGF0ZShlbmREYXRlLmdldEZ1bGxZZWFyKCksIG5leHRNb250aCwgMSk7XHJcbiAgICB2YXIgb25lRGF5ID0gMTAwMCAqIDYwICogNjAgKiAyNDtcclxuICAgIHJldHVybiBuZXcgRGF0ZShOdW1iZXIobmV4dE1vbnRoRmlyc3REYXkpIC0gb25lRGF5KTtcclxuICB9XHJcbiAgLy8g6I635Y+W5b2T5YmN5pel5pyf5pe26Ze0XHJcbiAgcHVibGljIEdldERhdGVUaW1lTm93KCkge1xyXG4gICAgcmV0dXJuIG5ldyBEYXRlKCk7IC8v5oqK5pel5pyf5a2X56ym5Liy6L2s5o2i5oiQ5pel5pyf5qC85byPICBcclxuICB9XHJcbiAgLy8g5q+U6L6DMuS4quaXtumXtFxyXG4gIHB1YmxpYyBDb21wYXJlRGF0ZShzdHIxLCBzdHIyKSB7XHJcbiAgICBpZiAoIXN0cjEgfHwgIXN0cjIpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgdmFyIHRlbXBEYXRlMSA9IG5ldyBEYXRlKHN0cjEucmVwbGFjZSgvLS9nLCBcIi9cIikpO1xyXG4gICAgLy/miorml6XmnJ/lrZfnrKbkuLLovazmjaLmiJDml6XmnJ/moLzlvI9cclxuICAgIHZhciB0ZW1wRGF0ZTIgPSBuZXcgRGF0ZShzdHIyLnJlcGxhY2UoLy0vZywgXCIvXCIpKTtcclxuICAgIGlmICh0ZW1wRGF0ZTEuZ2V0VGltZSgpID4gdGVtcERhdGUyLmdldFRpbWUoKSkge1xyXG4gICAgICByZXR1cm4gMTtcclxuICAgIH1cclxuICAgIGlmICh0ZW1wRGF0ZTEuZ2V0VGltZSgpID09IHRlbXBEYXRlMi5nZXRUaW1lKCkpIHtcclxuICAgICAgcmV0dXJuIDA7XHJcbiAgICB9XHJcbiAgICBpZiAodGVtcERhdGUxLmdldFRpbWUoKSA8IHRlbXBEYXRlMi5nZXRUaW1lKCkpIHtcclxuICAgICAgcmV0dXJuIC0xO1xyXG4gICAgfVxyXG4gIH1cclxuICAvLyDmoLzlvI/ljJblvZPliY3ml6XmnJ9cclxuICBwdWJsaWMgRm9ybWF0RGF0ZShmb3JtYXQpIHtcclxuICAgIGZvcm1hdCA9IGZvcm1hdCB8fCAneXl5eS1NTS1kZCc7XHJcbiAgICByZXR1cm4gdGhpcy5Gb3JtYXREZWZpbmVEYXRlKGZvcm1hdCwgbmV3IERhdGUoKSk7IC8v5oqK5pel5pyf5a2X56ym5Liy6L2s5o2i5oiQ5pel5pyf5qC85byPICBcclxuICB9XHJcbiAgLy8g5qC85byP5YyW5oyH5a6a5pel5pyfXHJcbiAgcHVibGljIEZvcm1hdERlZmluZURhdGUoZm9ybWF0LCBkYXRlc1N0ciA9IG51bGwpIHtcclxuICAgIHZhciBkYXRlcztcclxuICAgIGlmIChkYXRlc1N0ciA9PSBudWxsKSB7XHJcbiAgICAgIGRhdGVzID0gbmV3IERhdGUoKTsgLy/miorml6XmnJ/lrZfnrKbkuLLovazmjaLmiJDml6XmnJ/moLzlvI9cclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICBpZiAodHlwZW9mIGRhdGVzU3RyID09PSAnc3RyaW5nJykge1xyXG4gICAgICAgIGRhdGVzID0gbmV3IERhdGUoZGF0ZXNTdHIucmVwbGFjZSgvLS9nLCBcIi9cIikpOyAvL+aKiuaXpeacn+Wtl+espuS4sui9rOaNouaIkOaXpeacn+agvOW8j1xyXG4gICAgICB9IGVsc2UgaWYgKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChkYXRlc1N0cikgPT09ICdbb2JqZWN0IERhdGVdJykge1xyXG4gICAgICAgIGRhdGVzID0gZGF0ZXNTdHI7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcign5pel5pyf5Y+C5pWw5LuF5pSv5oyB5pel5pyf5a2X56ym5Liy5oiW5pel5pyf5a+56LGhJyk7XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHZhciBvID0ge1xyXG4gICAgICBcIk0rXCI6IGRhdGVzLmdldE1vbnRoKCkgKyAxLFxyXG4gICAgICAvL+aciOS7vSBcclxuICAgICAgXCJkK1wiOiBkYXRlcy5nZXREYXRlKCksXHJcbiAgICAgIC8v5pelIFxyXG4gICAgICBcIkgrXCI6IGRhdGVzLmdldEhvdXJzKCksXHJcbiAgICAgIC8v5bCP5pe2IFxyXG4gICAgICBcIm0rXCI6IGRhdGVzLmdldE1pbnV0ZXMoKSxcclxuICAgICAgLy/liIYgXHJcbiAgICAgIFwicytcIjogZGF0ZXMuZ2V0U2Vjb25kcygpLFxyXG4gICAgICAvL+enkiBcclxuICAgICAgXCJxK1wiOiBNYXRoLmZsb29yKChkYXRlcy5nZXRNb250aCgpICsgMykgLyAzKSxcclxuICAgICAgLy/lraPluqYgXHJcbiAgICAgIFwiU1wiOiBkYXRlcy5nZXRNaWxsaXNlY29uZHMoKSAvL+avq+enkiBcclxuICAgIH07XHJcbiAgICBpZiAoLyh5KykvLnRlc3QoZm9ybWF0KSkge1xyXG4gICAgICBmb3JtYXQgPSBmb3JtYXQucmVwbGFjZShSZWdFeHAuJDEsIChkYXRlcy5nZXRGdWxsWWVhcigpICsgXCJcIikuc3Vic3RyKDQgLSBSZWdFeHAuJDEubGVuZ3RoKSk7XHJcbiAgICB9XHJcbiAgICBmb3IgKHZhciBrIGluIG8pIHtcclxuICAgICAgaWYgKG5ldyBSZWdFeHAoXCIoXCIgKyBrICsgXCIpXCIpLnRlc3QoZm9ybWF0KSkge1xyXG4gICAgICAgIGZvcm1hdCA9IGZvcm1hdC5yZXBsYWNlKFJlZ0V4cC4kMSwgKFJlZ0V4cC4kMS5sZW5ndGggPT0gMSkgPyAob1trXSkgOiAoKFwiMDBcIiArIG9ba10pLnN1YnN0cigoXCJcIiArIG9ba10pLmxlbmd0aCkpKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZvcm1hdDtcclxuICB9XHJcbiAgLy8g5LuK5aSpXHJcbiAgcHVibGljIFRvZGF5KGRhdGUgPSBudWxsKSB7XHJcbiAgICBpZiAoZGF0ZSA9PSBudWxsKSB7XHJcbiAgICAgIHZhciBkYXkyID0gbmV3IERhdGUoKTtcclxuICAgICAgZGF5Mi5zZXRUaW1lKGRheTIuZ2V0VGltZSgpKTtcclxuICAgICAgcmV0dXJuIHRoaXMuRm9ybWF0RGVmaW5lRGF0ZSgneXl5eS1NTS1kZCcsIGRheTIpO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgIGxldCBkZCA9IG5ldyBEYXRlKGRhdGUpO1xyXG4gICAgICBkZC5zZXREYXRlKGRkLmdldERhdGUoKSk7XHJcbiAgICAgIHJldHVybiB0aGlzLkZvcm1hdERlZmluZURhdGUoJ3l5eXktTU0tZGQnLCBkZCk7XHJcbiAgICB9XHJcbiAgfVxyXG4gIC8vIOaYqOWkqVxyXG4gIHB1YmxpYyBZZXN0ZXJkYXkoZGF0ZSA9IG51bGwpIHtcclxuICAgIGlmIChkYXRlID09IG51bGwpIHtcclxuICAgICAgdmFyIGRheTEgPSBuZXcgRGF0ZSgpO1xyXG4gICAgICBkYXkxLnNldFRpbWUoZGF5MS5nZXRUaW1lKCkgLSAyNCAqIDYwICogNjAgKiAxMDAwKTtcclxuICAgICAgcmV0dXJuIHRoaXMuRm9ybWF0RGVmaW5lRGF0ZSgneXl5eS1NTS1kZCcsIGRheTEpO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgIGxldCBkZCA9IG5ldyBEYXRlKGRhdGUpO1xyXG4gICAgICBkZC5zZXREYXRlKGRkLmdldERhdGUoKSAtIDEpO1xyXG4gICAgICByZXR1cm4gdGhpcy5Gb3JtYXREZWZpbmVEYXRlKCd5eXl5LU1NLWRkJywgZGQpO1xyXG4gICAgfVxyXG4gIH1cclxuICAvLyDmmI7lpKlcclxuICBwdWJsaWMgVG9tb3Jyb3coZGF0ZSA9IG51bGwpIHtcclxuICAgIGlmIChkYXRlID09IG51bGwpIHtcclxuICAgICAgbGV0IGRkID0gbmV3IERhdGUoKTtcclxuICAgICAgZGQuc2V0RGF0ZShkZC5nZXREYXRlKCkgKyAxKTtcclxuICAgICAgcmV0dXJuIHRoaXMuRm9ybWF0RGVmaW5lRGF0ZSgneXl5eS1NTS1kZCcsIGRkKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICBsZXQgZGQgPSBuZXcgRGF0ZShkYXRlKTtcclxuICAgICAgZGQuc2V0RGF0ZShkZC5nZXREYXRlKCkgKyAxKTtcclxuICAgICAgcmV0dXJuIHRoaXMuRm9ybWF0RGVmaW5lRGF0ZSgneXl5eS1NTS1kZCcsIGRkKTtcclxuICAgIH1cclxuICB9XHJcbiAgLy8g5pys5bm0XHJcbiAgcHVibGljIFRoaXNZZWFyKGRhdGUgPSBudWxsKSB7XHJcbiAgICBpZiAoZGF0ZSA9PSBudWxsKSB7XHJcbiAgICAgIGxldCBkZCA9IG5ldyBEYXRlKCk7XHJcbiAgICAgIGRkLnNldEZ1bGxZZWFyKGRkLmdldEZ1bGxZZWFyKCkpO1xyXG4gICAgICByZXR1cm4gZGQuZ2V0RnVsbFllYXIoKSArIFwiXCI7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgbGV0IGRkID0gbmV3IERhdGUoZGF0ZSk7XHJcbiAgICAgIGRkLnNldEZ1bGxZZWFyKGRkLmdldEZ1bGxZZWFyKCkpO1xyXG4gICAgICByZXR1cm4gZGQuZ2V0RnVsbFllYXIoKSArIFwiXCI7XHJcbiAgICB9XHJcbiAgfVxyXG4gIC8vIOWOu+W5tFxyXG5cclxuICBwdWJsaWMgTGFzdFllYXIoZGF0ZSA9IG51bGwpIHtcclxuICAgIGlmIChkYXRlID09IG51bGwpIHtcclxuICAgICAgbGV0IGRkID0gbmV3IERhdGUoKTtcclxuICAgICAgZGQuc2V0RnVsbFllYXIoZGQuZ2V0RnVsbFllYXIoKSAtIDEpO1xyXG4gICAgICByZXR1cm4gZGQuZ2V0RnVsbFllYXIoKSArIFwiXCI7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgbGV0IGRkID0gbmV3IERhdGUoZGF0ZSk7XHJcbiAgICAgIGRkLnNldEZ1bGxZZWFyKGRkLmdldEZ1bGxZZWFyKCkgLSAxKTtcclxuICAgICAgcmV0dXJuIGRkLmdldEZ1bGxZZWFyKCkgKyBcIlwiO1xyXG4gICAgfVxyXG4gIH1cclxuICAvLyDmmI7lubRcclxuICBwdWJsaWMgTmV4dFllYXIoZGF0ZSA9IG51bGwpIHtcclxuICAgIGlmIChkYXRlID09IG51bGwpIHtcclxuXHJcbiAgICAgIGxldCBkZCA9IG5ldyBEYXRlKCk7XHJcbiAgICAgIGRkLnNldEZ1bGxZZWFyKGRkLmdldEZ1bGxZZWFyKCkgKyAxKTtcclxuICAgICAgcmV0dXJuIGRkLmdldEZ1bGxZZWFyKCkgKyBcIlwiO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcblxyXG4gICAgICBsZXQgZGQgPSBuZXcgRGF0ZShkYXRlKTtcclxuICAgICAgZGQuc2V0RnVsbFllYXIoZGQuZ2V0RnVsbFllYXIoKSArIDEpO1xyXG4gICAgICByZXR1cm4gZGQuZ2V0RnVsbFllYXIoKSArIFwiXCI7XHJcbiAgICB9XHJcbiAgfVxyXG4gIC8vIOacrOaciFxyXG4gIHB1YmxpYyBUaGlzTW9udGgoZGF0ZSA9IG51bGwpIHtcclxuICAgIGlmIChkYXRlID09IG51bGwpIHtcclxuICAgICAgbGV0IGRkID0gbmV3IERhdGUoKTtcclxuICAgICAgZGQuc2V0TW9udGgoZGQuZ2V0TW9udGgoKSArIDEpO1xyXG4gICAgICByZXR1cm4gZGQuZ2V0TW9udGgoKSArIFwiXCI7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgbGV0IGRkID0gbmV3IERhdGUoZGF0ZSk7XHJcbiAgICAgIGRkLnNldE1vbnRoKGRkLmdldE1vbnRoKCkgKyAxKTtcclxuICAgICAgcmV0dXJuIGRkLmdldE1vbnRoKCkgKyBcIlwiO1xyXG4gICAgfVxyXG4gIH1cclxuICAvLyDkuIrmnIhcclxuICBwdWJsaWMgTGFzdE1vbnRoKGRhdGUgPSBudWxsKSB7XHJcbiAgICBpZiAoZGF0ZSA9PSBudWxsKSB7XHJcbiAgICAgIGxldCBkZCA9IG5ldyBEYXRlKCk7XHJcbiAgICAgIGRkLnNldE1vbnRoKGRkLmdldE1vbnRoKCkpO1xyXG4gICAgICByZXR1cm4gZGQuZ2V0TW9udGgoKSArIFwiXCI7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgbGV0IGRkID0gbmV3IERhdGUoZGF0ZSk7XHJcbiAgICAgIGRkLnNldE1vbnRoKGRkLmdldE1vbnRoKCkpO1xyXG4gICAgICByZXR1cm4gZGQuZ2V0TW9udGgoKSArIFwiXCI7XHJcbiAgICB9XHJcbiAgfVxyXG4gIC8vIOS4i+aciFxyXG4gIHB1YmxpYyBOZXh0TW9udGgoZGF0ZSA9IG51bGwpIHtcclxuICAgIGlmIChkYXRlID09IG51bGwpIHtcclxuICAgICAgbGV0IGRkID0gbmV3IERhdGUoKTtcclxuICAgICAgZGQuc2V0TW9udGgoZGQuZ2V0TW9udGgoKSArIDIpO1xyXG4gICAgICByZXR1cm4gZGQuZ2V0TW9udGgoKSArIFwiXCI7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgbGV0IGRkID0gbmV3IERhdGUoZGF0ZSk7XHJcbiAgICAgIGRkLnNldE1vbnRoKGRkLmdldE1vbnRoKCkgKyAyKTtcclxuICAgICAgcmV0dXJuIGRkLmdldE1vbnRoKCkgKyBcIlwiO1xyXG4gICAgfVxyXG4gIH1cclxuICAvLyDmmJ/mnJ/lh6BcclxuICBwdWJsaWMgRGF5T2ZXZWVrKGRhdGUgPSBudWxsKSB7XHJcbiAgICBpZiAoZGF0ZSA9PSBudWxsKSB7XHJcblxyXG4gICAgICBsZXQgZGQgPSBuZXcgRGF0ZSgpO1xyXG4gICAgICByZXR1cm4gZGQuZ2V0RGF5KCkgKyBcIlwiO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcblxyXG4gICAgICBsZXQgZGQgPSBuZXcgRGF0ZShkYXRlKTtcclxuICAgICAgcmV0dXJuIGRkLmdldERheSgpICsgXCJcIjtcclxuICAgIH1cclxuICB9XHJcbiAgcHVibGljIGlzTGVhcFllYXIoeWVhcikge1xyXG4gICAgcmV0dXJuICh5ZWFyICUgNDAwID09IDApIHx8ICh5ZWFyICUgNCA9PSAwICYmIHllYXIgJSAxMDAgIT0gMCk7XHJcbiAgfVxyXG4gIHB1YmxpYyBnZXRNb250aERheXMoeWVhciwgbW9udGgpIHtcclxuICAgIHJldHVybiBbMzEsIG51bGwsIDMxLCAzMCwgMzEsIDMwLCAzMSwgMzEsIDMwLCAzMSwgMzAsIDMxXVttb250aF0gfHwgKHRoaXMuaXNMZWFwWWVhcih5ZWFyKSA/IDI5IDogMjgpO1xyXG4gIH1cclxuICAvLyDmnKzlkajmmK/nrKzlh6DlkahcclxuICBwdWJsaWMgVGhpc1dlZWsoZGF0ZSA9IG51bGwpIHtcclxuICAgIGxldCBkZDtcclxuICAgIGxldCB5ZWFyO1xyXG4gICAgbGV0IG1vbnRoO1xyXG4gICAgbGV0IGRheXM7XHJcbiAgICBpZiAoZGF0ZSA9PSBudWxsKSB7XHJcbiAgICAgIGRkID0gbmV3IERhdGUoKTtcclxuICAgICAgeWVhciA9IGRkLmdldEZ1bGxZZWFyKCksXHJcbiAgICAgICAgbW9udGggPSBkZC5nZXRNb250aCgpLFxyXG4gICAgICAgIGRheXMgPSBkZC5nZXREYXRlKCk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgZGQgPSBuZXcgRGF0ZShkYXRlKTtcclxuICAgICAgeWVhciA9IGRkLmdldEZ1bGxZZWFyKCksXHJcbiAgICAgICAgbW9udGggPSBkZC5nZXRNb250aCgpLFxyXG4gICAgICAgIGRheXMgPSBkZC5nZXREYXRlKCk7XHJcbiAgICB9XHJcbiAgICAvL+mCo+S4gOWkqeaYr+mCo+S4gOW5tOS4reeahOesrOWkmuWwkeWkqVxyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtb250aDsgaSsrKSB7XHJcbiAgICAgIGRheXMgKz0gdGhpcy5nZXRNb250aERheXMoeWVhciwgaSk7XHJcbiAgICB9XHJcbiAgICAvL+mCo+S4gOW5tOesrOS4gOWkqeaYr+aYn+acn+WHoFxyXG4gICAgdmFyIHllYXJGaXJzdERheSA9IG5ldyBEYXRlKHllYXIsIDAsIDEpLmdldERheSgpIHx8IDc7XHJcbiAgICB2YXIgd2VlayA9IG51bGw7XHJcbiAgICBpZiAoeWVhckZpcnN0RGF5ID09IDEpIHtcclxuICAgICAgd2VlayA9IE1hdGguY2VpbChkYXlzIC8geWVhckZpcnN0RGF5KTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICBkYXlzIC09ICg3IC0geWVhckZpcnN0RGF5ICsgMSk7XHJcbiAgICAgIHdlZWsgPSBNYXRoLmNlaWwoZGF5cyAvIDcpICsgMTtcclxuICAgIH1cclxuICAgIHJldHVybiB3ZWVrO1xyXG4gIH1cclxuICAvLyDkuIrlkahcclxuICBwdWJsaWMgTGFzdFdlZWsoZGF0ZSA9IG51bGwpIHtcclxuICAgIHJldHVybiAoTnVtYmVyKHRoaXMuVGhpc1dlZWsoZGF0ZSkpIC0gMSkgKyBcIlwiO1xyXG4gIH1cclxuICAvLyDkuIvlkahcclxuICBwdWJsaWMgTmV4dFdlZWsoZGF0ZSA9IG51bGwpIHtcclxuICAgIHJldHVybiAoTnVtYmVyKHRoaXMuVGhpc1dlZWsoZGF0ZSkpICsgMSkgKyBcIlwiO1xyXG4gIH1cclxuICAvLyDmnKzlkajnrKzkuIDlpKlcclxuICBwdWJsaWMgRmlyc3REYXlPZldlZWsoZGF0ZSA9IG51bGwpIHtcclxuICAgIGlmIChkYXRlID09IG51bGwpIHtcclxuICAgICAgdmFyIGN1cnJlbnREYXRlID0gbmV3IERhdGUoKTtcclxuICAgICAgdmFyIHdlZWsgPSBjdXJyZW50RGF0ZS5nZXREYXkoKTtcclxuICAgICAgLy/kuIDlpKnnmoTmr6vnp5LmlbBcclxuICAgICAgdmFyIG1pbGxpc2Vjb25kID0gMTAwMCAqIDYwICogNjAgKiAyNDtcclxuICAgICAgLy/lh4/ljrvnmoTlpKnmlbBcclxuICAgICAgdmFyIG1pbnVzRGF5ID0gd2VlayAhPSAwID8gd2VlayAtIDEgOiA2O1xyXG4gICAgICAvL+acrOWRqCDlkajkuIBcclxuICAgICAgdmFyIG1vbmRheSA9IG5ldyBEYXRlKGN1cnJlbnREYXRlLmdldFRpbWUoKSAtIChtaW51c0RheSAqIG1pbGxpc2Vjb25kKSk7XHJcbiAgICAgIHJldHVybiB0aGlzLkZvcm1hdERlZmluZURhdGUoJ3l5eXktTU0tZGQnLCBtb25kYXkpO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgIHZhciBjdXJyZW50RGF0ZSA9IG5ldyBEYXRlKGRhdGUpO1xyXG4gICAgICB2YXIgd2VlayA9IGN1cnJlbnREYXRlLmdldERheSgpO1xyXG4gICAgICAvL+S4gOWkqeeahOavq+enkuaVsFxyXG4gICAgICB2YXIgbWlsbGlzZWNvbmQgPSAxMDAwICogNjAgKiA2MCAqIDI0O1xyXG4gICAgICAvL+WHj+WOu+eahOWkqeaVsFxyXG4gICAgICB2YXIgbWludXNEYXkgPSB3ZWVrICE9IDAgPyB3ZWVrIC0gMSA6IDY7XHJcbiAgICAgIC8v5pys5ZGoIOWRqOS4gFxyXG4gICAgICB2YXIgbW9uZGF5ID0gbmV3IERhdGUoY3VycmVudERhdGUuZ2V0VGltZSgpIC0gKG1pbnVzRGF5ICogbWlsbGlzZWNvbmQpKTtcclxuICAgICAgcmV0dXJuIHRoaXMuRm9ybWF0RGVmaW5lRGF0ZSgneXl5eS1NTS1kZCcsIG1vbmRheSk7XHJcbiAgICB9XHJcbiAgfVxyXG4gIC8v5pys5ZGo5pyA5ZCO5LiA5aSpXHJcbiAgcHVibGljIExhc3REYXlPZldlZWsoZGF0ZSA9IG51bGwpIHtcclxuICAgIGlmIChkYXRlID09IG51bGwpIHtcclxuICAgICAgdmFyIGN1cnJlbnREYXRlID0gbmV3IERhdGUoKTtcclxuICAgICAgdmFyIHdlZWsgPSBjdXJyZW50RGF0ZS5nZXREYXkoKTtcclxuICAgICAgLy/kuIDlpKnnmoTmr6vnp5LmlbBcclxuICAgICAgdmFyIG1pbGxpc2Vjb25kID0gMTAwMCAqIDYwICogNjAgKiAyNDtcclxuICAgICAgLy/lh4/ljrvnmoTlpKnmlbBcclxuICAgICAgdmFyIG1pbnVzRGF5ID0gd2VlayAhPSAwID8gd2VlayAtIDEgOiA2O1xyXG4gICAgICAvL+acrOWRqCDlkajml6VcclxuICAgICAgdmFyIG1vbmRheSA9IG5ldyBEYXRlKGN1cnJlbnREYXRlLmdldFRpbWUoKSAtIChtaW51c0RheSAqIG1pbGxpc2Vjb25kKSk7XHJcbiAgICAgIHZhciBzdW5kYXkgPSBuZXcgRGF0ZShtb25kYXkuZ2V0VGltZSgpICsgKDYgKiBtaWxsaXNlY29uZCkpO1xyXG4gICAgICAvL+i/lOWbnlxyXG4gICAgICByZXR1cm4gdGhpcy5Gb3JtYXREZWZpbmVEYXRlKCd5eXl5LU1NLWRkJywgc3VuZGF5KTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICB2YXIgY3VycmVudERhdGUgPSBuZXcgRGF0ZShkYXRlKTtcclxuICAgICAgdmFyIHdlZWsgPSBjdXJyZW50RGF0ZS5nZXREYXkoKTtcclxuICAgICAgLy/kuIDlpKnnmoTmr6vnp5LmlbBcclxuICAgICAgdmFyIG1pbGxpc2Vjb25kID0gMTAwMCAqIDYwICogNjAgKiAyNDtcclxuICAgICAgLy/lh4/ljrvnmoTlpKnmlbBcclxuICAgICAgdmFyIG1pbnVzRGF5ID0gd2VlayAhPSAwID8gd2VlayAtIDEgOiA2O1xyXG4gICAgICAvL+acrOWRqCDlkajml6VcclxuICAgICAgdmFyIG1vbmRheSA9IG5ldyBEYXRlKGN1cnJlbnREYXRlLmdldFRpbWUoKSAtIChtaW51c0RheSAqIG1pbGxpc2Vjb25kKSk7XHJcbiAgICAgIHZhciBzdW5kYXkgPSBuZXcgRGF0ZShtb25kYXkuZ2V0VGltZSgpICsgKDYgKiBtaWxsaXNlY29uZCkpO1xyXG4gICAgICAvL+i/lOWbnlxyXG4gICAgICByZXR1cm4gdGhpcy5Gb3JtYXREZWZpbmVEYXRlKCd5eXl5LU1NLWRkJywgc3VuZGF5KTtcclxuICAgIH1cclxuICB9XHJcbiAgLy/kuIrlkajnrKzkuIDlpKlcclxuICBwdWJsaWMgRmlyc3REYXlPZkxhc3RXZWVrKGRhdGUgPSBudWxsKSB7XHJcbiAgICBpZiAoZGF0ZSA9PSBudWxsKSB7XHJcbiAgICAgIHZhciBjdXJyZW50RGF0ZSA9IG5ldyBEYXRlKCk7XHJcbiAgICAgIHZhciB3ZWVrID0gY3VycmVudERhdGUuZ2V0RGF5KCk7XHJcbiAgICAgIC8v5LiA5aSp55qE5q+r56eS5pWwXHJcbiAgICAgIHZhciBtaWxsaXNlY29uZCA9IDEwMDAgKiA2MCAqIDYwICogMjQ7XHJcbiAgICAgIC8v5YeP5Y6755qE5aSp5pWwXHJcbiAgICAgIHZhciBtaW51c0RheSA9IHdlZWsgIT0gMCA/IHdlZWsgLSAxIDogNjtcclxuICAgICAgLy/mnKzlkagg5ZGo5LiAXHJcbiAgICAgIHZhciBtb25kYXkgPSBuZXcgRGF0ZShjdXJyZW50RGF0ZS5nZXRUaW1lKCkgLSAobWludXNEYXkgKiBtaWxsaXNlY29uZCkpO1xyXG4gICAgICBtb25kYXkuc2V0RGF0ZShtb25kYXkuZ2V0RGF0ZSgpIC0gNyk7XHJcbiAgICAgIHJldHVybiB0aGlzLkZvcm1hdERlZmluZURhdGUoJ3l5eXktTU0tZGQnLCBtb25kYXkpO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgIHZhciBjdXJyZW50RGF0ZSA9IG5ldyBEYXRlKGRhdGUpO1xyXG4gICAgICB2YXIgd2VlayA9IGN1cnJlbnREYXRlLmdldERheSgpO1xyXG4gICAgICAvL+S4gOWkqeeahOavq+enkuaVsFxyXG4gICAgICB2YXIgbWlsbGlzZWNvbmQgPSAxMDAwICogNjAgKiA2MCAqIDI0O1xyXG4gICAgICAvL+WHj+WOu+eahOWkqeaVsFxyXG4gICAgICB2YXIgbWludXNEYXkgPSB3ZWVrICE9IDAgPyB3ZWVrIC0gMSA6IDY7XHJcbiAgICAgIC8v5pys5ZGoIOWRqOS4gFxyXG4gICAgICB2YXIgbW9uZGF5ID0gbmV3IERhdGUoY3VycmVudERhdGUuZ2V0VGltZSgpIC0gKG1pbnVzRGF5ICogbWlsbGlzZWNvbmQpKTtcclxuICAgICAgbW9uZGF5LnNldERhdGUobW9uZGF5LmdldERhdGUoKSAtIDcpO1xyXG4gICAgICByZXR1cm4gdGhpcy5Gb3JtYXREZWZpbmVEYXRlKCd5eXl5LU1NLWRkJywgbW9uZGF5KTtcclxuICAgIH1cclxuICB9XHJcbiAgLy/kuIrlkajmnIDlkI7kuIDlpKlcclxuICBwdWJsaWMgTGFzdERheU9mTGFzdFdlZWsoZGF0ZSA9IG51bGwpIHtcclxuICAgIGlmIChkYXRlID09IG51bGwpIHtcclxuICAgICAgdmFyIGN1cnJlbnREYXRlID0gbmV3IERhdGUoKTtcclxuICAgICAgdmFyIHdlZWsgPSBjdXJyZW50RGF0ZS5nZXREYXkoKTtcclxuICAgICAgLy/kuIDlpKnnmoTmr6vnp5LmlbBcclxuICAgICAgdmFyIG1pbGxpc2Vjb25kID0gMTAwMCAqIDYwICogNjAgKiAyNDtcclxuICAgICAgLy/lh4/ljrvnmoTlpKnmlbBcclxuICAgICAgdmFyIG1pbnVzRGF5ID0gd2VlayAhPSAwID8gd2VlayAtIDEgOiA2O1xyXG4gICAgICAvL+acrOWRqCDlkajml6VcclxuICAgICAgdmFyIG1vbmRheSA9IG5ldyBEYXRlKGN1cnJlbnREYXRlLmdldFRpbWUoKSAtIChtaW51c0RheSAqIG1pbGxpc2Vjb25kKSk7XHJcbiAgICAgIHZhciBzdW5kYXkgPSBuZXcgRGF0ZShtb25kYXkuZ2V0VGltZSgpICsgKDYgKiBtaWxsaXNlY29uZCkpO1xyXG4gICAgICBzdW5kYXkuc2V0RGF0ZShzdW5kYXkuZ2V0RGF0ZSgpIC0gNyk7XHJcbiAgICAgIC8v6L+U5ZueXHJcbiAgICAgIHJldHVybiB0aGlzLkZvcm1hdERlZmluZURhdGUoJ3l5eXktTU0tZGQnLCBzdW5kYXkpO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgIHZhciBjdXJyZW50RGF0ZSA9IG5ldyBEYXRlKGRhdGUpO1xyXG4gICAgICB2YXIgd2VlayA9IGN1cnJlbnREYXRlLmdldERheSgpO1xyXG4gICAgICAvL+S4gOWkqeeahOavq+enkuaVsFxyXG4gICAgICB2YXIgbWlsbGlzZWNvbmQgPSAxMDAwICogNjAgKiA2MCAqIDI0O1xyXG4gICAgICAvL+WHj+WOu+eahOWkqeaVsFxyXG4gICAgICB2YXIgbWludXNEYXkgPSB3ZWVrICE9IDAgPyB3ZWVrIC0gMSA6IDY7XHJcbiAgICAgIC8v5pys5ZGoIOWRqOaXpVxyXG4gICAgICB2YXIgbW9uZGF5ID0gbmV3IERhdGUoY3VycmVudERhdGUuZ2V0VGltZSgpIC0gKG1pbnVzRGF5ICogbWlsbGlzZWNvbmQpKTtcclxuICAgICAgdmFyIHN1bmRheSA9IG5ldyBEYXRlKG1vbmRheS5nZXRUaW1lKCkgKyAoNiAqIG1pbGxpc2Vjb25kKSk7XHJcbiAgICAgIHN1bmRheS5zZXREYXRlKHN1bmRheS5nZXREYXRlKCkgLSA3KTtcclxuICAgICAgLy/ov5Tlm55cclxuICAgICAgcmV0dXJuIHRoaXMuRm9ybWF0RGVmaW5lRGF0ZSgneXl5eS1NTS1kZCcsIHN1bmRheSk7XHJcbiAgICB9XHJcbiAgfVxyXG4gIC8v5LiL5ZGo56ys5LiA5aSpXHJcbiAgcHVibGljIEZpcnN0RGF5T2ZOZXh0V2VlayhkYXRlID0gbnVsbCkge1xyXG4gICAgaWYgKGRhdGUgPT0gbnVsbCkge1xyXG4gICAgICB2YXIgY3VycmVudERhdGUgPSBuZXcgRGF0ZSgpO1xyXG4gICAgICB2YXIgd2VlayA9IGN1cnJlbnREYXRlLmdldERheSgpO1xyXG4gICAgICAvL+S4gOWkqeeahOavq+enkuaVsFxyXG4gICAgICB2YXIgbWlsbGlzZWNvbmQgPSAxMDAwICogNjAgKiA2MCAqIDI0O1xyXG4gICAgICAvL+WHj+WOu+eahOWkqeaVsFxyXG4gICAgICB2YXIgbWludXNEYXkgPSB3ZWVrICE9IDAgPyB3ZWVrIC0gMSA6IDY7XHJcbiAgICAgIC8v5pys5ZGoIOWRqOS4gFxyXG4gICAgICB2YXIgbW9uZGF5ID0gbmV3IERhdGUoY3VycmVudERhdGUuZ2V0VGltZSgpIC0gKG1pbnVzRGF5ICogbWlsbGlzZWNvbmQpKTtcclxuICAgICAgbW9uZGF5LnNldERhdGUobW9uZGF5LmdldERhdGUoKSArIDcpO1xyXG4gICAgICByZXR1cm4gdGhpcy5Gb3JtYXREZWZpbmVEYXRlKCd5eXl5LU1NLWRkJywgbW9uZGF5KTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICB2YXIgY3VycmVudERhdGUgPSBuZXcgRGF0ZShkYXRlKTtcclxuICAgICAgdmFyIHdlZWsgPSBjdXJyZW50RGF0ZS5nZXREYXkoKTtcclxuICAgICAgLy/kuIDlpKnnmoTmr6vnp5LmlbBcclxuICAgICAgdmFyIG1pbGxpc2Vjb25kID0gMTAwMCAqIDYwICogNjAgKiAyNDtcclxuICAgICAgLy/lh4/ljrvnmoTlpKnmlbBcclxuICAgICAgdmFyIG1pbnVzRGF5ID0gd2VlayAhPSAwID8gd2VlayAtIDEgOiA2O1xyXG4gICAgICAvL+acrOWRqCDlkajkuIBcclxuICAgICAgdmFyIG1vbmRheSA9IG5ldyBEYXRlKGN1cnJlbnREYXRlLmdldFRpbWUoKSAtIChtaW51c0RheSAqIG1pbGxpc2Vjb25kKSk7XHJcbiAgICAgIG1vbmRheS5zZXREYXRlKG1vbmRheS5nZXREYXRlKCkgKyA3KTtcclxuICAgICAgcmV0dXJuIHRoaXMuRm9ybWF0RGVmaW5lRGF0ZSgneXl5eS1NTS1kZCcsIG1vbmRheSk7XHJcbiAgICB9XHJcbiAgfVxyXG4gIC8v5LiL5ZGo5pyA5ZCO5LiA5aSpXHJcbiAgcHVibGljIExhc3REYXlPZk5leHRXZWVrKGRhdGUgPSBudWxsKSB7XHJcbiAgICBpZiAoZGF0ZSA9PSBudWxsKSB7XHJcbiAgICAgIHZhciBjdXJyZW50RGF0ZSA9IG5ldyBEYXRlKCk7XHJcbiAgICAgIHZhciB3ZWVrID0gY3VycmVudERhdGUuZ2V0RGF5KCk7XHJcbiAgICAgIC8v5LiA5aSp55qE5q+r56eS5pWwXHJcbiAgICAgIHZhciBtaWxsaXNlY29uZCA9IDEwMDAgKiA2MCAqIDYwICogMjQ7XHJcbiAgICAgIC8v5YeP5Y6755qE5aSp5pWwXHJcblxyXG4gICAgICB2YXIgbWludXNEYXkgPSB3ZWVrICE9IDAgPyB3ZWVrIC0gMSA6IDY7XHJcbiAgICAgIC8v5pys5ZGoIOWRqOaXpVxyXG4gICAgICB2YXIgbW9uZGF5ID0gbmV3IERhdGUoY3VycmVudERhdGUuZ2V0VGltZSgpIC0gKG1pbnVzRGF5ICogbWlsbGlzZWNvbmQpKTtcclxuICAgICAgdmFyIHN1bmRheSA9IG5ldyBEYXRlKG1vbmRheS5nZXRUaW1lKCkgKyAoNiAqIG1pbGxpc2Vjb25kKSk7XHJcbiAgICAgIHN1bmRheS5zZXREYXRlKHN1bmRheS5nZXREYXRlKCkgKyA3KTtcclxuICAgICAgLy/ov5Tlm55cclxuICAgICAgcmV0dXJuIHRoaXMuRm9ybWF0RGVmaW5lRGF0ZSgneXl5eS1NTS1kZCcsIHN1bmRheSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgdmFyIGN1cnJlbnREYXRlID0gbmV3IERhdGUoZGF0ZSk7XHJcbiAgICAgIHZhciB3ZWVrID0gY3VycmVudERhdGUuZ2V0RGF5KCk7XHJcbiAgICAgIC8v5LiA5aSp55qE5q+r56eS5pWwXHJcbiAgICAgIHZhciBtaWxsaXNlY29uZCA9IDEwMDAgKiA2MCAqIDYwICogMjQ7XHJcbiAgICAgIC8v5YeP5Y6755qE5aSp5pWwXHJcbiAgICAgIHZhciBtaW51c0RheSA9IHdlZWsgIT0gMCA/IHdlZWsgLSAxIDogNjtcclxuICAgICAgLy/mnKzlkagg5ZGo5pelXHJcbiAgICAgIHZhciBtb25kYXkgPSBuZXcgRGF0ZShjdXJyZW50RGF0ZS5nZXRUaW1lKCkgLSAobWludXNEYXkgKiBtaWxsaXNlY29uZCkpO1xyXG4gICAgICB2YXIgc3VuZGF5ID0gbmV3IERhdGUobW9uZGF5LmdldFRpbWUoKSArICg2ICogbWlsbGlzZWNvbmQpKTtcclxuICAgICAgc3VuZGF5LnNldERhdGUoc3VuZGF5LmdldERhdGUoKSArIDcpO1xyXG4gICAgICAvL+i/lOWbnlxyXG4gICAgICByZXR1cm4gdGhpcy5Gb3JtYXREZWZpbmVEYXRlKCd5eXl5LU1NLWRkJywgc3VuZGF5KTtcclxuICAgIH1cclxuICB9XHJcbiAgLy/mnKzmnIjnrKzkuIDlpKlcclxuICBwdWJsaWMgRmlyc3REYXlPZk1vbnRoKGRhdGUgPSBudWxsKSB7XHJcbiAgICBpZiAoZGF0ZSA9PSBudWxsKSB7XHJcbiAgICAgIHZhciBjdXJyZW50RGF0ZSA9IG5ldyBEYXRlKCk7XHJcbiAgICAgIHZhciBjdXJyZW50TW9udGggPSBjdXJyZW50RGF0ZS5nZXRNb250aCgpO1xyXG4gICAgICAvL+iOt+W+l+W9k+WJjeW5tOS7vTTkvY3lubRcclxuICAgICAgdmFyIGN1cnJlbnRZZWFyID0gY3VycmVudERhdGUuZ2V0RnVsbFllYXIoKTtcclxuICAgICAgLy/msYLlh7rmnKzmnIjnrKzkuIDlpKlcclxuICAgICAgdmFyIGZpcnN0RGF5ID0gbmV3IERhdGUoY3VycmVudFllYXIsIGN1cnJlbnRNb250aCwgMSk7XHJcbiAgICAgIC8v6L+U5ZueXHJcbiAgICAgIHJldHVybiB0aGlzLkZvcm1hdERlZmluZURhdGUoJ3l5eXktTU0tZGQnLCBmaXJzdERheSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgdmFyIGN1cnJlbnREYXRlID0gbmV3IERhdGUoZGF0ZSk7XHJcbiAgICAgIHZhciBjdXJyZW50TW9udGggPSBjdXJyZW50RGF0ZS5nZXRNb250aCgpO1xyXG4gICAgICAvL+iOt+W+l+W9k+WJjeW5tOS7vTTkvY3lubRcclxuICAgICAgdmFyIGN1cnJlbnRZZWFyID0gY3VycmVudERhdGUuZ2V0RnVsbFllYXIoKTtcclxuICAgICAgLy/msYLlh7rmnKzmnIjnrKzkuIDlpKlcclxuICAgICAgdmFyIGZpcnN0RGF5ID0gbmV3IERhdGUoY3VycmVudFllYXIsIGN1cnJlbnRNb250aCwgMSk7XHJcbiAgICAgIC8v6L+U5ZueXHJcbiAgICAgIHJldHVybiB0aGlzLkZvcm1hdERlZmluZURhdGUoJ3l5eXktTU0tZGQnLCBmaXJzdERheSk7XHJcbiAgICB9XHJcbiAgfVxyXG4gIC8v5pys5pyI5pyA5ZCO5LiA5aSpXHJcbiAgcHVibGljIExhc3REYXlPZk1vbnRoKGRhdGUgPSBudWxsKSB7XHJcbiAgICBpZiAoZGF0ZSA9PSBudWxsKSB7XHJcbiAgICAgIHZhciBjdXJyZW50RGF0ZSA9IG5ldyBEYXRlKCk7XHJcbiAgICAgIHZhciBmdWxsWWVhciA9IGN1cnJlbnREYXRlLmdldEZ1bGxZZWFyKCk7XHJcbiAgICAgIHZhciBtb250aCA9IGN1cnJlbnREYXRlLmdldE1vbnRoKCkgKyAxO1xyXG4gICAgICAvLyBnZXRNb250aCDmlrnms5Xov5Tlm54gMC0xMe+8jOS7o+ihqDEtMTLmnIhcclxuICAgICAgdmFyIGVuZE9mTW9udGggPSBuZXcgRGF0ZShmdWxsWWVhciwgbW9udGgsIDApO1xyXG4gICAgICByZXR1cm4gdGhpcy5Gb3JtYXREZWZpbmVEYXRlKCd5eXl5LU1NLWRkJywgZW5kT2ZNb250aCk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgdmFyIGN1cnJlbnREYXRlID0gbmV3IERhdGUoZGF0ZSk7XHJcbiAgICAgIHZhciBmdWxsWWVhciA9IGN1cnJlbnREYXRlLmdldEZ1bGxZZWFyKCk7XHJcbiAgICAgIHZhciBtb250aCA9IGN1cnJlbnREYXRlLmdldE1vbnRoKCkgKyAxO1xyXG4gICAgICAvLyBnZXRNb250aCDmlrnms5Xov5Tlm54gMC0xMe+8jOS7o+ihqDEtMTLmnIhcclxuICAgICAgdmFyIGVuZE9mTW9udGggPSBuZXcgRGF0ZShmdWxsWWVhciwgbW9udGgsIDApO1xyXG4gICAgICByZXR1cm4gdGhpcy5Gb3JtYXREZWZpbmVEYXRlKCd5eXl5LU1NLWRkJywgZW5kT2ZNb250aCk7XHJcbiAgICB9XHJcbiAgfVxyXG4gIC8v5LiK5pyI56ys5LiA5aSpXHJcbiAgcHVibGljIEZpcnN0RGF5T2ZMYXN0TW9udGgoZGF0ZSA9IG51bGwpIHtcclxuICAgIGlmIChkYXRlID09IG51bGwpIHtcclxuICAgICAgdmFyIGN1cnJlbnREYXRlID0gbmV3IERhdGUoKTtcclxuICAgICAgdmFyIGN1cnJlbnRNb250aCA9IGN1cnJlbnREYXRlLmdldE1vbnRoKCk7XHJcbiAgICAgIC8v6I635b6X5b2T5YmN5bm05Lu9NOS9jeW5tFxyXG4gICAgICB2YXIgY3VycmVudFllYXIgPSBjdXJyZW50RGF0ZS5nZXRGdWxsWWVhcigpO1xyXG4gICAgICAvL+axguWHuuacrOaciOesrOS4gOWkqVxyXG4gICAgICB2YXIgZmlyc3REYXkgPSBuZXcgRGF0ZShjdXJyZW50WWVhciwgY3VycmVudE1vbnRoLCAxKTtcclxuICAgICAgZmlyc3REYXkuc2V0TW9udGgoZmlyc3REYXkuZ2V0TW9udGgoKSk7XHJcbiAgICAgIC8v6L+U5ZueXHJcbiAgICAgIHJldHVybiB0aGlzLkZvcm1hdERlZmluZURhdGUoJ3l5eXktTU0tZGQnLCBmaXJzdERheSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgdmFyIGN1cnJlbnREYXRlID0gbmV3IERhdGUoZGF0ZSk7XHJcbiAgICAgIHZhciBjdXJyZW50TW9udGggPSBjdXJyZW50RGF0ZS5nZXRNb250aCgpO1xyXG4gICAgICAvL+iOt+W+l+W9k+WJjeW5tOS7vTTkvY3lubRcclxuICAgICAgdmFyIGN1cnJlbnRZZWFyID0gY3VycmVudERhdGUuZ2V0RnVsbFllYXIoKTtcclxuICAgICAgLy/msYLlh7rmnKzmnIjnrKzkuIDlpKlcclxuICAgICAgdmFyIGZpcnN0RGF5ID0gbmV3IERhdGUoY3VycmVudFllYXIsIGN1cnJlbnRNb250aCwgMSk7XHJcbiAgICAgIGZpcnN0RGF5LnNldE1vbnRoKGZpcnN0RGF5LmdldE1vbnRoKCkpO1xyXG4gICAgICAvL+i/lOWbnlxyXG4gICAgICByZXR1cm4gdGhpcy5Gb3JtYXREZWZpbmVEYXRlKCd5eXl5LU1NLWRkJywgZmlyc3REYXkpO1xyXG4gICAgfVxyXG4gIH1cclxuICAvL+S4iuaciOacgOWQjuS4gOWkqVxyXG4gIHB1YmxpYyBMYXN0RGF5T2ZMYXN0TW9udGgoZGF0ZSA9IG51bGwpIHtcclxuICAgIGlmIChkYXRlID09IG51bGwpIHtcclxuICAgICAgdmFyIGN1cnJlbnREYXRlID0gbmV3IERhdGUoKTtcclxuICAgICAgdmFyIGZ1bGxZZWFyID0gY3VycmVudERhdGUuZ2V0RnVsbFllYXIoKTtcclxuICAgICAgdmFyIG1vbnRoID0gY3VycmVudERhdGUuZ2V0TW9udGgoKSArIDE7XHJcbiAgICAgIC8vIGdldE1vbnRoIOaWueazlei/lOWbniAwLTEx77yM5Luj6KGoMS0xMuaciFxyXG4gICAgICB2YXIgZW5kT2ZNb250aCA9IG5ldyBEYXRlKGZ1bGxZZWFyLCBtb250aCwgMCk7XHJcbiAgICAgIGVuZE9mTW9udGguc2V0TW9udGgoZW5kT2ZNb250aC5nZXRNb250aCgpKTtcclxuICAgICAgcmV0dXJuIHRoaXMuRm9ybWF0RGVmaW5lRGF0ZSgneXl5eS1NTS1kZCcsIGVuZE9mTW9udGgpO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgIHZhciBjdXJyZW50RGF0ZSA9IG5ldyBEYXRlKGRhdGUpO1xyXG4gICAgICB2YXIgZnVsbFllYXIgPSBjdXJyZW50RGF0ZS5nZXRGdWxsWWVhcigpO1xyXG4gICAgICB2YXIgbW9udGggPSBjdXJyZW50RGF0ZS5nZXRNb250aCgpICsgMTtcclxuICAgICAgLy8gZ2V0TW9udGgg5pa55rOV6L+U5ZueIDAtMTHvvIzku6PooagxLTEy5pyIXHJcbiAgICAgIHZhciBlbmRPZk1vbnRoID0gbmV3IERhdGUoZnVsbFllYXIsIG1vbnRoLCAwKTtcclxuICAgICAgZW5kT2ZNb250aC5zZXRNb250aChlbmRPZk1vbnRoLmdldE1vbnRoKCkpO1xyXG4gICAgICByZXR1cm4gdGhpcy5Gb3JtYXREZWZpbmVEYXRlKCd5eXl5LU1NLWRkJywgZW5kT2ZNb250aCk7XHJcbiAgICB9XHJcbiAgfVxyXG4gIC8v5LiL5pyI56ys5LiA5aSpXHJcblxyXG4gIHB1YmxpYyBGaXJzdERheU9mTmV4dE1vbnRoKGRhdGUgPSBudWxsKSB7XHJcbiAgICBpZiAoZGF0ZSA9PSBudWxsKSB7XHJcbiAgICAgIHZhciBjdXJyZW50RGF0ZSA9IG5ldyBEYXRlKCk7XHJcbiAgICAgIHZhciBjdXJyZW50TW9udGggPSBjdXJyZW50RGF0ZS5nZXRNb250aCgpO1xyXG4gICAgICAvL+iOt+W+l+W9k+WJjeW5tOS7vTTkvY3lubRcclxuICAgICAgdmFyIGN1cnJlbnRZZWFyID0gY3VycmVudERhdGUuZ2V0RnVsbFllYXIoKTtcclxuICAgICAgLy/msYLlh7rmnKzmnIjnrKzkuIDlpKlcclxuICAgICAgdmFyIGZpcnN0RGF5ID0gbmV3IERhdGUoY3VycmVudFllYXIsIGN1cnJlbnRNb250aCwgMSk7XHJcbiAgICAgIGZpcnN0RGF5LnNldE1vbnRoKGZpcnN0RGF5LmdldE1vbnRoKCkgKyAyKTtcclxuICAgICAgLy/ov5Tlm55cclxuICAgICAgcmV0dXJuIHRoaXMuRm9ybWF0RGVmaW5lRGF0ZSgneXl5eS1NTS1kZCcsIGZpcnN0RGF5KTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICB2YXIgY3VycmVudERhdGUgPSBuZXcgRGF0ZShkYXRlKTtcclxuICAgICAgdmFyIGN1cnJlbnRNb250aCA9IGN1cnJlbnREYXRlLmdldE1vbnRoKCk7XHJcbiAgICAgIC8v6I635b6X5b2T5YmN5bm05Lu9NOS9jeW5tFxyXG4gICAgICB2YXIgY3VycmVudFllYXIgPSBjdXJyZW50RGF0ZS5nZXRGdWxsWWVhcigpO1xyXG4gICAgICAvL+axguWHuuacrOaciOesrOS4gOWkqVxyXG4gICAgICB2YXIgZmlyc3REYXkgPSBuZXcgRGF0ZShjdXJyZW50WWVhciwgY3VycmVudE1vbnRoLCAxKTtcclxuICAgICAgZmlyc3REYXkuc2V0TW9udGgoZmlyc3REYXkuZ2V0TW9udGgoKSArIDIpO1xyXG4gICAgICAvL+i/lOWbnlxyXG4gICAgICByZXR1cm4gdGhpcy5Gb3JtYXREZWZpbmVEYXRlKCd5eXl5LU1NLWRkJywgZmlyc3REYXkpO1xyXG4gICAgfVxyXG4gIH1cclxuICAvL+S4i+aciOacgOWQjuS4gOWkqVxyXG5cclxuICBwdWJsaWMgTGFzdERheU9mTmV4dE1vbnRoKGRhdGUgPSBudWxsKSB7XHJcbiAgICBpZiAoZGF0ZSA9PSBudWxsKSB7XHJcbiAgICAgIHZhciBjdXJyZW50RGF0ZSA9IG5ldyBEYXRlKCk7XHJcbiAgICAgIHZhciBmdWxsWWVhciA9IGN1cnJlbnREYXRlLmdldEZ1bGxZZWFyKCk7XHJcbiAgICAgIHZhciBtb250aCA9IGN1cnJlbnREYXRlLmdldE1vbnRoKCkgKyAxO1xyXG4gICAgICAvLyBnZXRNb250aCDmlrnms5Xov5Tlm54gMC0xMe+8jOS7o+ihqDEtMTLmnIhcclxuICAgICAgdmFyIGVuZE9mTW9udGggPSBuZXcgRGF0ZShmdWxsWWVhciwgbW9udGgsIDApO1xyXG4gICAgICBlbmRPZk1vbnRoLnNldE1vbnRoKGVuZE9mTW9udGguZ2V0TW9udGgoKSArIDIpO1xyXG4gICAgICByZXR1cm4gdGhpcy5Gb3JtYXREZWZpbmVEYXRlKCd5eXl5LU1NLWRkJywgY3VycmVudERhdGUpO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgIHZhciBjdXJyZW50RGF0ZSA9IG5ldyBEYXRlKGRhdGUpO1xyXG4gICAgICB2YXIgZnVsbFllYXIgPSBjdXJyZW50RGF0ZS5nZXRGdWxsWWVhcigpO1xyXG4gICAgICB2YXIgbW9udGggPSBjdXJyZW50RGF0ZS5nZXRNb250aCgpICsgMTtcclxuICAgICAgLy8gZ2V0TW9udGgg5pa55rOV6L+U5ZueIDAtMTHvvIzku6PooagxLTEy5pyIXHJcbiAgICAgIHZhciBlbmRPZk1vbnRoID0gbmV3IERhdGUoZnVsbFllYXIsIG1vbnRoLCAwKTtcclxuICAgICAgZW5kT2ZNb250aC5zZXRNb250aChlbmRPZk1vbnRoLmdldE1vbnRoKCkgKyAyKTtcclxuICAgICAgcmV0dXJuIHRoaXMuRm9ybWF0RGVmaW5lRGF0ZSgneXl5eS1NTS1kZCcsIGN1cnJlbnREYXRlKTtcclxuICAgIH1cclxuICB9XHJcbiAgLy/mnKzlubTnrKzkuIDlpKlcclxuXHJcbiAgcHVibGljIEZpcnN0RGF5T2ZZZWFyKGRhdGUgPSBudWxsKSB7XHJcbiAgICBpZiAoZGF0ZSA9PSBudWxsKSB7XHJcbiAgICAgIHZhciBjdXJyZW50RGF0ZSA9IG5ldyBEYXRlKCk7XHJcbiAgICAgIGN1cnJlbnREYXRlLnNldERhdGUoMSk7XHJcbiAgICAgIGN1cnJlbnREYXRlLnNldE1vbnRoKDApO1xyXG4gICAgICByZXR1cm4gdGhpcy5Gb3JtYXREZWZpbmVEYXRlKCd5eXl5LU1NLWRkJywgY3VycmVudERhdGUpO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgIHZhciBjdXJyZW50RGF0ZSA9IG5ldyBEYXRlKGRhdGUpO1xyXG4gICAgICBjdXJyZW50RGF0ZS5zZXREYXRlKDEpO1xyXG4gICAgICBjdXJyZW50RGF0ZS5zZXRNb250aCgwKTtcclxuICAgICAgcmV0dXJuIHRoaXMuRm9ybWF0RGVmaW5lRGF0ZSgneXl5eS1NTS1kZCcsIGN1cnJlbnREYXRlKTtcclxuICAgIH1cclxuICB9XHJcbiAgLy/mnKzlubTmnIDlkI7kuIDlpKlcclxuICBwdWJsaWMgTGFzdERheU9mWWVhcihkYXRlID0gbnVsbCkge1xyXG4gICAgaWYgKGRhdGUgPT0gbnVsbCkge1xyXG4gICAgICB2YXIgY3VycmVudERhdGUgPSBuZXcgRGF0ZSgpO1xyXG4gICAgICBjdXJyZW50RGF0ZS5zZXREYXRlKDApO1xyXG4gICAgICBjdXJyZW50RGF0ZS5zZXRNb250aCgxMSk7XHJcbiAgICAgIHJldHVybiB0aGlzLkZvcm1hdERlZmluZURhdGUoJ3l5eXktTU0tZGQnLCBjdXJyZW50RGF0ZSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgdmFyIGN1cnJlbnREYXRlID0gbmV3IERhdGUoZGF0ZSk7XHJcbiAgICAgIGN1cnJlbnREYXRlLnNldEZ1bGxZZWFyKGN1cnJlbnREYXRlLmdldEZ1bGxZZWFyKCkgKyAxKTtcclxuICAgICAgY3VycmVudERhdGUuc2V0RGF0ZSgwKTtcclxuICAgICAgY3VycmVudERhdGUuc2V0TW9udGgoMTEpO1xyXG4gICAgICByZXR1cm4gdGhpcy5Gb3JtYXREZWZpbmVEYXRlKCd5eXl5LU1NLWRkJywgY3VycmVudERhdGUpO1xyXG4gICAgfVxyXG4gIH1cclxuICAvL+S4iuW5tOesrOS4gOWkqVxyXG5cclxuICBwdWJsaWMgRmlyc3REYXlPZkxhc3RZZWFyKGRhdGUgPSBudWxsKSB7XHJcbiAgICBpZiAoZGF0ZSA9PSBudWxsKSB7XHJcbiAgICAgIHZhciBjdXJyZW50RGF0ZSA9IG5ldyBEYXRlKCk7XHJcbiAgICAgIGN1cnJlbnREYXRlLnNldEZ1bGxZZWFyKGN1cnJlbnREYXRlLmdldEZ1bGxZZWFyKCkgLSAxKTtcclxuICAgICAgY3VycmVudERhdGUuc2V0RGF0ZSgxKTtcclxuICAgICAgY3VycmVudERhdGUuc2V0TW9udGgoMCk7XHJcbiAgICAgIHJldHVybiB0aGlzLkZvcm1hdERlZmluZURhdGUoJ3l5eXktTU0tZGQnLCBjdXJyZW50RGF0ZSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgdmFyIGN1cnJlbnREYXRlID0gbmV3IERhdGUoZGF0ZSk7XHJcbiAgICAgIGN1cnJlbnREYXRlLnNldEZ1bGxZZWFyKGN1cnJlbnREYXRlLmdldEZ1bGxZZWFyKCkgLSAxKTtcclxuICAgICAgY3VycmVudERhdGUuc2V0RGF0ZSgxKTtcclxuICAgICAgY3VycmVudERhdGUuc2V0TW9udGgoMCk7XHJcbiAgICAgIHJldHVybiB0aGlzLkZvcm1hdERlZmluZURhdGUoJ3l5eXktTU0tZGQnLCBjdXJyZW50RGF0ZSk7XHJcbiAgICB9XHJcbiAgfVxyXG4gIC8v5LiK5bm05pyA5ZCO5LiA5aSpXHJcblxyXG4gIHB1YmxpYyBMYXN0RGF5T2ZMYXN0WWVhcihkYXRlID0gbnVsbCkge1xyXG4gICAgaWYgKGRhdGUgPT0gbnVsbCkge1xyXG4gICAgICB2YXIgY3VycmVudERhdGUgPSBuZXcgRGF0ZSgpO1xyXG4gICAgICBjdXJyZW50RGF0ZS5zZXRGdWxsWWVhcihjdXJyZW50RGF0ZS5nZXRGdWxsWWVhcigpIC0gMSk7XHJcbiAgICAgIGN1cnJlbnREYXRlLnNldERhdGUoMCk7XHJcbiAgICAgIGN1cnJlbnREYXRlLnNldE1vbnRoKDExKTtcclxuICAgICAgcmV0dXJuIHRoaXMuRm9ybWF0RGVmaW5lRGF0ZSgneXl5eS1NTS1kZCcsIGN1cnJlbnREYXRlKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICB2YXIgY3VycmVudERhdGUgPSBuZXcgRGF0ZShkYXRlKTtcclxuICAgICAgY3VycmVudERhdGUuc2V0RnVsbFllYXIoY3VycmVudERhdGUuZ2V0RnVsbFllYXIoKSk7XHJcbiAgICAgIGN1cnJlbnREYXRlLnNldERhdGUoMCk7XHJcbiAgICAgIGN1cnJlbnREYXRlLnNldE1vbnRoKDExKTtcclxuICAgICAgcmV0dXJuIHRoaXMuRm9ybWF0RGVmaW5lRGF0ZSgneXl5eS1NTS1kZCcsIGN1cnJlbnREYXRlKTtcclxuICAgIH1cclxuICB9XHJcbiAgLy/kuIvlubTnrKzkuIDlpKlcclxuXHJcbiAgcHVibGljIEZpcnN0RGF5T2ZOZXh0WWVhcihkYXRlID0gbnVsbCkge1xyXG4gICAgaWYgKGRhdGUgPT0gbnVsbCkge1xyXG4gICAgICB2YXIgY3VycmVudERhdGUgPSBuZXcgRGF0ZSgpO1xyXG4gICAgICBjdXJyZW50RGF0ZS5zZXRGdWxsWWVhcihjdXJyZW50RGF0ZS5nZXRGdWxsWWVhcigpICsgMSk7XHJcbiAgICAgIGN1cnJlbnREYXRlLnNldERhdGUoMSk7XHJcbiAgICAgIGN1cnJlbnREYXRlLnNldE1vbnRoKDApO1xyXG4gICAgICByZXR1cm4gdGhpcy5Gb3JtYXREZWZpbmVEYXRlKCd5eXl5LU1NLWRkJywgY3VycmVudERhdGUpO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgIHZhciBjdXJyZW50RGF0ZSA9IG5ldyBEYXRlKGRhdGUpO1xyXG4gICAgICBjdXJyZW50RGF0ZS5zZXRGdWxsWWVhcihjdXJyZW50RGF0ZS5nZXRGdWxsWWVhcigpICsgMSk7XHJcbiAgICAgIGN1cnJlbnREYXRlLnNldERhdGUoMSk7XHJcbiAgICAgIGN1cnJlbnREYXRlLnNldE1vbnRoKDApO1xyXG4gICAgICByZXR1cm4gdGhpcy5Gb3JtYXREZWZpbmVEYXRlKCd5eXl5LU1NLWRkJywgY3VycmVudERhdGUpO1xyXG4gICAgfVxyXG4gIH1cclxuICAvL+S4i+W5tOacgOWQjuS4gOWkqVxyXG4gIHB1YmxpYyBMYXN0RGF5T2ZOZXh0WWVhcihkYXRlID0gbnVsbCkge1xyXG4gICAgaWYgKGRhdGUgPT0gbnVsbCkge1xyXG4gICAgICB2YXIgY3VycmVudERhdGUgPSBuZXcgRGF0ZSgpO1xyXG4gICAgICBjdXJyZW50RGF0ZS5zZXRGdWxsWWVhcihjdXJyZW50RGF0ZS5nZXRGdWxsWWVhcigpICsgMSk7XHJcbiAgICAgIGN1cnJlbnREYXRlLnNldERhdGUoMCk7XHJcbiAgICAgIGN1cnJlbnREYXRlLnNldE1vbnRoKDExKTtcclxuICAgICAgcmV0dXJuIHRoaXMuRm9ybWF0RGVmaW5lRGF0ZSgneXl5eS1NTS1kZCcsIGN1cnJlbnREYXRlKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICB2YXIgY3VycmVudERhdGUgPSBuZXcgRGF0ZShkYXRlKTtcclxuICAgICAgY3VycmVudERhdGUuc2V0RnVsbFllYXIoY3VycmVudERhdGUuZ2V0RnVsbFllYXIoKSArIDIpO1xyXG4gICAgICBjdXJyZW50RGF0ZS5zZXREYXRlKDApO1xyXG4gICAgICBjdXJyZW50RGF0ZS5zZXRNb250aCgxMSk7XHJcbiAgICAgIHJldHVybiB0aGlzLkZvcm1hdERlZmluZURhdGUoJ3l5eXktTU0tZGQnLCBjdXJyZW50RGF0ZSk7XHJcbiAgICB9XHJcbiAgfVxyXG4gIC8v5qC55o2u5oyH5a6a5pel5pyf6I635Y+W5qC85byP5YyW55qE5YaF5a65XHJcbiAgcHVibGljIEdldERhdGUoZm9ybWF0LCBkYXRlID0gbnVsbCkge1xyXG4gICAgc3dpdGNoIChmb3JtYXQpIHtcclxuICAgICAgY2FzZSBcIkREXCI6XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuVG9kYXkoZGF0ZSk7XHJcbiAgICAgIGNhc2UgXCJMRFwiOlxyXG4gICAgICAgIHJldHVybiB0aGlzLlllc3RlcmRheShkYXRlKTtcclxuICAgICAgY2FzZSBcIk5EXCI6XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuVG9tb3Jyb3coZGF0ZSk7XHJcbiAgICAgIGNhc2UgXCJZWVwiOlxyXG4gICAgICAgIHJldHVybiB0aGlzLlRoaXNZZWFyKGRhdGUpO1xyXG4gICAgICBjYXNlIFwiTFlcIjpcclxuICAgICAgICByZXR1cm4gdGhpcy5MYXN0WWVhcihkYXRlKTtcclxuICAgICAgY2FzZSBcIk5ZXCI6XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuTmV4dFllYXIoZGF0ZSk7XHJcbiAgICAgIGNhc2UgXCJNTVwiOlxyXG4gICAgICAgIHJldHVybiB0aGlzLlRoaXNNb250aChkYXRlKTtcclxuICAgICAgY2FzZSBcIkxNXCI6XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuTGFzdE1vbnRoKGRhdGUpO1xyXG4gICAgICBjYXNlIFwiTk1cIjpcclxuICAgICAgICByZXR1cm4gdGhpcy5OZXh0TW9udGgoZGF0ZSk7XHJcbiAgICAgIGNhc2UgXCJXRFwiOlxyXG4gICAgICAgIHJldHVybiB0aGlzLkRheU9mV2VlayhkYXRlKTtcclxuICAgICAgY2FzZSBcIldXXCI6XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuVGhpc1dlZWsoZGF0ZSk7XHJcbiAgICAgIGNhc2UgXCJMV1wiOlxyXG4gICAgICAgIHJldHVybiB0aGlzLkxhc3RXZWVrKGRhdGUpO1xyXG4gICAgICBjYXNlIFwiTldcIjpcclxuICAgICAgICByZXR1cm4gdGhpcy5OZXh0V2VlayhkYXRlKTtcclxuICAgICAgY2FzZSBcIkZEV1wiOlxyXG4gICAgICAgIHJldHVybiB0aGlzLkZpcnN0RGF5T2ZXZWVrKGRhdGUpO1xyXG4gICAgICBjYXNlIFwiTERXXCI6XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuTGFzdERheU9mV2VlayhkYXRlKTtcclxuICAgICAgY2FzZSBcIkZETFdcIjpcclxuICAgICAgICByZXR1cm4gdGhpcy5GaXJzdERheU9mTGFzdFdlZWsoZGF0ZSk7XHJcbiAgICAgIGNhc2UgXCJMRExXXCI6XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuTGFzdERheU9mTGFzdFdlZWsoZGF0ZSk7XHJcbiAgICAgIGNhc2UgXCJGRE5XXCI6XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuRmlyc3REYXlPZk5leHRXZWVrKGRhdGUpO1xyXG4gICAgICBjYXNlIFwiTEROV1wiOlxyXG4gICAgICAgIHJldHVybiB0aGlzLkxhc3REYXlPZk5leHRXZWVrKGRhdGUpO1xyXG4gICAgICBjYXNlIFwiRkRNXCI6XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuRmlyc3REYXlPZk1vbnRoKGRhdGUpO1xyXG4gICAgICBjYXNlIFwiTERNXCI6XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuTGFzdERheU9mTW9udGgoZGF0ZSk7XHJcbiAgICAgIGNhc2UgXCJGRExNXCI6XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuRmlyc3REYXlPZkxhc3RNb250aChkYXRlKTtcclxuICAgICAgY2FzZSBcIkxETE1cIjpcclxuICAgICAgICByZXR1cm4gdGhpcy5MYXN0RGF5T2ZMYXN0TW9udGgoZGF0ZSk7XHJcbiAgICAgIGNhc2UgXCJGRE5NXCI6XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuRmlyc3REYXlPZk5leHRNb250aChkYXRlKTtcclxuICAgICAgY2FzZSBcIkxETk1cIjpcclxuICAgICAgICByZXR1cm4gdGhpcy5MYXN0RGF5T2ZOZXh0TW9udGgoZGF0ZSk7XHJcbiAgICAgIGNhc2UgXCJGRFlcIjpcclxuICAgICAgICByZXR1cm4gdGhpcy5GaXJzdERheU9mWWVhcihkYXRlKTtcclxuICAgICAgY2FzZSBcIkxEWVwiOlxyXG4gICAgICAgIHJldHVybiB0aGlzLkxhc3REYXlPZlllYXIoZGF0ZSk7XHJcbiAgICAgIGNhc2UgXCJGRExZXCI6XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuRmlyc3REYXlPZkxhc3RZZWFyKGRhdGUpO1xyXG4gICAgICBjYXNlIFwiTERMWVwiOlxyXG4gICAgICAgIHJldHVybiB0aGlzLkxhc3REYXlPZkxhc3RZZWFyKGRhdGUpO1xyXG4gICAgICBjYXNlIFwiRkROWVwiOlxyXG4gICAgICAgIHJldHVybiB0aGlzLkZpcnN0RGF5T2ZOZXh0WWVhcihkYXRlKTtcclxuICAgICAgY2FzZSBcIkxETllcIjpcclxuICAgICAgICByZXR1cm4gdGhpcy5MYXN0RGF5T2ZOZXh0WWVhcihkYXRlKTtcclxuICAgICAgZGVmYXVsdDpcclxuICAgICAgICByZXR1cm4gKGRhdGUpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy9MaXN05Lit5piv5ZCm5a2Y5Zyo562J5LqO5a2X56ym5LiyXHJcbiAgcHVibGljIElzRXhpc3RSZWNvcmQoY2hhaW5lZFByb3BOYW1lOiBzdHJpbmcsIHByb3BlcnR5TmFtZTogc3RyaW5nLCBtYXRjaFZhbHVlOiBzdHJpbmcpIHtcclxuICAgIHJldHVybiB0aGlzLmV2YWwoYFxyXG4gICAgdmFyIGxpc3QgPSAke2NoYWluZWRQcm9wTmFtZX07XHJcbiAgICB2YXIgYXJyYXkgPSBEZWZhdWx0RnVuY3Rpb24uZ2V0SXRlcmFibGUobGlzdCk7XHJcbiAgICByZXR1cm4gYXJyYXkuZmluZChpdGVtPT5pdGVtW1wiJHtwcm9wZXJ0eU5hbWV9XCJdID09PSAke21hdGNoVmFsdWV9KT09bnVsbD9mYWxzZTp0cnVlO1xyXG4gICAgYCkoKTtcclxuICB9XHJcbiAgLy9MaXN05Lit5piv5ZCm5a2Y5Zyo562J5LqO5a2X56ym5LiyXHJcbiAgcHVibGljIExpc3RDb250YWlucyhjaGFpbmVkUHJvcE5hbWUsIHByb3BlcnR5TmFtZSwgbWF0Y2hWYWx1ZSkge1xyXG4gICAgcmV0dXJuIHRoaXMuZXZhbChgXHJcbiAgICB2YXIgbGlzdCA9ICR7Y2hhaW5lZFByb3BOYW1lfTtcclxuICAgIHZhciBhcnJheSA9IERlZmF1bHRGdW5jdGlvbi5nZXRJdGVyYWJsZShsaXN0KTtcclxuICAgIHJldHVybiAhYXJyYXkuZmluZChpdGVtPT4gaXRlbS5oYXNPd25Qcm9wZXJ0eShcIiR7cHJvcGVydHlOYW1lfVwiKSAmJiBpdGVtW1wiJHtwcm9wZXJ0eU5hbWV9XCJdLnRvU3RyaW5nKCkuaW5kZXhPZihcIiR7bWF0Y2hWYWx1ZX1cIikhPT0tMSk/ZmFsc2U6dHJ1ZTtcclxuICAgIGApKCk7XHJcbiAgfVxyXG4gIC8vTGlzdOS4reaYr+WQpuWtmOWcqOWkp+S6jlxyXG4gIHB1YmxpYyBMaXN0R3JlYXRlclRoYW4oY2hhaW5lZFByb3BOYW1lLCBwcm9wZXJ0eU5hbWUsIG1hdGNoVmFsdWUpIHtcclxuICAgIHJldHVybiB0aGlzLmV2YWwoYFxyXG4gICAgdmFyIGxpc3QgPSAke2NoYWluZWRQcm9wTmFtZX07XHJcbiAgICB2YXIgYXJyYXkgPSBEZWZhdWx0RnVuY3Rpb24uZ2V0SXRlcmFibGUobGlzdCk7XHJcbiAgICByZXR1cm4gIWFycmF5LmZpbmQoaXRlbT0+IGl0ZW0uaGFzT3duUHJvcGVydHkoXCIke3Byb3BlcnR5TmFtZX1cIikgJiYgaXRlbVtcIiR7cHJvcGVydHlOYW1lfVwiXSA+ICR7bWF0Y2hWYWx1ZX0pID8gZmFsc2U6IHRydWU7XHJcbiAgICBgKSgpO1xyXG4gIH1cclxuICAvL0xpc3TkuK3mmK/lkKblrZjlnKjlsI/kuo5cclxuICBwdWJsaWMgTGlzdExlc3NUaGFuKGNoYWluZWRQcm9wTmFtZSwgcHJvcGVydHlOYW1lLCBtYXRjaFZhbHVlKSB7XHJcbiAgICByZXR1cm4gdGhpcy5ldmFsKGBcclxuICAgIHZhciBsaXN0ID0gJHtjaGFpbmVkUHJvcE5hbWV9O1xyXG4gICAgdmFyIGFycmF5ID0gRGVmYXVsdEZ1bmN0aW9uLmdldEl0ZXJhYmxlKGxpc3QpO1xyXG4gICAgcmV0dXJuICFhcnJheS5maW5kKGl0ZW09PiBpdGVtLmhhc093blByb3BlcnR5KFwiJHtwcm9wZXJ0eU5hbWV9XCIpICYmIGl0ZW1bXCIke3Byb3BlcnR5TmFtZX1cIl0gPCAke21hdGNoVmFsdWV9KSA/IGZhbHNlOiB0cnVlO1xyXG4gICAgYCkoKTtcclxuICB9XHJcbiAgLy9MaXN05Lit5piv5ZCm5a2Y5Zyo5byA5aS05piv5oyH5a6a5a2X56ym5LiyXHJcbiAgcHVibGljIExpc3RTdGFydFdpdGgoY2hhaW5lZFByb3BOYW1lLCBwcm9wZXJ0eU5hbWUsIG1hdGNoVmFsdWUpIHtcclxuICAgIHJldHVybiB0aGlzLmV2YWwoYFxyXG4gICAgdmFyIGxpc3QgPSAke2NoYWluZWRQcm9wTmFtZX07XHJcbiAgICB2YXIgYXJyYXkgPSBEZWZhdWx0RnVuY3Rpb24uZ2V0SXRlcmFibGUobGlzdCk7XHJcbiAgICByZXR1cm4gIWFycmF5LmZpbmQoaXRlbT0+IGl0ZW0uaGFzT3duUHJvcGVydHkoXCIke3Byb3BlcnR5TmFtZX1cIikgJiYgaXRlbVtcIiR7cHJvcGVydHlOYW1lfVwiXSAmJiBpdGVtW1wiJHtwcm9wZXJ0eU5hbWV9XCJdLnRvU3RyaW5nKCkuc3RhcnRzV2l0aChcIiR7bWF0Y2hWYWx1ZX1cIikpID8gZmFsc2U6IHRydWU7XHJcbiAgICBgKSgpO1xyXG4gIH1cclxuICAvL0xpc3TkuK3mmK/lkKblrZjlnKjnu5PlsL7mmK/mjIflrprlrZfnrKbkuLJcclxuICBwdWJsaWMgTGlzdEVuZFdpdGgoY2hhaW5lZFByb3BOYW1lLCBwcm9wZXJ0eU5hbWUsIG1hdGNoVmFsdWUpIHtcclxuICAgIHJldHVybiB0aGlzLmV2YWwoYFxyXG4gICAgdmFyIGxpc3QgPSAke2NoYWluZWRQcm9wTmFtZX07XHJcbiAgICB2YXIgYXJyYXkgPSBEZWZhdWx0RnVuY3Rpb24uZ2V0SXRlcmFibGUobGlzdCk7XHJcbiAgICByZXR1cm4gIWFycmF5LmZpbmQoaXRlbT0+IGl0ZW0uaGFzT3duUHJvcGVydHkoXCIke3Byb3BlcnR5TmFtZX1cIikgJiYgaXRlbVtcIiR7cHJvcGVydHlOYW1lfVwiXSAmJiBpdGVtW1wiJHtwcm9wZXJ0eU5hbWV9XCJdLnRvU3RyaW5nKCkuZW5kc1dpdGgoXCIke21hdGNoVmFsdWV9XCIpKSA/IGZhbHNlOiB0cnVlO1xyXG4gICAgYCkoKTtcclxuICB9XHJcbiAgLy/lrZfnrKbkuLLljIXlkKtcclxuICBwdWJsaWMgZ2V0Q29tcHV0ZUpzb25EYXRhKGNoYWluZWRQcm9wTmFtZSwgcHJvcGVydHlOYW1lKSB7XHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJNZXRob2Qgbm90IGltcGxlbWVudGVkLlwiKTtcclxuICB9XHJcbiAgLy/lrZfnrKbkuLLljIXlkKtcclxuICBwdWJsaWMgQ29udGFpbnMob3JpZ2luYWxTdHJpbmcsIG1hdGNoU3RyaW5nKSB7XHJcbiAgICBpZiAob3JpZ2luYWxTdHJpbmcgPT0gbnVsbCB8fCBtYXRjaFN0cmluZyA9PSBudWxsKSB7XHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICByZXR1cm4gb3JpZ2luYWxTdHJpbmcuaW5kZXhPZihtYXRjaFN0cmluZykgIT0gLTE7XHJcbiAgICB9XHJcbiAgfVxyXG4gIC8v5a2X56ym5Liy5LiN5YyF5ZCrXHJcbiAgcHVibGljIE5vdENvbnRhaW5zKG9yaWdpbmFsU3RyaW5nLCBtYXRjaFN0cmluZykge1xyXG4gICAgaWYgKG9yaWdpbmFsU3RyaW5nID09IG51bGwgfHwgbWF0Y2hTdHJpbmcgPT0gbnVsbCkge1xyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgcmV0dXJuICEob3JpZ2luYWxTdHJpbmcuaW5kZXhPZihtYXRjaFN0cmluZykgIT0gLTEpO1xyXG4gICAgfVxyXG4gIH1cclxuICAvL+Wtl+espuS4suW8gOWktOaYr1xyXG4gIHB1YmxpYyBTdGFydHNXaXRoKG9yaWdpbmFsU3RyaW5nLCBtYXRjaFN0cmluZykge1xyXG4gICAgaWYgKG9yaWdpbmFsU3RyaW5nID09IG51bGwgfHwgbWF0Y2hTdHJpbmcgPT0gbnVsbCkge1xyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgcmV0dXJuIG9yaWdpbmFsU3RyaW5nLnN0YXJ0c1dpdGgobWF0Y2hTdHJpbmcpO1xyXG4gICAgfVxyXG4gIH1cclxuICAvL+Wtl+espuS4suW8gOWktOS4jeaYr1xyXG5cclxuICBwdWJsaWMgTm90U3RhcnRzV2l0aChvcmlnaW5hbFN0cmluZywgbWF0Y2hTdHJpbmcpIHtcclxuICAgIGlmIChvcmlnaW5hbFN0cmluZyA9PSBudWxsIHx8IG1hdGNoU3RyaW5nID09IG51bGwpIHtcclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgIHJldHVybiAhb3JpZ2luYWxTdHJpbmcuc3RhcnRzV2l0aChtYXRjaFN0cmluZyk7XHJcbiAgICB9XHJcbiAgfVxyXG4gIC8v5a2X56ym5Liy57uT5bC+5pivXHJcblxyXG4gIHB1YmxpYyBFbmRzV2l0aChvcmlnaW5hbFN0cmluZywgbWF0Y2hTdHJpbmcpIHtcclxuICAgIGlmIChvcmlnaW5hbFN0cmluZyA9PSBudWxsIHx8IG1hdGNoU3RyaW5nID09IG51bGwpIHtcclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgIHJldHVybiBvcmlnaW5hbFN0cmluZy5lbmRzV2l0aChtYXRjaFN0cmluZyk7XHJcbiAgICB9XHJcbiAgfVxyXG4gIC8v5a2X56ym5Liy57uT5bC+5LiN5pivXHJcblxyXG4gIHB1YmxpYyBOb3RFbmRzV2l0aChvcmlnaW5hbFN0cmluZywgbWF0Y2hTdHJpbmcpIHtcclxuICAgIGlmIChvcmlnaW5hbFN0cmluZyA9PSBudWxsIHx8IG1hdGNoU3RyaW5nID09IG51bGwpIHtcclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgIHJldHVybiAhb3JpZ2luYWxTdHJpbmcuZW5kc1dpdGgobWF0Y2hTdHJpbmcpO1xyXG4gICAgfVxyXG4gIH1cclxuICAvL+WOu+mZpOWtl+espuS4suS4reiiq+Wtl+espmPliIbpmpTnmoTpppblrZfnrKbkuLJcclxuICBwdWJsaWMgdHJpbVN0YXJ0KHMsIGMpIHtcclxuICAgIGlmIChzID09IG51bGwgfHwgcyA9PSBcIlwiIHx8IHMuaW5kZXhPZihjKSA8IDApIHtcclxuICAgICAgcmV0dXJuIHM7XHJcbiAgICB9XHJcblxyXG4gICAgbGV0IHN0YXJ0UG9zID0gcy5pbmRleE9mKGMpO1xyXG4gICAgcyA9IHMuc3Vic3RyaW5nKHN0YXJ0UG9zICsgMSk7XHJcbiAgICByZXR1cm4gcztcclxuICB9XHJcbiAgLy/ljrvpmaTlrZfnrKbkuLLkuK3ooqvlrZfnrKZj5YiG6ZqU55qE5bC+5a2X56ym5LiyXHJcbiAgcHVibGljIHRyaW1FbmQocywgYykge1xyXG4gICAgaWYgKHMgPT0gbnVsbCB8fCBzID09IFwiXCIgfHwgcy5pbmRleE9mKGMpIDwgMCkge1xyXG4gICAgICByZXR1cm4gcztcclxuICAgIH1cclxuXHJcbiAgICBsZXQgbGFzdFBvcyA9IHMubGFzdEluZGV4T2YoYyk7XHJcbiAgICBpZiAobGFzdFBvcyA+PSAwKSB7XHJcbiAgICAgIHMgPSBzLnN1YnN0cmluZygwLCBsYXN0UG9zKTtcclxuICAgIH1cclxuICAgIHJldHVybiBzO1xyXG4gIH1cclxuICAvL+WOu+mZpOWtl+espuS4suS4reiiq+Wtl+espmPliIbpmpTnmoTpppbjgIHlsL7lrZfnrKbkuLJcclxuICBwdWJsaWMgdHJpbVN0YXJ0RW5kKHMsIGMpIHtcclxuICAgIHJldHVybiB0aGlzLnRyaW1FbmQodGhpcy50cmltU3RhcnQocywgYyksIGMpO1xyXG4gIH1cclxufSJdfQ==