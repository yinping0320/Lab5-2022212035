!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/router"),require("@angular/core"),require("@angular/common"),require("@angular/forms"),require("@farris/ui-locale"),require("@farris/ui-notify"),require("@farris/ui-common")):"function"==typeof define&&define.amd?define("@farris/ui-editor",["exports","@angular/router","@angular/core","@angular/common","@angular/forms","@farris/ui-locale","@farris/ui-notify","@farris/ui-common"],t):t((e.farris=e.farris||{},e.farris["ui-editor"]={}),e.ng.router,e.ng.core,e.ng.common,e.ng.forms,e.uiLocale,e.uiNotify,e.uiCommon)}(this,function(e,a,s,t,n,u,l,d){"use strict";var p=(i.decorators=[{type:s.Injectable,args:[{providedIn:"root"}]}],i.ctorParameters=function(){return[]},i.ngInjectableDef=s.defineInjectable({factory:function(){return new i},token:i,providedIn:"root"}),i);function i(){}var o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};var r=function(){return(r=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},c=function(){var e="undefined"!=typeof window?window:undefined;return e&&e.tinymce?e.tinymce:null},m=(h.propDecorators={onBeforePaste:[{type:s.Output}],onBlur:[{type:s.Output}],onClick:[{type:s.Output}],onContextMenu:[{type:s.Output}],onCopy:[{type:s.Output}],onCut:[{type:s.Output}],onDblclick:[{type:s.Output}],onDrag:[{type:s.Output}],onDragDrop:[{type:s.Output}],onDragEnd:[{type:s.Output}],onDragGesture:[{type:s.Output}],onDragOver:[{type:s.Output}],onDrop:[{type:s.Output}],onFocus:[{type:s.Output}],onFocusIn:[{type:s.Output}],onFocusOut:[{type:s.Output}],onKeyDown:[{type:s.Output}],onKeyPress:[{type:s.Output}],onKeyUp:[{type:s.Output}],onMouseDown:[{type:s.Output}],onMouseEnter:[{type:s.Output}],onMouseLeave:[{type:s.Output}],onMouseMove:[{type:s.Output}],onMouseOut:[{type:s.Output}],onMouseOver:[{type:s.Output}],onMouseUp:[{type:s.Output}],onPaste:[{type:s.Output}],onSelectionChange:[{type:s.Output}],onActivate:[{type:s.Output}],onAddUndo:[{type:s.Output}],onBeforeAddUndo:[{type:s.Output}],onBeforeExecCommand:[{type:s.Output}],onBeforeGetContent:[{type:s.Output}],onBeforeRenderUI:[{type:s.Output}],onBeforeSetContent:[{type:s.Output}],onChange:[{type:s.Output}],onClearUndos:[{type:s.Output}],onDeactivate:[{type:s.Output}],onDirty:[{type:s.Output}],onExecCommand:[{type:s.Output}],onGetContent:[{type:s.Output}],onHide:[{type:s.Output}],onInit:[{type:s.Output}],onLoadContent:[{type:s.Output}],onNodeChange:[{type:s.Output}],onPostProcess:[{type:s.Output}],onPostRender:[{type:s.Output}],onPreInit:[{type:s.Output}],onPreProcess:[{type:s.Output}],onProgressState:[{type:s.Output}],onRedo:[{type:s.Output}],onRemove:[{type:s.Output}],onReset:[{type:s.Output}],onSaveContent:[{type:s.Output}],onSetAttrib:[{type:s.Output}],onObjectResizeStart:[{type:s.Output}],onObjectResized:[{type:s.Output}],onObjectSelected:[{type:s.Output}],onSetContent:[{type:s.Output}],onShow:[{type:s.Output}],onSubmit:[{type:s.Output}],onUndo:[{type:s.Output}],onVisualAid:[{type:s.Output}]},h);function h(){this.onBeforePaste=new s.EventEmitter,this.onBlur=new s.EventEmitter,this.onClick=new s.EventEmitter,this.onContextMenu=new s.EventEmitter,this.onCopy=new s.EventEmitter,this.onCut=new s.EventEmitter,this.onDblclick=new s.EventEmitter,this.onDrag=new s.EventEmitter,this.onDragDrop=new s.EventEmitter,this.onDragEnd=new s.EventEmitter,this.onDragGesture=new s.EventEmitter,this.onDragOver=new s.EventEmitter,this.onDrop=new s.EventEmitter,this.onFocus=new s.EventEmitter,this.onFocusIn=new s.EventEmitter,this.onFocusOut=new s.EventEmitter,this.onKeyDown=new s.EventEmitter,this.onKeyPress=new s.EventEmitter,this.onKeyUp=new s.EventEmitter,this.onMouseDown=new s.EventEmitter,this.onMouseEnter=new s.EventEmitter,this.onMouseLeave=new s.EventEmitter,this.onMouseMove=new s.EventEmitter,this.onMouseOut=new s.EventEmitter,this.onMouseOver=new s.EventEmitter,this.onMouseUp=new s.EventEmitter,this.onPaste=new s.EventEmitter,this.onSelectionChange=new s.EventEmitter,this.onActivate=new s.EventEmitter,this.onAddUndo=new s.EventEmitter,this.onBeforeAddUndo=new s.EventEmitter,this.onBeforeExecCommand=new s.EventEmitter,this.onBeforeGetContent=new s.EventEmitter,this.onBeforeRenderUI=new s.EventEmitter,this.onBeforeSetContent=new s.EventEmitter,this.onChange=new s.EventEmitter,this.onClearUndos=new s.EventEmitter,this.onDeactivate=new s.EventEmitter,this.onDirty=new s.EventEmitter,this.onExecCommand=new s.EventEmitter,this.onGetContent=new s.EventEmitter,this.onHide=new s.EventEmitter,this.onInit=new s.EventEmitter,this.onLoadContent=new s.EventEmitter,this.onNodeChange=new s.EventEmitter,this.onPostProcess=new s.EventEmitter,this.onPostRender=new s.EventEmitter,this.onPreInit=new s.EventEmitter,this.onPreProcess=new s.EventEmitter,this.onProgressState=new s.EventEmitter,this.onRedo=new s.EventEmitter,this.onRemove=new s.EventEmitter,this.onReset=new s.EventEmitter,this.onSaveContent=new s.EventEmitter,this.onSetAttrib=new s.EventEmitter,this.onObjectResizeStart=new s.EventEmitter,this.onObjectResized=new s.EventEmitter,this.onObjectSelected=new s.EventEmitter,this.onSetContent=new s.EventEmitter,this.onShow=new s.EventEmitter,this.onSubmit=new s.EventEmitter,this.onUndo=new s.EventEmitter,this.onVisualAid=new s.EventEmitter}var f,y,g=["onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onChange","onClearUndos","onClick","onContextMenu","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onShow","onSubmit","onUndo","onVisualAid"],v=function(n,i){g.forEach(function(e){var t=n[e];i.on(e.substring(2),function(e){return n.ngZone.run(function(){return t.emit({event:e,editor:i})})})})},E=0,_=function(e){var t=(new Date).getTime();return e+"_"+Math.floor(1e9*Math.random())+ ++E+String(t)},b=function(e){return void 0!==e&&"textarea"===e.tagName.toLowerCase()},O=function(e){return void 0===e||""===e?[]:Array.isArray(e)?e:e.split(" ")},w=function(e,t){return O(e).concat(O(t))},C=function(){},S=function(e){return null===e||e===undefined},I=function(){return{listeners:[],scriptId:_("tiny-script"),scriptLoaded:!1}},x=(f=I(),{load:function(e,t,n){f.scriptLoaded?n():(f.listeners.push(n),e.getElementById(f.scriptId)||function(e,t,n,i){var o=t.createElement("script");o.referrerPolicy="origin",o.type="application/javascript",o.id=e,o.src=n;var r=function(){o.removeEventListener("load",r),i()};o.addEventListener("load",r),t.head&&t.head.appendChild(o)}(f.scriptId,e,t,function(){f.listeners.forEach(function(e){return e()}),f.scriptLoaded=!0}))},reinitialize:function(){f=I()}}),P={en:{"farris-editor":{maximgsize:"The uploaded image should not exceed {0}",dropimg:"{0} has exceeded the upload limit! Maximum allowed upload {1}"}},"zh-CHS":{"farris-editor":{maximgsize:"图片超出上传限制！最大允许 {0}",dropimg:"{0} 超出上传限制！最大允许 {1}"}},"zh-CHT":{"farris-editor":{maximgsize:"圖片超出上傳限制！最大允許 {0}",dropimg:"{0} 超出上傳限制！最大允許 {1}"}}},M=new s.InjectionToken("TINYMCE_SCRIPT_SRC"),F={provide:n.NG_VALUE_ACCESSOR,useExisting:s.forwardRef(function(){return H}),multi:!0},H=(function z(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(D,y=m),Object.defineProperty(D.prototype,"disabledClass",{get:function(){return this._disabled},enumerable:!0,configurable:!0}),Object.defineProperty(D.prototype,"readonlyClass",{get:function(){return this._readOnly},enumerable:!0,configurable:!0}),Object.defineProperty(D.prototype,"disabled",{get:function(){return this._disabled},set:function(e){this._disabled=e,this._editor&&this._editor.initialized&&(this._editor.setMode(e?"readonly":"design"),this.setDivElement(e),this.editorBlured())},enumerable:!0,configurable:!0}),Object.defineProperty(D.prototype,"readOnly",{get:function(){return this._readOnly},set:function(e){this._readOnly=e,this._editor&&this._editor.initialized&&(this._editor.setMode(e?"readonly":"design"),this.setDivElement(e),this.editorBlured(),e||this._editor.undoManager.clear())},enumerable:!0,configurable:!0}),Object.defineProperty(D.prototype,"editor",{get:function(){return this._editor},enumerable:!0,configurable:!0}),Object.defineProperty(D.prototype,"fontFamilyList",{get:function(){return this._fontFamilyList},set:function(e){e&&(this._fontFamilyList=e)},enumerable:!0,configurable:!0}),Object.defineProperty(D.prototype,"defaultFontFamily",{get:function(){return this._defaultFontFamily},set:function(e){e&&(this._defaultFontFamily=e)},enumerable:!0,configurable:!0}),D.prototype.ngOnInit=function(){var d=this;this.init={selector:"textarea",menubar:!1,inline:!1,plugins:["advlist autolink lists link image charmap print preview anchor textcolor powerpaste","searchreplace visualblocks code fullscreen","insertdatetime media table image imagetools code help nonbreaking"],language:this.localeIds[this.currentLocale],toolbar:"undo redo | formatselect fontsizeselect fontselect |                         bold italic underline strikethrough forecolor backcolor link |                         alignleft aligncenter alignright alignjustify |                         bullist numlist outdent indent table image | removeformat",min_height:100,block_formats:"Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6",fontsize_formats:"12px 14px 16px 18px 24px 36px 48px 56px 72px",font_formats:"微软雅黑=Microsoft YaHei,Helvetica Neue,PingFang SC,sans-serif;苹果苹方=PingFang SC,Microsoft YaHei,sans-serif;                            宋体=simsun,serif;仿宋体=FangSong,serif;黑体=SimHei,sans-serif;Arial=arial,helvetica,sans-serif;                            Arial Black=arial black,avant garde;Book Antiqua=book antiqua,palatino;",images_upload_url:"postAcceptor.php",images_upload_handler:function(t,n,i,e){if(d.beforeUpload)d.beforeUpload(t).subscribe(function(e){n(e)},function(e){i(e)});else{var o=t.blob();if(d.limitImageSize&&!(o.size<=1024*(d.maxImgSize||500))){var r=d.editor.undoManager.data.findIndex(function(e){return-1<e.content.indexOf(t.blobUri())});-1<r&&(d.editor.undoManager.undo(),d.editor.undoManager.data.splice(r,1));var a="上传的图片不得大于"+d.maxImgSize+"kb";if(d.localeSer){var s=d.localeSer.getValue("farris-editor.maximgsize");s&&(a=s=s.replace("{0}",d.maxImgSize+"kb"))}if(d.notifySer){"function(){}"===d.trim(e.toString())&&d.notifySer.warning({msg:a,timeout:2e3});var u=document.querySelector(".mce-throbber");u&&u.remove()}else i(a);return void(d.editor.getContent()||d.editor.setContent(" "))}var l=new FileReader;l.readAsDataURL(o),l.onload=function(){"function(){}"===d.trim(e.toString())&&n(this.result)}}},branding:!1,readonly:!1,setup:null,end_container_on_empty_block:!0,powerpaste_word_import:"propmt",powerpaste_html_import:"propmt",powerpaste_allow_local_images:!0,paste_data_images:!0,autoresize_min_height:100,autoresize_max_height:this.maxHeight,autoresize_on_init:!0,autoresize_overflow_padding:0,nonbreaking_force_tab:!0,default_link_target:"_blank"}},D.prototype.editorBlured=function(){var t=this;setTimeout(function(){var e=t._editor.iframeElement.contentWindow.document.getElementsByClassName(t.editorBodyCls);e&&e.length&&e[0].blur()},100)},D.prototype.writeValue=function(e){this._editor&&this._editor.initialized?(this._editor.setContent(S(e)?"":e),this._divElement.innerHTML=S(e)?"":e):this.initialValue=null===e?undefined:e,!this.__WEBPAGEURL__&&this.router&&(this.__WEBPAGEURL__=this.router.url)},D.prototype.registerOnChange=function(e){this.onChangeCallback=e},D.prototype.registerOnTouched=function(e){this.onTouchedCallback=e},D.prototype.setDisabledState=function(e){this._editor?this._editor.setMode(e?"readonly":"design"):e&&(this.init=r({},this.init,{readonly:!0}))},D.prototype.ngAfterViewInit=function(){t.isPlatformBrowser(this.platformId)&&(this.editorId=this.editorId||_("tiny-angular"),this.inline="undefined"!=typeof this.inline?"boolean"!=typeof this.inline||this.inline:this.init&&this.init.inline,this.createElement(),this.init.selector="#"+this.editorId,c()?this.initialise():this._element&&this._element.ownerDocument&&x.load(this._element.ownerDocument,this.getScriptSrc(),this.initialise))},D.prototype.ngOnDestroy=function(){this.__WEBPAGEURL__="",this._editor&&(this._editor.remove(),this._editor=null,this._divElement=null),this.overLayService&&(this.overLayService.destory(this._elementRef.nativeElement),this.overLayService=null)},D.prototype.createElement=function(){var e="string"==typeof this.tagName?this.tagName:"div";this._element=document.createElement(this.inline?e:"textarea"),this._element.setAttribute("class","d-none"),this._divElement=document.createElement("div"),this.showBorder?this._divElement.className="farris-editor-placeholder":this._divElement.className="farris-editor-placeholder farris-editor-placeholder-border",this.maxHeight&&this._render.setStyle(this._divElement,"max-height",this.maxHeight+"px"),this._element&&(this._element.id=this.editorId,b(this._element)&&(this._element.style.visibility="hidden"),this._elementRef.nativeElement.appendChild(this._element),this._elementRef.nativeElement.appendChild(this._divElement))},D.prototype.initialise=function(n){var i=this;void 0===n&&(n=!0);var e="";this.minHeight=this.minHeight||100,this.autoHeight?(e="autoresize",this.maxHeight=this.maxHeight||800):this.height=this.height||this.minHeight;var t=r({},this.init,{target:this._element,inline:this.inline,plugins:w(this.init&&this.init.plugins,[this.plugins,e]),toolbar:this.init&&this.init.toolbar,height:this.height,autoresize_max_height:this.maxHeight,max_height:this.maxHeight,setup:function(e){(i._editor=e).on("init",function(t){i.initEditor(e,n),i._readOnly||i._disabled?i._editor.setMode("readonly"):i._editor.setMode("design"),setTimeout(function(){i.setDivElement(i._readOnly||i._disabled),t.target.editorCommands.execCommand("fontName",!1,i.defaultFontFamily);var e=function(){var e=document.querySelectorAll('[aria-label="Inline toolbar"]');e&&e.length&&e.forEach(function(e){e.style.display="none"})};i._elementRef.nativeElement.querySelector(".mce-container-body").addEventListener("click",e),i.overLayService.registerMouseEvent(i._elementRef.nativeElement,e,{mouseDown:!1,scroll:!0})},0),i.editor.limitImageSize=i.limitImageSize,i.editor.maxImgSize=i.maxImgSize,i.editor.images_drop_handler=function(e){if(e&&e.length&&!document.querySelector("farris-notify-container")){var t=e.map(function(e){return e.name}).join(", "),n=i.localeSer.getValue("farris-editor.dropimg").replace("{0}",t).replace("{1}",i.maxImgSize+"kb");i.notifySer?i.notifySer.warning(n):i.editor.notificationManager.open({text:n,type:"error"})}}}),e.on("PastePostProcess",function(e){i.replaceFontFamily(e.node)}),v(i,e),i.init&&"function"==typeof i.init.setup&&i.init.setup(e)}});this.customToolbar&&(t.toolbar=d.Convert2HtmlEditorToolbars("advanced",this.toolbar)),b(this._element)&&(this._element.style.visibility=""),this.ngZone.runOutsideAngular(function(){setTimeout(function(){c().init(t)},100)})},D.prototype.refresh=function(){this.editor&&this.editor.destroy(),this.initialise(!1)},D.prototype.setToolbar=function(e){this.toolbar=e,this.refresh()},D.prototype.setDivElement=function(e){e?(this._divElement.classList.remove("d-none"),this._render.removeStyle(this._divElement,"height"),this._editor&&this._editor.initialized&&(this._divElement.innerHTML=this._editor.getContent({format:this.outputFormat}))):(this._divElement.classList.add("d-none"),this._render.setStyle(this._divElement,"height",this.height+"px"),this._editor&&this._editor.initialized&&(this._divElement.innerHTML=""))},D.prototype.getScriptSrc=function(){return S(this.tinymceScriptSrc)?"https://cdn.tiny.cloud/1/"+this.apiKey+"/tinymce/"+this.cloudChannel+"/tinymce.min.js":d.appendPerfixForUri?d.appendPerfixForUri(this.tinymceScriptSrc,this.basePath):this.tinymceScriptSrc},D.prototype.initEditor=function(e,t){var n=this;e.on("blur",function(){return n.ngZone.run(function(){return n.onTouchedCallback()})}),e.on(this.modelEvents,function(){n.ngZone.run(function(){n.onChangeCallback(e.getContent({format:n.outputFormat})),n._divElement.innerHTML=e.getContent({format:n.outputFormat})})}),"string"==typeof this.initialValue&&t&&this.ngZone.run(function(){e.setContent(n.initialValue),n._divElement.innerHTML=n.initialValue,n.onChangeCallback(e.getContent({format:n.outputFormat}))})},D.prototype.replaceFontFamily=function(e){if("IMG"!==e.nodeName){if(e.children&&e.children.length)for(var t=0;t<e.children.length;t++)this.replaceFontFamily(e.children[t]);var n=e.style.fontFamily,i=e.getAttribute("face");if(n){var o=n.split(","),r=this.getFontFamilyArray(o);e.style.fontFamily=r}if(i){var a=i.split(",");r=this.getFontFamilyArray(a),e.setAttribute("face",r)}}},D.prototype.getFontFamilyArray=function(e,n){var i=this;void 0===n&&(n=this._fontFamilyList);var o=[];e.forEach(function(t){n.find(function(e){return e===i.trim(t)})&&o.push(i.trim(t))});var t=o.join(",");return t=t||this._defaultFontFamily},D.prototype.trim=function(e){return e.replace(/^\s*|\s*$/g,"")},D.decorators=[{type:s.Component,args:[{selector:"farris-editor",template:"<ng-template></ng-template>",providers:[F],encapsulation:s.ViewEncapsulation.None,styles:[":host{display:block}.farris-editor .mce-tinymce .mce-toolbar .mce-btn-group>div{white-space:pre-wrap}.farris-editor .mce-tinymce{box-sizing:border-box;box-shadow:none}.farris-editor .mce-panel,.farris-editor .mce-tinymce{border-color:#d8dce6}.farris-editor.farris-editor-disabled .mce-statusbar,.farris-editor.farris-editor-disabled .mce-top-part,.farris-editor.farris-editor-readonly .mce-statusbar,.farris-editor.farris-editor-readonly .mce-top-part{display:none}.farris-editor.farris-editor-disabled .mce-edit-area,.farris-editor.farris-editor-readonly .mce-edit-area{border-top:none}.farris-editor.farris-editor-disabled.farris-editor-border .mce-tinymce,.farris-editor.farris-editor-readonly.farris-editor-border .mce-tinymce{border-width:0 0 1px!important}"]}]}],D.ctorParameters=function(){return[{type:s.ElementRef},{type:s.NgZone},{type:Object,decorators:[{type:s.Inject,args:[s.PLATFORM_ID]}]},{type:s.Injector,decorators:[{type:s.Optional}]},{type:String,decorators:[{type:s.Optional},{type:s.Inject,args:[M]}]}]},D.propDecorators={rootClass:[{type:s.HostBinding,args:["class"]}],disabledClass:[{type:s.HostBinding,args:["class.farris-editor-disabled"]}],readonlyClass:[{type:s.HostBinding,args:["class.farris-editor-readonly"]}],disabled:[{type:s.Input}],customToolbar:[{type:s.Input}],limitImageSize:[{type:s.Input}],maxImgSize:[{type:s.Input}],readOnly:[{type:s.Input}],cloudChannel:[{type:s.Input}],apiKey:[{type:s.Input}],editorId:[{type:s.Input}],initialValue:[{type:s.Input}],outputFormat:[{type:s.Input}],inline:[{type:s.Input}],tagName:[{type:s.Input}],plugins:[{type:s.Input}],toolbar:[{type:s.Input}],modelEvents:[{type:s.Input}],height:[{type:s.Input}],autoresizeMaxHeight:[{type:s.Input}],maxHeight:[{type:s.Input}],minHeight:[{type:s.Input}],autoHeight:[{type:s.Input}],showBorder:[{type:s.Input},{type:s.HostBinding,args:["class.farris-editor-border"]}],fontFamilyList:[{type:s.Input}],defaultFontFamily:[{type:s.Input}],beforeUpload:[{type:s.Input}]},D);function D(e,t,n,i,o){var r=y.call(this)||this;return r.platformId=n,r.injector=i,r.tinymceScriptSrc=o,r.rootClass="farris-editor",r.customToolbar=!1,r.limitImageSize=!1,r.maxImgSize=500,r.localeIds={en:"es","zh-CHS":"zh_CN","zh-CHT":"zh_CHT"},r.currentLocale="zh-CHS",r.cloudChannel="5",r.apiKey="no-api-key",r.editorId="",r.modelEvents="change keyup undo redo",r.height=100,r.autoresizeMaxHeight=800,r.maxHeight=800,r.minHeight=100,r.autoHeight=!0,r.showBorder=!0,r._fontFamilyList=["Microsoft YaHei","Helvetica Neue","PingFang SC","sans-serif","simsun","serif","SimHei","arial","helvetica","arial black","avant garde","book antiqua","palatino","FangSong"],r._defaultFontFamily="Microsoft YaHei",r.onTouchedCallback=C,r.onChangeCallback=C,r.__WEBPAGEURL__="",r.editorBodyCls="mce-content-body",r.overLayService=null,r.basePath="",r._elementRef=e,r.ngZone=t,r._render=r.injector.get(s.Renderer2),r.basePath=r.injector.get(d.WEBAPI_PREFIX_TOKEN,""),r.initialise=r.initialise.bind(r),r.injector&&(r.currentLocale=r.injector.get(s.LOCALE_ID),r.editorService=r.injector.get(p),r.localeSer=r.injector.get(u.LocaleService,null),r.notifySer=r.injector.get(l.NotifyService,null),r.localeSer&&r.localeSer.setLocaleData(P),r.router=r.injector.get(a.Router,null),r.router&&r.router.events.subscribe(function(e){e instanceof a.NavigationStart?r.__WEBPAGEURL__||(r.__WEBPAGEURL__=e.url):e instanceof a.NavigationEnd&&r.__WEBPAGEURL__===e.url&&r.editor&&(r.editor.destroy(),r.initialise(!1))})),r.overLayService=new d.OverLayHiddenService,r}var L=(R.forRoot=function(e){return{ngModule:R,providers:[{provide:M,useValue:e}]}},R.decorators=[{type:s.NgModule,args:[{declarations:[H],imports:[t.CommonModule,n.FormsModule,u.LocaleModule.forRoot(),l.NotifyModule.forRoot(),d.FarrisCommonModule],exports:[H],providers:[p]}]}],R);function R(){}e.EditorService=p,e.TINYMCE_SCRIPT_SRC=M,e.EditorComponent=H,e.EditorModule=L,e.Events=m,e.validEvents=g,e.getTinymce=c,e.ScriptLoader=x,e.bindHandlers=v,e.uuid=_,e.isTextarea=b,e.normalizePluginArray=O,e.mergePlugins=w,e.noop=C,e.isNullOrUndefined=S,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=farris-ui-editor.umd.min.js.map