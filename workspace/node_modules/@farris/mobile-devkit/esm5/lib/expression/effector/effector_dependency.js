import { NAMESPACE } from '../core/index';
import { EffectUtil } from './util';
var DependencyEffector = /** @class */ (function () {
    function DependencyEffector(viewModelContext) {
        this.viewModelContext = viewModelContext;
        this.ns = this.viewModelContext.injector.get(NAMESPACE, '');
    }
    DependencyEffector.prototype.effect = function (path, value, options) {
        var viewModelContext;
        if (options.viewModelId) {
            viewModelContext = this.viewModelContext.appContext.viewModelContextManager.getContextById(options.viewModelId);
        }
        else {
            return;
        }
        if (!viewModelContext.form)
            return;
        var formControl = EffectUtil.getFormValueByPath(path, viewModelContext);
        var form_name = formControl.form_name;
        if (!form_name) {
            return;
        }
        if (value === true) {
            form_name.value = null;
            form_name.validationResult = { passing: value, message: '' };
        }
    };
    return DependencyEffector;
}());
export { DependencyEffector };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZWZmZWN0b3JfZGVwZW5kZW5jeS5qcyIsInNvdXJjZVJvb3QiOiJuZzovL0BmYXJyaXMvbW9iaWxlLWRldmtpdC8iLCJzb3VyY2VzIjpbImxpYi9leHByZXNzaW9uL2VmZmVjdG9yL2VmZmVjdG9yX2RlcGVuZGVuY3kudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBR0EsT0FBTyxFQUFFLFNBQVMsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUMxQyxPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0sUUFBUSxDQUFDO0FBRXBDO0lBR0ksNEJBQW9CLGdCQUFrQztRQUFsQyxxQkFBZ0IsR0FBaEIsZ0JBQWdCLENBQWtCO1FBQ2xELElBQUksQ0FBQyxFQUFFLEdBQUcsSUFBSSxDQUFDLGdCQUFnQixDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsU0FBUyxFQUFFLEVBQUUsQ0FBQyxDQUFDO0lBQ2hFLENBQUM7SUFDTSxtQ0FBTSxHQUFiLFVBQWMsSUFBWSxFQUFFLEtBQVUsRUFBRSxPQUFpQztRQUNyRSxJQUFJLGdCQUFrQyxDQUFDO1FBQ3ZDLElBQUksT0FBTyxDQUFDLFdBQVcsRUFBRTtZQUNyQixnQkFBZ0IsR0FBRyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsVUFBVSxDQUFDLHVCQUF1QixDQUFDLGNBQWMsQ0FBQyxPQUFPLENBQUMsV0FBVyxDQUFDLENBQUE7U0FDbEg7YUFBTTtZQUNILE9BQU07U0FDVDtRQUNELElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxJQUFJO1lBQUUsT0FBTztRQUNuQyxJQUFNLFdBQVcsR0FBRyxVQUFVLENBQUMsa0JBQWtCLENBQUMsSUFBSSxFQUFFLGdCQUFnQixDQUFDLENBQUM7UUFDMUUsSUFBSSxTQUFTLEdBQUcsV0FBVyxDQUFDLFNBQXdCLENBQUM7UUFDckQsSUFBSSxDQUFDLFNBQVMsRUFBRTtZQUNaLE9BQU07U0FDVDtRQUNELElBQUksS0FBSyxLQUFLLElBQUksRUFBRTtZQUNoQixTQUFTLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQztZQUN2QixTQUFTLENBQUMsZ0JBQWdCLEdBQUcsRUFBRSxPQUFPLEVBQUUsS0FBSyxFQUFFLE9BQU8sRUFBRSxFQUFFLEVBQUUsQ0FBQztTQUNoRTtJQUNMLENBQUM7SUFDTCx5QkFBQztBQUFELENBQUMsQUF4QkQsSUF3QkMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBFeHByZXNzaW9uIH0gZnJvbSAnLi4vZXhwcmVzc2lvbi9pbmRleCc7XG5pbXBvcnQgeyBWaWV3TW9kZWxDb250ZXh0IH0gZnJvbSAnLi4vLi4vdmlldy1tb2RlbC9pbmRleCdcbmltcG9ydCB7IEZvcm1Db250cm9sIH0gZnJvbSAnLi4vLi4vZm9ybSdcbmltcG9ydCB7IE5BTUVTUEFDRSB9IGZyb20gJy4uL2NvcmUvaW5kZXgnO1xuaW1wb3J0IHsgRWZmZWN0VXRpbCB9IGZyb20gJy4vdXRpbCc7XG5cbmV4cG9ydCBjbGFzcyBEZXBlbmRlbmN5RWZmZWN0b3IgaW1wbGVtZW50cyBFeHByZXNzaW9uLkVmZmVjdG9yIHtcbiAgICBwdWJsaWMgbnM6IHN0cmluZztcblxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgdmlld01vZGVsQ29udGV4dDogVmlld01vZGVsQ29udGV4dCkge1xuICAgICAgICB0aGlzLm5zID0gdGhpcy52aWV3TW9kZWxDb250ZXh0LmluamVjdG9yLmdldChOQU1FU1BBQ0UsICcnKTtcbiAgICB9XG4gICAgcHVibGljIGVmZmVjdChwYXRoOiBzdHJpbmcsIHZhbHVlOiBhbnksIG9wdGlvbnM6IEV4cHJlc3Npb24uRWZmZWN0T3B0aW9ucykge1xuICAgICAgICBsZXQgdmlld01vZGVsQ29udGV4dDogVmlld01vZGVsQ29udGV4dDtcbiAgICAgICAgaWYgKG9wdGlvbnMudmlld01vZGVsSWQpIHtcbiAgICAgICAgICAgIHZpZXdNb2RlbENvbnRleHQgPSB0aGlzLnZpZXdNb2RlbENvbnRleHQuYXBwQ29udGV4dC52aWV3TW9kZWxDb250ZXh0TWFuYWdlci5nZXRDb250ZXh0QnlJZChvcHRpb25zLnZpZXdNb2RlbElkKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF2aWV3TW9kZWxDb250ZXh0LmZvcm0pIHJldHVybjtcbiAgICAgICAgY29uc3QgZm9ybUNvbnRyb2wgPSBFZmZlY3RVdGlsLmdldEZvcm1WYWx1ZUJ5UGF0aChwYXRoLCB2aWV3TW9kZWxDb250ZXh0KTtcbiAgICAgICAgbGV0IGZvcm1fbmFtZSA9IGZvcm1Db250cm9sLmZvcm1fbmFtZSBhcyBGb3JtQ29udHJvbDtcbiAgICAgICAgaWYgKCFmb3JtX25hbWUpIHtcbiAgICAgICAgICAgIHJldHVyblxuICAgICAgICB9XG4gICAgICAgIGlmICh2YWx1ZSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgZm9ybV9uYW1lLnZhbHVlID0gbnVsbDtcbiAgICAgICAgICAgIGZvcm1fbmFtZS52YWxpZGF0aW9uUmVzdWx0ID0geyBwYXNzaW5nOiB2YWx1ZSwgbWVzc2FnZTogJycgfTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiJdfQ==