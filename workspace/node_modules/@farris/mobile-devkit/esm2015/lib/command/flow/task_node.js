import { of } from 'rxjs';
import { isObservable } from '../../utils/index';
/**
 * 任务节点
 */
class TaskNode {
    /**
     * 构造函数
     */
    constructor(name, func) {
        this.name = name;
        this.func = func;
    }
    /**
     * 执行任务函数
     */
    execute(context) {
        const result = this.func(context);
        const result$ = isObservable(result) ? result : of(result);
        return result$;
    }
}
export { TaskNode };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGFza19ub2RlLmpzIiwic291cmNlUm9vdCI6Im5nOi8vQGZhcnJpcy9tb2JpbGUtZGV2a2l0LyIsInNvdXJjZXMiOlsibGliL2NvbW1hbmQvZmxvdy90YXNrX25vZGUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFjLEVBQUUsRUFBRSxNQUFNLE1BQU0sQ0FBQztBQUV0QyxPQUFPLEVBQUUsWUFBWSxFQUFFLE1BQU0sbUJBQW1CLENBQUM7QUFRakQ7O0dBRUc7QUFDSCxNQUFNLFFBQVE7SUFZWjs7T0FFRztJQUNILFlBQVksSUFBWSxFQUFFLElBQWM7UUFDdEMsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUM7UUFDakIsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUM7SUFDbkIsQ0FBQztJQUVEOztPQUVHO0lBQ0gsT0FBTyxDQUFDLE9BQXVCO1FBQzdCLE1BQU0sTUFBTSxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUM7UUFDbEMsTUFBTSxPQUFPLEdBQUcsWUFBWSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUMzRCxPQUFPLE9BQU8sQ0FBQztJQUNqQixDQUFDO0NBQ0Y7QUFFRCxPQUFPLEVBQVksUUFBUSxFQUFFLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBPYnNlcnZhYmxlLCBvZiB9IGZyb20gJ3J4anMnO1xuaW1wb3J0IHsgQ29tbWFuZENvbnRleHQgfSBmcm9tICcuLi9jb21tYW5kX2NvbnRleHQnO1xuaW1wb3J0IHsgaXNPYnNlcnZhYmxlIH0gZnJvbSAnLi4vLi4vdXRpbHMvaW5kZXgnO1xuXG4vKipcbiAqIOS7u+WKoeWHveaVsFxuICovXG50eXBlIFRhc2tGdW5jID0gKGNvbnRleHQ6IENvbW1hbmRDb250ZXh0KSA9PiBhbnk7XG5cblxuLyoqXG4gKiDku7vliqHoioLngrlcbiAqL1xuY2xhc3MgVGFza05vZGUge1xuXG4gIC8qKlxuICAgKiDku7vliqHlkI3np7BcbiAgICovXG4gIG5hbWU6IHN0cmluZztcblxuICAvKipcbiAgICog5Lu75Yqh5Ye95pWwXG4gICAqL1xuICBmdW5jOiBUYXNrRnVuYztcblxuICAvKipcbiAgICog5p6E6YCg5Ye95pWwXG4gICAqL1xuICBjb25zdHJ1Y3RvcihuYW1lOiBzdHJpbmcsIGZ1bmM6IFRhc2tGdW5jKSB7XG4gICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICB0aGlzLmZ1bmMgPSBmdW5jO1xuICB9XG5cbiAgLyoqXG4gICAqIOaJp+ihjOS7u+WKoeWHveaVsFxuICAgKi9cbiAgZXhlY3V0ZShjb250ZXh0OiBDb21tYW5kQ29udGV4dCk6IE9ic2VydmFibGU8YW55PiB7XG4gICAgY29uc3QgcmVzdWx0ID0gdGhpcy5mdW5jKGNvbnRleHQpO1xuICAgIGNvbnN0IHJlc3VsdCQgPSBpc09ic2VydmFibGUocmVzdWx0KSA/IHJlc3VsdCA6IG9mKHJlc3VsdCk7XG4gICAgcmV0dXJuIHJlc3VsdCQ7XG4gIH1cbn1cblxuZXhwb3J0IHsgVGFza0Z1bmMsIFRhc2tOb2RlIH07XG4iXX0=