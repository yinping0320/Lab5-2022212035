/**
 * 绑定列表工厂相关定义
 * @author Witt<jiwt@inspur.com>
 */
import { BindingList } from './binding_list';
/**
 * BindingList工厂用于创建一个空的BindingList对象，并将当前行的属性影射到BindingList对象上。
 *
 * **示例代码**
 * ```ts
 * const deptProperties: BindingProperty[] = PropertyUtil.getProperties(DeptEntity);
 * const deptList = BindingListFactory.create(deptProperties);
 * ```
 */
class BindingListFactory {
    /**
     * 创建BindingList实例，并扩展其属性
     * @param bindingProperties 绑定属性集合
     */
    static create(bindingProperties) {
        const bindingList = new BindingList(bindingProperties);
        this.extendProperties(bindingList, bindingProperties);
        return bindingList;
    }
    /**
     * 扩展BindingList属性，将当前行上的属性映射到列表上
     * @param bindingList       要扩展的绑定列表
     * @param bindingProperties 绑定属性集合
     */
    static extendProperties(bindingList, bindingProperties) {
        bindingProperties.forEach((bindingProperty) => {
            const propertyName = bindingProperty.name;
            Object.defineProperty(bindingList, propertyName, {
                get: () => {
                    return bindingList.currentItem[propertyName];
                }
            });
        });
    }
}
export { BindingListFactory };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYmluZGluZ19saXN0X2ZhY3RvcnkuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9AZmFycmlzL21vYmlsZS1kZXZraXQvIiwic291cmNlcyI6WyJsaWIvYmluZGluZy1kYXRhL2JpbmRpbmdfbGlzdF9mYWN0b3J5LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7R0FHRztBQUVILE9BQU8sRUFBRSxXQUFXLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQztBQUc3Qzs7Ozs7Ozs7R0FRRztBQUNILE1BQU0sa0JBQWtCO0lBRXRCOzs7T0FHRztJQUNILE1BQU0sQ0FBQyxNQUFNLENBQUMsaUJBQW9DO1FBQ2hELE1BQU0sV0FBVyxHQUFHLElBQUksV0FBVyxDQUFDLGlCQUFpQixDQUFDLENBQUM7UUFDdkQsSUFBSSxDQUFDLGdCQUFnQixDQUFDLFdBQVcsRUFBRSxpQkFBaUIsQ0FBQyxDQUFDO1FBQ3RELE9BQU8sV0FBVyxDQUFDO0lBQ3JCLENBQUM7SUFFRDs7OztPQUlHO0lBQ0gsTUFBTSxDQUFDLGdCQUFnQixDQUFDLFdBQXdCLEVBQUUsaUJBQW9DO1FBRXBGLGlCQUFpQixDQUFDLE9BQU8sQ0FBQyxDQUFDLGVBQWdDLEVBQUUsRUFBRTtZQUM3RCxNQUFNLFlBQVksR0FBRyxlQUFlLENBQUMsSUFBSSxDQUFDO1lBQzFDLE1BQU0sQ0FBQyxjQUFjLENBQUMsV0FBVyxFQUFFLFlBQVksRUFBRTtnQkFDL0MsR0FBRyxFQUFFLEdBQUcsRUFBRTtvQkFDUixPQUFPLFdBQVcsQ0FBQyxXQUFXLENBQUMsWUFBWSxDQUFDLENBQUM7Z0JBQy9DLENBQUM7YUFDRixDQUFDLENBQUM7UUFDTCxDQUFDLENBQUMsQ0FBQztJQUNMLENBQUM7Q0FDRjtBQUVELE9BQU8sRUFBRSxrQkFBa0IsRUFBRSxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiDnu5HlrprliJfooajlt6XljoLnm7jlhbPlrprkuYlcbiAqIEBhdXRob3IgV2l0dDxqaXd0QGluc3B1ci5jb20+XG4gKi9cblxuaW1wb3J0IHsgQmluZGluZ0xpc3QgfSBmcm9tICcuL2JpbmRpbmdfbGlzdCc7XG5pbXBvcnQgeyBCaW5kaW5nUHJvcGVydHkgfSBmcm9tICcuL2JpbmRpbmdfcHJvcGVydHknO1xuXG4vKipcbiAqIEJpbmRpbmdMaXN05bel5Y6C55So5LqO5Yib5bu65LiA5Liq56m655qEQmluZGluZ0xpc3Tlr7nosaHvvIzlubblsIblvZPliY3ooYznmoTlsZ7mgKflvbHlsITliLBCaW5kaW5nTGlzdOWvueixoeS4iuOAglxuICpcbiAqICoq56S65L6L5Luj56CBKipcbiAqIGBgYHRzXG4gKiBjb25zdCBkZXB0UHJvcGVydGllczogQmluZGluZ1Byb3BlcnR5W10gPSBQcm9wZXJ0eVV0aWwuZ2V0UHJvcGVydGllcyhEZXB0RW50aXR5KTtcbiAqIGNvbnN0IGRlcHRMaXN0ID0gQmluZGluZ0xpc3RGYWN0b3J5LmNyZWF0ZShkZXB0UHJvcGVydGllcyk7XG4gKiBgYGBcbiAqL1xuY2xhc3MgQmluZGluZ0xpc3RGYWN0b3J5IHtcblxuICAvKipcbiAgICog5Yib5bu6QmluZGluZ0xpc3Tlrp7kvovvvIzlubbmianlsZXlhbblsZ7mgKdcbiAgICogQHBhcmFtIGJpbmRpbmdQcm9wZXJ0aWVzIOe7keWumuWxnuaAp+mbhuWQiFxuICAgKi9cbiAgc3RhdGljIGNyZWF0ZShiaW5kaW5nUHJvcGVydGllczogQmluZGluZ1Byb3BlcnR5W10pOiBCaW5kaW5nTGlzdCB7XG4gICAgY29uc3QgYmluZGluZ0xpc3QgPSBuZXcgQmluZGluZ0xpc3QoYmluZGluZ1Byb3BlcnRpZXMpO1xuICAgIHRoaXMuZXh0ZW5kUHJvcGVydGllcyhiaW5kaW5nTGlzdCwgYmluZGluZ1Byb3BlcnRpZXMpO1xuICAgIHJldHVybiBiaW5kaW5nTGlzdDtcbiAgfVxuXG4gIC8qKlxuICAgKiDmianlsZVCaW5kaW5nTGlzdOWxnuaAp++8jOWwhuW9k+WJjeihjOS4iueahOWxnuaAp+aYoOWwhOWIsOWIl+ihqOS4ilxuICAgKiBAcGFyYW0gYmluZGluZ0xpc3QgICAgICAg6KaB5omp5bGV55qE57uR5a6a5YiX6KGoXG4gICAqIEBwYXJhbSBiaW5kaW5nUHJvcGVydGllcyDnu5HlrprlsZ7mgKfpm4blkIhcbiAgICovXG4gIHN0YXRpYyBleHRlbmRQcm9wZXJ0aWVzKGJpbmRpbmdMaXN0OiBCaW5kaW5nTGlzdCwgYmluZGluZ1Byb3BlcnRpZXM6IEJpbmRpbmdQcm9wZXJ0eVtdKSB7XG5cbiAgICBiaW5kaW5nUHJvcGVydGllcy5mb3JFYWNoKChiaW5kaW5nUHJvcGVydHk6IEJpbmRpbmdQcm9wZXJ0eSkgPT4ge1xuICAgICAgY29uc3QgcHJvcGVydHlOYW1lID0gYmluZGluZ1Byb3BlcnR5Lm5hbWU7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoYmluZGluZ0xpc3QsIHByb3BlcnR5TmFtZSwge1xuICAgICAgICBnZXQ6ICgpID0+IHtcbiAgICAgICAgICByZXR1cm4gYmluZGluZ0xpc3QuY3VycmVudEl0ZW1bcHJvcGVydHlOYW1lXTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cbn1cblxuZXhwb3J0IHsgQmluZGluZ0xpc3RGYWN0b3J5IH07XG5cbiJdfQ==