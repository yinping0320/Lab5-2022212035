/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingReturn,uselessCode} checked by tsc
 */
import { Injectable, Injector } from '@angular/core';
import { BehaviorSubject } from 'rxjs';
var TransitApprovalStatus = /** @class */ (function () {
    function TransitApprovalStatus(injetor) {
        this.injetor = injetor;
        // 因为注位置的问题，这样子拿不到
        // this.stateMachineSer = this.injetor.get(StateMachineService);
    }
    /**
     * @return {?}
     */
    TransitApprovalStatus.prototype.switchStatus = /**
     * @return {?}
     */
    function () {
        /** @type {?} */
        var result = new BehaviorSubject('Cancel');
        //  判断流程传参  formConfigId
        /** @type {?} */
        var frameContext;
        try {
            frameContext = this['context'].frameContext;
        }
        catch (error) {
            throw new Error('can not find frameContex');
        }
        if (frameContext.uiState['UIStateInProcess'] == 'Approving' && frameContext.uiState['formConfigId']) {
            result.next('Edit');
        }
        return result;
    };
    TransitApprovalStatus.decorators = [
        { type: Injectable }
    ];
    /** @nocollapse */
    TransitApprovalStatus.ctorParameters = function () { return [
        { type: Injector }
    ]; };
    return TransitApprovalStatus;
}());
export { TransitApprovalStatus };
if (false) {
    /** @type {?} */
    TransitApprovalStatus.prototype.injetor;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidHJhbnNpdC1hcHByb3ZhbC5zZXJ2aWNlLmpzIiwic291cmNlUm9vdCI6Im5nOi8vQGZhcnJpcy9vYS1jb21tYW5kLXNlcnZpY2VzLyIsInNvdXJjZXMiOlsibGliL3RyYW5zaXQtYXBwcm92YWwvdHJhbnNpdC1hcHByb3ZhbC5zZXJ2aWNlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7QUFBQSxPQUFPLEVBQUUsVUFBVSxFQUFFLFFBQVEsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUdyRCxPQUFPLEVBQUUsZUFBZSxFQUFFLE1BQU0sTUFBTSxDQUFDO0FBRXZDO0lBRUksK0JBQ1ksT0FBaUI7UUFBakIsWUFBTyxHQUFQLE9BQU8sQ0FBVTtRQUV6QixrQkFBa0I7UUFDbEIsZ0VBQWdFO0lBQ3BFLENBQUM7Ozs7SUFDTSw0Q0FBWTs7O0lBQW5COztZQUNVLE1BQU0sR0FBNEIsSUFBSSxlQUFlLENBQUMsUUFBUSxDQUFDOzs7WUFFakUsWUFBMEI7UUFDOUIsSUFBSTtZQUNBLFlBQVksR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUMsWUFBWSxDQUFBO1NBQzlDO1FBQUMsT0FBTyxLQUFLLEVBQUU7WUFDWixNQUFNLElBQUksS0FBSyxDQUFDLDBCQUEwQixDQUFDLENBQUM7U0FDL0M7UUFDRCxJQUFJLFlBQVksQ0FBQyxPQUFPLENBQUMsa0JBQWtCLENBQUMsSUFBSSxXQUFXLElBQUksWUFBWSxDQUFDLE9BQU8sQ0FBQyxjQUFjLENBQUMsRUFBRTtZQUNqRyxNQUFNLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1NBQ3ZCO1FBQ0QsT0FBTyxNQUFNLENBQUM7SUFDbEIsQ0FBQzs7Z0JBckJKLFVBQVU7Ozs7Z0JBTFUsUUFBUTs7SUEyQjdCLDRCQUFDO0NBQUEsQUF0QkQsSUFzQkM7U0FyQlkscUJBQXFCOzs7SUFFMUIsd0NBQXlCIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSW5qZWN0YWJsZSwgSW5qZWN0b3IgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuLy8gaW1wb3J0IHsgU3RhdGVNYWNoaW5lU2VydmljZSB9IGZyb20gJ0BmYXJyaXMvY29tbWFuZC1zZXJ2aWNlcyc7XHJcbmltcG9ydCB7IEZyYW1lQ29udGV4dCB9IGZyb20gJ0BmYXJyaXMvZGV2a2l0JztcclxuaW1wb3J0IHsgQmVoYXZpb3JTdWJqZWN0IH0gZnJvbSAncnhqcyc7XHJcblxyXG5ASW5qZWN0YWJsZSgpXHJcbmV4cG9ydCBjbGFzcyBUcmFuc2l0QXBwcm92YWxTdGF0dXMge1xyXG4gICAgY29uc3RydWN0b3IoXHJcbiAgICAgICAgcHJpdmF0ZSBpbmpldG9yOiBJbmplY3RvclxyXG4gICAgKSB7XHJcbiAgICAgICAgLy8g5Zug5Li65rOo5L2N572u55qE6Zeu6aKY77yM6L+Z5qC35a2Q5ou/5LiN5YiwXHJcbiAgICAgICAgLy8gdGhpcy5zdGF0ZU1hY2hpbmVTZXIgPSB0aGlzLmluamV0b3IuZ2V0KFN0YXRlTWFjaGluZVNlcnZpY2UpO1xyXG4gICAgfVxyXG4gICAgcHVibGljIHN3aXRjaFN0YXR1cygpIHtcclxuICAgICAgICBjb25zdCByZXN1bHQ6IEJlaGF2aW9yU3ViamVjdDxzdHJpbmc+ID0gbmV3IEJlaGF2aW9yU3ViamVjdCgnQ2FuY2VsJyk7XHJcbiAgICAgICAgLy8gIOWIpOaWrea1geeoi+S8oOWPgiAgZm9ybUNvbmZpZ0lkXHJcbiAgICAgICAgbGV0IGZyYW1lQ29udGV4dDogRnJhbWVDb250ZXh0O1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGZyYW1lQ29udGV4dCA9IHRoaXNbJ2NvbnRleHQnXS5mcmFtZUNvbnRleHRcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2NhbiBub3QgZmluZCBmcmFtZUNvbnRleCcpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoZnJhbWVDb250ZXh0LnVpU3RhdGVbJ1VJU3RhdGVJblByb2Nlc3MnXSA9PSAnQXBwcm92aW5nJyAmJiBmcmFtZUNvbnRleHQudWlTdGF0ZVsnZm9ybUNvbmZpZ0lkJ10pIHtcclxuICAgICAgICAgICAgcmVzdWx0Lm5leHQoJ0VkaXQnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH1cclxufSJdfQ==