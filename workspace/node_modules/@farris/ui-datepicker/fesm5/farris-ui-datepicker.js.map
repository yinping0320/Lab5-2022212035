{"version":3,"file":"farris-ui-datepicker.js.map","sources":["ng://@farris/ui-datepicker/lib/enums/cal-toggle.enum.ts","ng://@farris/ui-datepicker/lib/enums/default-view.enum.ts","ng://@farris/ui-datepicker/lib/enums/key-code.enum.ts","ng://@farris/ui-datepicker/lib/enums/key-name.enum.ts","ng://@farris/ui-datepicker/lib/enums/month-id.enum.ts","ng://@farris/ui-datepicker/lib/enums/reset-date-type.enum.ts","ng://@farris/ui-datepicker/lib/enums/show-type.enum.ts","ng://@farris/ui-datepicker/lib/enums/year.enum.ts","ng://@farris/ui-datepicker/lib/services/farris-datepicker.config.service.ts","ng://@farris/ui-datepicker/lib/constants/constants.ts","ng://@farris/ui-datepicker/lib/services/farris-datepicker.locale.service.ts","ng://@farris/ui-datepicker/lib/services/farris-datepicker.util.service.ts","ng://@farris/ui-datepicker/lib/services/farris-datepicker.service.ts","ng://@farris/ui-datepicker/lib/interfaces/my-options.interface.ts","ng://@farris/ui-datepicker/lib/components/calendar/calendar.component.ts","ng://@farris/ui-datepicker/lib/components/selection-bar/selection-bar.component.ts","ng://@farris/ui-datepicker/lib/components/day-view/day-view.component.ts","ng://@farris/ui-datepicker/lib/components/month-view/month-view.component.ts","ng://@farris/ui-datepicker/lib/components/year-view/year-view.component.ts","ng://@farris/ui-datepicker/lib/farris-datepicker.input.ts","ng://@farris/ui-datepicker/lib/farris-datepicker.component.ts","ng://@farris/ui-datepicker/lib/components/selection-sidebar/selection-sidebar.component.ts","ng://@farris/ui-datepicker/lib/AngularMyDatePicker.component.ts","ng://@farris/ui-datepicker/lib/components/dynamic-view/dynamic-view.component.ts","ng://@farris/ui-datepicker/lib/dynamic-date-input/dynamic-date-input.component.ts","ng://@farris/ui-datepicker/lib/multi-date-input/multi-date-input.component.ts","ng://@farris/ui-datepicker/lib/components/multi-day-view/multi-day-view.component.ts","ng://@farris/ui-datepicker/lib/components/multi-day-view/multi-days.component.ts","ng://@farris/ui-datepicker/lib/farris-datepicker.module.ts"],"sourcesContent":["export enum CalToggle {\r\n    Open = 1,\r\n    CloseByDateSel = 2,\r\n    CloseByCalBtn = 3,\r\n    CloseByOutClick = 4,\r\n    CloseByEsc = 5\r\n}\r\n","export enum DefaultView {\r\n    Date = 1,\r\n    Month = 2,\r\n    Year = 3\r\n}\r\n","/**\r\n * Event key codes\r\n */\r\nexport enum KeyCode {\r\n    enter = 13,\r\n    esc = 27,\r\n    space = 32,\r\n    leftArrow = 37,\r\n    upArrow = 38,\r\n    rightArrow = 39,\r\n    downArrow = 40,\r\n    tab = 9,\r\n    shift = 16\r\n}\r\n","/**\r\n * Event key names\r\n */\r\nexport enum KeyName {\r\n    enter = 'Enter',\r\n    esc = 'Escape',\r\n    space = ' ',\r\n    leftArrow = 'ArrowLeft',\r\n    upArrow = 'ArrowUp',\r\n    rightArrow = 'ArrowRight',\r\n    downArrow = 'ArrowDown',\r\n    tab = 'Tab',\r\n    shift = 'Shift'\r\n}\r\n","export enum MonthId {\r\n    prev = 1,\r\n    curr = 2,\r\n    next = 3\r\n}\r\n","export enum ResetDateType {\r\n    both = 0,\r\n    singleDate = 1,\r\n    dateRange = 2\r\n}\r\n","export enum ShowType {\r\n    all = 1,\r\n    noDate = 2,\r\n    noDateAndMonth = 3,\r\n    selectWeek = 4\r\n}\r\n","export enum Year {\r\n    min = 1000,\r\n    max = 9999\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { IMyOptions } from '../interfaces/public-api';\r\nimport { Year, DefaultView, ShowType } from '../enums/public-api';\r\n\r\n@Injectable()\r\nexport class DefaultConfigService {\r\n    private defaultConfig: IMyOptions = {\r\n        dateRange: false,\r\n        dayLabels: {\r\n            su: 'Sun',\r\n            mo: 'Mon',\r\n            tu: 'Tue',\r\n            we: 'Wed',\r\n            th: 'Thu',\r\n            fr: 'Fri',\r\n            sa: 'Sat'\r\n        },\r\n        monthLabels: {\r\n            1: 'Jan',\r\n            2: 'Feb',\r\n            3: 'Mar',\r\n            4: 'Apr',\r\n            5: 'May',\r\n            6: 'Jun',\r\n            7: 'Jul',\r\n            8: 'Aug',\r\n            9: 'Sep',\r\n            10: 'Oct',\r\n            11: 'Nov',\r\n            12: 'Dec'\r\n        },\r\n        dateFormat: 'yyyy-MM-dd',\r\n        returnFormat: 'yyyy-MM-dd',\r\n        defaultView: DefaultView.Date,\r\n        showType: ShowType.all,\r\n        firstDayOfWeek: 'mo',\r\n        satHighlight: false,\r\n        sunHighlight: false,\r\n        highlightDates: [],\r\n        markCurrentDay: true,\r\n        markCurrentMonth: true,\r\n        markCurrentYear: true,\r\n        monthSelector: true,\r\n        yearSelector: true,\r\n        disableHeaderButtons: true,\r\n        showWeekNumbers: false,\r\n        selectorHeight: '295px',\r\n        selectorWidth: '287px',\r\n        disableUntil: { year: 0, month: 0, day: 0 ,hour:0,minute:0,second:0},\r\n        disableSince: { year: 0, month: 0, day: 0 ,hour:0,minute:0,second:0},\r\n        disableDates: [],\r\n        disableDateRanges: [],\r\n        disableWeekends: false,\r\n        disableWeekdays: [],\r\n        enableDates: [],\r\n        markDates: [],\r\n        markWeekends: { marked: false, color: '' },\r\n        closeSelectorOnDateSelect: true,\r\n        closeSelectorOnDocumentClick: true,\r\n        minYear: Year.min,\r\n        maxYear: Year.max,\r\n        focusInputOnDateSelect: true,\r\n        moveFocusByArrowKeys: true,\r\n        dateRangeDatesDelimiter: ' - ',\r\n        inputFieldValidation: true,\r\n        stylesData: { selector: '', styles: '' },\r\n        ariaLabelPrevMonth: 'Previous Month',\r\n        ariaLabelNextMonth: 'Next Month',\r\n        shortcuts: [],\r\n        weekText: 'Week'\r\n    };\r\n\r\n    public getDefaultConfig() {\r\n        return this.defaultConfig;\r\n    }\r\n}\r\n","/**\r\n * Constants\r\n */\r\nconst D = 'd';\r\nconst DD = 'dd';\r\nconst M = 'M';\r\nconst MM = 'MM';\r\nconst MMM = 'MMM';\r\nconst Y = 'y';\r\nconst YYYY = 'yyyy';\r\n\r\nconst DATE_ROW_COUNT = 5;\r\nconst DATE_COL_COUNT = 6;\r\nconst MONTH_ROW_COUNT = 3;\r\nconst MONTH_COL_COUNT = 2;\r\nconst YEAR_ROW_COUNT = 4;\r\nconst YEAR_COL_COUNT = 4;\r\n\r\nconst DOT = '.';\r\nconst UNDER_LINE = '_';\r\n\r\nconst SU = 'su';\r\nconst MO = 'mo';\r\nconst TU = 'tu';\r\nconst WE = 'we';\r\nconst TH = 'th';\r\nconst FR = 'fr';\r\nconst SA = 'sa';\r\n\r\nconst DEFAULT_LOCALE = 'ZH_CN';\r\n\r\nconst ZERO_STR = '0';\r\nconst EMPTY_STR = '';\r\n\r\nconst CLICK = 'click';\r\nconst KEYUP = 'keyup';\r\nconst BLUR = 'blur';\r\nconst DISABLED = 'disabled';\r\nconst BODY = 'body';\r\nconst VALUE = 'value';\r\nconst OPTIONS = 'options';\r\nconst DEFAULT_MONTH = 'defaultMonth';\r\nconst LOCALE = 'locale';\r\nconst OBJECT = 'object';\r\nconst PX = 'px';\r\nconst STYLE = 'style';\r\n\r\nconst OPTS = 'opts';\r\nconst YEARS = 'years';\r\nconst VISIBLE_MONTH = 'visibleMonth';\r\nconst SELECT_MONTH = 'selectMonth';\r\nconst SELECT_YEAR = 'selectYear';\r\nconst PREV_VIEW_DISABLED = 'prevViewDisabled';\r\nconst NEXT_VIEW_DISABLED = 'nextViewDisabled';\r\nconst DATES = 'dates';\r\nconst WEEK_DAYS = 'weekDays';\r\nconst SELECTED_DATE = 'selectedDate';\r\nconst SELECTED_DATE_RANGE = 'selectedDateRange';\r\nconst MONTHS = 'months';\r\n\r\nconst PREVENT_CLOSE_TIMEOUT = 50;\r\n\r\nexport {\r\n    D,\r\n    DD,\r\n    M,\r\n    MM,\r\n    MMM,\r\n    Y,\r\n    YYYY,\r\n    DATE_ROW_COUNT,\r\n    DATE_COL_COUNT,\r\n    MONTH_ROW_COUNT,\r\n    MONTH_COL_COUNT,\r\n    YEAR_ROW_COUNT,\r\n    YEAR_COL_COUNT,\r\n    DOT,\r\n    UNDER_LINE,\r\n    SU,\r\n    MO,\r\n    TU,\r\n    WE,\r\n    TH,\r\n    FR,\r\n    SA,\r\n    DEFAULT_LOCALE,\r\n    ZERO_STR,\r\n    EMPTY_STR,\r\n    CLICK,\r\n    KEYUP,\r\n    BLUR,\r\n    DISABLED,\r\n    BODY,\r\n    VALUE,\r\n    OPTIONS,\r\n    DEFAULT_MONTH,\r\n    LOCALE,\r\n    OBJECT,\r\n    PX,\r\n    STYLE,\r\n    OPTS,\r\n    YEARS,\r\n    VISIBLE_MONTH,\r\n    SELECT_MONTH,\r\n    SELECT_YEAR,\r\n    PREV_VIEW_DISABLED,\r\n    NEXT_VIEW_DISABLED,\r\n    DATES,\r\n    WEEK_DAYS,\r\n    SELECTED_DATE,\r\n    SELECTED_DATE_RANGE,\r\n    MONTHS,\r\n    PREVENT_CLOSE_TIMEOUT\r\n};\r\n","import { Injectable } from '@angular/core';\r\nimport { IMyLocales, IMyOptions } from '../interfaces/public-api';\r\n\r\nimport { DEFAULT_LOCALE } from '../constants/constants';\r\n\r\n@Injectable()\r\nexport class DatepickerLocaleService {\r\n    private locales: IMyLocales = {\r\n        'EN_US': {\r\n            dayLabels: { su: 'Sun', mo: 'Mon', tu: 'Tue', we: 'Wed', th: 'Thu', fr: 'Fri', sa: 'Sat' },\r\n            monthLabels: {\r\n                1: 'Jan',\r\n                2: 'Feb',\r\n                3: 'Mar',\r\n                4: 'Apr',\r\n                5: 'May',\r\n                6: 'Jun',\r\n                7: 'Jul',\r\n                8: 'Aug',\r\n                9: 'Sep',\r\n                10: 'Oct',\r\n                11: 'Nov',\r\n                12: 'Dec'\r\n            },\r\n            dateFormat: 'MM/dd/yyyy',\r\n            returnFormat: 'MM/dd/yyyy',\r\n            firstDayOfWeek: 'mo',\r\n            sunHighlight: false,\r\n            yearTxt: '',\r\n            timeBtnText: 'Select Time',\r\n            dateBtnText: 'Select Date',\r\n            commitBtnText: 'OK',\r\n            weekText: 'Week',\r\n            placeholder: 'Please select a date',\r\n            range: {\r\n                begin: 'Please select a begin date',\r\n                end: 'Please select a end date'\r\n            },\r\n            message: {\r\n                101: 'The end time must not be earlier than the start time.',\r\n                102: 'Only ${0} dates are allowed to be selected.'\r\n            },\r\n            dynamicLocale: {\r\n                setting: 'Dynamic Date',\r\n                today: 'Today',\r\n                presentWeek: 'Current Week',\r\n                presentMonth: 'Current Month',\r\n                presentYear: 'Current Year',\r\n                previous: 'Previous',\r\n                future: 'Future',\r\n                day: 'Day',\r\n                month: 'Month',\r\n                year: 'Year',\r\n                week: 'Week',\r\n                current: 'Current',\r\n                first: 'First Day',\r\n                last: 'Last Day'\r\n            },\r\n            mulstiDatesLocale: {\r\n                backtotoday: 'Back to today',\r\n                clearSelections: 'Clear all',\r\n                delete: 'Delete',\r\n                selected: 'Selected,days'\r\n            }\r\n        },\r\n        'ZH_CN': {\r\n            dayLabels: { su: 'æ¥', mo: 'ä¸', tu: 'äº', we: 'ä¸', th: 'å', fr: 'äº', sa: 'å­' },\r\n            monthLabels: {\r\n                1: 'ä¸æ',\r\n                2: 'äºæ',\r\n                3: 'ä¸æ',\r\n                4: 'åæ',\r\n                5: 'äºæ',\r\n                6: 'å­æ',\r\n                7: 'ä¸æ',\r\n                8: 'å«æ',\r\n                9: 'ä¹æ',\r\n                10: 'åæ',\r\n                11: 'åä¸æ',\r\n                12: 'åäºæ'\r\n            },\r\n            dateFormat: 'yyyy-MM-dd',\r\n            returnFormat: 'yyyy-MM-dd',\r\n            firstDayOfWeek: 'mo',\r\n            sunHighlight: false,\r\n            yearTxt: 'å¹´',\r\n            timeBtnText: 'éæ©æ¶é´',\r\n            dateBtnText: 'éæ©æ¥æ',\r\n            commitBtnText: 'ç¡®è®¤',\r\n            weekText: 'å¨',\r\n            placeholder: 'è¯·éæ©æ¥æ',\r\n            range: {\r\n                begin: 'è¯·éæ©å¼å§æ¥æ',\r\n                end: 'è¯·éæ©ç»ææ¥æ'\r\n            },\r\n            message: {\r\n                101: 'ç»ææ¶é´ä¸å¾æ©äºå¼å§æ¶é´ï¼',\r\n                102: 'ä»åè®¸éæ© ${0} ä¸ªæ¥æ'\r\n            },\r\n            dynamicLocale: {\r\n                setting: 'è®¾ç½®å¨ææ¥æ',\r\n                today: 'ä»å¤©',\r\n                presentWeek: 'æ¬å¨',\r\n                presentMonth: 'æ¬æ',\r\n                presentYear: 'æ¬å¹´',\r\n                previous: 'è¿å»',\r\n                future: 'æªæ¥',\r\n                day: 'å¤©',\r\n                month: 'æ',\r\n                year: 'å¹´',\r\n                week: 'å¨',\r\n                current: 'æ¬',\r\n                first: 'ç¬¬ 1 å¤©',\r\n                last: 'æå 1 å¤©'\r\n            },\r\n            mulstiDatesLocale: {\r\n                backtotoday: 'åå°ä»å¤©',\r\n                clearSelections: 'æ¸ç©º',\r\n                delete: 'å é¤',\r\n                selected: 'å·²é,å¤©'\r\n            }\r\n        },\r\n        'ZH_CHT': {\r\n            dayLabels: { su: 'æ¥', mo: 'ä¸', tu: 'äº', we: 'ä¸', th: 'å', fr: 'äº', sa: 'å­' },\r\n            monthLabels: {\r\n                1: 'ä¸æ',\r\n                2: 'äºæ',\r\n                3: 'ä¸æ',\r\n                4: 'åæ',\r\n                5: 'äºæ',\r\n                6: 'å­æ',\r\n                7: 'ä¸æ',\r\n                8: 'å«æ',\r\n                9: 'ä¹æ',\r\n                10: 'åæ',\r\n                11: 'åä¸æ',\r\n                12: 'åäºæ'\r\n            },\r\n            dateFormat: 'yyyy-MM-dd',\r\n            returnFormat: 'yyyy-MM-dd',\r\n            firstDayOfWeek: 'mo',\r\n            sunHighlight: false,\r\n            yearTxt: 'å¹´',\r\n            timeBtnText: 'é¸ææé',\r\n            dateBtnText: 'é¸ææ¥æ',\r\n            commitBtnText: 'ç¢ºèª',\r\n            weekText: 'å¨',\r\n            placeholder: 'è«é¸ææ¥æ',\r\n            range: {\r\n                begin: 'è«é¸æéå§æ¥æ',\r\n                end: 'è«é¸æçµææ¥æ'\r\n            },\r\n            message: {\r\n                101: 'çµææéä¸å¾æ©äºéå§æéï¼',\r\n                102: 'ååè¨±é¸æ ${0} åæ¥æ'\r\n            },\r\n            dynamicLocale: {\r\n                setting: 'è¨­ç½®åææ¥æ',\r\n                today: 'ä»å¤©',\r\n                presentWeek: 'æ¬å¨',\r\n                presentMonth: 'æ¬æ',\r\n                presentYear: 'æ¬å¹´',\r\n                previous: 'éå»',\r\n                future: 'æªä¾',\r\n                day: 'å¤©',\r\n                month: 'æ',\r\n                year: 'å¹´',\r\n                week: 'å¨',\r\n                current: 'æ¬',\r\n                first: 'ç¬¬ 1 å¤©',\r\n                last: 'æå¾ 1 å¤©'\r\n            },\r\n            mulstiDatesLocale: {\r\n                backtotoday: 'åå°ä»å¤©',\r\n                clearSelections: 'æ¸ç©º',\r\n                delete: 'åªé¤',\r\n                selected: 'å·²é¸,å¤©'\r\n            }\r\n        } // ,\r\n        // he: {\r\n        //     dayLabels: { su: '×¨×', mo: '×©× ', tu: '×©×', we: '×¨×', th: '××', fr: '×©×', sa: '×©×' },\r\n        //     monthLabels: {\r\n        //         1: '×× ×',\r\n        //         2: '×¤××¨',\r\n        //         3: '××¨×¥',\r\n        //         4: '××¤×¨',\r\n        //         5: '×××',\r\n        //         6: '××× ',\r\n        //         7: '×××',\r\n        //         8: '×××',\r\n        //         9: '×¡×¤×',\r\n        //         10: '×××§',\r\n        //         11: '× ××',\r\n        //         12: '××¦×'\r\n        //     },\r\n        //     dateFormat: 'dd/mm/yyyy',\r\n        //     firstDayOfWeek: 'su',\r\n        //     sunHighlight: false\r\n        // },\r\n        // ja: {\r\n        //     dayLabels: { su: 'æ¥', mo: 'æ', tu: 'ç«', we: 'æ°´', th: 'æ¨', fr: 'é', sa: 'å' },\r\n        //     monthLabels: {\r\n        //         1: 'ï¼æ',\r\n        //         2: 'ï¼æ',\r\n        //         3: 'ï¼æ',\r\n        //         4: 'ï¼æ',\r\n        //         5: 'ï¼æ',\r\n        //         6: 'ï¼æ',\r\n        //         7: 'ï¼æ',\r\n        //         8: 'ï¼æ',\r\n        //         9: 'ï¼æ',\r\n        //         10: 'ï¼ï¼æ',\r\n        //         11: 'ï¼ï¼æ',\r\n        //         12: 'ï¼ï¼æ'\r\n        //     },\r\n        //     dateFormat: 'yyyy.mm.dd',\r\n        //     sunHighlight: false\r\n        // },\r\n        // fr: {\r\n        //     dayLabels: { su: 'Dim', mo: 'Lun', tu: 'Mar', we: 'Mer', th: 'Jeu', fr: 'Ven', sa: 'Sam' },\r\n        //     monthLabels: {\r\n        //         1: 'Jan',\r\n        //         2: 'FÃ©v',\r\n        //         3: 'Mar',\r\n        //         4: 'Avr',\r\n        //         5: 'Mai',\r\n        //         6: 'Juin',\r\n        //         7: 'Juil',\r\n        //         8: 'AoÃ»',\r\n        //         9: 'Sep',\r\n        //         10: 'Oct',\r\n        //         11: 'Nov',\r\n        //         12: 'DÃ©c'\r\n        //     },\r\n        //     dateFormat: 'dd/mm/yyyy',\r\n        //     firstDayOfWeek: 'mo',\r\n        //     sunHighlight: false\r\n        // },\r\n        // 'fr-ch': {\r\n        //     dayLabels: { su: 'Dim', mo: 'Lun', tu: 'Mar', we: 'Mer', th: 'Jeu', fr: 'Ven', sa: 'Sam' },\r\n        //     monthLabels: {\r\n        //         1: 'Jan',\r\n        //         2: 'FÃ©v',\r\n        //         3: 'Mar',\r\n        //         4: 'Avr',\r\n        //         5: 'Mai',\r\n        //         6: 'Juin',\r\n        //         7: 'Juil',\r\n        //         8: 'AoÃ»',\r\n        //         9: 'Sep',\r\n        //         10: 'Oct',\r\n        //         11: 'Nov',\r\n        //         12: 'DÃ©c'\r\n        //     },\r\n        //     dateFormat: 'dd.mm.yyyy',\r\n        //     firstDayOfWeek: 'mo',\r\n        //     sunHighlight: false\r\n        // },\r\n        // fi: {\r\n        //     dayLabels: { su: 'Su', mo: 'Ma', tu: 'Ti', we: 'Ke', th: 'To', fr: 'Pe', sa: 'La' },\r\n        //     monthLabels: {\r\n        //         1: 'Tam',\r\n        //         2: 'Hel',\r\n        //         3: 'Maa',\r\n        //         4: 'Huh',\r\n        //         5: 'Tou',\r\n        //         6: 'Kes',\r\n        //         7: 'Hei',\r\n        //         8: 'Elo',\r\n        //         9: 'Syy',\r\n        //         10: 'Lok',\r\n        //         11: 'Mar',\r\n        //         12: 'Jou'\r\n        //     },\r\n        //     dateFormat: 'dd.mm.yyyy',\r\n        //     firstDayOfWeek: 'mo',\r\n        //     sunHighlight: false\r\n        // },\r\n        // es: {\r\n        //     dayLabels: { su: 'Do', mo: 'Lu', tu: 'Ma', we: 'Mi', th: 'Ju', fr: 'Vi', sa: 'Sa' },\r\n        //     monthLabels: {\r\n        //         1: 'Ene',\r\n        //         2: 'Feb',\r\n        //         3: 'Mar',\r\n        //         4: 'Abr',\r\n        //         5: 'May',\r\n        //         6: 'Jun',\r\n        //         7: 'Jul',\r\n        //         8: 'Ago',\r\n        //         9: 'Sep',\r\n        //         10: 'Oct',\r\n        //         11: 'Nov',\r\n        //         12: 'Dic'\r\n        //     },\r\n        //     dateFormat: 'dd.mm.yyyy',\r\n        //     firstDayOfWeek: 'mo',\r\n        //     sunHighlight: false\r\n        // },\r\n        // hu: {\r\n        //     dayLabels: { su: 'Vas', mo: 'HÃ©t', tu: 'Kedd', we: 'Sze', th: 'CsÃ¼', fr: 'PÃ©n', sa: 'Szo' },\r\n        //     monthLabels: {\r\n        //         1: 'Jan',\r\n        //         2: 'Feb',\r\n        //         3: 'MÃ¡r',\r\n        //         4: 'Ãpr',\r\n        //         5: 'MÃ¡j',\r\n        //         6: 'JÃºn',\r\n        //         7: 'JÃºl',\r\n        //         8: 'Aug',\r\n        //         9: 'Szep',\r\n        //         10: 'Okt',\r\n        //         11: 'Nov',\r\n        //         12: 'Dec'\r\n        //     },\r\n        //     dateFormat: 'yyyy-mm-dd',\r\n        //     firstDayOfWeek: 'mo',\r\n        //     sunHighlight: false\r\n        // },\r\n        // sv: {\r\n        //     dayLabels: { su: 'SÃ¶n', mo: 'MÃ¥n', tu: 'Tis', we: 'Ons', th: 'Tor', fr: 'Fre', sa: 'LÃ¶r' },\r\n        //     monthLabels: {\r\n        //         1: 'Jan',\r\n        //         2: 'Feb',\r\n        //         3: 'Mar',\r\n        //         4: 'Apr',\r\n        //         5: 'Maj',\r\n        //         6: 'Jun',\r\n        //         7: 'Jul',\r\n        //         8: 'Aug',\r\n        //         9: 'Sep',\r\n        //         10: 'Okt',\r\n        //         11: 'Nov',\r\n        //         12: 'Dec'\r\n        //     },\r\n        //     dateFormat: 'yyyy-mm-dd',\r\n        //     firstDayOfWeek: 'mo',\r\n        //     sunHighlight: false\r\n        // },\r\n        // nl: {\r\n        //     dayLabels: { su: 'Zon', mo: 'Maa', tu: 'Din', we: 'Woe', th: 'Don', fr: 'Vri', sa: 'Zat' },\r\n        //     monthLabels: {\r\n        //         1: 'Jan',\r\n        //         2: 'Feb',\r\n        //         3: 'Mar',\r\n        //         4: 'Apr',\r\n        //         5: 'Mei',\r\n        //         6: 'Jun',\r\n        //         7: 'Jul',\r\n        //         8: 'Aug',\r\n        //         9: 'Sep',\r\n        //         10: 'Okt',\r\n        //         11: 'Nov',\r\n        //         12: 'Dec'\r\n        //     },\r\n        //     dateFormat: 'dd-mm-yyyy',\r\n        //     firstDayOfWeek: 'mo',\r\n        //     sunHighlight: false\r\n        // },\r\n        // ru: {\r\n        //     dayLabels: { su: 'ÐÑ', mo: 'ÐÐ½', tu: 'ÐÑ', we: 'Ð¡Ñ', th: 'Ð§Ñ', fr: 'ÐÑ', sa: 'Ð¡Ð±' },\r\n        //     monthLabels: {\r\n        //         1: 'Ð¯Ð½Ð²',\r\n        //         2: 'Ð¤ÐµÐ²',\r\n        //         3: 'ÐÐ°ÑÑ',\r\n        //         4: 'ÐÐ¿Ñ',\r\n        //         5: 'ÐÐ°Ð¹',\r\n        //         6: 'ÐÑÐ½Ñ',\r\n        //         7: 'ÐÑÐ»Ñ',\r\n        //         8: 'ÐÐ²Ð³',\r\n        //         9: 'Ð¡ÐµÐ½Ñ',\r\n        //         10: 'ÐÐºÑ',\r\n        //         11: 'ÐÐ¾Ñ',\r\n        //         12: 'ÐÐµÐº'\r\n        //     },\r\n        //     dateFormat: 'dd.mm.yyyy',\r\n        //     firstDayOfWeek: 'mo',\r\n        //     sunHighlight: false\r\n        // },\r\n        // uk: {\r\n        //     dayLabels: { su: 'ÐÐ´', mo: 'ÐÐ½', tu: 'ÐÑ', we: 'Ð¡Ñ', th: 'Ð§Ñ', fr: 'ÐÑ', sa: 'Ð¡Ð±' },\r\n        //     monthLabels: {\r\n        //         1: 'Ð¡ÑÑ',\r\n        //         2: 'ÐÑÑ',\r\n        //         3: 'ÐÐµÑ',\r\n        //         4: 'ÐÐ²Ñ',\r\n        //         5: 'Ð¢ÑÐ°',\r\n        //         6: 'Ð§ÐµÑ',\r\n        //         7: 'ÐÐ¸Ð¿',\r\n        //         8: 'Ð¡ÐµÑ',\r\n        //         9: 'ÐÐµÑ',\r\n        //         10: 'ÐÐ¾Ð²',\r\n        //         11: 'ÐÐ¸Ñ',\r\n        //         12: 'ÐÑÑ'\r\n        //     },\r\n        //     dateFormat: 'dd.mm.yyyy',\r\n        //     firstDayOfWeek: 'mo',\r\n        //     sunHighlight: false\r\n        // },\r\n        // no: {\r\n        //     dayLabels: { su: 'SÃ¸n', mo: 'Man', tu: 'Tir', we: 'Ons', th: 'Tor', fr: 'Fre', sa: 'LÃ¸r' },\r\n        //     monthLabels: {\r\n        //         1: 'Jan',\r\n        //         2: 'Feb',\r\n        //         3: 'Mar',\r\n        //         4: 'Apr',\r\n        //         5: 'Mai',\r\n        //         6: 'Jun',\r\n        //         7: 'Jul',\r\n        //         8: 'Aug',\r\n        //         9: 'Sep',\r\n        //         10: 'Okt',\r\n        //         11: 'Nov',\r\n        //         12: 'Des'\r\n        //     },\r\n        //     dateFormat: 'dd.mm.yyyy',\r\n        //     firstDayOfWeek: 'mo',\r\n        //     sunHighlight: false\r\n        // },\r\n        // tr: {\r\n        //     dayLabels: { su: 'Paz', mo: 'Pzt', tu: 'Sal', we: 'Ãar', th: 'Per', fr: 'Cum', sa: 'Cmt' },\r\n        //     monthLabels: {\r\n        //         1: 'Oca',\r\n        //         2: 'Åub',\r\n        //         3: 'Mar',\r\n        //         4: 'Nis',\r\n        //         5: 'May',\r\n        //         6: 'Haz',\r\n        //         7: 'Tem',\r\n        //         8: 'AÄu',\r\n        //         9: 'Eyl',\r\n        //         10: 'Eki',\r\n        //         11: 'Kas',\r\n        //         12: 'Ara'\r\n        //     },\r\n        //     dateFormat: 'dd.mm.yyyy',\r\n        //     firstDayOfWeek: 'mo',\r\n        //     sunHighlight: false\r\n        // },\r\n        // 'pt-br': {\r\n        //     dayLabels: { su: 'Dom', mo: 'Seg', tu: 'Ter', we: 'Qua', th: 'Qui', fr: 'Sex', sa: 'Sab' },\r\n        //     monthLabels: {\r\n        //         1: 'Jan',\r\n        //         2: 'Fev',\r\n        //         3: 'Mar',\r\n        //         4: 'Abr',\r\n        //         5: 'Mai',\r\n        //         6: 'Jun',\r\n        //         7: 'Jul',\r\n        //         8: 'Ago',\r\n        //         9: 'Set',\r\n        //         10: 'Out',\r\n        //         11: 'Nov',\r\n        //         12: 'Dez'\r\n        //     },\r\n        //     dateFormat: 'dd/mm/yyyy',\r\n        //     firstDayOfWeek: 'su',\r\n        //     sunHighlight: false\r\n        // },\r\n        // de: {\r\n        //     dayLabels: { su: 'So', mo: 'Mo', tu: 'Di', we: 'Mi', th: 'Do', fr: 'Fr', sa: 'Sa' },\r\n        //     monthLabels: {\r\n        //         1: 'Jan',\r\n        //         2: 'Feb',\r\n        //         3: 'MÃ¤r',\r\n        //         4: 'Apr',\r\n        //         5: 'Mai',\r\n        //         6: 'Jun',\r\n        //         7: 'Jul',\r\n        //         8: 'Aug',\r\n        //         9: 'Sep',\r\n        //         10: 'Okt',\r\n        //         11: 'Nov',\r\n        //         12: 'Dez'\r\n        //     },\r\n        //     dateFormat: 'dd.mm.yyyy',\r\n        //     firstDayOfWeek: 'mo',\r\n        //     sunHighlight: false\r\n        // },\r\n        // 'de-ch': {\r\n        //     dayLabels: { su: 'So', mo: 'Mo', tu: 'Di', we: 'Mi', th: 'Do', fr: 'Fr', sa: 'Sa' },\r\n        //     monthLabels: {\r\n        //         1: 'Jan',\r\n        //         2: 'Feb',\r\n        //         3: 'MÃ¤r',\r\n        //         4: 'Apr',\r\n        //         5: 'Mai',\r\n        //         6: 'Jun',\r\n        //         7: 'Jul',\r\n        //         8: 'Aug',\r\n        //         9: 'Sep',\r\n        //         10: 'Okt',\r\n        //         11: 'Nov',\r\n        //         12: 'Dez'\r\n        //     },\r\n        //     dateFormat: 'dd.mm.yyyy',\r\n        //     firstDayOfWeek: 'mo',\r\n        //     sunHighlight: false\r\n        // },\r\n        // it: {\r\n        //     dayLabels: { su: 'Dom', mo: 'Lun', tu: 'Mar', we: 'Mer', th: 'Gio', fr: 'Ven', sa: 'Sab' },\r\n        //     monthLabels: {\r\n        //         1: 'Gen',\r\n        //         2: 'Feb',\r\n        //         3: 'Mar',\r\n        //         4: 'Apr',\r\n        //         5: 'Mag',\r\n        //         6: 'Giu',\r\n        //         7: 'Lug',\r\n        //         8: 'Ago',\r\n        //         9: 'Set',\r\n        //         10: 'Ott',\r\n        //         11: 'Nov',\r\n        //         12: 'Dic'\r\n        //     },\r\n        //     dateFormat: 'dd/mm/yyyy',\r\n        //     firstDayOfWeek: 'mo',\r\n        //     sunHighlight: false\r\n        // },\r\n        // 'it-ch': {\r\n        //     dayLabels: { su: 'Dom', mo: 'Lun', tu: 'Mar', we: 'Mer', th: 'Gio', fr: 'Ven', sa: 'Sab' },\r\n        //     monthLabels: {\r\n        //         1: 'Gen',\r\n        //         2: 'Feb',\r\n        //         3: 'Mar',\r\n        //         4: 'Apr',\r\n        //         5: 'Mag',\r\n        //         6: 'Giu',\r\n        //         7: 'Lug',\r\n        //         8: 'Ago',\r\n        //         9: 'Set',\r\n        //         10: 'Ott',\r\n        //         11: 'Nov',\r\n        //         12: 'Dic'\r\n        //     },\r\n        //     dateFormat: 'dd.mm.yyyy',\r\n        //     firstDayOfWeek: 'mo',\r\n        //     sunHighlight: false\r\n        // },\r\n        // pl: {\r\n        //     dayLabels: { su: 'Nie', mo: 'Pon', tu: 'Wto', we: 'Åro', th: 'Czw', fr: 'PiÄ', sa: 'Sob' },\r\n        //     monthLabels: {\r\n        //         1: 'Sty',\r\n        //         2: 'Lut',\r\n        //         3: 'Mar',\r\n        //         4: 'Kwi',\r\n        //         5: 'Maj',\r\n        //         6: 'Cze',\r\n        //         7: 'Lip',\r\n        //         8: 'Sie',\r\n        //         9: 'Wrz',\r\n        //         10: 'PaÅº',\r\n        //         11: 'Lis',\r\n        //         12: 'Gru'\r\n        //     },\r\n        //     dateFormat: 'yyyy-mm-dd',\r\n        //     firstDayOfWeek: 'mo',\r\n        //     sunHighlight: false\r\n        // },\r\n        // my: {\r\n        //     dayLabels: {\r\n        //         su: 'ááááºá¹ááá½á±',\r\n        //         mo: 'ááááºá¹áá¬',\r\n        //         tu: 'á¡ááºá¹áá«',\r\n        //         we: 'áá¯áá¹ááá°á¸',\r\n        //         th: 'áá¼áááá±á¸',\r\n        //         fr: 'áá±á¬áá¼á¬',\r\n        //         sa: 'ááá±'\r\n        //     },\r\n        //     monthLabels: {\r\n        //         1: 'áááºááá«áá®',\r\n        //         2: 'áá±áá±á¬áºáá«áá®',\r\n        //         3: 'áááº',\r\n        //         4: 'á§áá¼á®',\r\n        //         5: 'áá±',\r\n        //         6: 'áá½ááº',\r\n        //         7: 'áá°áá­á¯ááº',\r\n        //         8: 'á©áá¯ááº',\r\n        //         9: 'áááºáááºáá¬',\r\n        //         10: 'á¡á±á¬ááºáá­á¯áá¬',\r\n        //         11: 'áá­á¯áááºáá¬',\r\n        //         12: 'áá®áááºáá¬'\r\n        //     },\r\n        //     dateFormat: 'yyyy-mm-dd',\r\n        //     firstDayOfWeek: 'mo',\r\n        //     sunHighlight: false\r\n        // },\r\n        // sk: {\r\n        //     dayLabels: { su: 'Ne', mo: 'Po', tu: 'Ut', we: 'St', th: 'Å t', fr: 'Pi', sa: 'So' },\r\n        //     monthLabels: {\r\n        //         1: 'Jan',\r\n        //         2: 'Feb',\r\n        //         3: 'Mar',\r\n        //         4: 'Apr',\r\n        //         5: 'MÃ¡j',\r\n        //         6: 'JÃºn',\r\n        //         7: 'JÃºl',\r\n        //         8: 'Aug',\r\n        //         9: 'Sep',\r\n        //         10: 'Okt',\r\n        //         11: 'Nov',\r\n        //         12: 'Dec'\r\n        //     },\r\n        //     dateFormat: 'dd.mm.yyyy',\r\n        //     firstDayOfWeek: 'mo',\r\n        //     sunHighlight: false\r\n        // },\r\n        // sl: {\r\n        //     dayLabels: { su: 'Ned', mo: 'Pon', tu: 'Tor', we: 'Sre', th: 'Äet', fr: 'Pet', sa: 'Sob' },\r\n        //     monthLabels: {\r\n        //         1: 'Jan',\r\n        //         2: 'Feb',\r\n        //         3: 'Mar',\r\n        //         4: 'Apr',\r\n        //         5: 'Maj',\r\n        //         6: 'Jun',\r\n        //         7: 'Jul',\r\n        //         8: 'Avg',\r\n        //         9: 'Sep',\r\n        //         10: 'Okt',\r\n        //         11: 'Nov',\r\n        //         12: 'Dec'\r\n        //     },\r\n        //     dateFormat: 'dd. mm. yyyy',\r\n        //     firstDayOfWeek: 'mo',\r\n        //     sunHighlight: false\r\n        // },\r\n        // ro: {\r\n        //     dayLabels: { su: 'du', mo: 'lu', tu: 'ma', we: 'mi', th: 'jo', fr: 'vi', sa: 'sa' },\r\n        //     monthLabels: {\r\n        //         1: 'ian',\r\n        //         2: 'feb',\r\n        //         3: 'mart',\r\n        //         4: 'apr',\r\n        //         5: 'mai',\r\n        //         6: 'iun',\r\n        //         7: 'iul',\r\n        //         8: 'aug',\r\n        //         9: 'sept',\r\n        //         10: 'oct',\r\n        //         11: 'nov',\r\n        //         12: 'dec'\r\n        //     },\r\n        //     dateFormat: 'dd.mm.yyyy',\r\n        //     firstDayOfWeek: 'mo',\r\n        //     sunHighlight: false\r\n        // },\r\n        // ca: {\r\n        //     dayLabels: { su: 'dg', mo: 'dl', tu: 'dt', we: 'dc', th: 'dj', fr: 'dv', sa: 'ds' },\r\n        //     monthLabels: {\r\n        //         1: 'Gen',\r\n        //         2: 'Febr',\r\n        //         3: 'MarÃ§',\r\n        //         4: 'Abr',\r\n        //         5: 'Maig',\r\n        //         6: 'Juny',\r\n        //         7: 'Jul',\r\n        //         8: 'Ag',\r\n        //         9: 'Set',\r\n        //         10: 'Oct',\r\n        //         11: 'Nov',\r\n        //         12: 'Des'\r\n        //     },\r\n        //     dateFormat: 'dd.mm.yyyy',\r\n        //     firstDayOfWeek: 'mo',\r\n        //     sunHighlight: false\r\n        // },\r\n        // id: {\r\n        //     dayLabels: { su: 'Min', mo: 'Sen', tu: 'Sel', we: 'Rab', th: 'Kam', fr: 'Jum', sa: 'Sab' },\r\n        //     monthLabels: {\r\n        //         1: 'Jan',\r\n        //         2: 'Feb',\r\n        //         3: 'Mar',\r\n        //         4: 'Apr',\r\n        //         5: 'Mei',\r\n        //         6: 'Jun',\r\n        //         7: 'Jul',\r\n        //         8: 'Ags',\r\n        //         9: 'Sep',\r\n        //         10: 'Okt',\r\n        //         11: 'Nov',\r\n        //         12: 'Des'\r\n        //     },\r\n        //     dateFormat: 'dd-mm-yyyy',\r\n        //     firstDayOfWeek: 'su',\r\n        //     sunHighlight: false\r\n        // },\r\n        // 'en-au': {\r\n        //     dayLabels: { su: 'Sun', mo: 'Mon', tu: 'Tue', we: 'Wed', th: 'Thu', fr: 'Fri', sa: 'Sat' },\r\n        //     monthLabels: {\r\n        //         1: 'Jan',\r\n        //         2: 'Feb',\r\n        //         3: 'Mar',\r\n        //         4: 'Apr',\r\n        //         5: 'May',\r\n        //         6: 'Jun',\r\n        //         7: 'Jul',\r\n        //         8: 'Aug',\r\n        //         9: 'Sep',\r\n        //         10: 'Oct',\r\n        //         11: 'Nov',\r\n        //         12: 'Dec'\r\n        //     },\r\n        //     dateFormat: 'dd/mm/yyyy',\r\n        //     firstDayOfWeek: 'mo',\r\n        //     sunHighlight: false\r\n        // },\r\n        // 'am-et': {\r\n        //     dayLabels: { su: 'á¥ááµ', mo: 'á°á', tu: 'áá­á°á', we: 'á¨á¡á', th: 'áááµ', fr: 'áá­á¥', sa: 'áá³á' },\r\n        //     monthLabels: {\r\n        //         1: 'ááá©',\r\n        //         2: 'áá¥á©',\r\n        //         3: 'áá­á½',\r\n        //         4: 'á¤áá¨',\r\n        //         5: 'áá­',\r\n        //         6: 'áá',\r\n        //         7: 'ááá­',\r\n        //         8: 'á¦ááµ',\r\n        //         9: 'á´áá´',\r\n        //         10: 'á¦á­á°',\r\n        //         11: 'áá¬á',\r\n        //         12: 'á²á´á'\r\n        //     },\r\n        //     dateFormat: 'yyyy-mm-dd',\r\n        //     firstDayOfWeek: 'mo',\r\n        //     sunHighlight: false\r\n        // },\r\n        // cs: {\r\n        //     dayLabels: { su: 'Ne', mo: 'Po', tu: 'Ãt', we: 'St', th: 'Ät', fr: 'PÃ¡', sa: 'So' },\r\n        //     monthLabels: {\r\n        //         1: 'Led',\r\n        //         2: 'Ãno',\r\n        //         3: 'BÅe',\r\n        //         4: 'Dub',\r\n        //         5: 'KvÄ',\r\n        //         6: 'Ävn',\r\n        //         7: 'Ävc',\r\n        //         8: 'Srp',\r\n        //         9: 'ZÃ¡Å',\r\n        //         10: 'ÅÃ­j',\r\n        //         11: 'Lis',\r\n        //         12: 'Pro'\r\n        //     },\r\n        //     dateFormat: 'dd.mm.yyyy',\r\n        //     firstDayOfWeek: 'mo',\r\n        //     sunHighlight: false\r\n        // },\r\n        // el: {\r\n        //     dayLabels: { su: 'ÎÏÏ', mo: 'ÎÎµÏ', tu: 'Î¤ÏÎ¹', we: 'Î¤ÎµÏ', th: 'Î ÎµÎ¼', fr: 'Î Î±Ï', sa: 'Î£Î±Î²' },\r\n        //     monthLabels: {\r\n        //         1: 'ÎÎ±Î½',\r\n        //         2: 'Î¦ÎµÎ²',\r\n        //         3: 'ÎÎ±Ï',\r\n        //         4: 'ÎÏÏ',\r\n        //         5: 'ÎÎ±Î¹',\r\n        //         6: 'ÎÎ¿ÏÎ½',\r\n        //         7: 'ÎÎ¿ÏÎ»',\r\n        //         8: 'ÎÏÎ³',\r\n        //         9: 'Î£ÎµÏ',\r\n        //         10: 'ÎÎºÏ',\r\n        //         11: 'ÎÎ¿Îµ',\r\n        //         12: 'ÎÎµÎº'\r\n        //     },\r\n        //     dateFormat: 'dd/mm/yyyy',\r\n        //     firstDayOfWeek: 'mo',\r\n        //     sunHighlight: false\r\n        // },\r\n        // kk: {\r\n        //     dayLabels: { su: 'ÐÐº', mo: 'ÐÑ', tu: 'Ð¡Ñ', we: 'Ð¡Ñ', th: 'ÐÑ', fr: 'ÐÐ¼', sa: 'Ð¡Ð±' },\r\n        //     monthLabels: {\r\n        //         1: 'ÒÐ°Ò£',\r\n        //         2: 'ÐÒÐ¿',\r\n        //         3: 'ÐÐ°Ñ',\r\n        //         4: 'Ð¡ÓÑ',\r\n        //         5: 'ÐÐ°Ð¼',\r\n        //         6: 'ÐÐ°Ñ',\r\n        //         7: 'Ð¨ÑÐ»',\r\n        //         8: 'Ð¢Ð°Ð¼',\r\n        //         9: 'ÒÑÑÐº',\r\n        //         10: 'ÒÐ°Ð·',\r\n        //         11: 'ÒÐ°Ñ',\r\n        //         12: 'ÐÐµÐ»Ñ'\r\n        //     },\r\n        //     dateFormat: 'dd-mmm-yyyy',\r\n        //     firstDayOfWeek: 'mo',\r\n        //     sunHighlight: false\r\n        // },\r\n        // th: {\r\n        //     dayLabels: { su: 'à¸­à¸²', mo: 'à¸', tu: 'à¸­', we: 'à¸', th: 'à¸à¸¤', fr: 'à¸¨', sa: 'à¸ª' },\r\n        //     monthLabels: {\r\n        //         1: 'à¸¡.à¸',\r\n        //         2: 'à¸.à¸.',\r\n        //         3: 'à¸¡à¸µ.à¸.',\r\n        //         4: 'à¹à¸¡.à¸¢.',\r\n        //         5: 'à¸.à¸.',\r\n        //         6: 'à¸¡à¸´.à¸¢.',\r\n        //         7: 'à¸.à¸.',\r\n        //         8: 'à¸ª.à¸.',\r\n        //         9: 'à¸.à¸¢.',\r\n        //         10: 'à¸.à¸.',\r\n        //         11: 'à¸.à¸¢.',\r\n        //         12: 'à¸.à¸.'\r\n        //     },\r\n        //     dateFormat: 'dd-mm-yyyy',\r\n        //     firstDayOfWeek: 'su',\r\n        //     sunHighlight: false\r\n        // },\r\n        // 'ko-kr': {\r\n        //     dayLabels: { su: 'ì¼', mo: 'ì', tu: 'í', we: 'ì', th: 'ëª©', fr: 'ê¸', sa: 'í ' },\r\n        //     monthLabels: {\r\n        //         1: '1ì',\r\n        //         2: '2ì',\r\n        //         3: '3ì',\r\n        //         4: '4ì',\r\n        //         5: '5ì',\r\n        //         6: '6ì',\r\n        //         7: '7ì',\r\n        //         8: '8ì',\r\n        //         9: '9ì',\r\n        //         10: '10ì',\r\n        //         11: '11ì',\r\n        //         12: '12ì'\r\n        //     },\r\n        //     dateFormat: 'yyyy mm dd',\r\n        //     firstDayOfWeek: 'su',\r\n        //     sunHighlight: false\r\n        // },\r\n        // da: {\r\n        //     dayLabels: { su: 'SÃ¸n', mo: 'Man', tu: 'Tir', we: 'Ons', th: 'Tor', fr: 'Fre', sa: 'LÃ¸r' },\r\n        //     monthLabels: {\r\n        //         1: 'Jan',\r\n        //         2: 'Feb',\r\n        //         3: 'Mar',\r\n        //         4: 'Apr',\r\n        //         5: 'Maj',\r\n        //         6: 'Jun',\r\n        //         7: 'Jul',\r\n        //         8: 'Aug',\r\n        //         9: 'Sep',\r\n        //         10: 'Okt',\r\n        //         11: 'Nov',\r\n        //         12: 'Dec'\r\n        //     },\r\n        //     dateFormat: 'dd-mm-yyyy',\r\n        //     firstDayOfWeek: 'mo',\r\n        //     sunHighlight: false\r\n        // },\r\n        // lt: {\r\n        //     dayLabels: { su: 'Sk', mo: 'Pr', tu: 'An', we: 'Tr', th: 'Kt', fr: 'Pn', sa: 'Å t' },\r\n        //     monthLabels: {\r\n        //         1: 'Saus.',\r\n        //         2: 'Vas.',\r\n        //         3: 'Kov.',\r\n        //         4: 'Bal.',\r\n        //         5: 'Geg.',\r\n        //         6: 'BirÅ¾.',\r\n        //         7: 'Liep.',\r\n        //         8: 'Rugp.',\r\n        //         9: 'Rugs.',\r\n        //         10: 'Sapl.',\r\n        //         11: 'Lapkr.',\r\n        //         12: 'Gruod.'\r\n        //     },\r\n        //     dateFormat: 'yyyy-mm-dd',\r\n        //     firstDayOfWeek: 'mo',\r\n        //     sunHighlight: false\r\n        // },\r\n        // vi: {\r\n        //     dayLabels: { su: 'CN', mo: 'T2', tu: 'T3', we: 'T4', th: 'T5', fr: 'T6', sa: 'T7' },\r\n        //     monthLabels: {\r\n        //         1: 'THG 1',\r\n        //         2: 'THG 2',\r\n        //         3: 'THG 3',\r\n        //         4: 'THG 4',\r\n        //         5: 'THG 5',\r\n        //         6: 'THG 6',\r\n        //         7: 'THG 7',\r\n        //         8: 'THG 8',\r\n        //         9: 'THG 9',\r\n        //         10: 'THG 10',\r\n        //         11: 'THG 11',\r\n        //         12: 'THG 12'\r\n        //     },\r\n        //     dateFormat: 'dd/mm/yyyy',\r\n        //     firstDayOfWeek: 'mo',\r\n        //     sunHighlight: false\r\n        // },\r\n        // bn: {\r\n        //     dayLabels: { su: 'à¦°à¦¬à¦¿', mo: 'à¦¸à§à¦®', tu: 'à¦®à¦à§à¦à¦²', we: 'à¦¬à§à¦§', th: 'à¦¬à§à¦¹à¦', fr: 'à¦¶à§à¦à§à¦°', sa: 'à¦¶à¦¨à¦¿' },\r\n        //     monthLabels: {\r\n        //         1: 'à¦à¦¾à¦¨à§',\r\n        //         2: 'à¦«à§à¦¬à§à¦°à§',\r\n        //         3: 'à¦®à¦¾à¦°à§à¦',\r\n        //         4: 'à¦à¦ªà§à¦°à¦¿à¦²',\r\n        //         5: 'à¦®à§',\r\n        //         6: 'à¦à§à¦¨',\r\n        //         7: 'à¦à§à¦²à¦¾à¦',\r\n        //         8: 'à¦à¦à¦¸à§à¦',\r\n        //         9: 'à¦¸à§à¦ªà§à¦à§',\r\n        //         10: 'à¦à¦à§à¦à§',\r\n        //         11: 'à¦¨à¦­à§',\r\n        //         12: 'à¦¡à¦¿à¦¸à§'\r\n        //     },\r\n        //     dateFormat: 'dd-mm-yyyy',\r\n        //     firstDayOfWeek: 'su',\r\n        //     sunHighlight: false\r\n        // },\r\n        // bg: {\r\n        //     dayLabels: { su: 'Ð½Ð´', mo: 'Ð¿Ð½', tu: 'Ð²Ñ', we: 'ÑÑ', th: 'ÑÑ', fr: 'Ð¿Ñ', sa: 'ÑÐ±' },\r\n        //     monthLabels: {\r\n        //         1: 'ÑÐ½Ñ.',\r\n        //         2: 'ÑÐµÐ².',\r\n        //         3: 'Ð¼Ð°ÑÑ',\r\n        //         4: 'Ð°Ð¿Ñ.',\r\n        //         5: 'Ð¼Ð°Ð¹',\r\n        //         6: 'ÑÐ½Ð¸',\r\n        //         7: 'ÑÐ»Ð¸',\r\n        //         8: 'Ð°Ð²Ð³.',\r\n        //         9: 'ÑÐµÐ¿.',\r\n        //         10: 'Ð¾ÐºÑ.',\r\n        //         11: 'Ð½Ð¾Ðµ.',\r\n        //         12: 'Ð´ÐµÐº.'\r\n        //     },\r\n        //     dateFormat: 'dd.mm.yyyy',\r\n        //     firstDayOfWeek: 'mo',\r\n        //     sunHighlight: false\r\n        // },\r\n        // hr: {\r\n        //     dayLabels: { su: 'Ne', mo: 'Po', tu: 'Ul', we: 'Sr', th: 'Äe', fr: 'Pe', sa: 'Su' },\r\n        //     monthLabels: {\r\n        //         1: 'Sij',\r\n        //         2: 'Vel',\r\n        //         3: 'OÅ¾u',\r\n        //         4: 'Tra',\r\n        //         5: 'Svi',\r\n        //         6: 'Lip',\r\n        //         7: 'Srp',\r\n        //         8: 'Kol',\r\n        //         9: 'Ruj',\r\n        //         10: 'Lis',\r\n        //         11: 'Stu',\r\n        //         12: 'Pro'\r\n        //     },\r\n        //     dateFormat: 'dd.mm.yyyy.',\r\n        //     firstDayOfWeek: 'su',\r\n        //     sunHighlight: false\r\n        // },\r\n        // ar: {\r\n        //     dayLabels: {\r\n        //         su: 'Ø§ÙØ£Ø­Ø¯',\r\n        //         mo: 'Ø§ÙØ§Ø«ÙÙÙ',\r\n        //         tu: 'Ø§ÙØ«ÙØ§Ø«Ø§Ø¡',\r\n        //         we: 'Ø§ÙØ§Ø±Ø¨Ø¹Ø§Ø¡',\r\n        //         th: 'Ø§ÙØ®ÙÙØ³',\r\n        //         fr: 'Ø§ÙØ¬ÙØ¹Ø©',\r\n        //         sa: 'Ø§ÙØ³Ø¨Øª'\r\n        //     },\r\n        //     monthLabels: {\r\n        //         1: 'ÙÙØ§ÙØ±',\r\n        //         2: 'ÙØ¨Ø±Ø§ÙØ±',\r\n        //         3: 'ÙØ§Ø±Ø³',\r\n        //         4: 'Ø§Ø¨Ø±ÙÙ',\r\n        //         5: 'ÙØ§ÙÙ',\r\n        //         6: 'ÙÙÙÙÙ',\r\n        //         7: 'ÙÙÙÙÙ',\r\n        //         8: 'Ø£ØºØ³Ø·Ø³',\r\n        //         9: 'Ø³Ø¨ØªÙØ¨Ø±',\r\n        //         10: 'Ø£ÙØªÙØ¨Ø±',\r\n        //         11: 'ÙÙÙÙØ¨Ø±',\r\n        //         12: 'Ø¯ÙØ³ÙØ¨Ø±'\r\n        //     },\r\n        //     dateFormat: 'yyyy-mm-dd',\r\n        //     firstDayOfWeek: 'sa',\r\n        //     sunHighlight: false\r\n        // },\r\n        // is: {\r\n        //     dayLabels: { su: 'sun', mo: 'mÃ¡n', tu: 'Ã¾ri', we: 'miÃ°', th: 'fim', fr: 'fÃ¶s', sa: 'lau' },\r\n        //     monthLabels: {\r\n        //         1: 'jan',\r\n        //         2: 'feb',\r\n        //         3: 'mar',\r\n        //         4: 'apr',\r\n        //         5: 'maÃ­',\r\n        //         6: 'jÃºn',\r\n        //         7: 'jÃºl',\r\n        //         8: 'Ã¡gÃº',\r\n        //         9: 'sep',\r\n        //         10: 'okt',\r\n        //         11: 'nÃ³v',\r\n        //         12: 'des'\r\n        //     },\r\n        //     dateFormat: 'dd.mm.yyyy',\r\n        //     firstDayOfWeek: 'su',\r\n        //     sunHighlight: false\r\n        // },\r\n        // tw: {\r\n        //     dayLabels: { su: 'é±æ¥', mo: 'é±ä¸', tu: 'é±äº', we: 'é±ä¸', th: 'é±å', fr: 'é±äº', sa: 'é±å­' },\r\n        //     monthLabels: {\r\n        //         1: 'ä¸æ',\r\n        //         2: 'äºæ',\r\n        //         3: 'ä¸æ',\r\n        //         4: 'åæ',\r\n        //         5: 'äºæ',\r\n        //         6: 'å­æ',\r\n        //         7: 'ä¸æ',\r\n        //         8: 'å«æ',\r\n        //         9: 'ä¹æ',\r\n        //         10: 'åæ',\r\n        //         11: 'åä¸æ',\r\n        //         12: 'åäºæ'\r\n        //     },\r\n        //     dateFormat: 'yyyy-mm-dd',\r\n        //     firstDayOfWeek: 'mo',\r\n        //     sunHighlight: false\r\n        // },\r\n        // lv: {\r\n        //     dayLabels: { su: 'S', mo: 'P', tu: 'O', we: 'T', th: 'C', fr: 'P', sa: 'S' },\r\n        //     monthLabels: {\r\n        //         1: 'Janv',\r\n        //         2: 'Febr',\r\n        //         3: 'Marts',\r\n        //         4: 'Apr',\r\n        //         5: 'Maijs',\r\n        //         6: 'JÅ«n',\r\n        //         7: 'JÅ«l',\r\n        //         8: 'Aug',\r\n        //         9: 'Sept',\r\n        //         10: 'Okt',\r\n        //         11: 'Nov',\r\n        //         12: 'Dec'\r\n        //     },\r\n        //     dateFormat: 'dd.mm.yyyy',\r\n        //     firstDayOfWeek: 'mo',\r\n        //     sunHighlight: false\r\n        // },\r\n        // et: {\r\n        //     dayLabels: { su: 'P', mo: 'E', tu: 'T', we: 'K', th: 'N', fr: 'R', sa: 'L' },\r\n        //     monthLabels: {\r\n        //         1: 'Jaan',\r\n        //         2: 'Veebr',\r\n        //         3: 'MÃ¤rts',\r\n        //         4: 'Apr',\r\n        //         5: 'Mai',\r\n        //         6: 'Juuni',\r\n        //         7: 'Juuli',\r\n        //         8: 'Aug',\r\n        //         9: 'Sept',\r\n        //         10: 'Okt',\r\n        //         11: 'Nov',\r\n        //         12: 'Dets'\r\n        //     },\r\n        //     dateFormat: 'dd.mm.yyyy',\r\n        //     firstDayOfWeek: 'mo',\r\n        //     sunHighlight: false\r\n        // }\r\n    };\r\n\r\n    getLocaleOptions(locale: string): IMyOptions {\r\n        if (locale && this.locales.hasOwnProperty(locale)) {\r\n            // User given locale\r\n            return this.locales[locale];\r\n        }\r\n        // Default: en\r\n        return this.locales[DEFAULT_LOCALE];\r\n    }\r\n}\r\n","/*\r\n * @Author: ç¯çç§æ(Lucas Huang)\r\n * @Date: 2019-09-04 07:40:04\r\n * @LastEditors: ç¯çç§æ(Lucas Huang)\r\n * @LastEditTime: 2019-09-04 15:21:46\r\n * @QQ: 1055818239\r\n * @Version: v0.0.1\r\n */\r\nimport { Injectable } from '@angular/core';\r\nimport {\r\n    IMyDateModel,\r\n    IMySingleDateModel,\r\n    IMyDateRangeModel,\r\n    IMyDate,\r\n    IMyDateRange,\r\n    IMyMonth,\r\n    IMyMonthLabels,\r\n    IMyMarkedDates,\r\n    IMyMarkedDate,\r\n    IMyDateFormat,\r\n    IMyOptions\r\n} from '../interfaces/public-api';\r\nimport { KeyCode, KeyName, ShowType } from '../enums/public-api';\r\nimport { D, DD, M, MM, MMM, YYYY, SU, MO, TU, WE, TH, FR, SA, ZERO_STR, EMPTY_STR } from '../constants/constants';\r\nimport { DynamicData, DynamicDateType } from '../interfaces/dynamic-data-type.interface';\r\n\r\nimport { orderBy } from 'lodash-es';\r\nimport { MultiSelectedOrderBy } from '../interfaces/my-options.interface';\r\n\r\n@Injectable()\r\nexport class UtilService {\r\n    weekDays: Array<string> = [SU, MO, TU, WE, TH, FR, SA];\r\n\r\n    isDateValid(dateStr: string, options: IMyOptions, isReturn = false): IMyDate {\r\n        // tslint:disable-next-line:one-variable-per-declaration\r\n        let _dateStr: string, hour = 0, minute = 0, second = 0;\r\n\r\n        const returnDate: IMyDate = this.resetDate();\r\n\r\n        if (!dateStr || !dateStr.length) {\r\n            return returnDate;\r\n        }\r\n\r\n        const { dateFormat, minYear, maxYear, monthLabels, showTime, returnFormat, showType } = options;\r\n        let _st = showTime;\r\n        let formatStr = dateFormat;\r\n        if (isReturn) {\r\n            formatStr = returnFormat.replace(/[å¹´,æ]/g, '-').replace(/[æ¥]/, '').replace(/[æ¶,å]/g, ':').replace(/[ç§]/g, '');\r\n            dateStr = dateStr.replace(/[å¹´,æ]/g, '-').replace(/[æ¥]/, '').replace(/[æ¶,å]/g, ':').replace(/[ç§]/g, '');\r\n\r\n            if (dateStr[dateStr.length - 1] === '-' || dateStr[dateStr.length - 1] === ':') {\r\n                dateStr = dateStr.substring(0, dateStr.length - 1);\r\n            }\r\n\r\n            if (!showTime && returnFormat.toLocaleLowerCase().indexOf('hh:mm') > -1) {\r\n                _st = true;\r\n            }\r\n        }\r\n\r\n        const daysInMonth: Array<number> = [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];\r\n        const isMonthStr: boolean = formatStr.indexOf(MMM) !== -1;\r\n        let delimeters: Array<string> = formatStr.match(/[^(DdMmYy)]{1,}/g);\r\n        if (_st && dateStr) {\r\n            _dateStr = dateStr.split(' ')[0];\r\n            Object.assign(returnDate, { hour: 0, minute: 0, second: 0 });\r\n            const timeStr = dateStr.split(' ')[1];\r\n            if (timeStr) {\r\n                const _timer = timeStr.replace('æ¶', ':').replace('å', ':').replace('ç§', '').split(':');\r\n                if (_timer[0]) {\r\n                    hour = Number(_timer[0].substr(0, 2));\r\n                    hour = isNaN(hour) ? 0 : hour;\r\n                }\r\n                if (_timer[1]) {\r\n                    minute = Number(_timer[1].substr(0, 2));\r\n                    minute = isNaN(minute) ? 0 : minute;\r\n                }\r\n\r\n                if (_timer[2]) {\r\n                    second = Number(_timer[2].substr(0, 2));\r\n                    second = isNaN(second) ? 0 : second;\r\n                }\r\n            } else {\r\n                delimeters = undefined;\r\n                const reg = /^\\d{1,}$/;\r\n                if (reg.test(dateStr)) { // éªè¯ä¼ å¥çæ ¼å¼ä¸º yyyyMMddHHmmss\r\n                    const df = formatStr;\r\n                    _dateStr = dateStr.substr(0, 8);\r\n                    let _timer = dateStr.substr(8);\r\n                    if (_timer) {\r\n                        if (df.includes('HH')) {\r\n                            if (_timer) {\r\n                                hour = +_timer.slice(0, 2);\r\n                                _timer = _timer.slice(2);\r\n                            }\r\n                        }\r\n                        if (df.includes('mm')) {\r\n                            if (_timer) {\r\n                                minute = +_timer.slice(0, 2);\r\n                                _timer = _timer.slice(2);\r\n                            }\r\n                        }\r\n                        if (df.includes('ss')) {\r\n                            if (_timer) {\r\n                                second = +_timer.slice(0, 2);\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        } else {\r\n            _dateStr = dateStr ? dateStr.split(' ')[0] : '';\r\n        }\r\n        const dateValue: Array<IMyDateFormat> = this.getDateValue(_dateStr, formatStr, delimeters);\r\n\r\n        const year: number = this.getNumberByValue(dateValue[0]);\r\n        const month: number = isMonthStr\r\n            ? this.getMonthNumberByMonthName(dateValue[1], monthLabels)\r\n            : this.getNumberByValue(dateValue[1]);\r\n        const day: number = this.getNumberByValue(dateValue[2]);\r\n\r\n        if (showType === ShowType.noDateAndMonth) {\r\n            return { year, month: 1, day: 1 };\r\n        }\r\n\r\n        if (month !== -1 && day !== -1 && year !== -1) {\r\n            if (year < minYear || year > maxYear || month < 1 || month > 12) {\r\n                return returnDate;\r\n            }\r\n            const date: IMyDate = _st ? { year, month, day, hour, minute, second } : { year, month, day };\r\n\r\n            if (this.isDisabledDate(date, options)) {\r\n                return returnDate;\r\n            }\r\n\r\n            if (year % 400 === 0 || (year % 100 !== 0 && year % 4 === 0)) {\r\n                daysInMonth[1] = 29;\r\n            }\r\n\r\n            if (day < 1 || day > daysInMonth[month - 1]) {\r\n                return returnDate;\r\n            }\r\n\r\n            // Valid date\r\n            if (options.showType === ShowType.noDate) {\r\n                return { year: date.year, month: date.month };\r\n            } else if (options.showType === ShowType.noDateAndMonth) {\r\n                return { year: date.year };\r\n            } else {\r\n                return date;\r\n            }\r\n        }\r\n        return returnDate;\r\n    }\r\n\r\n    isDateValidDateRange(dateRangeStr: string, options: IMyOptions): IMyDateRange {\r\n        let dateRange: IMyDateRange = {\r\n            begin: this.resetDate(),\r\n            end: this.resetDate()\r\n        };\r\n        if (dateRangeStr && dateRangeStr.length) {\r\n            const dates: Array<string> = dateRangeStr.split(options.dateRangeDatesDelimiter);\r\n            if (dates && dates.length === 2) {\r\n                const [beginDate, endDate] = dates;\r\n                const begin: IMyDate = this.isDateValid(beginDate, options, true);\r\n                if (this.isInitializedDate(begin)) {\r\n                    const end: IMyDate = this.isDateValid(endDate, options, true);\r\n\r\n                    if (this.isInitializedDate(end) && this.isDateSameOrEarlier(begin, end)) {\r\n                        dateRange = { begin, end };\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return dateRange;\r\n    }\r\n\r\n    getDateValue(dateStr: string, dateFormat: string, delimeters: Array<string>): Array<IMyDateFormat> {\r\n        const da: Array<IMyDateFormat> = [];\r\n\r\n        if (delimeters) {\r\n            let del: string = delimeters[0];\r\n            if (delimeters[0] !== delimeters[1]) {\r\n                del = delimeters[0] + delimeters[1];\r\n                if (delimeters[2] && delimeters[1] !== delimeters[2]) {\r\n                    del = del + delimeters[2];\r\n                }\r\n            }\r\n            const re: any = new RegExp('[' + del + ']');\r\n            const ds: Array<string> = dateStr.split(re);\r\n            const df: Array<string> = dateFormat.split(re);\r\n            for (let i = 0; i < df.length; i++) {\r\n                if (df[i].indexOf(YYYY) !== -1) {\r\n                    da[0] = { value: ds[i], format: df[i] };\r\n                }\r\n                if (df[i].indexOf(M) !== -1) {\r\n                    da[1] = ds[i] === undefined ? { value: '1', format: df[i] } : { value: ds[i], format: df[i] };\r\n                }\r\n                if (df[i].indexOf(D) !== -1) {\r\n                    da[2] = ds[i] === undefined ? { value: '1', format: df[i] } : { value: ds[i], format: df[i] };\r\n                }\r\n            }\r\n        } else {\r\n            const yearIndex = (dateFormat + '').indexOf(YYYY);\r\n            const monthIndex = (dateFormat + '').indexOf(MM);\r\n            const dayIndex = (dateFormat + '').indexOf(DD);\r\n            if (yearIndex >= 0) {\r\n                da[0] = { value: dateStr.substring(yearIndex, yearIndex + 4), format: dateFormat.substring(yearIndex, yearIndex + 4) };\r\n            }\r\n            if (monthIndex >= 0) {\r\n                da[1] = { value: dateStr.substring(monthIndex, monthIndex + 2), format: dateFormat.substring(monthIndex, monthIndex + 2) };\r\n            }\r\n            if (dayIndex >= 0) {\r\n                da[2] = { value: dateStr.substring(dayIndex, dayIndex + 2) || '01', format: dateFormat.substring(dayIndex, dayIndex + 2) };\r\n            }\r\n        }\r\n        return da;\r\n    }\r\n\r\n    getMonthNumberByMonthName(df: IMyDateFormat, monthLabels: IMyMonthLabels): number {\r\n        if (df.value) {\r\n            for (let key = 1; key <= 12; key++) {\r\n                if (df.value.toLowerCase() === monthLabels[key].toLowerCase()) {\r\n                    return key;\r\n                }\r\n            }\r\n        }\r\n        return -1;\r\n    }\r\n\r\n    getNumberByValue(df: IMyDateFormat): number {\r\n        if (!df) {\r\n            return 1;\r\n        }\r\n        if (!/^\\d+$/.test(df.value)) {\r\n            return -1;\r\n        }\r\n\r\n        let nbr: number = Number(df.value);\r\n        if (\r\n            (df.format.length === 1 && df.value.length !== 1 && nbr < 10) ||\r\n            (df.format.length === 1 && df.value.length !== 2 && nbr >= 10)\r\n        ) {\r\n            nbr = -1;\r\n        } else if (df.format.length === 2 && df.value.length > 2) {\r\n            nbr = -1;\r\n        }\r\n        return nbr;\r\n    }\r\n\r\n    parseDefaultMonth(monthString: string): IMyMonth {\r\n        const month: IMyMonth = { monthTxt: EMPTY_STR, monthNbr: 0, year: 0 };\r\n        if (monthString !== EMPTY_STR) {\r\n            const split = monthString.split(monthString.match(/[^0-9]/)[0]);\r\n            month.monthNbr = split[0].length === 2 ? Number(split[0]) : Number(split[1]);\r\n            month.year = split[0].length === 2 ? Number(split[1]) : Number(split[0]);\r\n        }\r\n        return month;\r\n    }\r\n\r\n    isDisabledDate(date: IMyDate, options: IMyOptions): boolean {\r\n        const {\r\n            minYear,\r\n            maxYear,\r\n            disableUntil,\r\n            disableSince,\r\n            disableWeekends,\r\n            disableDates,\r\n            disableDateRanges,\r\n            disableWeekdays,\r\n            enableDates\r\n        } = options;\r\n\r\n        // for (const d of enableDates) {\r\n        //     if (\r\n        //         (d.year === 0 || d.year === date.year) &&\r\n        //         (d.month === 0 || d.month === date.month) &&\r\n        //         d.day === date.day\r\n        //     ) {\r\n        //         return false;\r\n        //     }\r\n        // }\r\n\r\n        if ((date.year < minYear && date.month === 12) || (date.year > maxYear && date.month === 1)) {\r\n            return true;\r\n        }\r\n        const dateMs: number = this.getTimeInMilliseconds(date);\r\n        if (this.isInitializedDate(disableUntil) && (dateMs + 24 * 60 * 60 * 1000 - 1) < this.getTimeInMilliseconds(disableUntil)) {\r\n            return true;\r\n        }\r\n        if (this.isInitializedDate(disableSince) && dateMs > this.getTimeInMilliseconds(disableSince)) {\r\n            return true;\r\n        }\r\n\r\n        if (disableWeekends) {\r\n            const dayNbr = this.getDayNumber(date);\r\n            if (dayNbr === 0 || dayNbr === 6) {\r\n                return true;\r\n            }\r\n        }\r\n\r\n        const dn = this.getDayNumber(date);\r\n        if (disableWeekdays.length > 0) {\r\n            for (const wd of disableWeekdays) {\r\n                if (dn === this.getWeekdayIndex(wd)) {\r\n                    return true;\r\n                }\r\n            }\r\n        }\r\n\r\n        for (const d of disableDates) {\r\n            if (\r\n                (d.year === 0 || d.year === date.year) &&\r\n                (d.month === 0 || d.month === date.month) &&\r\n                d.day === date.day\r\n            ) {\r\n                return true;\r\n            }\r\n        }\r\n\r\n        for (const d of disableDateRanges) {\r\n            if (\r\n                this.isInitializedDate(d.begin) &&\r\n                this.isInitializedDate(d.end) &&\r\n                dateMs >= this.getTimeInMilliseconds(d.begin) &&\r\n                dateMs <= this.getTimeInMilliseconds(d.end)\r\n            ) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n    isMarkedDate(date: IMyDate, markedDates: Array<IMyMarkedDates>, markWeekends: IMyMarkedDate): IMyMarkedDate {\r\n        for (const md of markedDates) {\r\n            for (const d of md.dates) {\r\n                if (\r\n                    (d.year === 0 || d.year === date.year) &&\r\n                    (d.month === 0 || d.month === date.month) &&\r\n                    d.day === date.day\r\n                ) {\r\n                    return { marked: true, color: md.color };\r\n                }\r\n            }\r\n        }\r\n        if (markWeekends && markWeekends.marked) {\r\n            const dayNbr = this.getDayNumber(date);\r\n            if (dayNbr === 0 || dayNbr === 6) {\r\n                return { marked: true, color: markWeekends.color };\r\n            }\r\n        }\r\n        return { marked: false, color: EMPTY_STR };\r\n    }\r\n\r\n    isHighlightedDate(\r\n        date: IMyDate,\r\n        sunHighlight: boolean,\r\n        satHighlight: boolean,\r\n        highlightDates: Array<IMyDate>\r\n    ): boolean {\r\n        const dayNbr: number = this.getDayNumber(date);\r\n        if ((sunHighlight && dayNbr === 0) || (satHighlight && dayNbr === 6)) {\r\n            return true;\r\n        }\r\n        for (const d of highlightDates) {\r\n            if (\r\n                (d.year === 0 || d.year === date.year) &&\r\n                (d.month === 0 || d.month === date.month) &&\r\n                d.day === date.day\r\n            ) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n    getWeekNumber(date: IMyDate): number {\r\n        const d: Date = new Date(date.year, date.month - 1, date.day, 0, 0, 0, 0);\r\n        d.setDate(d.getDate() + (d.getDay() === 0 ? -3 : 4 - d.getDay()));\r\n        return Math.round((d.getTime() - new Date(d.getFullYear(), 0, 4).getTime()) / 86400000 / 7) + 1;\r\n    }\r\n    \r\n    getNowWeekTime(date: Date): IMyDateRange {\r\n        date.setDate(date.getDate() - ((date.getDay() + 6) % 7));\r\n        const begin = {\r\n            year: date.getFullYear(),\r\n            month: date.getMonth() + 1,\r\n            day: date.getDate()\r\n        };\r\n        date.setDate(date.getDate() + 6);\r\n        const end = {\r\n            year: date.getFullYear(),\r\n            month: date.getMonth() + 1,\r\n            day: date.getDate()\r\n        };\r\n        return { begin, end };\r\n    }\r\n\r\n    isMonthDisabledByDisableUntil(date: IMyDate, disableUntil: IMyDate): boolean {\r\n        return (\r\n            this.isInitializedDate(disableUntil) &&\r\n            this.getTimeInMilliseconds(date) <= this.getTimeInMilliseconds(disableUntil)\r\n        );\r\n    }\r\n\r\n    isMonthDisabledByDisableSince(date: IMyDate, disableSince: IMyDate): boolean {\r\n        return (\r\n            this.isInitializedDate(disableSince) &&\r\n            this.getTimeInMilliseconds(date) >= this.getTimeInMilliseconds(disableSince)\r\n        );\r\n    }\r\n\r\n    getDateModel(\r\n        date: IMyDate,\r\n        dateRange: IMyDateRange,\r\n        dateFormat: string,\r\n        monthLabels: IMyMonthLabels,\r\n        rangeDelimiter: string,\r\n        returnFormat: string,\r\n        dateStr: string = EMPTY_STR\r\n    ): IMyDateModel {\r\n        let singleDateModel: IMySingleDateModel = null;\r\n        let dateRangeModel: IMyDateRangeModel = null;\r\n\r\n        if (date) {\r\n            singleDateModel = {\r\n                date,\r\n                jsDate: this.getDate2(date),\r\n                formatted: dateStr.length ? dateStr : this.formatDate(date, dateFormat, monthLabels),\r\n                returnFormatted: this.formatDate(date, returnFormat, monthLabels),\r\n                epoc: this.getEpocTime(date)\r\n            };\r\n        } else {\r\n            dateRangeModel = {\r\n                beginDate: dateRange.begin,\r\n                beginJsDate: this.getDate(dateRange.begin),\r\n                beginEpoc: this.getEpocTime(dateRange.begin),\r\n                endDate: dateRange.end,\r\n                endJsDate: this.getDate(dateRange.end),\r\n                endEpoc: this.getEpocTime(dateRange.end),\r\n                formatted:\r\n                    this.formatDate(dateRange.begin, dateFormat, monthLabels) +\r\n                    rangeDelimiter +\r\n                    this.formatDate(dateRange.end, dateFormat, monthLabels),\r\n                returnFormatted:\r\n                    this.formatDate(dateRange.begin, returnFormat, monthLabels) +\r\n                    rangeDelimiter +\r\n                    this.formatDate(dateRange.end, returnFormat, monthLabels),\r\n            };\r\n        }\r\n        return {\r\n            isRange: date === null,\r\n            singleDate: singleDateModel,\r\n            dateRange: dateRangeModel\r\n        };\r\n    }\r\n\r\n    formatDate(date: IMyDate, dateFormat: string, monthLabels: IMyMonthLabels): string {\r\n        if (!date.month && dateFormat.indexOf(MM) === -1) {\r\n            dateFormat = this.delete(dateFormat, MM);\r\n        }\r\n        if (!date.day && dateFormat.indexOf(DD) === -1) {\r\n            dateFormat = this.delete(dateFormat, DD);\r\n        }\r\n        let formatted: string = dateFormat.replace(YYYY, String(date.year));\r\n\r\n        if (dateFormat.indexOf(M) === -1) {\r\n            formatted = formatted.replace(MM, '01');\r\n        } else {\r\n            if (dateFormat.indexOf(MMM) !== -1) {\r\n                formatted = formatted.replace(MMM, monthLabels[date.month]);\r\n            } else if (dateFormat.indexOf(MM) !== -1) {\r\n                formatted = formatted.replace(MM, this.preZero(date.month || 1));\r\n            } else {\r\n                formatted = formatted.replace(M, String(date.month || 1));\r\n            }\r\n        }\r\n\r\n        if (dateFormat.indexOf(DD) === -1) {\r\n            formatted = formatted.replace(DD, '01');\r\n        } else if (dateFormat.indexOf(DD) !== -1) {\r\n            formatted = formatted.replace(DD, this.preZero(date.day || 1));\r\n        } else {\r\n            formatted = formatted.replace(D, String(date.day || 1));\r\n        }\r\n\r\n        formatted = formatted.replace('MM', 'mm').replace('HH', this.preZero(date.hour || 0))\r\n        .replace('mm', this.preZero(date.minute || 0))\r\n        .replace('ss', this.preZero(date.second || 0));\r\n\r\n        return formatted && formatted.length > 2 ? formatted : '';\r\n    }\r\n\r\n    delete(format: string, delStr: string) {\r\n        const re = format.match(/[^(DdMmYy)]{1,}/g);\r\n        const index = format.indexOf(delStr);\r\n\r\n        if (index < 0) {\r\n            return format;\r\n        } else if (index === 0) {\r\n            if (re) {\r\n                return format.substring(3);\r\n            } else {\r\n                return format.substring(2);\r\n            }\r\n        } else if (index + 2 === format.length) {\r\n            if (re) {\r\n                return format.substring(0, format.length - 3);\r\n            } else {\r\n                return format.substring(0, format.length - 2);\r\n            }\r\n        } else {\r\n            if (re) {\r\n                return format.substring(0, index) + format.substring(index + 3);\r\n            } else {\r\n                return format.substring(0, index) + format.substring(index + 2);\r\n            }\r\n        }\r\n    }\r\n    getFormattedDate(model: IMyDateModel): string {\r\n        return !model.isRange ? model.singleDate.formatted : model.dateRange.formatted;\r\n    }\r\n\r\n    preZero(val: number): string {\r\n        return val < 10 ? ZERO_STR + Number(val) : String(val);\r\n    }\r\n\r\n    isInitializedDate(date: IMyDate): boolean {\r\n        return date && date.year !== 0 && date.month !== 0 && date.day !== 0;\r\n    }\r\n\r\n    isInitializedMonth(date: IMyDate): boolean {\r\n        return date && date.year !== 0 && date.month !== 0;\r\n    }\r\n\r\n    isInitializedYear(date: IMyDate): boolean {\r\n        return date && date.year !== 0;\r\n    }\r\n\r\n    isDateEarlier(firstDate: IMyDate, secondDate: IMyDate): boolean {\r\n        return this.getTimeInMilliseconds(firstDate) < this.getTimeInMilliseconds(secondDate);\r\n    }\r\n\r\n    isDateSameOrEarlier(firstDate: IMyDate, secondDate: IMyDate): boolean {\r\n        return this.getTimeInMilliseconds(firstDate) <= this.getTimeInMilliseconds(secondDate);\r\n    }\r\n\r\n    isDateSame(firstDate: IMyDate, secondDate: IMyDate): boolean {\r\n        return this.getTimeInMilliseconds(firstDate) === this.getTimeInMilliseconds(secondDate);\r\n    }\r\n\r\n    isDateRangeBeginOrEndSame(dateRange: IMyDateRange, date: IMyDate): boolean {\r\n        const dateMs: number = this.getTimeInMilliseconds(date);\r\n        return (\r\n            this.getTimeInMilliseconds(dateRange.begin) === dateMs ||\r\n            this.getTimeInMilliseconds(dateRange.end) === dateMs\r\n        );\r\n    }\r\n\r\n    isDateInRange(date: IMyDate, dateRange: IMyDateRange): boolean {\r\n        if (!this.isInitializedDate(dateRange.begin) || !this.isInitializedDate(dateRange.end)) {\r\n            return false;\r\n        }\r\n        return this.isDateSameOrEarlier(dateRange.begin, date) && this.isDateSameOrEarlier(date, dateRange.end);\r\n    }\r\n\r\n    resetDate(): IMyDate {\r\n        return { year: 0, month: 0, day: 0 };\r\n    }\r\n\r\n    getTimeInMilliseconds(date: IMyDate): number {\r\n        return this.getDate(date).getTime();\r\n    }\r\n\r\n    getDate2(date: IMyDate): Date {\r\n        const now = new Date();\r\n\r\n        if (!date.year) {\r\n            date.year = now.getFullYear();\r\n        }\r\n\r\n        if (!date.month) {\r\n            date.month = now.getMonth() + 1;\r\n        }\r\n\r\n        if (!date.day) {\r\n            date.day = 1;\r\n        }\r\n\r\n        return new Date(\r\n            date.year,\r\n            date.month - 1,\r\n            date.day,\r\n            date.hour ? date.hour : 0,\r\n            date.minute ? date.minute : 0,\r\n            date.second ? date.second : 0,\r\n            0\r\n        );\r\n    }\r\n\r\n    getDate(date: IMyDate): Date {\r\n        return new Date(\r\n            date.year || 0,\r\n            date.month ? date.month - 1 : 0,\r\n            date.day || 0,\r\n            date.hour ? date.hour : 0,\r\n            date.minute ? date.minute : 0,\r\n            date.second ? date.second : 0,\r\n            0\r\n        );\r\n    }\r\n\r\n    getDayNumber(date: IMyDate): number {\r\n        return new Date(\r\n            date.year,\r\n            date.month - 1,\r\n            date.day,\r\n            date.hour ? date.hour : 0,\r\n            date.minute ? date.minute : 0,\r\n            date.second ? date.second : 0,\r\n            0\r\n        ).getDay();\r\n    }\r\n\r\n    getWeekdayIndex(wd: string) {\r\n        return this.weekDays.indexOf(wd);\r\n    }\r\n\r\n    getEpocTime(date: IMyDate): number {\r\n        return Math.round(this.getTimeInMilliseconds(date) / 1000.0);\r\n    }\r\n\r\n    getKeyCodeFromEvent(event: any): number {\r\n        const key: any = event.key || event.keyCode;\r\n\r\n        if (key === KeyName.enter || key === KeyCode.enter) {\r\n            return KeyCode.enter;\r\n        } else if (key === KeyName.esc || key === KeyCode.esc) {\r\n            return KeyCode.esc;\r\n        } else if (key === KeyName.space || key === KeyCode.space) {\r\n            return KeyCode.space;\r\n        } else if (key === KeyName.leftArrow || key === KeyCode.leftArrow) {\r\n            return KeyCode.leftArrow;\r\n        } else if (key === KeyName.upArrow || key === KeyCode.upArrow) {\r\n            return KeyCode.upArrow;\r\n        } else if (key === KeyName.rightArrow || key === KeyCode.rightArrow) {\r\n            return KeyCode.rightArrow;\r\n        } else if (key === KeyName.downArrow || key === KeyCode.downArrow) {\r\n            return KeyCode.downArrow;\r\n        } else if (key === KeyName.tab || key === KeyCode.tab) {\r\n            return KeyCode.tab;\r\n        } else if (key === KeyName.shift || key === KeyCode.shift) {\r\n            return KeyCode.shift;\r\n        } else {\r\n            return null;\r\n        }\r\n    }\r\n    getNearDate(now: IMyDate, min: IMyDate, max: IMyDate) {\r\n        const minMilliseconds = this.getTimeInMilliseconds(min)\r\n        const maxMilliseconds = this.getTimeInMilliseconds(max)\r\n        const nowMilliseconds = this.getTimeInMilliseconds(now)\r\n        if (maxMilliseconds - nowMilliseconds > nowMilliseconds - minMilliseconds) {\r\n            return min;\r\n        } else {\r\n            return max;\r\n        }\r\n    }\r\n    // ç¦ç¨æ¶é´å¯¹åºçå°æ¶\r\n    // éä¸­æ¥æç­äºå·¦åºé´æ¥ææ¶ï¼ç¦ç¨å·¦ç«¯ç¹çå·¦é¨å[0ï¼minHourï¼\r\n    // éä¸­æ¥æç­äºå³åºé´æ¥ææ¶ï¼ç¦ç¨å³ç«¯ç¹çå³é¨å(maxHour,23]\r\n    disabledHours(min: IMyDate, max: IMyDate, currentDate: IMyDate) {\r\n        let minHour = min.hour;\r\n        let maxHour = max.hour;\r\n        let res = [];\r\n        if (this.isDateSame({ year: currentDate.year, month: currentDate.month, day: currentDate.day }, { year: min.year, month: min.month, day: min.day })) {\r\n            while (minHour-- >= 0) {\r\n                res.push(minHour);\r\n            }\r\n        }\r\n\r\n        if (this.isDateSame({ year: currentDate.year, month: currentDate.month, day: currentDate.day }, { year: max.year, month: max.month, day: max.day })) {\r\n            while (maxHour++ < 24) {\r\n                res.push(maxHour);\r\n            }\r\n        }\r\n        return res;\r\n    }\r\n    //ç¦ç¨æ¶é´å¯¹åºçåé \r\n    //éä¸­æ¥æç­äºå·¦åºé´æ¥ææ¶ï¼ç¦ç¨å·¦ç«¯ç¹çå·¦é¨å[0ï¼minMinuteï¼\r\n    //éä¸­æ¥æç­äºå³åºé´æ¥ææ¶ï¼ç¦ç¨å³ç«¯ç¹çå³é¨åï¼maxMinuteï¼59]\r\n    disabledMinutes(min: IMyDate, max: IMyDate, _hour: number, currentDate: IMyDate) {\r\n        let maxHour = max.hour;\r\n        let maxMinute = max.minute;\r\n        let minHour = min.hour;\r\n        let minMinute = min.minute;\r\n        let res = [];\r\n        if (this.isDateSame({ year: currentDate.year, month: currentDate.month, day: currentDate.day }, { year: min.year, month: min.month, day: min.day })) {\r\n            if (_hour == minHour) {\r\n                while (minMinute-- >= 0) {\r\n                    res.push(minMinute);\r\n                }\r\n            }\r\n        }\r\n\r\n\r\n        if (this.isDateSame({ year: currentDate.year, month: currentDate.month, day: currentDate.day }, { year: max.year, month: max.month, day: max.day })) {\r\n            if (_hour == maxHour) {\r\n                while (maxMinute++ < 60) {\r\n                    res.push(maxMinute);\r\n                }\r\n            }\r\n        }\r\n\r\n        return res;\r\n\r\n    }\r\n    //ç¦ç¨æ¶é´å¯¹åºçç§ \r\n    //éä¸­æ¥æç­äºå·¦åºé´æ¥ææ¶ï¼ç¦ç¨å·¦ç«¯ç¹çå·¦é¨å[0ï¼minSecondï¼\r\n    //éä¸­æ¥æç­äºå³åºé´æ¥ææ¶ï¼ç¦ç¨å³ç«¯ç¹çå³é¨åï¼maxSecondï¼59]\r\n    disabledSeconds(min: IMyDate, max: IMyDate, _hour: number, _minute: number, currentDate: IMyDate) {\r\n        let maxHour = max.hour;\r\n        let maxMinute = max.minute;\r\n        let maxSecond = max.second;\r\n        let minHour = min.hour;\r\n        let minMinute = min.minute;\r\n        let minSecond = min.second;\r\n        let res = [];\r\n        if (this.isDateSame({ year: currentDate.year, month: currentDate.month, day: currentDate.day }, { year: min.year, month: min.month, day: min.day })) {\r\n            if (_hour == minHour && _minute == minMinute) {\r\n                while (minSecond-- >= 0) {\r\n                    res.push(minSecond);\r\n                }\r\n            }\r\n        }\r\n\r\n        if (this.isDateSame({ year: currentDate.year, month: currentDate.month, day: currentDate.day }, { year: max.year, month: max.month, day: max.day })) {\r\n            if (_hour == maxHour && _minute == maxMinute) {\r\n                while (maxSecond++ < 60) {\r\n                    res.push(maxSecond);\r\n                }\r\n            }\r\n        }\r\n\r\n        return res;\r\n    }\r\n    \r\n    private getDateTypeString(dt: DynamicDateType, dynamicLocale) {\r\n        switch(dt) {\r\n            case 'week':\r\n                return dynamicLocale.week || 'å¨';\r\n            case 'day':\r\n                return dynamicLocale.day || 'å¤©';\r\n            case 'month':\r\n                return dynamicLocale.month || 'æ';\r\n            case 'year':\r\n                return dynamicLocale.year || 'å¹´';\r\n        }\r\n    }\r\n\r\n    formatDynamicValue(val: DynamicData, dynamicLocale) {\r\n        if (val) {\r\n            let fval = '';\r\n            switch(val.name) {\r\n                case 'present_day': // ä»å¤©\r\n                fval = dynamicLocale.today || 'ä»å¤©';\r\n                break;\r\n            case 'present_month': // æ¬æ\r\n                fval = dynamicLocale.presentMonth || 'æ¬æ';\r\n                break;\r\n            case 'present_year':\r\n                fval = dynamicLocale.presentYear ||'æ¬å¹´';\r\n                break;\r\n            case 'previou':\r\n                fval =  (dynamicLocale.previous|| 'è¿å»') + ' ' + val.count + ' ' + this.getDateTypeString(val.dateType, dynamicLocale);\r\n                break;\r\n            case 'future':\r\n                fval = (dynamicLocale.future || 'æªæ¥') + ' '+ val.count + ' ' +this.getDateTypeString(val.dateType, dynamicLocale);\r\n                break;\r\n            case 'present_first':\r\n                fval = (dynamicLocale.current||'æ¬') + this.getDateTypeString(val.dateType, dynamicLocale) + (dynamicLocale.first||'ç¬¬ 1 å¤©');\r\n                break;\r\n            case 'present_last':\r\n                fval = (dynamicLocale.current||'æ¬') + this.getDateTypeString(val.dateType, dynamicLocale) + (dynamicLocale.last||'æå 1 å¤©');\r\n                break;\r\n            }\r\n\r\n            return fval;\r\n        } else {\r\n            return '';\r\n        }\r\n    }\r\n\r\n    padStartZero(str: any) {\r\n        if(str != null  && str !== undefined) {\r\n            return  ('' + str).padStart(2, '0');\r\n        }\r\n\r\n        return  '00';\r\n    }\r\n\r\n    orderSelectedDates(items, order: MultiSelectedOrderBy = 'none') {\r\n        if (order !== 'asc' && order !== 'desc') {\r\n            order = 'none';\r\n        }\r\n\r\n        if (order === 'none') {\r\n            return items;\r\n        }\r\n\r\n        return orderBy(items, ['year', 'month', 'day'], [order, order, order]);\r\n    }\r\n}\r\n","import { IMyDate, IMyDateRange, IMySelectorPosition, IMyOptions } from '../interfaces/public-api';\r\nimport { PX, EMPTY_STR } from '../constants/constants';\r\nimport { Year } from '../enums/year.enum';\r\nimport { UtilService } from './farris-datepicker.util.service';\r\nimport { ComponentRef } from '@angular/core';\r\n\r\nexport class DatePickerService {\r\n    opts;\r\n    utilService;\r\n\r\n    private _mouseWheelHandle = null;\r\n    private _mouseScrollHandle = null;\r\n\r\n    constructor(opts) {\r\n        this.opts = opts;\r\n        this.utilService = new UtilService();\r\n    }\r\n\r\n    static parseOptions(opts: IMyOptions, defaultOpts): IMyOptions {\r\n        if (defaultOpts !== undefined) {\r\n            Object.keys(defaultOpts).forEach(k => {\r\n                if (defaultOpts[k] !== undefined && defaultOpts[k] !== '') {\r\n                    (opts as IMyOptions)[k] = defaultOpts[k];\r\n                }\r\n            });\r\n        }\r\n        if (opts.minYear < Year.min) {\r\n            opts.minYear = Year.min;\r\n        }\r\n        if (opts.maxYear > Year.max) {\r\n            opts.maxYear = Year.max;\r\n        }\r\n        return opts;\r\n    }\r\n\r\n    validate(value: string) {\r\n        const { dateRange } = this.opts;\r\n\r\n        let valid = false;\r\n        if (!dateRange) {\r\n            const date: IMyDate = this.utilService.isDateValid(value, this.opts);\r\n\r\n            valid = this.utilService.isInitializedDate(date);\r\n        } else {\r\n            const _dateRange: IMyDateRange = this.utilService.isDateValidDateRange(value, this.opts);\r\n            const { begin, end } = _dateRange;\r\n            valid = this.utilService.isInitializedDate(begin) && this.utilService.isInitializedDate(end);\r\n        }\r\n\r\n        return valid;\r\n    }\r\n\r\n    registerScrollEvent(fn) {\r\n        this._mouseScrollHandle = fn;\r\n        document.addEventListener('scroll', this._mouseScrollHandle);\r\n    }\r\n\r\n\r\n    removeMouseEvent() {\r\n        const container = document.querySelector('.date-overlay-container');\r\n        if (container) {\r\n            container.removeEventListener('mousewheel', this._mouseWheelHandle);\r\n        }\r\n\r\n        document.removeEventListener('scroll', this._mouseScrollHandle);\r\n    }\r\n\r\n    appendSelector(elem: any): void {\r\n        let container = document.querySelector('.date-overlay-container');\r\n        if (container) {\r\n            if (container.hasChildNodes()) {\r\n                container.childNodes.forEach(el => {\r\n                    if (el !== elem) {\r\n                        container.removeChild(el);\r\n                    }\r\n                });\r\n            }\r\n        } else {\r\n            container = document.createElement('div');\r\n            container.classList.add('date-overlay-container');\r\n            container.classList.add('overlay-container');\r\n            document.body.appendChild(container);\r\n        }\r\n\r\n        container.addEventListener('mousewheel', this._mouseWheelHandle = (e: MouseEvent) => {\r\n            const target = e.target as any;\r\n            if (!target.closest('.calendar-time-picker-select')) {\r\n                e.preventDefault();\r\n            }\r\n            return;\r\n        });\r\n\r\n        container.appendChild(elem);\r\n    }\r\n\r\n    getSelectorPosition(elem: any, calendarRef: ComponentRef<any>  = null): IMySelectorPosition {\r\n        let top = 0;\r\n        let left = 0;\r\n        let _selectorHeight = 0;\r\n        let _selectorWidth = 0;\r\n        const {\r\n            selectorHeight,\r\n            selectorWidth,\r\n            showTime,\r\n            dateRange,\r\n            showType,\r\n            enableDynamic,\r\n            showPresent,\r\n            multiSelect,\r\n            viewType\r\n        } = this.opts;\r\n\r\n        const b: any = document.body.getBoundingClientRect();\r\n        const e: any = elem.getBoundingClientRect();\r\n        top = e.top - b.top;\r\n        left = e.left - b.left;\r\n        let position = 'bottom';\r\n        if ((dateRange || multiSelect || (viewType === 'together' && showTime)) && showType !== 4) {\r\n            _selectorWidth = this.getSelectorDimension(selectorWidth) * 2;\r\n        } else {\r\n            _selectorWidth = this.getSelectorDimension(selectorWidth);\r\n        }\r\n\r\n        _selectorHeight = this.getSelectorDimension(selectorHeight);\r\n        // if (showTime || enableDynamic) {\r\n        //     top = top - 6;\r\n        // }\r\n\r\n        top = top - 6;\r\n        if ((showPresent &&  (!dateRange || showType === 4)) || showTime || enableDynamic) {\r\n            _selectorHeight += 45;\r\n        }\r\n\r\n        if (top + elem.offsetHeight + _selectorHeight > window.innerHeight && top - _selectorHeight - 2 > 0) {\r\n            top = top - _selectorHeight - 2 ;\r\n            position = 'top';\r\n        } else {\r\n            top = top + elem.offsetHeight + 2;\r\n        }\r\n\r\n        if (window.innerHeight - top < _selectorHeight) {\r\n            top = top - (_selectorHeight - (window.innerHeight - e.top - e.height - 15));\r\n\r\n            if (calendarRef) {\r\n                const calendarElem = calendarRef.location.nativeElement;\r\n                const arrow = calendarElem.querySelector('.arrow');\r\n                if (arrow) {\r\n                    arrow.style.display = 'none';\r\n                }\r\n            }\r\n        }\r\n\r\n        if (left + _selectorWidth > b.width) {\r\n            left = b.width - _selectorWidth - 15;\r\n        }\r\n        left = left > 0 ? left : 0;\r\n\r\n        const scrollTop = document.body.scrollTop || document.documentElement.scrollTop;\r\n        top -= scrollTop;\r\n\r\n        return { top, left, position };\r\n    }\r\n    private getSelectorDimension(value: string): number {\r\n        return Number(value.replace(PX, EMPTY_STR));\r\n    }\r\n\r\n}\r\n","import { IMyDayLabels } from './my-day-labels.interface';\r\nimport { IMyMonthLabels } from './my-month-labels.interface';\r\nimport { IMyDate } from './my-date.interface';\r\nimport { IMyDateRange } from './my-date-range.interface';\r\nimport { IMyMarkedDates } from './my-marked-dates.interface';\r\nimport { IMyMarkedDate } from './my-marked-date.interface';\r\nimport { IMyStyles } from './my-styles.interface';\r\nimport { DefaultView } from '../enums/default-view.enum';\r\nimport { Year } from '../enums/year.enum';\r\nimport { IMyShortcuts } from './my-shortcuts.interface';\r\nimport { ShowType } from '../enums/show-type.enum';\r\nimport { DynamicData } from './dynamic-data-type.interface';\r\n\r\n\r\nexport interface IMyOptions {\r\n    dateRange?: boolean;\r\n    showTime?: boolean;\r\n    showType?: ShowType;\r\n    dayLabels?: IMyDayLabels;\r\n    monthLabels?: IMyMonthLabels;\r\n    yearTxt?: string;\r\n    dateFormat?: string;\r\n    defaultView?: DefaultView;\r\n    /** æ¯å¨èµ·å§æ¥  å¯éå¼ moï¼å¨ä¸,  su: å¨æ¥ï¼é»è®¤ä¸º moå¨ä¸ */\r\n    firstDayOfWeek?: string;\r\n    satHighlight?: boolean;\r\n    sunHighlight?: boolean;\r\n    highlightDates?: Array<IMyDate>;\r\n    markCurrentDay?: boolean;\r\n    markCurrentMonth?: boolean;\r\n    markCurrentYear?: boolean;\r\n    monthSelector?: boolean;\r\n    yearSelector?: boolean;\r\n    disableHeaderButtons?: boolean;\r\n    showWeekNumbers?: boolean;\r\n    selectorHeight?: string;\r\n    selectorWidth?: string;\r\n    disableUntil?: IMyDate;\r\n    disableSince?: IMyDate;\r\n    disableDates?: Array<IMyDate>;\r\n    disableDateRanges?: Array<IMyDateRange>;\r\n    disableWeekends?: boolean;\r\n    disableWeekdays?: Array<string>;\r\n    enableDates?: Array<IMyDate>;\r\n    markDates?: Array<IMyMarkedDates>;\r\n    markWeekends?: IMyMarkedDate;\r\n    closeSelectorOnDateSelect?: boolean;\r\n    closeSelectorOnDocumentClick?: boolean;\r\n    minYear?: Year;\r\n    maxYear?: Year;\r\n    focusInputOnDateSelect?: boolean;\r\n    moveFocusByArrowKeys?: boolean;\r\n    dateRangeDatesDelimiter?: string;\r\n    inputFieldValidation?: boolean;\r\n    stylesData?: IMyStyles;\r\n    ariaLabelPrevMonth?: string;\r\n    ariaLabelNextMonth?: string;\r\n    shortcuts?: Array<IMyShortcuts>;\r\n    timeBtnText?: string;\r\n    dateBtnText?: string;\r\n    commitBtnText?: string;\r\n    weekText?: string;\r\n    returnFormat?: string;\r\n    placeholder?: string;\r\n    timeFormat?: string;\r\n    range?: any;\r\n    monthRangeValue?: number;\r\n    message?: any;\r\n   \r\n    viewType?: ViewType | string;\r\n    enableDynamic?: boolean;\r\n    showDynamicView?: boolean;\r\n    dynamicValue?: DynamicData;\r\n    // å¨ææ¥æåéæ´æ°\r\n    dynamicValueChanged?: (e: {text: string, value: {}}) => void;\r\n    /** å¨ææ¥æï¼è¿å»æ¶é´æå¤§å¤©æ° */\r\n    previousMaxDays?: number;\r\n    /** å¨ææ¥æï¼æªæ¥æ¥ææå¤§å¤©æ° */\r\n    futureMaxDays?: number;\r\n    /** å¨ææ¥æå¤è¯­èµæº  */\r\n    dynamicLocale?: any;\r\n    /** æ¾ç¤ºä»å¤©ï¼æ¬å¹´ï¼æ¬æ æé® */\r\n    showPresent?: boolean;\r\n\r\n    hourStep?: number;\r\n    minuteStep?: number;\r\n    secondStep?: number;\r\n\r\n    /** æ¯å¦å¯ç¨å¤é */\r\n    multiSelect?: boolean;\r\n    /** å¤éåéç¬¦ */\r\n    separator?: string;\r\n    /** åè®¸æå¤§éæ©æ¥ææ°éï¼é»è®¤ä¸º0 æ ééæ© */\r\n    maxSelected?: number;\r\n    /** éä¸­çæ¥æåè¡¨æ¯å¦è¿è¡æåºï¼å¯é 'none'|'asc'|'desc', é»è®¤ä¸º â0â å³ä¸å¯ç¨æåº */\r\n    selectedOrderBy?: MultiSelectedOrderBy;\r\n    /** æ¥æå¤éå¤è¯­èµæº */\r\n    mulstiDatesLocale?: any;\r\n}\r\n\r\n\r\n\r\n /** æ¥æä¸æ¶é´å±ç¤ºæ¹å¼ï¼switch: è¦ä¹å±ç°æ¥æï¼è¦ä¹å±ç°æ¶é´è§å¾ï¼together: æ¥æä¸æ¶é´ä¸èµ·å±ç°ï¼å·¦ä¾§æ¾ç¤ºæ¥æï¼å³ä¾§æ¾ç¤ºæ¶é´ï¼é»è®¤ä¸º switch */\r\nexport enum ViewType {\r\n    Switch = 'switch',\r\n    Together = 'together'\r\n};\r\n\r\nexport type MultiSelectedOrderBy = 'none'|'asc'|'desc';","import { Component, ElementRef, ViewEncapsulation, ViewChild, Renderer2, ChangeDetectorRef, HostBinding, Output, EventEmitter } from '@angular/core';\r\nimport {\r\n    IMyDate, IMyDateRange, IMyMonth, IMyCalendarDay, IMyCalendarMonth, IMyCalendarYear,\r\n    IMyWeek, IMyOptions, IMySelectorPosition, IMyCalendarViewChanged, IMyRangeDateSelection, IMyDateModel,\r\n    IMyMonthRow\r\n} from '../../interfaces/public-api';\r\nimport { UtilService } from '../../services/public-api';\r\nimport { DefaultView, KeyCode, MonthId, ResetDateType } from '../../enums/public-api';\r\nimport {\r\n    DOT, UNDER_LINE, D, M, Y, DATE_ROW_COUNT, DATE_COL_COUNT, MONTH_ROW_COUNT, MONTH_COL_COUNT,\r\n    YEAR_ROW_COUNT, YEAR_COL_COUNT, SU, MO, TU, WE, TH, FR, SA, EMPTY_STR, STYLE\r\n} from '../../constants/constants';\r\nimport { TimePickerPanelComponent } from '@farris/ui-time-picker';\r\nimport { flatten, cloneDeep, sortBy, orderBy } from 'lodash-es';\r\nimport { ViewType } from '../../interfaces/my-options.interface';\r\nimport { DateTimeHelperService } from '@farris/ui-common/date';\r\n\r\n@Component({\r\n    selector: 'farris-datepicker-calendar',\r\n    templateUrl: './calendar.component.html',\r\n    providers: [UtilService],\r\n    encapsulation: ViewEncapsulation.None\r\n})\r\nexport class CalendarComponent {\r\n    @ViewChild('selectorEl') selectorEl: ElementRef;\r\n    @ViewChild('styleEl') styleEl: ElementRef;\r\n    @ViewChild('endTimeRef') endTimeRef: TimePickerPanelComponent;\r\n    @ViewChild('dynamicViewEle') dynamicViewEle: ElementRef;\r\n\r\n    @HostBinding('style.position') position = 'static';\r\n\r\n    @Output() dynamicViewShow = new EventEmitter();\r\n\r\n    dateHlp: DateTimeHelperService = null;\r\n\r\n    opts: IMyOptions;\r\n    visibleMonth: IMyMonth = { monthTxt: EMPTY_STR, monthNbr: 0, year: 0, yearTxt: EMPTY_STR };\r\n    visibleMonth_range: IMyMonth = { monthTxt: EMPTY_STR, monthNbr: 0, year: 0, yearTxt: EMPTY_STR };\r\n    selectedMonth: IMyMonth = { monthNbr: 0, year: 0 };\r\n    selectedMonth_range: IMyMonth = { monthNbr: 0, year: 0 };\r\n    selectedDate: IMyDate = { year: 0, month: 0, day: 0 };\r\n    selectedDateRange: IMyDateRange = { begin: { year: 0, month: 0, day: 0 }, end: { year: 0, month: 0, day: 0 } };\r\n    selectedWeek: IMyWeek = { weekNbr: 0, year: 0 };\r\n    weekDays: Array<string> = [];\r\n    dates: Array<IMyWeek> = [];\r\n    dates_range: Array<IMyWeek> = [];\r\n    months: Array<IMyMonthRow> = [];\r\n    months_range: Array<IMyMonthRow> = [];\r\n    years: Array<Array<IMyCalendarYear>> = [];\r\n    years_range: Array<Array<IMyCalendarYear>> = [];\r\n    timeVlaue: string;\r\n    timeVlaue_range: string;\r\n\r\n    multiSelect = false;\r\n\r\n    dayIdx = 0;\r\n    weekDayOpts: Array<string> = [SU, MO, TU, WE, TH, FR, SA];\r\n\r\n    selectMonth = false;\r\n    selectMonth_range = false;\r\n    selectYear = false;\r\n    selectYear_range = false;\r\n    selectTime = false;\r\n\r\n    dateChanged: (dm: IMyDateModel, close: boolean) => void;\r\n    calendarViewChanged: (cvc: IMyCalendarViewChanged) => void;\r\n    rangeDateSelection: (rds: IMyRangeDateSelection) => void;\r\n    multiDatesChanged: (dates: any[]) => void;\r\n\r\n    closedByEsc: () => void;\r\n    selectorPos: IMySelectorPosition = null;\r\n    scrollDiff = 0;\r\n\r\n    prevViewDisabled = false;\r\n    nextViewDisabled = false;\r\n    prevDobViewDisabled = false;\r\n    nextDobViewDisabled = false;\r\n\r\n    prevViewDisabled_range = false;\r\n    nextViewDisabled_range = false;\r\n    prevDobViewDisabled_range = false;\r\n    nextDobViewDisabled_range = false;\r\n\r\n    showNotify: () => void;\r\n\r\n    /** å¤é */\r\n    selectedDates = [];\r\n\r\n    getTimeStr(date: Date): string {\r\n        const hour = this.utilService.preZero(date.getHours());\r\n        const minute = this.utilService.preZero(date.getMinutes());\r\n        const second = this.utilService.preZero(date.getSeconds());\r\n        return `${hour}:${minute}:${second}`;\r\n    }\r\n    // ç¦ç¨æ¥ææ¶é´æ§ä»¶ä¸­çæ¶é´æ®µçå°æ¶\r\n    disabledHours = () => {\r\n        const min = this.opts.disableUntil;\r\n        const max = this.opts.disableSince;\r\n        const currentDate = this.opts.dateRange ? this.selectedDateRange.begin : this.selectedDate;\r\n        const res = this.utilService.disabledHours(min, max, currentDate);\r\n        return res;\r\n    }\r\n    // ç¦ç¨æ¥ææ¶é´æ§ä»¶ä¸­çæ¶é´æ®µçåé\r\n    disabledMinutes = (hour: number) => {\r\n        const min = this.opts.disableUntil;\r\n        const max = this.opts.disableSince;\r\n        const currentDate = this.opts.dateRange ? this.selectedDateRange.begin : this.selectedDate;\r\n        const res = this.utilService.disabledMinutes(min, max, hour, currentDate);\r\n        return res;\r\n    }\r\n    // ç¦ç¨æ¥ææ¶é´æ§ä»¶ä¸­çæ¶é´æ®µçç§\r\n    disabledSeconds = (hour: number, minute: number) => {\r\n        const min = this.opts.disableUntil;\r\n        const max = this.opts.disableSince;\r\n        const currentDate = this.opts.dateRange ? this.selectedDateRange.begin : this.selectedDate;\r\n        const res = this.utilService.disabledSeconds(min, max, hour, minute, currentDate);\r\n        return res;\r\n    }\r\n\r\n\r\n    disabledHours2 = () => {\r\n        const min = this.opts.disableUntil;\r\n        const max = this.opts.disableSince;\r\n        const currentDate = this.opts.dateRange ? this.selectedDateRange.end : this.selectedDate;\r\n        const res = this.utilService.disabledHours(min, max, currentDate);\r\n        return res;\r\n    }\r\n    // ç¦ç¨æ¥ææ¶é´æ§ä»¶ä¸­çæ¶é´æ®µçåé\r\n    disabledMinutes2 = (hour: number) => {\r\n        const min = this.opts.disableUntil;\r\n        const max = this.opts.disableSince;\r\n        const currentDate = this.opts.dateRange ? this.selectedDateRange.end : this.selectedDate;\r\n        const res = this.utilService.disabledMinutes(min, max, hour, currentDate);\r\n        return res;\r\n    }\r\n    // ç¦ç¨æ¥ææ¶é´æ§ä»¶ä¸­çæ¶é´æ®µçç§\r\n    disabledSeconds2 = (hour: number, minute: number) => {\r\n        const min = this.opts.disableUntil;\r\n        const max = this.opts.disableSince;\r\n        const currentDate = this.opts.dateRange ? this.selectedDateRange.end : this.selectedDate;\r\n        const res = this.utilService.disabledSeconds(min, max, hour, minute, currentDate);\r\n        return res;\r\n    }\r\n\r\n    btnDynamicDisabled = true;\r\n\r\n    constructor(private renderer: Renderer2, private cdr: ChangeDetectorRef, private utilService: UtilService) { }\r\n\r\n    initialize(\r\n        opts: IMyOptions,\r\n        defaultMonth: string,\r\n        selectorPos: IMySelectorPosition,\r\n        inputValue: string,\r\n        dc: (dm: IMyDateModel, close: boolean) => void,\r\n        cvc: (cvc: IMyCalendarViewChanged) => void,\r\n        rds: (rds: IMyRangeDateSelection) => void,\r\n        cbe: () => void\r\n    ): void {\r\n        this.opts = opts;\r\n        this.selectorPos = selectorPos;\r\n        this.weekDays.length = 0;\r\n        const { defaultView, dateRange, firstDayOfWeek, dayLabels, stylesData, yearTxt, multiSelect, separator, selectedOrderBy } = this.opts;\r\n        this.visibleMonth.yearTxt = yearTxt;\r\n        this.visibleMonth_range.yearTxt = yearTxt;\r\n        this.multiSelect = multiSelect;\r\n        // if (stylesData.styles.length) {\r\n        //     const styleElTemp: any = this.renderer.createElement(STYLE);\r\n        //     this.renderer.appendChild(styleElTemp, this.renderer.createText(stylesData.styles));\r\n        //     this.renderer.appendChild(this.styleEl.nativeElement, styleElTemp);\r\n        // }\r\n\r\n        this.dayIdx = this.weekDayOpts.indexOf(firstDayOfWeek);\r\n        if (this.dayIdx !== -1) {\r\n            let idx: number = this.dayIdx;\r\n            // tslint:disable-next-line:prefer-for-of\r\n            for (let i = 0; i < this.weekDayOpts.length; i++) {\r\n                this.weekDays.push(dayLabels[this.weekDayOpts[idx]]);\r\n                idx = this.weekDayOpts[idx] === SA ? 0 : idx + 1;\r\n            }\r\n        }\r\n        let today: IMyDate = this.getToday();\r\n        const isInDisableRange = this.utilService.isDisabledDate(today, this.opts);\r\n        today = !isInDisableRange ? today : this.utilService.getNearDate(today, this.opts.disableUntil, this.opts.disableSince);\r\n\r\n        switch (defaultView) {\r\n            case DefaultView.Month:\r\n                this.selectedMonth = { monthNbr: 0, year: today.year };\r\n                this.selectedMonth_range = { monthNbr: 0, year: today.year + 1 };\r\n                break;\r\n            case DefaultView.Year:\r\n                this.selectedMonth = { monthNbr: 0, year: today.year };\r\n                this.selectedMonth_range = { monthNbr: 0, year: today.year + 10 };\r\n                break;\r\n            default:\r\n                this.selectedMonth = { monthNbr: today.month, year: today.year };\r\n                if (today.month >= 12) {\r\n                    this.selectedMonth_range = { monthNbr: 1, year: today.year + 1 };\r\n                } else {\r\n                    this.selectedMonth_range = { monthNbr: today.month + this.opts.monthRangeValue, year: today.year };\r\n                }\r\n                break;\r\n        }\r\n        if (defaultMonth && defaultMonth.length) {\r\n            this.selectedMonth = this.utilService.parseDefaultMonth(defaultMonth);\r\n            this.selectedMonth_range = this.utilService.parseDefaultMonth(defaultMonth);\r\n            if (this.selectedMonth_range.monthNbr >= 12) {\r\n                this.selectedMonth_range.year++;\r\n                this.selectedMonth_range.monthNbr = 1;\r\n            } else {\r\n                this.selectedMonth_range.monthNbr = this.selectedMonth_range.monthNbr + this.opts.monthRangeValue;\r\n            }\r\n        }\r\n\r\n        // æ¥æå¤é\r\n        if (this.multiSelect && inputValue) {\r\n            this.selectedDates = inputValue.split(separator).map(n => {\r\n\r\n                if (this.opts.returnFormat === 'yyyyMMdd') {\r\n                    if (n.length > 8) {\r\n                        n = this.dateHlp.formatTo(n, this.opts.returnFormat);\r\n                    }\r\n                }\r\n\r\n                const _dObj = this.utilService.isDateValid(n, this.opts, true);\r\n\r\n                return {\r\n                    ..._dObj,\r\n                    value: this.utilService.formatDate(_dObj, this.opts.dateFormat, this.opts.monthLabels)\r\n                };\r\n            });\r\n\r\n            this.selectedDates = this.utilService.orderSelectedDates(this.selectedDates, selectedOrderBy);\r\n\r\n        } else {\r\n            if (!dateRange) {\r\n                // Single date mode\r\n                const date: IMyDate = this.utilService.isDateValid(inputValue, this.opts, true);\r\n                if (this.utilService.isInitializedDate(date)) {\r\n                    this.selectedDate = date;\r\n                    const hour = this.utilService.preZero(date.hour);\r\n                    const minute = this.utilService.preZero(date.minute);\r\n                    const second = this.utilService.preZero(date.second);\r\n                    this.timeVlaue = `${hour}:${minute}:${second}`;\r\n                    this.selectedMonth = { monthNbr: date.month, year: date.year };\r\n                }\r\n            } else {\r\n                // Date range mode\r\n                const { begin, end } = this.utilService.isDateValidDateRange(inputValue, this.opts);\r\n                if (this.utilService.isInitializedDate(begin) && this.utilService.isInitializedDate(end)) {\r\n                    this.selectedDateRange = { begin, end };\r\n                    const hour = this.utilService.preZero(begin.hour);\r\n                    const minute = this.utilService.preZero(begin.minute);\r\n                    const second = this.utilService.preZero(begin.second);\r\n                    this.timeVlaue = `${hour}:${minute}:${second}`;\r\n                    const _hour = this.utilService.preZero(end.hour);\r\n                    const _minute = this.utilService.preZero(end.minute);\r\n                    const _second = this.utilService.preZero(end.second);\r\n                    this.timeVlaue_range = `${_hour}:${_minute}:${_second}`;\r\n\r\n                    this.selectedMonth = { monthNbr: begin.month, year: begin.year };\r\n\r\n                    if (begin.month === end.month && begin.year === end.year) {\r\n                        if (end.month >= 12) {\r\n                            this.selectedMonth_range = { monthNbr: 1, year: end.year + 1 };\r\n                        } else {\r\n                            let endyear = end.year;\r\n                            if (defaultView === DefaultView.Month) {\r\n                                endyear = endyear + 1;\r\n                            }\r\n\r\n                            this.selectedMonth_range = { monthNbr: end.month + this.opts.monthRangeValue, year: endyear };\r\n                        }\r\n                    } else {\r\n                        if (defaultView === DefaultView.Month && begin.year === end.year) {\r\n                            this.selectedMonth_range = { monthNbr: end.month, year: end.year + 1 };\r\n                        } else {\r\n                            this.selectedMonth_range = { monthNbr: end.month, year: end.year };\r\n                        }\r\n                    }\r\n\r\n                    // tfs 579358\r\n                    // let endDayWeekNbr = this.utilService.getWeekNumber(end);\r\n                    // if (this.opts.firstDayOfWeek === 'su') {\r\n                    //     endDayWeekNbr -= 1;\r\n                    // }\r\n                    // const weekNbr = this.utilService.getWeekNumber(begin) === endDayWeekNbr ? this.utilService.getWeekNumber(begin): 0;\r\n                    const dateObj = this.opts.firstDayOfWeek == 'su' ? end: begin;\r\n                    let weekNbr = this.utilService.getWeekNumber(dateObj);\r\n\r\n                    this.selectedWeek = { weekNbr, year: begin.year };\r\n                }\r\n\r\n            }\r\n        }\r\n\r\n        this.dateChanged = dc;\r\n        this.calendarViewChanged = cvc;\r\n        this.rangeDateSelection = rds;\r\n        this.closedByEsc = cbe;\r\n        this.setCalendarVisibleMonth();\r\n\r\n        if (defaultView === DefaultView.Month) {\r\n            this.onMonthViewBtnClicked();\r\n            if (dateRange) {\r\n                this.onMonthViewBtnClicked(true);\r\n            }\r\n        } else if (defaultView === DefaultView.Year) {\r\n            this.onYearViewBtnClicked();\r\n            if (dateRange) {\r\n                this.onYearViewBtnClicked(true);\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    resetDateValue(value: ResetDateType): void {\r\n        if (value === ResetDateType.singleDate || value === ResetDateType.both) {\r\n            this.selectedDate = this.utilService.resetDate();\r\n        }\r\n        if (value === ResetDateType.dateRange || value === ResetDateType.both) {\r\n            this.selectedDateRange.begin = this.utilService.resetDate();\r\n            this.selectedDateRange.end = this.utilService.resetDate();\r\n        }\r\n    }\r\n\r\n    resetMonthYearSelect(isSecondCalendar?: boolean): void {\r\n        if (!isSecondCalendar) {\r\n            this.selectMonth = false;\r\n            this.selectYear = false;\r\n        } else {\r\n            this.selectMonth_range = false;\r\n            this.selectYear_range = false;\r\n        }\r\n    }\r\n\r\n    onMonthViewBtnClicked(isSecondCalendar?: boolean): void {\r\n        this.selectTime = false;\r\n        if (!isSecondCalendar) {\r\n            this.selectMonth = !this.selectMonth;\r\n            this.selectYear = false;\r\n            if (this.selectMonth) {\r\n                this.generateMonths(isSecondCalendar);\r\n            } else {\r\n                this.visibleMonth.year = this.selectedMonth.year;\r\n            }\r\n        } else {\r\n            this.selectMonth_range = !this.selectMonth_range;\r\n            this.selectYear_range = false;\r\n            if (this.selectMonth_range) {\r\n                this.generateMonths(isSecondCalendar);\r\n            } else {\r\n                this.visibleMonth_range.year = this.selectedMonth_range.year;\r\n            }\r\n            this.cdr.detectChanges();\r\n        }\r\n    }\r\n\r\n    onMonthCellClicked(cell: IMyCalendarMonth, isSecondCalendar: boolean): void {\r\n        if (!isSecondCalendar) {\r\n            const { year, monthNbr } = this.visibleMonth;\r\n\r\n            const mc: boolean = cell.nbr !== monthNbr;\r\n            this.visibleMonth = {\r\n                monthTxt: this.opts.monthLabels[cell.nbr],\r\n                monthNbr: cell.nbr,\r\n                year,\r\n                yearTxt: this.opts.yearTxt\r\n            };\r\n            this.selectedMonth.year = this.visibleMonth.year;\r\n            if (this.opts.showType === 2) {\r\n                this.toSelectMonth(this.visibleMonth);\r\n            } else {\r\n                this.generateCalendar(cell.nbr, year, mc, isSecondCalendar);\r\n                this.selectMonth = false;\r\n            }\r\n        } else {\r\n            const { year, monthNbr } = this.visibleMonth_range;\r\n\r\n            const mc: boolean = cell.nbr !== monthNbr;\r\n            this.visibleMonth_range = {\r\n                monthTxt: this.opts.monthLabels[cell.nbr],\r\n                monthNbr: cell.nbr,\r\n                year,\r\n                yearTxt: this.opts.yearTxt\r\n            };\r\n            this.selectedMonth_range.year = this.visibleMonth_range.year;\r\n            if (this.opts.showType === 2) {\r\n                this.toSelectMonth(this.visibleMonth_range);\r\n            } else {\r\n                this.generateCalendar(cell.nbr, year, mc, isSecondCalendar);\r\n                this.selectMonth_range = false;\r\n            }\r\n        }\r\n    }\r\n\r\n    onMonthCellKeyDown(cell: IMyCalendarMonth) {\r\n        // Make possible to move focus by arrow keys\r\n        const { sourceRow, sourceCol } = this.getSourceRowAndColumnFromEvent(event);\r\n        const { moveFocus, targetRow, targetCol } = this.getTargetFocusRowAndColumn(\r\n            event,\r\n            sourceRow,\r\n            sourceCol,\r\n            MONTH_ROW_COUNT,\r\n            MONTH_COL_COUNT\r\n        );\r\n\r\n        if (moveFocus) {\r\n            this.focusCellElement(M, targetRow, targetCol);\r\n        }\r\n    }\r\n\r\n    onYearViewBtnClicked(isSecondCalendar?: boolean): void {\r\n        this.selectTime = false;\r\n        if (!isSecondCalendar) {\r\n            this.visibleMonth.year = this.selectedMonth.year;\r\n            if (!this.selectYear) {\r\n                this.generateYears(this.visibleMonth.year, isSecondCalendar);\r\n            } else {\r\n                this.generateCalendar(this.visibleMonth.monthNbr, this.visibleMonth.year, false, isSecondCalendar);\r\n            }\r\n\r\n            this.selectYear = this.opts.showType === 3 ? true : !this.selectYear;\r\n            if (this.opts.showType === 2) {\r\n                this.selectMonth = !this.selectMonth;\r\n            } else {\r\n                this.selectMonth = false;\r\n            }\r\n            // this.selectYear = !this.selectYear;\r\n            // this.selectMonth = false;\r\n        } else {\r\n            this.visibleMonth_range.year = this.selectedMonth_range.year;\r\n            if (!this.selectYear_range) {\r\n                this.generateYears(this.visibleMonth_range.year, isSecondCalendar);\r\n            } else {\r\n                this.generateCalendar(this.visibleMonth_range.monthNbr, this.visibleMonth_range.year, false, isSecondCalendar);\r\n            }\r\n            this.selectYear_range = this.opts.showType === 3 ? true : !this.selectYear_range;\r\n            if (this.opts.showType === 2) {\r\n                this.selectMonth_range = !this.selectMonth_range;\r\n            } else {\r\n                this.selectMonth_range = false;\r\n            }\r\n        }\r\n        this.cdr.detectChanges();\r\n    }\r\n\r\n    onYearCellClicked(cell: IMyCalendarYear, isSecondCalendar?: boolean): void {\r\n        if (!isSecondCalendar) {\r\n            const { year, monthNbr, monthTxt } = this.visibleMonth;\r\n\r\n            const yc: boolean = cell.year !== year;\r\n            this.visibleMonth = { monthTxt, monthNbr, year: cell.year, yearTxt: this.opts.yearTxt };\r\n            this.selectedMonth.year = this.visibleMonth.year;\r\n            if (this.opts.showType === 3) {\r\n                this.toSelectYear({ year: this.visibleMonth.year });\r\n            } else if (this.opts.showType === 2) {\r\n                this.generateMonths(isSecondCalendar);\r\n                this.selectYear = false;\r\n                this.selectMonth = true;\r\n            } else {\r\n                this.generateCalendar(monthNbr, cell.year, yc, isSecondCalendar);\r\n                this.selectYear = false;\r\n            }\r\n        } else {\r\n            const { year, monthNbr, monthTxt } = this.visibleMonth_range;\r\n\r\n            const yc: boolean = cell.year !== year;\r\n            this.visibleMonth_range = {\r\n                monthTxt,\r\n                monthNbr,\r\n                year: cell.year,\r\n                yearTxt: this.opts.yearTxt\r\n            };\r\n            this.selectedMonth_range.year = this.visibleMonth_range.year;\r\n            if (this.opts.showType === 3) {\r\n                this.toSelectYear({ year: this.visibleMonth_range.year });\r\n            } else if (this.opts.showType === 2) {\r\n                this.generateMonths(isSecondCalendar);\r\n                this.selectYear_range = false;\r\n                this.selectMonth_range = true;\r\n            } else {\r\n                this.generateCalendar(monthNbr, cell.year, yc, isSecondCalendar);\r\n                this.selectYear_range = false;\r\n            }\r\n        }\r\n    }\r\n\r\n    onYearCellKeyDown(cell: IMyCalendarYear) {\r\n        // Make possible to move focus by arrow keys\r\n        const { sourceRow, sourceCol } = this.getSourceRowAndColumnFromEvent(event);\r\n        const { moveFocus, targetRow, targetCol } = this.getTargetFocusRowAndColumn(\r\n            event,\r\n            sourceRow,\r\n            sourceCol,\r\n            YEAR_ROW_COUNT,\r\n            YEAR_COL_COUNT\r\n        );\r\n\r\n        if (moveFocus) {\r\n            this.focusCellElement(Y, targetRow, targetCol);\r\n        }\r\n    }\r\n\r\n    generateMonths(isSecondCalendar?: boolean): void {\r\n        const today: IMyDate = this.getToday();\r\n        const { disableUntil, disableSince } = this.opts;\r\n\r\n        // tslint:disable-next-line:one-variable-per-declaration\r\n        let year: number, monthNbr: number;\r\n        if (!isSecondCalendar) {\r\n            this.months.length = 0;\r\n            year = this.visibleMonth.year;\r\n            monthNbr = this.visibleMonth.monthNbr;\r\n        } else {\r\n            this.months_range.length = 0;\r\n            year = this.visibleMonth_range.year;\r\n            monthNbr = this.visibleMonth_range.monthNbr;\r\n        }\r\n\r\n        for (let i = 1; i <= 12; i += 3) {\r\n            const row: Array<IMyCalendarMonth> = [];\r\n            for (let j = i; j < i + 3; j++) {\r\n                const disabled: boolean =\r\n                    this.utilService.isMonthDisabledByDisableUntil(\r\n                        { year, month: j, day: this.daysInMonth(j, year) },\r\n                        disableUntil\r\n                    ) || this.utilService.isMonthDisabledByDisableSince({ year, month: j, day: 1 }, disableSince);\r\n\r\n                row.push({\r\n                    nbr: j,\r\n                    name: this.opts.monthLabels[j],\r\n                    currMonth: j === today.month && year === today.year,\r\n                    disabled,\r\n                    monthObj: { year, month: j }\r\n                });\r\n            }\r\n            if (!isSecondCalendar) {\r\n                this.months.push({ row, year });\r\n            } else {\r\n                this.months_range.push({ row, year });\r\n            }\r\n        }\r\n        this.setMonthViewHeaderBtnDisabledState(year, isSecondCalendar);\r\n        this.generateCalendar(isSecondCalendar? this.visibleMonth_range.monthNbr : this.visibleMonth.monthNbr, year, false, isSecondCalendar);\r\n    }\r\n\r\n    generateYears(inputYear: number, isSecondCalendar?: boolean): void {\r\n        const { minYear, maxYear, disableUntil, disableSince } = this.opts;\r\n\r\n        let y: number = inputYear - (inputYear % 10);\r\n\r\n        const { year, monthNbr } = this.visibleMonth;\r\n\r\n        if (!isSecondCalendar) {\r\n            this.years.length = 0;\r\n        } else {\r\n            if (!this.years_range.length && ((this.years&& this.years.length) && y < this.years[3][2].year && y > this.years[0][0].year)  && this.opts.showType === 3) {\r\n                y+= 10;\r\n            }\r\n            this.years_range.length = 0;\r\n            const allYears = flatten<any>(this.years_range);\r\n            if (allYears.findIndex(n => n.year == inputYear) > -1) {\r\n                y = this.years_range[3][2].year;\r\n            }\r\n        }\r\n        const today: IMyDate = this.getToday();\r\n\r\n        for (let i = y - 1; i < y + 10; i += 3) {\r\n            const row: Array<IMyCalendarYear> = [];\r\n            for (let j = i; j < i + 3; j++) {\r\n                const disabled: boolean =\r\n                    this.utilService.isMonthDisabledByDisableUntil(\r\n                        {\r\n                            year: j,\r\n                            month: monthNbr,\r\n                            day: this.daysInMonth(monthNbr, j)\r\n                        },\r\n                        disableUntil\r\n                    ) ||\r\n                    this.utilService.isMonthDisabledByDisableSince({ year: j, month: monthNbr, day: 1 }, disableSince);\r\n\r\n                const minMax: boolean = j < minYear || j > maxYear;\r\n                row.push({\r\n                    year: j,\r\n                    currYear: j === today.year,\r\n                    selected: j === year,\r\n                    disabled: disabled || minMax,\r\n                    yearObj: { year: j }\r\n                });\r\n            }\r\n            if (!isSecondCalendar) {\r\n                this.years.push(row);\r\n            } else {\r\n                this.years_range.push(row);\r\n            }\r\n        }\r\n        if (!isSecondCalendar) {\r\n            this.setYearViewHeaderBtnDisabledState(this.years[0][1].year, this.years[3][1].year, isSecondCalendar);\r\n        } else {\r\n            this.setYearViewHeaderBtnDisabledState(\r\n                this.years_range[0][1].year,\r\n                this.years_range[3][1].year,\r\n                isSecondCalendar\r\n            );\r\n        }\r\n    }\r\n\r\n    setCalendarVisibleMonth(): void {\r\n        // Sets visible month of calendar\r\n        const { year, monthNbr } = this.selectedMonth;\r\n        this.visibleMonth = {\r\n            monthTxt: this.opts.monthLabels[monthNbr],\r\n            monthNbr,\r\n            year,\r\n            yearTxt: this.opts.yearTxt\r\n        };\r\n\r\n        // Create current month\r\n        if (this.opts.dateRange) {\r\n            this.visibleMonth_range = {\r\n                monthTxt: this.opts.monthLabels[this.selectedMonth_range.monthNbr],\r\n                monthNbr: this.selectedMonth_range.monthNbr,\r\n                year: this.selectedMonth_range.year,\r\n                yearTxt: this.opts.yearTxt\r\n            };\r\n            this.generateCalendar(this.selectedMonth_range.monthNbr, this.selectedMonth_range.year, true, true);\r\n        }\r\n        this.generateCalendar(monthNbr, year, true, false);\r\n    }\r\n\r\n    onPrevNavigateBtnClicked(event?: any, isSecondCalendar?: boolean): void {\r\n        if (!isSecondCalendar) {\r\n            if (event) {\r\n                if (!this.selectMonth && !this.selectYear) {\r\n                    this.setDateViewMonth(isSecondCalendar, false);\r\n                } else if (this.selectMonth) {\r\n                    this.visibleMonth.year--;\r\n                    this.generateMonths(isSecondCalendar);\r\n                } else if (this.selectYear) {\r\n                    this.generateYears(this.years[2][2].year - 10);\r\n                }\r\n            } else {\r\n                if (!this.selectMonth && !this.selectYear) {\r\n                    this.visibleMonth.year--;\r\n                    this.setDateViewMonth(isSecondCalendar);\r\n                } else if (this.selectMonth) {\r\n                    this.visibleMonth.year--;\r\n                    this.generateMonths(isSecondCalendar);\r\n                } else if (this.selectYear) {\r\n                    this.generateYears(this.years[2][2].year - 10, isSecondCalendar);\r\n                }\r\n            }\r\n        } else {\r\n            if (event) {\r\n                if (!this.selectMonth_range && !this.selectYear_range) {\r\n                    this.setDateViewMonth(isSecondCalendar, false);\r\n                } else if (this.selectMonth_range) {\r\n                    this.visibleMonth_range.year--;\r\n                    this.generateMonths(isSecondCalendar);\r\n                } else if (this.selectYear_range) {\r\n                    this.generateYears(this.years_range[2][2].year - 10);\r\n                }\r\n            } else {\r\n                if (!this.selectMonth_range && !this.selectYear_range) {\r\n                    this.visibleMonth_range.year--;\r\n                    this.setDateViewMonth(isSecondCalendar);\r\n                } else if (this.selectMonth_range) {\r\n                    this.visibleMonth_range.year--;\r\n                    this.generateMonths(isSecondCalendar);\r\n                } else if (this.selectYear_range) {\r\n                    this.generateYears(this.years_range[2][2].year - 10, isSecondCalendar);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    onNextNavigateBtnClicked(event?: any, isSecondCalendar?: boolean): void {\r\n        if (!isSecondCalendar) {\r\n            if (event) {\r\n                if (!this.selectMonth && !this.selectYear) {\r\n                    this.setDateViewMonth(isSecondCalendar, true);\r\n                } else if (this.selectMonth) {\r\n                    this.visibleMonth.year++;\r\n                    this.generateMonths();\r\n                } else if (this.selectYear) {\r\n                    this.generateYears(this.years[2][2].year + 10);\r\n                }\r\n            } else {\r\n                if (!this.selectMonth && !this.selectYear) {\r\n                    this.visibleMonth.year++;\r\n                    this.setDateViewMonth(isSecondCalendar);\r\n                } else if (this.selectMonth) {\r\n                    this.visibleMonth.year++;\r\n                    this.generateMonths();\r\n                } else if (this.selectYear) {\r\n                    this.generateYears(this.years[2][2].year + 10);\r\n                }\r\n            }\r\n        } else {\r\n            if (event) {\r\n                if (!this.selectMonth_range && !this.selectYear_range) {\r\n                    this.setDateViewMonth(isSecondCalendar, true);\r\n                } else if (this.selectMonth_range) {\r\n                    this.visibleMonth_range.year++;\r\n                    this.generateMonths(isSecondCalendar);\r\n                } else if (this.selectYear_range) {\r\n                    this.generateYears(this.years_range[2][2].year + 10, isSecondCalendar);\r\n                }\r\n            } else {\r\n                if (!this.selectMonth_range && !this.selectYear_range) {\r\n                    this.visibleMonth_range.year++;\r\n                    this.setDateViewMonth(isSecondCalendar);\r\n                } else if (this.selectMonth_range) {\r\n                    this.visibleMonth_range.year++;\r\n                    this.generateMonths(isSecondCalendar);\r\n                } else if (this.selectYear_range) {\r\n                    this.generateYears(this.years_range[2][2].year + 10, isSecondCalendar);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    setDateViewMonth(isSecondCalendar?: boolean, isNext?: boolean): void {\r\n        let change: number;\r\n        if (isNext === undefined) {\r\n            change = 0;\r\n        } else {\r\n            change = isNext ? 1 : -1;\r\n        }\r\n        if (!isSecondCalendar) {\r\n            const { year, monthNbr } = this.visibleMonth;\r\n\r\n            const d: Date = this.getDate(year, monthNbr, 1);\r\n            d.setMonth(d.getMonth() + change);\r\n\r\n            const y: number = d.getFullYear();\r\n            const m: number = d.getMonth() + 1;\r\n\r\n            this.visibleMonth = {\r\n                monthTxt: this.opts.monthLabels[m],\r\n                monthNbr: m,\r\n                year: y,\r\n                yearTxt: this.opts.yearTxt\r\n            };\r\n            this.generateCalendar(m, y, true, isSecondCalendar);\r\n        } else {\r\n            const { year, monthNbr } = this.visibleMonth_range;\r\n\r\n            const d: Date = this.getDate(year, monthNbr, 1);\r\n            d.setMonth(d.getMonth() + change);\r\n\r\n            const y: number = d.getFullYear();\r\n            const m: number = d.getMonth() + 1;\r\n\r\n            this.visibleMonth_range = {\r\n                monthTxt: this.opts.monthLabels[m],\r\n                monthNbr: m,\r\n                year: y,\r\n                yearTxt: this.opts.yearTxt\r\n            };\r\n            this.generateCalendar(m, y, true, isSecondCalendar);\r\n        }\r\n    }\r\n\r\n    onCloseSelector(event: any): void {\r\n        const keyCode: number = this.utilService.getKeyCodeFromEvent(event);\r\n        if (keyCode === KeyCode.esc) {\r\n            this.closedByEsc();\r\n        }\r\n    }\r\n\r\n    onDayCellClicked(cell: IMyCalendarDay, isSecondCalendar?: boolean): void {\r\n        if (cell.cmo === 1) {\r\n            this.onPrevNavigateBtnClicked(true, isSecondCalendar);\r\n        } else if (cell.cmo === 3) {\r\n            this.onNextNavigateBtnClicked(true, isSecondCalendar);\r\n        }\r\n        this.selectDate(cell.dateObj);\r\n        this.resetMonthYearSelect(isSecondCalendar);\r\n    }\r\n\r\n    onDayCellKeyDown(cell: IMyCalendarDay) {\r\n        // Make possible to move focus by arrow keys\r\n        const { sourceRow, sourceCol } = this.getSourceRowAndColumnFromEvent(event);\r\n        const { moveFocus, targetRow, targetCol } = this.getTargetFocusRowAndColumn(\r\n            event,\r\n            sourceRow,\r\n            sourceCol,\r\n            DATE_ROW_COUNT,\r\n            DATE_COL_COUNT\r\n        );\r\n\r\n        if (moveFocus) {\r\n            this.focusCellElement(D, targetRow, targetCol);\r\n        }\r\n    }\r\n    onDayCellMouseEnter(cell: any, isSecondCalendar?: boolean) {\r\n        if (isSecondCalendar) {\r\n            for (const w of this.dates) {\r\n                for (const day of w.week) {\r\n                    day.range =\r\n                        (this.utilService.isDateSameOrEarlier(this.selectedDateRange.begin, day.dateObj) &&\r\n                            this.utilService.isDateSameOrEarlier(day.dateObj, cell.dateObj)) ||\r\n                        (this.utilService.isDateSameOrEarlier(day.dateObj, this.selectedDateRange.begin) &&\r\n                            this.utilService.isDateSameOrEarlier(cell.dateObj, day.dateObj));\r\n                }\r\n            }\r\n        } else {\r\n            for (const w of this.dates_range) {\r\n                for (const day of w.week) {\r\n                    day.range =\r\n                        (this.utilService.isDateSameOrEarlier(this.selectedDateRange.begin, day.dateObj) &&\r\n                            this.utilService.isDateSameOrEarlier(day.dateObj, cell.dateObj)) ||\r\n                        (this.utilService.isDateSameOrEarlier(day.dateObj, this.selectedDateRange.begin) &&\r\n                            this.utilService.isDateSameOrEarlier(cell.dateObj, day.dateObj));\r\n                }\r\n            }\r\n        }\r\n    }\r\n    onDayCellMouseLeave(isSecondCalendar?: boolean) {\r\n        if (isSecondCalendar) {\r\n            for (const w of this.dates) {\r\n                for (const day of w.week) {\r\n                    day.range = false;\r\n                }\r\n            }\r\n        } else {\r\n            for (const w of this.dates_range) {\r\n                for (const day of w.week) {\r\n                    day.range = false;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    onMonthCellMouseEnter(cell: any, isSecondCalendar?: boolean) {\r\n        if (isSecondCalendar) {\r\n            for (const item of this.months) {\r\n                for (const month of item.row) {\r\n                    month.range =\r\n                        (this.utilService.isDateSameOrEarlier(this.selectedDateRange.begin, month.monthObj) &&\r\n                            this.utilService.isDateSameOrEarlier(month.monthObj, cell.monthObj)) ||\r\n                        (this.utilService.isDateSameOrEarlier(month.monthObj, this.selectedDateRange.begin) &&\r\n                            this.utilService.isDateSameOrEarlier(cell.monthObj, month.monthObj));\r\n                }\r\n            }\r\n        } else {\r\n            for (const item of this.months_range) {\r\n                for (const month of item.row) {\r\n                    month.range =\r\n                        (this.utilService.isDateSameOrEarlier(this.selectedDateRange.begin, month.monthObj) &&\r\n                            this.utilService.isDateSameOrEarlier(month.monthObj, cell.monthObj)) ||\r\n                        (this.utilService.isDateSameOrEarlier(month.monthObj, this.selectedDateRange.begin) &&\r\n                            this.utilService.isDateSameOrEarlier(cell.monthObj, month.monthObj));\r\n                }\r\n            }\r\n        }\r\n    }\r\n    onMonthCellMouseLeave(isSecondCalendar?: boolean) {\r\n        if (isSecondCalendar) {\r\n            for (const item of this.months) {\r\n                for (const month of item.row) {\r\n                    month.range = false;\r\n                }\r\n            }\r\n        } else {\r\n            for (const item of this.months) {\r\n                for (const month of item.row) {\r\n                    month.range = false;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    onYearCellMouseEnter(cell: any, isSecondCalendar?: boolean) {\r\n        if (isSecondCalendar) {\r\n            for (const item of this.years) {\r\n                for (const year of item) {\r\n                    year.range =\r\n                        (this.utilService.isDateSameOrEarlier(this.selectedDateRange.begin, year.yearObj) &&\r\n                            this.utilService.isDateSameOrEarlier(year.yearObj, cell.yearObj)) ||\r\n                        (this.utilService.isDateSameOrEarlier(year.yearObj, this.selectedDateRange.begin) &&\r\n                            this.utilService.isDateSameOrEarlier(cell.yearObj, year.yearObj));\r\n                }\r\n            }\r\n        } else {\r\n            for (const item of this.years_range) {\r\n                for (const year of item) {\r\n                    year.range =\r\n                        (this.utilService.isDateSameOrEarlier(this.selectedDateRange.begin, year.yearObj) &&\r\n                            this.utilService.isDateSameOrEarlier(year.yearObj, cell.yearObj)) ||\r\n                        (this.utilService.isDateSameOrEarlier(year.yearObj, this.selectedDateRange.begin) &&\r\n                            this.utilService.isDateSameOrEarlier(cell.yearObj, year.yearObj));\r\n                }\r\n            }\r\n        }\r\n    }\r\n    onYearCellMouseLeave(isSecondCalendar?: boolean) {\r\n        if (isSecondCalendar) {\r\n            for (const item of this.years) {\r\n                for (const year of item) {\r\n                    year.range = false;\r\n                }\r\n            }\r\n        } else {\r\n            for (const item of this.years_range) {\r\n                for (const year of item) {\r\n                    year.range = false;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    onWeekClicked(weekData: IMyWeek) {\r\n        const showTime = this.opts.returnFormat && this.opts.returnFormat.toLocaleLowerCase().indexOf('hh:mm') > -1;\r\n        this.selectedWeek = { weekNbr: weekData.weekNbr, year: weekData.year };\r\n\r\n        if (showTime) {\r\n            weekData.week[0].dateObj.hour = 0;\r\n            weekData.week[0].dateObj.minute = 0;\r\n            weekData.week[0].dateObj.second = 0;\r\n\r\n            weekData.week[6].dateObj.hour = 23;\r\n            weekData.week[6].dateObj.minute = 59;\r\n            weekData.week[6].dateObj.second = 59;\r\n        }\r\n\r\n        this.selectDate(weekData.week[0].dateObj);\r\n        this.selectDate(weekData.week[6].dateObj);\r\n    }\r\n    getSourceRowAndColumnFromEvent(event: any): any {\r\n        let sourceRow = 0;\r\n        let sourceCol = 0;\r\n        if (event.target && event.target.id) {\r\n            // value of id is for example: m_0_1 (first number = row, second number = column)\r\n            const arr: Array<string> = event.target.id.split(UNDER_LINE);\r\n            sourceRow = Number(arr[1]);\r\n            sourceCol = Number(arr[2]);\r\n        }\r\n        return { sourceRow, sourceCol };\r\n    }\r\n\r\n    getTargetFocusRowAndColumn(event: any, row: number, col: number, rowCount: number, colCount: number): any {\r\n        let moveFocus = false;\r\n        let targetRow: number = row;\r\n        let targetCol: number = col;\r\n\r\n        const keyCode: number = this.utilService.getKeyCodeFromEvent(event);\r\n        if (keyCode === KeyCode.upArrow && row > 0) {\r\n            moveFocus = true;\r\n            targetRow--;\r\n        } else if (keyCode === KeyCode.downArrow && row < rowCount) {\r\n            moveFocus = true;\r\n            targetRow++;\r\n        } else if (keyCode === KeyCode.leftArrow && col > 0) {\r\n            moveFocus = true;\r\n            targetCol--;\r\n        } else if (keyCode === KeyCode.rightArrow && col < colCount) {\r\n            moveFocus = true;\r\n            targetCol++;\r\n        }\r\n        return { moveFocus, targetRow, targetCol };\r\n    }\r\n\r\n    focusCellElement(type: string, row: number, col: number): void {\r\n        const elem: any = this.selectorEl.nativeElement.querySelector(DOT + type + UNDER_LINE + row + UNDER_LINE + col);\r\n        if (elem) {\r\n            elem.focus();\r\n        }\r\n    }\r\n\r\n    selectDate(date: IMyDate): void {\r\n        const { dateFormat, monthLabels, dateRangeDatesDelimiter, closeSelectorOnDateSelect, showTime, returnFormat } = this.opts;\r\n\r\n        if (this.opts.dateRange) {\r\n            // Date range\r\n            const isBeginDateInitialized: boolean = this.utilService.isInitializedDate(this.selectedDateRange.begin);\r\n            const isEndDateInitialized: boolean = this.utilService.isInitializedDate(this.selectedDateRange.end) &&\r\n                JSON.stringify(this.selectedDateRange.begin) !== JSON.stringify(this.selectedDateRange.end);\r\n\r\n            if (isBeginDateInitialized && isEndDateInitialized) {\r\n                // both already selected - set begin date and reset end date\r\n                this.selectedDateRange.begin = date;\r\n                this.selectedDateRange.end = this.utilService.resetDate();\r\n\r\n                this.rangeDateSelection({\r\n                    isBegin: true,\r\n                    date,\r\n                    jsDate: this.utilService.getDate(date),\r\n                    dateFormat,\r\n                    formatted: this.utilService.formatDate(date, dateFormat, monthLabels),\r\n                    epoc: this.utilService.getEpocTime(date)\r\n                });\r\n            } else if (!isBeginDateInitialized) {\r\n                // begin date\r\n                this.selectedDateRange.begin = date;\r\n                if (!isEndDateInitialized) {\r\n                    this.selectedDateRange.end = date;\r\n                }\r\n                this.rangeDateSelection({\r\n                    isBegin: true,\r\n                    date,\r\n                    jsDate: this.utilService.getDate(date),\r\n                    dateFormat,\r\n                    formatted: this.utilService.formatDate(date, dateFormat, monthLabels),\r\n                    epoc: this.utilService.getEpocTime(date)\r\n                });\r\n            } else {\r\n                // second selection\r\n                const firstDateEarlier: boolean = this.utilService.isDateEarlier(date, this.selectedDateRange.begin);\r\n                if (firstDateEarlier) {\r\n                    const _date = this.selectedDateRange.begin;\r\n                    this.selectedDateRange.end = _date;\r\n                    this.rangeDateSelection({\r\n                        isBegin: false,\r\n                        date: _date,\r\n                        jsDate: this.utilService.getDate(_date),\r\n                        dateFormat,\r\n                        formatted: this.utilService.formatDate(_date, dateFormat, monthLabels),\r\n                        epoc: this.utilService.getEpocTime(_date)\r\n                    });\r\n                    this.selectedDateRange.begin = date;\r\n                    this.rangeDateSelection({\r\n                        isBegin: true,\r\n                        date,\r\n                        jsDate: this.utilService.getDate(date),\r\n                        dateFormat,\r\n                        formatted: this.utilService.formatDate(date, dateFormat, monthLabels),\r\n                        epoc: this.utilService.getEpocTime(date)\r\n                    });\r\n                } else {\r\n                    this.selectedDateRange.end = date;\r\n                    this.rangeDateSelection({\r\n                        isBegin: false,\r\n                        date,\r\n                        jsDate: this.utilService.getDate(date),\r\n                        dateFormat,\r\n                        formatted: this.utilService.formatDate(date, dateFormat, monthLabels),\r\n                        epoc: this.utilService.getEpocTime(date)\r\n                    });\r\n                }\r\n                if (!this.opts.showTime) {\r\n                    this.dateChanged(\r\n                        this.utilService.getDateModel(\r\n                            null,\r\n                            this.selectedDateRange,\r\n                            dateFormat,\r\n                            monthLabels,\r\n                            dateRangeDatesDelimiter,\r\n                            returnFormat\r\n                        ),\r\n                        closeSelectorOnDateSelect\r\n                    );\r\n                }\r\n            }\r\n        } else {\r\n            // Single date\r\n            this.selectedDate = date;\r\n\r\n            if (!this.opts.showTime) {\r\n                this.dateChanged(\r\n                    this.utilService.getDateModel(\r\n                        this.selectedDate,\r\n                        null,\r\n                        dateFormat,\r\n                        monthLabels,\r\n                        dateRangeDatesDelimiter,\r\n                        returnFormat\r\n                    ),\r\n                    showTime ? false : closeSelectorOnDateSelect\r\n                );\r\n            } else {\r\n                if (!this.timeVlaue && this.opts.viewType == ViewType.Together) {\r\n                    this.timeVlaue = this.getTimeStr(new Date);\r\n                }\r\n            }\r\n        }\r\n    }\r\n    toSelectMonth(month: IMyMonth): void {\r\n        const { dateFormat, monthLabels, dateRangeDatesDelimiter, closeSelectorOnDateSelect, showTime, returnFormat } = this.opts;\r\n        if (this.opts.dateRange) {\r\n            // month range\r\n            const isBeginMonthInitialized: boolean = this.utilService.isInitializedMonth(this.selectedDateRange.begin);\r\n            const isEndMonthInitialized: boolean = this.utilService.isInitializedMonth(this.selectedDateRange.end);\r\n            if (isBeginMonthInitialized && isEndMonthInitialized) {\r\n                // both already selected - set begin date and reset end date\r\n                this.selectedDateRange.begin = { year: month.year, month: month.monthNbr };\r\n                this.selectedDateRange.end = this.utilService.resetDate();\r\n                this.rangeDateSelection({\r\n                    isBegin: true,\r\n                    date: this.selectedDateRange.begin,\r\n                    jsDate: this.utilService.getDate(this.selectedDateRange.begin),\r\n                    dateFormat,\r\n                    formatted: this.utilService.formatDate(this.selectedDateRange.begin, dateFormat, monthLabels),\r\n                    epoc: this.utilService.getEpocTime(this.selectedDateRange.begin)\r\n                });\r\n            } else if (!isBeginMonthInitialized) {\r\n                // begin date\r\n                this.selectedDateRange.begin = { year: month.year, month: month.monthNbr };\r\n                this.rangeDateSelection({\r\n                    isBegin: true,\r\n                    date: this.selectedDateRange.begin,\r\n                    jsDate: this.utilService.getDate(this.selectedDateRange.begin),\r\n                    dateFormat,\r\n                    formatted: this.utilService.formatDate(this.selectedDateRange.begin, dateFormat, monthLabels),\r\n                    epoc: this.utilService.getEpocTime(this.selectedDateRange.begin)\r\n                });\r\n            } else {\r\n                // second selection\r\n                const firstDateEarlier: boolean = this.utilService.isDateEarlier(\r\n                    { year: month.year, month: month.monthNbr },\r\n                    this.selectedDateRange.begin\r\n                );\r\n                if (firstDateEarlier) {\r\n                    const _date = this.selectedDateRange.begin;\r\n                    this.selectedDateRange.end = _date;\r\n                    this.rangeDateSelection({\r\n                        isBegin: false,\r\n                        date: _date,\r\n                        jsDate: this.utilService.getDate(_date),\r\n                        dateFormat,\r\n                        formatted: this.utilService.formatDate(_date, dateFormat, monthLabels),\r\n                        epoc: this.utilService.getEpocTime(_date)\r\n                    });\r\n                    this.selectedDateRange.begin = { year: month.year, month: month.monthNbr };\r\n                    this.rangeDateSelection({\r\n                        isBegin: true,\r\n                        date: this.selectedDateRange.begin,\r\n                        jsDate: this.utilService.getDate(this.selectedDateRange.begin),\r\n                        dateFormat,\r\n                        formatted: this.utilService.formatDate(this.selectedDateRange.begin, dateFormat, monthLabels),\r\n                        epoc: this.utilService.getEpocTime(this.selectedDateRange.begin)\r\n                    });\r\n                } else {\r\n                    this.selectedDateRange.end = { year: month.year, month: month.monthNbr };\r\n                    this.rangeDateSelection({\r\n                        isBegin: false,\r\n                        date: this.selectedDateRange.end,\r\n                        jsDate: this.utilService.getDate(this.selectedDateRange.end),\r\n                        dateFormat,\r\n                        formatted: this.utilService.formatDate(this.selectedDateRange.end, dateFormat, monthLabels),\r\n                        epoc: this.utilService.getEpocTime(this.selectedDateRange.end)\r\n                    });\r\n                }\r\n                if (!this.opts.showTime) {\r\n                    this.dateChanged(\r\n                        this.utilService.getDateModel(\r\n                            null,\r\n                            this.selectedDateRange,\r\n                            dateFormat,\r\n                            monthLabels,\r\n                            dateRangeDatesDelimiter,\r\n                            returnFormat\r\n                        ),\r\n                        closeSelectorOnDateSelect\r\n                    );\r\n                }\r\n            }\r\n        } else {\r\n            this.selectedMonth = month;\r\n            this.dateChanged(\r\n                this.utilService.getDateModel(\r\n                    { year: month.year, month: month.monthNbr },\r\n                    null,\r\n                    dateFormat,\r\n                    monthLabels,\r\n                    dateRangeDatesDelimiter,\r\n                    returnFormat\r\n                ),\r\n                showTime ? false : closeSelectorOnDateSelect\r\n            );\r\n        }\r\n    }\r\n    toSelectYear(year: { year: number }): void {\r\n        const { dateFormat, monthLabels, dateRangeDatesDelimiter, closeSelectorOnDateSelect, showTime, returnFormat } = this.opts;\r\n        if (this.opts.dateRange) {\r\n            // month range\r\n            const isBeginYearInitialized: boolean = this.utilService.isInitializedYear(this.selectedDateRange.begin);\r\n            const isEndYearInitialized: boolean = this.utilService.isInitializedYear(this.selectedDateRange.end);\r\n            if (isBeginYearInitialized && isEndYearInitialized) {\r\n                // both already selected - set begin date and reset end date\r\n                this.selectedDateRange.begin = year;\r\n                this.selectedDateRange.end = this.utilService.resetDate();\r\n                this.rangeDateSelection({\r\n                    isBegin: true,\r\n                    date: this.selectedDateRange.begin,\r\n                    jsDate: this.utilService.getDate(this.selectedDateRange.begin),\r\n                    dateFormat,\r\n                    formatted: this.utilService.formatDate(this.selectedDateRange.begin, dateFormat, monthLabels),\r\n                    epoc: this.utilService.getEpocTime(this.selectedDateRange.begin)\r\n                });\r\n            } else if (!isBeginYearInitialized) {\r\n                // begin date\r\n                this.selectedDateRange.begin = year;\r\n                this.rangeDateSelection({\r\n                    isBegin: true,\r\n                    date: this.selectedDateRange.begin,\r\n                    jsDate: this.utilService.getDate(this.selectedDateRange.begin),\r\n                    dateFormat,\r\n                    formatted: this.utilService.formatDate(this.selectedDateRange.begin, dateFormat, monthLabels),\r\n                    epoc: this.utilService.getEpocTime(this.selectedDateRange.begin)\r\n                });\r\n            } else {\r\n                // second selection\r\n                const firstDateEarlier: boolean = this.utilService.isDateEarlier(year, this.selectedDateRange.begin);\r\n                if (firstDateEarlier) {\r\n                    const _date = this.selectedDateRange.begin;\r\n                    this.selectedDateRange.end = _date;\r\n                    this.rangeDateSelection({\r\n                        isBegin: false,\r\n                        date: _date,\r\n                        jsDate: this.utilService.getDate(_date),\r\n                        dateFormat,\r\n                        formatted: this.utilService.formatDate(_date, dateFormat, monthLabels),\r\n                        epoc: this.utilService.getEpocTime(_date)\r\n                    });\r\n                    this.selectedDateRange.begin = year;\r\n                    this.rangeDateSelection({\r\n                        isBegin: true,\r\n                        date: this.selectedDateRange.begin,\r\n                        jsDate: this.utilService.getDate(this.selectedDateRange.begin),\r\n                        dateFormat,\r\n                        formatted: this.utilService.formatDate(this.selectedDateRange.begin, dateFormat, monthLabels),\r\n                        epoc: this.utilService.getEpocTime(this.selectedDateRange.begin)\r\n                    });\r\n                } else {\r\n                    this.selectedDateRange.end = year;\r\n                    this.rangeDateSelection({\r\n                        isBegin: false,\r\n                        date: this.selectedDateRange.end,\r\n                        jsDate: this.utilService.getDate(this.selectedDateRange.end),\r\n                        dateFormat,\r\n                        formatted: this.utilService.formatDate(this.selectedDateRange.end, dateFormat, monthLabels),\r\n                        epoc: this.utilService.getEpocTime(this.selectedDateRange.end)\r\n                    });\r\n                }\r\n                if (!this.opts.showTime) {\r\n                    this.dateChanged(\r\n                        this.utilService.getDateModel(\r\n                            null,\r\n                            this.selectedDateRange,\r\n                            dateFormat,\r\n                            monthLabels,\r\n                            dateRangeDatesDelimiter,\r\n                            returnFormat\r\n                        ),\r\n                        closeSelectorOnDateSelect\r\n                    );\r\n                }\r\n            }\r\n        } else {\r\n            this.dateChanged(\r\n                this.utilService.getDateModel(year, null, dateFormat, monthLabels, dateRangeDatesDelimiter, returnFormat),\r\n                showTime ? false : closeSelectorOnDateSelect\r\n            );\r\n        }\r\n    }\r\n    monthStartIdx(y: number, m: number): number {\r\n        // Month start index\r\n        const d: Date = new Date();\r\n        d.setDate(1);\r\n        d.setMonth(m - 1);\r\n        d.setFullYear(y);\r\n        const idx = d.getDay() + this.sundayIdx();\r\n        return idx >= 7 ? idx - 7 : idx;\r\n    }\r\n\r\n    daysInMonth(m: number, y: number): number {\r\n        // Return number of days of current month\r\n        return new Date(y, m, 0).getDate();\r\n    }\r\n\r\n    daysInPrevMonth(m: number, y: number): number {\r\n        // Return number of days of the previous month\r\n        const d: Date = this.getDate(y, m, 1);\r\n        d.setMonth(d.getMonth() - 1);\r\n        return this.daysInMonth(d.getMonth() + 1, d.getFullYear());\r\n    }\r\n\r\n    isCurrDay(d: number, m: number, y: number, cmo: number, today: IMyDate): boolean {\r\n        // Check is a given date the today\r\n        return d === today.day && m === today.month && y === today.year && cmo === MonthId.curr;\r\n    }\r\n\r\n    getWidth() {\r\n        const hasShortCuts = this.opts.shortcuts && this.opts.shortcuts.length > 0;\r\n        if (this.opts.dateRange && this.opts.showType !== 4) {\r\n            return hasShortCuts ? '660px' : '574px';\r\n        } else {\r\n            const w =  (hasShortCuts ? 380 : 287) + ((this.opts.viewType === ViewType.Together || this.multiSelect) ? 200 : 0);\r\n            return w + 'px';\r\n        }\r\n    }\r\n\r\n    getToday(): IMyDate {\r\n        const date: Date = new Date();\r\n        if (this.opts.showTime) {\r\n            return {\r\n                year: date.getFullYear(),\r\n                month: date.getMonth() + 1,\r\n                day: date.getDate(),\r\n                hour: date.getHours(),\r\n                minute: date.getMinutes(),\r\n                second: date.getSeconds()\r\n            };\r\n        } else {\r\n            return { year: date.getFullYear(), month: date.getMonth() + 1, day: date.getDate() };\r\n        }\r\n    }\r\n\r\n    getDayNumber(date: IMyDate): number {\r\n        // Get day number: su=0, mo=1, tu=2, we=3 ...\r\n        const d: Date = this.getDate(date.year, date.month, date.day);\r\n        return d.getDay();\r\n    }\r\n\r\n    getWeekday(date: IMyDate): string {\r\n        // Get weekday: su, mo, tu, we ...\r\n        return this.weekDayOpts[this.getDayNumber(date)];\r\n    }\r\n\r\n    getDate(year: number, month: number, day: number): Date {\r\n        // Creates a date object from given year, month and day\r\n        return new Date(year, month - 1, day, 0, 0, 0, 0);\r\n    }\r\n\r\n    sundayIdx(): number {\r\n        // Index of Sunday day\r\n        return this.dayIdx > 0 ? 7 - this.dayIdx : 0;\r\n    }\r\n\r\n    generateCalendar(m: number, y: number, notifyChange: boolean, isSecondCalendar?: boolean): void {\r\n        if (!isSecondCalendar) {\r\n            this.dates.length = 0;\r\n        } else {\r\n            this.dates_range.length = 0;\r\n        }\r\n        const today: IMyDate = this.getToday();\r\n        const monthStart: number = this.monthStartIdx(y, m);\r\n        const dInThisM: number = this.daysInMonth(m, y);\r\n        const dInPrevM: number = this.daysInPrevMonth(m, y);\r\n\r\n        let dayNbr = 1;\r\n        let cmo: number = MonthId.prev;\r\n        for (let i = 1; i < 7; i++) {\r\n            const week: Array<IMyCalendarDay> = [];\r\n            if (i === 1) {\r\n                // First week\r\n                const pm = dInPrevM - monthStart + 1;\r\n                // Previous month\r\n                for (let j = pm; j <= dInPrevM; j++) {\r\n                    const date: IMyDate = { year: m === 1 ? y - 1 : y, month: m === 1 ? 12 : m - 1, day: j };\r\n                    week.push({\r\n                        dateObj: date,\r\n                        cmo,\r\n                        currDay: this.isCurrDay(j, m, y, cmo, today),\r\n                        disabled: this.utilService.isDisabledDate(date, this.opts),\r\n                        markedDate: this.utilService.isMarkedDate(date, this.opts.markDates, this.opts.markWeekends),\r\n                        highlight: this.utilService.isHighlightedDate(\r\n                            date,\r\n                            this.opts.sunHighlight,\r\n                            this.opts.satHighlight,\r\n                            this.opts.highlightDates\r\n                        )\r\n                    });\r\n                }\r\n\r\n                cmo = MonthId.curr;\r\n                // Current month\r\n                const daysLeft: number = 7 - week.length;\r\n                for (let j = 0; j < daysLeft; j++) {\r\n                    const date: IMyDate = { year: y, month: m, day: dayNbr };\r\n                    week.push({\r\n                        dateObj: date,\r\n                        cmo,\r\n                        currDay: this.isCurrDay(dayNbr, m, y, cmo, today),\r\n                        disabled: this.utilService.isDisabledDate(date, this.opts),\r\n                        markedDate: this.utilService.isMarkedDate(date, this.opts.markDates, this.opts.markWeekends),\r\n                        highlight: this.utilService.isHighlightedDate(\r\n                            date,\r\n                            this.opts.sunHighlight,\r\n                            this.opts.satHighlight,\r\n                            this.opts.highlightDates\r\n                        )\r\n                    });\r\n                    dayNbr++;\r\n                }\r\n            } else {\r\n                // Rest of the weeks\r\n                for (let j = 1; j < 8; j++) {\r\n                    if (dayNbr > dInThisM) {\r\n                        // Next month\r\n                        dayNbr = 1;\r\n                        cmo = MonthId.next;\r\n                    }\r\n                    const date: IMyDate = {\r\n                        year: cmo === MonthId.next && m === 12 ? y + 1 : y,\r\n                        month: cmo === MonthId.curr ? m : cmo === MonthId.next && m < 12 ? m + 1 : 1,\r\n                        day: dayNbr\r\n                    };\r\n                    week.push({\r\n                        dateObj: date,\r\n                        cmo,\r\n                        currDay: this.isCurrDay(dayNbr, m, y, cmo, today),\r\n                        disabled: this.utilService.isDisabledDate(date, this.opts),\r\n                        markedDate: this.utilService.isMarkedDate(date, this.opts.markDates, this.opts.markWeekends),\r\n                        highlight: this.utilService.isHighlightedDate(\r\n                            date,\r\n                            this.opts.sunHighlight,\r\n                            this.opts.satHighlight,\r\n                            this.opts.highlightDates\r\n                        )\r\n                    });\r\n                    dayNbr++;\r\n                }\r\n            }\r\n\r\n            // let weekNbr = this.opts.showWeekNumbers ? this.utilService.getWeekNumber(week[0].dateObj) : 0;\r\n            let weekNbr = 0;\r\n            if (this.opts.showWeekNumbers ) {\r\n                const dateIndex = this.opts.firstDayOfWeek == 'su' ? 6: 0\r\n           \r\n                weekNbr = this.utilService.getWeekNumber(week[dateIndex].dateObj);\r\n                // if (this.opts.firstDayOfWeek === 'su') {\r\n                //     endDayWeekNbr -= 1;\r\n                // }\r\n                // weekNbr = this.utilService.getWeekNumber(week[0].dateObj) === endDayWeekNbr ? this.utilService.getWeekNumber(week[0].dateObj): 0;\r\n            }\r\n\r\n\r\n\r\n            if (!isSecondCalendar) {\r\n                this.dates.push({ week, weekNbr, year: y });\r\n            } else {\r\n                this.dates_range.push({ week, weekNbr, year: y });\r\n            }\r\n        }\r\n\r\n        this.setDateViewHeaderBtnDisabledState(m, y, isSecondCalendar);\r\n\r\n        if (notifyChange) {\r\n            // Notify parent\r\n            this.calendarViewChanged({\r\n                year: y,\r\n                month: m,\r\n                first: { number: 1, weekday: this.getWeekday({ year: y, month: m, day: 1 }) },\r\n                last: { number: dInThisM, weekday: this.getWeekday({ year: y, month: m, day: dInThisM }) }\r\n            });\r\n        }\r\n    }\r\n\r\n    setDateViewHeaderBtnDisabledState(m: number, y: number, isSecondCalendar: boolean): void {\r\n        let dpm = false;\r\n        let dnm = false;\r\n\r\n        const { disableUntil, disableSince, minYear, maxYear } = this.opts;\r\n\r\n        dpm = this.utilService.isMonthDisabledByDisableUntil(\r\n            {\r\n                year: m === 1 ? y - 1 : y,\r\n                month: m === 1 ? 12 : m - 1,\r\n                day: this.daysInMonth(m === 1 ? 12 : m - 1, m === 1 ? y - 1 : y)\r\n            },\r\n            disableUntil\r\n        );\r\n        dnm = this.utilService.isMonthDisabledByDisableSince(\r\n            { year: m === 12 ? y + 1 : y, month: m === 12 ? 1 : m + 1, day: 1 },\r\n            disableSince\r\n        );\r\n        if (!isSecondCalendar) {\r\n            this.prevViewDisabled = (m === 1 && y === minYear) || dpm;\r\n            this.nextViewDisabled = (m === 12 && y === maxYear) || dnm;\r\n            this.prevDobViewDisabled = y === minYear || dpm;\r\n            this.nextDobViewDisabled = y === maxYear || dnm;\r\n        } else {\r\n            this.prevViewDisabled_range = (m === 1 && y === minYear) || dpm;\r\n            this.nextViewDisabled_range = (m === 12 && y === maxYear) || dnm;\r\n            this.prevDobViewDisabled_range = y === minYear || dpm;\r\n            this.nextDobViewDisabled_range = y === maxYear || dnm;\r\n        }\r\n    }\r\n\r\n    setMonthViewHeaderBtnDisabledState(y: number, isSecondCalendar: boolean): void {\r\n        let dpm = false;\r\n        let dnm = false;\r\n\r\n        const { disableUntil, disableSince, minYear, maxYear } = this.opts;\r\n\r\n        dpm = this.utilService.isMonthDisabledByDisableUntil({ year: y - 1, month: 12, day: 31 }, disableUntil);\r\n        dnm = this.utilService.isMonthDisabledByDisableSince({ year: y + 1, month: 1, day: 1 }, disableSince);\r\n        if (!isSecondCalendar) {\r\n            this.prevViewDisabled = y === minYear || dpm;\r\n            this.nextViewDisabled = y === maxYear || dnm;\r\n            this.prevDobViewDisabled = y === minYear || dpm;\r\n            this.nextDobViewDisabled = y === maxYear || dnm;\r\n        } else {\r\n            this.prevViewDisabled_range = y === minYear || dpm;\r\n            this.nextViewDisabled_range = y === maxYear || dnm;\r\n            this.prevDobViewDisabled_range = y === minYear || dpm;\r\n            this.nextDobViewDisabled_range = y === maxYear || dnm;\r\n        }\r\n    }\r\n\r\n    setYearViewHeaderBtnDisabledState(yp: number, yn: number, isSecondCalendar: boolean): void {\r\n        let dpy = false;\r\n        let dny = false;\r\n\r\n        const { disableUntil, disableSince, minYear, maxYear } = this.opts;\r\n\r\n        dpy = this.utilService.isMonthDisabledByDisableUntil({ year: yp - 1, month: 12, day: 31 }, disableUntil);\r\n        dny = this.utilService.isMonthDisabledByDisableSince({ year: yn + 1, month: 1, day: 1 }, disableSince);\r\n        if (!isSecondCalendar) {\r\n            this.prevViewDisabled = yp <= minYear || dpy;\r\n            this.nextViewDisabled = yn >= maxYear || dny;\r\n            this.prevDobViewDisabled = yp <= minYear || dpy;\r\n            this.nextDobViewDisabled = yn >= maxYear || dny;\r\n        } else {\r\n            this.prevViewDisabled_range = yp <= minYear || dpy;\r\n            this.nextViewDisabled_range = yn >= maxYear || dny;\r\n            this.prevDobViewDisabled_range = yp <= minYear || dpy;\r\n            this.nextDobViewDisabled_range = yn >= maxYear || dny;\r\n        }\r\n    }\r\n    onContainerClick(event: Event) {\r\n        event.stopPropagation();\r\n    }\r\n    onClickTimeBtn(event: Event) {\r\n        event.stopPropagation();\r\n        if (this.opts.dateRange) {\r\n            const beginIsInitializedDate = this.utilService.isInitializedDate(this.selectedDateRange.begin);\r\n            const endIsInitializedDate = this.utilService.isInitializedDate(this.selectedDateRange.end);\r\n            const now = new Date();\r\n            if (!beginIsInitializedDate || !endIsInitializedDate) {\r\n                // ç´æ¥ç¹å»ç¡®å®æ¾ç¤ºæ¬æåä¸æ\r\n                if (!beginIsInitializedDate) {\r\n                    this.selectedDateRange.begin = { year: now.getFullYear(), month: now.getMonth() + 1, day: now.getDate() };\r\n                }\r\n                let endYear = now.getFullYear();\r\n                let endmonth = now.getMonth() + 1;\r\n                if (endmonth >= 12) {\r\n                    endYear = endYear + 1;\r\n                    endmonth = 1;\r\n                }\r\n                // else {\r\n                //     endmonth = endmonth + this.opts.monthRangeValue;\r\n                // }\r\n                this.selectedDateRange.end = { ...this.selectedDateRange.begin };\r\n                // this.selectedDateRange.end = { year: endYear, month: endmonth, day: now.getDate() };\r\n                // ç¹å»selectTimeä¹åç»dateRangeèµä¸¤ä¸ªæ¶é´å¼\r\n                this.timeVlaue = this.getTimeStr(now);\r\n                this.timeVlaue_range = this.getTimeStr(now);\r\n            }\r\n\r\n            if (!this.timeVlaue_range) {\r\n                this.timeVlaue_range = this.getTimeStr(now);\r\n            }\r\n            \r\n            this.timeVlaue_range = this.checkTimeValues(this.timeVlaue_range);\r\n\r\n        } else {\r\n            if (!this.utilService.isInitializedDate(this.selectedDate)) {\r\n                const now = new Date();\r\n                // ç¹å»selectTimeä¹åèµå¼\r\n                this.timeVlaue = this.getTimeStr(now);\r\n                this.selectedDate = { year: now.getFullYear(), month: now.getMonth() + 1, day: now.getDate() };\r\n            }\r\n        }\r\n\r\n        \r\n        if (!this.timeVlaue) {\r\n            const now = new Date();\r\n            // ç¹å»selectTimeä¹åèµå¼\r\n            this.timeVlaue = this.getTimeStr(now);\r\n            if (!this.utilService.isInitializedDate(this.selectedDate)) {\r\n                this.selectedDate = { year: now.getFullYear(), month: now.getMonth() + 1, day: now.getDate() };\r\n            }\r\n        }\r\n\r\n        this.timeVlaue = this.checkTimeValues(this.timeVlaue);\r\n\r\n        if (this.selectYear) {\r\n            this.selectYear = false;\r\n        }\r\n        if (this.selectMonth) {\r\n            this.selectMonth = false;\r\n        }\r\n\r\n        if (this.selectYear_range) {\r\n            this.selectYear_range = false;\r\n        }\r\n\r\n        if (this.selectMonth_range) {\r\n            this.selectMonth_range = false;\r\n        }\r\n\r\n        this.selectTime = !this.selectTime;\r\n        this.cdr.detectChanges();\r\n    }\r\n\r\n    onShowDynamicView($event) {\r\n        $event.stopPropagation();\r\n        this.opts.showDynamicView = true;\r\n        this.dynamicViewShow.emit( { showDynamicView: true } );\r\n        this.cdr.detectChanges();\r\n    }\r\n\r\n    onShowDatePanel($event) {\r\n        $event.stopPropagation();\r\n        this.opts.showDynamicView = false;\r\n        this.dynamicViewShow.emit( { showDynamicView: false } );\r\n        this.cdr.detectChanges();\r\n    }\r\n\r\n\r\n    private getTimeValue(isDateRange) {\r\n        const t = { start: null, end: null };\r\n        if (this.timeVlaue) {\r\n            const timeArr = this.timeVlaue.replace('æ¶', ':').replace('å', ':').replace('ç§', '').split(':');\r\n            if (timeArr.length >= 2) {\r\n                t.start = {\r\n                    hour: timeArr[0],\r\n                    minute: timeArr[1],\r\n                    second: timeArr[2] ? timeArr[2] : 0\r\n                };\r\n            }\r\n        } else {\r\n            const nowDate = new Date();\r\n            const hour = nowDate.getHours();\r\n            const minute = nowDate.getMinutes();\r\n            const second = nowDate.getSeconds();\r\n\r\n            if (this.opts.dateRange) {\r\n                t.start = { hour: 0, minute: 0, second: 0 };\r\n            } else {\r\n                t.start = { hour, minute, second };\r\n            }\r\n        }\r\n\r\n        if (isDateRange) {\r\n            if (this.timeVlaue_range) {\r\n                const timeArr_range = this.timeVlaue_range.replace('æ¶', ':').replace('å', ':').replace('ç§', '').split(':');\r\n                if (timeArr_range.length >= 2) {\r\n                    t.end = {\r\n                        hour: timeArr_range[0],\r\n                        minute: timeArr_range[1],\r\n                        second: timeArr_range[2] ? timeArr_range[2] : 0\r\n                    };\r\n                }\r\n            } else {\r\n                const hour = 23;\r\n                const minute = 59;\r\n                const second = 59;\r\n                t.end = { hour, minute, second };\r\n            }\r\n        }\r\n\r\n        return t;\r\n    }\r\n\r\n\r\n    onClickOkBtn(event: Event) {\r\n        event.stopPropagation();\r\n        let timeObj = null;\r\n        let timeObj_range = null;\r\n        let selectedDate = null;\r\n        let selectedDate_range = null;\r\n        if (this.opts.showTime) {\r\n            const { start, end } = this.getTimeValue(this.opts.dateRange);\r\n            timeObj = start;\r\n            timeObj_range = end;\r\n        }\r\n        const { dateFormat, monthLabels, dateRangeDatesDelimiter, closeSelectorOnDateSelect, returnFormat } = this.opts;\r\n        if (!this.opts.dateRange) {\r\n            selectedDate = { ...this.initializedDate(this.selectedDate), ...timeObj };\r\n            const isInDisableRange = this.utilService.isDisabledDate(selectedDate, this.opts);\r\n            const earlier = this.utilService.isDateSameOrEarlier(selectedDate, this.opts.disableUntil);\r\n\r\n            selectedDate = !isInDisableRange\r\n                ? selectedDate\r\n                : { ...selectedDate, ...(earlier ? this.opts.disableUntil : this.opts.disableSince) };\r\n            \r\n\r\n            this.checkTimeValue(selectedDate);\r\n        } else {\r\n            const begin = { ...this.initializedDate(this.selectedDateRange.begin), ...timeObj };\r\n            const end = { ...this.initializedDate(this.selectedDateRange.end, begin), ...timeObj_range };\r\n            this.checkTimeValue(begin);\r\n            this.checkTimeValue(end);\r\n            selectedDate_range = { begin, end };\r\n        }\r\n\r\n        const dateModel: IMyDateModel = this.utilService.getDateModel(\r\n            selectedDate,\r\n            selectedDate_range,\r\n            dateFormat,\r\n            monthLabels,\r\n            dateRangeDatesDelimiter,\r\n            returnFormat\r\n        );\r\n        this.dateChanged(dateModel, closeSelectorOnDateSelect);\r\n    }\r\n\r\n    onTodayClick($event) {\r\n        $event.stopPropagation();\r\n        let timeObj = null;\r\n        let selectedDate = null;\r\n        let selectedDate_range = null;\r\n        if (this.opts.showTime) {\r\n            const { start } = this.getTimeValue(false);\r\n            timeObj = start;\r\n        }\r\n        const { dateFormat, monthLabels, dateRangeDatesDelimiter, closeSelectorOnDateSelect, returnFormat } = this.opts;\r\n        \r\n        selectedDate = { ...this.initializedDate({ year: 0, month: 0, day: 0 }), ...timeObj };\r\n        const isInDisableRange = this.utilService.isDisabledDate(selectedDate, this.opts);\r\n        const earlier = this.utilService.isDateSameOrEarlier(selectedDate, this.opts.disableUntil);\r\n\r\n        selectedDate = !isInDisableRange\r\n            ? selectedDate\r\n            : { ...selectedDate, ...(earlier ? this.opts.disableUntil : this.opts.disableSince) };\r\n\r\n        const dateModel: IMyDateModel = this.utilService.getDateModel(\r\n            selectedDate,\r\n            selectedDate_range,\r\n            dateFormat,\r\n            monthLabels,\r\n            dateRangeDatesDelimiter,\r\n            returnFormat\r\n        );\r\n        this.dateChanged(dateModel, closeSelectorOnDateSelect);\r\n    }\r\n\r\n\r\n\r\n    onDynamicOkClick($event, dynamicviewRef) {\r\n        if (dynamicviewRef) {\r\n            const text = dynamicviewRef.formatValue();\r\n            const value = dynamicviewRef.getValue();\r\n            value.text = text;\r\n            this.opts.dynamicValueChanged(value);\r\n        }\r\n    }\r\n\r\n    initializedDate(date: IMyDate, otherDate: IMyDate = { year: 0, month: 0, day: 0 }): IMyDate {\r\n        const daysInMonth: Array<number> = [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];\r\n        if (!this.utilService.isInitializedDate(date) && !this.utilService.isInitializedDate(otherDate)) {\r\n            const year = new Date().getFullYear();\r\n            const month = new Date().getMonth() + 1;\r\n            const day = new Date().getDate();\r\n            return this.utilService.isDisabledDate({ year, month, day }, this.opts) ? this.opts.disableUntil : { year, month, day };\r\n        } else if (!this.utilService.isInitializedDate(date)) {\r\n            const year = otherDate.month + 1 > 12 ? otherDate.year + 1 : otherDate.year;\r\n            let month = otherDate.month + 1 > 12 ? 1 : otherDate.month + this.opts.monthRangeValue;\r\n            if (!date.month) {\r\n                month = otherDate.month;\r\n            }\r\n            const day = otherDate.day < 1 || otherDate.day > daysInMonth[month - 1] ? 1 : otherDate.day;\r\n            return this.utilService.isDisabledDate({ year, month, day }, this.opts) ? this.opts.disableSince : { year, month, day };\r\n        }\r\n        return date;\r\n    }\r\n\r\n    setTime(date: any) {\r\n        const { dateFormat, monthLabels, dateRangeDatesDelimiter, closeSelectorOnDateSelect, returnFormat } = this.opts;\r\n        if (date instanceof Date) {\r\n            if (this.opts.showType !== 4 && !this.opts.dateRange) {\r\n                let targetDate: IMyDate;\r\n                if (this.opts.showTime) {\r\n                    targetDate = {\r\n                        year: date.getFullYear(),\r\n                        month: date.getMonth() + 1,\r\n                        day: date.getDate(),\r\n                        hour: date.getHours(),\r\n                        minute: date.getMinutes(),\r\n                        second: date.getSeconds()\r\n                    };\r\n                } else {\r\n                    targetDate = { year: date.getFullYear(), month: date.getMonth() + 1, day: date.getDate() };\r\n                }\r\n                const dateModel: IMyDateModel = this.utilService.getDateModel(\r\n                    targetDate,\r\n                    null,\r\n                    dateFormat,\r\n                    monthLabels,\r\n                    dateRangeDatesDelimiter,\r\n                    returnFormat\r\n                );\r\n                this.dateChanged(dateModel, closeSelectorOnDateSelect);\r\n            } else {\r\n                // å¯ç¨å¨éæ©æ¶  å¿«æ·æé®åæ°ä¸ºåä¸ªæ¥æ\r\n                const dateModel: IMyDateModel = this.utilService.getDateModel(\r\n                    null,\r\n                    this.utilService.getNowWeekTime(date),\r\n                    dateFormat,\r\n                    monthLabels,\r\n                    dateRangeDatesDelimiter,\r\n                    returnFormat\r\n                );\r\n                this.dateChanged(dateModel, closeSelectorOnDateSelect);\r\n            }\r\n        } else if (date instanceof Object && this.opts.dateRange) {\r\n            let targetDateRange: IMyDateRange;\r\n            const { begin, end } = date;\r\n            if (!begin || !end) {\r\n                return;\r\n            }\r\n            if (this.opts.showTime) {\r\n                targetDateRange = {\r\n                    begin: {\r\n                        year: begin.getFullYear(),\r\n                        month: begin.getMonth() + 1,\r\n                        day: begin.getDate(),\r\n                        hour: begin.getHours(),\r\n                        minute: begin.getMinutes(),\r\n                        second: begin.getSeconds()\r\n                    },\r\n                    end: {\r\n                        year: end.getFullYear(),\r\n                        month: end.getMonth() + 1,\r\n                        day: end.getDate(),\r\n                        hour: end.getHours(),\r\n                        minute: end.getMinutes(),\r\n                        second: end.getSeconds()\r\n                    }\r\n                };\r\n            } else {\r\n                targetDateRange = {\r\n                    begin: { year: begin.getFullYear(), month: begin.getMonth() + 1, day: begin.getDate() },\r\n                    end: { year: end.getFullYear(), month: end.getMonth() + 1, day: end.getDate() }\r\n                };\r\n            }\r\n            const dateModel: IMyDateModel = this.utilService.getDateModel(\r\n                null,\r\n                targetDateRange,\r\n                dateFormat,\r\n                monthLabels,\r\n                dateRangeDatesDelimiter,\r\n                returnFormat\r\n            );\r\n            this.dateChanged(dateModel, closeSelectorOnDateSelect);\r\n        } else {\r\n            // console.warn('åæ°å¿é¡»ç¬¦åè¦æ±ï¼');\r\n        }\r\n    }\r\n\r\n    onSelectCurrentWeek($event: MouseEvent) {\r\n        $event.stopPropagation();\r\n        const firstDay = this.opts.firstDayOfWeek === 'su' ? 'æ¥': 'ä¸';\r\n        const { begin, end } = this.dateHlp.getNowWeekTime(new Date(), firstDay);\r\n        const year = new Date().getFullYear();\r\n        const weekNbr = this.utilService.getWeekNumber(begin);\r\n\r\n        const showTime = this.opts.returnFormat && this.opts.returnFormat.toLocaleLowerCase().indexOf('hh:mm') > -1;\r\n        this.selectedWeek = { weekNbr, year };\r\n\r\n        if (showTime) {\r\n            begin['hour'] = 0;\r\n            begin['minute'] = 0;\r\n            begin['second'] = 0;\r\n\r\n            end['hour'] = 23;\r\n            end['minute'] = 59;\r\n            end['second'] = 59;\r\n        }\r\n\r\n        this.selectDate(begin);\r\n        this.selectDate(end);\r\n    }\r\n\r\n    onDynamicValueChanged($event) {\r\n        this.btnDynamicDisabled = !$event;\r\n    }\r\n\r\n    onDayCellClickedForMultiDates(cell: IMyCalendarDay, isSecondCalendar?: boolean): void {\r\n        if (cell.cmo === 1) {\r\n            this.onPrevNavigateBtnClicked(true, isSecondCalendar);\r\n        } else if (cell.cmo === 3) {\r\n            this.onNextNavigateBtnClicked(true, isSecondCalendar);\r\n        }\r\n        const { dateFormat, monthLabels, maxSelected, closeSelectorOnDateSelect, showTime, returnFormat, selectedOrderBy } = this.opts;\r\n        let selectedDates = [];\r\n        const isSelected = this.selectedDates.find(n => this.utilService.isDateSame(n, cell.dateObj));\r\n        if (!isSelected) {\r\n            if (!maxSelected || (maxSelected && this.selectedDates.length < maxSelected)) {\r\n                selectedDates = [...this.selectedDates, { ...cell.dateObj, value: this.utilService.formatDate(cell.dateObj, dateFormat, monthLabels) }];\r\n            } else {\r\n                selectedDates = [...this.selectedDates];\r\n                if (this.showNotify) {\r\n                    this.showNotify();\r\n                }\r\n            }\r\n        } else {\r\n            selectedDates = this.selectedDates.filter(n => n!== isSelected);\r\n        }\r\n\r\n        selectedDates = this.utilService.orderSelectedDates(selectedDates, selectedOrderBy);\r\n\r\n        this.selectedDates = selectedDates;\r\n        this.resetMonthYearSelect(isSecondCalendar);\r\n    }\r\n\r\n    onMultiDatesOkClicked($event: MouseEvent) {\r\n        $event.stopPropagation();\r\n        this.multiDatesChanged(this.selectedDates);\r\n    }\r\n\r\n    onMultiDateRemoved(removeItem) {\r\n        this.selectedDates = this.selectedDates.filter(n => n!== removeItem);\r\n    }\r\n\r\n    onMultiDateClear($event) {\r\n        this.selectedDates = [];\r\n    }\r\n\r\n    showGoBackToday() {\r\n        const { monthNbr, year } = this.visibleMonth;\r\n        const { year: currentYear, month } = this.getToday();\r\n        return monthNbr != month || year != currentYear;\r\n    }\r\n\r\n    private setCalendarView(year, month) {\r\n        if (this.visibleMonth.year != year || this.visibleMonth.monthNbr != month) {\r\n            this.visibleMonth = {\r\n                monthTxt: this.opts.monthLabels[month],\r\n                monthNbr: month,\r\n                year: year,\r\n                yearTxt: this.opts.yearTxt\r\n            };\r\n\r\n            this.selectedMonth.year = year;\r\n            this.selectedMonth.monthNbr = month;\r\n\r\n            //tfs638280\r\n            this.selectMonth = false;\r\n            this.selectYear = false;\r\n\r\n            this.generateCalendar(month, year, true);\r\n        }\r\n    }\r\n\r\n    gototodayView($event) {\r\n        const { year, month } = this.getToday();\r\n        this.setCalendarView(year, month);\r\n    }\r\n\r\n    onSelectDateClicked($event) {\r\n        if (!$event) {\r\n            return;\r\n        }\r\n        const { year, month } = $event;\r\n        this.setCalendarView(year, month);\r\n    }\r\n\r\n\r\n\r\n\r\n    private makeRange(\r\n        length: number,\r\n        step: number = 1,\r\n        start: number = 0\r\n    ): number[] {\r\n        step = Math.ceil(step);\r\n        return new Array(Math.ceil(length / step))\r\n            .fill(0)\r\n            .map((_, i) => (i + start) * step);\r\n    }\r\n\r\n    private buildHours() {\r\n        let hourRanges = 24;\r\n        let disabledHours = this.disabledHours && this.disabledHours();\r\n        let startIndex = 0;\r\n        \r\n        let hourRange = this.makeRange(hourRanges, this.opts.hourStep, startIndex).map(\r\n            r => {\r\n                return {\r\n                    index: r,\r\n                    disabled:\r\n                        this.disabledHours && disabledHours.indexOf(r) !== -1\r\n                };\r\n            }\r\n        );\r\n        // ç§»é¤ç¦ç¨çå¼\r\n        return hourRange.filter( n => {\r\n            return !(n.disabled);\r\n        });\r\n    }\r\n\r\n    private buildMinutes(timeObj: any) {\r\n        let minuteRange = this.makeRange(60, this.opts.minuteStep).map(r => {\r\n            return {\r\n                index: r,\r\n                disabled:\r\n                    this.disabledMinutes &&\r\n                    this.disabledMinutes(timeObj.hours!).indexOf(r) !== -1\r\n            };\r\n        });\r\n\r\n        // ç§»é¤ç¦ç¨çå¼\r\n        return minuteRange.filter( n => {\r\n            return !(n.disabled);\r\n        });\r\n    }\r\n\r\n    private buildSeconds(timeObj: any) {\r\n        let secondRange = this.makeRange(60, this.opts.secondStep).map(r => {\r\n            return {\r\n                index: r,\r\n                disabled:\r\n                    this.disabledSeconds &&\r\n                    this.disabledSeconds(\r\n                        timeObj.hours!,\r\n                        timeObj.minutes!\r\n                    ).indexOf(r) !== -1\r\n            };\r\n        });\r\n\r\n        // ç§»é¤ç¦ç¨çå¼\r\n        return secondRange.filter( n => {\r\n            return !(n.disabled);\r\n        });\r\n    }\r\n\r\n    checkTimeValues(timeValue: string) {\r\n        if (timeValue) {\r\n            let times = timeValue.split(':').map(n => parseInt(n, 10));\r\n            const timeObj = {\r\n                hour: times[0],\r\n                minute: times[1],\r\n                second: times[2]\r\n            };\r\n\r\n            if (this.opts.hourStep > 1) {\r\n                const hours = this.buildHours();\r\n                if (!hours.find(n => n.index === timeObj.hour)) {\r\n                    timeObj.hour = 0;\r\n                }\r\n    \r\n            }\r\n    \r\n            if (this.opts.minuteStep > 1) {\r\n                const minutes = this.buildMinutes({ hours: timeObj.hour });\r\n                if (!minutes.find(n => n.index === timeObj.minute)) {\r\n                    timeObj.minute = 0;\r\n                }\r\n            }\r\n    \r\n            if (this.opts.secondStep> 1) {\r\n                const seconds = this.buildSeconds({ hours: timeObj.hour, minutes: timeObj.minute });\r\n                if (!seconds.find(n => n.index === timeObj.second)) {\r\n                    timeObj.second = 0;\r\n                }\r\n            }\r\n\r\n            return `${timeObj.hour || '00'}:${timeObj.minute || '00'}:${timeObj.second || '00'}`;\r\n        }\r\n\r\n        return timeValue;\r\n    }\r\n\r\n    checkTimeValue(dateObj: IMyDate) {\r\n        if (!this.opts.showTime) {\r\n            return;\r\n        }\r\n        if (this.opts.hourStep > 1) {\r\n            const hours = this.buildHours();\r\n            if (!hours.find(n => n.index ===  parseInt(''+ dateObj.hour, 10))) {\r\n                dateObj.hour = 0;\r\n            }\r\n\r\n        }\r\n\r\n        if (this.opts.minuteStep > 1) {\r\n            const minutes = this.buildMinutes({ hours: dateObj.hour });\r\n            if (!minutes.find(n => n.index === parseInt(''+dateObj.minute, 10))) {\r\n                dateObj.minute = 0;\r\n            }\r\n        }\r\n\r\n        if (this.opts.secondStep> 1) {\r\n            const seconds = this.buildSeconds({ hours: dateObj.hour, minutes: dateObj.minute });\r\n            if (!seconds.find(n => n.index === parseInt(''+dateObj.second, 10))) {\r\n                dateObj.second = 0;\r\n            }\r\n        }\r\n    }\r\n}\r\n","/*\r\n * @Author: ç¯çç§æ(Lucas Huang)\r\n * @Date: 2019-08-02 14:14:22\r\n * @LastEditors: ç¯çç§æ(Lucas Huang)\r\n * @LastEditTime: 2019-09-09 09:27:58\r\n * @QQ: 1055818239\r\n * @Version: v0.0.1\r\n */\r\nimport {\r\n    Component,\r\n    EventEmitter,\r\n    Input,\r\n    OnChanges,\r\n    Output,\r\n    ViewEncapsulation,\r\n    SimpleChanges\r\n} from '@angular/core';\r\nimport {\r\n    IMyOptions,\r\n    IMyMonth,\r\n    IMyCalendarYear\r\n} from '../../interfaces/public-api';\r\nimport {\r\n    OPTS,\r\n    YEARS,\r\n    VISIBLE_MONTH,\r\n    SELECT_MONTH,\r\n    SELECT_YEAR,\r\n    PREV_VIEW_DISABLED,\r\n    NEXT_VIEW_DISABLED,\r\n    YYYY,\r\n    MM\r\n} from '../../constants/constants';\r\n\r\n@Component({\r\n    selector: 'lib-selection-bar',\r\n    templateUrl: './selection-bar.component.html',\r\n    encapsulation: ViewEncapsulation.None\r\n})\r\nexport class SelectionBarComponent implements OnChanges {\r\n    @Input() opts: IMyOptions;\r\n    @Input() years: Array<Array<IMyCalendarYear>>;\r\n    @Input() visibleMonth: IMyMonth;\r\n    @Input() selectMonth: boolean;\r\n    @Input() selectYear: boolean;\r\n    @Input() selectToday: boolean;\r\n    @Input() prevViewDisabled: boolean;\r\n    @Input() nextViewDisabled: boolean;\r\n    @Input() prevDobViewDisabled: boolean;\r\n    @Input() nextDobViewDisabled: boolean;\r\n\r\n    @Output() prevNavigateBtnClicked: EventEmitter<boolean> = new EventEmitter<\r\n        boolean\r\n    >();\r\n    @Output() nextNavigateBtnClicked: EventEmitter<boolean> = new EventEmitter<\r\n        boolean\r\n    >();\r\n    @Output() monthViewBtnClicked: EventEmitter<void> = new EventEmitter<\r\n        void\r\n    >();\r\n    @Output() yearViewBtnClicked: EventEmitter<void> = new EventEmitter<void>();\r\n    @Output() todayViewBtnClicked: EventEmitter<void> = new EventEmitter<\r\n        void\r\n    >();\r\n    constructor() {}\r\n\r\n    ngOnChanges(changes: SimpleChanges): void {\r\n        if (changes.hasOwnProperty(OPTS)) {\r\n            this.opts = changes[OPTS].currentValue;\r\n        }\r\n        if (changes.hasOwnProperty(YEARS)) {\r\n            this.years = changes[YEARS].currentValue;\r\n        }\r\n        if (changes.hasOwnProperty(VISIBLE_MONTH)) {\r\n            this.visibleMonth = changes[VISIBLE_MONTH].currentValue;\r\n        }\r\n        if (changes.hasOwnProperty(SELECT_MONTH)) {\r\n            this.selectMonth = changes[SELECT_MONTH].currentValue;\r\n        }\r\n        if (changes.hasOwnProperty(SELECT_YEAR)) {\r\n            this.selectYear = changes[SELECT_YEAR].currentValue;\r\n        }\r\n        if (changes.hasOwnProperty(PREV_VIEW_DISABLED)) {\r\n            this.prevViewDisabled = changes[PREV_VIEW_DISABLED].currentValue;\r\n        }\r\n        if (changes.hasOwnProperty(NEXT_VIEW_DISABLED)) {\r\n            this.nextViewDisabled = changes[NEXT_VIEW_DISABLED].currentValue;\r\n        }\r\n    }\r\n\r\n    onPrevNavigateBtnClicked(event: any): void {\r\n        event.stopPropagation();\r\n        !this.prevViewDisabled && this.prevNavigateBtnClicked.emit(true);\r\n    }\r\n\r\n    onNextNavigateBtnClicked(event: any): void {\r\n        event.stopPropagation();\r\n        !this.nextViewDisabled && this.nextNavigateBtnClicked.emit(true);\r\n    }\r\n    onPrevDobNavigateBtnClicked(event: any): void {\r\n        event.stopPropagation();\r\n        !this.prevDobViewDisabled && this.prevNavigateBtnClicked.emit(false);\r\n    }\r\n\r\n    onNextDobNavigateBtnClicked(event: any): void {\r\n        event.stopPropagation();\r\n        !this.nextDobViewDisabled && this.nextNavigateBtnClicked.emit(false);\r\n    }\r\n    onMonthViewBtnClicked(event): void {\r\n        event.stopPropagation();\r\n        this.monthViewBtnClicked.emit();\r\n    }\r\n\r\n    onYearViewBtnClicked(event): void {\r\n        event.stopPropagation();\r\n        this.yearViewBtnClicked.emit();\r\n    }\r\n    onTodayViewBtnClicked(event): void {\r\n        event.stopPropagation();\r\n        this.todayViewBtnClicked.emit();\r\n    }\r\n    getFormateType(): string {\r\n        const yIndex = this.opts.dateFormat\r\n            ? this.opts.dateFormat.indexOf(YYYY)\r\n            : 0;\r\n        const mIndex = this.opts.dateFormat\r\n            ? this.opts.dateFormat.indexOf(MM)\r\n            : 0;\r\n        return yIndex > mIndex ? `${MM}-${YYYY}` : `${YYYY}-${MM}`;\r\n    }\r\n}\r\n","/*\r\n * @Author: ç¯çç§æ(Lucas Huang)\r\n * @Date: 2019-09-04 07:39:58\r\n * @LastEditors: ç¯çç§æ(Lucas Huang)\r\n * @LastEditTime: 2019-09-04 15:03:39\r\n * @QQ: 1055818239\r\n * @Version: v0.0.1\r\n */\r\nimport {\r\n    Component,\r\n    EventEmitter,\r\n    Input,\r\n    OnChanges,\r\n    Output,\r\n    ViewEncapsulation,\r\n    SimpleChanges\r\n} from '@angular/core';\r\nimport { UtilService } from '../../services/public-api';\r\nimport {\r\n    IMyOptions,\r\n    IMyCalendarDay,\r\n    IMyDate,\r\n    IMyDateRange,\r\n    IMyWeek\r\n} from '../../interfaces/public-api';\r\nimport { MonthId, KeyCode } from '../../enums/public-api';\r\nimport {\r\n    OPTS,\r\n    DATES,\r\n    WEEK_DAYS,\r\n    SELECTED_DATE,\r\n    SELECTED_DATE_RANGE\r\n} from '../../constants/constants';\r\n\r\n// import { IMyWeek } from '../../interfaces/my-month-row.interface'\r\n\r\n@Component({\r\n    selector: 'lib-day-view',\r\n    templateUrl: './day-view.component.html',\r\n    providers: [UtilService],\r\n    encapsulation: ViewEncapsulation.None\r\n})\r\nexport class DayViewComponent implements OnChanges {\r\n    @Input() opts: IMyOptions;\r\n    @Input() dates: Array<IMyWeek>;\r\n    @Input() weekDays: Array<string>;\r\n    @Input() selectedDate: IMyDate;\r\n    @Input() selectedDateRange: IMyDateRange;\r\n    @Input() selectedWeek: IMyWeek;\r\n\r\n    @Output() dayCellClicked: EventEmitter<IMyCalendarDay> = new EventEmitter<\r\n        IMyCalendarDay\r\n    >();\r\n    @Output() dayCellKeyDown: EventEmitter<IMyCalendarDay> = new EventEmitter<\r\n        IMyCalendarDay\r\n    >();\r\n    @Output() weekClicked: EventEmitter<any> = new EventEmitter<any>();\r\n\r\n    @Output() onMouseEnter: EventEmitter<any> = new EventEmitter<any>();\r\n    @Output() onMouseLeave: EventEmitter<any> = new EventEmitter<any>();\r\n\r\n    prevMonthId: number = MonthId.prev;\r\n    currMonthId: number = MonthId.curr;\r\n    nextMonthId: number = MonthId.next;\r\n\r\n    constructor(private utilService: UtilService) {}\r\n\r\n    ngOnChanges(changes: SimpleChanges): void {\r\n        if (changes.hasOwnProperty(OPTS)) {\r\n            this.opts = changes[OPTS].currentValue;\r\n        }\r\n        if (changes.hasOwnProperty(DATES)) {\r\n            this.dates = changes[DATES].currentValue;\r\n        }\r\n        if (changes.hasOwnProperty(WEEK_DAYS)) {\r\n            this.weekDays = changes[WEEK_DAYS].currentValue;\r\n        }\r\n        if (changes.hasOwnProperty(SELECTED_DATE)) {\r\n            this.selectedDate = changes[SELECTED_DATE].currentValue;\r\n        }\r\n        if (changes.hasOwnProperty(SELECTED_DATE_RANGE)) {\r\n            this.selectedDateRange = changes[SELECTED_DATE_RANGE].currentValue;\r\n        }\r\n    }\r\n\r\n    onDayCellClicked(event: any, cell: IMyCalendarDay): void {\r\n        if (cell.disabled || this.opts.showType === 4) {\r\n            return;\r\n        }\r\n        event.stopPropagation();\r\n        this.dayCellClicked.emit(cell);\r\n    }\r\n\r\n    onDayCellKeyDown(event: KeyboardEvent, cell: IMyCalendarDay) {\r\n        const keyCode: number = this.utilService.getKeyCodeFromEvent(event);\r\n        if (keyCode !== KeyCode.tab) {\r\n            event.preventDefault();\r\n\r\n            if (keyCode === KeyCode.enter || keyCode === KeyCode.space) {\r\n                this.onDayCellClicked(event, cell);\r\n            } else if (this.opts.moveFocusByArrowKeys) {\r\n                this.dayCellKeyDown.emit(cell);\r\n            }\r\n        }\r\n    }\r\n    onWeekClicked(event: KeyboardEvent, week: IMyWeek) {\r\n        if (this.opts.showType !== 4) { return; }\r\n        event.stopPropagation();\r\n        this.weekClicked.emit(week);\r\n    }\r\n\r\n    onDayCellMouseEnter(cell: any): void {\r\n        if (\r\n            this.utilService.isInitializedDate(this.selectedDateRange.begin) &&\r\n            (!this.utilService.isInitializedDate(this.selectedDateRange.end) ||\r\n                JSON.stringify(this.selectedDateRange.begin) === JSON.stringify(this.selectedDateRange.end))\r\n        ) {\r\n            for (const w of this.dates) {\r\n                for (const day of w.week) {\r\n                    day.range =\r\n                        (this.utilService.isDateSameOrEarlier(this.selectedDateRange.begin,day.dateObj) && this.utilService.isDateSameOrEarlier(day.dateObj, cell.dateObj)) ||\r\n                        (this.utilService.isDateSameOrEarlier(day.dateObj,this.selectedDateRange.begin) && this.utilService.isDateSameOrEarlier(cell.dateObj,day.dateObj));\r\n                }\r\n            }\r\n            this.onMouseEnter.emit(cell);\r\n        }\r\n    }\r\n\r\n    onDayCellMouseLeave(): void {\r\n        for (const w of this.dates) {\r\n            for (const day of w.week) {\r\n                day.range = false;\r\n            }\r\n        }\r\n        this.onMouseLeave.emit();\r\n    }\r\n\r\n    isDateInRange(date: IMyDate): boolean {\r\n        return this.utilService.isDateInRange(date, this.selectedDateRange);\r\n    }\r\n\r\n    isDateSame(date: IMyDate): boolean {\r\n        return this.utilService.isDateSame(\r\n            {\r\n                year: this.selectedDate.year,\r\n                month: this.selectedDate.month,\r\n                day: this.selectedDate.day\r\n            },\r\n            date\r\n        );\r\n    }\r\n\r\n    isDateRangeBeginOrEndSame(date: IMyDate): boolean {\r\n        const selectedDateRange = {\r\n            begin: {\r\n                year: this.selectedDateRange.begin.year,\r\n                month: this.selectedDateRange.begin.month,\r\n                day: this.selectedDateRange.begin.day\r\n            },\r\n            end: {\r\n                year: this.selectedDateRange.end.year,\r\n                month: this.selectedDateRange.end.month,\r\n                day: this.selectedDateRange.end.day\r\n            }\r\n        };\r\n        return this.utilService.isDateRangeBeginOrEndSame(\r\n            selectedDateRange,\r\n            date\r\n        );\r\n    }\r\n}\r\n","/*\r\n * @Author: ç¯çç§æ(Lucas Huang)\r\n * @Date: 2019-08-15 17:31:08\r\n * @LastEditors: ç¯çç§æ(Lucas Huang)\r\n * @LastEditTime: 2019-09-04 15:01:15\r\n * @QQ: 1055818239\r\n * @Version: v0.0.1\r\n */\r\nimport {\r\n    Component,\r\n    EventEmitter,\r\n    Input,\r\n    OnChanges,\r\n    Output,\r\n    SimpleChanges,\r\n    ViewEncapsulation\r\n} from '@angular/core';\r\nimport { UtilService } from '../../services/public-api';\r\nimport {\r\n    IMyCalendarMonth,\r\n    IMyOptions,\r\n    IMyDate,\r\n    IMyDateRange,\r\n    IMyMonthRow,\r\n    IMyMonth\r\n} from '../../interfaces/public-api';\r\nimport { KeyCode } from '../../enums/public-api';\r\nimport { OPTS, MONTHS } from '../../constants/constants';\r\n\r\n@Component({\r\n    selector: 'lib-month-view',\r\n    templateUrl: './month-view.component.html',\r\n    providers: [UtilService],\r\n    encapsulation: ViewEncapsulation.None\r\n})\r\nexport class MonthViewComponent implements OnChanges {\r\n    @Input() opts: IMyOptions;\r\n    @Input() months: Array<IMyMonthRow> = [];\r\n    @Input() selectedDate: IMyDate;\r\n    @Input() selectedDateRange: IMyDateRange;\r\n    @Input() visibleMonth: IMyMonth;\r\n    @Output() monthCellClicked: EventEmitter<IMyCalendarMonth> = new EventEmitter<IMyCalendarMonth>();\r\n    @Output() monthCellKeyDown: EventEmitter<IMyCalendarMonth> = new EventEmitter<IMyCalendarMonth>();\r\n\r\n    @Output() onMouseEnter: EventEmitter<any> = new EventEmitter<any>();\r\n    @Output() onMouseLeave: EventEmitter<any> = new EventEmitter<any>();\r\n\r\n    constructor(private utilService: UtilService) { }\r\n\r\n    ngOnChanges(changes: SimpleChanges): void {\r\n        if (changes.hasOwnProperty(OPTS)) {\r\n            this.opts = changes[OPTS].currentValue;\r\n        }\r\n        if (changes.hasOwnProperty(MONTHS)) {\r\n            this.months = changes[MONTHS].currentValue;\r\n        }\r\n    }\r\n\r\n    onMonthCellClicked(event: any, cell: IMyCalendarMonth): void {\r\n        event.stopPropagation();\r\n\r\n        if (cell.disabled) {\r\n            return;\r\n        }\r\n\r\n        this.monthCellClicked.emit(cell);\r\n    }\r\n\r\n    onMonthCellKeyDown(event: KeyboardEvent, cell: IMyCalendarMonth) {\r\n        const keyCode: number = this.utilService.getKeyCodeFromEvent(event);\r\n        if (keyCode !== KeyCode.tab) {\r\n            event.preventDefault();\r\n\r\n            if (keyCode === KeyCode.enter || keyCode === KeyCode.space) {\r\n                this.onMonthCellClicked(event, cell);\r\n            } else if (this.opts.moveFocusByArrowKeys) {\r\n                this.monthCellKeyDown.emit(cell);\r\n            }\r\n        }\r\n    }\r\n    onMonthCellMouseEnter(cell: any): void {\r\n        if (\r\n            this.utilService.isInitializedDate(this.selectedDateRange.begin) &&\r\n            !this.utilService.isInitializedDate(this.selectedDateRange.end)\r\n        ) {\r\n            for (let i = 0; i < this.months.length; i++) {\r\n                let row = this.months[i].row;\r\n                for (let j = 0; j < row.length; j++) {\r\n                    let month = row[j];\r\n                    month.range =\r\n                        (this.utilService.isDateSameOrEarlier(\r\n                            this.selectedDateRange.begin,\r\n                            month.monthObj\r\n                        ) &&\r\n                            this.utilService.isDateSameOrEarlier(\r\n                                month.monthObj,\r\n                                cell.monthObj\r\n                            )) ||\r\n                        (this.utilService.isDateSameOrEarlier(\r\n                            month.monthObj,\r\n                            this.selectedDateRange.begin\r\n                        ) &&\r\n                            this.utilService.isDateSameOrEarlier(\r\n                                cell.monthObj,\r\n                                month.monthObj\r\n                            ));\r\n                }\r\n            }\r\n            this.onMouseEnter.emit(cell);\r\n        }\r\n    }\r\n\r\n    onMonthCellMouseLeave(): void {\r\n        for (let i = 0; i < this.months.length; i++) {\r\n            let row = this.months[i].row;\r\n            for (let j = 0; j < row.length; j++) {\r\n                let month = row[j];\r\n                month.range = false;\r\n            }\r\n        }\r\n        this.onMouseLeave.emit();\r\n    }\r\n    isMonthInRange(date: IMyDate): boolean {\r\n        return this.utilService.isDateInRange(date, this.selectedDateRange);\r\n    }\r\n    isMonthSame(date: IMyDate): boolean {\r\n\r\n        if (this.selectedDate) {\r\n            const { year, month} = this.selectedDate;\r\n            return year == date.year && month == date.month;\r\n        }\r\n        return false;\r\n        // if (this.visibleMonth.monthNbr) {\r\n            \r\n        // } else {\r\n        //     return this.visibleMonth.year == date.year && this.visibleMonth.monthNbr == date.month;\r\n        // }\r\n    }\r\n    isMonthRangeBeginOrEndSame(date: IMyDate): boolean {\r\n        return this.utilService.isDateRangeBeginOrEndSame(\r\n            this.selectedDateRange,\r\n            date\r\n        );\r\n    }\r\n}\r\n","import { Component, EventEmitter, Input, OnChanges, Output, SimpleChanges, ViewEncapsulation } from '@angular/core';\r\nimport { YEARS, OPTS } from '../../constants/constants';\r\nimport { UtilService } from '../../services/public-api';\r\nimport { IMyCalendarYear, IMyOptions, IMyDate, IMyDateRange, IMyMonth } from '../../interfaces/public-api';\r\nimport { KeyCode } from '../../enums/public-api';\r\n@Component({\r\n    selector: 'lib-year-view',\r\n    templateUrl: './year-view.component.html',\r\n    providers: [UtilService],\r\n    encapsulation: ViewEncapsulation.None\r\n})\r\nexport class YearViewComponent implements OnChanges {\r\n    @Input() opts: IMyOptions;\r\n    @Input() years: Array<Array<IMyCalendarYear>>;\r\n    @Input() prevViewDisabled: boolean;\r\n    @Input() nextViewDisabled: boolean;\r\n    @Input() selectedDate: IMyDate;\r\n    @Input() selectedDateRange: IMyDateRange;\r\n    @Input() visibleMonth: IMyMonth;\r\n\r\n\r\n    @Output() yearCellClicked: EventEmitter<IMyCalendarYear> = new EventEmitter<IMyCalendarYear>();\r\n    @Output() yearCellKeyDown: EventEmitter<IMyCalendarYear> = new EventEmitter<IMyCalendarYear>();\r\n    @Output() prevCellClicked: EventEmitter<void> = new EventEmitter<void>();\r\n    @Output() nextCellClicked: EventEmitter<void> = new EventEmitter<void>();\r\n\r\n    @Output() onMouseEnter: EventEmitter<any> = new EventEmitter<any>();\r\n    @Output() onMouseLeave: EventEmitter<any> = new EventEmitter<any>();\r\n\r\n    constructor(private utilService: UtilService) {}\r\n    ngOnInit(): void {}\r\n    ngOnChanges(changes: SimpleChanges): void {\r\n        if (changes.hasOwnProperty(OPTS)) {\r\n            this.opts = changes[OPTS].currentValue;\r\n        }\r\n        if (changes.hasOwnProperty(YEARS)) {\r\n            this.years = changes[YEARS].currentValue;\r\n        }\r\n    }\r\n\r\n    onYearCellClicked(event: any, cell: IMyCalendarYear): void {\r\n        event.stopPropagation();\r\n        if (cell.disabled) {\r\n            return;\r\n        }\r\n        this.yearCellClicked.emit(cell);\r\n    }\r\n\r\n    onYearCellKeyDown(event: KeyboardEvent, cell: IMyCalendarYear) {\r\n        const keyCode: number = this.utilService.getKeyCodeFromEvent(event);\r\n        if (keyCode !== KeyCode.tab) {\r\n            event.preventDefault();\r\n\r\n            if (keyCode === KeyCode.enter || keyCode === KeyCode.space) {\r\n                this.onYearCellClicked(event, cell);\r\n            } else if (this.opts.moveFocusByArrowKeys) {\r\n                this.yearCellKeyDown.emit(cell);\r\n            }\r\n        }\r\n    }\r\n    onPrevOrNextYearCellClicked(event: any, index: number) {\r\n        event.stopPropagation();\r\n        if (index === 0) {\r\n            if (this.prevViewDisabled) return;\r\n            this.prevCellClicked.emit(event);\r\n        } else {\r\n            if (this.nextViewDisabled) return;\r\n            this.nextCellClicked.emit(event);\r\n        }\r\n    }\r\n    onMonthCellMouseEnter(cell: any): void {\r\n        if (\r\n            this.utilService.isInitializedDate(this.selectedDateRange.begin) &&\r\n            !this.utilService.isInitializedDate(this.selectedDateRange.end)\r\n        ) {\r\n            for (let i = 0; i < this.years.length; i++) {\r\n                let row = this.years[i];\r\n                for (let j = 0; j < row.length; j++) {\r\n                    let year = row[j];\r\n                    year.range =\r\n                        (this.utilService.isDateSameOrEarlier(\r\n                            this.selectedDateRange.begin,\r\n                            year.yearObj\r\n                        ) &&\r\n                            this.utilService.isDateSameOrEarlier(\r\n                                year.yearObj,\r\n                                cell.yearObj\r\n                            )) ||\r\n                        (this.utilService.isDateSameOrEarlier(\r\n                            year.yearObj,\r\n                            this.selectedDateRange.begin\r\n                        ) &&\r\n                            this.utilService.isDateSameOrEarlier(\r\n                                cell.yearObj,\r\n                                year.yearObj\r\n                            ));\r\n                }\r\n            }\r\n            this.onMouseEnter.emit(cell);\r\n        }\r\n    }\r\n\r\n    onMonthCellMouseLeave(): void {\r\n        for (let i = 0; i < this.years.length; i++) {\r\n            let row = this.years[i];\r\n            for (let j = 0; j < row.length; j++) {\r\n                let year = row[j];\r\n                year.range = false;\r\n            }\r\n        }\r\n        this.onMouseLeave.emit();\r\n    }\r\n    isMonthInRange(year: IMyDate): boolean {\r\n        return this.utilService.isDateInRange(year, this.selectedDateRange);\r\n    }\r\n    isYearSame(year: IMyDate): boolean {\r\n      \r\n        // return this.utilService.isDateSame(\r\n        //     {\r\n        //         year: this.visibleMonth.year\r\n        //     },\r\n        //     year\r\n        // );\r\n\r\n        if (this.selectedDate) {\r\n            return this.selectedDate.year === year.year;\r\n        }\r\n\r\n        return false;\r\n    }\r\n    isMonthRangeBeginOrEndSame(year: IMyDate): boolean {\r\n        return this.utilService.isDateSame(\r\n            { year: this.selectedDateRange.begin.year }, year\r\n        ) || this.utilService.isDateSame(\r\n            { year: this.selectedDateRange.end.year }, year\r\n        );\r\n    }\r\n}\r\n","import {\r\n    Directive,\r\n    Input,\r\n    ComponentRef,\r\n    ElementRef,\r\n    ViewContainerRef,\r\n    Renderer2,\r\n    ChangeDetectorRef,\r\n    ComponentFactoryResolver,\r\n    forwardRef,\r\n    EventEmitter,\r\n    Output,\r\n    SimpleChanges,\r\n    OnChanges,\r\n    HostListener,\r\n    OnDestroy,\r\n    NgZone\r\n} from '@angular/core';\r\nimport {\r\n    AbstractControl,\r\n    ControlValueAccessor,\r\n    NG_VALIDATORS,\r\n    NG_VALUE_ACCESSOR,\r\n    Validator\r\n} from '@angular/forms';\r\nimport { CalendarComponent } from './components/calendar/calendar.component';\r\n\r\nimport {\r\n    IMyOptions,\r\n    IMyDate,\r\n    IMyDateModel,\r\n    IMyDateRange,\r\n    IMyRangeDateSelection,\r\n    IMyCalendarViewChanged,\r\n    IMyInputFieldChanged,\r\n    IMySelectorPosition\r\n} from './interfaces/public-api';\r\n\r\nimport {\r\n    UtilService,\r\n    DatepickerLocaleService,\r\n    DefaultConfigService\r\n} from './services/public-api';\r\n\r\nimport { KeyCode, CalToggle, Year, ResetDateType } from './enums/public-api';\r\n\r\nimport {\r\n    KEYUP,\r\n    BLUR,\r\n    EMPTY_STR,\r\n    DISABLED,\r\n    CLICK,\r\n    BODY,\r\n    VALUE,\r\n    OPTIONS,\r\n    DEFAULT_MONTH,\r\n    LOCALE,\r\n    OBJECT,\r\n    PX\r\n} from './constants/constants';\r\n\r\nconst NGX_DP_VALUE_ACCESSOR = {\r\n    provide: NG_VALUE_ACCESSOR,\r\n    useExisting: forwardRef(() => FarrisDatePickerDirective),\r\n    multi: true\r\n};\r\n\r\nconst NGX_DP_VALIDATORS = {\r\n    provide: NG_VALIDATORS,\r\n    useExisting: forwardRef(() => FarrisDatePickerDirective),\r\n    multi: true\r\n};\r\n\r\n@Directive({\r\n    selector: '[farris-datepicker]',\r\n    exportAs: 'farris-datepicker',\r\n    providers: [\r\n        UtilService,\r\n        DatepickerLocaleService,\r\n        DefaultConfigService,\r\n        NGX_DP_VALUE_ACCESSOR,\r\n        NGX_DP_VALIDATORS\r\n    ]\r\n})\r\nexport class FarrisDatePickerDirective\r\n    implements OnChanges, OnDestroy, ControlValueAccessor, Validator {\r\n    @Input() options: IMyOptions;\r\n    @Input() locale: string;\r\n    @Input() defaultMonth: string;\r\n\r\n    @Output() dateChanged: EventEmitter<IMyDateModel> = new EventEmitter<\r\n        IMyDateModel\r\n    >();\r\n    @Output() inputFieldChanged: EventEmitter<\r\n        IMyInputFieldChanged\r\n    > = new EventEmitter<IMyInputFieldChanged>();\r\n    @Output() calendarViewChanged: EventEmitter<\r\n        IMyCalendarViewChanged\r\n    > = new EventEmitter<IMyCalendarViewChanged>();\r\n    @Output() calendarToggle: EventEmitter<number> = new EventEmitter<number>();\r\n    @Output() rangeDateSelection: EventEmitter<\r\n        IMyRangeDateSelection\r\n    > = new EventEmitter<IMyRangeDateSelection>();\r\n\r\n    private cRef: ComponentRef<CalendarComponent> = null;\r\n    private inputText = '';\r\n    private preventClose = false;\r\n    private disabled = false;\r\n\r\n    private opts: IMyOptions;\r\n\r\n    // scrollFn: any = (e) => {\r\n    //     console.log((e.target as any).scrollTop);\r\n    // };\r\n\r\n    onChangeCb: (_: any) => void = () => {};\r\n    onTouchedCb: () => void = () => {};\r\n\r\n    constructor(\r\n        public localeService: DatepickerLocaleService,\r\n        private utilService: UtilService,\r\n        private vcRef: ViewContainerRef,\r\n        private cfr: ComponentFactoryResolver,\r\n        private renderer: Renderer2,\r\n        private cdr: ChangeDetectorRef,\r\n        private elem: ElementRef,\r\n        private config: DefaultConfigService,\r\n        private zone: NgZone\r\n    ) {\r\n        this.opts = this.config.getDefaultConfig();\r\n        this.parseOptions(this.opts);\r\n    }\r\n\r\n    @HostListener(KEYUP, ['$event']) onKeyUp(event: KeyboardEvent) {\r\n        const keyCode: number = this.utilService.getKeyCodeFromEvent(event);\r\n        if (this.ignoreKeyPress(keyCode)) {\r\n            return;\r\n        } else if (keyCode === KeyCode.esc) {\r\n            this.closeSelector(CalToggle.CloseByEsc);\r\n        } else {\r\n            const { value } = this.elem.nativeElement;\r\n\r\n            let valid = false;\r\n            if (!this.opts.dateRange) {\r\n                const date: IMyDate = this.utilService.isDateValid(\r\n                    value,\r\n                    this.opts\r\n                );\r\n                valid = this.utilService.isInitializedDate(date);\r\n            } else {\r\n                const { begin, end } = this.utilService.isDateValidDateRange(\r\n                    value,\r\n                    this.opts\r\n                );\r\n                valid =\r\n                    this.utilService.isInitializedDate(begin) &&\r\n                    this.utilService.isInitializedDate(end);\r\n            }\r\n            this.emitInputFieldChanged(value, valid);\r\n        }\r\n    }\r\n\r\n    @HostListener(BLUR) onBlur() {\r\n        const {\r\n            inputFieldValidation,\r\n            dateRange\r\n        } = this.opts;\r\n\r\n        if (inputFieldValidation) {\r\n            const { value } = this.elem.nativeElement;\r\n            let valid = false;\r\n            if (!dateRange) {\r\n                const date: IMyDate = this.utilService.isDateValid(\r\n                    value,\r\n                    this.opts\r\n                );\r\n\r\n                valid = this.utilService.isInitializedDate(date);\r\n            } else {\r\n                const _dateRange: IMyDateRange = this.utilService.isDateValidDateRange(\r\n                    value,\r\n                    this.opts\r\n                );\r\n                const { begin, end } = _dateRange;\r\n                valid =\r\n                    this.utilService.isInitializedDate(begin) &&\r\n                    this.utilService.isInitializedDate(end);\r\n            }\r\n\r\n            if (!valid && this.inputText !== value) {\r\n                this.clearDate();\r\n            }\r\n            this.onChangeCb(value);\r\n        }\r\n        this.onTouchedCb();\r\n    }\r\n\r\n    // wrapper with arrow function to preserve the use of 'this' word\r\n    private onClickWrapper = (ev: MouseEvent) => {\r\n        this.onClick(ev);\r\n    }\r\n\r\n    onClick(evt: MouseEvent) {\r\n        if (\r\n            this.opts.closeSelectorOnDocumentClick &&\r\n            !this.preventClose &&\r\n            evt.target &&\r\n            this.cRef !== null &&\r\n            this.elem.nativeElement !== evt.target &&\r\n            !this.cRef.location.nativeElement.contains(evt.target) &&\r\n            !this.disabled\r\n        ) {\r\n            this.closeSelector(CalToggle.CloseByOutClick);\r\n        }\r\n    }\r\n    public ngOnChanges(changes: SimpleChanges): void {\r\n        if (changes.hasOwnProperty(LOCALE)) {\r\n            this.setLocaleOptions();\r\n        }\r\n\r\n        if (changes.hasOwnProperty(DEFAULT_MONTH)) {\r\n            let dm: any = changes[DEFAULT_MONTH].currentValue;\r\n            if (typeof dm === OBJECT) {\r\n                dm = dm.defMonth;\r\n            }\r\n            this.defaultMonth = dm;\r\n        }\r\n\r\n        if (changes.hasOwnProperty(OPTIONS)) {\r\n            this.parseOptions(changes[OPTIONS].currentValue);\r\n        }\r\n    }\r\n\r\n    public ngOnDestroy(): void {\r\n        this.closeCalendar();\r\n    }\r\n\r\n    setLocaleOptions(): void {\r\n        const opts: IMyOptions = this.localeService.getLocaleOptions(\r\n            this.locale\r\n        );\r\n        Object.keys(opts).forEach(k => {\r\n            (this.opts as IMyOptions)[k] = opts[k];\r\n        });\r\n    }\r\n\r\n    public parseOptions(opts: IMyOptions): void {\r\n        if (opts !== undefined) {\r\n            Object.keys(opts).forEach(k => {\r\n                if (opts[k] !== undefined && opts[k] !== '') {\r\n                    (this.opts as IMyOptions)[k] = opts[k];\r\n                }\r\n            });\r\n        }\r\n        if (this.opts.minYear < Year.min) {\r\n            this.opts.minYear = Year.min;\r\n        }\r\n        if (this.opts.maxYear > Year.max) {\r\n            this.opts.maxYear = Year.max;\r\n        }\r\n    }\r\n    formatDate(value: any) {\r\n        const {\r\n            dateRange,\r\n            dateFormat,\r\n            monthLabels,\r\n            dateRangeDatesDelimiter,\r\n            returnFormat\r\n        } = this.opts;\r\n        if (!dateRange) {\r\n            // Single date mode\r\n            const date: IMyDate = this.utilService.isDateValid(\r\n                value,\r\n                this.opts\r\n            );\r\n            return this.utilService.getDateModel(\r\n                date,\r\n                null,\r\n                dateFormat,\r\n                monthLabels,\r\n                dateRangeDatesDelimiter,\r\n                returnFormat\r\n            );\r\n        } else {\r\n            // Date range mode\r\n            const _dateRange = this.utilService.isDateValidDateRange(\r\n                value,\r\n                this.opts\r\n            );\r\n            return this.utilService.getDateModel(\r\n                null,\r\n                _dateRange,\r\n                dateFormat,\r\n                monthLabels,\r\n                dateRangeDatesDelimiter,\r\n                returnFormat\r\n            );\r\n        }\r\n    }\r\n    public writeValue(value: any): void {\r\n        if (this.disabled) {\r\n            return;\r\n        }\r\n        if (value) {\r\n            value = this.formatDate(value);\r\n        }\r\n\r\n        if (!value) {\r\n            this.setInputValue(EMPTY_STR);\r\n            this.emitInputFieldChanged(EMPTY_STR, false);\r\n\r\n            if (this.cRef !== null) {\r\n                this.cRef.instance.resetDateValue(ResetDateType.both);\r\n            }\r\n        } else if (value.isRange === false && value.singleDate) {\r\n            // single date\r\n            const { date, formatted } = value.singleDate;\r\n            const valid: boolean = this.utilService.isInitializedDate(date);\r\n            if (valid) {\r\n                this.setInputValue(formatted);\r\n                this.emitInputFieldChanged(formatted, valid);\r\n\r\n                if (this.cRef !== null) {\r\n                    this.cRef.instance.resetDateValue(ResetDateType.dateRange);\r\n                }\r\n            }\r\n        } else if (value.isRange === true && value.dateRange) {\r\n            // date range\r\n            const { beginDate, endDate, formatted } = value.dateRange;\r\n\r\n            if (beginDate && endDate) {\r\n                const valid: boolean =\r\n                    this.utilService.isInitializedDate(beginDate) &&\r\n                    this.utilService.isInitializedDate(endDate);\r\n                if (valid) {\r\n                    this.setInputValue(formatted);\r\n                    this.emitInputFieldChanged(formatted, valid);\r\n\r\n                    if (this.cRef !== null) {\r\n                        this.cRef.instance.resetDateValue(\r\n                            ResetDateType.singleDate\r\n                        );\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    public registerOnChange(fn: any): void {\r\n        this.onChangeCb = fn;\r\n    }\r\n\r\n    public registerOnTouched(fn: any): void {\r\n        this.onTouchedCb = fn;\r\n    }\r\n\r\n    public setDisabledState(isDisabled: boolean): void {\r\n        this.disabled = isDisabled;\r\n        this.renderer.setProperty(\r\n            this.elem.nativeElement,\r\n            DISABLED,\r\n            isDisabled\r\n        );\r\n\r\n        if (isDisabled) {\r\n            this.closeCalendar();\r\n        }\r\n    }\r\n\r\n    public validate(c: AbstractControl): { [p: string]: any } {\r\n        return null;\r\n    }\r\n\r\n    public openCalendar(): void {\r\n        if (this.disabled) {\r\n            return;\r\n        }\r\n        this.preventClose = true;\r\n        this.cdr.detectChanges();\r\n        if (this.cRef === null) {\r\n            this.cRef = this.vcRef.createComponent(\r\n                this.cfr.resolveComponentFactory(CalendarComponent)\r\n            );\r\n            this.appendSelector(this.cRef.location.nativeElement);\r\n            this.cRef.instance.initialize(\r\n                this.opts,\r\n                this.defaultMonth,\r\n                this.getSelectorPosition(this.elem.nativeElement),\r\n                this.elem.nativeElement.value,\r\n                (dm: IMyDateModel, close: boolean) => {\r\n                    this.focusToInput();\r\n                    this.updateModel(dm);\r\n                    if (close) {\r\n                        this.closeSelector(CalToggle.CloseByDateSel);\r\n                    }\r\n                    this.emitDateChanged(dm);\r\n                    this.emitInputFieldChanged(\r\n                        this.utilService.getFormattedDate(dm),\r\n                        true\r\n                    );\r\n                },\r\n                (cvc: IMyCalendarViewChanged) => {\r\n                    this.emitCalendarChanged(cvc);\r\n                },\r\n                (rds: IMyRangeDateSelection) => {\r\n                    this.emitRangeDateSelection(rds);\r\n                },\r\n                () => {\r\n                    this.closeSelector(CalToggle.CloseByEsc);\r\n                }\r\n            );\r\n            this.emitCalendarToggle(CalToggle.Open);\r\n            this.cdr.detectChanges();\r\n        } else {\r\n            this.appendSelector(this.cRef.location.nativeElement);\r\n        }\r\n        this.preventClose = false;\r\n    }\r\n\r\n    public closeCalendar(): void {\r\n        this.closeSelector(CalToggle.CloseByCalBtn);\r\n    }\r\n\r\n    public toggleCalendar(event: MouseEvent): void {\r\n        event.stopPropagation();\r\n        if (this.disabled) {\r\n            return;\r\n        }\r\n        if (this.cRef === null) {\r\n            document.addEventListener(CLICK, this.onClickWrapper, true);\r\n            this.openCalendar();\r\n            const container = document.querySelector('.date-overlay-container');\r\n            this.renderer.setStyle(container, 'pointer-events', 'auto');\r\n        } else {\r\n            let flag = true;\r\n            const container = document.querySelector('.date-overlay-container');\r\n            if (container && this.cRef.location) {\r\n                if (container.hasChildNodes()) {\r\n                    container.childNodes.forEach(el => {\r\n                        if (el === this.cRef.location.nativeElement) {\r\n                            flag = false;\r\n                        }\r\n                    });\r\n                }\r\n            }\r\n            if (flag) {\r\n                this.renderer.setStyle(container, 'pointer-events', 'auto');\r\n                this.openCalendar();\r\n            } else {\r\n                document.removeEventListener(CLICK, this.onClickWrapper);\r\n                this.closeSelector(CalToggle.CloseByCalBtn);\r\n                this.renderer.setStyle(container, 'pointer-events', '');\r\n            }\r\n        }\r\n    }\r\n\r\n    public clearDate(): void {\r\n        if (this.disabled) {\r\n            return;\r\n        }\r\n        this.setInputValue(EMPTY_STR);\r\n        this.emitDateChanged({\r\n            isRange: this.opts.dateRange,\r\n            singleDate: {\r\n                date: this.utilService.resetDate(),\r\n                jsDate: null,\r\n                formatted: EMPTY_STR,\r\n                epoc: 0\r\n            },\r\n            dateRange: {\r\n                beginDate: this.utilService.resetDate(),\r\n                beginJsDate: null,\r\n                beginEpoc: 0,\r\n                endDate: this.utilService.resetDate(),\r\n                endJsDate: null,\r\n                endEpoc: 0,\r\n                formatted: EMPTY_STR\r\n            }\r\n        });\r\n        this.onChangeCb(null);\r\n        this.onTouchedCb();\r\n        this.closeSelector(CalToggle.CloseByCalBtn);\r\n    }\r\n\r\n    public isDateValid(): boolean {\r\n        const { value } = this.elem.nativeElement;\r\n\r\n        if (value !== EMPTY_STR) {\r\n            const date: IMyDate = this.utilService.isDateValid(\r\n                value,\r\n                this.opts\r\n            );\r\n            if (this.utilService.isInitializedDate(date)) {\r\n                this.emitInputFieldChanged(value, true);\r\n                return true;\r\n            }\r\n        }\r\n        this.emitInputFieldChanged(value, false);\r\n        return false;\r\n    }\r\n\r\n    private ignoreKeyPress(keyCode: number): boolean {\r\n        // keyCode === KeyCode.tab ||\r\n\r\n        return (\r\n            keyCode === KeyCode.leftArrow ||\r\n            keyCode === KeyCode.rightArrow ||\r\n            keyCode === KeyCode.upArrow ||\r\n            keyCode === KeyCode.downArrow ||\r\n            keyCode === KeyCode.shift\r\n        );\r\n    }\r\n\r\n    private closeSelector(reason: number): void {\r\n        if (this.cRef !== null) {\r\n            this.vcRef.remove(this.vcRef.indexOf(this.cRef.hostView));\r\n            this.cRef = null;\r\n            this.cdr.detectChanges();\r\n            this.emitCalendarToggle(reason);\r\n            const container = document.querySelector('.date-overlay-container');\r\n            this.renderer.setStyle(container, 'pointer-events', '');\r\n        }\r\n    }\r\n\r\n    private updateModel(model: IMyDateModel): void {\r\n        this.setInputValue(this.utilService.getFormattedDate(model));\r\n        this.onChangeCb(this.utilService.getFormattedDate(model));\r\n        this.onTouchedCb();\r\n    }\r\n\r\n    private setInputValue(value: string): void {\r\n        this.inputText = value;\r\n        this.renderer.setProperty(this.elem.nativeElement, VALUE, value);\r\n    }\r\n\r\n    private focusToInput(): void {\r\n        if (this.opts.focusInputOnDateSelect) {\r\n            this.elem.nativeElement.focus();\r\n        }\r\n    }\r\n\r\n    private emitDateChanged(dateModel: IMyDateModel): void {\r\n        this.dateChanged.emit(dateModel);\r\n    }\r\n\r\n    private emitInputFieldChanged(value: string, valid: boolean): void {\r\n        this.inputFieldChanged.emit({\r\n            value,\r\n            dateFormat: this.opts.dateFormat,\r\n            valid\r\n        });\r\n    }\r\n\r\n    private emitCalendarChanged(cvc: IMyCalendarViewChanged) {\r\n        this.calendarViewChanged.emit(cvc);\r\n    }\r\n\r\n    private emitRangeDateSelection(rds: IMyRangeDateSelection) {\r\n        this.rangeDateSelection.emit(rds);\r\n    }\r\n\r\n    private emitCalendarToggle(reason: number): void {\r\n        this.calendarToggle.emit(reason);\r\n    }\r\n\r\n    private jsDateToMyDate(date: Date): IMyDate {\r\n        return {\r\n            year: date.getFullYear(),\r\n            month: date.getMonth() + 1,\r\n            day: date.getDate()\r\n        };\r\n    }\r\n\r\n    private appendSelector(elem: any): void {\r\n        let container = document.querySelector('.date-overlay-container');\r\n        if (container) {\r\n            if (container.hasChildNodes()) {\r\n                container.childNodes.forEach(el => {\r\n                    if (el !== elem) {\r\n                        container.removeChild(el);\r\n                    }\r\n                });\r\n            }\r\n        } else {\r\n            container = document.createElement('div');\r\n            container.classList.add('date-overlay-container');\r\n            container.classList.add('overlay-container');\r\n            document.body.appendChild(container);\r\n        }\r\n        container.appendChild(elem);\r\n    }\r\n\r\n    private getSelectorPosition(elem: any): IMySelectorPosition {\r\n        let top = 0;\r\n        let left = 0;\r\n        let _selectorHeight = 0;\r\n        let _selectorWidth = 0;\r\n        const {\r\n            selectorHeight,\r\n            selectorWidth,\r\n            showTime,\r\n            dateRange\r\n        } = this.opts;\r\n\r\n        const b: any = document.body.getBoundingClientRect();\r\n        const e: any = elem.getBoundingClientRect();\r\n        top = e.top - b.top;\r\n        left = e.left - b.left;\r\n        let position = 'bottom';\r\n        if (dateRange) {\r\n            _selectorWidth = this.getSelectorDimension(selectorWidth) * 2;\r\n        } else {\r\n            _selectorWidth = this.getSelectorDimension(selectorWidth);\r\n        }\r\n\r\n        if (showTime) {\r\n            _selectorHeight = this.getSelectorDimension(selectorHeight) + 36;\r\n        } else {\r\n            _selectorHeight = this.getSelectorDimension(selectorHeight);\r\n        }\r\n        if (top + elem.offsetHeight + _selectorHeight > window.innerHeight && top - _selectorHeight - 2 > 0) {\r\n            top = top - _selectorHeight - 2;\r\n            position = 'top';\r\n        } else {\r\n            top = top + elem.offsetHeight + 2;\r\n        }\r\n\r\n        if (left + _selectorWidth > b.width) {\r\n            left = b.width - _selectorWidth - 15;\r\n        }\r\n        left = left > 0 ? left : 0;\r\n        return { top , left, position };\r\n    }\r\n\r\n    private getSelectorDimension(value: string): number {\r\n        return Number(value.replace(PX, EMPTY_STR));\r\n    }\r\n}\r\n","import { NotifyService } from '@farris/ui-notify';\r\nimport { DateTimeHelperService } from '@farris/ui-common/date';\r\nimport {\r\n    Component, OnInit, Input, EventEmitter, Output, ViewChild, forwardRef, SimpleChanges,\r\n    ElementRef, HostListener, OnChanges, HostBinding, Injector, ComponentRef, ViewContainerRef, ComponentFactoryResolver,\r\n    Renderer2, OnDestroy, AfterViewInit, ApplicationRef, ChangeDetectorRef\r\n} from '@angular/core';\r\nimport { NG_VALUE_ACCESSOR, ControlValueAccessor, NgControl } from '@angular/forms';\r\nimport { FarrisDatePickerDirective } from './farris-datepicker.input';\r\nimport {\r\n    IMyOptions, IMyDate, IMyDateModel, IMyShortcuts, IMyDateFormat,\r\n    IMyCalendarViewChanged, IMyRangeDateSelection\r\n} from './interfaces/public-api';\r\n\r\nimport { DefaultView, ShowType, CalToggle } from './enums/public-api';\r\n\r\nimport { UtilService, DefaultConfigService, DatepickerLocaleService, DatePickerService } from './services/public-api';\r\nimport { LocaleService } from '@farris/ui-locale';\r\nimport { differenceInSeconds, isDate, isValid, parse } from 'date-fns';\r\nimport { CalendarComponent } from './components/calendar/calendar.component';\r\nimport { CLICK, EMPTY_STR } from './constants/constants';\r\nimport { CommonUtils, OverLayHiddenService } from '@farris/ui-common';\r\nimport { MultiSelectedOrderBy, ViewType } from './interfaces/my-options.interface';\r\nimport { DynamicData } from './interfaces/dynamic-data-type.interface';\r\n\r\nconst FARRIS_DP_VALUE_ACCESSOR = {\r\n    provide: NG_VALUE_ACCESSOR,\r\n    useExisting: forwardRef(() => FarrisDatepickerComponent),\r\n    multi: true\r\n};\r\n\r\n@Component({\r\n    selector: 'farris-datepicker',\r\n    exportAs: 'farris-datepicker',\r\n    templateUrl: './farris-datepicker.component.html',\r\n    styles: [\r\n        `\r\n            :host {\r\n                display: block;\r\n            }\r\n\r\n            :host .datepicker-clear {\r\n                position: absolute;\r\n                height: 100%;\r\n                right: 0;\r\n                top: 0;\r\n                z-index: 100;\r\n            }\r\n        `\r\n    ],\r\n    providers: [FARRIS_DP_VALUE_ACCESSOR, UtilService, DefaultConfigService, LocaleService]\r\n})\r\nexport class FarrisDatepickerComponent implements OnInit, ControlValueAccessor, OnChanges, OnDestroy, AfterViewInit {\r\n\r\n    @HostBinding('class') cls = 'f-cmp-datepicker f-cmp-inputgroup';\r\n\r\n    @Input() viewType: ViewType = ViewType.Switch;\r\n\r\n    // æ¯å¦ç¦ç¨è¯¥ç»ä»¶\r\n    @Input() disabled = false;\r\n    // æ¯å¦åªè¯»\r\n    @Input() readonly = false;\r\n    // æ¯å¦åªè½éæ©æ°æ®ï¼ä¸å¯é®å¥\r\n    @Input() editable = true;\r\n    // æ¯å¦ä½¿ç¨æ¥æèå´è¾å¥æ¨¡å¼\r\n    @Input() dateRange = false;\r\n    // æ¯å¦ä½¿ç¨æ¶é´è¾å¥æ¡\r\n    @Input() showTime = false;\r\n\r\n    @Input() hourStep = 1;\r\n    @Input() minuteStep = 1;\r\n    @Input() secondStep = 1;\r\n\r\n\r\n    // æ¾ç¤ºç±»å\r\n    @Input() showType: ShowType = ShowType.all;\r\n    // æ¬å°è¯­è¨\r\n    @Input() locale = 'zh-cn';\r\n    // æ¥ææ ¼å¼\r\n    @Input()\r\n    set dateFormat(value: string) {\r\n        if (value) {\r\n            // value æ ¼å¼å½¢å¦ yyyy-MM-dd HH:mm:ss\r\n            // const formArr = 'yyyy-MM-dd HH:mm:ss'.split(' ');\r\n            value = value.replace(/^\\s+|\\s+$/g, ''); // å»æå·¦å³ç©ºæ ¼\r\n            value = value.replace(/\\s+/g, ' '); // å°ä¸­é´çå¤ä¸ªè¿ç»­ç©ºæ ¼ï¼æ¿æ¢ä¸º1ä¸ªç©ºæ ¼\r\n            const formArr = value.split(' ');\r\n            this._dateFormat = formArr[0];\r\n            // å¤ç'yyyy-MM-dd h:mm:ss a'å³12å°æ¶æ¾ç¤ºçæåµ\r\n            if (formArr.length === 3) {\r\n                this._timeFormat = 'h:mm:ss a';\r\n            } else {\r\n                this._timeFormat = formArr[1];\r\n            }\r\n        }\r\n\r\n        // this._dateFormat = this._dateFormat ? (this._dateFormat + '').replace(/m/g, 'M') : '';\r\n        if (this._dateFormat) {\r\n            const mm = ['yyyy-mm', 'yyyy/mm', 'yyyyå¹´mm', 'mm/yyyy'];\r\n            const _mm = mm.find(m => this._dateFormat.includes(m));\r\n            if (_mm) {\r\n                this._dateFormat = this._dateFormat.replace(_mm, _mm.replace(/m/g, 'M'));\r\n            }\r\n\r\n            if (this._timeFormat && this.showTime) {\r\n                this._dateFormat += ' ' + this._timeFormat;\r\n                if (this._timeFormat.indexOf('æ¶') > -1) {\r\n                    this._timeFormat = this._timeFormat.replace('æ¶', ':').replace('å', ':').replace('ç§', '');\r\n                }\r\n            }\r\n        }\r\n\r\n        // this.dateOpts.dateFormat = this._dateFormat;\r\n    }\r\n    get dateFormat(): string {\r\n        return this._dateFormat;\r\n    }\r\n    // æ¯å¦ä½¿ç¨é»è®¤å¼\r\n    @Input() useDefault = false;\r\n    @Input() returnType: 'Object' | 'Date' | 'String' = 'String';\r\n    @Input() returnFormat: string;\r\n    // placeholder\r\n    @Input() placeholder = '';\r\n    @Input() beginPlaceholder = '';\r\n    @Input() endPlaceholder = '';\r\n    /** è¾å¥å¼åååå³é­éæ©é¢æ¿ã é»è®¤ä¸º true */\r\n    @Input() whenValueChangedThenCloseSelectorPanel = true;\r\n    // æå°æ¥æ\r\n    // å å¥æ¥æ¶æ¶åç§åè½\r\n    @Input()\r\n    set minDate(val: any) {\r\n        const type = Object.prototype.toString.call(val);\r\n        let date: Date;\r\n        switch (type) {\r\n            case '[object Date]':\r\n                date = val;\r\n                break;\r\n            case '[object String]':\r\n                if (val) {\r\n                    date = new Date(val);\r\n                } else {\r\n                    date = new Date(1840, 1, 1, 0, 0, 0);\r\n                }\r\n                break;\r\n            case '[object Null]':\r\n                date = new Date(1840, 1, 1, 0, 0, 0);\r\n                break;\r\n            // case null:\r\n            //     date = new Date(1840, 1, 1, 0, 0, 0);\r\n            //     break;\r\n            case '[object Undefined]':\r\n                date = new Date(1840, 1, 1, 0, 0, 0);\r\n                break;\r\n            default:\r\n                date = new Date(1840, 1, 1, 0, 0, 0);\r\n                break;\r\n        }\r\n        if (isValid(date)) {\r\n            const year = date.getFullYear();\r\n            const month = date.getMonth() + 1;\r\n            const day = date.getDate();\r\n            const hour = date.getHours();\r\n            const minute = date.getMinutes();\r\n            const second = date.getSeconds();\r\n            this._minDate = { year, month, day, hour, minute, second };\r\n        }\r\n    }\r\n    get minDate() {\r\n        return this._minDate;\r\n    }\r\n    // æå¤§æ¥æ\r\n    // å å¥æ¥æ¶æ¶åç§åè½\r\n    @Input()\r\n    set maxDate(val: any) {\r\n        const type = Object.prototype.toString.call(val);\r\n        let date: Date;\r\n\r\n        switch (type) {\r\n            case '[object Date]':\r\n                date = val;\r\n                break;\r\n            case '[object String]':\r\n                if (val) {\r\n                    date = new Date(val);\r\n                } else {\r\n                    date = new Date(10000, 1, 1, 0, 0, 0);\r\n                }\r\n                break;\r\n            case '[object Null]':\r\n                date = new Date(10000, 1, 1, 0, 0, 0);\r\n                break;\r\n            // case null:\r\n            //     date = new Date(10000, 1, 1, 0, 0, 0);\r\n            //     break;\r\n            case '[object Undefined]':\r\n                date = new Date(10000, 1, 1, 0, 0, 0);\r\n                break;\r\n            default:\r\n                date = new Date(10000, 1, 1, 0, 0, 0);\r\n                break;\r\n        }\r\n        if (isValid(date)) {\r\n            const year = date.getFullYear();\r\n            const month = date.getMonth() + 1;\r\n            const day = date.getDate();\r\n            const hour = date.getHours();\r\n            const minute = date.getMinutes();\r\n            const second = date.getSeconds();\r\n            this._maxDate = { year, month, day, hour, minute, second };\r\n        }\r\n    }\r\n    get maxDate() {\r\n        return this._maxDate;\r\n    }\r\n    // éè¦é«äº®æ¾ç¤ºçæ¥æ\r\n    @Input() highlightDates: Array<IMyDate> = [];\r\n    // ç¦ç¨åºåçæ¥æå¼å§æ¶é´\r\n    @Input() disableDateRangesBegin: IMyDate = {\r\n        year: 0,\r\n        month: 0,\r\n        day: 0\r\n    };\r\n    // ç¦ç¨åºåçæ¥æç»ææ¶é´\r\n    @Input() disableDateRangesEnd: IMyDate = {\r\n        year: 0,\r\n        month: 0,\r\n        day: 0\r\n    };\r\n    // ç¦ç¨çæ¥æ\r\n    @Input() disableDates: Array<IMyDate> = [];\r\n    // ä¸å¨ä¸­è¢«ç¦ç¨çæ¥å­\r\n    @Input() disableWeekdays: Array<string> = [];\r\n    // è¢«æ è®°çæ¥æ\r\n    @Input() markDates: Array<IMyDate> = [];\r\n    // è¢«æ è®°çæ¥æçæ¾ç¤ºé¢è²\r\n    @Input() markDatesColor = '#59a1ff';\r\n    // æ¯å¦æ¾ç¤ºç¬¬å å¨\r\n    @Input() showWeekNumbers = false;\r\n    // æ¯å¦æ è®°å¨æ«\r\n    @Input() isMarkWeekends = false;\r\n    // è¢«æ è®°å¨æ«çæ¾ç¤ºé¢è²\r\n    @Input() markWeekendsColor = '#59a1ff';\r\n    // æ¥æèå´æ¨¡å¼ä¸inputçæ¾ç¤ºåå²ç¬¦å\r\n    @Input() dateRangeDatesDelimiter = '~';\r\n    // éç½®å·¦ä¾§ sidebar å¿«æ·é®\r\n    @Input() shortcuts: Array<IMyShortcuts> = [];\r\n    // æ¥æèå´éæ©æ¶ï¼é»è®¤ç»ææä»½ä¸ºå½åæä»½ + monthRangeValue\r\n    @Input() monthRangeValue = 1;\r\n    // æ¥æèå´ï¼å¼å§æ¥æ\r\n    @Input()\r\n    set beginValue(value: string | Date) {\r\n        value = value ? value : '';\r\n        if (value instanceof Date) {\r\n            value = this.dateTo(value);\r\n            this.returnType = 'Date';\r\n        } else {\r\n            if (value.indexOf('T') > -1) {\r\n                value = value.replace('T', ' ');\r\n            }\r\n            this.returnType = 'String';\r\n        }\r\n        this._beginValue = value;\r\n        if (this._initFinished) {\r\n            this.setValue(this._beginValue + this.dateRangeDatesDelimiter + this._endValue);\r\n        }\r\n    }\r\n    get beginValue() {\r\n        return this.dateFrom(this._beginValue, true);\r\n    }\r\n    // æ¥æèå´ï¼ç»ææ¥æ\r\n    @Input()\r\n    set endValue(value: string | Date) {\r\n        value = value ? value : '';\r\n        if (value instanceof Date) {\r\n            value = this.dateTo(value);\r\n            this.returnType = 'Date';\r\n        } else {\r\n            if (value.indexOf('T') > -1) {\r\n                value = value.replace('T', ' ');\r\n            }\r\n            this.returnType = 'String';\r\n        }\r\n        this._endValue = value;\r\n        if (this._initFinished) {\r\n            this.setValue(this._beginValue + this.dateRangeDatesDelimiter + this._endValue);\r\n        }\r\n    }\r\n    get endValue() {\r\n        return this.dateFrom(this._endValue, true);\r\n    }\r\n\r\n    /**\r\n     * å¯ç¨å¨ææ¥æå¼è®¾ç½®ï¼é»è®¤ false\r\n     */\r\n    @Input() enableDynamic = false;\r\n    /** åè®¸è®¾ç½®è¿å»æå¤§å¤©æ° */\r\n    @Input() previousMaxDays = 30;\r\n    /** åè®¸è®¾ç½®æªæ¥æå¤§å¤©æ° */\r\n    @Input() futureMaxDays = 30;\r\n\r\n    @Input() showClear = true;\r\n    /** æ¾ç¤ºä»å¤©ï¼æ¬å¹´ï¼æ¬æ æé® */\r\n    @Input() showPresent = false;\r\n    /** æ¯å¨èµ·å§æ¥  å¯éå¼ moï¼å¨ä¸  su: å¨æ¥ï¼é»è®¤ä¸º moå¨ä¸ */\r\n    @Input() firstDayOfWeek: 'mo'|'su' = 'mo';\r\n\r\n    // clear äºä»¶\r\n    @Output() clear = new EventEmitter();\r\n    // valueChanged äºä»¶\r\n    @Output() valueChange = new EventEmitter();\r\n    // focus äºä»¶\r\n    @Output() focus = new EventEmitter();\r\n    // blur äºä»¶\r\n    @Output() blur = new EventEmitter();\r\n    // beginValueChange\r\n    @Output() beginValueChange = new EventEmitter();\r\n    // endValueChange\r\n    @Output() endValueChange = new EventEmitter();\r\n    // PrevFocus dateRange ç¬¬ä¸ä¸ªæ¥æ\r\n    @Output() PrevFocus = new EventEmitter();\r\n    // NextFocus dateRange ç¬¬äºä¸ªæ¥æ\r\n    @Output() NextFocus = new EventEmitter();\r\n\r\n    // close äºä»¶\r\n    @Output() close = new EventEmitter();\r\n\r\n    /** å¯ç¨å¤éï¼é»è®¤ false */\r\n    @Input() multiSelect = false;\r\n    @Input() separator = ',';\r\n    /** åè®¸éæ©æ¥æçä¸ªæ°ï¼ 0 æ é */\r\n    @Input() maxSelected = 0;\r\n    /** éä¸­æ¥æçæåºæ¹å¼ï¼é»è®¤ä¸º 'none' å³ä¸æåº */\r\n    @Input() selectedOrderBy: MultiSelectedOrderBy = 'none';\r\n\r\n\r\n    @ViewChild(FarrisDatePickerDirective) dp: FarrisDatePickerDirective;\r\n    @ViewChild('clearIcon') clearIcon: ElementRef;\r\n    @ViewChild('calendar', { read: ViewContainerRef }) calendarRef: ViewContainerRef;\r\n    @ViewChild('onPrevFocus') PFocus: ElementRef;\r\n    @ViewChild('onNextFocus') NFocus: ElementRef;\r\n\r\n    @ViewChild('dateInput') dateInput: ElementRef;\r\n\r\n    private cRef: ComponentRef<CalendarComponent> = null;\r\n    private _timeFormat = '';\r\n    private _value = '';\r\n    public _beginValue = '';\r\n    public _endValue = '';\r\n    private _initFinished = false;\r\n    private _timer: any;\r\n    private _dateFormat: string;\r\n    private _minDate: IMyDate = {\r\n        year: 1840,\r\n        month: 1,\r\n        day: 1,\r\n        hour: 0,\r\n        minute: 0,\r\n        second: 0\r\n    };\r\n    private _maxDate: IMyDate = {\r\n        year: 10000,\r\n        month: 1,\r\n        day: 1,\r\n        hour: 0,\r\n        minute: 0,\r\n        second: 0\r\n    };\r\n    set value(v) {\r\n        this._value = v ? v : '';\r\n    }\r\n    get value() {\r\n        return this._value;\r\n    }\r\n    selectedWeek = null;\r\n    dateOpts: IMyOptions = {};\r\n    defaultConfig: IMyOptions;\r\n    localDateOpts: IMyOptions;\r\n    localeConfig: DatepickerLocaleService;\r\n    localeService: LocaleService;\r\n    // å¼å§è¾å¥æ§ä»¶èç¦\r\n    beginFocus = false;\r\n    // ç»æè¾å¥æ§ä»¶èç¦\r\n    endFocus = false;\r\n    // æ´ä½èç¦\r\n    totalFocus = false;\r\n\r\n    originTime: any;\r\n    // æ¯å¦å­ç¬¦è¶é¿æ¾ç¤ºTip\r\n    isActiveTip = false;\r\n    private vcRef: ViewContainerRef;\r\n    private cfr: ComponentFactoryResolver;\r\n    private renderer: Renderer2;\r\n    private datePicekrService: DatePickerService;\r\n    _realValue = null;\r\n    private _realRangeValue = null;\r\n    private notifySer: NotifyService;\r\n    private formatedValue = '';\r\n    dtService: DateTimeHelperService = null;\r\n    private _applicationRef: ApplicationRef;\r\n\r\n    private _ngControl: NgControl;\r\n    _updateOn = 'change';\r\n\r\n    // æ¥æéæ©åè®¾ç½®ä¸º trueï¼ blur äºä»¶å°ä¸ä¼éå¤æ§è¡valueChangedï¼\r\n    // é®çä¿®æ¹æ¶ï¼blur äºä»¶ä¸­ä¼æ§è¡ä¸æ¬¡ valueChanged åï¼å°æ­¤å¼è®¾ä¸º false;\r\n    private _valueChangeEmitted = false;\r\n    private _mousedownEvent = null;\r\n    private closeCalendarHandler = null;\r\n    private cdr: ChangeDetectorRef = null;\r\n    /** ç¼å­éè¿ç¹å»æ¥åçæ°æ®ï¼ç¨äºçæ ¼å¼åæ ¼å¼ä¸æ åæ¶ï¼æ ¼å¼åæ°æ®ã */\r\n    private _SELECT_DATE_ = null;\r\n\r\n    dynamicText = '';\r\n    @Input() dynamicValue: DynamicData = null;\r\n    @Output() dynamicValueChange = new EventEmitter();\r\n    @Output() dynamicViewChanged = new EventEmitter();\r\n\r\n    onModelChange = (obj: any) => { };\r\n    onModelTouched = () => { };\r\n\r\n    private commonUtils: CommonUtils;\r\n\r\n    private overLayService: OverLayHiddenService;\r\n    constructor(\r\n        private el: ElementRef,\r\n        private utilService: UtilService,\r\n        private defaultConfigService: DefaultConfigService,\r\n        private injector: Injector\r\n    ) {\r\n        this.defaultConfig = this.defaultConfigService.getDefaultConfig();\r\n        if (this.injector) {\r\n            this.localeService = this.injector.get(LocaleService);\r\n            this.dtService = this.injector.get(DateTimeHelperService);\r\n            this.notifySer = this.injector.get(NotifyService, null);\r\n            if (this.notifySer) {\r\n                this.notifySer.config.position = 'top-center';\r\n            }\r\n        }\r\n        this.localeConfig = new DatepickerLocaleService();\r\n        this.vcRef = this.injector.get(ViewContainerRef, null);\r\n        this.cfr = this.injector.get(ComponentFactoryResolver, null);\r\n        this.renderer = this.injector.get(Renderer2, null);\r\n        this._applicationRef = this.injector.get(ApplicationRef);\r\n        this.cdr = this.injector.get(ChangeDetectorRef);\r\n\r\n        this.overLayService = new OverLayHiddenService();\r\n\r\n        this.commonUtils = this.injector.get(CommonUtils, new CommonUtils());\r\n    }\r\n\r\n    ngOnInit(): void {\r\n\r\n        this._ngControl = this.injector.get(NgControl, null);\r\n\r\n        this.initPlaceholder();\r\n        this.mergeDateOptions();\r\n        if (this._beginValue && this._endValue) {\r\n            this.setValue(this._beginValue + this.dateRangeDatesDelimiter + this._endValue);\r\n        }\r\n        this._initFinished = true;\r\n        this.datePicekrService = new DatePickerService(this.dateOpts);\r\n    }\r\n\r\n    private initPlaceholder() {\r\n        if (this.localeService) {\r\n            this.locale = this.localeService.getValue('locale');\r\n            this.localDateOpts = this.localeConfig.getLocaleOptions(this.locale);\r\n            this.placeholder = this.placeholder\r\n                ? this.placeholder\r\n                : this.localDateOpts.placeholder\r\n                    ? this.localDateOpts.placeholder\r\n                    : 'è¯·éæ©æ¥æ';\r\n            if (!this.beginPlaceholder) {\r\n                this.beginPlaceholder = this.localDateOpts.range.begin || this.placeholder;\r\n            }\r\n\r\n            if (!this.endPlaceholder) {\r\n                this.endPlaceholder = this.localDateOpts.range.end || this.placeholder;\r\n            }\r\n        }\r\n    }\r\n\r\n    private mergeDateOptions() {\r\n        this.dateOpts = { ...this.defaultConfig, ...this.buildOptions() };\r\n\r\n        if (this.dateOpts.dateFormat) {\r\n            if (!this._dateFormat) {\r\n                this.dateFormat = this.dateOpts.dateFormat;\r\n                this.dateOpts.dateFormat = this.dateFormat;\r\n            }\r\n        }\r\n\r\n        if (this.showTime && !this._timeFormat) {\r\n            this._timeFormat = 'HH:mm:ss';\r\n            this.dateOpts.timeFormat = this._timeFormat;\r\n        }\r\n\r\n        if (this.dateOpts.returnFormat) {\r\n            if (!this.returnFormat) {\r\n                this.returnFormat = this.dateOpts.returnFormat;\r\n            }\r\n        }\r\n    }\r\n\r\n    ngOnChanges(changes: SimpleChanges) {\r\n        if (changes.locale && changes.locale.isFirstChange()) {\r\n            this.localDateOpts = this.localeConfig.getLocaleOptions(this.locale);\r\n        }\r\n        if (changes) {\r\n            let flag = false;\r\n\r\n            const inputs = ['showTime', 'showType', 'dateRange', 'maxDate', 'minDate', 'monthRangeValue', 'maxSelected', 'separator', 'selectedOrderBy'];\r\n\r\n\r\n            Object.keys(changes).forEach(e => {\r\n                if (!changes[e].isFirstChange() && (this.dateOpts[e] || inputs.includes(e))) {\r\n                    flag = true;\r\n                }\r\n            });\r\n            if (flag) {\r\n                this.dateOpts = { ...(this.dateOpts ||this.defaultConfig), ...this.buildOptions() };\r\n            }\r\n        }\r\n        if (\r\n            changes.readonly &&\r\n            !changes.readonly.currentValue &&\r\n            !changes.readonly.firstChange &&\r\n            !this.value &&\r\n            this.useDefault\r\n        ) {\r\n            this.setDefaultValue();\r\n        }\r\n    }\r\n\r\n    ngAfterViewInit() {\r\n        if (this._ngControl && this._ngControl.control) {\r\n            this._updateOn = this._ngControl.control.updateOn;\r\n        }\r\n\r\n        this._timer = setTimeout(() => {\r\n            this.setDefaultValue();\r\n        });\r\n    }\r\n\r\n    ngOnDestroy(): void {\r\n        clearTimeout(this._timer);\r\n        this.closeSelector();\r\n\r\n        this.overLayService.destory(this.el.nativeElement);\r\n        this.overLayService = null;\r\n    }\r\n\r\n    @HostListener('mouseenter', ['$event']) onMouseEnter(event) {\r\n        if (this.value && !this.readonly && !this.disabled) {\r\n            if (this.value && this.clearIcon) {\r\n                this.clearIcon.nativeElement.style.visibility = '';\r\n            }\r\n            if (this.dateOpts.dateRange) {\r\n                if (this.dateOpts.showTime) {\r\n                    this.isActiveTip = this.el.nativeElement.getBoundingClientRect().width < 300;\r\n                } else {\r\n                    this.isActiveTip = this.el.nativeElement.getBoundingClientRect().width < 190;\r\n                }\r\n            } else {\r\n                if (this.dateOpts.showTime) {\r\n                    this.isActiveTip = this.el.nativeElement.getBoundingClientRect().width < 170;\r\n                } else {\r\n                    this.isActiveTip = this.el.nativeElement.getBoundingClientRect().width < 120;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    @HostListener('mouseleave', ['$event']) onMouseLeave(event) {\r\n        if (!this.readonly && !this.disabled && this.clearIcon) {\r\n            this.clearIcon.nativeElement.style.visibility = 'hidden';\r\n        }\r\n    }\r\n\r\n    onBlur(e) {\r\n        this.totalFocus = false;\r\n\r\n        let _runblur = true;\r\n        if (this.value) {\r\n            try {\r\n                this.value = this.transform(this.value);\r\n                const valid = this._isValid(this.value);\r\n                if (!valid) {\r\n                    this.clearDate();\r\n                    _runblur = false;\r\n                }\r\n            } catch (e) {\r\n                this.clearDate();\r\n                _runblur = false;\r\n            }\r\n        }\r\n\r\n        const updateModel = () => {\r\n            if (!this._valueChangeEmitted) {\r\n                const realDate = this.dateFrom(this.transform(this.value, this.returnFormat));\r\n                this.onNgModelChange(this.value, realDate, true);\r\n                this.onModelTouched();\r\n            }\r\n        };\r\n\r\n        if (this.editable && _runblur) {\r\n            if (this['inDatagrid']) {\r\n                updateModel();\r\n            } else {\r\n                setTimeout(updateModel, 250);\r\n            }\r\n        }\r\n        this._valueChangeEmitted = false;\r\n        if (this._mousedownEvent) {\r\n            this._mousedownEvent();\r\n            this._mousedownEvent = null;\r\n        }\r\n        this.blur.emit();\r\n    }\r\n\r\n    onFocus(e) {\r\n        this.totalFocus = true;\r\n        this.registerMouseDownHandle();\r\n        this.focus.emit();\r\n    }\r\n\r\n    onInputClick(event) {\r\n        event.stopPropagation();\r\n        if (!this.readonly && !this.disabled) {\r\n            this.registerMouseDownHandle();\r\n            this.toggleCalendar(false);\r\n        }\r\n    }\r\n\r\n    private registerMouseDownHandle() {\r\n        if (!this._mousedownEvent) {\r\n            this._mousedownEvent = this.renderer.listen(document, 'mousedown', (e: any) => {\r\n                if (e.target.className.toString().indexOf('SVGAnimatedString') > -1) {\r\n                    return;\r\n                }\r\n\r\n                if (e.target.closest('.dynamic-view-item')) {\r\n                    return;\r\n                }\r\n\r\n                if (e.target.closest('.f-cmp-datepicker') ||\r\n                    e.target.closest('.f-datepicker-container') || e.target.className.indexOf('f-icon-date') > -1) {\r\n                    if (this.dateInput) {\r\n                        this.renderer.setStyle(this.dateInput.nativeElement, 'unselectable', 'on');\r\n                    }\r\n                    e.preventDefault();\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    setDefaultValue() {\r\n        if (!this.readonly && !this.value && this.useDefault) {\r\n            const now = new Date();\r\n            let nowValue = '';\r\n            if (!this.dateOpts.dateRange) {\r\n                nowValue = this.dateTo(now);\r\n\r\n            } else {\r\n                nowValue =\r\n                    this.dateTo(now) +\r\n                    this.dateRangeDatesDelimiter +\r\n                    this.dateTo(new Date(now.setMonth(now.getMonth() + 1)));\r\n\r\n            }\r\n            if (this.datePicekrService.validate(nowValue)) {\r\n                this.value = nowValue;\r\n                this.onNgModelChange(this.value);\r\n                this.onModelTouched();\r\n            }\r\n        }\r\n    }\r\n\r\n    clearDynamicDate($event = null) {\r\n        if ($event) {\r\n            $event.stopPropagation();\r\n        }\r\n\r\n        this.dateOpts.dynamicValueChanged(null);\r\n    }\r\n\r\n    clearDate($event: MouseEvent = null) {\r\n        if ($event) {\r\n            $event.stopPropagation();\r\n        }\r\n\r\n        this._SELECT_DATE_ = null;\r\n\r\n        if (!this.disabled) {\r\n            this._realRangeValue = null;\r\n            this._realValue = null;\r\n            this.selectedWeek = null;\r\n            this.onDateChanged({\r\n                isRange: this.dateOpts.dateRange,\r\n                singleDate: {\r\n                    date: this.utilService.resetDate(),\r\n                    jsDate: null,\r\n                    formatted: EMPTY_STR,\r\n                    epoc: 0\r\n                },\r\n                dateRange: {\r\n                    beginDate: this.utilService.resetDate(),\r\n                    beginJsDate: null,\r\n                    beginEpoc: 0,\r\n                    endDate: this.utilService.resetDate(),\r\n                    endJsDate: null,\r\n                    endEpoc: 0,\r\n                    formatted: EMPTY_STR\r\n                }\r\n            });\r\n            this.closeSelector(CalToggle.CloseByCalBtn);\r\n            this.onModelChange(null);\r\n            this.clear.emit();\r\n            if (this.clearIcon) {\r\n                this.clearIcon.nativeElement.style.visibility = 'hidden';\r\n            }\r\n        }\r\n    }\r\n\r\n    onSingleInputNgModelChange($event) {\r\n        this.value = $event || '';\r\n        this._realValue = this.value ? this.dateFrom($event) : '';\r\n        this.closeSelector();\r\n    }\r\n\r\n\r\n    onNgModelChange(value: any, realdate = null, emitValueChange = false) {\r\n        // this.value = value;\r\n        if (this.dateRange || this.showType == ShowType.selectWeek) {\r\n\r\n            const tmpArr = value ? value.split(this.dateRangeDatesDelimiter) : ['', ''];\r\n            const _beginValue = this.transform(tmpArr[0], this.returnFormat);\r\n            const _endValue = this.transform(tmpArr[1], this.returnFormat);\r\n\r\n            this._beginValue = this.transform(tmpArr[0]);\r\n            this._endValue = this.transform(tmpArr[1]);\r\n\r\n\r\n            value = _beginValue && _endValue ? _beginValue + this.dateRangeDatesDelimiter + _endValue : '';\r\n            this._realRangeValue = value;\r\n            this.onModelChange(value);\r\n            this.cdr.detectChanges();\r\n            this.beginValueChange.emit(this._beginValue);\r\n            this.endValueChange.emit(this._endValue);\r\n\r\n            const p = {\r\n                date: null,\r\n                formatted: this.value,\r\n                returnFormatted: this._realRangeValue,\r\n                cmpRef: this\r\n            };\r\n\r\n            this.valueChange.emit(p);\r\n        } else {\r\n\r\n            if (value === '') {\r\n                this.value = '';\r\n                this._onModelChange(null, emitValueChange);\r\n                return;\r\n            }\r\n\r\n            if (realdate) {\r\n                this._realValue = this.getRealReturnFormatted(realdate);\r\n                this._onModelChange(this._realValue, emitValueChange);\r\n\r\n                if (this.dateInput && this.dateInput.nativeElement.value !== this.value) {\r\n                    this.renderer.setProperty(this.dateInput.nativeElement, 'value', this.value);\r\n                }\r\n            } else {\r\n                if (this._isValid(value)) {\r\n                    this._realValue = this.getRealReturnFormatted(realdate);\r\n                    if (this.dateInput) {\r\n                        this.renderer.setProperty(this.dateInput.nativeElement, 'value', this.value);\r\n                    }\r\n                    this._onModelChange(this._realValue, emitValueChange);\r\n                }\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n    private _onModelChange(realValue, emit) {\r\n        this._realValue = realValue;\r\n        this.onModelChange(realValue);\r\n        if (emit) {\r\n            const p = {\r\n                date: this.utilService.isDateValid(this.value, this.dateOpts, true),\r\n                formatted: this.value,\r\n                returnFormatted: realValue,\r\n                cmpRef: this\r\n            };\r\n\r\n            if (this.valueChange.observers.length) {\r\n                if (this.whenValueChangedThenCloseSelectorPanel) {\r\n                    this.closeSelector();\r\n                }\r\n\r\n                this.valueChange.emit(p);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    private getRealReturnFormatted(realdate: any) {\r\n\r\n        if (realdate) {\r\n            if (this.returnType === 'Date') {\r\n                return realdate;\r\n            } else {\r\n                if (this.returnFormat) {\r\n                    return this.dtService.formatTo(realdate, this.returnFormat);\r\n                }\r\n                return realdate;\r\n            }\r\n        } else {\r\n            return this.dateFrom(this._realValue || this.value) || '';\r\n        }\r\n    }\r\n\r\n    onDateRangeInputBlur(event: any) {\r\n        this.setValue(this._beginValue + this.dateRangeDatesDelimiter + this._endValue);\r\n        this.onNgModelChange(this._realRangeValue || this.value);\r\n    }\r\n\r\n    openCalendar(): void {\r\n        if (this.disabled) {\r\n            return;\r\n        }\r\n\r\n        let val = this._realValue;\r\n\r\n        if (!this.multiSelect) {\r\n            if (this.dateRange || this.showType == ShowType.selectWeek) {\r\n                val = this._realRangeValue;\r\n            } else {\r\n                if (this.returnType === 'Date') {\r\n                    val = this.transform(val, this.returnFormat);\r\n                }\r\n            }\r\n        }\r\n\r\n        if (this.cRef === null) {\r\n            this.cRef = this.calendarRef.createComponent(\r\n                this.cfr.resolveComponentFactory(CalendarComponent)\r\n            );\r\n\r\n            this.datePicekrService.appendSelector(this.cRef.location.nativeElement);\r\n\r\n            this.datePicekrService.registerScrollEvent(() => {\r\n                this.closeSelector();\r\n            });\r\n\r\n            this.cRef.instance.dateHlp = this.dtService;\r\n\r\n            if (this.showType === 4 && this.selectedWeek) {\r\n                this.cRef.instance.selectedWeek = this.selectedWeek;\r\n            }\r\n\r\n            if (this.multiSelect) {\r\n                this.cRef.instance.multiDatesChanged = (dates: any[]) => {\r\n                    this.value = dates.map(n => n.value).join(this.separator);\r\n                    this._realValue = dates.map(n => this.dtService.formatTo( `${n.year}-${n.month}-${n.day}` , this.returnFormat)).join(this.separator);\r\n                    this.multiSelectedChanged();\r\n                }\r\n\r\n                this.cRef.instance.showNotify = () => {\r\n                    const msg =  this.localDateOpts.message['102'].replace('${0}', this.maxSelected);\r\n                    if (this.notifySer) {\r\n                        this.notifySer.warning(msg);\r\n                    } else {\r\n                        alert(msg);\r\n                    }\r\n                };\r\n            }\r\n\r\n            this.cRef.instance.initialize(\r\n                this.dateOpts,\r\n                '',\r\n                this.datePicekrService.getSelectorPosition(this.el.nativeElement, this.cRef),\r\n                val,\r\n                (dm: IMyDateModel, close: boolean) => {\r\n\r\n                    if (this.dateOpts.dateRange && this.showTime && dm.dateRange.endJsDate < dm.dateRange.beginJsDate) {\r\n                        // const { year: beginYear, month: beginMonth,  day: beginDay  } = {...dm.dateRange.beginDate};\r\n                        // const { year: endYear, month: endMonth,  day: endDay  } = {...dm.dateRange.endDate};\r\n                        // error message:  The end time must not be earlier than the start time\r\n                        // error message:  çµææéä¸å¾æ©äºéå§æé\r\n                        const msg = this.localDateOpts.message['101'];\r\n                        if (this.notifySer) {\r\n                            this.notifySer.warning(msg);\r\n                        } else {\r\n                            alert(msg);\r\n                        }\r\n                        return;\r\n                    }\r\n                    this.selectedWeek = this.cRef.instance.selectedWeek;\r\n                    this.onDateChanged(dm);\r\n                    if (close) {\r\n                        this.closeSelector(CalToggle.CloseByDateSel);\r\n                    }\r\n                },\r\n                (cvc: IMyCalendarViewChanged) => {\r\n                    // this.emitCalendarChanged(cvc);\r\n                },\r\n                (rds: IMyRangeDateSelection) => {\r\n                    // this.emitRangeDateSelection(rds);\r\n                },\r\n                () => {\r\n                    this.closeSelector(CalToggle.CloseByEsc);\r\n                }\r\n            );\r\n\r\n            this.cRef.instance.dynamicViewShow.subscribe((e: {showDynamicView: boolean}) => {\r\n                const t = Object.assign(e, {dynamicValue: this.dynamicValue, singleValue: this._realValue, instance: this})\r\n                this.dynamicViewChanged.emit(t);\r\n            })\r\n\r\n            // this.cdr.detectChanges();\r\n        } else {\r\n            this.datePicekrService.appendSelector(this.cRef.location.nativeElement);\r\n        }\r\n\r\n        this.overLayService.registerMouseEvent(this.el.nativeElement, (e: MouseEvent) => {\r\n            const t: any = e.target;\r\n            const notClose = (this.cRef && this.cRef.location.nativeElement.contains(t)) || \r\n            t.closest('.multi-date-select') || (t.className && t.className.indexOf('multi-date-select') > -1);\r\n            if (notClose) {\r\n                return false;\r\n            }\r\n            this.closeSelector();\r\n        }, { onlyTopWindow: true});\r\n\r\n        this.cRef.changeDetectorRef.detectChanges();\r\n        // this.preventClose = false;\r\n    }\r\n    closeSelector(reason?: number): void {\r\n        if (this.cRef !== null) {\r\n            this.calendarRef.remove(this.calendarRef.indexOf(this.cRef.hostView));\r\n            this.cRef = null;\r\n            // this.cdr.detectChanges();\r\n            const container = document.querySelector('.date-overlay-container');\r\n            if (container.childElementCount) {\r\n                container.remove();\r\n            }\r\n            this.renderer.setStyle(container, 'pointer-events', '');\r\n        }\r\n        this.totalFocus = false;\r\n        if (this.dateOpts.dateRange) {\r\n            this.beginFocus = false;\r\n            this.endFocus = false;\r\n        }\r\n\r\n        if (this.closeCalendarHandler) {\r\n            this.closeCalendarHandler();\r\n            this.closeCalendarHandler = null;\r\n        }\r\n\r\n        if (this.datePicekrService) {\r\n            this.datePicekrService.removeMouseEvent();\r\n        }\r\n\r\n        this.overLayService.destory(this.el.nativeElement);\r\n    }\r\n    toggleCalendar(close: boolean, emit = true) {\r\n        if (this.disabled) {\r\n            this.totalFocus = false;\r\n            if (this.dateOpts.dateRange) {\r\n                this.beginFocus = false;\r\n                this.endFocus = false;\r\n            }\r\n            return;\r\n        }\r\n        if (this.cRef === null) {\r\n            if (!this.closeCalendarHandler) {\r\n                this.closeCalendarHandler = this.renderer.listen(document, CLICK, () => this.closeSelector(CalToggle.CloseByOutClick));\r\n            }\r\n            this.totalFocus = true;\r\n            this.openCalendar();\r\n            const container = document.querySelector('.date-overlay-container');\r\n            this.renderer.setStyle(container, 'pointer-events', 'auto');\r\n\r\n            const zindex = this.commonUtils.getFloatingLayerIndex();\r\n            this.renderer.setStyle(container, 'zIndex', zindex);\r\n        } else {\r\n            let flag = true;\r\n            const container = document.querySelector('.date-overlay-container');\r\n            if (container && this.cRef.location) {\r\n                if (container.hasChildNodes()) {\r\n                    container.childNodes.forEach(el => {\r\n                        if (el === this.cRef.location.nativeElement) {\r\n                            flag = false;\r\n                        }\r\n                    });\r\n                }\r\n            }\r\n            if (flag) {\r\n                this.renderer.setStyle(container, 'pointer-events', 'auto');\r\n                this.totalFocus = true;\r\n                this.openCalendar();\r\n            } else {\r\n                this.totalFocus = false;\r\n\r\n                if (this.dateOpts.dateRange) {\r\n                    this.beginFocus = false;\r\n                    this.endFocus = false;\r\n                }\r\n                // document.removeEventListener(CLICK, this.onClickHidden);\r\n                close && this.closeSelector(CalToggle.CloseByCalBtn);\r\n                // this.renderer.setStyle(container, 'pointer-events', '')\r\n                if (emit) {\r\n                    this.close.emit();\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    onDateChanged(event: IMyDateModel) {\r\n        this._SELECT_DATE_ = event;\r\n        let valChangeParams: any = '';\r\n        if (event.singleDate) {\r\n            this.value = event.singleDate.formatted;\r\n            this.formatedValue = event.singleDate.formatted;\r\n            const returnFormatted = this.getRealReturnFormatted(event.singleDate.jsDate);\r\n            valChangeParams = { ...event.singleDate, formatted: event.singleDate.formatted, returnFormatted };\r\n\r\n            const { year, month, day, hour, minute, second } = event.singleDate.date;\r\n\r\n            if (month && (this.dateFormat.indexOf('yyyy') === -1 || this.dateFormat.indexOf('dd') === -1)) {\r\n                const nd = new Date(\r\n                    year || new Date().getFullYear(),\r\n                    month - 1,\r\n                    day || 1,\r\n                    hour || 0,\r\n                    minute || 0,\r\n                    second || 0\r\n                );\r\n\r\n                event.singleDate.jsDate = nd;\r\n            }\r\n\r\n            let { year: minYear, month: minMonth, day: minDay, hour: minHour, minute: minMinute, second: minSecond } = this.minDate;\r\n            minMonth = this.utilService.padStartZero(minMonth);\r\n            minDay = this.utilService.padStartZero(minDay);\r\n            minHour = this.utilService.padStartZero(minHour);\r\n            minMinute = this.utilService.padStartZero(minMinute);\r\n            minSecond = this.utilService.padStartZero(minSecond);\r\n\r\n            const MIN_DATE = new Date(`${minYear}-${minMonth}-${minDay} ${minHour}:${minMinute}:${minSecond}`);\r\n            if (this.minDate.year !== 1840) {\r\n                if (differenceInSeconds(MIN_DATE, event.singleDate.jsDate) > 0) {\r\n                    event.singleDate.jsDate = MIN_DATE;\r\n                    this.value = this.transform(MIN_DATE);\r\n                }\r\n            } else if (this.maxDate.year !== 10000) {\r\n                let { year: maxYear, month: maxMonth, day: maxDay, hour: maxHour, maxute: maxMinute, second: maxSecond } = this.maxDate;\r\n                maxMonth = this.utilService.padStartZero(maxMonth);\r\n                maxDay = this.utilService.padStartZero(maxDay);\r\n                maxHour = this.utilService.padStartZero(maxHour);\r\n                maxMinute = this.utilService.padStartZero(maxMinute);\r\n                maxSecond = this.utilService.padStartZero(maxSecond);\r\n\r\n                const MAX_DATE = new Date(`${maxYear}-${maxMonth}-${maxDay} ${maxHour}:${maxMinute}:${maxSecond}`);\r\n                \r\n                if (event.singleDate.date.year === 1840 || differenceInSeconds(MIN_DATE, event.singleDate.jsDate) === 0 || differenceInSeconds(MAX_DATE, event.singleDate.jsDate) < 0) {\r\n                    event.singleDate.jsDate = MAX_DATE;\r\n                    this.value = this.transform(MAX_DATE);\r\n                }\r\n            }\r\n\r\n            this.onNgModelChange(returnFormatted, event.singleDate.jsDate);\r\n        } else if (event.dateRange) {\r\n            this.value = event.dateRange.formatted;\r\n            this.formatedValue = event.dateRange.formatted;\r\n            const returnFormatted = event.dateRange.returnFormatted;\r\n            // let returnFormatted = this.dateFrom(event.dateRange.returnFormatted);\r\n            valChangeParams = { ...event.dateRange, formatted: event.dateRange.formatted, returnFormatted };\r\n            this.onNgModelChange(returnFormatted, event.dateRange);\r\n        }\r\n        this.onModelTouched();\r\n        this._valueChangeEmitted = true;\r\n        this.valueChange.emit(valChangeParams);\r\n    }\r\n\r\n    private checkMultiSelectedOption() {\r\n\r\n        if (this.multiSelect) {\r\n\r\n            this.showTime = false;\r\n            this.showType = ShowType.all;\r\n            this.dateRange = false;\r\n            this.enableDynamic = false;\r\n\r\n            // è¿åæ ¼å¼å¿é¡»åæ¬å¹´ææ¥\r\n            const fmtList = ['yyyy-MM-dd', 'yyyy/MM/dd','MM/dd/yyyy','yyyyå¹´MMæddæ¥','yyyyMMdd'];\r\n            if (!fmtList.find(n => n === this.returnFormat)) {\r\n                this.returnFormat = 'yyyy-MM-dd';\r\n            }\r\n\r\n            if (!fmtList.find(n => n === this.dateFormat)) {\r\n                this.dateFormat = 'yyyy-MM-dd';\r\n            }\r\n        }\r\n    }\r\n\r\n    buildOptions() {\r\n        let dateOpts: any;\r\n        if (!this.localDateOpts) {\r\n            this.localDateOpts = this.localeConfig.getLocaleOptions(this.locale);\r\n        }\r\n\r\n        if (this.showType === ShowType.noDateAndMonth) {\r\n            this.localDateOpts.dateFormat = 'yyyy';\r\n            this.localDateOpts.returnFormat = 'yyyy';\r\n        }\r\n        // æ£æ¥æ¯å¦å·å¤å¯ç¨æ¥æå¤éçæ¡ä»¶\r\n        this.checkMultiSelectedOption();\r\n\r\n        const _showTime = (Number(this.showType) === ShowType.all) ? this.showTime : false;\r\n\r\n        dateOpts = {\r\n            dateRange: this.dateRange,\r\n            showTime: _showTime,\r\n            showType: Number(this.showType),\r\n            dateFormat: this.dateFormat ? this.dateFormat : this.localDateOpts.dateFormat,\r\n            returnFormat: this.returnFormat ? this.returnFormat : this.localDateOpts.returnFormat,\r\n            minYear: this._minDate.year,\r\n            maxYear: this._maxDate.year,\r\n            highlightDates: this.highlightDates,\r\n            disableDates: this.disableDates,\r\n            showWeekNumbers: this.showWeekNumbers,\r\n            disableDateRanges: [\r\n                {\r\n                    begin: this.disableDateRangesBegin,\r\n                    end: this.disableDateRangesEnd\r\n                }\r\n            ],\r\n            disableUntil: this._minDate,\r\n            disableSince: this._maxDate,\r\n            disableWeekdays: this.disableWeekdays,\r\n            markDates: [\r\n                {\r\n                    dates: this.markDates,\r\n                    color: this.markDatesColor\r\n                }\r\n            ],\r\n            markWeekends: {\r\n                marked: this.isMarkWeekends,\r\n                color: this.markWeekendsColor\r\n            },\r\n            dateRangeDatesDelimiter: this.dateRangeDatesDelimiter,\r\n            shortcuts: this.shortcuts,\r\n            timeFormat: this._timeFormat,\r\n            monthRangeValue: this.monthRangeValue,\r\n            viewType: this.viewType,\r\n            enableDynamic: this.enableDynamic,\r\n            dynamicValue: this.dynamicValue,\r\n            dynamicValueChanged: (e: DynamicData) => {\r\n                this.dynamicValue = e;\r\n                this.dynamicText = e ? e.text : '';\r\n                this.dateOpts.dynamicValue = e;\r\n                this.dynamicValueChange.emit(e);\r\n                this.closeSelector();\r\n            },\r\n            previousMaxDays: this.previousMaxDays,\r\n            futureMaxDays: this.futureMaxDays,\r\n            dynamicLocale: this.localDateOpts.dynamicLocale,\r\n            mulstiDatesLocale: this.localDateOpts.mulstiDatesLocale,\r\n            showPresent: this.showPresent,\r\n            hourStep: this.hourStep,\r\n            minuteStep: this.minuteStep,\r\n            secondStep: this.secondStep,\r\n            closeSelectorOnDateSelect: !this.multiSelect,\r\n            multiSelect: this.multiSelect,\r\n            separator: this.separator,\r\n            maxSelected: this.maxSelected,\r\n            selectedOrderBy: this.selectedOrderBy\r\n        };\r\n        dateOpts.firstDayOfWeek = this.firstDayOfWeek;\r\n        switch (Number(this.showType)) {\r\n            case ShowType.noDate:\r\n                dateOpts.defaultView = DefaultView.Month;\r\n                break;\r\n            case ShowType.noDateAndMonth:\r\n                dateOpts.defaultView = DefaultView.Year;\r\n                // dateOpts.dateFormat = 'yyyy';\r\n                // dateOpts.returnFormat = 'yyyy';\r\n                // this.dateFormat = 'yyyy';\r\n                break;\r\n            case ShowType.selectWeek:\r\n                dateOpts.showWeekNumbers = true;\r\n                dateOpts.dateRange = true;\r\n                // dateOpts.firstDayOfWeek = 'mo';\r\n                break;\r\n            // default:\r\n            // this.returnType = 'String';\r\n\r\n        }\r\n        return { ...this.localDateOpts, ...dateOpts };\r\n    }\r\n\r\n    dateTo(d: any) {\r\n        const dateFormat = this.dateOpts.dateFormat ? this.dateOpts.dateFormat : this.defaultConfig.dateFormat;\r\n        const monthLabels = this.dateOpts.monthLabels ? this.dateOpts.monthLabels : this.defaultConfig.monthLabels;\r\n        const showTime = this.dateOpts.showTime ? this.dateOpts.showTime : this.defaultConfig.showTime;\r\n        const year = d.getFullYear();\r\n        const month = d.getMonth() + 1;\r\n        const day = d.getDate();\r\n        const hour = d.getHours();\r\n        const minute = d.getMinutes();\r\n        const second = d.getSeconds();\r\n        let date: IMyDate;\r\n        if (!showTime) {\r\n            date = { year, month, day };\r\n            this.originTime = { hour, minute, second };\r\n        } else {\r\n            date = { year, month, day, hour, minute, second };\r\n        }\r\n        return this.utilService.formatDate(date, dateFormat, monthLabels);\r\n    }\r\n    // è¿åçå®æ¥æ Date ç±»å\r\n    dateFrom(str: any, ignorRange = false) {\r\n        if (!str) {\r\n            return '';\r\n        }\r\n\r\n        const _this = this;\r\n\r\n        const dateRange = this.dateOpts.dateRange ? this.dateOpts.dateRange : this.defaultConfig.dateRange;\r\n        const dateFormat = this.dateOpts.dateFormat ? this.dateOpts.dateFormat : this.defaultConfig.dateFormat;\r\n        const returnFormat = this.dateOpts.returnFormat ? this.dateOpts.returnFormat : this.defaultConfig.returnFormat;\r\n        const showTime = this.dateOpts.showTime ? this.dateOpts.showTime : this.defaultConfig.showTime;\r\n        const delimeters: Array<string> = returnFormat.match(/[^(DdMmYy)]{1,}/g);\r\n        let dateValue: Array<IMyDateFormat>;\r\n        const getValue = this.utilService.getDateValue;\r\n        if ((dateRange || this.dateOpts.showType === ShowType.selectWeek) && !ignorRange) {\r\n            const tmpBegin = str.split(this.dateRangeDatesDelimiter)[0];\r\n            const tmpEnd = str.split(this.dateRangeDatesDelimiter)[1];\r\n            let tmpBeginDate = this.utilService.isDateValid(tmpBegin, this.dateOpts, true);\r\n            let tmpEndDate = this.utilService.isDateValid(tmpEnd, this.dateOpts, true);\r\n            tmpBeginDate = this.utilService.isInitializedDate(tmpBeginDate) ? tmpBeginDate : this.dateOpts.disableUntil;\r\n            tmpEndDate = this.utilService.isInitializedDate(tmpEndDate) ? tmpEndDate : this.dateOpts.disableSince;\r\n            return (\r\n                this.utilService.formatDate(tmpBeginDate, returnFormat, this.defaultConfig.monthLabels) +\r\n                this.dateRangeDatesDelimiter +\r\n                this.utilService.formatDate(tmpEndDate, returnFormat, this.defaultConfig.monthLabels)\r\n            );\r\n        } else {\r\n            if (this.returnType === 'Date') {\r\n                if (str && str instanceof Date) {\r\n                    return str;\r\n                }\r\n                return convert(str, getValue, this.originTime);\r\n            } else {\r\n                const tmpDate = this.utilService.isDateValid(str, this.dateOpts, true);\r\n                return this.utilService.formatDate(tmpDate, returnFormat, this.defaultConfig.monthLabels);\r\n            }\r\n        }\r\n\r\n        function convert(v, _getValue: any, originTime = { hour: 0, minute: 0, second: 0 }) {\r\n            let fmt = returnFormat;\r\n            if (_this.returnType === 'Date') {\r\n                fmt = 'yyyy-MM-dd' + (showTime ? ' HH:mm:ss' : '');\r\n            }\r\n            if (showTime) {\r\n                const date = v.split(' ')[0];\r\n                let time = v.split(' ')[1];\r\n\r\n                dateValue = _getValue(date, fmt, delimeters);\r\n                if (time) {\r\n                    time = time.replace(/[æ¶,å]/g, ':').replace(/[ç§]/, '');\r\n                    const [h, m, s] = time.split(':');\r\n                    const hour = h;\r\n                    const minute = m;\r\n                    const second = s ? s : '';\r\n\r\n                    dateValue[3] = { value: hour, format: 'hh' };\r\n                    dateValue[4] = { value: minute, format: 'mm' };\r\n                    if (second) {\r\n                        dateValue[5] = { value: second, format: 'ss' };\r\n                    }\r\n                }\r\n            } else {\r\n                const date = v.split(' ')[0];\r\n                dateValue = _getValue(date, fmt, delimeters);\r\n            }\r\n\r\n\r\n            let year = Number(dateValue[0] ? dateValue[0].value : 1970);\r\n            const yearValue = dateValue[0];\r\n            if (yearValue.format) {\r\n                if (!yearValue.value || yearValue.value.length !== yearValue.format.length) {\r\n                    year = null;\r\n                }\r\n            }\r\n\r\n            const month = Number(dateValue[1] ? dateValue[1].value : 1) - 1;\r\n            const day = Number(dateValue[2] ? dateValue[2].value : 1);\r\n            const _hour = dateValue[3] ? Number(dateValue[3].value) : originTime.hour;\r\n            const _minute = dateValue[4] ? Number(dateValue[4].value) : originTime.minute;\r\n            const _second = dateValue[5] ? Number(dateValue[5].value) : originTime.second;\r\n\r\n            if (!year) {\r\n                return null;\r\n            }\r\n            return new Date(year, month, day, _hour, _minute, _second);\r\n        }\r\n    }\r\n\r\n    transform(value: any, _fmt = this.dateOpts.dateFormat) {\r\n        value = value ? value : '';\r\n        const { returnFormat, dateFormat, showTime } = this.dateOpts;\r\n        let _tmpDate = null;\r\n        if (typeof value === 'string') {\r\n            _tmpDate = parse(value, returnFormat, new Date());\r\n\r\n            if (!isValid(_tmpDate)) {\r\n                if (this._SELECT_DATE_ && this._SELECT_DATE_.singleDate) {\r\n                    _tmpDate = this._SELECT_DATE_.singleDate.jsDate;\r\n                } else {\r\n                    if (this._realValue) {\r\n                        _tmpDate =  parse(this._realValue, returnFormat, new Date());\r\n                    }\r\n                }\r\n            }\r\n        } else {\r\n            if (value instanceof Date) {\r\n                _tmpDate = value;\r\n            }\r\n        }\r\n        let formattedVal = value;\r\n        if (isValid(_tmpDate)) {\r\n            formattedVal = this.dtService.formatTo(_tmpDate, _fmt);\r\n            return formattedVal;\r\n        } else {\r\n            // å¼å®¹å¹´ææ¥,å¹´æ,å¹´æ ¼å¼\r\n            value = value.replace(/[å¹´,æ]/g, '-').replace(/[æ¥]/, '');\r\n            if (value[value.length - 1] === '-') {\r\n                value = value.substr(0, value.length - 1);\r\n            }\r\n\r\n            if (isValid(new Date(value))) {\r\n                formattedVal = this.dtService.formatTo(value, _fmt);\r\n            } else {\r\n                value = '';\r\n            }\r\n        }\r\n        if (value) {\r\n            if (this.dateFrom(value, true) === '') {\r\n                const tmpDate = this.utilService.isDateValid(\r\n                    value,\r\n                    Object.assign({}, this.dateOpts, {\r\n                        dateFormat: returnFormat\r\n                    })\r\n                );\r\n                formattedVal = this.utilService.formatDate(tmpDate, _fmt, this.defaultConfig.monthLabels);\r\n            }\r\n        }\r\n        return formattedVal;\r\n    }\r\n\r\n    setValue(value: string) {\r\n        if (this.value !== value) {\r\n            if (this.dateOpts.dateRange) {\r\n                const _tmpDateArr = value.split(this.dateRangeDatesDelimiter);\r\n                const beginStr = _tmpDateArr[0];\r\n                const endStr = _tmpDateArr[1];\r\n                this._beginValue = this.transform(beginStr);\r\n                this._endValue = this.transform(endStr);\r\n                this.value = this._beginValue && this._endValue ? this._beginValue + this.dateRangeDatesDelimiter + this._endValue : '';\r\n            } else {\r\n                if (value) {\r\n                    this.value = this.transform(value);\r\n                } else {\r\n                    this.value = '';\r\n                }\r\n            }\r\n\r\n            this.cdr.markForCheck();\r\n        }\r\n    }\r\n\r\n    updateValue(value: string) {\r\n        if (this.dateOpts.dateRange) {\r\n            const _tmpDateArr = value.split(this.dateRangeDatesDelimiter);\r\n            const beginStr = _tmpDateArr[0];\r\n            const endStr = _tmpDateArr[1];\r\n            this._beginValue = this.transform(beginStr);\r\n            this._endValue = this.transform(endStr);\r\n            this.value = this._beginValue && this._endValue ? this._beginValue + this.dateRangeDatesDelimiter + this._endValue : '';\r\n        } else {\r\n            this.value = this.transform(value);\r\n        }\r\n    }\r\n\r\n    getValueByType(val) {\r\n        if (val instanceof Date) {\r\n            this.returnType = 'Date';\r\n            // return this.dateTo(val);\r\n            return val;\r\n        } else if (val && val instanceof Object) {\r\n            const { begin, end } = val;\r\n            const beginStr = begin instanceof Date ? this.dateTo(begin) : '';\r\n            const endStr = begin instanceof Date ? this.dateTo(end) : '';\r\n\r\n            this.returnType = 'Object';\r\n            return beginStr && endStr ? beginStr + this.dateRangeDatesDelimiter + endStr : '';\r\n        } else if (val && typeof val === 'string') {\r\n            if (val.indexOf('T') > -1) {\r\n                val = val.replace('T', ' ');\r\n            }\r\n            this.returnType = 'String';\r\n            return val;\r\n        } else {\r\n            return '';\r\n        }\r\n    }\r\n    \r\n    writeValue(val: any): void {\r\n        if (!this.multiSelect) {\r\n            if (typeof val === 'object' && val && !isDate(val)) {\r\n                this.dynamicValue = val;\r\n                this.dynamicText = this.utilService.formatDynamicValue(val, this.dateOpts.dynamicLocale);\r\n                this.dateOpts.showDynamicView = true;\r\n                this.dateOpts.dynamicValue = this.dynamicValue;\r\n            } else {\r\n                // this.dateOpts.showDynamicView = false;\r\n                this._realValue = val;\r\n                if (this.dateRange) {\r\n                    this._realRangeValue = val;\r\n                }\r\n\r\n                this.setValue(this.getValueByType(val));\r\n            }\r\n        } else {\r\n            if (!val) {\r\n                val = '';\r\n            }\r\n            this.value = val.split(this.separator).map(n => this.transform(n)).join(this.separator);\r\n            this._realValue = val;\r\n        }\r\n    }\r\n    registerOnChange(fn: any): void {\r\n        this.onModelChange = fn;\r\n    }\r\n    registerOnTouched(fn: any): void {\r\n        this.onModelTouched = fn;\r\n    }\r\n    setDisabledState?(isDisabled: boolean): void {\r\n        this.disabled = isDisabled;\r\n    }\r\n    onPrevFocus(value: boolean): void {\r\n        this.beginFocus = true;\r\n        if (this.endFocus == true) {\r\n            this.endFocus = !this.endFocus;\r\n        }\r\n        this.PrevFocus.emit();\r\n    }\r\n    onNextFocus(value: boolean): void {\r\n        this.endFocus = true;\r\n        if (this.beginFocus == true) {\r\n            this.beginFocus = !this.beginFocus;\r\n        }\r\n        this.NextFocus.emit();\r\n    }\r\n\r\n    private _convert2dateString(val: string, realValue = false) {\r\n        if (val) {\r\n            let t = val.replace(/[å¹´,æ]/g, '-').replace(/[æ¥,å·]/g, ' ').replace(/[æ¶,ç¹,å,åé]/g, ':').replace('ç§', '');\r\n\r\n            if (this.showType === ShowType.noDateAndMonth && t.indexOf('-') === -1) {\r\n                t += '-';\r\n            }\r\n\r\n            // æ¿æ¢è¿ç»­çç©ºæ ¼å­ç¬¦ä¸ºåä¸ªç©ºæ ¼\r\n            var checkSpaceReg = /(\\s)\\1{1,}/g;\r\n            if (t.match(checkSpaceReg)) {\r\n                t.match(checkSpaceReg).forEach(n => {\r\n                    if (n[0] === ' ') {\r\n                        t = t.replace(n,  ' ');\r\n                    }\r\n                });\r\n            }\r\n\r\n            if (realValue) {\r\n                const objDate = this.utilService.isDateValid(val, this.dateOpts, true);\r\n                if (objDate) {\r\n                    let { year, month, day, hour, minute, second} = objDate;\r\n                    if (!year) {\r\n                        year = new Date().getFullYear();\r\n                    }\r\n                    if (!month) {\r\n                        month = new Date().getMonth();\r\n                    }\r\n\r\n                    if (!day) {\r\n                        day = 1;\r\n                    }\r\n\r\n                    if (!hour) {\r\n                        hour = 0;\r\n                    }\r\n\r\n                    if (!minute) {\r\n                        minute = 0;\r\n                    }\r\n\r\n                    if (!second) {\r\n                        second = 0;\r\n                    }\r\n\r\n                    const _datePart = `${year}-${this.utilService.padStartZero(month)}-${this.utilService.padStartZero(day)}`;\r\n                    const _timePart = `${this.utilService.padStartZero(hour)}:${this.utilService.padStartZero(minute)}:${this.utilService.padStartZero(second)}`;\r\n\r\n                    return `${_datePart} ${_timePart}`;\r\n                }\r\n            }\r\n\r\n            if (t[t.length - 1] === '-') {\r\n                // t = t.substr(0, t.length - 1);\r\n                t += '01';\r\n            }\r\n\r\n            if (t[t.length - 1] === ':') {\r\n                t = t.substr(0, t.length - 1);\r\n            }\r\n\r\n            return t.replace(/^\\s+|\\s+$/g, '');\r\n        }\r\n\r\n        return val;\r\n    }\r\n\r\n\r\n    private _isValid(value: any) {\r\n        value = this._convert2dateString(value);\r\n        if (value) {\r\n            if (this.dateFormat.indexOf('yyyy') === -1 || this.dateFormat.indexOf('dd') === -1) {\r\n                const _tmpDate = parse(this.value, this.dateFormat, new Date());\r\n                if (this._realValue) {\r\n                    if (this.returnType === 'Date') {\r\n                        return isValid(this._realValue);\r\n                    } else {\r\n                        return isValid(new Date(this._convert2dateString(this._realValue, true)));\r\n                        // return isValid(parse(this._realValue, this.returnFormat, new Date()));\r\n                    }\r\n                }\r\n\r\n                const d = this.utilService.isDateValid(value, this.dateOpts);\r\n                if (d) {\r\n                    if (d.year || d.month) {\r\n                        const cdate = new Date();\r\n                        const year = cdate.getFullYear();\r\n                        const str = (this.dateOpts.returnFormat || 'yyyy-MM-dd')\r\n                            .replace('yyyy', '' + (d.year || year)).replace('MM', '' + d.month).replace('dd', '1');\r\n                        return isValid(new Date(str));\r\n                    }\r\n                    return false;\r\n                }\r\n                return isValid(value);\r\n            } else {\r\n                const reg = /^\\d{1,}$/;\r\n                if (reg.test(value) && this.dateFormat.indexOf('yyyyMMdd') > -1) { // éªè¯ä¼ å¥çæ ¼å¼ä¸º yyyyMMddHHmmss\r\n                    const _r =  this._isValid2(value);\r\n                    if (_r.isValided) {\r\n                        this._realValue = this.getRealReturnFormatted(_r.date);\r\n                        this.value = this.transform(_r.date);\r\n                    }\r\n                    return _r.isValided;\r\n                } else {\r\n                    const _tmpDate = parse(value, this.dateFormat, new Date());\r\n                    const d = this.utilService.isDateValid(this.value, this.dateOpts);\r\n                    return isValid(_tmpDate) || this.utilService.isInitializedDate(d);\r\n                }\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n    private _isValid2(value: string): any {\r\n        let year = 0;\r\n        let month = 0;\r\n        let day = 0;\r\n        let hour = 0;\r\n        let minute = 0;\r\n        let seconds = 0;\r\n\r\n        const df = this.dateFormat;\r\n\r\n        if (df.includes('yyyy')) {\r\n            if (value) {\r\n                year = +value.slice(0, 4);\r\n                value = value.slice(4);\r\n            } else {\r\n                return false;\r\n            }\r\n        }\r\n        if (df.includes('MM')) {\r\n            if (value) {\r\n                month = +value.slice(0, 2) - 1;\r\n                value = value.slice(2);\r\n\r\n                if (month < 0) {\r\n                    month = 0;\r\n                }\r\n            } else {\r\n                return false;\r\n            }\r\n        }\r\n        if (df.includes('dd')) {\r\n            if (value) {\r\n                day = +value.slice(0, 2);\r\n                value = value.slice(2);\r\n            } else {\r\n                return false;\r\n            }\r\n        }\r\n        if (df.includes('HH')) {\r\n            if (value) {\r\n                hour = +value.slice(0, 2);\r\n                value = value.slice(2);\r\n            }\r\n        }\r\n        if (df.includes('mm')) {\r\n            if (value) {\r\n                minute = +value.slice(0, 2);\r\n                value = value.slice(2);\r\n            }\r\n        }\r\n        if (df.includes('ss')) {\r\n            if (value) {\r\n                seconds = +value.slice(0, 2);\r\n            }\r\n        }\r\n\r\n        const d = new Date(year, month, day, hour, minute, seconds);\r\n        return {\r\n            isValided: isValid(d),\r\n            date: d\r\n        };\r\n    }\r\n\r\n    private multiSelectedChanged() {\r\n        this.onModelChange(this._realValue);\r\n        const p = {\r\n            formatted: this.value,\r\n            returnFormatted: this._realValue,\r\n            cmpRef: this\r\n        };\r\n        this.onModelTouched();\r\n        this.closeSelector(CalToggle.CloseByDateSel);\r\n        this.valueChange.emit(p);\r\n\r\n        if (!this.value) {\r\n            this.clear.emit();\r\n        }\r\n    }\r\n\r\n    onRemoveDate(d: {value: string, index: number}) {\r\n        if (!d) {\r\n            return;\r\n        }\r\n        const {value, index} = d;\r\n        this.value = this.value.split(this.separator).filter(n => n!== value).join(this.separator);\r\n        this._realValue = this._realValue.split(this.separator).filter((n, i) => i !== index).join(this.separator);\r\n\r\n        this.multiSelectedChanged();\r\n        this.cdr.detectChanges();\r\n    }\r\n}\r\n","/*\r\n * @Author: ç¯çç§æ(Lucas Huang)\r\n * @Date: 2019-08-02 14:14:22\r\n * @LastEditors: ç¯çç§æ(Lucas Huang)\r\n * @LastEditTime: 2019-09-04 15:03:00\r\n * @QQ: 1055818239\r\n * @Version: v0.0.1\r\n */\r\nimport {\r\n    Component,\r\n    EventEmitter,\r\n    Input,\r\n    Output,\r\n    ViewEncapsulation\r\n} from '@angular/core';\r\nimport { IMyOptions } from '../../interfaces/public-api';\r\n@Component({\r\n    selector: 'lib-selection-sidebar',\r\n    templateUrl: './selection-sidebar.component.html',\r\n    encapsulation: ViewEncapsulation.None\r\n})\r\nexport class SelectionSidebarComponent {\r\n    @Input() opts: IMyOptions;\r\n    @Output() setTime: EventEmitter<void> = new EventEmitter<void>();\r\n}\r\n","import { Component } from '@angular/core';\r\n\r\n@Component({\r\n    selector: 'angular-datepicker',\r\n    template: ''\r\n})\r\nexport class AngularMyDatePickerComponent {}\r\n","import { EventEmitter, ChangeDetectorRef, Component, Injector, Input, OnInit, Output } from '@angular/core';\r\nimport { DynamicData, DynamicDateType } from '../../interfaces/dynamic-data-type.interface';\r\n\r\n@Component({\r\n    selector: 'lib-dynamic-view',\r\n    templateUrl: 'dynamic-view.component.html',\r\n    styleUrls: [\r\n        './dynamic-view.css'\r\n    ]\r\n})\r\n\r\nexport class DynamicViewComponent implements OnInit {\r\n    _value: string = '';\r\n\r\n    get value() {\r\n        return this._value;\r\n    }\r\n\r\n    set value(val) {\r\n        this._value = val;\r\n        this.valueChange.emit(val);\r\n    }\r\n\r\n    private _data: DynamicData = null;\r\n    @Input() set data(val: DynamicData) {\r\n        this._data = val;\r\n        this.setValue(val);\r\n    }\r\n\r\n    get data() {\r\n        return this._data;\r\n    }\r\n\r\n    @Input() previousMaxDays = 30;\r\n    @Input() futureMaxDays = 30;\r\n\r\n    @Input() locale: any;\r\n\r\n    previous_dateType: DynamicDateType  = 'day';\r\n    previous_days: number = 1;\r\n\r\n    future_dateType: DynamicDateType = 'day'\r\n    future_days = 1;\r\n\r\n    present_first_dateType: DynamicDateType = 'month';\r\n    present_last_dateType: DynamicDateType = 'month';\r\n\r\n    @Output() valueChange = new EventEmitter();\r\n\r\n    constructor(private injector: Injector, private cd: ChangeDetectorRef) { }\r\n\r\n    ngOnInit() { }\r\n\r\n    onListItemFormControlClick($event) {\r\n        const lbl = $event.target.closest('label');\r\n        if (lbl) {\r\n            lbl.click();\r\n        }\r\n    }\r\n\r\n    setValue(val: DynamicData) {\r\n        if (val) {\r\n            this.value = val.name;\r\n            switch(this.value) {\r\n                case 'present_day': // ä»å¤©\r\n                case 'present_month': // æ¬æ\r\n                case 'present_year':\r\n                    break;\r\n                case 'previou':\r\n                    this.previous_dateType = val.dateType;\r\n                    this.previous_days = val.count;\r\n                    break;\r\n                case 'future':\r\n                    this.future_dateType = val.dateType;\r\n                    this.future_days = val.count;\r\n                    break;\r\n                case 'present_first':\r\n                    this.present_first_dateType = val.dateType;\r\n                    break;\r\n                case 'present_last':\r\n                    this.present_last_dateType = val.dateType;\r\n                    break; \r\n            }\r\n            this.cd.detectChanges();\r\n        }\r\n    }\r\n\r\n    getValue(): DynamicData {\r\n        let val = null;\r\n        if (this.value) {\r\n            switch(this.value) {\r\n                case 'present_day': // ä»å¤©\r\n                    val = {dateType:'day', period:'present', count: null, isFirstDay: false, isLastDay: false};\r\n                    break;\r\n                case 'present_month': // æ¬æ\r\n                    val = {dateType:'month', period:'present', count: null, isFirstDay: false, isLastDay: false};\r\n                    break;\r\n                case 'present_year':\r\n                    val = {dateType:'year', period:'present', count: null, isFirstDay: false, isLastDay: false};\r\n                    break;\r\n                case 'previou':\r\n                    val = { dateType: this.previous_dateType , period:'previous', count: this.previous_days, isFirstDay: false, isLastDay: false};\r\n                    break;\r\n                case 'future':\r\n                    val = { dateType: this.future_dateType , period:'future', count: this.future_days, isFirstDay: false, isLastDay: false};\r\n                    break;\r\n                case 'present_first':\r\n                    val = { dateType: this.present_first_dateType , period:'present', count: null, isFirstDay: true, isLastDay: false};\r\n                    break;\r\n                case 'present_last':\r\n                    val = { dateType: this.present_last_dateType , period:'present', count: null, isFirstDay: false, isLastDay: true};\r\n                    break;\r\n            }\r\n\r\n            if (val) {\r\n                val.name = this.value;\r\n            }\r\n        }\r\n        return val;\r\n    }\r\n\r\n    private getDateTypeString(dt: DynamicDateType) {\r\n        switch(dt) {\r\n            case 'week':\r\n                return this.locale.week || 'å¤©';\r\n            case 'day':\r\n                return this.locale.day || 'å¤©';\r\n            case 'month':\r\n                return this.locale.month || 'æ';\r\n            case 'year':\r\n                return this.locale.year || 'å¹´';\r\n        }\r\n    }\r\n\r\n    formatValue() {\r\n        const val = this.getValue();\r\n        if (val) {\r\n            let fval = '';\r\n            switch(val.name) {\r\n                case 'present_day': // ä»å¤©\r\n                fval = this.locale.today || 'ä»å¤©';\r\n                break;\r\n            case 'present_month': // æ¬æ\r\n                fval = this.locale.presentMonth || 'æ¬æ';\r\n                break;\r\n            case 'present_year':\r\n                fval = this.locale.presentYear ||'æ¬å¹´';\r\n                break;\r\n            case 'previou':\r\n                fval =  (this.locale.previous|| 'è¿å»') + ' ' + val.count + ' ' + this.getDateTypeString(val.dateType);\r\n                break;\r\n            case 'future':\r\n                fval = (this.locale.future || 'æªæ¥') + ' '+ val.count + ' ' +this.getDateTypeString(val.dateType);\r\n                break;\r\n            case 'present_first':\r\n                fval = (this.locale.current||'æ¬') + this.getDateTypeString(val.dateType) + (this.locale.first||'ç¬¬ 1 å¤©');\r\n                break;\r\n            case 'present_last':\r\n                fval = (this.locale.current||'æ¬') + this.getDateTypeString(val.dateType) + (this.locale.last||'æå 1 å¤©');\r\n                break;\r\n            }\r\n\r\n            return fval;\r\n        } else {\r\n            return '';\r\n        }\r\n    }\r\n\r\n\r\n    private setDays(typ: string, days: number) {\r\n        if (typ === 'previous') {\r\n            this.previous_days = days;\r\n        } else {\r\n            this.future_days = days;\r\n        }\r\n    }\r\n\r\n    checkMaxDays($event, tye: string) {\r\n        const target = $event.target as any;\r\n        const val = target.value.replace(/[^\\d]/g,'');\r\n        const days = Number(val);\r\n        target.value = days;\r\n        const max = tye === 'previous' ? this.previousMaxDays: this.futureMaxDays; \r\n        this.setDays(tye, days);\r\n\r\n        if (days > max) {\r\n            target.value = max;\r\n            this.setDays(tye, max);\r\n            return;\r\n        } else {\r\n            if (days < 1) {\r\n                target.value = 1;\r\n                this.setDays(tye, 1);\r\n                return;\r\n            }\r\n        }\r\n    }\r\n\r\n    onNumberKeydown($event: KeyboardEvent) {\r\n        $event.stopPropagation();\r\n        if ($event.key === '.' || $event.key === '-' || $event.key === '+') {\r\n            $event.preventDefault();\r\n        }\r\n    }\r\n}","import { Component, ElementRef, EventEmitter, HostListener, Injector, Input, OnInit, Output, ViewChild } from '@angular/core';\r\n\r\n@Component({\r\n    selector: 'dynamic-date-input',\r\n    templateUrl: 'dynamic-date-input.component.html'\r\n})\r\n\r\nexport class DynamicDateInputComponent implements OnInit {\r\n\r\n    @Input() readonly: boolean;\r\n    @Input() disabled: boolean;\r\n\r\n    @Input() value: string;\r\n    @Input() text: string;\r\n\r\n    @Input() isFocus: boolean;\r\n    @Input() placeholder: string;\r\n\r\n    @Input() showClear: boolean;\r\n\r\n\r\n    @Output() inputClick = new EventEmitter();\r\n    @Output() tabKeydown =  new EventEmitter();\r\n    @Output() clear =  new EventEmitter();\r\n\r\n    @ViewChild('clearIcon') clearIcon: ElementRef;\r\n    \r\n    constructor(private inject: Injector) { }\r\n\r\n    ngOnInit() { }\r\n\r\n    @HostListener('mouseenter', ['$event'])\r\n    onMouseEnter(event) {\r\n        if (this.value && !this.disabled && !this.readonly) {\r\n            if (this.value && this.clearIcon) {\r\n                this.clearIcon.nativeElement.style.visibility = '';\r\n            }\r\n        }\r\n    }\r\n\r\n    @HostListener('mouseleave', ['$event'])\r\n    onMouseLeave(event) {\r\n        if (!this.disabled && this.clearIcon && !this.readonly) {\r\n            this.clearIcon.nativeElement.style.visibility = 'hidden';\r\n        }\r\n    }\r\n}","import { AfterViewInit, ChangeDetectorRef, Component, ElementRef, EventEmitter, Injector, Input, OnChanges, OnDestroy, OnInit, Output, Renderer2, SimpleChanges, ViewChild } from '@angular/core';\r\nimport { CommonUtils, OverLayHiddenService } from '@farris/ui-common';\r\nimport { BehaviorSubject } from 'rxjs';\r\nimport { UtilService } from '../services/farris-datepicker.util.service';\r\nimport { MultiSelectedOrderBy } from '../interfaces/my-options.interface';\r\n\r\n@Component({\r\n    selector: 'multi-select-input',\r\n    templateUrl: './multi-date-input.component.html',\r\n    styles: [\r\n        `\r\n        .multi-date-display {\r\n            width: 100%;flex-wrap: wrap;align-items: center;cursor: text;\r\n        }\r\n\r\n        .multi-date-display:empty:before {\r\n            content: attr(placeholder);\r\n            color: #c4c4c4;\r\n        }\r\n\r\n        .multi-date-display-readonly {\r\n            padding-right: 5px;\r\n        }\r\n\r\n        .f-multi-select-date.f-state-disabled .search-tag-item {\r\n            background: #F1F3F7;\r\n            border: 1px solid #F1F3F7;\r\n            color:  #2D2F33;\r\n        }\r\n\r\n        .f-multi-select-date.f-state-disabled .multi--more-text {\r\n            color: #c7c7c7;\r\n        }\r\n\r\n        `\r\n    ]\r\n})\r\n\r\nexport class MultiSelectDateInputComponent implements OnInit, OnChanges, AfterViewInit, OnDestroy {\r\n\r\n    @Input() dates = '';\r\n    @Input() separator = ',';\r\n    @Input() placeholder = '';\r\n    @Input() editable = true;\r\n    @Input() orderBy: MultiSelectedOrderBy = 'none';\r\n\r\n    @Output() clickHandle = new EventEmitter();\r\n    @Output() remove = new EventEmitter();\r\n\r\n    @ViewChild('searchbox2') shadowBox: ElementRef;\r\n    @ViewChild('searchbox') container: ElementRef;\r\n\r\n    _dateItems = [];\r\n\r\n    hiddenItemsCount$ = new BehaviorSubject(0);\r\n    commonUtils = null;\r\n\r\n    constructor(private injector: Injector, private render: Renderer2, private el: ElementRef, public overLayService: OverLayHiddenService, protected cd: ChangeDetectorRef,\r\n        private utilService: UtilService) {\r\n        this.commonUtils = this.injector.get(CommonUtils, null);\r\n    }\r\n\r\n    ngOnInit() {\r\n        \r\n    }\r\n\r\n    ngOnDestroy() {\r\n        if (this.overLayService) {\r\n            this.overLayService.destory(this.shadowBox.nativeElement);\r\n        }\r\n        if (this.shadowBox) {\r\n            this.shadowBox.nativeElement.remove();\r\n        }\r\n    }\r\n\r\n    ngOnChanges(changes: SimpleChanges) {\r\n        if (changes.dates && !changes.dates.isFirstChange()) {\r\n            this.initDateItems();\r\n        }\r\n    }\r\n\r\n    private initDateItems() {\r\n        const _dateItems = this.dates.split(this.separator).filter(n => n);\r\n        this._dateItems = this.utilService.orderSelectedDates(_dateItems, this.orderBy);\r\n\r\n        setTimeout(() => {\r\n            this.setHiddenCount();\r\n        });\r\n    }\r\n\r\n    ngAfterViewInit() {\r\n\r\n        this.initDateItems();\r\n\r\n        setTimeout(() => {\r\n            this.moveShadowToBody();\r\n        });\r\n    }\r\n\r\n    onClick($event: MouseEvent) {\r\n        $event.stopPropagation();\r\n        this.toggleShadowBox($event, false);\r\n        this.clickHandle.emit($event);\r\n    }\r\n\r\n    onRemove($event: MouseEvent, txt, index) {\r\n        if ($event) {\r\n            $event.stopPropagation();\r\n        }\r\n        this.remove.emit({index, value: txt});\r\n    }\r\n\r\n    \r\n    onResized($event) {\r\n        this.updateShadowBoxPosition($event);\r\n        setTimeout(() => {\r\n            this.setHiddenCount();\r\n            this.cd.detectChanges();\r\n        });\r\n    }\r\n\r\n\r\n    private setHiddenCount() {\r\n        let len = 0;\r\n        if (!this._dateItems || !this._dateItems.length) {\r\n            this.hiddenItemsCount$.next(len);\r\n            return;\r\n        }\r\n        const items = Array.from(this.container.nativeElement.querySelectorAll('span.search-tag-item'));\r\n        if (items && items.length) {\r\n            len = items.map((n: any) => {\r\n                return n.offsetTop;\r\n            }).filter(n => n > 20).length\r\n        }\r\n        this.hiddenItemsCount$.next(len);\r\n    }\r\n\r\n    \r\n    updateShadowBoxPosition({top, left, width} = {top: null, left: null, width: null}) {\r\n        if (!top && !left && !width) {\r\n            const e = this.el.nativeElement.getBoundingClientRect();\r\n            top = e.top;\r\n            left = e.left;\r\n            width = e.width;\r\n        }\r\n        this.render.setStyle(this.shadowBox.nativeElement, 'left', left + 'px');\r\n        this.render.setStyle(this.shadowBox.nativeElement, 'top', top + 'px');\r\n        this.render.setStyle(this.shadowBox.nativeElement, 'width', width + 'px');\r\n\r\n        this.render.setStyle(this.shadowBox.nativeElement, 'zIndex', this.commonUtils.getFloatingLayerIndex());\r\n    }\r\n\r\n    private moveShadowToBody() {\r\n        this.updateShadowBoxPosition();\r\n        document.body.append(this.shadowBox.nativeElement);\r\n\r\n        this.overLayService.registerMouseEvent(this.shadowBox.nativeElement, (e) => {\r\n            if (e.target && e.target.className.indexOf('search-box_delete-keys') > -1) {\r\n                return;\r\n            }\r\n\r\n            if (!this.shadowBox || this.shadowBox.nativeElement.contains(e.target)) {\r\n                return;\r\n            }\r\n\r\n            this.toggleShadowBox(null, false);\r\n        });\r\n\r\n    }\r\n\r\n    toggleShadowBox($event, show = true) {\r\n        if ($event) {\r\n            $event.stopPropagation();\r\n        }\r\n        if (!this.hiddenItemsCount$.value) {\r\n            show = false;\r\n        }\r\n        if (show) {\r\n            this.updateShadowBoxPosition();\r\n            this.render.removeStyle(this.shadowBox.nativeElement, 'display');\r\n            this.container.nativeElement.style.visibility = 'hidden';\r\n        } else {\r\n            this.container.nativeElement.style.visibility = 'visible';\r\n            this.render.setStyle(this.shadowBox.nativeElement, 'display', 'none');\r\n        }\r\n    }\r\n}","/*\r\n * @Author: ç¯çç§æ(Lucas Huang)\r\n * @Date: 2019-09-04 07:39:58\r\n * @LastEditors: ç¯çç§æ(Lucas Huang)\r\n * @LastEditTime: 2019-09-04 15:03:39\r\n * @QQ: 1055818239\r\n * @Version: v0.0.1\r\n */\r\nimport {\r\n    Component,\r\n    EventEmitter,\r\n    Input,\r\n    OnChanges,\r\n    Output,\r\n    ViewEncapsulation,\r\n    SimpleChanges\r\n} from '@angular/core';\r\nimport { UtilService } from '../../services/public-api';\r\nimport {\r\n    IMyOptions,\r\n    IMyCalendarDay,\r\n    IMyDate,\r\n    IMyDateRange,\r\n    IMyWeek\r\n} from '../../interfaces/public-api';\r\nimport { MonthId, KeyCode } from '../../enums/public-api';\r\nimport {\r\n    OPTS,\r\n    DATES,\r\n    WEEK_DAYS,\r\n    SELECTED_DATE,\r\n    SELECTED_DATE_RANGE\r\n} from '../../constants/constants';\r\n\r\n// import { IMyWeek } from '../../interfaces/my-month-row.interface'\r\n\r\n@Component({\r\n    selector: 'lib-multi-day-view',\r\n    templateUrl: './multi-day-view.component.html',\r\n    providers: [UtilService],\r\n    encapsulation: ViewEncapsulation.None\r\n})\r\nexport class MultiDayViewComponent implements OnChanges {\r\n    @Input() opts: IMyOptions;\r\n    @Input() dates: Array<IMyWeek>;\r\n    @Input() weekDays: Array<string>;\r\n    @Input() selectedDate: IMyDate;\r\n    @Input() selectedDateRange: IMyDateRange;\r\n    @Input() selectedWeek: IMyWeek;\r\n\r\n    @Input() selectedDates: IMyDate[] = [];\r\n\r\n    @Output() dayCellClicked: EventEmitter<IMyCalendarDay> = new EventEmitter<\r\n        IMyCalendarDay\r\n    >();\r\n    @Output() dayCellKeyDown: EventEmitter<IMyCalendarDay> = new EventEmitter<\r\n        IMyCalendarDay\r\n    >();\r\n    @Output() weekClicked: EventEmitter<any> = new EventEmitter<any>();\r\n\r\n    @Output() onMouseEnter: EventEmitter<any> = new EventEmitter<any>();\r\n    @Output() onMouseLeave: EventEmitter<any> = new EventEmitter<any>();\r\n\r\n    prevMonthId: number = MonthId.prev;\r\n    currMonthId: number = MonthId.curr;\r\n    nextMonthId: number = MonthId.next;\r\n\r\n    constructor(private utilService: UtilService) {}\r\n\r\n    ngOnChanges(changes: SimpleChanges): void {\r\n        if (changes.hasOwnProperty(OPTS)) {\r\n            this.opts = changes[OPTS].currentValue;\r\n        }\r\n        if (changes.hasOwnProperty(DATES)) {\r\n            this.dates = changes[DATES].currentValue;\r\n        }\r\n        if (changes.hasOwnProperty(WEEK_DAYS)) {\r\n            this.weekDays = changes[WEEK_DAYS].currentValue;\r\n        }\r\n        if (changes.hasOwnProperty(SELECTED_DATE)) {\r\n            this.selectedDate = changes[SELECTED_DATE].currentValue;\r\n        }\r\n        if (changes.hasOwnProperty(SELECTED_DATE_RANGE)) {\r\n            this.selectedDateRange = changes[SELECTED_DATE_RANGE].currentValue;\r\n        }\r\n    }\r\n\r\n    onDayCellClicked(event: any, cell: IMyCalendarDay): void {\r\n        if (cell.disabled || this.opts.showType === 4) {\r\n            return;\r\n        }\r\n        event.stopPropagation();\r\n        this.dayCellClicked.emit(cell);\r\n    }\r\n\r\n    onDayCellKeyDown(event: KeyboardEvent, cell: IMyCalendarDay) {\r\n        const keyCode: number = this.utilService.getKeyCodeFromEvent(event);\r\n        if (keyCode !== KeyCode.tab) {\r\n            event.preventDefault();\r\n\r\n            if (keyCode === KeyCode.enter || keyCode === KeyCode.space) {\r\n                this.onDayCellClicked(event, cell);\r\n            } else if (this.opts.moveFocusByArrowKeys) {\r\n                this.dayCellKeyDown.emit(cell);\r\n            }\r\n        }\r\n    }\r\n    onWeekClicked(event: KeyboardEvent, week: IMyWeek) {\r\n        if (this.opts.showType !== 4) { return; }\r\n        event.stopPropagation();\r\n        this.weekClicked.emit(week);\r\n    }\r\n\r\n    onDayCellMouseEnter(cell: any): void {\r\n        if (\r\n            this.utilService.isInitializedDate(this.selectedDateRange.begin) &&\r\n            (!this.utilService.isInitializedDate(this.selectedDateRange.end) ||\r\n                JSON.stringify(this.selectedDateRange.begin) === JSON.stringify(this.selectedDateRange.end))\r\n        ) {\r\n            for (const w of this.dates) {\r\n                for (const day of w.week) {\r\n                    day.range =\r\n                        (this.utilService.isDateSameOrEarlier(this.selectedDateRange.begin,day.dateObj) && this.utilService.isDateSameOrEarlier(day.dateObj, cell.dateObj)) ||\r\n                        (this.utilService.isDateSameOrEarlier(day.dateObj,this.selectedDateRange.begin) && this.utilService.isDateSameOrEarlier(cell.dateObj,day.dateObj));\r\n                }\r\n            }\r\n            this.onMouseEnter.emit(cell);\r\n        }\r\n    }\r\n\r\n    onDayCellMouseLeave(): void {\r\n        for (const w of this.dates) {\r\n            for (const day of w.week) {\r\n                day.range = false;\r\n            }\r\n        }\r\n        this.onMouseLeave.emit();\r\n    }\r\n\r\n    isDateInRange(date: IMyDate): boolean {\r\n        return this.utilService.isDateInRange(date, this.selectedDateRange);\r\n    }\r\n\r\n    isDateSame(date: IMyDate): boolean {\r\n        return this.utilService.isDateSame(\r\n            {\r\n                year: this.selectedDate.year,\r\n                month: this.selectedDate.month,\r\n                day: this.selectedDate.day\r\n            },\r\n            date\r\n        );\r\n    }\r\n\r\n    isDateRangeBeginOrEndSame(date: IMyDate): boolean {\r\n        const selectedDateRange = {\r\n            begin: {\r\n                year: this.selectedDateRange.begin.year,\r\n                month: this.selectedDateRange.begin.month,\r\n                day: this.selectedDateRange.begin.day\r\n            },\r\n            end: {\r\n                year: this.selectedDateRange.end.year,\r\n                month: this.selectedDateRange.end.month,\r\n                day: this.selectedDateRange.end.day\r\n            }\r\n        };\r\n        return this.utilService.isDateRangeBeginOrEndSame(\r\n            selectedDateRange,\r\n            date\r\n        );\r\n    }\r\n\r\n    isDateSelected(date: IMyDate): boolean {\r\n        return !!this.selectedDates.find(n => this.utilService.isDateSame(n, date));\r\n    }\r\n}\r\n","import { Component, ElementRef, EventEmitter, Input, OnChanges, OnInit, Output, SimpleChanges, ViewChild } from '@angular/core';\r\nimport { sortBy } from 'lodash-es';\r\n@Component({\r\n    selector: 'multi-days',\r\n    template: `\r\n        <div class=\"d-flex mb-2 f-datepicker-multi-selectdays-header\">\r\n            <span style=\"font-size: 14px;\" class=\"ml-3\">{{ locales?.selected.split(',')[0] || 'å·²é'}} <span style=\"font-weight: bold;font-size: 17px;\">{{selectedDates.length}}</span> {{locales?.selected.split(',')[1] ||'å¤©'}}</span>\r\n            <span class=\"f-datepicker-multi-selectdays-clear\" (click)=\"onClear($event)\">{{ locales?.clearSelections || 'æ¸ç©º'}}</span>\r\n        </div>\r\n        <div #selecteditems style=\"height: 230px;overflow-y: auto;\" class=\"ml-3 multi-date-select win11Scroll nobtn\" (wheel)=\"$event.stopPropagation()\">\r\n            <ul [style.width.px]=\"167\">\r\n                <li class=\"d-flex align-items-center f-datepicker-multi-selectdays\" *ngFor=\"let d of selectedDates\" (click)=\"onSelectDateClick($event, d)\">\r\n                    {{d.value}} <span class=\"f-icon f-icon-close remove\" title=\"{{ locales?.delete || 'å é¤'}}\" (click)=\"onRemove($event, d)\"></span>\r\n                </li>\r\n            </ul>\r\n        </div>\r\n    `,\r\n    styles: [\r\n        `\r\n        .f-datepicker-multi-selectdays-header{\r\n            height: 41px;border-bottom: 1px solid #E4E7EF;line-height: 40px;justify-content: space-between;\r\n        }\r\n\r\n        .f-datepicker-multi-selectdays {\r\n            justify-content: space-between;color: #2D2F33;height: 30px;padding: 0 5px;border-radius: 6px;\r\n            cursor: pointer;\r\n        }\r\n\r\n        .f-datepicker-multi-selectdays:hover {\r\n            background: #F7F8FB;\r\n        }\r\n\r\n        .f-datepicker-multi-selectdays .remove {\r\n            font-size: 12px;color: #C7CFDD;cursor: pointer;\r\n        }\r\n\r\n        .f-datepicker-multi-selectdays .remove:hover {\r\n            color: #5f96f5;\r\n        }\r\n\r\n        .f-datepicker-multi-selectdays-clear {\r\n            font-size: 13px;margin-right: 10px; color: #CCD1DD; cursor: pointer;\r\n        }\r\n        .f-datepicker-multi-selectdays-clear:hover {\r\n            color: #5f96f5;\r\n        }\r\n\r\n        .mr14 {\r\n            margin-right: 14px;\r\n        }\r\n        `\r\n    ]\r\n})\r\n\r\nexport class MultiSelectedDaysComponent implements OnInit, OnChanges {\r\n\r\n    @Input() locales: any = {};\r\n\r\n    @Input() selectedDates = [];\r\n    @Output() removed = new EventEmitter();\r\n    @Output() clear = new EventEmitter();\r\n    @Output() clicked = new EventEmitter();\r\n\r\n\r\n    @ViewChild('selecteditems') selecteditemsEl: ElementRef;\r\n\r\n\r\n    constructor() { }\r\n\r\n    ngOnInit() {\r\n\r\n    }\r\n\r\n    ngOnChanges(changes: SimpleChanges): void {\r\n    }\r\n\r\n    onRemove($event: MouseEvent, item) {\r\n        $event.stopPropagation();\r\n        this.removed.emit(item);\r\n    }\r\n\r\n    onClear($event: MouseEvent) {\r\n        $event.stopPropagation();\r\n        this.clear.emit();\r\n    }\r\n\r\n    onSelectDateClick($event, item) {\r\n        $event.stopPropagation();\r\n        this.clicked.emit(item);\r\n    }\r\n}","import { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { NgModule } from '@angular/core';\r\n\r\nimport { CalendarComponent } from './components/calendar/calendar.component';\r\nimport { SelectionBarComponent } from './components/selection-bar/selection-bar.component';\r\nimport { DayViewComponent } from './components/day-view/day-view.component';\r\nimport { MonthViewComponent } from './components/month-view/month-view.component';\r\nimport { YearViewComponent } from './components/year-view/year-view.component';\r\n\r\nimport { FarrisDatePickerDirective } from './farris-datepicker.input';\r\nimport { FarrisDatepickerComponent } from './farris-datepicker.component';\r\nimport { SelectionSidebarComponent } from './components/selection-sidebar/selection-sidebar.component';\r\nimport { AngularMyDatePickerComponent } from './AngularMyDatePicker.component';\r\n\r\nimport { TimePickerModule } from '@farris/ui-time-picker';\r\nimport { LocaleModule } from '@farris/ui-locale';\r\nimport { PopoverModule } from '@farris/ui-popover';\r\nimport { DateHelperModule } from '@farris/ui-common/date';\r\nimport { NotifyModule  } from '@farris/ui-notify';\r\nimport { FarrisCommonModule } from '@farris/ui-common';\r\nimport { FarrisFormsModule } from '@farris/ui-forms';\r\n\r\nimport { DynamicViewComponent } from './components/dynamic-view/dynamic-view.component';\r\nimport { DynamicDateInputComponent } from './dynamic-date-input/dynamic-date-input.component';\r\nimport { MultiSelectDateInputComponent } from './multi-date-input/multi-date-input.component';\r\nimport { MultiDayViewComponent } from './components/multi-day-view/multi-day-view.component';\r\nimport { MultiSelectedDaysComponent } from './components/multi-day-view/multi-days.component';\r\n\r\n@NgModule({\r\n    imports: [\r\n        CommonModule,\r\n        FormsModule, \r\n        TimePickerModule,\r\n        LocaleModule,\r\n        FarrisCommonModule,\r\n        PopoverModule.forRoot(),\r\n        DateHelperModule.forRoot(),\r\n        NotifyModule.forRoot(),\r\n        FarrisFormsModule\r\n    ],\r\n    declarations: [\r\n        CalendarComponent,\r\n        SelectionSidebarComponent,\r\n        SelectionBarComponent,\r\n        DayViewComponent,\r\n        MonthViewComponent,\r\n        YearViewComponent,\r\n        FarrisDatepickerComponent,\r\n        FarrisDatePickerDirective,\r\n        AngularMyDatePickerComponent,\r\n        DynamicViewComponent,\r\n        DynamicDateInputComponent,\r\n        MultiSelectDateInputComponent,\r\n        MultiDayViewComponent,\r\n        MultiSelectedDaysComponent\r\n    ],\r\n    entryComponents: [CalendarComponent],\r\n    exports: [\r\n        CalendarComponent,\r\n        SelectionBarComponent,\r\n        SelectionSidebarComponent,\r\n        DayViewComponent,\r\n        MonthViewComponent,\r\n        YearViewComponent,\r\n        FarrisDatepickerComponent,\r\n        FarrisDatePickerDirective,\r\n        DynamicViewComponent,\r\n        DynamicDateInputComponent,\r\n        MultiSelectDateInputComponent,\r\n        MultiDayViewComponent,\r\n        MultiSelectedDaysComponent\r\n    ]\r\n})\r\nexport class FarrisDatePickerModule {}\r\n"],"names":["tslib_1.__values"],"mappings":"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"}
