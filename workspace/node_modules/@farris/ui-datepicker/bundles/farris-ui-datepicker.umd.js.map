{"version":3,"file":"farris-ui-datepicker.umd.js.map","sources":["node_modules/tslib/tslib.es6.js","ng://@farris/ui-datepicker/lib/enums/cal-toggle.enum.ts","ng://@farris/ui-datepicker/lib/enums/default-view.enum.ts","ng://@farris/ui-datepicker/lib/enums/key-code.enum.ts","ng://@farris/ui-datepicker/lib/enums/key-name.enum.ts","ng://@farris/ui-datepicker/lib/enums/month-id.enum.ts","ng://@farris/ui-datepicker/lib/enums/reset-date-type.enum.ts","ng://@farris/ui-datepicker/lib/enums/show-type.enum.ts","ng://@farris/ui-datepicker/lib/enums/year.enum.ts","ng://@farris/ui-datepicker/lib/services/farris-datepicker.config.service.ts","ng://@farris/ui-datepicker/lib/constants/constants.ts","ng://@farris/ui-datepicker/lib/services/farris-datepicker.locale.service.ts","ng://@farris/ui-datepicker/lib/services/farris-datepicker.util.service.ts","ng://@farris/ui-datepicker/lib/services/farris-datepicker.service.ts","ng://@farris/ui-datepicker/lib/interfaces/my-options.interface.ts","ng://@farris/ui-datepicker/lib/components/calendar/calendar.component.ts","ng://@farris/ui-datepicker/lib/components/selection-bar/selection-bar.component.ts","ng://@farris/ui-datepicker/lib/components/day-view/day-view.component.ts","ng://@farris/ui-datepicker/lib/components/month-view/month-view.component.ts","ng://@farris/ui-datepicker/lib/components/year-view/year-view.component.ts","ng://@farris/ui-datepicker/lib/farris-datepicker.input.ts","ng://@farris/ui-datepicker/lib/farris-datepicker.component.ts","ng://@farris/ui-datepicker/lib/components/selection-sidebar/selection-sidebar.component.ts","ng://@farris/ui-datepicker/lib/AngularMyDatePicker.component.ts","ng://@farris/ui-datepicker/lib/components/dynamic-view/dynamic-view.component.ts","ng://@farris/ui-datepicker/lib/dynamic-date-input/dynamic-date-input.component.ts","ng://@farris/ui-datepicker/lib/multi-date-input/multi-date-input.component.ts","ng://@farris/ui-datepicker/lib/components/multi-day-view/multi-day-view.component.ts","ng://@farris/ui-datepicker/lib/components/multi-day-view/multi-days.component.ts","ng://@farris/ui-datepicker/lib/farris-datepicker.module.ts"],"sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n","export enum CalToggle {\r\n    Open = 1,\r\n    CloseByDateSel = 2,\r\n    CloseByCalBtn = 3,\r\n    CloseByOutClick = 4,\r\n    CloseByEsc = 5\r\n}\r\n","export enum DefaultView {\r\n    Date = 1,\r\n    Month = 2,\r\n    Year = 3\r\n}\r\n","/**\r\n * Event key codes\r\n */\r\nexport enum KeyCode {\r\n    enter = 13,\r\n    esc = 27,\r\n    space = 32,\r\n    leftArrow = 37,\r\n    upArrow = 38,\r\n    rightArrow = 39,\r\n    downArrow = 40,\r\n    tab = 9,\r\n    shift = 16\r\n}\r\n","/**\r\n * Event key names\r\n */\r\nexport enum KeyName {\r\n    enter = 'Enter',\r\n    esc = 'Escape',\r\n    space = ' ',\r\n    leftArrow = 'ArrowLeft',\r\n    upArrow = 'ArrowUp',\r\n    rightArrow = 'ArrowRight',\r\n    downArrow = 'ArrowDown',\r\n    tab = 'Tab',\r\n    shift = 'Shift'\r\n}\r\n","export enum MonthId {\r\n    prev = 1,\r\n    curr = 2,\r\n    next = 3\r\n}\r\n","export enum ResetDateType {\r\n    both = 0,\r\n    singleDate = 1,\r\n    dateRange = 2\r\n}\r\n","export enum ShowType {\r\n    all = 1,\r\n    noDate = 2,\r\n    noDateAndMonth = 3,\r\n    selectWeek = 4\r\n}\r\n","export enum Year {\r\n    min = 1000,\r\n    max = 9999\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { IMyOptions } from '../interfaces/public-api';\r\nimport { Year, DefaultView, ShowType } from '../enums/public-api';\r\n\r\n@Injectable()\r\nexport class DefaultConfigService {\r\n    private defaultConfig: IMyOptions = {\r\n        dateRange: false,\r\n        dayLabels: {\r\n            su: 'Sun',\r\n            mo: 'Mon',\r\n            tu: 'Tue',\r\n            we: 'Wed',\r\n            th: 'Thu',\r\n            fr: 'Fri',\r\n            sa: 'Sat'\r\n        },\r\n        monthLabels: {\r\n            1: 'Jan',\r\n            2: 'Feb',\r\n            3: 'Mar',\r\n            4: 'Apr',\r\n            5: 'May',\r\n            6: 'Jun',\r\n            7: 'Jul',\r\n            8: 'Aug',\r\n            9: 'Sep',\r\n            10: 'Oct',\r\n            11: 'Nov',\r\n            12: 'Dec'\r\n        },\r\n        dateFormat: 'yyyy-MM-dd',\r\n        returnFormat: 'yyyy-MM-dd',\r\n        defaultView: DefaultView.Date,\r\n        showType: ShowType.all,\r\n        firstDayOfWeek: 'mo',\r\n        satHighlight: false,\r\n        sunHighlight: false,\r\n        highlightDates: [],\r\n        markCurrentDay: true,\r\n        markCurrentMonth: true,\r\n        markCurrentYear: true,\r\n        monthSelector: true,\r\n        yearSelector: true,\r\n        disableHeaderButtons: true,\r\n        showWeekNumbers: false,\r\n        selectorHeight: '295px',\r\n        selectorWidth: '287px',\r\n        disableUntil: { year: 0, month: 0, day: 0 ,hour:0,minute:0,second:0},\r\n        disableSince: { year: 0, month: 0, day: 0 ,hour:0,minute:0,second:0},\r\n        disableDates: [],\r\n        disableDateRanges: [],\r\n        disableWeekends: false,\r\n        disableWeekdays: [],\r\n        enableDates: [],\r\n        markDates: [],\r\n        markWeekends: { marked: false, color: '' },\r\n        closeSelectorOnDateSelect: true,\r\n        closeSelectorOnDocumentClick: true,\r\n        minYear: Year.min,\r\n        maxYear: Year.max,\r\n        focusInputOnDateSelect: true,\r\n        moveFocusByArrowKeys: true,\r\n        dateRangeDatesDelimiter: ' - ',\r\n        inputFieldValidation: true,\r\n        stylesData: { selector: '', styles: '' },\r\n        ariaLabelPrevMonth: 'Previous Month',\r\n        ariaLabelNextMonth: 'Next Month',\r\n        shortcuts: [],\r\n        weekText: 'Week'\r\n    };\r\n\r\n    public getDefaultConfig() {\r\n        return this.defaultConfig;\r\n    }\r\n}\r\n","/**\r\n * Constants\r\n */\r\nconst D = 'd';\r\nconst DD = 'dd';\r\nconst M = 'M';\r\nconst MM = 'MM';\r\nconst MMM = 'MMM';\r\nconst Y = 'y';\r\nconst YYYY = 'yyyy';\r\n\r\nconst DATE_ROW_COUNT = 5;\r\nconst DATE_COL_COUNT = 6;\r\nconst MONTH_ROW_COUNT = 3;\r\nconst MONTH_COL_COUNT = 2;\r\nconst YEAR_ROW_COUNT = 4;\r\nconst YEAR_COL_COUNT = 4;\r\n\r\nconst DOT = '.';\r\nconst UNDER_LINE = '_';\r\n\r\nconst SU = 'su';\r\nconst MO = 'mo';\r\nconst TU = 'tu';\r\nconst WE = 'we';\r\nconst TH = 'th';\r\nconst FR = 'fr';\r\nconst SA = 'sa';\r\n\r\nconst DEFAULT_LOCALE = 'ZH_CN';\r\n\r\nconst ZERO_STR = '0';\r\nconst EMPTY_STR = '';\r\n\r\nconst CLICK = 'click';\r\nconst KEYUP = 'keyup';\r\nconst BLUR = 'blur';\r\nconst DISABLED = 'disabled';\r\nconst BODY = 'body';\r\nconst VALUE = 'value';\r\nconst OPTIONS = 'options';\r\nconst DEFAULT_MONTH = 'defaultMonth';\r\nconst LOCALE = 'locale';\r\nconst OBJECT = 'object';\r\nconst PX = 'px';\r\nconst STYLE = 'style';\r\n\r\nconst OPTS = 'opts';\r\nconst YEARS = 'years';\r\nconst VISIBLE_MONTH = 'visibleMonth';\r\nconst SELECT_MONTH = 'selectMonth';\r\nconst SELECT_YEAR = 'selectYear';\r\nconst PREV_VIEW_DISABLED = 'prevViewDisabled';\r\nconst NEXT_VIEW_DISABLED = 'nextViewDisabled';\r\nconst DATES = 'dates';\r\nconst WEEK_DAYS = 'weekDays';\r\nconst SELECTED_DATE = 'selectedDate';\r\nconst SELECTED_DATE_RANGE = 'selectedDateRange';\r\nconst MONTHS = 'months';\r\n\r\nconst PREVENT_CLOSE_TIMEOUT = 50;\r\n\r\nexport {\r\n    D,\r\n    DD,\r\n    M,\r\n    MM,\r\n    MMM,\r\n    Y,\r\n    YYYY,\r\n    DATE_ROW_COUNT,\r\n    DATE_COL_COUNT,\r\n    MONTH_ROW_COUNT,\r\n    MONTH_COL_COUNT,\r\n    YEAR_ROW_COUNT,\r\n    YEAR_COL_COUNT,\r\n    DOT,\r\n    UNDER_LINE,\r\n    SU,\r\n    MO,\r\n    TU,\r\n    WE,\r\n    TH,\r\n    FR,\r\n    SA,\r\n    DEFAULT_LOCALE,\r\n    ZERO_STR,\r\n    EMPTY_STR,\r\n    CLICK,\r\n    KEYUP,\r\n    BLUR,\r\n    DISABLED,\r\n    BODY,\r\n    VALUE,\r\n    OPTIONS,\r\n    DEFAULT_MONTH,\r\n    LOCALE,\r\n    OBJECT,\r\n    PX,\r\n    STYLE,\r\n    OPTS,\r\n    YEARS,\r\n    VISIBLE_MONTH,\r\n    SELECT_MONTH,\r\n    SELECT_YEAR,\r\n    PREV_VIEW_DISABLED,\r\n    NEXT_VIEW_DISABLED,\r\n    DATES,\r\n    WEEK_DAYS,\r\n    SELECTED_DATE,\r\n    SELECTED_DATE_RANGE,\r\n    MONTHS,\r\n    PREVENT_CLOSE_TIMEOUT\r\n};\r\n","import { Injectable } from '@angular/core';\r\nimport { IMyLocales, IMyOptions } from '../interfaces/public-api';\r\n\r\nimport { DEFAULT_LOCALE } from '../constants/constants';\r\n\r\n@Injectable()\r\nexport class DatepickerLocaleService {\r\n    private locales: IMyLocales = {\r\n        'EN_US': {\r\n            dayLabels: { su: 'Sun', mo: 'Mon', tu: 'Tue', we: 'Wed', th: 'Thu', fr: 'Fri', sa: 'Sat' },\r\n            monthLabels: {\r\n                1: 'Jan',\r\n                2: 'Feb',\r\n                3: 'Mar',\r\n                4: 'Apr',\r\n                5: 'May',\r\n                6: 'Jun',\r\n                7: 'Jul',\r\n                8: 'Aug',\r\n                9: 'Sep',\r\n                10: 'Oct',\r\n                11: 'Nov',\r\n                12: 'Dec'\r\n            },\r\n            dateFormat: 'MM/dd/yyyy',\r\n            returnFormat: 'MM/dd/yyyy',\r\n            firstDayOfWeek: 'mo',\r\n            sunHighlight: false,\r\n            yearTxt: '',\r\n            timeBtnText: 'Select Time',\r\n            dateBtnText: 'Select Date',\r\n            commitBtnText: 'OK',\r\n            weekText: 'Week',\r\n            placeholder: 'Please select a date',\r\n            range: {\r\n                begin: 'Please select a begin date',\r\n                end: 'Please select a end date'\r\n            },\r\n            message: {\r\n                101: 'The end time must not be earlier than the start time.',\r\n                102: 'Only ${0} dates are allowed to be selected.'\r\n            },\r\n            dynamicLocale: {\r\n                setting: 'Dynamic Date',\r\n                today: 'Today',\r\n                presentWeek: 'Current Week',\r\n                presentMonth: 'Current Month',\r\n                presentYear: 'Current Year',\r\n                previous: 'Previous',\r\n                future: 'Future',\r\n                day: 'Day',\r\n                month: 'Month',\r\n                year: 'Year',\r\n                week: 'Week',\r\n                current: 'Current',\r\n                first: 'First Day',\r\n                last: 'Last Day'\r\n            },\r\n            mulstiDatesLocale: {\r\n                backtotoday: 'Back to today',\r\n                clearSelections: 'Clear all',\r\n                delete: 'Delete',\r\n                selected: 'Selected,days'\r\n            }\r\n        },\r\n        'ZH_CN': {\r\n            dayLabels: { su: 'æ¥', mo: 'ä¸', tu: 'äº', we: 'ä¸', th: 'å', fr: 'äº', sa: 'å­' },\r\n            monthLabels: {\r\n                1: 'ä¸æ',\r\n                2: 'äºæ',\r\n                3: 'ä¸æ',\r\n                4: 'åæ',\r\n                5: 'äºæ',\r\n                6: 'å­æ',\r\n                7: 'ä¸æ',\r\n                8: 'å«æ',\r\n                9: 'ä¹æ',\r\n                10: 'åæ',\r\n                11: 'åä¸æ',\r\n                12: 'åäºæ'\r\n            },\r\n            dateFormat: 'yyyy-MM-dd',\r\n            returnFormat: 'yyyy-MM-dd',\r\n            firstDayOfWeek: 'mo',\r\n            sunHighlight: false,\r\n            yearTxt: 'å¹´',\r\n            timeBtnText: 'éæ©æ¶é´',\r\n            dateBtnText: 'éæ©æ¥æ',\r\n            commitBtnText: 'ç¡®è®¤',\r\n            weekText: 'å¨',\r\n            placeholder: 'è¯·éæ©æ¥æ',\r\n            range: {\r\n                begin: 'è¯·éæ©å¼å§æ¥æ',\r\n                end: 'è¯·éæ©ç»ææ¥æ'\r\n            },\r\n            message: {\r\n                101: 'ç»ææ¶é´ä¸å¾æ©äºå¼å§æ¶é´ï¼',\r\n                102: 'ä»åè®¸éæ© ${0} ä¸ªæ¥æ'\r\n            },\r\n            dynamicLocale: {\r\n                setting: 'è®¾ç½®å¨ææ¥æ',\r\n                today: 'ä»å¤©',\r\n                presentWeek: 'æ¬å¨',\r\n                presentMonth: 'æ¬æ',\r\n                presentYear: 'æ¬å¹´',\r\n                previous: 'è¿å»',\r\n                future: 'æªæ¥',\r\n                day: 'å¤©',\r\n                month: 'æ',\r\n                year: 'å¹´',\r\n                week: 'å¨',\r\n                current: 'æ¬',\r\n                first: 'ç¬¬ 1 å¤©',\r\n                last: 'æå 1 å¤©'\r\n            },\r\n            mulstiDatesLocale: {\r\n                backtotoday: 'åå°ä»å¤©',\r\n                clearSelections: 'æ¸ç©º',\r\n                delete: 'å é¤',\r\n                selected: 'å·²é,å¤©'\r\n            }\r\n        },\r\n        'ZH_CHT': {\r\n            dayLabels: { su: 'æ¥', mo: 'ä¸', tu: 'äº', we: 'ä¸', th: 'å', fr: 'äº', sa: 'å­' },\r\n            monthLabels: {\r\n                1: 'ä¸æ',\r\n                2: 'äºæ',\r\n                3: 'ä¸æ',\r\n                4: 'åæ',\r\n                5: 'äºæ',\r\n                6: 'å­æ',\r\n                7: 'ä¸æ',\r\n                8: 'å«æ',\r\n                9: 'ä¹æ',\r\n                10: 'åæ',\r\n                11: 'åä¸æ',\r\n                12: 'åäºæ'\r\n            },\r\n            dateFormat: 'yyyy-MM-dd',\r\n            returnFormat: 'yyyy-MM-dd',\r\n            firstDayOfWeek: 'mo',\r\n            sunHighlight: false,\r\n            yearTxt: 'å¹´',\r\n            timeBtnText: 'é¸ææé',\r\n            dateBtnText: 'é¸ææ¥æ',\r\n            commitBtnText: 'ç¢ºèª',\r\n            weekText: 'å¨',\r\n            placeholder: 'è«é¸ææ¥æ',\r\n            range: {\r\n                begin: 'è«é¸æéå§æ¥æ',\r\n                end: 'è«é¸æçµææ¥æ'\r\n            },\r\n            message: {\r\n                101: 'çµææéä¸å¾æ©äºéå§æéï¼',\r\n                102: 'ååè¨±é¸æ ${0} åæ¥æ'\r\n            },\r\n            dynamicLocale: {\r\n                setting: 'è¨­ç½®åææ¥æ',\r\n                today: 'ä»å¤©',\r\n                presentWeek: 'æ¬å¨',\r\n                presentMonth: 'æ¬æ',\r\n                presentYear: 'æ¬å¹´',\r\n                previous: 'éå»',\r\n                future: 'æªä¾',\r\n                day: 'å¤©',\r\n                month: 'æ',\r\n                year: 'å¹´',\r\n                week: 'å¨',\r\n                current: 'æ¬',\r\n                first: 'ç¬¬ 1 å¤©',\r\n                last: 'æå¾ 1 å¤©'\r\n            },\r\n            mulstiDatesLocale: {\r\n                backtotoday: 'åå°ä»å¤©',\r\n                clearSelections: 'æ¸ç©º',\r\n                delete: 'åªé¤',\r\n                selected: 'å·²é¸,å¤©'\r\n            }\r\n        } // ,\r\n        // he: {\r\n        //     dayLabels: { su: '×¨×', mo: '×©× ', tu: '×©×', we: '×¨×', th: '××', fr: '×©×', sa: '×©×' },\r\n        //     monthLabels: {\r\n        //         1: '×× ×',\r\n        //         2: '×¤××¨',\r\n        //         3: '××¨×¥',\r\n        //         4: '××¤×¨',\r\n        //         5: '×××',\r\n        //         6: '××× ',\r\n        //         7: '×××',\r\n        //         8: '×××',\r\n        //         9: '×¡×¤×',\r\n        //         10: '×××§',\r\n        //         11: '× ××',\r\n        //         12: '××¦×'\r\n        //     },\r\n        //     dateFormat: 'dd/mm/yyyy',\r\n        //     firstDayOfWeek: 'su',\r\n        //     sunHighlight: false\r\n        // },\r\n        // ja: {\r\n        //     dayLabels: { su: 'æ¥', mo: 'æ', tu: 'ç«', we: 'æ°´', th: 'æ¨', fr: 'é', sa: 'å' },\r\n        //     monthLabels: {\r\n        //         1: 'ï¼æ',\r\n        //         2: 'ï¼æ',\r\n        //         3: 'ï¼æ',\r\n        //         4: 'ï¼æ',\r\n        //         5: 'ï¼æ',\r\n        //         6: 'ï¼æ',\r\n        //         7: 'ï¼æ',\r\n        //         8: 'ï¼æ',\r\n        //         9: 'ï¼æ',\r\n        //         10: 'ï¼ï¼æ',\r\n        //         11: 'ï¼ï¼æ',\r\n        //         12: 'ï¼ï¼æ'\r\n        //     },\r\n        //     dateFormat: 'yyyy.mm.dd',\r\n        //     sunHighlight: false\r\n        // },\r\n        // fr: {\r\n        //     dayLabels: { su: 'Dim', mo: 'Lun', tu: 'Mar', we: 'Mer', th: 'Jeu', fr: 'Ven', sa: 'Sam' },\r\n        //     monthLabels: {\r\n        //         1: 'Jan',\r\n        //         2: 'FÃ©v',\r\n        //         3: 'Mar',\r\n        //         4: 'Avr',\r\n        //         5: 'Mai',\r\n        //         6: 'Juin',\r\n        //         7: 'Juil',\r\n        //         8: 'AoÃ»',\r\n        //         9: 'Sep',\r\n        //         10: 'Oct',\r\n        //         11: 'Nov',\r\n        //         12: 'DÃ©c'\r\n        //     },\r\n        //     dateFormat: 'dd/mm/yyyy',\r\n        //     firstDayOfWeek: 'mo',\r\n        //     sunHighlight: false\r\n        // },\r\n        // 'fr-ch': {\r\n        //     dayLabels: { su: 'Dim', mo: 'Lun', tu: 'Mar', we: 'Mer', th: 'Jeu', fr: 'Ven', sa: 'Sam' },\r\n        //     monthLabels: {\r\n        //         1: 'Jan',\r\n        //         2: 'FÃ©v',\r\n        //         3: 'Mar',\r\n        //         4: 'Avr',\r\n        //         5: 'Mai',\r\n        //         6: 'Juin',\r\n        //         7: 'Juil',\r\n        //         8: 'AoÃ»',\r\n        //         9: 'Sep',\r\n        //         10: 'Oct',\r\n        //         11: 'Nov',\r\n        //         12: 'DÃ©c'\r\n        //     },\r\n        //     dateFormat: 'dd.mm.yyyy',\r\n        //     firstDayOfWeek: 'mo',\r\n        //     sunHighlight: false\r\n        // },\r\n        // fi: {\r\n        //     dayLabels: { su: 'Su', mo: 'Ma', tu: 'Ti', we: 'Ke', th: 'To', fr: 'Pe', sa: 'La' },\r\n        //     monthLabels: {\r\n        //         1: 'Tam',\r\n        //         2: 'Hel',\r\n        //         3: 'Maa',\r\n        //         4: 'Huh',\r\n        //         5: 'Tou',\r\n        //         6: 'Kes',\r\n        //         7: 'Hei',\r\n        //         8: 'Elo',\r\n        //         9: 'Syy',\r\n        //         10: 'Lok',\r\n        //         11: 'Mar',\r\n        //         12: 'Jou'\r\n        //     },\r\n        //     dateFormat: 'dd.mm.yyyy',\r\n        //     firstDayOfWeek: 'mo',\r\n        //     sunHighlight: false\r\n        // },\r\n        // es: {\r\n        //     dayLabels: { su: 'Do', mo: 'Lu', tu: 'Ma', we: 'Mi', th: 'Ju', fr: 'Vi', sa: 'Sa' },\r\n        //     monthLabels: {\r\n        //         1: 'Ene',\r\n        //         2: 'Feb',\r\n        //         3: 'Mar',\r\n        //         4: 'Abr',\r\n        //         5: 'May',\r\n        //         6: 'Jun',\r\n        //         7: 'Jul',\r\n        //         8: 'Ago',\r\n        //         9: 'Sep',\r\n        //         10: 'Oct',\r\n        //         11: 'Nov',\r\n        //         12: 'Dic'\r\n        //     },\r\n        //     dateFormat: 'dd.mm.yyyy',\r\n        //     firstDayOfWeek: 'mo',\r\n        //     sunHighlight: false\r\n        // },\r\n        // hu: {\r\n        //     dayLabels: { su: 'Vas', mo: 'HÃ©t', tu: 'Kedd', we: 'Sze', th: 'CsÃ¼', fr: 'PÃ©n', sa: 'Szo' },\r\n        //     monthLabels: {\r\n        //         1: 'Jan',\r\n        //         2: 'Feb',\r\n        //         3: 'MÃ¡r',\r\n        //         4: 'Ãpr',\r\n        //         5: 'MÃ¡j',\r\n        //         6: 'JÃºn',\r\n        //         7: 'JÃºl',\r\n        //         8: 'Aug',\r\n        //         9: 'Szep',\r\n        //         10: 'Okt',\r\n        //         11: 'Nov',\r\n        //         12: 'Dec'\r\n        //     },\r\n        //     dateFormat: 'yyyy-mm-dd',\r\n        //     firstDayOfWeek: 'mo',\r\n        //     sunHighlight: false\r\n        // },\r\n        // sv: {\r\n        //     dayLabels: { su: 'SÃ¶n', mo: 'MÃ¥n', tu: 'Tis', we: 'Ons', th: 'Tor', fr: 'Fre', sa: 'LÃ¶r' },\r\n        //     monthLabels: {\r\n        //         1: 'Jan',\r\n        //         2: 'Feb',\r\n        //         3: 'Mar',\r\n        //         4: 'Apr',\r\n        //         5: 'Maj',\r\n        //         6: 'Jun',\r\n        //         7: 'Jul',\r\n        //         8: 'Aug',\r\n        //         9: 'Sep',\r\n        //         10: 'Okt',\r\n        //         11: 'Nov',\r\n        //         12: 'Dec'\r\n        //     },\r\n        //     dateFormat: 'yyyy-mm-dd',\r\n        //     firstDayOfWeek: 'mo',\r\n        //     sunHighlight: false\r\n        // },\r\n        // nl: {\r\n        //     dayLabels: { su: 'Zon', mo: 'Maa', tu: 'Din', we: 'Woe', th: 'Don', fr: 'Vri', sa: 'Zat' },\r\n        //     monthLabels: {\r\n        //         1: 'Jan',\r\n        //         2: 'Feb',\r\n        //         3: 'Mar',\r\n        //         4: 'Apr',\r\n        //         5: 'Mei',\r\n        //         6: 'Jun',\r\n        //         7: 'Jul',\r\n        //         8: 'Aug',\r\n        //         9: 'Sep',\r\n        //         10: 'Okt',\r\n        //         11: 'Nov',\r\n        //         12: 'Dec'\r\n        //     },\r\n        //     dateFormat: 'dd-mm-yyyy',\r\n        //     firstDayOfWeek: 'mo',\r\n        //     sunHighlight: false\r\n        // },\r\n        // ru: {\r\n        //     dayLabels: { su: 'ÐÑ', mo: 'ÐÐ½', tu: 'ÐÑ', we: 'Ð¡Ñ', th: 'Ð§Ñ', fr: 'ÐÑ', sa: 'Ð¡Ð±' },\r\n        //     monthLabels: {\r\n        //         1: 'Ð¯Ð½Ð²',\r\n        //         2: 'Ð¤ÐµÐ²',\r\n        //         3: 'ÐÐ°ÑÑ',\r\n        //         4: 'ÐÐ¿Ñ',\r\n        //         5: 'ÐÐ°Ð¹',\r\n        //         6: 'ÐÑÐ½Ñ',\r\n        //         7: 'ÐÑÐ»Ñ',\r\n        //         8: 'ÐÐ²Ð³',\r\n        //         9: 'Ð¡ÐµÐ½Ñ',\r\n        //         10: 'ÐÐºÑ',\r\n        //         11: 'ÐÐ¾Ñ',\r\n        //         12: 'ÐÐµÐº'\r\n        //     },\r\n        //     dateFormat: 'dd.mm.yyyy',\r\n        //     firstDayOfWeek: 'mo',\r\n        //     sunHighlight: false\r\n        // },\r\n        // uk: {\r\n        //     dayLabels: { su: 'ÐÐ´', mo: 'ÐÐ½', tu: 'ÐÑ', we: 'Ð¡Ñ', th: 'Ð§Ñ', fr: 'ÐÑ', sa: 'Ð¡Ð±' },\r\n        //     monthLabels: {\r\n        //         1: 'Ð¡ÑÑ',\r\n        //         2: 'ÐÑÑ',\r\n        //         3: 'ÐÐµÑ',\r\n        //         4: 'ÐÐ²Ñ',\r\n        //         5: 'Ð¢ÑÐ°',\r\n        //         6: 'Ð§ÐµÑ',\r\n        //         7: 'ÐÐ¸Ð¿',\r\n        //         8: 'Ð¡ÐµÑ',\r\n        //         9: 'ÐÐµÑ',\r\n        //         10: 'ÐÐ¾Ð²',\r\n        //         11: 'ÐÐ¸Ñ',\r\n        //         12: 'ÐÑÑ'\r\n        //     },\r\n        //     dateFormat: 'dd.mm.yyyy',\r\n        //     firstDayOfWeek: 'mo',\r\n        //     sunHighlight: false\r\n        // },\r\n        // no: {\r\n        //     dayLabels: { su: 'SÃ¸n', mo: 'Man', tu: 'Tir', we: 'Ons', th: 'Tor', fr: 'Fre', sa: 'LÃ¸r' },\r\n        //     monthLabels: {\r\n        //         1: 'Jan',\r\n        //         2: 'Feb',\r\n        //         3: 'Mar',\r\n        //         4: 'Apr',\r\n        //         5: 'Mai',\r\n        //         6: 'Jun',\r\n        //         7: 'Jul',\r\n        //         8: 'Aug',\r\n        //         9: 'Sep',\r\n        //         10: 'Okt',\r\n        //         11: 'Nov',\r\n        //         12: 'Des'\r\n        //     },\r\n        //     dateFormat: 'dd.mm.yyyy',\r\n        //     firstDayOfWeek: 'mo',\r\n        //     sunHighlight: false\r\n        // },\r\n        // tr: {\r\n        //     dayLabels: { su: 'Paz', mo: 'Pzt', tu: 'Sal', we: 'Ãar', th: 'Per', fr: 'Cum', sa: 'Cmt' },\r\n        //     monthLabels: {\r\n        //         1: 'Oca',\r\n        //         2: 'Åub',\r\n        //         3: 'Mar',\r\n        //         4: 'Nis',\r\n        //         5: 'May',\r\n        //         6: 'Haz',\r\n        //         7: 'Tem',\r\n        //         8: 'AÄu',\r\n        //         9: 'Eyl',\r\n        //         10: 'Eki',\r\n        //         11: 'Kas',\r\n        //         12: 'Ara'\r\n        //     },\r\n        //     dateFormat: 'dd.mm.yyyy',\r\n        //     firstDayOfWeek: 'mo',\r\n        //     sunHighlight: false\r\n        // },\r\n        // 'pt-br': {\r\n        //     dayLabels: { su: 'Dom', mo: 'Seg', tu: 'Ter', we: 'Qua', th: 'Qui', fr: 'Sex', sa: 'Sab' },\r\n        //     monthLabels: {\r\n        //         1: 'Jan',\r\n        //         2: 'Fev',\r\n        //         3: 'Mar',\r\n        //         4: 'Abr',\r\n        //         5: 'Mai',\r\n        //         6: 'Jun',\r\n        //         7: 'Jul',\r\n        //         8: 'Ago',\r\n        //         9: 'Set',\r\n        //         10: 'Out',\r\n        //         11: 'Nov',\r\n        //         12: 'Dez'\r\n        //     },\r\n        //     dateFormat: 'dd/mm/yyyy',\r\n        //     firstDayOfWeek: 'su',\r\n        //     sunHighlight: false\r\n        // },\r\n        // de: {\r\n        //     dayLabels: { su: 'So', mo: 'Mo', tu: 'Di', we: 'Mi', th: 'Do', fr: 'Fr', sa: 'Sa' },\r\n        //     monthLabels: {\r\n        //         1: 'Jan',\r\n        //         2: 'Feb',\r\n        //         3: 'MÃ¤r',\r\n        //         4: 'Apr',\r\n        //         5: 'Mai',\r\n        //         6: 'Jun',\r\n        //         7: 'Jul',\r\n        //         8: 'Aug',\r\n        //         9: 'Sep',\r\n        //         10: 'Okt',\r\n        //         11: 'Nov',\r\n        //         12: 'Dez'\r\n        //     },\r\n        //     dateFormat: 'dd.mm.yyyy',\r\n        //     firstDayOfWeek: 'mo',\r\n        //     sunHighlight: false\r\n        // },\r\n        // 'de-ch': {\r\n        //     dayLabels: { su: 'So', mo: 'Mo', tu: 'Di', we: 'Mi', th: 'Do', fr: 'Fr', sa: 'Sa' },\r\n        //     monthLabels: {\r\n        //         1: 'Jan',\r\n        //         2: 'Feb',\r\n        //         3: 'MÃ¤r',\r\n        //         4: 'Apr',\r\n        //         5: 'Mai',\r\n        //         6: 'Jun',\r\n        //         7: 'Jul',\r\n        //         8: 'Aug',\r\n        //         9: 'Sep',\r\n        //         10: 'Okt',\r\n        //         11: 'Nov',\r\n        //         12: 'Dez'\r\n        //     },\r\n        //     dateFormat: 'dd.mm.yyyy',\r\n        //     firstDayOfWeek: 'mo',\r\n        //     sunHighlight: false\r\n        // },\r\n        // it: {\r\n        //     dayLabels: { su: 'Dom', mo: 'Lun', tu: 'Mar', we: 'Mer', th: 'Gio', fr: 'Ven', sa: 'Sab' },\r\n        //     monthLabels: {\r\n        //         1: 'Gen',\r\n        //         2: 'Feb',\r\n        //         3: 'Mar',\r\n        //         4: 'Apr',\r\n        //         5: 'Mag',\r\n        //         6: 'Giu',\r\n        //         7: 'Lug',\r\n        //         8: 'Ago',\r\n        //         9: 'Set',\r\n        //         10: 'Ott',\r\n        //         11: 'Nov',\r\n        //         12: 'Dic'\r\n        //     },\r\n        //     dateFormat: 'dd/mm/yyyy',\r\n        //     firstDayOfWeek: 'mo',\r\n        //     sunHighlight: false\r\n        // },\r\n        // 'it-ch': {\r\n        //     dayLabels: { su: 'Dom', mo: 'Lun', tu: 'Mar', we: 'Mer', th: 'Gio', fr: 'Ven', sa: 'Sab' },\r\n        //     monthLabels: {\r\n        //         1: 'Gen',\r\n        //         2: 'Feb',\r\n        //         3: 'Mar',\r\n        //         4: 'Apr',\r\n        //         5: 'Mag',\r\n        //         6: 'Giu',\r\n        //         7: 'Lug',\r\n        //         8: 'Ago',\r\n        //         9: 'Set',\r\n        //         10: 'Ott',\r\n        //         11: 'Nov',\r\n        //         12: 'Dic'\r\n        //     },\r\n        //     dateFormat: 'dd.mm.yyyy',\r\n        //     firstDayOfWeek: 'mo',\r\n        //     sunHighlight: false\r\n        // },\r\n        // pl: {\r\n        //     dayLabels: { su: 'Nie', mo: 'Pon', tu: 'Wto', we: 'Åro', th: 'Czw', fr: 'PiÄ', sa: 'Sob' },\r\n        //     monthLabels: {\r\n        //         1: 'Sty',\r\n        //         2: 'Lut',\r\n        //         3: 'Mar',\r\n        //         4: 'Kwi',\r\n        //         5: 'Maj',\r\n        //         6: 'Cze',\r\n        //         7: 'Lip',\r\n        //         8: 'Sie',\r\n        //         9: 'Wrz',\r\n        //         10: 'PaÅº',\r\n        //         11: 'Lis',\r\n        //         12: 'Gru'\r\n        //     },\r\n        //     dateFormat: 'yyyy-mm-dd',\r\n        //     firstDayOfWeek: 'mo',\r\n        //     sunHighlight: false\r\n        // },\r\n        // my: {\r\n        //     dayLabels: {\r\n        //         su: 'ááááºá¹ááá½á±',\r\n        //         mo: 'ááááºá¹áá¬',\r\n        //         tu: 'á¡ááºá¹áá«',\r\n        //         we: 'áá¯áá¹ááá°á¸',\r\n        //         th: 'áá¼áááá±á¸',\r\n        //         fr: 'áá±á¬áá¼á¬',\r\n        //         sa: 'ááá±'\r\n        //     },\r\n        //     monthLabels: {\r\n        //         1: 'áááºááá«áá®',\r\n        //         2: 'áá±áá±á¬áºáá«áá®',\r\n        //         3: 'áááº',\r\n        //         4: 'á§áá¼á®',\r\n        //         5: 'áá±',\r\n        //         6: 'áá½ááº',\r\n        //         7: 'áá°áá­á¯ááº',\r\n        //         8: 'á©áá¯ááº',\r\n        //         9: 'áááºáááºáá¬',\r\n        //         10: 'á¡á±á¬ááºáá­á¯áá¬',\r\n        //         11: 'áá­á¯áááºáá¬',\r\n        //         12: 'áá®áááºáá¬'\r\n        //     },\r\n        //     dateFormat: 'yyyy-mm-dd',\r\n        //     firstDayOfWeek: 'mo',\r\n        //     sunHighlight: false\r\n        // },\r\n        // sk: {\r\n        //     dayLabels: { su: 'Ne', mo: 'Po', tu: 'Ut', we: 'St', th: 'Å t', fr: 'Pi', sa: 'So' },\r\n        //     monthLabels: {\r\n        //         1: 'Jan',\r\n        //         2: 'Feb',\r\n        //         3: 'Mar',\r\n        //         4: 'Apr',\r\n        //         5: 'MÃ¡j',\r\n        //         6: 'JÃºn',\r\n        //         7: 'JÃºl',\r\n        //         8: 'Aug',\r\n        //         9: 'Sep',\r\n        //         10: 'Okt',\r\n        //         11: 'Nov',\r\n        //         12: 'Dec'\r\n        //     },\r\n        //     dateFormat: 'dd.mm.yyyy',\r\n        //     firstDayOfWeek: 'mo',\r\n        //     sunHighlight: false\r\n        // },\r\n        // sl: {\r\n        //     dayLabels: { su: 'Ned', mo: 'Pon', tu: 'Tor', we: 'Sre', th: 'Äet', fr: 'Pet', sa: 'Sob' },\r\n        //     monthLabels: {\r\n        //         1: 'Jan',\r\n        //         2: 'Feb',\r\n        //         3: 'Mar',\r\n        //         4: 'Apr',\r\n        //         5: 'Maj',\r\n        //         6: 'Jun',\r\n        //         7: 'Jul',\r\n        //         8: 'Avg',\r\n        //         9: 'Sep',\r\n        //         10: 'Okt',\r\n        //         11: 'Nov',\r\n        //         12: 'Dec'\r\n        //     },\r\n        //     dateFormat: 'dd. mm. yyyy',\r\n        //     firstDayOfWeek: 'mo',\r\n        //     sunHighlight: false\r\n        // },\r\n        // ro: {\r\n        //     dayLabels: { su: 'du', mo: 'lu', tu: 'ma', we: 'mi', th: 'jo', fr: 'vi', sa: 'sa' },\r\n        //     monthLabels: {\r\n        //         1: 'ian',\r\n        //         2: 'feb',\r\n        //         3: 'mart',\r\n        //         4: 'apr',\r\n        //         5: 'mai',\r\n        //         6: 'iun',\r\n        //         7: 'iul',\r\n        //         8: 'aug',\r\n        //         9: 'sept',\r\n        //         10: 'oct',\r\n        //         11: 'nov',\r\n        //         12: 'dec'\r\n        //     },\r\n        //     dateFormat: 'dd.mm.yyyy',\r\n        //     firstDayOfWeek: 'mo',\r\n        //     sunHighlight: false\r\n        // },\r\n        // ca: {\r\n        //     dayLabels: { su: 'dg', mo: 'dl', tu: 'dt', we: 'dc', th: 'dj', fr: 'dv', sa: 'ds' },\r\n        //     monthLabels: {\r\n        //         1: 'Gen',\r\n        //         2: 'Febr',\r\n        //         3: 'MarÃ§',\r\n        //         4: 'Abr',\r\n        //         5: 'Maig',\r\n        //         6: 'Juny',\r\n        //         7: 'Jul',\r\n        //         8: 'Ag',\r\n        //         9: 'Set',\r\n        //         10: 'Oct',\r\n        //         11: 'Nov',\r\n        //         12: 'Des'\r\n        //     },\r\n        //     dateFormat: 'dd.mm.yyyy',\r\n        //     firstDayOfWeek: 'mo',\r\n        //     sunHighlight: false\r\n        // },\r\n        // id: {\r\n        //     dayLabels: { su: 'Min', mo: 'Sen', tu: 'Sel', we: 'Rab', th: 'Kam', fr: 'Jum', sa: 'Sab' },\r\n        //     monthLabels: {\r\n        //         1: 'Jan',\r\n        //         2: 'Feb',\r\n        //         3: 'Mar',\r\n        //         4: 'Apr',\r\n        //         5: 'Mei',\r\n        //         6: 'Jun',\r\n        //         7: 'Jul',\r\n        //         8: 'Ags',\r\n        //         9: 'Sep',\r\n        //         10: 'Okt',\r\n        //         11: 'Nov',\r\n        //         12: 'Des'\r\n        //     },\r\n        //     dateFormat: 'dd-mm-yyyy',\r\n        //     firstDayOfWeek: 'su',\r\n        //     sunHighlight: false\r\n        // },\r\n        // 'en-au': {\r\n        //     dayLabels: { su: 'Sun', mo: 'Mon', tu: 'Tue', we: 'Wed', th: 'Thu', fr: 'Fri', sa: 'Sat' },\r\n        //     monthLabels: {\r\n        //         1: 'Jan',\r\n        //         2: 'Feb',\r\n        //         3: 'Mar',\r\n        //         4: 'Apr',\r\n        //         5: 'May',\r\n        //         6: 'Jun',\r\n        //         7: 'Jul',\r\n        //         8: 'Aug',\r\n        //         9: 'Sep',\r\n        //         10: 'Oct',\r\n        //         11: 'Nov',\r\n        //         12: 'Dec'\r\n        //     },\r\n        //     dateFormat: 'dd/mm/yyyy',\r\n        //     firstDayOfWeek: 'mo',\r\n        //     sunHighlight: false\r\n        // },\r\n        // 'am-et': {\r\n        //     dayLabels: { su: 'á¥ááµ', mo: 'á°á', tu: 'áá­á°á', we: 'á¨á¡á', th: 'áááµ', fr: 'áá­á¥', sa: 'áá³á' },\r\n        //     monthLabels: {\r\n        //         1: 'ááá©',\r\n        //         2: 'áá¥á©',\r\n        //         3: 'áá­á½',\r\n        //         4: 'á¤áá¨',\r\n        //         5: 'áá­',\r\n        //         6: 'áá',\r\n        //         7: 'ááá­',\r\n        //         8: 'á¦ááµ',\r\n        //         9: 'á´áá´',\r\n        //         10: 'á¦á­á°',\r\n        //         11: 'áá¬á',\r\n        //         12: 'á²á´á'\r\n        //     },\r\n        //     dateFormat: 'yyyy-mm-dd',\r\n        //     firstDayOfWeek: 'mo',\r\n        //     sunHighlight: false\r\n        // },\r\n        // cs: {\r\n        //     dayLabels: { su: 'Ne', mo: 'Po', tu: 'Ãt', we: 'St', th: 'Ät', fr: 'PÃ¡', sa: 'So' },\r\n        //     monthLabels: {\r\n        //         1: 'Led',\r\n        //         2: 'Ãno',\r\n        //         3: 'BÅe',\r\n        //         4: 'Dub',\r\n        //         5: 'KvÄ',\r\n        //         6: 'Ävn',\r\n        //         7: 'Ävc',\r\n        //         8: 'Srp',\r\n        //         9: 'ZÃ¡Å',\r\n        //         10: 'ÅÃ­j',\r\n        //         11: 'Lis',\r\n        //         12: 'Pro'\r\n        //     },\r\n        //     dateFormat: 'dd.mm.yyyy',\r\n        //     firstDayOfWeek: 'mo',\r\n        //     sunHighlight: false\r\n        // },\r\n        // el: {\r\n        //     dayLabels: { su: 'ÎÏÏ', mo: 'ÎÎµÏ', tu: 'Î¤ÏÎ¹', we: 'Î¤ÎµÏ', th: 'Î ÎµÎ¼', fr: 'Î Î±Ï', sa: 'Î£Î±Î²' },\r\n        //     monthLabels: {\r\n        //         1: 'ÎÎ±Î½',\r\n        //         2: 'Î¦ÎµÎ²',\r\n        //         3: 'ÎÎ±Ï',\r\n        //         4: 'ÎÏÏ',\r\n        //         5: 'ÎÎ±Î¹',\r\n        //         6: 'ÎÎ¿ÏÎ½',\r\n        //         7: 'ÎÎ¿ÏÎ»',\r\n        //         8: 'ÎÏÎ³',\r\n        //         9: 'Î£ÎµÏ',\r\n        //         10: 'ÎÎºÏ',\r\n        //         11: 'ÎÎ¿Îµ',\r\n        //         12: 'ÎÎµÎº'\r\n        //     },\r\n        //     dateFormat: 'dd/mm/yyyy',\r\n        //     firstDayOfWeek: 'mo',\r\n        //     sunHighlight: false\r\n        // },\r\n        // kk: {\r\n        //     dayLabels: { su: 'ÐÐº', mo: 'ÐÑ', tu: 'Ð¡Ñ', we: 'Ð¡Ñ', th: 'ÐÑ', fr: 'ÐÐ¼', sa: 'Ð¡Ð±' },\r\n        //     monthLabels: {\r\n        //         1: 'ÒÐ°Ò£',\r\n        //         2: 'ÐÒÐ¿',\r\n        //         3: 'ÐÐ°Ñ',\r\n        //         4: 'Ð¡ÓÑ',\r\n        //         5: 'ÐÐ°Ð¼',\r\n        //         6: 'ÐÐ°Ñ',\r\n        //         7: 'Ð¨ÑÐ»',\r\n        //         8: 'Ð¢Ð°Ð¼',\r\n        //         9: 'ÒÑÑÐº',\r\n        //         10: 'ÒÐ°Ð·',\r\n        //         11: 'ÒÐ°Ñ',\r\n        //         12: 'ÐÐµÐ»Ñ'\r\n        //     },\r\n        //     dateFormat: 'dd-mmm-yyyy',\r\n        //     firstDayOfWeek: 'mo',\r\n        //     sunHighlight: false\r\n        // },\r\n        // th: {\r\n        //     dayLabels: { su: 'à¸­à¸²', mo: 'à¸', tu: 'à¸­', we: 'à¸', th: 'à¸à¸¤', fr: 'à¸¨', sa: 'à¸ª' },\r\n        //     monthLabels: {\r\n        //         1: 'à¸¡.à¸',\r\n        //         2: 'à¸.à¸.',\r\n        //         3: 'à¸¡à¸µ.à¸.',\r\n        //         4: 'à¹à¸¡.à¸¢.',\r\n        //         5: 'à¸.à¸.',\r\n        //         6: 'à¸¡à¸´.à¸¢.',\r\n        //         7: 'à¸.à¸.',\r\n        //         8: 'à¸ª.à¸.',\r\n        //         9: 'à¸.à¸¢.',\r\n        //         10: 'à¸.à¸.',\r\n        //         11: 'à¸.à¸¢.',\r\n        //         12: 'à¸.à¸.'\r\n        //     },\r\n        //     dateFormat: 'dd-mm-yyyy',\r\n        //     firstDayOfWeek: 'su',\r\n        //     sunHighlight: false\r\n        // },\r\n        // 'ko-kr': {\r\n        //     dayLabels: { su: 'ì¼', mo: 'ì', tu: 'í', we: 'ì', th: 'ëª©', fr: 'ê¸', sa: 'í ' },\r\n        //     monthLabels: {\r\n        //         1: '1ì',\r\n        //         2: '2ì',\r\n        //         3: '3ì',\r\n        //         4: '4ì',\r\n        //         5: '5ì',\r\n        //         6: '6ì',\r\n        //         7: '7ì',\r\n        //         8: '8ì',\r\n        //         9: '9ì',\r\n        //         10: '10ì',\r\n        //         11: '11ì',\r\n        //         12: '12ì'\r\n        //     },\r\n        //     dateFormat: 'yyyy mm dd',\r\n        //     firstDayOfWeek: 'su',\r\n        //     sunHighlight: false\r\n        // },\r\n        // da: {\r\n        //     dayLabels: { su: 'SÃ¸n', mo: 'Man', tu: 'Tir', we: 'Ons', th: 'Tor', fr: 'Fre', sa: 'LÃ¸r' },\r\n        //     monthLabels: {\r\n        //         1: 'Jan',\r\n        //         2: 'Feb',\r\n        //         3: 'Mar',\r\n        //         4: 'Apr',\r\n        //         5: 'Maj',\r\n        //         6: 'Jun',\r\n        //         7: 'Jul',\r\n        //         8: 'Aug',\r\n        //         9: 'Sep',\r\n        //         10: 'Okt',\r\n        //         11: 'Nov',\r\n        //         12: 'Dec'\r\n        //     },\r\n        //     dateFormat: 'dd-mm-yyyy',\r\n        //     firstDayOfWeek: 'mo',\r\n        //     sunHighlight: false\r\n        // },\r\n        // lt: {\r\n        //     dayLabels: { su: 'Sk', mo: 'Pr', tu: 'An', we: 'Tr', th: 'Kt', fr: 'Pn', sa: 'Å t' },\r\n        //     monthLabels: {\r\n        //         1: 'Saus.',\r\n        //         2: 'Vas.',\r\n        //         3: 'Kov.',\r\n        //         4: 'Bal.',\r\n        //         5: 'Geg.',\r\n        //         6: 'BirÅ¾.',\r\n        //         7: 'Liep.',\r\n        //         8: 'Rugp.',\r\n        //         9: 'Rugs.',\r\n        //         10: 'Sapl.',\r\n        //         11: 'Lapkr.',\r\n        //         12: 'Gruod.'\r\n        //     },\r\n        //     dateFormat: 'yyyy-mm-dd',\r\n        //     firstDayOfWeek: 'mo',\r\n        //     sunHighlight: false\r\n        // },\r\n        // vi: {\r\n        //     dayLabels: { su: 'CN', mo: 'T2', tu: 'T3', we: 'T4', th: 'T5', fr: 'T6', sa: 'T7' },\r\n        //     monthLabels: {\r\n        //         1: 'THG 1',\r\n        //         2: 'THG 2',\r\n        //         3: 'THG 3',\r\n        //         4: 'THG 4',\r\n        //         5: 'THG 5',\r\n        //         6: 'THG 6',\r\n        //         7: 'THG 7',\r\n        //         8: 'THG 8',\r\n        //         9: 'THG 9',\r\n        //         10: 'THG 10',\r\n        //         11: 'THG 11',\r\n        //         12: 'THG 12'\r\n        //     },\r\n        //     dateFormat: 'dd/mm/yyyy',\r\n        //     firstDayOfWeek: 'mo',\r\n        //     sunHighlight: false\r\n        // },\r\n        // bn: {\r\n        //     dayLabels: { su: 'à¦°à¦¬à¦¿', mo: 'à¦¸à§à¦®', tu: 'à¦®à¦à§à¦à¦²', we: 'à¦¬à§à¦§', th: 'à¦¬à§à¦¹à¦', fr: 'à¦¶à§à¦à§à¦°', sa: 'à¦¶à¦¨à¦¿' },\r\n        //     monthLabels: {\r\n        //         1: 'à¦à¦¾à¦¨à§',\r\n        //         2: 'à¦«à§à¦¬à§à¦°à§',\r\n        //         3: 'à¦®à¦¾à¦°à§à¦',\r\n        //         4: 'à¦à¦ªà§à¦°à¦¿à¦²',\r\n        //         5: 'à¦®à§',\r\n        //         6: 'à¦à§à¦¨',\r\n        //         7: 'à¦à§à¦²à¦¾à¦',\r\n        //         8: 'à¦à¦à¦¸à§à¦',\r\n        //         9: 'à¦¸à§à¦ªà§à¦à§',\r\n        //         10: 'à¦à¦à§à¦à§',\r\n        //         11: 'à¦¨à¦­à§',\r\n        //         12: 'à¦¡à¦¿à¦¸à§'\r\n        //     },\r\n        //     dateFormat: 'dd-mm-yyyy',\r\n        //     firstDayOfWeek: 'su',\r\n        //     sunHighlight: false\r\n        // },\r\n        // bg: {\r\n        //     dayLabels: { su: 'Ð½Ð´', mo: 'Ð¿Ð½', tu: 'Ð²Ñ', we: 'ÑÑ', th: 'ÑÑ', fr: 'Ð¿Ñ', sa: 'ÑÐ±' },\r\n        //     monthLabels: {\r\n        //         1: 'ÑÐ½Ñ.',\r\n        //         2: 'ÑÐµÐ².',\r\n        //         3: 'Ð¼Ð°ÑÑ',\r\n        //         4: 'Ð°Ð¿Ñ.',\r\n        //         5: 'Ð¼Ð°Ð¹',\r\n        //         6: 'ÑÐ½Ð¸',\r\n        //         7: 'ÑÐ»Ð¸',\r\n        //         8: 'Ð°Ð²Ð³.',\r\n        //         9: 'ÑÐµÐ¿.',\r\n        //         10: 'Ð¾ÐºÑ.',\r\n        //         11: 'Ð½Ð¾Ðµ.',\r\n        //         12: 'Ð´ÐµÐº.'\r\n        //     },\r\n        //     dateFormat: 'dd.mm.yyyy',\r\n        //     firstDayOfWeek: 'mo',\r\n        //     sunHighlight: false\r\n        // },\r\n        // hr: {\r\n        //     dayLabels: { su: 'Ne', mo: 'Po', tu: 'Ul', we: 'Sr', th: 'Äe', fr: 'Pe', sa: 'Su' },\r\n        //     monthLabels: {\r\n        //         1: 'Sij',\r\n        //         2: 'Vel',\r\n        //         3: 'OÅ¾u',\r\n        //         4: 'Tra',\r\n        //         5: 'Svi',\r\n        //         6: 'Lip',\r\n        //         7: 'Srp',\r\n        //         8: 'Kol',\r\n        //         9: 'Ruj',\r\n        //         10: 'Lis',\r\n        //         11: 'Stu',\r\n        //         12: 'Pro'\r\n        //     },\r\n        //     dateFormat: 'dd.mm.yyyy.',\r\n        //     firstDayOfWeek: 'su',\r\n        //     sunHighlight: false\r\n        // },\r\n        // ar: {\r\n        //     dayLabels: {\r\n        //         su: 'Ø§ÙØ£Ø­Ø¯',\r\n        //         mo: 'Ø§ÙØ§Ø«ÙÙÙ',\r\n        //         tu: 'Ø§ÙØ«ÙØ§Ø«Ø§Ø¡',\r\n        //         we: 'Ø§ÙØ§Ø±Ø¨Ø¹Ø§Ø¡',\r\n        //         th: 'Ø§ÙØ®ÙÙØ³',\r\n        //         fr: 'Ø§ÙØ¬ÙØ¹Ø©',\r\n        //         sa: 'Ø§ÙØ³Ø¨Øª'\r\n        //     },\r\n        //     monthLabels: {\r\n        //         1: 'ÙÙØ§ÙØ±',\r\n        //         2: 'ÙØ¨Ø±Ø§ÙØ±',\r\n        //         3: 'ÙØ§Ø±Ø³',\r\n        //         4: 'Ø§Ø¨Ø±ÙÙ',\r\n        //         5: 'ÙØ§ÙÙ',\r\n        //         6: 'ÙÙÙÙÙ',\r\n        //         7: 'ÙÙÙÙÙ',\r\n        //         8: 'Ø£ØºØ³Ø·Ø³',\r\n        //         9: 'Ø³Ø¨ØªÙØ¨Ø±',\r\n        //         10: 'Ø£ÙØªÙØ¨Ø±',\r\n        //         11: 'ÙÙÙÙØ¨Ø±',\r\n        //         12: 'Ø¯ÙØ³ÙØ¨Ø±'\r\n        //     },\r\n        //     dateFormat: 'yyyy-mm-dd',\r\n        //     firstDayOfWeek: 'sa',\r\n        //     sunHighlight: false\r\n        // },\r\n        // is: {\r\n        //     dayLabels: { su: 'sun', mo: 'mÃ¡n', tu: 'Ã¾ri', we: 'miÃ°', th: 'fim', fr: 'fÃ¶s', sa: 'lau' },\r\n        //     monthLabels: {\r\n        //         1: 'jan',\r\n        //         2: 'feb',\r\n        //         3: 'mar',\r\n        //         4: 'apr',\r\n        //         5: 'maÃ­',\r\n        //         6: 'jÃºn',\r\n        //         7: 'jÃºl',\r\n        //         8: 'Ã¡gÃº',\r\n        //         9: 'sep',\r\n        //         10: 'okt',\r\n        //         11: 'nÃ³v',\r\n        //         12: 'des'\r\n        //     },\r\n        //     dateFormat: 'dd.mm.yyyy',\r\n        //     firstDayOfWeek: 'su',\r\n        //     sunHighlight: false\r\n        // },\r\n        // tw: {\r\n        //     dayLabels: { su: 'é±æ¥', mo: 'é±ä¸', tu: 'é±äº', we: 'é±ä¸', th: 'é±å', fr: 'é±äº', sa: 'é±å­' },\r\n        //     monthLabels: {\r\n        //         1: 'ä¸æ',\r\n        //         2: 'äºæ',\r\n        //         3: 'ä¸æ',\r\n        //         4: 'åæ',\r\n        //         5: 'äºæ',\r\n        //         6: 'å­æ',\r\n        //         7: 'ä¸æ',\r\n        //         8: 'å«æ',\r\n        //         9: 'ä¹æ',\r\n        //         10: 'åæ',\r\n        //         11: 'åä¸æ',\r\n        //         12: 'åäºæ'\r\n        //     },\r\n        //     dateFormat: 'yyyy-mm-dd',\r\n        //     firstDayOfWeek: 'mo',\r\n        //     sunHighlight: false\r\n        // },\r\n        // lv: {\r\n        //     dayLabels: { su: 'S', mo: 'P', tu: 'O', we: 'T', th: 'C', fr: 'P', sa: 'S' },\r\n        //     monthLabels: {\r\n        //         1: 'Janv',\r\n        //         2: 'Febr',\r\n        //         3: 'Marts',\r\n        //         4: 'Apr',\r\n        //         5: 'Maijs',\r\n        //         6: 'JÅ«n',\r\n        //         7: 'JÅ«l',\r\n        //         8: 'Aug',\r\n        //         9: 'Sept',\r\n        //         10: 'Okt',\r\n        //         11: 'Nov',\r\n        //         12: 'Dec'\r\n        //     },\r\n        //     dateFormat: 'dd.mm.yyyy',\r\n        //     firstDayOfWeek: 'mo',\r\n        //     sunHighlight: false\r\n        // },\r\n        // et: {\r\n        //     dayLabels: { su: 'P', mo: 'E', tu: 'T', we: 'K', th: 'N', fr: 'R', sa: 'L' },\r\n        //     monthLabels: {\r\n        //         1: 'Jaan',\r\n        //         2: 'Veebr',\r\n        //         3: 'MÃ¤rts',\r\n        //         4: 'Apr',\r\n        //         5: 'Mai',\r\n        //         6: 'Juuni',\r\n        //         7: 'Juuli',\r\n        //         8: 'Aug',\r\n        //         9: 'Sept',\r\n        //         10: 'Okt',\r\n        //         11: 'Nov',\r\n        //         12: 'Dets'\r\n        //     },\r\n        //     dateFormat: 'dd.mm.yyyy',\r\n        //     firstDayOfWeek: 'mo',\r\n        //     sunHighlight: false\r\n        // }\r\n    };\r\n\r\n    getLocaleOptions(locale: string): IMyOptions {\r\n        if (locale && this.locales.hasOwnProperty(locale)) {\r\n            // User given locale\r\n            return this.locales[locale];\r\n        }\r\n        // Default: en\r\n        return this.locales[DEFAULT_LOCALE];\r\n    }\r\n}\r\n","/*\r\n * @Author: ç¯çç§æ(Lucas Huang)\r\n * @Date: 2019-09-04 07:40:04\r\n * @LastEditors: ç¯çç§æ(Lucas Huang)\r\n * @LastEditTime: 2019-09-04 15:21:46\r\n * @QQ: 1055818239\r\n * @Version: v0.0.1\r\n */\r\nimport { Injectable } from '@angular/core';\r\nimport {\r\n    IMyDateModel,\r\n    IMySingleDateModel,\r\n    IMyDateRangeModel,\r\n    IMyDate,\r\n    IMyDateRange,\r\n    IMyMonth,\r\n    IMyMonthLabels,\r\n    IMyMarkedDates,\r\n    IMyMarkedDate,\r\n    IMyDateFormat,\r\n    IMyOptions\r\n} from '../interfaces/public-api';\r\nimport { KeyCode, KeyName, ShowType } from '../enums/public-api';\r\nimport { D, DD, M, MM, MMM, YYYY, SU, MO, TU, WE, TH, FR, SA, ZERO_STR, EMPTY_STR } from '../constants/constants';\r\nimport { DynamicData, DynamicDateType } from '../interfaces/dynamic-data-type.interface';\r\n\r\nimport { orderBy } from 'lodash-es';\r\nimport { MultiSelectedOrderBy } from '../interfaces/my-options.interface';\r\n\r\n@Injectable()\r\nexport class UtilService {\r\n    weekDays: Array<string> = [SU, MO, TU, WE, TH, FR, SA];\r\n\r\n    isDateValid(dateStr: string, options: IMyOptions, isReturn = false): IMyDate {\r\n        // tslint:disable-next-line:one-variable-per-declaration\r\n        let _dateStr: string, hour = 0, minute = 0, second = 0;\r\n\r\n        const returnDate: IMyDate = this.resetDate();\r\n\r\n        if (!dateStr || !dateStr.length) {\r\n            return returnDate;\r\n        }\r\n\r\n        const { dateFormat, minYear, maxYear, monthLabels, showTime, returnFormat, showType } = options;\r\n        let _st = showTime;\r\n        let formatStr = dateFormat;\r\n        if (isReturn) {\r\n            formatStr = returnFormat.replace(/[å¹´,æ]/g, '-').replace(/[æ¥]/, '').replace(/[æ¶,å]/g, ':').replace(/[ç§]/g, '');\r\n            dateStr = dateStr.replace(/[å¹´,æ]/g, '-').replace(/[æ¥]/, '').replace(/[æ¶,å]/g, ':').replace(/[ç§]/g, '');\r\n\r\n            if (dateStr[dateStr.length - 1] === '-' || dateStr[dateStr.length - 1] === ':') {\r\n                dateStr = dateStr.substring(0, dateStr.length - 1);\r\n            }\r\n\r\n            if (!showTime && returnFormat.toLocaleLowerCase().indexOf('hh:mm') > -1) {\r\n                _st = true;\r\n            }\r\n        }\r\n\r\n        const daysInMonth: Array<number> = [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];\r\n        const isMonthStr: boolean = formatStr.indexOf(MMM) !== -1;\r\n        let delimeters: Array<string> = formatStr.match(/[^(DdMmYy)]{1,}/g);\r\n        if (_st && dateStr) {\r\n            _dateStr = dateStr.split(' ')[0];\r\n            Object.assign(returnDate, { hour: 0, minute: 0, second: 0 });\r\n            const timeStr = dateStr.split(' ')[1];\r\n            if (timeStr) {\r\n                const _timer = timeStr.replace('æ¶', ':').replace('å', ':').replace('ç§', '').split(':');\r\n                if (_timer[0]) {\r\n                    hour = Number(_timer[0].substr(0, 2));\r\n                    hour = isNaN(hour) ? 0 : hour;\r\n                }\r\n                if (_timer[1]) {\r\n                    minute = Number(_timer[1].substr(0, 2));\r\n                    minute = isNaN(minute) ? 0 : minute;\r\n                }\r\n\r\n                if (_timer[2]) {\r\n                    second = Number(_timer[2].substr(0, 2));\r\n                    second = isNaN(second) ? 0 : second;\r\n                }\r\n            } else {\r\n                delimeters = undefined;\r\n                const reg = /^\\d{1,}$/;\r\n                if (reg.test(dateStr)) { // éªè¯ä¼ å¥çæ ¼å¼ä¸º yyyyMMddHHmmss\r\n                    const df = formatStr;\r\n                    _dateStr = dateStr.substr(0, 8);\r\n                    let _timer = dateStr.substr(8);\r\n                    if (_timer) {\r\n                        if (df.includes('HH')) {\r\n                            if (_timer) {\r\n                                hour = +_timer.slice(0, 2);\r\n                                _timer = _timer.slice(2);\r\n                            }\r\n                        }\r\n                        if (df.includes('mm')) {\r\n                            if (_timer) {\r\n                                minute = +_timer.slice(0, 2);\r\n                                _timer = _timer.slice(2);\r\n                            }\r\n                        }\r\n                        if (df.includes('ss')) {\r\n                            if (_timer) {\r\n                                second = +_timer.slice(0, 2);\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        } else {\r\n            _dateStr = dateStr ? dateStr.split(' ')[0] : '';\r\n        }\r\n        const dateValue: Array<IMyDateFormat> = this.getDateValue(_dateStr, formatStr, delimeters);\r\n\r\n        const year: number = this.getNumberByValue(dateValue[0]);\r\n        const month: number = isMonthStr\r\n            ? this.getMonthNumberByMonthName(dateValue[1], monthLabels)\r\n            : this.getNumberByValue(dateValue[1]);\r\n        const day: number = this.getNumberByValue(dateValue[2]);\r\n\r\n        if (showType === ShowType.noDateAndMonth) {\r\n            return { year, month: 1, day: 1 };\r\n        }\r\n\r\n        if (month !== -1 && day !== -1 && year !== -1) {\r\n            if (year < minYear || year > maxYear || month < 1 || month > 12) {\r\n                return returnDate;\r\n            }\r\n            const date: IMyDate = _st ? { year, month, day, hour, minute, second } : { year, month, day };\r\n\r\n            if (this.isDisabledDate(date, options)) {\r\n                return returnDate;\r\n            }\r\n\r\n            if (year % 400 === 0 || (year % 100 !== 0 && year % 4 === 0)) {\r\n                daysInMonth[1] = 29;\r\n            }\r\n\r\n            if (day < 1 || day > daysInMonth[month - 1]) {\r\n                return returnDate;\r\n            }\r\n\r\n            // Valid date\r\n            if (options.showType === ShowType.noDate) {\r\n                return { year: date.year, month: date.month };\r\n            } else if (options.showType === ShowType.noDateAndMonth) {\r\n                return { year: date.year };\r\n            } else {\r\n                return date;\r\n            }\r\n        }\r\n        return returnDate;\r\n    }\r\n\r\n    isDateValidDateRange(dateRangeStr: string, options: IMyOptions): IMyDateRange {\r\n        let dateRange: IMyDateRange = {\r\n            begin: this.resetDate(),\r\n            end: this.resetDate()\r\n        };\r\n        if (dateRangeStr && dateRangeStr.length) {\r\n            const dates: Array<string> = dateRangeStr.split(options.dateRangeDatesDelimiter);\r\n            if (dates && dates.length === 2) {\r\n                const [beginDate, endDate] = dates;\r\n                const begin: IMyDate = this.isDateValid(beginDate, options, true);\r\n                if (this.isInitializedDate(begin)) {\r\n                    const end: IMyDate = this.isDateValid(endDate, options, true);\r\n\r\n                    if (this.isInitializedDate(end) && this.isDateSameOrEarlier(begin, end)) {\r\n                        dateRange = { begin, end };\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return dateRange;\r\n    }\r\n\r\n    getDateValue(dateStr: string, dateFormat: string, delimeters: Array<string>): Array<IMyDateFormat> {\r\n        const da: Array<IMyDateFormat> = [];\r\n\r\n        if (delimeters) {\r\n            let del: string = delimeters[0];\r\n            if (delimeters[0] !== delimeters[1]) {\r\n                del = delimeters[0] + delimeters[1];\r\n                if (delimeters[2] && delimeters[1] !== delimeters[2]) {\r\n                    del = del + delimeters[2];\r\n                }\r\n            }\r\n            const re: any = new RegExp('[' + del + ']');\r\n            const ds: Array<string> = dateStr.split(re);\r\n            const df: Array<string> = dateFormat.split(re);\r\n            for (let i = 0; i < df.length; i++) {\r\n                if (df[i].indexOf(YYYY) !== -1) {\r\n                    da[0] = { value: ds[i], format: df[i] };\r\n                }\r\n                if (df[i].indexOf(M) !== -1) {\r\n                    da[1] = ds[i] === undefined ? { value: '1', format: df[i] } : { value: ds[i], format: df[i] };\r\n                }\r\n                if (df[i].indexOf(D) !== -1) {\r\n                    da[2] = ds[i] === undefined ? { value: '1', format: df[i] } : { value: ds[i], format: df[i] };\r\n                }\r\n            }\r\n        } else {\r\n            const yearIndex = (dateFormat + '').indexOf(YYYY);\r\n            const monthIndex = (dateFormat + '').indexOf(MM);\r\n            const dayIndex = (dateFormat + '').indexOf(DD);\r\n            if (yearIndex >= 0) {\r\n                da[0] = { value: dateStr.substring(yearIndex, yearIndex + 4), format: dateFormat.substring(yearIndex, yearIndex + 4) };\r\n            }\r\n            if (monthIndex >= 0) {\r\n                da[1] = { value: dateStr.substring(monthIndex, monthIndex + 2), format: dateFormat.substring(monthIndex, monthIndex + 2) };\r\n            }\r\n            if (dayIndex >= 0) {\r\n                da[2] = { value: dateStr.substring(dayIndex, dayIndex + 2) || '01', format: dateFormat.substring(dayIndex, dayIndex + 2) };\r\n            }\r\n        }\r\n        return da;\r\n    }\r\n\r\n    getMonthNumberByMonthName(df: IMyDateFormat, monthLabels: IMyMonthLabels): number {\r\n        if (df.value) {\r\n            for (let key = 1; key <= 12; key++) {\r\n                if (df.value.toLowerCase() === monthLabels[key].toLowerCase()) {\r\n                    return key;\r\n                }\r\n            }\r\n        }\r\n        return -1;\r\n    }\r\n\r\n    getNumberByValue(df: IMyDateFormat): number {\r\n        if (!df) {\r\n            return 1;\r\n        }\r\n        if (!/^\\d+$/.test(df.value)) {\r\n            return -1;\r\n        }\r\n\r\n        let nbr: number = Number(df.value);\r\n        if (\r\n            (df.format.length === 1 && df.value.length !== 1 && nbr < 10) ||\r\n            (df.format.length === 1 && df.value.length !== 2 && nbr >= 10)\r\n        ) {\r\n            nbr = -1;\r\n        } else if (df.format.length === 2 && df.value.length > 2) {\r\n            nbr = -1;\r\n        }\r\n        return nbr;\r\n    }\r\n\r\n    parseDefaultMonth(monthString: string): IMyMonth {\r\n        const month: IMyMonth = { monthTxt: EMPTY_STR, monthNbr: 0, year: 0 };\r\n        if (monthString !== EMPTY_STR) {\r\n            const split = monthString.split(monthString.match(/[^0-9]/)[0]);\r\n            month.monthNbr = split[0].length === 2 ? Number(split[0]) : Number(split[1]);\r\n            month.year = split[0].length === 2 ? Number(split[1]) : Number(split[0]);\r\n        }\r\n        return month;\r\n    }\r\n\r\n    isDisabledDate(date: IMyDate, options: IMyOptions): boolean {\r\n        const {\r\n            minYear,\r\n            maxYear,\r\n            disableUntil,\r\n            disableSince,\r\n            disableWeekends,\r\n            disableDates,\r\n            disableDateRanges,\r\n            disableWeekdays,\r\n            enableDates\r\n        } = options;\r\n\r\n        // for (const d of enableDates) {\r\n        //     if (\r\n        //         (d.year === 0 || d.year === date.year) &&\r\n        //         (d.month === 0 || d.month === date.month) &&\r\n        //         d.day === date.day\r\n        //     ) {\r\n        //         return false;\r\n        //     }\r\n        // }\r\n\r\n        if ((date.year < minYear && date.month === 12) || (date.year > maxYear && date.month === 1)) {\r\n            return true;\r\n        }\r\n        const dateMs: number = this.getTimeInMilliseconds(date);\r\n        if (this.isInitializedDate(disableUntil) && (dateMs + 24 * 60 * 60 * 1000 - 1) < this.getTimeInMilliseconds(disableUntil)) {\r\n            return true;\r\n        }\r\n        if (this.isInitializedDate(disableSince) && dateMs > this.getTimeInMilliseconds(disableSince)) {\r\n            return true;\r\n        }\r\n\r\n        if (disableWeekends) {\r\n            const dayNbr = this.getDayNumber(date);\r\n            if (dayNbr === 0 || dayNbr === 6) {\r\n                return true;\r\n            }\r\n        }\r\n\r\n        const dn = this.getDayNumber(date);\r\n        if (disableWeekdays.length > 0) {\r\n            for (const wd of disableWeekdays) {\r\n                if (dn === this.getWeekdayIndex(wd)) {\r\n                    return true;\r\n                }\r\n            }\r\n        }\r\n\r\n        for (const d of disableDates) {\r\n            if (\r\n                (d.year === 0 || d.year === date.year) &&\r\n                (d.month === 0 || d.month === date.month) &&\r\n                d.day === date.day\r\n            ) {\r\n                return true;\r\n            }\r\n        }\r\n\r\n        for (const d of disableDateRanges) {\r\n            if (\r\n                this.isInitializedDate(d.begin) &&\r\n                this.isInitializedDate(d.end) &&\r\n                dateMs >= this.getTimeInMilliseconds(d.begin) &&\r\n                dateMs <= this.getTimeInMilliseconds(d.end)\r\n            ) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n    isMarkedDate(date: IMyDate, markedDates: Array<IMyMarkedDates>, markWeekends: IMyMarkedDate): IMyMarkedDate {\r\n        for (const md of markedDates) {\r\n            for (const d of md.dates) {\r\n                if (\r\n                    (d.year === 0 || d.year === date.year) &&\r\n                    (d.month === 0 || d.month === date.month) &&\r\n                    d.day === date.day\r\n                ) {\r\n                    return { marked: true, color: md.color };\r\n                }\r\n            }\r\n        }\r\n        if (markWeekends && markWeekends.marked) {\r\n            const dayNbr = this.getDayNumber(date);\r\n            if (dayNbr === 0 || dayNbr === 6) {\r\n                return { marked: true, color: markWeekends.color };\r\n            }\r\n        }\r\n        return { marked: false, color: EMPTY_STR };\r\n    }\r\n\r\n    isHighlightedDate(\r\n        date: IMyDate,\r\n        sunHighlight: boolean,\r\n        satHighlight: boolean,\r\n        highlightDates: Array<IMyDate>\r\n    ): boolean {\r\n        const dayNbr: number = this.getDayNumber(date);\r\n        if ((sunHighlight && dayNbr === 0) || (satHighlight && dayNbr === 6)) {\r\n            return true;\r\n        }\r\n        for (const d of highlightDates) {\r\n            if (\r\n                (d.year === 0 || d.year === date.year) &&\r\n                (d.month === 0 || d.month === date.month) &&\r\n                d.day === date.day\r\n            ) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n    getWeekNumber(date: IMyDate): number {\r\n        const d: Date = new Date(date.year, date.month - 1, date.day, 0, 0, 0, 0);\r\n        d.setDate(d.getDate() + (d.getDay() === 0 ? -3 : 4 - d.getDay()));\r\n        return Math.round((d.getTime() - new Date(d.getFullYear(), 0, 4).getTime()) / 86400000 / 7) + 1;\r\n    }\r\n    \r\n    getNowWeekTime(date: Date): IMyDateRange {\r\n        date.setDate(date.getDate() - ((date.getDay() + 6) % 7));\r\n        const begin = {\r\n            year: date.getFullYear(),\r\n            month: date.getMonth() + 1,\r\n            day: date.getDate()\r\n        };\r\n        date.setDate(date.getDate() + 6);\r\n        const end = {\r\n            year: date.getFullYear(),\r\n            month: date.getMonth() + 1,\r\n            day: date.getDate()\r\n        };\r\n        return { begin, end };\r\n    }\r\n\r\n    isMonthDisabledByDisableUntil(date: IMyDate, disableUntil: IMyDate): boolean {\r\n        return (\r\n            this.isInitializedDate(disableUntil) &&\r\n            this.getTimeInMilliseconds(date) <= this.getTimeInMilliseconds(disableUntil)\r\n        );\r\n    }\r\n\r\n    isMonthDisabledByDisableSince(date: IMyDate, disableSince: IMyDate): boolean {\r\n        return (\r\n            this.isInitializedDate(disableSince) &&\r\n            this.getTimeInMilliseconds(date) >= this.getTimeInMilliseconds(disableSince)\r\n        );\r\n    }\r\n\r\n    getDateModel(\r\n        date: IMyDate,\r\n        dateRange: IMyDateRange,\r\n        dateFormat: string,\r\n        monthLabels: IMyMonthLabels,\r\n        rangeDelimiter: string,\r\n        returnFormat: string,\r\n        dateStr: string = EMPTY_STR\r\n    ): IMyDateModel {\r\n        let singleDateModel: IMySingleDateModel = null;\r\n        let dateRangeModel: IMyDateRangeModel = null;\r\n\r\n        if (date) {\r\n            singleDateModel = {\r\n                date,\r\n                jsDate: this.getDate2(date),\r\n                formatted: dateStr.length ? dateStr : this.formatDate(date, dateFormat, monthLabels),\r\n                returnFormatted: this.formatDate(date, returnFormat, monthLabels),\r\n                epoc: this.getEpocTime(date)\r\n            };\r\n        } else {\r\n            dateRangeModel = {\r\n                beginDate: dateRange.begin,\r\n                beginJsDate: this.getDate(dateRange.begin),\r\n                beginEpoc: this.getEpocTime(dateRange.begin),\r\n                endDate: dateRange.end,\r\n                endJsDate: this.getDate(dateRange.end),\r\n                endEpoc: this.getEpocTime(dateRange.end),\r\n                formatted:\r\n                    this.formatDate(dateRange.begin, dateFormat, monthLabels) +\r\n                    rangeDelimiter +\r\n                    this.formatDate(dateRange.end, dateFormat, monthLabels),\r\n                returnFormatted:\r\n                    this.formatDate(dateRange.begin, returnFormat, monthLabels) +\r\n                    rangeDelimiter +\r\n                    this.formatDate(dateRange.end, returnFormat, monthLabels),\r\n            };\r\n        }\r\n        return {\r\n            isRange: date === null,\r\n            singleDate: singleDateModel,\r\n            dateRange: dateRangeModel\r\n        };\r\n    }\r\n\r\n    formatDate(date: IMyDate, dateFormat: string, monthLabels: IMyMonthLabels): string {\r\n        if (!date.month && dateFormat.indexOf(MM) === -1) {\r\n            dateFormat = this.delete(dateFormat, MM);\r\n        }\r\n        if (!date.day && dateFormat.indexOf(DD) === -1) {\r\n            dateFormat = this.delete(dateFormat, DD);\r\n        }\r\n        let formatted: string = dateFormat.replace(YYYY, String(date.year));\r\n\r\n        if (dateFormat.indexOf(M) === -1) {\r\n            formatted = formatted.replace(MM, '01');\r\n        } else {\r\n            if (dateFormat.indexOf(MMM) !== -1) {\r\n                formatted = formatted.replace(MMM, monthLabels[date.month]);\r\n            } else if (dateFormat.indexOf(MM) !== -1) {\r\n                formatted = formatted.replace(MM, this.preZero(date.month || 1));\r\n            } else {\r\n                formatted = formatted.replace(M, String(date.month || 1));\r\n            }\r\n        }\r\n\r\n        if (dateFormat.indexOf(DD) === -1) {\r\n            formatted = formatted.replace(DD, '01');\r\n        } else if (dateFormat.indexOf(DD) !== -1) {\r\n            formatted = formatted.replace(DD, this.preZero(date.day || 1));\r\n        } else {\r\n            formatted = formatted.replace(D, String(date.day || 1));\r\n        }\r\n\r\n        formatted = formatted.replace('MM', 'mm').replace('HH', this.preZero(date.hour || 0))\r\n        .replace('mm', this.preZero(date.minute || 0))\r\n        .replace('ss', this.preZero(date.second || 0));\r\n\r\n        return formatted && formatted.length > 2 ? formatted : '';\r\n    }\r\n\r\n    delete(format: string, delStr: string) {\r\n        const re = format.match(/[^(DdMmYy)]{1,}/g);\r\n        const index = format.indexOf(delStr);\r\n\r\n        if (index < 0) {\r\n            return format;\r\n        } else if (index === 0) {\r\n            if (re) {\r\n                return format.substring(3);\r\n            } else {\r\n                return format.substring(2);\r\n            }\r\n        } else if (index + 2 === format.length) {\r\n            if (re) {\r\n                return format.substring(0, format.length - 3);\r\n            } else {\r\n                return format.substring(0, format.length - 2);\r\n            }\r\n        } else {\r\n            if (re) {\r\n                return format.substring(0, index) + format.substring(index + 3);\r\n            } else {\r\n                return format.substring(0, index) + format.substring(index + 2);\r\n            }\r\n        }\r\n    }\r\n    getFormattedDate(model: IMyDateModel): string {\r\n        return !model.isRange ? model.singleDate.formatted : model.dateRange.formatted;\r\n    }\r\n\r\n    preZero(val: number): string {\r\n        return val < 10 ? ZERO_STR + Number(val) : String(val);\r\n    }\r\n\r\n    isInitializedDate(date: IMyDate): boolean {\r\n        return date && date.year !== 0 && date.month !== 0 && date.day !== 0;\r\n    }\r\n\r\n    isInitializedMonth(date: IMyDate): boolean {\r\n        return date && date.year !== 0 && date.month !== 0;\r\n    }\r\n\r\n    isInitializedYear(date: IMyDate): boolean {\r\n        return date && date.year !== 0;\r\n    }\r\n\r\n    isDateEarlier(firstDate: IMyDate, secondDate: IMyDate): boolean {\r\n        return this.getTimeInMilliseconds(firstDate) < this.getTimeInMilliseconds(secondDate);\r\n    }\r\n\r\n    isDateSameOrEarlier(firstDate: IMyDate, secondDate: IMyDate): boolean {\r\n        return this.getTimeInMilliseconds(firstDate) <= this.getTimeInMilliseconds(secondDate);\r\n    }\r\n\r\n    isDateSame(firstDate: IMyDate, secondDate: IMyDate): boolean {\r\n        return this.getTimeInMilliseconds(firstDate) === this.getTimeInMilliseconds(secondDate);\r\n    }\r\n\r\n    isDateRangeBeginOrEndSame(dateRange: IMyDateRange, date: IMyDate): boolean {\r\n        const dateMs: number = this.getTimeInMilliseconds(date);\r\n        return (\r\n            this.getTimeInMilliseconds(dateRange.begin) === dateMs ||\r\n            this.getTimeInMilliseconds(dateRange.end) === dateMs\r\n        );\r\n    }\r\n\r\n    isDateInRange(date: IMyDate, dateRange: IMyDateRange): boolean {\r\n        if (!this.isInitializedDate(dateRange.begin) || !this.isInitializedDate(dateRange.end)) {\r\n            return false;\r\n        }\r\n        return this.isDateSameOrEarlier(dateRange.begin, date) && this.isDateSameOrEarlier(date, dateRange.end);\r\n    }\r\n\r\n    resetDate(): IMyDate {\r\n        return { year: 0, month: 0, day: 0 };\r\n    }\r\n\r\n    getTimeInMilliseconds(date: IMyDate): number {\r\n        return this.getDate(date).getTime();\r\n    }\r\n\r\n    getDate2(date: IMyDate): Date {\r\n        const now = new Date();\r\n\r\n        if (!date.year) {\r\n            date.year = now.getFullYear();\r\n        }\r\n\r\n        if (!date.month) {\r\n            date.month = now.getMonth() + 1;\r\n        }\r\n\r\n        if (!date.day) {\r\n            date.day = 1;\r\n        }\r\n\r\n        return new Date(\r\n            date.year,\r\n            date.month - 1,\r\n            date.day,\r\n            date.hour ? date.hour : 0,\r\n            date.minute ? date.minute : 0,\r\n            date.second ? date.second : 0,\r\n            0\r\n        );\r\n    }\r\n\r\n    getDate(date: IMyDate): Date {\r\n        return new Date(\r\n            date.year || 0,\r\n            date.month ? date.month - 1 : 0,\r\n            date.day || 0,\r\n            date.hour ? date.hour : 0,\r\n            date.minute ? date.minute : 0,\r\n            date.second ? date.second : 0,\r\n            0\r\n        );\r\n    }\r\n\r\n    getDayNumber(date: IMyDate): number {\r\n        return new Date(\r\n            date.year,\r\n            date.month - 1,\r\n            date.day,\r\n            date.hour ? date.hour : 0,\r\n            date.minute ? date.minute : 0,\r\n            date.second ? date.second : 0,\r\n            0\r\n        ).getDay();\r\n    }\r\n\r\n    getWeekdayIndex(wd: string) {\r\n        return this.weekDays.indexOf(wd);\r\n    }\r\n\r\n    getEpocTime(date: IMyDate): number {\r\n        return Math.round(this.getTimeInMilliseconds(date) / 1000.0);\r\n    }\r\n\r\n    getKeyCodeFromEvent(event: any): number {\r\n        const key: any = event.key || event.keyCode;\r\n\r\n        if (key === KeyName.enter || key === KeyCode.enter) {\r\n            return KeyCode.enter;\r\n        } else if (key === KeyName.esc || key === KeyCode.esc) {\r\n            return KeyCode.esc;\r\n        } else if (key === KeyName.space || key === KeyCode.space) {\r\n            return KeyCode.space;\r\n        } else if (key === KeyName.leftArrow || key === KeyCode.leftArrow) {\r\n            return KeyCode.leftArrow;\r\n        } else if (key === KeyName.upArrow || key === KeyCode.upArrow) {\r\n            return KeyCode.upArrow;\r\n        } else if (key === KeyName.rightArrow || key === KeyCode.rightArrow) {\r\n            return KeyCode.rightArrow;\r\n        } else if (key === KeyName.downArrow || key === KeyCode.downArrow) {\r\n            return KeyCode.downArrow;\r\n        } else if (key === KeyName.tab || key === KeyCode.tab) {\r\n            return KeyCode.tab;\r\n        } else if (key === KeyName.shift || key === KeyCode.shift) {\r\n            return KeyCode.shift;\r\n        } else {\r\n            return null;\r\n        }\r\n    }\r\n    getNearDate(now: IMyDate, min: IMyDate, max: IMyDate) {\r\n        const minMilliseconds = this.getTimeInMilliseconds(min)\r\n        const maxMilliseconds = this.getTimeInMilliseconds(max)\r\n        const nowMilliseconds = this.getTimeInMilliseconds(now)\r\n        if (maxMilliseconds - nowMilliseconds > nowMilliseconds - minMilliseconds) {\r\n            return min;\r\n        } else {\r\n            return max;\r\n        }\r\n    }\r\n    // ç¦ç¨æ¶é´å¯¹åºçå°æ¶\r\n    // éä¸­æ¥æç­äºå·¦åºé´æ¥ææ¶ï¼ç¦ç¨å·¦ç«¯ç¹çå·¦é¨å[0ï¼minHourï¼\r\n    // éä¸­æ¥æç­äºå³åºé´æ¥ææ¶ï¼ç¦ç¨å³ç«¯ç¹çå³é¨å(maxHour,23]\r\n    disabledHours(min: IMyDate, max: IMyDate, currentDate: IMyDate) {\r\n        let minHour = min.hour;\r\n        let maxHour = max.hour;\r\n        let res = [];\r\n        if (this.isDateSame({ year: currentDate.year, month: currentDate.month, day: currentDate.day }, { year: min.year, month: min.month, day: min.day })) {\r\n            while (minHour-- >= 0) {\r\n                res.push(minHour);\r\n            }\r\n        }\r\n\r\n        if (this.isDateSame({ year: currentDate.year, month: currentDate.month, day: currentDate.day }, { year: max.year, month: max.month, day: max.day })) {\r\n            while (maxHour++ < 24) {\r\n                res.push(maxHour);\r\n            }\r\n        }\r\n        return res;\r\n    }\r\n    //ç¦ç¨æ¶é´å¯¹åºçåé \r\n    //éä¸­æ¥æç­äºå·¦åºé´æ¥ææ¶ï¼ç¦ç¨å·¦ç«¯ç¹çå·¦é¨å[0ï¼minMinuteï¼\r\n    //éä¸­æ¥æç­äºå³åºé´æ¥ææ¶ï¼ç¦ç¨å³ç«¯ç¹çå³é¨åï¼maxMinuteï¼59]\r\n    disabledMinutes(min: IMyDate, max: IMyDate, _hour: number, currentDate: IMyDate) {\r\n        let maxHour = max.hour;\r\n        let maxMinute = max.minute;\r\n        let minHour = min.hour;\r\n        let minMinute = min.minute;\r\n        let res = [];\r\n        if (this.isDateSame({ year: currentDate.year, month: currentDate.month, day: currentDate.day }, { year: min.year, month: min.month, day: min.day })) {\r\n            if (_hour == minHour) {\r\n                while (minMinute-- >= 0) {\r\n                    res.push(minMinute);\r\n                }\r\n            }\r\n        }\r\n\r\n\r\n        if (this.isDateSame({ year: currentDate.year, month: currentDate.month, day: currentDate.day }, { year: max.year, month: max.month, day: max.day })) {\r\n            if (_hour == maxHour) {\r\n                while (maxMinute++ < 60) {\r\n                    res.push(maxMinute);\r\n                }\r\n            }\r\n        }\r\n\r\n        return res;\r\n\r\n    }\r\n    //ç¦ç¨æ¶é´å¯¹åºçç§ \r\n    //éä¸­æ¥æç­äºå·¦åºé´æ¥ææ¶ï¼ç¦ç¨å·¦ç«¯ç¹çå·¦é¨å[0ï¼minSecondï¼\r\n    //éä¸­æ¥æç­äºå³åºé´æ¥ææ¶ï¼ç¦ç¨å³ç«¯ç¹çå³é¨åï¼maxSecondï¼59]\r\n    disabledSeconds(min: IMyDate, max: IMyDate, _hour: number, _minute: number, currentDate: IMyDate) {\r\n        let maxHour = max.hour;\r\n        let maxMinute = max.minute;\r\n        let maxSecond = max.second;\r\n        let minHour = min.hour;\r\n        let minMinute = min.minute;\r\n        let minSecond = min.second;\r\n        let res = [];\r\n        if (this.isDateSame({ year: currentDate.year, month: currentDate.month, day: currentDate.day }, { year: min.year, month: min.month, day: min.day })) {\r\n            if (_hour == minHour && _minute == minMinute) {\r\n                while (minSecond-- >= 0) {\r\n                    res.push(minSecond);\r\n                }\r\n            }\r\n        }\r\n\r\n        if (this.isDateSame({ year: currentDate.year, month: currentDate.month, day: currentDate.day }, { year: max.year, month: max.month, day: max.day })) {\r\n            if (_hour == maxHour && _minute == maxMinute) {\r\n                while (maxSecond++ < 60) {\r\n                    res.push(maxSecond);\r\n                }\r\n            }\r\n        }\r\n\r\n        return res;\r\n    }\r\n    \r\n    private getDateTypeString(dt: DynamicDateType, dynamicLocale) {\r\n        switch(dt) {\r\n            case 'week':\r\n                return dynamicLocale.week || 'å¨';\r\n            case 'day':\r\n                return dynamicLocale.day || 'å¤©';\r\n            case 'month':\r\n                return dynamicLocale.month || 'æ';\r\n            case 'year':\r\n                return dynamicLocale.year || 'å¹´';\r\n        }\r\n    }\r\n\r\n    formatDynamicValue(val: DynamicData, dynamicLocale) {\r\n        if (val) {\r\n            let fval = '';\r\n            switch(val.name) {\r\n                case 'present_day': // ä»å¤©\r\n                fval = dynamicLocale.today || 'ä»å¤©';\r\n                break;\r\n            case 'present_month': // æ¬æ\r\n                fval = dynamicLocale.presentMonth || 'æ¬æ';\r\n                break;\r\n            case 'present_year':\r\n                fval = dynamicLocale.presentYear ||'æ¬å¹´';\r\n                break;\r\n            case 'previou':\r\n                fval =  (dynamicLocale.previous|| 'è¿å»') + ' ' + val.count + ' ' + this.getDateTypeString(val.dateType, dynamicLocale);\r\n                break;\r\n            case 'future':\r\n                fval = (dynamicLocale.future || 'æªæ¥') + ' '+ val.count + ' ' +this.getDateTypeString(val.dateType, dynamicLocale);\r\n                break;\r\n            case 'present_first':\r\n                fval = (dynamicLocale.current||'æ¬') + this.getDateTypeString(val.dateType, dynamicLocale) + (dynamicLocale.first||'ç¬¬ 1 å¤©');\r\n                break;\r\n            case 'present_last':\r\n                fval = (dynamicLocale.current||'æ¬') + this.getDateTypeString(val.dateType, dynamicLocale) + (dynamicLocale.last||'æå 1 å¤©');\r\n                break;\r\n            }\r\n\r\n            return fval;\r\n        } else {\r\n            return '';\r\n        }\r\n    }\r\n\r\n    padStartZero(str: any) {\r\n        if(str != null  && str !== undefined) {\r\n            return  ('' + str).padStart(2, '0');\r\n        }\r\n\r\n        return  '00';\r\n    }\r\n\r\n    orderSelectedDates(items, order: MultiSelectedOrderBy = 'none') {\r\n        if (order !== 'asc' && order !== 'desc') {\r\n            order = 'none';\r\n        }\r\n\r\n        if (order === 'none') {\r\n            return items;\r\n        }\r\n\r\n        return orderBy(items, ['year', 'month', 'day'], [order, order, order]);\r\n    }\r\n}\r\n","import { IMyDate, IMyDateRange, IMySelectorPosition, IMyOptions } from '../interfaces/public-api';\r\nimport { PX, EMPTY_STR } from '../constants/constants';\r\nimport { Year } from '../enums/year.enum';\r\nimport { UtilService } from './farris-datepicker.util.service';\r\nimport { ComponentRef } from '@angular/core';\r\n\r\nexport class DatePickerService {\r\n    opts;\r\n    utilService;\r\n\r\n    private _mouseWheelHandle = null;\r\n    private _mouseScrollHandle = null;\r\n\r\n    constructor(opts) {\r\n        this.opts = opts;\r\n        this.utilService = new UtilService();\r\n    }\r\n\r\n    static parseOptions(opts: IMyOptions, defaultOpts): IMyOptions {\r\n        if (defaultOpts !== undefined) {\r\n            Object.keys(defaultOpts).forEach(k => {\r\n                if (defaultOpts[k] !== undefined && defaultOpts[k] !== '') {\r\n                    (opts as IMyOptions)[k] = defaultOpts[k];\r\n                }\r\n            });\r\n        }\r\n        if (opts.minYear < Year.min) {\r\n            opts.minYear = Year.min;\r\n        }\r\n        if (opts.maxYear > Year.max) {\r\n            opts.maxYear = Year.max;\r\n        }\r\n        return opts;\r\n    }\r\n\r\n    validate(value: string) {\r\n        const { dateRange } = this.opts;\r\n\r\n        let valid = false;\r\n        if (!dateRange) {\r\n            const date: IMyDate = this.utilService.isDateValid(value, this.opts);\r\n\r\n            valid = this.utilService.isInitializedDate(date);\r\n        } else {\r\n            const _dateRange: IMyDateRange = this.utilService.isDateValidDateRange(value, this.opts);\r\n            const { begin, end } = _dateRange;\r\n            valid = this.utilService.isInitializedDate(begin) && this.utilService.isInitializedDate(end);\r\n        }\r\n\r\n        return valid;\r\n    }\r\n\r\n    registerScrollEvent(fn) {\r\n        this._mouseScrollHandle = fn;\r\n        document.addEventListener('scroll', this._mouseScrollHandle);\r\n    }\r\n\r\n\r\n    removeMouseEvent() {\r\n        const container = document.querySelector('.date-overlay-container');\r\n        if (container) {\r\n            container.removeEventListener('mousewheel', this._mouseWheelHandle);\r\n        }\r\n\r\n        document.removeEventListener('scroll', this._mouseScrollHandle);\r\n    }\r\n\r\n    appendSelector(elem: any): void {\r\n        let container = document.querySelector('.date-overlay-container');\r\n        if (container) {\r\n            if (container.hasChildNodes()) {\r\n                container.childNodes.forEach(el => {\r\n                    if (el !== elem) {\r\n                        container.removeChild(el);\r\n                    }\r\n                });\r\n            }\r\n        } else {\r\n            container = document.createElement('div');\r\n            container.classList.add('date-overlay-container');\r\n            container.classList.add('overlay-container');\r\n            document.body.appendChild(container);\r\n        }\r\n\r\n        container.addEventListener('mousewheel', this._mouseWheelHandle = (e: MouseEvent) => {\r\n            const target = e.target as any;\r\n            if (!target.closest('.calendar-time-picker-select')) {\r\n                e.preventDefault();\r\n            }\r\n            return;\r\n        });\r\n\r\n        container.appendChild(elem);\r\n    }\r\n\r\n    getSelectorPosition(elem: any, calendarRef: ComponentRef<any>  = null): IMySelectorPosition {\r\n        let top = 0;\r\n        let left = 0;\r\n        let _selectorHeight = 0;\r\n        let _selectorWidth = 0;\r\n        const {\r\n            selectorHeight,\r\n            selectorWidth,\r\n            showTime,\r\n            dateRange,\r\n            showType,\r\n            enableDynamic,\r\n            showPresent,\r\n            multiSelect,\r\n            viewType\r\n        } = this.opts;\r\n\r\n        const b: any = document.body.getBoundingClientRect();\r\n        const e: any = elem.getBoundingClientRect();\r\n        top = e.top - b.top;\r\n        left = e.left - b.left;\r\n        let position = 'bottom';\r\n        if ((dateRange || multiSelect || (viewType === 'together' && showTime)) && showType !== 4) {\r\n            _selectorWidth = this.getSelectorDimension(selectorWidth) * 2;\r\n        } else {\r\n            _selectorWidth = this.getSelectorDimension(selectorWidth);\r\n        }\r\n\r\n        _selectorHeight = this.getSelectorDimension(selectorHeight);\r\n        // if (showTime || enableDynamic) {\r\n        //     top = top - 6;\r\n        // }\r\n\r\n        top = top - 6;\r\n        if ((showPresent &&  (!dateRange || showType === 4)) || showTime || enableDynamic) {\r\n            _selectorHeight += 45;\r\n        }\r\n\r\n        if (top + elem.offsetHeight + _selectorHeight > window.innerHeight && top - _selectorHeight - 2 > 0) {\r\n            top = top - _selectorHeight - 2 ;\r\n            position = 'top';\r\n        } else {\r\n            top = top + elem.offsetHeight + 2;\r\n        }\r\n\r\n        if (window.innerHeight - top < _selectorHeight) {\r\n            top = top - (_selectorHeight - (window.innerHeight - e.top - e.height - 15));\r\n\r\n            if (calendarRef) {\r\n                const calendarElem = calendarRef.location.nativeElement;\r\n                const arrow = calendarElem.querySelector('.arrow');\r\n                if (arrow) {\r\n                    arrow.style.display = 'none';\r\n                }\r\n            }\r\n        }\r\n\r\n        if (left + _selectorWidth > b.width) {\r\n            left = b.width - _selectorWidth - 15;\r\n        }\r\n        left = left > 0 ? left : 0;\r\n\r\n        const scrollTop = document.body.scrollTop || document.documentElement.scrollTop;\r\n        top -= scrollTop;\r\n\r\n        return { top, left, position };\r\n    }\r\n    private getSelectorDimension(value: string): number {\r\n        return Number(value.replace(PX, EMPTY_STR));\r\n    }\r\n\r\n}\r\n","import { IMyDayLabels } from './my-day-labels.interface';\r\nimport { IMyMonthLabels } from './my-month-labels.interface';\r\nimport { IMyDate } from './my-date.interface';\r\nimport { IMyDateRange } from './my-date-range.interface';\r\nimport { IMyMarkedDates } from './my-marked-dates.interface';\r\nimport { IMyMarkedDate } from './my-marked-date.interface';\r\nimport { IMyStyles } from './my-styles.interface';\r\nimport { DefaultView } from '../enums/default-view.enum';\r\nimport { Year } from '../enums/year.enum';\r\nimport { IMyShortcuts } from './my-shortcuts.interface';\r\nimport { ShowType } from '../enums/show-type.enum';\r\nimport { DynamicData } from './dynamic-data-type.interface';\r\n\r\n\r\nexport interface IMyOptions {\r\n    dateRange?: boolean;\r\n    showTime?: boolean;\r\n    showType?: ShowType;\r\n    dayLabels?: IMyDayLabels;\r\n    monthLabels?: IMyMonthLabels;\r\n    yearTxt?: string;\r\n    dateFormat?: string;\r\n    defaultView?: DefaultView;\r\n    /** æ¯å¨èµ·å§æ¥  å¯éå¼ moï¼å¨ä¸,  su: å¨æ¥ï¼é»è®¤ä¸º moå¨ä¸ */\r\n    firstDayOfWeek?: string;\r\n    satHighlight?: boolean;\r\n    sunHighlight?: boolean;\r\n    highlightDates?: Array<IMyDate>;\r\n    markCurrentDay?: boolean;\r\n    markCurrentMonth?: boolean;\r\n    markCurrentYear?: boolean;\r\n    monthSelector?: boolean;\r\n    yearSelector?: boolean;\r\n    disableHeaderButtons?: boolean;\r\n    showWeekNumbers?: boolean;\r\n    selectorHeight?: string;\r\n    selectorWidth?: string;\r\n    disableUntil?: IMyDate;\r\n    disableSince?: IMyDate;\r\n    disableDates?: Array<IMyDate>;\r\n    disableDateRanges?: Array<IMyDateRange>;\r\n    disableWeekends?: boolean;\r\n    disableWeekdays?: Array<string>;\r\n    enableDates?: Array<IMyDate>;\r\n    markDates?: Array<IMyMarkedDates>;\r\n    markWeekends?: IMyMarkedDate;\r\n    closeSelectorOnDateSelect?: boolean;\r\n    closeSelectorOnDocumentClick?: boolean;\r\n    minYear?: Year;\r\n    maxYear?: Year;\r\n    focusInputOnDateSelect?: boolean;\r\n    moveFocusByArrowKeys?: boolean;\r\n    dateRangeDatesDelimiter?: string;\r\n    inputFieldValidation?: boolean;\r\n    stylesData?: IMyStyles;\r\n    ariaLabelPrevMonth?: string;\r\n    ariaLabelNextMonth?: string;\r\n    shortcuts?: Array<IMyShortcuts>;\r\n    timeBtnText?: string;\r\n    dateBtnText?: string;\r\n    commitBtnText?: string;\r\n    weekText?: string;\r\n    returnFormat?: string;\r\n    placeholder?: string;\r\n    timeFormat?: string;\r\n    range?: any;\r\n    monthRangeValue?: number;\r\n    message?: any;\r\n   \r\n    viewType?: ViewType | string;\r\n    enableDynamic?: boolean;\r\n    showDynamicView?: boolean;\r\n    dynamicValue?: DynamicData;\r\n    // å¨ææ¥æåéæ´æ°\r\n    dynamicValueChanged?: (e: {text: string, value: {}}) => void;\r\n    /** å¨ææ¥æï¼è¿å»æ¶é´æå¤§å¤©æ° */\r\n    previousMaxDays?: number;\r\n    /** å¨ææ¥æï¼æªæ¥æ¥ææå¤§å¤©æ° */\r\n    futureMaxDays?: number;\r\n    /** å¨ææ¥æå¤è¯­èµæº  */\r\n    dynamicLocale?: any;\r\n    /** æ¾ç¤ºä»å¤©ï¼æ¬å¹´ï¼æ¬æ æé® */\r\n    showPresent?: boolean;\r\n\r\n    hourStep?: number;\r\n    minuteStep?: number;\r\n    secondStep?: number;\r\n\r\n    /** æ¯å¦å¯ç¨å¤é */\r\n    multiSelect?: boolean;\r\n    /** å¤éåéç¬¦ */\r\n    separator?: string;\r\n    /** åè®¸æå¤§éæ©æ¥ææ°éï¼é»è®¤ä¸º0 æ ééæ© */\r\n    maxSelected?: number;\r\n    /** éä¸­çæ¥æåè¡¨æ¯å¦è¿è¡æåºï¼å¯é 'none'|'asc'|'desc', é»è®¤ä¸º â0â å³ä¸å¯ç¨æåº */\r\n    selectedOrderBy?: MultiSelectedOrderBy;\r\n    /** æ¥æå¤éå¤è¯­èµæº */\r\n    mulstiDatesLocale?: any;\r\n}\r\n\r\n\r\n\r\n /** æ¥æä¸æ¶é´å±ç¤ºæ¹å¼ï¼switch: è¦ä¹å±ç°æ¥æï¼è¦ä¹å±ç°æ¶é´è§å¾ï¼together: æ¥æä¸æ¶é´ä¸èµ·å±ç°ï¼å·¦ä¾§æ¾ç¤ºæ¥æï¼å³ä¾§æ¾ç¤ºæ¶é´ï¼é»è®¤ä¸º switch */\r\nexport enum ViewType {\r\n    Switch = 'switch',\r\n    Together = 'together'\r\n};\r\n\r\nexport type MultiSelectedOrderBy = 'none'|'asc'|'desc';","import { Component, ElementRef, ViewEncapsulation, ViewChild, Renderer2, ChangeDetectorRef, HostBinding, Output, EventEmitter } from '@angular/core';\r\nimport {\r\n    IMyDate, IMyDateRange, IMyMonth, IMyCalendarDay, IMyCalendarMonth, IMyCalendarYear,\r\n    IMyWeek, IMyOptions, IMySelectorPosition, IMyCalendarViewChanged, IMyRangeDateSelection, IMyDateModel,\r\n    IMyMonthRow\r\n} from '../../interfaces/public-api';\r\nimport { UtilService } from '../../services/public-api';\r\nimport { DefaultView, KeyCode, MonthId, ResetDateType } from '../../enums/public-api';\r\nimport {\r\n    DOT, UNDER_LINE, D, M, Y, DATE_ROW_COUNT, DATE_COL_COUNT, MONTH_ROW_COUNT, MONTH_COL_COUNT,\r\n    YEAR_ROW_COUNT, YEAR_COL_COUNT, SU, MO, TU, WE, TH, FR, SA, EMPTY_STR, STYLE\r\n} from '../../constants/constants';\r\nimport { TimePickerPanelComponent } from '@farris/ui-time-picker';\r\nimport { flatten, cloneDeep, sortBy, orderBy } from 'lodash-es';\r\nimport { ViewType } from '../../interfaces/my-options.interface';\r\nimport { DateTimeHelperService } from '@farris/ui-common/date';\r\n\r\n@Component({\r\n    selector: 'farris-datepicker-calendar',\r\n    templateUrl: './calendar.component.html',\r\n    providers: [UtilService],\r\n    encapsulation: ViewEncapsulation.None\r\n})\r\nexport class CalendarComponent {\r\n    @ViewChild('selectorEl') selectorEl: ElementRef;\r\n    @ViewChild('styleEl') styleEl: ElementRef;\r\n    @ViewChild('endTimeRef') endTimeRef: TimePickerPanelComponent;\r\n    @ViewChild('dynamicViewEle') dynamicViewEle: ElementRef;\r\n\r\n    @HostBinding('style.position') position = 'static';\r\n\r\n    @Output() dynamicViewShow = new EventEmitter();\r\n\r\n    dateHlp: DateTimeHelperService = null;\r\n\r\n    opts: IMyOptions;\r\n    visibleMonth: IMyMonth = { monthTxt: EMPTY_STR, monthNbr: 0, year: 0, yearTxt: EMPTY_STR };\r\n    visibleMonth_range: IMyMonth = { monthTxt: EMPTY_STR, monthNbr: 0, year: 0, yearTxt: EMPTY_STR };\r\n    selectedMonth: IMyMonth = { monthNbr: 0, year: 0 };\r\n    selectedMonth_range: IMyMonth = { monthNbr: 0, year: 0 };\r\n    selectedDate: IMyDate = { year: 0, month: 0, day: 0 };\r\n    selectedDateRange: IMyDateRange = { begin: { year: 0, month: 0, day: 0 }, end: { year: 0, month: 0, day: 0 } };\r\n    selectedWeek: IMyWeek = { weekNbr: 0, year: 0 };\r\n    weekDays: Array<string> = [];\r\n    dates: Array<IMyWeek> = [];\r\n    dates_range: Array<IMyWeek> = [];\r\n    months: Array<IMyMonthRow> = [];\r\n    months_range: Array<IMyMonthRow> = [];\r\n    years: Array<Array<IMyCalendarYear>> = [];\r\n    years_range: Array<Array<IMyCalendarYear>> = [];\r\n    timeVlaue: string;\r\n    timeVlaue_range: string;\r\n\r\n    multiSelect = false;\r\n\r\n    dayIdx = 0;\r\n    weekDayOpts: Array<string> = [SU, MO, TU, WE, TH, FR, SA];\r\n\r\n    selectMonth = false;\r\n    selectMonth_range = false;\r\n    selectYear = false;\r\n    selectYear_range = false;\r\n    selectTime = false;\r\n\r\n    dateChanged: (dm: IMyDateModel, close: boolean) => void;\r\n    calendarViewChanged: (cvc: IMyCalendarViewChanged) => void;\r\n    rangeDateSelection: (rds: IMyRangeDateSelection) => void;\r\n    multiDatesChanged: (dates: any[]) => void;\r\n\r\n    closedByEsc: () => void;\r\n    selectorPos: IMySelectorPosition = null;\r\n    scrollDiff = 0;\r\n\r\n    prevViewDisabled = false;\r\n    nextViewDisabled = false;\r\n    prevDobViewDisabled = false;\r\n    nextDobViewDisabled = false;\r\n\r\n    prevViewDisabled_range = false;\r\n    nextViewDisabled_range = false;\r\n    prevDobViewDisabled_range = false;\r\n    nextDobViewDisabled_range = false;\r\n\r\n    showNotify: () => void;\r\n\r\n    /** å¤é */\r\n    selectedDates = [];\r\n\r\n    getTimeStr(date: Date): string {\r\n        const hour = this.utilService.preZero(date.getHours());\r\n        const minute = this.utilService.preZero(date.getMinutes());\r\n        const second = this.utilService.preZero(date.getSeconds());\r\n        return `${hour}:${minute}:${second}`;\r\n    }\r\n    // ç¦ç¨æ¥ææ¶é´æ§ä»¶ä¸­çæ¶é´æ®µçå°æ¶\r\n    disabledHours = () => {\r\n        const min = this.opts.disableUntil;\r\n        const max = this.opts.disableSince;\r\n        const currentDate = this.opts.dateRange ? this.selectedDateRange.begin : this.selectedDate;\r\n        const res = this.utilService.disabledHours(min, max, currentDate);\r\n        return res;\r\n    }\r\n    // ç¦ç¨æ¥ææ¶é´æ§ä»¶ä¸­çæ¶é´æ®µçåé\r\n    disabledMinutes = (hour: number) => {\r\n        const min = this.opts.disableUntil;\r\n        const max = this.opts.disableSince;\r\n        const currentDate = this.opts.dateRange ? this.selectedDateRange.begin : this.selectedDate;\r\n        const res = this.utilService.disabledMinutes(min, max, hour, currentDate);\r\n        return res;\r\n    }\r\n    // ç¦ç¨æ¥ææ¶é´æ§ä»¶ä¸­çæ¶é´æ®µçç§\r\n    disabledSeconds = (hour: number, minute: number) => {\r\n        const min = this.opts.disableUntil;\r\n        const max = this.opts.disableSince;\r\n        const currentDate = this.opts.dateRange ? this.selectedDateRange.begin : this.selectedDate;\r\n        const res = this.utilService.disabledSeconds(min, max, hour, minute, currentDate);\r\n        return res;\r\n    }\r\n\r\n\r\n    disabledHours2 = () => {\r\n        const min = this.opts.disableUntil;\r\n        const max = this.opts.disableSince;\r\n        const currentDate = this.opts.dateRange ? this.selectedDateRange.end : this.selectedDate;\r\n        const res = this.utilService.disabledHours(min, max, currentDate);\r\n        return res;\r\n    }\r\n    // ç¦ç¨æ¥ææ¶é´æ§ä»¶ä¸­çæ¶é´æ®µçåé\r\n    disabledMinutes2 = (hour: number) => {\r\n        const min = this.opts.disableUntil;\r\n        const max = this.opts.disableSince;\r\n        const currentDate = this.opts.dateRange ? this.selectedDateRange.end : this.selectedDate;\r\n        const res = this.utilService.disabledMinutes(min, max, hour, currentDate);\r\n        return res;\r\n    }\r\n    // ç¦ç¨æ¥ææ¶é´æ§ä»¶ä¸­çæ¶é´æ®µçç§\r\n    disabledSeconds2 = (hour: number, minute: number) => {\r\n        const min = this.opts.disableUntil;\r\n        const max = this.opts.disableSince;\r\n        const currentDate = this.opts.dateRange ? this.selectedDateRange.end : this.selectedDate;\r\n        const res = this.utilService.disabledSeconds(min, max, hour, minute, currentDate);\r\n        return res;\r\n    }\r\n\r\n    btnDynamicDisabled = true;\r\n\r\n    constructor(private renderer: Renderer2, private cdr: ChangeDetectorRef, private utilService: UtilService) { }\r\n\r\n    initialize(\r\n        opts: IMyOptions,\r\n        defaultMonth: string,\r\n        selectorPos: IMySelectorPosition,\r\n        inputValue: string,\r\n        dc: (dm: IMyDateModel, close: boolean) => void,\r\n        cvc: (cvc: IMyCalendarViewChanged) => void,\r\n        rds: (rds: IMyRangeDateSelection) => void,\r\n        cbe: () => void\r\n    ): void {\r\n        this.opts = opts;\r\n        this.selectorPos = selectorPos;\r\n        this.weekDays.length = 0;\r\n        const { defaultView, dateRange, firstDayOfWeek, dayLabels, stylesData, yearTxt, multiSelect, separator, selectedOrderBy } = this.opts;\r\n        this.visibleMonth.yearTxt = yearTxt;\r\n        this.visibleMonth_range.yearTxt = yearTxt;\r\n        this.multiSelect = multiSelect;\r\n        // if (stylesData.styles.length) {\r\n        //     const styleElTemp: any = this.renderer.createElement(STYLE);\r\n        //     this.renderer.appendChild(styleElTemp, this.renderer.createText(stylesData.styles));\r\n        //     this.renderer.appendChild(this.styleEl.nativeElement, styleElTemp);\r\n        // }\r\n\r\n        this.dayIdx = this.weekDayOpts.indexOf(firstDayOfWeek);\r\n        if (this.dayIdx !== -1) {\r\n            let idx: number = this.dayIdx;\r\n            // tslint:disable-next-line:prefer-for-of\r\n            for (let i = 0; i < this.weekDayOpts.length; i++) {\r\n                this.weekDays.push(dayLabels[this.weekDayOpts[idx]]);\r\n                idx = this.weekDayOpts[idx] === SA ? 0 : idx + 1;\r\n            }\r\n        }\r\n        let today: IMyDate = this.getToday();\r\n        const isInDisableRange = this.utilService.isDisabledDate(today, this.opts);\r\n        today = !isInDisableRange ? today : this.utilService.getNearDate(today, this.opts.disableUntil, this.opts.disableSince);\r\n\r\n        switch (defaultView) {\r\n            case DefaultView.Month:\r\n                this.selectedMonth = { monthNbr: 0, year: today.year };\r\n                this.selectedMonth_range = { monthNbr: 0, year: today.year + 1 };\r\n                break;\r\n            case DefaultView.Year:\r\n                this.selectedMonth = { monthNbr: 0, year: today.year };\r\n                this.selectedMonth_range = { monthNbr: 0, year: today.year + 10 };\r\n                break;\r\n            default:\r\n                this.selectedMonth = { monthNbr: today.month, year: today.year };\r\n                if (today.month >= 12) {\r\n                    this.selectedMonth_range = { monthNbr: 1, year: today.year + 1 };\r\n                } else {\r\n                    this.selectedMonth_range = { monthNbr: today.month + this.opts.monthRangeValue, year: today.year };\r\n                }\r\n                break;\r\n        }\r\n        if (defaultMonth && defaultMonth.length) {\r\n            this.selectedMonth = this.utilService.parseDefaultMonth(defaultMonth);\r\n            this.selectedMonth_range = this.utilService.parseDefaultMonth(defaultMonth);\r\n            if (this.selectedMonth_range.monthNbr >= 12) {\r\n                this.selectedMonth_range.year++;\r\n                this.selectedMonth_range.monthNbr = 1;\r\n            } else {\r\n                this.selectedMonth_range.monthNbr = this.selectedMonth_range.monthNbr + this.opts.monthRangeValue;\r\n            }\r\n        }\r\n\r\n        // æ¥æå¤é\r\n        if (this.multiSelect && inputValue) {\r\n            this.selectedDates = inputValue.split(separator).map(n => {\r\n\r\n                if (this.opts.returnFormat === 'yyyyMMdd') {\r\n                    if (n.length > 8) {\r\n                        n = this.dateHlp.formatTo(n, this.opts.returnFormat);\r\n                    }\r\n                }\r\n\r\n                const _dObj = this.utilService.isDateValid(n, this.opts, true);\r\n\r\n                return {\r\n                    ..._dObj,\r\n                    value: this.utilService.formatDate(_dObj, this.opts.dateFormat, this.opts.monthLabels)\r\n                };\r\n            });\r\n\r\n            this.selectedDates = this.utilService.orderSelectedDates(this.selectedDates, selectedOrderBy);\r\n\r\n        } else {\r\n            if (!dateRange) {\r\n                // Single date mode\r\n                const date: IMyDate = this.utilService.isDateValid(inputValue, this.opts, true);\r\n                if (this.utilService.isInitializedDate(date)) {\r\n                    this.selectedDate = date;\r\n                    const hour = this.utilService.preZero(date.hour);\r\n                    const minute = this.utilService.preZero(date.minute);\r\n                    const second = this.utilService.preZero(date.second);\r\n                    this.timeVlaue = `${hour}:${minute}:${second}`;\r\n                    this.selectedMonth = { monthNbr: date.month, year: date.year };\r\n                }\r\n            } else {\r\n                // Date range mode\r\n                const { begin, end } = this.utilService.isDateValidDateRange(inputValue, this.opts);\r\n                if (this.utilService.isInitializedDate(begin) && this.utilService.isInitializedDate(end)) {\r\n                    this.selectedDateRange = { begin, end };\r\n                    const hour = this.utilService.preZero(begin.hour);\r\n                    const minute = this.utilService.preZero(begin.minute);\r\n                    const second = this.utilService.preZero(begin.second);\r\n                    this.timeVlaue = `${hour}:${minute}:${second}`;\r\n                    const _hour = this.utilService.preZero(end.hour);\r\n                    const _minute = this.utilService.preZero(end.minute);\r\n                    const _second = this.utilService.preZero(end.second);\r\n                    this.timeVlaue_range = `${_hour}:${_minute}:${_second}`;\r\n\r\n                    this.selectedMonth = { monthNbr: begin.month, year: begin.year };\r\n\r\n                    if (begin.month === end.month && begin.year === end.year) {\r\n                        if (end.month >= 12) {\r\n                            this.selectedMonth_range = { monthNbr: 1, year: end.year + 1 };\r\n                        } else {\r\n                            let endyear = end.year;\r\n                            if (defaultView === DefaultView.Month) {\r\n                                endyear = endyear + 1;\r\n                            }\r\n\r\n                            this.selectedMonth_range = { monthNbr: end.month + this.opts.monthRangeValue, year: endyear };\r\n                        }\r\n                    } else {\r\n                        if (defaultView === DefaultView.Month && begin.year === end.year) {\r\n                            this.selectedMonth_range = { monthNbr: end.month, year: end.year + 1 };\r\n                        } else {\r\n                            this.selectedMonth_range = { monthNbr: end.month, year: end.year };\r\n                        }\r\n                    }\r\n\r\n                    // tfs 579358\r\n                    // let endDayWeekNbr = this.utilService.getWeekNumber(end);\r\n                    // if (this.opts.firstDayOfWeek === 'su') {\r\n                    //     endDayWeekNbr -= 1;\r\n                    // }\r\n                    // const weekNbr = this.utilService.getWeekNumber(begin) === endDayWeekNbr ? this.utilService.getWeekNumber(begin): 0;\r\n                    const dateObj = this.opts.firstDayOfWeek == 'su' ? end: begin;\r\n                    let weekNbr = this.utilService.getWeekNumber(dateObj);\r\n\r\n                    this.selectedWeek = { weekNbr, year: begin.year };\r\n                }\r\n\r\n            }\r\n        }\r\n\r\n        this.dateChanged = dc;\r\n        this.calendarViewChanged = cvc;\r\n        this.rangeDateSelection = rds;\r\n        this.closedByEsc = cbe;\r\n        this.setCalendarVisibleMonth();\r\n\r\n        if (defaultView === DefaultView.Month) {\r\n            this.onMonthViewBtnClicked();\r\n            if (dateRange) {\r\n                this.onMonthViewBtnClicked(true);\r\n            }\r\n        } else if (defaultView === DefaultView.Year) {\r\n            this.onYearViewBtnClicked();\r\n            if (dateRange) {\r\n                this.onYearViewBtnClicked(true);\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    resetDateValue(value: ResetDateType): void {\r\n        if (value === ResetDateType.singleDate || value === ResetDateType.both) {\r\n            this.selectedDate = this.utilService.resetDate();\r\n        }\r\n        if (value === ResetDateType.dateRange || value === ResetDateType.both) {\r\n            this.selectedDateRange.begin = this.utilService.resetDate();\r\n            this.selectedDateRange.end = this.utilService.resetDate();\r\n        }\r\n    }\r\n\r\n    resetMonthYearSelect(isSecondCalendar?: boolean): void {\r\n        if (!isSecondCalendar) {\r\n            this.selectMonth = false;\r\n            this.selectYear = false;\r\n        } else {\r\n            this.selectMonth_range = false;\r\n            this.selectYear_range = false;\r\n        }\r\n    }\r\n\r\n    onMonthViewBtnClicked(isSecondCalendar?: boolean): void {\r\n        this.selectTime = false;\r\n        if (!isSecondCalendar) {\r\n            this.selectMonth = !this.selectMonth;\r\n            this.selectYear = false;\r\n            if (this.selectMonth) {\r\n                this.generateMonths(isSecondCalendar);\r\n            } else {\r\n                this.visibleMonth.year = this.selectedMonth.year;\r\n            }\r\n        } else {\r\n            this.selectMonth_range = !this.selectMonth_range;\r\n            this.selectYear_range = false;\r\n            if (this.selectMonth_range) {\r\n                this.generateMonths(isSecondCalendar);\r\n            } else {\r\n                this.visibleMonth_range.year = this.selectedMonth_range.year;\r\n            }\r\n            this.cdr.detectChanges();\r\n        }\r\n    }\r\n\r\n    onMonthCellClicked(cell: IMyCalendarMonth, isSecondCalendar: boolean): void {\r\n        if (!isSecondCalendar) {\r\n            const { year, monthNbr } = this.visibleMonth;\r\n\r\n            const mc: boolean = cell.nbr !== monthNbr;\r\n            this.visibleMonth = {\r\n                monthTxt: this.opts.monthLabels[cell.nbr],\r\n                monthNbr: cell.nbr,\r\n                year,\r\n                yearTxt: this.opts.yearTxt\r\n            };\r\n            this.selectedMonth.year = this.visibleMonth.year;\r\n            if (this.opts.showType === 2) {\r\n                this.toSelectMonth(this.visibleMonth);\r\n            } else {\r\n                this.generateCalendar(cell.nbr, year, mc, isSecondCalendar);\r\n                this.selectMonth = false;\r\n            }\r\n        } else {\r\n            const { year, monthNbr } = this.visibleMonth_range;\r\n\r\n            const mc: boolean = cell.nbr !== monthNbr;\r\n            this.visibleMonth_range = {\r\n                monthTxt: this.opts.monthLabels[cell.nbr],\r\n                monthNbr: cell.nbr,\r\n                year,\r\n                yearTxt: this.opts.yearTxt\r\n            };\r\n            this.selectedMonth_range.year = this.visibleMonth_range.year;\r\n            if (this.opts.showType === 2) {\r\n                this.toSelectMonth(this.visibleMonth_range);\r\n            } else {\r\n                this.generateCalendar(cell.nbr, year, mc, isSecondCalendar);\r\n                this.selectMonth_range = false;\r\n            }\r\n        }\r\n    }\r\n\r\n    onMonthCellKeyDown(cell: IMyCalendarMonth) {\r\n        // Make possible to move focus by arrow keys\r\n        const { sourceRow, sourceCol } = this.getSourceRowAndColumnFromEvent(event);\r\n        const { moveFocus, targetRow, targetCol } = this.getTargetFocusRowAndColumn(\r\n            event,\r\n            sourceRow,\r\n            sourceCol,\r\n            MONTH_ROW_COUNT,\r\n            MONTH_COL_COUNT\r\n        );\r\n\r\n        if (moveFocus) {\r\n            this.focusCellElement(M, targetRow, targetCol);\r\n        }\r\n    }\r\n\r\n    onYearViewBtnClicked(isSecondCalendar?: boolean): void {\r\n        this.selectTime = false;\r\n        if (!isSecondCalendar) {\r\n            this.visibleMonth.year = this.selectedMonth.year;\r\n            if (!this.selectYear) {\r\n                this.generateYears(this.visibleMonth.year, isSecondCalendar);\r\n            } else {\r\n                this.generateCalendar(this.visibleMonth.monthNbr, this.visibleMonth.year, false, isSecondCalendar);\r\n            }\r\n\r\n            this.selectYear = this.opts.showType === 3 ? true : !this.selectYear;\r\n            if (this.opts.showType === 2) {\r\n                this.selectMonth = !this.selectMonth;\r\n            } else {\r\n                this.selectMonth = false;\r\n            }\r\n            // this.selectYear = !this.selectYear;\r\n            // this.selectMonth = false;\r\n        } else {\r\n            this.visibleMonth_range.year = this.selectedMonth_range.year;\r\n            if (!this.selectYear_range) {\r\n                this.generateYears(this.visibleMonth_range.year, isSecondCalendar);\r\n            } else {\r\n                this.generateCalendar(this.visibleMonth_range.monthNbr, this.visibleMonth_range.year, false, isSecondCalendar);\r\n            }\r\n            this.selectYear_range = this.opts.showType === 3 ? true : !this.selectYear_range;\r\n            if (this.opts.showType === 2) {\r\n                this.selectMonth_range = !this.selectMonth_range;\r\n            } else {\r\n                this.selectMonth_range = false;\r\n            }\r\n        }\r\n        this.cdr.detectChanges();\r\n    }\r\n\r\n    onYearCellClicked(cell: IMyCalendarYear, isSecondCalendar?: boolean): void {\r\n        if (!isSecondCalendar) {\r\n            const { year, monthNbr, monthTxt } = this.visibleMonth;\r\n\r\n            const yc: boolean = cell.year !== year;\r\n            this.visibleMonth = { monthTxt, monthNbr, year: cell.year, yearTxt: this.opts.yearTxt };\r\n            this.selectedMonth.year = this.visibleMonth.year;\r\n            if (this.opts.showType === 3) {\r\n                this.toSelectYear({ year: this.visibleMonth.year });\r\n            } else if (this.opts.showType === 2) {\r\n                this.generateMonths(isSecondCalendar);\r\n                this.selectYear = false;\r\n                this.selectMonth = true;\r\n            } else {\r\n                this.generateCalendar(monthNbr, cell.year, yc, isSecondCalendar);\r\n                this.selectYear = false;\r\n            }\r\n        } else {\r\n            const { year, monthNbr, monthTxt } = this.visibleMonth_range;\r\n\r\n            const yc: boolean = cell.year !== year;\r\n            this.visibleMonth_range = {\r\n                monthTxt,\r\n                monthNbr,\r\n                year: cell.year,\r\n                yearTxt: this.opts.yearTxt\r\n            };\r\n            this.selectedMonth_range.year = this.visibleMonth_range.year;\r\n            if (this.opts.showType === 3) {\r\n                this.toSelectYear({ year: this.visibleMonth_range.year });\r\n            } else if (this.opts.showType === 2) {\r\n                this.generateMonths(isSecondCalendar);\r\n                this.selectYear_range = false;\r\n                this.selectMonth_range = true;\r\n            } else {\r\n                this.generateCalendar(monthNbr, cell.year, yc, isSecondCalendar);\r\n                this.selectYear_range = false;\r\n            }\r\n        }\r\n    }\r\n\r\n    onYearCellKeyDown(cell: IMyCalendarYear) {\r\n        // Make possible to move focus by arrow keys\r\n        const { sourceRow, sourceCol } = this.getSourceRowAndColumnFromEvent(event);\r\n        const { moveFocus, targetRow, targetCol } = this.getTargetFocusRowAndColumn(\r\n            event,\r\n            sourceRow,\r\n            sourceCol,\r\n            YEAR_ROW_COUNT,\r\n            YEAR_COL_COUNT\r\n        );\r\n\r\n        if (moveFocus) {\r\n            this.focusCellElement(Y, targetRow, targetCol);\r\n        }\r\n    }\r\n\r\n    generateMonths(isSecondCalendar?: boolean): void {\r\n        const today: IMyDate = this.getToday();\r\n        const { disableUntil, disableSince } = this.opts;\r\n\r\n        // tslint:disable-next-line:one-variable-per-declaration\r\n        let year: number, monthNbr: number;\r\n        if (!isSecondCalendar) {\r\n            this.months.length = 0;\r\n            year = this.visibleMonth.year;\r\n            monthNbr = this.visibleMonth.monthNbr;\r\n        } else {\r\n            this.months_range.length = 0;\r\n            year = this.visibleMonth_range.year;\r\n            monthNbr = this.visibleMonth_range.monthNbr;\r\n        }\r\n\r\n        for (let i = 1; i <= 12; i += 3) {\r\n            const row: Array<IMyCalendarMonth> = [];\r\n            for (let j = i; j < i + 3; j++) {\r\n                const disabled: boolean =\r\n                    this.utilService.isMonthDisabledByDisableUntil(\r\n                        { year, month: j, day: this.daysInMonth(j, year) },\r\n                        disableUntil\r\n                    ) || this.utilService.isMonthDisabledByDisableSince({ year, month: j, day: 1 }, disableSince);\r\n\r\n                row.push({\r\n                    nbr: j,\r\n                    name: this.opts.monthLabels[j],\r\n                    currMonth: j === today.month && year === today.year,\r\n                    disabled,\r\n                    monthObj: { year, month: j }\r\n                });\r\n            }\r\n            if (!isSecondCalendar) {\r\n                this.months.push({ row, year });\r\n            } else {\r\n                this.months_range.push({ row, year });\r\n            }\r\n        }\r\n        this.setMonthViewHeaderBtnDisabledState(year, isSecondCalendar);\r\n        this.generateCalendar(isSecondCalendar? this.visibleMonth_range.monthNbr : this.visibleMonth.monthNbr, year, false, isSecondCalendar);\r\n    }\r\n\r\n    generateYears(inputYear: number, isSecondCalendar?: boolean): void {\r\n        const { minYear, maxYear, disableUntil, disableSince } = this.opts;\r\n\r\n        let y: number = inputYear - (inputYear % 10);\r\n\r\n        const { year, monthNbr } = this.visibleMonth;\r\n\r\n        if (!isSecondCalendar) {\r\n            this.years.length = 0;\r\n        } else {\r\n            if (!this.years_range.length && ((this.years&& this.years.length) && y < this.years[3][2].year && y > this.years[0][0].year)  && this.opts.showType === 3) {\r\n                y+= 10;\r\n            }\r\n            this.years_range.length = 0;\r\n            const allYears = flatten<any>(this.years_range);\r\n            if (allYears.findIndex(n => n.year == inputYear) > -1) {\r\n                y = this.years_range[3][2].year;\r\n            }\r\n        }\r\n        const today: IMyDate = this.getToday();\r\n\r\n        for (let i = y - 1; i < y + 10; i += 3) {\r\n            const row: Array<IMyCalendarYear> = [];\r\n            for (let j = i; j < i + 3; j++) {\r\n                const disabled: boolean =\r\n                    this.utilService.isMonthDisabledByDisableUntil(\r\n                        {\r\n                            year: j,\r\n                            month: monthNbr,\r\n                            day: this.daysInMonth(monthNbr, j)\r\n                        },\r\n                        disableUntil\r\n                    ) ||\r\n                    this.utilService.isMonthDisabledByDisableSince({ year: j, month: monthNbr, day: 1 }, disableSince);\r\n\r\n                const minMax: boolean = j < minYear || j > maxYear;\r\n                row.push({\r\n                    year: j,\r\n                    currYear: j === today.year,\r\n                    selected: j === year,\r\n                    disabled: disabled || minMax,\r\n                    yearObj: { year: j }\r\n                });\r\n            }\r\n            if (!isSecondCalendar) {\r\n                this.years.push(row);\r\n            } else {\r\n                this.years_range.push(row);\r\n            }\r\n        }\r\n        if (!isSecondCalendar) {\r\n            this.setYearViewHeaderBtnDisabledState(this.years[0][1].year, this.years[3][1].year, isSecondCalendar);\r\n        } else {\r\n            this.setYearViewHeaderBtnDisabledState(\r\n                this.years_range[0][1].year,\r\n                this.years_range[3][1].year,\r\n                isSecondCalendar\r\n            );\r\n        }\r\n    }\r\n\r\n    setCalendarVisibleMonth(): void {\r\n        // Sets visible month of calendar\r\n        const { year, monthNbr } = this.selectedMonth;\r\n        this.visibleMonth = {\r\n            monthTxt: this.opts.monthLabels[monthNbr],\r\n            monthNbr,\r\n            year,\r\n            yearTxt: this.opts.yearTxt\r\n        };\r\n\r\n        // Create current month\r\n        if (this.opts.dateRange) {\r\n            this.visibleMonth_range = {\r\n                monthTxt: this.opts.monthLabels[this.selectedMonth_range.monthNbr],\r\n                monthNbr: this.selectedMonth_range.monthNbr,\r\n                year: this.selectedMonth_range.year,\r\n                yearTxt: this.opts.yearTxt\r\n            };\r\n            this.generateCalendar(this.selectedMonth_range.monthNbr, this.selectedMonth_range.year, true, true);\r\n        }\r\n        this.generateCalendar(monthNbr, year, true, false);\r\n    }\r\n\r\n    onPrevNavigateBtnClicked(event?: any, isSecondCalendar?: boolean): void {\r\n        if (!isSecondCalendar) {\r\n            if (event) {\r\n                if (!this.selectMonth && !this.selectYear) {\r\n                    this.setDateViewMonth(isSecondCalendar, false);\r\n                } else if (this.selectMonth) {\r\n                    this.visibleMonth.year--;\r\n                    this.generateMonths(isSecondCalendar);\r\n                } else if (this.selectYear) {\r\n                    this.generateYears(this.years[2][2].year - 10);\r\n                }\r\n            } else {\r\n                if (!this.selectMonth && !this.selectYear) {\r\n                    this.visibleMonth.year--;\r\n                    this.setDateViewMonth(isSecondCalendar);\r\n                } else if (this.selectMonth) {\r\n                    this.visibleMonth.year--;\r\n                    this.generateMonths(isSecondCalendar);\r\n                } else if (this.selectYear) {\r\n                    this.generateYears(this.years[2][2].year - 10, isSecondCalendar);\r\n                }\r\n            }\r\n        } else {\r\n            if (event) {\r\n                if (!this.selectMonth_range && !this.selectYear_range) {\r\n                    this.setDateViewMonth(isSecondCalendar, false);\r\n                } else if (this.selectMonth_range) {\r\n                    this.visibleMonth_range.year--;\r\n                    this.generateMonths(isSecondCalendar);\r\n                } else if (this.selectYear_range) {\r\n                    this.generateYears(this.years_range[2][2].year - 10);\r\n                }\r\n            } else {\r\n                if (!this.selectMonth_range && !this.selectYear_range) {\r\n                    this.visibleMonth_range.year--;\r\n                    this.setDateViewMonth(isSecondCalendar);\r\n                } else if (this.selectMonth_range) {\r\n                    this.visibleMonth_range.year--;\r\n                    this.generateMonths(isSecondCalendar);\r\n                } else if (this.selectYear_range) {\r\n                    this.generateYears(this.years_range[2][2].year - 10, isSecondCalendar);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    onNextNavigateBtnClicked(event?: any, isSecondCalendar?: boolean): void {\r\n        if (!isSecondCalendar) {\r\n            if (event) {\r\n                if (!this.selectMonth && !this.selectYear) {\r\n                    this.setDateViewMonth(isSecondCalendar, true);\r\n                } else if (this.selectMonth) {\r\n                    this.visibleMonth.year++;\r\n                    this.generateMonths();\r\n                } else if (this.selectYear) {\r\n                    this.generateYears(this.years[2][2].year + 10);\r\n                }\r\n            } else {\r\n                if (!this.selectMonth && !this.selectYear) {\r\n                    this.visibleMonth.year++;\r\n                    this.setDateViewMonth(isSecondCalendar);\r\n                } else if (this.selectMonth) {\r\n                    this.visibleMonth.year++;\r\n                    this.generateMonths();\r\n                } else if (this.selectYear) {\r\n                    this.generateYears(this.years[2][2].year + 10);\r\n                }\r\n            }\r\n        } else {\r\n            if (event) {\r\n                if (!this.selectMonth_range && !this.selectYear_range) {\r\n                    this.setDateViewMonth(isSecondCalendar, true);\r\n                } else if (this.selectMonth_range) {\r\n                    this.visibleMonth_range.year++;\r\n                    this.generateMonths(isSecondCalendar);\r\n                } else if (this.selectYear_range) {\r\n                    this.generateYears(this.years_range[2][2].year + 10, isSecondCalendar);\r\n                }\r\n            } else {\r\n                if (!this.selectMonth_range && !this.selectYear_range) {\r\n                    this.visibleMonth_range.year++;\r\n                    this.setDateViewMonth(isSecondCalendar);\r\n                } else if (this.selectMonth_range) {\r\n                    this.visibleMonth_range.year++;\r\n                    this.generateMonths(isSecondCalendar);\r\n                } else if (this.selectYear_range) {\r\n                    this.generateYears(this.years_range[2][2].year + 10, isSecondCalendar);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    setDateViewMonth(isSecondCalendar?: boolean, isNext?: boolean): void {\r\n        let change: number;\r\n        if (isNext === undefined) {\r\n            change = 0;\r\n        } else {\r\n            change = isNext ? 1 : -1;\r\n        }\r\n        if (!isSecondCalendar) {\r\n            const { year, monthNbr } = this.visibleMonth;\r\n\r\n            const d: Date = this.getDate(year, monthNbr, 1);\r\n            d.setMonth(d.getMonth() + change);\r\n\r\n            const y: number = d.getFullYear();\r\n            const m: number = d.getMonth() + 1;\r\n\r\n            this.visibleMonth = {\r\n                monthTxt: this.opts.monthLabels[m],\r\n                monthNbr: m,\r\n                year: y,\r\n                yearTxt: this.opts.yearTxt\r\n            };\r\n            this.generateCalendar(m, y, true, isSecondCalendar);\r\n        } else {\r\n            const { year, monthNbr } = this.visibleMonth_range;\r\n\r\n            const d: Date = this.getDate(year, monthNbr, 1);\r\n            d.setMonth(d.getMonth() + change);\r\n\r\n            const y: number = d.getFullYear();\r\n            const m: number = d.getMonth() + 1;\r\n\r\n            this.visibleMonth_range = {\r\n                monthTxt: this.opts.monthLabels[m],\r\n                monthNbr: m,\r\n                year: y,\r\n                yearTxt: this.opts.yearTxt\r\n            };\r\n            this.generateCalendar(m, y, true, isSecondCalendar);\r\n        }\r\n    }\r\n\r\n    onCloseSelector(event: any): void {\r\n        const keyCode: number = this.utilService.getKeyCodeFromEvent(event);\r\n        if (keyCode === KeyCode.esc) {\r\n            this.closedByEsc();\r\n        }\r\n    }\r\n\r\n    onDayCellClicked(cell: IMyCalendarDay, isSecondCalendar?: boolean): void {\r\n        if (cell.cmo === 1) {\r\n            this.onPrevNavigateBtnClicked(true, isSecondCalendar);\r\n        } else if (cell.cmo === 3) {\r\n            this.onNextNavigateBtnClicked(true, isSecondCalendar);\r\n        }\r\n        this.selectDate(cell.dateObj);\r\n        this.resetMonthYearSelect(isSecondCalendar);\r\n    }\r\n\r\n    onDayCellKeyDown(cell: IMyCalendarDay) {\r\n        // Make possible to move focus by arrow keys\r\n        const { sourceRow, sourceCol } = this.getSourceRowAndColumnFromEvent(event);\r\n        const { moveFocus, targetRow, targetCol } = this.getTargetFocusRowAndColumn(\r\n            event,\r\n            sourceRow,\r\n            sourceCol,\r\n            DATE_ROW_COUNT,\r\n            DATE_COL_COUNT\r\n        );\r\n\r\n        if (moveFocus) {\r\n            this.focusCellElement(D, targetRow, targetCol);\r\n        }\r\n    }\r\n    onDayCellMouseEnter(cell: any, isSecondCalendar?: boolean) {\r\n        if (isSecondCalendar) {\r\n            for (const w of this.dates) {\r\n                for (const day of w.week) {\r\n                    day.range =\r\n                        (this.utilService.isDateSameOrEarlier(this.selectedDateRange.begin, day.dateObj) &&\r\n                            this.utilService.isDateSameOrEarlier(day.dateObj, cell.dateObj)) ||\r\n                        (this.utilService.isDateSameOrEarlier(day.dateObj, this.selectedDateRange.begin) &&\r\n                            this.utilService.isDateSameOrEarlier(cell.dateObj, day.dateObj));\r\n                }\r\n            }\r\n        } else {\r\n            for (const w of this.dates_range) {\r\n                for (const day of w.week) {\r\n                    day.range =\r\n                        (this.utilService.isDateSameOrEarlier(this.selectedDateRange.begin, day.dateObj) &&\r\n                            this.utilService.isDateSameOrEarlier(day.dateObj, cell.dateObj)) ||\r\n                        (this.utilService.isDateSameOrEarlier(day.dateObj, this.selectedDateRange.begin) &&\r\n                            this.utilService.isDateSameOrEarlier(cell.dateObj, day.dateObj));\r\n                }\r\n            }\r\n        }\r\n    }\r\n    onDayCellMouseLeave(isSecondCalendar?: boolean) {\r\n        if (isSecondCalendar) {\r\n            for (const w of this.dates) {\r\n                for (const day of w.week) {\r\n                    day.range = false;\r\n                }\r\n            }\r\n        } else {\r\n            for (const w of this.dates_range) {\r\n                for (const day of w.week) {\r\n                    day.range = false;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    onMonthCellMouseEnter(cell: any, isSecondCalendar?: boolean) {\r\n        if (isSecondCalendar) {\r\n            for (const item of this.months) {\r\n                for (const month of item.row) {\r\n                    month.range =\r\n                        (this.utilService.isDateSameOrEarlier(this.selectedDateRange.begin, month.monthObj) &&\r\n                            this.utilService.isDateSameOrEarlier(month.monthObj, cell.monthObj)) ||\r\n                        (this.utilService.isDateSameOrEarlier(month.monthObj, this.selectedDateRange.begin) &&\r\n                            this.utilService.isDateSameOrEarlier(cell.monthObj, month.monthObj));\r\n                }\r\n            }\r\n        } else {\r\n            for (const item of this.months_range) {\r\n                for (const month of item.row) {\r\n                    month.range =\r\n                        (this.utilService.isDateSameOrEarlier(this.selectedDateRange.begin, month.monthObj) &&\r\n                            this.utilService.isDateSameOrEarlier(month.monthObj, cell.monthObj)) ||\r\n                        (this.utilService.isDateSameOrEarlier(month.monthObj, this.selectedDateRange.begin) &&\r\n                            this.utilService.isDateSameOrEarlier(cell.monthObj, month.monthObj));\r\n                }\r\n            }\r\n        }\r\n    }\r\n    onMonthCellMouseLeave(isSecondCalendar?: boolean) {\r\n        if (isSecondCalendar) {\r\n            for (const item of this.months) {\r\n                for (const month of item.row) {\r\n                    month.range = false;\r\n                }\r\n            }\r\n        } else {\r\n            for (const item of this.months) {\r\n                for (const month of item.row) {\r\n                    month.range = false;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    onYearCellMouseEnter(cell: any, isSecondCalendar?: boolean) {\r\n        if (isSecondCalendar) {\r\n            for (const item of this.years) {\r\n                for (const year of item) {\r\n                    year.range =\r\n                        (this.utilService.isDateSameOrEarlier(this.selectedDateRange.begin, year.yearObj) &&\r\n                            this.utilService.isDateSameOrEarlier(year.yearObj, cell.yearObj)) ||\r\n                        (this.utilService.isDateSameOrEarlier(year.yearObj, this.selectedDateRange.begin) &&\r\n                            this.utilService.isDateSameOrEarlier(cell.yearObj, year.yearObj));\r\n                }\r\n            }\r\n        } else {\r\n            for (const item of this.years_range) {\r\n                for (const year of item) {\r\n                    year.range =\r\n                        (this.utilService.isDateSameOrEarlier(this.selectedDateRange.begin, year.yearObj) &&\r\n                            this.utilService.isDateSameOrEarlier(year.yearObj, cell.yearObj)) ||\r\n                        (this.utilService.isDateSameOrEarlier(year.yearObj, this.selectedDateRange.begin) &&\r\n                            this.utilService.isDateSameOrEarlier(cell.yearObj, year.yearObj));\r\n                }\r\n            }\r\n        }\r\n    }\r\n    onYearCellMouseLeave(isSecondCalendar?: boolean) {\r\n        if (isSecondCalendar) {\r\n            for (const item of this.years) {\r\n                for (const year of item) {\r\n                    year.range = false;\r\n                }\r\n            }\r\n        } else {\r\n            for (const item of this.years_range) {\r\n                for (const year of item) {\r\n                    year.range = false;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    onWeekClicked(weekData: IMyWeek) {\r\n        const showTime = this.opts.returnFormat && this.opts.returnFormat.toLocaleLowerCase().indexOf('hh:mm') > -1;\r\n        this.selectedWeek = { weekNbr: weekData.weekNbr, year: weekData.year };\r\n\r\n        if (showTime) {\r\n            weekData.week[0].dateObj.hour = 0;\r\n            weekData.week[0].dateObj.minute = 0;\r\n            weekData.week[0].dateObj.second = 0;\r\n\r\n            weekData.week[6].dateObj.hour = 23;\r\n            weekData.week[6].dateObj.minute = 59;\r\n            weekData.week[6].dateObj.second = 59;\r\n        }\r\n\r\n        this.selectDate(weekData.week[0].dateObj);\r\n        this.selectDate(weekData.week[6].dateObj);\r\n    }\r\n    getSourceRowAndColumnFromEvent(event: any): any {\r\n        let sourceRow = 0;\r\n        let sourceCol = 0;\r\n        if (event.target && event.target.id) {\r\n            // value of id is for example: m_0_1 (first number = row, second number = column)\r\n            const arr: Array<string> = event.target.id.split(UNDER_LINE);\r\n            sourceRow = Number(arr[1]);\r\n            sourceCol = Number(arr[2]);\r\n        }\r\n        return { sourceRow, sourceCol };\r\n    }\r\n\r\n    getTargetFocusRowAndColumn(event: any, row: number, col: number, rowCount: number, colCount: number): any {\r\n        let moveFocus = false;\r\n        let targetRow: number = row;\r\n        let targetCol: number = col;\r\n\r\n        const keyCode: number = this.utilService.getKeyCodeFromEvent(event);\r\n        if (keyCode === KeyCode.upArrow && row > 0) {\r\n            moveFocus = true;\r\n            targetRow--;\r\n        } else if (keyCode === KeyCode.downArrow && row < rowCount) {\r\n            moveFocus = true;\r\n            targetRow++;\r\n        } else if (keyCode === KeyCode.leftArrow && col > 0) {\r\n            moveFocus = true;\r\n            targetCol--;\r\n        } else if (keyCode === KeyCode.rightArrow && col < colCount) {\r\n            moveFocus = true;\r\n            targetCol++;\r\n        }\r\n        return { moveFocus, targetRow, targetCol };\r\n    }\r\n\r\n    focusCellElement(type: string, row: number, col: number): void {\r\n        const elem: any = this.selectorEl.nativeElement.querySelector(DOT + type + UNDER_LINE + row + UNDER_LINE + col);\r\n        if (elem) {\r\n            elem.focus();\r\n        }\r\n    }\r\n\r\n    selectDate(date: IMyDate): void {\r\n        const { dateFormat, monthLabels, dateRangeDatesDelimiter, closeSelectorOnDateSelect, showTime, returnFormat } = this.opts;\r\n\r\n        if (this.opts.dateRange) {\r\n            // Date range\r\n            const isBeginDateInitialized: boolean = this.utilService.isInitializedDate(this.selectedDateRange.begin);\r\n            const isEndDateInitialized: boolean = this.utilService.isInitializedDate(this.selectedDateRange.end) &&\r\n                JSON.stringify(this.selectedDateRange.begin) !== JSON.stringify(this.selectedDateRange.end);\r\n\r\n            if (isBeginDateInitialized && isEndDateInitialized) {\r\n                // both already selected - set begin date and reset end date\r\n                this.selectedDateRange.begin = date;\r\n                this.selectedDateRange.end = this.utilService.resetDate();\r\n\r\n                this.rangeDateSelection({\r\n                    isBegin: true,\r\n                    date,\r\n                    jsDate: this.utilService.getDate(date),\r\n                    dateFormat,\r\n                    formatted: this.utilService.formatDate(date, dateFormat, monthLabels),\r\n                    epoc: this.utilService.getEpocTime(date)\r\n                });\r\n            } else if (!isBeginDateInitialized) {\r\n                // begin date\r\n                this.selectedDateRange.begin = date;\r\n                if (!isEndDateInitialized) {\r\n                    this.selectedDateRange.end = date;\r\n                }\r\n                this.rangeDateSelection({\r\n                    isBegin: true,\r\n                    date,\r\n                    jsDate: this.utilService.getDate(date),\r\n                    dateFormat,\r\n                    formatted: this.utilService.formatDate(date, dateFormat, monthLabels),\r\n                    epoc: this.utilService.getEpocTime(date)\r\n                });\r\n            } else {\r\n                // second selection\r\n                const firstDateEarlier: boolean = this.utilService.isDateEarlier(date, this.selectedDateRange.begin);\r\n                if (firstDateEarlier) {\r\n                    const _date = this.selectedDateRange.begin;\r\n                    this.selectedDateRange.end = _date;\r\n                    this.rangeDateSelection({\r\n                        isBegin: false,\r\n                        date: _date,\r\n                        jsDate: this.utilService.getDate(_date),\r\n                        dateFormat,\r\n                        formatted: this.utilService.formatDate(_date, dateFormat, monthLabels),\r\n                        epoc: this.utilService.getEpocTime(_date)\r\n                    });\r\n                    this.selectedDateRange.begin = date;\r\n                    this.rangeDateSelection({\r\n                        isBegin: true,\r\n                        date,\r\n                        jsDate: this.utilService.getDate(date),\r\n                        dateFormat,\r\n                        formatted: this.utilService.formatDate(date, dateFormat, monthLabels),\r\n                        epoc: this.utilService.getEpocTime(date)\r\n                    });\r\n                } else {\r\n                    this.selectedDateRange.end = date;\r\n                    this.rangeDateSelection({\r\n                        isBegin: false,\r\n                        date,\r\n                        jsDate: this.utilService.getDate(date),\r\n                        dateFormat,\r\n                        formatted: this.utilService.formatDate(date, dateFormat, monthLabels),\r\n                        epoc: this.utilService.getEpocTime(date)\r\n                    });\r\n                }\r\n                if (!this.opts.showTime) {\r\n                    this.dateChanged(\r\n                        this.utilService.getDateModel(\r\n                            null,\r\n                            this.selectedDateRange,\r\n                            dateFormat,\r\n                            monthLabels,\r\n                            dateRangeDatesDelimiter,\r\n                            returnFormat\r\n                        ),\r\n                        closeSelectorOnDateSelect\r\n                    );\r\n                }\r\n            }\r\n        } else {\r\n            // Single date\r\n            this.selectedDate = date;\r\n\r\n            if (!this.opts.showTime) {\r\n                this.dateChanged(\r\n                    this.utilService.getDateModel(\r\n                        this.selectedDate,\r\n                        null,\r\n                        dateFormat,\r\n                        monthLabels,\r\n                        dateRangeDatesDelimiter,\r\n                        returnFormat\r\n                    ),\r\n                    showTime ? false : closeSelectorOnDateSelect\r\n                );\r\n            } else {\r\n                if (!this.timeVlaue && this.opts.viewType == ViewType.Together) {\r\n                    this.timeVlaue = this.getTimeStr(new Date);\r\n                }\r\n            }\r\n        }\r\n    }\r\n    toSelectMonth(month: IMyMonth): void {\r\n        const { dateFormat, monthLabels, dateRangeDatesDelimiter, closeSelectorOnDateSelect, showTime, returnFormat } = this.opts;\r\n        if (this.opts.dateRange) {\r\n            // month range\r\n            const isBeginMonthInitialized: boolean = this.utilService.isInitializedMonth(this.selectedDateRange.begin);\r\n            const isEndMonthInitialized: boolean = this.utilService.isInitializedMonth(this.selectedDateRange.end);\r\n            if (isBeginMonthInitialized && isEndMonthInitialized) {\r\n                // both already selected - set begin date and reset end date\r\n                this.selectedDateRange.begin = { year: month.year, month: month.monthNbr };\r\n                this.selectedDateRange.end = this.utilService.resetDate();\r\n                this.rangeDateSelection({\r\n                    isBegin: true,\r\n                    date: this.selectedDateRange.begin,\r\n                    jsDate: this.utilService.getDate(this.selectedDateRange.begin),\r\n                    dateFormat,\r\n                    formatted: this.utilService.formatDate(this.selectedDateRange.begin, dateFormat, monthLabels),\r\n                    epoc: this.utilService.getEpocTime(this.selectedDateRange.begin)\r\n                });\r\n            } else if (!isBeginMonthInitialized) {\r\n                // begin date\r\n                this.selectedDateRange.begin = { year: month.year, month: month.monthNbr };\r\n                this.rangeDateSelection({\r\n                    isBegin: true,\r\n                    date: this.selectedDateRange.begin,\r\n                    jsDate: this.utilService.getDate(this.selectedDateRange.begin),\r\n                    dateFormat,\r\n                    formatted: this.utilService.formatDate(this.selectedDateRange.begin, dateFormat, monthLabels),\r\n                    epoc: this.utilService.getEpocTime(this.selectedDateRange.begin)\r\n                });\r\n            } else {\r\n                // second selection\r\n                const firstDateEarlier: boolean = this.utilService.isDateEarlier(\r\n                    { year: month.year, month: month.monthNbr },\r\n                    this.selectedDateRange.begin\r\n                );\r\n                if (firstDateEarlier) {\r\n                    const _date = this.selectedDateRange.begin;\r\n                    this.selectedDateRange.end = _date;\r\n                    this.rangeDateSelection({\r\n                        isBegin: false,\r\n                        date: _date,\r\n                        jsDate: this.utilService.getDate(_date),\r\n                        dateFormat,\r\n                        formatted: this.utilService.formatDate(_date, dateFormat, monthLabels),\r\n                        epoc: this.utilService.getEpocTime(_date)\r\n                    });\r\n                    this.selectedDateRange.begin = { year: month.year, month: month.monthNbr };\r\n                    this.rangeDateSelection({\r\n                        isBegin: true,\r\n                        date: this.selectedDateRange.begin,\r\n                        jsDate: this.utilService.getDate(this.selectedDateRange.begin),\r\n                        dateFormat,\r\n                        formatted: this.utilService.formatDate(this.selectedDateRange.begin, dateFormat, monthLabels),\r\n                        epoc: this.utilService.getEpocTime(this.selectedDateRange.begin)\r\n                    });\r\n                } else {\r\n                    this.selectedDateRange.end = { year: month.year, month: month.monthNbr };\r\n                    this.rangeDateSelection({\r\n                        isBegin: false,\r\n                        date: this.selectedDateRange.end,\r\n                        jsDate: this.utilService.getDate(this.selectedDateRange.end),\r\n                        dateFormat,\r\n                        formatted: this.utilService.formatDate(this.selectedDateRange.end, dateFormat, monthLabels),\r\n                        epoc: this.utilService.getEpocTime(this.selectedDateRange.end)\r\n                    });\r\n                }\r\n                if (!this.opts.showTime) {\r\n                    this.dateChanged(\r\n                        this.utilService.getDateModel(\r\n                            null,\r\n                            this.selectedDateRange,\r\n                            dateFormat,\r\n                            monthLabels,\r\n                            dateRangeDatesDelimiter,\r\n                            returnFormat\r\n                        ),\r\n                        closeSelectorOnDateSelect\r\n                    );\r\n                }\r\n            }\r\n        } else {\r\n            this.selectedMonth = month;\r\n            this.dateChanged(\r\n                this.utilService.getDateModel(\r\n                    { year: month.year, month: month.monthNbr },\r\n                    null,\r\n                    dateFormat,\r\n                    monthLabels,\r\n                    dateRangeDatesDelimiter,\r\n                    returnFormat\r\n                ),\r\n                showTime ? false : closeSelectorOnDateSelect\r\n            );\r\n        }\r\n    }\r\n    toSelectYear(year: { year: number }): void {\r\n        const { dateFormat, monthLabels, dateRangeDatesDelimiter, closeSelectorOnDateSelect, showTime, returnFormat } = this.opts;\r\n        if (this.opts.dateRange) {\r\n            // month range\r\n            const isBeginYearInitialized: boolean = this.utilService.isInitializedYear(this.selectedDateRange.begin);\r\n            const isEndYearInitialized: boolean = this.utilService.isInitializedYear(this.selectedDateRange.end);\r\n            if (isBeginYearInitialized && isEndYearInitialized) {\r\n                // both already selected - set begin date and reset end date\r\n                this.selectedDateRange.begin = year;\r\n                this.selectedDateRange.end = this.utilService.resetDate();\r\n                this.rangeDateSelection({\r\n                    isBegin: true,\r\n                    date: this.selectedDateRange.begin,\r\n                    jsDate: this.utilService.getDate(this.selectedDateRange.begin),\r\n                    dateFormat,\r\n                    formatted: this.utilService.formatDate(this.selectedDateRange.begin, dateFormat, monthLabels),\r\n                    epoc: this.utilService.getEpocTime(this.selectedDateRange.begin)\r\n                });\r\n            } else if (!isBeginYearInitialized) {\r\n                // begin date\r\n                this.selectedDateRange.begin = year;\r\n                this.rangeDateSelection({\r\n                    isBegin: true,\r\n                    date: this.selectedDateRange.begin,\r\n                    jsDate: this.utilService.getDate(this.selectedDateRange.begin),\r\n                    dateFormat,\r\n                    formatted: this.utilService.formatDate(this.selectedDateRange.begin, dateFormat, monthLabels),\r\n                    epoc: this.utilService.getEpocTime(this.selectedDateRange.begin)\r\n                });\r\n            } else {\r\n                // second selection\r\n                const firstDateEarlier: boolean = this.utilService.isDateEarlier(year, this.selectedDateRange.begin);\r\n                if (firstDateEarlier) {\r\n                    const _date = this.selectedDateRange.begin;\r\n                    this.selectedDateRange.end = _date;\r\n                    this.rangeDateSelection({\r\n                        isBegin: false,\r\n                        date: _date,\r\n                        jsDate: this.utilService.getDate(_date),\r\n                        dateFormat,\r\n                        formatted: this.utilService.formatDate(_date, dateFormat, monthLabels),\r\n                        epoc: this.utilService.getEpocTime(_date)\r\n                    });\r\n                    this.selectedDateRange.begin = year;\r\n                    this.rangeDateSelection({\r\n                        isBegin: true,\r\n                        date: this.selectedDateRange.begin,\r\n                        jsDate: this.utilService.getDate(this.selectedDateRange.begin),\r\n                        dateFormat,\r\n                        formatted: this.utilService.formatDate(this.selectedDateRange.begin, dateFormat, monthLabels),\r\n                        epoc: this.utilService.getEpocTime(this.selectedDateRange.begin)\r\n                    });\r\n                } else {\r\n                    this.selectedDateRange.end = year;\r\n                    this.rangeDateSelection({\r\n                        isBegin: false,\r\n                        date: this.selectedDateRange.end,\r\n                        jsDate: this.utilService.getDate(this.selectedDateRange.end),\r\n                        dateFormat,\r\n                        formatted: this.utilService.formatDate(this.selectedDateRange.end, dateFormat, monthLabels),\r\n                        epoc: this.utilService.getEpocTime(this.selectedDateRange.end)\r\n                    });\r\n                }\r\n                if (!this.opts.showTime) {\r\n                    this.dateChanged(\r\n                        this.utilService.getDateModel(\r\n                            null,\r\n                            this.selectedDateRange,\r\n                            dateFormat,\r\n                            monthLabels,\r\n                            dateRangeDatesDelimiter,\r\n                            returnFormat\r\n                        ),\r\n                        closeSelectorOnDateSelect\r\n                    );\r\n                }\r\n            }\r\n        } else {\r\n            this.dateChanged(\r\n                this.utilService.getDateModel(year, null, dateFormat, monthLabels, dateRangeDatesDelimiter, returnFormat),\r\n                showTime ? false : closeSelectorOnDateSelect\r\n            );\r\n        }\r\n    }\r\n    monthStartIdx(y: number, m: number): number {\r\n        // Month start index\r\n        const d: Date = new Date();\r\n        d.setDate(1);\r\n        d.setMonth(m - 1);\r\n        d.setFullYear(y);\r\n        const idx = d.getDay() + this.sundayIdx();\r\n        return idx >= 7 ? idx - 7 : idx;\r\n    }\r\n\r\n    daysInMonth(m: number, y: number): number {\r\n        // Return number of days of current month\r\n        return new Date(y, m, 0).getDate();\r\n    }\r\n\r\n    daysInPrevMonth(m: number, y: number): number {\r\n        // Return number of days of the previous month\r\n        const d: Date = this.getDate(y, m, 1);\r\n        d.setMonth(d.getMonth() - 1);\r\n        return this.daysInMonth(d.getMonth() + 1, d.getFullYear());\r\n    }\r\n\r\n    isCurrDay(d: number, m: number, y: number, cmo: number, today: IMyDate): boolean {\r\n        // Check is a given date the today\r\n        return d === today.day && m === today.month && y === today.year && cmo === MonthId.curr;\r\n    }\r\n\r\n    getWidth() {\r\n        const hasShortCuts = this.opts.shortcuts && this.opts.shortcuts.length > 0;\r\n        if (this.opts.dateRange && this.opts.showType !== 4) {\r\n            return hasShortCuts ? '660px' : '574px';\r\n        } else {\r\n            const w =  (hasShortCuts ? 380 : 287) + ((this.opts.viewType === ViewType.Together || this.multiSelect) ? 200 : 0);\r\n            return w + 'px';\r\n        }\r\n    }\r\n\r\n    getToday(): IMyDate {\r\n        const date: Date = new Date();\r\n        if (this.opts.showTime) {\r\n            return {\r\n                year: date.getFullYear(),\r\n                month: date.getMonth() + 1,\r\n                day: date.getDate(),\r\n                hour: date.getHours(),\r\n                minute: date.getMinutes(),\r\n                second: date.getSeconds()\r\n            };\r\n        } else {\r\n            return { year: date.getFullYear(), month: date.getMonth() + 1, day: date.getDate() };\r\n        }\r\n    }\r\n\r\n    getDayNumber(date: IMyDate): number {\r\n        // Get day number: su=0, mo=1, tu=2, we=3 ...\r\n        const d: Date = this.getDate(date.year, date.month, date.day);\r\n        return d.getDay();\r\n    }\r\n\r\n    getWeekday(date: IMyDate): string {\r\n        // Get weekday: su, mo, tu, we ...\r\n        return this.weekDayOpts[this.getDayNumber(date)];\r\n    }\r\n\r\n    getDate(year: number, month: number, day: number): Date {\r\n        // Creates a date object from given year, month and day\r\n        return new Date(year, month - 1, day, 0, 0, 0, 0);\r\n    }\r\n\r\n    sundayIdx(): number {\r\n        // Index of Sunday day\r\n        return this.dayIdx > 0 ? 7 - this.dayIdx : 0;\r\n    }\r\n\r\n    generateCalendar(m: number, y: number, notifyChange: boolean, isSecondCalendar?: boolean): void {\r\n        if (!isSecondCalendar) {\r\n            this.dates.length = 0;\r\n        } else {\r\n            this.dates_range.length = 0;\r\n        }\r\n        const today: IMyDate = this.getToday();\r\n        const monthStart: number = this.monthStartIdx(y, m);\r\n        const dInThisM: number = this.daysInMonth(m, y);\r\n        const dInPrevM: number = this.daysInPrevMonth(m, y);\r\n\r\n        let dayNbr = 1;\r\n        let cmo: number = MonthId.prev;\r\n        for (let i = 1; i < 7; i++) {\r\n            const week: Array<IMyCalendarDay> = [];\r\n            if (i === 1) {\r\n                // First week\r\n                const pm = dInPrevM - monthStart + 1;\r\n                // Previous month\r\n                for (let j = pm; j <= dInPrevM; j++) {\r\n                    const date: IMyDate = { year: m === 1 ? y - 1 : y, month: m === 1 ? 12 : m - 1, day: j };\r\n                    week.push({\r\n                        dateObj: date,\r\n                        cmo,\r\n                        currDay: this.isCurrDay(j, m, y, cmo, today),\r\n                        disabled: this.utilService.isDisabledDate(date, this.opts),\r\n                        markedDate: this.utilService.isMarkedDate(date, this.opts.markDates, this.opts.markWeekends),\r\n                        highlight: this.utilService.isHighlightedDate(\r\n                            date,\r\n                            this.opts.sunHighlight,\r\n                            this.opts.satHighlight,\r\n                            this.opts.highlightDates\r\n                        )\r\n                    });\r\n                }\r\n\r\n                cmo = MonthId.curr;\r\n                // Current month\r\n                const daysLeft: number = 7 - week.length;\r\n                for (let j = 0; j < daysLeft; j++) {\r\n                    const date: IMyDate = { year: y, month: m, day: dayNbr };\r\n                    week.push({\r\n                        dateObj: date,\r\n                        cmo,\r\n                        currDay: this.isCurrDay(dayNbr, m, y, cmo, today),\r\n                        disabled: this.utilService.isDisabledDate(date, this.opts),\r\n                        markedDate: this.utilService.isMarkedDate(date, this.opts.markDates, this.opts.markWeekends),\r\n                        highlight: this.utilService.isHighlightedDate(\r\n                            date,\r\n                            this.opts.sunHighlight,\r\n                            this.opts.satHighlight,\r\n                            this.opts.highlightDates\r\n                        )\r\n                    });\r\n                    dayNbr++;\r\n                }\r\n            } else {\r\n                // Rest of the weeks\r\n                for (let j = 1; j < 8; j++) {\r\n                    if (dayNbr > dInThisM) {\r\n                        // Next month\r\n                        dayNbr = 1;\r\n                        cmo = MonthId.next;\r\n                    }\r\n                    const date: IMyDate = {\r\n                        year: cmo === MonthId.next && m === 12 ? y + 1 : y,\r\n                        month: cmo === MonthId.curr ? m : cmo === MonthId.next && m < 12 ? m + 1 : 1,\r\n                        day: dayNbr\r\n                    };\r\n                    week.push({\r\n                        dateObj: date,\r\n                        cmo,\r\n                        currDay: this.isCurrDay(dayNbr, m, y, cmo, today),\r\n                        disabled: this.utilService.isDisabledDate(date, this.opts),\r\n                        markedDate: this.utilService.isMarkedDate(date, this.opts.markDates, this.opts.markWeekends),\r\n                        highlight: this.utilService.isHighlightedDate(\r\n                            date,\r\n                            this.opts.sunHighlight,\r\n                            this.opts.satHighlight,\r\n                            this.opts.highlightDates\r\n                        )\r\n                    });\r\n                    dayNbr++;\r\n                }\r\n            }\r\n\r\n            // let weekNbr = this.opts.showWeekNumbers ? this.utilService.getWeekNumber(week[0].dateObj) : 0;\r\n            let weekNbr = 0;\r\n            if (this.opts.showWeekNumbers ) {\r\n                const dateIndex = this.opts.firstDayOfWeek == 'su' ? 6: 0\r\n           \r\n                weekNbr = this.utilService.getWeekNumber(week[dateIndex].dateObj);\r\n                // if (this.opts.firstDayOfWeek === 'su') {\r\n                //     endDayWeekNbr -= 1;\r\n                // }\r\n                // weekNbr = this.utilService.getWeekNumber(week[0].dateObj) === endDayWeekNbr ? this.utilService.getWeekNumber(week[0].dateObj): 0;\r\n            }\r\n\r\n\r\n\r\n            if (!isSecondCalendar) {\r\n                this.dates.push({ week, weekNbr, year: y });\r\n            } else {\r\n                this.dates_range.push({ week, weekNbr, year: y });\r\n            }\r\n        }\r\n\r\n        this.setDateViewHeaderBtnDisabledState(m, y, isSecondCalendar);\r\n\r\n        if (notifyChange) {\r\n            // Notify parent\r\n            this.calendarViewChanged({\r\n                year: y,\r\n                month: m,\r\n                first: { number: 1, weekday: this.getWeekday({ year: y, month: m, day: 1 }) },\r\n                last: { number: dInThisM, weekday: this.getWeekday({ year: y, month: m, day: dInThisM }) }\r\n            });\r\n        }\r\n    }\r\n\r\n    setDateViewHeaderBtnDisabledState(m: number, y: number, isSecondCalendar: boolean): void {\r\n        let dpm = false;\r\n        let dnm = false;\r\n\r\n        const { disableUntil, disableSince, minYear, maxYear } = this.opts;\r\n\r\n        dpm = this.utilService.isMonthDisabledByDisableUntil(\r\n            {\r\n                year: m === 1 ? y - 1 : y,\r\n                month: m === 1 ? 12 : m - 1,\r\n                day: this.daysInMonth(m === 1 ? 12 : m - 1, m === 1 ? y - 1 : y)\r\n            },\r\n            disableUntil\r\n        );\r\n        dnm = this.utilService.isMonthDisabledByDisableSince(\r\n            { year: m === 12 ? y + 1 : y, month: m === 12 ? 1 : m + 1, day: 1 },\r\n            disableSince\r\n        );\r\n        if (!isSecondCalendar) {\r\n            this.prevViewDisabled = (m === 1 && y === minYear) || dpm;\r\n            this.nextViewDisabled = (m === 12 && y === maxYear) || dnm;\r\n            this.prevDobViewDisabled = y === minYear || dpm;\r\n            this.nextDobViewDisabled = y === maxYear || dnm;\r\n        } else {\r\n            this.prevViewDisabled_range = (m === 1 && y === minYear) || dpm;\r\n            this.nextViewDisabled_range = (m === 12 && y === maxYear) || dnm;\r\n            this.prevDobViewDisabled_range = y === minYear || dpm;\r\n            this.nextDobViewDisabled_range = y === maxYear || dnm;\r\n        }\r\n    }\r\n\r\n    setMonthViewHeaderBtnDisabledState(y: number, isSecondCalendar: boolean): void {\r\n        let dpm = false;\r\n        let dnm = false;\r\n\r\n        const { disableUntil, disableSince, minYear, maxYear } = this.opts;\r\n\r\n        dpm = this.utilService.isMonthDisabledByDisableUntil({ year: y - 1, month: 12, day: 31 }, disableUntil);\r\n        dnm = this.utilService.isMonthDisabledByDisableSince({ year: y + 1, month: 1, day: 1 }, disableSince);\r\n        if (!isSecondCalendar) {\r\n            this.prevViewDisabled = y === minYear || dpm;\r\n            this.nextViewDisabled = y === maxYear || dnm;\r\n            this.prevDobViewDisabled = y === minYear || dpm;\r\n            this.nextDobViewDisabled = y === maxYear || dnm;\r\n        } else {\r\n            this.prevViewDisabled_range = y === minYear || dpm;\r\n            this.nextViewDisabled_range = y === maxYear || dnm;\r\n            this.prevDobViewDisabled_range = y === minYear || dpm;\r\n            this.nextDobViewDisabled_range = y === maxYear || dnm;\r\n        }\r\n    }\r\n\r\n    setYearViewHeaderBtnDisabledState(yp: number, yn: number, isSecondCalendar: boolean): void {\r\n        let dpy = false;\r\n        let dny = false;\r\n\r\n        const { disableUntil, disableSince, minYear, maxYear } = this.opts;\r\n\r\n        dpy = this.utilService.isMonthDisabledByDisableUntil({ year: yp - 1, month: 12, day: 31 }, disableUntil);\r\n        dny = this.utilService.isMonthDisabledByDisableSince({ year: yn + 1, month: 1, day: 1 }, disableSince);\r\n        if (!isSecondCalendar) {\r\n            this.prevViewDisabled = yp <= minYear || dpy;\r\n            this.nextViewDisabled = yn >= maxYear || dny;\r\n            this.prevDobViewDisabled = yp <= minYear || dpy;\r\n            this.nextDobViewDisabled = yn >= maxYear || dny;\r\n        } else {\r\n            this.prevViewDisabled_range = yp <= minYear || dpy;\r\n            this.nextViewDisabled_range = yn >= maxYear || dny;\r\n            this.prevDobViewDisabled_range = yp <= minYear || dpy;\r\n            this.nextDobViewDisabled_range = yn >= maxYear || dny;\r\n        }\r\n    }\r\n    onContainerClick(event: Event) {\r\n        event.stopPropagation();\r\n    }\r\n    onClickTimeBtn(event: Event) {\r\n        event.stopPropagation();\r\n        if (this.opts.dateRange) {\r\n            const beginIsInitializedDate = this.utilService.isInitializedDate(this.selectedDateRange.begin);\r\n            const endIsInitializedDate = this.utilService.isInitializedDate(this.selectedDateRange.end);\r\n            const now = new Date();\r\n            if (!beginIsInitializedDate || !endIsInitializedDate) {\r\n                // ç´æ¥ç¹å»ç¡®å®æ¾ç¤ºæ¬æåä¸æ\r\n                if (!beginIsInitializedDate) {\r\n                    this.selectedDateRange.begin = { year: now.getFullYear(), month: now.getMonth() + 1, day: now.getDate() };\r\n                }\r\n                let endYear = now.getFullYear();\r\n                let endmonth = now.getMonth() + 1;\r\n                if (endmonth >= 12) {\r\n                    endYear = endYear + 1;\r\n                    endmonth = 1;\r\n                }\r\n                // else {\r\n                //     endmonth = endmonth + this.opts.monthRangeValue;\r\n                // }\r\n                this.selectedDateRange.end = { ...this.selectedDateRange.begin };\r\n                // this.selectedDateRange.end = { year: endYear, month: endmonth, day: now.getDate() };\r\n                // ç¹å»selectTimeä¹åç»dateRangeèµä¸¤ä¸ªæ¶é´å¼\r\n                this.timeVlaue = this.getTimeStr(now);\r\n                this.timeVlaue_range = this.getTimeStr(now);\r\n            }\r\n\r\n            if (!this.timeVlaue_range) {\r\n                this.timeVlaue_range = this.getTimeStr(now);\r\n            }\r\n            \r\n            this.timeVlaue_range = this.checkTimeValues(this.timeVlaue_range);\r\n\r\n        } else {\r\n            if (!this.utilService.isInitializedDate(this.selectedDate)) {\r\n                const now = new Date();\r\n                // ç¹å»selectTimeä¹åèµå¼\r\n                this.timeVlaue = this.getTimeStr(now);\r\n                this.selectedDate = { year: now.getFullYear(), month: now.getMonth() + 1, day: now.getDate() };\r\n            }\r\n        }\r\n\r\n        \r\n        if (!this.timeVlaue) {\r\n            const now = new Date();\r\n            // ç¹å»selectTimeä¹åèµå¼\r\n            this.timeVlaue = this.getTimeStr(now);\r\n            if (!this.utilService.isInitializedDate(this.selectedDate)) {\r\n                this.selectedDate = { year: now.getFullYear(), month: now.getMonth() + 1, day: now.getDate() };\r\n            }\r\n        }\r\n\r\n        this.timeVlaue = this.checkTimeValues(this.timeVlaue);\r\n\r\n        if (this.selectYear) {\r\n            this.selectYear = false;\r\n        }\r\n        if (this.selectMonth) {\r\n            this.selectMonth = false;\r\n        }\r\n\r\n        if (this.selectYear_range) {\r\n            this.selectYear_range = false;\r\n        }\r\n\r\n        if (this.selectMonth_range) {\r\n            this.selectMonth_range = false;\r\n        }\r\n\r\n        this.selectTime = !this.selectTime;\r\n        this.cdr.detectChanges();\r\n    }\r\n\r\n    onShowDynamicView($event) {\r\n        $event.stopPropagation();\r\n        this.opts.showDynamicView = true;\r\n        this.dynamicViewShow.emit( { showDynamicView: true } );\r\n        this.cdr.detectChanges();\r\n    }\r\n\r\n    onShowDatePanel($event) {\r\n        $event.stopPropagation();\r\n        this.opts.showDynamicView = false;\r\n        this.dynamicViewShow.emit( { showDynamicView: false } );\r\n        this.cdr.detectChanges();\r\n    }\r\n\r\n\r\n    private getTimeValue(isDateRange) {\r\n        const t = { start: null, end: null };\r\n        if (this.timeVlaue) {\r\n            const timeArr = this.timeVlaue.replace('æ¶', ':').replace('å', ':').replace('ç§', '').split(':');\r\n            if (timeArr.length >= 2) {\r\n                t.start = {\r\n                    hour: timeArr[0],\r\n                    minute: timeArr[1],\r\n                    second: timeArr[2] ? timeArr[2] : 0\r\n                };\r\n            }\r\n        } else {\r\n            const nowDate = new Date();\r\n            const hour = nowDate.getHours();\r\n            const minute = nowDate.getMinutes();\r\n            const second = nowDate.getSeconds();\r\n\r\n            if (this.opts.dateRange) {\r\n                t.start = { hour: 0, minute: 0, second: 0 };\r\n            } else {\r\n                t.start = { hour, minute, second };\r\n            }\r\n        }\r\n\r\n        if (isDateRange) {\r\n            if (this.timeVlaue_range) {\r\n                const timeArr_range = this.timeVlaue_range.replace('æ¶', ':').replace('å', ':').replace('ç§', '').split(':');\r\n                if (timeArr_range.length >= 2) {\r\n                    t.end = {\r\n                        hour: timeArr_range[0],\r\n                        minute: timeArr_range[1],\r\n                        second: timeArr_range[2] ? timeArr_range[2] : 0\r\n                    };\r\n                }\r\n            } else {\r\n                const hour = 23;\r\n                const minute = 59;\r\n                const second = 59;\r\n                t.end = { hour, minute, second };\r\n            }\r\n        }\r\n\r\n        return t;\r\n    }\r\n\r\n\r\n    onClickOkBtn(event: Event) {\r\n        event.stopPropagation();\r\n        let timeObj = null;\r\n        let timeObj_range = null;\r\n        let selectedDate = null;\r\n        let selectedDate_range = null;\r\n        if (this.opts.showTime) {\r\n            const { start, end } = this.getTimeValue(this.opts.dateRange);\r\n            timeObj = start;\r\n            timeObj_range = end;\r\n        }\r\n        const { dateFormat, monthLabels, dateRangeDatesDelimiter, closeSelectorOnDateSelect, returnFormat } = this.opts;\r\n        if (!this.opts.dateRange) {\r\n            selectedDate = { ...this.initializedDate(this.selectedDate), ...timeObj };\r\n            const isInDisableRange = this.utilService.isDisabledDate(selectedDate, this.opts);\r\n            const earlier = this.utilService.isDateSameOrEarlier(selectedDate, this.opts.disableUntil);\r\n\r\n            selectedDate = !isInDisableRange\r\n                ? selectedDate\r\n                : { ...selectedDate, ...(earlier ? this.opts.disableUntil : this.opts.disableSince) };\r\n            \r\n\r\n            this.checkTimeValue(selectedDate);\r\n        } else {\r\n            const begin = { ...this.initializedDate(this.selectedDateRange.begin), ...timeObj };\r\n            const end = { ...this.initializedDate(this.selectedDateRange.end, begin), ...timeObj_range };\r\n            this.checkTimeValue(begin);\r\n            this.checkTimeValue(end);\r\n            selectedDate_range = { begin, end };\r\n        }\r\n\r\n        const dateModel: IMyDateModel = this.utilService.getDateModel(\r\n            selectedDate,\r\n            selectedDate_range,\r\n            dateFormat,\r\n            monthLabels,\r\n            dateRangeDatesDelimiter,\r\n            returnFormat\r\n        );\r\n        this.dateChanged(dateModel, closeSelectorOnDateSelect);\r\n    }\r\n\r\n    onTodayClick($event) {\r\n        $event.stopPropagation();\r\n        let timeObj = null;\r\n        let selectedDate = null;\r\n        let selectedDate_range = null;\r\n        if (this.opts.showTime) {\r\n            const { start } = this.getTimeValue(false);\r\n            timeObj = start;\r\n        }\r\n        const { dateFormat, monthLabels, dateRangeDatesDelimiter, closeSelectorOnDateSelect, returnFormat } = this.opts;\r\n        \r\n        selectedDate = { ...this.initializedDate({ year: 0, month: 0, day: 0 }), ...timeObj };\r\n        const isInDisableRange = this.utilService.isDisabledDate(selectedDate, this.opts);\r\n        const earlier = this.utilService.isDateSameOrEarlier(selectedDate, this.opts.disableUntil);\r\n\r\n        selectedDate = !isInDisableRange\r\n            ? selectedDate\r\n            : { ...selectedDate, ...(earlier ? this.opts.disableUntil : this.opts.disableSince) };\r\n\r\n        const dateModel: IMyDateModel = this.utilService.getDateModel(\r\n            selectedDate,\r\n            selectedDate_range,\r\n            dateFormat,\r\n            monthLabels,\r\n            dateRangeDatesDelimiter,\r\n            returnFormat\r\n        );\r\n        this.dateChanged(dateModel, closeSelectorOnDateSelect);\r\n    }\r\n\r\n\r\n\r\n    onDynamicOkClick($event, dynamicviewRef) {\r\n        if (dynamicviewRef) {\r\n            const text = dynamicviewRef.formatValue();\r\n            const value = dynamicviewRef.getValue();\r\n            value.text = text;\r\n            this.opts.dynamicValueChanged(value);\r\n        }\r\n    }\r\n\r\n    initializedDate(date: IMyDate, otherDate: IMyDate = { year: 0, month: 0, day: 0 }): IMyDate {\r\n        const daysInMonth: Array<number> = [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];\r\n        if (!this.utilService.isInitializedDate(date) && !this.utilService.isInitializedDate(otherDate)) {\r\n            const year = new Date().getFullYear();\r\n            const month = new Date().getMonth() + 1;\r\n            const day = new Date().getDate();\r\n            return this.utilService.isDisabledDate({ year, month, day }, this.opts) ? this.opts.disableUntil : { year, month, day };\r\n        } else if (!this.utilService.isInitializedDate(date)) {\r\n            const year = otherDate.month + 1 > 12 ? otherDate.year + 1 : otherDate.year;\r\n            let month = otherDate.month + 1 > 12 ? 1 : otherDate.month + this.opts.monthRangeValue;\r\n            if (!date.month) {\r\n                month = otherDate.month;\r\n            }\r\n            const day = otherDate.day < 1 || otherDate.day > daysInMonth[month - 1] ? 1 : otherDate.day;\r\n            return this.utilService.isDisabledDate({ year, month, day }, this.opts) ? this.opts.disableSince : { year, month, day };\r\n        }\r\n        return date;\r\n    }\r\n\r\n    setTime(date: any) {\r\n        const { dateFormat, monthLabels, dateRangeDatesDelimiter, closeSelectorOnDateSelect, returnFormat } = this.opts;\r\n        if (date instanceof Date) {\r\n            if (this.opts.showType !== 4 && !this.opts.dateRange) {\r\n                let targetDate: IMyDate;\r\n                if (this.opts.showTime) {\r\n                    targetDate = {\r\n                        year: date.getFullYear(),\r\n                        month: date.getMonth() + 1,\r\n                        day: date.getDate(),\r\n                        hour: date.getHours(),\r\n                        minute: date.getMinutes(),\r\n                        second: date.getSeconds()\r\n                    };\r\n                } else {\r\n                    targetDate = { year: date.getFullYear(), month: date.getMonth() + 1, day: date.getDate() };\r\n                }\r\n                const dateModel: IMyDateModel = this.utilService.getDateModel(\r\n                    targetDate,\r\n                    null,\r\n                    dateFormat,\r\n                    monthLabels,\r\n                    dateRangeDatesDelimiter,\r\n                    returnFormat\r\n                );\r\n                this.dateChanged(dateModel, closeSelectorOnDateSelect);\r\n            } else {\r\n                // å¯ç¨å¨éæ©æ¶  å¿«æ·æé®åæ°ä¸ºåä¸ªæ¥æ\r\n                const dateModel: IMyDateModel = this.utilService.getDateModel(\r\n                    null,\r\n                    this.utilService.getNowWeekTime(date),\r\n                    dateFormat,\r\n                    monthLabels,\r\n                    dateRangeDatesDelimiter,\r\n                    returnFormat\r\n                );\r\n                this.dateChanged(dateModel, closeSelectorOnDateSelect);\r\n            }\r\n        } else if (date instanceof Object && this.opts.dateRange) {\r\n            let targetDateRange: IMyDateRange;\r\n            const { begin, end } = date;\r\n            if (!begin || !end) {\r\n                return;\r\n            }\r\n            if (this.opts.showTime) {\r\n                targetDateRange = {\r\n                    begin: {\r\n                        year: begin.getFullYear(),\r\n                        month: begin.getMonth() + 1,\r\n                        day: begin.getDate(),\r\n                        hour: begin.getHours(),\r\n                        minute: begin.getMinutes(),\r\n                        second: begin.getSeconds()\r\n                    },\r\n                    end: {\r\n                        year: end.getFullYear(),\r\n                        month: end.getMonth() + 1,\r\n                        day: end.getDate(),\r\n                        hour: end.getHours(),\r\n                        minute: end.getMinutes(),\r\n                        second: end.getSeconds()\r\n                    }\r\n                };\r\n            } else {\r\n                targetDateRange = {\r\n                    begin: { year: begin.getFullYear(), month: begin.getMonth() + 1, day: begin.getDate() },\r\n                    end: { year: end.getFullYear(), month: end.getMonth() + 1, day: end.getDate() }\r\n                };\r\n            }\r\n            const dateModel: IMyDateModel = this.utilService.getDateModel(\r\n                null,\r\n                targetDateRange,\r\n                dateFormat,\r\n                monthLabels,\r\n                dateRangeDatesDelimiter,\r\n                returnFormat\r\n            );\r\n            this.dateChanged(dateModel, closeSelectorOnDateSelect);\r\n        } else {\r\n            // console.warn('åæ°å¿é¡»ç¬¦åè¦æ±ï¼');\r\n        }\r\n    }\r\n\r\n    onSelectCurrentWeek($event: MouseEvent) {\r\n        $event.stopPropagation();\r\n        const firstDay = this.opts.firstDayOfWeek === 'su' ? 'æ¥': 'ä¸';\r\n        const { begin, end } = this.dateHlp.getNowWeekTime(new Date(), firstDay);\r\n        const year = new Date().getFullYear();\r\n        const weekNbr = this.utilService.getWeekNumber(begin);\r\n\r\n        const showTime = this.opts.returnFormat && this.opts.returnFormat.toLocaleLowerCase().indexOf('hh:mm') > -1;\r\n        this.selectedWeek = { weekNbr, year };\r\n\r\n        if (showTime) {\r\n            begin['hour'] = 0;\r\n            begin['minute'] = 0;\r\n            begin['second'] = 0;\r\n\r\n            end['hour'] = 23;\r\n            end['minute'] = 59;\r\n            end['second'] = 59;\r\n        }\r\n\r\n        this.selectDate(begin);\r\n        this.selectDate(end);\r\n    }\r\n\r\n    onDynamicValueChanged($event) {\r\n        this.btnDynamicDisabled = !$event;\r\n    }\r\n\r\n    onDayCellClickedForMultiDates(cell: IMyCalendarDay, isSecondCalendar?: boolean): void {\r\n        if (cell.cmo === 1) {\r\n            this.onPrevNavigateBtnClicked(true, isSecondCalendar);\r\n        } else if (cell.cmo === 3) {\r\n            this.onNextNavigateBtnClicked(true, isSecondCalendar);\r\n        }\r\n        const { dateFormat, monthLabels, maxSelected, closeSelectorOnDateSelect, showTime, returnFormat, selectedOrderBy } = this.opts;\r\n        let selectedDates = [];\r\n        const isSelected = this.selectedDates.find(n => this.utilService.isDateSame(n, cell.dateObj));\r\n        if (!isSelected) {\r\n            if (!maxSelected || (maxSelected && this.selectedDates.length < maxSelected)) {\r\n                selectedDates = [...this.selectedDates, { ...cell.dateObj, value: this.utilService.formatDate(cell.dateObj, dateFormat, monthLabels) }];\r\n            } else {\r\n                selectedDates = [...this.selectedDates];\r\n                if (this.showNotify) {\r\n                    this.showNotify();\r\n                }\r\n            }\r\n        } else {\r\n            selectedDates = this.selectedDates.filter(n => n!== isSelected);\r\n        }\r\n\r\n        selectedDates = this.utilService.orderSelectedDates(selectedDates, selectedOrderBy);\r\n\r\n        this.selectedDates = selectedDates;\r\n        this.resetMonthYearSelect(isSecondCalendar);\r\n    }\r\n\r\n    onMultiDatesOkClicked($event: MouseEvent) {\r\n        $event.stopPropagation();\r\n        this.multiDatesChanged(this.selectedDates);\r\n    }\r\n\r\n    onMultiDateRemoved(removeItem) {\r\n        this.selectedDates = this.selectedDates.filter(n => n!== removeItem);\r\n    }\r\n\r\n    onMultiDateClear($event) {\r\n        this.selectedDates = [];\r\n    }\r\n\r\n    showGoBackToday() {\r\n        const { monthNbr, year } = this.visibleMonth;\r\n        const { year: currentYear, month } = this.getToday();\r\n        return monthNbr != month || year != currentYear;\r\n    }\r\n\r\n    private setCalendarView(year, month) {\r\n        if (this.visibleMonth.year != year || this.visibleMonth.monthNbr != month) {\r\n            this.visibleMonth = {\r\n                monthTxt: this.opts.monthLabels[month],\r\n                monthNbr: month,\r\n                year: year,\r\n                yearTxt: this.opts.yearTxt\r\n            };\r\n\r\n            this.selectedMonth.year = year;\r\n            this.selectedMonth.monthNbr = month;\r\n\r\n            //tfs638280\r\n            this.selectMonth = false;\r\n            this.selectYear = false;\r\n\r\n            this.generateCalendar(month, year, true);\r\n        }\r\n    }\r\n\r\n    gototodayView($event) {\r\n        const { year, month } = this.getToday();\r\n        this.setCalendarView(year, month);\r\n    }\r\n\r\n    onSelectDateClicked($event) {\r\n        if (!$event) {\r\n            return;\r\n        }\r\n        const { year, month } = $event;\r\n        this.setCalendarView(year, month);\r\n    }\r\n\r\n\r\n\r\n\r\n    private makeRange(\r\n        length: number,\r\n        step: number = 1,\r\n        start: number = 0\r\n    ): number[] {\r\n        step = Math.ceil(step);\r\n        return new Array(Math.ceil(length / step))\r\n            .fill(0)\r\n            .map((_, i) => (i + start) * step);\r\n    }\r\n\r\n    private buildHours() {\r\n        let hourRanges = 24;\r\n        let disabledHours = this.disabledHours && this.disabledHours();\r\n        let startIndex = 0;\r\n        \r\n        let hourRange = this.makeRange(hourRanges, this.opts.hourStep, startIndex).map(\r\n            r => {\r\n                return {\r\n                    index: r,\r\n                    disabled:\r\n                        this.disabledHours && disabledHours.indexOf(r) !== -1\r\n                };\r\n            }\r\n        );\r\n        // ç§»é¤ç¦ç¨çå¼\r\n        return hourRange.filter( n => {\r\n            return !(n.disabled);\r\n        });\r\n    }\r\n\r\n    private buildMinutes(timeObj: any) {\r\n        let minuteRange = this.makeRange(60, this.opts.minuteStep).map(r => {\r\n            return {\r\n                index: r,\r\n                disabled:\r\n                    this.disabledMinutes &&\r\n                    this.disabledMinutes(timeObj.hours!).indexOf(r) !== -1\r\n            };\r\n        });\r\n\r\n        // ç§»é¤ç¦ç¨çå¼\r\n        return minuteRange.filter( n => {\r\n            return !(n.disabled);\r\n        });\r\n    }\r\n\r\n    private buildSeconds(timeObj: any) {\r\n        let secondRange = this.makeRange(60, this.opts.secondStep).map(r => {\r\n            return {\r\n                index: r,\r\n                disabled:\r\n                    this.disabledSeconds &&\r\n                    this.disabledSeconds(\r\n                        timeObj.hours!,\r\n                        timeObj.minutes!\r\n                    ).indexOf(r) !== -1\r\n            };\r\n        });\r\n\r\n        // ç§»é¤ç¦ç¨çå¼\r\n        return secondRange.filter( n => {\r\n            return !(n.disabled);\r\n        });\r\n    }\r\n\r\n    checkTimeValues(timeValue: string) {\r\n        if (timeValue) {\r\n            let times = timeValue.split(':').map(n => parseInt(n, 10));\r\n            const timeObj = {\r\n                hour: times[0],\r\n                minute: times[1],\r\n                second: times[2]\r\n            };\r\n\r\n            if (this.opts.hourStep > 1) {\r\n                const hours = this.buildHours();\r\n                if (!hours.find(n => n.index === timeObj.hour)) {\r\n                    timeObj.hour = 0;\r\n                }\r\n    \r\n            }\r\n    \r\n            if (this.opts.minuteStep > 1) {\r\n                const minutes = this.buildMinutes({ hours: timeObj.hour });\r\n                if (!minutes.find(n => n.index === timeObj.minute)) {\r\n                    timeObj.minute = 0;\r\n                }\r\n            }\r\n    \r\n            if (this.opts.secondStep> 1) {\r\n                const seconds = this.buildSeconds({ hours: timeObj.hour, minutes: timeObj.minute });\r\n                if (!seconds.find(n => n.index === timeObj.second)) {\r\n                    timeObj.second = 0;\r\n                }\r\n            }\r\n\r\n            return `${timeObj.hour || '00'}:${timeObj.minute || '00'}:${timeObj.second || '00'}`;\r\n        }\r\n\r\n        return timeValue;\r\n    }\r\n\r\n    checkTimeValue(dateObj: IMyDate) {\r\n        if (!this.opts.showTime) {\r\n            return;\r\n        }\r\n        if (this.opts.hourStep > 1) {\r\n            const hours = this.buildHours();\r\n            if (!hours.find(n => n.index ===  parseInt(''+ dateObj.hour, 10))) {\r\n                dateObj.hour = 0;\r\n            }\r\n\r\n        }\r\n\r\n        if (this.opts.minuteStep > 1) {\r\n            const minutes = this.buildMinutes({ hours: dateObj.hour });\r\n            if (!minutes.find(n => n.index === parseInt(''+dateObj.minute, 10))) {\r\n                dateObj.minute = 0;\r\n            }\r\n        }\r\n\r\n        if (this.opts.secondStep> 1) {\r\n            const seconds = this.buildSeconds({ hours: dateObj.hour, minutes: dateObj.minute });\r\n            if (!seconds.find(n => n.index === parseInt(''+dateObj.second, 10))) {\r\n                dateObj.second = 0;\r\n            }\r\n        }\r\n    }\r\n}\r\n","/*\r\n * @Author: ç¯çç§æ(Lucas Huang)\r\n * @Date: 2019-08-02 14:14:22\r\n * @LastEditors: ç¯çç§æ(Lucas Huang)\r\n * @LastEditTime: 2019-09-09 09:27:58\r\n * @QQ: 1055818239\r\n * @Version: v0.0.1\r\n */\r\nimport {\r\n    Component,\r\n    EventEmitter,\r\n    Input,\r\n    OnChanges,\r\n    Output,\r\n    ViewEncapsulation,\r\n    SimpleChanges\r\n} from '@angular/core';\r\nimport {\r\n    IMyOptions,\r\n    IMyMonth,\r\n    IMyCalendarYear\r\n} from '../../interfaces/public-api';\r\nimport {\r\n    OPTS,\r\n    YEARS,\r\n    VISIBLE_MONTH,\r\n    SELECT_MONTH,\r\n    SELECT_YEAR,\r\n    PREV_VIEW_DISABLED,\r\n    NEXT_VIEW_DISABLED,\r\n    YYYY,\r\n    MM\r\n} from '../../constants/constants';\r\n\r\n@Component({\r\n    selector: 'lib-selection-bar',\r\n    templateUrl: './selection-bar.component.html',\r\n    encapsulation: ViewEncapsulation.None\r\n})\r\nexport class SelectionBarComponent implements OnChanges {\r\n    @Input() opts: IMyOptions;\r\n    @Input() years: Array<Array<IMyCalendarYear>>;\r\n    @Input() visibleMonth: IMyMonth;\r\n    @Input() selectMonth: boolean;\r\n    @Input() selectYear: boolean;\r\n    @Input() selectToday: boolean;\r\n    @Input() prevViewDisabled: boolean;\r\n    @Input() nextViewDisabled: boolean;\r\n    @Input() prevDobViewDisabled: boolean;\r\n    @Input() nextDobViewDisabled: boolean;\r\n\r\n    @Output() prevNavigateBtnClicked: EventEmitter<boolean> = new EventEmitter<\r\n        boolean\r\n    >();\r\n    @Output() nextNavigateBtnClicked: EventEmitter<boolean> = new EventEmitter<\r\n        boolean\r\n    >();\r\n    @Output() monthViewBtnClicked: EventEmitter<void> = new EventEmitter<\r\n        void\r\n    >();\r\n    @Output() yearViewBtnClicked: EventEmitter<void> = new EventEmitter<void>();\r\n    @Output() todayViewBtnClicked: EventEmitter<void> = new EventEmitter<\r\n        void\r\n    >();\r\n    constructor() {}\r\n\r\n    ngOnChanges(changes: SimpleChanges): void {\r\n        if (changes.hasOwnProperty(OPTS)) {\r\n            this.opts = changes[OPTS].currentValue;\r\n        }\r\n        if (changes.hasOwnProperty(YEARS)) {\r\n            this.years = changes[YEARS].currentValue;\r\n        }\r\n        if (changes.hasOwnProperty(VISIBLE_MONTH)) {\r\n            this.visibleMonth = changes[VISIBLE_MONTH].currentValue;\r\n        }\r\n        if (changes.hasOwnProperty(SELECT_MONTH)) {\r\n            this.selectMonth = changes[SELECT_MONTH].currentValue;\r\n        }\r\n        if (changes.hasOwnProperty(SELECT_YEAR)) {\r\n            this.selectYear = changes[SELECT_YEAR].currentValue;\r\n        }\r\n        if (changes.hasOwnProperty(PREV_VIEW_DISABLED)) {\r\n            this.prevViewDisabled = changes[PREV_VIEW_DISABLED].currentValue;\r\n        }\r\n        if (changes.hasOwnProperty(NEXT_VIEW_DISABLED)) {\r\n            this.nextViewDisabled = changes[NEXT_VIEW_DISABLED].currentValue;\r\n        }\r\n    }\r\n\r\n    onPrevNavigateBtnClicked(event: any): void {\r\n        event.stopPropagation();\r\n        !this.prevViewDisabled && this.prevNavigateBtnClicked.emit(true);\r\n    }\r\n\r\n    onNextNavigateBtnClicked(event: any): void {\r\n        event.stopPropagation();\r\n        !this.nextViewDisabled && this.nextNavigateBtnClicked.emit(true);\r\n    }\r\n    onPrevDobNavigateBtnClicked(event: any): void {\r\n        event.stopPropagation();\r\n        !this.prevDobViewDisabled && this.prevNavigateBtnClicked.emit(false);\r\n    }\r\n\r\n    onNextDobNavigateBtnClicked(event: any): void {\r\n        event.stopPropagation();\r\n        !this.nextDobViewDisabled && this.nextNavigateBtnClicked.emit(false);\r\n    }\r\n    onMonthViewBtnClicked(event): void {\r\n        event.stopPropagation();\r\n        this.monthViewBtnClicked.emit();\r\n    }\r\n\r\n    onYearViewBtnClicked(event): void {\r\n        event.stopPropagation();\r\n        this.yearViewBtnClicked.emit();\r\n    }\r\n    onTodayViewBtnClicked(event): void {\r\n        event.stopPropagation();\r\n        this.todayViewBtnClicked.emit();\r\n    }\r\n    getFormateType(): string {\r\n        const yIndex = this.opts.dateFormat\r\n            ? this.opts.dateFormat.indexOf(YYYY)\r\n            : 0;\r\n        const mIndex = this.opts.dateFormat\r\n            ? this.opts.dateFormat.indexOf(MM)\r\n            : 0;\r\n        return yIndex > mIndex ? `${MM}-${YYYY}` : `${YYYY}-${MM}`;\r\n    }\r\n}\r\n","/*\r\n * @Author: ç¯çç§æ(Lucas Huang)\r\n * @Date: 2019-09-04 07:39:58\r\n * @LastEditors: ç¯çç§æ(Lucas Huang)\r\n * @LastEditTime: 2019-09-04 15:03:39\r\n * @QQ: 1055818239\r\n * @Version: v0.0.1\r\n */\r\nimport {\r\n    Component,\r\n    EventEmitter,\r\n    Input,\r\n    OnChanges,\r\n    Output,\r\n    ViewEncapsulation,\r\n    SimpleChanges\r\n} from '@angular/core';\r\nimport { UtilService } from '../../services/public-api';\r\nimport {\r\n    IMyOptions,\r\n    IMyCalendarDay,\r\n    IMyDate,\r\n    IMyDateRange,\r\n    IMyWeek\r\n} from '../../interfaces/public-api';\r\nimport { MonthId, KeyCode } from '../../enums/public-api';\r\nimport {\r\n    OPTS,\r\n    DATES,\r\n    WEEK_DAYS,\r\n    SELECTED_DATE,\r\n    SELECTED_DATE_RANGE\r\n} from '../../constants/constants';\r\n\r\n// import { IMyWeek } from '../../interfaces/my-month-row.interface'\r\n\r\n@Component({\r\n    selector: 'lib-day-view',\r\n    templateUrl: './day-view.component.html',\r\n    providers: [UtilService],\r\n    encapsulation: ViewEncapsulation.None\r\n})\r\nexport class DayViewComponent implements OnChanges {\r\n    @Input() opts: IMyOptions;\r\n    @Input() dates: Array<IMyWeek>;\r\n    @Input() weekDays: Array<string>;\r\n    @Input() selectedDate: IMyDate;\r\n    @Input() selectedDateRange: IMyDateRange;\r\n    @Input() selectedWeek: IMyWeek;\r\n\r\n    @Output() dayCellClicked: EventEmitter<IMyCalendarDay> = new EventEmitter<\r\n        IMyCalendarDay\r\n    >();\r\n    @Output() dayCellKeyDown: EventEmitter<IMyCalendarDay> = new EventEmitter<\r\n        IMyCalendarDay\r\n    >();\r\n    @Output() weekClicked: EventEmitter<any> = new EventEmitter<any>();\r\n\r\n    @Output() onMouseEnter: EventEmitter<any> = new EventEmitter<any>();\r\n    @Output() onMouseLeave: EventEmitter<any> = new EventEmitter<any>();\r\n\r\n    prevMonthId: number = MonthId.prev;\r\n    currMonthId: number = MonthId.curr;\r\n    nextMonthId: number = MonthId.next;\r\n\r\n    constructor(private utilService: UtilService) {}\r\n\r\n    ngOnChanges(changes: SimpleChanges): void {\r\n        if (changes.hasOwnProperty(OPTS)) {\r\n            this.opts = changes[OPTS].currentValue;\r\n        }\r\n        if (changes.hasOwnProperty(DATES)) {\r\n            this.dates = changes[DATES].currentValue;\r\n        }\r\n        if (changes.hasOwnProperty(WEEK_DAYS)) {\r\n            this.weekDays = changes[WEEK_DAYS].currentValue;\r\n        }\r\n        if (changes.hasOwnProperty(SELECTED_DATE)) {\r\n            this.selectedDate = changes[SELECTED_DATE].currentValue;\r\n        }\r\n        if (changes.hasOwnProperty(SELECTED_DATE_RANGE)) {\r\n            this.selectedDateRange = changes[SELECTED_DATE_RANGE].currentValue;\r\n        }\r\n    }\r\n\r\n    onDayCellClicked(event: any, cell: IMyCalendarDay): void {\r\n        if (cell.disabled || this.opts.showType === 4) {\r\n            return;\r\n        }\r\n        event.stopPropagation();\r\n        this.dayCellClicked.emit(cell);\r\n    }\r\n\r\n    onDayCellKeyDown(event: KeyboardEvent, cell: IMyCalendarDay) {\r\n        const keyCode: number = this.utilService.getKeyCodeFromEvent(event);\r\n        if (keyCode !== KeyCode.tab) {\r\n            event.preventDefault();\r\n\r\n            if (keyCode === KeyCode.enter || keyCode === KeyCode.space) {\r\n                this.onDayCellClicked(event, cell);\r\n            } else if (this.opts.moveFocusByArrowKeys) {\r\n                this.dayCellKeyDown.emit(cell);\r\n            }\r\n        }\r\n    }\r\n    onWeekClicked(event: KeyboardEvent, week: IMyWeek) {\r\n        if (this.opts.showType !== 4) { return; }\r\n        event.stopPropagation();\r\n        this.weekClicked.emit(week);\r\n    }\r\n\r\n    onDayCellMouseEnter(cell: any): void {\r\n        if (\r\n            this.utilService.isInitializedDate(this.selectedDateRange.begin) &&\r\n            (!this.utilService.isInitializedDate(this.selectedDateRange.end) ||\r\n                JSON.stringify(this.selectedDateRange.begin) === JSON.stringify(this.selectedDateRange.end))\r\n        ) {\r\n            for (const w of this.dates) {\r\n                for (const day of w.week) {\r\n                    day.range =\r\n                        (this.utilService.isDateSameOrEarlier(this.selectedDateRange.begin,day.dateObj) && this.utilService.isDateSameOrEarlier(day.dateObj, cell.dateObj)) ||\r\n                        (this.utilService.isDateSameOrEarlier(day.dateObj,this.selectedDateRange.begin) && this.utilService.isDateSameOrEarlier(cell.dateObj,day.dateObj));\r\n                }\r\n            }\r\n            this.onMouseEnter.emit(cell);\r\n        }\r\n    }\r\n\r\n    onDayCellMouseLeave(): void {\r\n        for (const w of this.dates) {\r\n            for (const day of w.week) {\r\n                day.range = false;\r\n            }\r\n        }\r\n        this.onMouseLeave.emit();\r\n    }\r\n\r\n    isDateInRange(date: IMyDate): boolean {\r\n        return this.utilService.isDateInRange(date, this.selectedDateRange);\r\n    }\r\n\r\n    isDateSame(date: IMyDate): boolean {\r\n        return this.utilService.isDateSame(\r\n            {\r\n                year: this.selectedDate.year,\r\n                month: this.selectedDate.month,\r\n                day: this.selectedDate.day\r\n            },\r\n            date\r\n        );\r\n    }\r\n\r\n    isDateRangeBeginOrEndSame(date: IMyDate): boolean {\r\n        const selectedDateRange = {\r\n            begin: {\r\n                year: this.selectedDateRange.begin.year,\r\n                month: this.selectedDateRange.begin.month,\r\n                day: this.selectedDateRange.begin.day\r\n            },\r\n            end: {\r\n                year: this.selectedDateRange.end.year,\r\n                month: this.selectedDateRange.end.month,\r\n                day: this.selectedDateRange.end.day\r\n            }\r\n        };\r\n        return this.utilService.isDateRangeBeginOrEndSame(\r\n            selectedDateRange,\r\n            date\r\n        );\r\n    }\r\n}\r\n","/*\r\n * @Author: ç¯çç§æ(Lucas Huang)\r\n * @Date: 2019-08-15 17:31:08\r\n * @LastEditors: ç¯çç§æ(Lucas Huang)\r\n * @LastEditTime: 2019-09-04 15:01:15\r\n * @QQ: 1055818239\r\n * @Version: v0.0.1\r\n */\r\nimport {\r\n    Component,\r\n    EventEmitter,\r\n    Input,\r\n    OnChanges,\r\n    Output,\r\n    SimpleChanges,\r\n    ViewEncapsulation\r\n} from '@angular/core';\r\nimport { UtilService } from '../../services/public-api';\r\nimport {\r\n    IMyCalendarMonth,\r\n    IMyOptions,\r\n    IMyDate,\r\n    IMyDateRange,\r\n    IMyMonthRow,\r\n    IMyMonth\r\n} from '../../interfaces/public-api';\r\nimport { KeyCode } from '../../enums/public-api';\r\nimport { OPTS, MONTHS } from '../../constants/constants';\r\n\r\n@Component({\r\n    selector: 'lib-month-view',\r\n    templateUrl: './month-view.component.html',\r\n    providers: [UtilService],\r\n    encapsulation: ViewEncapsulation.None\r\n})\r\nexport class MonthViewComponent implements OnChanges {\r\n    @Input() opts: IMyOptions;\r\n    @Input() months: Array<IMyMonthRow> = [];\r\n    @Input() selectedDate: IMyDate;\r\n    @Input() selectedDateRange: IMyDateRange;\r\n    @Input() visibleMonth: IMyMonth;\r\n    @Output() monthCellClicked: EventEmitter<IMyCalendarMonth> = new EventEmitter<IMyCalendarMonth>();\r\n    @Output() monthCellKeyDown: EventEmitter<IMyCalendarMonth> = new EventEmitter<IMyCalendarMonth>();\r\n\r\n    @Output() onMouseEnter: EventEmitter<any> = new EventEmitter<any>();\r\n    @Output() onMouseLeave: EventEmitter<any> = new EventEmitter<any>();\r\n\r\n    constructor(private utilService: UtilService) { }\r\n\r\n    ngOnChanges(changes: SimpleChanges): void {\r\n        if (changes.hasOwnProperty(OPTS)) {\r\n            this.opts = changes[OPTS].currentValue;\r\n        }\r\n        if (changes.hasOwnProperty(MONTHS)) {\r\n            this.months = changes[MONTHS].currentValue;\r\n        }\r\n    }\r\n\r\n    onMonthCellClicked(event: any, cell: IMyCalendarMonth): void {\r\n        event.stopPropagation();\r\n\r\n        if (cell.disabled) {\r\n            return;\r\n        }\r\n\r\n        this.monthCellClicked.emit(cell);\r\n    }\r\n\r\n    onMonthCellKeyDown(event: KeyboardEvent, cell: IMyCalendarMonth) {\r\n        const keyCode: number = this.utilService.getKeyCodeFromEvent(event);\r\n        if (keyCode !== KeyCode.tab) {\r\n            event.preventDefault();\r\n\r\n            if (keyCode === KeyCode.enter || keyCode === KeyCode.space) {\r\n                this.onMonthCellClicked(event, cell);\r\n            } else if (this.opts.moveFocusByArrowKeys) {\r\n                this.monthCellKeyDown.emit(cell);\r\n            }\r\n        }\r\n    }\r\n    onMonthCellMouseEnter(cell: any): void {\r\n        if (\r\n            this.utilService.isInitializedDate(this.selectedDateRange.begin) &&\r\n            !this.utilService.isInitializedDate(this.selectedDateRange.end)\r\n        ) {\r\n            for (let i = 0; i < this.months.length; i++) {\r\n                let row = this.months[i].row;\r\n                for (let j = 0; j < row.length; j++) {\r\n                    let month = row[j];\r\n                    month.range =\r\n                        (this.utilService.isDateSameOrEarlier(\r\n                            this.selectedDateRange.begin,\r\n                            month.monthObj\r\n                        ) &&\r\n                            this.utilService.isDateSameOrEarlier(\r\n                                month.monthObj,\r\n                                cell.monthObj\r\n                            )) ||\r\n                        (this.utilService.isDateSameOrEarlier(\r\n                            month.monthObj,\r\n                            this.selectedDateRange.begin\r\n                        ) &&\r\n                            this.utilService.isDateSameOrEarlier(\r\n                                cell.monthObj,\r\n                                month.monthObj\r\n                            ));\r\n                }\r\n            }\r\n            this.onMouseEnter.emit(cell);\r\n        }\r\n    }\r\n\r\n    onMonthCellMouseLeave(): void {\r\n        for (let i = 0; i < this.months.length; i++) {\r\n            let row = this.months[i].row;\r\n            for (let j = 0; j < row.length; j++) {\r\n                let month = row[j];\r\n                month.range = false;\r\n            }\r\n        }\r\n        this.onMouseLeave.emit();\r\n    }\r\n    isMonthInRange(date: IMyDate): boolean {\r\n        return this.utilService.isDateInRange(date, this.selectedDateRange);\r\n    }\r\n    isMonthSame(date: IMyDate): boolean {\r\n\r\n        if (this.selectedDate) {\r\n            const { year, month} = this.selectedDate;\r\n            return year == date.year && month == date.month;\r\n        }\r\n        return false;\r\n        // if (this.visibleMonth.monthNbr) {\r\n            \r\n        // } else {\r\n        //     return this.visibleMonth.year == date.year && this.visibleMonth.monthNbr == date.month;\r\n        // }\r\n    }\r\n    isMonthRangeBeginOrEndSame(date: IMyDate): boolean {\r\n        return this.utilService.isDateRangeBeginOrEndSame(\r\n            this.selectedDateRange,\r\n            date\r\n        );\r\n    }\r\n}\r\n","import { Component, EventEmitter, Input, OnChanges, Output, SimpleChanges, ViewEncapsulation } from '@angular/core';\r\nimport { YEARS, OPTS } from '../../constants/constants';\r\nimport { UtilService } from '../../services/public-api';\r\nimport { IMyCalendarYear, IMyOptions, IMyDate, IMyDateRange, IMyMonth } from '../../interfaces/public-api';\r\nimport { KeyCode } from '../../enums/public-api';\r\n@Component({\r\n    selector: 'lib-year-view',\r\n    templateUrl: './year-view.component.html',\r\n    providers: [UtilService],\r\n    encapsulation: ViewEncapsulation.None\r\n})\r\nexport class YearViewComponent implements OnChanges {\r\n    @Input() opts: IMyOptions;\r\n    @Input() years: Array<Array<IMyCalendarYear>>;\r\n    @Input() prevViewDisabled: boolean;\r\n    @Input() nextViewDisabled: boolean;\r\n    @Input() selectedDate: IMyDate;\r\n    @Input() selectedDateRange: IMyDateRange;\r\n    @Input() visibleMonth: IMyMonth;\r\n\r\n\r\n    @Output() yearCellClicked: EventEmitter<IMyCalendarYear> = new EventEmitter<IMyCalendarYear>();\r\n    @Output() yearCellKeyDown: EventEmitter<IMyCalendarYear> = new EventEmitter<IMyCalendarYear>();\r\n    @Output() prevCellClicked: EventEmitter<void> = new EventEmitter<void>();\r\n    @Output() nextCellClicked: EventEmitter<void> = new EventEmitter<void>();\r\n\r\n    @Output() onMouseEnter: EventEmitter<any> = new EventEmitter<any>();\r\n    @Output() onMouseLeave: EventEmitter<any> = new EventEmitter<any>();\r\n\r\n    constructor(private utilService: UtilService) {}\r\n    ngOnInit(): void {}\r\n    ngOnChanges(changes: SimpleChanges): void {\r\n        if (changes.hasOwnProperty(OPTS)) {\r\n            this.opts = changes[OPTS].currentValue;\r\n        }\r\n        if (changes.hasOwnProperty(YEARS)) {\r\n            this.years = changes[YEARS].currentValue;\r\n        }\r\n    }\r\n\r\n    onYearCellClicked(event: any, cell: IMyCalendarYear): void {\r\n        event.stopPropagation();\r\n        if (cell.disabled) {\r\n            return;\r\n        }\r\n        this.yearCellClicked.emit(cell);\r\n    }\r\n\r\n    onYearCellKeyDown(event: KeyboardEvent, cell: IMyCalendarYear) {\r\n        const keyCode: number = this.utilService.getKeyCodeFromEvent(event);\r\n        if (keyCode !== KeyCode.tab) {\r\n            event.preventDefault();\r\n\r\n            if (keyCode === KeyCode.enter || keyCode === KeyCode.space) {\r\n                this.onYearCellClicked(event, cell);\r\n            } else if (this.opts.moveFocusByArrowKeys) {\r\n                this.yearCellKeyDown.emit(cell);\r\n            }\r\n        }\r\n    }\r\n    onPrevOrNextYearCellClicked(event: any, index: number) {\r\n        event.stopPropagation();\r\n        if (index === 0) {\r\n            if (this.prevViewDisabled) return;\r\n            this.prevCellClicked.emit(event);\r\n        } else {\r\n            if (this.nextViewDisabled) return;\r\n            this.nextCellClicked.emit(event);\r\n        }\r\n    }\r\n    onMonthCellMouseEnter(cell: any): void {\r\n        if (\r\n            this.utilService.isInitializedDate(this.selectedDateRange.begin) &&\r\n            !this.utilService.isInitializedDate(this.selectedDateRange.end)\r\n        ) {\r\n            for (let i = 0; i < this.years.length; i++) {\r\n                let row = this.years[i];\r\n                for (let j = 0; j < row.length; j++) {\r\n                    let year = row[j];\r\n                    year.range =\r\n                        (this.utilService.isDateSameOrEarlier(\r\n                            this.selectedDateRange.begin,\r\n                            year.yearObj\r\n                        ) &&\r\n                            this.utilService.isDateSameOrEarlier(\r\n                                year.yearObj,\r\n                                cell.yearObj\r\n                            )) ||\r\n                        (this.utilService.isDateSameOrEarlier(\r\n                            year.yearObj,\r\n                            this.selectedDateRange.begin\r\n                        ) &&\r\n                            this.utilService.isDateSameOrEarlier(\r\n                                cell.yearObj,\r\n                                year.yearObj\r\n                            ));\r\n                }\r\n            }\r\n            this.onMouseEnter.emit(cell);\r\n        }\r\n    }\r\n\r\n    onMonthCellMouseLeave(): void {\r\n        for (let i = 0; i < this.years.length; i++) {\r\n            let row = this.years[i];\r\n            for (let j = 0; j < row.length; j++) {\r\n                let year = row[j];\r\n                year.range = false;\r\n            }\r\n        }\r\n        this.onMouseLeave.emit();\r\n    }\r\n    isMonthInRange(year: IMyDate): boolean {\r\n        return this.utilService.isDateInRange(year, this.selectedDateRange);\r\n    }\r\n    isYearSame(year: IMyDate): boolean {\r\n      \r\n        // return this.utilService.isDateSame(\r\n        //     {\r\n        //         year: this.visibleMonth.year\r\n        //     },\r\n        //     year\r\n        // );\r\n\r\n        if (this.selectedDate) {\r\n            return this.selectedDate.year === year.year;\r\n        }\r\n\r\n        return false;\r\n    }\r\n    isMonthRangeBeginOrEndSame(year: IMyDate): boolean {\r\n        return this.utilService.isDateSame(\r\n            { year: this.selectedDateRange.begin.year }, year\r\n        ) || this.utilService.isDateSame(\r\n            { year: this.selectedDateRange.end.year }, year\r\n        );\r\n    }\r\n}\r\n","import {\r\n    Directive,\r\n    Input,\r\n    ComponentRef,\r\n    ElementRef,\r\n    ViewContainerRef,\r\n    Renderer2,\r\n    ChangeDetectorRef,\r\n    ComponentFactoryResolver,\r\n    forwardRef,\r\n    EventEmitter,\r\n    Output,\r\n    SimpleChanges,\r\n    OnChanges,\r\n    HostListener,\r\n    OnDestroy,\r\n    NgZone\r\n} from '@angular/core';\r\nimport {\r\n    AbstractControl,\r\n    ControlValueAccessor,\r\n    NG_VALIDATORS,\r\n    NG_VALUE_ACCESSOR,\r\n    Validator\r\n} from '@angular/forms';\r\nimport { CalendarComponent } from './components/calendar/calendar.component';\r\n\r\nimport {\r\n    IMyOptions,\r\n    IMyDate,\r\n    IMyDateModel,\r\n    IMyDateRange,\r\n    IMyRangeDateSelection,\r\n    IMyCalendarViewChanged,\r\n    IMyInputFieldChanged,\r\n    IMySelectorPosition\r\n} from './interfaces/public-api';\r\n\r\nimport {\r\n    UtilService,\r\n    DatepickerLocaleService,\r\n    DefaultConfigService\r\n} from './services/public-api';\r\n\r\nimport { KeyCode, CalToggle, Year, ResetDateType } from './enums/public-api';\r\n\r\nimport {\r\n    KEYUP,\r\n    BLUR,\r\n    EMPTY_STR,\r\n    DISABLED,\r\n    CLICK,\r\n    BODY,\r\n    VALUE,\r\n    OPTIONS,\r\n    DEFAULT_MONTH,\r\n    LOCALE,\r\n    OBJECT,\r\n    PX\r\n} from './constants/constants';\r\n\r\nconst NGX_DP_VALUE_ACCESSOR = {\r\n    provide: NG_VALUE_ACCESSOR,\r\n    useExisting: forwardRef(() => FarrisDatePickerDirective),\r\n    multi: true\r\n};\r\n\r\nconst NGX_DP_VALIDATORS = {\r\n    provide: NG_VALIDATORS,\r\n    useExisting: forwardRef(() => FarrisDatePickerDirective),\r\n    multi: true\r\n};\r\n\r\n@Directive({\r\n    selector: '[farris-datepicker]',\r\n    exportAs: 'farris-datepicker',\r\n    providers: [\r\n        UtilService,\r\n        DatepickerLocaleService,\r\n        DefaultConfigService,\r\n        NGX_DP_VALUE_ACCESSOR,\r\n        NGX_DP_VALIDATORS\r\n    ]\r\n})\r\nexport class FarrisDatePickerDirective\r\n    implements OnChanges, OnDestroy, ControlValueAccessor, Validator {\r\n    @Input() options: IMyOptions;\r\n    @Input() locale: string;\r\n    @Input() defaultMonth: string;\r\n\r\n    @Output() dateChanged: EventEmitter<IMyDateModel> = new EventEmitter<\r\n        IMyDateModel\r\n    >();\r\n    @Output() inputFieldChanged: EventEmitter<\r\n        IMyInputFieldChanged\r\n    > = new EventEmitter<IMyInputFieldChanged>();\r\n    @Output() calendarViewChanged: EventEmitter<\r\n        IMyCalendarViewChanged\r\n    > = new EventEmitter<IMyCalendarViewChanged>();\r\n    @Output() calendarToggle: EventEmitter<number> = new EventEmitter<number>();\r\n    @Output() rangeDateSelection: EventEmitter<\r\n        IMyRangeDateSelection\r\n    > = new EventEmitter<IMyRangeDateSelection>();\r\n\r\n    private cRef: ComponentRef<CalendarComponent> = null;\r\n    private inputText = '';\r\n    private preventClose = false;\r\n    private disabled = false;\r\n\r\n    private opts: IMyOptions;\r\n\r\n    // scrollFn: any = (e) => {\r\n    //     console.log((e.target as any).scrollTop);\r\n    // };\r\n\r\n    onChangeCb: (_: any) => void = () => {};\r\n    onTouchedCb: () => void = () => {};\r\n\r\n    constructor(\r\n        public localeService: DatepickerLocaleService,\r\n        private utilService: UtilService,\r\n        private vcRef: ViewContainerRef,\r\n        private cfr: ComponentFactoryResolver,\r\n        private renderer: Renderer2,\r\n        private cdr: ChangeDetectorRef,\r\n        private elem: ElementRef,\r\n        private config: DefaultConfigService,\r\n        private zone: NgZone\r\n    ) {\r\n        this.opts = this.config.getDefaultConfig();\r\n        this.parseOptions(this.opts);\r\n    }\r\n\r\n    @HostListener(KEYUP, ['$event']) onKeyUp(event: KeyboardEvent) {\r\n        const keyCode: number = this.utilService.getKeyCodeFromEvent(event);\r\n        if (this.ignoreKeyPress(keyCode)) {\r\n            return;\r\n        } else if (keyCode === KeyCode.esc) {\r\n            this.closeSelector(CalToggle.CloseByEsc);\r\n        } else {\r\n            const { value } = this.elem.nativeElement;\r\n\r\n            let valid = false;\r\n            if (!this.opts.dateRange) {\r\n                const date: IMyDate = this.utilService.isDateValid(\r\n                    value,\r\n                    this.opts\r\n                );\r\n                valid = this.utilService.isInitializedDate(date);\r\n            } else {\r\n                const { begin, end } = this.utilService.isDateValidDateRange(\r\n                    value,\r\n                    this.opts\r\n                );\r\n                valid =\r\n                    this.utilService.isInitializedDate(begin) &&\r\n                    this.utilService.isInitializedDate(end);\r\n            }\r\n            this.emitInputFieldChanged(value, valid);\r\n        }\r\n    }\r\n\r\n    @HostListener(BLUR) onBlur() {\r\n        const {\r\n            inputFieldValidation,\r\n            dateRange\r\n        } = this.opts;\r\n\r\n        if (inputFieldValidation) {\r\n            const { value } = this.elem.nativeElement;\r\n            let valid = false;\r\n            if (!dateRange) {\r\n                const date: IMyDate = this.utilService.isDateValid(\r\n                    value,\r\n                    this.opts\r\n                );\r\n\r\n                valid = this.utilService.isInitializedDate(date);\r\n            } else {\r\n                const _dateRange: IMyDateRange = this.utilService.isDateValidDateRange(\r\n                    value,\r\n                    this.opts\r\n                );\r\n                const { begin, end } = _dateRange;\r\n                valid =\r\n                    this.utilService.isInitializedDate(begin) &&\r\n                    this.utilService.isInitializedDate(end);\r\n            }\r\n\r\n            if (!valid && this.inputText !== value) {\r\n                this.clearDate();\r\n            }\r\n            this.onChangeCb(value);\r\n        }\r\n        this.onTouchedCb();\r\n    }\r\n\r\n    // wrapper with arrow function to preserve the use of 'this' word\r\n    private onClickWrapper = (ev: MouseEvent) => {\r\n        this.onClick(ev);\r\n    }\r\n\r\n    onClick(evt: MouseEvent) {\r\n        if (\r\n            this.opts.closeSelectorOnDocumentClick &&\r\n            !this.preventClose &&\r\n            evt.target &&\r\n            this.cRef !== null &&\r\n            this.elem.nativeElement !== evt.target &&\r\n            !this.cRef.location.nativeElement.contains(evt.target) &&\r\n            !this.disabled\r\n        ) {\r\n            this.closeSelector(CalToggle.CloseByOutClick);\r\n        }\r\n    }\r\n    public ngOnChanges(changes: SimpleChanges): void {\r\n        if (changes.hasOwnProperty(LOCALE)) {\r\n            this.setLocaleOptions();\r\n        }\r\n\r\n        if (changes.hasOwnProperty(DEFAULT_MONTH)) {\r\n            let dm: any = changes[DEFAULT_MONTH].currentValue;\r\n            if (typeof dm === OBJECT) {\r\n                dm = dm.defMonth;\r\n            }\r\n            this.defaultMonth = dm;\r\n        }\r\n\r\n        if (changes.hasOwnProperty(OPTIONS)) {\r\n            this.parseOptions(changes[OPTIONS].currentValue);\r\n        }\r\n    }\r\n\r\n    public ngOnDestroy(): void {\r\n        this.closeCalendar();\r\n    }\r\n\r\n    setLocaleOptions(): void {\r\n        const opts: IMyOptions = this.localeService.getLocaleOptions(\r\n            this.locale\r\n        );\r\n        Object.keys(opts).forEach(k => {\r\n            (this.opts as IMyOptions)[k] = opts[k];\r\n        });\r\n    }\r\n\r\n    public parseOptions(opts: IMyOptions): void {\r\n        if (opts !== undefined) {\r\n            Object.keys(opts).forEach(k => {\r\n                if (opts[k] !== undefined && opts[k] !== '') {\r\n                    (this.opts as IMyOptions)[k] = opts[k];\r\n                }\r\n            });\r\n        }\r\n        if (this.opts.minYear < Year.min) {\r\n            this.opts.minYear = Year.min;\r\n        }\r\n        if (this.opts.maxYear > Year.max) {\r\n            this.opts.maxYear = Year.max;\r\n        }\r\n    }\r\n    formatDate(value: any) {\r\n        const {\r\n            dateRange,\r\n            dateFormat,\r\n            monthLabels,\r\n            dateRangeDatesDelimiter,\r\n            returnFormat\r\n        } = this.opts;\r\n        if (!dateRange) {\r\n            // Single date mode\r\n            const date: IMyDate = this.utilService.isDateValid(\r\n                value,\r\n                this.opts\r\n            );\r\n            return this.utilService.getDateModel(\r\n                date,\r\n                null,\r\n                dateFormat,\r\n                monthLabels,\r\n                dateRangeDatesDelimiter,\r\n                returnFormat\r\n            );\r\n        } else {\r\n            // Date range mode\r\n            const _dateRange = this.utilService.isDateValidDateRange(\r\n                value,\r\n                this.opts\r\n            );\r\n            return this.utilService.getDateModel(\r\n                null,\r\n                _dateRange,\r\n                dateFormat,\r\n                monthLabels,\r\n                dateRangeDatesDelimiter,\r\n                returnFormat\r\n            );\r\n        }\r\n    }\r\n    public writeValue(value: any): void {\r\n        if (this.disabled) {\r\n            return;\r\n        }\r\n        if (value) {\r\n            value = this.formatDate(value);\r\n        }\r\n\r\n        if (!value) {\r\n            this.setInputValue(EMPTY_STR);\r\n            this.emitInputFieldChanged(EMPTY_STR, false);\r\n\r\n            if (this.cRef !== null) {\r\n                this.cRef.instance.resetDateValue(ResetDateType.both);\r\n            }\r\n        } else if (value.isRange === false && value.singleDate) {\r\n            // single date\r\n            const { date, formatted } = value.singleDate;\r\n            const valid: boolean = this.utilService.isInitializedDate(date);\r\n            if (valid) {\r\n                this.setInputValue(formatted);\r\n                this.emitInputFieldChanged(formatted, valid);\r\n\r\n                if (this.cRef !== null) {\r\n                    this.cRef.instance.resetDateValue(ResetDateType.dateRange);\r\n                }\r\n            }\r\n        } else if (value.isRange === true && value.dateRange) {\r\n            // date range\r\n            const { beginDate, endDate, formatted } = value.dateRange;\r\n\r\n            if (beginDate && endDate) {\r\n                const valid: boolean =\r\n                    this.utilService.isInitializedDate(beginDate) &&\r\n                    this.utilService.isInitializedDate(endDate);\r\n                if (valid) {\r\n                    this.setInputValue(formatted);\r\n                    this.emitInputFieldChanged(formatted, valid);\r\n\r\n                    if (this.cRef !== null) {\r\n                        this.cRef.instance.resetDateValue(\r\n                            ResetDateType.singleDate\r\n                        );\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    public registerOnChange(fn: any): void {\r\n        this.onChangeCb = fn;\r\n    }\r\n\r\n    public registerOnTouched(fn: any): void {\r\n        this.onTouchedCb = fn;\r\n    }\r\n\r\n    public setDisabledState(isDisabled: boolean): void {\r\n        this.disabled = isDisabled;\r\n        this.renderer.setProperty(\r\n            this.elem.nativeElement,\r\n            DISABLED,\r\n            isDisabled\r\n        );\r\n\r\n        if (isDisabled) {\r\n            this.closeCalendar();\r\n        }\r\n    }\r\n\r\n    public validate(c: AbstractControl): { [p: string]: any } {\r\n        return null;\r\n    }\r\n\r\n    public openCalendar(): void {\r\n        if (this.disabled) {\r\n            return;\r\n        }\r\n        this.preventClose = true;\r\n        this.cdr.detectChanges();\r\n        if (this.cRef === null) {\r\n            this.cRef = this.vcRef.createComponent(\r\n                this.cfr.resolveComponentFactory(CalendarComponent)\r\n            );\r\n            this.appendSelector(this.cRef.location.nativeElement);\r\n            this.cRef.instance.initialize(\r\n                this.opts,\r\n                this.defaultMonth,\r\n                this.getSelectorPosition(this.elem.nativeElement),\r\n                this.elem.nativeElement.value,\r\n                (dm: IMyDateModel, close: boolean) => {\r\n                    this.focusToInput();\r\n                    this.updateModel(dm);\r\n                    if (close) {\r\n                        this.closeSelector(CalToggle.CloseByDateSel);\r\n                    }\r\n                    this.emitDateChanged(dm);\r\n                    this.emitInputFieldChanged(\r\n                        this.utilService.getFormattedDate(dm),\r\n                        true\r\n                    );\r\n                },\r\n                (cvc: IMyCalendarViewChanged) => {\r\n                    this.emitCalendarChanged(cvc);\r\n                },\r\n                (rds: IMyRangeDateSelection) => {\r\n                    this.emitRangeDateSelection(rds);\r\n                },\r\n                () => {\r\n                    this.closeSelector(CalToggle.CloseByEsc);\r\n                }\r\n            );\r\n            this.emitCalendarToggle(CalToggle.Open);\r\n            this.cdr.detectChanges();\r\n        } else {\r\n            this.appendSelector(this.cRef.location.nativeElement);\r\n        }\r\n        this.preventClose = false;\r\n    }\r\n\r\n    public closeCalendar(): void {\r\n        this.closeSelector(CalToggle.CloseByCalBtn);\r\n    }\r\n\r\n    public toggleCalendar(event: MouseEvent): void {\r\n        event.stopPropagation();\r\n        if (this.disabled) {\r\n            return;\r\n        }\r\n        if (this.cRef === null) {\r\n            document.addEventListener(CLICK, this.onClickWrapper, true);\r\n            this.openCalendar();\r\n            const container = document.querySelector('.date-overlay-container');\r\n            this.renderer.setStyle(container, 'pointer-events', 'auto');\r\n        } else {\r\n            let flag = true;\r\n            const container = document.querySelector('.date-overlay-container');\r\n            if (container && this.cRef.location) {\r\n                if (container.hasChildNodes()) {\r\n                    container.childNodes.forEach(el => {\r\n                        if (el === this.cRef.location.nativeElement) {\r\n                            flag = false;\r\n                        }\r\n                    });\r\n                }\r\n            }\r\n            if (flag) {\r\n                this.renderer.setStyle(container, 'pointer-events', 'auto');\r\n                this.openCalendar();\r\n            } else {\r\n                document.removeEventListener(CLICK, this.onClickWrapper);\r\n                this.closeSelector(CalToggle.CloseByCalBtn);\r\n                this.renderer.setStyle(container, 'pointer-events', '');\r\n            }\r\n        }\r\n    }\r\n\r\n    public clearDate(): void {\r\n        if (this.disabled) {\r\n            return;\r\n        }\r\n        this.setInputValue(EMPTY_STR);\r\n        this.emitDateChanged({\r\n            isRange: this.opts.dateRange,\r\n            singleDate: {\r\n                date: this.utilService.resetDate(),\r\n                jsDate: null,\r\n                formatted: EMPTY_STR,\r\n                epoc: 0\r\n            },\r\n            dateRange: {\r\n                beginDate: this.utilService.resetDate(),\r\n                beginJsDate: null,\r\n                beginEpoc: 0,\r\n                endDate: this.utilService.resetDate(),\r\n                endJsDate: null,\r\n                endEpoc: 0,\r\n                formatted: EMPTY_STR\r\n            }\r\n        });\r\n        this.onChangeCb(null);\r\n        this.onTouchedCb();\r\n        this.closeSelector(CalToggle.CloseByCalBtn);\r\n    }\r\n\r\n    public isDateValid(): boolean {\r\n        const { value } = this.elem.nativeElement;\r\n\r\n        if (value !== EMPTY_STR) {\r\n            const date: IMyDate = this.utilService.isDateValid(\r\n                value,\r\n                this.opts\r\n            );\r\n            if (this.utilService.isInitializedDate(date)) {\r\n                this.emitInputFieldChanged(value, true);\r\n                return true;\r\n            }\r\n        }\r\n        this.emitInputFieldChanged(value, false);\r\n        return false;\r\n    }\r\n\r\n    private ignoreKeyPress(keyCode: number): boolean {\r\n        // keyCode === KeyCode.tab ||\r\n\r\n        return (\r\n            keyCode === KeyCode.leftArrow ||\r\n            keyCode === KeyCode.rightArrow ||\r\n            keyCode === KeyCode.upArrow ||\r\n            keyCode === KeyCode.downArrow ||\r\n            keyCode === KeyCode.shift\r\n        );\r\n    }\r\n\r\n    private closeSelector(reason: number): void {\r\n        if (this.cRef !== null) {\r\n            this.vcRef.remove(this.vcRef.indexOf(this.cRef.hostView));\r\n            this.cRef = null;\r\n            this.cdr.detectChanges();\r\n            this.emitCalendarToggle(reason);\r\n            const container = document.querySelector('.date-overlay-container');\r\n            this.renderer.setStyle(container, 'pointer-events', '');\r\n        }\r\n    }\r\n\r\n    private updateModel(model: IMyDateModel): void {\r\n        this.setInputValue(this.utilService.getFormattedDate(model));\r\n        this.onChangeCb(this.utilService.getFormattedDate(model));\r\n        this.onTouchedCb();\r\n    }\r\n\r\n    private setInputValue(value: string): void {\r\n        this.inputText = value;\r\n        this.renderer.setProperty(this.elem.nativeElement, VALUE, value);\r\n    }\r\n\r\n    private focusToInput(): void {\r\n        if (this.opts.focusInputOnDateSelect) {\r\n            this.elem.nativeElement.focus();\r\n        }\r\n    }\r\n\r\n    private emitDateChanged(dateModel: IMyDateModel): void {\r\n        this.dateChanged.emit(dateModel);\r\n    }\r\n\r\n    private emitInputFieldChanged(value: string, valid: boolean): void {\r\n        this.inputFieldChanged.emit({\r\n            value,\r\n            dateFormat: this.opts.dateFormat,\r\n            valid\r\n        });\r\n    }\r\n\r\n    private emitCalendarChanged(cvc: IMyCalendarViewChanged) {\r\n        this.calendarViewChanged.emit(cvc);\r\n    }\r\n\r\n    private emitRangeDateSelection(rds: IMyRangeDateSelection) {\r\n        this.rangeDateSelection.emit(rds);\r\n    }\r\n\r\n    private emitCalendarToggle(reason: number): void {\r\n        this.calendarToggle.emit(reason);\r\n    }\r\n\r\n    private jsDateToMyDate(date: Date): IMyDate {\r\n        return {\r\n            year: date.getFullYear(),\r\n            month: date.getMonth() + 1,\r\n            day: date.getDate()\r\n        };\r\n    }\r\n\r\n    private appendSelector(elem: any): void {\r\n        let container = document.querySelector('.date-overlay-container');\r\n        if (container) {\r\n            if (container.hasChildNodes()) {\r\n                container.childNodes.forEach(el => {\r\n                    if (el !== elem) {\r\n                        container.removeChild(el);\r\n                    }\r\n                });\r\n            }\r\n        } else {\r\n            container = document.createElement('div');\r\n            container.classList.add('date-overlay-container');\r\n            container.classList.add('overlay-container');\r\n            document.body.appendChild(container);\r\n        }\r\n        container.appendChild(elem);\r\n    }\r\n\r\n    private getSelectorPosition(elem: any): IMySelectorPosition {\r\n        let top = 0;\r\n        let left = 0;\r\n        let _selectorHeight = 0;\r\n        let _selectorWidth = 0;\r\n        const {\r\n            selectorHeight,\r\n            selectorWidth,\r\n            showTime,\r\n            dateRange\r\n        } = this.opts;\r\n\r\n        const b: any = document.body.getBoundingClientRect();\r\n        const e: any = elem.getBoundingClientRect();\r\n        top = e.top - b.top;\r\n        left = e.left - b.left;\r\n        let position = 'bottom';\r\n        if (dateRange) {\r\n            _selectorWidth = this.getSelectorDimension(selectorWidth) * 2;\r\n        } else {\r\n            _selectorWidth = this.getSelectorDimension(selectorWidth);\r\n        }\r\n\r\n        if (showTime) {\r\n            _selectorHeight = this.getSelectorDimension(selectorHeight) + 36;\r\n        } else {\r\n            _selectorHeight = this.getSelectorDimension(selectorHeight);\r\n        }\r\n        if (top + elem.offsetHeight + _selectorHeight > window.innerHeight && top - _selectorHeight - 2 > 0) {\r\n            top = top - _selectorHeight - 2;\r\n            position = 'top';\r\n        } else {\r\n            top = top + elem.offsetHeight + 2;\r\n        }\r\n\r\n        if (left + _selectorWidth > b.width) {\r\n            left = b.width - _selectorWidth - 15;\r\n        }\r\n        left = left > 0 ? left : 0;\r\n        return { top , left, position };\r\n    }\r\n\r\n    private getSelectorDimension(value: string): number {\r\n        return Number(value.replace(PX, EMPTY_STR));\r\n    }\r\n}\r\n","import { NotifyService } from '@farris/ui-notify';\r\nimport { DateTimeHelperService } from '@farris/ui-common/date';\r\nimport {\r\n    Component, OnInit, Input, EventEmitter, Output, ViewChild, forwardRef, SimpleChanges,\r\n    ElementRef, HostListener, OnChanges, HostBinding, Injector, ComponentRef, ViewContainerRef, ComponentFactoryResolver,\r\n    Renderer2, OnDestroy, AfterViewInit, ApplicationRef, ChangeDetectorRef\r\n} from '@angular/core';\r\nimport { NG_VALUE_ACCESSOR, ControlValueAccessor, NgControl } from '@angular/forms';\r\nimport { FarrisDatePickerDirective } from './farris-datepicker.input';\r\nimport {\r\n    IMyOptions, IMyDate, IMyDateModel, IMyShortcuts, IMyDateFormat,\r\n    IMyCalendarViewChanged, IMyRangeDateSelection\r\n} from './interfaces/public-api';\r\n\r\nimport { DefaultView, ShowType, CalToggle } from './enums/public-api';\r\n\r\nimport { UtilService, DefaultConfigService, DatepickerLocaleService, DatePickerService } from './services/public-api';\r\nimport { LocaleService } from '@farris/ui-locale';\r\nimport { differenceInSeconds, isDate, isValid, parse } from 'date-fns';\r\nimport { CalendarComponent } from './components/calendar/calendar.component';\r\nimport { CLICK, EMPTY_STR } from './constants/constants';\r\nimport { CommonUtils, OverLayHiddenService } from '@farris/ui-common';\r\nimport { MultiSelectedOrderBy, ViewType } from './interfaces/my-options.interface';\r\nimport { DynamicData } from './interfaces/dynamic-data-type.interface';\r\n\r\nconst FARRIS_DP_VALUE_ACCESSOR = {\r\n    provide: NG_VALUE_ACCESSOR,\r\n    useExisting: forwardRef(() => FarrisDatepickerComponent),\r\n    multi: true\r\n};\r\n\r\n@Component({\r\n    selector: 'farris-datepicker',\r\n    exportAs: 'farris-datepicker',\r\n    templateUrl: './farris-datepicker.component.html',\r\n    styles: [\r\n        `\r\n            :host {\r\n                display: block;\r\n            }\r\n\r\n            :host .datepicker-clear {\r\n                position: absolute;\r\n                height: 100%;\r\n                right: 0;\r\n                top: 0;\r\n                z-index: 100;\r\n            }\r\n        `\r\n    ],\r\n    providers: [FARRIS_DP_VALUE_ACCESSOR, UtilService, DefaultConfigService, LocaleService]\r\n})\r\nexport class FarrisDatepickerComponent implements OnInit, ControlValueAccessor, OnChanges, OnDestroy, AfterViewInit {\r\n\r\n    @HostBinding('class') cls = 'f-cmp-datepicker f-cmp-inputgroup';\r\n\r\n    @Input() viewType: ViewType = ViewType.Switch;\r\n\r\n    // æ¯å¦ç¦ç¨è¯¥ç»ä»¶\r\n    @Input() disabled = false;\r\n    // æ¯å¦åªè¯»\r\n    @Input() readonly = false;\r\n    // æ¯å¦åªè½éæ©æ°æ®ï¼ä¸å¯é®å¥\r\n    @Input() editable = true;\r\n    // æ¯å¦ä½¿ç¨æ¥æèå´è¾å¥æ¨¡å¼\r\n    @Input() dateRange = false;\r\n    // æ¯å¦ä½¿ç¨æ¶é´è¾å¥æ¡\r\n    @Input() showTime = false;\r\n\r\n    @Input() hourStep = 1;\r\n    @Input() minuteStep = 1;\r\n    @Input() secondStep = 1;\r\n\r\n\r\n    // æ¾ç¤ºç±»å\r\n    @Input() showType: ShowType = ShowType.all;\r\n    // æ¬å°è¯­è¨\r\n    @Input() locale = 'zh-cn';\r\n    // æ¥ææ ¼å¼\r\n    @Input()\r\n    set dateFormat(value: string) {\r\n        if (value) {\r\n            // value æ ¼å¼å½¢å¦ yyyy-MM-dd HH:mm:ss\r\n            // const formArr = 'yyyy-MM-dd HH:mm:ss'.split(' ');\r\n            value = value.replace(/^\\s+|\\s+$/g, ''); // å»æå·¦å³ç©ºæ ¼\r\n            value = value.replace(/\\s+/g, ' '); // å°ä¸­é´çå¤ä¸ªè¿ç»­ç©ºæ ¼ï¼æ¿æ¢ä¸º1ä¸ªç©ºæ ¼\r\n            const formArr = value.split(' ');\r\n            this._dateFormat = formArr[0];\r\n            // å¤ç'yyyy-MM-dd h:mm:ss a'å³12å°æ¶æ¾ç¤ºçæåµ\r\n            if (formArr.length === 3) {\r\n                this._timeFormat = 'h:mm:ss a';\r\n            } else {\r\n                this._timeFormat = formArr[1];\r\n            }\r\n        }\r\n\r\n        // this._dateFormat = this._dateFormat ? (this._dateFormat + '').replace(/m/g, 'M') : '';\r\n        if (this._dateFormat) {\r\n            const mm = ['yyyy-mm', 'yyyy/mm', 'yyyyå¹´mm', 'mm/yyyy'];\r\n            const _mm = mm.find(m => this._dateFormat.includes(m));\r\n            if (_mm) {\r\n                this._dateFormat = this._dateFormat.replace(_mm, _mm.replace(/m/g, 'M'));\r\n            }\r\n\r\n            if (this._timeFormat && this.showTime) {\r\n                this._dateFormat += ' ' + this._timeFormat;\r\n                if (this._timeFormat.indexOf('æ¶') > -1) {\r\n                    this._timeFormat = this._timeFormat.replace('æ¶', ':').replace('å', ':').replace('ç§', '');\r\n                }\r\n            }\r\n        }\r\n\r\n        // this.dateOpts.dateFormat = this._dateFormat;\r\n    }\r\n    get dateFormat(): string {\r\n        return this._dateFormat;\r\n    }\r\n    // æ¯å¦ä½¿ç¨é»è®¤å¼\r\n    @Input() useDefault = false;\r\n    @Input() returnType: 'Object' | 'Date' | 'String' = 'String';\r\n    @Input() returnFormat: string;\r\n    // placeholder\r\n    @Input() placeholder = '';\r\n    @Input() beginPlaceholder = '';\r\n    @Input() endPlaceholder = '';\r\n    /** è¾å¥å¼åååå³é­éæ©é¢æ¿ã é»è®¤ä¸º true */\r\n    @Input() whenValueChangedThenCloseSelectorPanel = true;\r\n    // æå°æ¥æ\r\n    // å å¥æ¥æ¶æ¶åç§åè½\r\n    @Input()\r\n    set minDate(val: any) {\r\n        const type = Object.prototype.toString.call(val);\r\n        let date: Date;\r\n        switch (type) {\r\n            case '[object Date]':\r\n                date = val;\r\n                break;\r\n            case '[object String]':\r\n                if (val) {\r\n                    date = new Date(val);\r\n                } else {\r\n                    date = new Date(1840, 1, 1, 0, 0, 0);\r\n                }\r\n                break;\r\n            case '[object Null]':\r\n                date = new Date(1840, 1, 1, 0, 0, 0);\r\n                break;\r\n            // case null:\r\n            //     date = new Date(1840, 1, 1, 0, 0, 0);\r\n            //     break;\r\n            case '[object Undefined]':\r\n                date = new Date(1840, 1, 1, 0, 0, 0);\r\n                break;\r\n            default:\r\n                date = new Date(1840, 1, 1, 0, 0, 0);\r\n                break;\r\n        }\r\n        if (isValid(date)) {\r\n            const year = date.getFullYear();\r\n            const month = date.getMonth() + 1;\r\n            const day = date.getDate();\r\n            const hour = date.getHours();\r\n            const minute = date.getMinutes();\r\n            const second = date.getSeconds();\r\n            this._minDate = { year, month, day, hour, minute, second };\r\n        }\r\n    }\r\n    get minDate() {\r\n        return this._minDate;\r\n    }\r\n    // æå¤§æ¥æ\r\n    // å å¥æ¥æ¶æ¶åç§åè½\r\n    @Input()\r\n    set maxDate(val: any) {\r\n        const type = Object.prototype.toString.call(val);\r\n        let date: Date;\r\n\r\n        switch (type) {\r\n            case '[object Date]':\r\n                date = val;\r\n                break;\r\n            case '[object String]':\r\n                if (val) {\r\n                    date = new Date(val);\r\n                } else {\r\n                    date = new Date(10000, 1, 1, 0, 0, 0);\r\n                }\r\n                break;\r\n            case '[object Null]':\r\n                date = new Date(10000, 1, 1, 0, 0, 0);\r\n                break;\r\n            // case null:\r\n            //     date = new Date(10000, 1, 1, 0, 0, 0);\r\n            //     break;\r\n            case '[object Undefined]':\r\n                date = new Date(10000, 1, 1, 0, 0, 0);\r\n                break;\r\n            default:\r\n                date = new Date(10000, 1, 1, 0, 0, 0);\r\n                break;\r\n        }\r\n        if (isValid(date)) {\r\n            const year = date.getFullYear();\r\n            const month = date.getMonth() + 1;\r\n            const day = date.getDate();\r\n            const hour = date.getHours();\r\n            const minute = date.getMinutes();\r\n            const second = date.getSeconds();\r\n            this._maxDate = { year, month, day, hour, minute, second };\r\n        }\r\n    }\r\n    get maxDate() {\r\n        return this._maxDate;\r\n    }\r\n    // éè¦é«äº®æ¾ç¤ºçæ¥æ\r\n    @Input() highlightDates: Array<IMyDate> = [];\r\n    // ç¦ç¨åºåçæ¥æå¼å§æ¶é´\r\n    @Input() disableDateRangesBegin: IMyDate = {\r\n        year: 0,\r\n        month: 0,\r\n        day: 0\r\n    };\r\n    // ç¦ç¨åºåçæ¥æç»ææ¶é´\r\n    @Input() disableDateRangesEnd: IMyDate = {\r\n        year: 0,\r\n        month: 0,\r\n        day: 0\r\n    };\r\n    // ç¦ç¨çæ¥æ\r\n    @Input() disableDates: Array<IMyDate> = [];\r\n    // ä¸å¨ä¸­è¢«ç¦ç¨çæ¥å­\r\n    @Input() disableWeekdays: Array<string> = [];\r\n    // è¢«æ è®°çæ¥æ\r\n    @Input() markDates: Array<IMyDate> = [];\r\n    // è¢«æ è®°çæ¥æçæ¾ç¤ºé¢è²\r\n    @Input() markDatesColor = '#59a1ff';\r\n    // æ¯å¦æ¾ç¤ºç¬¬å å¨\r\n    @Input() showWeekNumbers = false;\r\n    // æ¯å¦æ è®°å¨æ«\r\n    @Input() isMarkWeekends = false;\r\n    // è¢«æ è®°å¨æ«çæ¾ç¤ºé¢è²\r\n    @Input() markWeekendsColor = '#59a1ff';\r\n    // æ¥æèå´æ¨¡å¼ä¸inputçæ¾ç¤ºåå²ç¬¦å\r\n    @Input() dateRangeDatesDelimiter = '~';\r\n    // éç½®å·¦ä¾§ sidebar å¿«æ·é®\r\n    @Input() shortcuts: Array<IMyShortcuts> = [];\r\n    // æ¥æèå´éæ©æ¶ï¼é»è®¤ç»ææä»½ä¸ºå½åæä»½ + monthRangeValue\r\n    @Input() monthRangeValue = 1;\r\n    // æ¥æèå´ï¼å¼å§æ¥æ\r\n    @Input()\r\n    set beginValue(value: string | Date) {\r\n        value = value ? value : '';\r\n        if (value instanceof Date) {\r\n            value = this.dateTo(value);\r\n            this.returnType = 'Date';\r\n        } else {\r\n            if (value.indexOf('T') > -1) {\r\n                value = value.replace('T', ' ');\r\n            }\r\n            this.returnType = 'String';\r\n        }\r\n        this._beginValue = value;\r\n        if (this._initFinished) {\r\n            this.setValue(this._beginValue + this.dateRangeDatesDelimiter + this._endValue);\r\n        }\r\n    }\r\n    get beginValue() {\r\n        return this.dateFrom(this._beginValue, true);\r\n    }\r\n    // æ¥æèå´ï¼ç»ææ¥æ\r\n    @Input()\r\n    set endValue(value: string | Date) {\r\n        value = value ? value : '';\r\n        if (value instanceof Date) {\r\n            value = this.dateTo(value);\r\n            this.returnType = 'Date';\r\n        } else {\r\n            if (value.indexOf('T') > -1) {\r\n                value = value.replace('T', ' ');\r\n            }\r\n            this.returnType = 'String';\r\n        }\r\n        this._endValue = value;\r\n        if (this._initFinished) {\r\n            this.setValue(this._beginValue + this.dateRangeDatesDelimiter + this._endValue);\r\n        }\r\n    }\r\n    get endValue() {\r\n        return this.dateFrom(this._endValue, true);\r\n    }\r\n\r\n    /**\r\n     * å¯ç¨å¨ææ¥æå¼è®¾ç½®ï¼é»è®¤ false\r\n     */\r\n    @Input() enableDynamic = false;\r\n    /** åè®¸è®¾ç½®è¿å»æå¤§å¤©æ° */\r\n    @Input() previousMaxDays = 30;\r\n    /** åè®¸è®¾ç½®æªæ¥æå¤§å¤©æ° */\r\n    @Input() futureMaxDays = 30;\r\n\r\n    @Input() showClear = true;\r\n    /** æ¾ç¤ºä»å¤©ï¼æ¬å¹´ï¼æ¬æ æé® */\r\n    @Input() showPresent = false;\r\n    /** æ¯å¨èµ·å§æ¥  å¯éå¼ moï¼å¨ä¸  su: å¨æ¥ï¼é»è®¤ä¸º moå¨ä¸ */\r\n    @Input() firstDayOfWeek: 'mo'|'su' = 'mo';\r\n\r\n    // clear äºä»¶\r\n    @Output() clear = new EventEmitter();\r\n    // valueChanged äºä»¶\r\n    @Output() valueChange = new EventEmitter();\r\n    // focus äºä»¶\r\n    @Output() focus = new EventEmitter();\r\n    // blur äºä»¶\r\n    @Output() blur = new EventEmitter();\r\n    // beginValueChange\r\n    @Output() beginValueChange = new EventEmitter();\r\n    // endValueChange\r\n    @Output() endValueChange = new EventEmitter();\r\n    // PrevFocus dateRange ç¬¬ä¸ä¸ªæ¥æ\r\n    @Output() PrevFocus = new EventEmitter();\r\n    // NextFocus dateRange ç¬¬äºä¸ªæ¥æ\r\n    @Output() NextFocus = new EventEmitter();\r\n\r\n    // close äºä»¶\r\n    @Output() close = new EventEmitter();\r\n\r\n    /** å¯ç¨å¤éï¼é»è®¤ false */\r\n    @Input() multiSelect = false;\r\n    @Input() separator = ',';\r\n    /** åè®¸éæ©æ¥æçä¸ªæ°ï¼ 0 æ é */\r\n    @Input() maxSelected = 0;\r\n    /** éä¸­æ¥æçæåºæ¹å¼ï¼é»è®¤ä¸º 'none' å³ä¸æåº */\r\n    @Input() selectedOrderBy: MultiSelectedOrderBy = 'none';\r\n\r\n\r\n    @ViewChild(FarrisDatePickerDirective) dp: FarrisDatePickerDirective;\r\n    @ViewChild('clearIcon') clearIcon: ElementRef;\r\n    @ViewChild('calendar', { read: ViewContainerRef }) calendarRef: ViewContainerRef;\r\n    @ViewChild('onPrevFocus') PFocus: ElementRef;\r\n    @ViewChild('onNextFocus') NFocus: ElementRef;\r\n\r\n    @ViewChild('dateInput') dateInput: ElementRef;\r\n\r\n    private cRef: ComponentRef<CalendarComponent> = null;\r\n    private _timeFormat = '';\r\n    private _value = '';\r\n    public _beginValue = '';\r\n    public _endValue = '';\r\n    private _initFinished = false;\r\n    private _timer: any;\r\n    private _dateFormat: string;\r\n    private _minDate: IMyDate = {\r\n        year: 1840,\r\n        month: 1,\r\n        day: 1,\r\n        hour: 0,\r\n        minute: 0,\r\n        second: 0\r\n    };\r\n    private _maxDate: IMyDate = {\r\n        year: 10000,\r\n        month: 1,\r\n        day: 1,\r\n        hour: 0,\r\n        minute: 0,\r\n        second: 0\r\n    };\r\n    set value(v) {\r\n        this._value = v ? v : '';\r\n    }\r\n    get value() {\r\n        return this._value;\r\n    }\r\n    selectedWeek = null;\r\n    dateOpts: IMyOptions = {};\r\n    defaultConfig: IMyOptions;\r\n    localDateOpts: IMyOptions;\r\n    localeConfig: DatepickerLocaleService;\r\n    localeService: LocaleService;\r\n    // å¼å§è¾å¥æ§ä»¶èç¦\r\n    beginFocus = false;\r\n    // ç»æè¾å¥æ§ä»¶èç¦\r\n    endFocus = false;\r\n    // æ´ä½èç¦\r\n    totalFocus = false;\r\n\r\n    originTime: any;\r\n    // æ¯å¦å­ç¬¦è¶é¿æ¾ç¤ºTip\r\n    isActiveTip = false;\r\n    private vcRef: ViewContainerRef;\r\n    private cfr: ComponentFactoryResolver;\r\n    private renderer: Renderer2;\r\n    private datePicekrService: DatePickerService;\r\n    _realValue = null;\r\n    private _realRangeValue = null;\r\n    private notifySer: NotifyService;\r\n    private formatedValue = '';\r\n    dtService: DateTimeHelperService = null;\r\n    private _applicationRef: ApplicationRef;\r\n\r\n    private _ngControl: NgControl;\r\n    _updateOn = 'change';\r\n\r\n    // æ¥æéæ©åè®¾ç½®ä¸º trueï¼ blur äºä»¶å°ä¸ä¼éå¤æ§è¡valueChangedï¼\r\n    // é®çä¿®æ¹æ¶ï¼blur äºä»¶ä¸­ä¼æ§è¡ä¸æ¬¡ valueChanged åï¼å°æ­¤å¼è®¾ä¸º false;\r\n    private _valueChangeEmitted = false;\r\n    private _mousedownEvent = null;\r\n    private closeCalendarHandler = null;\r\n    private cdr: ChangeDetectorRef = null;\r\n    /** ç¼å­éè¿ç¹å»æ¥åçæ°æ®ï¼ç¨äºçæ ¼å¼åæ ¼å¼ä¸æ åæ¶ï¼æ ¼å¼åæ°æ®ã */\r\n    private _SELECT_DATE_ = null;\r\n\r\n    dynamicText = '';\r\n    @Input() dynamicValue: DynamicData = null;\r\n    @Output() dynamicValueChange = new EventEmitter();\r\n    @Output() dynamicViewChanged = new EventEmitter();\r\n\r\n    onModelChange = (obj: any) => { };\r\n    onModelTouched = () => { };\r\n\r\n    private commonUtils: CommonUtils;\r\n\r\n    private overLayService: OverLayHiddenService;\r\n    constructor(\r\n        private el: ElementRef,\r\n        private utilService: UtilService,\r\n        private defaultConfigService: DefaultConfigService,\r\n        private injector: Injector\r\n    ) {\r\n        this.defaultConfig = this.defaultConfigService.getDefaultConfig();\r\n        if (this.injector) {\r\n            this.localeService = this.injector.get(LocaleService);\r\n            this.dtService = this.injector.get(DateTimeHelperService);\r\n            this.notifySer = this.injector.get(NotifyService, null);\r\n            if (this.notifySer) {\r\n                this.notifySer.config.position = 'top-center';\r\n            }\r\n        }\r\n        this.localeConfig = new DatepickerLocaleService();\r\n        this.vcRef = this.injector.get(ViewContainerRef, null);\r\n        this.cfr = this.injector.get(ComponentFactoryResolver, null);\r\n        this.renderer = this.injector.get(Renderer2, null);\r\n        this._applicationRef = this.injector.get(ApplicationRef);\r\n        this.cdr = this.injector.get(ChangeDetectorRef);\r\n\r\n        this.overLayService = new OverLayHiddenService();\r\n\r\n        this.commonUtils = this.injector.get(CommonUtils, new CommonUtils());\r\n    }\r\n\r\n    ngOnInit(): void {\r\n\r\n        this._ngControl = this.injector.get(NgControl, null);\r\n\r\n        this.initPlaceholder();\r\n        this.mergeDateOptions();\r\n        if (this._beginValue && this._endValue) {\r\n            this.setValue(this._beginValue + this.dateRangeDatesDelimiter + this._endValue);\r\n        }\r\n        this._initFinished = true;\r\n        this.datePicekrService = new DatePickerService(this.dateOpts);\r\n    }\r\n\r\n    private initPlaceholder() {\r\n        if (this.localeService) {\r\n            this.locale = this.localeService.getValue('locale');\r\n            this.localDateOpts = this.localeConfig.getLocaleOptions(this.locale);\r\n            this.placeholder = this.placeholder\r\n                ? this.placeholder\r\n                : this.localDateOpts.placeholder\r\n                    ? this.localDateOpts.placeholder\r\n                    : 'è¯·éæ©æ¥æ';\r\n            if (!this.beginPlaceholder) {\r\n                this.beginPlaceholder = this.localDateOpts.range.begin || this.placeholder;\r\n            }\r\n\r\n            if (!this.endPlaceholder) {\r\n                this.endPlaceholder = this.localDateOpts.range.end || this.placeholder;\r\n            }\r\n        }\r\n    }\r\n\r\n    private mergeDateOptions() {\r\n        this.dateOpts = { ...this.defaultConfig, ...this.buildOptions() };\r\n\r\n        if (this.dateOpts.dateFormat) {\r\n            if (!this._dateFormat) {\r\n                this.dateFormat = this.dateOpts.dateFormat;\r\n                this.dateOpts.dateFormat = this.dateFormat;\r\n            }\r\n        }\r\n\r\n        if (this.showTime && !this._timeFormat) {\r\n            this._timeFormat = 'HH:mm:ss';\r\n            this.dateOpts.timeFormat = this._timeFormat;\r\n        }\r\n\r\n        if (this.dateOpts.returnFormat) {\r\n            if (!this.returnFormat) {\r\n                this.returnFormat = this.dateOpts.returnFormat;\r\n            }\r\n        }\r\n    }\r\n\r\n    ngOnChanges(changes: SimpleChanges) {\r\n        if (changes.locale && changes.locale.isFirstChange()) {\r\n            this.localDateOpts = this.localeConfig.getLocaleOptions(this.locale);\r\n        }\r\n        if (changes) {\r\n            let flag = false;\r\n\r\n            const inputs = ['showTime', 'showType', 'dateRange', 'maxDate', 'minDate', 'monthRangeValue', 'maxSelected', 'separator', 'selectedOrderBy'];\r\n\r\n\r\n            Object.keys(changes).forEach(e => {\r\n                if (!changes[e].isFirstChange() && (this.dateOpts[e] || inputs.includes(e))) {\r\n                    flag = true;\r\n                }\r\n            });\r\n            if (flag) {\r\n                this.dateOpts = { ...(this.dateOpts ||this.defaultConfig), ...this.buildOptions() };\r\n            }\r\n        }\r\n        if (\r\n            changes.readonly &&\r\n            !changes.readonly.currentValue &&\r\n            !changes.readonly.firstChange &&\r\n            !this.value &&\r\n            this.useDefault\r\n        ) {\r\n            this.setDefaultValue();\r\n        }\r\n    }\r\n\r\n    ngAfterViewInit() {\r\n        if (this._ngControl && this._ngControl.control) {\r\n            this._updateOn = this._ngControl.control.updateOn;\r\n        }\r\n\r\n        this._timer = setTimeout(() => {\r\n            this.setDefaultValue();\r\n        });\r\n    }\r\n\r\n    ngOnDestroy(): void {\r\n        clearTimeout(this._timer);\r\n        this.closeSelector();\r\n\r\n        this.overLayService.destory(this.el.nativeElement);\r\n        this.overLayService = null;\r\n    }\r\n\r\n    @HostListener('mouseenter', ['$event']) onMouseEnter(event) {\r\n        if (this.value && !this.readonly && !this.disabled) {\r\n            if (this.value && this.clearIcon) {\r\n                this.clearIcon.nativeElement.style.visibility = '';\r\n            }\r\n            if (this.dateOpts.dateRange) {\r\n                if (this.dateOpts.showTime) {\r\n                    this.isActiveTip = this.el.nativeElement.getBoundingClientRect().width < 300;\r\n                } else {\r\n                    this.isActiveTip = this.el.nativeElement.getBoundingClientRect().width < 190;\r\n                }\r\n            } else {\r\n                if (this.dateOpts.showTime) {\r\n                    this.isActiveTip = this.el.nativeElement.getBoundingClientRect().width < 170;\r\n                } else {\r\n                    this.isActiveTip = this.el.nativeElement.getBoundingClientRect().width < 120;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    @HostListener('mouseleave', ['$event']) onMouseLeave(event) {\r\n        if (!this.readonly && !this.disabled && this.clearIcon) {\r\n            this.clearIcon.nativeElement.style.visibility = 'hidden';\r\n        }\r\n    }\r\n\r\n    onBlur(e) {\r\n        this.totalFocus = false;\r\n\r\n        let _runblur = true;\r\n        if (this.value) {\r\n            try {\r\n                this.value = this.transform(this.value);\r\n                const valid = this._isValid(this.value);\r\n                if (!valid) {\r\n                    this.clearDate();\r\n                    _runblur = false;\r\n                }\r\n            } catch (e) {\r\n                this.clearDate();\r\n                _runblur = false;\r\n            }\r\n        }\r\n\r\n        const updateModel = () => {\r\n            if (!this._valueChangeEmitted) {\r\n                const realDate = this.dateFrom(this.transform(this.value, this.returnFormat));\r\n                this.onNgModelChange(this.value, realDate, true);\r\n                this.onModelTouched();\r\n            }\r\n        };\r\n\r\n        if (this.editable && _runblur) {\r\n            if (this['inDatagrid']) {\r\n                updateModel();\r\n            } else {\r\n                setTimeout(updateModel, 250);\r\n            }\r\n        }\r\n        this._valueChangeEmitted = false;\r\n        if (this._mousedownEvent) {\r\n            this._mousedownEvent();\r\n            this._mousedownEvent = null;\r\n        }\r\n        this.blur.emit();\r\n    }\r\n\r\n    onFocus(e) {\r\n        this.totalFocus = true;\r\n        this.registerMouseDownHandle();\r\n        this.focus.emit();\r\n    }\r\n\r\n    onInputClick(event) {\r\n        event.stopPropagation();\r\n        if (!this.readonly && !this.disabled) {\r\n            this.registerMouseDownHandle();\r\n            this.toggleCalendar(false);\r\n        }\r\n    }\r\n\r\n    private registerMouseDownHandle() {\r\n        if (!this._mousedownEvent) {\r\n            this._mousedownEvent = this.renderer.listen(document, 'mousedown', (e: any) => {\r\n                if (e.target.className.toString().indexOf('SVGAnimatedString') > -1) {\r\n                    return;\r\n                }\r\n\r\n                if (e.target.closest('.dynamic-view-item')) {\r\n                    return;\r\n                }\r\n\r\n                if (e.target.closest('.f-cmp-datepicker') ||\r\n                    e.target.closest('.f-datepicker-container') || e.target.className.indexOf('f-icon-date') > -1) {\r\n                    if (this.dateInput) {\r\n                        this.renderer.setStyle(this.dateInput.nativeElement, 'unselectable', 'on');\r\n                    }\r\n                    e.preventDefault();\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    setDefaultValue() {\r\n        if (!this.readonly && !this.value && this.useDefault) {\r\n            const now = new Date();\r\n            let nowValue = '';\r\n            if (!this.dateOpts.dateRange) {\r\n                nowValue = this.dateTo(now);\r\n\r\n            } else {\r\n                nowValue =\r\n                    this.dateTo(now) +\r\n                    this.dateRangeDatesDelimiter +\r\n                    this.dateTo(new Date(now.setMonth(now.getMonth() + 1)));\r\n\r\n            }\r\n            if (this.datePicekrService.validate(nowValue)) {\r\n                this.value = nowValue;\r\n                this.onNgModelChange(this.value);\r\n                this.onModelTouched();\r\n            }\r\n        }\r\n    }\r\n\r\n    clearDynamicDate($event = null) {\r\n        if ($event) {\r\n            $event.stopPropagation();\r\n        }\r\n\r\n        this.dateOpts.dynamicValueChanged(null);\r\n    }\r\n\r\n    clearDate($event: MouseEvent = null) {\r\n        if ($event) {\r\n            $event.stopPropagation();\r\n        }\r\n\r\n        this._SELECT_DATE_ = null;\r\n\r\n        if (!this.disabled) {\r\n            this._realRangeValue = null;\r\n            this._realValue = null;\r\n            this.selectedWeek = null;\r\n            this.onDateChanged({\r\n                isRange: this.dateOpts.dateRange,\r\n                singleDate: {\r\n                    date: this.utilService.resetDate(),\r\n                    jsDate: null,\r\n                    formatted: EMPTY_STR,\r\n                    epoc: 0\r\n                },\r\n                dateRange: {\r\n                    beginDate: this.utilService.resetDate(),\r\n                    beginJsDate: null,\r\n                    beginEpoc: 0,\r\n                    endDate: this.utilService.resetDate(),\r\n                    endJsDate: null,\r\n                    endEpoc: 0,\r\n                    formatted: EMPTY_STR\r\n                }\r\n            });\r\n            this.closeSelector(CalToggle.CloseByCalBtn);\r\n            this.onModelChange(null);\r\n            this.clear.emit();\r\n            if (this.clearIcon) {\r\n                this.clearIcon.nativeElement.style.visibility = 'hidden';\r\n            }\r\n        }\r\n    }\r\n\r\n    onSingleInputNgModelChange($event) {\r\n        this.value = $event || '';\r\n        this._realValue = this.value ? this.dateFrom($event) : '';\r\n        this.closeSelector();\r\n    }\r\n\r\n\r\n    onNgModelChange(value: any, realdate = null, emitValueChange = false) {\r\n        // this.value = value;\r\n        if (this.dateRange || this.showType == ShowType.selectWeek) {\r\n\r\n            const tmpArr = value ? value.split(this.dateRangeDatesDelimiter) : ['', ''];\r\n            const _beginValue = this.transform(tmpArr[0], this.returnFormat);\r\n            const _endValue = this.transform(tmpArr[1], this.returnFormat);\r\n\r\n            this._beginValue = this.transform(tmpArr[0]);\r\n            this._endValue = this.transform(tmpArr[1]);\r\n\r\n\r\n            value = _beginValue && _endValue ? _beginValue + this.dateRangeDatesDelimiter + _endValue : '';\r\n            this._realRangeValue = value;\r\n            this.onModelChange(value);\r\n            this.cdr.detectChanges();\r\n            this.beginValueChange.emit(this._beginValue);\r\n            this.endValueChange.emit(this._endValue);\r\n\r\n            const p = {\r\n                date: null,\r\n                formatted: this.value,\r\n                returnFormatted: this._realRangeValue,\r\n                cmpRef: this\r\n            };\r\n\r\n            this.valueChange.emit(p);\r\n        } else {\r\n\r\n            if (value === '') {\r\n                this.value = '';\r\n                this._onModelChange(null, emitValueChange);\r\n                return;\r\n            }\r\n\r\n            if (realdate) {\r\n                this._realValue = this.getRealReturnFormatted(realdate);\r\n                this._onModelChange(this._realValue, emitValueChange);\r\n\r\n                if (this.dateInput && this.dateInput.nativeElement.value !== this.value) {\r\n                    this.renderer.setProperty(this.dateInput.nativeElement, 'value', this.value);\r\n                }\r\n            } else {\r\n                if (this._isValid(value)) {\r\n                    this._realValue = this.getRealReturnFormatted(realdate);\r\n                    if (this.dateInput) {\r\n                        this.renderer.setProperty(this.dateInput.nativeElement, 'value', this.value);\r\n                    }\r\n                    this._onModelChange(this._realValue, emitValueChange);\r\n                }\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n    private _onModelChange(realValue, emit) {\r\n        this._realValue = realValue;\r\n        this.onModelChange(realValue);\r\n        if (emit) {\r\n            const p = {\r\n                date: this.utilService.isDateValid(this.value, this.dateOpts, true),\r\n                formatted: this.value,\r\n                returnFormatted: realValue,\r\n                cmpRef: this\r\n            };\r\n\r\n            if (this.valueChange.observers.length) {\r\n                if (this.whenValueChangedThenCloseSelectorPanel) {\r\n                    this.closeSelector();\r\n                }\r\n\r\n                this.valueChange.emit(p);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    private getRealReturnFormatted(realdate: any) {\r\n\r\n        if (realdate) {\r\n            if (this.returnType === 'Date') {\r\n                return realdate;\r\n            } else {\r\n                if (this.returnFormat) {\r\n                    return this.dtService.formatTo(realdate, this.returnFormat);\r\n                }\r\n                return realdate;\r\n            }\r\n        } else {\r\n            return this.dateFrom(this._realValue || this.value) || '';\r\n        }\r\n    }\r\n\r\n    onDateRangeInputBlur(event: any) {\r\n        this.setValue(this._beginValue + this.dateRangeDatesDelimiter + this._endValue);\r\n        this.onNgModelChange(this._realRangeValue || this.value);\r\n    }\r\n\r\n    openCalendar(): void {\r\n        if (this.disabled) {\r\n            return;\r\n        }\r\n\r\n        let val = this._realValue;\r\n\r\n        if (!this.multiSelect) {\r\n            if (this.dateRange || this.showType == ShowType.selectWeek) {\r\n                val = this._realRangeValue;\r\n            } else {\r\n                if (this.returnType === 'Date') {\r\n                    val = this.transform(val, this.returnFormat);\r\n                }\r\n            }\r\n        }\r\n\r\n        if (this.cRef === null) {\r\n            this.cRef = this.calendarRef.createComponent(\r\n                this.cfr.resolveComponentFactory(CalendarComponent)\r\n            );\r\n\r\n            this.datePicekrService.appendSelector(this.cRef.location.nativeElement);\r\n\r\n            this.datePicekrService.registerScrollEvent(() => {\r\n                this.closeSelector();\r\n            });\r\n\r\n            this.cRef.instance.dateHlp = this.dtService;\r\n\r\n            if (this.showType === 4 && this.selectedWeek) {\r\n                this.cRef.instance.selectedWeek = this.selectedWeek;\r\n            }\r\n\r\n            if (this.multiSelect) {\r\n                this.cRef.instance.multiDatesChanged = (dates: any[]) => {\r\n                    this.value = dates.map(n => n.value).join(this.separator);\r\n                    this._realValue = dates.map(n => this.dtService.formatTo( `${n.year}-${n.month}-${n.day}` , this.returnFormat)).join(this.separator);\r\n                    this.multiSelectedChanged();\r\n                }\r\n\r\n                this.cRef.instance.showNotify = () => {\r\n                    const msg =  this.localDateOpts.message['102'].replace('${0}', this.maxSelected);\r\n                    if (this.notifySer) {\r\n                        this.notifySer.warning(msg);\r\n                    } else {\r\n                        alert(msg);\r\n                    }\r\n                };\r\n            }\r\n\r\n            this.cRef.instance.initialize(\r\n                this.dateOpts,\r\n                '',\r\n                this.datePicekrService.getSelectorPosition(this.el.nativeElement, this.cRef),\r\n                val,\r\n                (dm: IMyDateModel, close: boolean) => {\r\n\r\n                    if (this.dateOpts.dateRange && this.showTime && dm.dateRange.endJsDate < dm.dateRange.beginJsDate) {\r\n                        // const { year: beginYear, month: beginMonth,  day: beginDay  } = {...dm.dateRange.beginDate};\r\n                        // const { year: endYear, month: endMonth,  day: endDay  } = {...dm.dateRange.endDate};\r\n                        // error message:  The end time must not be earlier than the start time\r\n                        // error message:  çµææéä¸å¾æ©äºéå§æé\r\n                        const msg = this.localDateOpts.message['101'];\r\n                        if (this.notifySer) {\r\n                            this.notifySer.warning(msg);\r\n                        } else {\r\n                            alert(msg);\r\n                        }\r\n                        return;\r\n                    }\r\n                    this.selectedWeek = this.cRef.instance.selectedWeek;\r\n                    this.onDateChanged(dm);\r\n                    if (close) {\r\n                        this.closeSelector(CalToggle.CloseByDateSel);\r\n                    }\r\n                },\r\n                (cvc: IMyCalendarViewChanged) => {\r\n                    // this.emitCalendarChanged(cvc);\r\n                },\r\n                (rds: IMyRangeDateSelection) => {\r\n                    // this.emitRangeDateSelection(rds);\r\n                },\r\n                () => {\r\n                    this.closeSelector(CalToggle.CloseByEsc);\r\n                }\r\n            );\r\n\r\n            this.cRef.instance.dynamicViewShow.subscribe((e: {showDynamicView: boolean}) => {\r\n                const t = Object.assign(e, {dynamicValue: this.dynamicValue, singleValue: this._realValue, instance: this})\r\n                this.dynamicViewChanged.emit(t);\r\n            })\r\n\r\n            // this.cdr.detectChanges();\r\n        } else {\r\n            this.datePicekrService.appendSelector(this.cRef.location.nativeElement);\r\n        }\r\n\r\n        this.overLayService.registerMouseEvent(this.el.nativeElement, (e: MouseEvent) => {\r\n            const t: any = e.target;\r\n            const notClose = (this.cRef && this.cRef.location.nativeElement.contains(t)) || \r\n            t.closest('.multi-date-select') || (t.className && t.className.indexOf('multi-date-select') > -1);\r\n            if (notClose) {\r\n                return false;\r\n            }\r\n            this.closeSelector();\r\n        }, { onlyTopWindow: true});\r\n\r\n        this.cRef.changeDetectorRef.detectChanges();\r\n        // this.preventClose = false;\r\n    }\r\n    closeSelector(reason?: number): void {\r\n        if (this.cRef !== null) {\r\n            this.calendarRef.remove(this.calendarRef.indexOf(this.cRef.hostView));\r\n            this.cRef = null;\r\n            // this.cdr.detectChanges();\r\n            const container = document.querySelector('.date-overlay-container');\r\n            if (container.childElementCount) {\r\n                container.remove();\r\n            }\r\n            this.renderer.setStyle(container, 'pointer-events', '');\r\n        }\r\n        this.totalFocus = false;\r\n        if (this.dateOpts.dateRange) {\r\n            this.beginFocus = false;\r\n            this.endFocus = false;\r\n        }\r\n\r\n        if (this.closeCalendarHandler) {\r\n            this.closeCalendarHandler();\r\n            this.closeCalendarHandler = null;\r\n        }\r\n\r\n        if (this.datePicekrService) {\r\n            this.datePicekrService.removeMouseEvent();\r\n        }\r\n\r\n        this.overLayService.destory(this.el.nativeElement);\r\n    }\r\n    toggleCalendar(close: boolean, emit = true) {\r\n        if (this.disabled) {\r\n            this.totalFocus = false;\r\n            if (this.dateOpts.dateRange) {\r\n                this.beginFocus = false;\r\n                this.endFocus = false;\r\n            }\r\n            return;\r\n        }\r\n        if (this.cRef === null) {\r\n            if (!this.closeCalendarHandler) {\r\n                this.closeCalendarHandler = this.renderer.listen(document, CLICK, () => this.closeSelector(CalToggle.CloseByOutClick));\r\n            }\r\n            this.totalFocus = true;\r\n            this.openCalendar();\r\n            const container = document.querySelector('.date-overlay-container');\r\n            this.renderer.setStyle(container, 'pointer-events', 'auto');\r\n\r\n            const zindex = this.commonUtils.getFloatingLayerIndex();\r\n            this.renderer.setStyle(container, 'zIndex', zindex);\r\n        } else {\r\n            let flag = true;\r\n            const container = document.querySelector('.date-overlay-container');\r\n            if (container && this.cRef.location) {\r\n                if (container.hasChildNodes()) {\r\n                    container.childNodes.forEach(el => {\r\n                        if (el === this.cRef.location.nativeElement) {\r\n                            flag = false;\r\n                        }\r\n                    });\r\n                }\r\n            }\r\n            if (flag) {\r\n                this.renderer.setStyle(container, 'pointer-events', 'auto');\r\n                this.totalFocus = true;\r\n                this.openCalendar();\r\n            } else {\r\n                this.totalFocus = false;\r\n\r\n                if (this.dateOpts.dateRange) {\r\n                    this.beginFocus = false;\r\n                    this.endFocus = false;\r\n                }\r\n                // document.removeEventListener(CLICK, this.onClickHidden);\r\n                close && this.closeSelector(CalToggle.CloseByCalBtn);\r\n                // this.renderer.setStyle(container, 'pointer-events', '')\r\n                if (emit) {\r\n                    this.close.emit();\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    onDateChanged(event: IMyDateModel) {\r\n        this._SELECT_DATE_ = event;\r\n        let valChangeParams: any = '';\r\n        if (event.singleDate) {\r\n            this.value = event.singleDate.formatted;\r\n            this.formatedValue = event.singleDate.formatted;\r\n            const returnFormatted = this.getRealReturnFormatted(event.singleDate.jsDate);\r\n            valChangeParams = { ...event.singleDate, formatted: event.singleDate.formatted, returnFormatted };\r\n\r\n            const { year, month, day, hour, minute, second } = event.singleDate.date;\r\n\r\n            if (month && (this.dateFormat.indexOf('yyyy') === -1 || this.dateFormat.indexOf('dd') === -1)) {\r\n                const nd = new Date(\r\n                    year || new Date().getFullYear(),\r\n                    month - 1,\r\n                    day || 1,\r\n                    hour || 0,\r\n                    minute || 0,\r\n                    second || 0\r\n                );\r\n\r\n                event.singleDate.jsDate = nd;\r\n            }\r\n\r\n            let { year: minYear, month: minMonth, day: minDay, hour: minHour, minute: minMinute, second: minSecond } = this.minDate;\r\n            minMonth = this.utilService.padStartZero(minMonth);\r\n            minDay = this.utilService.padStartZero(minDay);\r\n            minHour = this.utilService.padStartZero(minHour);\r\n            minMinute = this.utilService.padStartZero(minMinute);\r\n            minSecond = this.utilService.padStartZero(minSecond);\r\n\r\n            const MIN_DATE = new Date(`${minYear}-${minMonth}-${minDay} ${minHour}:${minMinute}:${minSecond}`);\r\n            if (this.minDate.year !== 1840) {\r\n                if (differenceInSeconds(MIN_DATE, event.singleDate.jsDate) > 0) {\r\n                    event.singleDate.jsDate = MIN_DATE;\r\n                    this.value = this.transform(MIN_DATE);\r\n                }\r\n            } else if (this.maxDate.year !== 10000) {\r\n                let { year: maxYear, month: maxMonth, day: maxDay, hour: maxHour, maxute: maxMinute, second: maxSecond } = this.maxDate;\r\n                maxMonth = this.utilService.padStartZero(maxMonth);\r\n                maxDay = this.utilService.padStartZero(maxDay);\r\n                maxHour = this.utilService.padStartZero(maxHour);\r\n                maxMinute = this.utilService.padStartZero(maxMinute);\r\n                maxSecond = this.utilService.padStartZero(maxSecond);\r\n\r\n                const MAX_DATE = new Date(`${maxYear}-${maxMonth}-${maxDay} ${maxHour}:${maxMinute}:${maxSecond}`);\r\n                \r\n                if (event.singleDate.date.year === 1840 || differenceInSeconds(MIN_DATE, event.singleDate.jsDate) === 0 || differenceInSeconds(MAX_DATE, event.singleDate.jsDate) < 0) {\r\n                    event.singleDate.jsDate = MAX_DATE;\r\n                    this.value = this.transform(MAX_DATE);\r\n                }\r\n            }\r\n\r\n            this.onNgModelChange(returnFormatted, event.singleDate.jsDate);\r\n        } else if (event.dateRange) {\r\n            this.value = event.dateRange.formatted;\r\n            this.formatedValue = event.dateRange.formatted;\r\n            const returnFormatted = event.dateRange.returnFormatted;\r\n            // let returnFormatted = this.dateFrom(event.dateRange.returnFormatted);\r\n            valChangeParams = { ...event.dateRange, formatted: event.dateRange.formatted, returnFormatted };\r\n            this.onNgModelChange(returnFormatted, event.dateRange);\r\n        }\r\n        this.onModelTouched();\r\n        this._valueChangeEmitted = true;\r\n        this.valueChange.emit(valChangeParams);\r\n    }\r\n\r\n    private checkMultiSelectedOption() {\r\n\r\n        if (this.multiSelect) {\r\n\r\n            this.showTime = false;\r\n            this.showType = ShowType.all;\r\n            this.dateRange = false;\r\n            this.enableDynamic = false;\r\n\r\n            // è¿åæ ¼å¼å¿é¡»åæ¬å¹´ææ¥\r\n            const fmtList = ['yyyy-MM-dd', 'yyyy/MM/dd','MM/dd/yyyy','yyyyå¹´MMæddæ¥','yyyyMMdd'];\r\n            if (!fmtList.find(n => n === this.returnFormat)) {\r\n                this.returnFormat = 'yyyy-MM-dd';\r\n            }\r\n\r\n            if (!fmtList.find(n => n === this.dateFormat)) {\r\n                this.dateFormat = 'yyyy-MM-dd';\r\n            }\r\n        }\r\n    }\r\n\r\n    buildOptions() {\r\n        let dateOpts: any;\r\n        if (!this.localDateOpts) {\r\n            this.localDateOpts = this.localeConfig.getLocaleOptions(this.locale);\r\n        }\r\n\r\n        if (this.showType === ShowType.noDateAndMonth) {\r\n            this.localDateOpts.dateFormat = 'yyyy';\r\n            this.localDateOpts.returnFormat = 'yyyy';\r\n        }\r\n        // æ£æ¥æ¯å¦å·å¤å¯ç¨æ¥æå¤éçæ¡ä»¶\r\n        this.checkMultiSelectedOption();\r\n\r\n        const _showTime = (Number(this.showType) === ShowType.all) ? this.showTime : false;\r\n\r\n        dateOpts = {\r\n            dateRange: this.dateRange,\r\n            showTime: _showTime,\r\n            showType: Number(this.showType),\r\n            dateFormat: this.dateFormat ? this.dateFormat : this.localDateOpts.dateFormat,\r\n            returnFormat: this.returnFormat ? this.returnFormat : this.localDateOpts.returnFormat,\r\n            minYear: this._minDate.year,\r\n            maxYear: this._maxDate.year,\r\n            highlightDates: this.highlightDates,\r\n            disableDates: this.disableDates,\r\n            showWeekNumbers: this.showWeekNumbers,\r\n            disableDateRanges: [\r\n                {\r\n                    begin: this.disableDateRangesBegin,\r\n                    end: this.disableDateRangesEnd\r\n                }\r\n            ],\r\n            disableUntil: this._minDate,\r\n            disableSince: this._maxDate,\r\n            disableWeekdays: this.disableWeekdays,\r\n            markDates: [\r\n                {\r\n                    dates: this.markDates,\r\n                    color: this.markDatesColor\r\n                }\r\n            ],\r\n            markWeekends: {\r\n                marked: this.isMarkWeekends,\r\n                color: this.markWeekendsColor\r\n            },\r\n            dateRangeDatesDelimiter: this.dateRangeDatesDelimiter,\r\n            shortcuts: this.shortcuts,\r\n            timeFormat: this._timeFormat,\r\n            monthRangeValue: this.monthRangeValue,\r\n            viewType: this.viewType,\r\n            enableDynamic: this.enableDynamic,\r\n            dynamicValue: this.dynamicValue,\r\n            dynamicValueChanged: (e: DynamicData) => {\r\n                this.dynamicValue = e;\r\n                this.dynamicText = e ? e.text : '';\r\n                this.dateOpts.dynamicValue = e;\r\n                this.dynamicValueChange.emit(e);\r\n                this.closeSelector();\r\n            },\r\n            previousMaxDays: this.previousMaxDays,\r\n            futureMaxDays: this.futureMaxDays,\r\n            dynamicLocale: this.localDateOpts.dynamicLocale,\r\n            mulstiDatesLocale: this.localDateOpts.mulstiDatesLocale,\r\n            showPresent: this.showPresent,\r\n            hourStep: this.hourStep,\r\n            minuteStep: this.minuteStep,\r\n            secondStep: this.secondStep,\r\n            closeSelectorOnDateSelect: !this.multiSelect,\r\n            multiSelect: this.multiSelect,\r\n            separator: this.separator,\r\n            maxSelected: this.maxSelected,\r\n            selectedOrderBy: this.selectedOrderBy\r\n        };\r\n        dateOpts.firstDayOfWeek = this.firstDayOfWeek;\r\n        switch (Number(this.showType)) {\r\n            case ShowType.noDate:\r\n                dateOpts.defaultView = DefaultView.Month;\r\n                break;\r\n            case ShowType.noDateAndMonth:\r\n                dateOpts.defaultView = DefaultView.Year;\r\n                // dateOpts.dateFormat = 'yyyy';\r\n                // dateOpts.returnFormat = 'yyyy';\r\n                // this.dateFormat = 'yyyy';\r\n                break;\r\n            case ShowType.selectWeek:\r\n                dateOpts.showWeekNumbers = true;\r\n                dateOpts.dateRange = true;\r\n                // dateOpts.firstDayOfWeek = 'mo';\r\n                break;\r\n            // default:\r\n            // this.returnType = 'String';\r\n\r\n        }\r\n        return { ...this.localDateOpts, ...dateOpts };\r\n    }\r\n\r\n    dateTo(d: any) {\r\n        const dateFormat = this.dateOpts.dateFormat ? this.dateOpts.dateFormat : this.defaultConfig.dateFormat;\r\n        const monthLabels = this.dateOpts.monthLabels ? this.dateOpts.monthLabels : this.defaultConfig.monthLabels;\r\n        const showTime = this.dateOpts.showTime ? this.dateOpts.showTime : this.defaultConfig.showTime;\r\n        const year = d.getFullYear();\r\n        const month = d.getMonth() + 1;\r\n        const day = d.getDate();\r\n        const hour = d.getHours();\r\n        const minute = d.getMinutes();\r\n        const second = d.getSeconds();\r\n        let date: IMyDate;\r\n        if (!showTime) {\r\n            date = { year, month, day };\r\n            this.originTime = { hour, minute, second };\r\n        } else {\r\n            date = { year, month, day, hour, minute, second };\r\n        }\r\n        return this.utilService.formatDate(date, dateFormat, monthLabels);\r\n    }\r\n    // è¿åçå®æ¥æ Date ç±»å\r\n    dateFrom(str: any, ignorRange = false) {\r\n        if (!str) {\r\n            return '';\r\n        }\r\n\r\n        const _this = this;\r\n\r\n        const dateRange = this.dateOpts.dateRange ? this.dateOpts.dateRange : this.defaultConfig.dateRange;\r\n        const dateFormat = this.dateOpts.dateFormat ? this.dateOpts.dateFormat : this.defaultConfig.dateFormat;\r\n        const returnFormat = this.dateOpts.returnFormat ? this.dateOpts.returnFormat : this.defaultConfig.returnFormat;\r\n        const showTime = this.dateOpts.showTime ? this.dateOpts.showTime : this.defaultConfig.showTime;\r\n        const delimeters: Array<string> = returnFormat.match(/[^(DdMmYy)]{1,}/g);\r\n        let dateValue: Array<IMyDateFormat>;\r\n        const getValue = this.utilService.getDateValue;\r\n        if ((dateRange || this.dateOpts.showType === ShowType.selectWeek) && !ignorRange) {\r\n            const tmpBegin = str.split(this.dateRangeDatesDelimiter)[0];\r\n            const tmpEnd = str.split(this.dateRangeDatesDelimiter)[1];\r\n            let tmpBeginDate = this.utilService.isDateValid(tmpBegin, this.dateOpts, true);\r\n            let tmpEndDate = this.utilService.isDateValid(tmpEnd, this.dateOpts, true);\r\n            tmpBeginDate = this.utilService.isInitializedDate(tmpBeginDate) ? tmpBeginDate : this.dateOpts.disableUntil;\r\n            tmpEndDate = this.utilService.isInitializedDate(tmpEndDate) ? tmpEndDate : this.dateOpts.disableSince;\r\n            return (\r\n                this.utilService.formatDate(tmpBeginDate, returnFormat, this.defaultConfig.monthLabels) +\r\n                this.dateRangeDatesDelimiter +\r\n                this.utilService.formatDate(tmpEndDate, returnFormat, this.defaultConfig.monthLabels)\r\n            );\r\n        } else {\r\n            if (this.returnType === 'Date') {\r\n                if (str && str instanceof Date) {\r\n                    return str;\r\n                }\r\n                return convert(str, getValue, this.originTime);\r\n            } else {\r\n                const tmpDate = this.utilService.isDateValid(str, this.dateOpts, true);\r\n                return this.utilService.formatDate(tmpDate, returnFormat, this.defaultConfig.monthLabels);\r\n            }\r\n        }\r\n\r\n        function convert(v, _getValue: any, originTime = { hour: 0, minute: 0, second: 0 }) {\r\n            let fmt = returnFormat;\r\n            if (_this.returnType === 'Date') {\r\n                fmt = 'yyyy-MM-dd' + (showTime ? ' HH:mm:ss' : '');\r\n            }\r\n            if (showTime) {\r\n                const date = v.split(' ')[0];\r\n                let time = v.split(' ')[1];\r\n\r\n                dateValue = _getValue(date, fmt, delimeters);\r\n                if (time) {\r\n                    time = time.replace(/[æ¶,å]/g, ':').replace(/[ç§]/, '');\r\n                    const [h, m, s] = time.split(':');\r\n                    const hour = h;\r\n                    const minute = m;\r\n                    const second = s ? s : '';\r\n\r\n                    dateValue[3] = { value: hour, format: 'hh' };\r\n                    dateValue[4] = { value: minute, format: 'mm' };\r\n                    if (second) {\r\n                        dateValue[5] = { value: second, format: 'ss' };\r\n                    }\r\n                }\r\n            } else {\r\n                const date = v.split(' ')[0];\r\n                dateValue = _getValue(date, fmt, delimeters);\r\n            }\r\n\r\n\r\n            let year = Number(dateValue[0] ? dateValue[0].value : 1970);\r\n            const yearValue = dateValue[0];\r\n            if (yearValue.format) {\r\n                if (!yearValue.value || yearValue.value.length !== yearValue.format.length) {\r\n                    year = null;\r\n                }\r\n            }\r\n\r\n            const month = Number(dateValue[1] ? dateValue[1].value : 1) - 1;\r\n            const day = Number(dateValue[2] ? dateValue[2].value : 1);\r\n            const _hour = dateValue[3] ? Number(dateValue[3].value) : originTime.hour;\r\n            const _minute = dateValue[4] ? Number(dateValue[4].value) : originTime.minute;\r\n            const _second = dateValue[5] ? Number(dateValue[5].value) : originTime.second;\r\n\r\n            if (!year) {\r\n                return null;\r\n            }\r\n            return new Date(year, month, day, _hour, _minute, _second);\r\n        }\r\n    }\r\n\r\n    transform(value: any, _fmt = this.dateOpts.dateFormat) {\r\n        value = value ? value : '';\r\n        const { returnFormat, dateFormat, showTime } = this.dateOpts;\r\n        let _tmpDate = null;\r\n        if (typeof value === 'string') {\r\n            _tmpDate = parse(value, returnFormat, new Date());\r\n\r\n            if (!isValid(_tmpDate)) {\r\n                if (this._SELECT_DATE_ && this._SELECT_DATE_.singleDate) {\r\n                    _tmpDate = this._SELECT_DATE_.singleDate.jsDate;\r\n                } else {\r\n                    if (this._realValue) {\r\n                        _tmpDate =  parse(this._realValue, returnFormat, new Date());\r\n                    }\r\n                }\r\n            }\r\n        } else {\r\n            if (value instanceof Date) {\r\n                _tmpDate = value;\r\n            }\r\n        }\r\n        let formattedVal = value;\r\n        if (isValid(_tmpDate)) {\r\n            formattedVal = this.dtService.formatTo(_tmpDate, _fmt);\r\n            return formattedVal;\r\n        } else {\r\n            // å¼å®¹å¹´ææ¥,å¹´æ,å¹´æ ¼å¼\r\n            value = value.replace(/[å¹´,æ]/g, '-').replace(/[æ¥]/, '');\r\n            if (value[value.length - 1] === '-') {\r\n                value = value.substr(0, value.length - 1);\r\n            }\r\n\r\n            if (isValid(new Date(value))) {\r\n                formattedVal = this.dtService.formatTo(value, _fmt);\r\n            } else {\r\n                value = '';\r\n            }\r\n        }\r\n        if (value) {\r\n            if (this.dateFrom(value, true) === '') {\r\n                const tmpDate = this.utilService.isDateValid(\r\n                    value,\r\n                    Object.assign({}, this.dateOpts, {\r\n                        dateFormat: returnFormat\r\n                    })\r\n                );\r\n                formattedVal = this.utilService.formatDate(tmpDate, _fmt, this.defaultConfig.monthLabels);\r\n            }\r\n        }\r\n        return formattedVal;\r\n    }\r\n\r\n    setValue(value: string) {\r\n        if (this.value !== value) {\r\n            if (this.dateOpts.dateRange) {\r\n                const _tmpDateArr = value.split(this.dateRangeDatesDelimiter);\r\n                const beginStr = _tmpDateArr[0];\r\n                const endStr = _tmpDateArr[1];\r\n                this._beginValue = this.transform(beginStr);\r\n                this._endValue = this.transform(endStr);\r\n                this.value = this._beginValue && this._endValue ? this._beginValue + this.dateRangeDatesDelimiter + this._endValue : '';\r\n            } else {\r\n                if (value) {\r\n                    this.value = this.transform(value);\r\n                } else {\r\n                    this.value = '';\r\n                }\r\n            }\r\n\r\n            this.cdr.markForCheck();\r\n        }\r\n    }\r\n\r\n    updateValue(value: string) {\r\n        if (this.dateOpts.dateRange) {\r\n            const _tmpDateArr = value.split(this.dateRangeDatesDelimiter);\r\n            const beginStr = _tmpDateArr[0];\r\n            const endStr = _tmpDateArr[1];\r\n            this._beginValue = this.transform(beginStr);\r\n            this._endValue = this.transform(endStr);\r\n            this.value = this._beginValue && this._endValue ? this._beginValue + this.dateRangeDatesDelimiter + this._endValue : '';\r\n        } else {\r\n            this.value = this.transform(value);\r\n        }\r\n    }\r\n\r\n    getValueByType(val) {\r\n        if (val instanceof Date) {\r\n            this.returnType = 'Date';\r\n            // return this.dateTo(val);\r\n            return val;\r\n        } else if (val && val instanceof Object) {\r\n            const { begin, end } = val;\r\n            const beginStr = begin instanceof Date ? this.dateTo(begin) : '';\r\n            const endStr = begin instanceof Date ? this.dateTo(end) : '';\r\n\r\n            this.returnType = 'Object';\r\n            return beginStr && endStr ? beginStr + this.dateRangeDatesDelimiter + endStr : '';\r\n        } else if (val && typeof val === 'string') {\r\n            if (val.indexOf('T') > -1) {\r\n                val = val.replace('T', ' ');\r\n            }\r\n            this.returnType = 'String';\r\n            return val;\r\n        } else {\r\n            return '';\r\n        }\r\n    }\r\n    \r\n    writeValue(val: any): void {\r\n        if (!this.multiSelect) {\r\n            if (typeof val === 'object' && val && !isDate(val)) {\r\n                this.dynamicValue = val;\r\n                this.dynamicText = this.utilService.formatDynamicValue(val, this.dateOpts.dynamicLocale);\r\n                this.dateOpts.showDynamicView = true;\r\n                this.dateOpts.dynamicValue = this.dynamicValue;\r\n            } else {\r\n                // this.dateOpts.showDynamicView = false;\r\n                this._realValue = val;\r\n                if (this.dateRange) {\r\n                    this._realRangeValue = val;\r\n                }\r\n\r\n                this.setValue(this.getValueByType(val));\r\n            }\r\n        } else {\r\n            if (!val) {\r\n                val = '';\r\n            }\r\n            this.value = val.split(this.separator).map(n => this.transform(n)).join(this.separator);\r\n            this._realValue = val;\r\n        }\r\n    }\r\n    registerOnChange(fn: any): void {\r\n        this.onModelChange = fn;\r\n    }\r\n    registerOnTouched(fn: any): void {\r\n        this.onModelTouched = fn;\r\n    }\r\n    setDisabledState?(isDisabled: boolean): void {\r\n        this.disabled = isDisabled;\r\n    }\r\n    onPrevFocus(value: boolean): void {\r\n        this.beginFocus = true;\r\n        if (this.endFocus == true) {\r\n            this.endFocus = !this.endFocus;\r\n        }\r\n        this.PrevFocus.emit();\r\n    }\r\n    onNextFocus(value: boolean): void {\r\n        this.endFocus = true;\r\n        if (this.beginFocus == true) {\r\n            this.beginFocus = !this.beginFocus;\r\n        }\r\n        this.NextFocus.emit();\r\n    }\r\n\r\n    private _convert2dateString(val: string, realValue = false) {\r\n        if (val) {\r\n            let t = val.replace(/[å¹´,æ]/g, '-').replace(/[æ¥,å·]/g, ' ').replace(/[æ¶,ç¹,å,åé]/g, ':').replace('ç§', '');\r\n\r\n            if (this.showType === ShowType.noDateAndMonth && t.indexOf('-') === -1) {\r\n                t += '-';\r\n            }\r\n\r\n            // æ¿æ¢è¿ç»­çç©ºæ ¼å­ç¬¦ä¸ºåä¸ªç©ºæ ¼\r\n            var checkSpaceReg = /(\\s)\\1{1,}/g;\r\n            if (t.match(checkSpaceReg)) {\r\n                t.match(checkSpaceReg).forEach(n => {\r\n                    if (n[0] === ' ') {\r\n                        t = t.replace(n,  ' ');\r\n                    }\r\n                });\r\n            }\r\n\r\n            if (realValue) {\r\n                const objDate = this.utilService.isDateValid(val, this.dateOpts, true);\r\n                if (objDate) {\r\n                    let { year, month, day, hour, minute, second} = objDate;\r\n                    if (!year) {\r\n                        year = new Date().getFullYear();\r\n                    }\r\n                    if (!month) {\r\n                        month = new Date().getMonth();\r\n                    }\r\n\r\n                    if (!day) {\r\n                        day = 1;\r\n                    }\r\n\r\n                    if (!hour) {\r\n                        hour = 0;\r\n                    }\r\n\r\n                    if (!minute) {\r\n                        minute = 0;\r\n                    }\r\n\r\n                    if (!second) {\r\n                        second = 0;\r\n                    }\r\n\r\n                    const _datePart = `${year}-${this.utilService.padStartZero(month)}-${this.utilService.padStartZero(day)}`;\r\n                    const _timePart = `${this.utilService.padStartZero(hour)}:${this.utilService.padStartZero(minute)}:${this.utilService.padStartZero(second)}`;\r\n\r\n                    return `${_datePart} ${_timePart}`;\r\n                }\r\n            }\r\n\r\n            if (t[t.length - 1] === '-') {\r\n                // t = t.substr(0, t.length - 1);\r\n                t += '01';\r\n            }\r\n\r\n            if (t[t.length - 1] === ':') {\r\n                t = t.substr(0, t.length - 1);\r\n            }\r\n\r\n            return t.replace(/^\\s+|\\s+$/g, '');\r\n        }\r\n\r\n        return val;\r\n    }\r\n\r\n\r\n    private _isValid(value: any) {\r\n        value = this._convert2dateString(value);\r\n        if (value) {\r\n            if (this.dateFormat.indexOf('yyyy') === -1 || this.dateFormat.indexOf('dd') === -1) {\r\n                const _tmpDate = parse(this.value, this.dateFormat, new Date());\r\n                if (this._realValue) {\r\n                    if (this.returnType === 'Date') {\r\n                        return isValid(this._realValue);\r\n                    } else {\r\n                        return isValid(new Date(this._convert2dateString(this._realValue, true)));\r\n                        // return isValid(parse(this._realValue, this.returnFormat, new Date()));\r\n                    }\r\n                }\r\n\r\n                const d = this.utilService.isDateValid(value, this.dateOpts);\r\n                if (d) {\r\n                    if (d.year || d.month) {\r\n                        const cdate = new Date();\r\n                        const year = cdate.getFullYear();\r\n                        const str = (this.dateOpts.returnFormat || 'yyyy-MM-dd')\r\n                            .replace('yyyy', '' + (d.year || year)).replace('MM', '' + d.month).replace('dd', '1');\r\n                        return isValid(new Date(str));\r\n                    }\r\n                    return false;\r\n                }\r\n                return isValid(value);\r\n            } else {\r\n                const reg = /^\\d{1,}$/;\r\n                if (reg.test(value) && this.dateFormat.indexOf('yyyyMMdd') > -1) { // éªè¯ä¼ å¥çæ ¼å¼ä¸º yyyyMMddHHmmss\r\n                    const _r =  this._isValid2(value);\r\n                    if (_r.isValided) {\r\n                        this._realValue = this.getRealReturnFormatted(_r.date);\r\n                        this.value = this.transform(_r.date);\r\n                    }\r\n                    return _r.isValided;\r\n                } else {\r\n                    const _tmpDate = parse(value, this.dateFormat, new Date());\r\n                    const d = this.utilService.isDateValid(this.value, this.dateOpts);\r\n                    return isValid(_tmpDate) || this.utilService.isInitializedDate(d);\r\n                }\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n    private _isValid2(value: string): any {\r\n        let year = 0;\r\n        let month = 0;\r\n        let day = 0;\r\n        let hour = 0;\r\n        let minute = 0;\r\n        let seconds = 0;\r\n\r\n        const df = this.dateFormat;\r\n\r\n        if (df.includes('yyyy')) {\r\n            if (value) {\r\n                year = +value.slice(0, 4);\r\n                value = value.slice(4);\r\n            } else {\r\n                return false;\r\n            }\r\n        }\r\n        if (df.includes('MM')) {\r\n            if (value) {\r\n                month = +value.slice(0, 2) - 1;\r\n                value = value.slice(2);\r\n\r\n                if (month < 0) {\r\n                    month = 0;\r\n                }\r\n            } else {\r\n                return false;\r\n            }\r\n        }\r\n        if (df.includes('dd')) {\r\n            if (value) {\r\n                day = +value.slice(0, 2);\r\n                value = value.slice(2);\r\n            } else {\r\n                return false;\r\n            }\r\n        }\r\n        if (df.includes('HH')) {\r\n            if (value) {\r\n                hour = +value.slice(0, 2);\r\n                value = value.slice(2);\r\n            }\r\n        }\r\n        if (df.includes('mm')) {\r\n            if (value) {\r\n                minute = +value.slice(0, 2);\r\n                value = value.slice(2);\r\n            }\r\n        }\r\n        if (df.includes('ss')) {\r\n            if (value) {\r\n                seconds = +value.slice(0, 2);\r\n            }\r\n        }\r\n\r\n        const d = new Date(year, month, day, hour, minute, seconds);\r\n        return {\r\n            isValided: isValid(d),\r\n            date: d\r\n        };\r\n    }\r\n\r\n    private multiSelectedChanged() {\r\n        this.onModelChange(this._realValue);\r\n        const p = {\r\n            formatted: this.value,\r\n            returnFormatted: this._realValue,\r\n            cmpRef: this\r\n        };\r\n        this.onModelTouched();\r\n        this.closeSelector(CalToggle.CloseByDateSel);\r\n        this.valueChange.emit(p);\r\n\r\n        if (!this.value) {\r\n            this.clear.emit();\r\n        }\r\n    }\r\n\r\n    onRemoveDate(d: {value: string, index: number}) {\r\n        if (!d) {\r\n            return;\r\n        }\r\n        const {value, index} = d;\r\n        this.value = this.value.split(this.separator).filter(n => n!== value).join(this.separator);\r\n        this._realValue = this._realValue.split(this.separator).filter((n, i) => i !== index).join(this.separator);\r\n\r\n        this.multiSelectedChanged();\r\n        this.cdr.detectChanges();\r\n    }\r\n}\r\n","/*\r\n * @Author: ç¯çç§æ(Lucas Huang)\r\n * @Date: 2019-08-02 14:14:22\r\n * @LastEditors: ç¯çç§æ(Lucas Huang)\r\n * @LastEditTime: 2019-09-04 15:03:00\r\n * @QQ: 1055818239\r\n * @Version: v0.0.1\r\n */\r\nimport {\r\n    Component,\r\n    EventEmitter,\r\n    Input,\r\n    Output,\r\n    ViewEncapsulation\r\n} from '@angular/core';\r\nimport { IMyOptions } from '../../interfaces/public-api';\r\n@Component({\r\n    selector: 'lib-selection-sidebar',\r\n    templateUrl: './selection-sidebar.component.html',\r\n    encapsulation: ViewEncapsulation.None\r\n})\r\nexport class SelectionSidebarComponent {\r\n    @Input() opts: IMyOptions;\r\n    @Output() setTime: EventEmitter<void> = new EventEmitter<void>();\r\n}\r\n","import { Component } from '@angular/core';\r\n\r\n@Component({\r\n    selector: 'angular-datepicker',\r\n    template: ''\r\n})\r\nexport class AngularMyDatePickerComponent {}\r\n","import { EventEmitter, ChangeDetectorRef, Component, Injector, Input, OnInit, Output } from '@angular/core';\r\nimport { DynamicData, DynamicDateType } from '../../interfaces/dynamic-data-type.interface';\r\n\r\n@Component({\r\n    selector: 'lib-dynamic-view',\r\n    templateUrl: 'dynamic-view.component.html',\r\n    styleUrls: [\r\n        './dynamic-view.css'\r\n    ]\r\n})\r\n\r\nexport class DynamicViewComponent implements OnInit {\r\n    _value: string = '';\r\n\r\n    get value() {\r\n        return this._value;\r\n    }\r\n\r\n    set value(val) {\r\n        this._value = val;\r\n        this.valueChange.emit(val);\r\n    }\r\n\r\n    private _data: DynamicData = null;\r\n    @Input() set data(val: DynamicData) {\r\n        this._data = val;\r\n        this.setValue(val);\r\n    }\r\n\r\n    get data() {\r\n        return this._data;\r\n    }\r\n\r\n    @Input() previousMaxDays = 30;\r\n    @Input() futureMaxDays = 30;\r\n\r\n    @Input() locale: any;\r\n\r\n    previous_dateType: DynamicDateType  = 'day';\r\n    previous_days: number = 1;\r\n\r\n    future_dateType: DynamicDateType = 'day'\r\n    future_days = 1;\r\n\r\n    present_first_dateType: DynamicDateType = 'month';\r\n    present_last_dateType: DynamicDateType = 'month';\r\n\r\n    @Output() valueChange = new EventEmitter();\r\n\r\n    constructor(private injector: Injector, private cd: ChangeDetectorRef) { }\r\n\r\n    ngOnInit() { }\r\n\r\n    onListItemFormControlClick($event) {\r\n        const lbl = $event.target.closest('label');\r\n        if (lbl) {\r\n            lbl.click();\r\n        }\r\n    }\r\n\r\n    setValue(val: DynamicData) {\r\n        if (val) {\r\n            this.value = val.name;\r\n            switch(this.value) {\r\n                case 'present_day': // ä»å¤©\r\n                case 'present_month': // æ¬æ\r\n                case 'present_year':\r\n                    break;\r\n                case 'previou':\r\n                    this.previous_dateType = val.dateType;\r\n                    this.previous_days = val.count;\r\n                    break;\r\n                case 'future':\r\n                    this.future_dateType = val.dateType;\r\n                    this.future_days = val.count;\r\n                    break;\r\n                case 'present_first':\r\n                    this.present_first_dateType = val.dateType;\r\n                    break;\r\n                case 'present_last':\r\n                    this.present_last_dateType = val.dateType;\r\n                    break; \r\n            }\r\n            this.cd.detectChanges();\r\n        }\r\n    }\r\n\r\n    getValue(): DynamicData {\r\n        let val = null;\r\n        if (this.value) {\r\n            switch(this.value) {\r\n                case 'present_day': // ä»å¤©\r\n                    val = {dateType:'day', period:'present', count: null, isFirstDay: false, isLastDay: false};\r\n                    break;\r\n                case 'present_month': // æ¬æ\r\n                    val = {dateType:'month', period:'present', count: null, isFirstDay: false, isLastDay: false};\r\n                    break;\r\n                case 'present_year':\r\n                    val = {dateType:'year', period:'present', count: null, isFirstDay: false, isLastDay: false};\r\n                    break;\r\n                case 'previou':\r\n                    val = { dateType: this.previous_dateType , period:'previous', count: this.previous_days, isFirstDay: false, isLastDay: false};\r\n                    break;\r\n                case 'future':\r\n                    val = { dateType: this.future_dateType , period:'future', count: this.future_days, isFirstDay: false, isLastDay: false};\r\n                    break;\r\n                case 'present_first':\r\n                    val = { dateType: this.present_first_dateType , period:'present', count: null, isFirstDay: true, isLastDay: false};\r\n                    break;\r\n                case 'present_last':\r\n                    val = { dateType: this.present_last_dateType , period:'present', count: null, isFirstDay: false, isLastDay: true};\r\n                    break;\r\n            }\r\n\r\n            if (val) {\r\n                val.name = this.value;\r\n            }\r\n        }\r\n        return val;\r\n    }\r\n\r\n    private getDateTypeString(dt: DynamicDateType) {\r\n        switch(dt) {\r\n            case 'week':\r\n                return this.locale.week || 'å¤©';\r\n            case 'day':\r\n                return this.locale.day || 'å¤©';\r\n            case 'month':\r\n                return this.locale.month || 'æ';\r\n            case 'year':\r\n                return this.locale.year || 'å¹´';\r\n        }\r\n    }\r\n\r\n    formatValue() {\r\n        const val = this.getValue();\r\n        if (val) {\r\n            let fval = '';\r\n            switch(val.name) {\r\n                case 'present_day': // ä»å¤©\r\n                fval = this.locale.today || 'ä»å¤©';\r\n                break;\r\n            case 'present_month': // æ¬æ\r\n                fval = this.locale.presentMonth || 'æ¬æ';\r\n                break;\r\n            case 'present_year':\r\n                fval = this.locale.presentYear ||'æ¬å¹´';\r\n                break;\r\n            case 'previou':\r\n                fval =  (this.locale.previous|| 'è¿å»') + ' ' + val.count + ' ' + this.getDateTypeString(val.dateType);\r\n                break;\r\n            case 'future':\r\n                fval = (this.locale.future || 'æªæ¥') + ' '+ val.count + ' ' +this.getDateTypeString(val.dateType);\r\n                break;\r\n            case 'present_first':\r\n                fval = (this.locale.current||'æ¬') + this.getDateTypeString(val.dateType) + (this.locale.first||'ç¬¬ 1 å¤©');\r\n                break;\r\n            case 'present_last':\r\n                fval = (this.locale.current||'æ¬') + this.getDateTypeString(val.dateType) + (this.locale.last||'æå 1 å¤©');\r\n                break;\r\n            }\r\n\r\n            return fval;\r\n        } else {\r\n            return '';\r\n        }\r\n    }\r\n\r\n\r\n    private setDays(typ: string, days: number) {\r\n        if (typ === 'previous') {\r\n            this.previous_days = days;\r\n        } else {\r\n            this.future_days = days;\r\n        }\r\n    }\r\n\r\n    checkMaxDays($event, tye: string) {\r\n        const target = $event.target as any;\r\n        const val = target.value.replace(/[^\\d]/g,'');\r\n        const days = Number(val);\r\n        target.value = days;\r\n        const max = tye === 'previous' ? this.previousMaxDays: this.futureMaxDays; \r\n        this.setDays(tye, days);\r\n\r\n        if (days > max) {\r\n            target.value = max;\r\n            this.setDays(tye, max);\r\n            return;\r\n        } else {\r\n            if (days < 1) {\r\n                target.value = 1;\r\n                this.setDays(tye, 1);\r\n                return;\r\n            }\r\n        }\r\n    }\r\n\r\n    onNumberKeydown($event: KeyboardEvent) {\r\n        $event.stopPropagation();\r\n        if ($event.key === '.' || $event.key === '-' || $event.key === '+') {\r\n            $event.preventDefault();\r\n        }\r\n    }\r\n}","import { Component, ElementRef, EventEmitter, HostListener, Injector, Input, OnInit, Output, ViewChild } from '@angular/core';\r\n\r\n@Component({\r\n    selector: 'dynamic-date-input',\r\n    templateUrl: 'dynamic-date-input.component.html'\r\n})\r\n\r\nexport class DynamicDateInputComponent implements OnInit {\r\n\r\n    @Input() readonly: boolean;\r\n    @Input() disabled: boolean;\r\n\r\n    @Input() value: string;\r\n    @Input() text: string;\r\n\r\n    @Input() isFocus: boolean;\r\n    @Input() placeholder: string;\r\n\r\n    @Input() showClear: boolean;\r\n\r\n\r\n    @Output() inputClick = new EventEmitter();\r\n    @Output() tabKeydown =  new EventEmitter();\r\n    @Output() clear =  new EventEmitter();\r\n\r\n    @ViewChild('clearIcon') clearIcon: ElementRef;\r\n    \r\n    constructor(private inject: Injector) { }\r\n\r\n    ngOnInit() { }\r\n\r\n    @HostListener('mouseenter', ['$event'])\r\n    onMouseEnter(event) {\r\n        if (this.value && !this.disabled && !this.readonly) {\r\n            if (this.value && this.clearIcon) {\r\n                this.clearIcon.nativeElement.style.visibility = '';\r\n            }\r\n        }\r\n    }\r\n\r\n    @HostListener('mouseleave', ['$event'])\r\n    onMouseLeave(event) {\r\n        if (!this.disabled && this.clearIcon && !this.readonly) {\r\n            this.clearIcon.nativeElement.style.visibility = 'hidden';\r\n        }\r\n    }\r\n}","import { AfterViewInit, ChangeDetectorRef, Component, ElementRef, EventEmitter, Injector, Input, OnChanges, OnDestroy, OnInit, Output, Renderer2, SimpleChanges, ViewChild } from '@angular/core';\r\nimport { CommonUtils, OverLayHiddenService } from '@farris/ui-common';\r\nimport { BehaviorSubject } from 'rxjs';\r\nimport { UtilService } from '../services/farris-datepicker.util.service';\r\nimport { MultiSelectedOrderBy } from '../interfaces/my-options.interface';\r\n\r\n@Component({\r\n    selector: 'multi-select-input',\r\n    templateUrl: './multi-date-input.component.html',\r\n    styles: [\r\n        `\r\n        .multi-date-display {\r\n            width: 100%;flex-wrap: wrap;align-items: center;cursor: text;\r\n        }\r\n\r\n        .multi-date-display:empty:before {\r\n            content: attr(placeholder);\r\n            color: #c4c4c4;\r\n        }\r\n\r\n        .multi-date-display-readonly {\r\n            padding-right: 5px;\r\n        }\r\n\r\n        .f-multi-select-date.f-state-disabled .search-tag-item {\r\n            background: #F1F3F7;\r\n            border: 1px solid #F1F3F7;\r\n            color:  #2D2F33;\r\n        }\r\n\r\n        .f-multi-select-date.f-state-disabled .multi--more-text {\r\n            color: #c7c7c7;\r\n        }\r\n\r\n        `\r\n    ]\r\n})\r\n\r\nexport class MultiSelectDateInputComponent implements OnInit, OnChanges, AfterViewInit, OnDestroy {\r\n\r\n    @Input() dates = '';\r\n    @Input() separator = ',';\r\n    @Input() placeholder = '';\r\n    @Input() editable = true;\r\n    @Input() orderBy: MultiSelectedOrderBy = 'none';\r\n\r\n    @Output() clickHandle = new EventEmitter();\r\n    @Output() remove = new EventEmitter();\r\n\r\n    @ViewChild('searchbox2') shadowBox: ElementRef;\r\n    @ViewChild('searchbox') container: ElementRef;\r\n\r\n    _dateItems = [];\r\n\r\n    hiddenItemsCount$ = new BehaviorSubject(0);\r\n    commonUtils = null;\r\n\r\n    constructor(private injector: Injector, private render: Renderer2, private el: ElementRef, public overLayService: OverLayHiddenService, protected cd: ChangeDetectorRef,\r\n        private utilService: UtilService) {\r\n        this.commonUtils = this.injector.get(CommonUtils, null);\r\n    }\r\n\r\n    ngOnInit() {\r\n        \r\n    }\r\n\r\n    ngOnDestroy() {\r\n        if (this.overLayService) {\r\n            this.overLayService.destory(this.shadowBox.nativeElement);\r\n        }\r\n        if (this.shadowBox) {\r\n            this.shadowBox.nativeElement.remove();\r\n        }\r\n    }\r\n\r\n    ngOnChanges(changes: SimpleChanges) {\r\n        if (changes.dates && !changes.dates.isFirstChange()) {\r\n            this.initDateItems();\r\n        }\r\n    }\r\n\r\n    private initDateItems() {\r\n        const _dateItems = this.dates.split(this.separator).filter(n => n);\r\n        this._dateItems = this.utilService.orderSelectedDates(_dateItems, this.orderBy);\r\n\r\n        setTimeout(() => {\r\n            this.setHiddenCount();\r\n        });\r\n    }\r\n\r\n    ngAfterViewInit() {\r\n\r\n        this.initDateItems();\r\n\r\n        setTimeout(() => {\r\n            this.moveShadowToBody();\r\n        });\r\n    }\r\n\r\n    onClick($event: MouseEvent) {\r\n        $event.stopPropagation();\r\n        this.toggleShadowBox($event, false);\r\n        this.clickHandle.emit($event);\r\n    }\r\n\r\n    onRemove($event: MouseEvent, txt, index) {\r\n        if ($event) {\r\n            $event.stopPropagation();\r\n        }\r\n        this.remove.emit({index, value: txt});\r\n    }\r\n\r\n    \r\n    onResized($event) {\r\n        this.updateShadowBoxPosition($event);\r\n        setTimeout(() => {\r\n            this.setHiddenCount();\r\n            this.cd.detectChanges();\r\n        });\r\n    }\r\n\r\n\r\n    private setHiddenCount() {\r\n        let len = 0;\r\n        if (!this._dateItems || !this._dateItems.length) {\r\n            this.hiddenItemsCount$.next(len);\r\n            return;\r\n        }\r\n        const items = Array.from(this.container.nativeElement.querySelectorAll('span.search-tag-item'));\r\n        if (items && items.length) {\r\n            len = items.map((n: any) => {\r\n                return n.offsetTop;\r\n            }).filter(n => n > 20).length\r\n        }\r\n        this.hiddenItemsCount$.next(len);\r\n    }\r\n\r\n    \r\n    updateShadowBoxPosition({top, left, width} = {top: null, left: null, width: null}) {\r\n        if (!top && !left && !width) {\r\n            const e = this.el.nativeElement.getBoundingClientRect();\r\n            top = e.top;\r\n            left = e.left;\r\n            width = e.width;\r\n        }\r\n        this.render.setStyle(this.shadowBox.nativeElement, 'left', left + 'px');\r\n        this.render.setStyle(this.shadowBox.nativeElement, 'top', top + 'px');\r\n        this.render.setStyle(this.shadowBox.nativeElement, 'width', width + 'px');\r\n\r\n        this.render.setStyle(this.shadowBox.nativeElement, 'zIndex', this.commonUtils.getFloatingLayerIndex());\r\n    }\r\n\r\n    private moveShadowToBody() {\r\n        this.updateShadowBoxPosition();\r\n        document.body.append(this.shadowBox.nativeElement);\r\n\r\n        this.overLayService.registerMouseEvent(this.shadowBox.nativeElement, (e) => {\r\n            if (e.target && e.target.className.indexOf('search-box_delete-keys') > -1) {\r\n                return;\r\n            }\r\n\r\n            if (!this.shadowBox || this.shadowBox.nativeElement.contains(e.target)) {\r\n                return;\r\n            }\r\n\r\n            this.toggleShadowBox(null, false);\r\n        });\r\n\r\n    }\r\n\r\n    toggleShadowBox($event, show = true) {\r\n        if ($event) {\r\n            $event.stopPropagation();\r\n        }\r\n        if (!this.hiddenItemsCount$.value) {\r\n            show = false;\r\n        }\r\n        if (show) {\r\n            this.updateShadowBoxPosition();\r\n            this.render.removeStyle(this.shadowBox.nativeElement, 'display');\r\n            this.container.nativeElement.style.visibility = 'hidden';\r\n        } else {\r\n            this.container.nativeElement.style.visibility = 'visible';\r\n            this.render.setStyle(this.shadowBox.nativeElement, 'display', 'none');\r\n        }\r\n    }\r\n}","/*\r\n * @Author: ç¯çç§æ(Lucas Huang)\r\n * @Date: 2019-09-04 07:39:58\r\n * @LastEditors: ç¯çç§æ(Lucas Huang)\r\n * @LastEditTime: 2019-09-04 15:03:39\r\n * @QQ: 1055818239\r\n * @Version: v0.0.1\r\n */\r\nimport {\r\n    Component,\r\n    EventEmitter,\r\n    Input,\r\n    OnChanges,\r\n    Output,\r\n    ViewEncapsulation,\r\n    SimpleChanges\r\n} from '@angular/core';\r\nimport { UtilService } from '../../services/public-api';\r\nimport {\r\n    IMyOptions,\r\n    IMyCalendarDay,\r\n    IMyDate,\r\n    IMyDateRange,\r\n    IMyWeek\r\n} from '../../interfaces/public-api';\r\nimport { MonthId, KeyCode } from '../../enums/public-api';\r\nimport {\r\n    OPTS,\r\n    DATES,\r\n    WEEK_DAYS,\r\n    SELECTED_DATE,\r\n    SELECTED_DATE_RANGE\r\n} from '../../constants/constants';\r\n\r\n// import { IMyWeek } from '../../interfaces/my-month-row.interface'\r\n\r\n@Component({\r\n    selector: 'lib-multi-day-view',\r\n    templateUrl: './multi-day-view.component.html',\r\n    providers: [UtilService],\r\n    encapsulation: ViewEncapsulation.None\r\n})\r\nexport class MultiDayViewComponent implements OnChanges {\r\n    @Input() opts: IMyOptions;\r\n    @Input() dates: Array<IMyWeek>;\r\n    @Input() weekDays: Array<string>;\r\n    @Input() selectedDate: IMyDate;\r\n    @Input() selectedDateRange: IMyDateRange;\r\n    @Input() selectedWeek: IMyWeek;\r\n\r\n    @Input() selectedDates: IMyDate[] = [];\r\n\r\n    @Output() dayCellClicked: EventEmitter<IMyCalendarDay> = new EventEmitter<\r\n        IMyCalendarDay\r\n    >();\r\n    @Output() dayCellKeyDown: EventEmitter<IMyCalendarDay> = new EventEmitter<\r\n        IMyCalendarDay\r\n    >();\r\n    @Output() weekClicked: EventEmitter<any> = new EventEmitter<any>();\r\n\r\n    @Output() onMouseEnter: EventEmitter<any> = new EventEmitter<any>();\r\n    @Output() onMouseLeave: EventEmitter<any> = new EventEmitter<any>();\r\n\r\n    prevMonthId: number = MonthId.prev;\r\n    currMonthId: number = MonthId.curr;\r\n    nextMonthId: number = MonthId.next;\r\n\r\n    constructor(private utilService: UtilService) {}\r\n\r\n    ngOnChanges(changes: SimpleChanges): void {\r\n        if (changes.hasOwnProperty(OPTS)) {\r\n            this.opts = changes[OPTS].currentValue;\r\n        }\r\n        if (changes.hasOwnProperty(DATES)) {\r\n            this.dates = changes[DATES].currentValue;\r\n        }\r\n        if (changes.hasOwnProperty(WEEK_DAYS)) {\r\n            this.weekDays = changes[WEEK_DAYS].currentValue;\r\n        }\r\n        if (changes.hasOwnProperty(SELECTED_DATE)) {\r\n            this.selectedDate = changes[SELECTED_DATE].currentValue;\r\n        }\r\n        if (changes.hasOwnProperty(SELECTED_DATE_RANGE)) {\r\n            this.selectedDateRange = changes[SELECTED_DATE_RANGE].currentValue;\r\n        }\r\n    }\r\n\r\n    onDayCellClicked(event: any, cell: IMyCalendarDay): void {\r\n        if (cell.disabled || this.opts.showType === 4) {\r\n            return;\r\n        }\r\n        event.stopPropagation();\r\n        this.dayCellClicked.emit(cell);\r\n    }\r\n\r\n    onDayCellKeyDown(event: KeyboardEvent, cell: IMyCalendarDay) {\r\n        const keyCode: number = this.utilService.getKeyCodeFromEvent(event);\r\n        if (keyCode !== KeyCode.tab) {\r\n            event.preventDefault();\r\n\r\n            if (keyCode === KeyCode.enter || keyCode === KeyCode.space) {\r\n                this.onDayCellClicked(event, cell);\r\n            } else if (this.opts.moveFocusByArrowKeys) {\r\n                this.dayCellKeyDown.emit(cell);\r\n            }\r\n        }\r\n    }\r\n    onWeekClicked(event: KeyboardEvent, week: IMyWeek) {\r\n        if (this.opts.showType !== 4) { return; }\r\n        event.stopPropagation();\r\n        this.weekClicked.emit(week);\r\n    }\r\n\r\n    onDayCellMouseEnter(cell: any): void {\r\n        if (\r\n            this.utilService.isInitializedDate(this.selectedDateRange.begin) &&\r\n            (!this.utilService.isInitializedDate(this.selectedDateRange.end) ||\r\n                JSON.stringify(this.selectedDateRange.begin) === JSON.stringify(this.selectedDateRange.end))\r\n        ) {\r\n            for (const w of this.dates) {\r\n                for (const day of w.week) {\r\n                    day.range =\r\n                        (this.utilService.isDateSameOrEarlier(this.selectedDateRange.begin,day.dateObj) && this.utilService.isDateSameOrEarlier(day.dateObj, cell.dateObj)) ||\r\n                        (this.utilService.isDateSameOrEarlier(day.dateObj,this.selectedDateRange.begin) && this.utilService.isDateSameOrEarlier(cell.dateObj,day.dateObj));\r\n                }\r\n            }\r\n            this.onMouseEnter.emit(cell);\r\n        }\r\n    }\r\n\r\n    onDayCellMouseLeave(): void {\r\n        for (const w of this.dates) {\r\n            for (const day of w.week) {\r\n                day.range = false;\r\n            }\r\n        }\r\n        this.onMouseLeave.emit();\r\n    }\r\n\r\n    isDateInRange(date: IMyDate): boolean {\r\n        return this.utilService.isDateInRange(date, this.selectedDateRange);\r\n    }\r\n\r\n    isDateSame(date: IMyDate): boolean {\r\n        return this.utilService.isDateSame(\r\n            {\r\n                year: this.selectedDate.year,\r\n                month: this.selectedDate.month,\r\n                day: this.selectedDate.day\r\n            },\r\n            date\r\n        );\r\n    }\r\n\r\n    isDateRangeBeginOrEndSame(date: IMyDate): boolean {\r\n        const selectedDateRange = {\r\n            begin: {\r\n                year: this.selectedDateRange.begin.year,\r\n                month: this.selectedDateRange.begin.month,\r\n                day: this.selectedDateRange.begin.day\r\n            },\r\n            end: {\r\n                year: this.selectedDateRange.end.year,\r\n                month: this.selectedDateRange.end.month,\r\n                day: this.selectedDateRange.end.day\r\n            }\r\n        };\r\n        return this.utilService.isDateRangeBeginOrEndSame(\r\n            selectedDateRange,\r\n            date\r\n        );\r\n    }\r\n\r\n    isDateSelected(date: IMyDate): boolean {\r\n        return !!this.selectedDates.find(n => this.utilService.isDateSame(n, date));\r\n    }\r\n}\r\n","import { Component, ElementRef, EventEmitter, Input, OnChanges, OnInit, Output, SimpleChanges, ViewChild } from '@angular/core';\r\nimport { sortBy } from 'lodash-es';\r\n@Component({\r\n    selector: 'multi-days',\r\n    template: `\r\n        <div class=\"d-flex mb-2 f-datepicker-multi-selectdays-header\">\r\n            <span style=\"font-size: 14px;\" class=\"ml-3\">{{ locales?.selected.split(',')[0] || 'å·²é'}} <span style=\"font-weight: bold;font-size: 17px;\">{{selectedDates.length}}</span> {{locales?.selected.split(',')[1] ||'å¤©'}}</span>\r\n            <span class=\"f-datepicker-multi-selectdays-clear\" (click)=\"onClear($event)\">{{ locales?.clearSelections || 'æ¸ç©º'}}</span>\r\n        </div>\r\n        <div #selecteditems style=\"height: 230px;overflow-y: auto;\" class=\"ml-3 multi-date-select win11Scroll nobtn\" (wheel)=\"$event.stopPropagation()\">\r\n            <ul [style.width.px]=\"167\">\r\n                <li class=\"d-flex align-items-center f-datepicker-multi-selectdays\" *ngFor=\"let d of selectedDates\" (click)=\"onSelectDateClick($event, d)\">\r\n                    {{d.value}} <span class=\"f-icon f-icon-close remove\" title=\"{{ locales?.delete || 'å é¤'}}\" (click)=\"onRemove($event, d)\"></span>\r\n                </li>\r\n            </ul>\r\n        </div>\r\n    `,\r\n    styles: [\r\n        `\r\n        .f-datepicker-multi-selectdays-header{\r\n            height: 41px;border-bottom: 1px solid #E4E7EF;line-height: 40px;justify-content: space-between;\r\n        }\r\n\r\n        .f-datepicker-multi-selectdays {\r\n            justify-content: space-between;color: #2D2F33;height: 30px;padding: 0 5px;border-radius: 6px;\r\n            cursor: pointer;\r\n        }\r\n\r\n        .f-datepicker-multi-selectdays:hover {\r\n            background: #F7F8FB;\r\n        }\r\n\r\n        .f-datepicker-multi-selectdays .remove {\r\n            font-size: 12px;color: #C7CFDD;cursor: pointer;\r\n        }\r\n\r\n        .f-datepicker-multi-selectdays .remove:hover {\r\n            color: #5f96f5;\r\n        }\r\n\r\n        .f-datepicker-multi-selectdays-clear {\r\n            font-size: 13px;margin-right: 10px; color: #CCD1DD; cursor: pointer;\r\n        }\r\n        .f-datepicker-multi-selectdays-clear:hover {\r\n            color: #5f96f5;\r\n        }\r\n\r\n        .mr14 {\r\n            margin-right: 14px;\r\n        }\r\n        `\r\n    ]\r\n})\r\n\r\nexport class MultiSelectedDaysComponent implements OnInit, OnChanges {\r\n\r\n    @Input() locales: any = {};\r\n\r\n    @Input() selectedDates = [];\r\n    @Output() removed = new EventEmitter();\r\n    @Output() clear = new EventEmitter();\r\n    @Output() clicked = new EventEmitter();\r\n\r\n\r\n    @ViewChild('selecteditems') selecteditemsEl: ElementRef;\r\n\r\n\r\n    constructor() { }\r\n\r\n    ngOnInit() {\r\n\r\n    }\r\n\r\n    ngOnChanges(changes: SimpleChanges): void {\r\n    }\r\n\r\n    onRemove($event: MouseEvent, item) {\r\n        $event.stopPropagation();\r\n        this.removed.emit(item);\r\n    }\r\n\r\n    onClear($event: MouseEvent) {\r\n        $event.stopPropagation();\r\n        this.clear.emit();\r\n    }\r\n\r\n    onSelectDateClick($event, item) {\r\n        $event.stopPropagation();\r\n        this.clicked.emit(item);\r\n    }\r\n}","import { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { NgModule } from '@angular/core';\r\n\r\nimport { CalendarComponent } from './components/calendar/calendar.component';\r\nimport { SelectionBarComponent } from './components/selection-bar/selection-bar.component';\r\nimport { DayViewComponent } from './components/day-view/day-view.component';\r\nimport { MonthViewComponent } from './components/month-view/month-view.component';\r\nimport { YearViewComponent } from './components/year-view/year-view.component';\r\n\r\nimport { FarrisDatePickerDirective } from './farris-datepicker.input';\r\nimport { FarrisDatepickerComponent } from './farris-datepicker.component';\r\nimport { SelectionSidebarComponent } from './components/selection-sidebar/selection-sidebar.component';\r\nimport { AngularMyDatePickerComponent } from './AngularMyDatePicker.component';\r\n\r\nimport { TimePickerModule } from '@farris/ui-time-picker';\r\nimport { LocaleModule } from '@farris/ui-locale';\r\nimport { PopoverModule } from '@farris/ui-popover';\r\nimport { DateHelperModule } from '@farris/ui-common/date';\r\nimport { NotifyModule  } from '@farris/ui-notify';\r\nimport { FarrisCommonModule } from '@farris/ui-common';\r\nimport { FarrisFormsModule } from '@farris/ui-forms';\r\n\r\nimport { DynamicViewComponent } from './components/dynamic-view/dynamic-view.component';\r\nimport { DynamicDateInputComponent } from './dynamic-date-input/dynamic-date-input.component';\r\nimport { MultiSelectDateInputComponent } from './multi-date-input/multi-date-input.component';\r\nimport { MultiDayViewComponent } from './components/multi-day-view/multi-day-view.component';\r\nimport { MultiSelectedDaysComponent } from './components/multi-day-view/multi-days.component';\r\n\r\n@NgModule({\r\n    imports: [\r\n        CommonModule,\r\n        FormsModule, \r\n        TimePickerModule,\r\n        LocaleModule,\r\n        FarrisCommonModule,\r\n        PopoverModule.forRoot(),\r\n        DateHelperModule.forRoot(),\r\n        NotifyModule.forRoot(),\r\n        FarrisFormsModule\r\n    ],\r\n    declarations: [\r\n        CalendarComponent,\r\n        SelectionSidebarComponent,\r\n        SelectionBarComponent,\r\n        DayViewComponent,\r\n        MonthViewComponent,\r\n        YearViewComponent,\r\n        FarrisDatepickerComponent,\r\n        FarrisDatePickerDirective,\r\n        AngularMyDatePickerComponent,\r\n        DynamicViewComponent,\r\n        DynamicDateInputComponent,\r\n        MultiSelectDateInputComponent,\r\n        MultiDayViewComponent,\r\n        MultiSelectedDaysComponent\r\n    ],\r\n    entryComponents: [CalendarComponent],\r\n    exports: [\r\n        CalendarComponent,\r\n        SelectionBarComponent,\r\n        SelectionSidebarComponent,\r\n        DayViewComponent,\r\n        MonthViewComponent,\r\n        YearViewComponent,\r\n        FarrisDatepickerComponent,\r\n        FarrisDatePickerDirective,\r\n        DynamicViewComponent,\r\n        DynamicDateInputComponent,\r\n        MultiSelectDateInputComponent,\r\n        MultiDayViewComponent,\r\n        MultiSelectedDaysComponent\r\n    ]\r\n})\r\nexport class FarrisDatePickerModule {}\r\n"],"names":["Injectable","date","tslib_1.__values","orderBy","EventEmitter","flatten","Component","ViewEncapsulation","Renderer2","ChangeDetectorRef","ViewChild","HostBinding","Output","Input","NG_VALUE_ACCESSOR","forwardRef","NG_VALIDATORS","Directive","ViewContainerRef","ComponentFactoryResolver","ElementRef","NgZone","HostListener","LocaleService","DateTimeHelperService","NotifyService","ApplicationRef","OverLayHiddenService","CommonUtils","isValid","NgControl","differenceInSeconds","parse","isDate","Injector","BehaviorSubject","NgModule","CommonModule","FormsModule","TimePickerModule","LocaleModule","FarrisCommonModule","PopoverModule","DateHelperModule","NotifyModule","FarrisFormsModule"],"mappings":"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"}
