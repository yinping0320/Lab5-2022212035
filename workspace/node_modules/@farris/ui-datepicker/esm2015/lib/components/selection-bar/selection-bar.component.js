/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
/*
 * @Author: 疯狂秀才(Lucas Huang)
 * @Date: 2019-08-02 14:14:22
 * @LastEditors: 疯狂秀才(Lucas Huang)
 * @LastEditTime: 2019-09-09 09:27:58
 * @QQ: 1055818239
 * @Version: v0.0.1
 */
import { Component, EventEmitter, Input, Output, ViewEncapsulation } from '@angular/core';
import { OPTS, YEARS, VISIBLE_MONTH, SELECT_MONTH, SELECT_YEAR, PREV_VIEW_DISABLED, NEXT_VIEW_DISABLED, YYYY, MM } from '../../constants/constants';
export class SelectionBarComponent {
    constructor() {
        this.prevNavigateBtnClicked = new EventEmitter();
        this.nextNavigateBtnClicked = new EventEmitter();
        this.monthViewBtnClicked = new EventEmitter();
        this.yearViewBtnClicked = new EventEmitter();
        this.todayViewBtnClicked = new EventEmitter();
    }
    /**
     * @param {?} changes
     * @return {?}
     */
    ngOnChanges(changes) {
        if (changes.hasOwnProperty(OPTS)) {
            this.opts = changes[OPTS].currentValue;
        }
        if (changes.hasOwnProperty(YEARS)) {
            this.years = changes[YEARS].currentValue;
        }
        if (changes.hasOwnProperty(VISIBLE_MONTH)) {
            this.visibleMonth = changes[VISIBLE_MONTH].currentValue;
        }
        if (changes.hasOwnProperty(SELECT_MONTH)) {
            this.selectMonth = changes[SELECT_MONTH].currentValue;
        }
        if (changes.hasOwnProperty(SELECT_YEAR)) {
            this.selectYear = changes[SELECT_YEAR].currentValue;
        }
        if (changes.hasOwnProperty(PREV_VIEW_DISABLED)) {
            this.prevViewDisabled = changes[PREV_VIEW_DISABLED].currentValue;
        }
        if (changes.hasOwnProperty(NEXT_VIEW_DISABLED)) {
            this.nextViewDisabled = changes[NEXT_VIEW_DISABLED].currentValue;
        }
    }
    /**
     * @param {?} event
     * @return {?}
     */
    onPrevNavigateBtnClicked(event) {
        event.stopPropagation();
        !this.prevViewDisabled && this.prevNavigateBtnClicked.emit(true);
    }
    /**
     * @param {?} event
     * @return {?}
     */
    onNextNavigateBtnClicked(event) {
        event.stopPropagation();
        !this.nextViewDisabled && this.nextNavigateBtnClicked.emit(true);
    }
    /**
     * @param {?} event
     * @return {?}
     */
    onPrevDobNavigateBtnClicked(event) {
        event.stopPropagation();
        !this.prevDobViewDisabled && this.prevNavigateBtnClicked.emit(false);
    }
    /**
     * @param {?} event
     * @return {?}
     */
    onNextDobNavigateBtnClicked(event) {
        event.stopPropagation();
        !this.nextDobViewDisabled && this.nextNavigateBtnClicked.emit(false);
    }
    /**
     * @param {?} event
     * @return {?}
     */
    onMonthViewBtnClicked(event) {
        event.stopPropagation();
        this.monthViewBtnClicked.emit();
    }
    /**
     * @param {?} event
     * @return {?}
     */
    onYearViewBtnClicked(event) {
        event.stopPropagation();
        this.yearViewBtnClicked.emit();
    }
    /**
     * @param {?} event
     * @return {?}
     */
    onTodayViewBtnClicked(event) {
        event.stopPropagation();
        this.todayViewBtnClicked.emit();
    }
    /**
     * @return {?}
     */
    getFormateType() {
        /** @type {?} */
        const yIndex = this.opts.dateFormat
            ? this.opts.dateFormat.indexOf(YYYY)
            : 0;
        /** @type {?} */
        const mIndex = this.opts.dateFormat
            ? this.opts.dateFormat.indexOf(MM)
            : 0;
        return yIndex > mIndex ? `${MM}-${YYYY}` : `${YYYY}-${MM}`;
    }
}
SelectionBarComponent.decorators = [
    { type: Component, args: [{
                selector: 'lib-selection-bar',
                template: "<div\r\n    class=\"f-datepicker-header\"\r\n    [ngClass]=\"{ monthYearSelBarBorder: selectMonth || selectYear }\"\r\n>\r\n    <div class=\"f-datepicker-prev-btn\">\r\n        <button\r\n            type=\"button\"\r\n            class=\"f-datepicker-header-btn\"\r\n            (click)=\"onPrevDobNavigateBtnClicked($event)\"\r\n            [ngClass]=\"{\r\n                'f-datepicker-header-btn-disabled': prevDobViewDisabled\r\n            }\"\r\n        >\r\n            <i class=\"k-icon k-i-arrow-double-60-left\"></i>\r\n        </button>\r\n        <button\r\n            type=\"button\"\r\n            *ngIf=\"!selectMonth && !selectYear\"\r\n            [attr.aria-label]=\"opts.ariaLabelPrevMonth\"\r\n            class=\"f-datepicker-header-btn\"\r\n            (click)=\"onPrevNavigateBtnClicked($event)\"\r\n            [ngClass]=\"{ 'f-datepicker-header-btn-disabled': prevViewDisabled }\"\r\n        >\r\n            <i class=\"k-icon k-i-arrow-chevron-left\"></i>\r\n        </button>\r\n    </div>\r\n    <div class=\"f-datepicker-monthYearText\">\r\n        <ng-container *ngIf=\"getFormateType() === 'yyyy-MM'; else elseTemplate\">\r\n            <button\r\n                type=\"button\"\r\n                class=\"f-datepicker-header-btn\"\r\n                (click)=\"opts.yearSelector && onYearViewBtnClicked($event)\"\r\n                tabindex=\"{{ opts.yearSelector ? '0' : '-1' }}\"\r\n                [disabled]=\"opts.showType === 3\"\r\n                [ngClass]=\"{\r\n                    'f-datepicker-yearLabel': opts.yearSelector,\r\n                    'f-datepicker-labelBtnNotEdit': !opts.yearSelector\r\n                }\"\r\n            >\r\n                {{\r\n                    !selectYear\r\n                        ? visibleMonth.year + visibleMonth.yearTxt \r\n                        : years[0][1].year + ' - ' + years[3][1].year\r\n                }}\r\n            </button>\r\n            <button\r\n                type=\"button\"\r\n                class=\"f-datepicker-header-btn\"\r\n                *ngIf=\"!selectYear && opts.showType !== 2\"\r\n                (click)=\"opts.monthSelector && onMonthViewBtnClicked($event)\"\r\n                tabindex=\"{{ opts.monthSelector ? '0' : '-1' }}\"\r\n                [ngClass]=\"{\r\n                    'f-datepicker-monthLabel': opts.monthSelector,\r\n                    'f-datepicker-labelBtnNotEdit': !opts.monthSelector\r\n                }\"\r\n            >\r\n                {{ visibleMonth.monthTxt }}\r\n            </button>\r\n        </ng-container>\r\n        <ng-template #elseTemplate>\r\n            <button\r\n                type=\"button\"\r\n                class=\"f-datepicker-header-btn\"\r\n                *ngIf=\"!selectYear\"\r\n                (click)=\"opts.monthSelector && onMonthViewBtnClicked($event)\"\r\n                tabindex=\"{{ opts.monthSelector ? '0' : '-1' }}\"\r\n                [ngClass]=\"{\r\n                    'f-datepicker-monthLabel': opts.monthSelector,\r\n                    'f-datepicker-labelBtnNotEdit': !opts.monthSelector\r\n                }\"\r\n            >\r\n                {{ visibleMonth.monthTxt }}\r\n            </button>\r\n            <button\r\n                type=\"button\"\r\n                class=\"f-datepicker-header-btn\"\r\n                (click)=\"opts.yearSelector && onYearViewBtnClicked($event)\"\r\n                tabindex=\"{{ opts.yearSelector ? '0' : '-1' }}\"\r\n                [ngClass]=\"{\r\n                    'f-datepicker-yearLabel': opts.yearSelector,\r\n                    'f-datepicker-labelBtnNotEdit': !opts.yearSelector\r\n                }\"\r\n            >\r\n                {{\r\n                    !selectYear\r\n                        ? visibleMonth.year + visibleMonth.yearTxt\r\n                        : years[0][1].year + ' - ' + years[3][1].year\r\n                }}\r\n            </button>\r\n        </ng-template>\r\n    </div>\r\n    <div class=\"f-datepicker-next-btn\">\r\n        <button\r\n            type=\"button\"\r\n            *ngIf=\"!selectMonth && !selectYear\"\r\n            [attr.aria-label]=\"opts.ariaLabelNextMonth\"\r\n            class=\"f-datepicker-header-btn\"\r\n            (click)=\"onNextNavigateBtnClicked($event)\"\r\n            [ngClass]=\"{ 'f-datepicker-header-btn-disabled': nextViewDisabled }\"\r\n        >\r\n            <i class=\"k-icon k-i-arrow-chevron-right\"></i>\r\n        </button>\r\n        <button\r\n            type=\"button\"\r\n            class=\"f-datepicker-header-btn\"\r\n            (click)=\"onNextDobNavigateBtnClicked($event)\"\r\n            [ngClass]=\"{\r\n                'f-datepicker-header-btn-disabled': nextDobViewDisabled\r\n            }\"\r\n        >\r\n            <i class=\"k-icon k-i-arrow-double-60-right\"></i>\r\n        </button>\r\n    </div>\r\n</div>\r\n",
                encapsulation: ViewEncapsulation.None
            }] }
];
/** @nocollapse */
SelectionBarComponent.ctorParameters = () => [];
SelectionBarComponent.propDecorators = {
    opts: [{ type: Input }],
    years: [{ type: Input }],
    visibleMonth: [{ type: Input }],
    selectMonth: [{ type: Input }],
    selectYear: [{ type: Input }],
    selectToday: [{ type: Input }],
    prevViewDisabled: [{ type: Input }],
    nextViewDisabled: [{ type: Input }],
    prevDobViewDisabled: [{ type: Input }],
    nextDobViewDisabled: [{ type: Input }],
    prevNavigateBtnClicked: [{ type: Output }],
    nextNavigateBtnClicked: [{ type: Output }],
    monthViewBtnClicked: [{ type: Output }],
    yearViewBtnClicked: [{ type: Output }],
    todayViewBtnClicked: [{ type: Output }]
};
if (false) {
    /** @type {?} */
    SelectionBarComponent.prototype.opts;
    /** @type {?} */
    SelectionBarComponent.prototype.years;
    /** @type {?} */
    SelectionBarComponent.prototype.visibleMonth;
    /** @type {?} */
    SelectionBarComponent.prototype.selectMonth;
    /** @type {?} */
    SelectionBarComponent.prototype.selectYear;
    /** @type {?} */
    SelectionBarComponent.prototype.selectToday;
    /** @type {?} */
    SelectionBarComponent.prototype.prevViewDisabled;
    /** @type {?} */
    SelectionBarComponent.prototype.nextViewDisabled;
    /** @type {?} */
    SelectionBarComponent.prototype.prevDobViewDisabled;
    /** @type {?} */
    SelectionBarComponent.prototype.nextDobViewDisabled;
    /** @type {?} */
    SelectionBarComponent.prototype.prevNavigateBtnClicked;
    /** @type {?} */
    SelectionBarComponent.prototype.nextNavigateBtnClicked;
    /** @type {?} */
    SelectionBarComponent.prototype.monthViewBtnClicked;
    /** @type {?} */
    SelectionBarComponent.prototype.yearViewBtnClicked;
    /** @type {?} */
    SelectionBarComponent.prototype.todayViewBtnClicked;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2VsZWN0aW9uLWJhci5jb21wb25lbnQuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9AZmFycmlzL3VpLWRhdGVwaWNrZXIvIiwic291cmNlcyI6WyJsaWIvY29tcG9uZW50cy9zZWxlY3Rpb24tYmFyL3NlbGVjdGlvbi1iYXIuY29tcG9uZW50LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQVFBLE9BQU8sRUFDSCxTQUFTLEVBQ1QsWUFBWSxFQUNaLEtBQUssRUFFTCxNQUFNLEVBQ04saUJBQWlCLEVBRXBCLE1BQU0sZUFBZSxDQUFDO0FBTXZCLE9BQU8sRUFDSCxJQUFJLEVBQ0osS0FBSyxFQUNMLGFBQWEsRUFDYixZQUFZLEVBQ1osV0FBVyxFQUNYLGtCQUFrQixFQUNsQixrQkFBa0IsRUFDbEIsSUFBSSxFQUNKLEVBQUUsRUFDTCxNQUFNLDJCQUEyQixDQUFDO0FBT25DLE1BQU0sT0FBTyxxQkFBcUI7SUF5QjlCO1FBYlUsMkJBQXNCLEdBQTBCLElBQUksWUFBWSxFQUV2RSxDQUFDO1FBQ00sMkJBQXNCLEdBQTBCLElBQUksWUFBWSxFQUV2RSxDQUFDO1FBQ00sd0JBQW1CLEdBQXVCLElBQUksWUFBWSxFQUVqRSxDQUFDO1FBQ00sdUJBQWtCLEdBQXVCLElBQUksWUFBWSxFQUFRLENBQUM7UUFDbEUsd0JBQW1CLEdBQXVCLElBQUksWUFBWSxFQUVqRSxDQUFDO0lBQ1csQ0FBQzs7Ozs7SUFFaEIsV0FBVyxDQUFDLE9BQXNCO1FBQzlCLElBQUksT0FBTyxDQUFDLGNBQWMsQ0FBQyxJQUFJLENBQUMsRUFBRTtZQUM5QixJQUFJLENBQUMsSUFBSSxHQUFHLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQyxZQUFZLENBQUM7U0FDMUM7UUFDRCxJQUFJLE9BQU8sQ0FBQyxjQUFjLENBQUMsS0FBSyxDQUFDLEVBQUU7WUFDL0IsSUFBSSxDQUFDLEtBQUssR0FBRyxPQUFPLENBQUMsS0FBSyxDQUFDLENBQUMsWUFBWSxDQUFDO1NBQzVDO1FBQ0Qs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LENBQUMsQ0FBQyxHQUFHLEVBQUUsSUFBSSxJQUFJLEVBQUUsQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLElBQUksRUFBRSxFQUFFLENBQUM7SUFDL0QsQ0FBQzs7O1lBL0ZKLFNBQVMsU0FBQztnQkFDUCxRQUFRLEVBQUUsbUJBQW1CO2dCQUM3QixzeUpBQTZDO2dCQUM3QyxhQUFhLEVBQUUsaUJBQWlCLENBQUMsSUFBSTthQUN4Qzs7Ozs7bUJBRUksS0FBSztvQkFDTCxLQUFLOzJCQUNMLEtBQUs7MEJBQ0wsS0FBSzt5QkFDTCxLQUFLOzBCQUNMLEtBQUs7K0JBQ0wsS0FBSzsrQkFDTCxLQUFLO2tDQUNMLEtBQUs7a0NBQ0wsS0FBSztxQ0FFTCxNQUFNO3FDQUdOLE1BQU07a0NBR04sTUFBTTtpQ0FHTixNQUFNO2tDQUNOLE1BQU07Ozs7SUFyQlAscUNBQTBCOztJQUMxQixzQ0FBOEM7O0lBQzlDLDZDQUFnQzs7SUFDaEMsNENBQThCOztJQUM5QiwyQ0FBNkI7O0lBQzdCLDRDQUE4Qjs7SUFDOUIsaURBQW1DOztJQUNuQyxpREFBbUM7O0lBQ25DLG9EQUFzQzs7SUFDdEMsb0RBQXNDOztJQUV0Qyx1REFFSTs7SUFDSix1REFFSTs7SUFDSixvREFFSTs7SUFDSixtREFBNEU7O0lBQzVFLG9EQUVJIiwic291cmNlc0NvbnRlbnQiOlsiLypcclxuICogQEF1dGhvcjog55av54uC56eA5omNKEx1Y2FzIEh1YW5nKVxyXG4gKiBARGF0ZTogMjAxOS0wOC0wMiAxNDoxNDoyMlxyXG4gKiBATGFzdEVkaXRvcnM6IOeWr+eLguengOaJjShMdWNhcyBIdWFuZylcclxuICogQExhc3RFZGl0VGltZTogMjAxOS0wOS0wOSAwOToyNzo1OFxyXG4gKiBAUVE6IDEwNTU4MTgyMzlcclxuICogQFZlcnNpb246IHYwLjAuMVxyXG4gKi9cclxuaW1wb3J0IHtcclxuICAgIENvbXBvbmVudCxcclxuICAgIEV2ZW50RW1pdHRlcixcclxuICAgIElucHV0LFxyXG4gICAgT25DaGFuZ2VzLFxyXG4gICAgT3V0cHV0LFxyXG4gICAgVmlld0VuY2Fwc3VsYXRpb24sXHJcbiAgICBTaW1wbGVDaGFuZ2VzXHJcbn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcbmltcG9ydCB7XHJcbiAgICBJTXlPcHRpb25zLFxyXG4gICAgSU15TW9udGgsXHJcbiAgICBJTXlDYWxlbmRhclllYXJcclxufSBmcm9tICcuLi8uLi9pbnRlcmZhY2VzL3B1YmxpYy1hcGknO1xyXG5pbXBvcnQge1xyXG4gICAgT1BUUyxcclxuICAgIFlFQVJTLFxyXG4gICAgVklTSUJMRV9NT05USCxcclxuICAgIFNFTEVDVF9NT05USCxcclxuICAgIFNFTEVDVF9ZRUFSLFxyXG4gICAgUFJFVl9WSUVXX0RJU0FCTEVELFxyXG4gICAgTkVYVF9WSUVXX0RJU0FCTEVELFxyXG4gICAgWVlZWSxcclxuICAgIE1NXHJcbn0gZnJvbSAnLi4vLi4vY29uc3RhbnRzL2NvbnN0YW50cyc7XHJcblxyXG5AQ29tcG9uZW50KHtcclxuICAgIHNlbGVjdG9yOiAnbGliLXNlbGVjdGlvbi1iYXInLFxyXG4gICAgdGVtcGxhdGVVcmw6ICcuL3NlbGVjdGlvbi1iYXIuY29tcG9uZW50Lmh0bWwnLFxyXG4gICAgZW5jYXBzdWxhdGlvbjogVmlld0VuY2Fwc3VsYXRpb24uTm9uZVxyXG59KVxyXG5leHBvcnQgY2xhc3MgU2VsZWN0aW9uQmFyQ29tcG9uZW50IGltcGxlbWVudHMgT25DaGFuZ2VzIHtcclxuICAgIEBJbnB1dCgpIG9wdHM6IElNeU9wdGlvbnM7XHJcbiAgICBASW5wdXQoKSB5ZWFyczogQXJyYXk8QXJyYXk8SU15Q2FsZW5kYXJZZWFyPj47XHJcbiAgICBASW5wdXQoKSB2aXNpYmxlTW9udGg6IElNeU1vbnRoO1xyXG4gICAgQElucHV0KCkgc2VsZWN0TW9udGg6IGJvb2xlYW47XHJcbiAgICBASW5wdXQoKSBzZWxlY3RZZWFyOiBib29sZWFuO1xyXG4gICAgQElucHV0KCkgc2VsZWN0VG9kYXk6IGJvb2xlYW47XHJcbiAgICBASW5wdXQoKSBwcmV2Vmlld0Rpc2FibGVkOiBib29sZWFuO1xyXG4gICAgQElucHV0KCkgbmV4dFZpZXdEaXNhYmxlZDogYm9vbGVhbjtcclxuICAgIEBJbnB1dCgpIHByZXZEb2JWaWV3RGlzYWJsZWQ6IGJvb2xlYW47XHJcbiAgICBASW5wdXQoKSBuZXh0RG9iVmlld0Rpc2FibGVkOiBib29sZWFuO1xyXG5cclxuICAgIEBPdXRwdXQoKSBwcmV2TmF2aWdhdGVCdG5DbGlja2VkOiBFdmVudEVtaXR0ZXI8Ym9vbGVhbj4gPSBuZXcgRXZlbnRFbWl0dGVyPFxyXG4gICAgICAgIGJvb2xlYW5cclxuICAgID4oKTtcclxuICAgIEBPdXRwdXQoKSBuZXh0TmF2aWdhdGVCdG5DbGlja2VkOiBFdmVudEVtaXR0ZXI8Ym9vbGVhbj4gPSBuZXcgRXZlbnRFbWl0dGVyPFxyXG4gICAgICAgIGJvb2xlYW5cclxuICAgID4oKTtcclxuICAgIEBPdXRwdXQoKSBtb250aFZpZXdCdG5DbGlja2VkOiBFdmVudEVtaXR0ZXI8dm9pZD4gPSBuZXcgRXZlbnRFbWl0dGVyPFxyXG4gICAgICAgIHZvaWRcclxuICAgID4oKTtcclxuICAgIEBPdXRwdXQoKSB5ZWFyVmlld0J0bkNsaWNrZWQ6IEV2ZW50RW1pdHRlcjx2b2lkPiA9IG5ldyBFdmVudEVtaXR0ZXI8dm9pZD4oKTtcclxuICAgIEBPdXRwdXQoKSB0b2RheVZpZXdCdG5DbGlja2VkOiBFdmVudEVtaXR0ZXI8dm9pZD4gPSBuZXcgRXZlbnRFbWl0dGVyPFxyXG4gICAgICAgIHZvaWRcclxuICAgID4oKTtcclxuICAgIGNvbnN0cnVjdG9yKCkge31cclxuXHJcbiAgICBuZ09uQ2hhbmdlcyhjaGFuZ2VzOiBTaW1wbGVDaGFuZ2VzKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKGNoYW5nZXMuaGFzT3duUHJvcGVydHkoT1BUUykpIHtcclxuICAgICAgICAgICAgdGhpcy5vcHRzID0gY2hhbmdlc1tPUFRTXS5jdXJyZW50VmFsdWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChjaGFuZ2VzLmhhc093blByb3BlcnR5KFlFQVJTKSkge1xyXG4gICAgICAgICAgICB0aGlzLnllYXJzID0gY2hhbmdlc1tZRUFSU10uY3VycmVudFZhbHVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoY2hhbmdlcy5oYXNPd25Qcm9wZXJ0eShWSVNJQkxFX01PTlRIKSkge1xyXG4gICAgICAgICAgICB0aGlzLnZpc2libGVNb250aCA9IGNoYW5nZXNbVklTSUJMRV9NT05USF0uY3VycmVudFZhbHVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoY2hhbmdlcy5oYXNPd25Qcm9wZXJ0eShTRUxFQ1RfTU9OVEgpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0TW9udGggPSBjaGFuZ2VzW1NFTEVDVF9NT05USF0uY3VycmVudFZhbHVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoY2hhbmdlcy5oYXNPd25Qcm9wZXJ0eShTRUxFQ1RfWUVBUikpIHtcclxuICAgICAgICAgICAgdGhpcy5zZWxlY3RZZWFyID0gY2hhbmdlc1tTRUxFQ1RfWUVBUl0uY3VycmVudFZhbHVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoY2hhbmdlcy5oYXNPd25Qcm9wZXJ0eShQUkVWX1ZJRVdfRElTQUJMRUQpKSB7XHJcbiAgICAgICAgICAgIHRoaXMucHJldlZpZXdEaXNhYmxlZCA9IGNoYW5nZXNbUFJFVl9WSUVXX0RJU0FCTEVEXS5jdXJyZW50VmFsdWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChjaGFuZ2VzLmhhc093blByb3BlcnR5KE5FWFRfVklFV19ESVNBQkxFRCkpIHtcclxuICAgICAgICAgICAgdGhpcy5uZXh0Vmlld0Rpc2FibGVkID0gY2hhbmdlc1tORVhUX1ZJRVdfRElTQUJMRURdLmN1cnJlbnRWYWx1ZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgb25QcmV2TmF2aWdhdGVCdG5DbGlja2VkKGV2ZW50OiBhbnkpOiB2b2lkIHtcclxuICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICAhdGhpcy5wcmV2Vmlld0Rpc2FibGVkICYmIHRoaXMucHJldk5hdmlnYXRlQnRuQ2xpY2tlZC5lbWl0KHRydWUpO1xyXG4gICAgfVxyXG5cclxuICAgIG9uTmV4dE5hdmlnYXRlQnRuQ2xpY2tlZChldmVudDogYW55KTogdm9pZCB7XHJcbiAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgIXRoaXMubmV4dFZpZXdEaXNhYmxlZCAmJiB0aGlzLm5leHROYXZpZ2F0ZUJ0bkNsaWNrZWQuZW1pdCh0cnVlKTtcclxuICAgIH1cclxuICAgIG9uUHJldkRvYk5hdmlnYXRlQnRuQ2xpY2tlZChldmVudDogYW55KTogdm9pZCB7XHJcbiAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgIXRoaXMucHJldkRvYlZpZXdEaXNhYmxlZCAmJiB0aGlzLnByZXZOYXZpZ2F0ZUJ0bkNsaWNrZWQuZW1pdChmYWxzZSk7XHJcbiAgICB9XHJcblxyXG4gICAgb25OZXh0RG9iTmF2aWdhdGVCdG5DbGlja2VkKGV2ZW50OiBhbnkpOiB2b2lkIHtcclxuICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICAhdGhpcy5uZXh0RG9iVmlld0Rpc2FibGVkICYmIHRoaXMubmV4dE5hdmlnYXRlQnRuQ2xpY2tlZC5lbWl0KGZhbHNlKTtcclxuICAgIH1cclxuICAgIG9uTW9udGhWaWV3QnRuQ2xpY2tlZChldmVudCk6IHZvaWQge1xyXG4gICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgIHRoaXMubW9udGhWaWV3QnRuQ2xpY2tlZC5lbWl0KCk7XHJcbiAgICB9XHJcblxyXG4gICAgb25ZZWFyVmlld0J0bkNsaWNrZWQoZXZlbnQpOiB2b2lkIHtcclxuICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICB0aGlzLnllYXJWaWV3QnRuQ2xpY2tlZC5lbWl0KCk7XHJcbiAgICB9XHJcbiAgICBvblRvZGF5Vmlld0J0bkNsaWNrZWQoZXZlbnQpOiB2b2lkIHtcclxuICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICB0aGlzLnRvZGF5Vmlld0J0bkNsaWNrZWQuZW1pdCgpO1xyXG4gICAgfVxyXG4gICAgZ2V0Rm9ybWF0ZVR5cGUoKTogc3RyaW5nIHtcclxuICAgICAgICBjb25zdCB5SW5kZXggPSB0aGlzLm9wdHMuZGF0ZUZvcm1hdFxyXG4gICAgICAgICAgICA/IHRoaXMub3B0cy5kYXRlRm9ybWF0LmluZGV4T2YoWVlZWSlcclxuICAgICAgICAgICAgOiAwO1xyXG4gICAgICAgIGNvbnN0IG1JbmRleCA9IHRoaXMub3B0cy5kYXRlRm9ybWF0XHJcbiAgICAgICAgICAgID8gdGhpcy5vcHRzLmRhdGVGb3JtYXQuaW5kZXhPZihNTSlcclxuICAgICAgICAgICAgOiAwO1xyXG4gICAgICAgIHJldHVybiB5SW5kZXggPiBtSW5kZXggPyBgJHtNTX0tJHtZWVlZfWAgOiBgJHtZWVlZfS0ke01NfWA7XHJcbiAgICB9XHJcbn1cclxuIl19