{"version":3,"file":"farris-ui-search-box.umd.js.map","sources":["ng://@farris/ui-search-box/lib/search-box.service.ts","node_modules/tslib/tslib.es6.js","ng://@farris/ui-search-box/lib/search-box.locale.ts","ng://@farris/ui-search-box/lib/search-box-base.ts","ng://@farris/ui-search-box/lib/search-box.component.ts","ng://@farris/ui-search-box/lib/search-fields/search-field-panel.component.ts","ng://@farris/ui-search-box/lib/search-fields/search-fields.component.ts","ng://@farris/ui-search-box/lib/search-fields/search-filed.directive.ts","ng://@farris/ui-search-box/lib/search-panel/search-panel.component.ts","ng://@farris/ui-search-box/lib/search-panel/search-panel.directive.ts","ng://@farris/ui-search-box/lib/search-panel/search-words.pipe.ts","ng://@farris/ui-search-box/lib/search-fields/editors/date/flexible-date.component.ts","ng://@farris/ui-search-box/lib/search-fields/editors/number/flexible-number.component.ts","ng://@farris/ui-search-box/lib/search-fields/editors/enum/search-editor-enum.component.ts","ng://@farris/ui-search-box/lib/search-fields/editors/boolean/search-editor-boolean.component.ts","ng://@farris/ui-search-box/lib/search-fields/can-clear-condition.pipe.ts","ng://@farris/ui-search-box/lib/search-box.module.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\r\n\r\n@Injectable()\r\nexport class SearchBoxService {\r\n\r\n  constructor() { }\r\n}\r\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n","/** åè®¾ç½®ç¸å³å¤è¯­èµæº */\r\nexport const SEARCH_BOX_LOCALE = {\r\n    en: {\r\n        'searchbox': {\r\n            enterKeywords: 'Please enter keywords',\r\n            tips: 'Space can be used to represent \"or\" in input, and enter to search.',\r\n            contain: 'contain',\r\n            clear: 'Clear all conditions.',\r\n            cancel: 'Cancel',\r\n            ok: 'Ok',\r\n            removeFilter: 'Delete Condition',\r\n            anyFields: 'All',\r\n            relation: {\r\n                and: 'AND',\r\n                or: 'OR'\r\n            }\r\n        }\r\n    },\r\n    'zh-CHS': {\r\n        'searchbox': {\r\n            enterKeywords: 'è¯·è¾å¥å³é®å­',\r\n            tips: 'è¾å¥ä¸­å¯ç¨ç©ºæ ¼ä»£è¡¨âæâï¼åè½¦å¯æç´¢',\r\n            contain: 'åå«',\r\n            clear: 'æ¸é¤ç­é',\r\n            cancel: 'åæ¶',\r\n            ok: 'ç¡®å®',\r\n            removeFilter: 'å é¤æ¡ä»¶',\r\n            anyFields: 'å¨é¨',\r\n            relation: {\r\n                and: 'å¹¶',\r\n                or: 'æ'\r\n            }\r\n        }\r\n    },\r\n    'zh-CHT': {\r\n        searchbox: {\r\n            enterKeywords: 'è«è¼¸å¥ééµå­',\r\n            tips: 'è¼¸å¥ä¸­å¯ç¨ç©ºæ ¼ä»£è¡¨âæâï¼åè»å¯æç´¢',\r\n            contain: 'åå«',\r\n            clear: 'æ¸é¤ç¯©é¸',\r\n            cancel: 'åæ¶',\r\n            ok: 'ç¢ºå®',\r\n            removeFilter: 'åªé¤æ¢ä»¶',\r\n            anyFields: 'å¨é¨',\r\n            relation: {\r\n                and: 'ä¸¦',\r\n                or: 'æ'\r\n            }\r\n        }\r\n    }\r\n}","import { ChangeDetectorRef, Directive, ElementRef, Injector, Optional, Renderer2 } from '@angular/core';\r\nimport { CommonUtils, OverLayHiddenService } from '@farris/ui-common';\r\nimport { LocaleService } from '@farris/ui-locale';\r\nimport { SEARCH_BOX_LOCALE } from './search-box.locale';\r\n\r\nexport class SearchBoxBase {\r\n\r\n    public commonUtils: CommonUtils = null;\r\n    public render: Renderer2;\r\n    public localeSer: LocaleService\r\n    constructor(public el: ElementRef, protected injector: Injector, @Optional() public overLayService: OverLayHiddenService, protected cd: ChangeDetectorRef) {\r\n        this.render = this.injector.get(Renderer2);\r\n\r\n        if (!overLayService) {\r\n            this.overLayService = new OverLayHiddenService();\r\n        }\r\n        this.localeSer = this.injector.get(LocaleService, null);\r\n        this.commonUtils = this.injector.get(CommonUtils, null);\r\n        \r\n        if (this.localeSer) {\r\n            this.localeSer.setLocaleData(SEARCH_BOX_LOCALE);\r\n        }\r\n    }\r\n\r\n    \r\n}","import { AfterViewInit, ChangeDetectorRef, Component, ElementRef, EventEmitter, forwardRef, HostBinding, HostListener, Injector, Input, OnChanges, OnDestroy, OnInit, Optional, Output, Renderer2, SimpleChanges, ViewChild, ViewEncapsulation } from \"@angular/core\";\r\nimport { CommonUtils, OverLayHiddenService } from \"@farris/ui-common\";\r\nimport { InputGroupComponent } from \"@farris/ui-input-group\";\r\nimport { Compare, FilterCondition, FilterRelation } from \"@farris/ui-common/types\";\r\nimport { DisplayText, SearchField, SearchFieldValue } from \"./search-box.types\";\r\nimport { flatten } from 'lodash-es';\r\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from \"@angular/forms\";\r\nimport { BehaviorSubject, of } from \"rxjs\";\r\nimport { SearchBoxBase } from \"./search-box-base\";\r\n\r\n\r\nexport const SEARCH_BOX_VALUE_ACCESSOR: any = {\r\n    provide: NG_VALUE_ACCESSOR,\r\n    useExisting: forwardRef(() => SearchBoxComponent),\r\n    multi: true\r\n};\r\n@Component({\r\n    selector: \"farris-search-box\",\r\n    templateUrl: './search-box.component.html',\r\n    encapsulation: ViewEncapsulation.None,\r\n    providers: [\r\n        SEARCH_BOX_VALUE_ACCESSOR\r\n    ]\r\n})\r\nexport class SearchBoxComponent extends SearchBoxBase implements OnInit, OnChanges, ControlValueAccessor, AfterViewInit, OnDestroy {\r\n\r\n    @Input() fields: Array<SearchField> = [];\r\n    @Input() maxSearchFields = 5;\r\n    @Input() condition: Array<FilterCondition> = [];\r\n\r\n    /** å¯ç¨ ä»»æå­æ®µ */\r\n    @Input() useAnyField = true;\r\n    \r\n\r\n    @ViewChild('searchbox') container: ElementRef;\r\n    @ViewChild('tagInput') input: InputGroupComponent;\r\n\r\n\r\n    @ViewChild('searchbox2') shadowBox: ElementRef;\r\n    @ViewChild('tagInput2') input2: InputGroupComponent;\r\n\r\n\r\n    @Output() conditionChange = new EventEmitter();\r\n    @Output() clear = new EventEmitter();\r\n    @Output() escHandler = new EventEmitter();\r\n    /** å¯ç¨æ¼æµ®ï¼false: åå®¹ä¼æé«å®¹å¨ï¼ trueï¼åºå®é«åº¦26pxï¼ç¹å»ææ»è¿æ¶ï¼æ¾ç¤ºå®æ´åå®¹ï¼å¤±å»ç¦ç¹åï¼è¿ååºå®ç¶æ */\r\n    enableFloat = true;\r\n\r\n    displayTextList: Array<DisplayText> = [];\r\n    filterConditions: Array<SearchFieldValue> = [];\r\n\r\n    hiddenItemsCount$ = new BehaviorSubject(0);\r\n\r\n    constructor(el: ElementRef, injector: Injector, @Optional() overLayService: OverLayHiddenService, cd: ChangeDetectorRef) {\r\n       super(el, injector, overLayService, cd);\r\n    }\r\n\r\n    ngOnInit() {\r\n    }\r\n\r\n    ngAfterViewInit(): void {\r\n        setTimeout(() => {\r\n            this.moveShadowToBody();\r\n        });\r\n\r\n    }\r\n\r\n    ngOnChanges(changes: SimpleChanges) {\r\n    }\r\n\r\n    ngOnDestroy() {\r\n        if (this.overLayService) {\r\n            this.overLayService.destory(this.shadowBox.nativeElement);\r\n            this.overLayService = null;\r\n        }\r\n\r\n        if (this.shadowBox) {\r\n            this.shadowBox.nativeElement.remove();\r\n        }\r\n\r\n        if (this['REMOVE_ITEM_TIMER']) {\r\n            clearTimeout(this['REMOVE_ITEM_TIMER']);\r\n            this['REMOVE_ITEM_TIMER'] = null;\r\n        }\r\n    }\r\n\r\n    onBlur($event) {\r\n        if (this.enableFloat) {\r\n            if (!this.input2.value) {\r\n                this.toggleShadowBox(false);\r\n            }\r\n        }\r\n    }\r\n\r\n    onInputClick($event) {\r\n        if (this.enableFloat) {\r\n            this.toggleShadowBox();\r\n        }\r\n    }\r\n\r\n\r\n    onModelChange = (arr: any) => { };\r\n    onModelTouched = (arr: any) => { };\r\n\r\n    private filterChanged() {\r\n        const conditions = this.filterConditions.filter(n => n.code !== '*').map(\r\n            (n, i) => {\r\n                if (n.value.trim().indexOf(' ') > -1) {\r\n                    const searchKeys = Array.from(new Set(n.value.trim().split(' ').filter(n => n.trim())));\r\n                    return searchKeys.map((s, j) => {\r\n                        return {\r\n                            filterField: n.code,\r\n                            value: s,\r\n                            lbracket: j == 0? '(':  '',\r\n                            rbracket: j == searchKeys.length - 1 ? ')' : '',\r\n                            relation: j == searchKeys.length - 1 ? 1 : 2,\r\n                            compare: 6,\r\n                        }\r\n                    });\r\n                }\r\n                return {\r\n                    filterField: n.code,\r\n                    value: n.value,\r\n                    lbracket: '',\r\n                    rbracket: '',\r\n                    relation: i == this.filterConditions.length -1 ? 0 : 1,\r\n                    compare: 6,\r\n                }\r\n            }\r\n        );\r\n\r\n        let _conditions = [];\r\n        _conditions = this.expandStarFieldToAllFields().concat(flatten(conditions));\r\n        if (conditions && conditions.length) {\r\n            _conditions[_conditions.length - 1].relation = 0;\r\n        }\r\n        this.onModelChange(this.filterConditions);\r\n        this.onModelTouched(this.filterConditions);\r\n\r\n\r\n        if (!_conditions.length) {\r\n            this.conditionChange.emit(this.filterConditions);\r\n        } else {\r\n            this.conditionChange.emit(_conditions);\r\n        }\r\n    }\r\n\r\n    expandStarFieldToAllFields() {\r\n        const item = this.filterConditions.find(n => n.code === '*');\r\n        if (!item) {\r\n            return [];\r\n        }\r\n        const searchKeys = Array.from(new Set(item.value.trim().split(' ').filter(n => n.trim())));\r\n        const conditions = this.fields.filter(n => n.code !== '*').map((n: SearchField, i) => {\r\n            return searchKeys.map((s, j) => {\r\n                return {\r\n                    filterField: n.code,\r\n                    value: s,\r\n                    lbracket: '',\r\n                    rbracket: '',\r\n                    relation: FilterRelation.Or,\r\n                    compare: Compare.Like,\r\n                }\r\n            });\r\n        });\r\n\r\n        let _conditions = [];\r\n        if (conditions && conditions.length) {\r\n            _conditions = flatten(conditions)\r\n            _conditions[0].lbracket = '('\r\n            _conditions[_conditions.length - 1].rbracket = ')'\r\n            _conditions[_conditions.length - 1].relation = this.filterConditions.filter(n => n.code !=='*').length ? 1 : 0;\r\n        }\r\n\r\n        return _conditions;\r\n    }\r\n\r\n    private initDislayText(emit = true) {\r\n        const relationStr = this.localeSer.getValue('searchbox.relation.or');\r\n        this.displayTextList = this.filterConditions.map((t: any) => {\r\n            const n = {...t};\r\n            // .map(n => `â${n}â`)\r\n            const values =  n.value.trim().split(' ').filter(n => n.trim());\r\n            n.dislayText = n.name + 'ï¼' + values.join(` ${ relationStr } `);\r\n            n.displayHtml = n.name + 'ï¼' + values.join(`<span class=\"text-muted font-italic mx-1 or\">${relationStr}</span>`);\r\n            return n;\r\n        });\r\n\r\n        setTimeout(() => {\r\n            if (this.enableFloat) {\r\n                this.setHiddenCount();\r\n            }\r\n        });\r\n        this.cd.detectChanges();\r\n        if (emit) {\r\n            this.filterChanged();\r\n        }\r\n    }\r\n\r\n    select(searchData: any) {\r\n        const condition = this.filterConditions.find(n => n.code === searchData.code);\r\n        if (condition) {\r\n            condition.value = condition.value.trim() + ' ' + searchData.value;\r\n        } else {\r\n            this.filterConditions.push(searchData);\r\n        }\r\n        this.initDislayText();\r\n\r\n        this.input.value = '';\r\n    }\r\n\r\n    remove(field: string) {\r\n        this.filterConditions = this.filterConditions.filter(n => n.code !== field)\r\n        this.initDislayText(false);\r\n\r\n        this._emitFilterChanged();\r\n    }\r\n\r\n    private _emitFilterChanged() {\r\n        if (this['REMOVE_ITEM_TIMER']) {\r\n            clearTimeout(this['REMOVE_ITEM_TIMER']);\r\n        }\r\n\r\n        this['REMOVE_ITEM_TIMER'] = setTimeout(() => {\r\n            this.filterChanged();\r\n        }, 180);\r\n    }\r\n\r\n    onRemoveItem($event, item) {\r\n        $event.stopPropagation();\r\n        this.filterConditions = this.filterConditions.filter(n => n.code !== item.code);\r\n        this.initDislayText();\r\n        \r\n    }\r\n\r\n    clearConditions(emit = true) {\r\n        this.input.value = '';\r\n        this.displayTextList = [];\r\n        this.filterConditions = [];\r\n        this.setHiddenCount();\r\n        if (emit) {\r\n            this.conditionChange.emit([]);\r\n            this.clear.emit();\r\n        }\r\n    }\r\n\r\n    onSubmit($event) {\r\n        $event.stopPropagation();\r\n        this.input.value = '';\r\n        this.toggleShadowBox(false);\r\n        this._emitFilterChanged();\r\n    }\r\n\r\n    writeValue(obj: any): void {\r\n        let arr = obj;\r\n        if (!Array.isArray(obj)) {\r\n            arr = [];\r\n        }\r\n\r\n        this.filterConditions = arr;\r\n        this.initDislayText();\r\n    }\r\n\r\n    registerOnChange(fn: any): void {\r\n        this.onModelChange = fn;\r\n    }\r\n\r\n    registerOnTouched(fn: any): void {\r\n        this.onModelTouched = fn;\r\n    }\r\n\r\n    setValue(arr: Array<SearchFieldValue>, emit = true) {\r\n        this.filterConditions = arr;\r\n        this.initDislayText(emit);\r\n    }\r\n\r\n    updateShadowBoxPosition({top, left, width} = {top: null, left: null, width: null}) {\r\n        if (!top && !left && !width) {\r\n            const e = this.el.nativeElement.getBoundingClientRect();\r\n            top = e.top;\r\n            left = e.left;\r\n            width = e.width;\r\n        }\r\n        this.render.setStyle(this.shadowBox.nativeElement, 'left', left + 'px');\r\n        this.render.setStyle(this.shadowBox.nativeElement, 'top', top + 'px');\r\n        this.render.setStyle(this.shadowBox.nativeElement, 'width', width + 'px');\r\n\r\n        this.render.setStyle(this.shadowBox.nativeElement, 'zIndex', this.commonUtils.getFloatingLayerIndex());\r\n    }\r\n\r\n    private moveShadowToBody() {\r\n        if (!this.enableFloat) {\r\n            return;\r\n        }\r\n        this.updateShadowBoxPosition();\r\n        document.body.append(this.shadowBox.nativeElement);\r\n\r\n        this.overLayService.registerMouseEvent(this.shadowBox.nativeElement, (e) => {\r\n            if (e.target && e.target.className.indexOf('search-box_delete-keys') > -1) {\r\n                return;\r\n            }\r\n\r\n            if (e.target === this.input2.textbox.nativeElement || !this.shadowBox || this.shadowBox.nativeElement.contains(e.target) || \r\n            e.target['closest']('.f-search-box-panel')) {\r\n                return;\r\n            }\r\n\r\n            this.toggleShadowBox(false);\r\n        });\r\n\r\n    }\r\n\r\n    toggleShadowBox(show = true) {\r\n        if (!this.enableFloat || ((!this.fields || !this.fields.length) && !this.useAnyField)) {\r\n            return;\r\n        }\r\n        if (show) {\r\n            this.updateShadowBoxPosition();\r\n            this.render.removeStyle(this.shadowBox.nativeElement, 'display');\r\n            this.container.nativeElement.style.visibility = 'hidden';\r\n            this.input2.focus();\r\n        } else {\r\n            this.container.nativeElement.style.visibility = 'visible';\r\n            this.render.setStyle(this.shadowBox.nativeElement, 'display', 'none');\r\n        }\r\n    }\r\n\r\n    onShadowBoxClick($event: MouseEvent) {\r\n        $event.stopPropagation();\r\n        if (this.enableFloat) {\r\n            this.input2.focus();\r\n        }\r\n    }\r\n\r\n    onResized($event) {\r\n        if (this.enableFloat) {\r\n            this.updateShadowBoxPosition($event);\r\n            setTimeout(() => {\r\n                this.setHiddenCount();\r\n                this.cd.detectChanges();\r\n            });\r\n        }\r\n    }\r\n\r\n    private setHiddenCount() {\r\n        let len = 0;\r\n        if (!this.displayTextList || !this.displayTextList.length) {\r\n            this.hiddenItemsCount$.next(len);\r\n            return;\r\n        }\r\n        const items = Array.from(this.container.nativeElement.querySelectorAll('span.search-tag-item'));\r\n        if (items && items.length) {\r\n            len = items.map((n: any) => {\r\n                return n.offsetTop;\r\n            }).filter(n => n > 20).length\r\n        }\r\n        this.hiddenItemsCount$.next(len);\r\n    }\r\n\r\n    onEsc($event) {\r\n        this.escHandler.emit($event);\r\n    }\r\n}\r\n","import { ChangeDetectorRef, Component, ElementRef, EventEmitter, HostListener, Injector, Input, OnInit, Output, ViewChild } from '@angular/core';\r\n\r\n@Component({\r\n    selector: 'farris-search-field-panel',\r\n    templateUrl: './search-field-panel.component.html'\r\n})\r\n\r\nexport class SearchFieldPanelComponent implements OnInit {\r\n\r\n    @Input() fieldOptions;\r\n\r\n    @ViewChild('btnSubmit') btnSubmit: ElementRef;\r\n\r\n    @Output() filterChange = new EventEmitter();\r\n    @Output() remove = new EventEmitter();\r\n\r\n    conditions = null;\r\n    elRef: ElementRef;\r\n    constructor(private injecotr: Injector, private cd: ChangeDetectorRef) {\r\n        this.elRef = this.injecotr.get(ElementRef, null);\r\n    }\r\n\r\n    ngOnInit() { }\r\n\r\n    onSearchValueChange($event) {\r\n        this.conditions = $event;\r\n        this.cd.detectChanges();\r\n    }\r\n\r\n    onSubmitCondition($event) {\r\n        this.fieldOptions.value = this.conditions.value;\r\n        if (!this.fieldOptions.value.single) {\r\n            this.fieldOptions.value.value = null;\r\n        } else {\r\n            delete this.fieldOptions.value.begin;\r\n            delete this.fieldOptions.value.end;\r\n        }\r\n        this.filterChange.emit(this.conditions);\r\n    }\r\n\r\n    onRemoveSearchField($event: MouseEvent) {\r\n        this.remove.emit(this.fieldOptions);\r\n    }\r\n}","import { AfterViewInit, ChangeDetectorRef, Component, ElementRef, EventEmitter, forwardRef, HostBinding, HostListener, \r\n    Injector, Input, OnChanges, OnDestroy, OnInit, Optional, Output, Renderer2, SimpleChanges, ViewChild, ViewEncapsulation } from \"@angular/core\";\r\nimport { OverLayHiddenService } from \"@farris/ui-common\";\r\nimport { Compare, FilterCondition, FilterRelation } from \"@farris/ui-common/types\";\r\nimport { DisplayText, SearchField, SearchFieldValue } from \"../search-box.types\";\r\nimport { flatten } from 'lodash-es';\r\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from \"@angular/forms\";\r\nimport { BehaviorSubject, of, Subject } from \"rxjs\";\r\nimport { SearchBoxBase } from \"../search-box-base\";\r\nimport { DateTimeHelperService } from \"@farris/ui-common/date\";\r\n\r\nexport const SEARCH_BOX_VALUE_ACCESSOR: any = {\r\n    provide: NG_VALUE_ACCESSOR,\r\n    useExisting: forwardRef(() => SearchFieldsComponent),\r\n    multi: true\r\n};\r\n\r\n@Component({\r\n    selector: 'farris-search-fields',\r\n    templateUrl: 'search-fields.component.html',\r\n    // styleUrls: [\r\n    //     `../searchbox-panel.scss`\r\n    // ],\r\n    encapsulation: ViewEncapsulation.None,\r\n    providers: [\r\n        SEARCH_BOX_VALUE_ACCESSOR\r\n    ]\r\n})\r\nexport class SearchFieldsComponent extends SearchBoxBase implements OnInit, OnChanges, ControlValueAccessor, AfterViewInit, OnDestroy {\r\n    @Input() fields: Array<SearchFieldValue> = [];\r\n    @Input() maxSearchFields = 5;\r\n    @Input() condition: Array<FilterCondition> = [];\r\n    /** å¤å­æ®µæ¥è¯¢ */\r\n    @Input() multi = true;\r\n    \r\n    @ViewChild('searchbox') container: ElementRef;\r\n    @ViewChild('searchbox2') shadowBox: ElementRef;\r\n    @ViewChild('tagContainer') tagContainerRef: ElementRef;\r\n\r\n    @Output() conditionChange = new EventEmitter();\r\n    @Output() clear = new EventEmitter();\r\n    /** å¯ç¨æ¼æµ®ï¼false: åå®¹ä¼æé«å®¹å¨ï¼ trueï¼åºå®é«åº¦26pxï¼ç¹å»ææ»è¿æ¶ï¼æ¾ç¤ºå®æ´åå®¹ï¼å¤±å»ç¦ç¹åï¼è¿ååºå®ç¶æ */\r\n    enableFloat = true;\r\n\r\n    displayTextList: Array<DisplayText> = [];\r\n    // filterConditions: Array<SearchFieldValue> = [];\r\n\r\n    moreStatus$ = new BehaviorSubject(false);\r\n\r\n    hideShadowbox = new Subject();\r\n\r\n    get hasFilter() {\r\n        return this.displayTextList && this.displayTextList.length ? this.displayTextList.filter((n: any) => n.hasFilter).length : false;\r\n    }\r\n\r\n    private showShadowBox = false;\r\n\r\n    constructor(el: ElementRef, injector: Injector, @Optional() overLayService: OverLayHiddenService, cd: ChangeDetectorRef, private dateHelp: DateTimeHelperService) {\r\n        super(el, injector, overLayService, cd);\r\n    }\r\n\r\n    ngOnInit() {\r\n\r\n        this.initDislayText(!!this.fields.filter((n: any) => n.value).length);\r\n\r\n        this.overLayService.registerMouseEvent(this.el.nativeElement, (e: any) => {\r\n            if (this.shadowBox && this.showShadowBox) {\r\n                if (this.shadowBox.nativeElement.contains(e.target)) {\r\n                    return;\r\n                }\r\n                if (e.target.closest('.f-search-field-container')) {\r\n                    return;\r\n                }\r\n\r\n                if (e.target.closest('.date-overlay-container') || e.target.className.indexOf('date-overlay-container') > -1) {\r\n                    return;\r\n                }\r\n\r\n                this.toggleShadowBox(false);\r\n                this.hideShadowbox.next(e);\r\n            }\r\n        });\r\n    }\r\n\r\n    ngAfterViewInit(): void {\r\n        setTimeout(() => {\r\n            this.moveShadowToBody();\r\n        });\r\n\r\n    }\r\n\r\n    ngOnChanges(changes: SimpleChanges) {\r\n       \r\n    }\r\n\r\n    ngOnDestroy() {\r\n        if (this.overLayService) {\r\n            this.overLayService = null;\r\n        }\r\n\r\n        if (this.shadowBox) {\r\n            this.shadowBox.nativeElement.remove();\r\n        }\r\n    }\r\n\r\n\r\n    onModelChange = (arr: any) => { };\r\n    onModelTouched = (arr: any) => { };\r\n\r\n    private filterChanged() {\r\n        const conditions = this.fields.filter((n: any) => n.value).map((n: any) => {\r\n            const { value, begin, end } = n.value;\r\n\r\n            if (value != null && value !== undefined && n.control.single) {\r\n                if (n.control.controltype === 'datetime') {\r\n                    return [{\r\n                        filterField: n.code,\r\n                        value,\r\n                        lbracket: '(',\r\n                        rbracket:  '',\r\n                        relation: FilterRelation.And,\r\n                        compare: Compare.GreaterOrEqual\r\n                    },\r\n                    {\r\n                        filterField: n.code,\r\n                        value: this.dateHelp.formatTo(this.dateHelp.addDays(new Date(value), 1), n.control.dateFormat),\r\n                        lbracket: '',\r\n                        rbracket:  ')',\r\n                        relation: FilterRelation.And,\r\n                        compare: Compare.Less\r\n                    }]\r\n                } else if (n.control.controltype === 'enum' && Array.isArray(value)) {\r\n                    return value.map((e, i) => {\r\n                        return {\r\n                            filterField: n.code,\r\n                            value: e,\r\n                            lbracket: i?'': '(',\r\n                            rbracket:  i == value.length -1 ? ')' : '',\r\n                            relation: i == value.length -1 ? FilterRelation.And: FilterRelation.Or,\r\n                            compare: Compare.Equal\r\n                        }\r\n                    });\r\n                }\r\n                return {\r\n                    filterField: n.code,\r\n                    value: Array.isArray(value) ? value.join(',') : value,\r\n                    lbracket: '',\r\n                    rbracket:  '',\r\n                    relation: FilterRelation.And,\r\n                    compare: Array.isArray(value) ?  Compare.In: Compare.Equal\r\n                }\r\n            } else {\r\n                if (begin !== '' && begin!=null && begin != undefined && end !=='' && end !=null && end != undefined) {\r\n                    return [\r\n                        {\r\n                            filterField: n.code,\r\n                            value: begin,\r\n                            lbracket: '(',\r\n                            rbracket:  '',\r\n                            relation: FilterRelation.And,\r\n                            compare: Compare.GreaterOrEqual\r\n                        },\r\n                        {\r\n                            filterField: n.code,\r\n                            value: end,\r\n                            lbracket: '',\r\n                            rbracket:  ')',\r\n                            relation: FilterRelation.And,\r\n                            compare: Compare.LessOrEqual\r\n                        }\r\n                    ]\r\n                } else {\r\n                    if (begin !== '' && begin!=null && begin != undefined) {\r\n                        return {\r\n                            filterField: n.code,\r\n                            value: begin,\r\n                            lbracket: '',\r\n                            rbracket:  '',\r\n                            relation: FilterRelation.And,\r\n                            compare: Compare.GreaterOrEqual\r\n                        }\r\n                    }\r\n\r\n                    if (end !=='' && end !=null && end != undefined) {\r\n                        return {\r\n                            filterField: n.code,\r\n                            value: end,\r\n                            lbracket: '',\r\n                            rbracket:  '',\r\n                            relation: FilterRelation.And,\r\n                            compare: Compare.LessOrEqual\r\n                        }\r\n                    }\r\n                }\r\n\r\n                return null;\r\n            }\r\n        }).filter(n => n);\r\n\r\n        let _conditions: Array<FilterCondition> = [];\r\n        if (conditions && conditions.length) {\r\n            _conditions = flatten(conditions)\r\n            _conditions[_conditions.length - 1].relation = FilterRelation.Empty;\r\n        }\r\n        this.onModelChange(this.fields);\r\n        this.onModelTouched(this.fields);\r\n        this.conditionChange.emit(_conditions);\r\n    }\r\n\r\n    setConditions(condition: any) {\r\n        const field: any = this.fields.find(n => n.code === condition.field);\r\n        field.value = condition.value;\r\n        field.control.single = condition.value.single;\r\n\r\n        this.initDislayText();\r\n        this.cd.detectChanges();\r\n    }\r\n\r\n\r\n    private initDislayText(emit = true) {\r\n        this.displayTextList = this.fields.map((t: any) => {\r\n            const n = {...t};\r\n            n.dislayText = n.name;\r\n            n.hasFilter = false;\r\n            if (n.value) {\r\n                const {value, begin, end} =  n.value;\r\n                let val = value;\r\n\r\n                if (t.control && t.control.enumValues && t.control.enumValues.length) {\r\n                    if (!Array.isArray(val)) {\r\n                        val = [val];\r\n                    }\r\n                    val = val.map(n => {\r\n                        const d = t.control.enumValues.find(e => e.value === n);\r\n                        if (d) {\r\n                            return d.name;\r\n                        }\r\n                        return n;\r\n                    }).join(',');\r\n                } else {\r\n                    if (begin !== null && begin !== undefined) {\r\n                        val = begin;\r\n                    }\r\n                    if (end !== null && end !== undefined) {\r\n                        if (val != null) {\r\n                            val += '~' + end;\r\n                        } else {\r\n                            val = end;\r\n                        }\r\n                    }\r\n                }\r\n                n.dislayText += 'ï¼' + val;\r\n                n.hasFilter = true;\r\n            }\r\n            return n;\r\n        });\r\n\r\n        this.setMoreStatus();\r\n        \r\n        if (emit) {\r\n            this.filterChanged();\r\n        }\r\n    }\r\n\r\n    remove(field: string) {\r\n        const searchField = this.fields.find(n => n.code === field);\r\n        if (searchField) {\r\n            searchField.value = null;\r\n            this.initDislayText();\r\n        }\r\n    }\r\n\r\n\r\n\r\n    onRemoveItem($event, item) {\r\n        if (item.value!== null && item.value != undefined && item.value !== '') {\r\n            $event.stopPropagation();\r\n            this.remove(item.code);\r\n        }\r\n    }\r\n\r\n    clearConditions(emit = true) {\r\n        this.fields.forEach(n => n.value = null);\r\n        this.initDislayText(emit);\r\n        if (emit) {\r\n            this.clear.emit();\r\n        }\r\n        this.cd.detectChanges();\r\n    }\r\n\r\n    writeValue(obj: any): void {\r\n        let arr = obj;\r\n        if (!Array.isArray(obj)) {\r\n            arr = [];\r\n        }\r\n\r\n        this.fields = arr;\r\n        this.initDislayText();\r\n    }\r\n\r\n    registerOnChange(fn: any): void {\r\n        this.onModelChange = fn;\r\n    }\r\n\r\n    registerOnTouched(fn: any): void {\r\n        this.onModelTouched = fn;\r\n    }\r\n\r\n    setValue(arr: Array<SearchFieldValue>) {\r\n        // this.filterConditions = arr;\r\n        // this.initDislayText();\r\n    }\r\n\r\n    updateShadowBoxPosition({top, left, width} = {top: null, left: null, width: null}) {\r\n        if (!top && !left && !width) {\r\n            const e = this.el.nativeElement.getBoundingClientRect();\r\n            top = e.top;\r\n            left = e.left;\r\n            width = e.width;\r\n        }\r\n        this.render.setStyle(this.shadowBox.nativeElement, 'left', left + 'px');\r\n        this.render.setStyle(this.shadowBox.nativeElement, 'top', top + 'px');\r\n        this.render.setStyle(this.shadowBox.nativeElement, 'width', width + 'px');\r\n\r\n        this.render.setStyle(this.shadowBox.nativeElement, 'zIndex', this.commonUtils.getFloatingLayerIndex());\r\n    }\r\n\r\n    private moveShadowToBody() {\r\n        if (!this.enableFloat) {\r\n            return;\r\n        }\r\n\r\n        this.updateShadowBoxPosition()\r\n        document.body.append(this.shadowBox.nativeElement);\r\n    }\r\n\r\n    toggleShadowBox(show = true, el = null) {\r\n        if (!this.enableFloat) {\r\n            return;\r\n        }\r\n\r\n        if (el && el.clientHeight <= 30) {\r\n            return;\r\n        }\r\n\r\n        this.showShadowBox = show;\r\n        if (show) {\r\n            this.updateShadowBoxPosition();\r\n            this.render.removeStyle(this.shadowBox.nativeElement, 'display');\r\n            this.container.nativeElement.style.visibility = 'hidden';\r\n            this.render.addClass(this.shadowBox.nativeElement, 'active');\r\n        } else {\r\n            this.container.nativeElement.style.visibility = 'visible';\r\n            this.render.setStyle(this.shadowBox.nativeElement, 'display', 'none');\r\n            this.render.removeClass(this.shadowBox.nativeElement, 'active');\r\n        }\r\n    }\r\n\r\n\r\n    onResized($event) {\r\n        if (this.enableFloat) {\r\n            this.updateShadowBoxPosition($event);\r\n            this.setMoreStatus();\r\n        }\r\n    }\r\n\r\n    private setMoreStatus() {\r\n        if (this.enableFloat) {\r\n            setTimeout(() => {\r\n                const r = this.tagContainerRef.nativeElement.clientHeight > 30;\r\n                this.moreStatus$.next(r);\r\n                this.cd.detectChanges();\r\n            });\r\n        }\r\n    }\r\n}","import { AfterViewInit, ApplicationRef, ComponentFactoryResolver, Directive, ElementRef, HostListener, Injector, Input, NgZone, OnDestroy, OnInit, Renderer2 } from '@angular/core';\r\nimport { debounceTime } from 'rxjs/operators';\r\nimport { SearchFieldValue } from '../search-box.types';\r\nimport { SearchFieldPanelComponent } from './search-field-panel.component';\r\nimport { SearchFieldsComponent } from './search-fields.component';\r\nimport { CommonUtils } from '@farris/ui-common';\r\n\r\n@Directive({ selector: '[search-field]' })\r\nexport class SearchFieldDirective implements OnInit, AfterViewInit, OnDestroy {\r\n\r\n    @Input('search-field') field: SearchFieldValue;\r\n\r\n\r\n    private panelElement: HTMLElement;\r\n    private winResizeHandle = null;\r\n    private docKeydownEventHandle = null;\r\n    private commonUtils = null;\r\n\r\n    constructor(private injector: Injector, private elRef: ElementRef,\r\n        private ngzone: NgZone, private render: Renderer2, \r\n        private cfr: ComponentFactoryResolver, private searchFieldsRef: SearchFieldsComponent, private _applicationRef: ApplicationRef) {\r\n            this.commonUtils = this.injector.get(CommonUtils, new CommonUtils())\r\n        }\r\n\r\n\r\n    ngOnInit(): void {\r\n        if (this.searchFieldsRef) {\r\n            this.searchFieldsRef.hideShadowbox.subscribe((e: any) => {\r\n                this.removeFieldPanel();\r\n            });\r\n        }\r\n\r\n        this.winResizeHandle = this.render.listen(window, 'resize', () => {\r\n            this.removeFieldPanel();            \r\n        })\r\n    }\r\n\r\n    ngAfterViewInit(): void {\r\n        \r\n    }\r\n\r\n    ngOnDestroy(): void {\r\n        this.removeFieldPanel();\r\n\r\n        if (this.winResizeHandle) {\r\n            this.winResizeHandle();\r\n        }\r\n    }\r\n\r\n    @HostListener('mousedown', ['$event'])\r\n    onMouseDown($event: MouseEvent) {\r\n        $event.stopPropagation();\r\n    }\r\n\r\n    @HostListener('click', ['$event'])\r\n    onFieldClick($event: MouseEvent) {\r\n        $event.stopPropagation();\r\n        if (!this.panelElement) {\r\n            this.createFieldPanel();\r\n        } else {\r\n            this.removeFieldPanel();\r\n        }\r\n    }\r\n\r\n    private removeFieldPanel() {\r\n        if (this.panelElement) {\r\n            this.panelElement.remove();\r\n            this.panelElement = null;\r\n\r\n            this.searchFieldsRef.overLayService.destory(this.elRef.nativeElement);\r\n\r\n            this.render.removeClass(this.elRef.nativeElement, 'selected');\r\n        }\r\n\r\n        if (this.docKeydownEventHandle) {\r\n            this.docKeydownEventHandle();\r\n            this.docKeydownEventHandle = null;\r\n        }\r\n    }\r\n\r\n    private registerKeyboardEvent(enterFn?: () => void) {\r\n        if (this.commonUtils) {\r\n            return this.commonUtils.regBodyKeydownEvent(enterFn, () => {this.removeFieldPanel();});\r\n        }\r\n        return null;\r\n    }\r\n\r\n    private createFieldPanel() {\r\n        this.panelElement = document.createElement('div');\r\n        this.panelElement.classList.add('overlay-pane','f-filter-panel', 'f-area-hide', 'f-search-field-container');\r\n        const zindex  = '' + this.searchFieldsRef.commonUtils.getFloatingLayerIndex();\r\n        this.panelElement.style.zIndex = zindex;\r\n        \r\n        document.body.appendChild(this.panelElement);\r\n        this.setPanelPosition();\r\n\r\n        const fieldPanelRef = this.cfr.resolveComponentFactory(SearchFieldPanelComponent);\r\n        const _fieldPanelIns = fieldPanelRef.create(this.injector);\r\n        this._applicationRef.attachView(_fieldPanelIns.hostView);\r\n        \r\n        _fieldPanelIns.instance.fieldOptions = this.field;\r\n        _fieldPanelIns.instance.conditions = { field: this.field.code, value: this.field.value }\r\n\r\n        this.panelElement.appendChild(_fieldPanelIns.location.nativeElement);\r\n        this.panelElement.classList.add('f-area-show');\r\n\r\n        _fieldPanelIns.instance.filterChange.pipe(\r\n            debounceTime(100)\r\n        ).subscribe((e: any) => {\r\n            // æ°çæ¥è¯¢æ¡ä»¶\r\n            // console.log(e);\r\n            this.searchFieldsRef.setConditions(e);\r\n        })\r\n\r\n        _fieldPanelIns.instance.remove.subscribe(e => {\r\n            this.searchFieldsRef.remove(e.code);\r\n        });\r\n\r\n        _fieldPanelIns.changeDetectorRef.detectChanges();\r\n\r\n        this.searchFieldsRef.overLayService.registerMouseEvent(this.elRef.nativeElement, (e: any) => {\r\n            if (this.elRef.nativeElement.contains(e.target)) {\r\n                return;\r\n            }\r\n\r\n            if (e.target.closest('.f-search-field-container')) {\r\n                if (e.target.nodeName === 'BUTTON' && e.target.className.indexOf('close-field-panel') > -1) {\r\n                    this.removeFieldPanel();\r\n                }\r\n                return;\r\n            }\r\n\r\n            if (e.target.closest('.date-overlay-container') || e.target.className.indexOf('date-overlay-container') > -1) {\r\n                return;\r\n            }\r\n\r\n            this.removeFieldPanel();\r\n        });\r\n\r\n\r\n        this.render.addClass(this.elRef.nativeElement, 'selected');\r\n\r\n        // å¤ç ESCãENTER\r\n        this.docKeydownEventHandle = this.registerKeyboardEvent(() => \r\n        {\r\n            const btnok = _fieldPanelIns.instance.btnSubmit;\r\n            if (btnok && !btnok.nativeElement.disabled ) {\r\n                btnok.nativeElement.click();\r\n                this.removeFieldPanel();\r\n            }        \r\n        });\r\n    }\r\n\r\n    private setPanelPosition(updateTopPosition = true) {\r\n        if (this.panelElement) {\r\n            const { width, left, top, height } = this.getPanelSize();\r\n            this.panelElement.style.width = `${width}px`;\r\n            // this.panelElement.style.maxHeight = `${height}px`;\r\n            if (updateTopPosition) {\r\n                this.panelElement.style.top = `${top}px`;\r\n            }\r\n            this.panelElement.style.left = `${left}px`;\r\n        }\r\n    }\r\n\r\n    \r\n\r\n    private getInputSizeInfo() {\r\n        return this.elRef.nativeElement.getBoundingClientRect();\r\n    }\r\n\r\n    private getPanelSize() {\r\n        const width = 380;\r\n        let { top, left, height } = this.getInputSizeInfo();\r\n        const bottom = window.innerHeight - height - top;\r\n        let panelHeight = 190;\r\n        const h = top > bottom ? top : bottom;\r\n        if (bottom > panelHeight) {\r\n            top = top + height;\r\n            // é¢æ¿ç±ä¸åä¸å±å¼\r\n            this.panelElement.style.transformOrigin = '100% top';\r\n        } else {\r\n            if (top > bottom) {\r\n                if (h < panelHeight) {\r\n                    panelHeight = h - 10;\r\n                    top = 10;\r\n                } else {\r\n                    top = top - parseInt('' + panelHeight, 10) - 5;\r\n                }\r\n\r\n                // é¢æ¿ç±ä¸åä¸å±å¼\r\n                this.panelElement.style.transformOrigin = '100% bottom';\r\n\r\n            } else {\r\n                if (h < panelHeight) {\r\n                    panelHeight = h - 10;\r\n                }\r\n                top = top + height;\r\n            }\r\n        }\r\n\r\n        if (window.innerWidth - left < width) {\r\n            left = left + width - width;\r\n        }\r\n\r\n        return { width, top, height: panelHeight, left };\r\n    }\r\n}","import { ChangeDetectorRef, Component, ElementRef, EventEmitter, HostBinding, HostListener, Injector, Input, OnInit, Output, ViewChild, ViewEncapsulation } from '@angular/core';\r\nimport { SearchField } from '../search-box.types';\r\n\r\n@Component({\r\n    selector: 'search-panel',\r\n    templateUrl: './search-panel.component.html',\r\n    encapsulation: ViewEncapsulation.None\r\n})\r\n\r\nexport class SearchPanelComponent implements OnInit {\r\n\r\n    @Input() fields: Array<SearchField> = [];\r\n    @Input() maxItems = 5;\r\n    @Input() searchKeyWord = '';\r\n\r\n    @Output() itemClick = new EventEmitter();\r\n    @Output() closepanel = new EventEmitter();\r\n    @Output() mouseDown = new EventEmitter();\r\n\r\n    @ViewChild('itemsContainer') itemsContainer: ElementRef<any>;\r\n\r\n    activeIndex = -1;\r\n\r\n    constructor(private injector: Injector, private cdr: ChangeDetectorRef) { }\r\n\r\n    @HostListener('mousedown', ['$event'])\r\n    onClick($event: MouseEvent) {\r\n        $event.stopPropagation();\r\n    }\r\n\r\n    ngOnInit() { }\r\n\r\n    loadData(items: any) {\r\n        this.fields = items;\r\n\r\n        if (!this.cdr['destroyed']) {\r\n            this.cdr.detectChanges();\r\n        }\r\n    }\r\n\r\n    onFieldItemClick($event, item) {\r\n        $event.preventDefault();\r\n        this.itemClick.emit({data: item, evnet: $event});\r\n    }\r\n\r\n    setActiveItem(index: number) {\r\n        this.activeIndex = index;\r\n        if (!this.cdr['destroyed']) {\r\n            this.cdr.detectChanges();\r\n        }\r\n    }\r\n\r\n    setValue(val) {\r\n        this.searchKeyWord = val;\r\n        this.cdr.detectChanges();\r\n    }\r\n\r\n    onClosePanel($event: MouseEvent) {\r\n        $event.stopPropagation();\r\n        this.closepanel.emit();\r\n    }\r\n\r\n    onMouseDown($event: MouseEvent) {\r\n        $event.preventDefault();\r\n        $event.stopPropagation();\r\n\r\n        this.mouseDown.emit($event);\r\n    }\r\n}","import { AfterViewInit, ComponentFactoryResolver, ComponentRef, Directive, ElementRef, EventEmitter, forwardRef, \r\n    HostListener, Injector, Input, NgZone, OnDestroy, OnInit, Optional, Output, Renderer2 } from '@angular/core';\r\nimport { reqAnimFrame } from '@farris/ui-common';\r\nimport { InputGroupComponent } from '@farris/ui-input-group';\r\nimport { from, fromEvent, Observable } from 'rxjs';\r\nimport { debounceTime, filter, map } from 'rxjs/operators';\r\nimport { SearchBoxComponent } from '../search-box.component';\r\nimport { SearchField } from '../search-box.types';\r\nimport { trim } from 'lodash-es';\r\nimport { SearchPanelComponent } from './search-panel.component';\r\n\r\n@Directive({ selector: '[search-box-panel]'})\r\nexport class SearchPanelDirective implements OnInit, AfterViewInit, OnDestroy {\r\n    @Input('search-box-panel') fields: Array<SearchField>;\r\n    @Input() maxFields = 5;\r\n\r\n    /** å¯ç¨ ä»»æå­æ®µ */\r\n    @Input() useAnyField = true;\r\n\r\n    @Output() escHandler = new EventEmitter();\r\n\r\n    private panelElement: HTMLElement;\r\n    private searchPanelRef: ComponentRef<SearchPanelComponent>;\r\n\r\n    private maxPanelItems = 10;\r\n    private minPanelWidth = 270;\r\n\r\n    constructor(private injector: Injector, \r\n        private ngzone: NgZone,\r\n        private render: Renderer2, \r\n        private inputRef: InputGroupComponent,\r\n        private searchBoxRef: SearchBoxComponent,\r\n        private cfr: ComponentFactoryResolver) {\r\n    }\r\n\r\n    ngOnInit(): void {\r\n        \r\n    }\r\n\r\n    ngAfterViewInit(): void {\r\n        if ((!this.fields || !this.fields.length) && !this.useAnyField) {\r\n            return;\r\n        }\r\n\r\n        this.inputRef.inputClick.subscribe((e: MouseEvent) => {\r\n            e.stopPropagation();\r\n        });\r\n\r\n        this.inputRef.valueChange.pipe(\r\n            debounceTime(50)\r\n        ).subscribe((val: string) => {\r\n           \r\n            if (trim(val)) {\r\n                // å¼ååæ¾ç¤ºæ¥è¯¢é¢æ¿\r\n                if (!this.panelElement) {\r\n                    this.createDataPanel();\r\n                    this.searchPanelRef.instance.setActiveItem(0);\r\n                }\r\n\r\n                this.searchPanelRef.instance.setValue(val);\r\n            } else {\r\n                if (this.panelElement) {\r\n                    this.hide();\r\n                }\r\n            }\r\n            \r\n        });\r\n\r\n        this.searchBoxRef.clear.subscribe(() => {\r\n            this.hide();\r\n        });\r\n    }\r\n\r\n    ngOnDestroy(): void {\r\n        this.searchBoxRef.overLayService.destory(this.searchBoxRef.el.nativeElement);\r\n    }\r\n\r\n    private removePanelElement() {\r\n        document.body.removeChild(this.panelElement);\r\n        this.panelElement = null;\r\n\r\n        if (this.searchPanelRef) {\r\n            this.searchPanelRef.destroy();\r\n            this.searchPanelRef = null;\r\n        }\r\n    }\r\n\r\n\r\n    hide(e?: any) {\r\n        reqAnimFrame(() => {\r\n            this.inputRef.value = '';\r\n            if (this.panelElement) {\r\n                if (e && ( e.type === 'mousewheel' || e.type === 'wheel')) {\r\n                    this.removePanelElement();\r\n                } else {\r\n                    this.panelElement.classList.remove('f-area-show');\r\n                    setTimeout(() => {\r\n                        this.removePanelElement();\r\n                    },120);\r\n                }\r\n                \r\n                this.searchBoxRef.overLayService.destory(this.searchBoxRef.el.nativeElement);\r\n            }\r\n        });\r\n    }\r\n\r\n    private setPanelPosition(updateTopPosition = true) {\r\n        if (this.panelElement) {\r\n            const { maxWidth, left, top, height } = this.getPanelSize();\r\n            this.panelElement.style.minWidth = `${this.minPanelWidth}px`;\r\n            this.panelElement.style.maxWidth = `${maxWidth}px`;\r\n            this.panelElement.style.maxHeight = `${height}px`;\r\n            if (updateTopPosition) {\r\n                this.panelElement.style.top = `${top}px`;\r\n            }\r\n            this.panelElement.style.left = `${left}px`;\r\n        }\r\n    }\r\n\r\n    private createDataPanel() {\r\n        this.panelElement = document.createElement('div');\r\n        this.panelElement.classList.add('overlay-pane', 'f-search-box-panel', 'f-area-hide');\r\n        const zindex  = '' + this.searchBoxRef.commonUtils.getFloatingLayerIndex();\r\n        document.body.appendChild(this.panelElement);\r\n        this.setPanelPosition();\r\n        this.panelElement.style.zIndex = zindex;\r\n\r\n\r\n        this.panelElement.style.overflow = 'hidden';\r\n        \r\n        // åå»ºæ°æ®å±ç¤ºç»ä»¶\r\n        const cmpFact = this.cfr.resolveComponentFactory(SearchPanelComponent);\r\n        this.searchPanelRef = cmpFact.create(this.injector);\r\n\r\n        if (this.useAnyField && !this.fields.find(n => n.code === '*')) {\r\n            const anyfieldsName = this.searchBoxRef.localeSer.getValue('searchbox.anyFields')\r\n            this.fields.splice(0,0, { code: '*', name: anyfieldsName });\r\n        }\r\n\r\n        this.searchPanelRef.instance.fields = this.fields;\r\n\r\n        this.panelElement.appendChild(this.searchPanelRef.location.nativeElement);\r\n\r\n        this.searchPanelRef.changeDetectorRef.detectChanges();\r\n\r\n        this.searchPanelRef.instance.searchKeyWord = this.inputRef.value;\r\n        \r\n\r\n        this.searchPanelRef.instance.itemClick.subscribe((e: any) => {\r\n            const { data } = e;\r\n            this.selectItem(data);\r\n        });\r\n\r\n        this.searchPanelRef.instance.closepanel.subscribe(() => {\r\n            this.hide();\r\n        });\r\n\r\n        // æ³¨åé¼ æ æ»è½®ï¼ç¹å»äºä»¶ï¼ç¨äºéèPanel\r\n        this.searchBoxRef.overLayService.registerMouseEvent(this.searchBoxRef.el.nativeElement, (e: MouseEvent) => {\r\n            if (!this.panelElement || e.target['closest']('.f-search-box-panel')) {\r\n                return;\r\n            }\r\n\r\n            if(this.inputRef && this.inputRef.textbox.nativeElement === e.target) {\r\n                return false;\r\n            }\r\n\r\n            // è¾å¥æ¡åæææ¬æ¶ï¼å¦æä¸åè®¸å³é­å¼¹åºé¢æ¿ï¼å¯æ¾å¼\r\n            // if (this.inputRef.value) {\r\n            //     return;\r\n            // }\r\n\r\n            this.hide(e);\r\n        });\r\n\r\n\r\n        if ( this.searchPanelRef.instance.fields.length + 1 < this.maxPanelItems) {\r\n            let newHeight = this.searchPanelRef.instance.itemsContainer.nativeElement.querySelector('ul').offsetHeight + 40;\r\n\r\n            this.searchPanelRef.instance.itemsContainer.nativeElement.style.height = `${newHeight}px`;\r\n            if (this.panelElement) {\r\n                if (this.panelElement.style.transformOrigin.indexOf('bottom') > -1) {\r\n                    this.panelElement.style.top = `${this.getInputSizeInfo().top - newHeight - 5}px` ;\r\n                }\r\n                this.panelElement.style.height = 'auto';\r\n            }\r\n        } else {\r\n            this.searchPanelRef.instance.itemsContainer.nativeElement.style.height = '100%';\r\n            if (this.panelElement) {\r\n                this.render.removeStyle(this.panelElement, 'height');\r\n            }\r\n        }\r\n\r\n        this.panelElement.classList.add('f-area-show');\r\n    }\r\n\r\n    private selectItem(data: any) {\r\n        if (!data) {\r\n            return;\r\n        }\r\n\r\n        this.searchBoxRef.select({...data, value: this.inputRef.value});\r\n        this.hide();\r\n\r\n        this.inputRef.focus();\r\n    }\r\n\r\n\r\n    private calculationPanelHeight() {\r\n        return this.maxPanelItems * 30 + 15;\r\n    }\r\n\r\n    private getInputSizeInfo() {\r\n        const el = this.searchBoxRef.enableFloat ? this.searchBoxRef.shadowBox: this.searchBoxRef.container;\r\n        return el.nativeElement.getBoundingClientRect();\r\n    }\r\n\r\n    private getPanelSize() {\r\n        let { width, height, top, left } = this.getInputSizeInfo();\r\n        const bottom = window.innerHeight - height - top;\r\n        let panelHeight = this.calculationPanelHeight();\r\n\r\n        const h = top > bottom ? top : bottom;\r\n        if (bottom > panelHeight) {\r\n            top = top + height;\r\n            // é¢æ¿ç±ä¸åä¸å±å¼\r\n            this.panelElement.style.transformOrigin = '100% top';\r\n        } else {\r\n            if (top > bottom) {\r\n                if (h < panelHeight) {\r\n                    panelHeight = h - 10;\r\n                    top = 10;\r\n                } else {\r\n                    top = top - parseInt('' + panelHeight, 10) - 5;\r\n                }\r\n\r\n                // é¢æ¿ç±ä¸åä¸å±å¼\r\n                this.panelElement.style.transformOrigin = '100% bottom';\r\n\r\n            } else {\r\n                if (h < panelHeight) {\r\n                    panelHeight = h - 10;\r\n                }\r\n                top = top + height;\r\n            }\r\n        }\r\n\r\n        let _width =  width < this.minPanelWidth? this.minPanelWidth: width;\r\n        if (window.innerWidth - left < _width) {\r\n            left = left + width - _width;\r\n        }\r\n\r\n        return { width: _width, top, height: panelHeight, left, maxWidth: Math.floor(window.innerWidth - left - 10) };\r\n    }\r\n\r\n\r\n    @HostListener('keydown', ['$event'])\r\n    registerKeyboardEvent($event: KeyboardEvent) {\r\n        const rows = this.fields;\r\n        if ($event.code === 'ArrowUp' || $event.code === 'ArrowDown') {\r\n            $event.preventDefault();\r\n            $event.stopPropagation();\r\n\r\n            if (this.searchPanelRef) {\r\n                const idx = this.searchPanelRef.instance.activeIndex;\r\n                const setActiveItem = (index) => {\r\n                    this.searchPanelRef.instance.setActiveItem(index);\r\n                };\r\n\r\n                if ($event.code === 'ArrowUp') {  // up\r\n                    if (idx > -1) {\r\n                        let prevIdx = idx - 1;\r\n                        if (prevIdx < 0) {\r\n                            prevIdx = rows.length - 1;\r\n                        }\r\n                        setActiveItem(prevIdx);\r\n                    } else {\r\n                        setActiveItem(rows.length - 1);\r\n                    }\r\n                }\r\n                if ($event.code === 'ArrowDown') { // down\r\n                    let nextIdx = idx + 1;\r\n                    if (nextIdx >= rows.length) {\r\n                        nextIdx = 0;\r\n                    }\r\n\r\n                    setActiveItem(nextIdx);\r\n                }\r\n            }\r\n        }\r\n\r\n        if ($event.code === 'Backspace') {\r\n            if (!this.inputRef.value) {\r\n                if (this.searchBoxRef.displayTextList &&  this.searchBoxRef.displayTextList.length) {\r\n                    $event.preventDefault();\r\n                    $event.stopPropagation();\r\n                    const removeItem = this.searchBoxRef.displayTextList[this.searchBoxRef.displayTextList.length -1];\r\n                    if (removeItem) {\r\n                        this.searchBoxRef.remove(removeItem.code);\r\n                        if (this.searchPanelRef) {\r\n                            this.searchPanelRef.changeDetectorRef.detectChanges();\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n\r\n        if($event.key === 'Enter') {\r\n            if (rows && rows.length && this.panelElement) {\r\n                const idx = this.searchPanelRef.instance.activeIndex;\r\n                const data = rows[idx];\r\n                this.selectItem(data);\r\n            } else {\r\n                this.searchBoxRef.onSubmit($event);\r\n            }\r\n        }\r\n\r\n        if($event.key === 'Escape') {\r\n            if (this.panelElement) {\r\n                this.hide();\r\n            } else {\r\n                this.escHandler.emit();\r\n            }\r\n        }\r\n    }\r\n}","import { Injector, Pipe, PipeTransform } from '@angular/core';\r\nimport { SearchBoxComponent } from '../search-box.component';\r\n\r\n@Pipe({\r\n    name: 'searchwords'\r\n})\r\n\r\nexport class SearchWordPipe implements PipeTransform {\r\n\r\n    constructor(private injector: Injector,  private searchBoxRef: SearchBoxComponent,) {}\r\n\r\n    transform(value: any, ...args: any[]): any {\r\n        if (value !== undefined && value !== null) {\r\n            const relationStr = this.searchBoxRef.localeSer.getValue('searchbox.relation.or');\r\n            const arr = value.trim().split(' ').filter(n => n.trim());\r\n            return arr.map((n, i) => {\r\n                return n  +  (i === arr.length -1 ? '' : '<span class=\"text-muted\" style=\"margin: 0 5px;\"> '+ relationStr +' </span>');\r\n            }).join('');\r\n        }\r\n\r\n        return '';\r\n    }\r\n}","import { ChangeDetectorRef, Component, EventEmitter, Injector, Input, OnInit, Output } from '@angular/core';\r\nimport { DateTimeHelperService } from '@farris/ui-common/date';\r\nimport { LocaleService } from '@farris/ui-locale';\r\n\r\n@Component({\r\n    selector: 'search-filed-editor-date',\r\n    templateUrl: 'flexible-date.component.html'\r\n})\r\n\r\nexport class SearchFieldFlexibleDateComponent implements OnInit {\r\n\r\n    @Input() field;\r\n    @Output() valueChange = new EventEmitter();\r\n    // æ¯å¦ä¸ºåºé´æ¥æ\r\n    single = true;\r\n    dateFormat = '';\r\n    showTime = false;\r\n    value = '';\r\n    beginValue = '';\r\n    endValue = '';\r\n    showType = '1';\r\n    placeholder = '';\r\n    endPlaceHolder = '';\r\n    beginPlaceHolder = '';\r\n\r\n    activedDateTagId = '';\r\n    activedDayTagId = '';\r\n\r\n    dateTags = [];\r\n    dayTags = [];\r\n\r\n    private dateHelp: DateTimeHelperService = null;\r\n    constructor(private localeService: LocaleService, private injector: Injector, private cd: ChangeDetectorRef) {\r\n        this.dateHelp = this.injector.get(DateTimeHelperService, new DateTimeHelperService());\r\n    }\r\n\r\n    ngOnInit(): void {\r\n        this.dateTags = [\r\n            {\r\n                id: 'tag1',\r\n                text: this.localeService.getValue('filterPanel.last1Month')\r\n            },\r\n            {\r\n                id: 'tag2',\r\n                text: this.localeService.getValue('filterPanel.last3Month')\r\n            },\r\n            {\r\n                id: 'tag3',\r\n                text: this.localeService.getValue('filterPanel.last6Month')\r\n            }\r\n        ];\r\n        this.dayTags = [\r\n            {\r\n                id: 'yesterday',\r\n                text: this.localeService.getValue('filterPanel.yesterday')\r\n            },\r\n            {\r\n                id: 'today',\r\n                text: this.localeService.getValue('filterPanel.today')\r\n            }\r\n        ];\r\n\r\n\r\n        if (this.field.control) {\r\n            const { showTime, showType, single } = this.field.control;\r\n            if (this.field.value) {\r\n                const { value, begin, end } = this.field.value;\r\n                this.value = value,\r\n                this.beginValue = begin;\r\n                this.endValue = end;\r\n            }\r\n    \r\n            this.showTime = showTime;\r\n            this.showType = showType;\r\n            this.single = single;\r\n\r\n            let itemDateFormat = this.field.control.dateFormat;\r\n            if (this.showTime && itemDateFormat) {\r\n                if (itemDateFormat.length > 0 && itemDateFormat.indexOf('HH:mm') == -1) {\r\n                    itemDateFormat = itemDateFormat + ' HH:mm:ss';\r\n                }\r\n            } else {\r\n                itemDateFormat = this.showTime ? 'yyyy-MM-dd HH:mm:ss' : (this.showType == '2' ? 'yyyy-MM' : (this.showType == '3' ? 'yyyy' : 'yyyy-MM-dd'));\r\n            }\r\n            this.dateFormat = itemDateFormat;\r\n        }\r\n    }\r\n\r\n    onDateChange($event) {\r\n        this.valueChange.emit({  field: this.field.code, value: {value: this.value, single: true}});\r\n    }\r\n\r\n    beginValueChange($event) {\r\n        this.valueChange.emit({  field: this.field.code,value: { begin: this.beginValue, end: this.endValue, single: false}});\r\n    }\r\n    endValueChange($event) {\r\n        this.valueChange.emit({  field: this.field.code, value: { begin: this.beginValue, end: this.endValue, single: false}});\r\n    }\r\n\r\n    onSingleChange($event) {\r\n        this.single = !$event;\r\n        this.valueChange.emit({  field: this.field.code,value: {value: this.value,  begin: this.beginValue, end: this.endValue, single: this.single}});\r\n        this.cd.detectChanges();\r\n    }\r\n\r\n    clickTag(tag) {\r\n        this.activedDateTagId = tag.id;\r\n        let tagDate;\r\n        if (tag.id == 'tag1') {\r\n            tagDate = this.getLastNumMonth(1, this.showTime, this.showType);\r\n        }\r\n        else if (tag.id == 'tag2') {\r\n            tagDate = this.getLastNumMonth(3, this.showTime, this.showType);\r\n        }\r\n        else if (tag.id == 'tag3') {\r\n            tagDate = this.getLastNumMonth(6, this.showTime, this.showType);\r\n        }\r\n        this.beginValue = tagDate['startTime'];\r\n        this.endValue = tagDate['endTime'];\r\n        this.valueChange.emit({  field: this.field.code,value: {value: this.value,  begin: this.beginValue, end: this.endValue, single: this.single}});\r\n        this.cd.detectChanges();\r\n    }\r\n\r\n    clickDayTag(tag) {\r\n        this.activedDayTagId = tag.id;\r\n        let dayTag = this.getToday(this.activedDayTagId, this.showTime);\r\n        this.value = dayTag;\r\n        this.valueChange.emit({  field: this.field.code, value: {value: this.value, single: true}});\r\n    }\r\n\r\n    private getLastNumMonth(num:number,showtime,type:string) {\r\n        let now = new Date();\r\n        let year = now.getFullYear();\r\n        let month = now.getMonth() + 1;//0-11è¡¨ç¤º1-12æ\r\n        let day = now.getDate();\r\n        let hour = now.getHours();\r\n        let min = now.getMinutes() < 10 ? '0' + new Date().getMinutes()\r\n            :new Date().getMinutes();\r\n          let sec = new Date().getSeconds() < 10 ? '0' + new Date().getSeconds()\r\n            :new Date().getSeconds();\r\n        let dateObj = {};\r\n        const time = hour + ':' + min + ':' + sec;\r\n        // dateObj['endTime'] = year + '-' + month + '-' + day;\r\n        let endMonth = month < 10 ? '0' +month : month;\r\n        let endDay = day < 10 ? '0' +day : day;\r\n        if(type == '2'){\r\n            dateObj['endTime'] = year + '-' + endMonth;\r\n        }\r\n        else if(type == '3'){\r\n            dateObj['endTime'] = year;\r\n        }\r\n        else{\r\n            dateObj['endTime'] = year + '-' + endMonth + '-' + endDay;\r\n        }\r\n          let nowMonthDay = new Date(year, month, 0).getDate();    //å½åæçæ»å¤©æ°\r\n        let dYear,dMouth,dDay;\r\n        if(month - num <= 0){ //å¦ææ¯1ã2ã3æï¼å¹´æ°å¾åæ¨ä¸å¹´\r\n            let lastMonthDay = new Date((year - 1), (12 - (num - month)), 0).getDate();    //3ä¸ªæåæå¨æçæ»å¤©æ°\r\n            if(lastMonthDay < day){    //3ä¸ªæåæå¨æçæ»å¤©æ°å°äºç°å¨çå¤©æ¥æ\r\n                // dateObj['startTime'] = (year - 1) + '-' + (12 - (num - month)) + '-' + lastMonthDay;\r\n                dYear = year - 1;\r\n                dMouth = 12 - (num - month);\r\n                dDay = lastMonthDay;\r\n            }else{\r\n                dYear = year - 1;\r\n                dMouth = 12 - (num - month);\r\n                dDay = day;\r\n                // dateObj['startTime']= (year - 1) + '-' + (12 - (num - month)) + '-' + day;\r\n            }\r\n        }else{\r\n            let lastMonthDay = new Date(year, (month - num), 0).getDate();    //3ä¸ªæåæå¨æçæ»å¤©æ°\r\n            if(lastMonthDay < day){    //3ä¸ªæåæå¨æçæ»å¤©æ°å°äºç°å¨çå¤©æ¥æ\r\n                if(day < nowMonthDay){        //å½åå¤©æ¥æå°äºå½åææ»å¤©æ°,2æä»½æ¯è¾ç¹æ®çæä»½\r\n                    // dateObj['startTime'] = year + '-' + (month - num) + '-' + (lastMonthDay - (nowMonthDay - day));\r\n                    dYear = year;\r\n                    dMouth = month - num;\r\n                    dDay = lastMonthDay - (nowMonthDay - day);\r\n                }else{\r\n                    dYear = year;\r\n                    dMouth = month - num;\r\n                    dDay = lastMonthDay;\r\n                    // dateObj['startTime'] = year + '-' + (month - num) + '-' + lastMonthDay;\r\n                }\r\n            }else{\r\n                dYear = year;\r\n                dMouth = month - num;\r\n                dDay = day;\r\n                // dateObj['startTime'] = year + '-' + (month - num) + '-' + day;\r\n            }\r\n        }\r\n        dMouth = dMouth < 10 ? '0' +dMouth : dMouth;\r\n        dDay = dDay < 10 ? '0' +dDay : dDay;\r\n        if(type == '2'){\r\n            dateObj['startTime'] = dYear + '-' + dMouth;\r\n        }\r\n        else if(type == '3'){\r\n            dateObj['startTime'] = dYear;\r\n        }\r\n        else{\r\n            dateObj['startTime'] = dYear + '-' + dMouth + '-' + dDay;\r\n        }\r\n    \r\n        if(showtime){\r\n            dateObj['endTime'] = dateObj['endTime'] + ' ' + time;\r\n            dateObj['startTime'] = dateObj['startTime'] + ' ' + time;\r\n        }\r\n        return dateObj;\r\n    }\r\n    \r\n    private getToday(dayTags = 'today',showtime){\r\n        let now = new Date();\r\n\r\n        if(dayTags == 'today') {\r\n            return this.dateHelp.formatTo(now, this.dateFormat);\r\n        } else if (dayTags == 'yesterday') {\r\n            return this.dateHelp.formatTo(this.dateHelp.subDays(now, 1), this.dateFormat);\r\n        }\r\n\r\n        /*\r\n        let year = now.getFullYear();\r\n        let month = now.getMonth() + 1;//0-11è¡¨ç¤º1-12æ\r\n        let day = now.getDate();\r\n        let hour = now.getHours();\r\n        let min = now.getMinutes() < 10 ? '0' + new Date().getMinutes()\r\n            :new Date().getMinutes();\r\n        let sec = new Date().getSeconds() < 10 ? '0' + new Date().getSeconds()\r\n            :new Date().getSeconds();\r\n        const time = hour + ':' + min + ':' + sec;\r\n        let yesterday = new Date();\r\n        yesterday.setTime(now.getTime()-24*60*60*1000);\r\n        let yesterdayObj = yesterday.getFullYear()+\"-\" + (yesterday.getMonth()+1) + \"-\" + yesterday.getDate();\r\n        let dateObj = year + '-' + month + '-' + day;\r\n        if(showtime){\r\n            dateObj = dateObj + ' ' + time;\r\n            yesterdayObj = yesterdayObj + ' ' + time;\r\n        }\r\n        if(dayTags == 'today') return dateObj;\r\n        else if (dayTags == 'yesterday') return yesterdayObj;\r\n\r\n        */\r\n        \r\n    }\r\n}","import { EventEmitter, Component, Input, OnInit, Injector, ChangeDetectorRef, Output} from '@angular/core';\r\n\r\n@Component({\r\n    selector: 'search-filed-editor-number',\r\n    templateUrl: './flexible-number.component.html'\r\n})\r\n\r\nexport class SearchFieldFlexibleNumberComponent implements OnInit {\r\n\r\n    @Input() field;\r\n    @Output() valueChange = new EventEmitter();\r\n    // æ¯å¦ä¸ºåºé´æ¥æ\r\n    single = true;\r\n    value;\r\n    precision;\r\n    bigNumber;\r\n    placeholder;\r\n    beginValue;\r\n    endValue;\r\n    beginPlaceHolder;\r\n    endPlaceHolder;\r\n    max: number;\r\n    min: number;\r\n\r\n    constructor(private injecotr: Injector, private cd: ChangeDetectorRef) { }\r\n\r\n    ngOnInit() {\r\n        this.single = this.field.control.single;\r\n        if (this.field) {\r\n            if (this.field.value) {\r\n                const { value, begin, end } = this.field.value;\r\n                this.value = value;\r\n                this.beginValue = begin;\r\n                this.endValue = end;\r\n            }\r\n\r\n            this.bigNumber = this.field.control.bigNumber;\r\n\r\n            this.precision = this.field.control.precision || 0;\r\n\r\n            if (!this.bigNumber) {\r\n                this.min = -2147483648;\r\n                this.max = 2147483647;\r\n            }\r\n        }\r\n    }\r\n\r\n    onSingleValueChange($event) {\r\n        this.single = !$event;\r\n        this.valueChange.emit({  field: this.field.code,value: { value: this.value, end: this.endValue, begin: this.beginValue, single: this.single} });\r\n        this.cd.detectChanges();\r\n    }\r\n\r\n    onValueChange($event) {\r\n        this.valueChange.emit({  field: this.field.code,value: { value:$event, single: true} });\r\n    }\r\n\r\n    onBeginValueChange($event){\r\n        this.valueChange.emit({  field: this.field.code, value: { begin: $event, end: this.endValue, single: false } });\r\n    }\r\n\r\n    onEndValueChange($event) {\r\n        this.valueChange.emit({  field: this.field.code,value: { begin: this.beginValue, end: $event, single: false } });\r\n    }\r\n\r\n}","import { ChangeDetectorRef, Component, ElementRef, EventEmitter, Injector, Input, OnInit, Output, ViewChild } from \"@angular/core\";\r\nimport { cloneDeep } from 'lodash-es';\r\n@Component({\r\n    selector: \"search-filed-editor-enum\",\r\n    templateUrl: \"./search-editor-enum.component.html\",\r\n})\r\nexport class SearchFieldEnumEditorComponent implements OnInit {\r\n    checkedAll: boolean = false;\r\n    @Input() boolcheck: boolean = false;\r\n    _item: any;\r\n    @Input()\r\n    get field() {\r\n        return this._item;\r\n    }\r\n    set field(data) {\r\n        this._item = cloneDeep(data);\r\n        this.getDataSource();\r\n        //this.checkValue = this._item.value.getOriginalValue();\r\n        if (!this._item.hasOwnProperty(\"value\")) {\r\n            this._item.value = { value: [] };\r\n        }\r\n\r\n        if (this._item.hasOwnProperty(\"value\") && this._item.value) {\r\n            this.checkValue = this._item.value.value;\r\n        } else {\r\n            this._item.value = { value: [] };\r\n        }\r\n        // if (this.boolcheck) {\r\n        //     if (this.checkValue.length) {\r\n        //         this.boolchecked = this.checkValue[0];\r\n        //         if (this.boolchecked) this.boolCheckState = \"checked\";\r\n        //         else this.boolCheckState = \"unchecked\";\r\n        //     } else this.boolCheckState = \"indeterminate\";\r\n        // }\r\n        if (this._item.value.value.length == 0){\r\n            this.checkedAll = false;\r\n        }else if (this._item.control[\"enumValues\"] && this._item.value.value.length == this._item.control[\"enumValues\"].length) {\r\n            this.checkedAll = true;\r\n        }\r\n        this.setSubmitChange();\r\n    }\r\n\r\n    @Output() valueChange = new EventEmitter();\r\n\r\n\r\n    checkValue: any[];\r\n    // indeterminate: boolean = true;\r\n    // boolchecked: boolean;\r\n    // boolCheckState: string = \"indeterminate\";\r\n\r\n    checkboxDataSource: Array<any> = new Array<any>();\r\n\r\n    @ViewChild('checkAllEl') checkAllElRef: ElementRef;\r\n\r\n    constructor(private injector: Injector, private cd: ChangeDetectorRef) { }\r\n\r\n    ngOnInit(): void { }\r\n\r\n    getDataSource() {\r\n        if (this.field && this._item.control) {\r\n            let checkboxList = this._item.control;\r\n            this.checkboxDataSource = Array<any>();\r\n            if (checkboxList.enumValues && checkboxList.enumValues.length > 0) {\r\n                checkboxList.enumValues.forEach((element) => {\r\n                    this.checkboxDataSource.push(Object.assign({}, element));\r\n                });\r\n            }\r\n        }\r\n    }\r\n\r\n    onSearch(event) {\r\n        let checkboxValue = [];\r\n        if (event) {\r\n            // let checkboxList = event.split(',');\r\n            let checkboxList = event;\r\n            if (checkboxList && checkboxList.length) {\r\n                checkboxValue = checkboxList;\r\n            }\r\n            this._item.value.value = checkboxValue;\r\n        } else {\r\n            this._item.value.value = \"\";\r\n        }\r\n        if (checkboxValue.length < this._item.control[\"enumValues\"].length) {\r\n            this.checkedAll = false;\r\n            // this.checkAllElRef.nativeElement.indeterminate = !!checkboxValue.length;\r\n            // if (!checkboxValue.length) {\r\n            //     this.checkedAll = false;    \r\n            // }\r\n        } else if ( checkboxValue.length == this._item.control[\"enumValues\"].length){\r\n            this.checkedAll = true;\r\n            // this.checkAllElRef.nativeElement.indeterminate = false;\r\n        }\r\n        this.cd.detectChanges();\r\n        this.getValueText();\r\n        this.setSubmitChange();\r\n        this.valueChange.emit({  field: this.field.code,value: {value: checkboxValue, single: true} });\r\n    }\r\n\r\n    getValueText() {\r\n        const enumValue = this._item.control.enumValues;\r\n        const value = this._item.value.value;\r\n        if (enumValue && enumValue.length && value && value.length) {\r\n            let texts = [];\r\n            for (let i = 0; i <= value.length; i++) {\r\n                const enums = enumValue.find((val) => {\r\n                    return val[\"value\"] == value[i];\r\n                });\r\n                if (enums) {\r\n                    texts.push(enums[\"name\"]);\r\n                }\r\n            }\r\n            this._item.valueText = texts.join(\",\");\r\n        }\r\n    }\r\n\r\n    setSubmitChange() {\r\n        const val = this._item.value;\r\n        if (\r\n            Object.keys(val).length < 0 ||\r\n            Object.keys(val.value).length === 0\r\n        ) {\r\n            // this.submitChange.emit(false);\r\n        } else {\r\n            // this.submitChange.emit(true);\r\n        }\r\n    }\r\n\r\n    onCheckAll(event) {\r\n        // this.checkAllElRef.nativeElement.indeterminate = false;\r\n        this.checkedAll = !this.checkedAll;\r\n        if (this.checkedAll) {\r\n            this.setCheckedAll();\r\n        } else {\r\n            this._item.value.value = [];\r\n            this._item.valueText = \"\";\r\n            this.checkValue = [];\r\n        }\r\n\r\n        this.getValueText();\r\n        this.setSubmitChange();\r\n\r\n        this.cd.detectChanges();\r\n\r\n        this.valueChange.emit({ field: this.field.code, value: {value: this.checkValue, single: true} });\r\n    }\r\n\r\n    private setCheckedAll() {\r\n        const enumValue = this._item.control.enumValues;\r\n        if (enumValue && enumValue.length) {\r\n            let checkboxValue = [];\r\n            //checkboxTexts = [];\r\n            for (let i = 0; i < enumValue.length; i++) {\r\n                checkboxValue.push(enumValue[i][\"value\"]);\r\n                //checkboxTexts.push(enumValue[i]['name'])\r\n            }\r\n            this._item.value.value = checkboxValue;\r\n            this.checkValue = this._item.value.value;\r\n            //this._item.valueText = checkboxTexts.join(',');\r\n\r\n            this.cd.detectChanges();\r\n        }\r\n    }\r\n\r\n}\r\n","import { EventEmitter, ChangeDetectorRef, Component, ElementRef, Injector, Input, OnInit, Output, AfterViewInit } from '@angular/core';\r\n\r\n@Component({\r\n    selector: 'search-field-editor-bool',\r\n    templateUrl: './search-editor-boolean.component.html'\r\n})\r\nexport class SearchFieldEditorBooleanComponent implements OnInit, AfterViewInit {\r\n\r\n    @Input() field: any;\r\n\r\n    radioDataSource = [];\r\n    selectedValue = undefined;\r\n\r\n    @Output() valueChange = new EventEmitter();\r\n    private _radioElements = [];\r\n\r\n    constructor(private injector: Injector, private cd: ChangeDetectorRef, private el: ElementRef) { }\r\n\r\n    ngOnInit() {\r\n        if (this.field) {\r\n            if (this.field.control) {\r\n                this.radioDataSource = this.field.control.enumValues || [];\r\n            }\r\n\r\n            if (this.field.value) {\r\n                this.selectedValue = this.field.value.value;\r\n            }\r\n        }\r\n    }\r\n\r\n    ngAfterViewInit(): void {\r\n        if (this.selectedValue !== null && this.selectedValue !== undefined) {\r\n            this._radioElements = Array.from(this.el.nativeElement.querySelectorAll('input'));\r\n            const radioEl = this._radioElements.find(n => n.value == this.selectedValue);\r\n            if (radioEl) {\r\n                radioEl.checked = true;\r\n            }\r\n        }\r\n    }\r\n\r\n    onRadioClicked($event, value) {\r\n        this.selectedValue = value;\r\n        const radioInputRel = $event.target.querySelector('input');\r\n        // radioInputRel && radioInputRel.setAttribute('checked', true);\r\n        if (radioInputRel) {\r\n            this.clearChecked();\r\n            radioInputRel.checked = true;\r\n            this.cd.detectChanges();\r\n        }\r\n\r\n        this.valueChange.emit({ field: this.field.code,  value: {value: this.selectedValue, single: true} });\r\n    }\r\n\r\n    private clearChecked() {\r\n        if (!this._radioElements || !this._radioElements.length) {\r\n            this._radioElements = Array.from(this.el.nativeElement.querySelectorAll('input'));\r\n        }\r\n        this._radioElements.forEach((r: any) => {\r\n            // r.removeAttribute('checked');\r\n            r.checked = false;\r\n        });\r\n    }\r\n}","import { Pipe, PipeTransform } from '@angular/core';\r\n\r\n@Pipe({\r\n    name: 'canclear'\r\n})\r\nexport class SearchFieldCanClearPipe implements PipeTransform {\r\n\r\n    private isNil = (val: any) => val === null  || val === undefined || val === '' || (Array.isArray(val) && !val.length);\r\n\r\n    transform(val: any, ...args: any[]): any {\r\n        let canClear = false;\r\n        if (val) {\r\n            const { value, begin, end, single } = val;\r\n\r\n            if (!this.isNil(single)) {\r\n                if (!single) {\r\n                    canClear = !this.isNil(begin) || !this.isNil(end);\r\n                } else {\r\n                    canClear = !this.isNil(value);\r\n                }\r\n            } else {\r\n                canClear = !this.isNil(value);\r\n            }\r\n        }\r\n\r\n        return !canClear;\r\n    }\r\n}","import { CommonModule } from '@angular/common';\r\nimport { NgModule } from '@angular/core';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { FarrisCommonModule }           from '@farris/ui-common';\r\nimport { InputGroupModule }             from '@farris/ui-input-group';\r\nimport { LocaleModule }                 from '@farris/ui-locale';\r\nimport { FarrisDatePickerModule }       from '@farris/ui-datepicker';\r\nimport { SwitchModule }                 from '@farris/ui-switch';\r\nimport { NumberSpinnerModule }          from '@farris/ui-number-spinner';\r\nimport { FarrisFormsModule }            from '@farris/ui-forms';\r\nimport { DateHelperModule }             from \"@farris/ui-common/date\";\r\n\r\nimport { SearchBoxComponent } from './search-box.component';\r\nimport { SearchFieldPanelComponent } from './search-fields/search-field-panel.component';\r\nimport { SearchFieldsComponent } from './search-fields/search-fields.component';\r\nimport { SearchFieldDirective } from './search-fields/search-filed.directive';\r\nimport { SearchPanelComponent } from './search-panel/search-panel.component';\r\nimport { SearchPanelDirective } from './search-panel/search-panel.directive';\r\nimport { SearchWordPipe } from './search-panel/search-words.pipe';\r\n\r\nimport { SearchFieldFlexibleDateComponent }     from './search-fields/editors/date/flexible-date.component';\r\nimport { SearchFieldFlexibleNumberComponent }   from './search-fields/editors/number/flexible-number.component';\r\nimport { SearchFieldEnumEditorComponent }       from './search-fields/editors/enum/search-editor-enum.component';\r\nimport { SearchFieldEditorBooleanComponent }    from './search-fields/editors/boolean/search-editor-boolean.component';\r\nimport { SearchFieldCanClearPipe } from './search-fields/can-clear-condition.pipe';\r\n@NgModule({\r\n    declarations: [\r\n        SearchBoxComponent,\r\n        SearchPanelComponent,\r\n        SearchPanelDirective,\r\n        SearchWordPipe,\r\n        SearchFieldsComponent,\r\n        SearchFieldDirective,\r\n        SearchFieldPanelComponent,\r\n        SearchFieldFlexibleDateComponent,\r\n        SearchFieldFlexibleNumberComponent,\r\n        SearchFieldEnumEditorComponent,\r\n        SearchFieldEditorBooleanComponent,\r\n        SearchFieldCanClearPipe\r\n    ],\r\n    imports: [\r\n        CommonModule,\r\n        FormsModule,\r\n        FarrisCommonModule.forRoot(),\r\n        InputGroupModule,\r\n        LocaleModule.forRoot(),\r\n        FarrisDatePickerModule,\r\n        SwitchModule,\r\n        NumberSpinnerModule,\r\n        FarrisFormsModule,\r\n        DateHelperModule.forRoot()\r\n    ],\r\n    entryComponents: [\r\n        SearchPanelComponent,\r\n        SearchFieldPanelComponent\r\n    ],\r\n    exports: [\r\n        SearchBoxComponent,\r\n        SearchPanelComponent,\r\n        SearchPanelDirective,\r\n        SearchWordPipe,\r\n        SearchFieldsComponent,\r\n        SearchFieldDirective,\r\n        SearchFieldPanelComponent,\r\n        SearchFieldFlexibleDateComponent,\r\n        SearchFieldFlexibleNumberComponent,\r\n        SearchFieldEnumEditorComponent,\r\n        SearchFieldEditorBooleanComponent\r\n    ]\r\n})\r\nexport class SearchBoxModule { }\r\n"],"names":["Injectable","Renderer2","OverLayHiddenService","LocaleService","CommonUtils","ElementRef","Injector","Optional","ChangeDetectorRef","NG_VALUE_ACCESSOR","forwardRef","tslib_1.__extends","EventEmitter","BehaviorSubject","flatten","FilterRelation","Compare","Component","ViewEncapsulation","Input","ViewChild","Output","SEARCH_BOX_VALUE_ACCESSOR","Subject","DateTimeHelperService","debounceTime","Directive","NgZone","ComponentFactoryResolver","ApplicationRef","HostListener","trim","reqAnimFrame","InputGroupComponent","Pipe","cloneDeep","NgModule","CommonModule","FormsModule","FarrisCommonModule","InputGroupModule","LocaleModule","FarrisDatePickerModule","SwitchModule","NumberSpinnerModule","FarrisFormsModule","DateHelperModule"],"mappings":"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"}
