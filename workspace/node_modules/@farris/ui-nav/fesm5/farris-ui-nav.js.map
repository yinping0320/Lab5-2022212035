{"version":3,"file":"farris-ui-nav.js.map","sources":["ng://@farris/ui-nav/lib/nav.service.ts","ng://@farris/ui-nav/lib/nav.component.ts","ng://@farris/ui-nav/lib/nav.module.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class NavService {\r\n\r\n  constructor() { }\r\n}\r\n","import { Component, OnInit, Input, Output, EventEmitter, OnDestroy } from '@angular/core';\r\nimport { Observable, Subscription, of } from 'rxjs';\r\n\r\ninterface navItem {\r\n  id:string,\r\n  text:string,\r\n  num?:number,\r\n  disable?:boolean\r\n}\r\n\r\n@Component({\r\n  selector: 'farris-nav',\r\n  templateUrl: './nav.component.html',\r\n  styleUrls: ['./nav.component.scss'],\r\n})\r\nexport class NavComponent implements OnInit, OnDestroy {\r\n\r\n  /* æ¯å¦æ°´å¹³åå¸ */\r\n  // @Input() horizontal: boolean = true;\r\n\r\n  _horizontal:boolean = true;\r\n  @Input()\r\n  set horizontal(val) {\r\n    this._horizontal = val;\r\n  }\r\n  get horizontal() {\r\n    return this._horizontal;\r\n  }\r\n\r\n  //å¯¼èªæ°æ®\r\n  _navData:navItem[]\r\n  @Input()\r\n  get navData(): Array<navItem> {\r\n    return this._navData;\r\n  }\r\n  set navData(data: Array<navItem>) {\r\n    this._navData = data;\r\n    this.initNavData();\r\n  }\r\n  _activeNavId:string = ''\r\n  @Input()\r\n  get activeNavId():string {\r\n    return this._activeNavId;\r\n  }\r\n  set activeNavId(data:string) {\r\n    this._activeNavId = data;\r\n    if(this._activeNavId && this.navData && this.navData.length){\r\n      const nav = this.navData.find(nav => {\r\n        return nav['id'] === this._activeNavId;\r\n      });\r\n      if(nav){\r\n        this.navChange.emit(nav);\r\n      }\r\n    }\r\n  }\r\n  /** navåæ¢åäºä»¶ */\r\n  @Input() navPicking: (emptyObj?: {}) => Observable<any>;\r\n  navPickingSubscription: Subscription;\r\n\r\n  @Input() maxNum:number = 99;\r\n\r\n  @Output() navChange = new EventEmitter();\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit() {\r\n    this.initEvents();\r\n  }\r\n  ngOnDestroy() {\r\n    if(this.navPickingSubscription){\r\n      this.navPickingSubscription.unsubscribe();\r\n    }\r\n  }\r\n\r\n  initNavData(){\r\n    if(this.navData && this.navData.length){\r\n      if(!this._activeNavId){\r\n        const activeNav = this.navData.find(nav=>{\r\n          return !nav.disable;\r\n        });\r\n        if(activeNav){\r\n          this._activeNavId = activeNav['id'];\r\n        }\r\n      }\r\n    }\r\n  }\r\n  navClick(nav){\r\n    if(nav.disable || nav.id === this._activeNavId){\r\n      return\r\n    }\r\n    else{\r\n      this.navPickingSubscription = this.navPicking().subscribe((val) => {\r\n          if(val){\r\n            this.navChange.emit(nav);\r\n            setTimeout(() => this._activeNavId = nav.id);\r\n          }\r\n      });\r\n    }\r\n  }\r\n  initEvents() {\r\n    if (!this.navPicking) {\r\n        this.navPicking = () => of(true);\r\n    }\r\n  }\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { NavComponent } from './nav.component';\r\nimport { CommonModule } from '@angular/common';\r\n\r\n@NgModule({\r\n  declarations: [NavComponent],\r\n  imports: [\r\n    CommonModule\r\n  ],\r\n  exports: [NavComponent]\r\n})\r\nexport class NavModule { }\r\n"],"names":[],"mappings":"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"}
