{"version":3,"file":"farris-ui-nav.umd.js.map","sources":["ng://@farris/ui-nav/lib/nav.service.ts","ng://@farris/ui-nav/lib/nav.component.ts","ng://@farris/ui-nav/lib/nav.module.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class NavService {\r\n\r\n  constructor() { }\r\n}\r\n","import { Component, OnInit, Input, Output, EventEmitter, OnDestroy } from '@angular/core';\r\nimport { Observable, Subscription, of } from 'rxjs';\r\n\r\ninterface navItem {\r\n  id:string,\r\n  text:string,\r\n  num?:number,\r\n  disable?:boolean\r\n}\r\n\r\n@Component({\r\n  selector: 'farris-nav',\r\n  templateUrl: './nav.component.html',\r\n  styleUrls: ['./nav.component.scss'],\r\n})\r\nexport class NavComponent implements OnInit, OnDestroy {\r\n\r\n  /* æ¯å¦æ°´å¹³åå¸ */\r\n  // @Input() horizontal: boolean = true;\r\n\r\n  _horizontal:boolean = true;\r\n  @Input()\r\n  set horizontal(val) {\r\n    this._horizontal = val;\r\n  }\r\n  get horizontal() {\r\n    return this._horizontal;\r\n  }\r\n\r\n  //å¯¼èªæ°æ®\r\n  _navData:navItem[]\r\n  @Input()\r\n  get navData(): Array<navItem> {\r\n    return this._navData;\r\n  }\r\n  set navData(data: Array<navItem>) {\r\n    this._navData = data;\r\n    this.initNavData();\r\n  }\r\n  _activeNavId:string = ''\r\n  @Input()\r\n  get activeNavId():string {\r\n    return this._activeNavId;\r\n  }\r\n  set activeNavId(data:string) {\r\n    this._activeNavId = data;\r\n    if(this._activeNavId && this.navData && this.navData.length){\r\n      const nav = this.navData.find(nav => {\r\n        return nav['id'] === this._activeNavId;\r\n      });\r\n      if(nav){\r\n        this.navChange.emit(nav);\r\n      }\r\n    }\r\n  }\r\n  /** navåæ¢åäºä»¶ */\r\n  @Input() navPicking: (emptyObj?: {}) => Observable<any>;\r\n  navPickingSubscription: Subscription;\r\n\r\n  @Input() maxNum:number = 99;\r\n\r\n  @Output() navChange = new EventEmitter();\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit() {\r\n    this.initEvents();\r\n  }\r\n  ngOnDestroy() {\r\n    if(this.navPickingSubscription){\r\n      this.navPickingSubscription.unsubscribe();\r\n    }\r\n  }\r\n\r\n  initNavData(){\r\n    if(this.navData && this.navData.length){\r\n      if(!this._activeNavId){\r\n        const activeNav = this.navData.find(nav=>{\r\n          return !nav.disable;\r\n        });\r\n        if(activeNav){\r\n          this._activeNavId = activeNav['id'];\r\n        }\r\n      }\r\n    }\r\n  }\r\n  navClick(nav){\r\n    if(nav.disable || nav.id === this._activeNavId){\r\n      return\r\n    }\r\n    else{\r\n      this.navPickingSubscription = this.navPicking().subscribe((val) => {\r\n          if(val){\r\n            this.navChange.emit(nav);\r\n            setTimeout(() => this._activeNavId = nav.id);\r\n          }\r\n      });\r\n    }\r\n  }\r\n  initEvents() {\r\n    if (!this.navPicking) {\r\n        this.navPicking = () => of(true);\r\n    }\r\n  }\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { NavComponent } from './nav.component';\r\nimport { CommonModule } from '@angular/common';\r\n\r\n@NgModule({\r\n  declarations: [NavComponent],\r\n  imports: [\r\n    CommonModule\r\n  ],\r\n  exports: [NavComponent]\r\n})\r\nexport class NavModule { }\r\n"],"names":["Injectable","EventEmitter","of","Component","Input","Output","NgModule","CommonModule"],"mappings":"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"}
