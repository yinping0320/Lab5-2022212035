{"version":3,"file":"farris-ui-modal-positioning.umd.js.map","sources":["node_modules/tslib/tslib.es6.js","ng://@farris/ui-modal/positioning/utils/getStyleComputedProperty.ts","ng://@farris/ui-modal/positioning/utils/getParentNode.ts","ng://@farris/ui-modal/positioning/utils/getScrollParent.ts","ng://@farris/ui-modal/positioning/utils/isBrowser.ts","ng://@farris/ui-modal/positioning/utils/isIE.ts","ng://@farris/ui-modal/positioning/utils/getOffsetParent.ts","ng://@farris/ui-modal/positioning/utils/isOffsetContainer.ts","ng://@farris/ui-modal/positioning/utils/getRoot.ts","ng://@farris/ui-modal/positioning/utils/findCommonOffsetParent.ts","ng://@farris/ui-modal/positioning/utils/getBordersSize.ts","ng://@farris/ui-modal/positioning/utils/getWindowSizes.ts","ng://@farris/ui-modal/positioning/utils/getScroll.ts","ng://@farris/ui-modal/positioning/utils/getClientRect.ts","ng://@farris/ui-modal/positioning/utils/getBoundingClientRect.ts","ng://@farris/ui-modal/positioning/utils/includeScroll.ts","ng://@farris/ui-modal/positioning/utils/getOffsetRectRelativeToArbitraryNode.ts","ng://@farris/ui-modal/positioning/utils/getViewportOffsetRectRelativeToArtbitraryNode.ts","ng://@farris/ui-modal/positioning/utils/isFixed.ts","ng://@farris/ui-modal/positioning/utils/getFixedPositionOffsetParent.ts","ng://@farris/ui-modal/positioning/utils/getBoundaries.ts","ng://@farris/ui-modal/positioning/utils/computeAutoPlacement.ts","ng://@farris/ui-modal/positioning/utils/getOffsets.ts","ng://@farris/ui-modal/positioning/utils/getOppositePlacement.ts","ng://@farris/ui-modal/positioning/utils/getOppositeVariation.ts","ng://@farris/ui-modal/positioning/utils/getOuterSizes.ts","ng://@farris/ui-modal/positioning/utils/getReferenceOffsets.ts","ng://@farris/ui-modal/positioning/utils/getTargetOffsets.ts","ng://@farris/ui-modal/positioning/utils/isModifierEnabled.ts","ng://@farris/ui-modal/positioning/utils/isNumeric.ts","ng://@farris/ui-modal/positioning/utils/setStyles.ts","ng://@farris/ui-modal/positioning/utils/setAllStyles.ts","ng://@farris/ui-modal/positioning/modifiers/arrow.ts","ng://@farris/ui-modal/positioning/modifiers/flip.ts","ng://@farris/ui-modal/positioning/modifiers/initData.ts","ng://@farris/ui-modal/positioning/modifiers/preventOverflow.ts","ng://@farris/ui-modal/positioning/modifiers/shift.ts","ng://@farris/ui-modal/positioning/ng-positioning.ts","ng://@farris/ui-modal/positioning/positioning.service.ts"],"sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n","/**\r\n * Get CSS computed property of the given element\r\n */\r\nexport function getStyleComputedProperty(element: HTMLElement, property?: string): any {\r\n  if (element.nodeType !== 1) {\r\n    return [];\r\n  }\r\n  // NOTE: 1 DOM access here\r\n  const window = element.ownerDocument.defaultView;\r\n  const css = window.getComputedStyle(element, null);\r\n\r\n  return property ? css[property as any] : css;\r\n}\r\n","/**\r\n * Returns the parentNode or the host of the element\r\n */\r\nexport function getParentNode(element: any): any {\r\n  if (element.nodeName === 'HTML') {\r\n    return element;\r\n  }\r\n\r\n  return element.parentNode || element.host;\r\n}\r\n","/**\r\n * Returns the scrolling parent of the given element\r\n */\r\nimport { getStyleComputedProperty } from './getStyleComputedProperty';\r\nimport { getParentNode } from './getParentNode';\r\n\r\nexport function getScrollParent(element: any): any {\r\n  // Return body, `getScroll` will take care to get the correct `scrollTop` from it\r\n  if (!element) {\r\n    return document.body;\r\n  }\r\n\r\n  switch (element.nodeName) {\r\n    case 'HTML':\r\n    case 'BODY':\r\n      return element.ownerDocument.body;\r\n    case '#document':\r\n      return element.body;\r\n    default:\r\n  }\r\n\r\n  // Firefox want us to check `-x` and `-y` variations as well\r\n  const { overflow, overflowX, overflowY } = getStyleComputedProperty(element);\r\n  if (/(auto|scroll|overlay)/.test(String(overflow) + String(overflowY) + String(overflowX))) {\r\n    return element;\r\n  }\r\n\r\n  return getScrollParent(getParentNode(element));\r\n}\r\n","export const isBrowser = typeof window !== 'undefined' && typeof document !== 'undefined';\r\n","/**\r\n * Determines if the browser is Internet Explorer\r\n */\r\nimport { isBrowser } from './isBrowser';\r\n\r\nconst isIE11 = isBrowser && !!((window as any).MSInputMethodContext && (document as any).documentMode);\r\nconst isIE10 = isBrowser && !!((window as any).MSInputMethodContext && /MSIE 10/.test((navigator as any).userAgent));\r\n\r\nexport function isIE(version?: number) {\r\n  if (version === 11) {\r\n    return isIE11;\r\n  }\r\n  if (version === 10) {\r\n    return isIE10;\r\n  }\r\n\r\n  return isIE11 || isIE10;\r\n}\r\n","/**\r\n * Returns the offset parent of the given element\r\n */\r\nimport { getStyleComputedProperty } from './getStyleComputedProperty';\r\nimport { isIE } from './isIE';\r\n\r\nexport function getOffsetParent(element: any): any {\r\n  if (!element) {\r\n    return document.documentElement;\r\n  }\r\n\r\n  const noOffsetParent = isIE(10) ? document.body : null;\r\n\r\n  // NOTE: 1 DOM access here\r\n  let offsetParent = element.offsetParent || null;\r\n  // Skip hidden elements which don't have an offsetParent\r\n\r\n  let sibling: any;\r\n\r\n  while (offsetParent === noOffsetParent && element.nextElementSibling && element.nodeName !== 'BODY') {\r\n    sibling = element.nextElementSibling;\r\n    offsetParent = sibling.offsetParent;\r\n  }\r\n\r\n  const nodeName = offsetParent && offsetParent.nodeName;\r\n\r\n  if (!nodeName || nodeName === 'BODY' || nodeName === 'HTML') {\r\n    return sibling ? sibling.ownerDocument.documentElement : document.documentElement;\r\n  }\r\n\r\n  // .offsetParent will return the closest TH, TD or TABLE in case\r\n  // no offsetParent is present, I hate this job...\r\n  if (\r\n    ['TH', 'TD', 'TABLE'].indexOf(offsetParent.nodeName) !== -1 &&\r\n    getStyleComputedProperty(offsetParent, 'position') === 'static'\r\n  ) {\r\n    return getOffsetParent(offsetParent);\r\n  }\r\n\r\n  return offsetParent;\r\n}\r\n","import { getOffsetParent } from './getOffsetParent';\r\n\r\nexport function isOffsetContainer(element: any) {\r\n  const { nodeName } = element;\r\n  if (nodeName === 'BODY') {\r\n    return false;\r\n  }\r\n\r\n  return (\r\n    nodeName === 'HTML' || getOffsetParent(element.firstElementChild) === element\r\n  );\r\n}\r\n","/**\r\n * Finds the root node (document, shadowDOM root) of the given element\r\n */\r\nexport function getRoot(node: Node): any {\r\n  if (node.parentNode !== null) {\r\n    return getRoot(node.parentNode);\r\n  }\r\n\r\n  return node;\r\n}\r\n","/**\r\n * Finds the offset parent common to the two provided nodes\r\n */\r\nimport { isOffsetContainer } from './isOffsetContainer';\r\nimport { getRoot } from './getRoot';\r\nimport { getOffsetParent } from './getOffsetParent';\r\n\r\nexport function findCommonOffsetParent(element1: HTMLElement, element2: HTMLElement): any {\r\n  // This check is needed to avoid errors in case one of the elements isn't defined for any reason\r\n  if (!element1 || !element1.nodeType || !element2 || !element2.nodeType) {\r\n    return document.documentElement;\r\n  }\r\n\r\n  // Here we make sure to give as \"start\" the element that comes first in the DOM\r\n  /* tslint:disable-next-line: no-bitwise */\r\n  const order = element1.compareDocumentPosition(element2) & Node.DOCUMENT_POSITION_FOLLOWING;\r\n\r\n  const start = order ? element1 : element2;\r\n  const end = order ? element2 : element1;\r\n\r\n  // Get common ancestor container\r\n  const range = document.createRange();\r\n  range.setStart(start, 0);\r\n  range.setEnd(end, 0);\r\n  const { commonAncestorContainer } = range;\r\n\r\n  // Both nodes are inside #document\r\n  if (\r\n    (element1 !== commonAncestorContainer &&\r\n      element2 !== commonAncestorContainer) ||\r\n    start.contains(end)\r\n  ) {\r\n    if (isOffsetContainer(commonAncestorContainer)) {\r\n      return commonAncestorContainer;\r\n    }\r\n\r\n    return getOffsetParent(commonAncestorContainer);\r\n  }\r\n\r\n  // one of the nodes is inside shadowDOM, find which one\r\n  const element1root = getRoot(element1);\r\n  if (element1root.host) {\r\n    return findCommonOffsetParent(element1root.host, element2);\r\n  } else {\r\n    return findCommonOffsetParent(element1, getRoot(element2).host);\r\n  }\r\n}\r\n","/**\r\n * Helper to detect borders of a given element\r\n */\r\n\r\nexport function getBordersSize(styles: CSSStyleDeclaration, axis: string) {\r\n  const sideA = axis === 'x' ? 'Left' : 'Top';\r\n  const sideB = sideA === 'Left' ? 'Right' : 'Bottom';\r\n\r\n  return (\r\n    parseFloat(styles[`border${sideA}Width` as any]) +\r\n    parseFloat(styles[`border${sideB}Width` as any])\r\n  );\r\n}\r\n","import { isIE } from './isIE';\r\n\r\nfunction getSize(axis: string, body: HTMLElement, html: HTMLElement, computedStyle: CSSStyleDeclaration) {\r\n  return Math.max(\r\n    (body as any)[`offset${axis}`],\r\n    (body as any)[`scroll${axis}`],\r\n    (html as any)[`client${axis}`],\r\n    (html as any)[`offset${axis}`],\r\n    (html as any)[`scroll${axis}`],\r\n    isIE(10)\r\n      ? (parseInt((html as any)[`offset${axis}`], 10) +\r\n      parseInt(computedStyle[`margin${axis === 'Height' ? 'Top' : 'Left'}` as any], 10) +\r\n      parseInt(computedStyle[`margin${axis === 'Height' ? 'Bottom' : 'Right'}` as any], 10))\r\n    : 0\r\n  );\r\n}\r\n\r\nexport function getWindowSizes(document: Document) {\r\n  const body = document.body;\r\n  const html = document.documentElement;\r\n  const computedStyle = isIE(10) && getComputedStyle(html);\r\n\r\n  return {\r\n    height: getSize('Height', body, html, computedStyle),\r\n    width: getSize('Width', body, html, computedStyle)\r\n  };\r\n}\r\n","/**\r\n * Gets the scroll value of the given element in the given side (top and left)\r\n */\r\nexport function getScroll(element: HTMLElement, side = 'top') {\r\n  const upperSide = side === 'top' ? 'scrollTop' : 'scrollLeft';\r\n  const nodeName = element.nodeName;\r\n\r\n  if (nodeName === 'BODY' || nodeName === 'HTML') {\r\n    const html = element.ownerDocument.documentElement;\r\n    const scrollingElement = element.ownerDocument.scrollingElement || html;\r\n\r\n    return scrollingElement[upperSide];\r\n  }\r\n\r\n  return element[upperSide];\r\n}\r\n","/**\r\n * Given element offsets, generate an output similar to getBoundingClientRect\r\n */\r\nimport { Offsets } from '../models';\r\n\r\nexport function getClientRect(offsets: Offsets): Offsets {\r\n  return {\r\n    ...offsets,\r\n    right: offsets.left + offsets.width,\r\n    bottom: offsets.top + offsets.height\r\n  };\r\n}\r\n","/**\r\n * Get bounding client rect of given element\r\n */\r\nimport { getStyleComputedProperty } from './getStyleComputedProperty';\r\nimport { getBordersSize } from './getBordersSize';\r\nimport { getWindowSizes } from './getWindowSizes';\r\nimport { getScroll } from './getScroll';\r\nimport { getClientRect } from './getClientRect';\r\nimport { isIE } from './isIE';\r\nimport { Offsets } from '../models';\r\n\r\nexport function getBoundingClientRect(element: HTMLElement): Offsets {\r\n  let rect: any = {};\r\n\r\n  // IE10 10 FIX: Please, don't ask, the element isn't\r\n  // considered in DOM in some circumstances...\r\n  // This isn't reproducible in IE10 compatibility mode of IE11\r\n  try {\r\n    if (isIE(10)) {\r\n      rect = element.getBoundingClientRect();\r\n      const scrollTop = getScroll(element, 'top');\r\n      const scrollLeft = getScroll(element, 'left');\r\n      rect.top += scrollTop;\r\n      rect.left += scrollLeft;\r\n      rect.bottom += scrollTop;\r\n      rect.right += scrollLeft;\r\n    } else {\r\n      rect = element.getBoundingClientRect();\r\n    }\r\n  } catch (e) {\r\n    return undefined;\r\n  }\r\n\r\n  const result: any = {\r\n    left: rect.left,\r\n    top: rect.top,\r\n    width: rect.right - rect.left,\r\n    height: rect.bottom - rect.top\r\n  };\r\n\r\n  // subtract scrollbar size from sizes\r\n  const sizes: any = element.nodeName === 'HTML' ? getWindowSizes(element.ownerDocument) : {};\r\n  const width =\r\n    sizes.width || element.clientWidth || result.right - result.left;\r\n  const height =\r\n    sizes.height || element.clientHeight || result.bottom - result.top;\r\n\r\n  let horizScrollbar = element.offsetWidth - width;\r\n  let vertScrollbar = element.offsetHeight - height;\r\n\r\n  // if an hypothetical scrollbar is detected, we must be sure it's not a `border`\r\n  // we make this check conditional for performance reasons\r\n  if (horizScrollbar || vertScrollbar) {\r\n    const styles = getStyleComputedProperty(element);\r\n    horizScrollbar -= getBordersSize(styles, 'x');\r\n    vertScrollbar -= getBordersSize(styles, 'y');\r\n\r\n    result.width -= horizScrollbar;\r\n    result.height -= vertScrollbar;\r\n  }\r\n\r\n  return getClientRect(result);\r\n}\r\n","/**\r\n * Sum or subtract the element scroll values (left and top) from a given rect object\r\n */\r\nimport { getScroll } from './getScroll';\r\nimport { Offsets } from '../models';\r\n\r\nexport function includeScroll(rect: Offsets, element: HTMLElement, subtract = false) {\r\n  const scrollTop = getScroll(element, 'top');\r\n  const scrollLeft = getScroll(element, 'left');\r\n  const modifier = subtract ? -1 : 1;\r\n  rect.top += scrollTop * modifier;\r\n  rect.bottom += scrollTop * modifier;\r\n  rect.left += scrollLeft * modifier;\r\n  rect.right += scrollLeft * modifier;\r\n\r\n  return rect;\r\n}\r\n","import { getBoundingClientRect } from './getBoundingClientRect';\r\nimport { getClientRect } from './getClientRect';\r\nimport { getScrollParent } from './getScrollParent';\r\nimport { getStyleComputedProperty } from './getStyleComputedProperty';\r\nimport { includeScroll } from './includeScroll';\r\nimport { isIE as runIsIE } from './isIE';\r\nimport { Offsets } from '../models';\r\n\r\nexport function getOffsetRectRelativeToArbitraryNode(\r\n  children: HTMLElement,\r\n  parent: HTMLElement,\r\n  fixedPosition = false\r\n): Offsets {\r\n  const isIE10 = runIsIE(10);\r\n  const isHTML = parent.nodeName === 'HTML';\r\n  const childrenRect: any = getBoundingClientRect(children);\r\n  const parentRect: any = getBoundingClientRect(parent);\r\n  const scrollParent = getScrollParent(children);\r\n\r\n  const styles = getStyleComputedProperty(parent);\r\n  const borderTopWidth = parseFloat(styles.borderTopWidth);\r\n  const borderLeftWidth = parseFloat(styles.borderLeftWidth);\r\n\r\n  // In cases where the parent is fixed, we must ignore negative scroll in offset calc\r\n  if (fixedPosition && isHTML) {\r\n    parentRect.top = Math.max(parentRect.top, 0);\r\n    parentRect.left = Math.max(parentRect.left, 0);\r\n  }\r\n\r\n  let offsets: Offsets = getClientRect({\r\n    top: childrenRect.top - parentRect.top - borderTopWidth,\r\n    left: childrenRect.left - parentRect.left - borderLeftWidth,\r\n    width: childrenRect.width,\r\n    height: childrenRect.height\r\n  });\r\n\r\n  offsets.marginTop = 0;\r\n  offsets.marginLeft = 0;\r\n\r\n  // Subtract margins of documentElement in case it's being used as parent\r\n  // we do this only on HTML because it's the only element that behaves\r\n  // differently when margins are applied to it. The margins are included in\r\n  // the box of the documentElement, in the other cases not.\r\n  if (!isIE10 && isHTML) {\r\n    const marginTop = parseFloat(styles.marginTop);\r\n    const marginLeft = parseFloat(styles.marginLeft);\r\n\r\n    offsets.top -= borderTopWidth - marginTop;\r\n    offsets.bottom -= borderTopWidth - marginTop;\r\n    offsets.left -= borderLeftWidth - marginLeft;\r\n    offsets.right -= borderLeftWidth - marginLeft;\r\n\r\n    // Attach marginTop and marginLeft because in some circumstances we may need them\r\n    offsets.marginTop = marginTop;\r\n    offsets.marginLeft = marginLeft;\r\n  }\r\n\r\n  if (\r\n    isIE10 && !fixedPosition\r\n      ? parent.contains(scrollParent)\r\n      : parent === scrollParent && scrollParent.nodeName !== 'BODY'\r\n  ) {\r\n    offsets = includeScroll(offsets, parent);\r\n  }\r\n\r\n  return offsets;\r\n}\r\n","import { getClientRect } from './getClientRect';\r\nimport { getOffsetRectRelativeToArbitraryNode } from './getOffsetRectRelativeToArbitraryNode';\r\nimport { getScroll } from './getScroll';\r\nimport { Offsets } from '../models';\r\n\r\nexport function getViewportOffsetRectRelativeToArtbitraryNode(element: HTMLElement, excludeScroll = false): Offsets {\r\n  const html = element.ownerDocument.documentElement;\r\n  const relativeOffset = getOffsetRectRelativeToArbitraryNode(element, html);\r\n  const width = Math.max(html.clientWidth, window.innerWidth || 0);\r\n  const height = Math.max(html.clientHeight, window.innerHeight || 0);\r\n\r\n  const scrollTop = !excludeScroll ? getScroll(html) : 0;\r\n  const scrollLeft = !excludeScroll ? getScroll(html, 'left') : 0;\r\n\r\n  const offset = {\r\n    top: scrollTop - Number(relativeOffset.top) + Number(relativeOffset.marginTop),\r\n    left: scrollLeft - Number(relativeOffset.left) + Number(relativeOffset.marginLeft),\r\n    width,\r\n    height\r\n  };\r\n\r\n  return getClientRect(offset);\r\n}\r\n","/**\r\n * Check if the given element is fixed or is inside a fixed parent\r\n */\r\nimport { getStyleComputedProperty } from './getStyleComputedProperty';\r\nimport { getParentNode } from './getParentNode';\r\n\r\nexport function isFixed(element: HTMLElement): boolean {\r\n  const nodeName = element.nodeName;\r\n  if (nodeName === 'BODY' || nodeName === 'HTML') {\r\n    return false;\r\n  }\r\n  if (getStyleComputedProperty(element, 'position') === 'fixed') {\r\n    return true;\r\n  }\r\n\r\n  return isFixed(getParentNode(element));\r\n}\r\n","/**\r\n * Finds the first parent of an element that has a transformed property defined\r\n */\r\n\r\nimport { getStyleComputedProperty } from './getStyleComputedProperty';\r\nimport { isIE } from './isIE';\r\n\r\nexport function getFixedPositionOffsetParent(element: HTMLElement): HTMLElement {\r\n  // This check is needed to avoid errors in case one of the elements isn't defined for any reason\r\n  if (!element || !element.parentElement || isIE()) {\r\n   return document.documentElement;\r\n  }\r\n\r\n  let el = element.parentElement;\r\n\r\n  while (el && getStyleComputedProperty(el, 'transform') === 'none') {\r\n    el = el.parentElement;\r\n  }\r\n\r\n  return el || document.documentElement;\r\n}\r\n","/**\r\n * Computed the boundaries limits and return them\r\n */\r\nimport { getScrollParent } from './getScrollParent';\r\nimport { getParentNode } from './getParentNode';\r\nimport { findCommonOffsetParent } from './findCommonOffsetParent';\r\nimport { getOffsetRectRelativeToArbitraryNode } from './getOffsetRectRelativeToArbitraryNode';\r\nimport { getViewportOffsetRectRelativeToArtbitraryNode } from './getViewportOffsetRectRelativeToArtbitraryNode';\r\nimport { getWindowSizes } from './getWindowSizes';\r\nimport { isFixed } from './isFixed';\r\nimport { getFixedPositionOffsetParent } from './getFixedPositionOffsetParent';\r\n\r\nexport function getBoundaries(\r\n  target: HTMLElement,\r\n  host: HTMLElement,\r\n  padding = 0,\r\n  boundariesElement: string,\r\n  fixedPosition = false\r\n) {\r\n  // NOTE: 1 DOM access here\r\n\r\n  let boundaries: any = { top: 0, left: 0 };\r\n  const offsetParent = fixedPosition ? getFixedPositionOffsetParent(target) : findCommonOffsetParent(target, host);\r\n\r\n  // Handle viewport case\r\n  if (boundariesElement === 'viewport') {\r\n    boundaries = getViewportOffsetRectRelativeToArtbitraryNode(offsetParent, fixedPosition);\r\n  } else {\r\n    // Handle other cases based on DOM element used as boundaries\r\n    let boundariesNode;\r\n    if (boundariesElement === 'scrollParent') {\r\n      boundariesNode = getScrollParent(getParentNode(host));\r\n      if (boundariesNode.nodeName === 'BODY') {\r\n        boundariesNode = target.ownerDocument.documentElement;\r\n      }\r\n    } else if (boundariesElement === 'window') {\r\n      boundariesNode = target.ownerDocument.documentElement;\r\n    } else {\r\n      boundariesNode = boundariesElement;\r\n    }\r\n\r\n    const offsets = getOffsetRectRelativeToArbitraryNode(\r\n      boundariesNode,\r\n      offsetParent,\r\n      fixedPosition\r\n    );\r\n\r\n    // In case of HTML, we need a different computation\r\n    if (boundariesNode.nodeName === 'HTML' && !isFixed(offsetParent)) {\r\n      const { height, width } = getWindowSizes(target.ownerDocument);\r\n      boundaries.top += offsets.top - offsets.marginTop;\r\n      boundaries.bottom = Number(height) + Number(offsets.top);\r\n      boundaries.left += offsets.left - offsets.marginLeft;\r\n      boundaries.right = Number(width) + Number(offsets.left);\r\n    } else {\r\n      // for all the other DOM elements, this one is good\r\n      boundaries = offsets;\r\n    }\r\n  }\r\n\r\n  // Add paddings\r\n  boundaries.left += padding;\r\n  boundaries.top += padding;\r\n  boundaries.right -= padding;\r\n  boundaries.bottom -= padding;\r\n\r\n  return boundaries;\r\n}\r\n","/**\r\n * Utility used to transform the `auto` placement to the placement with more\r\n * available space.\r\n */\r\nimport { getBoundaries } from './getBoundaries';\r\nimport { Offsets } from '../models';\r\n\r\nfunction getArea({ width, height }: { [key: string]: number }) {\r\n  return width * height;\r\n}\r\n\r\nexport function computeAutoPlacement(\r\n  placement: string,\r\n  refRect: Offsets,\r\n  target: HTMLElement,\r\n  host: HTMLElement,\r\n  allowedPositions: any[] = ['top', 'left', 'bottom', 'right'],\r\n  boundariesElement = 'viewport',\r\n  padding = 0\r\n) {\r\n  if (placement.indexOf('auto') === -1) {\r\n    return placement;\r\n  }\r\n\r\n  const boundaries = getBoundaries(target, host, padding, boundariesElement);\r\n\r\n  const rects: any = {\r\n    top: {\r\n      width: boundaries.width,\r\n      height: refRect.top - boundaries.top\r\n    },\r\n    right: {\r\n      width: boundaries.right - refRect.right,\r\n      height: boundaries.height\r\n    },\r\n    bottom: {\r\n      width: boundaries.width,\r\n      height: boundaries.bottom - refRect.bottom\r\n    },\r\n    left: {\r\n      width: refRect.left - boundaries.left,\r\n      height: boundaries.height\r\n    }\r\n  };\r\n\r\n  const sortedAreas = Object.keys(rects)\r\n    .map(key => ({\r\n      key,\r\n      ...rects[key],\r\n      area: getArea(rects[key])\r\n    }))\r\n    .sort((a, b) => b.area - a.area);\r\n\r\n  let filteredAreas: any[] = sortedAreas.filter(\r\n    ({ width, height }) =>\r\n      width >= target.clientWidth && height >= target.clientHeight\r\n  );\r\n\r\n  filteredAreas = allowedPositions\r\n    .reduce((obj, key) => {\r\n      return { ...obj, [key]: filteredAreas[key] };\r\n    }, {});\r\n\r\n  const computedPlacement: string = filteredAreas.length > 0\r\n    ? filteredAreas[0].key\r\n    : sortedAreas[0].key;\r\n\r\n  const variation = placement.split(' ')[1];\r\n\r\n  target.className = target.className.replace(/auto/g, computedPlacement);\r\n\r\n  return computedPlacement + (variation ? `-${variation}` : '');\r\n}\r\n","import { Data, Offsets } from '../models';\r\n\r\nexport function getOffsets(data: Data): Offsets {\r\n  return {\r\n    width: data.offsets.target.width,\r\n    height: data.offsets.target.height,\r\n    left: Math.floor(data.offsets.target.left),\r\n    top: Math.round(data.offsets.target.top),\r\n    bottom: Math.round(data.offsets.target.bottom),\r\n    right: Math.floor(data.offsets.target.right)\r\n  };\r\n}\r\n","/**\r\n * Get the opposite placement of the given one\r\n */\r\nexport function getOppositePlacement(placement: string) {\r\n  const hash = { left: 'right', right: 'left', bottom: 'top', top: 'bottom' };\r\n\r\n  return placement.replace(/left|right|bottom|top/g, matched => (hash as any)[matched]);\r\n}\r\n","/**\r\n * Get the opposite placement variation of the given one\r\n */\r\nexport function getOppositeVariation(variation: string) {\r\n  if (variation === 'right') {\r\n    return 'left';\r\n  } else if (variation === 'left') {\r\n    return 'right';\r\n  }\r\n\r\n  return variation;\r\n}\r\n","/**\r\n * Get the outer sizes of the given element (offset size + margins)\r\n */\r\nexport function getOuterSizes(element: any) {\r\n  const window = element.ownerDocument.defaultView;\r\n  const styles = window.getComputedStyle(element);\r\n  const x = parseFloat(styles.marginTop || 0) + parseFloat(styles.marginBottom || 0);\r\n  const y = parseFloat(styles.marginLeft || 0) + parseFloat(styles.marginRight || 0);\r\n\r\n  return {\r\n    width: Number(element.offsetWidth) + y,\r\n    height: Number(element.offsetHeight) + x\r\n  };\r\n}\r\n","/**\r\n * Get offsets to the reference element\r\n */\r\nimport { findCommonOffsetParent } from './findCommonOffsetParent';\r\nimport { getOffsetRectRelativeToArbitraryNode } from './getOffsetRectRelativeToArbitraryNode';\r\nimport { getFixedPositionOffsetParent } from './getFixedPositionOffsetParent';\r\nimport { Offsets } from '../models';\r\n\r\nexport function getReferenceOffsets(\r\n  target: HTMLElement,\r\n  host: HTMLElement,\r\n  fixedPosition: boolean = null\r\n): Offsets {\r\n  const commonOffsetParent = fixedPosition\r\n    ? getFixedPositionOffsetParent(target)\r\n    : findCommonOffsetParent(target, host);\r\n\r\n  return getOffsetRectRelativeToArbitraryNode(host, commonOffsetParent, fixedPosition);\r\n}\r\n","/**\r\n * Get offsets to the target\r\n */\r\nimport { getOppositePlacement } from './getOppositePlacement';\r\nimport { getOuterSizes } from './getOuterSizes';\r\nimport { Offsets } from '../models';\r\n\r\nexport function getTargetOffsets(\r\n  target: HTMLElement,\r\n  hostOffsets: Offsets,\r\n  position: string\r\n): Offsets {\r\n  const placement = position.split(' ')[0];\r\n\r\n  // Get target node sizes\r\n  const targetRect = getOuterSizes(target);\r\n\r\n  // Add position, width and height to our offsets object\r\n  const targetOffsets = {\r\n    width: targetRect.width,\r\n    height: targetRect.height\r\n  };\r\n\r\n  // depending by the target placement we have to compute its offsets slightly differently\r\n  const isHoriz = ['right', 'left'].indexOf(placement) !== -1;\r\n  const mainSide = isHoriz ? 'top' : 'left';\r\n  const secondarySide = isHoriz ? 'left' : 'top';\r\n  const measurement = isHoriz ? 'height' : 'width';\r\n  const secondaryMeasurement = !isHoriz ? 'height' : 'width';\r\n\r\n  (targetOffsets as any)[mainSide] =\r\n    hostOffsets[mainSide] +\r\n    hostOffsets[measurement] / 2 -\r\n    targetRect[measurement] / 2;\r\n\r\n  (targetOffsets as any)[secondarySide] = placement === secondarySide\r\n    ? hostOffsets[secondarySide] - targetRect[secondaryMeasurement]\r\n    : (hostOffsets as any)[getOppositePlacement(secondarySide)];\r\n\r\n  return targetOffsets;\r\n}\r\n","/**\r\n * Helper used to know if the given modifier is enabled.\r\n */\r\nexport function isModifierEnabled(options: any, modifierName: string) {\r\n  return options\r\n    && options.modifiers\r\n    && options.modifiers[modifierName]\r\n    && options.modifiers[modifierName].enabled;\r\n}\r\n","/**\r\n * Tells if a given input is a number\r\n */\r\nexport function isNumeric(n: any) {\r\n  return n !== '' && !isNaN(parseFloat(n)) && isFinite(n);\r\n}\r\n","/**\r\n * Set the style to the given popper\r\n */\r\nimport { Renderer2 } from '@angular/core';\r\n\r\nimport { isNumeric } from './isNumeric';\r\n\r\nexport function setStyles(element: HTMLElement, styles: any, renderer?: Renderer2) {\r\n  Object.keys(styles).forEach((prop: any) => {\r\n    let unit = '';\r\n    // add unit if the value is numeric and is one of the following\r\n    if (['width', 'height', 'top', 'right', 'bottom', 'left'].indexOf(prop) !== -1 &&\r\n      isNumeric(styles[prop])) {\r\n      unit = 'px';\r\n    }\r\n\r\n    if (renderer) {\r\n      renderer.setStyle(element, prop, `${String(styles[prop])}${unit}`);\r\n\r\n      return;\r\n    }\r\n\r\n    element.style[prop] = String(styles[prop]) + unit;\r\n  });\r\n}\r\n","/**\r\n * Set the style to the given popper\r\n */\r\nimport { Renderer2 } from '@angular/core';\r\n\r\nimport { Data } from '../models';\r\nimport { getOffsets } from './getOffsets';\r\nimport { setStyles } from './setStyles';\r\n\r\n\r\nexport function setAllStyles(data: Data, renderer?: Renderer2): void {\r\n  const target = data.instance.target;\r\n\r\n  const offsets = getOffsets(data);\r\n\r\n  setStyles(target, {\r\n    'will-change': 'transform',\r\n    top: '0px',\r\n    left: '0px',\r\n    transform: `translate3d(${offsets.left}px, ${offsets.top}px, 0px)`\r\n  }, renderer);\r\n\r\n  if (data.instance.arrow) {\r\n    setStyles(data.instance.arrow, data.offsets.arrow, renderer);\r\n  }\r\n\r\n  if (data.placementAuto) {\r\n    if (renderer) {\r\n      renderer.setAttribute(target, 'class',\r\n        target.className.replace(/bs-popover-auto/g, `bs-popover-${data.placement}`)\r\n      );\r\n      renderer.setAttribute(target, 'class',\r\n        target.className.replace(/bs-tooltip-auto/g, `bs-tooltip-${data.placement}`)\r\n      );\r\n\r\n      renderer.setAttribute(target, 'class',\r\n        target.className.replace(/\\sauto/g, `\\s${data.placement}`)\r\n      );\r\n\r\n      if (target.className.match(/popover/g)) {\r\n        renderer.addClass(target, 'popover-auto');\r\n      }\r\n\r\n      if (target.className.match(/tooltip/g)) {\r\n        renderer.addClass(target, 'tooltip-auto');\r\n      }\r\n\r\n\r\n    } else {\r\n      target.className = target.className.replace(/bs-popover-auto/g, `bs-popover-${data.placement}`);\r\n      target.className = target.className.replace(/bs-tooltip-auto/g, `bs-tooltip-${data.placement}`);\r\n      target.className = target.className.replace(/\\sauto/g, `\\s${data.placement}`);\r\n\r\n      if (target.className.match(/popover/g)) {\r\n        target.classList.add('popover-auto');\r\n      }\r\n\r\n      if (target.className.match(/tooltip/g)) {\r\n        target.classList.add('tooltip-auto');\r\n      }\r\n    }\r\n  }\r\n\r\n  if (renderer) {\r\n    renderer.setAttribute(target, 'class', target.className.replace(/left|right|top|bottom/g, `${data.placement}`));\r\n  } else {\r\n    target.className = target.className.replace(/left|right|top|bottom/g, `${data.placement}`);\r\n  }\r\n}\r\n","import { getClientRect, getOuterSizes, getStyleComputedProperty } from '../utils';\r\nimport { Data } from '../models';\r\n\r\nexport function arrow(data: Data) {\r\n  let targetOffsets = data.offsets.target;\r\n  // if arrowElement is a string, suppose it's a CSS selector\r\n  const arrowElement: HTMLElement | null = data.instance.target.querySelector('.arrow');\r\n\r\n  // if arrowElement is not found, don't run the modifier\r\n  if (!arrowElement) {\r\n    return data;\r\n  }\r\n\r\n  const isVertical = ['left', 'right'].indexOf(data.placement) !== -1;\r\n\r\n  const len = isVertical ? 'height' : 'width';\r\n  const sideCapitalized = isVertical ? 'Top' : 'Left';\r\n  const side = sideCapitalized.toLowerCase();\r\n  const altSide = isVertical ? 'left' : 'top';\r\n  const opSide = isVertical ? 'bottom' : 'right';\r\n  const arrowElementSize = getOuterSizes(arrowElement)[len];\r\n\r\n  // top/left side\r\n  if (data.offsets.host[opSide] - arrowElementSize < (targetOffsets as any)[side]) {\r\n    (targetOffsets as any)[side] -=\r\n      (targetOffsets as any)[side] - (data.offsets.host[opSide] - arrowElementSize);\r\n  }\r\n  // bottom/right side\r\n  if (Number((data as any).offsets.host[side]) + Number(arrowElementSize) > (targetOffsets as any)[opSide]) {\r\n    (targetOffsets as any)[side] +=\r\n      Number((data as any).offsets.host[side]) + Number(arrowElementSize) - Number((targetOffsets as any)[opSide]);\r\n  }\r\n  targetOffsets = getClientRect(targetOffsets);\r\n\r\n  // compute center of the target\r\n  const center = Number((data as any).offsets.host[side]) + Number(data.offsets.host[len] / 2 - arrowElementSize / 2);\r\n\r\n  // Compute the sideValue using the updated target offsets\r\n  // take target margin in account because we don't have this info available\r\n  const css = getStyleComputedProperty(data.instance.target);\r\n\r\n  const targetMarginSide = parseFloat(css[`margin${sideCapitalized}`]);\r\n  const targetBorderSide = parseFloat(css[`border${sideCapitalized}Width`]);\r\n  let sideValue =\r\n    center - (targetOffsets as any)[side] - targetMarginSide - targetBorderSide;\r\n\r\n  // prevent arrowElement from being placed not contiguously to its target\r\n  sideValue = Math.max(Math.min(targetOffsets[len] - arrowElementSize, sideValue), 0);\r\n\r\n  data.offsets.arrow = {\r\n    [side]: Math.round(sideValue),\r\n    [altSide]: '' // make sure to unset any eventual altSide value from the DOM node\r\n  };\r\n\r\n  data.instance.arrow = arrowElement;\r\n\r\n  return data;\r\n}\r\n","import {\r\n  computeAutoPlacement,\r\n  getBoundaries,\r\n  getClientRect,\r\n  getOppositeVariation,\r\n  getTargetOffsets,\r\n  isModifierEnabled\r\n} from '../utils';\r\n\r\nimport { Data } from '../models';\r\n\r\nexport function flip(data: Data): Data {\r\n  data.offsets.target = getClientRect(data.offsets.target);\r\n\r\n  if (!isModifierEnabled(data.options, 'flip')) {\r\n\r\n    data.offsets.target = {\r\n      ...data.offsets.target,\r\n      ...getTargetOffsets(\r\n        data.instance.target,\r\n        data.offsets.host,\r\n        data.placement\r\n      )\r\n    };\r\n\r\n    return data;\r\n  }\r\n\r\n  const boundaries = getBoundaries(\r\n    data.instance.target,\r\n    data.instance.host,\r\n    0, // padding\r\n    'viewport',\r\n    false // positionFixed\r\n  );\r\n\r\n  let placement = data.placement.split(' ')[0];\r\n  let variation = data.placement.split(' ')[1] || '';\r\n\r\n  const offsetsHost = data.offsets.host;\r\n  const target = data.instance.target;\r\n  const host = data.instance.host;\r\n\r\n  const adaptivePosition = variation\r\n    ? computeAutoPlacement('auto', offsetsHost, target, host, ['top', 'bottom'])\r\n    : computeAutoPlacement('auto', offsetsHost, target, host);\r\n\r\n  const flipOrder = [placement, adaptivePosition];\r\n\r\n  /* tslint:disable-next-line: cyclomatic-complexity */\r\n  flipOrder.forEach((step, index) => {\r\n    if (placement !== step || flipOrder.length === index + 1) {\r\n      return data;\r\n    }\r\n\r\n    placement = data.placement.split(' ')[0];\r\n\r\n    // using floor because the host offsets may contain decimals we are not going to consider here\r\n    const overlapsRef =\r\n      (placement === 'left' &&\r\n        Math.floor(data.offsets.target.right) > Math.floor(data.offsets.host.left)) ||\r\n      (placement === 'right' &&\r\n        Math.floor(data.offsets.target.left) < Math.floor(data.offsets.host.right)) ||\r\n      (placement === 'top' &&\r\n        Math.floor(data.offsets.target.bottom) > Math.floor(data.offsets.host.top)) ||\r\n      (placement === 'bottom' &&\r\n        Math.floor(data.offsets.target.top) < Math.floor(data.offsets.host.bottom));\r\n\r\n    const overflowsLeft = Math.floor(data.offsets.target.left) < Math.floor(boundaries.left);\r\n    const overflowsRight = Math.floor(data.offsets.target.right) > Math.floor(boundaries.right);\r\n    const overflowsTop = Math.floor(data.offsets.target.top) < Math.floor(boundaries.top);\r\n    const overflowsBottom = Math.floor(data.offsets.target.bottom) > Math.floor(boundaries.bottom);\r\n\r\n    const overflowsBoundaries =\r\n      (placement === 'left' && overflowsLeft) ||\r\n      (placement === 'right' && overflowsRight) ||\r\n      (placement === 'top' && overflowsTop) ||\r\n      (placement === 'bottom' && overflowsBottom);\r\n\r\n    // flip the variation if required\r\n    const isVertical = ['top', 'bottom'].indexOf(placement) !== -1;\r\n    const flippedVariation =\r\n      ((isVertical && variation === 'left' && overflowsLeft) ||\r\n        (isVertical && variation === 'right' && overflowsRight) ||\r\n        (!isVertical && variation === 'left' && overflowsTop) ||\r\n        (!isVertical && variation === 'right' && overflowsBottom));\r\n\r\n    if (overlapsRef || overflowsBoundaries || flippedVariation) {\r\n      if (overlapsRef || overflowsBoundaries) {\r\n        placement = flipOrder[index + 1];\r\n      }\r\n\r\n      if (flippedVariation) {\r\n        variation = getOppositeVariation(variation);\r\n      }\r\n\r\n      data.placement = placement + (variation ? ` ${variation}` : '');\r\n\r\n      data.offsets.target = {\r\n        ...data.offsets.target,\r\n        ...getTargetOffsets(\r\n          data.instance.target,\r\n          data.offsets.host,\r\n          data.placement\r\n        )\r\n      };\r\n    }\r\n  });\r\n\r\n  return data;\r\n}\r\n","import {\r\n  computeAutoPlacement,\r\n  getReferenceOffsets,\r\n  getTargetOffsets\r\n} from '../utils';\r\n\r\nimport { Data, Options } from '../models';\r\n\r\nexport function initData(\r\n  targetElement: HTMLElement, hostElement: HTMLElement, position: string, options: Options\r\n): Data {\r\n\r\n  const hostElPosition = getReferenceOffsets(targetElement, hostElement);\r\n  const placementAuto = !!position.match(/auto/g);\r\n\r\n  // support old placements 'auto left|right|top|bottom'\r\n  let placement = !!position.match(/auto\\s(left|right|top|bottom)/g)\r\n    ? position.split(' ')[1] || ''\r\n    : position;\r\n\r\n  const targetOffset = getTargetOffsets(targetElement, hostElPosition, placement);\r\n  placement = computeAutoPlacement(placement, hostElPosition, targetElement, hostElement);\r\n\r\n  return {\r\n    options,\r\n    instance: {\r\n      target: targetElement,\r\n      host: hostElement,\r\n      arrow: null\r\n    },\r\n    offsets: {\r\n      target: targetOffset,\r\n      host: hostElPosition,\r\n      arrow: null\r\n    },\r\n    positionFixed: false,\r\n    placement,\r\n    placementAuto\r\n  };\r\n}\r\n","import { Data } from '../models';\r\nimport {\r\n  getBoundaries,\r\n  getClientRect,\r\n  getTargetOffsets,\r\n  isModifierEnabled\r\n} from '../utils';\r\nexport function preventOverflow(data: Data) {\r\n\r\n  data.offsets.target = getClientRect(data.offsets.target);\r\n\r\n  if (!isModifierEnabled(data.options, 'preventOverflow')) {\r\n\r\n    data.offsets.target = {\r\n      ...data.offsets.target,\r\n      ...getTargetOffsets(\r\n        data.instance.target,\r\n        data.offsets.host,\r\n        data.placement\r\n      )\r\n    };\r\n\r\n    return data;\r\n  }\r\n  // NOTE: DOM access here\r\n  // resets the targetOffsets's position so that the document size can be calculated excluding\r\n  // the size of the targetOffsets element itself\r\n  const transformProp = 'transform';\r\n  const targetStyles = data.instance.target.style; // assignment to help minification\r\n  const { top, left, [transformProp]: transform } = targetStyles;\r\n  targetStyles.top = '';\r\n  targetStyles.left = '';\r\n  targetStyles[transformProp] = '';\r\n\r\n  const boundaries = getBoundaries(\r\n    data.instance.target,\r\n    data.instance.host,\r\n    0, // padding\r\n    'scrollParent',\r\n    false // positionFixed\r\n  );\r\n\r\n  // NOTE: DOM access here\r\n  // restores the original style properties after the offsets have been computed\r\n  targetStyles.top = top;\r\n  targetStyles.left = left;\r\n  targetStyles[transformProp] = transform;\r\n\r\n  const order = ['left', 'right', 'top', 'bottom'];\r\n\r\n  const check = {\r\n    primary(placement: string) {\r\n      let value = (data as any).offsets.target[placement];\r\n      if (\r\n        (data as any).offsets.target[placement] < boundaries[placement] &&\r\n        !false // options.escapeWithReference\r\n      ) {\r\n        value = Math.max((data as any).offsets.target[placement], boundaries[placement]);\r\n      }\r\n\r\n      return { [placement]: value };\r\n    },\r\n    secondary(placement: string) {\r\n      const mainSide = placement === 'right' ? 'left' : 'top';\r\n      let value = data.offsets.target[mainSide];\r\n      if (\r\n        (data as any).offsets.target[placement] > boundaries[placement] &&\r\n        !false // escapeWithReference\r\n      ) {\r\n        value = Math.min(\r\n          data.offsets.target[mainSide],\r\n          boundaries[placement] -\r\n          (placement === 'right' ? data.offsets.target.width : data.offsets.target.height)\r\n        );\r\n      }\r\n\r\n      return { [mainSide]: value };\r\n    }\r\n  };\r\n\r\n  let side: string;\r\n\r\n  order.forEach(placement => {\r\n    side = ['left', 'top']\r\n      .indexOf(placement) !== -1\r\n      ? 'primary'\r\n      : 'secondary';\r\n\r\n    data.offsets.target = { ...data.offsets.target, ...(check as any)[side](placement) };\r\n\r\n  });\r\n\r\n  return data;\r\n}\r\n","import { Data } from '../models';\r\n\r\nexport function shift(data: Data): Data {\r\n  const placement = data.placement;\r\n  const basePlacement = placement.split(' ')[0];\r\n  const shiftvariation = placement.split(' ')[1];\r\n\r\n  if (shiftvariation) {\r\n    const { host, target } = data.offsets;\r\n    const isVertical = ['bottom', 'top'].indexOf(basePlacement) !== -1;\r\n    const side = isVertical ? 'left' : 'top';\r\n    const measurement = isVertical ? 'width' : 'height';\r\n\r\n    const shiftOffsets = {\r\n      left: { [side]: host[side] },\r\n      right: {\r\n        [side]: host[side] + host[measurement] - host[measurement]\r\n      }\r\n    };\r\n\r\n    data.offsets.target = { ...target, ...(shiftOffsets as any)[shiftvariation] };\r\n  }\r\n\r\n  return data;\r\n}\r\n","/**\r\n * @copyright Valor Software\r\n * @copyright Federico Zivolo and contributors\r\n */\r\nimport { Renderer2 } from '@angular/core';\r\n\r\nimport { getReferenceOffsets, setAllStyles } from './utils';\r\n\r\nimport { arrow, flip, preventOverflow, shift, initData } from './modifiers';\r\nimport { Data, Offsets, Options } from './models';\r\n\r\n\r\nexport class Positioning {\r\n  position(hostElement: HTMLElement, targetElement: HTMLElement, round = true): Offsets {\r\n    return this.offset(hostElement, targetElement, false);\r\n  }\r\n\r\n  offset(hostElement: HTMLElement, targetElement: HTMLElement, round = true): Offsets {\r\n    return getReferenceOffsets(targetElement, hostElement);\r\n  }\r\n\r\n  positionElements(\r\n    hostElement: HTMLElement,\r\n    targetElement: HTMLElement,\r\n    position: string,\r\n    appendToBody?: boolean,\r\n    options?: Options\r\n  ): Data {\r\n    const chainOfModifiers = [flip, shift, preventOverflow, arrow];\r\n\r\n    return chainOfModifiers.reduce(\r\n      (modifiedData, modifier) => modifier(modifiedData),\r\n      initData(targetElement, hostElement, position, options)\r\n    );\r\n  }\r\n}\r\n\r\nconst positionService = new Positioning();\r\n\r\nexport function positionElements(\r\n  hostElement: HTMLElement,\r\n  targetElement: HTMLElement,\r\n  placement: string,\r\n  appendToBody?: boolean,\r\n  options?: Options,\r\n  renderer?: Renderer2\r\n): void {\r\n\r\n  const data = positionService.positionElements(\r\n    hostElement,\r\n    targetElement,\r\n    placement,\r\n    appendToBody,\r\n    options\r\n  );\r\n\r\n  setAllStyles(data, renderer);\r\n}\r\n","import { Injectable, ElementRef, RendererFactory2, Inject, PLATFORM_ID } from '@angular/core';\r\nimport { isPlatformBrowser } from '@angular/common';\r\n\r\nimport { positionElements } from './ng-positioning';\r\n\r\nimport { fromEvent, merge, of, animationFrameScheduler, Subject } from 'rxjs';\r\nimport { Options } from './models';\r\n\r\n\r\nexport interface PositioningOptions {\r\n  /** The DOM element, ElementRef, or a selector string of an element which will be moved */\r\n  element?: HTMLElement | ElementRef | string;\r\n\r\n  /** The DOM element, ElementRef, or a selector string of an element which the element will be attached to  */\r\n  target?: HTMLElement | ElementRef | string;\r\n\r\n  /**\r\n   * A string of the form 'vert-attachment horiz-attachment' or 'placement'\r\n   * - placement can be \"top\", \"bottom\", \"left\", \"right\"\r\n   * not yet supported:\r\n   * - vert-attachment can be any of 'top', 'middle', 'bottom'\r\n   * - horiz-attachment can be any of 'left', 'center', 'right'\r\n   */\r\n  attachment?: string;\r\n\r\n  /** A string similar to `attachment`. The one difference is that, if it's not provided,\r\n   * `targetAttachment` will assume the mirror image of `attachment`.\r\n   */\r\n  targetAttachment?: string;\r\n\r\n  /** A string of the form 'vert-offset horiz-offset'\r\n   * - vert-offset and horiz-offset can be of the form \"20px\" or \"55%\"\r\n   */\r\n  offset?: string;\r\n\r\n  /** A string similar to `offset`, but referring to the offset of the target */\r\n  targetOffset?: string;\r\n\r\n  /** If true component will be attached to body */\r\n  appendToBody?: boolean;\r\n}\r\n\r\n\r\n@Injectable()\r\nexport class PositioningService {\r\n  options: Options;\r\n  private update$$ = new Subject<null>();\r\n  private positionElements = new Map();\r\n\r\n  constructor(\r\n    rendererFactory: RendererFactory2,\r\n    @Inject(PLATFORM_ID) platformId: number\r\n  ) {\r\n    if (isPlatformBrowser(platformId)) {\r\n      merge(\r\n        fromEvent(window, 'scroll'),\r\n        fromEvent(window, 'resize'),\r\n        of(0, animationFrameScheduler),\r\n        this.update$$\r\n      )\r\n        .subscribe(() => {\r\n          this.positionElements\r\n            .forEach((positionElement: PositioningOptions) => {\r\n              positionElements(\r\n                _getHtmlElement(positionElement.target),\r\n                _getHtmlElement(positionElement.element),\r\n                positionElement.attachment,\r\n                positionElement.appendToBody,\r\n                this.options,\r\n                rendererFactory.createRenderer(null, null)\r\n              );\r\n            });\r\n        });\r\n    }\r\n  }\r\n\r\n  position(options: PositioningOptions): void {\r\n    this.addPositionElement(options);\r\n    this.update$$.next();\r\n  }\r\n\r\n  addPositionElement(options: PositioningOptions): void {\r\n    this.positionElements.set(_getHtmlElement(options.element), options);\r\n  }\r\n\r\n  deletePositionElement(elRef: ElementRef): void {\r\n    this.positionElements.delete(_getHtmlElement(elRef));\r\n  }\r\n\r\n  setOptions(options: Options) {\r\n    this.options = options;\r\n  }\r\n}\r\n\r\nfunction _getHtmlElement(element: HTMLElement | ElementRef | string): HTMLElement {\r\n  // it means that we got a selector\r\n  if (typeof element === 'string') {\r\n    return document.querySelector(element);\r\n  }\r\n\r\n  if (element instanceof ElementRef) {\r\n    return element.nativeElement;\r\n  }\r\n\r\n  return element;\r\n}\r\n"],"names":["runIsIE","Subject","isPlatformBrowser","merge","fromEvent","of","animationFrameScheduler","Injectable","RendererFactory2","Inject","PLATFORM_ID","ElementRef"],"mappings":"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"}
