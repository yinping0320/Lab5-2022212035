!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@fullcalendar/core"),require("@fullcalendar/daygrid"),require("@fullcalendar/timegrid"),require("@fullcalendar/interaction"),require("rxjs"),require("@angular/core"),require("@farris/ui-locale"),require("@farris/ui-common")):"function"==typeof define&&define.amd?define("@farris/ui-calendar",["exports","@fullcalendar/core","@fullcalendar/daygrid","@fullcalendar/timegrid","@fullcalendar/interaction","rxjs","@angular/core","@farris/ui-locale","@farris/ui-common"],t):t((e.farris=e.farris||{},e.farris["ui-calendar"]={}),e.core,e.dayGridPlugin,e.timeGrigPlugin,e.interactionPlugin,e.rxjs,e.ng.core,e.i1,e.uiCommon)}(this,function(e,t,n,r,i,a,o,p,u){"use strict";function s(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||0<t--)&&!(r=a.next()).done;)o.push(r.value)}catch(p){i={error:p}}finally{try{r&&!r.done&&(n=a["return"])&&n.call(a)}finally{if(i)throw i.error}}return o}n=n&&n.hasOwnProperty("default")?n["default"]:n,r=r&&r.hasOwnProperty("default")?r["default"]:r,i=i&&i.hasOwnProperty("default")?i["default"]:i;var l=Object.prototype.hasOwnProperty,y=Array.isArray,d=Object.keys,v=Object.prototype.hasOwnProperty;function c(e){return Array.isArray(e)?e.map(c):e instanceof Date?new Date(e.valueOf()):"object"==typeof e&&e?function i(e,t){var n={};for(var r in e)l.call(e,r)&&(n[r]=t(e[r],r));return n}(e,c):e}function f(e,t){if(e===t)return!0;if(e&&t&&"object"==typeof e&&"object"==typeof t){var n,r=y(e),i=y(t),a=void 0,o=void 0;if(r&&i){if((n=e.length)!=t.length)return!1;for(a=n;0!=a--;)if(!f(e[a],t[a]))return!1;return!0}if(r!=i)return!1;var p=e instanceof Date,u=t instanceof Date;if(p!=u)return!1;if(p&&u)return e.getTime()==t.getTime();var s=e instanceof RegExp,l=t instanceof RegExp;if(s!=l)return!1;if(s&&l)return e.toString()==t.toString();var c=d(e);if((n=c.length)!==d(t).length)return!1;for(a=n;0!=a--;)if(!v.call(t,c[a]))return!1;for(a=n;0!=a--;)if(!f(e[o=c[a]],t[o]))return!1;return!0}return e!=e&&t!=t}var I=["header","footer","customButtons","buttonIcons","themeSystem","bootstrapFontAwesome","firstDay","dir","weekends","hiddenDays","fixedWeekCount","weekNumbers","weekNumbersWithinDays","weekNumberCalculation","businessHours","showNonCurrentDates","height","contentHeight","aspectRatio","handleWindowResize","windowResizeDelay","eventLimit","eventLimitClick","timeZone","now","defaultView","allDaySlot","allDayText","slotDuration","slotLabelFormat","slotLabelInterval","snapDuration","scrollTime","minTime","maxTime","slotEventOverlap","listDayFormat","listDayAltFormat","noEventsMessage","defaultDate","nowIndicator","visibleRange","validRange","dateIncrement","dateAlignment","duration","dayCount","locales","locale","eventTimeFormat","columnHeader","columnHeaderFormat","columnHeaderText","columnHeaderHtml","titleFormat","weekLabel","displayEventTime","displayEventEnd","eventLimitText","dayPopoverFormat","navLinks","selectable","selectMirror","selectMinDistance","unselectAuto","unselectCancel","defaultAllDayEventDuration","defaultTimedEventDuration","cmdFormatter","defaultRangeSeparator","selectConstraint","selectOverlap","selectAllow","editable","eventStartEditable","eventDurationEditable","eventConstraint","eventOverlap","eventAllow","eventClassName","eventClassNames","eventBackgroundColor","eventBorderColor","eventTextColor","eventColor","events","eventSources","allDayDefault","startParam","endParam","lazyFetching","nextDayThreshold","eventOrder","rerenderDelay","dragRevertDuration","dragScroll","longPressDelay","eventLongPressDelay","droppable","dropAccept","eventDataTransform","allDayMaintainDuration","eventResizableFromStart","timeGridEventMinHeight","allDayHtml","eventDragMinDistance","eventSourceFailure","eventSourceSuccess","forceEventDuration","progressiveEventRendering","selectLongPressDelay","selectMinDistance","timeZoneParam","titleRangeSeparator","buttonText","views","plugins","schedulerLicenseKey","resources","resourceLabelText","resourceOrder","filterResourcesWithEvents","resourceText","resourceGroupField","resourceGroupText","resourceAreaWidth","resourceColumns","resourcesInitiallyExpanded","slotWidth","datesAboveResources","googleCalendarApiKey","refetchResourcesOnNavigate","eventResourceEditable"],m={header:!0,footer:!0,events:!0,eventSources:!0,resources:!0},h=["windowResize","dateClick","eventClick","navLinkDayClick","navLinkWeekClick","eventMouseEnter","eventMouseLeave","select","unselect","loading","eventPositioned","eventDragStart","eventDragStop","eventDrop","eventResizeStart","eventResizeStop","eventResize","drop","eventReceive","eventLeave","_destroyed","viewSkeletonRender","viewSkeletonDestroy","datesRender","datesDestroy","dayRender","eventRender","eventDestroy","resourceRender"],g=(D.prototype.getLocaleConfig=function(){var e=this.localeService.getValue("locale");return e&&this.localeConfig[e]?this.localeConfig[e]:this.localeConfig.ZH_CN},D.decorators=[{type:o.Injectable,args:[{providedIn:"root"}]}],D.ctorParameters=function(){return[{type:p.LocaleService}]},D.ngInjectableDef=o.defineInjectable({factory:function(){return new D(o.inject(p.LocaleService))},token:D,providedIn:"root"}),D);function D(e){this.localeService=e,this.localeConfig={ZH_CN:{locale:"zh-cn",buttonText:{today:"今天",month:"月",week:"周",day:"天",listWeek:"列表"},allDayText:"全天",noEventsMessage:"没数据啊",eventLimitText:"更多",weekNumberTitle:"周",firstDay:1},EN_US:{locale:"en"}}}var E=(w.prototype.getDefaultConfig=function(){return Object.assign(this.defaultConfig,this.localeService.getLocaleConfig())},w.decorators=[{type:o.Injectable,args:[{providedIn:"root"}]}],w.ctorParameters=function(){return[{type:g}]},w.ngInjectableDef=o.defineInjectable({factory:function(){return new w(o.inject(g))},token:w,providedIn:"root"}),w);function w(e){this.localeService=e,this.defaultConfig={header:{left:"prevYear,prev,next,nextYear today",center:"title",right:"dayGridMonth,timeGridWeek,timeGridDay,listWeek"},navLinks:!0,editable:!0,selectable:!0,defaultView:"dayGridMonth",eventLimit:!0,plugins:[n,r,i]}}var C=(Object.defineProperty(b.prototype,"events",{get:function(){return this._events},set:function(e){var t=this;e instanceof a.Observable?e.subscribe(function(e){t._events=e}):this._events=e},enumerable:!0,configurable:!0}),b.prototype.ngAfterViewInit=function(){this.calendar=new t.Calendar(this.element.nativeElement,Object.assign({},this.configService.getDefaultConfig(),this.buildOptions())),this.calendar.render(),this.element&&this.farrisInstances&&this.farrisInstances.add(this.element.nativeElement,this)},b.prototype.buildOptions=function(){var a=this,n={};return h.forEach(function(i){n[i]=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];(e=a[i]).emit.apply(e,function r(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(s(arguments[t]));return e}(t))}}),I.forEach(function(e){var t=a[e];t!==undefined&&("header"===e&&(t=Object.assign({},a.configService.getDefaultConfig().header,t)),a.deepChangeDetection&&m[e]&&(t=c(t),a.deepCopies[e]=t),n[e]=t)}),n},b.prototype.ngDoCheck=function(){if(this.calendar&&this.deepChangeDetection){var e=this.deepCopies;for(var t in m)if(m.hasOwnProperty(t)){var n=this[t];if(n!==undefined&&!f(n,e[t])){var r=c(n);e[t]=r,this.dirtyProps[t]=r}}}},b.prototype.ngOnChanges=function(e){var n=this;if(this.calendar){var t=function(t){e.hasOwnProperty(t)&&r.deepCopies[t]===undefined&&(e[t].currentValue instanceof a.Observable?e[t].currentValue.subscribe(function(e){n.dirtyProps[t]=e}):r.dirtyProps[t]=e[t].currentValue)},r=this;for(var i in e)t(i)}},b.prototype.ngAfterContentChecked=function(){var e=this.dirtyProps;0<Object.keys(e).length&&(this.dirtyProps={},this.calendar.mutateOptions(e,[],!1,f))},b.prototype.ngOnDestroy=function(){this.calendar&&this.calendar.destroy(),this.calendar=null},b.prototype.getApi=function(){return this.calendar},b.prototype.render=function(){this.calendar.render()},b.decorators=[{type:o.Component,args:[{selector:"farris-calendar",template:"",changeDetection:o.ChangeDetectionStrategy.OnPush,encapsulation:o.ViewEncapsulation.None,styles:[""]}]}],b.ctorParameters=function(){return[{type:o.ElementRef},{type:E},{type:o.Injector}]},b.propDecorators={deepChangeDetection:[{type:o.Input}],header:[{type:o.Input}],footer:[{type:o.Input}],customButtons:[{type:o.Input}],buttonIcons:[{type:o.Input}],themeSystem:[{type:o.Input}],bootstrapFontAwesome:[{type:o.Input}],firstDay:[{type:o.Input}],dir:[{type:o.Input}],weekends:[{type:o.Input}],hiddenDays:[{type:o.Input}],fixedWeekCount:[{type:o.Input}],weekNumbers:[{type:o.Input}],weekNumbersWithinDays:[{type:o.Input}],weekNumberCalculation:[{type:o.Input}],businessHours:[{type:o.Input}],showNonCurrentDates:[{type:o.Input}],height:[{type:o.Input}],contentHeight:[{type:o.Input}],aspectRatio:[{type:o.Input}],handleWindowResize:[{type:o.Input}],windowResizeDelay:[{type:o.Input}],eventLimit:[{type:o.Input}],eventLimitClick:[{type:o.Input}],timeZone:[{type:o.Input}],now:[{type:o.Input}],defaultView:[{type:o.Input}],allDaySlot:[{type:o.Input}],allDayText:[{type:o.Input}],slotDuration:[{type:o.Input}],slotLabelFormat:[{type:o.Input}],slotLabelInterval:[{type:o.Input}],snapDuration:[{type:o.Input}],scrollTime:[{type:o.Input}],minTime:[{type:o.Input}],maxTime:[{type:o.Input}],slotEventOverlap:[{type:o.Input}],listDayFormat:[{type:o.Input}],listDayAltFormat:[{type:o.Input}],noEventsMessage:[{type:o.Input}],defaultDate:[{type:o.Input}],nowIndicator:[{type:o.Input}],visibleRange:[{type:o.Input}],validRange:[{type:o.Input}],dateIncrement:[{type:o.Input}],dateAlignment:[{type:o.Input}],duration:[{type:o.Input}],dayCount:[{type:o.Input}],locales:[{type:o.Input}],locale:[{type:o.Input}],eventTimeFormat:[{type:o.Input}],columnHeader:[{type:o.Input}],columnHeaderFormat:[{type:o.Input}],columnHeaderText:[{type:o.Input}],columnHeaderHtml:[{type:o.Input}],titleFormat:[{type:o.Input}],weekLabel:[{type:o.Input}],displayEventTime:[{type:o.Input}],displayEventEnd:[{type:o.Input}],eventLimitText:[{type:o.Input}],dayPopoverFormat:[{type:o.Input}],navLinks:[{type:o.Input}],navLinkWeekClick:[{type:o.Input}],selectable:[{type:o.Input}],selectMirror:[{type:o.Input}],unselectAuto:[{type:o.Input}],unselectCancel:[{type:o.Input}],defaultAllDayEventDuration:[{type:o.Input}],defaultTimedEventDuration:[{type:o.Input}],cmdFormatter:[{type:o.Input}],defaultRangeSeparator:[{type:o.Input}],selectConstraint:[{type:o.Input}],selectOverlap:[{type:o.Input}],selectAllow:[{type:o.Input}],selectMinDistance:[{type:o.Input}],editable:[{type:o.Input}],eventStartEditable:[{type:o.Input}],eventDurationEditable:[{type:o.Input}],eventConstraint:[{type:o.Input}],eventOverlap:[{type:o.Input}],eventAllow:[{type:o.Input}],eventClassName:[{type:o.Input}],eventClassNames:[{type:o.Input}],eventBackgroundColor:[{type:o.Input}],eventBorderColor:[{type:o.Input}],eventTextColor:[{type:o.Input}],eventColor:[{type:o.Input}],events:[{type:o.Input}],eventSources:[{type:o.Input}],allDayDefault:[{type:o.Input}],startParam:[{type:o.Input}],endParam:[{type:o.Input}],lazyFetching:[{type:o.Input}],nextDayThreshold:[{type:o.Input}],eventOrder:[{type:o.Input}],rerenderDelay:[{type:o.Input}],dragRevertDuration:[{type:o.Input}],dragScroll:[{type:o.Input}],longPressDelay:[{type:o.Input}],eventLongPressDelay:[{type:o.Input}],droppable:[{type:o.Input}],dropAccept:[{type:o.Input}],eventDataTransform:[{type:o.Input}],allDayMaintainDuration:[{type:o.Input}],eventResizableFromStart:[{type:o.Input}],timeGridEventMinHeight:[{type:o.Input}],allDayHtml:[{type:o.Input}],eventDragMinDistance:[{type:o.Input}],eventSourceFailure:[{type:o.Input}],eventSourceSuccess:[{type:o.Input}],forceEventDuration:[{type:o.Input}],progressiveEventRendering:[{type:o.Input}],selectLongPressDelay:[{type:o.Input}],timeZoneParam:[{type:o.Input}],titleRangeSeparator:[{type:o.Input}],buttonText:[{type:o.Input}],views:[{type:o.Input}],plugins:[{type:o.Input}],schedulerLicenseKey:[{type:o.Input}],resources:[{type:o.Input}],resourceLabelText:[{type:o.Input}],resourceOrder:[{type:o.Input}],filterResourcesWithEvents:[{type:o.Input}],resourceText:[{type:o.Input}],resourceGroupField:[{type:o.Input}],resourceGroupText:[{type:o.Input}],resourceAreaWidth:[{type:o.Input}],resourceColumns:[{type:o.Input}],resourcesInitiallyExpanded:[{type:o.Input}],slotWidth:[{type:o.Input}],datesAboveResources:[{type:o.Input}],googleCalendarApiKey:[{type:o.Input}],refetchResourcesOnNavigate:[{type:o.Input}],eventResourceEditable:[{type:o.Input}],navLinkDayClick:[{type:o.Output}],windowResize:[{type:o.Output}],dateClick:[{type:o.Output}],eventClick:[{type:o.Output}],eventMouseEnter:[{type:o.Output}],eventMouseLeave:[{type:o.Output}],select:[{type:o.Output}],unselect:[{type:o.Output}],loading:[{type:o.Output}],eventPositioned:[{type:o.Output}],eventDragStart:[{type:o.Output}],eventDragStop:[{type:o.Output}],eventDrop:[{type:o.Output}],eventResizeStart:[{type:o.Output}],eventResizeStop:[{type:o.Output}],eventResize:[{type:o.Output}],drop:[{type:o.Output}],eventReceive:[{type:o.Output}],eventLeave:[{type:o.Output}],_destroyed:[{type:o.Output}],viewSkeletonRender:[{type:o.Output}],viewSkeletonDestroy:[{type:o.Output}],datesRender:[{type:o.Output}],datesDestroy:[{type:o.Output}],dayRender:[{type:o.Output}],eventRender:[{type:o.Output}],eventDestroy:[{type:o.Output}],resourceRender:[{type:o.Output}]},b);function b(e,t,n){this.element=e,this.configService=t,this.injector=n,this.navLinkDayClick=new o.EventEmitter,this.windowResize=new o.EventEmitter,this.dateClick=new o.EventEmitter,this.eventClick=new o.EventEmitter,this.eventMouseEnter=new o.EventEmitter,this.eventMouseLeave=new o.EventEmitter,this.select=new o.EventEmitter,this.unselect=new o.EventEmitter,this.loading=new o.EventEmitter,this.eventPositioned=new o.EventEmitter,this.eventDragStart=new o.EventEmitter,this.eventDragStop=new o.EventEmitter,this.eventDrop=new o.EventEmitter,this.eventResizeStart=new o.EventEmitter,this.eventResizeStop=new o.EventEmitter,this.eventResize=new o.EventEmitter,this.drop=new o.EventEmitter,this.eventReceive=new o.EventEmitter,this.eventLeave=new o.EventEmitter,this._destroyed=new o.EventEmitter,this.viewSkeletonRender=new o.EventEmitter,this.viewSkeletonDestroy=new o.EventEmitter,this.datesRender=new o.EventEmitter,this.datesDestroy=new o.EventEmitter,this.dayRender=new o.EventEmitter,this.eventRender=new o.EventEmitter,this.eventDestroy=new o.EventEmitter,this.resourceRender=new o.EventEmitter,this.dirtyProps={},this.deepCopies={},this.farrisInstances=null,this.farrisInstances=this.injector.get(u.FarrisComponentInstanceService,null)}var O=(S.decorators=[{type:o.NgModule,args:[{declarations:[C],imports:[p.LocaleModule,u.FarrisCommonModule],exports:[C]}]}],S);function S(){}e.CalendarComponent=C,e.CalendarModule=O,e.CalendarLocaleService=g,e.DefaultConfigService=E,e.INPUT_NAMES=I,e.INPUT_IS_DEEP=m,e.OUTPUT_NAMES=h,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=farris-ui-calendar.umd.min.js.map