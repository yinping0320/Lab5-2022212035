/**
 * @fileoverview added by tsickle
 * Generated from: lib/components/page-header/page-header.component.ts
 * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { Component, Input, Output, EventEmitter, ContentChild } from '@angular/core';
import { Observable, Subject } from 'rxjs';
import { FEPageHeaderDefault } from '../../models/page-header.model';
import { FEPageHeaderContentDirective, FEPageHeaderDownDirective, FEPageHeaderTitleDirective } from '../../directives/index';
import { FExtendUtils } from '../../models/utils';
export class FEPageHeaderComponent {
    constructor() {
        this._settings = Object.assign({}, FEPageHeaderDefault);
        this.realToolbarDatas = [];
        // 展示类型
        this.showType = "modal";
        this.btnDisable = new Subject();
        this.btnVisible = new Subject();
        // 事件
        this.pgPreClickEvent = new EventEmitter();
        this.pgNextClickEvent = new EventEmitter();
        this.toolbarClickEvent = new EventEmitter();
        this.viewChangeEvent = new EventEmitter();
    }
    /**
     * @param {?} settings
     * @return {?}
     */
    set options(settings) {
        if (settings) {
            this._settings = Object.assign({}, FEPageHeaderDefault, settings);
            this.realToolbarDatas = this._settings['toolbarDatas'];
        }
    }
    /**
     * @return {?}
     */
    get options() {
        return this._settings;
    }
    // 按钮的禁用状态
    /**
     * @param {?} values
     * @return {?}
     */
    set toolbarBtnDisable(values) {
        this.btnDisable = values;
    }
    // 按钮的查看状态
    /**
     * @param {?} values
     * @return {?}
     */
    set toolbarBtnVisible(values) {
        this.btnVisible = values;
    }
    /**
     * @return {?}
     */
    ngOnInit() {
    }
    // 变化
    /**
     * @param {?} changes
     * @return {?}
     */
    ngOnChanges(changes) {
        if (changes.hasOwnProperty('toolbarAllDatas') || changes.hasOwnProperty('toolbarConfig') || changes.hasOwnProperty('showType')) {
            if (this.toolbarKey && this.toolbarConfig && this.toolbarAllDatas) {
                this.realToolbarDatas = [...FExtendUtils.formToolbarData(this.toolbarAllDatas, this.toolbarConfig, this.toolbarKey, this.showType)];
            }
        }
    }
    // 向上翻页
    /**
     * @param {?} ev
     * @return {?}
     */
    pgPreClickHandler(ev) {
        if (!this.options['pgPreDisabled']) {
            this.pgPreClickEvent.emit(ev);
        }
    }
    // 向下翻页
    /**
     * @param {?} ev
     * @return {?}
     */
    pgNextClickHandler(ev) {
        if (!this.options['pgNextDisabled']) {
            this.pgNextClickEvent.emit(ev);
        }
    }
    // 抛出事件
    /**
     * @param {?} ev
     * @return {?}
     */
    responseToolbarClickHandler(ev) {
        this.toolbarClickEvent.emit(ev);
    }
    // View改变
    /**
     * @param {?} ev
     * @return {?}
     */
    toolTypeChangeHandler(ev) {
        this.viewChangeEvent.emit(ev);
    }
}
FEPageHeaderComponent.decorators = [
    { type: Component, args: [{
                selector: 'fe-page-header',
                template: `
  <div class="f-page-header"  [ngClass]="'showtype-'+showType">
  <nav class="f-page-header-base">
      <ng-container *ngIf="hTitleDirective &&hTitleDirective.templateRef">
          <div class="f-title" [ngClass]="hTitleDirective.cls">
              <ng-template [ngTemplateOutlet]="hTitleDirective.templateRef"></ng-template>
          </div>
      </ng-container>
      <div class="f-title" *ngIf="!hTitleDirective">
          <span *ngIf="options['showIcon']" class="f-title-icon" [ngClass]="options['iconCls']">
              <i class="f-icon" [ngClass]="options['iconName']"></i>
          </span>
          <h4 class="f-title-text" [innerHTML]="options['mainTitle']|feSafeHtml"></h4>
          <h5 *ngIf="options['subTitle']" class="f-title-subtitle" [innerHTML]="options['subTitle']|feSafeHtml"></h5>
          <div *ngIf="options['status']" class="f-title-status" [innerHTML]="options['status']|feSafeHtml">
          </div>
          <div class="f-title-pagination" *ngIf="options['pgShow']">
              <span class="f-icon f-icon-arrow-w" [ngClass]="{'f-state-disabled':options['pgPreDisabled']}"
                  (click)="pgPreClickHandler($event)"></span>
              <span class="f-icon f-icon-arrow-e" [ngClass]="{'f-state-disabled':options['pgNextDisabled']}"
                  (click)="pgNextClickHandler($event)"></span>
          </div>
      </div>
      <ng-container *ngIf="hContentDirective &&hContentDirective.templateRef">
          <div class="f-content" [ngClass]="hContentDirective.cls">
              <ng-template [ngTemplateOutlet]="hContentDirective.templateRef"></ng-template>
          </div>
      </ng-container>
      <ng-container *ngIf="options['content']&&!hContentDirective" >
          <div class="f-content"  [innerHTML]="options['content']|feSafeHtml"></div>
      </ng-container>
      <ng-container *ngIf="realToolbarDatas.length>0">
          <f-response-toolbar class="f-toolbar ml-auto" [ngClass]="options['toolbarCls']" [datas]="realToolbarDatas"
          [btnState]="btnDisable" [btnVisible]="btnVisible"  [buttonSize]="options['toolbarBtnSize']=='default'?'':options['toolbarBtnSize']" [popDirection]="options['toolbarPopDirection']=='default'?'':options['toolbarPopDirection']"
              (rtClickEvent)="responseToolbarClickHandler($event)">
          </f-response-toolbar>
      </ng-container>
      <ng-container *ngIf="options['showViewChange']&&options['viewDatas'].length">
          <farris-view-change [toolbarData]="options['viewDatas']" class="f-btn-ml" [viewType]="options['viewType']"
              [defaultType]="options['viewDefaultType']" [viewGroupId]="options['viewGroupId']"
              (toolTypeChange)="toolTypeChangeHandler($event)"></farris-view-change>
      </ng-container>
  </nav>
  <ng-container *ngIf="hExtendDirective &&  hExtendDirective.templateRef">
      <div class="f-content" [ngClass]="hExtendDirective.cls">
          <ng-template [ngTemplateOutlet]="hExtendDirective.templateRef"></ng-template>
      </div>
  </ng-container>
  <div class="f-page-header-extend" *ngIf="options['extend']&&!hExtendDirective"  [innerHTML]="options['extend']|feSafeHtml">
  </div>
</div>
  `
            }] }
];
/** @nocollapse */
FEPageHeaderComponent.ctorParameters = () => [];
FEPageHeaderComponent.propDecorators = {
    options: [{ type: Input }],
    toolbarAllDatas: [{ type: Input }],
    toolbarConfig: [{ type: Input }],
    toolbarKey: [{ type: Input }],
    showType: [{ type: Input }],
    hContentDirective: [{ type: ContentChild, args: [FEPageHeaderContentDirective,] }],
    hExtendDirective: [{ type: ContentChild, args: [FEPageHeaderDownDirective,] }],
    hTitleDirective: [{ type: ContentChild, args: [FEPageHeaderTitleDirective,] }],
    toolbarBtnDisable: [{ type: Input }],
    toolbarBtnVisible: [{ type: Input }],
    pgPreClickEvent: [{ type: Output }],
    pgNextClickEvent: [{ type: Output }],
    toolbarClickEvent: [{ type: Output }],
    viewChangeEvent: [{ type: Output }]
};
if (false) {
    /**
     * @type {?}
     * @private
     */
    FEPageHeaderComponent.prototype._settings;
    /** @type {?} */
    FEPageHeaderComponent.prototype.realToolbarDatas;
    /** @type {?} */
    FEPageHeaderComponent.prototype.toolbarAllDatas;
    /** @type {?} */
    FEPageHeaderComponent.prototype.toolbarConfig;
    /** @type {?} */
    FEPageHeaderComponent.prototype.toolbarKey;
    /** @type {?} */
    FEPageHeaderComponent.prototype.showType;
    /** @type {?} */
    FEPageHeaderComponent.prototype.hContentDirective;
    /** @type {?} */
    FEPageHeaderComponent.prototype.hExtendDirective;
    /** @type {?} */
    FEPageHeaderComponent.prototype.hTitleDirective;
    /** @type {?} */
    FEPageHeaderComponent.prototype.btnDisable;
    /** @type {?} */
    FEPageHeaderComponent.prototype.btnVisible;
    /** @type {?} */
    FEPageHeaderComponent.prototype.pgPreClickEvent;
    /** @type {?} */
    FEPageHeaderComponent.prototype.pgNextClickEvent;
    /** @type {?} */
    FEPageHeaderComponent.prototype.toolbarClickEvent;
    /** @type {?} */
    FEPageHeaderComponent.prototype.viewChangeEvent;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicGFnZS1oZWFkZXIuY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6Im5nOi8vQGZhcnJpcy9leHRlbmQtaGVhZGVyLWZvb3Rlci8iLCJzb3VyY2VzIjpbImxpYi9jb21wb25lbnRzL3BhZ2UtaGVhZGVyL3BhZ2UtaGVhZGVyLmNvbXBvbmVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7OztBQUFBLE9BQU8sRUFBRSxTQUFTLEVBQVUsS0FBSyxFQUFFLE1BQU0sRUFBRSxZQUFZLEVBQWEsWUFBWSxFQUE0QixNQUFNLGVBQWUsQ0FBQztBQUVsSSxPQUFPLEVBQUUsVUFBVSxFQUFFLE9BQU8sRUFBRSxNQUFNLE1BQU0sQ0FBQztBQUMzQyxPQUFPLEVBQUMsbUJBQW1CLEVBQUMsTUFBTSxnQ0FBZ0MsQ0FBQztBQUNuRSxPQUFPLEVBQUMsNEJBQTRCLEVBQUMseUJBQXlCLEVBQUMsMEJBQTBCLEVBQUMsTUFBTSx3QkFBd0IsQ0FBQztBQUN6SCxPQUFPLEVBQUUsWUFBWSxFQUFFLE1BQU0sb0JBQW9CLENBQUM7QUEwRGxELE1BQU0sT0FBTyxxQkFBcUI7SUE0QzlCO1FBM0NNLGNBQVMsR0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLEVBQUUsRUFBQyxtQkFBbUIsQ0FBQyxDQUFDO1FBQ3hELHFCQUFnQixHQUFDLEVBQUUsQ0FBQzs7UUFlWCxhQUFRLEdBQUMsT0FBTyxDQUFDO1FBUTFCLGVBQVUsR0FBMkIsSUFBSSxPQUFPLEVBQUUsQ0FBQztRQUNuRCxlQUFVLEdBQTJCLElBQUksT0FBTyxFQUFFLENBQUM7O1FBWXpDLG9CQUFlLEdBQXNCLElBQUksWUFBWSxFQUFPLENBQUM7UUFDN0QscUJBQWdCLEdBQXNCLElBQUksWUFBWSxFQUFPLENBQUM7UUFDOUQsc0JBQWlCLEdBQTRDLElBQUksWUFBWSxFQUVsRixDQUFDO1FBQ0ksb0JBQWUsR0FBc0IsSUFBSSxZQUFZLEVBQU8sQ0FBQztJQUNyRCxDQUFDOzs7OztJQXpDbkIsSUFDSSxPQUFPLENBQUMsUUFBZTtR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SUFDTixnREFBdUUiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb21wb25lbnQsIE9uSW5pdCwgSW5wdXQsIE91dHB1dCwgRXZlbnRFbWl0dGVyLCBWaWV3Q2hpbGQsIENvbnRlbnRDaGlsZCwgT25DaGFuZ2VzLCBTaW1wbGVDaGFuZ2VzIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBSZXNwb25zZVRvb2xiYXJDbGlja0V2ZW50IH0gZnJvbSAnQGZhcnJpcy91aS1yZXNwb25zZS10b29sYmFyJztcbmltcG9ydCB7IE9ic2VydmFibGUsIFN1YmplY3QgfSBmcm9tICdyeGpzJztcbmltcG9ydCB7RkVQYWdlSGVhZGVyRGVmYXVsdH0gZnJvbSAnLi4vLi4vbW9kZWxzL3BhZ2UtaGVhZGVyLm1vZGVsJztcbmltcG9ydCB7RkVQYWdlSGVhZGVyQ29udGVudERpcmVjdGl2ZSxGRVBhZ2VIZWFkZXJEb3duRGlyZWN0aXZlLEZFUGFnZUhlYWRlclRpdGxlRGlyZWN0aXZlfSBmcm9tICcuLi8uLi9kaXJlY3RpdmVzL2luZGV4JztcbmltcG9ydCB7IEZFeHRlbmRVdGlscyB9IGZyb20gJy4uLy4uL21vZGVscy91dGlscyc7XG5cbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogJ2ZlLXBhZ2UtaGVhZGVyJyxcbiAgdGVtcGxhdGU6IGBcbiAgPGRpdiBjbGFzcz1cImYtcGFnZS1oZWFkZXJcIiAgW25nQ2xhc3NdPVwiJ3Nob3d0eXBlLScrc2hvd1R5cGVcIj5cbiAgPG5hdiBjbGFzcz1cImYtcGFnZS1oZWFkZXItYmFzZVwiPlxuICAgICAgPG5nLWNvbnRhaW5lciAqbmdJZj1cImhUaXRsZURpcmVjdGl2ZSAmJmhUaXRsZURpcmVjdGl2ZS50ZW1wbGF0ZVJlZlwiPlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJmLXRpdGxlXCIgW25nQ2xhc3NdPVwiaFRpdGxlRGlyZWN0aXZlLmNsc1wiPlxuICAgICAgICAgICAgICA8bmctdGVtcGxhdGUgW25nVGVtcGxhdGVPdXRsZXRdPVwiaFRpdGxlRGlyZWN0aXZlLnRlbXBsYXRlUmVmXCI+PC9uZy10ZW1wbGF0ZT5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgIDwvbmctY29udGFpbmVyPlxuICAgICAgPGRpdiBjbGFzcz1cImYtdGl0bGVcIiAqbmdJZj1cIiFoVGl0bGVEaXJlY3RpdmVcIj5cbiAgICAgICAgICA8c3BhbiAqbmdJZj1cIm9wdGlvbnNbJ3Nob3dJY29uJ11cIiBjbGFzcz1cImYtdGl0bGUtaWNvblwiIFtuZ0NsYXNzXT1cIm9wdGlvbnNbJ2ljb25DbHMnXVwiPlxuICAgICAgICAgICAgICA8aSBjbGFzcz1cImYtaWNvblwiIFtuZ0NsYXNzXT1cIm9wdGlvbnNbJ2ljb25OYW1lJ11cIj48L2k+XG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIDxoNCBjbGFzcz1cImYtdGl0bGUtdGV4dFwiIFtpbm5lckhUTUxdPVwib3B0aW9uc1snbWFpblRpdGxlJ118ZmVTYWZlSHRtbFwiPjwvaDQ+XG4gICAgICAgICAgPGg1ICpuZ0lmPVwib3B0aW9uc1snc3ViVGl0bGUnXVwiIGNsYXNzPVwiZi10aXRsZS1zdWJ0aXRsZVwiIFtpbm5lckhUTUxdPVwib3B0aW9uc1snc3ViVGl0bGUnXXxmZVNhZmVIdG1sXCI+PC9oNT5cbiAgICAgICAgICA8ZGl2ICpuZ0lmPVwib3B0aW9uc1snc3RhdHVzJ11cIiBjbGFzcz1cImYtdGl0bGUtc3RhdHVzXCIgW2lubmVySFRNTF09XCJvcHRpb25zWydzdGF0dXMnXXxmZVNhZmVIdG1sXCI+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cImYtdGl0bGUtcGFnaW5hdGlvblwiICpuZ0lmPVwib3B0aW9uc1sncGdTaG93J11cIj5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJmLWljb24gZi1pY29uLWFycm93LXdcIiBbbmdDbGFzc109XCJ7J2Ytc3RhdGUtZGlzYWJsZWQnOm9wdGlvbnNbJ3BnUHJlRGlzYWJsZWQnXX1cIlxuICAgICAgICAgICAgICAgICAgKGNsaWNrKT1cInBnUHJlQ2xpY2tIYW5kbGVyKCRldmVudClcIj48L3NwYW4+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZi1pY29uIGYtaWNvbi1hcnJvdy1lXCIgW25nQ2xhc3NdPVwieydmLXN0YXRlLWRpc2FibGVkJzpvcHRpb25zWydwZ05leHREaXNhYmxlZCddfVwiXG4gICAgICAgICAgICAgICAgICAoY2xpY2spPVwicGdOZXh0Q2xpY2tIYW5kbGVyKCRldmVudClcIj48L3NwYW4+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxuZy1jb250YWluZXIgKm5nSWY9XCJoQ29udGVudERpcmVjdGl2ZSAmJmhDb250ZW50RGlyZWN0aXZlLnRlbXBsYXRlUmVmXCI+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cImYtY29udGVudFwiIFtuZ0NsYXNzXT1cImhDb250ZW50RGlyZWN0aXZlLmNsc1wiPlxuICAgICAgICAgICAgICA8bmctdGVtcGxhdGUgW25nVGVtcGxhdGVPdXRsZXRdPVwiaENvbnRlbnREaXJlY3RpdmUudGVtcGxhdGVSZWZcIj48L25nLXRlbXBsYXRlPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgPC9uZy1jb250YWluZXI+XG4gICAgICA8bmctY29udGFpbmVyICpuZ0lmPVwib3B0aW9uc1snY29udGVudCddJiYhaENvbnRlbnREaXJlY3RpdmVcIiA+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cImYtY29udGVudFwiICBbaW5uZXJIVE1MXT1cIm9wdGlvbnNbJ2NvbnRlbnQnXXxmZVNhZmVIdG1sXCI+PC9kaXY+XG4gICAgICA8L25nLWNvbnRhaW5lcj5cbiAgICAgIDxuZy1jb250YWluZXIgKm5nSWY9XCJyZWFsVG9vbGJhckRhdGFzLmxlbmd0aD4wXCI+XG4gICAgICAgICAgPGYtcmVzcG9uc2UtdG9vbGJhciBjbGFzcz1cImYtdG9vbGJhciBtbC1hdXRvXCIgW25nQ2xhc3NdPVwib3B0aW9uc1sndG9vbGJhckNscyddXCIgW2RhdGFzXT1cInJlYWxUb29sYmFyRGF0YXNcIlxuICAgICAgICAgIFtidG5TdGF0ZV09XCJidG5EaXNhYmxlXCIgW2J0blZpc2libGVdPVwiYnRuVmlzaWJsZVwiICBbYnV0dG9uU2l6ZV09XCJvcHRpb25zWyd0b29sYmFyQnRuU2l6ZSddPT0nZGVmYXVsdCc/Jyc6b3B0aW9uc1sndG9vbGJhckJ0blNpemUnXVwiIFtwb3BEaXJlY3Rpb25dPVwib3B0aW9uc1sndG9vbGJhclBvcERpcmVjdGlvbiddPT0nZGVmYXVsdCc/Jyc6b3B0aW9uc1sndG9vbGJhclBvcERpcmVjdGlvbiddXCJcbiAgICAgICAgICAgICAgKHJ0Q2xpY2tFdmVudCk9XCJyZXNwb25zZVRvb2xiYXJDbGlja0hhbmRsZXIoJGV2ZW50KVwiPlxuICAgICAgICAgIDwvZi1yZXNwb25zZS10b29sYmFyPlxuICAgICAgPC9uZy1jb250YWluZXI+XG4gICAgICA8bmctY29udGFpbmVyICpuZ0lmPVwib3B0aW9uc1snc2hvd1ZpZXdDaGFuZ2UnXSYmb3B0aW9uc1sndmlld0RhdGFzJ10ubGVuZ3RoXCI+XG4gICAgICAgICAgPGZhcnJpcy12aWV3LWNoYW5nZSBbdG9vbGJhckRhdGFdPVwib3B0aW9uc1sndmlld0RhdGFzJ11cIiBjbGFzcz1cImYtYnRuLW1sXCIgW3ZpZXdUeXBlXT1cIm9wdGlvbnNbJ3ZpZXdUeXBlJ11cIlxuICAgICAgICAgICAgICBbZGVmYXVsdFR5cGVdPVwib3B0aW9uc1sndmlld0RlZmF1bHRUeXBlJ11cIiBbdmlld0dyb3VwSWRdPVwib3B0aW9uc1sndmlld0dyb3VwSWQnXVwiXG4gICAgICAgICAgICAgICh0b29sVHlwZUNoYW5nZSk9XCJ0b29sVHlwZUNoYW5nZUhhbmRsZXIoJGV2ZW50KVwiPjwvZmFycmlzLXZpZXctY2hhbmdlPlxuICAgICAgPC9uZy1jb250YWluZXI+XG4gIDwvbmF2PlxuICA8bmctY29udGFpbmVyICpuZ0lmPVwiaEV4dGVuZERpcmVjdGl2ZSAmJiAgaEV4dGVuZERpcmVjdGl2ZS50ZW1wbGF0ZVJlZlwiPlxuICAgICAgPGRpdiBjbGFzcz1cImYtY29udGVudFwiIFtuZ0NsYXNzXT1cImhFeHRlbmREaXJlY3RpdmUuY2xzXCI+XG4gICAgICAgICAgPG5nLXRlbXBsYXRlIFtuZ1RlbXBsYXRlT3V0bGV0XT1cImhFeHRlbmREaXJlY3RpdmUudGVtcGxhdGVSZWZcIj48L25nLXRlbXBsYXRlPlxuICAgICAgPC9kaXY+XG4gIDwvbmctY29udGFpbmVyPlxuICA8ZGl2IGNsYXNzPVwiZi1wYWdlLWhlYWRlci1leHRlbmRcIiAqbmdJZj1cIm9wdGlvbnNbJ2V4dGVuZCddJiYhaEV4dGVuZERpcmVjdGl2ZVwiICBbaW5uZXJIVE1MXT1cIm9wdGlvbnNbJ2V4dGVuZCddfGZlU2FmZUh0bWxcIj5cbiAgPC9kaXY+XG48L2Rpdj5cbiAgYCxcbiAgc3R5bGVzOiBbXVxufSlcbmV4cG9ydCBjbGFzcyBGRVBhZ2VIZWFkZXJDb21wb25lbnQgaW1wbGVtZW50cyBPbkluaXQsT25DaGFuZ2VzIHtcbiBwcml2YXRlICBfc2V0dGluZ3M9T2JqZWN0LmFzc2lnbih7fSxGRVBhZ2VIZWFkZXJEZWZhdWx0KTtcbiAgcmVhbFRvb2xiYXJEYXRhcz1bXTtcbiAgQElucHV0KCkgXG4gIHNldCBvcHRpb25zKHNldHRpbmdzOk9iamVjdCl7XG4gICAgaWYoc2V0dGluZ3Mpe1xuICAgICAgdGhpcy5fc2V0dGluZ3M9T2JqZWN0LmFzc2lnbih7fSxGRVBhZ2VIZWFkZXJEZWZhdWx0LHNldHRpbmdzKTtcbiAgICAgIHRoaXMucmVhbFRvb2xiYXJEYXRhcz10aGlzLl9zZXR0aW5nc1sndG9vbGJhckRhdGFzJ107XG4gICAgfVxuICB9XG4gIGdldCBvcHRpb25zKCl7XG4gICAgICByZXR1cm4gdGhpcy5fc2V0dGluZ3M7XG4gIH1cbiAgQElucHV0KCkgdG9vbGJhckFsbERhdGFzO1xuICBASW5wdXQoKSB0b29sYmFyQ29uZmlnO1xuICBASW5wdXQoKSB0b29sYmFyS2V5O1xuICAvLyDlsZXnpLrnsbvlnotcbiAgQElucHV0KCkgc2hvd1R5cGU9XCJtb2RhbFwiO1xuICAvLyBoZWFkZXIgY29udGVudOeahOaooeadv1xuICBAQ29udGVudENoaWxkKEZFUGFnZUhlYWRlckNvbnRlbnREaXJlY3RpdmUpIGhDb250ZW50RGlyZWN0aXZlOmFueTtcbiAgLy8gaGVhZGVyIOaJqeWxleWMuueahOaooeadv1xuICBAQ29udGVudENoaWxkKEZFUGFnZUhlYWRlckRvd25EaXJlY3RpdmUpIGhFeHRlbmREaXJlY3RpdmU6YW55O1xuICAvLyDmoIfpopjljLrln5/mianlsZXnmoTmqKHmnb9cbiAgQENvbnRlbnRDaGlsZChGRVBhZ2VIZWFkZXJUaXRsZURpcmVjdGl2ZSkgaFRpdGxlRGlyZWN0aXZlOmFueTtcblxuICBidG5EaXNhYmxlOiBPYnNlcnZhYmxlPEFycmF5PGFueT4+ID0gbmV3IFN1YmplY3QoKTtcbiAgYnRuVmlzaWJsZTogT2JzZXJ2YWJsZTxBcnJheTxhbnk+PiA9IG5ldyBTdWJqZWN0KCk7XG4gIC8vIOaMiemSrueahOemgeeUqOeKtuaAgVxuICBASW5wdXQoKVxuICBzZXQgdG9vbGJhckJ0bkRpc2FibGUodmFsdWVzOiBPYnNlcnZhYmxlPEFycmF5PGFueT4+KSB7XG4gICAgICB0aGlzLmJ0bkRpc2FibGUgPSB2YWx1ZXM7XG4gIH1cbiAgLy8g5oyJ6ZKu55qE5p+l55yL54q25oCBXG4gIEBJbnB1dCgpXG4gIHNldCB0b29sYmFyQnRuVmlzaWJsZSh2YWx1ZXM6IE9ic2VydmFibGU8QXJyYXk8YW55Pj4pIHtcbiAgICAgIHRoaXMuYnRuVmlzaWJsZSA9IHZhbHVlcztcbiAgfVxuICAvLyDkuovku7ZcbiAgQE91dHB1dCgpIHBnUHJlQ2xpY2tFdmVudDogRXZlbnRFbWl0dGVyPGFueT4gPSBuZXcgRXZlbnRFbWl0dGVyPGFueT4oKTtcbiAgQE91dHB1dCgpIHBnTmV4dENsaWNrRXZlbnQ6IEV2ZW50RW1pdHRlcjxhbnk+ID0gbmV3IEV2ZW50RW1pdHRlcjxhbnk+KCk7XG4gIEBPdXRwdXQoKSB0b29sYmFyQ2xpY2tFdmVudDogRXZlbnRFbWl0dGVyPFJlc3BvbnNlVG9vbGJhckNsaWNrRXZlbnQ+ID0gbmV3IEV2ZW50RW1pdHRlcjxcbiAgICAgICAgUmVzcG9uc2VUb29sYmFyQ2xpY2tFdmVudFxuICAgID4oKTtcbiAgQE91dHB1dCgpIHZpZXdDaGFuZ2VFdmVudDogRXZlbnRFbWl0dGVyPGFueT4gPSBuZXcgRXZlbnRFbWl0dGVyPGFueT4oKTtcbiAgICBjb25zdHJ1Y3RvcigpIHsgfVxuICBuZ09uSW5pdCgpIHtcbiAgfVxuICAgLy8g5Y+Y5YyWXG4gIG5nT25DaGFuZ2VzKGNoYW5nZXM6U2ltcGxlQ2hhbmdlcyl7XG4gICAgICBpZihjaGFuZ2VzLmhhc093blByb3BlcnR5KCd0b29sYmFyQWxsRGF0YXMnKXx8Y2hhbmdlcy5oYXNPd25Qcm9wZXJ0eSgndG9vbGJhckNvbmZpZycpfHxjaGFuZ2VzLmhhc093blByb3BlcnR5KCdzaG93VHlwZScpKXtcbiAgICAgICAgaWYodGhpcy50b29sYmFyS2V5JiZ0aGlzLnRvb2xiYXJDb25maWcmJnRoaXMudG9vbGJhckFsbERhdGFzKXtcbiAgICAgICAgICB0aGlzLnJlYWxUb29sYmFyRGF0YXM9Wy4uLkZFeHRlbmRVdGlscy5mb3JtVG9vbGJhckRhdGEodGhpcy50b29sYmFyQWxsRGF0YXMsdGhpcy50b29sYmFyQ29uZmlnLHRoaXMudG9vbGJhcktleSx0aGlzLnNob3dUeXBlKV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgfVxuXG4gIC8vIOWQkeS4iue/u+mhtVxuICBwZ1ByZUNsaWNrSGFuZGxlcihldikge1xuICAgIGlmICghdGhpcy5vcHRpb25zWydwZ1ByZURpc2FibGVkJ10pIHtcbiAgICAgIHRoaXMucGdQcmVDbGlja0V2ZW50LmVtaXQoZXYpO1xuICAgIH1cbiAgfVxuICAvLyDlkJHkuIvnv7vpobVcbiAgcGdOZXh0Q2xpY2tIYW5kbGVyKGV2KSB7XG4gICAgaWYgKCF0aGlzLm9wdGlvbnNbJ3BnTmV4dERpc2FibGVkJ10pIHtcbiAgICAgIHRoaXMucGdOZXh0Q2xpY2tFdmVudC5lbWl0KGV2KTtcbiAgICB9XG4gIH1cbiAgLy8g5oqb5Ye65LqL5Lu2XG4gIHJlc3BvbnNlVG9vbGJhckNsaWNrSGFuZGxlcihldil7XG4gICAgdGhpcy50b29sYmFyQ2xpY2tFdmVudC5lbWl0KGV2KTtcbiAgfVxuICAvLyBWaWV35pS55Y+YXG4gIHRvb2xUeXBlQ2hhbmdlSGFuZGxlcihldil7XG4gICAgdGhpcy52aWV3Q2hhbmdlRXZlbnQuZW1pdChldik7XG4gIH1cbiAgXG59XG4iXX0=