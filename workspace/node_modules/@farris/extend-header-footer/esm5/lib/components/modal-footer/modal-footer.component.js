/**
 * @fileoverview added by tsickle
 * Generated from: lib/components/modal-footer/modal-footer.component.ts
 * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import * as tslib_1 from "tslib";
import { Component, Input, ContentChild, HostBinding, Output, EventEmitter } from '@angular/core';
import { Observable, Subject } from 'rxjs';
import { FEModalFooterDefault } from '../../models/modal-footer.model';
import { FEModalFooterUpDirective, FEModalFooterLeftDirective, FEModalFooterRightDirective } from '../../directives/index';
import { FExtendUtils } from '../../models/utils';
var FEModalFooterComponent = /** @class */ (function () {
    function FEModalFooterComponent() {
        // 设置默认样式
        this.cls = true;
        this.realToolbarDatas = [];
        this._settings = Object.assign({}, FEModalFooterDefault);
        // 展示类型 modal 窗口，sidebar，空是 普通,
        this.showType = "modal";
        this.toolbarClickEvent = new EventEmitter();
        this.btnDisable = new Subject();
        this.btnVisible = new Subject();
    }
    Object.defineProperty(FEModalFooterComponent.prototype, "options", {
        get: /**
         * @return {?}
         */
        function () {
            return this._settings;
        },
        set: /**
         * @param {?} settings
         * @return {?}
         */
        function (settings) {
            if (settings) {
                this._settings = Object.assign({}, FEModalFooterDefault, settings);
                this.realToolbarDatas = this._settings['toolbarDatas'];
            }
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(FEModalFooterComponent.prototype, "toolbarBtnDisable", {
        // 按钮的禁用状态
        set: 
        // 按钮的禁用状态
        /**
         * @param {?} values
         * @return {?}
         */
        function (values) {
            this.btnDisable = values;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(FEModalFooterComponent.prototype, "toolbarBtnVisible", {
        // 按钮的查看状态
        set: 
        // 按钮的查看状态
        /**
         * @param {?} values
         * @return {?}
         */
        function (values) {
            this.btnVisible = values;
        },
        enumerable: true,
        configurable: true
    });
    /**
     * @return {?}
     */
    FEModalFooterComponent.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
    };
    // 变化
    // 变化
    /**
     * @param {?} changes
     * @return {?}
     */
    FEModalFooterComponent.prototype.ngOnChanges = 
    // 变化
    /**
     * @param {?} changes
     * @return {?}
     */
    function (changes) {
        if (changes.hasOwnProperty('toolbarAllDatas') || changes.hasOwnProperty('toolbarConfig') || changes.hasOwnProperty('showType')) {
            if (this.toolbarKey && this.toolbarConfig && this.toolbarAllDatas) {
                this.realToolbarDatas = tslib_1.__spread(FExtendUtils.formToolbarData(this.toolbarAllDatas, this.toolbarConfig, this.toolbarKey, this.showType));
            }
        }
    };
    // 抛出事件
    // 抛出事件
    /**
     * @param {?} ev
     * @return {?}
     */
    FEModalFooterComponent.prototype.responseToolbarClickHandler = 
    // 抛出事件
    /**
     * @param {?} ev
     * @return {?}
     */
    function (ev) {
        this.toolbarClickEvent.emit(ev);
    };
    // 显示内容
    // 显示内容
    /**
     * @return {?}
     */
    FEModalFooterComponent.prototype.isFooterShow = 
    // 显示内容
    /**
     * @return {?}
     */
    function () {
        if (this.mfExtendDirective || this.mfLeftDirective || this.options['extendLeft'] || this.realToolbarDatas.length > 0 || this.mfRightDirective || this.options['extendRight']) {
            return true;
        }
        return false;
    };
    FEModalFooterComponent.decorators = [
        { type: Component, args: [{
                    selector: 'fe-modal-footer',
                    template: "\n   <div class=\"fe-modal-footer-wrapper\" [ngClass]=\"'showtype-'+showType\" *ngIf=\"isFooterShow()\">\n    <ng-container *ngIf=\"mfExtendDirective&&mfExtendDirective.templateRef\">\n      <div class=\"f-top\"  [ngClass]=\"mfExtendDirective.cls\">\n        <ng-template [ngTemplateOutlet]=\"mfExtendDirective.templateRef\"></ng-template>\n      </div>\n    </ng-container>\n    <div class=\"fe-modal-footer-base no-gutters\">\n      <ng-container *ngIf=\"mfLeftDirective&&mfLeftDirective.templateRef\">\n          <div class=\"f-left\"  [ngClass]=\"mfLeftDirective.cls\">\n            <ng-template [ngTemplateOutlet]=\"mfLeftDirective.templateRef\"></ng-template>\n          </div>\n      </ng-container> \n      <div class=\"f-left\" *ngIf=\"!mfLeftDirective&&options['extendLeft']\"  [innerHTML]=\"options['extendLeft']|feSafeHtml\">\n      </div>\n      <ng-container *ngIf=\"realToolbarDatas.length>0\">\n          <f-response-toolbar class=\"f-toolbar ml-auto\" [ngClass]=\"options['toolbarCls']\" [datas]=\"realToolbarDatas\"\n              [btnState]=\"btnDisable\" [btnVisible]=\"btnVisible\" [buttonSize]=\"options['toolbarBtnSize']\"\n              (rtClickEvent)=\"responseToolbarClickHandler($event)\" [popDirection]=\"options['toolbarPopDirection']\">\n          </f-response-toolbar>\n      </ng-container>\n      <ng-container *ngIf=\"mfRightDirective&&mfRightDirective.templateRef\">\n          <div class=\"f-right\"  [ngClass]=\"mfRightDirective.cls\">\n            <ng-template [ngTemplateOutlet]=\"mfRightDirective.templateRef\"></ng-template>\n          </div>\n      </ng-container> \n      <div class=\"f-right\" *ngIf=\"!mfRightDirective&&options['extendRight']\"  [innerHTML]=\"options['extendRight']|feSafeHtml\">\n      </div>\n    </div>   \n   </div>\n  ",
                    styles: [""]
                }] }
    ];
    /** @nocollapse */
    FEModalFooterComponent.ctorParameters = function () { return []; };
    FEModalFooterComponent.propDecorators = {
        cls: [{ type: HostBinding, args: ['class.fe-cmp-modal-footer',] }],
        options: [{ type: Input }],
        toolbarAllDatas: [{ type: Input }],
        toolbarConfig: [{ type: Input }],
        toolbarKey: [{ type: Input }],
        showType: [{ type: Input }],
        mfExtendDirective: [{ type: ContentChild, args: [FEModalFooterUpDirective,] }],
        mfLeftDirective: [{ type: ContentChild, args: [FEModalFooterLeftDirective,] }],
        mfRightDirective: [{ type: ContentChild, args: [FEModalFooterRightDirective,] }],
        toolbarClickEvent: [{ type: Output }],
        toolbarBtnDisable: [{ type: Input }],
        toolbarBtnVisible: [{ type: Input }]
    };
    return FEModalFooterComponent;
}());
export { FEModalFooterComponent };
if (false) {
    /** @type {?} */
    FEModalFooterComponent.prototype.cls;
    /** @type {?} */
    FEModalFooterComponent.prototype.realToolbarDatas;
    /**
     * @type {?}
     * @private
     */
    FEModalFooterComponent.prototype._settings;
    /** @type {?} */
    FEModalFooterComponent.prototype.toolbarAllDatas;
    /** @type {?} */
    FEModalFooterComponent.prototype.toolbarConfig;
    /** @type {?} */
    FEModalFooterComponent.prototype.toolbarKey;
    /** @type {?} */
    FEModalFooterComponent.prototype.showType;
    /** @type {?} */
    FEModalFooterComponent.prototype.mfExtendDirective;
    /** @type {?} */
    FEModalFooterComponent.prototype.mfLeftDirective;
    /** @type {?} */
    FEModalFooterComponent.prototype.mfRightDirective;
    /** @type {?} */
    FEModalFooterComponent.prototype.toolbarClickEvent;
    /** @type {?} */
    FEModalFooterComponent.prototype.btnDisable;
    /** @type {?} */
    FEModalFooterComponent.prototype.btnVisible;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9kYWwtZm9vdGVyLmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiJuZzovL0BmYXJyaXMvZXh0ZW5kLWhlYWRlci1mb290ZXIvIiwic291cmNlcyI6WyJsaWIvY29tcG9uZW50cy9tb2RhbC1mb290ZXIvbW9kYWwtZm9vdGVyLmNvbXBvbmVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxPQUFPLEVBQUUsU0FBUyxFQUFVLEtBQUssRUFBRSxZQUFZLEVBQUUsV0FBVyxFQUFFLE1BQU0sRUFBRSxZQUFZLEVBQTRCLE1BQU0sZUFBZSxDQUFDO0FBRXBJLE9BQU8sRUFBRSxVQUFVLEVBQUUsT0FBTyxFQUFtQixNQUFNLE1BQU0sQ0FBQztBQUM1RCxPQUFPLEVBQUUsb0JBQW9CLEVBQUUsTUFBTSxpQ0FBaUMsQ0FBQztBQUN2RSxPQUFPLEVBQUUsd0JBQXdCLEVBQUUsMEJBQTBCLEVBQUUsMkJBQTJCLEVBQUUsTUFBTSx3QkFBd0IsQ0FBQztBQUMzSCxPQUFPLEVBQUMsWUFBWSxFQUFDLE1BQU0sb0JBQW9CLENBQUM7QUFFaEQ7SUErRUU7O1FBMUMwQyxRQUFHLEdBQUcsSUFBSSxDQUFDO1FBQ3JELHFCQUFnQixHQUFDLEVBQUUsQ0FBQztRQUNaLGNBQVMsR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDLEVBQUUsRUFBRSxvQkFBb0IsQ0FBQyxDQUFDOztRQWdCbkQsYUFBUSxHQUFDLE9BQU8sQ0FBQztRQVFoQixzQkFBaUIsR0FBNEMsSUFBSSxZQUFZLEVBRXRGLENBQUM7UUFDRixlQUFVLEdBQTJCLElBQUksT0FBTyxFQUFFLENBQUM7UUFDbkQsZUFBVSxHQUEyQixJQUFJLE9BQU8sRUFBRSxDQUFDO0lBWW5DLENBQUM7SUF2Q2pCLHNCQUNJLDJDQUFPOzs7O1FBTVg7WUFDRSxPQUFPLElBQUksQ0FBQyxTQUFTLENBQUM7UUFDeEIsQ0FBQzs7Ozs7UUFURCxVQUNZLFFBQWdCO1lBQzFCLElBQUksUUFBUSxFQUFFO2dCQUNaLElBQUksQ0FBQyxTQUFTLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQyxFQUFFLEVBQUUsb0JBQW9CLEVBQUUsUUFBUSxDQUFDLENBQUM7Z0JBQ25FLElBQUksQ0FBQyxnQkFBZ0IsR0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLGNBQWMsQ0FBQyxDQUFDO2FBQ3REO1FBQ0gsQ0FBQzs7O09BQUE7SUF1QkQsc0JBQ0kscURBQWlCO1FBRnJCLFVBQVU7Ozs7Ozs7UUFDVixVQUNzQixNQUE4QjtZQUNoRCxJQUFJLENBQUMsVUFBVSxHQUFHLE1BQU0sQ0FBQztRQUM3QixDQUFDOzs7T0FBQTtJQUVELHNCQUNJLHFEQUFpQjtRQUZyQixVQUFVOzs7Ozs7O1FBQ1YsVUFDc0IsTUFBOEI7WUFDaEQsSUFBSSxDQUFDLFVBQVUsR0FBRyxNQUFNLENBQUM7UUFDN0IsQ0FBQzs7O09BQUE7Ozs7SUFJRCx5Q0FBUTs7O0lBQVI7SUFDQSxDQUFDO0lBQ0QsS0FBSzs7Ozs7O0lBQ0wsNENBQVc7Ozs7OztJQUFYLFVBQVksT0FBcUI7UUFDL0IsSUFBRyxPQUFPLENBQUMsY0FBYyxDQUFDLGlCQUFpQixDQUFDLElBQUUsT0FBTyxDQUFDLGNBQWMsQ0FBQyxlQUFlLENBQUMsSUFBRSxPQUFPLENBQUMsY0FBYyxDQUFDLFVBQVUsQ0FBQyxFQUFDO1lBQ3hILElBQUcsSUFBSSxDQUFDLFVBQVUsSUFBRSxJQUFJLENBQUMsYUFBYSxJQUFFLElBQUksQ0FBQyxlQUFlLEVBQUM7Z0JBQzNELElBQUksQ0FBQyxnQkFBZ0Isb0JBQUssWUFBWSxDQUFDLGVBQWUsQ0FBQyxJQUFJLENBQUMsZUFBZSxFQUFDLElBQUksQ0FBQyxhQUFhLEVBQUMsSUFBSSxDQUFDLFVBQVUsRUFBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQzthQUNoSTtTQUNGO0lBQ0wsQ0FBQztJQUNDLE9BQU87Ozs7OztJQUNQLDREQUEyQjs7Ozs7O0lBQTNCLFVBQTRCLEVBQUU7UUFDNUIsSUFBSSxDQUFDLGlCQUFpQixDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQztJQUNsQyxDQUFDO0lBQ0QsT0FBTzs7Ozs7SUFDUCw2Q0FBWTs7Ozs7SUFBWjtRQUVFLElBQUcsSUFBSSxDQUFDLGlCQUFpQixJQUFFLElBQUksQ0FBQyxlQUFlLElBQUUsSUFBSSxDQUFDLE9BQU8sQ0FBQyxZQUFZLENBQUMsSUFBRSxJQUFJLENBQUMsZ0JBQWdCLENBQUMsTUFBTSxHQUFDLENBQUMsSUFBRSxJQUFJLENBQUMsZ0JBQWdCLElBQUUsSUFBSSxDQUFDLE9BQU8sQ0FBQyxhQUFhLENBQUMsRUFBQztZQUM1SixPQUFPLElBQUksQ0FBQztTQUNmO1FBQ0QsT0FBTyxLQUFLLENBQUM7SUFDZixDQUFDOztnQkF0R0YsU0FBUyxTQUFDO29CQUNULFFBQVEsRUFBRSxpQkFBaUI7b0JBQzNCLFFBQVEsRUFBRSwydkRBOEJUOztpQkFFRjs7Ozs7c0JBR0UsV0FBVyxTQUFDLDJCQUEyQjswQkFHdkMsS0FBSztrQ0FVTCxLQUFLO2dDQUNMLEtBQUs7NkJBQ0wsS0FBSzsyQkFHTCxLQUFLO29DQUdMLFlBQVksU0FBQyx3QkFBd0I7a0NBRXJDLFlBQVksU0FBQywwQkFBMEI7bUNBRXZDLFlBQVksU0FBQywyQkFBMkI7b0NBQ3hDLE1BQU07b0NBTU4sS0FBSztvQ0FLTCxLQUFLOztJQTZCUiw2QkFBQztDQUFBLEFBdkdELElBdUdDO1NBcEVZLHNCQUFzQjs7O0lBRWpDLHFDQUFxRDs7SUFDckQsa0RBQW9COzs7OztJQUNwQiwyQ0FBNEQ7O0lBVzVELGlEQUF5Qjs7SUFDekIsK0NBQXVCOztJQUN2Qiw0Q0FBb0I7O0lBR3BCLDBDQUEwQjs7SUFHMUIsbURBQStEOztJQUUvRCxpREFBK0Q7O0lBRS9ELGtEQUFpRTs7SUFDakUsbURBRUU7O0lBQ0YsNENBQW1EOztJQUNuRCw0Q0FBbUQiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb21wb25lbnQsIE9uSW5pdCwgSW5wdXQsIENvbnRlbnRDaGlsZCwgSG9zdEJpbmRpbmcsIE91dHB1dCwgRXZlbnRFbWl0dGVyLCBTaW1wbGVDaGFuZ2VzLCBPbkNoYW5nZXMgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IFJlc3BvbnNlVG9vbGJhckNsaWNrRXZlbnQgfSBmcm9tICdAZmFycmlzL3VpLXJlc3BvbnNlLXRvb2xiYXInO1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSwgU3ViamVjdCwgQmVoYXZpb3JTdWJqZWN0IH0gZnJvbSAncnhqcyc7XG5pbXBvcnQgeyBGRU1vZGFsRm9vdGVyRGVmYXVsdCB9IGZyb20gJy4uLy4uL21vZGVscy9tb2RhbC1mb290ZXIubW9kZWwnO1xuaW1wb3J0IHsgRkVNb2RhbEZvb3RlclVwRGlyZWN0aXZlLCBGRU1vZGFsRm9vdGVyTGVmdERpcmVjdGl2ZSwgRkVNb2RhbEZvb3RlclJpZ2h0RGlyZWN0aXZlIH0gZnJvbSAnLi4vLi4vZGlyZWN0aXZlcy9pbmRleCc7XG5pbXBvcnQge0ZFeHRlbmRVdGlsc30gZnJvbSAnLi4vLi4vbW9kZWxzL3V0aWxzJztcblxuQENvbXBvbmVudCh7XG4gIHNlbGVjdG9yOiAnZmUtbW9kYWwtZm9vdGVyJyxcbiAgdGVtcGxhdGU6IGBcbiAgIDxkaXYgY2xhc3M9XCJmZS1tb2RhbC1mb290ZXItd3JhcHBlclwiIFtuZ0NsYXNzXT1cIidzaG93dHlwZS0nK3Nob3dUeXBlXCIgKm5nSWY9XCJpc0Zvb3RlclNob3coKVwiPlxuICAgIDxuZy1jb250YWluZXIgKm5nSWY9XCJtZkV4dGVuZERpcmVjdGl2ZSYmbWZFeHRlbmREaXJlY3RpdmUudGVtcGxhdGVSZWZcIj5cbiAgICAgIDxkaXYgY2xhc3M9XCJmLXRvcFwiICBbbmdDbGFzc109XCJtZkV4dGVuZERpcmVjdGl2ZS5jbHNcIj5cbiAgICAgICAgPG5nLXRlbXBsYXRlIFtuZ1RlbXBsYXRlT3V0bGV0XT1cIm1mRXh0ZW5kRGlyZWN0aXZlLnRlbXBsYXRlUmVmXCI+PC9uZy10ZW1wbGF0ZT5cbiAgICAgIDwvZGl2PlxuICAgIDwvbmctY29udGFpbmVyPlxuICAgIDxkaXYgY2xhc3M9XCJmZS1tb2RhbC1mb290ZXItYmFzZSBuby1ndXR0ZXJzXCI+XG4gICAgICA8bmctY29udGFpbmVyICpuZ0lmPVwibWZMZWZ0RGlyZWN0aXZlJiZtZkxlZnREaXJlY3RpdmUudGVtcGxhdGVSZWZcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiZi1sZWZ0XCIgIFtuZ0NsYXNzXT1cIm1mTGVmdERpcmVjdGl2ZS5jbHNcIj5cbiAgICAgICAgICAgIDxuZy10ZW1wbGF0ZSBbbmdUZW1wbGF0ZU91dGxldF09XCJtZkxlZnREaXJlY3RpdmUudGVtcGxhdGVSZWZcIj48L25nLXRlbXBsYXRlPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgPC9uZy1jb250YWluZXI+IFxuICAgICAgPGRpdiBjbGFzcz1cImYtbGVmdFwiICpuZ0lmPVwiIW1mTGVmdERpcmVjdGl2ZSYmb3B0aW9uc1snZXh0ZW5kTGVmdCddXCIgIFtpbm5lckhUTUxdPVwib3B0aW9uc1snZXh0ZW5kTGVmdCddfGZlU2FmZUh0bWxcIj5cbiAgICAgIDwvZGl2PlxuICAgICAgPG5nLWNvbnRhaW5lciAqbmdJZj1cInJlYWxUb29sYmFyRGF0YXMubGVuZ3RoPjBcIj5cbiAgICAgICAgICA8Zi1yZXNwb25zZS10b29sYmFyIGNsYXNzPVwiZi10b29sYmFyIG1sLWF1dG9cIiBbbmdDbGFzc109XCJvcHRpb25zWyd0b29sYmFyQ2xzJ11cIiBbZGF0YXNdPVwicmVhbFRvb2xiYXJEYXRhc1wiXG4gICAgICAgICAgICAgIFtidG5TdGF0ZV09XCJidG5EaXNhYmxlXCIgW2J0blZpc2libGVdPVwiYnRuVmlzaWJsZVwiIFtidXR0b25TaXplXT1cIm9wdGlvbnNbJ3Rvb2xiYXJCdG5TaXplJ11cIlxuICAgICAgICAgICAgICAocnRDbGlja0V2ZW50KT1cInJlc3BvbnNlVG9vbGJhckNsaWNrSGFuZGxlcigkZXZlbnQpXCIgW3BvcERpcmVjdGlvbl09XCJvcHRpb25zWyd0b29sYmFyUG9wRGlyZWN0aW9uJ11cIj5cbiAgICAgICAgICA8L2YtcmVzcG9uc2UtdG9vbGJhcj5cbiAgICAgIDwvbmctY29udGFpbmVyPlxuICAgICAgPG5nLWNvbnRhaW5lciAqbmdJZj1cIm1mUmlnaHREaXJlY3RpdmUmJm1mUmlnaHREaXJlY3RpdmUudGVtcGxhdGVSZWZcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiZi1yaWdodFwiICBbbmdDbGFzc109XCJtZlJpZ2h0RGlyZWN0aXZlLmNsc1wiPlxuICAgICAgICAgICAgPG5nLXRlbXBsYXRlIFtuZ1RlbXBsYXRlT3V0bGV0XT1cIm1mUmlnaHREaXJlY3RpdmUudGVtcGxhdGVSZWZcIj48L25nLXRlbXBsYXRlPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgPC9uZy1jb250YWluZXI+IFxuICAgICAgPGRpdiBjbGFzcz1cImYtcmlnaHRcIiAqbmdJZj1cIiFtZlJpZ2h0RGlyZWN0aXZlJiZvcHRpb25zWydleHRlbmRSaWdodCddXCIgIFtpbm5lckhUTUxdPVwib3B0aW9uc1snZXh0ZW5kUmlnaHQnXXxmZVNhZmVIdG1sXCI+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj4gICBcbiAgIDwvZGl2PlxuICBgLFxuICBzdHlsZVVybHM6IFsnLi9tb2RhbC1mb290ZXIuY29tcG9uZW50LmNzcyddXG59KVxuZXhwb3J0IGNsYXNzIEZFTW9kYWxGb290ZXJDb21wb25lbnQgaW1wbGVtZW50cyBPbkluaXQsT25DaGFuZ2VzIHtcbiAgLy8g6K6+572u6buY6K6k5qC35byPXG4gIEBIb3N0QmluZGluZygnY2xhc3MuZmUtY21wLW1vZGFsLWZvb3RlcicpIGNscyA9IHRydWU7XG4gIHJlYWxUb29sYmFyRGF0YXM9W107XG4gIHByaXZhdGUgX3NldHRpbmdzID0gT2JqZWN0LmFzc2lnbih7fSwgRkVNb2RhbEZvb3RlckRlZmF1bHQpO1xuICBASW5wdXQoKVxuICBzZXQgb3B0aW9ucyhzZXR0aW5nczogT2JqZWN0KSB7XG4gICAgaWYgKHNldHRpbmdzKSB7XG4gICAgICB0aGlzLl9zZXR0aW5ncyA9IE9iamVjdC5hc3NpZ24oe30sIEZFTW9kYWxGb290ZXJEZWZhdWx0LCBzZXR0aW5ncyk7XG4gICAgICB0aGlzLnJlYWxUb29sYmFyRGF0YXM9dGhpcy5fc2V0dGluZ3NbJ3Rvb2xiYXJEYXRhcyddO1xuICAgIH1cbiAgfVxuICBnZXQgb3B0aW9ucygpIHtcbiAgICByZXR1cm4gdGhpcy5fc2V0dGluZ3M7XG4gIH1cbiAgQElucHV0KCkgdG9vbGJhckFsbERhdGFzO1xuICBASW5wdXQoKSB0b29sYmFyQ29uZmlnO1xuICBASW5wdXQoKSB0b29sYmFyS2V5O1xuXG4gIC8vIOWxleekuuexu+WeiyBtb2RhbCDnqpflj6PvvIxzaWRlYmFy77yM56m65pivIOaZrumAmixcbiAgQElucHV0KCkgc2hvd1R5cGU9XCJtb2RhbFwiO1xuXG4gIC8vIGZvb3RlciDkuIog55qE5qih5p2/IFxuICBAQ29udGVudENoaWxkKEZFTW9kYWxGb290ZXJVcERpcmVjdGl2ZSkgbWZFeHRlbmREaXJlY3RpdmU6IGFueTtcbiAgLy8gZm9vdGVyIGxlZnQg55qE5qih5p2/XG4gIEBDb250ZW50Q2hpbGQoRkVNb2RhbEZvb3RlckxlZnREaXJlY3RpdmUpIG1mTGVmdERpcmVjdGl2ZTogYW55O1xuICAvLyBmb290ZXIgcmlnaHQg55qE5qih5p2/XG4gIEBDb250ZW50Q2hpbGQoRkVNb2RhbEZvb3RlclJpZ2h0RGlyZWN0aXZlKSBtZlJpZ2h0RGlyZWN0aXZlOiBhbnk7XG4gIEBPdXRwdXQoKSB0b29sYmFyQ2xpY2tFdmVudDogRXZlbnRFbWl0dGVyPFJlc3BvbnNlVG9vbGJhckNsaWNrRXZlbnQ+ID0gbmV3IEV2ZW50RW1pdHRlcjxcbiAgUmVzcG9uc2VUb29sYmFyQ2xpY2tFdmVudFxuPigpO1xuICBidG5EaXNhYmxlOiBPYnNlcnZhYmxlPEFycmF5PGFueT4+ID0gbmV3IFN1YmplY3QoKTtcbiAgYnRuVmlzaWJsZTogT2JzZXJ2YWJsZTxBcnJheTxhbnk+PiA9IG5ldyBTdWJqZWN0KCk7XG4gIC8vIOaMiemSrueahOemgeeUqOeKtuaAgVxuICBASW5wdXQoKVxuICBzZXQgdG9vbGJhckJ0bkRpc2FibGUodmFsdWVzOiBPYnNlcnZhYmxlPEFycmF5PGFueT4+KSB7XG4gICAgICB0aGlzLmJ0bkRpc2FibGUgPSB2YWx1ZXM7XG4gIH1cbiAgLy8g5oyJ6ZKu55qE5p+l55yL54q25oCBXG4gIEBJbnB1dCgpXG4gIHNldCB0b29sYmFyQnRuVmlzaWJsZSh2YWx1ZXM6IE9ic2VydmFibGU8QXJyYXk8YW55Pj4pIHtcbiAgICAgIHRoaXMuYnRuVmlzaWJsZSA9IHZhbHVlcztcbiAgfVxuXG4gIGNvbnN0cnVjdG9yKCkgeyB9XG5cbiAgbmdPbkluaXQoKSB7XG4gIH1cbiAgLy8g5Y+Y5YyWXG4gIG5nT25DaGFuZ2VzKGNoYW5nZXM6U2ltcGxlQ2hhbmdlcyl7XG4gICAgaWYoY2hhbmdlcy5oYXNPd25Qcm9wZXJ0eSgndG9vbGJhckFsbERhdGFzJyl8fGNoYW5nZXMuaGFzT3duUHJvcGVydHkoJ3Rvb2xiYXJDb25maWcnKXx8Y2hhbmdlcy5oYXNPd25Qcm9wZXJ0eSgnc2hvd1R5cGUnKSl7XG4gICAgICBpZih0aGlzLnRvb2xiYXJLZXkmJnRoaXMudG9vbGJhckNvbmZpZyYmdGhpcy50b29sYmFyQWxsRGF0YXMpe1xuICAgICAgICB0aGlzLnJlYWxUb29sYmFyRGF0YXM9Wy4uLkZFeHRlbmRVdGlscy5mb3JtVG9vbGJhckRhdGEodGhpcy50b29sYmFyQWxsRGF0YXMsdGhpcy50b29sYmFyQ29uZmlnLHRoaXMudG9vbGJhcktleSx0aGlzLnNob3dUeXBlKV07XG4gICAgICB9XG4gICAgfVxufVxuICAvLyDmipvlh7rkuovku7ZcbiAgcmVzcG9uc2VUb29sYmFyQ2xpY2tIYW5kbGVyKGV2KXtcbiAgICB0aGlzLnRvb2xiYXJDbGlja0V2ZW50LmVtaXQoZXYpO1xuICB9XG4gIC8vIOaYvuekuuWGheWuuVxuICBpc0Zvb3RlclNob3coKXtcbiAgIFxuICAgIGlmKHRoaXMubWZFeHRlbmREaXJlY3RpdmV8fHRoaXMubWZMZWZ0RGlyZWN0aXZlfHx0aGlzLm9wdGlvbnNbJ2V4dGVuZExlZnQnXXx8dGhpcy5yZWFsVG9vbGJhckRhdGFzLmxlbmd0aD4wfHx0aGlzLm1mUmlnaHREaXJlY3RpdmV8fHRoaXMub3B0aW9uc1snZXh0ZW5kUmlnaHQnXSl7ICAgIFxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG4iXX0=