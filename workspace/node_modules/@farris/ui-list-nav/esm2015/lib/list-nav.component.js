/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { Component, Input, Directive, TemplateRef, ContentChild, Output, EventEmitter, ViewChild, ElementRef, Renderer2 } from '@angular/core';
export class listNavHeaderTemplateDirective {
    /**
     * @param {?} template
     */
    constructor(template) {
        this.template = template;
    }
}
listNavHeaderTemplateDirective.decorators = [
    { type: Directive, args: [{
                selector: '[listNavHeader]'
            },] }
];
/** @nocollapse */
listNavHeaderTemplateDirective.ctorParameters = () => [
    { type: TemplateRef }
];
if (false) {
    /** @type {?} */
    listNavHeaderTemplateDirective.prototype.template;
}
export class listNavContentTemplateDirective {
    /**
     * @param {?} template
     */
    constructor(template) {
        this.template = template;
    }
}
listNavContentTemplateDirective.decorators = [
    { type: Directive, args: [{
                selector: '[listNavContent]'
            },] }
];
/** @nocollapse */
listNavContentTemplateDirective.ctorParameters = () => [
    { type: TemplateRef }
];
if (false) {
    /** @type {?} */
    listNavContentTemplateDirective.prototype.template;
}
export class listNavFooterTemplateDirective {
    /**
     * @param {?} template
     */
    constructor(template) {
        this.template = template;
    }
}
listNavFooterTemplateDirective.decorators = [
    { type: Directive, args: [{
                selector: '[listNavFooter]'
            },] }
];
/** @nocollapse */
listNavFooterTemplateDirective.ctorParameters = () => [
    { type: TemplateRef }
];
if (false) {
    /** @type {?} */
    listNavFooterTemplateDirective.prototype.template;
}
export class ListNavComponent {
    /**
     *  原构造函数是没有参数的
     * @param {?} elementRef
     * @param {?} renderer
     */
    constructor(elementRef, renderer) {
        this.elementRef = elementRef;
        this.renderer = renderer;
        /**
         * 收起折叠状态变化
         */
        this.navStateChange = new EventEmitter();
        /**
         * emitted when start resizing
         */
        this.rzStart = new EventEmitter();
        /**
         * emitted when start resizing
         */
        this.rzResizing = new EventEmitter();
        /**
         * emitted when stop resizing
         */
        this.rzStop = new EventEmitter();
        /**
         * listnav宽度
         * 不支持百分比，因为此处的宽度被用在内部是外部
         */
        this.listNavWidth = 218;
        // 初始收起状态
        this.initCollapse = false;
        // 显示入口
        this.showEntry = true;
        //--未使用
        this.hover = false;
        // 控件禁用
        this.disabled = false;
        this.position = 'left';
        // 拖拽到某个值时，自动收起的阈值。如果阈值设置小于0，则不处理自动收起
        this.resizeCollapseThreshold = 20;
        // 启用拖拽功能
        this.enableDraggable = false;
        // 设置拖拽的最小值
        this.rzMinWidth = null;
        // 设置拖拽的方向
        this.rzHandles = 'e';
        // 记录真实的iframe父容器
        this._relatedContainer = null;
        // 标记iframe父容器的样式属性position的值
        this._relatedContainerPosition = "";
        // 记录iframe在拖拽时的遮罩层
        this._relatedIframeOverlay = null;
        // 标记iframe遮罩层是否已显示
        this._iframeOverlayShownFlag = false;
        // collapse的动画样式名
        this.animateCls = "splitter-pane-collapse-animate";
        // 标记是否需要更新变量
        this.updateParamsFlag = false;
        // 标记拖拽时上次的大小
        this.resizeDistance = -1;
    }
    // 初始时，是否隐藏Nav
    /**
     * @param {?} value
     * @return {?}
     */
    set hideNav(value) {
        if (value !== undefined && value !== null) {
            if (this.initCollapse !== value) {
                this.initCollapse = value;
                // this.toggleInitCollapseState();
            }
        }
    }
    /**
     * @return {?}
     */
    get hideNav() {
        return this.initCollapse;
    }
    /**
     * @param {?} value
     * @return {?}
     */
    set relatedIframeParent(value) {
        this.getRelatedIframeParent(value);
    }
    /**
     * @return {?}
     */
    get relatedIframeParent() {
        return this._relatedContainer;
    }
    /**
     * @return {?}
     */
    ngOnInit() {
        if (this.elementRef) {
            this.compatibleEl();
        }
    }
    /**
     * @return {?}
     */
    ngAfterViewInit() {
        if (!this.el) {
            this.compatibleEl();
        }
    }
    /**
     * 兼容旧表单写法
     * @private
     * @return {?}
     */
    compatibleEl() {
        this.el = this.elementRef.nativeElement;
        // 设置了iframe容器，但是没有创建遮罩
        if (this._relatedIframeParent && !this._relatedIframeOverlay) {
            this.getRelatedIframeParent(this._relatedIframeParent);
        }
    }
    /**
     * 点击収折
     * @param {?} event
     * @return {?}
     */
    toggle(event) {
        event && event.stopPropagation();
        if (this.disabled) {
            return;
        }
        // 初始没有加上这个样式，是避免初始设置收起的时候，看到有収折的动画
        this.renderer && this.renderer.addClass(this.el.querySelector('.f-list-nav-in'), this.animateCls);
        this.initCollapse = !this.initCollapse;
        this.navStateChange.emit({ 'showNav': !this.hideNav });
    }
    //--未使用
    /**
     * @param {?} event
     * @return {?}
     */
    hoverToggle(event) {
        this.hideNav = !this.hideNav;
        this.navStateChange.emit({ 'showNav': !this.hideNav });
    }
    /**
     *  拖拽的变化中事件
     *  如果超过阈值，不处理
     *  暂未处理拖拽最大、最小值的问题
     * @param {?} pos
     * @return {?}
     */
    onRZResizing(pos) {
        if (pos && pos["size"]) {
            /** @type {?} */
            let changeProp = this.getStyleProp();
            /** @type {?} */
            let resizeDirection = "";
            if (this.resizeDistance >= 0) {
                // 开始记录后
                // 此次值比上次记录大，说明在expand
                resizeDirection =
                    pos["size"][changeProp] > this.resizeDistance
                        ? "expand"
                        : "collapse";
            }
            this.resizeDistance = pos["size"][changeProp];
            if (resizeDirection == "expand" && this.initCollapse) {
                this.initCollapse = false;
            }
            if (pos["size"][changeProp] > this.resizeCollapseThreshold ||
                !resizeDirection) {
                // 拖拽速度快的时候，会漏掉计算的时机
                return;
            }
            if (this.resizeCollapseThreshold > 0) {
                // 设置了自动収折阈值
                if (!this.initCollapse && resizeDirection == "collapse") {
                    // 处理拖拽収折过程中，自动收起；不处理展开过程中的，自动展开
                    if (pos["actions"] &&
                        pos["actions"].hasOwnProperty("stopResize")) {
                        pos["actions"]["stopResize"]();
                    }
                    this.toggle(null);
                }
            }
            else {
                // 未设置自动収折阈值，需要单独处理 即将收起时状态、即将展开时状态
                if (resizeDirection == "collapse") {
                    if (pos["size"][changeProp] < 3 && !this.initCollapse) {
                        this.initCollapse = true;
                    }
                }
            }
        }
        this.rzResizing.emit(pos);
    }
    // 拖拽的开始的事件
    /**
     * @param {?} pos
     * @return {?}
     */
    onRZStart(pos) {
        // 禁用収折
        if (this.draggableWrapper.nativeElement.className.indexOf(this.animateCls) > -1) {
            this.renderer.removeClass(this.draggableWrapper.nativeElement, this.animateCls);
        }
        // 如果有iframe遮罩并且没有显示
        if (this._relatedIframeOverlay && !this._iframeOverlayShownFlag) {
            if (["relative", "absolute"].indexOf(this._relatedContainerPosition) < 0) {
                this.renderer.setStyle(this._relatedContainer, "position", "relative");
            }
            this.renderer.setStyle(this._relatedIframeOverlay, "display", "block");
            this._iframeOverlayShownFlag = true;
        }
        if (!this.updateParamsFlag &&
            pos["actions"] &&
            pos["actions"].hasOwnProperty("updateParams")) {
            pos["actions"]["updateParams"]({ fixedEdge: true });
            this.updateParamsFlag = true;
        }
        this.rzStart.emit(pos);
    }
    // 拖拽的停止事件
    /**
     * @param {?} pos
     * @return {?}
     */
    onRZStop(pos) {
        this.resizeDistance = -1;
        // 如果有iframe遮罩并且显示了
        if (this._relatedIframeOverlay && this._iframeOverlayShownFlag) {
            if (["relative", "absolute"].indexOf(this._relatedContainerPosition) < 0) {
                this.renderer.setStyle(this._relatedContainer, "position", this._relatedContainerPosition);
            }
            this.renderer.setStyle(this._relatedIframeOverlay, "display", "none");
            this._iframeOverlayShownFlag = false;
        }
        this.rzStop.emit(pos);
    }
    /**
     * 布局排列不一样，影响到是设置宽度还是高度
     * @private
     * @return {?}
     */
    getStyleProp() {
        /** @type {?} */
        let hori = ["left", "right"].findIndex((/**
         * @param {?} item
         * @return {?}
         */
        item => item == this.position));
        return hori > -1 ? "width" : "height";
    }
    /**
     * 规范获取iframe所在的父容器
     * @private
     * @param {?} content
     * @return {?}
     */
    getRelatedIframeParent(content) {
        if (!content || !this.elementRef) {
            this._relatedContainer = null;
        }
        if (content instanceof ElementRef) {
            this._relatedContainer = content.nativeElement;
        }
        else if (typeof content == "string") {
            this._relatedContainer = this.elementRef.nativeElement.parentElement.querySelector(content);
        }
        else {
            this._relatedContainer = content;
        }
        if (this._relatedContainer) {
            this._relatedContainerPosition = this._relatedContainer["style"]["position"];
            // 构造遮罩层
            this._relatedIframeOverlay = this.renderer.createElement("div");
            this._relatedIframeOverlay.className = "f-utils-absolute-all";
            this.renderer.setStyle(this._relatedIframeOverlay, "display", "none");
            this.renderer.appendChild(this._relatedContainer, this._relatedIframeOverlay);
        }
    }
}
ListNavComponent.decorators = [
    { type: Component, args: [{
                selector: 'farris-list-nav',
                template: "<div  [class]=\"'f-list-nav f-list-nav-'+position\">\r\n    <ng-container *ngIf=\"!enableDraggable;else draggableTmpl\">\r\n        <div class=\"f-list-nav-in\"  [ngStyle]=\"{'width': ['left','right'].indexOf(position)>-1?(!hideNav? listNavWidth +'px' : '0px'):'100%','height': ['top','bottom'].indexOf(position)>-1?(!hideNav? listNavWidth +'px' : '0px'):'100%'}\">\r\n            <ng-container [ngTemplateOutlet]=\"innerContent\"></ng-container>\r\n        </div>\r\n    </ng-container>\r\n</div>\r\n<ng-template #innerContent>\r\n    <div class=\"f-list-nav-main\" [hidden]=\"hideNav\">\r\n        <div class=\"f-list-nav-header\" *ngIf=\"HeaderTemplate\">\r\n            <ng-container [ngTemplateOutlet]=\"HeaderTemplate\"></ng-container>\r\n        </div>\r\n        <div class=\"f-list-nav-header\" *ngIf=\"!HeaderTemplate && title\">\r\n            <div class=\"f-list-nav-title\">\r\n                {{title}}\r\n            </div>\r\n        </div>\r\n        <div class=\"f-list-nav-content\" *ngIf=\"NavContentTemplate\">\r\n            <ng-container [ngTemplateOutlet]=\"NavContentTemplate\"></ng-container>\r\n        </div>\r\n        <div class=\"f-list-nav-footer\" *ngIf=\"NavFooterTemplate\">\r\n            <ng-container [ngTemplateOutlet]=\"NavFooterTemplate\"></ng-container>\r\n        </div>\r\n    </div>\r\n    <div class=\"f-list-nav-toggle-sidebar\" *ngIf=\"showEntry\"\r\n        [ngClass]=\"{'f-list-nav-toggle-disabled': disabled,'active': hideNav}\" (click)=\"toggle($event)\">\r\n        <span class=\"triangle\"></span>\r\n    </div>\r\n</ng-template>\r\n<ng-template #draggableTmpl>\r\n    <div class=\"f-list-nav-in\" #draggableWrapper  [ngStyle]=\"{'width': ['left','right'].indexOf(position)>-1?(!hideNav? listNavWidth +'px' : '0px'):'100%','height': ['top','bottom'].indexOf(position)>-1?(!hideNav? listNavWidth +'px' : '0px'):'100%'}\" [ngResizable]=\"true\"\r\n        [rzHandles]=\"rzHandles\" [rzMinWidth]=\"rzMinWidth\" [rzCls]=\"'resizable-handle-redefine'\" (rzResizing)=\"onRZResizing($event)\" (rzStart)=\"onRZStart($event)\" (rzStop)=\"onRZStop($event)\">\r\n        <ng-container [ngTemplateOutlet]=\"innerContent\"></ng-container>\r\n    </div>\r\n</ng-template>\r\n",
                styles: [".f-list-nav{height:100%;min-height:200px}.f-list-nav .f-list-nav-in{position:relative;height:100%;background-color:#fff;box-shadow:1px 1px 8px 0 rgba(0,28,64,.08)}.f-list-nav .f-list-nav-main{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;height:100%;overflow-x:hidden}.f-list-nav .f-list-nav-main .f-list-nav-footer,.f-list-nav .f-list-nav-main .f-list-nav-header{flex-shrink:0}.f-list-nav .f-list-nav-main .f-list-nav-content{-webkit-box-flex:1;flex-grow:1;flex-shrink:1;flex-basis:0;overflow-y:auto}.f-list-nav .f-list-nav-main .f-list-nav-header .f-list-nav-title{padding:1rem 3rem 1rem 2.5rem;line-height:1.375rem;font-size:1rem;color:#000;border-bottom:1px solid #e9e9e9;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.f-list-nav.f-list-nav-left{padding-right:.375rem}.f-list-nav.f-list-nav-right{padding-left:.375rem}"]
            }] }
];
/** @nocollapse */
ListNavComponent.ctorParameters = () => [
    { type: ElementRef },
    { type: Renderer2 }
];
ListNavComponent.propDecorators = {
    HeaderTemplate: [{ type: ContentChild, args: [listNavHeaderTemplateDirective, { read: TemplateRef },] }],
    NavContentTemplate: [{ type: ContentChild, args: [listNavContentTemplateDirective, { read: TemplateRef },] }],
    NavFooterTemplate: [{ type: ContentChild, args: [listNavFooterTemplateDirective, { read: TemplateRef },] }],
    navStateChange: [{ type: Output, args: ['navStateChange',] }],
    rzStart: [{ type: Output }],
    rzResizing: [{ type: Output }],
    rzStop: [{ type: Output }],
    draggableWrapper: [{ type: ViewChild, args: ['draggableWrapper',] }],
    title: [{ type: Input }],
    listNavWidth: [{ type: Input }],
    hideNav: [{ type: Input }],
    showEntry: [{ type: Input }],
    hover: [{ type: Input }],
    disabled: [{ type: Input }],
    position: [{ type: Input }],
    resizeCollapseThreshold: [{ type: Input }],
    enableDraggable: [{ type: Input }],
    rzMinWidth: [{ type: Input }],
    rzHandles: [{ type: Input }],
    relatedIframeParent: [{ type: Input }]
};
if (false) {
    /** @type {?} */
    ListNavComponent.prototype.HeaderTemplate;
    /** @type {?} */
    ListNavComponent.prototype.NavContentTemplate;
    /** @type {?} */
    ListNavComponent.prototype.NavFooterTemplate;
    /**
     * 收起折叠状态变化
     * @type {?}
     */
    ListNavComponent.prototype.navStateChange;
    /**
     * emitted when start resizing
     * @type {?}
     */
    ListNavComponent.prototype.rzStart;
    /**
     * emitted when start resizing
     * @type {?}
     */
    ListNavComponent.prototype.rzResizing;
    /**
     * emitted when stop resizing
     * @type {?}
     */
    ListNavComponent.prototype.rzStop;
    /** @type {?} */
    ListNavComponent.prototype.draggableWrapper;
    /**
     * listnav 名称
     * @type {?}
     */
    ListNavComponent.prototype.title;
    /**
     * listnav宽度
     * 不支持百分比，因为此处的宽度被用在内部是外部
     * @type {?}
     */
    ListNavComponent.prototype.listNavWidth;
    /**
     * @type {?}
     * @private
     */
    ListNavComponent.prototype.initCollapse;
    /** @type {?} */
    ListNavComponent.prototype.showEntry;
    /** @type {?} */
    ListNavComponent.prototype.hover;
    /** @type {?} */
    ListNavComponent.prototype.disabled;
    /** @type {?} */
    ListNavComponent.prototype.position;
    /** @type {?} */
    ListNavComponent.prototype.resizeCollapseThreshold;
    /** @type {?} */
    ListNavComponent.prototype.enableDraggable;
    /** @type {?} */
    ListNavComponent.prototype.rzMinWidth;
    /** @type {?} */
    ListNavComponent.prototype.rzHandles;
    /**
     * @type {?}
     * @private
     */
    ListNavComponent.prototype._relatedIframeParent;
    /**
     * @type {?}
     * @private
     */
    ListNavComponent.prototype._relatedContainer;
    /**
     * @type {?}
     * @private
     */
    ListNavComponent.prototype._relatedContainerPosition;
    /**
     * @type {?}
     * @private
     */
    ListNavComponent.prototype._relatedIframeOverlay;
    /**
     * @type {?}
     * @private
     */
    ListNavComponent.prototype._iframeOverlayShownFlag;
    /**
     * @type {?}
     * @private
     */
    ListNavComponent.prototype.animateCls;
    /**
     * @type {?}
     * @private
     */
    ListNavComponent.prototype.updateParamsFlag;
    /**
     * @type {?}
     * @private
     */
    ListNavComponent.prototype.resizeDistance;
    /**
     * @type {?}
     * @private
     */
    ListNavComponent.prototype.el;
    /**
     * @type {?}
     * @private
     */
    ListNavComponent.prototype.elementRef;
    /**
     * @type {?}
     * @private
     */
    ListNavComponent.prototype.renderer;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibGlzdC1uYXYuY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6Im5nOi8vQGZhcnJpcy91aS1saXN0LW5hdi8iLCJzb3VyY2VzIjpbImxpYi9saXN0LW5hdi5jb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7OztBQUFBLE9BQU8sRUFBRSxTQUFTLEVBQVUsS0FBSyxFQUFFLFNBQVMsRUFBRSxXQUFXLEVBQUUsWUFBWSxFQUFFLE1BQU0sRUFBRSxZQUFZLEVBQUUsU0FBUyxFQUFFLFVBQVUsRUFBRSxTQUFTLEVBQW9CLE1BQU0sZUFBZSxDQUFDO0FBTXpLLE1BQU0sT0FBTyw4QkFBOEI7Ozs7SUFDekMsWUFBbUIsUUFBMEI7UUFBMUIsYUFBUSxHQUFSLFFBQVEsQ0FBa0I7SUFBSSxDQUFDOzs7WUFKbkQsU0FBUyxTQUFDO2dCQUNULFFBQVEsRUFBRSxpQkFBaUI7YUFDNUI7Ozs7WUFMNkMsV0FBVzs7OztJQU8zQyxrREFBaUM7O0FBTS9DLE1BQU0sT0FBTywrQkFBK0I7Ozs7SUFDMUMsWUFBbUIsUUFBMEI7UUFBMUIsYUFBUSxHQUFSLFFBQVEsQ0FBa0I7SUFBSSxDQUFDOzs7WUFKbkQsU0FBUyxTQUFDO2dCQUNULFFBQVEsRUFBRSxrQkFBa0I7YUFDN0I7Ozs7WUFaNkMsV0FBVzs7OztJQWMzQyxtREFBaUM7O0FBTS9DLE1BQU0sT0FBTyw4QkFBOEI7Ozs7SUFDekMsWUFBbUIsUUFBMEI7UUFBMUIsYUFBUSxHQUFSLFFBQVEsQ0FBa0I7SUFBSSxDQUFDOzs7WUFKbkQsU0FBUyxTQUFDO2dCQUNULFFBQVEsRUFBRSxpQkFBaUI7YUFDNUI7Ozs7WUFuQjZDLFdBQVc7Ozs7SUFxQjNDLGtEQUFpQzs7QUFRL0MsTUFBTSxPQUFPLGdCQUFnQjs7Ozs7O0lBMEYzQixZQUFvQixVQUFzQixFQUFVLFFBQW1CO1FBQW5ELGVBQVUsR0FBVixVQUFVLENBQVk7UUFBVSxhQUFRLEdBQVIsUUFBUSxDQUFXOzs7O1FBckY3QyxtQkFBYyxHQUFHLElBQUksWUFB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O0lBZ0I3QixxQ0FBMEI7O0lBRTFCLGlDQUFnQzs7SUFFaEMsb0NBQW1DOztJQUNuQyxvQ0FBNEQ7O0lBRzVELG1EQUFzQzs7SUFHdEMsMkNBQWlDOztJQUVqQyxzQ0FBZ0M7O0lBRWhDLHFDQUFnRDs7Ozs7SUFFaEQsZ0RBQXdEOzs7OztJQUV4RCw2Q0FBaUM7Ozs7O0lBRWpDLHFEQUF1Qzs7Ozs7SUFFdkMsaURBQXFDOzs7OztJQUVyQyxtREFBd0M7Ozs7O0lBVXhDLHNDQUFzRDs7Ozs7SUFFdEQsNENBQWlDOzs7OztJQUVqQywwQ0FBNEI7Ozs7O0lBRTVCLDhCQUF1Qjs7Ozs7SUFNWCxzQ0FBOEI7Ozs7O0lBQUUsb0NBQTJCIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29tcG9uZW50LCBPbkluaXQsIElucHV0LCBEaXJlY3RpdmUsIFRlbXBsYXRlUmVmLCBDb250ZW50Q2hpbGQsIE91dHB1dCwgRXZlbnRFbWl0dGVyLCBWaWV3Q2hpbGQsIEVsZW1lbnRSZWYsIFJlbmRlcmVyMiwgVmlld0NvbnRhaW5lclJlZiB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xyXG5pbXBvcnQgeyBJUmVzaXplRXZlbnQgfSBmcm9tICdAZmFycmlzL3VpLWRyYWdnYWJsZSc7XHJcblxyXG5ARGlyZWN0aXZlKHtcclxuICBzZWxlY3RvcjogJ1tsaXN0TmF2SGVhZGVyXSdcclxufSlcclxuZXhwb3J0IGNsYXNzIGxpc3ROYXZIZWFkZXJUZW1wbGF0ZURpcmVjdGl2ZSB7XHJcbiAgY29uc3RydWN0b3IocHVibGljIHRlbXBsYXRlOiBUZW1wbGF0ZVJlZjxhbnk+KSB7IH1cclxufVxyXG5cclxuQERpcmVjdGl2ZSh7XHJcbiAgc2VsZWN0b3I6ICdbbGlzdE5hdkNvbnRlbnRdJ1xyXG59KVxyXG5leHBvcnQgY2xhc3MgbGlzdE5hdkNvbnRlbnRUZW1wbGF0ZURpcmVjdGl2ZSB7XHJcbiAgY29uc3RydWN0b3IocHVibGljIHRlbXBsYXRlOiBUZW1wbGF0ZVJlZjxhbnk+KSB7IH1cclxufVxyXG5cclxuQERpcmVjdGl2ZSh7XHJcbiAgc2VsZWN0b3I6ICdbbGlzdE5hdkZvb3Rlcl0nXHJcbn0pXHJcbmV4cG9ydCBjbGFzcyBsaXN0TmF2Rm9vdGVyVGVtcGxhdGVEaXJlY3RpdmUge1xyXG4gIGNvbnN0cnVjdG9yKHB1YmxpYyB0ZW1wbGF0ZTogVGVtcGxhdGVSZWY8YW55PikgeyB9XHJcbn1cclxuXHJcbkBDb21wb25lbnQoe1xyXG4gIHNlbGVjdG9yOiAnZmFycmlzLWxpc3QtbmF2JyxcclxuICB0ZW1wbGF0ZVVybDogJy4vbGlzdC1uYXYuY29tcG9uZW50Lmh0bWwnLFxyXG4gIHN0eWxlVXJsczogWycuL2xpc3QtbmF2LmNvbXBvbmVudC5zY3NzJ11cclxufSlcclxuZXhwb3J0IGNsYXNzIExpc3ROYXZDb21wb25lbnQgaW1wbGVtZW50cyBPbkluaXQge1xyXG4gIEBDb250ZW50Q2hpbGQobGlzdE5hdkhlYWRlclRlbXBsYXRlRGlyZWN0aXZlLCB7IHJlYWQ6IFRlbXBsYXRlUmVmIH0pIEhlYWRlclRlbXBsYXRlOiBUZW1wbGF0ZVJlZjxhbnk+O1xyXG4gIEBDb250ZW50Q2hpbGQobGlzdE5hdkNvbnRlbnRUZW1wbGF0ZURpcmVjdGl2ZSwgeyByZWFkOiBUZW1wbGF0ZVJlZiB9KSBOYXZDb250ZW50VGVtcGxhdGU6IFRlbXBsYXRlUmVmPGFueT47XHJcbiAgQENvbnRlbnRDaGlsZChsaXN0TmF2Rm9vdGVyVGVtcGxhdGVEaXJlY3RpdmUsIHsgcmVhZDogVGVtcGxhdGVSZWYgfSkgTmF2Rm9vdGVyVGVtcGxhdGU6IFRlbXBsYXRlUmVmPGFueT47XHJcbiAgLyoq5pS26LW35oqY5Y+g54q25oCB5Y+Y5YyWICovXHJcbiAgQE91dHB1dCgnbmF2U3RhdGVDaGFuZ2UnKSBuYXZTdGF0ZUNoYW5nZSA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcclxuXHJcbiAgLyoqIGVtaXR0ZWQgd2hlbiBzdGFydCByZXNpemluZyAqL1xyXG4gIEBPdXRwdXQoKSByelN0YXJ0ID0gbmV3IEV2ZW50RW1pdHRlcjxJUmVzaXplRXZlbnQ+KCk7XHJcblxyXG4gIC8qKiBlbWl0dGVkIHdoZW4gc3RhcnQgcmVzaXppbmcgKi9cclxuICBAT3V0cHV0KCkgcnpSZXNpemluZyA9IG5ldyBFdmVudEVtaXR0ZXI8SVJlc2l6ZUV2ZW50PigpO1xyXG5cclxuICAvKiogZW1pdHRlZCB3aGVuIHN0b3AgcmVzaXppbmcgKi9cclxuICBAT3V0cHV0KCkgcnpTdG9wID0gbmV3IEV2ZW50RW1pdHRlcjxJUmVzaXplRXZlbnQ+KCk7XHJcblxyXG4gIC8vIOaLluaLveWFg+e0oFxyXG4gIEBWaWV3Q2hpbGQoJ2RyYWdnYWJsZVdyYXBwZXInKSBkcmFnZ2FibGVXcmFwcGVyOiBFbGVtZW50UmVmO1xyXG4gIC8qKmxpc3RuYXYg5ZCN56ewKi9cclxuICBASW5wdXQoKSB0aXRsZTogc3RyaW5nO1xyXG4gIC8qKlxyXG4gICAqIGxpc3RuYXblrr3luqYgXHJcbiAgICog5LiN5pSv5oyB55m+5YiG5q+U77yM5Zug5Li65q2k5aSE55qE5a695bqm6KKr55So5Zyo5YaF6YOo5piv5aSW6YOoXHJcbiAgICovXHJcbiAgQElucHV0KCkgbGlzdE5hdldpZHRoOiBudW1iZXIgPSAyMTg7XHJcblxyXG4gIC8vIOWIneWni+aUtui1t+eKtuaAgVxyXG4gIHByaXZhdGUgaW5pdENvbGxhcHNlID0gZmFsc2U7XHJcbiAgLy8g5Yid5aeL5pe277yM5piv5ZCm6ZqQ6JePTmF2XHJcbiAgQElucHV0KClcclxuICBzZXQgaGlkZU5hdih2YWx1ZSkge1xyXG4gICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQgJiYgdmFsdWUgIT09IG51bGwpIHtcclxuICAgICAgaWYgKHRoaXMuaW5pdENvbGxhcHNlICE9PSB2YWx1ZSkge1xyXG4gICAgICAgIHRoaXMuaW5pdENvbGxhcHNlID0gdmFsdWU7XHJcbiAgICAgICAgLy8gdGhpcy50b2dnbGVJbml0Q29sbGFwc2VTdGF0ZSgpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG4gIGdldCBoaWRlTmF2KCkge1xyXG4gICAgcmV0dXJuIHRoaXMuaW5pdENvbGxhcHNlO1xyXG4gIH1cclxuXHJcbiAgLy8g5pi+56S65YWl5Y+jXHJcbiAgQElucHV0KCkgc2hvd0VudHJ5ID0gdHJ1ZTtcclxuICAvLy0t5pyq5L2/55SoXHJcbiAgQElucHV0KCkgaG92ZXI6IGJvb2xlYW4gPSBmYWxzZTtcclxuICAvLyDmjqfku7bnpoHnlKhcclxuICBASW5wdXQoKSBkaXNhYmxlZDogYm9vbGVhbiA9IGZhbHNlO1xyXG4gIEBJbnB1dCgpIHBvc2l0aW9uOiAnbGVmdCcgfCAncmlnaHQnfCd0b3AnfCdib3R0b20nID0gJ2xlZnQnO1xyXG5cclxuICAvLyDmi5bmi73liLDmn5DkuKrlgLzml7bvvIzoh6rliqjmlLbotbfnmoTpmIjlgLzjgILlpoLmnpzpmIjlgLzorr7nva7lsI/kuo4w77yM5YiZ5LiN5aSE55CG6Ieq5Yqo5pS26LW3XHJcbiAgQElucHV0KCkgcmVzaXplQ29sbGFwc2VUaHJlc2hvbGQgPSAyMDtcclxuXHJcbiAgLy8g5ZCv55So5ouW5ou95Yqf6IO9XHJcbiAgQElucHV0KCkgZW5hYmxlRHJhZ2dhYmxlID0gZmFsc2U7XHJcbiAgLy8g6K6+572u5ouW5ou955qE5pyA5bCP5YC8XHJcbiAgQElucHV0KCkgcnpNaW5XaWR0aDpudW1iZXI9bnVsbDtcclxuICAvLyDorr7nva7mi5bmi73nmoTmlrnlkJFcclxuICBASW5wdXQoKSByekhhbmRsZXM6ICdlJyB8ICdzJyB8ICduJyB8ICd3JyA9ICdlJztcclxuICAvLyDlpITnkIblhbPogZTlj5jliqjkuK3vvIzlj6blpJbkuIDlpITmnIlpZnJhbWXvvIxpZnJhbWXlvbHlk43mi5bmi73nmoTmgKfog71cclxuICBwcml2YXRlIF9yZWxhdGVkSWZyYW1lUGFyZW50OiBzdHJpbmcgfCBFbGVtZW50UmVmIHwgYW55O1xyXG4gIC8vIOiusOW9leecn+WunueahGlmcmFtZeeItuWuueWZqFxyXG4gIHByaXZhdGUgX3JlbGF0ZWRDb250YWluZXIgPSBudWxsO1xyXG4gIC8vIOagh+iusGlmcmFtZeeItuWuueWZqOeahOagt+W8j+WxnuaAp3Bvc2l0aW9u55qE5YC8XHJcbiAgcHJpdmF0ZSBfcmVsYXRlZENvbnRhaW5lclBvc2l0aW9uID0gXCJcIjtcclxuICAvLyDorrDlvZVpZnJhbWXlnKjmi5bmi73ml7bnmoTpga7nvanlsYJcclxuICBwcml2YXRlIF9yZWxhdGVkSWZyYW1lT3ZlcmxheSA9IG51bGw7XHJcbiAgLy8g5qCH6K6waWZyYW1l6YGu572p5bGC5piv5ZCm5bey5pi+56S6XHJcbiAgcHJpdmF0ZSBfaWZyYW1lT3ZlcmxheVNob3duRmxhZyA9IGZhbHNlO1xyXG4gIEBJbnB1dCgpXHJcbiAgc2V0IHJlbGF0ZWRJZnJhbWVQYXJlbnQodmFsdWU6IHN0cmluZyB8IEVsZW1lbnRSZWYgfCBhbnkpIHtcclxuICAgIHRoaXMuZ2V0UmVsYXRlZElmcmFtZVBhcmVudCh2YWx1ZSk7XHJcbiAgfVxyXG4gIGdldCByZWxhdGVkSWZyYW1lUGFyZW50KCkge1xyXG4gICAgcmV0dXJuIHRoaXMuX3JlbGF0ZWRDb250YWluZXI7XHJcbiAgfVxyXG5cclxuICAvLyBjb2xsYXBzZeeahOWKqOeUu+agt+W8j+WQjVxyXG4gIHByaXZhdGUgYW5pbWF0ZUNscyA9IFwic3BsaXR0ZXItcGFuZS1jb2xsYXBzZS1hbmltYXRlXCI7XHJcbiAgLy8g5qCH6K6w5piv5ZCm6ZyA6KaB5pu05paw5Y+Y6YePXHJcbiAgcHJpdmF0ZSB1cGRhdGVQYXJhbXNGbGFnID0gZmFsc2U7XHJcbiAgLy8g5qCH6K6w5ouW5ou95pe25LiK5qyh55qE5aSn5bCPXHJcbiAgcHJpdmF0ZSByZXNpemVEaXN0YW5jZSA9IC0xO1xyXG4gIC8vIOW9k+WJjeWFg+e0oFxyXG4gIHByaXZhdGUgZWw6SFRNTEVsZW1lbnQ7XHJcbiAgLyoqXHJcbiAgICogIOWOn+aehOmAoOWHveaVsOaYr+ayoeacieWPguaVsOeahFxyXG4gICAqIEBwYXJhbSBlbGVtZW50UmVmIFxyXG4gICAqIEBwYXJhbSByZW5kZXJlciBcclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihwcml2YXRlIGVsZW1lbnRSZWY6IEVsZW1lbnRSZWYsIHByaXZhdGUgcmVuZGVyZXI6IFJlbmRlcmVyMikge1xyXG4gICBcclxuICB9XHJcblxyXG4gIG5nT25Jbml0KCkge1xyXG4gICAgaWYodGhpcy5lbGVtZW50UmVmKXtcclxuICAgICAgdGhpcy5jb21wYXRpYmxlRWwoKTtcclxuICAgIH1cclxuICB9XHJcbiAgbmdBZnRlclZpZXdJbml0KCkge1xyXG4gICAgaWYoIXRoaXMuZWwpe1xyXG4gICAgICB0aGlzLmNvbXBhdGlibGVFbCgpO1xyXG4gIH0gICBcclxuICB9XHJcbiAgLyoqXHJcbiAgICog5YW85a655pen6KGo5Y2V5YaZ5rOVXHJcbiAgICovXHJcbiAgcHJpdmF0ZSBjb21wYXRpYmxlRWwoKSB7XHJcbiAgICB0aGlzLmVsID0gdGhpcy5lbGVtZW50UmVmLm5hdGl2ZUVsZW1lbnQ7XHJcbiAgICAvLyDorr7nva7kuoZpZnJhbWXlrrnlmajvvIzkvYbmmK/msqHmnInliJvlu7rpga7nvalcclxuICAgIGlmICh0aGlzLl9yZWxhdGVkSWZyYW1lUGFyZW50ICYmICF0aGlzLl9yZWxhdGVkSWZyYW1lT3ZlcmxheSkge1xyXG4gICAgICB0aGlzLmdldFJlbGF0ZWRJZnJhbWVQYXJlbnQodGhpcy5fcmVsYXRlZElmcmFtZVBhcmVudCk7XHJcbiAgICB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIOeCueWHu+WPjuaKmFxyXG4gICAqIEBwYXJhbSBldmVudCBcclxuICAgKi9cclxuICB0b2dnbGUoZXZlbnQpIHtcclxuICAgIGV2ZW50JiZldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgIGlmICh0aGlzLmRpc2FibGVkKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIC8vIOWIneWni+ayoeacieWKoOS4iui/meS4quagt+W8j++8jOaYr+mBv+WFjeWIneWni+iuvue9ruaUtui1t+eahOaXtuWAme+8jOeci+WIsOacieWPjuaKmOeahOWKqOeUu1xyXG4gICAgdGhpcy5yZW5kZXJlciYmdGhpcy5yZW5kZXJlci5hZGRDbGFzcyh0aGlzLmVsLnF1ZXJ5U2VsZWN0b3IoJy5mLWxpc3QtbmF2LWluJyksIHRoaXMuYW5pbWF0ZUNscyk7XHJcbiAgICB0aGlzLmluaXRDb2xsYXBzZT0hdGhpcy5pbml0Q29sbGFwc2U7XHJcbiAgICB0aGlzLm5hdlN0YXRlQ2hhbmdlLmVtaXQoeyAnc2hvd05hdic6ICF0aGlzLmhpZGVOYXYgfSk7XHJcbiAgfVxyXG5cclxuXHJcblxyXG4gIC8vLS3mnKrkvb/nlKhcclxuICBob3ZlclRvZ2dsZShldmVudCkge1xyXG4gICAgdGhpcy5oaWRlTmF2ID0gIXRoaXMuaGlkZU5hdjtcclxuICAgIHRoaXMubmF2U3RhdGVDaGFuZ2UuZW1pdCh7ICdzaG93TmF2JzogIXRoaXMuaGlkZU5hdiB9KTtcclxuICB9XHJcbiAgLyoqXHJcbiAgICAqICDmi5bmi73nmoTlj5jljJbkuK3kuovku7ZcclxuICAgICogIOWmguaenOi2hei/h+mYiOWAvO+8jOS4jeWkhOeQhlxyXG4gICAgKiAg5pqC5pyq5aSE55CG5ouW5ou95pyA5aSn44CB5pyA5bCP5YC855qE6Zeu6aKYXHJcbiAgICAqL1xyXG4gIG9uUlpSZXNpemluZyhwb3MpIHtcclxuICAgIGlmIChwb3MgJiYgcG9zW1wic2l6ZVwiXSkge1xyXG4gICAgICBsZXQgY2hhbmdlUHJvcCA9IHRoaXMuZ2V0U3R5bGVQcm9wKCk7XHJcbiAgICAgIGxldCByZXNpemVEaXJlY3Rpb24gPSBcIlwiO1xyXG4gICAgICBpZiAodGhpcy5yZXNpemVEaXN0YW5jZSA+PSAwKSB7XHJcbiAgICAgICAgLy8g5byA5aeL6K6w5b2V5ZCOXHJcbiAgICAgICAgLy8g5q2k5qyh5YC85q+U5LiK5qyh6K6w5b2V5aSn77yM6K+05piO5ZyoZXhwYW5kXHJcbiAgICAgICAgcmVzaXplRGlyZWN0aW9uID1cclxuICAgICAgICAgIHBvc1tcInNpemVcIl1bY2hhbmdlUHJvcF0gPiB0aGlzLnJlc2l6ZURpc3RhbmNlXHJcbiAgICAgICAgICAgID8gXCJleHBhbmRcIlxyXG4gICAgICAgICAgICA6IFwiY29sbGFwc2VcIjtcclxuICAgICAgfVxyXG4gICAgICB0aGlzLnJlc2l6ZURpc3RhbmNlID0gcG9zW1wic2l6ZVwiXVtjaGFuZ2VQcm9wXTtcclxuICAgICAgaWYgKHJlc2l6ZURpcmVjdGlvbiA9PSBcImV4cGFuZFwiICYmIHRoaXMuaW5pdENvbGxhcHNlKSB7XHJcbiAgICAgICAgdGhpcy5pbml0Q29sbGFwc2UgPSBmYWxzZTtcclxuICAgICAgfVxyXG4gICAgICBpZiAoXHJcbiAgICAgICAgcG9zW1wic2l6ZVwiXVtjaGFuZ2VQcm9wXSA+IHRoaXMucmVzaXplQ29sbGFwc2VUaHJlc2hvbGQgfHxcclxuICAgICAgICAhcmVzaXplRGlyZWN0aW9uXHJcbiAgICAgICkge1xyXG4gICAgICAgIC8vIOaLluaLvemAn+W6puW/q+eahOaXtuWAme+8jOS8mua8j+aOieiuoeeul+eahOaXtuaculxyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKHRoaXMucmVzaXplQ29sbGFwc2VUaHJlc2hvbGQgPiAwKSB7XHJcbiAgICAgICAgLy8g6K6+572u5LqG6Ieq5Yqo5Y+O5oqY6ZiI5YC8XHJcbiAgICAgICAgaWYgKCF0aGlzLmluaXRDb2xsYXBzZSAmJiByZXNpemVEaXJlY3Rpb24gPT0gXCJjb2xsYXBzZVwiKSB7XHJcbiAgICAgICAgICAvLyDlpITnkIbmi5bmi73lj47mipjov4fnqIvkuK3vvIzoh6rliqjmlLbotbfvvJvkuI3lpITnkIblsZXlvIDov4fnqIvkuK3nmoTvvIzoh6rliqjlsZXlvIBcclxuICAgICAgICAgIGlmIChcclxuICAgICAgICAgICAgcG9zW1wiYWN0aW9uc1wiXSAmJlxyXG4gICAgICAgICAgICBwb3NbXCJhY3Rpb25zXCJdLmhhc093blByb3BlcnR5KFwic3RvcFJlc2l6ZVwiKVxyXG4gICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgIHBvc1tcImFjdGlvbnNcIl1bXCJzdG9wUmVzaXplXCJdKCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICB0aGlzLnRvZ2dsZShudWxsKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgLy8g5pyq6K6+572u6Ieq5Yqo5Y+O5oqY6ZiI5YC877yM6ZyA6KaB5Y2V54us5aSE55CGIOWNs+WwhuaUtui1t+aXtueKtuaAgeOAgeWNs+WwhuWxleW8gOaXtueKtuaAgVxyXG4gICAgICAgIGlmIChyZXNpemVEaXJlY3Rpb24gPT0gXCJjb2xsYXBzZVwiKSB7XHJcbiAgICAgICAgICBpZiAocG9zW1wic2l6ZVwiXVtjaGFuZ2VQcm9wXSA8IDMgJiYgIXRoaXMuaW5pdENvbGxhcHNlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaW5pdENvbGxhcHNlID0gdHJ1ZTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHRoaXMucnpSZXNpemluZy5lbWl0KHBvcyk7XHJcbiAgfVxyXG4gIC8vIOaLluaLveeahOW8gOWni+eahOS6i+S7tlxyXG4gIG9uUlpTdGFydChwb3MpIHtcclxuICAgIC8vIOemgeeUqOWPjuaKmFxyXG4gXHJcbiAgICAgIGlmICh0aGlzLmRyYWdnYWJsZVdyYXBwZXIubmF0aXZlRWxlbWVudC5jbGFzc05hbWUuaW5kZXhPZih0aGlzLmFuaW1hdGVDbHMpID4gLTEpIHtcclxuICAgICAgICB0aGlzLnJlbmRlcmVyLnJlbW92ZUNsYXNzKHRoaXMuZHJhZ2dhYmxlV3JhcHBlci5uYXRpdmVFbGVtZW50LCB0aGlzLmFuaW1hdGVDbHMpO1xyXG4gICAgICB9XHJcbiAgICAvLyDlpoLmnpzmnIlpZnJhbWXpga7nvanlubbkuJTmsqHmnInmmL7npLpcclxuICAgIGlmICh0aGlzLl9yZWxhdGVkSWZyYW1lT3ZlcmxheSAmJiAhdGhpcy5faWZyYW1lT3ZlcmxheVNob3duRmxhZykge1xyXG4gICAgICBpZiAoXHJcbiAgICAgICAgW1wicmVsYXRpdmVcIiwgXCJhYnNvbHV0ZVwiXS5pbmRleE9mKFxyXG4gICAgICAgICAgdGhpcy5fcmVsYXRlZENvbnRhaW5lclBvc2l0aW9uXHJcbiAgICAgICAgKSA8IDBcclxuICAgICAgKSB7XHJcbiAgICAgICAgdGhpcy5yZW5kZXJlci5zZXRTdHlsZShcclxuICAgICAgICAgIHRoaXMuX3JlbGF0ZWRDb250YWluZXIsXHJcbiAgICAgICAgICBcInBvc2l0aW9uXCIsXHJcbiAgICAgICAgICBcInJlbGF0aXZlXCJcclxuICAgICAgICApO1xyXG4gICAgICB9XHJcbiAgICAgIHRoaXMucmVuZGVyZXIuc2V0U3R5bGUoXHJcbiAgICAgICAgdGhpcy5fcmVsYXRlZElmcmFtZU92ZXJsYXksXHJcbiAgICAgICAgXCJkaXNwbGF5XCIsXHJcbiAgICAgICAgXCJibG9ja1wiXHJcbiAgICAgICk7XHJcbiAgICAgIHRoaXMuX2lmcmFtZU92ZXJsYXlTaG93bkZsYWcgPSB0cnVlO1xyXG4gICAgfVxyXG4gICAgaWYgKFxyXG4gICAgICAhdGhpcy51cGRhdGVQYXJhbXNGbGFnICYmXHJcbiAgICAgIHBvc1tcImFjdGlvbnNcIl0gJiZcclxuICAgICAgcG9zW1wiYWN0aW9uc1wiXS5oYXNPd25Qcm9wZXJ0eShcInVwZGF0ZVBhcmFtc1wiKVxyXG4gICAgKSB7XHJcbiAgICAgIHBvc1tcImFjdGlvbnNcIl1bXCJ1cGRhdGVQYXJhbXNcIl0oeyBmaXhlZEVkZ2U6IHRydWUgfSk7XHJcbiAgICAgIHRoaXMudXBkYXRlUGFyYW1zRmxhZyA9IHRydWU7XHJcbiAgICB9XHJcbiAgICB0aGlzLnJ6U3RhcnQuZW1pdChwb3MpO1xyXG4gIH1cclxuICAvLyDmi5bmi73nmoTlgZzmraLkuovku7ZcclxuICBvblJaU3RvcChwb3MpIHtcclxuICAgIHRoaXMucmVzaXplRGlzdGFuY2UgPSAtMTtcclxuICAgIC8vIOWmguaenOaciWlmcmFtZemBrue9qeW5tuS4lOaYvuekuuS6hlxyXG4gICAgaWYgKHRoaXMuX3JlbGF0ZWRJZnJhbWVPdmVybGF5ICYmIHRoaXMuX2lmcmFtZU92ZXJsYXlTaG93bkZsYWcpIHtcclxuICAgICAgaWYgKFxyXG4gICAgICAgIFtcInJlbGF0aXZlXCIsIFwiYWJzb2x1dGVcIl0uaW5kZXhPZihcclxuICAgICAgICAgIHRoaXMuX3JlbGF0ZWRDb250YWluZXJQb3NpdGlvblxyXG4gICAgICAgICkgPCAwXHJcbiAgICAgICkge1xyXG4gICAgICAgIHRoaXMucmVuZGVyZXIuc2V0U3R5bGUoXHJcbiAgICAgICAgICB0aGlzLl9yZWxhdGVkQ29udGFpbmVyLFxyXG4gICAgICAgICAgXCJwb3NpdGlvblwiLFxyXG4gICAgICAgICAgdGhpcy5fcmVsYXRlZENvbnRhaW5lclBvc2l0aW9uXHJcbiAgICAgICAgKTtcclxuICAgICAgfVxyXG4gICAgICB0aGlzLnJlbmRlcmVyLnNldFN0eWxlKFxyXG4gICAgICAgIHRoaXMuX3JlbGF0ZWRJZnJhbWVPdmVybGF5LFxyXG4gICAgICAgIFwiZGlzcGxheVwiLFxyXG4gICAgICAgIFwibm9uZVwiXHJcbiAgICAgICk7XHJcbiAgICAgIHRoaXMuX2lmcmFtZU92ZXJsYXlTaG93bkZsYWcgPSBmYWxzZTtcclxuICAgIH1cclxuICAgIHRoaXMucnpTdG9wLmVtaXQocG9zKTtcclxuICB9XHJcbiAgLyoqXHJcbiAqIOW4g+WxgOaOkuWIl+S4jeS4gOagt++8jOW9seWTjeWIsOaYr+iuvue9ruWuveW6pui/mOaYr+mrmOW6plxyXG4gKi9cclxuICBwcml2YXRlIGdldFN0eWxlUHJvcCgpIHtcclxuICAgIGxldCBob3JpID0gW1wibGVmdFwiLCBcInJpZ2h0XCJdLmZpbmRJbmRleChcclxuICAgICAgaXRlbSA9PiBpdGVtID09IHRoaXMucG9zaXRpb25cclxuICAgICk7XHJcbiAgICByZXR1cm4gaG9yaSA+IC0xID8gXCJ3aWR0aFwiIDogXCJoZWlnaHRcIjtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIOinhOiMg+iOt+WPlmlmcmFtZeaJgOWcqOeahOeItuWuueWZqFxyXG4gICAqL1xyXG4gIHByaXZhdGUgZ2V0UmVsYXRlZElmcmFtZVBhcmVudChjb250ZW50KSB7XHJcbiAgICBpZiAoIWNvbnRlbnQgfHwgIXRoaXMuZWxlbWVudFJlZikge1xyXG4gICAgICB0aGlzLl9yZWxhdGVkQ29udGFpbmVyID0gbnVsbDtcclxuICAgIH1cclxuICAgIGlmIChjb250ZW50IGluc3RhbmNlb2YgRWxlbWVudFJlZikge1xyXG4gICAgICB0aGlzLl9yZWxhdGVkQ29udGFpbmVyID0gY29udGVudC5uYXRpdmVFbGVtZW50O1xyXG4gICAgfSBlbHNlIGlmICh0eXBlb2YgY29udGVudCA9PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgIHRoaXMuX3JlbGF0ZWRDb250YWluZXIgPSB0aGlzLmVsZW1lbnRSZWYubmF0aXZlRWxlbWVudC5wYXJlbnRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgICAgY29udGVudFxyXG4gICAgICApO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5fcmVsYXRlZENvbnRhaW5lciA9IGNvbnRlbnQ7XHJcbiAgICB9XHJcbiAgICBpZiAodGhpcy5fcmVsYXRlZENvbnRhaW5lcikge1xyXG4gICAgICB0aGlzLl9yZWxhdGVkQ29udGFpbmVyUG9zaXRpb24gPSB0aGlzLl9yZWxhdGVkQ29udGFpbmVyW1wic3R5bGVcIl1bXHJcbiAgICAgICAgXCJwb3NpdGlvblwiXHJcbiAgICAgIF07XHJcbiAgICAgIC8vIOaehOmAoOmBrue9qeWxglxyXG4gICAgICB0aGlzLl9yZWxhdGVkSWZyYW1lT3ZlcmxheSA9IHRoaXMucmVuZGVyZXIuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICAgICAgdGhpcy5fcmVsYXRlZElmcmFtZU92ZXJsYXkuY2xhc3NOYW1lID0gXCJmLXV0aWxzLWFic29sdXRlLWFsbFwiO1xyXG4gICAgICB0aGlzLnJlbmRlcmVyLnNldFN0eWxlKFxyXG4gICAgICAgIHRoaXMuX3JlbGF0ZWRJZnJhbWVPdmVybGF5LFxyXG4gICAgICAgIFwiZGlzcGxheVwiLFxyXG4gICAgICAgIFwibm9uZVwiXHJcbiAgICAgICk7XHJcbiAgICAgIHRoaXMucmVuZGVyZXIuYXBwZW5kQ2hpbGQoXHJcbiAgICAgICAgdGhpcy5fcmVsYXRlZENvbnRhaW5lcixcclxuICAgICAgICB0aGlzLl9yZWxhdGVkSWZyYW1lT3ZlcmxheVxyXG4gICAgICApO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG4iXX0=