{"version":3,"file":"farris-ui-tooltip.umd.js.map","sources":["ng://@farris/ui-tooltip/lib/attention.service.ts","ng://@farris/ui-tooltip/lib/tooltip.service.ts","ng://@farris/ui-tooltip/lib/tooltip-component/tooltip.component.ts","ng://@farris/ui-tooltip/lib/tooltip.directive.ts","ng://@farris/ui-tooltip/lib/inputTips.directive.ts","ng://@farris/ui-tooltip/lib/tooltip-safe-html.pipe.ts","ng://@farris/ui-tooltip/lib/tooltip.module.ts"],"sourcesContent":["import { Injectable, OnInit, Renderer2, RendererFactory2, NgZone } from '@angular/core';\r\nexport interface AttentionElement {\r\n    idOrEl: any;\r\n    type?:string;// è®¡åé»è®¤ debounce\r\n    class?: string;\r\n}\r\n\r\n@Injectable({\r\n    providedIn: 'root'\r\n})\r\nexport class AttentionService implements OnInit {\r\n    private renderer: Renderer2\r\n    constructor(renderFac: RendererFactory2, public ngZone: NgZone) {\r\n        this.renderer = renderFac.createRenderer(null, null);\r\n    }\r\n\r\n    catchAttention(els: AttentionElement[], timer = 600) {\r\n        if (els && els.length > 0) {\r\n            let attentionEls = [];\r\n            for (let k = 0; k < els.length; k++) {\r\n                var attentionEl;\r\n                if (typeof els[k].idOrEl == 'string') {\r\n                    attentionEl = document.getElementById(els[k].idOrEl);\r\n                } else {\r\n                    attentionEl = els[k].idOrEl;\r\n                }\r\n                if (attentionEl) {\r\n                    attentionEls.push(attentionEl);\r\n                    this.renderer.addClass(attentionEl, 'f-catch-attention-debounce');\r\n                }\r\n            }\r\n            // ç§»é¤class\r\n            this.ngZone.runOutsideAngular(() => {\r\n                setTimeout(() => {\r\n                    for (let m = 0; m < attentionEls.length; m++) {\r\n                        this.renderer.removeClass(attentionEls[m], 'f-catch-attention-debounce');\r\n                    }\r\n                }, timer);\r\n            });\r\n        }\r\n    }\r\n    ngOnInit() {\r\n    }\r\n}\r\n","import { Injectable, OnInit } from '@angular/core';\r\nimport { Subject } from 'rxjs';\r\n\r\nexport interface PlacementInfo {\r\n  placement: string;\r\n  top: number;\r\n  left: number;\r\n}\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class TooltipService implements OnInit {\r\n\r\n  /* tooltipä½ç½® */\r\n  public placement$ = new Subject<PlacementInfo>();\r\n\r\n  /* tooltipæ§å¶æ¾ç¤º */\r\n  public show$ = new Subject<boolean>();\r\n\r\n  /* è®¡ç®ä½ç½® */\r\n  public calPosition$ = new Subject<any>();\r\n  constructor() { }\r\n\r\n  ngOnInit() {\r\n  }\r\n}\r\n","import {\r\n    Component, Input, TemplateRef, ElementRef, OnInit,\r\n    ViewChild, ViewContainerRef, HostBinding, ViewEncapsulation, SimpleChanges, Renderer2, NgZone\r\n} from '@angular/core';\r\nimport { AfterViewInit } from '@angular/core';\r\n@Component({\r\n    selector: 'farris-tooltip',\r\n    templateUrl: './tooltip.component.html',\r\n    styleUrls: ['./tooltip.component.scss'],\r\n    encapsulation: ViewEncapsulation.None\r\n})\r\n\r\nexport class TooltipComponent implements OnInit, AfterViewInit {\r\n\r\n    @ViewChild('contentViewf', { read: ViewContainerRef }) contentViewf: ViewContainerRef;\r\n\r\n    @ViewChild('tooltipEle', { read: ElementRef }) tooltipNode: ElementRef;\r\n    @ViewChild('arrowEle', { read: ElementRef }) arrowNode: ElementRef;\r\n    @ViewChild('innerEle', { read: ElementRef }) innerNode: ElementRef;\r\n\r\n    @Input() zIndex = \"1070\";\r\n\r\n    contentIsString = true;\r\n    /* æ®éææ¬åå®¹ */\r\n    @Input()\r\n    set content(value: string | TemplateRef<any>) {\r\n        if (value instanceof TemplateRef) {\r\n            this.contentIsString = false;\r\n            this.contentViewf.createEmbeddedView(value);\r\n        } else {\r\n            this.contentIsString = true;\r\n            this.nfContent = value;\r\n        }\r\n    }\r\n    get content() {\r\n        return this.nfContent;\r\n    }\r\n    private _tipWidth = '';\r\n    /**å ä¸ºè¡¨åçææ²¡ææé¤factory,ä¸è½ä½¿ç¨æ¨¡æ¿ */\r\n    @Input()\r\n    set tipWidth(value) {\r\n        if (value != this._tipWidth) {\r\n            if (value) {\r\n                this.render.setStyle(this.innerNode.nativeElement, 'width', value);\r\n                this.render.setStyle(this.innerNode.nativeElement, 'max-width', 'none');\r\n            } else {\r\n                this.render.removeStyle(this.innerNode.nativeElement, 'width');\r\n                this.render.removeStyle(this.innerNode.nativeElement, 'max-width');\r\n            }\r\n            this._tipWidth = value;\r\n        }\r\n    }\r\n    get tipWidth() {\r\n        return this._tipWidth;\r\n    }\r\n    private _tipCls = '';\r\n    @Input()\r\n    set tipCls(value) {\r\n        if (value != this._tipCls) {\r\n            //ç§»é¤æ§æ ·å¼\r\n            this._tipCls && this.render.removeClass(this.el.nativeElement, this._tipCls);\r\n            //è¿½å æ°æ ·å¼\r\n            value && this.render.addClass(this.el.nativeElement, value);\r\n            this._tipCls = value;\r\n        }\r\n    }\r\n    get tipCls() {\r\n        return this._tipCls;\r\n    }\r\n    /* ä½ç½® */\r\n    @Input() placement = 'top';\r\n    private rectifyPlacement = 'top';\r\n    // ç®­å¤´ä½ç½®åç§\r\n    hostBoundingClientRect: any;\r\n    // è¾¹çä½ç½®åç§\r\n    referenceBoundingRect: any;\r\n    private rectifyGutter = 20;\r\n\r\n    nfContent: string | TemplateRef<any>;\r\n\r\n    /* ä½ç½®æ ·å¼ */\r\n    positionStyle = {};\r\n\r\n    constructor(\r\n        public el: ElementRef,\r\n        private render: Renderer2\r\n    ) {\r\n    }\r\n\r\n    ngOnInit() {\r\n    }\r\n    ngAfterViewInit() {\r\n        if (this.hostBoundingClientRect) {\r\n            this.judgeWidth();\r\n            this.autoRectifyDirection();\r\n            this.calculatePosition(this.hostBoundingClientRect);\r\n        }\r\n    }\r\n    /**\r\n     * è§åå¤æ­é»è®¤æ ·å¼ä¸åºç°æ»å¨æ¡ï¼å°ºå¯¸ä»é»è®¤åæå¤§å·\r\n     */\r\n    judgeWidth() {\r\n        if (this.innerNode.nativeElement.scrollHeight > this.innerNode.nativeElement.clientHeight) {\r\n            this.render.addClass(this.innerNode.nativeElement, 'tooltip-inner-lg');\r\n        }\r\n    }\r\n    // èªå¨çº æ­£æ¹å\r\n    private autoRectifyDirection() {\r\n        // æ è®°é»è®¤å¼\r\n        this.rectifyPlacement = this.placement;\r\n        // æ´ä¸ªæç¤ºä½ç½®\r\n        const tooltipSize = this.tooltipNode.nativeElement.getBoundingClientRect();\r\n        const arrowSize = this.arrowNode.nativeElement.getBoundingClientRect();\r\n        /*ä¸èèï¼æç¤ºæ¡å¤ªå¤§çæåµ,åªèèä¸æ¬¡è½¬æ¢ä½ç½®ï¼\r\n        å¤ªå¤æçåºæ¯ï¼å®éé¡¹ç®ä¸­ä¸ä¼åºç°ï¼ç®åå¤çæ­¤é®é¢\r\n        if(this.referenceBoundingRect.width>tooltipSize){\r\n        }*/\r\n        switch (this.placement) {\r\n            case 'top':\r\n            case 'top-left':\r\n            case 'top-right':\r\n                if (Math.abs(this.hostBoundingClientRect.top - this.referenceBoundingRect.top) < tooltipSize.height + arrowSize.height) {\r\n                    // é«åº¦æ¾ä¸å¼ï¼è½¬å\r\n                    this.rectifyPlacement = this.rectifyPlacement.replace('top', 'bottom');\r\n                }\r\n                break;\r\n            case 'bottom':\r\n            case 'bottom-left':\r\n            case 'bottom-right':\r\n                if (Math.abs(this.hostBoundingClientRect.bottom - this.referenceBoundingRect.bottom) < tooltipSize.height + arrowSize.height) {\r\n                    // é«åº¦æ¾ä¸å¼ï¼è½¬å\r\n                    this.rectifyPlacement = this.rectifyPlacement.replace('bottom', 'top');\r\n                }\r\n                break;\r\n            case 'right':\r\n            case 'right-top':\r\n            case 'right-bottom':\r\n                if (Math.abs(this.hostBoundingClientRect.right - this.referenceBoundingRect.right) < tooltipSize.width + arrowSize.width) {\r\n                    // å®½åº¦æ¾ä¸å¼ï¼è½¬å\r\n                    this.rectifyPlacement = this.rectifyPlacement.replace('right', 'left');\r\n                }\r\n                break;\r\n            case 'left':\r\n            case 'left-top':\r\n            case 'left-bottom':\r\n                if (Math.abs(this.hostBoundingClientRect.left - this.referenceBoundingRect.left) < tooltipSize.width + arrowSize.width) {\r\n                    // å®½åº¦æ¾ä¸å¼ï¼è½¬å\r\n                    this.rectifyPlacement = this.rectifyPlacement.replace('left', 'right');\r\n                }\r\n                break;\r\n\r\n        }\r\n        if (this.rectifyPlacement != this.placement) {\r\n            this.tooltipNode.nativeElement.classList.remove('bs-tooltip-' + this.offsetDirection(this.placement));\r\n            this.tooltipNode.nativeElement.classList.add('bs-tooltip-' + this.offsetDirection(this.rectifyPlacement));\r\n        }\r\n    }\r\n    /**\r\n     * å¤æ­æ¯å¦è¶åºè¾¹ç\r\n     */\r\n    private isOverBounding(rect, value) {\r\n        let isOver = false;\r\n        let newValue = 0;\r\n        switch (rect) {\r\n            case 'left':\r\n                if (value <= this.referenceBoundingRect.left) {\r\n                    isOver = true;\r\n                    newValue = this.referenceBoundingRect.left + this.rectifyGutter;\r\n                }\r\n                break;\r\n            case 'right':\r\n                if (value >= this.referenceBoundingRect.right) {\r\n                    isOver = true;\r\n                    newValue = this.referenceBoundingRect.right - this.rectifyGutter;\r\n                }\r\n                break;\r\n            case 'top':\r\n                if (value <= this.referenceBoundingRect.top) {\r\n                    isOver = true;\r\n                    newValue = this.referenceBoundingRect.top + this.rectifyGutter;\r\n                }\r\n                break;\r\n            case 'bottom':\r\n                if (value >= this.referenceBoundingRect.bottom) {\r\n                    isOver = true;\r\n                    newValue = this.referenceBoundingRect.bottom - this.rectifyGutter;\r\n                }\r\n                break;\r\n        }\r\n        return { isOver, newValue };\r\n    }\r\n\r\n    private containsEl(datas, specialEl = '') {\r\n        if (!specialEl) {\r\n            specialEl = this.rectifyPlacement;\r\n        }\r\n        for (var i = 0; i < datas.length; i++) {\r\n            if (datas[i] == specialEl)\r\n                return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    /* è®¡ç®tooltipææ°ä½ç½® */\r\n    calculatePosition(hostPosition: any) {\r\n        let top = 0;\r\n        let left = 0;\r\n        let right = 0;\r\n        let bottom = 0;\r\n        // æ´ä¸ªæç¤ºä½ç½®\r\n        const tooltipSize = this.tooltipNode.nativeElement.getBoundingClientRect();\r\n        const arrowSize = this.arrowNode.nativeElement.getBoundingClientRect();\r\n\r\n        switch (this.rectifyPlacement) {\r\n            case 'top':\r\n                top = hostPosition.top - tooltipSize.height - 2;\r\n                left = hostPosition.left + (hostPosition.width - tooltipSize.width) / 2;\r\n                right = left + tooltipSize.width;\r\n                break;\r\n            case 'left':\r\n                top = hostPosition.top + (hostPosition.height - tooltipSize.height) / 2;\r\n                left = hostPosition.left - tooltipSize.width - 2;\r\n                break;\r\n            case 'right':\r\n                top = hostPosition.top + (hostPosition.height - tooltipSize.height) / 2;\r\n                left = hostPosition.right + 2;\r\n                break;\r\n            case 'bottom':\r\n                top = hostPosition.bottom + arrowSize.height + 2;\r\n                left = hostPosition.left + (hostPosition.width - tooltipSize.width) / 2;\r\n                right = left + tooltipSize.width;\r\n                break;\r\n            case 'top-left':\r\n                top = hostPosition.top - tooltipSize.height - 2;\r\n                left = hostPosition.left;\r\n                right = left + tooltipSize.width;\r\n                break;\r\n            case 'top-right':\r\n                top = hostPosition.top - tooltipSize.height - 2;\r\n                left = hostPosition.right - tooltipSize.width;\r\n                right = hostPosition.right;\r\n                break;\r\n            case 'right-top':\r\n                top = hostPosition.top;\r\n                left = hostPosition.right + 2;\r\n                this.arrowNode.nativeElement.style.top = '10%';\r\n                break;\r\n            case 'right-bottom':\r\n                top = hostPosition.bottom - tooltipSize.height;\r\n                left = hostPosition.right + 2;\r\n                this.arrowNode.nativeElement.style.bottom = '10%';\r\n                break;\r\n            case 'bottom-left':\r\n                top = hostPosition.bottom + arrowSize.height + 2;\r\n                left = hostPosition.left;\r\n                right = left + tooltipSize.width;\r\n                break;\r\n            case 'bottom-right':\r\n                top = hostPosition.bottom + arrowSize.height + 2;\r\n                left = hostPosition.right - tooltipSize.width;\r\n                right = hostPosition.right;\r\n                break;\r\n            case 'left-top':\r\n                top = hostPosition.top;\r\n                left = hostPosition.left - tooltipSize.width - 2;\r\n                this.arrowNode.nativeElement.style.top = '10%';\r\n                break;\r\n            case 'left-bottom':\r\n                top = hostPosition.bottom - tooltipSize.height;\r\n                left = hostPosition.left - tooltipSize.width - 2;\r\n                this.arrowNode.nativeElement.style.bottom = '10%';\r\n        }\r\n        let overResult;\r\n        let arrowLeft = 0;\r\n        let arrowTop = 0\r\n        switch (this.rectifyPlacement) {\r\n            case 'top':\r\n            case 'top-left':\r\n            case 'top-right':\r\n            case 'bottom':\r\n            case 'bottom-left':\r\n            case 'bottom-right':\r\n                overResult = this.isOverBounding('left', left);\r\n                if (overResult.isOver) {\r\n                    left = overResult.newValue;\r\n                } else {\r\n                    overResult = this.isOverBounding('right', right);\r\n                    if (overResult.isOver) {\r\n                        left = overResult.newValue - tooltipSize.width;\r\n                    }\r\n                }\r\n                arrowLeft = left - hostPosition.left - hostPosition.width * 0.5 + arrowSize.width * 0.5;\r\n                if (this.rectifyPlacement.indexOf('-left') > 0) {\r\n                    arrowLeft += hostPosition.width * 0.4;\r\n                } else if (this.rectifyPlacement.indexOf('-right') > 0) {\r\n                    arrowLeft -= hostPosition.width * 0.4;\r\n                }\r\n                this.arrowNode.nativeElement.style.left = Math.abs(arrowLeft) + 'px';\r\n                break;\r\n            default:\r\n                overResult = this.isOverBounding('top', top);\r\n\r\n                if (overResult.isOver) {\r\n                    top = overResult.newValue;\r\n                } else {\r\n                    overResult = this.isOverBounding('bottom', bottom);\r\n                    if (overResult.isOver) {\r\n                        top = overResult.newValue - tooltipSize.height;\r\n                    }\r\n                }\r\n                arrowTop = top - hostPosition.top - hostPosition.height * 0.5 + arrowSize.height * 0.5;;\r\n                if (this.rectifyPlacement.indexOf('-top') > 0) {\r\n                    arrowTop += hostPosition.height * 0.4;\r\n                } else if (this.rectifyPlacement.indexOf('-bottom') > 0) {\r\n                    arrowTop -= hostPosition.height * 0.4;\r\n                }\r\n                this.arrowNode.nativeElement.style.top = Math.abs(arrowTop) + 'px';\r\n        }\r\n        this.tooltipNode.nativeElement.style.top = top + 'px';\r\n        this.tooltipNode.nativeElement.style.left = left + 'px';\r\n\r\n    }\r\n\r\n    /* \r\n    *12ä¸ªä½ç½®åè§£æ \r\n    * å è¡¨åçææ²¡ææé¤factory,èä¸ä½¿ç¨äº[class],åªè½å¨æ­¤å¤åæ´\r\n    */\r\n    offsetDirection(tplacement = '') {\r\n        if (!tplacement) {\r\n            tplacement = this.placement;\r\n        }\r\n        if (tplacement.indexOf('-') !== -1) {\r\n            const index = tplacement.indexOf('-');\r\n            return tplacement.substring(0, index);\r\n        }\r\n        return tplacement;\r\n    }\r\n}\r\n","import {\r\n    OnInit,\r\n    Directive,\r\n    Input,\r\n    ElementRef,\r\n    AfterViewInit,\r\n    Renderer2,\r\n    OnDestroy,\r\n    TemplateRef,\r\n    ComponentFactory,\r\n    ViewContainerRef,\r\n    ComponentFactoryResolver,\r\n    NgZone,\r\n    ComponentRef,\r\n} from \"@angular/core\";\r\nimport { OverLayHiddenService, CommonUtils } from \"@farris/ui-common\";\r\nimport { TooltipComponent } from \"./tooltip-component/tooltip.component\";\r\n@Directive({\r\n    selector: \"[farrisTooltip]\",\r\n})\r\nexport class FarrisTooltipDirective\r\n    implements OnInit, AfterViewInit, OnDestroy\r\n{\r\n    private tooltipEnable: boolean = true;\r\n    private _componentRef: ComponentRef<TooltipComponent>;\r\n    // 5æ7æ¥è¿½å è¿ç§åæ³ï¼æ§å¶ç¦ç¨ãå¯ç¨\r\n    // åæ¥çæ¶åvalueæ¯ç©ºå­ç¬¦ä¸²\r\n    @Input(\"farrisTooltip\")\r\n    set enableTooltip(value: any) {\r\n        if (typeof value == \"string\" && value == \"\") {\r\n            this.enableOrDisable(true);\r\n        } else {\r\n            this.enableOrDisable(value);\r\n        }\r\n    }\r\n    get enableTooltip() {\r\n        return this.tooltipEnable;\r\n    }\r\n    /* æç¤ºææ¬ */\r\n    @Input() text = \"\";\r\n    // æç¤ºæ¡æ ·å¼\r\n    @Input() tipCls = \"\";\r\n    // æç¤ºæ¡å®½åº¦\r\n    @Input() tipWidth = \"\";\r\n    /* ä½ç½® */\r\n    @Input() placement = \"top\";\r\n\r\n    @Input() zIndex = '';\r\n\r\n    private triggerMode = \"hover\";\r\n\r\n    /* è§¦åæ¹å¼ */\r\n    @Input()\r\n    set trigger(value) {\r\n        if (value) {\r\n            if (value !== this.triggerMode) {\r\n                this.triggerMode = value;\r\n                this.unbindEvent();\r\n                this.bindEvent();\r\n            }\r\n        }\r\n    }\r\n    get trigger() {\r\n        return this.triggerMode;\r\n    }\r\n\r\n    /* ç¦ç¨---è·å¶ä»æ§ä»¶çå±æ§å®¹æå²çªï¼éæ¸åºå¼ã\r\n     * æ¯å¦æé®å¯ä»¥è®¾ç½®ç¦ç¨ä¸è§¦åç¹å»ï¼ä½æ³ç»åºç¹å»æç¤ºï¼è¿æ ·å°±å²çªäº\r\n     */\r\n    @Input()\r\n    set disable(value) {\r\n        this.enableOrDisable(!value);\r\n    }\r\n    get disable() {\r\n        return !this.tooltipEnable;\r\n    }\r\n\r\n    @Input() showTip: boolean = true;\r\n    // æ¨ªåçº æ­£çåç§\r\n    @Input() rectifyReferenceH: Element | ElementRef | string;\r\n    // çºµåçº æ­£çåç§\r\n    @Input() rectifyReferenceV: Element | ElementRef | string;\r\n\r\n    @Input() delay = 0;\r\n\r\n    /* åå®¹æ¨¡æ¿ */\r\n    @Input() content: string | TemplateRef<any>;\r\n\r\n    mouseenterEvent: any;\r\n    mouseleaveEvent: any;\r\n    clickEvent: any;\r\n    clickOutEvent: any;\r\n    focusDownEvent: any;\r\n    focusUpEvent: any;\r\n    docBody: any;\r\n    // æ¯å¦ç»å®äºäºä»¶\r\n    private hasBindEvent = false;\r\n\r\n    private delayTimer = null;\r\n\r\n    /* çææç¤ºç»ä»¶ */\r\n    componentFactory: ComponentFactory<TooltipComponent> =\r\n        this.resolver.resolveComponentFactory(TooltipComponent);\r\n\r\n    tooltipRef: any;\r\n    tooltip: TooltipComponent;\r\n    overLayService: OverLayHiddenService;\r\n    commUtils: CommonUtils;\r\n    constructor(\r\n        private el: ElementRef,\r\n        private render: Renderer2,\r\n        private viewContainerRef: ViewContainerRef,\r\n        private resolver: ComponentFactoryResolver\r\n    ) {\r\n        this.overLayService = new OverLayHiddenService();\r\n        this.commUtils = new CommonUtils();\r\n    }\r\n\r\n    ngOnInit() {\r\n        this.bindEvent();\r\n    }\r\n\r\n    ngAfterViewInit(): void {}\r\n\r\n    ngOnDestroy() {\r\n        this.unbindEvent();\r\n        this.removeTooltip();\r\n\r\n        this.overLayService.destory(this.el.nativeElement);\r\n        this.overLayService = null;\r\n    }\r\n    private enableOrDisable(value) {\r\n        this.tooltipEnable = value;\r\n        if (this.tooltipEnable) {\r\n            this.bindEvent();\r\n        } else {\r\n            this.unbindEvent();\r\n        }\r\n    }\r\n\r\n    bindEvent() {\r\n        if (!this.tooltipEnable) {\r\n            return;\r\n        }\r\n        // æ¯å¦å·²ç»å®äºä»¶\r\n        if (this.hasBindEvent) {\r\n            return;\r\n        }\r\n        if (this.trigger === \"click\") {\r\n            // é¼ æ ç¹å»\r\n            this.clickEvent = this.render.listen(\r\n                this.el.nativeElement,\r\n                \"click\",\r\n                (e: MouseEvent) => {\r\n                    e.stopPropagation();\r\n                    this.appendTooltip();\r\n                    this.clickOutEvent = this.render.listen(\r\n                        document,\r\n                        \"click\",\r\n                        () => {\r\n                            this.removeTooltip();\r\n                            this.clickOutEvent();\r\n                        }\r\n                    );\r\n                }\r\n            );\r\n        } else if (this.trigger === \"focus\") {\r\n            // èç¦\r\n            // @Todo éè¦æinputç­ç»ä»¶åæ®éç»ä»¶åå¼\r\n            this.focusDownEvent = this.render.listen(\r\n                this.el.nativeElement,\r\n                \"mousedown\",\r\n                (e: MouseEvent) => {\r\n                    e.preventDefault();\r\n                    this.appendTooltip();\r\n                }\r\n            );\r\n            this.focusUpEvent = this.render.listen(\r\n                this.el.nativeElement,\r\n                \"mouseup\",\r\n                (e: MouseEvent) => {\r\n                    e.stopPropagation();\r\n                    this.removeTooltip();\r\n                }\r\n            );\r\n        } else {\r\n            // é¼ æ ç§»å¨ä¸å»\r\n            this.mouseenterEvent = this.render.listen(\r\n                this.el.nativeElement,\r\n                \"mouseenter\",\r\n                (e: MouseEvent) => {\r\n                    e.stopPropagation();\r\n                    if (this.delay) {\r\n                        if (this.delayTimer) {\r\n                            clearTimeout(this.delayTimer);\r\n                        }\r\n                        this.delayTimer = setTimeout(() => {\r\n                            this.appendTooltip();\r\n                            clearTimeout(this.delayTimer);\r\n                        }, this.delay);\r\n                    } else {\r\n                        this.appendTooltip();\r\n                    }\r\n                }\r\n            );\r\n            this.mouseleaveEvent = this.render.listen(\r\n                this.el.nativeElement,\r\n                \"mouseleave\",\r\n                (e: MouseEvent) => {\r\n                    e.stopPropagation();\r\n                    if (this.delayTimer) {\r\n                        clearTimeout(this.delayTimer);\r\n                    }\r\n                    this.removeTooltip();\r\n                }\r\n            );\r\n        }\r\n        this.hasBindEvent = true;\r\n    }\r\n\r\n    /* è§£ç»äºä»¶ */\r\n    unbindEvent() {\r\n        // é¼ æ ç§»ä¸å»\r\n        if (this.mouseenterEvent) {\r\n            this.mouseenterEvent();\r\n        }\r\n        if (this.mouseleaveEvent) {\r\n            this.mouseleaveEvent();\r\n        }\r\n        if (this.clickEvent) {\r\n            this.clickEvent();\r\n        }\r\n        if (this.clickOutEvent) {\r\n            this.clickOutEvent();\r\n        }\r\n        if (this.focusDownEvent) {\r\n            this.focusDownEvent();\r\n        }\r\n        if (this.focusUpEvent) {\r\n            this.focusUpEvent();\r\n        }\r\n        this.hasBindEvent = false;\r\n    }\r\n\r\n    /* body  ç§»é¤tooltip */\r\n    removeTooltip() {\r\n        if (this.tooltip) {\r\n            this.render.removeChild(\r\n                document.body,\r\n                this.tooltip.el.nativeElement\r\n            );\r\n            this._componentRef.changeDetectorRef.markForCheck();\r\n            this._componentRef.changeDetectorRef.detectChanges();\r\n            this._componentRef.destroy();\r\n            this.viewContainerRef.clear();\r\n            this.tooltip = null;\r\n            this._componentRef = null;\r\n\r\n            this.overLayService.destory(this.el.nativeElement);\r\n        }\r\n    }\r\n\r\n    private appendTooltip() {\r\n        if (!this.showTip) return;\r\n        this.generateTooltip();\r\n        this.updateViewProps(\r\n            this.placement,\r\n            this.content,\r\n            this.el.nativeElement.getBoundingClientRect(),\r\n            this.getReferencePosition()\r\n        );\r\n\r\n        this.overLayService.registerMouseEvent(this.el.nativeElement, (e: MouseEvent) => {\r\n            this.removeTooltip();\r\n        });\r\n    }\r\n\r\n    /* æ´æ°tooltipç»ä»¶å±æ§ */\r\n    private updateViewProps(\r\n        placement: string,\r\n        content: string | TemplateRef<any>,\r\n        hostBoundingClientRect: object,\r\n        referenceBoundingRect\r\n    ) {\r\n        this.tooltip.placement = placement;\r\n        this.tooltip.content = content;\r\n        this.tooltip.hostBoundingClientRect = hostBoundingClientRect;\r\n        this.tooltip.tipCls = this.tipCls;\r\n        this.tooltip.tipWidth = this.tipWidth;\r\n        this.tooltip.referenceBoundingRect = referenceBoundingRect;\r\n        this._componentRef.changeDetectorRef.markForCheck();\r\n        this._componentRef.changeDetectorRef.detectChanges();\r\n    }\r\n\r\n    /* æé tooltipç»æ */\r\n    private generateTooltip() {\r\n        this._componentRef = this.viewContainerRef.createComponent(\r\n            this.componentFactory\r\n        );\r\n        this.tooltip = this._componentRef.instance;\r\n        this.tooltip.zIndex = '' + this.commUtils.getFloatingLayerIndex();\r\n        \r\n\r\n        // ç¶åç´ ä¸­ç§»é¤  æ·»å å°bodyä¸­\r\n        this.render.removeChild(\r\n            this.render.parentNode(this.el.nativeElement),\r\n            this.tooltip.el.nativeElement\r\n        );\r\n        this.render.appendChild(document.body, this.tooltip.el.nativeElement);\r\n    }\r\n\r\n    /**\r\n     * ç¡®è®¤åç§çè¾¹ç\r\n     */\r\n    private getReferencePosition() {\r\n        let rRight = document.documentElement.clientWidth;\r\n        let rBottom = document.documentElement.clientHeight;\r\n        let rTop = 0;\r\n        let rLeft = 0;\r\n        // æ¨ªååç§\r\n        if (this.rectifyReferenceH) {\r\n            let rectifyReferenceHEl = this.getRectifyReferenceElement(\r\n                this.rectifyReferenceH\r\n            );\r\n            rRight = rectifyReferenceHEl.getBoundingClientRect().right;\r\n            rLeft = rectifyReferenceHEl.getBoundingClientRect().left;\r\n        }\r\n        // çºµååç§\r\n        if (this.rectifyReferenceV) {\r\n            let rectifyReferenceVEl = this.getRectifyReferenceElement(\r\n                this.rectifyReferenceV\r\n            );\r\n            rBottom = rectifyReferenceVEl.getBoundingClientRect().bottom;\r\n            rTop = rectifyReferenceVEl.getBoundingClientRect().top;\r\n        }\r\n        return { top: rTop, left: rLeft, right: rRight, bottom: rBottom };\r\n    }\r\n    /**\r\n     * è·åçº æ­£åç´ \r\n     */\r\n    private getRectifyReferenceElement(referenceEl) {\r\n        if (referenceEl instanceof ElementRef) {\r\n            return referenceEl.nativeElement;\r\n        } else if (typeof referenceEl == \"string\") {\r\n            return document.querySelector(referenceEl as string);\r\n        }\r\n        return referenceEl;\r\n    }\r\n}\r\n","import { Directive, ElementRef, Renderer2, HostListener, NgZone, OnDestroy, Input, AfterViewInit } from '@angular/core';\r\n\r\n@Directive({\r\n    selector: '[f-input-tips]'\r\n})\r\nexport class FInputTipsDirective implements OnDestroy, AfterViewInit {\r\n    private cloneEl = null;\r\n    private tipsText = \"\";\r\n    mouseEnterListener: any;\r\n    // å¦ææ¯ä¸æ¯ç¨é»è®¤çTitleï¼æ­¤å±æ§ç¸å³çåè½å¯ä»¥ç§»é¤\r\n    mouseLeaveListener: any;\r\n    private _enableTips = true;\r\n    @Input('f-input-tips')\r\n    set enableTips(value) {\r\n        if (this._enableTips !== value) {\r\n            this._enableTips = value;\r\n            this.changeEventBind();\r\n        }\r\n    }\r\n    get enableTips() {\r\n        return this._enableTips;\r\n    }\r\n\r\n    constructor(private el: ElementRef, public ngzone: NgZone, private render: Renderer2) {\r\n    }\r\n\r\n    private createCloneEl() {\r\n        if (!this.el.nativeElement) { return; }\r\n        const global = {\r\n            cloneCSSProperties: [\r\n                'line-height', 'letter-spacing',\r\n                'font-size', 'font-family', 'font-style', 'font-weight', 'border',\r\n                'padding', 'height'\r\n            ]\r\n        };\r\n        const el$ = window.getComputedStyle(this.el.nativeElement);\r\n        this.cloneEl = this.render.createElement('span');\r\n        this.cloneEl['innerText'] = el$['value'];\r\n        global.cloneCSSProperties.forEach((item, index) => {\r\n            this.cloneEl.style[item] = el$.getPropertyValue(item);\r\n        });\r\n        this.render.addClass(this.cloneEl, 'f-dir-hidden-el');\r\n        this.render.appendChild(document.body, this.cloneEl);\r\n    }\r\n\r\n    ngAfterViewInit() {\r\n        this.changeEventBind();\r\n    }\r\n    \r\n    changeEventBind() {\r\n        if (this.enableTips) {\r\n            this.ngzone.runOutsideAngular(() => {\r\n                this.mouseEnterListener = this.onMouseEnterHandler.bind(this);\r\n                this.el.nativeElement.addEventListener('mouseenter', this.mouseEnterListener);\r\n                this.mouseLeaveListener = this.onMouseLeaveHandler.bind(this);\r\n                this.el.nativeElement.addEventListener('mouseleave', this.mouseLeaveListener);\r\n            });\r\n        } else {\r\n            if (this.mouseEnterListener) {\r\n                this.el.nativeElement.removeEventListener('mouseenter', this.mouseEnterListener);\r\n                this.mouseEnterListener = null;\r\n                this.el.nativeElement.removeEventListener('mouseleave', this.mouseLeaveListener);\r\n                this.mouseLeaveListener = null;\r\n            }\r\n        }\r\n    }\r\n    ngOnDestroy() {\r\n        if (this.cloneEl) {\r\n            this.render.removeChild(document.body, this.cloneEl);\r\n        }\r\n    }\r\n    onMouseEnterHandler() {\r\n        this.changeTitle();\r\n    }\r\n    onMouseLeaveHandler() {\r\n        // ç§»é¤æç¤º\r\n        this.render.setAttribute(this.el.nativeElement, 'title', '');\r\n    }\r\n    private changeTitle() {\r\n        if (!this.cloneEl) {\r\n            this.createCloneEl();\r\n        }\r\n        this.tipsText = this.el.nativeElement['value'];\r\n        this.cloneEl['innerText'] = this.tipsText;\r\n        this.ngzone.runOutsideAngular(() => {\r\n            setTimeout(() => {\r\n                if (this.cloneEl.getBoundingClientRect().width > this.el.nativeElement.getBoundingClientRect().width) {\r\n                    this.render.setAttribute(this.el.nativeElement, \"title\", this.tipsText);\r\n                } else {\r\n                    this.onMouseLeaveHandler();\r\n                }\r\n            }, 0);\r\n        });\r\n    }\r\n}\r\n","import { Pipe, PipeTransform,SecurityContext } from \"@angular/core\";\r\nimport { DomSanitizer,SafeHtml  } from '@angular/platform-browser';\r\n \r\n// https://angular.io/guide/security\r\n@Pipe({ name: 'tooltipHtml' })\r\nexport class tooltipHtmlPipe implements PipeTransform {\r\n  constructor(private _sanitizer: DomSanitizer) { }\r\n \r\n  transform(value):SafeHtml {\r\n    return this._sanitizer.sanitize(SecurityContext.HTML, this._sanitizer.bypassSecurityTrustHtml(value));\r\n  }\r\n}","import { NgModule } from \"@angular/core\";\r\nimport { CommonModule } from \"@angular/common\";\r\nimport { FarrisTooltipDirective } from \"./tooltip.directive\";\r\nimport { FInputTipsDirective } from \"./inputTips.directive\";\r\nimport { TooltipComponent } from \"./tooltip-component/tooltip.component\";\r\nimport { AttentionService } from \"./attention.service\";\r\nimport { tooltipHtmlPipe } from \"./tooltip-safe-html.pipe\";\r\nimport { FarrisCommonModule } from \"@farris/ui-common\";\r\n@NgModule({\r\n    declarations: [\r\n        FarrisTooltipDirective,\r\n        TooltipComponent,\r\n        FInputTipsDirective,\r\n        tooltipHtmlPipe,\r\n    ],\r\n    imports: [\r\n        CommonModule,\r\n        FarrisCommonModule\r\n    ],\r\n    providers: [AttentionService],\r\n    entryComponents: [TooltipComponent],\r\n    exports: [FarrisTooltipDirective, TooltipComponent, FInputTipsDirective],\r\n})\r\nexport class FarrisTooltipModule {}\r\n"],"names":["Injectable","RendererFactory2","NgZone","Subject","TemplateRef","Component","ViewEncapsulation","ElementRef","Renderer2","ViewChild","ViewContainerRef","Input","OverLayHiddenService","CommonUtils","Directive","ComponentFactoryResolver","SecurityContext","Pipe","DomSanitizer","NgModule","CommonModule","FarrisCommonModule"],"mappings":"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"}
