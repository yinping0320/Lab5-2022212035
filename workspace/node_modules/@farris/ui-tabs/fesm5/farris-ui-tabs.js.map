{"version":3,"file":"farris-ui-tabs.js.map","sources":["ng://@farris/ui-tabs/lib/tab/tabhost.directive.ts","ng://@farris/ui-tabs/lib/tabs.config.ts","ng://@farris/ui-tabs/lib/dropdown/dropdown-config.ts","ng://@farris/ui-tabs/lib/util/positioning.ts","ng://@farris/ui-tabs/lib/dropdown/dropdown.ts","ng://@farris/ui-tabs/lib/tabs/tabs.component.ts","ng://@farris/ui-tabs/lib/tab/extend.directive.ts","ng://@farris/ui-tabs/lib/tab/tab.component.ts","ng://@farris/ui-tabs/lib/tab/tab.transclude.directive.ts","ng://@farris/ui-tabs/lib/tab/tab.headtemplate.directive.ts","ng://@farris/ui-tabs/lib/dropdown/dropdown.module.ts","ng://@farris/ui-tabs/lib/util/triggers.ts","ng://@farris/ui-tabs/lib/util/popup.ts","ng://@farris/ui-tabs/lib/tooltip/tooltip-config.ts","ng://@farris/ui-tabs/lib/tooltip/tooltip.ts","ng://@farris/ui-tabs/lib/tooltip/tooltip.module.ts","ng://@farris/ui-tabs/lib/tabs.module.ts"],"sourcesContent":["import { Directive, ViewContainerRef} from '@angular/core';\r\n@Directive({\r\n    selector: '[tabHost]'\r\n})\r\n\r\nexport class TabHostDirective {\r\n    constructor( public viewContainerRef: ViewContainerRef) {\r\n    }\r\n}\r\n","import { Injectable, Optional } from '@angular/core';\r\n\r\nexport class TabConfig {\r\n  // æ¯å¦å¯ç¨ä¸ææ¡\r\n  showDropDown = true;\r\n  // æ¯å¦å¯ç¨æç¤ºä¿¡æ¯\r\n  showTooltips = true;\r\n  // ç¹å»æ¶æ»å¨å¼\r\n  scrollStep = 15;\r\n  // æ¯å¦èªå¨éæ°å®½åº¦ ---- todo:æ­¤å¤åªå¤çäºwindowçresizeäºä»¶\r\n  autoResize = true;\r\n  // ä¸æåè¡¨æå¤§é«åº¦ éæ­£å¼è¡¨ææ¯ä¸é«åº¦\r\n  maxDropdownH = 200;\r\n  // ä¸æåè¡¨æå¤§å®½åº¦ï¼ éæ­£å¼è¡¨ææ¯ä¸éå¶å®½åº¦\r\n  maxDropdownW = -1;\r\n  // æ ç­¾æå¤§å®½åº¦ï¼éæ­£å¼è¡¨æä¸éå¶å®½åº¦\r\n  maxTabW = 100;\r\n  // æç¤ºä¿¡æ¯æ¡æ°\r\n  maxTooltipLen = 5;\r\n}\r\n\r\n@Injectable()\r\nexport class TabService {\r\n  config: TabConfig;\r\n  constructor(@Optional() exConfig: TabConfig) {\r\n    this.config = new TabConfig();\r\n    if (exConfig) {\r\n      Object.assign(this.config, exConfig);\r\n    }\r\n  }\r\n  getConfig() {\r\n    return this.config;\r\n  }\r\n}\r\n","import {Injectable} from '@angular/core';\r\nimport {PlacementArray} from '../util/positioning';\r\n\r\n\r\n/**\r\n * Configuration service for the NgbDropdown directive.\r\n * You can inject this service, typically in your root component, and customize the values of its properties in\r\n * order to provide default values for all the dropdowns used in the application.\r\n */\r\n@Injectable()\r\nexport class NgbDropdownConfig {\r\n  autoClose: boolean | 'outside' | 'inside' = true;\r\n  placement: PlacementArray = 'bottom-right';\r\n}\r\n","// previous version:\r\n// https://github.com/angular-ui/bootstrap/blob/07c31d0731f7cb068a1932b8e01d2312b796b4ec/src/position/position.js\r\nexport class Positioning {\r\n  private getAllStyles(element: HTMLElement) { return window.getComputedStyle(element); }\r\n\r\n  private getStyle(element: HTMLElement, prop: string): string { return this.getAllStyles(element)[prop]; }\r\n\r\n  private isStaticPositioned(element: HTMLElement): boolean {\r\n    return (this.getStyle(element, 'position') || 'static') === 'static';\r\n  }\r\n\r\n  private offsetParent(element: HTMLElement): HTMLElement {\r\n    let offsetParentEl = <HTMLElement>element.offsetParent || document.documentElement;\r\n\r\n    while (offsetParentEl && offsetParentEl !== document.documentElement && this.isStaticPositioned(offsetParentEl)) {\r\n      offsetParentEl = <HTMLElement>offsetParentEl.offsetParent;\r\n    }\r\n\r\n    return offsetParentEl || document.documentElement;\r\n  }\r\n\r\n  position(element: HTMLElement, round = true): ClientRect {\r\n    let elPosition: ClientRect;\r\n    let parentOffset: ClientRect = { width: 0, height: 0, top: 0, bottom: 0, left: 0, right: 0 };\r\n\r\n    if (this.getStyle(element, 'position') === 'fixed') {\r\n      elPosition = element.getBoundingClientRect();\r\n    } else {\r\n      const offsetParentEl = this.offsetParent(element);\r\n\r\n      elPosition = this.offset(element, false);\r\n\r\n      if (offsetParentEl !== document.documentElement) {\r\n        parentOffset = this.offset(offsetParentEl, false);\r\n      }\r\n\r\n      parentOffset.top += offsetParentEl.clientTop;\r\n      parentOffset.left += offsetParentEl.clientLeft;\r\n    }\r\n\r\n    elPosition.top -= parentOffset.top;\r\n    elPosition.bottom -= parentOffset.top;\r\n    elPosition.left -= parentOffset.left;\r\n    elPosition.right -= parentOffset.left;\r\n\r\n    if (round) {\r\n      elPosition.top = Math.round(elPosition.top);\r\n      elPosition.bottom = Math.round(elPosition.bottom);\r\n      elPosition.left = Math.round(elPosition.left);\r\n      elPosition.right = Math.round(elPosition.right);\r\n    }\r\n\r\n    return elPosition;\r\n  }\r\n\r\n  offset(element: HTMLElement, round = true): ClientRect {\r\n    const elBcr = element.getBoundingClientRect();\r\n    const viewportOffset = {\r\n      top: window.pageYOffset - document.documentElement.clientTop,\r\n      left: window.pageXOffset - document.documentElement.clientLeft\r\n    };\r\n\r\n    const elOffset = {\r\n      height: elBcr.height || element.offsetHeight,\r\n      width: elBcr.width || element.offsetWidth,\r\n      top: elBcr.top + viewportOffset.top,\r\n      bottom: elBcr.bottom + viewportOffset.top,\r\n      left: elBcr.left + viewportOffset.left,\r\n      right: elBcr.right + viewportOffset.left\r\n    };\r\n\r\n    if (round) {\r\n      elOffset.height = Math.round(elOffset.height);\r\n      elOffset.width = Math.round(elOffset.width);\r\n      elOffset.top = Math.round(elOffset.top);\r\n      elOffset.bottom = Math.round(elOffset.bottom);\r\n      elOffset.left = Math.round(elOffset.left);\r\n      elOffset.right = Math.round(elOffset.right);\r\n    }\r\n\r\n    return elOffset;\r\n  }\r\n\r\n  positionElements(hostElement: HTMLElement, targetElement: HTMLElement, placement: string, appendToBody?: boolean,referElement?:HTMLElement):\r\n    ClientRect {\r\n    const oldhostElPosition = appendToBody ? this.offset(hostElement, false) : this.position(hostElement, false);\r\n    let hostElPosition=this.getRectCompareReferElementAndHostElement(oldhostElPosition,referElement);\r\n    const targetElStyles = this.getAllStyles(targetElement);\r\n    const targetElBCR = targetElement.getBoundingClientRect();\r\n    const placementPrimary = placement.split('-')[0] || 'top';\r\n    const placementSecondary = placement.split('-')[1] || 'center';\r\n\r\n    const targetElPosition: ClientRect = {\r\n      'height': targetElBCR.height || targetElement.offsetHeight,\r\n      'width': targetElBCR.width || targetElement.offsetWidth,\r\n      'top': 0,\r\n      'bottom': targetElBCR.height || targetElement.offsetHeight,\r\n      'left': 0,\r\n      'right': targetElBCR.width || targetElement.offsetWidth\r\n    };\r\n\r\n    switch (placementPrimary) {\r\n      case 'top':\r\n        targetElPosition.top =\r\n          hostElPosition.top - (targetElement.offsetHeight + parseFloat(targetElStyles.marginBottom));\r\n        break;\r\n      case 'bottom':\r\n        targetElPosition.top = hostElPosition.top + hostElPosition.height;\r\n        break;\r\n      case 'left':\r\n        targetElPosition.left =\r\n          hostElPosition.left - (targetElement.offsetWidth + parseFloat(targetElStyles.marginRight));\r\n        break;\r\n      case 'right':\r\n        targetElPosition.left = hostElPosition.left + hostElPosition.width;\r\n        break;\r\n    }\r\n\r\n    switch (placementSecondary) {\r\n      case 'top':\r\n        targetElPosition.top = hostElPosition.top;\r\n        break;\r\n      case 'bottom':\r\n        targetElPosition.top = hostElPosition.top + hostElPosition.height - targetElement.offsetHeight;\r\n        break;\r\n      case 'left':\r\n        targetElPosition.left = hostElPosition.left;\r\n        break;\r\n      case 'right':\r\n        targetElPosition.left = hostElPosition.left + hostElPosition.width - targetElement.offsetWidth;\r\n        break;\r\n      case 'center':\r\n        if (placementPrimary === 'top' || placementPrimary === 'bottom') {\r\n          targetElPosition.left = hostElPosition.left + hostElPosition.width / 2 - targetElement.offsetWidth / 2;\r\n        } else {\r\n          targetElPosition.top = hostElPosition.top + hostElPosition.height / 2 - targetElement.offsetHeight / 2;\r\n        }\r\n        break;\r\n    }\r\n\r\n    targetElPosition.top = Math.round(targetElPosition.top);\r\n    targetElPosition.bottom = Math.round(targetElPosition.bottom);\r\n    targetElPosition.left = Math.round(targetElPosition.left);\r\n    targetElPosition.right = Math.round(targetElPosition.right);\r\n\r\n    return targetElPosition;\r\n  }\r\n  private getRectCompareReferElementAndHostElement(hostRect,referElement){\r\n    let hostElemClientRect={\r\n        left:hostRect.left,\r\n        bottom: hostRect.bottom,\r\n        height: hostRect.height,\r\n        right: hostRect.right,\r\n        top: hostRect.top,\r\n        width: hostRect.width\r\n    };\r\n    if(referElement){\r\n     let referRect= referElement.getBoundingClientRect();\r\n        if(referRect.left>hostRect.left){\r\n          hostElemClientRect.left=referRect.left;\r\n        }\r\n        if(referRect.right<hostRect.right){\r\n          hostElemClientRect.right=referRect.right;\r\n        }\r\n        hostElemClientRect.width=Math.min(referRect.width,hostRect.width,(hostElemClientRect.right-hostElemClientRect.left));    \r\n    }\r\n    return hostElemClientRect;\r\n  }\r\n  // get the availble placements of the target element in the viewport dependeing on the host element\r\n  getAvailablePlacements(hostElement: HTMLElement, targetElement: HTMLElement,referElement:HTMLElement): string[] {\r\n    const oldhostElemClientRect = hostElement.getBoundingClientRect();\r\n    let hostElemClientRect=this.getRectCompareReferElementAndHostElement(oldhostElemClientRect,referElement);\r\n\r\n    const availablePlacements: Array<string> = [];\r\n    const targetElemClientRect = targetElement.getBoundingClientRect();\r\n    const html = document.documentElement;\r\n    const windowHeight = window.innerHeight || html.clientHeight;\r\n    const windowWidth = window.innerWidth || html.clientWidth;\r\n    const hostElemClientRectHorCenter = hostElemClientRect.left + hostElemClientRect.width / 2;\r\n    const hostElemClientRectVerCenter = hostElemClientRect.top + hostElemClientRect.height / 2;\r\n\r\n    // left: check if target width can be placed between host left and viewport start and also height of target is\r\n    // inside viewport\r\n    if (targetElemClientRect.width < hostElemClientRect.left) {\r\n      // check for left only\r\n      if (hostElemClientRectVerCenter > targetElemClientRect.height / 2 &&\r\n        windowHeight - hostElemClientRectVerCenter > targetElemClientRect.height / 2) {\r\n        availablePlacements.splice(availablePlacements.length, 1, 'left');\r\n      }\r\n      // check for left-top and left-bottom\r\n      this.setSecondaryPlacementForLeftRight(hostElemClientRect, targetElemClientRect, 'left', availablePlacements);\r\n    }\r\n\r\n    // top: target height is less than host top\r\n    if (targetElemClientRect.height < hostElemClientRect.top) {\r\n      if (hostElemClientRectHorCenter > targetElemClientRect.width / 2 &&\r\n        windowWidth - hostElemClientRectHorCenter > targetElemClientRect.width / 2) {\r\n        availablePlacements.splice(availablePlacements.length, 1, 'top');\r\n      }\r\n      this.setSecondaryPlacementForTopBottom(hostElemClientRect, targetElemClientRect, 'top', availablePlacements);\r\n    }\r\n\r\n    // right: check if target width can be placed between host right and viewport end and also height of target is\r\n    // inside viewport\r\n    if (windowWidth - hostElemClientRect.right > targetElemClientRect.width) {\r\n      // check for right only\r\n      if (hostElemClientRectVerCenter > targetElemClientRect.height / 2 &&\r\n        windowHeight - hostElemClientRectVerCenter > targetElemClientRect.height / 2) {\r\n        availablePlacements.splice(availablePlacements.length, 1, 'right');\r\n      }\r\n      // check for right-top and right-bottom\r\n      this.setSecondaryPlacementForLeftRight(hostElemClientRect, targetElemClientRect, 'right', availablePlacements);\r\n    }\r\n\r\n    // bottom: check if there is enough space between host bottom and viewport end for target height\r\n    if (windowHeight - hostElemClientRect.bottom > targetElemClientRect.height) {\r\n      if (hostElemClientRectHorCenter > targetElemClientRect.width / 2 &&\r\n        windowWidth - hostElemClientRectHorCenter > targetElemClientRect.width / 2) {\r\n        availablePlacements.splice(availablePlacements.length, 1, 'bottom');\r\n      }\r\n      this.setSecondaryPlacementForTopBottom(hostElemClientRect, targetElemClientRect, 'bottom', availablePlacements);\r\n    }\r\n\r\n    return availablePlacements;\r\n  }\r\n\r\n  /**\r\n   * check if secondary placement for left and right are available i.e. left-top, left-bottom, right-top, right-bottom\r\n   * primaryplacement: left|right\r\n   * availablePlacementArr: array in which available placemets to be set\r\n   */\r\n  private setSecondaryPlacementForLeftRight(\r\n    hostElemClientRect: ClientRect, targetElemClientRect: ClientRect, primaryPlacement: string,\r\n    availablePlacementArr: Array<string>) {\r\n    const html = document.documentElement;\r\n    // check for left-bottom\r\n    if (targetElemClientRect.height <= hostElemClientRect.bottom) {\r\n      availablePlacementArr.splice(availablePlacementArr.length, 1, primaryPlacement + '-bottom');\r\n    }\r\n    if ((window.innerHeight || html.clientHeight) - hostElemClientRect.top >= targetElemClientRect.height) {\r\n      availablePlacementArr.splice(availablePlacementArr.length, 1, primaryPlacement + '-top');\r\n    }\r\n  }\r\n\r\n  /**\r\n   * check if secondary placement for top and bottom are available i.e. top-left, top-right, bottom-left, bottom-right\r\n   * primaryplacement: top|bottom\r\n   * availablePlacementArr: array in which available placemets to be set\r\n   */\r\n  private setSecondaryPlacementForTopBottom(\r\n    hostElemClientRect: ClientRect, targetElemClientRect: ClientRect, primaryPlacement: string,\r\n    availablePlacementArr: Array<string>) {\r\n    const html = document.documentElement;\r\n    // check for left-bottom\r\n    if ((window.innerWidth || html.clientWidth) - hostElemClientRect.left >= targetElemClientRect.width) {\r\n      availablePlacementArr.splice(availablePlacementArr.length, 1, primaryPlacement + '-left');\r\n    }\r\n    if (targetElemClientRect.width <= hostElemClientRect.right) {\r\n      availablePlacementArr.splice(availablePlacementArr.length, 1, primaryPlacement + '-right');\r\n    }\r\n  }\r\n}\r\n\r\nconst positionService = new Positioning();\r\n\r\n/*\r\n * Accept the placement array and applies the appropriate placement dependent on the viewport.\r\n * Returns the applied placement.\r\n * In case of auto placement, placements are selected in order\r\n *   'top', 'bottom', 'left', 'right',\r\n *   'top-left', 'top-right',\r\n *   'bottom-left', 'bottom-right',\r\n *   'left-top', 'left-bottom',\r\n *   'right-top', 'right-bottom'.\r\n * */\r\nexport function positionElements(\r\n  hostElement: HTMLElement, targetElement: HTMLElement, placement: string | Placement | PlacementArray,\r\n  appendToBody?: boolean,referElement?:HTMLElement): Placement {\r\n  const placementVals: Array<Placement> = Array.isArray(placement) ? placement : [placement as Placement];\r\n\r\n  // replace auto placement with other placements\r\n  let hasAuto = placementVals.findIndex(val => val === 'auto');\r\n  if (hasAuto >= 0) {\r\n    ['top', 'bottom', 'left', 'right', 'top-left', 'top-right', 'bottom-left', 'bottom-right', 'left-top',\r\n      'left-bottom', 'right-top', 'right-bottom',\r\n    ].forEach(function (obj) {\r\n      if (placementVals.find(val => val.search('^' + obj) !== -1) == null) {\r\n        placementVals.splice(hasAuto++, 1, obj as Placement);\r\n      }\r\n    });\r\n  }\r\n\r\n  // coordinates where to position\r\n  let topVal = 0, leftVal = 0;\r\n  let appliedPlacement: Placement;\r\n  // get available placements\r\n  const availablePlacements = positionService.getAvailablePlacements(hostElement, targetElement,referElement);\r\n  // iterate over all the passed placements\r\n  for (const { item, index } of toItemIndexes(placementVals)) {\r\n    // check if passed placement is present in the available placement or otherwise apply the last placement in the\r\n    // passed placement list\r\n    if ((availablePlacements.find(val => val === item) != null) || (placementVals.length === index + 1)) {\r\n      appliedPlacement = <Placement>item;\r\n      const pos = positionService.positionElements(hostElement, targetElement, item, appendToBody,referElement);\r\n      topVal = pos.top;\r\n      leftVal = pos.left;\r\n      break;\r\n    }\r\n  }\r\n  targetElement.style.top = `${topVal}px`;\r\n  targetElement.style.left = `${leftVal}px`;\r\n  return appliedPlacement;\r\n}\r\n\r\n// function to get index and item of an array\r\nfunction toItemIndexes<T>(a: T[]) {\r\n  return a.map((item, index) => ({ item, index }));\r\n}\r\n\r\nexport type Placement = 'auto' | 'top' | 'bottom' | 'left' | 'right' | 'top-left' | 'top-right' | 'bottom-left' |\r\n  'bottom-right' | 'left-top' | 'left-bottom' | 'right-top' | 'right-bottom';\r\n\r\nexport type PlacementArray = Placement | Array<Placement>;\r\n","import {\r\n    forwardRef,\r\n    Inject,\r\n    Directive,\r\n    Input,\r\n    Output,\r\n    EventEmitter,\r\n    ElementRef,\r\n    ContentChild,\r\n    NgZone,\r\n    Renderer2,\r\n    OnInit,\r\n    OnDestroy,\r\n} from \"@angular/core\";\r\nimport { NgbDropdownConfig } from \"./dropdown-config\";\r\nimport {\r\n    positionElements,\r\n    PlacementArray,\r\n    Placement,\r\n} from \"../util/positioning\";\r\nimport { OverLayHiddenService } from \"@farris/ui-common\";\r\n\r\n/**\r\n */\r\n@Directive({\r\n    selector: \"[ngbDropdownMenu]\",\r\n    host: {\r\n        \"[class.dropdown-menu]\": \"true\",\r\n        \"[class.show]\": \"dropdown.isOpen()\",\r\n        \"[attr.x-placement]\": \"placement\",\r\n    },\r\n    exportAs: \"DropdownMenu\",\r\n})\r\nexport class NgbDropdownMenu {\r\n    placement: Placement = \"bottom\";\r\n    isOpen = false;\r\n    private _triggerEl;\r\n\r\n    constructor(\r\n        @Inject(forwardRef(() => NgbDropdown)) public dropdown,\r\n        public _elementRef: ElementRef,\r\n        private _renderer: Renderer2\r\n    ) {}\r\n    /*\r\n     * å ä¸ºä¸æé¢æ¿å¯è½å­å¨é®æ¡çé®é¢,è®¡ç®å®½åº¦\r\n     */\r\n    resetMenuElWidthOpen() {\r\n        var parentNode = this._elementRef.nativeElement.parentNode.parentNode;\r\n        var parentNodeW = parentNode\r\n            ? parentNode.getBoundingClientRect().width\r\n            : 0;\r\n        var menuW =\r\n            this._elementRef.nativeElement.getBoundingClientRect().width;\r\n        return Math.min(menuW, parentNodeW);\r\n    }\r\n    isEventFrom($event) {\r\n        return this._elementRef.nativeElement.contains($event.target);\r\n    }\r\n\r\n    position(triggerEl, placement) {\r\n        //\r\n        if (this._elementRef.nativeElement.getBoundingClientRect().width == 0) {\r\n            setTimeout(() => {\r\n                this.applyPlacement(\r\n                    positionElements(\r\n                        triggerEl,\r\n                        this._elementRef.nativeElement,\r\n                        placement\r\n                    )\r\n                );\r\n            }, 0);\r\n        } else {\r\n            this.applyPlacement(\r\n                positionElements(\r\n                    triggerEl,\r\n                    this._elementRef.nativeElement,\r\n                    placement\r\n                )\r\n            );\r\n        }\r\n    }\r\n\r\n    applyPlacement(_placement: Placement) {\r\n        // remove the current placement classes\r\n        this._renderer.removeClass(\r\n            this._elementRef.nativeElement.parentNode,\r\n            \"dropup\"\r\n        );\r\n        this._renderer.removeClass(\r\n            this._elementRef.nativeElement.parentNode,\r\n            \"dropdown\"\r\n        );\r\n        this.placement = _placement;\r\n        /**\r\n         * apply the new placement\r\n         * in case of top use up-arrow or down-arrow otherwise\r\n         */\r\n        if (_placement.search(\"^top\") !== -1) {\r\n            this._renderer.addClass(\r\n                this._elementRef.nativeElement.parentNode,\r\n                \"dropup\"\r\n            );\r\n        } else {\r\n            this._renderer.addClass(\r\n                this._elementRef.nativeElement.parentNode,\r\n                \"dropdown\"\r\n            );\r\n        }\r\n    }\r\n}\r\n\r\n/**\r\n * Marks an element to which dropdown menu will be anchored. This is a simple version\r\n * of the NgbDropdownToggle directive. It plays the same role as NgbDropdownToggle but\r\n * doesn't listen to click events to toggle dropdown menu thus enabling support for\r\n * events other than click.\r\n *\r\n * @since 1.1.0\r\n */\r\n@Directive({\r\n    selector: \"[ngbDropdownAnchor]\",\r\n    host: {\r\n        class: \"dropdown-toggle\",\r\n        \"aria-haspopup\": \"true\",\r\n        \"[attr.aria-expanded]\": \"dropdown.isOpen()\",\r\n    },\r\n})\r\nexport class NgbDropdownAnchor {\r\n    anchorEl;\r\n\r\n    constructor(\r\n        @Inject(forwardRef(() => NgbDropdown)) public dropdown,\r\n        private _elementRef: ElementRef\r\n    ) {\r\n        this.anchorEl = _elementRef.nativeElement;\r\n    }\r\n\r\n    isEventFrom($event) {\r\n        return this._elementRef.nativeElement.contains($event.target);\r\n    }\r\n}\r\n\r\n/**\r\n * Allows the dropdown to be toggled via click. This directive is optional: you can use NgbDropdownAnchor as an\r\n * alternative.\r\n */\r\n@Directive({\r\n    selector: \"[ngbDropdownToggle]\",\r\n    host: {\r\n        class: \"dropdown-toggle\",\r\n        \"aria-haspopup\": \"true\",\r\n        \"[attr.aria-expanded]\": \"dropdown.isOpen()\",\r\n        \"(click)\": \"toggleOpen($event)\",\r\n    },\r\n    providers: [\r\n        {\r\n            provide: NgbDropdownAnchor,\r\n            useExisting: forwardRef(() => NgbDropdownToggle),\r\n        },\r\n    ],\r\n})\r\nexport class NgbDropdownToggle extends NgbDropdownAnchor {\r\n    constructor(\r\n        @Inject(forwardRef(() => NgbDropdown)) dropdown,\r\n        elementRef: ElementRef\r\n    ) {\r\n        super(dropdown, elementRef);\r\n    }\r\n\r\n    toggleOpen($event?: any) {\r\n        if ($event) {\r\n            $event.stopPropagation();\r\n        }\r\n        this.dropdown.toggle();\r\n    }\r\n}\r\n\r\n/**\r\n * Transforms a node into a dropdown.\r\n */\r\n@Directive({\r\n    selector: \"[ngbDropdown]\",\r\n    exportAs: \"ngbDropdown\",\r\n    host: {\r\n        \"(keyup.esc)\": \"closeFromOutsideEsc()\",\r\n        // \"(document:click)\": \"closeFromClick($event)\",\r\n    },\r\n})\r\nexport class NgbDropdown implements OnInit, OnDestroy {\r\n    private _zoneSubscription: any;\r\n\r\n    @ContentChild(NgbDropdownMenu) private _menu: NgbDropdownMenu;\r\n\r\n    @ContentChild(NgbDropdownAnchor) private _anchor: NgbDropdownAnchor;\r\n\r\n    /**\r\n     * Indicates that dropdown should be closed when selecting one of dropdown items (click) or pressing ESC.\r\n     * When it is true (default) dropdowns are automatically closed on both outside and inside (menu) clicks.\r\n     * When it is false dropdowns are never automatically closed.\r\n     * When it is 'outside' dropdowns are automatically closed on outside clicks but not on menu clicks.\r\n     * When it is 'inside' dropdowns are automatically on menu clicks but not on outside clicks.\r\n     */\r\n    @Input() autoClose: boolean | \"outside\" | \"inside\";\r\n\r\n    /**\r\n     *  Defines whether or not the dropdown-menu is open initially.\r\n     */\r\n    @Input(\"open\") _open = false;\r\n\r\n    /**\r\n     * Placement of a popover accepts:\r\n     *    \"top\", \"top-left\", \"top-right\", \"bottom\", \"bottom-left\", \"bottom-right\",\r\n     *    \"left\", \"left-top\", \"left-bottom\", \"right\", \"right-top\", \"right-bottom\"\r\n     * and array of above values.\r\n     */\r\n    @Input() placement: PlacementArray = [\"auto\", \"bottom\"];\r\n\r\n    /**\r\n     *  An event fired when the dropdown is opened or closed.\r\n     *  Event's payload equals whether dropdown is open.\r\n     */\r\n    @Output() openChange = new EventEmitter();\r\n    private overLayService: OverLayHiddenService = null;\r\n    constructor(config: NgbDropdownConfig, ngZone: NgZone) {\r\n        this.placement = config.placement;\r\n        this.autoClose = config.autoClose;\r\n        // æ­¤å¤åææ¯è§£å³menuè¿æ²¡æè¢«æ¾ç¤ºæ¶ï¼ä¼åæ¬¡è°ç¨è®¡ç®ä½ç½®ãä½æ¯å¨æ¡æ¶ä¼åºç°ä½ç½®åªè®¡ç®ä¸æ¬¡çæåµ\r\n        this._zoneSubscription = ngZone.onStable.subscribe(() => {\r\n            this._positionMenu();\r\n        });\r\n\r\n        this.overLayService = new OverLayHiddenService();\r\n    }\r\n\r\n    ngOnInit() {\r\n        if (this._menu) {\r\n            this._menu.applyPlacement(\r\n                Array.isArray(this.placement)\r\n                    ? this.placement[0]\r\n                    : (this.placement as Placement)\r\n            );\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Checks if the dropdown menu is open or not.\r\n     */\r\n    isOpen(): boolean {\r\n        return this._open;\r\n    }\r\n\r\n    /**\r\n     * Opens the dropdown menu of a given navbar or tabbed navigation.\r\n     */\r\n    open(): void {\r\n        if (!this._open) {\r\n            this._open = true;\r\n            this._positionMenu();\r\n            this.openChange.emit(true);\r\n\r\n\r\n            this._menu._elementRef.nativeElement.classList.add('show');\r\n\r\n            // æ³¨åé¼ æ æ»è½®ï¼ç¹å»äºä»¶ï¼ç¨äºéèPanel\r\n            this.overLayService.registerMouseEvent(\r\n              this._menu._elementRef.nativeElement,\r\n              (e: MouseEvent) => {\r\n                    const tar = e.target as any;\r\n                    var classList = Array.from(tar.classList || []);\r\n\r\n\r\n                    if (this._menu._elementRef.nativeElement.contains(e.target)) {\r\n                        return;\r\n                    }\r\n\r\n                    if (\r\n                        classList.includes('morebtn')||\r\n                        classList.includes(\"dropdown-toggle\") ||\r\n                        tar.closest(\".dropdown-item\") ||\r\n                        classList.includes(\"dropdown-item\")\r\n                    ) {\r\n                        return;\r\n                    }\r\n                    this.close();\r\n              }\r\n          );\r\n\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Closes the dropdown menu of a given navbar or tabbed navigation.\r\n     */\r\n    close(): void {\r\n        if (this._open) {\r\n            this._open = false;\r\n            this.openChange.emit(false);\r\n\r\n            this._menu._elementRef.nativeElement.classList.remove('show');\r\n            this.overLayService.destory(this._menu._elementRef.nativeElement);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Toggles the dropdown menu of a given navbar or tabbed navigation.\r\n     */\r\n    toggle(): void {\r\n        if (this.isOpen()) {\r\n            this.close();\r\n        } else {\r\n            this.open();\r\n        }\r\n    }\r\n\r\n    closeFromClick($event) {\r\n        if (\r\n            this.autoClose &&\r\n            $event.button !== 2 &&\r\n            !this._isEventFromToggle($event)\r\n        ) {\r\n            if (this.autoClose === true) {\r\n                this.close();\r\n            } else if (\r\n                this.autoClose === \"inside\" &&\r\n                this._isEventFromMenu($event)\r\n            ) {\r\n                this.close();\r\n            } else if (\r\n                this.autoClose === \"outside\" &&\r\n                !this._isEventFromMenu($event)\r\n            ) {\r\n                this.close();\r\n            }\r\n        }\r\n    }\r\n\r\n    closeFromOutsideEsc() {\r\n        if (this.autoClose) {\r\n            this.close();\r\n        }\r\n    }\r\n\r\n    ngOnDestroy() {\r\n        if (this._zoneSubscription) this._zoneSubscription.unsubscribe();\r\n    }\r\n\r\n    private _isEventFromToggle($event) {\r\n        return this._anchor.isEventFrom($event);\r\n    }\r\n\r\n    private _isEventFromMenu($event) {\r\n        return this._menu ? this._menu.isEventFrom($event) : false;\r\n    }\r\n\r\n    private _positionMenu() {\r\n        if (this.isOpen() && this._menu) {\r\n            this._menu.position(this._anchor.anchorEl, this.placement);\r\n        }\r\n    }\r\n}\r\n","\r\nimport {\r\n    Component, OnInit, OnChanges, SimpleChanges, Input, ElementRef, Renderer2, ChangeDetectionStrategy,\r\n    ChangeDetectorRef, ViewEncapsulation, AfterViewInit, ViewChild, OnDestroy, AfterContentChecked,\r\n    EventEmitter, Output, AfterContentInit, AfterViewChecked, NgZone\r\n} from '@angular/core';\r\nimport { Subscription, fromEvent, interval, Observable, of, BehaviorSubject, Subject } from 'rxjs';\r\nimport { takeUntil, map, scan, switchMap, takeWhile, concat, debounceTime } from 'rxjs/operators';\r\n\r\nimport { TabService, TabConfig } from '../tabs.config';\r\nimport { TabsChangeEvent, TabsRemoveTabEvent } from '../tabs.events';\r\nimport { FarrisTabComponent } from '../tab/tab.component';\r\nimport { ToolbarConf,ToolbarContentsConf} from '../toolbar.config';\r\nimport ResizeObserver from 'resize-observer-polyfill';\r\nimport { NgbDropdownMenu } from '../dropdown/dropdown';\r\n\r\n@Component({\r\n    selector: 'farris-tabs',\r\n    templateUrl: './tabs.component.html',\r\n    styleUrls: ['./tabs.component.scss'],\r\n    changeDetection: ChangeDetectionStrategy.OnPush,\r\n    encapsulation: ViewEncapsulation.None\r\n})\r\nexport class FarrisTabsComponent implements OnInit, OnChanges, AfterViewInit,\r\n    OnDestroy, AfterContentInit, AfterContentChecked, AfterViewChecked {\r\n\r\n    @Input() tabType:'fill'|'pills'|''='';\r\n    // æ¯ææ ç­¾é¡µå¡«å\r\n    @Input() fill = false;\r\n    // æ¯ææ ç­¾é¡µæ é¢èªéåºå®½åº¦-\r\n    @Input() autoTitleWidth = false;\r\n    // æ é¢é¿åº¦å¤§äºç­äºå¤å°å­ç¬¦ï¼å¯ç¨æ¸åæ ·å¼ââå±æ§åºå¼\r\n    @Input() titleLength = 7;\r\n    searchInputVisible: boolean;\r\n    // tabé¡µä½ç½® ä¸ä¸å·¦å³\r\n    @Input() set position(value: string) {\r\n        this._position = value;\r\n        this.positionStates.next(value);\r\n    }\r\n    get position() {\r\n        return this._position;\r\n    }\r\n    // æ¯å¦å¯ç¨ä¸ææ¡\r\n    @Input() showDropDown;\r\n    // æ¯å¦å¯ç¨æç¤ºä¿¡æ¯---æªè¢«ä½¿ç¨\r\n    @Input() showTooltips;\r\n    // ç¹å»æ¶æ»å¨æ­¥é¿\r\n    @Input() scrollStep;\r\n    // æ¯å¦èªå¨éæ°å®½åº¦---æªè¢«ä½¿ç¨\r\n    @Input() autoResize;\r\n    // è®¾ç½®å¯å³é­æ ç­¾é¡µ---æªè¢«ä½¿ç¨\r\n    @Input() closeable: boolean;\r\n    // è®¾ç½®å¯éä¸­æ ç­¾é¡µ\r\n    // tslint:disable-next-line:no-input-rename\r\n    @Input('value') selectId: string;\r\n    // tabså®½åº¦åé«åº¦\r\n    @Input() set width(value: any) {\r\n        this._width = this.resolveSize(value);\r\n        this.widthStates.next(this._width);\r\n    }\r\n    @Input() set height(value: any) {\r\n        this._height = this.resolveSize(value);\r\n        this.heightStates.next(this._height);\r\n    }\r\n    // æç´¢æ¡æ¯å¦æ¾ç¤º\r\n    @Input() searchBoxVisible = true;\r\n    // æ ç­¾é¡µé«åº¦-----æªè¢«ä½¿ç¨\r\n    _headerHeight: string | number;\r\n    @Input('header-height')\r\n    get headerHeight() {\r\n        return this._headerHeight;\r\n    }\r\n    set headerHeight(headerHeight) {\r\n        this._headerHeight = this.resolveSize(headerHeight);\r\n    }\r\n\r\n    // åå®¹æ¯å¦æ¯flex å®¹å¨ ç¨äºåé¨å­åç´ flex-----æªè¢«ä½¿ç¨\r\n    @Input() contentDirection = 'column';\r\n    // åå®¹æ¯å¦å¡«å  é»è®¤æ¯ä¸å¡«å\r\n    @Input() set contentFill(value) {\r\n        this._contentFill = value;\r\n        this.contentFillStates.next(value);\r\n    }\r\n    @Input() clickThrottleTime = 350;\r\n    private clickItems = new Subject<any>();\r\n    private clickSubscription: Subscription;\r\n /**\r\n  * å ä¸ºçæå¨ç»æåæ´å¯¼è´æ­¤å¤åæ´\r\n  */\r\n  private  _disableStatesDatas: Observable<Array<{ [key: string]: boolean }>> =\r\n    new Subject();\r\n  @Input()\r\n  set btnStates(values: Observable<Array<{ [key: string]: boolean }>>) {\r\n      if (values) {\r\n          if (\r\n              this._disableStatesDatas &&\r\n              this._disableStatesDatas.hasOwnProperty(\"unsubscribe\")\r\n          ) {\r\n              this._disableStatesDatas[\"unsubscribe\"]();\r\n          }           \r\n          this._disableStatesDatas = values;           \r\n          this.disableStateBind();\r\n      }\r\n  }\r\n  // æç§ä¹åçé»è¾ï¼å¦ææ²¡ææ¾å°keyï¼å°±è¯´æå¯è§\r\n  private  _visibleDatas: Observable<Array<{ [key: string]: boolean }>> =\r\n       new Subject();\r\n   // æ¯å¦å¯è§çç¶æ\r\n   @Input()\r\n   set btnVisible(values: Observable<Array<{ [key: string]: boolean }>>) {\r\n       if (values) {\r\n           if (\r\n               this._visibleDatas &&\r\n               this._visibleDatas.hasOwnProperty(\"unsubscribe\")\r\n           ) {\r\n               this._visibleDatas[\"unsubscribe\"]();\r\n           }           \r\n           this._visibleDatas = values;           \r\n           this.visibleStateBind();\r\n       }\r\n   }\r\n\r\n    // æææ ç­¾æ°æ®\r\n    @Input()\r\n    get tabs(): any[] {\r\n        return this._tabs;\r\n    }\r\n    set tabs(value) {\r\n        this._tabs = value;\r\n    }\r\n\r\n    @Input()\r\n    get customClass(): string {\r\n        return this._customClass;\r\n    }\r\n    set customClass(customClass: string) {\r\n        if (this.customClass) {\r\n            this.customClass.split(' ').forEach((cssClass: string) => {\r\n                this.renderer.removeClass(this.el, cssClass);\r\n            });\r\n        }\r\n\r\n        this._customClass = customClass ? customClass.trim() : null;\r\n\r\n        if (this.customClass) {\r\n            this.customClass.split(' ').forEach((cssClass: string) => {\r\n                this.renderer.addClass(this.el, cssClass);\r\n            });\r\n        }\r\n    }\r\n    // å·¦ä¾§æææ ç­¾çå®½åº¦å,ç¾åæ¯\r\n    @Input() titleWidth = 0;\r\n    @ViewChild('leftNav') leftNav;\r\n    @ViewChild('rightNav') rightNav;\r\n    @ViewChild('tabContainer') tabContainer;\r\n    @ViewChild('toolbarContainer') toolbarContainer;\r\n    @ViewChild('dropDownButton') dropDownButton;\r\n    @ViewChild('tabParent') tabParent;\r\n    @ViewChild('btnPlaceholder') btnPlaceHolder;\r\n\r\n    /** éä¸­tab åäºä»¶ */\r\n    @Input() beforeSelect: (e: TabsChangeEvent) => Observable<boolean>;\r\n    @Output() tabChange = new EventEmitter<TabsChangeEvent>();\r\n    @Output() tabRemove = new EventEmitter<TabsRemoveTabEvent>();\r\n\r\n    get direction() {\r\n        switch (this.position) {\r\n            case 'top':\r\n                return 'column';\r\n            case 'bottom':\r\n                return 'column-reverse';\r\n            case 'left':\r\n                return 'row';\r\n            case 'right':\r\n                return 'row-reverse';\r\n        }\r\n    }\r\n\r\n    // æ ç¨ï¼å¼å®¹\r\n    get tabDirection() {\r\n        if (this.position === 'top' || this.position === 'bottom') {\r\n            return 'row';\r\n        } else if (this.position === 'left' || this.position === 'right') {\r\n            return 'column';\r\n        }\r\n    }\r\n    // åå®¹å¡«åç¶æ\r\n    contentFillStates = new BehaviorSubject<boolean>(false);\r\n    // åå®¹æ¯å¦å¡«å,é»è®¤ä¸å¡«å\r\n    _contentFill: any;\r\n    // å®½åº¦ç¶æ\r\n    widthStates = new BehaviorSubject<any>(false);\r\n    // tabså®½åº¦\r\n    _width: any;\r\n    // é«åº¦ç¶æ\r\n    heightStates = new BehaviorSubject<any>(false);\r\n    // tabså®½åº¦\r\n    _height: any;\r\n    // tabsæ é¢ä½ç½®\r\n    _position: any;\r\n    positionStates = new BehaviorSubject<string>('top');\r\n    menuItemsWidth = 'auto';\r\n    //maxDropdownH = 200; -----æªè¢«ä½¿ç¨\r\n    // ä¸æåè¡¨æå¤§å®½åº¦ï¼ éæ­£å¼è¡¨ææ¯ä¸éå¶å®½åº¦ -----æªè¢«ä½¿ç¨\r\n    maxDropdownW = -1;\r\n    private _customClass = '';\r\n    // æ ç­¾å­å¨åè¡¨\r\n    private _tabs: FarrisTabComponent[] = [];\r\n\r\n    headerExtendConf: any;\r\n    // å·¥å·æ¡æ¾ç¤ºç¸å³éç½®\r\n    toolbarConf: ToolbarConf = {\r\n        position: '',\r\n        contents: []\r\n    };\r\n    // å·¥å·æ¡å³ä¾§å°ä¸ææ¡æ¯å¦æ¾ç¤º\r\n    toolbarDpHidden = true;\r\n    // å·¥å·æ¡âæ´å¤âéçæé®\r\n    inMoreButtonContents: any[] = [];\r\n    // æ¾ç¤ºä¸ææ°æ®\r\n    dropdownTabs = [];\r\n    // éèå·¦å³æ»å¨ç®­å¤´æé®\r\n    hideButtons = true;\r\n    // åä¸ªæ ç­¾é¡µæ é¢çå®½åº¦\r\n    tabWidth: number;\r\n\r\n    // éèä¸æ\r\n    hideDropDown = true;\r\n    // ç¦ç¨å·¦ç®­å¤´\r\n    disableLeft = false;\r\n    // ç¦ç¨å³ç®­å¤´\r\n    disableRight = false;\r\n    // å½åæ ·å¼\r\n    private el: HTMLElement;\r\n    // è®°å½äºä»¶æµ\r\n    subscription: Subscription[] = [];\r\n    // ç¦ç¨å³ä¾§æç¤º\r\n    disableRTooltip = true;\r\n    // ç¦ç¨å·¦ä¾§æç¤º\r\n    disableLTooltip = true;\r\n    // å·¦ä¾§æç¤ºæ°æ®\r\n    leftTooltipTabs = [];\r\n    // å³ä¾§æç¤ºæ°æ®\r\n    rightTooltipTabs = [];\r\n    // åé¨å¤çæ è®°Tabæ ç­¾\r\n    private _tabContainerEl: HTMLElement;\r\n    private maxTooltipLen = 5;\r\n    // æ è®°å½åTabæ ç­¾\r\n    activeId = '';\r\n    private ro: ResizeObserver = null;\r\n    // æç´¢tabæ¡çå¼\r\n    searchTabText: string;\r\n\r\n    @ViewChild('ddm') ddm: NgbDropdownMenu;\r\n\r\n    private _ddmHandler: any = null;\r\n    // å½å®½åº¦æ¹åæ¶ï¼å¼ºå¶æ¶èµ·ä¸æèå \r\n    dpState = [false];\r\n    // å¨toolbarä¸å­å¨çæ¶ååè®°å½visibleååçå°æ¹\r\n    private visibleRecord={};\r\n    private disableRecord={};\r\n    // ä¸æèåçåç§åç´ \r\n    referEl = null;\r\n    trackByButton(index: number, btn: any): number { return btn.id; };\r\n\r\n\r\n    tabVisibleChanged = new Subject();\r\n\r\n    constructor(\r\n        private stService: TabService,\r\n        private elementRef: ElementRef,\r\n        private renderer: Renderer2,\r\n        private cdRef: ChangeDetectorRef,\r\n        private ngZone: NgZone\r\n    ) {\r\n        this.el = this.elementRef.nativeElement;\r\n        if (this.el.parentElement) {\r\n            this.referEl = this.el.parentElement;\r\n        }\r\n        this.verifyConfig();\r\n\r\n        this.subscription.push(this.tabVisibleChanged.subscribe((e: any) => {\r\n            this._reCalculateAll();\r\n            this._calculateToolbarDropdownIsShow();\r\n            this._calculateButtonsShow();\r\n        }));\r\n    }\r\n\r\n    /** éªè¯ä¼ éåæ° */\r\n    private verifyConfig() {\r\n        const config: TabConfig = this.stService.getConfig();\r\n        Object.assign(this, config);\r\n        this.scrollStep = parseInt(this.scrollStep + '', 10);\r\n\r\n    }\r\n\r\n    ngOnInit() {\r\n\r\n        if (!this.beforeSelect) {\r\n            this.beforeSelect = () => of(true);\r\n        }\r\n        this.clickSubscription = this.clickItems.pipe(debounceTime(this.clickThrottleTime))\r\n            .subscribe((btnInfo:ToolbarContentsConf) => {\r\n                    if(btnInfo.click&&typeof btnInfo.click=='function'){\r\n                        btnInfo.click();\r\n                    }\r\n            });\r\n\r\n\r\n        this._tabContainerEl = this.tabContainer.nativeElement;\r\n        this._createStream();\r\n        this.activeId = this.selectId;\r\n\r\n        if (this.ngZone) {\r\n            this.ngZone.runOutsideAngular(() => {\r\n                if (this.ro === null) {\r\n                    this.ro = new ResizeObserver((el) => {\r\n                        this._reCalculateAll();\r\n                        this._calculateToolbarDropdownIsShow();\r\n                        this._calculateButtonsShow();\r\n                    });\r\n\r\n                    this.ro.observe(this.el.parentElement);\r\n                }\r\n            });\r\n        }\r\n    }\r\n        /**\r\n         * è§£å³æé®è°æ´éèç¶æä¹åï¼ä¸æä¸­è½æ¾ç¤ºçæé®æå¤å°\r\n         */\r\n    private visibleStateBind(){\r\n        this._visibleDatas.subscribe((data) => {\r\n            // è§£å³åæ¢æ¶ï¼æé®ç¶ææ²¡è¢«è®°å½çé®é¢\r\n            const idArray = Object.keys(data);\r\n            idArray.forEach((btnId) => {\r\n                this.visibleRecord[btnId]=data[btnId];\r\n            });  \r\n            if(this.toolbarConf&&this.toolbarConf.contents.length>0){\r\n                // è°æ´æé®å¯è§ç¶æ            \r\n                this.changeState(data,\"visible\");\r\n                // éæ°è®¡ç®\r\n                this._reCalculateAll();\r\n                this._calculateToolbarDropdownIsShow();\r\n                this._calculateButtonsShow();\r\n            }\r\n        });\r\n    }\r\n    private disableStateBind(){\r\n        this._disableStatesDatas.subscribe((data) => {\r\n            // è§£å³åæ¢æ¶ï¼æé®ç¶ææ²¡è¢«è®°å½çé®é¢\r\n            const idArray = Object.keys(data);\r\n            idArray.forEach((btnId) => {\r\n                this.disableRecord[btnId]=data[btnId];\r\n            });  \r\n            if(this.toolbarConf&&this.toolbarConf.contents.length>0){\r\n                // è°æ´æé®å¯è§ç¶æ            \r\n                this.changeState(data,\"disable\");\r\n            }\r\n        });\r\n    }\r\n\r\n    ngOnChanges(changes: SimpleChanges) {\r\n        if (changes['selectId']) {\r\n            this.selectTab(changes['selectId'].currentValue);\r\n        }\r\n    }\r\n\r\n    /* æ ç­¾é¡µåå®¹åå§å */\r\n    ngAfterContentInit(): void { }\r\n    ngAfterContentChecked() {\r\n\r\n    }\r\n\r\n    ngAfterViewInit() {\r\n        // ä¸ºäºå¼å®¹å¼æ§è¡¨åï¼ä¸å¼å®¹HostBinding, éè¿è¿½å classçæ¹å¼å®ç°\r\n        this.renderer.addClass(this.el, 'farris-tabs');\r\n        this.renderer.addClass(this.el, 'flex-column');\r\n        this.contentFillStates.subscribe(data => {\r\n            if (data) {\r\n                this.renderer.addClass(this.el, 'f-tabs-content-fill');\r\n            } else {\r\n                this.renderer.removeClass(this.el, 'f-tabs-content-fill');\r\n            }\r\n        });\r\n        this.widthStates.subscribe(data => {\r\n            if (data) {\r\n                this.renderer.setStyle(this.el, 'width', data);\r\n            }\r\n        });\r\n        this.heightStates.subscribe(data => {\r\n            if (data) {\r\n                this.renderer.setStyle(this.el, 'height', data);\r\n            }\r\n        });\r\n        this.positionStates.subscribe(data => {\r\n            this.renderer.removeClass(this.el, 'flex-row');\r\n            this.renderer.removeClass(this.el, 'flex-column');\r\n            this.renderer.removeClass(this.el, 'flex-row-reverse');\r\n            this.renderer.removeClass(this.el, 'flex-column-reverse');\r\n            if (data === 'left') {\r\n                this.renderer.addClass(this.el, 'flex-row');\r\n            }\r\n            if (data === 'top') {\r\n                this.renderer.addClass(this.el, 'flex-column');\r\n            }\r\n            if (data === 'right') {\r\n                this.renderer.addClass(this.el, 'flex-row-reverse');\r\n            }\r\n            if (data === 'bottom') {\r\n                this.renderer.addClass(this.el, 'flex-column-reverse');\r\n            }\r\n        });\r\n        // å¼å®¹ç»æ\r\n        this.getToolbarConf();\r\n        this._reCalculateAll();\r\n        this._setActive();\r\n        this._changeTitleStyle();\r\n        this._listenShowChanges();\r\n        const self = this;\r\n        // this.renderer.listen(document, 'keyup', function (e) {\r\n        //     if (self.searchInputVisible) {\r\n        //         console.log(e);\r\n        //     }\r\n        // });\r\n\r\n        this.ngZone.runOutsideAngular(() => {\r\n            this._ddmHandler = this.renderer.listen(document, 'mousedown', (e: any) => {\r\n                if (!e.target.closest('.farris-tabs-header')) {\r\n                    if (this.el && this.el.querySelector('.dropdown-menu')) {\r\n                        if (this.ddm && this.ddm.dropdown) {\r\n                            this.ddm.dropdown.close();\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n        });\r\n    }\r\n    ngAfterViewChecked(): void {\r\n\r\n    }\r\n    ngOnDestroy() {\r\n        // ç»ä»¶éæ¯æ¶  åæ¶ææäºä»¶è®¢é\r\n        this.subscription.forEach(sub => {\r\n            sub.unsubscribe();\r\n        });\r\n        this.subscription = [];\r\n\r\n        if (this.ro) {\r\n            if (this.el.parentElement) {\r\n                this.ro.unobserve(this.el.parentElement);\r\n            }\r\n            this.ro = null;\r\n        }\r\n\r\n        if (this._ddmHandler) {\r\n            this._ddmHandler();\r\n            this._ddmHandler = null;\r\n        }\r\n        if (this.clickSubscription) {\r\n            this.clickSubscription.unsubscribe();\r\n        }\r\n        if (\r\n            this._visibleDatas &&\r\n            this._visibleDatas.hasOwnProperty(\"unsubscribe\")\r\n        ) {\r\n            this._visibleDatas[\"unsubscribe\"]();\r\n            this._visibleDatas = null;\r\n        }\r\n    }\r\n    clickHandler(btnInfo) {\r\n        if (!btnInfo) {\r\n            return;\r\n        }\r\n        if(btnInfo.hasOwnProperty('disable')&&btnInfo['disable']){\r\n            // å¦æç¦ç¨å°±ä¸è§¦åç¹å»äºä»¶\r\n            return;\r\n        }\r\n        this.clickItems.next(btnInfo);\r\n    }\r\n    // æ´å¤tabçæ¾ç¤ºéè\r\n    openChange(e) {\r\n        this.searchInputVisible = e;\r\n        this.searchTabText = undefined;\r\n        this._reCalculateAll();\r\n        // å¯ç¨äºæç´¢ï¼éè¦å¤æ­ä¸æé¢æ¿çå¼\r\n        // å ä¸ºä¸æé¢æ¿å¯è½å­å¨é®æ¡çé®é¢\r\n        if (e) {\r\n            this.menuItemsWidth = this.ddm.resetMenuElWidthOpen() + 'px';\r\n        } else {\r\n            this.menuItemsWidth = 'auto';\r\n        }\r\n\r\n    }\r\n    // æç´¢tab\r\n    searchTab(e) {\r\n        this.stopBubble(e);\r\n        this._reCalculateAll();\r\n    }\r\n    // é»æ­¢åæ³¡\r\n    stopBubble(e) {\r\n        if (e && e.stopPropagation) {\r\n            e.stopPropagation();\r\n        } else {\r\n            window.event.cancelBubble = true;\r\n        }\r\n    }\r\n    /**\r\n     * Ximena 23.08.30 å¤æ­æ¯å¦å¯è§,ç¬ç«åºæ¥\r\n     * Todo:\r\n     * 1ãç°å¨btnVisibleæ¯æ¬¡çåæ´é½æ¯å¨éï¼æ¯å¦éè¦è®°å½æ¯æ¬¡åæ´ï¼ç¶ååå¹¶è®¡ç®ï¼\r\n     * 2ãç°å¨å¤æ­æ¯å¦å¯è§çæ¹æ³ï¼æ¯ç´æ¥æ´æ°çé¢çï¼æ¯ä¸ªæé®ä¸é½ç»å®äºè¿ä¸ªæ¹æ³ï¼ä¼ææ§è½é®é¢ãåºè¯¥æ¹æå¤çå¨ç»å®çæææ°æ®ï¼ç¶åæ´æ°çé¢ã\r\n     * 3ãæ¯å¦å¯è§åç¦ç¨æåæ ·çé®é¢\r\n     * @param id \r\n     * @returns \r\n     */\r\n    getToolbarStateVisible(btnItem) {\r\n        let stateProp=\"visible\";\r\n        if (btnItem.hasOwnProperty(stateProp)) {\r\n            return btnItem[stateProp];\r\n        }\r\n        // ä¸å­å¨å±æ§\r\n        return true;\r\n    }\r\n    getToolbarStateDisable(btnItem) {\r\n        let stateProp=\"disable\";\r\n        if (btnItem.hasOwnProperty(stateProp)) {\r\n            return btnItem[stateProp];\r\n        }\r\n        // ä¸å­å¨å±æ§\r\n        return false;\r\n    }\r\n    /**\r\n     * åªå¤çæ¯å¦ç¦ç¨\r\n     * @param id \r\n     * @param state \r\n     * @returns \r\n     */\r\n    getToolbarState(id: string, state: Observable<any> = this.btnStates) {\r\n        if (state) {\r\n            return state.pipe(\r\n                map((n: any) => {\r\n                    if (n[id] === undefined) {\r\n                        // console.warn(`æªæ¾IDä¸ºï¼${id} ç¸å³ç¶æè®¾ç½®ï¼`);\r\n                        return false;\r\n                    }\r\n                    return n[id];\r\n                })\r\n            );\r\n        } else {\r\n            return of(true);\r\n        }\r\n    }\r\n    // çå¬å­ç»ä»¶çéèæ¾ç¤ºå±æ§\r\n    private _listenShowChanges() {\r\n        // å¦æéèçç»ä»¶æ¯æ¿æ´»ç¶æï¼åå°å¶è®¾ç½®ä¸ºå¸¸è§\r\n        this.tabs.forEach(item => {\r\n            item.showStates.subscribe(data => {\r\n                let activeIdToken;\r\n                item._show = data;\r\n                if (data === false && item.id === this.activeId) {\r\n                    item._active = false;\r\n                    this.activeId = '';\r\n                    activeIdToken = false;\r\n                }\r\n                const tabs = this.tabs.filter(item => item._show === true);\r\n                const defaultTabId = tabs.length ? tabs[0].id : null;\r\n                // ç¶åå°æ¾ç¤ºç¶æä¸çç¬¬ä¸ä¸ªtabæ¿æ´»\r\n                if (defaultTabId && activeIdToken === false) {\r\n                    this.tabs.forEach((item, index) => {\r\n                        if (item.id === defaultTabId) {\r\n                            this.activeId = item.id;\r\n                            this.tabs[index]._active = true;\r\n                        }\r\n                    });\r\n                    this.getToolbarConf();\r\n                }\r\n                this.cdRef.detectChanges();\r\n            });\r\n        });\r\n    }\r\n    /**\r\n     * éä¸­Tab\r\n     * @param  tabId tabæ è¯\r\n     */\r\n    selectTab(tabId: string) {\r\n        const selectedTab = this._getTabById(tabId);\r\n        this._selectTab(selectedTab.tab, selectedTab.index);\r\n    }\r\n    _cpSelectTabByIndex(ev: Event, id: string, ddm = null) {\r\n        ev.preventDefault();\r\n        ev.stopPropagation();\r\n        const targetEL = ev.target as any;\r\n        if (\r\n            targetEL.className.indexOf('st-drop-close') > -1 ||\r\n            targetEL.parentElement.className.indexOf('st-drop-close') > -1\r\n        ) {\r\n            // é»æ­¢åæ³¡åæè·äºä»¶ ç¹å»å é¤æ è®° åæ§è¡å é¤æ ç­¾æ¹æ³  èä¸æ¯éä¸­æ ç­¾\r\n            this.closeTab(id);\r\n        } else {\r\n            // é»æ­¢åæ³¡\r\n            this.selectTab(id);\r\n        }\r\n        this.getToolbarConf();\r\n        this.cdRef.markForCheck();\r\n        this._reCalculateAll();\r\n        this._calculateToolbarDropdownIsShow();\r\n        this._calculateButtonsShow();\r\n\r\n        if (ddm) {\r\n            ddm.dropdown.close();\r\n        }\r\n\r\n        return false;\r\n    }\r\n    /**\r\n     * éè¿tabsçç´¢å¼éæ© tab\r\n     * @param index tabsç´¢å¼\r\n     */\r\n    selectTabByIndex(index: number) {\r\n        if (index >= 0 && index < this.tabs.length) {\r\n            const selectTab = this.tabs[index];\r\n            this._selectTab(selectTab, index);\r\n        }\r\n    }\r\n    /* éä¸­tabæ¶  æ´é²åºéä¸­tabçid åå¶ä¹åçid */\r\n    private _selectTab(tab, index) {\r\n        if (tab && !tab.disabled && this.activeId !== tab.id) {\r\n\r\n            if (!this.beforeSelect) {\r\n                this.beforeSelect = () => of(true);\r\n            }\r\n\r\n            const tabsChangeEventParam = {\r\n                prevId: this.activeId,\r\n                nextId: tab.id\r\n            };\r\n            this.beforeSelect(tabsChangeEventParam).subscribe((e) => {\r\n                if (e) {\r\n                    this.activeId = tab.id;\r\n                    // é¦åä¸æ¿æ´»ææçtabé¡µ  ç¶åæ¿æ´»å½åtabé¡µ\r\n                    // let index = -1;\r\n                    this.tabs.forEach((item: FarrisTabComponent, i: number) => {\r\n                        item._active = false;\r\n                    });\r\n                    this.tabs[index]._active = true;\r\n\r\n                    this.getToolbarConf();\r\n                    // æ»å¨å°å¯è§åºåå\r\n                    this.scrollTabIntoView(index);\r\n                    this.cdRef.detectChanges();\r\n\r\n                    this.tabChange.emit(tabsChangeEventParam);\r\n                }\r\n            });\r\n        }\r\n    }\r\n    private _setActive() {\r\n        if (this.tabs.length) {\r\n            const tabs = this.tabs.filter(item => item._show === true);\r\n            const activeTab = this._getTabById(this.activeId).tab;\r\n            this.activeId = activeTab ? activeTab.id : this.tabs.length ? this.tabs[0].id : null;\r\n\r\n            // è¿æ»¤æshow=falseï¼éèï¼çtab\r\n            if (tabs.length) {\r\n                if (this.activeId) {\r\n                    const targetTab = tabs.find(item => item.id === this.activeId);\r\n                    if (targetTab) {\r\n                        this.activeId = targetTab.id;\r\n                    }\r\n                } else {\r\n                    this.activeId = tabs[0].id;\r\n                }\r\n            } else {\r\n                this.activeId = null;\r\n            }\r\n            this.tabs.forEach(item => {\r\n                item._active = false;\r\n                if (item.id === this.activeId) {\r\n                    item._active = true;\r\n                }\r\n            });\r\n        }\r\n    }\r\n    /**\r\n     * @param activeId æ¾ç¤ºæä¸ªtab\r\n     */\r\n    showTab(tabId: any, selectable = true) {\r\n        const len = this.tabs.length;\r\n        for (let i = 0; i < len; i++) {\r\n            if (this.tabs[i].id === tabId) {\r\n                this.tabs[i]._show = true;\r\n                if (selectable) {\r\n                    this.selectTab(tabId);\r\n                }\r\n                return;\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * @param activeId éèæä¸ªtab\r\n     */\r\n    hideTab(activeId: any) {\r\n        const showTabs = this.tabs.filter(item => {\r\n            return item._show === true;\r\n        });\r\n        const len = showTabs.length - 1;\r\n        if (len < 0) {\r\n            return;\r\n        }\r\n        let index: number;\r\n        for (let i = 0; i <= len; i++) {\r\n            if (showTabs[i].id === activeId) {\r\n                showTabs[i]._show = false;\r\n                index = i;\r\n                break;\r\n            }\r\n        }\r\n        if (index === undefined) {\r\n            return;\r\n        } else if (index === len && len < 1) {\r\n            this.selectTab('');\r\n        } else if (index === len && len >= 1) {\r\n            this.selectTab(showTabs[len - 1].id);\r\n        } else {\r\n            this.selectTab(showTabs[index + 1].id);\r\n        }\r\n    }\r\n    /**\r\n     * æ·»å æ ç­¾\r\n     * @param curTabs æ°ç»æèå¯¹è±¡\r\n     * @param activeId è®¾ç½®\r\n     */\r\n    addTabs(curTabs: any[], index, setActiveId) {\r\n        if (curTabs.length > 0) {\r\n            this.tabs.splice(index, 0, ...curTabs);\r\n            // å»é\r\n            this.tabs = this._unique(this.tabs);\r\n        }\r\n        if (setActiveId && this.activeId !== setActiveId) {\r\n            const filterTab = this._getTabById(setActiveId);\r\n            if (filterTab.index >= 0) {\r\n                this.selectTab(setActiveId);\r\n                this.activeId = setActiveId;\r\n                this.scrollTabIntoView(filterTab.index);\r\n            }\r\n        }\r\n        this.cdRef.detectChanges();\r\n        this._reCalculateAll();\r\n        this._changeTitleStyle();\r\n    }\r\n    /**\r\n     * æ·»å æ ç­¾æ¶  å»é\r\n     *\r\n     */\r\n    private _unique(objArray) {\r\n        const hash = {};\r\n        objArray = objArray.reduce(function (item, next) {\r\n            if (hash[next.id]) {\r\n                hash[next.id] = '';\r\n            } else {\r\n                hash[next.id] = true && item.push(next);\r\n            }\r\n            return item;\r\n        }, []);\r\n        return objArray;\r\n    }\r\n    /* éè¿tabåè¡¨çåºåå é¤tab */\r\n    removeTabByIndex(index: number) {\r\n        const len = this.tabs.length - 1;\r\n        if (index < 0 || index > len) {\r\n            return;\r\n        }\r\n        const removeTab = this.tabs[index];\r\n        removeTab._active = false;\r\n        if (this.activeId === removeTab.id) {\r\n            // åªæä¸ä¸ªèä¸è¢«å é¤\r\n            if (len === 0) {\r\n                // å¦ææææ ç­¾åå é¤ æ¿æ´»idä¸ºç©º\r\n                this.activeId = '';\r\n            } else if (index === len) {\r\n                // å¦æå é¤çæ¯æåä¸ä¸ªæ ç­¾ è®¾ç½®å¶åé¢çå¤äºæ¿æ´»ç¶æ\r\n                this.activeId = this.tabs[len - 1].id;\r\n                this.tabs[index - 1]._active = true;\r\n            } else {\r\n                // å¦æå¶ä»æåµ  è®¾ç½®å¶åé¢çå¤äºæ¿æ´»ç¶æ\r\n                this.activeId = this.tabs[index + 1].id;\r\n                this.tabs[index + 1]._active = true;\r\n            }\r\n            this.tabs.splice(index, 1);\r\n            this.scrollTabIntoView(index);\r\n        } else {\r\n            this.tabs.splice(index, 1);\r\n        }\r\n        this.tabRemove.emit({\r\n            removeIndex: index,\r\n            removeId: removeTab.id,\r\n            activeId: this.activeId\r\n        });\r\n        this.cdRef.detectChanges();\r\n    }\r\n    /**\r\n     * å³é­æ ç­¾  è·å é¤æ ç­¾ä¸å\r\n     * @param string\r\n     */\r\n    closeTab(activeId) {\r\n        const len = this.tabs.length;\r\n        for (let i = 0; i < len; i++) {\r\n            const tab = this.tabs[i];\r\n            if (tab.id === activeId) {\r\n                this.removeTabByIndex(i);\r\n                return;\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * åå§å\r\n     */\r\n    load() {\r\n        for (let i = 0; i < this.tabs.length; i++) {\r\n            if (this.tabs[i].id === this.activeId) {\r\n                this.tabs[i]._active = true;\r\n                return;\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * æªåtabä¸­çtitle,è¶è¿6ä½ï¼æªæ­\r\n     */\r\n    private _truncateTitle() {\r\n        this.tabs = this.tabs.map(item => {\r\n            item.title = item.title.length > 6 ? item.title.substr(0, 6) : item.title;\r\n            return item;\r\n        });\r\n    }\r\n\r\n    /**\r\n     * æ¿æ¢tabä¸­çtitleé¢è²\r\n     */\r\n    private _changeTitleStyle() {\r\n        if (this.autoTitleWidth) {\r\n            return;\r\n        }\r\n        const $textEls = this._tabContainerEl.querySelectorAll('.st-tab-text');\r\n        for (var k = 0; k < $textEls.length; k++) {\r\n            let parentEl = $textEls[k].parentNode;\r\n            if ($textEls[k].scrollWidth > parentEl['offsetWidth']) {\r\n                this.tabs[k].titleOverflow = true;\r\n            } else {\r\n                this.tabs[k].titleOverflow = false;\r\n            }\r\n        }\r\n        //this.cdRef.detectChanges();\r\n    }\r\n    /**\r\n     * åå»ºæµ\r\n     */\r\n    private _createStream() {\r\n        [this.rightNav, this.leftNav].forEach((curBtn, index) => {\r\n            const direction = index ? -1 : 1;\r\n\r\n            const mousedown$ = fromEvent(curBtn.nativeElement, 'mousedown');\r\n            const mouseup$ = fromEvent(curBtn.nativeElement, 'mouseup');\r\n            const newMouseDown$ = mousedown$.pipe(\r\n                switchMap((event: MouseEvent) => {\r\n                    event.preventDefault();\r\n                    event.stopPropagation();\r\n                    const interval$ = of(0).pipe(\r\n                        // concat(interval(80)),\r\n                        takeUntil(mouseup$),\r\n                        scan((sum: number, num: number) => {\r\n                            return sum + this.scrollStep * direction;\r\n                        }, 0),\r\n                        takeWhile(num => {\r\n                            if (direction > 0) {\r\n                                return !this.disableRight;\r\n                            }\r\n                            return !this.disableLeft;\r\n                        }),\r\n                        map(v => {\r\n                            return { value: v, direction };\r\n                        })\r\n                    );\r\n                    return interval$;\r\n                })\r\n            );\r\n            const mousepressSub = newMouseDown$.subscribe(change => {\r\n                this._scrollTab(change.value, change.direction);\r\n            });\r\n            this.subscription.push(mousepressSub);\r\n        });\r\n\r\n        // if (this.autoResize) {\r\n        //     // è®¢éwindows resizeäºä»¶\r\n        //     this.subscription.push(\r\n        //         fromEvent(window, 'resize')\r\n        //             .pipe(throttleTime(80))\r\n        //             .subscribe(e => {\r\n        //                 this.cdRef.detectChanges();\r\n        //             })\r\n        //     );\r\n        // }\r\n    }\r\n    /**\r\n     * æç§æ¹åï¼æ»å¨å°æå®ä½ç½®\r\n     * @param dist_scroll ç®æ æ»å¨\r\n     * @param direction æ¹å\r\n     */\r\n    private _scrollTab(move, direction) {\r\n        const dist_scrollleft = this._tabContainerEl.scrollLeft + move;\r\n        const max_scroll_left =\r\n            this._tabContainerEl.scrollWidth - this._tabContainerEl.offsetWidth;\r\n        // æ ç­¾é¡µå·¦ä¾§ç§»å¨\r\n        if (direction > 0) {\r\n            this._tabContainerEl.scrollLeft = Math.min(\r\n                dist_scrollleft,\r\n                max_scroll_left\r\n            );\r\n        } else if (direction < 0) {\r\n            // æ ç­¾é¡µå³ä¾§ç§»å¨\r\n            this._tabContainerEl.scrollLeft = Math.max(dist_scrollleft, 0);\r\n        }\r\n        this._reCalculateSides();\r\n        // this.cdRef.detectChanges();\r\n    }\r\n    /**\r\n     * æå®å½åæ»å¨å°å¯è§åºåââââââââââââââæªæµè¯\r\n     * index\r\n     */\r\n    scrollTabIntoView(index) {\r\n        if (!this._tabContainerEl || this.hideButtons) {\r\n            return;\r\n        }\r\n        const tabIndex = parseInt(index + '', 10);\r\n        let tabToScroll;\r\n\r\n        // first we find the tab element.\r\n        if (tabIndex >= 0) {\r\n            const allTabs = this._tabContainerEl.querySelectorAll('.nav-item');\r\n            if (allTabs.length > tabIndex) {\r\n                tabToScroll = allTabs[tabIndex];\r\n            }\r\n        } else {\r\n            // scroll selected tab into view\r\n            const activeTab = this._tabContainerEl.querySelector('li.active');\r\n            if (activeTab) {\r\n                tabToScroll = activeTab;\r\n            }\r\n        }\r\n\r\n        if (tabToScroll) {\r\n            const tab_left = parseInt(\r\n                tabToScroll.getBoundingClientRect().left + '',\r\n                10\r\n            );\r\n            const tabs_left = parseInt(\r\n                this._tabContainerEl.getBoundingClientRect().left + '',\r\n                10\r\n            );\r\n            const rightPosition =\r\n                tab_left +\r\n                parseInt(tabToScroll.getBoundingClientRect().width + '', 10) -\r\n                tabs_left;\r\n\r\n            const leftPosition = tab_left - tabs_left - 10;\r\n            if (leftPosition < 0) {\r\n                this._scrollTab(leftPosition, -1);\r\n            } else if (rightPosition > this._tabContainerEl.offsetWidth) {\r\n                this._scrollTab(\r\n                    rightPosition - this._tabContainerEl.offsetWidth + 20,\r\n                    1\r\n                );\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * åæ¢tabåï¼éæ°è·åéè¦è¯¥tabä¸å·¥å·æ¡æé®çéç½®ä¿¡æ¯ä»¥åéèæ´å¤æé®\r\n     * ä»¥åè·åè¯¥tabä¸çå¤´é¨æ©å±åºå\r\n     */\r\n    private getToolbarConf() {\r\n        const tabConfig = this.tabs.filter(item => {\r\n            return item._active === true;\r\n        })[0];\r\n        if (!tabConfig || !tabConfig.hasOwnProperty('toolbar')) {\r\n            this.toolbarConf = null;\r\n        } else {\r\n            this.toolbarConf = tabConfig.toolbar;           \r\n        }        \r\n        // è®°å½ç¶æ\r\n        this.changeState(this.visibleRecord,\"visible\");   \r\n        this.changeState(this.disableRecord,\"disable\");\r\n        // è·åè¯¥tabä¸çå¤´é¨æ©å±åºå\r\n        if (!tabConfig || !tabConfig.hasOwnProperty('farrisTabsExtendDirective')) {\r\n            this.headerExtendConf = null;\r\n        } else {\r\n            this.headerExtendConf = tabConfig.farrisTabsExtendDirective;\r\n        }\r\n        // éèæ´å¤æé®\r\n        this.toolbarDpHidden = true;\r\n        this.cdRef.detectChanges();\r\n    }\r\n\r\n    /**\r\n     * è®¡ç®å·¥å·æ æ¯å¦æ¾ç¤ºä¸ææé®\r\n     */\r\n    private _calculateToolbarDropdownIsShow() {\r\n        let headerExtendEl: any;\r\n        let headerExtendElWidth = 0;\r\n        if (!this.toolbarContainer || !this.toolbarConf) {\r\n            return;\r\n        }\r\n        const toolbarContainer = this.hasInHeadCl() ? this.toolbarContainer.nativeElement : this.toolbarContainer.nativeElement.parentElement;\r\n        let divEl = toolbarContainer.querySelector('.farris-tabs-inline-flex');\r\n        if (!divEl) {\r\n            return;\r\n        }\r\n        if (this.headerExtendConf) {\r\n            headerExtendEl = toolbarContainer.querySelector('.farris-tabs-header-extend');\r\n            this.renderer.removeStyle(headerExtendEl, 'overflow');\r\n            headerExtendElWidth = headerExtendEl.offsetWidth;\r\n        }\r\n        // æé®å¨åå®¹åº\r\n        if (!this.hasInHeadCl() && this.btnPlaceHolder.nativeElement.offsetWidth > toolbarContainer.offsetWidth) {\r\n            this.toolbarDpHidden = false;\r\n        } else if (this.hasInHeadCl() && this.btnPlaceHolder.nativeElement.offsetWidth > toolbarContainer.offsetWidth - headerExtendElWidth) {\r\n            // æé®å¨å¤´é¨å·¥å·æ \r\n            this.toolbarDpHidden = false;\r\n        } else {\r\n            this.toolbarDpHidden = true;\r\n        }\r\n        this.cdRef.detectChanges();\r\n    }\r\n\r\n    /**\r\n     * è®¡ç®æ¾ç¤ºçæé®ä¸ªæ°åæ´å¤ä¸­æ¾ç¤ºçæé®ä¸ªæ°\r\n     */\r\n    private _calculateButtonsShow() {\r\n        let headerExtendEl: any;\r\n        let headerExtendElWidth = 0;\r\n        if (!this.toolbarContainer || !this.toolbarConf) {\r\n            return;\r\n        }\r\n        const toolbarContainer = this.hasInHeadCl() ? this.toolbarContainer.nativeElement : this.toolbarContainer.nativeElement.parentElement;\r\n        let divEl = toolbarContainer.querySelector('.farris-tabs-inline-flex');\r\n        let btnPlaceHolderEl = this.btnPlaceHolder.nativeElement;\r\n        let btnPlaceHolderBtns = btnPlaceHolderEl.querySelectorAll('.btn--cal');\r\n        if (!divEl || btnPlaceHolderBtns.length == 0) {\r\n            return;\r\n        }\r\n        // æ­¤å¤æä¸ªBugï¼å¦ææ¯inContentè¿æ¯headerExtendConfçæåµä¸ï¼æé®çä½ç½®å½¢å¦inHead\r\n        if (this.headerExtendConf) {\r\n            headerExtendEl = toolbarContainer.querySelector('.farris-tabs-header-extend');\r\n            headerExtendElWidth = this.hasInHeadCl() ? headerExtendEl.offsetWidth : 0;\r\n\r\n        }\r\n        const moreButton = btnPlaceHolderEl.parentElement.querySelector('.morebtn');\r\n        // è®¡ç®æé®çå®½åº¦      \r\n        let basicStart = parseInt(btnPlaceHolderEl.getBoundingClientRect().left);\r\n        let basicWidth = toolbarContainer.offsetWidth - moreButton.offsetWidth - 12 - headerExtendElWidth;\r\n        let toolbarDropdownHidden = true;\r\n        let k = 0\r\n        // åªæä¸ä¸ªæé®\r\n        if (btnPlaceHolderBtns.length == 1) {\r\n            if (btnPlaceHolderEl.offsetWidth > basicWidth) {\r\n                toolbarDropdownHidden = false;\r\n            } else {\r\n                k = 1;\r\n            }\r\n        } else {\r\n            for (k = 1; k <= btnPlaceHolderBtns.length - 1; k++) {\r\n                // å¦æåå®¹è¶åº,èèå°æé®ä¹é´çé´è·\r\n                if (k == btnPlaceHolderBtns.length - 1) {\r\n                    if (btnPlaceHolderEl.offsetWidth > basicWidth) {\r\n                        toolbarDropdownHidden = false;\r\n                        k = k - 1;\r\n                        break;\r\n                    }\r\n                } else if (parseInt(btnPlaceHolderBtns[k].getBoundingClientRect().left) - basicStart > basicWidth) {\r\n                    toolbarDropdownHidden = false;\r\n                    k = k - 1;\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n\r\n        this.toolbarDpHidden = toolbarDropdownHidden;\r\n        let showBtns = divEl.querySelectorAll('.btn--cal');\r\n        for (let i = 0; i < k; i++) {\r\n            this.renderer.setStyle(showBtns[i], 'display', '');\r\n        }\r\n        for (let m = k; m < showBtns.length; m++) {\r\n            this.renderer.setStyle(showBtns[m], 'display', 'none');\r\n        }\r\n        if (this.toolbarConf.contents && this.toolbarConf.contents.length) {\r\n            // è¿æ»¤æ¾ç¤ºæé®çä¸ªæ°\r\n            let filterShowBtns = this.toolbarConf.contents.filter((item) => this.getToolbarStateVisible(item));\r\n            // ä»æ¾ç¤ºæé®ä¸­è¿æ»¤ä¸ææé®\r\n            this.inMoreButtonContents = filterShowBtns.filter(\r\n                (item, index) => {\r\n                    return index >= k;\r\n                }\r\n            );\r\n        }        \r\n        this.cdRef&&!this.cdRef['destroyed']&&this.cdRef.detectChanges(); \r\n    }\r\n    /**\r\n     * éæ°è®¡ç®æ¯å¦æ¾ç¤ºæé®åä¸æ\r\n     */\r\n    private _reCalculateAll() {\r\n        if (!this._tabContainerEl) {\r\n            return;\r\n        }\r\n\r\n        let tabParentWidth = this.tabParent.nativeElement.offsetWidth;\r\n        if (!this.hideButtons) {\r\n            const tr = parseInt(window.getComputedStyle(this.tabParent.nativeElement).getPropertyValue(\"margin-right\"));\r\n            const tl = parseInt(window.getComputedStyle(this.tabParent.nativeElement).getPropertyValue(\"margin-left\"));\r\n            tabParentWidth += tr + tl;\r\n        }\r\n\r\n        this.hideButtons = this._tabContainerEl.scrollWidth <= tabParentWidth;\r\n\r\n        this.hideDropDown = this.showDropDown ? this.hideButtons : true;\r\n        if (!this.hideButtons) {\r\n            if (!this.hideDropDown) {\r\n                this.dropdownTabs = [].concat(this.tabs);\r\n            }\r\n            if (this.searchTabText) {\r\n                this.dropdownTabs = this.dropdownTabs.filter(item => {\r\n                    return item['title'].indexOf(this.searchTabText) !== -1;\r\n                });\r\n            }\r\n            this._reCalculateSides();\r\n        }\r\n        this.dpState = [false];\r\n        this.cdRef.detectChanges();\r\n    }\r\n    /**\r\n     * éæ°è®¡ç®å·¦å³çæç¤ºæå­\r\n     */\r\n    private _reCalulateTooltips() {\r\n        if (!this._tabContainerEl || this.hideButtons) {\r\n            return;\r\n        }\r\n        const t_right_tooltips = [];\r\n        const t_left_tooltips = [];\r\n        const allTabs = this._tabContainerEl.querySelectorAll('.nav-item');\r\n        const len = allTabs.length;\r\n        const hiddenTabs = this.tabs.filter(item => {\r\n            return item._show !== true;\r\n        })\r\n        const hiddenTabsLength = hiddenTabs.length;\r\n        for (let i = 0; i < len; i++) {\r\n            const leftPosition =\r\n                allTabs[i].getBoundingClientRect().left -\r\n                this._tabContainerEl.getBoundingClientRect().left;\r\n            const rightPosition =\r\n                allTabs[i].getBoundingClientRect().width + leftPosition;\r\n            if (rightPosition > this._tabContainerEl.offsetWidth) {\r\n                t_right_tooltips.push(this.tabs[i]);\r\n            } else if (leftPosition < 0) {\r\n                t_left_tooltips.push(this.tabs[i]);\r\n            }\r\n        }\r\n\r\n        this.leftTooltipTabs = []\r\n            .concat(t_left_tooltips)\r\n            .slice(Math.max(0, t_left_tooltips.length - this.maxTooltipLen));\r\n        this.rightTooltipTabs = []\r\n            .concat(t_right_tooltips)\r\n            .slice(0, Math.min(this.maxTooltipLen, t_right_tooltips.length));\r\n        this.disableRTooltip = this.rightTooltipTabs.length < 1;\r\n        this.disableLTooltip = this.leftTooltipTabs.length - hiddenTabsLength < 1;\r\n    }\r\n    /**\r\n     * éæ°è®¡ç®å·¦å³ç®­å¤´ç¶æ\r\n     */\r\n    private _reCalculateSides() {\r\n        this.disableRight =\r\n            this._tabContainerEl.scrollLeft >=\r\n            this._tabContainerEl.scrollWidth - this._tabContainerEl.offsetWidth;\r\n        this.disableLeft = this._tabContainerEl.scrollLeft <= 0;\r\n        this._reCalulateTooltips();\r\n    }\r\n    /**\r\n     * éè¿idå¯»æ¾Tab\r\n     * @param id ID\r\n     */\r\n    private _getTabById(id: string) {\r\n        const indexWidthId = [];\r\n        const tabsWithId: FarrisTabComponent[] = this.tabs.filter(\r\n            (tab, index) => {\r\n                if (tab.id === id) {\r\n                    indexWidthId.push(index);\r\n                    return true;\r\n                } else {\r\n                    return false;\r\n                }\r\n            }\r\n        );\r\n        return {\r\n            tab: tabsWithId.length ? tabsWithId[0] : null,\r\n            index: indexWidthId.length ? indexWidthId[0] : -1\r\n        };\r\n    }\r\n    /*å®½é«ç±»åæ¯ stringæènumber è§£æå®½é«  å°ºå¯¸ */\r\n    resolveSize(size) {\r\n        const regex = /px|em|rem|pt|%/;\r\n        // è¯´ææ¯å­ç¬¦ä¸²\r\n        return regex.test(size)\r\n            ? `${parseInt(size, 10)}${size.match(regex)[0]}`\r\n            : `${size}px`;\r\n    }\r\n    /*\r\n      æ¸ç©ºtab\r\n       */\r\n    // removeAllTab() {\r\n    //     this.tabs.splice(0, this.tabs.length);\r\n    // }\r\n    hasInHeadCl() {\r\n        if (this.toolbarConf && this.toolbarConf.hasOwnProperty('position') && this.toolbarConf.hasOwnProperty('contents') && this.toolbarConf.position === 'inHead' && this.toolbarConf.contents.length > 0) {\r\n            return true;\r\n        }\r\n        if (this.headerExtendConf && !(this.toolbarConf && this.toolbarConf.position === 'inContent' && this.toolbarConf.contents.length)) {\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n        /**\r\n     * æ¹åå¯ç¨ç¶æ\r\n     * @param values\r\n     */\r\n        private changeState(values, stateProp) {            \r\n            if(!this.toolbarConf||!this.toolbarConf.contents){\r\n                return;\r\n            }\r\n            const idArray = Object.keys(values);\r\n            this.toolbarConf.contents.forEach((item) => {\r\n                const findId = idArray.find((id) => id == item.id);\r\n                if (findId) {\r\n                    item[stateProp] = values[findId];\r\n                }\r\n                if(item['children']&&item['children'].length>0){\r\n                    // æ°æ®æºåªæä¸çº§çä¸æ\r\n                    let dpChildren=item.children;\r\n                    dpChildren.forEach((item) => {\r\n                        const findId = idArray.find((id) => id == item.id);\r\n                        if (findId) {\r\n                            item[stateProp] = values[findId];\r\n                        }\r\n                    });\r\n                }\r\n            });\r\n            this.inMoreButtonContents.forEach((item) => {\r\n                const findId = idArray.find((id) => id == item.id);\r\n                if (findId) {\r\n                    item[stateProp] = values[findId];\r\n                }\r\n                if(item['children']&&item['children'].length>0){\r\n                    // æ°æ®æºåªæä¸çº§çä¸æ\r\n                    let dpChildren=item.children;\r\n                    dpChildren.forEach((item) => {\r\n                        const findId = idArray.find((id) => id == item.id);\r\n                        if (findId) {\r\n                            item[stateProp] = values[findId];\r\n                        }\r\n                    });\r\n                }\r\n            });\r\n            this.dpState = [false];\r\n            this.cdRef&&!this.cdRef['destroyed']&&this.cdRef.detectChanges();\r\n        }\r\n}\r\n","import { Directive, TemplateRef, Input } from '@angular/core';\r\n\r\n@Directive({\r\n    selector: '[farrisTabsExtend]',\r\n})\r\nexport class FarrisTabsExtendDirective {\r\n\r\n    @Input() extendCls: string;\r\n\r\n    constructor(\r\n        public templateRef: TemplateRef<any>\r\n    ) {\r\n\r\n    }\r\n\r\n}","import {\r\n    Component, Input, TemplateRef, ChangeDetectorRef, Compiler,\r\n    ComponentFactoryResolver, Renderer2, ElementRef,\r\n    ContentChild, OnInit, AfterViewInit, ViewContainerRef, Optional, Type,\r\n    NgModuleFactory,\r\n    AfterViewChecked\r\n} from '@angular/core';\r\nimport { BehaviorSubject, Observable } from 'rxjs';\r\nimport { FarrisTabsComponent } from '../tabs/tabs.component';\r\nimport { FarrisTabsExtendDirective } from './extend.directive';\r\n\r\n@Component({\r\n    selector: 'farris-tab',\r\n    templateUrl: './tab.component.html'\r\n})\r\nexport class FarrisTabComponent implements OnInit, AfterViewInit, AfterViewChecked {\r\n    // tabsä¹å¯è½ä½ä¸ºæä¸ªflexå®¹å¨çé¡¹ç®  å æ­¤è¦è®¾ç½®flexå±æ§\r\n    // tslint:disable-next-line:no-inferrable-types\r\n    // æ¯ä¸ä¸ªæ ç­¾é¡µå¯è®¾ç½®å®½åº¦\r\n    setIntervalTab: any;\r\n    \r\n    @Input('width') tabWidth: number = -1;\r\n    @Input() set show(value) {\r\n        if (this._show != value) {\r\n            this.showStates.next(value);\r\n            this._show = value;\r\n            this.scrollTabs.tabVisibleChanged.next({ tab: this, visible: value });\r\n        }\r\n    }\r\n    get show(){\r\n        return this._show;\r\n    }\r\n    @Input() asyncComponent: Type<any>;\r\n    @Input() asyncModule: NgModuleFactory<any>;\r\n    @Input() id: string;\r\n    // è¿½å èªå®ä¹çæ ·å¼\r\n    @Input() titleCustomCls = '';\r\n    // æ è®°ææ¬æ¯å¦è¶åº\r\n    titleOverflow:false;\r\n    // tab æ é¢\r\n    @Input() title: string;\r\n    // selected æ¯å¦éä¸­\r\n    // tslint:disable-next-line:no-inferrable-types\r\n    selected: boolean = false;\r\n    // disabled æ¯å¦ç¦æ­¢ç¹å»\r\n    @Input() disabled: boolean;\r\n    // æ¯å¦å¯ç§»åº\r\n    @Input() removeable: boolean;\r\n    @Input() toolbar: any;\r\n    // @Input() content: string | Type<any>;\r\n    // è®¾ç½®éç¹\r\n    @ContentChild('content') contentTempl: TemplateRef<any>;\r\n    @ContentChild(FarrisTabsExtendDirective) farrisTabsExtendDirective: any;\r\n    // appDiv: T;\r\n    showStates = new BehaviorSubject(true);\r\n\r\n    // å¼å®¹æ§è¡¨å\r\n    activeState = new BehaviorSubject(false);\r\n    private _activeForOld: any;\r\n    set _active(value: any) {\r\n        this._activeForOld = value;\r\n        this.activeState.next(value);\r\n    }\r\n    get _active() {\r\n        return this._activeForOld;\r\n    }\r\n    view: ViewContainerRef;\r\n    tempDirective: any;\r\n    popupFlag: boolean;\r\n    _show: boolean = true;\r\n    // æ ç¨ä»£ç \r\n    get active() {\r\n        return this._active;\r\n    }\r\n    headingRef: TemplateRef<any>;\r\n    compOrHtml: any;\r\n    constructor(private cp: Compiler, public componentFactoryResolver: ComponentFactoryResolver, private render: Renderer2,\r\n        private el: ElementRef, private cef: ChangeDetectorRef, @Optional() public scrollTabs: FarrisTabsComponent) {\r\n    }\r\n    /**\r\n     * åå®¹æ¯å¦æ¿æ´»\r\n     */\r\n    ngOnInit() {\r\n        this.scrollTabs.tabs.push(this);\r\n        if (!this.scrollTabs.activeId) {\r\n            this.scrollTabs.tabs[0]._active = true;\r\n        } else {\r\n            this.scrollTabs.load();\r\n        }\r\n    }\r\n    ngAfterViewInit(): void {\r\n        // ä¸ºäºå¼å®¹å¼æ§è¡¨åï¼ä¸å¼å®¹HostBinding, éè¿è¿½å classçæ¹å¼å®ç°\r\n        const nEl = this.el.nativeElement;\r\n        this.activeState.subscribe(data => {\r\n            this.render.addClass(nEl, 'farris-tabs-body');\r\n            if (data) {\r\n                this.render.addClass(nEl, 'f-tab-active');\r\n                this.render.removeClass(nEl, 'f-tab-d-none');\r\n            } else {\r\n                this.render.addClass(nEl, 'f-tab-d-none');\r\n                this.render.removeClass(nEl, 'f-tab-active');\r\n            }\r\n        });\r\n    }\r\n    ngAfterViewChecked() {\r\n\r\n    }\r\n    loadComponent() {\r\n\r\n    }\r\n\r\n}\r\n","import {\r\n    Directive, Input, ViewContainerRef, TemplateRef, ChangeDetectionStrategy, ChangeDetectorRef, OnInit,\r\n    KeyValueDiffers, KeyValueDiffer, DoCheck\r\n} from '@angular/core';\r\n\r\n@Directive({\r\n    selector: '[tabTransclude]',\r\n})\r\nexport class TabTranscludeDirective implements OnInit, DoCheck {\r\n    _trancludeTempl: TemplateRef<any>;\r\n    setIntervalTemp: any;\r\n    private _differ: any;\r\n    @Input('tabTransclude')\r\n    get trancludeTempl() {\r\n        return this._trancludeTempl;\r\n    }\r\n    set trancludeTempl(templateRef: TemplateRef<any>) {\r\n        this._trancludeTempl = templateRef;\r\n        if (templateRef) {\r\n            this.viewRef.createEmbeddedView(templateRef);\r\n        }\r\n        // if (!this._differ && templateRef) {\r\n        //     this._differ = this._differs.find(templateRef).create();\r\n        // }\r\n    }\r\n    viewRef: ViewContainerRef;\r\n    constructor(viewRef: ViewContainerRef, private _differs: KeyValueDiffers) {\r\n        // setTimeout(() => {\r\n            this.viewRef = viewRef;\r\n        // }, 5000);\r\n\r\n        // this.cd.detectChanges();\r\n    }\r\n    ngOnInit() {\r\n        // this.setIntervalTemp = setInterval(() => {\r\n        //     if (this._trancludeTempl && this.viewRef) {\r\n        //         console.log('sa');\r\n        //         // this.viewRef = this.viewRef;\r\n        //         clearInterval(this.setIntervalTemp);\r\n        //     }\r\n        // }, 0);\r\n    }\r\n    ngDoCheck() {\r\n        // const CHANGE = this._differ.diff(this._trancludeTempl);\r\n        // if (CHANGE) {\r\n        //     this.viewRef.createEmbeddedView(this._trancludeTempl);\r\n        // }\r\n    }\r\n    // ng\r\n}\r\n","import { Directive, TemplateRef, ElementRef } from '@angular/core';\r\nimport { FarrisTabComponent } from './tab.component';\r\n@Directive({\r\n    selector: '[tabHead]'\r\n})\r\nexport class TabHeadDirective {\r\n    constructor(tabItem: FarrisTabComponent, el: ElementRef, template: TemplateRef<any>) {\r\n        tabItem.headingRef = template;\r\n    }\r\n}\r\n","import { NgModule, ModuleWithProviders } from '@angular/core';\r\nimport {\r\n  NgbDropdown,\r\n  NgbDropdownAnchor,\r\n  NgbDropdownToggle,\r\n  NgbDropdownMenu\r\n} from './dropdown';\r\nimport { NgbDropdownConfig } from './dropdown-config';\r\n\r\nexport { NgbDropdown, NgbDropdownToggle, NgbDropdownMenu } from './dropdown';\r\nexport { NgbDropdownConfig } from './dropdown-config';\r\n\r\nimport { FarrisCommonModule } from '@farris/ui-common';\r\n\r\nconst NGB_DROPDOWN_DIRECTIVES = [\r\n  NgbDropdown,\r\n  NgbDropdownAnchor,\r\n  NgbDropdownToggle,\r\n  NgbDropdownMenu\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    FarrisCommonModule\r\n  ],\r\n  declarations: NGB_DROPDOWN_DIRECTIVES,\r\n  exports: NGB_DROPDOWN_DIRECTIVES\r\n})\r\nexport class NgbDropdownModule {\r\n  static forRoot(): ModuleWithProviders {\r\n    return { ngModule: NgbDropdownModule, providers: [NgbDropdownConfig] };\r\n  }\r\n}\r\n","export class Trigger {\r\n  constructor(public open: string, public close?: string) {\r\n    if (!close) {\r\n      this.close = open;\r\n    }\r\n  }\r\n\r\n  isManual() { return this.open === 'manual' || this.close === 'manual'; }\r\n}\r\n\r\nconst DEFAULT_ALIASES = {\r\n  'hover': ['mouseenter', 'mouseleave']\r\n};\r\n\r\nexport function parseTriggers(triggers: string, aliases = DEFAULT_ALIASES): Trigger[] {\r\n  const trimmedTriggers = (triggers || '').trim();\r\n\r\n  if (trimmedTriggers.length === 0) {\r\n    return [];\r\n  }\r\n\r\n  const parsedTriggers = trimmedTriggers.split(/\\s+/).map(trigger => trigger.split(':')).map((triggerPair) => {\r\n    let alias = aliases[triggerPair[0]] || triggerPair;\r\n    return new Trigger(alias[0], alias[1]);\r\n  });\r\n\r\n  const manualTriggers = parsedTriggers.filter(triggerPair => triggerPair.isManual());\r\n\r\n  if (manualTriggers.length > 1) {\r\n    throw 'Triggers parse error: only one manual trigger is allowed';\r\n  }\r\n\r\n  if (manualTriggers.length === 1 && parsedTriggers.length > 1) {\r\n    throw 'Triggers parse error: manual trigger can\\'t be mixed with other triggers';\r\n  }\r\n\r\n  return parsedTriggers;\r\n}\r\n\r\nconst noopFn = () => {};\r\n\r\nexport function listenToTriggers(renderer: any, nativeElement: any, triggers: string, openFn, closeFn, toggleFn) {\r\n  const parsedTriggers = parseTriggers(triggers);\r\n  const listeners = [];\r\n\r\n  if (parsedTriggers.length === 1 && parsedTriggers[0].isManual()) {\r\n    return noopFn;\r\n  }\r\n\r\n  parsedTriggers.forEach((trigger: Trigger) => {\r\n    if (trigger.open === trigger.close) {\r\n      listeners.push(renderer.listen(nativeElement, trigger.open, toggleFn));\r\n    } else {\r\n      listeners.push(\r\n          renderer.listen(nativeElement, trigger.open, openFn), renderer.listen(nativeElement, trigger.close, closeFn));\r\n    }\r\n  });\r\n\r\n  return () => { listeners.forEach(unsubscribeFn => unsubscribeFn()); };\r\n}\r\n","import {\r\n  Injector,\r\n  TemplateRef,\r\n  ViewRef,\r\n  ViewContainerRef,\r\n  Renderer2,\r\n  ComponentRef,\r\n  ComponentFactoryResolver\r\n} from '@angular/core';\r\n\r\nexport class ContentRef {\r\n  constructor(public nodes: any[], public viewRef?: ViewRef, public componentRef?: ComponentRef<any>) {}\r\n}\r\n\r\nexport class PopupService<T> {\r\n  private _windowRef: ComponentRef<T>;\r\n  private _contentRef: ContentRef;\r\n\r\n  constructor(\r\n      private _type: any, private _injector: Injector, private _viewContainerRef: ViewContainerRef,\r\n      private _renderer: Renderer2, private _componentFactoryResolver: ComponentFactoryResolver) {}\r\n\r\n  open(content?: string | TemplateRef<any>, context?: any): ComponentRef<T> {\r\n    if (!this._windowRef) {\r\n      this._contentRef = this._getContentRef(content, context);\r\n      this._windowRef = this._viewContainerRef.createComponent(\r\n          this._componentFactoryResolver.resolveComponentFactory<T>(this._type), 0, this._injector,\r\n          this._contentRef.nodes);\r\n    }\r\n\r\n    return this._windowRef;\r\n  }\r\n\r\n  close() {\r\n    if (this._windowRef) {\r\n      this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._windowRef.hostView));\r\n      this._windowRef = null;\r\n\r\n      if (this._contentRef.viewRef) {\r\n        this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._contentRef.viewRef));\r\n        this._contentRef = null;\r\n      }\r\n    }\r\n  }\r\n\r\n  private _getContentRef(content: string | TemplateRef<any>, context?: any): ContentRef {\r\n    if (!content) {\r\n      return new ContentRef([]);\r\n    } else if (content instanceof TemplateRef) {\r\n      const viewRef = this._viewContainerRef.createEmbeddedView(<TemplateRef<T>>content, context);\r\n      return new ContentRef([viewRef.rootNodes], viewRef);\r\n    } else {\r\n      return new ContentRef([[this._renderer.createText(`${content}`)]]);\r\n    }\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { PlacementArray } from '../util/positioning';\r\n\r\n/**\r\n * Configuration service for the NgbTooltip directive.\r\n * You can inject this service, typically in your root component, and customize the values of its properties in\r\n * order to provide default values for all the tooltips used in the application.\r\n */\r\n@Injectable()\r\nexport class NgbTooltipConfig {\r\n  placement: PlacementArray = 'top';\r\n  triggers = 'hover';\r\n  container = 'body';\r\n  disableTooltip = false;\r\n}\r\n","import {\r\n  Component,\r\n  Directive,\r\n  Input,\r\n  Output,\r\n  EventEmitter,\r\n  ChangeDetectionStrategy,\r\n  OnInit,\r\n  OnDestroy,\r\n  Injector,\r\n  Renderer2,\r\n  ComponentRef,\r\n  ElementRef,\r\n  TemplateRef,\r\n  ViewContainerRef,\r\n  ComponentFactoryResolver,\r\n  NgZone,\r\n  AfterViewInit,\r\n  HostBinding\r\n} from '@angular/core';\r\nimport { listenToTriggers } from '../util/triggers';\r\nimport { positionElements, Placement, PlacementArray } from '../util/positioning';\r\nimport { PopupService } from '../util/popup';\r\nimport { NgbTooltipConfig } from './tooltip-config';\r\n\r\nlet nextId = 0;\r\n\r\n@Component({\r\n  selector: 'ngb-tooltip-window',\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  host: {\r\n    '[class]': '\"tooltip show bs-tooltip-\" + placement.split(\"-\")[0]+\" bs-tooltip-\" + placement',\r\n    'role': 'tooltip',\r\n    '[id]': 'id'\r\n  },\r\n  template: `<div class=\"arrow\"></div><div class=\"tooltip-inner\"><ng-content></ng-content></div>`,\r\n  styles: [`\r\n    :host.bs-tooltip-top .arrow, :host.bs-tooltip-bottom .arrow {\r\n      left: calc(50% - 0.4rem);\r\n    }\r\n\r\n    :host.bs-tooltip-top-left .arrow, :host.bs-tooltip-bottom-left .arrow {\r\n      left: 1em;\r\n    }\r\n\r\n    :host.bs-tooltip-top-right .arrow, :host.bs-tooltip-bottom-right .arrow {\r\n      left: auto;\r\n      right: 0.8rem;\r\n    }\r\n\r\n    :host.bs-tooltip-left .arrow, :host.bs-tooltip-right .arrow {\r\n      top: calc(50% - 0.4rem);\r\n    }\r\n\r\n    :host.bs-tooltip-left-top .arrow, :host.bs-tooltip-right-top .arrow {\r\n      top: 0.4rem;\r\n    }\r\n\r\n    :host.bs-tooltip-left-bottom .arrow, :host.bs-tooltip-right-bottom .arrow {\r\n      top: auto;\r\n      bottom: 0.4rem;\r\n    }\r\n  `]\r\n})\r\nexport class NgbTooltipWindow {\r\n  @Input() placement: Placement = 'top';\r\n  @Input() id: string;\r\n\r\n  constructor(private _element: ElementRef, private _renderer: Renderer2) { }\r\n\r\n  applyPlacement(_placement: Placement) {\r\n    // remove the current placement classes\r\n    this._renderer.removeClass(this._element.nativeElement, 'bs-tooltip-' + this.placement.toString().split('-')[0]);\r\n    this._renderer.removeClass(this._element.nativeElement, 'bs-tooltip-' + this.placement.toString());\r\n\r\n    // set the new placement classes\r\n    this.placement = _placement;\r\n\r\n    // apply the new placement\r\n    this._renderer.addClass(this._element.nativeElement, 'bs-tooltip-' + this.placement.toString().split('-')[0]);\r\n    this._renderer.addClass(this._element.nativeElement, 'bs-tooltip-' + this.placement.toString());\r\n  }\r\n}\r\n\r\n/**\r\n * A lightweight, extensible directive for fancy tooltip creation.\r\n */\r\n@Directive({ selector: '[ngbTooltip]', exportAs: 'ngbTooltip' })\r\nexport class NgbTooltip implements OnInit, OnDestroy {\r\n  /**\r\n    * Placement of a popover accepts:\r\n    *    \"top\", \"top-left\", \"top-right\", \"bottom\", \"bottom-left\", \"bottom-right\",\r\n    *    \"left\", \"left-top\", \"left-bottom\", \"right\", \"right-top\", \"right-bottom\"\r\n    * and array of above values.\r\n    */\r\n  @Input() placement: PlacementArray;\r\n  /**\r\n   * Specifies events that should trigger. Supports a space separated list of event names.\r\n   */\r\n  @Input() triggers: string;\r\n  /**\r\n   * A selector specifying the element the tooltip should be appended to.\r\n   * Currently only supports \"body\".\r\n   */\r\n  @Input() container='body';\r\n  /**\r\n   * A flag indicating if a given tooltip is disabled and should not be displayed.\r\n   *\r\n   * @since 1.1.0\r\n   */\r\n  @Input() disableTooltip: boolean;\r\n  /**\r\n   * Emits an event when the tooltip is shown\r\n   */\r\n  @Output() shown = new EventEmitter();\r\n  /**\r\n   * Emits an event when the tooltip is hidden\r\n   */\r\n  @Output() hidden = new EventEmitter();\r\n  @Input() referElement:HTMLElement;\r\n\r\n  private _ngbTooltip: string | TemplateRef<any>;\r\n  private _ngbTooltipWindowId = `ngb-tooltip-${nextId++}`;\r\n  private _popupService: PopupService<NgbTooltipWindow>;\r\n  private _windowRef: ComponentRef<NgbTooltipWindow>;\r\n  private _unregisterListenersFn;\r\n  private _zoneSubscription: any;\r\n\r\n  constructor(\r\n    private _elementRef: ElementRef, private _renderer: Renderer2, injector: Injector,\r\n    componentFactoryResolver: ComponentFactoryResolver, viewContainerRef: ViewContainerRef, config: NgbTooltipConfig,\r\n    ngZone: NgZone) {\r\n    this.placement = config.placement;\r\n    this.triggers = config.triggers;\r\n    this.container = config.container||'body';\r\n    this.disableTooltip = config.disableTooltip;\r\n    this._popupService = new PopupService<NgbTooltipWindow>(\r\n      NgbTooltipWindow, injector, viewContainerRef, _renderer, componentFactoryResolver);\r\n  \r\n      \r\n    this._zoneSubscription = ngZone.onStable.subscribe(() => {\r\n      if (this._windowRef) {\r\n        this._windowRef.instance.applyPlacement(\r\n          positionElements(\r\n            this._elementRef.nativeElement, this._windowRef.location.nativeElement, this.placement,\r\n            this.container === 'body',this.referElement));\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Content to be displayed as tooltip. If falsy, the tooltip won't open.\r\n   */\r\n  @Input()\r\n  set ngbTooltip(value: string | TemplateRef<any>) {\r\n    this._ngbTooltip = value;\r\n    if (!value && this._windowRef) {\r\n      this.close();\r\n    }\r\n  }\r\n\r\n  get ngbTooltip() { return this._ngbTooltip; }\r\n\r\n  /**\r\n   * Opens an elementâs tooltip. This is considered a âmanualâ triggering of the tooltip.\r\n   * The context is an optional value to be injected into the tooltip template when it is created.\r\n   */\r\n  open(context?: any) {\r\n    if (!this._windowRef && this._ngbTooltip && !this.disableTooltip) {\r\n      this._windowRef = this._popupService.open(this._ngbTooltip, context);\r\n      this._windowRef.instance.id = this._ngbTooltipWindowId;\r\n\r\n      this._renderer.setAttribute(this._elementRef.nativeElement, 'aria-describedby', this._ngbTooltipWindowId);\r\n\r\n      if (this.container === 'body') {\r\n        window.document.querySelector(this.container).appendChild(this._windowRef.location.nativeElement);\r\n      }\r\n\r\n      this._windowRef.instance.placement = Array.isArray(this.placement) ? this.placement[0] : this.placement;\r\n\r\n      // apply styling to set basic css-classes on target element, before going for positioning\r\n      this._windowRef.changeDetectorRef.detectChanges();\r\n      this._windowRef.changeDetectorRef.markForCheck();\r\n\r\n      // position tooltip along the element\r\n      this._windowRef.instance.applyPlacement(\r\n        positionElements(\r\n          this._elementRef.nativeElement, this._windowRef.location.nativeElement, this.placement,\r\n          this.container === 'body',this.referElement));\r\n\r\n      this.shown.emit();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Closes an elementâs tooltip. This is considered a âmanualâ triggering of the tooltip.\r\n   */\r\n  close(): void {\r\n    if (this._windowRef != null) {\r\n      this._renderer.removeAttribute(this._elementRef.nativeElement, 'aria-describedby');\r\n      this._popupService.close();\r\n      this._windowRef = null;\r\n      this.hidden.emit();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Toggles an elementâs tooltip. This is considered a âmanualâ triggering of the tooltip.\r\n   */\r\n  toggle(): void {\r\n    if (this._windowRef) {\r\n      this.close();\r\n    } else {\r\n      this.open();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Returns whether or not the tooltip is currently being shown\r\n   */\r\n  isOpen(): boolean { return this._windowRef != null; }\r\n\r\n  ngOnInit() {\r\n    this._unregisterListenersFn = listenToTriggers(\r\n      this._renderer, this._elementRef.nativeElement, this.triggers, this.open.bind(this), this.close.bind(this),\r\n      this.toggle.bind(this));\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.close();\r\n    // This check is needed as it might happen that ngOnDestroy is called before ngOnInit\r\n    // under certain conditions, see: https://github.com/ng-bootstrap/ng-bootstrap/issues/2199\r\n    if (this._unregisterListenersFn) {\r\n      this._unregisterListenersFn();\r\n    }\r\n    this._zoneSubscription.unsubscribe();\r\n  }\r\n}\r\n","import { NgModule, ModuleWithProviders } from '@angular/core';\r\n\r\nimport { NgbTooltip, NgbTooltipWindow } from './tooltip';\r\nimport { NgbTooltipConfig } from './tooltip-config';\r\n\r\nexport { NgbTooltipConfig } from './tooltip-config';\r\nexport { NgbTooltip } from './tooltip';\r\nexport { Placement } from '../util/positioning';\r\n\r\n@NgModule({\r\n  declarations: [NgbTooltip, NgbTooltipWindow],\r\n  exports: [NgbTooltip],\r\n  entryComponents: [NgbTooltipWindow]\r\n})\r\nexport class NgbTooltipModule {\r\n  static forRoot(): ModuleWithProviders {\r\n    return {\r\n      ngModule: NgbTooltipModule,\r\n      providers: [NgbTooltipConfig]\r\n    };\r\n  }\r\n}\r\n","import { NgModule, ModuleWithProviders } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport {FDropdownDirectiveTypeModule} from '@farris/ui-dropdown';\r\nimport { NgbDropdownModule } from './dropdown/dropdown.module';\r\nimport { NgbTooltipModule } from './tooltip/tooltip.module';\r\nimport { LocaleModule } from '@farris/ui-locale';\r\nimport { FarrisTabsComponent } from './tabs/tabs.component';\r\nimport { TabConfig, TabService } from './tabs.config';\r\nimport { FarrisTabComponent } from './tab/tab.component';\r\nimport { TabTranscludeDirective } from './tab/tab.transclude.directive';\r\nimport { TabHeadDirective } from './tab/tab.headtemplate.directive';\r\nimport { TabHostDirective } from './tab/tabhost.directive';\r\nimport { FarrisTabsExtendDirective } from './tab/extend.directive';\r\n\r\n@NgModule({\r\n    imports: [\r\n        CommonModule,\r\n        LocaleModule,\r\n        FormsModule,\r\n        NgbDropdownModule.forRoot(),\r\n        NgbTooltipModule.forRoot(),\r\n        FDropdownDirectiveTypeModule\r\n    ],\r\n    declarations: [FarrisTabsComponent, FarrisTabComponent,\r\n        TabTranscludeDirective, TabHeadDirective, FarrisTabsExtendDirective, TabHostDirective],\r\n    exports: [\r\n        FarrisTabsComponent,\r\n        FarrisTabComponent,\r\n        TabTranscludeDirective,\r\n        TabHeadDirective,\r\n        TabHostDirective,\r\n        FarrisTabsExtendDirective,\r\n        NgbDropdownModule,\r\n        NgbTooltipModule\r\n    ],\r\n    providers: [TabService]\r\n})\r\nexport class FarrisTabsModule {\r\n    static forRoot(config?: TabConfig): ModuleWithProviders {\r\n        return {\r\n            ngModule: FarrisTabsModule,\r\n            providers: [{ provide: TabConfig, useValue: config }]\r\n        };\r\n    }\r\n}\r\n"],"names":["tslib_1.__values","tslib_1.__extends"],"mappings":"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"}
