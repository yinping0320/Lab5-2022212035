/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { Component, Input, TemplateRef, ChangeDetectorRef, Compiler, ComponentFactoryResolver, Renderer2, ElementRef, ContentChild, Optional, Type, NgModuleFactory } from '@angular/core';
import { BehaviorSubject } from 'rxjs';
import { FarrisTabsComponent } from '../tabs/tabs.component';
import { FarrisTabsExtendDirective } from './extend.directive';
export class FarrisTabComponent {
    /**
     * @param {?} cp
     * @param {?} componentFactoryResolver
     * @param {?} render
     * @param {?} el
     * @param {?} cef
     * @param {?} scrollTabs
     */
    constructor(cp, componentFactoryResolver, render, el, cef, scrollTabs) {
        this.cp = cp;
        this.componentFactoryResolver = componentFactoryResolver;
        this.render = render;
        this.el = el;
        this.cef = cef;
        this.scrollTabs = scrollTabs;
        this.tabWidth = -1;
        // 追加自定义的样式
        this.titleCustomCls = '';
        // selected 是否选中
        // tslint:disable-next-line:no-inferrable-types
        this.selected = false;
        // appDiv: T;
        this.showStates = new BehaviorSubject(true);
        // 兼容旧表单
        this.activeState = new BehaviorSubject(false);
        this._show = true;
    }
    /**
     * @param {?} value
     * @return {?}
     */
    set show(value) {
        if (this._show != value) {
            this.showStates.next(value);
            this._show = value;
            this.scrollTabs.tabVisibleChanged.next({ tab: this, visible: value });
        }
    }
    /**
     * @return {?}
     */
    get show() {
        return this._show;
    }
    /**
     * @param {?} value
     * @return {?}
     */
    set _active(value) {
        this._activeForOld = value;
        this.activeState.next(value);
    }
    /**
     * @return {?}
     */
    get _active() {
        return this._activeForOld;
    }
    // 无用代码
    /**
     * @return {?}
     */
    get active() {
        return this._active;
    }
    /**
     * 内容是否激活
     * @return {?}
     */
    ngOnInit() {
        this.scrollTabs.tabs.push(this);
        if (!this.scrollTabs.activeId) {
            this.scrollTabs.tabs[0]._active = true;
        }
        else {
            this.scrollTabs.load();
        }
    }
    /**
     * @return {?}
     */
    ngAfterViewInit() {
        // 为了兼容弄旧表单，不兼容HostBinding, 通过追加class的方式实现
        /** @type {?} */
        const nEl = this.el.nativeElement;
        this.activeState.subscribe((/**
         * @param {?} data
         * @return {?}
         */
        data => {
            this.render.addClass(nEl, 'farris-tabs-body');
            if (data) {
                this.render.addClass(nEl, 'f-tab-active');
                this.render.removeClass(nEl, 'f-tab-d-none');
            }
            else {
                this.render.addClass(nEl, 'f-tab-d-none');
                this.render.removeClass(nEl, 'f-tab-active');
            }
        }));
    }
    /**
     * @return {?}
     */
    ngAfterViewChecked() {
    }
    /**
     * @return {?}
     */
    loadComponent() {
    }
}
FarrisTabComponent.decorators = [
    { type: Component, args: [{
                selector: 'farris-tab',
                template: "<!-- \u5F02\u6B65\u83B7\u53D6\u7EC4\u4EF6 -->\r\n<ng-template [ngTemplateOutlet]=\"contentTempl\"></ng-template>\r\n<ng-container>\r\n    <ng-container *ngComponentOutlet=\"asyncComponent;ngModuleFactory:asyncModule\">\r\n    </ng-container>\r\n</ng-container>\r\n\r\n"
            }] }
];
/** @nocollapse */
FarrisTabComponent.ctorParameters = () => [
    { type: Compiler },
    { type: ComponentFactoryResolver },
    { type: Renderer2 },
    { type: ElementRef },
    { type: ChangeDetectorRef },
    { type: FarrisTabsComponent, decorators: [{ type: Optional }] }
];
FarrisTabComponent.propDecorators = {
    tabWidth: [{ type: Input, args: ['width',] }],
    show: [{ type: Input }],
    asyncComponent: [{ type: Input }],
    asyncModule: [{ type: Input }],
    id: [{ type: Input }],
    titleCustomCls: [{ type: Input }],
    title: [{ type: Input }],
    disabled: [{ type: Input }],
    removeable: [{ type: Input }],
    toolbar: [{ type: Input }],
    contentTempl: [{ type: ContentChild, args: ['content',] }],
    farrisTabsExtendDirective: [{ type: ContentChild, args: [FarrisTabsExtendDirective,] }]
};
if (false) {
    /** @type {?} */
    FarrisTabComponent.prototype.setIntervalTab;
    /** @type {?} */
    FarrisTabComponent.prototype.tabWidth;
    /** @type {?} */
    FarrisTabComponent.prototype.asyncComponent;
    /** @type {?} */
    FarrisTabComponent.prototype.asyncModule;
    /** @type {?} */
    FarrisTabComponent.prototype.id;
    /** @type {?} */
    FarrisTabComponent.prototype.titleCustomCls;
    /** @type {?} */
    FarrisTabComponent.prototype.titleOverflow;
    /** @type {?} */
    FarrisTabComponent.prototype.title;
    /** @type {?} */
    FarrisTabComponent.prototype.selected;
    /** @type {?} */
    FarrisTabComponent.prototype.disabled;
    /** @type {?} */
    FarrisTabComponent.prototype.removeable;
    /** @type {?} */
    FarrisTabComponent.prototype.toolbar;
    /** @type {?} */
    FarrisTabComponent.prototype.contentTempl;
    /** @type {?} */
    FarrisTabComponent.prototype.farrisTabsExtendDirective;
    /** @type {?} */
    FarrisTabComponent.prototype.showStates;
    /** @type {?} */
    FarrisTabComponent.prototype.activeState;
    /**
     * @type {?}
     * @private
     */
    FarrisTabComponent.prototype._activeForOld;
    /** @type {?} */
    FarrisTabComponent.prototype.view;
    /** @type {?} */
    FarrisTabComponent.prototype.tempDirective;
    /** @type {?} */
    FarrisTabComponent.prototype.popupFlag;
    /** @type {?} */
    FarrisTabComponent.prototype._show;
    /** @type {?} */
    FarrisTabComponent.prototype.headingRef;
    /** @type {?} */
    FarrisTabComponent.prototype.compOrHtml;
    /**
     * @type {?}
     * @private
     */
    FarrisTabComponent.prototype.cp;
    /** @type {?} */
    FarrisTabComponent.prototype.componentFactoryResolver;
    /**
     * @type {?}
     * @private
     */
    FarrisTabComponent.prototype.render;
    /**
     * @type {?}
     * @private
     */
    FarrisTabComponent.prototype.el;
    /**
     * @type {?}
     * @private
     */
    FarrisTabComponent.prototype.cef;
    /** @type {?} */
    FarrisTabComponent.prototype.scrollTabs;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGFiLmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiJuZzovL0BmYXJyaXMvdWktdGFicy8iLCJzb3VyY2VzIjpbImxpYi90YWIvdGFiLmNvbXBvbmVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O0FBQUEsT0FBTyxFQUNILFNBQVMsRUFBRSxLQUFLLEVBQUUsV0FBVyxFQUFFLGlCQUFpQixFQUFFLFFBQVEsRUFDMUQsd0JBQXdCLEVBQUUsU0FBUyxFQUFFLFVBQVUsRUFDL0MsWUFBWSxFQUEyQyxRQUFRLEVBQUUsSUFBSSxFQUNyRSxlQUFlLEVBRWxCLE1BQU0sZUFBZSxDQUFDO0FBQ3ZCLE9BQU8sRUFBRSxlQUFlLEVBQWMsTUFBTSxNQUFNLENBQUM7QUFDbkQsT0FBTyxFQUFFLG1CQUFtQixFQUFFLE1BQU0sd0JBQXdCLENBQUM7QUFDN0QsT0FBTyxFQUFFLHlCQUF5QixFQUFFLE1BQU0sb0JBQW9CLENBQUM7QUFNL0QsTUFBTSxPQUFPLGtCQUFrQjs7Ozs7Ozs7O0lBNkQzQixZQUFvQixFQUFZLEVBQVMsd0JBQWtELEVBQVUsTUFBaUIsRUFDMUcsRUFBYyxFQUFVLEdBQXNCLEVBQXFCLFVBQStCO1FBRDFGLE9BQUUsR0FBRixFQUFFLENBQVU7UUFBUyw2QkFBd0IsR0FBeEIsd0JBQXdCLENBQTBCO1FBQVUsV0FBTSxHQUFOLE1BQU0sQ0FBVztRQUMxRyxPQUFFLEdBQUYsRUFBRSxDQUFZO1FBQVUsUUFBRyxHQUFILEdBQUcsQ0FBbUI7UUFBcUIsZUFBVSxHQUFWLFVBQVUsQ0FBcUI7UUF4RDlGLGFBQVEsR0FBVyxDQUFDLENBQUMsQ0FBQzs7UUFlN0IsbUJBQWMsR0FBRyxFQUFFLENBQUM7OztRQU83QixhQUFRLEdBQVksS0FBSyxDQUFDOztRQVcxQixlQUFVLEdBQUcsSUFBSSxlQUFlLENBQUMsSUFBSSxDQUFDLENBQUM7O1FBR3ZDLGdCQUFXLEdBQUcsSUFBSSxlQUFlLENBQUMsS0FBSyxDQUFDLENBQUM7UUFZekMsVUFBSyxHQUFZLElB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RTdCLDJDQUFvQjs7SUFFcEIsbUNBQXVCOztJQUd2QixzQ0FBMEI7O0lBRTFCLHNDQUEyQjs7SUFFM0Isd0NBQTZCOztJQUM3QixxQ0FBc0I7O0lBR3RCLDBDQUF3RDs7SUFDeEQsdURBQXdFOztJQUV4RSx3Q0FBdUM7O0lBR3ZDLHlDQUF5Qzs7Ozs7SUFDekMsMkNBQTJCOztJQVEzQixrQ0FBdUI7O0lBQ3ZCLDJDQUFtQjs7SUFDbkIsdUNBQW1COztJQUNuQixtQ0FBc0I7O0lBS3RCLHdDQUE2Qjs7SUFDN0Isd0NBQWdCOzs7OztJQUNKLGdDQUFvQjs7SUFBRSxzREFBeUQ7Ozs7O0lBQUUsb0NBQXlCOzs7OztJQUNsSCxnQ0FBc0I7Ozs7O0lBQUUsaUNBQThCOztJQUFFLHdDQUFrRCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XHJcbiAgICBDb21wb25lbnQsIElucHV0LCBUZW1wbGF0ZVJlZiwgQ2hhbmdlRGV0ZWN0b3JSZWYsIENvbXBpbGVyLFxyXG4gICAgQ29tcG9uZW50RmFjdG9yeVJlc29sdmVyLCBSZW5kZXJlcjIsIEVsZW1lbnRSZWYsXHJcbiAgICBDb250ZW50Q2hpbGQsIE9uSW5pdCwgQWZ0ZXJWaWV3SW5pdCwgVmlld0NvbnRhaW5lclJlZiwgT3B0aW9uYWwsIFR5cGUsXHJcbiAgICBOZ01vZHVsZUZhY3RvcnksXHJcbiAgICBBZnRlclZpZXdDaGVja2VkXHJcbn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcbmltcG9ydCB7IEJlaGF2aW9yU3ViamVjdCwgT2JzZXJ2YWJsZSB9IGZyb20gJ3J4anMnO1xyXG5pbXBvcnQgeyBGYXJyaXNUYWJzQ29tcG9uZW50IH0gZnJvbSAnLi4vdGFicy90YWJzLmNvbXBvbmVudCc7XHJcbmltcG9ydCB7IEZhcnJpc1RhYnNFeHRlbmREaXJlY3RpdmUgfSBmcm9tICcuL2V4dGVuZC5kaXJlY3RpdmUnO1xyXG5cclxuQENvbXBvbmVudCh7XHJcbiAgICBzZWxlY3RvcjogJ2ZhcnJpcy10YWInLFxyXG4gICAgdGVtcGxhdGVVcmw6ICcuL3RhYi5jb21wb25lbnQuaHRtbCdcclxufSlcclxuZXhwb3J0IGNsYXNzIEZhcnJpc1RhYkNvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCwgQWZ0ZXJWaWV3SW5pdCwgQWZ0ZXJWaWV3Q2hlY2tlZCB7XHJcbiAgICAvLyB0YWJz5Lmf5Y+v6IO95L2c5Li65p+Q5LiqZmxleOWuueWZqOeahOmhueebriAg5Zug5q2k6KaB6K6+572uZmxleOWxnuaAp1xyXG4gICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLWluZmVycmFibGUtdHlwZXNcclxuICAgIC8vIOavj+S4gOS4quagh+etvumhteWPr+iuvue9ruWuveW6plxyXG4gICAgc2V0SW50ZXJ2YWxUYWI6IGFueTtcclxuICAgIFxyXG4gICAgQElucHV0KCd3aWR0aCcpIHRhYldpZHRoOiBudW1iZXIgPSAtMTtcclxuICAgIEBJbnB1dCgpIHNldCBzaG93KHZhbHVlKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX3Nob3cgIT0gdmFsdWUpIHtcclxuICAgICAgICAgICAgdGhpcy5zaG93U3RhdGVzLm5leHQodmFsdWUpO1xyXG4gICAgICAgICAgICB0aGlzLl9zaG93ID0gdmFsdWU7XHJcbiAgICAgICAgICAgIHRoaXMuc2Nyb2xsVGFicy50YWJWaXNpYmxlQ2hhbmdlZC5uZXh0KHsgdGFiOiB0aGlzLCB2aXNpYmxlOiB2YWx1ZSB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBnZXQgc2hvdygpe1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9zaG93O1xyXG4gICAgfVxyXG4gICAgQElucHV0KCkgYXN5bmNDb21wb25lbnQ6IFR5cGU8YW55PjtcclxuICAgIEBJbnB1dCgpIGFzeW5jTW9kdWxlOiBOZ01vZHVsZUZhY3Rvcnk8YW55PjtcclxuICAgIEBJbnB1dCgpIGlkOiBzdHJpbmc7XHJcbiAgICAvLyDov73liqDoh6rlrprkuYnnmoTmoLflvI9cclxuICAgIEBJbnB1dCgpIHRpdGxlQ3VzdG9tQ2xzID0gJyc7XHJcbiAgICAvLyDmoIforrDmlofmnKzmmK/lkKbotoXlh7pcclxuICAgIHRpdGxlT3ZlcmZsb3c6ZmFsc2U7XHJcbiAgICAvLyB0YWIg5qCH6aKYXHJcbiAgICBASW5wdXQoKSB0aXRsZTogc3RyaW5nO1xyXG4gICAgLy8gc2VsZWN0ZWQg5piv5ZCm6YCJ5LitXHJcbiAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bm8taW5mZXJyYWJsZS10eXBlc1xyXG4gICAgc2VsZWN0ZWQ6IGJvb2xlYW4gPSBmYWxzZTtcclxuICAgIC8vIGRpc2FibGVkIOaYr+WQpuemgeatoueCueWHu1xyXG4gICAgQElucHV0KCkgZGlzYWJsZWQ6IGJvb2xlYW47XHJcbiAgICAvLyDmmK/lkKblj6/np7vlh7pcclxuICAgIEBJbnB1dCgpIHJlbW92ZWFibGU6IGJvb2xlYW47XHJcbiAgICBASW5wdXQoKSB0b29sYmFyOiBhbnk7XHJcbiAgICAvLyBASW5wdXQoKSBjb250ZW50OiBzdHJpbmcgfCBUeXBlPGFueT47XHJcbiAgICAvLyDorr7nva7plJrngrlcclxuICAgIEBDb250ZW50Q2hpbGQoJ2NvbnRlbnQnKSBjb250ZW50VGVtcGw6IFRlbXBsYXRlUmVmPGFueT47XHJcbiAgICBAQ29udGVudENoaWxkKEZhcnJpc1RhYnNFeHRlbmREaXJlY3RpdmUpIGZhcnJpc1RhYnNFeHRlbmREaXJlY3RpdmU6IGFueTtcclxuICAgIC8vIGFwcERpdjogVDtcclxuICAgIHNob3dTdGF0ZXMgPSBuZXcgQmVoYXZpb3JTdWJqZWN0KHRydWUpO1xyXG5cclxuICAgIC8vIOWFvOWuueaXp+ihqOWNlVxyXG4gICAgYWN0aXZlU3RhdGUgPSBuZXcgQmVoYXZpb3JTdWJqZWN0KGZhbHNlKTtcclxuICAgIHByaXZhdGUgX2FjdGl2ZUZvck9sZDogYW55O1xyXG4gICAgc2V0IF9hY3RpdmUodmFsdWU6IGFueSkge1xyXG4gICAgICAgIHRoaXMuX2FjdGl2ZUZvck9sZCA9IHZhbHVlO1xyXG4gICAgICAgIHRoaXMuYWN0aXZlU3RhdGUubmV4dCh2YWx1ZSk7XHJcbiAgICB9XHJcbiAgICBnZXQgX2FjdGl2ZSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fYWN0aXZlRm9yT2xkO1xyXG4gICAgfVxyXG4gICAgdmlldzogVmlld0NvbnRhaW5lclJlZjtcclxuICAgIHRlbXBEaXJlY3RpdmU6IGFueTtcclxuICAgIHBvcHVwRmxhZzogYm9vbGVhbjtcclxuICAgIF9zaG93OiBib29sZWFuID0gdHJ1ZTtcclxuICAgIC8vIOaXoOeUqOS7o+eggVxyXG4gICAgZ2V0IGFjdGl2ZSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fYWN0aXZlO1xyXG4gICAgfVxyXG4gICAgaGVhZGluZ1JlZjogVGVtcGxhdGVSZWY8YW55PjtcclxuICAgIGNvbXBPckh0bWw6IGFueTtcclxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgY3A6IENvbXBpbGVyLCBwdWJsaWMgY29tcG9uZW50RmFjdG9yeVJlc29sdmVyOiBDb21wb25lbnRGYWN0b3J5UmVzb2x2ZXIsIHByaXZhdGUgcmVuZGVyOiBSZW5kZXJlcjIsXHJcbiAgICAgICAgcHJpdmF0ZSBlbDogRWxlbWVudFJlZiwgcHJpdmF0ZSBjZWY6IENoYW5nZURldGVjdG9yUmVmLCBAT3B0aW9uYWwoKSBwdWJsaWMgc2Nyb2xsVGFiczogRmFycmlzVGFic0NvbXBvbmVudCkge1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiDlhoXlrrnmmK/lkKbmv4DmtLtcclxuICAgICAqL1xyXG4gICAgbmdPbkluaXQoKSB7XHJcbiAgICAgICAgdGhpcy5zY3JvbGxUYWJzLnRhYnMucHVzaCh0aGlzKTtcclxuICAgICAgICBpZiAoIXRoaXMuc2Nyb2xsVGFicy5hY3RpdmVJZCkge1xyXG4gICAgICAgICAgICB0aGlzLnNjcm9sbFRhYnMudGFic1swXS5fYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLnNjcm9sbFRhYnMubG9hZCgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIG5nQWZ0ZXJWaWV3SW5pdCgpOiB2b2lkIHtcclxuICAgICAgICAvLyDkuLrkuoblhbzlrrnlvITml6fooajljZXvvIzkuI3lhbzlrrlIb3N0QmluZGluZywg6YCa6L+H6L+95YqgY2xhc3PnmoTmlrnlvI/lrp7njrBcclxuICAgICAgICBjb25zdCBuRWwgPSB0aGlzLmVsLm5hdGl2ZUVsZW1lbnQ7XHJcbiAgICAgICAgdGhpcy5hY3RpdmVTdGF0ZS5zdWJzY3JpYmUoZGF0YSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMucmVuZGVyLmFkZENsYXNzKG5FbCwgJ2ZhcnJpcy10YWJzLWJvZHknKTtcclxuICAgICAgICAgICAgaWYgKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyLmFkZENsYXNzKG5FbCwgJ2YtdGFiLWFjdGl2ZScpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yZW5kZXIucmVtb3ZlQ2xhc3MobkVsLCAnZi10YWItZC1ub25lJyk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlci5hZGRDbGFzcyhuRWwsICdmLXRhYi1kLW5vbmUnKTtcclxuICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyLnJlbW92ZUNsYXNzKG5FbCwgJ2YtdGFiLWFjdGl2ZScpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBuZ0FmdGVyVmlld0NoZWNrZWQoKSB7XHJcblxyXG4gICAgfVxyXG4gICAgbG9hZENvbXBvbmVudCgpIHtcclxuXHJcbiAgICB9XHJcblxyXG59XHJcbiJdfQ==