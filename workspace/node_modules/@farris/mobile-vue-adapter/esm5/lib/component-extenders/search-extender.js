/**
 * @fileoverview added by tsickle
 * Generated from: lib/component-extenders/search-extender.ts
 * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
/**
 * 列表组件扩展
 */
var /**
 * 列表组件扩展
 */
SearchExtender = /** @class */ (function () {
    function SearchExtender(searchInstance, viewModelContext) {
        this.searchInstance = searchInstance;
        this.viewModelContext = viewModelContext;
    }
    /**
     * 扩展组件
     */
    /**
     * 扩展组件
     * @return {?}
     */
    SearchExtender.prototype.extend = /**
     * 扩展组件
     * @return {?}
     */
    function () {
        /** @type {?} */
        var self = this;
        // 监听搜索组件
        this.searchInstance.$on('cancel', (/**
         * @param {?} data
         * @return {?}
         */
        function (data) {
            //  清空走查询
            self.viewModelContext.repository.setPaginationInfo({
                pageIndex: 1
            });
            self.viewModelContext.appContext.eventBus.triggerEvent({ type: 'LoadData' });
        }));
        this.searchInstance.$on('search', (/**
         * @param {?} data
         * @return {?}
         */
        function (data) {
            // 如果是确定类型，即走查询
            self.viewModelContext.repository.setPaginationInfo({
                pageIndex: 1
            });
            self.viewModelContext.appContext.eventBus.triggerEvent({ type: 'LoadData' });
        }));
    };
    /**
     * 清理状态
     */
    /**
     * 清理状态
     * @return {?}
     */
    SearchExtender.prototype.dispose = /**
     * 清理状态
     * @return {?}
     */
    function () {
        this.searchInstance.$off('cancel');
        this.searchInstance.$off('search');
    };
    return SearchExtender;
}());
if (false) {
    /**
     * @type {?}
     * @private
     */
    SearchExtender.prototype.searchInstance;
    /**
     * @type {?}
     * @private
     */
    SearchExtender.prototype.viewModelContext;
}
export { SearchExtender };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2VhcmNoLWV4dGVuZGVyLmpzIiwic291cmNlUm9vdCI6Im5nOi8vQGZhcnJpcy9tb2JpbGUtdnVlLWFkYXB0ZXIvIiwic291cmNlcyI6WyJsaWIvY29tcG9uZW50LWV4dGVuZGVycy9zZWFyY2gtZXh0ZW5kZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFNQTs7OztJQU1FLHdCQUFZLGNBQW1CLEVBQUUsZ0JBQXFCO1FBQ3BELElBQUksQ0FBQyxjQUFjLEdBQUcsY0FBYyxDQUFDO1FBQ3JDLElBQUksQ0FBQyxnQkFBZ0IsR0FBRyxnQkFBZ0IsQ0FBQztJQUMzQyxDQUFDO0lBRUQ7O09BRUc7Ozs7O0lBQ0gsK0JBQU07Ozs7SUFBTjs7WUFDUSxJQUFJLEdBQUcsSUFBSTtRQUNqQixTQUFTO1FBQ1QsSUFBSSxDQUFDLGNBQWMsQ0FBQyxHQUFHLENBQUMsUUFBUTs7OztRQUFFLFVBQUMsSUFBSTtZQUNyQyxTQUFTO1lBQ1QsSUFBSSxDQUFDLGdCQUFnQixDQUFDLFVBQVUsQ0FBQyxpQkFBaUIsQ0FBQztnQkFDakQsU0FBUyxFQUFFLENBQUM7YUFDYixDQUFDLENBQUE7WUFDRixJQUFJLENBQUMsZ0JBQWdCLENBQUMsVUFBVSxDQUFDLFFBQVEsQ0FBQyxZQUFZLENBQUMsRUFBRSxJQUFJLEVBQUUsVUFBVSxFQUFFLENBQUMsQ0FBQTtRQUM5RSxDQUFDLEVBQUMsQ0FBQztRQUNILElBQUksQ0FBQyxjQUFjLENBQUMsR0FBRyxDQUFDLFFBQVE7Ozs7UUFBRSxVQUFDLElBQUk7WUFDbkMsZUFBZTtZQUNmLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxVQUFVLENBQUMsaUJBQWlCLENBQUM7Z0JBQ2pELFNBQVMsRUFBRSxDQUFDO2FBQ2IsQ0FBQyxDQUFBO1lBQ0YsSUFBSSxDQUFDLGdCQUFnQixDQUFDLFVBQVUsQ0FBQyxRQUFRLENBQUMsWUFBWSxDQUFDLEVBQUUsSUFBSSxFQUFFLFVBQVUsRUFBRSxDQUFDLENBQUE7UUFDaEYsQ0FBQyxFQUFDLENBQUM7SUFDTCxDQUFDO0lBRUQ7O09BRUc7Ozs7O0lBQ0gsZ0NBQU87Ozs7SUFBUDtRQUNFLElBQUksQ0FBQyxjQUFjLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBQ25DLElBQUksQ0FBQyxjQUFjLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDO0lBQ3JDLENBQUM7SUFFSCxxQkFBQztBQUFELENBQUMsQUF6Q0QsSUF5Q0M7Ozs7OztJQXZDQyx3Q0FBNEI7Ozs7O0lBRTVCLDBDQUEyQzs7QUF1QzdDLE9BQU8sRUFBRSxjQUFjLEVBQUUsQ0FBQSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFZpZXdNb2RlbENvbnRleHQgfSBmcm9tICdAZmFycmlzL21vYmlsZS1kZXZraXQnO1xyXG5pbXBvcnQgeyBDb21wb25lbnRFeHRlbmRlciB9IGZyb20gJy4vY29tcG9uZW50LWV4dGVuZGVyJztcclxuXHJcbi8qKlxyXG4gKiDliJfooajnu4Tku7bmianlsZVcclxuICovXHJcbmNsYXNzIFNlYXJjaEV4dGVuZGVyIGltcGxlbWVudHMgQ29tcG9uZW50RXh0ZW5kZXIge1xyXG5cclxuICBwcml2YXRlIHNlYXJjaEluc3RhbmNlOiBhbnk7XHJcblxyXG4gIHByaXZhdGUgdmlld01vZGVsQ29udGV4dDogVmlld01vZGVsQ29udGV4dDtcclxuXHJcbiAgY29uc3RydWN0b3Ioc2VhcmNoSW5zdGFuY2U6IGFueSwgdmlld01vZGVsQ29udGV4dDogYW55KSB7XHJcbiAgICB0aGlzLnNlYXJjaEluc3RhbmNlID0gc2VhcmNoSW5zdGFuY2U7XHJcbiAgICB0aGlzLnZpZXdNb2RlbENvbnRleHQgPSB2aWV3TW9kZWxDb250ZXh0O1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICog5omp5bGV57uE5Lu2XHJcbiAgICovXHJcbiAgZXh0ZW5kKCkge1xyXG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XHJcbiAgICAvLyDnm5HlkKzmkJzntKLnu4Tku7ZcclxuICAgIHRoaXMuc2VhcmNoSW5zdGFuY2UuJG9uKCdjYW5jZWwnLCAoZGF0YSkgPT4ge1xyXG4gICAgICAvLyAg5riF56m66LWw5p+l6K+iXHJcbiAgICAgIHNlbGYudmlld01vZGVsQ29udGV4dC5yZXBvc2l0b3J5LnNldFBhZ2luYXRpb25JbmZvKHtcclxuICAgICAgICBwYWdlSW5kZXg6IDFcclxuICAgICAgfSlcclxuICAgICAgc2VsZi52aWV3TW9kZWxDb250ZXh0LmFwcENvbnRleHQuZXZlbnRCdXMudHJpZ2dlckV2ZW50KHsgdHlwZTogJ0xvYWREYXRhJyB9KVxyXG4gICAgfSk7XHJcbiAgICB0aGlzLnNlYXJjaEluc3RhbmNlLiRvbignc2VhcmNoJywgKGRhdGEpID0+IHtcclxuICAgICAgICAvLyDlpoLmnpzmmK/noa7lrprnsbvlnovvvIzljbPotbDmn6Xor6JcclxuICAgICAgICBzZWxmLnZpZXdNb2RlbENvbnRleHQucmVwb3NpdG9yeS5zZXRQYWdpbmF0aW9uSW5mbyh7XHJcbiAgICAgICAgICBwYWdlSW5kZXg6IDFcclxuICAgICAgICB9KVxyXG4gICAgICAgIHNlbGYudmlld01vZGVsQ29udGV4dC5hcHBDb250ZXh0LmV2ZW50QnVzLnRyaWdnZXJFdmVudCh7IHR5cGU6ICdMb2FkRGF0YScgfSlcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICog5riF55CG54q25oCBXHJcbiAgICovXHJcbiAgZGlzcG9zZSgpIHtcclxuICAgIHRoaXMuc2VhcmNoSW5zdGFuY2UuJG9mZignY2FuY2VsJyk7XHJcbiAgICB0aGlzLnNlYXJjaEluc3RhbmNlLiRvZmYoJ3NlYXJjaCcpO1xyXG4gIH1cclxuXHJcbn1cclxuXHJcbmV4cG9ydCB7IFNlYXJjaEV4dGVuZGVyIH0iXX0=