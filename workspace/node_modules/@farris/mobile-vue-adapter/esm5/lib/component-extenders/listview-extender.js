/**
 * @fileoverview added by tsickle
 * Generated from: lib/component-extenders/listview-extender.ts
 * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import * as tslib_1 from "tslib";
/**
 * 列表组件扩展
 */
var /**
 * 列表组件扩展
 */
ListviewExtender = /** @class */ (function () {
    function ListviewExtender(listviewInstance, viewModelContext) {
        this.listviewInstance = listviewInstance;
        this.viewModelContext = viewModelContext;
    }
    /**
     * 扩展组件
     */
    /**
     * 扩展组件
     * @return {?}
     */
    ListviewExtender.prototype.extend = /**
     * 扩展组件
     * @return {?}
     */
    function () {
        var _this = this;
        /** @type {?} */
        var self = this;
        this.viewModelContext.appContext.eventBus.subscribe(this.viewModelContext.id + "-listview-extend", (/**
         * @param {?} value
         * @return {?}
         */
        function (value) {
            if (value.type === 'listviewFinished') {
                _this.viewModelContext.uiState.setPropertyValue('listaviewState', tslib_1.__assign({}, _this.viewModelContext.uiState['listaviewState'], { loadMoreFinished: true }));
            }
            if (value.type === 'listviewUnFinished') {
                _this.viewModelContext.uiState.setPropertyValue('listaviewState', tslib_1.__assign({}, _this.viewModelContext.uiState['listaviewState'], { loadMoreFinished: false }));
            }
            if (value.type === 'loadDataFinished') {
                _this.viewModelContext.uiState.setPropertyValue('listaviewState', tslib_1.__assign({}, _this.viewModelContext.uiState['listaviewState'], { refreshLoading: false, loadMoreLoading: false }));
            }
        }));
        // 当前行
        this.listviewInstance.$on('selectChange', (/**
         * @param {?} selectedData
         * @return {?}
         */
        function (selectedData) {
            /** @type {?} */
            var selectedId = selectedData.data.id;
            self.viewModelContext.bindingData.getList().setCurrentId(selectedId, true, true);
        }));
        // 批量选择
        this.listviewInstance.$on('itemClick', (/**
         * @return {?}
         */
        function () {
            /** @type {?} */
            var selectedItems = self.listviewInstance.getSelectDataList();
            /** @type {?} */
            var selectedIds = [];
            if (selectedItems && selectedItems.length > 0) {
                selectedIds = selectedItems.map((/**
                 * @param {?} selectedItem
                 * @return {?}
                 */
                function (selectedItem) {
                    return selectedItem.id;
                }));
            }
            self.viewModelContext.uiState.setPropertyValue('selectedIds', selectedIds);
        }));
        // 监听下拉刷新组件
        this.listviewInstance.$on('refresh', (/**
         * @return {?}
         */
        function () {
            self.viewModelContext.repository.setPaginationInfo({
                pageIndex: 1
            });
            self.viewModelContext.uiState.setPropertyValue('listaviewState', tslib_1.__assign({}, self.viewModelContext.uiState['listaviewState'], { refreshLoading: true, loadMoreLoading: true }));
            self.viewModelContext.appContext.eventBus.triggerEvent({ type: 'LoadData' });
        }));
        // 监听是否走查询
        this.listviewInstance.$on('load', (/**
         * @return {?}
         */
        function () {
            /** @type {?} */
            var loading = self.viewModelContext.uiState['listaviewState']['loadMoreLoading'];
            if (!loading) {
                self.viewModelContext.uiState.setPropertyValue('listaviewState', tslib_1.__assign({}, self.viewModelContext.uiState['listaviewState'], { loadMoreLoading: true }));
                /** @type {?} */
                var pageIndex = self.viewModelContext.repository.paginationInfo && self.viewModelContext.repository.paginationInfo.pageIndex;
                if (!pageIndex) {
                    pageIndex = 0;
                }
                self.viewModelContext.repository.setPaginationInfo({
                    pageIndex: pageIndex += 1
                });
                self.viewModelContext.appContext.eventBus.triggerEvent({ type: 'LoadData' });
            }
        }));
    };
    /**
     * 清理状态
     */
    /**
     * 清理状态
     * @return {?}
     */
    ListviewExtender.prototype.dispose = /**
     * 清理状态
     * @return {?}
     */
    function () {
        this.listviewInstance.$off('selectChange');
        this.listviewInstance.$off('itemClick');
        this.listviewInstance.$off('load');
        this.viewModelContext.appContext.eventBus.unsubscribe(this.viewModelContext.id + "-listview-extend");
    };
    return ListviewExtender;
}());
if (false) {
    /**
     * @type {?}
     * @private
     */
    ListviewExtender.prototype.listviewInstance;
    /**
     * @type {?}
     * @private
     */
    ListviewExtender.prototype.viewModelContext;
}
export { ListviewExtender };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibGlzdHZpZXctZXh0ZW5kZXIuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9AZmFycmlzL21vYmlsZS12dWUtYWRhcHRlci8iLCJzb3VyY2VzIjpbImxpYi9jb21wb25lbnQtZXh0ZW5kZXJzL2xpc3R2aWV3LWV4dGVuZGVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQU1BOzs7O0lBTUUsMEJBQVksZ0JBQXFCLEVBQUUsZ0JBQXFCO1FBQ3RELElBQUksQ0FBQyxnQkFBZ0IsR0FBRyxnQkFBZ0IsQ0FBQztRQUN6QyxJQUFJLENBQUMsZ0JBQWdCLEdBQUcsZ0JBQWdCLENBQUM7SUFDM0MsQ0FBQztJQUVEOztPQUVHOzs7OztJQUNILGlDQUFNOzs7O0lBQU47UUFBQSxpQkF3REM7O1lBdkRPLElBQUksR0FBRyxJQUFJO1FBQ2pCLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxVQUFVLENBQUMsUUFBUSxDQUFDLFNBQVMsQ0FBSSxJQUFJLENBQUMsZ0JBQWdCLENBQUMsRUFBRSxxQkFBa0I7Ozs7UUFBRSxVQUFDLEtBQUs7WUFDdkcsSUFBSSxLQUFLLENBQUMsSUFBSSxLQUFLLGtCQUFrQixFQUFFO2dCQUNyQyxLQUFJLENBQUMsZ0JBQWdCLENBQUMsT0FBTyxDQUFDLGdCQUFnQixDQUFDLGdCQUFnQix1QkFBTyxLQUFJLENBQUMsZ0JBQWdCLENBQUMsT0FBTyxDQUFDLGdCQUFnQixDQUFDLElBQUUsZ0JBQWdCLEVBQUUsSUFBSSxJQUFHLENBQUM7YUFDbEo7WUFDRCxJQUFJLEtBQUssQ0FBQyxJQUFJLEtBQUssb0JBQW9CLEVBQUU7Z0JBQ3ZDLEtBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxPQUFPLENBQUMsZ0JBQWdCLENBQUMsZ0JBQWdCLHVCQUFPLEtBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxPQUFPLENBQUMsZ0JBQWdCLENBQUMsSUFBRSxnQkFBZ0IsRUFBRSxLQUFLLElBQUcsQ0FBQzthQUNuSjtZQUNELElBQUksS0FBSyxDQUFDLElBQUksS0FBSyxrQkFB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RixJQUFJLENBQUMsZ0JBQWdCLENBQUMsVUFBVSxDQUFDLFFBQVEsQ0FBQyxZQUFZLENBQUMsRUFBRSxJQUFJLEVBQUUsVUFBVSxFQUFFLENBQUMsQ0FBQTthQUM3RTtRQUNILENBQUMsRUFBQyxDQUFDO0lBQ0wsQ0FBQztJQUVEOztPQUVHOzs7OztJQUNILGtDQUFPOzs7O0lBQVA7UUFDRSxJQUFJLENBQUMsZ0JBQWdCLENBQUMsSUFBSSxDQUFDLGNBQWMsQ0FBQyxDQUFDO1FBQzNDLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUM7UUFDeEMsSUFBSSxDQUFDLGdCQUFnQixDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUNuQyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsVUFBVSxDQUFDLFFBQVEsQ0FBQyxXQUFXLENBQUksSUFBSSxDQUFDLGdCQUFnQixDQUFDLEVBQUUscUJBQWtCLENBQUMsQ0FBQztJQUN2RyxDQUFDO0lBRUgsdUJBQUM7QUFBRCxDQUFDLEFBbEZELElBa0ZDOzs7Ozs7SUFoRkMsNENBQThCOzs7OztJQUU5Qiw0Q0FBMkM7O0FBZ0Y3QyxPQUFPLEVBQUUsZ0JBQWdCLEVBQUUsQ0FBQSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFZpZXdNb2RlbENvbnRleHQgfSBmcm9tICdAZmFycmlzL21vYmlsZS1kZXZraXQnO1xyXG5pbXBvcnQgeyBDb21wb25lbnRFeHRlbmRlciB9IGZyb20gJy4vY29tcG9uZW50LWV4dGVuZGVyJztcclxuXHJcbi8qKlxyXG4gKiDliJfooajnu4Tku7bmianlsZVcclxuICovXHJcbmNsYXNzIExpc3R2aWV3RXh0ZW5kZXIgaW1wbGVtZW50cyBDb21wb25lbnRFeHRlbmRlciB7XHJcblxyXG4gIHByaXZhdGUgbGlzdHZpZXdJbnN0YW5jZTogYW55O1xyXG5cclxuICBwcml2YXRlIHZpZXdNb2RlbENvbnRleHQ6IFZpZXdNb2RlbENvbnRleHQ7XHJcblxyXG4gIGNvbnN0cnVjdG9yKGxpc3R2aWV3SW5zdGFuY2U6IGFueSwgdmlld01vZGVsQ29udGV4dDogYW55KSB7XHJcbiAgICB0aGlzLmxpc3R2aWV3SW5zdGFuY2UgPSBsaXN0dmlld0luc3RhbmNlO1xyXG4gICAgdGhpcy52aWV3TW9kZWxDb250ZXh0ID0gdmlld01vZGVsQ29udGV4dDtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIOaJqeWxlee7hOS7tlxyXG4gICAqL1xyXG4gIGV4dGVuZCgpIHtcclxuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xyXG4gICAgdGhpcy52aWV3TW9kZWxDb250ZXh0LmFwcENvbnRleHQuZXZlbnRCdXMuc3Vic2NyaWJlKGAke3RoaXMudmlld01vZGVsQ29udGV4dC5pZH0tbGlzdHZpZXctZXh0ZW5kYCwgKHZhbHVlKSA9PiB7XHJcbiAgICAgIGlmICh2YWx1ZS50eXBlID09PSAnbGlzdHZpZXdGaW5pc2hlZCcpIHtcclxuICAgICAgICB0aGlzLnZpZXdNb2RlbENvbnRleHQudWlTdGF0ZS5zZXRQcm9wZXJ0eVZhbHVlKCdsaXN0YXZpZXdTdGF0ZScsIHsgLi4udGhpcy52aWV3TW9kZWxDb250ZXh0LnVpU3RhdGVbJ2xpc3Rhdmlld1N0YXRlJ10sIGxvYWRNb3JlRmluaXNoZWQ6IHRydWUgfSk7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKHZhbHVlLnR5cGUgPT09ICdsaXN0dmlld1VuRmluaXNoZWQnKSB7XHJcbiAgICAgICAgdGhpcy52aWV3TW9kZWxDb250ZXh0LnVpU3RhdGUuc2V0UHJvcGVydHlWYWx1ZSgnbGlzdGF2aWV3U3RhdGUnLCB7IC4uLnRoaXMudmlld01vZGVsQ29udGV4dC51aVN0YXRlWydsaXN0YXZpZXdTdGF0ZSddLCBsb2FkTW9yZUZpbmlzaGVkOiBmYWxzZSB9KTtcclxuICAgICAgfVxyXG4gICAgICBpZiAodmFsdWUudHlwZSA9PT0gJ2xvYWREYXRhRmluaXNoZWQnKSB7XHJcbiAgICAgICAgdGhpcy52aWV3TW9kZWxDb250ZXh0LnVpU3RhdGUuc2V0UHJvcGVydHlWYWx1ZSgnbGlzdGF2aWV3U3RhdGUnLCB7IC4uLnRoaXMudmlld01vZGVsQ29udGV4dC51aVN0YXRlWydsaXN0YXZpZXdTdGF0ZSddLCByZWZyZXNoTG9hZGluZzogZmFsc2UsIGxvYWRNb3JlTG9hZGluZzogZmFsc2UgfSk7XHJcbiAgICAgIH1cclxuICAgIH0pXHJcbiAgICAvLyDlvZPliY3ooYxcclxuICAgIHRoaXMubGlzdHZpZXdJbnN0YW5jZS4kb24oJ3NlbGVjdENoYW5nZScsIChzZWxlY3RlZERhdGEpID0+IHtcclxuICAgICAgY29uc3Qgc2VsZWN0ZWRJZCA9IHNlbGVjdGVkRGF0YS5kYXRhLmlkO1xyXG4gICAgICBzZWxmLnZpZXdNb2RlbENvbnRleHQuYmluZGluZ0RhdGEuZ2V0TGlzdCgpLnNldEN1cnJlbnRJZChzZWxlY3RlZElkLCB0cnVlLCB0cnVlKTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIOaJuemHj+mAieaLqVxyXG4gICAgdGhpcy5saXN0dmlld0luc3RhbmNlLiRvbignaXRlbUNsaWNrJywgKCkgPT4ge1xyXG4gICAgICBjb25zdCBzZWxlY3RlZEl0ZW1zID0gc2VsZi5saXN0dmlld0luc3RhbmNlLmdldFNlbGVjdERhdGFMaXN0KCk7XHJcbiAgICAgIGxldCBzZWxlY3RlZElkcyA9IFtdO1xyXG4gICAgICBpZiAoc2VsZWN0ZWRJdGVtcyAmJiBzZWxlY3RlZEl0ZW1zLmxlbmd0aCA+IDApIHtcclxuICAgICAgICBzZWxlY3RlZElkcyA9IHNlbGVjdGVkSXRlbXMubWFwKChzZWxlY3RlZEl0ZW0pID0+IHtcclxuICAgICAgICAgIHJldHVybiBzZWxlY3RlZEl0ZW0uaWQ7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgICAgc2VsZi52aWV3TW9kZWxDb250ZXh0LnVpU3RhdGUuc2V0UHJvcGVydHlWYWx1ZSgnc2VsZWN0ZWRJZHMnLCBzZWxlY3RlZElkcyk7XHJcbiAgICB9KTtcclxuXHJcblxyXG4gICAgLy8g55uR5ZCs5LiL5ouJ5Yi35paw57uE5Lu2XHJcbiAgICB0aGlzLmxpc3R2aWV3SW5zdGFuY2UuJG9uKCdyZWZyZXNoJywgKCkgPT4ge1xyXG4gICAgICBzZWxmLnZpZXdNb2RlbENvbnRleHQucmVwb3NpdG9yeS5zZXRQYWdpbmF0aW9uSW5mbyh7XHJcbiAgICAgICAgcGFnZUluZGV4OiAxXHJcbiAgICAgIH0pXHJcbiAgICAgIHNlbGYudmlld01vZGVsQ29udGV4dC51aVN0YXRlLnNldFByb3BlcnR5VmFsdWUoJ2xpc3Rhdmlld1N0YXRlJywgeyAuLi5zZWxmLnZpZXdNb2RlbENvbnRleHQudWlTdGF0ZVsnbGlzdGF2aWV3U3RhdGUnXSwgcmVmcmVzaExvYWRpbmc6IHRydWUsIGxvYWRNb3JlTG9hZGluZzogdHJ1ZSB9KVxyXG4gICAgICBzZWxmLnZpZXdNb2RlbENvbnRleHQuYXBwQ29udGV4dC5ldmVudEJ1cy50cmlnZ2VyRXZlbnQoeyB0eXBlOiAnTG9hZERhdGEnIH0pXHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyDnm5HlkKzmmK/lkKbotbDmn6Xor6JcclxuICAgIHRoaXMubGlzdHZpZXdJbnN0YW5jZS4kb24oJ2xvYWQnLCAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IGxvYWRpbmcgPSBzZWxmLnZpZXdNb2RlbENvbnRleHQudWlTdGF0ZVsnbGlzdGF2aWV3U3RhdGUnXVsnbG9hZE1vcmVMb2FkaW5nJ107XHJcbiAgICAgIGlmICghbG9hZGluZykge1xyXG4gICAgICAgIHNlbGYudmlld01vZGVsQ29udGV4dC51aVN0YXRlLnNldFByb3BlcnR5VmFsdWUoJ2xpc3Rhdmlld1N0YXRlJywgeyAuLi5zZWxmLnZpZXdNb2RlbENvbnRleHQudWlTdGF0ZVsnbGlzdGF2aWV3U3RhdGUnXSwgbG9hZE1vcmVMb2FkaW5nOiB0cnVlIH0pO1xyXG4gICAgICAgIGxldCBwYWdlSW5kZXggPSBzZWxmLnZpZXdNb2RlbENvbnRleHQucmVwb3NpdG9yeS5wYWdpbmF0aW9uSW5mbyAmJiBzZWxmLnZpZXdNb2RlbENvbnRleHQucmVwb3NpdG9yeS5wYWdpbmF0aW9uSW5mby5wYWdlSW5kZXg7XHJcbiAgICAgICAgaWYgKCFwYWdlSW5kZXgpIHtcclxuICAgICAgICAgIHBhZ2VJbmRleCA9IDA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHNlbGYudmlld01vZGVsQ29udGV4dC5yZXBvc2l0b3J5LnNldFBhZ2luYXRpb25JbmZvKHtcclxuICAgICAgICAgIHBhZ2VJbmRleDogcGFnZUluZGV4ICs9IDFcclxuICAgICAgICB9KVxyXG4gICAgICAgIHNlbGYudmlld01vZGVsQ29udGV4dC5hcHBDb250ZXh0LmV2ZW50QnVzLnRyaWdnZXJFdmVudCh7IHR5cGU6ICdMb2FkRGF0YScgfSlcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiDmuIXnkIbnirbmgIFcclxuICAgKi9cclxuICBkaXNwb3NlKCkge1xyXG4gICAgdGhpcy5saXN0dmlld0luc3RhbmNlLiRvZmYoJ3NlbGVjdENoYW5nZScpO1xyXG4gICAgdGhpcy5saXN0dmlld0luc3RhbmNlLiRvZmYoJ2l0ZW1DbGljaycpO1xyXG4gICAgdGhpcy5saXN0dmlld0luc3RhbmNlLiRvZmYoJ2xvYWQnKTtcclxuICAgIHRoaXMudmlld01vZGVsQ29udGV4dC5hcHBDb250ZXh0LmV2ZW50QnVzLnVuc3Vic2NyaWJlKGAke3RoaXMudmlld01vZGVsQ29udGV4dC5pZH0tbGlzdHZpZXctZXh0ZW5kYCk7XHJcbiAgfVxyXG5cclxufVxyXG5cclxuZXhwb3J0IHsgTGlzdHZpZXdFeHRlbmRlciB9Il19