/**
 * @fileoverview added by tsickle
 * Generated from: lib/recompute.ts
 * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { reactive } from 'vue';
/**
 * 包装计算数据getter方法
 * @param {?} fn
 * @param {?} propName
 * @return {?}
 */
function recomputable(fn, propName) {
    /** @type {?} */
    var reactiveObj = reactive({
        stateVersion: 0
    });
    return (/**
     * @return {?}
     */
    function () {
        /** @type {?} */
        var self = this;
        if (!self.$__recomputables) {
            self.$__recomputables = {};
        }
        if (!self.$__recomputables[propName]) {
            self.$__recomputables[propName] = reactiveObj;
        }
        /** @type {?} */
        var stateVersion = reactiveObj.stateVersion;
        return fn.call(self);
    });
}
/**
 * 触发计算属性重新计算
 * @param {?} vm
 * @param {?} propName
 * @return {?}
 */
function recompute(vm, propName) {
    if (!vm.$__recomputables || !vm.$__recomputables[propName]) {
        return;
    }
    vm.$__recomputables[propName].stateVersion++;
    try {
        vm.$forceUpdate();
    }
    catch (error) {
        console.log('$forceUpdate', error);
    }
}
export { recomputable, recompute };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicmVjb21wdXRlLmpzIiwic291cmNlUm9vdCI6Im5nOi8vQGZhcnJpcy9tb2JpbGUtdnVlLWFkYXB0ZXIvIiwic291cmNlcyI6WyJsaWIvcmVjb21wdXRlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7O0FBQUEsT0FBTyxFQUFFLFFBQVEsRUFBRSxNQUFNLEtBQUssQ0FBQzs7Ozs7OztBQUsvQixTQUFTLFlBQVksQ0FBQyxFQUFPLEVBQUUsUUFBYTs7UUFDcEMsV0FBVyxHQUFHLFFBQVEsQ0FBQztRQUMzQixZQUFZLEVBQUUsQ0FBQztLQUNoQixDQUFDO0lBRUY7OztJQUFPOztZQUNDLElBQUksR0FBRyxJQUFJO1FBQ2pCLElBQUksQ0FBQyxJQUFJLENBQUMsZ0JBQWdCLEVBQUU7WUFDMUIsSUFBSSxDQUFDLGdCQUFnQixHQUFHLEVBQUUsQ0FBQztTQUM1QjtRQUVELElBQUksQ0FBQyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsUUFBUSxDQUFDLEVBQUU7WUFDcEMsSUFBSSxDQUFDLGdCQUFnQixDQUFDLFFBQVEsQ0FBQyxHQUFHLFdBQVcsQ0FBQztTQUMvQzs7WUFDSyxZQUFZLEdBQUcsV0FBVyxDQUFDLFlBQVk7UUFDN0MsT0FBTyxFQUFFLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQ3ZCLENBQUMsRUFBQztBQUNKLENBQUM7Ozs7Ozs7QUFLRCxTQUFTLFNBQVMsQ0FBQyxFQUFPLEVBQUUsUUFBZ0I7SUFDMUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxnQkFBZ0IsSUFBSSxDQUFDLEVBQUUsQ0FBQyxnQkFBZ0IsQ0FBQyxRQUFRLENBQUMsRUFBRTtRQUMxRCxPQUFPO0tBQ1I7SUFFRCxFQUFFLENBQUMsZ0JBQWdCLENBQUMsUUFBUSxDQUFDLENBQUMsWUFBWSxFQUFFLENBQUM7SUFDN0MsSUFBSTtRQUNGLEVBQUUsQ0FBQyxZQUFZLEVBQUUsQ0FBQztLQUNuQjtJQUFDLE9BQU8sS0FBSyxFQUFFO1FBQ2QsT0FBTyxDQUFDLEdBQUcsQ0FBQyxjQUFjLEVBQUMsS0FBSyxDQUFDLENBQUE7S0FDbEM7QUFDSCxDQUFDO0FBRUQsT0FBTyxFQUFFLFlBQVksRUFBRSxTQUFTLEVBQUUsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHJlYWN0aXZlIH0gZnJvbSAndnVlJztcclxuXHJcbi8qKlxyXG4gKiDljIXoo4XorqHnrpfmlbDmja5nZXR0ZXLmlrnms5VcclxuICovXHJcbmZ1bmN0aW9uIHJlY29tcHV0YWJsZShmbjogYW55LCBwcm9wTmFtZTogYW55KSB7XHJcbiAgY29uc3QgcmVhY3RpdmVPYmogPSByZWFjdGl2ZSh7XHJcbiAgICBzdGF0ZVZlcnNpb246IDBcclxuICB9KTtcclxuXHJcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcclxuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xyXG4gICAgaWYgKCFzZWxmLiRfX3JlY29tcHV0YWJsZXMpIHtcclxuICAgICAgc2VsZi4kX19yZWNvbXB1dGFibGVzID0ge307XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCFzZWxmLiRfX3JlY29tcHV0YWJsZXNbcHJvcE5hbWVdKSB7XHJcbiAgICAgIHNlbGYuJF9fcmVjb21wdXRhYmxlc1twcm9wTmFtZV0gPSByZWFjdGl2ZU9iajtcclxuICAgIH1cclxuICAgIGNvbnN0IHN0YXRlVmVyc2lvbiA9IHJlYWN0aXZlT2JqLnN0YXRlVmVyc2lvbjtcclxuICAgIHJldHVybiBmbi5jYWxsKHNlbGYpO1xyXG4gIH07XHJcbn1cclxuXHJcbi8qKlxyXG4gKiDop6blj5HorqHnrpflsZ7mgKfph43mlrDorqHnrpdcclxuICovXHJcbmZ1bmN0aW9uIHJlY29tcHV0ZSh2bTogYW55LCBwcm9wTmFtZTogc3RyaW5nKSB7XHJcbiAgaWYgKCF2bS4kX19yZWNvbXB1dGFibGVzIHx8ICF2bS4kX19yZWNvbXB1dGFibGVzW3Byb3BOYW1lXSkge1xyXG4gICAgcmV0dXJuO1xyXG4gIH1cclxuXHJcbiAgdm0uJF9fcmVjb21wdXRhYmxlc1twcm9wTmFtZV0uc3RhdGVWZXJzaW9uKys7XHJcbiAgdHJ5IHtcclxuICAgIHZtLiRmb3JjZVVwZGF0ZSgpO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmxvZygnJGZvcmNlVXBkYXRlJyxlcnJvcilcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCB7IHJlY29tcHV0YWJsZSwgcmVjb21wdXRlIH07XHJcbiJdfQ==