{"version":3,"file":"farris-mobile-vue-adapter.js","sources":["ng://@farris/mobile-vue-adapter/lib/recompute.ts","ng://@farris/mobile-vue-adapter/lib/binding-states.ts","ng://@farris/mobile-vue-adapter/lib/component-extenders/component-extender.ts","ng://@farris/mobile-vue-adapter/lib/component-extenders/listview-extender.ts","ng://@farris/mobile-vue-adapter/lib/component-extenders/lookup-extender.ts","ng://@farris/mobile-vue-adapter/lib/component-extenders/attachment-extender.ts","ng://@farris/mobile-vue-adapter/lib/component-extenders/filter-extender.ts","ng://@farris/mobile-vue-adapter/lib/component-extenders/tab-extender.ts","ng://@farris/mobile-vue-adapter/lib/component-extenders/search-extender.ts","ng://@farris/mobile-vue-adapter/lib/component-extenders/checkbox-extender.ts","ng://@farris/mobile-vue-adapter/lib/component-extenders/map-extender.ts","ng://@farris/mobile-vue-adapter/lib/component-extenders/component-extender-factory.ts","ng://@farris/mobile-vue-adapter/lib/component-extenders/component-extender-manager.ts","ng://@farris/mobile-vue-adapter/lib/utils/get-data-by-path.ts","ng://@farris/mobile-vue-adapter/lib/utils/attachment-util.ts","ng://@farris/mobile-vue-adapter/lib/utils/event-util.ts","ng://@farris/mobile-vue-adapter/lib/utils/uuid.ts","ng://@farris/mobile-vue-adapter/lib/utils/format-uitl.ts","ng://@farris/mobile-vue-adapter/lib/devkit.plugin.ts","ng://@farris/mobile-vue-adapter/lib/binding-states-mapper.ts","ng://@farris/mobile-vue-adapter/lib/binding-commands-mapper.ts","ng://@farris/mobile-vue-adapter/lib/attachment/wechat-take-photo.service.ts","ng://@farris/mobile-vue-adapter/lib/attachment/attachment.service.ts","ng://@farris/mobile-vue-adapter/lib/attachment/cloud-plus-take-photo.service.ts","ng://@farris/mobile-vue-adapter/lib/attachment/attachment-children.service.ts","ng://@farris/mobile-vue-adapter/lib/attachment/upload-attachment.service.ts","ng://@farris/mobile-vue-adapter/lib/lookup-mapping.service.ts","ng://@farris/mobile-vue-adapter/lib/map/cloud-plus-map-operation.ts","ng://@farris/mobile-vue-adapter/lib/map/map.service.ts","ng://@farris/mobile-vue-adapter/lib/map/cloud-plus-map.service.ts","ng://@farris/mobile-vue-adapter/lib/providers-mapper.ts","ng://@farris/mobile-vue-adapter/lib/directives/bind-listview-extender.directive.ts","ng://@farris/mobile-vue-adapter/lib/directives/bind-lookup-extender.directive.ts","ng://@farris/mobile-vue-adapter/lib/directives/bind-filter-extender.directive.ts","ng://@farris/mobile-vue-adapter/lib/directives/bind-tab-extender.directive.ts","ng://@farris/mobile-vue-adapter/lib/directives/bind-search-extender.directive.ts","ng://@farris/mobile-vue-adapter/lib/directives/bind-reflesh-extender.directive.ts","ng://@farris/mobile-vue-adapter/lib/directives/bind-checkbox-extender.directive.ts","ng://@farris/mobile-vue-adapter/lib/directives/bind-attachment-extender.directive.ts","ng://@farris/mobile-vue-adapter/lib/directives/map-directives/bind-map-extender.directive.ts","ng://@farris/mobile-vue-adapter/lib/binding-value-converters/date-converter.ts","ng://@farris/mobile-vue-adapter/lib/binding-value-converters/array-converter.ts","ng://@farris/mobile-vue-adapter/lib/attachment/attachment-filter.ts","ng://@farris/mobile-vue-adapter/lib/map/map-filter.ts","ng://@farris/mobile-vue-adapter/lib/app-creator.ts"],"sourcesContent":["import { reactive } from 'vue';\r\n\r\n/**\r\n * 包装计算数据getter方法\r\n */\r\nfunction recomputable(fn: any, propName: any) {\r\n  const reactiveObj = reactive({\r\n    stateVersion: 0\r\n  });\r\n\r\n  return function () {\r\n    const self = this;\r\n    if (!self.$__recomputables) {\r\n      self.$__recomputables = {};\r\n    }\r\n\r\n    if (!self.$__recomputables[propName]) {\r\n      self.$__recomputables[propName] = reactiveObj;\r\n    }\r\n    const stateVersion = reactiveObj.stateVersion;\r\n    return fn.call(self);\r\n  };\r\n}\r\n\r\n/**\r\n * 触发计算属性重新计算\r\n */\r\nfunction recompute(vm: any, propName: string) {\r\n  if (!vm.$__recomputables || !vm.$__recomputables[propName]) {\r\n    return;\r\n  }\r\n\r\n  vm.$__recomputables[propName].stateVersion++;\r\n  try {\r\n    vm.$forceUpdate();\r\n  } catch (error) {\r\n    console.log('$forceUpdate',error)\r\n  }\r\n}\r\n\r\nexport { recomputable, recompute };\r\n","import { Subscription } from 'rxjs';\r\nimport { ViewModel, ViewModelContext, Change } from '@farris/mobile-devkit';\r\nimport { recompute } from './recompute';\r\n\r\n/**\r\n * 绑定状态\r\n */\r\nclass BindingStates {\r\n\r\n  /**\r\n   * Vue实例\r\n   */\r\n  private vueInstance: any;\r\n\r\n  /**\r\n   * Vue实例的ViewModelContext\r\n   */\r\n  private viewModelContext: ViewModelContext;\r\n\r\n  /**\r\n   * 订阅集合\r\n   */\r\n  private subscriptionsMap: Map<string, Subscription>;\r\n\r\n  /**\r\n   * 构造函数\r\n   * @param viewModelContext ViewModel上下文\r\n   */\r\n  constructor(vueInstance: any) {\r\n    this.vueInstance = vueInstance;\r\n    const viewModel = this.vueInstance.$getViewModel() as ViewModel;\r\n    this.viewModelContext = viewModel.context;\r\n    this.subscriptionsMap = new Map<string, Subscription>();\r\n  }\r\n\r\n  /**\r\n   * 映射实体列表数据\r\n   */\r\n  public getEntityListData() {\r\n    const stateName = 'entityListData';\r\n    if (this.subscriptionsMap.has(stateName) === false) {\r\n      const subscription = this.viewModelContext.bindingData.changes.subscribe((change: Change) => {\r\n        recompute(this.vueInstance, stateName);\r\n      });\r\n      this.subscriptionsMap.set(stateName, subscription);\r\n    }\r\n    return this.viewModelContext.bindingData.getList().toJSON();\r\n  }\r\n\r\n  /**\r\n   * 映射当前实体数据\r\n   */\r\n  public getCurrentEntityData() {\r\n    const stateName = 'currentEntityData';\r\n    if (this.subscriptionsMap.has(stateName) === false) {\r\n      const subscription = this.viewModelContext.bindingData.changes.subscribe((change: Change) => {\r\n        recompute(this.vueInstance, stateName);\r\n      });\r\n      this.subscriptionsMap.set(stateName, subscription);\r\n    }\r\n    return this.viewModelContext.bindingData.getObject().toJSON();\r\n  }\r\n\r\n  /**\r\n   * 映射UIState数据\r\n   */\r\n  public getUIState() {\r\n    const stateName = 'uiState';\r\n    if (this.subscriptionsMap.has(stateName) === false) {\r\n      const subscription = this.viewModelContext.uiState.changes.subscribe(() => {\r\n        recompute(this.vueInstance, stateName);\r\n      });\r\n      this.subscriptionsMap.set(stateName, subscription);\r\n    }\r\n    return this.viewModelContext.uiState;\r\n  }\r\n\r\n  /**\r\n   * 映射表单\r\n   */\r\n  public getForm() {\r\n    const stateName = 'form';\r\n    if (this.subscriptionsMap.has(stateName) === false) {\r\n      const subscription = this.viewModelContext.bindingData.changes.subscribe((change: Change) => {\r\n        if (change && change.type === \"ValueChanged\") {\r\n          this.viewModelContext.form.getFieldErrorByPath(change.path)\r\n        }\r\n        recompute(this.vueInstance, stateName);\r\n      });\r\n      const subscriptionV = this.viewModelContext.form.changes.subscribe((data) => {\r\n        if (data && data.type === 'validateFieldsFinished') {\r\n          recompute(this.vueInstance, stateName);\r\n        } else if (data && data.type === 'singleHanded') {\r\n          const index = this.vueInstance.$children.findIndex((item) => { return item.$attrs.id === `form_${data.value}` })\r\n          this.vueInstance.$children[index].$forceUpdate();\r\n        }\r\n      });\r\n      this.subscriptionsMap.set(stateName, subscription);\r\n      this.subscriptionsMap.set(stateName + 'V', subscriptionV);\r\n    }\r\n    return this.vueInstance.$getViewModel().form;\r\n  }\r\n\r\n  /**\r\n   * 映射状态机\r\n   */\r\n  public getStateMachine() {\r\n    const stateName = 'stateMachine';\r\n    if (this.subscriptionsMap.has(stateName) === false) {\r\n      const subscription = this.viewModelContext.stateMachine.stateChange.subscribe((change: any) => {\r\n        recompute(this.vueInstance, stateName);\r\n      });\r\n      this.subscriptionsMap.set(stateName, subscription);\r\n    }\r\n\r\n    return this.viewModelContext.stateMachine.renderStates;\r\n  }\r\n}\r\n\r\nexport { BindingStates };\r\n","/**\r\n * 组件扩展器\r\n */\r\ninterface ComponentExtender {\r\n\r\n  /**\r\n   * 扩展组件\r\n   */\r\n  extend(): void;\r\n\r\n  /**\r\n   * 清空绑定状态\r\n   */\r\n  dispose(): void;\r\n}\r\n\r\nexport { ComponentExtender };\r\n","import { ViewModelContext } from '@farris/mobile-devkit';\r\nimport { ComponentExtender } from './component-extender';\r\n\r\n/**\r\n * 列表组件扩展\r\n */\r\nclass ListviewExtender implements ComponentExtender {\r\n\r\n  private listviewInstance: any;\r\n\r\n  private viewModelContext: ViewModelContext;\r\n\r\n  constructor(listviewInstance: any, viewModelContext: any) {\r\n    this.listviewInstance = listviewInstance;\r\n    this.viewModelContext = viewModelContext;\r\n  }\r\n\r\n  /**\r\n   * 扩展组件\r\n   */\r\n  extend() {\r\n    const self = this;\r\n    this.viewModelContext.appContext.eventBus.subscribe(`${this.viewModelContext.id}-listview-extend`, (value) => {\r\n      if (value.type === 'listviewFinished') {\r\n        this.viewModelContext.uiState.setPropertyValue('listaviewState', { ...this.viewModelContext.uiState['listaviewState'], loadMoreFinished: true });\r\n      }\r\n      if (value.type === 'listviewUnFinished') {\r\n        this.viewModelContext.uiState.setPropertyValue('listaviewState', { ...this.viewModelContext.uiState['listaviewState'], loadMoreFinished: false });\r\n      }\r\n      if (value.type === 'loadDataFinished') {\r\n        this.viewModelContext.uiState.setPropertyValue('listaviewState', { ...this.viewModelContext.uiState['listaviewState'], refreshLoading: false, loadMoreLoading: false });\r\n      }\r\n    })\r\n    // 当前行\r\n    this.listviewInstance.$on('selectChange', (selectedData) => {\r\n      const selectedId = selectedData.data.id;\r\n      self.viewModelContext.bindingData.getList().setCurrentId(selectedId, true, true);\r\n    });\r\n\r\n    // 批量选择\r\n    this.listviewInstance.$on('itemClick', () => {\r\n      const selectedItems = self.listviewInstance.getSelectDataList();\r\n      let selectedIds = [];\r\n      if (selectedItems && selectedItems.length > 0) {\r\n        selectedIds = selectedItems.map((selectedItem) => {\r\n          return selectedItem.id;\r\n        });\r\n      }\r\n      self.viewModelContext.uiState.setPropertyValue('selectedIds', selectedIds);\r\n    });\r\n\r\n\r\n    // 监听下拉刷新组件\r\n    this.listviewInstance.$on('refresh', () => {\r\n      self.viewModelContext.repository.setPaginationInfo({\r\n        pageIndex: 1\r\n      })\r\n      self.viewModelContext.uiState.setPropertyValue('listaviewState', { ...self.viewModelContext.uiState['listaviewState'], refreshLoading: true, loadMoreLoading: true })\r\n      self.viewModelContext.appContext.eventBus.triggerEvent({ type: 'LoadData' })\r\n    });\r\n\r\n    // 监听是否走查询\r\n    this.listviewInstance.$on('load', () => {\r\n      const loading = self.viewModelContext.uiState['listaviewState']['loadMoreLoading'];\r\n      if (!loading) {\r\n        self.viewModelContext.uiState.setPropertyValue('listaviewState', { ...self.viewModelContext.uiState['listaviewState'], loadMoreLoading: true });\r\n        let pageIndex = self.viewModelContext.repository.paginationInfo && self.viewModelContext.repository.paginationInfo.pageIndex;\r\n        if (!pageIndex) {\r\n          pageIndex = 0;\r\n        }\r\n        self.viewModelContext.repository.setPaginationInfo({\r\n          pageIndex: pageIndex += 1\r\n        })\r\n        self.viewModelContext.appContext.eventBus.triggerEvent({ type: 'LoadData' })\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * 清理状态\r\n   */\r\n  dispose() {\r\n    this.listviewInstance.$off('selectChange');\r\n    this.listviewInstance.$off('itemClick');\r\n    this.listviewInstance.$off('load');\r\n    this.viewModelContext.appContext.eventBus.unsubscribe(`${this.viewModelContext.id}-listview-extend`);\r\n  }\r\n\r\n}\r\n\r\nexport { ListviewExtender }","import { ComponentExtender } from './component-extender';\r\nimport { ViewModelContext } from '@farris/mobile-devkit';\r\nimport { BefLookupDataService } from '@farris/mobile-bef';\r\nimport { LookupMappingService } from '../lookup-mapping.service';\r\n\r\n/**\r\n * 帮助控件扩展\r\n */\r\nclass LookupExtender implements ComponentExtender {\r\n\r\n  private lookupInstance: any;\r\n\r\n  private viewModelContext: ViewModelContext;\r\n\r\n  constructor(listviewInstance: any, viewModelContext: any) {\r\n    this.lookupInstance = listviewInstance;\r\n    this.viewModelContext = viewModelContext;\r\n  }\r\n\r\n  extend() {\r\n  }\r\n\r\n  dispose() {\r\n    console.log('Lookup disposed...');\r\n  }\r\n\r\n}\r\n\r\nexport { LookupExtender }","import { ViewModelContext } from '@farris/mobile-devkit';\r\nimport { ComponentExtender } from './component-extender';\r\n\r\n/**\r\n * 列表组件扩展\r\n */\r\nclass AttachmentExtender implements ComponentExtender {\r\n\r\n    private attachmentInstance: any;\r\n\r\n    private viewModelContext: ViewModelContext;\r\n\r\n    constructor(attachmentInstance: any, viewModelContext: any) {\r\n        this.attachmentInstance = attachmentInstance;\r\n        this.viewModelContext = viewModelContext;\r\n    }\r\n\r\n    /**\r\n     * 扩展组件\r\n     */\r\n    extend() {\r\n        const self = this;\r\n        // 当前行\r\n        this.attachmentInstance.$on('beforeSelect', (selectedData) => {\r\n            const selectedId = selectedData.id;\r\n            self.viewModelContext.bindingData.getList().setCurrentId(selectedId, true, false);\r\n        });\r\n    }\r\n\r\n    /**\r\n     * 清理状态\r\n     */\r\n    dispose() {\r\n        this.attachmentInstance.$off('beforeSelect');\r\n    }\r\n\r\n}\r\n\r\nexport { AttachmentExtender };\r\n","import { ViewModelContext } from '@farris/mobile-devkit';\r\nimport { ComponentExtender } from './component-extender';\r\n\r\n/**\r\n * 列表组件扩展\r\n */\r\nclass FilterExtender implements ComponentExtender {\r\n\r\n  private filterInstance: any;\r\n\r\n  private viewModelContext: ViewModelContext;\r\n\r\n  constructor(filterInstance: any, viewModelContext: any) {\r\n    this.filterInstance = filterInstance;\r\n    this.viewModelContext = viewModelContext;\r\n  }\r\n\r\n  /**\r\n   * 扩展组件\r\n   */\r\n  extend() {\r\n    const self = this;\r\n    // 清空uistate的筛选条件\r\n    this.filterInstance.$on('clear', () => {\r\n      self.viewModelContext.uiState.setPropertyValue('filterState', { filters: null });\r\n    });\r\n\r\n    // 给uistate的赋值筛选条件\r\n    // this.filterInstance.$on('change', (data) => {\r\n    //   //self.viewModelContext.uiState.setPropertyValue('filterState', { filters: data.FilterConditions });\r\n    // });\r\n\r\n\r\n    // 给uistate的赋值筛选条件\r\n    this.filterInstance.$on('search', (data) => {\r\n      self.viewModelContext.repository.setPaginationInfo({\r\n        pageIndex: 1\r\n      })\r\n      self.viewModelContext.uiState.setPropertyValue('filterState', { filters: data.FilterConditions });\r\n      self.viewModelContext.appContext.eventBus.triggerEvent({ type: 'LoadData' })\r\n    });\r\n\r\n    // 监听确定时间出发查询\r\n    this.filterInstance.$on('confirm', (data) => {\r\n      self.viewModelContext.repository.setPaginationInfo({\r\n        pageIndex: 1\r\n      })\r\n      self.viewModelContext.uiState.setPropertyValue('filterState', { filters: data.FilterConditions });\r\n      self.viewModelContext.appContext.eventBus.triggerEvent({ type: 'LoadData' })\r\n    });\r\n  }\r\n\r\n  /**\r\n   * 清理状态\r\n   */\r\n  dispose() {\r\n    this.filterInstance.$off('clear');\r\n    this.filterInstance.$off('change');\r\n    this.filterInstance.$off('confirm');\r\n  }\r\n\r\n}\r\n\r\nexport { FilterExtender }","import { ViewModelContext } from '@farris/mobile-devkit';\r\nimport { ComponentExtender } from './component-extender';\r\n\r\n/**\r\n * 列表组件扩展\r\n */\r\nclass TabExtender implements ComponentExtender {\r\n\r\n  private tabInstance: any;\r\n\r\n  private viewModelContext: ViewModelContext;\r\n\r\n  constructor(tabInstance: any, viewModelContext: any) {\r\n    this.tabInstance = tabInstance;\r\n    this.viewModelContext = viewModelContext;\r\n    this.viewModelContext.uiState.setPropertyValue('tabState', { currentTab: tabInstance.currentName });\r\n  }\r\n\r\n  /**\r\n   * 扩展组件\r\n   */\r\n  extend() {\r\n    const self = this;\r\n    // 给uistate的赋值当前tab页\r\n    this.tabInstance.$on('change', (data) => {\r\n      window['MOBILE_ORIGIN_BACK'] && window['MOBILE_ORIGIN_BACK'].reflushOriginGoback();\r\n      if(data.name !== self.viewModelContext.uiState['tabState']['currentTab']){\r\n        self.viewModelContext.uiState.setPropertyValue('tabState', { currentTab: data.name });\r\n        self.viewModelContext.repository.setPaginationInfo({ pageIndex: 1 })\r\n        self.viewModelContext.appContext.eventBus.triggerEvent({ type: 'LoadData' })\r\n      }\r\n    })\r\n  }\r\n\r\n  /**\r\n   * 清理状态\r\n   */\r\n  dispose() {\r\n    this.tabInstance.$off('change');\r\n  }\r\n\r\n}\r\n\r\nexport { TabExtender }","import { ViewModelContext } from '@farris/mobile-devkit';\r\nimport { ComponentExtender } from './component-extender';\r\n\r\n/**\r\n * 列表组件扩展\r\n */\r\nclass SearchExtender implements ComponentExtender {\r\n\r\n  private searchInstance: any;\r\n\r\n  private viewModelContext: ViewModelContext;\r\n\r\n  constructor(searchInstance: any, viewModelContext: any) {\r\n    this.searchInstance = searchInstance;\r\n    this.viewModelContext = viewModelContext;\r\n  }\r\n\r\n  /**\r\n   * 扩展组件\r\n   */\r\n  extend() {\r\n    const self = this;\r\n    // 监听搜索组件\r\n    this.searchInstance.$on('cancel', (data) => {\r\n      //  清空走查询\r\n      self.viewModelContext.repository.setPaginationInfo({\r\n        pageIndex: 1\r\n      })\r\n      self.viewModelContext.appContext.eventBus.triggerEvent({ type: 'LoadData' })\r\n    });\r\n    this.searchInstance.$on('search', (data) => {\r\n        // 如果是确定类型，即走查询\r\n        self.viewModelContext.repository.setPaginationInfo({\r\n          pageIndex: 1\r\n        })\r\n        self.viewModelContext.appContext.eventBus.triggerEvent({ type: 'LoadData' })\r\n    });\r\n  }\r\n\r\n  /**\r\n   * 清理状态\r\n   */\r\n  dispose() {\r\n    this.searchInstance.$off('cancel');\r\n    this.searchInstance.$off('search');\r\n  }\r\n\r\n}\r\n\r\nexport { SearchExtender }","import { ViewModelContext } from '@farris/mobile-devkit';\r\nimport { ComponentExtender } from './component-extender';\r\n\r\n/**\r\n * 列表组件扩展\r\n */\r\nclass CheckboxExtender implements ComponentExtender {\r\n\r\n  private checkboxInstance: any;\r\n\r\n  private viewModelContext: ViewModelContext;\r\n\r\n  constructor(checkboxInstance: any, viewModelContext: any) {\r\n    this.checkboxInstance = checkboxInstance;\r\n    this.viewModelContext = viewModelContext;\r\n  }\r\n\r\n  /**\r\n   * 扩展组件\r\n   */\r\n  extend() {\r\n    const self = this;\r\n    // 当按钮被加载调用父组件让其出现多选框\r\n    this.checkboxInstance.$parent.listCheckStart();\r\n    this.checkboxInstance.$on('click', () => {\r\n      console.log(\"click\");\r\n      // 监听全选\r\n      if (self.checkboxInstance.$parent.checkboxFlag) {\r\n        self.checkboxInstance.$parent.listCheckAllCancel();\r\n      } else {\r\n        self.checkboxInstance.$parent.listCheckAll();\r\n      }\r\n      self.checkboxInstance.$parent.checkboxFlag = !self.checkboxInstance.$parent.checkboxFlag;\r\n      const selectedItems = self.checkboxInstance.$parent.getSelectDataList();\r\n      let selectedIds = [];\r\n      if (selectedItems && selectedItems.length > 0) {\r\n        selectedIds = selectedItems.map((selectedItem) => {\r\n          return selectedItem.id;\r\n        });\r\n      }\r\n      self.viewModelContext.uiState.setPropertyValue('selectedIds', selectedIds);\r\n    });\r\n  }\r\n\r\n  /**\r\n   * 清理状态\r\n   */\r\n  dispose() {\r\n    this.checkboxInstance.$off('click');\r\n  }\r\n\r\n}\r\n\r\nexport { CheckboxExtender }","import { ViewModelContext } from '@farris/mobile-devkit';\r\nimport { ComponentExtender } from './component-extender';\r\n\r\n/**\r\n * 列表组件扩展\r\n */\r\nclass MapExtender implements ComponentExtender {\r\n\r\n    private mapInstance: any;\r\n\r\n    private viewModelContext: ViewModelContext;\r\n\r\n    constructor(mapInstance: any, viewModelContext: any) {\r\n        this.mapInstance = mapInstance;\r\n        this.viewModelContext = viewModelContext;\r\n    }\r\n\r\n    /**\r\n     * 扩展组件\r\n     */\r\n    extend() {\r\n        const self = this;\r\n        // 当前行\r\n        this.mapInstance.$on('markMap', (selectedData) => {\r\n            // 获取经纬度\r\n            const lnglat = selectedData.lnglat;\r\n            const lng = lnglat.lng;\r\n            const lat = lnglat.lat;\r\n            // 获取经纬度路径\r\n            const lngPath = this.mapInstance.lngPath;\r\n            const latPath = this.mapInstance.latPath;\r\n            // this.mapInstance.center = [lng, lat];\r\n            // 赋值经纬度\r\n            this.viewModelContext.bindingData.setValue(\r\n                this.getBindingPathArray().concat(lngPath.split('/')),\r\n                lng,\r\n                true,\r\n                true);\r\n            this.viewModelContext.bindingData.setValue(\r\n                this.getBindingPathArray().concat(latPath.split('/')),\r\n                lat,\r\n                true,\r\n                true\r\n            );\r\n        });\r\n    }\r\n\r\n    /**\r\n     * 清理状态\r\n     */\r\n    dispose() {\r\n        this.mapInstance.$off('markMap');\r\n    }\r\n\r\n    private getBindingPathArray(): any[] {\r\n        const path = this.viewModelContext.bindingData.bindingPath;\r\n        if (path) {\r\n            return path.split('/').filter((n) => n !== '');\r\n        }\r\n        return [];\r\n    }\r\n}\r\n\r\nexport { MapExtender };\r\n","import { ViewModelContext } from '@farris/mobile-devkit';\r\nimport { ComponentExtender } from './component-extender';\r\nimport { ListviewExtender } from './listview-extender';\r\nimport { LookupExtender } from './lookup-extender';\r\nimport { FilterExtender } from './filter-extender';\r\nimport { TabExtender } from './tab-extender';\r\nimport { RefleshExtender } from './reflesh-extender';\r\nimport { SearchExtender } from './search-extender';\r\nimport { CheckboxExtender } from './checkbox-extender';\r\nimport { AttachmentExtender } from './attachment-extender';\r\nimport { MapExtender } from './map-extender';\r\n\r\n/**\r\n * 组件适配器工厂\r\n */\r\nclass ComponentExtenderFactory {\r\n\r\n  private viewModelContext: ViewModelContext;\r\n\r\n  constructor(viewModelContext: ViewModelContext) {\r\n    this.viewModelContext = viewModelContext;\r\n  }\r\n\r\n  /**\r\n   * 创建适配器\r\n   */\r\n  public create(componentInstance: any, componentType: string): ComponentExtender {\r\n    let componentExtenderInstance: ComponentExtender;\r\n    switch (componentType) {\r\n      case 'fm-listview':\r\n        componentExtenderInstance = new ListviewExtender(componentInstance, this.viewModelContext);\r\n        break;\r\n      case 'Lookup':\r\n        componentExtenderInstance = new LookupExtender(componentInstance, this.viewModelContext);\r\n        break;\r\n      case 'fm-filter':\r\n        componentExtenderInstance = new FilterExtender(componentInstance, this.viewModelContext);\r\n        break;\r\n      case 'fm-tabs':\r\n        componentExtenderInstance = new TabExtender(componentInstance, this.viewModelContext);\r\n        break;\r\n      case 'van-search':\r\n        componentExtenderInstance = new SearchExtender(componentInstance, this.viewModelContext);\r\n        break;\r\n      case 'Checkbox':\r\n        componentExtenderInstance = new CheckboxExtender(componentInstance, this.viewModelContext);\r\n        break;\r\n      case 'fm-attachment':\r\n        componentExtenderInstance = new AttachmentExtender(componentInstance, this.viewModelContext);\r\n        break;\r\n      case 'Map':\r\n        componentExtenderInstance = new MapExtender(componentInstance, this.viewModelContext);\r\n        break;\r\n      default:\r\n        componentExtenderInstance = null;\r\n    }\r\n\r\n    return componentExtenderInstance;\r\n  }\r\n\r\n}\r\n\r\nexport { ComponentExtenderFactory };","import { ViewModel, ViewModelContext } from '@farris/mobile-devkit';\r\nimport { ComponentExtender } from './component-extender';\r\nimport { ComponentExtenderFactory } from './component-extender-factory';\r\n\r\n/**\r\n * 扩展管理器\r\n */\r\nclass ComponentExtenderManager {\r\n\r\n  private viewModelContext: ViewModelContext;\r\n\r\n  /**\r\n   * 组件扩展器集合\r\n   */\r\n  private extenderMap: Map<any, ComponentExtender>;\r\n\r\n  /**\r\n   * 扩展器工厂\r\n   */\r\n  private extenderFactory: ComponentExtenderFactory;\r\n\r\n  /**\r\n   * 构造函数\r\n   */\r\n  constructor(viewModelContext: ViewModelContext) {\r\n    this.viewModelContext = viewModelContext;\r\n    this.extenderMap = new Map<any, ComponentExtender>();\r\n    this.extenderFactory = new ComponentExtenderFactory(viewModelContext);\r\n  }\r\n\r\n  /**\r\n   * 获取扩展\r\n   */\r\n  public getExtender(componentInstance: any, componentType: string) {\r\n    if (this.extenderMap.has(componentInstance)) {\r\n      return this.extenderMap.get(componentInstance);\r\n    }\r\n\r\n    const extender = this.extenderFactory.create(componentInstance, componentType);\r\n    this.extenderMap.set(componentInstance, extender);\r\n\r\n    return extender;\r\n  }\r\n}\r\nexport { ComponentExtenderManager };\r\n","\r\nconst getDataByPath = (data: any, fields: string[]) => {\r\n    if (!data[fields[0]]) {\r\n        return;\r\n    }\r\n    return fields.reduce((total: any, next: any) => {\r\n        return total[next];\r\n    }, data);\r\n};\r\nexport { getDataByPath };\r\n\r\n","const mergeString = (str, str1) => {\r\n    let min = str.length < str1.length ? str.length : str1.length;\r\n    let res = \"\";\r\n    let i = 0;\r\n    for (i = 0; i < min; i++) {\r\n        res += str.substring(i, i + 1);\r\n        res += str1.substring(i, i + 1);\r\n    }\r\n    res += str.length < str1.length ? str1.substring(i) : str.substring(i);\r\n    return res;\r\n}\r\n\r\nconst getToken = (str) => {\r\n    let array = [1, 2, 3];\r\n    if (str.length > 24) { str = str.substring(0, 24); }\r\n    let length = Math.floor(str.length / 3);\r\n    let str1 = str.substring(0, length);\r\n    let str2 = str.substring(length, 2 * length);\r\n    let str3 = str.substring(2 * length, 3 * length);\r\n    let randomArray = [];\r\n    var random = Math.ceil(Math.random() * 3);\r\n    randomArray.push(array[random - 1]);\r\n    array.splice(random - 1, 1);\r\n    random = Math.ceil(Math.random() * 2);\r\n    randomArray.push(array[random - 1]);\r\n    array.splice(random - 1, 1);\r\n    randomArray.push(array[0]);\r\n    let timeStamp = Math.round(new Date().getTime() / 1000) + \"\";\r\n    return timeStamp.substring(0, 5) + \"times\" + randomArray[0] + \"\"\r\n        + randomArray[1] + \"\" + randomArray[2] + switchStr(str1, str2, str3, randomArray[0])\r\n        + switchStr(str1, str2, str3, randomArray[1]) +\r\n        switchStr(str1, str2, str3, randomArray[2]) + \"times\" + timeStamp.substring(5);\r\n};\r\n\r\nconst switchStr = (str1, str2, str3, i) => {\r\n    switch (i) {\r\n        case 1: return str1;\r\n        case 2: return str2;\r\n        case 3: return str3;\r\n    }\r\n};\r\n\r\nconst officeUrl = {\r\n    doc: '/platform/common/web/assets/fm-attachment/word.png',\r\n    docx: '/platform/common/web/assets/fm-attachment/word.png',\r\n    xls: '/platform/common/web/assets/fm-attachment/excel.png',\r\n    xlsx: '/platform/common/web/assets/fm-attachment/excel.png',\r\n    ppt: '/platform/common/web/assets/fm-attachment/ppt.png',\r\n    pptx: '/platform/common/web/assets/fm-attachment/ppt.png',\r\n    pdf: '/platform/common/web/assets/fm-attachment/pdf.png',\r\n    txt: '/platform/common/web/assets/fm-attachment/txt.png',\r\n    jpg: '/platform/common/web/assets/fm-attachment/img.png',\r\n    jpeg: '/platform/common/web/assets/fm-attachment/img.png',\r\n    png: '/platform/common/web/assets/fm-attachment/img.png'\r\n};\r\nconst getAttachmentUrl = (attachmentId: string, rootId: string, extensionName: string) => {\r\n    const officeUrlKey = Object.keys(officeUrl).find(url => url === extensionName.toLowerCase());\r\n    if (!officeUrlKey) {\r\n        return `/api/runtime/dfs/v1.0/doc/filecontent?metadataid=${attachmentId}&rootid=${rootId}&token=${getToken(mergeString(attachmentId, rootId))}`;\r\n    }\r\n    return officeUrl[extensionName.toLowerCase()];\r\n};\r\n\r\n\r\n\r\nexport { getAttachmentUrl, getToken, mergeString };\r\n","class EventUtil {\r\n\r\n  public static toHandlerKey(str: string) {\r\n    if (str) {\r\n      return `on${this.capitalize(str)}`;\r\n    } else {\r\n      return '';\r\n    }\r\n  }\r\n\r\n  public static camelize(str: string): string {\r\n    const camelizeRE = /-(\\w)/g\r\n    return str.replace(camelizeRE, (_, c) => (c ? c.toUpperCase() : ''))\r\n  }\r\n\r\n  public static capitalize(str: string) {\r\n    return str.charAt(0).toUpperCase() + str.slice(1);\r\n  }\r\n\r\n}\r\n\r\nexport { EventUtil };\r\n","export const uuid = () => {\r\n    let d = new Date().getTime();\r\n    const uuid = 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\r\n        const r = (d + Math.random() * 16) % 16 | 0;\r\n        d = Math.floor(d / 16);\r\n        return (c === 'x' ? r : (r & 0x3 | 0x8)).toString(16);\r\n    });\r\n    return uuid;\r\n};","import { StringUtil, NumberUtil, BoolUtil, EnumUtil, DateUtil, } from '@farris/mobile-devkit'\r\n\r\nexport default {\r\n    /**\r\n     * 枚举格式化\r\n     */\r\n    enum: function (value, options) {\r\n        return EnumUtil.format(value, options);\r\n    },\r\n\r\n    /**\r\n     * 日期格式化\r\n     */\r\n    date: function (value, options) {\r\n        return DateUtil.format(value, options);\r\n    },\r\n    \r\n    /**\r\n    * 日期操作\r\n    */\r\n    dateOperation: function (value, options) {\r\n        return DateUtil.dateOperation(value, options);\r\n    },\r\n\r\n    /**\r\n     * 数字格式化\r\n     */\r\n    number: function (value, options) {\r\n        return NumberUtil.format(value, options);\r\n    },\r\n\r\n    /**\r\n     * 字符串格式化\r\n     * \r\n     */\r\n    string: function (value, options) {\r\n        return StringUtil.format(value, options);\r\n    },\r\n\r\n    /**\r\n     * 布尔值格式化\r\n     */\r\n    bool: function (value, options) {\r\n        return BoolUtil.format(value, options);\r\n    },\r\n}\r\n\r\n","import { App } from '@farris/mobile-devkit';\r\nimport { BindingStates } from './binding-states';\r\nimport { ComponentExtenderManager } from './component-extenders/index';\r\nimport { EventUtil } from './utils/index';\r\nimport formatUtils from './utils/format-uitl'\r\nimport { RouterService, HistoryBackService } from '@farris/mobile-command-services';\r\n\r\n\r\nconst DevkitPlugin = {\r\n\r\n  install: function (app: any, options: any) {\r\n\r\n    /**\r\n     * 注册事件\r\n     * @todo：暂时强制绑定，暂时无法根据特性灵活区分\r\n     */\r\n    app.config.globalProperties.$on = function (eventName: string, eventHandler: any) {\r\n      const vnodeProps = this._.vnode.props;\r\n      const eventHandlerKey = EventUtil.toHandlerKey(eventName);\r\n      const oldEventHandler = vnodeProps[eventHandlerKey];\r\n      if (oldEventHandler) {\r\n        vnodeProps[eventHandlerKey] = function ($event) {\r\n          eventHandler($event);\r\n          oldEventHandler($event);\r\n        }\r\n      } else {\r\n        vnodeProps[eventHandlerKey] = eventHandler;\r\n      }\r\n    }\r\n\r\n    /**\r\n     * 清空事件注册\r\n     * @todo：暂时强制清空\r\n     */\r\n    app.config.globalProperties.$off = function (eventName: string) {\r\n      const vnodeProps = this._.vnode.props;\r\n      const eventHandlerKey = EventUtil.toHandlerKey(eventName);\r\n      vnodeProps[eventHandlerKey] = null;\r\n    }\r\n\r\n    /**\r\n     * 组件的App实例\r\n     */\r\n    app.config.globalProperties.$app = null;\r\n\r\n    /**\r\n     * 组件的ViewModel实例\r\n     */\r\n    app.config.globalProperties.$viewModel = null;\r\n\r\n    /**\r\n     * 绑定状态\r\n     */\r\n    app.config.globalProperties.$bindingStates = null;\r\n\r\n    /**\r\n     * 绑定状态\r\n     */\r\n    app.config.globalProperties.$componentExtenderManager = null;\r\n\r\n    /**\r\n     * 组件App工厂方法\r\n     */\r\n    app.config.globalProperties.$createApp = function (appOptions) {\r\n      if (this.$app) {\r\n        throw new Error('App已经存在');\r\n      }\r\n\r\n      const historyBackService = new HistoryBackService();\r\n\r\n      historyBackService.init();\r\n      \r\n      historyBackService.proxyBack();\r\n\r\n      this.$app = new App(appOptions);\r\n      function receiveMessage(event) {\r\n        const commandOptions = this.$app.context.injector.get('DECLARATIONS_TOKEN');\r\n        var messageData = JSON.parse(event.data);\r\n        const commandName = messageData.data.command;\r\n        const command = commandOptions.commands[commandName];\r\n        var origin = event.origin;\r\n        var source = event.source;\r\n        const viewModelContext = this.$app.context.viewModelContextManager.getContextById(command.viewModelId)\r\n        if (!!viewModelContext) {\r\n          const methodResult$ = viewModelContext.viewModel[command.command]();\r\n          methodResult$.pipe(\r\n            () => { },\r\n            () => { },\r\n            () => {\r\n              window.parent && window.parent.postMessage('success', event.origin);\r\n            }\r\n          )\r\n        }\r\n      }\r\n      if (!window['IsDddedMessageEventListener']) {\r\n        window.addEventListener(\"message\", receiveMessage.bind(this), false)\r\n        window['IsDddedMessageEventListener'] = true;\r\n      }\r\n    };\r\n\r\n    /**\r\n     * 获取AppContext\r\n     */\r\n    app.config.globalProperties.$getApp = function () {\r\n      let app = this.$app;\r\n      let currentCmp = this;\r\n      while (!app && currentCmp.$parent) {\r\n        currentCmp = currentCmp.$parent;\r\n        app = currentCmp.$app;\r\n      }\r\n      return app;\r\n    };\r\n\r\n    /**\r\n     * 组件ViewModel工厂方法\r\n     */\r\n    app.config.globalProperties.$createViewModel = function (viewModelOptions) {\r\n      this.$app = this.$getApp();\r\n      if (!this.$app) {\r\n        throw new Error('请先创建App');\r\n      }\r\n\r\n      // 如果viewModel已经存在，则使用已有的\r\n      const viewModelId = viewModelOptions.id;\r\n      if (viewModelId) {\r\n        const existedViewModelContext = this.$app.context.viewModelContextManager.getContextById(viewModelId);\r\n        if (existedViewModelContext) {\r\n          this.$viewModel = existedViewModelContext.viewModel;\r\n        }\r\n      }\r\n\r\n      // 如果viewModel不存在，则创建新的viewModel，并建立父子关系\r\n      if (!this.$viewModel) {\r\n        const parentViewModel = this.$getViewModel();\r\n        if (!viewModelOptions.parent) {\r\n          viewModelOptions.parent = parentViewModel;\r\n        }\r\n        this.$viewModel = this.$app.createViewModel(viewModelOptions);\r\n      }\r\n\r\n      // 设置绑定状态\r\n      this.$bindingStates = new BindingStates(this);\r\n\r\n      // 映射路由状态\r\n      const routerService = this.$viewModel.injector.get(RouterService);\r\n      routerService.mappingToUIState();\r\n\r\n      // 根据路由参数清理卡片缓存数据\r\n      if (this.$viewModel && this.$viewModel.uiState && this.$viewModel.uiState.routerState && this.$viewModel.uiState.routerState.queryParams && this.$viewModel.uiState.routerState.queryParams.clearCachedDataForCard) {\r\n        //清一下bingdingdate上的东西\r\n        this.$viewModel.context.bindingData.getList().currentId = null;\r\n      }\r\n\r\n      // 根据路由参数清理列表缓存数据\r\n      if (this.$viewModel && this.$viewModel.uiState && this.$viewModel.uiState.routerState && this.$viewModel.uiState.routerState.queryParams && this.$viewModel.uiState.routerState.queryParams.clearCachedDataForList) {\r\n        //清一下bingdingdate上的东西\r\n        this.$viewModel.repository.entityCollection.clear();\r\n      }\r\n\r\n\r\n    };\r\n\r\n    /**\r\n     * 获取ViewModel\r\n     */\r\n    app.config.globalProperties.$getViewModel = function () {\r\n      let currentCmp = this;\r\n      let viewModel = currentCmp.$viewModel;\r\n      while (!viewModel && currentCmp.$parent) {\r\n        currentCmp = currentCmp.$parent;\r\n        viewModel = currentCmp.$viewModel;\r\n      }\r\n      return viewModel;\r\n    };\r\n\r\n    /**\r\n     * 初始化组件扩展管理\r\n     */\r\n    app.config.globalProperties.$initComponentExtenderManager = function () {\r\n      const viewModel = this.$getViewModel();\r\n      this.$componentExtenderManager = new ComponentExtenderManager(viewModel.context);\r\n    };\r\n\r\n\r\n\r\n    /**\r\n     * 获取组件扩展管理器\r\n     */\r\n    app.config.globalProperties.$getComponentExtenderManager = function () {\r\n      let currentCmp = this;\r\n      let extenderManager = currentCmp.$componentExtenderManager;\r\n      while (!extenderManager && currentCmp.$parent) {\r\n        currentCmp = currentCmp.$parent;\r\n        extenderManager = currentCmp.$componentExtenderManager;\r\n      }\r\n      return extenderManager;\r\n    };\r\n\r\n    app.config.globalProperties.$bindComponentExtenders = function (refs: any) {\r\n      if (!this.$refs) {\r\n        return;\r\n      }\r\n      const componentInstances = Object.values(this.$refs);\r\n      componentInstances.forEach((componentInstance: any) => {\r\n        const componentType = componentInstance._.type.name;\r\n        this.$bindComponentExtender(componentInstance, componentType);\r\n      });\r\n    };\r\n\r\n    /**\r\n     * 绑定组件扩展器\r\n     */\r\n    app.config.globalProperties.$bindComponentExtender = function (componentInstance, componentType) {\r\n      if (componentInstance.$__component_extended === true) {\r\n        return;\r\n      }\r\n\r\n      const extenderManager = this.$getComponentExtenderManager();\r\n      const extender = extenderManager.getExtender(componentInstance, componentType);\r\n      if (extender) {\r\n        extender.extend();\r\n        componentInstance.$__component_extended === true\r\n      }\r\n    };\r\n\r\n    /**\r\n     * 清理所有组件扩展器\r\n     * @param refs \r\n     */\r\n    app.config.globalProperties.$unbindComponentExtenders = function (refs: any) {\r\n      if (!this.$refs) {\r\n        return;\r\n      }\r\n      const componentInstances = Object.values(this.$refs);\r\n      componentInstances.forEach((componentInstance: any) => {\r\n        this.$unbindComponentExtender(componentInstance);\r\n      });\r\n    };\r\n\r\n    /**\r\n     * 清理组件扩展器状态\r\n     */\r\n    app.config.globalProperties.$unbindComponentExtender = function (componentInstance) {\r\n      const extenderManager = this.$getComponentExtenderManager();\r\n      const extender = extenderManager.getExtender(componentInstance);\r\n      if (extender) {\r\n        extender.dispose();\r\n      }\r\n    };\r\n\r\n    app.config.globalProperties.$initPage = function (viewModelOptions) {\r\n      this.$createViewModel(viewModelOptions);\r\n      this.$initComponentExtenderManager();\r\n      this.$viewModel.uiState.pageTitle && this.$changeDocumentTitle(this.$viewModel.uiState.pageTitle);\r\n      this.$initUistate();\r\n    };\r\n\r\n    app.config.globalProperties.$changeDocumentTitle = function (title: string) {\r\n      document.title = title || document.title\r\n    }\r\n\r\n    /**\r\n     * VUE上格式化工具类\r\n     */\r\n    app.config.globalProperties.$formatUtils = formatUtils;\r\n\r\n    /**\r\n     * 初始化uistate上记录的状态\r\n     */\r\n    app.config.globalProperties.$initUistate = function () {\r\n      this.$viewModel.uiState.listaviewState = { refreshLoading: false, loadMoreLoading: false, loadMoreFinished: false };\r\n      this.$viewModel.uiState.searchState = { keyword: '' };\r\n      this.$viewModel.uiState.filterState = { filters: '', filterData: '' };\r\n      this.$viewModel.uiState.tabState = { currentTab: '' };\r\n    };\r\n\r\n  }\r\n};\r\n\r\nexport { DevkitPlugin };\r\n","import { recomputable } from './recompute';\r\n\r\nfunction mapEntityListData() {\r\n  return recomputable(function() {\r\n    return this.$bindingStates.getEntityListData();\r\n  }, 'entityListData');\r\n}\r\n\r\nfunction mapCurrentEntityData() {\r\n  return recomputable(function() {\r\n    return this.$bindingStates.getCurrentEntityData();\r\n  }, 'currentEntityData');\r\n}\r\n\r\nfunction mapUIState() {\r\n  return recomputable(function() {\r\n    return this.$bindingStates.getUIState();\r\n  }, 'uiState');\r\n}\r\n\r\nfunction mapForm() {\r\n  return recomputable(function() {\r\n    return this.$bindingStates.getForm();\r\n  }, 'form');\r\n}\r\n\r\nfunction mapStateMachine() {\r\n  return recomputable(function() {\r\n    return this.$bindingStates.getStateMachine();\r\n  }, 'stateMachine');\r\n}\r\n\r\nfunction mapBindingStates(extraStates?: any) {\r\n  const mappedBindingStates = {\r\n    entityListData: mapEntityListData(),\r\n    currentEntityData: mapCurrentEntityData(),\r\n    uiState: mapUIState(),\r\n    form: mapForm(),\r\n    stateMachine: mapStateMachine()\r\n  };\r\n\r\n  const allMappedStates = Object.assign({}, mappedBindingStates, extraStates);\r\n  return allMappedStates;\r\n}\r\n\r\nexport { mapBindingStates, mapEntityListData, mapCurrentEntityData, mapUIState, mapForm };\r\n","import { ViewModel } from '@farris/mobile-devkit';\r\n\r\n/**\r\n * 映射命令方法\r\n */\r\nfunction mapCommandMethods(methodNames: any) {\r\n\r\n  const mappedCommandMethods = {};\r\n  methodNames.forEach((methodName: string) => {\r\n    mappedCommandMethods[methodName] = function (eventParams: any) {\r\n      return this.$viewModel[methodName](eventParams);\r\n    };\r\n  });\r\n\r\n  return mappedCommandMethods;\r\n}\r\n\r\nexport { mapCommandMethods }","import { Subject } from 'rxjs';\r\nimport { TakePhoto } from './take-photo.interface';\r\nexport class WeChatTakePhoto implements TakePhoto {\r\n    getSysInfo: () => any;\r\n    playShortVideo: (value?: any) => void;\r\n    selectAttachments: (value?: any) => Subject<any>;\r\n    // public selectAttachments() { }\r\n    public takePhotoAttachment() {\r\n        // 微信拍照\r\n    }\r\n\r\n    takeShortVideo() {\r\n\r\n    }\r\n    selectFile() {\r\n\r\n    }\r\n    downloadAttachment() {\r\n\r\n    }\r\n}\r\n","import { Subject } from 'rxjs';\r\nimport { TakePhoto } from './take-photo.interface';\r\nexport abstract class AttachmentService {\r\n    public takePhotoIns: TakePhoto;\r\n    public collectFile = new Subject();\r\n    constructor() {\r\n    }\r\n\r\n    /**\r\n     * 拍照\r\n     * @param param 拍照参数\r\n     */\r\n    public takePhoto(param?: any) {\r\n        this.takePhotoIns.takePhotoAttachment(param);\r\n    }\r\n\r\n    /**\r\n     * 选择文件\r\n     * @param param 选择文件参数\r\n     */\r\n    public selectAttachment(param: any) {\r\n        this.takePhotoIns.selectAttachments(param);\r\n    }\r\n\r\n    /**\r\n     * 拍摄短视频\r\n     * @param param 拍摄短视频参数\r\n     */\r\n    public takeShortVideo(param: any) {\r\n        this.takePhotoIns.takeShortVideo(param);\r\n    }\r\n\r\n    /**\r\n     * 播放短视频\r\n     * @param param 播放短视频参数\r\n     */\r\n    public playShortVideo(param: any) {\r\n        this.takePhotoIns.playShortVideo(param);\r\n    }\r\n\r\n    public selectFile(param: any) {\r\n        this.takePhotoIns.selectFile(param);\r\n    }\r\n    public downloadAttachment(param: any) {\r\n        this.takePhotoIns.downloadAttachment(param);\r\n    }\r\n\r\n    public getSysInfo(){\r\n        return this.takePhotoIns.getSysInfo();\r\n    }\r\n}\r\n","import { Subject } from 'rxjs';\r\nimport { TakePhoto } from './take-photo.interface';\r\nimport { JsBridgeService } from '@farris/mobile-command-services';\r\nimport { uuid } from '../utils';\r\nexport class CloudPlusTakePhoto implements TakePhoto {\r\n    private jsBrigdeService: JsBridgeService;\r\n    constructor(private collectFile: Subject<any>) {\r\n        this.jsBrigdeService = new JsBridgeService()\r\n    }\r\n    public takeShortVideo(param: any) {\r\n        this.jsBrigdeService.takeVideo(param).subscribe(result => {\r\n            const data = this.processVideo(result);\r\n            this.collectFile.next(data);\r\n        });\r\n    }\r\n\r\n    public takePhotoAttachment(param: any) {\r\n        this.jsBrigdeService.takePhoto(param).subscribe(result => {\r\n            const data = this.processPic(result);\r\n            this.collectFile.next(data);\r\n        });\r\n    }\r\n\r\n    public selectAttachments(param: any) {\r\n        this.jsBrigdeService.selectPictureFromAlbum(param).subscribe(result => {\r\n            const data = this.processPic(result);\r\n            this.collectFile.next(data);\r\n        });\r\n    }\r\n\r\n    public selectFile(param: any) {\r\n        this.jsBrigdeService.selectFile(param).subscribe(res => {\r\n            const data = this.processFile(res);\r\n            this.collectFile.next(data);\r\n        });\r\n    }\r\n\r\n    public downloadAttachment(options: any) {\r\n        return this.jsBrigdeService.downloadFile(options);\r\n    }\r\n\r\n    public getSysInfo() {\r\n        return this.jsBrigdeService.getSysInfo();\r\n    }\r\n\r\n    /**\r\n     * 调起当前设备 播放短视频\r\n     * @param path 视频路径\r\n     */\r\n    public playShortVideo(path: string) {\r\n        window['iCityBridge'].ccworkPlayShortVideo({ path }, (res) => {\r\n            const result = res.result;\r\n            const data = this.processVideo(result);\r\n            this.collectFile.next(data);\r\n        });\r\n    }\r\n\r\n    /**\r\n     * 预处理图片\r\n     */\r\n    processPic(result: string[]) {\r\n        const imgHeader = 'data:image/jpeg;base64,';\r\n        const imgType = 'image/png';\r\n        if (typeof result === 'string') {\r\n            // ios takephoto\r\n            return {\r\n                file: new File([], `image_${uuid().substring(0, 6)}.png`, { type: imgType }),\r\n                content: `${imgHeader}${result}`\r\n            };\r\n        }\r\n        return result.map((dataItem: any) => {\r\n            // andriod selectPic\r\n            if (typeof dataItem === 'string') {\r\n                return {\r\n                    file: new File([], `image_${uuid().substring(0, 6)}.png`, { type: imgType }),\r\n                    content: `${imgHeader}${dataItem}`\r\n                };\r\n            }\r\n            // ios selectPic\r\n            return {\r\n                file: new File([], `image_${uuid().substring(0, 6)}.png`, { type: imgType }),\r\n                content: `${imgHeader}${dataItem.content}`\r\n            };\r\n        });\r\n    }\r\n\r\n    processFile(result: any[]) {\r\n        const fileHeaders = {\r\n            'jpg': 'data:image/jpeg;base64,',\r\n            'png': 'data:image/jpeg;base64,',\r\n            'doc': 'data:application/vnd.openxmlformats-officedocument.wordprocessingml.document;base64,',\r\n            'docx': 'data:application/vnd.openxmlformats-officedocument.wordprocessingml.document;base64,',\r\n            'xls': 'data:application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;base64,',\r\n            'xlsx': 'data:application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;base64,',\r\n            'ppt': 'data:application/vnd.ms-powerpoint;base64,',\r\n            'pptx': 'data:application/vnd.ms-powerpoint;base64,',\r\n            'txt': 'data:text/plain;base64,',\r\n            'pdf': 'data:application/pdf;base64,',\r\n            'mp4': 'data:video/mp4;base64,',\r\n            'mov': 'data:video/mp4;base64,'\r\n        };\r\n        const fileTypes = {\r\n            'jpg': 'image/png',\r\n            'png': 'image/png',\r\n            'doc': 'application/vnd.openxmlformats-officedocument.wordprocessingml.document',\r\n            'docx': 'application/vnd.openxmlformats-officedocument.wordprocessingml.document',\r\n            'xls': 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet',\r\n            'xlsx': 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet',\r\n            'ppt': 'application/vnd.ms-powerpoint',\r\n            'pptx': 'application/vnd.ms-powerpoint',\r\n            'txt': 'text/plain',\r\n            'pdf': 'application/pdf',\r\n            'mp4': 'video/mp4',\r\n            'mov': 'video/mp4'\r\n        };\r\n        return result.map((dataItem: any) => {\r\n            const suffix = dataItem.name.substring(dataItem.name.lastIndexOf('.') + 1);\r\n            return {\r\n                file: new File([], dataItem.name, { type: fileTypes[suffix.toLowerCase()] }),\r\n                content: `${fileHeaders[suffix.toLowerCase()]}${dataItem.base64}`\r\n            };\r\n        });\r\n    }\r\n\r\n    /**\r\n     * 预处理视频\r\n     * @param result\r\n     */\r\n    processVideo(result: any) {\r\n        const url = result.value;\r\n        const base64value = result.base64value;\r\n        const videoHeader = 'data:video/mp4;base64,';\r\n        const videoType = 'video/mp4';\r\n        const videoName = url.substring(url.lastIndexOf('/') + 1) + '.mp4';\r\n        return {\r\n            file: new File([], videoName, { type: videoType }),\r\n            content: `${videoHeader}${base64value}`,\r\n            type: videoType,\r\n            url,\r\n            name: url.substring(url.lastIndexOf('/') + 1) + '.mp4'\r\n        };\r\n    }\r\n\r\n\r\n}\r\n\r\n","import { WeChatTakePhoto } from './wechat-take-photo.service';\r\nimport { AttachmentService } from './attachment.service';\r\nimport { CloudPlusTakePhoto } from './cloud-plus-take-photo.service';\r\n\r\nexport class WeChatAttachment extends AttachmentService {\r\n    constructor() {\r\n        super();\r\n        this.takePhotoIns = new WeChatTakePhoto();\r\n    }\r\n}\r\n\r\nexport class CloudPlusAttachment extends AttachmentService {\r\n    constructor() {\r\n        super();\r\n        this.takePhotoIns = new CloudPlusTakePhoto(this.collectFile);\r\n    }\r\n}\r\n","import { BefRepository } from '@farris/mobile-bef';\r\nimport { HttpMethods } from '@farris/mobile-devkit';\r\nimport { Observable, forkJoin } from 'rxjs';\r\nimport { filter, map, mergeMap, tap } from 'rxjs/operators';\r\nimport { getToken, mergeString } from '../utils';\r\n\r\nexport class UploadAttachmentService {\r\n    constructor(private befRepository: BefRepository<any>) {\r\n\r\n    }\r\n\r\n    /**\r\n     * 缓存附件\r\n     * @param originFiles\r\n     * @param uploadInfo\r\n     */\r\n    upload(originFiles: any[], uploadInfo: any) {\r\n        const apiProxy = this.befRepository.apiProxy;\r\n        const uploadUrl = `/api/runtime/dfs/v1.0/formdoc`;\r\n        const parametersArr = originFiles.map(ele => {\r\n            return {\r\n                docInfo: {\r\n                    fileContent: ele.content.substring(\r\n                        ele.content.indexOf(',') + 1\r\n                    ),\r\n                    fileName: ele.file.name,\r\n                    index: 0,\r\n                    total: 1,\r\n                    metadataId: ele.id\r\n                },\r\n                formId: uploadInfo.parentDirName,\r\n                mode: 1,\r\n                rootId: uploadInfo.rootId || 'default-root'\r\n            };\r\n        });\r\n        const requestList = parametersArr.map(ele => {\r\n            const params = { body: ele };\r\n            return apiProxy.request(HttpMethods.POST, uploadUrl, params, true);\r\n        });\r\n        return forkJoin(requestList);\r\n    }\r\n\r\n    /**\r\n     * 预览附件pdf\r\n     * @param fileType\r\n     * @param rootId\r\n     * @param metadataIdList\r\n     */\r\n    previewPdf(rootId: string, metadataIdList: string[]) {\r\n        const baseUrl = '/platform/runtime/dfs/web/pdfjs/viewer.html?file=';\r\n        const apiProxy = this.befRepository.apiProxy;\r\n        const fileListUrl = '/api/runtime/dfs/v1.0/fileviewer/filelist';\r\n        const params = {\r\n            storageType: 2, filePath: JSON.stringify({\r\n                rootId,\r\n                metadataIdList\r\n            })\r\n        };\r\n        const body = { body: params };\r\n        // 预览\r\n        return apiProxy.request(HttpMethods.POST, fileListUrl, body).pipe(\r\n            map(res => baseUrl + encodeURIComponent(res[0].filePath))\r\n        );\r\n    }\r\n\r\n    /**\r\n     * 预览office txt文档\r\n     * @param rootId\r\n     * @param metadataIdList\r\n     */\r\n    previewDoc(rootId: string, metadataIdList: string[]) {\r\n        const apiProxy = this.befRepository.apiProxy;\r\n        const fileListUrl = '/api/runtime/dfs/v1.0/fileviewer/filelist';\r\n        const loadDocUrl = '/api/runtime/dfs/v1.0/docviewer/loaddocument';\r\n        const params = {\r\n            storageType: 2, filePath: JSON.stringify({\r\n                rootId,\r\n                metadataIdList\r\n            })\r\n        };\r\n        const body = { body: params };\r\n        // 根据文件类型 调用不同的预览接口\r\n        return apiProxy.request(HttpMethods.POST, fileListUrl, body)\r\n            .pipe(\r\n                mergeMap(res => apiProxy.request(HttpMethods.POST, loadDocUrl, { body: { filePath: res[0].filePath } })),\r\n                map(res => res.pages)\r\n            );\r\n    }\r\n\r\n\r\n    /**\r\n     * 获取图片url\r\n     * @param attachmentId  附件id\r\n     * @param rootId 根目录id\r\n     * @returns \r\n     */\r\n    getAttachmentPath(attachmentId: string, rootId: string) {\r\n        return `/api/runtime/dfs/v1.0/doc/filecontent?metadataid=${attachmentId}&rootid=${rootId}&token=${getToken(mergeString(attachmentId, rootId))}`;\r\n    }\r\n}\r\n","import { ViewModelContext } from '@farris/mobile-devkit';\r\n\r\n/**\r\n * 帮助映射服务\r\n */\r\nexport class LookupMappingService {\r\n  private viewModelContext: ViewModelContext;\r\n\r\n  constructor(viewModelContext: ViewModelContext) {\r\n    this.viewModelContext = viewModelContext;\r\n  }\r\n\r\n  /**\r\n   * 映射字段\r\n   * @summary\r\n   * mapFields格式形如：\r\n   * {\r\n   *    id: \"assoField.assoField\",\r\n   *    code: \"assoField.assoField_Code\",\r\n   *    name: \"assoField.assoField_Name\"\r\n   * }\r\n   */\r\n  mapFields(helpData: any, mappingFields: any) {\r\n    console.log(helpData);\r\n    if (!mappingFields) {\r\n      return;\r\n    }\r\n\r\n    let helpFields = Object.keys(mappingFields);\r\n    const idIndex = helpFields.findIndex((item) => item === 'id');\r\n    if (helpFields.includes('id') && idIndex !== 0) {\r\n      helpFields.splice(idIndex, 1);\r\n      helpFields = ['id', ...helpFields];\r\n    }\r\n    const that = this;\r\n    helpFields.forEach((f: any) => {\r\n\r\n      // 1、获取字段值\r\n      // 如果helpData有选中值，则获取帮助数据源里对应你字段的值；\r\n      // 如果helpData没有值（清空场景），则返回一个空字符串\r\n      let val: any = '';\r\n      if (helpData) {\r\n        if (helpData instanceof Array) {\r\n          val = helpData\r\n            .map((h: any) => {\r\n              return this.getValue(f, h);\r\n            })\r\n            .join(',');\r\n        } else {\r\n          val = that.getValue(f, helpData);\r\n        }\r\n      }\r\n\r\n      // 2、设置字段值\r\n      // 如果helpData不存在（清空场景），获取BindingData里对应字段的值，如果是数值，则设置0，其他设置上一步中的空字符串；\r\n      // 如果helpData存在：直接设置上一步中获取的值。\r\n      const pathArr = that.getBindingPathArray();\r\n      mappingFields[f].split(',').forEach((ff: any) => {\r\n        if (!helpData) {\r\n        } else {\r\n          that.viewModelContext.bindingData.setValue(\r\n            pathArr.concat(ff.split('.')),\r\n            val,\r\n            true,\r\n            true\r\n          );\r\n        }\r\n      });\r\n    });\r\n\r\n  }\r\n\r\n  /**\r\n   * 获取字段值\r\n   */\r\n  public getFieldValue(fieldPath: string) {\r\n    const bindingPathArray = this.getBindingPathArray();\r\n    const fieldPathArray = bindingPathArray.concat(fieldPath.split('.'));\r\n    return this.viewModelContext.bindingData.getValue(fieldPathArray);\r\n  }\r\n\r\n  private getValue(f: string, data: any) {\r\n    let val = '';\r\n    if (f.indexOf('.') === -1) {\r\n      val = data[f];\r\n    } else {\r\n      val = f.split('.').reduce((a, b) => {\r\n        return a[b];\r\n      }, data);\r\n    }\r\n    return val;\r\n  }\r\n\r\n  private getBindingPathArray(): any[] {\r\n    const path = this.viewModelContext.bindingData.bindingPath;\r\n    if (path) {\r\n      return path.split('/').filter((n) => n !== '');\r\n    }\r\n    return [];\r\n  }\r\n}\r\n","import { Subject } from 'rxjs';\r\nimport { MarkerLocation } from './location.interface';\r\nimport { MapOperation } from './map-operation.interface';\r\nexport class CloudPlusMapOperation implements MapOperation {\r\n\r\n    constructor(private location$: Subject<any>) {\r\n    }\r\n    /**\r\n     * 云上协同  调用获取当前位置接口\r\n     */\r\n    getCurrentLoc() {\r\n        // 具体实现\r\n        if (window['iCityBridge']) {\r\n            const iCityBridge = window['iCityBridge'];\r\n            iCityBridge.ccworkGetLocation((result: any) => {\r\n                alert(JSON.stringify(result));\r\n                // 结果预处理\r\n\r\n                // 发布位置结果\r\n                this.location$.next(this.assembleMarkers(result));\r\n            });\r\n        }\r\n    }\r\n\r\n    // 获取定位回调\r\n    private locationCallback(result?: any) {\r\n        alert(JSON.stringify(result));\r\n        // 结果预处理\r\n\r\n        // 发布位置结果\r\n        this.location$.next(this.assembleMarkers(result));\r\n    }\r\n\r\n\r\n    /**\r\n     * 组装坐标结果\r\n     * @param res 结果\r\n     */\r\n    private assembleMarkers(res) {\r\n        const loc: MarkerLocation = res.result;\r\n        return [{ position: [Number(loc.lng), Number(loc.lat)], visible: true, draggable: true }];\r\n    }\r\n}\r\n","import { Subject } from 'rxjs';\r\nimport { MapOperation } from './map-operation.interface';\r\n\r\nexport abstract class MapService {\r\n    // 地图操作接口\r\n    public locationInstance: MapOperation;\r\n\r\n    public location$ = new Subject();\r\n    /**\r\n     * 获取当前位置\r\n     */\r\n    getCurrentLocation() {\r\n        this.locationInstance.getCurrentLoc();\r\n    }\r\n\r\n    /**\r\n     * 获取坐标集合\r\n     */\r\n    getMapMarkers() {\r\n        return this.location$;\r\n    }\r\n\r\n    setMapMarkers() {\r\n        // this.locationInstance.location$.subscribe((res) => {\r\n        //     this.markers.next(res);\r\n        // });\r\n    }\r\n}\r\n","import { CloudPlusMapOperation } from './cloud-plus-map-operation';\r\nimport { MapService } from './map.service';\r\n\r\nexport class CloudPlusMapService extends MapService {\r\n    constructor() {\r\n        super();\r\n        this.locationInstance = new CloudPlusMapOperation(this.location$);\r\n    }\r\n}\r\n\r\n\r\n","import { BefLookupDataService, BefRepository } from '@farris/mobile-bef';\r\nimport { CloudPlusAttachment } from './attachment/attachment-children.service';\r\nimport { AttachmentService } from './attachment/attachment.service';\r\nimport { UploadAttachmentService } from './attachment/upload-attachment.service';\r\nimport { LookupMappingService } from './lookup-mapping.service';\r\nimport { CloudPlusMapService } from './map/cloud-plus-map.service';\r\nimport { MapService } from './map/map.service';\r\n\r\n/**\r\n * 映射Providers\r\n */\r\nfunction mapProviders() {\r\n  return function provide() {\r\n    const viewModel = this.$getViewModel();\r\n    const lookupDataService = new BefLookupDataService(viewModel.context);\r\n    const lookupMappingService = new LookupMappingService(viewModel.context);\r\n    // 云上协同附件服务\r\n    const attachmentService: AttachmentService = new CloudPlusAttachment();\r\n    // caf提供附件上传和预览接口调用\r\n    const uploadAttachmentService: UploadAttachmentService =\r\n      new UploadAttachmentService(viewModel.context.repository as BefRepository<any>);\r\n    // 云上协同地图服务\r\n    const mapService: MapService = new CloudPlusMapService();\r\n    const providers = {\r\n      LookupHttpService: lookupDataService,\r\n      LookupMappingFn: lookupMappingService,\r\n      uploadAttachmentService,\r\n      attachmentService,\r\n      mapService\r\n    };\r\n    return providers;\r\n  };\r\n}\r\n\r\nexport { mapProviders }","const bindListviewExtenderDir = {\r\n\r\n  mounted: function(el, binding, vnode, oldVnode) {\r\n    const componentInstance = vnode.componentInstance as any;\r\n    console.log(componentInstance);\r\n    componentInstance.$bindComponentExtender(componentInstance, 'Listview');\r\n  },\r\n\r\n  unmounted: function(el, binding, vnode, oldVnode) {\r\n    const componentInstance = vnode.componentInstance as any;\r\n    componentInstance.$unbindComponentExtender(componentInstance);\r\n  }\r\n};\r\n\r\nexport { bindListviewExtenderDir };\r\n","const bindLookupExtenderDir = {\r\n\r\n  mounted: function(el, binding, vnode, oldVnode) {\r\n    const componentInstance = vnode.componentInstance as any;\r\n    componentInstance.$bindComponentExtender(componentInstance, 'Lookup');\r\n  },\r\n\r\n  unmounted: function(el, binding, vnode, oldVnode) {\r\n    const componentInstance = vnode.componentInstance as any;\r\n    componentInstance.$unbindComponentExtender(componentInstance);\r\n  }\r\n};\r\n\r\nexport { bindLookupExtenderDir };\r\n","const bindFilterExtenderDir = {\r\n\r\n  mounted: function(el, binding, vnode, oldVnode) {\r\n    const componentInstance = vnode.componentInstance as any;\r\n    componentInstance.$bindComponentExtender(componentInstance, 'Filter');\r\n  },\r\n\r\n  unmounted: function(el, binding, vnode, oldVnode) {\r\n    const componentInstance = vnode.componentInstance as any;\r\n    componentInstance.$unbindComponentExtender(componentInstance);\r\n  }\r\n};\r\n\r\nexport { bindFilterExtenderDir };\r\n\r\n","const bindTabExtenderDir = {\r\n\r\n  mounted: function (el, binding, vnode, oldVnode) {\r\n    const componentInstance = vnode.componentInstance as any;\r\n    componentInstance.$bindComponentExtender(componentInstance, 'Tab');\r\n  },\r\n\r\n  unmounted: function (el, binding, vnode, oldVnode) {\r\n    const componentInstance = vnode.componentInstance as any;\r\n    componentInstance.$unbindComponentExtender(componentInstance);\r\n  }\r\n};\r\n\r\nexport { bindTabExtenderDir };\r\n\r\n","\r\nconst bindSearchExtenderDir = {\r\n\r\n  mounted: function(el, binding, vnode, oldVnode) {\r\n    const componentInstance = vnode.children[0].children[0].componentInstance as any;\r\n    componentInstance.$bindComponentExtender(componentInstance, 'Search');\r\n  },\r\n\r\n  unmounted: function(el, binding, vnode, oldVnode) {\r\n    const componentInstance = vnode.children[0].children[0].componentInstance as any;\r\n    componentInstance.$unbindComponentExtender(componentInstance);\r\n  }\r\n};\r\n\r\nexport { bindSearchExtenderDir };\r\n\r\n","\r\nconst bindRefleshExtenderDir =  {\r\n\r\n  mounted: function(el, binding, vnode, oldVnode) {\r\n    const componentInstance = vnode.componentInstance as any;\r\n    componentInstance.$bindComponentExtender(componentInstance, 'Reflesh');\r\n  },\r\n\r\n  unmounted: function(el, binding, vnode, oldVnode) {\r\n    const componentInstance = vnode.componentInstance as any;\r\n    componentInstance.$unbindComponentExtender(componentInstance);\r\n  }\r\n};\r\n\r\nexport { bindRefleshExtenderDir };\r\n\r\n","const bindCheckboxExtenderDir =  {\r\n\r\n  mounted: function(el, binding, vnode, oldVnode) {\r\n    const componentInstance = vnode.componentInstance as any;\r\n    componentInstance.$bindComponentExtender(componentInstance, 'Checkbox');\r\n  },\r\n\r\n  unmounted: function(el, binding, vnode, oldVnode) {\r\n    const componentInstance = vnode.componentInstance as any;\r\n    componentInstance.$unbindComponentExtender(componentInstance);\r\n  }\r\n};\r\n\r\nexport { bindCheckboxExtenderDir };\r\n\r\n","const bindAttachmentExtenderDir = {\r\n\r\n  mounted: function (el, binding, vnode, oldVnode) {\r\n    const componentInstance = vnode.componentInstance as any;\r\n    componentInstance.$bindComponentExtender(componentInstance, 'Attachment');\r\n  },\r\n\r\n  unmounted: function (el, binding, vnode, oldVnode) {\r\n    const componentInstance = vnode.componentInstance as any;\r\n    componentInstance.$unbindComponentExtender(componentInstance);\r\n  }\r\n};\r\n\r\nexport { bindAttachmentExtenderDir };\r\n\r\n","const bindMapExtenderDir = {\r\n\r\n  mounted: function (el, binding, vnode, oldVnode) {\r\n    const componentInstance = vnode.componentInstance as any;\r\n    const value = binding.value;\r\n    componentInstance.lngPath = value.lngPath;\r\n    componentInstance.latPath = value.latPath;\r\n    componentInstance.$bindComponentExtender(componentInstance, 'Map');\r\n  },\r\n\r\n  // update: function (el, binding, vnode, oldVnode) {\r\n    //     const newValue = binding.value;\r\n    //     const componentInstance = vnode.componentInstance as any;\r\n    //     // 监听响应式变化\r\n    //     componentInstance.resizeEnable = newValue.resizeEnable;\r\n    //     // 是否可以拖动\r\n    //     componentInstance.dragEnable = newValue.dragEnable;\r\n    //     // 初始化缩放大小\r\n    //     componentInstance.zoom = newValue.zoom;\r\n    //     componentInstance.zoomEnable = newValue.zoomEnable;\r\n    //     // 地图中心点经纬度\r\n    //     componentInstance.center = newValue.center;\r\n    //     console.log(el);\r\n    //     console.log(binding);\r\n    //     console.log(vnode);\r\n    //     console.log(oldVnode);\r\n    // },\r\n\r\n  unmounted: function (el, binding, vnode, oldVnode) {\r\n    const componentInstance = vnode.componentInstance as any;\r\n    componentInstance.$unbindComponentExtender(componentInstance);\r\n  }\r\n};\r\n\r\nexport { bindMapExtenderDir };\r\n\r\n","import { BindingValueConverter, DateUtil } from '@farris/mobile-devkit';\r\n\r\n/**\r\n * 日期转换器\r\n */\r\nclass DateConverter implements BindingValueConverter {\r\n\r\n  /**\r\n   * 构造函数\r\n   * @param format 日期格式\r\n   */\r\n  constructor(private format: string) {\r\n  }\r\n\r\n  /**\r\n   * 控件值（Date对象）=>数据源（字符串）\r\n   */\r\n  convertFrom(value: Date): string {\r\n    if (!value) {\r\n      return '0001-01-01T00:00:00';\r\n    }\r\n\r\n    const format = this.format ? this.format : 'yyyy-MM-dd HH:mm:ss';\r\n    return DateUtil.format(value, format);\r\n  }\r\n\r\n  /**\r\n   * 数据源（字符串）=> 控件值（Date对象）\r\n   */\r\n  convertTo(value: string): Date {\r\n    if (DateUtil.isEmptyDateString(value) === true) {\r\n      return null;\r\n    }\r\n    return DateUtil.parse(value);\r\n  }\r\n\r\n}\r\nexport { DateConverter };\r\n","import { BindingValueConverter } from '@farris/mobile-devkit';\r\n\r\n/**\r\n * 字符串数组转换器\r\n */\r\nclass StringArrayConverter implements BindingValueConverter {\r\n\r\n  constructor(private separator: string = ',') {\r\n  }\r\n\r\n  /**\r\n   * 控件值（字符串数组）=>数据源（字符串）\r\n   */\r\n  convertFrom(value: string[]): string {\r\n    return value.join(this.separator);\r\n  }\r\n\r\n  /**\r\n   * 数据源（字符串）=> 控件值（字符串数组）\r\n   */\r\n  convertTo(value: string): string[] {\r\n    return value.split(this.separator);\r\n  }\r\n}\r\n\r\nexport { StringArrayConverter };\r\n","\r\n\r\nimport { getDataByPath, getAttachmentUrl } from '../utils';\r\nexport const filterData = (rawData: any, field: string, rootId: string, isComponentAdapter = true) => {\r\n    const splitFiled = field.split('/');\r\n    const fields = splitFiled.filter(ele => ele);\r\n\r\n    if (!isComponentAdapter) {\r\n        // 单条数据\r\n        const data = getDataByPath(rawData, fields);\r\n        let url = '/platform/common/web/assets/imgs/no-pic.png';\r\n        // 附件不存在\r\n        if (!data || !data.attachmentId) {\r\n            return url;\r\n        }\r\n        // 附件存在\r\n        const extensionName = data.fileName.substring(data.fileName.lastIndexOf('.') + 1);\r\n        url = getAttachmentUrl(data.attachmentId, rootId, extensionName);\r\n        return url;\r\n    }\r\n    const transformData = rawData.map(everyData => {\r\n        const data = getDataByPath(everyData, fields);\r\n        let url = '/platform/common/web/assets/imgs/no-pic.png';\r\n        if (!data || !data.attachmentId) {\r\n            return {\r\n                url,\r\n                id: everyData.id,\r\n                attachmentId: data.attachmentId,\r\n                name: '',\r\n                size: 0,\r\n                createTime: ''\r\n            };\r\n        }\r\n        const extensionName = data.fileName.substring(data.fileName.lastIndexOf('.') + 1);\r\n        url = getAttachmentUrl(data.attachmentId, rootId, extensionName);\r\n        return {\r\n            url,\r\n            id: everyData.id,\r\n            attachmentId: data.attachmentId,\r\n            name: data.fileName,\r\n            size: data.fileSize,\r\n            createTime: data.fileCreateTime\r\n        };\r\n    });\r\n    return transformData;\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","\r\nimport { getDataByPath } from '../utils';\r\nexport const filterMapData = (currentEntityData: any, lng: string, lat: string) => {\r\n\r\n    // 经度\r\n    const lngData = getDataByPath(currentEntityData, lng.split('/'));\r\n    // 纬度\r\n    const latData = getDataByPath(currentEntityData, lat.split('/'));\r\n    return [{ position: [lngData || 117.12212, latData || 35.3243] }];\r\n};\r\n\r\n\r\n\r\n","import { createApp } from 'vue'\r\nimport { DevkitPlugin } from './devkit.plugin';\r\nimport {\r\n  bindListviewExtenderDir,\r\n  bindLookupExtenderDir,\r\n  bindFilterExtenderDir,\r\n  bindSearchExtenderDir,\r\n  bindRefleshExtenderDir,\r\n  bindTabExtenderDir,\r\n  bindCheckboxExtenderDir,\r\n  bindAttachmentExtenderDir,\r\n  bindMapExtenderDir\r\n} from './directives/index';\r\n\r\n\r\nclass AppCreator {\r\n\r\n  /**\r\n   * Vue应用\r\n   */\r\n  public static app: any = null;\r\n  \r\n  /**\r\n   * 创建Vue应用\r\n   */\r\n  public static createApp(rootComponent: any): any {\r\n    this.app = createApp(rootComponent);\r\n\r\n    // 注册内置插件\r\n    this.app.use(DevkitPlugin);\r\n    \r\n    // 注册指令\r\n    // this.createDirective('bind-listview-extender', bindListviewExtenderDir);\r\n    // this.createDirective('bind-lookup-extender', bindLookupExtenderDir);\r\n    // this.createDirective('bind-filter-extender', bindFilterExtenderDir);\r\n    // this.createDirective('bind-serach-extender', bindSearchExtenderDir);\r\n    // this.createDirective('bind-refresh-extender', bindRefleshExtenderDir);\r\n    // this.createDirective('bind-tab-extender', bindTabExtenderDir);\r\n    // this.createDirective('bind-checkbox-extender', bindCheckboxExtenderDir);\r\n    // this.createDirective('bind-attachment-extender', bindAttachmentExtenderDir);\r\n    // this.createDirective('bind-map-extender', bindMapExtenderDir);\r\n\r\n    return this.app;\r\n  }\r\n\r\n  /**\r\n   * \r\n   */\r\n  public static createDirective(directiveName: string, directiveOptions): any {\r\n    this.app.directive(directiveName, directiveOptions);\r\n  }\r\n\r\n}\r\n\r\nexport { AppCreator };\r\n\r\n"],"names":["tslib_1.__extends"],"mappings":"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"}