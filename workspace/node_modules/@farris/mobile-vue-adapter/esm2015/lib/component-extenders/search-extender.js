/**
 * @fileoverview added by tsickle
 * Generated from: lib/component-extenders/search-extender.ts
 * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
/**
 * 列表组件扩展
 */
class SearchExtender {
    /**
     * @param {?} searchInstance
     * @param {?} viewModelContext
     */
    constructor(searchInstance, viewModelContext) {
        this.searchInstance = searchInstance;
        this.viewModelContext = viewModelContext;
    }
    /**
     * 扩展组件
     * @return {?}
     */
    extend() {
        /** @type {?} */
        const self = this;
        // 监听搜索组件
        this.searchInstance.$on('cancel', (/**
         * @param {?} data
         * @return {?}
         */
        (data) => {
            //  清空走查询
            self.viewModelContext.repository.setPaginationInfo({
                pageIndex: 1
            });
            self.viewModelContext.appContext.eventBus.triggerEvent({ type: 'LoadData' });
        }));
        this.searchInstance.$on('search', (/**
         * @param {?} data
         * @return {?}
         */
        (data) => {
            // 如果是确定类型，即走查询
            self.viewModelContext.repository.setPaginationInfo({
                pageIndex: 1
            });
            self.viewModelContext.appContext.eventBus.triggerEvent({ type: 'LoadData' });
        }));
    }
    /**
     * 清理状态
     * @return {?}
     */
    dispose() {
        this.searchInstance.$off('cancel');
        this.searchInstance.$off('search');
    }
}
if (false) {
    /**
     * @type {?}
     * @private
     */
    SearchExtender.prototype.searchInstance;
    /**
     * @type {?}
     * @private
     */
    SearchExtender.prototype.viewModelContext;
}
export { SearchExtender };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2VhcmNoLWV4dGVuZGVyLmpzIiwic291cmNlUm9vdCI6Im5nOi8vQGZhcnJpcy9tb2JpbGUtdnVlLWFkYXB0ZXIvIiwic291cmNlcyI6WyJsaWIvY29tcG9uZW50LWV4dGVuZGVycy9zZWFyY2gtZXh0ZW5kZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFNQSxNQUFNLGNBQWM7Ozs7O0lBTWxCLFlBQVksY0FBbUIsRUFBRSxnQkFBcUI7UUFDcEQsSUFBSSxDQUFDLGNBQWMsR0FBRyxjQUFjLENBQUM7UUFDckMsSUFBSSxDQUFDLGdCQUFnQixHQUFHLGdCQUFnQixDQUFDO0lBQzNDLENBQUM7Ozs7O0lBS0QsTUFBTTs7Y0FDRSxJQUFJLEdBQUcsSUFBSTtRQUNqQixTQUFTO1FBQ1QsSUFBSSxDQUFDLGNBQWMsQ0FBQyxHQUFHLENBQUMsUUFBUTs7OztRQUFFLENBQUMsSUFBSSxFQUFFLEVBQUU7WUFDekMsU0FBUztZQUNULElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxVQUFVLENBQUMsaUJBQWlCLENBQUM7Z0JBQ2pELFNBQVMsRUFBRSxDQUFDO2FBQ2IsQ0FBQyxDQUFBO1lBQ0YsSUFBSSxDQUFDLGdCQUFnQixDQUFDLFVBQVUsQ0FBQyxRQUFRLENBQUMsWUFBWSxDQUFDLEVBQUUsSUFBSSxFQUFFLFVBQVUsRUFBRSxDQUFDLENBQUE7UUFDOUUsQ0FBQyxFQUFDLENBQUM7UUFDSCxJQUFJLENBQUMsY0FBYyxDQUFDLEdBQUcsQ0FBQyxRQUFROzs7O1FBQUUsQ0FBQyxJQUFJLEVBQUUsRUFBRTtZQUN2QyxlQUFlO1lBQ2YsSUFBSSxDQUFDLGdCQUFnQixDQUFDLFVBQVUsQ0FBQyxpQkFBaUIsQ0FBQztnQkFDakQsU0FBUyxFQUFFLENBQUM7YUFDYixDQUFDLENBQUE7WUFDRixJQUFJLENBQUMsZ0JBQWdCLENBQUMsVUFBVSxDQUFDLFFBQVEsQ0FBQyxZQUFZLENBQUMsRUFBRSxJQUFJLEVBQUUsVUFBVSxFQUFFLENBQUMsQ0FBQTtRQUNoRixDQUFDLEVBQUMsQ0FBQztJQUNMLENBQUM7Ozs7O0lBS0QsT0FBTztRQUNMLElBQUksQ0FBQyxjQUFjLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBQ25DLElBQUksQ0FBQyxjQUFjLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDO0lBQ3JDLENBQUM7Q0FFRjs7Ozs7O0lBdkNDLHdDQUE0Qjs7Ozs7SUFFNUIsMENBQTJDOztBQXVDN0MsT0FBTyxFQUFFLGNBQWMsRUFBRSxDQUFBIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgVmlld01vZGVsQ29udGV4dCB9IGZyb20gJ0BmYXJyaXMvbW9iaWxlLWRldmtpdCc7XHJcbmltcG9ydCB7IENvbXBvbmVudEV4dGVuZGVyIH0gZnJvbSAnLi9jb21wb25lbnQtZXh0ZW5kZXInO1xyXG5cclxuLyoqXHJcbiAqIOWIl+ihqOe7hOS7tuaJqeWxlVxyXG4gKi9cclxuY2xhc3MgU2VhcmNoRXh0ZW5kZXIgaW1wbGVtZW50cyBDb21wb25lbnRFeHRlbmRlciB7XHJcblxyXG4gIHByaXZhdGUgc2VhcmNoSW5zdGFuY2U6IGFueTtcclxuXHJcbiAgcHJpdmF0ZSB2aWV3TW9kZWxDb250ZXh0OiBWaWV3TW9kZWxDb250ZXh0O1xyXG5cclxuICBjb25zdHJ1Y3RvcihzZWFyY2hJbnN0YW5jZTogYW55LCB2aWV3TW9kZWxDb250ZXh0OiBhbnkpIHtcclxuICAgIHRoaXMuc2VhcmNoSW5zdGFuY2UgPSBzZWFyY2hJbnN0YW5jZTtcclxuICAgIHRoaXMudmlld01vZGVsQ29udGV4dCA9IHZpZXdNb2RlbENvbnRleHQ7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiDmianlsZXnu4Tku7ZcclxuICAgKi9cclxuICBleHRlbmQoKSB7XHJcbiAgICBjb25zdCBzZWxmID0gdGhpcztcclxuICAgIC8vIOebkeWQrOaQnOe0oue7hOS7tlxyXG4gICAgdGhpcy5zZWFyY2hJbnN0YW5jZS4kb24oJ2NhbmNlbCcsIChkYXRhKSA9PiB7XHJcbiAgICAgIC8vICDmuIXnqbrotbDmn6Xor6JcclxuICAgICAgc2VsZi52aWV3TW9kZWxDb250ZXh0LnJlcG9zaXRvcnkuc2V0UGFnaW5hdGlvbkluZm8oe1xyXG4gICAgICAgIHBhZ2VJbmRleDogMVxyXG4gICAgICB9KVxyXG4gICAgICBzZWxmLnZpZXdNb2RlbENvbnRleHQuYXBwQ29udGV4dC5ldmVudEJ1cy50cmlnZ2VyRXZlbnQoeyB0eXBlOiAnTG9hZERhdGEnIH0pXHJcbiAgICB9KTtcclxuICAgIHRoaXMuc2VhcmNoSW5zdGFuY2UuJG9uKCdzZWFyY2gnLCAoZGF0YSkgPT4ge1xyXG4gICAgICAgIC8vIOWmguaenOaYr+ehruWumuexu+Wei++8jOWNs+i1sOafpeivolxyXG4gICAgICAgIHNlbGYudmlld01vZGVsQ29udGV4dC5yZXBvc2l0b3J5LnNldFBhZ2luYXRpb25JbmZvKHtcclxuICAgICAgICAgIHBhZ2VJbmRleDogMVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgc2VsZi52aWV3TW9kZWxDb250ZXh0LmFwcENvbnRleHQuZXZlbnRCdXMudHJpZ2dlckV2ZW50KHsgdHlwZTogJ0xvYWREYXRhJyB9KVxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiDmuIXnkIbnirbmgIFcclxuICAgKi9cclxuICBkaXNwb3NlKCkge1xyXG4gICAgdGhpcy5zZWFyY2hJbnN0YW5jZS4kb2ZmKCdjYW5jZWwnKTtcclxuICAgIHRoaXMuc2VhcmNoSW5zdGFuY2UuJG9mZignc2VhcmNoJyk7XHJcbiAgfVxyXG5cclxufVxyXG5cclxuZXhwb3J0IHsgU2VhcmNoRXh0ZW5kZXIgfSJdfQ==