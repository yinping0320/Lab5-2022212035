/**
 * @fileoverview added by tsickle
 * Generated from: lib/utils/attachment-util.ts
 * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
/** @type {?} */
const mergeString = (/**
 * @param {?} str
 * @param {?} str1
 * @return {?}
 */
(str, str1) => {
    /** @type {?} */
    let min = str.length < str1.length ? str.length : str1.length;
    /** @type {?} */
    let res = "";
    /** @type {?} */
    let i = 0;
    for (i = 0; i < min; i++) {
        res += str.substring(i, i + 1);
        res += str1.substring(i, i + 1);
    }
    res += str.length < str1.length ? str1.substring(i) : str.substring(i);
    return res;
});
const ɵ0 = mergeString;
/** @type {?} */
const getToken = (/**
 * @param {?} str
 * @return {?}
 */
(str) => {
    /** @type {?} */
    let array = [1, 2, 3];
    if (str.length > 24) {
        str = str.substring(0, 24);
    }
    /** @type {?} */
    let length = Math.floor(str.length / 3);
    /** @type {?} */
    let str1 = str.substring(0, length);
    /** @type {?} */
    let str2 = str.substring(length, 2 * length);
    /** @type {?} */
    let str3 = str.substring(2 * length, 3 * length);
    /** @type {?} */
    let randomArray = [];
    /** @type {?} */
    var random = Math.ceil(Math.random() * 3);
    randomArray.push(array[random - 1]);
    array.splice(random - 1, 1);
    random = Math.ceil(Math.random() * 2);
    randomArray.push(array[random - 1]);
    array.splice(random - 1, 1);
    randomArray.push(array[0]);
    /** @type {?} */
    let timeStamp = Math.round(new Date().getTime() / 1000) + "";
    return timeStamp.substring(0, 5) + "times" + randomArray[0] + ""
        + randomArray[1] + "" + randomArray[2] + switchStr(str1, str2, str3, randomArray[0])
        + switchStr(str1, str2, str3, randomArray[1]) +
        switchStr(str1, str2, str3, randomArray[2]) + "times" + timeStamp.substring(5);
});
const ɵ1 = getToken;
/** @type {?} */
const switchStr = (/**
 * @param {?} str1
 * @param {?} str2
 * @param {?} str3
 * @param {?} i
 * @return {?}
 */
(str1, str2, str3, i) => {
    switch (i) {
        case 1: return str1;
        case 2: return str2;
        case 3: return str3;
    }
});
const ɵ2 = switchStr;
/** @type {?} */
const officeUrl = {
    doc: '/platform/common/web/assets/fm-attachment/word.png',
    docx: '/platform/common/web/assets/fm-attachment/word.png',
    xls: '/platform/common/web/assets/fm-attachment/excel.png',
    xlsx: '/platform/common/web/assets/fm-attachment/excel.png',
    ppt: '/platform/common/web/assets/fm-attachment/ppt.png',
    pptx: '/platform/common/web/assets/fm-attachment/ppt.png',
    pdf: '/platform/common/web/assets/fm-attachment/pdf.png',
    txt: '/platform/common/web/assets/fm-attachment/txt.png',
    jpg: '/platform/common/web/assets/fm-attachment/img.png',
    jpeg: '/platform/common/web/assets/fm-attachment/img.png',
    png: '/platform/common/web/assets/fm-attachment/img.png'
};
/** @type {?} */
const getAttachmentUrl = (/**
 * @param {?} attachmentId
 * @param {?} rootId
 * @param {?} extensionName
 * @return {?}
 */
(attachmentId, rootId, extensionName) => {
    /** @type {?} */
    const officeUrlKey = Object.keys(officeUrl).find((/**
     * @param {?} url
     * @return {?}
     */
    url => url === extensionName.toLowerCase()));
    if (!officeUrlKey) {
        return `/api/runtime/dfs/v1.0/doc/filecontent?metadataid=${attachmentId}&rootid=${rootId}&token=${getToken(mergeString(attachmentId, rootId))}`;
    }
    return officeUrl[extensionName.toLowerCase()];
});
const ɵ3 = getAttachmentUrl;
export { getAttachmentUrl, getToken, mergeString };
export { ɵ0, ɵ1, ɵ2, ɵ3 };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXR0YWNobWVudC11dGlsLmpzIiwic291cmNlUm9vdCI6Im5nOi8vQGZhcnJpcy9tb2JpbGUtdnVlLWFkYXB0ZXIvIiwic291cmNlcyI6WyJsaWIvdXRpbHMvYXR0YWNobWVudC11dGlsLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7OztNQUFNLFdBQVc7Ozs7O0FBQUcsQ0FBQyxHQUFHLEVBQUUsSUFBSSxFQUFFLEVBQUU7O1FBQzFCLEdBQUcsR0FBRyxHQUFHLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxNQUFNOztRQUN6RCxHQUFHLEdBQUcsRUFBRTs7UUFDUixDQUFDLEdBQUcsQ0FBQztJQUNULEtBQUssQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsR0FBRyxFQUFFLENBQUMsRUFBRSxFQUFFO1FBQ3RCLEdBQUcsSUFBSSxHQUFHLENBQUMsU0FBUyxDQUFDLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDL0IsR0FBRyxJQUFJLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztLQUNuQztJQUNELEdBQUcsSUFBSSxHQUFHLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDdkUsT0FBTyxHQUFHLENBQUM7QUFDZixDQUFDLENBQUE7OztNQUVLLFFBQVE7Ozs7QUFBRyxDQUFDLEdBQUcsRUFBRSxFQUFFOztRQUNqQixLQUFLLEdBQUcsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQztJQUNyQixJQUFJLEdBQUcsQ0FBQyxNQUFNLEdBQUcsRUFBRSxFQUFFO1FBQUUsR0FB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QUksRUFBRSxtREFBbUQ7SUFDekQsR0FBRyxFQUFFLG1EQUFtRDtDQUMzRDs7TUFDSyxnQkFBZ0I7Ozs7OztBQUFHLENBQUMsWUFBb0IsRUFBRSxNQUFjLEVBQUUsYUFBcUIsRUFBRSxFQUFFOztVQUMvRSxZQUFZLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQyxJQUFJOzs7O0lBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLEtBQUssYUFBYSxDQUFDLFdBQVcsRUFBRSxFQUFDO0lBQzVGLElBQUksQ0FBQyxZQUFZLEVBQUU7UUFDZixPQUFPLG9EQUFvRCxZQUFZLFdBQVcsTUFBTSxVQUFVLFFBQVEsQ0FBQyxXQUFXLENBQUMsWUFBWSxFQUFFLE1BQU0sQ0FBQyxDQUFDLEVBQUUsQ0FBQztLQUNuSjtJQUNELE9BQU8sU0FBUyxDQUFDLGFBQWEsQ0FBQyxXQUFXLEVBQUUsQ0FBQyxDQUFDO0FBQ2xELENBQUMsQ0FBQTs7QUFJRCxPQUFPLEVBQUUsZ0JBQWdCLEVBQUUsUUFBUSxFQUFFLFdBQVcsRUFBRSxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgbWVyZ2VTdHJpbmcgPSAoc3RyLCBzdHIxKSA9PiB7XHJcbiAgICBsZXQgbWluID0gc3RyLmxlbmd0aCA8IHN0cjEubGVuZ3RoID8gc3RyLmxlbmd0aCA6IHN0cjEubGVuZ3RoO1xyXG4gICAgbGV0IHJlcyA9IFwiXCI7XHJcbiAgICBsZXQgaSA9IDA7XHJcbiAgICBmb3IgKGkgPSAwOyBpIDwgbWluOyBpKyspIHtcclxuICAgICAgICByZXMgKz0gc3RyLnN1YnN0cmluZyhpLCBpICsgMSk7XHJcbiAgICAgICAgcmVzICs9IHN0cjEuc3Vic3RyaW5nKGksIGkgKyAxKTtcclxuICAgIH1cclxuICAgIHJlcyArPSBzdHIubGVuZ3RoIDwgc3RyMS5sZW5ndGggPyBzdHIxLnN1YnN0cmluZyhpKSA6IHN0ci5zdWJzdHJpbmcoaSk7XHJcbiAgICByZXR1cm4gcmVzO1xyXG59XHJcblxyXG5jb25zdCBnZXRUb2tlbiA9IChzdHIpID0+IHtcclxuICAgIGxldCBhcnJheSA9IFsxLCAyLCAzXTtcclxuICAgIGlmIChzdHIubGVuZ3RoID4gMjQpIHsgc3RyID0gc3RyLnN1YnN0cmluZygwLCAyNCk7IH1cclxuICAgIGxldCBsZW5ndGggPSBNYXRoLmZsb29yKHN0ci5sZW5ndGggLyAzKTtcclxuICAgIGxldCBzdHIxID0gc3RyLnN1YnN0cmluZygwLCBsZW5ndGgpO1xyXG4gICAgbGV0IHN0cjIgPSBzdHIuc3Vic3RyaW5nKGxlbmd0aCwgMiAqIGxlbmd0aCk7XHJcbiAgICBsZXQgc3RyMyA9IHN0ci5zdWJzdHJpbmcoMiAqIGxlbmd0aCwgMyAqIGxlbmd0aCk7XHJcbiAgICBsZXQgcmFuZG9tQXJyYXkgPSBbXTtcclxuICAgIHZhciByYW5kb20gPSBNYXRoLmNlaWwoTWF0aC5yYW5kb20oKSAqIDMpO1xyXG4gICAgcmFuZG9tQXJyYXkucHVzaChhcnJheVtyYW5kb20gLSAxXSk7XHJcbiAgICBhcnJheS5zcGxpY2UocmFuZG9tIC0gMSwgMSk7XHJcbiAgICByYW5kb20gPSBNYXRoLmNlaWwoTWF0aC5yYW5kb20oKSAqIDIpO1xyXG4gICAgcmFuZG9tQXJyYXkucHVzaChhcnJheVtyYW5kb20gLSAxXSk7XHJcbiAgICBhcnJheS5zcGxpY2UocmFuZG9tIC0gMSwgMSk7XHJcbiAgICByYW5kb21BcnJheS5wdXNoKGFycmF5WzBdKTtcclxuICAgIGxldCB0aW1lU3RhbXAgPSBNYXRoLnJvdW5kKG5ldyBEYXRlKCkuZ2V0VGltZSgpIC8gMTAwMCkgKyBcIlwiO1xyXG4gICAgcmV0dXJuIHRpbWVTdGFtcC5zdWJzdHJpbmcoMCwgNSkgKyBcInRpbWVzXCIgKyByYW5kb21BcnJheVswXSArIFwiXCJcclxuICAgICAgICArIHJhbmRvbUFycmF5WzFdICsgXCJcIiArIHJhbmRvbUFycmF5WzJdICsgc3dpdGNoU3RyKHN0cjEsIHN0cjIsIHN0cjMsIHJhbmRvbUFycmF5WzBdKVxyXG4gICAgICAgICsgc3dpdGNoU3RyKHN0cjEsIHN0cjIsIHN0cjMsIHJhbmRvbUFycmF5WzFdKSArXHJcbiAgICAgICAgc3dpdGNoU3RyKHN0cjEsIHN0cjIsIHN0cjMsIHJhbmRvbUFycmF5WzJdKSArIFwidGltZXNcIiArIHRpbWVTdGFtcC5zdWJzdHJpbmcoNSk7XHJcbn07XHJcblxyXG5jb25zdCBzd2l0Y2hTdHIgPSAoc3RyMSwgc3RyMiwgc3RyMywgaSkgPT4ge1xyXG4gICAgc3dpdGNoIChpKSB7XHJcbiAgICAgICAgY2FzZSAxOiByZXR1cm4gc3RyMTtcclxuICAgICAgICBjYXNlIDI6IHJldHVybiBzdHIyO1xyXG4gICAgICAgIGNhc2UgMzogcmV0dXJuIHN0cjM7XHJcbiAgICB9XHJcbn07XHJcblxyXG5jb25zdCBvZmZpY2VVcmwgPSB7XHJcbiAgICBkb2M6ICcvcGxhdGZvcm0vY29tbW9uL3dlYi9hc3NldHMvZm0tYXR0YWNobWVudC93b3JkLnBuZycsXHJcbiAgICBkb2N4OiAnL3BsYXRmb3JtL2NvbW1vbi93ZWIvYXNzZXRzL2ZtLWF0dGFjaG1lbnQvd29yZC5wbmcnLFxyXG4gICAgeGxzOiAnL3BsYXRmb3JtL2NvbW1vbi93ZWIvYXNzZXRzL2ZtLWF0dGFjaG1lbnQvZXhjZWwucG5nJyxcclxuICAgIHhsc3g6ICcvcGxhdGZvcm0vY29tbW9uL3dlYi9hc3NldHMvZm0tYXR0YWNobWVudC9leGNlbC5wbmcnLFxyXG4gICAgcHB0OiAnL3BsYXRmb3JtL2NvbW1vbi93ZWIvYXNzZXRzL2ZtLWF0dGFjaG1lbnQvcHB0LnBuZycsXHJcbiAgICBwcHR4OiAnL3BsYXRmb3JtL2NvbW1vbi93ZWIvYXNzZXRzL2ZtLWF0dGFjaG1lbnQvcHB0LnBuZycsXHJcbiAgICBwZGY6ICcvcGxhdGZvcm0vY29tbW9uL3dlYi9hc3NldHMvZm0tYXR0YWNobWVudC9wZGYucG5nJyxcclxuICAgIHR4dDogJy9wbGF0Zm9ybS9jb21tb24vd2ViL2Fzc2V0cy9mbS1hdHRhY2htZW50L3R4dC5wbmcnLFxyXG4gICAganBnOiAnL3BsYXRmb3JtL2NvbW1vbi93ZWIvYXNzZXRzL2ZtLWF0dGFjaG1lbnQvaW1nLnBuZycsXHJcbiAgICBqcGVnOiAnL3BsYXRmb3JtL2NvbW1vbi93ZWIvYXNzZXRzL2ZtLWF0dGFjaG1lbnQvaW1nLnBuZycsXHJcbiAgICBwbmc6ICcvcGxhdGZvcm0vY29tbW9uL3dlYi9hc3NldHMvZm0tYXR0YWNobWVudC9pbWcucG5nJ1xyXG59O1xyXG5jb25zdCBnZXRBdHRhY2htZW50VXJsID0gKGF0dGFjaG1lbnRJZDogc3RyaW5nLCByb290SWQ6IHN0cmluZywgZXh0ZW5zaW9uTmFtZTogc3RyaW5nKSA9PiB7XHJcbiAgICBjb25zdCBvZmZpY2VVcmxLZXkgPSBPYmplY3Qua2V5cyhvZmZpY2VVcmwpLmZpbmQodXJsID0+IHVybCA9PT0gZXh0ZW5zaW9uTmFtZS50b0xvd2VyQ2FzZSgpKTtcclxuICAgIGlmICghb2ZmaWNlVXJsS2V5KSB7XHJcbiAgICAgICAgcmV0dXJuIGAvYXBpL3J1bnRpbWUvZGZzL3YxLjAvZG9jL2ZpbGVjb250ZW50P21ldGFkYXRhaWQ9JHthdHRhY2htZW50SWR9JnJvb3RpZD0ke3Jvb3RJZH0mdG9rZW49JHtnZXRUb2tlbihtZXJnZVN0cmluZyhhdHRhY2htZW50SWQsIHJvb3RJZCkpfWA7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gb2ZmaWNlVXJsW2V4dGVuc2lvbk5hbWUudG9Mb3dlckNhc2UoKV07XHJcbn07XHJcblxyXG5cclxuXHJcbmV4cG9ydCB7IGdldEF0dGFjaG1lbnRVcmwsIGdldFRva2VuLCBtZXJnZVN0cmluZyB9O1xyXG4iXX0=