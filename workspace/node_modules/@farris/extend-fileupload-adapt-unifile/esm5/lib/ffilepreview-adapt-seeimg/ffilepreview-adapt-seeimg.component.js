/**
 * @fileoverview added by tsickle
 * Generated from: lib/ffilepreview-adapt-seeimg/ffilepreview-adapt-seeimg.component.ts
 * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { Component, ElementRef, Input, HostBinding } from '@angular/core';
import { FfilepreviewAdaptUnifileService } from './../ffilepreview-adapt-unifile.service';
var FfilepreviewAdaptSeeimgComponent = /** @class */ (function () {
    function FfilepreviewAdaptSeeimgComponent(adpSer, elementRef) {
        this.adpSer = adpSer;
        this.elementRef = elementRef;
        this.cls = true;
        // 是否启用图片的缩略图，默认为false；如果启用，图片类型会出现缩略图；不启用，根据类型显示图标
        this.enableThumbnail = false;
        // 图标的样式前缀
        this.clsPrefix = 'ffilepreview--filetype';
        // 显示缩略图中时，定义哪些后缀属于图片;
        this.supportImgSuffix = 'jpeg,jpg,gif,png,bmp';
        this.iconWidth = 38;
        // 缩略图的最大宽度
        this.maxThumbnailWidth = '100%';
        // 缩略图的最小宽度
        this.maxThumbnailHeight = '100%';
        // 处理扩展的服务器端配置，这样可以支持每个指令预览不同的目录，比如{'rootId':'default-root','formId':'formId'}
        this.extendServerConfig = null;
    }
    /**
     * @return {?}
     */
    FfilepreviewAdaptSeeimgComponent.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
    };
    /**
     * 获取图片的链接
     */
    /**
     * 获取图片的链接
     * @return {?}
     */
    FfilepreviewAdaptSeeimgComponent.prototype.imgSrc = /**
     * 获取图片的链接
     * @return {?}
     */
    function () {
        return this.adpSer.getImgSrc(this.fileInfo, this.extendServerConfig);
    };
    /**
     * 判断是否是图片
     */
    /**
     * 判断是否是图片
     * @return {?}
     */
    FfilepreviewAdaptSeeimgComponent.prototype.isImage = /**
     * 判断是否是图片
     * @return {?}
     */
    function () {
        // 没有数据
        if (!this.fileInfo) {
            return false;
        }
        // 没有名称
        /** @type {?} */
        var fileName = this.fileInfo.name;
        if (!fileName) {
            return false;
        }
        /** @type {?} */
        var lastDotIndex = fileName.lastIndexOf(".");
        /** @type {?} */
        var fileSuffix = '';
        if (lastDotIndex > -1) {
            fileSuffix = fileName.substring(lastDotIndex + 1).toLocaleLowerCase();
        }
        if (!fileSuffix) {
            return false;
        }
        /** @type {?} */
        var tImgSuffixArray = this.supportImgSuffix.split(',');
        /** @type {?} */
        var tIndex = tImgSuffixArray.findIndex((/**
         * @param {?} item
         * @return {?}
         */
        function (item) {
            return item == fileSuffix;
        }));
        if (tIndex > -1) {
            return true;
        }
        return false;
    };
    /**
     * 获取文件类型样式
     */
    /**
     * 获取文件类型样式
     * @return {?}
     */
    FfilepreviewAdaptSeeimgComponent.prototype.getFileTypeClassName = /**
     * 获取文件类型样式
     * @return {?}
     */
    function () {
        /** @type {?} */
        var clsName = this.clsPrefix;
        // 如果名称为空
        if (!this.fileInfo || !this.fileInfo['name']) {
            return clsName + '-any';
        }
        /** @type {?} */
        var fileName = this.fileInfo['name'];
        /** @type {?} */
        var lastDotIndex = fileName.lastIndexOf(".");
        /** @type {?} */
        var fileSuffix = '';
        if (lastDotIndex > -1) {
            fileSuffix = fileName.substring(lastDotIndex + 1).toLocaleLowerCase();
        }
        switch (fileSuffix) {
            case 'pdf':
                clsName += '-pdf';
                break;
            case 'jpeg':
            case 'jpg':
            case 'gif':
            case 'png':
            case 'bmp':
                clsName += '-img';
                break;
            case 'ppt':
                clsName += '-ppt';
                break;
            case 'doc':
            case 'docx':
                clsName += '-doc';
                break;
            case 'xls':
            case 'xlsx':
                clsName += '-xls';
                break;
            case 'txt':
                clsName += '-txt';
                break;
            case 'zip':
                clsName += '-zip';
                break;
            default:
                clsName += '-any';
        }
        return clsName;
    };
    FfilepreviewAdaptSeeimgComponent.decorators = [
        { type: Component, args: [{
                    selector: 'ffilepreview-adapt-seeimg',
                    template: "<div class=\"ffilepreview-seeimg--wrapper\" [ngClass]=\"{'ffilepreview-seeimg--thumbnail':enableThumbnail}\">\r\n  <ng-container *ngIf=\"enableThumbnail&&isImage();else notImage\">\r\n    <img class=\"ffilepreview-seeimg--img\" [src]=\"imgSrc()\" [ngStyle]=\"{'maxWidth':maxThumbnailWidth,'maxHeight':maxThumbnailHeight}\"/>\r\n  </ng-container>\r\n</div>\r\n<ng-template #notImage>\r\n  <span class=\"ffilepreview--filetype-icon\" [ngClass]=\"getFileTypeClassName()\" [ngStyle]=\"{'width':iconWidth+'px','height':iconWidth+'px'}\"></span>\r\n</ng-template>",
                    styles: [":host{height:100%;width:100%;position:relative}.ffilepreview-seeimg--thumbnail{top:0;bottom:0;position:absolute;right:0;left:0;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;-webkit-box-pack:center;justify-content:center}.ffilepreview-seeimg--wrapper:hover{opacity:.8}.ffilepreview-seeimg--img{max-width:100%;max-height:100%;border-radius:4px}"]
                }] }
    ];
    /** @nocollapse */
    FfilepreviewAdaptSeeimgComponent.ctorParameters = function () { return [
        { type: FfilepreviewAdaptUnifileService },
        { type: ElementRef }
    ]; };
    FfilepreviewAdaptSeeimgComponent.propDecorators = {
        cls: [{ type: HostBinding, args: ['class.ffilepreview-adapt-seeimg',] }],
        enableThumbnail: [{ type: Input }],
        clsPrefix: [{ type: Input }],
        supportImgSuffix: [{ type: Input }],
        fileInfo: [{ type: Input }],
        iconWidth: [{ type: Input }],
        maxThumbnailWidth: [{ type: Input }],
        maxThumbnailHeight: [{ type: Input }],
        extendServerConfig: [{ type: Input }]
    };
    return FfilepreviewAdaptSeeimgComponent;
}());
export { FfilepreviewAdaptSeeimgComponent };
if (false) {
    /** @type {?} */
    FfilepreviewAdaptSeeimgComponent.prototype.cls;
    /** @type {?} */
    FfilepreviewAdaptSeeimgComponent.prototype.enableThumbnail;
    /** @type {?} */
    FfilepreviewAdaptSeeimgComponent.prototype.clsPrefix;
    /** @type {?} */
    FfilepreviewAdaptSeeimgComponent.prototype.supportImgSuffix;
    /** @type {?} */
    FfilepreviewAdaptSeeimgComponent.prototype.fileInfo;
    /** @type {?} */
    FfilepreviewAdaptSeeimgComponent.prototype.iconWidth;
    /** @type {?} */
    FfilepreviewAdaptSeeimgComponent.prototype.maxThumbnailWidth;
    /** @type {?} */
    FfilepreviewAdaptSeeimgComponent.prototype.maxThumbnailHeight;
    /** @type {?} */
    FfilepreviewAdaptSeeimgComponent.prototype.extendServerConfig;
    /**
     * @type {?}
     * @private
     */
    FfilepreviewAdaptSeeimgComponent.prototype.adpSer;
    /**
     * @type {?}
     * @private
     */
    FfilepreviewAdaptSeeimgComponent.prototype.elementRef;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZmZpbGVwcmV2aWV3LWFkYXB0LXNlZWltZy5jb21wb25lbnQuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9AZmFycmlzL2V4dGVuZC1maWxldXBsb2FkLWFkYXB0LXVuaWZpbGUvIiwic291cmNlcyI6WyJsaWIvZmZpbGVwcmV2aWV3LWFkYXB0LXNlZWltZy9mZmlsZXByZXZpZXctYWRhcHQtc2VlaW1nLmNvbXBvbmVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7OztBQUFBLE9BQU8sRUFBRSxTQUFTLEVBQVUsVUFBVSxFQUFFLEtBQUssRUFBRSxXQUFXLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFFbEYsT0FBTyxFQUFFLCtCQUErQixFQUFFLE1BQU0seUNBQXlDLENBQUM7QUFFMUY7SUFzQkUsMENBQW9CLE1BQXVDLEVBQVUsVUFBc0I7UUFBdkUsV0FBTSxHQUFOLE1BQU0sQ0FBaUM7UUFBVSxlQUFVLEdBQVYsVUFBVSxDQUFZO1FBaEIzQyxRQUFHLEdBQUcsSUFBSSxDQUFDOztRQUVsRCxvQkFBZSxHQUFHLEtBQUssQ0FBQzs7UUFFeEIsY0FBUyxHQUFHLHdCQUF3QixDQUFDOztRQUVyQyxxQkFBZ0IsR0FBRyxzQkFBc0IsQ0FBQztRQUcxQyxjQUFTLEdBQUMsRUFBRSxDQUFDOztRQUViLHNCQUFpQixHQUFHLE1BQU0sQ0FBQzs7UUFFM0IsdUJBQWtCLEdBQUcsTUFBTSxDQUFDOztRQUU1Qix1QkFBa0IsR0FBRSxJQUFJLENBQUM7SUFDNkQsQ0FBQzs7OztJQUVoRyxtREFBUTs7O0lBQVI7SUFDQSxDQUFDO0lBQ0Q7O09BRUc7Ozs7O0lBQ0gsaURBQU07Ozs7SUFBTjtRQUNFLE9BQU8sSUFBSSxDQUFDLE1BQU0sQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLFFBQVEsRUFBRSxJQUFJLENBQUMsa0JBQWtCLENBQUMsQ0FBQztJQUN2RSxDQUFDO0lBQ0Q7O09BRUc7Ozs7O0lBQ0gsa0RBQU87Ozs7SUFBUDtRQUNFLE9BQU87UUFDUCxJQUFJLENBQUMsSUFB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RUwsS0FBSztxQ0FFTCxLQUFLO3FDQUVMLEtBQUs7O0lBMEZSLHVDQUFDO0NBQUEsQUEvR0QsSUErR0M7U0ExR1ksZ0NBQWdDOzs7SUFDM0MsK0NBQTJEOztJQUUzRCwyREFBaUM7O0lBRWpDLHFEQUE4Qzs7SUFFOUMsNERBQW1EOztJQUVuRCxvREFBcUM7O0lBQ3JDLHFEQUFzQjs7SUFFdEIsNkRBQW9DOztJQUVwQyw4REFBcUM7O0lBRXJDLDhEQUFrQzs7Ozs7SUFDdEIsa0RBQStDOzs7OztJQUFFLHNEQUE4QiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbXBvbmVudCwgT25Jbml0LCBFbGVtZW50UmVmLCBJbnB1dCwgSG9zdEJpbmRpbmcgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuaW1wb3J0IHsgRlVwbG9hZEZpbGVFeHRlbmQgfSBmcm9tICdAZmFycmlzL2V4dGVuZC1maWxlLXVwbG9hZCc7XHJcbmltcG9ydCB7IEZmaWxlcHJldmlld0FkYXB0VW5pZmlsZVNlcnZpY2UgfSBmcm9tICcuLy4uL2ZmaWxlcHJldmlldy1hZGFwdC11bmlmaWxlLnNlcnZpY2UnO1xyXG5cclxuQENvbXBvbmVudCh7XHJcbiAgc2VsZWN0b3I6ICdmZmlsZXByZXZpZXctYWRhcHQtc2VlaW1nJyxcclxuICB0ZW1wbGF0ZVVybDogJy4vZmZpbGVwcmV2aWV3LWFkYXB0LXNlZWltZy5jb21wb25lbnQuaHRtbCcsXHJcbiAgc3R5bGVVcmxzOiBbJy4vZmZpbGVwcmV2aWV3LWFkYXB0LXNlZWltZy5jb21wb25lbnQuY3NzJ11cclxufSlcclxuZXhwb3J0IGNsYXNzIEZmaWxlcHJldmlld0FkYXB0U2VlaW1nQ29tcG9uZW50IGltcGxlbWVudHMgT25Jbml0IHtcclxuICBASG9zdEJpbmRpbmcoJ2NsYXNzLmZmaWxlcHJldmlldy1hZGFwdC1zZWVpbWcnKSBjbHMgPSB0cnVlO1xyXG4gIC8vIOaYr+WQpuWQr+eUqOWbvueJh+eahOe8qeeVpeWbvu+8jOm7mOiupOS4umZhbHNl77yb5aaC5p6c5ZCv55So77yM5Zu+54mH57G75Z6L5Lya5Ye6546w57yp55Wl5Zu+77yb5LiN5ZCv55So77yM5qC55o2u57G75Z6L5pi+56S65Zu+5qCHXHJcbiAgQElucHV0KCkgZW5hYmxlVGh1bWJuYWlsID0gZmFsc2U7XHJcbiAgLy8g5Zu+5qCH55qE5qC35byP5YmN57yAXHJcbiAgQElucHV0KCkgY2xzUHJlZml4ID0gJ2ZmaWxlcHJldmlldy0tZmlsZXR5cGUnO1xyXG4gIC8vIOaYvuekuue8qeeVpeWbvuS4reaXtu+8jOWumuS5ieWTquS6m+WQjue8gOWxnuS6juWbvueJhztcclxuICBASW5wdXQoKSBzdXBwb3J0SW1nU3VmZml4ID0gJ2pwZWcsanBnLGdpZixwbmcsYm1wJztcclxuICAvLyDpmYTku7bkv6Hmga9cclxuICBASW5wdXQoKSBmaWxlSW5mbzogRlVwbG9hZEZpbGVFeHRlbmQ7XHJcbiAgQElucHV0KCkgaWNvbldpZHRoPTM4O1xyXG4gIC8vIOe8qeeVpeWbvueahOacgOWkp+WuveW6plxyXG4gIEBJbnB1dCgpIG1heFRodW1ibmFpbFdpZHRoID0gJzEwMCUnO1xyXG4gIC8vIOe8qeeVpeWbvueahOacgOWwj+WuveW6plxyXG4gIEBJbnB1dCgpIG1heFRodW1ibmFpbEhlaWdodCA9ICcxMDAlJztcclxuICAvLyDlpITnkIbmianlsZXnmoTmnI3liqHlmajnq6/phY3nva7vvIzov5nmoLflj6/ku6XmlK/mjIHmr4/kuKrmjIfku6TpooTop4jkuI3lkIznmoTnm67lvZXvvIzmr5TlpoJ7J3Jvb3RJZCc6J2RlZmF1bHQtcm9vdCcsJ2Zvcm1JZCc6J2Zvcm1JZCd9XHJcbiAgQElucHV0KCkgZXh0ZW5kU2VydmVyQ29uZmlnID1udWxsO1xyXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgYWRwU2VyOiBGZmlsZXByZXZpZXdBZGFwdFVuaWZpbGVTZXJ2aWNlLCBwcml2YXRlIGVsZW1lbnRSZWY6IEVsZW1lbnRSZWYpIHsgfVxyXG5cclxuICBuZ09uSW5pdCgpIHtcclxuICB9XHJcbiAgLyoqXHJcbiAgICog6I635Y+W5Zu+54mH55qE6ZO+5o6lXHJcbiAgICovXHJcbiAgaW1nU3JjKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuYWRwU2VyLmdldEltZ1NyYyh0aGlzLmZpbGVJbmZvLCB0aGlzLmV4dGVuZFNlcnZlckNvbmZpZyk7XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIOWIpOaWreaYr+WQpuaYr+WbvueJh1xyXG4gICAqL1xyXG4gIGlzSW1hZ2UoKSB7XHJcbiAgICAvLyDmsqHmnInmlbDmja5cclxuICAgIGlmICghdGhpcy5maWxlSW5mbykge1xyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICAvLyDmsqHmnInlkI3np7BcclxuICAgIGxldCBmaWxlTmFtZSA9IHRoaXMuZmlsZUluZm8ubmFtZTtcclxuICAgIGlmICghZmlsZU5hbWUpIHtcclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gICAgbGV0IGxhc3REb3RJbmRleCA9IGZpbGVOYW1lLmxhc3RJbmRleE9mKFwiLlwiKTtcclxuICAgIGxldCBmaWxlU3VmZml4ID0gJyc7XHJcbiAgICBpZiAobGFzdERvdEluZGV4ID4gLTEpIHtcclxuICAgICAgZmlsZVN1ZmZpeCA9IGZpbGVOYW1lLnN1YnN0cmluZyhsYXN0RG90SW5kZXggKyAxKS50b0xvY2FsZUxvd2VyQ2FzZSgpO1xyXG4gICAgfVxyXG4gICAgaWYgKCFmaWxlU3VmZml4KSB7XHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIGxldCB0SW1nU3VmZml4QXJyYXkgPSB0aGlzLnN1cHBvcnRJbWdTdWZmaXguc3BsaXQoJywnKTtcclxuICAgIGxldCB0SW5kZXggPSB0SW1nU3VmZml4QXJyYXkuZmluZEluZGV4KGl0ZW0gPT4ge1xyXG4gICAgICByZXR1cm4gaXRlbSA9PSBmaWxlU3VmZml4O1xyXG4gICAgfSk7XHJcbiAgICBpZiAodEluZGV4ID4gLTEpIHtcclxuICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIOiOt+WPluaWh+S7tuexu+Wei+agt+W8j1xyXG4gICAqL1xyXG4gIGdldEZpbGVUeXBlQ2xhc3NOYW1lKCkge1xyXG5cclxuICAgIGxldCBjbHNOYW1lID0gdGhpcy5jbHNQcmVmaXg7XHJcbiAgICAvLyDlpoLmnpzlkI3np7DkuLrnqbpcclxuICAgIGlmICghdGhpcy5maWxlSW5mbyB8fCAhdGhpcy5maWxlSW5mb1snbmFtZSddKSB7XHJcbiAgICAgIHJldHVybiBjbHNOYW1lICsgJy1hbnknO1xyXG4gICAgfVxyXG4gICAgbGV0IGZpbGVOYW1lID0gdGhpcy5maWxlSW5mb1snbmFtZSddO1xyXG4gICAgbGV0IGxhc3REb3RJbmRleCA9IGZpbGVOYW1lLmxhc3RJbmRleE9mKFwiLlwiKTtcclxuICAgIGxldCBmaWxlU3VmZml4ID0gJyc7XHJcbiAgICBpZiAobGFzdERvdEluZGV4ID4gLTEpIHtcclxuICAgICAgZmlsZVN1ZmZpeCA9IGZpbGVOYW1lLnN1YnN0cmluZyhsYXN0RG90SW5kZXggKyAxKS50b0xvY2FsZUxvd2VyQ2FzZSgpO1xyXG4gICAgfVxyXG4gICAgc3dpdGNoIChmaWxlU3VmZml4KSB7XHJcbiAgICAgIGNhc2UgJ3BkZic6XHJcbiAgICAgICAgY2xzTmFtZSArPSAnLXBkZic7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgJ2pwZWcnOlxyXG4gICAgICBjYXNlICdqcGcnOlxyXG4gICAgICBjYXNlICdnaWYnOlxyXG4gICAgICBjYXNlICdwbmcnOlxyXG4gICAgICBjYXNlICdibXAnOlxyXG4gICAgICAgIGNsc05hbWUgKz0gJy1pbWcnO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlICdwcHQnOlxyXG4gICAgICAgIGNsc05hbWUgKz0gJy1wcHQnO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlICdkb2MnOlxyXG4gICAgICBjYXNlICdkb2N4JzpcclxuICAgICAgICBjbHNOYW1lICs9ICctZG9jJztcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSAneGxzJzpcclxuICAgICAgY2FzZSAneGxzeCc6XHJcbiAgICAgICAgY2xzTmFtZSArPSAnLXhscyc7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgJ3R4dCc6XHJcbiAgICAgICAgY2xzTmFtZSArPSAnLXR4dCc7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgJ3ppcCc6XHJcbiAgICAgICAgY2xzTmFtZSArPSAnLXppcCc7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgY2xzTmFtZSArPSAnLWFueSc7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gY2xzTmFtZTtcclxuICB9XHJcbn1cclxuIl19