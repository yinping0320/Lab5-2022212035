/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { Component, Input, Output, EventEmitter, forwardRef } from '@angular/core';
import { NG_VALUE_ACCESSOR } from '@angular/forms';
import { IdService } from '@farris/ui-common';
var CheckboxGroupComponent = /** @class */ (function () {
    function CheckboxGroupComponent(idSer) {
        this.idSer = idSer;
        /* 初始化 checkbox 的值 */
        this.model = [];
        /*  */
        this.modelChange = new EventEmitter();
        this.controlChange = (/**
         * @return {?}
         */
        function () { });
        this.controlTouch = (/**
         * @return {?}
         */
        function () { });
    }
    /**
     * @return {?}
     */
    CheckboxGroupComponent.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
        this.name = this.idSer.generate();
    };
    /**
     * @param {?} value
     * @return {?}
     */
    CheckboxGroupComponent.prototype.changeModel = /**
     * @param {?} value
     * @return {?}
     */
    function (value) {
        /** @type {?} */
        var index = this.model.findIndex((/**
         * @param {?} ele
         * @return {?}
         */
        function (ele) {
            return ele === value;
        }));
        // 如果已经选中  则设置为不选中
        if (index > -1) {
            this.model.splice(index, 1);
            return this.modelChange.emit(this.model);
        }
        // 如果没有选中  设置为选中
        this.model.push(value);
        // control的值设置为逗号分隔的字符串  便于存储和传递
        this.controlChange(this.model.join());
        this.modelChange.emit(this.model);
    };
    /**
     * @param {?} value
     * @return {?}
     */
    CheckboxGroupComponent.prototype.writeValue = /**
     * @param {?} value
     * @return {?}
     */
    function (value) {
        this.model = value;
        this.changeModel(this.model);
    };
    /**
     * @param {?} fn
     * @return {?}
     */
    CheckboxGroupComponent.prototype.registerOnChange = /**
     * @param {?} fn
     * @return {?}
     */
    function (fn) {
        this.controlChange = fn;
    };
    /**
     * @param {?} fn
     * @return {?}
     */
    CheckboxGroupComponent.prototype.registerOnTouched = /**
     * @param {?} fn
     * @return {?}
     */
    function (fn) {
        this.controlTouch = fn;
    };
    CheckboxGroupComponent.decorators = [
        { type: Component, args: [{
                    selector: 'farris-checkbox-group',
                    template: "\n    <div class=\"farris-input-wrap\" [class.farris-checkradio-hor]=\"horizontal\">\n      <ng-content></ng-content>\n    </div>\n  ",
                    providers: [{
                            provide: NG_VALUE_ACCESSOR,
                            useExisting: forwardRef((/**
                             * @return {?}
                             */
                            function () { return CheckboxGroupComponent; })),
                            multi: true,
                        }]
                }] }
    ];
    /** @nocollapse */
    CheckboxGroupComponent.ctorParameters = function () { return [
        { type: IdService }
    ]; };
    CheckboxGroupComponent.propDecorators = {
        model: [{ type: Input }],
        name: [{ type: Input }],
        horizontal: [{ type: Input }],
        modelChange: [{ type: Output }]
    };
    return CheckboxGroupComponent;
}());
export { CheckboxGroupComponent };
if (false) {
    /** @type {?} */
    CheckboxGroupComponent.prototype.model;
    /** @type {?} */
    CheckboxGroupComponent.prototype.name;
    /** @type {?} */
    CheckboxGroupComponent.prototype.horizontal;
    /** @type {?} */
    CheckboxGroupComponent.prototype.modelChange;
    /**
     * @type {?}
     * @private
     */
    CheckboxGroupComponent.prototype.controlChange;
    /**
     * @type {?}
     * @private
     */
    CheckboxGroupComponent.prototype.controlTouch;
    /**
     * @type {?}
     * @private
     */
    CheckboxGroupComponent.prototype.idSer;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2hlY2tib3gtZ3JvdXAuY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6Im5nOi8vQGZhcnJpcy91aS1mb3Jtcy8iLCJzb3VyY2VzIjpbImxpYi9jaGVja2JveC9jaGVja2JveC1ncm91cC5jb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7OztBQUFBLE9BQU8sRUFBRSxTQUFTLEVBQVUsS0FBSyxFQUFFLE1BQU0sRUFBRSxZQUFZLEVBQUUsVUFBVSxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBQzNGLE9BQU8sRUFBRSxpQkFBaUIsRUFBd0IsTUFBTSxnQkFBZ0IsQ0FBQztBQUN6RSxPQUFPLEVBQUUsU0FBUyxFQUFFLE1BQU0sbUJBQW1CLENBQUM7QUFDOUM7SUFnQ0ksZ0NBQW9CLEtBQWdCO1FBQWhCLFVBQUssR0FBTCxLQUFLLENBQVc7O1FBZHBDLFVBQUssR0FBRyxFQUFFLENBQUM7O1FBWVgsZ0JBQVcsR0FBRyxJQUFJLFlBQVksRUFBTyxDQUFDO1FBcUM5QixrQkFBYTs7O1FBQWEsY0FBUSxDQUFDLEVBQUE7UUFDbkMsaUJBQVk7OztRQUFhLGNBQVEsQ0FBQyxFQUFBO0lBbkMxQyxDQUFDOzs7O0lBRUQseUNBQVE7OztJQUFSO1FBQ0ksSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLFFBQVEsRUFBRSxDQUFDO0lBQ3RDLENBQUM7Ozs7O0lBRUQsNENBQVc7Ozs7SUFBWCxVQUFZLEtBQVU7O1lBQ1osS0FBSyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsU0FBUzs7OztRQUFDLFVBQUEsR0FBRztZQUNsQyxPQUFPLEdBQUcsS0FBSyxLQUFLLENBQUM7UUFDekIsQ0FBQyxFQUFDO1FBQ0Ysa0JBQWtCO1FBQ2xCLElBQUksS0FBSyxHQUFHLENBQUMsQ0FBQyxFQUFFO1lBQ1osSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsS0FBSyxFQUFFLENBQUMsQ0FBQyxDQUFDO1lBQzVCLE9BQU8sSUFBSSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO1NBQzVDO1FBQ0QsZ0JBQWdCO1FBQ2hCLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQ3ZCLGdDQUFnQztRQUNoQyxJQUFJLENBQUMsYUFBYSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxFQUFFLENBQUMsQ0FBQztRQUN0QyxJQUFJLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDdEMsQ0FBQzs7Ozs7SUFDRCwyQ0FBVTs7OztJQUFWLFVBQVcsS0FBVTtRQUNqQixJQUFJLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQTtRQUNsQixJQUFJLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQTtJQUNoQyxDQUFDOzs7OztJQUVELGlEQUFnQjs7OztJQUFoQixVQUFpQixFQUFZO1FBQ3pCLElBQUksQ0FBQyxhQUFhLEdBQUcsRUFBRSxDQUFBO0lBQzNCLENBQUM7Ozs7O0lBRUQsa0RBQWlCOzs7O0lBQWpCLFVBQWtCLEVBQVk7UUFDMUIsSUFBSSxDQUFDLFlBQVksR0FBRyxFQUFFLENBQUE7SUFDMUIsQ0FBQzs7Z0JBakVKLFNBQVMsU0FBQztvQkFDUCxRQUFRLEVBQUUsdUJBQXVCO29CQUNqQyxRQUFRLEVBQUUsdUlBSVg7b0JBQ0MsU0FBUyxFQUFFLENBQUM7NEJBQ1IsT0FBTyxFQUFFLGlCQUFpQjs0QkFDMUIsV0FBVyxFQUFFLFVBQVU7Ozs0QkFBQyxjQUFNLE9BQUEsc0JBQXNCLEVBQXRCLENBQXNCLEVBQUM7NEJBQ3JELEtBQUssRUFBRSxJQUFJO3lCQUNkLENBQUM7aUJBRUw7Ozs7Z0JBZFEsU0FBUzs7O3dCQWtCYixLQUFLO3VCQUlMLEtBQUs7NkJBSUwsS0FBSzs4QkFJTCxNQUFNOztJQXlDWCw2QkFBQztDQUFBLEFBdEVELElBc0VDO1NBeERZLHNCQUFzQjs7O0lBRy9CLHVDQUNXOztJQUdYLHNDQUNhOztJQUdiLDRDQUNvQjs7SUFHcEIsNkNBQ3NDOzs7OztJQXFDdEMsK0NBQTJDOzs7OztJQUMzQyw4Q0FBMEM7Ozs7O0lBcEM5Qix1Q0FBd0IiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb21wb25lbnQsIE9uSW5pdCwgSW5wdXQsIE91dHB1dCwgRXZlbnRFbWl0dGVyLCBmb3J3YXJkUmVmIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcbmltcG9ydCB7IE5HX1ZBTFVFX0FDQ0VTU09SLCBDb250cm9sVmFsdWVBY2Nlc3NvciB9IGZyb20gJ0Bhbmd1bGFyL2Zvcm1zJztcclxuaW1wb3J0IHsgSWRTZXJ2aWNlIH0gZnJvbSAnQGZhcnJpcy91aS1jb21tb24nO1xyXG5AQ29tcG9uZW50KHtcclxuICAgIHNlbGVjdG9yOiAnZmFycmlzLWNoZWNrYm94LWdyb3VwJyxcclxuICAgIHRlbXBsYXRlOiBgXHJcbiAgICA8ZGl2IGNsYXNzPVwiZmFycmlzLWlucHV0LXdyYXBcIiBbY2xhc3MuZmFycmlzLWNoZWNrcmFkaW8taG9yXT1cImhvcml6b250YWxcIj5cclxuICAgICAgPG5nLWNvbnRlbnQ+PC9uZy1jb250ZW50PlxyXG4gICAgPC9kaXY+XHJcbiAgYCxcclxuICAgIHByb3ZpZGVyczogW3tcclxuICAgICAgICBwcm92aWRlOiBOR19WQUxVRV9BQ0NFU1NPUixcclxuICAgICAgICB1c2VFeGlzdGluZzogZm9yd2FyZFJlZigoKSA9PiBDaGVja2JveEdyb3VwQ29tcG9uZW50KSxcclxuICAgICAgICBtdWx0aTogdHJ1ZSxcclxuICAgIH1dLFxyXG4gICAgc3R5bGVzOiBbXSxcclxufSlcclxuZXhwb3J0IGNsYXNzIENoZWNrYm94R3JvdXBDb21wb25lbnQgaW1wbGVtZW50cyBPbkluaXQsIENvbnRyb2xWYWx1ZUFjY2Vzc29yIHtcclxuXHJcbiAgICAvKiDliJ3lp4vljJYgY2hlY2tib3gg55qE5YC8ICovXHJcbiAgICBASW5wdXQoKVxyXG4gICAgbW9kZWwgPSBbXTtcclxuXHJcbiAgICAvKiDorr7nva7pu5jorqRuYW1l5YC8ICovXHJcbiAgICBASW5wdXQoKVxyXG4gICAgbmFtZTogc3RyaW5nO1xyXG5cclxuICAgIC8qIOaOp+S7tuawtOW5s+aOkuWIlyAqL1xyXG4gICAgQElucHV0KClcclxuICAgIGhvcml6b250YWw6IGJvb2xlYW47XHJcblxyXG4gICAgLyogICovXHJcbiAgICBAT3V0cHV0KClcclxuICAgIG1vZGVsQ2hhbmdlID0gbmV3IEV2ZW50RW1pdHRlcjxhbnk+KCk7XHJcblxyXG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSBpZFNlcjogSWRTZXJ2aWNlKSB7XHJcbiAgICB9XHJcblxyXG4gICAgbmdPbkluaXQoKSB7XHJcbiAgICAgICAgdGhpcy5uYW1lID0gdGhpcy5pZFNlci5nZW5lcmF0ZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIGNoYW5nZU1vZGVsKHZhbHVlOiBhbnkpIHtcclxuICAgICAgICBjb25zdCBpbmRleCA9IHRoaXMubW9kZWwuZmluZEluZGV4KGVsZSA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiBlbGUgPT09IHZhbHVlO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vIOWmguaenOW3sue7j+mAieS4rSAg5YiZ6K6+572u5Li65LiN6YCJ5LitXHJcbiAgICAgICAgaWYgKGluZGV4ID4gLTEpIHtcclxuICAgICAgICAgICAgdGhpcy5tb2RlbC5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5tb2RlbENoYW5nZS5lbWl0KHRoaXMubW9kZWwpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyDlpoLmnpzmsqHmnInpgInkuK0gIOiuvue9ruS4uumAieS4rVxyXG4gICAgICAgIHRoaXMubW9kZWwucHVzaCh2YWx1ZSk7XHJcbiAgICAgICAgLy8gY29udHJvbOeahOWAvOiuvue9ruS4uumAl+WPt+WIhumalOeahOWtl+espuS4siAg5L6/5LqO5a2Y5YKo5ZKM5Lyg6YCSXHJcbiAgICAgICAgdGhpcy5jb250cm9sQ2hhbmdlKHRoaXMubW9kZWwuam9pbigpKTtcclxuICAgICAgICB0aGlzLm1vZGVsQ2hhbmdlLmVtaXQodGhpcy5tb2RlbCk7XHJcbiAgICB9XHJcbiAgICB3cml0ZVZhbHVlKHZhbHVlOiBhbnkpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLm1vZGVsID0gdmFsdWVcclxuICAgICAgICB0aGlzLmNoYW5nZU1vZGVsKHRoaXMubW9kZWwpXHJcbiAgICB9XHJcblxyXG4gICAgcmVnaXN0ZXJPbkNoYW5nZShmbjogRnVuY3Rpb24pOiB2b2lkIHtcclxuICAgICAgICB0aGlzLmNvbnRyb2xDaGFuZ2UgPSBmblxyXG4gICAgfVxyXG5cclxuICAgIHJlZ2lzdGVyT25Ub3VjaGVkKGZuOiBGdW5jdGlvbik6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuY29udHJvbFRvdWNoID0gZm5cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGNvbnRyb2xDaGFuZ2U6IEZ1bmN0aW9uID0gKCkgPT4geyB9XHJcbiAgICBwcml2YXRlIGNvbnRyb2xUb3VjaDogRnVuY3Rpb24gPSAoKSA9PiB7IH1cclxuXHJcbn1cclxuIl19