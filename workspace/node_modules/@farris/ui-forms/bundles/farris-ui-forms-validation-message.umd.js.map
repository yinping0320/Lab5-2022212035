{"version":3,"file":"farris-ui-forms-validation-message.umd.js.map","sources":["ng://@farris/ui-forms/validation-message/validate-msg.component.ts","ng://@farris/ui-forms/validation-message/form-message.module.ts"],"sourcesContent":["import { Component, ElementRef, Input, SimpleChanges, OnChanges } from '@angular/core';\r\n\r\n/**\r\n * å¨è¡¨ådomä¸­å±ç¤ºéè¯¯ä¿¡æ¯\r\n * éè¦å°formControlä¸­çerrorså¯¹è±¡ä¼ å¥\r\n *\r\n * eg: å¨å§åè¾å¥æ¡ä¸æ¹å±ç¤ºéªè¯ä¿¡æ¯\r\n *  å°viewModel.form.name.errorså¯¹è±¡ä¼ å¥\r\n *  <label class=\"k-form-field\">\r\n        <span>å§å</span>\r\n        <input class=\"k-textbox\" formControlName=\"name\" />\r\n        <validationMessage [errors]=\"viewModel.form.name.errors\"></validationMessage>\r\n    </label>\r\n */\r\n\r\n@Component({\r\n  selector: 'validationMessage',\r\n  template: `\r\n      <div class=\"farris-feedback f-state-invalid\">\r\n          <span class=\"f-icon f-icon-message_warning f-feedback-icon\" (click)=\"showErrorMessage=true\" *ngIf=\"!showErrorMessage\"></span>\r\n          <span class=\"f-feedback-message\" *ngIf=\"showErrorMessage\" (click)=\"showErrorMessage=false\">{{this.errorMessage}}</span>\r\n      </div>\r\n    `,\r\n  styles: []\r\n})\r\nclass ValidationMessageComponent implements OnChanges {\r\n  @Input() errors;\r\n  @Input() type: string;\r\n  errorMessage: string;\r\n  // é»è®¤æ¾ç¤ºéè¯¯æ¶æ¯\r\n  public showErrorMessage = true;\r\n  constructor(\r\n    private ele: ElementRef,\r\n  ) {\r\n\r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges): void {\r\n    this.errorMessage = this.getErrorMessage(this.errors);\r\n    this.ele.nativeElement.style.display = !this.errorMessage ? 'none' : 'block';\r\n  }\r\n  private getErrorMessage(errors) {\r\n    if (!errors) {\r\n      return null;\r\n    } else {\r\n      let errorMessage = '';\r\n      Object.keys(errors).forEach(key => {\r\n        if (errors[key].name) {\r\n          errorMessage = errorMessage + ' ' + errors[key].name;\r\n        }\r\n      });\r\n      return errorMessage;\r\n    }\r\n  }\r\n}\r\nexport { ValidationMessageComponent };\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { ValidationMessageComponent } from './validate-msg.component';\r\n\r\n@NgModule({\r\n    imports: [\r\n        CommonModule\r\n    ],\r\n    declarations: [\r\n        ValidationMessageComponent\r\n    ],\r\n    exports: [\r\n        ValidationMessageComponent\r\n    ]\r\n})\r\nexport class FormMessageModule {\r\n}\r\n"],"names":["Component","ElementRef","Input","NgModule","CommonModule"],"mappings":";;;;;;;;;;AAAA;;;;;;;;;;;;AAeA;QAgBE,oCACU,GAAe;YAAf,QAAG,GAAH,GAAG,CAAY;;YAFlB,qBAAgB,GAAG,IAAI,CAAC;SAK9B;;;;;QAED,gDAAW;;;;YAAX,UAAY,OAAsB;gBAChC,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;gBACtD,IAAI,CAAC,GAAG,CAAC,aAAa,CAAC,KAAK,CAAC,OAAO,GAAG,CAAC,IAAI,CAAC,YAAY,GAAG,MAAM,GAAG,OAAO,CAAC;aAC9E;;;;;;QACO,oDAAe;;;;;YAAvB,UAAwB,MAAM;gBAC5B,IAAI,CAAC,MAAM,EAAE;oBACX,OAAO,IAAI,CAAC;iBACb;qBAAM;;wBACD,cAAY,GAAG,EAAE;oBACrB,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,OAAO;;;uBAAC,UAAA,GAAG;wBAC7B,IAAI,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,EAAE;4BACpB,cAAY,GAAG,cAAY,GAAG,GAAG,GAAG,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC;yBACtD;qBACF,EAAC,CAAC;oBACH,OAAO,cAAY,CAAC;iBACrB;aACF;;oBAtCFA,cAAS,SAAC;wBACT,QAAQ,EAAE,mBAAmB;wBAC7B,QAAQ,EAAE,qWAKP;qBAEJ;;;;;wBAxBmBC,eAAU;;;;6BA0B3BC,UAAK;2BACLA,UAAK;;QA2BR,iCAAC;KAvCD;;;;;;ACfA;QAIA;SAYC;;oBAZAC,aAAQ,SAAC;wBACN,OAAO,EAAE;4BACLC,mBAAY;yBACf;wBACD,YAAY,EAAE;4BACV,0BAA0B;yBAC7B;wBACD,OAAO,EAAE;4BACL,0BAA0B;yBAC7B;qBACJ;;QAED,wBAAC;KAZD;;;;;;;;;;;;;;;;;;;;;;;"}
