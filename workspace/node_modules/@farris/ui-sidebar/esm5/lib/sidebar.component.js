/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { Component, Input, ContentChild, EventEmitter, Output, Renderer2, ElementRef, ViewChild } from '@angular/core';
import { FarrisSidebarIconDirective } from './directive/sidebar-icon.directive';
import { FarrisSidebarService } from './sidebar.service';
import { FarrisSidebarTitleDirective } from './directive/sidebar-title.directive';
import { FarrisSidebarHeaderDirective } from './directive/sidebar-header.directive';
import { FarrisSidebarHcontentDirective } from './directive/sidebar-hcontent.directive';
import { FarrisSidebarToolbarDirective } from './directive/sidebar-toolbar.directive';
import { FarrisSidebarContentDirective } from './directive/sidebar-content.directive';
import { FarrisSidebarFooterDirective } from './directive/sidebar-footer.directive';
var FarrisSidebarComponent = /** @class */ (function () {
    function FarrisSidebarComponent(sidebarService, renderer, elementRef) {
        var _this = this;
        this.sidebarService = sidebarService;
        this.renderer = renderer;
        this.elementRef = elementRef;
        this.showClose = false;
        this.showHeader = true;
        this.showEntry = true;
        this.title = "";
        this.showFooter = false;
        this._width = '350px';
        this._height = '30%';
        /* 侧边栏显示 */
        this.isOpen = false;
        /* 侧边栏显示位置 */
        this.showPos = 'right';
        this.enableScroll = true;
        /* 点击遮罩是否关闭侧边栏 */
        this.maskClosable = true;
        /* 是否显示遮罩 */
        this.maskable = true;
        //展开效果
        // @Input() openWay = 'float'
        //是否可拖拽，有点问题（然后没这个特性）
        this.resizeable = false;
        this.changeState = new EventEmitter();
        this.canRemoveInitNoAnimateCls = true;
        this.sidebarService.getIsOpen().subscribe((/**
         * @param {?} data
         * @return {?}
         */
        function (data) {
            if (data === false) {
                _this.closeSideBar();
            }
            else {
                _this.openSideBar();
            }
        }));
        this.el = this.elementRef.nativeElement;
    }
    Object.defineProperty(FarrisSidebarComponent.prototype, "width", {
        /* 侧边栏大小 */
        get: /* 侧边栏大小 */
        /**
         * @return {?}
         */
        function () {
            return this._width;
        },
        set: /**
         * @param {?} value
         * @return {?}
         */
        function (value) {
            this._width = this._resolveSize(value);
        },
        enumerable: true,
        configurable: true
    });
    ;
    Object.defineProperty(FarrisSidebarComponent.prototype, "height", {
        get: /**
         * @return {?}
         */
        function () {
            return this._height;
        },
        set: /**
         * @param {?} value
         * @return {?}
         */
        function (value) {
            this._height = this._resolveSize(value);
        },
        enumerable: true,
        configurable: true
    });
    /**
     * @return {?}
     */
    FarrisSidebarComponent.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
        // const mainEl = this.el.querySelector('.f-sidebar-main');
        // this.renderer.setStyle(mainEl, 'width', this._width);
    };
    /**
     * @return {?}
     */
    FarrisSidebarComponent.prototype.ngAfterContentInit = /**
     * @return {?}
     */
    function () {
        this.entryTemplate = this.entryDirective && this.entryDirective.templateRef;
        this.parentEl = this.el.parentElement;
        this.renderer.addClass(this.parentEl, 'f-sidebar-parent');
        if (this.parentCls) {
            this.renderer.addClass(this.parentEl, this.parentCls);
        }
    };
    /*宽高类型是 string或者number 解析宽高  尺寸 */
    /*宽高类型是 string或者number 解析宽高  尺寸 */
    /**
     * @param {?} size
     * @return {?}
     */
    FarrisSidebarComponent.prototype._resolveSize = /*宽高类型是 string或者number 解析宽高  尺寸 */
    /**
     * @param {?} size
     * @return {?}
     */
    function (size) {
        /** @type {?} */
        var regex = /px|em|rem|pt|%/;
        // 说明是字符串
        return regex.test(size) ? "" + parseInt(size, 10) + size.match(regex)[0] : size + "px";
    };
    /**
     * @return {?}
     */
    FarrisSidebarComponent.prototype.toggle = /**
     * @return {?}
     */
    function () {
        this.isOpen = !this.isOpen;
        this.changeState.emit(this.isOpen);
        if (this.isOpen === true) {
            this.renderer.removeClass(this.parentEl, 'f-sidebar-parent-collapse');
            this.renderer.addClass(this.parentEl, 'f-sidebar-parent-expand');
        }
        if (this.isOpen === false) {
            this.renderer.removeClass(this.parentEl, 'f-sidebar-parent-expand');
            this.renderer.addClass(this.parentEl, 'f-sidebar-parent-collapse');
        }
        // const prevEl = this.el.previousElementSibling;
        // if(this.isOpen === true && this.openWay !== 'float'){
        //   this.renderer.setStyle(prevEl, `${this.showPos}`, this.width + 'px');
        //   this.renderer.addClass(this.parentEl, 'f-sidebar-parent-show');
        //   this.renderer.removeClass(this.parentEl, 'f-sidebar-parent-collapse');
        //   this.maskable = false;
        // }
        // if(this.isOpen === false && this.openWay !== 'float'){
        //   this.renderer.addClass(this.parentEl, 'f-sidebar-parent');
        //   this.renderer.addClass(this.parentEl, 'f-sidebar-parent-collapse');
        //   this.renderer.removeClass(this.parentEl, 'f-sidebar-parent-show');
        //   this.renderer.setStyle(prevEl, `${this.showPos}`, 0);
        // }   
        // if(this.isOpen === true && this.openWay !== 'fold'){
        //   this.maskable = true;
        // }
    };
    /**
     * @return {?}
     */
    FarrisSidebarComponent.prototype.closeSideBar = /**
     * @return {?}
     */
    function () {
        var _this = this;
        this.removeNoneAnimateCls();
        if (this.beforeClose) {
            this.beforeClose().subscribe((/**
             * @param {?} isOpen
             * @return {?}
             */
            function (isOpen) {
                _this.isOpen = !isOpen;
            }));
        }
        else {
            this.isOpen = false;
        }
        this.renderer.removeClass(this.parentEl, 'f-sidebar-parent-expand');
        this.renderer.addClass(this.parentEl, 'f-sidebar-parent-collapse');
    };
    /**
     * @return {?}
     */
    FarrisSidebarComponent.prototype.closeSideBarByMask = /**
     * @return {?}
     */
    function () {
        if (!this.maskClosable) {
            return;
        }
        this.closeSideBar();
    };
    /**
     * @return {?}
     */
    FarrisSidebarComponent.prototype.openSideBar = /**
     * @return {?}
     */
    function () {
        this.removeNoneAnimateCls();
        this.isOpen = true;
        this.renderer.removeClass(this.parentEl, 'f-sidebar-parent-collapse');
        this.renderer.addClass(this.parentEl, 'f-sidebar-parent-expand');
    };
    /*侧边栏初始因为动画收起时，会被看到, 移除 */
    /*侧边栏初始因为动画收起时，会被看到, 移除 */
    /**
     * @private
     * @return {?}
     */
    FarrisSidebarComponent.prototype.removeNoneAnimateCls = /*侧边栏初始因为动画收起时，会被看到, 移除 */
    /**
     * @private
     * @return {?}
     */
    function () {
        if (!this.canRemoveInitNoAnimateCls) {
            return;
        }
        if (this.sidebarMainEl) {
            this.renderer.removeClass(this.sidebarMainEl.nativeElement, 'f-sidebar-slideinit');
            this.canRemoveInitNoAnimateCls = false;
        }
    };
    /**
     * @return {?}
     */
    FarrisSidebarComponent.prototype.getStyleData = /**
     * @return {?}
     */
    function () {
    };
    FarrisSidebarComponent.decorators = [
        { type: Component, args: [{
                    selector: 'farris-sidebar',
                    template: "\n  <div class=\"f-cmp-sidebar f-sidebar-slide\" [class]=\"'f-sidebar-pos-'+showPos\"\n  [ngClass]=\"{'f-sidebar-show': isOpen, 'f-sidebar-collapse': !isOpen }\">\n    <div class=\"f-sidebar-main f-sidebar-slideinit\" [ngClass]=\"mainCls\" #sidebarMain [ngStyle]=\"{width:'leftright'.indexOf(showPos)>-1?width:'auto',height:'topbottom'.indexOf(showPos)>-1?height:'auto'}\" >\n      <div class=\"f-sidebar-header\" *ngIf=\"showHeader\" [ngClass]=\"headerDirective && headerDirective.headerCls\">\n        <ng-template [ngTemplateOutlet]=\"headerDirective.templateRef\" *ngIf=\"headerDirective && headerDirective.templateRef\"></ng-template>\n        <ng-template [ngIf]=\"!headerDirective\">\n          <div class=\"f-title f-tmpl-for-title-withline\" [ngClass]=\"headerTitleDirective && headerTitleDirective.titleCls\">\n            <ng-template [ngTemplateOutlet]=\"headerTitleDirective.templateRef\" *ngIf=\"headerTitleDirective && headerTitleDirective.templateRef\"></ng-template>\n            <ng-template [ngIf]=\"!headerTitleDirective\">\n              <h5 class=\"f-title-text\">{{title ?title: ('sidebar.sidebar'|locale)}}</h5>\n            </ng-template>\n          </div>\n          <div class=\"f-content\" *ngIf=\"headerContentDirective && headerContentDirective.templateRef\" [ngClass]=\"headerContentDirective && headerContentDirective.hcontentCls\">\n            <ng-template [ngTemplateOutlet]=\"headerContentDirective.templateRef\"></ng-template>\n          </div>\n          <div class=\"f-toolbar\" [ngClass]=\"headerToolbarDirective && headerToolbarDirective.toolbarCls\">\n            <ng-template [ngTemplateOutlet]=\"headerToolbarDirective.templateRef\" *ngIf=\"headerToolbarDirective && headerToolbarDirective.templateRef\"></ng-template>\n            <ng-template [ngIf]=\"!headerToolbarDirective||showClose\">\n              <span class=\"f-icon f-sidebar-close\" (click)=\"closeSideBar()\"></span>\n            </ng-template>\n          </div>\n        </ng-template>\n      </div>\n      <div class=\"f-sidebar-content\" [ngClass]=\"contentDirective && contentDirective.contentCls\" *ngIf=\"contentDirective && contentDirective.templateRef\">\n        <ng-template [ngTemplateOutlet]=\"contentDirective.templateRef\"></ng-template>\n      </div>\n      <div class=\"f-sidebar-footer\"  *ngIf=\"showFooter\" [ngClass]=\"footerDirective && footerDirective.footerCls\">\n        <ng-template [ngTemplateOutlet]=\"footerDirective.templateRef\" *ngIf=\"footerDirective && footerDirective.templateRef\"></ng-template>\n      </div>\n    </div>\n    <div class=\"f-sidebar-entry-ctr\" [ngClass]=\"entryDirective && entryDirective.iconCls\" (click)=\"openSideBar()\" *ngIf=\"showEntry\">\n      <ng-template [ngTemplateOutlet]=\"entryTemplate\" *ngIf=\"entryTemplate\"></ng-template>\n      <div class=\"f-sidebar-entry-icon\" *ngIf=\"!entryTemplate\">\n        <span class=\"f-icon f-sidebar-entry\"></span>\n      </div>\n    </div>\n  </div>\n  <div class=\"f-sidebar-overlay f-sidebar-collapse\" [class.d-none]=\"!maskable\" [ngClass]=\"{ 'f-sidebar-show': isOpen, 'f-sidebar-collapse': !isOpen }\" (click)=\"closeSideBarByMask()\">\n  </div>\n  ",
                    providers: [],
                    styles: [":host .f-sidebar-slideinit{-webkit-transition:none!important;transition:none!important}"]
                }] }
    ];
    /** @nocollapse */
    FarrisSidebarComponent.ctorParameters = function () { return [
        { type: FarrisSidebarService },
        { type: Renderer2 },
        { type: ElementRef }
    ]; };
    FarrisSidebarComponent.propDecorators = {
        showClose: [{ type: Input }],
        showHeader: [{ type: Input }],
        showEntry: [{ type: Input }],
        title: [{ type: Input }],
        showFooter: [{ type: Input }],
        mainCls: [{ type: Input }],
        width: [{ type: Input }],
        height: [{ type: Input }],
        isOpen: [{ type: Input }],
        showPos: [{ type: Input }],
        enableScroll: [{ type: Input }],
        maskClosable: [{ type: Input }],
        maskable: [{ type: Input }],
        beforeClose: [{ type: Input }],
        parentCls: [{ type: Input }],
        resizeable: [{ type: Input }],
        entryDirective: [{ type: ContentChild, args: [FarrisSidebarIconDirective,] }],
        headerDirective: [{ type: ContentChild, args: [FarrisSidebarHeaderDirective,] }],
        headerTitleDirective: [{ type: ContentChild, args: [FarrisSidebarTitleDirective,] }],
        headerContentDirective: [{ type: ContentChild, args: [FarrisSidebarHcontentDirective,] }],
        headerToolbarDirective: [{ type: ContentChild, args: [FarrisSidebarToolbarDirective,] }],
        contentDirective: [{ type: ContentChild, args: [FarrisSidebarContentDirective,] }],
        footerDirective: [{ type: ContentChild, args: [FarrisSidebarFooterDirective,] }],
        sidebarMainEl: [{ type: ViewChild, args: ['sidebarMain',] }],
        changeState: [{ type: Output }]
    };
    return FarrisSidebarComponent;
}());
export { FarrisSidebarComponent };
if (false) {
    /**
     * @type {?}
     * @private
     */
    FarrisSidebarComponent.prototype.el;
    /**
     * @type {?}
     * @private
     */
    FarrisSidebarComponent.prototype.parentEl;
    /** @type {?} */
    FarrisSidebarComponent.prototype.showClose;
    /** @type {?} */
    FarrisSidebarComponent.prototype.showHeader;
    /** @type {?} */
    FarrisSidebarComponent.prototype.showEntry;
    /** @type {?} */
    FarrisSidebarComponent.prototype.title;
    /** @type {?} */
    FarrisSidebarComponent.prototype.showFooter;
    /** @type {?} */
    FarrisSidebarComponent.prototype.mainCls;
    /**
     * @type {?}
     * @private
     */
    FarrisSidebarComponent.prototype._width;
    /**
     * @type {?}
     * @private
     */
    FarrisSidebarComponent.prototype._height;
    /** @type {?} */
    FarrisSidebarComponent.prototype.isOpen;
    /** @type {?} */
    FarrisSidebarComponent.prototype.showPos;
    /** @type {?} */
    FarrisSidebarComponent.prototype.enableScroll;
    /** @type {?} */
    FarrisSidebarComponent.prototype.maskClosable;
    /** @type {?} */
    FarrisSidebarComponent.prototype.maskable;
    /** @type {?} */
    FarrisSidebarComponent.prototype.beforeClose;
    /** @type {?} */
    FarrisSidebarComponent.prototype.parentCls;
    /** @type {?} */
    FarrisSidebarComponent.prototype.resizeable;
    /** @type {?} */
    FarrisSidebarComponent.prototype.entryTemplate;
    /** @type {?} */
    FarrisSidebarComponent.prototype.entryDirective;
    /** @type {?} */
    FarrisSidebarComponent.prototype.headerDirective;
    /** @type {?} */
    FarrisSidebarComponent.prototype.headerTitleDirective;
    /** @type {?} */
    FarrisSidebarComponent.prototype.headerContentDirective;
    /** @type {?} */
    FarrisSidebarComponent.prototype.headerToolbarDirective;
    /** @type {?} */
    FarrisSidebarComponent.prototype.contentDirective;
    /** @type {?} */
    FarrisSidebarComponent.prototype.footerDirective;
    /**
     * @type {?}
     * @private
     */
    FarrisSidebarComponent.prototype.sidebarMainEl;
    /** @type {?} */
    FarrisSidebarComponent.prototype.changeState;
    /**
     * @type {?}
     * @private
     */
    FarrisSidebarComponent.prototype.canRemoveInitNoAnimateCls;
    /**
     * @type {?}
     * @private
     */
    FarrisSidebarComponent.prototype.sidebarService;
    /**
     * @type {?}
     * @private
     */
    FarrisSidebarComponent.prototype.renderer;
    /**
     * @type {?}
     * @private
     */
    FarrisSidebarComponent.prototype.elementRef;
    /* Skipping unhandled member: ;*/
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2lkZWJhci5jb21wb25lbnQuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9AZmFycmlzL3VpLXNpZGViYXIvIiwic291cmNlcyI6WyJsaWIvc2lkZWJhci5jb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7OztBQUFBLE9BQU8sRUFBRSxTQUFTLEVBQVUsS0FBSyxFQUFFLFlBQVksRUFBRSxZQUFZLEVBQUUsTUFBTSxFQUFFLFNBQVMsRUFBRSxVQUFVLEVBQW1DLFNBQVMsRUFBNEIsTUFBTSxlQUFlLENBQUM7QUFFMUwsT0FBTyxFQUFFLDBCQUEwQixFQUFFLE1BQU0sb0NBQW9DLENBQUE7QUFDL0UsT0FBTyxFQUFFLG9CQUFvQixFQUFFLE1BQU0sbUJBQW1CLENBQUM7QUFDekQsT0FBTyxFQUFFLDJCQUEyQixFQUFFLE1BQU0scUNBQXFDLENBQUM7QUFDbEYsT0FBTyxFQUFFLDRCQUE0QixFQUFFLE1BQU0sc0NBQXNDLENBQUM7QUFDcEYsT0FBTyxFQUFFLDhCQUE4QixFQUFFLE1BQU0sd0NBQXdDLENBQUM7QUFDeEYsT0FBTyxFQUFFLDZCQUE2QixFQUFFLE1BQU0sdUNBQXVDLENBQUM7QUFDdEYsT0FBTyxFQUFFLDZCQUE2QixFQUFFLE1BQU0sdUNBQXVDLENBQUM7QUFDdEYsT0FBTyxFQUFFLDRCQUE0QixFQUFFLE1BQU0sc0NBQXNDLENBQUM7QUFFcEY7SUF3SEUsZ0NBQ1UsY0FBb0MsRUFDcEMsUUFBbUIsRUFDbkIsVUFBc0I7UUFIaEMsaUJBYUM7UUFaUyxtQkFBYyxHQUFkLGNBQWMsQ0FBc0I7UUFDcEMsYUFBUSxHQUFSLFFBQVEsQ0FBVztRQUNuQixlQUFVLEdBQVYsVUFBVSxDQUFZO1FBekV2QixjQUFTLEdBQVksS0FBSyxDQUFDO1FBQzNCLGVBQVUsR0FBWSxJQUFJLENBQUM7UUFDM0IsY0FBUyxHQUFHLElBQUksQ0FBQztRQUNqQixVQUFLLEdBQUcsRUFBRSxDQUFDO1FBQ1gsZUFBVSxHQUFZLEtBQUssQ0FBQztRQUc3QixXQUFN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QUs7K0JBQ0wsS0FBSzsrQkFHTCxLQUFLOzJCQUdMLEtBQUs7OEJBRUwsS0FBSzs0QkFFTCxLQUFLOzZCQUtMLEtBQUs7aUNBSUwsWUFBWSxTQUFDLDBCQUEwQjtrQ0FFdkMsWUFBWSxTQUFDLDRCQUE0Qjt1Q0FFekMsWUFBWSxTQUFDLDJCQUEyQjt5Q0FFeEMsWUFBWSxTQUFDLDhCQUE4Qjt5Q0FFM0MsWUFBWSxTQUFDLDZCQUE2QjttQ0FFMUMsWUFBWSxTQUFDLDZCQUE2QjtrQ0FFMUMsWUFBWSxTQUFDLDRCQUE0QjtnQ0FDekMsU0FBUyxTQUFDLGFBQWE7OEJBRXZCLE1BQU07O0lBNEdULDZCQUFDO0NBQUEsQUFoT0QsSUFnT0M7U0FsTFksc0JBQXNCOzs7Ozs7SUFFakMsb0NBQXdCOzs7OztJQUN4QiwwQ0FBOEI7O0lBQzlCLDJDQUFvQzs7SUFDcEMsNENBQW9DOztJQUNwQywyQ0FBMEI7O0lBQzFCLHVDQUFvQjs7SUFDcEIsNENBQXFDOztJQUVyQyx5Q0FBeUI7Ozs7O0lBQ3pCLHdDQUF5Qjs7Ozs7SUFVekIseUNBQXNCOztJQVd0Qix3Q0FBd0I7O0lBR3hCLHlDQUEwQjs7SUFDMUIsOENBQTZCOztJQUc3Qiw4Q0FBNkI7O0lBRzdCLDBDQUF5Qjs7SUFFekIsNkNBQWdEOztJQUVoRCwyQ0FBMkI7O0lBSzNCLDRDQUFxQzs7SUFFckMsK0NBQW1COztJQUVuQixnREFBOEQ7O0lBRTlELGlEQUFpRTs7SUFFakUsc0RBQXFFOztJQUVyRSx3REFBMEU7O0lBRTFFLHdEQUF5RTs7SUFFekUsa0RBQW1FOztJQUVuRSxpREFBaUU7Ozs7O0lBQ2pFLCtDQUE0RDs7SUFFNUQsNkNBQW1FOzs7OztJQUNuRSwyREFBeUM7Ozs7O0lBSXZDLGdEQUE0Qzs7Ozs7SUFDNUMsMENBQTJCOzs7OztJQUMzQiw0Q0FBOEIiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb21wb25lbnQsIE9uSW5pdCwgSW5wdXQsIENvbnRlbnRDaGlsZCwgRXZlbnRFbWl0dGVyLCBPdXRwdXQsIFJlbmRlcmVyMiwgRWxlbWVudFJlZiwgQWZ0ZXJDb250ZW50SW5pdCwgQWZ0ZXJWaWV3SW5pdCwgVmlld0NoaWxkLCBTaW1wbGVDaGFuZ2VzLCBPbkNoYW5nZXMgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJ3J4anMnO1xyXG5pbXBvcnQgeyBGYXJyaXNTaWRlYmFySWNvbkRpcmVjdGl2ZSB9IGZyb20gJy4vZGlyZWN0aXZlL3NpZGViYXItaWNvbi5kaXJlY3RpdmUnXHJcbmltcG9ydCB7IEZhcnJpc1NpZGViYXJTZXJ2aWNlIH0gZnJvbSAnLi9zaWRlYmFyLnNlcnZpY2UnO1xyXG5pbXBvcnQgeyBGYXJyaXNTaWRlYmFyVGl0bGVEaXJlY3RpdmUgfSBmcm9tICcuL2RpcmVjdGl2ZS9zaWRlYmFyLXRpdGxlLmRpcmVjdGl2ZSc7XHJcbmltcG9ydCB7IEZhcnJpc1NpZGViYXJIZWFkZXJEaXJlY3RpdmUgfSBmcm9tICcuL2RpcmVjdGl2ZS9zaWRlYmFyLWhlYWRlci5kaXJlY3RpdmUnO1xyXG5pbXBvcnQgeyBGYXJyaXNTaWRlYmFySGNvbnRlbnREaXJlY3RpdmUgfSBmcm9tICcuL2RpcmVjdGl2ZS9zaWRlYmFyLWhjb250ZW50LmRpcmVjdGl2ZSc7XHJcbmltcG9ydCB7IEZhcnJpc1NpZGViYXJUb29sYmFyRGlyZWN0aXZlIH0gZnJvbSAnLi9kaXJlY3RpdmUvc2lkZWJhci10b29sYmFyLmRpcmVjdGl2ZSc7XHJcbmltcG9ydCB7IEZhcnJpc1NpZGViYXJDb250ZW50RGlyZWN0aXZlIH0gZnJvbSAnLi9kaXJlY3RpdmUvc2lkZWJhci1jb250ZW50LmRpcmVjdGl2ZSc7XHJcbmltcG9ydCB7IEZhcnJpc1NpZGViYXJGb290ZXJEaXJlY3RpdmUgfSBmcm9tICcuL2RpcmVjdGl2ZS9zaWRlYmFyLWZvb3Rlci5kaXJlY3RpdmUnO1xyXG5cclxuQENvbXBvbmVudCh7XHJcbiAgc2VsZWN0b3I6ICdmYXJyaXMtc2lkZWJhcicsXHJcbiAgdGVtcGxhdGU6IGBcclxuICA8ZGl2IGNsYXNzPVwiZi1jbXAtc2lkZWJhciBmLXNpZGViYXItc2xpZGVcIiBbY2xhc3NdPVwiJ2Ytc2lkZWJhci1wb3MtJytzaG93UG9zXCJcclxuICBbbmdDbGFzc109XCJ7J2Ytc2lkZWJhci1zaG93JzogaXNPcGVuLCAnZi1zaWRlYmFyLWNvbGxhcHNlJzogIWlzT3BlbiB9XCI+XHJcbiAgICA8ZGl2IGNsYXNzPVwiZi1zaWRlYmFyLW1haW4gZi1zaWRlYmFyLXNsaWRlaW5pdFwiIFtuZ0NsYXNzXT1cIm1haW5DbHNcIiAjc2lkZWJhck1haW4gW25nU3R5bGVdPVwie3dpZHRoOidsZWZ0cmlnaHQnLmluZGV4T2Yoc2hvd1Bvcyk+LTE/d2lkdGg6J2F1dG8nLGhlaWdodDondG9wYm90dG9tJy5pbmRleE9mKHNob3dQb3MpPi0xP2hlaWdodDonYXV0byd9XCIgPlxyXG4gICAgICA8ZGl2IGNsYXNzPVwiZi1zaWRlYmFyLWhlYWRlclwiICpuZ0lmPVwic2hvd0hlYWRlclwiIFtuZ0NsYXNzXT1cImhlYWRlckRpcmVjdGl2ZSAmJiBoZWFkZXJEaXJlY3RpdmUuaGVhZGVyQ2xzXCI+XHJcbiAgICAgICAgPG5nLXRlbXBsYXRlIFtuZ1RlbXBsYXRlT3V0bGV0XT1cImhlYWRlckRpcmVjdGl2ZS50ZW1wbGF0ZVJlZlwiICpuZ0lmPVwiaGVhZGVyRGlyZWN0aXZlICYmIGhlYWRlckRpcmVjdGl2ZS50ZW1wbGF0ZVJlZlwiPjwvbmctdGVtcGxhdGU+XHJcbiAgICAgICAgPG5nLXRlbXBsYXRlIFtuZ0lmXT1cIiFoZWFkZXJEaXJlY3RpdmVcIj5cclxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJmLXRpdGxlIGYtdG1wbC1mb3ItdGl0bGUtd2l0aGxpbmVcIiBbbmdDbGFzc109XCJoZWFkZXJUaXRsZURpcmVjdGl2ZSAmJiBoZWFkZXJUaXRsZURpcmVjdGl2ZS50aXRsZUNsc1wiPlxyXG4gICAgICAgICAgICA8bmctdGVtcGxhdGUgW25nVGVtcGxhdGVPdXRsZXRdPVwiaGVhZGVyVGl0bGVEaXJlY3RpdmUudGVtcGxhdGVSZWZcIiAqbmdJZj1cImhlYWRlclRpdGxlRGlyZWN0aXZlICYmIGhlYWRlclRpdGxlRGlyZWN0aXZlLnRlbXBsYXRlUmVmXCI+PC9uZy10ZW1wbGF0ZT5cclxuICAgICAgICAgICAgPG5nLXRlbXBsYXRlIFtuZ0lmXT1cIiFoZWFkZXJUaXRsZURpcmVjdGl2ZVwiPlxyXG4gICAgICAgICAgICAgIDxoNSBjbGFzcz1cImYtdGl0bGUtdGV4dFwiPnt7dGl0bGUgP3RpdGxlOiAoJ3NpZGViYXIuc2lkZWJhcid8bG9jYWxlKX19PC9oNT5cclxuICAgICAgICAgICAgPC9uZy10ZW1wbGF0ZT5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPGRpdiBjbGFzcz1cImYtY29udGVudFwiICpuZ0lmPVwiaGVhZGVyQ29udGVudERpcmVjdGl2ZSAmJiBoZWFkZXJDb250ZW50RGlyZWN0aXZlLnRlbXBsYXRlUmVmXCIgW25nQ2xhc3NdPVwiaGVhZGVyQ29udGVudERpcmVjdGl2ZSAmJiBoZWFkZXJDb250ZW50RGlyZWN0aXZlLmhjb250ZW50Q2xzXCI+XHJcbiAgICAgICAgICAgIDxuZy10ZW1wbGF0ZSBbbmdUZW1wbGF0ZU91dGxldF09XCJoZWFkZXJDb250ZW50RGlyZWN0aXZlLnRlbXBsYXRlUmVmXCI+PC9uZy10ZW1wbGF0ZT5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPGRpdiBjbGFzcz1cImYtdG9vbGJhclwiIFtuZ0NsYXNzXT1cImhlYWRlclRvb2xiYXJEaXJlY3RpdmUgJiYgaGVhZGVyVG9vbGJhckRpcmVjdGl2ZS50b29sYmFyQ2xzXCI+XHJcbiAgICAgICAgICAgIDxuZy10ZW1wbGF0ZSBbbmdUZW1wbGF0ZU91dGxldF09XCJoZWFkZXJUb29sYmFyRGlyZWN0aXZlLnRlbXBsYXRlUmVmXCIgKm5nSWY9XCJoZWFkZXJUb29sYmFyRGlyZWN0aXZlICYmIGhlYWRlclRvb2xiYXJEaXJlY3RpdmUudGVtcGxhdGVSZWZcIj48L25nLXRlbXBsYXRlPlxyXG4gICAgICAgICAgICA8bmctdGVtcGxhdGUgW25nSWZdPVwiIWhlYWRlclRvb2xiYXJEaXJlY3RpdmV8fHNob3dDbG9zZVwiPlxyXG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZi1pY29uIGYtc2lkZWJhci1jbG9zZVwiIChjbGljayk9XCJjbG9zZVNpZGVCYXIoKVwiPjwvc3Bhbj5cclxuICAgICAgICAgICAgPC9uZy10ZW1wbGF0ZT5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvbmctdGVtcGxhdGU+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgICA8ZGl2IGNsYXNzPVwiZi1zaWRlYmFyLWNvbnRlbnRcIiBbbmdDbGFzc109XCJjb250ZW50RGlyZWN0aXZlICYmIGNvbnRlbnREaXJlY3RpdmUuY29udGVudENsc1wiICpuZ0lmPVwiY29udGVudERpcmVjdGl2ZSAmJiBjb250ZW50RGlyZWN0aXZlLnRlbXBsYXRlUmVmXCI+XHJcbiAgICAgICAgPG5nLXRlbXBsYXRlIFtuZ1RlbXBsYXRlT3V0bGV0XT1cImNvbnRlbnREaXJlY3RpdmUudGVtcGxhdGVSZWZcIj48L25nLXRlbXBsYXRlPlxyXG4gICAgICA8L2Rpdj5cclxuICAgICAgPGRpdiBjbGFzcz1cImYtc2lkZWJhci1mb290ZXJcIiAgKm5nSWY9XCJzaG93Rm9vdGVyXCIgW25nQ2xhc3NdPVwiZm9vdGVyRGlyZWN0aXZlICYmIGZvb3RlckRpcmVjdGl2ZS5mb290ZXJDbHNcIj5cclxuICAgICAgICA8bmctdGVtcGxhdGUgW25nVGVtcGxhdGVPdXRsZXRdPVwiZm9vdGVyRGlyZWN0aXZlLnRlbXBsYXRlUmVmXCIgKm5nSWY9XCJmb290ZXJEaXJlY3RpdmUgJiYgZm9vdGVyRGlyZWN0aXZlLnRlbXBsYXRlUmVmXCI+PC9uZy10ZW1wbGF0ZT5cclxuICAgICAgPC9kaXY+XHJcbiAgICA8L2Rpdj5cclxuICAgIDxkaXYgY2xhc3M9XCJmLXNpZGViYXItZW50cnktY3RyXCIgW25nQ2xhc3NdPVwiZW50cnlEaXJlY3RpdmUgJiYgZW50cnlEaXJlY3RpdmUuaWNvbkNsc1wiIChjbGljayk9XCJvcGVuU2lkZUJhcigpXCIgKm5nSWY9XCJzaG93RW50cnlcIj5cclxuICAgICAgPG5nLXRlbXBsYXRlIFtuZ1RlbXBsYXRlT3V0bGV0XT1cImVudHJ5VGVtcGxhdGVcIiAqbmdJZj1cImVudHJ5VGVtcGxhdGVcIj48L25nLXRlbXBsYXRlPlxyXG4gICAgICA8ZGl2IGNsYXNzPVwiZi1zaWRlYmFyLWVudHJ5LWljb25cIiAqbmdJZj1cIiFlbnRyeVRlbXBsYXRlXCI+XHJcbiAgICAgICAgPHNwYW4gY2xhc3M9XCJmLWljb24gZi1zaWRlYmFyLWVudHJ5XCI+PC9zcGFuPlxyXG4gICAgICA8L2Rpdj5cclxuICAgIDwvZGl2PlxyXG4gIDwvZGl2PlxyXG4gIDxkaXYgY2xhc3M9XCJmLXNpZGViYXItb3ZlcmxheSBmLXNpZGViYXItY29sbGFwc2VcIiBbY2xhc3MuZC1ub25lXT1cIiFtYXNrYWJsZVwiIFtuZ0NsYXNzXT1cInsgJ2Ytc2lkZWJhci1zaG93JzogaXNPcGVuLCAnZi1zaWRlYmFyLWNvbGxhcHNlJzogIWlzT3BlbiB9XCIgKGNsaWNrKT1cImNsb3NlU2lkZUJhckJ5TWFzaygpXCI+XHJcbiAgPC9kaXY+XHJcbiAgYCxcclxuICBzdHlsZVVybHM6IFsnLi9zaWRlYmFyLmNvbXBvbmVudC5jc3MnXSxcclxuICBwcm92aWRlcnM6IFtdXHJcbn0pXHJcbmV4cG9ydCBjbGFzcyBGYXJyaXNTaWRlYmFyQ29tcG9uZW50IGltcGxlbWVudHMgT25Jbml0LCBBZnRlckNvbnRlbnRJbml0IHtcclxuXHJcbiAgcHJpdmF0ZSBlbDogSFRNTEVsZW1lbnQ7XHJcbiAgcHJpdmF0ZSBwYXJlbnRFbDogSFRNTEVsZW1lbnQ7XHJcbiAgQElucHV0KCkgc2hvd0Nsb3NlOiBib29sZWFuID0gZmFsc2U7XHJcbiAgQElucHV0KCkgc2hvd0hlYWRlcjogYm9vbGVhbiA9IHRydWU7XHJcbiAgQElucHV0KCkgc2hvd0VudHJ5ID0gdHJ1ZTtcclxuICBASW5wdXQoKSB0aXRsZSA9IFwiXCI7XHJcbiAgQElucHV0KCkgc2hvd0Zvb3RlcjogYm9vbGVhbiA9IGZhbHNlO1xyXG4gIC8v5L6n6L655qCP5pSv5oyBY2xhc3PmoLflvI/mianlsZVcclxuICBASW5wdXQoKSBtYWluQ2xzOiBzdHJpbmc7XHJcbiAgcHJpdmF0ZSBfd2lkdGggPSAnMzUwcHgnO1xyXG4gIC8qIOS+p+i+ueagj+Wkp+WwjyAqL1xyXG4gIEBJbnB1dCgpXHJcbiAgZ2V0IHdpZHRoKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuX3dpZHRoO1xyXG4gIH1cclxuICBzZXQgd2lkdGgodmFsdWUpIHtcclxuICAgIHRoaXMuX3dpZHRoID0gdGhpcy5fcmVzb2x2ZVNpemUodmFsdWUpO1xyXG4gIH07XHJcbiBcclxuICBwcml2YXRlIF9oZWlnaHQ9JzMwJSc7XHJcblxyXG4gIEBJbnB1dCgpXHJcbiAgc2V0IGhlaWdodCh2YWx1ZSl7XHJcbiAgICB0aGlzLl9oZWlnaHQ9IHRoaXMuX3Jlc29sdmVTaXplKHZhbHVlKTtcclxuICB9XHJcbiAgZ2V0IGhlaWdodCgpe1xyXG4gICAgcmV0dXJuIHRoaXMuX2hlaWdodDtcclxuICB9XHJcblxyXG4gIC8qIOS+p+i+ueagj+aYvuekuiAqL1xyXG4gIEBJbnB1dCgpIGlzT3BlbiA9IGZhbHNlO1xyXG5cclxuICAvKiDkvqfovrnmoI/mmL7npLrkvY3nva4gKi9cclxuICBASW5wdXQoKSBzaG93UG9zID0gJ3JpZ2h0J1xyXG4gIEBJbnB1dCgpIGVuYWJsZVNjcm9sbCA9IHRydWU7XHJcblxyXG4gIC8qIOeCueWHu+mBrue9qeaYr+WQpuWFs+mXreS+p+i+ueagjyAqL1xyXG4gIEBJbnB1dCgpIG1hc2tDbG9zYWJsZSA9IHRydWU7XHJcblxyXG4gIC8qIOaYr+WQpuaYvuekuumBrue9qSAqL1xyXG4gIEBJbnB1dCgpIG1hc2thYmxlID0gdHJ1ZTtcclxuXHJcbiAgQElucHV0KCkgYmVmb3JlQ2xvc2U6ICgpID0+IE9ic2VydmFibGU8Ym9vbGVhbj47XHJcblxyXG4gIEBJbnB1dCgpIHBhcmVudENsczogc3RyaW5nO1xyXG5cclxuICAvL+WxleW8gOaViOaenFxyXG4gIC8vIEBJbnB1dCgpIG9wZW5XYXkgPSAnZmxvYXQnXHJcbiAgLy/mmK/lkKblj6/mi5bmi73vvIzmnInngrnpl67popjvvIjnhLblkI7msqHov5nkuKrnibnmgKfvvIlcclxuICBASW5wdXQoKSByZXNpemVhYmxlOiBib29sZWFuID0gZmFsc2U7XHJcblxyXG4gIGVudHJ5VGVtcGxhdGU6IGFueTtcclxuICAvL+S+p+i+ueagj+WFpeWPo+WMuuWfn+aUr+aMgeiHquWumuS5iVxyXG4gIEBDb250ZW50Q2hpbGQoRmFycmlzU2lkZWJhckljb25EaXJlY3RpdmUpIGVudHJ5RGlyZWN0aXZlOiBhbnk7XHJcbiAgLy/kvqfovrnmoI9oZWFkZXLljLrln5/mlK/mjIHoh6rlrprkuYlcclxuICBAQ29udGVudENoaWxkKEZhcnJpc1NpZGViYXJIZWFkZXJEaXJlY3RpdmUpIGhlYWRlckRpcmVjdGl2ZTogYW55O1xyXG4gIC8v5L6n6L655qCPaGVhZGVy5qCH6aKY5Yy65Z+f5pSv5oyB6Ieq5a6a5LmJXHJcbiAgQENvbnRlbnRDaGlsZChGYXJyaXNTaWRlYmFyVGl0bGVEaXJlY3RpdmUpIGhlYWRlclRpdGxlRGlyZWN0aXZlOiBhbnk7XHJcbiAgLy/kvqfovrnmoI9oZWFkZXLkuK3pl7TljLrln5/mlK/mjIHoh6rlrprkuYlcclxuICBAQ29udGVudENoaWxkKEZhcnJpc1NpZGViYXJIY29udGVudERpcmVjdGl2ZSkgaGVhZGVyQ29udGVudERpcmVjdGl2ZTogYW55O1xyXG4gIC8v5L6n6L655qCPaGVhZGVy5bel5YW35qCP5Yy65Z+f5pSv5oyB6Ieq5a6a5LmJXHJcbiAgQENvbnRlbnRDaGlsZChGYXJyaXNTaWRlYmFyVG9vbGJhckRpcmVjdGl2ZSkgaGVhZGVyVG9vbGJhckRpcmVjdGl2ZTogYW55O1xyXG4gIC8vIOS+p+i+ueagj2NvbnRlbnTmlK/mjIHoh6rlrprkuYlcclxuICBAQ29udGVudENoaWxkKEZhcnJpc1NpZGViYXJDb250ZW50RGlyZWN0aXZlKSBjb250ZW50RGlyZWN0aXZlOiBhbnk7XHJcbiAgLy8g5L6n6L655qCPZm9vdGVy5pSv5oyB6Ieq5a6a5LmJXHJcbiAgQENvbnRlbnRDaGlsZChGYXJyaXNTaWRlYmFyRm9vdGVyRGlyZWN0aXZlKSBmb290ZXJEaXJlY3RpdmU6IGFueTtcclxuICBAVmlld0NoaWxkKCdzaWRlYmFyTWFpbicpIHByaXZhdGUgc2lkZWJhck1haW5FbDogRWxlbWVudFJlZjtcclxuXHJcbiAgQE91dHB1dCgpIGNoYW5nZVN0YXRlOiBFdmVudEVtaXR0ZXI8YW55PiA9IG5ldyBFdmVudEVtaXR0ZXI8YW55PigpO1xyXG4gIHByaXZhdGUgY2FuUmVtb3ZlSW5pdE5vQW5pbWF0ZUNscyA9IHRydWU7XHJcblxyXG5cclxuICBjb25zdHJ1Y3RvcihcclxuICAgIHByaXZhdGUgc2lkZWJhclNlcnZpY2U6IEZhcnJpc1NpZGViYXJTZXJ2aWNlLFxyXG4gICAgcHJpdmF0ZSByZW5kZXJlcjogUmVuZGVyZXIyLFxyXG4gICAgcHJpdmF0ZSBlbGVtZW50UmVmOiBFbGVtZW50UmVmXHJcbiAgKSB7XHJcbiAgICB0aGlzLnNpZGViYXJTZXJ2aWNlLmdldElzT3BlbigpLnN1YnNjcmliZShkYXRhID0+IHtcclxuICAgICAgaWYgKGRhdGEgPT09IGZhbHNlKSB7XHJcbiAgICAgICAgdGhpcy5jbG9zZVNpZGVCYXIoKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0aGlzLm9wZW5TaWRlQmFyKCk7XHJcbiAgICAgIH1cclxuICAgIH0pXHJcbiAgICB0aGlzLmVsID0gdGhpcy5lbGVtZW50UmVmLm5hdGl2ZUVsZW1lbnQ7XHJcbiAgfVxyXG5cclxuICBuZ09uSW5pdCgpOiB2b2lkIHtcclxuICAgIC8vIGNvbnN0IG1haW5FbCA9IHRoaXMuZWwucXVlcnlTZWxlY3RvcignLmYtc2lkZWJhci1tYWluJyk7XHJcbiAgICAvLyB0aGlzLnJlbmRlcmVyLnNldFN0eWxlKG1haW5FbCwgJ3dpZHRoJywgdGhpcy5fd2lkdGgpO1xyXG4gIH1cclxuICBuZ0FmdGVyQ29udGVudEluaXQoKSB7XHJcbiAgICB0aGlzLmVudHJ5VGVtcGxhdGUgPSB0aGlzLmVudHJ5RGlyZWN0aXZlICYmIHRoaXMuZW50cnlEaXJlY3RpdmUudGVtcGxhdGVSZWY7XHJcbiAgICB0aGlzLnBhcmVudEVsID0gdGhpcy5lbC5wYXJlbnRFbGVtZW50O1xyXG4gICAgdGhpcy5yZW5kZXJlci5hZGRDbGFzcyh0aGlzLnBhcmVudEVsLCAnZi1zaWRlYmFyLXBhcmVudCcpO1xyXG4gICAgaWYgKHRoaXMucGFyZW50Q2xzKSB7XHJcbiAgICAgIHRoaXMucmVuZGVyZXIuYWRkQ2xhc3ModGhpcy5wYXJlbnRFbCwgdGhpcy5wYXJlbnRDbHMpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyrlrr3pq5jnsbvlnovmmK8gc3RyaW5n5oiW6ICFbnVtYmVyIOino+aekOWuvemrmCAg5bC65a+4ICovXHJcbiAgX3Jlc29sdmVTaXplKHNpemUpIHtcclxuICAgIGNvbnN0IHJlZ2V4ID0gL3B4fGVtfHJlbXxwdHwlLztcclxuICAgIC8vIOivtOaYjuaYr+Wtl+espuS4slxyXG4gICAgcmV0dXJuIHJlZ2V4LnRlc3Qoc2l6ZSkgPyBgJHtwYXJzZUludChzaXplLCAxMCl9JHtzaXplLm1hdGNoKHJlZ2V4KVswXX1gIDogYCR7c2l6ZX1weGA7XHJcbiAgfVxyXG5cclxuICB0b2dnbGUoKSB7XHJcbiAgICB0aGlzLmlzT3BlbiA9ICF0aGlzLmlzT3BlbjtcclxuICAgIHRoaXMuY2hhbmdlU3RhdGUuZW1pdCh0aGlzLmlzT3Blbik7XHJcbiAgICBpZiAodGhpcy5pc09wZW4gPT09IHRydWUpIHtcclxuICAgICAgdGhpcy5yZW5kZXJlci5yZW1vdmVDbGFzcyh0aGlzLnBhcmVudEVsLCAnZi1zaWRlYmFyLXBhcmVudC1jb2xsYXBzZScpO1xyXG4gICAgICB0aGlzLnJlbmRlcmVyLmFkZENsYXNzKHRoaXMucGFyZW50RWwsICdmLXNpZGViYXItcGFyZW50LWV4cGFuZCcpO1xyXG4gICAgfVxyXG4gICAgaWYgKHRoaXMuaXNPcGVuID09PSBmYWxzZSkge1xyXG4gICAgICB0aGlzLnJlbmRlcmVyLnJlbW92ZUNsYXNzKHRoaXMucGFyZW50RWwsICdmLXNpZGViYXItcGFyZW50LWV4cGFuZCcpO1xyXG4gICAgICB0aGlzLnJlbmRlcmVyLmFkZENsYXNzKHRoaXMucGFyZW50RWwsICdmLXNpZGViYXItcGFyZW50LWNvbGxhcHNlJyk7XHJcbiAgICB9XHJcbiAgICAvLyBjb25zdCBwcmV2RWwgPSB0aGlzLmVsLnByZXZpb3VzRWxlbWVudFNpYmxpbmc7XHJcblxyXG4gICAgLy8gaWYodGhpcy5pc09wZW4gPT09IHRydWUgJiYgdGhpcy5vcGVuV2F5ICE9PSAnZmxvYXQnKXtcclxuICAgIC8vICAgdGhpcy5yZW5kZXJlci5zZXRTdHlsZShwcmV2RWwsIGAke3RoaXMuc2hvd1Bvc31gLCB0aGlzLndpZHRoICsgJ3B4Jyk7XHJcbiAgICAvLyAgIHRoaXMucmVuZGVyZXIuYWRkQ2xhc3ModGhpcy5wYXJlbnRFbCwgJ2Ytc2lkZWJhci1wYXJlbnQtc2hvdycpO1xyXG4gICAgLy8gICB0aGlzLnJlbmRlcmVyLnJlbW92ZUNsYXNzKHRoaXMucGFyZW50RWwsICdmLXNpZGViYXItcGFyZW50LWNvbGxhcHNlJyk7XHJcbiAgICAvLyAgIHRoaXMubWFza2FibGUgPSBmYWxzZTtcclxuICAgIC8vIH1cclxuICAgIC8vIGlmKHRoaXMuaXNPcGVuID09PSBmYWxzZSAmJiB0aGlzLm9wZW5XYXkgIT09ICdmbG9hdCcpe1xyXG4gICAgLy8gICB0aGlzLnJlbmRlcmVyLmFkZENsYXNzKHRoaXMucGFyZW50RWwsICdmLXNpZGViYXItcGFyZW50Jyk7XHJcbiAgICAvLyAgIHRoaXMucmVuZGVyZXIuYWRkQ2xhc3ModGhpcy5wYXJlbnRFbCwgJ2Ytc2lkZWJhci1wYXJlbnQtY29sbGFwc2UnKTtcclxuICAgIC8vICAgdGhpcy5yZW5kZXJlci5yZW1vdmVDbGFzcyh0aGlzLnBhcmVudEVsLCAnZi1zaWRlYmFyLXBhcmVudC1zaG93Jyk7XHJcbiAgICAvLyAgIHRoaXMucmVuZGVyZXIuc2V0U3R5bGUocHJldkVsLCBgJHt0aGlzLnNob3dQb3N9YCwgMCk7XHJcbiAgICAvLyB9ICAgXHJcbiAgICAvLyBpZih0aGlzLmlzT3BlbiA9PT0gdHJ1ZSAmJiB0aGlzLm9wZW5XYXkgIT09ICdmb2xkJyl7XHJcbiAgICAvLyAgIHRoaXMubWFza2FibGUgPSB0cnVlO1xyXG4gICAgLy8gfVxyXG4gIH1cclxuXHJcbiAgY2xvc2VTaWRlQmFyKCkge1xyXG4gICAgdGhpcy5yZW1vdmVOb25lQW5pbWF0ZUNscygpO1xyXG4gICAgaWYgKHRoaXMuYmVmb3JlQ2xvc2UpIHtcclxuICAgICAgdGhpcy5iZWZvcmVDbG9zZSgpLnN1YnNjcmliZSgoaXNPcGVuOiBib29sZWFuKSA9PiB7XHJcbiAgICAgICAgdGhpcy5pc09wZW4gPSAhaXNPcGVuO1xyXG4gICAgICB9KVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5pc09wZW4gPSBmYWxzZTtcclxuICAgIH1cclxuICAgIHRoaXMucmVuZGVyZXIucmVtb3ZlQ2xhc3ModGhpcy5wYXJlbnRFbCwgJ2Ytc2lkZWJhci1wYXJlbnQtZXhwYW5kJyk7XHJcbiAgICB0aGlzLnJlbmRlcmVyLmFkZENsYXNzKHRoaXMucGFyZW50RWwsICdmLXNpZGViYXItcGFyZW50LWNvbGxhcHNlJyk7XHJcbiAgfVxyXG5cclxuICBjbG9zZVNpZGVCYXJCeU1hc2soKSB7XHJcbiAgICBpZiAoIXRoaXMubWFza0Nsb3NhYmxlKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIHRoaXMuY2xvc2VTaWRlQmFyKCk7XHJcbiAgfVxyXG5cclxuICBvcGVuU2lkZUJhcigpIHtcclxuICAgIHRoaXMucmVtb3ZlTm9uZUFuaW1hdGVDbHMoKTtcclxuICAgIHRoaXMuaXNPcGVuID0gdHJ1ZTtcclxuICAgIHRoaXMucmVuZGVyZXIucmVtb3ZlQ2xhc3ModGhpcy5wYXJlbnRFbCwgJ2Ytc2lkZWJhci1wYXJlbnQtY29sbGFwc2UnKTtcclxuICAgIHRoaXMucmVuZGVyZXIuYWRkQ2xhc3ModGhpcy5wYXJlbnRFbCwgJ2Ytc2lkZWJhci1wYXJlbnQtZXhwYW5kJyk7XHJcbiAgfVxyXG4gIC8q5L6n6L655qCP5Yid5aeL5Zug5Li65Yqo55S75pS26LW35pe277yM5Lya6KKr55yL5YiwLCDnp7vpmaQgKi9cclxuICBwcml2YXRlIHJlbW92ZU5vbmVBbmltYXRlQ2xzKCkge1xyXG4gICAgaWYgKCF0aGlzLmNhblJlbW92ZUluaXROb0FuaW1hdGVDbHMpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgaWYgKHRoaXMuc2lkZWJhck1haW5FbCkge1xyXG4gICAgICB0aGlzLnJlbmRlcmVyLnJlbW92ZUNsYXNzKHRoaXMuc2lkZWJhck1haW5FbC5uYXRpdmVFbGVtZW50LCAnZi1zaWRlYmFyLXNsaWRlaW5pdCcpO1xyXG4gICAgICB0aGlzLmNhblJlbW92ZUluaXROb0FuaW1hdGVDbHMgPSBmYWxzZTtcclxuICAgIH1cclxuICB9XHJcbiBnZXRTdHlsZURhdGEoKXtcclxuXHJcbiB9XHJcbn1cclxuIl19