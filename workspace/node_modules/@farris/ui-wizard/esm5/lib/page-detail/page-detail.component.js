/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { Component, Directive, TemplateRef, ContentChild, HostBinding, Output, EventEmitter, Optional } from '@angular/core';
import { PageService } from '../service/page.service';
import { WizardService } from '../service/wizard.service';
import { WizardEventType } from '../model/wizard.model';
var wizardPageHeaderTemplateDirective = /** @class */ (function () {
    function wizardPageHeaderTemplateDirective(template) {
        this.template = template;
    }
    wizardPageHeaderTemplateDirective.decorators = [
        { type: Directive, args: [{
                    selector: '[wizardPageHeader]'
                },] }
    ];
    /** @nocollapse */
    wizardPageHeaderTemplateDirective.ctorParameters = function () { return [
        { type: TemplateRef }
    ]; };
    return wizardPageHeaderTemplateDirective;
}());
export { wizardPageHeaderTemplateDirective };
if (false) {
    /** @type {?} */
    wizardPageHeaderTemplateDirective.prototype.template;
}
var wizardPageContentTemplateDirective = /** @class */ (function () {
    function wizardPageContentTemplateDirective(template) {
        this.template = template;
    }
    wizardPageContentTemplateDirective.decorators = [
        { type: Directive, args: [{
                    selector: '[wizardPageContent]'
                },] }
    ];
    /** @nocollapse */
    wizardPageContentTemplateDirective.ctorParameters = function () { return [
        { type: TemplateRef }
    ]; };
    return wizardPageContentTemplateDirective;
}());
export { wizardPageContentTemplateDirective };
if (false) {
    /** @type {?} */
    wizardPageContentTemplateDirective.prototype.template;
}
var wizardPageFooterTemplateDirective = /** @class */ (function () {
    function wizardPageFooterTemplateDirective(template) {
        this.template = template;
    }
    wizardPageFooterTemplateDirective.decorators = [
        { type: Directive, args: [{
                    selector: '[wizardPageFooter]'
                },] }
    ];
    /** @nocollapse */
    wizardPageFooterTemplateDirective.ctorParameters = function () { return [
        { type: TemplateRef }
    ]; };
    return wizardPageFooterTemplateDirective;
}());
export { wizardPageFooterTemplateDirective };
if (false) {
    /** @type {?} */
    wizardPageFooterTemplateDirective.prototype.template;
}
var FarrisPageDetailComponent = /** @class */ (function () {
    function FarrisPageDetailComponent(wizardSer, pageSer) {
        var _this = this;
        this.wizardSer = wizardSer;
        this.pageSer = pageSer;
        this.cls = true;
        this.pageId = '';
        this.pagedetailSelected = new EventEmitter();
        if (!this.pageSer) {
            this.pageSer = new PageService();
        }
        this.pageSer.activeState.subscribe((/**
         * @param {?} data
         * @return {?}
         */
        function (data) {
            //console.log('FarrisPageDetailComponent——' + this.pageId+'——'+data);
            if (data.state) {
                _this.pagedetailSelected.emit(data);
            }
        }));
    }
    Object.defineProperty(FarrisPageDetailComponent.prototype, "fill", {
        get: /**
         * @return {?}
         */
        function () { return this.wizardSer.getPageFill(); },
        enumerable: true,
        configurable: true
    });
    ;
    /**
     * @return {?}
     */
    FarrisPageDetailComponent.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
        this.pageId = this.pageSer.getPageId();
    };
    /**
     * @return {?}
     */
    FarrisPageDetailComponent.prototype.getPageId = /**
     * @return {?}
     */
    function () {
        return this.pageId;
    };
    /**
     * @return {?}
     */
    FarrisPageDetailComponent.prototype.getPrevPageId = /**
     * @return {?}
     */
    function () {
        return this.wizardSer.getPrePageId(this.pageId);
    };
    /**
     * @return {?}
     */
    FarrisPageDetailComponent.prototype.getWizardData = /**
     * @return {?}
     */
    function () {
        return this.wizardSer.getWizardData();
    };
    /**
     * 获取某页数据
     */
    /**
     * 获取某页数据
     * @param {?=} pageid
     * @return {?}
     */
    FarrisPageDetailComponent.prototype.getPageData = /**
     * 获取某页数据
     * @param {?=} pageid
     * @return {?}
     */
    function (pageid) {
        if (pageid === void 0) { pageid = this.pageId; }
        return this.wizardSer.getPageData(pageid);
    };
    /**
     * 更新某页数据
     * @param data
     */
    /**
     * 更新某页数据
     * @param {?} data
     * @param {?=} pageid
     * @return {?}
     */
    FarrisPageDetailComponent.prototype.setPageData = /**
     * 更新某页数据
     * @param {?} data
     * @param {?=} pageid
     * @return {?}
     */
    function (data, pageid) {
        if (pageid === void 0) { pageid = this.pageId; }
        this.wizardSer.setPageData(data, pageid);
    };
    /**
     * 下一步
     */
    /**
     * 下一步
     * @return {?}
     */
    FarrisPageDetailComponent.prototype.nextStep = /**
     * 下一步
     * @return {?}
     */
    function () {
        this.wizardSer.updateWizardState(WizardEventType.Next, this.pageId);
    };
    /**
     * 上一步
     */
    /**
     * 上一步
     * @return {?}
     */
    FarrisPageDetailComponent.prototype.prevStep = /**
     * 上一步
     * @return {?}
     */
    function () {
        this.wizardSer.updateWizardState(WizardEventType.Prev, this.pageId);
    };
    /**
     * 结束向导
     */
    /**
     * 结束向导
     * @return {?}
     */
    FarrisPageDetailComponent.prototype.finishWizard = /**
     * 结束向导
     * @return {?}
     */
    function () {
        this.wizardSer.updateWizardState(WizardEventType.Finish, this.pageId);
    };
    /**
     * 取消向导
     */
    /**
     * 取消向导
     * @return {?}
     */
    FarrisPageDetailComponent.prototype.cancelWizard = /**
     * 取消向导
     * @return {?}
     */
    function () {
        this.wizardSer.updateWizardState(WizardEventType.Cancel, this.pageId);
    };
    FarrisPageDetailComponent.decorators = [
        { type: Component, args: [{
                    selector: 'wizard-page-detail',
                    template: "<div class=\"f-component-wizard-page-detail-header\" *ngIf=\"pageHeaderTemplate\">\r\n    <ng-container [ngTemplateOutlet]=\"pageHeaderTemplate\"></ng-container>\r\n</div>\r\n<!-- <div class=\"page-message\">\r\n                <ng-container [ngTemplateOutlet]=\"pageMessageTemplate\"></ng-container>\r\n        </div> -->\r\n<div class=\"f-component-wizard-page-detail-content\" *ngIf=\"pageContentTemplate\">\r\n    <ng-container [ngTemplateOutlet]=\"pageContentTemplate\"></ng-container>\r\n</div>\r\n<div class=\"f-component-wizard-page-detail-content\" *ngIf=\"!pageContentTemplate\">\r\n    <ng-content></ng-content>\r\n</div>\r\n<div class=\"f-component-wizard-page-detail-footer\" *ngIf=\"pageFooterTemplate\">\r\n    <ng-container [ngTemplateOutlet]=\"pageFooterTemplate\"></ng-container>\r\n</div>\r\n",
                    styles: [":host.f-component-wizard-page-detail-fill{-webkit-box-flex:1;flex-grow:1;flex-shrink:1;flex-basis:0;display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column}:host.f-component-wizard-page-detail-fill .f-component-wizard-page-detail-footer,:host.f-component-wizard-page-detail-fill .f-component-wizard-page-detail-headeer{flex-shrink:0}:host.f-component-wizard-page-detail-fill .f-component-wizard-page-detail-content{-webkit-box-flex:1;flex-grow:1;flex-shrink:1;flex-basis:0;overflow:auto}:host.f-component-wizard-page-detail-fill .f-component-wizard-page-detail-footer{display:-webkit-box;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;-webkit-box-align:center;align-items:center;-webkit-box-pack:end;justify-content:flex-end}"]
                }] }
    ];
    /** @nocollapse */
    FarrisPageDetailComponent.ctorParameters = function () { return [
        { type: WizardService },
        { type: PageService, decorators: [{ type: Optional }] }
    ]; };
    FarrisPageDetailComponent.propDecorators = {
        cls: [{ type: HostBinding, args: ['class.f-component-wizard-page-detail',] }],
        fill: [{ type: HostBinding, args: ['class.f-component-wizard-page-detail-fill',] }],
        pageHeaderTemplate: [{ type: ContentChild, args: [wizardPageHeaderTemplateDirective, { read: TemplateRef },] }],
        pageContentTemplate: [{ type: ContentChild, args: [wizardPageContentTemplateDirective, { read: TemplateRef },] }],
        pageFooterTemplate: [{ type: ContentChild, args: [wizardPageFooterTemplateDirective, { read: TemplateRef },] }],
        pagedetailSelected: [{ type: Output }]
    };
    return FarrisPageDetailComponent;
}());
export { FarrisPageDetailComponent };
if (false) {
    /** @type {?} */
    FarrisPageDetailComponent.prototype.cls;
    /**
     * @type {?}
     * @private
     */
    FarrisPageDetailComponent.prototype.pageId;
    /** @type {?} */
    FarrisPageDetailComponent.prototype.pageHeaderTemplate;
    /** @type {?} */
    FarrisPageDetailComponent.prototype.pageContentTemplate;
    /** @type {?} */
    FarrisPageDetailComponent.prototype.pageFooterTemplate;
    /** @type {?} */
    FarrisPageDetailComponent.prototype.pagedetailSelected;
    /**
     * @type {?}
     * @private
     */
    FarrisPageDetailComponent.prototype.wizardSer;
    /**
     * @type {?}
     * @private
     */
    FarrisPageDetailComponent.prototype.pageSer;
    /* Skipping unhandled member: ;*/
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicGFnZS1kZXRhaWwuY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6Im5nOi8vQGZhcnJpcy91aS13aXphcmQvIiwic291cmNlcyI6WyJsaWIvcGFnZS1kZXRhaWwvcGFnZS1kZXRhaWwuY29tcG9uZW50LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7QUFBQSxPQUFPLEVBQ0gsU0FBUyxFQUVULFNBQVMsRUFDVCxXQUFXLEVBQ1gsWUFBWSxFQUVaLFdBQVcsRUFDWCxNQUFNLEVBQ04sWUFBWSxFQUNaLFFBQVEsRUFDWCxNQUFNLGVBQWUsQ0FBQztBQUV2QixPQUFPLEVBQUUsV0FBVyxFQUFFLE1BQU0seUJBQXlCLENBQUM7QUFDdEQsT0FBTyxFQUFFLGFBQWEsRUFBRSxNQUFNLDJCQUEyQixDQUFDO0FBQzFELE9BQU8sRUFBRSxlQUFlLEVBQUUsTUFBTSx1QkFBdUIsQ0FBQztBQUN4RDtJQUlJLDJDQUFtQixRQUEwQjtRQUExQixhQUFRLEdBQVIsUUFBUSxDQUFrQjtJQUFHLENBQUM7O2dCQUpwRCxTQUFTLFNBQUM7b0JBQ1AsUUFBUSxFQUFFLG9CQUFvQjtpQkFDakM7Ozs7Z0JBZEcsV0FBVzs7SUFpQmYsd0NBQUM7Q0FBQSxBQUxELElBS0M7U0FGWSxpQ0FBaUM7OztJQUM5QixxREFBaUM7O0FBR2pEO0lBSUksNENBQW1CLFFBQTBCO1FBQTFCLGFBQVEsR0FBUixRQUFRLENBQWtCO0lBQUcsQ0FBQzs7Z0JBSnBELFNBQVMsU0FBQztvQkFDUCxRQUFRLEVBQUUscUJBQXFCO2lCQUNsQzs7OztnQkFyQkcsV0FBVzs7SUF3QmYseUNBQUM7Q0FBQSxBQUxELElBS0M7U0FGWSxrQ0FBa0M7OztJQUMvQixzREFBaUM7O0FBRWpEO0lBSUksMkNBQW1CLFFBQTBCO1FBQTFCLGFBQVEsR0FBUixRQUFRLENBQWtCO0lBQUcsQ0FBQzs7Z0JBSnBELFNBQVMsU0FBQztvQkFDUCxRQUFRLEVBQUUsb0JBQW9CO2lCQUNqQzs7OztnQkEzQkcsV0FBVzs7SUE4QmYsd0NB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QUFFLG9CQUFvQjtvQkFDOUIsdXpCQUEyQzs7aUJBRTlDOzs7O2dCQTFCUSxhQUFhO2dCQURiLFdBQVcsdUJBNENYLFFBQVE7OztzQkFmWixXQUFXLFNBQUMsc0NBQXNDO3VCQUNsRCxXQUFXLFNBQUMsMkNBQTJDO3FDQUd2RCxZQUFZLFNBQUMsaUNBQWlDLEVBQUUsRUFBRSxJQUFJLEVBQUUsV0FBVyxFQUFFO3NDQUVyRSxZQUFZLFNBQUMsa0NBQWtDLEVBQUUsRUFBRSxJQUFJLEVBQUUsV0FBVyxFQUFFO3FDQUV0RSxZQUFZLFNBQUMsaUNBQWlDLEVBQUUsRUFBRSxJQUFJLEVBQUUsV0FBVyxFQUFFO3FDQUdyRSxNQUFNOztJQXlFWCxnQ0FBQztDQUFBLEFBMUZELElBMEZDO1NBckZZLHlCQUF5Qjs7O0lBQ2xDLHdDQUFnRTs7Ozs7SUFFaEUsMkNBQW9COztJQUVwQix1REFDcUM7O0lBQ3JDLHdEQUNzQzs7SUFDdEMsdURBQ3FDOztJQUVyQyx1REFBcUU7Ozs7O0lBR2pFLDhDQUFnQzs7Ozs7SUFDaEMsNENBQXdDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcclxuICAgIENvbXBvbmVudCxcclxuICAgIE9uSW5pdCxcclxuICAgIERpcmVjdGl2ZSxcclxuICAgIFRlbXBsYXRlUmVmLFxyXG4gICAgQ29udGVudENoaWxkLFxyXG4gICAgSW5wdXQsXHJcbiAgICBIb3N0QmluZGluZyxcclxuICAgIE91dHB1dCxcclxuICAgIEV2ZW50RW1pdHRlcixcclxuICAgIE9wdGlvbmFsXHJcbn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcblxyXG5pbXBvcnQgeyBQYWdlU2VydmljZSB9IGZyb20gJy4uL3NlcnZpY2UvcGFnZS5zZXJ2aWNlJztcclxuaW1wb3J0IHsgV2l6YXJkU2VydmljZSB9IGZyb20gJy4uL3NlcnZpY2Uvd2l6YXJkLnNlcnZpY2UnO1xyXG5pbXBvcnQgeyBXaXphcmRFdmVudFR5cGUgfSBmcm9tICcuLi9tb2RlbC93aXphcmQubW9kZWwnO1xyXG5ARGlyZWN0aXZlKHtcclxuICAgIHNlbGVjdG9yOiAnW3dpemFyZFBhZ2VIZWFkZXJdJ1xyXG59KVxyXG5leHBvcnQgY2xhc3Mgd2l6YXJkUGFnZUhlYWRlclRlbXBsYXRlRGlyZWN0aXZlIHtcclxuICAgIGNvbnN0cnVjdG9yKHB1YmxpYyB0ZW1wbGF0ZTogVGVtcGxhdGVSZWY8YW55Pikge31cclxufVxyXG5cclxuQERpcmVjdGl2ZSh7XHJcbiAgICBzZWxlY3RvcjogJ1t3aXphcmRQYWdlQ29udGVudF0nXHJcbn0pXHJcbmV4cG9ydCBjbGFzcyB3aXphcmRQYWdlQ29udGVudFRlbXBsYXRlRGlyZWN0aXZlIHtcclxuICAgIGNvbnN0cnVjdG9yKHB1YmxpYyB0ZW1wbGF0ZTogVGVtcGxhdGVSZWY8YW55Pikge31cclxufVxyXG5ARGlyZWN0aXZlKHtcclxuICAgIHNlbGVjdG9yOiAnW3dpemFyZFBhZ2VGb290ZXJdJ1xyXG59KVxyXG5leHBvcnQgY2xhc3Mgd2l6YXJkUGFnZUZvb3RlclRlbXBsYXRlRGlyZWN0aXZlIHtcclxuICAgIGNvbnN0cnVjdG9yKHB1YmxpYyB0ZW1wbGF0ZTogVGVtcGxhdGVSZWY8YW55Pikge31cclxufVxyXG5cclxuQENvbXBvbmVudCh7XHJcbiAgICBzZWxlY3RvcjogJ3dpemFyZC1wYWdlLWRldGFpbCcsXHJcbiAgICB0ZW1wbGF0ZVVybDogJy4vcGFnZS1kZXRhaWwuY29tcG9uZW50Lmh0bWwnLFxyXG4gICAgc3R5bGVVcmxzOiBbJy4vcGFnZS1kZXRhaWwuY29tcG9uZW50LnNjc3MnXVxyXG59KVxyXG5leHBvcnQgY2xhc3MgRmFycmlzUGFnZURldGFpbENvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCB7XHJcbiAgICBASG9zdEJpbmRpbmcoJ2NsYXNzLmYtY29tcG9uZW50LXdpemFyZC1wYWdlLWRldGFpbCcpIGNscyA9IHRydWU7XHJcbiAgICBASG9zdEJpbmRpbmcoJ2NsYXNzLmYtY29tcG9uZW50LXdpemFyZC1wYWdlLWRldGFpbC1maWxsJykgZ2V0IGZpbGwoKXtyZXR1cm4gdGhpcy53aXphcmRTZXIuZ2V0UGFnZUZpbGwoKX07XHJcbiAgICBwcml2YXRlIHBhZ2VJZCA9ICcnO1xyXG5cclxuICAgIEBDb250ZW50Q2hpbGQod2l6YXJkUGFnZUhlYWRlclRlbXBsYXRlRGlyZWN0aXZlLCB7IHJlYWQ6IFRlbXBsYXRlUmVmIH0pXHJcbiAgICBwYWdlSGVhZGVyVGVtcGxhdGU6IFRlbXBsYXRlUmVmPGFueT47XHJcbiAgICBAQ29udGVudENoaWxkKHdpemFyZFBhZ2VDb250ZW50VGVtcGxhdGVEaXJlY3RpdmUsIHsgcmVhZDogVGVtcGxhdGVSZWYgfSlcclxuICAgIHBhZ2VDb250ZW50VGVtcGxhdGU6IFRlbXBsYXRlUmVmPGFueT47XHJcbiAgICBAQ29udGVudENoaWxkKHdpemFyZFBhZ2VGb290ZXJUZW1wbGF0ZURpcmVjdGl2ZSwgeyByZWFkOiBUZW1wbGF0ZVJlZiB9KVxyXG4gICAgcGFnZUZvb3RlclRlbXBsYXRlOiBUZW1wbGF0ZVJlZjxhbnk+O1xyXG5cclxuICAgIEBPdXRwdXQoKSBwYWdlZGV0YWlsU2VsZWN0ZWQ6IEV2ZW50RW1pdHRlcjxhbnk+ID0gbmV3IEV2ZW50RW1pdHRlcigpO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKFxyXG4gICAgICAgIHByaXZhdGUgd2l6YXJkU2VyOiBXaXphcmRTZXJ2aWNlLFxyXG4gICAgICAgIEBPcHRpb25hbCgpIHByaXZhdGUgcGFnZVNlcjogUGFnZVNlcnZpY2VcclxuICAgICkge1xyXG4gICAgICAgIGlmICghdGhpcy5wYWdlU2VyKSB7XHJcbiAgICAgICAgICAgIHRoaXMucGFnZVNlciA9IG5ldyBQYWdlU2VydmljZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnBhZ2VTZXIuYWN0aXZlU3RhdGUuc3Vic2NyaWJlKGRhdGEgPT4ge1xyXG4gICAgICAgICAgICAvL2NvbnNvbGUubG9nKCdGYXJyaXNQYWdlRGV0YWlsQ29tcG9uZW504oCU4oCUJyArIHRoaXMucGFnZUlkKyfigJTigJQnK2RhdGEpO1xyXG4gICAgICAgICAgICBpZihkYXRhLnN0YXRlKXtcclxuICAgICAgICAgICAgICAgIHRoaXMucGFnZWRldGFpbFNlbGVjdGVkLmVtaXQoZGF0YSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIFxyXG4gICAgfVxyXG5cclxuICAgIG5nT25Jbml0KCkge1xyXG4gICAgICAgIHRoaXMucGFnZUlkID0gdGhpcy5wYWdlU2VyLmdldFBhZ2VJZCgpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldFBhZ2VJZCgpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnBhZ2VJZDtcclxuICAgIH1cclxuXHJcbiAgICBnZXRQcmV2UGFnZUlkKCk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMud2l6YXJkU2VyLmdldFByZVBhZ2VJZCh0aGlzLnBhZ2VJZCk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0V2l6YXJkRGF0YSgpe1xyXG4gICAgICAgIHJldHVybiB0aGlzLndpemFyZFNlci5nZXRXaXphcmREYXRhKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDojrflj5bmn5DpobXmlbDmja5cclxuICAgICAqL1xyXG4gICAgZ2V0UGFnZURhdGEocGFnZWlkID0gdGhpcy5wYWdlSWQpOiBhbnkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLndpemFyZFNlci5nZXRQYWdlRGF0YShwYWdlaWQpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiDmm7TmlrDmn5DpobXmlbDmja5cclxuICAgICAqIEBwYXJhbSBkYXRhXHJcbiAgICAgKi9cclxuICAgIHNldFBhZ2VEYXRhKGRhdGE6IGFueSwgcGFnZWlkID0gdGhpcy5wYWdlSWQpIHtcclxuICAgICAgICB0aGlzLndpemFyZFNlci5zZXRQYWdlRGF0YShkYXRhLCBwYWdlaWQpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiDkuIvkuIDmraVcclxuICAgICAqL1xyXG4gICAgbmV4dFN0ZXAoKSB7XHJcbiAgICAgICAgdGhpcy53aXphcmRTZXIudXBkYXRlV2l6YXJkU3RhdGUoV2l6YXJkRXZlbnRUeXBlLk5leHQsIHRoaXMucGFnZUlkKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICog5LiK5LiA5q2lXHJcbiAgICAgKi9cclxuICAgIHByZXZTdGVwKCkge1xyXG4gICAgICAgIHRoaXMud2l6YXJkU2VyLnVwZGF0ZVdpemFyZFN0YXRlKFdpemFyZEV2ZW50VHlwZS5QcmV2LCB0aGlzLnBhZ2VJZCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIOe7k+adn+WQkeWvvFxyXG4gICAgICovXHJcbiAgICBmaW5pc2hXaXphcmQoKSB7XHJcbiAgICAgICAgdGhpcy53aXphcmRTZXIudXBkYXRlV2l6YXJkU3RhdGUoV2l6YXJkRXZlbnRUeXBlLkZpbmlzaCwgdGhpcy5wYWdlSWQpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiDlj5bmtojlkJHlr7xcclxuICAgICAqL1xyXG4gICAgY2FuY2VsV2l6YXJkKCkge1xyXG4gICAgICAgIHRoaXMud2l6YXJkU2VyLnVwZGF0ZVdpemFyZFN0YXRlKFdpemFyZEV2ZW50VHlwZS5DYW5jZWwsIHRoaXMucGFnZUlkKTtcclxuICAgIH1cclxufVxyXG4iXX0=