!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("rxjs"),require("@angular/core")):"function"==typeof define&&define.amd?define("@farris/ui-draggable",["exports","rxjs","@angular/core"],e):e((t.farris=t.farris||{},t.farris["ui-draggable"]={}),t.rxjs,t.ng.core)}(this,function(t,i,s){"use strict";var n=(r.fromEvent=function(t,e){if(void 0===e&&(e=null),this.isMouseEvent(t))return new r(t.clientX,t.clientY);if(null===e||1===t.changedTouches.length)return new r(t.changedTouches[0].clientX,t.changedTouches[0].clientY);for(var i=0;i<t.changedTouches.length;i++)if(t.changedTouches[i].target===e)return new r(t.changedTouches[i].clientX,t.changedTouches[i].clientY)},r.isMouseEvent=function(t){return 8===Object.prototype.toString.apply(t).indexOf("MouseEvent")},r.isIPosition=function(t){return!!t&&"x"in t&&"y"in t},r.getCurrent=function(t){var e=new r(0,0);if(window){var i=window.getComputedStyle(t);if(i){var s=parseInt(i.getPropertyValue("left"),10),n=parseInt(i.getPropertyValue("top"),10);e.x=isNaN(s)?0:s,e.y=isNaN(n)?0:n}return e}return null},r.copy=function(t){return new r(0,0).set(t)},Object.defineProperty(r.prototype,"value",{get:function(){return{x:this.x,y:this.y}},enumerable:!0,configurable:!0}),r.prototype.add=function(t){return this.x+=t.x,this.y+=t.y,this},r.prototype.subtract=function(t){return this.x-=t.x,this.y-=t.y,this},r.prototype.multiply=function(t){this.x*=t,this.y*=t},r.prototype.divide=function(t){this.x/=t,this.y/=t},r.prototype.reset=function(){return this.x=0,this.y=0,this},r.prototype.set=function(t){return this.x=t.x,this.y=t.y,this},r);function r(t,e){this.x=t,this.y=e}var o=(e.prototype.add=function(){this.parent&&!this._added&&(this.parent.appendChild(this._helper),this._added=!0)},e.prototype.remove=function(){this.parent&&this._added&&(this.parent.removeChild(this._helper),this._added=!1)},e.prototype.dispose=function(){this._helper=null,this._added=!1},Object.defineProperty(e.prototype,"el",{get:function(){return this._helper},enumerable:!0,configurable:!0}),e);function e(t,e){this.parent=t,this.renderer=e,this._added=!1;var i=e.createElement("div");e.setStyle(i,"position","absolute"),e.setStyle(i,"width","100%"),e.setStyle(i,"height","100%"),e.setStyle(i,"background-color","transparent"),e.setStyle(i,"top","0"),e.setStyle(i,"left","0"),this._helper=i}var h=(Object.defineProperty(a.prototype,"zIndex",{set:function(t){this.renderer.setStyle(this.el.nativeElement,"z-index",t),this._zIndex=t},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"ngDraggable",{set:function(t){if(t!==undefined&&null!==t&&""!==t){this.allowDrag=!!t;var e=this.getDragEl();this.allowDrag?this.renderer.addClass(e,"ng-draggable"):(this.putBack(),this.renderer.removeClass(e,"ng-draggable"))}},enumerable:!0,configurable:!0}),a.prototype.ngOnInit=function(){if(this.allowDrag){var t=this.getDragEl();this.renderer.addClass(t,"ng-draggable")}this.resetPosition()},a.prototype.ngOnDestroy=function(){this.bounds=null,this.handle=null,this.orignal=null,this.oldTrans=null,this.tempTrans=null,this.currTrans=null,this._helperBlock.dispose(),this._helperBlock=null,this.draggingSub&&this.draggingSub.unsubscribe()},a.prototype.ngOnChanges=function(t){if(t.position&&!t.position.isFirstChange()){var e=t.position.currentValue;this.moving?this.needTransform=!0:(n.isIPosition(e)?this.oldTrans.set(e):this.oldTrans.reset(),this.transform())}},a.prototype.ngAfterViewInit=function(){this.inBounds&&(this.boundsCheck(),this.oldTrans.add(this.tempTrans),this.tempTrans.reset())},a.prototype.getDragEl=function(){return this.handle?this.handle:this.el.nativeElement},a.prototype.resetPosition=function(){n.isIPosition(this.position)?this.oldTrans.set(this.position):this.oldTrans.reset(),this.tempTrans.reset(),this.transform()},a.prototype.moveTo=function(t){this.orignal&&t.subtract(this.orignal),this.tempTrans.set(t),this.tempTrans.divide(this.scale),this.transform(),(this.bounds||this.isFixed)&&this.edge.emit(this.boundsCheck()),this.movingOffset.emit(this.currTrans.value)},a.prototype.transform=function(){var t=this.tempTrans.x+this.oldTrans.x,e=this.tempTrans.y+this.oldTrans.y;"x"===this.lockAxis?(t=this.oldTrans.x,this.tempTrans.x=0):"y"===this.lockAxis&&(e=this.oldTrans.y,this.tempTrans.y=0),1<this.gridSize&&(t=Math.round(t/this.gridSize)*this.gridSize,e=Math.round(e/this.gridSize)*this.gridSize);var i="translate3d("+Math.round(t)+"px, "+Math.round(e)+"px, 0px)";this.renderer.setStyle(this.el.nativeElement,"transform",i),this.renderer.setStyle(this.el.nativeElement,"-webkit-transform",i),this.renderer.setStyle(this.el.nativeElement,"-ms-transform",i),this.renderer.setStyle(this.el.nativeElement,"-moz-transform",i),this.renderer.setStyle(this.el.nativeElement,"-o-transform",i),this.currTrans.x=t,this.currTrans.y=e},a.prototype.pickUp=function(){if(this.oldZIndex=this.el.nativeElement.style.zIndex?this.el.nativeElement.style.zIndex:"",window&&(this.oldZIndex=window.getComputedStyle(this.el.nativeElement,null).getPropertyValue("z-index")),this.zIndexMoving&&this.renderer.setStyle(this.el.nativeElement,"z-index",this.zIndexMoving),!this.moving){this.started.emit(this.el.nativeElement),this.moving=!0;var t=this.getDragEl();this.renderer.addClass(t,"ng-dragging"),this.subscribeEvents()}},a.prototype.subscribeEvents=function(){var e=this;this.draggingSub=i.fromEvent(document,"mousemove",{passive:!1}).subscribe(function(t){return e.onMouseMove(t)}),this.draggingSub.add(i.fromEvent(document,"touchmove",{passive:!1}).subscribe(function(t){return e.onMouseMove(t)})),this.draggingSub.add(i.fromEvent(document,"mouseup",{passive:!1}).subscribe(function(){return e.putBack()})),/msie\s|trident\//i.test(window.navigator.userAgent)||this.draggingSub.add(i.fromEvent(document,"mouseleave",{passive:!1}).subscribe(function(){return e.putBack()})),this.draggingSub.add(i.fromEvent(document,"touchend",{passive:!1}).subscribe(function(){return e.putBack()})),this.draggingSub.add(i.fromEvent(document,"touchcancel",{passive:!1}).subscribe(function(){return e.putBack()}))},a.prototype.unsubscribeEvents=function(){this.draggingSub.unsubscribe(),this.draggingSub=null},a.prototype.boundsCheck=function(){if(!this.bounds&&!this.isFixed)return null;var t=this.isFixed?{top:0,left:0,right:window.innerWidth,bottom:window.innerHeight}:this.bounds.getBoundingClientRect(),e=this.el.nativeElement.getBoundingClientRect(),i={top:!!this.outOfBounds.top||t.top<e.top,right:!!this.outOfBounds.right||t.right>e.right,bottom:!!this.outOfBounds.bottom||t.bottom>e.bottom,left:!!this.outOfBounds.left||t.left<e.left};return this.inBounds&&(i.top||(this.tempTrans.y-=(e.top-t.top)/this.scale),i.bottom||(this.tempTrans.y-=(e.bottom-t.bottom)/this.scale),i.right||(this.tempTrans.x-=(e.right-t.right)/this.scale),i.left||(this.tempTrans.x-=(e.left-t.left)/this.scale),this.transform()),i},a.prototype.getCurrentOffset=function(){return this.currTrans.value},a.prototype.putBack=function(){if(this._zIndex?this.renderer.setStyle(this.el.nativeElement,"z-index",this._zIndex):this.zIndexMoving&&(this.oldZIndex?this.renderer.setStyle(this.el.nativeElement,"z-index",this.oldZIndex):this.el.nativeElement.style.removeProperty("z-index")),this.moving){this.stopped.emit(this.el.nativeElement),this._helperBlock.remove(),this.needTransform&&(n.isIPosition(this.position)?this.oldTrans.set(this.position):this.oldTrans.reset(),this.transform(),this.needTransform=!1),this.bounds&&this.edge.emit(this.boundsCheck()),this.moving=!1,this.endOffset.emit(this.currTrans.value),this.trackPosition&&this.oldTrans.add(this.tempTrans),this.tempTrans.reset(),this.trackPosition||this.transform();var t=this.getDragEl();this.renderer.removeClass(t,"ng-dragging"),this.unsubscribeEvents()}},a.prototype.checkHandleTarget=function(t,e){if("BUTTON"===e.tagName)return!1;if("SPAN"===e.tagName&&e.parentElement.classList.contains("f-btn-icon"))return!1;if(e===t)return!0;for(var i in e.children)if(e.children.hasOwnProperty(i)&&this.checkHandleTarget(t,e.children[i]))return!0;return!1},a.prototype.onMouseDown=function(t){if(!(t instanceof MouseEvent&&2===t.button)){var e=t.target||t.srcElement;this.handle!==undefined&&!this.checkHandleTarget(e,this.handle)||!1===this.allowDrag||(this.preventDefaultEvent&&(t.stopPropagation(),t.preventDefault()),this.orignal=n.fromEvent(t,this.getDragEl()),this.pickUp())}},a.prototype.onMouseMove=function(t){this.moving&&this.allowDrag&&(this.preventDefaultEvent&&(t.stopPropagation(),t.preventDefault()),this._helperBlock.add(),this.moveTo(n.fromEvent(t,this.getDragEl())))},a.decorators=[{type:s.Directive,args:[{selector:"[ngDraggable]",exportAs:"ngDraggable"}]}],a.ctorParameters=function(){return[{type:s.ElementRef},{type:s.Renderer2}]},a.propDecorators={started:[{type:s.Output}],stopped:[{type:s.Output}],edge:[{type:s.Output}],handle:[{type:s.Input}],bounds:[{type:s.Input}],outOfBounds:[{type:s.Input}],gridSize:[{type:s.Input}],zIndexMoving:[{type:s.Input}],zIndex:[{type:s.Input}],inBounds:[{type:s.Input}],trackPosition:[{type:s.Input}],scale:[{type:s.Input}],preventDefaultEvent:[{type:s.Input}],position:[{type:s.Input}],lockAxis:[{type:s.Input}],movingOffset:[{type:s.Output}],endOffset:[{type:s.Output}],isFixed:[{type:s.Input}],ngDraggable:[{type:s.Input}],onMouseDown:[{type:s.HostListener,args:["mousedown",["$event"]]},{type:s.HostListener,args:["touchstart",["$event"]]}]},a);function a(t,e){this.el=t,this.renderer=e,this.allowDrag=!0,this.moving=!1,this.orignal=null,this.oldTrans=new n(0,0),this.tempTrans=new n(0,0),this.currTrans=new n(0,0),this.oldZIndex="",this._zIndex="",this.needTransform=!1,this.draggingSub=null,this._helperBlock=null,this.started=new s.EventEmitter,this.stopped=new s.EventEmitter,this.edge=new s.EventEmitter,this.outOfBounds={top:!1,right:!1,bottom:!1,left:!1},this.gridSize=1,this.inBounds=!1,this.trackPosition=!0,this.scale=1,this.preventDefaultEvent=!1,this.position={x:0,y:0},this.lockAxis=null,this.movingOffset=new s.EventEmitter,this.endOffset=new s.EventEmitter,this.isFixed=!1,this._helperBlock=new o(t.nativeElement,e)}var u=function(){return(u=Object.assign||function(t){for(var e,i=1,s=arguments.length;i<s;i++)for(var n in e=arguments[i])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}).apply(this,arguments)};function c(t){var e="function"==typeof Symbol&&t[Symbol.iterator],i=0;return e?e.call(t):{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}}}var d=(l.prototype.dispose=function(){this._handle.removeEventListener("mousedown",this._onResize),this._handle.removeEventListener("touchstart",this._onResize),this.parent&&this.parent.removeChild(this._handle),this._handle=null,this._onResize=null},Object.defineProperty(l.prototype,"el",{get:function(){return this._handle},enumerable:!0,configurable:!0}),l);function l(t,e,i,s,n){var r=this;this.parent=t,this.renderer=e,this.type=i,this.css=s,this.onMouseDown=n;var o=e.createElement("div");e.addClass(o,"ng-resizable-handle"),e.addClass(o,s),"se"===i&&e.addClass(o,"ng-resizable-diagonal"),this.parent&&t.appendChild(o),this._onResize=function(t){n(t,r)},o.addEventListener("mousedown",this._onResize,{passive:!1}),o.addEventListener("touchstart",this._onResize,{passive:!1}),this._handle=o}var p=(g.getCurrent=function(t){var e=new g(0,0);if(window){var i=window.getComputedStyle(t);return i&&(e.width=parseInt(i.getPropertyValue("width"),10),e.height=parseInt(i.getPropertyValue("height"),10)),e}return null},g.copy=function(t){return new g(0,0).set(t)},g.prototype.set=function(t){return this.width=t.width,this.height=t.height,this},g);function g(t,e){this.width=t,this.height=e}var _=(Object.defineProperty(f.prototype,"ngResizable",{set:function(t){t!==undefined&&null!==t&&""!==t&&(this._resizable=!!t,this.updateResizable())},enumerable:!0,configurable:!0}),f.prototype.ngOnChanges=function(t){t.rzHandles&&!t.rzHandles.isFirstChange()&&this.updateResizable(),t.rzAspectRatio&&!t.rzAspectRatio.isFirstChange()&&this.updateAspectRatio(),t.rzContainment&&!t.rzContainment.isFirstChange()&&this.updateContainment()},f.prototype.ngOnInit=function(){this.updateResizable()},f.prototype.ngOnDestroy=function(){this.removeHandles(),this._containment=null,this._helperBlock&&(this._helperBlock.dispose(),this._helperBlock=null)},f.prototype.ngAfterViewInit=function(){var t=this.el.nativeElement;this._initSize=p.getCurrent(t),this._initPos=n.getCurrent(t),this._currSize=p.copy(this._initSize),this._currPos=n.copy(this._initPos),this.updateAspectRatio(),this.updateContainment()},f.prototype.resetSize=function(){this._currSize=p.copy(this._initSize),this._currPos=n.copy(this._initPos),this.doResize()},f.prototype.getStatus=function(){return this._currPos&&this._currSize?{size:{width:this._currSize.width,height:this._currSize.height},position:{top:this._currPos.y,left:this._currPos.x}}:null},f.prototype.updateResizable=function(){var t=this.el.nativeElement;this.renderer.removeClass(t,"ng-resizable"),this.rzCls&&this.renderer.removeClass(t,this.rzCls),this.removeHandles(),this._resizable&&(this.renderer.addClass(t,"ng-resizable"),this.rzCls&&this.renderer.addClass(t,this.rzCls),this.createHandles())},f.prototype.updateAspectRatio=function(){if("boolean"==typeof this.rzAspectRatio)this.rzAspectRatio&&this._currSize.height?this._aspectRatio=this._currSize.width/this._currSize.height:this._aspectRatio=0;else{var t=Number(this.rzAspectRatio);this._aspectRatio=isNaN(t)?0:t}},f.prototype.updateContainment=function(){this.rzContainment&&!this.isFixed?"string"==typeof this.rzContainment?"parent"===this.rzContainment?this._containment=this.el.nativeElement.parentElement:this._containment=document.querySelector(this.rzContainment):this._containment=this.rzContainment:this._containment=null},f.prototype.createHandles=function(){var t,e,i,s,n;if(this.rzHandles)if("string"==typeof this.rzHandles){n="all"===this.rzHandles?["n","e","s","w","ne","se","nw","sw"]:this.rzHandles.replace(/ /g,"").toLowerCase().split(",");try{for(var r=c(n),o=r.next();!o.done;o=r.next()){var h=o.value;(d=this.createHandleByType(h,"ng-resizable-"+h))&&(this._handleType.push(h),this._handles[h]=d)}}catch(l){t={error:l}}finally{try{o&&!o.done&&(e=r["return"])&&e.call(r)}finally{if(t)throw t.error}}}else{n=Object.keys(this.rzHandles);try{for(var a=c(n),u=a.next();!u.done;u=a.next()){var d;h=u.value,(d=this.createHandleByType(h,this.rzHandles[h]))&&(this._handleType.push(h),this._handles[h]=d)}}catch(p){i={error:p}}finally{try{u&&!u.done&&(s=a["return"])&&s.call(a)}finally{if(i)throw i.error}}}},f.prototype.createHandleByType=function(t,e){var i=this.el.nativeElement;return t.match(/^(se|sw|ne|nw|n|e|s|w)$/)?new d(i,this.renderer,t,e,this.onMouseDown.bind(this)):null},f.prototype.removeHandles=function(){var t,e;try{for(var i=c(this._handleType),s=i.next();!s.done;s=i.next()){var n=s.value;this._handles[n].dispose()}}catch(r){t={error:r}}finally{try{s&&!s.done&&(e=i["return"])&&e.call(i)}finally{if(t)throw t.error}}this._handleType=[],this._handles={}},f.prototype.onMouseDown=function(t,e){t instanceof MouseEvent&&2===t.button||(this.preventDefaultEvent&&(t.stopPropagation(),t.preventDefault()),this._handleResizing||(this._origMousePos=n.fromEvent(t),this.startResize(e),this.subscribeEvents()))},f.prototype.subscribeEvents=function(){var e=this;this.draggingSub=i.fromEvent(document,"mousemove",{passive:!1}).subscribe(function(t){return e.onMouseMove(t)}),this.draggingSub.add(i.fromEvent(document,"touchmove",{passive:!1}).subscribe(function(t){return e.onMouseMove(t)})),this.draggingSub.add(i.fromEvent(document,"mouseup",{passive:!1}).subscribe(function(){return e.onMouseLeave()})),/msie\s|trident\//i.test(window.navigator.userAgent)||this.draggingSub.add(i.fromEvent(document,"mouseleave",{passive:!1}).subscribe(function(){return e.onMouseLeave()})),this.draggingSub.add(i.fromEvent(document,"touchend",{passive:!1}).subscribe(function(){return e.onMouseLeave()})),this.draggingSub.add(i.fromEvent(document,"touchcancel",{passive:!1}).subscribe(function(){return e.onMouseLeave()}))},f.prototype.unsubscribeEvents=function(){this.draggingSub.unsubscribe(),this.draggingSub=null},f.prototype.onMouseLeave=function(){this._handleResizing&&(this.stopResize(),this._origMousePos=null,this.unsubscribeEvents())},f.prototype.onMouseMove=function(t){this._handleResizing&&this._resizable&&this._origMousePos&&this._origPos&&this._origSize&&(this.resizeTo(n.fromEvent(t)),this.onResizing())},f.prototype.startResize=function(t){var e=this.el.nativeElement;this._origSize=p.getCurrent(e),this._origPos=n.getCurrent(e),this._currSize=p.copy(this._origSize),this._currPos=n.copy(this._origPos),(this._containment||this.isFixed)&&this.getBounding(),this.getGridSize(),this._helperBlock.add(),this._handleResizing=t,this.updateDirection(),this.rzStart.emit(this.getResizingEvent())},f.prototype.stopResize=function(){this._helperBlock.remove(),this.rzStop.emit(this.getResizingEvent()),this._handleResizing=null,this._direction=null,this._origSize=null,this._origPos=null,(this._containment||this.isFixed)&&this.resetBounding()},f.prototype.onResizing=function(){this.rzResizing.emit(this.getResizingEvent())},f.prototype.getResizingEvent=function(){var e=this;return{host:this.el.nativeElement,handle:this._handleResizing?this._handleResizing.el:null,size:{width:this._currSize.width,height:this._currSize.height},position:{top:this._currPos.y,left:this._currPos.x},direction:u({},this._directionChanged),actions:{stopResize:function(){e.onMouseLeave()},updateParams:function(t){e.updateParams(t)}}}},f.prototype.updateParams=function(t){t&&t.hasOwnProperty("fixedEdge")&&(this.fixedEdge=t.fixedEdge)},f.prototype.updateDirection=function(){this._direction={n:!!this._handleResizing.type.match(/n/),s:!!this._handleResizing.type.match(/s/),w:!!this._handleResizing.type.match(/w/),e:!!this._handleResizing.type.match(/e/)},this._directionChanged=u({},this._direction),this.rzAspectRatio&&(this._directionChanged.n&&!this._directionChanged.e&&(this._directionChanged.w=!0),this._directionChanged.s&&!this._directionChanged.w&&(this._directionChanged.e=!0),this._directionChanged.e&&!this._directionChanged.n&&(this._directionChanged.s=!0),this._directionChanged.w&&!this._directionChanged.n&&(this._directionChanged.s=!0))},f.prototype.resizeTo=function(t){t.subtract(this._origMousePos);var e=Math.round(t.x/this._gridSize.x)*this._gridSize.x,i=Math.round(t.y/this._gridSize.y)*this._gridSize.y;this._direction.n?(this._currPos.y=this._origPos.y+i,this._currSize.height=this._origSize.height-i):this._direction.s&&(this._currSize.height=this._origSize.height+i),this._direction.e?this._currSize.width=this._origSize.width+e:this._direction.w&&(this._currSize.width=this._origSize.width-e,this._currPos.x=this._origPos.x+e),this.checkBounds(),this.checkSize(),this.adjustByRatio(),this.doResize()},f.prototype.doResize=function(){var t=this.el.nativeElement;(!this._direction||this._direction.n||this._direction.s||this._aspectRatio)&&this.renderer.setStyle(t,"height",this._currSize.height+"px"),(!this._direction||this._direction.w||this._direction.e||this._aspectRatio)&&this.renderer.setStyle(t,"width",this._currSize.width+"px"),this.fixedEdge||(this.renderer.setStyle(t,"left",this._currPos.x+"px"),this.renderer.setStyle(t,"top",this._currPos.y+"px"))},f.prototype.adjustByRatio=function(){if(this._aspectRatio&&!this._adjusted)if(this._direction.e||this._direction.w){var t=Math.floor(this._currSize.width/this._aspectRatio);this._direction.n&&(this._currPos.y+=this._currSize.height-t),this._currSize.height=t}else{var e=Math.floor(this._aspectRatio*this._currSize.height);this._direction.n&&(this._currPos.x+=this._currSize.width-e),this._currSize.width=e}},f.prototype.checkBounds=function(){if(this._containment||this.isFixed){var t=this._bounding.width-this._bounding.pr-this._bounding.deltaL-this._bounding.translateX-this._currPos.x,e=this._bounding.height-this._bounding.pb-this._bounding.deltaT-this._bounding.translateY-this._currPos.y;if(this._direction.n&&this._currPos.y+this._bounding.translateY<0&&(this._currPos.y=-this._bounding.translateY,this._currSize.height=this._origSize.height+this._origPos.y+this._bounding.translateY),this._direction.w&&this._currPos.x+this._bounding.translateX<0&&(this._currPos.x=-this._bounding.translateX,this._currSize.width=this._origSize.width+this._origPos.x+this._bounding.translateX),this._currSize.width>t&&(this._currSize.width=t),this._currSize.height>e&&(this._currSize.height=e),this._aspectRatio){if(this._adjusted=!1,(this._direction.w||this._direction.e)&&this._currSize.width/this._aspectRatio>=e){var i=Math.floor(e*this._aspectRatio);this._direction.w&&(this._currPos.x+=this._currSize.width-i),this._currSize.width=i,this._currSize.height=e,this._adjusted=!0}if((this._direction.n||this._direction.s)&&this._currSize.height*this._aspectRatio>=t){var s=Math.floor(t/this._aspectRatio);this._direction.n&&(this._currPos.y+=this._currSize.height-s),this._currSize.width=t,this._currSize.height=s,this._adjusted=!0}}}},f.prototype.checkSize=function(){var t=this.rzMinHeight?this.rzMinHeight:1,e=this.rzMinWidth?this.rzMinWidth:1;this._currSize.height<t&&(this._currSize.height=t,this._direction.n&&(this._currPos.y=this._origPos.y+(this._origSize.height-t))),this._currSize.width<e&&(this._currSize.width=e,this._direction.w&&(this._currPos.x=this._origPos.x+(this._origSize.width-e))),this.rzMaxHeight&&this._currSize.height>this.rzMaxHeight&&(this._currSize.height=this.rzMaxHeight,this._direction.n&&(this._currPos.y=this._origPos.y+(this._origSize.height-this.rzMaxHeight))),this.rzMaxWidth&&this._currSize.width>this.rzMaxWidth&&(this._currSize.width=this.rzMaxWidth,this._direction.w&&(this._currPos.x=this._origPos.x+(this._origSize.width-this.rzMaxWidth)))},f.prototype.getBounding=function(){var t=this._containment,e=this.isFixed?null:window.getComputedStyle(t);if(this.isFixed||e){var i=window.getComputedStyle(this.el.nativeElement).getPropertyValue("transform").replace(/[^-\d,]/g,"").split(",");if(this._bounding={},this._bounding.deltaL=this.el.nativeElement.offsetLeft-this._currPos.x,this._bounding.deltaT=this.el.nativeElement.offsetTop-this._currPos.y,this.isFixed)this._bounding.width=window.innerWidth,this._bounding.height=window.innerHeight,this._bounding.pr=10,this._bounding.pb=10;else{var s=e.getPropertyValue("position");this._bounding.width=t.clientWidth,this._bounding.height=t.clientHeight,this._bounding.pr=parseInt(e.getPropertyValue("padding-right"),10),this._bounding.pb=parseInt(e.getPropertyValue("padding-bottom"),10),this._bounding.position=e.getPropertyValue("position"),"static"===s&&this.renderer.setStyle(t,"position","relative")}6<=i.length?(this._bounding.translateX=parseInt(i[4],10),this._bounding.translateY=parseInt(i[5],10)):(this._bounding.translateX=0,this._bounding.translateY=0)}},f.prototype.resetBounding=function(){!this.isFixed&&this._bounding&&"static"===this._bounding.position&&this.renderer.setStyle(this._containment,"position","relative"),this._bounding=null},f.prototype.getGridSize=function(){this._gridSize={x:1,y:1},this.rzGrid&&("number"==typeof this.rzGrid?this._gridSize={x:this.rzGrid,y:this.rzGrid}:Array.isArray(this.rzGrid)&&(this._gridSize={x:this.rzGrid[0],y:this.rzGrid[1]}))},f.decorators=[{type:s.Directive,args:[{selector:"[ngResizable]",exportAs:"ngResizable"}]}],f.ctorParameters=function(){return[{type:s.ElementRef},{type:s.Renderer2}]},f.propDecorators={rzCls:[{type:s.Input}],ngResizable:[{type:s.Input}],rzHandles:[{type:s.Input}],rzAspectRatio:[{type:s.Input}],rzContainment:[{type:s.Input}],rzGrid:[{type:s.Input}],rzMinWidth:[{type:s.Input}],rzMinHeight:[{type:s.Input}],rzMaxWidth:[{type:s.Input}],rzMaxHeight:[{type:s.Input}],preventDefaultEvent:[{type:s.Input}],fixedEdge:[{type:s.Input}],rzStart:[{type:s.Output}],rzResizing:[{type:s.Output}],rzStop:[{type:s.Output}],isFixed:[{type:s.Input}]},f);function f(t,e){this.el=t,this.renderer=e,this._resizable=!0,this._handles={},this._handleType=[],this._handleResizing=null,this._direction=null,this._directionChanged=null,this._aspectRatio=0,this._containment=null,this._origMousePos=null,this._origSize=null,this._origPos=null,this._currSize=null,this._currPos=null,this._initSize=null,this._initPos=null,this._gridSize=null,this._bounding=null,this._helperBlock=null,this.draggingSub=null,this._adjusted=!1,this.rzCls="",this.rzHandles="e,s,se",this.rzAspectRatio=!1,this.rzContainment=null,this.rzGrid=null,this.rzMinWidth=null,this.rzMinHeight=null,this.rzMaxWidth=null,this.rzMaxHeight=null,this.preventDefaultEvent=!0,this.fixedEdge=!1,this.rzStart=new s.EventEmitter,this.rzResizing=new s.EventEmitter,this.rzStop=new s.EventEmitter,this.isFixed=!1,this._helperBlock=new o(t.nativeElement,e)}var y=(v.decorators=[{type:s.NgModule,args:[{imports:[],declarations:[h,_],exports:[h,_]}]}],v);function v(){}t.Position=n,t.Size=p,t.AngularDraggableDirective=h,t.AngularResizableDirective=_,t.AngularDraggableModule=y,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=farris-ui-draggable.umd.min.js.map