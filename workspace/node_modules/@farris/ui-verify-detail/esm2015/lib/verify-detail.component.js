/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { Component, Input, Output, EventEmitter, TemplateRef, Optional } from '@angular/core';
import { LocaleService } from '@farris/ui-locale';
import { DomSanitizer } from '@angular/platform-browser';
export class VerifyDetailComponent {
    /**
     * @param {?} localeService
     * @param {?} sanitizer
     */
    constructor(localeService, sanitizer) {
        this.localeService = localeService;
        this.sanitizer = sanitizer;
        // 追加结果提示模板
        this.resultTipsTmpl = null;
        //@Input() maxHeight:number;
        //@Input() validatorList;
        //表单验证分组信息
        //@Input() tabList:tabListItem[];
        //表单验证默认显示的分组信息
        this.showType = '';
        //是否默认显示验证信息列表
        this.showList = false;
        //验证信息点击
        this.validatorClick = new EventEmitter();
        //验证详情显示隐藏事件
        this.listshowChange = new EventEmitter();
        //showList = false;
        //处理后带分组的表单验证信息
        this.errorLists = [];
        //默认传入的表单验证信息数组
        this._validatorList = [];
        //列表部分最大高度
        this._maxHeight = 60;
    }
    //最大高度
    /**
     * @param {?} num
     * @return {?}
     */
    set maxHeight(num) {
        if (num < 50)
            return;
        this._maxHeight = num - 50;
    }
    /**
     * @return {?}
     */
    get maxHeight() {
        return this._maxHeight;
    }
    /**
     * @param {?} item
     * @return {?}
     */
    set tabList(item) {
        if (item) {
            this._tablist = item;
        }
        else {
            /** @type {?} */
            const allTitle = this.localeService.getValue('verifyDetail.vertifyTypeAll');
            /** @type {?} */
            const errorTitle = this.localeService.getValue('verifyDetail.vertifyTypeError');
            /** @type {?} */
            const emptyTitle = this.localeService.getValue('verifyDetail.vertifyTypeEmpty');
            this._tablist = [
                {
                    id: 'vertifyType1',
                    type: 'all',
                    title: allTitle
                },
                {
                    id: 'vertifyType2',
                    type: 'error',
                    title: errorTitle
                },
                {
                    id: 'vertifyType3',
                    type: 'empty',
                    title: emptyTitle
                }
            ];
        }
    }
    /**
     * @return {?}
     */
    get tabList() {
        return this._tablist;
    }
    /**
     * @param {?} obj
     * @return {?}
     */
    set validatorList(obj) {
        this._validatorList = obj;
        this.errorLists = [];
        if (this.tabList && this.tabList.length) {
            this.tabList.forEach((/**
             * @param {?} item
             * @return {?}
             */
            item => {
                item.active = false;
            }));
            //判断默认展示的类型
            /** @type {?} */
            let hasTab = this.tabList.find((/**
             * @param {?} tab
             * @return {?}
             */
            (tab) => {
                return tab.type === this.showType;
            }));
            if (this.showType === '' || !hasTab) {
                this.showType = this.tabList[0].type;
            }
            this.tabList.forEach((/**
             * @param {?} tab
             * @return {?}
             */
            tab => {
                /** @type {?} */
                const tabType = tab.type;
                if (tabType === 'all') {
                    // 所有类型
                    /** @type {?} */
                    let listObj = {
                        'list': obj,
                        'show': false,
                        'type': tabType
                    };
                    tab.length = listObj.list.length;
                    this.errorLists.push(listObj);
                }
                else {
                    /** @type {?} */
                    let hasType = this.errorLists.find((/**
                     * @param {?} item
                     * @return {?}
                     */
                    (item) => {
                        return item.type === tabType;
                    }));
                    if (hasType) {
                        // 能找到类型
                        /** @type {?} */
                        let valList = obj.filter((/**
                         * @param {?} error
                         * @return {?}
                         */
                        error => {
                            return error.type === tabType;
                        }));
                        if (valList && valList.length) {
                            hasType.list = valList;
                        }
                    }
                    else {
                        // 找不到类型
                        /** @type {?} */
                        let listObj = {
                            'list': [],
                            'show': false,
                            'type': tabType
                        };
                        /** @type {?} */
                        let valList = obj.filter((/**
                         * @param {?} error
                         * @return {?}
                         */
                        error => {
                            return error.type === tabType;
                        }));
                        if (valList && valList.length) {
                            listObj.list = valList;
                        }
                        tab.length = listObj.list.length;
                        this.errorLists.push(listObj);
                    }
                }
            }));
            /** @type {?} */
            let tabObj = this.tabList.find((/**
             * @param {?} item
             * @return {?}
             */
            item => {
                return item.type === this.showType;
            }));
            if (tabObj) {
                tabObj.active = true;
            }
        }
        /** @type {?} */
        let showObj = this.errorLists.find((/**
         * @param {?} item
         * @return {?}
         */
        item => {
            return item.type === this.showType;
        }));
        if (showObj) {
            showObj.show = true;
        }
    }
    ;
    /**
     * @return {?}
     */
    get validatorList() {
        return this._validatorList;
    }
    /**
     * @return {?}
     */
    ngOnInit() { }
    //显示详情
    /**
     * @return {?}
     */
    show() {
        this.showList = !this.showList;
        this.listshowChange.emit(this.showList);
    }
    /**
     * 点击分组切换
     * @param {?} tab
     * @return {?}
     */
    showListContent(tab) {
        if (tab.length <= 0) {
            return;
        }
        this.tabList.forEach((/**
         * @param {?} item
         * @return {?}
         */
        item => {
            item.active = false;
        }));
        tab.active = true;
        this.errorLists.forEach((/**
         * @param {?} item
         * @return {?}
         */
        (item) => {
            if (item.type === tab.type) {
                item.show = true;
            }
            else {
                item.show = false;
            }
        }));
    }
    /**
     * 点击关闭按钮
     * @return {?}
     */
    close() {
        this.showList = false;
        this.listshowChange.emit(false);
    }
    /**
     * 点击表单验证列表事件
     * @param {?} item
     * @return {?}
     */
    errorClick(item) {
        this.validatorClick.emit(item);
    }
    /**
     * 样式安全化
     * @param {?} typeInfo
     * @return {?}
     */
    getStyle(typeInfo) {
        if (this.sanitizer) {
            if (typeInfo.hasOwnProperty('iconStyle') && typeInfo['iconStyle']) {
                return this.sanitizer.bypassSecurityTrustStyle(typeInfo['iconStyle']);
            }
        }
        return null;
    }
    /**
     * 判断是否有新属性
     * @param {?} typeInfo
     * @return {?}
     */
    hasSelfDefind(typeInfo) {
        if (typeInfo) {
            if (typeInfo.hasOwnProperty('iconCls') && typeInfo['iconCls']) {
                return true;
            }
            if (typeInfo.hasOwnProperty('iconStyle') && typeInfo['iconStyle']) {
                return true;
            }
        }
        return false;
    }
}
VerifyDetailComponent.decorators = [
    { type: Component, args: [{
                selector: 'farris-verify-detail',
                template: "<div class=\"f-verify-detail\" *ngIf=\"validatorList.length > 0\">\r\n    <div class=\"f-verify-detail-content\">\r\n        <div class=\"f-verify-nums\" (click)=\"show()\">\r\n            <ng-container *ngIf=\"resultTipsTmpl\">\r\n                <ng-container [ngTemplateOutlet]=\"resultTipsTmpl\" [ngTemplateOutletContext]=\"{ $implicit: errorLists}\">\r\n                </ng-container>\r\n            </ng-container>\r\n            <ng-container *ngIf=\"!resultTipsTmpl\">\r\n                <span class=\"nums-icon f-icon f-icon-warning\"></span>\r\n                <span class=\"nums-count\">{{validatorList.length}}</span>\r\n            </ng-container>\r\n        </div>\r\n        <div class=\"f-verify-form-main\" [hidden]=\"!showList\">\r\n            <div class=\"f-verify-form-content\">\r\n                <div class=\"f-verify-form-content-arrow\"></div>\r\n                <div class=\"f-verify-form-content-list\">\r\n                    <div class=\"f-verify-forms-title\">\r\n                        <div class=\"title-tabs\">\r\n                            <div class=\"btn-group\">\r\n                                <button class=\"btn btn-secondary\" *ngFor=\"let tab of tabList\"\r\n                                    [ngClass]=\"{'active': tab.active,'disabled': (tab.length<=0)}\"\r\n                                    (click)=\"showListContent(tab)\">{{tab.title}} <span>{{tab.length}}</span></button>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"f-verify-close\" (click)=\"close()\">\r\n                            <span class=\"f-icon f-icon-close\"></span>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"f-verify-forms-list\" [ngStyle]=\"{'max-height': maxHeight+'px'}\">\r\n                        <ng-container *ngFor=\"let list of errorLists;let typeIndex = index;\">\r\n                            <ul class=\"f-verify-list-content\" *ngIf=\"list.list.length > 0\"\r\n                                [ngClass]=\"{'active': list.show}\">\r\n                                <li class=\"f-verify-list\" *ngFor=\"let item of list.list\" (click)=\"errorClick(item)\">\r\n                                    <ng-container *ngIf=\"hasSelfDefind(tabList[typeIndex])\">\r\n                                        <span class=\"f-icon f-icon-close-outline list-icon list-error\" [ngClass]=\"tabList[typeIndex]['iconCls']\" [attr.style]=\"getStyle(tabList[typeIndex])\"></span>\r\n                                    </ng-container>\r\n                                    <span *ngIf=\"!hasSelfDefind(tabList[typeIndex])\" class=\"f-icon f-icon-close-outline list-icon list-error\"\r\n                                    [ngClass]=\"{'list-warning': item.type === 'warn'}\"></span>\r\n                                    <div class=\"list-con\" >\r\n                                        <p class=\"list-title\" [attr.title]=\"item.title\">{{item.title}}</p>\r\n                                        <p class=\"list-msg\" [attr.title]=\"item.msg\">{{item.msg}}</p>\r\n                                    </div>\r\n                                </li>\r\n                            </ul>\r\n                        </ng-container>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>",
                styles: [".f-verify-detail{position:absolute;left:14px;bottom:16px;z-index:900}.f-verify-detail .f-verify-detail-content{position:relative}.f-verify-detail .f-verify-detail-content .f-verify-form-main{position:absolute;padding-bottom:.5rem;left:0;bottom:1.75rem;width:28.125rem}.f-verify-detail .f-verify-detail-content .f-verify-form-main .f-verify-form-content{background-color:#fff;box-shadow:0 2px 8px 0 rgba(0,0,0,.15);border-radius:.125rem;width:100%}.f-verify-detail .f-verify-detail-content .f-verify-form-main .f-verify-form-content .f-verify-form-content-arrow{display:block;position:absolute;left:1.125rem;bottom:.25rem;width:.625rem;height:.625rem;background:0 0;border-style:solid;border-width:.3125rem;box-shadow:2px 2px 5px rgba(0,0,0,.08);-webkit-transform:translateX(-50%) rotate(45deg);transform:translateX(-50%) rotate(45deg);border-color:transparent #fff #fff transparent}.f-verify-detail .f-verify-detail-content .f-verify-form-main .f-verify-form-content .f-verify-form-content-list{position:relative}.f-verify-detail .f-verify-detail-content .f-verify-form-main .f-verify-form-content .f-verify-form-content-list .f-verify-forms-title{padding:.75rem .875rem}.f-verify-detail .f-verify-detail-content .f-verify-form-main .f-verify-form-content .f-verify-form-content-list .f-verify-close{position:absolute;right:.75rem;top:.625rem;color:rgba(0,0,0,.25);font-size:.75rem;cursor:pointer;width:1.25rem;height:1.25rem;line-height:1.25rem;text-align:center}.f-verify-detail .f-verify-detail-content .f-verify-form-main .f-verify-form-content .f-verify-form-content-list .f-verify-forms-list{overflow-y:auto}.f-verify-detail .f-verify-detail-content .f-verify-form-main .f-verify-form-content .f-verify-form-content-list .f-verify-forms-list .f-verify-list-content{display:none}.f-verify-detail .f-verify-detail-content .f-verify-form-main .f-verify-form-content .f-verify-form-content-list .f-verify-forms-list .f-verify-list-content.active{display:block}.f-verify-detail .f-verify-detail-content .f-verify-form-main .f-verify-form-content .f-verify-form-content-list .f-verify-forms-list .f-verify-list{cursor:pointer;position:relative;border-top:1px solid #e9e9e9;padding:.5rem .875rem .5rem 2.5rem}.f-verify-detail .f-verify-detail-content .f-verify-form-main .f-verify-form-content .f-verify-form-content-list .f-verify-forms-list .f-verify-list .list-icon{position:absolute;left:.875rem;top:.75rem;font-size:.875rem;color:#f5222d}.f-verify-detail .f-verify-detail-content .f-verify-form-main .f-verify-form-content .f-verify-form-content-list .f-verify-forms-list .f-verify-list .list-icon.list-warning{color:#faad14}.f-verify-detail .f-verify-detail-content .f-verify-form-main .f-verify-form-content .f-verify-form-content-list .f-verify-forms-list .f-verify-list .list-con p{margin-bottom:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.f-verify-detail .f-verify-detail-content .f-verify-form-main .f-verify-form-content .f-verify-form-content-list .f-verify-forms-list .f-verify-list .list-con .list-title{font-size:.875rem;color:rgba(0,0,0,.75);line-height:1.375rem}.f-verify-detail .f-verify-detail-content .f-verify-form-main .f-verify-form-content .f-verify-form-content-list .f-verify-forms-list .f-verify-list .list-con .list-msg{font-size:.75rem;color:rgba(0,0,0,.45);line-height:1.25rem}.f-verify-detail .f-verify-nums{padding:.125rem .5rem;background:#fde5e5;box-shadow:0 1px 6px 0 rgba(0,0,0,.15);border-radius:2px;cursor:pointer}.f-verify-detail .f-verify-nums .nums-icon{margin-right:.25rem;vertical-align:middle}.f-verify-detail .f-verify-nums .nums-count{font-size:.875rem;line-height:1.25rem}"]
            }] }
];
/** @nocollapse */
VerifyDetailComponent.ctorParameters = () => [
    { type: LocaleService },
    { type: DomSanitizer, decorators: [{ type: Optional }] }
];
VerifyDetailComponent.propDecorators = {
    resultTipsTmpl: [{ type: Input }],
    showType: [{ type: Input }],
    showList: [{ type: Input }],
    validatorClick: [{ type: Output, args: ['validatorClick',] }],
    listshowChange: [{ type: Output, args: ['listshowChange',] }],
    maxHeight: [{ type: Input }],
    tabList: [{ type: Input }],
    validatorList: [{ type: Input }]
};
if (false) {
    /** @type {?} */
    VerifyDetailComponent.prototype.resultTipsTmpl;
    /** @type {?} */
    VerifyDetailComponent.prototype.showType;
    /** @type {?} */
    VerifyDetailComponent.prototype.showList;
    /** @type {?} */
    VerifyDetailComponent.prototype.validatorClick;
    /** @type {?} */
    VerifyDetailComponent.prototype.listshowChange;
    /** @type {?} */
    VerifyDetailComponent.prototype.errorLists;
    /** @type {?} */
    VerifyDetailComponent.prototype._validatorList;
    /** @type {?} */
    VerifyDetailComponent.prototype._maxHeight;
    /** @type {?} */
    VerifyDetailComponent.prototype._tablist;
    /** @type {?} */
    VerifyDetailComponent.prototype.localeService;
    /**
     * @type {?}
     * @private
     */
    VerifyDetailComponent.prototype.sanitizer;
    /* Skipping unhandled member: ;*/
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmVyaWZ5LWRldGFpbC5jb21wb25lbnQuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9AZmFycmlzL3VpLXZlcmlmeS1kZXRhaWwvIiwic291cmNlcyI6WyJsaWIvdmVyaWZ5LWRldGFpbC5jb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7OztBQUFBLE9BQU8sRUFBRSxTQUFTLEVBQVUsS0FBSyxFQUFFLE1BQU0sRUFBRSxZQUFZLEVBQUUsV0FBVyxFQUFFLFFBQVEsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUV0RyxPQUFPLEVBQUUsYUFBYSxFQUFFLE1BQU0sbUJBQW1CLENBQUM7QUFDbEQsT0FBTyxFQUFFLFlBQVksRUFBRSxNQUFNLDJCQUEyQixDQUFDO0FBUXpELE1BQU0sT0FBTyxxQkFBcUI7Ozs7O0lBK0loQyxZQUFtQixhQUE0QixFQUFxQixTQUF1QjtRQUF4RSxrQkFBYSxHQUFiLGFBQWEsQ0FBZTtRQUFxQixjQUFTLEdBQVQsU0FBUyxDQUFjOztRQTdJbEYsbUJBQWMsR0FBbUIsSUFBSSxDQUFDOzs7Ozs7UUFNdEMsYUFBUSxHQUFXLEVBQUUsQ0FBQzs7UUFFdEIsYUFBUSxHQUFZLEtBQUssQ0FBQTs7UUFFUixtQkFBYyxHQUFHLElBQUksWUFBWSxFQUFFLENBQUM7O1FBRXBDLG1CQUFjLEdBQUcsSUFBSSxZQUFZLEVBQUUsQ0FBQzs7O1FBRzlELGVBQVUsR0FBcUIsRUFBRSxDQUFDOztRQUVsQyxtQkFBYyxHQUF3QixFQUFFLENBQUM7O1FBRXpDLGVBQVUsR0FBVyxFQUFFLENBQUM7SUEwSHVFLENBQUM7Ozs7OztJQXZIaEcsSUFDSSxTQUFTLENBQUMsR0FBRztRQUNmLElBQUksR0FBRyxHQUFHLEVBQUU7WUFBRSxPQUFPO1FBQ3JCLElBQUksQ0FBQyxVQUFVLEdBQUcsR0FBRyxHQUFHLEVBQUUsQ0FBQztJQUM3QixDQUFDOzs7O0lBQ0QsSUFBSSxTQUFTO1FBQ1gsT0FBTyxJQUFJLENBQUMsVUFBVSxDQUFDO0lBQ3pCLENBQUM7Ozs7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aXQsIElucHV0LCBPdXRwdXQsIEV2ZW50RW1pdHRlciwgVGVtcGxhdGVSZWYsIE9wdGlvbmFsIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcbmltcG9ydCB7IHRhYkxpc3RJdGVtLCBFcnJvckxpc3RzSXRlbSwgdmFsaWRhdG9yTGlzdEl0ZW0gfSBmcm9tICcuL3ZlcmlmeS1kZXRhaWwuaW50ZXJmYWNlJztcclxuaW1wb3J0IHsgTG9jYWxlU2VydmljZSB9IGZyb20gJ0BmYXJyaXMvdWktbG9jYWxlJztcclxuaW1wb3J0IHsgRG9tU2FuaXRpemVyIH0gZnJvbSAnQGFuZ3VsYXIvcGxhdGZvcm0tYnJvd3Nlcic7XHJcblxyXG5cclxuQENvbXBvbmVudCh7XHJcbiAgc2VsZWN0b3I6ICdmYXJyaXMtdmVyaWZ5LWRldGFpbCcsXHJcbiAgdGVtcGxhdGVVcmw6ICcuL3ZlcmlmeS1kZXRhaWwuY29tcG9uZW50Lmh0bWwnLFxyXG4gIHN0eWxlVXJsczogWycuL3ZlcmlmeS1kZXRhaWwuY29tcG9uZW50LnNjc3MnXVxyXG59KVxyXG5leHBvcnQgY2xhc3MgVmVyaWZ5RGV0YWlsQ29tcG9uZW50IGltcGxlbWVudHMgT25Jbml0IHtcclxuICAvLyDov73liqDnu5Pmnpzmj5DnpLrmqKHmnb9cclxuICBASW5wdXQoKSByZXN1bHRUaXBzVG1wbDogVGVtcGxhdGVSZWY8YW55Pj1udWxsO1xyXG4gIC8vQElucHV0KCkgbWF4SGVpZ2h0Om51bWJlcjtcclxuICAvL0BJbnB1dCgpIHZhbGlkYXRvckxpc3Q7XHJcbiAgLy/ooajljZXpqozor4HliIbnu4Tkv6Hmga9cclxuICAvL0BJbnB1dCgpIHRhYkxpc3Q6dGFiTGlzdEl0ZW1bXTtcclxuICAvL+ihqOWNlemqjOivgem7mOiupOaYvuekuueahOWIhue7hOS/oeaBr1xyXG4gIEBJbnB1dCgpIHNob3dUeXBlOiBzdHJpbmcgPSAnJztcclxuICAvL+aYr+WQpum7mOiupOaYvuekuumqjOivgeS/oeaBr+WIl+ihqFxyXG4gIEBJbnB1dCgpIHNob3dMaXN0OiBib29sZWFuID0gZmFsc2VcclxuICAvL+mqjOivgeS/oeaBr+eCueWHu1xyXG4gIEBPdXRwdXQoJ3ZhbGlkYXRvckNsaWNrJykgdmFsaWRhdG9yQ2xpY2sgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XHJcbiAgLy/pqozor4Hor6bmg4XmmL7npLrpmpDol4/kuovku7ZcclxuICBAT3V0cHV0KCdsaXN0c2hvd0NoYW5nZScpIGxpc3RzaG93Q2hhbmdlID0gbmV3IEV2ZW50RW1pdHRlcigpO1xyXG4gIC8vc2hvd0xpc3QgPSBmYWxzZTtcclxuICAvL+WkhOeQhuWQjuW4puWIhue7hOeahOihqOWNlemqjOivgeS/oeaBr1xyXG4gIGVycm9yTGlzdHM6IEVycm9yTGlzdHNJdGVtW10gPSBbXTtcclxuICAvL+m7mOiupOS8oOWFpeeahOihqOWNlemqjOivgeS/oeaBr+aVsOe7hFxyXG4gIF92YWxpZGF0b3JMaXN0OiB2YWxpZGF0b3JMaXN0SXRlbVtdID0gW107XHJcbiAgLy/liJfooajpg6jliIbmnIDlpKfpq5jluqZcclxuICBfbWF4SGVpZ2h0OiBudW1iZXIgPSA2MDtcclxuICBfdGFibGlzdDogdGFiTGlzdEl0ZW1bXTtcclxuICAvL+acgOWkp+mrmOW6plxyXG4gIEBJbnB1dCgpXHJcbiAgc2V0IG1heEhlaWdodChudW0pIHtcclxuICAgIGlmIChudW0gPCA1MCkgcmV0dXJuO1xyXG4gICAgdGhpcy5fbWF4SGVpZ2h0ID0gbnVtIC0gNTA7XHJcbiAgfVxyXG4gIGdldCBtYXhIZWlnaHQoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5fbWF4SGVpZ2h0O1xyXG4gIH1cclxuXHJcbiAgQElucHV0KClcclxuICBzZXQgdGFiTGlzdChpdGVtKSB7XHJcbiAgICBpZiAoaXRlbSkge1xyXG4gICAgICB0aGlzLl90YWJsaXN0ID0gaXRlbTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICBjb25zdCBhbGxUaXRsZSA9IHRoaXMubG9jYWxlU2VydmljZS5nZXRWYWx1ZSgndmVyaWZ5RGV0YWlsLnZlcnRpZnlUeXBlQWxsJyksXHJcbiAgICAgICAgZXJyb3JUaXRsZSA9IHRoaXMubG9jYWxlU2VydmljZS5nZXRWYWx1ZSgndmVyaWZ5RGV0YWlsLnZlcnRpZnlUeXBlRXJyb3InKSxcclxuICAgICAgICBlbXB0eVRpdGxlID0gdGhpcy5sb2NhbGVTZXJ2aWNlLmdldFZhbHVlKCd2ZXJpZnlEZXRhaWwudmVydGlmeVR5cGVFbXB0eScpO1xyXG4gICAgICB0aGlzLl90YWJsaXN0ID0gW1xyXG4gICAgICAgIHtcclxuICAgICAgICAgIGlkOiAndmVydGlmeVR5cGUxJyxcclxuICAgICAgICAgIHR5cGU6ICdhbGwnLFxyXG4gICAgICAgICAgdGl0bGU6IGFsbFRpdGxlXHJcbiAgICAgICAgfSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICBpZDogJ3ZlcnRpZnlUeXBlMicsXHJcbiAgICAgICAgICB0eXBlOiAnZXJyb3InLFxyXG4gICAgICAgICAgdGl0bGU6IGVycm9yVGl0bGVcclxuICAgICAgICB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgIGlkOiAndmVydGlmeVR5cGUzJyxcclxuICAgICAgICAgIHR5cGU6ICdlbXB0eScsXHJcbiAgICAgICAgICB0aXRsZTogZW1wdHlUaXRsZVxyXG4gICAgICAgIH1cclxuICAgICAgXVxyXG4gICAgfVxyXG5cclxuICB9XHJcbiAgZ2V0IHRhYkxpc3QoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5fdGFibGlzdDtcclxuICB9XHJcblxyXG4gIEBJbnB1dCgpXHJcbiAgc2V0IHZhbGlkYXRvckxpc3Qob2JqKSB7XHJcbiAgICB0aGlzLl92YWxpZGF0b3JMaXN0ID0gb2JqO1xyXG4gICAgdGhpcy5lcnJvckxpc3RzID0gW107XHJcbiAgICBpZiAodGhpcy50YWJMaXN0ICYmIHRoaXMudGFiTGlzdC5sZW5ndGgpIHtcclxuXHJcbiAgICAgIHRoaXMudGFiTGlzdC5mb3JFYWNoKGl0ZW0gPT4ge1xyXG4gICAgICAgIGl0ZW0uYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgIH0pXHJcbiAgICAgIC8v5Yik5pat6buY6K6k5bGV56S655qE57G75Z6LXHJcbiAgICAgIGxldCBoYXNUYWIgPSB0aGlzLnRhYkxpc3QuZmluZCgodGFiKSA9PiB7XHJcbiAgICAgICAgcmV0dXJuIHRhYi50eXBlID09PSB0aGlzLnNob3dUeXBlO1xyXG4gICAgICB9KVxyXG4gICAgICBpZiAodGhpcy5zaG93VHlwZSA9PT0gJycgfHwgIWhhc1RhYikge1xyXG4gICAgICAgIHRoaXMuc2hvd1R5cGUgPSB0aGlzLnRhYkxpc3RbMF0udHlwZTtcclxuICAgICAgfVxyXG4gICAgICB0aGlzLnRhYkxpc3QuZm9yRWFjaCh0YWIgPT4ge1xyXG4gICAgICAgIGNvbnN0IHRhYlR5cGUgPSB0YWIudHlwZTtcclxuICAgICAgICBpZiAodGFiVHlwZSA9PT0gJ2FsbCcpIHtcclxuICAgICAgICAgIC8vIOaJgOacieexu+Wei1xyXG4gICAgICAgICAgbGV0IGxpc3RPYmogPSB7XHJcbiAgICAgICAgICAgICdsaXN0Jzogb2JqLFxyXG4gICAgICAgICAgICAnc2hvdyc6IGZhbHNlLFxyXG4gICAgICAgICAgICAndHlwZSc6IHRhYlR5cGVcclxuICAgICAgICAgIH07XHJcbiAgICAgICAgICB0YWIubGVuZ3RoID0gbGlzdE9iai5saXN0Lmxlbmd0aDtcclxuICAgICAgICAgIHRoaXMuZXJyb3JMaXN0cy5wdXNoKGxpc3RPYmopO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgIGxldCBoYXNUeXBlID0gdGhpcy5lcnJvckxpc3RzLmZpbmQoKGl0ZW0pID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIGl0ZW0udHlwZSA9PT0gdGFiVHlwZTtcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgICBpZiAoaGFzVHlwZSkge1xyXG4gICAgICAgICAgICAvLyDog73mib7liLDnsbvlnotcclxuICAgICAgICAgICAgbGV0IHZhbExpc3QgPSBvYmouZmlsdGVyKGVycm9yID0+IHtcclxuICAgICAgICAgICAgICByZXR1cm4gZXJyb3IudHlwZSA9PT0gdGFiVHlwZTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgaWYgKHZhbExpc3QgJiYgdmFsTGlzdC5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICBoYXNUeXBlLmxpc3QgPSB2YWxMaXN0O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgLy8g5om+5LiN5Yiw57G75Z6LXHJcbiAgICAgICAgICAgIGxldCBsaXN0T2JqID0ge1xyXG4gICAgICAgICAgICAgICdsaXN0JzogW10sXHJcbiAgICAgICAgICAgICAgJ3Nob3cnOiBmYWxzZSxcclxuICAgICAgICAgICAgICAndHlwZSc6IHRhYlR5cGVcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBsZXQgdmFsTGlzdCA9IG9iai5maWx0ZXIoZXJyb3IgPT4ge1xyXG4gICAgICAgICAgICAgIHJldHVybiBlcnJvci50eXBlID09PSB0YWJUeXBlO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICBpZiAodmFsTGlzdCAmJiB2YWxMaXN0Lmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgIGxpc3RPYmoubGlzdCA9IHZhbExpc3Q7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGFiLmxlbmd0aCA9IGxpc3RPYmoubGlzdC5sZW5ndGg7XHJcbiAgICAgICAgICAgIHRoaXMuZXJyb3JMaXN0cy5wdXNoKGxpc3RPYmopO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICAgIGxldCB0YWJPYmogPSB0aGlzLnRhYkxpc3QuZmluZChpdGVtID0+IHtcclxuICAgICAgICByZXR1cm4gaXRlbS50eXBlID09PSB0aGlzLnNob3dUeXBlO1xyXG4gICAgICB9KVxyXG4gICAgICBpZiAodGFiT2JqKSB7XHJcbiAgICAgICAgdGFiT2JqLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIGxldCBzaG93T2JqID0gdGhpcy5lcnJvckxpc3RzLmZpbmQoaXRlbSA9PiB7XHJcbiAgICAgIHJldHVybiBpdGVtLnR5cGUgPT09IHRoaXMuc2hvd1R5cGU7XHJcbiAgICB9KVxyXG4gICAgaWYgKHNob3dPYmopIHtcclxuICAgICAgc2hvd09iai5zaG93ID0gdHJ1ZTtcclxuICAgIH1cclxuICB9O1xyXG4gIGdldCB2YWxpZGF0b3JMaXN0KCkge1xyXG4gICAgcmV0dXJuIHRoaXMuX3ZhbGlkYXRvckxpc3Q7XHJcbiAgfVxyXG5cclxuICBjb25zdHJ1Y3RvcihwdWJsaWMgbG9jYWxlU2VydmljZTogTG9jYWxlU2VydmljZSxAT3B0aW9uYWwoKSBwcml2YXRlIHNhbml0aXplcjogRG9tU2FuaXRpemVyKSB7IH1cclxuXHJcbiAgbmdPbkluaXQoKSB7IH1cclxuICAvL+aYvuekuuivpuaDhVxyXG4gIHNob3coKSB7XHJcbiAgICB0aGlzLnNob3dMaXN0ID0gIXRoaXMuc2hvd0xpc3Q7XHJcbiAgICB0aGlzLmxpc3RzaG93Q2hhbmdlLmVtaXQodGhpcy5zaG93TGlzdCk7XHJcbiAgfVxyXG4gIC8qKueCueWHu+WIhue7hOWIh+aNolxyXG4gICAqIEBwYXJhbSB0YWLliIbnu4Tkv6Hmga9cclxuICAgKi9cclxuICBzaG93TGlzdENvbnRlbnQodGFiKSB7XHJcbiAgICBpZiAodGFiLmxlbmd0aCA8PSAwKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIHRoaXMudGFiTGlzdC5mb3JFYWNoKGl0ZW0gPT4ge1xyXG4gICAgICBpdGVtLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgfSlcclxuICAgIHRhYi5hY3RpdmUgPSB0cnVlO1xyXG4gICAgdGhpcy5lcnJvckxpc3RzLmZvckVhY2goKGl0ZW0pID0+IHtcclxuICAgICAgaWYgKGl0ZW0udHlwZSA9PT0gdGFiLnR5cGUpIHtcclxuICAgICAgICBpdGVtLnNob3cgPSB0cnVlO1xyXG4gICAgICB9XHJcbiAgICAgIGVsc2Uge1xyXG4gICAgICAgIGl0ZW0uc2hvdyA9IGZhbHNlO1xyXG4gICAgICB9XHJcbiAgICB9KVxyXG4gIH1cclxuICAvKirngrnlh7vlhbPpl63mjInpkq4gKi9cclxuICBjbG9zZSgpIHtcclxuICAgIHRoaXMuc2hvd0xpc3QgPSBmYWxzZTtcclxuICAgIHRoaXMubGlzdHNob3dDaGFuZ2UuZW1pdChmYWxzZSk7XHJcbiAgfVxyXG4gIC8qKueCueWHu+ihqOWNlemqjOivgeWIl+ihqOS6i+S7tiAqL1xyXG4gIGVycm9yQ2xpY2soaXRlbSkge1xyXG4gICAgdGhpcy52YWxpZGF0b3JDbGljay5lbWl0KGl0ZW0pO1xyXG4gIH1cclxuICAvKipcclxuICAgKiDmoLflvI/lronlhajljJZcclxuICAgKiBAcGFyYW0gdHlwZUluZm8gXHJcbiAgICovXHJcbiAgZ2V0U3R5bGUodHlwZUluZm8pe1xyXG4gICAgaWYodGhpcy5zYW5pdGl6ZXIpe1xyXG4gICAgICBpZih0eXBlSW5mby5oYXNPd25Qcm9wZXJ0eSgnaWNvblN0eWxlJykmJnR5cGVJbmZvWydpY29uU3R5bGUnXSl7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc2FuaXRpemVyLmJ5cGFzc1NlY3VyaXR5VHJ1c3RTdHlsZSh0eXBlSW5mb1snaWNvblN0eWxlJ10pO1xyXG4gICAgICB9XHJcbiAgICB9ICAgIFxyXG4gICAgcmV0dXJuIG51bGw7XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIOWIpOaWreaYr+WQpuacieaWsOWxnuaAp1xyXG4gICAqL1xyXG4gIGhhc1NlbGZEZWZpbmQodHlwZUluZm8pe1xyXG4gICAgaWYodHlwZUluZm8pe1xyXG4gICAgICBpZih0eXBlSW5mby5oYXNPd25Qcm9wZXJ0eSgnaWNvbkNscycpJiZ0eXBlSW5mb1snaWNvbkNscyddKXtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgfVxyXG4gICAgICBpZih0eXBlSW5mby5oYXNPd25Qcm9wZXJ0eSgnaWNvblN0eWxlJykmJnR5cGVJbmZvWydpY29uU3R5bGUnXSl7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBmYWxzZTtcclxuICB9XHJcbn1cclxuIl19