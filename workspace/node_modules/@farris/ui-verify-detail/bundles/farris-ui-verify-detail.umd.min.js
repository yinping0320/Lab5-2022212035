!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/platform-browser"),require("@angular/forms"),require("@angular/common"),require("@farris/ui-locale"),require("@angular/core")):"function"==typeof define&&define.amd?define("@farris/ui-verify-detail",["exports","@angular/platform-browser","@angular/forms","@angular/common","@farris/ui-locale","@angular/core"],e):e((t.farris=t.farris||{},t.farris["ui-verify-detail"]={}),t.ng.platformBrowser,t.ng.forms,t.ng.common,t.uiLocale,t.ng.core)}(this,function(t,e,i,r,n,o){"use strict";var s=(Object.defineProperty(f.prototype,"maxHeight",{get:function(){return this._maxHeight},set:function(t){t<50||(this._maxHeight=t-50)},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"tabList",{get:function(){return this._tablist},set:function(t){if(t)this._tablist=t;else{var e=this.localeService.getValue("verifyDetail.vertifyTypeAll"),i=this.localeService.getValue("verifyDetail.vertifyTypeError"),r=this.localeService.getValue("verifyDetail.vertifyTypeEmpty");this._tablist=[{id:"vertifyType1",type:"all",title:e},{id:"vertifyType2",type:"error",title:i},{id:"vertifyType3",type:"empty",title:r}]}},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"validatorList",{get:function(){return this._validatorList},set:function(o){var s=this;if(this._validatorList=o,this.errorLists=[],this.tabList&&this.tabList.length){this.tabList.forEach(function(t){t.active=!1});var t=this.tabList.find(function(t){return t.type===s.showType});""!==this.showType&&t||(this.showType=this.tabList[0].type),this.tabList.forEach(function(t){var e=t.type;if("all"===e){var i={list:o,show:!1,type:e};t.length=i.list.length,s.errorLists.push(i)}else{var r,n=s.errorLists.find(function(t){return t.type===e});if(n)(r=o.filter(function(t){return t.type===e}))&&r.length&&(n.list=r);else i={list:[],show:!1,type:e},(r=o.filter(function(t){return t.type===e}))&&r.length&&(i.list=r),t.length=i.list.length,s.errorLists.push(i)}});var e=this.tabList.find(function(t){return t.type===s.showType});e&&(e.active=!0)}var i=this.errorLists.find(function(t){return t.type===s.showType});i&&(i.show=!0)},enumerable:!0,configurable:!0}),f.prototype.ngOnInit=function(){},f.prototype.show=function(){this.showList=!this.showList,this.listshowChange.emit(this.showList)},f.prototype.showListContent=function(e){e.length<=0||(this.tabList.forEach(function(t){t.active=!1}),e.active=!0,this.errorLists.forEach(function(t){t.type===e.type?t.show=!0:t.show=!1}))},f.prototype.close=function(){this.showList=!1,this.listshowChange.emit(!1)},f.prototype.errorClick=function(t){this.validatorClick.emit(t)},f.prototype.getStyle=function(t){return this.sanitizer&&t.hasOwnProperty("iconStyle")&&t.iconStyle?this.sanitizer.bypassSecurityTrustStyle(t.iconStyle):null},f.prototype.hasSelfDefind=function(t){if(t){if(t.hasOwnProperty("iconCls")&&t.iconCls)return!0;if(t.hasOwnProperty("iconStyle")&&t.iconStyle)return!0}return!1},f.decorators=[{type:o.Component,args:[{selector:"farris-verify-detail",template:'<div class="f-verify-detail" *ngIf="validatorList.length > 0">\r\n    <div class="f-verify-detail-content">\r\n        <div class="f-verify-nums" (click)="show()">\r\n            <ng-container *ngIf="resultTipsTmpl">\r\n                <ng-container [ngTemplateOutlet]="resultTipsTmpl" [ngTemplateOutletContext]="{ $implicit: errorLists}">\r\n                </ng-container>\r\n            </ng-container>\r\n            <ng-container *ngIf="!resultTipsTmpl">\r\n                <span class="nums-icon f-icon f-icon-warning"></span>\r\n                <span class="nums-count">{{validatorList.length}}</span>\r\n            </ng-container>\r\n        </div>\r\n        <div class="f-verify-form-main" [hidden]="!showList">\r\n            <div class="f-verify-form-content">\r\n                <div class="f-verify-form-content-arrow"></div>\r\n                <div class="f-verify-form-content-list">\r\n                    <div class="f-verify-forms-title">\r\n                        <div class="title-tabs">\r\n                            <div class="btn-group">\r\n                                <button class="btn btn-secondary" *ngFor="let tab of tabList"\r\n                                    [ngClass]="{\'active\': tab.active,\'disabled\': (tab.length<=0)}"\r\n                                    (click)="showListContent(tab)">{{tab.title}} <span>{{tab.length}}</span></button>\r\n                            </div>\r\n                        </div>\r\n                        <div class="f-verify-close" (click)="close()">\r\n                            <span class="f-icon f-icon-close"></span>\r\n                        </div>\r\n                    </div>\r\n                    <div class="f-verify-forms-list" [ngStyle]="{\'max-height\': maxHeight+\'px\'}">\r\n                        <ng-container *ngFor="let list of errorLists;let typeIndex = index;">\r\n                            <ul class="f-verify-list-content" *ngIf="list.list.length > 0"\r\n                                [ngClass]="{\'active\': list.show}">\r\n                                <li class="f-verify-list" *ngFor="let item of list.list" (click)="errorClick(item)">\r\n                                    <ng-container *ngIf="hasSelfDefind(tabList[typeIndex])">\r\n                                        <span class="f-icon f-icon-close-outline list-icon list-error" [ngClass]="tabList[typeIndex][\'iconCls\']" [attr.style]="getStyle(tabList[typeIndex])"></span>\r\n                                    </ng-container>\r\n                                    <span *ngIf="!hasSelfDefind(tabList[typeIndex])" class="f-icon f-icon-close-outline list-icon list-error"\r\n                                    [ngClass]="{\'list-warning\': item.type === \'warn\'}"></span>\r\n                                    <div class="list-con" >\r\n                                        <p class="list-title" [attr.title]="item.title">{{item.title}}</p>\r\n                                        <p class="list-msg" [attr.title]="item.msg">{{item.msg}}</p>\r\n                                    </div>\r\n                                </li>\r\n                            </ul>\r\n                        </ng-container>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>',styles:[".f-verify-detail{position:absolute;left:14px;bottom:16px;z-index:900}.f-verify-detail .f-verify-detail-content{position:relative}.f-verify-detail .f-verify-detail-content .f-verify-form-main{position:absolute;padding-bottom:.5rem;left:0;bottom:1.75rem;width:28.125rem}.f-verify-detail .f-verify-detail-content .f-verify-form-main .f-verify-form-content{background-color:#fff;box-shadow:0 2px 8px 0 rgba(0,0,0,.15);border-radius:.125rem;width:100%}.f-verify-detail .f-verify-detail-content .f-verify-form-main .f-verify-form-content .f-verify-form-content-arrow{display:block;position:absolute;left:1.125rem;bottom:.25rem;width:.625rem;height:.625rem;background:0 0;border-style:solid;border-width:.3125rem;box-shadow:2px 2px 5px rgba(0,0,0,.08);-webkit-transform:translateX(-50%) rotate(45deg);transform:translateX(-50%) rotate(45deg);border-color:transparent #fff #fff transparent}.f-verify-detail .f-verify-detail-content .f-verify-form-main .f-verify-form-content .f-verify-form-content-list{position:relative}.f-verify-detail .f-verify-detail-content .f-verify-form-main .f-verify-form-content .f-verify-form-content-list .f-verify-forms-title{padding:.75rem .875rem}.f-verify-detail .f-verify-detail-content .f-verify-form-main .f-verify-form-content .f-verify-form-content-list .f-verify-close{position:absolute;right:.75rem;top:.625rem;color:rgba(0,0,0,.25);font-size:.75rem;cursor:pointer;width:1.25rem;height:1.25rem;line-height:1.25rem;text-align:center}.f-verify-detail .f-verify-detail-content .f-verify-form-main .f-verify-form-content .f-verify-form-content-list .f-verify-forms-list{overflow-y:auto}.f-verify-detail .f-verify-detail-content .f-verify-form-main .f-verify-form-content .f-verify-form-content-list .f-verify-forms-list .f-verify-list-content{display:none}.f-verify-detail .f-verify-detail-content .f-verify-form-main .f-verify-form-content .f-verify-form-content-list .f-verify-forms-list .f-verify-list-content.active{display:block}.f-verify-detail .f-verify-detail-content .f-verify-form-main .f-verify-form-content .f-verify-form-content-list .f-verify-forms-list .f-verify-list{cursor:pointer;position:relative;border-top:1px solid #e9e9e9;padding:.5rem .875rem .5rem 2.5rem}.f-verify-detail .f-verify-detail-content .f-verify-form-main .f-verify-form-content .f-verify-form-content-list .f-verify-forms-list .f-verify-list .list-icon{position:absolute;left:.875rem;top:.75rem;font-size:.875rem;color:#f5222d}.f-verify-detail .f-verify-detail-content .f-verify-form-main .f-verify-form-content .f-verify-form-content-list .f-verify-forms-list .f-verify-list .list-icon.list-warning{color:#faad14}.f-verify-detail .f-verify-detail-content .f-verify-form-main .f-verify-form-content .f-verify-form-content-list .f-verify-forms-list .f-verify-list .list-con p{margin-bottom:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.f-verify-detail .f-verify-detail-content .f-verify-form-main .f-verify-form-content .f-verify-form-content-list .f-verify-forms-list .f-verify-list .list-con .list-title{font-size:.875rem;color:rgba(0,0,0,.75);line-height:1.375rem}.f-verify-detail .f-verify-detail-content .f-verify-form-main .f-verify-form-content .f-verify-form-content-list .f-verify-forms-list .f-verify-list .list-con .list-msg{font-size:.75rem;color:rgba(0,0,0,.45);line-height:1.25rem}.f-verify-detail .f-verify-nums{padding:.125rem .5rem;background:#fde5e5;box-shadow:0 1px 6px 0 rgba(0,0,0,.15);border-radius:2px;cursor:pointer}.f-verify-detail .f-verify-nums .nums-icon{margin-right:.25rem;vertical-align:middle}.f-verify-detail .f-verify-nums .nums-count{font-size:.875rem;line-height:1.25rem}"]}]}],f.ctorParameters=function(){return[{type:n.LocaleService},{type:e.DomSanitizer,decorators:[{type:o.Optional}]}]},f.propDecorators={resultTipsTmpl:[{type:o.Input}],showType:[{type:o.Input}],showList:[{type:o.Input}],validatorClick:[{type:o.Output,args:["validatorClick"]}],listshowChange:[{type:o.Output,args:["listshowChange"]}],maxHeight:[{type:o.Input}],tabList:[{type:o.Input}],validatorList:[{type:o.Input}]},f);function f(t,e){this.localeService=t,this.sanitizer=e,this.resultTipsTmpl=null,this.showType="",this.showList=!1,this.validatorClick=new o.EventEmitter,this.listshowChange=new o.EventEmitter,this.errorLists=[],this._validatorList=[],this._maxHeight=60}var a=(l.prototype.createVerify=function(t){this.clear();var e,i=this.cfr.resolveComponentFactory(s).create(this.injector);return this.appRef.attachView(i.hostView),t.parent?(e=t.parent.nativeElement.offsetHeight-60,t.parent.nativeElement.appendChild(i.location.nativeElement)):(e=document.documentElement.clientHeight-60,document.querySelector("body").appendChild(i.location.nativeElement)),this.verifyContainer=i,this.verifyContainer.instance.maxHeight=e,this.verifyContainer.instance.showList=t.showList,this.verifyContainer.instance.showType=t.showType,this.verifyContainer.instance.tabList=t.verifyType,this.verifyContainer.instance.validatorList=t.verifyList,t.hasOwnProperty("verifyResultTipsTmpl")&&t.verifyResultTipsTmpl&&(this.verifyContainer.instance.resultTipsTmpl=t.verifyResultTipsTmpl),this.verifyContainer.instance},l.prototype.clear=function(){if(this.verifyContainer){var t=this.verifyContainer.location.nativeElement;t.parentNode&&t.parentNode.removeChild(t),this.verifyContainer.destroy(),this.verifyContainer=undefined}},l.decorators=[{type:o.Injectable,args:[{providedIn:"root"}]}],l.ctorParameters=function(){return[{type:o.ComponentFactoryResolver},{type:o.Injector},{type:o.ApplicationRef}]},l.ngInjectableDef=o.defineInjectable({factory:function(){return new l(o.inject(o.ComponentFactoryResolver),o.inject(o.INJECTOR),o.inject(o.ApplicationRef))},token:l,providedIn:"root"}),l);function l(t,e,i){this.cfr=t,this.injector=e,this.appRef=i}var c=(y.decorators=[{type:o.NgModule,args:[{declarations:[s],imports:[r.CommonModule,i.FormsModule,n.LocaleModule],providers:[a],exports:[s],entryComponents:[s]}]}],y);function y(){}var v=(p.decorators=[{type:o.Injectable}],p);function p(){}t.VerifyDetailService=a,t.VerifyDetailComponent=s,t.VerifyDetailModule=c,t.VerifyDetailOptions=v,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=farris-ui-verify-detail.umd.min.js.map