/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { PaneContainer } from './pane-container';
// Essential: Represents the workspace at the center of the entire window.
export class WorkspaceCenter {
    /**
     * @param {?} params
     */
    constructor(params) {
        params.location = 'center';
        this.paneContainer = new PaneContainer(params);
        this.didActivate = params.didActivate;
        this.paneContainer.onDidActivatePane(() => this.didActivate(this));
        this.paneContainer.onDidChangeActivePane((pane) => {
            params.didChangeActivePane(this, pane);
        });
        this.paneContainer.onDidChangeActivePaneItem((item) => {
            params.didChangeActivePaneItem(this, item);
        });
        this.paneContainer.onDidDestroyPaneItem((item) => params.didDestroyPaneItem(item));
    }
    /**
     * @return {?}
     */
    destroy() {
        this.paneContainer.destroy();
    }
    /**
     * @return {?}
     */
    serialize() {
        return this.paneContainer.serialize();
    }
    /**
     * @param {?} state
     * @param {?} deserializerManager
     * @return {?}
     */
    deserialize(state, deserializerManager) {
        this.paneContainer.deserialize(state, deserializerManager);
    }
    /**
     * @return {?}
     */
    activate() {
        this.getActivePane().activate();
    }
    /**
     * @return {?}
     */
    getLocation() {
        return 'center';
    }
    /**
     * @return {?}
     */
    setDraggingItem() {
        // No-op
    }
    // Essential: Invoke the given callback with all current and future panes items
    // in the workspace center.
    //
    // * `callback` {Function} to be called with current and future pane items.
    //   * `item` An item that is present in {::getPaneItems} at the time of
    //      subscription or that is added at some later time.
    //
    // Returns a {Disposable} on which `.dispose()` can be called to unsubscribe.
    /**
     * @param {?} callback
     * @return {?}
     */
    observePaneItems(callback) { return this.paneContainer.observePaneItems(callback); }
    // Essential: Invoke the given callback when the active pane item changes.
    //
    // Because observers are invoked synchronously, it's important not to perform
    // any expensive operations via this method. Consider
    // {::onDidStopChangingActivePaneItem} to delay operations until after changes
    // stop occurring.
    //
    // * `callback` {Function} to be called when the active pane item changes.
    //   * `item` The active pane item.
    //
    // Returns a {Disposable} on which `.dispose()` can be called to unsubscribe.
    /**
     * @param {?} callback
     * @return {?}
     */
    onDidChangeActivePaneItem(callback) {
        return this.paneContainer.onDidChangeActivePaneItem(callback);
    }
    // Essential: Invoke the given callback when the active pane item stops
    // changing.
    //
    // Observers are called asynchronously 100ms after the last active pane item
    // change. Handling changes here rather than in the synchronous
    // {::onDidChangeActivePaneItem} prevents unneeded work if the user is quickly
    // changing or closing tabs and ensures critical UI feedback, like changing the
    // highlighted tab, gets priority over work that can be done asynchronously.
    //
    // * `callback` {Function} to be called when the active pane item stopts
    //   changing.
    //   * `item` The active pane item.
    //
    // Returns a {Disposable} on which `.dispose()` can be called to unsubscribe.
    /**
     * @param {?} callback
     * @return {?}
     */
    onDidStopChangingActivePaneItem(callback) {
        return this.paneContainer.onDidStopChangingActivePaneItem(callback);
    }
    // Essential: Invoke the given callback with the current active pane item and
    // with all future active pane items in the workspace center.
    //
    // * `callback` {Function} to be called when the active pane item changes.
    //   * `item` The current active pane item.
    //
    // Returns a {Disposable} on which `.dispose()` can be called to unsubscribe.
    /**
     * @param {?} callback
     * @return {?}
     */
    observeActivePaneItem(callback) {
        return this.paneContainer.observeActivePaneItem(callback);
    }
    // Extended: Invoke the given callback when a pane is added to the workspace
    // center.
    //
    // * `callback` {Function} to be called panes are added.
    //   * `event` {Object} with the following keys:
    //     * `pane` The added pane.
    //
    // Returns a {Disposable} on which `.dispose()` can be called to unsubscribe.
    /**
     * @param {?} callback
     * @return {?}
     */
    onDidAddPane(callback) {
        return this.paneContainer.onDidAddPane(callback);
    }
    // Extended: Invoke the given callback before a pane is destroyed in the
    // workspace center.
    //
    // * `callback` {Function} to be called before panes are destroyed.
    //   * `event` {Object} with the following keys:
    //     * `pane` The pane to be destroyed.
    //
    // Returns a {Disposable} on which `.dispose()` can be called to unsubscribe.
    /**
     * @param {?} callback
     * @return {?}
     */
    onWillDestroyPane(callback) {
        return this.paneContainer.onWillDestroyPane(callback);
    }
    // Extended: Invoke the given callback when a pane is destroyed in the
    // workspace center.
    //
    // * `callback` {Function} to be called panes are destroyed.
    //   * `event` {Object} with the following keys:
    //     * `pane` The destroyed pane.
    //
    // Returns a {Disposable} on which `.dispose()` can be called to unsubscribe.
    /**
     * @param {?} callback
     * @return {?}
     */
    onDidDestroyPane(callback) {
        return this.paneContainer.onDidDestroyPane(callback);
    }
    // Extended: Invoke the given callback with all current and future panes in the
    // workspace center.
    //
    // * `callback` {Function} to be called with current and future panes.
    //   * `pane` A {Pane} that is present in {::getPanes} at the time of
    //      subscription or that is added at some later time.
    //
    // Returns a {Disposable} on which `.dispose()` can be called to unsubscribe.
    /**
     * @param {?} callback
     * @return {?}
     */
    observePanes(callback) {
        return this.paneContainer.observePanes(callback);
    }
    // Extended: Invoke the given callback when the active pane changes.
    //
    // * `callback` {Function} to be called when the active pane changes.
    //   * `pane` A {Pane} that is the current return value of {::getActivePane}.
    //
    // Returns a {Disposable} on which `.dispose()` can be called to unsubscribe.
    /**
     * @param {?} callback
     * @return {?}
     */
    onDidChangeActivePane(callback) {
        return this.paneContainer.onDidChangeActivePane(callback);
    }
    // Extended: Invoke the given callback with the current active pane and when
    // the active pane changes.
    //
    // * `callback` {Function} to be called with the current and future active#
    //   panes.
    //   * `pane` A {Pane} that is the current return value of {::getActivePane}.
    //
    // Returns a {Disposable} on which `.dispose()` can be called to unsubscribe.
    /**
     * @param {?} callback
     * @return {?}
     */
    observeActivePane(callback) {
        return this.paneContainer.observeActivePane(callback);
    }
    // Extended: Invoke the given callback when a pane item is added to the
    // workspace center.
    //
    // * `callback` {Function} to be called when pane items are added.
    //   * `event` {Object} with the following keys:
    //     * `item` The added pane item.
    //     * `pane` {Pane} containing the added item.
    //     * `index` {Number} indicating the index of the added item in its pane.
    //
    // Returns a {Disposable} on which `.dispose()` can be called to unsubscribe.
    /**
     * @param {?} callback
     * @return {?}
     */
    onDidAddPaneItem(callback) {
        return this.paneContainer.onDidAddPaneItem(callback);
    }
    // Extended: Invoke the given callback when a pane item is about to be
    // destroyed, before the user is prompted to save it.
    //
    // * `callback` {Function} to be called before pane items are destroyed.
    //   * `event` {Object} with the following keys:
    //     * `item` The item to be destroyed.
    //     * `pane` {Pane} containing the item to be destroyed.
    //     * `index` {Number} indicating the index of the item to be destroyed in
    //       its pane.
    //
    // Returns a {Disposable} on which `.dispose` can be called to unsubscribe.
    /**
     * @param {?} callback
     * @return {?}
     */
    onWillDestroyPaneItem(callback) {
        return this.paneContainer.onWillDestroyPaneItem(callback);
    }
    // Extended: Invoke the given callback when a pane item is destroyed.
    //
    // * `callback` {Function} to be called when pane items are destroyed.
    //   * `event` {Object} with the following keys:
    //     * `item` The destroyed item.
    //     * `pane` {Pane} containing the destroyed item.
    //     * `index` {Number} indicating the index of the destroyed item in its
    //       pane.
    //
    // Returns a {Disposable} on which `.dispose` can be called to unsubscribe.
    /**
     * @param {?} callback
     * @return {?}
     */
    onDidDestroyPaneItem(callback) {
        return this.paneContainer.onDidDestroyPaneItem(callback);
    }
    /*
      Section: Pane Items
      */
    // Essential: Get all pane items in the workspace center.
    //
    // Returns an {Array} of items.
    /**
     * @return {?}
     */
    getPaneItems() {
        return this.paneContainer.getPaneItems();
    }
    // Essential: Get the active {Pane}'s active item.
    //
    // Returns an pane item {Object}.
    /**
     * @return {?}
     */
    getActivePaneItem() {
        return this.paneContainer.getActivePaneItem();
    }
    // Save all pane items.
    /**
     * @return {?}
     */
    saveAll() {
        this.paneContainer.saveAll();
    }
    /**
     * @param {?} options
     * @return {?}
     */
    confirmClose(options) {
        return this.paneContainer.confirmClose(options);
    }
    /*
      Section: Panes
      */
    // Extended: Get all panes in the workspace center.
    //
    // Returns an {Array} of {Pane}s.
    /**
     * @return {?}
     */
    getPanes() {
        return this.paneContainer.getPanes();
    }
    // Extended: Get the active {Pane}.
    //
    // Returns a {Pane}.
    /**
     * @return {?}
     */
    getActivePane() {
        return this.paneContainer.getActivePane();
    }
    // Extended: Make the next pane active.
    /**
     * @return {?}
     */
    activateNextPane() {
        return this.paneContainer.activateNextPane();
    }
    // Extended: Make the previous pane active.
    /**
     * @return {?}
     */
    activatePreviousPane() {
        return this.paneContainer.activatePreviousPane();
    }
    /**
     * @param {?} uri
     * @return {?}
     */
    paneForURI(uri) {
        return this.paneContainer.paneForURI(uri);
    }
    /**
     * @param {?} item
     * @return {?}
     */
    paneForItem(item) {
        return this.paneContainer.paneForItem(item);
    }
    // Destroy (close) the active pane.
    /**
     * @return {?}
     */
    destroyActivePane() {
        /** @type {?} */
        const activePane = this.getActivePane();
        if (activePane != null) {
            activePane.destroy();
        }
    }
}
if (false) {
    /** @type {?} */
    WorkspaceCenter.prototype.paneContainer;
    /** @type {?} */
    WorkspaceCenter.prototype.didActivate;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoid29ya3NwYWNlLWNlbnRlci5qcyIsInNvdXJjZVJvb3QiOiJuZzovL0BmYXJyaXMvaWRlLWRldmtpdC8iLCJzb3VyY2VzIjpbImxpYi9pZGVmcmFtZXdvcmsvZ3NwL3dvcmtzcGFjZS1jZW50ZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7OztBQUFBLE9BQU8sRUFBRSxhQUFhLEVBQUUsTUFBTSxrQkFBa0IsQ0FBQzs7QUFJakQsTUFBTSxPQUFPLGVBQWU7Ozs7SUFJMUIsWUFBWSxNQUFNO1FBQ2hCLE1BQU0sQ0FBQyxRQUFRLEdBQUcsUUFBUSxDQUFDO1FBQzNCLElBQUksQ0FBQyxhQUFhLEdBQUcsSUFBSSxhQUFhLENBQUMsTUFBTSxDQUFDLENBQUM7UUFDL0MsSUFBSSxDQUFDLFdBQVcsR0FBRyxNQUFNLENBQUMsV0FBVyxDQUFDO1FBQ3RDLElBQUksQ0FBQyxhQUFhLENBQUMsaUJBQWlCLENBQUMsR0FBRyxFQUFFLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDO1FBQ25FLElBQUksQ0FBQyxhQUFhLENBQUMscUJBQXFCLENBQUMsQ0FBQyxJQUFJLEVBQUUsRUFBRTtZQUNoRCxNQUFNLENBQUMsbUJBQW1CLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQ3pDLENBQUMsQ0FBQyxDQUFDO1FBQ0gsSUFBSSxDQUFDLGFBQWEsQ0FBQyx5QkFBeUIsQ0FBQyxDQUFDLElBQUksRUFBRSxFQUFFO1lBQ3BELE1BQU0sQ0FBQyx1QkFBdUIsQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDN0MsQ0FBQyxDQUFDLENBQUM7UUFDSCxJQUFJLENBQUMsYUFBYSxDQUFDLG9CQUFvQixDQUFDLENBQUMsSUFBSSxFQUFFLEVBQUUsQ0FBQyxNQUFNLENBQUMsa0JBQWtCLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQztJQUNyRixDQUFDOzs7O0lBRUQsT0FBTztRQUNMLElBQUksQ0FBQyxhQUFhLENBQUMsT0FBTyxF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QUMsYUFBYSxDQUFDLGlCQUFpQixFQUFFLENBQUM7SUFDaEQsQ0FBQzs7Ozs7SUFHRCxPQUFPO1FBQ0wsSUFBSSxDQUFDLGFBQWEsQ0FBQyxPQUFPLEVBQUUsQ0FBQztJQUMvQixDQUFDOzs7OztJQUVELFlBQVksQ0FBQyxPQUFPO1FBQ2xCLE9BQU8sSUFBSSxDQUFDLGFBQWEsQ0FBQyxZQUFZLENBQUMsT0FBTyxDQUFDLENBQUM7SUFDbEQsQ0FBQzs7Ozs7Ozs7OztJQVNELFFBQVE7UUFDTixPQUFPLElBQUksQ0FBQyxhQUFhLENBQUMsUUFBUSxFQUFFLENBQUM7SUFDdkMsQ0FBQzs7Ozs7OztJQUtELGFBQWE7UUFDWCxPQUFPLElBQUksQ0FBQyxhQUFhLENBQUMsYUFBYSxFQUFFLENBQUM7SUFDNUMsQ0FBQzs7Ozs7SUFHRCxnQkFBZ0I7UUFDZCxPQUFPLElBQUksQ0FBQyxhQUFhLENBQUMsZ0JBQWdCLEVBQUUsQ0FBQztJQUMvQyxDQUFDOzs7OztJQUdELG9CQUFvQjtRQUNsQixPQUFPLElBQUksQ0FBQyxhQUFhLENBQUMsb0JBQW9CLEVBQUUsQ0FBQztJQUNuRCxDQUFDOzs7OztJQUVELFVBQVUsQ0FBQyxHQUFHO1FBQ1osT0FBTyxJQUFJLENBQUMsYUFBYSxDQUFDLFVBQVUsQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUM1QyxDQUFDOzs7OztJQUVELFdBQVcsQ0FBQyxJQUFJO1FBQ2QsT0FBTyxJQUFJLENBQUMsYUFBYSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUM5QyxDQUFDOzs7OztJQUdELGlCQUFpQjs7Y0FDVCxVQUFVLEdBQUcsSUFBSSxDQUFDLGFBQWEsRUFBRTtRQUN2QyxJQUFJLFVBQVUsSUFBSSxJQUFJLEVBQUU7WUFDdEIsVUFBVSxDQUFDLE9BQU8sRUFBRSxDQUFDO1NBQ3RCO0lBQ0gsQ0FBQztDQUNGOzs7SUF0UkMsd0NBQTZCOztJQUM3QixzQ0FBaUIiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQYW5lQ29udGFpbmVyIH0gZnJvbSAnLi9wYW5lLWNvbnRhaW5lcic7XHJcbmltcG9ydCB7IFBhbmUgfSBmcm9tICcuL3BhbmUnO1xyXG5cclxuLy8gRXNzZW50aWFsOiBSZXByZXNlbnRzIHRoZSB3b3Jrc3BhY2UgYXQgdGhlIGNlbnRlciBvZiB0aGUgZW50aXJlIHdpbmRvdy5cclxuZXhwb3J0IGNsYXNzIFdvcmtzcGFjZUNlbnRlciB7XHJcbiAgcGFuZUNvbnRhaW5lcjogUGFuZUNvbnRhaW5lcjtcclxuICBkaWRBY3RpdmF0ZTogYW55O1xyXG5cclxuICBjb25zdHJ1Y3RvcihwYXJhbXMpIHtcclxuICAgIHBhcmFtcy5sb2NhdGlvbiA9ICdjZW50ZXInO1xyXG4gICAgdGhpcy5wYW5lQ29udGFpbmVyID0gbmV3IFBhbmVDb250YWluZXIocGFyYW1zKTtcclxuICAgIHRoaXMuZGlkQWN0aXZhdGUgPSBwYXJhbXMuZGlkQWN0aXZhdGU7XHJcbiAgICB0aGlzLnBhbmVDb250YWluZXIub25EaWRBY3RpdmF0ZVBhbmUoKCkgPT4gdGhpcy5kaWRBY3RpdmF0ZSh0aGlzKSk7XHJcbiAgICB0aGlzLnBhbmVDb250YWluZXIub25EaWRDaGFuZ2VBY3RpdmVQYW5lKChwYW5lKSA9PiB7XHJcbiAgICAgIHBhcmFtcy5kaWRDaGFuZ2VBY3RpdmVQYW5lKHRoaXMsIHBhbmUpO1xyXG4gICAgfSk7XHJcbiAgICB0aGlzLnBhbmVDb250YWluZXIub25EaWRDaGFuZ2VBY3RpdmVQYW5lSXRlbSgoaXRlbSkgPT4ge1xyXG4gICAgICBwYXJhbXMuZGlkQ2hhbmdlQWN0aXZlUGFuZUl0ZW0odGhpcywgaXRlbSk7XHJcbiAgICB9KTtcclxuICAgIHRoaXMucGFuZUNvbnRhaW5lci5vbkRpZERlc3Ryb3lQYW5lSXRlbSgoaXRlbSkgPT4gcGFyYW1zLmRpZERlc3Ryb3lQYW5lSXRlbShpdGVtKSk7XHJcbiAgfVxyXG5cclxuICBkZXN0cm95KCkge1xyXG4gICAgdGhpcy5wYW5lQ29udGFpbmVyLmRlc3Ryb3koKTtcclxuICB9XHJcblxyXG4gIHNlcmlhbGl6ZSgpIHtcclxuICAgIHJldHVybiB0aGlzLnBhbmVDb250YWluZXIuc2VyaWFsaXplKCk7XHJcbiAgfVxyXG5cclxuICBkZXNlcmlhbGl6ZShzdGF0ZSwgZGVzZXJpYWxpemVyTWFuYWdlcikge1xyXG4gICAgdGhpcy5wYW5lQ29udGFpbmVyLmRlc2VyaWFsaXplKHN0YXRlLCBkZXNlcmlhbGl6ZXJNYW5hZ2VyKTtcclxuICB9XHJcblxyXG4gIGFjdGl2YXRlKCkge1xyXG4gICAgdGhpcy5nZXRBY3RpdmVQYW5lKCkuYWN0aXZhdGUoKTtcclxuICB9XHJcblxyXG4gIGdldExvY2F0aW9uKCkge1xyXG4gICAgcmV0dXJuICdjZW50ZXInO1xyXG4gIH1cclxuXHJcbiAgc2V0RHJhZ2dpbmdJdGVtKCkge1xyXG4gICAgLy8gTm8tb3BcclxuICB9XHJcblxyXG4gIC8vIEVzc2VudGlhbDogSW52b2tlIHRoZSBnaXZlbiBjYWxsYmFjayB3aXRoIGFsbCBjdXJyZW50IGFuZCBmdXR1cmUgcGFuZXMgaXRlbXNcclxuICAvLyBpbiB0aGUgd29ya3NwYWNlIGNlbnRlci5cclxuICAvL1xyXG4gIC8vICogYGNhbGxiYWNrYCB7RnVuY3Rpb259IHRvIGJlIGNhbGxlZCB3aXRoIGN1cnJlbnQgYW5kIGZ1dHVyZSBwYW5lIGl0ZW1zLlxyXG4gIC8vICAgKiBgaXRlbWAgQW4gaXRlbSB0aGF0IGlzIHByZXNlbnQgaW4gezo6Z2V0UGFuZUl0ZW1zfSBhdCB0aGUgdGltZSBvZlxyXG4gIC8vICAgICAgc3Vic2NyaXB0aW9uIG9yIHRoYXQgaXMgYWRkZWQgYXQgc29tZSBsYXRlciB0aW1lLlxyXG4gIC8vXHJcbiAgLy8gUmV0dXJucyBhIHtEaXNwb3NhYmxlfSBvbiB3aGljaCBgLmRpc3Bvc2UoKWAgY2FuIGJlIGNhbGxlZCB0byB1bnN1YnNjcmliZS5cclxuICBvYnNlcnZlUGFuZUl0ZW1zKGNhbGxiYWNrKSB7IHJldHVybiB0aGlzLnBhbmVDb250YWluZXIub2JzZXJ2ZVBhbmVJdGVtcyhjYWxsYmFjayk7IH1cclxuXHJcbiAgLy8gRXNzZW50aWFsOiBJbnZva2UgdGhlIGdpdmVuIGNhbGxiYWNrIHdoZW4gdGhlIGFjdGl2ZSBwYW5lIGl0ZW0gY2hhbmdlcy5cclxuICAvL1xyXG4gIC8vIEJlY2F1c2Ugb2JzZXJ2ZXJzIGFyZSBpbnZva2VkIHN5bmNocm9ub3VzbHksIGl0J3MgaW1wb3J0YW50IG5vdCB0byBwZXJmb3JtXHJcbiAgLy8gYW55IGV4cGVuc2l2ZSBvcGVyYXRpb25zIHZpYSB0aGlzIG1ldGhvZC4gQ29uc2lkZXJcclxuICAvLyB7OjpvbkRpZFN0b3BDaGFuZ2luZ0FjdGl2ZVBhbmVJdGVtfSB0byBkZWxheSBvcGVyYXRpb25zIHVudGlsIGFmdGVyIGNoYW5nZXNcclxuICAvLyBzdG9wIG9jY3VycmluZy5cclxuICAvL1xyXG4gIC8vICogYGNhbGxiYWNrYCB7RnVuY3Rpb259IHRvIGJlIGNhbGxlZCB3aGVuIHRoZSBhY3RpdmUgcGFuZSBpdGVtIGNoYW5nZXMuXHJcbiAgLy8gICAqIGBpdGVtYCBUaGUgYWN0aXZlIHBhbmUgaXRlbS5cclxuICAvL1xyXG4gIC8vIFJldHVybnMgYSB7RGlzcG9zYWJsZX0gb24gd2hpY2ggYC5kaXNwb3NlKClgIGNhbiBiZSBjYWxsZWQgdG8gdW5zdWJzY3JpYmUuXHJcbiAgb25EaWRDaGFuZ2VBY3RpdmVQYW5lSXRlbShjYWxsYmFjaykge1xyXG4gICAgcmV0dXJuIHRoaXMucGFuZUNvbnRhaW5lci5vbkRpZENoYW5nZUFjdGl2ZVBhbmVJdGVtKGNhbGxiYWNrKTtcclxuICB9XHJcblxyXG4gIC8vIEVzc2VudGlhbDogSW52b2tlIHRoZSBnaXZlbiBjYWxsYmFjayB3aGVuIHRoZSBhY3RpdmUgcGFuZSBpdGVtIHN0b3BzXHJcbiAgLy8gY2hhbmdpbmcuXHJcbiAgLy9cclxuICAvLyBPYnNlcnZlcnMgYXJlIGNhbGxlZCBhc3luY2hyb25vdXNseSAxMDBtcyBhZnRlciB0aGUgbGFzdCBhY3RpdmUgcGFuZSBpdGVtXHJcbiAgLy8gY2hhbmdlLiBIYW5kbGluZyBjaGFuZ2VzIGhlcmUgcmF0aGVyIHRoYW4gaW4gdGhlIHN5bmNocm9ub3VzXHJcbiAgLy8gezo6b25EaWRDaGFuZ2VBY3RpdmVQYW5lSXRlbX0gcHJldmVudHMgdW5uZWVkZWQgd29yayBpZiB0aGUgdXNlciBpcyBxdWlja2x5XHJcbiAgLy8gY2hhbmdpbmcgb3IgY2xvc2luZyB0YWJzIGFuZCBlbnN1cmVzIGNyaXRpY2FsIFVJIGZlZWRiYWNrLCBsaWtlIGNoYW5naW5nIHRoZVxyXG4gIC8vIGhpZ2hsaWdodGVkIHRhYiwgZ2V0cyBwcmlvcml0eSBvdmVyIHdvcmsgdGhhdCBjYW4gYmUgZG9uZSBhc3luY2hyb25vdXNseS5cclxuICAvL1xyXG4gIC8vICogYGNhbGxiYWNrYCB7RnVuY3Rpb259IHRvIGJlIGNhbGxlZCB3aGVuIHRoZSBhY3RpdmUgcGFuZSBpdGVtIHN0b3B0c1xyXG4gIC8vICAgY2hhbmdpbmcuXHJcbiAgLy8gICAqIGBpdGVtYCBUaGUgYWN0aXZlIHBhbmUgaXRlbS5cclxuICAvL1xyXG4gIC8vIFJldHVybnMgYSB7RGlzcG9zYWJsZX0gb24gd2hpY2ggYC5kaXNwb3NlKClgIGNhbiBiZSBjYWxsZWQgdG8gdW5zdWJzY3JpYmUuXHJcbiAgb25EaWRTdG9wQ2hhbmdpbmdBY3RpdmVQYW5lSXRlbShjYWxsYmFjaykge1xyXG4gICAgcmV0dXJuIHRoaXMucGFuZUNvbnRhaW5lci5vbkRpZFN0b3BDaGFuZ2luZ0FjdGl2ZVBhbmVJdGVtKGNhbGxiYWNrKTtcclxuICB9XHJcblxyXG4gIC8vIEVzc2VudGlhbDogSW52b2tlIHRoZSBnaXZlbiBjYWxsYmFjayB3aXRoIHRoZSBjdXJyZW50IGFjdGl2ZSBwYW5lIGl0ZW0gYW5kXHJcbiAgLy8gd2l0aCBhbGwgZnV0dXJlIGFjdGl2ZSBwYW5lIGl0ZW1zIGluIHRoZSB3b3Jrc3BhY2UgY2VudGVyLlxyXG4gIC8vXHJcbiAgLy8gKiBgY2FsbGJhY2tgIHtGdW5jdGlvbn0gdG8gYmUgY2FsbGVkIHdoZW4gdGhlIGFjdGl2ZSBwYW5lIGl0ZW0gY2hhbmdlcy5cclxuICAvLyAgICogYGl0ZW1gIFRoZSBjdXJyZW50IGFjdGl2ZSBwYW5lIGl0ZW0uXHJcbiAgLy9cclxuICAvLyBSZXR1cm5zIGEge0Rpc3Bvc2FibGV9IG9uIHdoaWNoIGAuZGlzcG9zZSgpYCBjYW4gYmUgY2FsbGVkIHRvIHVuc3Vic2NyaWJlLlxyXG4gIG9ic2VydmVBY3RpdmVQYW5lSXRlbShjYWxsYmFjaykge1xyXG4gICAgcmV0dXJuIHRoaXMucGFuZUNvbnRhaW5lci5vYnNlcnZlQWN0aXZlUGFuZUl0ZW0oY2FsbGJhY2spO1xyXG4gIH1cclxuXHJcbiAgLy8gRXh0ZW5kZWQ6IEludm9rZSB0aGUgZ2l2ZW4gY2FsbGJhY2sgd2hlbiBhIHBhbmUgaXMgYWRkZWQgdG8gdGhlIHdvcmtzcGFjZVxyXG4gIC8vIGNlbnRlci5cclxuICAvL1xyXG4gIC8vICogYGNhbGxiYWNrYCB7RnVuY3Rpb259IHRvIGJlIGNhbGxlZCBwYW5lcyBhcmUgYWRkZWQuXHJcbiAgLy8gICAqIGBldmVudGAge09iamVjdH0gd2l0aCB0aGUgZm9sbG93aW5nIGtleXM6XHJcbiAgLy8gICAgICogYHBhbmVgIFRoZSBhZGRlZCBwYW5lLlxyXG4gIC8vXHJcbiAgLy8gUmV0dXJucyBhIHtEaXNwb3NhYmxlfSBvbiB3aGljaCBgLmRpc3Bvc2UoKWAgY2FuIGJlIGNhbGxlZCB0byB1bnN1YnNjcmliZS5cclxuICBvbkRpZEFkZFBhbmUoY2FsbGJhY2spIHtcclxuICAgIHJldHVybiB0aGlzLnBhbmVDb250YWluZXIub25EaWRBZGRQYW5lKGNhbGxiYWNrKTtcclxuICB9XHJcblxyXG4gIC8vIEV4dGVuZGVkOiBJbnZva2UgdGhlIGdpdmVuIGNhbGxiYWNrIGJlZm9yZSBhIHBhbmUgaXMgZGVzdHJveWVkIGluIHRoZVxyXG4gIC8vIHdvcmtzcGFjZSBjZW50ZXIuXHJcbiAgLy9cclxuICAvLyAqIGBjYWxsYmFja2Age0Z1bmN0aW9ufSB0byBiZSBjYWxsZWQgYmVmb3JlIHBhbmVzIGFyZSBkZXN0cm95ZWQuXHJcbiAgLy8gICAqIGBldmVudGAge09iamVjdH0gd2l0aCB0aGUgZm9sbG93aW5nIGtleXM6XHJcbiAgLy8gICAgICogYHBhbmVgIFRoZSBwYW5lIHRvIGJlIGRlc3Ryb3llZC5cclxuICAvL1xyXG4gIC8vIFJldHVybnMgYSB7RGlzcG9zYWJsZX0gb24gd2hpY2ggYC5kaXNwb3NlKClgIGNhbiBiZSBjYWxsZWQgdG8gdW5zdWJzY3JpYmUuXHJcbiAgb25XaWxsRGVzdHJveVBhbmUoY2FsbGJhY2spIHtcclxuICAgIHJldHVybiB0aGlzLnBhbmVDb250YWluZXIub25XaWxsRGVzdHJveVBhbmUoY2FsbGJhY2spO1xyXG4gIH1cclxuXHJcbiAgLy8gRXh0ZW5kZWQ6IEludm9rZSB0aGUgZ2l2ZW4gY2FsbGJhY2sgd2hlbiBhIHBhbmUgaXMgZGVzdHJveWVkIGluIHRoZVxyXG4gIC8vIHdvcmtzcGFjZSBjZW50ZXIuXHJcbiAgLy9cclxuICAvLyAqIGBjYWxsYmFja2Age0Z1bmN0aW9ufSB0byBiZSBjYWxsZWQgcGFuZXMgYXJlIGRlc3Ryb3llZC5cclxuICAvLyAgICogYGV2ZW50YCB7T2JqZWN0fSB3aXRoIHRoZSBmb2xsb3dpbmcga2V5czpcclxuICAvLyAgICAgKiBgcGFuZWAgVGhlIGRlc3Ryb3llZCBwYW5lLlxyXG4gIC8vXHJcbiAgLy8gUmV0dXJucyBhIHtEaXNwb3NhYmxlfSBvbiB3aGljaCBgLmRpc3Bvc2UoKWAgY2FuIGJlIGNhbGxlZCB0byB1bnN1YnNjcmliZS5cclxuICBvbkRpZERlc3Ryb3lQYW5lKGNhbGxiYWNrKSB7XHJcbiAgICByZXR1cm4gdGhpcy5wYW5lQ29udGFpbmVyLm9uRGlkRGVzdHJveVBhbmUoY2FsbGJhY2spO1xyXG4gIH1cclxuXHJcbiAgLy8gRXh0ZW5kZWQ6IEludm9rZSB0aGUgZ2l2ZW4gY2FsbGJhY2sgd2l0aCBhbGwgY3VycmVudCBhbmQgZnV0dXJlIHBhbmVzIGluIHRoZVxyXG4gIC8vIHdvcmtzcGFjZSBjZW50ZXIuXHJcbiAgLy9cclxuICAvLyAqIGBjYWxsYmFja2Age0Z1bmN0aW9ufSB0byBiZSBjYWxsZWQgd2l0aCBjdXJyZW50IGFuZCBmdXR1cmUgcGFuZXMuXHJcbiAgLy8gICAqIGBwYW5lYCBBIHtQYW5lfSB0aGF0IGlzIHByZXNlbnQgaW4gezo6Z2V0UGFuZXN9IGF0IHRoZSB0aW1lIG9mXHJcbiAgLy8gICAgICBzdWJzY3JpcHRpb24gb3IgdGhhdCBpcyBhZGRlZCBhdCBzb21lIGxhdGVyIHRpbWUuXHJcbiAgLy9cclxuICAvLyBSZXR1cm5zIGEge0Rpc3Bvc2FibGV9IG9uIHdoaWNoIGAuZGlzcG9zZSgpYCBjYW4gYmUgY2FsbGVkIHRvIHVuc3Vic2NyaWJlLlxyXG4gIG9ic2VydmVQYW5lcyhjYWxsYmFjaykge1xyXG4gICAgcmV0dXJuIHRoaXMucGFuZUNvbnRhaW5lci5vYnNlcnZlUGFuZXMoY2FsbGJhY2spO1xyXG4gIH1cclxuXHJcbiAgLy8gRXh0ZW5kZWQ6IEludm9rZSB0aGUgZ2l2ZW4gY2FsbGJhY2sgd2hlbiB0aGUgYWN0aXZlIHBhbmUgY2hhbmdlcy5cclxuICAvL1xyXG4gIC8vICogYGNhbGxiYWNrYCB7RnVuY3Rpb259IHRvIGJlIGNhbGxlZCB3aGVuIHRoZSBhY3RpdmUgcGFuZSBjaGFuZ2VzLlxyXG4gIC8vICAgKiBgcGFuZWAgQSB7UGFuZX0gdGhhdCBpcyB0aGUgY3VycmVudCByZXR1cm4gdmFsdWUgb2Ygezo6Z2V0QWN0aXZlUGFuZX0uXHJcbiAgLy9cclxuICAvLyBSZXR1cm5zIGEge0Rpc3Bvc2FibGV9IG9uIHdoaWNoIGAuZGlzcG9zZSgpYCBjYW4gYmUgY2FsbGVkIHRvIHVuc3Vic2NyaWJlLlxyXG4gIG9uRGlkQ2hhbmdlQWN0aXZlUGFuZShjYWxsYmFjaykge1xyXG4gICAgcmV0dXJuIHRoaXMucGFuZUNvbnRhaW5lci5vbkRpZENoYW5nZUFjdGl2ZVBhbmUoY2FsbGJhY2spO1xyXG4gIH1cclxuXHJcbiAgLy8gRXh0ZW5kZWQ6IEludm9rZSB0aGUgZ2l2ZW4gY2FsbGJhY2sgd2l0aCB0aGUgY3VycmVudCBhY3RpdmUgcGFuZSBhbmQgd2hlblxyXG4gIC8vIHRoZSBhY3RpdmUgcGFuZSBjaGFuZ2VzLlxyXG4gIC8vXHJcbiAgLy8gKiBgY2FsbGJhY2tgIHtGdW5jdGlvbn0gdG8gYmUgY2FsbGVkIHdpdGggdGhlIGN1cnJlbnQgYW5kIGZ1dHVyZSBhY3RpdmUjXHJcbiAgLy8gICBwYW5lcy5cclxuICAvLyAgICogYHBhbmVgIEEge1BhbmV9IHRoYXQgaXMgdGhlIGN1cnJlbnQgcmV0dXJuIHZhbHVlIG9mIHs6OmdldEFjdGl2ZVBhbmV9LlxyXG4gIC8vXHJcbiAgLy8gUmV0dXJucyBhIHtEaXNwb3NhYmxlfSBvbiB3aGljaCBgLmRpc3Bvc2UoKWAgY2FuIGJlIGNhbGxlZCB0byB1bnN1YnNjcmliZS5cclxuICBvYnNlcnZlQWN0aXZlUGFuZShjYWxsYmFjaykge1xyXG4gICAgcmV0dXJuIHRoaXMucGFuZUNvbnRhaW5lci5vYnNlcnZlQWN0aXZlUGFuZShjYWxsYmFjayk7XHJcbiAgfVxyXG5cclxuICAvLyBFeHRlbmRlZDogSW52b2tlIHRoZSBnaXZlbiBjYWxsYmFjayB3aGVuIGEgcGFuZSBpdGVtIGlzIGFkZGVkIHRvIHRoZVxyXG4gIC8vIHdvcmtzcGFjZSBjZW50ZXIuXHJcbiAgLy9cclxuICAvLyAqIGBjYWxsYmFja2Age0Z1bmN0aW9ufSB0byBiZSBjYWxsZWQgd2hlbiBwYW5lIGl0ZW1zIGFyZSBhZGRlZC5cclxuICAvLyAgICogYGV2ZW50YCB7T2JqZWN0fSB3aXRoIHRoZSBmb2xsb3dpbmcga2V5czpcclxuICAvLyAgICAgKiBgaXRlbWAgVGhlIGFkZGVkIHBhbmUgaXRlbS5cclxuICAvLyAgICAgKiBgcGFuZWAge1BhbmV9IGNvbnRhaW5pbmcgdGhlIGFkZGVkIGl0ZW0uXHJcbiAgLy8gICAgICogYGluZGV4YCB7TnVtYmVyfSBpbmRpY2F0aW5nIHRoZSBpbmRleCBvZiB0aGUgYWRkZWQgaXRlbSBpbiBpdHMgcGFuZS5cclxuICAvL1xyXG4gIC8vIFJldHVybnMgYSB7RGlzcG9zYWJsZX0gb24gd2hpY2ggYC5kaXNwb3NlKClgIGNhbiBiZSBjYWxsZWQgdG8gdW5zdWJzY3JpYmUuXHJcbiAgb25EaWRBZGRQYW5lSXRlbShjYWxsYmFjaykge1xyXG4gICAgcmV0dXJuIHRoaXMucGFuZUNvbnRhaW5lci5vbkRpZEFkZFBhbmVJdGVtKGNhbGxiYWNrKTtcclxuICB9XHJcblxyXG4gIC8vIEV4dGVuZGVkOiBJbnZva2UgdGhlIGdpdmVuIGNhbGxiYWNrIHdoZW4gYSBwYW5lIGl0ZW0gaXMgYWJvdXQgdG8gYmVcclxuICAvLyBkZXN0cm95ZWQsIGJlZm9yZSB0aGUgdXNlciBpcyBwcm9tcHRlZCB0byBzYXZlIGl0LlxyXG4gIC8vXHJcbiAgLy8gKiBgY2FsbGJhY2tgIHtGdW5jdGlvbn0gdG8gYmUgY2FsbGVkIGJlZm9yZSBwYW5lIGl0ZW1zIGFyZSBkZXN0cm95ZWQuXHJcbiAgLy8gICAqIGBldmVudGAge09iamVjdH0gd2l0aCB0aGUgZm9sbG93aW5nIGtleXM6XHJcbiAgLy8gICAgICogYGl0ZW1gIFRoZSBpdGVtIHRvIGJlIGRlc3Ryb3llZC5cclxuICAvLyAgICAgKiBgcGFuZWAge1BhbmV9IGNvbnRhaW5pbmcgdGhlIGl0ZW0gdG8gYmUgZGVzdHJveWVkLlxyXG4gIC8vICAgICAqIGBpbmRleGAge051bWJlcn0gaW5kaWNhdGluZyB0aGUgaW5kZXggb2YgdGhlIGl0ZW0gdG8gYmUgZGVzdHJveWVkIGluXHJcbiAgLy8gICAgICAgaXRzIHBhbmUuXHJcbiAgLy9cclxuICAvLyBSZXR1cm5zIGEge0Rpc3Bvc2FibGV9IG9uIHdoaWNoIGAuZGlzcG9zZWAgY2FuIGJlIGNhbGxlZCB0byB1bnN1YnNjcmliZS5cclxuICBvbldpbGxEZXN0cm95UGFuZUl0ZW0oY2FsbGJhY2spIHtcclxuICAgIHJldHVybiB0aGlzLnBhbmVDb250YWluZXIub25XaWxsRGVzdHJveVBhbmVJdGVtKGNhbGxiYWNrKTtcclxuICB9XHJcblxyXG4gIC8vIEV4dGVuZGVkOiBJbnZva2UgdGhlIGdpdmVuIGNhbGxiYWNrIHdoZW4gYSBwYW5lIGl0ZW0gaXMgZGVzdHJveWVkLlxyXG4gIC8vXHJcbiAgLy8gKiBgY2FsbGJhY2tgIHtGdW5jdGlvbn0gdG8gYmUgY2FsbGVkIHdoZW4gcGFuZSBpdGVtcyBhcmUgZGVzdHJveWVkLlxyXG4gIC8vICAgKiBgZXZlbnRgIHtPYmplY3R9IHdpdGggdGhlIGZvbGxvd2luZyBrZXlzOlxyXG4gIC8vICAgICAqIGBpdGVtYCBUaGUgZGVzdHJveWVkIGl0ZW0uXHJcbiAgLy8gICAgICogYHBhbmVgIHtQYW5lfSBjb250YWluaW5nIHRoZSBkZXN0cm95ZWQgaXRlbS5cclxuICAvLyAgICAgKiBgaW5kZXhgIHtOdW1iZXJ9IGluZGljYXRpbmcgdGhlIGluZGV4IG9mIHRoZSBkZXN0cm95ZWQgaXRlbSBpbiBpdHNcclxuICAvLyAgICAgICBwYW5lLlxyXG4gIC8vXHJcbiAgLy8gUmV0dXJucyBhIHtEaXNwb3NhYmxlfSBvbiB3aGljaCBgLmRpc3Bvc2VgIGNhbiBiZSBjYWxsZWQgdG8gdW5zdWJzY3JpYmUuXHJcbiAgb25EaWREZXN0cm95UGFuZUl0ZW0oY2FsbGJhY2spIHtcclxuICAgIHJldHVybiB0aGlzLnBhbmVDb250YWluZXIub25EaWREZXN0cm95UGFuZUl0ZW0oY2FsbGJhY2spO1xyXG4gIH1cclxuXHJcbiAgLypcclxuICBTZWN0aW9uOiBQYW5lIEl0ZW1zXHJcbiAgKi9cclxuXHJcbiAgLy8gRXNzZW50aWFsOiBHZXQgYWxsIHBhbmUgaXRlbXMgaW4gdGhlIHdvcmtzcGFjZSBjZW50ZXIuXHJcbiAgLy9cclxuICAvLyBSZXR1cm5zIGFuIHtBcnJheX0gb2YgaXRlbXMuXHJcbiAgZ2V0UGFuZUl0ZW1zKCkge1xyXG4gICAgcmV0dXJuIHRoaXMucGFuZUNvbnRhaW5lci5nZXRQYW5lSXRlbXMoKTtcclxuICB9XHJcblxyXG4gIC8vIEVzc2VudGlhbDogR2V0IHRoZSBhY3RpdmUge1BhbmV9J3MgYWN0aXZlIGl0ZW0uXHJcbiAgLy9cclxuICAvLyBSZXR1cm5zIGFuIHBhbmUgaXRlbSB7T2JqZWN0fS5cclxuICBnZXRBY3RpdmVQYW5lSXRlbSgpIHtcclxuICAgIHJldHVybiB0aGlzLnBhbmVDb250YWluZXIuZ2V0QWN0aXZlUGFuZUl0ZW0oKTtcclxuICB9XHJcblxyXG4gIC8vIFNhdmUgYWxsIHBhbmUgaXRlbXMuXHJcbiAgc2F2ZUFsbCgpIHtcclxuICAgIHRoaXMucGFuZUNvbnRhaW5lci5zYXZlQWxsKCk7XHJcbiAgfVxyXG5cclxuICBjb25maXJtQ2xvc2Uob3B0aW9ucykge1xyXG4gICAgcmV0dXJuIHRoaXMucGFuZUNvbnRhaW5lci5jb25maXJtQ2xvc2Uob3B0aW9ucyk7XHJcbiAgfVxyXG5cclxuICAvKlxyXG4gIFNlY3Rpb246IFBhbmVzXHJcbiAgKi9cclxuXHJcbiAgLy8gRXh0ZW5kZWQ6IEdldCBhbGwgcGFuZXMgaW4gdGhlIHdvcmtzcGFjZSBjZW50ZXIuXHJcbiAgLy9cclxuICAvLyBSZXR1cm5zIGFuIHtBcnJheX0gb2Yge1BhbmV9cy5cclxuICBnZXRQYW5lcygpOiBQYW5lW10ge1xyXG4gICAgcmV0dXJuIHRoaXMucGFuZUNvbnRhaW5lci5nZXRQYW5lcygpO1xyXG4gIH1cclxuXHJcbiAgLy8gRXh0ZW5kZWQ6IEdldCB0aGUgYWN0aXZlIHtQYW5lfS5cclxuICAvL1xyXG4gIC8vIFJldHVybnMgYSB7UGFuZX0uXHJcbiAgZ2V0QWN0aXZlUGFuZSgpOiBQYW5lIHtcclxuICAgIHJldHVybiB0aGlzLnBhbmVDb250YWluZXIuZ2V0QWN0aXZlUGFuZSgpO1xyXG4gIH1cclxuXHJcbiAgLy8gRXh0ZW5kZWQ6IE1ha2UgdGhlIG5leHQgcGFuZSBhY3RpdmUuXHJcbiAgYWN0aXZhdGVOZXh0UGFuZSgpIHtcclxuICAgIHJldHVybiB0aGlzLnBhbmVDb250YWluZXIuYWN0aXZhdGVOZXh0UGFuZSgpO1xyXG4gIH1cclxuXHJcbiAgLy8gRXh0ZW5kZWQ6IE1ha2UgdGhlIHByZXZpb3VzIHBhbmUgYWN0aXZlLlxyXG4gIGFjdGl2YXRlUHJldmlvdXNQYW5lKCkge1xyXG4gICAgcmV0dXJuIHRoaXMucGFuZUNvbnRhaW5lci5hY3RpdmF0ZVByZXZpb3VzUGFuZSgpO1xyXG4gIH1cclxuXHJcbiAgcGFuZUZvclVSSSh1cmkpOiBQYW5lIHtcclxuICAgIHJldHVybiB0aGlzLnBhbmVDb250YWluZXIucGFuZUZvclVSSSh1cmkpO1xyXG4gIH1cclxuXHJcbiAgcGFuZUZvckl0ZW0oaXRlbSk6IFBhbmUge1xyXG4gICAgcmV0dXJuIHRoaXMucGFuZUNvbnRhaW5lci5wYW5lRm9ySXRlbShpdGVtKTtcclxuICB9XHJcblxyXG4gIC8vIERlc3Ryb3kgKGNsb3NlKSB0aGUgYWN0aXZlIHBhbmUuXHJcbiAgZGVzdHJveUFjdGl2ZVBhbmUoKSB7XHJcbiAgICBjb25zdCBhY3RpdmVQYW5lID0gdGhpcy5nZXRBY3RpdmVQYW5lKCk7XHJcbiAgICBpZiAoYWN0aXZlUGFuZSAhPSBudWxsKSB7XHJcbiAgICAgIGFjdGl2ZVBhbmUuZGVzdHJveSgpO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG4iXX0=