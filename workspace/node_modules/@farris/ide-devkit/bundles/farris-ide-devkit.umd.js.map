{"version":3,"file":"farris-ide-devkit.umd.js.map","sources":["node_modules/tslib/tslib.es6.js","ng://@farris/ide-devkit/lib/components/alert/alert.config.ts","ng://@farris/ide-devkit/lib/components/utils/decorators.ts","ng://@farris/ide-devkit/lib/components/alert/alert.component.ts","ng://@farris/ide-devkit/lib/components/alert/alert.module.ts","ng://@farris/ide-devkit/lib/components/tooltip/tooltip.config.ts","ng://@farris/ide-devkit/lib/components/utils/facade/browser.ts","ng://@farris/ide-devkit/lib/components/utils/theme-provider.ts","ng://@farris/ide-devkit/lib/components/tooltip/tooltip-container.component.ts","ng://@farris/ide-devkit/lib/components/utils/trigger.class.ts","ng://@farris/ide-devkit/lib/components/utils/triggers.ts","ng://@farris/ide-devkit/lib/components/utils/component-loader/content-ref.class.ts","ng://@farris/ide-devkit/lib/components/utils/component-loader/component-loader.class.ts","ng://@farris/ide-devkit/lib/components/utils/positioning/ng-positioning.ts","ng://@farris/ide-devkit/lib/components/utils/positioning/positioning.service.ts","ng://@farris/ide-devkit/lib/components/utils/component-loader/component-loader.factory.ts","ng://@farris/ide-devkit/lib/components/utils/warn-once.ts","ng://@farris/ide-devkit/lib/components/tooltip/tooltip.directive.ts","ng://@farris/ide-devkit/lib/components/tooltip/tooltip.module.ts","ng://@farris/ide-devkit/lib/components/modal/bs-modal-ref.service.ts","ng://@farris/ide-devkit/lib/components/modal/modal-backdrop.options.ts","ng://@farris/ide-devkit/lib/components/modal/modal-options.class.ts","ng://@farris/ide-devkit/lib/components/modal/modal-container.component.ts","ng://@farris/ide-devkit/lib/components/utils/utils.class.ts","ng://@farris/ide-devkit/lib/components/modal/modal-backdrop.component.ts","ng://@farris/ide-devkit/lib/components/modal/modal.directive.ts","ng://@farris/ide-devkit/lib/components/modal/bs-modal.service.ts","ng://@farris/ide-devkit/lib/components/modal/modal.module.ts","ng://@farris/ide-devkit/lib/components/navbar/navbar.state.ts","ng://@farris/ide-devkit/lib/components/dropdown/dropdown.config.ts","ng://@farris/ide-devkit/lib/components/dropdown/dropdown.state.ts","ng://@farris/ide-devkit/lib/components/utils/ng2-bootstrap-config.ts","ng://@farris/ide-devkit/lib/components/dropdown/dropdown-container.component.ts","ng://@farris/ide-devkit/lib/components/dropdown/dropdown.directive.ts","ng://@farris/ide-devkit/lib/components/dropdown/dropdown-menu.directive.ts","ng://@farris/ide-devkit/lib/components/dropdown/dropdown-toggle.directive.ts","ng://@farris/ide-devkit/lib/components/dropdown/dropdown-button.directive.ts","ng://@farris/ide-devkit/lib/components/dropdown/dropdown-item.directive.ts","ng://@farris/ide-devkit/lib/components/dropdown/dropdown.module.ts","ng://@farris/ide-devkit/lib/components/navbar/navbar.directive.ts","ng://@farris/ide-devkit/lib/components/navbar/navbar.module.ts","ng://@farris/ide-devkit/lib/components/ng2tree-common/constants/events.ts","ng://@farris/ide-devkit/lib/components/ng2tree-common/models/tree-node.ts","ng://@farris/ide-devkit/lib/components/ng2tree-common/models/tree-options.ts","ng://@farris/ide-devkit/lib/components/ng2tree-common/models/tree-model.ts","ng://@farris/ide-devkit/lib/components/ng2tree-common/constants/keys.ts","ng://@farris/ide-devkit/lib/components/ng2tree-common/components/tree/tree.component.ts","ng://@farris/ide-devkit/lib/components/ng2tree-common/directives/tree-node-content.directive.ts","ng://@farris/ide-devkit/lib/components/ng2tree-common/models/tree-node-content-item.ts","ng://@farris/ide-devkit/lib/components/ng2tree-common/components/tree-node-content/tree-node-content.component.ts","ng://@farris/ide-devkit/lib/components/ng2tree-common/components/tree-node/tree-node.component.ts","ng://@farris/ide-devkit/lib/components/ng2tree-common/components/tree-node-drop-slot/tree-node-drop-slot.component.ts","ng://@farris/ide-devkit/lib/components/ng2tree-common/tree.module.ts","ng://@farris/ide-devkit/lib/components/angular-editor/model/config.ts","ng://@farris/ide-devkit/lib/components/angular-editor/constant/events.ts","ng://@farris/ide-devkit/lib/components/angular-editor/service/code-editor.event.service.ts","ng://@farris/ide-devkit/lib/components/angular-editor/model/base-monaco-editor.ts","ng://@farris/ide-devkit/lib/components/angular-editor/service/angular-monaco-editor.service.ts","ng://@farris/ide-devkit/lib/components/angular-editor/angular-monaco-editor/angular-monaco-editor.component.ts","ng://@farris/ide-devkit/lib/components/angular-editor/editor.module.ts","ng://@farris/ide-devkit/lib/components/ng2-right-click-menu/sh-context-menu-item.directive.ts","ng://@farris/ide-devkit/lib/components/ng2-right-click-menu/sh-context-menu.service.ts","ng://@farris/ide-devkit/lib/components/ng2-right-click-menu/sh-context-menu.component.ts","ng://@farris/ide-devkit/lib/components/ng2-right-click-menu/sh-attach-menu.directive.ts","ng://@farris/ide-devkit/lib/components/ng2-right-click-menu/sh-context-menu.module.ts","ng://@farris/ide-devkit/lib/components/wizard/component/wizard.component.ts","ng://@farris/ide-devkit/lib/components/wizard/wizard.module.ts","ng://@farris/ide-devkit/lib/components/combo-list/combo.service.ts","ng://@farris/ide-devkit/lib/components/combo-list/combo-list.component.ts","ng://@farris/ide-devkit/lib/components/combo-list/combo-list.module.ts","ng://@farris/ide-devkit/lib/components/popover/popover.config.ts","ng://@farris/ide-devkit/lib/components/popover/popover-container.component.ts","ng://@farris/ide-devkit/lib/components/popover/popover.directive.ts","ng://@farris/ide-devkit/lib/components/popover/popover.module.ts","ng://@farris/ide-devkit/lib/components/property-panel/components/property-item/property-item.component.ts","ng://@farris/ide-devkit/lib/components/property-panel/components/property-item-list/property-item-list.component.ts","ng://@farris/ide-devkit/lib/components/property-panel/components/property-panel/property-panel.component.ts","ng://@farris/ide-devkit/lib/components/property-panel/property-panel.module.ts","ng://@farris/ide-devkit/lib/components/property-panel/entity/property-entity.ts","ng://@farris/ide-devkit/lib/components/tabset/tabset-config.ts","ng://@farris/ide-devkit/lib/components/tabset/tabset.ts","ng://@farris/ide-devkit/lib/components/tabset/tabset.module.ts","ng://@farris/ide-devkit/lib/components/navtab/navtab-config.ts","ng://@farris/ide-devkit/lib/components/navtab/navtab.ts","ng://@farris/ide-devkit/lib/components/navtab/navtab.module.ts","ng://@farris/ide-devkit/lib/components/utils/util.ts","ng://@farris/ide-devkit/lib/components/accordion/accordion-config.ts","ng://@farris/ide-devkit/lib/components/accordion/accordion.ts","ng://@farris/ide-devkit/lib/components/accordion/accordion.module.ts","ng://@farris/ide-devkit/lib/components/panel/sash.directive.ts","ng://@farris/ide-devkit/lib/components/panel/panel.module.ts","ng://@farris/ide-devkit/lib/components/modules.ts","ng://@farris/ide-devkit/lib/components/utils/linked-list.class.ts","ng://@farris/ide-devkit/lib/ideframework/eventbus/event-bus-proxy.ts","ng://@farris/ide-devkit/lib/ideframework/eventbus/event-pipe.ts","ng://@farris/ide-devkit/lib/ideframework/eventbus/duplex-event-pipe.ts","ng://@farris/ide-devkit/lib/ideframework/eventbus/event-bus.ts","ng://@farris/ide-devkit/lib/ideframework/gsp/model.ts","ng://@farris/ide-devkit/lib/ideframework/gsp/pane-axis.ts","ng://@farris/ide-devkit/lib/ideframework/gsp/event-kit/disposable.ts","ng://@farris/ide-devkit/lib/ideframework/gsp/event-kit/composite-disposable.ts","ng://@farris/ide-devkit/lib/ideframework/gsp/event-kit/emitter.ts","ng://@farris/ide-devkit/lib/ideframework/gsp/pane.ts","ng://@farris/ide-devkit/lib/ideframework/gsp/item-registry.ts","ng://@farris/ide-devkit/lib/ideframework/gsp/pane-container.ts","ng://@farris/ide-devkit/lib/ideframework/gsp/dock.ts","ng://@farris/ide-devkit/lib/services/cache/services/storage/cache.storage.abstract.service.ts","ng://@farris/ide-devkit/lib/services/cache/services/storage/sessionstorage/cache.sessionstorage.service.ts","ng://@farris/ide-devkit/lib/services/cache/services/storage/localstorage/cache.localstorage.service.ts","ng://@farris/ide-devkit/lib/services/cache/services/storage/memory/cache.memory.service.ts","ng://@farris/ide-devkit/lib/services/cache/services/cache.service.ts","ng://@farris/ide-devkit/lib/ideframework/gsp/command-registry.ts","ng://@farris/ide-devkit/lib/ideframework/util/util.ts","ng://@farris/ide-devkit/lib/ideframework/gsp/view-registry.ts","ng://@farris/ide-devkit/lib/ideframework/gsp/panel-container.ts","ng://@farris/ide-devkit/lib/ideframework/gsp/panel.ts","ng://@farris/ide-devkit/lib/ideframework/gsp/workspace-center.ts","ng://@farris/ide-devkit/lib/ideframework/gsp/workspace.ts","ng://@farris/ide-devkit/lib/ideframework/gsp/gsp-event-bus.ts","ng://@farris/ide-devkit/lib/ideframework/gsp/ide/modal-frm.ts","ng://@farris/ide-devkit/lib/ideframework/gsp/ide/ide.ts","ng://@farris/ide-devkit/lib/ideframework/gsp/gsp.ts","ng://@farris/ide-devkit/lib/ideframework/gsp/ide/messager.ts","ng://@farris/ide-devkit/lib/ideframework/package/package-view.ts","ng://@farris/ide-devkit/lib/ideframework/package/package.ts","ng://@farris/ide-devkit/lib/ideframework/package/package-module.ts","ng://@farris/ide-devkit/lib/services/cache/cache.module.ts","ng://@farris/ide-devkit/lib/services/http/http.service.ts","ng://@farris/ide-devkit/lib/services/http/http.module.ts"],"sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\r\n            t[p[i]] = s[p[i]];\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n","import { Injectable } from '@angular/core';\r\n\r\n@Injectable()\r\nexport class AlertConfig {\r\n  /** default alert type */\r\n  type = 'warning';\r\n\r\n  /** is alerts are dismissible by default */\r\n  dismissible = false;\r\n\r\n  /** default time before alert will dismiss */\r\n  dismissOnTimeout?: number = undefined;\r\n}\r\n","/*tslint:disable:no-invalid-this */\r\nexport function OnChange(): any {\r\n  const sufix = 'Change';\r\n  return function OnChangeHandler(target: any, propertyKey: string): void {\r\n    const _key = ` __${propertyKey}Value`;\r\n    Object.defineProperty(target, propertyKey, {\r\n      get(): any { return this[_key]; },\r\n      set(value: any): void {\r\n        const prevValue = this[_key];\r\n        this[_key] = value;\r\n        if (prevValue !== value && this[propertyKey + sufix]) {\r\n          this[propertyKey + sufix].emit(value);\r\n        }\r\n      }\r\n    });\r\n  };\r\n}\r\n/* tslint:enable */\r\n","import {\r\n  ChangeDetectionStrategy,\r\n  ChangeDetectorRef,\r\n  Component,\r\n  EventEmitter,\r\n  Input,\r\n  OnInit,\r\n  Output\r\n} from '@angular/core';\r\nimport { AlertConfig } from './alert.config';\r\nimport { OnChange } from '../utils/decorators';\r\n\r\n@Component({\r\n  selector: 'alert,bs-alert',\r\n  templateUrl: './alert.component.html',\r\n  changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class AlertComponent implements OnInit {\r\n  /** Alert type.\r\n   * Provides one of four bootstrap supported contextual classes:\r\n   * `success`, `info`, `warning` and `danger`\r\n   */\r\n  @Input() type = 'warning';\r\n  /** If set, displays an inline \"Close\" button */\r\n  @OnChange()   @Input()   dismissible = false;\r\n  /** Number in milliseconds, after which alert will be closed */\r\n  @Input() dismissOnTimeout: number | string;\r\n\r\n  /** Is alert visible */\r\n  @Input() isOpen = true;\r\n\r\n  /** This event fires immediately after close instance method is called,\r\n   * $event is an instance of Alert component.\r\n   */\r\n  @Output() onClose = new EventEmitter<AlertComponent>();\r\n  /** This event fires when alert closed, $event is an instance of Alert component */\r\n  @Output() onClosed = new EventEmitter<AlertComponent>();\r\n\r\n\r\n  classes = '';\r\n  dismissibleChange = new EventEmitter<boolean>();\r\n\r\n  constructor(_config: AlertConfig, private changeDetection: ChangeDetectorRef) {\r\n    Object.assign(this, _config);\r\n    this.dismissibleChange.subscribe((dismissible: boolean) => {\r\n      this.classes = this.dismissible ? 'alert-dismissible' : '';\r\n      this.changeDetection.markForCheck();\r\n    });\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    if (this.dismissOnTimeout) {\r\n      // if dismissOnTimeout used as attr without binding, it will be a string\r\n      setTimeout(\r\n        () => this.close(),\r\n        parseInt(this.dismissOnTimeout as string, 10)\r\n      );\r\n    }\r\n  }\r\n\r\n  // todo: animation ` If the .fade and .in classes are present on the element,\r\n  // the alert will fade out before it is removed`\r\n  /**\r\n   * Closes an alert by removing it from the DOM.\r\n   */\r\n  close(): void {\r\n    if (!this.isOpen) {\r\n      return;\r\n    }\r\n\r\n    this.onClose.emit(this);\r\n    this.isOpen = false;\r\n    this.changeDetection.markForCheck();\r\n    this.onClosed.emit(this);\r\n  }\r\n}\r\n","import { CommonModule } from '@angular/common';\r\nimport { NgModule, ModuleWithProviders } from '@angular/core';\r\nimport { AlertComponent } from './alert.component';\r\nimport { AlertConfig } from './alert.config';\r\n\r\n@NgModule({\r\n  imports: [CommonModule],\r\n  declarations: [AlertComponent],\r\n  exports: [AlertComponent],\r\n  entryComponents: [AlertComponent]\r\n})\r\nexport class AlertModule {\r\n  static forRoot(): ModuleWithProviders {\r\n    return { ngModule: AlertModule, providers: [AlertConfig] };\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\n\r\n/** Default values provider for tooltip */\r\n@Injectable()\r\nexport class TooltipConfig {\r\n  /** tooltip placement, supported positions: 'top', 'bottom', 'left', 'right' */\r\n  placement = 'top';\r\n  /** array of event names which triggers tooltip opening */\r\n  triggers = 'hover focus';\r\n  /** a selector specifying the element the tooltip should be appended to. Currently only supports \"body\" */\r\n  container: string;\r\n}\r\n","/*tslint:disable */\r\n/**\r\n * @license\r\n * Copyright Google Inc. All Rights Reserved.\r\n *\r\n * Use of this source code is governed by an MIT-style license that can be\r\n * found in the LICENSE file at https://angular.io/license\r\n */\r\n\r\n/**\r\n * JS version of browser APIs. This library can only run in the browser.\r\n */\r\nvar win = (typeof window !== 'undefined' && window) || <any>{};\r\n\r\nexport { win as window };\r\nexport var document = win.document;\r\nexport var location = win.location;\r\nexport var gc = win['gc'] ? () => win['gc']() : (): any => null;\r\nexport var performance = win['performance'] ? win['performance'] : null;\r\nexport const Event = win['Event'];\r\nexport const MouseEvent = win['MouseEvent'];\r\nexport const KeyboardEvent = win['KeyboardEvent'];\r\nexport const EventTarget = win['EventTarget'];\r\nexport const History = win['History'];\r\nexport const Location = win['Location'];\r\nexport const EventListener = win['EventListener'];\r\n","import { window } from './facade/browser';\r\n\r\nlet guessedVersion: 'bs3' | 'bs4';\r\n\r\nfunction _guessBsVersion(): 'bs3' | 'bs4' {\r\n  if (typeof document === 'undefined') {\r\n    return null;\r\n  }\r\n  const spanEl = document.createElement('span');\r\n  spanEl.innerText = 'test bs version';\r\n  document.body.appendChild(spanEl);\r\n  spanEl.classList.add('d-none');\r\n  const rect = spanEl.getBoundingClientRect();\r\n  document.body.removeChild(spanEl);\r\n  if (!rect) {\r\n    return 'bs3';\r\n  }\r\n\r\n  return rect.top === 0 ? 'bs4' : 'bs3';\r\n}\r\n\r\nexport function setTheme(theme: 'bs3' | 'bs4'): void {\r\n  guessedVersion = theme;\r\n}\r\n\r\n// todo: in ngx-bootstrap, bs4 will became a default one\r\nexport function isBs3(): boolean {\r\n  if (typeof window === 'undefined') {\r\n    return true;\r\n  }\r\n\r\n  if (typeof window.__theme === 'undefined') {\r\n    if (guessedVersion) {\r\n      return guessedVersion === 'bs3';\r\n    }\r\n    guessedVersion = _guessBsVersion();\r\n\r\n    return guessedVersion === 'bs3';\r\n  }\r\n\r\n  return window.__theme !== 'bs4';\r\n}\r\n","import {\r\n  AfterViewInit,\r\n  Component,\r\n  ChangeDetectionStrategy\r\n} from '@angular/core';\r\nimport { TooltipConfig } from './tooltip.config';\r\nimport { isBs3 } from '../utils/theme-provider';\r\n\r\n@Component({\r\n  selector: 'bs-tooltip-container',\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  // tslint:disable-next-line\r\n  host: {\r\n    '[class]':\r\n      '\"tooltip in tooltip-\" + placement + \" \" + \"bs-tooltip-\" + placement + \" \" + placement + \" \" + containerClass',\r\n    '[class.show]': '!isBs3',\r\n    role: 'tooltip'\r\n  },\r\n  styles: [\r\n    `\r\n    :host.tooltip {\r\n      display: block;\r\n    }\r\n    :host.bs-tooltip-top .arrow, :host.bs-tooltip-bottom .arrow {\r\n      left: 50%;\r\n      margin-left: -6px;\r\n    }\r\n    :host.bs-tooltip-left .arrow, :host.bs-tooltip-right .arrow {\r\n      top: 50%;\r\n      margin-top: -6px;\r\n    }\r\n  `\r\n  ],\r\n  template: `\r\n    <div class=\"tooltip-arrow arrow\"></div>\r\n    <div class=\"tooltip-inner\"><ng-content></ng-content></div>\r\n    `\r\n})\r\nexport class TooltipContainerComponent implements AfterViewInit {\r\n  classMap: any;\r\n  placement: string;\r\n  containerClass: string;\r\n  animation: boolean;\r\n\r\n  get isBs3(): boolean {\r\n    return isBs3();\r\n  }\r\n\r\n  constructor(config: TooltipConfig) {\r\n    Object.assign(this, config);\r\n  }\r\n\r\n  ngAfterViewInit(): void {\r\n    this.classMap = { in: false, fade: false };\r\n    this.classMap[this.placement] = true;\r\n    this.classMap[`tooltip-${this.placement}`] = true;\r\n\r\n    this.classMap.in = true;\r\n    if (this.animation) {\r\n      this.classMap.fade = true;\r\n    }\r\n\r\n    if (this.containerClass) {\r\n      this.classMap[this.containerClass] = true;\r\n    }\r\n  }\r\n}\r\n","/**\r\n * @copyright Valor Software\r\n * @copyright Angular ng-bootstrap team\r\n */\r\n\r\n export class Trigger {\r\n   public open: string;\r\n   public close?: string;\r\n\r\n   public constructor(open: string, close?: string) {\r\n     this.open = open;\r\n     this.close = close || open;\r\n   }\r\n\r\n   public isManual(): boolean { return this.open === 'manual' || this.close === 'manual'; }\r\n }\r\n","/**\r\n * @copyright Valor Software\r\n * @copyright Angular ng-bootstrap team\r\n */\r\nimport { Renderer2 } from '@angular/core';\r\nimport { Trigger } from './trigger.class';\r\nimport {\r\n  BsEventCallback, ListenOptions\r\n} from './component-loader/listen-options.model';\r\n\r\nconst DEFAULT_ALIASES = {\r\n  hover: ['mouseover', 'mouseout'],\r\n  focus: ['focusin', 'focusout']\r\n};\r\n\r\nexport function parseTriggers(triggers: string, aliases: any = DEFAULT_ALIASES): Trigger[] {\r\n  const trimmedTriggers = (triggers || '').trim();\r\n\r\n  if (trimmedTriggers.length === 0) {\r\n    return [];\r\n  }\r\n\r\n  const parsedTriggers = trimmedTriggers\r\n    .split(/\\s+/)\r\n    .map((trigger: string) => trigger.split(':'))\r\n    .map((triggerPair: string[]) => {\r\n      const alias = aliases[triggerPair[0]] || triggerPair;\r\n\r\n      return new Trigger(alias[0], alias[1]);\r\n    });\r\n\r\n  const manualTriggers = parsedTriggers.filter((triggerPair: Trigger) =>\r\n    triggerPair.isManual()\r\n  );\r\n\r\n  if (manualTriggers.length > 1) {\r\n    throw new Error('Triggers parse error: only one manual trigger is allowed');\r\n  }\r\n\r\n  if (manualTriggers.length === 1 && parsedTriggers.length > 1) {\r\n    throw new Error('Triggers parse error: manual trigger can\\'t be mixed with other triggers');\r\n  }\r\n\r\n  return parsedTriggers;\r\n}\r\n\r\nexport function listenToTriggers(renderer: Renderer2,\r\n                                 target: any,\r\n                                 triggers: string,\r\n                                 showFn: BsEventCallback,\r\n                                 hideFn: BsEventCallback,\r\n                                 toggleFn: BsEventCallback): Function {\r\n  const parsedTriggers = parseTriggers(triggers);\r\n  const listeners: any[] = [];\r\n\r\n  if (parsedTriggers.length === 1 && parsedTriggers[0].isManual()) {\r\n    return Function.prototype;\r\n  }\r\n\r\n  parsedTriggers.forEach((trigger: Trigger) => {\r\n    if (trigger.open === trigger.close) {\r\n      listeners.push(renderer.listen(target, trigger.open, toggleFn));\r\n\r\n      return;\r\n    }\r\n\r\n    listeners.push(\r\n      renderer.listen(target, trigger.open, showFn),\r\n      renderer.listen(target, trigger.close, hideFn)\r\n    );\r\n  });\r\n\r\n  return () => {\r\n    listeners.forEach((unsubscribeFn: Function) => unsubscribeFn());\r\n  };\r\n}\r\n\r\nexport function listenToTriggersV2(renderer: Renderer2,\r\n                                   options: ListenOptions): Function {\r\n  const parsedTriggers = parseTriggers(options.triggers);\r\n  const target = options.target;\r\n  // do nothing\r\n  if (parsedTriggers.length === 1 && parsedTriggers[0].isManual()) {\r\n    return Function.prototype;\r\n  }\r\n\r\n  // all listeners\r\n  const listeners: any[] = [];\r\n\r\n  // lazy listeners registration\r\n  const _registerHide: Function[] = [];\r\n  const registerHide = () => {\r\n    // add hide listeners to unregister array\r\n    _registerHide.forEach((fn: Function) => listeners.push(fn()));\r\n    // register hide events only once\r\n    _registerHide.length = 0;\r\n  };\r\n\r\n  // register open\\close\\toggle listeners\r\n  parsedTriggers.forEach((trigger: Trigger) => {\r\n    const useToggle = trigger.open === trigger.close;\r\n    const showFn = useToggle ? options.toggle : options.show;\r\n\r\n    if (!useToggle) {\r\n      _registerHide.push(() =>\r\n        renderer.listen(target, trigger.close, options.hide)\r\n      );\r\n    }\r\n\r\n    listeners.push(\r\n      renderer.listen(target, trigger.open, () => showFn(registerHide))\r\n    );\r\n  });\r\n\r\n  return () => {\r\n    listeners.forEach((unsubscribeFn: Function) => unsubscribeFn());\r\n  };\r\n}\r\n\r\nexport function registerOutsideClick(renderer: Renderer2,\r\n                                     options: ListenOptions) {\r\n  if (!options.outsideClick) {\r\n    return Function.prototype;\r\n  }\r\n\r\n  return renderer.listen('document', 'click', (event: any) => {\r\n    if (options.target && options.target.contains(event.target)) {\r\n      return;\r\n    }\r\n    if (\r\n      options.targets &&\r\n      options.targets.some(target => target.contains(event.target))\r\n    ) {\r\n      return;\r\n    }\r\n\r\n    options.hide();\r\n  });\r\n}\r\n","/**\r\n * @copyright Valor Software\r\n * @copyright Angular ng-bootstrap team\r\n */\r\n\r\n import { ComponentRef, ViewRef } from '@angular/core';\r\n\r\n export class ContentRef {\r\n   public nodes: any[];\r\n   public viewRef?: ViewRef;\r\n   public componentRef?: ComponentRef<any>;\r\n\r\n   public constructor(\r\n     nodes: any[],\r\n     viewRef?: ViewRef,\r\n     componentRef?: ComponentRef<any>\r\n   ) {\r\n     this.nodes = nodes;\r\n     this.viewRef = viewRef;\r\n     this.componentRef = componentRef;\r\n   }\r\n }\r\n","// tslint:disable:max-file-line-count\r\n// todo: add delay support\r\n// todo: merge events onShow, onShown, etc...\r\n// todo: add global positioning configuration?\r\nimport {\r\n  ApplicationRef,\r\n  ComponentFactory,\r\n  ComponentFactoryResolver,\r\n  ComponentRef,\r\n  ElementRef,\r\n  EmbeddedViewRef,\r\n  EventEmitter,\r\n  Injector,\r\n  NgZone,\r\n  Provider,\r\n  ReflectiveInjector,\r\n  Renderer2,\r\n  TemplateRef,\r\n  Type,\r\n  ViewContainerRef\r\n} from '@angular/core';\r\nimport { PositioningOptions, PositioningService } from '../positioning/index';\r\nimport { listenToTriggersV2, registerOutsideClick } from '../triggers';\r\nimport { ContentRef } from './content-ref.class';\r\nimport { ListenOptions } from './listen-options.model';\r\n\r\nexport class ComponentLoader<T> {\r\n  onBeforeShow: EventEmitter<any> = new EventEmitter();\r\n  onShown: EventEmitter<any> = new EventEmitter();\r\n  onBeforeHide: EventEmitter<any> = new EventEmitter();\r\n  onHidden: EventEmitter<any> = new EventEmitter();\r\n\r\n  instance: T;\r\n  _componentRef: ComponentRef<T>;\r\n  _inlineViewRef: EmbeddedViewRef<T>;\r\n\r\n  private _providers: Provider[] = [];\r\n  private _componentFactory: ComponentFactory<T>;\r\n  private _zoneSubscription: any;\r\n  private _contentRef: ContentRef;\r\n  private _innerComponent: ComponentRef<T>;\r\n\r\n  private _unregisterListenersFn: Function;\r\n\r\n  get isShown(): boolean {\r\n    if (this._isHiding) {\r\n      return false;\r\n    }\r\n\r\n    return !!this._componentRef;\r\n  }\r\n\r\n  private _isHiding = false;\r\n\r\n  /**\r\n   * Placement of a component. Accepts: \"top\", \"bottom\", \"left\", \"right\"\r\n   */\r\n  private attachment: string;\r\n\r\n  /**\r\n   * A selector specifying the element the popover should be appended to.\r\n   * Currently only supports \"body\".\r\n   */\r\n  private container: string | ElementRef | any;\r\n\r\n  /**\r\n   * Specifies events that should trigger. Supports a space separated list of\r\n   * event names.\r\n   */\r\n  private triggers: string;\r\n\r\n  private _listenOpts: ListenOptions = {};\r\n  private _globalListener = Function.prototype;\r\n\r\n  /**\r\n   * Do not use this directly, it should be instanced via\r\n   * `ComponentLoadFactory.attach`\r\n   * @internal\r\n   */\r\n  // tslint:disable-next-line\r\n  public constructor(\r\n    private _viewContainerRef: ViewContainerRef,\r\n    private _renderer: Renderer2,\r\n    private _elementRef: ElementRef,\r\n    private _injector: Injector,\r\n    private _componentFactoryResolver: ComponentFactoryResolver,\r\n    private _ngZone: NgZone,\r\n    private _applicationRef: ApplicationRef,\r\n    private _posService: PositioningService\r\n  ) {}\r\n\r\n  attach(compType: Type<T>): ComponentLoader<T> {\r\n    this._componentFactory = this._componentFactoryResolver\r\n      .resolveComponentFactory<T>(compType);\r\n\r\n    return this;\r\n  }\r\n\r\n  // todo: add behaviour: to target element, `body`, custom element\r\n  to(container?: string): ComponentLoader<T> {\r\n    this.container = container || this.container;\r\n\r\n    return this;\r\n  }\r\n\r\n  position(opts?: PositioningOptions): ComponentLoader<T> {\r\n    this.attachment = opts.attachment || this.attachment;\r\n    this._elementRef = (opts.target as ElementRef) || this._elementRef;\r\n\r\n    return this;\r\n  }\r\n\r\n  provide(provider: Provider): ComponentLoader<T> {\r\n    this._providers.push(provider);\r\n\r\n    return this;\r\n  }\r\n\r\n  // todo: appendChild to element or document.querySelector(this.container)\r\n\r\n  show(opts: {\r\n         content?: string | TemplateRef<any>;\r\n         context?: any;\r\n         initialState?: any; [key: string]: any;\r\n       } = {}\r\n  ): ComponentRef<T> {\r\n\r\n    this._subscribePositioning();\r\n    this._innerComponent = null;\r\n\r\n    if (!this._componentRef) {\r\n      this.onBeforeShow.emit();\r\n      this._contentRef = this._getContentRef(opts.content, opts.context, opts.initialState);\r\n      const injector = ReflectiveInjector.resolveAndCreate(this._providers, this._injector);\r\n\r\n      this._componentRef = this._componentFactory.create(injector, this._contentRef.nodes);\r\n      this._applicationRef.attachView(this._componentRef.hostView);\r\n      // this._componentRef = this._viewContainerRef\r\n      //   .createComponent(this._componentFactory, 0, injector, this._contentRef.nodes);\r\n      this.instance = this._componentRef.instance;\r\n\r\n      Object.assign(this._componentRef.instance, opts);\r\n\r\n      if (this.container instanceof ElementRef) {\r\n        this.container.nativeElement.appendChild(\r\n          this._componentRef.location.nativeElement\r\n        );\r\n      }\r\n\r\n      if (this.container === 'body' && typeof document !== 'undefined') {\r\n        document\r\n          .querySelector(this.container as string)\r\n          .appendChild(this._componentRef.location.nativeElement);\r\n      }\r\n\r\n      if (\r\n        !this.container &&\r\n        this._elementRef &&\r\n        this._elementRef.nativeElement.parentElement\r\n      ) {\r\n        this._elementRef.nativeElement.parentElement.appendChild(\r\n          this._componentRef.location.nativeElement\r\n        );\r\n      }\r\n\r\n      // we need to manually invoke change detection since events registered\r\n      // via\r\n      // Renderer::listen() are not picked up by change detection with the\r\n      // OnPush strategy\r\n      if (this._contentRef.componentRef) {\r\n        this._innerComponent = this._contentRef.componentRef.instance;\r\n        this._contentRef.componentRef.changeDetectorRef.markForCheck();\r\n        this._contentRef.componentRef.changeDetectorRef.detectChanges();\r\n      }\r\n      this._componentRef.changeDetectorRef.markForCheck();\r\n      this._componentRef.changeDetectorRef.detectChanges();\r\n      this.onShown.emit(this._componentRef.instance);\r\n    }\r\n\r\n    this._registerOutsideClick();\r\n\r\n    return this._componentRef;\r\n  }\r\n\r\n  hide(): ComponentLoader<T> {\r\n    if (!this._componentRef) {\r\n      return this;\r\n    }\r\n\r\n    this.onBeforeHide.emit(this._componentRef.instance);\r\n\r\n    const componentEl = this._componentRef.location.nativeElement;\r\n    componentEl.parentNode.removeChild(componentEl);\r\n    if (this._contentRef.componentRef) {\r\n      this._contentRef.componentRef.destroy();\r\n    }\r\n    this._componentRef.destroy();\r\n    if (this._viewContainerRef && this._contentRef.viewRef) {\r\n      this._viewContainerRef.remove(\r\n        this._viewContainerRef.indexOf(this._contentRef.viewRef)\r\n      );\r\n    }\r\n    if (this._contentRef.viewRef) {\r\n      this._contentRef.viewRef.destroy();\r\n    }\r\n    // this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._componentRef.hostView));\r\n    //\r\n    // if (this._contentRef.viewRef && this._viewContainerRef.indexOf(this._contentRef.viewRef) !== -1) {\r\n    //   this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._contentRef.viewRef));\r\n    // }\r\n\r\n    this._contentRef = null;\r\n    this._componentRef = null;\r\n    this._removeGlobalListener();\r\n\r\n    this.onHidden.emit();\r\n\r\n    return this;\r\n  }\r\n\r\n  toggle(): void {\r\n    if (this.isShown) {\r\n      this.hide();\r\n\r\n      return;\r\n    }\r\n\r\n    this.show();\r\n  }\r\n\r\n  dispose(): void {\r\n    if (this.isShown) {\r\n      this.hide();\r\n    }\r\n\r\n    this._unsubscribePositioning();\r\n\r\n    if (this._unregisterListenersFn) {\r\n      this._unregisterListenersFn();\r\n    }\r\n  }\r\n\r\n  listen(listenOpts: ListenOptions): ComponentLoader<T> {\r\n    this.triggers = listenOpts.triggers || this.triggers;\r\n    this._listenOpts.outsideClick = listenOpts.outsideClick;\r\n    listenOpts.target = listenOpts.target || this._elementRef.nativeElement;\r\n\r\n    const hide = (this._listenOpts.hide = () =>\r\n      listenOpts.hide ? listenOpts.hide() : void this.hide());\r\n    const show = (this._listenOpts.show = (registerHide: Function) => {\r\n      listenOpts.show ? listenOpts.show(registerHide) : this.show(registerHide);\r\n      registerHide();\r\n    });\r\n\r\n    const toggle = (registerHide: Function) => {\r\n      this.isShown ? hide() : show(registerHide);\r\n    };\r\n\r\n    this._unregisterListenersFn = listenToTriggersV2(this._renderer, {\r\n      target: listenOpts.target,\r\n      triggers: listenOpts.triggers,\r\n      show,\r\n      hide,\r\n      toggle\r\n    });\r\n\r\n    return this;\r\n  }\r\n\r\n  _removeGlobalListener() {\r\n    if (this._globalListener) {\r\n      this._globalListener();\r\n      this._globalListener = null;\r\n    }\r\n  }\r\n\r\n  attachInline(\r\n    vRef: ViewContainerRef,\r\n    template: TemplateRef<any>\r\n  ): ComponentLoader<T> {\r\n    this._inlineViewRef = vRef.createEmbeddedView(template);\r\n\r\n    return this;\r\n  }\r\n\r\n  _registerOutsideClick(): void {\r\n    if (!this._componentRef || !this._componentRef.location) {\r\n      return;\r\n    }\r\n    // why: should run after first event bubble\r\n    if (this._listenOpts.outsideClick) {\r\n      const target = this._componentRef.location.nativeElement;\r\n      setTimeout(() => {\r\n        this._globalListener = registerOutsideClick(this._renderer, {\r\n          targets: [target, this._elementRef.nativeElement],\r\n          outsideClick: this._listenOpts.outsideClick,\r\n          hide: () => this._listenOpts.hide()\r\n        });\r\n      });\r\n    }\r\n  }\r\n\r\n  getInnerComponent(): ComponentRef<T> {\r\n    return this._innerComponent;\r\n  }\r\n\r\n  private _subscribePositioning(): void {\r\n    if (this._zoneSubscription || !this.attachment) {\r\n      return;\r\n    }\r\n\r\n    this._zoneSubscription = this._ngZone.onStable.subscribe(() => {\r\n      if (!this._componentRef) {\r\n        return;\r\n      }\r\n      this._posService.position({\r\n        element: this._componentRef.location,\r\n        target: this._elementRef,\r\n        attachment: this.attachment,\r\n        appendToBody: this.container === 'body'\r\n      });\r\n    });\r\n  }\r\n\r\n  private _unsubscribePositioning(): void {\r\n    if (!this._zoneSubscription) {\r\n      return;\r\n    }\r\n    this._zoneSubscription.unsubscribe();\r\n    this._zoneSubscription = null;\r\n  }\r\n\r\n  private _getContentRef(\r\n    content: string | TemplateRef<any> | any,\r\n    context?: any,\r\n    initialState?: any\r\n  ): ContentRef {\r\n    if (!content) {\r\n      return new ContentRef([]);\r\n    }\r\n\r\n    if (content instanceof TemplateRef) {\r\n      if (this._viewContainerRef) {\r\n        const _viewRef = this._viewContainerRef\r\n          .createEmbeddedView<TemplateRef<T>>(content, context);\r\n        _viewRef.markForCheck();\r\n\r\n        return new ContentRef([_viewRef.rootNodes], _viewRef);\r\n      }\r\n      const viewRef = content.createEmbeddedView({});\r\n      this._applicationRef.attachView(viewRef);\r\n\r\n      return new ContentRef([viewRef.rootNodes], viewRef);\r\n    }\r\n\r\n    if (typeof content === 'function') {\r\n      const contentCmptFactory = this._componentFactoryResolver.resolveComponentFactory(\r\n        content\r\n      );\r\n      const modalContentInjector = ReflectiveInjector.resolveAndCreate(\r\n        [...this._providers],\r\n        this._injector\r\n      );\r\n      const componentRef = contentCmptFactory.create(modalContentInjector);\r\n      Object.assign(componentRef.instance, initialState);\r\n      this._applicationRef.attachView(componentRef.hostView);\r\n\r\n      return new ContentRef(\r\n        [[componentRef.location.nativeElement]],\r\n        componentRef.hostView,\r\n        componentRef\r\n      );\r\n    }\r\n\r\n    // æ¯æä¼ å¥çcontentæ¯ä¸ä¸ªComponentRefå®ä¾ added by liyz\r\n    if (content instanceof ComponentRef) {\r\n      Object.assign(content.instance, initialState);\r\n      this._applicationRef.attachView(content.hostView);\r\n\r\n      return new ContentRef(\r\n        [[content.location.nativeElement]],\r\n        content.hostView,\r\n        content\r\n      );\r\n    }\r\n\r\n    return new ContentRef([[this._renderer.createText(`${content}`)]]);\r\n  }\r\n}\r\n","/**\r\n * @copyright Valor Software\r\n * @copyright Angular ng-bootstrap team\r\n */\r\n\r\n// previous version:\r\n// https://github.com/angular-ui/bootstrap/blob/07c31d0731f7cb068a1932b8e01d2312b796b4ec/src/position/position.js\r\n// tslint:disable\r\nexport class Positioning {\r\n  public position(element: HTMLElement, round = true): ClientRect {\r\n    let elPosition: ClientRect;\r\n    let parentOffset: ClientRect = {\r\n      width: 0,\r\n      height: 0,\r\n      top: 0,\r\n      bottom: 0,\r\n      left: 0,\r\n      right: 0\r\n    };\r\n\r\n    if (this.getStyle(element, 'position') === 'fixed') {\r\n      const bcRect = element.getBoundingClientRect();\r\n      elPosition = {\r\n        width: bcRect.width,\r\n        height: bcRect.height,\r\n        top: bcRect.top,\r\n        bottom: bcRect.bottom,\r\n        left: bcRect.left,\r\n        right: bcRect.right\r\n      };\r\n    } else {\r\n      const offsetParentEl = this.offsetParent(element);\r\n\r\n      elPosition = this.offset(element, false);\r\n\r\n      if (offsetParentEl !== document.documentElement) {\r\n        parentOffset = this.offset(offsetParentEl, false);\r\n      }\r\n\r\n      parentOffset.top += offsetParentEl.clientTop;\r\n      parentOffset.left += offsetParentEl.clientLeft;\r\n    }\r\n\r\n    elPosition.top -= parentOffset.top;\r\n    elPosition.bottom -= parentOffset.top;\r\n    elPosition.left -= parentOffset.left;\r\n    elPosition.right -= parentOffset.left;\r\n\r\n    if (round) {\r\n      elPosition.top = Math.round(elPosition.top);\r\n      elPosition.bottom = Math.round(elPosition.bottom);\r\n      elPosition.left = Math.round(elPosition.left);\r\n      elPosition.right = Math.round(elPosition.right);\r\n    }\r\n\r\n    return elPosition;\r\n  }\r\n\r\n  public offset(element: HTMLElement, round = true): ClientRect {\r\n    const elBcr = element.getBoundingClientRect();\r\n    const viewportOffset = {\r\n      top: window.pageYOffset - document.documentElement.clientTop,\r\n      left: window.pageXOffset - document.documentElement.clientLeft\r\n    };\r\n\r\n    let elOffset = {\r\n      height: elBcr.height || element.offsetHeight,\r\n      width: elBcr.width || element.offsetWidth,\r\n      top: elBcr.top + viewportOffset.top,\r\n      bottom: elBcr.bottom + viewportOffset.top,\r\n      left: elBcr.left + viewportOffset.left,\r\n      right: elBcr.right + viewportOffset.left\r\n    };\r\n\r\n    if (round) {\r\n      elOffset.height = Math.round(elOffset.height);\r\n      elOffset.width = Math.round(elOffset.width);\r\n      elOffset.top = Math.round(elOffset.top);\r\n      elOffset.bottom = Math.round(elOffset.bottom);\r\n      elOffset.left = Math.round(elOffset.left);\r\n      elOffset.right = Math.round(elOffset.right);\r\n    }\r\n\r\n    return elOffset;\r\n  }\r\n\r\n  public positionElements(\r\n    hostElement: HTMLElement,\r\n    targetElement: HTMLElement,\r\n    placement: string,\r\n    appendToBody?: boolean\r\n  ): ClientRect {\r\n    const hostElPosition = appendToBody\r\n      ? this.offset(hostElement, false)\r\n      : this.position(hostElement, false);\r\n    const targetElStyles = this.getAllStyles(targetElement);\r\n    const shiftWidth: any = {\r\n      left: hostElPosition.left,\r\n      center:\r\n      hostElPosition.left +\r\n      hostElPosition.width / 2 -\r\n      targetElement.offsetWidth / 2,\r\n      right: hostElPosition.left + hostElPosition.width\r\n    };\r\n    const shiftHeight: any = {\r\n      top: hostElPosition.top,\r\n      center:\r\n      hostElPosition.top +\r\n      hostElPosition.height / 2 -\r\n      targetElement.offsetHeight / 2,\r\n      bottom: hostElPosition.top + hostElPosition.height\r\n    };\r\n    const targetElBCR = targetElement.getBoundingClientRect();\r\n    let placementPrimary = placement.split(' ')[0] || 'top';\r\n    const placementSecondary = placement.split(' ')[1] || 'center';\r\n\r\n    let targetElPosition: ClientRect = {\r\n      height: targetElBCR.height || targetElement.offsetHeight,\r\n      width: targetElBCR.width || targetElement.offsetWidth,\r\n      top: 0,\r\n      bottom: targetElBCR.height || targetElement.offsetHeight,\r\n      left: 0,\r\n      right: targetElBCR.width || targetElement.offsetWidth\r\n    };\r\n\r\n    if (placementPrimary === 'auto') {\r\n      let newPlacementPrimary = this.autoPosition(\r\n        targetElPosition,\r\n        hostElPosition,\r\n        targetElement,\r\n        placementSecondary\r\n      );\r\n      if (!newPlacementPrimary)\r\n        newPlacementPrimary = this.autoPosition(\r\n          targetElPosition,\r\n          hostElPosition,\r\n          targetElement\r\n        );\r\n      if (newPlacementPrimary) placementPrimary = newPlacementPrimary;\r\n      targetElement.classList.add(placementPrimary);\r\n    }\r\n\r\n    switch (placementPrimary) {\r\n      case 'top':\r\n        targetElPosition.top =\r\n          hostElPosition.top -\r\n          (targetElement.offsetHeight +\r\n          parseFloat(targetElStyles.marginBottom));\r\n        targetElPosition.bottom +=\r\n          hostElPosition.top - targetElement.offsetHeight;\r\n        targetElPosition.left = shiftWidth[placementSecondary];\r\n        targetElPosition.right += shiftWidth[placementSecondary];\r\n        break;\r\n      case 'bottom':\r\n        targetElPosition.top = shiftHeight[placementPrimary];\r\n        targetElPosition.bottom += shiftHeight[placementPrimary];\r\n        targetElPosition.left = shiftWidth[placementSecondary];\r\n        targetElPosition.right += shiftWidth[placementSecondary];\r\n        break;\r\n      case 'left':\r\n        targetElPosition.top = shiftHeight[placementSecondary];\r\n        targetElPosition.bottom += shiftHeight[placementSecondary];\r\n        targetElPosition.left =\r\n          hostElPosition.left -\r\n          (targetElement.offsetWidth + parseFloat(targetElStyles.marginRight));\r\n        targetElPosition.right +=\r\n          hostElPosition.left - targetElement.offsetWidth;\r\n        break;\r\n      case 'right':\r\n        targetElPosition.top = shiftHeight[placementSecondary];\r\n        targetElPosition.bottom += shiftHeight[placementSecondary];\r\n        targetElPosition.left = shiftWidth[placementPrimary];\r\n        targetElPosition.right += shiftWidth[placementPrimary];\r\n        break;\r\n    }\r\n\r\n    targetElPosition.top = Math.round(targetElPosition.top);\r\n    targetElPosition.bottom = Math.round(targetElPosition.bottom);\r\n    targetElPosition.left = Math.round(targetElPosition.left);\r\n    targetElPosition.right = Math.round(targetElPosition.right);\r\n\r\n    return targetElPosition;\r\n  }\r\n\r\n  private autoPosition(\r\n    targetElPosition: ClientRect,\r\n    hostElPosition: ClientRect,\r\n    targetElement: HTMLElement,\r\n    preferredPosition?: string\r\n  ) {\r\n    if (\r\n      (!preferredPosition || preferredPosition === 'right') &&\r\n      targetElPosition.left + hostElPosition.left - targetElement.offsetWidth <\r\n      0\r\n    ) {\r\n      return 'right';\r\n    } else if (\r\n      (!preferredPosition || preferredPosition === 'top') &&\r\n      targetElPosition.bottom +\r\n      hostElPosition.bottom +\r\n      targetElement.offsetHeight >\r\n      window.innerHeight\r\n    ) {\r\n      return 'top';\r\n    } else if (\r\n      (!preferredPosition || preferredPosition === 'bottom') &&\r\n      targetElPosition.top + hostElPosition.top - targetElement.offsetHeight < 0\r\n    ) {\r\n      return 'bottom';\r\n    } else if (\r\n      (!preferredPosition || preferredPosition === 'left') &&\r\n      targetElPosition.right +\r\n      hostElPosition.right +\r\n      targetElement.offsetWidth >\r\n      window.innerWidth\r\n    ) {\r\n      return 'left';\r\n    }\r\n    return null;\r\n  }\r\n\r\n  private getAllStyles(element: HTMLElement) {\r\n    return window.getComputedStyle(element);\r\n  }\r\n\r\n  private getStyle(element: HTMLElement, prop: string): string {\r\n    return (this.getAllStyles(element) as any)[prop];\r\n  }\r\n\r\n  private isStaticPositioned(element: HTMLElement): boolean {\r\n    return (this.getStyle(element, 'position') || 'static') === 'static';\r\n  }\r\n\r\n  private offsetParent(element: HTMLElement): HTMLElement {\r\n    let offsetParentEl =\r\n      <HTMLElement>element.offsetParent || document.documentElement;\r\n\r\n    while (\r\n    offsetParentEl &&\r\n    offsetParentEl !== document.documentElement &&\r\n    this.isStaticPositioned(offsetParentEl)\r\n      ) {\r\n      offsetParentEl = <HTMLElement>offsetParentEl.offsetParent;\r\n    }\r\n\r\n    return offsetParentEl || document.documentElement;\r\n  }\r\n}\r\n\r\nconst positionService = new Positioning();\r\n\r\nexport function positionElements(\r\n  hostElement: HTMLElement,\r\n  targetElement: HTMLElement,\r\n  placement: string,\r\n  appendToBody?: boolean\r\n): void {\r\n  const pos = positionService.positionElements(\r\n    hostElement,\r\n    targetElement,\r\n    placement,\r\n    appendToBody\r\n  );\r\n\r\n  targetElement.style.top = `${pos.top}px`;\r\n  targetElement.style.left = `${pos.left}px`;\r\n}\r\n","import { Injectable, ElementRef } from '@angular/core';\r\nimport { positionElements } from './ng-positioning';\r\n\r\nexport interface PositioningOptions {\r\n  /** The DOM element, ElementRef, or a selector string of an element which will be moved */\r\n  element?: HTMLElement | ElementRef | string;\r\n\r\n  /** The DOM element, ElementRef, or a selector string of an element which the element will be attached to  */\r\n  target?: HTMLElement | ElementRef | string;\r\n\r\n  /**\r\n   * A string of the form 'vert-attachment horiz-attachment' or 'placement'\r\n   * - placement can be \"top\", \"bottom\", \"left\", \"right\"\r\n   * not yet supported:\r\n   * - vert-attachment can be any of 'top', 'middle', 'bottom'\r\n   * - horiz-attachment can be any of 'left', 'center', 'right'\r\n   */\r\n  attachment?: string;\r\n\r\n  /** A string similar to `attachment`. The one difference is that, if it's not provided,\r\n   * `targetAttachment` will assume the mirror image of `attachment`.\r\n   */\r\n  targetAttachment?: string;\r\n\r\n  /** A string of the form 'vert-offset horiz-offset'\r\n   * - vert-offset and horiz-offset can be of the form \"20px\" or \"55%\"\r\n   */\r\n  offset?: string;\r\n\r\n  /** A string similar to `offset`, but referring to the offset of the target */\r\n  targetOffset?: string;\r\n\r\n  /** If true component will be attached to body */\r\n  appendToBody?: boolean;\r\n}\r\n\r\n@Injectable({providedIn: 'root'})\r\nexport class PositioningService {\r\n  position(options: PositioningOptions): void {\r\n    const {element, target, attachment, appendToBody} = options;\r\n    positionElements(\r\n      _getHtmlElement(target),\r\n      _getHtmlElement(element),\r\n      attachment,\r\n      appendToBody\r\n    );\r\n  }\r\n\r\n}\r\n\r\nfunction _getHtmlElement(element: HTMLElement | ElementRef | string): HTMLElement {\r\n  // it means that we got a selector\r\n  if (typeof element === 'string') {\r\n    return document.querySelector(element) as HTMLElement;\r\n  }\r\n\r\n  if (element instanceof ElementRef) {\r\n    return element.nativeElement;\r\n  }\r\n\r\n  return element as HTMLElement;\r\n}\r\n","import {\r\n  ApplicationRef, ComponentFactoryResolver, ElementRef, Injectable, Injector,\r\n  NgZone, Renderer2, ViewContainerRef\r\n} from '@angular/core';\r\nimport {ComponentLoader} from './component-loader.class';\r\nimport {PositioningService} from '../positioning/index';\r\n\r\n@Injectable({providedIn: 'root'})\r\nexport class ComponentLoaderFactory {\r\n  constructor(private _componentFactoryResolver: ComponentFactoryResolver,\r\n              private _ngZone: NgZone,\r\n              private _injector: Injector,\r\n              private _posService: PositioningService,\r\n              private _applicationRef: ApplicationRef) {\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param _elementRef\r\n   * @param _viewContainerRef\r\n   * @param _renderer\r\n   * @returns ComponentLoader\r\n   */\r\n  createLoader<T>(_elementRef: ElementRef,\r\n                  _viewContainerRef: ViewContainerRef,\r\n                  _renderer: Renderer2): ComponentLoader<T> {\r\n    return new ComponentLoader<T>(\r\n      _viewContainerRef,\r\n      _renderer,\r\n      _elementRef,\r\n      this._injector,\r\n      this._componentFactoryResolver,\r\n      this._ngZone,\r\n      this._applicationRef,\r\n      this._posService\r\n    );\r\n  }\r\n}\r\n","import { isDevMode } from '@angular/core';\r\nconst _messagesHash: { [key: string]: boolean } = {};\r\nconst _hideMsg = typeof console === 'undefined' || !('warn' in console);\r\n\r\nexport function warnOnce(msg: string): void {\r\n  if (!isDevMode() || _hideMsg || msg in _messagesHash) {\r\n    return;\r\n  }\r\n\r\n  _messagesHash[msg] = true;\r\n  /*tslint:disable-next-line*/\r\n  console.warn(msg);\r\n}\r\n","// tslint:disable:deprecation\r\nimport {\r\n  Directive, ElementRef, EventEmitter, Input, OnDestroy, OnInit, Output,\r\n  Renderer2, TemplateRef, ViewContainerRef\r\n} from '@angular/core';\r\nimport { TooltipContainerComponent } from './tooltip-container.component';\r\nimport { TooltipConfig } from './tooltip.config';\r\nimport { ComponentLoader, ComponentLoaderFactory } from '../utils/component-loader/index';\r\nimport { OnChange } from '../utils/decorators';\r\nimport { warnOnce } from '../utils/warn-once';\r\nimport { parseTriggers } from '../utils/triggers';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport { timer } from 'rxjs';\r\n\r\n@Directive({\r\n  selector: '[tooltip], [tooltipHtml]',\r\n  exportAs: 'bs-tooltip'\r\n})\r\nexport class TooltipDirective implements OnInit, OnDestroy {\r\n  /**\r\n   * Content to be displayed as tooltip.\r\n   */\r\n  @OnChange()\r\n  @Input()\r\n  tooltip: string | TemplateRef<any>;\r\n  /** Fired when tooltip content changes */\r\n  @Output()\r\n  tooltipChange: EventEmitter<string | TemplateRef<any>> = new EventEmitter();\r\n\r\n  /**\r\n   * Placement of a tooltip. Accepts: \"top\", \"bottom\", \"left\", \"right\"\r\n   */\r\n  @Input() placement: string;\r\n  /**\r\n   * Specifies events that should trigger. Supports a space separated list of\r\n   * event names.\r\n   */\r\n  @Input() triggers: string;\r\n  /**\r\n   * A selector specifying the element the tooltip should be appended to.\r\n   * Currently only supports \"body\".\r\n   */\r\n  @Input() container: string;\r\n\r\n  /**\r\n   * Returns whether or not the tooltip is currently being shown\r\n   */\r\n  @Input()\r\n  get isOpen(): boolean {\r\n    return this._tooltip.isShown;\r\n  }\r\n\r\n  set isOpen(value: boolean) {\r\n    if (value) {\r\n      this.show();\r\n    } else {\r\n      this.hide();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Allows to disable tooltip\r\n   */\r\n  @Input() isDisabled: boolean;\r\n\r\n  /**\r\n   * Css class for tooltip container\r\n   */\r\n  @Input() containerClass = '';\r\n  /**\r\n   * Delay before showing the tooltip\r\n   */\r\n  @Input() delay: number;\r\n\r\n  /**\r\n   * Emits an event when the tooltip is shown\r\n   */\r\n  @Output() onShown: EventEmitter<any>;\r\n  /**\r\n   * Emits an event when the tooltip is hidden\r\n   */\r\n  @Output() onHidden: EventEmitter<any>;\r\n\r\n  /** @deprecated - please use `tooltip` instead */\r\n  @Input('tooltipHtml')\r\n  set htmlContent(value: string | TemplateRef<any>) {\r\n    warnOnce('tooltipHtml was deprecated, please use `tooltip` instead');\r\n    this.tooltip = value;\r\n  }\r\n\r\n  /** @deprecated - please use `placement` instead */\r\n  @Input('tooltipPlacement')\r\n  set _placement(value: string) {\r\n    warnOnce('tooltipPlacement was deprecated, please use `placement` instead');\r\n    this.placement = value;\r\n  }\r\n\r\n  /** @deprecated - please use `isOpen` instead*/\r\n  @Input('tooltipIsOpen')\r\n  set _isOpen(value: boolean) {\r\n    warnOnce('tooltipIsOpen was deprecated, please use `isOpen` instead');\r\n    this.isOpen = value;\r\n  }\r\n\r\n  get _isOpen(): boolean {\r\n    warnOnce('tooltipIsOpen was deprecated, please use `isOpen` instead');\r\n    return this.isOpen;\r\n  }\r\n\r\n  /** @deprecated - please use `isDisabled` instead */\r\n  @Input('tooltipEnable')\r\n  set _enable(value: boolean) {\r\n    warnOnce('tooltipEnable was deprecated, please use `isDisabled` instead');\r\n    this.isDisabled = value;\r\n  }\r\n\r\n  get _enable(): boolean {\r\n    warnOnce('tooltipEnable was deprecated, please use `isDisabled` instead');\r\n    return this.isDisabled;\r\n  }\r\n\r\n  /** @deprecated - please use `container=\"body\"` instead */\r\n  @Input('tooltipAppendToBody')\r\n  set _appendToBody(value: boolean) {\r\n    warnOnce(\r\n      'tooltipAppendToBody was deprecated, please use `container=\"body\"` instead'\r\n    );\r\n    this.container = value ? 'body' : this.container;\r\n  }\r\n\r\n  get _appendToBody(): boolean {\r\n    warnOnce(\r\n      'tooltipAppendToBody was deprecated, please use `container=\"body\"` instead'\r\n    );\r\n    return this.container === 'body';\r\n  }\r\n\r\n  /** @deprecated - removed, will be added to configuration */\r\n  @Input('tooltipAnimation') _animation = true;\r\n\r\n  /** @deprecated - will replaced with customClass */\r\n  @Input('tooltipClass')\r\n  set _popupClass(value: string) {\r\n    warnOnce('tooltipClass deprecated');\r\n  }\r\n\r\n  /** @deprecated - removed */\r\n  @Input('tooltipContext')\r\n  set _tooltipContext(value: any) {\r\n    warnOnce('tooltipContext deprecated');\r\n  }\r\n\r\n  /** @deprecated */\r\n  @Input('tooltipPopupDelay')\r\n  set _tooltipPopupDelay(value: number) {\r\n    warnOnce('tooltipPopupDelay is deprecated, use `delay` instead');\r\n    this.delay = value;\r\n  }\r\n\r\n  /** @deprecated */\r\n  @Input('tooltipFadeDuration') _fadeDuration = 150;\r\n\r\n  /** @deprecated -  please use `triggers` instead */\r\n  @Input('tooltipTrigger')\r\n  get _tooltipTrigger(): string | string[] {\r\n    warnOnce('tooltipTrigger was deprecated, please use `triggers` instead');\r\n    return this.triggers;\r\n  }\r\n\r\n  set _tooltipTrigger(value: string | string[]) {\r\n    warnOnce('tooltipTrigger was deprecated, please use `triggers` instead');\r\n    this.triggers = (value || '').toString();\r\n  }\r\n\r\n  /** @deprecated */\r\n  @Output()\r\n  tooltipStateChanged: EventEmitter<boolean> = new EventEmitter<boolean>();\r\n  protected _delayTimeoutId: number | any;\r\n  protected _tooltipCancelShowFn: Function;\r\n\r\n  private _tooltip: ComponentLoader<TooltipContainerComponent>;\r\n\r\n  constructor(_viewContainerRef: ViewContainerRef,\r\n                     private _renderer: Renderer2,\r\n                     private _elementRef: ElementRef,\r\n                     cis: ComponentLoaderFactory,\r\n                     config: TooltipConfig) {\r\n    this._tooltip = cis\r\n      .createLoader<TooltipContainerComponent>(\r\n        this._elementRef,\r\n        _viewContainerRef,\r\n        this._renderer\r\n      )\r\n      .provide({provide: TooltipConfig, useValue: config});\r\n\r\n    Object.assign(this, config);\r\n    this.onShown = this._tooltip.onShown;\r\n    this.onHidden = this._tooltip.onHidden;\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this._tooltip.listen({\r\n      triggers: this.triggers,\r\n      show: () => this.show()\r\n    });\r\n    this.tooltipChange.subscribe((value: any) => {\r\n      if (!value) {\r\n        this._tooltip.hide();\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Toggles an elementâs tooltip. This is considered a âmanualâ triggering of\r\n   * the tooltip.\r\n   */\r\n  toggle(): void {\r\n    if (this.isOpen) {\r\n      return this.hide();\r\n    }\r\n\r\n    this.show();\r\n  }\r\n\r\n  /**\r\n   * Opens an elementâs tooltip. This is considered a âmanualâ triggering of\r\n   * the tooltip.\r\n   */\r\n  show(): void {\r\n    if (\r\n      this.isOpen ||\r\n      this.isDisabled ||\r\n      this._delayTimeoutId ||\r\n      !this.tooltip\r\n    ) {\r\n      return;\r\n    }\r\n\r\n    const showTooltip = () => {\r\n      if (this._delayTimeoutId) {\r\n        this._delayTimeoutId = undefined;\r\n      }\r\n\r\n      this._tooltip\r\n        .attach(TooltipContainerComponent)\r\n        .to(this.container)\r\n        .position({attachment: this.placement})\r\n        .show({\r\n          content: this.tooltip,\r\n          placement: this.placement,\r\n          containerClass: this.containerClass\r\n        });\r\n    };\r\n    const cancelDelayedTooltipShowing = () => {\r\n      if (this._tooltipCancelShowFn) {\r\n        this._tooltipCancelShowFn();\r\n      }\r\n    };\r\n\r\n    if (this.delay) {\r\n      const tipTimer = timer(this.delay).subscribe(() => {\r\n        showTooltip();\r\n        cancelDelayedTooltipShowing();\r\n      });\r\n\r\n      if (this.triggers) {\r\n        const triggers = parseTriggers(this.triggers);\r\n        this._tooltipCancelShowFn = this._renderer.listen(this._elementRef.nativeElement, triggers[0].close, () => {\r\n          tipTimer.unsubscribe();\r\n          cancelDelayedTooltipShowing();\r\n        });\r\n      }\r\n    } else {\r\n      showTooltip();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Closes an elementâs tooltip. This is considered a âmanualâ triggering of\r\n   * the tooltip.\r\n   */\r\n  hide(): void {\r\n    if (this._delayTimeoutId) {\r\n      clearTimeout(this._delayTimeoutId);\r\n      this._delayTimeoutId = undefined;\r\n    }\r\n\r\n    if (!this._tooltip.isShown) {\r\n      return;\r\n    }\r\n\r\n    this._tooltip.instance.classMap.in = false;\r\n    setTimeout(() => {\r\n      this._tooltip.hide();\r\n    }, this._fadeDuration);\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this._tooltip.dispose();\r\n  }\r\n}\r\n","import { CommonModule } from '@angular/common';\r\nimport { NgModule, ModuleWithProviders } from '@angular/core';\r\nimport { TooltipContainerComponent } from './tooltip-container.component';\r\nimport { TooltipDirective } from './tooltip.directive';\r\nimport { TooltipConfig } from './tooltip.config';\r\nimport { ComponentLoaderFactory } from '../utils/component-loader/index';\r\nimport { PositioningService } from '../utils/positioning/index';\r\n\r\n@NgModule({\r\n  imports: [CommonModule],\r\n  declarations: [TooltipDirective, TooltipContainerComponent],\r\n  exports: [TooltipDirective],\r\n  entryComponents: [TooltipContainerComponent]\r\n})\r\nexport class TooltipModule {\r\n  static forRoot(): ModuleWithProviders {\r\n    return {\r\n      ngModule: TooltipModule,\r\n      providers: [TooltipConfig, ComponentLoaderFactory, PositioningService]\r\n    };\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\n\r\n@Injectable()\r\nexport class BsModalRef {\r\n  /**\r\n   * Reference to a component inside the modal. Null if modal's been created with TemplateRef\r\n   */\r\n  content?: any | null;\r\n\r\n  /**\r\n   * Hides the modal\r\n   */\r\n  hide: () => void = Function;\r\n}\r\n","export class ModalBackdropOptions {\r\n  animate = true;\r\n\r\n  constructor(options: ModalBackdropOptions) {\r\n    Object.assign(this, options);\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\n\r\n@Injectable()\r\nexport class ModalOptions {\r\n  /**\r\n   *  Includes a modal-backdrop element. Alternatively,\r\n   *  specify static for a backdrop which doesn't close the modal on click.\r\n   */\r\n  backdrop?: boolean | 'static';\r\n  /**\r\n   * Closes the modal when escape key is pressed.\r\n   */\r\n  keyboard?: boolean;\r\n\r\n  focus?: boolean;\r\n  /**\r\n   * Shows the modal when initialized.\r\n   */\r\n  show?: boolean;\r\n  /**\r\n   * Ignore the backdrop click\r\n   */\r\n  ignoreBackdropClick?: boolean;\r\n  /**\r\n   * Css class for opened modal\r\n   */\r\n  class?: string;\r\n  /**\r\n   * Toggle animation\r\n   */\r\n  animated?: boolean;\r\n  /**\r\n   * Modal data\r\n   */\r\n  initialState?: Object;\r\n}\r\n\r\n\r\nexport const modalConfigDefaults: ModalOptions = {\r\n  backdrop: true,\r\n  keyboard: true,\r\n  focus: true,\r\n  show: false,\r\n  ignoreBackdropClick: false,\r\n  class: '',\r\n  animated: true,\r\n  initialState: {}\r\n};\r\n\r\nexport const CLASS_NAME: any = {\r\n  SCROLLBAR_MEASURER: 'modal-scrollbar-measure',\r\n  BACKDROP: 'modal-backdrop',\r\n  OPEN: 'modal-open',\r\n  FADE: 'fade',\r\n  IN: 'in', // bs3\r\n  SHOW: 'show' // bs4\r\n};\r\n\r\nexport const SELECTOR: any = {\r\n  DIALOG: '.modal-dialog',\r\n  DATA_TOGGLE: '[data-toggle=\"modal\"]',\r\n  DATA_DISMISS: '[data-dismiss=\"modal\"]',\r\n  FIXED_CONTENT: '.navbar-fixed-top, .navbar-fixed-bottom, .is-fixed'\r\n};\r\n\r\nexport const TRANSITION_DURATIONS: any = {\r\n  MODAL: 300,\r\n  BACKDROP: 150\r\n};\r\n\r\nexport const DISMISS_REASONS = {\r\n  BACKRDOP: 'backdrop-click',\r\n  ESC: 'esc'\r\n};\r\n","import {\r\n  Component,\r\n  ElementRef,\r\n  HostListener,\r\n  OnDestroy,\r\n  OnInit,\r\n  Renderer2\r\n} from '@angular/core';\r\nimport {\r\n  CLASS_NAME,\r\n  DISMISS_REASONS,\r\n  ModalOptions,\r\n  TRANSITION_DURATIONS\r\n} from './modal-options.class';\r\nimport { BsModalService } from './bs-modal.service';\r\nimport { isBs3 } from '../utils/theme-provider';\r\n\r\n@Component({\r\n  selector: 'modal-container',\r\n  template: `\r\n    <div [class]=\"'modal-dialog' + (config.class ? ' ' + config.class : '')\" role=\"document\">\r\n      <div class=\"modal-content\">\r\n        <ng-content></ng-content>\r\n      </div>\r\n    </div>\r\n  `,\r\n  host: {\r\n    class: 'modal',\r\n    role: 'dialog',\r\n    tabindex: '-1',\r\n    '[attr.aria-modal]': 'true'\r\n  }\r\n})\r\nexport class ModalContainerComponent implements OnInit, OnDestroy {\r\n  config: ModalOptions;\r\n  isShown = false;\r\n  level: number;\r\n  isAnimated: boolean;\r\n  bsModalService: BsModalService;\r\n  private isModalHiding = false;\r\n\r\n  constructor(options: ModalOptions,\r\n              protected _element: ElementRef,\r\n              private _renderer: Renderer2) {\r\n    this.config = Object.assign({}, options);\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    if (this.isAnimated) {\r\n      this._renderer.addClass(\r\n        this._element.nativeElement,\r\n        CLASS_NAME.FADE\r\n      );\r\n    }\r\n    this._renderer.setStyle(\r\n      this._element.nativeElement,\r\n      'display',\r\n      'block'\r\n    );\r\n    setTimeout(() => {\r\n      this.isShown = true;\r\n      this._renderer.addClass(\r\n        this._element.nativeElement,\r\n        isBs3() ? CLASS_NAME.IN : CLASS_NAME.SHOW\r\n      );\r\n    }, this.isAnimated ? TRANSITION_DURATIONS.BACKDROP : 0);\r\n    if (document && document.body) {\r\n      if (this.bsModalService.getModalsCount() === 1) {\r\n        this.bsModalService.checkScrollbar();\r\n        this.bsModalService.setScrollbar();\r\n      }\r\n      this._renderer.addClass(document.body, CLASS_NAME.OPEN);\r\n    }\r\n    if (this._element.nativeElement) {\r\n      this._element.nativeElement.focus();\r\n    }\r\n  }\r\n\r\n  @HostListener('click', ['$event'])\r\n  onClick(event: any): void {\r\n    if (\r\n      this.config.ignoreBackdropClick ||\r\n      this.config.backdrop === 'static' ||\r\n      event.target !== this._element.nativeElement\r\n    ) {\r\n      return;\r\n    }\r\n    this.bsModalService.setDismissReason(DISMISS_REASONS.BACKRDOP);\r\n    this.hide();\r\n  }\r\n\r\n  @HostListener('window:keydown.esc', ['$event'])\r\n  onEsc(event: any): void {\r\n    if (!this.isShown) {\r\n      return;\r\n    }\r\n\r\n    if (event.keyCode === 27) {\r\n      event.preventDefault();\r\n    }\r\n\r\n    if (\r\n      this.config.keyboard &&\r\n      this.level === this.bsModalService.getModalsCount()\r\n    ) {\r\n      this.bsModalService.setDismissReason(DISMISS_REASONS.ESC);\r\n      this.hide();\r\n    }\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    if (this.isShown) {\r\n      this.hide();\r\n    }\r\n  }\r\n\r\n  hide(): void {\r\n    if (this.isModalHiding || !this.isShown) {\r\n      return;\r\n    }\r\n    this.isModalHiding = true;\r\n    this._renderer.removeClass(\r\n      this._element.nativeElement,\r\n      isBs3() ? CLASS_NAME.IN : CLASS_NAME.SHOW\r\n    );\r\n    setTimeout(() => {\r\n      this.isShown = false;\r\n      if (\r\n        document &&\r\n        document.body &&\r\n        this.bsModalService.getModalsCount() === 1\r\n      ) {\r\n        this._renderer.removeClass(document.body, CLASS_NAME.OPEN);\r\n      }\r\n      this.bsModalService.hide(this.level);\r\n      this.isModalHiding = false;\r\n    }, this.isAnimated ? TRANSITION_DURATIONS.MODAL : 0);\r\n  }\r\n}\r\n","import { window } from './facade/browser';\r\n\r\nexport class Utils {\r\n  public static reflow(element: any): void {\r\n    ((bs: any): void => bs)(element.offsetHeight);\r\n  }\r\n\r\n  // source: https://github.com/jquery/jquery/blob/master/src/css/var/getStyles.js\r\n  public static getStyles(elem: any): any {\r\n    // Support: IE <=11 only, Firefox <=30 (#15098, #14150)\r\n    // IE throws on elements created in popups\r\n    // FF meanwhile throws on frame elements through \"defaultView.getComputedStyle\"\r\n    let view = elem.ownerDocument.defaultView;\r\n\r\n    if (!view || !view.opener) {\r\n      view = window;\r\n    }\r\n\r\n    return view.getComputedStyle(elem);\r\n  }\r\n}\r\n","import { Component, ElementRef, OnInit, Renderer2 } from '@angular/core';\r\n\r\nimport { CLASS_NAME } from './modal-options.class';\r\nimport { isBs3 } from '../utils/theme-provider';\r\nimport { Utils } from '../utils/utils.class';\r\n\r\n\r\n/** This component will be added as background layout for modals if enabled */\r\n@Component({\r\n  selector: 'bs-modal-backdrop',\r\n  template: ' ',\r\n  host: { class: CLASS_NAME.BACKDROP }\r\n})\r\nexport class ModalBackdropComponent implements OnInit {\r\n  get isAnimated(): boolean {\r\n    return this._isAnimated;\r\n  }\r\n\r\n  set isAnimated(value: boolean) {\r\n    this._isAnimated = value;\r\n    // this.renderer.setElementClass(this.element.nativeElement, `${ClassName.FADE}`, value);\r\n  }\r\n\r\n  get isShown(): boolean {\r\n    return this._isShown;\r\n  }\r\n\r\n  set isShown(value: boolean) {\r\n    this._isShown = value;\r\n    if (value) {\r\n      this.renderer.addClass(\r\n        this.element.nativeElement,\r\n        `${CLASS_NAME.IN}`\r\n      );\r\n    } else {\r\n      this.renderer.removeClass(\r\n        this.element.nativeElement,\r\n        `${CLASS_NAME.IN}`\r\n      );\r\n    }\r\n    if (!isBs3()) {\r\n      if (value) {\r\n        this.renderer.addClass(\r\n          this.element.nativeElement,\r\n          `${CLASS_NAME.SHOW}`\r\n        );\r\n      } else {\r\n        this.renderer.removeClass(\r\n          this.element.nativeElement,\r\n          `${CLASS_NAME.SHOW}`\r\n        );\r\n      }\r\n    }\r\n  }\r\n\r\n  element: ElementRef;\r\n  renderer: Renderer2;\r\n\r\n  protected _isAnimated: boolean;\r\n  protected _isShown = false;\r\n\r\n  constructor(element: ElementRef, renderer: Renderer2) {\r\n    this.element = element;\r\n    this.renderer = renderer;\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    if (this.isAnimated) {\r\n      this.renderer.addClass(\r\n        this.element.nativeElement,\r\n        `${CLASS_NAME.FADE}`\r\n      );\r\n      Utils.reflow(this.element.nativeElement);\r\n    }\r\n    this.isShown = true;\r\n  }\r\n}\r\n","/* tslint:disable:max-file-line-count */\r\n// todo: should we support enforce focus in?\r\n// todo: in original bs there are was a way to prevent modal from showing\r\n// todo: original modal had resize events\r\n\r\nimport {\r\n  ComponentRef, Directive, ElementRef, EventEmitter, HostListener, Input,\r\n  OnDestroy, OnInit, Output, Renderer2, ViewContainerRef\r\n} from '@angular/core';\r\n\r\nimport { document, window } from '../utils/facade/browser';\r\n\r\nimport { isBs3 } from '../utils/theme-provider';\r\nimport { Utils } from '../utils/utils.class';\r\nimport { ModalBackdropComponent } from './modal-backdrop.component';\r\nimport {\r\n  CLASS_NAME, DISMISS_REASONS, modalConfigDefaults, ModalOptions\r\n} from './modal-options.class';\r\nimport { ComponentLoader } from '../utils/component-loader/component-loader.class';\r\nimport { ComponentLoaderFactory } from '../utils/component-loader/component-loader.factory';\r\n\r\nconst TRANSITION_DURATION = 300;\r\nconst BACKDROP_TRANSITION_DURATION = 150;\r\n\r\n/** Mark any code with directive to show it's content in modal */\r\n@Directive({\r\n  selector: '[bsModal]',\r\n  exportAs: 'bs-modal'\r\n})\r\nexport class ModalDirective implements OnDestroy, OnInit {\r\n  /** allows to set modal configuration via element property */\r\n  @Input()\r\n  set config(conf: ModalOptions) {\r\n    this._config = this.getConfig(conf);\r\n  }\r\n\r\n  get config(): ModalOptions {\r\n    return this._config;\r\n  }\r\n\r\n  /** This event fires immediately when the `show` instance method is called. */\r\n  @Output()\r\n  onShow: EventEmitter<ModalDirective> = new EventEmitter<ModalDirective>();\r\n  /** This event is fired when the modal has been made visible to the user\r\n   * (will wait for CSS transitions to complete)\r\n   */\r\n  @Output()\r\n  onShown: EventEmitter<ModalDirective> = new EventEmitter<ModalDirective>();\r\n  /** This event is fired immediately when\r\n   * the hide instance method has been called.\r\n   */\r\n  @Output()\r\n  onHide: EventEmitter<ModalDirective> = new EventEmitter<ModalDirective>();\r\n  /** This event is fired when the modal has finished being\r\n   * hidden from the user (will wait for CSS transitions to complete).\r\n   */\r\n  @Output()\r\n  onHidden: EventEmitter<ModalDirective> = new EventEmitter<ModalDirective>();\r\n\r\n  /** This field contains last dismiss reason.\r\n   * Possible values: `backdrop-click`, `esc` and `null`\r\n   * (if modal was closed by direct call of `.hide()`).\r\n   */\r\n  dismissReason: string;\r\n\r\n  get isShown(): boolean {\r\n    return this._isShown;\r\n  }\r\n\r\n  protected _config: ModalOptions;\r\n  protected _isShown = false;\r\n\r\n  protected isBodyOverflowing = false;\r\n  protected originalBodyPadding = 0;\r\n  protected scrollbarWidth = 0;\r\n\r\n  protected timerHideModal: any = 0;\r\n  protected timerRmBackDrop: any = 0;\r\n\r\n  // reference to backdrop component\r\n  protected backdrop: ComponentRef<ModalBackdropComponent>;\r\n  private _backdrop: ComponentLoader<ModalBackdropComponent>;\r\n\r\n  private isNested = false;\r\n\r\n  constructor(private _element: ElementRef,\r\n              _viewContainerRef: ViewContainerRef,\r\n              private _renderer: Renderer2,\r\n              clf: ComponentLoaderFactory) {\r\n    this._backdrop = clf.createLoader<ModalBackdropComponent>(\r\n      _element,\r\n      _viewContainerRef,\r\n      _renderer\r\n    );\r\n  }\r\n\r\n  @HostListener('click', ['$event'])\r\n  onClick(event: any): void {\r\n    if (\r\n      this.config.ignoreBackdropClick ||\r\n      this.config.backdrop === 'static' ||\r\n      event.target !== this._element.nativeElement\r\n    ) {\r\n      return;\r\n    }\r\n    this.dismissReason = DISMISS_REASONS.BACKRDOP;\r\n    this.hide(event);\r\n  }\r\n\r\n  // todo: consider preventing default and stopping propagation\r\n  @HostListener('keydown.esc', ['$event'])\r\n  onEsc(event: any): void {\r\n    if (!this._isShown) {\r\n      return;\r\n    }\r\n\r\n    if (event.keyCode === 27) {\r\n      event.preventDefault();\r\n    }\r\n\r\n    if (this.config.keyboard) {\r\n      this.dismissReason = DISMISS_REASONS.ESC;\r\n      this.hide();\r\n    }\r\n  }\r\n\r\n  ngOnDestroy(): any {\r\n    this.config = void 0;\r\n    if (this._isShown) {\r\n      this._isShown = false;\r\n      this.hideModal();\r\n      this._backdrop.dispose();\r\n    }\r\n  }\r\n\r\n  ngOnInit(): any {\r\n    this._config = this._config || this.getConfig();\r\n    setTimeout(() => {\r\n      if (this._config.show) {\r\n        this.show();\r\n      }\r\n    }, 0);\r\n  }\r\n\r\n  /* Public methods */\r\n\r\n  /** Allows to manually toggle modal visibility */\r\n  toggle(): void {\r\n    return this._isShown ? this.hide() : this.show();\r\n  }\r\n\r\n  /** Allows to manually open modal */\r\n  show(): void {\r\n    this.dismissReason = null;\r\n    this.onShow.emit(this);\r\n    if (this._isShown) {\r\n      return;\r\n    }\r\n    clearTimeout(this.timerHideModal);\r\n    clearTimeout(this.timerRmBackDrop);\r\n\r\n    this._isShown = true;\r\n\r\n    this.checkScrollbar();\r\n    this.setScrollbar();\r\n\r\n    if (document && document.body) {\r\n      if (document.body.classList.contains(CLASS_NAME.OPEN)) {\r\n        this.isNested = true;\r\n      } else {\r\n        this._renderer.addClass(document.body, CLASS_NAME.OPEN);\r\n      }\r\n    }\r\n\r\n    this.showBackdrop(() => {\r\n      this.showElement();\r\n    });\r\n  }\r\n\r\n  /** Allows to manually close modal */\r\n  hide(event?: Event): void {\r\n    if (event) {\r\n      event.preventDefault();\r\n    }\r\n\r\n    this.onHide.emit(this);\r\n\r\n    // todo: add an option to prevent hiding\r\n    if (!this._isShown) {\r\n      return;\r\n    }\r\n\r\n    clearTimeout(this.timerHideModal);\r\n    clearTimeout(this.timerRmBackDrop);\r\n\r\n    this._isShown = false;\r\n    this._renderer.removeClass(this._element.nativeElement, CLASS_NAME.IN);\r\n    if (!isBs3()) {\r\n      this._renderer.removeClass(this._element.nativeElement, CLASS_NAME.SHOW);\r\n    }\r\n    // this._addClassIn = false;\r\n\r\n    if (this._config.animated) {\r\n      this.timerHideModal = setTimeout(\r\n        () => this.hideModal(),\r\n        TRANSITION_DURATION\r\n      );\r\n    } else {\r\n      this.hideModal();\r\n    }\r\n  }\r\n\r\n  /** Private methods @internal */\r\n  protected getConfig(config?: ModalOptions): ModalOptions {\r\n    return Object.assign({}, modalConfigDefaults, config);\r\n  }\r\n\r\n  /**\r\n   *  Show dialog\r\n   *  @internal\r\n   */\r\n  protected showElement(): void {\r\n    // todo: replace this with component loader usage\r\n    if (\r\n      !this._element.nativeElement.parentNode ||\r\n      this._element.nativeElement.parentNode.nodeType !== Node.ELEMENT_NODE\r\n    ) {\r\n      // don't move modals dom position\r\n      if (document && document.body) {\r\n        document.body.appendChild(this._element.nativeElement);\r\n      }\r\n    }\r\n\r\n    this._renderer.setAttribute(\r\n      this._element.nativeElement,\r\n      'aria-hidden',\r\n      'false'\r\n    );\r\n    this._renderer.setAttribute(\r\n      this._element.nativeElement,\r\n      'aria-modal',\r\n      'true'\r\n    );\r\n    this._renderer.setStyle(\r\n      this._element.nativeElement,\r\n      'display',\r\n      'block'\r\n    );\r\n    this._renderer.setProperty(\r\n      this._element.nativeElement,\r\n      'scrollTop',\r\n      0\r\n    );\r\n\r\n    if (this._config.animated) {\r\n      Utils.reflow(this._element.nativeElement);\r\n    }\r\n\r\n    // this._addClassIn = true;\r\n    this._renderer.addClass(this._element.nativeElement, CLASS_NAME.IN);\r\n    if (!isBs3()) {\r\n      this._renderer.addClass(this._element.nativeElement, CLASS_NAME.SHOW);\r\n    }\r\n\r\n    const transitionComplete = () => {\r\n      if (this._config.focus) {\r\n        this._element.nativeElement.focus();\r\n      }\r\n      this.onShown.emit(this);\r\n    };\r\n\r\n    if (this._config.animated) {\r\n      setTimeout(transitionComplete, TRANSITION_DURATION);\r\n    } else {\r\n      transitionComplete();\r\n    }\r\n  }\r\n\r\n  /** @internal */\r\n  protected hideModal(): void {\r\n    this._renderer.setAttribute(\r\n      this._element.nativeElement,\r\n      'aria-hidden',\r\n      'true'\r\n    );\r\n    this._renderer.setStyle(\r\n      this._element.nativeElement,\r\n      'display',\r\n      'none'\r\n    );\r\n    this.showBackdrop(() => {\r\n      if (!this.isNested) {\r\n        if (document && document.body) {\r\n          this._renderer.removeClass(document.body, CLASS_NAME.OPEN);\r\n        }\r\n        this.resetScrollbar();\r\n      }\r\n      this.resetAdjustments();\r\n      this.focusOtherModal();\r\n      this.onHidden.emit(this);\r\n    });\r\n  }\r\n\r\n  // todo: original show was calling a callback when done, but we can use\r\n  // promise\r\n  /** @internal */\r\n  protected showBackdrop(callback?: Function): void {\r\n    if (\r\n      this._isShown &&\r\n      this.config.backdrop &&\r\n      (!this.backdrop || !this.backdrop.instance.isShown)\r\n    ) {\r\n      this.removeBackdrop();\r\n      this._backdrop\r\n        .attach(ModalBackdropComponent)\r\n        .to('body')\r\n        .show({isAnimated: this._config.animated});\r\n      this.backdrop = this._backdrop._componentRef;\r\n\r\n      if (!callback) {\r\n        return;\r\n      }\r\n\r\n      if (!this._config.animated) {\r\n        callback();\r\n\r\n        return;\r\n      }\r\n\r\n      setTimeout(callback, BACKDROP_TRANSITION_DURATION);\r\n    } else if (!this._isShown && this.backdrop) {\r\n      this.backdrop.instance.isShown = false;\r\n\r\n      const callbackRemove = () => {\r\n        this.removeBackdrop();\r\n        if (callback) {\r\n          callback();\r\n        }\r\n      };\r\n\r\n      if (this.backdrop.instance.isAnimated) {\r\n        this.timerRmBackDrop = setTimeout(\r\n          callbackRemove,\r\n          BACKDROP_TRANSITION_DURATION\r\n        );\r\n      } else {\r\n        callbackRemove();\r\n      }\r\n    } else if (callback) {\r\n      callback();\r\n    }\r\n  }\r\n\r\n  /** @internal */\r\n  protected removeBackdrop(): void {\r\n    this._backdrop.hide();\r\n  }\r\n\r\n  /** Events tricks */\r\n\r\n  // no need for it\r\n  // protected setEscapeEvent():void {\r\n  //   if (this._isShown && this._config.keyboard) {\r\n  //     $(this._element).on(Event.KEYDOWN_DISMISS, (event) => {\r\n  //       if (event.which === 27) {\r\n  //         this.hide()\r\n  //       }\r\n  //     })\r\n  //\r\n  //   } else if (!this._isShown) {\r\n  //     $(this._element).off(Event.KEYDOWN_DISMISS)\r\n  //   }\r\n  // }\r\n\r\n  // protected setResizeEvent():void {\r\n  // console.log(this.renderer.listenGlobal('', Event.RESIZE));\r\n  // if (this._isShown) {\r\n  //   $(window).on(Event.RESIZE, $.proxy(this._handleUpdate, this))\r\n  // } else {\r\n  //   $(window).off(Event.RESIZE)\r\n  // }\r\n  // }\r\n\r\n  protected focusOtherModal() {\r\n    if (this._element.nativeElement.parentElement == null) return;\r\n    const otherOpenedModals = this._element.nativeElement.parentElement.querySelectorAll('.in[bsModal]');\r\n    if (!otherOpenedModals.length) {\r\n      return;\r\n    }\r\n    otherOpenedModals[otherOpenedModals.length - 1].focus();\r\n  }\r\n\r\n  /** @internal */\r\n  protected resetAdjustments(): void {\r\n    this._renderer.setStyle(\r\n      this._element.nativeElement,\r\n      'paddingLeft',\r\n      ''\r\n    );\r\n    this._renderer.setStyle(\r\n      this._element.nativeElement,\r\n      'paddingRight',\r\n      ''\r\n    );\r\n  }\r\n\r\n  /** Scroll bar tricks */\r\n  /** @internal */\r\n  protected checkScrollbar(): void {\r\n    this.isBodyOverflowing = document.body.clientWidth < window.innerWidth;\r\n    this.scrollbarWidth = this.getScrollbarWidth();\r\n  }\r\n\r\n  protected setScrollbar(): void {\r\n    if (!document) {\r\n      return;\r\n    }\r\n\r\n    this.originalBodyPadding = parseInt(\r\n      window\r\n        .getComputedStyle(document.body)\r\n        .getPropertyValue('padding-right') || 0,\r\n      10\r\n    );\r\n\r\n    if (this.isBodyOverflowing) {\r\n      document.body.style.paddingRight = `${this.originalBodyPadding +\r\n      this.scrollbarWidth}px`;\r\n    }\r\n  }\r\n\r\n  protected resetScrollbar(): void {\r\n    document.body.style.paddingRight = this.originalBodyPadding + 'px';\r\n  }\r\n\r\n  // thx d.walsh\r\n  protected getScrollbarWidth(): number {\r\n    const scrollDiv = this._renderer.createElement('div');\r\n    this._renderer.addClass(scrollDiv, CLASS_NAME.SCROLLBAR_MEASURER);\r\n    this._renderer.appendChild(document.body, scrollDiv);\r\n    const scrollbarWidth = scrollDiv.offsetWidth - scrollDiv.clientWidth;\r\n    this._renderer.removeChild(document.body, scrollDiv);\r\n\r\n    return scrollbarWidth;\r\n  }\r\n}\r\n","import {\r\n  ComponentRef,\r\n  Injectable,\r\n  TemplateRef,\r\n  EventEmitter, Renderer2, RendererFactory2\r\n} from '@angular/core';\r\n\r\nimport { ComponentLoader } from '../utils/component-loader/component-loader.class';\r\nimport { ComponentLoaderFactory } from '../utils/component-loader/component-loader.factory';\r\nimport { ModalBackdropComponent } from './modal-backdrop.component';\r\nimport { ModalContainerComponent } from './modal-container.component';\r\nimport {\r\n  CLASS_NAME,\r\n  modalConfigDefaults,\r\n  ModalOptions,\r\n  TRANSITION_DURATIONS\r\n} from './modal-options.class';\r\nimport { BsModalRef } from './bs-modal-ref.service';\r\n\r\n@Injectable()\r\nexport class BsModalService {\r\n  // constructor props\r\n  config: ModalOptions = modalConfigDefaults;\r\n\r\n  onShow: EventEmitter<any> = new EventEmitter();\r\n  onShown: EventEmitter<any> = new EventEmitter();\r\n  onHide: EventEmitter<any> = new EventEmitter();\r\n  onHidden: EventEmitter<any> = new EventEmitter();\r\n\r\n  protected isBodyOverflowing = false;\r\n  protected originalBodyPadding = 0;\r\n\r\n  protected scrollbarWidth = 0;\r\n\r\n  protected backdropRef: ComponentRef<ModalBackdropComponent>;\r\n  private _backdropLoader: ComponentLoader<ModalBackdropComponent>;\r\n  private modalsCount = 0;\r\n  private lastDismissReason = '';\r\n\r\n  private loaders: ComponentLoader<ModalContainerComponent>[] = [];\r\n\r\n  private _renderer: Renderer2;\r\n\r\n  constructor(rendererFactory: RendererFactory2, private clf: ComponentLoaderFactory) {\r\n    this._backdropLoader = this.clf.createLoader<ModalBackdropComponent>(\r\n      null,\r\n      null,\r\n      null\r\n    );\r\n    this._renderer = rendererFactory.createRenderer(null, null);\r\n  }\r\n\r\n  /** Shows a modal */\r\n  show(content: string | TemplateRef<any> | any, config?: ModalOptions): BsModalRef {\r\n    this.modalsCount++;\r\n    this._createLoaders();\r\n    this.config = Object.assign({}, modalConfigDefaults, config);\r\n    this._showBackdrop();\r\n    this.lastDismissReason = null;\r\n\r\n    return this._showModal(content);\r\n  }\r\n\r\n  hide(level: number) {\r\n    if (this.modalsCount === 1) {\r\n      this._hideBackdrop();\r\n      this.resetScrollbar();\r\n    }\r\n    this.modalsCount = this.modalsCount >= 1 ? this.modalsCount - 1 : 0;\r\n    setTimeout(() => {\r\n      this._hideModal(level);\r\n      this.removeLoaders(level);\r\n    }, this.config.animated ? TRANSITION_DURATIONS.BACKDROP : 0);\r\n  }\r\n\r\n  _showBackdrop(): void {\r\n    const isBackdropEnabled =\r\n      this.config.backdrop || this.config.backdrop === 'static';\r\n    const isBackdropInDOM =\r\n      !this.backdropRef || !this.backdropRef.instance.isShown;\r\n\r\n    if (this.modalsCount === 1) {\r\n      this.removeBackdrop();\r\n\r\n      if (isBackdropEnabled && isBackdropInDOM) {\r\n        this._backdropLoader\r\n          .attach(ModalBackdropComponent)\r\n          .to('body')\r\n          .show({ isAnimated: this.config.animated });\r\n        this.backdropRef = this._backdropLoader._componentRef;\r\n      }\r\n    }\r\n  }\r\n\r\n  _hideBackdrop(): void {\r\n    if (!this.backdropRef) {\r\n      return;\r\n    }\r\n    this.backdropRef.instance.isShown = false;\r\n    const duration = this.config.animated ? TRANSITION_DURATIONS.BACKDROP : 0;\r\n    setTimeout(() => this.removeBackdrop(), duration);\r\n  }\r\n\r\n  _showModal(content: any): BsModalRef {\r\n    const modalLoader = this.loaders[this.loaders.length - 1];\r\n    const bsModalRef = new BsModalRef();\r\n    const modalContainerRef = modalLoader\r\n      .provide({ provide: ModalOptions, useValue: this.config })\r\n      .provide({ provide: BsModalRef, useValue: bsModalRef })\r\n      .attach(ModalContainerComponent)\r\n      .to('body')\r\n      .show({content, isAnimated: this.config.animated, initialState: this.config.initialState, bsModalService: this});\r\n    modalContainerRef.instance.level = this.getModalsCount();\r\n    bsModalRef.hide = () => {\r\n      modalContainerRef.instance.hide();\r\n    };\r\n    bsModalRef.content = modalLoader.getInnerComponent() || null;\r\n\r\n    return bsModalRef;\r\n  }\r\n\r\n  _hideModal(level: number): void {\r\n    const modalLoader = this.loaders[level - 1];\r\n    if (modalLoader) {\r\n      modalLoader.hide();\r\n    }\r\n  }\r\n\r\n  getModalsCount(): number {\r\n    return this.modalsCount;\r\n  }\r\n\r\n  setDismissReason(reason: string) {\r\n    this.lastDismissReason = reason;\r\n  }\r\n\r\n  removeBackdrop(): void {\r\n    this._backdropLoader.hide();\r\n    this.backdropRef = null;\r\n  }\r\n\r\n  /** AFTER PR MERGE MODAL.COMPONENT WILL BE USING THIS CODE */\r\n  /** Scroll bar tricks */\r\n  /** @internal */\r\n  checkScrollbar(): void {\r\n    this.isBodyOverflowing = document.body.clientWidth < window.innerWidth;\r\n    this.scrollbarWidth = this.getScrollbarWidth();\r\n  }\r\n\r\n  setScrollbar(): void {\r\n    if (!document) {\r\n      return;\r\n    }\r\n\r\n    this.originalBodyPadding = parseInt(\r\n      window\r\n        .getComputedStyle(document.body)\r\n        .getPropertyValue('padding-right') || '0',\r\n      10\r\n    );\r\n\r\n    if (this.isBodyOverflowing) {\r\n      document.body.style.paddingRight = `${this.originalBodyPadding +\r\n        this.scrollbarWidth}px`;\r\n    }\r\n  }\r\n\r\n  private resetScrollbar(): void {\r\n    document.body.style.paddingRight = `${this.originalBodyPadding}px`;\r\n  }\r\n\r\n  // thx d.walsh\r\n  private getScrollbarWidth(): number {\r\n    const scrollDiv = this._renderer.createElement('div');\r\n    this._renderer.addClass(scrollDiv, CLASS_NAME.SCROLLBAR_MEASURER);\r\n    this._renderer.appendChild(document.body, scrollDiv);\r\n    const scrollbarWidth = scrollDiv.offsetWidth - scrollDiv.clientWidth;\r\n    this._renderer.removeChild(document.body, scrollDiv);\r\n\r\n    return scrollbarWidth;\r\n  }\r\n\r\n  private _createLoaders(): void {\r\n    const loader = this.clf.createLoader<ModalContainerComponent>(\r\n      null,\r\n      null,\r\n      null\r\n    );\r\n    this.copyEvent(loader.onBeforeShow, this.onShow);\r\n    this.copyEvent(loader.onShown, this.onShown);\r\n    this.copyEvent(loader.onBeforeHide, this.onHide);\r\n    this.copyEvent(loader.onHidden, this.onHidden);\r\n    this.loaders.push(loader);\r\n  }\r\n\r\n  private removeLoaders(level: number): void {\r\n    this.loaders.splice(level - 1, 1);\r\n    this.loaders.forEach(\r\n      (loader: ComponentLoader<ModalContainerComponent>, i: number) => {\r\n        loader.instance.level = i + 1;\r\n      }\r\n    );\r\n  }\r\n\r\n  private copyEvent(from: EventEmitter<any>, to: EventEmitter<any>) {\r\n    from.subscribe(() => {\r\n      to.emit(this.lastDismissReason);\r\n    });\r\n  }\r\n}\r\n","import { NgModule, ModuleWithProviders } from '@angular/core';\r\n\r\nimport { ModalBackdropComponent } from './modal-backdrop.component';\r\nimport { ModalDirective } from './modal.directive';\r\nimport { PositioningService } from '../utils/positioning/index';\r\nimport { ComponentLoaderFactory } from '../utils/component-loader/index';\r\nimport { ModalContainerComponent } from './modal-container.component';\r\nimport { BsModalService } from './bs-modal.service';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    ModalBackdropComponent,\r\n    ModalDirective,\r\n    ModalContainerComponent\r\n  ],\r\n  exports: [ModalBackdropComponent, ModalDirective],\r\n  entryComponents: [ModalBackdropComponent, ModalContainerComponent]\r\n})\r\nexport class ModalModule {\r\n  static forRoot(): ModuleWithProviders {\r\n    return {\r\n      ngModule: ModalModule,\r\n      providers: [BsModalService, ComponentLoaderFactory, PositioningService]\r\n    };\r\n  }\r\n}\r\n","import {ElementRef, EventEmitter, Injectable, OnDestroy} from '@angular/core';\r\nimport {BsDropdownDirective} from '../dropdown/index';\r\nimport {Subscription} from 'rxjs/Subscription';\r\nimport {BsDropdownState} from '../dropdown/dropdown.state';\r\nimport {DropdownItemDirective} from '../dropdown/dropdown-item.directive';\r\n\r\n@Injectable()\r\nexport class NavbarState implements OnDestroy {\r\n  private dropdownInstances: BsDropdownDirective[] = [];\r\n  private menuItems: DropdownItemDirective[] = [];\r\n  private subscriptions: Subscription[] = [];\r\n\r\n  private level1Dropdown: BsDropdownDirective; // å½åä¸æèåçä¸»èåï¼\r\n  private level2Dropdown: BsDropdownDirective; // å½åä¸æèåçå­èå\r\n\r\n  onItemClick = new EventEmitter<string>();\r\n\r\n  autoClose: boolean;\r\n\r\n  constructor() {\r\n\r\n  }\r\n\r\n  addDropdown(dropdown: BsDropdownDirective): void {\r\n    if (!this.dropdownInstances.find((item) => item === dropdown)) {\r\n      this.dropdownInstances.push(dropdown);\r\n      this.subscribeDropdown(dropdown);\r\n      dropdown.onShown.subscribe(() => setTimeout(() => {\r\n        dropdown.childDropdowns.forEach((item: BsDropdownDirective) => this.addDropdown(item));\r\n      }));\r\n    }\r\n  }\r\n\r\n  addMenuItem(menuItem: DropdownItemDirective): void {\r\n    if (!this.menuItems.find((item) => item === menuItem)) {\r\n      this.menuItems.push(menuItem);\r\n      this.subscribeMenuItem(menuItem);\r\n    }\r\n  }\r\n\r\n  private subscribeDropdown(dropdown: BsDropdownDirective): void {\r\n    // å¨ä¸æèåæ¾ç¤ºãéèæ¶ï¼è®°å½ä¸æ¾ç¤ºç¶æã\r\n    // this.subscriptions.push(\r\n    //   dropdown.onShown.subscribe((value) => {\r\n    //     debugger;\r\n    //     if(dropdown.isSubMenu) {\r\n    //\r\n    //     }\r\n    //   })\r\n    // );\r\n    //\r\n    // this.subscriptions.push(\r\n    //   dropdown.onHidden.subscribe((value) => {\r\n    //\r\n    //   })\r\n    // );\r\n\r\n    this.subscriptions.push(\r\n      dropdown.state.onClick.subscribe((event: Event) => {\r\n        if (dropdown.level === 1) {\r\n          if (dropdown.isOpen && this.level1Dropdown === dropdown) {\r\n            this.innerHideL1Dropdown();\r\n          } else {\r\n            this.innerShowL1Dropdown(dropdown);\r\n          }\r\n        } else if (dropdown.level === 2) {\r\n          if (!dropdown.isOpen || this.level2Dropdown !== dropdown) {\r\n            this.innerShowL2Dropdown(dropdown);\r\n          }\r\n        }\r\n        event.stopPropagation();\r\n      })\r\n    );\r\n\r\n    this.subscriptions.push(\r\n      dropdown.state.onHover.subscribe(() => {\r\n        if (!this.level1Dropdown) {\r\n          // èåæ²¡å±å¼ï¼é¼ æ æ¬åæ²¡æææ\r\n          return;\r\n        }\r\n        this.show(dropdown);\r\n      })\r\n    );\r\n  }\r\n\r\n  private subscribeMenuItem(menuItem: DropdownItemDirective): void {\r\n    this.subscriptions.push(\r\n      menuItem.onHover.subscribe(() => {\r\n        if (!this.level1Dropdown) {\r\n          return;\r\n        }\r\n        if (this.level1Dropdown.containsItem(menuItem)) {\r\n          this.innerHideL2Dropdown();\r\n        }\r\n      })\r\n    );\r\n\r\n    this.subscriptions.push(\r\n      menuItem.onClick.subscribe((command: string) => {\r\n        this.onItemClick.emit(command);\r\n      })\r\n    );\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.subscriptions.forEach((sub) => {\r\n      sub.unsubscribe();\r\n    });\r\n  }\r\n\r\n  hideCurrentDropdown(): void {\r\n    if (this.level2Dropdown) {\r\n      this.innerHideL2Dropdown();\r\n    } else {\r\n      this.innerHideL1Dropdown();\r\n    }\r\n  }\r\n\r\n  hideAllDropdown(): void {\r\n    this.innerHideL2Dropdown();\r\n    this.innerHideL1Dropdown();\r\n  }\r\n\r\n  show(dropdown: BsDropdownDirective): void {\r\n    if (dropdown.level === 1) {\r\n      if (dropdown !== this.level1Dropdown) {\r\n        this.innerShowL1Dropdown(dropdown);\r\n      }\r\n      this.innerHideL2Dropdown();\r\n    } else if (dropdown.level === 2) {\r\n      if (dropdown !== this.level2Dropdown) {\r\n        this.innerShowL2Dropdown(dropdown);\r\n      }\r\n    }\r\n\r\n\r\n\r\n    ///////////////////////////////\r\n    /*if (this.isMenuShown && this.isSubMenuShown && this.parentDropdown && this.parentDropdown.containsItem(dropdown)) {\r\n      // è¦æ¾ç¤ºçæ¯å­èåï¼ä¸æ¯å½åå­èå\r\n      if (this.currentDropdown && this.currentDropdown !== dropdown) {\r\n        this.currentDropdown.hide();\r\n      }\r\n      dropdown.show();\r\n      this.currentDropdown = dropdown;\r\n      this.isSubMenuShown = true;\r\n    } else if (this.isMenuShown && !this.isSubMenuShown && this.currentDropdown && this.currentDropdown.containsItem(dropdown)) {\r\n\r\n    } else {\r\n      // ä¸»èå\r\n      if (this.isSubMenuShown && this.currentDropdown && this.parentDropdown) {\r\n        this.currentDropdown.hide();\r\n        this.currentDropdown = null;\r\n        this.isSubMenuShown = false;\r\n      }\r\n      if (this.isMenuShown && this.currentDropdown && this.currentDropdown !== dropdown) {\r\n        this.currentDropdown.hide();\r\n      }\r\n      dropdown.show();\r\n      this.currentDropdown = dropdown;\r\n      this.isMenuShown = true;\r\n    }*/\r\n  }\r\n\r\n  hide(dropdown: BsDropdownDirective): void {\r\n    // if\r\n  }\r\n\r\n  private innerShowL1Dropdown(target: BsDropdownDirective): void {\r\n    if (this.level1Dropdown) {\r\n      this.level1Dropdown.hide();\r\n    }\r\n    target.show();\r\n    this.level1Dropdown = target;\r\n  }\r\n\r\n  private innerHideL1Dropdown(): void {\r\n    if (this.level1Dropdown) {\r\n      this.level1Dropdown.hide();\r\n      this.level1Dropdown = null;\r\n    }\r\n  }\r\n\r\n  private innerShowL2Dropdown(target: BsDropdownDirective): void {\r\n    if (this.level2Dropdown) {\r\n      this.level2Dropdown.hide();\r\n    }\r\n    target.show();\r\n    this.level2Dropdown = target;\r\n  }\r\n\r\n  private innerHideL2Dropdown(): void {\r\n    if (this.level2Dropdown) {\r\n      this.level2Dropdown.hide();\r\n      this.level2Dropdown = null;\r\n    }\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\n\r\n/** Default dropdown configuration */\r\n@Injectable()\r\nexport class BsDropdownConfig {\r\n  /** default dropdown auto closing behavior */\r\n  autoClose = true;\r\n}\r\n","import {ElementRef, EventEmitter, Injectable} from '@angular/core';\r\nimport { BsComponentRef } from '../utils/component-loader/bs-component-ref.class';\r\n\r\n@Injectable()\r\nexport class BsDropdownState {\r\n  direction: 'down' | 'up' = 'down';\r\n  autoClose: boolean;\r\n  isOpenChange = new EventEmitter<boolean>();\r\n  isDisabledChange = new EventEmitter<boolean>();\r\n  toggleClick = new EventEmitter<boolean>();\r\n  onHover = new EventEmitter<any>();\r\n  onClick = new EventEmitter<Event>();\r\n\r\n  /**\r\n   * Content to be displayed as popover.\r\n   */\r\n   dropdownMenu: Promise<BsComponentRef<any>>;\r\n   resolveDropdownMenu: (componentRef: BsComponentRef<any>) => void;\r\n\r\n   constructor() {\r\n     this.dropdownMenu = new Promise((resolve) => {\r\n       this.resolveDropdownMenu = resolve;\r\n     });\r\n   }\r\n }\r\n","import { window } from './facade/browser';\r\n\r\nexport function isBs3(): boolean {\r\n  return window.__theme === 'bs4';\r\n}\r\n","import {\r\n  ChangeDetectionStrategy, Component, OnDestroy, HostBinding, ChangeDetectorRef, Renderer2,\r\n  ElementRef\r\n} from '@angular/core';\r\nimport { BsDropdownState } from './dropdown.state';\r\nimport {isBs3} from '../utils/ng2-bootstrap-config';\r\n\r\n@Component({\r\n  selector: 'mdb-dropdown-container',\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  template: `\r\n  <div [class.dropup]=\"direction === 'up'\"\r\n  [class.dropdown]=\"direction === 'down'\"\r\n  [class.show]=\"isOpen\"\r\n  [class.open]=\"isOpen\">\r\n    <ng-content></ng-content>\r\n  </div>\r\n  `\r\n})\r\nexport class BsDropdownContainerComponent implements OnDestroy {\r\n  isOpen = false;\r\n\r\n  @HostBinding('style.display') display = 'block';\r\n  @HostBinding('style.position') position = 'absolute';\r\n\r\n  get direction(): 'down' | 'up' {\r\n    return this._state.direction;\r\n  }\r\n\r\n  private _subscription: any;\r\n\r\n  constructor(\r\n    private _state: BsDropdownState,\r\n    private cd: ChangeDetectorRef,\r\n    private _renderer: Renderer2,\r\n    _element: ElementRef\r\n  ) {\r\n    this._subscription = _state.isOpenChange.subscribe((value: boolean) => {\r\n      this.isOpen = value;\r\n      const dropdown = _element.nativeElement.querySelector('.dropdown-menu');\r\n      if (dropdown && !isBs3()) {\r\n        this._renderer.addClass(dropdown, 'show');\r\n        if (dropdown.classList.contains('dropdown-menu-right')) {\r\n          this._renderer.setStyle(dropdown, 'left', 'auto');\r\n          this._renderer.setStyle(dropdown, 'right', '0');\r\n        }\r\n        if (this.direction === 'up') {\r\n          this._renderer.setStyle(dropdown, 'top', 'auto');\r\n          this._renderer.setStyle(\r\n            dropdown,\r\n            'transform',\r\n            'translateY(-101%)'\r\n          );\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this._subscription.unsubscribe();\r\n  }\r\n}\r\n","// tslint:disable:max-file-line-count\r\nimport {\r\n  ContentChildren,\r\n  Directive, ElementRef, EmbeddedViewRef, EventEmitter, Input, OnDestroy,\r\n  OnInit, Output, Renderer2, ViewContainerRef\r\n} from '@angular/core';\r\nimport { filter } from 'rxjs/operators';\r\nimport { Subscription } from 'rxjs/Subscription';\r\nimport { ComponentLoader, ComponentLoaderFactory } from '../utils/component-loader/index';\r\n\r\nimport { BsDropdownConfig } from './dropdown.config';\r\nimport { BsDropdownContainerComponent } from './dropdown-container.component';\r\nimport { BsDropdownState } from './dropdown.state';\r\nimport { BsComponentRef } from '../utils/component-loader/bs-component-ref.class';\r\nimport { BsDropdownMenuDirective } from '.';\r\nimport { isBs3 } from '../utils/ng2-bootstrap-config';\r\nimport {DropdownItemDirective} from './dropdown-item.directive';\r\n\r\n@Directive({\r\n  selector: '[mdbDropdown],[dropdown]',\r\n  exportAs: 'bs-dropdown',\r\n  providers: [BsDropdownState],\r\n  host: {\r\n    '[class.dropup]': 'dropup',\r\n    '[class.open]': 'isOpen',\r\n    '[class.show]': 'isOpen && isBs4'\r\n  }\r\n})\r\nexport class BsDropdownDirective implements OnInit, OnDestroy {\r\n  /**\r\n   * Placement of a popover. Accepts: \"top\", \"bottom\", \"left\", \"right\"\r\n   */\r\n  @Input() placement: string;\r\n  /**\r\n   * Specifies events that should trigger. Supports a space separated list of\r\n   * event names.\r\n   */\r\n  @Input() triggers: string;\r\n  /**\r\n   * A selector specifying the element the popover should be appended to.\r\n   * Currently only supports \"body\".\r\n   */\r\n  @Input() container: string;\r\n\r\n  /**\r\n   * This attribute indicates that the dropdown should be opened upwards\r\n   */\r\n  @Input() dropup: boolean;\r\n\r\n  /**\r\n   * Indicates that dropdown will be closed on item or document click,\r\n   * and after pressing ESC\r\n   */\r\n  @Input()\r\n  set autoClose(value: boolean) {\r\n    this._state.autoClose = value;\r\n  }\r\n\r\n  get autoClose(): boolean {\r\n    return this._state.autoClose;\r\n  }\r\n\r\n  /**\r\n   * Disables dropdown toggle and hides dropdown menu if opened\r\n   */\r\n  @Input()\r\n  set isDisabled(value: boolean) {\r\n    this._isDisabled = value;\r\n    this._state.isDisabledChange.emit(value);\r\n    if (value) {\r\n      this.hide();\r\n    }\r\n  }\r\n\r\n  get isDisabled(): boolean {\r\n    return this._isDisabled;\r\n  }\r\n\r\n  /**\r\n   * Returns whether or not the popover is currently being shown\r\n   */\r\n  @Input()\r\n  get isOpen(): boolean {\r\n    if (this._showInline) {\r\n      return this._isInlineOpen;\r\n    }\r\n\r\n    return this._dropdown.isShown;\r\n  }\r\n\r\n  set isOpen(value: boolean) {\r\n    if (value) {\r\n      this.show();\r\n    } else {\r\n      this.hide();\r\n    }\r\n  }\r\n\r\n  get state(): BsDropdownState {\r\n    return this._state;\r\n  }\r\n\r\n  private _level: number;\r\n\r\n  @Input('dropdown')\r\n  set level(value: number) {\r\n    this._level = value;\r\n  }\r\n\r\n  get level(): number {\r\n    return this._level || 1;\r\n  }\r\n\r\n  get elementRef(): ElementRef {\r\n    return this._elementRef;\r\n  }\r\n\r\n  /**\r\n   * Emits an event when isOpen change\r\n   */\r\n  @Output() isOpenChange: EventEmitter<any>;\r\n\r\n  /**\r\n   * Emits an event when the popover is shown\r\n   */\r\n  @Output() onShown: EventEmitter<any>;\r\n\r\n  /**\r\n   * Emits an event when the popover is hidden\r\n   */\r\n  @Output() onHidden: EventEmitter<any>;\r\n\r\n  @ContentChildren(BsDropdownDirective) childDropdowns;\r\n\r\n  get isBs4(): boolean {\r\n    return !isBs3();\r\n  }\r\n\r\n  // todo: move to component loader\r\n  private _isInlineOpen = false;\r\n\r\n  private get _showInline(): boolean {\r\n    return !this.container;\r\n  }\r\n\r\n  // private _inlinedMenu: EmbeddedViewRef<BsDropdownMenuDirective>;\r\n  private _inlinedMenu: EmbeddedViewRef<BsDropdownContainerComponent>;\r\n\r\n  private _isDisabled: boolean;\r\n  private _dropdown: ComponentLoader<BsDropdownContainerComponent>;\r\n  private _subscriptions: Subscription[] = [];\r\n  private _isInited = false;\r\n\r\n  constructor(private _elementRef: ElementRef,\r\n              private _renderer: Renderer2,\r\n              private _viewContainerRef: ViewContainerRef,\r\n              private _cis: ComponentLoaderFactory,\r\n              private _config: BsDropdownConfig,\r\n              private _state: BsDropdownState) {\r\n\r\n    // set initial dropdown state from config\r\n    this._state.autoClose = this._config.autoClose;\r\n\r\n    // create dropdown component loader\r\n    this._dropdown = this._cis\r\n      .createLoader<BsDropdownContainerComponent>(\r\n        this._elementRef,\r\n        this._viewContainerRef,\r\n        this._renderer\r\n      )\r\n      .provide({provide: BsDropdownState, useValue: this._state});\r\n\r\n    this.onShown = this._dropdown.onShown;\r\n    this.onHidden = this._dropdown.onHidden;\r\n    this.isOpenChange = this._state.isOpenChange;\r\n    // this.onToggleHover = this._state.onHover;\r\n    // barState.addDropdown(this);\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    // fix: seems there are an issue with `routerLinkActive`\r\n    // which result in duplicated call ngOnInit without call to ngOnDestroy\r\n    // read more: https://github.com/valor-software/ngx-bootstrap/issues/1885\r\n    if (this._isInited) {\r\n      return;\r\n    }\r\n    this._isInited = true;\r\n\r\n    // attach DOM listeners\r\n    this._dropdown.listen({\r\n      // because of dropdown inline mode\r\n      outsideClick: false,\r\n      triggers: this.triggers,\r\n      show: () => this.show(), toggle: (value: boolean) => this.toggle(value)\r\n    });\r\n\r\n    // toggle visibility on toggle element click\r\n    this._subscriptions.push(\r\n      this._state.toggleClick.subscribe((value: boolean) => this.toggle(value))\r\n    );\r\n\r\n    // hide dropdown if set disabled while opened\r\n    this._subscriptions.push(\r\n      this._state.isDisabledChange.pipe(\r\n        filter((value: boolean) => value)\r\n      )\r\n      .subscribe((value: boolean) => this.hide())\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Opens an elementâs popover. This is considered a âmanualâ triggering of\r\n   * the popover.\r\n   */\r\n  show(): void {\r\n    if (this.isOpen || this.isDisabled) {\r\n      return;\r\n    }\r\n\r\n    if (this._showInline) {\r\n      if (!this._inlinedMenu) {\r\n        this._state.dropdownMenu.then(\r\n          (dropdownMenu: BsComponentRef<BsDropdownMenuDirective>) => {\r\n            const _placement = this.placement || 'bottom left';\r\n            this._dropdown.attachInline(\r\n              dropdownMenu.viewContainer,\r\n              dropdownMenu.templateRef\r\n            );\r\n            this._inlinedMenu = this._dropdown._inlineViewRef;\r\n            this.addBs4Polyfills();\r\n          }\r\n        )\r\n        // swallow errors\r\n          .catch();\r\n      }\r\n      this.addBs4Polyfills();\r\n      this._isInlineOpen = true;\r\n      this.onShown.emit(true);\r\n      this._state.isOpenChange.emit(true);\r\n\r\n      return;\r\n    }\r\n    this._state.dropdownMenu.then(dropdownMenu => {\r\n      // check direction in which dropdown should be opened\r\n      const _dropup =\r\n        this.dropup ||\r\n        (typeof this.dropup !== 'undefined' && this.dropup);\r\n      this._state.direction = _dropup ? 'up' : 'down';\r\n      const _placement =\r\n        this.placement || (_dropup ? 'top left' : 'bottom left');\r\n\r\n      // show dropdown\r\n      this._dropdown\r\n        .attach(BsDropdownContainerComponent)\r\n        .to(this.container)\r\n        .position({attachment: _placement})\r\n        .show({\r\n          content: dropdownMenu.templateRef,\r\n          placement: _placement\r\n        });\r\n\r\n      this._state.isOpenChange.emit(true);\r\n    })\r\n    // swallow error\r\n      .catch();\r\n  }\r\n\r\n  /**\r\n   * Closes an elementâs popover. This is considered a âmanualâ triggering of\r\n   * the popover.\r\n   */\r\n  hide(): void {\r\n    if (!this.isOpen) {\r\n      return;\r\n    }\r\n\r\n    if (this._showInline) {\r\n      this.removeShowClass();\r\n      this.removeDropupStyles();\r\n      this._isInlineOpen = false;\r\n      this.onHidden.emit(true);\r\n    } else {\r\n      this._dropdown.hide();\r\n    }\r\n\r\n    this._state.isOpenChange.emit(false);\r\n  }\r\n\r\n  /**\r\n   * Toggles an elementâs popover. This is considered a âmanualâ triggering of\r\n   * the popover. With parameter <code>true</code> allows toggling, with parameter <code>false</code>\r\n   * only hides opened dropdown. Parameter usage will be removed in ngx-bootstrap v3\r\n   */\r\n  toggle(value?: boolean): void {\r\n    if (this.isOpen || !value) {\r\n      return this.hide();\r\n    }\r\n\r\n    return this.show();\r\n  }\r\n\r\n  containsItem(item: BsDropdownDirective | DropdownItemDirective): boolean {\r\n    return this._elementRef.nativeElement.contains(item.elementRef.nativeElement);\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    // clean up subscriptions and destroy dropdown\r\n    for (const sub of this._subscriptions) {\r\n      sub.unsubscribe();\r\n    }\r\n    this._dropdown.dispose();\r\n  }\r\n\r\n  private addBs4Polyfills(): void {\r\n    if (!isBs3()) {\r\n      this.addShowClass();\r\n      this.checkRightAlignment();\r\n      this.addDropupStyles();\r\n    }\r\n  }\r\n\r\n  private addShowClass(): void {\r\n    if (this._inlinedMenu && this._inlinedMenu.rootNodes[0]) {\r\n      this._renderer.addClass(this._inlinedMenu.rootNodes[0], 'show');\r\n    }\r\n  }\r\n\r\n  private removeShowClass(): void {\r\n    if (this._inlinedMenu && this._inlinedMenu.rootNodes[0]) {\r\n      this._renderer.removeClass(this._inlinedMenu.rootNodes[0], 'show');\r\n    }\r\n  }\r\n\r\n  private checkRightAlignment(): void {\r\n    if (this._inlinedMenu && this._inlinedMenu.rootNodes[0]) {\r\n      const isRightAligned = this._inlinedMenu.rootNodes[0].classList.contains(\r\n        'dropdown-menu-right'\r\n      );\r\n      this._renderer.setStyle(\r\n        this._inlinedMenu.rootNodes[0],\r\n        'left',\r\n        isRightAligned ? 'auto' : '0'\r\n      );\r\n      this._renderer.setStyle(\r\n        this._inlinedMenu.rootNodes[0],\r\n        'right',\r\n        isRightAligned ? '0' : 'auto'\r\n      );\r\n    }\r\n  }\r\n\r\n  private addDropupStyles(): void {\r\n    if (this._inlinedMenu && this._inlinedMenu.rootNodes[0]) {\r\n      // a little hack to not break support of bootstrap 4 beta\r\n      this._renderer.setStyle(\r\n        this._inlinedMenu.rootNodes[0],\r\n        'top',\r\n        this.dropup ? 'auto' : '100%'\r\n      );\r\n      this._renderer.setStyle(\r\n        this._inlinedMenu.rootNodes[0],\r\n        'transform',\r\n        this.dropup ? 'translateY(-101%)' : 'translateY(0)'\r\n      );\r\n    }\r\n  }\r\n\r\n  private removeDropupStyles(): void {\r\n    if (this._inlinedMenu && this._inlinedMenu.rootNodes[0]) {\r\n      this._renderer.removeStyle(this._inlinedMenu.rootNodes[0], 'top');\r\n      this._renderer.removeStyle(this._inlinedMenu.rootNodes[0], 'transform');\r\n    }\r\n  }\r\n}\r\n","import { Directive, TemplateRef, ViewContainerRef } from '@angular/core';\r\nimport { BsDropdownState } from './dropdown.state';\r\n\r\n@Directive({\r\n  selector: '[mdbDropdownMenu],[dropdownMenu]',\r\n  exportAs: 'bs-dropdown-menu'\r\n})\r\nexport class BsDropdownMenuDirective {\r\n  constructor(_state: BsDropdownState,\r\n    _viewContainer: ViewContainerRef,\r\n    _templateRef: TemplateRef<any>) {\r\n    _state.resolveDropdownMenu({\r\n      templateRef: _templateRef,\r\n      viewContainer: _viewContainer\r\n    });\r\n  }\r\n}\r\n","import {Directive, ElementRef, HostBinding, HostListener, OnDestroy} from '@angular/core';\r\nimport {Subscription} from 'rxjs/Subscription';\r\n\r\nimport {BsDropdownState} from './dropdown.state';\r\n\r\n@Directive({\r\n  selector: '[mdbDropdownToggle],[dropdownToggle]',\r\n  exportAs: 'bs-dropdown-toggle'\r\n})\r\nexport class BsDropdownToggleDirective implements OnDestroy {\r\n  @HostBinding('attr.aria-haspopup') ariaHaspopup = true;\r\n  @HostBinding('attr.disabled') isDisabled: boolean = null;\r\n  // @HostBinding('class.active')\r\n  @HostBinding('attr.aria-expanded') isOpen: boolean;\r\n\r\n  private _subscriptions: Subscription[] = [];\r\n\r\n  constructor(private _state: BsDropdownState, private _element: ElementRef) {\r\n    // sync is open value with state\r\n    this._subscriptions.push(\r\n      this._state.isOpenChange.subscribe(\r\n        (value: boolean) => (this.isOpen = value)\r\n      )\r\n    );\r\n    // populate disabled state\r\n    this._subscriptions.push(\r\n      this._state.isDisabledChange.subscribe(\r\n        (value: boolean) => (this.isDisabled = value || null)\r\n      )\r\n    );\r\n  }\r\n\r\n  @HostListener('click', [])\r\n  onClick(): void {\r\n    if (this.isDisabled) {\r\n      return;\r\n    }\r\n    this._state.toggleClick.emit(true);\r\n  }\r\n\r\n  @HostListener('document:click', ['$event'])\r\n  onDocumentClick(event: any): void {\r\n    if (\r\n      this._state.autoClose &&\r\n      event.button !== 2 &&\r\n      !this._element.nativeElement.contains(event.target)\r\n    ) {\r\n      this._state.toggleClick.emit(false);\r\n    }\r\n  }\r\n\r\n  @HostListener('keyup.esc')\r\n  onEsc(): void {\r\n    if (this._state.autoClose) {\r\n      this._state.toggleClick.emit(false);\r\n    }\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    for (const sub of this._subscriptions) {\r\n      sub.unsubscribe();\r\n    }\r\n  }\r\n}\r\n","import {Directive, ElementRef, HostBinding, HostListener, Input, OnDestroy} from '@angular/core';\r\nimport {Subscription} from 'rxjs/Subscription';\r\nimport {BsDropdownState} from './dropdown.state';\r\n\r\n@Directive({\r\n  selector: '[dropdownButton]'\r\n})\r\nexport class DropdownButtonDirective implements OnDestroy {\r\n\r\n  private _subscriptions: Subscription[] = [];\r\n\r\n  @HostBinding('class.disabled') @Input() isDisabled: boolean = null;\r\n  @HostBinding('attr.aria-expanded') isOpen: boolean;\r\n\r\n  @HostListener('click', ['$event'])\r\n  onClick(event: Event): void {\r\n    if (this.isDisabled) {\r\n      return;\r\n    }\r\n    this._state.onClick.emit(event);\r\n  }\r\n\r\n  @HostListener('mouseover')\r\n  onHover(): void {\r\n    if (this.isDisabled) {\r\n      return;\r\n    }\r\n    this._state.onHover.emit();\r\n  }\r\n\r\n  constructor(private _state: BsDropdownState,\r\n              private _element: ElementRef) {\r\n    // åæ­¥èåçæå¼ç¶æ\r\n    this._subscriptions.push(this._state.isOpenChange\r\n      .subscribe((value: boolean) => this.isOpen = value)\r\n    );\r\n    // åæ­¥èåçç¦ç¨ç¶æ\r\n    this._subscriptions.push(this._state.isDisabledChange\r\n      .subscribe((value: boolean) => this.isDisabled = value || null)\r\n    );\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    for (const sub of this._subscriptions) {\r\n      sub.unsubscribe();\r\n    }\r\n  }\r\n\r\n}\r\n","import {Directive, ElementRef, EventEmitter, HostBinding, HostListener, Input} from '@angular/core';\r\nimport {NavbarState} from '../navbar/navbar.state';\r\n\r\n@Directive({\r\n  selector: '[dropdownItem]',\r\n  exportAs: 'dropdownItem'\r\n})\r\nexport class DropdownItemDirective {\r\n\r\n  @HostBinding('class.disabled') @Input() isDisabled: boolean = null;\r\n\r\n  @Input('dropdownItem') command;\r\n\r\n  get elementRef(): ElementRef {\r\n    return this._elementRef;\r\n  }\r\n\r\n\r\n  onHover = new EventEmitter<any>();\r\n  onClick = new EventEmitter<string>();\r\n\r\n  constructor(private _elementRef: ElementRef,\r\n              private barState: NavbarState) {\r\n    this.barState.addMenuItem(this);\r\n  }\r\n\r\n  @HostListener('mouseover')\r\n  onMouseOver(): void {\r\n    this.onHover.emit();\r\n  }\r\n\r\n  @HostListener('click')\r\n  onItemClick(): void {\r\n    if (this.isDisabled) {\r\n      return;\r\n    }\r\n    this.onClick.emit(this.command);\r\n  }\r\n}\r\n","import {ModuleWithProviders, NgModule} from '@angular/core';\r\nimport {ComponentLoaderFactory} from '../utils/component-loader/index';\r\n\r\nimport {PositioningService} from '../utils/positioning/index';\r\nimport {BsDropdownContainerComponent} from './dropdown-container.component';\r\nimport {BsDropdownMenuDirective} from './dropdown-menu.directive';\r\nimport {BsDropdownToggleDirective} from './dropdown-toggle.directive';\r\nimport {BsDropdownConfig} from './dropdown.config';\r\n\r\nimport {BsDropdownDirective} from './dropdown.directive';\r\nimport {BsDropdownState} from './dropdown.state';\r\nimport {NavbarState} from '../navbar/navbar.state';\r\nimport { DropdownButtonDirective } from './dropdown-button.directive';\r\nimport { DropdownItemDirective } from './dropdown-item.directive';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    BsDropdownMenuDirective,\r\n    BsDropdownToggleDirective,\r\n    BsDropdownContainerComponent,\r\n    BsDropdownDirective,\r\n    DropdownButtonDirective,\r\n    DropdownItemDirective\r\n  ],\r\n  exports: [\r\n    BsDropdownMenuDirective,\r\n    BsDropdownToggleDirective,\r\n    BsDropdownDirective,\r\n    DropdownButtonDirective,\r\n    DropdownItemDirective\r\n  ],\r\n  entryComponents: [BsDropdownContainerComponent]\r\n})\r\nexport class BsDropdownModule {\r\n  public static forRoot(config?: any): ModuleWithProviders {\r\n    return {\r\n      ngModule: BsDropdownModule, providers: [\r\n        ComponentLoaderFactory,\r\n        PositioningService,\r\n        BsDropdownState,\r\n        {provide: BsDropdownConfig, useValue: config ? config : {autoClose: true}}\r\n      ]\r\n    };\r\n  }\r\n}\r\n","import {\r\n  AfterContentChecked,\r\n  AfterViewChecked, AfterViewInit,\r\n  ContentChildren,\r\n  Directive,\r\n  EventEmitter,\r\n  HostListener, OnChanges,\r\n  OnInit,\r\n  QueryList, ViewChildren\r\n} from '@angular/core';\r\nimport {NavbarState} from './navbar.state';\r\nimport {ElementRef} from '@angular/core';\r\nimport {BsDropdownConfig} from '../dropdown/dropdown.config';\r\nimport {BsDropdownDirective} from '../dropdown/index';\r\n\r\n@Directive({\r\n  selector: '[navbar]',\r\n  exportAs: 'navbar',\r\n  providers: [NavbarState]\r\n})\r\nexport class NavbarDirective implements OnInit, AfterViewInit {\r\n\r\n  onItemClick: EventEmitter<string>;\r\n\r\n  @ContentChildren(BsDropdownDirective) childDropdowns: QueryList<BsDropdownDirective>;\r\n  @ViewChildren(BsDropdownDirective) childDropdowns2: QueryList<BsDropdownDirective>;\r\n  @HostListener('document:click', ['$event'])\r\n  onDocumentClick(event: any): void {\r\n    this._state.hideAllDropdown();\r\n  }\r\n\r\n  @HostListener('keyup.esc')\r\n  onEsc(): void {\r\n    if (this._state.autoClose) {\r\n      this._state.hideCurrentDropdown();\r\n    }\r\n  }\r\n\r\n  constructor(private _elementRef: ElementRef,\r\n              private _config: BsDropdownConfig,\r\n              private _state: NavbarState) {\r\n    this._state.autoClose = this._config.autoClose;\r\n    this.onItemClick = this._state.onItemClick;\r\n  }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  ngAfterViewInit() {\r\n    this.childDropdowns.forEach((item: BsDropdownDirective) => this._state.addDropdown(item));\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { NavbarDirective } from './navbar.directive';\r\nimport { NavbarState } from './navbar.state';\r\n\r\n@NgModule({\r\n  declarations: [NavbarDirective],\r\n  providers: [NavbarState],\r\n  exports: [NavbarDirective]\r\n})\r\nexport class NavbarModule { }\r\n","export const TREE_EVENTS = {\r\n    onToggle: 'onToggle',\r\n    onActiveChanged: 'onActiveChanged',\r\n    onActivate: 'onActivate',\r\n    onDeactivate: 'onDeactivate',\r\n    onFocus: 'onFocus',\r\n    onBlur: 'onBlur',\r\n    onDoubleClick: 'onDoubleClick',\r\n    onContextMenu: 'onContextMenu',\r\n    onInitialized: 'onInitialized',\r\n    onUpdateData: 'onUpdateData',\r\n    onMoveNode: 'onMoveNode',\r\n    onAddNode: 'onAddNode',\r\n    onRemoveNode: 'onRemoveNode',\r\n    onRightMenuClicked: 'onRightMenuClicked'\r\n}","import { ElementRef, EventEmitter } from '@angular/core';\r\nimport { TreeModel } from './tree-model';\r\nimport { TREE_EVENTS } from '../constants/events';\r\nimport { TreeOptions } from './tree-options';\r\n\r\nexport class TreeNode {\r\n    private _isExpanded: boolean;\r\n    get isExpanded() {return this._isExpanded; }\r\n    set isExpanded(value) {this._isExpanded = value; }\r\n    get isCollapsed() {return !this._isExpanded; }\r\n\r\n    treeModel: TreeModel;\r\n    parent: TreeNode;\r\n    level: number;\r\n    isVirtualRoot = false;\r\n    elementRef: ElementRef;\r\n    parentNode: TreeNode;\r\n\r\n    _isActive = false;\r\n    get isActive() {\r\n        return this._isActive;\r\n    }\r\n    set isActive(value) {\r\n        this._isActive = value;\r\n    }\r\n\r\n    // åæ´æ èç¹å±ç¤ºå­æ®µï¼ç±å¤é¨è§¦å\r\n    changeDisplayField = new EventEmitter<any>();\r\n\r\n    constructor(public data, parent: TreeNode = null, treeModel: TreeModel) {\r\n\r\n        Object.assign( this, data, {parent, treeModel} );\r\n\r\n        this.treeModel = treeModel;\r\n        this.parent = parent;\r\n        this.level = this.parent ? this.parent.level + 1 : 0;\r\n        if (this.isExpandedField) {\r\n            this.isExpanded = true;\r\n        }\r\n\r\n        // éªè¯å­æ®µæ·»å \r\n        // console.log(this.idField);\r\n        // console.log(this.typeField);\r\n\r\n        this.childrenField = this.childrenField.map(child => new TreeNode(child, this, treeModel) );\r\n\r\n        // bugä¿®å¤ï¼TreeModel.canMoveNodeä½¿ç¨parentNodeï¼ä¼åºç°undefinedãè¿éåå¼å®¹\r\n        this.parentNode = this.parent;\r\n    }\r\n\r\n    // Proxy of treeModel\r\n    get options(): TreeOptions {\r\n        return this.treeModel.options;\r\n    }\r\n    fireEvent(event) {\r\n        this.treeModel.fireEvent(event);\r\n    }\r\n\r\n    // è¡¨ç°çæ´åä¸ä¸ªå­æ®µï¼å°å¶å°è£æå±æ§ï¼å¹¶æ ¹æ®å¼æ¾çè¯»åæéï¼è®¾ç½®get/set\r\n    get idField() {\r\n        return this[this.options.idField];\r\n    }\r\n\r\n    set idField(value) {\r\n        this[this.options.idField] = value;\r\n    }\r\n\r\n    get childrenField() {\r\n        return this[this.options.childrenField] || [];\r\n    }\r\n\r\n    set childrenField(value) {\r\n        this[this.options.childrenField] = value;\r\n    }\r\n\r\n    get displayField() {\r\n        return this[this.options.displayField];\r\n    }\r\n\r\n    get typeField() {\r\n        return this[this.options.typeField];\r\n    }\r\n\r\n    set typeField(value) {\r\n        this[this.options.typeField] = value;\r\n    }\r\n\r\n    get isExpandedField() {\r\n        return this[this.options.isExpandedField];\r\n    }\r\n    set isExpandedField(value) {\r\n        this[this.options.isExpandedField] = value;\r\n    }\r\n\r\n    allowDrag() {// è¡¨ç°çæ´åä¸ä¸ªå¨ä½ï¼å°å¶å°è£ææ¹æ³\r\n        return this.options.allowDrag;\r\n    }\r\n\r\n    enableCustomContextMenu() {\r\n        return this.options.enableCustomContextMenu;\r\n    }\r\n\r\n    get isRoot() { return this.parent.isVirtualRoot; }// ç¶èç¹ä¸ºç©ºï¼è¡¨ç¤ºè¿ä¸ªä¸ä¸ªæ ¹èç¹\r\n    get realParent() { return this.isRoot ? null : this.parent; }\r\n    get isLeaf() { return !this.childrenField.length; }\r\n    get hasChildren() { return !this.isLeaf; }\r\n    get isFocused() {return this.treeModel.focusedNode == this; }\r\n\r\n    getFirstChild() {\r\n        return this.childrenField && this.childrenField[0];\r\n    }\r\n\r\n    getLastChild() {\r\n        return this.childrenField && this.childrenField[this.childrenField.length - 1];\r\n    }\r\n\r\n    private _getIndexInParent() {\r\n        return this.parent && this.parent.childrenField.indexOf(this);\r\n    }\r\n\r\n    findAdjacentSibling(steps) {\r\n        const index = this._getIndexInParent();\r\n        return this.parent && this.parent.childrenField[index + steps];\r\n    }\r\n\r\n    findNextSibling() {\r\n        return this.findAdjacentSibling(+1);\r\n    }\r\n    findPreviousSibling() {\r\n        return this.findAdjacentSibling(-1);\r\n    }\r\n\r\n    findNextNode(goInside = true) {// æ¥æ¾Next Nodeæ¶ï¼é»è®¤è¿è¡åé¨æ¥æ¾\r\n        return goInside && this.isExpanded && this.getFirstChild() ||\r\n               this.findNextSibling() ||\r\n               this.parent && this.parent.findNextNode(false);\r\n    }\r\n\r\n    findPreviousNode() {\r\n        const previousSibling = this.findPreviousSibling();\r\n        if (!previousSibling) {\r\n          return this.realParent;\r\n        }\r\n        return previousSibling.isCollapsed\r\n          ? previousSibling\r\n          : previousSibling.getLastChild();\r\n    }\r\n\r\n    isDescendantOf(node: TreeNode) {\r\n        if (this === node) {\r\n            return true;\r\n        } else {\r\n            return this.parent && this.parent.isDescendantOf(node);\r\n        }\r\n    }\r\n\r\n    // åæ¢æ¹æ³\r\n    // åæ¢èç¹çæå ï¼Collapsedï¼ä¸æ©å±ï¼Expandedï¼ç¶æ\r\n    toggle() {\r\n        this.isExpanded = !this.isExpanded;\r\n        this.fireEvent({ eventName: TREE_EVENTS.onToggle, node: this, isExpanded: this.isExpanded });\r\n    }\r\n\r\n    private _activate() {\r\n        this._isActive = true;\r\n        this.fireEvent({ eventName: TREE_EVENTS.onActivate, node: this });\r\n        this.focus();\r\n    }\r\n\r\n    private _deactivate() {\r\n        this._isActive = false;\r\n        this.fireEvent({ eventName: TREE_EVENTS.onDeactivate, node: this });\r\n    }\r\n\r\n    toggleActivated() {\r\n        if (this.isActive) {\r\n            this._deactivate();\r\n            this.treeModel.activeNode = null;\r\n        } else {\r\n            if (this.treeModel.activeNode) {\r\n            this.treeModel.activeNode._deactivate();\r\n            }\r\n            this._activate();\r\n            this.treeModel.activeNode = this;\r\n        }\r\n        this.fireEvent({ eventName: TREE_EVENTS.onActiveChanged, node: this, isActive: this.isActive });\r\n    }\r\n\r\n    focus() {\r\n        const previousNode = this.treeModel.focusedNode;\r\n        this.treeModel.focusedNode = this;\r\n        if (previousNode) {\r\n            this.fireEvent({ eventName: TREE_EVENTS.onBlur, node: previousNode });\r\n        }\r\n        this.fireEvent({ eventName: TREE_EVENTS.onFocus, node: this });\r\n    }\r\n\r\n    blur() {\r\n        const previousNode = this.treeModel.focusedNode;\r\n        this.treeModel.focusedNode = null;\r\n        if (previousNode) {\r\n            this.fireEvent({ eventName: TREE_EVENTS.onBlur, node: this });\r\n        }\r\n    }\r\n\r\n    // åå»äºä»¶\r\n    doublClick(rawEvent: MouseEvent) {\r\n        this.fireEvent({ eventName: TREE_EVENTS.onDoubleClick, node: this, rawEvent });\r\n    }\r\n\r\n    // å³é®å¿«æ·èå\r\n    contextMenu(rawEvent: MouseEvent) {\r\n        if (this.enableCustomContextMenu()) {// å¯ç¨å³é®èååè½åï¼ç¦ç¨é»è®¤çå³é®èå\r\n            rawEvent.preventDefault();\r\n        }\r\n\r\n        this.fireEvent({ eventName: TREE_EVENTS.onContextMenu, node: this, rawEvent });\r\n    }\r\n\r\n    dropMouseAction($event, data: any = null) {\r\n        // 1.è®¾ç½®focus\r\n        this.treeModel.setFocus(true);\r\n        // 2.æ§è¡äºä»¶å¤çå¨\r\n        this._dropEventHandler(this.treeModel, this, $event, data);\r\n        // 3.å®ædropæä½åï¼éç½®dragç¶æ\r\n        this.treeModel.cancelDrag();\r\n    }\r\n\r\n    private _dropEventHandler(tree: TreeModel, node: TreeNode, $event: any ,\r\n                              to: { parentNode: TreeNode, index: number}) {\r\n        tree.moveNode({ from: tree.getDragNode(), to });\r\n        // console.log(\"dropEventHandler:\"+tree.roots);\r\n    }\r\n\r\n    // ç¹å»å³é®èåé¡¹\r\n    rightMenuClicked( event ) {\r\n        this.fireEvent({ eventName: TREE_EVENTS.onRightMenuClicked, node: this, rawEvent: event });\r\n    }\r\n}\r\n","import { ITreeOptions } from '../defs/api';\r\n\r\nexport class TreeOptions {\r\n  // å­æ®µä¸åºç´æ¥æ´é²\r\n  get idField(): string { return this.options.childrenField || 'id'}\r\n  get displayField(): string { return this.options.displayField || 'name'}\r\n  get typeField():string {return this.options.typeField || 'type'}\r\n  get childrenField(): string { return this.options.childrenField || 'children'}\r\n  get isExpandedField(): string { return this.options.isExpandedField || 'isExpanded'}\r\n  get treeNodeTemplate(): any { return this.options.treeNodeTemplate || '{{ node.displayField }}' }//æå¼è¡¨è¾¾å¼\r\n  get allowDrag(): boolean { return this.options.allowDrag }//æ¯å¦å¯ç¨ææ½åè½\r\n  get enableCustomContextMenu(): boolean{ return this.options.enableCustomContextMenu }//æ¯å¦å¯ç¨å¿«æ·èå\r\n\r\n  constructor(private options: ITreeOptions = {}) {//optionæ¯ä¸ä¸ªå¯¹è±¡\r\n    // nothing need to do\r\n  }\r\n}","import { Injectable } from '@angular/core';\r\nimport { TreeNode } from './tree-node';\r\nimport { TreeOptions } from './tree-options';\r\nimport { TREE_EVENTS } from '../constants/events';\r\nimport { first, last, indexOf, findIndex, sortBy } from 'lodash-es';\r\n\r\n@Injectable()\r\nexport class TreeModel {\r\n    roots: TreeNode[];\r\n    options: TreeOptions = new TreeOptions();\r\n    static focusedTree = null;\r\n    // focused Node may be not actived \r\n    // actived Node must be focused\r\n    focusedNode: TreeNode = null;// be chosen node\r\n    activeNode: TreeNode = null;// be chosen and actived node\r\n    private events:any;\r\n    eventNames = Object.keys(TREE_EVENTS);\r\n\r\n    firstUpdate = true;\r\n    _dragNode: { parentNode: TreeNode, index: number } = null;\r\n    _dropLocation:{ component: any, parentNode: TreeNode, index: number } = null;\r\n\r\n    setData({nodes, options, events}){\r\n\r\n        this.options = new TreeOptions(options);\r\n        this.events = events;\r\n\r\n        this.update(nodes);\r\n    }\r\n\r\n    virtualRoot: TreeNode;\r\n    update(nodes){\r\n        // Update the tree:\r\n\r\n        this.virtualRoot = new TreeNode({ isVirtualRoot: true }, null,this);\r\n\r\n        this.roots = nodes && nodes.map(child => new TreeNode(child, this.virtualRoot, this));\r\n\r\n        this.virtualRoot[this.options.childrenField] = this.roots;\r\n  \r\n        this._loadTreeNodeContentComponent();\r\n    \r\n        // Fire event:\r\n        if (this.firstUpdate) {\r\n            if (this.roots) {\r\n                this.fireEvent({ eventName: TREE_EVENTS.onInitialized });\r\n                this.firstUpdate = false;\r\n            }\r\n        } else {\r\n            this.fireEvent({ eventName: TREE_EVENTS.onUpdateData });\r\n        }\r\n    }\r\n\r\n    //Used for code test\r\n    addStaticTreeNode(){\r\n        this.createAndAddTreeNode({        \r\n            id: 1,\r\n            name: 'root1',\r\n            subTitle: 'the root',\r\n            type: 'type1'\r\n        },this.focusedNode);\r\n    }\r\n\r\n    createAndAddTreeNode(data, parentNode: TreeNode, index?){\r\n        const createdNode = this.createTreeNode(data, parentNode);\r\n        this.addTreeNode(createdNode, parentNode, index);\r\n    }\r\n\r\n    createTreeNode(data, parent: TreeNode): TreeNode{\r\n        let createdNode =  new TreeNode(data, parent, this);\r\n        return createdNode;\r\n    }\r\n    \r\n    addTreeNode(addedNode: TreeNode, parentNode: TreeNode, index?){\r\n        if (addedNode == null) {\r\n            return;\r\n        }\r\n\r\n        if (parentNode == null) {// å¢å é¡¶çº§æ èç¹ï¼æ²¡æç¶èç¹çæ èç¹ï¼\r\n            this.roots.push(addedNode);\r\n        } else {\r\n            if (index === null || index === undefined) {\r\n                parentNode.childrenField.push(addedNode);\r\n            } else {\r\n                parentNode.childrenField.splice(index, 0, addedNode);\r\n            }\r\n        }\r\n\r\n        this.update(this.roots);\r\n\r\n        this.fireEvent({ eventName: TREE_EVENTS.onAddNode, addedNode, parentNode});\r\n    }\r\n\r\n    removeFocusedTreeNode(){\r\n        this.removeTreeNode(this.focusedNode);\r\n    }\r\n    \r\n    //ç§»é¤éä¸­çå·²ç¥èç¹\r\n    removeTreeNode(selectedTreeNode: TreeNode){\r\n        if(selectedTreeNode == null){\r\n            return;\r\n        }\r\n\r\n        const parent = selectedTreeNode.parent;\r\n        if(parent == null){//ç§»é¤é¡¶çº§æ èç¹ï¼æ²¡æç¶èç¹çæ èç¹ï¼\r\n            let index = this.roots.indexOf(selectedTreeNode);\r\n            this.roots.splice(index, 1);//ç§»é¤æ°ç»ä¸­æä¸æå®èç¹\r\n        }else{\r\n            if(parent.childrenField.length <= 0){\r\n                console.log(\"RemoveTreeNode Warning: it is impossible to remove element from an empty array\");\r\n                return;\r\n            }\r\n            //ç§»é¤æ°ç»ä¸­æä¸æå®èç¹\r\n            let index = parent.childrenField.indexOf(selectedTreeNode);\r\n            parent.childrenField.splice(index, 1);\r\n        }\r\n\r\n        this.update(this.roots);\r\n\r\n        this.fireEvent({ eventName: TREE_EVENTS.onRemoveNode, selectedTreeNode, parent});\r\n    }\r\n\r\n    /**\r\n     * å®ä½æå®æ èç¹\r\n     * @param needLocatedNode å¾å®ä½èç¹ \r\n     */\r\n    locateTreeNode(needLocatedNode: TreeNode){\r\n        if(needLocatedNode == null){\r\n            return;\r\n        }\r\n\r\n        let parentNode = needLocatedNode.parent;\r\n        while( parentNode != null){\r\n            parentNode.isExpanded = true;\r\n            parentNode = parentNode.parent;\r\n        }\r\n        \r\n        needLocatedNode.isActive = false;\r\n        needLocatedNode.toggleActivated();\r\n    }\r\n\r\n    /**\r\n     * éè¿IDå®ä½æ èç¹\r\n     * @param nodeID å¾æ¥æ¾å¹¶å®ä½èç¹çID\r\n     */\r\n    locateNodeByID(nodeID: string): boolean{\r\n        let node = this.searchTreeNodeByID(nodeID);\r\n        if(node == null) {\r\n            return false;\r\n        }\r\n        this.locateTreeNode(node);\r\n        return true;\r\n    }\r\n    \r\n    /**\r\n     * æ¥æ¾æå®æ èç¹\r\n     * @param nodeID å¾æ¥æ¾èç¹ID\r\n     */\r\n    searchTreeNodeByID(nodeID: string): TreeNode{\r\n        return this.searchTreeNode(this.roots, nodeID);\r\n    }\r\n\r\n    \r\n    /**\r\n     * å¨æå®éåä¸­ï¼æ ¹æ®IDæ¥æ¾æ èç¹\r\n     * @param nodes æ éå\r\n     * @param nodeID å¾æ¥æ¾èç¹ID\r\n     */\r\n    searchTreeNode(nodes: TreeNode[], nodeID: string): TreeNode{\r\n\r\n        if(nodes == null || nodes.length <= 0){\r\n            return null;\r\n        }\r\n\r\n        if(nodeID == null || nodeID.length < 0){\r\n            return null;\r\n        }\r\n\r\n        let searchedTreeNode: TreeNode = null;\r\n        \r\n        nodes.forEach(node => {\r\n            if(node.idField == nodeID){ //åå½\r\n                searchedTreeNode = node;\r\n                return;\r\n            }\r\n\r\n            if(node.childrenField == null || node.childrenField.length < 0){ //åå½\r\n                return;\r\n            }\r\n\r\n            const searchedNodeInChildren = this.searchTreeNode(node.childrenField, nodeID);//éæ¨\r\n            if(searchedNodeInChildren != null){\r\n                searchedTreeNode = searchedNodeInChildren;\r\n            }\r\n            return;//åå½\r\n        });\r\n\r\n        return searchedTreeNode; //è¿å\r\n    }\r\n    \r\n    private _treeNodeContentComponent:any;\r\n    get treeNodeContentComponent() { return this._treeNodeContentComponent };\r\n    // if treeNodeTemplate is a component - use it,\r\n    // otherwise - it's a template, so wrap it with an AdHoc component\r\n    _loadTreeNodeContentComponent() {\r\n        this._treeNodeContentComponent = this.options.treeNodeTemplate;\r\n        if (typeof this._treeNodeContentComponent === 'string') {\r\n        // this._treeNodeContentComponent = this._createAdHocComponent(this._treeNodeContentComponent);\r\n        }\r\n    }\r\n\r\n    // _createAdHocComponent(templateStr) {\r\n    //     @Component({\r\n    //         selector: 'TreeNodeTemplate',\r\n    //         template: templateStr\r\n    //     })\r\n    //     class AdHocTreeNodeTemplateComponent {\r\n    //         @Input() node: TreeNode;\r\n    //     }\r\n    //     return AdHocTreeNodeTemplateComponent;\r\n    // }\r\n\r\n    get isFocused()\r\n    {\r\n        return TreeModel.focusedTree === this;\r\n    }\r\n    setFocus(value){\r\n        TreeModel.focusedTree = value ? this : null;\r\n    }\r\n    getFirstRoot(){\r\n        return first(this.roots);\r\n    }\r\n    getLastRoot(){\r\n        return last(this.roots);\r\n    }\r\n    focusNextNode() {\r\n        let previousNode = this.focusedNode;\r\n        let nextNode = previousNode ? previousNode.findNextNode() : this.getFirstRoot();\r\n        nextNode && nextNode.focus() // Short-circuit evaluation\r\n    }\r\n\r\n    focusPreviousNode() {\r\n        let previousNode = this.focusedNode;\r\n        let nextNode = previousNode ? previousNode.findPreviousNode() : this.getLastRoot();\r\n        nextNode && nextNode.focus();\r\n    }\r\n\r\n    focusDrillUp(){\r\n        let previousNode = this.focusedNode;\r\n        let nextNode = previousNode && previousNode.realParent;\r\n        nextNode && nextNode.focus();\r\n    }\r\n\r\n    focusDrillDown() {\r\n        let previousNode = this.focusedNode;\r\n        let nextNode = previousNode && previousNode.getFirstChild();\r\n        nextNode && nextNode.focus();\r\n    }\r\n\r\n    fireEvent(event) {\r\n        // https://stackoverflow.com/questions/35840576/differencse-between-eventemitter-next-and-eventemitter-emit-in-angular-2\r\n        //  abandon next() function, begin to use emit() function\r\n        // this.events[event.eventName].next(event);\r\n        // this.events[event.eventName].emit(event,alert(event.eventName));//åå°äºä»¶ï¼å¹¶ä¼ éäºä»¶çå¯¹è±¡\r\n        this.events[event.eventName].emit(event);\r\n\r\n    }\r\n\r\n    /**\r\n     * å¤æ­æ¯å¦æ§è¡ç§»å¨èç¹æä½ï¼å¯ä»¥ç§»å¨è¿åtrueï¼å¦åè¿åfalse\r\n     * @param param0 param0.from å¾ç§»å¨èç¹çåæç¶èç¹\r\n     *               param0.to å¾ç§»å¨èç¹çæ°ç¶èç¹\r\n     */\r\n    canMoveNode({ from, to }) {\r\n        // same node\r\n        if (from.parentNode === to.parentNode && from.index === to.index) {\r\n          return false;\r\n        }\r\n    \r\n        const fromChildren = from.parentNode.children;\r\n        const fromNode = fromChildren[from.index];\r\n        \r\n        return !to.parentNode.isDescendantOf(fromNode);\r\n    }\r\n\r\n    /**\r\n     * ç§»å¨èç¹\r\n     * @param param0 param0.from å¾ç§»å¨èç¹çåæç¶èç¹\r\n     *               param0.to å¾ç§»å¨èç¹çæ°ç¶èç¹\r\n     */\r\n    moveNode({ from, to }) {\r\n        if (!this.canMoveNode({ from , to })) return;\r\n    \r\n        const fromChildren = from.parentNode.childrenField;\r\n    \r\n        // If node doesn't have children - create children array\r\n        if (!to.parentNode.childrenField) {\r\n          to.parentNode.childrenField = [];\r\n        }\r\n        const toChildren = to.parentNode.childrenField;\r\n        \r\n        // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/splice\r\n        // The splice() method changes the contents of an array by removing existing elements and/or adding new elements.\r\n        const node = fromChildren.splice(from.index, 1)[0];\r\n    \r\n        // Compensate for index if already removed from parent:\r\n        let toIndex = (from.parentNode === to.parentNode && to.index > from.index) ? to.index - 1 : to.index;\r\n    \r\n        toChildren.splice(toIndex, 0, node);\r\n\r\n        // console.log(\"toChildren:\" + toChildren);\r\n\r\n        // console.log(\"AfterMoveNode:\" + this.roots);\r\n    \r\n        this.update(this.roots);// å®ç°node movedåï¼éæ°å·æ°è¿æ£µæ \r\n    \r\n        this.fireEvent({ eventName: TREE_EVENTS.onMoveNode, node, to });\r\n    }\r\n    \r\n    // TODO: move to a different service:\r\n    setDragNode(dragNode:{ parentNode: TreeNode, index: number }) {\r\n        this._dragNode = dragNode;\r\n    }\r\n    \r\n    getDragNode():{ parentNode: TreeNode, index:number } {\r\n        return this._dragNode || { parentNode: null, index: null };\r\n    }\r\n    \r\n    isDragging() {\r\n        return this.getDragNode().parentNode;\r\n    }\r\n    \r\n    setDropLocation(dropLocation: { component: any, parentNode: TreeNode, index: number }) {\r\n        this._dropLocation = dropLocation;\r\n    }\r\n    \r\n    getDropLocation(): { component: any, parentNode: TreeNode, index: number } {\r\n        return this._dropLocation || {component: null, parentNode: null, index: null};\r\n    }\r\n    \r\n    isDraggingOver(component) {\r\n        return this.getDropLocation().component === component;\r\n    }\r\n    \r\n    cancelDrag() {\r\n        this.setDropLocation(null);\r\n        this.setDragNode(null);\r\n    }\r\n}","// keys used in the angular tree component\r\nexport const KEYS = {\r\n    LEFT: 37,\r\n    UP: 38,\r\n    RIGHT: 39,\r\n    DOWN: 40,\r\n    ENTER: 13,\r\n    SPACE: 32\r\n}","import { Component, OnChanges, Input, Output, EventEmitter, HostListener } from '@angular/core';\r\nimport { TreeModel } from '../../models/tree-model';\r\nimport { TreeOptions } from '../../models/tree-options';\r\nimport { KEYS } from '../../constants/keys';\r\nimport { pick, includes } from 'lodash-es';//å°lodashå®è£å°node-modulesä¸­ï¼å®ç°æéå¼å¥\r\nimport { TreeNode } from '../../models/tree-node';\r\n\r\n//çº¦å®ä½¿ç¨ä¸åçº¿è¡¨ç¤ºlodashï¼å°±åç¨$è¡¨ç¤ºjQueryä¸æ ·\r\n//1.requireå³é®å­ä¸è¢«è¯å«ï¼\r\n// https://stackoverflow.com/questions/31173738/typescript-getting-error-ts2304-cannot-find-name-require\r\n// declare var require: any\r\n// const _ = require('lodash');\r\n//2.å®è£lodashçesçæ¬ï¼\r\n// (1) $>npm i lodash-es\r\n// (2) $>npm install --save @types/lodash\r\n@Component({\r\n  selector: 'ng2tree',\r\n  templateUrl: './tree.component.html',\r\n  styleUrls: ['./tree.component.css'],\r\n  providers:[\r\n    TreeModel\r\n  ]\r\n})\r\nexport class TreeComponent implements OnChanges {\r\n    // delegating to TreeModel service:\r\n    _nodes:any[];\r\n    @Input() set nodes(nodes:any[]) { };\r\n    _options:TreeOptions;\r\n    @Input() set options(options:TreeOptions) { };\r\n    \r\n    @Input() set focused(value:boolean) {\r\n      this.treeModel.setFocus(value);\r\n      // alert('focused on the tree');\r\n    }\r\n\r\n    @Output() onToggle;\r\n    @Output() onActiveChanged;\r\n    @Output() onActivate;\r\n    @Output() onDeactivate;\r\n    @Output() onFocus;\r\n    @Output() onBlur;\r\n    @Output() onDoubleClick;\r\n    @Output() onContextMenu;\r\n    @Output() onRightMenuClicked;\r\n  \r\n    constructor(public treeModel:TreeModel) { \r\n      treeModel.eventNames.forEach((name) => this[name] = new EventEmitter());//customEventName -> new EventEmitter()\r\n    }\r\n\r\n    ngOnChanges(changes) {\r\n      this.treeModel.setData({\r\n          nodes: changes.nodes && changes.nodes.currentValue,\r\n          options: changes.options && changes.options.currentValue,\r\n          events: pick(this, this.treeModel.eventNames)\r\n      });\r\n    }\r\n    // ä¼åä½¿ç¨HostListenerè£é¥°å¨ç»å®äºä»¶ï¼èä¸æ¯ä½¿ç¨DirectiveæComponentçhoståæ°æ®\r\n    // When binding events to Directive or Component, Angular suggests to prefer to HostListener decorator, \r\n    // rather than host metadata.\r\n    @HostListener('body: keydown', ['$event']) onKeydown($event) {\r\n      // alert('Pressed a key');\r\n      let focusedNode = this.treeModel.focusedNode;\r\n\r\n      if (!this.treeModel.isFocused) {\r\n        return;\r\n      }\r\n\r\n      if (includes([KEYS.DOWN, KEYS.UP, KEYS.LEFT,\r\n        KEYS.RIGHT, KEYS.ENTER, KEYS.SPACE], $event.keyCode)) {\r\n        $event.preventDefault();//åæ¶äºä»¶çé»è®¤å¨ä½ï¼å®ç°ä»å¯¹includesé®ååº\r\n      }\r\n  \r\n      switch ($event.keyCode) {\r\n        case KEYS.DOWN:\r\n          return this.treeModel.focusNextNode();\r\n  \r\n        case KEYS.UP:\r\n          return this.treeModel.focusPreviousNode();\r\n  \r\n        case KEYS.LEFT:\r\n          // alert('Focus Drill Up');\r\n          if (focusedNode.isExpanded) {\r\n            focusedNode.toggle();\r\n          }\r\n          else {\r\n            this.treeModel.focusDrillUp();\r\n          }\r\n          return;\r\n  \r\n        case KEYS.RIGHT:\r\n          // alert('Focus Drill Down');\r\n          if (focusedNode.isCollapsed) {\r\n            focusedNode.toggle();\r\n          }\r\n          else {\r\n            this.treeModel.focusDrillDown();\r\n          }\r\n          return;\r\n  \r\n        case KEYS.ENTER:\r\n        case KEYS.SPACE:\r\n          // alert('Enter or Space key.');\r\n          return focusedNode && focusedNode.toggleActivated();\r\n      }\r\n    }\r\n\r\n    @HostListener('body: mousedown', ['$event'])  onMousedown($event) {\r\n      // alert('click');\r\n      let insideClick = $event.target.closest('ng2tree');//å¤æ­å½ådomæ ä¸ä¸æä¸­æ¯å¦åå«æ ç»ä»¶\r\n      if (!insideClick) {\r\n        this.treeModel.setFocus(false);\r\n      }\r\n    }\r\n\r\n    searchAndLocationNodeById(elementId) {\r\n      // console.log('succeeded to search and location Node By Id in treeComponent:', elementId);\r\n      this.treeModel.locateNodeByID(elementId);\r\n    }\r\n\r\n    searchNodeById(elementId): TreeNode {\r\n      // console.log('succeeded to search and location Node By Id in treeComponent:', elementId);\r\n      return this.treeModel.searchTreeNodeByID(elementId);\r\n    }\r\n}","import { Directive, ViewContainerRef } from '@angular/core';\r\n\r\n// å®ä¹è¾å©æä»¤TreeNodeContentï¼ç¨æ¥å¨æ¨¡æ¿ä¸­æ è®°æå¥ç¹\r\n@Directive({\r\n  selector: '[treeNodeContent-host]'\r\n})\r\n\r\nexport class TreeNodeContentDirective {\r\n\r\n  // ä¾èµæ³¨å¥ViewContainerRefï¼è·åå¯¹å®¹å¨è§å¾çè®¿é®æé\r\n  constructor(public viewContainerRef: ViewContainerRef) {\r\n\r\n  }\r\n}","import { Type } from '@angular/core';\r\n\r\nexport class TreeNodeContentItem {\r\n    constructor(public component: Type<any>, public displayData:any) {}\r\n}","import { Component, Input, Output, EventEmitter, OnInit, ComponentFactoryResolver, ViewContainerRef, ViewChild } from '@angular/core';\r\nimport { ITreeNodeContent } from './ITreeNodeContent';\r\n\r\n@Component({\r\n  selector: 'ng2tree-node-content',\r\n  templateUrl: './tree-node-content.component.html',\r\n  styleUrls: ['./tree-node-content.component.css']\r\n})\r\nexport class TreeNodeContentComponent implements ITreeNodeContent, OnInit {\r\n\r\n  @Input() displayData: any;\r\n  @Input() originData: any;\r\n  @Output() rightMenuClicked = new EventEmitter<any>();\r\n\r\n  @ViewChild('rightMenuContainer', { read: ViewContainerRef }) rightMenuContainer: ViewContainerRef;\r\n  constructor(private componentFactoryResolver: ComponentFactoryResolver) {\r\n\r\n  }\r\n  ngOnInit() {\r\n    // å³é®èåç¸å³\r\n    this.rightMenuContainer.clear();\r\n    if (this.originData.hasRightClickMenu) {\r\n      const componentFactory = this.componentFactoryResolver.resolveComponentFactory(this.originData.rightClickMenuComponent);\r\n      const componentRef = this.rightMenuContainer.createComponent(componentFactory);\r\n      componentRef.instance['nodeData'] = this.originData;\r\n      componentRef.instance['rightMenuClicked'].subscribe((event) => {\r\n        this.rightMenuClicked.emit(event);\r\n      });\r\n    }\r\n  }\r\n}\r\n","import { Component, ViewChild, OnInit, Input, ComponentFactoryResolver, ViewContainerRef, ComponentRef } from '@angular/core';\r\nimport { TreeNode } from '../../models/tree-node';\r\nimport { TreeNodeContentDirective } from '../../directives/tree-node-content.directive';\r\nimport { TreeNodeContentItem } from '../../models/tree-node-content-item';\r\nimport { TreeNodeContentComponent } from '../tree-node-content/tree-node-content.component';\r\n\r\n@Component({\r\n  selector: 'ng2tree-node',\r\n  templateUrl: './tree-node.component.html',\r\n  styleUrls: ['./tree-node.component.css']\r\n})\r\nexport class TreeNodeComponent implements OnInit {\r\n\r\n  @Input() node: TreeNode;\r\n  @Input() nodeIndex: number;\r\n\r\n  // èç¹åå®¹ç»ä»¶å®ä¾\r\n  componentRef: ComponentRef<TreeNodeContentComponent>;\r\n\r\n  // TODO: move to draggable directive\r\n  onDragStart($event) {\r\n    // è®¾ç½®DragNode: éæ©dragNodeçç¶èç¹ä½ä¸ºDragNodeï¼éè¿indexå®ä½å°æå®çèç¹\r\n    setTimeout(() => this.node.treeModel.setDragNode({ parentNode: this.node.parent, index: this.nodeIndex }), 30);\r\n  }\r\n\r\n  onDragEnd() {\r\n    this.node.treeModel.setDragNode(null);\r\n  }\r\n\r\n  onDragOver($event) {\r\n    $event.preventDefault();\r\n    this.node.treeModel.setDropLocation({ component: this, parentNode: this.node, index: 0 });\r\n  }\r\n\r\n  onDrop($event) {\r\n    $event.preventDefault();\r\n    // this.node.mouseAction('drop', $event, { node: this.node, index: 0 });\r\n    this.node.treeModel.setFocus(true);\r\n    this.node.dropMouseAction($event,{ parentNode: this.node, index: 0 });\r\n    console.log(\"onDrop: tree-node-component\");\r\n  }\r\n\r\n  onDragLeave(nodeContentWrapper, $event) {\r\n    if (!this.node.treeModel.isDraggingOver(this)) {\r\n      return;\r\n    }\r\n    \r\n    const rect = nodeContentWrapper.getBoundingClientRect();\r\n\r\n    // If outside the element\r\n    if ($event.clientX < rect.left || $event.clientX > rect.right ||\r\n        $event.clientY < rect.top || $event.clientY > rect.bottom) {\r\n\r\n      this.node.treeModel.setDropLocation(null);\r\n    }\r\n  }\r\n\r\n  // ViewChild æ¯å±æ§è£é¥°å¨ï¼ç¨æ¥ä»æ¨¡æ¿è§å¾ä¸­è·åå¹éçåç´ \r\n  @ViewChild(TreeNodeContentDirective) treeNodeContentHost: TreeNodeContentDirective;\r\n\r\n  constructor(private componentFactoryResolver: ComponentFactoryResolver,\r\n    viewContainerRef: ViewContainerRef) {\r\n      \r\n  }\r\n\r\n  ngOnInit() {\r\n    this._loadTreeNodeContent();\r\n\r\n    // è§¦ååæ´æ èç¹å±ç¤ºææ¬\r\n    this.node.changeDisplayField.subscribe(name => {\r\n      if (this.componentRef) {\r\n        this.componentRef.instance.displayData = name;\r\n      }\r\n    });\r\n  }\r\n\r\n  ngOnChanges() {\r\n\r\n  }\r\n\r\n  // è§£å³ä½¿ç¨å¨æç»ä»¶åºç°ExpressionChangedAfterItHasBeenCheckedErroré®é¢ï¼\r\n  // https://github.com/angular/angular/issues/17572\r\n  _loadTreeNodeContent() {\r\n\r\n    // ä½¿ç¨Itemä»é»è¾ä¸å°TreeNodeContentComponentådataå³èèµ·æ¥\r\n    let treeNodeContentItem: TreeNodeContentItem = new TreeNodeContentItem(\r\n      TreeNodeContentComponent,this.node.displayField);\r\n    \r\n    // ä½¿ç¨ ComponentFactoryResolver æ¥ä¸ºæ¯ä¸ªå·ä½çç»ä»¶è§£æåºä¸ä¸ª ComponentFactory \r\n    // ç¶å ComponentFactory ä¼ä¸ºæ¯ä¸ä¸ªç»ä»¶åå»ºä¸ä¸ªå®ä¾\r\n    let componentFactory = this.componentFactoryResolver.resolveComponentFactory(treeNodeContentItem.component);\r\n\r\n    let viewContainerRef = this.treeNodeContentHost.viewContainerRef;\r\n    viewContainerRef.clear();\r\n\r\n    this.componentRef = viewContainerRef.createComponent(componentFactory);\r\n\r\n    this.componentRef.instance.displayData = treeNodeContentItem.displayData; // ä¼ å¥æ°æ®\r\n    this.componentRef.instance.originData = this.node.data;\r\n    this.componentRef.instance.rightMenuClicked.subscribe(event => {\r\n      this.node.rightMenuClicked(event);\r\n    });\r\n\r\n  }\r\n\r\n}\r\n","import { Component, Input } from '@angular/core';\r\nimport { TreeNode } from '../../models/tree-node';\r\n\r\n@Component({\r\n  selector: 'ng2tree-node-drop-slot',\r\n  templateUrl: './tree-node-drop-slot.component.html',\r\n  styleUrls: ['./tree-node-drop-slot.component.css']\r\n})\r\nexport class TreeNodeDropSlotComponent {\r\n\r\n  @Input() node: TreeNode;\r\n  @Input() dropIndex: number;\r\n\r\n  onDragOver($event) {\r\n    $event.preventDefault();\r\n    this.node.treeModel.setDropLocation({ component: this, parentNode: this.node, index: this.dropIndex });\r\n  }\r\n\r\n  onDragLeave() {\r\n    if (this.node.treeModel.isDraggingOver(this)) {\r\n      this.node.treeModel.setDropLocation(null);\r\n    }\r\n  }\r\n\r\n  onDrop($event) {\r\n    $event.preventDefault();\r\n    // this.node.mouseAction('drop', $event, { node: this.node, index: this.dropIndex });\r\n    console.log('onDropEvent: tree-node-drop-slot');\r\n    this.node.dropMouseAction($event, {parentNode: this.node, index: this.dropIndex });\r\n  }\r\n\r\n}\r\n","import { CommonModule } from '@angular/common';\r\nimport { NgModule } from '@angular/core';\r\n\r\nimport { TreeComponent } from './components/tree/tree.component';\r\nimport { TreeNodeComponent } from './components/tree-node/tree-node.component';\r\nimport { TreeNodeContentComponent } from './components/tree-node-content/tree-node-content.component';\r\nimport { TreeNodeContentDirective } from './directives/tree-node-content.directive';\r\nimport { TreeNodeDropSlotComponent } from './components/tree-node-drop-slot/tree-node-drop-slot.component';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    TreeComponent,\r\n    TreeNodeComponent,\r\n    TreeNodeContentComponent,\r\n    TreeNodeContentDirective,\r\n    TreeNodeDropSlotComponent\r\n  ],\r\n  imports: [\r\n    CommonModule\r\n  ],\r\n  providers: [\r\n  ],\r\n  entryComponents: [\r\n    TreeNodeContentComponent\r\n  ],\r\n  exports:[\r\n    TreeComponent,\r\n    TreeNodeComponent,\r\n    TreeNodeContentComponent,\r\n    TreeNodeContentDirective,\r\n    TreeNodeDropSlotComponent\r\n  ]\r\n})\r\nexport class TreeModule { }","import { InjectionToken } from '@angular/core';\r\n\r\n// injectionTokenä½ç¨è¯´æ\r\n// https://segmentfault.com/a/1190000008626348\r\nexport const ANGULAR_MONACO_EDITOR_CONFIG = new InjectionToken('ANGULAR_MONACO_EDITOR_CONFIG');\r\n\r\nexport interface AngularMonacoEditorConfig {\r\n  baseUrl?: string;\r\n  defaultOptions?: { [key: string]: any; };\r\n  onMonacoLoad?: Function;\r\n}\r\n","export const CODE_EDITOR_EVENTS = {\r\n    onInit: 'onInit'\r\n};\r\n","import { Injectable } from '@angular/core';\r\n\r\nimport { assign } from 'lodash-es';\r\n\r\nimport { CODE_EDITOR_EVENTS } from '../constant/events';\r\n\r\n@Injectable()\r\nexport class CodeEditorEventService {\r\n    public eventNames = Object.keys(CODE_EDITOR_EVENTS);\r\n    private _events: any = {}; // ä½¿ç¨äºä»¶\r\n\r\n    /**\r\n     * è®¾ç½®å¯ç¨äºä»¶\r\n     * @param  äºä»¶\r\n     */\r\n    addEvent(event) {\r\n        assign(this._events, event);\r\n        // console.log(this.events);\r\n    }\r\n\r\n    fireEvent(event) {\r\n        this._events[event.eventName].emit(event);\r\n        // console.log(\"Emit Event:\" + event);\r\n    }\r\n}\r\n","import { AfterViewInit, ElementRef, Input, OnDestroy, Output, ViewChild, EventEmitter } from '@angular/core';\r\nimport { Subscription } from 'rxjs';\r\n\r\nimport { pick } from 'lodash-es';\r\n\r\nimport { AngularMonacoEditorConfig } from './config';\r\nimport { CodeEditorEventService } from '../service/code-editor.event.service';\r\n\r\nlet loadedMonaco = false;\r\nlet loadPromise: Promise<void>;\r\n\r\nexport abstract class BaseMonacoEditor implements AfterViewInit, OnDestroy {\r\n\r\n  protected _editor: any;\r\n  private _options: any;\r\n  protected _windowResizeSubscription: Subscription;\r\n\r\n  @ViewChild('codeEditor') _editorComponent: ElementRef; // å¨ææ·»å ä»£ç ç¼è¾å¨\r\n\r\n  // tslint:disable-next-line:no-output-on-prefix\r\n  @Output() onInit;\r\n\r\n  @Input('options')\r\n  set options(options: any) {\r\n    // é»è®¤options(this.config.defaultOptions) + èªå®ä¹options(options)\r\n    this._options = Object.assign({}, this.config.defaultOptions, options);\r\n    if (this._editor) {\r\n      this._editor.dispose();\r\n      this.initMonaco(options);\r\n    }\r\n  }\r\n  get options(): any {\r\n    return this._options;\r\n  }\r\n\r\n  constructor(private codeEditorEventService: CodeEditorEventService, private config: AngularMonacoEditorConfig) {\r\n        // åå§åèªå®ä¹äºä»¶\r\n        const self = this;\r\n        codeEditorEventService.eventNames.forEach((name) => {\r\n          // åå»ºèªå®ä¹äºä»¶ï¼æ­¤å¤ä½ç¨ç­æäº: @Output() onInit = new EventEmitter<any>()\r\n          self[name] = new EventEmitter<any>();\r\n          const eventPair = pick(self, name);\r\n          codeEditorEventService.addEvent(eventPair);\r\n        });\r\n  }\r\n\r\n  ngAfterViewInit(): void {\r\n    if (loadedMonaco) {\r\n      // Wait until monaco editor is available\r\n      loadPromise.then(() => {\r\n        this.initMonaco(this.options);\r\n      });\r\n    } else {\r\n      loadedMonaco = true;\r\n      loadPromise = new Promise<void>((resolve: any) => {\r\n        const baseUrl = this.config.baseUrl || '/assets';\r\n        // if (typeof((<any>window).monaco) === 'object') {\r\n        //   resolve();\r\n        //   return;\r\n        // }\r\n        const onGotAmdLoader: any = () => {\r\n          // Load monaco\r\n          (<any>window).require.config({ paths: { 'vs': `${baseUrl}/monaco/vs` } });\r\n          (<any>window).require(['vs/editor/editor.main'], () => {\r\n            if (typeof this.config.onMonacoLoad === 'function') {\r\n              this.config.onMonacoLoad();\r\n            }\r\n            this.initMonaco(this.options);\r\n            resolve();\r\n          });\r\n        };\r\n\r\n        // Load AMD loader if necessary\r\n        if (!(<any>window).require) {\r\n          const loaderScript: HTMLScriptElement = document.createElement('script');\r\n          loaderScript.type = 'text/javascript';\r\n          loaderScript.src = `${baseUrl}/monaco/vs/loader.js`;\r\n          loaderScript.addEventListener('load', onGotAmdLoader);\r\n          document.body.appendChild(loaderScript);\r\n        } else {\r\n          onGotAmdLoader();\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  // Monaco Editor Initializer\r\n  protected abstract initMonaco(options: any): void ;\r\n\r\n  ngOnDestroy() {\r\n    if (this._windowResizeSubscription) {\r\n      this._windowResizeSubscription.unsubscribe();\r\n    }\r\n\r\n    if (this._editor) {\r\n      this._editor.dispose();\r\n      this._editor = undefined;\r\n    }\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\n\r\ndeclare const monaco: any;\r\n\r\n// Angular Monaco Editor Component Variables\r\n// æ±æ»Angular monaco editor component ç»ä»¶æ´é²çåé\r\n@Injectable()\r\nexport class AngularMonacoEditorService {\r\n\r\n    private _existError = false;//é»è®¤æ²¡æéè¯¯\r\n    get existError() {\r\n        return this._existError;\r\n    }\r\n\r\n    handleModelMarkers() {\r\n        var self = this;\r\n        // https://github.com/Microsoft/monaco-editor/issues/30\r\n        const setModelMarkers = monaco.editor.setModelMarkers;\r\n        monaco.editor.setModelMarkers = function (model, owner, markers) {\r\n            setModelMarkers.call(monaco.editor, model, owner, markers);\r\n            if (markers.length === 0) {\r\n                // there are no errors(synx error and validate error)\r\n                // console.log('continue');\r\n            } else {\r\n                // there are errors\r\n                self._existError = true;\r\n            }\r\n        };\r\n    }\r\n}\r\n","import { Component, Input, Output } from '@angular/core';\r\nimport { forwardRef, Inject, NgZone } from '@angular/core';\r\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\r\nimport { fromEvent } from 'rxjs/observable/fromEvent';\r\n\r\nimport { ANGULAR_MONACO_EDITOR_CONFIG, AngularMonacoEditorConfig } from '../model/config';\r\nimport { CodeEditorEventService } from '../service/code-editor.event.service';\r\nimport { CODE_EDITOR_EVENTS } from '../constant/events';\r\nimport { AngularEditorModel } from '../model/types';\r\nimport { BaseMonacoEditor } from '../model/base-monaco-editor';\r\nimport { AngularMonacoEditorService } from '../service/angular-monaco-editor.service';\r\n\r\ndeclare const monaco: any;\r\n\r\n// èªå®ä¹è¾å¥æ§ä»¶:1.å°è£ControlValueAccessor\r\n// https://code-examples.net/zh-CN/q/2154761\r\nexport const CODE_EDITOR_INPUT_VALUE_ACCESSOR: any = {\r\n  // https://blog.csdn.net/wangdan_2013/article/details/81314959\r\n  provide: NG_VALUE_ACCESSOR,\r\n  useExisting: forwardRef(() => AngularMonacoEditorComponent),\r\n  multi: true\r\n};\r\n\r\n@Component({\r\n  // tslint:disable-next-line:component-selector\r\n  selector: 'angular-monaco-editor',\r\n  templateUrl: './angular-monaco-editor.component.html',\r\n  styleUrls: ['./angular-monaco-editor.component.css'],\r\n  // èªå®ä¹è¾å¥æ§ä»¶:2.å¼å¥ä¾èµæå¡ControlValueAccessor\r\n  providers: [\r\n    CODE_EDITOR_INPUT_VALUE_ACCESSOR,\r\n    CodeEditorEventService,\r\n    AngularMonacoEditorService\r\n  ]\r\n})\r\n\r\n// èªå®ä¹è¾å¥æ§ä»¶ <-> Monaco Edtor\r\n\r\n// èªå®ä¹è¾å¥æ§ä»¶:3.1 implements ControlValueAccessor\r\nexport class AngularMonacoEditorComponent extends BaseMonacoEditor implements ControlValueAccessor {\r\n\r\n  @Input('model')\r\n  set model(model: AngularEditorModel) {\r\n    this.options.model = model;\r\n    if (this._editor) {\r\n      this._editor.dispose();\r\n      this.initMonaco(this.options);\r\n    }\r\n  }\r\n\r\n  private _value = '';\r\n\r\n  // tslint:disable-next-line:max-line-length\r\n  constructor(private angularMonacoEditorService: AngularMonacoEditorService,\r\n    private zone: NgZone,\r\n    private editorEventService: CodeEditorEventService,\r\n    @Inject(ANGULAR_MONACO_EDITOR_CONFIG) private angularEditorconfig: AngularMonacoEditorConfig) {\r\n    super(editorEventService, angularEditorconfig);\r\n  }\r\n\r\n  // todo: æåoptionså¬å±ç±»\r\n  protected initMonaco(options: any): void {\r\n    const enableModel = !!options.model;\r\n    if (enableModel) {\r\n      const searchedModel = monaco.editor.getModel(options.model.uri);\r\n      if (null !== searchedModel) {\r\n        searchedModel.dispose();\r\n      }\r\n\r\n      options.model = monaco.editor.createModel(options.model.value, options.model.language, options.model.uri);\r\n    }\r\n\r\n    this._editor = monaco.editor.create(this._editorComponent.nativeElement, options);\r\n\r\n    if (!enableModel) {\r\n      this._editor.setValue(this._value);\r\n    }\r\n    \r\n    if (enableModel) {\r\n      this.angularMonacoEditorService.handleModelMarkers();\r\n    }\r\n\r\n    // monaco editor -> outside component\r\n    this._editor.onDidChangeModelContent((e: any) => this.onChangeModelContentHandler(e));\r\n\r\n    this._editor.onDidBlurEditorText((e: any) => this.onBlurEditorTextHandler(e));\r\n\r\n    this._editor.onDidLayoutChange((e: any) => this.onLayoutChangeHandler(e));\r\n\r\n    // refresh layout on resize event.\r\n    this.refreshLayoutWhenWindowResize();\r\n\r\n    this.editorEventService.fireEvent({\r\n      eventName: CODE_EDITOR_EVENTS.onInit,\r\n      target: this,\r\n      editor: this._editor\r\n    });\r\n  }\r\n\r\n  /**\r\n   * refresh layout when resized the window\r\n   */\r\n  refreshLayoutWhenWindowResize() {\r\n    if (this._windowResizeSubscription) {\r\n      this._windowResizeSubscription.unsubscribe();\r\n    }\r\n    // fromEventç¨äºå¼å¬äºä»¶ï¼äºä»¶è§¦åæ¶ï¼å°äºä»¶eventè½¬æå¯æµå¨çObservableè¿è¡ä¼ è¾\r\n    // https://www.jianshu.com/p/46894deb870a\r\n    this._windowResizeSubscription = fromEvent(window, 'resize').subscribe(() => this._editor.layout());\r\n  }\r\n\r\n  onChangeModelContentHandler(e) {\r\n    const _value = this._editor.getValue();\r\n\r\n    // monaco editor -> outside component\r\n    // https://github.com/JTangming/tm/issues/4 ngZoneè¯¦è§£\r\n    this.zone.run(() => this.value = _value); // value is not propagated to parent when executing outside zone.\r\n  }\r\n\r\n  onBlurEditorTextHandler(e) {\r\n\r\n    this.onControlTouched();\r\n  }\r\n\r\n  onLayoutChangeHandler(e) {\r\n    console.log('Layout changed:\\n' + e);\r\n  }\r\n\r\n  // get accessor\r\n  get value(): any {\r\n    return this._value;\r\n  }\r\n\r\n  // set accessor including call the onchange callback\r\n  set value(v: any) {\r\n    if (v !== this.value) {// æ³¨æè¿ç§åæ³ï¼å¼å¾å­¦ä¹ \r\n      this._value = v;\r\n    }\r\n\r\n    this.onControlValueChange(this.value); // å¨å±æ§ä¿®é¥°å¨éè°ç¨onControlValueChangeæ¹æ³\r\n  }\r\n\r\n  // èªå®ä¹è¾å¥æ§ä»¶:3.2 implements ControlValueAccesso\r\n\r\n  // outside component -> monaco editor\r\n\r\n  // From ControlValueAccessor interface\r\n  writeValue(value: any) {\r\n    const self = this;\r\n    self.value = value || '';\r\n\r\n    // Fix for value change while dispose in process.\r\n    setTimeout(() => {\r\n      if (self._editor /*&& !this.options.model*/) {\r\n        self._editor.setValue(self._value);\r\n      }\r\n    });\r\n  }\r\n\r\n  // From ControlValueAccessor interface\r\n  registerOnChange(fn: any) {\r\n    this.onControlValueChange = fn;\r\n  }\r\n\r\n  // From ControlValueAccessor interface\r\n  registerOnTouched(fn: any) {\r\n    this.onControlTouched = fn;\r\n  }\r\n\r\n  // ControlValueAccessoræä¾çäºä»¶åè°\r\n  onControlValueChange = (_: any) => {\r\n  }\r\n\r\n  // ControlValueAccessoræä¾çäºä»¶åè°\r\n  onControlTouched = () => {\r\n  }\r\n\r\n}\r\n","import { CommonModule } from '@angular/common';\r\n\r\nimport { ModuleWithProviders, NgModule } from '@angular/core';\r\nimport { ANGULAR_MONACO_EDITOR_CONFIG, AngularMonacoEditorConfig } from './model/config';\r\nimport { AngularMonacoEditorComponent } from './angular-monaco-editor/angular-monaco-editor.component';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule\r\n  ],\r\n  declarations: [\r\n    AngularMonacoEditorComponent\r\n  ],\r\n  exports: [\r\n    AngularMonacoEditorComponent\r\n  ],\r\n  providers: [\r\n  ]\r\n})\r\n\r\nexport class AngularMonacoEditorModule {\r\n  public static forRoot(config: AngularMonacoEditorConfig = {}): ModuleWithProviders {\r\n    return {\r\n      ngModule: AngularMonacoEditorModule,\r\n      providers: [\r\n        { provide: ANGULAR_MONACO_EDITOR_CONFIG, useValue: config }\r\n      ]\r\n    };\r\n  }\r\n}\r\n","import {Directive, EventEmitter, Input, Optional, Output, TemplateRef} from '@angular/core';\r\n// import {ShContextMenuComponent} from './sh-context-menu.component';\r\nimport {ShContextMenuClickEvent} from './sh-context-menu.models';\r\n\r\nexport class MenuItemContext {\r\n  $implicit: any;\r\n\r\n  constructor() {\r\n    this.$implicit = {};\r\n  }\r\n}\r\n\r\n@Directive({\r\n  selector: '[shContextMenuItem]'\r\n})\r\nexport class ShContextMenuItemDirective {\r\n  @Input() subMenu;\r\n  @Input() divider: boolean;\r\n  @Input() visible: (event: ShContextMenuClickEvent) => boolean;\r\n  @Input() disabled: (event: ShContextMenuClickEvent) => boolean;\r\n  @Input() closeOnClick = true;\r\n\r\n  @Output() click = new EventEmitter<ShContextMenuClickEvent>();\r\n\r\n  context: MenuItemContext = new MenuItemContext();\r\n\r\n  private _active: boolean;\r\n\r\n  constructor(@Optional() public template: TemplateRef<MenuItemContext>) {\r\n  }\r\n\r\n  setNotActive() {\r\n    this._active = false;\r\n    if (this.subMenu) {\r\n      this.subMenu.setNotActive();\r\n    }\r\n  }\r\n\r\n  setActive() {\r\n    this._active = true;\r\n  }\r\n}\r\n","import {ElementRef, Injectable, OnDestroy} from '@angular/core';\r\nimport {ShContextMenuComponent} from './sh-context-menu.component';\r\nimport {CloseScrollStrategy, Overlay} from '@angular/cdk/overlay';\r\nimport {TemplatePortal} from '@angular/cdk/portal';\r\nimport {ConnectedPositionStrategy} from '@angular/cdk/overlay/typings/position/connected-position-strategy';\r\nimport {ShContextMenuEvent, ShContextSubMenuEvent} from './sh-context-menu.models';\r\nimport {OverlayRef} from '@angular/cdk/overlay';\r\nimport {fromEvent} from 'rxjs/observable/fromEvent';\r\nimport {Subscription} from 'rxjs/Subscription';\r\n\r\n@Injectable()\r\nexport class ShContextMenuService implements OnDestroy {\r\n  activeOverlays: OverlayRef[] = [];\r\n  backDropSub: Subscription;\r\n\r\n  activeMenu: ShContextMenuComponent;\r\n\r\n  constructor(private overlay: Overlay) {\r\n  }\r\n\r\n  openMenu(ctxEvent: ShContextMenuEvent) {\r\n    this.closeCurrentOverlays();\r\n    const {menu, mouseEvent, targetElement, data} = ctxEvent;\r\n\r\n    this.activeMenu = menu;\r\n\r\n    mouseEvent.preventDefault();\r\n    mouseEvent.stopPropagation();\r\n\r\n    this.overrideGetBoundingClientRect(targetElement, mouseEvent);\r\n\r\n    const scrollStrategy = this.buildCloseScrollStrategy();\r\n    const positionStrategy = this.buildConnectedPositionStrategy(targetElement);\r\n\r\n    this.attachContextToItems(menu, data);\r\n\r\n    const overlayRef = this.createAndAttachOverlay(positionStrategy, scrollStrategy, menu, true);\r\n    this.attachOverlayRef(menu, overlayRef);\r\n\r\n    this.registerBackdropEvents(overlayRef);\r\n  }\r\n\r\n  openSubMenu(ctxEvent: ShContextSubMenuEvent): any {\r\n    const {menu, mouseEvent, targetElement, data, parentMenu} = ctxEvent;\r\n\r\n    mouseEvent.preventDefault();\r\n    mouseEvent.stopPropagation();\r\n\r\n    const scrollStrategy = this.buildCloseScrollStrategy();\r\n    const positionStrategy = this.buildConnectedPositionStrategyForSubMenu(targetElement);\r\n    const overlayRef = this.createAndAttachOverlay(positionStrategy, scrollStrategy, menu, false);\r\n\r\n    this.attachContextToItems(menu, data);\r\n    this.attachThisContext(menu, parentMenu);\r\n    this.attachOverlayRef(menu, overlayRef);\r\n  }\r\n\r\n  destroy() {\r\n    this.closeCurrentOverlays();\r\n    this.backDropSub.unsubscribe();\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.destroy();\r\n  }\r\n\r\n  closeSubMenus(menu: ShContextMenuComponent) {\r\n    const itemsWithSubMenus = menu\r\n      .menuItems\r\n      .filter(i => !!i.subMenu && !!i.subMenu.overlayRef);\r\n\r\n    if (itemsWithSubMenus.length) {\r\n      itemsWithSubMenus.forEach(sm => this.closeSubMenus(sm.subMenu));\r\n\r\n      const overlayRefs = itemsWithSubMenus\r\n        .map(i => i.subMenu.overlayRef);\r\n\r\n      overlayRefs.forEach(r => r.dispose());\r\n    }\r\n  }\r\n\r\n  private registerBackdropEvents(overlayRef: OverlayRef) {\r\n    const elm = overlayRef.backdropElement;\r\n\r\n    this.backDropSub = fromEvent(elm, 'mousedown')\r\n      .subscribe(this.closeCurrentOverlays.bind(this));\r\n  }\r\n\r\n  private createAndAttachOverlay(positionStrategy: ConnectedPositionStrategy,\r\n                                 scrollStrategy: CloseScrollStrategy,\r\n                                 menu: ShContextMenuComponent,\r\n                                 hasBackdrop: boolean = true) {\r\n\r\n    const overlayRef = this.overlay.create({\r\n      positionStrategy,\r\n      scrollStrategy,\r\n      hasBackdrop: hasBackdrop,\r\n      backdropClass: 'sh-backdrop'\r\n    });\r\n\r\n    /*\r\n     TODO: try passing the TemplatePortal context (data)\r\n     and then injecting it to the *ngTemplateOutlet in the component template\r\n    */\r\n    const menuPortal = new TemplatePortal(menu.menuTemplate, menu.menuContainer);\r\n    overlayRef.attach(menuPortal);\r\n\r\n    this.activeOverlays.push(overlayRef);\r\n\r\n    return overlayRef;\r\n  }\r\n\r\n  private buildCloseScrollStrategy() {\r\n    return this.overlay.scrollStrategies.close();\r\n  }\r\n\r\n  private buildConnectedPositionStrategy(elm: ElementRef): ConnectedPositionStrategy {\r\n    return this\r\n      .overlay\r\n      .position()\r\n      .connectedTo(elm,\r\n        {originX: 'start', originY: 'bottom'},\r\n        {overlayX: 'start', overlayY: 'top'})\r\n      .withFallbackPosition(\r\n        {originX: 'start', originY: 'top'},\r\n        {overlayX: 'start', overlayY: 'bottom'})\r\n      .withFallbackPosition(\r\n        {originX: 'end', originY: 'top'},\r\n        {overlayX: 'start', overlayY: 'top'})\r\n      .withFallbackPosition(\r\n        {originX: 'start', originY: 'top'},\r\n        {overlayX: 'end', overlayY: 'top'})\r\n      .withFallbackPosition(\r\n        {originX: 'end', originY: 'center'},\r\n        {overlayX: 'start', overlayY: 'center'})\r\n      .withFallbackPosition(\r\n        {originX: 'start', originY: 'center'},\r\n        {overlayX: 'end', overlayY: 'center'});\r\n  }\r\n\r\n  private buildConnectedPositionStrategyForSubMenu(elm: ElementRef): ConnectedPositionStrategy {\r\n    return this\r\n      .overlay\r\n      .position()\r\n      .connectedTo(elm,\r\n        {originX: 'end', originY: 'top'},\r\n        {overlayX: 'start', overlayY: 'top'})\r\n      .withFallbackPosition(\r\n        {originX: 'start', originY: 'top'},\r\n        {overlayX: 'end', overlayY: 'top'})\r\n      .withFallbackPosition(\r\n        {originX: 'end', originY: 'bottom'},\r\n        {overlayX: 'start', overlayY: 'bottom'})\r\n      .withFallbackPosition(\r\n        {originX: 'start', originY: 'bottom'},\r\n        {overlayX: 'end', overlayY: 'bottom'});\r\n  }\r\n\r\n  /*\r\n    we need to override getBoundingClientRect() to return the position of the menu.\r\n    this is done because @angular/cdk use this function internally to determine where the overlay should be positioned\r\n    https://github.com/angular/material2/blob/master/src/cdk/overlay/position/connected-position-strategy.ts#L288\r\n   */\r\n  private overrideGetBoundingClientRect(elm: ElementRef, event: MouseEvent) {\r\n    const {clientX, clientY} = event;\r\n\r\n    elm.nativeElement.getBoundingClientRect = (): ClientRect => {\r\n      return {\r\n        bottom: clientY,\r\n        height: 0,\r\n        left: clientX,\r\n        right: clientX,\r\n        top: clientY,\r\n        width: 0\r\n      };\r\n    };\r\n  }\r\n\r\n  private closeCurrentOverlays() {\r\n    this.activeOverlays.forEach((o) => {\r\n      o.detach();\r\n      o.dispose();\r\n    });\r\n\r\n    this.activeOverlays = [];\r\n\r\n    // TODO: create close subject and emit.\r\n    // subscribe in component\r\n    if (this.activeMenu) {\r\n      this.activeMenu.close();\r\n    }\r\n  }\r\n\r\n  private attachContextToItems(menu: ShContextMenuComponent, data: any) {\r\n    menu.menuItems.forEach(i => i.context.$implicit = data);\r\n  }\r\n\r\n  private attachThisContext(menu: ShContextMenuComponent, parentMenu: ShContextMenuComponent) {\r\n    menu.thisContext = parentMenu.thisContext;\r\n  }\r\n\r\n  private attachOverlayRef(menu: ShContextMenuComponent, overlayRef: OverlayRef) {\r\n    menu.overlayRef = overlayRef;\r\n  }\r\n}\r\n","import {\r\n  Component, ContentChildren, ElementRef, Input, OnDestroy, QueryList, TemplateRef, ViewChild, ViewChildren,\r\n  ViewContainerRef,\r\n  ViewEncapsulation\r\n} from '@angular/core';\r\nimport {ShContextMenuItemDirective} from './sh-context-menu-item.directive';\r\nimport {ShContextMenuService} from './sh-context-menu.service';\r\nimport {OverlayRef} from '@angular/cdk/overlay';\r\n\r\n@Component({\r\n  selector: 'sh-context-menu',\r\n  encapsulation: ViewEncapsulation.None,\r\n  styleUrls: ['sh-context-menu.css'],\r\n  template: `\r\n    <ng-container #menuContainer></ng-container>\r\n    <ng-template #menuTemplate>\r\n      <div class=\"sh-context-menu\">\r\n        <div\r\n          *ngFor=\"let menuItem of menuItems\"\r\n          #itemElement\r\n          [ngClass]=\"{'sh-sub-anchor': menuItem.subMenu && menuItem.visible,\r\n           'sh-context-menu--item__disable': !menuItem.visible,\r\n           'sh-context-menu--item__divider': menuItem.divider,\r\n           'sh-context-menu--item__sub-active': subActive && menuItem.active}\"\r\n          class=\"sh-context-menu--item\"\r\n          (mouseenter)=\"onEnter($event, menuItem, itemElement)\"\r\n          (click)=\"onClick($event, menuItem)\">\r\n          <ng-container *ngIf=\"!menuItem.divider || !isVisible(menuItem)\">\r\n            <ng-content *ngTemplateOutlet=\"menuItem.template; context: menuItem.context\"></ng-content>\r\n          </ng-container>\r\n        </div>\r\n      </div>\r\n    </ng-template>\r\n  `\r\n})\r\nexport class ShContextMenuComponent implements OnDestroy {\r\n  @Input('this') thisContext: any;\r\n\r\n  @ContentChildren(ShContextMenuItemDirective, {read: ShContextMenuItemDirective}) contentChildrenItems;\r\n  @ViewChildren(ShContextMenuItemDirective, {read: ShContextMenuItemDirective}) viewChildrenItems;\r\n\r\n  @ViewChild('menuTemplate', {read: TemplateRef}) menuTemplate;\r\n  @ViewChild('menuContainer', {read: ViewContainerRef}) menuContainer;\r\n\r\n  public overlayRef: OverlayRef;\r\n  subActive: boolean;\r\n\r\n  constructor(private ctxService: ShContextMenuService) {\r\n    this.contentChildrenItems = new QueryList<ShContextMenuItemDirective>();\r\n    this.viewChildrenItems = new QueryList<ShContextMenuItemDirective>();\r\n  }\r\n\r\n  get menuItems(): QueryList<ShContextMenuItemDirective> {\r\n    // when using the ShContextMenuComponent as menu, the ContentChildren is the source\r\n    if (this.contentChildrenItems.length) {\r\n      return this.contentChildrenItems;\r\n    }\r\n\r\n    // when using a custom component as menu the ViewChildren is the source\r\n    return this.viewChildrenItems;\r\n  }\r\n\r\n  onEnter($event: MouseEvent, item: ShContextMenuItemDirective, elm: HTMLElement) {\r\n    this.ctxService.closeSubMenus(this);\r\n    this.setNotActive();\r\n\r\n    if (!item.subMenu || !item.visible) {\r\n      return;\r\n    }\r\n\r\n    this.setActive(item);\r\n    this.ctxService.openSubMenu({\r\n      data: item.context.$implicit,\r\n      targetElement: new ElementRef(elm),\r\n      menu: item.subMenu,\r\n      mouseEvent: $event,\r\n      parentMenu: this\r\n    });\r\n  }\r\n\r\n  private setActive(item: ShContextMenuItemDirective) {\r\n    item.setActive();\r\n    this.subActive = true;\r\n  }\r\n\r\n  onClick(event: MouseEvent, item: ShContextMenuItemDirective) {\r\n    // TODO: move click handling to service\r\n\r\n    if (item.divider) {\r\n      return;\r\n    }\r\n\r\n    if (!item.subMenu && item.closeOnClick) {\r\n      this.ctxService.destroy();\r\n\r\n      item.click.emit({\r\n        data: item.context.$implicit,\r\n        event\r\n      });\r\n    }\r\n  }\r\n\r\n  private callWithContext(fn, fallbackContext, data, event) {\r\n    return fn.call(this.thisContext ? this.thisContext : fallbackContext, {data, event});\r\n  }\r\n\r\n  close(): void {\r\n    this.setNotActive();\r\n    this.menuContainer.detach();\r\n    if(this.overlayRef) {\r\n       this.overlayRef.detach();\r\n    }\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.close();\r\n  }\r\n\r\n  setNotActive() {\r\n    this.subActive = false;\r\n    this.menuItems.forEach(i => i.setNotActive());\r\n  }\r\n\r\n  isVisible(item: ShContextMenuItemDirective) {\r\n    if (!item.visible) {\r\n      return true;\r\n    }\r\n\r\n    return this.callWithContext(item.visible, this, item.context.$implicit, null);\r\n  }\r\n}\r\n","import {Directive, ElementRef, Input, OnDestroy, OnInit} from '@angular/core';\r\nimport {ShContextMenuService} from './sh-context-menu.service';\r\nimport {ShContextMenuComponent} from './sh-context-menu.component';\r\nimport {Subscription} from 'rxjs/Subscription';\r\nimport {fromEvent} from 'rxjs/observable/fromEvent';\r\nimport {merge} from 'rxjs/observable/merge';\r\n\r\n@Directive({\r\n  selector: '[shAttachMenu]'\r\n})\r\nexport class ShAttachMenuDirective implements OnDestroy, OnInit {\r\n  @Input('shAttachMenu') menu: ShContextMenuComponent;\r\n  @Input('shMenuTriggers') triggers: string[];\r\n  @Input('shMenuData') data: any;\r\n  sub: Subscription;\r\n\r\n  constructor(private ctxService: ShContextMenuService, private elm: ElementRef) {\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.setupEvents();\r\n  }\r\n\r\n  private setupEvents() {\r\n    const observables = [];\r\n\r\n    if (!this.triggers) {\r\n      observables.push(fromEvent(this.elm.nativeElement, 'contextmenu'));\r\n    } else {\r\n      this.triggers.forEach((t) => {\r\n        observables.push(fromEvent(this.elm.nativeElement, t));\r\n      });\r\n    }\r\n\r\n    this.sub = merge(...observables).subscribe(this.openMenu.bind(this));\r\n  }\r\n\r\n  openMenu(event: MouseEvent) {\r\n    this.ctxService.openMenu({\r\n      menu: this.menu,\r\n      mouseEvent: event,\r\n      targetElement: this.elm,\r\n      data: this.data\r\n    });\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.sub.unsubscribe();\r\n  }\r\n}\r\n","import {NgModule} from '@angular/core';\r\nimport {CommonModule} from '@angular/common';\r\n\r\nimport {ShContextMenuComponent} from './sh-context-menu.component';\r\nimport {ShAttachMenuDirective} from './sh-attach-menu.directive';\r\nimport {ShContextMenuService} from './sh-context-menu.service';\r\nimport {ShContextMenuItemDirective} from './sh-context-menu-item.directive';\r\nimport {OverlayModule} from '@angular/cdk/overlay';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    ShAttachMenuDirective,\r\n    ShContextMenuComponent,\r\n    ShContextMenuItemDirective\r\n  ],\r\n  exports: [\r\n    ShAttachMenuDirective,\r\n    ShContextMenuComponent,\r\n    ShContextMenuItemDirective\r\n  ],\r\n  providers: [\r\n    ShContextMenuService\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    OverlayModule\r\n  ],\r\n  entryComponents: [\r\n    ShContextMenuComponent\r\n  ]\r\n})\r\nexport class ShContextMenuModule {\r\n}\r\n","import {\r\n  Component, OnInit, Input, ViewChild, ComponentRef, ViewContainerRef, ComponentFactoryResolver,\r\n  Output, EventEmitter\r\n} from '@angular/core';\r\nimport { find, findIndex, merge } from 'lodash-es';\r\n\r\n@Component({\r\n  selector: 'app-wizard',\r\n  templateUrl: './wizard.component.html',\r\n  styleUrls: ['./wizard.component.css']\r\n})\r\nexport class WizardComponent implements OnInit {\r\n  @Output() clickCancelBtn = new EventEmitter<any>();\r\n  @Output() clickFinishBtn = new EventEmitter<any>();\r\n\r\n  @Input() title = '';\r\n  @Input() steps = [];\r\n  curStep;\r\n  curStepIndex = 0;\r\n  curComponentRef: ComponentRef<any>;\r\n  // finishedSteps = [];\r\n  @ViewChild('stepContainer', { read: ViewContainerRef }) stepContainer: ViewContainerRef;\r\n\r\n  constructor(private viewContainerRef: ViewContainerRef,\r\n    private componentFactoryResolver: ComponentFactoryResolver) { }\r\n\r\n  ngOnInit() {\r\n    if (this.steps && this.steps.length > 0) {\r\n      this.curStep = this.steps[this.curStepIndex];\r\n      this.createStepComponent(this.steps[this.curStepIndex]);\r\n    }\r\n  }\r\n  createStepComponent(step) {\r\n    this.stepContainer.clear();\r\n    const componentFactory = this.componentFactoryResolver.resolveComponentFactory(step.component);\r\n    this.curComponentRef = this.stepContainer.createComponent(componentFactory);\r\n    this.curComponentRef.instance.data = step.data;\r\n\r\n    // æ°å¢æ­¥éª¤\r\n    if (this.curComponentRef.instance.addStep) {\r\n      this.curComponentRef.instance.addStep.subscribe((stepList) => {\r\n\r\n        const curIndex = findIndex(this.steps, this.curStep);\r\n        this.steps.splice(curIndex + 1, 0, ...stepList);\r\n\r\n        this.curStep.nextStep = stepList[0].stepId;\r\n        this.curStep.showFinishBtn = false;\r\n        this.curStep.showNextStepBtn = true;\r\n\r\n      });\r\n    }\r\n    // å é¤æ­¥éª¤\r\n    if (this.curComponentRef.instance.removeStep) {\r\n      this.curComponentRef.instance.removeStep.subscribe((data) => {\r\n        merge(this.curStep, data.curStep);\r\n        data.removeSteps.forEach(removeStep => {\r\n          const index = findIndex(this.steps, removeStep);\r\n          this.steps.splice(index, 1);\r\n        });\r\n      });\r\n    }\r\n    // åæ´æ­¥éª¤\r\n    if (this.curComponentRef.instance.changeStep) {\r\n      this.curComponentRef.instance.changeStep.subscribe((stepList) => {\r\n        stepList.forEach(changeStep => {\r\n          const oldStep = find(this.steps, function (s) { return s.stepId === changeStep.stepId; });\r\n          merge(oldStep, changeStep);\r\n        });\r\n      });\r\n    }\r\n\r\n  }\r\n  jumpStep(nextStep) {\r\n    // å¤æ­è·³è½¬æ¹å\r\n    if (nextStep === this.curStep) {\r\n      return;\r\n    }\r\n    const nextIndex = findIndex(this.steps, function (s) { return s.stepId === nextStep.stepId; });\r\n    if (nextIndex === this.curStepIndex) {\r\n      return;\r\n    }\r\n    if (nextIndex < this.curStepIndex) { // ååè·³\r\n      this.curStep = nextStep;\r\n      this.curStepIndex = nextIndex;\r\n      this.createStepComponent(nextStep);\r\n      return;\r\n    }\r\n    if (nextStep.stepId === this.curStep.nextStep) { // ä¸ä¸æ­¥\r\n      this.nextStep();\r\n      return;\r\n    }\r\n    //  else if (this.finishedSteps.indexOf(nextStep.stepId) > -1) { // å·²å®æçåç»­æ­¥éª¤\r\n    //   this.curStep = nextStep;\r\n    //   this.curStepIndex = nextIndex;\r\n    //   this.createStepComponent(nextStep);\r\n    // }\r\n\r\n  }\r\n  /**\r\n    * ç¹å»ä¸ä¸æ­¥\r\n    */\r\n  lastStep() {\r\n    const self = this;\r\n    this.curStepIndex = findIndex(this.steps, function (s) { return s.nextStep === self.curStep.stepId; });\r\n    this.curStep = this.steps[this.curStepIndex];\r\n    this.createStepComponent(this.curStep);\r\n  }\r\n\r\n  /**\r\n   * ç¹å»ä¸ä¸æ­¥\r\n   */\r\n  nextStep() {\r\n    // æ ¡éª\r\n    const validationFunc = this.curComponentRef.instance.validation;\r\n    if (validationFunc && typeof (validationFunc) === 'function') {\r\n      const result = validationFunc();\r\n      if (!result) { return; }\r\n    }\r\n    // æ§è¡åComponentå®ä¹çnextStepClickäºä»¶\r\n    const clickNextStep = this.curComponentRef.instance.clickNextStep;\r\n    if (clickNextStep && typeof (clickNextStep) === 'function') {\r\n      const result = clickNextStep(); // è¿åå¼æ¥æ¶booleanæobservableç±»å\r\n      if (typeof (result) === 'boolean') {\r\n        this.moveToNextStep(result);\r\n      } else {\r\n        result.subscribe(data => {\r\n          this.moveToNextStep(data);\r\n        });\r\n      }\r\n    } else {\r\n      this.moveToNextStep(true);\r\n    }\r\n  }\r\n\r\n  moveToNextStep(data) {\r\n    if (!data) {\r\n      return;\r\n    }\r\n    const curStep = this.curStep;\r\n    if (curStep.nextStep === '') {\r\n      return;\r\n    }\r\n    // this.finishedSteps.push(curStep.stepId);\r\n    this.curStepIndex = findIndex(this.steps, function (s) { return s.stepId === curStep.nextStep; });\r\n    if (this.curStepIndex > -1) {\r\n      this.curStep = this.steps[this.curStepIndex];\r\n      this.createStepComponent(this.curStep);\r\n    }\r\n\r\n  }\r\n  /**\r\n   * åæ¶\r\n   */\r\n  clickCancel() {\r\n    this.clickCancelBtn.emit();\r\n  }\r\n  /**\r\n   * å®æ\r\n   */\r\n  finishWizard() {\r\n    const validationFunc = this.curComponentRef.instance.validation;\r\n    if (validationFunc && typeof (validationFunc) === 'function') {\r\n      const result = validationFunc();\r\n      if (!result) { return; }\r\n    }\r\n\r\n    const beforeFinish = this.curComponentRef.instance.beforeFinish;\r\n    if (beforeFinish && typeof (beforeFinish) === 'function') {\r\n      const result = beforeFinish();\r\n      if (!result) { return; }\r\n    }\r\n    this.clickFinishBtn.emit();\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { PerfectScrollbarModule } from '@farris/ui-perfect-scrollbar';\r\nimport { WizardComponent } from './component/wizard.component';\r\n\r\n@NgModule({\r\n    declarations: [\r\n        WizardComponent\r\n    ],\r\n    imports: [\r\n        CommonModule,\r\n        FormsModule,\r\n        PerfectScrollbarModule\r\n    ],\r\n    exports: [WizardComponent]\r\n})\r\nexport class WizardModule {\r\n    constructor() { }\r\n}\r\n","import { Injectable, Injector } from '@angular/core';\r\nimport { BehaviorSubject, Subject, Observable, of } from 'rxjs';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { debounceTime } from 'rxjs/operators';\r\n\r\n@Injectable()\r\nexport class ComboService {\r\n    idField: string;\r\n    valueField: string;\r\n    textField: string;\r\n    mapFields: { [sourceField: string]: string };\r\n    private innerData: any = [];\r\n    get data() {\r\n        return this.innerData;\r\n    }\r\n    set data(val) {\r\n        this.innerData = val;\r\n        this.data$.next(val);\r\n    }\r\n    selectedValue: any;\r\n    selected$ = new Subject<any>();\r\n    isOpen$ = new BehaviorSubject<boolean>(false);\r\n    data$ = new BehaviorSubject<any>('');\r\n    // columns: any;\r\n\r\n    // injectService() {\r\n    //     if (this.injector && !this.comboHttp) {\r\n    //         this.lookupUtils = this.injector.get(LookupUtils, null);\r\n    //         if (this.displayType.indexOf('LOOKUP') > -1) {\r\n    //             this.comboHttp = this.injector.get(ServerSideToken, null);\r\n    //         } else {\r\n    //             this.comboHttp = this.injector.get(ComboServerSideToken, null);\r\n    //         }\r\n    //     }\r\n    // }\r\n    toBoolean(value: any): boolean {\r\n        return value != null && `${value}` !== 'false';\r\n    }\r\n    selectItem(data: any, index?: number) {\r\n        this.isOpen$.next(false);\r\n        this.selectedValue = data;\r\n        this.selected$.next(this.selectedValue);\r\n    }\r\n    unSelectItem(data: any) {\r\n        this.selectedValue = null;\r\n        this.selected$.next(null);\r\n    }\r\n    isSelect(id: any) {\r\n\r\n        return false;\r\n    }\r\n\r\n    // loadData(data: any, selectValues: string = '', callback) {\r\n    //     if (data) {\r\n    //         if (selectValues) {\r\n    //             if (selectValues.split) {\r\n    //                 // key æ¯å­ç¬¦ä¸²ï¼å¯è½æ¯æ¼èµ·æ¥ç\r\n    //                 const selectedItems = selectValues.split(',').map(val => {\r\n    //                     return callback(data, val);\r\n    //                 });\r\n    //\r\n    //                 this.selections = selectedItems;\r\n    //             } else {\r\n    //                 // keyä¸å¯split\r\n    //                 this.selections = [selectValues];\r\n    //             }\r\n    //         } else {\r\n    //             this.selections = [];\r\n    //         }\r\n    //         // this.selections$.next(this.selections);\r\n    //         // const _data = this.initData(data);\r\n    //         // this.updateState({...this._state, data: _data});\r\n    //     } else {\r\n    //         // this.updateState({ data: [], selections: [] });\r\n    //     }\r\n    // }\r\n    // filterData(val: string, filed: any = 'text') {\r\n    //     if (val) {\r\n    //         const data = this.data\r\n    //             ? this.data.filter(item => {\r\n    //                 if (item[filed]) {\r\n    //                     return String(item[filed]).indexOf(val) > -1;\r\n    //                 } else if (item.data && item.data[filed]) {\r\n    //                     return String(item.data[filed]).indexOf(val) > -1;\r\n    //                 }\r\n    //               })\r\n    //             : [];\r\n    //         this.data$.next(data);\r\n    //     }\r\n    // }\r\n    getSelected() {\r\n        return this.selectedValue;\r\n    }\r\n\r\n    // filterSelections(displayText: string) {\r\n    //     if (displayText && this.selections) {\r\n    //         const selections = displayText\r\n    //             .split(',')\r\n    //             .map(val => {\r\n    //                 return this.selections.find(d => d[this.textField] === val);\r\n    //             })\r\n    //             .filter(val => !!val);\r\n    //         this.selectedValues = this.getValue(this.valueField, selections);\r\n    //         this.selections = selections;\r\n    //     }\r\n    // }\r\n\r\n    // clearSelections() {\r\n    //     this.selections = [];\r\n    // }\r\n\r\n    getValue(prop: string, selections?: any): any {\r\n        // selections = selections ? selections : this.selections;\r\n        // if (selections && selections.length) {\r\n        //     // if (this.mapFields) {\r\n        //     //     const helpFields = Object.keys(this.mapFields);\r\n        //     //     helpFields.forEach( (f: any) => {\r\n        //     //         if (this.mapFields[f] === prop) {\r\n        //     //             prop = f;\r\n        //     //             return;\r\n        //     //         }\r\n        //     //     });\r\n        //     // }\r\n        //\r\n        //     // if (selections.length === 1) {\r\n        //     //     return this.getValueByObj(prop, selections[0]);\r\n        //     // }\r\n        //\r\n        //     const tmp = selections\r\n        //         .map(item => {\r\n        //             return this.getValueByObj(prop, item);\r\n        //         })\r\n        //         .join(',');\r\n        //     return tmp;\r\n        // }\r\n        if (this.selectedValue) {\r\n            return this.getValueByObj(prop, this.selectedValue);\r\n        }\r\n        return '';\r\n    }\r\n    getValueByObj(field: string, data: any) {\r\n        if (!data) {\r\n            return '';\r\n        }\r\n        let resultVal = '';\r\n        if (field.indexOf('.') === -1) {\r\n            resultVal = data[field];\r\n        } else {\r\n            resultVal = field.split('.').reduce((obj, key) => {\r\n                if (obj) {\r\n                    return obj[key];\r\n                } else {\r\n                    return null;\r\n                }\r\n            }, data);\r\n        }\r\n        return resultVal;\r\n    }\r\n\r\n    // initData() {\r\n    //     // this.loadDataTable(this.data || []);\r\n    //     // switch (this.displayType) {\r\n    //     //     case 'TreeList': {\r\n    //     //         this.getData().subscribe(data => this.loadDataTree(data));\r\n    //     //         break;\r\n    //     //     }\r\n    //     //     case 'LIST': {\r\n    //     //         // List\r\n    //     //         this.getData().subscribe(data => this.loadDataTable(data));\r\n    //     //         break;\r\n    //     //     }\r\n    //     //     // case 'LOOKUPLIST': {\r\n    //     //     //     // List\r\n    //     //     //     this.getData().subscribe(data =>\r\n    //     //     //         this.loadLookUpDataTable(data)\r\n    //     //     //     );\r\n    //     //     //     break;\r\n    //     //     // }\r\n    //     //     // case 'LOOKUPTREELIST': {\r\n    //     //     //     // List\r\n    //     //     //     this.getData().subscribe(data => this.loadLookUpDataTree(data));\r\n    //     //     //     break;\r\n    //     //     // }\r\n    //     // }\r\n    // }\r\n\r\n    // getData(): Observable<any> {\r\n    //     // if (this.uri) {\r\n    //     //     const params = {};\r\n    //     //     this.showLoading();\r\n    //     //     if (this.comboHttp) {\r\n    //     //         return this.comboHttp.getData(this.uri);\r\n    //     //     } else {\r\n    //     //         return this.http.get(this.uri);\r\n    //     //     }\r\n    //     // } else {\r\n    //         if (this.data) {\r\n    //             return of(this.data);\r\n    //         } else {\r\n    //             return of([]);\r\n    //         }\r\n    //     // }\r\n    // }\r\n    // loadDataTable(data: any) {\r\n    //     if (data instanceof Array) {\r\n    //         this.data = data;\r\n    //     } else {\r\n    //         this.data = data.returnValue;\r\n    //     }\r\n    //     this.loadData(this.data, this.selectedValues, (dataArr, val) => {\r\n    //         // tslint:disable-next-line:triple-equals\r\n    //         return dataArr.find(d => d[this.idField] + '' == val);\r\n    //     });\r\n    //     // this.closeLoading();\r\n    // }\r\n    // loadDataTree(data: any) {\r\n    //     if (data instanceof Array) {\r\n    //         this.data = data;\r\n    //     } else {\r\n    //         this.data = data.returnValue;\r\n    //     }\r\n    //     this.loadData(this.data, this.selectedValues, (dataArr, val) => {\r\n    //         return eachData(dataArr, val, this.idField);\r\n    //         function eachData(paramData, paramVal, idField) {\r\n    //             let rtnData: any = '';\r\n    //             paramData.find(d => {\r\n    //                 // tslint:disable-next-line:triple-equals\r\n    //                 if (d.data[idField] == paramVal) {\r\n    //                     rtnData = d.data;\r\n    //                     return true;\r\n    //                 } else if (d.children && d.children.length) {\r\n    //                     rtnData = eachData(d.children, paramVal, idField);\r\n    //                 } else {\r\n    //                     return false;\r\n    //                 }\r\n    //             });\r\n    //             return rtnData;\r\n    //         }\r\n    //     });\r\n    //     // this.closeLoading();\r\n    // }\r\n    // loadLookUpDataTable(resData: any) {\r\n    //     if (resData.returnValue) {\r\n    //         resData = resData.returnValue;\r\n    //     }\r\n    //     this.columns = resData.columns;\r\n    //     this.pageInfo = resData.pageInfo;\r\n    //     this.data = resData.items;\r\n    //     this.loadData(this.data, this.selectedValues, (dataArr, val) => {\r\n    //         // tslint:disable-next-line: triple-equals\r\n    //         return dataArr.find(d => d[this.idField] + '' == val);\r\n    //     });\r\n    //     this.closeLoading();\r\n    // }\r\n    // loadLookUpDataTree(resData: any) {\r\n    //     if (resData.returnValue) {\r\n    //         resData = resData.returnValue;\r\n    //     }\r\n    //     this.columns = resData.columns;\r\n    //     const treeInfo = resData.treeInfo;\r\n    //     // tslint:disable-next-line: no-string-literal\r\n    //     if (!treeInfo['treeDataIsInit']) {\r\n    //         if (treeInfo.layerType.toLowerCase() === 'pathcode') {\r\n    //             this.data = this.lookupUtils.makeTree(resData.items, treeInfo);\r\n    //         } else {\r\n    //             this.data = this.lookupUtils.makeTreeWithParentID(\r\n    //                 resData.items,\r\n    //                 '',\r\n    //                 `${treeInfo.dataField}.${treeInfo.parentField}`,\r\n    //                 this.idField\r\n    //             );\r\n    //         }\r\n    //     }\r\n    //     this.loadData(this.data, this.selectedValues, (dataArr, val) => {\r\n    //         return eachData(dataArr, val, this.idField);\r\n    //         function eachData(paramData, paramVal, idField) {\r\n    //             let rtnData: any = '';\r\n    //             paramData.find(d => {\r\n    //                 // tslint:disable-next-line:triple-equals\r\n    //                 if (d.data[idField] == paramVal) {\r\n    //                     rtnData = d.data;\r\n    //                     return true;\r\n    //                 } else if (d.children && d.children.length) {\r\n    //                     rtnData = eachData(d.children, paramVal, idField);\r\n    //                 } else {\r\n    //                     return false;\r\n    //                 }\r\n    //             });\r\n    //             return rtnData;\r\n    //         }\r\n    //     });\r\n    //     this.closeLoading();\r\n    // }\r\n    // private showLoading() {\r\n    //     this.loading = this.loadingService.show();\r\n    // }\r\n    // closeLoading() {\r\n    //     if (this.loading) {\r\n    //         this.loading.close();\r\n    //         this.loading = null;\r\n    //     }\r\n    // }\r\n}\r\n","import {\r\n    OnInit,\r\n    Input,\r\n    Output,\r\n    EventEmitter,\r\n    ElementRef,\r\n    ChangeDetectorRef,\r\n    Renderer2,\r\n    ViewChild,\r\n    AfterViewInit,\r\n    OnDestroy,\r\n    Inject,\r\n    Injector, Component, ChangeDetectionStrategy, ViewEncapsulation, forwardRef\r\n} from '@angular/core';\r\nimport { Subject, fromEvent, interval } from 'rxjs';\r\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR, NgControl } from '@angular/forms';\r\nimport { DOCUMENT } from '@angular/common';\r\nimport { takeUntil, filter, skip, debounceTime, throttle } from 'rxjs/operators';\r\nimport { ComboService } from './combo.service';\r\nimport { InputGroupComponent } from '@farris/ui-input-group';\r\nimport { SelectItem } from './combo.interface';\r\n\r\nlet nextUniqueId = 0;\r\n\r\n@Component({\r\n    // tslint:disable-next-line:component-selector\r\n    selector: 'farris-editable-combo-list',\r\n    templateUrl: './combo-list.component.html',\r\n    styleUrls: ['./combo-list.component.css'],\r\n    changeDetection: ChangeDetectionStrategy.OnPush,\r\n    encapsulation: ViewEncapsulation.None,\r\n    providers: [\r\n        {\r\n            provide: NG_VALUE_ACCESSOR,\r\n            useExisting: forwardRef(() => ComboListComponent),\r\n            multi: true\r\n        },\r\n        ComboService\r\n    ]\r\n})\r\nexport class ComboListComponent implements OnInit, AfterViewInit, OnDestroy, ControlValueAccessor {\r\n    @Input() disabled = false;\r\n    @Input() readonly = false;\r\n    @Input() editable = true;\r\n    @Input() placeholder = 'è¯·éæ©';\r\n    @Input() panelWidth = 300;\r\n    @Input() panelHeight = 300;\r\n    @Input() autoWidth = true;\r\n    @Input() enableClear = true;\r\n    @Input() mappingField: string;\r\n    @Input()\r\n    // set data(val: any) {\r\n    //     this.comboService.data = val;\r\n    // }\r\n    // get data() {\r\n    //     return this.comboService.data;\r\n    // }\r\n    data: any;\r\n    @Input()\r\n    set idField(val: string) {\r\n        this.comboService.idField = val;\r\n    }\r\n    get idField() {\r\n        return this.comboService.idField;\r\n    }\r\n    @Input()\r\n    set valueField(val: string) {\r\n        this.comboService.valueField = val;\r\n    }\r\n    get valueField() {\r\n        return this.comboService.valueField;\r\n    }\r\n    @Input()\r\n    set textField(val: string) {\r\n        this.comboService.textField = val;\r\n    }\r\n    get textField() {\r\n        return this.comboService.textField;\r\n    }\r\n\r\n    @Output() showPanel = new EventEmitter();\r\n    @Output() hidePanel = new EventEmitter();\r\n    @Output() clear = new EventEmitter();\r\n    @Output() valueChange = new EventEmitter<string>();\r\n    @Output() selectChange = new EventEmitter<any>();\r\n\r\n    // tslint:disable-next-line:variable-name\r\n    _cmbPanel: ElementRef = null;\r\n    @ViewChild('comboPanel') set cmbPanel(cmp: ElementRef) {\r\n        this._cmbPanel = cmp;\r\n        this.comboPanelCreated$.next(cmp);\r\n    }\r\n    @ViewChild('input') input: InputGroupComponent;\r\n    isOpen = false;\r\n    groupIcon = '<span class=\"f-icon f-icon-arrow-60-down\"></span>';\r\n    private comboPanelCreated$ = new Subject();\r\n    private destroy$ = new Subject();\r\n    private documentClickEvent: () => void;\r\n    ngControl: any = null;\r\n    displayText = '';\r\n    private value: any;\r\n\r\n    onChange: (value: string | string[]) => void = () => null;\r\n    onTouched: () => void = () => null;\r\n\r\n    constructor(\r\n        protected el: ElementRef,\r\n        protected cdr: ChangeDetectorRef,\r\n        @Inject(DOCUMENT) protected document: any,\r\n        protected render: Renderer2,\r\n        protected comboService: ComboService,\r\n        protected injector: Injector\r\n    ) {\r\n        const container = this.creatContainer();\r\n        const panel = this.creatPanel(container);\r\n        this.comboPanelCreated$\r\n            .pipe(\r\n                takeUntil(this.destroy$),\r\n                filter(v => !!v)\r\n            )\r\n            .subscribe((cmp: ElementRef) => {\r\n                panel.appendChild(cmp.nativeElement);\r\n                this.updatePosition();\r\n            });\r\n        this.destroy$.subscribe(() => {\r\n            // this.render.removeChild('body', container);\r\n            if (document.body.contains(container) && container.contains(panel)) {\r\n                container.removeChild(panel);\r\n            }\r\n            nextUniqueId = 0;\r\n        });\r\n        this.comboService.isOpen$\r\n            .pipe(\r\n                takeUntil(this.destroy$),\r\n                skip(1)\r\n            )\r\n            .subscribe(val => {\r\n                if (val) {\r\n                    this.documentClickEvent = this.render.listen('document', 'click', (event: any) => {\r\n                        if (\r\n                            !this.el.nativeElement.contains(event.target) &&\r\n                            (this._cmbPanel && !this.contains(this._cmbPanel, event))\r\n                        ) {\r\n                            this.isOpen = false;\r\n                            this.removeDocumentListener();\r\n                            this.cdr.markForCheck();\r\n                        }\r\n                    });\r\n                } else {\r\n                    this.removeDocumentListener();\r\n                }\r\n                this.isOpen = !!val;\r\n                this.cdr.markForCheck();\r\n            });\r\n        this.comboService.selected$.pipe(takeUntil(this.destroy$)).subscribe(() => {\r\n            this.displayText = this.comboService.getValue(this.textField);\r\n            this.value = this.comboService.getValue(this.idField);\r\n            if (this.data && this.data.length > 0) {\r\n                this.onChange(this.value);\r\n                this.valueChange.emit(this.value);\r\n            } else {\r\n                this.updateMappingFieldValue();\r\n                this.onChange(this.displayText);\r\n                this.valueChange.emit(this.displayText);\r\n            }\r\n            this.cdr.detectChanges();\r\n            // this.focus();\r\n            // this.blur();\r\n        });\r\n    }\r\n    onClick() {\r\n        this.comboService.isOpen$.next(!this.isOpen);\r\n    }\r\n    private removeDocumentListener() {\r\n        if (this.documentClickEvent) {\r\n            this.documentClickEvent();\r\n            this.documentClickEvent = null;\r\n        }\r\n    }\r\n    onBlur(e) {\r\n        this.onTouched();\r\n    }\r\n    blur() {\r\n        this.input.textbox.nativeElement.blur();\r\n    }\r\n    focus() {\r\n        this.input.textbox.nativeElement.focus();\r\n    }\r\n    onClear() {\r\n        this.value = '';\r\n        this.comboService.selectedValue = null;\r\n        this.comboService.isOpen$.next(false);\r\n        this.comboService.selected$.next([]);\r\n        // this.updateMappingFieldValue();\r\n        // this.onChange('');\r\n        // this.onTouched();\r\n        this.clear.emit();\r\n    }\r\n    updateMappingFieldValue() {\r\n        if (\r\n            this.ngControl &&\r\n            this.ngControl.formDirective &&\r\n            this.ngControl.formDirective.form &&\r\n            this.ngControl.formDirective.form.bindingData\r\n        ) {\r\n            const bindingData = this.ngControl.formDirective.form.bindingData;\r\n            const bindingPath = this.ngControl.formDirective.form.bindingPath;\r\n            let pathArr = [];\r\n            if (bindingPath) {\r\n                pathArr = bindingPath.split('/').filter(n => n !== '');\r\n            }\r\n            this.mappingField = this.mappingField ? this.mappingField : '';\r\n            bindingData.setValue(pathArr.concat(this.mappingField.split('.')), this.value, true, true);\r\n        }\r\n    }\r\n    updateSelectedValues() {\r\n        if (\r\n            this.ngControl &&\r\n            this.ngControl.formDirective &&\r\n            this.ngControl.formDirective.form &&\r\n            this.ngControl.formDirective.form.bindingData\r\n        ) {\r\n            const bindingData = this.ngControl.formDirective.form.bindingData;\r\n            const bindingPath = this.ngControl.formDirective.form.bindingPath;\r\n            let pathArr = [];\r\n            if (bindingPath) {\r\n                pathArr = bindingPath.split('/').filter(n => n !== '');\r\n            }\r\n            this.mappingField = this.mappingField ? this.mappingField : '';\r\n            this.value = bindingData.getValue(pathArr.concat(this.mappingField.split('.')));\r\n        }\r\n    }\r\n    onValueChange(val) {\r\n        this.value = val;\r\n        this.onChange(val);\r\n        this.valueChange.emit(val);\r\n        // if (!this.multiSelect) {\r\n        //     this.comboService.serachValue$.next(val);\r\n        // }\r\n        // this.comboService.filterSelections(val);\r\n        // this.valueChange.emit(val);\r\n        // if (!this.uri && this.data && this.data.length > 0) {\r\n        //     this.onChange(this.selectedValues);\r\n        // } else {\r\n        //     this.onChange(this.displayText);\r\n        // }\r\n        // this.updateMappingFieldValue();\r\n    }\r\n    updatePosition() {\r\n        if (this.autoWidth) {\r\n            const { width } = this.input.el.nativeElement.getBoundingClientRect();\r\n            this.panelWidth = width ? width : this.panelWidth;\r\n        }\r\n        let { left, top } = this.el.nativeElement.getBoundingClientRect();\r\n        if (top + this.panelHeight > window.innerHeight && top - this.panelHeight > 0) {\r\n            top = top - this.panelHeight - 27;\r\n        }\r\n        return {\r\n            left: left + 'px',\r\n            top: top + 27 + 'px',\r\n            width: this.panelWidth + 'px',\r\n            height: this.panelHeight + 'px'\r\n        };\r\n    }\r\n    contains(el: ElementRef, event: any) {\r\n        return el.nativeElement.contains(event.target);\r\n    }\r\n    creatContainer() {\r\n        let container = this.document.querySelector('.overlay-container');\r\n        if (!container) {\r\n            container = this.document.createElement('div');\r\n            container.classList.add('overlay-container');\r\n        }\r\n        this.document.body.appendChild(container);\r\n\r\n        return container;\r\n    }\r\n    creatPanel(host: HTMLElement) {\r\n        const pane = this.document.createElement('div');\r\n\r\n        pane.id = `overlay-${nextUniqueId++}`;\r\n        pane.classList.add('overlay-pane');\r\n        host.appendChild(pane);\r\n\r\n        return pane;\r\n    }\r\n    writeValue(value: any): void {\r\n        this.displayText = value;\r\n        this.cdr.markForCheck();\r\n    }\r\n    registerOnChange(fn: any): void {\r\n        this.onChange = fn;\r\n    }\r\n    registerOnTouched(fn: any): void {\r\n        this.onTouched = fn;\r\n    }\r\n    setDisabledState?(isDisabled: boolean): void {\r\n        this.disabled = isDisabled;\r\n        this.cdr.markForCheck();\r\n    }\r\n    ngOnInit() {}\r\n    ngAfterViewInit() {\r\n        // tslint:disable-next-line: deprecation\r\n        this.ngControl = this.injector.get(NgControl, null);\r\n        if (!this.valueField && this.idField) {\r\n            this.valueField = this.idField;\r\n        }\r\n        fromEvent(window, 'resize')\r\n            .pipe(\r\n                debounceTime(100),\r\n                throttle(ev => interval(100)),\r\n                takeUntil(this.destroy$)\r\n            )\r\n            .subscribe(() => {\r\n                const { width } = this.input.el.nativeElement.getBoundingClientRect();\r\n                this.panelWidth = width;\r\n                this.comboService.isOpen$.next(false);\r\n            });\r\n        // this.comboService.injectService();\r\n    }\r\n\r\n    ngOnDestroy(): void {\r\n        this.destroy$.next();\r\n        this.destroy$.complete();\r\n    }\r\n\r\n    onSelect(value: SelectItem) {\r\n        const {data, index} = {...value};\r\n        this.comboService.selectItem(data, index);\r\n        this.selectChange.emit({data, index});\r\n        this.focus();\r\n    }\r\n\r\n    onUnSelected(value: SelectItem) {\r\n        const {data} = {...value};\r\n        this.comboService.unSelectItem(data);\r\n        // console.log(data);\r\n        this.focus();\r\n    }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { ComboListComponent } from './combo-list.component';\r\nimport { InputGroupModule } from '@farris/ui-input-group';\r\nimport { DatalistModule } from '@farris/ui-datalist';\r\n\r\n@NgModule({\r\n    declarations: [ ComboListComponent ],\r\n    imports: [ CommonModule, FormsModule, InputGroupModule, DatalistModule ],\r\n    exports: [ ComboListComponent ]\r\n})\r\nexport class ComboListModule {}\r\n","import { Injectable } from '@angular/core';\r\n\r\n/**\r\n * Configuration service for the Popover directive.\r\n * You can inject this service, typically in your root component, and customize\r\n * the values of its properties in order to provide default values for all the\r\n * popovers used in the application.\r\n */\r\n@Injectable({providedIn: 'root'})\r\nexport class PopoverConfig {\r\n  /**\r\n   * Placement of a popover. Accepts: \"top\", \"bottom\", \"left\", \"right\", \"auto\"\r\n   */\r\n  placement = 'top';\r\n  /**\r\n   * Specifies events that should trigger. Supports a space separated list of\r\n   * event names.\r\n   */\r\n  triggers = 'click';\r\n\r\n  outsideClick = false;\r\n  /**\r\n   * A selector specifying the element the popover should be appended to.\r\n   * Currently only supports \"body\".\r\n   */\r\n  container: string;\r\n}\r\n","import { ChangeDetectionStrategy, Input, Component } from '@angular/core';\r\nimport { PopoverConfig } from './popover.config';\r\nimport { isBs3 } from '../utils/theme-provider';\r\n\r\n@Component({\r\n  selector: 'popover-container',\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  // tslint:disable-next-line\r\n  host: {\r\n    '[class]':\r\n      '\"popover in popover-\" + placement + \" \" + \"bs-popover-\" + placement + \" \" + placement + \" \" + containerClass',\r\n    '[class.show]': '!isBs3',\r\n    role: 'tooltip',\r\n    style: 'display:block;'\r\n  },\r\n  styles: [\r\n    `\r\n    :host.bs-popover-top .arrow, :host.bs-popover-bottom .arrow {\r\n      left: 50%;\r\n      margin-left: -8px;\r\n    }\r\n    :host.bs-popover-left .arrow, :host.bs-popover-right .arrow {\r\n      top: 50%;\r\n      margin-top: -8px;\r\n    }\r\n  `\r\n  ],\r\n  templateUrl: './popover-container.component.html'\r\n})\r\nexport class PopoverContainerComponent {\r\n  @Input() placement: string;\r\n  @Input() title: string;\r\n  containerClass: string;\r\n\r\n  get isBs3(): boolean {\r\n    return isBs3();\r\n  }\r\n\r\n  constructor(config: PopoverConfig) {\r\n    Object.assign(this, config);\r\n  }\r\n}\r\n","import {\r\n  Directive, ElementRef, EventEmitter, Input, OnDestroy, OnInit, Output,\r\n  Renderer2, TemplateRef, ViewContainerRef\r\n} from '@angular/core';\r\nimport { PopoverConfig } from './popover.config';\r\nimport { ComponentLoader, ComponentLoaderFactory } from '../utils/component-loader/index';\r\nimport { PopoverContainerComponent } from './popover-container.component';\r\n\r\n/**\r\n * A lightweight, extensible directive for fancy popover creation.\r\n */\r\n@Directive({selector: '[popover]', exportAs: 'bs-popover'})\r\nexport class PopoverDirective implements OnInit, OnDestroy {\r\n  /**\r\n   * Content to be displayed as popover.\r\n   */\r\n  @Input() popover: string | TemplateRef<any>;\r\n  /**\r\n   * Context to be used if popover is a template.\r\n   */\r\n  @Input() popoverContext: any;\r\n  /**\r\n   * Title of a popover.\r\n   */\r\n  @Input() popoverTitle: string;\r\n  /**\r\n   * Placement of a popover. Accepts: \"top\", \"bottom\", \"left\", \"right\"\r\n   */\r\n  @Input() placement: 'top' | 'bottom' | 'left' | 'right' | 'auto';\r\n  /**\r\n   * Close popover on outside click\r\n   */\r\n  @Input() outsideClick = false;\r\n  /**\r\n   * Specifies events that should trigger. Supports a space separated list of\r\n   * event names.\r\n   */\r\n  @Input() triggers: string;\r\n  /**\r\n   * A selector specifying the element the popover should be appended to.\r\n   * Currently only supports \"body\".\r\n   */\r\n  @Input() container: string;\r\n\r\n  /**\r\n   * Css class for popover container\r\n   */\r\n  @Input() containerClass = '';\r\n\r\n  /**\r\n   * Returns whether or not the popover is currently being shown\r\n   */\r\n  @Input()\r\n  get isOpen(): boolean {\r\n    return this._popover.isShown;\r\n  }\r\n\r\n  set isOpen(value: boolean) {\r\n    if (value) {\r\n      this.show();\r\n    } else {\r\n      this.hide();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Emits an event when the popover is shown\r\n   */\r\n  @Output() onShown: EventEmitter<any>;\r\n  /**\r\n   * Emits an event when the popover is hidden\r\n   */\r\n  @Output() onHidden: EventEmitter<any>;\r\n\r\n  private _popover: ComponentLoader<PopoverContainerComponent>;\r\n  private _isInited = false;\r\n\r\n  constructor(_elementRef: ElementRef,\r\n              _renderer: Renderer2,\r\n              _viewContainerRef: ViewContainerRef,\r\n              _config: PopoverConfig,\r\n              cis: ComponentLoaderFactory) {\r\n    this._popover = cis\r\n      .createLoader<PopoverContainerComponent>(\r\n        _elementRef,\r\n        _viewContainerRef,\r\n        _renderer\r\n      )\r\n      .provide({provide: PopoverConfig, useValue: _config});\r\n    Object.assign(this, _config);\r\n    this.onShown = this._popover.onShown;\r\n    this.onHidden = this._popover.onHidden;\r\n\r\n    // fix: no focus on button on Mac OS #1795\r\n    if (typeof window !== 'undefined') {\r\n      _elementRef.nativeElement.addEventListener('click', function () {\r\n        try {\r\n          _elementRef.nativeElement.focus();\r\n        } catch (err) {\r\n          return;\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Opens an elementâs popover. This is considered a âmanualâ triggering of\r\n   * the popover.\r\n   */\r\n  show(): void {\r\n    if (this._popover.isShown || !this.popover) {\r\n      return;\r\n    }\r\n\r\n    this._popover\r\n      .attach(PopoverContainerComponent)\r\n      .to(this.container)\r\n      .position({attachment: this.placement})\r\n      .show({\r\n        content: this.popover,\r\n        context: this.popoverContext,\r\n        placement: this.placement,\r\n        title: this.popoverTitle,\r\n        containerClass: this.containerClass\r\n      });\r\n    this.isOpen = true;\r\n  }\r\n\r\n  /**\r\n   * Closes an elementâs popover. This is considered a âmanualâ triggering of\r\n   * the popover.\r\n   */\r\n  hide(): void {\r\n    if (this.isOpen) {\r\n      this._popover.hide();\r\n      this.isOpen = false;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Toggles an elementâs popover. This is considered a âmanualâ triggering of\r\n   * the popover.\r\n   */\r\n  toggle(): void {\r\n    if (this.isOpen) {\r\n      return this.hide();\r\n    }\r\n\r\n    this.show();\r\n  }\r\n\r\n  ngOnInit(): any {\r\n    // fix: seems there are an issue with `routerLinkActive`\r\n    // which result in duplicated call ngOnInit without call to ngOnDestroy\r\n    // read more: https://github.com/valor-software/ngx-bootstrap/issues/1885\r\n    if (this._isInited) {\r\n      return;\r\n    }\r\n    this._isInited = true;\r\n\r\n    this._popover.listen({\r\n      triggers: this.triggers,\r\n      outsideClick: this.outsideClick,\r\n      show: () => this.show()\r\n    });\r\n  }\r\n\r\n  ngOnDestroy(): any {\r\n    this._popover.dispose();\r\n  }\r\n}\r\n","import { NgModule, ModuleWithProviders } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\n// import { ComponentLoaderFactory } from '../utils/component-loader';\r\n// import { PositioningService } from '../utils/positioning';\r\nimport { PopoverConfig } from './popover.config';\r\nimport { PopoverDirective } from './popover.directive';\r\nimport { PopoverContainerComponent } from './popover-container.component';\r\n\r\n@NgModule({\r\n  imports: [CommonModule],\r\n  declarations: [PopoverDirective, PopoverContainerComponent],\r\n  exports: [PopoverDirective],\r\n  // providers: [PopoverConfig, ComponentLoaderFactory, PositioningService],\r\n  entryComponents: [PopoverContainerComponent]\r\n})\r\nexport class PopoverModule {\r\n  static forRoot(): ModuleWithProviders {\r\n    return {\r\n      ngModule: PopoverModule,\r\n      providers: [PopoverConfig]\r\n    };\r\n  }\r\n}\r\n","import {\r\n  Component, OnInit, Input, Output, OnChanges, SimpleChanges,\r\n  EventEmitter, ComponentFactoryResolver, Injector, ElementRef, ApplicationRef, TemplateRef, ViewChild, ViewContainerRef\r\n} from '@angular/core';\r\nimport { PropertyEntity } from '../../entity/property-entity';\r\nimport { BsModalService } from '@farris/ui-modal';\r\nimport { NotifyService, NotifyOptions } from '@farris/ui-notify';\r\n\r\n@Component({\r\n  selector: 'webide-property-item',\r\n  templateUrl: './property-item.component.html',\r\n  styleUrls: ['./property-item.component.css']\r\n})\r\nexport class PropertyItemComponent implements OnInit, OnChanges {\r\n  @Input() elementConfig: PropertyEntity;\r\n  @Input() elementValue: any;\r\n  @Output() valueChanged = new EventEmitter<any>();\r\n  @Output() submitModal = new EventEmitter<any>();\r\n\r\n  // åä¸è§¦åæ´ä½é¢æ¿å·æ°\r\n  @Output() triggerRefreshPanel = new EventEmitter<any>();\r\n\r\n  // æ§ä»¶å®¹å¨\r\n  @ViewChild('propItem', { read: ViewContainerRef }) propItem: ViewContainerRef;\r\n\r\n  // æ§ä»¶æ¨¡æ¿\r\n  @ViewChild('stringTmpl') stringTmpl: TemplateRef<any>;\r\n  @ViewChild('numberTmpl') numberTmpl: TemplateRef<any>;\r\n  @ViewChild('selectTmpl') selectTmpl: TemplateRef<any>;\r\n  @ViewChild('boolOrExpTmpl') boolOrExpTmpl: TemplateRef<any>;\r\n  @ViewChild('multiSelectTmpl') multiSelectTmpl: TemplateRef<any>;\r\n  @ViewChild('dateTmpl') dateTmpl: TemplateRef<any>;\r\n  @ViewChild('datetimeTmpl') datetimeTmpl: TemplateRef<any>;\r\n  @ViewChild('modalTmpl') modalTmpl: TemplateRef<any>;\r\n\r\n\r\n  // æ§ä»¶ç±»å--ç¨äºåºåå¨æåæ´æ§ä»¶ç±»åçåºæ¯ï¼éè¦éæ°æ¸²ææ¨¡æ¿\r\n  propertyOldType: string;\r\n\r\n  // æ¨¡ææ¡ç±»åçå±æ§:å±æ§æ¡çå±ç¤ºå¼\r\n  elementShowValue: any;\r\n\r\n  // ä¸ææ¡çæä¸¾é¡¹\r\n  selectOptions = [];\r\n\r\n  // æ§ä»¶ç±»å\r\n  itemType = 'string';\r\n\r\n  // æ°å­æ§ä»¶ç²¾åº¦\r\n  precision = 2;\r\n\r\n  // å·²åºå¼\r\n  showClearButton = false;\r\n\r\n  // é»è®¤å¼\r\n  showDefaultValue = false;\r\n\r\n  constructor(\r\n    private resolver: ComponentFactoryResolver, private modalService: BsModalService,\r\n    private injector: Injector, private notifyServ: NotifyService, public el: ElementRef) {\r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges) {\r\n    this.refresh();\r\n  }\r\n\r\n  ngOnInit() {\r\n    // this.refresh();\r\n  }\r\n\r\n  refresh() {\r\n\r\n    let tmpl: TemplateRef<any>;\r\n    // æ¾ç¤ºæ ¼å¼\r\n    const propertyType = this.itemType = this.elementConfig.propertyType;\r\n    switch (propertyType) {\r\n      case 'boolean': {\r\n        this.itemType = 'select';\r\n        this.selectOptions = [{ key: true, value: 'true' }, { key: false, value: 'false' }];\r\n\r\n        tmpl = this.selectTmpl;\r\n        break;\r\n      }\r\n      case 'select': {\r\n        this.selectOptions = this.elementConfig.iterator || [];\r\n\r\n        tmpl = this.selectTmpl;\r\n        break;\r\n      }\r\n      case 'multiSelect': {\r\n        this.selectOptions = this.elementConfig.iterator || [];\r\n        if (this.elementConfig.multiSelectDataType === 'array') {\r\n          this.elementValue = this.elementValue ? this.elementValue.toString() : '';\r\n        }\r\n\r\n        tmpl = this.multiSelectTmpl;\r\n        break;\r\n      }\r\n      case 'modal': {\r\n        this._convertModalShowValue(this.elementValue);\r\n\r\n        tmpl = this.modalTmpl;\r\n        break;\r\n      }\r\n      case 'number': {\r\n        this.precision = this.elementConfig.decimals === undefined ? 2 : this.elementConfig.decimals;\r\n\r\n        tmpl = this.numberTmpl;\r\n        break;\r\n      }\r\n      case 'string': {\r\n        if (this.elementConfig.readonly) {\r\n          this._convertModalShowValue(this.elementValue);\r\n        }\r\n        tmpl = this.stringTmpl;\r\n        break;\r\n      }\r\n      case 'boolOrExp': {\r\n        this.selectOptions = [{ key: true, value: 'true' }, { key: false, value: 'false' }];\r\n\r\n        tmpl = this.boolOrExpTmpl;\r\n        break;\r\n      }\r\n      case 'date': {\r\n        tmpl = this.dateTmpl;\r\n        break;\r\n      }\r\n      case 'datetime': {\r\n        tmpl = this.datetimeTmpl;\r\n        break;\r\n      }\r\n    }\r\n\r\n    // é»è®¤å¼\r\n    if (Object.keys(this.elementConfig).indexOf('defaultValue') > -1) {\r\n      if (this.elementValue === undefined || this.elementValue === null) {\r\n        this.elementValue = this.elementConfig.defaultValue;\r\n      }\r\n      this.showDefaultValue = true;\r\n    }\r\n\r\n    // æ¯å¦æ¾ç¤º\r\n    if (Object.keys(this.elementConfig).indexOf('visible') < 0) {\r\n      this.elementConfig.visible = true;\r\n    }\r\n\r\n    // åå»ºæ¨¡æ¿\r\n    if (tmpl && (this.propItem.length === 0 || this.propertyOldType !== this.itemType)) {\r\n      this.propItem.clear();\r\n      this.propItem.createEmbeddedView(tmpl);\r\n      this.propertyOldType = this.itemType;\r\n    }\r\n\r\n\r\n  }\r\n\r\n  /**\r\n   * é¼ æ ç§»å¥ --å·²åºå¼\r\n   */\r\n  onmouseover() {\r\n    if (!this.elementConfig.showClearButton) {\r\n      return;\r\n    }\r\n    if (!this.showClearButton) {\r\n      this.showClearButton = true;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * é¼ æ ç¦»å¼ --å·²åºå¼\r\n   */\r\n  onmouseleave() {\r\n    if (!this.elementConfig.showClearButton) {\r\n      return;\r\n    }\r\n    this.showClearButton = false;\r\n  }\r\n\r\n\r\n  /**\r\n   * æ¸é¤æ¨¡ææ¡åå®¹\r\n   */\r\n  modalClear() {\r\n    // æ°æ®è½¬æ¢\r\n    this._convertModalShowValue(null);\r\n\r\n    // è¥ææ¸é¤åäºä»¶ï¼åæ§è¡æ¹æ³\r\n    if (Object.keys(this.elementConfig).indexOf('afterClickClearButton') > -1 &&\r\n      typeof (this.elementConfig.afterClickClearButton) === 'function') {\r\n      this.elementConfig.afterClickClearButton(this.elementValue);\r\n    }\r\n\r\n    const changeObject = {\r\n      propertyID: this.elementConfig.propertyID,\r\n      propertyValue: null\r\n    };\r\n    this.submitModal.emit({ changeObject, parameters: null });\r\n  }\r\n\r\n  /**\r\n   * åæ´å±æ§å¼\r\n   */\r\n  changeValue(e) {\r\n    let value = this.elementValue;\r\n\r\n    // ææ¬æ§ä»¶éå¶è¾å¥å­ç¬¦\r\n    if (value && this.elementConfig.propertyType === 'string' && !this.elementConfig.readonly &&\r\n      this.elementConfig.notAllowedChars && this.elementConfig.notAllowedChars.length) {\r\n      this.elementConfig.notAllowedChars.forEach((c: any) => {\r\n        if (typeof (c) === 'object') {\r\n          value = value.replace(c, '');\r\n        } else if (typeof (c) === 'string') {\r\n          value = value.replace(new RegExp(c, 'g'), '');\r\n        }\r\n\r\n      });\r\n      this.elementValue = value;\r\n    }\r\n\r\n    // å¤éæ§ä»¶è¿åæ°ç»æ ¼å¼çæ°æ®\r\n    if (this.itemType === 'multiSelect' && this.elementConfig.multiSelectDataType === 'array') {\r\n      value = this.elementValue ? this.elementValue.split(',') : '';\r\n    }\r\n\r\n    const changeObject = {\r\n      propertyID: this.elementConfig.propertyID,\r\n      propertyValue: value\r\n    };\r\n    this.valueChanged.emit({ changeObject });\r\n    if (this.elementConfig.refreshPanelAfterChanged) {\r\n      this.triggerRefreshPanel.emit();\r\n    }\r\n  }\r\n  /**\r\n   * farris æ¥ææ§ä»¶çåæ´äºä»¶\r\n   * @param e e\r\n   */\r\n  changeDateValue(e) {\r\n    const value = e.formatted;\r\n\r\n    const changeObject = {\r\n      propertyID: this.elementConfig.propertyID,\r\n      propertyValue: value\r\n    };\r\n    this.valueChanged.emit({ changeObject });\r\n    if (this.elementConfig.refreshPanelAfterChanged) {\r\n      this.triggerRefreshPanel.emit();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * èªå®ä¹ç¼è¾å¨ä½¿ç¨æ¨¡ææ¡æå¼\r\n   */\r\n  openModal() {\r\n    if (this.elementConfig.readonly) {\r\n      return;\r\n    }\r\n    if (Object.keys(this.elementConfig).indexOf('beforeOpenModal') > -1 && typeof (this.elementConfig.beforeOpenModal) === 'function') {\r\n      const result = this.elementConfig.beforeOpenModal();\r\n      if (result && !result.result) {\r\n        this.notifyServ.warning({\r\n          title: 'ç³»ç»æç¤º', msg: result.message, timeout: 3000\r\n        } as NotifyOptions);\r\n        return;\r\n      }\r\n    }\r\n    this.createEditorComponent();\r\n  }\r\n\r\n  /**\r\n   * åå»ºèªå®ä¹ç¼è¾å¨\r\n   */\r\n  private createEditorComponent() {\r\n    const editor = this.elementConfig.editor;\r\n    if (!editor) {\r\n      return;\r\n    }\r\n    // åå»ºæ¨¡ææ¡ç»ä»¶\r\n    const compFactory = this.resolver.resolveComponentFactory(editor);\r\n    const compRef = compFactory.create(this.injector);\r\n    compRef.instance.value = this.elementValue;\r\n    if (this.elementConfig.editorParams) {  // ç¼è¾å¨éè¦çé¢å¤åæ°\r\n      compRef.instance.editorParams = this.elementConfig.editorParams;\r\n    }\r\n    let modalConfig = compRef.instance.modalConfig;\r\n    if (!modalConfig) {\r\n      modalConfig = {\r\n        title: 'å±æ§éç½®',\r\n        width: 800,\r\n        height: 400,\r\n        showButtons: false\r\n      };\r\n    } else if (modalConfig.showButtons) {\r\n      modalConfig.buttons = compRef.instance.modalFooter;\r\n    }\r\n\r\n    const dialog = this.modalService.show(compRef, modalConfig);\r\n\r\n    // çå¬å³é­æ¨¡ææ¡\r\n    if (compRef.instance.closeModal && compRef.instance.closeModal instanceof EventEmitter) {\r\n      compRef.instance.closeModal.subscribe((data) => {\r\n        // æ°æ®è½¬æ¢\r\n        if (data) {\r\n          this._convertModalShowValue(data);\r\n\r\n          const changeObject = {\r\n            propertyID: this.elementConfig.propertyID,\r\n            propertyValue: data\r\n          };\r\n          this.valueChanged.emit({ changeObject });\r\n\r\n        }\r\n\r\n        dialog.close();\r\n      });\r\n    }\r\n\r\n\r\n\r\n    // å¼¹åºæ¡å³é­äºä»¶ï¼å¸¦åæ°ï¼æ ¼å¼ä¸º{ value, parameters }\r\n    if (compRef.instance.submitModal && compRef.instance.submitModal instanceof EventEmitter) {\r\n      compRef.instance.submitModal.subscribe(data => {\r\n        if (!data) {\r\n          dialog.close();\r\n          return;\r\n        }\r\n        const { value, parameters } = data;\r\n        // æ°æ®è½¬æ¢\r\n        this._convertModalShowValue(value);\r\n\r\n        const changeObject = {\r\n          propertyID: this.elementConfig.propertyID,\r\n          propertyValue: value\r\n        };\r\n        this.submitModal.emit({ changeObject, parameters });\r\n\r\n        dialog.close();\r\n      });\r\n    }\r\n\r\n  }\r\n\r\n  /**\r\n   * æ¨¡ææ¡åºæ¯ä¸å°å±æ§å¼è½¬æ¢ä¸ºè¾å¥æ¡ä¸­æ¾ç¤ºçå¼\r\n   * @param value\r\n   */\r\n  private _convertModalShowValue(value) {\r\n    if (this.elementConfig.converter) {\r\n      this.elementShowValue = this.elementConfig.converter.convertTo(value);\r\n      return;\r\n    }\r\n    if (value && value instanceof Object) {\r\n      this.elementShowValue = JSON.stringify(value);\r\n      return;\r\n    }\r\n    this.elementShowValue = value;\r\n  }\r\n}\r\n","import { Component, Input, Output, EventEmitter, ViewChildren, OnChanges, SimpleChanges, ViewEncapsulation } from '@angular/core';\r\nimport { ElementPropertyConfig } from '../../entity/property-entity';\r\nimport { PropertyItemComponent } from '../property-item/property-item.component';\r\n\r\n@Component({\r\n  selector: 'webide-property-item-list',\r\n  templateUrl: './property-item-list.component.html',\r\n  styleUrls: ['./property-item-list.component.css'],\r\n  encapsulation: ViewEncapsulation.None\r\n\r\n})\r\nexport class PropertyItemListComponent implements OnChanges {\r\n  @Input() category: ElementPropertyConfig; // æä¸åç±»ä¸çå±æ§éç½®\r\n  @Input() propertyData; // å±æ§å¼\r\n  @Output() valueChanged = new EventEmitter<any>();\r\n  @Output() submitModal = new EventEmitter<any>();\r\n  @Output() triggerRefreshPanel = new EventEmitter<any>();\r\n\r\n  @ViewChildren(PropertyItemComponent) items: Array<PropertyItemComponent>;\r\n\r\n  // å®éå±æ§å¼\r\n  data;\r\n\r\n  constructor() { }\r\n\r\n  ngOnChanges(simpleChanges: SimpleChanges) {\r\n    // è¥åç±»ä¸æpropertyDataï¼åååç±»ä¸çpropertyDataï¼å¦ååæ´ä½çpropertyData\r\n    if (this.category.propertyData && this.category.enableCascade) {\r\n      this.data = this.category.propertyData;\r\n    } else {\r\n      this.data = this.propertyData;\r\n    }\r\n\r\n    this.adaptProperties();\r\n\r\n  }\r\n  /**\r\n   * ééå±æ§\r\n   */\r\n  private adaptProperties() {\r\n    this.category.properties.forEach(propItem => {\r\n      if (propItem.propertyType === 'cascade') {\r\n        this.cascadeValueStringify(propItem, this.data[propItem.propertyID]);\r\n        if (Object.keys(propItem).indexOf('visible') < 0) {\r\n          propItem.visible = true;\r\n        }\r\n      }\r\n    });\r\n  }\r\n  refresh() {\r\n    // è¥åç±»ä¸æpropertyDataï¼åååç±»ä¸çpropertyDataï¼å¦ååæ´ä½çpropertyData\r\n    if (this.category.propertyData && this.category.enableCascade) {\r\n      this.data = this.category.propertyData;\r\n    } else {\r\n      this.data = this.propertyData;\r\n    }\r\n    this.items.forEach(item => item.refresh());\r\n  }\r\n\r\n  /**\r\n   * ä¸è¬å±æ§åæ´\r\n   * @param $event\r\n   */\r\n  _itemChanged($event) {\r\n    const { changeObject } = $event;\r\n    this.data[changeObject.propertyID] = changeObject.propertyValue;\r\n\r\n    if (this.category.setPropertyRelates && typeof (this.category.setPropertyRelates) === 'function') {\r\n      this.category.setPropertyRelates(changeObject, this.data);\r\n      this.items.forEach(item => item.refresh());\r\n    }\r\n    changeObject.categoryId = this.category.categoryId;\r\n\r\n    if (this.category.enableCascade) {\r\n      changeObject.propertyPath = this.category.parentPropertyID;\r\n    }\r\n    this.valueChanged.emit(changeObject);\r\n  }\r\n\r\n  /**\r\n   * æ¨¡ææ¡æ°æ®åæ´ï¼TODO:å¾ä¼åï¼åå¹¶valueChangeäºä»¶ï¼\r\n   * @param $event\r\n   */\r\n  _submitModal($event) {\r\n    const { changeObject, parameters } = $event;\r\n    this.data[changeObject.propertyID] = changeObject.propertyValue;\r\n\r\n    if (this.category.setPropertyRelates && typeof (this.category.setPropertyRelates) === 'function') {\r\n      this.category.setPropertyRelates(changeObject, this.data, parameters);\r\n      this.items.forEach(item => item.refresh());\r\n    }\r\n\r\n    changeObject.categoryId = this.category.categoryId;\r\n    if (this.category.enableCascade) {\r\n      changeObject.propertyPath = this.category.parentPropertyID;\r\n    }\r\n    this.submitModal.emit($event);\r\n  }\r\n\r\n  /**\r\n   * çº§èå±æ§åæ´\r\n   */\r\n  _cascadeitemChanged($event, propItem) {\r\n    const parentPropertyID = propItem.propertyID;\r\n    if (!parentPropertyID) {\r\n      return;\r\n    }\r\n    const { changeObject } = $event;\r\n    if (!this.data[parentPropertyID]) {\r\n      this.data[parentPropertyID] = {};\r\n    }\r\n\r\n    this.data[parentPropertyID][changeObject.propertyID] = changeObject.propertyValue;\r\n\r\n    changeObject.categoryId = this.category.categoryId;\r\n\r\n    changeObject.parentPropertyID = changeObject.propertyPath = parentPropertyID;\r\n    // åç±»å¯ç¨äºçº§èï¼å¹¶ä¸åç±»ä¸æçº§èå±æ§\r\n    if (this.category.enableCascade) {\r\n      changeObject.propertyPath = this.category.parentPropertyID + '.' + changeObject.parentPropertyID;\r\n    }\r\n\r\n    if (this.category.setPropertyRelates && typeof (this.category.setPropertyRelates) === 'function') {\r\n      this.category.setPropertyRelates(changeObject, this.data);\r\n      this.items.forEach(item => item.refresh());\r\n    }\r\n\r\n    this.cascadeValueStringify(propItem, this.data[parentPropertyID]);\r\n    this.valueChanged.emit(changeObject);\r\n  }\r\n\r\n  /**\r\n   * çº§èæ¨¡ææ¡å±æ§åæ´\r\n   */\r\n  __cascadeitemSubmitModal($event, propItem) {\r\n    const parentPropertyID = propItem.propertyID;\r\n    if (!parentPropertyID) {\r\n      return;\r\n    }\r\n    const { changeObject, parameters } = $event;\r\n    if (!this.data[parentPropertyID]) {\r\n      this.data[parentPropertyID] = {};\r\n    }\r\n\r\n    this.data[parentPropertyID][changeObject.propertyID] = changeObject.propertyValue;\r\n\r\n    changeObject.categoryId = this.category.categoryId;\r\n\r\n    changeObject.parentPropertyID = changeObject.propertyPath = parentPropertyID;\r\n    // åç±»å¯ç¨äºçº§èï¼å¹¶ä¸åç±»ä¸æçº§èå±æ§\r\n    if (this.category.enableCascade) {\r\n      changeObject.propertyPath = this.category.parentPropertyID + '.' + changeObject.parentPropertyID;\r\n    }\r\n\r\n    if (this.category.setPropertyRelates && typeof (this.category.setPropertyRelates) === 'function') {\r\n      this.category.setPropertyRelates(changeObject, this.data, parameters);\r\n      this.items.forEach(item => item.refresh());\r\n    }\r\n\r\n    this.cascadeValueStringify(propItem, this.data[parentPropertyID]);\r\n\r\n    this.submitModal.emit($event);\r\n  }\r\n  /**\r\n   * çº§èå±æ§çæ±æ»ä¿¡æ¯\r\n   * @param propItem\r\n   * @param valueObject\r\n   */\r\n  cascadeValueStringify(propItem, valueObject) {\r\n    if (!propItem || !propItem.cascadeConfig) {\r\n      return;\r\n    }\r\n    if (!valueObject) {\r\n      propItem.cascadeSummary = '';\r\n      return;\r\n    }\r\n    if (!propItem.cascadeConverter || !propItem.cascadeConverter.convertTo) {\r\n      propItem.cascadeSummary = JSON.stringify(valueObject);\r\n    } else {\r\n      propItem.cascadeSummary = propItem.cascadeConverter.convertTo(valueObject, propItem.cascadeConfig);\r\n    }\r\n\r\n\r\n\r\n  }\r\n\r\n  /**\r\n   *  å·²åºå¼\r\n   */\r\n  _checkCascadeVisible(propItem) {\r\n    if (Object.keys(propItem).indexOf('visible') < 0) {\r\n      return true;\r\n    } else {\r\n      return propItem.visible;\r\n    }\r\n  }\r\n\r\n\r\n  refreshPanel() {\r\n    this.triggerRefreshPanel.emit();\r\n  }\r\n\r\n  trackByPropId(index: number, PropItem: any): string {\r\n    return PropItem.propertyID;\r\n  }\r\n\r\n}\r\n","import {\r\n  Component, OnInit, Input, ViewChild, ElementRef, Output,\r\n  EventEmitter, OnChanges, SimpleChanges, ViewChildren\r\n} from '@angular/core';\r\nimport { ElementPropertyConfig, PropertyChangeObject } from '../../entity/property-entity';\r\nimport { PropertyItemListComponent } from '../property-item-list/property-item-list.component';\r\n\r\n@Component({\r\n  selector: 'app-property-panel',\r\n  templateUrl: './property-panel.component.html',\r\n  styleUrls: ['./property-panel.component.css']\r\n})\r\nexport class PropertyPanelComponent implements OnInit, OnChanges {\r\n  @Input() width: number;\r\n  @Input() height: number;\r\n\r\n  /** æ¯å¦ææé¢æ¿çéèæ¾ç¤ºç¶æ */\r\n  @Input() isPersitOpenState = false;\r\n\r\n  /** isPersitOpenState=trueæ¶ï¼æ§å¶é¢æ¿æ¯å¦éèæ¾ç¤º */\r\n  @Input() isShowPanel = false;\r\n\r\n  /** isPersitOpenState=trueæ¶ï¼æåºé¢æ¿çå³é­äºä»¶ */\r\n  @Output() closePropertyPanel = new EventEmitter<any>();\r\n\r\n  /** å±æ§ç±»å */\r\n  @Input() propertyConfig: ElementPropertyConfig[];\r\n\r\n  /**  å±æ§å¼ */\r\n  @Input() propertyData = {};\r\n\r\n  /** å±æ§åæ´äºä»¶ */\r\n  @Output() propertyChanged = new EventEmitter<any>();\r\n\r\n  /** æ¨¡ææ¡å±æ§åæ´äºä»¶   */\r\n  @Output() submitModal = new EventEmitter<any>();\r\n\r\n  /** æ¯å¦å±ç¤ºå³é­æé® */\r\n  @Input() showCloseBtn = true;\r\n\r\n\r\n  @ViewChild('east') private eastDiv: ElementRef;\r\n  @ViewChildren(PropertyItemListComponent) itemLists: Array<PropertyItemListComponent>;\r\n\r\n  /** å½åå±ç¤ºç¶æ */\r\n  isOpen = true;\r\n\r\n  /** å¤å±åç±»ï¼ä»¥æ ç­¾é¡µå½¢å¼å±ç¤º */\r\n  categoryTabs = [];\r\n\r\n  /** å½åéä¸­çæ ç­¾é¡µ */\r\n  selectedTab: any;\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit() {\r\n\r\n    if (this.width) {\r\n      this.eastDiv.nativeElement.style.width = this.width + 'px';\r\n    } else {\r\n      this.eastDiv.nativeElement.style.width = 'inherit';\r\n    }\r\n    if (this.height) {\r\n      this.eastDiv.nativeElement.style.height = this.height + 'px';\r\n    } else {\r\n      this.eastDiv.nativeElement.style.height = '100%';\r\n    }\r\n\r\n\r\n    if (this.isPersitOpenState) {\r\n      this.isOpen = this.isShowPanel;\r\n    }\r\n\r\n    this.checkShowTabCategory();\r\n  }\r\n\r\n  /**\r\n   *  æ´æ¹é¢æ¿çéèæ¾ç¤ºç¶æï¼åªæå¨isPersitOpenState=trueæ¶çæ\r\n   */\r\n  ngOnChanges(simpleChanges: SimpleChanges) {\r\n    if (simpleChanges.isShowPanel && this.isPersitOpenState) {\r\n      this.isOpen = this.isShowPanel;\r\n    }\r\n    this.checkShowTabCategory();\r\n  }\r\n  refreshPanel() {\r\n    this.checkShowTabCategory();\r\n    this.itemLists.forEach(item => item.refresh());\r\n  }\r\n  changeStatus(item: any) {\r\n    if (this.propertyConfig.length < 2) {\r\n      return;\r\n    }\r\n    if (!item.status || item.status === 'open') {\r\n      item.status = 'closed';\r\n    } else {\r\n      item.status = 'open';\r\n    }\r\n  }\r\n\r\n  /**\r\n   *  éèé¢æ¿\r\n   */\r\n  collapse() {\r\n    // isPersitOpenState=trueæ¶,ç±å¤é¨ç¡®å®ç¶æ\r\n    if (!this.isPersitOpenState) {\r\n      this.isOpen = false;\r\n    }\r\n    this.closePropertyPanel.emit();\r\n  }\r\n\r\n  /**\r\n   * æåºå±æ§åæ´äºä»¶\r\n   */\r\n  _valueChanged(changeObject: PropertyChangeObject) {\r\n    this.propertyChanged.emit(changeObject);\r\n  }\r\n  _submitModal($event: PropertyChangeObject) {\r\n    this.submitModal.emit($event);\r\n  }\r\n\r\n  /**\r\n   * å°å±æ§åç±»æç§æ ç­¾é¡µè¿è¡å½ç±»\r\n   */\r\n  private checkShowTabCategory() {\r\n    this.categoryTabs = [];\r\n    if (!this.propertyConfig || this.propertyConfig.length === 0) {\r\n      this.categoryTabs = [{\r\n        tabId: 'default',\r\n        tabName: 'å±æ§',\r\n        categoryList: []\r\n      }];\r\n      this.selectedTab = null;\r\n      return;\r\n    }\r\n    this.propertyConfig.forEach(config => {\r\n      if (config.tabId) {\r\n        const propTab = this.categoryTabs.find(t => t.tabId === config.tabId);\r\n        if (!propTab) {\r\n          this.categoryTabs.push({\r\n            tabId: config.tabId,\r\n            tabName: config.tabName,\r\n            categoryList: [config],\r\n            hide: config.hide || config.properties.length === 0\r\n          });\r\n        } else {\r\n\r\n          propTab.categoryList.push(config);\r\n          if (propTab.hide) {\r\n            propTab.hide = config.hide || config.properties.length === 0;\r\n          }\r\n        }\r\n      } else {\r\n        const defaultTab = this.categoryTabs.find(t => t.tabId === 'default');\r\n        if (!defaultTab) {\r\n          this.categoryTabs.push({\r\n            tabId: 'default',\r\n            tabName: 'å±æ§',\r\n            categoryList: [config]\r\n          });\r\n        } else {\r\n          defaultTab.categoryList.push(config);\r\n        }\r\n\r\n      }\r\n    });\r\n\r\n    this.selectedTab = this.categoryTabs[0];\r\n\r\n\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n// import { PopoverModule } from '@farris/ui-popover';\r\nimport { PopoverModule } from '../popover/popover.module';\r\nimport { PropertyPanelComponent } from './components/property-panel/property-panel.component';\r\nimport { PropertyItemListComponent } from './components/property-item-list/property-item-list.component';\r\nimport { PropertyItemComponent } from './components/property-item/property-item.component';\r\nimport { InputsModule } from '@progress/kendo-angular-inputs';\r\nimport { DropDownsModule } from '@progress/kendo-angular-dropdowns';\r\nimport { NotifyModule } from '@farris/ui-notify';\r\nimport { ComboListModule } from '../combo-list/combo-list.module';\r\nimport { ComboListModule as FarrisComboListModule } from '@farris/ui-combo-list';\r\nimport { ModalModule } from '@farris/ui-modal';\r\nimport { FarrisDatePickerModule } from '@farris/ui-datepicker';\r\nimport { NumberSpinnerModule } from '@farris/ui-number-spinner';\r\n\r\n\r\n@NgModule({\r\n    declarations: [\r\n        PropertyPanelComponent,\r\n        PropertyItemListComponent,\r\n        PropertyItemComponent\r\n    ],\r\n    imports: [\r\n        CommonModule,\r\n        FormsModule,\r\n        PopoverModule,\r\n        // PopoverModule.forRoot(),\r\n        InputsModule,\r\n        DropDownsModule,\r\n        ComboListModule,\r\n        NotifyModule.forRoot(),\r\n        ModalModule.forRoot(),\r\n        FarrisDatePickerModule,\r\n        FarrisComboListModule,\r\n        NumberSpinnerModule\r\n    ],\r\n    exports: [PropertyPanelComponent],\r\n    entryComponents: [PropertyPanelComponent, PropertyItemComponent]\r\n})\r\nexport class PropertyPanelModule {\r\n    constructor() { }\r\n}\r\n","import { Type } from '@angular/core';\r\n\r\n/**\r\n * å±æ§ç±»å\r\n */\r\nexport enum PropertyType {\r\n    string = 'string',\r\n    boolean = 'boolean',\r\n    number = 'number',\r\n    select = 'select',\r\n    boolOrExp = 'boolOrExp',\r\n    multiSelect = 'multiSelect',\r\n    date = 'date',\r\n    datetime = 'datetime',\r\n    modal = 'modal',\r\n    cascade = 'cascade'\r\n}\r\n\r\n\r\n/**\r\n * å±æ§åç±»å®ä½\r\n */\r\nexport class ElementPropertyConfig {\r\n    /**\r\n     * åç±»ID\r\n     */\r\n    categoryId: string;\r\n\r\n    /**\r\n     * åç±»æ¾ç¤ºçåç§°\r\n     */\r\n    categoryName: string;\r\n\r\n    /**\r\n     * åç±»æ¯å¦éèï¼é»è®¤false\r\n     */\r\n    hide?= false;\r\n\r\n    /**\r\n     * æ¯å¦éèåç±»æ é¢\r\n     */\r\n    hideTitle?= false;\r\n\r\n    /**\r\n     * åç±»ä¸çå±æ§éç½®\r\n     */\r\n    properties: PropertyEntity[];\r\n\r\n    /**\r\n     * æ¯å¦å¯ç¨çº§èç¹æ§ï¼é»è®¤false\r\n     */\r\n    enableCascade?= false;\r\n\r\n    /**\r\n     * å±æ§å¼ï¼åç±»å¯ç¨çº§èç¹æ§æ¶å¿å¡«\r\n     */\r\n    propertyData?: any;\r\n\r\n    /**\r\n     * ç¶çº§å±æ§IDï¼åç±»å¯ç¨çº§èç¹æ§æ¶å¿å¡«\r\n     */\r\n    parentPropertyID?: string;\r\n\r\n    /**\r\n     * å±æ§å³èå³ç³»ï¼ç¨äºå±æ§åæ´åä¿®æ¹å¶ä»å±æ§éç½®æå±æ§å¼\r\n     */\r\n    setPropertyRelates?: (changeObject, propertyData, parameters?) => void;\r\n\r\n    /**\r\n     * åç±»ä»¥æ ç­¾é¡µå±ç¤ºæ¶ï¼æ ç­¾é¡µçIDãè¥åªéå¹³éºå±ç¤ºï¼åä¸éè¦ä¼ å¥ã\r\n     */\r\n    tabId?: string;\r\n\r\n    /**\r\n     * åç±»ä»¥æ ç­¾é¡µå±ç¤ºæ¶ï¼æ ç­¾é¡µçåç§°ãè¥åªéå¹³éºå±ç¤ºï¼åä¸éè¦ä¼ å¥ã\r\n     */\r\n    tabName?: string;\r\n}\r\n\r\n\r\n\r\n/**\r\n * å±æ§å®ä½\r\n */\r\nexport class PropertyEntity {\r\n    /**\r\n     * å±æ§ID\r\n     */\r\n    propertyID: string;\r\n\r\n    /**\r\n     * å±æ§æ¾ç¤ºçåç§°\r\n     */\r\n    propertyName: string;\r\n\r\n    /**\r\n     * å±æ§çç±»å\r\n     */\r\n    propertyType: PropertyType | any;\r\n\r\n    /**\r\n     * å±æ§æè¿°\r\n     */\r\n    description?: string;\r\n\r\n    /**\r\n     * å±æ§çé»è®¤å¼\r\n     */\r\n    defaultValue?: any;\r\n\r\n    /**\r\n     * æ¯å¦åªè¯»ï¼é»è®¤false\r\n     */\r\n    readonly?= false;\r\n\r\n    /**\r\n     * æ¯å¦å¯è§ï¼é»è®¤true\r\n     */\r\n    visible?= true;\r\n\r\n    /**\r\n     * æå°å¼\r\n     */\r\n    min?: any;\r\n\r\n    /**\r\n     * æå¤§å¼\r\n     */\r\n    max?: any;\r\n\r\n    /**\r\n     * æ°å­ç±»åå±æ§çå°æ°ä½æ°\r\n     */\r\n    decimals?: number;\r\n\r\n    /**\r\n     * æ¯å¦å¤§æ°å­\r\n     */\r\n    isBigNumber?= false;\r\n\r\n    /**\r\n     * å±æ§æ¹ååæ¯å¦éè¦å·æ°æ´ä¸ªé¢æ¿ï¼ç¨äºæ´æ¹å¶ä»åç±»ä¸çå±æ§\r\n     */\r\n    refreshPanelAfterChanged?= false;\r\n\r\n    /**\r\n     * ä¸ææ¡çæä¸¾å¼\r\n     */\r\n    iterator?: KeyMap[];\r\n\r\n    /**\r\n     * ä¸æå¤éç±»åï¼å±æ§å¼çç±»åï¼string(å¤å¼ä»¥éå·åé)/array(å¤å¼ç»è£ææ°ç»)\r\n     */\r\n    multiSelectDataType?= 'string';\r\n\r\n    /**\r\n     * ææ¬æ§ä»¶éå¶è¾å¥çå­ç¬¦ï¼æ¯æå­ç¬¦åæ­£åè¡¨è¾¾å¼\r\n     */\r\n    notAllowedChars?: any[];\r\n\r\n    /**\r\n     * çº§èå±æ§éç½®\r\n     */\r\n    cascadeConfig?: PropertyEntity[];\r\n\r\n    /**\r\n     * çº§èå±æ§æ¯å¦é»è®¤æ¶èµ·\r\n     */\r\n    isExpand?= false;\r\n\r\n    /**\r\n     * æ¯å¦éèçº§èå±æ§çå¤´é¨\r\n     */\r\n    hideCascadeTitle?= false;\r\n\r\n    /**\r\n     * çº§èå±æ§çæ±æ»ä¿¡æ¯\r\n     */\r\n    cascadeConverter?: TypeConverter;\r\n\r\n    /**\r\n     * æ¨¡ææ¡å±æ§èªå®ä¹ç¼è¾å¨\r\n     */\r\n    editor?: Type<any>;\r\n\r\n    /**\r\n     * æ¨¡ææ¡å±æ§èªå®ä¹ç¼è¾å¨åæ°\r\n     */\r\n    editorParams?: any;\r\n\r\n    /**\r\n     *  æ¨¡ææ¡å±æ§å¼è½¬æ¢å¨\r\n     */\r\n    converter?: TypeConverter;\r\n\r\n    /**\r\n     * æ¨¡ææ¡å±æ§æ¯å¦å±ç¤ºæ¸é¤å¾æ \r\n     */\r\n    showClearButton?= false;\r\n\r\n    /**\r\n     * ç¹å»æ¸é¤æé®åçæ¹æ³ï¼åæ°ä¸ºæ¸é¤åçå±æ§å¼\r\n     */\r\n    afterClickClearButton?(value: any): void;\r\n\r\n    /**\r\n     * æå¼æ¨¡ææ¡åçæ¹æ³ï¼ä¸è¬ç¨äºæ ¡éªé»è¾ï¼è¿åå¼ä¸­result=trueï¼åè¿ä¸æ­¥æå¼æ¨¡ææ¡ï¼result=falseåæç¤ºmessageåå®¹ï¼å¹¶ä¸åæå¼æ¨¡ææ¡ã\r\n     */\r\n    beforeOpenModal?(): BeforeOpenModalResult {\r\n        return new BeforeOpenModalResult();\r\n    }\r\n\r\n    [propName: string]: any;\r\n}\r\n\r\n/**\r\n * å±æ§å¼è½¬æ¢å¨ï¼è¿åæ¨¡ææ¡ç±»å±æ§ææ¬æ¡åçæ¾ç¤ºåå®¹\r\n */\r\nexport interface TypeConverter {\r\n    convertTo(data: any, params?: any): string; // ç±æ¨¡ææ¡è½¬ä¸ºå±æ§æ¡ä¸­å±ç¤ºçå¼\r\n}\r\n\r\nexport interface KeyMap {\r\n    key: any;\r\n    value: any;\r\n}\r\n\r\n/**\r\n * æå¼æ¨¡ææ¡åçæ¹æ³è¿åå¼ï¼result=trueï¼åè¿ä¸æ­¥æå¼æ¨¡ææ¡ï¼result=falseåæç¤ºmessageåå®¹ï¼å¹¶ä¸åæå¼æ¨¡ææ¡ã\r\n */\r\nexport class BeforeOpenModalResult {\r\n    result: boolean;\r\n    message?: string;\r\n}\r\n\r\n/**\r\n * å±æ§åæ´é\r\n */\r\nexport class PropertyChangeObject {\r\n    /**\r\n     * å±æ§ID\r\n     */\r\n    propertyID: string;\r\n\r\n    /**\r\n     * åæ´åçå±æ§å¼\r\n     */\r\n    propertyValue: any;\r\n\r\n    /**\r\n     *  å±æ§æå¨åç±»ID\r\n     */\r\n    categoryId: string;\r\n\r\n    /**\r\n     * çº§èå±æ§çç¶è·¯å¾ï¼ä»¥.åé\r\n     */\r\n    propertyPath: string;\r\n\r\n    /**\r\n     * çº§èå±æ§çç¶å±æ§ID\r\n     */\r\n    parentPropertyID: string;\r\n\r\n}\r\n","import {Injectable} from '@angular/core';\r\n\r\n/**\r\n * Configuration service for the NgbTabset component.\r\n * You can inject this service, typically in your root component, and customize the values of its properties in\r\n * order to provide default values for all the tabsets used in the application.\r\n */\r\n@Injectable()\r\nexport class NgbTabsetConfig {\r\n  justify: 'start' | 'center' | 'end' | 'fill' | 'justified' = 'start';\r\n  orientation: 'horizontal' | 'vertical' = 'horizontal';\r\n  type: 'tabs' | 'pills' = 'tabs';\r\n}\r\n","import {\r\n  Component,\r\n  Input,\r\n  ContentChildren,\r\n  QueryList,\r\n  Directive,\r\n  TemplateRef,\r\n  ContentChild,\r\n  AfterContentChecked,\r\n  Output,\r\n  EventEmitter\r\n} from '@angular/core';\r\nimport { NgbTabsetConfig } from './tabset-config';\r\n\r\nlet nextId = 0;\r\n\r\n/**\r\n * This directive should be used to wrap tab titles that need to contain HTML markup or other directives.\r\n */\r\n@Directive({ selector: 'ng-template[ngbTabTitle]' })\r\n// tslint:disable-next-line:directive-class-suffix\r\nexport class NgbTabTitle {\r\n  constructor(public templateRef: TemplateRef<any>) { }\r\n}\r\n\r\n/**\r\n * This directive must be used to wrap content to be displayed in a tab.\r\n */\r\n@Directive({ selector: 'ng-template[ngbTabContent]' })\r\n// tslint:disable-next-line:directive-class-suffix\r\nexport class NgbTabContent {\r\n  constructor(public templateRef: TemplateRef<any>) { }\r\n}\r\n\r\n/**\r\n * A directive representing an individual tab.\r\n */\r\n@Directive({ selector: 'ngb-tab' })\r\n// tslint:disable-next-line:directive-class-suffix\r\nexport class NgbTab {\r\n  /**\r\n   * Unique tab identifier. Must be unique for the entire document for proper accessibility support.\r\n   */\r\n  @Input() id = `ngb-tab-${nextId++}`;\r\n  /**\r\n   * Simple (string only) title. Use the \"NgbTabTitle\" directive for more complex use-cases.\r\n   */\r\n  @Input() title: string;\r\n  /**\r\n   * Allows toggling disabled state of a given state. Disabled tabs can't be selected.\r\n   */\r\n  @Input() disabled = false;\r\n\r\n  @ContentChild(NgbTabContent) contentTpl: NgbTabContent;\r\n  @ContentChild(NgbTabTitle) titleTpl: NgbTabTitle;\r\n}\r\n\r\n/**\r\n * The payload of the change event fired right before the tab change\r\n */\r\nexport interface NgbTabChangeEvent {\r\n  /**\r\n   * Id of the currently active tab\r\n   */\r\n  activeId: string;\r\n\r\n  /**\r\n   * Id of the newly selected tab\r\n   */\r\n  nextId: string;\r\n\r\n  /**\r\n   * Function that will prevent tab switch if called\r\n   */\r\n  preventDefault: () => void;\r\n}\r\n\r\n/**\r\n * A component that makes it easy to create tabbed interface.\r\n */\r\n@Component({\r\n  selector: 'ngb-tabset',\r\n  exportAs: 'ngbTabset',\r\n  template: `\r\n    <ul [class]=\"'web-ide-content-tab-header nav nav-' + type + (orientation == 'horizontal'?  ' '\r\n      + justifyClass : ' flex-column')\" role=\"tablist\">\r\n      <li class=\"nav-item\" *ngFor=\"let tab of tabs\">\r\n        <a [id]=\"tab.id\" class=\"nav-link\" [class.active]=\"tab.id === activeId\" [class.disabled]=\"tab.disabled\"\r\n          href (click)=\"select(tab.id)\" role=\"tab\" [attr.tabindex]=\"(tab.disabled ? '-1': undefined)\"\r\n          [attr.aria-controls]=\"((!destroyOnHide || tab.id === activeId) ? tab.id + '-panel' : null)\"\r\n          [attr.aria-expanded]=\"tab.id === activeId\" [attr.aria-disabled]=\"tab.disabled\">\r\n          {{tab.title}}<ng-template [ngTemplateOutlet]=\"tab.titleTpl?.templateRef\"></ng-template>\r\n        </a>\r\n      </li>\r\n    </ul>\r\n    <div class=\"web-ide-content tab-content d-flex\">\r\n      <ng-template ngFor let-tab [ngForOf]=\"tabs\">\r\n        <div\r\n          class=\"tab-pane {{tab.id === activeId ? 'active' : null}}\"\r\n          *ngIf=\"!destroyOnHide || tab.id === activeId\"\r\n          role=\"tabpanel\"\r\n          [attr.aria-labelledby]=\"tab.id\" id=\"{{tab.id}}-panel\"\r\n          [attr.aria-expanded]=\"tab.id === activeId\">\r\n          <ng-template [ngTemplateOutlet]=\"tab.contentTpl.templateRef\"></ng-template>\r\n        </div>\r\n      </ng-template>\r\n    </div>\r\n  `,\r\n  styleUrls: ['./tabset.css']\r\n})\r\n// tslint:disable-next-line:component-class-suffix\r\nexport class NgbTabset implements AfterContentChecked {\r\n  justifyClass: string;\r\n\r\n  @ContentChildren(NgbTab) tabs: QueryList<NgbTab>;\r\n\r\n  /**\r\n   * An identifier of an initially selected (active) tab. Use the \"select\" method to switch a tab programmatically.\r\n   */\r\n  @Input() activeId: string;\r\n\r\n  /**\r\n   * Whether the closed tabs should be hidden without destroying them\r\n   */\r\n  @Input() destroyOnHide = true;\r\n\r\n  /**\r\n   * The horizontal alignment of the nav with flexbox utilities. Can be one of 'start', 'center', 'end', 'fill' or\r\n   * 'justified'\r\n   * The default value is 'start'.\r\n   */\r\n  @Input()\r\n  set justify(className: 'start' | 'center' | 'end' | 'fill' | 'justified') {\r\n    if (className === 'fill' || className === 'justified') {\r\n      this.justifyClass = `nav-${className}`;\r\n    } else {\r\n      this.justifyClass = `justify-content-${className}`;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * The orientation of the nav (horizontal or vertical).\r\n   * The default value is 'horizontal'.\r\n   */\r\n  @Input() orientation: 'horizontal' | 'vertical';\r\n\r\n  /**\r\n   * Type of navigation to be used for tabs. Can be one of 'tabs' or 'pills'.\r\n   */\r\n  @Input() type: 'tabs' | 'pills';\r\n\r\n  /**\r\n   * A tab change event fired right before the tab selection happens. See NgbTabChangeEvent for payload details\r\n   */\r\n  @Output() tabChange = new EventEmitter<NgbTabChangeEvent>();\r\n\r\n  constructor(config: NgbTabsetConfig) {\r\n    this.type = config.type;\r\n    this.justify = config.justify;\r\n    this.orientation = config.orientation;\r\n  }\r\n\r\n  /**\r\n   * Selects the tab with the given id and shows its associated pane.\r\n   * Any other tab that was previously selected becomes unselected and its associated pane is hidden.\r\n   */\r\n  select(tabId: string) {\r\n    const selectedTab = this._getTabById(tabId);\r\n    if (selectedTab && !selectedTab.disabled && this.activeId !== selectedTab.id) {\r\n      let defaultPrevented = false;\r\n\r\n      this.tabChange.emit(\r\n        { activeId: this.activeId, nextId: selectedTab.id, preventDefault: () => { defaultPrevented = true; } });\r\n\r\n      if (!defaultPrevented) {\r\n        this.activeId = selectedTab.id;\r\n      }\r\n    }\r\n  }\r\n\r\n  ngAfterContentChecked() {\r\n    // auto-correct activeId that might have been set incorrectly as input\r\n    const activeTab = this._getTabById(this.activeId);\r\n    this.activeId = activeTab ? activeTab.id : (this.tabs.length ? this.tabs.first.id : null);\r\n  }\r\n\r\n  private _getTabById(id: string): NgbTab {\r\n    const tabsWithId: NgbTab[] = this.tabs.filter(tab => tab.id === id);\r\n    return tabsWithId.length ? tabsWithId[0] : null;\r\n  }\r\n}\r\n","import {NgModule, ModuleWithProviders} from '@angular/core';\r\nimport {CommonModule} from '@angular/common';\r\n\r\nimport {NgbTabset, NgbTab, NgbTabContent, NgbTabTitle, NgbTabChangeEvent} from './tabset';\r\nimport {NgbTabsetConfig} from './tabset-config';\r\n\r\nexport {NgbTabset, NgbTab, NgbTabContent, NgbTabTitle, NgbTabChangeEvent} from './tabset';\r\nexport {NgbTabsetConfig} from './tabset-config';\r\n\r\nconst NGB_TABSET_DIRECTIVES = [NgbTabset, NgbTab, NgbTabContent, NgbTabTitle];\r\n\r\n@NgModule({declarations: NGB_TABSET_DIRECTIVES, exports: NGB_TABSET_DIRECTIVES, imports: [CommonModule]})\r\nexport class NgbTabsetModule {\r\n  static forRoot(): ModuleWithProviders { return {ngModule: NgbTabsetModule, providers: [NgbTabsetConfig]}; }\r\n}\r\n","import {Injectable} from '@angular/core';\r\n\r\n/**\r\n * Configuration service for the NgbNavTabset component.\r\n * You can inject this service, typically in your root component, and customize the values of its properties in\r\n * order to provide default values for all the tabsets used in the application.\r\n */\r\n@Injectable()\r\nexport class NgbNavTabsetConfig {\r\n  justify: 'start' | 'center' | 'end' | 'fill' | 'justified' = 'start';\r\n  orientation: 'horizontal' | 'vertical' = 'horizontal';\r\n  type: 'tabs' | 'pills' = 'tabs';\r\n}\r\n","import {\r\n  Component,\r\n  Input,\r\n  ContentChildren,\r\n  QueryList,\r\n  Directive,\r\n  TemplateRef,\r\n  ContentChild,\r\n  AfterContentChecked,\r\n  Output,\r\n  EventEmitter\r\n} from '@angular/core';\r\nimport { NgbNavTabsetConfig } from './navtab-config';\r\n\r\nlet nextId = 0;\r\n\r\n/**\r\n * This directive should be used to wrap tab titles that need to contain HTML markup or other directives.\r\n */\r\n@Directive({ selector: 'ng-template[ngbNavTabTitle]' })\r\n// tslint:disable-next-line:directive-class-suffix\r\nexport class NgbNavTabTitle {\r\n  constructor(public templateRef: TemplateRef<any>) { }\r\n}\r\n\r\n/**\r\n * This directive must be used to wrap content to be displayed in a tab.\r\n */\r\n@Directive({ selector: 'ng-template[ngbNavTabContent]' })\r\n// tslint:disable-next-line:directive-class-suffix\r\nexport class NgbNavTabContent {\r\n  constructor(public templateRef: TemplateRef<any>) { }\r\n}\r\n\r\n/**\r\n * A directive representing an individual tab.\r\n */\r\n@Directive({ selector: 'ngb-navtab' })\r\n// tslint:disable-next-line:directive-class-suffix\r\nexport class NgbNavTab {\r\n  /**\r\n   * Unique tab identifier. Must be unique for the entire document for proper accessibility support.\r\n   */\r\n  @Input() id = `ngb-tab-${nextId++}`;\r\n  /**\r\n   * Simple (string only) title. Use the \"NgbNavTabTitle\" directive for more complex use-cases.\r\n   */\r\n  @Input() title: string;\r\n  /**\r\n   * Allows toggling disabled state of a given state. Disabled tabs can't be selected.\r\n   */\r\n  @Input() disabled = false;\r\n\r\n  @ContentChild(NgbNavTabContent) contentTpl: NgbNavTabContent;\r\n  @ContentChild(NgbNavTabTitle) titleTpl: NgbNavTabTitle;\r\n}\r\n\r\n/**\r\n * The payload of the change event fired right before the tab change\r\n */\r\nexport interface NgbNavTabChangeEvent {\r\n  /**\r\n   * Id of the currently active tab\r\n   */\r\n  activeId: string;\r\n\r\n  /**\r\n   * Id of the newly selected tab\r\n   */\r\n  nextId: string;\r\n\r\n  /**\r\n   * Function that will prevent tab switch if called\r\n   */\r\n  preventDefault: () => void;\r\n}\r\n\r\n/**\r\n * A component that makes it easy to create tabbed interface.\r\n */\r\n@Component({\r\n  selector: 'ngb-navtabset',\r\n  exportAs: 'NgbNavTabset',\r\n  template: `\r\n    <ul [class]=\"'web-ide-activity-bar nav nav-' + type + (orientation == 'horizontal'?  ' '\r\n      + justifyClass : ' flex-column')\" role=\"tablist\">\r\n      <li class=\"nav-item\" *ngFor=\"let tab of tabs\">\r\n        <a [id]=\"tab.id\" class=\"nav-link\" [class.active]=\"tab.id === activeId\" [class.disabled]=\"tab.disabled\"\r\n          href (click)=\"select(tab.id)\" role=\"tab\" [attr.tabindex]=\"(tab.disabled ? '-1': undefined)\"\r\n          [attr.aria-controls]=\"(!destroyOnHide || tab.id === activeId ? tab.id + '-panel' : null)\"\r\n          [attr.aria-expanded]=\"tab.id === activeId\" [attr.aria-disabled]=\"tab.disabled\">\r\n          {{tab.title}}<ng-template [ngTemplateOutlet]=\"tab.titleTpl?.templateRef\"></ng-template>\r\n        </a>\r\n      </li>\r\n    </ul>\r\n    <div class=\"web-ide-side-bar tab-content\">\r\n      <ng-template ngFor let-tab [ngForOf]=\"tabs\">\r\n        <div\r\n          class=\"tab-pane {{tab.id === activeId ? 'active' : null}}\"\r\n          *ngIf=\"!destroyOnHide || tab.id === activeId\"\r\n          role=\"tabpanel\"\r\n          [attr.aria-labelledby]=\"tab.id\" id=\"{{tab.id}}-panel\"\r\n          [attr.aria-expanded]=\"tab.id === activeId\">\r\n          <ng-template [ngTemplateOutlet]=\"tab.contentTpl.templateRef\"></ng-template>\r\n        </div>\r\n      </ng-template>\r\n    </div>\r\n  `,\r\n  styleUrls: ['./navtab.css']\r\n})\r\n// tslint:disable-next-line:component-class-suffix\r\nexport class NgbNavTabset implements AfterContentChecked {\r\n  justifyClass: string;\r\n\r\n  @ContentChildren(NgbNavTab) tabs: QueryList<NgbNavTab>;\r\n\r\n  /**\r\n   * An identifier of an initially selected (active) tab. Use the \"select\" method to switch a tab programmatically.\r\n   */\r\n  @Input() activeId: string;\r\n\r\n  /**\r\n   * Whether the closed tabs should be hidden without destroying them\r\n   */\r\n  @Input() destroyOnHide = true;\r\n\r\n  /**\r\n   * The horizontal alignment of the nav with flexbox utilities. Can be one of 'start', 'center', 'end', 'fill' or\r\n   * 'justified'\r\n   * The default value is 'start'.\r\n   */\r\n  @Input()\r\n  set justify(className: 'start' | 'center' | 'end' | 'fill' | 'justified') {\r\n    if (className === 'fill' || className === 'justified') {\r\n      this.justifyClass = `nav-${className}`;\r\n    } else {\r\n      this.justifyClass = `justify-content-${className}`;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * The orientation of the nav (horizontal or vertical).\r\n   * The default value is 'horizontal'.\r\n   */\r\n  @Input() orientation: 'horizontal' | 'vertical';\r\n\r\n  /**\r\n   * Type of navigation to be used for tabs. Can be one of 'tabs' or 'pills'.\r\n   */\r\n  @Input() type: 'tabs' | 'pills';\r\n\r\n  /**\r\n   * A tab change event fired right before the tab selection happens. See NgbNavTabChangeEvent for payload details\r\n   */\r\n  @Output() tabChange = new EventEmitter<NgbNavTabChangeEvent>();\r\n\r\n  constructor(config: NgbNavTabsetConfig) {\r\n    this.type = config.type;\r\n    this.justify = config.justify;\r\n    this.orientation = config.orientation;\r\n  }\r\n\r\n  /**\r\n   * Selects the tab with the given id and shows its associated pane.\r\n   * Any other tab that was previously selected becomes unselected and its associated pane is hidden.\r\n   */\r\n  select(tabId: string) {\r\n    const selectedTab = this._getTabById(tabId);\r\n    if (selectedTab && !selectedTab.disabled && this.activeId !== selectedTab.id) {\r\n      let defaultPrevented = false;\r\n\r\n      this.tabChange.emit(\r\n        { activeId: this.activeId, nextId: selectedTab.id, preventDefault: () => { defaultPrevented = true; } });\r\n\r\n      if (!defaultPrevented) {\r\n        this.activeId = selectedTab.id;\r\n      }\r\n    }\r\n  }\r\n\r\n  ngAfterContentChecked() {\r\n    // auto-correct activeId that might have been set incorrectly as input\r\n    const activeTab = this._getTabById(this.activeId);\r\n    this.activeId = activeTab ? activeTab.id : (this.tabs.length ? this.tabs.first.id : null);\r\n  }\r\n\r\n  private _getTabById(id: string): NgbNavTab {\r\n    const tabsWithId: NgbNavTab[] = this.tabs.filter(tab => tab.id === id);\r\n    return tabsWithId.length ? tabsWithId[0] : null;\r\n  }\r\n}\r\n","import {NgModule, ModuleWithProviders} from '@angular/core';\r\nimport {CommonModule} from '@angular/common';\r\n\r\nimport {NgbNavTabset, NgbNavTab, NgbNavTabContent, NgbNavTabTitle, NgbNavTabChangeEvent} from './navtab';\r\nimport {NgbNavTabsetConfig} from './navtab-config';\r\n\r\nexport {NgbNavTabset, NgbNavTab, NgbNavTabContent, NgbNavTabTitle, NgbNavTabChangeEvent} from './navtab';\r\nexport {NgbNavTabsetConfig} from './navtab-config';\r\n\r\nconst NGB_TABSET_DIRECTIVES = [NgbNavTabset, NgbNavTab, NgbNavTabContent, NgbNavTabTitle];\r\n\r\n@NgModule({declarations: NGB_TABSET_DIRECTIVES, exports: NGB_TABSET_DIRECTIVES, imports: [CommonModule]})\r\nexport class NgbNavTabsetModule {\r\n  static forRoot(): ModuleWithProviders { return {ngModule: NgbNavTabsetModule, providers: [NgbNavTabsetConfig]}; }\r\n}\r\n","export function toInteger(value: any): number {\r\n  return parseInt(`${value}`, 10);\r\n}\r\n\r\nexport function toString(value: any): string {\r\n  return (value !== undefined && value !== null) ? `${value}` : '';\r\n}\r\n\r\nexport function getValueInRange(value: number, max: number, min = 0): number {\r\n  return Math.max(Math.min(value, max), min);\r\n}\r\n\r\nexport function isString(value: any): value is string {\r\n  return typeof value === 'string';\r\n}\r\n\r\nexport function isNumber(value: any): value is number {\r\n  return !isNaN(toInteger(value));\r\n}\r\n\r\nexport function isInteger(value: any): value is number {\r\n  return typeof value === 'number' && isFinite(value) && Math.floor(value) === value;\r\n}\r\n\r\nexport function isDefined(value: any): boolean {\r\n  return value !== undefined && value !== null;\r\n}\r\n\r\nexport function padNumber(value: number) {\r\n  if (isNumber(value)) {\r\n    return `0${value}`.slice(-2);\r\n  } else {\r\n    return '';\r\n  }\r\n}\r\n\r\nexport function regExpEscape(text) {\r\n  return text.replace(/[-[\\]{}()*+?.,\\\\^$|#\\s]/g, '\\\\$&');\r\n}\r\n","import {Injectable} from '@angular/core';\r\n\r\n/**\r\n * Configuration service for the NgbAccordion component.\r\n * You can inject this service, typically in your root component, and customize the values of its properties in\r\n * order to provide default values for all the accordions used in the application.\r\n */\r\n@Injectable()\r\nexport class NgbAccordionConfig {\r\n  closeOthers = false;\r\n  type: string;\r\n}\r\n","import {\r\n  AfterContentChecked,\r\n  Component,\r\n  ContentChild,\r\n  ContentChildren,\r\n  Directive,\r\n  EventEmitter,\r\n  Input,\r\n  Output,\r\n  QueryList,\r\n  TemplateRef,\r\n  HostBinding\r\n} from '@angular/core';\r\n\r\nimport { isString } from '../utils/util';\r\n\r\nimport { NgbAccordionConfig } from './accordion-config';\r\n\r\nlet nextId = 0;\r\n\r\n/**\r\n * This directive should be used to wrap accordion panel titles that need to contain HTML markup or other directives.\r\n */\r\n@Directive({ selector: 'ng-template[ngbPanelTitle]' })\r\nexport class NgbPanelTitle {\r\n  constructor(public templateRef: TemplateRef<any>) { }\r\n}\r\n\r\n/**\r\n * This directive must be used to wrap accordion panel content.\r\n */\r\n@Directive({ selector: 'ng-template[ngbPanelContent]' })\r\nexport class NgbPanelContent {\r\n  constructor(public templateRef: TemplateRef<any>) { }\r\n}\r\n\r\n/**\r\n * The NgbPanel directive represents an individual panel with the title and collapsible\r\n * content\r\n */\r\n@Directive({ selector: 'ngb-panel' })\r\nexport class NgbPanel {\r\n  /**\r\n   *  A flag determining whether the panel is disabled or not.\r\n   *  When disabled, the panel cannot be toggled.\r\n   */\r\n  @Input() disabled = false;\r\n\r\n  /**\r\n   *  An optional id for the panel. The id should be unique.\r\n   *  If not provided, it will be auto-generated.\r\n   */\r\n  @Input() id = `ngb-panel-${nextId++}`;\r\n\r\n  /**\r\n   * A flag telling if the panel is currently open\r\n   */\r\n  isOpen = false;\r\n\r\n  /**\r\n   *  The title for the panel.\r\n   */\r\n  @Input() title: string;\r\n\r\n  /**\r\n   *  Accordion's types of panels to be applied per panel basis.\r\n   *  Bootstrap 4 recognizes the following types: \"success\", \"info\", \"warning\" and \"danger\".\r\n   */\r\n  @Input() type: string;\r\n\r\n  @ContentChild(NgbPanelContent) contentTpl: NgbPanelContent;\r\n  @ContentChild(NgbPanelTitle) titleTpl: NgbPanelTitle;\r\n}\r\n\r\n/**\r\n * The payload of the change event fired right before toggling an accordion panel\r\n */\r\nexport interface NgbPanelChangeEvent {\r\n  /**\r\n   * Id of the accordion panel that is toggled\r\n   */\r\n  panelId: string;\r\n\r\n  /**\r\n   * Whether the panel will be opened (true) or closed (false)\r\n   */\r\n  nextState: boolean;\r\n\r\n  /**\r\n   * Function that will prevent panel toggling if called\r\n   */\r\n  preventDefault: () => void;\r\n}\r\n\r\n/**\r\n * The NgbAccordion directive is a collection of panels.\r\n * It can assure that only one panel can be opened at a time.\r\n */\r\n@Component({\r\n  selector: 'ngb-accordion',\r\n  exportAs: 'ngbAccordion',\r\n  // host: { 'role': 'tablist', '[attr.aria-multiselectable]': '!closeOtherPanels' },\r\n  template: `\r\n    <ng-template ngFor let-panel [ngForOf]=\"panels\">\r\n      <div class=\"card\">\r\n        <div role=\"tab\" id=\"{{panel.id}}-header\"\r\n          [class]=\"'card-header ' + (panel.type ? 'card-'+panel.type: type ? 'card-'+type : '')\" [class.active]=\"panel.isOpen\">\r\n          <a href (click)=\"toggle(panel.id)\" [class.text-muted]=\"panel.disabled\" [attr.tabindex]=\"(panel.disabled ? '-1' : null)\"\r\n            [attr.aria-expanded]=\"panel.isOpen\" [attr.aria-controls]=\"(panel.isOpen ? panel.id : null)\"\r\n            [attr.aria-disabled]=\"panel.disabled\">\r\n            {{panel.title}}<ng-template [ngTemplateOutlet]=\"panel.titleTpl?.templateRef\"></ng-template>\r\n          </a>\r\n        </div>\r\n        <div id=\"{{panel.id}}\" role=\"tabpanel\" [attr.aria-labelledby]=\"panel.id + '-header'\"\r\n             class=\"card-body collapse {{panel.isOpen ? 'show' : null}}\" *ngIf=\"!destroyOnHide || panel.isOpen\">\r\n             <ng-template [ngTemplateOutlet]=\"panel.contentTpl.templateRef\"></ng-template>\r\n        </div>\r\n      </div>\r\n    </ng-template>\r\n  `\r\n})\r\nexport class NgbAccordion implements AfterContentChecked {\r\n\r\n  // @HostBinding('role') get tablist() { return 'tablist'; }\r\n\r\n  // @HostBinding('attr.aria-multiselectable') get multiselectable() { return !this.closeOtherPanels; }\r\n\r\n  @ContentChildren(NgbPanel) panels: QueryList<NgbPanel>;\r\n\r\n  /**\r\n   * An array or comma separated strings of panel identifiers that should be opened\r\n   */\r\n  @Input() activeIds: string | string[] = [];\r\n\r\n  /**\r\n   *  Whether the other panels should be closed when a panel is opened\r\n   */\r\n  // tslint:disable-next-line:no-input-rename\r\n  @Input('closeOthers') closeOtherPanels: boolean;\r\n\r\n  /**\r\n   * Whether the closed panels should be hidden without destroying them\r\n   */\r\n  @Input() destroyOnHide = true;\r\n\r\n  /**\r\n   *  Accordion's types of panels to be applied globally.\r\n   *  Bootstrap 4 recognizes the following types: \"success\", \"info\", \"warning\" and \"danger\".\r\n   */\r\n  @Input() type: string;\r\n\r\n  /**\r\n   * A panel change event fired right before the panel toggle happens. See NgbPanelChangeEvent for payload details\r\n   */\r\n  @Output() panelChange = new EventEmitter<NgbPanelChangeEvent>();\r\n\r\n  constructor(config: NgbAccordionConfig) {\r\n    this.type = config.type;\r\n    this.closeOtherPanels = config.closeOthers;\r\n  }\r\n\r\n  /**\r\n   * Programmatically toggle a panel with a given id.\r\n   */\r\n  toggle(panelId: string) {\r\n    const panel = this.panels.find(p => p.id === panelId);\r\n\r\n    if (panel && !panel.disabled) {\r\n      let defaultPrevented = false;\r\n\r\n      this.panelChange.emit(\r\n        { panelId: panelId, nextState: !panel.isOpen, preventDefault: () => { defaultPrevented = true; } });\r\n\r\n      if (!defaultPrevented) {\r\n        panel.isOpen = !panel.isOpen;\r\n\r\n        if (this.closeOtherPanels) {\r\n          this._closeOthers(panelId);\r\n        }\r\n        this._updateActiveIds();\r\n      }\r\n    }\r\n  }\r\n\r\n  ngAfterContentChecked() {\r\n    // active id updates\r\n    if (isString(this.activeIds)) {\r\n      this.activeIds = (<string>this.activeIds).split(/\\s*,\\s*/);\r\n    }\r\n\r\n    // update panels open states\r\n    this.panels.forEach(panel => panel.isOpen = !panel.disabled && this.activeIds.indexOf(panel.id) > -1);\r\n\r\n    // closeOthers updates\r\n    if (this.activeIds.length > 1 && this.closeOtherPanels) {\r\n      this._closeOthers(this.activeIds[0]);\r\n      this._updateActiveIds();\r\n    }\r\n  }\r\n\r\n  private _closeOthers(panelId: string) {\r\n    this.panels.forEach(panel => {\r\n      if (panel.id !== panelId) {\r\n        panel.isOpen = false;\r\n      }\r\n    });\r\n  }\r\n\r\n  private _updateActiveIds() {\r\n    this.activeIds = this.panels.filter(panel => panel.isOpen && !panel.disabled).map(panel => panel.id);\r\n  }\r\n}\r\n","import {NgModule, ModuleWithProviders} from '@angular/core';\r\nimport {CommonModule} from '@angular/common';\r\n\r\nimport {NgbAccordion, NgbPanel, NgbPanelTitle, NgbPanelContent, NgbPanelChangeEvent} from './accordion';\r\nimport {NgbAccordionConfig} from './accordion-config';\r\n\r\nexport {NgbAccordion, NgbPanel, NgbPanelTitle, NgbPanelContent, NgbPanelChangeEvent} from './accordion';\r\nexport {NgbAccordionConfig} from './accordion-config';\r\n\r\nconst NGB_ACCORDION_DIRECTIVES = [NgbAccordion, NgbPanel, NgbPanelTitle, NgbPanelContent];\r\n\r\n@NgModule({declarations: NGB_ACCORDION_DIRECTIVES, exports: NGB_ACCORDION_DIRECTIVES, imports: [CommonModule]})\r\nexport class NgbAccordionModule {\r\n  static forRoot(): ModuleWithProviders { return {ngModule: NgbAccordionModule, providers: [NgbAccordionConfig]}; }\r\n}\r\n","import {\r\n  Directive, ElementRef, EmbeddedViewRef, EventEmitter, HostBinding, Input, OnDestroy, OnInit, Output, Renderer,\r\n  ViewContainerRef,\r\n  HostListener,\r\n  Renderer2\r\n} from '@angular/core';\r\n\r\n@Directive({\r\n  selector: '[sash]',\r\n  exportAs: 'sash'\r\n})\r\nexport class SashDirective implements OnInit, OnDestroy {\r\n\r\n  documentClickListener: any;\r\n\r\n  documentMoveListener: any;\r\n\r\n  constructor(private _elementRef: ElementRef,\r\n    private renderer: Renderer2,\r\n    private _viewContainerRef: ViewContainerRef) {\r\n\r\n  }\r\n\r\n  @Input() panelWidth: number;\r\n\r\n  @Output() widthChanged = new EventEmitter<number>();\r\n\r\n  @HostListener('mousedown') onMouseDown() {\r\n    console.log('mousedown');\r\n    this.bindDocumentClickListener();\r\n  }\r\n\r\n  @HostListener('mouseup') onMouseUp() {\r\n    console.log('mouseup');\r\n  }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n  }\r\n\r\n\r\n\r\n  bindDocumentClickListener() {\r\n    if (!this.documentClickListener) {\r\n      this.documentClickListener = this.renderer.listen('document', 'mouseup', (event) => {\r\n        console.log('mouseup');\r\n        console.log(event);\r\n        this.unbindDocumentMoveListener();\r\n        this.unbindDocumentClickListener();\r\n      });\r\n\r\n      if (!this.documentMoveListener) {\r\n        this.bindDocumentClickListener = this.renderer.listen('document', 'mousemove', (event) => {\r\n          this.panelWidth = event.clientX;\r\n          const newWidth = event.clientX as number;\r\n          this.widthChanged.emit(newWidth);\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n  unbindDocumentClickListener() {\r\n    if (this.documentClickListener) {\r\n      this.documentClickListener();\r\n      this.documentClickListener = null;\r\n    }\r\n  }\r\n\r\n  unbindDocumentMoveListener() {\r\n    if (this.bindDocumentClickListener) {\r\n      this.bindDocumentClickListener();\r\n      this.bindDocumentClickListener = null;\r\n    }\r\n  }\r\n}\r\n","import { ModuleWithProviders, NgModule } from '@angular/core';\r\nimport { SashDirective } from './sash.directive';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    SashDirective\r\n  ],\r\n  exports: [\r\n    SashDirective\r\n  ]\r\n})\r\nexport class PanelModule {\r\n  public static forRoot(config?: any): ModuleWithProviders {\r\n    return {\r\n      ngModule: PanelModule\r\n    };\r\n  }\r\n}\r\n","import { HttpClientModule } from '@angular/common/http';\r\nimport { ModuleWithProviders, NgModule, NO_ERRORS_SCHEMA } from '@angular/core';\r\nimport { BsDropdownModule } from './dropdown';\r\nimport { NgbTabsetModule, NgbTabChangeEvent } from './tabset/tabset.module';\r\nimport { NgbNavTabsetModule, NgbNavTabChangeEvent } from './navtab/navtab.module';\r\nimport { NgbAccordionModule } from './accordion/accordion.module';\r\nimport { PanelModule } from './panel/panel.module';\r\n\r\nconst MODULES = [\r\n  BsDropdownModule\r\n];\r\n\r\nconst NGB_MODULES = [\r\n  NgbTabsetModule,\r\n  NgbNavTabsetModule,\r\n  NgbAccordionModule\r\n];\r\n\r\nconst IDE_MODULES = [\r\n  PanelModule\r\n];\r\n\r\n// @NgModule({\r\n//   imports: [\r\n//     BsDropdownModule.forRoot()\r\n//   ],\r\n//   exports: [BsDropdownModule],\r\n//   schemas: [NO_ERRORS_SCHEMA]\r\n// })\r\n// export class MDBRootModule {\r\n// }\r\n\r\n// @NgModule({ exports: [BsDropdownModule] })\r\n// export class MDBBootstrapModule {\r\n//   public static forRoot(): ModuleWithProviders {\r\n//     return { ngModule: MDBRootModule };\r\n//   }\r\n// }\r\n\r\n@NgModule({\r\n  imports: [\r\n    NgbTabsetModule.forRoot(),\r\n    NgbNavTabsetModule.forRoot(),\r\n    NgbAccordionModule.forRoot()\r\n  ],\r\n  exports: [\r\n    NGB_MODULES\r\n  ]\r\n})\r\nexport class NgbRootModule {\r\n}\r\n\r\n@NgModule({})\r\nexport class NgbModule {\r\n  static forRoot(): ModuleWithProviders { return { ngModule: NgbRootModule }; }\r\n}\r\n\r\n@NgModule({\r\n  imports: [\r\n    PanelModule.forRoot()\r\n  ]\r\n})\r\nexport class IDERootModule {\r\n}\r\n\r\n// @NgModule({ imports: IDE_MODULES, exports: IDE_MODULES })\r\n// export class IDEModule {\r\n//   static forRoot(): ModuleWithProviders { return { ngModule: IDERootModule }; }\r\n// }","export class LinkedList <T> {\r\n\r\n  public length = 0;\r\n  protected head: any;\r\n  protected tail: any;\r\n  protected current: any;\r\n  protected asArray: T[] = [];\r\n\r\n  protected getNode(position: number): any {\r\n    if (this.length === 0 || position < 0 || position >= this.length) {\r\n      throw new Error('Position is out of the list');\r\n    }\r\n\r\n    let current = this.head;\r\n\r\n    for (let index = 0; index < position; index++) {\r\n      current = current.next;\r\n    }\r\n    return current;\r\n  }\r\n\r\n  protected createInternalArrayRepresentation(): void {\r\n    const outArray: any[] = [];\r\n    let current = this.head;\r\n\r\n    while (current) {\r\n      outArray.push(current.value);\r\n      current = current.next;\r\n    }\r\n    this.asArray = outArray;\r\n  }\r\n\r\n  public get(position: number): T {\r\n    if (this.length === 0 || position < 0 || position >= this.length) {\r\n      return void 0;\r\n    }\r\n\r\n    let current = this.head;\r\n\r\n    for (let index = 0; index < position; index++) {\r\n      current = current.next;\r\n    }\r\n    return current.value;\r\n  }\r\n\r\n  public add(value: T, position: number = this.length): void {\r\n    if (position < 0 || position > this.length) {\r\n      throw new Error('Position is out of the list');\r\n    }\r\n\r\n    const node = {\r\n      value: value as any,\r\n      next: undefined as any,\r\n      previous: undefined as any\r\n    };\r\n\r\n    if (this.length === 0) {\r\n      this.head = node;\r\n      this.tail = node;\r\n      this.current = node;\r\n    } else {\r\n      if (position === 0) {\r\n        // first node\r\n        node.next = this.head;\r\n        this.head.previous = node;\r\n        this.head = node;\r\n      } else if (position === this.length) {\r\n        // last node\r\n        this.tail.next = node;\r\n        node.previous = this.tail;\r\n        this.tail = node;\r\n      } else {\r\n        // node in middle\r\n        const currentPreviousNode = this.getNode(position - 1);\r\n        const currentNextNode = currentPreviousNode.next;\r\n\r\n        currentPreviousNode.next = node;\r\n        currentNextNode.previous = node;\r\n\r\n        node.previous = currentPreviousNode;\r\n        node.next = currentNextNode;\r\n      }\r\n\r\n    }\r\n    this.length++;\r\n    this.createInternalArrayRepresentation();\r\n  }\r\n\r\n  public remove(position: number = 0): void {\r\n    if (this.length === 0 || position < 0 || position >= this.length) {\r\n      throw new Error('Position is out of the list');\r\n    }\r\n\r\n    if (position === 0) {\r\n      // first node\r\n      this.head = this.head.next;\r\n\r\n      if (this.head) {\r\n        // there is no second node\r\n        this.head.previous = undefined;\r\n      } else {\r\n        // there is no second node\r\n        this.tail = undefined;\r\n      }\r\n    } else if (position === this.length - 1) {\r\n      // last node\r\n      this.tail = this.tail.previous;\r\n      this.tail.next = undefined;\r\n    } else {\r\n      // middle node\r\n      const removedNode = this.getNode(position);\r\n      removedNode.next.previous = removedNode.previous;\r\n      removedNode.previous.next = removedNode.next;\r\n    }\r\n\r\n    this.length--;\r\n    this.createInternalArrayRepresentation();\r\n  }\r\n\r\n  public set(position: number, value: T): void {\r\n    if (this.length === 0 || position < 0 || position >= this.length) {\r\n      throw new Error('Position is out of the list');\r\n    }\r\n\r\n    const node = this.getNode(position);\r\n    node.value = value;\r\n    this.createInternalArrayRepresentation();\r\n  }\r\n\r\n  public toArray(): T[] {\r\n    return this.asArray;\r\n  }\r\n\r\n  public findAll(fn: any): any[] {\r\n    let current = this.head;\r\n    const result: any[] = [];\r\n    for (let index = 0; index < this.length; index++) {\r\n      if (fn(current.value, index)) {\r\n        result.push({index, value: current.value});\r\n      }\r\n      current = current.next;\r\n    }\r\n    return result;\r\n  }\r\n  // Array methods overriding start\r\n  public push(...args: T[]): number {\r\n    args.forEach((arg: any) => {\r\n      this.add(arg);\r\n    });\r\n    return this.length;\r\n  }\r\n\r\n  public pop(): T {\r\n    if (this.length === 0) {\r\n      return undefined;\r\n    }\r\n    const last = this.tail;\r\n    this.remove(this.length - 1);\r\n    return last.value;\r\n  }\r\n\r\n  public unshift(...args: T[]): number {\r\n    args.reverse();\r\n    args.forEach((arg: any) => {\r\n      this.add(arg, 0);\r\n    });\r\n    return this.length;\r\n  }\r\n\r\n  public shift(): T {\r\n    if (this.length === 0) {\r\n      return undefined;\r\n    }\r\n    const lastItem = this.head.value;\r\n    this.remove();\r\n    return lastItem;\r\n  }\r\n\r\n  public forEach(fn: any): void {\r\n    let current = this.head;\r\n    for (let index = 0; index < this.length; index++) {\r\n      fn(current.value, index);\r\n      current = current.next;\r\n    }\r\n  }\r\n\r\n  public indexOf(value: T): number {\r\n    let current = this.head;\r\n    let position = 0;\r\n\r\n    for (let index = 0; index < this.length; index++) {\r\n      if (current.value === value) {\r\n\r\n        position = index;\r\n        break;\r\n      }\r\n      current = current.next;\r\n    }\r\n    return position;\r\n  }\r\n\r\n  public some(fn: any): boolean {\r\n    let current = this.head;\r\n    let result  = false;\r\n    while (current && !result) {\r\n      if (fn(current.value)) {\r\n        result = true;\r\n        break;\r\n      }\r\n      current = current.next;\r\n    }\r\n    return result;\r\n  }\r\n\r\n  public every(fn: any): boolean {\r\n    let current = this.head;\r\n    let result  = true;\r\n    while (current && result)  {\r\n      if (!fn(current.value)) {\r\n        result = false;\r\n      }\r\n      current = current.next;\r\n    }\r\n    return result;\r\n  }\r\n\r\n  public toString(): string {\r\n    return '[Linked List]';\r\n  }\r\n\r\n  public find(fn: any): T {\r\n    let current = this.head;\r\n    let result: T;\r\n    for (let index = 0; index < this.length; index++) {\r\n      if (fn(current.value, index)) {\r\n        result = current.value;\r\n        break;\r\n      }\r\n      current = current.next;\r\n    }\r\n    return result;\r\n  }\r\n\r\n  public findIndex(fn: any): number {\r\n    let current = this.head;\r\n    let result: number;\r\n    for (let index = 0; index < this.length; index++) {\r\n      if (fn(current.value, index)) {\r\n        result = index;\r\n        break;\r\n      }\r\n      current = current.next;\r\n    }\r\n    return result;\r\n  }\r\n\r\n  // Array methods overriding END\r\n}\r\n","import { IEmitable } from './types';\r\nimport {Type} from '@angular/core/src/type';\r\n\r\nexport class EventBusProxy {\r\n\r\n  constructor(private eventBus: IEmitable, private hostType: Type<any>, private eventTokenValueProvider: () => any) {\r\n  }\r\n\r\n  post(eventName: string, data: any) {\r\n    this.eventBus.post(this.hostType, this.eventTokenValueProvider(), eventName, data);\r\n  }\r\n}\r\n\r\n","import { Subject } from 'rxjs/Subject';\r\nimport {IDisposable} from './types';\r\nimport {Subscription} from 'rxjs/Subscription';\r\n\r\nexport class EventPipe implements IDisposable {\r\n\r\n  private eventSubject: Subject<any>;\r\n  private subscriptionMap: Map<object, Subscription>;\r\n  private onceSubscriptionMap: Map<object, Subscription>;\r\n\r\n  constructor(private name: string,\r\n               private tokenValue: string,\r\n               private emitter: string,\r\n               private parentEventPipeList: Array<EventPipe>) {\r\n    this.eventSubject = new Subject<any>();\r\n    this.subscriptionMap = new Map<object, Subscription>();\r\n    this.onceSubscriptionMap = new Map<object, Subscription>();\r\n    if (this.parentEventPipeList) {\r\n      this.parentEventPipeList.push(this);\r\n    }\r\n  }\r\n\r\n  post(data: any) {\r\n    this.eventSubject.next(data);\r\n  }\r\n\r\n  subscribe(eventHandler: (value: any) => void, caller: object): IDisposable {\r\n    const subscription = this.eventSubject.subscribe((value) => eventHandler.call(caller, value));\r\n    this.subscriptionMap.set(\r\n      caller,\r\n      subscription\r\n    );\r\n    return this;\r\n  }\r\n\r\n  subscribeOnce(eventHandler: (value: any) => void, caller: object): IDisposable {\r\n    const subscription = this.eventSubject.subscribe((value) => eventHandler.call(caller, value));\r\n    this.onceSubscriptionMap.set(\r\n      caller,\r\n      subscription\r\n    );\r\n    return this;\r\n  }\r\n\r\n  unSubscribe(subscriber: object) {\r\n    let subscription = this.subscriptionMap.get(subscriber);\r\n    if (subscription) {\r\n      subscription.unsubscribe();\r\n      subscription = null;\r\n      this.subscriptionMap.delete(subscriber);\r\n    } else {\r\n      subscription = this.onceSubscriptionMap.get(subscriber);\r\n      if (subscription) {\r\n        subscription.unsubscribe();\r\n        subscription = null;\r\n        this.onceSubscriptionMap.delete(subscriber);\r\n      }\r\n    }\r\n  }\r\n\r\n  // æ³¨éä½¿ç¨onceæ¹æ³æ³¨åçè®¢éã\r\n  unSubscribeForOnce() {\r\n    for (const subscriber of Array.from(this.onceSubscriptionMap.keys())) {\r\n      this.unSubscribe(subscriber);\r\n    }\r\n  }\r\n\r\n  matchEmitterToken(emitter: string, tokenValue: string): boolean {\r\n    if (this.emitter && emitter && this.emitter !== emitter) {\r\n      return false;\r\n    }\r\n    if (this.tokenValue && tokenValue && this.tokenValue !== tokenValue) {\r\n      return false;\r\n    }\r\n    return true;\r\n  }\r\n\r\n  examByTargetToken(target: string, tokenValue: string): boolean {\r\n    if (this.emitter !== target) {\r\n      return false;\r\n    }\r\n    if (this.tokenValue !== tokenValue) {\r\n      return false;\r\n    }\r\n    return true;\r\n  }\r\n\r\n  dispose(subscriber: object): void {\r\n    this.unSubscribe(subscriber);\r\n    if (this.subscriptionMap.size === 0 && this.parentEventPipeList) {\r\n      const location = this.parentEventPipeList.findIndex(item => item === this);\r\n      if (location !== -1) {\r\n        this.parentEventPipeList.splice(location, 1);\r\n      }\r\n    }\r\n  }\r\n}\r\n","import { forkJoin, Observable, of, Subject, timer } from 'rxjs';\r\nimport { IThenable } from './types';\r\nimport { mapTo } from 'rxjs/operators';\r\n\r\nexport class DuplexEventPipe {\r\n  private listenerResults: Map<string, Observable<boolean>[]>;\r\n  private subject: Subject<any>;\r\n  constructor(eventName: string) {\r\n    this.listenerResults = new Map<string, Observable<boolean>[]>();\r\n    this.subject = new Subject<boolean>();\r\n  }\r\n\r\n  notify(value: any): IThenable {\r\n    let thenFn: () => void = () => {};\r\n    let catchFn: () => void = () => {};\r\n    const timestamp = Date.now().toString();\r\n    this.subject.next({ value, timestamp });\r\n\r\n    // fooObservableæ æä¹ï¼æä¸¤ä¸ªä½ç¨ï¼\r\n    // 1. æ²¡æå®éobservableæ¶è½å¤è®©forkJoinè¾åºå¼ï¼è¿å¥subscriber.next\r\n    // 2. å»ºç«å»¶è¿çobservableï¼è·³åºå½åmicro taskï¼ï¼é¿åsubscriptionæªè¿ååthenFnæªè¢«è®¾ç½®ã\r\n    const fooObservable = timer(0).pipe(mapTo(true));\r\n    let listenerResultArray = this.listenerResults.get(timestamp);\r\n    if (!listenerResultArray) {\r\n      listenerResultArray = [fooObservable];\r\n    } else {\r\n      listenerResultArray = listenerResultArray.concat(fooObservable);\r\n      this.listenerResults.delete(timestamp);\r\n    }\r\n    const subscription = forkJoin(listenerResultArray).subscribe({next: (results: boolean[]) => {\r\n      const success = results.reduce((previous, current) => previous && current);\r\n      if (success) {\r\n        thenFn();\r\n      } else {\r\n        catchFn();\r\n      }\r\n      subscription.unsubscribe();\r\n    }, error: () => {\r\n      subscription.unsubscribe();\r\n    }});\r\n    return {\r\n      then(callback: () => any) {\r\n        thenFn = callback;\r\n        return this;\r\n      },\r\n      catch(callback: () => void) {\r\n        catchFn = callback;\r\n        return this;\r\n      }\r\n    };\r\n  }\r\n\r\n  listen(callback: (value: any) => Observable<boolean> | boolean | void, caller?: any) {\r\n    const listener = caller ? callback.bind(caller) : callback;\r\n    this.subject.subscribe(({value, timestamp}) => {\r\n      let listenerResult: Observable<boolean>;\r\n      const invokeResult = listener(value);\r\n      if (invokeResult instanceof Observable) {\r\n        listenerResult = invokeResult;\r\n      } else if (typeof invokeResult === 'boolean') {\r\n        listenerResult = of(invokeResult);\r\n      } else {\r\n        listenerResult = of(true);\r\n      }\r\n\r\n      let listenerResultArray = this.listenerResults.get(timestamp);\r\n      if (!listenerResultArray) {\r\n        listenerResultArray = [];\r\n        this.listenerResults.set(timestamp, listenerResultArray);\r\n      }\r\n      listenerResultArray.push(listenerResult);\r\n    });\r\n  }\r\n}\r\n","import {Injectable, Type} from '@angular/core';\r\nimport {EventBusProxy} from './event-bus-proxy';\r\nimport { IDisposable, IEmitable, IThenable } from './types';\r\nimport {EventPipe} from './event-pipe';\r\nimport { Observable } from 'rxjs';\r\nimport { DuplexEventPipe } from './duplex-event-pipe';\r\n\r\n@Injectable()\r\nexport class EventBus implements IEmitable {\r\n  private proxyMap: Map<string, EventBusProxy>;\r\n  private eventMap: Map<string, Array<EventPipe>>;\r\n  private notificationMap: Map<string, DuplexEventPipe>;\r\n\r\n  constructor() {\r\n    this.proxyMap = new Map<string, EventBusProxy>();\r\n    this.eventMap = new Map<string, Array<EventPipe>>();\r\n    this.notificationMap = new Map<string, DuplexEventPipe>();\r\n  }\r\n\r\n  getProxy(ownerType: Type<any>, eventTokenValueProvider: () => any): EventBusProxy {\r\n    const ownerName = ownerType.constructor.name;\r\n    if (!this.proxyMap.has(ownerName)) {\r\n      this.proxyMap.set(ownerName, new EventBusProxy(this, ownerType, eventTokenValueProvider));\r\n    }\r\n    return this.proxyMap.get(ownerName);\r\n  }\r\n\r\n  /**\r\n   * åéäºä»¶ï¼éç¥è®¢éèæ¥æ¶æ¶æ¯ã\r\n   */\r\n  post(emitterType: Type<any> | string, tokenValue: string, eventName: string, eventArgs: any): void {\r\n    const eventPipeList = this.eventMap.get(eventName);\r\n    if (!eventPipeList) {\r\n      return;\r\n    }\r\n\r\n    if (!emitterType) {\r\n      console.error('postæ¹æ³çåæ°emitterTypeä¸è½ä¸ºç©ºã');\r\n      return;\r\n    }\r\n    let emitter: string;\r\n    if (emitterType instanceof Type) {\r\n      emitter = emitterType.name;\r\n    } else {\r\n      emitter = emitterType;\r\n    }\r\n\r\n    for (const eventPipe of eventPipeList) {\r\n      if (eventPipe.matchEmitterToken(emitter, tokenValue)) {\r\n        eventPipe.post(eventArgs);\r\n        eventPipe.unSubscribeForOnce();\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * è®¢éäºä»¶\r\n   */\r\n  on(target: string, tokenValue: string, eventName: string, caller: object, handler: (value: any) => void): IDisposable {\r\n    return this.getEventPipe(eventName, target, tokenValue).subscribe(handler, caller);\r\n  }\r\n\r\n  /**\r\n   * è®¢éä¸æ¬¡ãæ¥æ¶å°ä¸æ¬¡æ¶æ¯ä¹åèªå¨åæ¶è®¢é\r\n   */\r\n  once(target: string, tokenValue: string, eventName: string, caller: object, handler: (value: any) => void): IDisposable {\r\n    return this.getEventPipe(eventName, target, tokenValue).subscribeOnce(handler, caller);\r\n  }\r\n\r\n  /**\r\n   * åéä¸ä¸ªè¯·æ±äºä»¶ï¼è·åçå¬èçååºå¹¶å¤ç\r\n   */\r\n  requestFor(target: string, tokenValue: string, requestName: string, requestValue: any, success: (any) => any, fail?: (string) => any) {\r\n    const eventPipe = this.findExistEventPipe(requestName, 'RequestSubject', tokenValue);\r\n    if (eventPipe) {\r\n      this.once(target, tokenValue, requestName, this, (response) => {\r\n        if (response.status === 'success') {\r\n          success(response.data);\r\n        } else {\r\n          if (fail) {\r\n            fail('No target responser listening');\r\n          }\r\n        }\r\n      });\r\n      eventPipe.post({target, token: tokenValue, data: requestValue});\r\n    } else {\r\n      if (fail) {\r\n        fail('No target responser listening.');\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * çå¬ä¸ä¸ªè¯·æ±äºä»¶ï¼ç»åºååº\r\n   */\r\n  responseOn(responseSubject: string, requestName: string, callback: (any) => any) {\r\n    this.on('RequestSubject', null, requestName, this, (requestObj) => {\r\n      const response = {status: 'fail', data: null};\r\n      if (responseSubject === requestObj.target) {\r\n        response.data = callback(requestObj.data);\r\n        response.status = 'success';\r\n      }\r\n      this.post(requestObj.target, requestObj.token, requestName, response);\r\n    });\r\n  }\r\n\r\n  notify(eventName: string, eventArgs: any): IThenable {\r\n    let notification = this.notificationMap.get(eventName);\r\n    if (!notification) {\r\n      notification = new DuplexEventPipe(eventName);\r\n      this.notificationMap.set(eventName, notification);\r\n    }\r\n    return notification.notify(eventArgs);\r\n  }\r\n\r\n  listen(eventName: string, handler: (value: any) => Observable<boolean> | boolean | void, caller?: object): void {\r\n    let notification = this.notificationMap.get(eventName);\r\n    if (!notification) {\r\n      notification = new DuplexEventPipe(eventName);\r\n      this.notificationMap.set(eventName, notification);\r\n    }\r\n    return notification.listen(handler, caller);\r\n  }\r\n\r\n  private getEventPipe(eventName: string, target: string, tokenValue: string) {\r\n    let eventPipeList = this.eventMap.get(eventName);\r\n    if (!eventPipeList) {\r\n      eventPipeList = new Array<EventPipe>();\r\n      this.eventMap.set(eventName, eventPipeList);\r\n    }\r\n    let eventPipe = eventPipeList.find(item => item.examByTargetToken(target, tokenValue));\r\n    if (!eventPipe) {\r\n      eventPipe = new EventPipe(eventName, tokenValue, target, eventPipeList);\r\n    }\r\n    return eventPipe;\r\n  }\r\n\r\n  private findExistEventPipe(eventName: string, target: string, tokenValue: string): EventPipe {\r\n    const eventPipeList = this.eventMap.get(eventName);\r\n    if (!eventPipeList) {\r\n      return null;\r\n    }\r\n    // return eventPipeList.find(item => item.examByTargetToken(target, tokenValue));\r\n    for (const eventPipe of eventPipeList) {\r\n      if (eventPipe.matchEmitterToken(target, tokenValue)) {\r\n        return eventPipe;\r\n      }\r\n    }\r\n    return null;\r\n  }\r\n}\r\n\r\nclass RequestSubject {}\r\nclass DataClass {}\r\n","let nextInstanceId = 1;\r\n\r\nexport class Model {\r\n  alive = true;\r\n  get isAlive() { return this.alive; }\r\n  get isDestroyed() { return !this.alive; }\r\n\r\n  constructor(params: any) {\r\n\r\n  }\r\n\r\n  assignId(id) {\r\n\r\n  }\r\n\r\n  destroy() {\r\n\r\n  }\r\n\r\n  resetNextInstanceId() {\r\n    nextInstanceId = 1;\r\n  }\r\n}\r\n","import { Model } from './model';\r\n\r\nexport class PaneAxis extends Model {\r\n  flexScale: any;\r\n  parent: any;\r\n  container: any;\r\n  orientation: any;\r\n  children: any[];\r\n  panes: any[];\r\n  items: any[];\r\n  deserialize() {\r\n\r\n  }\r\n\r\n\r\n  constructor(params?: any, viewRegistry?: any) {\r\n    super({});\r\n  }\r\n\r\n  getElement() { }\r\n\r\n  addChild() { }\r\n\r\n  removeChidl() { }\r\n\r\n  insertChildBefore() { }\r\n\r\n  subscribeToChild() { }\r\n\r\n  unsubscribeFromChild() { }\r\n}\r\n","// Essential: A handle to a resource that can be disposed. For example,\r\n// {Emitter::on} returns disposables representing subscriptions.\r\n\r\nexport class Disposable {\r\n\r\n  private disposed = false;\r\n\r\n  // Public: Ensure that `object` correctly implements the `Disposable`\r\n  // contract.\r\n  //\r\n  // * `object` An {Object} you want to perform the check against.\r\n  //\r\n  // Returns a {Boolean} indicating whether `object` is a valid `Disposable`.\r\n  static isDisposable(object): boolean {\r\n    if (object && object.dispose && typeof(object.dispose) === 'function') {\r\n      return true;\r\n    }\r\n    return false;\r\n  }\r\n  //////\r\n  /// Section: Construction and Destruction\r\n  //////\r\n\r\n  // Public: Construct a Disposable\r\n  //\r\n  // * `disposalAction` A {Function} to call when {::dispose} is called for the\r\n  //   first time.\r\n  constructor(private disposalAction: () => any) { }\r\n\r\n  // Public: Perform the disposal action, indicating that the resource associated\r\n  // with this disposable is no longer needed.\r\n  //\r\n  // You can call this method more than once, but the disposal action will only\r\n  // be performed the first time.\r\n  dispose() {\r\n    if (!this.disposed) {\r\n      this.disposed = true;\r\n      if (this.disposalAction) {\r\n        this.disposalAction();\r\n      }\r\n      this.disposalAction = null;\r\n    }\r\n  }\r\n}\r\n","import { Disposable } from './disposable';\r\n\r\n// Essential: An object that aggregates multiple {Disposable} instances together\r\n// into a single disposable, so they can all be disposed as a group.\r\n//\r\n// These are very useful when subscribing to multiple events.\r\n//\r\n// ## Examples\r\n//\r\n// ```coffee\r\n// {CompositeDisposable} = require 'atom'\r\n//\r\n// class Something\r\n//   constructor: ->\r\n//     @disposables = new CompositeDisposable\r\n//     editor = atom.workspace.getActiveTextEditor()\r\n//     @disposables.add editor.onDidChange ->\r\n//     @disposables.add editor.onDidChangePath ->\r\n//\r\n//   destroy: ->\r\n//     @disposables.dispose()\r\n// ```\r\nexport class CompositeDisposable {\r\n  private disposed = false;\r\n  private disposables: Set<any>;\r\n\r\n  //////\r\n  /// Section: Construction and Destruction\r\n  //////\r\n\r\n  // Public: Construct an instance, optionally with one or more disposables\r\n  constructor(...disposables) {\r\n    this.disposables = new Set();\r\n    this.add(...disposables);\r\n  }\r\n  // Public: Dispose all disposables added to this composite disposable.\r\n  //\r\n  // If this object has already been disposed, this method has no effect.\r\n  dispose() {\r\n    if (!this.disposed) {\r\n      this.disposed = true;\r\n      this.disposables.forEach((disposable) => disposable.dispose());\r\n      this.disposables = null;\r\n    }\r\n  }\r\n  //////\r\n  /// Section: Managing Disposables\r\n  //////\r\n\r\n  // Public: Add disposables to be disposed when the composite is disposed.\r\n  //\r\n  // If this object has already been disposed, this method has no effect.\r\n  //\r\n  // * `...disposables` {Disposable} instances or any objects with `.dispose()`\r\n  //   methods.\r\n  add(...disposables) {\r\n    if (!this.disposed) {\r\n      for (const disposable of disposables) {\r\n        if (this.assertDisposable(disposable)) {\r\n          this.disposables.add(disposable);\r\n        }\r\n      }\r\n    }\r\n  }\r\n  // Public: Remove a previously added disposable.\r\n  //\r\n  // * `disposable` {Disposable} instance or any object with a `.dispose()`\r\n  //   method.\r\n  remove(disposable): void {\r\n    if (!this.disposed) {\r\n      this.disposables.delete(disposable);\r\n    }\r\n  }\r\n  // Public: Alias to {CompositeDisposable::remove}\r\n  delete(disposable): void {\r\n    this.remove(disposable);\r\n  }\r\n  // Public: Clear all disposables. They will not be disposed by the next call\r\n  // to dispose.\r\n  clear() {\r\n    if (!this.disposed) {\r\n      this.disposables.clear();\r\n    }\r\n  }\r\n\r\n  assertDisposable(disposable): boolean {\r\n    if (!Disposable.isDisposable(disposable)) {\r\n      throw new TypeError('Arguments to CompositeDisposable.add must have a .dispose() method');\r\n    }\r\n    return true;\r\n  }\r\n}\r\n","import { Disposable } from './disposable';\r\nimport { CompositeDisposable } from './composite-disposable';\r\n\r\n// Essential: Utility class to be used when implementing event-based APIs that\r\n// allows for handlers registered via `::on` to be invoked with calls to\r\n// `::emit`. Instances of this class are intended to be used internally by\r\n// classes that expose an event-based API.\r\n//\r\n// For example:\r\n//\r\n// ```coffee\r\n// class User\r\n//   constructor: ->\r\n//     @emitter = new Emitter\r\n//\r\n//   onDidChangeName: (callback) ->\r\n//     @emitter.on 'did-change-name', callback\r\n//\r\n//   setName: (name) ->\r\n//     if name isnt @name\r\n//       @name = name\r\n//       @emitter.emit 'did-change-name', name\r\n//     @name\r\n// ```\r\nexport class Emitter {\r\n  static exceptionHandlers = [];\r\n  static dispatch = Emitter.simpleDispatch;\r\n\r\n  private disposed = false;\r\n  private subscriptions: CompositeDisposable;\r\n  private handlersByEventName: any;\r\n\r\n\r\n  static onEventHandlerException(exceptionHandler) {\r\n    this.dispatch = this.simpleDispatch;\r\n    if (this.exceptionHandlers.length === 0) {\r\n      this.dispatch = this.exceptionHandlingDispatch;\r\n    }\r\n\r\n    this.exceptionHandlers.push(exceptionHandler);\r\n\r\n    return new Disposable(() => {\r\n      this.exceptionHandlers.splice(this.exceptionHandlers.indexOf(exceptionHandler), 1);\r\n      if (this.exceptionHandlers.length === 0) {\r\n        return this.dispatch = this.simpleDispatch;\r\n      }\r\n    });\r\n  }\r\n\r\n  static simpleDispatch(handler, value) {\r\n    return handler(value);\r\n  }\r\n\r\n  static exceptionHandlingDispatch(handler, value) {\r\n    try {\r\n      return handler(value);\r\n    } catch (exception) {\r\n      return this.exceptionHandlers.map((exceptionHandler) => exceptionHandler(exception));\r\n    }\r\n  }\r\n\r\n  //////\r\n  /// Section: Construction and Destruction\r\n  //////\r\n\r\n  // Public: Construct an emitter.\r\n  //\r\n  // ```coffee\r\n  // @emitter = new Emitter()\r\n  // ```\r\n  constructor() {\r\n    this.clear();\r\n  }\r\n\r\n  // Public: Clear out any existing subscribers.\r\n  clear() {\r\n    if (this.subscriptions) {\r\n      this.subscriptions.dispose();\r\n    }\r\n    this.subscriptions = new CompositeDisposable();\r\n    return this.handlersByEventName = {};\r\n  }\r\n\r\n  // Public: Unsubscribe all handlers.\r\n  dispose() {\r\n    this.subscriptions.dispose();\r\n    this.handlersByEventName = null;\r\n    this.disposed = true;\r\n  }\r\n\r\n  //////\r\n  /// Section: Event Subscription\r\n  //////\r\n\r\n  // Public: Register the given handler function to be invoked whenever events by\r\n  // the given name are emitted via {::emit}.\r\n  //\r\n  // * `eventName` {String} naming the event that you want to invoke the handler\r\n  //   when emitted.\r\n  // * `handler` {Function} to invoke when {::emit} is called with the given\r\n  //   event name.\r\n  //\r\n  // Returns a {Disposable} on which `.dispose()` can be called to unsubscribe.\r\n  on(eventName, handler, unshift = false): Disposable {\r\n    if (this.disposed) {\r\n      throw new Error('Emitter has been disposed');\r\n    }\r\n\r\n    if (typeof handler !== 'function') {\r\n      throw new Error('Handler must be a function');\r\n    }\r\n    const currentHandlers = this.handlersByEventName[eventName];\r\n    if (currentHandlers) {\r\n      if (unshift) {\r\n        this.handlersByEventName[eventName] = [handler].concat(currentHandlers);\r\n      } else {\r\n        this.handlersByEventName[eventName] = currentHandlers.concat(handler);\r\n      }\r\n    } else {\r\n      this.handlersByEventName[eventName] = [handler];\r\n    }\r\n    // When the emitter is disposed, we want to dispose of all subscriptions.\r\n    // However, we also need to stop tracking disposables when they're disposed\r\n    // from outside, otherwise this class will hold references to all the\r\n    // disposables it created (instead of just the active ones).\r\n    const cleanup = new Disposable(() => {\r\n      this.subscriptions.remove(cleanup);\r\n      return this.off(eventName, handler);\r\n    });\r\n    this.subscriptions.add(cleanup);\r\n    return cleanup;\r\n  }\r\n\r\n  // Public: Register the given handler function to be invoked the next time an\r\n  // events with the given name is emitted via {::emit}.\r\n  //\r\n  // * `eventName` {String} naming the event that you want to invoke the handler\r\n  //   when emitted.\r\n  // * `handler` {Function} to invoke when {::emit} is called with the given\r\n  //   event name.\r\n  //\r\n  // Returns a {Disposable} on which `.dispose()` can be called to unsubscribe.\r\n  once(eventName, handler, unshift = false): Disposable {\r\n    let disposable: Disposable;\r\n    const wrapped = (value) => {\r\n      disposable.dispose();\r\n      handler(value);\r\n    };\r\n    disposable = this.on(eventName, wrapped, unshift);\r\n    return disposable;\r\n  }\r\n\r\n  // Public: Register the given handler function to be invoked *before* all\r\n  // other handlers existing at the time of subscription whenever events by the\r\n  // given name are emitted via {::emit}.\r\n  //\r\n  // Use this method when you need to be the first to handle a given event. This\r\n  // could be required when a data structure in a parent object needs to be\r\n  // updated before third-party event handlers registered on a child object via a\r\n  // public API are invoked. Your handler could itself be preempted via\r\n  // subsequent calls to this method, but this can be controlled by keeping\r\n  // methods based on `::preempt` private.\r\n  //\r\n  // * `eventName` {String} naming the event that you want to invoke the handler\r\n  //   when emitted.\r\n  // * `handler` {Function} to invoke when {::emit} is called with the given\r\n  //   event name.\r\n  //\r\n  // Returns a {Disposable} on which `.dispose()` can be called to unsubscribe.\r\n  preempt(eventName, handler) {\r\n    this.on(eventName, handler, true);\r\n  }\r\n\r\n  // Private: Used by the disposable.\r\n  off(eventName, handlerToRemove) {\r\n    if (this.disposed) {\r\n      return;\r\n    }\r\n\r\n    const oldHandlers = this.handlersByEventName[eventName];\r\n\r\n    if (oldHandlers) {\r\n      const newHandlers = [];\r\n      for (const handler of oldHandlers) {\r\n        if (handler !== handlerToRemove) {\r\n          newHandlers.push(handler);\r\n        }\r\n      }\r\n      if (newHandlers.length > 0) {\r\n        this.handlersByEventName[eventName] = newHandlers;\r\n      } else {\r\n        delete this.handlersByEventName[eventName];\r\n      }\r\n    }\r\n  }\r\n\r\n  //////\r\n  /// Section: Event Emission\r\n  //////\r\n\r\n  // Public: Invoke handlers registered via {::on} for the given event name.\r\n  //\r\n  // * `eventName` The name of the event to emit. Handlers registered with {::on}\r\n  //   for the same name will be invoked.\r\n  // * `value` Callbacks will be invoked with this value as an argument.\r\n  emit(eventName, value) {\r\n    if (this.handlersByEventName && this.handlersByEventName[eventName]) {\r\n      const handlers = this.handlersByEventName[eventName];\r\n      for (const handler of handlers) {\r\n        Emitter.dispatch(handler, value);\r\n      }\r\n    }\r\n  }\r\n\r\n  emitAsync(eventName, value): Promise<any> {\r\n    if (this.handlersByEventName && this.handlersByEventName[eventName]) {\r\n      const results = [];\r\n      for (const handler of this.handlersByEventName[eventName]) {\r\n        results.push(Emitter.dispatch(handler, value));\r\n      }\r\n      return Promise.all(results).then(function() {});\r\n    }\r\n    return Promise.resolve();\r\n  }\r\n\r\n  getEventNames(): string[] {\r\n    return Object.keys(this.handlersByEventName);\r\n  }\r\n\r\n  listenerCountForEventName(eventName) {\r\n    return this.handlersByEventName && this.handlersByEventName[eventName] ? this.handlersByEventName[eventName].length : 0;\r\n  }\r\n\r\n  getTotalListenerCount() {\r\n    let result = 0;\r\n    for (const eventName in this.handlersByEventName) {\r\n      if (this.handlersByEventName.hasOwnProperty(eventName)) {\r\n        result += this.handlersByEventName[eventName].length;\r\n      }\r\n    }\r\n    return result;\r\n  }\r\n}\r\n","import { PaneAxis } from './pane-axis';\r\nimport { Emitter, Disposable } from './event-kit';\r\n\r\n// const Grim = require('grim')\r\n// const {CompositeDisposable, Emitter} = require('event-kit')\r\n// const PaneAxis = require('./pane-axis')\r\n// const TextEditor = require('./text-editor')\r\n// const PaneElement = require('./pane-element')\r\n\r\nlet nextInstanceId = 1;\r\n\r\nclass SaveCancelledError extends Error { }\r\n\r\n// Extended: A container for presenting content in the center of the workspace.\r\n// Panes can contain multiple items, one of which is *active* at a given time.\r\n// The view corresponding to the active item is displayed in the interface. In\r\n// the default configuration, tabs are also displayed for each item.\r\n//\r\n// Each pane may also contain one *pending* item. When a pending item is added\r\n// to a pane, it will replace the currently pending item, if any, instead of\r\n// simply being added. In the default configuration, the text in the tab for\r\n// pending items is shown in italics.\r\nexport class Pane {\r\n\r\n  id: any;\r\n  activeItem: any;\r\n  focused: any;\r\n  applicationDelegate: any;\r\n  notificationManager: any;\r\n  config: any;\r\n  deserializerManager: any;\r\n  viewRegistry: any;\r\n  private emitter: Emitter;\r\n  alive = true;\r\n  subscriptionsPerItem = new WeakMap();\r\n  items = [];\r\n  itemStack = [];\r\n  container = null;\r\n  flexScale: any;\r\n  parent: any;\r\n  itemStackIndex: number;\r\n  pendingItem: any;\r\n\r\n  static deserialize(state, { deserializers, applicationDelegate, config, notifications, views }) {\r\n    const { activeItemIndex } = state;\r\n    const activeItemURI = state.activeItemURI || state.activeItemUri;\r\n\r\n    const items = [];\r\n    for (const itemState of state.items) {\r\n      const item = deserializers.deserialize(itemState);\r\n      if (item) { items.push(item); }\r\n    }\r\n    state.items = items;\r\n\r\n    state.activeItem = items[activeItemIndex];\r\n    if (!state.activeItem && activeItemURI) {\r\n      state.activeItem = state.items.find((item) =>\r\n        typeof item.getURI === 'function' && item.getURI() === activeItemURI\r\n      );\r\n    }\r\n\r\n    return new Pane(Object.assign(state, {\r\n      deserializerManager: deserializers,\r\n      notificationManager: notifications,\r\n      viewRegistry: views,\r\n      config,\r\n      applicationDelegate\r\n    }));\r\n  }\r\n\r\n\r\n\r\n  inspect() {\r\n    return `Pane ${this.id}`;\r\n  }\r\n  constructor(params: any) {\r\n    this.setPendingItem = this.setPendingItem.bind(this);\r\n    this.getPendingItem = this.getPendingItem.bind(this);\r\n    this.clearPendingItem = this.clearPendingItem.bind(this);\r\n    this.onItemDidTerminatePendingState = this.onItemDidTerminatePendingState.bind(this);\r\n    this.saveItem = this.saveItem.bind(this);\r\n    this.saveItemAs = this.saveItemAs.bind(this);\r\n\r\n    this.id = params.id;\r\n    if (this.id != null) {\r\n      nextInstanceId = Math.max(nextInstanceId, this.id + 1);\r\n    } else {\r\n      this.id = nextInstanceId++;\r\n    }\r\n\r\n    this.activeItem = params.activeItem;\r\n    this.focused = params.focused != null ? params.focused : false;\r\n    this.applicationDelegate = params.applicationDelegate;\r\n    this.notificationManager = params.notificationManager;\r\n    this.config = params.config;\r\n    this.deserializerManager = params.deserializerManager;\r\n    this.viewRegistry = params.viewRegistry;\r\n\r\n    this.emitter = new Emitter();\r\n    this.alive = true;\r\n    this.subscriptionsPerItem = new WeakMap();\r\n    this.items = [];\r\n    this.itemStack = [];\r\n    this.container = null;\r\n\r\n    this.addItems((params.items || []).filter(item => item));\r\n    if (!this.getActiveItem()) {\r\n      this.setActiveItem(this.items[0]);\r\n    }\r\n    this.addItemsToStack(params.itemStackIndices || []);\r\n    this.setFlexScale(params.flexScale || 1);\r\n  }\r\n\r\n  getElement() {\r\n  }\r\n\r\n  serialize() {\r\n    const itemsToBeSerialized = this.items.filter(item => item && typeof item.serialize === 'function');\r\n\r\n    const itemStackIndices = [];\r\n    for (const item of this.itemStack) {\r\n      if (typeof item.serialize === 'function') {\r\n        itemStackIndices.push(itemsToBeSerialized.indexOf(item));\r\n      }\r\n    }\r\n\r\n    const activeItemIndex = itemsToBeSerialized.indexOf(this.activeItem);\r\n\r\n    return {\r\n      deserializer: 'Pane',\r\n      id: this.id,\r\n      items: itemsToBeSerialized.map(item => item.serialize()),\r\n      itemStackIndices,\r\n      activeItemIndex,\r\n      focused: this.focused,\r\n      flexScale: this.flexScale\r\n    };\r\n  }\r\n\r\n  getParent() { return this.parent; }\r\n\r\n  setParent(parent) {\r\n    this.parent = parent;\r\n  }\r\n\r\n  getContainer() { return this.container; }\r\n\r\n  setContainer(container) {\r\n    if (container && container !== this.container) {\r\n      this.container = container;\r\n      container.didAddPane({ pane: this });\r\n    }\r\n  }\r\n\r\n  // Private: Determine whether the given item is allowed to exist in this pane.\r\n  //\r\n  // * `item` the Item\r\n  //\r\n  // Returns a {Boolean}.\r\n  isItemAllowed(item) {\r\n    if (typeof item.getAllowedLocations !== 'function') {\r\n      return true;\r\n    } else {\r\n      return item.getAllowedLocations().includes(this.getContainer().getLocation());\r\n    }\r\n  }\r\n\r\n  setFlexScale(flexScale) {\r\n    this.flexScale = flexScale;\r\n    return this.flexScale;\r\n  }\r\n\r\n  getFlexScale() { return this.flexScale; }\r\n\r\n  increaseSize() { this.setFlexScale(this.getFlexScale() * 1.1); }\r\n\r\n  decreaseSize() { this.setFlexScale(this.getFlexScale() / 1.1); }\r\n\r\n  /*\r\n  Section: Event Subscription\r\n  */\r\n\r\n  // Public: Invoke the given callback when the pane resizes\r\n  //\r\n  // The callback will be invoked when pane's flexScale property changes.\r\n  // Use {::getFlexScale} to get the current value.\r\n  //\r\n  // * `callback` {Function} to be called when the pane is resized\r\n  //   * `flexScale` {Number} representing the panes `flex-grow`; ability for a\r\n  //     flex item to grow if necessary.\r\n  //\r\n  // Returns a {Disposable} on which '.dispose()' can be called to unsubscribe.\r\n  onDidChangeFlexScale(callback) {\r\n  }\r\n\r\n  // Public: Invoke the given callback with the current and future values of\r\n  // {::getFlexScale}.\r\n  //\r\n  // * `callback` {Function} to be called with the current and future values of\r\n  //   the {::getFlexScale} property.\r\n  //   * `flexScale` {Number} representing the panes `flex-grow`; ability for a\r\n  //     flex item to grow if necessary.\r\n  //\r\n  // Returns a {Disposable} on which `.dispose()` can be called to unsubscribe.\r\n  observeFlexScale(callback) {\r\n    callback(this.flexScale);\r\n    return this.onDidChangeFlexScale(callback);\r\n  }\r\n\r\n  // Public: Invoke the given callback when the pane is activated.\r\n  //\r\n  // The given callback will be invoked whenever {::activate} is called on the\r\n  // pane, even if it is already active at the time.\r\n  //\r\n  // * `callback` {Function} to be called when the pane is activated.\r\n  //\r\n  // Returns a {Disposable} on which `.dispose()` can be called to unsubscribe.\r\n  onDidActivate(callback) {\r\n  }\r\n\r\n  // Public: Invoke the given callback before the pane is destroyed.\r\n  //\r\n  // * `callback` {Function} to be called before the pane is destroyed.\r\n  //\r\n  // Returns a {Disposable} on which `.dispose()` can be called to unsubscribe.\r\n  onWillDestroy(callback) {\r\n  }\r\n\r\n  // Public: Invoke the given callback when the pane is destroyed.\r\n  //\r\n  // * `callback` {Function} to be called when the pane is destroyed.\r\n  //\r\n  // Returns a {Disposable} on which `.dispose()` can be called to unsubscribe.\r\n  onDidDestroy(callback) {\r\n  }\r\n\r\n  // Public: Invoke the given callback when the value of the {::isActive}\r\n  // property changes.\r\n  //\r\n  // * `callback` {Function} to be called when the value of the {::isActive}\r\n  //   property changes.\r\n  //   * `active` {Boolean} indicating whether the pane is active.\r\n  //\r\n  // Returns a {Disposable} on which `.dispose()` can be called to unsubscribe.\r\n  onDidChangeActive(callback) {\r\n    return this.container.onDidChangeActivePane(activePane => {\r\n      const isActive = this === activePane;\r\n      callback(isActive);\r\n    });\r\n  }\r\n\r\n  // Public: Invoke the given callback with the current and future values of the\r\n  // {::isActive} property.\r\n  //\r\n  // * `callback` {Function} to be called with the current and future values of\r\n  //   the {::isActive} property.\r\n  //   * `active` {Boolean} indicating whether the pane is active.\r\n  //\r\n  // Returns a {Disposable} on which `.dispose()` can be called to unsubscribe.\r\n  observeActive(callback) {\r\n    callback(this.isActive());\r\n    return this.onDidChangeActive(callback);\r\n  }\r\n\r\n  // Public: Invoke the given callback when an item is added to the pane.\r\n  //\r\n  // * `callback` {Function} to be called with when items are added.\r\n  //   * `event` {Object} with the following keys:\r\n  //     * `item` The added pane item.\r\n  //     * `index` {Number} indicating where the item is located.\r\n  //\r\n  // Returns a {Disposable} on which `.dispose()` can be called to unsubscribe.\r\n  onDidAddItem(callback) {\r\n    return this.emitter.on('did-add-item', callback);\r\n  }\r\n\r\n  // Public: Invoke the given callback when an item is removed from the pane.\r\n  //\r\n  // * `callback` {Function} to be called with when items are removed.\r\n  //   * `event` {Object} with the following keys:\r\n  //     * `item` The removed pane item.\r\n  //     * `index` {Number} indicating where the item was located.\r\n  //\r\n  // Returns a {Disposable} on which `.dispose()` can be called to unsubscribe.\r\n  onDidRemoveItem(callback): Disposable {\r\n    return this.emitter.on('did-remove-item', callback);\r\n  }\r\n\r\n  // Public: Invoke the given callback before an item is removed from the pane.\r\n  //\r\n  // * `callback` {Function} to be called with when items are removed.\r\n  //   * `event` {Object} with the following keys:\r\n  //     * `item` The pane item to be removed.\r\n  //     * `index` {Number} indicating where the item is located.\r\n  onWillRemoveItem(callback) {\r\n  }\r\n\r\n  // Public: Invoke the given callback when an item is moved within the pane.\r\n  //\r\n  // * `callback` {Function} to be called with when items are moved.\r\n  //   * `event` {Object} with the following keys:\r\n  //     * `item` The removed pane item.\r\n  //     * `oldIndex` {Number} indicating where the item was located.\r\n  //     * `newIndex` {Number} indicating where the item is now located.\r\n  //\r\n  // Returns a {Disposable} on which `.dispose()` can be called to unsubscribe.\r\n  onDidMoveItem(callback) {\r\n  }\r\n\r\n  // Public: Invoke the given callback with all current and future items.\r\n  //\r\n  // * `callback` {Function} to be called with current and future items.\r\n  //   * `item` An item that is present in {::getItems} at the time of\r\n  //     subscription or that is added at some later time.\r\n  //\r\n  // Returns a {Disposable} on which `.dispose()` can be called to unsubscribe.\r\n  observeItems(callback) {\r\n    for (const item of this.getItems()) {\r\n      callback(item);\r\n    }\r\n    return this.onDidAddItem(({ item }) => callback(item));\r\n  }\r\n\r\n  // å¬ææ¹æ³ï¼ å½{::getActiveItem}å¼åæ¢åè°ç¨ã\r\n  onDoingChangeActiveItem(callback): Disposable {\r\n    return this.emitter.on('doing-change-active-item', callback);\r\n  }\r\n\r\n  // Public: Invoke the given callback when the value of {::getActiveItem}\r\n  // changes.\r\n  //\r\n  // * `callback` {Function} to be called with when the active item changes.\r\n  //   * `activeItem` The current active item.\r\n  //\r\n  // Returns a {Disposable} on which `.dispose()` can be called to unsubscribe.\r\n  onDidChangeActiveItem(callback): Disposable {\r\n    return this.emitter.on('did-change-active-item', callback);\r\n  }\r\n\r\n  // Public: Invoke the given callback when {::activateNextRecentlyUsedItem}\r\n  // has been called, either initiating or continuing a forward MRU traversal of\r\n  // pane items.\r\n  //\r\n  // * `callback` {Function} to be called with when the active item changes.\r\n  //   * `nextRecentlyUsedItem` The next MRU item, now being set active\r\n  //\r\n  // Returns a {Disposable} on which `.dispose()` can be called to unsubscribe.\r\n  onChooseNextMRUItem(callback) {\r\n  }\r\n\r\n  // Public: Invoke the given callback when {::activatePreviousRecentlyUsedItem}\r\n  // has been called, either initiating or continuing a reverse MRU traversal of\r\n  // pane items.\r\n  //\r\n  // * `callback` {Function} to be called with when the active item changes.\r\n  //   * `previousRecentlyUsedItem` The previous MRU item, now being set active\r\n  //\r\n  // Returns a {Disposable} on which `.dispose()` can be called to unsubscribe.\r\n  onChooseLastMRUItem(callback) {\r\n  }\r\n\r\n  // Public: Invoke the given callback when {::moveActiveItemToTopOfStack}\r\n  // has been called, terminating an MRU traversal of pane items and moving the\r\n  // current active item to the top of the stack. Typically bound to a modifier\r\n  // (e.g. CTRL) key up event.\r\n  //\r\n  // * `callback` {Function} to be called with when the MRU traversal is done.\r\n  //\r\n  // Returns a {Disposable} on which `.dispose()` can be called to unsubscribe.\r\n  onDoneChoosingMRUItem(callback) {\r\n  }\r\n\r\n  // Public: Invoke the given callback with the current and future values of\r\n  // {::getActiveItem}.\r\n  //\r\n  // * `callback` {Function} to be called with the current and future active\r\n  //   items.\r\n  //   * `activeItem` The current active item.\r\n  //\r\n  // Returns a {Disposable} on which `.dispose()` can be called to unsubscribe.\r\n  observeActiveItem(callback): Disposable {\r\n    callback(this.getActiveItem());\r\n    return this.onDidChangeActiveItem(callback);\r\n  }\r\n\r\n  // Public: Invoke the given callback before items are destroyed.\r\n  //\r\n  // * `callback` {Function} to be called before items are destroyed.\r\n  //   * `event` {Object} with the following keys:\r\n  //     * `item` The item that will be destroyed.\r\n  //     * `index` The location of the item.\r\n  //\r\n  // Returns a {Disposable} on which `.dispose()` can be called to\r\n  // unsubscribe.\r\n  onWillDestroyItem(callback) {\r\n  }\r\n\r\n  // Called by the view layer to indicate that the pane has gained focus.\r\n  focus() {\r\n    this.focused = true;\r\n    return this.activate();\r\n  }\r\n\r\n  // Called by the view layer to indicate that the pane has lost focus.\r\n  blur() {\r\n    this.focused = false;\r\n    return true; // if this is called from an event handler, don't cancel it\r\n  }\r\n\r\n  isFocused() { return this.focused; }\r\n\r\n  getPanes() { return [this]; }\r\n\r\n  unsubscribeFromItem(item) {\r\n    const subscription = this.subscriptionsPerItem.get(item);\r\n    if (subscription) {\r\n      subscription.dispose();\r\n      this.subscriptionsPerItem.delete(item);\r\n    }\r\n  }\r\n\r\n  /*\r\n  Section: Items\r\n  */\r\n\r\n  // Public: Get the items in this pane.\r\n  //\r\n  // Returns an {Array} of items.\r\n  getItems() {\r\n    return this.items.slice();\r\n  }\r\n\r\n  // Public: Get the active pane item in this pane.\r\n  //\r\n  // Returns a pane item.\r\n  getActiveItem() { return this.activeItem; }\r\n\r\n  setActiveItem(activeItem?: any, options?: any) {\r\n    const modifyStack = options && options.modifyStack;\r\n    if (activeItem !== this.activeItem) {\r\n      if (modifyStack !== false) { this.addItemToStack(activeItem); }\r\n      this.emitter.emit('doing-change-active-item', this.activeItem);\r\n      this.activeItem = activeItem;\r\n      this.emitter.emit('did-change-active-item', this.activeItem);\r\n      if (this.container) { this.container.didChangeActiveItemOnPane(this, this.activeItem); }\r\n    }\r\n    return this.activeItem;\r\n  }\r\n\r\n  // Build the itemStack after deserializing\r\n  addItemsToStack(itemStackIndices) {\r\n    if (this.items.length > 0) {\r\n      if (itemStackIndices.length !== this.items.length || itemStackIndices.includes(-1)) {\r\n        itemStackIndices = this.items.map((item, i) => i);\r\n      }\r\n\r\n      for (const itemIndex of itemStackIndices) {\r\n        this.addItemToStack(this.items[itemIndex]);\r\n      }\r\n    }\r\n  }\r\n\r\n  // Add item (or move item) to the end of the itemStack\r\n  addItemToStack(newItem) {\r\n    if (newItem == null) { return; }\r\n    const index = this.itemStack.indexOf(newItem);\r\n    if (index !== -1) { this.itemStack.splice(index, 1); }\r\n    return this.itemStack.push(newItem);\r\n  }\r\n\r\n  // Public: Return the item at the given index.\r\n  //\r\n  // * `index` {Number}\r\n  //\r\n  // Returns an item or `null` if no item exists at the given index.\r\n  itemAtIndex(index) {\r\n    return this.items[index];\r\n  }\r\n\r\n  // Makes the next item in the itemStack active.\r\n  activateNextRecentlyUsedItem() {\r\n    if (this.items.length > 1) {\r\n      if (this.itemStackIndex == null) { this.itemStackIndex = this.itemStack.length - 1; }\r\n      if (this.itemStackIndex === 0) { this.itemStackIndex = this.itemStack.length; }\r\n      this.itemStackIndex--;\r\n      const nextRecentlyUsedItem = this.itemStack[this.itemStackIndex];\r\n      this.setActiveItem(nextRecentlyUsedItem, { modifyStack: false });\r\n    }\r\n  }\r\n\r\n  // Makes the previous item in the itemStack active.\r\n  activatePreviousRecentlyUsedItem() {\r\n    if (this.items.length > 1) {\r\n      if (this.itemStackIndex + 1 === this.itemStack.length || this.itemStackIndex == null) {\r\n        this.itemStackIndex = -1;\r\n      }\r\n      this.itemStackIndex++;\r\n      const previousRecentlyUsedItem = this.itemStack[this.itemStackIndex];\r\n      this.setActiveItem(previousRecentlyUsedItem, { modifyStack: false });\r\n    }\r\n  }\r\n\r\n  // Moves the active item to the end of the itemStack once the ctrl key is lifted\r\n  moveActiveItemToTopOfStack() {\r\n    delete this.itemStackIndex;\r\n    this.addItemToStack(this.activeItem);\r\n  }\r\n\r\n  // Public: Makes the next item active.\r\n  activateNextItem() {\r\n    const index = this.getActiveItemIndex();\r\n    if (index < (this.items.length - 1)) {\r\n      this.activateItemAtIndex(index + 1);\r\n    } else {\r\n      this.activateItemAtIndex(0);\r\n    }\r\n  }\r\n\r\n  // Public: Makes the previous item active.\r\n  activatePreviousItem() {\r\n    const index = this.getActiveItemIndex();\r\n    if (index > 0) {\r\n      this.activateItemAtIndex(index - 1);\r\n    } else {\r\n      this.activateItemAtIndex(this.items.length - 1);\r\n    }\r\n  }\r\n\r\n  activateLastItem() {\r\n    this.activateItemAtIndex(this.items.length - 1);\r\n  }\r\n\r\n  // Public: Move the active tab to the right.\r\n  moveItemRight() {\r\n    const index = this.getActiveItemIndex();\r\n    const rightItemIndex = index + 1;\r\n    if (rightItemIndex <= this.items.length - 1) { this.moveItem(this.getActiveItem(), rightItemIndex); }\r\n  }\r\n\r\n  // Public: Move the active tab to the left\r\n  moveItemLeft() {\r\n    const index = this.getActiveItemIndex();\r\n    const leftItemIndex = index - 1;\r\n    if (leftItemIndex >= 0) { return this.moveItem(this.getActiveItem(), leftItemIndex); }\r\n  }\r\n\r\n  // Public: Get the index of the active item.\r\n  //\r\n  // Returns a {Number}.\r\n  getActiveItemIndex() {\r\n    return this.items.indexOf(this.activeItem);\r\n  }\r\n\r\n  // Public: Activate the item at the given index.\r\n  //\r\n  // * `index` {Number}\r\n  activateItemAtIndex(index) {\r\n    const item = this.itemAtIndex(index) || this.getActiveItem();\r\n    return this.setActiveItem(item);\r\n  }\r\n\r\n  // Public: Make the given item *active*, causing it to be displayed by\r\n  // the pane's view.\r\n  //\r\n  // * `item` The item to activate\r\n  // * `options` (optional) {Object}\r\n  //   * `pending` (optional) {Boolean} indicating that the item should be added\r\n  //     in a pending state if it does not yet exist in the pane. Existing pending\r\n  //     items in a pane are replaced with new pending items when they are opened.\r\n  activateItem(item, options: any = {}) {\r\n    if (item) {\r\n      const index = (this.getPendingItem() === this.activeItem)\r\n        ? this.getActiveItemIndex()\r\n        : this.getActiveItemIndex() + 1;\r\n      this.addItem(item, Object.assign({}, options, { index }));\r\n      this.setActiveItem(item);\r\n    }\r\n  }\r\n\r\n  // Public: Add the given item to the pane.\r\n  //\r\n  // * `item` The item to add. It can be a model with an associated view or a\r\n  //   view.\r\n  // * `options` (optional) {Object}\r\n  //   * `index` (optional) {Number} indicating the index at which to add the item.\r\n  //     If omitted, the item is added after the current active item.\r\n  //   * `pending` (optional) {Boolean} indicating that the item should be\r\n  //     added in a pending state. Existing pending items in a pane are replaced with\r\n  //     new pending items when they are opened.\r\n  //\r\n  // Returns the added item.\r\n  addItem(item, options: any = {}) {\r\n    // Backward compat with old API:\r\n    //   addItem(item, index=@getActiveItemIndex() + 1)\r\n    if (typeof options === 'number') {\r\n      options = { index: options };\r\n    }\r\n\r\n    const index = options.index != null ? options.index : this.getActiveItemIndex() + 1;\r\n    const moved = options.moved != null ? options.moved : false;\r\n    const pending = options.pending != null ? options.pending : false;\r\n\r\n    if (!item || typeof item !== 'object') {\r\n      throw new Error(`Pane items must be objects. Attempted to add item ${item}.`);\r\n    }\r\n\r\n    if (typeof item.isDestroyed === 'function' && item.isDestroyed()) {\r\n      throw new Error(`Adding a pane item with URI\r\n      '${typeof item.getURI === 'function' && item.getURI()}' that has already been destroyed`);\r\n    }\r\n\r\n    if (this.items.find(it => it === item)) { return; }\r\n\r\n    if (typeof item.onDidDestroy === 'function') {\r\n    }\r\n\r\n    this.items.splice(index, 0, item);\r\n    const lastPendingItem = this.getPendingItem();\r\n    const replacingPendingItem = lastPendingItem != null && !moved;\r\n    if (replacingPendingItem) { this.pendingItem = null; }\r\n    if (pending) { this.setPendingItem(item); }\r\n\r\n    this.emitter.emit('did-add-item', { item, index, moved });\r\n    if (!moved) {\r\n      if (this.container) { this.container.didAddPaneItem(item, this, index); }\r\n    }\r\n\r\n    if (replacingPendingItem) { this.destroyItem(lastPendingItem); }\r\n    if (!this.getActiveItem()) { this.setActiveItem(item); }\r\n    return item;\r\n  }\r\n\r\n  setPendingItem(item) {\r\n    if (this.pendingItem !== item) {\r\n      const mostRecentPendingItem = this.pendingItem;\r\n      this.pendingItem = item;\r\n    }\r\n  }\r\n\r\n  getPendingItem() {\r\n    return this.pendingItem || null;\r\n  }\r\n\r\n  clearPendingItem() {\r\n    this.setPendingItem(null);\r\n  }\r\n\r\n  onItemDidTerminatePendingState(callback) {\r\n  }\r\n\r\n  // Public: Add the given items to the pane.\r\n  //\r\n  // * `items` An {Array} of items to add. Items can be views or models with\r\n  //   associated views. Any objects that are already present in the pane's\r\n  //   current items will not be added again.\r\n  // * `index` (optional) {Number} index at which to add the items. If omitted,\r\n  //   the item is #   added after the current active item.\r\n  //\r\n  // Returns an {Array} of added items.\r\n  addItems(items: any[], index = this.getActiveItemIndex() + 1) {\r\n    items = items.filter(item => !this.items.find(it => it === item));\r\n    for (let i = 0; i < items.length; i++) {\r\n      const item = items[i];\r\n      this.addItem(item, { index: index + i });\r\n    }\r\n    return items;\r\n  }\r\n\r\n  removeItem(item, moved = false) {\r\n    const index = this.items.indexOf(item);\r\n    if (index === -1) { return; }\r\n    if (this.getPendingItem() === item) { this.pendingItem = null; }\r\n    this.removeItemFromStack(item);\r\n    // this.emitter.emit('will-remove-item', {item, index, destroyed: !moved, moved});\r\n    this.unsubscribeFromItem(item);\r\n\r\n    if (item === this.activeItem) {\r\n      if (this.items.length === 1) {\r\n        this.setActiveItem(undefined);\r\n      } else if (index === 0) {\r\n        this.activateNextItem();\r\n      } else {\r\n        this.activatePreviousItem();\r\n      }\r\n    }\r\n    this.items.splice(index, 1);\r\n    this.emitter.emit('did-remove-item', { item, index, destroyed: !moved, moved });\r\n    if (!moved && this.container) { this.container.didDestroyPaneItem({ item, index, pane: this }); }\r\n    if (this.items.length === 0 && this.config && this.config.get && this.config.get('core.destroyEmptyPanes')) {\r\n      this.destroy();\r\n    }\r\n  }\r\n\r\n  // Remove the given item from the itemStack.\r\n  //\r\n  // * `item` The item to remove.\r\n  // * `index` {Number} indicating the index to which to remove the item from the itemStack.\r\n  removeItemFromStack(item) {\r\n    const index = this.itemStack.indexOf(item);\r\n    if (index !== -1) { this.itemStack.splice(index, 1); }\r\n  }\r\n\r\n  // Public: Move the given item to the given index.\r\n  //\r\n  // * `item` The item to move.\r\n  // * `index` {Number} indicating the index to which to move the item.\r\n  moveItem(item, newIndex) {\r\n    const oldIndex = this.items.indexOf(item);\r\n    this.items.splice(oldIndex, 1);\r\n    this.items.splice(newIndex, 0, item);\r\n  }\r\n\r\n  // Public: Move the given item to the given index on another pane.\r\n  //\r\n  // * `item` The item to move.\r\n  // * `pane` {Pane} to which to move the item.\r\n  // * `index` {Number} indicating the index to which to move the item in the\r\n  //   given pane.\r\n  moveItemToPane(item?, pane?, index?) {\r\n    this.removeItem(item, true);\r\n    return pane.addItem(item, { index, moved: true });\r\n  }\r\n\r\n  // Public: Destroy the active item and activate the next item.\r\n  //\r\n  // Returns a {Promise} that resolves when the item is destroyed.\r\n  destroyActiveItem() {\r\n    return this.destroyItem(this.activeItem);\r\n  }\r\n\r\n  // Public: Destroy the given item.\r\n  //\r\n  // If the item is active, the next item will be activated. If the item is the\r\n  // last item, the pane will be destroyed if the `core.destroyEmptyPanes` config\r\n  // setting is `true`.\r\n  //\r\n  // * `item` Item to destroy\r\n  // * `force` (optional) {Boolean} Destroy the item without prompting to save\r\n  //    it, even if the item's `isPermanentDockItem` method returns true.\r\n  //\r\n  // Returns a {Promise} that resolves with a {Boolean} indicating whether or not\r\n  // the item was destroyed.\r\n  async destroyItem(item?: any, force?) {\r\n    const index = this.items.indexOf(item);\r\n    if (index === -1) { return false; }\r\n\r\n    if (!force &&\r\n      typeof item.isPermanentDockItem === 'function' && item.isPermanentDockItem() &&\r\n      (!this.container || this.container.getLocation() !== 'center')) {\r\n      return false;\r\n    }\r\n\r\n    // In the case where there are no `onWillDestroyPaneItem` listeners, preserve the old behavior\r\n    // where `Pane.destroyItem` and callers such as `Pane.close` take effect synchronously.\r\n\r\n\r\n    this.removeItem(item, false);\r\n    if (typeof item.destroy === 'function') { item.destroy(); }\r\n    return true;\r\n  }\r\n\r\n  // Public: Destroy all items.\r\n  destroyItems() {\r\n    return Promise.all(\r\n      this.getItems().map(item => this.destroyItem(item))\r\n    );\r\n  }\r\n\r\n  // Public: Destroy all items except for the active item.\r\n  destroyInactiveItems() {\r\n    return Promise.all(\r\n      this.getItems()\r\n        .filter(item => item !== this.activeItem)\r\n        .map(item => this.destroyItem(item))\r\n    );\r\n  }\r\n\r\n  promptToSaveItem(item, options = {}): Promise<boolean> {\r\n    if (typeof item.shouldPromptToSave !== 'function' || !item.shouldPromptToSave(options)) {\r\n      return Promise.resolve(true);\r\n    }\r\n\r\n    let uri;\r\n    if (typeof item.getURI === 'function') {\r\n      uri = item.getURI();\r\n    } else if (typeof item.getUri === 'function') {\r\n      uri = item.getUri();\r\n    } else {\r\n      return Promise.resolve(true);\r\n    }\r\n\r\n    const title = (typeof item.getTitle === 'function' && item.getTitle()) || uri;\r\n\r\n    const saveDialog = (saveButtonText, saveFn, message): Promise<boolean> => {\r\n      const chosen = this.applicationDelegate.confirm({\r\n        message,\r\n        detailedMessage: 'Your changes will be lost if you close this item without saving.',\r\n        buttons: [saveButtonText, 'Cancel', '&Don\\'t Save']\r\n      }\r\n      );\r\n\r\n      switch (chosen) {\r\n        case 0:\r\n          return new Promise(resolve => {\r\n            return saveFn(item, error => {\r\n              if (error instanceof SaveCancelledError) {\r\n                resolve(false);\r\n              } else if (error) {\r\n                saveDialog(\r\n                  'Save as',\r\n                  this.saveItemAs,\r\n                  `'${title}' could not be saved.\\nError: ${this.getMessageForErrorCode(error.code)}`\r\n                ).then(resolve);\r\n              } else {\r\n                resolve(true);\r\n              }\r\n            });\r\n          });\r\n        case 1:\r\n          return Promise.resolve(false);\r\n        case 2:\r\n          return Promise.resolve(true);\r\n      }\r\n    };\r\n\r\n    return saveDialog(\r\n      'Save',\r\n      this.saveItem,\r\n      `'${title}' has changes, do you want to save them?`\r\n    );\r\n  }\r\n\r\n  // Public: Save the active item.\r\n  saveActiveItem(nextAction?: () => any) {\r\n    return this.saveItem(this.getActiveItem(), nextAction);\r\n  }\r\n\r\n  // Public: Prompt the user for a location and save the active item with the\r\n  // path they select.\r\n  //\r\n  // * `nextAction` (optional) {Function} which will be called after the item is\r\n  //   successfully saved.\r\n  //\r\n  // Returns a {Promise} that resolves when the save is complete\r\n  saveActiveItemAs(nextAction?: () => any) {\r\n    return this.saveItemAs(this.getActiveItem(), nextAction);\r\n  }\r\n\r\n  // Public: Save the given item.\r\n  //\r\n  // * `item` The item to save.\r\n  // * `nextAction` (optional) {Function} which will be called with no argument\r\n  //   after the item is successfully saved, or with the error if it failed.\r\n  //   The return value will be that of `nextAction` or `undefined` if it was not\r\n  //   provided\r\n  //\r\n  // Returns a {Promise} that resolves when the save is complete\r\n  saveItem(item, nextAction) {\r\n    if (!item) { return Promise.resolve(); }\r\n\r\n    let itemURI;\r\n    if (typeof item.getURI === 'function') {\r\n      itemURI = item.getURI();\r\n    } else if (typeof item.getUri === 'function') {\r\n      itemURI = item.getUri();\r\n    }\r\n\r\n    if (itemURI != null) {\r\n      if (typeof item.save === 'function') {\r\n        return promisify(() => item.save())\r\n          .then(() => {\r\n            if (nextAction) { nextAction(); }\r\n          })\r\n          .catch(error => {\r\n            if (nextAction) {\r\n              nextAction(error);\r\n            } else {\r\n              this.handleSaveError(error, item);\r\n            }\r\n          });\r\n      } else if (nextAction) {\r\n        nextAction();\r\n        return Promise.resolve();\r\n      }\r\n    } else {\r\n      return this.saveItemAs(item, nextAction);\r\n    }\r\n  }\r\n\r\n  // Public: Prompt the user for a location and save the active item with the\r\n  // path they select.\r\n  //\r\n  // * `item` The item to save.\r\n  // * `nextAction` (optional) {Function} which will be called with no argument\r\n  //   after the item is successfully saved, or with the error if it failed.\r\n  //   The return value will be that of `nextAction` or `undefined` if it was not\r\n  //   provided\r\n  saveItemAs(item, nextAction) {\r\n  }\r\n\r\n  // Public: Save all items.\r\n  saveItems() {\r\n  }\r\n\r\n  // Public: Return the first item that matches the given URI or undefined if\r\n  // none exists.\r\n  //\r\n  // * `uri` {String} containing a URI.\r\n  itemForURI(uri) {\r\n    return this.items.find(item => {\r\n      if (typeof item.getURI === 'function') {\r\n        return item.getURI() === uri;\r\n      } else if (typeof item.getUri === 'function') {\r\n        return item.getUri() === uri;\r\n      }\r\n    });\r\n  }\r\n\r\n  // Public: Activate the first item that matches the given URI.\r\n  //\r\n  // * `uri` {String} containing a URI.\r\n  //\r\n  // Returns a {Boolean} indicating whether an item matching the URI was found.\r\n  activateItemForURI(uri) {\r\n    const item = this.itemForURI(uri);\r\n    if (item) {\r\n      this.activateItem(item);\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  copyActiveItem() {\r\n    if (this.activeItem && typeof this.activeItem.copy === 'function') {\r\n      return this.activeItem.copy();\r\n    }\r\n  }\r\n\r\n  /*\r\n  Section: Lifecycle\r\n  */\r\n\r\n  // Public: Determine whether the pane is active.\r\n  //\r\n  // Returns a {Boolean}.\r\n  isActive() {\r\n    return this.container && this.container.getActivePane() === this;\r\n  }\r\n\r\n  // Public: Makes this pane the *active* pane, causing it to gain focus.\r\n  activate() {\r\n  }\r\n\r\n  // Public: Close the pane and destroy all its items.\r\n  //\r\n  // If this is the last pane, all the items will be destroyed but the pane\r\n  // itself will not be destroyed.\r\n  destroy() {\r\n  }\r\n\r\n  isAlive() { return this.alive; }\r\n\r\n  // Public: Determine whether this pane has been destroyed.\r\n  //\r\n  // Returns a {Boolean}.\r\n  isDestroyed() { return !this.isAlive(); }\r\n\r\n  /*\r\n  Section: Splitting\r\n  */\r\n\r\n  // Public: Create a new pane to the left of this pane.\r\n  //\r\n  // * `params` (optional) {Object} with the following keys:\r\n  //   * `items` (optional) {Array} of items to add to the new pane.\r\n  //   * `copyActiveItem` (optional) {Boolean} true will copy the active item into the new split pane\r\n  //\r\n  // Returns the new {Pane}.\r\n  splitLeft(params) {\r\n    return this.split('horizontal', 'before', params);\r\n  }\r\n\r\n  // Public: Create a new pane to the right of this pane.\r\n  //\r\n  // * `params` (optional) {Object} with the following keys:\r\n  //   * `items` (optional) {Array} of items to add to the new pane.\r\n  //   * `copyActiveItem` (optional) {Boolean} true will copy the active item into the new split pane\r\n  //\r\n  // Returns the new {Pane}.\r\n  splitRight(params) {\r\n    return this.split('horizontal', 'after', params);\r\n  }\r\n\r\n  // Public: Creates a new pane above the receiver.\r\n  //\r\n  // * `params` (optional) {Object} with the following keys:\r\n  //   * `items` (optional) {Array} of items to add to the new pane.\r\n  //   * `copyActiveItem` (optional) {Boolean} true will copy the active item into the new split pane\r\n  //\r\n  // Returns the new {Pane}.\r\n  splitUp(params) {\r\n    return this.split('vertical', 'before', params);\r\n  }\r\n\r\n  // Public: Creates a new pane below the receiver.\r\n  //\r\n  // * `params` (optional) {Object} with the following keys:\r\n  //   * `items` (optional) {Array} of items to add to the new pane.\r\n  //   * `copyActiveItem` (optional) {Boolean} true will copy the active item into the new split pane\r\n  //\r\n  // Returns the new {Pane}.\r\n  splitDown(params) {\r\n    return this.split('vertical', 'after', params);\r\n  }\r\n\r\n  split(orientation, side, params) {\r\n    if (params && params.copyActiveItem) {\r\n      if (!params.items) { params.items = []; }\r\n      params.items.push(this.copyActiveItem());\r\n    }\r\n\r\n    if (this.parent.orientation !== orientation) {\r\n      this.parent.replaceChild(this, new PaneAxis({\r\n        container: this.container,\r\n        orientation,\r\n        children: [this],\r\n        flexScale: this.flexScale\r\n      },\r\n        this.viewRegistry\r\n      ));\r\n      this.setFlexScale(1);\r\n    }\r\n\r\n    const newPane = new Pane(Object.assign({\r\n      applicationDelegate: this.applicationDelegate,\r\n      notificationManager: this.notificationManager,\r\n      deserializerManager: this.deserializerManager,\r\n      config: this.config,\r\n      viewRegistry: this.viewRegistry\r\n    }, params));\r\n\r\n    switch (side) {\r\n      case 'before': this.parent.insertChildBefore(this, newPane); break;\r\n      case 'after': this.parent.insertChildAfter(this, newPane); break;\r\n    }\r\n\r\n    if (params && params.moveActiveItem && this.activeItem) {\r\n      this.moveItemToPane(this.activeItem, newPane);\r\n    }\r\n\r\n    newPane.activate();\r\n    return newPane;\r\n  }\r\n\r\n  // If the parent is a horizontal axis, returns its first child if it is a pane;\r\n  // otherwise returns this pane.\r\n  findLeftmostSibling() {\r\n    if (this.parent.orientation === 'horizontal') {\r\n      const [leftmostSibling] = this.parent.children;\r\n      if (leftmostSibling instanceof PaneAxis) {\r\n        return this;\r\n      } else {\r\n        return leftmostSibling;\r\n      }\r\n    } else {\r\n      return this;\r\n    }\r\n  }\r\n\r\n  findRightmostSibling() {\r\n    if (this.parent.orientation === 'horizontal') {\r\n      const rightmostSibling = this.parent.children[this.parent.children.length - 1];\r\n      if (rightmostSibling instanceof PaneAxis) {\r\n        return this;\r\n      } else {\r\n        return rightmostSibling;\r\n      }\r\n    } else {\r\n      return this;\r\n    }\r\n  }\r\n\r\n  // If the parent is a horizontal axis, returns its last child if it is a pane;\r\n  // otherwise returns a new pane created by splitting this pane rightward.\r\n  findOrCreateRightmostSibling() {\r\n    const rightmostSibling = this.findRightmostSibling();\r\n    if (rightmostSibling === this) {\r\n      return this.splitRight({});\r\n    } else {\r\n      return rightmostSibling;\r\n    }\r\n  }\r\n\r\n  // If the parent is a vertical axis, returns its first child if it is a pane;\r\n  // otherwise returns this pane.\r\n  findTopmostSibling() {\r\n    if (this.parent.orientation === 'vertical') {\r\n      const [topmostSibling] = this.parent.children;\r\n      if (topmostSibling instanceof PaneAxis) {\r\n        return this;\r\n      } else {\r\n        return topmostSibling;\r\n      }\r\n    } else {\r\n      return this;\r\n    }\r\n  }\r\n\r\n  findBottommostSibling() {\r\n    if (this.parent.orientation === 'vertical') {\r\n      const bottommostSibling = this.parent.children[this.parent.children.length - 1];\r\n      if (bottommostSibling instanceof PaneAxis) {\r\n        return this;\r\n      } else {\r\n        return bottommostSibling;\r\n      }\r\n    } else {\r\n      return this;\r\n    }\r\n  }\r\n\r\n  // If the parent is a vertical axis, returns its last child if it is a pane;\r\n  // otherwise returns a new pane created by splitting this pane bottomward.\r\n  findOrCreateBottommostSibling() {\r\n    const bottommostSibling = this.findBottommostSibling();\r\n    if (bottommostSibling === this) {\r\n      return this.splitDown({});\r\n    } else {\r\n      return bottommostSibling;\r\n    }\r\n  }\r\n\r\n  // Private: Close the pane unless the user cancels the action via a dialog.\r\n  //\r\n  // Returns a {Promise} that resolves once the pane is either closed, or the\r\n  // closing has been cancelled.\r\n  close() {\r\n    return Promise.all(this.getItems().map(item => this.promptToSaveItem(item)))\r\n      .then(results => {\r\n        if (!results.find(item => item === false)) { return this.destroy(); }\r\n      });\r\n  }\r\n\r\n  handleSaveError(error, item) {\r\n  }\r\n\r\n  getMessageForErrorCode(errorCode) {\r\n    switch (errorCode) {\r\n      case 'EACCES': return 'Permission denied';\r\n      case 'ECONNRESET': return 'Connection reset';\r\n      case 'EINTR': return 'Interrupted system call';\r\n      case 'EIO': return 'I/O error writing file';\r\n      case 'ENOSPC': return 'No space left on device';\r\n      case 'ENOTSUP': return 'Operation not supported on socket';\r\n      case 'ENXIO': return 'No such device or address';\r\n      case 'EROFS': return 'Read-only file system';\r\n      case 'ESPIPE': return 'Invalid seek';\r\n      case 'ETIMEDOUT': return 'Connection timed out';\r\n    }\r\n  }\r\n}\r\n\r\nfunction promisify(callback) {\r\n  try {\r\n    return Promise.resolve(callback());\r\n  } catch (error) {\r\n    return Promise.reject(error);\r\n  }\r\n}\r\n","export class ItemRegistry {\r\n  items: WeakSet<any>;\r\n  constructor() {\r\n    this.items = new WeakSet();\r\n  }\r\n\r\n  addItem(item: any) {\r\n    if (this.hasItem(item)) {\r\n      throw new Error(`The workspace can only contain one instance of item ${item}`);\r\n    }\r\n    this.items.add(item);\r\n  }\r\n\r\n  removeItem(item: any) {\r\n    this.items.delete(item);\r\n  }\r\n\r\n  hasItem(item) {\r\n    return this.items.has(item);\r\n  }\r\n}\r\n","import { Pane } from './pane';\r\nimport { ItemRegistry } from './item-registry';\r\n\r\nconst SERIALIZATION_VERSION = 1;\r\n\r\nexport class PaneContainer {\r\n  itemRegistry: any;\r\n  alive: boolean;\r\n  viewRegistry: any;\r\n  location: any;\r\n  activePane: any;\r\n  root: any;\r\n  config: any;\r\n\r\n  constructor(params) {\r\n    let applicationDelegate, deserializerManager, notificationManager;\r\n    ({\r\n      config: this.config,\r\n      applicationDelegate,\r\n      notificationManager,\r\n      deserializerManager,\r\n      viewRegistry: this.viewRegistry,\r\n      location: this.location\r\n    } = params);\r\n\r\n    this.itemRegistry = new ItemRegistry();\r\n    this.alive = true;\r\n\r\n\r\n    this.setRoot(new Pane({\r\n      container: this,\r\n      config: this.config,\r\n      applicationDelegate,\r\n      notificationManager,\r\n      deserializerManager,\r\n      viewRegistry: this.viewRegistry\r\n    }));\r\n    this.didActivatePane(this.getRoot());\r\n  }\r\n\r\n  getLocation() { return this.location; }\r\n\r\n  getElement() {\r\n  }\r\n\r\n  destroy() {\r\n    this.alive = false;\r\n    for (const pane of this.getRoot().getPanes()) { pane.destroy(); }\r\n\r\n  }\r\n\r\n  isAlive() { return this.alive; }\r\n\r\n  isDestroyed() { return !this.isAlive(); }\r\n\r\n  serialize(...params) {\r\n    return {\r\n      deserializer: 'PaneContainer',\r\n      version: SERIALIZATION_VERSION,\r\n      root: this.root ? this.root.serialize() : null,\r\n      activePaneId: this.activePane.id\r\n    };\r\n  }\r\n\r\n  deserialize(state, deserializerManager) {\r\n    if (state.version !== SERIALIZATION_VERSION) { return; }\r\n    this.setRoot(deserializerManager.deserialize(state.root));\r\n    this.activePane = this.getRoot().getPanes().find(pane => pane.id === state.activePaneId) || this.getPanes()[0];\r\n    if (this.config && this.config.get && this.config.get('core.destroyEmptyPanes')) {\r\n      this.destroyEmptyPanes();\r\n    }\r\n  }\r\n\r\n  onDidChangeRoot(fn) {\r\n  }\r\n\r\n  observeRoot(fn) {\r\n    fn(this.getRoot());\r\n    return this.onDidChangeRoot(fn);\r\n  }\r\n\r\n  onDidAddPane(fn) {\r\n  }\r\n\r\n  observePanes(fn) {\r\n    for (const pane of this.getPanes()) { fn(pane); }\r\n    return this.onDidAddPane(({ pane }) => fn(pane));\r\n  }\r\n\r\n  onDidDestroyPane(fn) {\r\n  }\r\n\r\n  onWillDestroyPane(fn) {\r\n  }\r\n\r\n  onDidChangeActivePane(fn) {\r\n  }\r\n\r\n  onDidActivatePane(fn) {\r\n  }\r\n\r\n  observeActivePane(fn) {\r\n    fn(this.getActivePane());\r\n    return this.onDidChangeActivePane(fn);\r\n  }\r\n\r\n  onDidAddPaneItem(fn) {\r\n  }\r\n\r\n  observePaneItems(fn) {\r\n    for (const item of this.getPaneItems()) { fn(item); }\r\n    return this.onDidAddPaneItem(({ item }) => fn(item));\r\n  }\r\n\r\n  onDidChangeActivePaneItem(fn) {\r\n  }\r\n\r\n  onDidStopChangingActivePaneItem(fn) {\r\n  }\r\n\r\n  observeActivePaneItem(fn) {\r\n    fn(this.getActivePaneItem());\r\n    return this.onDidChangeActivePaneItem(fn);\r\n  }\r\n\r\n  onWillDestroyPaneItem(fn) {\r\n  }\r\n\r\n  onDidDestroyPaneItem(fn) {\r\n  }\r\n\r\n  getRoot() { return this.root; }\r\n\r\n  setRoot(root) {\r\n    this.root = root;\r\n    this.root.setParent(this);\r\n    this.root.setContainer(this);\r\n    if ((this.getActivePane() == null) && this.root instanceof Pane) {\r\n      this.didActivatePane(this.root);\r\n    }\r\n  }\r\n\r\n  replaceChild(oldChild, newChild) {\r\n    if (oldChild !== this.root) { throw new Error('Replacing non-existent child'); }\r\n    this.setRoot(newChild);\r\n  }\r\n\r\n  getPanes(): Pane[] {\r\n    if (this.alive) {\r\n      return this.getRoot().getPanes();\r\n    } else {\r\n      return [];\r\n    }\r\n  }\r\n\r\n  getPaneItems(): any[] {\r\n    return this.getRoot().getItems();\r\n  }\r\n\r\n  getActivePane(): Pane {\r\n    return this.activePane;\r\n  }\r\n\r\n  getActivePaneItem(): any {\r\n    return this.getActivePane().getActiveItem();\r\n  }\r\n\r\n  paneForURI(uri): Pane {\r\n    return this.getPanes().find(pane => pane.itemForURI(uri) != null);\r\n  }\r\n\r\n  paneForItem(item): Pane {\r\n    return this.getPanes().find(pane => pane.getItems().find(it => it === item));\r\n  }\r\n\r\n  saveAll() {\r\n    for (const pane of this.getPanes()) { pane.saveItems(); }\r\n  }\r\n\r\n  confirmClose(options) {\r\n    const promises = [];\r\n    for (const pane of this.getPanes()) {\r\n      for (const item of pane.getItems()) {\r\n        promises.push(pane.promptToSaveItem(item, options));\r\n      }\r\n    }\r\n    return Promise.all(promises).then((results: boolean[]) => !results.find(item => item === false));\r\n  }\r\n\r\n  activateNextPane() {\r\n    const panes = this.getPanes();\r\n    if (panes.length > 1) {\r\n      const currentIndex = panes.indexOf(this.activePane);\r\n      const nextIndex = (currentIndex + 1) % panes.length;\r\n      panes[nextIndex].activate();\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  activatePreviousPane() {\r\n    const panes = this.getPanes();\r\n    if (panes.length > 1) {\r\n      const currentIndex = panes.indexOf(this.activePane);\r\n      let previousIndex = currentIndex - 1;\r\n      if (previousIndex < 0) { previousIndex = panes.length - 1; }\r\n      panes[previousIndex].activate();\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  moveActiveItemToPane(destPane) {\r\n    const item = this.activePane.getActiveItem();\r\n\r\n    if (!destPane.isItemAllowed(item)) { return; }\r\n\r\n    this.activePane.moveItemToPane(item, destPane);\r\n    destPane.setActiveItem(item);\r\n  }\r\n\r\n  copyActiveItemToPane(destPane) {\r\n    const item = this.activePane.copyActiveItem();\r\n\r\n    if (item && destPane.isItemAllowed(item)) {\r\n      destPane.activateItem(item);\r\n    }\r\n  }\r\n\r\n  destroyEmptyPanes() {\r\n    for (const pane of this.getPanes()) { if (pane.items.length === 0) { pane.destroy(); } }\r\n  }\r\n\r\n  didAddPane(event) {\r\n    const items = event.pane.getItems();\r\n    for (let i = 0, length = items.length; i < length; i++) {\r\n      const item = items[i];\r\n      this.didAddPaneItem(item, event.pane, i);\r\n    }\r\n  }\r\n\r\n  willDestroyPane(event) {\r\n  }\r\n\r\n  didDestroyPane(event) {\r\n  }\r\n\r\n  didActivatePane(activePane) {\r\n    if (activePane !== this.activePane) {\r\n      if (!this.getPanes().find(item => item === activePane)) {\r\n        throw new Error('Setting active pane that is not present in pane container');\r\n      }\r\n\r\n      this.activePane = activePane;\r\n      this.didChangeActiveItemOnPane(this.activePane, this.activePane.getActiveItem());\r\n    }\r\n    return this.activePane;\r\n  }\r\n\r\n  didAddPaneItem(item, pane, index) {\r\n    this.itemRegistry.addItem(item);\r\n  }\r\n\r\n  willDestroyPaneItem(event) {\r\n  }\r\n\r\n  didDestroyPaneItem(event) {\r\n    this.itemRegistry.removeItem(event.item);\r\n    // this.emitter.emit('did-destroy-pane-item', event);\r\n  }\r\n\r\n  didChangeActiveItemOnPane(pane, activeItem) {\r\n    if (pane === this.getActivePane()) {\r\n\r\n      this.cancelStoppedChangingActivePaneItemTimeout();\r\n      // `setTimeout()` isn't available during the snapshotting phase, but that's okay.\r\n\r\n    }\r\n  }\r\n\r\n  cancelStoppedChangingActivePaneItemTimeout() {\r\n\r\n  }\r\n}\r\n","import { PaneContainer } from './pane-container';\r\nimport { Pane } from './pane';\r\nimport { ViewRegistry } from './view-registry';\r\nimport { Emitter, Disposable } from './event-kit';\r\n\r\nexport enum DockStyle {\r\n  none,\r\n  left,\r\n  right,\r\n  top,\r\n  bottom\r\n}\r\n\r\nexport class Dock {\r\n  private location: any;\r\n  private widthOrHeight: any;\r\n  private viewRegistry: ViewRegistry;\r\n  private didActivate: boolean;\r\n  private paneContainer: PaneContainer;\r\n  private state: any;\r\n  private emitter: Emitter;\r\n\r\n\r\n  constructor(params) {\r\n    this.handleResizeHandleDragStart = this.handleResizeHandleDragStart.bind(this);\r\n    this.handleResizeToFit = this.handleResizeToFit.bind(this);\r\n    this.handleMouseMove = this.handleMouseMove.bind(this);\r\n    this.handleMouseUp = this.handleMouseUp.bind(this);\r\n\r\n    this.location = params.location;\r\n    this.widthOrHeight = getWidthOrHeight(this.location);\r\n    this.viewRegistry = params.viewRegistry;\r\n    this.didActivate = params.didActivate;\r\n\r\n    this.emitter = new Emitter();\r\n\r\n    this.paneContainer = new PaneContainer({\r\n      location: this.location,\r\n      viewRegistry: this.viewRegistry\r\n    });\r\n\r\n    this.state = {\r\n      size: null,\r\n      visible: false,\r\n      shouldAnimate: false\r\n    };\r\n\r\n  }\r\n\r\n  // This method is called explicitly by the object which adds the Dock to the document.\r\n  elementAttached() {\r\n    // Re-render when the dock is attached to make sure we remeasure sizes defined in CSS.\r\n    this.render(this.state);\r\n  }\r\n\r\n  getElement() {\r\n\r\n  }\r\n\r\n  getLocation() {\r\n    return this.location;\r\n  }\r\n\r\n  destroy() {\r\n    this.paneContainer.destroy();\r\n    // window.removeEventListener('mousemove', this.handleMouseMove);\r\n    // window.removeEventListener('mouseup', this.handleMouseUp);\r\n    // window.removeEventListener('drag', this.handleDrag);\r\n    // window.removeEventListener('dragend', this.handleDragEnd);\r\n  }\r\n\r\n  setHovered(hovered) {\r\n    if (hovered === this.state.hovered) {\r\n      return;\r\n    }\r\n    this.setState({ hovered });\r\n  }\r\n\r\n  setDraggingItem(draggingItem) {\r\n    if (draggingItem === this.state.draggingItem) { return; }\r\n    this.setState({ draggingItem });\r\n  }\r\n\r\n  // Extended: Show the dock and focus its active {Pane}.\r\n  activate() {\r\n    this.getActivePane().activate();\r\n  }\r\n\r\n  // Extended: Show the dock without focusing it.\r\n  show() {\r\n    this.setState({ visible: true });\r\n  }\r\n\r\n  // Extended: Hide the dock and activate the {WorkspaceCenter} if the dock was\r\n  // was previously focused.\r\n  hide() {\r\n    this.setState({ visible: false });\r\n  }\r\n\r\n  // Extended: Toggle the dock's visibility without changing the {Workspace}'s\r\n  // active pane container.\r\n  toggle() {\r\n    // const state = { visible: !this.state.visible };\r\n    // if (!state.visible) { state.hovered = false; }\r\n    // this.setState(state);\r\n  }\r\n\r\n  // Extended: Check if the dock is visible.\r\n  //\r\n  // Returns a {Boolean}.\r\n  isVisible() {\r\n    return this.state.visible;\r\n  }\r\n\r\n  setState(newState) {\r\n    const prevState = this.state;\r\n    const nextState = Object.assign({}, prevState, newState);\r\n\r\n    // Update the `shouldAnimate` state. This needs to be written to the DOM before updating the\r\n    // class that changes the animated property. Normally we'd have to defer the class change a\r\n    // frame to ensure the property is animated (or not) appropriately, however we luck out in this\r\n    // case because the drag start always happens before the item is dragged into the toggle button.\r\n    if (nextState.visible !== prevState.visible) {\r\n      // Never animate toggling visibility...\r\n      nextState.shouldAnimate = false;\r\n    } else if (!nextState.visible && nextState.draggingItem && !prevState.draggingItem) {\r\n      // ...but do animate if you start dragging while the panel is hidden.\r\n      nextState.shouldAnimate = true;\r\n    }\r\n\r\n    this.state = nextState;\r\n    this.render(this.state);\r\n\r\n    const { visible } = this.state;\r\n    // if (visible !== prevState.visible) {\r\n    //   this.emitter.emit('did-change-visible', visible);\r\n    // }\r\n  }\r\n\r\n  render(state) {\r\n\r\n  }\r\n\r\n  handleDidAddPaneItem() {\r\n    if (this.state.size == null) {\r\n      this.setState({ size: this.getInitialSize() });\r\n    }\r\n  }\r\n\r\n  handleDidRemovePaneItem() {\r\n    // Hide the dock if you remove the last item.\r\n    if (this.paneContainer.getPaneItems().length === 0) {\r\n      this.setState({ visible: false, hovered: false, size: null });\r\n    }\r\n  }\r\n\r\n  handleResizeHandleDragStart() {\r\n    window.addEventListener('mousemove', this.handleMouseMove);\r\n    window.addEventListener('mouseup', this.handleMouseUp);\r\n    this.setState({ resizing: true });\r\n  }\r\n\r\n  handleResizeToFit() {\r\n    const item = this.getActivePaneItem();\r\n    if (item) {\r\n      const size = getPreferredSize(item, this.getLocation());\r\n      if (size != null) { this.setState({ size }); }\r\n    }\r\n  }\r\n\r\n  handleMouseMove(event) {\r\n    if (event.buttons === 0) { // We missed the mouseup event. For some reason it happens on Windows\r\n      this.handleMouseUp(event);\r\n      return;\r\n    }\r\n\r\n    const size = 0;\r\n    // switch (this.location) {\r\n    //   case 'left':\r\n    //     size = event.pageX - this.element.getBoundingClientRect().left;\r\n    //     break;\r\n    //   case 'bottom':\r\n    //     size = this.element.getBoundingClientRect().bottom - event.pageY;\r\n    //     break;\r\n    //   case 'right':\r\n    //     size = this.element.getBoundingClientRect().right - event.pageX;\r\n    //     break;\r\n    // }\r\n    this.setState({ size });\r\n  }\r\n\r\n  handleMouseUp(event) {\r\n    window.removeEventListener('mousemove', this.handleMouseMove);\r\n    window.removeEventListener('mouseup', this.handleMouseUp);\r\n    this.setState({ resizing: false });\r\n  }\r\n\r\n  // Determine whether the cursor is within the dock hover area. This isn't as simple as just using\r\n  // mouseenter/leave because we want to be a little more forgiving. For example, if the cursor is\r\n  // over the footer, we want to show the bottom dock's toggle button. Also note that our criteria\r\n  // for detecting entry are different than detecting exit but, in order for us to avoid jitter, the\r\n  // area considered when detecting exit MUST fully encompass the area considered when detecting\r\n  // entry.\r\n  pointWithinHoverArea (point, detectingExit) {\r\n  }\r\n\r\n  getInitialSize() {\r\n    // The item may not have been activated yet. If that's the case, just use the first item.\r\n    const activePaneItem = this.paneContainer.getActivePaneItem() || this.paneContainer.getPaneItems()[0];\r\n    // If there are items, we should have an explicit width; if not, we shouldn't.\r\n    return activePaneItem\r\n      ? getPreferredSize(activePaneItem, this.location)\r\n      : null;\r\n  }\r\n\r\n  serialize() {\r\n    return {\r\n      deserializer: 'Dock',\r\n      size: this.state.size,\r\n      paneContainer: this.paneContainer.serialize({}),\r\n      visible: this.state.visible\r\n    };\r\n  }\r\n\r\n  deserialize(serialized, deserializerManager) {\r\n    this.paneContainer.deserialize(serialized.paneContainer, deserializerManager);\r\n    this.setState({\r\n      size: serialized.size || this.getInitialSize(),\r\n      // If no items could be deserialized, we don't want to show the dock (even if it was visible last time)\r\n      visible: serialized.visible && (this.paneContainer.getPaneItems().length > 0)\r\n    });\r\n  }\r\n\r\n  /*\r\n  Section: Event Subscription\r\n  */\r\n\r\n  // Essential: Invoke the given callback when the visibility of the dock changes.\r\n  //\r\n  // * `callback` {Function} to be called when the visibility changes.\r\n  //   * `visible` {Boolean} Is the dock now visible?\r\n  //\r\n  // Returns a {Disposable} on which `.dispose()` can be called to unsubscribe.\r\n  onDidChangeVisible(callback) {\r\n  }\r\n\r\n  // Essential: Invoke the given callback with the current and all future visibilities of the dock.\r\n  //\r\n  // * `callback` {Function} to be called when the visibility changes.\r\n  //   * `visible` {Boolean} Is the dock now visible?\r\n  //\r\n  // Returns a {Disposable} on which `.dispose()` can be called to unsubscribe.\r\n  observeVisible(callback) {\r\n    callback(this.isVisible());\r\n    return this.onDidChangeVisible(callback);\r\n  }\r\n\r\n  // Essential: Invoke the given callback with all current and future panes items\r\n  // in the dock.\r\n  //\r\n  // * `callback` {Function} to be called with current and future pane items.\r\n  //   * `item` An item that is present in {::getPaneItems} at the time of\r\n  //      subscription or that is added at some later time.\r\n  //\r\n  // Returns a {Disposable} on which `.dispose()` can be called to unsubscribe.\r\n  observePaneItems(callback) {\r\n    return this.paneContainer.observePaneItems(callback);\r\n  }\r\n\r\n  // Essential: Invoke the given callback when the active pane item changes.\r\n  //\r\n  // Because observers are invoked synchronously, it's important not to perform\r\n  // any expensive operations via this method. Consider\r\n  // {::onDidStopChangingActivePaneItem} to delay operations until after changes\r\n  // stop occurring.\r\n  //\r\n  // * `callback` {Function} to be called when the active pane item changes.\r\n  //   * `item` The active pane item.\r\n  //\r\n  // Returns a {Disposable} on which `.dispose()` can be called to unsubscribe.\r\n  onDidChangeActivePaneItem(callback) {\r\n    return this.paneContainer.onDidChangeActivePaneItem(callback);\r\n  }\r\n\r\n  // Essential: Invoke the given callback when the active pane item stops\r\n  // changing.\r\n  //\r\n  // Observers are called asynchronously 100ms after the last active pane item\r\n  // change. Handling changes here rather than in the synchronous\r\n  // {::onDidChangeActivePaneItem} prevents unneeded work if the user is quickly\r\n  // changing or closing tabs and ensures critical UI feedback, like changing the\r\n  // highlighted tab, gets priority over work that can be done asynchronously.\r\n  //\r\n  // * `callback` {Function} to be called when the active pane item stopts\r\n  //   changing.\r\n  //   * `item` The active pane item.\r\n  //\r\n  // Returns a {Disposable} on which `.dispose()` can be called to unsubscribe.\r\n  onDidStopChangingActivePaneItem(callback) {\r\n    return this.paneContainer.onDidStopChangingActivePaneItem(callback);\r\n  }\r\n\r\n  // Essential: Invoke the given callback with the current active pane item and\r\n  // with all future active pane items in the dock.\r\n  //\r\n  // * `callback` {Function} to be called when the active pane item changes.\r\n  //   * `item` The current active pane item.\r\n  //\r\n  // Returns a {Disposable} on which `.dispose()` can be called to unsubscribe.\r\n  observeActivePaneItem(callback) {\r\n    return this.paneContainer.observeActivePaneItem(callback);\r\n  }\r\n\r\n  // Extended: Invoke the given callback when a pane is added to the dock.\r\n  //\r\n  // * `callback` {Function} to be called panes are added.\r\n  //   * `event` {Object} with the following keys:\r\n  //     * `pane` The added pane.\r\n  //\r\n  // Returns a {Disposable} on which `.dispose()` can be called to unsubscribe.\r\n  onDidAddPane(callback) {\r\n    return this.paneContainer.onDidAddPane(callback);\r\n  }\r\n\r\n  // Extended: Invoke the given callback before a pane is destroyed in the\r\n  // dock.\r\n  //\r\n  // * `callback` {Function} to be called before panes are destroyed.\r\n  //   * `event` {Object} with the following keys:\r\n  //     * `pane` The pane to be destroyed.\r\n  //\r\n  // Returns a {Disposable} on which `.dispose()` can be called to unsubscribe.\r\n  onWillDestroyPane(callback) {\r\n    return this.paneContainer.onWillDestroyPane(callback);\r\n  }\r\n\r\n  // Extended: Invoke the given callback when a pane is destroyed in the dock.\r\n  //\r\n  // * `callback` {Function} to be called panes are destroyed.\r\n  //   * `event` {Object} with the following keys:\r\n  //     * `pane` The destroyed pane.\r\n  //\r\n  // Returns a {Disposable} on which `.dispose()` can be called to unsubscribe.\r\n  onDidDestroyPane(callback) {\r\n    return this.paneContainer.onDidDestroyPane(callback);\r\n  }\r\n\r\n  // Extended: Invoke the given callback with all current and future panes in the\r\n  // dock.\r\n  //\r\n  // * `callback` {Function} to be called with current and future panes.\r\n  //   * `pane` A {Pane} that is present in {::getPanes} at the time of\r\n  //      subscription or that is added at some later time.\r\n  //\r\n  // Returns a {Disposable} on which `.dispose()` can be called to unsubscribe.\r\n  observePanes(callback) {\r\n    return this.paneContainer.observePanes(callback);\r\n  }\r\n\r\n  // Extended: Invoke the given callback when the active pane changes.\r\n  //\r\n  // * `callback` {Function} to be called when the active pane changes.\r\n  //   * `pane` A {Pane} that is the current return value of {::getActivePane}.\r\n  //\r\n  // Returns a {Disposable} on which `.dispose()` can be called to unsubscribe.\r\n  onDidChangeActivePane(callback) {\r\n    return this.paneContainer.onDidChangeActivePane(callback);\r\n  }\r\n\r\n  // Extended: Invoke the given callback with the current active pane and when\r\n  // the active pane changes.\r\n  //\r\n  // * `callback` {Function} to be called with the current and future active#\r\n  //   panes.\r\n  //   * `pane` A {Pane} that is the current return value of {::getActivePane}.\r\n  //\r\n  // Returns a {Disposable} on which `.dispose()` can be called to unsubscribe.\r\n  observeActivePane(callback) {\r\n    return this.paneContainer.observeActivePane(callback);\r\n  }\r\n\r\n  // Extended: Invoke the given callback when a pane item is added to the dock.\r\n  //\r\n  // * `callback` {Function} to be called when pane items are added.\r\n  //   * `event` {Object} with the following keys:\r\n  //     * `item` The added pane item.\r\n  //     * `pane` {Pane} containing the added item.\r\n  //     * `index` {Number} indicating the index of the added item in its pane.\r\n  //\r\n  // Returns a {Disposable} on which `.dispose()` can be called to unsubscribe.\r\n  onDidAddPaneItem(callback) {\r\n    return this.paneContainer.onDidAddPaneItem(callback);\r\n  }\r\n\r\n  // Extended: Invoke the given callback when a pane item is about to be\r\n  // destroyed, before the user is prompted to save it.\r\n  //\r\n  // * `callback` {Function} to be called before pane items are destroyed.\r\n  //   * `event` {Object} with the following keys:\r\n  //     * `item` The item to be destroyed.\r\n  //     * `pane` {Pane} containing the item to be destroyed.\r\n  //     * `index` {Number} indicating the index of the item to be destroyed in\r\n  //       its pane.\r\n  //\r\n  // Returns a {Disposable} on which `.dispose` can be called to unsubscribe.\r\n  onWillDestroyPaneItem(callback) {\r\n    return this.paneContainer.onWillDestroyPaneItem(callback);\r\n  }\r\n\r\n  // Extended: Invoke the given callback when a pane item is destroyed.\r\n  //\r\n  // * `callback` {Function} to be called when pane items are destroyed.\r\n  //   * `event` {Object} with the following keys:\r\n  //     * `item` The destroyed item.\r\n  //     * `pane` {Pane} containing the destroyed item.\r\n  //     * `index` {Number} indicating the index of the destroyed item in its\r\n  //       pane.\r\n  //\r\n  // Returns a {Disposable} on which `.dispose` can be called to unsubscribe.\r\n  onDidDestroyPaneItem(callback) {\r\n    return this.paneContainer.onDidDestroyPaneItem(callback);\r\n  }\r\n\r\n  // Extended: Invoke the given callback when the hovered state of the dock changes.\r\n  //\r\n  // * `callback` {Function} to be called when the hovered state changes.\r\n  //   * `hovered` {Boolean} Is the dock now hovered?\r\n  //\r\n  // Returns a {Disposable} on which `.dispose()` can be called to unsubscribe.\r\n  onDidChangeHovered (callback): Disposable {\r\n    return this.emitter.on('did-change-hovered', callback);\r\n  }\r\n\r\n  /*\r\n  Section: Pane Items\r\n  */\r\n\r\n  // Essential: Get all pane items in the dock.\r\n  //\r\n  // Returns an {Array} of items.\r\n  getPaneItems() {\r\n    return this.paneContainer.getPaneItems();\r\n  }\r\n\r\n  // Essential: Get the active {Pane}'s active item.\r\n  //\r\n  // Returns an pane item {Object}.\r\n  getActivePaneItem() {\r\n    return this.paneContainer.getActivePaneItem();\r\n  }\r\n\r\n  // Save all pane items.\r\n  saveAll() {\r\n    this.paneContainer.saveAll();\r\n  }\r\n\r\n  confirmClose(options) {\r\n    return this.paneContainer.confirmClose(options);\r\n  }\r\n\r\n  /*\r\n  Section: Panes\r\n  */\r\n\r\n  // Extended: Get all panes in the dock.\r\n  //\r\n  // Returns an {Array} of {Pane}s.\r\n  getPanes(): Pane[] {\r\n    return this.paneContainer.getPanes();\r\n  }\r\n\r\n  // Extended: Get the active {Pane}.\r\n  //\r\n  // Returns a {Pane}.\r\n  getActivePane() {\r\n    return this.paneContainer.getActivePane();\r\n  }\r\n\r\n  // Extended: Make the next pane active.\r\n  activateNextPane() {\r\n    return this.paneContainer.activateNextPane();\r\n  }\r\n\r\n  // Extended: Make the previous pane active.\r\n  activatePreviousPane() {\r\n    return this.paneContainer.activatePreviousPane();\r\n  }\r\n\r\n  paneForURI(uri) {\r\n    return this.paneContainer.paneForURI(uri);\r\n  }\r\n\r\n  paneForItem(item) {\r\n    return this.paneContainer.paneForItem(item);\r\n  }\r\n\r\n  // Destroy (close) the active pane.\r\n  destroyActivePane() {\r\n    const activePane = this.getActivePane();\r\n    if (activePane != null) {\r\n      activePane.destroy();\r\n    }\r\n  }\r\n}\r\n\r\n\r\nfunction getWidthOrHeight(location) {\r\n  return location === 'left' || location === 'right' ? 'width' : 'height';\r\n}\r\n\r\nfunction getPreferredSize(item, location) {\r\n  switch (location) {\r\n    case 'left':\r\n    case 'right':\r\n      return typeof item.getPreferredWidth === 'function'\r\n        ? item.getPreferredWidth()\r\n        : null;\r\n    default:\r\n      return typeof item.getPreferredHeight === 'function'\r\n        ? item.getPreferredHeight()\r\n        : null;\r\n  }\r\n}\r\n\r\nfunction getIconName(location, visible) {\r\n  switch (location) {\r\n    case 'right': return visible ? 'icon-chevron-right' : 'icon-chevron-left';\r\n    case 'bottom': return visible ? 'icon-chevron-down' : 'icon-chevron-up';\r\n    case 'left': return visible ? 'icon-chevron-left' : 'icon-chevron-right';\r\n    default: throw new Error(`Invalid location: ${location}`);\r\n  }\r\n}\r\n\r\nfunction rectContainsPoint(rect, point) {\r\n  return (\r\n    point.x >= rect.left &&\r\n    point.y >= rect.top &&\r\n    point.x <= rect.right &&\r\n    point.y <= rect.bottom\r\n  );\r\n}\r\n\r\n// Is the item allowed in the given location?\r\nfunction isItemAllowed(item, location) {\r\n  if (typeof item.getAllowedLocations !== 'function') {\r\n    return true;\r\n  }\r\n  return item.getAllowedLocations().includes(location);\r\n}\r\n","import { CacheStoragesEnum } from '../../enums/cache.storages.enum';\r\nimport { StorageValueInterface } from '../../interfaces/storage.value.interface';\r\n\r\n/**\r\n * Abstract cache storage\r\n */\r\nexport abstract class CacheStorageAbstract {\r\n\r\n    /**\r\n     * Get item from storage\r\n     * @param key\r\n     */\r\n    public abstract getItem(key: string): StorageValueInterface;\r\n\r\n    /**\r\n     * Set item to storage\r\n     * @param key\r\n     * @param value\r\n     */\r\n    public abstract setItem(key: string, value: StorageValueInterface): boolean;\r\n\r\n    /**\r\n     * Remove item from storage\r\n     * @param key\r\n     */\r\n    public abstract removeItem(key: string): void;\r\n\r\n    /**\r\n     * Clear item in storage\r\n     */\r\n    public abstract clear(): void;\r\n\r\n    /**\r\n     * Get current storage type\r\n     */\r\n    public abstract type(): CacheStoragesEnum;\r\n\r\n    /**\r\n     * Check if storage is enabled\r\n     */\r\n    public abstract isEnabled(): boolean;\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { CacheStorageAbstract } from '../cache.storage.abstract.service';\r\nimport { CacheStoragesEnum } from '../../../enums/cache.storages.enum';\r\nimport { StorageValueInterface } from '../../../interfaces/storage.value.interface';\r\n\r\n/**\r\n * Service for storing data in session storage\r\n */\r\n@Injectable()\r\nexport class CacheSessionStorage extends CacheStorageAbstract {\r\n\r\n    public getItem(key: string) {\r\n        const value = sessionStorage.getItem(key);\r\n        return value ? JSON.parse(value) : null;\r\n    }\r\n\r\n    public setItem(key: string, value: StorageValueInterface) {\r\n        try {\r\n            sessionStorage.setItem(key, JSON.stringify(value));\r\n            return true;\r\n        } catch (e) {\r\n            return false;\r\n        }\r\n    }\r\n\r\n    public removeItem(key: string) {\r\n        sessionStorage.removeItem(key);\r\n    }\r\n\r\n    public clear() {\r\n        sessionStorage.clear();\r\n    }\r\n\r\n    public type() {\r\n        return CacheStoragesEnum.SESSION_STORAGE;\r\n    }\r\n\r\n    public isEnabled() {\r\n        try {\r\n            sessionStorage.setItem('test', 'test');\r\n            sessionStorage.removeItem('test');\r\n            return true;\r\n        } catch (e) {\r\n            return false;\r\n        }\r\n    }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { CacheStorageAbstract } from '../cache.storage.abstract.service';\r\nimport { CacheStoragesEnum } from '../../../enums/cache.storages.enum';\r\nimport { StorageValueInterface } from '../../../interfaces/storage.value.interface';\r\n\r\n/**\r\n * Service for storing data in local storage\r\n */\r\n@Injectable()\r\nexport class CacheLocalStorage extends CacheStorageAbstract {\r\n\r\n    public getItem(key: string) {\r\n        const value = localStorage.getItem(key);\r\n        return value ? JSON.parse(value) : null;\r\n    }\r\n\r\n    public setItem(key: string, value: StorageValueInterface) {\r\n        try {\r\n            localStorage.setItem(key, JSON.stringify(value));\r\n            return true;\r\n        } catch (e) {\r\n            return false;\r\n        }\r\n    }\r\n\r\n    public removeItem(key: string) {\r\n        localStorage.removeItem(key);\r\n    }\r\n\r\n    public clear() {\r\n        localStorage.clear();\r\n    }\r\n\r\n    public type() {\r\n        return CacheStoragesEnum.LOCAL_STORAGE;\r\n    }\r\n\r\n    public isEnabled() {\r\n        try {\r\n            localStorage.setItem('test', 'test');\r\n            localStorage.removeItem('test');\r\n            return true;\r\n        } catch (e) {\r\n            return false;\r\n        }\r\n    }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { CacheStorageAbstract } from '../cache.storage.abstract.service';\r\nimport { CacheStoragesEnum } from '../../../enums/cache.storages.enum';\r\nimport { StorageValueInterface } from '../../../interfaces/storage.value.interface';\r\n\r\n/**\r\n * Service for storing data in local storage\r\n */\r\n@Injectable()\r\nexport class CacheMemoryStorage extends CacheStorageAbstract {\r\n\r\n    private _data: {[key: string]: any} = {};\r\n\r\n    public getItem(key: string) {\r\n        return this._data[key] ? this._data[key] : null;\r\n    }\r\n\r\n    public setItem(key: string, value: StorageValueInterface) {\r\n        this._data[key] = value;\r\n        return true;\r\n    }\r\n\r\n    public removeItem(key: string) {\r\n        delete this._data[key];\r\n    }\r\n\r\n    public clear() {\r\n        this._data = [];\r\n    }\r\n\r\n    public type() {\r\n        return CacheStoragesEnum.MEMORY;\r\n    }\r\n\r\n    public isEnabled() {\r\n        return true;\r\n    }\r\n}\r\n","import { Injectable, Optional } from '@angular/core';\r\nimport { CacheOptionsInterface } from '../interfaces/cache.options.interface';\r\nimport { CacheStoragesEnum } from '../enums/cache.storages.enum';\r\nimport { CacheStorageAbstract } from './storage/cache.storage.abstract.service';\r\nimport { CacheSessionStorage } from './storage/sessionstorage/cache.sessionstorage.service';\r\nimport { CacheLocalStorage } from './storage/localstorage/cache.localstorage.service';\r\nimport { CacheMemoryStorage } from './storage/memory/cache.memory.service';\r\nimport { StorageValueInterface } from '../interfaces/storage.value.interface';\r\n\r\nconst CACHE_PREFIX = 'CacheService';\r\n\r\nconst DEFAULT_STORAGE = CacheStoragesEnum.MEMORY;\r\nconst DEFAULT_ENABLED_STORAGE = CacheStoragesEnum.SESSION_STORAGE;\r\n\r\n@Injectable()\r\nexport class CacheService {\r\n\r\n    /**\r\n     * Default cache options\r\n     */\r\n    private _defaultOptions: CacheOptionsInterface = {\r\n        expires: Number.MAX_VALUE,\r\n        maxAge : Number.MAX_VALUE\r\n    };\r\n\r\n    /**\r\n     * Cache prefix\r\n     */\r\n    private _prefix: string = CACHE_PREFIX;\r\n\r\n    public constructor(@Optional() private _storage: CacheStorageAbstract) {\r\n        this._validateStorage();\r\n    }\r\n\r\n    /**\r\n     * Set data to cache\r\n     * @param key key\r\n     * @param value value\r\n     * @param options options\r\n     */\r\n    public set(key: string, value: any, options?: CacheOptionsInterface) {\r\n        const storageKey = this._toStorageKey(key);\r\n        options = options ? options : this._defaultOptions;\r\n        if (this._storage.setItem(storageKey, this._toStorageValue(value, options))) {\r\n            if (!this._isSystemKey(key) && options.tag) {\r\n                this._saveTag(options.tag, storageKey);\r\n            }\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n\r\n    /**\r\n     * Get data from cache\r\n     * @param key key\r\n     * @returns result\r\n     */\r\n    public get(key: string): any {\r\n        const storageValue = this._storage.getItem(this._toStorageKey(key));\r\n        let value: any = null;\r\n        if (storageValue) {\r\n            if (this._validateStorageValue(storageValue)) {\r\n                value = storageValue.value;\r\n            } else {\r\n                this.remove(key);\r\n            }\r\n        }\r\n        return value;\r\n    }\r\n\r\n    /**\r\n     * Check if value exists\r\n     * @param key key\r\n     * @returns result\r\n     */\r\n    public exists(key: string): boolean {\r\n        return !!this.get(key);\r\n    }\r\n\r\n    /**\r\n     * Remove item from cache\r\n     * @param key key\r\n     */\r\n    public remove(key: string) {\r\n        this._storage.removeItem(this._toStorageKey(key));\r\n        this._removeFromTag(this._toStorageKey(key));\r\n    }\r\n\r\n    /**\r\n     * Remove all from cache\r\n     */\r\n    public removeAll() {\r\n        this._storage.clear();\r\n    }\r\n\r\n    /**\r\n     * Get all tag data\r\n     * @param tag tag\r\n     * @returns result\r\n     */\r\n    public getTagData(tag: string) {\r\n        const tags = this.get(this._tagsStorageKey()) || {};\r\n        const result: {[key: string]: any} = {};\r\n        if (tags[tag]) {\r\n            tags[tag].forEach((key: string) => {\r\n                const data = this.get(this._fromStorageKey(key));\r\n                if (data) {\r\n                    result[this._fromStorageKey(key)] = data;\r\n                }\r\n            });\r\n        }\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * Create a new instance of cache with needed storage\r\n     * @param type type\r\n     * @returns result\r\n     */\r\n    public useStorage(type: CacheStoragesEnum) {\r\n        const service = new CacheService(this._initStorage(type));\r\n        service.setGlobalPrefix(this._getCachePrefix());\r\n        return service;\r\n    }\r\n\r\n    /**\r\n     * Remove all by tag\r\n     * @param tag tag\r\n     */\r\n    public removeTag(tag: string) {\r\n        const tags = this.get(this._tagsStorageKey()) || {};\r\n        if (tags[tag]) {\r\n            tags[tag].forEach((key: string) => {\r\n                this._storage.removeItem(key);\r\n            });\r\n            delete tags[tag];\r\n            this.set(this._tagsStorageKey(), tags);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Set global cache key prefix\r\n     * @param prefix prefix\r\n     */\r\n    public setGlobalPrefix(prefix: string) {\r\n        this._prefix = prefix;\r\n    }\r\n\r\n    /**\r\n     * Validate cache storage\r\n     */\r\n    private _validateStorage() {\r\n        if (!this._storage) {\r\n            this._storage = this._initStorage(DEFAULT_STORAGE);\r\n        }\r\n        if (!this._storage.isEnabled()) {\r\n            this._storage = this._initStorage(DEFAULT_ENABLED_STORAGE);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Remove key from tags keys list\r\n     * @param key key\r\n     */\r\n    private _removeFromTag(key: string) {\r\n        // tslint:disable-next-line:prefer-const\r\n        let tags = this.get(this._tagsStorageKey()) || {};\r\n        let index: number;\r\n        // tslint:disable-next-line:forin\r\n        for (const tag in tags) {\r\n            index = tags[tag].indexOf(key);\r\n            if (index !== -1) {\r\n                tags[tag].splice(index, 1);\r\n                this.set(this._tagsStorageKey(), tags);\r\n                break;\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Init storage by type\r\n     * @param type type\r\n     */\r\n    private _initStorage(type: CacheStoragesEnum) {\r\n        let storage: CacheStorageAbstract;\r\n        switch (type) {\r\n            case CacheStoragesEnum.SESSION_STORAGE:\r\n                storage = new CacheSessionStorage();\r\n                break;\r\n            case CacheStoragesEnum.LOCAL_STORAGE:\r\n                storage = new CacheLocalStorage();\r\n                break;\r\n            default: storage = new CacheMemoryStorage();\r\n        }\r\n        return storage;\r\n    }\r\n\r\n    private _toStorageKey(key: string) {\r\n        return this._getCachePrefix() + key;\r\n    }\r\n\r\n    private _fromStorageKey(key: string) {\r\n        return key.replace(this._getCachePrefix(), '');\r\n    }\r\n\r\n    /**\r\n     * Prepare value to set to storage\r\n     * @param value value\r\n     * @param options options\r\n     * @returns result\r\n     */\r\n    private _toStorageValue(value: any, options: CacheOptionsInterface): StorageValueInterface {\r\n        return {\r\n            value,\r\n            options: this._toStorageOptions(options)\r\n        };\r\n    }\r\n\r\n    /**\r\n     * Prepare options to set to storage\r\n     * @param options options\r\n     * @returns result\r\n     */\r\n    private _toStorageOptions(options: CacheOptionsInterface): CacheOptionsInterface {\r\n        const storageOptions: CacheOptionsInterface = {};\r\n        storageOptions.expires = options.expires ? options.expires :\r\n            (options.maxAge ? Date.now() + (options.maxAge * 1000) : this._defaultOptions.expires);\r\n        storageOptions.maxAge = options.maxAge ? options.maxAge : this._defaultOptions.maxAge;\r\n        return storageOptions;\r\n    }\r\n\r\n    /**\r\n     * Validate storage value\r\n     * @param value value\r\n     * @returns result\r\n     */\r\n    private _validateStorageValue(value: StorageValueInterface) {\r\n        return !!value.options.expires && value.options.expires > Date.now();\r\n    }\r\n\r\n    /**\r\n     * check if its system cache key\r\n     * @param key key\r\n     * @returns result\r\n     */\r\n    private _isSystemKey(key: string) {\r\n        return [this._tagsStorageKey()].indexOf(key) !== -1;\r\n    }\r\n\r\n    /**\r\n     * Save tag to list of tags\r\n     * @param tag tag\r\n     * @param key key\r\n     */\r\n    private _saveTag(tag: string, key: string) {\r\n        const tags = this.get(this._tagsStorageKey()) || {};\r\n        if (!tags[tag]) {\r\n            tags[tag] = [key];\r\n        } else {\r\n            tags[tag].push(key);\r\n        }\r\n        this.set(this._tagsStorageKey(), tags);\r\n    }\r\n\r\n    /**\r\n     * Get global cache prefix\r\n     * @returns result\r\n     */\r\n    private _getCachePrefix() {\r\n        return this._prefix;\r\n    }\r\n\r\n    private _tagsStorageKey() {\r\n        return 'CacheService_tags';\r\n    }\r\n\r\n}\r\n","// tslint:disable: forin\r\nimport { Emitter, Disposable, CompositeDisposable } from './event-kit';\r\n// import { calculateSpecificity, validateSelector } from 'clear-cut';\r\n// const _ = require('underscore-plus')\r\n\r\nlet SequenceCount = 0;\r\n\r\n// Public: Associates listener functions with commands in a\r\n// context-sensitive way using CSS selectors. You can access a global instance of\r\n// this class via `atom.commands`, and commands registered there will be\r\n// presented in the command palette.\r\n//\r\n// The global command registry facilitates a style of event handling known as\r\n// *event delegation* that was popularized by jQuery. Atom commands are expressed\r\n// as custom DOM events that can be invoked on the currently focused element via\r\n// a key binding or manually via the command palette. Rather than binding\r\n// listeners for command events directly to DOM nodes, you instead register\r\n// command event listeners globally on `atom.commands` and constrain them to\r\n// specific kinds of elements with CSS selectors.\r\n//\r\n// Command names must follow the `namespace:action` pattern, where `namespace`\r\n// will typically be the name of your package, and `action` describes the\r\n// behavior of your command. If either part consists of multiple words, these\r\n// must be separated by hyphens. E.g. `awesome-package:turn-it-up-to-eleven`.\r\n// All words should be lowercased.\r\n//\r\n// As the event bubbles upward through the DOM, all registered event listeners\r\n// with matching selectors are invoked in order of specificity. In the event of a\r\n// specificity tie, the most recently registered listener is invoked first. This\r\n// mirrors the \"cascade\" semantics of CSS. Event listeners are invoked in the\r\n// context of the current DOM node, meaning `this` always points at\r\n// `event.currentTarget`. As is normally the case with DOM events,\r\n// `stopPropagation` and `stopImmediatePropagation` can be used to terminate the\r\n// bubbling process and prevent invocation of additional listeners.\r\n//\r\n// ## Example\r\n//\r\n// Here is a command that inserts the current date in an editor:\r\n//\r\n// ```coffee\r\n// atom.commands.add 'atom-text-editor',\r\n//   'user:insert-date': (event) ->\r\n//     editor = @getModel()\r\n//     editor.insertText(new Date().toLocaleString())\r\n// ```\r\nexport class CommandRegistry {\r\n  private rootNode: any;\r\n  private registeredCommands: any;\r\n  private selectorBasedListenersByCommandName: any;\r\n  private inlineListenersByCommandName: any;\r\n  private emitter: Emitter;\r\n\r\n  constructor() {\r\n    this.handleCommandEvent = this.handleCommandEvent.bind(this);\r\n    this.rootNode = null;\r\n    this.clear();\r\n  }\r\n\r\n  clear() {\r\n    this.registeredCommands = {};\r\n    this.selectorBasedListenersByCommandName = {};\r\n    this.inlineListenersByCommandName = {};\r\n    this.emitter = new Emitter();\r\n  }\r\n\r\n  attach(rootNode) {\r\n    this.rootNode = rootNode;\r\n    for (const command in this.selectorBasedListenersByCommandName) {\r\n      this.commandRegistered(command);\r\n    }\r\n\r\n    for (const command in this.inlineListenersByCommandName) {\r\n      this.commandRegistered(command);\r\n    }\r\n  }\r\n\r\n  destroy() {\r\n    for (const commandName in this.registeredCommands) {\r\n      this.rootNode.removeEventListener(\r\n        commandName,\r\n        this.handleCommandEvent,\r\n        true\r\n      );\r\n    }\r\n  }\r\n\r\n  // Public: Add one or more command listeners associated with a selector.\r\n  //\r\n  // ## Arguments: Registering One Command\r\n  //\r\n  // * `target` A {String} containing a CSS selector or a DOM element. If you\r\n  //   pass a selector, the command will be globally associated with all matching\r\n  //   elements. The `,` combinator is not currently supported. If you pass a\r\n  //   DOM element, the command will be associated with just that element.\r\n  // * `commandName` A {String} containing the name of a command you want to\r\n  //   handle such as `user:insert-date`.\r\n  // * `listener` A listener which handles the event.  Either a {Function} to\r\n  //   call when the given command is invoked on an element matching the\r\n  //   selector, or an {Object} with a `didDispatch` property which is such a\r\n  //   function.\r\n  //\r\n  //   The function (`listener` itself if it is a function, or the `didDispatch`\r\n  //   method if `listener` is an object) will be called with `this` referencing\r\n  //   the matching DOM node and the following argument:\r\n  //     * `event`: A standard DOM event instance. Call `stopPropagation` or\r\n  //       `stopImmediatePropagation` to terminate bubbling early.\r\n  //\r\n  //   Additionally, `listener` may have additional properties which are returned\r\n  //   to those who query using `atom.commands.findCommands`, as well as several\r\n  //   meaningful metadata properties:\r\n  //     * `displayName`: Overrides any generated `displayName` that would\r\n  //       otherwise be generated from the event name.\r\n  //     * `description`: Used by consumers to display detailed information about\r\n  //       the command.\r\n  //     * `hiddenInCommandPalette`: If `true`, this command will not appear in\r\n  //       the bundled command palette by default, but can still be shown with.\r\n  //       the `Command Palette: Show Hidden Commands` command. This is a good\r\n  //       option when you need to register large numbers of commands that don't\r\n  //       make sense to be executed from the command palette. Please use this\r\n  //       option conservatively, as it could reduce the discoverability of your\r\n  //       package's commands.\r\n  //\r\n  // ## Arguments: Registering Multiple Commands\r\n  //\r\n  // * `target` A {String} containing a CSS selector or a DOM element. If you\r\n  //   pass a selector, the commands will be globally associated with all\r\n  //   matching elements. The `,` combinator is not currently supported.\r\n  //   If you pass a DOM element, the command will be associated with just that\r\n  //   element.\r\n  // * `commands` An {Object} mapping command names like `user:insert-date` to\r\n  //   listener {Function}s.\r\n  //\r\n  // Returns a {Disposable} on which `.dispose()` can be called to remove the\r\n  // added command handler(s).\r\n  add(target, commandName, listener, throwOnInvalidSelector = true) {\r\n    if (typeof commandName === 'object') {\r\n      const commands = commandName;\r\n      throwOnInvalidSelector = listener;\r\n      const disposable = new CompositeDisposable();\r\n      for (commandName in commands) {\r\n        listener = commands[commandName];\r\n        disposable.add(this.add(target, commandName, listener, throwOnInvalidSelector));\r\n      }\r\n      return disposable;\r\n    }\r\n\r\n    if (listener == null) {\r\n      throw new Error('Cannot register a command with a null listener.');\r\n    }\r\n\r\n    // type Listener = ((e: CustomEvent) => void) | {\r\n    //   displayName?: string,\r\n    //   description?: string,\r\n    //   didDispatch(e: CustomEvent): void,\r\n    // }\r\n    if ((typeof listener !== 'function') && (typeof listener.didDispatch !== 'function')) {\r\n      throw new Error('Listener must be a callback function or an object with a didDispatch method.');\r\n    }\r\n\r\n    if (typeof target === 'string') {\r\n      if (throwOnInvalidSelector) {\r\n        validateSelector(target);\r\n      }\r\n      return this.addSelectorBasedListener(target, commandName, listener);\r\n    } else {\r\n      return this.addInlineListener(target, commandName, listener);\r\n    }\r\n  }\r\n\r\n  addSelectorBasedListener(selector, commandName, listener) {\r\n    if (this.selectorBasedListenersByCommandName[commandName] == null) {\r\n      this.selectorBasedListenersByCommandName[commandName] = [];\r\n    }\r\n    const listenersForCommand = this.selectorBasedListenersByCommandName[commandName];\r\n    const selectorListener = new SelectorBasedListener(selector, commandName, listener);\r\n    listenersForCommand.push(selectorListener);\r\n\r\n    this.commandRegistered(commandName);\r\n\r\n    return new Disposable(() => {\r\n      listenersForCommand.splice(listenersForCommand.indexOf(selectorListener), 1);\r\n      if (listenersForCommand.length === 0) {\r\n        delete this.selectorBasedListenersByCommandName[commandName];\r\n      }\r\n    });\r\n  }\r\n\r\n  addInlineListener(element, commandName, listener) {\r\n    if (this.inlineListenersByCommandName[commandName] == null) {\r\n      this.inlineListenersByCommandName[commandName] = new WeakMap();\r\n    }\r\n\r\n    const listenersForCommand = this.inlineListenersByCommandName[commandName];\r\n    let listenersForElement = listenersForCommand.get(element);\r\n    if (!listenersForElement) {\r\n      listenersForElement = [];\r\n      listenersForCommand.set(element, listenersForElement);\r\n    }\r\n    const inlineListener = new InlineListener(commandName, listener);\r\n    listenersForElement.push(inlineListener);\r\n\r\n    this.commandRegistered(commandName);\r\n\r\n    return new Disposable(() => {\r\n      listenersForElement.splice(listenersForElement.indexOf(inlineListener), 1);\r\n      if (listenersForElement.length === 0) {\r\n        listenersForCommand.delete(element);\r\n      }\r\n    });\r\n  }\r\n\r\n  // Public: Find all registered commands matching a query.\r\n  //\r\n  // * `params` An {Object} containing one or more of the following keys:\r\n  //   * `target` A DOM node that is the hypothetical target of a given command.\r\n  //\r\n  // Returns an {Array} of `CommandDescriptor` {Object}s containing the following keys:\r\n  //  * `name` The name of the command. For example, `user:insert-date`.\r\n  //  * `displayName` The display name of the command. For example,\r\n  //    `User: Insert Date`.\r\n  // Additional metadata may also be present in the returned descriptor:\r\n  //  * `description` a {String} describing the function of the command in more\r\n  //    detail than the title\r\n  //  * `tags` an {Array} of {String}s that describe keywords related to the\r\n  //    command\r\n  //  Any additional nonstandard metadata provided when the command was `add`ed\r\n  //  may also be present in the returned descriptor.\r\n  findCommands({ target }) {\r\n    const commandNames = new Set();\r\n    const commands = [];\r\n    let currentTarget = target;\r\n    while (true) {\r\n      let listeners;\r\n      for (const name in this.inlineListenersByCommandName) {\r\n        listeners = this.inlineListenersByCommandName[name];\r\n        if (listeners.has(currentTarget) && !commandNames.has(name)) {\r\n          commandNames.add(name);\r\n          const targetListeners = listeners.get(currentTarget);\r\n          commands.push(\r\n            ...targetListeners.map(listener => listener.descriptor)\r\n          );\r\n        }\r\n      }\r\n\r\n      for (const commandName in this.selectorBasedListenersByCommandName) {\r\n        listeners = this.selectorBasedListenersByCommandName[commandName];\r\n        for (const listener of listeners) {\r\n          if (listener.matchesTarget(currentTarget)) {\r\n            if (!commandNames.has(commandName)) {\r\n              commandNames.add(commandName);\r\n              commands.push(listener.descriptor);\r\n            }\r\n          }\r\n        }\r\n      }\r\n\r\n      if (currentTarget === window) {\r\n        break;\r\n      }\r\n      currentTarget = currentTarget.parentNode || window;\r\n    }\r\n\r\n    return commands;\r\n  }\r\n\r\n  // Public: Simulate the dispatch of a command on a DOM node.\r\n  //\r\n  // This can be useful for testing when you want to simulate the invocation of a\r\n  // command on a detached DOM node. Otherwise, the DOM node in question needs to\r\n  // be attached to the document so the event bubbles up to the root node to be\r\n  // processed.\r\n  //\r\n  // * `target` The DOM node at which to start bubbling the command event.\r\n  // * `commandName` {String} indicating the name of the command to dispatch.\r\n  dispatch(target, commandName, detail) {\r\n    const event = new CustomEvent(commandName, { bubbles: true, detail });\r\n    Object.defineProperty(event, 'target', { value: target });\r\n    return this.handleCommandEvent(event);\r\n  }\r\n\r\n  // Public: Invoke the given callback before dispatching a command event.\r\n  //\r\n  // * `callback` {Function} to be called before dispatching each command\r\n  //   * `event` The Event that will be dispatched\r\n  onWillDispatch(callback) {\r\n    return this.emitter.on('will-dispatch', callback);\r\n  }\r\n\r\n  // Public: Invoke the given callback after dispatching a command event.\r\n  //\r\n  // * `callback` {Function} to be called after dispatching each command\r\n  //   * `event` The Event that was dispatched\r\n  onDidDispatch(callback) {\r\n    return this.emitter.on('did-dispatch', callback);\r\n  }\r\n\r\n  getSnapshot() {\r\n    const snapshot = {};\r\n    for (const commandName in this.selectorBasedListenersByCommandName) {\r\n      const listeners = this.selectorBasedListenersByCommandName[commandName];\r\n      snapshot[commandName] = listeners.slice();\r\n    }\r\n    return snapshot;\r\n  }\r\n\r\n  restoreSnapshot(snapshot) {\r\n    this.selectorBasedListenersByCommandName = {};\r\n    for (const commandName in snapshot) {\r\n      const listeners = snapshot[commandName];\r\n      this.selectorBasedListenersByCommandName[commandName] = listeners.slice();\r\n    }\r\n  }\r\n\r\n  handleCommandEvent(event) {\r\n    let propagationStopped = false;\r\n    let immediatePropagationStopped = false;\r\n    const matched = [];\r\n    let currentTarget = event.target;\r\n\r\n    const dispatchedEvent = new CustomEvent(event.type, {\r\n      bubbles: true,\r\n      detail: event.detail\r\n    });\r\n    Object.defineProperty(dispatchedEvent, 'eventPhase', {\r\n      value: Event.BUBBLING_PHASE\r\n    });\r\n    Object.defineProperty(dispatchedEvent, 'currentTarget', {\r\n      get() {\r\n        return currentTarget;\r\n      }\r\n    });\r\n    Object.defineProperty(dispatchedEvent, 'target', { value: currentTarget });\r\n    Object.defineProperty(dispatchedEvent, 'preventDefault', {\r\n      value() {\r\n        return event.preventDefault();\r\n      }\r\n    });\r\n    Object.defineProperty(dispatchedEvent, 'stopPropagation', {\r\n      value() {\r\n        event.stopPropagation();\r\n        propagationStopped = true;\r\n      }\r\n    });\r\n    Object.defineProperty(dispatchedEvent, 'stopImmediatePropagation', {\r\n      value() {\r\n        event.stopImmediatePropagation();\r\n        propagationStopped = true;\r\n        immediatePropagationStopped = true;\r\n      }\r\n    });\r\n    Object.defineProperty(dispatchedEvent, 'abortKeyBinding', {\r\n      value() {\r\n        if (typeof event.abortKeyBinding === 'function') {\r\n          event.abortKeyBinding();\r\n        }\r\n      }\r\n    });\r\n\r\n    for (const key of Object.keys(event)) {\r\n      if (!(key in dispatchedEvent)) {\r\n        dispatchedEvent[key] = event[key];\r\n      }\r\n    }\r\n\r\n    this.emitter.emit('will-dispatch', dispatchedEvent);\r\n\r\n    while (true) {\r\n      const commandInlineListeners =\r\n        this.inlineListenersByCommandName[event.type]\r\n        ? this.inlineListenersByCommandName[event.type].get(currentTarget)\r\n        : null;\r\n      let listeners = commandInlineListeners || [];\r\n      if (currentTarget.webkitMatchesSelector != null) {\r\n        const selectorBasedListeners =\r\n          (this.selectorBasedListenersByCommandName[event.type] || [])\r\n            .filter(listener => listener.matchesTarget(currentTarget))\r\n            .sort((a, b) => a.compare(b));\r\n        listeners = selectorBasedListeners.concat(listeners);\r\n      }\r\n\r\n      // Call inline listeners first in reverse registration order,\r\n      // and selector-based listeners by specificity and reverse\r\n      // registration order.\r\n      for (let i = listeners.length - 1; i >= 0; i--) {\r\n        const listener = listeners[i];\r\n        if (immediatePropagationStopped) {\r\n          break;\r\n        }\r\n        matched.push(listener.didDispatch.call(currentTarget, dispatchedEvent));\r\n      }\r\n\r\n      if (currentTarget === window) {\r\n        break;\r\n      }\r\n      if (propagationStopped) {\r\n        break;\r\n      }\r\n      currentTarget = currentTarget.parentNode || window;\r\n    }\r\n\r\n    this.emitter.emit('did-dispatch', dispatchedEvent);\r\n\r\n    return (matched.length > 0 ? Promise.all(matched) : null);\r\n  }\r\n\r\n  commandRegistered(commandName) {\r\n    if (this.rootNode != null && !this.registeredCommands[commandName]) {\r\n      this.rootNode.addEventListener(commandName, this.handleCommandEvent, true);\r\n      return (this.registeredCommands[commandName] = true);\r\n    }\r\n  }\r\n}\r\n\r\n// type Listener = {\r\n//   descriptor: CommandDescriptor,\r\n//   extractDidDispatch: (e: CustomEvent) => void,\r\n// };\r\nclass SelectorBasedListener {\r\n  private selector: string;\r\n  private didDispatch: any;\r\n  private descriptor: any;\r\n  private specificity: number;\r\n  private sequenceNumber: number;\r\n\r\n  constructor(selector, commandName, listener) {\r\n    this.selector = selector;\r\n    this.didDispatch = extractDidDispatch(listener);\r\n    this.descriptor = extractDescriptor(commandName, listener);\r\n    this.specificity = calculateSpecificity(this.selector);\r\n    this.sequenceNumber = SequenceCount++;\r\n  }\r\n\r\n  compare(other) {\r\n    return (\r\n      this.specificity - other.specificity ||\r\n      this.sequenceNumber - other.sequenceNumber\r\n    );\r\n  }\r\n\r\n  matchesTarget(target) {\r\n    return target.webkitMatchesSelector && target.webkitMatchesSelector(this.selector);\r\n  }\r\n}\r\n\r\nclass InlineListener {\r\n  private didDispatch: any;\r\n  private descriptor: any;\r\n  constructor(commandName, listener) {\r\n    this.didDispatch = extractDidDispatch(listener);\r\n    this.descriptor = extractDescriptor(commandName, listener);\r\n  }\r\n}\r\n\r\n// type CommandDescriptor = {\r\n//   name: string,\r\n//   displayName: string,\r\n// };\r\nfunction extractDescriptor(name, listener) {\r\n  return Object.assign(\r\n    omit(listener, 'didDispatch'),\r\n    {\r\n      name,\r\n      displayName: listener.displayName ? listener.displayName : humanizeEventName(name)\r\n    }\r\n  );\r\n}\r\n\r\nfunction extractDidDispatch(listener) {\r\n  return typeof listener === 'function' ? listener : listener.didDispatch;\r\n}\r\n\r\nfunction validateSelector(selector: string) {\r\n  if (!isSelectorValid(selector)) {\r\n    const error = new SyntaxError(selector + ' is not a valid selector');\r\n    // error.code = 'EBADSELECTOR';\r\n    throw error;\r\n  }\r\n}\r\n\r\nfunction isSelectorValid(selector: string) {\r\n  let valid: boolean;\r\n\r\n  try {\r\n    document.querySelector(selector);\r\n    valid = true;\r\n  } catch (error) {\r\n    valid = false;\r\n  }\r\n\r\n  return valid;\r\n}\r\n\r\nfunction calculateSpecificity(selector: string) {\r\n  const specificity = calculate(selector);\r\n  return specificity;\r\n}\r\nfunction calculate(selector: string) {\r\n  const commaIndex = selector.indexOf(',');\r\n  if (commaIndex !== -1) {\r\n    selector = selector.substring(0, commaIndex);\r\n  }\r\n\r\n  const types = {\r\n    a: 0,\r\n    b: 0,\r\n    c: 0\r\n  };\r\n\r\n  // The following regular expressions assume that selectors matching the preceding regular expressions have been removed\r\n  const attributeRegex = /(\\[[^\\]]+\\])/g;\r\n  const idRegex = /(#[^\\s\\+>~\\.\\[:]+)/g;\r\n  const classRegex = /(\\.[^\\s\\+>~\\.\\[:]+)/g;\r\n  const pseudoElementRegex = /(::[^\\s\\+>~\\.\\[:]+|:first-line|:first-letter|:before|:after)/g;\r\n  const pseudoClassRegex = /(:[^\\s\\+>~\\.\\[:]+)/g;\r\n  const elementRegex = /([^\\s\\+>~\\.\\[:]+)/g;\r\n  const notRegex = /:not\\(([^\\)]*)\\)/g;\r\n  const ruleRegex = /\\{[^]*/gm;\r\n  const separatorRegex = /[\\*\\s\\+>~]/g;\r\n  const straysRegex = /[#\\.]/g;\r\n\r\n  // Remove the negation psuedo-class (:not) but leave its argument because specificity is calculated on its argument\r\n  selector = selector.replace(notRegex, ' $1 ');\r\n\r\n  // Remove anything after a left brace in case a user has pasted in a rule, not just a selector\r\n  selector = selector.replace(ruleRegex, ' ');\r\n\r\n  // Add attribute selectors to parts collection (type b)\r\n  selector = findMatch(attributeRegex, 'b', types, selector);\r\n\r\n  // Add ID selectors to parts collection (type a)\r\n  selector = findMatch(idRegex, 'a', types, selector);\r\n\r\n  // Add class selectors to parts collection (type b)\r\n  selector = findMatch(classRegex, 'b', types, selector);\r\n\r\n  // Add pseudo-element selectors to parts collection (type c)\r\n  selector = findMatch(pseudoElementRegex, 'c', types, selector);\r\n\r\n  // Add pseudo-class selectors to parts collection (type b)\r\n  selector = findMatch(pseudoClassRegex, 'b', types, selector);\r\n\r\n  // Remove universal selector and separator characters\r\n  selector = selector.replace(separatorRegex, ' ');\r\n\r\n  // Remove any stray dots or hashes which aren't attached to words\r\n  // These may be present if the user is live-editing this selector\r\n  selector = selector.replace(straysRegex, ' ');\r\n\r\n  // The only things left should be element selectors (type c)\r\n  findMatch(elementRegex, 'c', types, selector);\r\n\r\n  return (types.a * 100) + (types.b * 10) + (types.c * 1);\r\n}\r\n\r\nfunction findMatch(regex, type, types, selector) {\r\n  const matches = selector.match(regex);\r\n  if (matches) {\r\n    for (const match of matches) {\r\n      types[type]++;\r\n      // Replace this simple selector with whitespace so it won't be counted in further simple selectors\r\n      selector = selector.replace(match, ' ');\r\n    }\r\n  }\r\n\r\n  return selector;\r\n}\r\n\r\nfunction omit(obj: any, ...props: string[]) {\r\n  // const iteratee = (value, key) => !props.find(key);\r\n\r\n  const result = {};\r\n  if (!obj) {\r\n    return result;\r\n  }\r\n  Object.keys(obj).forEach(key => {\r\n    if (!props.find(prop => prop === key)) {\r\n      return;\r\n    }\r\n    result[key] = obj[key];\r\n  });\r\n  return result;\r\n}\r\n\r\nfunction humanizeEventName(eventName, eventDoc = null) {\r\n  const ref = eventName.split(':');\r\n  const [namespace, event] = ref;\r\n  if (event == null) {\r\n    return undash(namespace);\r\n  }\r\n  const namespaceDoc = undash(namespace);\r\n  if (eventDoc == null) {\r\n    eventDoc = undash(event);\r\n  }\r\n  return '' + namespaceDoc + ': ' + eventDoc;\r\n}\r\n\r\nfunction undash(str) {\r\n  if (str) {\r\n    return str.split('-').join(' ');\r\n  } else {\r\n    return '';\r\n  }\r\n}\r\n","import {Injectable} from '@angular/core';\r\n\r\n@Injectable()\r\nexport class Util {\r\n  newGuid() {\r\n    return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\r\n      // tslint:disable: no-bitwise\r\n      const r = Math.random() * 16 | 0;\r\n      const v = c === 'x' ? r : (r & 0x3 | 0x8);\r\n      return v.toString(16);\r\n    });\r\n  }\r\n\r\n  /**\r\n   * åurlæ·»å QueryParam\r\n   * @param url åå§url\r\n   * @param paramName åæ°å\r\n   * @param paramValue åæ°å¼\r\n   * @param override æ¯å¦è¦çãä¸ºTrueæ¶ï¼å¦æåæ°å·²å­å¨ï¼å°è¦çå·²æåæ°ï¼å¦åæ¾å¼å¤çãé»è®¤ä¸ºFalseã\r\n   */\r\n  setUrlParam(url: string, paramName: string, paramValue: string, override?: boolean) {\r\n    const [path, search] = url.split('?');\r\n    const params = new URLSearchParams(search);\r\n    if (params.has(paramName) && !override) {\r\n      return url;\r\n    }\r\n\r\n    params.set(paramName, paramValue);\r\n    return path + '?' + params.toString();\r\n  }\r\n}\r\n","import { Disposable } from './event-kit';\r\nimport { ComponentRef } from '@angular/core';\r\n\r\n// Essential: `ViewRegistry` handles the association between model and view\r\n// types in Atom. We call this association a View Provider. As in, for a given\r\n// model, this class can provide a view via {::getView}, as long as the\r\n// model/view association was registered via {::addViewProvider}\r\n//\r\n// If you're adding your own kind of pane item, a good strategy for all but the\r\n// simplest items is to separate the model and the view. The model handles\r\n// application logic and is the primary point of API interaction. The view\r\n// just handles presentation.\r\n//\r\n// Note: Models can be any object, but must implement a `getTitle()` function\r\n// if they are to be displayed in a {Pane}\r\n//\r\n// View providers inform the workspace how your model objects should be\r\n// presented in the DOM. A view provider must always return a DOM node, which\r\n// makes [HTML 5 custom elements](http://www.html5rocks.com/en/tutorials/webcomponents/customelements/)\r\n// an ideal tool for implementing views in Atom.\r\n//\r\n// You can access the `ViewRegistry` object via `atom.views`.\r\nexport class ViewRegistry {\r\n  // private animationFrameRequest: any;\r\n  // private documentReadInProgress: boolean;\r\n  private gspEnvironment: any;\r\n  private views: WeakMap<object, ComponentRef<any>>;\r\n  private providers: any[];\r\n  // private documentWriters: any;\r\n  // private documentReaders: any;\r\n  // private nextUpdatePromise: any;\r\n  // private resolveNextUpdatePromise: (value?: {} | PromiseLike<{}>) => void;\r\n  constructor (gspEnvironment) {\r\n    // this.animationFrameRequest = null\r\n    // this.documentReadInProgress = false\r\n    // this.performDocumentUpdate = this.performDocumentUpdate.bind(this);\r\n    this.gspEnvironment = gspEnvironment;\r\n    this.clear();\r\n  }\r\n\r\n  clear () {\r\n    this.views = new WeakMap();\r\n    this.providers = [];\r\n    this.clearDocumentRequests();\r\n  }\r\n\r\n  // Essential: Add a provider that will be used to construct views in the\r\n  // workspace's view layer based on model objects in its model layer.\r\n  //\r\n  // ## Examples\r\n  //\r\n  // Text editors are divided into a model and a view layer, so when you interact\r\n  // with methods like `atom.workspace.getActiveTextEditor()` you're only going\r\n  // to get the model object. We display text editors on screen by teaching the\r\n  // workspace what view constructor it should use to represent them:\r\n  //\r\n  // ```coffee\r\n  // atom.views.addViewProvider TextEditor, (textEditor) ->\r\n  //   textEditorElement = new TextEditorElement\r\n  //   textEditorElement.initialize(textEditor)\r\n  //   textEditorElement\r\n  // ```\r\n  //\r\n  // * `modelConstructor` (optional) Constructor {Function} for your model. If\r\n  //   a constructor is given, the `createView` function will only be used\r\n  //   for model objects inheriting from that constructor. Otherwise, it will\r\n  //   will be called for any object.\r\n  // * `createView` Factory {Function} that is passed an instance of your model\r\n  //   and must return a subclass of `HTMLElement` or `undefined`. If it returns\r\n  //   `undefined`, then the registry will continue to search for other view\r\n  //   providers.\r\n  //\r\n  // Returns a {Disposable} on which `.dispose()` can be called to remove the\r\n  // added provider.\r\n  addViewProvider (modelConstructor, createView) {\r\n    let provider;\r\n    if (arguments.length === 1) {\r\n      switch (typeof modelConstructor) {\r\n        case 'function':\r\n          provider = {createView: modelConstructor, modelConstructor: null};\r\n          break;\r\n        case 'object':\r\n          provider = modelConstructor;\r\n          break;\r\n        default:\r\n          throw new TypeError('Arguments to addViewProvider must be functions');\r\n      }\r\n    } else {\r\n      provider = {modelConstructor, createView};\r\n    }\r\n\r\n    this.providers.push(provider);\r\n    return new Disposable(() => {\r\n      this.providers = this.providers.filter(p => p !== provider);\r\n    });\r\n  }\r\n\r\n  getViewProviderCount () {\r\n    return this.providers.length;\r\n  }\r\n\r\n  // Essential: Get the view associated with an object in the workspace.\r\n  //\r\n  // If you're just *using* the workspace, you shouldn't need to access the view\r\n  // layer, but view layer access may be necessary if you want to perform DOM\r\n  // manipulation that isn't supported via the model API.\r\n  //\r\n  // ## View Resolution Algorithm\r\n  //\r\n  // The view associated with the object is resolved using the following\r\n  // sequence\r\n  //\r\n  //  1. Is the object an instance of `HTMLElement`? If true, return the object.\r\n  //  2. Does the object have a method named `getElement` that returns an\r\n  //     instance of `HTMLElement`? If true, return that value.\r\n  //  3. Does the object have a property named `element` with a value which is\r\n  //     an instance of `HTMLElement`? If true, return the property value.\r\n  //  4. Is the object a jQuery object, indicated by the presence of a `jquery`\r\n  //     property? If true, return the root DOM element (i.e. `object[0]`).\r\n  //  5. Has a view provider been registered for the object? If true, use the\r\n  //     provider to create a view associated with the object, and return the\r\n  //     view.\r\n  //\r\n  // If no associated view is returned by the sequence an error is thrown.\r\n  //\r\n  // Returns a DOM element.\r\n  getView (object): ComponentRef<any> {\r\n    if (object == null) { return; }\r\n\r\n    let view = this.views.get(object);\r\n    if (!view) {\r\n      view = this.createView(object);\r\n      this.views.set(object, view);\r\n    }\r\n    return view;\r\n  }\r\n\r\n  createView (object): ComponentRef<any> {\r\n    if (object instanceof ComponentRef) { return object; }\r\n\r\n    let element;\r\n    if (object && (typeof object.getElement === 'function')) {\r\n      element = object.getElement();\r\n      if (element instanceof ComponentRef) {\r\n        return element;\r\n      }\r\n    }\r\n\r\n    if (object && object.element instanceof ComponentRef) {\r\n      return object.element;\r\n    }\r\n\r\n    // if (object && object.jquery) {\r\n    //   return object[0];\r\n    // }\r\n\r\n    for (const provider of this.providers) {\r\n      if (provider.modelConstructor === null) {\r\n        element = provider.createView(object, this.gspEnvironment);\r\n        if (element) { return element; }\r\n        continue;\r\n      }\r\n\r\n      if (object instanceof provider.modelConstructor) {\r\n        element = provider.createView && provider.createView(object, this.gspEnvironment);\r\n        if (element) { return element; }\r\n\r\n        const ViewConstructor = provider.viewConstructor;\r\n        if (ViewConstructor) {\r\n          element = new ViewConstructor();\r\n          if (element.initialize) {\r\n            element.initialize(object);\r\n          } else if (element.setModel) {\r\n            element.setModel(object);\r\n          }\r\n          return element;\r\n        }\r\n      }\r\n    }\r\n\r\n    if (object && object.getViewClass) {\r\n      const ViewConstructor = object.getViewClass();\r\n      if (ViewConstructor) {\r\n        const view = new ViewConstructor(object);\r\n        return view;\r\n      }\r\n    }\r\n\r\n    throw new Error(`Can't create a view for ${object.constructor.name} instance. Please register a view provider.`);\r\n  }\r\n\r\n  updateDocument (fn) {\r\n    // this.documentWriters.push(fn)\r\n    // if (!this.documentReadInProgress) { this.requestDocumentUpdate() }\r\n    // return new Disposable(() => {\r\n    //   this.documentWriters = this.documentWriters.filter(writer => writer !== fn)\r\n    // })\r\n  }\r\n\r\n  readDocument (fn) {\r\n    // this.documentReaders.push(fn)\r\n    // this.requestDocumentUpdate()\r\n    // return new Disposable(() => {\r\n    //   this.documentReaders = this.documentReaders.filter(reader => reader !== fn)\r\n    // })\r\n  }\r\n\r\n  getNextUpdatePromise () {\r\n    // if (this.nextUpdatePromise == null) {\r\n    //   this.nextUpdatePromise = new Promise(resolve => {\r\n    //     this.resolveNextUpdatePromise = resolve\r\n    //   })\r\n    // }\r\n\r\n    // return this.nextUpdatePromise\r\n  }\r\n\r\n  clearDocumentRequests () {\r\n    // this.documentReaders = []\r\n    // this.documentWriters = []\r\n    // this.nextUpdatePromise = null\r\n    // this.resolveNextUpdatePromise = null\r\n    // if (this.animationFrameRequest != null) {\r\n    //   cancelAnimationFrame(this.animationFrameRequest)\r\n    //   this.animationFrameRequest = null\r\n    // }\r\n  }\r\n\r\n  requestDocumentUpdate () {\r\n    // if (this.animationFrameRequest == null) {\r\n    //   this.animationFrameRequest = requestAnimationFrame(this.performDocumentUpdate)\r\n    // }\r\n  }\r\n\r\n  performDocumentUpdate () {\r\n    // const { resolveNextUpdatePromise } = this\r\n    // this.animationFrameRequest = null\r\n    // this.nextUpdatePromise = null\r\n    // this.resolveNextUpdatePromise = null\r\n\r\n    // var writer = this.documentWriters.shift()\r\n    // while (writer) {\r\n    //   writer()\r\n    //   writer = this.documentWriters.shift()\r\n    // }\r\n\r\n    // var reader = this.documentReaders.shift()\r\n    // this.documentReadInProgress = true\r\n    // while (reader) {\r\n    //   reader()\r\n    //   reader = this.documentReaders.shift()\r\n    // }\r\n    // this.documentReadInProgress = false\r\n\r\n    // // process updates requested as a result of reads\r\n    // writer = this.documentWriters.shift()\r\n    // while (writer) {\r\n    //   writer()\r\n    //   writer = this.documentWriters.shift()\r\n    // }\r\n\r\n    // if (resolveNextUpdatePromise) { resolveNextUpdatePromise() }\r\n  }\r\n}\r\n","import { Panel } from './panel';\r\nimport { Dock } from './dock';\r\nimport { PanelLocation } from './types';\r\nimport { ViewRegistry } from './view-registry';\r\nimport { CompositeDisposable, Emitter, Disposable } from './event-kit';\r\n\r\nexport class PanelContainer {\r\n  private emitter: Emitter;\r\n  private subscriptions: CompositeDisposable;\r\n\r\n  panels: Panel[] = [];\r\n\r\n  constructor(\r\n    private viewRegistry: ViewRegistry,\r\n    private location: PanelLocation,\r\n    private dock: Dock = null) {\r\n      this.emitter = new Emitter();\r\n      this.subscriptions = new CompositeDisposable();\r\n    }\r\n\r\n  destroy() {\r\n    for (const panel of this.getPanels()) {\r\n      panel.destroy();\r\n    }\r\n  }\r\n\r\n  getElement() {\r\n  }\r\n\r\n  /*\r\n  Section: Event Subscription\r\n  */\r\n\r\n  onDidAddPanel(callback): Disposable {\r\n    return this.emitter.on('did-add-panel', callback);\r\n  }\r\n\r\n  onDidRemovePanel(callback): Disposable {\r\n    return this.emitter.on('did-remove-panel', callback);\r\n  }\r\n\r\n  onDidDestroy(callback): Disposable {\r\n    return this.emitter.once('did-destroy', callback);\r\n  }\r\n\r\n  getLocation(): PanelLocation {\r\n    return this.location;\r\n  }\r\n\r\n  isModal() { return this.location === 'modal'; }\r\n\r\n  getPanels(): Panel[] { return this.panels.slice(); }\r\n\r\n  addPanel(panel: Panel): Panel {\r\n    this.subscriptions.add(panel.onDidDestroy(this.panelDestroyed.bind(this)));\r\n\r\n    const index = this.getPanelIndex(panel);\r\n    if (index === this.panels.length) {\r\n      this.panels.push(panel);\r\n    } else {\r\n      this.panels.splice(index, 0, panel);\r\n    }\r\n\r\n    this.emitter.emit('did-add-panel', {panel, index});\r\n    return panel;\r\n  }\r\n\r\n  panelForItem(item) {\r\n    for (const panel of this.panels) {\r\n      if (panel.getItem() === item) {\r\n        return panel;\r\n      }\r\n    }\r\n    return null;\r\n  }\r\n\r\n  panelDestroyed(panel) {\r\n    const index = this.panels.indexOf(panel);\r\n    if (index > -1) {\r\n      this.panels.splice(index, 1);\r\n      this.emitter.emit('did-remove-panel', {panel, index});\r\n    }\r\n  }\r\n\r\n  getPanelIndex(panel) {\r\n    const priority = panel.getPriority();\r\n    if (['bottom', 'right'].find(item => item === this.location)) {\r\n      for (let i = this.panels.length - 1; i >= 0; i--) {\r\n        const p = this.panels[i];\r\n        if (priority < p.getPriority()) { return i + 1; }\r\n      }\r\n      return 0;\r\n    } else {\r\n      for (let i = 0; i < this.panels.length; i++) {\r\n        const p = this.panels[i];\r\n        if (priority < p.getPriority()) { return i; }\r\n      }\r\n      return this.panels.length;\r\n    }\r\n  }\r\n}\r\n","import { ViewRegistry } from './view-registry';\r\nimport { Emitter, Disposable } from './event-kit';\r\n\r\nexport interface PanelOptions {\r\n  item: any;\r\n  autoFocus?: boolean;\r\n  visible?: boolean;\r\n  priority?: number;\r\n  className?: string;\r\n}\r\n\r\nexport class Panel {\r\n  /*\r\n  Section: Construction and Destruction\r\n  */\r\n  destroyed: boolean;\r\n  item: any;\r\n  autoFocus: boolean;\r\n  visible: boolean;\r\n  priority: number;\r\n  className: string;\r\n  viewRegistry: any;\r\n  private emitter: Emitter;\r\n\r\n  constructor(options: PanelOptions, viewRegistry: ViewRegistry) {\r\n    this.destroyed = false;\r\n    this.item = options.item;\r\n    this.autoFocus = options.autoFocus == null ? false : options.autoFocus;\r\n    this.visible = options.visible == null ? true : options.visible;\r\n    this.priority = options.priority == null ? 100 : options.priority;\r\n    this.className = options.className;\r\n    this.viewRegistry = viewRegistry;\r\n    this.emitter = new Emitter();\r\n  }\r\n\r\n  // Public: Destroy and remove this panel from the UI.\r\n  destroy() {\r\n    if (this.destroyed) {\r\n      return;\r\n    }\r\n    this.destroyed = true;\r\n    this.hide();\r\n    this.emitter.emit('did-destroy', this);\r\n    return this.emitter.dispose();\r\n  }\r\n\r\n  getElement() {\r\n    return this.item.getElement(); // ç´æ¥è¿åitemçè§å¾ï¼ä¸ååè£ä¸å±Panel\r\n  }\r\n\r\n  /*\r\n  Section: Event Subscription\r\n  */\r\n\r\n  // Public: Invoke the given callback when the pane hidden or shown.\r\n  //\r\n  // * `callback` {Function} to be called when the pane is destroyed.\r\n  //   * `visible` {Boolean} true when the panel has been shown\r\n  //\r\n  // Returns a {Disposable} on which `.dispose()` can be called to unsubscribe.\r\n  onDidChangeVisible(callback) {\r\n    return this.emitter.on('did-change-visible', callback);\r\n  }\r\n\r\n  // Public: Invoke the given callback when the pane is destroyed.\r\n  //\r\n  // * `callback` {Function} to be called when the pane is destroyed.\r\n  //   * `panel` {Panel} this panel\r\n  //\r\n  // Returns a {Disposable} on which `.dispose()` can be called to unsubscribe.\r\n  onDidDestroy(callback): Disposable {\r\n    return this.emitter.once('did-destroy', callback);\r\n  }\r\n\r\n  /*\r\n  Section: Panel Details\r\n  */\r\n\r\n  // Public: Returns the panel's item.\r\n  getItem() {\r\n    return this.item;\r\n  }\r\n\r\n  // Public: Returns a {Number} indicating this panel's priority.\r\n  getPriority() {\r\n    return this.priority;\r\n  }\r\n\r\n  getClassName() {\r\n    return this.className;\r\n  }\r\n\r\n  // Public: Returns a {Boolean} true when the panel is visible.\r\n  isVisible() {\r\n    return this.visible;\r\n  }\r\n\r\n  // Public: Hide this panel\r\n  hide() {\r\n    const wasVisible = this.visible;\r\n    this.visible = false;\r\n    if (wasVisible) {\r\n      this.emitter.emit('did-change-visible', this.visible);\r\n    }\r\n  }\r\n\r\n  // Public: Show this panel\r\n  show() {\r\n    const wasVisible = this.visible;\r\n    this.visible = true;\r\n    if (!wasVisible) {\r\n      this.emitter.emit('did-change-visible', this.visible);\r\n    }\r\n  }\r\n}\r\n","import { PaneContainer } from './pane-container';\r\nimport { Pane } from './pane';\r\n\r\n// Essential: Represents the workspace at the center of the entire window.\r\nexport class WorkspaceCenter {\r\n  paneContainer: PaneContainer;\r\n  didActivate: any;\r\n\r\n  constructor(params) {\r\n    params.location = 'center';\r\n    this.paneContainer = new PaneContainer(params);\r\n    this.didActivate = params.didActivate;\r\n    this.paneContainer.onDidActivatePane(() => this.didActivate(this));\r\n    this.paneContainer.onDidChangeActivePane((pane) => {\r\n      params.didChangeActivePane(this, pane);\r\n    });\r\n    this.paneContainer.onDidChangeActivePaneItem((item) => {\r\n      params.didChangeActivePaneItem(this, item);\r\n    });\r\n    this.paneContainer.onDidDestroyPaneItem((item) => params.didDestroyPaneItem(item));\r\n  }\r\n\r\n  destroy() {\r\n    this.paneContainer.destroy();\r\n  }\r\n\r\n  serialize() {\r\n    return this.paneContainer.serialize();\r\n  }\r\n\r\n  deserialize(state, deserializerManager) {\r\n    this.paneContainer.deserialize(state, deserializerManager);\r\n  }\r\n\r\n  activate() {\r\n    this.getActivePane().activate();\r\n  }\r\n\r\n  getLocation() {\r\n    return 'center';\r\n  }\r\n\r\n  setDraggingItem() {\r\n    // No-op\r\n  }\r\n\r\n  // Essential: Invoke the given callback with all current and future panes items\r\n  // in the workspace center.\r\n  //\r\n  // * `callback` {Function} to be called with current and future pane items.\r\n  //   * `item` An item that is present in {::getPaneItems} at the time of\r\n  //      subscription or that is added at some later time.\r\n  //\r\n  // Returns a {Disposable} on which `.dispose()` can be called to unsubscribe.\r\n  observePaneItems(callback) { return this.paneContainer.observePaneItems(callback); }\r\n\r\n  // Essential: Invoke the given callback when the active pane item changes.\r\n  //\r\n  // Because observers are invoked synchronously, it's important not to perform\r\n  // any expensive operations via this method. Consider\r\n  // {::onDidStopChangingActivePaneItem} to delay operations until after changes\r\n  // stop occurring.\r\n  //\r\n  // * `callback` {Function} to be called when the active pane item changes.\r\n  //   * `item` The active pane item.\r\n  //\r\n  // Returns a {Disposable} on which `.dispose()` can be called to unsubscribe.\r\n  onDidChangeActivePaneItem(callback) {\r\n    return this.paneContainer.onDidChangeActivePaneItem(callback);\r\n  }\r\n\r\n  // Essential: Invoke the given callback when the active pane item stops\r\n  // changing.\r\n  //\r\n  // Observers are called asynchronously 100ms after the last active pane item\r\n  // change. Handling changes here rather than in the synchronous\r\n  // {::onDidChangeActivePaneItem} prevents unneeded work if the user is quickly\r\n  // changing or closing tabs and ensures critical UI feedback, like changing the\r\n  // highlighted tab, gets priority over work that can be done asynchronously.\r\n  //\r\n  // * `callback` {Function} to be called when the active pane item stopts\r\n  //   changing.\r\n  //   * `item` The active pane item.\r\n  //\r\n  // Returns a {Disposable} on which `.dispose()` can be called to unsubscribe.\r\n  onDidStopChangingActivePaneItem(callback) {\r\n    return this.paneContainer.onDidStopChangingActivePaneItem(callback);\r\n  }\r\n\r\n  // Essential: Invoke the given callback with the current active pane item and\r\n  // with all future active pane items in the workspace center.\r\n  //\r\n  // * `callback` {Function} to be called when the active pane item changes.\r\n  //   * `item` The current active pane item.\r\n  //\r\n  // Returns a {Disposable} on which `.dispose()` can be called to unsubscribe.\r\n  observeActivePaneItem(callback) {\r\n    return this.paneContainer.observeActivePaneItem(callback);\r\n  }\r\n\r\n  // Extended: Invoke the given callback when a pane is added to the workspace\r\n  // center.\r\n  //\r\n  // * `callback` {Function} to be called panes are added.\r\n  //   * `event` {Object} with the following keys:\r\n  //     * `pane` The added pane.\r\n  //\r\n  // Returns a {Disposable} on which `.dispose()` can be called to unsubscribe.\r\n  onDidAddPane(callback) {\r\n    return this.paneContainer.onDidAddPane(callback);\r\n  }\r\n\r\n  // Extended: Invoke the given callback before a pane is destroyed in the\r\n  // workspace center.\r\n  //\r\n  // * `callback` {Function} to be called before panes are destroyed.\r\n  //   * `event` {Object} with the following keys:\r\n  //     * `pane` The pane to be destroyed.\r\n  //\r\n  // Returns a {Disposable} on which `.dispose()` can be called to unsubscribe.\r\n  onWillDestroyPane(callback) {\r\n    return this.paneContainer.onWillDestroyPane(callback);\r\n  }\r\n\r\n  // Extended: Invoke the given callback when a pane is destroyed in the\r\n  // workspace center.\r\n  //\r\n  // * `callback` {Function} to be called panes are destroyed.\r\n  //   * `event` {Object} with the following keys:\r\n  //     * `pane` The destroyed pane.\r\n  //\r\n  // Returns a {Disposable} on which `.dispose()` can be called to unsubscribe.\r\n  onDidDestroyPane(callback) {\r\n    return this.paneContainer.onDidDestroyPane(callback);\r\n  }\r\n\r\n  // Extended: Invoke the given callback with all current and future panes in the\r\n  // workspace center.\r\n  //\r\n  // * `callback` {Function} to be called with current and future panes.\r\n  //   * `pane` A {Pane} that is present in {::getPanes} at the time of\r\n  //      subscription or that is added at some later time.\r\n  //\r\n  // Returns a {Disposable} on which `.dispose()` can be called to unsubscribe.\r\n  observePanes(callback) {\r\n    return this.paneContainer.observePanes(callback);\r\n  }\r\n\r\n  // Extended: Invoke the given callback when the active pane changes.\r\n  //\r\n  // * `callback` {Function} to be called when the active pane changes.\r\n  //   * `pane` A {Pane} that is the current return value of {::getActivePane}.\r\n  //\r\n  // Returns a {Disposable} on which `.dispose()` can be called to unsubscribe.\r\n  onDidChangeActivePane(callback) {\r\n    return this.paneContainer.onDidChangeActivePane(callback);\r\n  }\r\n\r\n  // Extended: Invoke the given callback with the current active pane and when\r\n  // the active pane changes.\r\n  //\r\n  // * `callback` {Function} to be called with the current and future active#\r\n  //   panes.\r\n  //   * `pane` A {Pane} that is the current return value of {::getActivePane}.\r\n  //\r\n  // Returns a {Disposable} on which `.dispose()` can be called to unsubscribe.\r\n  observeActivePane(callback) {\r\n    return this.paneContainer.observeActivePane(callback);\r\n  }\r\n\r\n  // Extended: Invoke the given callback when a pane item is added to the\r\n  // workspace center.\r\n  //\r\n  // * `callback` {Function} to be called when pane items are added.\r\n  //   * `event` {Object} with the following keys:\r\n  //     * `item` The added pane item.\r\n  //     * `pane` {Pane} containing the added item.\r\n  //     * `index` {Number} indicating the index of the added item in its pane.\r\n  //\r\n  // Returns a {Disposable} on which `.dispose()` can be called to unsubscribe.\r\n  onDidAddPaneItem(callback) {\r\n    return this.paneContainer.onDidAddPaneItem(callback);\r\n  }\r\n\r\n  // Extended: Invoke the given callback when a pane item is about to be\r\n  // destroyed, before the user is prompted to save it.\r\n  //\r\n  // * `callback` {Function} to be called before pane items are destroyed.\r\n  //   * `event` {Object} with the following keys:\r\n  //     * `item` The item to be destroyed.\r\n  //     * `pane` {Pane} containing the item to be destroyed.\r\n  //     * `index` {Number} indicating the index of the item to be destroyed in\r\n  //       its pane.\r\n  //\r\n  // Returns a {Disposable} on which `.dispose` can be called to unsubscribe.\r\n  onWillDestroyPaneItem(callback) {\r\n    return this.paneContainer.onWillDestroyPaneItem(callback);\r\n  }\r\n\r\n  // Extended: Invoke the given callback when a pane item is destroyed.\r\n  //\r\n  // * `callback` {Function} to be called when pane items are destroyed.\r\n  //   * `event` {Object} with the following keys:\r\n  //     * `item` The destroyed item.\r\n  //     * `pane` {Pane} containing the destroyed item.\r\n  //     * `index` {Number} indicating the index of the destroyed item in its\r\n  //       pane.\r\n  //\r\n  // Returns a {Disposable} on which `.dispose` can be called to unsubscribe.\r\n  onDidDestroyPaneItem(callback) {\r\n    return this.paneContainer.onDidDestroyPaneItem(callback);\r\n  }\r\n\r\n  /*\r\n  Section: Pane Items\r\n  */\r\n\r\n  // Essential: Get all pane items in the workspace center.\r\n  //\r\n  // Returns an {Array} of items.\r\n  getPaneItems() {\r\n    return this.paneContainer.getPaneItems();\r\n  }\r\n\r\n  // Essential: Get the active {Pane}'s active item.\r\n  //\r\n  // Returns an pane item {Object}.\r\n  getActivePaneItem() {\r\n    return this.paneContainer.getActivePaneItem();\r\n  }\r\n\r\n  // Save all pane items.\r\n  saveAll() {\r\n    this.paneContainer.saveAll();\r\n  }\r\n\r\n  confirmClose(options) {\r\n    return this.paneContainer.confirmClose(options);\r\n  }\r\n\r\n  /*\r\n  Section: Panes\r\n  */\r\n\r\n  // Extended: Get all panes in the workspace center.\r\n  //\r\n  // Returns an {Array} of {Pane}s.\r\n  getPanes(): Pane[] {\r\n    return this.paneContainer.getPanes();\r\n  }\r\n\r\n  // Extended: Get the active {Pane}.\r\n  //\r\n  // Returns a {Pane}.\r\n  getActivePane(): Pane {\r\n    return this.paneContainer.getActivePane();\r\n  }\r\n\r\n  // Extended: Make the next pane active.\r\n  activateNextPane() {\r\n    return this.paneContainer.activateNextPane();\r\n  }\r\n\r\n  // Extended: Make the previous pane active.\r\n  activatePreviousPane() {\r\n    return this.paneContainer.activatePreviousPane();\r\n  }\r\n\r\n  paneForURI(uri): Pane {\r\n    return this.paneContainer.paneForURI(uri);\r\n  }\r\n\r\n  paneForItem(item): Pane {\r\n    return this.paneContainer.paneForItem(item);\r\n  }\r\n\r\n  // Destroy (close) the active pane.\r\n  destroyActivePane() {\r\n    const activePane = this.getActivePane();\r\n    if (activePane != null) {\r\n      activePane.destroy();\r\n    }\r\n  }\r\n}\r\n","import { PanelContainer } from './panel-container';\r\nimport { Panel, PanelOptions } from './panel';\r\nimport { Dock } from './dock';\r\nimport { WorkspaceCenter } from './workspace-center';\r\nimport { ViewRegistry } from './view-registry';\r\nimport { PanelLocation } from './types';\r\nimport { PaneContainer } from './pane-container';\r\nimport { Pane } from './pane';\r\n\r\nexport interface PaneContainers {\r\n  center: WorkspaceCenter;\r\n  left: Dock;\r\n  right: Dock;\r\n  bottom: Dock;\r\n}\r\n\r\nexport interface PanelContainers {\r\n  // top: PanelContainer;\r\n  // left: PanelContainer;\r\n  // right: PanelContainer;\r\n  // bottom: PanelContainer;\r\n  // header: PanelContainer;\r\n  // footer: PanelContainer;\r\n  // modal: PanelContainer;\r\n  [location: string]: PanelContainer;\r\n}\r\nconst gsp: any = {};\r\nconst ALL_LOCATIONS = ['center', 'left', 'right', 'bottom'];\r\nexport class Workspace {\r\n  private paneContainers: PaneContainers;\r\n  private panelContainers: PanelContainers;\r\n  private activePaneContainer: Dock | WorkspaceCenter;\r\n  private viewRegistry: ViewRegistry;\r\n  private packageManager: any;\r\n  private openers: any[];\r\n  private frmOpeners: any[];\r\n  private useFrmOpener: boolean;\r\n  private notificationManager: any;\r\n  private config: any;\r\n  private destroyedItemURIs: any[];\r\n  private project: any;\r\n\r\n  constructor(params) {\r\n    this.initOptions(params);\r\n    this.initWorkspace();\r\n    this.openers = [];\r\n    this.frmOpeners = [];\r\n    this.useFrmOpener = false;\r\n    this.viewRegistry = params.viewRegistry;\r\n    // this.subscribeToEvents();\r\n  }\r\n\r\n  private initOptions(params) {\r\n    this.config = params.config || {};\r\n  }\r\n\r\n  private initWorkspace() {\r\n    // åå»ºå·¥ä½åºåé é¢æ¿å®¹å¨ã\r\n    this.paneContainers = {\r\n      // åå»ºä¸»åºåã\r\n      center: this.createCenter(),\r\n      // åå»ºå·¦ä¾§é¢æ¿ã\r\n      left: this.createDock('left'),\r\n      // åå»ºå³ä¾§é¢æ¿ã\r\n      right: this.createDock('right'),\r\n      // åå»ºåºé¨é¢æ¿ã\r\n      bottom: this.createDock('bottom')\r\n    };\r\n    this.activePaneContainer = this.paneContainers.center;\r\n    // åå»ºé¢æ¿å®¹å¨\r\n    this.panelContainers = {\r\n      top: new PanelContainer(this.viewRegistry, 'top'),\r\n      left: new PanelContainer(this.viewRegistry, 'left', this.paneContainers.left),\r\n      right: new PanelContainer(this.viewRegistry, 'right', this.paneContainers.right),\r\n      bottom: new PanelContainer(this.viewRegistry, 'bottom', this.paneContainers.bottom),\r\n      header: new PanelContainer(this.viewRegistry, 'header'),\r\n      footer: new PanelContainer(this.viewRegistry, 'footer'),\r\n      modal: new PanelContainer(this.viewRegistry, 'modal')\r\n    };\r\n  }\r\n\r\n  get paneContainer(): PaneContainer {\r\n    return this.paneContainers.center.paneContainer;\r\n  }\r\n  /**\r\n   * è¿åå·¥ä½åºåç´ \r\n   */\r\n  getElement() {\r\n  }\r\n  /**\r\n   * åå»ºä¸»é¢æ¿\r\n   */\r\n  createCenter() {\r\n    return new WorkspaceCenter({ viewRegistry: this.viewRegistry });\r\n  }\r\n  /**\r\n   * åå»ºåé é¢æ¿\r\n   * @param location åé é¢æ¿ä½ç½®\r\n   */\r\n  createDock(location) {\r\n    return new Dock({\r\n      location,\r\n      viewRegistry: this.viewRegistry\r\n    });\r\n  }\r\n  /**\r\n   * éç½®å·¥ä½åº\r\n   * @param packageManager åç®¡çå¨\r\n   */\r\n  reset(packageManager) {\r\n    this.packageManager = packageManager;\r\n\r\n    this.destroyed();\r\n\r\n    this.initWorkspace();\r\n  }\r\n\r\n  // Called by the Serializable mixin during serialization.\r\n  /**\r\n   * åºååå·¥ä½åºéç½®\r\n   */\r\n  serialize() {\r\n  }\r\n  /**\r\n   * ååºååå·¥ä½åºéç½®\r\n   * @param state state\r\n   * @param deserializerManager dm\r\n   */\r\n  deserialize(state, deserializerManager) {\r\n  }\r\n\r\n  // Updates the application's title and proxy icon based on whichever file is\r\n  // open.\r\n  updateWindowTitle() {\r\n\r\n  }\r\n\r\n  open(itemOrURI, options: any = {}) {\r\n    let uri, item;\r\n    if (typeof itemOrURI === 'string') {\r\n      uri = itemOrURI; // this.project.resolvePath(itemOrURI);\r\n    } else if (itemOrURI) {\r\n      item = itemOrURI;\r\n      if (typeof item.getURI === 'function') { uri = item.getURI(); }\r\n    }\r\n\r\n    if (!this.config.get('core.allowPendingPaneItems')) {\r\n      options.pending = false;\r\n    }\r\n\r\n    // Avoid adding URLs as recent documents to work-around this Spotlight crash:\r\n    // https://github.com/atom/atom/issues/10071\r\n    // if (uri && (!url.parse(uri).protocol || process.platform === 'win32')) {\r\n    //   this.applicationDelegate.addRecentDocument(uri);\r\n    // }\r\n\r\n    let pane, itemExistsInWorkspace;\r\n\r\n    // Try to find an existing item in the workspace.\r\n    if (item || uri) {\r\n      if (options.pane) {\r\n        pane = options.pane;\r\n      } else if (options.searchAllPanes) {\r\n        pane = item ? this.paneForItem(item) : this.paneForURI(uri);\r\n      } else {\r\n        // If an item with the given URI is already in the workspace, assume\r\n        // that item's pane container is the preferred location for that URI.\r\n        let container;\r\n        if (uri) { container = this.paneContainerForURI(uri); }\r\n        if (!container) { container = this.getActivePaneContainer(); }\r\n\r\n        // The `split` option affects where we search for the item.\r\n        pane = container.getActivePane();\r\n        switch (options.split) {\r\n          case 'left':\r\n            pane = pane.findLeftmostSibling();\r\n            break;\r\n          case 'right':\r\n            pane = pane.findRightmostSibling();\r\n            break;\r\n          case 'up':\r\n            pane = pane.findTopmostSibling();\r\n            break;\r\n          case 'down':\r\n            pane = pane.findBottommostSibling();\r\n            break;\r\n        }\r\n      }\r\n\r\n      if (pane) {\r\n        if (item) {\r\n          itemExistsInWorkspace = pane.getItems().includes(item);\r\n        } else {\r\n          item = pane.itemForURI(uri);\r\n          itemExistsInWorkspace = item != null;\r\n        }\r\n      }\r\n    }\r\n\r\n    // If we already have an item at this stage, we won't need to do an async\r\n    // lookup of the URI, so we yield the event loop to ensure this method\r\n    // is consistently asynchronous.\r\n    if (item) {\r\n      Promise.resolve();\r\n    }\r\n\r\n    if (!itemExistsInWorkspace) {\r\n      item = item || this.createItemForURI(uri, options);\r\n      if (!item) { return; }\r\n\r\n      if (options.pane) {\r\n        pane = options.pane;\r\n      } else {\r\n        let location = options.location;\r\n        // if (!location && !options.split && uri && this.enablePersistence) {\r\n        //   // location = await;\r\n        //   this.itemLocationStore.load(uri);\r\n        // }\r\n        if (!location && typeof item.getDefaultLocation === 'function') {\r\n          location = item.getDefaultLocation();\r\n        }\r\n\r\n        const allowedLocations = typeof item.getAllowedLocations === 'function' ? item.getAllowedLocations() : ALL_LOCATIONS;\r\n        location = allowedLocations.includes(location) ? location : allowedLocations[0];\r\n\r\n        const container = this.paneContainers[location] || this.getCenter();\r\n        pane = container.getActivePane();\r\n        switch (options.split) {\r\n          case 'left':\r\n            pane = pane.findLeftmostSibling();\r\n            break;\r\n          case 'right':\r\n            pane = pane.findOrCreateRightmostSibling();\r\n            break;\r\n          case 'up':\r\n            pane = pane.findTopmostSibling();\r\n            break;\r\n          case 'down':\r\n            pane = pane.findOrCreateBottommostSibling();\r\n            break;\r\n        }\r\n      }\r\n    }\r\n\r\n    if (!options.pending && (pane.getPendingItem() === item)) {\r\n      pane.clearPendingItem();\r\n    }\r\n\r\n    this.itemOpened(item);\r\n\r\n    if (options.activateItem === false) {\r\n      pane.addItem(item, { pending: options.pending });\r\n    } else {\r\n      pane.activateItem(item, { pending: options.pending });\r\n    }\r\n\r\n    if (options.activatePane !== false) {\r\n      pane.activate();\r\n    }\r\n\r\n    let initialColumn = 0;\r\n    let initialLine = 0;\r\n    if (!Number.isNaN(options.initialLine)) {\r\n      initialLine = options.initialLine;\r\n    }\r\n    if (!Number.isNaN(options.initialColumn)) {\r\n      initialColumn = options.initialColumn;\r\n    }\r\n    if (initialLine >= 0 || initialColumn >= 0) {\r\n      if (typeof item.setCursorBufferPosition === 'function') {\r\n        item.setCursorBufferPosition([initialLine, initialColumn]);\r\n      }\r\n    }\r\n\r\n    const index = pane.getActiveItemIndex();\r\n    return item;\r\n  }\r\n\r\n  hide(itemOrURI) {\r\n    let foundItems = false;\r\n\r\n    // If any visible item has the given URI, hide it\r\n    for (const container of this.getPaneContainers()) {\r\n      const isCenter = container === this.getCenter();\r\n      if (isCenter || (container as Dock).isVisible()) {\r\n        for (const pane of container.getPanes()) {\r\n          const activeItem = pane.getActiveItem();\r\n          const foundItem = (\r\n            activeItem != null && (\r\n              activeItem === itemOrURI ||\r\n              typeof activeItem.getURI === 'function' && activeItem.getURI() === itemOrURI\r\n            )\r\n          );\r\n          if (foundItem) {\r\n            foundItems = true;\r\n            // We can't really hide the center so we just destroy the item.\r\n            if (isCenter) {\r\n              pane.destroyItem(activeItem);\r\n            } else {\r\n              (container as Dock).hide();\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    return foundItems;\r\n  }\r\n\r\n  toggle(itemOrURI) {\r\n    if (this.hide(itemOrURI)) {\r\n      return Promise.resolve();\r\n    } else {\r\n      return this.open(itemOrURI, { searchAllPanes: true });\r\n    }\r\n  }\r\n\r\n  openSync(fileUri = '', options = { initialColumn: '', initialLine: '', activateItem: '', activatePane: '' }) {\r\n    const { initialLine, initialColumn } = options;\r\n    const activatePane = options.activatePane != null ? options.activatePane : true;\r\n    const activateItem = options.activateItem != null ? options.activateItem : true;\r\n\r\n    const uri = fileUri; // this.project.resolvePath(uri_);\r\n    let item = this.getActivePane().itemForURI(uri);\r\n    if (uri && (item == null)) {\r\n      for (const opener of this.getOpeners()) {\r\n        item = opener(uri, options);\r\n        if (item) { break; }\r\n      }\r\n    }\r\n    if (item == null) {\r\n      item = this.project.openSync(uri, { initialLine, initialColumn });\r\n    }\r\n\r\n    if (activateItem) {\r\n      this.getActivePane().activateItem(item);\r\n    }\r\n    this.itemOpened(item);\r\n    if (activatePane) {\r\n      this.getActivePane().activate();\r\n    }\r\n    return item;\r\n  }\r\n\r\n  openURIInPane(uri, pane) {\r\n    return this.open(uri, { pane });\r\n  }\r\n\r\n  createItemForURI(uri, options) {\r\n    if (uri != null) {\r\n      for (const opener of this.getOpeners()) {\r\n        const item = opener(uri, options);\r\n        if (item != null) {\r\n          if (!item.getURI || typeof item.getURI !== 'function' || !item.getUri || typeof item.getURI !== 'function') {\r\n            item.getUri = () => uri;\r\n          }\r\n          return item;\r\n        }\r\n      }\r\n    }\r\n\r\n    try {\r\n      // return this.openTextFile(uri, options);\r\n    } catch (error) {\r\n      // switch (error.code) {\r\n      //   case 'CANCELLED':\r\n      //     return Promise.resolve();\r\n      //   case 'EACCES':\r\n      //     this.notificationManager.addWarning(`Permission denied '${error.path}'`);\r\n      //     return Promise.resolve();\r\n      //   case 'EPERM':\r\n      //   case 'EBUSY':\r\n      //   case 'ENXIO':\r\n      //   case 'EIO':\r\n      //   case 'ENOTCONN':\r\n      //   case 'UNKNOWN':\r\n      //   case 'ECONNRESET':\r\n      //   case 'EINVAL':\r\n      //   case 'EMFILE':\r\n      //   case 'ENOTDIR':\r\n      //   case 'EAGAIN':\r\n      //     this.notificationManager.addWarning(\r\n      //       `Unable to open '${error.path != null ? error.path : uri}'`,\r\n      //       { detail: error.message }\r\n      //     );\r\n      //     return Promise.resolve();\r\n      //   default:\r\n      //     throw error;\r\n      // }\r\n    }\r\n  }\r\n\r\n  reopenItem() {\r\n    const uri = this.destroyedItemURIs.pop();\r\n    if (uri) {\r\n      return this.open(uri);\r\n    } else {\r\n      return Promise.resolve();\r\n    }\r\n  }\r\n\r\n  addOpener(opener) {\r\n    this.openers.push(opener);\r\n    // return new Disposable(() => { _.remove(this.openers, opener); });\r\n  }\r\n\r\n  addFrmOpener(opener) {\r\n    if (!this.useFrmOpener) {\r\n      this.useFrmOpener = true;\r\n    }\r\n    this.frmOpeners.push(opener);\r\n  }\r\n\r\n  getOpeners() {\r\n    return this.useFrmOpener ? this.frmOpeners : this.openers;\r\n  }\r\n\r\n  getPaneItems() {\r\n    return new Array().concat(this.getPaneContainers().map(container => container.getPaneItems()));\r\n  }\r\n\r\n  getActivePaneItem() {\r\n    return this.getActivePaneContainer().getActivePaneItem();\r\n  }\r\n\r\n  saveAll() {\r\n    this.getPaneContainers().forEach(container => {\r\n      container.saveAll();\r\n    });\r\n  }\r\n\r\n  confirmClose(options) {\r\n    return Promise.all(this.getPaneContainers().map(container =>\r\n      container.confirmClose(options)\r\n    )).then((results) => !results.find(item => item === false));\r\n  }\r\n\r\n  saveActivePaneItem() {\r\n    return this.getCenter().getActivePane().saveActiveItem();\r\n  }\r\n\r\n  saveActivePaneItemAs() {\r\n    this.getCenter().getActivePane().saveActiveItemAs();\r\n  }\r\n\r\n  destroyActivePaneItem() {\r\n    return this.getActivePane().destroyActiveItem();\r\n  }\r\n\r\n  getActivePaneContainer() {\r\n    return this.activePaneContainer;\r\n  }\r\n\r\n  getPanes() {\r\n    return new Array().concat(this.getPaneContainers().map(container => container.getPanes()));\r\n  }\r\n\r\n  getVisiblePanes() {\r\n    return new Array().concat(this.getVisiblePaneContainers().map(container => container.getPanes()));\r\n  }\r\n\r\n  getActivePane() {\r\n    return this.getActivePaneContainer().getActivePane();\r\n  }\r\n\r\n  activateNextPane() {\r\n    return this.getActivePaneContainer().activateNextPane();\r\n  }\r\n\r\n  activatePreviousPane() {\r\n    return this.getActivePaneContainer().activatePreviousPane();\r\n  }\r\n\r\n  paneContainerForURI(uri) {\r\n    return this.getPaneContainers().find(container => !!container.paneForURI(uri));\r\n  }\r\n\r\n  paneContainerForItem(uri) {\r\n    return this.getPaneContainers().find(container => !!container.paneForItem(uri));\r\n  }\r\n\r\n  paneForURI(uri): Pane {\r\n    for (const location of this.getPaneContainers()) {\r\n      const pane = location.paneForURI(uri);\r\n      if (pane != null) {\r\n        return pane;\r\n      }\r\n    }\r\n  }\r\n\r\n  paneForItem(item): Pane {\r\n    for (const location of this.getPaneContainers()) {\r\n      const pane = location.paneForItem(item);\r\n      if (pane != null) {\r\n        return pane;\r\n      }\r\n    }\r\n  }\r\n\r\n  destroyActivePane() {\r\n    const activePane = this.getActivePane();\r\n    if (activePane != null) {\r\n      activePane.destroy();\r\n    }\r\n  }\r\n\r\n\r\n  closeActivePaneItemOrEmptyPaneOrWindow() {\r\n    if (this.getCenter().getActivePaneItem() != null) {\r\n      this.getCenter().getActivePane().destroyActiveItem();\r\n    } else if (this.getCenter().getPanes().length > 1) {\r\n      this.getCenter().destroyActivePane();\r\n    } else if (this.config.get('core.closeEmptyWindows')) {\r\n      // åä¸ºå³é­atomåºç¨çªå£ãideä¸­æä¸å³é­æ´ä¸ªçªå£ã\r\n      // atom.close();\r\n    }\r\n  }\r\n\r\n  itemOpened(item) {\r\n  }\r\n\r\n\r\n  destroyed() {\r\n    this.paneContainers.center.destroy();\r\n    this.paneContainers.left.destroy();\r\n    this.paneContainers.right.destroy();\r\n    this.paneContainers.bottom.destroy();\r\n\r\n    for (const panelLocation in this.panelContainers) {\r\n      if (this.panelContainers.hasOwnProperty(panelLocation)) {\r\n        const panelContainer = this.panelContainers[panelLocation];\r\n        this.paneContainer.destroy();\r\n      }\r\n    }\r\n  }\r\n\r\n  getCenter(): WorkspaceCenter {\r\n    return this.paneContainers.center;\r\n  }\r\n\r\n  getLeftDock() {\r\n    return this.paneContainers.left;\r\n  }\r\n\r\n  getRightDock() {\r\n    return this.paneContainers.right;\r\n  }\r\n\r\n  getBottomDock() {\r\n    return this.paneContainers.bottom;\r\n  }\r\n\r\n  getPaneContainers() {\r\n    return [\r\n      this.paneContainers.center,\r\n      this.paneContainers.left,\r\n      this.paneContainers.right,\r\n      this.paneContainers.bottom\r\n    ];\r\n  }\r\n\r\n  getVisiblePaneContainers() {\r\n    const center = this.getCenter();\r\n    return this.getPaneContainers()\r\n      .filter(container => container === center || (container as Dock).isVisible());\r\n  }\r\n\r\n  getBottomPanels() {\r\n    return this.getPanels('bottom');\r\n  }\r\n\r\n  addBottomPanel(options: PanelOptions): Panel {\r\n    return this.addPanel('bottom', options);\r\n  }\r\n\r\n  getLeftPanels() {\r\n    return this.getPanels('left');\r\n  }\r\n\r\n  addLeftPanel(options: PanelOptions): Panel {\r\n    return this.addPanel('left', options);\r\n  }\r\n\r\n  getRightPanels() {\r\n    return this.getPanels('right');\r\n  }\r\n\r\n  addRightPanel(options: PanelOptions): Panel {\r\n    return this.addPanel('right', options);\r\n  }\r\n\r\n  getTopPanels() {\r\n    return this.getPanels('top');\r\n  }\r\n\r\n  addTopPanel(options: PanelOptions): Panel {\r\n    return this.addPanel('top', options);\r\n  }\r\n\r\n  getHeaderPanels() {\r\n    return this.getPanels('header');\r\n  }\r\n\r\n  addHeaderPanel(options: PanelOptions): Panel {\r\n    return this.addPanel('header', options);\r\n  }\r\n\r\n  getFooterPanels() {\r\n    return this.getPanels('footer');\r\n  }\r\n\r\n  addFooterPanel(options: PanelOptions): Panel {\r\n    return this.addPanel('footer', options);\r\n  }\r\n\r\n  getModalPanels() {\r\n    return this.getPanels('modal');\r\n  }\r\n\r\n  addModalPanel(options: PanelOptions): Panel {\r\n    return this.addPanel('modal', options);\r\n  }\r\n\r\n  panelForItem(item): Panel {\r\n    for (const location in this.panelContainers) {\r\n      if (this.panelContainers.hasOwnProperty(location)) {\r\n        const panel = this.panelContainers[location].panelForItem(item);\r\n        if (panel != null) {\r\n          return panel;\r\n        }\r\n      }\r\n    }\r\n    return null;\r\n  }\r\n\r\n  getPanelContainer(location: PanelLocation): PanelContainer {\r\n    return this.panelContainers[location];\r\n  }\r\n\r\n  getPanels(location: PanelLocation): Panel[] {\r\n    return this.panelContainers[location].getPanels();\r\n  }\r\n\r\n  addPanel(location: PanelLocation, options: PanelOptions): Panel {\r\n    const panel = new Panel(options, this.viewRegistry);\r\n    return this.panelContainers[location].addPanel(panel);\r\n  }\r\n}\r\n","import { EventBus, IDisposable } from '../eventbus';\r\nimport { Observable, of } from 'rxjs';\r\nimport { Type } from '@angular/core';\r\n\r\nexport class GspEventBus extends EventBus {\r\n  private commands: any[] = [];\r\n\r\n  on(target: string, tokenValue: string, eventName: string, caller: object, handler: (value: any) => void) {\r\n    // å¦ææå¯¹åºæ¿æ´»å½ä»¤ï¼çå¬äºä»¶æ¶ç«å³æ§è¡åè°å½æ°\r\n    const command = this.commands.find(item => item.name === eventName);\r\n    if (command) {\r\n      handler.call(caller, command.eventeParams);\r\n    }\r\n    return super.on(target, tokenValue, eventName, caller, handler);\r\n  }\r\n\r\n  post(emitterType: Type<any> | string, tokenValue: string, eventName: string, eventArgs: any): void {\r\n    this.dispatchCommand(eventName, eventArgs);\r\n    super.post(emitterType, tokenValue, eventName, eventArgs);\r\n  }\r\n\r\n  registryActivateCommand(commandName: string, plugin: any, activateFn: (arg0: any) => void) {\r\n    this.commands.push({\r\n      name: commandName,\r\n      plugin,\r\n      activateFn\r\n    });\r\n  }\r\n\r\n  private dispatchCommand(commandName: string, args: any) {\r\n    const command = this.commands.find(item => item.name === commandName);\r\n    if (command) {\r\n      command.activateFn(command.plugin);\r\n      command.eventParams = args;\r\n    }\r\n  }\r\n}\r\n","export class ModalFrm {\r\n\r\n  add(options: any) {\r\n\r\n  }\r\n\r\n  show(id: string) {\r\n\r\n  }\r\n\r\n  hide(id: string) {\r\n\r\n  }\r\n\r\n  close(id: string) {\r\n    \r\n  }\r\n}\r\n","import { Messager } from './messager';\r\nimport { ModalFrm } from './modal-frm';\r\nimport { NotifyOptions } from '@farris/ui-notify';\r\nimport { forkJoin, Observable, of } from 'rxjs';\r\nimport { map } from 'rxjs/operators';\r\n\r\n\r\n\r\n/**\r\n * æä¾ideè¿è¡æéçæ¹æ³ï¼ä¾æä»¶ä½¿ç¨\r\n */\r\n\r\nexport class Ide {\r\n  private frameId: string;\r\n  private events: Map<string, any[]>;\r\n  private modal: ModalFrm;\r\n  private commandData: Map<string, any>;\r\n  private msgr: Messager;\r\n  private get isTop(): boolean {\r\n    return window.top === window;\r\n  }\r\n  private get parentInstance() {\r\n    let instance = this;\r\n    const top = window.top;\r\n    if (top && top['gsp']) {\r\n      instance = top['gsp'].ide;\r\n    }\r\n    return instance;\r\n  }\r\n\r\n  get messager(): Messager {\r\n    return this.msgr;\r\n  }\r\n\r\n  constructor(parent?: Ide) {\r\n    this.events = new Map<string, any[]>();\r\n    this.modal = new ModalFrm();\r\n    this.frameId = this.getParam('frameID');\r\n    if (this.isTop) {\r\n      this.commandData = new Map<string, any>();\r\n    }\r\n    if (parent) {\r\n      this.msgr =  parent.messager;\r\n    }\r\n  }\r\n\r\n  /* #region  frame util */\r\n  getParam(key: string) {\r\n    const params = new URLSearchParams(window.location.search);\r\n    return unescape(params.get(key));\r\n  }\r\n\r\n  getInitCommandData(frameId?: string): any {\r\n    if (!this.isTop) {\r\n      frameId = frameId || this.frameId;\r\n      return this.parentInstance.getInitCommandData(frameId);\r\n    } else {\r\n      return this.commandData.get(frameId);\r\n    }\r\n  }\r\n\r\n  setInitCommandData(frameId: string, data: any) {\r\n    if (!this.isTop) {\r\n      this.parentInstance.setInitCommandData(frameId, data);\r\n    } else {\r\n      this.commandData.set(frameId, data);\r\n    }\r\n  }\r\n\r\n  setMessager(messager: Messager) {\r\n    this.msgr = messager;\r\n  }\r\n  /* #endregion */\r\n\r\n  /* #region  event */\r\n  onPanelAdded(cb: (options: any, location?: string) => any) {\r\n    this.on('panel-added', cb);\r\n  }\r\n\r\n  onPanelRemoved(cb: (id: string, lacation: string) => any) {\r\n    this.on('panel-removed', cb);\r\n  }\r\n\r\n  onPanelShown(cb: (id: string) => any) {\r\n    this.on('panel-shown', cb);\r\n  }\r\n\r\n  onPanelHidden(cb: (id: string) => any) {\r\n    this.on('panel-hidden', cb);\r\n  }\r\n\r\n  onModalConfirming(cb: (id: string) => boolean) {\r\n    if (this.parentInstance !== this) {\r\n      this.parentInstance.onModalConfirming(cb);\r\n    } else {\r\n      this.on('confirm-modal', cb);\r\n    }\r\n  }\r\n\r\n  onModalCancelling(cb: (id: string) => boolean) {\r\n    this.on('cancel-modal', cb);\r\n  }\r\n\r\n  onLeftActivated(cb: (id: string) => any) {\r\n    if (this.isTop) {\r\n      this.on('activate-left', cb);\r\n    } else {\r\n      this.parentInstance.onLeftActivated(cb);\r\n    }\r\n  }\r\n\r\n  onNotifyShown(cb: (level: 'error' | 'warning' | 'info', content: string | NotifyOptions) => any) {\r\n    this.on('show-notify', cb);\r\n  }\r\n\r\n  onLoadingShown(cb: (message?: string) => any) {\r\n    this.on('show-loading', cb);\r\n  }\r\n\r\n  onLoadingHidden(cb: () => any) {\r\n    this.on('hide-loading', cb);\r\n  }\r\n\r\n  onDesignerStatusSet(cb: (args) => any) {\r\n    this.on('set-designer-status', cb);\r\n  }\r\n\r\n  // onBeforeClose(id: string, cb: () => boolean) {\r\n  //   this.on('on-before-close', ({metadataId}) => {\r\n  //     if (id === metadataId) {\r\n  //       return cb();\r\n  //     }\r\n  //     return true;\r\n  //   });\r\n  // }\r\n\r\n  onCloseTab(id: string, cb: () => boolean | Observable<boolean>) {\r\n    if (!this.isTop) {\r\n      return this.parentInstance.onCloseTab(id, cb);\r\n    }\r\n    this.on('close-tab', tabId => {\r\n      if (id === tabId) {\r\n        return cb();\r\n      }\r\n      return true;\r\n    });\r\n  }\r\n  /* #endregion */\r\n\r\n\r\n  /* #region  panel */\r\n  addPanel(options: any) {\r\n    this.emit('panel-added', options);\r\n  }\r\n  /* #endregion */\r\n\r\n  /* #region  modal */\r\n  addModal(options: any) {\r\n    this.emit('panel-added', options, 'modal');\r\n  }\r\n\r\n  closeModal(id?: string) {\r\n    if (this.parentInstance !== this) {\r\n      this.parentInstance.closeModal(id);\r\n    }\r\n    this.emit('panel-removed', id, 'modal');\r\n  }\r\n\r\n  confirmModal(id: string): boolean {\r\n    let result = true;\r\n    // if (this.parentInstance !== this) {\r\n    //   result = this.parentInstance.confirmModal(id);\r\n    // }\r\n    result = result && this.emit('confirm-modal', id) as boolean;\r\n    return result;\r\n  }\r\n\r\n  cancelModal(id: string): boolean {\r\n    let result = true;\r\n    if (this.parentInstance !== this) {\r\n      result = this.parentInstance.cancelModal(id);\r\n    }\r\n    result = result && this.emit('cancel-modal', id) as boolean;\r\n    return result;\r\n  }\r\n\r\n  // addLeft    registryOpener....\r\n  /* #endregion */\r\n\r\n  /* #region  left rigion */\r\n\r\n  activateLeft(frameId?: string) {\r\n    frameId = frameId || this.frameId;\r\n    if (this.isTop) {\r\n      this.emit('activate-left', frameId);\r\n    } else {\r\n      this.parentInstance.activateLeft(frameId);\r\n    }\r\n  }\r\n  /* #endregion */\r\n\r\n  notify(level: 'error' | 'warning' | 'info', content: string | NotifyOptions) {\r\n    if (this.isTop) {\r\n      this.emit('show-notify', level, content);\r\n    } else {\r\n      this.parentInstance.notify(level, content);\r\n    }\r\n  }\r\n\r\n  loading(message?: string): void {\r\n    if (this.isTop) {\r\n      this.emit('show-loading', message);\r\n    } else {\r\n      this.parentInstance.loading(message);\r\n    }\r\n  }\r\n\r\n  loaded(): void {\r\n    if (this.isTop) {\r\n      this.emit('hide-loading');\r\n    } else {\r\n      this.parentInstance.loaded();\r\n    }\r\n  }\r\n\r\n  setDesignerStatus(metadataId: string, isDirty: boolean) {\r\n    if (this.isTop) {\r\n      this.emit('set-designer-status', {id: metadataId, isDirty});\r\n    } else {\r\n      this.parentInstance.setDesignerStatus(metadataId, isDirty);\r\n    }\r\n  }\r\n\r\n  // closeDesigner(metadataId: string) {\r\n  //   if (this.isTop) {\r\n  //     this.emit('close-designer', {id: metadataId});\r\n  //   } else {\r\n  //     this.parentInstance.closeDesigner(metadataId);\r\n  //   }\r\n  // }\r\n\r\n  notifyCloseTab(id: string): Observable<boolean> {\r\n    if (!this.isTop) {\r\n      return this.parentInstance.notifyCloseTab(id);\r\n    }\r\n\r\n    const result = this.emit('close-tab', id);\r\n    if (result == null) {\r\n      return of(true);\r\n    } else if (typeof result === 'boolean') {\r\n      return of (result);\r\n    } else {\r\n      return result;\r\n    }\r\n  }\r\n\r\n  registerIDE(workspace: any) {\r\n    // ç¨æ¥æide viewå®ä¾ä¸gspå¯¹è±¡ç»å®ã\r\n    // TODOï¼ viewå®ä¾çå¬gspå¯¹è±¡çæä½æ¾å¨è¿éã\r\n\r\n    if (typeof workspace.onCloseDesigner === 'function') {\r\n      this.on('close-designer', workspace.onCloseDesigner.bind(workspace));\r\n    }\r\n  }\r\n\r\n  /* #region  private method */\r\n  private on(name: string, cb: any) {\r\n    let callbacks = this.events.get(name);\r\n    if (!callbacks) {\r\n      callbacks = [cb];\r\n      this.events.set(name, callbacks);\r\n    } else {\r\n      callbacks.push(cb);\r\n    }\r\n  }\r\n\r\n  private emit(name: string, ...params: any[]): boolean | Observable<boolean> {\r\n    const callbacks = this.events.get(name);\r\n\r\n    if (!callbacks || !callbacks.length) { return; }\r\n\r\n    let result = true;\r\n    const observableResult = new Array<Observable<boolean>>(); // åæ¶æ¯æè¿åbooleanåObservable\r\n    for (const cb of callbacks) {\r\n      const cbResult = cb(...params);\r\n      if (cbResult == null) {\r\n        continue;\r\n      }\r\n      if (typeof cbResult === 'boolean') {\r\n        result = result && cbResult;\r\n      } else if (typeof cbResult.subscribe === 'function' && cbResult.constructor.name === Observable.name) {\r\n        // å¤æ­æ¡ä»¶ä¸è½ä½¿ç¨cbResult instanceof Observable,å ä¸ºcbå¯è½æ¯æ¥èªäºä¸åçiframeç¯å¢ï¼å¯¼è´è·è¿éçObservableæé å½æ°ä¸ä¸æ ·ã\r\n        observableResult.push(cbResult);\r\n      }\r\n    }\r\n\r\n    if (observableResult.length) {\r\n      return forkJoin([...observableResult, of(result)]).pipe(map(results => {\r\n        return results.reduce((previous, current) => previous && current);\r\n      }));\r\n    } else {\r\n      return result;\r\n    }\r\n\r\n  }\r\n  /* #endregion */\r\n}\r\n\r\n","import { CacheService } from './../../services/cache/services/cache.service';\r\nimport { CommandRegistry } from './command-registry';\r\nimport { EventBus } from '../eventbus/event-bus';\r\nimport { Util } from '../util/util';\r\nimport { ViewRegistry } from './view-registry';\r\nimport { Workspace } from './workspace';\r\nimport { GspEventBus } from './gsp-event-bus';\r\nimport { Ide } from './ide/ide';\r\nimport { ContextManager } from './context/context';\r\n\r\nexport class GSP {\r\n  private pEventBus: EventBus;\r\n  private pUtil: Util;\r\n  private pWorkspace: Workspace;\r\n  private pConfig: any;\r\n  private pViews: ViewRegistry;\r\n  private pCommands: CommandRegistry;\r\n  private pIde: Ide;\r\n  private pCache: CacheService;\r\n  private pContext: ContextManager;\r\n\r\n  get eventBus(): EventBus { return this.pEventBus; }\r\n  get util(): Util { return this.pUtil; }\r\n  get workspace(): Workspace { return this.pWorkspace; }\r\n  get views(): ViewRegistry { return this.pViews; }\r\n  get commands(): CommandRegistry { return this.pCommands; }\r\n  get ide(): Ide { return this.pIde; }\r\n  get cache(): CacheService { return this.pCache; }\r\n  get context(): ContextManager { return this.pContext; }\r\n\r\n  constructor(parent?: GSP) {\r\n    this.pConfig = {\r\n      get(key) {\r\n        return this[key];\r\n      }\r\n    };\r\n    let ide: Ide;\r\n    if (parent) {\r\n      this.pViews = parent.views;\r\n      this.pCommands = parent.commands;\r\n      this.pEventBus = parent.eventBus;\r\n      this.pUtil = parent.util;\r\n      this.pWorkspace = parent.workspace;\r\n      this.pCache = parent.cache;\r\n      ide = parent.ide;\r\n      const ctor: any = parent.context.constructor;\r\n      this.pContext = new ctor();\r\n    } else {\r\n      this.pViews = new ViewRegistry(this);\r\n      this.pCommands = new CommandRegistry();\r\n      this.pEventBus = new GspEventBus();\r\n      this.pUtil = new Util();\r\n      this.pWorkspace = new Workspace({\r\n        config: this.pConfig,\r\n        viewRegistry: this.pViews\r\n      });\r\n      this.pCache = new CacheService(null);\r\n    }\r\n    this.pIde = new Ide(ide);\r\n  }\r\n\r\n  /**\r\n   * @deprecated ç±å­æ¨¡åç¬èªåå»ºgspå®ä¾ï¼ä¼ å¥ç¶å®ä¾ä½ä¸ºåæ°ã\r\n   * æ¯ä¸ªiframeææä¸ä¸ªç¬æçgspå®ä¾ï¼å¶ä¸­eventbuså±äº«ï¼ideä¸å±äº«\r\n   */\r\n  createChild() {\r\n    const child = new GSP(this);\r\n    // child.pEventBus = this.pEventBus;\r\n    // child.pViews = this.pViews;\r\n    // child.pWorkspace = this.pWorkspace;\r\n    return child;\r\n  }\r\n}\r\n","import { Observable } from 'rxjs';\r\n\r\nexport class Messager {\r\n  info(message: string, callback?: () => void): void {\r\n\r\n  }\r\n\r\n  question(message: string, okCallback: () => void, cancelCallback?: () => void): void {\r\n\r\n  }\r\n\r\n  confirm(message: string): Observable<boolean> {\r\n    return null;\r\n  }\r\n\r\n  error(message: string): void {\r\n\r\n  }\r\n\r\n  warning(message: string): void {\r\n\r\n  }\r\n}\r\n","import { ComponentRef } from '@angular/core';\r\n\r\nexport class PackageView {\r\n  protected element: ComponentRef<any>;\r\n\r\n  constructor(serializedState: any) {\r\n\r\n  }\r\n\r\n  getElement() {\r\n    return this.element;\r\n  }\r\n\r\n  /**\r\n   * Returns an object that can be retrieved when package is activated.\r\n   */\r\n  serialize() { }\r\n\r\n  destroy() {\r\n  }\r\n}\r\n","import { Type } from '@angular/core';\r\nimport { GSP } from '../gsp/gsp';\r\nimport { PackageView } from './package-view';\r\n\r\nexport class Package {\r\n  protected packageView: PackageView;\r\n  // leftPanel: any;\r\n  // modelPanel: any;\r\n  protected subscriptions: any = [];\r\n  protected packageId: string;\r\n  public data: any;\r\n\r\n  get id(): string {\r\n    return this.packageId;\r\n  }\r\n  set id(value: string) {\r\n    this.packageId = value;\r\n  }\r\n\r\n  get view(): PackageView {\r\n    return this.packageView;\r\n  }\r\n\r\n  constructor(protected gsp: GSP) {\r\n    this.packageId = gsp.util.newGuid();\r\n  }\r\n\r\n  activate(state) {\r\n    this.packageView = new PackageView(state.sagipackageViewState);\r\n    // /*this.leftPanel = */this.ws.addLeftPanel({\r\n    //   title: 'test',\r\n    //   item: this.packageView.getComponent(),\r\n    //   visible: false\r\n    // });\r\n  }\r\n\r\n  initialize() { }\r\n\r\n  deactivate() {\r\n    this.packageView.destroy();\r\n  }\r\n\r\n  serialize(): any {\r\n    return {\r\n      sagipackageViewState: this.packageView.serialize()\r\n    };\r\n  }\r\n\r\n  toggle() {\r\n    // return (\r\n    //   this.modelPanel.isVisible() ?\r\n    //     this.modelPanel.hide() :\r\n    //     this.modelPanel.show()\r\n    // );\r\n  }\r\n\r\n  getComponent(): Type<any> {\r\n    return null;\r\n  }\r\n}\r\n","import { GSP } from '../gsp/gsp';\r\nimport { Package } from './package';\r\n\r\n\r\nexport class PackageModule {\r\n\r\n  protected package: Package;\r\n\r\n  constructor() {\r\n\r\n  }\r\n\r\n  getPackage(gsp: GSP) {\r\n    if (!this.package) {\r\n      this.initPackage(gsp);\r\n      // ng7åçº§åï¼æä»¶åæ¯iframeçå½¢å¼ï¼åå§åæ¹å¼æ¹åã\r\n      if (this.package) {\r\n        this.package.initialize();\r\n      }\r\n    }\r\n    return this.package;\r\n  }\r\n\r\n  protected initPackage(gsp: GSP) {\r\n    this.package = new Package(gsp);\r\n  }\r\n}\r\n","import { NgModule, ModuleWithProviders } from '@angular/core';\r\nimport { CacheLocalStorage } from './services/storage/localstorage/cache.localstorage.service';\r\nimport { CacheMemoryStorage } from './services/storage/memory/cache.memory.service';\r\nimport { CacheSessionStorage } from './services/storage/sessionstorage/cache.sessionstorage.service';\r\nimport { CacheService } from './services/cache.service';\r\n\r\n@NgModule({\r\n  declarations: []\r\n})\r\nexport class CacheModule {\r\n  static forRoot(): ModuleWithProviders {\r\n    return {\r\n      ngModule: CacheModule,\r\n      providers: [\r\n        CacheLocalStorage,\r\n        CacheMemoryStorage,\r\n        CacheSessionStorage,\r\n        CacheService\r\n      ]\r\n    };\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { CacheService } from '../cache/services/cache.service';\r\nimport { map } from 'rxjs/operators';\r\nimport { Observable } from 'rxjs/Observable';\r\n\r\n@Injectable()\r\nexport class HttpService {\r\n\r\n  constructor(private http: HttpClient, private cache: CacheService) {\r\n  }\r\n\r\n  get(url: string): Observable<any> {\r\n    return this.request('Get', url, this.setHeader({}));\r\n  }\r\n\r\n  post(url: string, body: any): Observable<any> {\r\n    return this.request('Post', url, this.setHeader({body}));\r\n  }\r\n  put(url: string, body: any): Observable<any> {\r\n    return this.request('Put', url, this.setHeader({body}));\r\n  }\r\n  delete(url: string, body: any): Observable<any> {\r\n    return this.request('Delete', url, this.setHeader({body}));\r\n  }\r\n  patch(url: string, body: any): Observable<any> {\r\n    return this.request('Patch', url, this.setHeader({body}));\r\n  }\r\n\r\n  setHeader(options: any) {\r\n\r\n    options.headers = {\r\n      'Content-Type': 'application/json',\r\n      'Access-Control-Allow-Origin': '*'\r\n    };\r\n    if (this.cache.exists('sessionId') && this.cache.get('sessionId')) {\r\n      options.headers['SessionId'] = this.cache.get('sessionId');\r\n    }\r\n    return options;\r\n  }\r\n  request(method: string, url: string, options: any): Observable<any> {\r\n    if (options.body) {\r\n      if (typeof options.body !== 'string') {\r\n        options.body = JSON.stringify(options.body);\r\n      }\r\n    }\r\n\r\n\r\n    return this.http.request(method, url, options)\r\n      .pipe(map((data) => {\r\n        console.log(data);\r\n        return data;\r\n      }));\r\n  }\r\n}\r\n","import { HttpClientModule } from '@angular/common/http';\r\nimport { NgModule } from '@angular/core';\r\nimport { HttpService } from './http.service';\r\n\r\n@NgModule({\r\n  imports: [\r\n    HttpClientModule\r\n  ],\r\n  providers: [ HttpService ]\r\n})\r\nexport class GSPHttpModule {\r\n\r\n}\r\n"],"names":["Injectable","EventEmitter","Component","ChangeDetectionStrategy","ChangeDetectorRef","Input","Output","tslib_1.__decorate","NgModule","CommonModule","document","Event","window","ReflectiveInjector","ElementRef","TemplateRef","ComponentRef","ComponentFactoryResolver","NgZone","Injector","ApplicationRef","isDevMode","timer","Directive","ViewContainerRef","Renderer2","HostListener","RendererFactory2","isBs3","HostBinding","filter","tslib_1.__values","ContentChildren","ViewChildren","first","last","pick","includes","ViewChild","InjectionToken","assign","NG_VALUE_ACCESSOR","forwardRef","tslib_1.__extends","fromEvent","Inject","Optional","overlay","TemplatePortal","Overlay","QueryList","ViewEncapsulation","merge","OverlayModule","findIndex","find","FormsModule","PerfectScrollbarModule","Subject","BehaviorSubject","takeUntil","skip","NgControl","debounceTime","throttle","interval","DOCUMENT","InputGroupModule","DatalistModule","BsModalService","NotifyService","InputsModule","DropDownsModule","NotifyModule","ModalModule","FarrisDatePickerModule","FarrisComboListModule","NumberSpinnerModule","ContentChild","nextId","NGB_TABSET_DIRECTIVES","mapTo","forkJoin","Observable","of","Type","nextInstanceId","map","http","HttpClient","HttpClientModule"],"mappings":"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"}
