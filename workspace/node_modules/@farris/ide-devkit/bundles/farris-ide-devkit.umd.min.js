!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/cdk/portal"),require("rxjs/observable/fromEvent"),require("rxjs/observable/merge"),require("@angular/cdk/overlay"),require("lodash-es"),require("@farris/ui-perfect-scrollbar"),require("@farris/ui-input-group"),require("@farris/ui-datalist"),require("@angular/forms"),require("@progress/kendo-angular-inputs"),require("@progress/kendo-angular-dropdowns"),require("@farris/ui-notify"),require("@farris/ui-combo-list"),require("@farris/ui-modal"),require("@farris/ui-datepicker"),require("@farris/ui-number-spinner"),require("@angular/common"),require("rxjs/Subject"),require("rxjs"),require("@angular/core"),require("@angular/common/http"),require("rxjs/operators")):"function"==typeof define&&define.amd?define("@farris/ide-devkit",["exports","@angular/cdk/portal","rxjs/observable/fromEvent","rxjs/observable/merge","@angular/cdk/overlay","lodash-es","@farris/ui-perfect-scrollbar","@farris/ui-input-group","@farris/ui-datalist","@angular/forms","@progress/kendo-angular-inputs","@progress/kendo-angular-dropdowns","@farris/ui-notify","@farris/ui-combo-list","@farris/ui-modal","@farris/ui-datepicker","@farris/ui-number-spinner","@angular/common","rxjs/Subject","rxjs","@angular/core","@angular/common/http","rxjs/operators"],e):e((t.farris=t.farris||{},t.farris["ide-devkit"]={}),t.ng.cdk.portal,t.rxjs["observable/fromEvent"],t.rxjs["observable/merge"],t.ng.cdk.overlay,t.lodashEs,t.uiPerfectScrollbar,t.uiInputGroup,t.uiDatalist,t.ng.forms,t.kendoAngularInputs,t.kendoAngularDropdowns,t.uiNotify,t.uiComboList,t.uiModal,t.uiDatepicker,t.uiNumberSpinner,t.ng.common,t.rxjs.Subject,t.rxjs,t.ng.core,t.ng.common.http,t.rxjs.operators)}(this,function(t,s,i,o,e,r,n,a,p,c,l,u,d,h,f,m,y,g,v,b,C,w,I){"use strict";var x=function(t,e){return(x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function P(t,e){function n(){this.constructor=t}x(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var _=function(){return(_=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function S(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;0<=a;a--)(o=t[a])&&(s=(r<3?o(s):3<r?o(e,n,s):o(e,n))||s);return 3<r&&s&&Object.defineProperty(e,n,s),s}function D(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function E(i,o){var r,s,a,t,p={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return t={next:e(0),"throw":e(1),"return":e(2)},"function"==typeof Symbol&&(t[Symbol.iterator]=function(){return this}),t;function e(e){return function(t){return function n(t){if(r)throw new TypeError("Generator is already executing.");for(;p;)try{if(r=1,s&&(a=2&t[0]?s["return"]:t[0]?s["throw"]||((a=s["return"])&&a.call(s),0):s.next)&&!(a=a.call(s,t[1])).done)return a;switch(s=0,a&&(t=[2&t[0],a.value]),t[0]){case 0:case 1:a=t;break;case 4:return p.label++,{value:t[1],done:!1};case 5:p.label++,s=t[1],t=[0];continue;case 7:t=p.ops.pop(),p.trys.pop();continue;default:if(!(a=0<(a=p.trys).length&&a[a.length-1])&&(6===t[0]||2===t[0])){p=0;continue}if(3===t[0]&&(!a||t[1]>a[0]&&t[1]<a[3])){p.label=t[1];break}if(6===t[0]&&p.label<a[1]){p.label=a[1],a=t;break}if(a&&p.label<a[2]){p.label=a[2],p.ops.push(t);break}a[2]&&p.ops.pop(),p.trys.pop();continue}t=o.call(i,p)}catch(e){t=[6,e],s=0}finally{r=a=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([e,t])}}}function O(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}function k(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,o,r=n.call(t),s=[];try{for(;(void 0===e||0<e--)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(n=r["return"])&&n.call(r)}finally{if(o)throw o.error}}return s}function R(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(k(arguments[e]));return t}var M=function(){function t(){this.type="warning",this.dismissible=!1,this.dismissOnTimeout=undefined}return t.decorators=[{type:C.Injectable}],t}();function A(){return function(t,e){var n=" __"+e+"Value";Object.defineProperty(t,e,{get:function(){return this[n]},set:function(t){this[n]!==(this[n]=t)&&this[e+"Change"]&&this[e+"Change"].emit(t)}})}}var N,T=function(){function t(t,e){var n=this;this.changeDetection=e,this.type="warning",this.dismissible=!1,this.isOpen=!0,this.onClose=new C.EventEmitter,this.onClosed=new C.EventEmitter,this.classes="",this.dismissibleChange=new C.EventEmitter,Object.assign(this,t),this.dismissibleChange.subscribe(function(t){n.classes=n.dismissible?"alert-dismissible":"",n.changeDetection.markForCheck()})}return t.prototype.ngOnInit=function(){var t=this;this.dismissOnTimeout&&setTimeout(function(){return t.close()},parseInt(this.dismissOnTimeout,10))},t.prototype.close=function(){this.isOpen&&(this.onClose.emit(this),this.isOpen=!1,this.changeDetection.markForCheck(),this.onClosed.emit(this))},t.decorators=[{type:C.Component,args:[{selector:"alert,bs-alert",template:'<ng-template [ngIf]="isOpen">\r\n  <div [class]="\'alert alert-\' + type" role="alert" [ngClass]="classes">\r\n    <ng-template [ngIf]="dismissible">\r\n      <button type="button" class="close" aria-label="Close" (click)="close()">\r\n        <span aria-hidden="true">&times;</span>\r\n        <span class="sr-only">Close</span>\r\n      </button>\r\n    </ng-template>\r\n    <ng-content></ng-content>\r\n  </div>\r\n</ng-template>\r\n',changeDetection:C.ChangeDetectionStrategy.OnPush}]}],t.ctorParameters=function(){return[{type:M},{type:C.ChangeDetectorRef}]},t.propDecorators={type:[{type:C.Input}],dismissible:[{type:C.Input}],dismissOnTimeout:[{type:C.Input}],isOpen:[{type:C.Input}],onClose:[{type:C.Output}],onClosed:[{type:C.Output}]},S([A(),D("design:type",Object)],t.prototype,"dismissible",void 0),t}(),F=function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:[M]}},t.decorators=[{type:C.NgModule,args:[{imports:[g.CommonModule],declarations:[T],exports:[T],entryComponents:[T]}]}],t}(),j=function(){function t(){this.placement="top",this.triggers="hover focus"}return t.decorators=[{type:C.Injectable}],t}(),B="undefined"!=typeof window&&window||{},L=B.document,V=B.location,H=B.gc?function(){return B.gc()}:function(){return null},z=B.performance?B.performance:null,W=B.Event,U=B.MouseEvent,$=B.KeyboardEvent,q=B.EventTarget,X=B.History,Y=B.Location,K=B.EventListener;function G(){return void 0===B||("undefined"==typeof B.__theme?N?"bs3"===N:"bs3"===(N=function n(){if("undefined"==typeof document)return null;var t=document.createElement("span");t.innerText="test bs version",document.body.appendChild(t),t.classList.add("d-none");var e=t.getBoundingClientRect();return document.body.removeChild(t),e&&0===e.top?"bs4":"bs3"}()):"bs4"!==B.__theme)}var J=function(){function t(t){Object.assign(this,t)}return Object.defineProperty(t.prototype,"isBs3",{get:function(){return G()},enumerable:!0,configurable:!0}),t.prototype.ngAfterViewInit=function(){this.classMap={"in":!1,fade:!1},this.classMap[this.placement]=!0,this.classMap["tooltip-"+this.placement]=!0,this.classMap["in"]=!0,this.animation&&(this.classMap.fade=!0),this.containerClass&&(this.classMap[this.containerClass]=!0)},t.decorators=[{type:C.Component,args:[{selector:"bs-tooltip-container",changeDetection:C.ChangeDetectionStrategy.OnPush,host:{"[class]":'"tooltip in tooltip-" + placement + " " + "bs-tooltip-" + placement + " " + placement + " " + containerClass',"[class.show]":"!isBs3",role:"tooltip"},template:'\n    <div class="tooltip-arrow arrow"></div>\n    <div class="tooltip-inner"><ng-content></ng-content></div>\n    ',styles:["\n    :host.tooltip {\n      display: block;\n    }\n    :host.bs-tooltip-top .arrow, :host.bs-tooltip-bottom .arrow {\n      left: 50%;\n      margin-left: -6px;\n    }\n    :host.bs-tooltip-left .arrow, :host.bs-tooltip-right .arrow {\n      top: 50%;\n      margin-top: -6px;\n    }\n  "]}]}],t.ctorParameters=function(){return[{type:j}]},t}(),Z=function(){function t(t,e){this.open=t,this.close=e||t}return t.prototype.isManual=function(){return"manual"===this.open||"manual"===this.close},t}(),Q={hover:["mouseover","mouseout"],focus:["focusin","focusout"]};function tt(t,n){void 0===n&&(n=Q);var e=(t||"").trim();if(0===e.length)return[];var i=e.split(/\s+/).map(function(t){return t.split(":")}).map(function(t){var e=n[t[0]]||t;return new Z(e[0],e[1])}),o=i.filter(function(t){return t.isManual()});if(1<o.length)throw new Error("Triggers parse error: only one manual trigger is allowed");if(1===o.length&&1<i.length)throw new Error("Triggers parse error: manual trigger can't be mixed with other triggers");return i}var et=function ui(t,e,n){this.nodes=t,this.viewRef=e,this.componentRef=n},nt=function(){function t(t,e,n,i,o,r,s,a){this._viewContainerRef=t,this._renderer=e,this._elementRef=n,this._injector=i,this._componentFactoryResolver=o,this._ngZone=r,this._applicationRef=s,this._posService=a,this.onBeforeShow=new C.EventEmitter,this.onShown=new C.EventEmitter,this.onBeforeHide=new C.EventEmitter,this.onHidden=new C.EventEmitter,this._providers=[],this._isHiding=!1,this._listenOpts={},this._globalListener=Function.prototype}return Object.defineProperty(t.prototype,"isShown",{get:function(){return!this._isHiding&&!!this._componentRef},enumerable:!0,configurable:!0}),t.prototype.attach=function(t){return this._componentFactory=this._componentFactoryResolver.resolveComponentFactory(t),this},t.prototype.to=function(t){return this.container=t||this.container,this},t.prototype.position=function(t){return this.attachment=t.attachment||this.attachment,this._elementRef=t.target||this._elementRef,this},t.prototype.provide=function(t){return this._providers.push(t),this},t.prototype.show=function(t){if(void 0===t&&(t={}),this._subscribePositioning(),this._innerComponent=null,!this._componentRef){this.onBeforeShow.emit(),this._contentRef=this._getContentRef(t.content,t.context,t.initialState);var e=C.ReflectiveInjector.resolveAndCreate(this._providers,this._injector);this._componentRef=this._componentFactory.create(e,this._contentRef.nodes),this._applicationRef.attachView(this._componentRef.hostView),this.instance=this._componentRef.instance,Object.assign(this._componentRef.instance,t),this.container instanceof C.ElementRef&&this.container.nativeElement.appendChild(this._componentRef.location.nativeElement),"body"===this.container&&"undefined"!=typeof document&&document.querySelector(this.container).appendChild(this._componentRef.location.nativeElement),!this.container&&this._elementRef&&this._elementRef.nativeElement.parentElement&&this._elementRef.nativeElement.parentElement.appendChild(this._componentRef.location.nativeElement),this._contentRef.componentRef&&(this._innerComponent=this._contentRef.componentRef.instance,this._contentRef.componentRef.changeDetectorRef.markForCheck(),this._contentRef.componentRef.changeDetectorRef.detectChanges()),this._componentRef.changeDetectorRef.markForCheck(),this._componentRef.changeDetectorRef.detectChanges(),this.onShown.emit(this._componentRef.instance)}return this._registerOutsideClick(),this._componentRef},t.prototype.hide=function(){if(!this._componentRef)return this;this.onBeforeHide.emit(this._componentRef.instance);var t=this._componentRef.location.nativeElement;return t.parentNode.removeChild(t),this._contentRef.componentRef&&this._contentRef.componentRef.destroy(),this._componentRef.destroy(),this._viewContainerRef&&this._contentRef.viewRef&&this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._contentRef.viewRef)),this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._contentRef=null,this._componentRef=null,this._removeGlobalListener(),this.onHidden.emit(),this},t.prototype.toggle=function(){this.isShown?this.hide():this.show()},t.prototype.dispose=function(){this.isShown&&this.hide(),this._unsubscribePositioning(),this._unregisterListenersFn&&this._unregisterListenersFn()},t.prototype.listen=function(e){var n=this;this.triggers=e.triggers||this.triggers,this._listenOpts.outsideClick=e.outsideClick,e.target=e.target||this._elementRef.nativeElement;var i=this._listenOpts.hide=function(){return e.hide?e.hide():void n.hide()},o=this._listenOpts.show=function(t){e.show?e.show(t):n.show(t),t()};return this._unregisterListenersFn=function c(i,o){var t=tt(o.triggers),r=o.target;if(1===t.length&&t[0].isManual())return Function.prototype;var s=[],a=[],p=function(){a.forEach(function(t){return s.push(t())}),a.length=0};return t.forEach(function(t){var e=t.open===t.close,n=e?o.toggle:o.show;e||a.push(function(){return i.listen(r,t.close,o.hide)}),s.push(i.listen(r,t.open,function(){return n(p)}))}),function(){s.forEach(function(t){return t()})}}(this._renderer,{target:e.target,triggers:e.triggers,show:o,hide:i,toggle:function(t){n.isShown?i():o(t)}}),this},t.prototype._removeGlobalListener=function(){this._globalListener&&(this._globalListener(),this._globalListener=null)},t.prototype.attachInline=function(t,e){return this._inlineViewRef=t.createEmbeddedView(e),this},t.prototype._registerOutsideClick=function(){var t=this;if(this._componentRef&&this._componentRef.location&&this._listenOpts.outsideClick){var n=this._componentRef.location.nativeElement;setTimeout(function(){t._globalListener=function e(t,n){return n.outsideClick?t.listen("document","click",function(e){n.target&&n.target.contains(e.target)||n.targets&&n.targets.some(function(t){return t.contains(e.target)})||n.hide()}):Function.prototype}(t._renderer,{targets:[n,t._elementRef.nativeElement],outsideClick:t._listenOpts.outsideClick,hide:function(){return t._listenOpts.hide()}})})}},t.prototype.getInnerComponent=function(){return this._innerComponent},t.prototype._subscribePositioning=function(){var t=this;!this._zoneSubscription&&this.attachment&&(this._zoneSubscription=this._ngZone.onStable.subscribe(function(){t._componentRef&&t._posService.position({element:t._componentRef.location,target:t._elementRef,attachment:t.attachment,appendToBody:"body"===t.container})}))},t.prototype._unsubscribePositioning=function(){this._zoneSubscription&&(this._zoneSubscription.unsubscribe(),this._zoneSubscription=null)},t.prototype._getContentRef=function(t,e,n){if(!t)return new et([]);if(t instanceof C.TemplateRef){if(this._viewContainerRef){var i=this._viewContainerRef.createEmbeddedView(t,e);return i.markForCheck(),new et([i.rootNodes],i)}var o=t.createEmbeddedView({});return this._applicationRef.attachView(o),new et([o.rootNodes],o)}if("function"!=typeof t)return t instanceof C.ComponentRef?(Object.assign(t.instance,n),this._applicationRef.attachView(t.hostView),new et([[t.location.nativeElement]],t.hostView,t)):new et([[this._renderer.createText(""+t)]]);var r=this._componentFactoryResolver.resolveComponentFactory(t),s=C.ReflectiveInjector.resolveAndCreate(R(this._providers),this._injector),a=r.create(s);return Object.assign(a.instance,n),this._applicationRef.attachView(a.hostView),new et([[a.location.nativeElement]],a.hostView,a)},t}(),it=function(){function t(){}return t.prototype.position=function(t,e){var n;void 0===e&&(e=!0);var i={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getStyle(t,"position")){var o=t.getBoundingClientRect();n={width:o.width,height:o.height,top:o.top,bottom:o.bottom,left:o.left,right:o.right}}else{var r=this.offsetParent(t);n=this.offset(t,!1),r!==document.documentElement&&(i=this.offset(r,!1)),i.top+=r.clientTop,i.left+=r.clientLeft}return n.top-=i.top,n.bottom-=i.top,n.left-=i.left,n.right-=i.left,e&&(n.top=Math.round(n.top),n.bottom=Math.round(n.bottom),n.left=Math.round(n.left),n.right=Math.round(n.right)),n},t.prototype.offset=function(t,e){void 0===e&&(e=!0);var n=t.getBoundingClientRect(),i=window.pageYOffset-document.documentElement.clientTop,o=window.pageXOffset-document.documentElement.clientLeft,r={height:n.height||t.offsetHeight,width:n.width||t.offsetWidth,top:n.top+i,bottom:n.bottom+i,left:n.left+o,right:n.right+o};return e&&(r.height=Math.round(r.height),r.width=Math.round(r.width),r.top=Math.round(r.top),r.bottom=Math.round(r.bottom),r.left=Math.round(r.left),r.right=Math.round(r.right)),r},t.prototype.positionElements=function(t,e,n,i){var o=i?this.offset(t,!1):this.position(t,!1),r=this.getAllStyles(e),s={left:o.left,center:o.left+o.width/2-e.offsetWidth/2,right:o.left+o.width},a={top:o.top,center:o.top+o.height/2-e.offsetHeight/2,bottom:o.top+o.height},p=e.getBoundingClientRect(),c=n.split(" ")[0]||"top",l=n.split(" ")[1]||"center",u={height:p.height||e.offsetHeight,width:p.width||e.offsetWidth,top:0,bottom:p.height||e.offsetHeight,left:0,right:p.width||e.offsetWidth};if("auto"===c){var d=this.autoPosition(u,o,e,l);d||(d=this.autoPosition(u,o,e)),d&&(c=d),e.classList.add(c)}switch(c){case"top":u.top=o.top-(e.offsetHeight+parseFloat(r.marginBottom)),u.bottom+=o.top-e.offsetHeight,u.left=s[l],u.right+=s[l];break;case"bottom":u.top=a[c],u.bottom+=a[c],u.left=s[l],u.right+=s[l];break;case"left":u.top=a[l],u.bottom+=a[l],u.left=o.left-(e.offsetWidth+parseFloat(r.marginRight)),u.right+=o.left-e.offsetWidth;break;case"right":u.top=a[l],u.bottom+=a[l],u.left=s[c],u.right+=s[c]}return u.top=Math.round(u.top),u.bottom=Math.round(u.bottom),u.left=Math.round(u.left),u.right=Math.round(u.right),u},t.prototype.autoPosition=function(t,e,n,i){return(!i||"right"===i)&&t.left+e.left-n.offsetWidth<0?"right":(!i||"top"===i)&&t.bottom+e.bottom+n.offsetHeight>window.innerHeight?"top":(!i||"bottom"===i)&&t.top+e.top-n.offsetHeight<0?"bottom":(!i||"left"===i)&&t.right+e.right+n.offsetWidth>window.innerWidth?"left":null},t.prototype.getAllStyles=function(t){return window.getComputedStyle(t)},t.prototype.getStyle=function(t,e){return this.getAllStyles(t)[e]},t.prototype.isStaticPositioned=function(t){return"static"===(this.getStyle(t,"position")||"static")},t.prototype.offsetParent=function(t){for(var e=t.offsetParent||document.documentElement;e&&e!==document.documentElement&&this.isStaticPositioned(e);)e=e.offsetParent;return e||document.documentElement},t}(),ot=new it;function rt(t,e,n,i){var o=ot.positionElements(t,e,n,i);e.style.top=o.top+"px",e.style.left=o.left+"px"}var st=function(){function t(){}return t.prototype.position=function(t){var e=t.element,n=t.target,i=t.attachment,o=t.appendToBody;rt(at(n),at(e),i,o)},t.decorators=[{type:C.Injectable,args:[{providedIn:"root"}]}],t.ngInjectableDef=C.defineInjectable({factory:function(){return new t},token:t,providedIn:"root"}),t}();function at(t){return"string"==typeof t?document.querySelector(t):t instanceof C.ElementRef?t.nativeElement:t}var pt=function(){function t(t,e,n,i,o){this._componentFactoryResolver=t,this._ngZone=e,this._injector=n,this._posService=i,this._applicationRef=o}return t.prototype.createLoader=function(t,e,n){return new nt(e,n,t,this._injector,this._componentFactoryResolver,this._ngZone,this._applicationRef,this._posService)},t.decorators=[{type:C.Injectable,args:[{providedIn:"root"}]}],t.ctorParameters=function(){return[{type:C.ComponentFactoryResolver},{type:C.NgZone},{type:C.Injector},{type:st},{type:C.ApplicationRef}]},t.ngInjectableDef=C.defineInjectable({factory:function(){return new t(C.inject(C.ComponentFactoryResolver),C.inject(C.NgZone),C.inject(C.INJECTOR),C.inject(st),C.inject(C.ApplicationRef))},token:t,providedIn:"root"}),t}(),ct={},lt="undefined"==typeof console||!("warn"in console);function ut(t){!C.isDevMode()||lt||t in ct||(ct[t]=!0,console.warn(t))}var dt=function(){function t(t,e,n,i,o){this._renderer=e,this._elementRef=n,this.tooltipChange=new C.EventEmitter,this.containerClass="",this._animation=!0,this._fadeDuration=150,this.tooltipStateChanged=new C.EventEmitter,this._tooltip=i.createLoader(this._elementRef,t,this._renderer).provide({provide:j,useValue:o}),Object.assign(this,o),this.onShown=this._tooltip.onShown,this.onHidden=this._tooltip.onHidden}return Object.defineProperty(t.prototype,"isOpen",{get:function(){return this._tooltip.isShown},set:function(t){t?this.show():this.hide()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"htmlContent",{set:function(t){ut("tooltipHtml was deprecated, please use `tooltip` instead"),this.tooltip=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_placement",{set:function(t){ut("tooltipPlacement was deprecated, please use `placement` instead"),this.placement=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_isOpen",{get:function(){return ut("tooltipIsOpen was deprecated, please use `isOpen` instead"),this.isOpen},set:function(t){ut("tooltipIsOpen was deprecated, please use `isOpen` instead"),this.isOpen=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_enable",{get:function(){return ut("tooltipEnable was deprecated, please use `isDisabled` instead"),this.isDisabled},set:function(t){ut("tooltipEnable was deprecated, please use `isDisabled` instead"),this.isDisabled=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_appendToBody",{get:function(){return ut('tooltipAppendToBody was deprecated, please use `container="body"` instead'),"body"===this.container},set:function(t){ut('tooltipAppendToBody was deprecated, please use `container="body"` instead'),this.container=t?"body":this.container},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_popupClass",{set:function(t){ut("tooltipClass deprecated")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_tooltipContext",{set:function(t){ut("tooltipContext deprecated")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_tooltipPopupDelay",{set:function(t){ut("tooltipPopupDelay is deprecated, use `delay` instead"),this.delay=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_tooltipTrigger",{get:function(){return ut("tooltipTrigger was deprecated, please use `triggers` instead"),this.triggers},set:function(t){ut("tooltipTrigger was deprecated, please use `triggers` instead"),this.triggers=(t||"").toString()},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){var e=this;this._tooltip.listen({triggers:this.triggers,show:function(){return e.show()}}),this.tooltipChange.subscribe(function(t){t||e._tooltip.hide()})},t.prototype.toggle=function(){if(this.isOpen)return this.hide();this.show()},t.prototype.show=function(){var t=this;if(!(this.isOpen||this.isDisabled||this._delayTimeoutId)&&this.tooltip){var e=function(){t._delayTimeoutId&&(t._delayTimeoutId=undefined),t._tooltip.attach(J).to(t.container).position({attachment:t.placement}).show({content:t.tooltip,placement:t.placement,containerClass:t.containerClass})},n=function(){t._tooltipCancelShowFn&&t._tooltipCancelShowFn()};if(this.delay){var i=b.timer(this.delay).subscribe(function(){e(),n()});if(this.triggers){var o=tt(this.triggers);this._tooltipCancelShowFn=this._renderer.listen(this._elementRef.nativeElement,o[0].close,function(){i.unsubscribe(),n()})}}else e()}},t.prototype.hide=function(){var t=this;this._delayTimeoutId&&(clearTimeout(this._delayTimeoutId),this._delayTimeoutId=undefined),this._tooltip.isShown&&(this._tooltip.instance.classMap["in"]=!1,setTimeout(function(){t._tooltip.hide()},this._fadeDuration))},t.prototype.ngOnDestroy=function(){this._tooltip.dispose()},t.decorators=[{type:C.Directive,args:[{selector:"[tooltip], [tooltipHtml]",exportAs:"bs-tooltip"}]}],t.ctorParameters=function(){return[{type:C.ViewContainerRef},{type:C.Renderer2},{type:C.ElementRef},{type:pt},{type:j}]},t.propDecorators={tooltip:[{type:C.Input}],tooltipChange:[{type:C.Output}],placement:[{type:C.Input}],triggers:[{type:C.Input}],container:[{type:C.Input}],isOpen:[{type:C.Input}],isDisabled:[{type:C.Input}],containerClass:[{type:C.Input}],delay:[{type:C.Input}],onShown:[{type:C.Output}],onHidden:[{type:C.Output}],htmlContent:[{type:C.Input,args:["tooltipHtml"]}],_placement:[{type:C.Input,args:["tooltipPlacement"]}],_isOpen:[{type:C.Input,args:["tooltipIsOpen"]}],_enable:[{type:C.Input,args:["tooltipEnable"]}],_appendToBody:[{type:C.Input,args:["tooltipAppendToBody"]}],_animation:[{type:C.Input,args:["tooltipAnimation"]}],_popupClass:[{type:C.Input,args:["tooltipClass"]}],_tooltipContext:[{type:C.Input,args:["tooltipContext"]}],_tooltipPopupDelay:[{type:C.Input,args:["tooltipPopupDelay"]}],_fadeDuration:[{type:C.Input,args:["tooltipFadeDuration"]}],_tooltipTrigger:[{type:C.Input,args:["tooltipTrigger"]}],tooltipStateChanged:[{type:C.Output}]},S([A(),D("design:type",Object)],t.prototype,"tooltip",void 0),t}(),ht=function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:[j,pt,st]}},t.decorators=[{type:C.NgModule,args:[{imports:[g.CommonModule],declarations:[dt,J],exports:[dt],entryComponents:[J]}]}],t}(),ft=function(){function t(){this.hide=Function}return t.decorators=[{type:C.Injectable}],t}(),mt=function di(t){this.animate=!0,Object.assign(this,t)},yt=function(){function t(){}return t.decorators=[{type:C.Injectable}],t}(),gt={backdrop:!0,keyboard:!0,focus:!0,show:!1,ignoreBackdropClick:!1,"class":"",animated:!0,initialState:{}},vt={SCROLLBAR_MEASURER:"modal-scrollbar-measure",BACKDROP:"modal-backdrop",OPEN:"modal-open",FADE:"fade",IN:"in",SHOW:"show"},bt=300,Ct=150,wt="backdrop-click",It="esc",xt=function(){function t(t,e,n){this._element=e,this._renderer=n,this.isShown=!1,this.isModalHiding=!1,this.config=Object.assign({},t)}return t.prototype.ngOnInit=function(){var t=this;this.isAnimated&&this._renderer.addClass(this._element.nativeElement,vt.FADE),this._renderer.setStyle(this._element.nativeElement,"display","block"),setTimeout(function(){t.isShown=!0,t._renderer.addClass(t._element.nativeElement,G()?vt.IN:vt.SHOW)},this.isAnimated?Ct:0),document&&document.body&&(1===this.bsModalService.getModalsCount()&&(this.bsModalService.checkScrollbar(),this.bsModalService.setScrollbar()),this._renderer.addClass(document.body,vt.OPEN)),this._element.nativeElement&&this._element.nativeElement.focus()},t.prototype.onClick=function(t){this.config.ignoreBackdropClick||"static"===this.config.backdrop||t.target!==this._element.nativeElement||(this.bsModalService.setDismissReason(wt),this.hide())},t.prototype.onEsc=function(t){this.isShown&&(27===t.keyCode&&t.preventDefault(),this.config.keyboard&&this.level===this.bsModalService.getModalsCount()&&(this.bsModalService.setDismissReason(It),this.hide()))},t.prototype.ngOnDestroy=function(){this.isShown&&this.hide()},t.prototype.hide=function(){var t=this;!this.isModalHiding&&this.isShown&&(this.isModalHiding=!0,this._renderer.removeClass(this._element.nativeElement,G()?vt.IN:vt.SHOW),setTimeout(function(){t.isShown=!1,document&&document.body&&1===t.bsModalService.getModalsCount()&&t._renderer.removeClass(document.body,vt.OPEN),t.bsModalService.hide(t.level),t.isModalHiding=!1},this.isAnimated?bt:0))},t.decorators=[{type:C.Component,args:[{selector:"modal-container",template:"\n    <div [class]=\"'modal-dialog' + (config.class ? ' ' + config.class : '')\" role=\"document\">\n      <div class=\"modal-content\">\n        <ng-content></ng-content>\n      </div>\n    </div>\n  ",host:{"class":"modal",role:"dialog",tabindex:"-1","[attr.aria-modal]":"true"}}]}],t.ctorParameters=function(){return[{type:yt},{type:C.ElementRef},{type:C.Renderer2}]},t.propDecorators={onClick:[{type:C.HostListener,args:["click",["$event"]]}],onEsc:[{type:C.HostListener,args:["window:keydown.esc",["$event"]]}]},t}(),Pt=function(){function t(){}return t.reflow=function(t){t.offsetHeight},t.getStyles=function(t){var e=t.ownerDocument.defaultView;return e&&e.opener||(e=B),e.getComputedStyle(t)},t}(),_t=function(){function t(t,e){this._isShown=!1,this.element=t,this.renderer=e}return Object.defineProperty(t.prototype,"isAnimated",{get:function(){return this._isAnimated},set:function(t){this._isAnimated=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isShown",{get:function(){return this._isShown},set:function(t){(this._isShown=t)?this.renderer.addClass(this.element.nativeElement,""+vt.IN):this.renderer.removeClass(this.element.nativeElement,""+vt.IN),G()||(t?this.renderer.addClass(this.element.nativeElement,""+vt.SHOW):this.renderer.removeClass(this.element.nativeElement,""+vt.SHOW))},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){this.isAnimated&&(this.renderer.addClass(this.element.nativeElement,""+vt.FADE),Pt.reflow(this.element.nativeElement)),this.isShown=!0},t.decorators=[{type:C.Component,args:[{selector:"bs-modal-backdrop",template:" ",host:{"class":vt.BACKDROP}}]}],t.ctorParameters=function(){return[{type:C.ElementRef},{type:C.Renderer2}]},t}(),St=function(){function t(t,e,n,i){this._element=t,this._renderer=n,this.onShow=new C.EventEmitter,this.onShown=new C.EventEmitter,this.onHide=new C.EventEmitter,this.onHidden=new C.EventEmitter,this._isShown=!1,this.isBodyOverflowing=!1,this.originalBodyPadding=0,this.scrollbarWidth=0,this.timerHideModal=0,this.timerRmBackDrop=0,this.isNested=!1,this._backdrop=i.createLoader(t,e,n)}return Object.defineProperty(t.prototype,"config",{get:function(){return this._config},set:function(t){this._config=this.getConfig(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isShown",{get:function(){return this._isShown},enumerable:!0,configurable:!0}),t.prototype.onClick=function(t){this.config.ignoreBackdropClick||"static"===this.config.backdrop||t.target!==this._element.nativeElement||(this.dismissReason=wt,this.hide(t))},t.prototype.onEsc=function(t){this._isShown&&(27===t.keyCode&&t.preventDefault(),this.config.keyboard&&(this.dismissReason=It,this.hide()))},t.prototype.ngOnDestroy=function(){this.config=void 0,this._isShown&&(this._isShown=!1,this.hideModal(),this._backdrop.dispose())},t.prototype.ngOnInit=function(){var t=this;this._config=this._config||this.getConfig(),setTimeout(function(){t._config.show&&t.show()},0)},t.prototype.toggle=function(){return this._isShown?this.hide():this.show()},t.prototype.show=function(){var t=this;this.dismissReason=null,this.onShow.emit(this),this._isShown||(clearTimeout(this.timerHideModal),clearTimeout(this.timerRmBackDrop),this._isShown=!0,this.checkScrollbar(),this.setScrollbar(),L&&L.body&&(L.body.classList.contains(vt.OPEN)?this.isNested=!0:this._renderer.addClass(L.body,vt.OPEN)),this.showBackdrop(function(){t.showElement()}))},t.prototype.hide=function(t){var e=this;t&&t.preventDefault(),this.onHide.emit(this),this._isShown&&(clearTimeout(this.timerHideModal),clearTimeout(this.timerRmBackDrop),this._isShown=!1,this._renderer.removeClass(this._element.nativeElement,vt.IN),G()||this._renderer.removeClass(this._element.nativeElement,vt.SHOW),this._config.animated?this.timerHideModal=setTimeout(function(){return e.hideModal()},300):this.hideModal())},t.prototype.getConfig=function(t){return Object.assign({},gt,t)},t.prototype.showElement=function(){var t=this;this._element.nativeElement.parentNode&&this._element.nativeElement.parentNode.nodeType===Node.ELEMENT_NODE||L&&L.body&&L.body.appendChild(this._element.nativeElement),this._renderer.setAttribute(this._element.nativeElement,"aria-hidden","false"),this._renderer.setAttribute(this._element.nativeElement,"aria-modal","true"),this._renderer.setStyle(this._element.nativeElement,"display","block"),this._renderer.setProperty(this._element.nativeElement,"scrollTop",0),this._config.animated&&Pt.reflow(this._element.nativeElement),this._renderer.addClass(this._element.nativeElement,vt.IN),G()||this._renderer.addClass(this._element.nativeElement,vt.SHOW);var e=function(){t._config.focus&&t._element.nativeElement.focus(),t.onShown.emit(t)};this._config.animated?setTimeout(e,300):e()},t.prototype.hideModal=function(){var t=this;this._renderer.setAttribute(this._element.nativeElement,"aria-hidden","true"),this._renderer.setStyle(this._element.nativeElement,"display","none"),this.showBackdrop(function(){t.isNested||(L&&L.body&&t._renderer.removeClass(L.body,vt.OPEN),t.resetScrollbar()),t.resetAdjustments(),t.focusOtherModal(),t.onHidden.emit(t)})},t.prototype.showBackdrop=function(t){var e=this;if(!this._isShown||!this.config.backdrop||this.backdrop&&this.backdrop.instance.isShown)if(!this._isShown&&this.backdrop){this.backdrop.instance.isShown=!1;var n=function(){e.removeBackdrop(),t&&t()};this.backdrop.instance.isAnimated?this.timerRmBackDrop=setTimeout(n,150):n()}else t&&t();else{if(this.removeBackdrop(),this._backdrop.attach(_t).to("body").show({isAnimated:this._config.animated}),this.backdrop=this._backdrop._componentRef,!t)return;if(!this._config.animated)return void t();setTimeout(t,150)}},t.prototype.removeBackdrop=function(){this._backdrop.hide()},t.prototype.focusOtherModal=function(){if(null!=this._element.nativeElement.parentElement){var t=this._element.nativeElement.parentElement.querySelectorAll(".in[bsModal]");t.length&&t[t.length-1].focus()}},t.prototype.resetAdjustments=function(){this._renderer.setStyle(this._element.nativeElement,"paddingLeft",""),this._renderer.setStyle(this._element.nativeElement,"paddingRight","")},t.prototype.checkScrollbar=function(){this.isBodyOverflowing=L.body.clientWidth<B.innerWidth,this.scrollbarWidth=this.getScrollbarWidth()},t.prototype.setScrollbar=function(){L&&(this.originalBodyPadding=parseInt(B.getComputedStyle(L.body).getPropertyValue("padding-right")||0,10),this.isBodyOverflowing&&(L.body.style.paddingRight=this.originalBodyPadding+this.scrollbarWidth+"px"))},t.prototype.resetScrollbar=function(){L.body.style.paddingRight=this.originalBodyPadding+"px"},t.prototype.getScrollbarWidth=function(){var t=this._renderer.createElement("div");this._renderer.addClass(t,vt.SCROLLBAR_MEASURER),this._renderer.appendChild(L.body,t);var e=t.offsetWidth-t.clientWidth;return this._renderer.removeChild(L.body,t),e},t.decorators=[{type:C.Directive,args:[{selector:"[bsModal]",exportAs:"bs-modal"}]}],t.ctorParameters=function(){return[{type:C.ElementRef},{type:C.ViewContainerRef},{type:C.Renderer2},{type:pt}]},t.propDecorators={config:[{type:C.Input}],onShow:[{type:C.Output}],onShown:[{type:C.Output}],onHide:[{type:C.Output}],onHidden:[{type:C.Output}],onClick:[{type:C.HostListener,args:["click",["$event"]]}],onEsc:[{type:C.HostListener,args:["keydown.esc",["$event"]]}]},t}(),Dt=function(){function t(t,e){this.clf=e,this.config=gt,this.onShow=new C.EventEmitter,this.onShown=new C.EventEmitter,this.onHide=new C.EventEmitter,this.onHidden=new C.EventEmitter,this.isBodyOverflowing=!1,this.originalBodyPadding=0,this.scrollbarWidth=0,this.modalsCount=0,this.lastDismissReason="",this.loaders=[],this._backdropLoader=this.clf.createLoader(null,null,null),this._renderer=t.createRenderer(null,null)}return t.prototype.show=function(t,e){return this.modalsCount++,this._createLoaders(),this.config=Object.assign({},gt,e),this._showBackdrop(),this.lastDismissReason=null,this._showModal(t)},t.prototype.hide=function(t){var e=this;1===this.modalsCount&&(this._hideBackdrop(),this.resetScrollbar()),this.modalsCount=1<=this.modalsCount?this.modalsCount-1:0,setTimeout(function(){e._hideModal(t),e.removeLoaders(t)},this.config.animated?Ct:0)},t.prototype._showBackdrop=function(){var t=this.config.backdrop||"static"===this.config.backdrop,e=!this.backdropRef||!this.backdropRef.instance.isShown;1===this.modalsCount&&(this.removeBackdrop(),t&&e&&(this._backdropLoader.attach(_t).to("body").show({isAnimated:this.config.animated}),this.backdropRef=this._backdropLoader._componentRef))},t.prototype._hideBackdrop=function(){var t=this;if(this.backdropRef){this.backdropRef.instance.isShown=!1;var e=this.config.animated?Ct:0;setTimeout(function(){return t.removeBackdrop()},e)}},t.prototype._showModal=function(t){var e=this.loaders[this.loaders.length-1],n=new ft,i=e.provide({provide:yt,useValue:this.config}).provide({provide:ft,useValue:n}).attach(xt).to("body").show({content:t,isAnimated:this.config.animated,initialState:this.config.initialState,bsModalService:this});return i.instance.level=this.getModalsCount(),n.hide=function(){i.instance.hide()},n.content=e.getInnerComponent()||null,n},t.prototype._hideModal=function(t){var e=this.loaders[t-1];e&&e.hide()},t.prototype.getModalsCount=function(){return this.modalsCount},t.prototype.setDismissReason=function(t){this.lastDismissReason=t},t.prototype.removeBackdrop=function(){this._backdropLoader.hide(),this.backdropRef=null},t.prototype.checkScrollbar=function(){this.isBodyOverflowing=document.body.clientWidth<window.innerWidth,this.scrollbarWidth=this.getScrollbarWidth()},t.prototype.setScrollbar=function(){document&&(this.originalBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")||"0",10),this.isBodyOverflowing&&(document.body.style.paddingRight=this.originalBodyPadding+this.scrollbarWidth+"px"))},t.prototype.resetScrollbar=function(){document.body.style.paddingRight=this.originalBodyPadding+"px"},t.prototype.getScrollbarWidth=function(){var t=this._renderer.createElement("div");this._renderer.addClass(t,vt.SCROLLBAR_MEASURER),this._renderer.appendChild(document.body,t);var e=t.offsetWidth-t.clientWidth;return this._renderer.removeChild(document.body,t),e},t.prototype._createLoaders=function(){var t=this.clf.createLoader(null,null,null);this.copyEvent(t.onBeforeShow,this.onShow),this.copyEvent(t.onShown,this.onShown),this.copyEvent(t.onBeforeHide,this.onHide),this.copyEvent(t.onHidden,this.onHidden),this.loaders.push(t)},t.prototype.removeLoaders=function(t){this.loaders.splice(t-1,1),this.loaders.forEach(function(t,e){t.instance.level=e+1})},t.prototype.copyEvent=function(t,e){var n=this;t.subscribe(function(){e.emit(n.lastDismissReason)})},t.decorators=[{type:C.Injectable}],t.ctorParameters=function(){return[{type:C.RendererFactory2},{type:pt}]},t}(),Et=function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:[Dt,pt,st]}},t.decorators=[{type:C.NgModule,args:[{declarations:[_t,St,xt],exports:[_t,St],entryComponents:[_t,xt]}]}],t}(),Ot=function(){function t(){this.dropdownInstances=[],this.menuItems=[],this.subscriptions=[],this.onItemClick=new C.EventEmitter}return t.prototype.addDropdown=function(e){var n=this;this.dropdownInstances.find(function(t){return t===e})||(this.dropdownInstances.push(e),this.subscribeDropdown(e),e.onShown.subscribe(function(){return setTimeout(function(){e.childDropdowns.forEach(function(t){return n.addDropdown(t)})})}))},t.prototype.addMenuItem=function(e){this.menuItems.find(function(t){return t===e})||(this.menuItems.push(e),this.subscribeMenuItem(e))},t.prototype.subscribeDropdown=function(e){var n=this;this.subscriptions.push(e.state.onClick.subscribe(function(t){1===e.level?e.isOpen&&n.level1Dropdown===e?n.innerHideL1Dropdown():n.innerShowL1Dropdown(e):2===e.level&&(e.isOpen&&n.level2Dropdown===e||n.innerShowL2Dropdown(e)),t.stopPropagation()})),this.subscriptions.push(e.state.onHover.subscribe(function(){n.level1Dropdown&&n.show(e)}))},t.prototype.subscribeMenuItem=function(t){var e=this;this.subscriptions.push(t.onHover.subscribe(function(){e.level1Dropdown&&e.level1Dropdown.containsItem(t)&&e.innerHideL2Dropdown()})),this.subscriptions.push(t.onClick.subscribe(function(t){e.onItemClick.emit(t)}))},t.prototype.ngOnDestroy=function(){this.subscriptions.forEach(function(t){t.unsubscribe()})},t.prototype.hideCurrentDropdown=function(){this.level2Dropdown?this.innerHideL2Dropdown():this.innerHideL1Dropdown()},t.prototype.hideAllDropdown=function(){this.innerHideL2Dropdown(),this.innerHideL1Dropdown()},t.prototype.show=function(t){1===t.level?(t!==this.level1Dropdown&&this.innerShowL1Dropdown(t),this.innerHideL2Dropdown()):2===t.level&&t!==this.level2Dropdown&&this.innerShowL2Dropdown(t)},t.prototype.hide=function(t){},t.prototype.innerShowL1Dropdown=function(t){this.level1Dropdown&&this.level1Dropdown.hide(),t.show(),this.level1Dropdown=t},t.prototype.innerHideL1Dropdown=function(){this.level1Dropdown&&(this.level1Dropdown.hide(),this.level1Dropdown=null)},t.prototype.innerShowL2Dropdown=function(t){this.level2Dropdown&&this.level2Dropdown.hide(),t.show(),this.level2Dropdown=t},t.prototype.innerHideL2Dropdown=function(){this.level2Dropdown&&(this.level2Dropdown.hide(),this.level2Dropdown=null)},t.decorators=[{type:C.Injectable}],t.ctorParameters=function(){return[]},t}(),kt=function(){function t(){this.autoClose=!0}return t.decorators=[{type:C.Injectable}],t}(),Rt=function(){function t(){var e=this;this.direction="down",this.isOpenChange=new C.EventEmitter,this.isDisabledChange=new C.EventEmitter,this.toggleClick=new C.EventEmitter,this.onHover=new C.EventEmitter,this.onClick=new C.EventEmitter,this.dropdownMenu=new Promise(function(t){e.resolveDropdownMenu=t})}return t.decorators=[{type:C.Injectable}],t.ctorParameters=function(){return[]},t}();function Mt(){return"bs4"===B.__theme}var At,Nt=function(){function t(t,e,n,i){var o=this;this._state=t,this.cd=e,this._renderer=n,this.isOpen=!1,this.display="block",this.position="absolute",this._subscription=t.isOpenChange.subscribe(function(t){o.isOpen=t;var e=i.nativeElement.querySelector(".dropdown-menu");e&&!Mt()&&(o._renderer.addClass(e,"show"),e.classList.contains("dropdown-menu-right")&&(o._renderer.setStyle(e,"left","auto"),o._renderer.setStyle(e,"right","0")),"up"===o.direction&&(o._renderer.setStyle(e,"top","auto"),o._renderer.setStyle(e,"transform","translateY(-101%)")))})}return Object.defineProperty(t.prototype,"direction",{get:function(){return this._state.direction},enumerable:!0,configurable:!0}),t.prototype.ngOnDestroy=function(){this._subscription.unsubscribe()},t.decorators=[{type:C.Component,args:[{selector:"mdb-dropdown-container",changeDetection:C.ChangeDetectionStrategy.OnPush,template:'\n  <div [class.dropup]="direction === \'up\'"\n  [class.dropdown]="direction === \'down\'"\n  [class.show]="isOpen"\n  [class.open]="isOpen">\n    <ng-content></ng-content>\n  </div>\n  '}]}],t.ctorParameters=function(){return[{type:Rt},{type:C.ChangeDetectorRef},{type:C.Renderer2},{type:C.ElementRef}]},t.propDecorators={display:[{type:C.HostBinding,args:["style.display"]}],position:[{type:C.HostBinding,args:["style.position"]}]},t}(),Tt=function(){function t(t,e,n,i,o,r){this._elementRef=t,this._renderer=e,this._viewContainerRef=n,this._cis=i,this._config=o,this._state=r,this._isInlineOpen=!1,this._subscriptions=[],this._isInited=!1,this._state.autoClose=this._config.autoClose,this._dropdown=this._cis.createLoader(this._elementRef,this._viewContainerRef,this._renderer).provide({provide:Rt,useValue:this._state}),this.onShown=this._dropdown.onShown,this.onHidden=this._dropdown.onHidden,this.isOpenChange=this._state.isOpenChange}return Object.defineProperty(t.prototype,"autoClose",{get:function(){return this._state.autoClose},set:function(t){this._state.autoClose=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isDisabled",{get:function(){return this._isDisabled},set:function(t){this._isDisabled=t,this._state.isDisabledChange.emit(t),t&&this.hide()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isOpen",{get:function(){return this._showInline?this._isInlineOpen:this._dropdown.isShown},set:function(t){t?this.show():this.hide()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this._state},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"level",{get:function(){return this._level||1},set:function(t){this._level=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"elementRef",{get:function(){return this._elementRef},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isBs4",{get:function(){return!Mt()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_showInline",{get:function(){return!this.container},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){var e=this;this._isInited||(this._isInited=!0,this._dropdown.listen({outsideClick:!1,triggers:this.triggers,show:function(){return e.show()},toggle:function(t){return e.toggle(t)}}),this._subscriptions.push(this._state.toggleClick.subscribe(function(t){return e.toggle(t)})),this._subscriptions.push(this._state.isDisabledChange.pipe(I.filter(function(t){return t})).subscribe(function(t){return e.hide()})))},t.prototype.show=function(){var i=this;if(!this.isOpen&&!this.isDisabled)return this._showInline?(this._inlinedMenu||this._state.dropdownMenu.then(function(t){i.placement;i._dropdown.attachInline(t.viewContainer,t.templateRef),i._inlinedMenu=i._dropdown._inlineViewRef,i.addBs4Polyfills()})["catch"](),this.addBs4Polyfills(),this._isInlineOpen=!0,this.onShown.emit(!0),void this._state.isOpenChange.emit(!0)):void this._state.dropdownMenu.then(function(t){var e=i.dropup||"undefined"!=typeof i.dropup&&i.dropup;i._state.direction=e?"up":"down";var n=i.placement||(e?"top left":"bottom left");i._dropdown.attach(Nt).to(i.container).position({attachment:n}).show({content:t.templateRef,placement:n}),i._state.isOpenChange.emit(!0)})["catch"]()},t.prototype.hide=function(){this.isOpen&&(this._showInline?(this.removeShowClass(),this.removeDropupStyles(),this._isInlineOpen=!1,this.onHidden.emit(!0)):this._dropdown.hide(),this._state.isOpenChange.emit(!1))},t.prototype.toggle=function(t){return this.isOpen||!t?this.hide():this.show()},t.prototype.containsItem=function(t){return this._elementRef.nativeElement.contains(t.elementRef.nativeElement)},t.prototype.ngOnDestroy=function(){var t,e;try{for(var n=O(this._subscriptions),i=n.next();!i.done;i=n.next()){i.value.unsubscribe()}}catch(o){t={error:o}}finally{try{i&&!i.done&&(e=n["return"])&&e.call(n)}finally{if(t)throw t.error}}this._dropdown.dispose()},t.prototype.addBs4Polyfills=function(){Mt()||(this.addShowClass(),this.checkRightAlignment(),this.addDropupStyles())},t.prototype.addShowClass=function(){this._inlinedMenu&&this._inlinedMenu.rootNodes[0]&&this._renderer.addClass(this._inlinedMenu.rootNodes[0],"show")},t.prototype.removeShowClass=function(){this._inlinedMenu&&this._inlinedMenu.rootNodes[0]&&this._renderer.removeClass(this._inlinedMenu.rootNodes[0],"show")},t.prototype.checkRightAlignment=function(){if(this._inlinedMenu&&this._inlinedMenu.rootNodes[0]){var t=this._inlinedMenu.rootNodes[0].classList.contains("dropdown-menu-right");this._renderer.setStyle(this._inlinedMenu.rootNodes[0],"left",t?"auto":"0"),this._renderer.setStyle(this._inlinedMenu.rootNodes[0],"right",t?"0":"auto")}},t.prototype.addDropupStyles=function(){this._inlinedMenu&&this._inlinedMenu.rootNodes[0]&&(this._renderer.setStyle(this._inlinedMenu.rootNodes[0],"top",this.dropup?"auto":"100%"),this._renderer.setStyle(this._inlinedMenu.rootNodes[0],"transform",this.dropup?"translateY(-101%)":"translateY(0)"))},t.prototype.removeDropupStyles=function(){this._inlinedMenu&&this._inlinedMenu.rootNodes[0]&&(this._renderer.removeStyle(this._inlinedMenu.rootNodes[0],"top"),this._renderer.removeStyle(this._inlinedMenu.rootNodes[0],"transform"))},t.decorators=[{type:C.Directive,args:[{selector:"[mdbDropdown],[dropdown]",exportAs:"bs-dropdown",providers:[Rt],host:{"[class.dropup]":"dropup","[class.open]":"isOpen","[class.show]":"isOpen && isBs4"}}]}],t.ctorParameters=function(){return[{type:C.ElementRef},{type:C.Renderer2},{type:C.ViewContainerRef},{type:pt},{type:kt},{type:Rt}]},t.propDecorators={placement:[{type:C.Input}],triggers:[{type:C.Input}],container:[{type:C.Input}],dropup:[{type:C.Input}],autoClose:[{type:C.Input}],isDisabled:[{type:C.Input}],isOpen:[{type:C.Input}],level:[{type:C.Input,args:["dropdown"]}],isOpenChange:[{type:C.Output}],onShown:[{type:C.Output}],onHidden:[{type:C.Output}],childDropdowns:[{type:C.ContentChildren,args:[t]}]},t}(),Ft=function(){function t(t,e,n){t.resolveDropdownMenu({templateRef:n,viewContainer:e})}return t.decorators=[{type:C.Directive,args:[{selector:"[mdbDropdownMenu],[dropdownMenu]",exportAs:"bs-dropdown-menu"}]}],t.ctorParameters=function(){return[{type:Rt},{type:C.ViewContainerRef},{type:C.TemplateRef}]},t}(),jt=function(){function t(t,e){var n=this;this._state=t,this._element=e,this.ariaHaspopup=!0,this.isDisabled=null,this._subscriptions=[],this._subscriptions.push(this._state.isOpenChange.subscribe(function(t){return n.isOpen=t})),this._subscriptions.push(this._state.isDisabledChange.subscribe(function(t){return n.isDisabled=t||null}))}return t.prototype.onClick=function(){this.isDisabled||this._state.toggleClick.emit(!0)},t.prototype.onDocumentClick=function(t){this._state.autoClose&&2!==t.button&&!this._element.nativeElement.contains(t.target)&&this._state.toggleClick.emit(!1)},t.prototype.onEsc=function(){this._state.autoClose&&this._state.toggleClick.emit(!1)},t.prototype.ngOnDestroy=function(){var t,e;try{for(var n=O(this._subscriptions),i=n.next();!i.done;i=n.next()){i.value.unsubscribe()}}catch(o){t={error:o}}finally{try{i&&!i.done&&(e=n["return"])&&e.call(n)}finally{if(t)throw t.error}}},t.decorators=[{type:C.Directive,args:[{selector:"[mdbDropdownToggle],[dropdownToggle]",exportAs:"bs-dropdown-toggle"}]}],t.ctorParameters=function(){return[{type:Rt},{type:C.ElementRef}]},t.propDecorators={ariaHaspopup:[{type:C.HostBinding,args:["attr.aria-haspopup"]}],isDisabled:[{type:C.HostBinding,args:["attr.disabled"]}],isOpen:[{type:C.HostBinding,args:["attr.aria-expanded"]}],onClick:[{type:C.HostListener,args:["click",[]]}],onDocumentClick:[{type:C.HostListener,args:["document:click",["$event"]]}],onEsc:[{type:C.HostListener,args:["keyup.esc"]}]},t}(),Bt=function(){function t(t,e){var n=this;this._state=t,this._element=e,this._subscriptions=[],this.isDisabled=null,this._subscriptions.push(this._state.isOpenChange.subscribe(function(t){return n.isOpen=t})),this._subscriptions.push(this._state.isDisabledChange.subscribe(function(t){return n.isDisabled=t||null}))}return t.prototype.onClick=function(t){this.isDisabled||this._state.onClick.emit(t)},t.prototype.onHover=function(){this.isDisabled||this._state.onHover.emit()},t.prototype.ngOnDestroy=function(){var t,e;try{for(var n=O(this._subscriptions),i=n.next();!i.done;i=n.next()){i.value.unsubscribe()}}catch(o){t={error:o}}finally{try{i&&!i.done&&(e=n["return"])&&e.call(n)}finally{if(t)throw t.error}}},t.decorators=[{type:C.Directive,args:[{selector:"[dropdownButton]"}]}],t.ctorParameters=function(){return[{type:Rt},{type:C.ElementRef}]},t.propDecorators={isDisabled:[{type:C.HostBinding,args:["class.disabled"]},{type:C.Input}],isOpen:[{type:C.HostBinding,args:["attr.aria-expanded"]}],onClick:[{type:C.HostListener,args:["click",["$event"]]}],onHover:[{type:C.HostListener,args:["mouseover"]}]},t}(),Lt=function(){function t(t,e){this._elementRef=t,this.barState=e,this.isDisabled=null,this.onHover=new C.EventEmitter,this.onClick=new C.EventEmitter,this.barState.addMenuItem(this)}return Object.defineProperty(t.prototype,"elementRef",{get:function(){return this._elementRef},enumerable:!0,configurable:!0}),t.prototype.onMouseOver=function(){this.onHover.emit()},t.prototype.onItemClick=function(){this.isDisabled||this.onClick.emit(this.command)},t.decorators=[{type:C.Directive,args:[{selector:"[dropdownItem]",exportAs:"dropdownItem"}]}],t.ctorParameters=function(){return[{type:C.ElementRef},{type:Ot}]},t.propDecorators={isDisabled:[{type:C.HostBinding,args:["class.disabled"]},{type:C.Input}],command:[{type:C.Input,args:["dropdownItem"]}],onMouseOver:[{type:C.HostListener,args:["mouseover"]}],onItemClick:[{type:C.HostListener,args:["click"]}]},t}(),Vt=function(){function e(){}return e.forRoot=function(t){return{ngModule:e,providers:[pt,st,Rt,{provide:kt,useValue:t||{autoClose:!0}}]}},e.decorators=[{type:C.NgModule,args:[{declarations:[Ft,jt,Nt,Tt,Bt,Lt],exports:[Ft,jt,Tt,Bt,Lt],entryComponents:[Nt]}]}],e}(),Ht=function(){function t(t,e,n){this._elementRef=t,this._config=e,this._state=n,this._state.autoClose=this._config.autoClose,this.onItemClick=this._state.onItemClick}return t.prototype.onDocumentClick=function(t){this._state.hideAllDropdown()},t.prototype.onEsc=function(){this._state.autoClose&&this._state.hideCurrentDropdown()},t.prototype.ngOnInit=function(){},t.prototype.ngAfterViewInit=function(){var e=this;this.childDropdowns.forEach(function(t){return e._state.addDropdown(t)})},t.decorators=[{type:C.Directive,args:[{selector:"[navbar]",exportAs:"navbar",providers:[Ot]}]}],t.ctorParameters=function(){return[{type:C.ElementRef},{type:kt},{type:Ot}]},t.propDecorators={childDropdowns:[{type:C.ContentChildren,args:[Tt]}],childDropdowns2:[{type:C.ViewChildren,args:[Tt]}],onDocumentClick:[{type:C.HostListener,args:["document:click",["$event"]]}],onEsc:[{type:C.HostListener,args:["keyup.esc"]}]},t}(),zt=function(){function t(){}return t.decorators=[{type:C.NgModule,args:[{declarations:[Ht],providers:[Ot],exports:[Ht]}]}],t}(),Wt={onToggle:"onToggle",onActiveChanged:"onActiveChanged",onActivate:"onActivate",onDeactivate:"onDeactivate",onFocus:"onFocus",onBlur:"onBlur",onDoubleClick:"onDoubleClick",onContextMenu:"onContextMenu",onInitialized:"onInitialized",onUpdateData:"onUpdateData",onMoveNode:"onMoveNode",onAddNode:"onAddNode",onRemoveNode:"onRemoveNode",onRightMenuClicked:"onRightMenuClicked"},Ut=function(){function o(t,e,n){void 0===e&&(e=null);var i=this;this.data=t,this.isVirtualRoot=!1,this._isActive=!1,this.changeDisplayField=new C.EventEmitter,Object.assign(this,t,{parent:e,treeModel:n}),this.treeModel=n,this.parent=e,this.level=this.parent?this.parent.level+1:0,this.isExpandedField&&(this.isExpanded=!0),this.childrenField=this.childrenField.map(function(t){return new o(t,i,n)}),this.parentNode=this.parent}return Object.defineProperty(o.prototype,"isExpanded",{get:function(){return this._isExpanded},set:function(t){this._isExpanded=t},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"isCollapsed",{get:function(){return!this._isExpanded},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"isActive",{get:function(){return this._isActive},set:function(t){this._isActive=t},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"options",{get:function(){return this.treeModel.options},enumerable:!0,configurable:!0}),o.prototype.fireEvent=function(t){this.treeModel.fireEvent(t)},Object.defineProperty(o.prototype,"idField",{get:function(){return this[this.options.idField]},set:function(t){this[this.options.idField]=t},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"childrenField",{get:function(){return this[this.options.childrenField]||[]},set:function(t){this[this.options.childrenField]=t},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"displayField",{get:function(){return this[this.options.displayField]},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"typeField",{get:function(){return this[this.options.typeField]},set:function(t){this[this.options.typeField]=t},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"isExpandedField",{get:function(){return this[this.options.isExpandedField]},set:function(t){this[this.options.isExpandedField]=t},enumerable:!0,configurable:!0}),o.prototype.allowDrag=function(){return this.options.allowDrag},o.prototype.enableCustomContextMenu=function(){return this.options.enableCustomContextMenu},Object.defineProperty(o.prototype,"isRoot",{get:function(){return this.parent.isVirtualRoot},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"realParent",{get:function(){return this.isRoot?null:this.parent},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"isLeaf",{get:function(){return!this.childrenField.length},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"hasChildren",{get:function(){return!this.isLeaf},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"isFocused",{get:function(){return this.treeModel.focusedNode==this},enumerable:!0,configurable:!0}),o.prototype.getFirstChild=function(){return this.childrenField&&this.childrenField[0]},o.prototype.getLastChild=function(){return this.childrenField&&this.childrenField[this.childrenField.length-1]},o.prototype._getIndexInParent=function(){return this.parent&&this.parent.childrenField.indexOf(this)},o.prototype.findAdjacentSibling=function(t){var e=this._getIndexInParent();return this.parent&&this.parent.childrenField[e+t]},o.prototype.findNextSibling=function(){return this.findAdjacentSibling(1)},o.prototype.findPreviousSibling=function(){return this.findAdjacentSibling(-1)},o.prototype.findNextNode=function(t){return void 0===t&&(t=!0),t&&this.isExpanded&&this.getFirstChild()||this.findNextSibling()||this.parent&&this.parent.findNextNode(!1)},o.prototype.findPreviousNode=function(){var t=this.findPreviousSibling();return t?t.isCollapsed?t:t.getLastChild():this.realParent},o.prototype.isDescendantOf=function(t){return this===t||this.parent&&this.parent.isDescendantOf(t)},o.prototype.toggle=function(){this.isExpanded=!this.isExpanded,this.fireEvent({eventName:Wt.onToggle,node:this,isExpanded:this.isExpanded})},o.prototype._activate=function(){this._isActive=!0,this.fireEvent({eventName:Wt.onActivate,node:this}),this.focus()},o.prototype._deactivate=function(){this._isActive=!1,this.fireEvent({eventName:Wt.onDeactivate,node:this})},o.prototype.toggleActivated=function(){this.isActive?(this._deactivate(),this.treeModel.activeNode=null):(this.treeModel.activeNode&&this.treeModel.activeNode._deactivate(),this._activate(),this.treeModel.activeNode=this),this.fireEvent({eventName:Wt.onActiveChanged,node:this,isActive:this.isActive})},o.prototype.focus=function(){var t=this.treeModel.focusedNode;this.treeModel.focusedNode=this,t&&this.fireEvent({eventName:Wt.onBlur,node:t}),this.fireEvent({eventName:Wt.onFocus,node:this})},o.prototype.blur=function(){var t=this.treeModel.focusedNode;this.treeModel.focusedNode=null,t&&this.fireEvent({eventName:Wt.onBlur,node:this})},o.prototype.doublClick=function(t){this.fireEvent({eventName:Wt.onDoubleClick,node:this,rawEvent:t})},o.prototype.contextMenu=function(t){this.enableCustomContextMenu()&&t.preventDefault(),this.fireEvent({eventName:Wt.onContextMenu,node:this,rawEvent:t})},o.prototype.dropMouseAction=function(t,e){void 0===e&&(e=null),this.treeModel.setFocus(!0),this._dropEventHandler(this.treeModel,this,t,e),this.treeModel.cancelDrag()},o.prototype._dropEventHandler=function(t,e,n,i){t.moveNode({from:t.getDragNode(),to:i})},o.prototype.rightMenuClicked=function(t){this.fireEvent({eventName:Wt.onRightMenuClicked,node:this,rawEvent:t})},o}(),$t=function(){function t(t){void 0===t&&(t={}),this.options=t}return Object.defineProperty(t.prototype,"idField",{get:function(){return this.options.childrenField||"id"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"displayField",{get:function(){return this.options.displayField||"name"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"typeField",{get:function(){return this.options.typeField||"type"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"childrenField",{get:function(){return this.options.childrenField||"children"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isExpandedField",{get:function(){return this.options.isExpandedField||"isExpanded"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"treeNodeTemplate",{get:function(){return this.options.treeNodeTemplate||"{{ node.displayField }}"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allowDrag",{get:function(){return this.options.allowDrag},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"enableCustomContextMenu",{get:function(){return this.options.enableCustomContextMenu},enumerable:!0,configurable:!0}),t}(),qt=function(){function e(){this.options=new $t,this.focusedNode=null,this.activeNode=null,this.eventNames=Object.keys(Wt),this.firstUpdate=!0,this._dragNode=null,this._dropLocation=null}return e.prototype.setData=function(t){var e=t.nodes,n=t.options,i=t.events;this.options=new $t(n),this.events=i,this.update(e)},e.prototype.update=function(t){var e=this;this.virtualRoot=new Ut({isVirtualRoot:!0},null,this),this.roots=t&&t.map(function(t){return new Ut(t,e.virtualRoot,e)}),this.virtualRoot[this.options.childrenField]=this.roots,this._loadTreeNodeContentComponent(),this.firstUpdate?this.roots&&(this.fireEvent({eventName:Wt.onInitialized}),this.firstUpdate=!1):this.fireEvent({eventName:Wt.onUpdateData})},e.prototype.addStaticTreeNode=function(){this.createAndAddTreeNode({id:1,name:"root1",subTitle:"the root",type:"type1"},this.focusedNode)},e.prototype.createAndAddTreeNode=function(t,e,n){var i=this.createTreeNode(t,e);this.addTreeNode(i,e,n)},e.prototype.createTreeNode=function(t,e){return new Ut(t,e,this)},e.prototype.addTreeNode=function(t,e,n){null!=t&&(null==e?this.roots.push(t):null===n||n===undefined?e.childrenField.push(t):e.childrenField.splice(n,0,t),this.update(this.roots),this.fireEvent({eventName:Wt.onAddNode,addedNode:t,parentNode:e}))},e.prototype.removeFocusedTreeNode=function(){this.removeTreeNode(this.focusedNode)},e.prototype.removeTreeNode=function(t){if(null!=t){var e=t.parent;if(null==e){var n=this.roots.indexOf(t);this.roots.splice(n,1)}else{if(e.childrenField.length<=0)return void console.log("RemoveTreeNode Warning: it is impossible to remove element from an empty array");n=e.childrenField.indexOf(t);e.childrenField.splice(n,1)}this.update(this.roots),this.fireEvent({eventName:Wt.onRemoveNode,selectedTreeNode:t,parent:e})}},e.prototype.locateTreeNode=function(t){if(null!=t){for(var e=t.parent;null!=e;)e.isExpanded=!0,e=e.parent;t.isActive=!1,t.toggleActivated()}},e.prototype.locateNodeByID=function(t){var e=this.searchTreeNodeByID(t);return null!=e&&(this.locateTreeNode(e),!0)},e.prototype.searchTreeNodeByID=function(t){return this.searchTreeNode(this.roots,t)},e.prototype.searchTreeNode=function(t,n){var i=this;if(null==t||t.length<=0)return null;if(null==n||n.length<0)return null;var o=null;return t.forEach(function(t){if(t.idField!=n){if(!(null==t.childrenField||t.childrenField.length<0)){var e=i.searchTreeNode(t.childrenField,n);null!=e&&(o=e)}}else o=t}),o},Object.defineProperty(e.prototype,"treeNodeContentComponent",{get:function(){return this._treeNodeContentComponent},enumerable:!0,configurable:!0}),e.prototype._loadTreeNodeContentComponent=function(){this._treeNodeContentComponent=this.options.treeNodeTemplate,this._treeNodeContentComponent},Object.defineProperty(e.prototype,"isFocused",{get:function(){return e.focusedTree===this},enumerable:!0,configurable:!0}),e.prototype.setFocus=function(t){e.focusedTree=t?this:null},e.prototype.getFirstRoot=function(){return r.first(this.roots)},e.prototype.getLastRoot=function(){return r.last(this.roots)},e.prototype.focusNextNode=function(){var t=this.focusedNode,e=t?t.findNextNode():this.getFirstRoot();e&&e.focus()},e.prototype.focusPreviousNode=function(){var t=this.focusedNode,e=t?t.findPreviousNode():this.getLastRoot();e&&e.focus()},e.prototype.focusDrillUp=function(){var t=this.focusedNode,e=t&&t.realParent;e&&e.focus()},e.prototype.focusDrillDown=function(){var t=this.focusedNode,e=t&&t.getFirstChild();e&&e.focus()},e.prototype.fireEvent=function(t){this.events[t.eventName].emit(t)},e.prototype.canMoveNode=function(t){var e=t.from,n=t.to;if(e.parentNode===n.parentNode&&e.index===n.index)return!1;var i=e.parentNode.children[e.index];return!n.parentNode.isDescendantOf(i)},e.prototype.moveNode=function(t){var e=t.from,n=t.to;if(this.canMoveNode({from:e,to:n})){var i=e.parentNode.childrenField;n.parentNode.childrenField||(n.parentNode.childrenField=[]);var o=n.parentNode.childrenField,r=i.splice(e.index,1)[0],s=e.parentNode===n.parentNode&&n.index>e.index?n.index-1:n.index;o.splice(s,0,r),this.update(this.roots),this.fireEvent({eventName:Wt.onMoveNode,node:r,to:n})}},e.prototype.setDragNode=function(t){this._dragNode=t},e.prototype.getDragNode=function(){return this._dragNode||{parentNode:null,index:null}},e.prototype.isDragging=function(){return this.getDragNode().parentNode},e.prototype.setDropLocation=function(t){this._dropLocation=t},e.prototype.getDropLocation=function(){return this._dropLocation||{component:null,parentNode:null,index:null}},e.prototype.isDraggingOver=function(t){return this.getDropLocation().component===t},e.prototype.cancelDrag=function(){this.setDropLocation(null),this.setDragNode(null)},e.focusedTree=null,e.decorators=[{type:C.Injectable}],e}(),Xt=37,Yt=38,Kt=39,Gt=40,Jt=13,Zt=32,Qt=function(){function t(t){var e=this;(this.treeModel=t).eventNames.forEach(function(t){return e[t]=new C.EventEmitter})}return Object.defineProperty(t.prototype,"nodes",{set:function(t){},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"options",{set:function(t){},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"focused",{set:function(t){this.treeModel.setFocus(t)},enumerable:!0,configurable:!0}),t.prototype.ngOnChanges=function(t){this.treeModel.setData({nodes:t.nodes&&t.nodes.currentValue,options:t.options&&t.options.currentValue,events:r.pick(this,this.treeModel.eventNames)})},t.prototype.onKeydown=function(t){var e=this.treeModel.focusedNode;if(this.treeModel.isFocused)switch(r.includes([Gt,Yt,Xt,Kt,Jt,Zt],t.keyCode)&&t.preventDefault(),t.keyCode){case Gt:return this.treeModel.focusNextNode();case Yt:return this.treeModel.focusPreviousNode();case Xt:return void(e.isExpanded?e.toggle():this.treeModel.focusDrillUp());case Kt:return void(e.isCollapsed?e.toggle():this.treeModel.focusDrillDown());case Jt:case Zt:return e&&e.toggleActivated()}},t.prototype.onMousedown=function(t){t.target.closest("ng2tree")||this.treeModel.setFocus(!1)},t.prototype.searchAndLocationNodeById=function(t){this.treeModel.locateNodeByID(t)},t.prototype.searchNodeById=function(t){return this.treeModel.searchTreeNodeByID(t)},t.decorators=[{type:C.Component,args:[{selector:"ng2tree",template:'<div class="tree">\r\n    \x3c!-- <div class="localFileTreeOperateTest">\r\n      <button (click)="treeModel.addStaticTreeNode()"></button>\r\n      <button (click)="treeModel.removeFocusedTreeNode()"></button>\r\n    </div> --\x3e\r\n    <ng2tree-node\r\n      (click)="treeModel.setFocus(true)"\r\n      *ngFor="let child of treeModel.roots; let i = index"\r\n      [node]="child"\r\n      [nodeIndex]="i">\r\n    </ng2tree-node>\r\n</div>',providers:[qt],styles:[".tree-children{padding-left:20px}.tree{display:inline-block;cursor:pointer;-webkit-user-select:none;-ms-user-select:none;-moz-user-select:none;user-select:none}"]}]}],t.ctorParameters=function(){return[{type:qt}]},t.propDecorators={nodes:[{type:C.Input}],options:[{type:C.Input}],focused:[{type:C.Input}],onToggle:[{type:C.Output}],onActiveChanged:[{type:C.Output}],onActivate:[{type:C.Output}],onDeactivate:[{type:C.Output}],onFocus:[{type:C.Output}],onBlur:[{type:C.Output}],onDoubleClick:[{type:C.Output}],onContextMenu:[{type:C.Output}],onRightMenuClicked:[{type:C.Output}],onKeydown:[{type:C.HostListener,args:["body: keydown",["$event"]]}],onMousedown:[{type:C.HostListener,args:["body: mousedown",["$event"]]}]},t}(),te=function(){function t(t){this.viewContainerRef=t}return t.decorators=[{type:C.Directive,args:[{selector:"[treeNodeContent-host]"}]}],t.ctorParameters=function(){return[{type:C.ViewContainerRef}]},t}(),ee=function hi(t,e){this.component=t,this.displayData=e},ne=function(){function t(t){this.componentFactoryResolver=t,this.rightMenuClicked=new C.EventEmitter}return t.prototype.ngOnInit=function(){var e=this;if(this.rightMenuContainer.clear(),this.originData.hasRightClickMenu){var t=this.componentFactoryResolver.resolveComponentFactory(this.originData.rightClickMenuComponent),n=this.rightMenuContainer.createComponent(t);n.instance.nodeData=this.originData,n.instance.rightMenuClicked.subscribe(function(t){e.rightMenuClicked.emit(t)})}},t.decorators=[{type:C.Component,args:[{selector:"ng2tree-node-content",template:"<div class='tree-node-content' *ngIf=\"!originData.hasRightClickMenu\">\r\n  <span>{{ displayData }}</span>\r\n</div>\r\n<ng-container #rightMenuContainer>\r\n</ng-container>",styles:[".tree-node-content:hover{background:#a8daa7}"]}]}],t.ctorParameters=function(){return[{type:C.ComponentFactoryResolver}]},t.propDecorators={displayData:[{type:C.Input}],originData:[{type:C.Input}],rightMenuClicked:[{type:C.Output}],rightMenuContainer:[{type:C.ViewChild,args:["rightMenuContainer",{read:C.ViewContainerRef}]}]},t}(),ie=function(){function t(t,e){this.componentFactoryResolver=t}return t.prototype.onDragStart=function(t){var e=this;setTimeout(function(){return e.node.treeModel.setDragNode({parentNode:e.node.parent,index:e.nodeIndex})},30)},t.prototype.onDragEnd=function(){this.node.treeModel.setDragNode(null)},t.prototype.onDragOver=function(t){t.preventDefault(),this.node.treeModel.setDropLocation({component:this,parentNode:this.node,index:0})},t.prototype.onDrop=function(t){t.preventDefault(),this.node.treeModel.setFocus(!0),this.node.dropMouseAction(t,{parentNode:this.node,index:0}),console.log("onDrop: tree-node-component")},t.prototype.onDragLeave=function(t,e){if(this.node.treeModel.isDraggingOver(this)){var n=t.getBoundingClientRect();(e.clientX<n.left||e.clientX>n.right||e.clientY<n.top||e.clientY>n.bottom)&&this.node.treeModel.setDropLocation(null)}},t.prototype.ngOnInit=function(){var e=this;this._loadTreeNodeContent(),this.node.changeDisplayField.subscribe(function(t){e.componentRef&&(e.componentRef.instance.displayData=t)})},t.prototype.ngOnChanges=function(){},t.prototype._loadTreeNodeContent=function(){var e=this,t=new ee(ne,this.node.displayField),n=this.componentFactoryResolver.resolveComponentFactory(t.component),i=this.treeNodeContentHost.viewContainerRef;i.clear(),this.componentRef=i.createComponent(n),this.componentRef.instance.displayData=t.displayData,this.componentRef.instance.originData=this.node.data,this.componentRef.instance.rightMenuClicked.subscribe(function(t){e.node.rightMenuClicked(t)})},t.decorators=[{type:C.Component,args:[{selector:"ng2tree-node",template:'<div class="tree-node tree-node-level-{{ node.level }}"\r\n[class.tree-node-expanded]="node.isExpanded && node.hasChildren"\r\n[class.tree-node-collapsed]="node.isCollapsed && node.hasChildren"\r\n[class.tree-node-leaf]="node.isLeaf"\r\n[class.tree-node-active]="node.isActive"\r\n[class.tree-node-focused]="node.isFocused">\r\n\r\n<ng2tree-node-drop-slot\r\n  *ngIf="nodeIndex === 0"\r\n  [dropIndex]="nodeIndex"\r\n  [node]="node.parent"\r\n></ng2tree-node-drop-slot>\r\n\r\n<span\r\n  *ngIf="node.hasChildren"\r\n  class="toggle-children"\r\n  (click)="node.toggleActivated()"\r\n  (click)="node.toggle()"\r\n  >\r\n</span>\r\n<span\r\n  *ngIf="!node.hasChildren"\r\n  class="toggle-children-placeholder">\r\n</span>\r\n\r\n\x3c!-- click --\x3e\r\n\x3c!-- [draggable]="node.allowDrag()"\r\n(dragstart)="onDragStart($event)"\r\n(drop)="onDrop($event)"\r\n(dragend)="onDragEnd()"\r\n(dragover)="onDragOver($event)"\r\n(dragleave)="onDragLeave(nodeContentWrapper, $event)" --\x3e\r\n<div class="node-content-wrapper"\r\n  #nodeContentWrapper\r\n  (click)="node.toggleActivated()"\r\n  (dblclick)="node.doublClick($event)"\r\n  (contextmenu)="node.contextMenu($event)"\r\n\r\n  >\r\n  \x3c!--  --\x3e\r\n  <ng-template treeNodeContent-host></ng-template> \r\n</div>\r\n\r\n<div class="tree-children" [hidden]="node.isCollapsed">\r\n  <ng2tree-node\r\n    *ngFor="let child of node.childrenField; let i = index"\r\n    [node]="child"\r\n    [nodeIndex]="i">\r\n  </ng2tree-node>\r\n</div>\r\n\r\n<ng2tree-node-drop-slot\r\n  [dropIndex]="nodeIndex + 1"\r\n  [node]="node.parent"\r\n></ng2tree-node-drop-slot>\r\n\r\n</div>',styles:[".tree-children{padding-left:20px}.node-content-wrapper{display:inline-block;padding:2px 5px;border-radius:2px;transition:background-color .15s,box-shadow .15s;white-space:nowrap}.tree-node-active>.node-content-wrapper{background:#beebff}.tree-node-active.tree-node-focused>.node-content-wrapper{background:#5db0e7}.tree-node-focused>.node-content-wrapper{background:#e7f4f9}.node-content-wrapper:hover{background:#f7fbff}.node-content-wrapper:hover,.tree-node-active>.node-content-wrapper,.tree-node-focused>.node-content-wrapper{box-shadow:inset 0 0 1px #999}.tree-node-expanded .toggle-children{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'%3E%3Cpath fill='%23646465' d='M11 10H5.344L11 4.414V10z'/%3E%3C/svg%3E\")}.tree-node-collapsed .toggle-children{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'%3E%3Cpath fill='%23646465' d='M6 4v8l4-4-4-4zm1 2.414L8.586 8 7 9.586V6.414z'/%3E%3C/svg%3E\")}.toggle-children{height:16px;width:16px;background-size:16px;display:inline-block;position:relative;background-repeat:no-repeat;background-position:center;right:-6px;top:4px;overflow:hidden}.toggle-children-placeholder{display:inline-block;height:10px;width:10px;position:relative;top:1px}.tree-node-icon{width:1rem}.tree-node{white-space:nowrap}"]}]}],t.ctorParameters=function(){return[{type:C.ComponentFactoryResolver},{type:C.ViewContainerRef}]},t.propDecorators={node:[{type:C.Input}],nodeIndex:[{type:C.Input}],treeNodeContentHost:[{type:C.ViewChild,args:[te]}]},t}(),oe=function(){function t(){}return t.prototype.onDragOver=function(t){t.preventDefault(),this.node.treeModel.setDropLocation({component:this,parentNode:this.node,index:this.dropIndex})},t.prototype.onDragLeave=function(){this.node.treeModel.isDraggingOver(this)&&this.node.treeModel.setDropLocation(null)},t.prototype.onDrop=function(t){t.preventDefault(),console.log("onDropEvent: tree-node-drop-slot"),this.node.dropMouseAction(t,{parentNode:this.node,index:this.dropIndex})},t.decorators=[{type:C.Component,args:[{selector:"ng2tree-node-drop-slot",template:'<div\r\n  class="node-drop-slot"\r\n  [class.is-dragging-over]="node.treeModel.isDraggingOver(this)"\r\n  (drop)="onDrop($event)"\r\n  (dragover)="onDragOver($event)"\r\n  (dragleave)="onDragLeave()"\r\n>\r\n</div>',styles:[".node-drop-slot{display:block;height:2px;width:100%}.node-drop-slot.is-dragging-over{background:#dfe;height:20px;border:2px dotted #888}"]}]}],t.propDecorators={node:[{type:C.Input}],dropIndex:[{type:C.Input}]},t}(),re=function(){function t(){}return t.decorators=[{type:C.NgModule,args:[{declarations:[Qt,ie,ne,te,oe],imports:[g.CommonModule],providers:[],entryComponents:[ne],exports:[Qt,ie,ne,te,oe]}]}],t}(),se=new C.InjectionToken("ANGULAR_MONACO_EDITOR_CONFIG"),ae={onInit:"onInit"},pe=function(){function t(){this.eventNames=Object.keys(ae),this._events={}}return t.prototype.addEvent=function(t){r.assign(this._events,t)},t.prototype.fireEvent=function(t){this._events[t.eventName].emit(t)},t.decorators=[{type:C.Injectable}],t}(),ce=!1,le=function(){function t(n,t){this.codeEditorEventService=n,this.config=t;var i=this;n.eventNames.forEach(function(t){i[t]=new C.EventEmitter;var e=r.pick(i,t);n.addEvent(e)})}return Object.defineProperty(t.prototype,"options",{get:function(){return this._options},set:function(t){this._options=Object.assign({},this.config.defaultOptions,t),this._editor&&(this._editor.dispose(),this.initMonaco(t))},enumerable:!0,configurable:!0}),t.prototype.ngAfterViewInit=function(){var o=this;ce?At.then(function(){o.initMonaco(o.options)}):(ce=!0,At=new Promise(function(t){var e=o.config.baseUrl||"/assets",n=function(){window.require.config({paths:{vs:e+"/monaco/vs"}}),window.require(["vs/editor/editor.main"],function(){"function"==typeof o.config.onMonacoLoad&&o.config.onMonacoLoad(),o.initMonaco(o.options),t()})};if(window.require)n();else{var i=document.createElement("script");i.type="text/javascript",i.src=e+"/monaco/vs/loader.js",i.addEventListener("load",n),document.body.appendChild(i)}}))},t.prototype.ngOnDestroy=function(){this._windowResizeSubscription&&this._windowResizeSubscription.unsubscribe(),this._editor&&(this._editor.dispose(),this._editor=undefined)},t.propDecorators={_editorComponent:[{type:C.ViewChild,args:["codeEditor"]}],onInit:[{type:C.Output}],options:[{type:C.Input,args:["options"]}]},t}(),ue=function(){function t(){this._existError=!1}return Object.defineProperty(t.prototype,"existError",{get:function(){return this._existError},enumerable:!0,configurable:!0}),t.prototype.handleModelMarkers=function(){var i=this,o=monaco.editor.setModelMarkers;monaco.editor.setModelMarkers=function(t,e,n){o.call(monaco.editor,t,e,n),0===n.length||(i._existError=!0)}},t.decorators=[{type:C.Injectable}],t}(),de={provide:c.NG_VALUE_ACCESSOR,useExisting:C.forwardRef(function(){return he}),multi:!0},he=function(r){function t(t,e,n,i){var o=r.call(this,n,i)||this;return o.angularMonacoEditorService=t,o.zone=e,o.editorEventService=n,o.angularEditorconfig=i,o._value="",o.onControlValueChange=function(t){},o.onControlTouched=function(){},o}return P(t,r),Object.defineProperty(t.prototype,"model",{set:function(t){this.options.model=t,this._editor&&(this._editor.dispose(),this.initMonaco(this.options))},enumerable:!0,configurable:!0}),t.prototype.initMonaco=function(t){var e=this,n=!!t.model;if(n){var i=monaco.editor.getModel(t.model.uri);null!==i&&i.dispose(),t.model=monaco.editor.createModel(t.model.value,t.model.language,t.model.uri)}this._editor=monaco.editor.create(this._editorComponent.nativeElement,t),n||this._editor.setValue(this._value),n&&this.angularMonacoEditorService.handleModelMarkers(),this._editor.onDidChangeModelContent(function(t){return e.onChangeModelContentHandler(t)}),this._editor.onDidBlurEditorText(function(t){return e.onBlurEditorTextHandler(t)}),this._editor.onDidLayoutChange(function(t){return e.onLayoutChangeHandler(t)}),this.refreshLayoutWhenWindowResize(),this.editorEventService.fireEvent({eventName:ae.onInit,target:this,editor:this._editor})},t.prototype.refreshLayoutWhenWindowResize=function(){var t=this;this._windowResizeSubscription&&this._windowResizeSubscription.unsubscribe(),this._windowResizeSubscription=i.fromEvent(window,"resize").subscribe(function(){return t._editor.layout()})},t.prototype.onChangeModelContentHandler=function(t){var e=this,n=this._editor.getValue();this.zone.run(function(){return e.value=n})},t.prototype.onBlurEditorTextHandler=function(t){this.onControlTouched()},t.prototype.onLayoutChangeHandler=function(t){console.log("Layout changed:\n"+t)},Object.defineProperty(t.prototype,"value",{get:function(){return this._value},set:function(t){t!==this.value&&(this._value=t),this.onControlValueChange(this.value)},enumerable:!0,configurable:!0}),t.prototype.writeValue=function(t){var e=this;e.value=t||"",setTimeout(function(){e._editor&&e._editor.setValue(e._value)})},t.prototype.registerOnChange=function(t){this.onControlValueChange=t},t.prototype.registerOnTouched=function(t){this.onControlTouched=t},t.decorators=[{type:C.Component,args:[{selector:"angular-monaco-editor",template:'<div class="editor" #codeEditor></div>',providers:[de,pe,ue],styles:[":host{display:block;min-height:200px}.editor{width:100%;height:100%}"]}]}],t.ctorParameters=function(){return[{type:ue},{type:C.NgZone},{type:pe},{type:undefined,decorators:[{type:C.Inject,args:[se]}]}]},t.propDecorators={model:[{type:C.Input,args:["model"]}]},t}(le),fe=function(){function e(){}return e.forRoot=function(t){return void 0===t&&(t={}),{ngModule:e,providers:[{provide:se,useValue:t}]}},e.decorators=[{type:C.NgModule,args:[{imports:[g.CommonModule],declarations:[he],exports:[he],providers:[]}]}],e}(),me=function fi(){this.$implicit={}},ye=function(){function t(t){this.template=t,this.closeOnClick=!0,this.click=new C.EventEmitter,this.context=new me}return t.prototype.setNotActive=function(){this._active=!1,this.subMenu&&this.subMenu.setNotActive()},t.prototype.setActive=function(){this._active=!0},t.decorators=[{type:C.Directive,args:[{selector:"[shContextMenuItem]"}]}],t.ctorParameters=function(){return[{type:C.TemplateRef,decorators:[{type:C.Optional}]}]},t.propDecorators={subMenu:[{type:C.Input}],divider:[{type:C.Input}],visible:[{type:C.Input}],disabled:[{type:C.Input}],closeOnClick:[{type:C.Input}],click:[{type:C.Output}]},t}(),ge=function(){function t(t){this.overlay=t,this.activeOverlays=[]}return t.prototype.openMenu=function(t){this.closeCurrentOverlays();var e=t.menu,n=t.mouseEvent,i=t.targetElement,o=t.data;this.activeMenu=e,n.preventDefault(),n.stopPropagation(),this.overrideGetBoundingClientRect(i,n);var r=this.buildCloseScrollStrategy(),s=this.buildConnectedPositionStrategy(i);this.attachContextToItems(e,o);var a=this.createAndAttachOverlay(s,r,e,!0);this.attachOverlayRef(e,a),this.registerBackdropEvents(a)},t.prototype.openSubMenu=function(t){var e=t.menu,n=t.mouseEvent,i=t.targetElement,o=t.data,r=t.parentMenu;n.preventDefault(),n.stopPropagation();var s=this.buildCloseScrollStrategy(),a=this.buildConnectedPositionStrategyForSubMenu(i),p=this.createAndAttachOverlay(a,s,e,!1);this.attachContextToItems(e,o),this.attachThisContext(e,r),this.attachOverlayRef(e,p)},t.prototype.destroy=function(){this.closeCurrentOverlays(),this.backDropSub.unsubscribe()},t.prototype.ngOnDestroy=function(){this.destroy()},t.prototype.closeSubMenus=function(t){var e=this,n=t.menuItems.filter(function(t){return!!t.subMenu&&!!t.subMenu.overlayRef});n.length&&(n.forEach(function(t){return e.closeSubMenus(t.subMenu)}),n.map(function(t){return t.subMenu.overlayRef}).forEach(function(t){return t.dispose()}))},t.prototype.registerBackdropEvents=function(t){var e=t.backdropElement;this.backDropSub=i.fromEvent(e,"mousedown").subscribe(this.closeCurrentOverlays.bind(this))},t.prototype.createAndAttachOverlay=function(t,e,n,i){void 0===i&&(i=!0);var o=this.overlay.create({positionStrategy:t,scrollStrategy:e,hasBackdrop:i,backdropClass:"sh-backdrop"}),r=new s.TemplatePortal(n.menuTemplate,n.menuContainer);return o.attach(r),this.activeOverlays.push(o),o},t.prototype.buildCloseScrollStrategy=function(){return this.overlay.scrollStrategies.close()},t.prototype.buildConnectedPositionStrategy=function(t){return this.overlay.position().connectedTo(t,{originX:"start",originY:"bottom"},{overlayX:"start",overlayY:"top"}).withFallbackPosition({originX:"start",originY:"top"},{overlayX:"start",overlayY:"bottom"}).withFallbackPosition({originX:"end",originY:"top"},{overlayX:"start",overlayY:"top"}).withFallbackPosition({originX:"start",originY:"top"},{overlayX:"end",overlayY:"top"}).withFallbackPosition({originX:"end",originY:"center"},{overlayX:"start",overlayY:"center"}).withFallbackPosition({originX:"start",originY:"center"},{overlayX:"end",overlayY:"center"})},t.prototype.buildConnectedPositionStrategyForSubMenu=function(t){return this.overlay.position().connectedTo(t,{originX:"end",originY:"top"},{overlayX:"start",overlayY:"top"}).withFallbackPosition({originX:"start",originY:"top"},{overlayX:"end",overlayY:"top"}).withFallbackPosition({originX:"end",originY:"bottom"},{overlayX:"start",overlayY:"bottom"}).withFallbackPosition({originX:"start",originY:"bottom"},{overlayX:"end",overlayY:"bottom"})},t.prototype.overrideGetBoundingClientRect=function(t,e){var n=e.clientX,i=e.clientY;t.nativeElement.getBoundingClientRect=function(){return{bottom:i,height:0,left:n,right:n,top:i,width:0}}},t.prototype.closeCurrentOverlays=function(){this.activeOverlays.forEach(function(t){t.detach(),t.dispose()}),this.activeOverlays=[],this.activeMenu&&this.activeMenu.close()},t.prototype.attachContextToItems=function(t,e){t.menuItems.forEach(function(t){return t.context.$implicit=e})},t.prototype.attachThisContext=function(t,e){t.thisContext=e.thisContext},t.prototype.attachOverlayRef=function(t,e){t.overlayRef=e},t.decorators=[{type:C.Injectable}],t.ctorParameters=function(){return[{type:e.Overlay}]},t}(),ve=function(){function t(t){this.ctxService=t,this.contentChildrenItems=new C.QueryList,this.viewChildrenItems=new C.QueryList}return Object.defineProperty(t.prototype,"menuItems",{get:function(){return this.contentChildrenItems.length?this.contentChildrenItems:this.viewChildrenItems},enumerable:!0,configurable:!0}),t.prototype.onEnter=function(t,e,n){this.ctxService.closeSubMenus(this),this.setNotActive(),e.subMenu&&e.visible&&(this.setActive(e),this.ctxService.openSubMenu({data:e.context.$implicit,targetElement:new C.ElementRef(n),menu:e.subMenu,mouseEvent:t,parentMenu:this}))},t.prototype.setActive=function(t){t.setActive(),this.subActive=!0},t.prototype.onClick=function(t,e){e.divider||!e.subMenu&&e.closeOnClick&&(this.ctxService.destroy(),e.click.emit({data:e.context.$implicit,event:t}))},t.prototype.callWithContext=function(t,e,n,i){return t.call(this.thisContext?this.thisContext:e,{data:n,event:i})},t.prototype.close=function(){this.setNotActive(),this.menuContainer.detach(),this.overlayRef&&this.overlayRef.detach()},t.prototype.ngOnDestroy=function(){this.close()},t.prototype.setNotActive=function(){this.subActive=!1,this.menuItems.forEach(function(t){return t.setNotActive()})},t.prototype.isVisible=function(t){return!t.visible||this.callWithContext(t.visible,this,t.context.$implicit,null)},t.decorators=[{type:C.Component,args:[{selector:"sh-context-menu",encapsulation:C.ViewEncapsulation.None,template:'\n    <ng-container #menuContainer></ng-container>\n    <ng-template #menuTemplate>\n      <div class="sh-context-menu">\n        <div\n          *ngFor="let menuItem of menuItems"\n          #itemElement\n          [ngClass]="{\'sh-sub-anchor\': menuItem.subMenu && menuItem.visible,\n           \'sh-context-menu--item__disable\': !menuItem.visible,\n           \'sh-context-menu--item__divider\': menuItem.divider,\n           \'sh-context-menu--item__sub-active\': subActive && menuItem.active}"\n          class="sh-context-menu--item"\n          (mouseenter)="onEnter($event, menuItem, itemElement)"\n          (click)="onClick($event, menuItem)">\n          <ng-container *ngIf="!menuItem.divider || !isVisible(menuItem)">\n            <ng-content *ngTemplateOutlet="menuItem.template; context: menuItem.context"></ng-content>\n          </ng-container>\n        </div>\n      </div>\n    </ng-template>\n  ',styles:['.sh-backdrop{background-color:transparent}.sh-context-menu{background:#fff;min-width:150px;border:1px solid rgba(0,0,0,.2);border-radius:3px;box-shadow:0 0 10px 2px rgba(0,0,0,.1);color:#656565;margin:0}.sh-context-menu--item{padding:7px 10px 7px 15px;transition:.15s}.sh-context-menu--item:hover,.sh-context-menu--item__sub-active{background-color:#ededed;cursor:pointer}.sh-context-menu--item.sh-context-menu--item__divider:hover{background-color:#ececec;color:#000;cursor:default}.sh-context-menu--item__divider{height:1px;padding:0;overflow:hidden;border-bottom:1px solid #d0d0d0}.sh-context-menu--item.sh-sub-anchor{position:relative;min-width:140px}.sh-sub-anchor:after{content:"";top:50%;right:6px;-webkit-transform:translateY(-50%);transform:translateY(-50%);position:absolute;border-top:4px solid transparent;border-bottom:4px solid transparent;border-left:5px solid #000}.sh-context-menu--item__disable{color:#a6a2a2}']}]}],t.ctorParameters=function(){return[{type:ge}]},t.propDecorators={thisContext:[{type:C.Input,args:["this"]}],contentChildrenItems:[{type:C.ContentChildren,args:[ye,{read:ye}]}],viewChildrenItems:[{type:C.ViewChildren,args:[ye,{read:ye}]}],menuTemplate:[{type:C.ViewChild,args:["menuTemplate",{read:C.TemplateRef}]}],menuContainer:[{type:C.ViewChild,args:["menuContainer",{read:C.ViewContainerRef}]}]},t}(),be=function(){function t(t,e){this.ctxService=t,this.elm=e}return t.prototype.ngOnInit=function(){this.setupEvents()},t.prototype.setupEvents=function(){var e=this,n=[];this.triggers?this.triggers.forEach(function(t){n.push(i.fromEvent(e.elm.nativeElement,t))}):n.push(i.fromEvent(this.elm.nativeElement,"contextmenu")),this.sub=o.merge.apply(void 0,R(n)).subscribe(this.openMenu.bind(this))},t.prototype.openMenu=function(t){this.ctxService.openMenu({menu:this.menu,mouseEvent:t,targetElement:this.elm,data:this.data})},t.prototype.ngOnDestroy=function(){this.sub.unsubscribe()},t.decorators=[{type:C.Directive,args:[{selector:"[shAttachMenu]"}]}],t.ctorParameters=function(){return[{type:ge},{type:C.ElementRef}]},t.propDecorators={menu:[{type:C.Input,args:["shAttachMenu"]}],triggers:[{type:C.Input,args:["shMenuTriggers"]}],data:[{type:C.Input,args:["shMenuData"]}]},t}(),Ce=function(){function t(){}return t.decorators=[{type:C.NgModule,args:[{declarations:[be,ve,ye],exports:[be,ve,ye],providers:[ge],imports:[g.CommonModule,e.OverlayModule],entryComponents:[ve]}]}],t}(),we=function(){function t(t,e){this.viewContainerRef=t,this.componentFactoryResolver=e,this.clickCancelBtn=new C.EventEmitter,this.clickFinishBtn=new C.EventEmitter,this.title="",this.steps=[],this.curStepIndex=0}return t.prototype.ngOnInit=function(){this.steps&&0<this.steps.length&&(this.curStep=this.steps[this.curStepIndex],this.createStepComponent(this.steps[this.curStepIndex]))},t.prototype.createStepComponent=function(t){var i=this;this.stepContainer.clear();var e=this.componentFactoryResolver.resolveComponentFactory(t.component);this.curComponentRef=this.stepContainer.createComponent(e),this.curComponentRef.instance.data=t.data,this.curComponentRef.instance.addStep&&this.curComponentRef.instance.addStep.subscribe(function(t){var e,n=r.findIndex(i.steps,i.curStep);(e=i.steps).splice.apply(e,R([n+1,0],t)),i.curStep.nextStep=t[0].stepId,i.curStep.showFinishBtn=!1,i.curStep.showNextStepBtn=!0}),this.curComponentRef.instance.removeStep&&this.curComponentRef.instance.removeStep.subscribe(function(t){r.merge(i.curStep,t.curStep),t.removeSteps.forEach(function(t){var e=r.findIndex(i.steps,t);i.steps.splice(e,1)})}),this.curComponentRef.instance.changeStep&&this.curComponentRef.instance.changeStep.subscribe(function(t){t.forEach(function(e){var t=r.find(i.steps,function(t){return t.stepId===e.stepId});r.merge(t,e)})})},t.prototype.jumpStep=function(e){if(e!==this.curStep){var t=r.findIndex(this.steps,function(t){return t.stepId===e.stepId});if(t!==this.curStepIndex)return t<this.curStepIndex?(this.curStep=e,this.curStepIndex=t,void this.createStepComponent(e)):void(e.stepId!==this.curStep.nextStep||this.nextStep())}},t.prototype.lastStep=function(){var e=this;this.curStepIndex=r.findIndex(this.steps,function(t){return t.nextStep===e.curStep.stepId}),this.curStep=this.steps[this.curStepIndex],this.createStepComponent(this.curStep)},t.prototype.nextStep=function(){var e=this,t=this.curComponentRef.instance.validation;if(t&&"function"==typeof t&&!(n=t()))return;var n,i=this.curComponentRef.instance.clickNextStep;i&&"function"==typeof i?"boolean"==typeof(n=i())?this.moveToNextStep(n):n.subscribe(function(t){e.moveToNextStep(t)}):this.moveToNextStep(!0)},t.prototype.moveToNextStep=function(t){if(t){var e=this.curStep;""!==e.nextStep&&(this.curStepIndex=r.findIndex(this.steps,function(t){return t.stepId===e.nextStep}),-1<this.curStepIndex&&(this.curStep=this.steps[this.curStepIndex],this.createStepComponent(this.curStep)))}},t.prototype.clickCancel=function(){this.clickCancelBtn.emit()},t.prototype.finishWizard=function(){var t=this.curComponentRef.instance.validation;if(t&&"function"==typeof t&&!t())return;var e=this.curComponentRef.instance.beforeFinish;if(e&&"function"==typeof e&&!e())return;this.clickFinishBtn.emit()},t.decorators=[{type:C.Component,args:[{selector:"app-wizard",template:'<div class="stepWizard">\r\n  <div class="createNav d-flex flex-wrap" *ngIf="steps.length>1">\r\n    <div *ngFor="let step of steps" class="d-flex step" [class.active]="curStep.stepId===step.stepId">\r\n      <div class="d-flex" *ngIf="step.show" (click)="jumpStep(step)">\r\n        <div class="stepTitle">{{step.title}}</div>\r\n        <div class="triangle_border_right">\r\n          <span></span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div class="content">\r\n    <perfect-scrollbar [config]="{suppressScrollX: true}">\r\n      <ng-container #stepContainer></ng-container>\r\n    </perfect-scrollbar>\r\n  </div>\r\n\r\n\r\n\r\n  <div class="footBtns">\r\n    <button type="button" class="btn btn-outline-secondary btn-sm px-3 mx-2" *ngIf="curStep.showCancelBtn" (click)="clickCancel()"></button>\r\n    <button type="button" class="btn btn-outline-primary btn-sm px-3 mx-2" *ngIf="curStep.showLastStepBtn" (click)="lastStep()"\r\n      type="submit"></button>\r\n    <button type="button" class="btn btn-outline-primary btn-sm px-3 mx-2" *ngIf="curStep.showNextStepBtn" (click)="nextStep()"\r\n      type="submit"></button>\r\n    <button type="button" class="btn btn-outline-primary btn-sm px-3 mx-2" *ngIf="curStep.showFinishBtn" (click)="finishWizard()"></button>\r\n  </div>\r\n</div>',styles:[":host{position:absolute;top:0;bottom:0;left:0;right:0}.stepWizard{height:100%;display:flex;flex-direction:column}.stepWizard .createNav{background:#e8edf2;height:40px;overflow:hidden}.stepWizard .createNav .stepTitle{padding:0 10px;color:#666;line-height:40px;cursor:pointer;font-size:.875rem}.stepWizard .createNav .step.active .stepTitle{color:#fff;background-color:#346180!important}.stepWizard .createNav .step:not(:first-child).active .stepTitle{margin-left:-17px;padding-left:25px}.stepWizard .createNav .stepTitle.disable{color:#cdcdcf}.stepWizard .createNav .step .triangle_border_right{width:0;height:0;border-width:20px 0 20px 18px;border-style:solid;border-color:transparent transparent transparent #ccc;position:relative}.stepWizard .createNav .step .triangle_border_right span{display:block;width:0;height:0;border-width:20px 0 20px 18px;border-style:solid;border-color:transparent transparent transparent #e8edf2;position:absolute;top:-20px;left:-20px}.stepWizard .createNav .step.active .triangle_border_right{width:0;height:0;border-width:20px 0 20px 20px;border-color:transparent transparent transparent #e8edf2}.stepWizard .createNav .step.active .triangle_border_right span{border-width:20px 0 20px 20px;border-color:transparent transparent transparent #346180!important}.stepWizard .content{flex:1;overflow:auto;font-size:.875rem}.stepWizard .content .ps-content{width:inherit;height:inherit}.stepWizard .footBtns{width:100%;display:flex;align-items:center;justify-content:flex-end;padding:10px 1rem;background:#f4f4f4;border-top:1px solid #ddd}"]}]}],t.ctorParameters=function(){return[{type:C.ViewContainerRef},{type:C.ComponentFactoryResolver}]},t.propDecorators={clickCancelBtn:[{type:C.Output}],clickFinishBtn:[{type:C.Output}],title:[{type:C.Input}],steps:[{type:C.Input}],stepContainer:[{type:C.ViewChild,args:["stepContainer",{read:C.ViewContainerRef}]}]},t}(),Ie=function(){function t(){}return t.decorators=[{type:C.NgModule,args:[{declarations:[we],imports:[g.CommonModule,c.FormsModule,n.PerfectScrollbarModule],exports:[we]}]}],t.ctorParameters=function(){return[]},t}(),xe=function(){function t(){this.innerData=[],this.selected$=new b.Subject,this.isOpen$=new b.BehaviorSubject(!1),this.data$=new b.BehaviorSubject("")}return Object.defineProperty(t.prototype,"data",{get:function(){return this.innerData},set:function(t){this.innerData=t,this.data$.next(t)},enumerable:!0,configurable:!0}),t.prototype.toBoolean=function(t){return null!=t&&""+t!="false"},t.prototype.selectItem=function(t,e){this.isOpen$.next(!1),this.selectedValue=t,this.selected$.next(this.selectedValue)},t.prototype.unSelectItem=function(t){this.selectedValue=null,this.selected$.next(null)},t.prototype.isSelect=function(t){return!1},t.prototype.getSelected=function(){return this.selectedValue},t.prototype.getValue=function(t,e){return this.selectedValue?this.getValueByObj(t,this.selectedValue):""},t.prototype.getValueByObj=function(t,e){if(!e)return"";return-1===t.indexOf(".")?e[t]:t.split(".").reduce(function(t,e){return t?t[e]:null},e)},t.decorators=[{type:C.Injectable}],t}(),Pe=0,_e=function(){function t(t,e,n,i,o,r){var s=this;this.el=t,this.cdr=e,this.document=n,this.render=i,this.comboService=o,this.injector=r,this.disabled=!1,this.readonly=!1,this.editable=!0,this.placeholder="",this.panelWidth=300,this.panelHeight=300,this.autoWidth=!0,this.enableClear=!0,this.showPanel=new C.EventEmitter,this.hidePanel=new C.EventEmitter,this.clear=new C.EventEmitter,this.valueChange=new C.EventEmitter,this.selectChange=new C.EventEmitter,this._cmbPanel=null,this.isOpen=!1,this.groupIcon='<span class="f-icon f-icon-arrow-60-down"></span>',this.comboPanelCreated$=new b.Subject,this.destroy$=new b.Subject,this.ngControl=null,this.displayText="",this.onChange=function(){return null},this.onTouched=function(){return null};var a=this.creatContainer(),p=this.creatPanel(a);this.comboPanelCreated$.pipe(I.takeUntil(this.destroy$),I.filter(function(t){return!!t})).subscribe(function(t){p.appendChild(t.nativeElement),s.updatePosition()}),this.destroy$.subscribe(function(){n.body.contains(a)&&a.contains(p)&&a.removeChild(p),Pe=0}),this.comboService.isOpen$.pipe(I.takeUntil(this.destroy$),I.skip(1)).subscribe(function(t){t?s.documentClickEvent=s.render.listen("document","click",function(t){s.el.nativeElement.contains(t.target)||!s._cmbPanel||s.contains(s._cmbPanel,t)||(s.isOpen=!1,s.removeDocumentListener(),s.cdr.markForCheck())}):s.removeDocumentListener(),s.isOpen=!!t,s.cdr.markForCheck()}),this.comboService.selected$.pipe(I.takeUntil(this.destroy$)).subscribe(function(){s.displayText=s.comboService.getValue(s.textField),s.value=s.comboService.getValue(s.idField),s.data&&0<s.data.length?(s.onChange(s.value),s.valueChange.emit(s.value)):(s.updateMappingFieldValue(),s.onChange(s.displayText),s.valueChange.emit(s.displayText)),s.cdr.detectChanges()})}return Object.defineProperty(t.prototype,"idField",{get:function(){return this.comboService.idField},set:function(t){this.comboService.idField=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"valueField",{get:function(){return this.comboService.valueField},set:function(t){this.comboService.valueField=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"textField",{get:function(){return this.comboService.textField},set:function(t){this.comboService.textField=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cmbPanel",{set:function(t){this._cmbPanel=t,this.comboPanelCreated$.next(t)},enumerable:!0,configurable:!0}),t.prototype.onClick=function(){this.comboService.isOpen$.next(!this.isOpen)},t.prototype.removeDocumentListener=function(){this.documentClickEvent&&(this.documentClickEvent(),this.documentClickEvent=null)},t.prototype.onBlur=function(t){this.onTouched()},t.prototype.blur=function(){this.input.textbox.nativeElement.blur()},t.prototype.focus=function(){this.input.textbox.nativeElement.focus()},t.prototype.onClear=function(){this.value="",this.comboService.selectedValue=null,this.comboService.isOpen$.next(!1),this.comboService.selected$.next([]),this.clear.emit()},t.prototype.updateMappingFieldValue=function(){if(this.ngControl&&this.ngControl.formDirective&&this.ngControl.formDirective.form&&this.ngControl.formDirective.form.bindingData){var t=this.ngControl.formDirective.form.bindingData,e=this.ngControl.formDirective.form.bindingPath,n=[];e&&(n=e.split("/").filter(function(t){return""!==t})),this.mappingField=this.mappingField?this.mappingField:"",t.setValue(n.concat(this.mappingField.split(".")),this.value,!0,!0)}},t.prototype.updateSelectedValues=function(){if(this.ngControl&&this.ngControl.formDirective&&this.ngControl.formDirective.form&&this.ngControl.formDirective.form.bindingData){var t=this.ngControl.formDirective.form.bindingData,e=this.ngControl.formDirective.form.bindingPath,n=[];e&&(n=e.split("/").filter(function(t){return""!==t})),this.mappingField=this.mappingField?this.mappingField:"",this.value=t.getValue(n.concat(this.mappingField.split(".")))}},t.prototype.onValueChange=function(t){this.value=t,this.onChange(t),this.valueChange.emit(t)},t.prototype.updatePosition=function(){if(this.autoWidth){var t=this.input.el.nativeElement.getBoundingClientRect().width;this.panelWidth=t||this.panelWidth}var e=this.el.nativeElement.getBoundingClientRect(),n=e.left,i=e.top;return i+this.panelHeight>window.innerHeight&&0<i-this.panelHeight&&(i=i-this.panelHeight-27),{left:n+"px",top:i+27+"px",width:this.panelWidth+"px",height:this.panelHeight+"px"}},t.prototype.contains=function(t,e){return t.nativeElement.contains(e.target)},t.prototype.creatContainer=function(){var t=this.document.querySelector(".overlay-container");return t||(t=this.document.createElement("div")).classList.add("overlay-container"),this.document.body.appendChild(t),t},t.prototype.creatPanel=function(t){var e=this.document.createElement("div");return e.id="overlay-"+Pe++,e.classList.add("overlay-pane"),t.appendChild(e),e},t.prototype.writeValue=function(t){this.displayText=t,this.cdr.markForCheck()},t.prototype.registerOnChange=function(t){this.onChange=t},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this.disabled=t,this.cdr.markForCheck()},t.prototype.ngOnInit=function(){},t.prototype.ngAfterViewInit=function(){var e=this;this.ngControl=this.injector.get(c.NgControl,null),!this.valueField&&this.idField&&(this.valueField=this.idField),b.fromEvent(window,"resize").pipe(I.debounceTime(100),I.throttle(function(t){return b.interval(100)}),I.takeUntil(this.destroy$)).subscribe(function(){var t=e.input.el.nativeElement.getBoundingClientRect().width;e.panelWidth=t,e.comboService.isOpen$.next(!1)})},t.prototype.ngOnDestroy=function(){this.destroy$.next(),this.destroy$.complete()},t.prototype.onSelect=function(t){var e=_({},t),n=e.data,i=e.index;this.comboService.selectItem(n,i),this.selectChange.emit({data:n,index:i}),this.focus()},t.prototype.onUnSelected=function(t){var e=_({},t).data;this.comboService.unSelectItem(e),this.focus()},t.decorators=[{type:C.Component,args:[{selector:"farris-editable-combo-list",template:'<input-group\r\n    #input\r\n    [class.actived]="isOpen"\r\n    [(value)]="displayText"\r\n    [disabled]="disabled"\r\n    [readonly]="readonly"\r\n    [editable]="editable"\r\n    [groupText]="groupIcon"\r\n    [placeholder]="placeholder"\r\n    [enableClear] = "false"\r\n    (clickHandle)="onClick()"\r\n    (blurHandle)="onBlur($event)"\r\n    (valueChange)="onValueChange($event)"\r\n    (clear)="onClear()"\r\n    style="display: block;"\r\n>\r\n</input-group>\r\n<div class="comboPanel" *ngIf="isOpen" [ngStyle]="updatePosition()" #comboPanel>\r\n    <farris-datalist\r\n        #dl\r\n        [data]="data"\r\n        [idField]="idField"\r\n        [valueField]="valueField"\r\n        [textField]="textField"\r\n        (selected)="onSelect($event)"\r\n        (unSelected)="onUnSelected($event)"\r\n    >\r\n\x3c!--        <ng-template list-item-tmp let-item="data.data" let-idx="index" *ngIf="itemTemplate">--\x3e\r\n\x3c!--            <ng-container *ngTemplateOutlet="itemTemplate; context: { $implicit: item, index: idx }"> </ng-container>--\x3e\r\n\x3c!--        </ng-template>--\x3e\r\n    </farris-datalist>\r\n</div>\r\n',changeDetection:C.ChangeDetectionStrategy.OnPush,encapsulation:C.ViewEncapsulation.None,providers:[{provide:c.NG_VALUE_ACCESSOR,useExisting:C.forwardRef(function(){return t}),multi:!0},xe],styles:[".overlay-container{position:fixed;z-index:9999;pointer-events:none;top:0;left:0;height:100%;width:100%}.overlay-pane{position:absolute;pointer-events:auto}.overlay-pane .comboPanel{position:absolute;overflow:auto;background:#fff;z-index:9;margin-top:-1px;box-shadow:0 2px 8px 0 rgba(0,0,0,.15);border-radius:2px}.overlay-pane .comboPanel combo2-list{position:absolute;width:100%;height:100%}"]}]}],t.ctorParameters=function(){return[{type:C.ElementRef},{type:C.ChangeDetectorRef},{type:undefined,decorators:[{type:C.Inject,args:[g.DOCUMENT]}]},{type:C.Renderer2},{type:xe},{type:C.Injector}]},t.propDecorators={disabled:[{type:C.Input}],readonly:[{type:C.Input}],editable:[{type:C.Input}],placeholder:[{type:C.Input}],panelWidth:[{type:C.Input}],panelHeight:[{type:C.Input}],autoWidth:[{type:C.Input}],enableClear:[{type:C.Input}],mappingField:[{type:C.Input}],data:[{type:C.Input}],idField:[{type:C.Input}],valueField:[{type:C.Input}],textField:[{type:C.Input}],showPanel:[{type:C.Output}],hidePanel:[{type:C.Output}],clear:[{type:C.Output}],valueChange:[{type:C.Output}],selectChange:[{type:C.Output}],cmbPanel:[{type:C.ViewChild,args:["comboPanel"]}],input:[{type:C.ViewChild,args:["input"]}]},t}(),Se=function(){function t(){}return t.decorators=[{type:C.NgModule,args:[{declarations:[_e],imports:[g.CommonModule,c.FormsModule,a.InputGroupModule,p.DatalistModule],exports:[_e]}]}],t}(),De=function(){function t(){this.placement="top",this.triggers="click",this.outsideClick=!1}return t.decorators=[{type:C.Injectable,args:[{providedIn:"root"}]}],t.ngInjectableDef=C.defineInjectable({factory:function(){return new t},token:t,providedIn:"root"}),t}(),Ee=function(){function t(t){Object.assign(this,t)}return Object.defineProperty(t.prototype,"isBs3",{get:function(){return G()},enumerable:!0,configurable:!0}),t.decorators=[{type:C.Component,args:[{selector:"popover-container",changeDetection:C.ChangeDetectionStrategy.OnPush,host:{"[class]":'"popover in popover-" + placement + " " + "bs-popover-" + placement + " " + placement + " " + containerClass',"[class.show]":"!isBs3",role:"tooltip",style:"display:block;"},template:'<div class="popover-arrow arrow"></div>\r\n<div class="popover-title popover-header" *ngIf="title" style="padding: 8px;line-height: 16px;">{{ title }}</div>\r\n<div class="popover-content popover-body">\r\n  <ng-content></ng-content>\r\n</div>',styles:["\n    :host.bs-popover-top .arrow, :host.bs-popover-bottom .arrow {\n      left: 50%;\n      margin-left: -8px;\n    }\n    :host.bs-popover-left .arrow, :host.bs-popover-right .arrow {\n      top: 50%;\n      margin-top: -8px;\n    }\n  "]}]}],t.ctorParameters=function(){return[{type:De}]},t.propDecorators={placement:[{type:C.Input}],title:[{type:C.Input}]},t}(),Oe=function(){function t(e,t,n,i,o){this.outsideClick=!1,this.containerClass="",this._isInited=!1,this._popover=o.createLoader(e,n,t).provide({provide:De,useValue:i}),Object.assign(this,i),this.onShown=this._popover.onShown,this.onHidden=this._popover.onHidden,"undefined"!=typeof window&&e.nativeElement.addEventListener("click",function(){try{e.nativeElement.focus()}catch(t){return}})}return Object.defineProperty(t.prototype,"isOpen",{get:function(){return this._popover.isShown},set:function(t){t?this.show():this.hide()},enumerable:!0,configurable:!0}),t.prototype.show=function(){!this._popover.isShown&&this.popover&&(this._popover.attach(Ee).to(this.container).position({attachment:this.placement}).show({content:this.popover,context:this.popoverContext,placement:this.placement,title:this.popoverTitle,containerClass:this.containerClass}),this.isOpen=!0)},t.prototype.hide=function(){this.isOpen&&(this._popover.hide(),this.isOpen=!1)},t.prototype.toggle=function(){if(this.isOpen)return this.hide();this.show()},t.prototype.ngOnInit=function(){var t=this;this._isInited||(this._isInited=!0,this._popover.listen({triggers:this.triggers,outsideClick:this.outsideClick,show:function(){return t.show()}}))},t.prototype.ngOnDestroy=function(){this._popover.dispose()},t.decorators=[{type:C.Directive,args:[{selector:"[popover]",exportAs:"bs-popover"}]}],t.ctorParameters=function(){return[{type:C.ElementRef},{type:C.Renderer2},{type:C.ViewContainerRef},{type:De},{type:pt}]},t.propDecorators={popover:[{type:C.Input}],popoverContext:[{type:C.Input}],popoverTitle:[{type:C.Input}],placement:[{type:C.Input}],outsideClick:[{type:C.Input}],triggers:[{type:C.Input}],container:[{type:C.Input}],containerClass:[{type:C.Input}],isOpen:[{type:C.Input}],onShown:[{type:C.Output}],onHidden:[{type:C.Output}]},t}(),ke=function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:[De]}},t.decorators=[{type:C.NgModule,args:[{imports:[g.CommonModule],declarations:[Oe,Ee],exports:[Oe],entryComponents:[Ee]}]}],t}(),Re=function(){function t(t,e,n,i,o){this.resolver=t,this.modalService=e,this.injector=n,this.notifyServ=i,this.el=o,this.valueChanged=new C.EventEmitter,this.submitModal=new C.EventEmitter,this.triggerRefreshPanel=new C.EventEmitter,this.selectOptions=[],this.itemType="string",this.precision=2,this.showClearButton=!1,this.showDefaultValue=!1}return t.prototype.ngOnChanges=function(t){this.refresh()},t.prototype.ngOnInit=function(){},t.prototype.refresh=function(){var t;switch(this.itemType=this.elementConfig.propertyType){case"boolean":this.itemType="select",this.selectOptions=[{key:!0,value:"true"},{key:!1,value:"false"}],t=this.selectTmpl;break;case"select":this.selectOptions=this.elementConfig.iterator||[],t=this.selectTmpl;break;case"multiSelect":this.selectOptions=this.elementConfig.iterator||[],"array"===this.elementConfig.multiSelectDataType&&(this.elementValue=this.elementValue?this.elementValue.toString():""),t=this.multiSelectTmpl;break;case"modal":this._convertModalShowValue(this.elementValue),t=this.modalTmpl;break;case"number":this.precision=this.elementConfig.decimals===undefined?2:this.elementConfig.decimals,t=this.numberTmpl;break;case"string":this.elementConfig.readonly&&this._convertModalShowValue(this.elementValue),t=this.stringTmpl;break;case"boolOrExp":this.selectOptions=[{key:!0,value:"true"},{key:!1,value:"false"}],t=this.boolOrExpTmpl;break;case"date":t=this.dateTmpl;break;case"datetime":t=this.datetimeTmpl}-1<Object.keys(this.elementConfig).indexOf("defaultValue")&&(this.elementValue!==undefined&&null!==this.elementValue||(this.elementValue=this.elementConfig.defaultValue),this.showDefaultValue=!0),Object.keys(this.elementConfig).indexOf("visible")<0&&(this.elementConfig.visible=!0),!t||0!==this.propItem.length&&this.propertyOldType===this.itemType||(this.propItem.clear(),this.propItem.createEmbeddedView(t),this.propertyOldType=this.itemType)},t.prototype.onmouseover=function(){this.elementConfig.showClearButton&&(this.showClearButton||(this.showClearButton=!0))},t.prototype.onmouseleave=function(){this.elementConfig.showClearButton&&(this.showClearButton=!1)},t.prototype.modalClear=function(){this._convertModalShowValue(null),-1<Object.keys(this.elementConfig).indexOf("afterClickClearButton")&&"function"==typeof this.elementConfig.afterClickClearButton&&this.elementConfig.afterClickClearButton(this.elementValue);var t={propertyID:this.elementConfig.propertyID,propertyValue:null};this.submitModal.emit({changeObject:t,parameters:null})},t.prototype.changeValue=function(t){var e=this.elementValue;e&&"string"===this.elementConfig.propertyType&&!this.elementConfig.readonly&&this.elementConfig.notAllowedChars&&this.elementConfig.notAllowedChars.length&&(this.elementConfig.notAllowedChars.forEach(function(t){"object"==typeof t?e=e.replace(t,""):"string"==typeof t&&(e=e.replace(new RegExp(t,"g"),""))}),this.elementValue=e),"multiSelect"===this.itemType&&"array"===this.elementConfig.multiSelectDataType&&(e=this.elementValue?this.elementValue.split(","):"");var n={propertyID:this.elementConfig.propertyID,propertyValue:e};this.valueChanged.emit({changeObject:n}),this.elementConfig.refreshPanelAfterChanged&&this.triggerRefreshPanel.emit()},t.prototype.changeDateValue=function(t){var e=t.formatted,n={propertyID:this.elementConfig.propertyID,propertyValue:e};this.valueChanged.emit({changeObject:n}),this.elementConfig.refreshPanelAfterChanged&&this.triggerRefreshPanel.emit()},t.prototype.openModal=function(){if(!this.elementConfig.readonly){if(-1<Object.keys(this.elementConfig).indexOf("beforeOpenModal")&&"function"==typeof this.elementConfig.beforeOpenModal){var t=this.elementConfig.beforeOpenModal();if(t&&!t.result)return void this.notifyServ.warning({title:"",msg:t.message,timeout:3e3})}this.createEditorComponent()}},t.prototype.createEditorComponent=function(){var o=this,t=this.elementConfig.editor;if(t){var e=this.resolver.resolveComponentFactory(t).create(this.injector);e.instance.value=this.elementValue,this.elementConfig.editorParams&&(e.instance.editorParams=this.elementConfig.editorParams);var n=e.instance.modalConfig;n?n.showButtons&&(n.buttons=e.instance.modalFooter):n={title:"",width:800,height:400,showButtons:!1};var r=this.modalService.show(e,n);e.instance.closeModal&&e.instance.closeModal instanceof C.EventEmitter&&e.instance.closeModal.subscribe(function(t){if(t){o._convertModalShowValue(t);var e={propertyID:o.elementConfig.propertyID,propertyValue:t};o.valueChanged.emit({changeObject:e})}r.close()}),e.instance.submitModal&&e.instance.submitModal instanceof C.EventEmitter&&e.instance.submitModal.subscribe(function(t){if(t){var e=t.value,n=t.parameters;o._convertModalShowValue(e);var i={propertyID:o.elementConfig.propertyID,propertyValue:e};o.submitModal.emit({changeObject:i,parameters:n}),r.close()}else r.close()})}},t.prototype._convertModalShowValue=function(t){this.elementConfig.converter?this.elementShowValue=this.elementConfig.converter.convertTo(t):t&&t instanceof Object?this.elementShowValue=JSON.stringify(t):this.elementShowValue=t},t.decorators=[{type:C.Component,args:[{selector:"webide-property-item",template:'<div class="farris-group-wrap property-item" [hidden]="!elementConfig.visible">\r\n  <div class="form-group farris-form-group">\r\n    <label class="col-form-label">\r\n      <span class="farris-label-text" [popover]="popTemplate" [popoverTitle]="elementConfig.propertyName"\r\n        container="body" placement="left" triggers="hover">{{elementConfig.propertyName}}</span>\r\n    </label>\r\n    \x3c!-- <label class="col-form-label">\r\n      <span class="farris-label-text" farrisPopover [popover]="popTemplate" container="body"\r\n        triggers="hover">{{elementConfig.propertyName}}</span>\r\n    </label> --\x3e\r\n    \x3c!-- <label class="col-form-label">\r\n      <span class="farris-label-text">{{elementConfig.propertyName}}</span>\r\n    </label> --\x3e\r\n\r\n\r\n    <ng-container #propItem> </ng-container>\r\n\r\n    \x3c!----\x3e\r\n    <ng-template #stringTmpl>\r\n      <div class="farris-input-wrap">\r\n        <input type="input" class="form-control form-control-sm" [(ngModel)]="elementValue" (blur)="changeValue($event)"\r\n          *ngIf="!elementConfig.readonly">\r\n        <input type="input" class="form-control form-control-sm" [(ngModel)]="elementShowValue" [readonly]="\'readonly\'"\r\n          *ngIf="elementConfig.readonly">\r\n      </div>\r\n    </ng-template>\r\n\r\n    <ng-template #numberTmpl>\r\n      \x3c!-- --\x3e\r\n      <div class="farris-input-wrap">\r\n        <farris-number-spinner [(ngModel)]="elementValue" [readonly]="elementConfig.readonly" [precision]="precision"\r\n          [autoDecimal]="true" [min]="elementConfig.min" [max]="elementConfig.max" [canNull]="true"\r\n          [bigNumber]="elementConfig.isBigNumber" (ngModelChange)="changeValue($event)">\r\n        </farris-number-spinner>\r\n      </div>\r\n    </ng-template>\r\n\r\n    \x3c!----\x3e\r\n    <ng-template #selectTmpl>\r\n      <div class="farris-input-wrap">\r\n        <farris-combo-list [(ngModel)]="elementValue" [idField]="\'key\'" [textField]="\'value\'" [data]="selectOptions"\r\n          [readonly]="elementConfig.readonly" [editable]="false" [enableClear]="false" [enableCancelSelected]="false"\r\n          (valueChange)="changeValue($event)">\r\n        </farris-combo-list>\r\n      </div>\r\n    </ng-template>\r\n\r\n    \x3c!--farris combolistfarris combolist--\x3e\r\n    <ng-template #boolOrExpTmpl>\r\n      <div class="farris-input-wrap">\r\n        <farris-editable-combo-list [data]="selectOptions" textField="value" idField="key" [(ngModel)]="elementValue"\r\n          (valueChange)="changeValue($event)" [editable]="true" [readonly]="elementConfig.readonly?true:false">\r\n        </farris-editable-combo-list>\r\n      </div>\r\n    </ng-template>\r\n\r\n    \x3c!----\x3e\r\n    <ng-template #multiSelectTmpl>\r\n      <div class="farris-input-wrap">\r\n        <farris-combo-list [(ngModel)]="elementValue" [idField]="\'key\'" [textField]="\'value\'" [data]="selectOptions"\r\n          [readonly]="elementConfig.readonly" [editable]="false" [multiSelect]="true" [enableClear]="false"\r\n          (ngModelChange)="changeValue($event)">\r\n        </farris-combo-list>\r\n      </div>\r\n    </ng-template>\r\n\r\n    \x3c!----\x3e\r\n    <ng-template #dateTmpl>\r\n      <div class="farris-input-wrap">\r\n        <farris-datepicker [(ngModel)]="elementValue" [editable]="false" [showTime]="false" [dateFormat]="\'yyyy-MM-dd\'"\r\n          [readonly]="elementConfig.readonly" (valueChange)="changeDateValue($event)" [returnType]="\'string\'"\r\n          [maxDate]="elementConfig.max" [minDate]="elementConfig.min">\r\n        </farris-datepicker>\r\n      </div>\r\n    </ng-template>\r\n\r\n\r\n    \x3c!--  --\x3e\r\n    <ng-template #datetimeTmpl>\r\n      <div class="farris-input-wrap">\r\n        <farris-datepicker [(ngModel)]="elementValue" [editable]="false" [showTime]="true"\r\n          [dateFormat]="\'yyyy-MM-dd HH:mm:ss\'" [readonly]="elementConfig.readonly"\r\n          (valueChange)="changeDateValue($event)" [returnType]="\'string\'" [maxDate]="elementConfig.max"\r\n          [minDate]="elementConfig.min">\r\n        </farris-datepicker>\r\n      </div>\r\n    </ng-template>\r\n\r\n\r\n    \x3c!--  --\x3e\r\n    <ng-template #modalTmpl>\r\n      <div class="farris-input-wrap modalIcon">\r\n        <input type="input" class="form-control form-control-sm" [(ngModel)]="elementShowValue" readonly>\r\n        <span *ngIf="elementConfig.showClearButton && !elementConfig.readonly" class="showClearButton"\r\n          (click)="modalClear()">\r\n          <i class="material-icons clearIcon">close</i>\r\n        </span>\r\n        <i class="material-icons moreIcon" (click)="openModal()">filter_none</i>\r\n      </div>\r\n    </ng-template>\r\n\r\n  </div>\r\n</div>\r\n\r\n\r\n<ng-template #popTemplate>\r\n  <div *ngIf="elementConfig.propertyID">\r\n    <span> </span> {{elementConfig.propertyID}}</div>\r\n  <div *ngIf="elementConfig.description">\r\n    <span> </span> {{elementConfig.description}}</div>\r\n</ng-template>',styles:[".property-item .form-group{margin-bottom:2px}.property-item .modalIcon .showClearButton{display:none}.property-item .modalIcon:hover .showClearButton{display:block}.property-item .modalIcon input{padding-right:30px}.property-item .modalIcon .moreIcon{position:absolute;top:6px;right:6px;cursor:pointer;font-size:16px;color:#758a96}.property-item .modalIcon .clearIcon{position:absolute;top:5px;right:30px;cursor:pointer;font-size:19px;color:#758a96}.property-item .form-control[readonly]{background-color:#fff}.property-item .form-control:disabled,.property-item .form-control[readonly]{color:#4b4c4c}"]}]}],t.ctorParameters=function(){return[{type:C.ComponentFactoryResolver},{type:f.BsModalService},{type:C.Injector},{type:d.NotifyService},{type:C.ElementRef}]},t.propDecorators={elementConfig:[{type:C.Input}],elementValue:[{type:C.Input}],valueChanged:[{type:C.Output}],submitModal:[{type:C.Output}],triggerRefreshPanel:[{type:C.Output}],propItem:[{type:C.ViewChild,args:["propItem",{read:C.ViewContainerRef}]}],stringTmpl:[{type:C.ViewChild,args:["stringTmpl"]}],numberTmpl:[{type:C.ViewChild,args:["numberTmpl"]}],selectTmpl:[{type:C.ViewChild,args:["selectTmpl"]}],boolOrExpTmpl:[{type:C.ViewChild,args:["boolOrExpTmpl"]}],multiSelectTmpl:[{type:C.ViewChild,args:["multiSelectTmpl"]}],dateTmpl:[{type:C.ViewChild,args:["dateTmpl"]}],datetimeTmpl:[{type:C.ViewChild,args:["datetimeTmpl"]}],modalTmpl:[{type:C.ViewChild,args:["modalTmpl"]}]},t}(),Me=function(){function t(){this.valueChanged=new C.EventEmitter,this.submitModal=new C.EventEmitter,this.triggerRefreshPanel=new C.EventEmitter}return t.prototype.ngOnChanges=function(t){this.category.propertyData&&this.category.enableCascade?this.data=this.category.propertyData:this.data=this.propertyData,this.adaptProperties()},t.prototype.adaptProperties=function(){var e=this;this.category.properties.forEach(function(t){"cascade"===t.propertyType&&(e.cascadeValueStringify(t,e.data[t.propertyID]),Object.keys(t).indexOf("visible")<0&&(t.visible=!0))})},t.prototype.refresh=function(){this.category.propertyData&&this.category.enableCascade?this.data=this.category.propertyData:this.data=this.propertyData,this.items.forEach(function(t){return t.refresh()})},t.prototype._itemChanged=function(t){var e=t.changeObject;this.data[e.propertyID]=e.propertyValue,this.category.setPropertyRelates&&"function"==typeof this.category.setPropertyRelates&&(this.category.setPropertyRelates(e,this.data),this.items.forEach(function(t){return t.refresh()})),e.categoryId=this.category.categoryId,this.category.enableCascade&&(e.propertyPath=this.category.parentPropertyID),this.valueChanged.emit(e)},t.prototype._submitModal=function(t){var e=t.changeObject,n=t.parameters;this.data[e.propertyID]=e.propertyValue,this.category.setPropertyRelates&&"function"==typeof this.category.setPropertyRelates&&(this.category.setPropertyRelates(e,this.data,n),this.items.forEach(function(t){return t.refresh()})),e.categoryId=this.category.categoryId,this.category.enableCascade&&(e.propertyPath=this.category.parentPropertyID),this.submitModal.emit(t)},t.prototype._cascadeitemChanged=function(t,e){var n=e.propertyID;if(n){var i=t.changeObject;this.data[n]||(this.data[n]={}),this.data[n][i.propertyID]=i.propertyValue,i.categoryId=this.category.categoryId,i.parentPropertyID=i.propertyPath=n,this.category.enableCascade&&(i.propertyPath=this.category.parentPropertyID+"."+i.parentPropertyID),this.category.setPropertyRelates&&"function"==typeof this.category.setPropertyRelates&&(this.category.setPropertyRelates(i,this.data),this.items.forEach(function(t){return t.refresh()})),this.cascadeValueStringify(e,this.data[n]),this.valueChanged.emit(i)}},t.prototype.__cascadeitemSubmitModal=function(t,e){var n=e.propertyID;if(n){var i=t.changeObject,o=t.parameters;this.data[n]||(this.data[n]={}),this.data[n][i.propertyID]=i.propertyValue,i.categoryId=this.category.categoryId,i.parentPropertyID=i.propertyPath=n,this.category.enableCascade&&(i.propertyPath=this.category.parentPropertyID+"."+i.parentPropertyID),this.category.setPropertyRelates&&"function"==typeof this.category.setPropertyRelates&&(this.category.setPropertyRelates(i,this.data,o),this.items.forEach(function(t){return t.refresh()})),this.cascadeValueStringify(e,this.data[n]),this.submitModal.emit(t)}},t.prototype.cascadeValueStringify=function(t,e){t&&t.cascadeConfig&&(e?t.cascadeConverter&&t.cascadeConverter.convertTo?t.cascadeSummary=t.cascadeConverter.convertTo(e,t.cascadeConfig):t.cascadeSummary=JSON.stringify(e):t.cascadeSummary="")},t.prototype._checkCascadeVisible=function(t){return Object.keys(t).indexOf("visible")<0||t.visible},t.prototype.refreshPanel=function(){this.triggerRefreshPanel.emit()},t.prototype.trackByPropId=function(t,e){return e.propertyID},t.decorators=[{type:C.Component,args:[{selector:"webide-property-item-list",template:'<div *ngFor="let propItem of category.properties; trackBy:trackByPropId">\r\n    <div *ngIf="propItem.propertyType != \'cascade\'" class="px-2">\r\n        <webide-property-item (valueChanged)="_itemChanged($event)" (submitModal)="_submitModal($event)"\r\n            [elementValue]="data[propItem.propertyID]" [elementConfig]="propItem"\r\n            (triggerRefreshPanel)="refreshPanel()"></webide-property-item>\r\n    </div>\r\n\r\n    <div class="farris-panel" *ngIf="propItem.propertyType == \'cascade\' && propItem.visible">\r\n        <div class="propertyCascadeItem farris-panel-item card">\r\n            <div class="card-header" (click)="propItem.isExpand=!propItem.isExpand">\r\n                <div class="panel-item-title">\r\n                    <div class="form-group farris-form-group">\r\n                        <div class="f-section-formgroup-legend">\r\n                            <div class="f-header px-0  col-form-label" style="font-size: inherit;">\r\n                                <div class="f-title f-utils-fill">{{propItem.propertyName}}</div>\r\n                                <div class="f-toolbar">\r\n                                    <button class="btn f-btn-collapse-expand f-btn-mx"\r\n                                        [class.f-state-expand]="propItem.isExpand"><span></span></button>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div class="farris-input-wrap" *ngIf="!propItem.hideCascadeTitle">\r\n                            <input type="input" class="form-control form-control-sm" readonly\r\n                                [value]="propItem.cascadeSummary">\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class="card-body" [style.display]="propItem.isExpand?\'block\':\'none\'">\r\n                <div *ngFor="let cascadeItem of propItem.cascadeConfig" class="px-2">\r\n                    <webide-property-item (valueChanged)="_cascadeitemChanged($event,propItem)"\r\n                        (submitModal)="__cascadeitemSubmitModal($event, propItem)"\r\n                        [elementValue]="data[propItem.propertyID]?data[propItem.propertyID][cascadeItem.propertyID]:\'\'"\r\n                        [elementConfig]="cascadeItem" (triggerRefreshPanel)="refreshPanel()">\r\n                    </webide-property-item>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n\r\n</div>',encapsulation:C.ViewEncapsulation.None,styles:[".propertyCascadeItem{background-color:transparent!important;border:none!important}.propertyCascadeItem .card-header{background-color:transparent!important;padding:4px 12px!important;color:inherit!important}.propertyCascadeItem .card-header .panel-item-title{width:100%;position:relative;font-size:inherit!important}.propertyCascadeItem .card-header .panel-item-title .farris-input-wrap{margin-left:-5px;margin-right:-5px}.propertyCascadeItem .f-accordion-collapse,.propertyCascadeItem .f-accordion-expand{right:0;left:auto!important;top:6px;color:#6b94ec!important;position:absolute}.propertyCascadeItem .card-body{padding:3px 12px!important;background:rgba(255,255,255,.8);border-radius:8px;margin:4px 8px}"]}]}],t.ctorParameters=function(){return[]},t.propDecorators={category:[{type:C.Input}],propertyData:[{type:C.Input}],valueChanged:[{type:C.Output}],submitModal:[{type:C.Output}],triggerRefreshPanel:[{type:C.Output}],items:[{type:C.ViewChildren,args:[Re]}]},t}(),Ae=function(){function t(){this.isPersitOpenState=!1,this.isShowPanel=!1,this.closePropertyPanel=new C.EventEmitter,this.propertyData={},this.propertyChanged=new C.EventEmitter,this.submitModal=new C.EventEmitter,this.showCloseBtn=!0,this.isOpen=!0,this.categoryTabs=[]}return t.prototype.ngOnInit=function(){this.width?this.eastDiv.nativeElement.style.width=this.width+"px":this.eastDiv.nativeElement.style.width="inherit",this.height?this.eastDiv.nativeElement.style.height=this.height+"px":this.eastDiv.nativeElement.style.height="100%",this.isPersitOpenState&&(this.isOpen=this.isShowPanel),this.checkShowTabCategory()},t.prototype.ngOnChanges=function(t){t.isShowPanel&&this.isPersitOpenState&&(this.isOpen=this.isShowPanel),this.checkShowTabCategory()},t.prototype.refreshPanel=function(){this.checkShowTabCategory(),this.itemLists.forEach(function(t){return t.refresh()})},t.prototype.changeStatus=function(t){this.propertyConfig.length<2||(t.status&&"open"!==t.status?t.status="open":t.status="closed")},t.prototype.collapse=function(){this.isPersitOpenState||(this.isOpen=!1),this.closePropertyPanel.emit()},t.prototype._valueChanged=function(t){this.propertyChanged.emit(t)},t.prototype._submitModal=function(t){this.submitModal.emit(t)},t.prototype.checkShowTabCategory=function(){var i=this;if(this.categoryTabs=[],!this.propertyConfig||0===this.propertyConfig.length)return this.categoryTabs=[{tabId:"default",tabName:"",categoryList:[]}],void(this.selectedTab=null);this.propertyConfig.forEach(function(e){if(e.tabId){var t=i.categoryTabs.find(function(t){return t.tabId===e.tabId});t?(t.categoryList.push(e),t.hide&&(t.hide=e.hide||0===e.properties.length)):i.categoryTabs.push({tabId:e.tabId,tabName:e.tabName,categoryList:[e],hide:e.hide||0===e.properties.length})}else{var n=i.categoryTabs.find(function(t){return"default"===t.tabId});n?n.categoryList.push(e):i.categoryTabs.push({tabId:"default",tabName:"",categoryList:[e]})}}),this.selectedTab=this.categoryTabs[0]},t.decorators=[{type:C.Component,args:[{selector:"app-property-panel",template:'<div #east [style.display]="isOpen?\'block\':\'none\'">\r\n    <div class="propertyPanel panel d-flex flex-column">\r\n\r\n\r\n        <div class="title d-flex">\r\n            <div class="title-label" *ngFor="let tab of categoryTabs" (click)="selectedTab=tab" [hidden]="tab.hide"\r\n                [class.active]="selectedTab && selectedTab.tabId===tab.tabId && categoryTabs.length>1">\r\n                <span>{{tab.tabName}}</span>\r\n            </div>\r\n            <div class="title-actions">\r\n                <div class="monaco-toolbar">\r\n                    <div class="monaco-action-bar animated">\r\n                        <ul class="actions-container" role="toolbar">\r\n                            <li class="action-item" (click)="collapse()" *ngIf="showCloseBtn">\r\n                                <a class="hide-panel" title=""></a>\r\n                            </li>\r\n                        </ul>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n\r\n        <div #propertyPanel class="panel-body" [style.height]="(height - 35) + \'px\'" *ngIf="selectedTab">\r\n            <ul class="property-grid">\r\n                <li *ngFor="let category of selectedTab.categoryList">\r\n                    <ng-container *ngIf="!category.hide">\r\n                        <span *ngIf="!category.hideTitle"\r\n                            [class]="category.status === \'closed\' ? \'group-label collapse\': \'group-label expand\' "\r\n                            (click)="changeStatus(category)">{{ category.categoryName }}</span>\r\n                        <div [style.display]="!category.status || category.status === \'open\'?\'block\':\'none\'"\r\n                            class="py-1 ">\r\n                            <webide-property-item-list [category]="category" [propertyData]="propertyData"\r\n                                (valueChanged)="_valueChanged($event)" (submitModal)="_submitModal($event)"\r\n                                (triggerRefreshPanel)="refreshPanel()"></webide-property-item-list>\r\n                        </div>\r\n                    </ng-container>\r\n                </li>\r\n            </ul>\r\n        </div>\r\n    </div>\r\n\r\n</div>',styles:[":host{width:inherit;height:inherit}.propertyPanel{width:100%;height:100%;color:rgba(0,0,0,.75);background:#f3f8ff!important;border-color:#d8dbe2!important}.propertyPanel .title{position:relative;background:#d0d8e9!important;padding-right:40px;flex-wrap:wrap}.propertyPanel .title>.title-label{line-height:34px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;padding-left:12px;padding-right:12px;color:#333;font-size:14px;font-weight:600;cursor:pointer}.propertyPanel .title>.title-label.active{background:#8fb1df!important}.propertyPanel .title .title-actions{padding-left:35px;height:35px;flex:1;box-sizing:border-box;position:absolute;right:10px;top:0}.propertyPanel .property-grid .group-label{line-height:30px;display:block;padding-left:12px;cursor:pointer;background:#e2e9f6!important;color:#34495e!important;font-weight:600!important}.propertyPanel .panel-body{overflow:auto;height:100%}.propertyPanel .property-grid{list-style:none;margin:0;padding:0}.propertyPanel .action-item{cursor:pointer;display:inline-block;transition:transform 50ms;transition:transform 50ms,-webkit-transform 50ms;position:relative;padding:0}.propertyPanel .action-item .hide-panel{height:35px;display:block;line-height:35px;min-width:28px;color:rgba(66,66,66,.75);background-color:transparent!important;outline:0!important;background:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='16' height='16' viewBox='0 0 16 16' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M9.784 8L13 11.217 11.215 13 8.001 9.786 4.785 13 3 11.216l3.214-3.215L3 4.785 4.784 3 8 6.216 11.216 3 13 4.785 9.784 8.001z' fill='%23424242'/%3E%3C/svg%3E\") 50% 50% no-repeat}"]}]}],t.ctorParameters=function(){return[]},t.propDecorators={width:[{type:C.Input}],height:[{type:C.Input}],isPersitOpenState:[{type:C.Input}],isShowPanel:[{type:C.Input}],closePropertyPanel:[{type:C.Output}],propertyConfig:[{type:C.Input}],propertyData:[{type:C.Input}],propertyChanged:[{type:C.Output}],submitModal:[{type:C.Output}],showCloseBtn:[{type:C.Input}],eastDiv:[{type:C.ViewChild,args:["east"]}],itemLists:[{type:C.ViewChildren,args:[Me]}]},t}(),Ne=function(){function t(){}return t.decorators=[{type:C.NgModule,args:[{declarations:[Ae,Me,Re],imports:[g.CommonModule,c.FormsModule,ke,l.InputsModule,u.DropDownsModule,Se,d.NotifyModule.forRoot(),f.ModalModule.forRoot(),m.FarrisDatePickerModule,h.ComboListModule,y.NumberSpinnerModule],exports:[Ae],entryComponents:[Ae,Re]}]}],t.ctorParameters=function(){return[]},t}(),Te=function mi(){this.hide=!1,this.hideTitle=!1,this.enableCascade=!1},Fe=function(){function t(){this.readonly=!1,this.visible=!0,this.isBigNumber=!1,this.refreshPanelAfterChanged=!1,this.multiSelectDataType="string",this.isExpand=!1,this.hideCascadeTitle=!1,this.showClearButton=!1}return t.prototype.beforeOpenModal=function(){return new je},t}(),je=function yi(){},Be=function gi(){},Le=function(){function t(){this.justify="start",this.orientation="horizontal",this.type="tabs"}return t.decorators=[{type:C.Injectable}],t}(),Ve=0,He=function(){function t(t){this.templateRef=t}return t.decorators=[{type:C.Directive,args:[{selector:"ng-template[ngbTabTitle]"}]}],t.ctorParameters=function(){return[{type:C.TemplateRef}]},t}(),ze=function(){function t(t){this.templateRef=t}return t.decorators=[{type:C.Directive,args:[{selector:"ng-template[ngbTabContent]"}]}],t.ctorParameters=function(){return[{type:C.TemplateRef}]},t}(),We=function(){function t(){this.id="ngb-tab-"+Ve++,this.disabled=!1}return t.decorators=[{type:C.Directive,args:[{selector:"ngb-tab"}]}],t.propDecorators={id:[{type:C.Input}],title:[{type:C.Input}],disabled:[{type:C.Input}],contentTpl:[{type:C.ContentChild,args:[ze]}],titleTpl:[{type:C.ContentChild,args:[He]}]},t}(),Ue=function(){function t(t){this.destroyOnHide=!0,this.tabChange=new C.EventEmitter,this.type=t.type,this.justify=t.justify,this.orientation=t.orientation}return Object.defineProperty(t.prototype,"justify",{set:function(t){this.justifyClass="fill"===t||"justified"===t?"nav-"+t:"justify-content-"+t},enumerable:!0,configurable:!0}),t.prototype.select=function(t){var e=this._getTabById(t);if(e&&!e.disabled&&this.activeId!==e.id){var n=!1;this.tabChange.emit({activeId:this.activeId,nextId:e.id,preventDefault:function(){n=!0}}),n||(this.activeId=e.id)}},t.prototype.ngAfterContentChecked=function(){var t=this._getTabById(this.activeId);this.activeId=t?t.id:this.tabs.length?this.tabs.first.id:null},t.prototype._getTabById=function(e){var t=this.tabs.filter(function(t){return t.id===e});return t.length?t[0]:null},t.decorators=[{type:C.Component,args:[{selector:"ngb-tabset",exportAs:"ngbTabset",template:'\n    <ul [class]="\'web-ide-content-tab-header nav nav-\' + type + (orientation == \'horizontal\'?  \' \'\n      + justifyClass : \' flex-column\')" role="tablist">\n      <li class="nav-item" *ngFor="let tab of tabs">\n        <a [id]="tab.id" class="nav-link" [class.active]="tab.id === activeId" [class.disabled]="tab.disabled"\n          href (click)="select(tab.id)" role="tab" [attr.tabindex]="(tab.disabled ? \'-1\': undefined)"\n          [attr.aria-controls]="((!destroyOnHide || tab.id === activeId) ? tab.id + \'-panel\' : null)"\n          [attr.aria-expanded]="tab.id === activeId" [attr.aria-disabled]="tab.disabled">\n          {{tab.title}}<ng-template [ngTemplateOutlet]="tab.titleTpl?.templateRef"></ng-template>\n        </a>\n      </li>\n    </ul>\n    <div class="web-ide-content tab-content d-flex">\n      <ng-template ngFor let-tab [ngForOf]="tabs">\n        <div\n          class="tab-pane {{tab.id === activeId ? \'active\' : null}}"\n          *ngIf="!destroyOnHide || tab.id === activeId"\n          role="tabpanel"\n          [attr.aria-labelledby]="tab.id" id="{{tab.id}}-panel"\n          [attr.aria-expanded]="tab.id === activeId">\n          <ng-template [ngTemplateOutlet]="tab.contentTpl.templateRef"></ng-template>\n        </div>\n      </ng-template>\n    </div>\n  ',styles:[":host{display:flex!important;flex:1;flex-direction:column}"]}]}],t.ctorParameters=function(){return[{type:Le}]},t.propDecorators={tabs:[{type:C.ContentChildren,args:[We]}],activeId:[{type:C.Input}],destroyOnHide:[{type:C.Input}],justify:[{type:C.Input}],orientation:[{type:C.Input}],type:[{type:C.Input}],tabChange:[{type:C.Output}]},t}(),$e=[Ue,We,ze,He],qe=function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:[Le]}},t.decorators=[{type:C.NgModule,args:[{declarations:$e,exports:$e,imports:[g.CommonModule]}]}],t}(),Xe=function(){function t(){this.justify="start",this.orientation="horizontal",this.type="tabs"}return t.decorators=[{type:C.Injectable}],t}(),Ye=0,Ke=function(){function t(t){this.templateRef=t}return t.decorators=[{type:C.Directive,args:[{selector:"ng-template[ngbNavTabTitle]"}]}],t.ctorParameters=function(){return[{type:C.TemplateRef}]},t}(),Ge=function(){function t(t){this.templateRef=t}return t.decorators=[{type:C.Directive,args:[{selector:"ng-template[ngbNavTabContent]"}]}],t.ctorParameters=function(){return[{type:C.TemplateRef}]},t}(),Je=function(){function t(){this.id="ngb-tab-"+Ye++,this.disabled=!1}return t.decorators=[{type:C.Directive,args:[{selector:"ngb-navtab"}]}],t.propDecorators={id:[{type:C.Input}],title:[{type:C.Input}],disabled:[{type:C.Input}],contentTpl:[{type:C.ContentChild,args:[Ge]}],titleTpl:[{type:C.ContentChild,args:[Ke]}]},t}(),Ze=function(){function t(t){this.destroyOnHide=!0,this.tabChange=new C.EventEmitter,this.type=t.type,this.justify=t.justify,this.orientation=t.orientation}return Object.defineProperty(t.prototype,"justify",{set:function(t){this.justifyClass="fill"===t||"justified"===t?"nav-"+t:"justify-content-"+t},enumerable:!0,configurable:!0}),t.prototype.select=function(t){var e=this._getTabById(t);if(e&&!e.disabled&&this.activeId!==e.id){var n=!1;this.tabChange.emit({activeId:this.activeId,nextId:e.id,preventDefault:function(){n=!0}}),n||(this.activeId=e.id)}},t.prototype.ngAfterContentChecked=function(){var t=this._getTabById(this.activeId);this.activeId=t?t.id:this.tabs.length?this.tabs.first.id:null},t.prototype._getTabById=function(e){var t=this.tabs.filter(function(t){return t.id===e});return t.length?t[0]:null},t.decorators=[{type:C.Component,args:[{selector:"ngb-navtabset",exportAs:"NgbNavTabset",template:'\n    <ul [class]="\'web-ide-activity-bar nav nav-\' + type + (orientation == \'horizontal\'?  \' \'\n      + justifyClass : \' flex-column\')" role="tablist">\n      <li class="nav-item" *ngFor="let tab of tabs">\n        <a [id]="tab.id" class="nav-link" [class.active]="tab.id === activeId" [class.disabled]="tab.disabled"\n          href (click)="select(tab.id)" role="tab" [attr.tabindex]="(tab.disabled ? \'-1\': undefined)"\n          [attr.aria-controls]="(!destroyOnHide || tab.id === activeId ? tab.id + \'-panel\' : null)"\n          [attr.aria-expanded]="tab.id === activeId" [attr.aria-disabled]="tab.disabled">\n          {{tab.title}}<ng-template [ngTemplateOutlet]="tab.titleTpl?.templateRef"></ng-template>\n        </a>\n      </li>\n    </ul>\n    <div class="web-ide-side-bar tab-content">\n      <ng-template ngFor let-tab [ngForOf]="tabs">\n        <div\n          class="tab-pane {{tab.id === activeId ? \'active\' : null}}"\n          *ngIf="!destroyOnHide || tab.id === activeId"\n          role="tabpanel"\n          [attr.aria-labelledby]="tab.id" id="{{tab.id}}-panel"\n          [attr.aria-expanded]="tab.id === activeId">\n          <ng-template [ngTemplateOutlet]="tab.contentTpl.templateRef"></ng-template>\n        </div>\n      </ng-template>\n    </div>\n  ',styles:[":host{display:flex!important;flex:1}"]}]}],t.ctorParameters=function(){return[{type:Xe}]},t.propDecorators={tabs:[{type:C.ContentChildren,args:[Je]}],activeId:[{type:C.Input}],destroyOnHide:[{type:C.Input}],justify:[{type:C.Input}],orientation:[{type:C.Input}],type:[{type:C.Input}],tabChange:[{type:C.Output}]},t}(),Qe=[Ze,Je,Ge,Ke],tn=function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:[Xe]}},t.decorators=[{type:C.NgModule,args:[{declarations:Qe,exports:Qe,imports:[g.CommonModule]}]}],t}();var en=function(){function t(){this.closeOthers=!1}return t.decorators=[{type:C.Injectable}],t}(),nn=0,on=function(){function t(t){this.templateRef=t}return t.decorators=[{type:C.Directive,args:[{selector:"ng-template[ngbPanelTitle]"}]}],t.ctorParameters=function(){return[{type:C.TemplateRef}]},t}(),rn=function(){function t(t){this.templateRef=t}return t.decorators=[{type:C.Directive,args:[{selector:"ng-template[ngbPanelContent]"}]}],t.ctorParameters=function(){return[{type:C.TemplateRef}]},t}(),sn=function(){function t(){this.disabled=!1,this.id="ngb-panel-"+nn++,this.isOpen=!1}return t.decorators=[{type:C.Directive,args:[{selector:"ngb-panel"}]}],t.propDecorators={disabled:[{type:C.Input}],id:[{type:C.Input}],title:[{type:C.Input}],type:[{type:C.Input}],contentTpl:[{type:C.ContentChild,args:[rn]}],titleTpl:[{type:C.ContentChild,args:[on]}]},t}(),an=function(){function t(t){this.activeIds=[],this.destroyOnHide=!0,this.panelChange=new C.EventEmitter,this.type=t.type,this.closeOtherPanels=t.closeOthers}return t.prototype.toggle=function(e){var t=this.panels.find(function(t){return t.id===e});if(t&&!t.disabled){var n=!1;this.panelChange.emit({panelId:e,nextState:!t.isOpen,preventDefault:function(){n=!0}}),n||(t.isOpen=!t.isOpen,this.closeOtherPanels&&this._closeOthers(e),this._updateActiveIds())}},t.prototype.ngAfterContentChecked=function(){var e=this;(function n(t){return"string"==typeof t})(this.activeIds)&&(this.activeIds=this.activeIds.split(/\s*,\s*/)),this.panels.forEach(function(t){return t.isOpen=!t.disabled&&-1<e.activeIds.indexOf(t.id)}),1<this.activeIds.length&&this.closeOtherPanels&&(this._closeOthers(this.activeIds[0]),this._updateActiveIds())},t.prototype._closeOthers=function(e){this.panels.forEach(function(t){t.id!==e&&(t.isOpen=!1)})},t.prototype._updateActiveIds=function(){this.activeIds=this.panels.filter(function(t){return t.isOpen&&!t.disabled}).map(function(t){return t.id})},t.decorators=[{type:C.Component,args:[{selector:"ngb-accordion",exportAs:"ngbAccordion",template:'\n    <ng-template ngFor let-panel [ngForOf]="panels">\n      <div class="card">\n        <div role="tab" id="{{panel.id}}-header"\n          [class]="\'card-header \' + (panel.type ? \'card-\'+panel.type: type ? \'card-\'+type : \'\')" [class.active]="panel.isOpen">\n          <a href (click)="toggle(panel.id)" [class.text-muted]="panel.disabled" [attr.tabindex]="(panel.disabled ? \'-1\' : null)"\n            [attr.aria-expanded]="panel.isOpen" [attr.aria-controls]="(panel.isOpen ? panel.id : null)"\n            [attr.aria-disabled]="panel.disabled">\n            {{panel.title}}<ng-template [ngTemplateOutlet]="panel.titleTpl?.templateRef"></ng-template>\n          </a>\n        </div>\n        <div id="{{panel.id}}" role="tabpanel" [attr.aria-labelledby]="panel.id + \'-header\'"\n             class="card-body collapse {{panel.isOpen ? \'show\' : null}}" *ngIf="!destroyOnHide || panel.isOpen">\n             <ng-template [ngTemplateOutlet]="panel.contentTpl.templateRef"></ng-template>\n        </div>\n      </div>\n    </ng-template>\n  '}]}],t.ctorParameters=function(){return[{type:en}]},t.propDecorators={panels:[{type:C.ContentChildren,args:[sn]}],activeIds:[{type:C.Input}],closeOtherPanels:[{type:C.Input,args:["closeOthers"]}],destroyOnHide:[{type:C.Input}],type:[{type:C.Input}],panelChange:[{type:C.Output}]},t}(),pn=[an,sn,on,rn],cn=function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:[en]}},t.decorators=[{type:C.NgModule,args:[{declarations:pn,exports:pn,imports:[g.CommonModule]}]}],t}(),ln=function(){function t(t,e,n){this._elementRef=t,this.renderer=e,this._viewContainerRef=n,this.widthChanged=new C.EventEmitter}return t.prototype.onMouseDown=function(){console.log("mousedown"),this.bindDocumentClickListener()},t.prototype.onMouseUp=function(){console.log("mouseup")},t.prototype.ngOnInit=function(){},t.prototype.ngOnDestroy=function(){},t.prototype.bindDocumentClickListener=function(){var n=this;this.documentClickListener||(this.documentClickListener=this.renderer.listen("document","mouseup",function(t){console.log("mouseup"),console.log(t),n.unbindDocumentMoveListener(),n.unbindDocumentClickListener()}),this.documentMoveListener||(this.bindDocumentClickListener=this.renderer.listen("document","mousemove",function(t){n.panelWidth=t.clientX;var e=t.clientX;n.widthChanged.emit(e)})))},t.prototype.unbindDocumentClickListener=function(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)},t.prototype.unbindDocumentMoveListener=function(){this.bindDocumentClickListener&&(this.bindDocumentClickListener(),this.bindDocumentClickListener=null)},t.decorators=[{type:C.Directive,args:[{selector:"[sash]",exportAs:"sash"}]}],t.ctorParameters=function(){return[{type:C.ElementRef},{type:C.Renderer2},{type:C.ViewContainerRef}]},t.propDecorators={panelWidth:[{type:C.Input}],widthChanged:[{type:C.Output}],onMouseDown:[{type:C.HostListener,args:["mousedown"]}],onMouseUp:[{type:C.HostListener,args:["mouseup"]}]},t}(),un=function(){function e(){}return e.forRoot=function(t){return{ngModule:e}},e.decorators=[{type:C.NgModule,args:[{declarations:[ln],exports:[ln]}]}],e}(),dn=[qe,tn,cn],hn=function(){function t(){}return t.decorators=[{type:C.NgModule,args:[{imports:[qe.forRoot(),tn.forRoot(),cn.forRoot()],exports:[dn]}]}],t}(),fn=function(){function t(){}return t.forRoot=function(){return{ngModule:hn}},t.decorators=[{type:C.NgModule,args:[{}]}],t}(),mn=function(){function t(){}return t.decorators=[{type:C.NgModule,args:[{imports:[un.forRoot()]}]}],t}(),yn=function(){function t(){this.length=0,this.asArray=[]}return t.prototype.getNode=function(t){if(0===this.length||t<0||t>=this.length)throw new Error("Position is out of the list");for(var e=this.head,n=0;n<t;n++)e=e.next;return e},t.prototype.createInternalArrayRepresentation=function(){for(var t=[],e=this.head;e;)t.push(e.value),e=e.next;this.asArray=t},t.prototype.get=function(t){if(!(0===this.length||t<0||t>=this.length)){for(var e=this.head,n=0;n<t;n++)e=e.next;return e.value}},t.prototype.add=function(t,e){if(void 0===e&&(e=this.length),e<0||e>this.length)throw new Error("Position is out of the list");var n={value:t,next:undefined,previous:undefined};if(0===this.length)this.head=n,this.tail=n,this.current=n;else if(0===e)n.next=this.head,this.head.previous=n,this.head=n;else if(e===this.length)(this.tail.next=n).previous=this.tail,this.tail=n;else{var i=this.getNode(e-1),o=i.next;i.next=n,(o.previous=n).previous=i,n.next=o}this.length++,this.createInternalArrayRepresentation()},t.prototype.remove=function(t){if(void 0===t&&(t=0),0===this.length||t<0||t>=this.length)throw new Error("Position is out of the list");if(0===t)this.head=this.head.next,this.head?this.head.previous=undefined:this.tail=undefined;else if(t===this.length-1)this.tail=this.tail.previous,this.tail.next=undefined;else{var e=this.getNode(t);e.next.previous=e.previous,e.previous.next=e.next}this.length--,this.createInternalArrayRepresentation()},t.prototype.set=function(t,e){if(0===this.length||t<0||t>=this.length)throw new Error("Position is out of the list");this.getNode(t).value=e,this.createInternalArrayRepresentation()},t.prototype.toArray=function(){return this.asArray},t.prototype.findAll=function(t){for(var e=this.head,n=[],i=0;i<this.length;i++)t(e.value,i)&&n.push({index:i,value:e.value}),e=e.next;return n},t.prototype.push=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return t.forEach(function(t){e.add(t)}),this.length},t.prototype.pop=function(){if(0===this.length)return undefined;var t=this.tail;return this.remove(this.length-1),t.value},t.prototype.unshift=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return t.reverse(),t.forEach(function(t){e.add(t,0)}),this.length},t.prototype.shift=function(){if(0===this.length)return undefined;var t=this.head.value;return this.remove(),t},t.prototype.forEach=function(t){for(var e=this.head,n=0;n<this.length;n++)t(e.value,n),e=e.next},t.prototype.indexOf=function(t){for(var e=this.head,n=0,i=0;i<this.length;i++){if(e.value===t){n=i;break}e=e.next}return n},t.prototype.some=function(t){for(var e=this.head,n=!1;e&&!n;){if(t(e.value)){n=!0;break}e=e.next}return n},t.prototype.every=function(t){for(var e=this.head,n=!0;e&&n;)t(e.value)||(n=!1),e=e.next;return n},t.prototype.toString=function(){return"[Linked List]"},t.prototype.find=function(t){for(var e,n=this.head,i=0;i<this.length;i++){if(t(n.value,i)){e=n.value;break}n=n.next}return e},t.prototype.findIndex=function(t){for(var e,n=this.head,i=0;i<this.length;i++){if(t(n.value,i)){e=i;break}n=n.next}return e},t}(),gn=function(){function t(t,e,n){this.eventBus=t,this.hostType=e,this.eventTokenValueProvider=n}return t.prototype.post=function(t,e){this.eventBus.post(this.hostType,this.eventTokenValueProvider(),t,e)},t}(),vn=function(){function t(t,e,n,i){this.name=t,this.tokenValue=e,this.emitter=n,this.parentEventPipeList=i,this.eventSubject=new v.Subject,this.subscriptionMap=new Map,this.onceSubscriptionMap=new Map,this.parentEventPipeList&&this.parentEventPipeList.push(this)}return t.prototype.post=function(t){this.eventSubject.next(t)},t.prototype.subscribe=function(e,n){var t=this.eventSubject.subscribe(function(t){return e.call(n,t)});return this.subscriptionMap.set(n,t),this},t.prototype.subscribeOnce=function(e,n){var t=this.eventSubject.subscribe(function(t){return e.call(n,t)});return this.onceSubscriptionMap.set(n,t),this},t.prototype.unSubscribe=function(t){var e=this.subscriptionMap.get(t);e?(e.unsubscribe(),e=null,this.subscriptionMap["delete"](t)):(e=this.onceSubscriptionMap.get(t))&&(e.unsubscribe(),e=null,this.onceSubscriptionMap["delete"](t))},t.prototype.unSubscribeForOnce=function(){var t,e;try{for(var n=O(Array.from(this.onceSubscriptionMap.keys())),i=n.next();!i.done;i=n.next()){var o=i.value;this.unSubscribe(o)}}catch(r){t={error:r}}finally{try{i&&!i.done&&(e=n["return"])&&e.call(n)}finally{if(t)throw t.error}}},t.prototype.matchEmitterToken=function(t,e){return(!this.emitter||!t||this.emitter===t)&&(!this.tokenValue||!e||this.tokenValue===e)},t.prototype.examByTargetToken=function(t,e){return this.emitter===t&&this.tokenValue===e},t.prototype.dispose=function(t){var e=this;if(this.unSubscribe(t),0===this.subscriptionMap.size&&this.parentEventPipeList){var n=this.parentEventPipeList.findIndex(function(t){return t===e});-1!==n&&this.parentEventPipeList.splice(n,1)}},t}(),bn=function(){function t(t){this.listenerResults=new Map,this.subject=new b.Subject}return t.prototype.notify=function(t){var e=function(){},n=function(){},i=Date.now().toString();this.subject.next({value:t,timestamp:i});var o=b.timer(0).pipe(I.mapTo(!0)),r=this.listenerResults.get(i);r?(r=r.concat(o),this.listenerResults["delete"](i)):r=[o];var s=b.forkJoin(r).subscribe({next:function(t){t.reduce(function(t,e){return t&&e})?e():n(),s.unsubscribe()},error:function(){s.unsubscribe()}});return{then:function(t){return e=t,this},"catch":function(t){return n=t,this}}},t.prototype.listen=function(t,e){var s=this,a=e?t.bind(e):t;this.subject.subscribe(function(t){var e,n=t.value,i=t.timestamp,o=a(n);e=o instanceof b.Observable?o:"boolean"==typeof o?b.of(o):b.of(!0);var r=s.listenerResults.get(i);r||(r=[],s.listenerResults.set(i,r)),r.push(e)})},t}(),Cn=function(){function t(){this.proxyMap=new Map,this.eventMap=new Map,this.notificationMap=new Map}return t.prototype.getProxy=function(t,e){var n=t.constructor.name;return this.proxyMap.has(n)||this.proxyMap.set(n,new gn(this,t,e)),this.proxyMap.get(n)},t.prototype.post=function(t,e,n,i){var o,r,s=this.eventMap.get(n);if(s)if(t){var a;a=t instanceof C.Type?t.name:t;try{for(var p=O(s),c=p.next();!c.done;c=p.next()){var l=c.value;l.matchEmitterToken(a,e)&&(l.post(i),l.unSubscribeForOnce())}}catch(u){o={error:u}}finally{try{c&&!c.done&&(r=p["return"])&&r.call(p)}finally{if(o)throw o.error}}}else console.error("postemitterType")},t.prototype.on=function(t,e,n,i,o){return this.getEventPipe(n,t,e).subscribe(o,i)},t.prototype.once=function(t,e,n,i,o){return this.getEventPipe(n,t,e).subscribeOnce(o,i)},t.prototype.requestFor=function(t,e,n,i,o,r){var s=this.findExistEventPipe(n,"RequestSubject",e);s?(this.once(t,e,n,this,function(t){"success"===t.status?o(t.data):r&&r("No target responser listening")}),s.post({target:t,token:e,data:i})):r&&r("No target responser listening.")},t.prototype.responseOn=function(n,i,o){var r=this;this.on("RequestSubject",null,i,this,function(t){var e={status:"fail",data:null};n===t.target&&(e.data=o(t.data),e.status="success"),r.post(t.target,t.token,i,e)})},t.prototype.notify=function(t,e){var n=this.notificationMap.get(t);return n||(n=new bn(t),this.notificationMap.set(t,n)),n.notify(e)},t.prototype.listen=function(t,e,n){var i=this.notificationMap.get(t);return i||(i=new bn(t),this.notificationMap.set(t,i)),i.listen(e,n)},t.prototype.getEventPipe=function(t,e,n){var i=this.eventMap.get(t);i||(i=new Array,this.eventMap.set(t,i));var o=i.find(function(t){return t.examByTargetToken(e,n)});return o||(o=new vn(t,n,e,i)),o},t.prototype.findExistEventPipe=function(t,e,n){var i,o,r=this.eventMap.get(t);if(!r)return null;try{for(var s=O(r),a=s.next();!a.done;a=s.next()){var p=a.value;if(p.matchEmitterToken(e,n))return p}}catch(c){i={error:c}}finally{try{a&&!a.done&&(o=s["return"])&&o.call(s)}finally{if(i)throw i.error}}return null},t.decorators=[{type:C.Injectable}],t.ctorParameters=function(){return[]},t}(),wn=function(){function t(t){this.alive=!0}return Object.defineProperty(t.prototype,"isAlive",{get:function(){return this.alive},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isDestroyed",{get:function(){return!this.alive},enumerable:!0,configurable:!0}),t.prototype.assignId=function(t){},t.prototype.destroy=function(){},t.prototype.resetNextInstanceId=function(){},t}(),In=function(n){function t(t,e){return n.call(this,{})||this}return P(t,n),t.prototype.deserialize=function(){},t.prototype.getElement=function(){},t.prototype.addChild=function(){},t.prototype.removeChidl=function(){},t.prototype.insertChildBefore=function(){},t.prototype.subscribeToChild=function(){},t.prototype.unsubscribeFromChild=function(){},t}(wn),xn=function(){function t(t){this.disposalAction=t,this.disposed=!1}return t.isDisposable=function(t){return!(!t||!t.dispose||"function"!=typeof t.dispose)},t.prototype.dispose=function(){this.disposed||(this.disposed=!0,this.disposalAction&&this.disposalAction(),this.disposalAction=null)},t}(),Pn=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.disposed=!1,this.disposables=new Set,this.add.apply(this,R(t))}return t.prototype.dispose=function(){this.disposed||(this.disposed=!0,this.disposables.forEach(function(t){return t.dispose()}),this.disposables=null)},t.prototype.add=function(){for(var t,e,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];if(!this.disposed)try{for(var o=O(n),r=o.next();!r.done;r=o.next()){var s=r.value;this.assertDisposable(s)&&this.disposables.add(s)}}catch(a){t={error:a}}finally{try{r&&!r.done&&(e=o["return"])&&e.call(o)}finally{if(t)throw t.error}}},t.prototype.remove=function(t){this.disposed||this.disposables["delete"](t)},t.prototype["delete"]=function(t){this.remove(t)},t.prototype.clear=function(){this.disposed||this.disposables.clear()},t.prototype.assertDisposable=function(t){if(!xn.isDisposable(t))throw new TypeError("Arguments to CompositeDisposable.add must have a .dispose() method");return!0},t}(),_n=function(){function c(){this.disposed=!1,this.clear()}return c.onEventHandlerException=function(t){var e=this;return this.dispatch=this.simpleDispatch,0===this.exceptionHandlers.length&&(this.dispatch=this.exceptionHandlingDispatch),this.exceptionHandlers.push(t),new xn(function(){if(e.exceptionHandlers.splice(e.exceptionHandlers.indexOf(t),1),0===e.exceptionHandlers.length)return e.dispatch=e.simpleDispatch})},c.simpleDispatch=function(t,e){return t(e)},c.exceptionHandlingDispatch=function(t,e){try{return t(e)}catch(n){return this.exceptionHandlers.map(function(t){return t(n)})}},c.prototype.clear=function(){return this.subscriptions&&this.subscriptions.dispose(),this.subscriptions=new Pn,this.handlersByEventName={}},c.prototype.dispose=function(){this.subscriptions.dispose(),this.handlersByEventName=null,this.disposed=!0},c.prototype.on=function(t,e,n){var i=this;if(void 0===n&&(n=!1),this.disposed)throw new Error("Emitter has been disposed");if("function"!=typeof e)throw new Error("Handler must be a function");var o=this.handlersByEventName[t];this.handlersByEventName[t]=o?n?[e].concat(o):o.concat(e):[e];var r=new xn(function(){return i.subscriptions.remove(r),i.off(t,e)});return this.subscriptions.add(r),r},c.prototype.once=function(t,e,n){var i;void 0===n&&(n=!1);return i=this.on(t,function(t){i.dispose(),e(t)},n)},c.prototype.preempt=function(t,e){this.on(t,e,!0)},c.prototype.off=function(t,e){var n,i;if(!this.disposed){var o=this.handlersByEventName[t];if(o){var r=[];try{for(var s=O(o),a=s.next();!a.done;a=s.next()){var p=a.value;p!==e&&r.push(p)}}catch(c){n={error:c}}finally{try{a&&!a.done&&(i=s["return"])&&i.call(s)}finally{if(n)throw n.error}}0<r.length?this.handlersByEventName[t]=r:delete this.handlersByEventName[t]}}},c.prototype.emit=function(t,e){var n,i;if(this.handlersByEventName&&this.handlersByEventName[t]){var o=this.handlersByEventName[t];try{for(var r=O(o),s=r.next();!s.done;s=r.next()){var a=s.value;c.dispatch(a,e)}}catch(p){n={error:p}}finally{try{s&&!s.done&&(i=r["return"])&&i.call(r)}finally{if(n)throw n.error}}}},c.prototype.emitAsync=function(t,e){var n,i;if(this.handlersByEventName&&this.handlersByEventName[t]){var o=[];try{for(var r=O(this.handlersByEventName[t]),s=r.next();!s.done;s=r.next()){var a=s.value;o.push(c.dispatch(a,e))}}catch(p){n={error:p}}finally{try{s&&!s.done&&(i=r["return"])&&i.call(r)}finally{if(n)throw n.error}}return Promise.all(o).then(function(){})}return Promise.resolve()},c.prototype.getEventNames=function(){return Object.keys(this.handlersByEventName)},c.prototype.listenerCountForEventName=function(t){return this.handlersByEventName&&this.handlersByEventName[t]?this.handlersByEventName[t].length:0},c.prototype.getTotalListenerCount=function(){var t=0;for(var e in this.handlersByEventName)this.handlersByEventName.hasOwnProperty(e)&&(t+=this.handlersByEventName[e].length);return t},c.exceptionHandlers=[],c.dispatch=c.simpleDispatch,c}(),Sn=1,Dn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return P(e,t),e}(Error),En=function(){function g(t){this.alive=!0,this.subscriptionsPerItem=new WeakMap,this.items=[],this.itemStack=[],this.container=null,this.setPendingItem=this.setPendingItem.bind(this),this.getPendingItem=this.getPendingItem.bind(this),this.clearPendingItem=this.clearPendingItem.bind(this),this.onItemDidTerminatePendingState=this.onItemDidTerminatePendingState.bind(this),this.saveItem=this.saveItem.bind(this),this.saveItemAs=this.saveItemAs.bind(this),this.id=t.id,null!=this.id?Sn=Math.max(Sn,this.id+1):this.id=Sn++,this.activeItem=t.activeItem,this.focused=null!=t.focused&&t.focused,this.applicationDelegate=t.applicationDelegate,this.notificationManager=t.notificationManager,this.config=t.config,this.deserializerManager=t.deserializerManager,this.viewRegistry=t.viewRegistry,this.emitter=new _n,this.alive=!0,this.subscriptionsPerItem=new WeakMap,this.items=[],this.itemStack=[],this.container=null,this.addItems((t.items||[]).filter(function(t){return t})),this.getActiveItem()||this.setActiveItem(this.items[0]),this.addItemsToStack(t.itemStackIndices||[]),this.setFlexScale(t.flexScale||1)}return g.deserialize=function(t,e){var n,i,o=e.deserializers,r=e.applicationDelegate,s=e.config,a=e.notifications,p=e.views,c=t.activeItemIndex,l=t.activeItemURI||t.activeItemUri,u=[];try{for(var d=O(t.items),h=d.next();!h.done;h=d.next()){var f=h.value,m=o.deserialize(f);m&&u.push(m)}}catch(y){n={error:y}}finally{try{h&&!h.done&&(i=d["return"])&&i.call(d)}finally{if(n)throw n.error}}return t.items=u,t.activeItem=u[c],!t.activeItem&&l&&(t.activeItem=t.items.find(function(t){return"function"==typeof t.getURI&&t.getURI()===l})),new g(Object.assign(t,{deserializerManager:o,notificationManager:a,viewRegistry:p,config:s,applicationDelegate:r}))},g.prototype.inspect=function(){return"Pane "+this.id},g.prototype.getElement=function(){},g.prototype.serialize=function(){var t,e,n=this.items.filter(function(t){return t&&"function"==typeof t.serialize}),i=[];try{for(var o=O(this.itemStack),r=o.next();!r.done;r=o.next()){var s=r.value;"function"==typeof s.serialize&&i.push(n.indexOf(s))}}catch(p){t={error:p}}finally{try{r&&!r.done&&(e=o["return"])&&e.call(o)}finally{if(t)throw t.error}}var a=n.indexOf(this.activeItem);return{deserializer:"Pane",id:this.id,items:n.map(function(t){return t.serialize()}),itemStackIndices:i,activeItemIndex:a,focused:this.focused,flexScale:this.flexScale}},g.prototype.getParent=function(){return this.parent},g.prototype.setParent=function(t){this.parent=t},g.prototype.getContainer=function(){return this.container},g.prototype.setContainer=function(t){t&&t!==this.container&&(this.container=t).didAddPane({pane:this})},g.prototype.isItemAllowed=function(t){return"function"!=typeof t.getAllowedLocations||t.getAllowedLocations().includes(this.getContainer().getLocation())},g.prototype.setFlexScale=function(t){return this.flexScale=t,this.flexScale},g.prototype.getFlexScale=function(){return this.flexScale},g.prototype.increaseSize=function(){this.setFlexScale(1.1*this.getFlexScale())},g.prototype.decreaseSize=function(){this.setFlexScale(this.getFlexScale()/1.1)},g.prototype.onDidChangeFlexScale=function(t){},g.prototype.observeFlexScale=function(t){return t(this.flexScale),this.onDidChangeFlexScale(t)},g.prototype.onDidActivate=function(t){},g.prototype.onWillDestroy=function(t){},g.prototype.onDidDestroy=function(t){},g.prototype.onDidChangeActive=function(e){var n=this;return this.container.onDidChangeActivePane(function(t){e(n===t)})},g.prototype.observeActive=function(t){return t(this.isActive()),this.onDidChangeActive(t)},g.prototype.onDidAddItem=function(t){return this.emitter.on("did-add-item",t)},g.prototype.onDidRemoveItem=function(t){return this.emitter.on("did-remove-item",t)},g.prototype.onWillRemoveItem=function(t){},g.prototype.onDidMoveItem=function(t){},g.prototype.observeItems=function(n){var t,e;try{for(var i=O(this.getItems()),o=i.next();!o.done;o=i.next()){var r=o.value;n(r)}}catch(s){t={error:s}}finally{try{o&&!o.done&&(e=i["return"])&&e.call(i)}finally{if(t)throw t.error}}return this.onDidAddItem(function(t){var e=t.item;return n(e)})},g.prototype.onDoingChangeActiveItem=function(t){return this.emitter.on("doing-change-active-item",t)},g.prototype.onDidChangeActiveItem=function(t){return this.emitter.on("did-change-active-item",t)},g.prototype.onChooseNextMRUItem=function(t){},g.prototype.onChooseLastMRUItem=function(t){},g.prototype.onDoneChoosingMRUItem=function(t){},g.prototype.observeActiveItem=function(t){return t(this.getActiveItem()),this.onDidChangeActiveItem(t)},g.prototype.onWillDestroyItem=function(t){},g.prototype.focus=function(){return this.focused=!0,this.activate()},g.prototype.blur=function(){return!(this.focused=!1)},g.prototype.isFocused=function(){return this.focused},g.prototype.getPanes=function(){return[this]},g.prototype.unsubscribeFromItem=function(t){var e=this.subscriptionsPerItem.get(t);e&&(e.dispose(),this.subscriptionsPerItem["delete"](t))},g.prototype.getItems=function(){return this.items.slice()},g.prototype.getActiveItem=function(){return this.activeItem},g.prototype.setActiveItem=function(t,e){var n=e&&e.modifyStack;return t!==this.activeItem&&(!1!==n&&this.addItemToStack(t),this.emitter.emit("doing-change-active-item",this.activeItem),this.activeItem=t,this.emitter.emit("did-change-active-item",this.activeItem),this.container&&this.container.didChangeActiveItemOnPane(this,this.activeItem)),this.activeItem},g.prototype.addItemsToStack=function(t){var e,n;if(0<this.items.length){(t.length!==this.items.length||t.includes(-1))&&(t=this.items.map(function(t,e){return e}));try{for(var i=O(t),o=i.next();!o.done;o=i.next()){var r=o.value;this.addItemToStack(this.items[r])}}catch(s){e={error:s}}finally{try{o&&!o.done&&(n=i["return"])&&n.call(i)}finally{if(e)throw e.error}}}},g.prototype.addItemToStack=function(t){if(null!=t){var e=this.itemStack.indexOf(t);return-1!==e&&this.itemStack.splice(e,1),this.itemStack.push(t)}},g.prototype.itemAtIndex=function(t){return this.items[t]},g.prototype.activateNextRecentlyUsedItem=function(){if(1<this.items.length){null==this.itemStackIndex&&(this.itemStackIndex=this.itemStack.length-1),0===this.itemStackIndex&&(this.itemStackIndex=this.itemStack.length),this.itemStackIndex--;var t=this.itemStack[this.itemStackIndex];this.setActiveItem(t,{modifyStack:!1})}},g.prototype.activatePreviousRecentlyUsedItem=function(){if(1<this.items.length){this.itemStackIndex+1!==this.itemStack.length&&null!=this.itemStackIndex||(this.itemStackIndex=-1),this.itemStackIndex++;var t=this.itemStack[this.itemStackIndex];this.setActiveItem(t,{modifyStack:!1})}},g.prototype.moveActiveItemToTopOfStack=function(){delete this.itemStackIndex,this.addItemToStack(this.activeItem)},g.prototype.activateNextItem=function(){var t=this.getActiveItemIndex();t<this.items.length-1?this.activateItemAtIndex(t+1):this.activateItemAtIndex(0)},g.prototype.activatePreviousItem=function(){var t=this.getActiveItemIndex();0<t?this.activateItemAtIndex(t-1):this.activateItemAtIndex(this.items.length-1)},g.prototype.activateLastItem=function(){this.activateItemAtIndex(this.items.length-1)},g.prototype.moveItemRight=function(){var t=this.getActiveItemIndex()+1;t<=this.items.length-1&&this.moveItem(this.getActiveItem(),t)},g.prototype.moveItemLeft=function(){var t=this.getActiveItemIndex()-1;if(0<=t)return this.moveItem(this.getActiveItem(),t)},g.prototype.getActiveItemIndex=function(){return this.items.indexOf(this.activeItem)},g.prototype.activateItemAtIndex=function(t){var e=this.itemAtIndex(t)||this.getActiveItem();return this.setActiveItem(e)},g.prototype.activateItem=function(t,e){if(void 0===e&&(e={}),t){var n=this.getPendingItem()===this.activeItem?this.getActiveItemIndex():this.getActiveItemIndex()+1;this.addItem(t,Object.assign({},e,{index:n})),this.setActiveItem(t)}},g.prototype.addItem=function(e,t){void 0===t&&(t={}),"number"==typeof t&&(t={index:t});var n=null!=t.index?t.index:this.getActiveItemIndex()+1,i=null!=t.moved&&t.moved,o=null!=t.pending&&t.pending;if(!e||"object"!=typeof e)throw new Error("Pane items must be objects. Attempted to add item "+e+".");if("function"==typeof e.isDestroyed&&e.isDestroyed())throw new Error("Adding a pane item with URI\n      '"+("function"==typeof e.getURI&&e.getURI())+"' that has already been destroyed");if(!this.items.find(function(t){return t===e})){e.onDidDestroy,this.items.splice(n,0,e);var r=this.getPendingItem(),s=null!=r&&!i;return s&&(this.pendingItem=null),o&&this.setPendingItem(e),this.emitter.emit("did-add-item",{item:e,index:n,moved:i}),i||this.container&&this.container.didAddPaneItem(e,this,n),s&&this.destroyItem(r),this.getActiveItem()||this.setActiveItem(e),e}},g.prototype.setPendingItem=function(t){if(this.pendingItem!==t){this.pendingItem;this.pendingItem=t}},g.prototype.getPendingItem=function(){return this.pendingItem||null},g.prototype.clearPendingItem=function(){this.setPendingItem(null)},g.prototype.onItemDidTerminatePendingState=function(t){},g.prototype.addItems=function(t,e){var n=this;void 0===e&&(e=this.getActiveItemIndex()+1),t=t.filter(function(e){return!n.items.find(function(t){return t===e})});for(var i=0;i<t.length;i++){var o=t[i];this.addItem(o,{index:e+i})}return t},g.prototype.removeItem=function(t,e){void 0===e&&(e=!1);var n=this.items.indexOf(t);-1!==n&&(this.getPendingItem()===t&&(this.pendingItem=null),this.removeItemFromStack(t),this.unsubscribeFromItem(t),t===this.activeItem&&(1===this.items.length?this.setActiveItem(undefined):0===n?this.activateNextItem():this.activatePreviousItem()),this.items.splice(n,1),this.emitter.emit("did-remove-item",{item:t,index:n,destroyed:!e,moved:e}),!e&&this.container&&this.container.didDestroyPaneItem({item:t,index:n,pane:this}),0===this.items.length&&this.config&&this.config.get&&this.config.get("core.destroyEmptyPanes")&&this.destroy())},g.prototype.removeItemFromStack=function(t){var e=this.itemStack.indexOf(t);-1!==e&&this.itemStack.splice(e,1)},g.prototype.moveItem=function(t,e){var n=this.items.indexOf(t);this.items.splice(n,1),this.items.splice(e,0,t)},g.prototype.moveItemToPane=function(t,e,n){return this.removeItem(t,!0),e.addItem(t,{index:n,moved:!0})},g.prototype.destroyActiveItem=function(){return this.destroyItem(this.activeItem)},g.prototype.destroyItem=function(e,n){return function t(e,s,a,p){return new(a||(a=Promise))(function(t,n){function i(t){try{r(p.next(t))}catch(e){n(e)}}function o(t){try{r(p["throw"](t))}catch(e){n(e)}}function r(e){e.done?t(e.value):new a(function(t){t(e.value)}).then(i,o)}r((p=p.apply(e,s||[])).next())})}(this,void 0,void 0,function(){return E(this,function(t){return-1===this.items.indexOf(e)?[2,!1]:n||"function"!=typeof e.isPermanentDockItem||!e.isPermanentDockItem()||this.container&&"center"===this.container.getLocation()?(this.removeItem(e,!1),"function"==typeof e.destroy&&e.destroy(),[2,!0]):[2,!1]})})},g.prototype.destroyItems=function(){var e=this;return Promise.all(this.getItems().map(function(t){return e.destroyItem(t)}))},g.prototype.destroyInactiveItems=function(){var e=this;return Promise.all(this.getItems().filter(function(t){return t!==e.activeItem}).map(function(t){return e.destroyItem(t)}))},g.prototype.promptToSaveItem=function(i,t){var e,o=this;if(void 0===t&&(t={}),"function"!=typeof i.shouldPromptToSave||!i.shouldPromptToSave(t))return Promise.resolve(!0);if("function"==typeof i.getURI)e=i.getURI();else{if("function"!=typeof i.getUri)return Promise.resolve(!0);e=i.getUri()}var r="function"==typeof i.getTitle&&i.getTitle()||e,s=function(t,n,e){switch(o.applicationDelegate.confirm({message:e,detailedMessage:"Your changes will be lost if you close this item without saving.",buttons:[t,"Cancel","&Don't Save"]})){case 0:return new Promise(function(e){return n(i,function(t){t instanceof Dn?e(!1):t?s("Save as",o.saveItemAs,"'"+r+"' could not be saved.\nError: "+o.getMessageForErrorCode(t.code)).then(e):e(!0)})});case 1:return Promise.resolve(!1);case 2:return Promise.resolve(!0)}};return s("Save",this.saveItem,"'"+r+"' has changes, do you want to save them?")},g.prototype.saveActiveItem=function(t){return this.saveItem(this.getActiveItem(),t)},g.prototype.saveActiveItemAs=function(t){return this.saveItemAs(this.getActiveItem(),t)},g.prototype.saveItem=function(e,n){var t,i=this;return e?("function"==typeof e.getURI?t=e.getURI():"function"==typeof e.getUri&&(t=e.getUri()),null==t?this.saveItemAs(e,n):"function"==typeof e.save?function o(t){try{return Promise.resolve(t())}catch(e){return Promise.reject(e)}}(function(){return e.save()}).then(function(){n&&n()})["catch"](function(t){n?n(t):i.handleSaveError(t,e)}):n?(n(),Promise.resolve()):void 0):Promise.resolve()},g.prototype.saveItemAs=function(t,e){},g.prototype.saveItems=function(){},g.prototype.itemForURI=function(e){return this.items.find(function(t){return"function"==typeof t.getURI?t.getURI()===e:"function"==typeof t.getUri?t.getUri()===e:void 0})},g.prototype.activateItemForURI=function(t){var e=this.itemForURI(t);return!!e&&(this.activateItem(e),!0)},g.prototype.copyActiveItem=function(){if(this.activeItem&&"function"==typeof this.activeItem.copy)return this.activeItem.copy()},g.prototype.isActive=function(){return this.container&&this.container.getActivePane()===this},g.prototype.activate=function(){},g.prototype.destroy=function(){},g.prototype.isAlive=function(){return this.alive},g.prototype.isDestroyed=function(){return!this.isAlive()},g.prototype.splitLeft=function(t){return this.split("horizontal","before",t)},g.prototype.splitRight=function(t){return this.split("horizontal","after",t)},g.prototype.splitUp=function(t){return this.split("vertical","before",t)},g.prototype.splitDown=function(t){return this.split("vertical","after",t)},g.prototype.split=function(t,e,n){n&&n.copyActiveItem&&(n.items||(n.items=[]),n.items.push(this.copyActiveItem())),this.parent.orientation!==t&&(this.parent.replaceChild(this,new In({container:this.container,orientation:t,children:[this],flexScale:this.flexScale},this.viewRegistry)),this.setFlexScale(1));var i=new g(Object.assign({applicationDelegate:this.applicationDelegate,notificationManager:this.notificationManager,deserializerManager:this.deserializerManager,config:this.config,viewRegistry:this.viewRegistry},n));switch(e){case"before":this.parent.insertChildBefore(this,i);break;case"after":this.parent.insertChildAfter(this,i)}return n&&n.moveActiveItem&&this.activeItem&&this.moveItemToPane(this.activeItem,i),i.activate(),i},g.prototype.findLeftmostSibling=function(){if("horizontal"!==this.parent.orientation)return this;var t=k(this.parent.children,1)[0];return t instanceof In?this:t},g.prototype.findRightmostSibling=function(){if("horizontal"!==this.parent.orientation)return this;var t=this.parent.children[this.parent.children.length-1];return t instanceof In?this:t},g.prototype.findOrCreateRightmostSibling=function(){var t=this.findRightmostSibling();return t===this?this.splitRight({}):t},g.prototype.findTopmostSibling=function(){if("vertical"!==this.parent.orientation)return this;var t=k(this.parent.children,1)[0];return t instanceof In?this:t},g.prototype.findBottommostSibling=function(){if("vertical"!==this.parent.orientation)return this;var t=this.parent.children[this.parent.children.length-1];return t instanceof In?this:t},g.prototype.findOrCreateBottommostSibling=function(){var t=this.findBottommostSibling();return t===this?this.splitDown({}):t},g.prototype.close=function(){var e=this;return Promise.all(this.getItems().map(function(t){return e.promptToSaveItem(t)})).then(function(t){if(!t.find(function(t){return!1===t}))return e.destroy()})},g.prototype.handleSaveError=function(t,e){},g.prototype.getMessageForErrorCode=function(t){switch(t){case"EACCES":return"Permission denied";case"ECONNRESET":return"Connection reset";case"EINTR":return"Interrupted system call";case"EIO":return"I/O error writing file";case"ENOSPC":return"No space left on device";case"ENOTSUP":return"Operation not supported on socket";case"ENXIO":return"No such device or address";case"EROFS":return"Read-only file system";case"ESPIPE":return"Invalid seek";case"ETIMEDOUT":return"Connection timed out"}},g}();var On=function(){function t(){this.items=new WeakSet}return t.prototype.addItem=function(t){if(this.hasItem(t))throw new Error("The workspace can only contain one instance of item "+t);this.items.add(t)},t.prototype.removeItem=function(t){this.items["delete"](t)},t.prototype.hasItem=function(t){return this.items.has(t)},t}(),kn=function(){function t(t){var e,n,i;this.config=t.config,e=t.applicationDelegate,i=t.notificationManager,n=t.deserializerManager,this.viewRegistry=t.viewRegistry,this.location=t.location,this.itemRegistry=new On,this.alive=!0,this.setRoot(new En({container:this,config:this.config,applicationDelegate:e,notificationManager:i,deserializerManager:n,viewRegistry:this.viewRegistry})),this.didActivatePane(this.getRoot())}return t.prototype.getLocation=function(){return this.location},t.prototype.getElement=function(){},t.prototype.destroy=function(){var t,e;this.alive=!1;try{for(var n=O(this.getRoot().getPanes()),i=n.next();!i.done;i=n.next()){i.value.destroy()}}catch(o){t={error:o}}finally{try{i&&!i.done&&(e=n["return"])&&e.call(n)}finally{if(t)throw t.error}}},t.prototype.isAlive=function(){return this.alive},t.prototype.isDestroyed=function(){return!this.isAlive()},t.prototype.serialize=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return{deserializer:"PaneContainer",version:1,root:this.root?this.root.serialize():null,activePaneId:this.activePane.id}},t.prototype.deserialize=function(e,t){1===e.version&&(this.setRoot(t.deserialize(e.root)),this.activePane=this.getRoot().getPanes().find(function(t){return t.id===e.activePaneId})||this.getPanes()[0],this.config&&this.config.get&&this.config.get("core.destroyEmptyPanes")&&this.destroyEmptyPanes())},t.prototype.onDidChangeRoot=function(t){},t.prototype.observeRoot=function(t){return t(this.getRoot()),this.onDidChangeRoot(t)},t.prototype.onDidAddPane=function(t){},t.prototype.observePanes=function(n){var t,e;try{for(var i=O(this.getPanes()),o=i.next();!o.done;o=i.next()){var r=o.value;n(r)}}catch(s){t={error:s}}finally{try{o&&!o.done&&(e=i["return"])&&e.call(i)}finally{if(t)throw t.error}}return this.onDidAddPane(function(t){var e=t.pane;return n(e)})},t.prototype.onDidDestroyPane=function(t){},t.prototype.onWillDestroyPane=function(t){},t.prototype.onDidChangeActivePane=function(t){},t.prototype.onDidActivatePane=function(t){},t.prototype.observeActivePane=function(t){return t(this.getActivePane()),this.onDidChangeActivePane(t)},t.prototype.onDidAddPaneItem=function(t){},t.prototype.observePaneItems=function(n){var t,e;try{for(var i=O(this.getPaneItems()),o=i.next();!o.done;o=i.next()){var r=o.value;n(r)}}catch(s){t={error:s}}finally{try{o&&!o.done&&(e=i["return"])&&e.call(i)}finally{if(t)throw t.error}}return this.onDidAddPaneItem(function(t){var e=t.item;return n(e)})},t.prototype.onDidChangeActivePaneItem=function(t){},t.prototype.onDidStopChangingActivePaneItem=function(t){},t.prototype.observeActivePaneItem=function(t){return t(this.getActivePaneItem()),this.onDidChangeActivePaneItem(t)},t.prototype.onWillDestroyPaneItem=function(t){},t.prototype.onDidDestroyPaneItem=function(t){},t.prototype.getRoot=function(){return this.root},t.prototype.setRoot=function(t){this.root=t,this.root.setParent(this),this.root.setContainer(this),null==this.getActivePane()&&this.root instanceof En&&this.didActivatePane(this.root)},t.prototype.replaceChild=function(t,e){if(t!==this.root)throw new Error("Replacing non-existent child");this.setRoot(e)},t.prototype.getPanes=function(){return this.alive?this.getRoot().getPanes():[]},t.prototype.getPaneItems=function(){return this.getRoot().getItems()},t.prototype.getActivePane=function(){return this.activePane},t.prototype.getActivePaneItem=function(){return this.getActivePane().getActiveItem()},t.prototype.paneForURI=function(e){return this.getPanes().find(function(t){return null!=t.itemForURI(e)})},t.prototype.paneForItem=function(e){return this.getPanes().find(function(t){return t.getItems().find(function(t){return t===e})})},t.prototype.saveAll=function(){var t,e;try{for(var n=O(this.getPanes()),i=n.next();!i.done;i=n.next()){i.value.saveItems()}}catch(o){t={error:o}}finally{try{i&&!i.done&&(e=n["return"])&&e.call(n)}finally{if(t)throw t.error}}},t.prototype.confirmClose=function(t){var e,n,i,o,r=[];try{for(var s=O(this.getPanes()),a=s.next();!a.done;a=s.next()){var p=a.value;try{for(var c=O(p.getItems()),l=c.next();!l.done;l=c.next()){var u=l.value;r.push(p.promptToSaveItem(u,t))}}catch(d){i={error:d}}finally{try{l&&!l.done&&(o=c["return"])&&o.call(c)}finally{if(i)throw i.error}}}}catch(h){e={error:h}}finally{try{a&&!a.done&&(n=s["return"])&&n.call(s)}finally{if(e)throw e.error}}return Promise.all(r).then(function(t){return!t.find(function(t){return!1===t})})},t.prototype.activateNextPane=function(){var t=this.getPanes();if(1<t.length){var e=t.indexOf(this.activePane);return t[(e+1)%t.length].activate(),!0}return!1},t.prototype.activatePreviousPane=function(){var t=this.getPanes();if(1<t.length){var e=t.indexOf(this.activePane)-1;return e<0&&(e=t.length-1),t[e].activate(),!0}return!1},t.prototype.moveActiveItemToPane=function(t){var e=this.activePane.getActiveItem();t.isItemAllowed(e)&&(this.activePane.moveItemToPane(e,t),t.setActiveItem(e))},t.prototype.copyActiveItemToPane=function(t){var e=this.activePane.copyActiveItem();e&&t.isItemAllowed(e)&&t.activateItem(e)},t.prototype.destroyEmptyPanes=function(){var t,e;try{for(var n=O(this.getPanes()),i=n.next();!i.done;i=n.next()){var o=i.value;0===o.items.length&&o.destroy()}}catch(r){t={error:r}}finally{try{i&&!i.done&&(e=n["return"])&&e.call(n)}finally{if(t)throw t.error}}},t.prototype.didAddPane=function(t){for(var e=t.pane.getItems(),n=0,i=e.length;n<i;n++){var o=e[n];this.didAddPaneItem(o,t.pane,n)}},t.prototype.willDestroyPane=function(t){},t.prototype.didDestroyPane=function(t){},t.prototype.didActivatePane=function(e){if(e!==this.activePane){if(!this.getPanes().find(function(t){return t===e}))throw new Error("Setting active pane that is not present in pane container");this.activePane=e,this.didChangeActiveItemOnPane(this.activePane,this.activePane.getActiveItem())}return this.activePane},t.prototype.didAddPaneItem=function(t,e,n){this.itemRegistry.addItem(t)},t.prototype.willDestroyPaneItem=function(t){},t.prototype.didDestroyPaneItem=function(t){this.itemRegistry.removeItem(t.item)},t.prototype.didChangeActiveItemOnPane=function(t,e){t===this.getActivePane()&&this.cancelStoppedChangingActivePaneItemTimeout()},t.prototype.cancelStoppedChangingActivePaneItemTimeout=function(){},t}(),Rn={none:0,left:1,right:2,top:3,bottom:4};Rn[Rn.none]="none",Rn[Rn.left]="left",Rn[Rn.right]="right",Rn[Rn.top]="top",Rn[Rn.bottom]="bottom";var Mn=function(){function t(t){this.handleResizeHandleDragStart=this.handleResizeHandleDragStart.bind(this),this.handleResizeToFit=this.handleResizeToFit.bind(this),this.handleMouseMove=this.handleMouseMove.bind(this),this.handleMouseUp=this.handleMouseUp.bind(this),this.location=t.location,this.widthOrHeight=function e(t){return"left"===t||"right"===t?"width":"height"}(this.location),this.viewRegistry=t.viewRegistry,this.didActivate=t.didActivate,this.emitter=new _n,this.paneContainer=new kn({location:this.location,viewRegistry:this.viewRegistry}),this.state={size:null,visible:!1,shouldAnimate:!1}}return t.prototype.elementAttached=function(){this.render(this.state)},t.prototype.getElement=function(){},t.prototype.getLocation=function(){return this.location},t.prototype.destroy=function(){this.paneContainer.destroy()},t.prototype.setHovered=function(t){t!==this.state.hovered&&this.setState({hovered:t})},t.prototype.setDraggingItem=function(t){t!==this.state.draggingItem&&this.setState({draggingItem:t})},t.prototype.activate=function(){this.getActivePane().activate()},t.prototype.show=function(){this.setState({visible:!0})},t.prototype.hide=function(){this.setState({visible:!1})},t.prototype.toggle=function(){},t.prototype.isVisible=function(){return this.state.visible},t.prototype.setState=function(t){var e=this.state,n=Object.assign({},e,t);n.visible!==e.visible?n.shouldAnimate=!1:n.visible||!n.draggingItem||e.draggingItem||(n.shouldAnimate=!0),this.state=n,this.render(this.state);this.state.visible},t.prototype.render=function(t){},t.prototype.handleDidAddPaneItem=function(){null==this.state.size&&this.setState({size:this.getInitialSize()})},t.prototype.handleDidRemovePaneItem=function(){0===this.paneContainer.getPaneItems().length&&this.setState({visible:!1,hovered:!1,size:null})},t.prototype.handleResizeHandleDragStart=function(){window.addEventListener("mousemove",this.handleMouseMove),window.addEventListener("mouseup",this.handleMouseUp),this.setState({resizing:!0})},t.prototype.handleResizeToFit=function(){var t=this.getActivePaneItem();if(t){var e=An(t,this.getLocation());null!=e&&this.setState({size:e})}},t.prototype.handleMouseMove=function(t){if(0!==t.buttons){this.setState({size:0})}else this.handleMouseUp(t)},t.prototype.handleMouseUp=function(t){window.removeEventListener("mousemove",this.handleMouseMove),window.removeEventListener("mouseup",this.handleMouseUp),this.setState({resizing:!1})},t.prototype.pointWithinHoverArea=function(t,e){},t.prototype.getInitialSize=function(){var t=this.paneContainer.getActivePaneItem()||this.paneContainer.getPaneItems()[0];return t?An(t,this.location):null},t.prototype.serialize=function(){return{deserializer:"Dock",size:this.state.size,paneContainer:this.paneContainer.serialize({}),visible:this.state.visible}},t.prototype.deserialize=function(t,e){this.paneContainer.deserialize(t.paneContainer,e),this.setState({size:t.size||this.getInitialSize(),visible:t.visible&&0<this.paneContainer.getPaneItems().length})},t.prototype.onDidChangeVisible=function(t){},t.prototype.observeVisible=function(t){return t(this.isVisible()),this.onDidChangeVisible(t)},t.prototype.observePaneItems=function(t){return this.paneContainer.observePaneItems(t)},t.prototype.onDidChangeActivePaneItem=function(t){return this.paneContainer.onDidChangeActivePaneItem(t)},t.prototype.onDidStopChangingActivePaneItem=function(t){return this.paneContainer.onDidStopChangingActivePaneItem(t)},t.prototype.observeActivePaneItem=function(t){return this.paneContainer.observeActivePaneItem(t)},t.prototype.onDidAddPane=function(t){return this.paneContainer.onDidAddPane(t)},t.prototype.onWillDestroyPane=function(t){return this.paneContainer.onWillDestroyPane(t)},t.prototype.onDidDestroyPane=function(t){return this.paneContainer.onDidDestroyPane(t)},t.prototype.observePanes=function(t){return this.paneContainer.observePanes(t)},t.prototype.onDidChangeActivePane=function(t){return this.paneContainer.onDidChangeActivePane(t)},t.prototype.observeActivePane=function(t){return this.paneContainer.observeActivePane(t)},t.prototype.onDidAddPaneItem=function(t){return this.paneContainer.onDidAddPaneItem(t)},t.prototype.onWillDestroyPaneItem=function(t){return this.paneContainer.onWillDestroyPaneItem(t)},t.prototype.onDidDestroyPaneItem=function(t){return this.paneContainer.onDidDestroyPaneItem(t)},t.prototype.onDidChangeHovered=function(t){return this.emitter.on("did-change-hovered",t)},t.prototype.getPaneItems=function(){return this.paneContainer.getPaneItems()},t.prototype.getActivePaneItem=function(){return this.paneContainer.getActivePaneItem()},t.prototype.saveAll=function(){this.paneContainer.saveAll()},t.prototype.confirmClose=function(t){return this.paneContainer.confirmClose(t)},t.prototype.getPanes=function(){return this.paneContainer.getPanes()},t.prototype.getActivePane=function(){return this.paneContainer.getActivePane()},t.prototype.activateNextPane=function(){return this.paneContainer.activateNextPane()},t.prototype.activatePreviousPane=function(){return this.paneContainer.activatePreviousPane()},t.prototype.paneForURI=function(t){return this.paneContainer.paneForURI(t)},t.prototype.paneForItem=function(t){return this.paneContainer.paneForItem(t)},t.prototype.destroyActivePane=function(){var t=this.getActivePane();null!=t&&t.destroy()},t}();function An(t,e){switch(e){case"left":case"right":return"function"==typeof t.getPreferredWidth?t.getPreferredWidth():null;default:return"function"==typeof t.getPreferredHeight?t.getPreferredHeight():null}}var Nn=function vi(){},Tn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return P(e,t),e.prototype.getItem=function(t){var e=sessionStorage.getItem(t);return e?JSON.parse(e):null},e.prototype.setItem=function(t,e){try{return sessionStorage.setItem(t,JSON.stringify(e)),!0}catch(n){return!1}},e.prototype.removeItem=function(t){sessionStorage.removeItem(t)},e.prototype.clear=function(){sessionStorage.clear()},e.prototype.type=function(){return 1},e.prototype.isEnabled=function(){try{return sessionStorage.setItem("test","test"),sessionStorage.removeItem("test"),!0}catch(t){return!1}},e.decorators=[{type:C.Injectable}],e}(Nn),Fn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return P(e,t),e.prototype.getItem=function(t){var e=localStorage.getItem(t);return e?JSON.parse(e):null},e.prototype.setItem=function(t,e){try{return localStorage.setItem(t,JSON.stringify(e)),!0}catch(n){return!1}},e.prototype.removeItem=function(t){localStorage.removeItem(t)},e.prototype.clear=function(){localStorage.clear()},e.prototype.type=function(){return 0},e.prototype.isEnabled=function(){try{return localStorage.setItem("test","test"),localStorage.removeItem("test"),!0}catch(t){return!1}},e.decorators=[{type:C.Injectable}],e}(Nn),jn=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._data={},t}return P(t,e),t.prototype.getItem=function(t){return this._data[t]?this._data[t]:null},t.prototype.setItem=function(t,e){return this._data[t]=e,!0},t.prototype.removeItem=function(t){delete this._data[t]},t.prototype.clear=function(){this._data=[]},t.prototype.type=function(){return 2},t.prototype.isEnabled=function(){return!0},t.decorators=[{type:C.Injectable}],t}(Nn),Bn=function(){function n(t){this._storage=t,this._defaultOptions={expires:Number.MAX_VALUE,maxAge:Number.MAX_VALUE},this._prefix="CacheService",this._validateStorage()}return n.prototype.set=function(t,e,n){var i=this._toStorageKey(t);return n=n||this._defaultOptions,!!this._storage.setItem(i,this._toStorageValue(e,n))&&(!this._isSystemKey(t)&&n.tag&&this._saveTag(n.tag,i),!0)},n.prototype.get=function(t){var e=this._storage.getItem(this._toStorageKey(t)),n=null;return e&&(this._validateStorageValue(e)?n=e.value:this.remove(t)),n},n.prototype.exists=function(t){return!!this.get(t)},n.prototype.remove=function(t){this._storage.removeItem(this._toStorageKey(t)),this._removeFromTag(this._toStorageKey(t))},n.prototype.removeAll=function(){this._storage.clear()},n.prototype.getTagData=function(t){var n=this,e=this.get(this._tagsStorageKey())||{},i={};return e[t]&&e[t].forEach(function(t){var e=n.get(n._fromStorageKey(t));e&&(i[n._fromStorageKey(t)]=e)}),i},n.prototype.useStorage=function(t){var e=new n(this._initStorage(t));return e.setGlobalPrefix(this._getCachePrefix()),e},n.prototype.removeTag=function(t){var e=this,n=this.get(this._tagsStorageKey())||{};n[t]&&(n[t].forEach(function(t){e._storage.removeItem(t)}),delete n[t],this.set(this._tagsStorageKey(),n))},n.prototype.setGlobalPrefix=function(t){this._prefix=t},n.prototype._validateStorage=function(){this._storage||(this._storage=this._initStorage(2)),this._storage.isEnabled()||(this._storage=this._initStorage(1))},n.prototype._removeFromTag=function(t){var e,n=this.get(this._tagsStorageKey())||{};for(var i in n)if(-1!==(e=n[i].indexOf(t))){n[i].splice(e,1),this.set(this._tagsStorageKey(),n);break}},n.prototype._initStorage=function(t){var e;switch(t){case 1:e=new Tn;break;case 0:e=new Fn;break;default:e=new jn}return e},n.prototype._toStorageKey=function(t){return this._getCachePrefix()+t},n.prototype._fromStorageKey=function(t){return t.replace(this._getCachePrefix(),"")},n.prototype._toStorageValue=function(t,e){return{value:t,options:this._toStorageOptions(e)}},n.prototype._toStorageOptions=function(t){var e={};return e.expires=t.expires?t.expires:t.maxAge?Date.now()+1e3*t.maxAge:this._defaultOptions.expires,e.maxAge=t.maxAge?t.maxAge:this._defaultOptions.maxAge,e},n.prototype._validateStorageValue=function(t){return!!t.options.expires&&t.options.expires>Date.now()},n.prototype._isSystemKey=function(t){return-1!==[this._tagsStorageKey()].indexOf(t)},n.prototype._saveTag=function(t,e){var n=this.get(this._tagsStorageKey())||{};n[t]?n[t].push(e):n[t]=[e],this.set(this._tagsStorageKey(),n)},n.prototype._getCachePrefix=function(){return this._prefix},n.prototype._tagsStorageKey=function(){return"CacheService_tags"},n.decorators=[{type:C.Injectable}],n.ctorParameters=function(){return[{type:Nn,decorators:[{type:C.Optional}]}]},n}(),Ln=0,Vn=function(){function t(){this.handleCommandEvent=this.handleCommandEvent.bind(this),this.rootNode=null,this.clear()}return t.prototype.clear=function(){this.registeredCommands={},this.selectorBasedListenersByCommandName={},this.inlineListenersByCommandName={},this.emitter=new _n},t.prototype.attach=function(t){for(var e in this.rootNode=t,this.selectorBasedListenersByCommandName)this.commandRegistered(e);for(var e in this.inlineListenersByCommandName)this.commandRegistered(e)},t.prototype.destroy=function(){for(var t in this.registeredCommands)this.rootNode.removeEventListener(t,this.handleCommandEvent,!0)},t.prototype.add=function(t,e,n,i){if(void 0===i&&(i=!0),"object"==typeof e){var o=e;i=n;var r=new Pn;for(e in o)n=o[e],r.add(this.add(t,e,n,i));return r}if(null==n)throw new Error("Cannot register a command with a null listener.");if("function"!=typeof n&&"function"!=typeof n.didDispatch)throw new Error("Listener must be a callback function or an object with a didDispatch method.");return"string"==typeof t?(i&&function s(t){if(!function i(t){var e;try{document.querySelector(t),e=!0}catch(n){e=!1}return e}(t)){var e=new SyntaxError(t+" is not a valid selector");throw e}}(t),this.addSelectorBasedListener(t,e,n)):this.addInlineListener(t,e,n)},t.prototype.addSelectorBasedListener=function(t,e,n){var i=this;null==this.selectorBasedListenersByCommandName[e]&&(this.selectorBasedListenersByCommandName[e]=[]);var o=this.selectorBasedListenersByCommandName[e],r=new Hn(t,e,n);return o.push(r),this.commandRegistered(e),new xn(function(){o.splice(o.indexOf(r),1),0===o.length&&delete i.selectorBasedListenersByCommandName[e]})},t.prototype.addInlineListener=function(t,e,n){null==this.inlineListenersByCommandName[e]&&(this.inlineListenersByCommandName[e]=new WeakMap);var i=this.inlineListenersByCommandName[e],o=i.get(t);o||(o=[],i.set(t,o));var r=new zn(e,n);return o.push(r),this.commandRegistered(e),new xn(function(){o.splice(o.indexOf(r),1),0===o.length&&i["delete"](t)})},t.prototype.findCommands=function(t){for(var e,n,i=t.target,o=new Set,r=[],s=i;;){var a=void 0;for(var p in this.inlineListenersByCommandName)if((a=this.inlineListenersByCommandName[p]).has(s)&&!o.has(p)){o.add(p);var c=a.get(s);r.push.apply(r,R(c.map(function(t){return t.descriptor})))}for(var l in this.selectorBasedListenersByCommandName){a=this.selectorBasedListenersByCommandName[l];try{for(var u=O(a),d=u.next();!d.done;d=u.next()){var h=d.value;h.matchesTarget(s)&&(o.has(l)||(o.add(l),r.push(h.descriptor)))}}catch(f){e={error:f}}finally{try{d&&!d.done&&(n=u["return"])&&n.call(u)}finally{if(e)throw e.error}}}if(s===window)break;s=s.parentNode||window}return r},t.prototype.dispatch=function(t,e,n){var i=new CustomEvent(e,{bubbles:!0,detail:n});return Object.defineProperty(i,"target",{value:t}),this.handleCommandEvent(i)},t.prototype.onWillDispatch=function(t){return this.emitter.on("will-dispatch",t)},t.prototype.onDidDispatch=function(t){return this.emitter.on("did-dispatch",t)},t.prototype.getSnapshot=function(){var t={};for(var e in this.selectorBasedListenersByCommandName){var n=this.selectorBasedListenersByCommandName[e];t[e]=n.slice()}return t},t.prototype.restoreSnapshot=function(t){for(var e in this.selectorBasedListenersByCommandName={},t){var n=t[e];this.selectorBasedListenersByCommandName[e]=n.slice()}},t.prototype.handleCommandEvent=function(t){var e,n,i=!1,o=!1,r=[],s=t.target,a=new CustomEvent(t.type,{bubbles:!0,detail:t.detail});Object.defineProperty(a,"eventPhase",{value:Event.BUBBLING_PHASE}),Object.defineProperty(a,"currentTarget",{get:function(){return s}}),Object.defineProperty(a,"target",{value:s}),Object.defineProperty(a,"preventDefault",{value:function(){return t.preventDefault()}}),Object.defineProperty(a,"stopPropagation",{value:function(){t.stopPropagation(),i=!0}}),Object.defineProperty(a,"stopImmediatePropagation",{value:function(){t.stopImmediatePropagation(),o=i=!0}}),Object.defineProperty(a,"abortKeyBinding",{value:function(){"function"==typeof t.abortKeyBinding&&t.abortKeyBinding()}});try{for(var p=O(Object.keys(t)),c=p.next();!c.done;c=p.next()){var l=c.value;l in a||(a[l]=t[l])}}catch(f){e={error:f}}finally{try{c&&!c.done&&(n=p["return"])&&n.call(p)}finally{if(e)throw e.error}}for(this.emitter.emit("will-dispatch",a);;){var u=(this.inlineListenersByCommandName[t.type]?this.inlineListenersByCommandName[t.type].get(s):null)||[];if(null!=s.webkitMatchesSelector)u=(this.selectorBasedListenersByCommandName[t.type]||[]).filter(function(t){return t.matchesTarget(s)}).sort(function(t,e){return t.compare(e)}).concat(u);for(var d=u.length-1;0<=d;d--){var h=u[d];if(o)break;r.push(h.didDispatch.call(s,a))}if(s===window)break;if(i)break;s=s.parentNode||window}return this.emitter.emit("did-dispatch",a),0<r.length?Promise.all(r):null},t.prototype.commandRegistered=function(t){if(null!=this.rootNode&&!this.registeredCommands[t])return this.rootNode.addEventListener(t,this.handleCommandEvent,!0),this.registeredCommands[t]=!0},t}(),Hn=function(){function t(t,e,n){this.selector=t,this.didDispatch=Un(n),this.descriptor=Wn(e,n),this.specificity=function o(t){return function i(t){var e=t.indexOf(",");-1!==e&&(t=t.substring(0,e));var n={a:0,b:0,c:0};return t=(t=t.replace(/:not\(([^\)]*)\)/g," $1 ")).replace(/\{[^]*/gm," "),t=$n(/(\[[^\]]+\])/g,"b",n,t),t=$n(/(#[^\s\+>~\.\[:]+)/g,"a",n,t),t=$n(/(\.[^\s\+>~\.\[:]+)/g,"b",n,t),t=$n(/(::[^\s\+>~\.\[:]+|:first-line|:first-letter|:before|:after)/g,"c",n,t),t=(t=(t=$n(/(:[^\s\+>~\.\[:]+)/g,"b",n,t)).replace(/[\*\s\+>~]/g," ")).replace(/[#\.]/g," "),$n(/([^\s\+>~\.\[:]+)/g,"c",n,t),100*n.a+10*n.b+1*n.c}(t)}(this.selector),this.sequenceNumber=Ln++}return t.prototype.compare=function(t){return this.specificity-t.specificity||this.sequenceNumber-t.sequenceNumber},t.prototype.matchesTarget=function(t){return t.webkitMatchesSelector&&t.webkitMatchesSelector(this.selector)},t}(),zn=function bi(t,e){this.didDispatch=Un(e),this.descriptor=Wn(t,e)};function Wn(t,e){return Object.assign(function o(t){for(var n=[],e=1;e<arguments.length;e++)n[e-1]=arguments[e];var i={};return t&&Object.keys(t).forEach(function(e){n.find(function(t){return t===e})&&(i[e]=t[e])}),i}(e,"didDispatch"),{name:t,displayName:e.displayName?e.displayName:function s(t,e){void 0===e&&(e=null);var n=k(t.split(":"),2),i=n[0],o=n[1];if(null==o)return qn(i);var r=qn(i);null==e&&(e=qn(o));return r+": "+e}(t)})}function Un(t){return"function"==typeof t?t:t.didDispatch}function $n(t,e,n,i){var o,r,s=i.match(t);if(s)try{for(var a=O(s),p=a.next();!p.done;p=a.next()){var c=p.value;n[e]++,i=i.replace(c," ")}}catch(l){o={error:l}}finally{try{p&&!p.done&&(r=a["return"])&&r.call(a)}finally{if(o)throw o.error}}return i}function qn(t){return t?t.split("-").join(" "):""}var Xn=function(){function t(){}return t.prototype.newGuid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)})},t.prototype.setUrlParam=function(t,e,n,i){var o=k(t.split("?"),2),r=o[0],s=o[1],a=new URLSearchParams(s);return a.has(e)&&!i?t:(a.set(e,n),r+"?"+a.toString())},t.decorators=[{type:C.Injectable}],t}(),Yn=function(){function t(t){this.gspEnvironment=t,this.clear()}return t.prototype.clear=function(){this.views=new WeakMap,this.providers=[],this.clearDocumentRequests()},t.prototype.addViewProvider=function(t,e){var n,i=this;if(1===arguments.length)switch(typeof t){case"function":n={createView:t,modelConstructor:null};break;case"object":n=t;break;default:throw new TypeError("Arguments to addViewProvider must be functions")}else n={modelConstructor:t,createView:e};return this.providers.push(n),new xn(function(){i.providers=i.providers.filter(function(t){return t!==n})})},t.prototype.getViewProviderCount=function(){return this.providers.length},t.prototype.getView=function(t){if(null!=t){var e=this.views.get(t);return e||(e=this.createView(t),this.views.set(t,e)),e}},t.prototype.createView=function(t){var e,n,i;if(t instanceof C.ComponentRef)return t;if(t&&"function"==typeof t.getElement&&(i=t.getElement())instanceof C.ComponentRef)return i;if(t&&t.element instanceof C.ComponentRef)return t.element;try{for(var o=O(this.providers),r=o.next();!r.done;r=o.next()){var s=r.value;if(null!==s.modelConstructor){if(t instanceof s.modelConstructor){if(i=s.createView&&s.createView(t,this.gspEnvironment))return i;var a;if(a=s.viewConstructor)return(i=new a).initialize?i.initialize(t):i.setModel&&i.setModel(t),i}}else if(i=s.createView(t,this.gspEnvironment))return i}}catch(p){e={error:p}}finally{try{r&&!r.done&&(n=o["return"])&&n.call(o)}finally{if(e)throw e.error}}if(t&&t.getViewClass&&(a=t.getViewClass()))return new a(t);throw new Error("Can't create a view for "+t.constructor.name+" instance. Please register a view provider.")},t.prototype.updateDocument=function(t){},t.prototype.readDocument=function(t){},t.prototype.getNextUpdatePromise=function(){},t.prototype.clearDocumentRequests=function(){},t.prototype.requestDocumentUpdate=function(){},t.prototype.performDocumentUpdate=function(){},t}(),Kn=function(){function t(t,e,n){void 0===n&&(n=null),this.viewRegistry=t,this.location=e,this.dock=n,this.panels=[],this.emitter=new _n,this.subscriptions=new Pn}return t.prototype.destroy=function(){var t,e;try{for(var n=O(this.getPanels()),i=n.next();!i.done;i=n.next()){i.value.destroy()}}catch(o){t={error:o}}finally{try{i&&!i.done&&(e=n["return"])&&e.call(n)}finally{if(t)throw t.error}}},t.prototype.getElement=function(){},t.prototype.onDidAddPanel=function(t){return this.emitter.on("did-add-panel",t)},t.prototype.onDidRemovePanel=function(t){return this.emitter.on("did-remove-panel",t)},t.prototype.onDidDestroy=function(t){return this.emitter.once("did-destroy",t)},t.prototype.getLocation=function(){return this.location},t.prototype.isModal=function(){return"modal"===this.location},t.prototype.getPanels=function(){return this.panels.slice()},t.prototype.addPanel=function(t){this.subscriptions.add(t.onDidDestroy(this.panelDestroyed.bind(this)));var e=this.getPanelIndex(t);return e===this.panels.length?this.panels.push(t):this.panels.splice(e,0,t),this.emitter.emit("did-add-panel",{panel:t,index:e}),t},t.prototype.panelForItem=function(t){var e,n;try{for(var i=O(this.panels),o=i.next();!o.done;o=i.next()){var r=o.value;if(r.getItem()===t)return r}}catch(s){e={error:s}}finally{try{o&&!o.done&&(n=i["return"])&&n.call(i)}finally{if(e)throw e.error}}return null},t.prototype.panelDestroyed=function(t){var e=this.panels.indexOf(t);-1<e&&(this.panels.splice(e,1),this.emitter.emit("did-remove-panel",{panel:t,index:e}))},t.prototype.getPanelIndex=function(t){var e=this,n=t.getPriority();if(["bottom","right"].find(function(t){return t===e.location})){for(var i=this.panels.length-1;0<=i;i--){if(n<this.panels[i].getPriority())return i+1}return 0}for(i=0;i<this.panels.length;i++){if(n<this.panels[i].getPriority())return i}return this.panels.length},t}(),Gn=function(){function t(t,e){this.destroyed=!1,this.item=t.item,this.autoFocus=null!=t.autoFocus&&t.autoFocus,this.visible=null==t.visible||t.visible,this.priority=null==t.priority?100:t.priority,this.className=t.className,this.viewRegistry=e,this.emitter=new _n}return t.prototype.destroy=function(){if(!this.destroyed)return this.destroyed=!0,this.hide(),this.emitter.emit("did-destroy",this),this.emitter.dispose()},t.prototype.getElement=function(){return this.item.getElement()},t.prototype.onDidChangeVisible=function(t){return this.emitter.on("did-change-visible",t)},t.prototype.onDidDestroy=function(t){return this.emitter.once("did-destroy",t)},t.prototype.getItem=function(){return this.item},t.prototype.getPriority=function(){return this.priority},t.prototype.getClassName=function(){return this.className},t.prototype.isVisible=function(){return this.visible},t.prototype.hide=function(){var t=this.visible;this.visible=!1,t&&this.emitter.emit("did-change-visible",this.visible)},t.prototype.show=function(){var t=this.visible;this.visible=!0,t||this.emitter.emit("did-change-visible",this.visible)},t}(),Jn=function(){function t(e){var n=this;e.location="center",this.paneContainer=new kn(e),this.didActivate=e.didActivate,this.paneContainer.onDidActivatePane(function(){return n.didActivate(n)}),this.paneContainer.onDidChangeActivePane(function(t){e.didChangeActivePane(n,t)}),this.paneContainer.onDidChangeActivePaneItem(function(t){e.didChangeActivePaneItem(n,t)}),this.paneContainer.onDidDestroyPaneItem(function(t){return e.didDestroyPaneItem(t)})}return t.prototype.destroy=function(){this.paneContainer.destroy()},t.prototype.serialize=function(){return this.paneContainer.serialize()},t.prototype.deserialize=function(t,e){this.paneContainer.deserialize(t,e)},t.prototype.activate=function(){this.getActivePane().activate()},t.prototype.getLocation=function(){return"center"},t.prototype.setDraggingItem=function(){},t.prototype.observePaneItems=function(t){return this.paneContainer.observePaneItems(t)},t.prototype.onDidChangeActivePaneItem=function(t){return this.paneContainer.onDidChangeActivePaneItem(t)},t.prototype.onDidStopChangingActivePaneItem=function(t){return this.paneContainer.onDidStopChangingActivePaneItem(t)},t.prototype.observeActivePaneItem=function(t){return this.paneContainer.observeActivePaneItem(t)},t.prototype.onDidAddPane=function(t){return this.paneContainer.onDidAddPane(t)},t.prototype.onWillDestroyPane=function(t){return this.paneContainer.onWillDestroyPane(t)},t.prototype.onDidDestroyPane=function(t){return this.paneContainer.onDidDestroyPane(t)},t.prototype.observePanes=function(t){return this.paneContainer.observePanes(t)},t.prototype.onDidChangeActivePane=function(t){return this.paneContainer.onDidChangeActivePane(t)},t.prototype.observeActivePane=function(t){return this.paneContainer.observeActivePane(t)},t.prototype.onDidAddPaneItem=function(t){return this.paneContainer.onDidAddPaneItem(t)},t.prototype.onWillDestroyPaneItem=function(t){return this.paneContainer.onWillDestroyPaneItem(t)},t.prototype.onDidDestroyPaneItem=function(t){return this.paneContainer.onDidDestroyPaneItem(t)},t.prototype.getPaneItems=function(){return this.paneContainer.getPaneItems()},t.prototype.getActivePaneItem=function(){return this.paneContainer.getActivePaneItem()},t.prototype.saveAll=function(){this.paneContainer.saveAll()},t.prototype.confirmClose=function(t){return this.paneContainer.confirmClose(t)},t.prototype.getPanes=function(){return this.paneContainer.getPanes()},t.prototype.getActivePane=function(){return this.paneContainer.getActivePane()},t.prototype.activateNextPane=function(){return this.paneContainer.activateNextPane()},t.prototype.activatePreviousPane=function(){return this.paneContainer.activatePreviousPane()},t.prototype.paneForURI=function(t){return this.paneContainer.paneForURI(t)},t.prototype.paneForItem=function(t){return this.paneContainer.paneForItem(t)},t.prototype.destroyActivePane=function(){var t=this.getActivePane();null!=t&&t.destroy()},t}(),Zn=["center","left","right","bottom"],Qn=function(){function t(t){this.initOptions(t),this.initWorkspace(),this.openers=[],this.frmOpeners=[],this.useFrmOpener=!1,this.viewRegistry=t.viewRegistry}return t.prototype.initOptions=function(t){this.config=t.config||{}},t.prototype.initWorkspace=function(){this.paneContainers={center:this.createCenter(),left:this.createDock("left"),right:this.createDock("right"),bottom:this.createDock("bottom")},this.activePaneContainer=this.paneContainers.center,this.panelContainers={top:new Kn(this.viewRegistry,"top"),left:new Kn(this.viewRegistry,"left",this.paneContainers.left),right:new Kn(this.viewRegistry,"right",this.paneContainers.right),bottom:new Kn(this.viewRegistry,"bottom",this.paneContainers.bottom),header:new Kn(this.viewRegistry,"header"),footer:new Kn(this.viewRegistry,"footer"),modal:new Kn(this.viewRegistry,"modal")}},Object.defineProperty(t.prototype,"paneContainer",{get:function(){return this.paneContainers.center.paneContainer},enumerable:!0,configurable:!0}),t.prototype.getElement=function(){},t.prototype.createCenter=function(){return new Jn({viewRegistry:this.viewRegistry})},t.prototype.createDock=function(t){return new Mn({location:t,viewRegistry:this.viewRegistry})},t.prototype.reset=function(t){this.packageManager=t,this.destroyed(),this.initWorkspace()},t.prototype.serialize=function(){},t.prototype.deserialize=function(t,e){},t.prototype.updateWindowTitle=function(){},t.prototype.open=function(t,e){var n,i,o,r;if(void 0===e&&(e={}),"string"==typeof t?n=t:t&&"function"==typeof(i=t).getURI&&(n=i.getURI()),this.config.get("core.allowPendingPaneItems")||(e.pending=!1),i||n){if(e.pane)o=e.pane;else if(e.searchAllPanes)o=i?this.paneForItem(i):this.paneForURI(n);else{var s=void 0;switch(n&&(s=this.paneContainerForURI(n)),s||(s=this.getActivePaneContainer()),o=s.getActivePane(),e.split){case"left":o=o.findLeftmostSibling();break;case"right":o=o.findRightmostSibling();break;case"up":o=o.findTopmostSibling();break;case"down":o=o.findBottommostSibling()}}o&&(r=i?o.getItems().includes(i):null!=(i=o.itemForURI(n)))}if(!r){if(!(i=i||this.createItemForURI(n,e)))return;if(e.pane)o=e.pane;else{var a=e.location;a||"function"!=typeof i.getDefaultLocation||(a=i.getDefaultLocation());var p="function"==typeof i.getAllowedLocations?i.getAllowedLocations():Zn;switch(a=p.includes(a)?a:p[0],o=(s=this.paneContainers[a]||this.getCenter()).getActivePane(),e.split){case"left":o=o.findLeftmostSibling();break;case"right":o=o.findOrCreateRightmostSibling();break;case"up":o=o.findTopmostSibling();break;case"down":o=o.findOrCreateBottommostSibling()}}}e.pending||o.getPendingItem()!==i||o.clearPendingItem(),this.itemOpened(i),!1===e.activateItem?o.addItem(i,{pending:e.pending}):o.activateItem(i,{pending:e.pending}),!1!==e.activatePane&&o.activate();var c=0,l=0;Number.isNaN(e.initialLine)||(l=e.initialLine),Number.isNaN(e.initialColumn)||(c=e.initialColumn),(0<=l||0<=c)&&"function"==typeof i.setCursorBufferPosition&&i.setCursorBufferPosition([l,c]);o.getActiveItemIndex();return i},t.prototype.hide=function(t){var e,n,i,o,r=!1;try{for(var s=O(this.getPaneContainers()),a=s.next();!a.done;a=s.next()){var p=a.value,c=p===this.getCenter();if(c||p.isVisible())try{for(var l=O(p.getPanes()),u=l.next();!u.done;u=l.next()){var d=u.value,h=d.getActiveItem();null!=h&&(h===t||"function"==typeof h.getURI&&h.getURI()===t)&&(r=!0,c?d.destroyItem(h):p.hide())}}catch(f){i={error:f}}finally{try{u&&!u.done&&(o=l["return"])&&o.call(l)}finally{if(i)throw i.error}}}}catch(m){e={error:m}}finally{try{a&&!a.done&&(n=s["return"])&&n.call(s)}finally{if(e)throw e.error}}return r},t.prototype.toggle=function(t){return this.hide(t)?Promise.resolve():this.open(t,{searchAllPanes:!0})},t.prototype.openSync=function(t,e){var n,i;void 0===t&&(t=""),void 0===e&&(e={initialColumn:"",initialLine:"",activateItem:"",activatePane:""});var o=e.initialLine,r=e.initialColumn,s=null==e.activatePane||e.activatePane,a=null==e.activateItem||e.activateItem,p=t,c=this.getActivePane().itemForURI(p);if(p&&null==c)try{for(var l=O(this.getOpeners()),u=l.next();!u.done;u=l.next()){if(c=(0,u.value)(p,e))break}}catch(d){n={error:d}}finally{try{u&&!u.done&&(i=l["return"])&&i.call(l)}finally{if(n)throw n.error}}return null==c&&(c=this.project.openSync(p,{initialLine:o,initialColumn:r})),a&&this.getActivePane().activateItem(c),this.itemOpened(c),s&&this.getActivePane().activate(),c},t.prototype.openURIInPane=function(t,e){return this.open(t,{pane:e})},t.prototype.createItemForURI=function(t,e){var n,i;if(null!=t)try{for(var o=O(this.getOpeners()),r=o.next();!r.done;r=o.next()){var s=(0,r.value)(t,e);if(null!=s)return s.getURI&&"function"==typeof s.getURI&&s.getUri&&"function"==typeof s.getURI||(s.getUri=function(){return t}),s}}catch(a){n={error:a}}finally{try{r&&!r.done&&(i=o["return"])&&i.call(o)}finally{if(n)throw n.error}}},t.prototype.reopenItem=function(){var t=this.destroyedItemURIs.pop();return t?this.open(t):Promise.resolve()},t.prototype.addOpener=function(t){this.openers.push(t)},t.prototype.addFrmOpener=function(t){this.useFrmOpener||(this.useFrmOpener=!0),this.frmOpeners.push(t)},t.prototype.getOpeners=function(){return this.useFrmOpener?this.frmOpeners:this.openers},t.prototype.getPaneItems=function(){return(new Array).concat(this.getPaneContainers().map(function(t){return t.getPaneItems()}))},t.prototype.getActivePaneItem=function(){return this.getActivePaneContainer().getActivePaneItem()},t.prototype.saveAll=function(){this.getPaneContainers().forEach(function(t){t.saveAll()})},t.prototype.confirmClose=function(e){return Promise.all(this.getPaneContainers().map(function(t){return t.confirmClose(e)})).then(function(t){return!t.find(function(t){return!1===t})})},t.prototype.saveActivePaneItem=function(){return this.getCenter().getActivePane().saveActiveItem()},t.prototype.saveActivePaneItemAs=function(){this.getCenter().getActivePane().saveActiveItemAs()},t.prototype.destroyActivePaneItem=function(){return this.getActivePane().destroyActiveItem()},t.prototype.getActivePaneContainer=function(){return this.activePaneContainer},t.prototype.getPanes=function(){return(new Array).concat(this.getPaneContainers().map(function(t){return t.getPanes()}))},t.prototype.getVisiblePanes=function(){return(new Array).concat(this.getVisiblePaneContainers().map(function(t){return t.getPanes()}))},t.prototype.getActivePane=function(){return this.getActivePaneContainer().getActivePane()},t.prototype.activateNextPane=function(){return this.getActivePaneContainer().activateNextPane()},t.prototype.activatePreviousPane=function(){return this.getActivePaneContainer().activatePreviousPane()},t.prototype.paneContainerForURI=function(e){return this.getPaneContainers().find(function(t){return!!t.paneForURI(e)})},t.prototype.paneContainerForItem=function(e){return this.getPaneContainers().find(function(t){return!!t.paneForItem(e)})},t.prototype.paneForURI=function(t){var e,n;try{for(var i=O(this.getPaneContainers()),o=i.next();!o.done;o=i.next()){var r=o.value.paneForURI(t);if(null!=r)return r}}catch(s){e={error:s}}finally{try{o&&!o.done&&(n=i["return"])&&n.call(i)}finally{if(e)throw e.error}}},t.prototype.paneForItem=function(t){var e,n;try{for(var i=O(this.getPaneContainers()),o=i.next();!o.done;o=i.next()){var r=o.value.paneForItem(t);if(null!=r)return r}}catch(s){e={error:s}}finally{try{o&&!o.done&&(n=i["return"])&&n.call(i)}finally{if(e)throw e.error}}},t.prototype.destroyActivePane=function(){var t=this.getActivePane();null!=t&&t.destroy()},t.prototype.closeActivePaneItemOrEmptyPaneOrWindow=function(){null!=this.getCenter().getActivePaneItem()?this.getCenter().getActivePane().destroyActiveItem():1<this.getCenter().getPanes().length?this.getCenter().destroyActivePane():this.config.get("core.closeEmptyWindows")},t.prototype.itemOpened=function(t){},t.prototype.destroyed=function(){for(var t in this.paneContainers.center.destroy(),this.paneContainers.left.destroy(),this.paneContainers.right.destroy(),this.paneContainers.bottom.destroy(),this.panelContainers)if(this.panelContainers.hasOwnProperty(t)){this.panelContainers[t];this.paneContainer.destroy()}},t.prototype.getCenter=function(){return this.paneContainers.center},t.prototype.getLeftDock=function(){return this.paneContainers.left},t.prototype.getRightDock=function(){return this.paneContainers.right},t.prototype.getBottomDock=function(){return this.paneContainers.bottom},t.prototype.getPaneContainers=function(){return[this.paneContainers.center,this.paneContainers.left,this.paneContainers.right,this.paneContainers.bottom]},t.prototype.getVisiblePaneContainers=function(){var e=this.getCenter();return this.getPaneContainers().filter(function(t){return t===e||t.isVisible()})},t.prototype.getBottomPanels=function(){return this.getPanels("bottom")},t.prototype.addBottomPanel=function(t){return this.addPanel("bottom",t)},t.prototype.getLeftPanels=function(){return this.getPanels("left")},t.prototype.addLeftPanel=function(t){return this.addPanel("left",t)},t.prototype.getRightPanels=function(){return this.getPanels("right")},t.prototype.addRightPanel=function(t){return this.addPanel("right",t)},t.prototype.getTopPanels=function(){return this.getPanels("top")},t.prototype.addTopPanel=function(t){return this.addPanel("top",t)},t.prototype.getHeaderPanels=function(){return this.getPanels("header")},t.prototype.addHeaderPanel=function(t){return this.addPanel("header",t)},t.prototype.getFooterPanels=function(){return this.getPanels("footer")},t.prototype.addFooterPanel=function(t){return this.addPanel("footer",t)},t.prototype.getModalPanels=function(){return this.getPanels("modal")},t.prototype.addModalPanel=function(t){return this.addPanel("modal",t)},t.prototype.panelForItem=function(t){for(var e in this.panelContainers)if(this.panelContainers.hasOwnProperty(e)){var n=this.panelContainers[e].panelForItem(t);if(null!=n)return n}return null},t.prototype.getPanelContainer=function(t){return this.panelContainers[t]},t.prototype.getPanels=function(t){return this.panelContainers[t].getPanels()},t.prototype.addPanel=function(t,e){var n=new Gn(e,this.viewRegistry);return this.panelContainers[t].addPanel(n)},t}(),ti=function(s){function t(){var t=null!==s&&s.apply(this,arguments)||this;return t.commands=[],t}return P(t,s),t.prototype.on=function(t,e,n,i,o){var r=this.commands.find(function(t){return t.name===n});return r&&o.call(i,r.eventeParams),s.prototype.on.call(this,t,e,n,i,o)},t.prototype.post=function(t,e,n,i){this.dispatchCommand(n,i),s.prototype.post.call(this,t,e,n,i)},t.prototype.registryActivateCommand=function(t,e,n){this.commands.push({name:t,plugin:e,activateFn:n})},t.prototype.dispatchCommand=function(e,t){var n=this.commands.find(function(t){return t.name===e});n&&(n.activateFn(n.plugin),n.eventParams=t)},t}(Cn),ei=function(){function t(){}return t.prototype.add=function(t){},t.prototype.show=function(t){},t.prototype.hide=function(t){},t.prototype.close=function(t){},t}(),ni=function(){function t(t){this.events=new Map,this.modal=new ei,this.frameId=this.getParam("frameID"),this.isTop&&(this.commandData=new Map),t&&(this.msgr=t.messager)}return Object.defineProperty(t.prototype,"isTop",{get:function(){return window.top===window},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parentInstance",{get:function(){var t=this,e=window.top;return e&&e.gsp&&(t=e.gsp.ide),t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"messager",{get:function(){return this.msgr},enumerable:!0,configurable:!0}),t.prototype.getParam=function(t){var e=new URLSearchParams(window.location.search);return unescape(e.get(t))},t.prototype.getInitCommandData=function(t){return this.isTop?this.commandData.get(t):(t=t||this.frameId,this.parentInstance.getInitCommandData(t))},t.prototype.setInitCommandData=function(t,e){this.isTop?this.commandData.set(t,e):this.parentInstance.setInitCommandData(t,e)},t.prototype.setMessager=function(t){this.msgr=t},t.prototype.onPanelAdded=function(t){this.on("panel-added",t)},t.prototype.onPanelRemoved=function(t){this.on("panel-removed",t)},t.prototype.onPanelShown=function(t){this.on("panel-shown",t)},t.prototype.onPanelHidden=function(t){this.on("panel-hidden",t)},t.prototype.onModalConfirming=function(t){this.parentInstance!==this?this.parentInstance.onModalConfirming(t):this.on("confirm-modal",t)},t.prototype.onModalCancelling=function(t){this.on("cancel-modal",t)},t.prototype.onLeftActivated=function(t){this.isTop?this.on("activate-left",t):this.parentInstance.onLeftActivated(t)},t.prototype.onNotifyShown=function(t){this.on("show-notify",t)},t.prototype.onLoadingShown=function(t){this.on("show-loading",t)},t.prototype.onLoadingHidden=function(t){this.on("hide-loading",t)},t.prototype.onDesignerStatusSet=function(t){this.on("set-designer-status",t)},t.prototype.onCloseTab=function(e,n){if(!this.isTop)return this.parentInstance.onCloseTab(e,n);this.on("close-tab",function(t){return e!==t||n()})},t.prototype.addPanel=function(t){this.emit("panel-added",t)},t.prototype.addModal=function(t){this.emit("panel-added",t,"modal")},t.prototype.closeModal=function(t){this.parentInstance!==this&&this.parentInstance.closeModal(t),this.emit("panel-removed",t,"modal")},t.prototype.confirmModal=function(t){var e=!0;return e=e&&this.emit("confirm-modal",t)},t.prototype.cancelModal=function(t){var e=!0;return this.parentInstance!==this&&(e=this.parentInstance.cancelModal(t)),e=e&&this.emit("cancel-modal",t)},t.prototype.activateLeft=function(t){t=t||this.frameId,this.isTop?this.emit("activate-left",t):this.parentInstance.activateLeft(t)},t.prototype.notify=function(t,e){this.isTop?this.emit("show-notify",t,e):this.parentInstance.notify(t,e)},t.prototype.loading=function(t){this.isTop?this.emit("show-loading",t):this.parentInstance.loading(t)},t.prototype.loaded=function(){this.isTop?this.emit("hide-loading"):this.parentInstance.loaded()},t.prototype.setDesignerStatus=function(t,e){this.isTop?this.emit("set-designer-status",{id:t,isDirty:e}):this.parentInstance.setDesignerStatus(t,e)},t.prototype.notifyCloseTab=function(t){if(!this.isTop)return this.parentInstance.notifyCloseTab(t);var e=this.emit("close-tab",t);return null==e?b.of(!0):"boolean"==typeof e?b.of(e):e},t.prototype.registerIDE=function(t){"function"==typeof t.onCloseDesigner&&this.on("close-designer",t.onCloseDesigner.bind(t))},t.prototype.on=function(t,e){var n=this.events.get(t);n?n.push(e):(n=[e],this.events.set(t,n))},t.prototype.emit=function(t){for(var e,n,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];var r=this.events.get(t);if(r&&r.length){var s=!0,a=new Array;try{for(var p=O(r),c=p.next();!c.done;c=p.next()){var l=c.value.apply(void 0,R(i));null!=l&&("boolean"==typeof l?s=s&&l:"function"==typeof l.subscribe&&l.constructor.name===b.Observable.name&&a.push(l))}}catch(u){e={error:u}}finally{try{c&&!c.done&&(n=p["return"])&&n.call(p)}finally{if(e)throw e.error}}return a.length?b.forkJoin(R(a,[b.of(s)])).pipe(I.map(function(t){return t.reduce(function(t,e){return t&&e})})):s}},t}(),ii=function(){function t(t){var e;if(this.pConfig={get:function(t){return this[t]}},t){this.pViews=t.views,this.pCommands=t.commands,this.pEventBus=t.eventBus,this.pUtil=t.util,this.pWorkspace=t.workspace,this.pCache=t.cache,e=t.ide;var n=t.context.constructor;this.pContext=new n}else this.pViews=new Yn(this),this.pCommands=new Vn,this.pEventBus=new ti,this.pUtil=new Xn,this.pWorkspace=new Qn({config:this.pConfig,viewRegistry:this.pViews}),this.pCache=new Bn(null);this.pIde=new ni(e)}return Object.defineProperty(t.prototype,"eventBus",{get:function(){return this.pEventBus},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"util",{get:function(){return this.pUtil},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"workspace",{get:function(){return this.pWorkspace},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"views",{get:function(){return this.pViews},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"commands",{get:function(){return this.pCommands},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ide",{get:function(){return this.pIde},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cache",{get:function(){return this.pCache},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return this.pContext},enumerable:!0,configurable:!0}),t.prototype.createChild=function(){return new t(this)},t}(),oi=function(){function t(){}return t.prototype.info=function(t,e){},t.prototype.question=function(t,e,n){},t.prototype.confirm=function(t){return null},t.prototype.error=function(t){},t.prototype.warning=function(t){},t}(),ri=function(){function t(t){}return t.prototype.getElement=function(){return this.element},t.prototype.serialize=function(){},t.prototype.destroy=function(){},t}(),si=function(){function t(t){this.gsp=t,this.subscriptions=[],this.packageId=t.util.newGuid()}return Object.defineProperty(t.prototype,"id",{get:function(){return this.packageId},set:function(t){this.packageId=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"view",{get:function(){return this.packageView},enumerable:!0,configurable:!0}),t.prototype.activate=function(t){this.packageView=new ri(t.sagipackageViewState)},t.prototype.initialize=function(){},t.prototype.deactivate=function(){this.packageView.destroy()},t.prototype.serialize=function(){return{sagipackageViewState:this.packageView.serialize()}},t.prototype.toggle=function(){},t.prototype.getComponent=function(){return null},t}(),ai=function(){function t(){}return t.prototype.getPackage=function(t){return this["package"]||(this.initPackage(t),this["package"]&&this["package"].initialize()),this["package"]},t.prototype.initPackage=function(t){this["package"]=new si(t)},t}(),pi=function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:[Fn,jn,Tn,Bn]}},t.decorators=[{type:C.NgModule,args:[{declarations:[]}]}],t}(),ci=function(){function t(t,e){this.http=t,this.cache=e}return t.prototype.get=function(t){return this.request("Get",t,this.setHeader({}))},t.prototype.post=function(t,e){return this.request("Post",t,this.setHeader({body:e}))},t.prototype.put=function(t,e){return this.request("Put",t,this.setHeader({body:e}))},t.prototype["delete"]=function(t,e){return this.request("Delete",t,this.setHeader({body:e}))},t.prototype.patch=function(t,e){return this.request("Patch",t,this.setHeader({body:e}))},t.prototype.setHeader=function(t){return t.headers={"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},this.cache.exists("sessionId")&&this.cache.get("sessionId")&&(t.headers.SessionId=this.cache.get("sessionId")),t},t.prototype.request=function(t,e,n){return n.body&&"string"!=typeof n.body&&(n.body=JSON.stringify(n.body)),this.http.request(t,e,n).pipe(I.map(function(t){return console.log(t),t}))},t.decorators=[{type:C.Injectable}],t.ctorParameters=function(){return[{type:w.HttpClient},{type:Bn}]},t}(),li=function(){function t(){}return t.decorators=[{type:C.NgModule,args:[{imports:[w.HttpClientModule],providers:[ci]}]}],t}();t.BsDropdownConfig=kt,t.BsDropdownContainerComponent=Nt,t.BsDropdownDirective=Tt,t.BsDropdownMenuDirective=Ft,t.BsDropdownModule=Vt,t.BsDropdownState=Rt,t.BsDropdownToggleDirective=jt,t.DropdownButtonDirective=Bt,t.DropdownItemDirective=Lt,t.PanelModule=un,t.NgbAccordionModule=cn,t.NgbTabsetModule=qe,t.NgbTabsetConfig=Le,t.NgbTabset=Ue,t.NgbTab=We,t.NgbTabContent=ze,t.NgbTabTitle=He,t.NgbNavTabsetModule=tn,t.NgbNavTabsetConfig=Xe,t.NgbNavTabset=Ze,t.NgbNavTab=Je,t.NgbNavTabContent=Ge,t.NgbNavTabTitle=Ke,t.AlertComponent=T,t.AlertModule=F,t.AlertConfig=M,t.TooltipContainerComponent=J,t.TooltipDirective=dt,t.TooltipModule=ht,t.TooltipConfig=j,t.BsModalRef=ft,t.ModalBackdropOptions=mt,t.ModalContainerComponent=xt,t.ModalBackdropComponent=_t,t.ModalOptions=yt,t.ModalDirective=St,t.ModalModule=Et,t.BsModalService=Dt,t.NavbarDirective=Ht,t.NavbarState=Ot,t.NavbarModule=zt,t.TreeModule=re,t.TreeComponent=Qt,t.TreeNode=Ut,t.AngularMonacoEditorModule=fe,t.CODE_EDITOR_INPUT_VALUE_ACCESSOR=de,t.AngularMonacoEditorComponent=he,t.ANGULAR_MONACO_EDITOR_CONFIG=se,t.CODE_EDITOR_EVENTS=ae,t.CodeEditorEventService=pe,t.AngularMonacoEditorService=ue,t.ShContextMenuModule=Ce,t.ShContextMenuComponent=ve,t.ShAttachMenuDirective=be,t.ShContextMenuItemDirective=ye,t.ShContextMenuService=ge,t.WizardComponent=we,t.WizardModule=Ie,t.ComboListModule=Se,t.ComboService=xe,t.ComboListComponent=_e,t.PropertyPanelModule=Ne,t.PropertyType={string:"string","boolean":"boolean",number:"number",select:"select",boolOrExp:"boolOrExp",multiSelect:"multiSelect",date:"date",datetime:"datetime",modal:"modal",cascade:"cascade"},t.ElementPropertyConfig=Te,t.PropertyEntity=Fe,t.BeforeOpenModalResult=je,t.PropertyChangeObject=Be,t.PropertyPanelComponent=Ae,t.NgbRootModule=hn,t.NgbModule=fn,t.IDERootModule=mn,t.PopoverDirective=Oe,t.PopoverModule=ke,t.PopoverConfig=De,t.PopoverContainerComponent=Ee,t.OnChange=A,t.LinkedList=yn,t.isBs3=Mt,t.Trigger=Z,t.Utils=Pt,t.warnOnce=ut,t.positionElements=rt,t.Positioning=it,t.PositioningService=st,t.ComponentLoader=nt,t.ComponentLoaderFactory=pt,t.ContentRef=et,t.window=B,t.document=L,t.location=V,t.gc=H,t.performance=z,t.Event=W,t.MouseEvent=U,t.KeyboardEvent=$,t.EventTarget=q,t.History=X,t.Location=Y,t.EventListener=K,t.EventBus=Cn,t.EventBusProxy=gn,t.EventPipe=vn,t.Package=si,t.PackageModule=ai,t.PackageView=ri,t.Util=Xn,t.DockStyle=Rn,t.Dock=Mn,t.GSP=ii,t.GspEventBus=ti,t.ItemRegistry=On,t.Model=wn,t.PaneAxis=In,t.PaneContainer=kn,t.Panel=Gn,t.ViewRegistry=Yn,t.WorkspaceCenter=Jn,t.Workspace=Qn,t.Ide=ni,t.Messager=oi,t.CacheService=Bn,t.CacheStorageAbstract=Nn,t.CacheLocalStorage=Fn,t.CacheMemoryStorage=jn,t.CacheSessionStorage=Tn,t.CacheModule=pi,t.GSPHttpModule=li,t.HttpService=ci,t.f=an,t.e=sn,t.d=rn,t.c=on,t.g=en,t.m=le,t.a=vt,t.b=me,t.k=ne,t.l=oe,t.i=ie,t.j=te,t.h=qt,t.p=ln,t.n=Me,t.o=Re,t.q=Cn,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=farris-ide-devkit.umd.min.js.map