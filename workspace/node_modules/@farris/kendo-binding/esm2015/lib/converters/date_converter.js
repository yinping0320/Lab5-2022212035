/*
 * @Author: Witt
 * @Date: 2018-10-29 10:26:58
 * @Last Modified by: Witt
 * @Last Modified time: 2018-10-29 15:49:12
 */
import { DateUtil } from '@farris/devkit';
/**
 * 日期转换器
 */
class DateConverter {
    /**
     * 构造函数
     * @param format 日期格式
     */
    constructor(format) {
        this.format = format;
    }
    /**
     * 字符串=> 日期
     * @param value 待转换的值
     */
    convertFrom(value) {
        if (DateUtil.isEmptyDateString(value) === true) {
            return null;
        }
        return DateUtil.parse(value);
    }
    /**
     * 日期=>字符串
     * @param value
     */
    convertTo(value) {
        if (!value) {
            return null;
        }
        // 如果value不是日期类型，则不做处理，返回原始value
        if (Object.prototype.toString.call(value) !== '[object Date]') {
            return value;
        }
        // 年
        let year = value.getFullYear().toString();
        year = year.length < 4 ? '0'.repeat(4 - year.length) + year : year;
        // 月
        let month = (value.getMonth() + 1).toString();
        month = month.length === 1 ? ('0' + month) : month;
        // 日
        let day = value.getDate().toString();
        day = day.length === 1 ? ('0' + day) : day;
        // 时分秒
        let hours = value.getHours().toString();
        hours = hours.length === 1 ? ('0' + hours) : hours;
        let minutes = value.getMinutes().toString();
        minutes = minutes.length === 1 ? ('0' + minutes) : minutes;
        let seconds = value.getSeconds().toString();
        seconds = seconds.length === 1 ? ('0' + seconds) : seconds;
        return `${year}-${month}-${day} ${hours}:${minutes}:${seconds}`;
    }
}
export { DateConverter };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGF0ZV9jb252ZXJ0ZXIuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9AZmFycmlzL2tlbmRvLWJpbmRpbmcvIiwic291cmNlcyI6WyJsaWIvY29udmVydGVycy9kYXRlX2NvbnZlcnRlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7R0FLRztBQUNILE9BQU8sRUFBeUIsUUFBUSxFQUFFLE1BQU0sZ0JBQWdCLENBQUM7QUFFakU7O0dBRUc7QUFDSCxNQUFNLGFBQWE7SUFFakI7OztPQUdHO0lBQ0gsWUFBb0IsTUFBYztRQUFkLFdBQU0sR0FBTixNQUFNLENBQVE7SUFDbEMsQ0FBQztJQUVEOzs7T0FHRztJQUNILFdBQVcsQ0FBQyxLQUFhO1FBQ3ZCLElBQUksUUFBUSxDQUFDLGlCQUFpQixDQUFDLEtBQUssQ0FBQyxLQUFLLElBQUksRUFBRTtZQUM5QyxPQUFPLElBQUksQ0FBQztTQUNiO1FBRUQsT0FBTyxRQUFRLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQy9CLENBQUM7SUFFRDs7O09BR0c7SUFDSCxTQUFTLENBQUMsS0FBVztRQUNuQixJQUFJLENBQUMsS0FBSyxFQUFFO1lBQ1YsT0FBTyxJQUFJLENBQUM7U0FDYjtRQUNELGdDQUFnQztRQUNoQyxJQUFJLE1BQU0sQ0FBQyxTQUFTLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsS0FBSyxlQUFlLEVBQUU7WUFDN0QsT0FBTyxLQUFLLENBQUM7U0FDZDtRQUNELElBQUk7UUFDSixJQUFJLElBQUksR0FBRyxLQUFLLENBQUMsV0FBVyxFQUFFLENBQUMsUUFBUSxFQUFFLENBQUM7UUFDMUMsSUFBSSxHQUFHLElBQUksQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUM7UUFDbkUsSUFBSTtRQUNKLElBQUksS0FBSyxHQUFHLENBQUMsS0FBSyxDQUFDLFFBQVEsRUFBRSxHQUFHLENBQUMsQ0FBQyxDQUFDLFFBQVEsRUFBRSxDQUFDO1FBQzlDLEtBQUssR0FBRyxLQUFLLENBQUMsTUFBTSxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLEdBQUcsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQztRQUVuRCxJQUFJO1FBQ0osSUFBSSxHQUFHLEdBQUcsS0FBSyxDQUFDLE9BQU8sRUFBRSxDQUFDLFFBQVEsRUFBRSxDQUFDO1FBQ3JDLEdBQUcsR0FBRyxHQUFHLENBQUMsTUFBTSxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQztRQUUzQyxNQUFNO1FBQ04sSUFBSSxLQUFLLEdBQUcsS0FBSyxDQUFDLFFBQVEsRUFBRSxDQUFDLFFBQVEsRUFBRSxDQUFDO1FBQ3hDLEtBQUssR0FBRyxLQUFLLENBQUMsTUFBTSxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLEdBQUcsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQztRQUVuRCxJQUFJLE9BQU8sR0FBRyxLQUFLLENBQUMsVUFBVSxFQUFFLENBQUMsUUFBUSxFQUFFLENBQUM7UUFDNUMsT0FBTyxHQUFHLE9BQU8sQ0FBQyxNQUFNLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsR0FBRyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDO1FBRTNELElBQUksT0FBTyxHQUFHLEtBQUssQ0FBQyxVQUFVLEVBQUUsQ0FBQyxRQUFRLEVBQUUsQ0FBQztRQUM1QyxPQUFPLEdBQUcsT0FBTyxDQUFDLE1BQU0sS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxHQUFHLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUM7UUFDM0QsT0FBTyxHQUFHLElBQUksSUFBSSxLQUFLLElBQUksR0FBRyxJQUFJLEtBQUssSUFBSSxPQUFPLElBQUksT0FBTyxFQUFFLENBQUM7SUFDbEUsQ0FBQztDQUNGO0FBQ0QsT0FBTyxFQUFFLGFBQWEsRUFBRSxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiLypcclxuICogQEF1dGhvcjogV2l0dFxyXG4gKiBARGF0ZTogMjAxOC0xMC0yOSAxMDoyNjo1OFxyXG4gKiBATGFzdCBNb2RpZmllZCBieTogV2l0dFxyXG4gKiBATGFzdCBNb2RpZmllZCB0aW1lOiAyMDE4LTEwLTI5IDE1OjQ5OjEyXHJcbiAqL1xyXG5pbXBvcnQgeyBDb250cm9sVmFsdWVDb252ZXJ0ZXIsIERhdGVVdGlsIH0gZnJvbSAnQGZhcnJpcy9kZXZraXQnO1xyXG5cclxuLyoqXHJcbiAqIOaXpeacn+i9rOaNouWZqFxyXG4gKi9cclxuY2xhc3MgRGF0ZUNvbnZlcnRlciBpbXBsZW1lbnRzIENvbnRyb2xWYWx1ZUNvbnZlcnRlciB7XHJcblxyXG4gIC8qKlxyXG4gICAqIOaehOmAoOWHveaVsFxyXG4gICAqIEBwYXJhbSBmb3JtYXQg5pel5pyf5qC85byPXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3IocHJpdmF0ZSBmb3JtYXQ6IHN0cmluZykge1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICog5a2X56ym5LiyPT4g5pel5pyfXHJcbiAgICogQHBhcmFtIHZhbHVlIOW+hei9rOaNoueahOWAvFxyXG4gICAqL1xyXG4gIGNvbnZlcnRGcm9tKHZhbHVlOiBzdHJpbmcpOiBEYXRlIHtcclxuICAgIGlmIChEYXRlVXRpbC5pc0VtcHR5RGF0ZVN0cmluZyh2YWx1ZSkgPT09IHRydWUpIHtcclxuICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIERhdGVVdGlsLnBhcnNlKHZhbHVlKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIOaXpeacnz0+5a2X56ym5LiyXHJcbiAgICogQHBhcmFtIHZhbHVlXHJcbiAgICovXHJcbiAgY29udmVydFRvKHZhbHVlOiBEYXRlKTogc3RyaW5nIHwgYW55IHtcclxuICAgIGlmICghdmFsdWUpIHtcclxuICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcbiAgICAvLyDlpoLmnpx2YWx1ZeS4jeaYr+aXpeacn+exu+Wei++8jOWImeS4jeWBmuWkhOeQhu+8jOi/lOWbnuWOn+Wni3ZhbHVlXHJcbiAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbHVlKSAhPT0gJ1tvYmplY3QgRGF0ZV0nKSB7XHJcbiAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgIH1cclxuICAgIC8vIOW5tFxyXG4gICAgbGV0IHllYXIgPSB2YWx1ZS5nZXRGdWxsWWVhcigpLnRvU3RyaW5nKCk7XHJcbiAgICB5ZWFyID0geWVhci5sZW5ndGggPCA0ID8gJzAnLnJlcGVhdCg0IC0geWVhci5sZW5ndGgpICsgeWVhciA6IHllYXI7XHJcbiAgICAvLyDmnIhcclxuICAgIGxldCBtb250aCA9ICh2YWx1ZS5nZXRNb250aCgpICsgMSkudG9TdHJpbmcoKTtcclxuICAgIG1vbnRoID0gbW9udGgubGVuZ3RoID09PSAxID8gKCcwJyArIG1vbnRoKSA6IG1vbnRoO1xyXG5cclxuICAgIC8vIOaXpVxyXG4gICAgbGV0IGRheSA9IHZhbHVlLmdldERhdGUoKS50b1N0cmluZygpO1xyXG4gICAgZGF5ID0gZGF5Lmxlbmd0aCA9PT0gMSA/ICgnMCcgKyBkYXkpIDogZGF5O1xyXG5cclxuICAgIC8vIOaXtuWIhuenklxyXG4gICAgbGV0IGhvdXJzID0gdmFsdWUuZ2V0SG91cnMoKS50b1N0cmluZygpO1xyXG4gICAgaG91cnMgPSBob3Vycy5sZW5ndGggPT09IDEgPyAoJzAnICsgaG91cnMpIDogaG91cnM7XHJcblxyXG4gICAgbGV0IG1pbnV0ZXMgPSB2YWx1ZS5nZXRNaW51dGVzKCkudG9TdHJpbmcoKTtcclxuICAgIG1pbnV0ZXMgPSBtaW51dGVzLmxlbmd0aCA9PT0gMSA/ICgnMCcgKyBtaW51dGVzKSA6IG1pbnV0ZXM7XHJcblxyXG4gICAgbGV0IHNlY29uZHMgPSB2YWx1ZS5nZXRTZWNvbmRzKCkudG9TdHJpbmcoKTtcclxuICAgIHNlY29uZHMgPSBzZWNvbmRzLmxlbmd0aCA9PT0gMSA/ICgnMCcgKyBzZWNvbmRzKSA6IHNlY29uZHM7XHJcbiAgICByZXR1cm4gYCR7eWVhcn0tJHttb250aH0tJHtkYXl9ICR7aG91cnN9OiR7bWludXRlc306JHtzZWNvbmRzfWA7XHJcbiAgfVxyXG59XHJcbmV4cG9ydCB7IERhdGVDb252ZXJ0ZXIgfTtcclxuIl19