/**
 * @fileoverview added by tsickle
 * Generated from: lib/session/bef_session_handling_strategy_factory.ts
 * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
/*
 * @Author: Witt
 * @Date: 2018-10-11 20:32:02
 * @Last Modified by: Witt
 * @Last Modified time: 2020-03-03 16:46:39
 */
import { Injectable } from '@angular/core';
import { SessionStorageBeSessionStorageStrategy } from './bef_session_storage_strategy';
import { BefUnifiedSessionHandlingStrategy, BefSeparatedSessionHandlingStrategy } from './bef_session_handling_strategy';
/**
 * BeSession处理策略工厂
 */
var BefSessionHandlingStrategyFactory = /** @class */ (function () {
    function BefSessionHandlingStrategyFactory() {
    }
    /**
     * 创建BeSession处理策略
     */
    /**
     * 创建BeSession处理策略
     * @param {?} handlingStrategyName
     * @param {?} frmSessionService
     * @param {?} beBaseUri
     * @param {?} httpClient
     * @param {?} injector
     * @return {?}
     */
    BefSessionHandlingStrategyFactory.prototype.create = /**
     * 创建BeSession处理策略
     * @param {?} handlingStrategyName
     * @param {?} frmSessionService
     * @param {?} beBaseUri
     * @param {?} httpClient
     * @param {?} injector
     * @return {?}
     */
    function (handlingStrategyName, frmSessionService, beBaseUri, httpClient, injector) {
        /** @type {?} */
        var storageStrategy = this.createStorageStrategy();
        /** @type {?} */
        var beSessionUri = this.createBeSessionUri(beBaseUri);
        if (handlingStrategyName === 'UnifiedSession') {
            return new BefUnifiedSessionHandlingStrategy(storageStrategy, frmSessionService, beSessionUri, injector);
        }
        else {
            return new BefSeparatedSessionHandlingStrategy(storageStrategy, frmSessionService, httpClient, beSessionUri, injector);
        }
    };
    /**
     * 创建BeSession缓存策略
     */
    /**
     * 创建BeSession缓存策略
     * @private
     * @return {?}
     */
    BefSessionHandlingStrategyFactory.prototype.createStorageStrategy = /**
     * 创建BeSession缓存策略
     * @private
     * @return {?}
     */
    function () {
        return new SessionStorageBeSessionStorageStrategy();
    };
    /**
     * 创建BeSession地址
     */
    /**
     * 创建BeSession地址
     * @private
     * @param {?} beBaseUri
     * @return {?}
     */
    BefSessionHandlingStrategyFactory.prototype.createBeSessionUri = /**
     * 创建BeSession地址
     * @private
     * @param {?} beBaseUri
     * @return {?}
     */
    function (beBaseUri) {
        return beBaseUri + "/service/createsession";
    };
    BefSessionHandlingStrategyFactory.decorators = [
        { type: Injectable }
    ];
    return BefSessionHandlingStrategyFactory;
}());
export { BefSessionHandlingStrategyFactory };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYmVmX3Nlc3Npb25faGFuZGxpbmdfc3RyYXRlZ3lfZmFjdG9yeS5qcyIsInNvdXJjZVJvb3QiOiJuZzovL0BmYXJyaXMvYmVmLyIsInNvdXJjZXMiOlsibGliL3Nlc3Npb24vYmVmX3Nlc3Npb25faGFuZGxpbmdfc3RyYXRlZ3lfZmFjdG9yeS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQU9BLE9BQU8sRUFBRSxVQUFVLEVBQVksTUFBTSxlQUFlLENBQUM7QUFHckQsT0FBTyxFQUNxQixzQ0FBc0MsRUFDakUsTUFBTSxnQ0FBZ0MsQ0FBQztBQUN4QyxPQUFPLEVBQ3VCLGlDQUFpQyxFQUFFLG1DQUFtQyxFQUNuRyxNQUFNLGlDQUFpQyxDQUFDOzs7O0FBTXpDO0lBQUE7SUFrQ0EsQ0FBQztJQS9CQzs7T0FFRzs7Ozs7Ozs7OztJQUNJLGtEQUFNOzs7Ozs7Ozs7SUFBYixVQUNFLG9CQUE0QixFQUFFLGlCQUEwQyxFQUN4RSxTQUFpQixFQUFFLFVBQXNCLEVBQUUsUUFBa0I7O1lBR3ZELGVBQWUsR0FBRyxJQUFJLENBQUMscUJBQXFCLEVBQUU7O1lBQzlDLFlBQVksR0FBRyxJQUFJLENBQUMsa0JBQWtCLENBQUMsU0FBUyxDQUFDO1FBRXZELElBQUksb0JBQW9CLEtBQUssZ0JBQWdCLEVBQUU7WUFDN0MsT0FBTyxJQUFJLGlDQUFpQyxDQUFDLGVBQWUsRUFBRSxpQkFBaUIsRUFBRSxZQUFZLEVBQUUsUUFBUSxDQUFDLENBQUM7U0FDMUc7YUFBTTtZQUNMLE9BQU8sSUFBSSxtQ0FBbUMsQ0FBQyxlQUFlLEVBQUUsaUJBQWlCLEVBQUUsVUFBVSxFQUFFLFlBQVksRUFBRSxRQUFRLENBQUMsQ0FBQztTQUN4SDtJQUNILENBQUM7SUFFRDs7T0FFRzs7Ozs7O0lBQ0ssaUVBQXFCOzs7OztJQUE3QjtRQUNFLE9BQU8sSUFBSSxzQ0FBc0MsRUFBRSxDQUFDO0lBQ3RELENBQUM7SUFFRDs7T0FFRzs7Ozs7OztJQUNLLDhEQUFrQjs7Ozs7O0lBQTFCLFVBQTJCLFNBQWlCO1FBQzFDLE9BQVUsU0FBUywyQkFBd0IsQ0FBQztJQUM5QyxDQUFDOztnQkFqQ0YsVUFBVTs7SUFrQ1gsd0NBQUM7Q0FBQSxBQWxDRCxJQWtDQztBQUVELE9BQU8sRUFBRSxpQ0FBaUMsRUFBRSxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiLypcclxuICogQEF1dGhvcjogV2l0dFxyXG4gKiBARGF0ZTogMjAxOC0xMC0xMSAyMDozMjowMlxyXG4gKiBATGFzdCBNb2RpZmllZCBieTogV2l0dFxyXG4gKiBATGFzdCBNb2RpZmllZCB0aW1lOiAyMDIwLTAzLTAzIDE2OjQ2OjM5XHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgSW5qZWN0YWJsZSwgSW5qZWN0b3IgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuaW1wb3J0IHsgSHR0cENsaWVudCB9IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbi9odHRwJztcclxuaW1wb3J0IHsgRnJhbWV3b3JrU2Vzc2lvblNlcnZpY2UgfSBmcm9tICcuLi9mcmFtZXdvcmtfc2Vzc2lvbl9zZXJ2aWNlJztcclxuaW1wb3J0IHtcclxuICBCZVNlc3Npb25TdG9yYWdlU3RyYXRlZ3ksIFNlc3Npb25TdG9yYWdlQmVTZXNzaW9uU3RvcmFnZVN0cmF0ZWd5XHJcbn0gZnJvbSAnLi9iZWZfc2Vzc2lvbl9zdG9yYWdlX3N0cmF0ZWd5JztcclxuaW1wb3J0IHtcclxuICBCZWZTZXNzaW9uSGFuZGxpbmdTdHJhdGVneSwgQmVmVW5pZmllZFNlc3Npb25IYW5kbGluZ1N0cmF0ZWd5LCBCZWZTZXBhcmF0ZWRTZXNzaW9uSGFuZGxpbmdTdHJhdGVneVxyXG59IGZyb20gJy4vYmVmX3Nlc3Npb25faGFuZGxpbmdfc3RyYXRlZ3knO1xyXG5cclxuXHJcbi8qKlxyXG4gKiBCZVNlc3Npb27lpITnkIbnrZbnlaXlt6XljoJcclxuICovXHJcbkBJbmplY3RhYmxlKClcclxuY2xhc3MgQmVmU2Vzc2lvbkhhbmRsaW5nU3RyYXRlZ3lGYWN0b3J5IHtcclxuXHJcbiAgLyoqXHJcbiAgICog5Yib5bu6QmVTZXNzaW9u5aSE55CG562W55WlXHJcbiAgICovXHJcbiAgcHVibGljIGNyZWF0ZShcclxuICAgIGhhbmRsaW5nU3RyYXRlZ3lOYW1lOiBzdHJpbmcsIGZybVNlc3Npb25TZXJ2aWNlOiBGcmFtZXdvcmtTZXNzaW9uU2VydmljZSxcclxuICAgIGJlQmFzZVVyaTogc3RyaW5nLCBodHRwQ2xpZW50OiBIdHRwQ2xpZW50LCBpbmplY3RvcjogSW5qZWN0b3JcclxuICApOiBCZWZTZXNzaW9uSGFuZGxpbmdTdHJhdGVneSB7XHJcblxyXG4gICAgY29uc3Qgc3RvcmFnZVN0cmF0ZWd5ID0gdGhpcy5jcmVhdGVTdG9yYWdlU3RyYXRlZ3koKTtcclxuICAgIGNvbnN0IGJlU2Vzc2lvblVyaSA9IHRoaXMuY3JlYXRlQmVTZXNzaW9uVXJpKGJlQmFzZVVyaSk7XHJcblxyXG4gICAgaWYgKGhhbmRsaW5nU3RyYXRlZ3lOYW1lID09PSAnVW5pZmllZFNlc3Npb24nKSB7XHJcbiAgICAgIHJldHVybiBuZXcgQmVmVW5pZmllZFNlc3Npb25IYW5kbGluZ1N0cmF0ZWd5KHN0b3JhZ2VTdHJhdGVneSwgZnJtU2Vzc2lvblNlcnZpY2UsIGJlU2Vzc2lvblVyaSwgaW5qZWN0b3IpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmV0dXJuIG5ldyBCZWZTZXBhcmF0ZWRTZXNzaW9uSGFuZGxpbmdTdHJhdGVneShzdG9yYWdlU3RyYXRlZ3ksIGZybVNlc3Npb25TZXJ2aWNlLCBodHRwQ2xpZW50LCBiZVNlc3Npb25VcmksIGluamVjdG9yKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIOWIm+W7ukJlU2Vzc2lvbue8k+WtmOetlueVpVxyXG4gICAqL1xyXG4gIHByaXZhdGUgY3JlYXRlU3RvcmFnZVN0cmF0ZWd5KCk6IEJlU2Vzc2lvblN0b3JhZ2VTdHJhdGVneSB7XHJcbiAgICByZXR1cm4gbmV3IFNlc3Npb25TdG9yYWdlQmVTZXNzaW9uU3RvcmFnZVN0cmF0ZWd5KCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiDliJvlu7pCZVNlc3Npb27lnLDlnYBcclxuICAgKi9cclxuICBwcml2YXRlIGNyZWF0ZUJlU2Vzc2lvblVyaShiZUJhc2VVcmk6IHN0cmluZyk6IHN0cmluZyB7XHJcbiAgICByZXR1cm4gYCR7YmVCYXNlVXJpfS9zZXJ2aWNlL2NyZWF0ZXNlc3Npb25gO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IHsgQmVmU2Vzc2lvbkhhbmRsaW5nU3RyYXRlZ3lGYWN0b3J5IH07XHJcblxyXG5cclxuIl19