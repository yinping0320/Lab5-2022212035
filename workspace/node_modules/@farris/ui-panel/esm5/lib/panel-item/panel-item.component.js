/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { Component, Input, ContentChild, TemplateRef, Optional, ViewEncapsulation, ChangeDetectorRef, HostBinding, Renderer2, ElementRef } from '@angular/core';
import { dropAnimation } from '../util/drop.animation';
import { FarrisPanelComponent } from '../panel/panel-item-list.component';
var FarrisPanelItemComponent = /** @class */ (function () {
    function FarrisPanelItemComponent(panel, changeRef, render, el) {
        this.panel = panel;
        this.changeRef = changeRef;
        this.render = render;
        this.el = el;
        this.isPanelItem = true;
        this.isCard = true;
        // 默认非激活状态
        this.active = false;
    }
    /**
     * @return {?}
     */
    FarrisPanelItemComponent.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
    };
    /**
     * @return {?}
     */
    FarrisPanelItemComponent.prototype.ngAfterViewInit = /**
     * @return {?}
     */
    function () {
        var _this = this;
        // 全部展开
        if (this.panel.defaultExpand) {
            if (this.value === null || this.value === undefined) {
                this.value = this.generateRandomId();
            }
            this.panel.updateModel(this.value);
        }
        // 收折变换
        /** @type {?} */
        var updateHandle = (/**
         * @return {?}
         */
        function () { return _this.setActive(); });
        this.panel.subscriber.push(updateHandle);
    };
    /* 设置panel的激活状态 */
    /* 设置panel的激活状态 */
    /**
     * @return {?}
     */
    FarrisPanelItemComponent.prototype.setActive = /* 设置panel的激活状态 */
    /**
     * @return {?}
     */
    function () {
        var _this = this;
        this.active = this.panel.model.some((/**
         * @param {?} val
         * @return {?}
         */
        function (val) { return _this.value === val; }));
        // 添加删除类名
        this.active ? this.render.addClass(this.el.nativeElement, 'f-state-selected') :
            this.render.removeClass(this.el.nativeElement, 'f-state-selected');
        this.changeRef.detectChanges();
        this.changeRef.markForCheck();
    };
    /* 生成随机Id */
    /* 生成随机Id */
    /**
     * @return {?}
     */
    FarrisPanelItemComponent.prototype.generateRandomId = /* 生成随机Id */
    /**
     * @return {?}
     */
    function () {
        return Math.random().toString(16).substring(2, 10);
    };
    /**
     * TODO 禁止事件捕获  不够完善
     * 激活 失去焦点 面板
     * @param event 事件对象
     */
    /**
     * TODO 禁止事件捕获  不够完善
     * 激活 失去焦点 面板
     * @param {?} e
     * @return {?}
     */
    FarrisPanelItemComponent.prototype.selectPanelItem = /**
     * TODO 禁止事件捕获  不够完善
     * 激活 失去焦点 面板
     * @param {?} e
     * @return {?}
     */
    function (e) {
        // 设置不可收折不可收折
        if (!this.panel.foldable) {
            return;
        }
        // value 若为空  初始化随机数字符串
        if (this.value === null || this.value === undefined) {
            this.value = Math.random().toString(16).substring(2, 10);
        }
        this.panel.updateModel(this.value);
    };
    FarrisPanelItemComponent.decorators = [
        { type: Component, args: [{
                    selector: 'farris-panel-item',
                    template: "<!-- \u6807\u9898  \u662F\u5426\u6709\u6A21\u677F -->\r\n\r\n<div class=\"card-header\" (click)=\"selectPanelItem($event)\">\r\n    <!-- \u6807\u9898  \u662F\u5426\u6709\u6A21\u677F -->\r\n    <div class=\"panel-item-title\">\r\n        <span *ngIf=\"!headRef;else head\">\r\n            {{tabTitle}}\r\n        </span>\r\n        <ng-template #head [ngTemplateOutlet]=\"headRef\"></ng-template>\r\n        <span class=\"f-icon f-accordion-collapse\" *ngIf=\"!active\"></span>\r\n        <span class=\"f-icon f-accordion-expand\" *ngIf=\"active\"></span>\r\n    </div>\r\n    <div class=\"panel-item-tool\">\r\n        <ng-template [ngTemplateOutlet]=\"toolTempl\"></ng-template>\r\n    </div>\r\n    <div class=\"panel-item-clear\">\r\n    </div>\r\n</div>\r\n<!-- panel\u5185\u5BB9\u6A21\u677F -->\r\n<div [@dropAnimation]=\"active?'active':'inactive'\">\r\n    <div class=\"card-body\">\r\n        <ng-template [ngTemplateOutlet]=\"contentRef\">\r\n\r\n        </ng-template>\r\n    </div>\r\n</div>",
                    animations: [dropAnimation],
                    encapsulation: ViewEncapsulation.None,
                    styles: [".card-header{cursor:pointer}.panel-item-title{float:left}.panel-item-tool{float:right}.panel-item-clear{clear:both}.f-state-disable{pointer-events:none}.card{border-left:0;border-right:0}"]
                }] }
    ];
    /** @nocollapse */
    FarrisPanelItemComponent.ctorParameters = function () { return [
        { type: FarrisPanelComponent, decorators: [{ type: Optional }] },
        { type: ChangeDetectorRef },
        { type: Renderer2 },
        { type: ElementRef }
    ]; };
    FarrisPanelItemComponent.propDecorators = {
        width: [{ type: Input }],
        height: [{ type: Input }],
        value: [{ type: Input }],
        tabTitle: [{ type: Input, args: ['title',] }],
        disable: [{ type: Input }, { type: HostBinding, args: ['class.f-state-disable',] }],
        headRef: [{ type: ContentChild, args: ['headTempl',] }],
        toolTempl: [{ type: ContentChild, args: ['toolTempl',] }],
        contentRef: [{ type: ContentChild, args: ['contentTempl',] }],
        isPanelItem: [{ type: HostBinding, args: ['class.farris-panel-item',] }],
        isCard: [{ type: HostBinding, args: ['class.card',] }]
    };
    return FarrisPanelItemComponent;
}());
export { FarrisPanelItemComponent };
if (false) {
    /** @type {?} */
    FarrisPanelItemComponent.prototype.width;
    /** @type {?} */
    FarrisPanelItemComponent.prototype.height;
    /** @type {?} */
    FarrisPanelItemComponent.prototype.value;
    /** @type {?} */
    FarrisPanelItemComponent.prototype.tabTitle;
    /** @type {?} */
    FarrisPanelItemComponent.prototype.disable;
    /** @type {?} */
    FarrisPanelItemComponent.prototype.headRef;
    /** @type {?} */
    FarrisPanelItemComponent.prototype.toolTempl;
    /** @type {?} */
    FarrisPanelItemComponent.prototype.contentRef;
    /** @type {?} */
    FarrisPanelItemComponent.prototype.isPanelItem;
    /** @type {?} */
    FarrisPanelItemComponent.prototype.isCard;
    /** @type {?} */
    FarrisPanelItemComponent.prototype.active;
    /** @type {?} */
    FarrisPanelItemComponent.prototype.panel;
    /**
     * @type {?}
     * @private
     */
    FarrisPanelItemComponent.prototype.changeRef;
    /**
     * @type {?}
     * @private
     */
    FarrisPanelItemComponent.prototype.render;
    /**
     * @type {?}
     * @private
     */
    FarrisPanelItemComponent.prototype.el;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicGFuZWwtaXRlbS5jb21wb25lbnQuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9AZmFycmlzL3VpLXBhbmVsLyIsInNvdXJjZXMiOlsibGliL3BhbmVsLWl0ZW0vcGFuZWwtaXRlbS5jb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7OztBQUFBLE9BQU8sRUFDSCxTQUFTLEVBQUUsS0FBSyxFQUFFLFlBQVksRUFBRSxXQUFXLEVBQUUsUUFBUSxFQUNyRCxpQkFBaUIsRUFBaUIsaUJBQWlCLEVBQUUsV0FBVyxFQUFFLFNBQVMsRUFBRSxVQUFVLEVBQzFGLE1BQU0sZUFBZSxDQUFDO0FBQ3ZCLE9BQU8sRUFBRSxhQUFhLEVBQUUsTUFBTSx3QkFBd0IsQ0FBQztBQUN2RCxPQUFPLEVBQUUsb0JBQW9CLEVBQUUsTUFBTSxvQ0FBb0MsQ0FBQztBQUMxRTtJQXVDSSxrQ0FDdUIsS0FBMkIsRUFDdEMsU0FBNEIsRUFDNUIsTUFBaUIsRUFDakIsRUFBYztRQUhILFVBQUssR0FBTCxLQUFLLENBQXNCO1FBQ3RDLGNBQVMsR0FBVCxTQUFTLENBQW1CO1FBQzVCLFdBQU0sR0FBTixNQUFNLENBQVc7UUFDakIsT0FBRSxHQUFGLEVBQUUsQ0FBWTtRQVRjLGdCQUFXLEdBQUcsSUFBSSxDQUFDO1FBQ2hDLFdBQU0sR0FBRyxJQUFJLENBQUM7O1FBR3pDLFdBQU0sR0FBRyxLQUFLLENBQUM7SUFPZixDQUFDOzs7O0lBQ0QsMkNBQVE7OztJQUFSO0lBRUEsQ0FBQzs7OztJQUNELGtEQUFlOzs7SUFBZjtRQUFBLGlCQVdDO1FBVkcsT0FBTztRQUNQLElBQUksSUFBSSxDQUFDLEtBQUssQ0FBQyxhQUFhLEVBQUU7WUFDMUIsSUFBSSxJQUFJLENBQUMsS0FBSyxLQUFLLElBQUksSUFBSSxJQUFJLENBQUMsS0FBSyxLQUFLLFNBQVMsRUFBRTtnQkFDakQsSUFBSSxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsZ0JBQWdCLEVBQUUsQ0FBQzthQUN4QztZQUNELElBQUksQ0FB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QywwQ0FBZTs7SUFFWCx5Q0FBOEM7Ozs7O0lBQzlDLDZDQUFvQzs7Ozs7SUFDcEMsMENBQXlCOzs7OztJQUN6QixzQ0FBc0IiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xyXG4gICAgQ29tcG9uZW50LCBJbnB1dCwgQ29udGVudENoaWxkLCBUZW1wbGF0ZVJlZiwgT3B0aW9uYWwsIE9uSW5pdCxcclxuICAgIFZpZXdFbmNhcHN1bGF0aW9uLCBBZnRlclZpZXdJbml0LCBDaGFuZ2VEZXRlY3RvclJlZiwgSG9zdEJpbmRpbmcsIFJlbmRlcmVyMiwgRWxlbWVudFJlZlxyXG59IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xyXG5pbXBvcnQgeyBkcm9wQW5pbWF0aW9uIH0gZnJvbSAnLi4vdXRpbC9kcm9wLmFuaW1hdGlvbic7XHJcbmltcG9ydCB7IEZhcnJpc1BhbmVsQ29tcG9uZW50IH0gZnJvbSAnLi4vcGFuZWwvcGFuZWwtaXRlbS1saXN0LmNvbXBvbmVudCc7XHJcbkBDb21wb25lbnQoe1xyXG4gICAgc2VsZWN0b3I6ICdmYXJyaXMtcGFuZWwtaXRlbScsXHJcbiAgICB0ZW1wbGF0ZVVybDogJy4vcGFuZWwtaXRlbS5jb21wb25lbnQuaHRtbCcsXHJcbiAgICBzdHlsZVVybHM6IFsnLi9wYW5lbC1pdGVtLmNvbXBvbmVudC5jc3MnXSxcclxuICAgIGFuaW1hdGlvbnM6IFtkcm9wQW5pbWF0aW9uXSxcclxuICAgIGVuY2Fwc3VsYXRpb246IFZpZXdFbmNhcHN1bGF0aW9uLk5vbmVcclxufSlcclxuZXhwb3J0IGNsYXNzIEZhcnJpc1BhbmVsSXRlbUNvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCwgQWZ0ZXJWaWV3SW5pdCB7XHJcblxyXG4gICAgLy8g6K6+572u5a69IOmrmOWxnuaAp1xyXG4gICAgQElucHV0KCkgd2lkdGg6IG51bWJlcjtcclxuICAgIEBJbnB1dCgpIGhlaWdodDogbnVtYmVyO1xyXG5cclxuICAgIC8qIHBhbmVsSXRlbSAqL1xyXG4gICAgQElucHV0KCkgdmFsdWU6IGFueTtcclxuXHJcbiAgICAvLyDpu5jorqR0YWIg5qCH6aKYIOaIluiAheaYr+mAieS4reagh+mimFxyXG4gICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLWlucHV0LXJlbmFtZVxyXG4gICAgQElucHV0KCd0aXRsZScpIHRhYlRpdGxlOiBzdHJpbmc7XHJcblxyXG4gICAgLyog56aB55SoICovXHJcbiAgICBASW5wdXQoKVxyXG4gICAgQEhvc3RCaW5kaW5nKCdjbGFzcy5mLXN0YXRlLWRpc2FibGUnKVxyXG4gICAgZGlzYWJsZTogYm9vbGVhbjtcclxuXHJcbiAgICAvKiDlpLTpg6jmqKHmnb8gKi9cclxuICAgIEBDb250ZW50Q2hpbGQoJ2hlYWRUZW1wbCcpIGhlYWRSZWY6IFRlbXBsYXRlUmVmPGFueT47XHJcblxyXG4gICAgLyog5bel5YW35oyJ6ZKu5qih5p2/ICovXHJcbiAgICBAQ29udGVudENoaWxkKCd0b29sVGVtcGwnKSB0b29sVGVtcGw6IFRlbXBsYXRlUmVmPGFueT47XHJcblxyXG4gICAgLyog5YaF5a655qih5p2/ICovXHJcbiAgICBAQ29udGVudENoaWxkKCdjb250ZW50VGVtcGwnKSBjb250ZW50UmVmOiBUZW1wbGF0ZVJlZjxhbnk+O1xyXG5cclxuICAgIEBIb3N0QmluZGluZygnY2xhc3MuZmFycmlzLXBhbmVsLWl0ZW0nKSBpc1BhbmVsSXRlbSA9IHRydWU7XHJcbiAgICBASG9zdEJpbmRpbmcoJ2NsYXNzLmNhcmQnKSBpc0NhcmQgPSB0cnVlO1xyXG5cclxuICAgIC8vIOm7mOiupOmdnua/gOa0u+eKtuaAgVxyXG4gICAgYWN0aXZlID0gZmFsc2U7XHJcbiAgICBjb25zdHJ1Y3RvcihcclxuICAgICAgICBAT3B0aW9uYWwoKSBwdWJsaWMgcGFuZWw6IEZhcnJpc1BhbmVsQ29tcG9uZW50LFxyXG4gICAgICAgIHByaXZhdGUgY2hhbmdlUmVmOiBDaGFuZ2VEZXRlY3RvclJlZixcclxuICAgICAgICBwcml2YXRlIHJlbmRlcjogUmVuZGVyZXIyLFxyXG4gICAgICAgIHByaXZhdGUgZWw6IEVsZW1lbnRSZWZcclxuICAgICkge1xyXG4gICAgfVxyXG4gICAgbmdPbkluaXQoKSB7XHJcblxyXG4gICAgfVxyXG4gICAgbmdBZnRlclZpZXdJbml0KCkge1xyXG4gICAgICAgIC8vIOWFqOmDqOWxleW8gFxyXG4gICAgICAgIGlmICh0aGlzLnBhbmVsLmRlZmF1bHRFeHBhbmQpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMudmFsdWUgPT09IG51bGwgfHwgdGhpcy52YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnZhbHVlID0gdGhpcy5nZW5lcmF0ZVJhbmRvbUlkKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5wYW5lbC51cGRhdGVNb2RlbCh0aGlzLnZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8g5pS25oqY5Y+Y5o2iXHJcbiAgICAgICAgY29uc3QgdXBkYXRlSGFuZGxlOiAoKSA9PiB2b2lkID0gKCkgPT4gdGhpcy5zZXRBY3RpdmUoKTtcclxuICAgICAgICB0aGlzLnBhbmVsLnN1YnNjcmliZXIucHVzaCh1cGRhdGVIYW5kbGUpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qIOiuvue9rnBhbmVs55qE5r+A5rS754q25oCBICovXHJcbiAgICBzZXRBY3RpdmUoKSB7XHJcbiAgICAgICAgdGhpcy5hY3RpdmUgPSB0aGlzLnBhbmVsLm1vZGVsLnNvbWUodmFsID0+IHRoaXMudmFsdWUgPT09IHZhbCk7XHJcbiAgICAgICAgLy8g5re75Yqg5Yig6Zmk57G75ZCNXHJcbiAgICAgICAgdGhpcy5hY3RpdmUgPyB0aGlzLnJlbmRlci5hZGRDbGFzcyh0aGlzLmVsLm5hdGl2ZUVsZW1lbnQsICdmLXN0YXRlLXNlbGVjdGVkJykgOlxyXG4gICAgICAgICAgICB0aGlzLnJlbmRlci5yZW1vdmVDbGFzcyh0aGlzLmVsLm5hdGl2ZUVsZW1lbnQsICdmLXN0YXRlLXNlbGVjdGVkJyk7XHJcbiAgICAgICAgdGhpcy5jaGFuZ2VSZWYuZGV0ZWN0Q2hhbmdlcygpO1xyXG4gICAgICAgIHRoaXMuY2hhbmdlUmVmLm1hcmtGb3JDaGVjaygpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qIOeUn+aIkOmaj+acuklkICovXHJcbiAgICBnZW5lcmF0ZVJhbmRvbUlkKCkge1xyXG4gICAgICAgIHJldHVybiBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDE2KS5zdWJzdHJpbmcoMiwgMTApO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogVE9ETyDnpoHmraLkuovku7bmjZXojrcgIOS4jeWkn+WujOWWhFxyXG4gICAgICog5r+A5rS7IOWkseWOu+eEpueCuSDpnaLmnb9cclxuICAgICAqIEBwYXJhbSBldmVudCDkuovku7blr7nosaFcclxuICAgICAqL1xyXG4gICAgc2VsZWN0UGFuZWxJdGVtKGU6IE1vdXNlRXZlbnQpIHtcclxuICAgICAgICAvLyDorr7nva7kuI3lj6/mlLbmipjkuI3lj6/mlLbmiphcclxuICAgICAgICBpZiAoIXRoaXMucGFuZWwuZm9sZGFibGUpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyB2YWx1ZSDoi6XkuLrnqbogIOWIneWni+WMlumaj+acuuaVsOWtl+espuS4slxyXG4gICAgICAgIGlmICh0aGlzLnZhbHVlID09PSBudWxsIHx8IHRoaXMudmFsdWUgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICB0aGlzLnZhbHVlID0gTWF0aC5yYW5kb20oKS50b1N0cmluZygxNikuc3Vic3RyaW5nKDIsIDEwKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5wYW5lbC51cGRhdGVNb2RlbCh0aGlzLnZhbHVlKTtcclxuICAgIH1cclxufVxyXG4iXX0=