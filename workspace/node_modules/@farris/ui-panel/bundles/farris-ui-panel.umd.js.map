{"version":3,"file":"farris-ui-panel.umd.js.map","sources":["ng://@farris/ui-panel/lib/panel/panel-item-list.component.ts","ng://@farris/ui-panel/lib/util/drop.animation.ts","ng://@farris/ui-panel/lib/panel-item/panel-item.component.ts","ng://@farris/ui-panel/lib/panel.module.ts"],"sourcesContent":["import {\r\n    Component, Input, AfterViewInit,\r\n    ViewEncapsulation, Output, EventEmitter, ElementRef, Renderer2, OnInit, ViewChild\r\n} from '@angular/core';\r\n@Component({\r\n    selector: 'farris-panel',\r\n    templateUrl: './panel-item-list.component.html',\r\n    styleUrls: ['./panel-item-list.component.css'],\r\n    encapsulation: ViewEncapsulation.None\r\n})\r\n\r\nexport class FarrisPanelComponent implements AfterViewInit, OnInit {\r\n\r\n    @ViewChild('farrisPanel') farrisPanel: ElementRef;\r\n\r\n    /* è®¾ç½®å®½é« */\r\n    @Input() width: number;\r\n    @Input() height: number;\r\n\r\n\r\n\r\n    /* èªå®ä¹className */\r\n    @Input() className = [];\r\n\r\n    /* é¢æ¿æ¯å¦å¯æ¶æ  é»è®¤æ¶æ*/\r\n    @Input() foldable = true;\r\n\r\n    /* é¢æ¿æ¯å¦å¨é¨å±å¼  é»è®¤ä¸æ¯å¨é¨å±å¼*/\r\n    @Input() defaultExpand: false;\r\n\r\n    // è®¾ç½®æé£ç´æ¨¡å¼  è³å¤åªæä¸ä¸ªpanelå¯ä»¥è¢«éä¸­\r\n    @Input() accordion = false;\r\n\r\n    /* panelæ°æ®å­å¨ */\r\n    @Input() get model() {\r\n        return this.modelValue;\r\n    }\r\n\r\n    set model(modelValue) {\r\n        // è·åç¨æ·è¾å¥çå¼\r\n        this.modelValue = modelValue;\r\n        this.updateSubscriber();\r\n    }\r\n\r\n\r\n    @Output() modelChange: EventEmitter<Array<string | number>> = new EventEmitter<Array<string | number>>();\r\n\r\n    // @HostBinding('class.farris-panel') isPanel =\r\n\r\n    // ååç»å®  å½modelæ°ç»æ¹åæ¶ï¼ç¸åºçactiveç¶æçpanelä¹è¦æ¹å ä»èæ¹åè§å¾\r\n    // ååç»å® ç¨äºå­åactiveç¶æçpanel\r\n    modelValue: Array<string | number> = [];\r\n    subscriber: Array<() => void> = [];\r\n\r\n    constructor(\r\n        private render: Renderer2) {\r\n\r\n    }\r\n\r\n    ngOnInit() {\r\n    }\r\n\r\n    ngAfterViewInit(): void {\r\n        // æ·»å classå\r\n        if (this.className.length) {\r\n            this.className.forEach(ele => {\r\n                this.render.addClass(this.farrisPanel.nativeElement, ele);\r\n            });\r\n        }\r\n        this.updateSubscriber();\r\n    }\r\n\r\n    /**\r\n     * @param value panelå­å¨æ¿æ´»å¼\r\n     */\r\n    updateModel(value: string) {\r\n        const index = this.modelValue.findIndex(val => val === value);\r\n        // å¦ææ²¡æå¹éå°ç¹å»çpanelå¼  å¯è½modeléé¢ä¸å­å¨ å¯è½modelä¸ºç©º\r\n        if (index < 0) {\r\n            // è¥æ¯æé£ç´æ¨¡å¼  åæææpanelå¤äºæªæ¿æ´»ç¶æ\r\n            if (this.accordion) {\r\n                this.model = [];\r\n            }\r\n            // å¦æä¸æ¯æé£ç´æ¨¡å¼  ç´æ¥æ¿æ´»å³å¯\r\n            this.modelValue.push(value);\r\n            this.updateSubscriber();\r\n            return this.modelChange.emit(this.modelValue);\r\n        }\r\n        // å¦æindexä¸ä¸º-1\r\n        // æé£ç´æ¨¡å¼  å³é­æææ¿æ´»ç¶æ\r\n        if (this.accordion) {\r\n            this.model = [];\r\n        } else {\r\n            // éæé£ç´æ¨¡å¼ ç´æ¥å³é­å½åpanelå³å¯\r\n            this.modelValue.splice(index, 1);\r\n        }\r\n        this.updateSubscriber();\r\n        this.modelChange.emit(this.modelValue);\r\n    }\r\n\r\n    /* å½æ°åå */\r\n    private updateSubscriber(): void {\r\n        this.subscriber.forEach(handle => handle());\r\n    }\r\n}\r\n","import { AnimationTriggerMetadata, trigger, state, style, animate, transition } from '@angular/animations';\r\nexport const dropAnimation: AnimationTriggerMetadata = trigger(\r\n    'dropAnimation', [\r\n        state('active', style({\r\n            'height': '*',\r\n        })),\r\n        state('inactive', style({\r\n            'height': '0',\r\n            'overflow': 'hidden'\r\n        })),\r\n        transition('active<=>inactive', animate(`.35s ease`)),\r\n    ]);\r\n","import {\r\n    Component, Input, ContentChild, TemplateRef, Optional, OnInit,\r\n    ViewEncapsulation, AfterViewInit, ChangeDetectorRef, HostBinding, Renderer2, ElementRef\r\n} from '@angular/core';\r\nimport { dropAnimation } from '../util/drop.animation';\r\nimport { FarrisPanelComponent } from '../panel/panel-item-list.component';\r\n@Component({\r\n    selector: 'farris-panel-item',\r\n    templateUrl: './panel-item.component.html',\r\n    styleUrls: ['./panel-item.component.css'],\r\n    animations: [dropAnimation],\r\n    encapsulation: ViewEncapsulation.None\r\n})\r\nexport class FarrisPanelItemComponent implements OnInit, AfterViewInit {\r\n\r\n    // è®¾ç½®å®½ é«å±æ§\r\n    @Input() width: number;\r\n    @Input() height: number;\r\n\r\n    /* panelItem */\r\n    @Input() value: any;\r\n\r\n    // é»è®¤tab æ é¢ æèæ¯éä¸­æ é¢\r\n    // tslint:disable-next-line:no-input-rename\r\n    @Input('title') tabTitle: string;\r\n\r\n    /* ç¦ç¨ */\r\n    @Input()\r\n    @HostBinding('class.f-state-disable')\r\n    disable: boolean;\r\n\r\n    /* å¤´é¨æ¨¡æ¿ */\r\n    @ContentChild('headTempl') headRef: TemplateRef<any>;\r\n\r\n    /* å·¥å·æé®æ¨¡æ¿ */\r\n    @ContentChild('toolTempl') toolTempl: TemplateRef<any>;\r\n\r\n    /* åå®¹æ¨¡æ¿ */\r\n    @ContentChild('contentTempl') contentRef: TemplateRef<any>;\r\n\r\n    @HostBinding('class.farris-panel-item') isPanelItem = true;\r\n    @HostBinding('class.card') isCard = true;\r\n\r\n    // é»è®¤éæ¿æ´»ç¶æ\r\n    active = false;\r\n    constructor(\r\n        @Optional() public panel: FarrisPanelComponent,\r\n        private changeRef: ChangeDetectorRef,\r\n        private render: Renderer2,\r\n        private el: ElementRef\r\n    ) {\r\n    }\r\n    ngOnInit() {\r\n\r\n    }\r\n    ngAfterViewInit() {\r\n        // å¨é¨å±å¼\r\n        if (this.panel.defaultExpand) {\r\n            if (this.value === null || this.value === undefined) {\r\n                this.value = this.generateRandomId();\r\n            }\r\n            this.panel.updateModel(this.value);\r\n        }\r\n        // æ¶æåæ¢\r\n        const updateHandle: () => void = () => this.setActive();\r\n        this.panel.subscriber.push(updateHandle);\r\n    }\r\n\r\n    /* è®¾ç½®panelçæ¿æ´»ç¶æ */\r\n    setActive() {\r\n        this.active = this.panel.model.some(val => this.value === val);\r\n        // æ·»å å é¤ç±»å\r\n        this.active ? this.render.addClass(this.el.nativeElement, 'f-state-selected') :\r\n            this.render.removeClass(this.el.nativeElement, 'f-state-selected');\r\n        this.changeRef.detectChanges();\r\n        this.changeRef.markForCheck();\r\n    }\r\n\r\n    /* çæéæºId */\r\n    generateRandomId() {\r\n        return Math.random().toString(16).substring(2, 10);\r\n    }\r\n\r\n    /**\r\n     * TODO ç¦æ­¢äºä»¶æè·  ä¸å¤å®å\r\n     * æ¿æ´» å¤±å»ç¦ç¹ é¢æ¿\r\n     * @param event äºä»¶å¯¹è±¡\r\n     */\r\n    selectPanelItem(e: MouseEvent) {\r\n        // è®¾ç½®ä¸å¯æ¶æä¸å¯æ¶æ\r\n        if (!this.panel.foldable) {\r\n            return;\r\n        }\r\n        // value è¥ä¸ºç©º  åå§åéæºæ°å­ç¬¦ä¸²\r\n        if (this.value === null || this.value === undefined) {\r\n            this.value = Math.random().toString(16).substring(2, 10);\r\n        }\r\n        this.panel.updateModel(this.value);\r\n    }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FarrisPanelComponent } from './panel/panel-item-list.component';\r\nimport { FarrisPanelItemComponent } from './panel-item/panel-item.component';\r\n@NgModule({\r\n    imports: [\r\n        CommonModule\r\n    ],\r\n    declarations: [\r\n        FarrisPanelItemComponent,\r\n        FarrisPanelComponent,\r\n    ],\r\n    exports: [\r\n        FarrisPanelItemComponent,\r\n        FarrisPanelComponent\r\n    ],\r\n})\r\nexport class FarrisPanelModule {\r\n\r\n}\r\n"],"names":["EventEmitter","Component","ViewEncapsulation","Renderer2","ViewChild","Input","Output","trigger","state","style","transition","animate","Optional","ChangeDetectorRef","ElementRef","HostBinding","ContentChild","NgModule","CommonModule"],"mappings":"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"}
