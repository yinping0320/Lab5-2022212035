!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("rxjs"),require("rxjs/operators"),require("@angular/core")):"function"==typeof define&&define.amd?define("@farris/extend-scroll-collapsible-area",["exports","rxjs","rxjs/operators","@angular/core"],t):t((e.farris=e.farris||{},e.farris["extend-scroll-collapsible-area"]={}),e.rxjs,e.rxjs.operators,e.ng.core)}(this,function(e,t,n,o){"use strict";var i=(Object.defineProperty(l.prototype,"defaultCollapse",{get:function(){return this.collapseState},set:function(e){e!==this.collapseState&&(e?this.collapse():this.expand())},enumerable:!0,configurable:!0}),l.prototype.ngAfterViewInit=function(){this._initHeight=this.contentArea.nativeElement.getBoundingClientRect().height},l.prototype.ngOnInit=function(){},l.prototype.collapse=function(){var e;this.collapseState||(this.containerArea.nativeElement.style.height="0px",e=(e=this.el.nativeElement.className).replace(this.clsName.expand,""),this.el.nativeElement.className=e+" "+this.clsName.collapse,this.collapseState=!0)},l.prototype.expand=function(){var e;this.collapseState&&(this.containerArea.nativeElement.style.height=this._initHeight+"px",e=(e=this.el.nativeElement.className).replace(this.clsName.collapse,""),this.el.nativeElement.className=e+" "+this.clsName.expand,this.collapseState=!1)},l.prototype.changeState=function(){this.collapseState?this.expand():this.collapse()},l.prototype.getInitHeight=function(){return this._initHeight},l.prototype.updateHeight=function(e,t){"up"==t&&!this.collapseState||"down"==t&&this.collapseState||("up"==t&&e<10&&this.collapseState&&this.expand(),"down"==t&&e>this._initHeight+10&&!this.collapseState&&this.collapse(),"down"==t?(this.containerArea.nativeElement.style.height=this._initHeight-e+"px",this._initHeight<=e&&this.collapse()):"up"==t&&(this.containerArea.nativeElement.style.height=this._initHeight-e+"px",e<10&&this.expand()))},l.decorators=[{type:o.Component,args:[{selector:"fe-collapsible-area",template:'<div class="fe-collapsible-container" #containerArea>\n  <div class="fe-collapsible-area" #contentArea>\n    <ng-content></ng-content>\n  </div>\n</div>\n<div class="fe-collapsible-icon-container" (click)="changeState()">\n  <span class="f-icon-container"><i class="f-icon"></i></span>\n</div>'}]}],l.ctorParameters=function(){return[{type:o.NgZone},{type:o.ElementRef}]},l.propDecorators={cls:[{type:o.HostBinding,args:["class.fe-cmp-collapsible-area"]}],defaultCollapse:[{type:o.Input}],contentArea:[{type:o.ViewChild,args:["contentArea"]}],containerArea:[{type:o.ViewChild,args:["containerArea"]}]},l);function l(e,t){this.ngZone=e,this.el=t,this.cls=!0,this.clsName={collapse:"f-state-collapse",expand:"f-state-expand"},this.collapseState=!1}var s=(a.prototype.ngOnInit=function(){this.bindScrollEvent()},a.prototype.ngOnDestroy=function(){this.scrollSub.unsubscribe(),this.scrollSub=null},a.prototype.addCollapseInstance=function(e){this.relatedCollapseInstance=e},a.prototype.bindScrollEvent=function(){var e=this;this.scrollSub=t.fromEvent(this.el.nativeElement,"scroll").pipe(n.debounceTime(20)).subscribe(function(){e.scrollDirection()})},a.prototype.scrollDirection=function(){var e=this.el.nativeElement.scrollTop,t=e-this.scrollAreaTop;if(0==t)return!1;this.scrollAreaTop=e,this.judgeThreshold(0<t?"down":"up")},a.prototype.judgeThreshold=function(e){this.relatedCollapseInstance.updateHeight(this.scrollAreaTop,e)},a.decorators=[{type:o.Directive,args:[{selector:"[fe-scroll-area]"}]}],a.ctorParameters=function(){return[{type:o.ElementRef}]},a);function a(e){this.el=e,this.scrollAreaTop=0,this.threshold=0}var r=(c.prototype.ngAfterViewInit=function(){this.scrollArea.addCollapseInstance(this.collapseArea)},c.prototype.ngOnInit=function(){},c.decorators=[{type:o.Directive,args:[{selector:"[fe-scroll-collapsible]"}]}],c.ctorParameters=function(){return[{type:o.ElementRef}]},c.propDecorators={collapseArea:[{type:o.ContentChild,args:[i]}],scrollArea:[{type:o.ContentChild,args:[s]}]},c);function c(e){this.el=e}var p=(h.decorators=[{type:o.Injectable,args:[{providedIn:"root"}]}],h.ctorParameters=function(){return[]},h.ngInjectableDef=o.defineInjectable({factory:function(){return new h},token:h,providedIn:"root"}),h);function h(){}var u=(d.decorators=[{type:o.NgModule,args:[{declarations:[s,r,i],imports:[],exports:[s,r,i],providers:[p]}]}],d);function d(){}e.FECollapsibleAreaComponent=i,e.FEScrollAreaDirective=s,e.FEScrollCollapsibleAreaDirective=r,e.FEScrollCollapsibleAreaService=p,e.FEScrollCollapsibleAreaModule=u,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=farris-extend-scroll-collapsible-area.umd.min.js.map