/**
 * @fileoverview added by tsickle
 * Generated from: lib/collapsible-area/collapsible-area.component.ts
 * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { Component, ElementRef, HostBinding, Input, NgZone, ViewChild } from '@angular/core';
var FECollapsibleAreaComponent = /** @class */ (function () {
    function FECollapsibleAreaComponent(ngZone, el) {
        this.ngZone = ngZone;
        this.el = el;
        this.cls = true;
        // 样式名称
        this.clsName = {
            'collapse': 'f-state-collapse',
            'expand': 'f-state-expand'
        };
        //默认是否收起
        this.collapseState = false;
    }
    Object.defineProperty(FECollapsibleAreaComponent.prototype, "defaultCollapse", {
        get: /**
         * @return {?}
         */
        function () {
            return this.collapseState;
        },
        set: /**
         * @param {?} value
         * @return {?}
         */
        function (value) {
            if (value !== this.collapseState) {
                if (value) {
                    this.collapse();
                }
                else {
                    this.expand();
                }
            }
        },
        enumerable: true,
        configurable: true
    });
    /**
     * @return {?}
     */
    FECollapsibleAreaComponent.prototype.ngAfterViewInit = /**
     * @return {?}
     */
    function () {
        this._initHeight = this.contentArea.nativeElement.getBoundingClientRect().height;
    };
    /**
     * @return {?}
     */
    FECollapsibleAreaComponent.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
    };
    // 収折
    // 収折
    /**
     * @return {?}
     */
    FECollapsibleAreaComponent.prototype.collapse = 
    // 収折
    /**
     * @return {?}
     */
    function () {
        if (this.collapseState) {
            return;
        }
        this.containerArea.nativeElement.style.height = "0px";
        /** @type {?} */
        var tName = this.el.nativeElement.className;
        tName = tName.replace(this.clsName.expand, '');
        this.el.nativeElement.className = tName + ' ' + this.clsName.collapse;
        this.collapseState = true;
    };
    // 展开
    // 展开
    /**
     * @return {?}
     */
    FECollapsibleAreaComponent.prototype.expand = 
    // 展开
    /**
     * @return {?}
     */
    function () {
        if (!this.collapseState) {
            return;
        }
        this.containerArea.nativeElement.style.height = this._initHeight + "px";
        /** @type {?} */
        var tName = this.el.nativeElement.className;
        tName = tName.replace(this.clsName.collapse, '');
        this.el.nativeElement.className = tName + ' ' + this.clsName.expand;
        this.collapseState = false;
    };
    // 改变状态
    // 改变状态
    /**
     * @return {?}
     */
    FECollapsibleAreaComponent.prototype.changeState = 
    // 改变状态
    /**
     * @return {?}
     */
    function () {
        if (this.collapseState) {
            this.expand();
        }
        else {
            this.collapse();
        }
    };
    // 对外传出初始高度
    // 对外传出初始高度
    /**
     * @return {?}
     */
    FECollapsibleAreaComponent.prototype.getInitHeight = 
    // 对外传出初始高度
    /**
     * @return {?}
     */
    function () {
        return this._initHeight;
    };
    // 更新高度
    // 更新高度
    /**
     * @param {?} tHeight
     * @param {?} direction
     * @return {?}
     */
    FECollapsibleAreaComponent.prototype.updateHeight = 
    // 更新高度
    /**
     * @param {?} tHeight
     * @param {?} direction
     * @return {?}
     */
    function (tHeight, direction) {
        if (direction == 'up' && !this.collapseState || direction == 'down' && this.collapseState) {
            //向上，并且已经展开，或者向下，并且已经収折，不需要处理
            return;
        }
        // 向上
        if (direction == 'up' && tHeight < 10 && this.collapseState) {
            this.expand();
        }
        // 向下
        if (direction == 'down' && tHeight > this._initHeight + 10 && !this.collapseState) {
            this.collapse();
        }
        if (direction == 'down') {
            this.containerArea.nativeElement.style.height = (this._initHeight - tHeight) + 'px';
            if (this._initHeight <= tHeight) {
                //如果高度向下，快到阈值，并且还没有収折，意在収折
                this.collapse();
            }
        }
        else if (direction == 'up') {
            this.containerArea.nativeElement.style.height = (this._initHeight - tHeight) + 'px';
            if (tHeight < 10) {
                // 如果向上，快到阈值，并且还没有展开，意在展开
                this.expand();
            }
        }
    };
    FECollapsibleAreaComponent.decorators = [
        { type: Component, args: [{
                    selector: 'fe-collapsible-area',
                    template: "<div class=\"fe-collapsible-container\" #containerArea>\n  <div class=\"fe-collapsible-area\" #contentArea>\n    <ng-content></ng-content>\n  </div>\n</div>\n<div class=\"fe-collapsible-icon-container\" (click)=\"changeState()\">\n  <span class=\"f-icon-container\"><i class=\"f-icon\"></i></span>\n</div>"
                }] }
    ];
    /** @nocollapse */
    FECollapsibleAreaComponent.ctorParameters = function () { return [
        { type: NgZone },
        { type: ElementRef }
    ]; };
    FECollapsibleAreaComponent.propDecorators = {
        cls: [{ type: HostBinding, args: ['class.fe-cmp-collapsible-area',] }],
        defaultCollapse: [{ type: Input }],
        contentArea: [{ type: ViewChild, args: ['contentArea',] }],
        containerArea: [{ type: ViewChild, args: ['containerArea',] }]
    };
    return FECollapsibleAreaComponent;
}());
export { FECollapsibleAreaComponent };
if (false) {
    /** @type {?} */
    FECollapsibleAreaComponent.prototype.cls;
    /**
     * @type {?}
     * @private
     */
    FECollapsibleAreaComponent.prototype.clsName;
    /** @type {?} */
    FECollapsibleAreaComponent.prototype.collapseState;
    /**
     * @type {?}
     * @private
     */
    FECollapsibleAreaComponent.prototype._initHeight;
    /** @type {?} */
    FECollapsibleAreaComponent.prototype.contentArea;
    /** @type {?} */
    FECollapsibleAreaComponent.prototype.containerArea;
    /**
     * @type {?}
     * @private
     */
    FECollapsibleAreaComponent.prototype.ngZone;
    /**
     * @type {?}
     * @private
     */
    FECollapsibleAreaComponent.prototype.el;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29sbGFwc2libGUtYXJlYS5jb21wb25lbnQuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9AZmFycmlzL2V4dGVuZC1zY3JvbGwtY29sbGFwc2libGUtYXJlYS8iLCJzb3VyY2VzIjpbImxpYi9jb2xsYXBzaWJsZS1hcmVhL2NvbGxhcHNpYmxlLWFyZWEuY29tcG9uZW50LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7O0FBQUEsT0FBTyxFQUFFLFNBQVMsRUFBVSxVQUFVLEVBQUUsV0FBVyxFQUFFLEtBQUssRUFBRSxNQUFNLEVBQWlCLFNBQVMsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUdwSDtJQWtDRSxvQ0FBb0IsTUFBYyxFQUFVLEVBQWM7UUFBdEMsV0FBTSxHQUFOLE1BQU0sQ0FBUTtRQUFVLE9BQUUsR0FBRixFQUFFLENBQVk7UUE3QlosUUFBRyxHQUFHLElBQUksQ0FBQzs7UUFFakQsWUFBTyxHQUFHO1lBQ2hCLFVBQVUsRUFBRSxrQkFBa0I7WUFDOUIsUUFBUSxFQUFFLGdCQUFnQjtTQUMzQixDQUFDOztRQUVGLGtCQUFhLEdBQUcsS0FBSyxDQUFDO0lBd0J0QixDQUFDO0lBdEJELHNCQUNJLHVEQUFlOzs7O1FBU25CO1lBQ0UsT0FBTyxJQUFJLENBQUMsYUFBYSxDQUFDO1FBQzVCLENBQUM7Ozs7O1FBWkQsVUFDb0IsS0FBSztZQUN2QixJQUFJLEtBQUssS0FBSyxJQUFJLENBQUMsYUFBYSxFQUFFO2dCQUNoQyxJQUFJLEtBQUssRUFBRTtvQkFDVCxJQUFJLENBQUMsUUFBUSxFQUFFLENBQUM7aUJBQ2pCO3FCQUFNO29CQUNMLElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQztpQkFDZjthQUNGO1FBQ0gsQ0FBQzs7O09BQUE7Ozs7SUFjRCxvREFBZTs7O0lBQWY7UUFDRSxJQUFJLENBQUMsV0FBVyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsYUFBYSxDQUFDLHFCQUFxQixFQUFFLENBQUMsTUFBTSxDQUFDO0lBQ25GLENBQUM7Ozs7SUFDRCw2Q0FB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UyxJQUFJLElBQUksRUFBRTtZQUM1QixJQUFJLENBQUMsYUFBYSxDQUFDLGFBQWEsQ0FBQyxLQUFLLENBQUMsTUFBTSxHQUFHLENBQUMsSUFBSSxDQUFDLFdBQVcsR0FBRyxPQUFPLENBQUMsR0FBRyxJQUFJLENBQUM7WUFDcEYsSUFBSSxPQUFPLEdBQUcsRUFBRSxFQUFFO2dCQUNoQix5QkFBeUI7Z0JBQ3pCLElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQzthQUNmO1NBQ0Y7SUFDSCxDQUFDOztnQkFwR0YsU0FBUyxTQUFDO29CQUNULFFBQVEsRUFBRSxxQkFBcUI7b0JBQy9CLDZUQUFnRDtpQkFDakQ7Ozs7Z0JBTjJELE1BQU07Z0JBQXRDLFVBQVU7OztzQkFRbkMsV0FBVyxTQUFDLCtCQUErQjtrQ0FTM0MsS0FBSzs4QkFnQkwsU0FBUyxTQUFDLGFBQWE7Z0NBRXZCLFNBQVMsU0FBQyxlQUFlOztJQXFFNUIsaUNBQUM7Q0FBQSxBQXJHRCxJQXFHQztTQWpHWSwwQkFBMEI7OztJQUNyQyx5Q0FBeUQ7Ozs7O0lBRXpELDZDQUdFOztJQUVGLG1EQUFzQjs7Ozs7SUFDdEIsaURBQW9COztJQWlCcEIsaURBQWtEOztJQUVsRCxtREFBc0Q7Ozs7O0lBRTFDLDRDQUFzQjs7Ozs7SUFBRSx3Q0FBc0IiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb21wb25lbnQsIE9uSW5pdCwgRWxlbWVudFJlZiwgSG9zdEJpbmRpbmcsIElucHV0LCBOZ1pvbmUsIEFmdGVyVmlld0luaXQsIFZpZXdDaGlsZCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuXG5cbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogJ2ZlLWNvbGxhcHNpYmxlLWFyZWEnLFxuICB0ZW1wbGF0ZVVybDogJy4vY29sbGFwc2libGUtYXJlYS5jb21wb25lbnQuaHRtbCdcbn0pXG5leHBvcnQgY2xhc3MgRkVDb2xsYXBzaWJsZUFyZWFDb21wb25lbnQgaW1wbGVtZW50cyBPbkluaXQsIEFmdGVyVmlld0luaXQge1xuICBASG9zdEJpbmRpbmcoJ2NsYXNzLmZlLWNtcC1jb2xsYXBzaWJsZS1hcmVhJykgY2xzID0gdHJ1ZTtcbiAgLy8g5qC35byP5ZCN56ewXG4gIHByaXZhdGUgY2xzTmFtZSA9IHtcbiAgICAnY29sbGFwc2UnOiAnZi1zdGF0ZS1jb2xsYXBzZScsXG4gICAgJ2V4cGFuZCc6ICdmLXN0YXRlLWV4cGFuZCdcbiAgfTtcbiAgLy/pu5jorqTmmK/lkKbmlLbotbdcbiAgY29sbGFwc2VTdGF0ZSA9IGZhbHNlO1xuICBwcml2YXRlIF9pbml0SGVpZ2h0O1xuICBASW5wdXQoKVxuICBzZXQgZGVmYXVsdENvbGxhcHNlKHZhbHVlKSB7XG4gICAgaWYgKHZhbHVlICE9PSB0aGlzLmNvbGxhcHNlU3RhdGUpIHtcbiAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICB0aGlzLmNvbGxhcHNlKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmV4cGFuZCgpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBnZXQgZGVmYXVsdENvbGxhcHNlKCkge1xuICAgIHJldHVybiB0aGlzLmNvbGxhcHNlU3RhdGU7XG4gIH1cblxuXG4gIC8vIOWPjuaKmOWGheWuueWMuuWfn1xuICBAVmlld0NoaWxkKCdjb250ZW50QXJlYScpIGNvbnRlbnRBcmVhOiBFbGVtZW50UmVmO1xuICAvLyDlj47mipjlpJblsYLlrrnlmahcbiAgQFZpZXdDaGlsZCgnY29udGFpbmVyQXJlYScpIGNvbnRhaW5lckFyZWE6IEVsZW1lbnRSZWY7XG5cbiAgY29uc3RydWN0b3IocHJpdmF0ZSBuZ1pvbmU6IE5nWm9uZSwgcHJpdmF0ZSBlbDogRWxlbWVudFJlZikge1xuXG4gIH1cbiAgbmdBZnRlclZpZXdJbml0KCkge1xuICAgIHRoaXMuX2luaXRIZWlnaHQgPSB0aGlzLmNvbnRlbnRBcmVhLm5hdGl2ZUVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0O1xuICB9XG4gIG5nT25Jbml0KCkge1xuXG4gIH1cbiAgLy8g5Y+O5oqYXG4gIGNvbGxhcHNlKCkge1xuICAgIGlmICh0aGlzLmNvbGxhcHNlU3RhdGUpIHsgcmV0dXJuOyB9XG4gICAgdGhpcy5jb250YWluZXJBcmVhLm5hdGl2ZUVsZW1lbnQuc3R5bGUuaGVpZ2h0ID0gXCIwcHhcIjtcbiAgICBsZXQgdE5hbWUgPSB0aGlzLmVsLm5hdGl2ZUVsZW1lbnQuY2xhc3NOYW1lO1xuICAgIHROYW1lID0gdE5hbWUucmVwbGFjZSh0aGlzLmNsc05hbWUuZXhwYW5kLCAnJyk7XG4gICAgdGhpcy5lbC5uYXRpdmVFbGVtZW50LmNsYXNzTmFtZSA9IHROYW1lICsgJyAnICsgdGhpcy5jbHNOYW1lLmNvbGxhcHNlO1xuICAgIHRoaXMuY29sbGFwc2VTdGF0ZSA9IHRydWU7XG4gIH1cbiAgLy8g5bGV5byAXG4gIGV4cGFuZCgpIHtcbiAgICBpZiAoIXRoaXMuY29sbGFwc2VTdGF0ZSkgeyByZXR1cm47IH1cbiAgICB0aGlzLmNvbnRhaW5lckFyZWEubmF0aXZlRWxlbWVudC5zdHlsZS5oZWlnaHQgPSB0aGlzLl9pbml0SGVpZ2h0ICsgXCJweFwiO1xuICAgIGxldCB0TmFtZSA9IHRoaXMuZWwubmF0aXZlRWxlbWVudC5jbGFzc05hbWU7XG4gICAgdE5hbWUgPSB0TmFtZS5yZXBsYWNlKHRoaXMuY2xzTmFtZS5jb2xsYXBzZSwgJycpO1xuICAgIHRoaXMuZWwubmF0aXZlRWxlbWVudC5jbGFzc05hbWUgPSB0TmFtZSArICcgJyArIHRoaXMuY2xzTmFtZS5leHBhbmQ7XG4gICAgdGhpcy5jb2xsYXBzZVN0YXRlID0gZmFsc2U7XG4gIH1cbiAgLy8g5pS55Y+Y54q25oCBXG4gIGNoYW5nZVN0YXRlKCkge1xuICAgIGlmICh0aGlzLmNvbGxhcHNlU3RhdGUpIHtcbiAgICAgIHRoaXMuZXhwYW5kKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuY29sbGFwc2UoKTtcbiAgICB9XG4gIH1cbiAgLy8g5a+55aSW5Lyg5Ye65Yid5aeL6auY5bqmXG4gIGdldEluaXRIZWlnaHQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2luaXRIZWlnaHQ7XG4gIH1cbiAgLy8g5pu05paw6auY5bqmXG4gIHVwZGF0ZUhlaWdodCh0SGVpZ2h0LCBkaXJlY3Rpb24pIHtcbiAgICBpZiAoZGlyZWN0aW9uID09ICd1cCcgJiYgIXRoaXMuY29sbGFwc2VTdGF0ZSB8fCBkaXJlY3Rpb24gPT0gJ2Rvd24nICYmIHRoaXMuY29sbGFwc2VTdGF0ZSkge1xuICAgICAgLy/lkJHkuIrvvIzlubbkuJTlt7Lnu4/lsZXlvIDvvIzmiJbogIXlkJHkuIvvvIzlubbkuJTlt7Lnu4/lj47mipjvvIzkuI3pnIDopoHlpITnkIZcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLy8g5ZCR5LiKXG4gICAgaWYgKGRpcmVjdGlvbiA9PSAndXAnICYmIHRIZWlnaHQgPCAxMCAmJiB0aGlzLmNvbGxhcHNlU3RhdGUpIHtcbiAgICAgIHRoaXMuZXhwYW5kKCk7XG4gICAgfVxuICAgIC8vIOWQkeS4i1xuICAgIGlmIChkaXJlY3Rpb24gPT0gJ2Rvd24nICYmIHRIZWlnaHQgPiB0aGlzLl9pbml0SGVpZ2h0ICsgMTAgJiYgIXRoaXMuY29sbGFwc2VTdGF0ZSkge1xuICAgICAgdGhpcy5jb2xsYXBzZSgpO1xuICAgIH1cbiAgICBpZiAoZGlyZWN0aW9uID09ICdkb3duJykge1xuICAgICAgdGhpcy5jb250YWluZXJBcmVhLm5hdGl2ZUVsZW1lbnQuc3R5bGUuaGVpZ2h0ID0gKHRoaXMuX2luaXRIZWlnaHQgLSB0SGVpZ2h0KSArICdweCc7XG4gICAgICBpZiAodGhpcy5faW5pdEhlaWdodCA8PSB0SGVpZ2h0KSB7XG4gICAgICAgIC8v5aaC5p6c6auY5bqm5ZCR5LiL77yM5b+r5Yiw6ZiI5YC877yM5bm25LiU6L+Y5rKh5pyJ5Y+O5oqY77yM5oSP5Zyo5Y+O5oqYXG4gICAgICAgIHRoaXMuY29sbGFwc2UoKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGRpcmVjdGlvbiA9PSAndXAnKSB7XG4gICAgICB0aGlzLmNvbnRhaW5lckFyZWEubmF0aXZlRWxlbWVudC5zdHlsZS5oZWlnaHQgPSAodGhpcy5faW5pdEhlaWdodCAtIHRIZWlnaHQpICsgJ3B4JztcbiAgICAgIGlmICh0SGVpZ2h0IDwgMTApIHtcbiAgICAgICAgLy8g5aaC5p6c5ZCR5LiK77yM5b+r5Yiw6ZiI5YC877yM5bm25LiU6L+Y5rKh5pyJ5bGV5byA77yM5oSP5Zyo5bGV5byAXG4gICAgICAgIHRoaXMuZXhwYW5kKCk7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG4iXX0=