/**
 * @fileoverview added by tsickle
 * Generated from: lib/organization-selector.component.ts
 * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { Component, EventEmitter, forwardRef, HostBinding, Injector, Input, NgZone, Output, Renderer2, ViewChild, ChangeDetectorRef } from '@angular/core';
import { NgControl, NG_VALUE_ACCESSOR } from '@angular/forms';
import { DialogComponent } from '@farris/ui-dialog';
import { ApiService } from '../utils/api.service';
import { CommonUtil } from '../utils/common.tool';
import { FavoritesTool } from '../utils/favorites.tool';
import { ChangeType } from '../utils/index.type';
import { StateMgrTool } from '../utils/state.mgr.tool';
import { Subject } from 'rxjs';
import * as _ from 'lodash-es';
import { debounceTime, distinctUntilChanged, switchMap, tap } from 'rxjs/operators';
import { GroupComponent } from './tab-group/group.component';
import { OrganizationComponent } from './tab-organization/to.component';
import { FavoritesComponent } from './tab-favorites/favorites.component';
import { MessagerService } from '@farris/ui-messager';
import { NotifyService } from '@farris/ui-notify';
import { LocaleService } from '@farris/ui-locale';
import { ORGANIZATION_SELECTOR_LOCALE } from '../utils/locale';
var AdminOrganizationSelectorComponent = /** @class */ (function () {
    function AdminOrganizationSelectorComponent(render, injector, favoritesTool, apiService, ngZone, stateMgr) {
        var _this = this;
        this.render = render;
        this.injector = injector;
        this.favoritesTool = favoritesTool;
        this.apiService = apiService;
        this.ngZone = ngZone;
        this.stateMgr = stateMgr;
        this.baseCls = true;
        this.width = '100%';
        // 是否为零代码轻应用表格模板
        this.isTableTemplate = false;
        // input框是否显示
        this.showInput = true;
        // 业务标识
        this.busNum = 'common';
        this.multiSelect = true;
        this.placeholder = '请选择';
        this.searchPlaceholder = '请输入编号或名称搜索';
        this.readonly = false;
        // 传入的url
        this.absUserOrgUrl = '/api/runtime/sys/v1.0/absUserOrg';
        this.absRfQueryUrl = '/api/runtime/sys/v1.0/absRecentContacts/query';
        this.absRfModifyUrl = '/api/runtime/sys/v1.0/absRecentContacts/modify';
        this.groupApiUrl = "/api/runtime/sys/v1.0/org-group";
        this.groupExtendUrl = '/platform/runtime/wf/webapp/ng-farris-mobile-ui/extend-org.js';
        /**
         * 数据源类型
         * 默认为： System_organization  系统数据源   获取系统人员、系统组织
         * Administrative_organization  已扩展数据源  获取行政组织、行政人员
         * absOrgType {string}
         * PersonnelSelectorComponent
         */
        this.absOrgType = 'System_organization';
        // 启用分层加载
        this.enableHierarchicalLoading = true;
        // 不包含停用组织
        this.notGetStopOrg = true;
        this.primaryField = 'orgId';
        this.displayField = 'name';
        this.orgIds = [];
        // 展开层级
        this.layer = 1;
        // 是否启用级联选中
        this.cascadeCheck = true;
        // 级联选中下级
        this.cascadeDown = true;
        // 级联选中上级
        this.cascadeUp = false;
        // 显示全选按钮
        this.showCheckAll = false;
        this.keepSelect = false;
        // 一次性最多选中多少条
        this.selectedLimit = 50;
        this.showTabIds = 'organization,favorites';
        this.activeTabId = 'organization';
        // 搜索前端分页50条
        this.searchPageSize = 50;
        /**
         * 多选分隔符
         */
        this.multipleChoiceSeparator = ',';
        this.draggable = true;
        this.virtualizedLoad = false;
        this.dataPermission = false;
        this.dataPermissionIds = [];
        this.orgNameType = 'short';
        this.onlyDisplayCompany = false;
        this.onlyParentFinalText = false;
        this.quickSelect = false;
        this.selectionsChange = new EventEmitter();
        // 全部清除按钮触发回调
        this.inputClear = new EventEmitter();
        // 标签删除按钮出发回调
        this.tagRemoved = new EventEmitter();
        this.selections = [];
        this.originalSelections = [];
        this.finalText = [];
        this.parentFinal = [];
        this.abbreParentFinal = [];
        this.lookupIcon = '<i class="f-icon f-icon-lookup"></i>';
        this.searchIcon = '<span class="k-icon k-i-search"></span>';
        this.organizationTabId = 'organization';
        this.groupTabId = 'group';
        this.favoritesTabId = 'favorites';
        this.dialogHeight = 548;
        this.dialogId = 'dialogId';
        this.isShow = false;
        this.confirmToken = false;
        this.hideSearchPanel = true;
        this.searchText = '';
        this.groupDialogOpend = false;
        this.groupDialogTitle = '';
        this.validGroupTitle = true;
        this.groupTitleStream = new Subject();
        this.selectionsShow = false;
        this.orgTabActive = false;
        this.groupTabActive = false;
        this.againstSingleSelect = false;
        this.localeService = null;
        this.languagesArray = [
            { code: 'zh-CHS', name: '中文简体', default: true },
            { code: 'en', name: 'English' },
            { code: 'zh-CHT', name: '中文繁体' }
        ];
        this._onlyCurrentAdminOrg = false;
        this.farrisDialogbeforeClose = (/**
         * @return {?}
         */
        function () {
            _this.isShow = false;
            if (_this.confirmToken) {
                _this.originalSelections = _.cloneDeep(_this.selections);
            }
            else {
                _this.selections = _.cloneDeep(_this.originalSelections);
            }
            if (!_this.hideSearchPanel || _this.searchText) {
                _this.searchText = null;
                _this.clearSearch();
            }
            _this.confirmToken = false;
            return true;
        });
        this.onModelChange = (/**
         * @param {?=} val
         * @return {?}
         */
        function (val) { });
        this.onModelTouched = (/**
         * @param {?=} val
         * @return {?}
         */
        function (val) { });
        this.apiService.absUrl = this.absUserOrgUrl;
        this.apiService.groupApiUrl = this.groupApiUrl;
        this.apiService.getOrgsUrl = '/api/runtime/sys/v1.0/adminOrg';
        this.cdRef = this.injector.get(ChangeDetectorRef);
        this.messageService = this.injector.get(MessagerService, null);
        this.notifyService = this.injector.get(NotifyService, null);
        this.localeService = this.injector.get(LocaleService);
        if (!this.localeService.langData['organizationSelector']) {
            this.localeService.setLocaleData(ORGANIZATION_SELECTOR_LOCALE);
        }
    }
    Object.defineProperty(AdminOrganizationSelectorComponent.prototype, "bableTemplClass", {
        get: /**
         * @return {?}
         */
        function () {
            return this.isTableTemplate;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(AdminOrganizationSelectorComponent.prototype, "onlyCurrentAdminOrg", {
        get: /**
         * @return {?}
         */
        function () {
            return this._onlyCurrentAdminOrg;
        },
        set: /**
         * @param {?} value
         * @return {?}
         */
        function (value) {
            this._onlyCurrentAdminOrg = this.onlyDisplayCompany ? false : value;
        },
        enumerable: true,
        configurable: true
    });
    /**
     * @param {?} obj
     * @return {?}
     */
    AdminOrganizationSelectorComponent.prototype.writeValue = /**
     * @param {?} obj
     * @return {?}
     */
    function (obj) {
        if (!!obj && typeof obj === 'string') {
            this.finalText = obj.split(this.multipleChoiceSeparator);
        }
        else {
            this.finalText = [];
        }
    };
    /**
     * @param {?} fn
     * @return {?}
     */
    AdminOrganizationSelectorComponent.prototype.registerOnChange = /**
     * @param {?} fn
     * @return {?}
     */
    function (fn) {
        this.onModelChange = fn;
    };
    /**
     * @param {?} fn
     * @return {?}
     */
    AdminOrganizationSelectorComponent.prototype.registerOnTouched = /**
     * @param {?} fn
     * @return {?}
     */
    function (fn) {
        this.onModelTouched = fn;
    };
    /**
     * @param {?} isDisabled
     * @return {?}
     */
    AdminOrganizationSelectorComponent.prototype.setDisabledState = /**
     * @param {?} isDisabled
     * @return {?}
     */
    function (isDisabled) {
        throw new Error('Method not implemented.');
    };
    /**
     * @return {?}
     */
    AdminOrganizationSelectorComponent.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
        this.initDialogHeight();
        this.listenSelectionsChange();
        this.initTabs();
        this.initGroupSearch();
        this.ngControl = this.injector.get(NgControl, null);
        this.mapFields && this.mapFields2Component();
    };
    /**
     * @return {?}
     */
    AdminOrganizationSelectorComponent.prototype.ngAfterViewInit = /**
     * @return {?}
     */
    function () {
        this.listenWindowResize();
    };
    /**
     * @param {?} changes
     * @return {?}
     */
    AdminOrganizationSelectorComponent.prototype.ngOnChanges = /**
     * @param {?} changes
     * @return {?}
     */
    function (changes) {
        /** @type {?} */
        var orgIdsChange = changes.orgIds;
        if (orgIdsChange && orgIdsChange.currentValue) {
            this.assembleDataByOrgIds(orgIdsChange.currentValue);
        }
    };
    /**
     * @return {?}
     */
    AdminOrganizationSelectorComponent.prototype.ngOnDestroy = /**
     * @return {?}
     */
    function () {
        this.selectionsSub.unsubscribe();
    };
    /**
     * @private
     * @param {?} selections
     * @param {?=} changeType
     * @param {?=} from
     * @return {?}
     */
    AdminOrganizationSelectorComponent.prototype.emitSelections = /**
     * @private
     * @param {?} selections
     * @param {?=} changeType
     * @param {?=} from
     * @return {?}
     */
    function (selections, changeType, from) {
        if (changeType === void 0) { changeType = ChangeType.ValueChanged; }
        if (from === void 0) { from = 'form'; }
        this.stateMgr.emitSelections(selections, changeType, from);
    };
    // 根据字段映射关系获取当前已选组织的id，进而在打开选组织弹窗时进行相应展示
    // 根据字段映射关系获取当前已选组织的id，进而在打开选组织弹窗时进行相应展示
    /**
     * @private
     * @return {?}
     */
    AdminOrganizationSelectorComponent.prototype.mapFields2Component = 
    // 根据字段映射关系获取当前已选组织的id，进而在打开选组织弹窗时进行相应展示
    /**
     * @private
     * @return {?}
     */
    function () {
        // const helpFields = Object.keys(this.mapFields);
        // if (!helpFields.includes(this.primaryField)) {
        //   // this.notifyService.warning(this.localeService.getValue("organizationSelector.errorMessage.mapFields"));
        //   if(!helpFields.includes('id')) {
        //     return;
        //   } else {
        //     this.mapFields[this.primaryField] = this.mapFields['id'];
        //     delete this.mapFields['id'];
        //   }
        // }
        if (this.ngControl &&
            this.ngControl.formDirective &&
            this.ngControl.formDirective.form &&
            this.ngControl.formDirective.form.bindingData) {
            /** @type {?} */
            var bindingData = this.ngControl.formDirective.form.bindingData;
            if (bindingData.setValue) {
                /** @type {?} */
                var bindingPath = this.ngControl.formDirective.form.bindingPath;
                /** @type {?} */
                var pathArr = [];
                if (bindingPath) {
                    pathArr = bindingPath.split('/').filter((/**
                     * @param {?} n
                     * @return {?}
                     */
                    function (n) { return n !== ''; }));
                }
                /** @type {?} */
                var multiPath = this.mapFields['id'].split(this.multipleChoiceSeparator);
                /** @type {?} */
                var fieldPaths = pathArr.concat(multiPath[0].split('.'));
                /** @type {?} */
                var ids = bindingData.getValue(fieldPaths);
                if (!ids) {
                    this.emitSelections([]);
                    return;
                }
                this.assembleDataByOrgIds(ids.split(this.multipleChoiceSeparator));
            }
        }
    };
    // 根据传入的组织id数组获取对应的组织
    // 由ngOnChanges()、mapFields2Component()调用
    // 根据传入的组织id数组获取对应的组织
    // 由ngOnChanges()、mapFields2Component()调用
    /**
     * @private
     * @param {?} ids
     * @return {?}
     */
    AdminOrganizationSelectorComponent.prototype.assembleDataByOrgIds = 
    // 根据传入的组织id数组获取对应的组织
    // 由ngOnChanges()、mapFields2Component()调用
    /**
     * @private
     * @param {?} ids
     * @return {?}
     */
    function (ids) {
        var _this = this;
        if (!ids || !ids.length) {
            return;
        }
        if (ids && ids.length > 1 && !this.multiSelect) {
            this.againstSingleSelect = true;
            return;
        }
        this.apiService.getOrganizationsWithIds(ids).subscribe((/**
         * @param {?} res
         * @return {?}
         */
        function (res) {
            if (res && res.length) {
                _this.selections = res;
                if (!_this.mapFields) {
                    _this.assembleFinalText();
                    _this.emitSelections(_this.selections);
                    if (_this.dataPermission) {
                        _this.emitSelections(_this.selections);
                    }
                }
                else {
                    _this.emitSelections(_this.selections);
                }
            }
        }));
    };
    // 构造回显至input文本框的内容
    // 在有mapFields的前提下，由assembleDataByOrgIds()调用，clearAll()、removeItem()、returnResult()也会调用
    // 构造回显至input文本框的内容
    // 在有mapFields的前提下，由assembleDataByOrgIds()调用，clearAll()、removeItem()、returnResult()也会调用
    /**
     * @private
     * @return {?}
     */
    AdminOrganizationSelectorComponent.prototype.assembleFinalText = 
    // 构造回显至input文本框的内容
    // 在有mapFields的前提下，由assembleDataByOrgIds()调用，clearAll()、removeItem()、returnResult()也会调用
    /**
     * @private
     * @return {?}
     */
    function () {
        var _this = this;
        this.finalText = [];
        this.selections.forEach((/**
         * @param {?} item
         * @param {?} index
         * @return {?}
         */
        function (item, index) {
            /** @type {?} */
            var formatedName = _this.formatFn && _this.formatFn(item);
            /** @type {?} */
            var finalText = '';
            if (_this.orgNameType == 'short') {
                finalText = formatedName ? formatedName : (item['abbreviation'] ? item['abbreviation'] : item[_this.displayField]);
            }
            else {
                finalText = formatedName ? formatedName : item[_this.displayField];
            }
            _this.finalText.push(finalText);
        }));
        this.finalText = this.finalText.slice();
    };
    // 初始化弹窗id及高度
    // 由ngOnInit()调用
    // 初始化弹窗id及高度
    // 由ngOnInit()调用
    /**
     * @return {?}
     */
    AdminOrganizationSelectorComponent.prototype.initDialogHeight = 
    // 初始化弹窗id及高度
    // 由ngOnInit()调用
    /**
     * @return {?}
     */
    function () {
        /** @type {?} */
        var uuid = CommonUtil.newGuid();
        this.dialogId += uuid;
        /** @type {?} */
        var windowInnerHeight = window.innerHeight;
        this.dialogHeight = windowInnerHeight - 60;
        if (this.dialogHeight > 680) {
            this.dialogHeight = 680;
        }
    };
    // 监听selections的变更，变更包含三种形式：valueChange、append、remove
    // 由ngOnInit()调用
    // 监听selections的变更，变更包含三种形式：valueChange、append、remove
    // 由ngOnInit()调用
    /**
     * @return {?}
     */
    AdminOrganizationSelectorComponent.prototype.listenSelectionsChange = 
    // 监听selections的变更，变更包含三种形式：valueChange、append、remove
    // 由ngOnInit()调用
    /**
     * @return {?}
     */
    function () {
        var _this = this;
        this.selectionsSub = this.stateMgr.selectionsSubject.subscribe((/**
         * @param {?} data
         * @return {?}
         */
        function (data) {
            if (data.changeType === ChangeType.ValueChanged) {
                _this.selections = _.cloneDeep(data.value);
            }
            else if (data.changeType === ChangeType.Remove) {
                _this.selections = _this.selections.filter((/**
                 * @param {?} item
                 * @return {?}
                 */
                function (item) { return item['id'] !== data.value['id']; }));
            }
            else if (data.changeType === ChangeType.Append) {
                CommonUtil.findIndex(data.value['id'], 'id', _this.selections) === -1 ? _this.selections.push(data.value) : null;
            }
            _this.onlyParentFinalText && _this.assembleParentFinal();
            _this.cdRef.detectChanges();
        }));
    };
    // 根据showTabIds判断是否启用收藏功能、群组功能
    // 由ngOnInit()调用
    // 根据showTabIds判断是否启用收藏功能、群组功能
    // 由ngOnInit()调用
    /**
     * @private
     * @return {?}
     */
    AdminOrganizationSelectorComponent.prototype.initTabs = 
    // 根据showTabIds判断是否启用收藏功能、群组功能
    // 由ngOnInit()调用
    /**
     * @private
     * @return {?}
     */
    function () {
        if (!this.showTabIds.includes(this.activeTabId)) {
            this.activeTabId = this.showTabIds.split(',')[0];
        }
        if (this.dataPermission) {
            this.showTabIds = this.organizationTabId;
            this.activeTabId = this.organizationTabId;
            this.orgTabActive = true;
            return;
        }
        this.currentTabId = this.activeTabId;
        if (this.showTabIds.indexOf(this.favoritesTabId) !== -1) {
            this.enableFavorites = true;
        }
        else {
            this.enableFavorites = false;
        }
        if (this.showTabIds.indexOf(this.groupTabId) !== -1) {
            this.enableGroup = true;
        }
        else {
            this.enableGroup = false;
        }
        if (this.activeTabId == this.organizationTabId) {
            this.orgTabActive = true;
        }
        else if (this.activeTabId == this.groupTabId) {
            this.groupTabActive = true;
        }
        // 启用群组功能扩展函数
        /*
        if (this.enableGroup) {
          const ccwork = window.top.document.createElement("script")
          ccwork.src = this.groupExtendUrl + '?vs=' + Math.random();
          window.document.head.appendChild(ccwork);
        }
        */
    };
    // 判断群组名称是否合法
    // 由ngOnInit()调用
    // 判断群组名称是否合法
    // 由ngOnInit()调用
    /**
     * @private
     * @return {?}
     */
    AdminOrganizationSelectorComponent.prototype.initGroupSearch = 
    // 判断群组名称是否合法
    // 由ngOnInit()调用
    /**
     * @private
     * @return {?}
     */
    function () {
        var _this = this;
        if (this.enableGroup) {
            this.groupTitleStream.pipe(debounceTime(500), distinctUntilChanged()).subscribe((/**
             * @param {?} data
             * @return {?}
             */
            function (data) {
                if (!!data) {
                    _this.validGroupTitle = true;
                }
                else {
                    _this.validGroupTitle = false;
                }
            }));
        }
    };
    // 当浏览器窗口大小变更时，变更弹窗的大小
    // 由ngAfterViewInit()调用
    // 当浏览器窗口大小变更时，变更弹窗的大小
    // 由ngAfterViewInit()调用
    /**
     * @return {?}
     */
    AdminOrganizationSelectorComponent.prototype.listenWindowResize = 
    // 当浏览器窗口大小变更时，变更弹窗的大小
    // 由ngAfterViewInit()调用
    /**
     * @return {?}
     */
    function () {
        var _this = this;
        /** @type {?} */
        var dialogElement = document.querySelector('#' + this.dialogId);
        /** @type {?} */
        var targetElement = null;
        if (!!dialogElement) {
            targetElement = dialogElement.querySelector('.modal-dialog');
        }
        window.addEventListener('resize', (/**
         * @return {?}
         */
        function () {
            if (!!targetElement) {
                /** @type {?} */
                var height = window.innerHeight - 60;
                if (height > 680) {
                    height = 680;
                }
                _this.dialogHeight = height;
                /** @type {?} */
                var innerHeight_1 = height + 'px';
                /** @type {?} */
                var marginTop = '-' + height / 2 + 'px';
                _this.render.setStyle(targetElement, 'height', innerHeight_1);
                _this.render.setStyle(targetElement, 'margin-top', marginTop);
            }
        }));
    };
    // 初始化组织收藏数据
    // 由showFarrisDialog()调用，即打开选组织弹窗时发送请求
    // 初始化组织收藏数据
    // 由showFarrisDialog()调用，即打开选组织弹窗时发送请求
    /**
     * @private
     * @return {?}
     */
    AdminOrganizationSelectorComponent.prototype.initFavorites = 
    // 初始化组织收藏数据
    // 由showFarrisDialog()调用，即打开选组织弹窗时发送请求
    /**
     * @private
     * @return {?}
     */
    function () {
        var _this = this;
        this.favoritesTool.absOrgType = this.absOrgType;
        this.favoritesTool.busNum = this.busNum;
        this.favoritesTool.idField = 'id';
        this.favoritesTool.absRfQueryUrl = this.absRfQueryUrl;
        this.favoritesTool.absRfModifyUrl = this.absRfModifyUrl;
        this.favoritesTool.getFavoritesList().subscribe((/**
         * @param {?} result
         * @return {?}
         */
        function (result) {
            /** @type {?} */
            var resData = result ? ((/** @type {?} */ (result))).orgData : [];
            _this.favoritesTool.favoritesList = resData;
            _this.favoritesTool.setFavoritesList(resData);
        }));
    };
    // 打开选组织弹窗
    // 打开选组织弹窗
    /**
     * @return {?}
     */
    AdminOrganizationSelectorComponent.prototype.showFarrisDialog = 
    // 打开选组织弹窗
    /**
     * @return {?}
     */
    function () {
        var _this = this;
        this.isShow = true;
        this.ngZone.runOutsideAngular((/**
         * @return {?}
         */
        function () {
            setTimeout((/**
             * @return {?}
             */
            function () {
                _this.dialog.show();
                if (_this.showTabIds.indexOf(_this.favoritesTabId) !== -1) {
                    _this.initFavorites();
                }
                if (_this.againstSingleSelect) {
                    _this.notifyService.warning(_this.localeService.getValue("organizationSelector.errorMessage.multiSelect"));
                    return;
                }
                // if (this.mapFields && !Object.keys(this.mapFields).includes(this.primaryField)) {
                //   this.notifyService.warning(this.localeService.getValue("organizationSelector.errorMessage.mapFields"));
                //   return;
                // }
                _this.stateMgr.emitSelections(_this.selections, ChangeType.ValueChanged, 'form');
            }));
        }));
    };
    // input文本框内点击清除按钮时触发
    // input文本框内点击清除按钮时触发
    /**
     * @return {?}
     */
    AdminOrganizationSelectorComponent.prototype.clearAll = 
    // input文本框内点击清除按钮时触发
    /**
     * @return {?}
     */
    function () {
        this.selections = [];
        this.assembleFinalText();
        this.onModelChange(this.finalText.join());
        this.onModelTouched(this.finalText.join());
        this.emitSelections([]);
        this.inputClear.emit();
    };
    // input文本框内删除某一个已选组织时触发
    // input文本框内删除某一个已选组织时触发
    /**
     * @param {?} data
     * @param {?} index
     * @param {?} event
     * @return {?}
     */
    AdminOrganizationSelectorComponent.prototype.removeItem = 
    // input文本框内删除某一个已选组织时触发
    /**
     * @param {?} data
     * @param {?} index
     * @param {?} event
     * @return {?}
     */
    function (data, index, event) {
        if (this.selections.length > 0) {
            if (this.onlyParentFinalText) {
                /** @type {?} */
                var removeIndex = this.selections.findIndex((/**
                 * @param {?} item
                 * @return {?}
                 */
                function (item) { return item['id'] == data['id']; }));
                /** @type {?} */
                var removeData_1 = this.selections.splice(removeIndex, 1);
                if (data.children.length) {
                    /** @type {?} */
                    var afterRemoveChild = this.selections.filter((/**
                     * @param {?} item
                     * @return {?}
                     */
                    function (item) { return !item.path.startsWith(removeData_1[0].path); }));
                    this.selections = afterRemoveChild.slice();
                }
                this.assembleFinalText();
                this.emitSelections(this.selections);
            }
            else {
                this.selections.splice(index, 1);
                this.assembleFinalText();
                this.emitSelections(data, ChangeType.Remove);
            }
        }
        else {
            this.finalText = this.finalText.filter((/**
             * @param {?} text
             * @return {?}
             */
            function (text) { return text !== data; }));
        }
        this.onModelChange(this.finalText.join());
        this.onModelTouched(this.finalText.join());
        this.tagRemoved.emit({
            deleteItem: data,
            deleteIndex: index,
            selections: this.selections
        });
        event.stopPropagation();
        event.cancelBubble = true;
    };
    // 清空最近已选组织
    // 清空最近已选组织
    /**
     * @return {?}
     */
    AdminOrganizationSelectorComponent.prototype.clearSeletions = 
    // 清空最近已选组织
    /**
     * @return {?}
     */
    function () {
        this.stateMgr.emitSelections([], ChangeType.ValueChanged, 'form');
    };
    // 点击搜索按钮或者敲击回车时触发
    // 点击搜索按钮或者敲击回车时触发
    /**
     * @return {?}
     */
    AdminOrganizationSelectorComponent.prototype.onSearch = 
    // 点击搜索按钮或者敲击回车时触发
    /**
     * @return {?}
     */
    function () {
        if (!!this.searchText) {
            this.hideSearchPanel = false;
            this.onSearchToken = CommonUtil.newGuid();
        }
    };
    // 清空组织搜索内容时触发
    // 清空组织搜索内容时触发
    /**
     * @return {?}
     */
    AdminOrganizationSelectorComponent.prototype.clearSearch = 
    // 清空组织搜索内容时触发
    /**
     * @return {?}
     */
    function () {
        this.hideSearchPanel = true;
        this.onSearchToken = false;
        if (this.currentTabId = this.organizationTabId) {
            this.libOrgTree.farrisTree.clearAll();
            this.libOrgTree.farrisTree.rowHeight = 28;
            if (this.multiSelect) {
                this.libOrgTree.checkOrgTreeNodes();
            }
            else {
                this.libOrgTree.selectOrgTreeNode();
            }
        }
    };
    // 监听搜索框内输入的文本
    // 监听搜索框内输入的文本
    /**
     * @param {?} e
     * @return {?}
     */
    AdminOrganizationSelectorComponent.prototype.listenSearchText = 
    // 监听搜索框内输入的文本
    /**
     * @param {?} e
     * @return {?}
     */
    function (e) {
        if (e.code === 'Backspace' || e.code === 'Delete') {
            if (!this.searchText) {
                this.clearSearch();
            }
        }
    };
    // 监听搜索页的关闭事件，目前只会接收到true
    // 监听搜索页的关闭事件，目前只会接收到true
    /**
     * @param {?} e
     * @return {?}
     */
    AdminOrganizationSelectorComponent.prototype.listenClosePanelChange = 
    // 监听搜索页的关闭事件，目前只会接收到true
    /**
     * @param {?} e
     * @return {?}
     */
    function (e) {
        this.hideSearchPanel = e;
        // 关闭搜索结果页后，需要更新树节点的是否选中状态
        if (this.currentTabId == this.organizationTabId) {
            this.libOrgTree.farrisTree.clearAll();
            this.libOrgTree.farrisTree.rowHeight = 28;
            if (this.multiSelect) {
                this.libOrgTree.checkOrgTreeNodes();
            }
            else {
                this.libOrgTree.selectOrgTreeNode();
            }
        }
    };
    // 关闭保存群组的弹窗时点击“取消”或者右上角叉号触发
    // 关闭保存群组的弹窗时点击“取消”或者右上角叉号触发
    /**
     * @return {?}
     */
    AdminOrganizationSelectorComponent.prototype.closeGroupDialog = 
    // 关闭保存群组的弹窗时点击“取消”或者右上角叉号触发
    /**
     * @return {?}
     */
    function () {
        this.groupDialogOpend = false;
        this.editingGroupId = null;
        this.groupTitle = null;
        this.groupNote = null;
        this.groupDialogTitle = this.localeService.getValue("organizationSelector.group.saveGroup");
    };
    // 在保存群组的弹窗内，修改群组名称时触发，监听keyup事件
    // 在保存群组的弹窗内，修改群组名称时触发，监听keyup事件
    /**
     * @param {?} e
     * @return {?}
     */
    AdminOrganizationSelectorComponent.prototype.listenGroupTitle = 
    // 在保存群组的弹窗内，修改群组名称时触发，监听keyup事件
    /**
     * @param {?} e
     * @return {?}
     */
    function (e) {
        this.groupTitleStream.next(this.groupTitle);
    };
    // 选组织的弹窗内有一个“已选”标志，鼠标移上去后会显示已选组织的页面，该页面内有“保存为群组”的按钮，点击后可以打开保存群组的弹窗
    // 选组织的弹窗内有一个“已选”标志，鼠标移上去后会显示已选组织的页面，该页面内有“保存为群组”的按钮，点击后可以打开保存群组的弹窗
    /**
     * @param {?} e
     * @return {?}
     */
    AdminOrganizationSelectorComponent.prototype.listenOpenGroup = 
    // 选组织的弹窗内有一个“已选”标志，鼠标移上去后会显示已选组织的页面，该页面内有“保存为群组”的按钮，点击后可以打开保存群组的弹窗
    /**
     * @param {?} e
     * @return {?}
     */
    function (e) {
        this.groupDialogOpend = e;
        this.groupDialogTitle = this.localeService.getValue("organizationSelector.group.saveGroup");
    };
    // 点击群组编辑按钮触发，可修改选中群组的名称及描述
    // 点击群组编辑按钮触发，可修改选中群组的名称及描述
    /**
     * @param {?} item
     * @return {?}
     */
    AdminOrganizationSelectorComponent.prototype.listenGroupChange = 
    // 点击群组编辑按钮触发，可修改选中群组的名称及描述
    /**
     * @param {?} item
     * @return {?}
     */
    function (item) {
        this.groupDialogOpend = true;
        this.editingGroupId = item.id;
        this.groupTitle = item.title;
        this.groupNote = item.description;
        this.groupDialogTitle = this.localeService.getValue("organizationSelector.group.editGroup");
    };
    // 关闭保存群组的弹窗时点击“确定”触发，将当前已选组织保存为一个新的群组
    // 关闭保存群组的弹窗时点击“确定”触发，将当前已选组织保存为一个新的群组
    /**
     * @return {?}
     */
    AdminOrganizationSelectorComponent.prototype.saveGroup = 
    // 关闭保存群组的弹窗时点击“确定”触发，将当前已选组织保存为一个新的群组
    /**
     * @return {?}
     */
    function () {
        var _this = this;
        if (!this.groupTitle) {
            this.validGroupTitle = false;
            return;
        }
        /** @type {?} */
        var groupId = CommonUtil.newGuid();
        /** @type {?} */
        var groupCode = 'orgGroup_private_';
        groupCode += Math.random().toString(16).substring(2, 10);
        /** @type {?} */
        var addIds = [];
        this.selections.forEach((/**
         * @param {?} selection
         * @return {?}
         */
        function (selection) {
            addIds.push(selection['id']);
        }));
        if (addIds.length > 1000) {
            this.messageService.show('warning', this.localeService.getValue("organizationSelector.errorMessage.limit"), true);
            this.groupDialogOpend = false;
            this.groupTitle = null;
            this.groupNote = null;
            return;
        }
        this.groupDialogOpend = false;
        /** @type {?} */
        var body = {
            groupId: groupId,
            groupCode: groupCode,
            title: this.groupTitle,
            description: this.groupNote,
            absOrgType: this.absOrgType,
            changeType: Number(1)
        };
        if (this.editingGroupId) {
            body.groupId = this.editingGroupId;
            body.changeType = Number(2);
            delete body.groupCode;
            this.updateNameOrNote(body);
            return;
        }
        /** @type {?} */
        var newGroup$ = this.apiService.saveGroup(body);
        newGroup$.pipe(switchMap((/**
         * @param {?} res
         * @return {?}
         */
        function (res) {
            if (res) {
                _this.libOrgGroup.selectedGroupId = groupId;
                _this.groupTitle = null;
                _this.groupNote = null;
                /** @type {?} */
                var addOrgsInNewGroup$ = _this.apiService.saveGroup({ groupId: groupId, addIds: addIds, deleteIds: [], changeType: Number(3) });
                return addOrgsInNewGroup$.pipe(tap((/**
                 * @param {?} data
                 * @return {?}
                 */
                function (data) {
                    if (data) {
                        _this.libOrgGroup.getGroupList({ saveGroup: true });
                    }
                }), (/**
                 * @param {?} error
                 * @return {?}
                 */
                function (error) {
                    throw new Error(_this.localeService.getValue("organizationSelector.errorMessage.saveOrganization"));
                })));
            }
        })), tap((/**
         * @return {?}
         */
        function () {
        }), (/**
         * @param {?} error
         * @return {?}
         */
        function (error) {
            _this.messageService.show('error', _this.localeService.getValue("organizationSelector.errorMessage.saveGroup"), true);
        }))).subscribe();
    };
    /**
     * @private
     * @param {?} param
     * @return {?}
     */
    AdminOrganizationSelectorComponent.prototype.updateNameOrNote = /**
     * @private
     * @param {?} param
     * @return {?}
     */
    function (param) {
        var _this = this;
        /** @type {?} */
        var updateInfo$ = this.apiService.saveGroup(param);
        updateInfo$.pipe(tap((/**
         * @param {?} data
         * @return {?}
         */
        function (data) {
            if (data) {
                _this.editingGroupId = null;
                _this.groupTitle = null;
                _this.groupNote = null;
                _this.groupDialogTitle = _this.localeService.getValue("organizationSelector.group.saveGroup");
                _this.libOrgGroup.getGroupList({ updateNameOrNote: true });
            }
        }), (/**
         * @param {?} error
         * @return {?}
         */
        function (error) {
            _this.messageService.show('error', _this.localeService.getValue("organizationSelector.errorMessage.editGroup"), true);
        }))).subscribe();
    };
    // 点击选组织弹窗的确定或者取消按钮时触发，1为确定，0为取消
    // 点击选组织弹窗的确定或者取消按钮时触发，1为确定，0为取消
    /**
     * @param {?} type
     * @return {?}
     */
    AdminOrganizationSelectorComponent.prototype.returnResult = 
    // 点击选组织弹窗的确定或者取消按钮时触发，1为确定，0为取消
    /**
     * @param {?} type
     * @return {?}
     */
    function (type) {
        /** @type {?} */
        var finalText = '';
        if (!!type) {
            this.confirmToken = true;
            this.assembleFinalText();
            finalText = this.finalText.join();
            if (this.selections && this.selections.length) {
                this.selectionsChange.emit({
                    selections: this.selections
                });
                this.onModelChange(finalText);
                this.onModelTouched(finalText);
            }
            else {
                this.onModelChange(finalText);
                this.onModelTouched(finalText);
                this.selectionsChange.emit({
                    selections: this.selections
                });
            }
        }
        else {
            if (this.mapFields) {
                this.mapFields2Component();
            }
            else {
                this.assembleDataByOrgIds(this.orgIds);
            }
        }
        // this.orgIds = [];
        this.dialog.close();
        this.isShow = false;
    };
    /**
     * @param {?} e
     * @return {?}
     */
    AdminOrganizationSelectorComponent.prototype.changeTabs = /**
     * @param {?} e
     * @return {?}
     */
    function (e) {
        if (!this.hideSearchPanel) {
            this.hideSearchPanel = true;
            this.onSearchToken = false;
        }
        this.currentTabId = e.nextId;
        if (this.showTabIds.includes(this.organizationTabId)) {
            this.libOrgTree.currentTabId = this.currentTabId;
        }
        if (e.nextId === this.groupTabId) {
            if (!this.libOrgGroup.groupData.public.length && !this.libOrgGroup.groupData.personal.length) {
                this.libOrgGroup.assembleData(true);
            }
        }
        else if (e.nextId === this.organizationTabId) {
            if (this.libOrgTree.initLoad) {
                this.libOrgTree.loadTreeData();
            }
            else {
                this.libOrgTree.farrisTree.clearAll();
                this.libOrgTree.farrisTree.rowHeight = 28;
                if (this.multiSelect) {
                    this.libOrgTree.checkOrgTreeNodes();
                }
                else {
                    this.libOrgTree.selectOrgTreeNode();
                }
            }
        }
    };
    /**
     * @param {?} e
     * @return {?}
     */
    AdminOrganizationSelectorComponent.prototype.quickShowDialog = /**
     * @param {?} e
     * @return {?}
     */
    function (e) {
        if (!this.quickSelect) {
            return;
        }
        if (e.target.classList.contains('form-control')) {
            this.showFarrisDialog();
        }
    };
    /**
     * @private
     * @return {?}
     */
    AdminOrganizationSelectorComponent.prototype.assembleParentFinal = /**
     * @private
     * @return {?}
     */
    function () {
        var _this = this;
        this.assembleFinalText();
        this.parentFinal = [];
        this.selections.forEach((/**
         * @param {?} item
         * @param {?} index
         * @return {?}
         */
        function (item, index) {
            /** @type {?} */
            var highLayerOrg = _this.selections.filter((/**
             * @param {?} data
             * @return {?}
             */
            function (data) { return item.path.startsWith(data.path) && item.path != data.path; }));
            /** @type {?} */
            var targetLayer;
            highLayerOrg.forEach((/**
             * @param {?} org
             * @return {?}
             */
            function (org) {
                if (!targetLayer || org['layer'] < targetLayer) {
                    targetLayer = org['layer'];
                }
            }));
            /** @type {?} */
            var highLayerOrgIndex = _this.selections.findIndex((/**
             * @param {?} data
             * @return {?}
             */
            function (data) { return item.path.startsWith(data.path) && item.path != data.path && data.layer == targetLayer; }));
            if (highLayerOrgIndex > -1) {
                /** @type {?} */
                var parentIndex = _this.parentFinal.findIndex((/**
                 * @param {?} p
                 * @return {?}
                 */
                function (p) { return p.id == _this.selections[highLayerOrgIndex].id; }));
                if (parentIndex > -1) {
                    _this.parentFinal[parentIndex]['children'].push(_this.finalText[index]);
                }
                else {
                    _this.parentFinal.push(Object.assign({}, {
                        id: _this.selections[highLayerOrgIndex]['id'],
                        path: _this.selections[highLayerOrgIndex]['path'],
                        name: _this.finalText[highLayerOrgIndex],
                        children: [_this.finalText[index]]
                    }));
                }
            }
            else {
                /** @type {?} */
                var parentIndex = _this.parentFinal.findIndex((/**
                 * @param {?} p
                 * @return {?}
                 */
                function (p) { return p.id == item.id; }));
                if (parentIndex == -1) {
                    _this.parentFinal.push(Object.assign({}, {
                        id: item.id,
                        path: item.path,
                        name: _this.finalText[index],
                        children: []
                    }));
                }
            }
        }));
        this.abbreParentFinal = this.parentFinal.slice();
        this.abbreParentFinal.forEach((/**
         * @param {?} item
         * @return {?}
         */
        function (item) {
            if (item.children.length > 10) {
                /** @type {?} */
                var firstChilds = item.children.slice(0, 5).concat(['……']);
                /** @type {?} */
                var lastChilds = item.children.slice(-5);
                item.children = firstChilds.concat(lastChilds || []);
            }
        }));
    };
    AdminOrganizationSelectorComponent.decorators = [
        { type: Component, args: [{
                    selector: 'farris-adminorganization-selector',
                    template: "<div #tagbox class=\"input-group s-input-group\" *ngIf=\"showInput\" [class.farris-input-group-readonly]=\"readonly\" [ngClass]=\"{'no-border': isTableTemplate}\">\r\n  <div class=\"form-control f-cmp-inputgroup--multi-wrapper multi-more\" [ngClass]=\"{'table-template-input': isTableTemplate}\"\r\n    (click)=\"quickShowDialog($event)\" *ngIf=\"!onlyParentFinalText\">\r\n    <div class=\"multi--content\" *ngFor=\"let item of finalText; index as i\" [title]=\"item\">\r\n      <span class=\"multi--item\">\r\n        {{item}}\r\n      </span>\r\n      <i class=\"f-icon f-icon-close cursor-pointer\" *ngIf=\"!readonly\" style=\"margin-top: 1px;\"\r\n        (click)=\"removeItem(item, i, $event)\"></i>\r\n    </div>\r\n    <span class=\"multi-another\" *ngIf=\"finalText.length === 0\">{{placeholder}}</span>\r\n  </div>\r\n  <div class=\"form-control f-cmp-inputgroup--multi-wrapper multi-more\" (click)=\"quickShowDialog($event)\" *ngIf=\"onlyParentFinalText\">\r\n    <div class=\"multi--content\" *ngFor=\"let item of abbreParentFinal; index as i\" [title]=\"item.name\">\r\n      <span class=\"multi--item\" farrisPopover [placement]=\"'bottom'\" [popover]=\"item.children.length ? item.children.join('\uFF0C') : '\u65E0'\"\r\n        [triggers]=\"'hover'\" [popoverTitle]=\"'\u5F53\u524D\u7EC4\u7EC7\u7684\u5DF2\u9009\u4E0B\u7EA7\u7EC4\u7EC7'\">\r\n        {{item.name}}\r\n      </span>\r\n      <i class=\"f-icon f-icon-close cursor-pointer\" *ngIf=\"!readonly\" style=\"margin-top: 1px;\"\r\n        (click)=\"removeItem(item, i, $event)\"></i>\r\n    </div>\r\n    <span class=\"multi-another\" *ngIf=\"finalText.length === 0\">{{placeholder}}</span>\r\n  </div>\r\n  <div *ngIf=\"!readonly\" class=\"input-group-append\" title=\"\">\r\n    <span *ngIf=\"finalText && finalText.length > 0\" class=\"input-group-text input-group-clear cursor-pointer\"\r\n      (click)=\"clearAll()\">\r\n      <i class=\"f-icon modal_close\"></i>\r\n    </span>\r\n    <span class=\"input-group-text cursor-pointer\" (click)=\"showFarrisDialog()\">\r\n      <span class=\"f-icon f-icon-lookup\"></span>\r\n    </span>\r\n  </div>\r\n</div>\r\n\r\n<farris-dialog #farrisDialog *ngIf=\"isShow\" class=\"fos-dialog\" [resizable]=\"false\" id=\"{{dialogId}}\"\r\n  [draggable]=\"draggable\" [buttons]=\"buttonRef\" [beforeClose]=\"farrisDialogbeforeClose\" [showMaxButton]=\"false\"\r\n  [width]=\"760\" [height]=\"dialogHeight\" [title]=\"'organizationSelector.selection.selectionDialogTitle' | locale\">\r\n  <div class=\"fos-content\">\r\n    <div class=\"fos-content-container\">\r\n      <div class=\"fos-content-main\">\r\n        <lib-search #searchResultPage [primaryField]=\"primaryField\" [multiSelect]=\"multiSelect\"\r\n          [enableFavorites]=\"enableFavorites\" [absOrgType]=\"absOrgType\" [notGetStopOrg]=\"notGetStopOrg\"\r\n          [onSearch]=\"onSearchToken\" [searchText]=\"searchText\" [pageSize]=\"searchPageSize\"\r\n          [onlyDisplayCompany]=\"onlyDisplayCompany\" [onlyCurrentAdminOrg]=\"onlyCurrentAdminOrg\"\r\n          (closePanelChange)=\"listenClosePanelChange($event)\" [hidden]=\"hideSearchPanel\">\r\n        </lib-search>\r\n        <input-group class=\"fos-search-input\" id=\"org-search-input\" [placeholder]=\"'organizationSelector.selection.searchPlaceHolder' | locale\"\r\n          [(value)]=\"searchText\" [groupText]=\"searchIcon\" (enterHandle)=\"onSearch()\" (clickHandle)=\"onSearch()\"\r\n          (keyup)=\"listenSearchText($event)\" (clear)=\"clearSearch()\" *ngIf=\"!dataPermission\">\r\n        </input-group>\r\n        <farris-tabs #selectTabs class=\"fos-tabs\" [value]=\"activeTabId\" [width]=\"'100%'\" [contentFill]=\"true\" (tabChange)=\"changeTabs($event)\">\r\n          <!-- \u7EC4\u7EC7\u673A\u6784  START -->\r\n          <farris-tab [title]=\"'organizationSelector.selection.organization' | locale\" [id]=\"organizationTabId\" *ngIf=\"showTabIds.indexOf(organizationTabId) !== -1\">\r\n            <ng-template #content>\r\n              <lib-org #libOrgTree [enableHierarchicalLoading]=\"enableHierarchicalLoading\" [notGetStopOrg]=\"notGetStopOrg\"\r\n                [enableFavorites]=\"enableFavorites\" [primaryField]=\"primaryField\" [cascadeCheck]=\"cascadeCheck\"\r\n                [cascadeDown]=\"cascadeDown\" [cascadeUp]=\"cascadeUp\" [keepSelect]=\"keepSelect\" [virtualizedLoad]=\"virtualizedLoad\"\r\n                [multiSelect]=\"multiSelect\" [absOrgType]=\"absOrgType\" [layer]=\"layer\" [orgIds]=\"orgIds\"\r\n                [selectedLimit]=\"selectedLimit\" [showCheckAll]=\"showCheckAll\" [activeTabId]=\"activeTabId\" [isActiveTab]=\"orgTabActive\"\r\n                [dataPermission]=\"dataPermission\" [dataPermissionIds]=\"dataPermissionIds\" [onlyDisplayCompany]=\"onlyDisplayCompany\"\r\n                [onlyCurrentAdminOrg]=\"onlyCurrentAdminOrg\" [orgNameType]=\"orgNameType\">\r\n              </lib-org>\r\n            </ng-template>\r\n          </farris-tab>\r\n          <!-- \u7EC4\u7EC7\u673A\u6784  END -->\r\n          <!-- \u6211\u7684\u6536\u85CF  START -->\r\n          <farris-tab [title]=\"'organizationSelector.selection.favorites' | locale\" [id]=\"favoritesTabId\" *ngIf=\"showTabIds.indexOf(favoritesTabId) !== -1\">\r\n            <ng-template #content>\r\n              <lib-favorites #libOrgFavorites [primaryField]=\"primaryField\" [multiSelect]=\"multiSelect\"></lib-favorites>\r\n            </ng-template>\r\n          </farris-tab>\r\n          <!-- \u6211\u7684\u6536\u85CF  END -->\r\n          <!-- \u5E38\u7528\u7FA4\u7EC4\u5C55\u793A\u533A  START -->\r\n          <farris-tab [title]=\"'organizationSelector.selection.group' | locale\" [id]=\"groupTabId\" *ngIf=\"showTabIds.indexOf(groupTabId) !== -1\">\r\n            <ng-template #content>\r\n              <lib-group #libOrgGroup \r\n                [primaryField]=\"primaryField\" [absOrgType]=\"absOrgType\" [multiSelect]=\"multiSelect\"\r\n                [enableFavorites]=\"enableFavorites\" [groupApiUrl]=\"groupApiUrl\" [notGetStopOrg]=\"notGetStopOrg\"\r\n                [enableHierarchicalLoading]=\"enableHierarchicalLoading\" [cascadeCheck]=\"cascadeCheck\"\r\n                [cascadeDown]=\"cascadeDown\" [cascadeUp]=\"cascadeUp\" [keepSelect]=\"keepSelect\" [virtualizedLoad]=\"virtualizedLoad\"\r\n                [layer]=\"layer\" [selectedLimit]=\"selectedLimit\" [showCheckAll]=\"showCheckAll\" [isActiveTab]=\"groupTabActive\"\r\n                (groupChange)=\"listenGroupChange($event)\">\r\n              </lib-group>\r\n            </ng-template>\r\n          </farris-tab>\r\n          <!-- \u5E38\u7528\u7FA4\u7EC4\u5C55\u793A\u533A  END -->\r\n        </farris-tabs>\r\n      </div>\r\n    </div>\r\n\r\n  </div>\r\n  <div class=\"s-personnel-group\" *ngIf=\"groupDialogOpend\">\r\n    <div class=\"s-personnel-group-title\">\r\n      <span class=\"f-icon f-sidebar-close\" (click)=\"closeGroupDialog()\"></span>{{groupDialogTitle}}\r\n    </div>\r\n    <div class=\"f-form-layout farris-form farris-form-controls-inline\" style=\"margin-top: 22px;\">\r\n      <div class=\"col-12 col-md-12 col-xl-12 col-el-12\">\r\n        <div class=\"farris-group-wrap\">\r\n          <div class=\"form-group farris-form-group\">\r\n            <label class=\"col-form-label\" style=\"width: 4.2rem\" for=\"month_4c7f0115_7796_42b4_bf41_beb7299dd84f_caum\">\r\n              <span class=\"farris-label-info text-danger\">*</span>\r\n              <span class=\"farris-label-text\">{{'organizationSelector.group.newGroupName' | locale}}</span>\r\n            </label>\r\n            <div class=\"farris-input-wrap\">\r\n                <input class=\"form-control\" id=\"month_4c7f0115_7796_42b4_bf41_beb7299dd84f_caum\"\r\n                (keyup)=\"listenGroupTitle($event)\" placeholder=\"{{'organizationSelector.group.newGroupPlaceHolder' | locale}}\"\r\n                [ngStyle]=\"{'border-color': !validGroupTitle ? 'red' : '#D8DCE6'}\" [(ngModel)]=\"groupTitle\" />\r\n              <!--\r\n                <language-textbox id=\"month_4c7f0115_7796_42b4_bf41_beb7299dd84f_caum\" \r\n                [ngStyle]=\"{'border-color': !validGroupTitle ? 'red' : '#D8DCE6'}\"\r\n                [languages]=\"languagesArray\" [editable]=\"true\" [enableClear]=\"true\" [(ngModel)]=\"groupTitle\"\r\n                (keyup)=\"listenGroupTitle($event)\">\r\n              </language-textbox>\r\n              -->\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"col-12 col-md-12 col-xl-12 col-el-12\" style=\"margin-top: 4px;\">\r\n        <div class=\"farris-group-wrap\">\r\n          <div class=\"form-group farris-form-group\">\r\n            <label class=\"col-form-label\" style=\"width: 4.2rem\"\r\n              for=\"billNote_7b43d269_2dd3_4777_8cfb_bd0c721575cf_hh9s\">\r\n              <span class=\"farris-label-text\">{{'organizationSelector.group.newGroupNote' | locale}}</span>\r\n            </label>\r\n            <div class=\"farris-input-wrap\">\r\n              <textarea class=\"form-control\" style=\"height: 66px;\" [(ngModel)]=\"groupNote\"\r\n                id=\"billNote_7b43d269_2dd3_4777_8cfb_bd0c721575cf_hh9s\" placeholder=\"{{'organizationSelector.group.newGroupPlaceHolder' | locale}}\"></textarea>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"s-personnel-group-footer\">\r\n      <input type=\"button\" class=\"btn btn-primary fr\" style=\"width: 100px;\" value=\"{{'organizationSelector.selection.confirm' | locale}}\" (click)=\"saveGroup()\" />\r\n      <input type=\"button\" class=\"btn btn-secondary fr mr-3\" value=\"{{'organizationSelector.selection.cancel' | locale}}\" (click)=\"closeGroupDialog()\" />\r\n    </div>\r\n  </div>\r\n</farris-dialog>\r\n\r\n<ng-template #buttonRef>\r\n  <div class=\"fos-dialog-footer\">\r\n    <span class=\"fosd-footer-selection\" (mouseover)=\"selectionsShow=true\"\r\n      (mouseout)=\"selectionsShow=false\">{{'organizationSelector.selection.firstSelectionText' | locale}}\r\n      <a>{{selections.length}}</a>{{'organizationSelector.selection.lastSelectionText' | locale}}</span>\r\n    <span class=\"fosd-footer-clear\" (click)=\"clearSeletions()\">{{'organizationSelector.selection.clear' | locale}}</span>\r\n    <lib-selection #selectedComponent class=\"fosd-selection-content\" [primaryField]=\"primaryField\"\r\n      [enableGroup]=\"enableGroup\" (mouseover)=\"selectionsShow=true\" (mouseout)=\"selectionsShow=false\"\r\n      [hidden]=\"!selectionsShow\" (openedChange)=\"listenOpenGroup($event)\"></lib-selection>\r\n  </div>\r\n  <input type=\"button\" class=\"btn btn-secondary\" value=\"{{'organizationSelector.selection.cancel' | locale}}\" (click)=\"returnResult(0)\" />\r\n  <input type=\"button\" class=\"btn btn-primary\" style=\"width: 100px;\" value=\"{{'organizationSelector.selection.confirm' | locale}}\" (click)=\"returnResult(1)\" />\r\n</ng-template>",
                    providers: [
                        {
                            provide: NG_VALUE_ACCESSOR,
                            useExisting: forwardRef((/**
                             * @return {?}
                             */
                            function () { return AdminOrganizationSelectorComponent; })),
                            multi: true
                        },
                        FavoritesTool, ApiService, StateMgrTool
                    ],
                    styles: [".fos-dialog .fos-content{width:100%;height:100%;min-width:760px;overflow:hidden}.fos-dialog ::ng-deep .modal-content{border-radius:10px}.fos-dialog ::ng-deep .modal-header{color:#2d2f33;border-bottom:none;padding:15px 0 15px 24px}.fos-dialog ::ng-deep .actions{padding-right:22px;font-size:20px}.fos-dialog ::ng-deep .modal-title-label{font-size:17px;font-weight:600}.fos-dialog ::ng-deep .modal-footer{padding:17px 24px;background:#fff;border-top:none}.fos-dialog .fos-content .fos-content-container{display:-webkit-box;display:flex;width:calc(100% - 48px);height:100%;margin:0 24px;border:1px solid #dee1ea;border-radius:3px}.fos-dialog .fos-content .fos-content-container .fos-content-main{-webkit-box-flex:0;flex:0 0 100%;position:relative;display:-webkit-box;display:flex}.fos-dialog .fos-content .fos-content-container .fos-content-main .fos-search-input{position:absolute;top:7px;right:14px;color:#959ab1;z-index:99;width:320px}.fos-dialog .fos-content .fos-content-container .fos-content-main .fos-tabs{min-width:575px}.fos-dialog ::ng-deep .fos-tabs .nav-link{line-height:18px;padding:11px 0!important}.fos-dialog ::ng-deep .fos-tabs .farris-tabs-header{background:#f9f9f9}.fos-dialog ::ng-deep .fos-tabs .nav-item{margin-right:30px}.fos-dialog ::ng-deep .fos-tabs .nav{padding-left:14px;font-size:16px;font-weight:600}.fos-dialog ::ng-deep .fos-tabs .nav-item .st-tab-text{color:#6f8cb4}.fos-dialog ::ng-deep .fos-tabs .nav-item .active .st-tab-text{color:#2a87ff}.fos-dialog::ng-deep input::-webkit-input-placeholder{color:#b4bccc;font-size:13px;line-height:24px}.fos-dialog ::ng-deep input::-moz-input-placeholder{color:#b4bccc;font-size:13px;line-height:24px}.fos-dialog ::ng-deep input::-ms-input-placeholder{color:#b4bccc;font-size:13px;line-height:24px}.fos-dialog ::ng-deep .fos-search-input .form-control{line-height:26px;height:26px;font-size:13px}.fos-dialog ::ng-deep .fos-treetable .farris-treetable-thead{background:#fff;font-size:13px}.fos-dialog ::ng-deep .fos-treetable .farris-treetable-thead th .tt-checkbox .custom-control-label::before{top:2px;margin:0}.fos-dialog ::ng-deep .fos-treetable .farris-treetable-thead th:hover{background:#fff}.fos-dialog ::ng-deep .fos-treetable .treetable-cell-content span{font-size:13px}:host.f-organization-selector-tableTempl{display:-webkit-box;display:flex;flex-wrap:wrap;-webkit-box-align:center;align-items:center;height:100%}:host .input-group .input-group-append{background:#fff}:host .s-input-group .input-group-text{color:rgba(0,0,0,.25)}:host .cursor-pointer{cursor:pointer}:host .s-input-group .multi-more{padding:0 0 2px 8px;height:auto;min-height:24px;-webkit-box-flex:1;flex:1;overflow:hidden}:host .s-input-group .table-template-input{display:-webkit-box;display:flex;flex-wrap:wrap;-webkit-box-align:center;align-items:center;min-height:43px}:host .no-border{border:none}:host .s-input-group .multi--content{display:-webkit-box;display:flex;flex-wrap:nowrap;cursor:default;padding:0 5px;background:#ebf7fe;border:1px solid #cfedff;margin:3px 3px 0 0;float:left;height:17px;border-radius:3px;line-height:17px;-webkit-box-pack:justify;justify-content:space-between;box-sizing:content-box;max-width:calc(100% - 10px)}:host .s-input-group .multi--item{line-height:16px;text-overflow:ellipsis;height:16px;-webkit-box-flex:1;flex:1;overflow:hidden;word-break:break-all}:host .s-input-group .multi-another{padding:3px 3px 0 0;line-height:16px;float:left;height:17px;box-sizing:content-box;border:1px solid #fff;color:#bfbfbf}.fos-dialog ::ng-deep .fos-dialog-footer{width:200px;height:30px;line-height:30px;position:absolute;left:24px;text-align:left;cursor:default}.fos-dialog ::ng-deep .fos-dialog-footer .fosd-footer-selection{font-size:14px;color:#2d2f33;background:#f4f9ff;border-radius:5px;padding:2px 5px}.fos-dialog ::ng-deep .fos-dialog-footer .fosd-footer-selection a{font-size:17px;color:#2a87ff}.fos-dialog ::ng-deep .fos-dialog-footer .fosd-footer-clear{font-size:13px;color:#2a87ff;margin-left:1rem;cursor:pointer}.fos-dialog ::ng-deep .fos-dialog-footer .fosd-selection-content{position:absolute;bottom:25px;left:-10px;background:#fff;z-index:102}.fos-dialog::ng-deep .pagination-container{height:1.5rem;margin-bottom:21px}.fos-dialog::ng-deep .pagination-container input::-webkit-inner-spin-button,.fos-dialog::ng-deep .pagination-container input::-webkit-outer-spin-button{-webkit-appearance:none}.fos-dialog::ng-deep .pagination-container input[type=number]{-moz-appearance:textfield;text-align:center;width:38px;line-height:20px;border:1px solid #e9ecf3;border-radius:6px;box-shadow:0 2px 6px 0 rgba(31,35,41,.06);margin-left:4px;outline:0}.fos-dialog::ng-deep .pagination-container input[type=number]:focus{border:1px solid #0084ff}.fos-dialog::ng-deep .pagination-container li{line-height:22px}.fos-dialog ::ng-deep .fos-treetable td{border-color:#fff}.fos-dialog ::ng-deep .default-light-color{color:#f7b500}.fos-dialog ::ng-deep .default-dark-color{color:#d8dce6}.fos-dialog ::ng-deep .s-personnel-group{width:440px;height:250px;border-radius:5px;background:#fff;box-shadow:0 0 40px 0 rgba(0,0,0,.2);padding:16px 24px;position:fixed;top:50%;left:50%;margin-left:-220px;margin-top:-125px;z-index:9999}.fos-dialog ::ng-deep .s-personnel-group .s-personnel-group-title{font-size:17px;line-height:24px;color:#2d2f33;font-weight:600}.fos-dialog ::ng-deep .s-personnel-group .s-personnel-group-title .f-icon{float:right;font-size:20px;color:#878d99;margin-top:3px;cursor:pointer}.fos-dialog ::ng-deep .s-personnel-group .s-personnel-group-footer{margin-top:20px}.fos-dialog ::ng-deep .s-personnel-group .col-12{padding:0}.fos-dialog ::ng-deep .s-personnel-group-footer .title-checkall{margin-top:6px}.fos-dialog ::ng-deep .s-personnel-group .farris-label-text{color:#5a5e66}.fos-dialog ::ng-deep .s-personnel-group .s-personnel-group-footer .fr{float:right;height:32px}"]
                }] }
    ];
    /** @nocollapse */
    AdminOrganizationSelectorComponent.ctorParameters = function () { return [
        { type: Renderer2 },
        { type: Injector },
        { type: FavoritesTool },
        { type: ApiService },
        { type: NgZone },
        { type: StateMgrTool }
    ]; };
    AdminOrganizationSelectorComponent.propDecorators = {
        baseCls: [{ type: HostBinding, args: ['class.f-organization-selector',] }],
        bableTemplClass: [{ type: HostBinding, args: ['class.f-organization-selector-tableTempl',] }],
        width: [{ type: HostBinding, args: ['style.width',] }, { type: Input }],
        dialog: [{ type: ViewChild, args: ['farrisDialog',] }],
        libOrgGroup: [{ type: ViewChild, args: ['libOrgGroup',] }],
        libOrgTree: [{ type: ViewChild, args: ['libOrgTree',] }],
        libOrgFavorites: [{ type: ViewChild, args: ['libOrgFavorites',] }],
        isTableTemplate: [{ type: Input }],
        showInput: [{ type: Input }],
        busNum: [{ type: Input }],
        multiSelect: [{ type: Input }],
        placeholder: [{ type: Input }],
        searchPlaceholder: [{ type: Input }],
        readonly: [{ type: Input }],
        absUserOrgUrl: [{ type: Input }],
        absRfQueryUrl: [{ type: Input }],
        absRfModifyUrl: [{ type: Input }],
        groupApiUrl: [{ type: Input }],
        groupExtendUrl: [{ type: Input }],
        absOrgType: [{ type: Input }],
        enableHierarchicalLoading: [{ type: Input }],
        notGetStopOrg: [{ type: Input }],
        primaryField: [{ type: Input }],
        displayField: [{ type: Input }],
        orgIds: [{ type: Input }],
        layer: [{ type: Input }],
        cascadeCheck: [{ type: Input }],
        cascadeDown: [{ type: Input }],
        cascadeUp: [{ type: Input }],
        showCheckAll: [{ type: Input }],
        keepSelect: [{ type: Input }],
        formatFn: [{ type: Input }],
        selectedLimit: [{ type: Input }],
        showTabIds: [{ type: Input }],
        activeTabId: [{ type: Input }],
        searchPageSize: [{ type: Input }],
        mapFields: [{ type: Input }],
        multipleChoiceSeparator: [{ type: Input }],
        draggable: [{ type: Input }],
        virtualizedLoad: [{ type: Input }],
        dataPermission: [{ type: Input }],
        dataPermissionIds: [{ type: Input }],
        orgNameType: [{ type: Input }],
        onlyDisplayCompany: [{ type: Input }],
        onlyCurrentAdminOrg: [{ type: Input }],
        onlyParentFinalText: [{ type: Input }],
        quickSelect: [{ type: Input }],
        selectionsChange: [{ type: Output }],
        inputClear: [{ type: Output }],
        tagRemoved: [{ type: Output }]
    };
    return AdminOrganizationSelectorComponent;
}());
export { AdminOrganizationSelectorComponent };
if (false) {
    /** @type {?} */
    AdminOrganizationSelectorComponent.prototype.baseCls;
    /** @type {?} */
    AdminOrganizationSelectorComponent.prototype.width;
    /** @type {?} */
    AdminOrganizationSelectorComponent.prototype.dialog;
    /** @type {?} */
    AdminOrganizationSelectorComponent.prototype.libOrgGroup;
    /** @type {?} */
    AdminOrganizationSelectorComponent.prototype.libOrgTree;
    /** @type {?} */
    AdminOrganizationSelectorComponent.prototype.libOrgFavorites;
    /** @type {?} */
    AdminOrganizationSelectorComponent.prototype.isTableTemplate;
    /** @type {?} */
    AdminOrganizationSelectorComponent.prototype.showInput;
    /** @type {?} */
    AdminOrganizationSelectorComponent.prototype.busNum;
    /** @type {?} */
    AdminOrganizationSelectorComponent.prototype.multiSelect;
    /** @type {?} */
    AdminOrganizationSelectorComponent.prototype.placeholder;
    /** @type {?} */
    AdminOrganizationSelectorComponent.prototype.searchPlaceholder;
    /** @type {?} */
    AdminOrganizationSelectorComponent.prototype.readonly;
    /** @type {?} */
    AdminOrganizationSelectorComponent.prototype.absUserOrgUrl;
    /** @type {?} */
    AdminOrganizationSelectorComponent.prototype.absRfQueryUrl;
    /** @type {?} */
    AdminOrganizationSelectorComponent.prototype.absRfModifyUrl;
    /** @type {?} */
    AdminOrganizationSelectorComponent.prototype.groupApiUrl;
    /** @type {?} */
    AdminOrganizationSelectorComponent.prototype.groupExtendUrl;
    /**
     * 数据源类型
     * 默认为： System_organization  系统数据源   获取系统人员、系统组织
     * Administrative_organization  已扩展数据源  获取行政组织、行政人员
     * absOrgType {string}
     * PersonnelSelectorComponent
     * @type {?}
     */
    AdminOrganizationSelectorComponent.prototype.absOrgType;
    /** @type {?} */
    AdminOrganizationSelectorComponent.prototype.enableHierarchicalLoading;
    /** @type {?} */
    AdminOrganizationSelectorComponent.prototype.notGetStopOrg;
    /** @type {?} */
    AdminOrganizationSelectorComponent.prototype.primaryField;
    /** @type {?} */
    AdminOrganizationSelectorComponent.prototype.displayField;
    /** @type {?} */
    AdminOrganizationSelectorComponent.prototype.orgIds;
    /** @type {?} */
    AdminOrganizationSelectorComponent.prototype.layer;
    /** @type {?} */
    AdminOrganizationSelectorComponent.prototype.cascadeCheck;
    /** @type {?} */
    AdminOrganizationSelectorComponent.prototype.cascadeDown;
    /** @type {?} */
    AdminOrganizationSelectorComponent.prototype.cascadeUp;
    /** @type {?} */
    AdminOrganizationSelectorComponent.prototype.showCheckAll;
    /** @type {?} */
    AdminOrganizationSelectorComponent.prototype.keepSelect;
    /** @type {?} */
    AdminOrganizationSelectorComponent.prototype.formatFn;
    /** @type {?} */
    AdminOrganizationSelectorComponent.prototype.selectedLimit;
    /** @type {?} */
    AdminOrganizationSelectorComponent.prototype.showTabIds;
    /** @type {?} */
    AdminOrganizationSelectorComponent.prototype.activeTabId;
    /** @type {?} */
    AdminOrganizationSelectorComponent.prototype.searchPageSize;
    /**
     * 字段映射, 仅在farris form中使用{ 帮助数据字段：表单字段 }
     * @type {?}
     */
    AdminOrganizationSelectorComponent.prototype.mapFields;
    /**
     * 多选分隔符
     * @type {?}
     */
    AdminOrganizationSelectorComponent.prototype.multipleChoiceSeparator;
    /** @type {?} */
    AdminOrganizationSelectorComponent.prototype.draggable;
    /** @type {?} */
    AdminOrganizationSelectorComponent.prototype.virtualizedLoad;
    /** @type {?} */
    AdminOrganizationSelectorComponent.prototype.dataPermission;
    /** @type {?} */
    AdminOrganizationSelectorComponent.prototype.dataPermissionIds;
    /** @type {?} */
    AdminOrganizationSelectorComponent.prototype.orgNameType;
    /** @type {?} */
    AdminOrganizationSelectorComponent.prototype.onlyDisplayCompany;
    /** @type {?} */
    AdminOrganizationSelectorComponent.prototype.onlyParentFinalText;
    /** @type {?} */
    AdminOrganizationSelectorComponent.prototype.quickSelect;
    /** @type {?} */
    AdminOrganizationSelectorComponent.prototype.selectionsChange;
    /** @type {?} */
    AdminOrganizationSelectorComponent.prototype.inputClear;
    /** @type {?} */
    AdminOrganizationSelectorComponent.prototype.tagRemoved;
    /** @type {?} */
    AdminOrganizationSelectorComponent.prototype.selections;
    /** @type {?} */
    AdminOrganizationSelectorComponent.prototype.originalSelections;
    /** @type {?} */
    AdminOrganizationSelectorComponent.prototype.finalText;
    /** @type {?} */
    AdminOrganizationSelectorComponent.prototype.parentFinal;
    /** @type {?} */
    AdminOrganizationSelectorComponent.prototype.abbreParentFinal;
    /** @type {?} */
    AdminOrganizationSelectorComponent.prototype.lookupIcon;
    /** @type {?} */
    AdminOrganizationSelectorComponent.prototype.searchIcon;
    /** @type {?} */
    AdminOrganizationSelectorComponent.prototype.organizationTabId;
    /** @type {?} */
    AdminOrganizationSelectorComponent.prototype.groupTabId;
    /** @type {?} */
    AdminOrganizationSelectorComponent.prototype.favoritesTabId;
    /** @type {?} */
    AdminOrganizationSelectorComponent.prototype.dialogHeight;
    /** @type {?} */
    AdminOrganizationSelectorComponent.prototype.dialogId;
    /** @type {?} */
    AdminOrganizationSelectorComponent.prototype.isShow;
    /**
     * @type {?}
     * @private
     */
    AdminOrganizationSelectorComponent.prototype.selectionsSub;
    /**
     * @type {?}
     * @private
     */
    AdminOrganizationSelectorComponent.prototype.confirmToken;
    /** @type {?} */
    AdminOrganizationSelectorComponent.prototype.hideSearchPanel;
    /** @type {?} */
    AdminOrganizationSelectorComponent.prototype.searchText;
    /** @type {?} */
    AdminOrganizationSelectorComponent.prototype.onSearchToken;
    /** @type {?} */
    AdminOrganizationSelectorComponent.prototype.enableFavorites;
    /** @type {?} */
    AdminOrganizationSelectorComponent.prototype.enableGroup;
    /** @type {?} */
    AdminOrganizationSelectorComponent.prototype.groupDialogOpend;
    /** @type {?} */
    AdminOrganizationSelectorComponent.prototype.groupDialogTitle;
    /** @type {?} */
    AdminOrganizationSelectorComponent.prototype.groupTitle;
    /** @type {?} */
    AdminOrganizationSelectorComponent.prototype.groupNote;
    /** @type {?} */
    AdminOrganizationSelectorComponent.prototype.validGroupTitle;
    /**
     * @type {?}
     * @private
     */
    AdminOrganizationSelectorComponent.prototype.groupTitleStream;
    /** @type {?} */
    AdminOrganizationSelectorComponent.prototype.ngControl;
    /** @type {?} */
    AdminOrganizationSelectorComponent.prototype.selectionsShow;
    /**
     * @type {?}
     * @private
     */
    AdminOrganizationSelectorComponent.prototype.editingGroupId;
    /**
     * @type {?}
     * @private
     */
    AdminOrganizationSelectorComponent.prototype.cdRef;
    /**
     * @type {?}
     * @private
     */
    AdminOrganizationSelectorComponent.prototype.currentTabId;
    /**
     * @type {?}
     * @private
     */
    AdminOrganizationSelectorComponent.prototype.messageService;
    /**
     * @type {?}
     * @private
     */
    AdminOrganizationSelectorComponent.prototype.notifyService;
    /** @type {?} */
    AdminOrganizationSelectorComponent.prototype.orgTabActive;
    /** @type {?} */
    AdminOrganizationSelectorComponent.prototype.groupTabActive;
    /** @type {?} */
    AdminOrganizationSelectorComponent.prototype.againstSingleSelect;
    /**
     * @type {?}
     * @private
     */
    AdminOrganizationSelectorComponent.prototype.localeService;
    /** @type {?} */
    AdminOrganizationSelectorComponent.prototype.languagesArray;
    /** @type {?} */
    AdminOrganizationSelectorComponent.prototype._onlyCurrentAdminOrg;
    /** @type {?} */
    AdminOrganizationSelectorComponent.prototype.farrisDialogbeforeClose;
    /** @type {?} */
    AdminOrganizationSelectorComponent.prototype.onModelChange;
    /** @type {?} */
    AdminOrganizationSelectorComponent.prototype.onModelTouched;
    /**
     * @type {?}
     * @private
     */
    AdminOrganizationSelectorComponent.prototype.render;
    /**
     * @type {?}
     * @private
     */
    AdminOrganizationSelectorComponent.prototype.injector;
    /**
     * @type {?}
     * @private
     */
    AdminOrganizationSelectorComponent.prototype.favoritesTool;
    /**
     * @type {?}
     * @private
     */
    AdminOrganizationSelectorComponent.prototype.apiService;
    /**
     * @type {?}
     * @private
     */
    AdminOrganizationSelectorComponent.prototype.ngZone;
    /**
     * @type {?}
     * @private
     */
    AdminOrganizationSelectorComponent.prototype.stateMgr;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoib3JnYW5pemF0aW9uLXNlbGVjdG9yLmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiJuZzovL0BmYXJyaXMvdWktYWRtaW5vcmdhbml6YXRpb24tc2VsZWN0b3IvIiwic291cmNlcyI6WyJsaWIvb3JnYW5pemF0aW9uLXNlbGVjdG9yLmNvbXBvbmVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7OztBQUFBLE9BQU8sRUFBaUIsU0FBUyxFQUFFLFlBQVksRUFBRSxVQUFVLEVBQUUsV0FBVyxFQUFFLFFBQVEsRUFBRSxLQUFLLEVBQUUsTUFBTSxFQUFnQyxNQUFNLEVBQUUsU0FBUyxFQUFpQixTQUFTLEVBQUUsaUJBQWlCLEVBQVksTUFBTSxlQUFlLENBQUM7QUFDak8sT0FBTyxFQUF3QixTQUFTLEVBQUUsaUJBQWlCLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQztBQUNwRixPQUFPLEVBQUUsZUFBZSxFQUFFLE1BQU0sbUJBQW1CLENBQUM7QUFDcEQsT0FBTyxFQUFFLFVBQVUsRUFBRSxNQUFNLHNCQUFzQixDQUFDO0FBQ2xELE9BQU8sRUFBRSxVQUFVLEVBQUUsTUFBTSxzQkFBc0IsQ0FBQztBQUNsRCxPQUFPLEVBQUUsYUFBYSxFQUFFLE1BQU0seUJBQXlCLENBQUM7QUFDeEQsT0FBTyxFQUFFLFVBQVUsRUFBMEMsTUFBTSxxQkFBcUIsQ0FBQztBQUN6RixPQUFPLEVBQUUsWUFBWSxFQUFFLE1BQU0seUJBQXlCLENBQUM7QUFDdkQsT0FBTyxFQUFFLE9BQU8sRUFBZ0IsTUFBTSxNQUFNLENBQUM7QUFDN0MsT0FBTyxLQUFLLENBQUMsTUFBTSxXQUFXLENBQUM7QUFDL0IsT0FBTyxFQUFFLFlBQVksRUFBRSxvQkFBb0IsRUFBRSxTQUFTLEVBQUUsR0FBRyxFQUFFLE1BQU0sZ0JBQWdCLENBQUM7QUFFcEYsT0FBTyxFQUFFLGNBQWMsRUFBRSxNQUFNLDZCQUE2QixDQUFDO0FBQzdELE9BQU8sRUFBRSxxQkFBcUIsRUFBRSxNQUFNLGlDQUFpQyxDQUFDO0FB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Q3JCLDhEQUF5Qjs7SUFDekIsOERBQXNCOztJQUN0Qix3REFBbUI7O0lBQ25CLHVEQUFrQjs7SUFDbEIsNkRBQXVCOzs7OztJQUN2Qiw4REFBa0U7O0lBQ2xFLHVEQUFzQjs7SUFDdEIsNERBQXVCOzs7OztJQUN2Qiw0REFBK0I7Ozs7O0lBQy9CLG1EQUFpQzs7Ozs7SUFDakMsMERBQTZCOzs7OztJQUM3Qiw0REFBd0M7Ozs7O0lBQ3hDLDJEQUFxQzs7SUFDckMsMERBQThCOztJQUM5Qiw0REFBZ0M7O0lBQ2hDLGlFQUFxQzs7Ozs7SUFDckMsMkRBQTRDOztJQUM1Qyw0REFJRTs7SUFFRixrRUFBc0M7O0lBRXRDLHFFQWFDOztJQUVELDJEQUF3Qzs7SUFDeEMsNERBQXlDOzs7OztJQUd2QyxvREFBeUI7Ozs7O0lBQ3pCLHNEQUEwQjs7Ozs7SUFDMUIsMkRBQW9DOzs7OztJQUNwQyx3REFBOEI7Ozs7O0lBQzlCLG9EQUFzQjs7Ozs7SUFDdEIsc0RBQThCIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQWZ0ZXJWaWV3SW5pdCwgQ29tcG9uZW50LCBFdmVudEVtaXR0ZXIsIGZvcndhcmRSZWYsIEhvc3RCaW5kaW5nLCBJbmplY3RvciwgSW5wdXQsIE5nWm9uZSwgT25DaGFuZ2VzLCBPbkRlc3Ryb3ksIE9uSW5pdCwgT3V0cHV0LCBSZW5kZXJlcjIsIFNpbXBsZUNoYW5nZXMsIFZpZXdDaGlsZCwgQ2hhbmdlRGV0ZWN0b3JSZWYsIE9wdGlvbmFsIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcbmltcG9ydCB7IENvbnRyb2xWYWx1ZUFjY2Vzc29yLCBOZ0NvbnRyb2wsIE5HX1ZBTFVFX0FDQ0VTU09SIH0gZnJvbSAnQGFuZ3VsYXIvZm9ybXMnO1xyXG5pbXBvcnQgeyBEaWFsb2dDb21wb25lbnQgfSBmcm9tICdAZmFycmlzL3VpLWRpYWxvZyc7XHJcbmltcG9ydCB7IEFwaVNlcnZpY2UgfSBmcm9tICcuLi91dGlscy9hcGkuc2VydmljZSc7XHJcbmltcG9ydCB7IENvbW1vblV0aWwgfSBmcm9tICcuLi91dGlscy9jb21tb24udG9vbCc7XHJcbmltcG9ydCB7IEZhdm9yaXRlc1Rvb2wgfSBmcm9tICcuLi91dGlscy9mYXZvcml0ZXMudG9vbCc7XHJcbmltcG9ydCB7IENoYW5nZVR5cGUsIE9yZ1JlcXVlc3RQYXJhbSwgU2F2ZUdyb3VwUmVxZXVzdFBhcmFtIH0gZnJvbSAnLi4vdXRpbHMvaW5kZXgudHlwZSc7XHJcbmltcG9ydCB7IFN0YXRlTWdyVG9vbCB9IGZyb20gJy4uL3V0aWxzL3N0YXRlLm1nci50b29sJztcclxuaW1wb3J0IHsgU3ViamVjdCwgU3Vic2NyaXB0aW9uIH0gZnJvbSAncnhqcyc7XHJcbmltcG9ydCAqIGFzIF8gZnJvbSAnbG9kYXNoLWVzJztcclxuaW1wb3J0IHsgZGVib3VuY2VUaW1lLCBkaXN0aW5jdFVudGlsQ2hhbmdlZCwgc3dpdGNoTWFwLCB0YXAgfSBmcm9tICdyeGpzL29wZXJhdG9ycyc7XHJcbmltcG9ydCB7IHJlc3VsdCB9IGZyb20gJ2xvZGFzaCc7XHJcbmltcG9ydCB7IEdyb3VwQ29tcG9uZW50IH0gZnJvbSAnLi90YWItZ3JvdXAvZ3JvdXAuY29tcG9uZW50JztcclxuaW1wb3J0IHsgT3JnYW5pemF0aW9uQ29tcG9uZW50IH0gZnJvbSAnLi90YWItb3JnYW5pemF0aW9uL3RvLmNvbXBvbmVudCc7XHJcbmltcG9ydCB7IEZhdm9yaXRlc0NvbXBvbmVudCB9IGZyb20gJy4vdGFiLWZhdm9yaXRlcy9mYXZvcml0ZXMuY29tcG9uZW50JztcclxuaW1wb3J0IHsgTWVzc2FnZXJTZXJ2aWNlIH0gZnJvbSAnQGZhcnJpcy91aS1tZXNzYWdlcic7XHJcbmltcG9ydCB7IE5vdGlmeVNlcnZpY2UgfSBmcm9tICdAZmFycmlzL3VpLW5vdGlmeSc7XHJcbmltcG9ydCB7IExvY2FsZVNlcnZpY2UgfSBmcm9tICdAZmFycmlzL3VpLWxvY2FsZSc7XHJcbmltcG9ydCB7IE9SR0FOSVpBVElPTl9TRUxFQ1RPUl9MT0NBTEUgfSBmcm9tICcuLi91dGlscy9sb2NhbGUnO1xyXG5cclxuQENvbXBvbmVudCh7XHJcbiAgc2VsZWN0b3I6ICdmYXJyaXMtYWRtaW5vcmdhbml6YXRpb24tc2VsZWN0b3InLFxyXG4gIHRlbXBsYXRlVXJsOiAnLi9vcmdhbml6YXRpb24tc2VsZWN0b3IuY29tcG9uZW50Lmh0bWwnLFxyXG4gIHN0eWxlVXJsczogWycuL29yZ2FuaXphdGlvbi1zZWxlY3Rvci5jb21wb25lbnQuY3NzJ10sXHJcbiAgcHJvdmlkZXJzOiBbXHJcbiAgICB7XHJcbiAgICAgIHByb3ZpZGU6IE5HX1ZBTFVFX0FDQ0VTU09SLFxyXG4gICAgICB1c2VFeGlzdGluZzogZm9yd2FyZFJlZigoKSA9PiBBZG1pbk9yZ2FuaXphdGlvblNlbGVjdG9yQ29tcG9uZW50KSxcclxuICAgICAgbXVsdGk6IHRydWVcclxuICAgIH0sXHJcbiAgICBGYXZvcml0ZXNUb29sLCBBcGlTZXJ2aWNlLCBTdGF0ZU1nclRvb2xcclxuICBdXHJcbn0pXHJcbmV4cG9ydCBjbGFzcyBBZG1pbk9yZ2FuaXphdGlvblNlbGVjdG9yQ29tcG9uZW50IGltcGxlbWVudHMgT25Jbml0LCBPbkNoYW5nZXMsIEFmdGVyVmlld0luaXQsIE9uRGVzdHJveSwgQ29udHJvbFZhbHVlQWNjZXNzb3Ige1xyXG5cclxuICBASG9zdEJpbmRpbmcoJ2NsYXNzLmYtb3JnYW5pemF0aW9uLXNlbGVjdG9yJykgYmFzZUNscyA9IHRydWU7XHJcbiAgQEhvc3RCaW5kaW5nKCdjbGFzcy5mLW9yZ2FuaXphdGlvbi1zZWxlY3Rvci10YWJsZVRlbXBsJylcclxuICBnZXQgYmFibGVUZW1wbENsYXNzKCk6IGJvb2xlYW4ge1xyXG4gICAgcmV0dXJuIHRoaXMuaXNUYWJsZVRlbXBsYXRlO1xyXG4gIH1cclxuICBASG9zdEJpbmRpbmcoJ3N0eWxlLndpZHRoJykgQElucHV0KCkgd2lkdGggPSAnMTAwJSc7XHJcbiAgQFZpZXdDaGlsZCgnZmFycmlzRGlhbG9nJykgZGlhbG9nOiBEaWFsb2dDb21wb25lbnQ7XHJcbiAgQFZpZXdDaGlsZCgnbGliT3JnR3JvdXAnKSBsaWJPcmdHcm91cDogR3JvdXBDb21wb25lbnQ7XHJcbiAgQFZpZXdDaGlsZCgnbGliT3JnVHJlZScpIGxpYk9yZ1RyZWU6IE9yZ2FuaXphdGlvbkNvbXBvbmVudDtcclxuICBAVmlld0NoaWxkKCdsaWJPcmdGYXZvcml0ZXMnKSBsaWJPcmdGYXZvcml0ZXM6IEZhdm9yaXRlc0NvbXBvbmVudDtcclxuICAvLyDmmK/lkKbkuLrpm7bku6PnoIHovbvlupTnlKjooajmoLzmqKHmnb9cclxuICBASW5wdXQoKSBpc1RhYmxlVGVtcGxhdGU6IGJvb2xlYW4gPSBmYWxzZTtcclxuICAvLyBpbnB1dOahhuaYr+WQpuaYvuekulxyXG4gIEBJbnB1dCgpIHNob3dJbnB1dCA9IHRydWU7XHJcbiAgLy8g5Lia5Yqh5qCH6K+GXHJcbiAgQElucHV0KCkgYnVzTnVtID0gJ2NvbW1vbic7XHJcbiAgQElucHV0KCkgbXVsdGlTZWxlY3QgPSB0cnVlO1xyXG4gIEBJbnB1dCgpIHBsYWNlaG9sZGVyID0gJ+ivt+mAieaLqSc7XHJcbiAgQElucHV0KCkgc2VhcmNoUGxhY2Vob2xkZXIgPSAn6K+36L6T5YWl57yW5Y+35oiW5ZCN56ew5pCc57SiJztcclxuICBASW5wdXQoKSByZWFkb25seSA9IGZhbHNlO1xyXG4gIC8vIOS8oOWFpeeahHVybFxyXG4gIEBJbnB1dCgpIGFic1VzZXJPcmdVcmwgPSAnL2FwaS9ydW50aW1lL3N5cy92MS4wL2Fic1VzZXJPcmcnO1xyXG4gIEBJbnB1dCgpIGFic1JmUXVlcnlVcmwgPSAnL2FwaS9ydW50aW1lL3N5cy92MS4wL2Fic1JlY2VudENvbnRhY3RzL3F1ZXJ5JztcclxuICBASW5wdXQoKSBhYnNSZk1vZGlmeVVybCA9ICcvYXBpL3J1bnRpbWUvc3lzL3YxLjAvYWJzUmVjZW50Q29udGFjdHMvbW9kaWZ5JztcclxuICBASW5wdXQoKSBncm91cEFwaVVybCA9IFwiL2FwaS9ydW50aW1lL3N5cy92MS4wL29yZy1ncm91cFwiO1xyXG4gIEBJbnB1dCgpIGdyb3VwRXh0ZW5kVXJsID0gJy9wbGF0Zm9ybS9ydW50aW1lL3dmL3dlYmFwcC9uZy1mYXJyaXMtbW9iaWxlLXVpL2V4dGVuZC1vcmcuanMnO1xyXG4gIC8qKlxyXG4gICAqIOaVsOaNrua6kOexu+Wei1xyXG4gICAqIOm7mOiupOS4uu+8miBTeXN0ZW1fb3JnYW5pemF0aW9uICDns7vnu5/mlbDmja7mupAgICDojrflj5bns7vnu5/kurrlkZjjgIHns7vnu5/nu4Tnu4dcclxuICAgKiBBZG1pbmlzdHJhdGl2ZV9vcmdhbml6YXRpb24gIOW3suaJqeWxleaVsOaNrua6kCAg6I635Y+W6KGM5pS/57uE57uH44CB6KGM5pS/5Lq65ZGYXHJcbiAgICogYWJzT3JnVHlwZSB7c3RyaW5nfVxyXG4gICAqIFBlcnNvbm5lbFNlbGVjdG9yQ29tcG9uZW50XHJcbiAgICovXHJcbiAgQElucHV0KCkgYWJzT3JnVHlwZSA9ICdTeXN0ZW1fb3JnYW5pemF0aW9uJztcclxuICAvLyDlkK/nlKjliIblsYLliqDovb1cclxuICBASW5wdXQoKSBlbmFibGVIaWVyYXJjaGljYWxMb2FkaW5nID0gdHJ1ZTtcclxuICAvLyDkuI3ljIXlkKvlgZznlKjnu4Tnu4dcclxuICBASW5wdXQoKSBub3RHZXRTdG9wT3JnID0gdHJ1ZTtcclxuICBASW5wdXQoKSBwcmltYXJ5RmllbGQgPSAnb3JnSWQnO1xyXG4gIEBJbnB1dCgpIGRpc3BsYXlGaWVsZCA9ICduYW1lJztcclxuICBASW5wdXQoKSBvcmdJZHM6IHN0cmluZ1tdID0gW107XHJcbiAgLy8g5bGV5byA5bGC57qnXHJcbiAgQElucHV0KCkgbGF5ZXIgPSAxO1xyXG4gIC8vIOaYr+WQpuWQr+eUqOe6p+iBlOmAieS4rVxyXG4gIEBJbnB1dCgpIGNhc2NhZGVDaGVjayA9IHRydWU7XHJcbiAgLy8g57qn6IGU6YCJ5Lit5LiL57qnXHJcbiAgQElucHV0KCkgY2FzY2FkZURvd24gPSB0cnVlO1xyXG4gIC8vIOe6p+iBlOmAieS4reS4iue6p1xyXG4gIEBJbnB1dCgpIGNhc2NhZGVVcCA9IGZhbHNlO1xyXG4gIC8vIOaYvuekuuWFqOmAieaMiemSrlxyXG4gIEBJbnB1dCgpIHNob3dDaGVja0FsbCA9IGZhbHNlO1xyXG4gIEBJbnB1dCgpIGtlZXBTZWxlY3QgPSBmYWxzZTtcclxuICAvLyDlh73mlbDoh6rlrprkuYnovpPlh7rmoLflvI9cclxuICBASW5wdXQoKSBmb3JtYXRGbjogKG9iajogYW55KSA9PiBzdHJpbmc7XHJcbiAgLy8g5LiA5qyh5oCn5pyA5aSa6YCJ5Lit5aSa5bCR5p2hXHJcbiAgQElucHV0KCkgc2VsZWN0ZWRMaW1pdCA9IDUwO1xyXG4gIEBJbnB1dCgpIHNob3dUYWJJZHMgPSAnb3JnYW5pemF0aW9uLGZhdm9yaXRlcyc7XHJcbiAgQElucHV0KCkgYWN0aXZlVGFiSWQgPSAnb3JnYW5pemF0aW9uJztcclxuICAvLyDmkJzntKLliY3nq6/liIbpobU1MOadoVxyXG4gIEBJbnB1dCgpIHNlYXJjaFBhZ2VTaXplID0gNTA7XHJcbiAgLyoqIOWtl+auteaYoOWwhCwg5LuF5ZyoZmFycmlzIGZvcm3kuK3kvb/nlKh7IOW4ruWKqeaVsOaNruWtl+aute+8muihqOWNleWtl+autSB9ICovXHJcbiAgQElucHV0KCkgbWFwRmllbGRzOiB7IFtzb3VyY2VGaWVsZDogc3RyaW5nXTogc3RyaW5nIH07XHJcbiAgLyoqIOWkmumAieWIhumalOespiAqL1xyXG4gIEBJbnB1dCgpIG11bHRpcGxlQ2hvaWNlU2VwYXJhdG9yID0gJywnO1xyXG4gIEBJbnB1dCgpIGRyYWdnYWJsZSA9IHRydWU7XHJcbiAgQElucHV0KCkgdmlydHVhbGl6ZWRMb2FkID0gZmFsc2U7XHJcbiAgQElucHV0KCkgZGF0YVBlcm1pc3Npb24gPSBmYWxzZTtcclxuICBASW5wdXQoKSBkYXRhUGVybWlzc2lvbklkczogc3RyaW5nW10gPSBbXTtcclxuICBASW5wdXQoKSBvcmdOYW1lVHlwZTogc3RyaW5nID0gJ3Nob3J0JztcclxuICBASW5wdXQoKSBvbmx5RGlzcGxheUNvbXBhbnk6IGJvb2xlYW4gPSBmYWxzZTtcclxuICBASW5wdXQoKVxyXG4gIHNldCBvbmx5Q3VycmVudEFkbWluT3JnKHZhbHVlOiBib29sZWFuKSB7XHJcbiAgICB0aGlzLl9vbmx5Q3VycmVudEFkbWluT3JnID0gdGhpcy5vbmx5RGlzcGxheUNvbXBhbnkgPyBmYWxzZSA6IHZhbHVlO1xyXG4gIH1cclxuICBnZXQgb25seUN1cnJlbnRBZG1pbk9yZygpIHtcclxuICAgIHJldHVybiB0aGlzLl9vbmx5Q3VycmVudEFkbWluT3JnO1xyXG4gIH1cclxuICBASW5wdXQoKSBvbmx5UGFyZW50RmluYWxUZXh0OiBib29sZWFuID0gZmFsc2U7XHJcbiAgQElucHV0KCkgcXVpY2tTZWxlY3Q6IGJvb2xlYW4gPSBmYWxzZTtcclxuICBAT3V0cHV0KCkgc2VsZWN0aW9uc0NoYW5nZSA9IG5ldyBFdmVudEVtaXR0ZXI8YW55PigpO1xyXG4gIC8vIOWFqOmDqOa4hemZpOaMiemSruinpuWPkeWbnuiwg1xyXG4gIEBPdXRwdXQoKSBpbnB1dENsZWFyID0gbmV3IEV2ZW50RW1pdHRlcjxhbnk+KCk7XHJcbiAgLy8g5qCH562+5Yig6Zmk5oyJ6ZKu5Ye65Y+R5Zue6LCDXHJcbiAgQE91dHB1dCgpIHRhZ1JlbW92ZWQgPSBuZXcgRXZlbnRFbWl0dGVyPGFueT4oKTtcclxuXHJcbiAgc2VsZWN0aW9ucyA9IFtdO1xyXG4gIG9yaWdpbmFsU2VsZWN0aW9ucyA9IFtdO1xyXG4gIGZpbmFsVGV4dCA9IFtdO1xyXG4gIHBhcmVudEZpbmFsID0gW107XHJcbiAgYWJicmVQYXJlbnRGaW5hbCA9IFtdO1xyXG4gIGxvb2t1cEljb24gPSAnPGkgY2xhc3M9XCJmLWljb24gZi1pY29uLWxvb2t1cFwiPjwvaT4nO1xyXG4gIHNlYXJjaEljb24gPSAnPHNwYW4gY2xhc3M9XCJrLWljb24gay1pLXNlYXJjaFwiPjwvc3Bhbj4nO1xyXG4gIG9yZ2FuaXphdGlvblRhYklkID0gJ29yZ2FuaXphdGlvbic7XHJcbiAgZ3JvdXBUYWJJZCA9ICdncm91cCc7XHJcbiAgZmF2b3JpdGVzVGFiSWQgPSAnZmF2b3JpdGVzJztcclxuICBkaWFsb2dIZWlnaHQgPSA1NDg7XHJcbiAgZGlhbG9nSWQgPSAnZGlhbG9nSWQnO1xyXG4gIGlzU2hvdyA9IGZhbHNlO1xyXG4gIHByaXZhdGUgc2VsZWN0aW9uc1N1YjogU3Vic2NyaXB0aW9uO1xyXG4gIHByaXZhdGUgY29uZmlybVRva2VuID0gZmFsc2U7XHJcbiAgaGlkZVNlYXJjaFBhbmVsID0gdHJ1ZTtcclxuICBzZWFyY2hUZXh0ID0gJyc7XHJcbiAgb25TZWFyY2hUb2tlbjogYW55O1xyXG4gIGVuYWJsZUZhdm9yaXRlczogYm9vbGVhbjtcclxuICBlbmFibGVHcm91cDogYm9vbGVhbjtcclxuICBncm91cERpYWxvZ09wZW5kID0gZmFsc2U7XHJcbiAgZ3JvdXBEaWFsb2dUaXRsZSA9ICcnO1xyXG4gIGdyb3VwVGl0bGU6IHN0cmluZztcclxuICBncm91cE5vdGU6IHN0cmluZztcclxuICB2YWxpZEdyb3VwVGl0bGUgPSB0cnVlO1xyXG4gIHByaXZhdGUgZ3JvdXBUaXRsZVN0cmVhbTogU3ViamVjdDxzdHJpbmc+ID0gbmV3IFN1YmplY3Q8c3RyaW5nPigpO1xyXG4gIHB1YmxpYyBuZ0NvbnRyb2w6IGFueTtcclxuICBzZWxlY3Rpb25zU2hvdyA9IGZhbHNlO1xyXG4gIHByaXZhdGUgZWRpdGluZ0dyb3VwSWQ6IHN0cmluZztcclxuICBwcml2YXRlIGNkUmVmOiBDaGFuZ2VEZXRlY3RvclJlZjtcclxuICBwcml2YXRlIGN1cnJlbnRUYWJJZDogc3RyaW5nO1xyXG4gIHByaXZhdGUgbWVzc2FnZVNlcnZpY2U6IE1lc3NhZ2VyU2VydmljZTtcclxuICBwcml2YXRlIG5vdGlmeVNlcnZpY2U6IE5vdGlmeVNlcnZpY2U7XHJcbiAgb3JnVGFiQWN0aXZlOiBib29sZWFuID0gZmFsc2U7XHJcbiAgZ3JvdXBUYWJBY3RpdmU6IGJvb2xlYW4gPSBmYWxzZTtcclxuICBhZ2FpbnN0U2luZ2xlU2VsZWN0OiBib29sZWFuID0gZmFsc2U7XHJcbiAgcHJpdmF0ZSBsb2NhbGVTZXJ2aWNlOiBMb2NhbGVTZXJ2aWNlID0gbnVsbDtcclxuICBsYW5ndWFnZXNBcnJheSA9IFtcclxuICAgIHsgY29kZTogJ3poLUNIUycsIG5hbWU6ICfkuK3mlofnroDkvZMnLCBkZWZhdWx0OiB0cnVlIH0sXHJcbiAgICB7IGNvZGU6ICdlbicsIG5hbWU6ICdFbmdsaXNoJyB9LFxyXG4gICAgeyBjb2RlOiAnemgtQ0hUJywgbmFtZTogJ+S4reaWh+e5geS9kycgfVxyXG4gIF07XHJcblxyXG4gIF9vbmx5Q3VycmVudEFkbWluT3JnOiBib29sZWFuID0gZmFsc2U7XHJcblxyXG4gIGZhcnJpc0RpYWxvZ2JlZm9yZUNsb3NlID0gKCkgPT4ge1xyXG4gICAgdGhpcy5pc1Nob3cgPSBmYWxzZTtcclxuICAgIGlmICh0aGlzLmNvbmZpcm1Ub2tlbikge1xyXG4gICAgICB0aGlzLm9yaWdpbmFsU2VsZWN0aW9ucyA9IF8uY2xvbmVEZWVwKHRoaXMuc2VsZWN0aW9ucyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLnNlbGVjdGlvbnMgPSBfLmNsb25lRGVlcCh0aGlzLm9yaWdpbmFsU2VsZWN0aW9ucyk7XHJcbiAgICB9XHJcbiAgICBpZighdGhpcy5oaWRlU2VhcmNoUGFuZWwgfHwgdGhpcy5zZWFyY2hUZXh0KSB7XHJcbiAgICAgIHRoaXMuc2VhcmNoVGV4dCA9IG51bGw7XHJcbiAgICAgIHRoaXMuY2xlYXJTZWFyY2goKTtcclxuICAgIH1cclxuICAgIHRoaXMuY29uZmlybVRva2VuID0gZmFsc2U7XHJcbiAgICByZXR1cm4gdHJ1ZTtcclxuICB9XHJcblxyXG4gIG9uTW9kZWxDaGFuZ2U6IGFueSA9ICh2YWw/OiBhbnkpID0+IHsgfTtcclxuICBvbk1vZGVsVG91Y2hlZDogYW55ID0gKHZhbD86IGFueSkgPT4geyB9O1xyXG5cclxuICBjb25zdHJ1Y3RvcihcclxuICAgIHByaXZhdGUgcmVuZGVyOiBSZW5kZXJlcjIsXHJcbiAgICBwcml2YXRlIGluamVjdG9yOiBJbmplY3RvcixcclxuICAgIHByaXZhdGUgZmF2b3JpdGVzVG9vbDogRmF2b3JpdGVzVG9vbCxcclxuICAgIHByaXZhdGUgYXBpU2VydmljZTogQXBpU2VydmljZSxcclxuICAgIHByaXZhdGUgbmdab25lOiBOZ1pvbmUsXHJcbiAgICBwcml2YXRlIHN0YXRlTWdyOiBTdGF0ZU1nclRvb2xcclxuICApIHtcclxuICAgIHRoaXMuYXBpU2VydmljZS5hYnNVcmwgPSB0aGlzLmFic1VzZXJPcmdVcmw7XHJcbiAgICB0aGlzLmFwaVNlcnZpY2UuZ3JvdXBBcGlVcmwgPSB0aGlzLmdyb3VwQXBpVXJsO1xyXG4gICAgdGhpcy5hcGlTZXJ2aWNlLmdldE9yZ3NVcmwgPSAnL2FwaS9ydW50aW1lL3N5cy92MS4wL2FkbWluT3JnJztcclxuICAgIHRoaXMuY2RSZWYgPSB0aGlzLmluamVjdG9yLmdldChDaGFuZ2VEZXRlY3RvclJlZik7XHJcbiAgICB0aGlzLm1lc3NhZ2VTZXJ2aWNlID0gdGhpcy5pbmplY3Rvci5nZXQoTWVzc2FnZXJTZXJ2aWNlLCBudWxsKTtcclxuICAgIHRoaXMubm90aWZ5U2VydmljZSA9IHRoaXMuaW5qZWN0b3IuZ2V0KE5vdGlmeVNlcnZpY2UsIG51bGwpO1xyXG4gICAgdGhpcy5sb2NhbGVTZXJ2aWNlID0gdGhpcy5pbmplY3Rvci5nZXQoTG9jYWxlU2VydmljZSk7XHJcbiAgICBpZighdGhpcy5sb2NhbGVTZXJ2aWNlLmxhbmdEYXRhWydvcmdhbml6YXRpb25TZWxlY3RvciddKSB7XHJcbiAgICAgIHRoaXMubG9jYWxlU2VydmljZS5zZXRMb2NhbGVEYXRhKE9SR0FOSVpBVElPTl9TRUxFQ1RPUl9MT0NBTEUpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgd3JpdGVWYWx1ZShvYmo6IGFueSk6IHZvaWQge1xyXG4gICAgaWYgKCEhb2JqICYmIHR5cGVvZiBvYmogPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgIHRoaXMuZmluYWxUZXh0ID0gb2JqLnNwbGl0KHRoaXMubXVsdGlwbGVDaG9pY2VTZXBhcmF0b3IpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5maW5hbFRleHQgPSBbXTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJlZ2lzdGVyT25DaGFuZ2UoZm46IGFueSk6IHZvaWQge1xyXG4gICAgdGhpcy5vbk1vZGVsQ2hhbmdlID0gZm47XHJcbiAgfVxyXG5cclxuICByZWdpc3Rlck9uVG91Y2hlZChmbjogYW55KTogdm9pZCB7XHJcbiAgICB0aGlzLm9uTW9kZWxUb3VjaGVkID0gZm47XHJcbiAgfVxyXG5cclxuICBzZXREaXNhYmxlZFN0YXRlPyhpc0Rpc2FibGVkOiBib29sZWFuKTogdm9pZCB7XHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ01ldGhvZCBub3QgaW1wbGVtZW50ZWQuJyk7XHJcbiAgfVxyXG5cclxuICBuZ09uSW5pdCgpIHtcclxuICAgIHRoaXMuaW5pdERpYWxvZ0hlaWdodCgpO1xyXG4gICAgdGhpcy5saXN0ZW5TZWxlY3Rpb25zQ2hhbmdlKCk7XHJcbiAgICB0aGlzLmluaXRUYWJzKCk7XHJcbiAgICB0aGlzLmluaXRHcm91cFNlYXJjaCgpO1xyXG4gICAgdGhpcy5uZ0NvbnRyb2wgPSB0aGlzLmluamVjdG9yLmdldChOZ0NvbnRyb2wsIG51bGwpO1xyXG4gICAgdGhpcy5tYXBGaWVsZHMgJiYgdGhpcy5tYXBGaWVsZHMyQ29tcG9uZW50KCk7XHJcbiAgfVxyXG5cclxuICBuZ0FmdGVyVmlld0luaXQoKTogdm9pZCB7XHJcbiAgICB0aGlzLmxpc3RlbldpbmRvd1Jlc2l6ZSgpO1xyXG4gIH1cclxuXHJcbiAgbmdPbkNoYW5nZXMoY2hhbmdlczogU2ltcGxlQ2hhbmdlcykge1xyXG4gICAgY29uc3Qgb3JnSWRzQ2hhbmdlID0gY2hhbmdlcy5vcmdJZHM7XHJcbiAgICBpZiAob3JnSWRzQ2hhbmdlICYmIG9yZ0lkc0NoYW5nZS5jdXJyZW50VmFsdWUpIHtcclxuICAgICAgdGhpcy5hc3NlbWJsZURhdGFCeU9yZ0lkcyhvcmdJZHNDaGFuZ2UuY3VycmVudFZhbHVlKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIG5nT25EZXN0cm95KCkge1xyXG4gICAgdGhpcy5zZWxlY3Rpb25zU3ViLnVuc3Vic2NyaWJlKCk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGVtaXRTZWxlY3Rpb25zKHNlbGVjdGlvbnM6IGFueSwgY2hhbmdlVHlwZSA9IENoYW5nZVR5cGUuVmFsdWVDaGFuZ2VkLCBmcm9tID0gJ2Zvcm0nKSB7XHJcbiAgICB0aGlzLnN0YXRlTWdyLmVtaXRTZWxlY3Rpb25zKHNlbGVjdGlvbnMsIGNoYW5nZVR5cGUsIGZyb20pO1xyXG4gIH1cclxuXHJcbiAgLy8g5qC55o2u5a2X5q615pig5bCE5YWz57O76I635Y+W5b2T5YmN5bey6YCJ57uE57uH55qEaWTvvIzov5vogIzlnKjmiZPlvIDpgInnu4Tnu4flvLnnqpfml7bov5vooYznm7jlupTlsZXnpLpcclxuICBwcml2YXRlIG1hcEZpZWxkczJDb21wb25lbnQoKSB7XHJcbiAgICAvLyBjb25zdCBoZWxwRmllbGRzID0gT2JqZWN0LmtleXModGhpcy5tYXBGaWVsZHMpO1xyXG4gICAgLy8gaWYgKCFoZWxwRmllbGRzLmluY2x1ZGVzKHRoaXMucHJpbWFyeUZpZWxkKSkge1xyXG4gICAgLy8gICAvLyB0aGlzLm5vdGlmeVNlcnZpY2Uud2FybmluZyh0aGlzLmxvY2FsZVNlcnZpY2UuZ2V0VmFsdWUoXCJvcmdhbml6YXRpb25TZWxlY3Rvci5lcnJvck1lc3NhZ2UubWFwRmllbGRzXCIpKTtcclxuICAgIC8vICAgaWYoIWhlbHBGaWVsZHMuaW5jbHVkZXMoJ2lkJykpIHtcclxuICAgIC8vICAgICByZXR1cm47XHJcbiAgICAvLyAgIH0gZWxzZSB7XHJcbiAgICAvLyAgICAgdGhpcy5tYXBGaWVsZHNbdGhpcy5wcmltYXJ5RmllbGRdID0gdGhpcy5tYXBGaWVsZHNbJ2lkJ107XHJcbiAgICAvLyAgICAgZGVsZXRlIHRoaXMubWFwRmllbGRzWydpZCddO1xyXG4gICAgLy8gICB9XHJcbiAgICAvLyB9XHJcbiAgICBpZiAoXHJcbiAgICAgIHRoaXMubmdDb250cm9sICYmXHJcbiAgICAgIHRoaXMubmdDb250cm9sLmZvcm1EaXJlY3RpdmUgJiZcclxuICAgICAgdGhpcy5uZ0NvbnRyb2wuZm9ybURpcmVjdGl2ZS5mb3JtICYmXHJcbiAgICAgIHRoaXMubmdDb250cm9sLmZvcm1EaXJlY3RpdmUuZm9ybS5iaW5kaW5nRGF0YVxyXG4gICAgKSB7XHJcbiAgICAgIGNvbnN0IGJpbmRpbmdEYXRhID0gdGhpcy5uZ0NvbnRyb2wuZm9ybURpcmVjdGl2ZS5mb3JtLmJpbmRpbmdEYXRhO1xyXG4gICAgICBpZiAoYmluZGluZ0RhdGEuc2V0VmFsdWUpIHtcclxuICAgICAgICBjb25zdCBiaW5kaW5nUGF0aCA9IHRoaXMubmdDb250cm9sLmZvcm1EaXJlY3RpdmUuZm9ybS5iaW5kaW5nUGF0aDtcclxuICAgICAgICBsZXQgcGF0aEFycjogc3RyaW5nW10gPSBbXTtcclxuICAgICAgICBpZiAoYmluZGluZ1BhdGgpIHtcclxuICAgICAgICAgIHBhdGhBcnIgPSBiaW5kaW5nUGF0aC5zcGxpdCgnLycpLmZpbHRlcihuID0+IG4gIT09ICcnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgbXVsdGlQYXRoID0gdGhpcy5tYXBGaWVsZHNbJ2lkJ10uc3BsaXQodGhpcy5tdWx0aXBsZUNob2ljZVNlcGFyYXRvcik7XHJcbiAgICAgICAgY29uc3QgZmllbGRQYXRocyA9IHBhdGhBcnIuY29uY2F0KG11bHRpUGF0aFswXS5zcGxpdCgnLicpKTtcclxuICAgICAgICBjb25zdCBpZHMgPSBiaW5kaW5nRGF0YS5nZXRWYWx1ZShmaWVsZFBhdGhzKTtcclxuICAgICAgICBpZiAoIWlkcykge1xyXG4gICAgICAgICAgdGhpcy5lbWl0U2VsZWN0aW9ucyhbXSk7XHJcbiAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuYXNzZW1ibGVEYXRhQnlPcmdJZHMoaWRzLnNwbGl0KHRoaXMubXVsdGlwbGVDaG9pY2VTZXBhcmF0b3IpKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8g5qC55o2u5Lyg5YWl55qE57uE57uHaWTmlbDnu4Tojrflj5blr7nlupTnmoTnu4Tnu4dcclxuICAvLyDnlLFuZ09uQ2hhbmdlcygp44CBbWFwRmllbGRzMkNvbXBvbmVudCgp6LCD55SoXHJcbiAgcHJpdmF0ZSBhc3NlbWJsZURhdGFCeU9yZ0lkcyhpZHM6IHN0cmluZ1tdKSB7XHJcbiAgICBpZiAoIWlkcyB8fCAhaWRzLmxlbmd0aCkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBpZiAoaWRzICYmIGlkcy5sZW5ndGggPiAxICYmICF0aGlzLm11bHRpU2VsZWN0KSB7XHJcbiAgICAgIHRoaXMuYWdhaW5zdFNpbmdsZVNlbGVjdCA9IHRydWU7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIHRoaXMuYXBpU2VydmljZS5nZXRPcmdhbml6YXRpb25zV2l0aElkcyhpZHMpLnN1YnNjcmliZSgocmVzOiBhbnkpID0+IHtcclxuICAgICAgaWYgKHJlcyAmJiByZXMubGVuZ3RoKSB7XHJcbiAgICAgICAgdGhpcy5zZWxlY3Rpb25zID0gcmVzO1xyXG4gICAgICAgIGlmICghdGhpcy5tYXBGaWVsZHMpIHtcclxuICAgICAgICAgIHRoaXMuYXNzZW1ibGVGaW5hbFRleHQoKTtcclxuICAgICAgICAgIHRoaXMuZW1pdFNlbGVjdGlvbnModGhpcy5zZWxlY3Rpb25zKTtcclxuICAgICAgICAgIGlmKHRoaXMuZGF0YVBlcm1pc3Npb24pIHtcclxuICAgICAgICAgICAgdGhpcy5lbWl0U2VsZWN0aW9ucyh0aGlzLnNlbGVjdGlvbnMpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICB0aGlzLmVtaXRTZWxlY3Rpb25zKHRoaXMuc2VsZWN0aW9ucyk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8vIOaehOmAoOWbnuaYvuiHs2lucHV05paH5pys5qGG55qE5YaF5a65XHJcbiAgLy8g5Zyo5pyJbWFwRmllbGRz55qE5YmN5o+Q5LiL77yM55SxYXNzZW1ibGVEYXRhQnlPcmdJZHMoKeiwg+eUqO+8jGNsZWFyQWxsKCnjgIFyZW1vdmVJdGVtKCnjgIFyZXR1cm5SZXN1bHQoKeS5n+S8muiwg+eUqFxyXG4gIHByaXZhdGUgYXNzZW1ibGVGaW5hbFRleHQoKSB7XHJcbiAgICB0aGlzLmZpbmFsVGV4dCA9IFtdO1xyXG4gICAgdGhpcy5zZWxlY3Rpb25zLmZvckVhY2goKGl0ZW0sIGluZGV4KSA9PiB7XHJcbiAgICAgIGNvbnN0IGZvcm1hdGVkTmFtZSA9IHRoaXMuZm9ybWF0Rm4gJiYgdGhpcy5mb3JtYXRGbihpdGVtKTtcclxuICAgICAgbGV0IGZpbmFsVGV4dCA9ICcnO1xyXG4gICAgICBpZih0aGlzLm9yZ05hbWVUeXBlID09ICdzaG9ydCcpIHtcclxuICAgICAgICBmaW5hbFRleHQgPSBmb3JtYXRlZE5hbWUgPyBmb3JtYXRlZE5hbWUgOiAoaXRlbVsnYWJicmV2aWF0aW9uJ10gPyBpdGVtWydhYmJyZXZpYXRpb24nXSA6IGl0ZW1bdGhpcy5kaXNwbGF5RmllbGRdKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBmaW5hbFRleHQgPSBmb3JtYXRlZE5hbWUgPyBmb3JtYXRlZE5hbWUgOiBpdGVtW3RoaXMuZGlzcGxheUZpZWxkXTtcclxuICAgICAgfVxyXG4gICAgICB0aGlzLmZpbmFsVGV4dC5wdXNoKGZpbmFsVGV4dCk7XHJcbiAgICB9KTtcclxuICAgIHRoaXMuZmluYWxUZXh0ID0gdGhpcy5maW5hbFRleHQuc2xpY2UoKTtcclxuICB9XHJcblxyXG4gIC8vIOWIneWni+WMluW8ueeql2lk5Y+K6auY5bqmXHJcbiAgLy8g55SxbmdPbkluaXQoKeiwg+eUqFxyXG4gIGluaXREaWFsb2dIZWlnaHQoKSB7XHJcbiAgICBjb25zdCB1dWlkID0gQ29tbW9uVXRpbC5uZXdHdWlkKCk7XHJcbiAgICB0aGlzLmRpYWxvZ0lkICs9IHV1aWQ7XHJcbiAgICBjb25zdCB3aW5kb3dJbm5lckhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodDtcclxuICAgIHRoaXMuZGlhbG9nSGVpZ2h0ID0gd2luZG93SW5uZXJIZWlnaHQgLSA2MDtcclxuICAgIGlmICh0aGlzLmRpYWxvZ0hlaWdodCA+IDY4MCkge1xyXG4gICAgICB0aGlzLmRpYWxvZ0hlaWdodCA9IDY4MDtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIOebkeWQrHNlbGVjdGlvbnPnmoTlj5jmm7TvvIzlj5jmm7TljIXlkKvkuInnp43lvaLlvI/vvJp2YWx1ZUNoYW5nZeOAgWFwcGVuZOOAgXJlbW92ZVxyXG4gIC8vIOeUsW5nT25Jbml0KCnosIPnlKhcclxuICBsaXN0ZW5TZWxlY3Rpb25zQ2hhbmdlKCkge1xyXG4gICAgdGhpcy5zZWxlY3Rpb25zU3ViID0gdGhpcy5zdGF0ZU1nci5zZWxlY3Rpb25zU3ViamVjdC5zdWJzY3JpYmUoZGF0YSA9PiB7XHJcbiAgICAgIGlmIChkYXRhLmNoYW5nZVR5cGUgPT09IENoYW5nZVR5cGUuVmFsdWVDaGFuZ2VkKSB7XHJcbiAgICAgICAgdGhpcy5zZWxlY3Rpb25zID0gXy5jbG9uZURlZXAoZGF0YS52YWx1ZSk7XHJcbiAgICAgIH0gZWxzZSBpZiAoZGF0YS5jaGFuZ2VUeXBlID09PSBDaGFuZ2VUeXBlLlJlbW92ZSkge1xyXG4gICAgICAgIHRoaXMuc2VsZWN0aW9ucyA9IHRoaXMuc2VsZWN0aW9ucy5maWx0ZXIoaXRlbSA9PiBpdGVtWydpZCddICE9PSBkYXRhLnZhbHVlWydpZCddKTtcclxuICAgICAgfSBlbHNlIGlmIChkYXRhLmNoYW5nZVR5cGUgPT09IENoYW5nZVR5cGUuQXBwZW5kKSB7XHJcbiAgICAgICAgQ29tbW9uVXRpbC5maW5kSW5kZXgoZGF0YS52YWx1ZVsnaWQnXSwgJ2lkJywgdGhpcy5zZWxlY3Rpb25zKSA9PT0gLTEgPyB0aGlzLnNlbGVjdGlvbnMucHVzaChkYXRhLnZhbHVlKSA6IG51bGw7XHJcbiAgICAgIH1cclxuICAgICAgdGhpcy5vbmx5UGFyZW50RmluYWxUZXh0ICYmIHRoaXMuYXNzZW1ibGVQYXJlbnRGaW5hbCgpO1xyXG4gICAgICB0aGlzLmNkUmVmLmRldGVjdENoYW5nZXMoKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLy8g5qC55o2uc2hvd1RhYklkc+WIpOaWreaYr+WQpuWQr+eUqOaUtuiXj+WKn+iDveOAgee+pOe7hOWKn+iDvVxyXG4gIC8vIOeUsW5nT25Jbml0KCnosIPnlKhcclxuICBwcml2YXRlIGluaXRUYWJzKCkge1xyXG4gICAgaWYoIXRoaXMuc2hvd1RhYklkcy5pbmNsdWRlcyh0aGlzLmFjdGl2ZVRhYklkKSkge1xyXG4gICAgICB0aGlzLmFjdGl2ZVRhYklkID0gdGhpcy5zaG93VGFiSWRzLnNwbGl0KCcsJylbMF07XHJcbiAgICB9XHJcbiAgICBpZih0aGlzLmRhdGFQZXJtaXNzaW9uKSB7XHJcbiAgICAgIHRoaXMuc2hvd1RhYklkcyA9IHRoaXMub3JnYW5pemF0aW9uVGFiSWQ7XHJcbiAgICAgIHRoaXMuYWN0aXZlVGFiSWQgPSB0aGlzLm9yZ2FuaXphdGlvblRhYklkO1xyXG4gICAgICB0aGlzLm9yZ1RhYkFjdGl2ZSA9IHRydWU7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIHRoaXMuY3VycmVudFRhYklkID0gdGhpcy5hY3RpdmVUYWJJZDtcclxuICAgIGlmICh0aGlzLnNob3dUYWJJZHMuaW5kZXhPZih0aGlzLmZhdm9yaXRlc1RhYklkKSAhPT0gLTEpIHtcclxuICAgICAgdGhpcy5lbmFibGVGYXZvcml0ZXMgPSB0cnVlO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5lbmFibGVGYXZvcml0ZXMgPSBmYWxzZTtcclxuICAgIH1cclxuICAgIGlmICh0aGlzLnNob3dUYWJJZHMuaW5kZXhPZih0aGlzLmdyb3VwVGFiSWQpICE9PSAtMSkge1xyXG4gICAgICB0aGlzLmVuYWJsZUdyb3VwID0gdHJ1ZTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuZW5hYmxlR3JvdXAgPSBmYWxzZTtcclxuICAgIH1cclxuICAgIGlmKHRoaXMuYWN0aXZlVGFiSWQgPT0gdGhpcy5vcmdhbml6YXRpb25UYWJJZCkge1xyXG4gICAgICB0aGlzLm9yZ1RhYkFjdGl2ZSA9IHRydWU7XHJcbiAgICB9IGVsc2UgaWYodGhpcy5hY3RpdmVUYWJJZCA9PSB0aGlzLmdyb3VwVGFiSWQpIHtcclxuICAgICAgdGhpcy5ncm91cFRhYkFjdGl2ZSA9IHRydWU7XHJcbiAgICB9XHJcbiAgICAvLyDlkK/nlKjnvqTnu4Tlip/og73mianlsZXlh73mlbBcclxuICAgIC8qXHJcbiAgICBpZiAodGhpcy5lbmFibGVHcm91cCkge1xyXG4gICAgICBjb25zdCBjY3dvcmsgPSB3aW5kb3cudG9wLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzY3JpcHRcIilcclxuICAgICAgY2N3b3JrLnNyYyA9IHRoaXMuZ3JvdXBFeHRlbmRVcmwgKyAnP3ZzPScgKyBNYXRoLnJhbmRvbSgpO1xyXG4gICAgICB3aW5kb3cuZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChjY3dvcmspO1xyXG4gICAgfVxyXG4gICAgKi9cclxuICB9XHJcblxyXG4gIC8vIOWIpOaWree+pOe7hOWQjeensOaYr+WQpuWQiOazlVxyXG4gIC8vIOeUsW5nT25Jbml0KCnosIPnlKhcclxuICBwcml2YXRlIGluaXRHcm91cFNlYXJjaCgpIHtcclxuICAgIGlmICh0aGlzLmVuYWJsZUdyb3VwKSB7XHJcbiAgICAgIHRoaXMuZ3JvdXBUaXRsZVN0cmVhbS5waXBlKFxyXG4gICAgICAgIGRlYm91bmNlVGltZSg1MDApLFxyXG4gICAgICAgIGRpc3RpbmN0VW50aWxDaGFuZ2VkKClcclxuICAgICAgKS5zdWJzY3JpYmUoZGF0YSA9PiB7XHJcbiAgICAgICAgaWYgKCEhZGF0YSkge1xyXG4gICAgICAgICAgdGhpcy52YWxpZEdyb3VwVGl0bGUgPSB0cnVlO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICB0aGlzLnZhbGlkR3JvdXBUaXRsZSA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyDlvZPmtY/op4jlmajnqpflj6PlpKflsI/lj5jmm7Tml7bvvIzlj5jmm7TlvLnnqpfnmoTlpKflsI9cclxuICAvLyDnlLFuZ0FmdGVyVmlld0luaXQoKeiwg+eUqFxyXG4gIGxpc3RlbldpbmRvd1Jlc2l6ZSgpIHtcclxuICAgIGNvbnN0IGRpYWxvZ0VsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjJyArIHRoaXMuZGlhbG9nSWQpO1xyXG4gICAgbGV0IHRhcmdldEVsZW1lbnQgPSBudWxsO1xyXG4gICAgaWYgKCEhZGlhbG9nRWxlbWVudCkge1xyXG4gICAgICB0YXJnZXRFbGVtZW50ID0gZGlhbG9nRWxlbWVudC5xdWVyeVNlbGVjdG9yKCcubW9kYWwtZGlhbG9nJyk7XHJcbiAgICB9XHJcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgKCkgPT4ge1xyXG4gICAgICBpZiAoISF0YXJnZXRFbGVtZW50KSB7XHJcbiAgICAgICAgbGV0IGhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodCAtIDYwO1xyXG4gICAgICAgIGlmIChoZWlnaHQgPiA2ODApIHtcclxuICAgICAgICAgIGhlaWdodCA9IDY4MDtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5kaWFsb2dIZWlnaHQgPSBoZWlnaHQ7XHJcbiAgICAgICAgY29uc3QgaW5uZXJIZWlnaHQgPSBoZWlnaHQgKyAncHgnO1xyXG4gICAgICAgIGNvbnN0IG1hcmdpblRvcCA9ICctJyArIGhlaWdodCAvIDIgKyAncHgnO1xyXG4gICAgICAgIHRoaXMucmVuZGVyLnNldFN0eWxlKHRhcmdldEVsZW1lbnQsICdoZWlnaHQnLCBpbm5lckhlaWdodCk7XHJcbiAgICAgICAgdGhpcy5yZW5kZXIuc2V0U3R5bGUodGFyZ2V0RWxlbWVudCwgJ21hcmdpbi10b3AnLCBtYXJnaW5Ub3ApO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8vIOWIneWni+WMlue7hOe7h+aUtuiXj+aVsOaNrlxyXG4gIC8vIOeUsXNob3dGYXJyaXNEaWFsb2coKeiwg+eUqO+8jOWNs+aJk+W8gOmAiee7hOe7h+W8ueeql+aXtuWPkemAgeivt+axglxyXG4gIHByaXZhdGUgaW5pdEZhdm9yaXRlcygpIHtcclxuICAgIHRoaXMuZmF2b3JpdGVzVG9vbC5hYnNPcmdUeXBlID0gdGhpcy5hYnNPcmdUeXBlO1xyXG4gICAgdGhpcy5mYXZvcml0ZXNUb29sLmJ1c051bSA9IHRoaXMuYnVzTnVtO1xyXG4gICAgdGhpcy5mYXZvcml0ZXNUb29sLmlkRmllbGQgPSAnaWQnO1xyXG4gICAgdGhpcy5mYXZvcml0ZXNUb29sLmFic1JmUXVlcnlVcmwgPSB0aGlzLmFic1JmUXVlcnlVcmw7XHJcbiAgICB0aGlzLmZhdm9yaXRlc1Rvb2wuYWJzUmZNb2RpZnlVcmwgPSB0aGlzLmFic1JmTW9kaWZ5VXJsO1xyXG4gICAgdGhpcy5mYXZvcml0ZXNUb29sLmdldEZhdm9yaXRlc0xpc3QoKS5zdWJzY3JpYmUoKHJlc3VsdCkgPT4ge1xyXG4gICAgICBjb25zdCByZXNEYXRhID0gcmVzdWx0ID8gKHJlc3VsdCBhcyBhbnkpLm9yZ0RhdGEgOiBbXTtcclxuICAgICAgdGhpcy5mYXZvcml0ZXNUb29sLmZhdm9yaXRlc0xpc3QgPSByZXNEYXRhO1xyXG4gICAgICB0aGlzLmZhdm9yaXRlc1Rvb2wuc2V0RmF2b3JpdGVzTGlzdChyZXNEYXRhKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLy8g5omT5byA6YCJ57uE57uH5by556qXXHJcbiAgc2hvd0ZhcnJpc0RpYWxvZygpIHtcclxuICAgIHRoaXMuaXNTaG93ID0gdHJ1ZTtcclxuICAgIHRoaXMubmdab25lLnJ1bk91dHNpZGVBbmd1bGFyKCgpID0+IHtcclxuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5kaWFsb2cuc2hvdygpO1xyXG4gICAgICAgIGlmICh0aGlzLnNob3dUYWJJZHMuaW5kZXhPZih0aGlzLmZhdm9yaXRlc1RhYklkKSAhPT0gLTEpIHtcclxuICAgICAgICAgIHRoaXMuaW5pdEZhdm9yaXRlcygpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZih0aGlzLmFnYWluc3RTaW5nbGVTZWxlY3QpIHtcclxuICAgICAgICAgIHRoaXMubm90aWZ5U2VydmljZS53YXJuaW5nKHRoaXMubG9jYWxlU2VydmljZS5nZXRWYWx1ZShcIm9yZ2FuaXphdGlvblNlbGVjdG9yLmVycm9yTWVzc2FnZS5tdWx0aVNlbGVjdFwiKSk7XHJcbiAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGlmICh0aGlzLm1hcEZpZWxkcyAmJiAhT2JqZWN0LmtleXModGhpcy5tYXBGaWVsZHMpLmluY2x1ZGVzKHRoaXMucHJpbWFyeUZpZWxkKSkge1xyXG4gICAgICAgIC8vICAgdGhpcy5ub3RpZnlTZXJ2aWNlLndhcm5pbmcodGhpcy5sb2NhbGVTZXJ2aWNlLmdldFZhbHVlKFwib3JnYW5pemF0aW9uU2VsZWN0b3IuZXJyb3JNZXNzYWdlLm1hcEZpZWxkc1wiKSk7XHJcbiAgICAgICAgLy8gICByZXR1cm47XHJcbiAgICAgICAgLy8gfVxyXG4gICAgICAgIHRoaXMuc3RhdGVNZ3IuZW1pdFNlbGVjdGlvbnModGhpcy5zZWxlY3Rpb25zLCBDaGFuZ2VUeXBlLlZhbHVlQ2hhbmdlZCwgJ2Zvcm0nKTtcclxuICAgICAgfSk7XHJcbiAgICB9KVxyXG4gIH1cclxuXHJcbiAgLy8gaW5wdXTmlofmnKzmoYblhoXngrnlh7vmuIXpmaTmjInpkq7ml7bop6blj5FcclxuICBjbGVhckFsbCgpIHtcclxuICAgIHRoaXMuc2VsZWN0aW9ucyA9IFtdO1xyXG4gICAgdGhpcy5hc3NlbWJsZUZpbmFsVGV4dCgpO1xyXG4gICAgdGhpcy5vbk1vZGVsQ2hhbmdlKHRoaXMuZmluYWxUZXh0LmpvaW4oKSk7XHJcbiAgICB0aGlzLm9uTW9kZWxUb3VjaGVkKHRoaXMuZmluYWxUZXh0LmpvaW4oKSk7XHJcbiAgICB0aGlzLmVtaXRTZWxlY3Rpb25zKFtdKTtcclxuICAgIHRoaXMuaW5wdXRDbGVhci5lbWl0KCk7XHJcbiAgfVxyXG5cclxuICAvLyBpbnB1dOaWh+acrOahhuWGheWIoOmZpOafkOS4gOS4quW3sumAiee7hOe7h+aXtuinpuWPkVxyXG4gIHJlbW92ZUl0ZW0oZGF0YTogYW55LCBpbmRleDogbnVtYmVyLCBldmVudDogYW55KSB7XHJcbiAgICBpZih0aGlzLnNlbGVjdGlvbnMubGVuZ3RoID4gMCkge1xyXG4gICAgICBpZih0aGlzLm9ubHlQYXJlbnRGaW5hbFRleHQpIHtcclxuICAgICAgICBsZXQgcmVtb3ZlSW5kZXggPSB0aGlzLnNlbGVjdGlvbnMuZmluZEluZGV4KGl0ZW0gPT4gaXRlbVsnaWQnXSA9PSBkYXRhWydpZCddKTtcclxuICAgICAgICBsZXQgcmVtb3ZlRGF0YSA9IHRoaXMuc2VsZWN0aW9ucy5zcGxpY2UocmVtb3ZlSW5kZXgsIDEpO1xyXG4gICAgICAgIGlmKGRhdGEuY2hpbGRyZW4ubGVuZ3RoKSB7XHJcbiAgICAgICAgICBjb25zdCBhZnRlclJlbW92ZUNoaWxkID0gdGhpcy5zZWxlY3Rpb25zLmZpbHRlcihpdGVtID0+ICFpdGVtLnBhdGguc3RhcnRzV2l0aChyZW1vdmVEYXRhWzBdLnBhdGgpKTtcclxuICAgICAgICAgIHRoaXMuc2VsZWN0aW9ucyA9IGFmdGVyUmVtb3ZlQ2hpbGQuc2xpY2UoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5hc3NlbWJsZUZpbmFsVGV4dCgpO1xyXG4gICAgICAgIHRoaXMuZW1pdFNlbGVjdGlvbnModGhpcy5zZWxlY3Rpb25zKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0aGlzLnNlbGVjdGlvbnMuc3BsaWNlKGluZGV4LCAxKTtcclxuICAgICAgICB0aGlzLmFzc2VtYmxlRmluYWxUZXh0KCk7XHJcbiAgICAgICAgdGhpcy5lbWl0U2VsZWN0aW9ucyhkYXRhLCBDaGFuZ2VUeXBlLlJlbW92ZSk7XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuZmluYWxUZXh0ID0gdGhpcy5maW5hbFRleHQuZmlsdGVyKHRleHQgPT4gdGV4dCAhPT0gZGF0YSk7XHJcbiAgICB9IFxyXG4gICAgdGhpcy5vbk1vZGVsQ2hhbmdlKHRoaXMuZmluYWxUZXh0LmpvaW4oKSk7XHJcbiAgICB0aGlzLm9uTW9kZWxUb3VjaGVkKHRoaXMuZmluYWxUZXh0LmpvaW4oKSk7XHJcbiAgICB0aGlzLnRhZ1JlbW92ZWQuZW1pdCh7XHJcbiAgICAgIGRlbGV0ZUl0ZW06IGRhdGEsXHJcbiAgICAgIGRlbGV0ZUluZGV4OiBpbmRleCxcclxuICAgICAgc2VsZWN0aW9uczogdGhpcy5zZWxlY3Rpb25zXHJcbiAgICB9KTtcclxuICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgZXZlbnQuY2FuY2VsQnViYmxlID0gdHJ1ZTtcclxuICB9XHJcblxyXG4gIC8vIOa4heepuuacgOi/keW3sumAiee7hOe7h1xyXG4gIGNsZWFyU2VsZXRpb25zKCkge1xyXG4gICAgdGhpcy5zdGF0ZU1nci5lbWl0U2VsZWN0aW9ucyhbXSwgQ2hhbmdlVHlwZS5WYWx1ZUNoYW5nZWQsICdmb3JtJyk7XHJcbiAgfVxyXG5cclxuICAvLyDngrnlh7vmkJzntKLmjInpkq7miJbogIXmlbLlh7vlm57ovabml7bop6blj5FcclxuICBvblNlYXJjaCgpIHtcclxuICAgIGlmICghIXRoaXMuc2VhcmNoVGV4dCkge1xyXG4gICAgICB0aGlzLmhpZGVTZWFyY2hQYW5lbCA9IGZhbHNlO1xyXG4gICAgICB0aGlzLm9uU2VhcmNoVG9rZW4gPSBDb21tb25VdGlsLm5ld0d1aWQoKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIOa4heepuue7hOe7h+aQnOe0ouWGheWuueaXtuinpuWPkVxyXG4gIGNsZWFyU2VhcmNoKCkge1xyXG4gICAgdGhpcy5oaWRlU2VhcmNoUGFuZWwgPSB0cnVlO1xyXG4gICAgdGhpcy5vblNlYXJjaFRva2VuID0gZmFsc2U7XHJcbiAgICBpZih0aGlzLmN1cnJlbnRUYWJJZCA9IHRoaXMub3JnYW5pemF0aW9uVGFiSWQpIHtcclxuICAgICAgdGhpcy5saWJPcmdUcmVlLmZhcnJpc1RyZWUuY2xlYXJBbGwoKTtcclxuICAgICAgdGhpcy5saWJPcmdUcmVlLmZhcnJpc1RyZWUucm93SGVpZ2h0ID0gMjg7XHJcbiAgICAgIGlmKHRoaXMubXVsdGlTZWxlY3QpIHtcclxuICAgICAgICB0aGlzLmxpYk9yZ1RyZWUuY2hlY2tPcmdUcmVlTm9kZXMoKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0aGlzLmxpYk9yZ1RyZWUuc2VsZWN0T3JnVHJlZU5vZGUoKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8g55uR5ZCs5pCc57Si5qGG5YaF6L6T5YWl55qE5paH5pysXHJcbiAgbGlzdGVuU2VhcmNoVGV4dChlKSB7XHJcbiAgICBpZiAoZS5jb2RlID09PSAnQmFja3NwYWNlJyB8fCBlLmNvZGUgPT09ICdEZWxldGUnKSB7XHJcbiAgICAgIGlmICghdGhpcy5zZWFyY2hUZXh0KSB7XHJcbiAgICAgICAgdGhpcy5jbGVhclNlYXJjaCgpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyDnm5HlkKzmkJzntKLpobXnmoTlhbPpl63kuovku7bvvIznm67liY3lj6rkvJrmjqXmlLbliLB0cnVlXHJcbiAgbGlzdGVuQ2xvc2VQYW5lbENoYW5nZShlKSB7XHJcbiAgICB0aGlzLmhpZGVTZWFyY2hQYW5lbCA9IGU7XHJcbiAgICAvLyDlhbPpl63mkJzntKLnu5PmnpzpobXlkI7vvIzpnIDopoHmm7TmlrDmoJHoioLngrnnmoTmmK/lkKbpgInkuK3nirbmgIFcclxuICAgIGlmKHRoaXMuY3VycmVudFRhYklkID09IHRoaXMub3JnYW5pemF0aW9uVGFiSWQpIHtcclxuICAgICAgdGhpcy5saWJPcmdUcmVlLmZhcnJpc1RyZWUuY2xlYXJBbGwoKTtcclxuICAgICAgdGhpcy5saWJPcmdUcmVlLmZhcnJpc1RyZWUucm93SGVpZ2h0ID0gMjg7XHJcbiAgICAgIGlmKHRoaXMubXVsdGlTZWxlY3QpIHtcclxuICAgICAgICB0aGlzLmxpYk9yZ1RyZWUuY2hlY2tPcmdUcmVlTm9kZXMoKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0aGlzLmxpYk9yZ1RyZWUuc2VsZWN0T3JnVHJlZU5vZGUoKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8g5YWz6Zet5L+d5a2Y576k57uE55qE5by556qX5pe254K55Ye74oCc5Y+W5raI4oCd5oiW6ICF5Y+z5LiK6KeS5Y+J5Y+36Kem5Y+RXHJcbiAgY2xvc2VHcm91cERpYWxvZygpIHtcclxuICAgIHRoaXMuZ3JvdXBEaWFsb2dPcGVuZCA9IGZhbHNlO1xyXG4gICAgdGhpcy5lZGl0aW5nR3JvdXBJZCA9IG51bGw7XHJcbiAgICB0aGlzLmdyb3VwVGl0bGUgPSBudWxsO1xyXG4gICAgdGhpcy5ncm91cE5vdGUgPSBudWxsO1xyXG4gICAgdGhpcy5ncm91cERpYWxvZ1RpdGxlID0gdGhpcy5sb2NhbGVTZXJ2aWNlLmdldFZhbHVlKFwib3JnYW5pemF0aW9uU2VsZWN0b3IuZ3JvdXAuc2F2ZUdyb3VwXCIpO1xyXG4gIH1cclxuXHJcbiAgLy8g5Zyo5L+d5a2Y576k57uE55qE5by556qX5YaF77yM5L+u5pS5576k57uE5ZCN56ew5pe26Kem5Y+R77yM55uR5ZCsa2V5dXDkuovku7ZcclxuICBsaXN0ZW5Hcm91cFRpdGxlKGUpIHtcclxuICAgIHRoaXMuZ3JvdXBUaXRsZVN0cmVhbS5uZXh0KHRoaXMuZ3JvdXBUaXRsZSk7XHJcbiAgfVxyXG5cclxuICAvLyDpgInnu4Tnu4fnmoTlvLnnqpflhoXmnInkuIDkuKrigJzlt7LpgInigJ3moIflv5fvvIzpvKDmoIfnp7vkuIrljrvlkI7kvJrmmL7npLrlt7LpgInnu4Tnu4fnmoTpobXpnaLvvIzor6XpobXpnaLlhoXmnInigJzkv53lrZjkuLrnvqTnu4TigJ3nmoTmjInpkq7vvIzngrnlh7vlkI7lj6/ku6XmiZPlvIDkv53lrZjnvqTnu4TnmoTlvLnnqpdcclxuICBsaXN0ZW5PcGVuR3JvdXAoZSkge1xyXG4gICAgdGhpcy5ncm91cERpYWxvZ09wZW5kID0gZTtcclxuICAgIHRoaXMuZ3JvdXBEaWFsb2dUaXRsZSA9IHRoaXMubG9jYWxlU2VydmljZS5nZXRWYWx1ZShcIm9yZ2FuaXphdGlvblNlbGVjdG9yLmdyb3VwLnNhdmVHcm91cFwiKTtcclxuICB9XHJcblxyXG4gIC8vIOeCueWHu+e+pOe7hOe8lui+keaMiemSruinpuWPke+8jOWPr+S/ruaUuemAieS4ree+pOe7hOeahOWQjeensOWPiuaPj+i/sFxyXG4gIGxpc3Rlbkdyb3VwQ2hhbmdlKGl0ZW06IGFueSkge1xyXG4gICAgdGhpcy5ncm91cERpYWxvZ09wZW5kID0gdHJ1ZTtcclxuICAgIHRoaXMuZWRpdGluZ0dyb3VwSWQgPSBpdGVtLmlkO1xyXG4gICAgdGhpcy5ncm91cFRpdGxlID0gaXRlbS50aXRsZTtcclxuICAgIHRoaXMuZ3JvdXBOb3RlID0gaXRlbS5kZXNjcmlwdGlvbjtcclxuICAgIHRoaXMuZ3JvdXBEaWFsb2dUaXRsZSA9IHRoaXMubG9jYWxlU2VydmljZS5nZXRWYWx1ZShcIm9yZ2FuaXphdGlvblNlbGVjdG9yLmdyb3VwLmVkaXRHcm91cFwiKTtcclxufVxyXG5cclxuICAvLyDlhbPpl63kv53lrZjnvqTnu4TnmoTlvLnnqpfml7bngrnlh7vigJznoa7lrprigJ3op6blj5HvvIzlsIblvZPliY3lt7LpgInnu4Tnu4fkv53lrZjkuLrkuIDkuKrmlrDnmoTnvqTnu4RcclxuICBzYXZlR3JvdXAoKSB7XHJcbiAgICBpZiAoIXRoaXMuZ3JvdXBUaXRsZSkge1xyXG4gICAgICB0aGlzLnZhbGlkR3JvdXBUaXRsZSA9IGZhbHNlO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBjb25zdCBncm91cElkID0gQ29tbW9uVXRpbC5uZXdHdWlkKCk7XHJcbiAgICBsZXQgZ3JvdXBDb2RlID0gJ29yZ0dyb3VwX3ByaXZhdGVfJztcclxuICAgIGdyb3VwQ29kZSArPSBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDE2KS5zdWJzdHJpbmcoMiwgMTApO1xyXG4gICAgY29uc3QgYWRkSWRzID0gW107XHJcbiAgICB0aGlzLnNlbGVjdGlvbnMuZm9yRWFjaChzZWxlY3Rpb24gPT4ge1xyXG4gICAgICBhZGRJZHMucHVzaChzZWxlY3Rpb25bJ2lkJ10pO1xyXG4gICAgfSk7XHJcbiAgICBpZihhZGRJZHMubGVuZ3RoID4gMTAwMCkge1xyXG4gICAgICB0aGlzLm1lc3NhZ2VTZXJ2aWNlLnNob3coJ3dhcm5pbmcnLCB0aGlzLmxvY2FsZVNlcnZpY2UuZ2V0VmFsdWUoXCJvcmdhbml6YXRpb25TZWxlY3Rvci5lcnJvck1lc3NhZ2UubGltaXRcIiksIHRydWUpO1xyXG4gICAgICB0aGlzLmdyb3VwRGlhbG9nT3BlbmQgPSBmYWxzZTtcclxuICAgICAgdGhpcy5ncm91cFRpdGxlID0gbnVsbDtcclxuICAgICAgdGhpcy5ncm91cE5vdGUgPSBudWxsO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICB0aGlzLmdyb3VwRGlhbG9nT3BlbmQgPSBmYWxzZTtcclxuICAgIGNvbnN0IGJvZHk6IFNhdmVHcm91cFJlcWV1c3RQYXJhbSA9IHtcclxuICAgICAgZ3JvdXBJZCxcclxuICAgICAgZ3JvdXBDb2RlLFxyXG4gICAgICB0aXRsZTogdGhpcy5ncm91cFRpdGxlLFxyXG4gICAgICBkZXNjcmlwdGlvbjogdGhpcy5ncm91cE5vdGUsXHJcbiAgICAgIGFic09yZ1R5cGU6IHRoaXMuYWJzT3JnVHlwZSxcclxuICAgICAgY2hhbmdlVHlwZTogTnVtYmVyKDEpXHJcbiAgICB9O1xyXG4gICAgaWYgKHRoaXMuZWRpdGluZ0dyb3VwSWQpIHtcclxuICAgICAgYm9keS5ncm91cElkID0gdGhpcy5lZGl0aW5nR3JvdXBJZDtcclxuICAgICAgYm9keS5jaGFuZ2VUeXBlID0gTnVtYmVyKDIpO1xyXG4gICAgICBkZWxldGUgYm9keS5ncm91cENvZGU7XHJcbiAgICAgIHRoaXMudXBkYXRlTmFtZU9yTm90ZShib2R5KTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgY29uc3QgbmV3R3JvdXAkID0gdGhpcy5hcGlTZXJ2aWNlLnNhdmVHcm91cChib2R5KTtcclxuICAgIG5ld0dyb3VwJC5waXBlKFxyXG4gICAgICAgIHN3aXRjaE1hcChcclxuICAgICAgICAgICAgKHJlczogYW55KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZihyZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmxpYk9yZ0dyb3VwLnNlbGVjdGVkR3JvdXBJZCA9IGdyb3VwSWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5ncm91cFRpdGxlID0gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmdyb3VwTm90ZSA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYWRkT3Jnc0luTmV3R3JvdXAkID0gdGhpcy5hcGlTZXJ2aWNlLnNhdmVHcm91cCh7IGdyb3VwSWQsIGFkZElkcywgZGVsZXRlSWRzOiBbXSwgY2hhbmdlVHlwZTogTnVtYmVyKDMpIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBhZGRPcmdzSW5OZXdHcm91cCQucGlwZShcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGFwKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRhdGE6IGFueSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5saWJPcmdHcm91cC5nZXRHcm91cExpc3Qoe3NhdmVHcm91cDogdHJ1ZX0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZXJyb3IpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IodGhpcy5sb2NhbGVTZXJ2aWNlLmdldFZhbHVlKFwib3JnYW5pemF0aW9uU2VsZWN0b3IuZXJyb3JNZXNzYWdlLnNhdmVPcmdhbml6YXRpb25cIikpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgKSxcclxuICAgICAgICB0YXAoXHJcbiAgICAgICAgICAgICgpID0+IHtcclxuICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgKGVycm9yKSA9PiB7XHJcbiAgICAgICAgICAgICAgdGhpcy5tZXNzYWdlU2VydmljZS5zaG93KCdlcnJvcicsIHRoaXMubG9jYWxlU2VydmljZS5nZXRWYWx1ZShcIm9yZ2FuaXphdGlvblNlbGVjdG9yLmVycm9yTWVzc2FnZS5zYXZlR3JvdXBcIiksIHRydWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgKVxyXG4gICAgKS5zdWJzY3JpYmUoKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgdXBkYXRlTmFtZU9yTm90ZShwYXJhbTogU2F2ZUdyb3VwUmVxZXVzdFBhcmFtKSB7XHJcbiAgICBjb25zdCB1cGRhdGVJbmZvJCA9IHRoaXMuYXBpU2VydmljZS5zYXZlR3JvdXAocGFyYW0pO1xyXG4gICAgdXBkYXRlSW5mbyQucGlwZShcclxuICAgICAgdGFwKFxyXG4gICAgICAgIChkYXRhKSA9PiB7XHJcbiAgICAgICAgICBpZihkYXRhKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZWRpdGluZ0dyb3VwSWQgPSBudWxsO1xyXG4gICAgICAgICAgICB0aGlzLmdyb3VwVGl0bGUgPSBudWxsO1xyXG4gICAgICAgICAgICB0aGlzLmdyb3VwTm90ZSA9IG51bGw7XHJcbiAgICAgICAgICAgIHRoaXMuZ3JvdXBEaWFsb2dUaXRsZSA9IHRoaXMubG9jYWxlU2VydmljZS5nZXRWYWx1ZShcIm9yZ2FuaXphdGlvblNlbGVjdG9yLmdyb3VwLnNhdmVHcm91cFwiKTtcclxuICAgICAgICAgICAgdGhpcy5saWJPcmdHcm91cC5nZXRHcm91cExpc3Qoe3VwZGF0ZU5hbWVPck5vdGU6IHRydWV9KTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIChlcnJvcikgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLm1lc3NhZ2VTZXJ2aWNlLnNob3coJ2Vycm9yJywgdGhpcy5sb2NhbGVTZXJ2aWNlLmdldFZhbHVlKFwib3JnYW5pemF0aW9uU2VsZWN0b3IuZXJyb3JNZXNzYWdlLmVkaXRHcm91cFwiKSwgdHJ1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICApXHJcbiAgICApLnN1YnNjcmliZSgpO1xyXG4gIH1cclxuXHJcbiAgLy8g54K55Ye76YCJ57uE57uH5by556qX55qE56Gu5a6a5oiW6ICF5Y+W5raI5oyJ6ZKu5pe26Kem5Y+R77yMMeS4uuehruWumu+8jDDkuLrlj5bmtohcclxuICByZXR1cm5SZXN1bHQodHlwZTogbnVtYmVyKSB7XHJcbiAgICBsZXQgZmluYWxUZXh0ID0gJyc7XHJcbiAgICBpZiAoISF0eXBlKSB7XHJcbiAgICAgIHRoaXMuY29uZmlybVRva2VuID0gdHJ1ZTtcclxuICAgICAgdGhpcy5hc3NlbWJsZUZpbmFsVGV4dCgpO1xyXG4gICAgICBmaW5hbFRleHQgPSB0aGlzLmZpbmFsVGV4dC5qb2luKCk7XHJcbiAgICAgIGlmICh0aGlzLnNlbGVjdGlvbnMgJiYgdGhpcy5zZWxlY3Rpb25zLmxlbmd0aCkge1xyXG4gICAgICAgIHRoaXMuc2VsZWN0aW9uc0NoYW5nZS5lbWl0KHtcclxuICAgICAgICAgIHNlbGVjdGlvbnM6IHRoaXMuc2VsZWN0aW9uc1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMub25Nb2RlbENoYW5nZShmaW5hbFRleHQpO1xyXG4gICAgICAgIHRoaXMub25Nb2RlbFRvdWNoZWQoZmluYWxUZXh0KTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0aGlzLm9uTW9kZWxDaGFuZ2UoZmluYWxUZXh0KTtcclxuICAgICAgICB0aGlzLm9uTW9kZWxUb3VjaGVkKGZpbmFsVGV4dCk7XHJcbiAgICAgICAgdGhpcy5zZWxlY3Rpb25zQ2hhbmdlLmVtaXQoe1xyXG4gICAgICAgICAgc2VsZWN0aW9uczogdGhpcy5zZWxlY3Rpb25zXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGlmKHRoaXMubWFwRmllbGRzKSB7XHJcbiAgICAgICAgdGhpcy5tYXBGaWVsZHMyQ29tcG9uZW50KCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdGhpcy5hc3NlbWJsZURhdGFCeU9yZ0lkcyh0aGlzLm9yZ0lkcyk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIC8vIHRoaXMub3JnSWRzID0gW107XHJcbiAgICB0aGlzLmRpYWxvZy5jbG9zZSgpO1xyXG4gICAgdGhpcy5pc1Nob3cgPSBmYWxzZTtcclxuICB9XHJcblxyXG4gIGNoYW5nZVRhYnMoZTogYW55KSB7XHJcbiAgICBpZighdGhpcy5oaWRlU2VhcmNoUGFuZWwpIHtcclxuICAgICAgdGhpcy5oaWRlU2VhcmNoUGFuZWwgPSB0cnVlO1xyXG4gICAgICB0aGlzLm9uU2VhcmNoVG9rZW4gPSBmYWxzZTtcclxuICAgIH1cclxuICAgIHRoaXMuY3VycmVudFRhYklkID0gZS5uZXh0SWQ7XHJcbiAgICBpZih0aGlzLnNob3dUYWJJZHMuaW5jbHVkZXModGhpcy5vcmdhbml6YXRpb25UYWJJZCkpIHtcclxuICAgICAgdGhpcy5saWJPcmdUcmVlLmN1cnJlbnRUYWJJZCA9IHRoaXMuY3VycmVudFRhYklkO1xyXG4gICAgfVxyXG4gICAgaWYgKGUubmV4dElkID09PSB0aGlzLmdyb3VwVGFiSWQpIHtcclxuICAgICAgaWYoIXRoaXMubGliT3JnR3JvdXAuZ3JvdXBEYXRhLnB1YmxpYy5sZW5ndGggJiYgIXRoaXMubGliT3JnR3JvdXAuZ3JvdXBEYXRhLnBlcnNvbmFsLmxlbmd0aCkge1xyXG4gICAgICAgIHRoaXMubGliT3JnR3JvdXAuYXNzZW1ibGVEYXRhKHRydWUpO1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2UgaWYoZS5uZXh0SWQgPT09IHRoaXMub3JnYW5pemF0aW9uVGFiSWQpIHtcclxuICAgICAgaWYodGhpcy5saWJPcmdUcmVlLmluaXRMb2FkKSB7XHJcbiAgICAgICAgdGhpcy5saWJPcmdUcmVlLmxvYWRUcmVlRGF0YSgpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRoaXMubGliT3JnVHJlZS5mYXJyaXNUcmVlLmNsZWFyQWxsKCk7XHJcbiAgICAgICAgdGhpcy5saWJPcmdUcmVlLmZhcnJpc1RyZWUucm93SGVpZ2h0ID0gMjg7XHJcbiAgICAgICAgaWYodGhpcy5tdWx0aVNlbGVjdCkge1xyXG4gICAgICAgICAgdGhpcy5saWJPcmdUcmVlLmNoZWNrT3JnVHJlZU5vZGVzKCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHRoaXMubGliT3JnVHJlZS5zZWxlY3RPcmdUcmVlTm9kZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcXVpY2tTaG93RGlhbG9nKGU6IGFueSkge1xyXG4gICAgaWYoIXRoaXMucXVpY2tTZWxlY3QpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBpZihlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ2Zvcm0tY29udHJvbCcpKSB7XHJcbiAgICAgICAgdGhpcy5zaG93RmFycmlzRGlhbG9nKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGFzc2VtYmxlUGFyZW50RmluYWwoKSB7XHJcbiAgICB0aGlzLmFzc2VtYmxlRmluYWxUZXh0KCk7XHJcbiAgICB0aGlzLnBhcmVudEZpbmFsID0gW107XHJcbiAgICB0aGlzLnNlbGVjdGlvbnMuZm9yRWFjaCgoaXRlbSwgaW5kZXgpID0+IHtcclxuICAgICAgbGV0IGhpZ2hMYXllck9yZyA9IHRoaXMuc2VsZWN0aW9ucy5maWx0ZXIoZGF0YSA9PiBpdGVtLnBhdGguc3RhcnRzV2l0aChkYXRhLnBhdGgpICYmIGl0ZW0ucGF0aCAhPSBkYXRhLnBhdGgpO1xyXG4gICAgICBsZXQgdGFyZ2V0TGF5ZXI7XHJcbiAgICAgIGhpZ2hMYXllck9yZy5mb3JFYWNoKG9yZyA9PiB7XHJcbiAgICAgICAgaWYoIXRhcmdldExheWVyIHx8IG9yZ1snbGF5ZXInXSA8IHRhcmdldExheWVyKSB7XHJcbiAgICAgICAgICB0YXJnZXRMYXllciA9IG9yZ1snbGF5ZXInXTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgICBsZXQgaGlnaExheWVyT3JnSW5kZXggPSB0aGlzLnNlbGVjdGlvbnMuZmluZEluZGV4KGRhdGEgPT4gaXRlbS5wYXRoLnN0YXJ0c1dpdGgoZGF0YS5wYXRoKSAmJiBpdGVtLnBhdGggIT0gZGF0YS5wYXRoICYmIGRhdGEubGF5ZXIgPT0gdGFyZ2V0TGF5ZXIpO1xyXG4gICAgICBpZihoaWdoTGF5ZXJPcmdJbmRleCA+IC0xKSB7XHJcbiAgICAgICAgbGV0IHBhcmVudEluZGV4ID0gdGhpcy5wYXJlbnRGaW5hbC5maW5kSW5kZXgocCA9PiBwLmlkID09IHRoaXMuc2VsZWN0aW9uc1toaWdoTGF5ZXJPcmdJbmRleF0uaWQpO1xyXG4gICAgICAgIGlmKHBhcmVudEluZGV4ID4gLTEpIHtcclxuICAgICAgICAgIHRoaXMucGFyZW50RmluYWxbcGFyZW50SW5kZXhdWydjaGlsZHJlbiddLnB1c2godGhpcy5maW5hbFRleHRbaW5kZXhdKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgdGhpcy5wYXJlbnRGaW5hbC5wdXNoKE9iamVjdC5hc3NpZ24oe30sIHtcclxuICAgICAgICAgICAgaWQ6IHRoaXMuc2VsZWN0aW9uc1toaWdoTGF5ZXJPcmdJbmRleF1bJ2lkJ10sXHJcbiAgICAgICAgICAgIHBhdGg6IHRoaXMuc2VsZWN0aW9uc1toaWdoTGF5ZXJPcmdJbmRleF1bJ3BhdGgnXSxcclxuICAgICAgICAgICAgbmFtZTogdGhpcy5maW5hbFRleHRbaGlnaExheWVyT3JnSW5kZXhdLFxyXG4gICAgICAgICAgICBjaGlsZHJlbjogW3RoaXMuZmluYWxUZXh0W2luZGV4XV1cclxuICAgICAgICAgIH0pKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgbGV0IHBhcmVudEluZGV4ID0gdGhpcy5wYXJlbnRGaW5hbC5maW5kSW5kZXgocCA9PiBwLmlkID09IGl0ZW0uaWQpO1xyXG4gICAgICAgIGlmKHBhcmVudEluZGV4ID09IC0xKSB7XHJcbiAgICAgICAgICB0aGlzLnBhcmVudEZpbmFsLnB1c2goT2JqZWN0LmFzc2lnbih7fSwge1xyXG4gICAgICAgICAgICBpZDogaXRlbS5pZCxcclxuICAgICAgICAgICAgcGF0aDogaXRlbS5wYXRoLFxyXG4gICAgICAgICAgICBuYW1lOiB0aGlzLmZpbmFsVGV4dFtpbmRleF0sXHJcbiAgICAgICAgICAgIGNoaWxkcmVuOiBbXVxyXG4gICAgICAgICAgfSkpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgdGhpcy5hYmJyZVBhcmVudEZpbmFsID0gdGhpcy5wYXJlbnRGaW5hbC5zbGljZSgpO1xyXG4gICAgdGhpcy5hYmJyZVBhcmVudEZpbmFsLmZvckVhY2goaXRlbSA9PiB7XHJcbiAgICAgIGlmKGl0ZW0uY2hpbGRyZW4ubGVuZ3RoID4gMTApIHtcclxuICAgICAgICBsZXQgZmlyc3RDaGlsZHMgPSBpdGVtLmNoaWxkcmVuLnNsaWNlKDAsIDUpLmNvbmNhdChbJ+KApuKApiddKTtcclxuICAgICAgICBsZXQgbGFzdENoaWxkcyA9IGl0ZW0uY2hpbGRyZW4uc2xpY2UoLTUpO1xyXG4gICAgICAgIGl0ZW0uY2hpbGRyZW4gPSBmaXJzdENoaWxkcy5jb25jYXQobGFzdENoaWxkcyB8fCBbXSk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxufVxyXG4iXX0=