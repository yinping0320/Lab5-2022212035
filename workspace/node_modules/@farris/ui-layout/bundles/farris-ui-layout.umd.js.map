{"version":3,"file":"farris-ui-layout.umd.js.map","sources":["ng://@farris/ui-layout/lib/layout.component.ts","ng://@farris/ui-layout/lib/panels/layout-panel.component.ts","ng://@farris/ui-layout/lib/layout.module.ts"],"sourcesContent":["import { LayoutPanelComponent } from './panels/layout-panel.component';\r\nimport { Injector, ContentChildren, ViewEncapsulation, Output, EventEmitter, Inject, forwardRef, NgZone } from '@angular/core';\r\n/*\r\n * @Author: ç¯çç§æ(lucas huang)\r\n * @Date: 2018-11-24 15:58:04\r\n * @LastEditors: ç¯çç§æ(Lucas Huang)\r\n * @LastEditTime: 2019-04-08 19:02:25\r\n * @Company: Inspur\r\n * @Version: v0.0.1\r\n */\r\nimport {\r\n    Component, OnInit, Input, QueryList, ViewChildren, HostBinding,\r\n    ElementRef, Renderer2, Directive, AfterContentInit, ViewChild\r\n} from '@angular/core';\r\n\r\n\r\n@Component({\r\n    selector: 'farrisui-layout,farris-layout,layout',\r\n    templateUrl: 'layout.component.html',\r\n    styles: [\r\n        `\r\n        :host.layout-fill {position: absolute; top: 0; right: 0;bottom: 0;left: 0;}\r\n        `\r\n    ],\r\n    encapsulation: ViewEncapsulation.Emulated\r\n})\r\nexport class LayoutComponent implements OnInit, AfterContentInit {\r\n\r\n    @Input() width: number;\r\n    @Input() height: number;\r\n    @Input() showBorder = true;\r\n\r\n    // h: æ°´å¹³æå; v: åç´æå\r\n    @Input() direction: 'h' | 'v' = 'h';\r\n\r\n    @Input() fill = false;\r\n\r\n    @HostBinding('class') myclass = 'd-flex';\r\n\r\n    panels: LayoutPanelComponent[] = [];\r\n\r\n    private ngZone: NgZone;\r\n\r\n    constructor(private el: ElementRef, private render2: Renderer2, private injector: Injector) {\r\n        this.ngZone = this.injector.get(NgZone);\r\n    }\r\n\r\n    ngOnInit() {\r\n        this.init();\r\n    }\r\n\r\n    ngAfterContentInit() {\r\n        this.checkPanels();\r\n\r\n        this.panels.forEach(p => {\r\n            if (p.split) {\r\n                let margin = '';\r\n                switch (p.region) {\r\n                    case 'north':\r\n                        margin = 'marginTop';\r\n                        break;\r\n                    case 'south':\r\n                        margin = 'marginBottom';\r\n                        break;\r\n                    case 'west':\r\n                        margin = 'marginLeft';\r\n                        break;\r\n                    case 'east':\r\n                        margin = 'marginRight';\r\n                        break;\r\n                }\r\n                this.render2.setStyle(this.getPanel('center').el.nativeElement, margin, '5px');\r\n            }\r\n        });\r\n        this.ngZone.runOutsideAngular(() => {\r\n            setTimeout(() => this.setPanelMaxSize());\r\n        });\r\n    }\r\n\r\n    private init() {\r\n        if (this.direction === 'h') {\r\n            this.myclass += ' flex-row';\r\n        } else {\r\n            this.myclass += ' flex-column';\r\n        }\r\n\r\n        if (this.fill) {\r\n            if (this.isInLayoutPanel()) {\r\n                this.myclass += ' flex-fill';\r\n                this.render2.addClass(this.el.nativeElement.parentElement, 'd-flex');\r\n            } else {\r\n                this.myclass += ' layout-fill';\r\n            }\r\n        } else {\r\n            if (this.width) {\r\n                this.render2.setStyle(this.el.nativeElement, 'width', this.width + 'px');\r\n            }\r\n\r\n            if (this.height) {\r\n                this.render2.setStyle(this.el.nativeElement, 'height', this.height + 'px');\r\n            }\r\n        }\r\n    }\r\n\r\n    private getLayoutSize() {\r\n        const size = {\r\n            width: this.el.nativeElement.clientWidth,\r\n            height: this.el.nativeElement.clientHeight\r\n        };\r\n        return size;\r\n    }\r\n\r\n    setPanelMaxSize() {\r\n        const layoutSize = this.getLayoutSize();\r\n        this.panels.forEach(p => {\r\n            if (p.region !== 'center') {\r\n                const minWidth = p.minWidth || 100;\r\n                const minHeight = p.minHeight || 100;\r\n                if (p.region === 'west' && layoutSize.width) {\r\n                    const east = this.getPanel('east');\r\n                    if (!east) {\r\n                        p.maxWidth = layoutSize.width - minWidth;\r\n                    } else {\r\n                        p.maxWidth = layoutSize.width - east.width - minWidth;\r\n                    }\r\n                }\r\n\r\n                if (p.region === 'east' && layoutSize.width) {\r\n                    const west = this.getPanel('west');\r\n                    if (!west) {\r\n                        p.maxWidth = layoutSize.width - minWidth;\r\n                    } else {\r\n                        p.maxWidth = layoutSize.width - west.width - minWidth;\r\n                    }\r\n                }\r\n\r\n                if (p.region === 'north' && layoutSize.height) {\r\n                    const south = this.getPanel('south');\r\n                    if (!south) {\r\n                        p.maxHeight = layoutSize.height - minHeight;\r\n                    } else {\r\n                        p.maxHeight = layoutSize.height - south.height - minHeight;\r\n                    }\r\n                }\r\n\r\n                if (p.region === 'south' && layoutSize.height) {\r\n                    const north = this.getPanel('north');\r\n                    if (!north) {\r\n                        p.maxHeight = layoutSize.height - minHeight;\r\n                    } else {\r\n                        p.maxHeight = layoutSize.height - north.height - minHeight;\r\n                    }\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    getPanel(region: string) {\r\n        return this.panels.find(p => p.region === region);\r\n    }\r\n\r\n    private checkPanels() {\r\n        if (this.panels && this.panels.length) {\r\n            const regions = this.panels.map(p => p.region);\r\n            if (this.unique(regions).length === regions.length) {\r\n                if (this.direction === 'h') {\r\n                    if (regions.find(r => r === 'north' || r === 'south')) {\r\n                        throw new Error('æ°´å¹³æ¹åæåæ¶ï¼åªè½åå« east æè west');\r\n                    }\r\n                } else {\r\n                    if (regions.find(r => r === 'west' || r === 'east')) {\r\n                        throw new Error('æ°´å¹³æ¹åæåæ¶ï¼åªè½åå« north æè south');\r\n                    }\r\n                }\r\n                return true;\r\n            } else {\r\n                throw new Error('layout å¸å±å®¹å¨ä¸­å·æéå¤çpanelã');\r\n            }\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n    private unique(arr: string[]) {\r\n        const tmp = new Set(arr);\r\n        return Array.from(tmp);\r\n    }\r\n\r\n    private isInLayoutPanel() {\r\n        return !!this.el.nativeElement.parentElement.attributes['layout-panel'];\r\n    }\r\n}\r\n\r\n\r\n","import {\r\n    Component, OnInit, Input, ElementRef, Renderer2, ViewChild,\r\n    Output, EventEmitter, Inject, forwardRef, SimpleChanges, OnChanges, NgZone\r\n} from '@angular/core';\r\nimport { AngularResizableDirective } from '@farris/ui-draggable';\r\nimport { LayoutComponent } from './../layout.component';\r\n\r\n@Component({\r\n    selector: 'layout-panel',\r\n    template: `\r\n        <div #panel #ngResizable class=\"layout-panel\"\r\n            [ngResizable]=\"split\" [attr.region]=\"region\"\r\n            [rzHandles]=\"rzHandler\"\r\n            [rzMinWidth]=\"minWidth\"\r\n            [rzMaxWidth]=\"maxWidth\"\r\n            [rzMinHeight]=\"minHeight\"\r\n            [rzMaxHeight]=\"maxHeight\"\r\n            (rzResizing)=\"onReizing($event)\"\r\n            (rzStop) = \"onResized($event)\"\r\n            (rzStart) =\"onResizeStart($event)\" >\r\n\r\n            <layout-panel-title *ngIf=\"title\" [title]=\"title\"></layout-panel-title>\r\n\r\n            <ng-content></ng-content>\r\n        <div>\r\n    `,\r\n    styleUrls: ['./layout-panel.css']\r\n})\r\nexport class LayoutPanelComponent implements OnInit, OnChanges {\r\n    @Input() region: string;\r\n    @Input() height: number;\r\n    @Input() width: number;\r\n    @Input() minHeight = 100;\r\n    @Input() minWidth = 100;\r\n    @Input() maxHeight: number;\r\n    @Input() maxWidth: number;\r\n    @Input() title = '';\r\n    @Input() iconCls = '';\r\n    @Input() overflow = 'auto';\r\n\r\n    private _resizable = true;\r\n    rzHandler: string;\r\n    private bsColClass = '';\r\n    @Input() get split() {\r\n        return this._resizable;\r\n    }\r\n\r\n    set split(val: boolean) {\r\n        this._resizable = val;\r\n    }\r\n\r\n\r\n    @Input() showBorder = true;\r\n\r\n    @Output() resizing = new EventEmitter();\r\n    @Output() resized = new EventEmitter();\r\n    @ViewChild('panel') panel: ElementRef;\r\n    @ViewChild(AngularResizableDirective) ngResizable: AngularResizableDirective;\r\n\r\n    private setStyles() {\r\n        // this.ngZone.runOutsideAngular(() => {\r\n            setTimeout(() => {\r\n                let width, height;\r\n                const rect = this.el.nativeElement.getBoundingClientRect();\r\n\r\n                if (this.height) {\r\n                    height = this.height;\r\n                    this.render2.setStyle(this.el.nativeElement, 'height', height + 'px');\r\n                    this.render2.setStyle(this.panel.nativeElement, 'height', height + 'px');\r\n                }\r\n                if (this.width) {\r\n                    width = this.width;\r\n                    if (rect.width > this.width) {\r\n                        width = rect.width;\r\n                        this.width = width;\r\n                    }\r\n                    this.render2.setStyle(this.el.nativeElement, 'width', width + 'px');\r\n                    this.render2.setStyle(this.panel.nativeElement, 'width', width + 'px');\r\n\r\n                    this.resetFlex();\r\n                }\r\n            });\r\n        // });\r\n    }\r\n\r\n    private getrzHandler() {\r\n        if (this.region) {\r\n            let rzdir = '';\r\n            switch (this.region) {\r\n                case 'west':\r\n                    rzdir = 'e';\r\n                    break;\r\n                case 'east':\r\n                    rzdir = 'w';\r\n                    break;\r\n                case 'north':\r\n                    rzdir = 's';\r\n                    break;\r\n                case 'south':\r\n                    rzdir = 'n';\r\n                    break;\r\n            }\r\n\r\n            this.rzHandler = rzdir;\r\n        } else {\r\n            this.rzHandler = '';\r\n        }\r\n    }\r\n\r\n    isCenterPanel() {\r\n        return this.region === 'center';\r\n    }\r\n\r\n    constructor(public el: ElementRef, private render2: Renderer2, private layout: LayoutComponent, private ngZone: NgZone) { }\r\n\r\n    ngOnChanges(changes: SimpleChanges) {\r\n        if (changes.width && !changes.width.isFirstChange()) {\r\n            this.setStyles();\r\n        }\r\n    }\r\n\r\n    private getBsClass() {\r\n        return Array.from<string>(this.el.nativeElement.classList).find((c: string) => c.indexOf('col-') > -1);\r\n    }\r\n    private hasBsClass() {\r\n        return this.getBsClass() !== undefined;\r\n    }\r\n\r\n    private initSize() {\r\n        this.setStyles();\r\n\r\n        if (this.region) {\r\n            if (this.region === 'west' || this.region === 'east') {\r\n                this.render2.setStyle(this.panel.nativeElement, 'height', '100%');\r\n            }\r\n        }\r\n    }\r\n\r\n    private initClass() {\r\n        if (this.isCenterPanel()) {\r\n            this.render2.addClass(this.panel.nativeElement, this.overflow == 'auto' ?'flex-fill': 'f-utils-fill');\r\n            if (this.el.nativeElement.parentElement.attributes['layout-panel']) {\r\n                this.render2.addClass(this.el.nativeElement.parentElement, 'd-flex');\r\n            }\r\n\r\n            this.render2.addClass(this.el.nativeElement, 'd-flex');\r\n            this.render2.addClass(this.el.nativeElement, 'f-utils-fill');\r\n        }\r\n\r\n        if (this.showBorder) {\r\n            this.render2.addClass(this.panel.nativeElement, 'layout-border');\r\n        }\r\n    }\r\n\r\n    ngOnInit() {\r\n        this.initSize();\r\n        this.initClass();\r\n        this.getrzHandler();\r\n\r\n        this.bsColClass = this.getBsClass();\r\n\r\n        this.layout.panels.push(this);\r\n    }\r\n\r\n    onResizeStart($event: any) {\r\n        this.resetFlex();\r\n    }\r\n\r\n    private resetFlex() {\r\n        if (this.region === 'west' || this.region === 'east') {\r\n            this.render2.setStyle(this.el.nativeElement, 'flex', 'none');\r\n            this.render2.setStyle(this.el.nativeElement, 'max-width', 'none');\r\n        }\r\n    }\r\n\r\n    resize(size: { width?: number, height?: number }) {\r\n        this.setStyles();\r\n        this.onResized({ size });\r\n    }\r\n\r\n    onReizing($event: any) {\r\n        this.updatePanelSize($event);\r\n        // console.log($event);\r\n        this.resizing.emit({ target: this, size: $event.size });\r\n    }\r\n\r\n    private updatePanelSize($event: any) {\r\n        if (this.region === 'south') {\r\n            this.render2.setStyle(this.panel.nativeElement, 'top', 0);\r\n        }\r\n        if (this.region === 'east') {\r\n            this.render2.setStyle(this.panel.nativeElement, 'left', 0);\r\n        }\r\n        if (this.region === 'south' || this.region === 'north') {\r\n            this.render2.setStyle(this.el.nativeElement, 'height', $event.size.height + 'px');\r\n        }\r\n        if (this.region === 'west' || this.region === 'east') {\r\n            this.render2.setStyle(this.el.nativeElement, 'width', $event.size.width + 'px');\r\n        }\r\n    }\r\n\r\n    onResized($event: any) {\r\n        if (this.region === 'south' || this.region === 'north') {\r\n            this.height = $event.size.height;\r\n        }\r\n\r\n        if (this.region === 'west' || this.region === 'east') {\r\n            this.width = $event.size.width;\r\n        }\r\n\r\n        this.updatePanelSize($event);\r\n\r\n        this.layout.setPanelMaxSize();\r\n        this.resized.emit($event.size);\r\n        this.layout.getPanel('center').resized.emit($event.size);\r\n    }\r\n}\r\n\r\n@Component({\r\n    selector: 'layout-panel-title',\r\n    template: `\r\n        <div class=\"d-flex flex-row\" style=\"height: 28px; line-height: 28px\">\r\n            <div class=\"layout-panel-title\">\r\n                <span *ngIf=\"iconCls\" [class]=\"iconCls\"></span>\r\n                {{ title }}\r\n            </div>\r\n            <div class=\"layout-panel-title-tools flex-fill\">\r\n\r\n            </div>\r\n        </div>\r\n    `\r\n})\r\nexport class LayoutPanelTitleComponent {\r\n    @Input() title = '';\r\n    @Input() iconCls = '';\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { AngularDraggableModule } from '@farris/ui-draggable';\r\n\r\nimport { LayoutPanelComponent, LayoutPanelTitleComponent } from './panels/layout-panel.component';\r\nimport { LayoutComponent } from './layout.component';\r\n\r\n@NgModule({\r\n    imports: [\r\n        CommonModule,\r\n        AngularDraggableModule\r\n    ],\r\n    declarations: [LayoutComponent, LayoutPanelComponent, LayoutPanelTitleComponent],\r\n    exports: [LayoutComponent, AngularDraggableModule, LayoutPanelComponent],\r\n    providers: [],\r\n})\r\nexport class LayoutModule { }\r\n"],"names":["NgZone","Component","ViewEncapsulation","ElementRef","Renderer2","Injector","Input","HostBinding","EventEmitter","Output","ViewChild","AngularResizableDirective","NgModule","CommonModule","AngularDraggableModule"],"mappings":"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"}
