/**
 * @fileoverview added by tsickle
 * Generated from: lib/bif-manual-creation/service/bif-data-selector.service.ts
 * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { Injectable, ComponentFactoryResolver, Injector } from '@angular/core';
import { Subject } from 'rxjs';
import { FrameContext, ViewModel } from '@farris/devkit';
export class AbstractBifDataSelectorService {
    constructor() {
        /**
         * 实体数据Subject
         */
        this.subject4EntityDatas = new Subject();
    }
}
AbstractBifDataSelectorService.decorators = [
    { type: Injectable }
];
if (false) {
    /**
     * 实体数据Subject
     * @type {?}
     */
    AbstractBifDataSelectorService.prototype.subject4EntityDatas;
    /**
     * 数据选择器弹窗引用
     * @type {?}
     */
    AbstractBifDataSelectorService.prototype.bsModalRef4BifSelector;
    /**
     * 点击弹窗“确定”按钮操作
     * @type {?}
     */
    AbstractBifDataSelectorService.prototype.clickOk4BifSelector;
    /**
     * 点击弹窗“取消”按钮操作
     * @type {?}
     */
    AbstractBifDataSelectorService.prototype.clickClose4BifSelector;
}
export class DefaultBifDataSelectorService extends AbstractBifDataSelectorService {
    /**
     * @param {?} frameContext
     * @param {?} viewModel
     * @param {?} cfr
     * @param {?} injector
     */
    constructor(frameContext, viewModel, cfr, injector) {
        super();
        this.frameContext = frameContext;
        this.viewModel = viewModel;
        this.cfr = cfr;
        this.injector = injector;
        /**
         * 实体数据Subject
         */
        this.subject4EntityDatas = new Subject();
        /**
         * 点击弹窗“确定”按钮操作
         */
        this.clickOk4BifSelector = (/**
         * @return {?}
         */
        () => {
            //发送选中的来源单据实体列表并关闭模态框
            this.viewModel.frameContext.repository.getById(this.viewModel.bindingData.getObject().id).subscribe((/**
             * @param {?} e
             * @return {?}
             */
            (e) => {
                this.subject4EntityDatas.next([e]);
                this.subject4EntityDatas.complete();
                this.bsModalRef4BifSelector.close();
            }));
        });
        /**
         * 点击弹窗“取消”按钮操作
         */
        this.clickClose4BifSelector = (/**
         * @return {?}
         */
        () => {
            this.subject4EntityDatas.complete();
            this.bsModalRef4BifSelector.close();
        });
    }
}
DefaultBifDataSelectorService.decorators = [
    { type: Injectable }
];
/** @nocollapse */
DefaultBifDataSelectorService.ctorParameters = () => [
    { type: FrameContext },
    { type: ViewModel },
    { type: ComponentFactoryResolver },
    { type: Injector }
];
if (false) {
    /**
     * 实体数据Subject
     * @type {?}
     */
    DefaultBifDataSelectorService.prototype.subject4EntityDatas;
    /**
     * 数据选择器弹窗引用
     * @type {?}
     */
    DefaultBifDataSelectorService.prototype.bsModalRef4BifSelector;
    /**
     * 点击弹窗“确定”按钮操作
     * @type {?}
     */
    DefaultBifDataSelectorService.prototype.clickOk4BifSelector;
    /**
     * 点击弹窗“取消”按钮操作
     * @type {?}
     */
    DefaultBifDataSelectorService.prototype.clickClose4BifSelector;
    /** @type {?} */
    DefaultBifDataSelectorService.prototype.frameContext;
    /** @type {?} */
    DefaultBifDataSelectorService.prototype.viewModel;
    /** @type {?} */
    DefaultBifDataSelectorService.prototype.cfr;
    /** @type {?} */
    DefaultBifDataSelectorService.prototype.injector;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYmlmLWRhdGEtc2VsZWN0b3Iuc2VydmljZS5qcyIsInNvdXJjZVJvb3QiOiJuZzovL0BlZHAtYmlmL3J1bnRpbWUtYXBpLyIsInNvdXJjZXMiOlsibGliL2JpZi1tYW51YWwtY3JlYXRpb24vc2VydmljZS9iaWYtZGF0YS1zZWxlY3Rvci5zZXJ2aWNlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7O0FBQUEsT0FBTyxFQUFFLFVBQVUsRUFBRSx3QkFBd0IsRUFBRSxRQUFRLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFFL0UsT0FBTyxFQUFFLE9BQU8sRUFBRSxNQUFNLE1BQU0sQ0FBQztBQUUvQixPQUFPLEVBQVUsWUFBWSxFQUFFLFNBQVMsRUFBRSxNQUFNLGdCQUFnQixDQUFDO0FBR2pFLE1BQU0sT0FBTyw4QkFBOEI7SUFEM0M7Ozs7UUFLSSx3QkFBbUIsR0FBc0IsSUFBSSxPQUFPLEVBQUUsQ0FBQztJQWEzRCxDQUFDOzs7WUFsQkEsVUFBVTs7Ozs7OztJQUtQLDZEQUF1RDs7Ozs7SUFJdkQsZ0VBQW1DOzs7OztJQUluQyw2REFBZ0M7Ozs7O0lBSWhDLGdFQUFtQzs7QUFJdkMsTUFBTSxPQUFPLDZCQUE4QixTQUFRLDhCQUE4Qjs7Ozs7OztJQThCN0UsWUFDVyxZQUEwQixFQUMxQixTQUFvQixFQUNwQixHQUE2QixFQUM3QixRQUFrQjtRQUV6QixLQUFLLEVBQUUsQ0FBQztRQUxELGlCQUFZLEdBQVosWUFBWSxDQUFjO1FBQzFCLGNBQVMsR0FBVCxTQUFTLENBQVc7UUFDcEIsUUFBRyxHQUFILEdBQUcsQ0FBMEI7UUFDN0IsYUFBUSxHQUFSLFFBQVEsQ0FBVTs7OztRQTlCN0Isd0JBQW1CLEdBQXNCLElBQUksT0FBTyxFQUFFLENBQUM7Ozs7UUFRdkQsd0JBQW1COzs7UUFBZSxHQUFHLEVBQUU7WUFDbkMscUJBQXFCO1lBQ3JCLElBQUksQ0FBQyxTQUFTLENBQUMsWUFBWSxDQUFDLFVBQVUsQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxXQUFXLENBQUMsU0FBUyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsU0FBUzs7OztZQUMvRixDQUFDLENBQUMsRUFBRSxFQUFFO2dCQUNGLElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO2dCQUNuQyxJQUFJLENBQUMsbUJBQW1CLENBQUMsUUFBUSxFQUFFLENBQUM7Z0JBQ3BDLElBQUksQ0FBQyxzQkFBc0IsQ0FBQyxLQUFLLEVBQUUsQ0FBQztZQUN4QyxDQUFDLEVBQ0osQ0FBQztRQUNOLENBQUMsRUFBQzs7OztRQUlGLDJCQUFzQjs7O1FBQWUsR0FBRyxFQUFFO1lBQ3RDLElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxRQUFRLEVBQUUsQ0FBQztZQUNwQyxJQUFJLENBQUMsc0JBQXNCLENBQUMsS0FBSyxFQUFFLENBQUM7UUFDeEMsQ0FBQyxFQUFDO0lBU0YsQ0FBQzs7O1lBdENKLFVBQVU7Ozs7WUF0Qk0sWUFBWTtZQUFFLFNBQVM7WUFKbkIsd0JBQXdCO1lBQUUsUUFBUTs7Ozs7OztJQStCbkQsNERBQXVEOzs7OztJQUl2RCwrREFBbUM7Ozs7O0lBSW5DLDREQVNFOzs7OztJQUlGLCtEQUdFOztJQUdFLHFEQUFpQzs7SUFDakMsa0RBQTJCOztJQUMzQiw0Q0FBb0M7O0lBQ3BDLGlEQUF5QiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEluamVjdGFibGUsIENvbXBvbmVudEZhY3RvcnlSZXNvbHZlciwgSW5qZWN0b3IgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuaW1wb3J0IHsgSUJpZkRhdGFTZWxlY3RvckNvbXBvbmVudCB9IGZyb20gJy4uL2Jhc2UvSUJpZkRhdGFTZWxlY3RvckNvbXBvbmVudCc7XHJcbmltcG9ydCB7IFN1YmplY3QgfSBmcm9tICdyeGpzJztcclxuaW1wb3J0IHsgQnNNb2RhbFJlZiB9IGZyb20gJ0BmYXJyaXMvdWktbW9kYWwnO1xyXG5pbXBvcnQgeyBFbnRpdHksIEZyYW1lQ29udGV4dCwgVmlld01vZGVsIH0gZnJvbSAnQGZhcnJpcy9kZXZraXQnO1xyXG5cclxuQEluamVjdGFibGUoKVxyXG5leHBvcnQgY2xhc3MgQWJzdHJhY3RCaWZEYXRhU2VsZWN0b3JTZXJ2aWNlIGltcGxlbWVudHMgSUJpZkRhdGFTZWxlY3RvckNvbXBvbmVudCB7XHJcbiAgICAvKipcclxuICAgICAqIOWunuS9k+aVsOaNrlN1YmplY3RcclxuICAgICAqL1xyXG4gICAgc3ViamVjdDRFbnRpdHlEYXRhczogU3ViamVjdDxFbnRpdHlbXT4gPSBuZXcgU3ViamVjdCgpO1xyXG4gICAgLyoqXHJcbiAgICAgKiDmlbDmja7pgInmi6nlmajlvLnnqpflvJXnlKhcclxuICAgICAqL1xyXG4gICAgYnNNb2RhbFJlZjRCaWZTZWxlY3RvcjogQnNNb2RhbFJlZjtcclxuICAgIC8qKlxyXG4gICAgICog54K55Ye75by556qX4oCc56Gu5a6a4oCd5oyJ6ZKu5pON5L2cXHJcbiAgICAgKi9cclxuICAgIGNsaWNrT2s0QmlmU2VsZWN0b3I6ICgpID0+IHZvaWQ7XHJcbiAgICAvKipcclxuICAgICAqIOeCueWHu+W8ueeql+KAnOWPlua2iOKAneaMiemSruaTjeS9nFxyXG4gICAgICovXHJcbiAgICBjbGlja0Nsb3NlNEJpZlNlbGVjdG9yOiAoKSA9PiB2b2lkO1xyXG59XHJcblxyXG5ASW5qZWN0YWJsZSgpXHJcbmV4cG9ydCBjbGFzcyBEZWZhdWx0QmlmRGF0YVNlbGVjdG9yU2VydmljZSBleHRlbmRzIEFic3RyYWN0QmlmRGF0YVNlbGVjdG9yU2VydmljZSB7XHJcbiAgICAvKipcclxuICAgICAqIOWunuS9k+aVsOaNrlN1YmplY3RcclxuICAgICAqL1xyXG4gICAgc3ViamVjdDRFbnRpdHlEYXRhczogU3ViamVjdDxFbnRpdHlbXT4gPSBuZXcgU3ViamVjdCgpO1xyXG4gICAgLyoqXHJcbiAgICAgKiDmlbDmja7pgInmi6nlmajlvLnnqpflvJXnlKhcclxuICAgICAqL1xyXG4gICAgYnNNb2RhbFJlZjRCaWZTZWxlY3RvcjogQnNNb2RhbFJlZjtcclxuICAgIC8qKlxyXG4gICAgICog54K55Ye75by556qX4oCc56Gu5a6a4oCd5oyJ6ZKu5pON5L2cXHJcbiAgICAgKi9cclxuICAgIGNsaWNrT2s0QmlmU2VsZWN0b3I6ICgpID0+IHZvaWQgPSAoKSA9PiB7XHJcbiAgICAgICAgLy/lj5HpgIHpgInkuK3nmoTmnaXmupDljZXmja7lrp7kvZPliJfooajlubblhbPpl63mqKHmgIHmoYZcclxuICAgICAgICB0aGlzLnZpZXdNb2RlbC5mcmFtZUNvbnRleHQucmVwb3NpdG9yeS5nZXRCeUlkKHRoaXMudmlld01vZGVsLmJpbmRpbmdEYXRhLmdldE9iamVjdCgpLmlkKS5zdWJzY3JpYmUoXHJcbiAgICAgICAgICAgIChlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnN1YmplY3Q0RW50aXR5RGF0YXMubmV4dChbZV0pO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zdWJqZWN0NEVudGl0eURhdGFzLmNvbXBsZXRlKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmJzTW9kYWxSZWY0QmlmU2VsZWN0b3IuY2xvc2UoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiDngrnlh7vlvLnnqpfigJzlj5bmtojigJ3mjInpkq7mk43kvZxcclxuICAgICAqL1xyXG4gICAgY2xpY2tDbG9zZTRCaWZTZWxlY3RvcjogKCkgPT4gdm9pZCA9ICgpID0+IHtcclxuICAgICAgICB0aGlzLnN1YmplY3Q0RW50aXR5RGF0YXMuY29tcGxldGUoKTtcclxuICAgICAgICB0aGlzLmJzTW9kYWxSZWY0QmlmU2VsZWN0b3IuY2xvc2UoKTtcclxuICAgIH07XHJcblxyXG4gICAgY29uc3RydWN0b3IoXHJcbiAgICAgICAgcHVibGljIGZyYW1lQ29udGV4dDogRnJhbWVDb250ZXh0LFxyXG4gICAgICAgIHB1YmxpYyB2aWV3TW9kZWw6IFZpZXdNb2RlbCxcclxuICAgICAgICBwdWJsaWMgY2ZyOiBDb21wb25lbnRGYWN0b3J5UmVzb2x2ZXIsXHJcbiAgICAgICAgcHVibGljIGluamVjdG9yOiBJbmplY3RvcixcclxuICAgICkge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICB9XHJcbn0iXX0=