/**
 * @fileoverview added by tsickle
 * Generated from: lib/bill-tracker/mxgraph-ext/VertexHandler.ts
 * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { mxConstants, mxRectangle, mxRectangleShape, mxVertexHandler } from "../../ref/mxgraph";
import { BillCell } from "./BillCell";
export class VertexHandler extends mxVertexHandler {
    /**
     * @param {?} state
     */
    constructor(state) {
        super(state);
    }
    /**
     * 选中框随节点大小变化
     * @param {?} state
     * @return {?}
     */
    getSelectionBounds(state) {
        return super.getSelectionBounds(state);
    }
    /**
     * 仅显示四个角的调整大小图片
     * @return {?}
     */
    redrawHandles() {
        super.redrawHandles();
        if (this.sizers != null && this.sizers.length > 7) {
            this.sizers[1].node.style.display = 'none';
            this.sizers[3].node.style.display = 'none';
            this.sizers[4].node.style.display = 'none';
            this.sizers[6].node.style.display = 'none';
        }
    }
    /**
     * 创建圆角矩形选中框
     * @param {?} bounds
     * @return {?}
     */
    createSelectionShape(bounds) {
        if (this.state.cell instanceof BillCell) {
            /** @type {?} */
            let shape = new mxRectangleShape(mxRectangle.fromRectangle(bounds), null, this.getSelectionColor());
            shape.strokewidth = this.getSelectionStrokeWidth();
            shape.isDashed = this.isSelectionDashed();
            shape.isRounded = true;
            shape.style = shape.style || [];
            // todo: 直接使用4°并不合理，只是视觉上看起来像，放大至足够大还是有问题
            shape.style[mxConstants.STYLE_ARCSIZE] = 4 * this.state.view.scale;
            return shape;
        }
        return super.createSelectionShape(bounds);
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiVmVydGV4SGFuZGxlci5qcyIsInNvdXJjZVJvb3QiOiJuZzovL0BlZHAtYmlmL3J1bnRpbWUtYXBpLyIsInNvdXJjZXMiOlsibGliL2JpbGwtdHJhY2tlci9teGdyYXBoLWV4dC9WZXJ0ZXhIYW5kbGVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7O0FBQUEsT0FBTyxFQUFFLFdBQVcsRUFBRSxXQUFXLEVBQUUsZ0JBQWdCLEVBQUUsZUFBZSxFQUFFLE1BQU0sbUJBQW1CLENBQUM7QUFDaEcsT0FBTyxFQUFFLFFBQVEsRUFBRSxNQUFNLFlBQVksQ0FBQztBQUV0QyxNQUFNLE9BQU8sYUFBYyxTQUFRLGVBQWU7Ozs7SUFFOUMsWUFBWSxLQUFLO1FBQ2IsS0FBSyxDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQ2pCLENBQUM7Ozs7OztJQU9ELGtCQUFrQixDQUFDLEtBQUs7UUFDcEIsT0FBTyxLQUFLLENBQUMsa0JBQWtCLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDM0MsQ0FBQzs7Ozs7SUFLRCxhQUFhO1FBQ1QsS0FBSyxDQUFDLGFBQWEsRUFBRSxDQUFDO1FBRXRCLElBQUksSUFBSSxDQUFDLE1BQU0sSUFBSSxJQUFJLElBQUksSUFBSSxDQUFDLE1BQU0sQ0FBQyxNQUFNLEdBQUcsQ0FBQyxFQUFFO1lBQy9DLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxPQUFPLEdBQUcsTUFBTSxDQUFDO1lBQzNDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxPQUFPLEdBQUcsTUFBTSxDQUFDO1lBQzNDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxPQUFPLEdBQUcsTUFBTSxDQUFDO1lBQzNDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxPQUFPLEdBQUcsTUFBTSxDQUFDO1NBQzlDO0lBQ0wsQ0FBQzs7Ozs7O0lBT0Qsb0JBQW9CLENBQUMsTUFBTTtRQUN2QixJQUFJLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxZQUFZLFFBQVEsRUFBRTs7Z0JBQ2pDLEtBQUssR0FBRyxJQUFJLGdCQUFnQixDQUM1QixXQUFXLENBQUMsYUFBYSxDQUFDLE1BQU0sQ0FBQyxFQUNqQyxJQUFJLEVBQUUsSUFBSSxDQUFDLGlCQUFpQixFQUFFLENBQUM7WUFDbkMsS0FBSyxDQUFDLFdBQVcsR0FBRyxJQUFJLENBQUMsdUJBQXVCLEVBQUUsQ0FBQztZQUNuRCxLQUFLLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQyxpQkFBaUIsRUFBRSxDQUFDO1lBQzFDLEtBQUssQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDO1lBQ3ZCLEtBQUssQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDLEtBQUssSUFBSSxFQUFFLENBQUM7WUFDaEMseUNBQXlDO1lBQ3pDLEtBQUssQ0FBQyxLQUFLLENBQUMsV0FBVyxDQUFDLGFBQWEsQ0FBQyxHQUFHLENBQUMsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUM7WUFFbkUsT0FBTyxLQUFLLENBQUM7U0FDaEI7UUFDRCxPQUFPLEtBQUssQ0FBQyxvQkFBb0IsQ0FBQyxNQUFNLENBQUMsQ0FBQztJQUM5QyxDQUFDO0NBQ0oiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBteENvbnN0YW50cywgbXhSZWN0YW5nbGUsIG14UmVjdGFuZ2xlU2hhcGUsIG14VmVydGV4SGFuZGxlciB9IGZyb20gXCIuLi8uLi9yZWYvbXhncmFwaFwiO1xyXG5pbXBvcnQgeyBCaWxsQ2VsbCB9IGZyb20gXCIuL0JpbGxDZWxsXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgVmVydGV4SGFuZGxlciBleHRlbmRzIG14VmVydGV4SGFuZGxlciB7XHJcblxyXG4gICAgY29uc3RydWN0b3Ioc3RhdGUpIHtcclxuICAgICAgICBzdXBlcihzdGF0ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDpgInkuK3moYbpmo/oioLngrnlpKflsI/lj5jljJZcclxuICAgICAqIEBwYXJhbSBzdGF0ZSBcclxuICAgICAqIEByZXR1cm5zIFxyXG4gICAgICovXHJcbiAgICBnZXRTZWxlY3Rpb25Cb3VuZHMoc3RhdGUpIHtcclxuICAgICAgICByZXR1cm4gc3VwZXIuZ2V0U2VsZWN0aW9uQm91bmRzKHN0YXRlKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOS7heaYvuekuuWbm+S4quinkueahOiwg+aVtOWkp+Wwj+WbvueJh1xyXG4gICAgICovXHJcbiAgICByZWRyYXdIYW5kbGVzKCkge1xyXG4gICAgICAgIHN1cGVyLnJlZHJhd0hhbmRsZXMoKTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuc2l6ZXJzICE9IG51bGwgJiYgdGhpcy5zaXplcnMubGVuZ3RoID4gNykge1xyXG4gICAgICAgICAgICB0aGlzLnNpemVyc1sxXS5ub2RlLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgICAgICAgICAgIHRoaXMuc2l6ZXJzWzNdLm5vZGUuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICAgICAgICAgICAgdGhpcy5zaXplcnNbNF0ubm9kZS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG4gICAgICAgICAgICB0aGlzLnNpemVyc1s2XS5ub2RlLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5Yib5bu65ZyG6KeS55+p5b2i6YCJ5Lit5qGGXHJcbiAgICAgKiBAcGFyYW0gYm91bmRzIFxyXG4gICAgICogQHJldHVybnMgXHJcbiAgICAgKi9cclxuICAgIGNyZWF0ZVNlbGVjdGlvblNoYXBlKGJvdW5kcykge1xyXG4gICAgICAgIGlmICh0aGlzLnN0YXRlLmNlbGwgaW5zdGFuY2VvZiBCaWxsQ2VsbCkge1xyXG4gICAgICAgICAgICBsZXQgc2hhcGUgPSBuZXcgbXhSZWN0YW5nbGVTaGFwZShcclxuICAgICAgICAgICAgICAgIG14UmVjdGFuZ2xlLmZyb21SZWN0YW5nbGUoYm91bmRzKSxcclxuICAgICAgICAgICAgICAgIG51bGwsIHRoaXMuZ2V0U2VsZWN0aW9uQ29sb3IoKSk7XHJcbiAgICAgICAgICAgIHNoYXBlLnN0cm9rZXdpZHRoID0gdGhpcy5nZXRTZWxlY3Rpb25TdHJva2VXaWR0aCgpO1xyXG4gICAgICAgICAgICBzaGFwZS5pc0Rhc2hlZCA9IHRoaXMuaXNTZWxlY3Rpb25EYXNoZWQoKTtcclxuICAgICAgICAgICAgc2hhcGUuaXNSb3VuZGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgc2hhcGUuc3R5bGUgPSBzaGFwZS5zdHlsZSB8fCBbXTtcclxuICAgICAgICAgICAgLy8gdG9kbzog55u05o6l5L2/55SoNMKw5bm25LiN5ZCI55CG77yM5Y+q5piv6KeG6KeJ5LiK55yL6LW35p2l5YOP77yM5pS+5aSn6Iez6Laz5aSf5aSn6L+Y5piv5pyJ6Zeu6aKYXHJcbiAgICAgICAgICAgIHNoYXBlLnN0eWxlW214Q29uc3RhbnRzLlNUWUxFX0FSQ1NJWkVdID0gNCAqIHRoaXMuc3RhdGUudmlldy5zY2FsZTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiBzaGFwZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHN1cGVyLmNyZWF0ZVNlbGVjdGlvblNoYXBlKGJvdW5kcyk7XHJcbiAgICB9XHJcbn0iXX0=