{"version":3,"file":"gsp-cmp-ubcc-param-data-ui.js.map","sources":["ng://@gsp-cmp/ubcc-param-data-ui/lib/ubcc-param-data-ui/ubcc-param-data-ui.component.ts","ng://@gsp-cmp/ubcc-param-data-ui/lib/service/http-service.ts","ng://@gsp-cmp/ubcc-param-data-ui/lib/utils/param-data-utils.ts","ng://@gsp-cmp/ubcc-param-data-ui/lib/ubcc-param-data-ui-dialog/ubcc-param-data-ui-dialog.component.ts","ng://@gsp-cmp/ubcc-param-data-ui/lib/ubcc-param-dimension-ui-root/ubcc-param-dimension-ui-root.component.ts","ng://@gsp-cmp/ubcc-param-data-ui/lib/service/event-bus-service.ts","ng://@gsp-cmp/ubcc-param-data-ui/lib/ubcc-param-data-ui-root.component.ts","ng://@gsp-cmp/ubcc-param-data-ui/lib/service/lookup-http-service.ts","ng://@gsp-cmp/ubcc-param-data-ui/lib/common/look-up-binding-fields.ts","ng://@gsp-cmp/ubcc-param-data-ui/lib/controls/dimension-control/dimension-lookup-control/dimension-lookup-control.component.ts","ng://@gsp-cmp/ubcc-param-data-ui/lib/controls/dimension-control/dimension-dropdownlist-control/dimension-dropdownlist-control.component.ts","ng://@gsp-cmp/ubcc-param-data-ui/lib/controls/dimension-control/dimension-input-control/dimension-input-control.component.ts","ng://@gsp-cmp/ubcc-param-data-ui/lib/controls/param-control/checkbox-control/checkbox-control.component.ts","ng://@gsp-cmp/ubcc-param-data-ui/lib/controls/param-control/input-control/input-control.component.ts","ng://@gsp-cmp/ubcc-param-data-ui/lib/controls/param-control/date-control/date-control.component.ts","ng://@gsp-cmp/ubcc-param-data-ui/lib/controls/param-control/dropdownlist-control/dropdownlist-control.component.ts","ng://@gsp-cmp/ubcc-param-data-ui/lib/controls/param-control/lookup-control/lookup-control.component.ts","ng://@gsp-cmp/ubcc-param-data-ui/lib/controls/param-control/number-control/number-control.component.ts","ng://@gsp-cmp/ubcc-param-data-ui/lib/ubcc-param-data-ui.service.ts","ng://@gsp-cmp/ubcc-param-data-ui/lib/ubcc-param-dimension-ui/ubcc-param-dimension-ui.component.ts","ng://@gsp-cmp/ubcc-param-data-ui/lib/ubcc-param-data-ui-root.module.ts","ng://@gsp-cmp/ubcc-param-data-ui/lib/common/dialog-result.ts"],"sourcesContent":["import { Component, OnInit, Input, ViewEncapsulation } from '@angular/core';\nimport { UbccParamTemplate, ParameterGroup } from '@gsp-cmp/ubcc-param-vo';\nimport { DataTypeConst } from '@ecp-caf/common-structure';\n\n@Component({\n    selector: 'lib-ubcc-param-data-ui',\n    templateUrl: './ubcc-param-data-ui.component.html',\n    styleUrls: ['./ubcc-param-data-ui.component.css'],\n    encapsulation:ViewEncapsulation.None\n})\nexport class UbccParamDataUiComponent implements OnInit {\n\n    @Input() template:UbccParamTemplate;\n\n    @Input() paramDataItems:any=[];\n\n    @Input() canEdit:boolean=true;\n\n    constructor() { }\n\n    ngOnInit() {\n        this.template=this.template||new UbccParamTemplate();\n        this.template.params=this.template.params||[];\n        this.template.groups=this.template.groups||[];\n    }\n\n    getControlType(param:any){\n        if(!param||!param.parameterType||!param.parameterTypeDesc){\n            return;\n        }\n        switch(param.parameterTypeDesc){\n            case 'string':\n                return 'input';\n            case 'bool':\n                return 'checkbox';\n            case 'double':\n            case 'int':\n                return 'number';\n            case 'datetime':\n                return 'date';\n            case 'enum':\n                return 'dropdownlist';\n            case 'help':\n                return 'lookup';\n            default:\n                return 'input';\n        }\n    }\n\n    getParamItems(group:ParameterGroup){\n        return this.paramDataItems.filter(x=>x.groupId===group.groupId);\n    }\n\n    getIndex(group:ParameterGroup,index:number){\n        let currentGroupParams=this.getParamItems(group);\n        let currentParam= this.paramDataItems.find(x=>x.id===currentGroupParams[index].id);\n        let realIndex= this.paramDataItems.findIndex(x=>x.id===currentParam.id);\n        return realIndex;\n    }\n\n    show(param:any){\n        return param.visible||false;\n    }\n\n    isCollection(param:any){\n        if(!param||!param.parameterType){\n            return false;\n        }\n        if(param.parameterType.getKind()===DataTypeConst.DEFAULT_COLLECTION){\n            return true;\n        }\n        else{\n            return false;\n        }\n    }\n\n}\n","import { Injectable } from '@angular/core';\r\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\r\nimport { SessionService } from '@ecp-caf/caf-common';\r\nimport { Observable } from 'rxjs';\r\nimport { DataItem } from '@gsp-cmp/ubcc-param-vo';\r\n\r\nconst UBCC_PARAM_TEMPLATE_ROUTER = '/api/runtime/bcc/v1.0/param/template/definition';\r\nconst UBCC_PARAM_TEMPLATE_GET_BY_ID = `${UBCC_PARAM_TEMPLATE_ROUTER}/{id}`;\r\n\r\nconst UBCC_PARAM_DATA_ROUTER = '/api/runtime/bcc/v1.0/param/data';\r\n\r\nconst UBCC_PARAM_DATA = UBCC_PARAM_DATA_ROUTER;\r\nconst UBCC_PARAM_DATA_DIMENSION = `${UBCC_PARAM_DATA_ROUTER}/dimensionalData`;\r\n\r\nconst UBCC_PARAM_DATA_GET_BY_ID = `${UBCC_PARAM_DATA_ROUTER}/{templateId}/{bizTypeId}`;\r\nconst UBCC_DIMENSION_PARAM_DATA_GET_BY_ID = `${UBCC_PARAM_DATA_ROUTER}/{templateId}/{bizTypeId}/dimensions/paramdatas`;\r\n\r\nconst UBCC_PARAM_HELP_DATA_ROUTER = `/api/runtime/bcc/v1.0/param/help/{helpId}/{dataIds}`;\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class UbccParamDataManangerService {\r\n\r\n    httpHeaders: HttpHeaders;\r\n\r\n    constructor(private http: HttpClient, private cache: SessionService) {\r\n        this.httpHeaders = new HttpHeaders();\r\n        this.httpHeaders.set(\"sessionid\", this.cache.getUserSessionId());\r\n    }\r\n\r\n    getParamTemplate(id: string): Observable<any> {\r\n        let url = UBCC_PARAM_TEMPLATE_GET_BY_ID.replace('{id}', id);\r\n        return this.http.get(url, { headers: this.httpHeaders });\r\n    }\r\n\r\n    getParamData(templateId: string, bizTypeId: string): Observable<any> {\r\n        let url = UBCC_PARAM_DATA_GET_BY_ID.replace('{templateId}', templateId).replace('{bizTypeId}', bizTypeId);\r\n        return this.http.get(url, { headers: this.httpHeaders });\r\n    }\r\n\r\n    getDimensionData(templateId: string, bizTypeId: string, dimension1: string,dimension2:string,dimensionCount:number): Observable<any> {\r\n        let url = UBCC_DIMENSION_PARAM_DATA_GET_BY_ID.replace('{templateId}', templateId).replace('{bizTypeId}', bizTypeId);\r\n        if(dimensionCount===1){\r\n            url=`${url}?dimension1=${dimension1}&dimensionCount=${dimensionCount}`;\r\n        }\r\n        if(dimensionCount===2){\r\n            url=`${url}?dimension1=${dimension1}&dimension2=${dimension2}&dimensionCount=${dimensionCount}`;\r\n        }\r\n        return this.http.get(url, { headers: this.httpHeaders });\r\n    }\r\n\r\n    saveDimensionAndParamData(templateId: string, bizTypeId: string, dimensionValues: Array<DataItem>, paramValues: Array<DataItem>): Observable<any> {\r\n        let url = UBCC_PARAM_DATA_DIMENSION;\r\n        let body = {\r\n            templateId: templateId,\r\n            bizTypeId: bizTypeId,\r\n            dimensionValues: dimensionValues,\r\n            paramValues: paramValues\r\n        }\r\n        return this.http.post(url, body, { headers: this.httpHeaders });\r\n    }\r\n\r\n    saveParamData(templateId: string, bizTypeId: string, paramValues: Array<DataItem>): Observable<any> {\r\n        let url = UBCC_PARAM_DATA;\r\n        let body = {\r\n            templateId: templateId,\r\n            bizTypeId: bizTypeId,\r\n            paramValues: paramValues\r\n        }\r\n        return this.http.post(url, body, { headers: this.httpHeaders });\r\n    }\r\n\r\n    getHelpData(helpId: string, dataIds: Array<string>) {\r\n        let url = UBCC_PARAM_HELP_DATA_ROUTER.replace('{helpId}', helpId).replace('{dataIds}', dataIds.join(','));\r\n        return this.http.get(url, { headers: this.httpHeaders });\r\n    }\r\n}","import { Injectable, TemplateRef } from '@angular/core';\r\nimport { MessagerService } from '@farris/ui-messager';\r\nimport { NotifyService, NotifyOptions } from '@farris/ui-notify';\r\nimport { IDataType, DataTypeConst, CollectionType } from '@ecp-caf/common-structure';\r\nimport { DataTypeExtensionConst, StructureTypeRef, StructureTypeRefEnum } from '@gsp-cmp/ubcc-param-vo';\r\n\r\n@Injectable({\r\n    providedIn: 'root'\r\n})\r\nexport class UbccParamDataUtils {\r\n\r\n    constructor(private messagerService:MessagerService,private notify:NotifyService){}\r\n\r\n\r\n    public isHelpType(dataType:IDataType){\r\n        if(!dataType){\r\n            return false;\r\n        }\r\n        if(this.isCollection(dataType)){\r\n            let elementType=this.getCollectionElementType(dataType);\r\n            return this.isHelpTypeRef(elementType);\r\n        }\r\n        else{\r\n            return this.isHelpTypeRef(dataType);\r\n        }\r\n    }\r\n\r\n    public isHelpTypeRef(dataType:IDataType){\r\n        let kind=dataType.getKind();\r\n        if(!kind){\r\n            return false;\r\n        }\r\n        if(kind===DataTypeExtensionConst.UBCC_STRUCTURE_TYPE_REF){\r\n            let refType=dataType as StructureTypeRef;\r\n            if(refType.type===StructureTypeRefEnum.HELP){\r\n                return true;\r\n            }\r\n            else{\r\n                return false;\r\n            }\r\n        }\r\n        else{\r\n            return false;\r\n        }\r\n    }\r\n\r\n    // private getHelpData(data:any,paramDataItem:any){\r\n    //     if(!data.dataValue){\r\n    //         return;\r\n    //     }\r\n    //     if (data.dataValueText) {\r\n    //         paramDataItem.valueText = data.dataValueText;\r\n    //     }\r\n    //     else {\r\n    //         let dataId = data.dataValue.split(',');\r\n    //         let helpId=this.getHelpId(paramDataItem.parameterType);\r\n    //         this.http.getHelpData(helpId, dataId).subscribe(\r\n    //             (helpDataItems: Array<HelpDataItem>) => {\r\n    //                 if (!helpDataItems) {\r\n    //                     return;\r\n    //                 }\r\n    //                 let texts=[];\r\n    //                 helpDataItems.map(helpDataItem => texts.push(helpDataItem.text));\r\n    //                 paramDataItem.valueText=texts.join(',');\r\n    //             }\r\n    //         );\r\n    //     }\r\n    // }\r\n\r\n    // private getHelpId(dataType:IDataType){\r\n    //     if(this.isCollection(dataType)){\r\n    //         let refType=this.getCollectionElementType(dataType) as StructureTypeRef;\r\n    //         return refType&&refType.refId?refType.refId:null;\r\n    //     }\r\n    //     else{\r\n    //         let refType=dataType as StructureTypeRef;\r\n    //         return refType&&refType.refId?refType.refId:null;\r\n    //     }\r\n    // }\r\n\r\n    public getCollectionElementType(dataType: IDataType) {\r\n        let kind = dataType.getKind();\r\n        switch (kind) {\r\n            case DataTypeConst.DEFAULT_COLLECTION:\r\n                let elementType = (dataType as CollectionType).elementType;\r\n                return this.getCollectionElementType(elementType);\r\n            default:\r\n                return dataType;\r\n        }\r\n    }\r\n\r\n    public isCollection(dataType:IDataType) {\r\n        if(!dataType){\r\n            return false;\r\n        }\r\n        if (dataType.getKind() === DataTypeConst.DEFAULT_COLLECTION) {\r\n            return true;\r\n        }\r\n        else {\r\n            return false;\r\n        }\r\n    }\r\n\r\n    public getModalConfig(btnRef: TemplateRef<any>) {\r\n        return {\r\n            title: 'åæ°éç½®',\r\n            width: 650,\r\n            height: 560,\r\n            resizable:true,\r\n            showButtons: true,\r\n            showMaxButton: false,\r\n            enableScroll: false,\r\n            buttons: btnRef\r\n        };\r\n    }\r\n\r\n    public showInfo(message: string, infoType: string, title: string, timeout: number) {\r\n        this.notify.config.position = 'top-center';\r\n        if (infoType == 'success') {\r\n            this.notify.success(<NotifyOptions>{ title: title, msg: message, timeout: timeout });\r\n        }\r\n        else if (infoType == 'info') {\r\n            this.notify.info(<NotifyOptions>{ title: title, msg: message, timeout: timeout });\r\n        }\r\n        else if (infoType == 'warning') {\r\n            this.notify.warning(<NotifyOptions>{ title: title, msg: message, timeout: timeout });\r\n        }\r\n        else if (infoType == 'error') {\r\n            this.notify.error(<NotifyOptions>{ title: title, msg: message, timeout: timeout });\r\n        }\r\n    }\r\n\r\n    newGuid() {\r\n        return (this.s4() + this.s4() + \"-\" + this.s4() + \"-\" + this.s4() + \"-\" + this.s4() + \"-\" + this.s4() + this.s4() + this.s4());\r\n    }\r\n\r\n    s4() {\r\n        return (((1 + Math.random()) * 0x10000) | 0).toString(16).substring(1);\r\n    }\r\n\r\n}","import { Component, OnInit, Output, EventEmitter, Input, TemplateRef, ViewChild } from '@angular/core';\nimport { UbccParamTemplate, UbccParamTemplateVo, UbccParamTemplateSerializer, StructureTypeRef } from '@gsp-cmp/ubcc-param-vo';\nimport { BsModalRef } from '@farris/ui-modal';\nimport { UbccParamDataManangerService } from '../service/http-service';\nimport { Parameter, DataTypeConst } from '@ecp-caf/common-structure';\nimport { BaseParamData } from '../common/parameter-data/base-param-data';\nimport { HelpDataItem } from '../common/help-data-item/help-data-item';\nimport { UbccParamDataUtils } from '../utils/param-data-utils';\n\n@Component({\n    selector: 'lib-ubcc-param-data-ui-dialog',\n    templateUrl: './ubcc-param-data-ui-dialog.component.html',\n    styleUrls: ['./ubcc-param-data-ui-dialog.component.css']\n})\nexport class UbccParamDataUiDialogComponent implements OnInit {\n\n    template: UbccParamTemplate;\n\n    _data: any;\n\n    @Input() templateId: string;\n\n    /**\n     * è¾å¥æ°æ®ä¸ºJSONå¯¹è±¡\n     */\n    @Input() set data(data: any) {\n        this._data = data;\n        this.loadParamData(this.templateId);\n    }\n\n    paramDataItems: Array<Parameter> = [];\n\n    @Output() confirmEmitter: EventEmitter<any> = new EventEmitter<any>();\n\n    @Output() closeEmitter: EventEmitter<any> = new EventEmitter<any>();\n\n    @ViewChild('btnRef') btnRef: TemplateRef<any>;\n\n    dialog: BsModalRef;\n\n    constructor(\n        private utils:UbccParamDataUtils,\n        private http: UbccParamDataManangerService) { }\n\n    ngOnInit() {\n        this.template = this.template || new UbccParamTemplate();\n    }\n\n    private loadParamData(templateId: string) {\n        if (!templateId) {\n            return;\n        }\n        this.http.getParamTemplate(templateId).subscribe(\n            (vo: UbccParamTemplateVo) => {\n                if (!vo.content) {\n                    return;\n                }\n                let serializer = new UbccParamTemplateSerializer();\n                this.template = serializer.deserializer(JSON.parse(vo.content));\n                this.getParamDataItemsStructure();\n                this.convertJsonToParamData();\n            }\n        )\n    }\n\n    private convertJsonToParamData() {\n        if (!this._data || Object.keys(this._data).length <= 0) {\n            return;\n        }\n        this.paramDataItems.map((item: BaseParamData) => {\n            let key = Object.keys(this._data).find(x => x === item.code);\n            if (!key || !this._data[key]) {\n                return;\n            }\n            if (this.isCollection(item)) {\n                //åæ°çå¼å¦ææ¯æ°ç»ï¼ä»¥éå·éå¼\n                item.value = this._data[key].join(',');\n                if (!this.utils.isHelpType(item.parameterType)) {\n                    return;\n                }\n                let helpId = (this.utils.getCollectionElementType(item.parameterType) as StructureTypeRef).refId;\n                this.http.getHelpData(helpId, this._data[key]).subscribe(\n                    (result: Array<HelpDataItem>) => {\n                        if (!result || result.length <= 0) {\n                            return;\n                        }\n                        let values = [];\n                        result.map(resItem => values.push(resItem.text));\n                        item.valueText = values.join(',');\n                    }\n                )\n            }\n            else {\n                item.value = this._data[key];\n                if (item.parameterTypeDesc !== 'help') {\n                    return;\n                }\n                let helpId = (item.parameterType as StructureTypeRef).refId;\n                this.http.getHelpData(helpId, [item.value]).subscribe(\n                    (result: Array<HelpDataItem>) => {\n                        if (!result || result.length <= 0) {\n                            return;\n                        }\n                        item.valueText = result[0].text;\n                    }\n                )\n            }\n        })\n    }\n\n    private getParamDataItemsStructure() {\n        if (!this.template || !this.template.params) {\n            return;\n        }\n        this.paramDataItems = [];\n        this.template.params.map(x => this.paramDataItems.push(x));\n    }\n\n    private covertParamDataToJson() {\n        if (!this.paramDataItems || this.paramDataItems.length <= 0) {\n            return null;\n        }\n        let object = new Object();\n        this.paramDataItems.map((item: BaseParamData) => {\n            if (this.isCollection(item)) {\n                object[item.code] = [];\n                let itemValues = item.value.split(',');\n                if (!itemValues || itemValues.length <= 0) {\n                    return;\n                }\n                itemValues.map(itemValue => object[item.code].push(itemValue));\n                //å¸®å©nameèµå¼\n                if (item.parameterTypeDesc === 'help') {\n                    object[`${item.code}_name`] = [];\n                    let itemTextValues = item.valueText.split(',');\n                    if (!itemTextValues || itemTextValues.length <= 0) {\n                        return;\n                    }\n                    itemTextValues.map(itemTextValue => object[`${item.code}_name`].push(itemTextValue));\n                }\n            }\n            else {\n                object[item.code] = item.value;\n                //å¸®å©nameèµå¼\n                if (item.parameterTypeDesc === 'help') {\n                    object[`${item.code}_name`] = item.valueText;\n                }\n            }\n        })\n        return object;\n    }\n\n    close = () => {\n        if (this.dialog) {\n            this.dialog.close();\n        }\n        this.closeEmitter.emit();\n    }\n\n    confirm() {\n        let jsonData = this.covertParamDataToJson();\n        this.confirmEmitter.emit(jsonData);\n    }\n\n    private isCollection(param: any) {\n        if (!param || !param.parameterType) {\n            return false;\n        }\n        if (param.parameterType.getKind() === DataTypeConst.DEFAULT_COLLECTION) {\n            return true;\n        }\n        else {\n            return false;\n        }\n    }\n\n}\n","import { Component, OnInit, Input } from '@angular/core';\nimport { UbccParamTemplate } from '@gsp-cmp/ubcc-param-vo';\n\n@Component({\n    selector: 'lib-ubcc-param-dimension-ui-root',\n    templateUrl: './ubcc-param-dimension-ui-root.component.html',\n    styleUrls: ['./ubcc-param-dimension-ui-root.component.css']\n})\nexport class UbccParamDimensionUiRootComponent implements OnInit {\n\n    @Input() template: UbccParamTemplate;\n\n    @Input() dimensionItemDatas: any=[];\n\n    @Input() paramDataItems:any=[];\n\n    @Input() canEdit:boolean=true;\n\n    constructor() { }\n\n    ngOnInit() {\n        this.template=this.template||new UbccParamTemplate();\n    }\n\n}\n","import { Injectable, EventEmitter } from '@angular/core';\r\n\r\n@Injectable()\r\nexport class UbccEventBusService{\r\n    public ebs: EventEmitter<any> = new EventEmitter<any>();\r\n}","import { Component, OnInit, Input, ViewChild, ViewContainerRef, OnDestroy, ComponentFactoryResolver, ChangeDetectorRef, Type, Injector } from '@angular/core';\r\nimport { UbccParamTemplate, UbccParamTemplateAssignment, UbccParamTemplateVo, UbccParamTemplateSerializer, DataItem, DataTypeExtensionConst, StructureTypeRef, HelpType, StructureTypeRefEnum, UbccParamTemplateAssignmentSerializer } from '@gsp-cmp/ubcc-param-vo';\r\nimport { UbccParamDataManangerService } from './service/http-service';\r\nimport { UbccParamDataUiComponent } from './ubcc-param-data-ui/ubcc-param-data-ui.component';\r\nimport { UbccParamDimensionUiRootComponent } from './ubcc-param-dimension-ui-root/ubcc-param-dimension-ui-root.component';\r\nimport { Parameter, DataTypeConst, IDataType, CollectionType, PrimitiveType, PrimitiveTypeKind, DataType } from '@ecp-caf/common-structure';\r\nimport { BaseParamData } from './common/parameter-data/base-param-data';\r\nimport { DimensionItemData } from './common/dimension-item-data/dimension-item-data';\r\nimport { UbccEventBusService } from './service/event-bus-service';\r\nimport { UbccParamDataUtils } from './utils/param-data-utils';\r\n\r\n@Component({\r\n    selector: 'lib-ubcc-param-data-ui-root',\r\n    templateUrl: './ubcc-param-data-ui-root.component.html',\r\n    styleUrls: ['./ubcc-param-data-ui-root.component.css'],\r\n    providers: [UbccEventBusService]\r\n})\r\nexport class UbccParamDataUiRootComponent implements OnInit, OnDestroy {\r\n\r\n    private _assignment: UbccParamTemplateAssignment;\r\n\r\n    @Input() set assignment(assignment: UbccParamTemplateAssignment) {\r\n        this._assignment = assignment;\r\n        this.loadData();\r\n    }\r\n\r\n    _canEdit:boolean=true;\r\n\r\n    @Input() set canEdit(canEdit:boolean){\r\n        this._canEdit=canEdit;\r\n        if(this.currentInstance){\r\n            this.currentInstance.canEdit=this._canEdit;\r\n        }\r\n    }\r\n\r\n    template: UbccParamTemplate;\r\n\r\n    dimensionItemDatas: Array<DimensionItemData> = [];\r\n\r\n    paramDataItems: Array<Parameter> = [];\r\n\r\n    paramDataItemsClone: Array<Parameter> = [];\r\n\r\n    currentInstance:any;\r\n\r\n    templateSerializer=new UbccParamTemplateSerializer();\r\n    \r\n    assignmentSerializer=new UbccParamTemplateAssignmentSerializer();\r\n\r\n    @ViewChild('paramDataPanel', { read: ViewContainerRef }) paramDataPanel: ViewContainerRef;\r\n\r\n    constructor(\r\n        private utils:UbccParamDataUtils,\r\n        private ebsService: UbccEventBusService,\r\n        private http: UbccParamDataManangerService,\r\n        private resolver: ComponentFactoryResolver) {\r\n        this.ebsService.ebs.subscribe(event => {\r\n            this.loadDimensionDataFromRemote();\r\n        })\r\n    }\r\n\r\n    ngOnInit() {\r\n        this._assignment = this._assignment || new UbccParamTemplateAssignment();\r\n        this.template = this.template || new UbccParamTemplate();\r\n    }\r\n\r\n    ngOnDestroy(): void {\r\n        this.paramDataPanel.clear();\r\n    }\r\n\r\n    private loadData() {\r\n        //åæ°,ç»´åº¦æ°æ®æºåå§å\r\n        this.dimensionItemDatas=[];\r\n        this.paramDataItems=[];\r\n        this.paramDataItemsClone=[];\r\n        if (!this._assignment || !this._assignment.templateId) {\r\n            return;\r\n        }\r\n        this.http.getParamTemplate(this._assignment.templateId).subscribe(\r\n            (vo: UbccParamTemplateVo) => {\r\n                if (!vo||!vo.content) {\r\n                    return;\r\n                }\r\n                let serializer = new UbccParamTemplateSerializer();\r\n                this.template = serializer.deserializer(JSON.parse(vo.content));\r\n                this.load();\r\n            },\r\n            err=>{\r\n                throw err;\r\n            }\r\n        )\r\n    }\r\n\r\n    private load() {\r\n        //åæ°ç»æåå§åï¼åæ°å¼ä¸ºç©º\r\n        this.paramDataItemsInit();\r\n        //æ ¹æ®ç»´åº¦åå»ºå¯¹åºçUIç»ä»¶\r\n        if (this._assignment.useDimension) {\r\n            //ç»´åº¦ç»æåå§åï¼ç»´åº¦æ°æ®ä¸ºç©º\r\n            this.dimensionDataItemsInit();\r\n            //åå»ºç»´åº¦UIç»ä»¶ï¼æ­¤å¤ä¸åæ°ï¼åªæ¸²æçé¢ï¼å¨éæ©ç»´åº¦æ°æ®ååå è½½æ°æ®\r\n            this.createDimensionRootUiComponent();\r\n        }\r\n        else {\r\n            this.http.getParamData(this._assignment.templateId, this._assignment.bizTypeId).subscribe(\r\n                (dataItems: Array<DataItem>) => {\r\n                    this.getParamValues(dataItems);\r\n                },\r\n                err=>{\r\n                    throw err;\r\n                }\r\n            );\r\n             //åå»ºåæ°UIç»ä»¶\r\n            this.createParamDataUiComponent();\r\n        }\r\n    }\r\n\r\n    private getParamValues(dataItems: Array<DataItem>) {\r\n        if (!dataItems || dataItems.length <= 0) {\r\n            return;\r\n        }\r\n        this.paramDataItems.map((paramDataItem: BaseParamData) => {\r\n            let data = dataItems.find(item => item.dataCode === paramDataItem.code);\r\n            if (data) {\r\n                paramDataItem.value = data.dataValue;\r\n                if (!this.utils.isHelpType(paramDataItem.parameterType)) {\r\n                    return;\r\n                }\r\n                paramDataItem.valueText = data.dataValueText||'';\r\n                // ä»åç«¯è·åå¸®å©æ°æ®\r\n                // this.getHelpData(data,paramDataItem);\r\n            }\r\n        });\r\n        this.paramValuesClone(this.paramDataItemsClone,this.paramDataItems);\r\n    }\r\n\r\n    private paramValuesClone(target:any[],source:any[]) {\r\n        if(source.length==0||target.length==0||target.length!==source.length){\r\n            return;\r\n        }\r\n        target.map(paramDataItemClone => {\r\n            let index = source.findIndex(x => x.code === paramDataItemClone.code);\r\n            if(index!==(-1)){\r\n                paramDataItemClone.id = source[index].id;\r\n                paramDataItemClone.value = source[index].value;\r\n                paramDataItemClone.valueText=source[index].valueText;\r\n            }\r\n        });\r\n    }\r\n\r\n    private loadDimensionDataFromRemote() {\r\n        this.paramDataItemsInit();\r\n        this.currentInstance.paramDataItems = this.paramDataItems;\r\n        let dimensionItemValues = [];\r\n        this.dimensionItemDatas.map((x: DimensionItemData) => dimensionItemValues.push(x.value));\r\n        let count=dimensionItemValues.length;\r\n        if(count<=0){\r\n            return;\r\n        }\r\n        if(count===1){\r\n            if(!dimensionItemValues[0]){\r\n                return;\r\n            }\r\n        }\r\n        if(count===2){\r\n            if(!dimensionItemValues[0]||!dimensionItemValues[1]){\r\n                return;\r\n            }\r\n        }\r\n        let dimension1=dimensionItemValues[0]?dimensionItemValues[0]:null;\r\n        let dimension2=dimensionItemValues[1]?dimensionItemValues[1]:null;\r\n        this.http.getDimensionData(this._assignment.templateId, \r\n            this._assignment.bizTypeId,\r\n            dimension1,dimension2,count).subscribe(\r\n            (dataItems: Array<DataItem>) => {\r\n                this.getParamValues(dataItems);\r\n            }\r\n        )\r\n    }\r\n\r\n    private paramDataItemsInit() {\r\n        let template=this.templateSerializer.deserializer(this.templateSerializer.serialize(this.template));\r\n        this.paramDataItems = [];\r\n        if (template&& template.params) {\r\n                template.params.map(x=>{\r\n                    if(this._assignment.useDimension){\r\n                        this.dimensionParamDefaultValueInit(x as BaseParamData);\r\n                    }\r\n                    else{\r\n                        (x as BaseParamData).value=x.defaultValue;\r\n                    }\r\n                    this.paramDataItems.push(x);\r\n                }\r\n            );\r\n        }\r\n        this.paramDataItemsCloneInit();\r\n    }\r\n\r\n    private dimensionParamDefaultValueInit(paramData:BaseParamData){\r\n        let count=this.dimensionItemDatas.length;\r\n        if(count<=0){\r\n            return;\r\n        }\r\n        if(count===1){\r\n            if(!this.dimensionItemDatas[0]||!this.dimensionItemDatas[0].value){\r\n                return;\r\n            }\r\n        }\r\n        if(count===2){\r\n            if(!this.dimensionItemDatas[0]||!this.dimensionItemDatas[1]||!this.dimensionItemDatas[0].value||!this.dimensionItemDatas[1].value){\r\n                return;\r\n            }\r\n        }\r\n        paramData.value=paramData.defaultValue;\r\n    }\r\n\r\n    private paramDataItemsCloneInit() {\r\n        let template=this.templateSerializer.deserializer(this.templateSerializer.serialize(this.template));\r\n        this.paramDataItemsClone = [];\r\n        if (template&& template.params) {\r\n                template.params.map(x=>{\r\n                    if(this._assignment.useDimension){\r\n                        this.dimensionParamDefaultValueInit(x as BaseParamData);\r\n                    }\r\n                    else{\r\n                        (x as BaseParamData).value=x.defaultValue;\r\n                    }\r\n                    this.paramDataItemsClone.push(x);\r\n                }\r\n            );\r\n        }\r\n    }\r\n\r\n    private dimensionDataItemsInit() {\r\n        let assignment=this.assignmentSerializer.deserialize(this.assignmentSerializer.serialize(this._assignment));\r\n        if (assignment&&assignment.dimensionInfo\r\n            && assignment.dimensionInfo.definition\r\n            && assignment.dimensionInfo.definition.dimensionItems) {\r\n            this.dimensionItemDatas = [];\r\n            assignment.dimensionInfo.definition.dimensionItems.forEach(dimensionData => {\r\n                this.dimensionItemDatas.push(dimensionData as DimensionItemData);\r\n            });\r\n        }\r\n    }\r\n\r\n    private createParamDataUiComponent() {\r\n        this.paramDataPanel.clear();\r\n        const factory = this.resolver.resolveComponentFactory(UbccParamDataUiComponent);\r\n        let cmpRef = this.paramDataPanel.createComponent(factory);\r\n        cmpRef.instance.canEdit = this.canEdit;\r\n        cmpRef.instance.template = this.template;\r\n        cmpRef.instance.paramDataItems = this.paramDataItems;\r\n        this.currentInstance=cmpRef.instance;\r\n    }\r\n\r\n    private createDimensionRootUiComponent() {\r\n        this.paramDataPanel.clear();\r\n        const factory = this.resolver.resolveComponentFactory(UbccParamDimensionUiRootComponent);\r\n        let cmpRef = this.paramDataPanel.createComponent(factory);\r\n        cmpRef.instance.canEdit = this.canEdit;\r\n        cmpRef.instance.dimensionItemDatas = this.dimensionItemDatas;\r\n        cmpRef.instance.paramDataItems = this.paramDataItems;\r\n        cmpRef.instance.template = this.template;\r\n        this.currentInstance=cmpRef.instance;\r\n    }\r\n\r\n    convertDimensionDataToDataVo() {\r\n        if (!this.dimensionItemDatas) {\r\n            return null;\r\n        }\r\n        let dimensionValues = new Array<DataItem>();\r\n        this.dimensionItemDatas.map(x => {\r\n            let dimensionValue = new DataItem();\r\n            dimensionValue.dataCode = x.code;\r\n            dimensionValue.dataValue = (x as DimensionItemData).value;\r\n            dimensionValue.dataType = this.getDimensionValueType(x.dataType);\r\n            dimensionValues.push(dimensionValue);\r\n        });\r\n        return dimensionValues;\r\n    }\r\n\r\n    convertParamDataToDataVo() {\r\n        if (!this.paramDataItems) {\r\n            return null;\r\n        }\r\n        let paramValues = new Array<DataItem>();\r\n        this.paramDataItems.map(x => {\r\n            let paramValue = new DataItem();\r\n            paramValue.dataCode = x.code;\r\n            paramValue.dataValue = (x as BaseParamData).value;\r\n            paramValue.dataType = this.getParamValueType((x as BaseParamData).parameterType);\r\n            paramValues.push(paramValue);\r\n        });\r\n        this.paramValuesClone(this.paramDataItemsClone,this.paramDataItems);\r\n        return paramValues;\r\n    }\r\n\r\n    private getDimensionValueType(dataType: IDataType) {\r\n        let kind = dataType.getKind();\r\n        switch (kind) {\r\n            case DataTypeConst.DEFAULT_PRIMITIVE:\r\n                return `${DataTypeConst.DEFAULT_PRIMITIVE}.${(dataType as PrimitiveType).primitiveTypeKind}`;\r\n            case DataTypeConst.DEFAULT_ENUMERATION:\r\n                return DataTypeConst.DEFAULT_ENUMERATION;\r\n            case DataTypeExtensionConst.HELP_TYPE:\r\n                return DataTypeExtensionConst.HELP_TYPE+`##${(dataType as HelpType).helpId}`;\r\n            default:\r\n                throw new Error(`ä¸å¡åæ°ä¸æ¯æçåæ°ç±»å${kind}`);\r\n        }\r\n    }\r\n\r\n    private getParamValueType(dataType: IDataType) {\r\n        let kind = dataType.getKind();\r\n        switch (kind) {\r\n            case DataTypeConst.DEFAULT_COLLECTION:\r\n                let elemetType = (dataType as CollectionType).elementType;\r\n                return `${DataTypeConst.DEFAULT_COLLECTION}.` + this.getParamValueType(elemetType);\r\n            case DataTypeConst.DEFAULT_PRIMITIVE:\r\n                return `${DataTypeConst.DEFAULT_PRIMITIVE}.${PrimitiveTypeKind[(dataType as PrimitiveType).primitiveTypeKind]}`;\r\n            case DataTypeExtensionConst.UBCC_STRUCTURE_TYPE_REF:\r\n                let refType = dataType as StructureTypeRef;\r\n                return refType.type === StructureTypeRefEnum.HELP ? DataTypeExtensionConst.HELP_TYPE +`##${refType.refId}`: DataTypeConst.DEFAULT_ENUMERATION;\r\n            default:\r\n                throw new Error(`ä¸å¡åæ°ä¸æ¯æçåæ°ç±»å${kind}`);\r\n        }\r\n    }\r\n\r\n    cancel(){\r\n        this.paramValuesClone(this.paramDataItems,this.paramDataItemsClone);\r\n        this.currentInstance.paramDataItems=this.paramDataItems;\r\n    }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { ILookupHttpService, LookupGridResult } from '@farris/ui-lookup';\r\nimport { HttpHeaders, HttpClient } from '@angular/common/http';\r\nimport { SessionService } from '@ecp-caf/caf-common';\r\nimport { Observable, of } from 'rxjs';\r\n\r\n@Injectable()\r\nexport class LookUpHttpService implements ILookupHttpService{\r\n\r\n    httpHeaders = new HttpHeaders().set(\"sessionid\", this.cache.getUserSessionId());\r\n\r\n    constructor(private http: HttpClient, private cache: SessionService) {\r\n        this.httpHeaders = new HttpHeaders();\r\n        this.httpHeaders.set(\"sessionid\", this.cache.getUserSessionId());\r\n    } \r\n    \r\n    getData(uri: string, params?: any): Observable<LookupGridResult> {\r\n        if(uri.includes('{helpId}')){\r\n            return of(null);\r\n        }\r\n        let queryParam=JSON.stringify(params);\r\n        let url=`${uri}?queryParam=${encodeURIComponent(queryParam)}`;\r\n        return this.http.get(url,{headers:this.httpHeaders});\r\n    }\r\n}","export class LookUpBindingFields {\r\n    idField: string;\r\n    textField: string;\r\n    valueField: string;\r\n    textValue: string;\r\n    displayType: string;\r\n    constructor(){\r\n        this.displayType='List';\r\n    }\r\n}","import { Component, OnInit, OnChanges, Input, SimpleChanges, Output, EventEmitter } from '@angular/core';\nimport { HelpType } from '@gsp-cmp/ubcc-param-vo';\nimport { GSPMetadataRTService, MetadataDto } from '@gsp-lcm/metadatart-selector';\nimport { ServerSideToken } from '@farris/ui-lookup';\nimport { LookUpHttpService } from '../../../service/lookup-http-service';\nimport { LookUpBindingFields } from '../../../common/look-up-binding-fields';\nimport { UbccEventBusService } from '../../../service/event-bus-service';\n\nconst BCC_HELP_URL=`/api/runtime/bcc/v1.0/param/help/{helpId}`;\n\n@Component({\n    selector: 'lib-dimension-lookup-control',\n    templateUrl: './dimension-lookup-control.component.html',\n    styleUrls: ['./dimension-lookup-control.component.css'],\n    providers: [{ provide: ServerSideToken, useClass: LookUpHttpService }, GSPMetadataRTService]\n})\nexport class DimensionLookupControlComponent implements OnInit, OnChanges {\n\n    @Input() dimensionItem: any;\n\n    isSingleSelect: boolean = true;\n\n    isHelpInfoLoad: boolean = false;\n\n    bindingFields: LookUpBindingFields;\n\n    helpUrl: string = BCC_HELP_URL;\n\n    constructor(\n        private metadataRTService: GSPMetadataRTService,\n        private ebsService: UbccEventBusService) { }\n\n    ngOnInit() {\n        this.dimensionItem = this.dimensionItem || {};\n        this.bindingFields = this.bindingFields || new LookUpBindingFields();\n        this.helpConfigInit();\n    }\n\n    ngOnChanges(changes: SimpleChanges): void {\n        this.helpConfigInit();\n    }\n\n    selectedHelpHandler($event) {\n        if (!$event) {\n            return;\n        }\n        this.dimensionItem.value = '';\n        this.dimensionItem.value = $event[this.bindingFields.idField];\n        this.ebsService.ebs.emit(this.dimensionItem);\n    }\n\n    private helpConfigInit() {\n        if (this.isHelpInfoLoad || !this.dimensionItem || !this.dimensionItem.dataType) {\n            return;\n        }\n        let helpType= this.dimensionItem.dataType as HelpType;\n        this.loadDataFromMetadata(helpType);\n    }\n\n    private loadDataFromMetadata(helpType: HelpType) {\n        if (!helpType.helpId) {\n            return;\n        }\n        this.metadataRTService.GetMetadataRT(helpType.helpId).subscribe((metadataDto: MetadataDto) => {\n            let helpMetadata = JSON.parse(metadataDto.content);\n            this.setHelpInfo(helpMetadata);\n            this.isHelpInfoLoad = true;\n        });\n    }\n\n    setHelpInfo(helpMetadata: any) {\n        this.helpUrl = BCC_HELP_URL.replace('{helpId}', helpMetadata.id);\n        this.bindingFields.idField = helpMetadata.idField;\n        this.bindingFields.textField = helpMetadata.textField;\n        this.bindingFields.valueField = helpMetadata.valueField;\n        this.bindingFields.displayType = helpMetadata.displayType;\n    }\n}\n","import { Component, OnInit, Input, OnChanges, SimpleChanges, Output, EventEmitter } from '@angular/core';\nimport { EnumerationType } from '@ecp-caf/common-structure';\nimport { UbccEventBusService } from '../../../service/event-bus-service';\n\n@Component({\n    selector: 'lib-dimension-dropdownlist-control',\n    templateUrl: './dimension-dropdownlist-control.component.html',\n    styleUrls: ['./dimension-dropdownlist-control.component.css']\n})\nexport class DimensionDropdownlistControlComponent implements OnInit ,OnChanges{\n\n    @Input() dimensionItem: any;\n\n    @Output() valueChangeEmit:EventEmitter<any>=new EventEmitter();\n\n    enumerationItems = [];\n\n    isMultiSelect = false;\n\n    isEnumInfoLoad: boolean = false;\n\n    constructor(private ebsService: UbccEventBusService) { }\n\n    ngOnInit() {\n        this.dimensionItem = this.dimensionItem || {};\n        if (!this.isEnumInfoLoad) {\n            this.enumConfigInit();\n        }\n    }\n\n    ngOnChanges(changes: SimpleChanges): void {\n        if (!this.isEnumInfoLoad) {\n            this.enumConfigInit();\n        }\n    }\n\n    enumConfigInit() {\n        this.getEnumItems();\n    }\n\n    getEnumItems() {\n        if (!this.dimensionItem || !this.dimensionItem.dataType) {\n            return;\n        }\n        let enumType=this.dimensionItem.dataType as EnumerationType;\n        this.get(enumType);\n    }\n\n    get(enumType: EnumerationType) {\n        if (!enumType || !enumType.enumerationItems) {\n            return;\n        }\n        enumType.enumerationItems.map(x => this.enumerationItems.push(x));\n        this.isEnumInfoLoad = true;\n    }\n\n    valueChangeHandler($event) {\n        this.dimensionItem.value=$event.value;\n        this.ebsService.ebs.emit(this.dimensionItem);\n    }\n\n}\n","import { Component, OnInit, Input, Output, EventEmitter } from '@angular/core';\nimport { UbccEventBusService } from '../../../service/event-bus-service';\n\n@Component({\n    selector: 'lib-dimension-input-control',\n    templateUrl: './dimension-input-control.component.html',\n    styleUrls: ['./dimension-input-control.component.css'],\n    providers:[UbccEventBusService]\n})\nexport class DimensionInputControlComponent implements OnInit {\n\n    @Input() dimensionItem: any;\n\n    constructor(private ebsService: UbccEventBusService) { }\n\n    ngOnInit() {\n        this.dimensionItem = this.dimensionItem || {};\n    }\n\n    ngModelChangeHandler($event){\n        this.ebsService.ebs.emit(this.dimensionItem);\n    }\n\n}\n","import { Component, OnInit, Input } from '@angular/core';\nimport { UbccParamDataUtils } from '../../../utils/param-data-utils';\n\n@Component({\n    selector: 'lib-checkbox-control',\n    templateUrl: './checkbox-control.component.html',\n    styleUrls: ['./checkbox-control.component.css']\n})\nexport class CheckboxControlComponent implements OnInit {\n\n    @Input() param: any;\n\n    @Input() canEdit:boolean=true;\n\n    checkboxId:string;\n\n    constructor(private service:UbccParamDataUtils) { }\n\n    ngOnInit() {\n        this.param = this.param || {};\n        this.checkboxId=this.service.newGuid();\n    }\n\n    getValue(){\n        if(!this.param||!this.param.value){\n            return false;\n        }\n        let value=String(this.param.value).toLowerCase();\n        return value==='true'?true:false;\n    }\n\n    enable(value) {\n        this.param.value = value;\n    }\n\n    isReadonly(){\n        if(!this.canEdit){\n            return true;\n        }\n        else{\n            return !this.param||!this.param.readonly?false:true;\n        }\n    }\n\n    show(){\n        return !this.param||!this.param.description?false:true;\n    }\n\n}\n","import { Component, OnInit, Input } from '@angular/core';\n\n@Component({\n    selector: 'lib-input-control',\n    templateUrl: './input-control.component.html',\n    styleUrls: ['./input-control.component.css']\n})\nexport class InputControlComponent implements OnInit {\n\n    @Input() param: any;\n\n    @Input() canEdit:boolean=true;\n\n    constructor() { }\n\n    ngOnInit() {\n        this.param = this.param || {};\n    }\n\n    isReadonly(){\n        if(!this.canEdit){\n            return true;\n        }\n        else{\n            return !this.param||!this.param.readonly?false:true;\n        }\n    }\n\n    show(){\n        return !this.param||!this.param.description?false:true;\n    }\n\n}\n","import { Component, OnInit, Input } from '@angular/core';\n\n@Component({\n    selector: 'lib-date-control',\n    templateUrl: './date-control.component.html',\n    styleUrls: ['./date-control.component.css']\n})\nexport class DateControlComponent implements OnInit {\n\n    @Input() param: any;\n\n    @Input() canEdit:boolean=true;\n\n    constructor() { }\n\n    ngOnInit() {\n        this.param = this.param || {};\n    }\n\n    dateTimeValueChange($event) {\n        this.param.value = $event.jsDate;\n    }\n\n    isReadonly(){\n        if(!this.canEdit){\n            return true;\n        }\n        else{\n            return !this.param||!this.param.readonly?false:true;\n        }\n    }\n\n    show(){\n        return !this.param||!this.param.description?false:true;\n    }\n\n}\n","import { Component, OnInit, Input, OnChanges, SimpleChanges } from '@angular/core';\nimport { DataTypeConst, EnumerationType, IDataType, CollectionType } from '@ecp-caf/common-structure';\nimport { UbccParamTemplate, StructureTypeRef, DataTypeExtensionConst } from '@gsp-cmp/ubcc-param-vo';\n\n@Component({\n    selector: 'lib-dropdownlist-control',\n    templateUrl: './dropdownlist-control.component.html',\n    styleUrls: ['./dropdownlist-control.component.css']\n})\nexport class DropdownlistControlComponent implements OnInit, OnChanges {\n\n    @Input() param: any;\n\n    @Input() template: UbccParamTemplate;\n\n    @Input() canEdit:boolean=true;\n\n    enumerationItems = [];\n\n    isMultiSelect = false;\n\n    isEnumInfoLoad: boolean = false;\n\n    constructor() { }\n\n    ngOnInit() {\n        this.param = this.param || {};\n        this.template = this.template || new UbccParamTemplate();\n        if (!this.isEnumInfoLoad) {\n            this.enumConfigInit();\n        }\n    }\n\n    ngOnChanges(changes: SimpleChanges): void {\n        if (!this.isEnumInfoLoad) {\n            this.enumConfigInit();\n        }\n    }\n\n    enumConfigInit() {\n        this.isMultiSelect = this.isCollection();\n        this.getEnumItems();\n    }\n\n    getEnumItems() {\n        if (!this.param || !this.param.parameterType || !this.template.structuredTypes) {\n            return;\n        }\n        if (this.param.parameterType.kind === DataTypeConst.DEFAULT_COLLECTION) {\n            let elementType = this.getCollectionElementType(this.param.parameterType);\n            this.get(elementType);\n        }\n        else if (this.param.parameterType.kind === DataTypeExtensionConst.UBCC_STRUCTURE_TYPE_REF) {\n            let typeRef = this.param.parameterType as StructureTypeRef;\n            this.get(typeRef);\n        }\n        else {\n            throw new Error(`æä¸¾ä¸æ¯æçåæ°ç±»å${this.param.parameterType.kind}`);\n        }\n    }\n\n    get(refType: StructureTypeRef) {\n        let enumType = this.template.structuredTypes.find(x => x.id === refType.refId) as EnumerationType;\n        if (!enumType || !enumType.enumerationItems) {\n            return;\n        }\n        enumType.enumerationItems.map(x => this.enumerationItems.push(x));\n        this.isEnumInfoLoad = true;\n    }\n\n    getCollectionElementType(dataType: IDataType) {\n        let kind = dataType.getKind();\n        switch (kind) {\n            case DataTypeConst.DEFAULT_COLLECTION:\n                let elementType = (dataType as CollectionType).elementType;\n                return this.getCollectionElementType(elementType);\n            default:\n                return dataType;\n        }\n    }\n\n\n    isCollection() {\n        if (!this.param || !this.param.parameterType) {\n            return false;\n        }\n        if (this.param.parameterType.getKind() === DataTypeConst.DEFAULT_COLLECTION) {\n            return true;\n        }\n        else {\n            return false;\n        }\n    }\n\n    valueChangeHandler($event) {\n        this.param.value=$event.value;\n    }\n\n    isReadonly(){\n        if(!this.canEdit){\n            return true;\n        }\n        else{\n            return !this.param||!this.param.readonly?false:true;\n        }\n    }\n\n    show(){\n        return !this.param||!this.param.description?false:true;\n    }\n\n}\n","import { Component, OnInit, Input, OnChanges, SimpleChanges } from '@angular/core';\nimport { UbccParamTemplate, StructureTypeRef, DataTypeExtensionConst} from '@gsp-cmp/ubcc-param-vo';\nimport { DataTypeConst, IDataType, CollectionType } from '@ecp-caf/common-structure';\nimport { MetadataDto, GSPMetadataRTService } from '@gsp-lcm/metadatart-selector';\nimport { ServerSideToken } from '@farris/ui-lookup';\nimport { LookUpHttpService } from '../../../service/lookup-http-service';\nimport { LookUpBindingFields } from '../../../common/look-up-binding-fields';\n\nconst BCC_HELP_URL=`/api/runtime/bcc/v1.0/param/help/{helpId}`;\n\n@Component({\n    selector: 'lib-lookup-control',\n    templateUrl: './lookup-control.component.html',\n    styleUrls: ['./lookup-control.component.css'],\n    providers: [{ provide: ServerSideToken, useClass: LookUpHttpService }, GSPMetadataRTService]\n})\nexport class LookupControlComponent implements OnInit ,OnChanges{\n    \n    @Input() param:any;\n\n    @Input() template:UbccParamTemplate;\n\n    @Input() canEdit:boolean=true;\n    \n    isSingleSelect:boolean=true;\n\n    isHelpInfoLoad:boolean=false;\n\n    bindingFields:LookUpBindingFields;\n\n    helpUrl:string= BCC_HELP_URL;\n\n    constructor(private metadataRTService: GSPMetadataRTService,) { }\n\n    ngOnInit() {\n        this.param = this.param || {};\n        this.bindingFields=this.bindingFields||new LookUpBindingFields();\n        this.helpConfigInit();\n    }\n\n    ngOnChanges(changes: SimpleChanges): void {\n        this.helpConfigInit();\n    }\n\n    selectedHelpHandler($event) {\n        if (!$event) {\n            return;\n        }\n        this.param.value = '';\n        this.param.valueText = '';\n        if (this.isCollection()) {\n            if ($event.length <=0) {\n                return;\n            }\n            $event.map((selectItem, index) => {\n                this.param.value=this.param.value+(index>0?`,${selectItem[this.bindingFields.idField]}`:selectItem[this.bindingFields.idField]);\n                this.param.valueText=this.param.valueText+(index>0?`,${selectItem[this.bindingFields.textField]}`:selectItem[this.bindingFields.textField]);\n            });\n        }\n        else {\n            this.param.value = $event[this.bindingFields.idField];\n            this.param.valueText=$event[this.bindingFields.textField];\n        }\n    }\n\n    private helpConfigInit() {\n        if (this.isHelpInfoLoad || !this.param || !this.param.parameterType) {\n            return;\n        }\n        if (this.param.parameterType.kind === DataTypeConst.DEFAULT_COLLECTION) {\n            this.isSingleSelect=false;\n            let elementType = this.getCollectionElementType(this.param.parameterType) as StructureTypeRef;\n            this.loadDataFromMetadata(elementType);\n        }\n        else if (this.param.parameterType.kind === DataTypeExtensionConst.UBCC_STRUCTURE_TYPE_REF) {\n            this.isSingleSelect=true;\n            let typeRef = this.param.parameterType as StructureTypeRef;\n            this.loadDataFromMetadata(typeRef);\n        }\n        else {\n            throw new Error(`å¸®å©ä¸æ¯æçåæ°ç±»å${this.param.parameterType.kind}`);\n        }\n    }\n    \n    private loadDataFromMetadata(refType: StructureTypeRef) {\n        if (!refType.refId) {\n            return;\n        }\n        this.metadataRTService.GetMetadataRT(refType.refId).subscribe((metadataDto: MetadataDto) => {\n            let helpMetadata = JSON.parse(metadataDto.content);\n            this.setHelpInfo(helpMetadata);\n            this.isHelpInfoLoad = true;\n        });\n    }\n\n    setHelpInfo(helpMetadata:any){\n        this.helpUrl = BCC_HELP_URL.replace('{helpId}', helpMetadata.id);\n        this.bindingFields.idField = helpMetadata.idField;\n        this.bindingFields.textField = helpMetadata.textField;\n        this.bindingFields.valueField = helpMetadata.valueField;\n        this.bindingFields.displayType = helpMetadata.displayType;\n    }\n\n    private getCollectionElementType(dataType: IDataType) {\n        let kind = dataType.getKind();\n        switch (kind) {\n            case DataTypeConst.DEFAULT_COLLECTION:\n                let elementType = (dataType as CollectionType).elementType;\n                return this.getCollectionElementType(elementType);\n            default:\n                return dataType;\n        }\n    }\n\n    isCollection() {\n        if (!this.param || !this.param.parameterType) {\n            return false;\n        }\n        if (this.param.parameterType.getKind() === DataTypeConst.DEFAULT_COLLECTION) {\n            return true;\n        }\n        else {\n            return false;\n        }\n    }\n\n    isReadonly(){\n        if(!this.canEdit){\n            return true;\n        }\n        else{\n            return !this.param||!this.param.readonly?false:true;\n        }\n    }\n\n    show(){\n        return !this.param||!this.param.description?false:true;\n    }\n}\n","import { Component, OnInit, Input, OnChanges, SimpleChanges } from '@angular/core';\n\n@Component({\n    selector: 'lib-number-control',\n    templateUrl: './number-control.component.html',\n    styleUrls: ['./number-control.component.css']\n})\nexport class NumberControlComponent implements OnInit,OnChanges {\n\n    @Input() param: any;\n\n    @Input() canEdit:boolean=true;\n\n    precision:number=0;\n\n    max:number=NaN;\n\n    min:number=NaN;\n\n    constructor() { }\n\n    ngOnInit() {\n        this.param = this.param || {};\n    }\n\n    ngOnChanges(changes:SimpleChanges): void {\n        this.param = this.param || {};\n        if(this.param&&this.param.constraint){\n            this.max=Number(this.param.constraint.max)||NaN;\n            this.min=Number(this.param.constraint.min)||NaN;\n            this.precision=Number(this.param.constraint.precision)||0;\n        }\n    }\n\n    isReadonly(){\n        if(!this.canEdit){\n            return true;\n        }\n        else{\n            return !this.param||!this.param.readonly?false:true;\n        }\n    }\n\n    getUnit(){\n        if(!this.param||!this.param.constraint||!this.param.constraint.unit){\n           return '';\n        }\n        else{\n            return `(åä½:${this.param.constraint.unit})`;\n        }\n    }\n\n    show(){\n        return !this.param||!this.param.description?false:true;\n    }\n}\n","import { Injectable, ComponentFactoryResolver, Injector } from '@angular/core';\nimport { UbccParamDataUtils } from './utils/param-data-utils';\nimport { BsModalService } from '@farris/ui-modal';\nimport { UbccParamDataUiDialogComponent } from './ubcc-param-data-ui-dialog/ubcc-param-data-ui-dialog.component';\nimport { DialogResult } from './common/dialog-result';\n\n@Injectable()\nexport class UbccParamDataUiService {\n\n    constructor(\n        private resolver: ComponentFactoryResolver,\n        private injector: Injector,\n        private util: UbccParamDataUtils,\n        private modalService: BsModalService\n    ) { }\n\n    show(templateId:string,paramData:any):DialogResult{\n        return this.create(templateId,paramData);\n    }\n\n    private create(templateId:string,data:any): DialogResult {\n        let fac = this.resolver.resolveComponentFactory(UbccParamDataUiDialogComponent);\n        let cmpRef = fac.create(this.injector);\n        let modalConfig = this.util.getModalConfig(cmpRef.instance.btnRef);\n        let dialog = this.modalService.show(cmpRef, modalConfig);\n        cmpRef.instance.dialog = dialog;\n        cmpRef.instance.templateId=templateId;\n        cmpRef.instance.data=data;\n        return { confirmEvent: cmpRef.instance.confirmEmitter, closeEvent: cmpRef.instance.closeEmitter,close: cmpRef.instance.close};\n    }\n\n}\n","import { Component, OnInit, Input, ViewEncapsulation } from '@angular/core';\nimport { DimensionItem, DataTypeExtensionConst } from '@gsp-cmp/ubcc-param-vo';\nimport { DataTypeConst } from '@ecp-caf/common-structure';\n\n@Component({\n    selector: 'lib-ubcc-param-dimension-ui',\n    templateUrl: './ubcc-param-dimension-ui.component.html',\n    styleUrls: ['./ubcc-param-dimension-ui.component.css'],\n    encapsulation:ViewEncapsulation.None\n})\nexport class UbccParamDimensionUiComponent implements OnInit {\n\n    @Input() dimensionItemDatas: any=[];\n\n    constructor() { }\n\n    ngOnInit() {\n       \n    }\n\n    getControlType(dimensionItem: DimensionItem) {\n        if (!dimensionItem || !dimensionItem.dataType || !dimensionItem.dataType.getKind()) {\n            return;\n        }\n        let kind = dimensionItem.dataType.getKind();\n        switch (kind) {\n            case DataTypeConst.DEFAULT_PRIMITIVE:\n                return 'input';\n            case DataTypeConst.DEFAULT_ENUMERATION:\n                return 'dropdownlist';\n            case DataTypeExtensionConst.HELP_TYPE:\n                return 'lookup';\n            default:\n                return 'input';\n        }\n    }\n\n}\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { ButtonsModule } from '@progress/kendo-angular-buttons';\r\nimport { FrameworkService, FrmEventBus, FuncsService, LoadingService } from '@gsp-sys/rtf-common';\r\nimport { HttpService, SessionService, CacheService } from '@ecp-caf/caf-common';\r\nimport { NotifyService, NotifyModule } from '@farris/ui-notify';\r\nimport { InputGroupModule } from '@farris/ui-input-group';\r\nimport { HttpClientModule } from '@angular/common/http';\r\nimport { LoadingModule } from '@farris/ui-loading';\r\nimport { ModalModule, BsModalService } from '@farris/ui-modal';\r\nimport { MessagerModule } from '@farris/ui-messager';\r\nimport { FarrisDialogModule } from '@farris/ui-dialog';\r\nimport { ComboListModule } from '@farris/ui-combo-list';\r\nimport { LookupModule } from '@farris/ui-lookup';\r\nimport { FarrisButtonModule } from '@farris/ui-button';\r\nimport { FarrisDatePickerModule } from '@farris/ui-datepicker';\r\nimport { FarrisSectionModule } from '@farris/ui-section';\r\nimport { UbccParamDataUiComponent } from './ubcc-param-data-ui/ubcc-param-data-ui.component';\r\nimport { UbccParamDataManangerService } from './service/http-service';\r\nimport { NumberSpinnerModule } from '@farris/ui-number-spinner';\r\nimport { GSPMetadataRTServiceModule } from '@gsp-lcm/metadatart-selector';\r\nimport { UbccParamDataUiDialogComponent } from './ubcc-param-data-ui-dialog/ubcc-param-data-ui-dialog.component';\r\nimport { UbccParamDataUiRootComponent } from './ubcc-param-data-ui-root.component';\r\nimport { DimensionLookupControlComponent } from './controls/dimension-control/dimension-lookup-control/dimension-lookup-control.component';\r\nimport { DimensionDropdownlistControlComponent } from './controls/dimension-control/dimension-dropdownlist-control/dimension-dropdownlist-control.component';\r\nimport { DimensionInputControlComponent } from './controls/dimension-control/dimension-input-control/dimension-input-control.component';\r\nimport { CheckboxControlComponent } from './controls/param-control/checkbox-control/checkbox-control.component';\r\nimport { InputControlComponent } from './controls/param-control/input-control/input-control.component';\r\nimport { DateControlComponent } from './controls/param-control/date-control/date-control.component';\r\nimport { DropdownlistControlComponent } from './controls/param-control/dropdownlist-control/dropdownlist-control.component';\r\nimport { LookupControlComponent } from './controls/param-control/lookup-control/lookup-control.component';\r\nimport { NumberControlComponent } from './controls/param-control/number-control/number-control.component';\r\nimport { UbccParamDataUiService } from './ubcc-param-data-ui.service';\r\nimport { UbccParamDataUtils } from './utils/param-data-utils';\r\nimport { UbccParamDimensionUiComponent } from './ubcc-param-dimension-ui/ubcc-param-dimension-ui.component';\r\nimport { UbccParamDimensionUiRootComponent } from './ubcc-param-dimension-ui-root/ubcc-param-dimension-ui-root.component';\r\nimport { FarrisTooltipModule } from '@farris/ui-tooltip';\r\nimport { FarrisPanelModule } from '@farris/ui-panel';\r\n\r\n@NgModule({\r\n    declarations: [\r\n        UbccParamDataUiComponent,\r\n        InputControlComponent,\r\n        CheckboxControlComponent,\r\n        DateControlComponent,\r\n        DropdownlistControlComponent,\r\n        LookupControlComponent,\r\n        NumberControlComponent,\r\n        UbccParamDataUiDialogComponent,\r\n        UbccParamDataUiRootComponent,\r\n        DimensionLookupControlComponent,\r\n        DimensionDropdownlistControlComponent,\r\n        DimensionInputControlComponent,\r\n        UbccParamDimensionUiComponent,\r\n        UbccParamDimensionUiRootComponent\r\n    ],\r\n    imports: [\r\n        CommonModule,\r\n        FormsModule,\r\n        ReactiveFormsModule,\r\n        ButtonsModule,\r\n        InputGroupModule,\r\n        HttpClientModule,\r\n        LoadingModule.forRoot({\r\n            message: 'è¯·ç¨å...'\r\n        }),\r\n        NotifyModule.forRoot(),\r\n        ModalModule.forRoot(),\r\n        MessagerModule.forRoot(),\r\n        FarrisDialogModule,\r\n        LookupModule,\r\n        FarrisButtonModule,\r\n        FarrisDatePickerModule,\r\n        ComboListModule,\r\n        FarrisSectionModule,\r\n        NumberSpinnerModule,\r\n        FarrisTooltipModule,\r\n        FarrisPanelModule,\r\n        GSPMetadataRTServiceModule.forRoot(\"\"),\r\n    ],\r\n    providers: [\r\n        FrameworkService,\r\n        HttpService,\r\n        SessionService,\r\n        CacheService,\r\n        FrmEventBus,\r\n        FuncsService,\r\n        LoadingService,\r\n        NotifyService,\r\n        UbccParamDataManangerService,\r\n        UbccParamDataUiService,\r\n        UbccParamDataUtils,\r\n        BsModalService\r\n    ],\r\n    entryComponents:[\r\n        UbccParamDataUiDialogComponent,\r\n        UbccParamDataUiComponent,\r\n        UbccParamDimensionUiComponent,\r\n        UbccParamDimensionUiRootComponent,\r\n        UbccParamDataUiRootComponent\r\n    ],\r\n    exports: [\r\n        UbccParamDataUiRootComponent,\r\n        UbccParamDataUiComponent,\r\n        UbccParamDataUiDialogComponent,\r\n        UbccParamDimensionUiComponent,\r\n        UbccParamDimensionUiRootComponent\r\n    ]\r\n})\r\nexport class UbccParamDataUiRootModule { }\r\n","import { EventEmitter } from '@angular/core';\r\n\r\nexport class DialogResult {\r\n\r\n    /**\r\n     * éæ©å¨ç¡®è®¤æé®äºä»¶\r\n     */\r\n    confirmEvent: EventEmitter<any>;\r\n\r\n    /**\r\n     * éæ©å¨å³é­æé®äºä»¶\r\n     */\r\n    closeEvent: EventEmitter<void>;\r\n\r\n    /**\r\n     * å³é­\r\n     */\r\n    close: any;\r\n\r\n}"],"names":["BCC_HELP_URL"],"mappings":"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"}
