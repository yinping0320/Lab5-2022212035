!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("rxjs/operators"),require("@angular/core"),require("@gsp-lcm/metadata-selector")):"function"==typeof define&&define.amd?define("@gsp-cmp/webcommand",["exports","rxjs/operators","@angular/core","@gsp-lcm/metadata-selector"],t):t((e["gsp-cmp"]=e["gsp-cmp"]||{},e["gsp-cmp"].webcommand={}),e.rxjs.operators,e.ng.core,e.i1)}(this,function(e,n,t,o){"use strict";var m={MethodRefer:0,Branch:1,BranchCollection:2};m[m.MethodRefer]="MethodRefer",m[m.Branch]="Branch",m[m.BranchCollection]="BranchCollection";var r=function A(){},a=(c.prototype.InitFromJobject=function(e){var t=new r;return t.ParamCode=e.ParamCode,t.ParamName=e.ParamName,t.ParamExpress=e.ParamExpress,t},c.prototype.ConvertJObject=function(e){var t=e,o=new Object;return o.ParamCode=t.ParamCode,o.ParamName=t.ParamName,o.ParamExpress=t.ParamExpress,o},c);function c(){}var i=(d.prototype.GetItemType=function(){return m.MethodRefer},d.prototype.GetItemCode=function(){return this.Code},d.prototype.GetItemName=function(){return this.Name},d.prototype.GetItemId=function(){return this.Id},d);function d(){}var p=(s.prototype.InitFromJobject=function(e){var t=new i;if(t.Id=e.Id,t.Code=e.Code,t.Name=e.Name,t.MethodId=e.MethodId,t.MethodCode=e.MethodCode,t.MethodName=e.MethodName,t.ComponentId=e.ComponentId,t.ComponentCode=e.ComponentCode,t.ComponentName=e.ComponentName,t.ComponentPath=e.ComponentPath,t.IsReplaced=e.IsReplaced,t.IsBeforeExpansion=e.IsBeforeExpansion,t.IsAfterExpansion=e.IsAfterExpansion,null!=e.ParamConfigs){t.ParamConfigs=new Array;var o=new a;e.ParamConfigs.forEach(function(e){t.ParamConfigs.push(o.InitFromJobject(e))})}return t},s.prototype.ConvertJObject=function(e){var t=e,o=new Object;if(o.Id=t.Id,o.Code=t.Code,o.Name=t.Name,o.MethodId=t.MethodId,o.MethodCode=t.MethodCode,o.MethodName=t.MethodName,o.ComponentId=t.ComponentId,o.ComponentCode=t.ComponentCode,o.ComponentName=t.ComponentName,o.ComponentPath=t.ComponentPath,o.IsReplaced=t.IsReplaced,o.IsBeforeExpansion=t.IsBeforeExpansion,o.IsAfterExpansion=t.IsAfterExpansion,null!=t.ParamConfigs){var n=o.ParamConfigs=[],r=new a;t.ParamConfigs.forEach(function(e){n.push(r.ConvertJObject(e))})}return o},s);function s(){}var C=(u.prototype.GetItemId=function(){return this.Id},u.prototype.GetItemCode=function(){return this.Code},u.prototype.GetItemName=function(){return this.Name},u.prototype.GetItemType=function(){return m.Branch},u);function u(){}var f=(I.prototype.ConvertJObject=function(e){var t=e,o=new Object;if(o.Id=t.Id,o.Code=t.Code,o.Name=t.Name,o.ConditionType=t.ConditionType,o.Express=t.Express,null!=t.Items){var n=[],r=new y;t.Items.forEach(function(e){n.push(r.ConvertJObject(e))}),o.Items=n}return o},I.prototype.InitFromJobject=function(e){var t=new C;if(t.Id=e.Id,t.Code=e.Code,t.Name=e.Name,t.ConditionType=e.ConditionType,t.Express=e.Express,null!=e.Items){t.Items=new Array;var o=new y;e.Items.forEach(function(e){t.Items.push(o.InitFromJobject(e))})}return t},I);function I(){}var v=(h.prototype.GetItemId=function(){return this.Id},h.prototype.GetItemCode=function(){return this.Code},h.prototype.GetItemName=function(){return this.Name},h.prototype.GetItemType=function(){return m.BranchCollection},h);function h(){}var l=(b.prototype.ConvertJObject=function(e){var t=e,o=new Object;if(o.Id=t.Id,o.Code=t.Code,o.Name=t.Name,null!=t.Items){var n=[],r=new f;t.Items.forEach(function(e){n.push(r.ConvertJObject(e))}),o.Items=n}return o},b.prototype.InitFromJobject=function(e){var t=new v;if(t.Id=e.Id,t.Code=e.Code,t.Name=e.Name,null!=e.Items){t.Items=new Array;var o=new f;e.Items.forEach(function(e){t.Items.push(o.InitFromJobject(e))})}return t},b);function b(){}var y=(j.prototype.ConvertJObject=function(e){var t=e,o=t.GetItemType(),n=new Object;if((n.Type=o)==m.MethodRefer)n.Content=t;else if(o==m.Branch){var r=new f;n.Content=r.ConvertJObject(t)}else if(o==m.BranchCollection){var a=new l;n.Content=a.ConvertJObject(t)}return n},j.prototype.InitFromJobject=function(e){var t=e.Type,o=e.Content;return t==m.MethodRefer?Object.assign(new i,o):t==m.Branch?(new f).InitFromJobject(e.Content):t==m.BranchCollection?(new l).InitFromJobject(e.Content):null},j);function j(){}var E=function D(){},w=(N.prototype.ConvertJObject=function(e){var t=e,o=new Object;o.Id=t.Id,o.Code=t.Code,o.Name=t.Name,o.Description=t.Description,o.SourceCode=t.SourceCode,o.Parameters=t.Parameters;var n=[];if(null!=t.Items){var r=new y;t.Items.forEach(function(e){n.push(r.ConvertJObject(e))})}return o.Items=n,o},N.prototype.InitFromJobject=function(e){var t=new E;if(t.Id=e.Id,t.Code=e.Code,t.Name=e.Name,t.Description=e.Description,t.SourceCode=e.SourceCode,t.Parameters=e.Parameters,t.Items=new Array,null!=e.Items){var o=new y;e.Items.forEach(function(e){t.Items.push(o.InitFromJobject(e))})}return t},N);function N(){}var P=function L(){},J=(M.prototype.InitFromJobject=function(e){if(e){var t=new P;return t.FormCode=e.FormCode,t.IsCommon=e.IsCommon,t}},M.prototype.ConvertJObject=function(e){var t=e,o=new Object;return o.FormCode=t.FormCode,o.IsCommon=t.IsCommon,o},M);function M(){}var x=function W(){},O=(g.prototype.ConvertJObject=function(e){var t=e,o=new Object;if(o.Id=t.Id,o.Code=t.Code,o.Name=t.Name,o.Description=t.Description,null!=t.Commands){var n=o.Commands=[],r=new w;t.Commands.forEach(function(e){n.push(r.ConvertJObject(e))})}if(null!=t.Extends){var a=new J;o.Extends=a.ConvertJObject(t.Extends)}return o},g.prototype.InitFromJobject=function(e){var o=new x;o.Id=e.Id,o.Code=e.Code,o.Name=e.Name,o.Description=e.Description;var t=e.Commands;null!=t&&(o.Commands=new Array,t.forEach(function(e){var t=new w;o.Commands.push(t.InitFromJobject(e))}));var n=new J;return o.Extends=n.InitFromJobject(e.Extends),o},g);function g(){}var F=(S.prototype.getWebCommandMetadata=function(e){var t=e.substring(e.lastIndexOf("/")+1),o=e.substring(1,e.lastIndexOf("/"));return this.metadataService.LoadMetadata(t,o).pipe(n.map(function(e){return(new O).InitFromJobject(JSON.parse(e.content))}))},S.decorators=[{type:t.Injectable,args:[{providedIn:"root"}]}],S.ctorParameters=function(){return[{type:o.GSPMetadataService}]},S.ngInjectableDef=t.defineInjectable({factory:function(){return new S(t.inject(o.GSPMetadataService))},token:S,providedIn:"root"}),S);function S(e){this.metadataService=e}var B=(G.decorators=[{type:t.NgModule,args:[{imports:[o.MetadataSelectModule],providers:[o.GSPMetadataService]}]}],G);function G(){}function R(){}var T={IF:0,ELSEIF:1,ELSE:2};T[T.IF]="IF",T[T.ELSEIF]="ELSEIF",T[T.ELSE]="ELSE",e.WebCommandMetadata=x,e.WebCommandMetadataConvertor=O,e.ExtendProperty=P,e.ExtendsConvert=J,e.WebCommand=E,e.WebCommandConvertor=w,e.CmdParameter=R,e.CommandItemConvertor=y,e.CmpMethodRefering=i,e.CmpMethodReferingConvert=p,e.CmpMethodParamConfig=r,e.CmpMethodParamConfigConvert=a,e.BranchCollectionCommandItem=v,e.BranchCollectionCommandItemConvertor=l,e.BranchCommandItem=C,e.BranchCommandItemConvertor=f,e.ConditionType=T,e.CommandItemType=m,e.WebCommandComponentService=F,e.WebcmdModule=B,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=gsp-cmp-webcommand.umd.min.js.map