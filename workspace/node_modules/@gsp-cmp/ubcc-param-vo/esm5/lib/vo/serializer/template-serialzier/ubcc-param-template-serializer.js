/**
 * @fileoverview added by tsickle
 * Generated from: lib/vo/serializer/template-serialzier/ubcc-param-template-serializer.ts
 * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { UbccParamTemplate } from '../../param-template-vo/ubcc-param-template';
import { UbccParamSerializerContext } from '../serializer-context/ubcc-serializer-context';
import { ParameterGroup } from '../../param-template-vo/parameter-group';
var UbccParamTemplateSerializer = /** @class */ (function () {
    function UbccParamTemplateSerializer() {
    }
    /**
     * @param {?} template
     * @return {?}
     */
    UbccParamTemplateSerializer.prototype.serialize = /**
     * @param {?} template
     * @return {?}
     */
    function (template) {
        /** @type {?} */
        var jobj = new Object();
        if (!template) {
            return null;
        }
        jobj['id'] = template.id;
        jobj['index'] = template.index;
        jobj['code'] = template.code;
        jobj['name'] = template.name;
        jobj['description'] = template.description;
        jobj['bizTypeId'] = template.bizTypeId;
        jobj['bizTypePath'] = template.bizTypePath;
        jobj['bizModule'] = template.bizModule;
        jobj['templateType'] = template.templateType;
        jobj['groupEnable'] = template.groupEnable;
        /** @type {?} */
        var context = new UbccParamSerializerContext();
        if (template.params) {
            jobj['params'] = new Array();
            template.params.forEach((/**
             * @param {?} param
             * @return {?}
             */
            function (param) {
                /** @type {?} */
                var paramJobj = new Object();
                /** @type {?} */
                var serializer = context.getParameterSerializerFactory().get(param.kind);
                paramJobj = serializer.serialize(param, context);
                jobj['params'].push(paramJobj);
            }));
        }
        if (template.structuredTypes) {
            jobj['structuredTypes'] = new Array();
            template.structuredTypes.forEach((/**
             * @param {?} structure
             * @return {?}
             */
            function (structure) {
                /** @type {?} */
                var structureJobj = new Object();
                /** @type {?} */
                var serializer = context.getDataTypeSerializerFactory().get(structure.kind);
                structureJobj = serializer.serialize(structure, context);
                jobj['structuredTypes'].push(structureJobj);
            }));
        }
        if (template.groups) {
            jobj['groups'] = new Array();
            template.groups.forEach((/**
             * @param {?} group
             * @return {?}
             */
            function (group) {
                jobj['groups'].push(group);
            }));
        }
        return jobj;
    };
    /**
     * @param {?} jobj
     * @return {?}
     */
    UbccParamTemplateSerializer.prototype.deserializer = /**
     * @param {?} jobj
     * @return {?}
     */
    function (jobj) {
        if (!jobj) {
            return null;
        }
        /** @type {?} */
        var template = new UbccParamTemplate();
        template.id = jobj['id'];
        template.index = (/** @type {?} */ (jobj['index']));
        template.code = jobj['code'];
        template.name = jobj['name'];
        template.description = jobj['description'];
        template.bizTypeId = jobj['bizTypeId'];
        template.bizTypePath = jobj['bizTypePath'];
        template.bizModule = jobj['bizModule'];
        template.templateType = jobj['templateType'];
        template.groupEnable = jobj['groupEnable'];
        /** @type {?} */
        var context = new UbccParamSerializerContext();
        if (jobj['params']) {
            template.params = new Array();
            jobj['params'].forEach((/**
             * @param {?} paramJobj
             * @return {?}
             */
            function (paramJobj) {
                /** @type {?} */
                var serializer = context.getParameterSerializerFactory().get(paramJobj['kind']);
                /** @type {?} */
                var param = serializer.deserialize(paramJobj, context);
                template.params.push(param);
            }));
        }
        if (jobj['structuredTypes']) {
            template.structuredTypes = new Array();
            jobj['structuredTypes'].forEach((/**
             * @param {?} structurJobj
             * @return {?}
             */
            function (structurJobj) {
                /** @type {?} */
                var serializer = context.getDataTypeSerializerFactory().get(structurJobj['kind']);
                /** @type {?} */
                var structure = (/** @type {?} */ (serializer.deserialize(structurJobj, context)));
                template.structuredTypes.push(structure);
            }));
        }
        if (jobj['groups']) {
            template.groups = new Array();
            jobj['groups'].forEach((/**
             * @param {?} groupJobj
             * @return {?}
             */
            function (groupJobj) {
                template.groups.push(Object.assign(new ParameterGroup(), groupJobj));
            }));
        }
        return template;
    };
    return UbccParamTemplateSerializer;
}());
export { UbccParamTemplateSerializer };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidWJjYy1wYXJhbS10ZW1wbGF0ZS1zZXJpYWxpemVyLmpzIiwic291cmNlUm9vdCI6Im5nOi8vQGdzcC1jbXAvdWJjYy1wYXJhbS12by8iLCJzb3VyY2VzIjpbImxpYi92by9zZXJpYWxpemVyL3RlbXBsYXRlLXNlcmlhbHppZXIvdWJjYy1wYXJhbS10ZW1wbGF0ZS1zZXJpYWxpemVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7O0FBQUEsT0FBTyxFQUFFLGlCQUFpQixFQUFFLE1BQU0sNkNBQTZDLENBQUM7QUFDaEYsT0FBTyxFQUFFLDBCQUEwQixFQUFFLE1BQU0sK0NBQStDLENBQUM7QUFFM0YsT0FBTyxFQUFFLGNBQWMsRUFBRSxNQUFNLHlDQUF5QyxDQUFDO0FBRXpFO0lBQUE7SUFxRkEsQ0FBQzs7Ozs7SUFuRkcsK0NBQVM7Ozs7SUFBVCxVQUFVLFFBQTJCOztZQUM3QixJQUFJLEdBQUMsSUFBSSxNQUFNLEVBQUU7UUFDckIsSUFBRyxDQUFDLFFBQVEsRUFBQztZQUNULE9BQU8sSUFBSSxDQUFDO1NBQ2Y7UUFDRCxJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUUsUUFBUSxDQUFDLEVBQUUsQ0FBQztRQUN4QixJQUFJLENBQUMsT0FBTyxDQUFDLEdBQUUsUUFBUSxDQUFDLEtBQUssQ0FBQztRQUM5QixJQUFJLENBQUMsTUFBTSxDQUFDLEdBQUUsUUFBUSxDQUFDLElBQUksQ0FBQztRQUM1QixJQUFJLENBQUMsTUFBTSxDQUFDLEdBQUUsUUFBUSxDQUFDLElBQUksQ0FBQztRQUM1QixJQUFJLENBQUMsYUFBYSxDQUFDLEdBQUUsUUFBUSxDQUFDLFdBQVcsQ0FBQztRQUMxQyxJQUFJLENBQUMsV0FBVyxDQUFDLEdBQUUsUUFBUSxDQUFDLFNBQVMsQ0FBQztRQUN0QyxJQUFJLENBQUMsYUFBYSxDQUFDLEdBQUUsUUFBUSxDQUFDLFdBQVcsQ0FBQztRQUMxQyxJQUFJLENBQUMsV0FBVyxDQUFDLEdBQUUsUUFBUSxDQUFDLFNBQVMsQ0FBQztRQUN0QyxJ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Q0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLElBQUksY0FBYyxFQUFFLEVBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQztZQUN4RSxDQUFDLEVBQUMsQ0FBQztTQUNOO1FBQ0QsT0FBTyxRQUFRLENBQUM7SUFDcEIsQ0FBQztJQUNMLGtDQUFDO0FBQUQsQ0FBQyxBQXJGRCxJQXFGQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFViY2NQYXJhbVRlbXBsYXRlIH0gZnJvbSAnLi4vLi4vcGFyYW0tdGVtcGxhdGUtdm8vdWJjYy1wYXJhbS10ZW1wbGF0ZSc7XHJcbmltcG9ydCB7IFViY2NQYXJhbVNlcmlhbGl6ZXJDb250ZXh0IH0gZnJvbSAnLi4vc2VyaWFsaXplci1jb250ZXh0L3ViY2Mtc2VyaWFsaXplci1jb250ZXh0JztcclxuaW1wb3J0IHsgUGFyYW1ldGVyLCBTdHJ1Y3R1cmVkVHlwZSB9IGZyb20gJ0BlY3AtY2FmL2NvbW1vbi1zdHJ1Y3R1cmUnO1xyXG5pbXBvcnQgeyBQYXJhbWV0ZXJHcm91cCB9IGZyb20gJy4uLy4uL3BhcmFtLXRlbXBsYXRlLXZvL3BhcmFtZXRlci1ncm91cCc7XHJcblxyXG5leHBvcnQgY2xhc3MgVWJjY1BhcmFtVGVtcGxhdGVTZXJpYWxpemVye1xyXG5cclxuICAgIHNlcmlhbGl6ZSh0ZW1wbGF0ZTogVWJjY1BhcmFtVGVtcGxhdGUpOk9iamVjdHtcclxuICAgICAgICBsZXQgam9iaj1uZXcgT2JqZWN0KCk7XHJcbiAgICAgICAgaWYoIXRlbXBsYXRlKXtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGpvYmpbJ2lkJ10gPXRlbXBsYXRlLmlkO1xyXG4gICAgICAgIGpvYmpbJ2luZGV4J10gPXRlbXBsYXRlLmluZGV4O1xyXG4gICAgICAgIGpvYmpbJ2NvZGUnXSA9dGVtcGxhdGUuY29kZTtcclxuICAgICAgICBqb2JqWyduYW1lJ10gPXRlbXBsYXRlLm5hbWU7XHJcbiAgICAgICAgam9ialsnZGVzY3JpcHRpb24nXSA9dGVtcGxhdGUuZGVzY3JpcHRpb247XHJcbiAgICAgICAgam9ialsnYml6VHlwZUlkJ10gPXRlbXBsYXRlLmJpelR5cGVJZDtcclxuICAgICAgICBqb2JqWydiaXpUeXBlUGF0aCddID10ZW1wbGF0ZS5iaXpUeXBlUGF0aDtcclxuICAgICAgICBqb2JqWydiaXpNb2R1bGUnXSA9dGVtcGxhdGUuYml6TW9kdWxlO1xyXG4gICAgICAgIGpvYmpbJ3RlbXBsYXRlVHlwZSddID10ZW1wbGF0ZS50ZW1wbGF0ZVR5cGU7XHJcbiAgICAgICAgam9ialsnZ3JvdXBFbmFibGUnXSA9dGVtcGxhdGUuZ3JvdXBFbmFibGU7XHJcbiAgICAgICAgbGV0IGNvbnRleHQ9bmV3IFViY2NQYXJhbVNlcmlhbGl6ZXJDb250ZXh0KCk7XHJcbiAgICAgICAgaWYodGVtcGxhdGUucGFyYW1zKXtcclxuICAgICAgICAgICAgam9ialsncGFyYW1zJ109bmV3IEFycmF5PE9iamVjdD4oKTtcclxuICAgICAgICAgICAgdGVtcGxhdGUucGFyYW1zLmZvckVhY2gocGFyYW0gPT4ge1xyXG4gICAgICAgICAgICAgICAgbGV0IHBhcmFtSm9iaj1uZXcgT2JqZWN0KCk7XHJcbiAgICAgICAgICAgICAgICBsZXQgc2VyaWFsaXplcj1jb250ZXh0LmdldFBhcmFtZXRlclNlcmlhbGl6ZXJGYWN0b3J5KCkuZ2V0KHBhcmFtLmtpbmQpO1xyXG4gICAgICAgICAgICAgICAgcGFyYW1Kb2JqPXNlcmlhbGl6ZXIuc2VyaWFsaXplKHBhcmFtLGNvbnRleHQpO1xyXG4gICAgICAgICAgICAgICAgam9ialsncGFyYW1zJ10ucHVzaChwYXJhbUpvYmopO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYodGVtcGxhdGUuc3RydWN0dXJlZFR5cGVzKXtcclxuICAgICAgICAgICAgam9ialsnc3RydWN0dXJlZFR5cGVzJ109bmV3IEFycmF5PE9iamVjdD4oKTtcclxuICAgICAgICAgICAgdGVtcGxhdGUuc3RydWN0dXJlZFR5cGVzLmZvckVhY2goc3RydWN0dXJlID0+IHtcclxuICAgICAgICAgICAgICAgIGxldCBzdHJ1Y3R1cmVKb2JqPW5ldyBPYmplY3QoKTtcclxuICAgICAgICAgICAgICAgIGxldCBzZXJpYWxpemVyPWNvbnRleHQuZ2V0RGF0YVR5cGVTZXJpYWxpemVyRmFjdG9yeSgpLmdldChzdHJ1Y3R1cmUua2luZCk7XHJcbiAgICAgICAgICAgICAgICBzdHJ1Y3R1cmVKb2JqPXNlcmlhbGl6ZXIuc2VyaWFsaXplKHN0cnVjdHVyZSxjb250ZXh0KTtcclxuICAgICAgICAgICAgICAgIGpvYmpbJ3N0cnVjdHVyZWRUeXBlcyddLnB1c2goc3RydWN0dXJlSm9iaik7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZih0ZW1wbGF0ZS5ncm91cHMpe1xyXG4gICAgICAgICAgICBqb2JqWydncm91cHMnXT1uZXcgQXJyYXk8T2JqZWN0PigpO1xyXG4gICAgICAgICAgICB0ZW1wbGF0ZS5ncm91cHMuZm9yRWFjaChncm91cCA9PiB7XHJcbiAgICAgICAgICAgICAgICBqb2JqWydncm91cHMnXS5wdXNoKGdyb3VwKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBqb2JqO1xyXG4gICAgfVxyXG5cclxuICAgIGRlc2VyaWFsaXplcihqb2JqOk9iamVjdCk6VWJjY1BhcmFtVGVtcGxhdGV7XHJcbiAgICAgICAgaWYoIWpvYmope1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IHRlbXBsYXRlPW5ldyBVYmNjUGFyYW1UZW1wbGF0ZSgpO1xyXG4gICAgICAgIHRlbXBsYXRlLmlkPWpvYmpbJ2lkJ107XHJcbiAgICAgICAgdGVtcGxhdGUuaW5kZXg9am9ialsnaW5kZXgnXSBhcyBudW1iZXI7XHJcbiAgICAgICAgdGVtcGxhdGUuY29kZT1qb2JqWydjb2RlJ107XHJcbiAgICAgICAgdGVtcGxhdGUubmFtZT1qb2JqWyduYW1lJ107XHJcbiAgICAgICAgdGVtcGxhdGUuZGVzY3JpcHRpb249am9ialsnZGVzY3JpcHRpb24nXTtcclxuICAgICAgICB0ZW1wbGF0ZS5iaXpUeXBlSWQ9am9ialsnYml6VHlwZUlkJ107XHJcbiAgICAgICAgdGVtcGxhdGUuYml6VHlwZVBhdGg9am9ialsnYml6VHlwZVBhdGgnXTtcclxuICAgICAgICB0ZW1wbGF0ZS5iaXpNb2R1bGU9am9ialsnYml6TW9kdWxlJ107XHJcbiAgICAgICAgdGVtcGxhdGUudGVtcGxhdGVUeXBlPWpvYmpbJ3RlbXBsYXRlVHlwZSddO1xyXG4gICAgICAgIHRlbXBsYXRlLmdyb3VwRW5hYmxlPWpvYmpbJ2dyb3VwRW5hYmxlJ107XHJcbiAgICAgICAgbGV0IGNvbnRleHQ9bmV3IFViY2NQYXJhbVNlcmlhbGl6ZXJDb250ZXh0KCk7XHJcbiAgICAgICAgaWYoam9ialsncGFyYW1zJ10pe1xyXG4gICAgICAgICAgICB0ZW1wbGF0ZS5wYXJhbXM9bmV3IEFycmF5PFBhcmFtZXRlcj4oKTtcclxuICAgICAgICAgICAgam9ialsncGFyYW1zJ10uZm9yRWFjaChwYXJhbUpvYmogPT4ge1xyXG4gICAgICAgICAgICAgICAgbGV0IHNlcmlhbGl6ZXI9Y29udGV4dC5nZXRQYXJhbWV0ZXJTZXJpYWxpemVyRmFjdG9yeSgpLmdldChwYXJhbUpvYmpbJ2tpbmQnXSk7XHJcbiAgICAgICAgICAgICAgICBsZXQgcGFyYW09IHNlcmlhbGl6ZXIuZGVzZXJpYWxpemUocGFyYW1Kb2JqLGNvbnRleHQpO1xyXG4gICAgICAgICAgICAgICAgdGVtcGxhdGUucGFyYW1zLnB1c2gocGFyYW0pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYoam9ialsnc3RydWN0dXJlZFR5cGVzJ10pe1xyXG4gICAgICAgICAgICB0ZW1wbGF0ZS5zdHJ1Y3R1cmVkVHlwZXM9bmV3IEFycmF5PFN0cnVjdHVyZWRUeXBlPigpO1xyXG4gICAgICAgICAgICBqb2JqWydzdHJ1Y3R1cmVkVHlwZXMnXS5mb3JFYWNoKHN0cnVjdHVySm9iaiA9PiB7XHJcbiAgICAgICAgICAgICAgICBsZXQgc2VyaWFsaXplcj1jb250ZXh0LmdldERhdGFUeXBlU2VyaWFsaXplckZhY3RvcnkoKS5nZXQoc3RydWN0dXJKb2JqWydraW5kJ10pO1xyXG4gICAgICAgICAgICAgICAgbGV0IHN0cnVjdHVyZT0gc2VyaWFsaXplci5kZXNlcmlhbGl6ZShzdHJ1Y3R1ckpvYmosY29udGV4dCkgYXMgU3RydWN0dXJlZFR5cGU7XHJcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZS5zdHJ1Y3R1cmVkVHlwZXMucHVzaChzdHJ1Y3R1cmUpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYoam9ialsnZ3JvdXBzJ10pe1xyXG4gICAgICAgICAgICB0ZW1wbGF0ZS5ncm91cHM9bmV3IEFycmF5PFBhcmFtZXRlckdyb3VwPigpO1xyXG4gICAgICAgICAgICBqb2JqWydncm91cHMnXS5mb3JFYWNoKGdyb3VwSm9iaiA9PiB7XHJcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZS5ncm91cHMucHVzaChPYmplY3QuYXNzaWduKG5ldyBQYXJhbWV0ZXJHcm91cCgpLGdyb3VwSm9iaikpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRlbXBsYXRlO1xyXG4gICAgfVxyXG59Il19