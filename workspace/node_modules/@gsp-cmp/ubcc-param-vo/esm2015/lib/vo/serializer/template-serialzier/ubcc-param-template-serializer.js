/**
 * @fileoverview added by tsickle
 * Generated from: lib/vo/serializer/template-serialzier/ubcc-param-template-serializer.ts
 * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { UbccParamTemplate } from '../../param-template-vo/ubcc-param-template';
import { UbccParamSerializerContext } from '../serializer-context/ubcc-serializer-context';
import { ParameterGroup } from '../../param-template-vo/parameter-group';
export class UbccParamTemplateSerializer {
    /**
     * @param {?} template
     * @return {?}
     */
    serialize(template) {
        /** @type {?} */
        let jobj = new Object();
        if (!template) {
            return null;
        }
        jobj['id'] = template.id;
        jobj['index'] = template.index;
        jobj['code'] = template.code;
        jobj['name'] = template.name;
        jobj['description'] = template.description;
        jobj['bizTypeId'] = template.bizTypeId;
        jobj['bizTypePath'] = template.bizTypePath;
        jobj['bizModule'] = template.bizModule;
        jobj['templateType'] = template.templateType;
        jobj['groupEnable'] = template.groupEnable;
        /** @type {?} */
        let context = new UbccParamSerializerContext();
        if (template.params) {
            jobj['params'] = new Array();
            template.params.forEach((/**
             * @param {?} param
             * @return {?}
             */
            param => {
                /** @type {?} */
                let paramJobj = new Object();
                /** @type {?} */
                let serializer = context.getParameterSerializerFactory().get(param.kind);
                paramJobj = serializer.serialize(param, context);
                jobj['params'].push(paramJobj);
            }));
        }
        if (template.structuredTypes) {
            jobj['structuredTypes'] = new Array();
            template.structuredTypes.forEach((/**
             * @param {?} structure
             * @return {?}
             */
            structure => {
                /** @type {?} */
                let structureJobj = new Object();
                /** @type {?} */
                let serializer = context.getDataTypeSerializerFactory().get(structure.kind);
                structureJobj = serializer.serialize(structure, context);
                jobj['structuredTypes'].push(structureJobj);
            }));
        }
        if (template.groups) {
            jobj['groups'] = new Array();
            template.groups.forEach((/**
             * @param {?} group
             * @return {?}
             */
            group => {
                jobj['groups'].push(group);
            }));
        }
        return jobj;
    }
    /**
     * @param {?} jobj
     * @return {?}
     */
    deserializer(jobj) {
        if (!jobj) {
            return null;
        }
        /** @type {?} */
        let template = new UbccParamTemplate();
        template.id = jobj['id'];
        template.index = (/** @type {?} */ (jobj['index']));
        template.code = jobj['code'];
        template.name = jobj['name'];
        template.description = jobj['description'];
        template.bizTypeId = jobj['bizTypeId'];
        template.bizTypePath = jobj['bizTypePath'];
        template.bizModule = jobj['bizModule'];
        template.templateType = jobj['templateType'];
        template.groupEnable = jobj['groupEnable'];
        /** @type {?} */
        let context = new UbccParamSerializerContext();
        if (jobj['params']) {
            template.params = new Array();
            jobj['params'].forEach((/**
             * @param {?} paramJobj
             * @return {?}
             */
            paramJobj => {
                /** @type {?} */
                let serializer = context.getParameterSerializerFactory().get(paramJobj['kind']);
                /** @type {?} */
                let param = serializer.deserialize(paramJobj, context);
                template.params.push(param);
            }));
        }
        if (jobj['structuredTypes']) {
            template.structuredTypes = new Array();
            jobj['structuredTypes'].forEach((/**
             * @param {?} structurJobj
             * @return {?}
             */
            structurJobj => {
                /** @type {?} */
                let serializer = context.getDataTypeSerializerFactory().get(structurJobj['kind']);
                /** @type {?} */
                let structure = (/** @type {?} */ (serializer.deserialize(structurJobj, context)));
                template.structuredTypes.push(structure);
            }));
        }
        if (jobj['groups']) {
            template.groups = new Array();
            jobj['groups'].forEach((/**
             * @param {?} groupJobj
             * @return {?}
             */
            groupJobj => {
                template.groups.push(Object.assign(new ParameterGroup(), groupJobj));
            }));
        }
        return template;
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidWJjYy1wYXJhbS10ZW1wbGF0ZS1zZXJpYWxpemVyLmpzIiwic291cmNlUm9vdCI6Im5nOi8vQGdzcC1jbXAvdWJjYy1wYXJhbS12by8iLCJzb3VyY2VzIjpbImxpYi92by9zZXJpYWxpemVyL3RlbXBsYXRlLXNlcmlhbHppZXIvdWJjYy1wYXJhbS10ZW1wbGF0ZS1zZXJpYWxpemVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7O0FBQUEsT0FBTyxFQUFFLGlCQUFpQixFQUFFLE1BQU0sNkNBQTZDLENBQUM7QUFDaEYsT0FBTyxFQUFFLDBCQUEwQixFQUFFLE1BQU0sK0NBQStDLENBQUM7QUFFM0YsT0FBTyxFQUFFLGNBQWMsRUFBRSxNQUFNLHlDQUF5QyxDQUFDO0FBRXpFLE1BQU0sT0FBTywyQkFBMkI7Ozs7O0lBRXBDLFNBQVMsQ0FBQyxRQUEyQjs7WUFDN0IsSUFBSSxHQUFDLElBQUksTUFBTSxFQUFFO1FBQ3JCLElBQUcsQ0FBQyxRQUFRLEVBQUM7WUFDVCxPQUFPLElBQUksQ0FBQztTQUNmO1FBQ0QsSUFBSSxDQUFDLElBQUksQ0FBQyxHQUFFLFFBQVEsQ0FBQyxFQUFFLENBQUM7UUFDeEIsSUFBSSxDQUFDLE9BQU8sQ0FBQyxHQUFFLFFBQVEsQ0FBQyxLQUFLLENBQUM7UUFDOUIsSUFBSSxDQUFDLE1BQU0sQ0FBQyxHQUFFLFFBQVEsQ0FBQyxJQUFJLENBQUM7UUFDNUIsSUFBSSxDQUFDLE1BQU0sQ0FBQyxHQUFFLFFBQVEsQ0FBQyxJQUFJLENBQUM7UUFDNUIsSUFBSSxDQUFDLGFBQWEsQ0FBQyxHQUFFLFFBQVEsQ0FBQyxXQUFXLENBQUM7UUFDMUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxHQUFFLFFBQVEsQ0FBQyxTQUFTLENBQUM7UUFDdEMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxHQUFFLFFBQVEsQ0FBQyxXQUFXLENBQUM7UUFDMUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxHQUFFLFFBQVEsQ0FBQyxTQUFTLENBQUM7UUFDdEMsSUFBSSxDQUFD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QU0sQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxJQUFJLGNBQWMsRUFBRSxFQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUM7WUFDeEUsQ0FBQyxFQUFDLENBQUM7U0FDTjtRQUNELE9BQU8sUUFBUSxDQUFDO0lBQ3BCLENBQUM7Q0FDSiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFViY2NQYXJhbVRlbXBsYXRlIH0gZnJvbSAnLi4vLi4vcGFyYW0tdGVtcGxhdGUtdm8vdWJjYy1wYXJhbS10ZW1wbGF0ZSc7XHJcbmltcG9ydCB7IFViY2NQYXJhbVNlcmlhbGl6ZXJDb250ZXh0IH0gZnJvbSAnLi4vc2VyaWFsaXplci1jb250ZXh0L3ViY2Mtc2VyaWFsaXplci1jb250ZXh0JztcclxuaW1wb3J0IHsgUGFyYW1ldGVyLCBTdHJ1Y3R1cmVkVHlwZSB9IGZyb20gJ0BlY3AtY2FmL2NvbW1vbi1zdHJ1Y3R1cmUnO1xyXG5pbXBvcnQgeyBQYXJhbWV0ZXJHcm91cCB9IGZyb20gJy4uLy4uL3BhcmFtLXRlbXBsYXRlLXZvL3BhcmFtZXRlci1ncm91cCc7XHJcblxyXG5leHBvcnQgY2xhc3MgVWJjY1BhcmFtVGVtcGxhdGVTZXJpYWxpemVye1xyXG5cclxuICAgIHNlcmlhbGl6ZSh0ZW1wbGF0ZTogVWJjY1BhcmFtVGVtcGxhdGUpOk9iamVjdHtcclxuICAgICAgICBsZXQgam9iaj1uZXcgT2JqZWN0KCk7XHJcbiAgICAgICAgaWYoIXRlbXBsYXRlKXtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGpvYmpbJ2lkJ10gPXRlbXBsYXRlLmlkO1xyXG4gICAgICAgIGpvYmpbJ2luZGV4J10gPXRlbXBsYXRlLmluZGV4O1xyXG4gICAgICAgIGpvYmpbJ2NvZGUnXSA9dGVtcGxhdGUuY29kZTtcclxuICAgICAgICBqb2JqWyduYW1lJ10gPXRlbXBsYXRlLm5hbWU7XHJcbiAgICAgICAgam9ialsnZGVzY3JpcHRpb24nXSA9dGVtcGxhdGUuZGVzY3JpcHRpb247XHJcbiAgICAgICAgam9ialsnYml6VHlwZUlkJ10gPXRlbXBsYXRlLmJpelR5cGVJZDtcclxuICAgICAgICBqb2JqWydiaXpUeXBlUGF0aCddID10ZW1wbGF0ZS5iaXpUeXBlUGF0aDtcclxuICAgICAgICBqb2JqWydiaXpNb2R1bGUnXSA9dGVtcGxhdGUuYml6TW9kdWxlO1xyXG4gICAgICAgIGpvYmpbJ3RlbXBsYXRlVHlwZSddID10ZW1wbGF0ZS50ZW1wbGF0ZVR5cGU7XHJcbiAgICAgICAgam9ialsnZ3JvdXBFbmFibGUnXSA9dGVtcGxhdGUuZ3JvdXBFbmFibGU7XHJcbiAgICAgICAgbGV0IGNvbnRleHQ9bmV3IFViY2NQYXJhbVNlcmlhbGl6ZXJDb250ZXh0KCk7XHJcbiAgICAgICAgaWYodGVtcGxhdGUucGFyYW1zKXtcclxuICAgICAgICAgICAgam9ialsncGFyYW1zJ109bmV3IEFycmF5PE9iamVjdD4oKTtcclxuICAgICAgICAgICAgdGVtcGxhdGUucGFyYW1zLmZvckVhY2gocGFyYW0gPT4ge1xyXG4gICAgICAgICAgICAgICAgbGV0IHBhcmFtSm9iaj1uZXcgT2JqZWN0KCk7XHJcbiAgICAgICAgICAgICAgICBsZXQgc2VyaWFsaXplcj1jb250ZXh0LmdldFBhcmFtZXRlclNlcmlhbGl6ZXJGYWN0b3J5KCkuZ2V0KHBhcmFtLmtpbmQpO1xyXG4gICAgICAgICAgICAgICAgcGFyYW1Kb2JqPXNlcmlhbGl6ZXIuc2VyaWFsaXplKHBhcmFtLGNvbnRleHQpO1xyXG4gICAgICAgICAgICAgICAgam9ialsncGFyYW1zJ10ucHVzaChwYXJhbUpvYmopO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYodGVtcGxhdGUuc3RydWN0dXJlZFR5cGVzKXtcclxuICAgICAgICAgICAgam9ialsnc3RydWN0dXJlZFR5cGVzJ109bmV3IEFycmF5PE9iamVjdD4oKTtcclxuICAgICAgICAgICAgdGVtcGxhdGUuc3RydWN0dXJlZFR5cGVzLmZvckVhY2goc3RydWN0dXJlID0+IHtcclxuICAgICAgICAgICAgICAgIGxldCBzdHJ1Y3R1cmVKb2JqPW5ldyBPYmplY3QoKTtcclxuICAgICAgICAgICAgICAgIGxldCBzZXJpYWxpemVyPWNvbnRleHQuZ2V0RGF0YVR5cGVTZXJpYWxpemVyRmFjdG9yeSgpLmdldChzdHJ1Y3R1cmUua2luZCk7XHJcbiAgICAgICAgICAgICAgICBzdHJ1Y3R1cmVKb2JqPXNlcmlhbGl6ZXIuc2VyaWFsaXplKHN0cnVjdHVyZSxjb250ZXh0KTtcclxuICAgICAgICAgICAgICAgIGpvYmpbJ3N0cnVjdHVyZWRUeXBlcyddLnB1c2goc3RydWN0dXJlSm9iaik7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZih0ZW1wbGF0ZS5ncm91cHMpe1xyXG4gICAgICAgICAgICBqb2JqWydncm91cHMnXT1uZXcgQXJyYXk8T2JqZWN0PigpO1xyXG4gICAgICAgICAgICB0ZW1wbGF0ZS5ncm91cHMuZm9yRWFjaChncm91cCA9PiB7XHJcbiAgICAgICAgICAgICAgICBqb2JqWydncm91cHMnXS5wdXNoKGdyb3VwKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBqb2JqO1xyXG4gICAgfVxyXG5cclxuICAgIGRlc2VyaWFsaXplcihqb2JqOk9iamVjdCk6VWJjY1BhcmFtVGVtcGxhdGV7XHJcbiAgICAgICAgaWYoIWpvYmope1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IHRlbXBsYXRlPW5ldyBVYmNjUGFyYW1UZW1wbGF0ZSgpO1xyXG4gICAgICAgIHRlbXBsYXRlLmlkPWpvYmpbJ2lkJ107XHJcbiAgICAgICAgdGVtcGxhdGUuaW5kZXg9am9ialsnaW5kZXgnXSBhcyBudW1iZXI7XHJcbiAgICAgICAgdGVtcGxhdGUuY29kZT1qb2JqWydjb2RlJ107XHJcbiAgICAgICAgdGVtcGxhdGUubmFtZT1qb2JqWyduYW1lJ107XHJcbiAgICAgICAgdGVtcGxhdGUuZGVzY3JpcHRpb249am9ialsnZGVzY3JpcHRpb24nXTtcclxuICAgICAgICB0ZW1wbGF0ZS5iaXpUeXBlSWQ9am9ialsnYml6VHlwZUlkJ107XHJcbiAgICAgICAgdGVtcGxhdGUuYml6VHlwZVBhdGg9am9ialsnYml6VHlwZVBhdGgnXTtcclxuICAgICAgICB0ZW1wbGF0ZS5iaXpNb2R1bGU9am9ialsnYml6TW9kdWxlJ107XHJcbiAgICAgICAgdGVtcGxhdGUudGVtcGxhdGVUeXBlPWpvYmpbJ3RlbXBsYXRlVHlwZSddO1xyXG4gICAgICAgIHRlbXBsYXRlLmdyb3VwRW5hYmxlPWpvYmpbJ2dyb3VwRW5hYmxlJ107XHJcbiAgICAgICAgbGV0IGNvbnRleHQ9bmV3IFViY2NQYXJhbVNlcmlhbGl6ZXJDb250ZXh0KCk7XHJcbiAgICAgICAgaWYoam9ialsncGFyYW1zJ10pe1xyXG4gICAgICAgICAgICB0ZW1wbGF0ZS5wYXJhbXM9bmV3IEFycmF5PFBhcmFtZXRlcj4oKTtcclxuICAgICAgICAgICAgam9ialsncGFyYW1zJ10uZm9yRWFjaChwYXJhbUpvYmogPT4ge1xyXG4gICAgICAgICAgICAgICAgbGV0IHNlcmlhbGl6ZXI9Y29udGV4dC5nZXRQYXJhbWV0ZXJTZXJpYWxpemVyRmFjdG9yeSgpLmdldChwYXJhbUpvYmpbJ2tpbmQnXSk7XHJcbiAgICAgICAgICAgICAgICBsZXQgcGFyYW09IHNlcmlhbGl6ZXIuZGVzZXJpYWxpemUocGFyYW1Kb2JqLGNvbnRleHQpO1xyXG4gICAgICAgICAgICAgICAgdGVtcGxhdGUucGFyYW1zLnB1c2gocGFyYW0pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYoam9ialsnc3RydWN0dXJlZFR5cGVzJ10pe1xyXG4gICAgICAgICAgICB0ZW1wbGF0ZS5zdHJ1Y3R1cmVkVHlwZXM9bmV3IEFycmF5PFN0cnVjdHVyZWRUeXBlPigpO1xyXG4gICAgICAgICAgICBqb2JqWydzdHJ1Y3R1cmVkVHlwZXMnXS5mb3JFYWNoKHN0cnVjdHVySm9iaiA9PiB7XHJcbiAgICAgICAgICAgICAgICBsZXQgc2VyaWFsaXplcj1jb250ZXh0LmdldERhdGFUeXBlU2VyaWFsaXplckZhY3RvcnkoKS5nZXQoc3RydWN0dXJKb2JqWydraW5kJ10pO1xyXG4gICAgICAgICAgICAgICAgbGV0IHN0cnVjdHVyZT0gc2VyaWFsaXplci5kZXNlcmlhbGl6ZShzdHJ1Y3R1ckpvYmosY29udGV4dCkgYXMgU3RydWN0dXJlZFR5cGU7XHJcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZS5zdHJ1Y3R1cmVkVHlwZXMucHVzaChzdHJ1Y3R1cmUpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYoam9ialsnZ3JvdXBzJ10pe1xyXG4gICAgICAgICAgICB0ZW1wbGF0ZS5ncm91cHM9bmV3IEFycmF5PFBhcmFtZXRlckdyb3VwPigpO1xyXG4gICAgICAgICAgICBqb2JqWydncm91cHMnXS5mb3JFYWNoKGdyb3VwSm9iaiA9PiB7XHJcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZS5ncm91cHMucHVzaChPYmplY3QuYXNzaWduKG5ldyBQYXJhbWV0ZXJHcm91cCgpLGdyb3VwSm9iaikpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRlbXBsYXRlO1xyXG4gICAgfVxyXG59Il19