{"version":3,"file":"gsp-cmp-querysolution.umd.js.map","sources":["node_modules/tslib/tslib.es6.js","ng://@gsp-cmp/querysolution/lib/service/httpservice.ts","ng://@gsp-cmp/querysolution/lib/service/fieldconfig.service.ts","ng://@gsp-cmp/querysolution/lib/interface/IQuerySolutionHandler.ts","ng://@gsp-cmp/querysolution/lib/service/solution.cache.service.ts","ng://@gsp-cmp/querysolution/lib/utils/extend-locale.ts","ng://@gsp-cmp/querysolution/lib/query-solution.component.ts","ng://@gsp-cmp/querysolution/lib/service/edit.service.ts","ng://@gsp-cmp/querysolution/lib/solutionmanager/solutionmanager.component.ts","ng://@gsp-cmp/querysolution/lib/saveasdialog/saveasdialog.component.ts","ng://@gsp-cmp/querysolution/lib/summary-condition/summary-condition.component.ts","ng://@gsp-cmp/querysolution/lib/summary-list/summary-list.component.ts","ng://@gsp-cmp/querysolution/lib/query-solution.module.ts"],"sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\r\nimport { Observable } from 'rxjs';\r\nimport { QuerySolutionVo, QuerySolutionVoConvertor, QueryCondition } from '@farris/component-querycondition';\r\nimport {BasePathService } from '@farris/rtf';\r\n@Injectable()\r\nexport class HttpService {\r\n\r\n    constructor(private http: HttpClient) { \r\n        this.histroyUrl = BasePathService.convertPath(this.histroyUrl)\r\n        this.url = BasePathService.convertPath(this.url)\r\n    }\r\n    private histroyUrl: string = \"/api/runtime/sys/v1.0/querysolution/previousQuery\";\r\n    url: string = '/api/runtime/sys/v1.0/querysolution';\r\n    /**\r\n     * æ°å¢æ¥è¯¢æ¹æ¡\r\n     * @param querySolution æ¥è¯¢æ¹æ¡å®ä½\r\n     */\r\n    create(querySolution: QuerySolutionVo, sessionId: string): Observable<any> {\r\n        let headers = new HttpHeaders({\r\n            'Content-Type': 'application/json',\r\n            'sessionid': sessionId\r\n        });\r\n        const options = {\r\n            headers: headers,\r\n            sessionid: sessionId\r\n        };\r\n        let convertor = new QuerySolutionVoConvertor();\r\n        let body = convertor.convertJObject(querySolution);\r\n        return this.http.post(this.url, body, options);\r\n    }\r\n\r\n    /**\r\n     * æ ¹æ®è¡¨åIDæ¥è¯¢å½åè¡¨åå½åç»å½ç¨æ·çæ¥è¯¢æ¹æ¡åè¡¨\r\n     * @param formId è¡¨åID\r\n     */\r\n    query(formId: string, sessionId: string): Observable<any> {\r\n        let headers = new HttpHeaders({\r\n            'Content-Type': 'application/json',\r\n            'sessionid': sessionId\r\n        });\r\n        const options = {\r\n            headers: headers,\r\n        };\r\n        let belongId = formId;\r\n        // let url = `http://localhost:5100/api/dev/main/v1.0/querysolution/bybelongid/${belongId}`;\r\n        let url = `${this.url}/belongId/${belongId}`;\r\n        return this.http.get(url, options);\r\n    }\r\n\r\n    /**\r\n     * æ´æ°\r\n     * @param querySolution æ¥è¯¢æ¹æ¡å®ä½\r\n     */\r\n    update(querySolution: QuerySolutionVo, sessionId: string) {\r\n        let headers = new HttpHeaders({\r\n            'Content-Type': 'application/json',\r\n            'sessionid': sessionId\r\n        });\r\n        const options = {\r\n            headers: headers\r\n        };\r\n        let convertor = new QuerySolutionVoConvertor();\r\n        let body = convertor.convertJObject(querySolution);\r\n        return this.http.put(this.url, body, options);\r\n    }\r\n\r\n    /**\r\n     * å é¤\r\n     * @unused\r\n     * @param idArray å é¤çè§£å³æ¹æ¡IDåè¡¨\r\n     */\r\n    // delete(idArray: Array<string>, sessionId: string) {\r\n    //     if (!idArray || idArray.length <= 0) {\r\n    //         return;\r\n    //     }\r\n    //     let headers = new HttpHeaders({\r\n    //         'Content-Type': 'application/json',\r\n    //         'sessionid': sessionId\r\n    //     });\r\n    //     const options = {\r\n    //         headers: headers,\r\n    //         sessionid: sessionId\r\n    //     };\r\n    //     let ids = '';\r\n    //     idArray.forEach(id => {\r\n    //         ids = ids + \"#\" + id;\r\n    //     });\r\n    //     let url = `/api/dev/main/v1.0/querysolution/${encodeURIComponent(ids)}`;\r\n    //     return this.http.delete(url, options);\r\n    // }\r\n\r\n    /**\r\n     * æ¹éæ´æ°\r\n     * @param object : '{defaultId, belongId, deletedIds}'\r\n     */\r\n    batchUpdate(body: any, sessionId: string): Observable<any> {\r\n        let headers = new HttpHeaders({\r\n            'Content-Type': 'application/json',\r\n            'sessionid': sessionId\r\n        });\r\n        const options = {\r\n            headers: headers,\r\n            sessionid: sessionId\r\n        };\r\n        let url = `${this.url}/batch`;\r\n        return this.http.put(url, body, options);\r\n    }\r\n\r\n    /**\r\n     * è·åé»è®¤æ¥è¯¢æ¹æ¡ID\r\n     * @unused\r\n     * @param formId\r\n     */\r\n    // getDefaultQuerySolution(formId: string, sessionId: string): Observable<any> {\r\n    //     let headers = new HttpHeaders({\r\n    //         'Content-Type': 'text/plain',\r\n    //         'sessionid': sessionId\r\n    //     });\r\n    //     let belongId = formId;\r\n    //     // let url = `http://localhost:5100/api/dev/main/v1.0/querysolution/defaultSolution/bybelongid/${belongId}`;\r\n    //     let url = `/api/dev/main/v1.0/querysolution/defaultSolution/bybelongid/${belongId}`;\r\n    //     return this.http.get(url, { headers: headers, responseType: 'text' });\r\n    // }\r\n    /**\r\n        * æ¯å¦æ¯æ\r\n        */\r\n    supportLS() {\r\n        if(window.hasOwnProperty(\"localStorage\")) {\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n    /**\r\n     * è®¾ç½®ä¿å­æ¶åï¼å±æ§ä»å°ååæå¤§å\r\n     * @param key \r\n     * @param value \r\n     */\r\n    setLS(key, value: any) {\r\n        let conditionsStr = '[]';\r\n        if(value) {\r\n            if( typeof value == 'string') {\r\n                conditionsStr = value;\r\n            } else {\r\n                const convertor = new QuerySolutionVoConvertor();\r\n                conditionsStr = JSON.stringify(convertor.formatConvertJObject(value));\r\n            }\r\n           \r\n        }\r\n        if(key && this.supportLS) {\r\n            localStorage.setItem(key, conditionsStr);\r\n        } \r\n    }\r\n    /**\r\n     * è·åæ¶ï¼å±æ§ä»å¤§ååæå°å\r\n     * @param key \r\n     */\r\n    getLS(key): Array<QueryCondition> {\r\n        let result = new Array<QueryCondition>();\r\n        if(key && this.supportLS) {\r\n            var v = localStorage.getItem(key);\r\n            if (v != undefined || v !== null) {\r\n                result = JSON.parse(v);\r\n            }\r\n        }\r\n        if(result.length > 0) {\r\n            const convertor = new QuerySolutionVoConvertor();\r\n            return convertor.formatFromJobject(result);\r\n        }\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * æ´æ°\r\n     * @param querySolution æ¥è¯¢æ¹æ¡å®ä½\r\n     */\r\n    saveHistroy(querySolution: QuerySolutionVo, sessionId: string) {\r\n        let headers = new HttpHeaders({\r\n            \"Content-Type\": \"application/json\",\r\n            sessionid: sessionId\r\n        });\r\n        const options = {\r\n            headers: headers\r\n        };\r\n        let convertor = new QuerySolutionVoConvertor();\r\n        let body = convertor.convertJObject(querySolution);\r\n        return this.http.put(this.histroyUrl, body, options);\r\n    }\r\n\r\n    // è·åå½åç¨æ·æ¯å¦ææééç½®å¬å±ç±»åç­éæ¹æ¡ï¼åå«å¨å±å¬å±ãç»ç»å¬å±\r\n    // è¿åç»æï¼ï¼1ï¼æ¯å¦ææéæ°å¢ãä¿®æ¹ãå é¤å¬å±ç±»åç­éæ¹æ¡ï¼ï¼2ï¼å¯ä¸ºåªäºç»ç»è®¾ç½®ç»ç»å¬å±ç­éæ¹æ¡\r\n    getAuth(type: string, sessionId: string) {\r\n        let headers = new HttpHeaders({\r\n            \"Content-Type\": \"application/json\",\r\n            sessionid: sessionId\r\n        });\r\n        const options = {\r\n            headers: headers\r\n        };\r\n        let url = `${this.url}/componentType/${type}`;\r\n        return this.http.get(url, options);\r\n    }\r\n}\r\n","import { Injectable } from '@angular/core';\r\n@Injectable()\r\nexport class FieldConfigService {\r\n}\r\n\r\n","import { QueryCondition } from \"@farris/component-querycondition\";\r\nimport { InjectionToken } from '@angular/core';\r\n\r\nexport interface IQuerySolutionHandler{\r\n    getUserSessionId(): string;\r\n    setFilterConditions(params: Array<QueryCondition>): void;\r\n    setCurrentQueryConditions(conditions: QueryCondition[]): void;\r\n}\r\n\r\nexport const QUERYSOLUTION_HANDLER_TOKEN = new InjectionToken<IQuerySolutionHandler>('gsp-cmp/I_QUERYSOLUTION_HANDLER');","import { Subject } from 'rxjs';\r\n\r\nexport class SolutionCacheService {\r\n  public static solutionListChanged = new Subject();\r\n\r\n  private static solutionListCache = {};\r\n\r\n  private static currentSolution = {};\r\n\r\n  static clearSolutionCache() {\r\n    SolutionCacheService.solutionListCache = {};\r\n  }\r\n\r\n  static removeSolutionCache(key: string) {\r\n    delete SolutionCacheService.solutionListCache[key];\r\n  }\r\n\r\n  static setSolutionCache(key: string, value: any) {\r\n    SolutionCacheService.solutionListCache[key] = value;\r\n  }\r\n\r\n  static getSolutionCache(key: string) {\r\n    return SolutionCacheService.solutionListCache[key];\r\n  }\r\n\r\n  static getSolutionAllCache() {\r\n    return SolutionCacheService.solutionListCache;\r\n  }\r\n\r\n  static setCurrentSolution(key: string, value: any) {\r\n    SolutionCacheService.currentSolution[key] = value;\r\n  }\r\n\r\n  static getCurrentSolution(key: string) {\r\n    return SolutionCacheService.currentSolution[key];\r\n  }\r\n\r\n  static removeCurrentSolution(key: string) {\r\n    delete SolutionCacheService.currentSolution[key];\r\n  }\r\n\r\n  static clearCurrentSolution() {\r\n    SolutionCacheService.currentSolution = {};\r\n  }\r\n}\r\n","export const EXTEND_QUERYSOLUTION_LOCALE = {\r\n    \"zh-CHS\": {\r\n        extendQuerySolution: {\r\n            private: {\r\n                property: 'ä¸ªäºº',\r\n                setAsPrivate: 'ç¨æ·ä¸ªäººæ¹æ¡'\r\n            },\r\n            public: {\r\n                label: 'ç³»ç»å¬å±',\r\n                property: 'ç³»ç»å¬å±',\r\n                setAsPublic: 'ç³»ç»å¬å±æ¹æ¡'\r\n            },\r\n            org: {\r\n                label: 'ç»ç»å¬å±',\r\n                property: 'ç»ç»å¬å±',\r\n                setAsOrgPublic: 'ç»ç»å¬å±æ¹æ¡',\r\n                placeholder: 'è¯·éæ©'\r\n            },\r\n            auth: {\r\n                createError: 'æ¨ææ æéè®¾ç½®å¬å±ç±»åæ¹æ¡ã',\r\n                updateError: 'æ¨ææ æéä¿®æ¹å¬å±ç±»åæ¹æ¡ã',\r\n                deleteError: 'æ¨ææ æéå é¤å¬å±ç±»åæ¹æ¡ã',\r\n                apiError: 'è°ç¨è·åæéæ¥å£å¤±è´¥ï¼',\r\n                noDataAuthority: 'æ¨ææ æéè®¾ç½®ç»ç»å¬å±æ¹æ¡ã',\r\n                noSelectedOrg: 'è¯·éæ©ç»ç»å¬å±æ¹æ¡æå±ç»ç»ã'\r\n            }\r\n        },\r\n        advancedMode: {\r\n            text: {\r\n                sysAdvancedName: 'ï¼é«çº§ï¼',\r\n                standardMode: 'æ åæ¨¡å¼',\r\n                advancedMode: 'é«çº§æ¨¡å¼',\r\n                addCondition: 'æ·»å æ¡ä»¶',\r\n                addConditionGroup: 'çææ¡ä»¶ç»',\r\n                and: 'ä¸',\r\n                or: 'æ',\r\n                reset: 'éç½®'\r\n\r\n            },\r\n            compareType: {\r\n                Equal: 'ç­äº',\r\n                NotEqual: 'ä¸ç­äº',\r\n                Greater: 'å¤§äº',\r\n                GreaterOrEqual: 'å¤§äºç­äº',\r\n                Less: 'å°äº',\r\n                LessOrEqual: 'å°äºç­äº',\r\n                Like: 'åå«',\r\n                LikeStartWith: 'å¼å¤´æ¯',\r\n                LikeEndWith: 'ç»å°¾æ¯',\r\n                NotLike: 'ä¸åå«'\r\n\r\n            },\r\n            auth: {\r\n                conditionEmptyError: 'é«çº§æ¨¡å¼ä¸ç­éé¡¹å¼ä¸åºä¸ºç©ºã'\r\n            },\r\n            info: {\r\n                deleteGroup: 'æ¯å¦ç¡®è®¤åæ¶è¯¥æ¡ä»¶ç»ï¼',\r\n                resetInfo: 'æ¯å¦ç¡®è®¤éç½®æ¡ä»¶ï¼',\r\n                deleteGroupTooltip: 'åæ¶ç»',\r\n                noConditionInfo: 'è¯·åéæ©ç­éæ¡ä»¶ã',\r\n                existGroupInfo: 'éæ©çæ¡ä»¶å·²å­å¨åç»',\r\n                checkedGroupInfo: 'è·¨ç»æä½æ¶ï¼åºå¾éè¯¥ç»ä¸å¨é¨æ°æ®',\r\n                deleteGroupInfo: 'å·²ç»æ¯æå¤å±åç»äº'\r\n\r\n            }\r\n        }\r\n    },\r\n    \"zh-CHT\": {\r\n        extendQuerySolution: {\r\n            private: {\r\n                property: 'åäºº',\r\n                setAsPrivate: 'ç¨æ¶åäººæ¹æ¡'\r\n            },\r\n            public: {\r\n                label: 'ç³»çµ±å¬å±',\r\n                property: 'ç³»çµ±å¬å±',\r\n                setAsPublic: 'ç³»çµ±å¬å±æ¹æ¡'\r\n            },\r\n            org: {\r\n                label: 'çµç¹å¬å±',\r\n                property: 'çµç¹å¬å±',\r\n                setAsOrgPublic: 'çµç¹å¬å±æ¹æ¡',\r\n                placeholder: 'è«é¸æ'\r\n            },\r\n            auth: {\r\n                createError: 'æ¨æ«ç¡æ¬éè¨­ç½®å¬å±é¡åæ¹æ¡ã',\r\n                updateError: 'æ¨æ«ç¡æ¬éä¿®æ¹å¬å±é¡åæ¹æ¡ã',\r\n                deleteError: 'æ¨æ«ç¡æ¬éåªé¤å¬å±é¡åæ¹æ¡ã',\r\n                apiError: 'èª¿ç¨ç²åæ¬éæ¥å£å¤±æï¼',\r\n                noDataAuthority: 'æ¨æ«ç¡æ¬éè¨­ç½®ç»ç»å¬å±æ¹æ¡ã',\r\n                noSelectedOrg: 'è«é¸æçµç¹å¬å±æ¹æ¡æå±¬çµç¹ã'\r\n            }\r\n        },\r\n        advancedMode: {\r\n            text: {\r\n                sysAdvancedName: 'ï¼é«ç´ï¼',\r\n                standardMode: 'æ¨åæ¨¡å¼',\r\n                advancedMode: 'é«ç´æ¨¡å¼',\r\n                addCondition: 'æ·»å æ¢ä»¶',\r\n                addConditionGroup: 'çææ¢ä»¶çµ',\r\n                and: 'ä¸',\r\n                or: 'æ',\r\n                reset: 'éç½®'\r\n\r\n            },\r\n            compareType: {\r\n                Equal: 'ç­äº',\r\n                NotEqual: 'ä¸ç­äº',\r\n                Greater: 'å¤§äº',\r\n                GreaterOrEqual: 'å¤§äºç­äº',\r\n                Less: 'å°äº',\r\n                LessOrEqual: 'å°äºç­äº',\r\n                Like: 'åå«',\r\n                LikeStartWith: 'éé ­æ¯',\r\n                LikeEndWith: 'çµå°¾æ¯',\r\n                NotLike: 'ä¸åå«'\r\n\r\n            },\r\n            auth: {\r\n                conditionEmptyError: 'é«ç´æ¨¡å¼ä¸ç¯©é¸é å¼ä¸æç²ç©ºã'\r\n            },\r\n            info: {\r\n                deleteGroup: 'æ¯å¦ç¢ºèªåæ¶è©²æ¢ä»¶çµï¼',\r\n                resetInfo: 'æ¯å¦ç¢ºèªéç½®æ¢ä»¶ï¼',\r\n                deleteGroupTooltip: 'åæ¶çµ',\r\n                noConditionInfo: 'è«åé¸æç¯©é¸æ¢ä»¶ã',\r\n                existGroupInfo: 'é¸æçæ¢ä»¶å·²å­å¨åçµã',\r\n                checkedGroupInfo: 'è·¨çµæä½æï¼æå¾é¸è©²çµä¸å¨é¨æ¸æã',\r\n                deleteGroupInfo: 'å·²ç¶æ¯æå¤å±¤åçµäºã'\r\n            }\r\n        }\r\n    },\r\n    en: {\r\n        extendQuerySolution: {\r\n            private: {\r\n                property: 'Private Plan',\r\n                setAsPrivate: 'Private Plan'\r\n            },\r\n            public: {\r\n                label: 'Public',\r\n                property: 'Public Plan',\r\n                setAsPublic: 'Public Plan'\r\n            },\r\n            org: {\r\n                label: 'Org',\r\n                property: 'Org Plan',\r\n                setAsOrgPublic: 'Org Plan',\r\n                placeholder: 'Please select'\r\n            },\r\n            auth: {\r\n                createError: 'Donnot have authority to set public solution.',\r\n                updateError: 'Donnot have authority to save public solution.',\r\n                deleteError: 'Donnot have authority to delete public solution.',\r\n                apiError: 'Failed to get authority data!',\r\n                noDataAuthority: 'Donnot have authority to set org-public solution.',\r\n                noSelectedOrg: 'Please select organizations for solution.'\r\n            }\r\n        },\r\n        advancedMode: {\r\n            text: {\r\n                sysAdvancedName: '(Advanced)',\r\n                standardMode: 'Standard Mode',\r\n                advancedMode: 'Advanced Mode',\r\n                addCondition: 'Add Condition',\r\n                addConditionGroup: 'Generate Condition Group',\r\n                and: 'And',\r\n                or: 'Or',\r\n                reset: 'Reset'\r\n\r\n            },\r\n            compareType: {\r\n                Equal: 'Equal',\r\n                NotEqual: 'NotEqual',\r\n                Greater: 'Greater',\r\n                GreaterOrEqual: 'GreaterOrEqual',\r\n                Less: 'Less',\r\n                LessOrEqual: 'LessOrEqual',\r\n                Like: 'Like',\r\n                LikeStartWith: 'LikeStartWith',\r\n                LikeEndWith: 'LikeEndWith',\r\n                NotLike: 'NotLike'\r\n\r\n            },\r\n            auth: {\r\n                conditionEmptyError: 'Filter condition value should not be empty in advanced mode.'\r\n            },\r\n            info: {\r\n                deleteGroup: 'Are you sure to cancel the condition group?',\r\n                resetInfo: 'Are you sure to reset conditions?',\r\n                deleteGroupTooltip: 'Cancel Condition Group.',\r\n                noConditionInfo: 'Please select conditions first.',\r\n                existGroupInfo: 'The selected condition already has a grouping.',\r\n                checkedGroupInfo: 'When operating across groups, all data under that group should be checked.',\r\n                deleteGroupInfo: 'It is already the outermost group.'\r\n            }\r\n        }\r\n    }\r\n};","import {\r\n    Component, OnInit, ViewEncapsulation, HostBinding, ComponentFactory, ComponentFactoryResolver,\r\n    Injector, Input, Output, EventEmitter, ViewChild, InjectFlags, ElementRef, OnChanges, SimpleChanges, ChangeDetectorRef, OnDestroy, Optional\r\n} from '@angular/core';\r\nimport { SaveAsDialogComponent } from './saveasdialog/saveasdialog.component';\r\nimport { SolutionManangerComponent } from './solutionmanager/solutionmanager.component';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport {\r\n    FieldConfig, ConvertorService, QueryCondition, QueryConditionComponent, QuerySolutionVo,\r\n    SmartHelpContol, DropDownListControl, CheckBoxControl, RadioControl, InputGroupControl, QuerySolutionExtendVo\r\n} from '@farris/component-querycondition';\r\nimport { NotifyService } from '@farris/ui-notify';\r\nimport { BsModalService, BsModalRef } from '@farris/ui-modal';\r\nimport { HttpService } from './service/httpservice';\r\nimport { FieldConfigService } from './service/fieldconfig.service';\r\nimport { QuerySolutionVoConvertor, SolutionService } from '@farris/component-querycondition';\r\nimport { IQuerySolutionHandler, QUERYSOLUTION_HANDLER_TOKEN } from './interface/IQuerySolutionHandler';\r\nimport { LocaleService } from '@farris/ui-locale';\r\nimport { cloneDeep } from 'lodash-es';\r\nimport { SolutionCacheService } from './service/solution.cache.service';\r\nimport { DefaultConfigs } from './interface/DefaultConfigs';\r\nimport { EventManager } from '@angular/platform-browser';\r\nimport { IdService } from '@farris/ui-common';\r\nimport { BehaviorSubject, of, Subject } from 'rxjs';\r\nimport { switchMap, takeUntil, tap } from 'rxjs/operators';\r\nimport { EXTEND_QUERYSOLUTION_LOCALE } from './utils/extend-locale';\r\nimport { MessagerService } from '@farris/ui-messager';\r\n\r\ndeclare var gspframeworkService: any;\r\n\r\n@Component({\r\n    selector: 'farris-querysolution',\r\n    templateUrl: './query-solution.component.html',\r\n    styleUrls: ['./query-solution.component.css'],\r\n    encapsulation: ViewEncapsulation.None,\r\n    providers: [HttpService, ConvertorService, FieldConfigService]\r\n})\r\nexport class QuerySolutionComponent implements OnInit, OnChanges, OnDestroy {\r\n\r\n    _fieldConfigs: Array<QueryCondition> = [];\r\n    _presetFieldConfigs: Array<QueryCondition> = [];\r\n    _resetFieldConfigs: Array<any> = [];\r\n\r\n    /**\r\n     *  ç­éæ¹æ¡é»è®¤å¼éç½®\r\n     */\r\n    @Input()\r\n    defaultConfigs: DefaultConfigs;\r\n    /**\r\n     * å­æ®µéç½®æ°æ®æºï¼ç¨äºéæ©å­æ®µéç½®\r\n     */\r\n    @Input()\r\n    set fieldConfigs(fieldConfigJson: Array<any>) {\r\n        this._fieldConfigs = this.solutionService.convertToQueryConditions(fieldConfigJson);\r\n        this.unformatFieldConfigs = fieldConfigJson\r\n    }\r\n    get fieldConfigs() {\r\n        return this._fieldConfigs;\r\n    }\r\n\r\n    /**\r\n     * é«çº§æ¨¡å¼éè¦åå§fieldConfigsï¼éè¦å°èå´ç±»æ§ä»¶æ¹ä¸ºåå¼æ§ä»¶\r\n     */\r\n    unformatFieldConfigs: Array<any> = []\r\n    /**\r\n     * ç³»ç»é¢ç½®æ¥è¯¢æ¹æ¡åç§°\r\n     */\r\n    @Input() presetQuerySolutionName: string;\r\n    @Input() \r\n    set resetFieldConfigs(resetFieldConfigJson: Array<any>) {\r\n        if(!resetFieldConfigJson || !Array.isArray(resetFieldConfigJson) || resetFieldConfigJson.length == 0) {\r\n            return;\r\n        }\r\n        // è§èæ°æ®\r\n        let formatResetConfigJson: Array<any> = resetFieldConfigJson.map(tConfigItem => {\r\n            let findItem = this.fieldConfigs.find(presetItem => presetItem['fieldCode'] == tConfigItem['labelCode']);\r\n            if(findItem) {\r\n                if(!tConfigItem.hasOwnProperty('control')) {\r\n                    tConfigItem['control'] = {};\r\n                }\r\n                tConfigItem['control']['controltype'] = findItem.control.getControlType();\r\n                return tConfigItem;\r\n            }\r\n        });\r\n        this._resetFieldConfigs = this.solutionService.convertToSimpleQueryConditions(formatResetConfigJson.filter(item => item));\r\n\r\n        if(this._resetFieldConfigs.length > 0) {\r\n            this.updateConditionVisibleState(this._resetFieldConfigs);\r\n        }\r\n        \r\n        // æ´æ°å·²æéç½®\r\n        this.solutionService.updateControl(this._presetFieldConfigs, this._resetFieldConfigs);\r\n        this.solutionService.updateControl(this._fieldConfigs, this._resetFieldConfigs);\r\n        this._fieldConfigs = this._fieldConfigs.slice();\r\n        // æ´æ°å·²æçæ¹æ¡\r\n        this.sysQuerySolutionVo && this.solutionService.updateControl(this.sysQuerySolutionVo.queryConditions, this._resetFieldConfigs);\r\n        // æ´æ°åå²è®°å½\r\n        this.historyRefer['foundSchme'] && this.solutionService.updateControl(this.historyRefer['foundSchme'].queryConditions, this._resetFieldConfigs);\r\n        // æ´æ°å·²é\r\n        this.selectedSolution && this.solutionService.updateControl(this.selectedSolution.queryConditions, this._resetFieldConfigs);\r\n    }\r\n    get resetFieldConfigs() {\r\n        return this._resetFieldConfigs;\r\n    }\r\n    /**\r\n     * é¢ç½®æ¥è¯¢å­æ®µ\r\n     */\r\n    @Input()\r\n    set presetFieldConfigs(presetFieldConfigJson: Array<any>) {\r\n        this._presetFieldConfigs = this.solutionService.convertToQueryConditions(presetFieldConfigJson);\r\n    }\r\n    get presetFieldConfigs() {\r\n        return this._presetFieldConfigs;\r\n    }\r\n\r\n    /**\r\n     * æ­¤å¼ç±è®¾è®¡å¨ä¼ å¥\r\n     * ç»ä»¶å¨è®¾è®¡æ¶æ æ³ç¹å»è¢«ç¦ç¨ï¼true\r\n     * ç»ä»¶å¨è¿è¡æ¶å¯ä»¥ç¹å»ä½¿ç¨ï¼false\r\n     */\r\n    @Input() isDisabled: boolean = false;\r\n    /**\r\n     * è¡¨åIDï¼å¿éå­æ®µï¼è¡¨ç¤ºæ¥è¯¢æ¹æ¡æå±çè¡¨å\r\n     */\r\n    @Input() formId: string;\r\n\r\n    /**\r\n     * sessionId\r\n     */\r\n    sessionId: string;\r\n\r\n    /**\r\n     * æ¥è¯¢æ¡ä»¶åè¡¨\r\n     */\r\n    @Output() queryEmitter: EventEmitter<any> = new EventEmitter<Array<QueryCondition>>();\r\n\r\n    /**\r\n     * æ¥è¯¢æ¹æ¡cls\r\n     */\r\n    @HostBinding('class') cls = 'query-solution';\r\n\r\n    /**\r\n     * æ¥è¯¢æ¹æ¡æ°æ®æº\r\n     */\r\n    querySolutionVos: Array<QuerySolutionVo> = new Array<QuerySolutionVo>();\r\n    querySolutionAdvancedVos: Array<QuerySolutionVo> = new Array<QuerySolutionVo>();\r\n\r\n    /**\r\n     * å½åæéçæ¹æ¡ï¼æå¯è½ä¸æ¯æ¹æ¡\r\n     */\r\n    selectedSolution: QuerySolutionVo = new QuerySolutionVo();\r\n\r\n    /**\r\n     * æ¯å¦æå \r\n     */\r\n    @Input() isFold: boolean = false;\r\n\r\n    /**\r\n     * labelåæ§ä»¶æ¯å¦ææä¸è¡ï¼é»è®¤æ¯ï¼falseæ¶ææä¸ä¸ä¸¤è¡\r\n     */\r\n    @Input() isControlInline: boolean = true;\r\n\r\n    /**\r\n     * æ¯å¦éè¦å®æ´æ¾ç¤ºè¶è¿6ä¸ªå­ç¬¦çæ ç­¾ï¼é»è®¤false\r\n     */\r\n    @Input() showCompleteLabel: boolean = false;\r\n\r\n    /**\r\n     * æ¯å¦å¯ç¨å è½½åæ¥è¯¢\r\n    */\r\n    @Input() enableInitQuery: boolean = false;\r\n    /**\r\n     * é»è®¤æ¹æ¡\r\n     */\r\n    defaultQuerySolution: QuerySolutionVo;\r\n\r\n    /**\r\n     * éæ©çæ§ä»¶å±ç¤ºåè¡¨\r\n     */\r\n    selectedFieldConditions: Array<QueryCondition> = new Array<QueryCondition>();\r\n\r\n    /**\r\n     * visibleå±æ§ä¸ºtrueçè¿æ»¤æ¡ä»¶ï¼æ¯åéselectedFieldConditionsçå­çº§\r\n     */\r\n    private visibleSelectedConditions: Array<QueryCondition> = new Array<QueryCondition>();\r\n\r\n    sysQuerySolutionVo: QuerySolutionVo;\r\n\r\n    showSaveButton: boolean;\r\n\r\n    //æ¹æ¡æ¯å¦èµé»è®¤å¼\r\n    isSetDefaultValue: boolean = false;\r\n\r\n    //æ¹æ¡æ¯å¦å·²èµé»è®¤å¼\r\n    doneSetDefaultValue: boolean = false;\r\n\r\n    //æ¯å¦å·²å®æèªå¨æ¥è¯¢ï¼é»è®¤å¼ä¸ºtrueï¼å½enableInitQueryè¾å¥å¼ä¸ºtrueæ¶ï¼é¦æ¬¡æ§è¡ngOnchanges()æ¶å°å¶è®¾ä¸ºfalse\r\n    doneInitQuery: boolean = true;\r\n\r\n    //å­æ®µæ¾ç¤ºéèå¨æç¶æ\r\n    private conditionVisibleState: BehaviorSubject<any> = new BehaviorSubject([]);\r\n    //è¡¨åå³é­æ¶åæ­¢çå¬BehaviorSubjectç¸å³\r\n    destroy$: Subject<any> = new Subject<any>();\r\n\r\n    private templateSimpleConditions: Array<any>;\r\n\r\n    //ç­éæé®æ¯å¦å¨çé¢å³ä¾§\r\n    //queryButtonOnRight: boolean = true;\r\n\r\n    /**\r\n     * ç»ä»¶æå¡æ¥å£\r\n    */\r\n    solutionHandler: IQuerySolutionHandler;\r\n    cdf: ChangeDetectorRef;\r\n    /**\r\n     * æ¡ä»¶æ¦è¦\r\n     */\r\n    summaryConditions = []\r\n    eventManager: EventManager;\r\n    /**\r\n     * æ¯å¦å¯ç¨è®°å½åå²æ¹å¼\r\n     * ä¸æ¬¡æ¥è¯¢ââä¸è½å é¤ãå¯ä»¥å¦å­ãä¸å­å¨åæ´\r\n     * æ¹æ¡åè¡¨åªæä¸æ¬¡æ¥è¯¢æ¶ï¼ä¸æ¬¡æ¥è¯¢ãç³»ç»é»è®¤é½å­å¨\r\n     * æ¹æ¡åè¡¨å¤ä¸ªæ¶ï¼æä¸æ¬¡æ¥è¯¢ï¼ä¸æ¬¡æ¥è¯¢éä¸­\r\n     * æ¹æ¡åè¡¨æ²¡æä¸æ¬¡æ¥è¯¢æ¶ï¼ä½æ¯LocalStorageæ,æé ä¸ä¸ªä¸æ¬¡æ¥è¯¢\r\n     * \r\n     */\r\n    @Input() enableHistory: boolean = false;\r\n\r\n    /**\r\n     * æ¯å¦å¯å¨é«çº§æ¨¡å¼\r\n     */\r\n    @Input() openAdvancedMode: boolean = false;\r\n    @Input() filterText: string = this.localeService.getValue(\"queryCondition.container.query\");\r\n    @Input() queryAfterValueChange: boolean = false\r\n    @Input() hideOrgselector: boolean = false\r\n    private historyRefer = {\r\n        schemeKey: '',// åå²è®°å½scheme\r\n        foundSchme: null,// åå²æ¹æ¡ä¿å­\r\n        schemeKeyLS: '',//LocalStorage åå²è®°å½æ è®°\r\n        initCondition: false//LocalStorageæ¯å¦æç§æ§è¡å®æ¥è¯¢\r\n    }\r\n\r\n    @ViewChild('farrisQueryCondition') farrisQueryCondition: QueryConditionComponent;\r\n    @ViewChild('manageDialog') manageDialog: SolutionManangerComponent;\r\n    @ViewChild('saveAsDialog') saveAsDialog: SaveAsDialogComponent;\r\n    _self: any;\r\n    private _idSer: IdService;\r\n    private msgSer: any;\r\n\r\n    constructor(private notify: NotifyService, private resolver: ComponentFactoryResolver, private injector: Injector,\r\n        private modalService: BsModalService, private convertService: ConvertorService, private solutionService: SolutionService,\r\n        private httpService: HttpService, private fieldConfigService: FieldConfigService, private localeService: LocaleService) {\r\n        this._idSer = new IdService();\r\n        this.solutionHandler = this.injector.get<IQuerySolutionHandler>(QUERYSOLUTION_HANDLER_TOKEN, null, InjectFlags.Optional);\r\n        this.msgSer = this.injector.get(MessagerService);\r\n        this._self = this.injector.get(ElementRef);\r\n        this.cdf = this.injector.get(ChangeDetectorRef);\r\n        this.eventManager = this.injector.get(EventManager);\r\n        if(!this.localeService.langData['extendQuerySolution']) {\r\n            this.localeService.setLocaleData(EXTEND_QUERYSOLUTION_LOCALE);\r\n        }\r\n    }\r\n\r\n    ngOnDestroy(): void {\r\n        this._self.nativeElement.removeEventListener(\"keydown\", this.handleKeyDown);\r\n        //this.removeCurrentSolutionCache();\r\n        this.destroy$.next();\r\n        this.destroy$.complete();\r\n    }\r\n\r\n    ngOnChanges(changes: SimpleChanges): void {\r\n        if (changes['defaultConfigs']) {\r\n            this.isSetDefaultValue = true;\r\n            if (changes['defaultConfigs'].currentValue && !changes['defaultConfigs'].firstChange) {//è®¾è®¡æ¶ä¸ä¼ç»defaultConfigsèµå¼\r\n                this.setQueryConditionValues(changes['defaultConfigs'].currentValue, this.selectedSolution);\r\n                this.initAutoQuery(this.selectedSolution);\r\n            }\r\n        }\r\n        if (changes['enableInitQuery'] && changes['enableInitQuery'].firstChange && changes['enableInitQuery'].currentValue) {\r\n            this.doneInitQuery = false;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * ç»ä»¶åå§å\r\n     */\r\n    ngOnInit(): void {\r\n        //åªå¨è¿è¡æ¶ è·åsessionIdï¼æ¥è¯¢å·²å­å¨æ¹æ¡\r\n        this.initSysQuerySolution();\r\n        if (!this.isDisabled) {\r\n            this.sessionId = this.solutionHandler.getUserSessionId();\r\n            // ç¼å­åå²æ¹æ¡\r\n            this.initAutoQueryByLS();\r\n            // å è½½æ¹æ¡åè¡¨\r\n            this.loadQuerySolutions();\r\n            //æ³¨åé®ççå¬äºä»¶\r\n            this.listenKeyBoard();\r\n            this.getConditionVisibleState().pipe(takeUntil(this.destroy$)).subscribe((simpleConditions) => {\r\n                if(this.selectedFieldConditions.length > 0) {\r\n                    this.updateFieldParams(simpleConditions);\r\n                } else {\r\n                    this.templateSimpleConditions = simpleConditions;\r\n                }\r\n                this.visibleSelectedConditions = this.selectedFieldConditions.filter((item: QueryCondition) => { return !!item.visible });\r\n                this.whenFoldSetSummaryConditions();\r\n                !this.isDisabled && this.solutionHandler.setCurrentQueryConditions(cloneDeep(this.visibleSelectedConditions));\r\n            });\r\n        } else {\r\n            //è®¾è®¡æ¶åªå è½½ç³»ç»é¢ç½®æ¹æ¡\r\n            this.loadSysQuerySolution();\r\n        }\r\n    }\r\n\r\n    initSysQuerySolution() {\r\n        if (this.presetQuerySolutionName && this.presetQuerySolutionName != '') {\r\n            this.sysQuerySolutionVo = new QuerySolutionVo();\r\n            this.sysQuerySolutionVo.id = this.solutionService.getGuid();\r\n            this.sysQuerySolutionVo.code = (this.presetQuerySolutionName != this.localeService.getValue(\"querySolution.container.sysPresetName\")) ? this.presetQuerySolutionName : this.localeService.getValue(\"querySolution.container.defaultName\");\r\n            this.sysQuerySolutionVo.queryConditions = cloneDeep(this.presetFieldConfigs);\r\n            this.sysQuerySolutionVo.belongId = this.formId;\r\n            this.sysQuerySolutionVo.isSystem = true;\r\n            this.sysQuerySolutionVo.mode = '1';\r\n            // this.querySolutionVos.push(this.sysQuerySolutionVo);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * å è½½ç³»ç»é¢ç½®æ¹æ¡\r\n     */\r\n    loadSysQuerySolution() {\r\n        this.querySolutionVos.push(this.sysQuerySolutionVo);\r\n        this.selectedSolution = cloneDeep(this.sysQuerySolutionVo);\r\n        this.loadQueryConditions();\r\n    }\r\n\r\n    /**\r\n     * è§èæ¹æ¡æ¡ä»¶\r\n     */\r\n    private formatQuerySolutionVO(tConvertor: QuerySolutionVoConvertor, element, fromJobject = false): QuerySolutionVo {\r\n        let querysolutionVO: QuerySolutionVo;\r\n        let sourceData: any;\r\n        let _fieldCodeArr: Array<string> = [];\r\n        let _tQueryConditions: Array<QueryCondition>;\r\n        if (fromJobject) {\r\n            querysolutionVO = tConvertor.initFromJobject(element);\r\n        } else {\r\n            querysolutionVO = element;\r\n        }\r\n        this.fieldConfigs.forEach(_item => { _fieldCodeArr.push(_item.fieldCode) });\r\n        if (querysolutionVO && querysolutionVO.queryConditions && querysolutionVO.queryConditions.length > 0) {\r\n            //è¥è¡¨åä¸å é¤äºæä¸ªå­æ®µï¼ä½å·²ä¿å­çèªå®ä¹æ¹æ¡ä¸­åå«è¯¥å­æ®µæ¶ï¼å¨å è½½æ¹æ¡è¿ç¨ä¸­å°è¯¥å­æ®µåé¤\r\n            _tQueryConditions = querysolutionVO.queryConditions.filter(function (element) {\r\n                return _fieldCodeArr.indexOf(element.fieldCode) > -1;\r\n            });\r\n            querysolutionVO.queryConditions = _tQueryConditions;\r\n\r\n            //å¯¹èªå®ä¹æ¹æ¡çå½éåä¿¡æ¯ãå¸®å©æ§ä»¶çå¸®å©ååå¸®å©åäºä»¶è¿è¡å¨æèµå¼\r\n            querysolutionVO.queryConditions.forEach(element => {\r\n                sourceData = this.fieldConfigs.find(_item => _item.fieldCode == element.fieldCode);\r\n                element.fieldName = sourceData.fieldName;\r\n                element.placeHolder = sourceData.placeHolder;\r\n                element.beginPlaceHolder = sourceData.hasOwnProperty('beginPlaceHolder') ? sourceData['beginPlaceHolder'] : '';\r\n                element.endPlaceHolder = sourceData.hasOwnProperty('endPlaceHolder') ? sourceData['endPlaceHolder'] : '';                                \r\n                if (sourceData.control.preEventCmd) {\r\n                    (element.control as SmartHelpContol).preEventCmd = sourceData.control.preEventCmd;\r\n                }\r\n                if (sourceData.control.postEventCmd) {\r\n                    (element.control as SmartHelpContol).postEventCmd = sourceData.control.postEventCmd;\r\n                }\r\n                if (sourceData.control.clear) {\r\n                    (element.control as SmartHelpContol).clear = sourceData.control.clear;\r\n                }\r\n                if (sourceData.control.click) {\r\n                    (element.control as InputGroupControl).click = sourceData.control.click;\r\n                }\r\n                if(sourceData.control.beforeShow) {\r\n                    (element.control as DropDownListControl).beforeShow = sourceData.control.beforeShow;\r\n                }\r\n                if(sourceData.control.beforeHide) {\r\n                    (element.control as DropDownListControl).beforeHide = sourceData.control.beforeHide;\r\n                }\r\n                if(sourceData.control.dateChangedCmd) {\r\n                    (element.control as any).dateChangedCmd = sourceData.control.dateChangedCmd;\r\n                }\r\n                if (sourceData.control.enumValues && sourceData.control.enumValues.length > 0) {\r\n                    (element.control as DropDownListControl).enumValues = sourceData.control.enumValues;\r\n                    (element.control as RadioControl).enumValues = sourceData.control.enumValues;\r\n                }\r\n                if (sourceData.control.data && sourceData.control.data.length > 0) {\r\n                    (element.control as CheckBoxControl).data = sourceData.control.data;\r\n                }\r\n            });\r\n            //å¨æ­¤å¤queryconditionå¤çå®æ¯ï¼éè¦å°queryconditionåå®¹å¡«åè³queryConditionsAdvanced\r\n            if(querysolutionVO.queryConditionsAdvanced) {\r\n                let _queryConditionsAdvanced = tConvertor.complicateTreeData(querysolutionVO.queryConditionsAdvanced, querysolutionVO.queryConditions)\r\n                querysolutionVO.queryConditionsAdvanced = cloneDeep(_queryConditionsAdvanced)\r\n            }\r\n        }\r\n        return querysolutionVO;\r\n    }\r\n\r\n    /**\r\n     * å è½½æ¥è¯¢æ¹æ¡æ°æ®\r\n     */\r\n    async loadQuerySolutions() {\r\n        const self = this;\r\n        this.httpService.query(this.formId, this.sessionId).subscribe((items: Array<any>) => {\r\n            const convertor = new QuerySolutionVoConvertor();\r\n            let querysolutionVO: QuerySolutionVo;\r\n            if (items && items.length > 0) {\r\n                //é«çº§æ¨¡å¼æªå¼å¯ç¶æä¸ï¼è¿æ»¤æç¸å³æ°æ®\r\n                if(!this.openAdvancedMode) {\r\n                    items = items.filter(val => val.mode !== '2')\r\n                }\r\n                items.forEach(element => {\r\n                    querysolutionVO = this.formatQuerySolutionVO(convertor, element, true);\r\n                    if (this.enableHistory && querysolutionVO['type'] == 'pre' && querysolutionVO.mode !== '2') {\r\n                        // å¦æè¿ååè¡¨åå­å¨åå²è®°å½                        \r\n                        querysolutionVO.code = this.localeService.getValue(\"querySolution.container.histroyName\");\r\n                        this.historyRefer['schemeKey'] = querysolutionVO.id;\r\n                        this.historyRefer['foundSchme'] = cloneDeep(querysolutionVO);\r\n                        this.historyRefer['initCondition'] = true;\r\n                        //  this.defaultQuerySolution = cloneDeep(querysolutionVO);\r\n                    } else if(querysolutionVO['type'] != 'pre') {\r\n                        //æ ¹æ®version éæ©å­å¥åªä¸ä¸ªæ°æ® 1ä¸ºæ åï¼2ä¸ºé«çº§\r\n                        if(querysolutionVO.mode === '2' ) {\r\n                            this.querySolutionAdvancedVos.push(querysolutionVO)\r\n\r\n                        } else {\r\n                            this.querySolutionVos.push(querysolutionVO);\r\n                        }\r\n                        \r\n\r\n                        if (querysolutionVO.isDefault) {\r\n                            //å¦ææé»è®¤æ¹æ¡ï¼åè®¾ç½®å¨å±é»è®¤æ¹æ¡\r\n                            this.defaultQuerySolution = cloneDeep(querysolutionVO);\r\n                        }\r\n                    }\r\n                });\r\n                //self.setSolutionCache(this.querySolutionVos);\r\n            }\r\n            if (this.enableHistory && !this.historyRefer['initCondition']) {\r\n                //å¦æè¿æ²¡æè®¾ç½®æ¡ä»¶\r\n                this.formatInitQuerySolution();\r\n            }\r\n            if (this.enableHistory && this.historyRefer['initCondition']) {\r\n\r\n                this.selectedSolution = cloneDeep(this.historyRefer['foundSchme']);\r\n                //åªæç¼å­è®°å½\r\n                this.querySolutionVos.splice(0, 0, this.historyRefer['foundSchme']);\r\n                //åå²è®°å½ä¸æ¯æé«çº§æ¨¡å¼\r\n                // if(this.historyRefer['foundSchme'].mode === '2' ) {\r\n                //     this.querySolutionAdvancedVos.splice(0, 0, this.historyRefer['foundSchme']);\r\n\r\n                // } else {\r\n                //     this.querySolutionVos.splice(0, 0, this.historyRefer['foundSchme']);\r\n                // }\r\n\r\n                if (this.querySolutionVos.length === 1) {\r\n                    // åªæä¸æ¬¡æ¥è¯¢æ¶\r\n                    this.querySolutionVos.push(this.sysQuerySolutionVo);\r\n                }\r\n                \r\n                if (this.querySolutionAdvancedVos.length === 0) {\r\n                    // åªæä¸æ¬¡æ¥è¯¢æ¶\r\n                    this.querySolutionAdvancedVos.push(this.initAdvancedSolution())\r\n                }\r\n                //self.setSolutionCache(this.querySolutionVos);\r\n                this.loadQueryConditions();\r\n                \r\n                // if(this.historyRefer['schemeKey'] !== ''){\r\n                //     //æ´æ°ä¸æ¬¡ç¼å­\r\n                //     this.changeQueryHistroy(false);\r\n                // }                \r\n            } else if (this.defaultQuerySolution || this.querySolutionVos.length || this.querySolutionAdvancedVos.length) {\r\n                //å¦æå·²æ¥å°æé»è®¤æ¹æ¡ï¼æå·²æå­å¨çæ¹æ¡\r\n                //ä¸åå è½½ç³»ç»éç½®çæ¹æ¡ï¼é¦åå è½½é»è®¤æ¹æ¡ï¼æ²¡æé»è®¤åå è½½ç¬¬ä¸ä¸ªæ¹æ¡\r\n                if (this.defaultQuerySolution && this.defaultQuerySolution.id != '') {\r\n                    this.selectedSolution = cloneDeep(this.defaultQuerySolution);\r\n                } else {\r\n                    const publicSolution = [...this.querySolutionVos, ...this.querySolutionAdvancedVos].find(item => item.type == 'public');\r\n                    if(publicSolution) {\r\n                        this.selectedSolution = publicSolution;\r\n                    } else {\r\n                        const orgSolution = [...this.querySolutionVos, ...this.querySolutionAdvancedVos].find(item => item.type == 'org');\r\n                        this.selectedSolution = !!orgSolution ? orgSolution : cloneDeep([...this.querySolutionVos, ...this.querySolutionAdvancedVos][0]);\r\n                    }\r\n                }\r\n                if (this.querySolutionVos.length < 1) {\r\n                    this.querySolutionVos.push(this.sysQuerySolutionVo)\r\n                }\r\n                if (this.querySolutionAdvancedVos.length < 1) {\r\n                    this.querySolutionAdvancedVos.push(this.initAdvancedSolution())\r\n                }\r\n                this.loadQueryConditions();\r\n            } else {\r\n                //å¦ææ²¡æä»»ä½å·²å­å¨çæ¹æ¡ï¼åå è½½ç³»ç»éç½®æ¹æ¡\r\n                this.loadSysQuerySolution();\r\n                this.querySolutionAdvancedVos.push(this.initAdvancedSolution())\r\n            }\r\n\r\n            if (this.isSetDefaultValue && !this.historyRefer['initCondition']) {\r\n                this.setQueryConditionValues(this.defaultConfigs, this.selectedSolution);\r\n            }\r\n\r\n            this.initAutoQuery(this.selectedSolution);\r\n        }, e => {\r\n            if(e && e.message) {\r\n                this.msgSer.show('error', e.message, {showHeader: false})\r\n            }\r\n        });\r\n    }\r\n\r\n    setSolutionCache(querySolutionVos: any) {\r\n        if (!this.isDisabled && gspframeworkService && querySolutionVos && querySolutionVos.length) {\r\n            // è·åå½ååè½èåä¿¡æ¯, å¹¶ä»¥åè½èåIDä¸ºç¼å­key\r\n            const option = gspframeworkService.rtf.session.getCommonVariable();\r\n            SolutionCacheService.setSolutionCache(option.tabId, querySolutionVos);\r\n            SolutionCacheService.solutionListChanged.next(true);\r\n        }\r\n    }\r\n\r\n    setCurrentSolutionCache(value: any) {\r\n        if (!this.isDisabled && gspframeworkService && value) {\r\n            // è·åå½ååè½èåä¿¡æ¯, å¹¶ä»¥åè½èåIDä¸ºç¼å­key\r\n            const option = gspframeworkService.rtf.session.getCommonVariable();\r\n            if (option && option.tabId) {\r\n                SolutionCacheService.setCurrentSolution(option.tabId, value);\r\n            }\r\n        }\r\n    }\r\n\r\n    /*\r\n    removeCurrentSolutionCache() {\r\n        if (!this.isDisabled && gspframeworkService) {\r\n            // è·åå½ååè½èåä¿¡æ¯, å¹¶ä»¥åè½èåIDä¸ºç¼å­key\r\n            const option = gspframeworkService.rtf.session.getCommonVariable();\r\n            if (option && option.tabId) {\r\n                SolutionCacheService.removeCurrentSolution(option.tabId);\r\n            }\r\n        }\r\n    }\r\n    */\r\n\r\n    loadQueryConditions() {\r\n        //å è½½ç­éæ¡ä»¶\r\n        this.selectedFieldConditions = new Array<QueryCondition>();\r\n        if (this.selectedSolution && this.selectedSolution.queryConditions && this.selectedSolution.queryConditions.length > 0) {\r\n            // this.selectedFieldConditions = this.selectedSolution.queryConditions as Array<QueryCondition>;\r\n            this.selectedFieldConditions = this.selectedSolution.queryConditions;\r\n            if(this.templateSimpleConditions && this.templateSimpleConditions.length > 0) {\r\n                this.updateFieldParams(this.templateSimpleConditions);\r\n                this.templateSimpleConditions = new Array<any>();\r\n            }\r\n        }\r\n        this.visibleSelectedConditions = this.selectedFieldConditions.filter((item: QueryCondition) => { return !!item.visible });\r\n        // å¦ææ¹æ¡çåæ´æ¯å¨åææ¶\r\n        this.whenFoldSetSummaryConditions();\r\n        this.showSaveButton = this.selectedSolution.isSystem ? false : true;\r\n        !this.isDisabled && this.solutionHandler.setCurrentQueryConditions(cloneDeep(this.visibleSelectedConditions));\r\n        //this.setCurrentSolutionCache(this.selectedSolution);\r\n\r\n    }\r\n\r\n    getConditionVisibleState() {\r\n        return this.conditionVisibleState;\r\n    }\r\n\r\n    /**\r\n     * ä¼ éè¿æ¥çæ¯å·²ç»å¤çè¿çæ¡ä»¶\r\n     * @param simpleCondition \r\n     */\r\n    updateConditionVisibleState(simpleCondition: Array<any>) {\r\n        this.conditionVisibleState.next(simpleCondition);\r\n    }\r\n\r\n    // çå¬resetFieldConfigsåååï¼æ´æ°selectedFieldConditionsï¼å¹¶åæ­¥è³queryconditionï¼å¯å®ç°ç­éæ¡ä»¶å¨ææ¾ç¤ºéè\r\n    private updateFieldParams(simpleConditions: Array<any>) {\r\n        if(!simpleConditions || !simpleConditions.length) {\r\n            return;\r\n        }\r\n        const currentConditions = cloneDeep(this.selectedFieldConditions);\r\n        const updatedConditions = currentConditions.map((item: QueryCondition) => {\r\n            for(const simpleCondition of simpleConditions) {\r\n                if(simpleCondition.hasOwnProperty('visible') && item.fieldCode == simpleCondition['fieldCode'] && item.visible !== simpleCondition['visible']) {\r\n                    item.visible = simpleCondition['visible'];\r\n                    item.value.clearValue();\r\n                    this.markAsChanged(true, this.selectedSolution.id);\r\n                }\r\n            }\r\n            return item;\r\n        });\r\n        this.selectedFieldConditions = updatedConditions.slice();\r\n    }\r\n\r\n    saveAs() {\r\n        this.openSaveAsDialog(this.localeService.getValue(\"querySolution.saveAsDialog.title\"));\r\n    }\r\n\r\n    /**\r\n     * è·åé»è®¤æ ç­¾\r\n     * @param solution\r\n     */\r\n    getDefaultLabel(solution: QuerySolutionVo) {\r\n        if (!(this.defaultQuerySolution)) {\r\n            return { 'visibility': 'hidden' }\r\n        }\r\n        else {\r\n            if (solution.id == this.defaultQuerySolution.id) {\r\n                // //ä¸å¤çäº\r\n            }\r\n            else {\r\n                return { 'visibility': 'hidden' }\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * æ¹æ¡éæ©äºä»¶\r\n     * @param solution å½åéä¸­çæ¹æ¡\r\n     */\r\n    select(solution: QuerySolutionVo) {\r\n        this.selectedSolution = Object.assign(new QuerySolutionVo(), solution);\r\n        if (solution.queryConditions && solution.queryConditions.length > 0) {\r\n            this.selectedFieldConditions = this.selectedSolution.queryConditions;\r\n        }\r\n        else {\r\n            this.selectedFieldConditions = new Array<QueryCondition>();\r\n        }\r\n        this.showSaveButton = this.selectedSolution.isSystem ? false : true;\r\n        this.visibleSelectedConditions = this.selectedFieldConditions.filter((item: QueryCondition) => { return !!item.visible });\r\n        !this.isDisabled && this.solutionHandler.setCurrentQueryConditions(cloneDeep(this.visibleSelectedConditions));\r\n        //this.setCurrentSolutionCache(this.selectedSolution);\r\n        // å¦ææ¹æ¡çåæ´æ¯å¨åææ¶\r\n        this.whenFoldSetSummaryConditions();\r\n    }\r\n\r\n    selectAndQuery(solution: QuerySolutionVo) {\r\n        //é«çº§æ¨¡å¼ä¸ä½¿ç¨é»è®¤å¼\r\n        if (solution.mode !== '2' && (this.defaultConfigs && this.defaultConfigs.isCurrent || (solution.isSystem && solution.type !== 'pre'))) {\r\n            this.setQueryConditionValues(this.defaultConfigs, solution);//å·²åå«selectæä½\r\n        } else {\r\n            if (solution.mode !== '2' && this.enableHistory && solution.type == 'pre') {\r\n                let conditions = cloneDeep(this.historyRefer['foundSchme']['queryConditions']);\r\n                if (conditions.length > 0) {\r\n                    solution.queryConditions = conditions;\r\n                }\r\n            }\r\n            this.select(solution);\r\n        }\r\n        this.query();\r\n    }\r\n    \r\n    /**\r\n     * æå¼å­æ®µéç½®çªå£\r\n     */\r\n    openFieldConfigDialog() {\r\n        this.farrisQueryCondition.openFieldConfigDialog();\r\n    }\r\n\r\n    fieldConditionsChangeHander($event: any) {\r\n        let data = $event;\r\n        if(this.selectedSolution.mode === '2') {\r\n            this.selectedSolution.queryConditions = data\r\n            let target = this.querySolutionAdvancedVos.find(val => val.id === this.selectedSolution.id)\r\n            if(target ) {\r\n                target.queryConditions = this.selectedSolution.queryConditions\r\n                target.queryConditionsAdvanced = this.selectedSolution.queryConditionsAdvanced\r\n            }\r\n        }\r\n        // this.selectedSolution.queryConditions = data;æ­¤æ¶ä¸æ¹åå½åéä¸­çæ¹æ¡ï¼ç­å°ä¿å­æ¶ï¼ç´æ¥è°ç¨this.selectedFieldConditionsæ¥ä¿å­ã\r\n        this.selectedFieldConditions = data;\r\n        this.visibleSelectedConditions = this.selectedFieldConditions.filter((item: QueryCondition) => { return !!item.visible });\r\n        if (!this.isDisabled) {\r\n            this.solutionHandler.setCurrentQueryConditions(cloneDeep(this.visibleSelectedConditions));\r\n            this.solutionHandler.setFilterConditions(this.visibleSelectedConditions);\r\n            //this.setCurrentSolutionCache(this.selectedSolution);\r\n        }\r\n        if(this.queryAfterValueChange) {\r\n            this.query()\r\n        }\r\n        this.markAsChanged(true, this.selectedSolution.id);\r\n    }\r\n    //é«çº§æ¨¡å¼æ°å¢ï¼é«çº§æ¨¡å¼ä¸ä¸ä»éè¦ä¿®æ¹conditionsï¼è¿éè¦ä¿®æ¹solutionçç¸å³å±æ§\r\n    fieldSolutionChangeHander($event: any) {\r\n        let data = $event;\r\n        this.selectedSolution = data\r\n    }\r\n\r\n    /**\r\n     * ä¿å­æ¹æ¡\r\n     */\r\n    save() {\r\n        if (!this.formId) {\r\n            this.solutionService.showInfo(this.localeService.getValue(\"querySolution.container.pleaseInput\"), 'error', '', 1500);\r\n            return;\r\n        }\r\n        //idä¸ºç©ºåè¡¨ç¤ºæ²¡æé¢ç½®æ¹æ¡ï¼åæ­¤æ¶ä¿å­æ¹æ¡ç¸å½äºæ°å¢ä¸ä¸ªæ¹æ¡\r\n        if (!this.selectedSolution.id) {\r\n            this.openSaveAsDialog(this.localeService.getValue(\"querySolution.container.save\"));\r\n        }\r\n        //ç´æ¥ä¿å­\r\n        else {\r\n            const checkAuthority$ = this.httpService.getAuth('QuerySolution', this.sessionId);\r\n            checkAuthority$.pipe(\r\n                switchMap(\r\n                    (data: any) => {\r\n                        if(!data['success'] && (this.selectedSolution.type == 'public' || this.selectedSolution.type == 'org')) {\r\n                            this.solutionService.showInfo(this.localeService.getValue('extendQuerySolution.auth.updateError'), 'warning', '', 1500);\r\n                            return of(false);\r\n                        } else {\r\n                            this.selectedSolution.queryConditions = this.selectedFieldConditions;\r\n                            const save$ = this.httpService.update(this.selectedSolution, this.sessionId);\r\n                            return save$.pipe(\r\n                                tap(\r\n                                    () => {\r\n                                        if(this.selectedSolution.mode === '2') {\r\n                                            let tempIndex = this.querySolutionAdvancedVos.findIndex(x => x.id == this.selectedSolution.id);\r\n                                            // this.selectedFieldConditions = this.selectedSolution.queryConditions;\r\n                                            this.querySolutionAdvancedVos.splice(tempIndex, 1, this.selectedSolution);\r\n                                        } else {\r\n                                            let tempIndex = this.querySolutionVos.findIndex(x => x.id == this.selectedSolution.id);\r\n                                            // this.selectedFieldConditions = this.selectedSolution.queryConditions;\r\n                                            this.querySolutionVos.splice(tempIndex, 1, this.selectedSolution);\r\n                                        }\r\n                                        \r\n                                        this.markAsChanged(false, this.selectedSolution.id);\r\n                                        this.farrisQueryCondition.canClearRelatedFields = false;\r\n                                        this.solutionService.showInfo(this.localeService.getValue(\"querySolution.container.saveSuccess\"), 'success', '', 1500);\r\n                                    },\r\n                                    error => {\r\n                                        this.solutionService.showInfo(this.localeService.getValue(\"querySolution.container.saveFail\"), 'error', '', 1500);\r\n                                        throw error;\r\n                                    }\r\n                                )\r\n                            )\r\n                        }\r\n                    }\r\n                ),\r\n                tap(\r\n                    () => { },\r\n                    error => {\r\n                        console.warn(this.localeService.getValue('extendQuerySolution.auth.apiError'));\r\n                    }\r\n                )\r\n            ).subscribe();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * æå¼å¦å­ä¸ºå¯¹è¯æ¡ï¼ç¹å»ä¿å­æé®æ¶ä¹èµ°è¯¥é»è¾\r\n     * @param title\r\n     */\r\n    openSaveAsDialog(title: string) {\r\n        if (!this.formId) {\r\n            this.solutionService.showInfo(this.localeService.getValue(\"querySolution.container.pleaseInput\"), 'error', '', 1500);\r\n            return;\r\n        }\r\n        this.saveAsDialog.title = title;\r\n        this.saveAsDialog.querySolution = this.newSaveAsSolutionVo();\r\n        this.saveAsDialog.radioGroupValue = 'private';\r\n        this.saveAsDialog.show();\r\n    }\r\n\r\n    newSaveAsSolutionVo = () => {\r\n        //å½åéä¸­çæ¹æ¡ï¼åä¿®æ¹ç­éæ¡ä»¶åï¼å¶åæ¥çç­éæ¡ä»¶å¹¶æ²¡æååï¼ä»ä»this.selectedFieldConditionsæåå\r\n        const solution = cloneDeep(this.selectedSolution);\r\n        //æ°å¢çæ¹æ¡è¦æ¸ç©ºæ¥è¯¢æ¹æ¡ç¼å·\r\n        solution.code = '';\r\n        //æ¯å¦ç³»ç»å±æ§å¿é¡»è®¾ç½®ä¸ºFalse\r\n        solution.isSystem = false;\r\n        //è§£å³æ¹æ¡æå±è¡¨å\r\n        solution.belongId = this.formId;\r\n        //æ°å¢æ¹æ¡Idéè¦Guid\r\n        solution.id = this.solutionService.getGuid();\r\n        //æ°å¢æ¹æ¡isDefaultéè¦è®¾ç½®ä¸ºfalse\r\n        solution.isDefault = false;\r\n        //æ°å¢æ¹æ¡çç­éæ¡ä»¶ï¼æ¯å½åéä¸­çç­éæ¡ä»¶\r\n        solution.queryConditions = this.selectedFieldConditions;\r\n        //è®¾ç½®ç±»åè¦æ¸ç©º\r\n        solution.type = \"private\";\r\n        solution.isChanged = false;\r\n        solution.extendId = 'query-scheme-1';\r\n        solution.extendInfo = new Array<QuerySolutionExtendVo>();\r\n        return solution;\r\n    }\r\n\r\n    /**\r\n     * å¦å­ä¸ºç¡®å®äºä»¶å¤ç\r\n     * @param solution æ°å¢çæ¥è¯¢æ¹æ¡\r\n     */\r\n    saveAsConfrimHandler(_event: any) {\r\n        const solution: QuerySolutionVo = _event['querySolution'];\r\n        if (solution.queryConditions && solution.queryConditions.length) {\r\n            solution.queryConditions.forEach(element => {\r\n                if (!!element.readonly) {\r\n                    element.readonly = false;\r\n                }\r\n            });\r\n        }\r\n        this.httpService.create(solution, this.sessionId).subscribe(\r\n            () => {\r\n                //éæ°è®¾ç½®å¨å±çé»è®¤æ¹æ¡\r\n                if (solution.isDefault) {//è¢«è®¾ç½®ä¸ºé»è®¤æ¹æ¡\r\n                    this.defaultQuerySolution = solution;\r\n                    this.querySolutionVos = this.querySolutionVos.map(vo => {\r\n                        vo.isDefault = false;\r\n                        return vo;\r\n                    });\r\n                    this.querySolutionAdvancedVos = this.querySolutionAdvancedVos.map(vo => {\r\n                        vo.isDefault = false;\r\n                        return vo;\r\n                    });\r\n                }\r\n                //ç¨æ·ä¿å­èªå·±çç­éæ¹æ¡åï¼ä¸åæ¾ç¤ºç³»ç»é»è®¤çæ¹æ¡ï¼æä½æ¹æ¡ä¸ºé«çº§æ¨¡å¼æ¶ä¸å½±åæ å\r\n                if (this.querySolutionVos.length === 1 && this.querySolutionVos[0].isSystem && solution.mode === '1') {\r\n                    //ç¨æ·æ²¡æéç½®èªå·±çç­éæ¹æ¡æ¶ï¼æèç¨æ·åªéç½®äºä¸ä¸ªç­éæ¹æ¡æ¶ï¼æ­¤æ°ç»é½æä¸ä¸ªæ¹æ¡ï¼è¥æ­¤æ¹æ¡æ¯ç³»ç»é»è®¤æ¹æ¡ï¼ååºå¨å¦å­ä¸ºæ¶å æ\r\n                    this.querySolutionVos = new Array<QuerySolutionVo>();\r\n                } else if(this.querySolutionVos.length === 2 && this.enableHistory) {   \r\n                    let filterSolutionVos = new Array<QuerySolutionVo>();                 \r\n                    filterSolutionVos = this.querySolutionVos.filter(item => {\r\n                        if(item.type == 'pre'){\r\n                            return true;\r\n                        }\r\n                        return !item.isSystem\r\n                    })\r\n                    this.querySolutionVos = filterSolutionVos;\r\n                }\r\n                //é«çº§æ¨¡å¼åç\r\n                if (this.querySolutionAdvancedVos.length === 1 && this.querySolutionAdvancedVos[0].isSystem && solution.mode === '2') {\r\n                    this.querySolutionAdvancedVos = new Array<QuerySolutionVo>();\r\n                } else if(this.querySolutionAdvancedVos.length === 2 && this.enableHistory) {   \r\n                    let filterSolutionVos = new Array<QuerySolutionVo>();                 \r\n                    filterSolutionVos = this.querySolutionAdvancedVos.filter(item => {\r\n                        if(item.type == 'pre'){\r\n                            return true;\r\n                        }\r\n                        return !item.isSystem\r\n                    })\r\n                    this.querySolutionAdvancedVos = filterSolutionVos;\r\n                }\r\n\r\n                solution.mode === '2' ? this.querySolutionAdvancedVos.push(solution) : this.querySolutionVos.push(solution);\r\n                this.selectedSolution = solution;\r\n                this.showSaveButton = this.selectedSolution.isSystem ? false : true;\r\n                this.selectedFieldConditions = this.selectedSolution.queryConditions;\r\n                this.visibleSelectedConditions = this.selectedFieldConditions.filter((item: QueryCondition) => { return !!item.visible });\r\n                this.farrisQueryCondition.canClearRelatedFields = false;\r\n                this.saveAsDialog.isDefault = false;\r\n                this.solutionService.showInfo(this.localeService.getValue(\"querySolution.container.saveSuccess\"), 'success', '', 1500);\r\n            },\r\n            error => {\r\n                this.solutionService.showInfo(this.localeService.getValue(\"querySolution.container.saveFail\"), 'error', '', 1500);\r\n                throw error;\r\n            }\r\n        );\r\n    }\r\n\r\n    /**\r\n     * æå¼ç®¡ççé¢\r\n     */\r\n    openManangerDialog() {\r\n        this.httpService.getAuth('QuerySolution', this.sessionId).subscribe(data => {\r\n            this.manageDialog.authorityError = data['success'] ? false: true;\r\n            this.manageDialog.show(cloneDeep([...this.querySolutionVos, ...this.querySolutionAdvancedVos]));\r\n        });\r\n    }\r\n\r\n    /**\r\n     * ç®¡ççé¢ç¡®å®å¤ç\r\n     * @param _event\r\n     * @param dialog\r\n     */\r\n    managerConfirmHandler(_event: any) {\r\n        let obj: object = _event;\r\n        if (obj['validator'] == true) {\r\n            //ç¹å»checkboxæ¶ï¼newDefaultQuerySolutionè¢«èµå¼ï¼ å¨å±é»è®¤æ¹æ¡è¢«å é¤æ¶ï¼newDefaultQuerySolutionåä¸ºnull\r\n            const defaultId = obj['newDefaultQuerySolution'] ? obj['newDefaultQuerySolution'].id : '';\r\n            const belongId = this.formId;\r\n            //è¥æ²¡æå é¤ä»»ä½æ¹æ¡ï¼deletedQuerySolutionVosä¼æ¯ä¸ä¸ªç©ºæ°ç»\r\n            const deletedIds = obj['deletedQuerySolutionIds'];\r\n            this.httpService.batchUpdate({ defaultId, belongId, deletedIds }, this.sessionId).subscribe(\r\n                () => {\r\n                    //æå é¤åçvoèµå¼ç» this.querySolutionVosï¼å¦ææ²¡å é¤æ¹æ¡ï¼ this.querySolutionVosè·obj['splicedQuerySolutionVos']åå¼\r\n                    //é»è®¤æ¹æ¡çååä¹è®°å½å¨updatedQuerySolutionVosä¸­\r\n                    this.querySolutionVos = obj['updatedQuerySolutionVos'].filter(val => val.mode !== '2');\r\n                    this.querySolutionAdvancedVos = obj['updatedQuerySolutionVos'].filter(val => val.mode === '2');\r\n                    if (!obj['currentDefaultQuerySolutionId']) {//å¦æä¼ è¿æ¥çå½åé»è®¤æ¹æ¡idæ¯ç©ºï¼ä»£è¡¨ææé»è®¤æ¹æ¡é½åæ¶äº\r\n                        this.defaultQuerySolution = null;\r\n                    }\r\n                    //å¦ææé»è®¤æ¹æ¡åæ¾ç¤ºé»è®¤æ¹æ¡ï¼å¦ææ²¡æé»è®¤æ¹æ¡åç´æ¥æ¾ç¤ºå½åæ¥è¯¢æ¹æ¡çç¬¬ä¸ä¸ªï¼å¦ææ²¡æä»»ä½æ¥è¯¢æ¹æ¡åç´æ¥æ¸ç©ºæ¥è¯¢æ¹æ¡ï¼åæ¾ç¤ºç³»ç»é¢ç½®çé»è®¤æ¹æ¡\r\n                    if (defaultId) {\r\n                        //å·²è®¾ç½®é»è®¤æ¹æ¡\r\n                        this.select(obj['newDefaultQuerySolution']);\r\n                        this.defaultQuerySolution = obj['newDefaultQuerySolution'];\r\n\r\n                        if (this.querySolutionVos.length === 0 || (this.enableHistory && this.querySolutionVos.length === 1 && this.querySolutionVos[0].type == 'pre')) {\r\n                            this.querySolutionVos.push(this.sysQuerySolutionVo);\r\n                        }\r\n                        if (!this.querySolutionAdvancedVos.length) {\r\n                            this.querySolutionAdvancedVos.push(this.initAdvancedSolution())\r\n                        }\r\n                    } else {\r\n                        //æªæ´æ¹é»è®¤æ¹æ¡ï¼å¤æ­å½åéæ©çæ¥è¯¢æ¹æ¡æ¯å¦å·²è¢«å é¤\r\n                        if (deletedIds.includes(this.selectedSolution.id)) {//å¦æè¢«å é¤\r\n                            if (this.querySolutionVos.length > 0) {\r\n                                if(this.enableHistory && this.querySolutionVos.length == 1 && this.querySolutionVos[0].type == 'pre'){\r\n                                    this.select(this.sysQuerySolutionVo);\r\n                                    this.querySolutionVos.push(this.sysQuerySolutionVo);\r\n                                } else {\r\n                                    const publicSolution = this.querySolutionVos.find(item => item.type == 'public');\r\n                                    if(publicSolution) {\r\n                                        this.select(publicSolution);\r\n                                    } else {\r\n                                        const orgSolution = this.querySolutionVos.find(item => item.type == 'org');\r\n                                        this.select(!!orgSolution ? orgSolution : cloneDeep(this.querySolutionVos[0]));\r\n                                    }\r\n                                }\r\n                            } else {\r\n                                this.select(this.sysQuerySolutionVo);\r\n\r\n                                this.querySolutionVos.push(this.sysQuerySolutionVo);\r\n                            }\r\n                            //é«çº§æ¨¡å¼æ²¡æçè¯ä¹éè¦å¢å é»è®¤\r\n                            if(!this.querySolutionAdvancedVos.length) {\r\n                                this.querySolutionAdvancedVos.push(this.initAdvancedSolution())\r\n                            }\r\n                        } else {\r\n                            //ä»ä¹ä¹æ²¡åç\r\n                            //æææçé»è®¤é½åæ¶äº\r\n                            if(this.querySolutionVos.length === 0 || (this.enableHistory && this.querySolutionVos.length === 1 && this.querySolutionVos[0].type == 'pre')){\r\n                                this.querySolutionVos.push(this.sysQuerySolutionVo);\r\n                            } \r\n                            if(!this.querySolutionAdvancedVos.length) {\r\n                                this.querySolutionAdvancedVos.push(this.initAdvancedSolution())\r\n                            }\r\n                        }\r\n                    }\r\n                    this.solutionService.showInfo(this.localeService.getValue(\"querySolution.container.saveSuccess\"), 'success', '', 1500);\r\n                },\r\n                error => {\r\n                    this.solutionService.showInfo(this.localeService.getValue(\"querySolution.container.saveFail\"), 'error', '', 1500);\r\n                    return Observable.throw(error);\r\n                }\r\n            )\r\n        } else {\r\n            //æ ¡éªå¤±è´¥\r\n        }\r\n    }\r\n\r\n    /**\r\n     * æ§è¡ç­é\r\n     */\r\n    query() {\r\n        if (!this.isDisabled) {\r\n            const errorArr = this.solutionService.isValid(this.visibleSelectedConditions);\r\n            //é«çº§æ¨¡å¼ä¸ä¸ç¨å¤æ­requireï¼æèªå·±çæ ¡éªé»è¾\r\n            if (errorArr && errorArr.length && this.selectedSolution.mode !== '2') {\r\n                const errorFields = errorArr.map(error => error.field);\r\n                this.solutionService.showInfo(this.localeService.getValue(\"querySolution.container.require\").replace('{fields}', errorFields.join(', ')), 'warning', '', 2500);\r\n            } else {\r\n                //é«çº§æ¨¡å¼ä¸å¿é¡»æææ¡ä»¶é½æå¼ï¼å¦åä¼å½±åå±çº§ä¸å³èå³ç³»\r\n                \r\n                let queryConditions = cloneDeep(this.visibleSelectedConditions);\r\n                if(this.selectedSolution.mode === '2') {\r\n                    queryConditions = cloneDeep(this.selectedFieldConditions);\r\n                    let emptyFlag = queryConditions.find(val => val.value.isEmpty())\r\n                    if( emptyFlag ) {\r\n                        this.notify.warning(this.localeService.getValue('advancedMode.auth.conditionEmptyError'))\r\n                        return\r\n                    }\r\n                    \r\n                }\r\n                this.solutionHandler.setFilterConditions(queryConditions);\r\n                this.queryEmitter.emit(queryConditions);\r\n                // æ´æ°åå²è®°å½\r\n                this.changeQueryHistroy();\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * æ¸ç©º->æ¡ä»¶å¨é¨éç½®ä¸ºç©º\r\n     */\r\n    clear() {\r\n        // this.isFold = !this.isFold;\r\n        const isNotEmpty = this.visibleSelectedConditions.some(condition => condition.value.isEmpty() == false);\r\n        if (isNotEmpty) {\r\n            const newList: Array<QueryCondition> = cloneDeep(this.farrisQueryCondition.resetSelectedConditionValues(true));\r\n            this.selectedFieldConditions = newList;\r\n            this.selectedSolution.queryConditions = newList;\r\n            this.visibleSelectedConditions = this.selectedFieldConditions.filter((item: QueryCondition) => { return !!item.visible });\r\n            this.solutionHandler.setCurrentQueryConditions(cloneDeep(this.visibleSelectedConditions));\r\n            this.solutionHandler.setFilterConditions(this.visibleSelectedConditions);\r\n            this.markAsChanged(true, this.selectedSolution.id);\r\n            this.query();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * æå æé®çæ¸ç©º\r\n     */\r\n    foldClearHandler() {\r\n        if (this.isFold) {\r\n            // å¦æç¹å»çæ¶åæ¯åæç\r\n            this.isFold = false;\r\n            if (this.summaryConditions.length > 0) {\r\n                this.summaryConditions = [];\r\n                this.clear();\r\n            }\r\n        } else {\r\n            // å¦æç¹å»çæ¶åæ¯å±å¼ç\r\n            this.clear();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * ç®­å¤´ç¹å»äºä»¶\r\n     */\r\n    arrowClick() {\r\n        this.isFold = !this.isFold;\r\n        this.whenFoldSetSummaryConditions();\r\n        if (!this.isFold) {\r\n            this.summaryConditions = [];\r\n        }\r\n    }\r\n\r\n    private whenFoldSetSummaryConditions() {\r\n        if (this.isFold) {\r\n            // å¦æåæ\r\n            const isNotEmpty = this.visibleSelectedConditions.some(condition => condition.value.isEmpty() == false);\r\n            if (isNotEmpty) {\r\n                this.summaryConditions = this.visibleSelectedConditions.filter(condition => condition.value.isEmpty() == false);\r\n            } else {\r\n                this.summaryConditions = [];\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * ä¸ºç³»ç»é¢ç½®æ¹æ¡æèèªå®ä¹æ¥è¯¢æ¹æ¡è®¾ç½®ç­éæ¡ä»¶é»è®¤å¼\r\n     * @param configs é»è®¤å¼è®¾ç½®\r\n     * @param selectedSolution å½åéæ©çç­éæ¹æ¡\r\n     */\r\n    setQueryConditionValues(configs: DefaultConfigs, selectedSolution: QuerySolutionVo): void {\r\n        let targetSolution: QuerySolutionVo;\r\n        let targetSolutionWithValues: QuerySolutionVo;\r\n        //é«çº§æ¨¡å¼ä¸ä¸æ¯æé»è®¤å¼\r\n        if (configs && Array.isArray(configs.fieldConfigs) && configs.fieldConfigs.length && selectedSolution.mode !== '2') {\r\n            if(selectedSolution.hasOwnProperty('type') && selectedSolution['type'] == 'pre') {\r\n                //å¦ææ¯åå²è®°å½\r\n                targetSolution = null; \r\n                this.select(selectedSolution);\r\n            } else {\r\n                targetSolution = configs.isCurrent ? selectedSolution : (selectedSolution.isSystem ? selectedSolution : null);\r\n            }\r\n            if (targetSolution && targetSolution.queryConditions && targetSolution.queryConditions.length) {\r\n                targetSolutionWithValues = cloneDeep(this.solutionService.setValues(targetSolution, configs.fieldConfigs, !!configs.readonly));\r\n                this.doneSetDefaultValue = true;\r\n                this.select(targetSolutionWithValues);\r\n            } else {\r\n                //ä¸ä¸ºèªå®ä¹æ¹æ¡è®¾ç½®é»è®¤å¼æ¶ï¼æ è®°ä¸è¦ä¸ºå¶èµé»è®¤å¼çæå¾ï¼ä½æªæå\r\n                this.doneSetDefaultValue = true;\r\n\r\n                //å¦ææ²¡æè®¾ç½®é»è®¤å¼ï¼å°±æå½åéä¸­æ¹æ¡çæ¡ä»¶çå¼ä¼ åº\r\n                this.solutionHandler.setCurrentQueryConditions(this.selectedSolution.queryConditions);\r\n            }\r\n        } else {\r\n            this.select(selectedSolution)\r\n        }\r\n    }\r\n\r\n    /**\r\n     * å è½½ç­éæ¹æ¡åèªå¨æ¥è¯¢\r\n     * @param currentSolution å½åç­éæ¹æ¡ \r\n     */\r\n    initAutoQuery(currentSolution: QuerySolutionVo): void {\r\n        if (this.enableInitQuery && this.doneInitQuery && this.enableHistory && currentSolution.mode !== '2') {\r\n            // å·²éè¿åå²è®°å½è¿è¡è¿æ¥è¯¢\r\n            return;\r\n        }\r\n        let enableQuery: boolean = true;\r\n        if (currentSolution && currentSolution.queryConditions && currentSolution.queryConditions.length) {\r\n            if (this.isSetDefaultValue && !this.doneSetDefaultValue) {\r\n                enableQuery = false;\r\n            }\r\n        } else {\r\n            enableQuery = false;\r\n        }\r\n\r\n        if (enableQuery && this.enableInitQuery) {\r\n            // this.solutionHandler.setFilterConditions(this.selectedSolution.queryConditions); æ§è¡queryæ¹æ³æ¶ï¼å·²ç»æ§è¡setFilterConditions\r\n            //if(this._self.nativeElement.querySelector('.farris-panel .btn-group .btn-primary')){\r\n            setTimeout(() => {\r\n                this.query();\r\n                this.doneInitQuery = true;\r\n            });\r\n            //}\r\n        }\r\n    }\r\n\r\n    /**\r\n     * å½åæ¥è¯¢æ¹æ¡çç­éæ¡ä»¶åçååæ¶ï¼æ è®°æ¹æ¡å¤äºç¼è¾ç¶æ\r\n     * @param isChanged æ¹æ¡æ¯å¦å¤äºç¼è¾ç¶æ\r\n     * @param solutionId éè¦æ è®°æ¯å¦å¤äºç¼è¾ç¶æçæ¹æ¡çid\r\n     */\r\n    markAsChanged(isChanged: boolean, solutionId: string) {\r\n        this.querySolutionVos.forEach(solution => {\r\n            if (solution.id == solutionId)\r\n                solution.isChanged = isChanged;\r\n        });\r\n        this.querySolutionAdvancedVos.forEach(solution => {\r\n            if (solution.id == solutionId)\r\n                solution.isChanged = isChanged;\r\n        });\r\n        this.selectedSolution.isChanged = isChanged;\r\n        this.cdf.detectChanges();\r\n    }\r\n\r\n    /**\r\n     * å¤çç­éæé®åæ¸ç©ºæé®çååºå¼ä½ç½®åæ´\r\n     * @param $event farris-queryconditionç»ä»¶åé¨æ¯å¦æ¾ç¤ºæé®\r\n     */\r\n    // showButtonHandle($event: any) {\r\n    //     if(!this.isDisabled){\r\n    //         let data = $event;\r\n    //         this.queryButtonOnRight = !data;\r\n    //         if(this.enableInitQuery && !this.doneInitQuery) {\r\n    //             this.initAutoQuery(this.selectedSolution);\r\n    //         }\r\n    //     }\r\n    // }\r\n\r\n    /**\r\n     * é®ççå¬å½æ°ï¼å½æä¸åè½¦é®æ¶ç¸å½äºæä¸ç­éæé®\r\n     */\r\n    private listenKeyBoard() {\r\n        this._self.nativeElement.addEventListener(\"keydown\", this.handleKeyDown);\r\n    }\r\n\r\n    handleKeyDown = (event) => {\r\n        if (event.key == 'Enter') {\r\n            //é«çº§æ¨¡å¼ä¸æ°æ®æ ¼å¼çé®é¢ï¼è¾å¥ç¶æä¸­ç´æ¥åè½¦ï¼è¾å¥æ¡ç±»åæ§ä»¶æ æ³æ´æ°valueï¼æå¨è§¦åä¸ä¸å¤±å»ç¦ç¹ï¼æ´æ°ç¶æ\r\n            if(this.selectedSolution.mode === '2') {\r\n                let activeEle  = document.activeElement as HTMLElement\r\n                activeEle.blur()\r\n                activeEle.focus()\r\n            }\r\n            this.query();\r\n        }\r\n           \r\n    }\r\n    /**\r\n     * èªå¨åå§åæ¥è¯¢\r\n     * å¯ç¨åå²è®°å½ï¼å¹¶ä¸å¯ç¨äºåå§åæ¥è¯¢ï¼å¦æææ¡ä»¶ï¼å°±è¿è¡æ¥è¯¢\r\n     */\r\n    private initAutoQueryByLS() {\r\n        // å¯ç¨åå²\r\n        if (this.enableHistory && !this.isDisabled) {\r\n            // key\r\n            this.setLSKey();\r\n            // åå§åå¯¹è±¡\r\n            this.initQuerySolution();\r\n            // å¦æè®¾ç½®äºåå§æ¥è¯¢\r\n            if (this.enableInitQuery) {\r\n                this.formatInitQuerySolution();\r\n                if (this.historyRefer['foundSchme']['queryConditions'].length > 0) {\r\n                    const queryConditions = cloneDeep(this.historyRefer['foundSchme']['queryConditions']);\r\n                    this.selectedFieldConditions = queryConditions;\r\n                    this.visibleSelectedConditions = this.selectedFieldConditions.filter((item: QueryCondition) => { return !!item.visible });\r\n                    const visibleConditions = cloneDeep(this.visibleSelectedConditions);\r\n                    // è®¾ç½®æ¥è¯¢æ¡ä»¶\r\n                    this.solutionHandler.setFilterConditions(visibleConditions);\r\n                    // æåºæ¥è¯¢äºä»¶\r\n                    this.queryEmitter.emit(visibleConditions);\r\n                    // æ è®°\r\n                    this.doneInitQuery = true;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * åå§å\r\n     */\r\n    private initQuerySolution() {\r\n        let querysolutionVO = new QuerySolutionVo();\r\n        querysolutionVO.id = this.solutionService.getGuid();\r\n        querysolutionVO.code = this.localeService.getValue(\"querySolution.container.histroyName\");\r\n        querysolutionVO.queryConditions = [];\r\n        querysolutionVO.belongId = this.formId;\r\n        querysolutionVO.isSystem = true;\r\n        querysolutionVO.type = 'pre';\r\n        querysolutionVO.mode = '1';\r\n        querysolutionVO.queryConditionsAdvanced = {relation:1, items:[], children: [], path: [1], groupid:1}\r\n        this.historyRefer['foundSchme'] = querysolutionVO;\r\n    }\r\n    /**\r\n     * åå§åé«çº§æ¨¡å¼\r\n     */\r\n     private initAdvancedSolution() {\r\n        let querysolutionVO = new QuerySolutionVo();\r\n        querysolutionVO.id = this.solutionService.getGuid();\r\n        querysolutionVO.code = ((this.presetQuerySolutionName != this.localeService.getValue(\"querySolution.container.sysPresetName\")) ? this.presetQuerySolutionName : this.localeService.getValue(\"querySolution.container.defaultName\")) + this.localeService.getValue(\"advancedMode.text.sysAdvancedName\");;\r\n        querysolutionVO.queryConditions = [];\r\n        querysolutionVO.belongId = this.formId;\r\n        querysolutionVO.isSystem = true;\r\n        querysolutionVO.type = 'pre';\r\n        querysolutionVO.mode = '2';\r\n        querysolutionVO.queryConditionsAdvanced = {relation:1, items:[], children: [], path: [1], groupid:1}\r\n        return querysolutionVO\r\n    }\r\n\r\n    /**\r\n     * åå§åæ¥èªLSçæ¡ä»¶\r\n     */\r\n    private formatInitQuerySolution() {\r\n        let histroyCondition = this.httpService.getLS(this.historyRefer.schemeKeyLS);\r\n        if (histroyCondition.length > 0) {\r\n            let convertor = new QuerySolutionVoConvertor();\r\n            this.historyRefer['foundSchme']['queryConditions'] = histroyCondition;\r\n            // è§èåæ¡ä»¶\r\n            this.historyRefer['foundSchme'] = this.formatQuerySolutionVO(convertor, this.historyRefer['foundSchme']);\r\n            // æ´æ°éç½®\r\n            this.solutionService.updateControl(this.historyRefer['foundSchme'], this.resetFieldConfigs);\r\n            this.historyRefer.initCondition = true;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * ä¿å­ä¹åæ´æ°åå²\r\n     */\r\n    private changeQueryHistroy(updateAll = true) {\r\n        if (!this.enableHistory || this.selectedSolution.mode !== '1') {\r\n            return;\r\n        }\r\n        let preIndex = this.querySolutionVos.findIndex((qsolutionVO) => {\r\n            return qsolutionVO['type'] == 'pre';\r\n        });\r\n        // æ§è¡æ¥è¯¢ä¹åï¼ä¸æ¬¡æ¥è¯¢çä¿®æ¹å°±ä¸è®¤ä¸ºæ¯åæ´äº\r\n        if (preIndex > -1) {\r\n            this.querySolutionVos[preIndex]['isChanged'] = false;\r\n        }\r\n        if (this.selectedSolution['type'] == 'pre') {\r\n            this.selectedSolution['isChanged'] = false;\r\n        }\r\n        const queryConditions = cloneDeep(this.selectedFieldConditions);\r\n\r\n        this.historyRefer['foundSchme'].queryConditions = queryConditions;\r\n        // æ´æ°ç¼å­\r\n        this.httpService.setLS(this.historyRefer.schemeKeyLS, this.historyRefer['foundSchme'].queryConditions);\r\n        if (updateAll) {\r\n            // åèµ·è¯·æ±ä¿å­åå²è®°å½\r\n            this.httpService.saveHistroy(this.historyRefer['foundSchme'], this.sessionId).subscribe(() => {\r\n\r\n            });\r\n        }\r\n    }\r\n\r\n    /**\r\n     * å¤çiframeåµå¥\r\n     */\r\n    private getTopWindow(): Window {\r\n        let curWin: Window = window.self;\r\n        try {\r\n            while (curWin.location.origin === curWin.parent.location.origin) {\r\n                if (curWin !== curWin.parent && !(curWin as any).isRTFTopWin) {\r\n                    curWin = curWin.parent;\r\n                } else {\r\n                    break;\r\n                }\r\n            }\r\n        } catch (e) { }\r\n        return curWin;\r\n    }\r\n\r\n    /**\r\n     * è®¾ç½®key\r\n     */\r\n    private setLSKey() {\r\n        // è·åwindow\r\n        let curWindow = this.getTopWindow();\r\n        let userCode = '';\r\n        if (curWindow['gspframeworkService'] && curWindow['gspframeworkService'].hasOwnProperty('common')) {\r\n            userCode = curWindow['gspframeworkService']['common'].userInfos.get().code;\r\n        }\r\n        this.historyRefer.schemeKeyLS = userCode ? 'Scheme' + this._idSer.encrypt(userCode + this.formId) : '';\r\n    }\r\n\r\n    // å¤æ­å½åç¨æ·æ¯å¦ææéè®¾ç½®å¬å±ç±»åç­éæ¹æ¡\r\n    checkAuthority(e: any) {\r\n        if(e != 'private') { \r\n            this.httpService.getAuth('QuerySolution', this.sessionId).subscribe(data => {\r\n                if(data) {\r\n                    if(!data['success']) {\r\n                        this.solutionService.showInfo(this.localeService.getValue('extendQuerySolution.auth.createError'), 'warning', '', 1500);\r\n                        this.saveAsDialog.authorityError = true;\r\n                        this.saveAsDialog.radioGroupValue = this.saveAsDialog.pRadioGroupValue;\r\n                    } else {\r\n                        if(e == 'org') {\r\n                            const orgData = data['authOrganizationData'];\r\n                            if (Array.isArray(orgData) && orgData.length) {\r\n                                this.saveAsDialog.dataPermissionIds = orgData;\r\n                                if (orgData.toString() != '*' && !this.saveAsDialog.selectedOrgIds.length) {\r\n                                    this.saveAsDialog.selectedOrgIds = this.saveAsDialog.dataPermissionIds;\r\n                                }\r\n                                this.saveAsDialog.noDataAuthority = false;\r\n                                this.saveAsDialog.pRadioGroupValue = e;\r\n                            } else {\r\n                                this.solutionService.showInfo(this.localeService.getValue('extendQuerySolution.auth.noDataAuthority'), 'warning', '', 1500);\r\n                                this.saveAsDialog.noDataAuthority = true;\r\n                                this.saveAsDialog.radioGroupValue = this.saveAsDialog.pRadioGroupValue;\r\n                            }\r\n                        } else {\r\n                            this.saveAsDialog.pRadioGroupValue = e;\r\n                        }\r\n                    }\r\n                } else {\r\n                    console.warn(this.localeService.getValue('extendQuerySolution.auth.apiError'));\r\n                }\r\n            });\r\n        } else {\r\n            this.saveAsDialog.pRadioGroupValue = e;\r\n            this.saveAsDialog.authorityError = false;\r\n        }\r\n    }\r\n    \r\n}\r\n","import { Injectable } from '@angular/core';\r\n\r\nconst itemIndex = (item: any, data: any[]): number => {\r\n    for (let idx = 0; idx < data.length; idx++) {\r\n        if (data[idx].id === item.id) {\r\n            return idx;\r\n        }\r\n    }\r\n\r\n    return -1;\r\n};\r\n\r\n@Injectable()\r\nexport class EditService {\r\n    private createdItems: any[] = [];\r\n    private updatedItems: any[] = [];\r\n\r\n    public update(item: any): void {\r\n        if (!this.isNew(item)) {\r\n            const index = itemIndex(item, this.updatedItems);\r\n            if (index !== -1) {\r\n                this.updatedItems.splice(index, 1, item);\r\n            } else {\r\n                this.updatedItems.push(item);\r\n            }\r\n        } else {\r\n            const index = this.createdItems.indexOf(item);\r\n            this.createdItems.splice(index, 1, item);\r\n        }\r\n    }\r\n\r\n    public isNew(item: any): boolean {\r\n        return !item.id;\r\n    }\r\n\r\n    public assignValues(target: any, source: any): void {\r\n        Object.assign(target, source);\r\n    }\r\n    \r\n}\r\n","import { Component, OnInit, ViewChild, TemplateRef, Output, EventEmitter, Input} from '@angular/core';\r\nimport { FormGroup, FormBuilder } from '@angular/forms';\r\nimport { EditService } from '../service/edit.service';\r\nimport { NotifyService, NotifyOptions } from '@farris/ui-notify';\r\nimport { QuerySolutionVo } from '@farris/component-querycondition';\r\nimport { LocaleService } from '@farris/ui-locale';\r\nimport { DialogComponent } from '@farris/ui-dialog';\r\nimport { DatagridComponent } from '@farris/ui-datagrid';\r\nimport { cloneDeep } from 'lodash-es';\r\n@Component({\r\n    selector: 'app-solutionmanager',\r\n    templateUrl: './solutionmanager.component.html',\r\n    styleUrls: ['./solutionmanager.component.css'],\r\n    providers: [EditService]\r\n})\r\nexport class SolutionManangerComponent implements OnInit {\r\n\r\n    @Output() cancelEmitter: EventEmitter<any> = new EventEmitter<any>();\r\n    @Output() confirmEmitter: EventEmitter<any> = new EventEmitter<any>();\r\n    \r\n    // @Input()\r\n    // currentDefaultQuerySolutionId: string;\r\n    // @Input()\r\n    querySolutions: Array<QuerySolutionVo> = new Array<QuerySolutionVo>();\r\n\r\n    deletedQuerySolutionIds: Array<String> = new Array<String>();\r\n    checkedSolution: QuerySolutionVo;\r\n    listData: QuerySolutionVo[];\r\n\r\n    @ViewChild('dialog') dialog: DialogComponent;\r\n    // è·åå®ä¹çååæ ¼æ¨¡æ¿\r\n    @ViewChild('optCell') optCell: TemplateRef<any>;\r\n    @ViewChild('checkCell') checkCell: TemplateRef<any>;\r\n    @ViewChild('list') list: DatagridComponent;\r\n    columns: Array<any>;\r\n    title: string;\r\n    authorityError = false;\r\n\r\n    constructor(private formBuilder: FormBuilder, private editService: EditService, private notify: NotifyService, private localeService: LocaleService) { }\r\n\r\n\r\n    ngOnInit(): void {\r\n\r\n        this.columns = [\r\n            { field: 'code', width: 272, title: this.localeService.getValue('querySolution.manageDialog.name')},\r\n            { field: 'property', width: 110, title: this.localeService.getValue('querySolution.manageDialog.property'), formatter: this.propertyFieldFormatter, halign: 'center', align: 'center'},\r\n            { field: 'isDefault', width: 70, title: this.localeService.getValue('querySolution.manageDialog.default'), template: this.checkCell, halign: 'center', align: 'center'},\r\n            { width: 70, title: this.localeService.getValue('querySolution.manageDialog.operation'), template: this.optCell, halign: 'center', align: 'center'}\r\n        ];\r\n        this.title = this.localeService.getValue('querySolution.container.manage');\r\n    }\r\n\r\n    show(querySolutions: QuerySolutionVo[]) {\r\n        if(querySolutions){\r\n            this.listData = this.findSolutionsWithoutSys(querySolutions);\r\n            this.querySolutions = querySolutions;\r\n        }\r\n        this.checkedSolution = this.querySolutions.find(vo => vo.isDefault);\r\n\r\n        this.deletedQuerySolutionIds = [];\r\n        // this.checkedSolution = undefined;\r\n        this.dialog.show();\r\n    }\r\n\r\n    getSolutionProperty(value: boolean) {\r\n        return value ? this.localeService.getValue(\"querySolution.manageDialog.system\") : this.localeService.getValue(\"querySolution.manageDialog.personal\");\r\n    }\r\n\r\n    propertyFieldFormatter = (value, data) => {\r\n        if(data['type'] == 'public') {\r\n            return this.localeService.getValue(\"extendQuerySolution.public.property\");\r\n        } else if(data['type'] == 'org') {\r\n            return this.localeService.getValue(\"extendQuerySolution.org.property\");\r\n        } \r\n        else {\r\n            return this.localeService.getValue(\"extendQuerySolution.private.property\");\r\n        }\r\n    }\r\n\r\n    findSolutionsWithoutSys(querySolutions: QuerySolutionVo[]): QuerySolutionVo[]{\r\n        const result: QuerySolutionVo[] = [];\r\n        querySolutions.forEach(qs => {\r\n            if(!qs.isSystem)\r\n                result.push(qs);\r\n        });\r\n        return result;\r\n    }\r\n\r\n    delelteSolution(dataItem: QuerySolutionVo) {\r\n        if(this.authorityError && (dataItem.type == 'public' || dataItem.type == 'org')) {\r\n            this.notify.config.position = 'top-center';\r\n            this.notify.warning(<NotifyOptions>{ title: '', msg: this.localeService.getValue(\"extendQuerySolution.auth.deleteError\"), timeout: 1500 });\r\n            return;\r\n        }\r\n        this.deletedQuerySolutionIds.push(dataItem.id);\r\n        if (this.checkedSolution && dataItem.id == this.checkedSolution.id) {\r\n            this.checkedSolution = null;\r\n        }\r\n        //å½checkedSolutionä¸å­å¨ï¼ç´æ¥å é¤\r\n        for(let i = 0; i < this.querySolutions.length; i++) {\r\n            if(dataItem.id == this.querySolutions[i].id){\r\n                this.querySolutions.splice(i, 1);\r\n                break;\r\n            }\r\n        }\r\n        this.listData = this.findSolutionsWithoutSys(this.querySolutions);\r\n    }\r\n\r\n    setDefault(checked: boolean, dataItem: QuerySolutionVo) {\r\n        if (checked) {//if checkedï¼è®¾ç½®å½åvoä¸ºé»è®¤ï¼å¶ä»è®¾ä¸ºéé»è®¤\r\n            this.checkedSolution = dataItem;\r\n            //key pointï¼\r\n            // this.currentDefaultQuerySolutionId = dataItem.id;\r\n            this.querySolutions = this.querySolutions.map(vo => {\r\n                if(vo.id == dataItem.id) {\r\n                    vo.isDefault = true;\r\n                } else {\r\n                    vo.isDefault = false;\r\n                }\r\n                return vo;\r\n            });\r\n        }\r\n        else {//if unchecked, è®¾ç½®å½åvoä¸ºéé»è®¤ï¼å¶ä½voä¸å; æ²¡æcheckedSolutionæ¶\r\n            if (dataItem.id == this.checkedSolution.id) {\r\n                this.checkedSolution = null;\r\n                // this.currentDefaultQuerySolutionId = '';\r\n                this.querySolutions = this.querySolutions.map(vo => {\r\n                    if(vo.id == dataItem.id){\r\n                        vo.isDefault = false;\r\n                    }\r\n                    return vo;\r\n                });\r\n            }\r\n        }\r\n        this.listData = this.findSolutionsWithoutSys(this.querySolutions);\r\n        this.list.refresh();\r\n    }\r\n\r\n    cancel() {\r\n        this.dialog.close();\r\n    }\r\n\r\n    confirm() {\r\n        let obj = new Object();\r\n        \r\n        obj['deletedQuerySolutionIds'] = this.deletedQuerySolutionIds;\r\n        obj['newDefaultQuerySolution'] = cloneDeep(this.checkedSolution);\r\n        obj['updatedQuerySolutionVos'] = cloneDeep(this.querySolutions);\r\n        // obj['currentDefaultQuerySolutionId'] = this.currentDefaultQuerySolutionId;\r\n\r\n        if(this.deletedQuerySolutionIds.length > 0 || this.checkedSolution && this.checkedSolution.id) {\r\n            obj['validator'] = true;\r\n        } else {\r\n            obj['validator'] = false;\r\n        }\r\n        this.confirmEmitter.emit(obj);\r\n        this.dialog.close();\r\n    }\r\n}\r\n","import { Component, OnInit, Output, EventEmitter, ViewChild, TemplateRef, HostBinding, ViewEncapsulation, ElementRef, Input } from '@angular/core';\r\nimport { NotifyService } from '@farris/ui-notify';\r\nimport { QuerySolutionVo, QuerySolutionExtendVo, SolutionService } from '@farris/component-querycondition';\r\nimport { LocaleService } from '@farris/ui-locale';\r\nimport { DialogComponent } from '@farris/ui-dialog';\r\nimport { cloneDeep } from 'lodash-es';\r\n@Component({\r\n  selector: 'app-saveasdialog',\r\n  templateUrl: './saveasdialog.component.html',\r\n  styleUrls: ['./saveasdialog.component.css'],\r\n  encapsulation: ViewEncapsulation.None\r\n})\r\nexport class SaveAsDialogComponent implements OnInit {\r\n\r\n  @HostBinding('class') cls = 'saveasdialog';\r\n  @Output() cancelEmitter: EventEmitter<any> = new EventEmitter<any>();\r\n  @Output() confirmEmitter: EventEmitter<any> = new EventEmitter<any>();\r\n  @Output() getAuthority: EventEmitter<any> = new EventEmitter<any>();\r\n  @Input() set hideOrgselector(e) {\r\n    //éèç»ç»æ¹æ¡\r\n    if(e) {\r\n      this.solutionType = this.solutionType.filter(val => val.value !== 'org')\r\n    }\r\n  }\r\n  //@Inputå±æ§ï¼æ§ä»£ç æªè®¾ç½®ï¼æä¿ç\r\n  querySolution: QuerySolutionVo = new QuerySolutionVo();\r\n  //æ°å¢@Inputå±æ§\r\n  title: string;\r\n  //åé¨å±æ§\r\n  defaultQuerySolution: QuerySolutionVo;\r\n\r\n  @ViewChild('dialog') dialog: DialogComponent;\r\n  // æ è®°codeä¸­æ¯å¦æå¼å¸¸\r\n  codeError = false;\r\n  // codeæé¿æ¯100ä¸ªå­ç¬¦ï¼ä¸è®ºä¸­è±æ\r\n  codeMaxLength = 100;\r\n  // æ¹æ¡ç±»åï¼ç¨æ·ä¸ªäººãå¨å±å¬å±ãç»ç»å¬å±\r\n  solutionType = [{\r\n    value: 'private',\r\n    name: this.localeService.getValue(\"extendQuerySolution.private.setAsPrivate\")\r\n  },\r\n  {\r\n    value: 'public',\r\n    name: this.localeService.getValue(\"extendQuerySolution.public.setAsPublic\")\r\n  },\r\n  {\r\n    value: 'org',\r\n    name: this.localeService.getValue(\"extendQuerySolution.org.setAsOrgPublic\")\r\n  }];\r\n  // å½åå·²éæ¹æ¡ç±»å\r\n  radioGroupValue: string = 'private';\r\n  pRadioGroupValue: string;\r\n  // æ¯å¦å·²åéåè½æéï¼æªåéæ¶å¼ä¸ºtrue\r\n  authorityError = false;\r\n  // æ¯å¦å·²åéæ°æ®æéï¼æªåéæ¶å¼ä¸ºtrue \r\n  noDataAuthority = false;\r\n  // åéçç»ç»æ°æ®æé\r\n  dataPermissionIds: string[] = [];\r\n  // ç»ç»éæ©ç»ä»¶çè¿åå¼\r\n  selectedOrgIds: string[] = [];\r\n  placeholder: string;\r\n\r\n  isDefault = false;\r\n\r\n  private currentLang: string;\r\n\r\n  languages = [\r\n    { code: 'zh-cn', name: 'ä¸­æç®ä½', default: true },\r\n    { code: 'en', name: 'English' },\r\n    { code: 'zh-CHT', name: 'ä¸­æç¹ä½' }\r\n  ];\r\n  solutionCodeObj: any;\r\n\r\n  constructor(private notify: NotifyService, private solutionService: SolutionService, private localeService: LocaleService) { }\r\n\r\n\r\n  ngOnInit() {\r\n    this.pRadioGroupValue = this.radioGroupValue;\r\n    this.placeholder = this.localeService.getValue('extendQuerySolution.org.placeholder');\r\n    //å¼å®¹æ§çè®¾è®¡å¨\r\n    this.currentLang = (window as any).gspframeworkService ? (window as any).gspframeworkService.rtf.language.getLanguageCode() : 'zh-cn';\r\n  }\r\n\r\n  show() {\r\n    this.dialog.show();\r\n  }\r\n\r\n  cancel() {\r\n    // this.cancelEmitter.emit(true);\r\n    this.solutionCodeObj = null;\r\n    this.dialog.close();\r\n  }\r\n\r\n  confirm() {\r\n    if (this.solutionCodeObj) {\r\n      this.codeChangeHandler(this.solutionCodeObj['zh-cn']);\r\n      this.codeChangeHandler(this.solutionCodeObj['en']);\r\n      this.codeChangeHandler(this.solutionCodeObj['zh-CHT']);\r\n      if (this.codeError) {\r\n        return;\r\n      }\r\n      this.querySolution.code_chs = this.solutionCodeObj['zh-cn'];\r\n      this.querySolution.code_en = this.solutionCodeObj['en'];\r\n      this.querySolution.code_cht = this.solutionCodeObj['zh-CHT'];\r\n    }\r\n\r\n    // å¦ææéè¯¯è¿å\r\n\r\n    // if (!this.querySolution.code) {\r\n    //   this.solutionService.showInfo(this.localeService.getValue('querySolution.saveAsDialog.pleaseInput'), 'info', '', 1500);\r\n    //   return;\r\n    // }\r\n\r\n    if (this.currentLang == 'zh-CHS') {\r\n      if (!this.querySolution.code_chs) {\r\n        this.solutionService.showInfo(this.localeService.getValue('querySolution.saveAsDialog.pleaseInput'), 'info', '', 1500);\r\n        return;\r\n      }\r\n      this.querySolution.code = this.querySolution.code_chs;\r\n    } else if (this.currentLang == 'en') {\r\n      if (!this.querySolution.code_en) {\r\n        this.solutionService.showInfo(this.localeService.getValue('querySolution.saveAsDialog.pleaseInput'), 'info', '', 1500);\r\n        return;\r\n      }\r\n      this.querySolution.code = this.querySolution.code_en;\r\n    } else if (this.currentLang == 'zh-CHT') {\r\n      if (!this.querySolution.code_cht) {\r\n        this.solutionService.showInfo(this.localeService.getValue('querySolution.saveAsDialog.pleaseInput'), 'info', '', 1500);\r\n        return;\r\n      }\r\n      this.querySolution.code = this.querySolution.code_cht;\r\n    }\r\n    if (this.authorityError && this.radioGroupValue != 'private') {\r\n      this.solutionService.showInfo(this.localeService.getValue('extendQuerySolution.auth.createError'), 'warning', '', 1500);\r\n      return;\r\n    }\r\n    this.querySolution.type = this.radioGroupValue;\r\n    this.querySolution.isDefault = this.radioGroupValue == 'private' ? this.isDefault : false;\r\n    if (this.radioGroupValue == 'org') {\r\n      if (this.selectedOrgIds.length) {\r\n        this.querySolution.extendInfo = this.selectedOrgIds.map(id => {\r\n          let info = new QuerySolutionExtendVo();\r\n          info['id'] = this.solutionService.getGuid(),\r\n            info['relatedId'] = this.querySolution.id;\r\n          info['orgId'] = id;\r\n          return info;\r\n        })\r\n      } else {\r\n        this.solutionService.showInfo(this.localeService.getValue('extendQuerySolution.auth.noSelectedOrg'), 'info', '', 1500);\r\n        return;\r\n      }\r\n    }\r\n    let obj = new Object();\r\n    obj['querySolution'] = cloneDeep(this.querySolution);\r\n    this.confirmEmitter.emit(obj);\r\n    this.solutionCodeObj = null;\r\n    this.dialog.close();\r\n  }\r\n\r\n  setDefault(checkStatus: boolean) {\r\n    //this.querySolution.isDefault = checkStatus;\r\n    this.isDefault = checkStatus;\r\n  }\r\n\r\n  // ååæ¶æ£æµ\r\n  codeChangeHandler(result: string) {\r\n    if (result && result.length > this.codeMaxLength) {\r\n      this.codeError = true;\r\n    } else {\r\n      this.codeError = false;\r\n    }\r\n  }\r\n\r\n  // åæ¢æ¹æ¡ç±»åï¼ä¸ªäºº/å¬å±/ç»ç»å¬å±ï¼éè¦å¤æ­æé\r\n  changeSolutionType(e: any) {\r\n    this.querySolution.type = e;\r\n    this.querySolution.isDefault = e == 'private' ? this.isDefault : false;\r\n    this.getAuthority.emit(e);\r\n  }\r\n\r\n  // è·åç»ç»éæ©ç»ä»¶çè¿åå¼ï¼1ãå¼¹çªåç¹ç¡®å®ï¼2ãææ¬æ¡åç§»é¤åä¸ªï¼\r\n  getSelectedId(e: any) {\r\n    this.selectedOrgIds = (e.selections as Array<any>).map(org => org.orgId);\r\n  }\r\n\r\n  // æ¸ç©ºææ¬æ¡\r\n  clearAllOrgs() {\r\n    this.selectedOrgIds = [];\r\n  }\r\n}\r\n","import { Component, OnInit, Input, Injector, OnDestroy } from '@angular/core';\r\nimport { QueryCondition, ControlType, TextValue, DropDownListControl, InputGroupValue, SmartHelpValue, NumberRangeValue, RadioControl, CheckBoxControl, CheckBoxValue } from '@farris/component-querycondition';\r\nimport { DateTimeHelperService } from '@farris/ui-common/date';\r\nimport { NumberHelperService } from '@farris/ui-common/number';\r\nimport { LocaleService } from '@farris/ui-locale';\r\n\r\n@Component({\r\n  selector: 'lib-summary-condition',\r\n  templateUrl: './summary-condition.component.html',\r\n  styleUrls: ['./summary-condition.component.css']\r\n})\r\nexport class SummaryConditionComponent implements OnInit {\r\n\r\n\r\n  private _condition: QueryCondition;\r\n  // å½åcontrolType\r\n  private _conditionType;\r\n  // åéç¬¦\r\n  private _spliter = '';\r\n  // æ¯å¦åºé´\r\n  private _isRange = false;\r\n  private showTime = false;\r\n  private textField = 'name';\r\n  private valueField = 'value';\r\n  // ä»æå¡å¨ç«¯åå¼æ¯æ ¼å¼ååç\r\n  private returnFormat = '';\r\n  // éè¦è½¬åç±»åæ ¼å¼çè¡¨è¾¾å¼\r\n  private format: any;\r\n  // è½¬æ¢ç±»åç¨å°çæ°æ®\r\n  private dataSource;\r\n  // ææ¬æ¾ç¤º\r\n  text = \"\";\r\n\r\n  @Input()\r\n  set condition(qCondition) {\r\n    this._condition = qCondition;\r\n    this.formatCondition();\r\n  }\r\n  get condition(): QueryCondition {\r\n    return this._condition;\r\n  };\r\n  // å¤è¯­è¨\r\n  private currentLanguage: string;\r\n  // ååä½ç¬¦å·\r\n  private thousand = ',';\r\n  // å°æ°ç¹å¤ç¬¦å·\r\n  private decimal = '.';\r\n  // è´§å¸ç¬¦å·åå¼å±ç°å½¢å¼\r\n  private expression = '%s%v';\r\n\r\n  // formControlæ¾ç¤ºçææ¬\r\n  /**\r\n   * å½éåç±»å\r\n   \r\n  @Input() localizationType: string;*/\r\n  // è´§å¸ç¬¦å·ï¼é»è®¤æ¯RMB\r\n  currencySymbol = 'ï¿¥';\r\n  // åè¿å¶åé¢å¡«åçç¬¦å·\r\n  @Input() filledSymbol = '0';\r\n  //æ°å¼æ ¼å¼åæ°\r\n  private numberOptions;\r\n\r\n  private localeService: any;\r\n  constructor(\r\n    private dtHelper: DateTimeHelperService,\r\n    private numberHelper: NumberHelperService,\r\n    private injector: Injector\r\n  ) {\r\n    this.localeService = this.injector.get(LocaleService);\r\n  }\r\n\r\n  ngOnInit() {\r\n\r\n  }\r\n\r\n  formatCondition() {\r\n    let qCondition = this.condition;\r\n    if (qCondition) {\r\n      this._conditionType = qCondition.control.getControlType();\r\n      let textValueObj;\r\n      let textOriginalValue = qCondition.value.getOriginalValue();\r\n      let startValue;\r\n      let endValue;\r\n      switch (this._conditionType) {\r\n        case ControlType.Text:\r\n          //ææ¬\r\n          textValueObj = qCondition.value as TextValue;\r\n          textOriginalValue = textValueObj.value && textValueObj.value.trim();\r\n          break;\r\n        case ControlType.SingleNumber:\r\n          // æ°å¼\r\n          this.numberOptions = { precision: qCondition.control['precision'], type: 'number' }\r\n          break;\r\n        case ControlType.NumberRange:\r\n          // æ°å¼åºé´\r\n          this._isRange = true;\r\n          this._spliter = '~';\r\n          this.numberOptions = { precision: qCondition.control['precision'], type: 'number' };\r\n          startValue = qCondition.value['startValue'] ? qCondition.value['startValue'] : '';\r\n          endValue = qCondition.value['endValue'] ? qCondition.value['endValue'] : '';\r\n          textOriginalValue = [startValue, endValue].join(this._spliter);\r\n          break;\r\n        case ControlType.SingleDate:\r\n          //åä¸ªæ¥æ\r\n          this.returnFormat = qCondition.control && qCondition.control['returnFormat'] ? qCondition.control['returnFormat'] : \"yyyy-MM-dd\";\r\n          this.format = qCondition.control && qCondition.control['format'] ? qCondition.control['format'] : \"yyyy-MM-dd\";\r\n          break;\r\n\r\n        case ControlType.DateRange:\r\n          //æ¥æåºé´\r\n          this._isRange = true;\r\n          this._spliter = '~';\r\n          this.returnFormat = qCondition.control && qCondition.control['returnFormat'] ? qCondition.control['returnFormat'] : \"yyyy-MM-dd\";\r\n          this.format = qCondition.control && qCondition.control['format'] ? qCondition.control['format'] : \"yyyy-MM-dd\";\r\n\r\n          startValue = qCondition.value['startTime'] ? qCondition.value['startTime'] : '';\r\n          endValue = qCondition.value['endTime'] ? qCondition.value['endTime'] : '';\r\n          textOriginalValue = [startValue, endValue].join(this._spliter);\r\n          break;\r\n\r\n        case ControlType.SingleYear:\r\n          // åªæå¹´\r\n          this.returnFormat = qCondition.control && qCondition.control['returnFormat'] ? qCondition.control['returnFormat'] : \"yyyy\";\r\n          this.format = qCondition.control && qCondition.control['format'] ? qCondition.control['format'] : \"yyyy\";\r\n          break;\r\n        case ControlType.SingleMonth:\r\n          // åªææ\r\n          this.returnFormat = qCondition.control && qCondition.control['returnFormat'] ? qCondition.control['returnFormat'] : \"yyyy-MM\";\r\n          this.format = qCondition.control && qCondition.control['format'] ? qCondition.control['format'] : \"yyyy-MM\";\r\n          break;\r\n        case ControlType.MonthRange:\r\n          // æèå´\r\n          this._isRange = true;\r\n          this._spliter = '~';\r\n          this.returnFormat = qCondition.control && qCondition.control['returnFormat'] ? qCondition.control['returnFormat'] : \"yyyy-MM\";\r\n          this.format = qCondition.control && qCondition.control['format'] ? qCondition.control['format'] : \"yyyy-MM\";\r\n          startValue = qCondition.value['startTime'] ? qCondition.value['startTime'] : '';\r\n          endValue = qCondition.value['endTime'] ? qCondition.value['endTime'] : '';\r\n          break;\r\n        case ControlType.SingleDateTime:\r\n          // æ¶é´\r\n          this.showTime = true;\r\n          this.returnFormat = qCondition.control['returnFormat'] ? qCondition.control['returnFormat'] : this.returnFormat;\r\n          this.format = 'yyyy-MM-dd HH:mm:ss';\r\n          if(qCondition.control) {\r\n            if(qCondition.control['enableCustomFormat']) {\r\n              this.format = qCondition.control['format'] ? qCondition.control['format'] : this.returnFormat;\r\n            }else{\r\n              this.format = qCondition.control && qCondition.control['format'] ? qCondition.control['format'] + ' HH:mm:ss' : this.returnFormat;\r\n            }\r\n          }         \r\n          break;\r\n        case ControlType.DateTimeRange:\r\n          // æ¶é´åºé´\r\n          this.showTime = true;\r\n          this._isRange = true;\r\n          this._spliter = '~';\r\n          this.returnFormat = qCondition.control['returnFormat'] ? qCondition.control['returnFormat'] : this.returnFormat;\r\n          this.format = 'yyyy-MM-dd HH:mm:ss';\r\n          if(qCondition.control) {\r\n            if(qCondition.control['enableCustomFormat']) {\r\n              this.format = qCondition.control['format'] ? qCondition.control['format'] : this.returnFormat;\r\n            }else{\r\n              this.format = qCondition.control && qCondition.control['format'] ? qCondition.control['format'] + ' HH:mm:ss' : this.returnFormat;\r\n            }\r\n          }\r\n          startValue = qCondition.value['startTime'] ? qCondition.value['startTime'] : '';\r\n          endValue = qCondition.value['endTime'] ? qCondition.value['endTime'] : '';\r\n          break;\r\n\r\n        case ControlType.BoolCheck:\r\n          // å¸å°å¼-åä¸ªå¼\r\n          let checkValue = (qCondition.value as CheckBoxValue).value;\r\n          textOriginalValue = checkValue.length > 0 ? checkValue['0'] : null;\r\n          break;\r\n        case ControlType.DropDownList:\r\n          // ä¸æ\r\n          this._spliter = ',';\r\n          if(qCondition.control['uri'] && !qCondition.control['enumValues']) {\r\n            textOriginalValue = (qCondition.value['value'] as Array<any>).map(t => t[this.valueField]).join(this._spliter);\r\n          }\r\n          break;\r\n        case ControlType.Radio:\r\n          // åéç»\r\n          this._spliter = ',';\r\n          break;\r\n        case ControlType.InputGroup:\r\n          // inputgroup\r\n          textValueObj = qCondition.value as InputGroupValue;\r\n          textOriginalValue = textValueObj.textValue && textValueObj.textValue.trim();\r\n          break;\r\n        case ControlType.SmartHelp:\r\n          // å¸®å©\r\n          textValueObj = qCondition.value as SmartHelpValue;\r\n          textOriginalValue = textValueObj.textValue && textValueObj.textValue.trim();\r\n          break;\r\n        default:\r\n          textOriginalValue = qCondition.value.getOriginalValue();\r\n      }\r\n      this.text = this.formatValue(textOriginalValue);\r\n    } else {\r\n      this.text = '';\r\n    }\r\n  }\r\n  /**\r\n   * å¤çå¤è¯­è¨ï¼å¾å®\r\n   */\r\n  formatLang(value: any) {\r\n    return value && value[this.currentLanguage] ? value[this.currentLanguage] : '';\r\n  }\r\n  /**\r\n   * Cè´§å¸\r\n   * Dåè¿å¶\r\n   * Fæµ®ç¹æ°\r\n   * Næ°å­ï¼å¸¦ååä½\r\n   * Pç¾åæ¯\r\n   */\r\n  getFormatNumberValue(value: any) {\r\n    if (!this.format && !this.numberOptions) {\r\n      return value.toString();\r\n    }\r\n    if (this.numberOptions && this.numberOptions.type && this.numberOptions.type == 'number') {\r\n      if (this.numberOptions.formatter) {\r\n        return this.numberOptions.formatter(value);\r\n      }\r\n      else {\r\n        if (this.numberOptions.useThousands) {\r\n          // è®¾ç½®äºååä½\r\n          if (this.numberOptions.precision != undefined) {\r\n            this.format = 'n' + this.numberOptions.precision;\r\n          }\r\n          else {\r\n            this.format = 'n';\r\n          }\r\n        }\r\n        else {\r\n          // æ²¡æè®¾ç½®ååä½\r\n          if (this.numberOptions.precision != undefined) {\r\n            this.format = 'f' + this.numberOptions.precision;\r\n          }\r\n          else {\r\n            // æ²¡æè®¾ç½®ç²¾åº¦ï¼æ²¡æè®¾ç½®ååä½\r\n            return value.toString();\r\n          }\r\n        }\r\n      }\r\n    }else{\r\n      return value.toString();\r\n    }\r\n    const firstLetter = this.currencyToUpperCase(this.format.substring(0, 1));\r\n    const precision = Number(this.format.substring(1));\r\n    let config = {};\r\n    let result: any;\r\n    if (!/C|D|F|N|P/g.test(firstLetter)) {\r\n      console.warn(`ä¸æ¯æformatä¸º ${this.format} ç±»åçæ°å­æ ¼å¼å`);\r\n      return;\r\n    }\r\n    if (this.thousand) {\r\n      Object.assign(config, { thousand: this.thousand });\r\n    }\r\n    if (this.decimal) {\r\n      Object.assign(config, { decimal: this.decimal });\r\n    }\r\n    if (this.expression) {\r\n      Object.assign(config, { format: this.expression });\r\n    }\r\n    switch (firstLetter) {\r\n      case 'C':\r\n        Object.assign(config, { prefix: this.currencySymbol, precision });\r\n        result = this.numberHelper.formatMoney(value, config);\r\n        break;\r\n      case 'D':\r\n        result = this.toDecimal(value, precision);\r\n        break;\r\n      case 'F':\r\n        Object.assign(config, { prefix: '', thousand: '', precision });\r\n        result = this.numberHelper.formatMoney(value, config);\r\n        break;\r\n      case 'N':\r\n        Object.assign(config, { prefix: '', precision });\r\n        result = this.numberHelper.formatMoney(value, config);\r\n        break;\r\n      case 'P':\r\n        result = this.toPercent(value, precision);\r\n        break;\r\n    }\r\n    return result;\r\n  }\r\n  /**\r\n   * @param value è½¬æ¢æåè¿å¶çæ°å­\r\n   * @param precision åè¿å¶æ°å­çé¿åº¦\r\n   */\r\n  toDecimal(value: any, precision: any) {\r\n    if (value.toString().indexOf('.') > -1) {\r\n      console.warn('åè¿å¶è½¬æ¢ä»éæ´åç±»å');\r\n      return;\r\n    }\r\n    return (Array(precision).join(this.filledSymbol) + value).slice(-precision);\r\n  }\r\n  /**\r\n   * @param value è½¬æ¢æç¾åæ°çæ°å­\r\n   * @param decimal å°æ°ç¹ä¿çå ä½\r\n   */\r\n  toPercent(value: any, precision: any) {\r\n    return Number(value * 100).toFixed(Number(precision)) + '%';\r\n  }\r\n\r\n  /**\r\n   * å°è´§å¸ç¬¦å·é¦å­æ¯è½¬æ¢æå¤§å\r\n   */\r\n  currencyToUpperCase(value: any) {\r\n    return value.replace(/[a-z]+/g, (word: any) => {\r\n      return word.toUpperCase();\r\n    });\r\n  }\r\n\r\n  /**\r\n   * å¤çå¹´ï¼Y=>y, D=>d\r\n   */\r\n  dateToUpperCase(value: any) {\r\n    let newFormat: any;\r\n    if (/Y/g.test(value) === true) {\r\n      newFormat = value.replace(/Y/g, 'y');\r\n    } else {\r\n      newFormat = value;\r\n    }\r\n    if (/D/g.test(newFormat) === true) {\r\n      newFormat = newFormat.replace(/D/g, 'd');\r\n    }\r\n\r\n    return newFormat;\r\n  }\r\n  /**\r\n   * æä¸¾ç±»åå¤ç\r\n   */\r\n  getFormatEnumValue(value: any) {\r\n    if (value == undefined || value === null || value === '') {\r\n      return '';\r\n    }\r\n    if (this.dataSource && this.dataSource.length) {\r\n      // å¯è½å­å¨å¤éæä¸¾ï¼ä½ä¸ºåéç¬¦  \r\n      // let curVals = ('' + value).split(',');\r\n      let curVals = ('' + value).split(this._spliter);\r\n      let nameResult = [];\r\n      for (let k = 0; k < curVals.length; k++) {\r\n        let findObj = this.dataSource.find(item => {\r\n          return item[this.valueField] == curVals[k];\r\n        });\r\n        if (findObj) {\r\n          nameResult.push(findObj[this.textField]);\r\n        }\r\n        else {\r\n          nameResult.push(curVals[k]);\r\n        }\r\n      }\r\n      if (nameResult.length > 0) {\r\n        // return nameResult.join(',');\r\n        return nameResult.join(this._spliter)\r\n      }\r\n      return '';\r\n    } else {\r\n      return value;\r\n    }\r\n  }\r\n  /**\r\n   * booleanå¼å¤ç\r\n   */\r\n  getFormatCheckBoxValue(value: boolean) {\r\n    if (value === true) {\r\n      return this.localeService.getValue('text.yes');\r\n    } else if (value === false || value == null || typeof value === 'undefined') {\r\n      return this.localeService.getValue('text.no');\r\n    } else {\r\n      return value;\r\n    }\r\n  }\r\n  /*\r\n  * æ¥ææ ¼å¼å\r\n  */\r\n  dateformat(value) {\r\n    let str;\r\n    if (!this.format) {\r\n      this.format = 'YYYY-MM-dd';\r\n    }\r\n    // å½åå¼æ¯å·²ç»æ ¼å¼ååçæ¥æå­ç¬¦ä¸²\r\n    if (this.returnFormat  && typeof value == 'string') {\r\n      value = this.getDateFromFormatedString(value, this.returnFormat);\r\n    }\r\n    if (this.format === 'hh:mm:ss' || this.format === 'HH:mm:ss') {\r\n      // æ ¼å¼åæ¶é´  ä¸´æ¶å¤ç\r\n      str = value;\r\n    } else {\r\n        // æ ¼å¼åæ¥æ\r\n        str = this.dtHelper.formatTo(value, this.dateToUpperCase(this.format));\r\n    }\r\n    return str;\r\n  }\r\n  private getDateFromFormatedString(dateString, format) {\r\n    var result = { year: 0, month: 0, day: 0, hour: 0, minite: 0, second: 0 };//å½ç¶è¿éå¯ä»¥é»è®¤1970-1-1æ¥\r\n    if (dateString) {\r\n      format.replace(/y{4}|Y{4}|M+|d+|D+|h+|H+|m+|s+/g, function (m, a, b, c) {//è¿éåªåäºå¹´ææ¥  å æ¶åç§ä¹æ¯å¯ä»¥ç\r\n        dateString.substring(a).replace(/\\d+/, function (d) {\r\n           if(d){\r\n              c = parseInt(d.substr(0,m.length), 10); \r\n            }\r\n        });\r\n        if (/y+/i.test(m) && !result.year) result.year = c;\r\n        if (/M+/.test(m) && !result.month) result.month = c;\r\n        if (/d+/i.test(m) && !result.day) result.day = c;\r\n        if (/h+/i.test(m) && !result.hour) result.hour = c;\r\n        if (/m+/.test(m) && !result.minite) result.minite = c;\r\n        if (/s+/.test(m) && !result.second) result.second = c;\r\n      });\r\n    }\r\n    result.day = result.day ? result.day : 1;\r\n    result.month = result.month ? result.month : 1;\r\n    var resultDate = new Date(result.year + '/' + result.month + '/' + result.day + ' ' + result.hour + ':' + result.minite + ':' + result.second);\r\n    return resultDate;\r\n  }\r\n\r\n  function (date, fmt) {\r\n    var o = {\r\n      'M+': date.getMonth() + 1, //æä»½\r\n      'd+': date.getDate(), //æ¥\r\n      'h+': date.getHours(), //å°æ¶\r\n      'm+': date.getMinutes(), //å\r\n      's+': date.getSeconds(), //ç§\r\n      'q+': Math.floor((date.getMonth() + 3) / 3), //å­£åº¦\r\n      'S': date.getMilliseconds() //æ¯«ç§\r\n    };\r\n    if (!fmt) {\r\n      fmt = 'yyyy-MM-dd hh:mm:ss';\r\n    }\r\n    if (/(y+)/.test(fmt)) {\r\n      fmt = fmt.replace(RegExp.$1, (date.getFullYear() + '').substr(4 - RegExp.$1.length));\r\n    }\r\n    for (var k in o) {\r\n      if (new RegExp('(' + k + ')').test(fmt)) {\r\n        fmt = fmt.replace(RegExp.$1, (RegExp.$1.length == 1) ? (o[k]) : (('00' + o[k]).substr(('' + o[k]).length)));\r\n      }\r\n    }\r\n    return fmt;\r\n  }\r\n\r\n  /**\r\n   * æ ¼å¼åå¤ç\r\n   */\r\n  formatValue(value: any) {\r\n    let str: any;\r\n    if (this.currentLanguage) {\r\n      return this.formatLang(value);\r\n    }\r\n    // æ è®°ç±»å\r\n    if (this._conditionType !== ControlType.BoolCheck && (value == null || typeof value === 'undefined')) {\r\n      return '';\r\n    }\r\n    switch (this._conditionType) {\r\n      case ControlType.Text:\r\n        str = value;\r\n        break;\r\n      case ControlType.DateRange:\r\n      case ControlType.MonthRange:\r\n      case ControlType.DateTimeRange:\r\n        const dateValues = value.split(this._spliter);\r\n        let dataStr = [];\r\n        if (dateValues && dateValues.length) {\r\n          dateValues.forEach(date => {\r\n            let val = this.dateformat(date);\r\n            dataStr.push(val);\r\n          });\r\n        }\r\n        str = dataStr.join(this._spliter);\r\n        break;\r\n      case ControlType.SingleDate:\r\n        if(value && value.text) {\r\n          str = value.text\r\n        } else {\r\n          str = this.dateformat(value)\r\n        }\r\n        break;\r\n      case ControlType.SingleDateTime:\r\n      case ControlType.SingleMonth:\r\n      case ControlType.SingleYear:\r\n        str = this.dateformat(value);\r\n        break;\r\n      case ControlType.SingleNumber:\r\n        // æ°å­\r\n        str = this.getFormatNumberValue(value);\r\n        break;\r\n      case ControlType.NumberRange:\r\n        // æ°å­ åºé´     \r\n        const numberValues = value.split(this._spliter);\r\n        let resultStr = [];\r\n        if (numberValues && numberValues.length) {\r\n          numberValues.forEach(date => {\r\n            let val = this.getFormatNumberValue(date);\r\n            resultStr.push(val);\r\n          });\r\n        }\r\n        str = resultStr.join(this._spliter);\r\n        break;\r\n      case ControlType.Radio:\r\n        // åéç»\r\n        this.dataSource = (this.condition.control as RadioControl).enumValues;\r\n        str = this.getFormatEnumValue(value);\r\n        break;\r\n      case ControlType.DropDownList:\r\n        // ä¸æ\r\n        this.dataSource = (this.condition.control as DropDownListControl).enumValues;\r\n        str = this.getFormatEnumValue(value);\r\n        break;\r\n      case ControlType.BoolCheck:\r\n        // å¸å°\r\n        //this.dataSource = (this.condition.control as CheckBoxControl).data;\r\n        str = this.getFormatCheckBoxValue(value);\r\n        break;\r\n        //å¸®å©çè¯å¼å®¹æ§æ°æ®ï¼é¨åå¼ä¸ºhelp-text-value-nullçè½¬åä¸ºç©ºå­ç¬¦ä¸²\r\n      case ControlType.SmartHelp:\r\n        str = value === 'help-text-value-null' ? '' : value;\r\n        break;\r\n      case ControlType.ComboLookUp:\r\n        str = value === 'help-text-value-null' ? '' : value;\r\n        break;\r\n\r\n      default:\r\n        str = value;\r\n    }\r\n\r\n    return str;\r\n  }\r\n}\r\n","import { Component, OnInit, Input,  ViewChild, ElementRef, NgZone, OnDestroy, HostBinding, AfterViewInit, ChangeDetectorRef } from '@angular/core';\r\nimport { QueryCondition} from '@farris/component-querycondition';\r\nimport ResizeObserver from \"resize-observer-polyfill\";\r\n@Component({\r\n  selector: 'lib-summary-list',\r\n  templateUrl: './summary-list.component.html',\r\n  styleUrls: ['./summary-list.component.css']\r\n})\r\nexport class SummaryListComponent implements OnInit, OnDestroy {\r\n    \r\n  @HostBinding('class.summary-list') cls = true;\r\n  \r\n  @ViewChild('wrapper', { read: ElementRef }) wrapperEl: ElementRef;\r\n\r\n  @Input() conditions: Array<QueryCondition> = new Array<QueryCondition>();\r\n  @Input() enableTips = false;\r\n  \r\n  private ro: ResizeObserver | null = null;\r\n  widthFlag = 0;\r\n  \r\n  constructor(private ngZone: NgZone, private cd: ChangeDetectorRef) {\r\n\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    if (this.ro) {\r\n      this.ro.unobserve(this.wrapperEl.nativeElement);\r\n      this.ro = null;\r\n    }\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.observerElement();\r\n  }\r\n\r\n  private observerElement() {\r\n    this.ngZone.runOutsideAngular(() => {\r\n      this.ro = new ResizeObserver((entries, observer) => {\r\n        const tempWidth = entries[0].contentRect.width;\r\n        // å®½åº¦ååè¶è¿80å¼å§è®¡ç®\r\n        if (Math.abs(tempWidth - this.widthFlag) > 15) {\r\n          this.widthFlag = tempWidth;\r\n          this.changeTipsState();\r\n        }\r\n      });\r\n      this.ro.observe(this.wrapperEl.nativeElement);\r\n    });\r\n  }\r\n\r\n  private changeTipsState() {\r\n    let tEnableTips = this.enableTips;\r\n    if (this.wrapperEl.nativeElement.clientWidth +2 < this.wrapperEl.nativeElement.scrollWidth) {\r\n      tEnableTips = true;\r\n    } else {\r\n      tEnableTips = false;\r\n    }\r\n    if(tEnableTips !== this.enableTips) {\r\n      this.enableTips = tEnableTips;\r\n      this.cd.markForCheck();\r\n      this.cd.detectChanges();\r\n    }\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { QuerySolutionComponent } from './query-solution.component';\r\nimport { SolutionManangerComponent } from './solutionmanager/solutionmanager.component';\r\nimport { SaveAsDialogComponent } from './saveasdialog/saveasdialog.component';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { FarrisDialogModule } from '@farris/ui-dialog';\r\nimport { LookupModule } from '@farris/ui-lookup';\r\nimport { MultiSelectModule } from '@farris/ui-multi-select';\r\nimport { FieldGroupModule } from '@farris/ui-field-group';\r\nimport { InputGroupModule } from '@farris/ui-input-group';\r\nimport { FDropdownDirectiveTypeModule } from '@farris/ui-dropdown';\r\nimport { NotifyModule } from '@farris/ui-notify';\r\nimport { LoadingModule } from '@farris/ui-loading';\r\nimport { HttpClientModule } from '@angular/common/http';\r\nimport { SolutionService, QueryConditionModule } from '@farris/component-querycondition';\r\nimport { LocaleModule } from '@farris/ui-locale';\r\nimport { DatagridModule } from '@farris/ui-datagrid';\r\nimport { NumberHelperModule } from '@farris/ui-common/number';\r\nimport { DateHelperModule } from '@farris/ui-common/date';\r\nimport { FarrisTooltipModule } from '@farris/ui-tooltip';\r\nimport { SummaryConditionComponent } from './summary-condition/summary-condition.component';\r\nimport { SummaryListComponent } from './summary-list/summary-list.component';\r\nimport { FarrisFormsModule } from '@farris/ui-forms';\r\nimport { OrganizationSelectorModule } from '@farris/ui-organization-selector';\r\nimport { LanguageTextboxModule } from '@farris/ui-language-textbox';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    FarrisDialogModule,\r\n    LookupModule,\r\n    MultiSelectModule,\r\n    FieldGroupModule,\r\n    InputGroupModule,\r\n    FDropdownDirectiveTypeModule,\r\n    NotifyModule.forRoot(),\r\n    LoadingModule.forRoot(),\r\n    QueryConditionModule,\r\n    HttpClientModule,\r\n    LocaleModule,\r\n    DatagridModule,\r\n    NumberHelperModule,\r\n    DateHelperModule,\r\n    FarrisTooltipModule,\r\n    FarrisFormsModule,\r\n    OrganizationSelectorModule,\r\n    LanguageTextboxModule\r\n  ],\r\n  declarations: [\r\n    QuerySolutionComponent,\r\n    SolutionManangerComponent,\r\n    SaveAsDialogComponent,\r\n    SummaryConditionComponent,\r\n    SummaryListComponent,\r\n  ],\r\n  entryComponents:[\r\n    SolutionManangerComponent,\r\n    SaveAsDialogComponent\r\n  ],\r\n  providers:[SolutionService],\r\n  exports:[ \r\n    QuerySolutionComponent,\r\n    SolutionManangerComponent,\r\n    SaveAsDialogComponent\r\n  ]\r\n})\r\nexport class QuerySolutionModule { }\r\n"],"names":["http","BasePathService","HttpHeaders","QuerySolutionVoConvertor","Injectable","HttpClient","InjectionToken","Subject","EventEmitter","QuerySolutionVo","BehaviorSubject","cloneDeep","IdService","InjectFlags","MessagerService","ElementRef","ChangeDetectorRef","EventManager","takeUntil","tslib_1.__spread","tslib_1.__values","switchMap","of","tap","Observable","Component","ViewEncapsulation","ConvertorService","NotifyService","ComponentFactoryResolver","Injector","BsModalService","SolutionService","LocaleService","Input","Output","HostBinding","ViewChild","FormBuilder","QuerySolutionExtendVo","ControlType","date","DateTimeHelperService","NumberHelperService","NgZone","NgModule","CommonModule","FormsModule","FarrisDialogModule","LookupModule","MultiSelectModule","FieldGroupModule","InputGroupModule","FDropdownDirectiveTypeModule","NotifyModule","LoadingModule","QueryConditionModule","HttpClientModule","LocaleModule","DatagridModule","NumberHelperModule","DateHelperModule","FarrisTooltipModule","FarrisFormsModule","OrganizationSelectorModule","LanguageTextboxModule"],"mappings":"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"}
