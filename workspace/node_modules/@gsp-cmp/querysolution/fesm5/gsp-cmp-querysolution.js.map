{"version":3,"file":"gsp-cmp-querysolution.js.map","sources":["ng://@gsp-cmp/querysolution/lib/saveasdialog/saveasdialog.component.ts","ng://@gsp-cmp/querysolution/lib/service/edit.service.ts","ng://@gsp-cmp/querysolution/lib/solutionmanager/solutionmanager.component.ts","ng://@gsp-cmp/querysolution/lib/service/httpservice.ts","ng://@gsp-cmp/querysolution/lib/service/fieldconfig.service.ts","ng://@gsp-cmp/querysolution/lib/interface/IQuerySolutionHandler.ts","ng://@gsp-cmp/querysolution/lib/service/solution.cache.service.ts","ng://@gsp-cmp/querysolution/lib/utils/extend-locale.ts","ng://@gsp-cmp/querysolution/lib/query-solution.component.ts","ng://@gsp-cmp/querysolution/lib/summary-condition/summary-condition.component.ts","ng://@gsp-cmp/querysolution/lib/summary-list/summary-list.component.ts","ng://@gsp-cmp/querysolution/lib/query-solution.module.ts"],"sourcesContent":["import { Component, OnInit, Output, EventEmitter, ViewChild, TemplateRef, HostBinding, ViewEncapsulation, ElementRef, Input } from '@angular/core';\r\nimport { NotifyService } from '@farris/ui-notify';\r\nimport { QuerySolutionVo, QuerySolutionExtendVo, SolutionService } from '@farris/component-querycondition';\r\nimport { LocaleService } from '@farris/ui-locale';\r\nimport { DialogComponent } from '@farris/ui-dialog';\r\nimport { cloneDeep } from 'lodash-es';\r\n@Component({\r\n  selector: 'app-saveasdialog',\r\n  templateUrl: './saveasdialog.component.html',\r\n  styleUrls: ['./saveasdialog.component.css'],\r\n  encapsulation: ViewEncapsulation.None\r\n})\r\nexport class SaveAsDialogComponent implements OnInit {\r\n\r\n  @HostBinding('class') cls = 'saveasdialog';\r\n  @Output() cancelEmitter: EventEmitter<any> = new EventEmitter<any>();\r\n  @Output() confirmEmitter: EventEmitter<any> = new EventEmitter<any>();\r\n  @Output() getAuthority: EventEmitter<any> = new EventEmitter<any>();\r\n  @Input() set hideOrgselector(e) {\r\n    //éèç»ç»æ¹æ¡\r\n    if(e) {\r\n      this.solutionType = this.solutionType.filter(val => val.value !== 'org')\r\n    }\r\n  }\r\n  //@Inputå±æ§ï¼æ§ä»£ç æªè®¾ç½®ï¼æä¿ç\r\n  querySolution: QuerySolutionVo = new QuerySolutionVo();\r\n  //æ°å¢@Inputå±æ§\r\n  title: string;\r\n  //åé¨å±æ§\r\n  defaultQuerySolution: QuerySolutionVo;\r\n\r\n  @ViewChild('dialog') dialog: DialogComponent;\r\n  // æ è®°codeä¸­æ¯å¦æå¼å¸¸\r\n  codeError = false;\r\n  // codeæé¿æ¯100ä¸ªå­ç¬¦ï¼ä¸è®ºä¸­è±æ\r\n  codeMaxLength = 100;\r\n  // æ¹æ¡ç±»åï¼ç¨æ·ä¸ªäººãå¨å±å¬å±ãç»ç»å¬å±\r\n  solutionType = [{\r\n    value: 'private',\r\n    name: this.localeService.getValue(\"extendQuerySolution.private.setAsPrivate\")\r\n  },\r\n  {\r\n    value: 'public',\r\n    name: this.localeService.getValue(\"extendQuerySolution.public.setAsPublic\")\r\n  },\r\n  {\r\n    value: 'org',\r\n    name: this.localeService.getValue(\"extendQuerySolution.org.setAsOrgPublic\")\r\n  }];\r\n  // å½åå·²éæ¹æ¡ç±»å\r\n  radioGroupValue: string = 'private';\r\n  pRadioGroupValue: string;\r\n  // æ¯å¦å·²åéåè½æéï¼æªåéæ¶å¼ä¸ºtrue\r\n  authorityError = false;\r\n  // æ¯å¦å·²åéæ°æ®æéï¼æªåéæ¶å¼ä¸ºtrue \r\n  noDataAuthority = false;\r\n  // åéçç»ç»æ°æ®æé\r\n  dataPermissionIds: string[] = [];\r\n  // ç»ç»éæ©ç»ä»¶çè¿åå¼\r\n  selectedOrgIds: string[] = [];\r\n  placeholder: string;\r\n\r\n  isDefault = false;\r\n\r\n  private currentLang: string;\r\n\r\n  languages = [\r\n    { code: 'zh-cn', name: 'ä¸­æç®ä½', default: true },\r\n    { code: 'en', name: 'English' },\r\n    { code: 'zh-CHT', name: 'ä¸­æç¹ä½' }\r\n  ];\r\n  solutionCodeObj: any;\r\n\r\n  constructor(private notify: NotifyService, private solutionService: SolutionService, private localeService: LocaleService) { }\r\n\r\n\r\n  ngOnInit() {\r\n    this.pRadioGroupValue = this.radioGroupValue;\r\n    this.placeholder = this.localeService.getValue('extendQuerySolution.org.placeholder');\r\n    //å¼å®¹æ§çè®¾è®¡å¨\r\n    this.currentLang = (window as any).gspframeworkService ? (window as any).gspframeworkService.rtf.language.getLanguageCode() : 'zh-cn';\r\n  }\r\n\r\n  show() {\r\n    this.dialog.show();\r\n  }\r\n\r\n  cancel() {\r\n    // this.cancelEmitter.emit(true);\r\n    this.solutionCodeObj = null;\r\n    this.dialog.close();\r\n  }\r\n\r\n  confirm() {\r\n    if (this.solutionCodeObj) {\r\n      this.codeChangeHandler(this.solutionCodeObj['zh-cn']);\r\n      this.codeChangeHandler(this.solutionCodeObj['en']);\r\n      this.codeChangeHandler(this.solutionCodeObj['zh-CHT']);\r\n      if (this.codeError) {\r\n        return;\r\n      }\r\n      this.querySolution.code_chs = this.solutionCodeObj['zh-cn'];\r\n      this.querySolution.code_en = this.solutionCodeObj['en'];\r\n      this.querySolution.code_cht = this.solutionCodeObj['zh-CHT'];\r\n    }\r\n\r\n    // å¦ææéè¯¯è¿å\r\n\r\n    // if (!this.querySolution.code) {\r\n    //   this.solutionService.showInfo(this.localeService.getValue('querySolution.saveAsDialog.pleaseInput'), 'info', '', 1500);\r\n    //   return;\r\n    // }\r\n\r\n    if (this.currentLang == 'zh-CHS') {\r\n      if (!this.querySolution.code_chs) {\r\n        this.solutionService.showInfo(this.localeService.getValue('querySolution.saveAsDialog.pleaseInput'), 'info', '', 1500);\r\n        return;\r\n      }\r\n      this.querySolution.code = this.querySolution.code_chs;\r\n    } else if (this.currentLang == 'en') {\r\n      if (!this.querySolution.code_en) {\r\n        this.solutionService.showInfo(this.localeService.getValue('querySolution.saveAsDialog.pleaseInput'), 'info', '', 1500);\r\n        return;\r\n      }\r\n      this.querySolution.code = this.querySolution.code_en;\r\n    } else if (this.currentLang == 'zh-CHT') {\r\n      if (!this.querySolution.code_cht) {\r\n        this.solutionService.showInfo(this.localeService.getValue('querySolution.saveAsDialog.pleaseInput'), 'info', '', 1500);\r\n        return;\r\n      }\r\n      this.querySolution.code = this.querySolution.code_cht;\r\n    }\r\n    if (this.authorityError && this.radioGroupValue != 'private') {\r\n      this.solutionService.showInfo(this.localeService.getValue('extendQuerySolution.auth.createError'), 'warning', '', 1500);\r\n      return;\r\n    }\r\n    this.querySolution.type = this.radioGroupValue;\r\n    this.querySolution.isDefault = this.radioGroupValue == 'private' ? this.isDefault : false;\r\n    if (this.radioGroupValue == 'org') {\r\n      if (this.selectedOrgIds.length) {\r\n        this.querySolution.extendInfo = this.selectedOrgIds.map(id => {\r\n          let info = new QuerySolutionExtendVo();\r\n          info['id'] = this.solutionService.getGuid(),\r\n            info['relatedId'] = this.querySolution.id;\r\n          info['orgId'] = id;\r\n          return info;\r\n        })\r\n      } else {\r\n        this.solutionService.showInfo(this.localeService.getValue('extendQuerySolution.auth.noSelectedOrg'), 'info', '', 1500);\r\n        return;\r\n      }\r\n    }\r\n    let obj = new Object();\r\n    obj['querySolution'] = cloneDeep(this.querySolution);\r\n    this.confirmEmitter.emit(obj);\r\n    this.solutionCodeObj = null;\r\n    this.dialog.close();\r\n  }\r\n\r\n  setDefault(checkStatus: boolean) {\r\n    //this.querySolution.isDefault = checkStatus;\r\n    this.isDefault = checkStatus;\r\n  }\r\n\r\n  // ååæ¶æ£æµ\r\n  codeChangeHandler(result: string) {\r\n    if (result && result.length > this.codeMaxLength) {\r\n      this.codeError = true;\r\n    } else {\r\n      this.codeError = false;\r\n    }\r\n  }\r\n\r\n  // åæ¢æ¹æ¡ç±»åï¼ä¸ªäºº/å¬å±/ç»ç»å¬å±ï¼éè¦å¤æ­æé\r\n  changeSolutionType(e: any) {\r\n    this.querySolution.type = e;\r\n    this.querySolution.isDefault = e == 'private' ? this.isDefault : false;\r\n    this.getAuthority.emit(e);\r\n  }\r\n\r\n  // è·åç»ç»éæ©ç»ä»¶çè¿åå¼ï¼1ãå¼¹çªåç¹ç¡®å®ï¼2ãææ¬æ¡åç§»é¤åä¸ªï¼\r\n  getSelectedId(e: any) {\r\n    this.selectedOrgIds = (e.selections as Array<any>).map(org => org.orgId);\r\n  }\r\n\r\n  // æ¸ç©ºææ¬æ¡\r\n  clearAllOrgs() {\r\n    this.selectedOrgIds = [];\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\n\r\nconst itemIndex = (item: any, data: any[]): number => {\r\n    for (let idx = 0; idx < data.length; idx++) {\r\n        if (data[idx].id === item.id) {\r\n            return idx;\r\n        }\r\n    }\r\n\r\n    return -1;\r\n};\r\n\r\n@Injectable()\r\nexport class EditService {\r\n    private createdItems: any[] = [];\r\n    private updatedItems: any[] = [];\r\n\r\n    public update(item: any): void {\r\n        if (!this.isNew(item)) {\r\n            const index = itemIndex(item, this.updatedItems);\r\n            if (index !== -1) {\r\n                this.updatedItems.splice(index, 1, item);\r\n            } else {\r\n                this.updatedItems.push(item);\r\n            }\r\n        } else {\r\n            const index = this.createdItems.indexOf(item);\r\n            this.createdItems.splice(index, 1, item);\r\n        }\r\n    }\r\n\r\n    public isNew(item: any): boolean {\r\n        return !item.id;\r\n    }\r\n\r\n    public assignValues(target: any, source: any): void {\r\n        Object.assign(target, source);\r\n    }\r\n    \r\n}\r\n","import { Component, OnInit, ViewChild, TemplateRef, Output, EventEmitter, Input} from '@angular/core';\r\nimport { FormGroup, FormBuilder } from '@angular/forms';\r\nimport { EditService } from '../service/edit.service';\r\nimport { NotifyService, NotifyOptions } from '@farris/ui-notify';\r\nimport { QuerySolutionVo } from '@farris/component-querycondition';\r\nimport { LocaleService } from '@farris/ui-locale';\r\nimport { DialogComponent } from '@farris/ui-dialog';\r\nimport { DatagridComponent } from '@farris/ui-datagrid';\r\nimport { cloneDeep } from 'lodash-es';\r\n@Component({\r\n    selector: 'app-solutionmanager',\r\n    templateUrl: './solutionmanager.component.html',\r\n    styleUrls: ['./solutionmanager.component.css'],\r\n    providers: [EditService]\r\n})\r\nexport class SolutionManangerComponent implements OnInit {\r\n\r\n    @Output() cancelEmitter: EventEmitter<any> = new EventEmitter<any>();\r\n    @Output() confirmEmitter: EventEmitter<any> = new EventEmitter<any>();\r\n    \r\n    // @Input()\r\n    // currentDefaultQuerySolutionId: string;\r\n    // @Input()\r\n    querySolutions: Array<QuerySolutionVo> = new Array<QuerySolutionVo>();\r\n\r\n    deletedQuerySolutionIds: Array<String> = new Array<String>();\r\n    checkedSolution: QuerySolutionVo;\r\n    listData: QuerySolutionVo[];\r\n\r\n    @ViewChild('dialog') dialog: DialogComponent;\r\n    // è·åå®ä¹çååæ ¼æ¨¡æ¿\r\n    @ViewChild('optCell') optCell: TemplateRef<any>;\r\n    @ViewChild('checkCell') checkCell: TemplateRef<any>;\r\n    @ViewChild('list') list: DatagridComponent;\r\n    columns: Array<any>;\r\n    title: string;\r\n    authorityError = false;\r\n\r\n    constructor(private formBuilder: FormBuilder, private editService: EditService, private notify: NotifyService, private localeService: LocaleService) { }\r\n\r\n\r\n    ngOnInit(): void {\r\n\r\n        this.columns = [\r\n            { field: 'code', width: 272, title: this.localeService.getValue('querySolution.manageDialog.name')},\r\n            { field: 'property', width: 110, title: this.localeService.getValue('querySolution.manageDialog.property'), formatter: this.propertyFieldFormatter, halign: 'center', align: 'center'},\r\n            { field: 'isDefault', width: 70, title: this.localeService.getValue('querySolution.manageDialog.default'), template: this.checkCell, halign: 'center', align: 'center'},\r\n            { width: 70, title: this.localeService.getValue('querySolution.manageDialog.operation'), template: this.optCell, halign: 'center', align: 'center'}\r\n        ];\r\n        this.title = this.localeService.getValue('querySolution.container.manage');\r\n    }\r\n\r\n    show(querySolutions: QuerySolutionVo[]) {\r\n        if(querySolutions){\r\n            this.listData = this.findSolutionsWithoutSys(querySolutions);\r\n            this.querySolutions = querySolutions;\r\n        }\r\n        this.checkedSolution = this.querySolutions.find(vo => vo.isDefault);\r\n\r\n        this.deletedQuerySolutionIds = [];\r\n        // this.checkedSolution = undefined;\r\n        this.dialog.show();\r\n    }\r\n\r\n    getSolutionProperty(value: boolean) {\r\n        return value ? this.localeService.getValue(\"querySolution.manageDialog.system\") : this.localeService.getValue(\"querySolution.manageDialog.personal\");\r\n    }\r\n\r\n    propertyFieldFormatter = (value, data) => {\r\n        if(data['type'] == 'public') {\r\n            return this.localeService.getValue(\"extendQuerySolution.public.property\");\r\n        } else if(data['type'] == 'org') {\r\n            return this.localeService.getValue(\"extendQuerySolution.org.property\");\r\n        } \r\n        else {\r\n            return this.localeService.getValue(\"extendQuerySolution.private.property\");\r\n        }\r\n    }\r\n\r\n    findSolutionsWithoutSys(querySolutions: QuerySolutionVo[]): QuerySolutionVo[]{\r\n        const result: QuerySolutionVo[] = [];\r\n        querySolutions.forEach(qs => {\r\n            if(!qs.isSystem)\r\n                result.push(qs);\r\n        });\r\n        return result;\r\n    }\r\n\r\n    delelteSolution(dataItem: QuerySolutionVo) {\r\n        if(this.authorityError && (dataItem.type == 'public' || dataItem.type == 'org')) {\r\n            this.notify.config.position = 'top-center';\r\n            this.notify.warning(<NotifyOptions>{ title: '', msg: this.localeService.getValue(\"extendQuerySolution.auth.deleteError\"), timeout: 1500 });\r\n            return;\r\n        }\r\n        this.deletedQuerySolutionIds.push(dataItem.id);\r\n        if (this.checkedSolution && dataItem.id == this.checkedSolution.id) {\r\n            this.checkedSolution = null;\r\n        }\r\n        //å½checkedSolutionä¸å­å¨ï¼ç´æ¥å é¤\r\n        for(let i = 0; i < this.querySolutions.length; i++) {\r\n            if(dataItem.id == this.querySolutions[i].id){\r\n                this.querySolutions.splice(i, 1);\r\n                break;\r\n            }\r\n        }\r\n        this.listData = this.findSolutionsWithoutSys(this.querySolutions);\r\n    }\r\n\r\n    setDefault(checked: boolean, dataItem: QuerySolutionVo) {\r\n        if (checked) {//if checkedï¼è®¾ç½®å½åvoä¸ºé»è®¤ï¼å¶ä»è®¾ä¸ºéé»è®¤\r\n            this.checkedSolution = dataItem;\r\n            //key pointï¼\r\n            // this.currentDefaultQuerySolutionId = dataItem.id;\r\n            this.querySolutions = this.querySolutions.map(vo => {\r\n                if(vo.id == dataItem.id) {\r\n                    vo.isDefault = true;\r\n                } else {\r\n                    vo.isDefault = false;\r\n                }\r\n                return vo;\r\n            });\r\n        }\r\n        else {//if unchecked, è®¾ç½®å½åvoä¸ºéé»è®¤ï¼å¶ä½voä¸å; æ²¡æcheckedSolutionæ¶\r\n            if (dataItem.id == this.checkedSolution.id) {\r\n                this.checkedSolution = null;\r\n                // this.currentDefaultQuerySolutionId = '';\r\n                this.querySolutions = this.querySolutions.map(vo => {\r\n                    if(vo.id == dataItem.id){\r\n                        vo.isDefault = false;\r\n                    }\r\n                    return vo;\r\n                });\r\n            }\r\n        }\r\n        this.listData = this.findSolutionsWithoutSys(this.querySolutions);\r\n        this.list.refresh();\r\n    }\r\n\r\n    cancel() {\r\n        this.dialog.close();\r\n    }\r\n\r\n    confirm() {\r\n        let obj = new Object();\r\n        \r\n        obj['deletedQuerySolutionIds'] = this.deletedQuerySolutionIds;\r\n        obj['newDefaultQuerySolution'] = cloneDeep(this.checkedSolution);\r\n        obj['updatedQuerySolutionVos'] = cloneDeep(this.querySolutions);\r\n        // obj['currentDefaultQuerySolutionId'] = this.currentDefaultQuerySolutionId;\r\n\r\n        if(this.deletedQuerySolutionIds.length > 0 || this.checkedSolution && this.checkedSolution.id) {\r\n            obj['validator'] = true;\r\n        } else {\r\n            obj['validator'] = false;\r\n        }\r\n        this.confirmEmitter.emit(obj);\r\n        this.dialog.close();\r\n    }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\r\nimport { Observable } from 'rxjs';\r\nimport { QuerySolutionVo, QuerySolutionVoConvertor, QueryCondition } from '@farris/component-querycondition';\r\nimport {BasePathService } from '@farris/rtf';\r\n@Injectable()\r\nexport class HttpService {\r\n\r\n    constructor(private http: HttpClient) { \r\n        this.histroyUrl = BasePathService.convertPath(this.histroyUrl)\r\n        this.url = BasePathService.convertPath(this.url)\r\n    }\r\n    private histroyUrl: string = \"/api/runtime/sys/v1.0/querysolution/previousQuery\";\r\n    url: string = '/api/runtime/sys/v1.0/querysolution';\r\n    /**\r\n     * æ°å¢æ¥è¯¢æ¹æ¡\r\n     * @param querySolution æ¥è¯¢æ¹æ¡å®ä½\r\n     */\r\n    create(querySolution: QuerySolutionVo, sessionId: string): Observable<any> {\r\n        let headers = new HttpHeaders({\r\n            'Content-Type': 'application/json',\r\n            'sessionid': sessionId\r\n        });\r\n        const options = {\r\n            headers: headers,\r\n            sessionid: sessionId\r\n        };\r\n        let convertor = new QuerySolutionVoConvertor();\r\n        let body = convertor.convertJObject(querySolution);\r\n        return this.http.post(this.url, body, options);\r\n    }\r\n\r\n    /**\r\n     * æ ¹æ®è¡¨åIDæ¥è¯¢å½åè¡¨åå½åç»å½ç¨æ·çæ¥è¯¢æ¹æ¡åè¡¨\r\n     * @param formId è¡¨åID\r\n     */\r\n    query(formId: string, sessionId: string): Observable<any> {\r\n        let headers = new HttpHeaders({\r\n            'Content-Type': 'application/json',\r\n            'sessionid': sessionId\r\n        });\r\n        const options = {\r\n            headers: headers,\r\n        };\r\n        let belongId = formId;\r\n        // let url = `http://localhost:5100/api/dev/main/v1.0/querysolution/bybelongid/${belongId}`;\r\n        let url = `${this.url}/belongId/${belongId}`;\r\n        return this.http.get(url, options);\r\n    }\r\n\r\n    /**\r\n     * æ´æ°\r\n     * @param querySolution æ¥è¯¢æ¹æ¡å®ä½\r\n     */\r\n    update(querySolution: QuerySolutionVo, sessionId: string) {\r\n        let headers = new HttpHeaders({\r\n            'Content-Type': 'application/json',\r\n            'sessionid': sessionId\r\n        });\r\n        const options = {\r\n            headers: headers\r\n        };\r\n        let convertor = new QuerySolutionVoConvertor();\r\n        let body = convertor.convertJObject(querySolution);\r\n        return this.http.put(this.url, body, options);\r\n    }\r\n\r\n    /**\r\n     * å é¤\r\n     * @unused\r\n     * @param idArray å é¤çè§£å³æ¹æ¡IDåè¡¨\r\n     */\r\n    // delete(idArray: Array<string>, sessionId: string) {\r\n    //     if (!idArray || idArray.length <= 0) {\r\n    //         return;\r\n    //     }\r\n    //     let headers = new HttpHeaders({\r\n    //         'Content-Type': 'application/json',\r\n    //         'sessionid': sessionId\r\n    //     });\r\n    //     const options = {\r\n    //         headers: headers,\r\n    //         sessionid: sessionId\r\n    //     };\r\n    //     let ids = '';\r\n    //     idArray.forEach(id => {\r\n    //         ids = ids + \"#\" + id;\r\n    //     });\r\n    //     let url = `/api/dev/main/v1.0/querysolution/${encodeURIComponent(ids)}`;\r\n    //     return this.http.delete(url, options);\r\n    // }\r\n\r\n    /**\r\n     * æ¹éæ´æ°\r\n     * @param object : '{defaultId, belongId, deletedIds}'\r\n     */\r\n    batchUpdate(body: any, sessionId: string): Observable<any> {\r\n        let headers = new HttpHeaders({\r\n            'Content-Type': 'application/json',\r\n            'sessionid': sessionId\r\n        });\r\n        const options = {\r\n            headers: headers,\r\n            sessionid: sessionId\r\n        };\r\n        let url = `${this.url}/batch`;\r\n        return this.http.put(url, body, options);\r\n    }\r\n\r\n    /**\r\n     * è·åé»è®¤æ¥è¯¢æ¹æ¡ID\r\n     * @unused\r\n     * @param formId\r\n     */\r\n    // getDefaultQuerySolution(formId: string, sessionId: string): Observable<any> {\r\n    //     let headers = new HttpHeaders({\r\n    //         'Content-Type': 'text/plain',\r\n    //         'sessionid': sessionId\r\n    //     });\r\n    //     let belongId = formId;\r\n    //     // let url = `http://localhost:5100/api/dev/main/v1.0/querysolution/defaultSolution/bybelongid/${belongId}`;\r\n    //     let url = `/api/dev/main/v1.0/querysolution/defaultSolution/bybelongid/${belongId}`;\r\n    //     return this.http.get(url, { headers: headers, responseType: 'text' });\r\n    // }\r\n    /**\r\n        * æ¯å¦æ¯æ\r\n        */\r\n    supportLS() {\r\n        if(window.hasOwnProperty(\"localStorage\")) {\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n    /**\r\n     * è®¾ç½®ä¿å­æ¶åï¼å±æ§ä»å°ååæå¤§å\r\n     * @param key \r\n     * @param value \r\n     */\r\n    setLS(key, value: any) {\r\n        let conditionsStr = '[]';\r\n        if(value) {\r\n            if( typeof value == 'string') {\r\n                conditionsStr = value;\r\n            } else {\r\n                const convertor = new QuerySolutionVoConvertor();\r\n                conditionsStr = JSON.stringify(convertor.formatConvertJObject(value));\r\n            }\r\n           \r\n        }\r\n        if(key && this.supportLS) {\r\n            localStorage.setItem(key, conditionsStr);\r\n        } \r\n    }\r\n    /**\r\n     * è·åæ¶ï¼å±æ§ä»å¤§ååæå°å\r\n     * @param key \r\n     */\r\n    getLS(key): Array<QueryCondition> {\r\n        let result = new Array<QueryCondition>();\r\n        if(key && this.supportLS) {\r\n            var v = localStorage.getItem(key);\r\n            if (v != undefined || v !== null) {\r\n                result = JSON.parse(v);\r\n            }\r\n        }\r\n        if(result.length > 0) {\r\n            const convertor = new QuerySolutionVoConvertor();\r\n            return convertor.formatFromJobject(result);\r\n        }\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * æ´æ°\r\n     * @param querySolution æ¥è¯¢æ¹æ¡å®ä½\r\n     */\r\n    saveHistroy(querySolution: QuerySolutionVo, sessionId: string) {\r\n        let headers = new HttpHeaders({\r\n            \"Content-Type\": \"application/json\",\r\n            sessionid: sessionId\r\n        });\r\n        const options = {\r\n            headers: headers\r\n        };\r\n        let convertor = new QuerySolutionVoConvertor();\r\n        let body = convertor.convertJObject(querySolution);\r\n        return this.http.put(this.histroyUrl, body, options);\r\n    }\r\n\r\n    // è·åå½åç¨æ·æ¯å¦ææééç½®å¬å±ç±»åç­éæ¹æ¡ï¼åå«å¨å±å¬å±ãç»ç»å¬å±\r\n    // è¿åç»æï¼ï¼1ï¼æ¯å¦ææéæ°å¢ãä¿®æ¹ãå é¤å¬å±ç±»åç­éæ¹æ¡ï¼ï¼2ï¼å¯ä¸ºåªäºç»ç»è®¾ç½®ç»ç»å¬å±ç­éæ¹æ¡\r\n    getAuth(type: string, sessionId: string) {\r\n        let headers = new HttpHeaders({\r\n            \"Content-Type\": \"application/json\",\r\n            sessionid: sessionId\r\n        });\r\n        const options = {\r\n            headers: headers\r\n        };\r\n        let url = `${this.url}/componentType/${type}`;\r\n        return this.http.get(url, options);\r\n    }\r\n}\r\n","import { Injectable } from '@angular/core';\r\n@Injectable()\r\nexport class FieldConfigService {\r\n}\r\n\r\n","import { QueryCondition } from \"@farris/component-querycondition\";\r\nimport { InjectionToken } from '@angular/core';\r\n\r\nexport interface IQuerySolutionHandler{\r\n    getUserSessionId(): string;\r\n    setFilterConditions(params: Array<QueryCondition>): void;\r\n    setCurrentQueryConditions(conditions: QueryCondition[]): void;\r\n}\r\n\r\nexport const QUERYSOLUTION_HANDLER_TOKEN = new InjectionToken<IQuerySolutionHandler>('gsp-cmp/I_QUERYSOLUTION_HANDLER');","import { Subject } from 'rxjs';\r\n\r\nexport class SolutionCacheService {\r\n  public static solutionListChanged = new Subject();\r\n\r\n  private static solutionListCache = {};\r\n\r\n  private static currentSolution = {};\r\n\r\n  static clearSolutionCache() {\r\n    SolutionCacheService.solutionListCache = {};\r\n  }\r\n\r\n  static removeSolutionCache(key: string) {\r\n    delete SolutionCacheService.solutionListCache[key];\r\n  }\r\n\r\n  static setSolutionCache(key: string, value: any) {\r\n    SolutionCacheService.solutionListCache[key] = value;\r\n  }\r\n\r\n  static getSolutionCache(key: string) {\r\n    return SolutionCacheService.solutionListCache[key];\r\n  }\r\n\r\n  static getSolutionAllCache() {\r\n    return SolutionCacheService.solutionListCache;\r\n  }\r\n\r\n  static setCurrentSolution(key: string, value: any) {\r\n    SolutionCacheService.currentSolution[key] = value;\r\n  }\r\n\r\n  static getCurrentSolution(key: string) {\r\n    return SolutionCacheService.currentSolution[key];\r\n  }\r\n\r\n  static removeCurrentSolution(key: string) {\r\n    delete SolutionCacheService.currentSolution[key];\r\n  }\r\n\r\n  static clearCurrentSolution() {\r\n    SolutionCacheService.currentSolution = {};\r\n  }\r\n}\r\n","export const EXTEND_QUERYSOLUTION_LOCALE = {\r\n    \"zh-CHS\": {\r\n        extendQuerySolution: {\r\n            private: {\r\n                property: 'ä¸ªäºº',\r\n                setAsPrivate: 'ç¨æ·ä¸ªäººæ¹æ¡'\r\n            },\r\n            public: {\r\n                label: 'ç³»ç»å¬å±',\r\n                property: 'ç³»ç»å¬å±',\r\n                setAsPublic: 'ç³»ç»å¬å±æ¹æ¡'\r\n            },\r\n            org: {\r\n                label: 'ç»ç»å¬å±',\r\n                property: 'ç»ç»å¬å±',\r\n                setAsOrgPublic: 'ç»ç»å¬å±æ¹æ¡',\r\n                placeholder: 'è¯·éæ©'\r\n            },\r\n            auth: {\r\n                createError: 'æ¨ææ æéè®¾ç½®å¬å±ç±»åæ¹æ¡ã',\r\n                updateError: 'æ¨ææ æéä¿®æ¹å¬å±ç±»åæ¹æ¡ã',\r\n                deleteError: 'æ¨ææ æéå é¤å¬å±ç±»åæ¹æ¡ã',\r\n                apiError: 'è°ç¨è·åæéæ¥å£å¤±è´¥ï¼',\r\n                noDataAuthority: 'æ¨ææ æéè®¾ç½®ç»ç»å¬å±æ¹æ¡ã',\r\n                noSelectedOrg: 'è¯·éæ©ç»ç»å¬å±æ¹æ¡æå±ç»ç»ã'\r\n            }\r\n        },\r\n        advancedMode: {\r\n            text: {\r\n                sysAdvancedName: 'ï¼é«çº§ï¼',\r\n                standardMode: 'æ åæ¨¡å¼',\r\n                advancedMode: 'é«çº§æ¨¡å¼',\r\n                addCondition: 'æ·»å æ¡ä»¶',\r\n                addConditionGroup: 'çææ¡ä»¶ç»',\r\n                and: 'ä¸',\r\n                or: 'æ',\r\n                reset: 'éç½®'\r\n\r\n            },\r\n            compareType: {\r\n                Equal: 'ç­äº',\r\n                NotEqual: 'ä¸ç­äº',\r\n                Greater: 'å¤§äº',\r\n                GreaterOrEqual: 'å¤§äºç­äº',\r\n                Less: 'å°äº',\r\n                LessOrEqual: 'å°äºç­äº',\r\n                Like: 'åå«',\r\n                LikeStartWith: 'å¼å¤´æ¯',\r\n                LikeEndWith: 'ç»å°¾æ¯',\r\n                NotLike: 'ä¸åå«'\r\n\r\n            },\r\n            auth: {\r\n                conditionEmptyError: 'é«çº§æ¨¡å¼ä¸ç­éé¡¹å¼ä¸åºä¸ºç©ºã'\r\n            },\r\n            info: {\r\n                deleteGroup: 'æ¯å¦ç¡®è®¤åæ¶è¯¥æ¡ä»¶ç»ï¼',\r\n                resetInfo: 'æ¯å¦ç¡®è®¤éç½®æ¡ä»¶ï¼',\r\n                deleteGroupTooltip: 'åæ¶ç»',\r\n                noConditionInfo: 'è¯·åéæ©ç­éæ¡ä»¶ã',\r\n                existGroupInfo: 'éæ©çæ¡ä»¶å·²å­å¨åç»',\r\n                checkedGroupInfo: 'è·¨ç»æä½æ¶ï¼åºå¾éè¯¥ç»ä¸å¨é¨æ°æ®',\r\n                deleteGroupInfo: 'å·²ç»æ¯æå¤å±åç»äº'\r\n\r\n            }\r\n        }\r\n    },\r\n    \"zh-CHT\": {\r\n        extendQuerySolution: {\r\n            private: {\r\n                property: 'åäºº',\r\n                setAsPrivate: 'ç¨æ¶åäººæ¹æ¡'\r\n            },\r\n            public: {\r\n                label: 'ç³»çµ±å¬å±',\r\n                property: 'ç³»çµ±å¬å±',\r\n                setAsPublic: 'ç³»çµ±å¬å±æ¹æ¡'\r\n            },\r\n            org: {\r\n                label: 'çµç¹å¬å±',\r\n                property: 'çµç¹å¬å±',\r\n                setAsOrgPublic: 'çµç¹å¬å±æ¹æ¡',\r\n                placeholder: 'è«é¸æ'\r\n            },\r\n            auth: {\r\n                createError: 'æ¨æ«ç¡æ¬éè¨­ç½®å¬å±é¡åæ¹æ¡ã',\r\n                updateError: 'æ¨æ«ç¡æ¬éä¿®æ¹å¬å±é¡åæ¹æ¡ã',\r\n                deleteError: 'æ¨æ«ç¡æ¬éåªé¤å¬å±é¡åæ¹æ¡ã',\r\n                apiError: 'èª¿ç¨ç²åæ¬éæ¥å£å¤±æï¼',\r\n                noDataAuthority: 'æ¨æ«ç¡æ¬éè¨­ç½®ç»ç»å¬å±æ¹æ¡ã',\r\n                noSelectedOrg: 'è«é¸æçµç¹å¬å±æ¹æ¡æå±¬çµç¹ã'\r\n            }\r\n        },\r\n        advancedMode: {\r\n            text: {\r\n                sysAdvancedName: 'ï¼é«ç´ï¼',\r\n                standardMode: 'æ¨åæ¨¡å¼',\r\n                advancedMode: 'é«ç´æ¨¡å¼',\r\n                addCondition: 'æ·»å æ¢ä»¶',\r\n                addConditionGroup: 'çææ¢ä»¶çµ',\r\n                and: 'ä¸',\r\n                or: 'æ',\r\n                reset: 'éç½®'\r\n\r\n            },\r\n            compareType: {\r\n                Equal: 'ç­äº',\r\n                NotEqual: 'ä¸ç­äº',\r\n                Greater: 'å¤§äº',\r\n                GreaterOrEqual: 'å¤§äºç­äº',\r\n                Less: 'å°äº',\r\n                LessOrEqual: 'å°äºç­äº',\r\n                Like: 'åå«',\r\n                LikeStartWith: 'éé ­æ¯',\r\n                LikeEndWith: 'çµå°¾æ¯',\r\n                NotLike: 'ä¸åå«'\r\n\r\n            },\r\n            auth: {\r\n                conditionEmptyError: 'é«ç´æ¨¡å¼ä¸ç¯©é¸é å¼ä¸æç²ç©ºã'\r\n            },\r\n            info: {\r\n                deleteGroup: 'æ¯å¦ç¢ºèªåæ¶è©²æ¢ä»¶çµï¼',\r\n                resetInfo: 'æ¯å¦ç¢ºèªéç½®æ¢ä»¶ï¼',\r\n                deleteGroupTooltip: 'åæ¶çµ',\r\n                noConditionInfo: 'è«åé¸æç¯©é¸æ¢ä»¶ã',\r\n                existGroupInfo: 'é¸æçæ¢ä»¶å·²å­å¨åçµã',\r\n                checkedGroupInfo: 'è·¨çµæä½æï¼æå¾é¸è©²çµä¸å¨é¨æ¸æã',\r\n                deleteGroupInfo: 'å·²ç¶æ¯æå¤å±¤åçµäºã'\r\n            }\r\n        }\r\n    },\r\n    en: {\r\n        extendQuerySolution: {\r\n            private: {\r\n                property: 'Private Plan',\r\n                setAsPrivate: 'Private Plan'\r\n            },\r\n            public: {\r\n                label: 'Public',\r\n                property: 'Public Plan',\r\n                setAsPublic: 'Public Plan'\r\n            },\r\n            org: {\r\n                label: 'Org',\r\n                property: 'Org Plan',\r\n                setAsOrgPublic: 'Org Plan',\r\n                placeholder: 'Please select'\r\n            },\r\n            auth: {\r\n                createError: 'Donnot have authority to set public solution.',\r\n                updateError: 'Donnot have authority to save public solution.',\r\n                deleteError: 'Donnot have authority to delete public solution.',\r\n                apiError: 'Failed to get authority data!',\r\n                noDataAuthority: 'Donnot have authority to set org-public solution.',\r\n                noSelectedOrg: 'Please select organizations for solution.'\r\n            }\r\n        },\r\n        advancedMode: {\r\n            text: {\r\n                sysAdvancedName: '(Advanced)',\r\n                standardMode: 'Standard Mode',\r\n                advancedMode: 'Advanced Mode',\r\n                addCondition: 'Add Condition',\r\n                addConditionGroup: 'Generate Condition Group',\r\n                and: 'And',\r\n                or: 'Or',\r\n                reset: 'Reset'\r\n\r\n            },\r\n            compareType: {\r\n                Equal: 'Equal',\r\n                NotEqual: 'NotEqual',\r\n                Greater: 'Greater',\r\n                GreaterOrEqual: 'GreaterOrEqual',\r\n                Less: 'Less',\r\n                LessOrEqual: 'LessOrEqual',\r\n                Like: 'Like',\r\n                LikeStartWith: 'LikeStartWith',\r\n                LikeEndWith: 'LikeEndWith',\r\n                NotLike: 'NotLike'\r\n\r\n            },\r\n            auth: {\r\n                conditionEmptyError: 'Filter condition value should not be empty in advanced mode.'\r\n            },\r\n            info: {\r\n                deleteGroup: 'Are you sure to cancel the condition group?',\r\n                resetInfo: 'Are you sure to reset conditions?',\r\n                deleteGroupTooltip: 'Cancel Condition Group.',\r\n                noConditionInfo: 'Please select conditions first.',\r\n                existGroupInfo: 'The selected condition already has a grouping.',\r\n                checkedGroupInfo: 'When operating across groups, all data under that group should be checked.',\r\n                deleteGroupInfo: 'It is already the outermost group.'\r\n            }\r\n        }\r\n    }\r\n};","import {\r\n    Component, OnInit, ViewEncapsulation, HostBinding, ComponentFactory, ComponentFactoryResolver,\r\n    Injector, Input, Output, EventEmitter, ViewChild, InjectFlags, ElementRef, OnChanges, SimpleChanges, ChangeDetectorRef, OnDestroy, Optional\r\n} from '@angular/core';\r\nimport { SaveAsDialogComponent } from './saveasdialog/saveasdialog.component';\r\nimport { SolutionManangerComponent } from './solutionmanager/solutionmanager.component';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport {\r\n    FieldConfig, ConvertorService, QueryCondition, QueryConditionComponent, QuerySolutionVo,\r\n    SmartHelpContol, DropDownListControl, CheckBoxControl, RadioControl, InputGroupControl, QuerySolutionExtendVo\r\n} from '@farris/component-querycondition';\r\nimport { NotifyService } from '@farris/ui-notify';\r\nimport { BsModalService, BsModalRef } from '@farris/ui-modal';\r\nimport { HttpService } from './service/httpservice';\r\nimport { FieldConfigService } from './service/fieldconfig.service';\r\nimport { QuerySolutionVoConvertor, SolutionService } from '@farris/component-querycondition';\r\nimport { IQuerySolutionHandler, QUERYSOLUTION_HANDLER_TOKEN } from './interface/IQuerySolutionHandler';\r\nimport { LocaleService } from '@farris/ui-locale';\r\nimport { cloneDeep } from 'lodash-es';\r\nimport { SolutionCacheService } from './service/solution.cache.service';\r\nimport { DefaultConfigs } from './interface/DefaultConfigs';\r\nimport { EventManager } from '@angular/platform-browser';\r\nimport { IdService } from '@farris/ui-common';\r\nimport { BehaviorSubject, of, Subject } from 'rxjs';\r\nimport { switchMap, takeUntil, tap } from 'rxjs/operators';\r\nimport { EXTEND_QUERYSOLUTION_LOCALE } from './utils/extend-locale';\r\nimport { MessagerService } from '@farris/ui-messager';\r\n\r\ndeclare var gspframeworkService: any;\r\n\r\n@Component({\r\n    selector: 'farris-querysolution',\r\n    templateUrl: './query-solution.component.html',\r\n    styleUrls: ['./query-solution.component.css'],\r\n    encapsulation: ViewEncapsulation.None,\r\n    providers: [HttpService, ConvertorService, FieldConfigService]\r\n})\r\nexport class QuerySolutionComponent implements OnInit, OnChanges, OnDestroy {\r\n\r\n    _fieldConfigs: Array<QueryCondition> = [];\r\n    _presetFieldConfigs: Array<QueryCondition> = [];\r\n    _resetFieldConfigs: Array<any> = [];\r\n\r\n    /**\r\n     *  ç­éæ¹æ¡é»è®¤å¼éç½®\r\n     */\r\n    @Input()\r\n    defaultConfigs: DefaultConfigs;\r\n    /**\r\n     * å­æ®µéç½®æ°æ®æºï¼ç¨äºéæ©å­æ®µéç½®\r\n     */\r\n    @Input()\r\n    set fieldConfigs(fieldConfigJson: Array<any>) {\r\n        this._fieldConfigs = this.solutionService.convertToQueryConditions(fieldConfigJson);\r\n        this.unformatFieldConfigs = fieldConfigJson\r\n    }\r\n    get fieldConfigs() {\r\n        return this._fieldConfigs;\r\n    }\r\n\r\n    /**\r\n     * é«çº§æ¨¡å¼éè¦åå§fieldConfigsï¼éè¦å°èå´ç±»æ§ä»¶æ¹ä¸ºåå¼æ§ä»¶\r\n     */\r\n    unformatFieldConfigs: Array<any> = []\r\n    /**\r\n     * ç³»ç»é¢ç½®æ¥è¯¢æ¹æ¡åç§°\r\n     */\r\n    @Input() presetQuerySolutionName: string;\r\n    @Input() \r\n    set resetFieldConfigs(resetFieldConfigJson: Array<any>) {\r\n        if(!resetFieldConfigJson || !Array.isArray(resetFieldConfigJson) || resetFieldConfigJson.length == 0) {\r\n            return;\r\n        }\r\n        // è§èæ°æ®\r\n        let formatResetConfigJson: Array<any> = resetFieldConfigJson.map(tConfigItem => {\r\n            let findItem = this.fieldConfigs.find(presetItem => presetItem['fieldCode'] == tConfigItem['labelCode']);\r\n            if(findItem) {\r\n                if(!tConfigItem.hasOwnProperty('control')) {\r\n                    tConfigItem['control'] = {};\r\n                }\r\n                tConfigItem['control']['controltype'] = findItem.control.getControlType();\r\n                return tConfigItem;\r\n            }\r\n        });\r\n        this._resetFieldConfigs = this.solutionService.convertToSimpleQueryConditions(formatResetConfigJson.filter(item => item));\r\n\r\n        if(this._resetFieldConfigs.length > 0) {\r\n            this.updateConditionVisibleState(this._resetFieldConfigs);\r\n        }\r\n        \r\n        // æ´æ°å·²æéç½®\r\n        this.solutionService.updateControl(this._presetFieldConfigs, this._resetFieldConfigs);\r\n        this.solutionService.updateControl(this._fieldConfigs, this._resetFieldConfigs);\r\n        this._fieldConfigs = this._fieldConfigs.slice();\r\n        // æ´æ°å·²æçæ¹æ¡\r\n        this.sysQuerySolutionVo && this.solutionService.updateControl(this.sysQuerySolutionVo.queryConditions, this._resetFieldConfigs);\r\n        // æ´æ°åå²è®°å½\r\n        this.historyRefer['foundSchme'] && this.solutionService.updateControl(this.historyRefer['foundSchme'].queryConditions, this._resetFieldConfigs);\r\n        // æ´æ°å·²é\r\n        this.selectedSolution && this.solutionService.updateControl(this.selectedSolution.queryConditions, this._resetFieldConfigs);\r\n    }\r\n    get resetFieldConfigs() {\r\n        return this._resetFieldConfigs;\r\n    }\r\n    /**\r\n     * é¢ç½®æ¥è¯¢å­æ®µ\r\n     */\r\n    @Input()\r\n    set presetFieldConfigs(presetFieldConfigJson: Array<any>) {\r\n        this._presetFieldConfigs = this.solutionService.convertToQueryConditions(presetFieldConfigJson);\r\n    }\r\n    get presetFieldConfigs() {\r\n        return this._presetFieldConfigs;\r\n    }\r\n\r\n    /**\r\n     * æ­¤å¼ç±è®¾è®¡å¨ä¼ å¥\r\n     * ç»ä»¶å¨è®¾è®¡æ¶æ æ³ç¹å»è¢«ç¦ç¨ï¼true\r\n     * ç»ä»¶å¨è¿è¡æ¶å¯ä»¥ç¹å»ä½¿ç¨ï¼false\r\n     */\r\n    @Input() isDisabled: boolean = false;\r\n    /**\r\n     * è¡¨åIDï¼å¿éå­æ®µï¼è¡¨ç¤ºæ¥è¯¢æ¹æ¡æå±çè¡¨å\r\n     */\r\n    @Input() formId: string;\r\n\r\n    /**\r\n     * sessionId\r\n     */\r\n    sessionId: string;\r\n\r\n    /**\r\n     * æ¥è¯¢æ¡ä»¶åè¡¨\r\n     */\r\n    @Output() queryEmitter: EventEmitter<any> = new EventEmitter<Array<QueryCondition>>();\r\n\r\n    /**\r\n     * æ¥è¯¢æ¹æ¡cls\r\n     */\r\n    @HostBinding('class') cls = 'query-solution';\r\n\r\n    /**\r\n     * æ¥è¯¢æ¹æ¡æ°æ®æº\r\n     */\r\n    querySolutionVos: Array<QuerySolutionVo> = new Array<QuerySolutionVo>();\r\n    querySolutionAdvancedVos: Array<QuerySolutionVo> = new Array<QuerySolutionVo>();\r\n\r\n    /**\r\n     * å½åæéçæ¹æ¡ï¼æå¯è½ä¸æ¯æ¹æ¡\r\n     */\r\n    selectedSolution: QuerySolutionVo = new QuerySolutionVo();\r\n\r\n    /**\r\n     * æ¯å¦æå \r\n     */\r\n    @Input() isFold: boolean = false;\r\n\r\n    /**\r\n     * labelåæ§ä»¶æ¯å¦ææä¸è¡ï¼é»è®¤æ¯ï¼falseæ¶ææä¸ä¸ä¸¤è¡\r\n     */\r\n    @Input() isControlInline: boolean = true;\r\n\r\n    /**\r\n     * æ¯å¦éè¦å®æ´æ¾ç¤ºè¶è¿6ä¸ªå­ç¬¦çæ ç­¾ï¼é»è®¤false\r\n     */\r\n    @Input() showCompleteLabel: boolean = false;\r\n\r\n    /**\r\n     * æ¯å¦å¯ç¨å è½½åæ¥è¯¢\r\n    */\r\n    @Input() enableInitQuery: boolean = false;\r\n    /**\r\n     * é»è®¤æ¹æ¡\r\n     */\r\n    defaultQuerySolution: QuerySolutionVo;\r\n\r\n    /**\r\n     * éæ©çæ§ä»¶å±ç¤ºåè¡¨\r\n     */\r\n    selectedFieldConditions: Array<QueryCondition> = new Array<QueryCondition>();\r\n\r\n    /**\r\n     * visibleå±æ§ä¸ºtrueçè¿æ»¤æ¡ä»¶ï¼æ¯åéselectedFieldConditionsçå­çº§\r\n     */\r\n    private visibleSelectedConditions: Array<QueryCondition> = new Array<QueryCondition>();\r\n\r\n    sysQuerySolutionVo: QuerySolutionVo;\r\n\r\n    showSaveButton: boolean;\r\n\r\n    //æ¹æ¡æ¯å¦èµé»è®¤å¼\r\n    isSetDefaultValue: boolean = false;\r\n\r\n    //æ¹æ¡æ¯å¦å·²èµé»è®¤å¼\r\n    doneSetDefaultValue: boolean = false;\r\n\r\n    //æ¯å¦å·²å®æèªå¨æ¥è¯¢ï¼é»è®¤å¼ä¸ºtrueï¼å½enableInitQueryè¾å¥å¼ä¸ºtrueæ¶ï¼é¦æ¬¡æ§è¡ngOnchanges()æ¶å°å¶è®¾ä¸ºfalse\r\n    doneInitQuery: boolean = true;\r\n\r\n    //å­æ®µæ¾ç¤ºéèå¨æç¶æ\r\n    private conditionVisibleState: BehaviorSubject<any> = new BehaviorSubject([]);\r\n    //è¡¨åå³é­æ¶åæ­¢çå¬BehaviorSubjectç¸å³\r\n    destroy$: Subject<any> = new Subject<any>();\r\n\r\n    private templateSimpleConditions: Array<any>;\r\n\r\n    //ç­éæé®æ¯å¦å¨çé¢å³ä¾§\r\n    //queryButtonOnRight: boolean = true;\r\n\r\n    /**\r\n     * ç»ä»¶æå¡æ¥å£\r\n    */\r\n    solutionHandler: IQuerySolutionHandler;\r\n    cdf: ChangeDetectorRef;\r\n    /**\r\n     * æ¡ä»¶æ¦è¦\r\n     */\r\n    summaryConditions = []\r\n    eventManager: EventManager;\r\n    /**\r\n     * æ¯å¦å¯ç¨è®°å½åå²æ¹å¼\r\n     * ä¸æ¬¡æ¥è¯¢ââä¸è½å é¤ãå¯ä»¥å¦å­ãä¸å­å¨åæ´\r\n     * æ¹æ¡åè¡¨åªæä¸æ¬¡æ¥è¯¢æ¶ï¼ä¸æ¬¡æ¥è¯¢ãç³»ç»é»è®¤é½å­å¨\r\n     * æ¹æ¡åè¡¨å¤ä¸ªæ¶ï¼æä¸æ¬¡æ¥è¯¢ï¼ä¸æ¬¡æ¥è¯¢éä¸­\r\n     * æ¹æ¡åè¡¨æ²¡æä¸æ¬¡æ¥è¯¢æ¶ï¼ä½æ¯LocalStorageæ,æé ä¸ä¸ªä¸æ¬¡æ¥è¯¢\r\n     * \r\n     */\r\n    @Input() enableHistory: boolean = false;\r\n\r\n    /**\r\n     * æ¯å¦å¯å¨é«çº§æ¨¡å¼\r\n     */\r\n    @Input() openAdvancedMode: boolean = false;\r\n    @Input() filterText: string = this.localeService.getValue(\"queryCondition.container.query\");\r\n    @Input() queryAfterValueChange: boolean = false\r\n    @Input() hideOrgselector: boolean = false\r\n    private historyRefer = {\r\n        schemeKey: '',// åå²è®°å½scheme\r\n        foundSchme: null,// åå²æ¹æ¡ä¿å­\r\n        schemeKeyLS: '',//LocalStorage åå²è®°å½æ è®°\r\n        initCondition: false//LocalStorageæ¯å¦æç§æ§è¡å®æ¥è¯¢\r\n    }\r\n\r\n    @ViewChild('farrisQueryCondition') farrisQueryCondition: QueryConditionComponent;\r\n    @ViewChild('manageDialog') manageDialog: SolutionManangerComponent;\r\n    @ViewChild('saveAsDialog') saveAsDialog: SaveAsDialogComponent;\r\n    _self: any;\r\n    private _idSer: IdService;\r\n    private msgSer: any;\r\n\r\n    constructor(private notify: NotifyService, private resolver: ComponentFactoryResolver, private injector: Injector,\r\n        private modalService: BsModalService, private convertService: ConvertorService, private solutionService: SolutionService,\r\n        private httpService: HttpService, private fieldConfigService: FieldConfigService, private localeService: LocaleService) {\r\n        this._idSer = new IdService();\r\n        this.solutionHandler = this.injector.get<IQuerySolutionHandler>(QUERYSOLUTION_HANDLER_TOKEN, null, InjectFlags.Optional);\r\n        this.msgSer = this.injector.get(MessagerService);\r\n        this._self = this.injector.get(ElementRef);\r\n        this.cdf = this.injector.get(ChangeDetectorRef);\r\n        this.eventManager = this.injector.get(EventManager);\r\n        if(!this.localeService.langData['extendQuerySolution']) {\r\n            this.localeService.setLocaleData(EXTEND_QUERYSOLUTION_LOCALE);\r\n        }\r\n    }\r\n\r\n    ngOnDestroy(): void {\r\n        this._self.nativeElement.removeEventListener(\"keydown\", this.handleKeyDown);\r\n        //this.removeCurrentSolutionCache();\r\n        this.destroy$.next();\r\n        this.destroy$.complete();\r\n    }\r\n\r\n    ngOnChanges(changes: SimpleChanges): void {\r\n        if (changes['defaultConfigs']) {\r\n            this.isSetDefaultValue = true;\r\n            if (changes['defaultConfigs'].currentValue && !changes['defaultConfigs'].firstChange) {//è®¾è®¡æ¶ä¸ä¼ç»defaultConfigsèµå¼\r\n                this.setQueryConditionValues(changes['defaultConfigs'].currentValue, this.selectedSolution);\r\n                this.initAutoQuery(this.selectedSolution);\r\n            }\r\n        }\r\n        if (changes['enableInitQuery'] && changes['enableInitQuery'].firstChange && changes['enableInitQuery'].currentValue) {\r\n            this.doneInitQuery = false;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * ç»ä»¶åå§å\r\n     */\r\n    ngOnInit(): void {\r\n        //åªå¨è¿è¡æ¶ è·åsessionIdï¼æ¥è¯¢å·²å­å¨æ¹æ¡\r\n        this.initSysQuerySolution();\r\n        if (!this.isDisabled) {\r\n            this.sessionId = this.solutionHandler.getUserSessionId();\r\n            // ç¼å­åå²æ¹æ¡\r\n            this.initAutoQueryByLS();\r\n            // å è½½æ¹æ¡åè¡¨\r\n            this.loadQuerySolutions();\r\n            //æ³¨åé®ççå¬äºä»¶\r\n            this.listenKeyBoard();\r\n            this.getConditionVisibleState().pipe(takeUntil(this.destroy$)).subscribe((simpleConditions) => {\r\n                if(this.selectedFieldConditions.length > 0) {\r\n                    this.updateFieldParams(simpleConditions);\r\n                } else {\r\n                    this.templateSimpleConditions = simpleConditions;\r\n                }\r\n                this.visibleSelectedConditions = this.selectedFieldConditions.filter((item: QueryCondition) => { return !!item.visible });\r\n                this.whenFoldSetSummaryConditions();\r\n                !this.isDisabled && this.solutionHandler.setCurrentQueryConditions(cloneDeep(this.visibleSelectedConditions));\r\n            });\r\n        } else {\r\n            //è®¾è®¡æ¶åªå è½½ç³»ç»é¢ç½®æ¹æ¡\r\n            this.loadSysQuerySolution();\r\n        }\r\n    }\r\n\r\n    initSysQuerySolution() {\r\n        if (this.presetQuerySolutionName && this.presetQuerySolutionName != '') {\r\n            this.sysQuerySolutionVo = new QuerySolutionVo();\r\n            this.sysQuerySolutionVo.id = this.solutionService.getGuid();\r\n            this.sysQuerySolutionVo.code = (this.presetQuerySolutionName != this.localeService.getValue(\"querySolution.container.sysPresetName\")) ? this.presetQuerySolutionName : this.localeService.getValue(\"querySolution.container.defaultName\");\r\n            this.sysQuerySolutionVo.queryConditions = cloneDeep(this.presetFieldConfigs);\r\n            this.sysQuerySolutionVo.belongId = this.formId;\r\n            this.sysQuerySolutionVo.isSystem = true;\r\n            this.sysQuerySolutionVo.mode = '1';\r\n            // this.querySolutionVos.push(this.sysQuerySolutionVo);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * å è½½ç³»ç»é¢ç½®æ¹æ¡\r\n     */\r\n    loadSysQuerySolution() {\r\n        this.querySolutionVos.push(this.sysQuerySolutionVo);\r\n        this.selectedSolution = cloneDeep(this.sysQuerySolutionVo);\r\n        this.loadQueryConditions();\r\n    }\r\n\r\n    /**\r\n     * è§èæ¹æ¡æ¡ä»¶\r\n     */\r\n    private formatQuerySolutionVO(tConvertor: QuerySolutionVoConvertor, element, fromJobject = false): QuerySolutionVo {\r\n        let querysolutionVO: QuerySolutionVo;\r\n        let sourceData: any;\r\n        let _fieldCodeArr: Array<string> = [];\r\n        let _tQueryConditions: Array<QueryCondition>;\r\n        if (fromJobject) {\r\n            querysolutionVO = tConvertor.initFromJobject(element);\r\n        } else {\r\n            querysolutionVO = element;\r\n        }\r\n        this.fieldConfigs.forEach(_item => { _fieldCodeArr.push(_item.fieldCode) });\r\n        if (querysolutionVO && querysolutionVO.queryConditions && querysolutionVO.queryConditions.length > 0) {\r\n            //è¥è¡¨åä¸å é¤äºæä¸ªå­æ®µï¼ä½å·²ä¿å­çèªå®ä¹æ¹æ¡ä¸­åå«è¯¥å­æ®µæ¶ï¼å¨å è½½æ¹æ¡è¿ç¨ä¸­å°è¯¥å­æ®µåé¤\r\n            _tQueryConditions = querysolutionVO.queryConditions.filter(function (element) {\r\n                return _fieldCodeArr.indexOf(element.fieldCode) > -1;\r\n            });\r\n            querysolutionVO.queryConditions = _tQueryConditions;\r\n\r\n            //å¯¹èªå®ä¹æ¹æ¡çå½éåä¿¡æ¯ãå¸®å©æ§ä»¶çå¸®å©ååå¸®å©åäºä»¶è¿è¡å¨æèµå¼\r\n            querysolutionVO.queryConditions.forEach(element => {\r\n                sourceData = this.fieldConfigs.find(_item => _item.fieldCode == element.fieldCode);\r\n                element.fieldName = sourceData.fieldName;\r\n                element.placeHolder = sourceData.placeHolder;\r\n                element.beginPlaceHolder = sourceData.hasOwnProperty('beginPlaceHolder') ? sourceData['beginPlaceHolder'] : '';\r\n                element.endPlaceHolder = sourceData.hasOwnProperty('endPlaceHolder') ? sourceData['endPlaceHolder'] : '';                                \r\n                if (sourceData.control.preEventCmd) {\r\n                    (element.control as SmartHelpContol).preEventCmd = sourceData.control.preEventCmd;\r\n                }\r\n                if (sourceData.control.postEventCmd) {\r\n                    (element.control as SmartHelpContol).postEventCmd = sourceData.control.postEventCmd;\r\n                }\r\n                if (sourceData.control.clear) {\r\n                    (element.control as SmartHelpContol).clear = sourceData.control.clear;\r\n                }\r\n                if (sourceData.control.click) {\r\n                    (element.control as InputGroupControl).click = sourceData.control.click;\r\n                }\r\n                if(sourceData.control.beforeShow) {\r\n                    (element.control as DropDownListControl).beforeShow = sourceData.control.beforeShow;\r\n                }\r\n                if(sourceData.control.beforeHide) {\r\n                    (element.control as DropDownListControl).beforeHide = sourceData.control.beforeHide;\r\n                }\r\n                if(sourceData.control.dateChangedCmd) {\r\n                    (element.control as any).dateChangedCmd = sourceData.control.dateChangedCmd;\r\n                }\r\n                if (sourceData.control.enumValues && sourceData.control.enumValues.length > 0) {\r\n                    (element.control as DropDownListControl).enumValues = sourceData.control.enumValues;\r\n                    (element.control as RadioControl).enumValues = sourceData.control.enumValues;\r\n                }\r\n                if (sourceData.control.data && sourceData.control.data.length > 0) {\r\n                    (element.control as CheckBoxControl).data = sourceData.control.data;\r\n                }\r\n            });\r\n            //å¨æ­¤å¤queryconditionå¤çå®æ¯ï¼éè¦å°queryconditionåå®¹å¡«åè³queryConditionsAdvanced\r\n            if(querysolutionVO.queryConditionsAdvanced) {\r\n                let _queryConditionsAdvanced = tConvertor.complicateTreeData(querysolutionVO.queryConditionsAdvanced, querysolutionVO.queryConditions)\r\n                querysolutionVO.queryConditionsAdvanced = cloneDeep(_queryConditionsAdvanced)\r\n            }\r\n        }\r\n        return querysolutionVO;\r\n    }\r\n\r\n    /**\r\n     * å è½½æ¥è¯¢æ¹æ¡æ°æ®\r\n     */\r\n    async loadQuerySolutions() {\r\n        const self = this;\r\n        this.httpService.query(this.formId, this.sessionId).subscribe((items: Array<any>) => {\r\n            const convertor = new QuerySolutionVoConvertor();\r\n            let querysolutionVO: QuerySolutionVo;\r\n            if (items && items.length > 0) {\r\n                //é«çº§æ¨¡å¼æªå¼å¯ç¶æä¸ï¼è¿æ»¤æç¸å³æ°æ®\r\n                if(!this.openAdvancedMode) {\r\n                    items = items.filter(val => val.mode !== '2')\r\n                }\r\n                items.forEach(element => {\r\n                    querysolutionVO = this.formatQuerySolutionVO(convertor, element, true);\r\n                    if (this.enableHistory && querysolutionVO['type'] == 'pre' && querysolutionVO.mode !== '2') {\r\n                        // å¦æè¿ååè¡¨åå­å¨åå²è®°å½                        \r\n                        querysolutionVO.code = this.localeService.getValue(\"querySolution.container.histroyName\");\r\n                        this.historyRefer['schemeKey'] = querysolutionVO.id;\r\n                        this.historyRefer['foundSchme'] = cloneDeep(querysolutionVO);\r\n                        this.historyRefer['initCondition'] = true;\r\n                        //  this.defaultQuerySolution = cloneDeep(querysolutionVO);\r\n                    } else if(querysolutionVO['type'] != 'pre') {\r\n                        //æ ¹æ®version éæ©å­å¥åªä¸ä¸ªæ°æ® 1ä¸ºæ åï¼2ä¸ºé«çº§\r\n                        if(querysolutionVO.mode === '2' ) {\r\n                            this.querySolutionAdvancedVos.push(querysolutionVO)\r\n\r\n                        } else {\r\n                            this.querySolutionVos.push(querysolutionVO);\r\n                        }\r\n                        \r\n\r\n                        if (querysolutionVO.isDefault) {\r\n                            //å¦ææé»è®¤æ¹æ¡ï¼åè®¾ç½®å¨å±é»è®¤æ¹æ¡\r\n                            this.defaultQuerySolution = cloneDeep(querysolutionVO);\r\n                        }\r\n                    }\r\n                });\r\n                //self.setSolutionCache(this.querySolutionVos);\r\n            }\r\n            if (this.enableHistory && !this.historyRefer['initCondition']) {\r\n                //å¦æè¿æ²¡æè®¾ç½®æ¡ä»¶\r\n                this.formatInitQuerySolution();\r\n            }\r\n            if (this.enableHistory && this.historyRefer['initCondition']) {\r\n\r\n                this.selectedSolution = cloneDeep(this.historyRefer['foundSchme']);\r\n                //åªæç¼å­è®°å½\r\n                this.querySolutionVos.splice(0, 0, this.historyRefer['foundSchme']);\r\n                //åå²è®°å½ä¸æ¯æé«çº§æ¨¡å¼\r\n                // if(this.historyRefer['foundSchme'].mode === '2' ) {\r\n                //     this.querySolutionAdvancedVos.splice(0, 0, this.historyRefer['foundSchme']);\r\n\r\n                // } else {\r\n                //     this.querySolutionVos.splice(0, 0, this.historyRefer['foundSchme']);\r\n                // }\r\n\r\n                if (this.querySolutionVos.length === 1) {\r\n                    // åªæä¸æ¬¡æ¥è¯¢æ¶\r\n                    this.querySolutionVos.push(this.sysQuerySolutionVo);\r\n                }\r\n                \r\n                if (this.querySolutionAdvancedVos.length === 0) {\r\n                    // åªæä¸æ¬¡æ¥è¯¢æ¶\r\n                    this.querySolutionAdvancedVos.push(this.initAdvancedSolution())\r\n                }\r\n                //self.setSolutionCache(this.querySolutionVos);\r\n                this.loadQueryConditions();\r\n                \r\n                // if(this.historyRefer['schemeKey'] !== ''){\r\n                //     //æ´æ°ä¸æ¬¡ç¼å­\r\n                //     this.changeQueryHistroy(false);\r\n                // }                \r\n            } else if (this.defaultQuerySolution || this.querySolutionVos.length || this.querySolutionAdvancedVos.length) {\r\n                //å¦æå·²æ¥å°æé»è®¤æ¹æ¡ï¼æå·²æå­å¨çæ¹æ¡\r\n                //ä¸åå è½½ç³»ç»éç½®çæ¹æ¡ï¼é¦åå è½½é»è®¤æ¹æ¡ï¼æ²¡æé»è®¤åå è½½ç¬¬ä¸ä¸ªæ¹æ¡\r\n                if (this.defaultQuerySolution && this.defaultQuerySolution.id != '') {\r\n                    this.selectedSolution = cloneDeep(this.defaultQuerySolution);\r\n                } else {\r\n                    const publicSolution = [...this.querySolutionVos, ...this.querySolutionAdvancedVos].find(item => item.type == 'public');\r\n                    if(publicSolution) {\r\n                        this.selectedSolution = publicSolution;\r\n                    } else {\r\n                        const orgSolution = [...this.querySolutionVos, ...this.querySolutionAdvancedVos].find(item => item.type == 'org');\r\n                        this.selectedSolution = !!orgSolution ? orgSolution : cloneDeep([...this.querySolutionVos, ...this.querySolutionAdvancedVos][0]);\r\n                    }\r\n                }\r\n                if (this.querySolutionVos.length < 1) {\r\n                    this.querySolutionVos.push(this.sysQuerySolutionVo)\r\n                }\r\n                if (this.querySolutionAdvancedVos.length < 1) {\r\n                    this.querySolutionAdvancedVos.push(this.initAdvancedSolution())\r\n                }\r\n                this.loadQueryConditions();\r\n            } else {\r\n                //å¦ææ²¡æä»»ä½å·²å­å¨çæ¹æ¡ï¼åå è½½ç³»ç»éç½®æ¹æ¡\r\n                this.loadSysQuerySolution();\r\n                this.querySolutionAdvancedVos.push(this.initAdvancedSolution())\r\n            }\r\n\r\n            if (this.isSetDefaultValue && !this.historyRefer['initCondition']) {\r\n                this.setQueryConditionValues(this.defaultConfigs, this.selectedSolution);\r\n            }\r\n\r\n            this.initAutoQuery(this.selectedSolution);\r\n        }, e => {\r\n            if(e && e.message) {\r\n                this.msgSer.show('error', e.message, {showHeader: false})\r\n            }\r\n        });\r\n    }\r\n\r\n    setSolutionCache(querySolutionVos: any) {\r\n        if (!this.isDisabled && gspframeworkService && querySolutionVos && querySolutionVos.length) {\r\n            // è·åå½ååè½èåä¿¡æ¯, å¹¶ä»¥åè½èåIDä¸ºç¼å­key\r\n            const option = gspframeworkService.rtf.session.getCommonVariable();\r\n            SolutionCacheService.setSolutionCache(option.tabId, querySolutionVos);\r\n            SolutionCacheService.solutionListChanged.next(true);\r\n        }\r\n    }\r\n\r\n    setCurrentSolutionCache(value: any) {\r\n        if (!this.isDisabled && gspframeworkService && value) {\r\n            // è·åå½ååè½èåä¿¡æ¯, å¹¶ä»¥åè½èåIDä¸ºç¼å­key\r\n            const option = gspframeworkService.rtf.session.getCommonVariable();\r\n            if (option && option.tabId) {\r\n                SolutionCacheService.setCurrentSolution(option.tabId, value);\r\n            }\r\n        }\r\n    }\r\n\r\n    /*\r\n    removeCurrentSolutionCache() {\r\n        if (!this.isDisabled && gspframeworkService) {\r\n            // è·åå½ååè½èåä¿¡æ¯, å¹¶ä»¥åè½èåIDä¸ºç¼å­key\r\n            const option = gspframeworkService.rtf.session.getCommonVariable();\r\n            if (option && option.tabId) {\r\n                SolutionCacheService.removeCurrentSolution(option.tabId);\r\n            }\r\n        }\r\n    }\r\n    */\r\n\r\n    loadQueryConditions() {\r\n        //å è½½ç­éæ¡ä»¶\r\n        this.selectedFieldConditions = new Array<QueryCondition>();\r\n        if (this.selectedSolution && this.selectedSolution.queryConditions && this.selectedSolution.queryConditions.length > 0) {\r\n            // this.selectedFieldConditions = this.selectedSolution.queryConditions as Array<QueryCondition>;\r\n            this.selectedFieldConditions = this.selectedSolution.queryConditions;\r\n            if(this.templateSimpleConditions && this.templateSimpleConditions.length > 0) {\r\n                this.updateFieldParams(this.templateSimpleConditions);\r\n                this.templateSimpleConditions = new Array<any>();\r\n            }\r\n        }\r\n        this.visibleSelectedConditions = this.selectedFieldConditions.filter((item: QueryCondition) => { return !!item.visible });\r\n        // å¦ææ¹æ¡çåæ´æ¯å¨åææ¶\r\n        this.whenFoldSetSummaryConditions();\r\n        this.showSaveButton = this.selectedSolution.isSystem ? false : true;\r\n        !this.isDisabled && this.solutionHandler.setCurrentQueryConditions(cloneDeep(this.visibleSelectedConditions));\r\n        //this.setCurrentSolutionCache(this.selectedSolution);\r\n\r\n    }\r\n\r\n    getConditionVisibleState() {\r\n        return this.conditionVisibleState;\r\n    }\r\n\r\n    /**\r\n     * ä¼ éè¿æ¥çæ¯å·²ç»å¤çè¿çæ¡ä»¶\r\n     * @param simpleCondition \r\n     */\r\n    updateConditionVisibleState(simpleCondition: Array<any>) {\r\n        this.conditionVisibleState.next(simpleCondition);\r\n    }\r\n\r\n    // çå¬resetFieldConfigsåååï¼æ´æ°selectedFieldConditionsï¼å¹¶åæ­¥è³queryconditionï¼å¯å®ç°ç­éæ¡ä»¶å¨ææ¾ç¤ºéè\r\n    private updateFieldParams(simpleConditions: Array<any>) {\r\n        if(!simpleConditions || !simpleConditions.length) {\r\n            return;\r\n        }\r\n        const currentConditions = cloneDeep(this.selectedFieldConditions);\r\n        const updatedConditions = currentConditions.map((item: QueryCondition) => {\r\n            for(const simpleCondition of simpleConditions) {\r\n                if(simpleCondition.hasOwnProperty('visible') && item.fieldCode == simpleCondition['fieldCode'] && item.visible !== simpleCondition['visible']) {\r\n                    item.visible = simpleCondition['visible'];\r\n                    item.value.clearValue();\r\n                    this.markAsChanged(true, this.selectedSolution.id);\r\n                }\r\n            }\r\n            return item;\r\n        });\r\n        this.selectedFieldConditions = updatedConditions.slice();\r\n    }\r\n\r\n    saveAs() {\r\n        this.openSaveAsDialog(this.localeService.getValue(\"querySolution.saveAsDialog.title\"));\r\n    }\r\n\r\n    /**\r\n     * è·åé»è®¤æ ç­¾\r\n     * @param solution\r\n     */\r\n    getDefaultLabel(solution: QuerySolutionVo) {\r\n        if (!(this.defaultQuerySolution)) {\r\n            return { 'visibility': 'hidden' }\r\n        }\r\n        else {\r\n            if (solution.id == this.defaultQuerySolution.id) {\r\n                // //ä¸å¤çäº\r\n            }\r\n            else {\r\n                return { 'visibility': 'hidden' }\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * æ¹æ¡éæ©äºä»¶\r\n     * @param solution å½åéä¸­çæ¹æ¡\r\n     */\r\n    select(solution: QuerySolutionVo) {\r\n        this.selectedSolution = Object.assign(new QuerySolutionVo(), solution);\r\n        if (solution.queryConditions && solution.queryConditions.length > 0) {\r\n            this.selectedFieldConditions = this.selectedSolution.queryConditions;\r\n        }\r\n        else {\r\n            this.selectedFieldConditions = new Array<QueryCondition>();\r\n        }\r\n        this.showSaveButton = this.selectedSolution.isSystem ? false : true;\r\n        this.visibleSelectedConditions = this.selectedFieldConditions.filter((item: QueryCondition) => { return !!item.visible });\r\n        !this.isDisabled && this.solutionHandler.setCurrentQueryConditions(cloneDeep(this.visibleSelectedConditions));\r\n        //this.setCurrentSolutionCache(this.selectedSolution);\r\n        // å¦ææ¹æ¡çåæ´æ¯å¨åææ¶\r\n        this.whenFoldSetSummaryConditions();\r\n    }\r\n\r\n    selectAndQuery(solution: QuerySolutionVo) {\r\n        //é«çº§æ¨¡å¼ä¸ä½¿ç¨é»è®¤å¼\r\n        if (solution.mode !== '2' && (this.defaultConfigs && this.defaultConfigs.isCurrent || (solution.isSystem && solution.type !== 'pre'))) {\r\n            this.setQueryConditionValues(this.defaultConfigs, solution);//å·²åå«selectæä½\r\n        } else {\r\n            if (solution.mode !== '2' && this.enableHistory && solution.type == 'pre') {\r\n                let conditions = cloneDeep(this.historyRefer['foundSchme']['queryConditions']);\r\n                if (conditions.length > 0) {\r\n                    solution.queryConditions = conditions;\r\n                }\r\n            }\r\n            this.select(solution);\r\n        }\r\n        this.query();\r\n    }\r\n    \r\n    /**\r\n     * æå¼å­æ®µéç½®çªå£\r\n     */\r\n    openFieldConfigDialog() {\r\n        this.farrisQueryCondition.openFieldConfigDialog();\r\n    }\r\n\r\n    fieldConditionsChangeHander($event: any) {\r\n        let data = $event;\r\n        if(this.selectedSolution.mode === '2') {\r\n            this.selectedSolution.queryConditions = data\r\n            let target = this.querySolutionAdvancedVos.find(val => val.id === this.selectedSolution.id)\r\n            if(target ) {\r\n                target.queryConditions = this.selectedSolution.queryConditions\r\n                target.queryConditionsAdvanced = this.selectedSolution.queryConditionsAdvanced\r\n            }\r\n        }\r\n        // this.selectedSolution.queryConditions = data;æ­¤æ¶ä¸æ¹åå½åéä¸­çæ¹æ¡ï¼ç­å°ä¿å­æ¶ï¼ç´æ¥è°ç¨this.selectedFieldConditionsæ¥ä¿å­ã\r\n        this.selectedFieldConditions = data;\r\n        this.visibleSelectedConditions = this.selectedFieldConditions.filter((item: QueryCondition) => { return !!item.visible });\r\n        if (!this.isDisabled) {\r\n            this.solutionHandler.setCurrentQueryConditions(cloneDeep(this.visibleSelectedConditions));\r\n            this.solutionHandler.setFilterConditions(this.visibleSelectedConditions);\r\n            //this.setCurrentSolutionCache(this.selectedSolution);\r\n        }\r\n        if(this.queryAfterValueChange) {\r\n            this.query()\r\n        }\r\n        this.markAsChanged(true, this.selectedSolution.id);\r\n    }\r\n    //é«çº§æ¨¡å¼æ°å¢ï¼é«çº§æ¨¡å¼ä¸ä¸ä»éè¦ä¿®æ¹conditionsï¼è¿éè¦ä¿®æ¹solutionçç¸å³å±æ§\r\n    fieldSolutionChangeHander($event: any) {\r\n        let data = $event;\r\n        this.selectedSolution = data\r\n    }\r\n\r\n    /**\r\n     * ä¿å­æ¹æ¡\r\n     */\r\n    save() {\r\n        if (!this.formId) {\r\n            this.solutionService.showInfo(this.localeService.getValue(\"querySolution.container.pleaseInput\"), 'error', '', 1500);\r\n            return;\r\n        }\r\n        //idä¸ºç©ºåè¡¨ç¤ºæ²¡æé¢ç½®æ¹æ¡ï¼åæ­¤æ¶ä¿å­æ¹æ¡ç¸å½äºæ°å¢ä¸ä¸ªæ¹æ¡\r\n        if (!this.selectedSolution.id) {\r\n            this.openSaveAsDialog(this.localeService.getValue(\"querySolution.container.save\"));\r\n        }\r\n        //ç´æ¥ä¿å­\r\n        else {\r\n            const checkAuthority$ = this.httpService.getAuth('QuerySolution', this.sessionId);\r\n            checkAuthority$.pipe(\r\n                switchMap(\r\n                    (data: any) => {\r\n                        if(!data['success'] && (this.selectedSolution.type == 'public' || this.selectedSolution.type == 'org')) {\r\n                            this.solutionService.showInfo(this.localeService.getValue('extendQuerySolution.auth.updateError'), 'warning', '', 1500);\r\n                            return of(false);\r\n                        } else {\r\n                            this.selectedSolution.queryConditions = this.selectedFieldConditions;\r\n                            const save$ = this.httpService.update(this.selectedSolution, this.sessionId);\r\n                            return save$.pipe(\r\n                                tap(\r\n                                    () => {\r\n                                        if(this.selectedSolution.mode === '2') {\r\n                                            let tempIndex = this.querySolutionAdvancedVos.findIndex(x => x.id == this.selectedSolution.id);\r\n                                            // this.selectedFieldConditions = this.selectedSolution.queryConditions;\r\n                                            this.querySolutionAdvancedVos.splice(tempIndex, 1, this.selectedSolution);\r\n                                        } else {\r\n                                            let tempIndex = this.querySolutionVos.findIndex(x => x.id == this.selectedSolution.id);\r\n                                            // this.selectedFieldConditions = this.selectedSolution.queryConditions;\r\n                                            this.querySolutionVos.splice(tempIndex, 1, this.selectedSolution);\r\n                                        }\r\n                                        \r\n                                        this.markAsChanged(false, this.selectedSolution.id);\r\n                                        this.farrisQueryCondition.canClearRelatedFields = false;\r\n                                        this.solutionService.showInfo(this.localeService.getValue(\"querySolution.container.saveSuccess\"), 'success', '', 1500);\r\n                                    },\r\n                                    error => {\r\n                                        this.solutionService.showInfo(this.localeService.getValue(\"querySolution.container.saveFail\"), 'error', '', 1500);\r\n                                        throw error;\r\n                                    }\r\n                                )\r\n                            )\r\n                        }\r\n                    }\r\n                ),\r\n                tap(\r\n                    () => { },\r\n                    error => {\r\n                        console.warn(this.localeService.getValue('extendQuerySolution.auth.apiError'));\r\n                    }\r\n                )\r\n            ).subscribe();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * æå¼å¦å­ä¸ºå¯¹è¯æ¡ï¼ç¹å»ä¿å­æé®æ¶ä¹èµ°è¯¥é»è¾\r\n     * @param title\r\n     */\r\n    openSaveAsDialog(title: string) {\r\n        if (!this.formId) {\r\n            this.solutionService.showInfo(this.localeService.getValue(\"querySolution.container.pleaseInput\"), 'error', '', 1500);\r\n            return;\r\n        }\r\n        this.saveAsDialog.title = title;\r\n        this.saveAsDialog.querySolution = this.newSaveAsSolutionVo();\r\n        this.saveAsDialog.radioGroupValue = 'private';\r\n        this.saveAsDialog.show();\r\n    }\r\n\r\n    newSaveAsSolutionVo = () => {\r\n        //å½åéä¸­çæ¹æ¡ï¼åä¿®æ¹ç­éæ¡ä»¶åï¼å¶åæ¥çç­éæ¡ä»¶å¹¶æ²¡æååï¼ä»ä»this.selectedFieldConditionsæåå\r\n        const solution = cloneDeep(this.selectedSolution);\r\n        //æ°å¢çæ¹æ¡è¦æ¸ç©ºæ¥è¯¢æ¹æ¡ç¼å·\r\n        solution.code = '';\r\n        //æ¯å¦ç³»ç»å±æ§å¿é¡»è®¾ç½®ä¸ºFalse\r\n        solution.isSystem = false;\r\n        //è§£å³æ¹æ¡æå±è¡¨å\r\n        solution.belongId = this.formId;\r\n        //æ°å¢æ¹æ¡Idéè¦Guid\r\n        solution.id = this.solutionService.getGuid();\r\n        //æ°å¢æ¹æ¡isDefaultéè¦è®¾ç½®ä¸ºfalse\r\n        solution.isDefault = false;\r\n        //æ°å¢æ¹æ¡çç­éæ¡ä»¶ï¼æ¯å½åéä¸­çç­éæ¡ä»¶\r\n        solution.queryConditions = this.selectedFieldConditions;\r\n        //è®¾ç½®ç±»åè¦æ¸ç©º\r\n        solution.type = \"private\";\r\n        solution.isChanged = false;\r\n        solution.extendId = 'query-scheme-1';\r\n        solution.extendInfo = new Array<QuerySolutionExtendVo>();\r\n        return solution;\r\n    }\r\n\r\n    /**\r\n     * å¦å­ä¸ºç¡®å®äºä»¶å¤ç\r\n     * @param solution æ°å¢çæ¥è¯¢æ¹æ¡\r\n     */\r\n    saveAsConfrimHandler(_event: any) {\r\n        const solution: QuerySolutionVo = _event['querySolution'];\r\n        if (solution.queryConditions && solution.queryConditions.length) {\r\n            solution.queryConditions.forEach(element => {\r\n                if (!!element.readonly) {\r\n                    element.readonly = false;\r\n                }\r\n            });\r\n        }\r\n        this.httpService.create(solution, this.sessionId).subscribe(\r\n            () => {\r\n                //éæ°è®¾ç½®å¨å±çé»è®¤æ¹æ¡\r\n                if (solution.isDefault) {//è¢«è®¾ç½®ä¸ºé»è®¤æ¹æ¡\r\n                    this.defaultQuerySolution = solution;\r\n                    this.querySolutionVos = this.querySolutionVos.map(vo => {\r\n                        vo.isDefault = false;\r\n                        return vo;\r\n                    });\r\n                    this.querySolutionAdvancedVos = this.querySolutionAdvancedVos.map(vo => {\r\n                        vo.isDefault = false;\r\n                        return vo;\r\n                    });\r\n                }\r\n                //ç¨æ·ä¿å­èªå·±çç­éæ¹æ¡åï¼ä¸åæ¾ç¤ºç³»ç»é»è®¤çæ¹æ¡ï¼æä½æ¹æ¡ä¸ºé«çº§æ¨¡å¼æ¶ä¸å½±åæ å\r\n                if (this.querySolutionVos.length === 1 && this.querySolutionVos[0].isSystem && solution.mode === '1') {\r\n                    //ç¨æ·æ²¡æéç½®èªå·±çç­éæ¹æ¡æ¶ï¼æèç¨æ·åªéç½®äºä¸ä¸ªç­éæ¹æ¡æ¶ï¼æ­¤æ°ç»é½æä¸ä¸ªæ¹æ¡ï¼è¥æ­¤æ¹æ¡æ¯ç³»ç»é»è®¤æ¹æ¡ï¼ååºå¨å¦å­ä¸ºæ¶å æ\r\n                    this.querySolutionVos = new Array<QuerySolutionVo>();\r\n                } else if(this.querySolutionVos.length === 2 && this.enableHistory) {   \r\n                    let filterSolutionVos = new Array<QuerySolutionVo>();                 \r\n                    filterSolutionVos = this.querySolutionVos.filter(item => {\r\n                        if(item.type == 'pre'){\r\n                            return true;\r\n                        }\r\n                        return !item.isSystem\r\n                    })\r\n                    this.querySolutionVos = filterSolutionVos;\r\n                }\r\n                //é«çº§æ¨¡å¼åç\r\n                if (this.querySolutionAdvancedVos.length === 1 && this.querySolutionAdvancedVos[0].isSystem && solution.mode === '2') {\r\n                    this.querySolutionAdvancedVos = new Array<QuerySolutionVo>();\r\n                } else if(this.querySolutionAdvancedVos.length === 2 && this.enableHistory) {   \r\n                    let filterSolutionVos = new Array<QuerySolutionVo>();                 \r\n                    filterSolutionVos = this.querySolutionAdvancedVos.filter(item => {\r\n                        if(item.type == 'pre'){\r\n                            return true;\r\n                        }\r\n                        return !item.isSystem\r\n                    })\r\n                    this.querySolutionAdvancedVos = filterSolutionVos;\r\n                }\r\n\r\n                solution.mode === '2' ? this.querySolutionAdvancedVos.push(solution) : this.querySolutionVos.push(solution);\r\n                this.selectedSolution = solution;\r\n                this.showSaveButton = this.selectedSolution.isSystem ? false : true;\r\n                this.selectedFieldConditions = this.selectedSolution.queryConditions;\r\n                this.visibleSelectedConditions = this.selectedFieldConditions.filter((item: QueryCondition) => { return !!item.visible });\r\n                this.farrisQueryCondition.canClearRelatedFields = false;\r\n                this.saveAsDialog.isDefault = false;\r\n                this.solutionService.showInfo(this.localeService.getValue(\"querySolution.container.saveSuccess\"), 'success', '', 1500);\r\n            },\r\n            error => {\r\n                this.solutionService.showInfo(this.localeService.getValue(\"querySolution.container.saveFail\"), 'error', '', 1500);\r\n                throw error;\r\n            }\r\n        );\r\n    }\r\n\r\n    /**\r\n     * æå¼ç®¡ççé¢\r\n     */\r\n    openManangerDialog() {\r\n        this.httpService.getAuth('QuerySolution', this.sessionId).subscribe(data => {\r\n            this.manageDialog.authorityError = data['success'] ? false: true;\r\n            this.manageDialog.show(cloneDeep([...this.querySolutionVos, ...this.querySolutionAdvancedVos]));\r\n        });\r\n    }\r\n\r\n    /**\r\n     * ç®¡ççé¢ç¡®å®å¤ç\r\n     * @param _event\r\n     * @param dialog\r\n     */\r\n    managerConfirmHandler(_event: any) {\r\n        let obj: object = _event;\r\n        if (obj['validator'] == true) {\r\n            //ç¹å»checkboxæ¶ï¼newDefaultQuerySolutionè¢«èµå¼ï¼ å¨å±é»è®¤æ¹æ¡è¢«å é¤æ¶ï¼newDefaultQuerySolutionåä¸ºnull\r\n            const defaultId = obj['newDefaultQuerySolution'] ? obj['newDefaultQuerySolution'].id : '';\r\n            const belongId = this.formId;\r\n            //è¥æ²¡æå é¤ä»»ä½æ¹æ¡ï¼deletedQuerySolutionVosä¼æ¯ä¸ä¸ªç©ºæ°ç»\r\n            const deletedIds = obj['deletedQuerySolutionIds'];\r\n            this.httpService.batchUpdate({ defaultId, belongId, deletedIds }, this.sessionId).subscribe(\r\n                () => {\r\n                    //æå é¤åçvoèµå¼ç» this.querySolutionVosï¼å¦ææ²¡å é¤æ¹æ¡ï¼ this.querySolutionVosè·obj['splicedQuerySolutionVos']åå¼\r\n                    //é»è®¤æ¹æ¡çååä¹è®°å½å¨updatedQuerySolutionVosä¸­\r\n                    this.querySolutionVos = obj['updatedQuerySolutionVos'].filter(val => val.mode !== '2');\r\n                    this.querySolutionAdvancedVos = obj['updatedQuerySolutionVos'].filter(val => val.mode === '2');\r\n                    if (!obj['currentDefaultQuerySolutionId']) {//å¦æä¼ è¿æ¥çå½åé»è®¤æ¹æ¡idæ¯ç©ºï¼ä»£è¡¨ææé»è®¤æ¹æ¡é½åæ¶äº\r\n                        this.defaultQuerySolution = null;\r\n                    }\r\n                    //å¦ææé»è®¤æ¹æ¡åæ¾ç¤ºé»è®¤æ¹æ¡ï¼å¦ææ²¡æé»è®¤æ¹æ¡åç´æ¥æ¾ç¤ºå½åæ¥è¯¢æ¹æ¡çç¬¬ä¸ä¸ªï¼å¦ææ²¡æä»»ä½æ¥è¯¢æ¹æ¡åç´æ¥æ¸ç©ºæ¥è¯¢æ¹æ¡ï¼åæ¾ç¤ºç³»ç»é¢ç½®çé»è®¤æ¹æ¡\r\n                    if (defaultId) {\r\n                        //å·²è®¾ç½®é»è®¤æ¹æ¡\r\n                        this.select(obj['newDefaultQuerySolution']);\r\n                        this.defaultQuerySolution = obj['newDefaultQuerySolution'];\r\n\r\n                        if (this.querySolutionVos.length === 0 || (this.enableHistory && this.querySolutionVos.length === 1 && this.querySolutionVos[0].type == 'pre')) {\r\n                            this.querySolutionVos.push(this.sysQuerySolutionVo);\r\n                        }\r\n                        if (!this.querySolutionAdvancedVos.length) {\r\n                            this.querySolutionAdvancedVos.push(this.initAdvancedSolution())\r\n                        }\r\n                    } else {\r\n                        //æªæ´æ¹é»è®¤æ¹æ¡ï¼å¤æ­å½åéæ©çæ¥è¯¢æ¹æ¡æ¯å¦å·²è¢«å é¤\r\n                        if (deletedIds.includes(this.selectedSolution.id)) {//å¦æè¢«å é¤\r\n                            if (this.querySolutionVos.length > 0) {\r\n                                if(this.enableHistory && this.querySolutionVos.length == 1 && this.querySolutionVos[0].type == 'pre'){\r\n                                    this.select(this.sysQuerySolutionVo);\r\n                                    this.querySolutionVos.push(this.sysQuerySolutionVo);\r\n                                } else {\r\n                                    const publicSolution = this.querySolutionVos.find(item => item.type == 'public');\r\n                                    if(publicSolution) {\r\n                                        this.select(publicSolution);\r\n                                    } else {\r\n                                        const orgSolution = this.querySolutionVos.find(item => item.type == 'org');\r\n                                        this.select(!!orgSolution ? orgSolution : cloneDeep(this.querySolutionVos[0]));\r\n                                    }\r\n                                }\r\n                            } else {\r\n                                this.select(this.sysQuerySolutionVo);\r\n\r\n                                this.querySolutionVos.push(this.sysQuerySolutionVo);\r\n                            }\r\n                            //é«çº§æ¨¡å¼æ²¡æçè¯ä¹éè¦å¢å é»è®¤\r\n                            if(!this.querySolutionAdvancedVos.length) {\r\n                                this.querySolutionAdvancedVos.push(this.initAdvancedSolution())\r\n                            }\r\n                        } else {\r\n                            //ä»ä¹ä¹æ²¡åç\r\n                            //æææçé»è®¤é½åæ¶äº\r\n                            if(this.querySolutionVos.length === 0 || (this.enableHistory && this.querySolutionVos.length === 1 && this.querySolutionVos[0].type == 'pre')){\r\n                                this.querySolutionVos.push(this.sysQuerySolutionVo);\r\n                            } \r\n                            if(!this.querySolutionAdvancedVos.length) {\r\n                                this.querySolutionAdvancedVos.push(this.initAdvancedSolution())\r\n                            }\r\n                        }\r\n                    }\r\n                    this.solutionService.showInfo(this.localeService.getValue(\"querySolution.container.saveSuccess\"), 'success', '', 1500);\r\n                },\r\n                error => {\r\n                    this.solutionService.showInfo(this.localeService.getValue(\"querySolution.container.saveFail\"), 'error', '', 1500);\r\n                    return Observable.throw(error);\r\n                }\r\n            )\r\n        } else {\r\n            //æ ¡éªå¤±è´¥\r\n        }\r\n    }\r\n\r\n    /**\r\n     * æ§è¡ç­é\r\n     */\r\n    query() {\r\n        if (!this.isDisabled) {\r\n            const errorArr = this.solutionService.isValid(this.visibleSelectedConditions);\r\n            //é«çº§æ¨¡å¼ä¸ä¸ç¨å¤æ­requireï¼æèªå·±çæ ¡éªé»è¾\r\n            if (errorArr && errorArr.length && this.selectedSolution.mode !== '2') {\r\n                const errorFields = errorArr.map(error => error.field);\r\n                this.solutionService.showInfo(this.localeService.getValue(\"querySolution.container.require\").replace('{fields}', errorFields.join(', ')), 'warning', '', 2500);\r\n            } else {\r\n                //é«çº§æ¨¡å¼ä¸å¿é¡»æææ¡ä»¶é½æå¼ï¼å¦åä¼å½±åå±çº§ä¸å³èå³ç³»\r\n                \r\n                let queryConditions = cloneDeep(this.visibleSelectedConditions);\r\n                if(this.selectedSolution.mode === '2') {\r\n                    queryConditions = cloneDeep(this.selectedFieldConditions);\r\n                    let emptyFlag = queryConditions.find(val => val.value.isEmpty())\r\n                    if( emptyFlag ) {\r\n                        this.notify.warning(this.localeService.getValue('advancedMode.auth.conditionEmptyError'))\r\n                        return\r\n                    }\r\n                    \r\n                }\r\n                this.solutionHandler.setFilterConditions(queryConditions);\r\n                this.queryEmitter.emit(queryConditions);\r\n                // æ´æ°åå²è®°å½\r\n                this.changeQueryHistroy();\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * æ¸ç©º->æ¡ä»¶å¨é¨éç½®ä¸ºç©º\r\n     */\r\n    clear() {\r\n        // this.isFold = !this.isFold;\r\n        const isNotEmpty = this.visibleSelectedConditions.some(condition => condition.value.isEmpty() == false);\r\n        if (isNotEmpty) {\r\n            const newList: Array<QueryCondition> = cloneDeep(this.farrisQueryCondition.resetSelectedConditionValues(true));\r\n            this.selectedFieldConditions = newList;\r\n            this.selectedSolution.queryConditions = newList;\r\n            this.visibleSelectedConditions = this.selectedFieldConditions.filter((item: QueryCondition) => { return !!item.visible });\r\n            this.solutionHandler.setCurrentQueryConditions(cloneDeep(this.visibleSelectedConditions));\r\n            this.solutionHandler.setFilterConditions(this.visibleSelectedConditions);\r\n            this.markAsChanged(true, this.selectedSolution.id);\r\n            this.query();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * æå æé®çæ¸ç©º\r\n     */\r\n    foldClearHandler() {\r\n        if (this.isFold) {\r\n            // å¦æç¹å»çæ¶åæ¯åæç\r\n            this.isFold = false;\r\n            if (this.summaryConditions.length > 0) {\r\n                this.summaryConditions = [];\r\n                this.clear();\r\n            }\r\n        } else {\r\n            // å¦æç¹å»çæ¶åæ¯å±å¼ç\r\n            this.clear();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * ç®­å¤´ç¹å»äºä»¶\r\n     */\r\n    arrowClick() {\r\n        this.isFold = !this.isFold;\r\n        this.whenFoldSetSummaryConditions();\r\n        if (!this.isFold) {\r\n            this.summaryConditions = [];\r\n        }\r\n    }\r\n\r\n    private whenFoldSetSummaryConditions() {\r\n        if (this.isFold) {\r\n            // å¦æåæ\r\n            const isNotEmpty = this.visibleSelectedConditions.some(condition => condition.value.isEmpty() == false);\r\n            if (isNotEmpty) {\r\n                this.summaryConditions = this.visibleSelectedConditions.filter(condition => condition.value.isEmpty() == false);\r\n            } else {\r\n                this.summaryConditions = [];\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * ä¸ºç³»ç»é¢ç½®æ¹æ¡æèèªå®ä¹æ¥è¯¢æ¹æ¡è®¾ç½®ç­éæ¡ä»¶é»è®¤å¼\r\n     * @param configs é»è®¤å¼è®¾ç½®\r\n     * @param selectedSolution å½åéæ©çç­éæ¹æ¡\r\n     */\r\n    setQueryConditionValues(configs: DefaultConfigs, selectedSolution: QuerySolutionVo): void {\r\n        let targetSolution: QuerySolutionVo;\r\n        let targetSolutionWithValues: QuerySolutionVo;\r\n        //é«çº§æ¨¡å¼ä¸ä¸æ¯æé»è®¤å¼\r\n        if (configs && Array.isArray(configs.fieldConfigs) && configs.fieldConfigs.length && selectedSolution.mode !== '2') {\r\n            if(selectedSolution.hasOwnProperty('type') && selectedSolution['type'] == 'pre') {\r\n                //å¦ææ¯åå²è®°å½\r\n                targetSolution = null; \r\n                this.select(selectedSolution);\r\n            } else {\r\n                targetSolution = configs.isCurrent ? selectedSolution : (selectedSolution.isSystem ? selectedSolution : null);\r\n            }\r\n            if (targetSolution && targetSolution.queryConditions && targetSolution.queryConditions.length) {\r\n                targetSolutionWithValues = cloneDeep(this.solutionService.setValues(targetSolution, configs.fieldConfigs, !!configs.readonly));\r\n                this.doneSetDefaultValue = true;\r\n                this.select(targetSolutionWithValues);\r\n            } else {\r\n                //ä¸ä¸ºèªå®ä¹æ¹æ¡è®¾ç½®é»è®¤å¼æ¶ï¼æ è®°ä¸è¦ä¸ºå¶èµé»è®¤å¼çæå¾ï¼ä½æªæå\r\n                this.doneSetDefaultValue = true;\r\n\r\n                //å¦ææ²¡æè®¾ç½®é»è®¤å¼ï¼å°±æå½åéä¸­æ¹æ¡çæ¡ä»¶çå¼ä¼ åº\r\n                this.solutionHandler.setCurrentQueryConditions(this.selectedSolution.queryConditions);\r\n            }\r\n        } else {\r\n            this.select(selectedSolution)\r\n        }\r\n    }\r\n\r\n    /**\r\n     * å è½½ç­éæ¹æ¡åèªå¨æ¥è¯¢\r\n     * @param currentSolution å½åç­éæ¹æ¡ \r\n     */\r\n    initAutoQuery(currentSolution: QuerySolutionVo): void {\r\n        if (this.enableInitQuery && this.doneInitQuery && this.enableHistory && currentSolution.mode !== '2') {\r\n            // å·²éè¿åå²è®°å½è¿è¡è¿æ¥è¯¢\r\n            return;\r\n        }\r\n        let enableQuery: boolean = true;\r\n        if (currentSolution && currentSolution.queryConditions && currentSolution.queryConditions.length) {\r\n            if (this.isSetDefaultValue && !this.doneSetDefaultValue) {\r\n                enableQuery = false;\r\n            }\r\n        } else {\r\n            enableQuery = false;\r\n        }\r\n\r\n        if (enableQuery && this.enableInitQuery) {\r\n            // this.solutionHandler.setFilterConditions(this.selectedSolution.queryConditions); æ§è¡queryæ¹æ³æ¶ï¼å·²ç»æ§è¡setFilterConditions\r\n            //if(this._self.nativeElement.querySelector('.farris-panel .btn-group .btn-primary')){\r\n            setTimeout(() => {\r\n                this.query();\r\n                this.doneInitQuery = true;\r\n            });\r\n            //}\r\n        }\r\n    }\r\n\r\n    /**\r\n     * å½åæ¥è¯¢æ¹æ¡çç­éæ¡ä»¶åçååæ¶ï¼æ è®°æ¹æ¡å¤äºç¼è¾ç¶æ\r\n     * @param isChanged æ¹æ¡æ¯å¦å¤äºç¼è¾ç¶æ\r\n     * @param solutionId éè¦æ è®°æ¯å¦å¤äºç¼è¾ç¶æçæ¹æ¡çid\r\n     */\r\n    markAsChanged(isChanged: boolean, solutionId: string) {\r\n        this.querySolutionVos.forEach(solution => {\r\n            if (solution.id == solutionId)\r\n                solution.isChanged = isChanged;\r\n        });\r\n        this.querySolutionAdvancedVos.forEach(solution => {\r\n            if (solution.id == solutionId)\r\n                solution.isChanged = isChanged;\r\n        });\r\n        this.selectedSolution.isChanged = isChanged;\r\n        this.cdf.detectChanges();\r\n    }\r\n\r\n    /**\r\n     * å¤çç­éæé®åæ¸ç©ºæé®çååºå¼ä½ç½®åæ´\r\n     * @param $event farris-queryconditionç»ä»¶åé¨æ¯å¦æ¾ç¤ºæé®\r\n     */\r\n    // showButtonHandle($event: any) {\r\n    //     if(!this.isDisabled){\r\n    //         let data = $event;\r\n    //         this.queryButtonOnRight = !data;\r\n    //         if(this.enableInitQuery && !this.doneInitQuery) {\r\n    //             this.initAutoQuery(this.selectedSolution);\r\n    //         }\r\n    //     }\r\n    // }\r\n\r\n    /**\r\n     * é®ççå¬å½æ°ï¼å½æä¸åè½¦é®æ¶ç¸å½äºæä¸ç­éæé®\r\n     */\r\n    private listenKeyBoard() {\r\n        this._self.nativeElement.addEventListener(\"keydown\", this.handleKeyDown);\r\n    }\r\n\r\n    handleKeyDown = (event) => {\r\n        if (event.key == 'Enter') {\r\n            //é«çº§æ¨¡å¼ä¸æ°æ®æ ¼å¼çé®é¢ï¼è¾å¥ç¶æä¸­ç´æ¥åè½¦ï¼è¾å¥æ¡ç±»åæ§ä»¶æ æ³æ´æ°valueï¼æå¨è§¦åä¸ä¸å¤±å»ç¦ç¹ï¼æ´æ°ç¶æ\r\n            if(this.selectedSolution.mode === '2') {\r\n                let activeEle  = document.activeElement as HTMLElement\r\n                activeEle.blur()\r\n                activeEle.focus()\r\n            }\r\n            this.query();\r\n        }\r\n           \r\n    }\r\n    /**\r\n     * èªå¨åå§åæ¥è¯¢\r\n     * å¯ç¨åå²è®°å½ï¼å¹¶ä¸å¯ç¨äºåå§åæ¥è¯¢ï¼å¦æææ¡ä»¶ï¼å°±è¿è¡æ¥è¯¢\r\n     */\r\n    private initAutoQueryByLS() {\r\n        // å¯ç¨åå²\r\n        if (this.enableHistory && !this.isDisabled) {\r\n            // key\r\n            this.setLSKey();\r\n            // åå§åå¯¹è±¡\r\n            this.initQuerySolution();\r\n            // å¦æè®¾ç½®äºåå§æ¥è¯¢\r\n            if (this.enableInitQuery) {\r\n                this.formatInitQuerySolution();\r\n                if (this.historyRefer['foundSchme']['queryConditions'].length > 0) {\r\n                    const queryConditions = cloneDeep(this.historyRefer['foundSchme']['queryConditions']);\r\n                    this.selectedFieldConditions = queryConditions;\r\n                    this.visibleSelectedConditions = this.selectedFieldConditions.filter((item: QueryCondition) => { return !!item.visible });\r\n                    const visibleConditions = cloneDeep(this.visibleSelectedConditions);\r\n                    // è®¾ç½®æ¥è¯¢æ¡ä»¶\r\n                    this.solutionHandler.setFilterConditions(visibleConditions);\r\n                    // æåºæ¥è¯¢äºä»¶\r\n                    this.queryEmitter.emit(visibleConditions);\r\n                    // æ è®°\r\n                    this.doneInitQuery = true;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * åå§å\r\n     */\r\n    private initQuerySolution() {\r\n        let querysolutionVO = new QuerySolutionVo();\r\n        querysolutionVO.id = this.solutionService.getGuid();\r\n        querysolutionVO.code = this.localeService.getValue(\"querySolution.container.histroyName\");\r\n        querysolutionVO.queryConditions = [];\r\n        querysolutionVO.belongId = this.formId;\r\n        querysolutionVO.isSystem = true;\r\n        querysolutionVO.type = 'pre';\r\n        querysolutionVO.mode = '1';\r\n        querysolutionVO.queryConditionsAdvanced = {relation:1, items:[], children: [], path: [1], groupid:1}\r\n        this.historyRefer['foundSchme'] = querysolutionVO;\r\n    }\r\n    /**\r\n     * åå§åé«çº§æ¨¡å¼\r\n     */\r\n     private initAdvancedSolution() {\r\n        let querysolutionVO = new QuerySolutionVo();\r\n        querysolutionVO.id = this.solutionService.getGuid();\r\n        querysolutionVO.code = ((this.presetQuerySolutionName != this.localeService.getValue(\"querySolution.container.sysPresetName\")) ? this.presetQuerySolutionName : this.localeService.getValue(\"querySolution.container.defaultName\")) + this.localeService.getValue(\"advancedMode.text.sysAdvancedName\");;\r\n        querysolutionVO.queryConditions = [];\r\n        querysolutionVO.belongId = this.formId;\r\n        querysolutionVO.isSystem = true;\r\n        querysolutionVO.type = 'pre';\r\n        querysolutionVO.mode = '2';\r\n        querysolutionVO.queryConditionsAdvanced = {relation:1, items:[], children: [], path: [1], groupid:1}\r\n        return querysolutionVO\r\n    }\r\n\r\n    /**\r\n     * åå§åæ¥èªLSçæ¡ä»¶\r\n     */\r\n    private formatInitQuerySolution() {\r\n        let histroyCondition = this.httpService.getLS(this.historyRefer.schemeKeyLS);\r\n        if (histroyCondition.length > 0) {\r\n            let convertor = new QuerySolutionVoConvertor();\r\n            this.historyRefer['foundSchme']['queryConditions'] = histroyCondition;\r\n            // è§èåæ¡ä»¶\r\n            this.historyRefer['foundSchme'] = this.formatQuerySolutionVO(convertor, this.historyRefer['foundSchme']);\r\n            // æ´æ°éç½®\r\n            this.solutionService.updateControl(this.historyRefer['foundSchme'], this.resetFieldConfigs);\r\n            this.historyRefer.initCondition = true;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * ä¿å­ä¹åæ´æ°åå²\r\n     */\r\n    private changeQueryHistroy(updateAll = true) {\r\n        if (!this.enableHistory || this.selectedSolution.mode !== '1') {\r\n            return;\r\n        }\r\n        let preIndex = this.querySolutionVos.findIndex((qsolutionVO) => {\r\n            return qsolutionVO['type'] == 'pre';\r\n        });\r\n        // æ§è¡æ¥è¯¢ä¹åï¼ä¸æ¬¡æ¥è¯¢çä¿®æ¹å°±ä¸è®¤ä¸ºæ¯åæ´äº\r\n        if (preIndex > -1) {\r\n            this.querySolutionVos[preIndex]['isChanged'] = false;\r\n        }\r\n        if (this.selectedSolution['type'] == 'pre') {\r\n            this.selectedSolution['isChanged'] = false;\r\n        }\r\n        const queryConditions = cloneDeep(this.selectedFieldConditions);\r\n\r\n        this.historyRefer['foundSchme'].queryConditions = queryConditions;\r\n        // æ´æ°ç¼å­\r\n        this.httpService.setLS(this.historyRefer.schemeKeyLS, this.historyRefer['foundSchme'].queryConditions);\r\n        if (updateAll) {\r\n            // åèµ·è¯·æ±ä¿å­åå²è®°å½\r\n            this.httpService.saveHistroy(this.historyRefer['foundSchme'], this.sessionId).subscribe(() => {\r\n\r\n            });\r\n        }\r\n    }\r\n\r\n    /**\r\n     * å¤çiframeåµå¥\r\n     */\r\n    private getTopWindow(): Window {\r\n        let curWin: Window = window.self;\r\n        try {\r\n            while (curWin.location.origin === curWin.parent.location.origin) {\r\n                if (curWin !== curWin.parent && !(curWin as any).isRTFTopWin) {\r\n                    curWin = curWin.parent;\r\n                } else {\r\n                    break;\r\n                }\r\n            }\r\n        } catch (e) { }\r\n        return curWin;\r\n    }\r\n\r\n    /**\r\n     * è®¾ç½®key\r\n     */\r\n    private setLSKey() {\r\n        // è·åwindow\r\n        let curWindow = this.getTopWindow();\r\n        let userCode = '';\r\n        if (curWindow['gspframeworkService'] && curWindow['gspframeworkService'].hasOwnProperty('common')) {\r\n            userCode = curWindow['gspframeworkService']['common'].userInfos.get().code;\r\n        }\r\n        this.historyRefer.schemeKeyLS = userCode ? 'Scheme' + this._idSer.encrypt(userCode + this.formId) : '';\r\n    }\r\n\r\n    // å¤æ­å½åç¨æ·æ¯å¦ææéè®¾ç½®å¬å±ç±»åç­éæ¹æ¡\r\n    checkAuthority(e: any) {\r\n        if(e != 'private') { \r\n            this.httpService.getAuth('QuerySolution', this.sessionId).subscribe(data => {\r\n                if(data) {\r\n                    if(!data['success']) {\r\n                        this.solutionService.showInfo(this.localeService.getValue('extendQuerySolution.auth.createError'), 'warning', '', 1500);\r\n                        this.saveAsDialog.authorityError = true;\r\n                        this.saveAsDialog.radioGroupValue = this.saveAsDialog.pRadioGroupValue;\r\n                    } else {\r\n                        if(e == 'org') {\r\n                            const orgData = data['authOrganizationData'];\r\n                            if (Array.isArray(orgData) && orgData.length) {\r\n                                this.saveAsDialog.dataPermissionIds = orgData;\r\n                                if (orgData.toString() != '*' && !this.saveAsDialog.selectedOrgIds.length) {\r\n                                    this.saveAsDialog.selectedOrgIds = this.saveAsDialog.dataPermissionIds;\r\n                                }\r\n                                this.saveAsDialog.noDataAuthority = false;\r\n                                this.saveAsDialog.pRadioGroupValue = e;\r\n                            } else {\r\n                                this.solutionService.showInfo(this.localeService.getValue('extendQuerySolution.auth.noDataAuthority'), 'warning', '', 1500);\r\n                                this.saveAsDialog.noDataAuthority = true;\r\n                                this.saveAsDialog.radioGroupValue = this.saveAsDialog.pRadioGroupValue;\r\n                            }\r\n                        } else {\r\n                            this.saveAsDialog.pRadioGroupValue = e;\r\n                        }\r\n                    }\r\n                } else {\r\n                    console.warn(this.localeService.getValue('extendQuerySolution.auth.apiError'));\r\n                }\r\n            });\r\n        } else {\r\n            this.saveAsDialog.pRadioGroupValue = e;\r\n            this.saveAsDialog.authorityError = false;\r\n        }\r\n    }\r\n    \r\n}\r\n","import { Component, OnInit, Input, Injector, OnDestroy } from '@angular/core';\r\nimport { QueryCondition, ControlType, TextValue, DropDownListControl, InputGroupValue, SmartHelpValue, NumberRangeValue, RadioControl, CheckBoxControl, CheckBoxValue } from '@farris/component-querycondition';\r\nimport { DateTimeHelperService } from '@farris/ui-common/date';\r\nimport { NumberHelperService } from '@farris/ui-common/number';\r\nimport { LocaleService } from '@farris/ui-locale';\r\n\r\n@Component({\r\n  selector: 'lib-summary-condition',\r\n  templateUrl: './summary-condition.component.html',\r\n  styleUrls: ['./summary-condition.component.css']\r\n})\r\nexport class SummaryConditionComponent implements OnInit {\r\n\r\n\r\n  private _condition: QueryCondition;\r\n  // å½åcontrolType\r\n  private _conditionType;\r\n  // åéç¬¦\r\n  private _spliter = '';\r\n  // æ¯å¦åºé´\r\n  private _isRange = false;\r\n  private showTime = false;\r\n  private textField = 'name';\r\n  private valueField = 'value';\r\n  // ä»æå¡å¨ç«¯åå¼æ¯æ ¼å¼ååç\r\n  private returnFormat = '';\r\n  // éè¦è½¬åç±»åæ ¼å¼çè¡¨è¾¾å¼\r\n  private format: any;\r\n  // è½¬æ¢ç±»åç¨å°çæ°æ®\r\n  private dataSource;\r\n  // ææ¬æ¾ç¤º\r\n  text = \"\";\r\n\r\n  @Input()\r\n  set condition(qCondition) {\r\n    this._condition = qCondition;\r\n    this.formatCondition();\r\n  }\r\n  get condition(): QueryCondition {\r\n    return this._condition;\r\n  };\r\n  // å¤è¯­è¨\r\n  private currentLanguage: string;\r\n  // ååä½ç¬¦å·\r\n  private thousand = ',';\r\n  // å°æ°ç¹å¤ç¬¦å·\r\n  private decimal = '.';\r\n  // è´§å¸ç¬¦å·åå¼å±ç°å½¢å¼\r\n  private expression = '%s%v';\r\n\r\n  // formControlæ¾ç¤ºçææ¬\r\n  /**\r\n   * å½éåç±»å\r\n   \r\n  @Input() localizationType: string;*/\r\n  // è´§å¸ç¬¦å·ï¼é»è®¤æ¯RMB\r\n  currencySymbol = 'ï¿¥';\r\n  // åè¿å¶åé¢å¡«åçç¬¦å·\r\n  @Input() filledSymbol = '0';\r\n  //æ°å¼æ ¼å¼åæ°\r\n  private numberOptions;\r\n\r\n  private localeService: any;\r\n  constructor(\r\n    private dtHelper: DateTimeHelperService,\r\n    private numberHelper: NumberHelperService,\r\n    private injector: Injector\r\n  ) {\r\n    this.localeService = this.injector.get(LocaleService);\r\n  }\r\n\r\n  ngOnInit() {\r\n\r\n  }\r\n\r\n  formatCondition() {\r\n    let qCondition = this.condition;\r\n    if (qCondition) {\r\n      this._conditionType = qCondition.control.getControlType();\r\n      let textValueObj;\r\n      let textOriginalValue = qCondition.value.getOriginalValue();\r\n      let startValue;\r\n      let endValue;\r\n      switch (this._conditionType) {\r\n        case ControlType.Text:\r\n          //ææ¬\r\n          textValueObj = qCondition.value as TextValue;\r\n          textOriginalValue = textValueObj.value && textValueObj.value.trim();\r\n          break;\r\n        case ControlType.SingleNumber:\r\n          // æ°å¼\r\n          this.numberOptions = { precision: qCondition.control['precision'], type: 'number' }\r\n          break;\r\n        case ControlType.NumberRange:\r\n          // æ°å¼åºé´\r\n          this._isRange = true;\r\n          this._spliter = '~';\r\n          this.numberOptions = { precision: qCondition.control['precision'], type: 'number' };\r\n          startValue = qCondition.value['startValue'] ? qCondition.value['startValue'] : '';\r\n          endValue = qCondition.value['endValue'] ? qCondition.value['endValue'] : '';\r\n          textOriginalValue = [startValue, endValue].join(this._spliter);\r\n          break;\r\n        case ControlType.SingleDate:\r\n          //åä¸ªæ¥æ\r\n          this.returnFormat = qCondition.control && qCondition.control['returnFormat'] ? qCondition.control['returnFormat'] : \"yyyy-MM-dd\";\r\n          this.format = qCondition.control && qCondition.control['format'] ? qCondition.control['format'] : \"yyyy-MM-dd\";\r\n          break;\r\n\r\n        case ControlType.DateRange:\r\n          //æ¥æåºé´\r\n          this._isRange = true;\r\n          this._spliter = '~';\r\n          this.returnFormat = qCondition.control && qCondition.control['returnFormat'] ? qCondition.control['returnFormat'] : \"yyyy-MM-dd\";\r\n          this.format = qCondition.control && qCondition.control['format'] ? qCondition.control['format'] : \"yyyy-MM-dd\";\r\n\r\n          startValue = qCondition.value['startTime'] ? qCondition.value['startTime'] : '';\r\n          endValue = qCondition.value['endTime'] ? qCondition.value['endTime'] : '';\r\n          textOriginalValue = [startValue, endValue].join(this._spliter);\r\n          break;\r\n\r\n        case ControlType.SingleYear:\r\n          // åªæå¹´\r\n          this.returnFormat = qCondition.control && qCondition.control['returnFormat'] ? qCondition.control['returnFormat'] : \"yyyy\";\r\n          this.format = qCondition.control && qCondition.control['format'] ? qCondition.control['format'] : \"yyyy\";\r\n          break;\r\n        case ControlType.SingleMonth:\r\n          // åªææ\r\n          this.returnFormat = qCondition.control && qCondition.control['returnFormat'] ? qCondition.control['returnFormat'] : \"yyyy-MM\";\r\n          this.format = qCondition.control && qCondition.control['format'] ? qCondition.control['format'] : \"yyyy-MM\";\r\n          break;\r\n        case ControlType.MonthRange:\r\n          // æèå´\r\n          this._isRange = true;\r\n          this._spliter = '~';\r\n          this.returnFormat = qCondition.control && qCondition.control['returnFormat'] ? qCondition.control['returnFormat'] : \"yyyy-MM\";\r\n          this.format = qCondition.control && qCondition.control['format'] ? qCondition.control['format'] : \"yyyy-MM\";\r\n          startValue = qCondition.value['startTime'] ? qCondition.value['startTime'] : '';\r\n          endValue = qCondition.value['endTime'] ? qCondition.value['endTime'] : '';\r\n          break;\r\n        case ControlType.SingleDateTime:\r\n          // æ¶é´\r\n          this.showTime = true;\r\n          this.returnFormat = qCondition.control['returnFormat'] ? qCondition.control['returnFormat'] : this.returnFormat;\r\n          this.format = 'yyyy-MM-dd HH:mm:ss';\r\n          if(qCondition.control) {\r\n            if(qCondition.control['enableCustomFormat']) {\r\n              this.format = qCondition.control['format'] ? qCondition.control['format'] : this.returnFormat;\r\n            }else{\r\n              this.format = qCondition.control && qCondition.control['format'] ? qCondition.control['format'] + ' HH:mm:ss' : this.returnFormat;\r\n            }\r\n          }         \r\n          break;\r\n        case ControlType.DateTimeRange:\r\n          // æ¶é´åºé´\r\n          this.showTime = true;\r\n          this._isRange = true;\r\n          this._spliter = '~';\r\n          this.returnFormat = qCondition.control['returnFormat'] ? qCondition.control['returnFormat'] : this.returnFormat;\r\n          this.format = 'yyyy-MM-dd HH:mm:ss';\r\n          if(qCondition.control) {\r\n            if(qCondition.control['enableCustomFormat']) {\r\n              this.format = qCondition.control['format'] ? qCondition.control['format'] : this.returnFormat;\r\n            }else{\r\n              this.format = qCondition.control && qCondition.control['format'] ? qCondition.control['format'] + ' HH:mm:ss' : this.returnFormat;\r\n            }\r\n          }\r\n          startValue = qCondition.value['startTime'] ? qCondition.value['startTime'] : '';\r\n          endValue = qCondition.value['endTime'] ? qCondition.value['endTime'] : '';\r\n          break;\r\n\r\n        case ControlType.BoolCheck:\r\n          // å¸å°å¼-åä¸ªå¼\r\n          let checkValue = (qCondition.value as CheckBoxValue).value;\r\n          textOriginalValue = checkValue.length > 0 ? checkValue['0'] : null;\r\n          break;\r\n        case ControlType.DropDownList:\r\n          // ä¸æ\r\n          this._spliter = ',';\r\n          if(qCondition.control['uri'] && !qCondition.control['enumValues']) {\r\n            textOriginalValue = (qCondition.value['value'] as Array<any>).map(t => t[this.valueField]).join(this._spliter);\r\n          }\r\n          break;\r\n        case ControlType.Radio:\r\n          // åéç»\r\n          this._spliter = ',';\r\n          break;\r\n        case ControlType.InputGroup:\r\n          // inputgroup\r\n          textValueObj = qCondition.value as InputGroupValue;\r\n          textOriginalValue = textValueObj.textValue && textValueObj.textValue.trim();\r\n          break;\r\n        case ControlType.SmartHelp:\r\n          // å¸®å©\r\n          textValueObj = qCondition.value as SmartHelpValue;\r\n          textOriginalValue = textValueObj.textValue && textValueObj.textValue.trim();\r\n          break;\r\n        default:\r\n          textOriginalValue = qCondition.value.getOriginalValue();\r\n      }\r\n      this.text = this.formatValue(textOriginalValue);\r\n    } else {\r\n      this.text = '';\r\n    }\r\n  }\r\n  /**\r\n   * å¤çå¤è¯­è¨ï¼å¾å®\r\n   */\r\n  formatLang(value: any) {\r\n    return value && value[this.currentLanguage] ? value[this.currentLanguage] : '';\r\n  }\r\n  /**\r\n   * Cè´§å¸\r\n   * Dåè¿å¶\r\n   * Fæµ®ç¹æ°\r\n   * Næ°å­ï¼å¸¦ååä½\r\n   * Pç¾åæ¯\r\n   */\r\n  getFormatNumberValue(value: any) {\r\n    if (!this.format && !this.numberOptions) {\r\n      return value.toString();\r\n    }\r\n    if (this.numberOptions && this.numberOptions.type && this.numberOptions.type == 'number') {\r\n      if (this.numberOptions.formatter) {\r\n        return this.numberOptions.formatter(value);\r\n      }\r\n      else {\r\n        if (this.numberOptions.useThousands) {\r\n          // è®¾ç½®äºååä½\r\n          if (this.numberOptions.precision != undefined) {\r\n            this.format = 'n' + this.numberOptions.precision;\r\n          }\r\n          else {\r\n            this.format = 'n';\r\n          }\r\n        }\r\n        else {\r\n          // æ²¡æè®¾ç½®ååä½\r\n          if (this.numberOptions.precision != undefined) {\r\n            this.format = 'f' + this.numberOptions.precision;\r\n          }\r\n          else {\r\n            // æ²¡æè®¾ç½®ç²¾åº¦ï¼æ²¡æè®¾ç½®ååä½\r\n            return value.toString();\r\n          }\r\n        }\r\n      }\r\n    }else{\r\n      return value.toString();\r\n    }\r\n    const firstLetter = this.currencyToUpperCase(this.format.substring(0, 1));\r\n    const precision = Number(this.format.substring(1));\r\n    let config = {};\r\n    let result: any;\r\n    if (!/C|D|F|N|P/g.test(firstLetter)) {\r\n      console.warn(`ä¸æ¯æformatä¸º ${this.format} ç±»åçæ°å­æ ¼å¼å`);\r\n      return;\r\n    }\r\n    if (this.thousand) {\r\n      Object.assign(config, { thousand: this.thousand });\r\n    }\r\n    if (this.decimal) {\r\n      Object.assign(config, { decimal: this.decimal });\r\n    }\r\n    if (this.expression) {\r\n      Object.assign(config, { format: this.expression });\r\n    }\r\n    switch (firstLetter) {\r\n      case 'C':\r\n        Object.assign(config, { prefix: this.currencySymbol, precision });\r\n        result = this.numberHelper.formatMoney(value, config);\r\n        break;\r\n      case 'D':\r\n        result = this.toDecimal(value, precision);\r\n        break;\r\n      case 'F':\r\n        Object.assign(config, { prefix: '', thousand: '', precision });\r\n        result = this.numberHelper.formatMoney(value, config);\r\n        break;\r\n      case 'N':\r\n        Object.assign(config, { prefix: '', precision });\r\n        result = this.numberHelper.formatMoney(value, config);\r\n        break;\r\n      case 'P':\r\n        result = this.toPercent(value, precision);\r\n        break;\r\n    }\r\n    return result;\r\n  }\r\n  /**\r\n   * @param value è½¬æ¢æåè¿å¶çæ°å­\r\n   * @param precision åè¿å¶æ°å­çé¿åº¦\r\n   */\r\n  toDecimal(value: any, precision: any) {\r\n    if (value.toString().indexOf('.') > -1) {\r\n      console.warn('åè¿å¶è½¬æ¢ä»éæ´åç±»å');\r\n      return;\r\n    }\r\n    return (Array(precision).join(this.filledSymbol) + value).slice(-precision);\r\n  }\r\n  /**\r\n   * @param value è½¬æ¢æç¾åæ°çæ°å­\r\n   * @param decimal å°æ°ç¹ä¿çå ä½\r\n   */\r\n  toPercent(value: any, precision: any) {\r\n    return Number(value * 100).toFixed(Number(precision)) + '%';\r\n  }\r\n\r\n  /**\r\n   * å°è´§å¸ç¬¦å·é¦å­æ¯è½¬æ¢æå¤§å\r\n   */\r\n  currencyToUpperCase(value: any) {\r\n    return value.replace(/[a-z]+/g, (word: any) => {\r\n      return word.toUpperCase();\r\n    });\r\n  }\r\n\r\n  /**\r\n   * å¤çå¹´ï¼Y=>y, D=>d\r\n   */\r\n  dateToUpperCase(value: any) {\r\n    let newFormat: any;\r\n    if (/Y/g.test(value) === true) {\r\n      newFormat = value.replace(/Y/g, 'y');\r\n    } else {\r\n      newFormat = value;\r\n    }\r\n    if (/D/g.test(newFormat) === true) {\r\n      newFormat = newFormat.replace(/D/g, 'd');\r\n    }\r\n\r\n    return newFormat;\r\n  }\r\n  /**\r\n   * æä¸¾ç±»åå¤ç\r\n   */\r\n  getFormatEnumValue(value: any) {\r\n    if (value == undefined || value === null || value === '') {\r\n      return '';\r\n    }\r\n    if (this.dataSource && this.dataSource.length) {\r\n      // å¯è½å­å¨å¤éæä¸¾ï¼ä½ä¸ºåéç¬¦  \r\n      // let curVals = ('' + value).split(',');\r\n      let curVals = ('' + value).split(this._spliter);\r\n      let nameResult = [];\r\n      for (let k = 0; k < curVals.length; k++) {\r\n        let findObj = this.dataSource.find(item => {\r\n          return item[this.valueField] == curVals[k];\r\n        });\r\n        if (findObj) {\r\n          nameResult.push(findObj[this.textField]);\r\n        }\r\n        else {\r\n          nameResult.push(curVals[k]);\r\n        }\r\n      }\r\n      if (nameResult.length > 0) {\r\n        // return nameResult.join(',');\r\n        return nameResult.join(this._spliter)\r\n      }\r\n      return '';\r\n    } else {\r\n      return value;\r\n    }\r\n  }\r\n  /**\r\n   * booleanå¼å¤ç\r\n   */\r\n  getFormatCheckBoxValue(value: boolean) {\r\n    if (value === true) {\r\n      return this.localeService.getValue('text.yes');\r\n    } else if (value === false || value == null || typeof value === 'undefined') {\r\n      return this.localeService.getValue('text.no');\r\n    } else {\r\n      return value;\r\n    }\r\n  }\r\n  /*\r\n  * æ¥ææ ¼å¼å\r\n  */\r\n  dateformat(value) {\r\n    let str;\r\n    if (!this.format) {\r\n      this.format = 'YYYY-MM-dd';\r\n    }\r\n    // å½åå¼æ¯å·²ç»æ ¼å¼ååçæ¥æå­ç¬¦ä¸²\r\n    if (this.returnFormat  && typeof value == 'string') {\r\n      value = this.getDateFromFormatedString(value, this.returnFormat);\r\n    }\r\n    if (this.format === 'hh:mm:ss' || this.format === 'HH:mm:ss') {\r\n      // æ ¼å¼åæ¶é´  ä¸´æ¶å¤ç\r\n      str = value;\r\n    } else {\r\n        // æ ¼å¼åæ¥æ\r\n        str = this.dtHelper.formatTo(value, this.dateToUpperCase(this.format));\r\n    }\r\n    return str;\r\n  }\r\n  private getDateFromFormatedString(dateString, format) {\r\n    var result = { year: 0, month: 0, day: 0, hour: 0, minite: 0, second: 0 };//å½ç¶è¿éå¯ä»¥é»è®¤1970-1-1æ¥\r\n    if (dateString) {\r\n      format.replace(/y{4}|Y{4}|M+|d+|D+|h+|H+|m+|s+/g, function (m, a, b, c) {//è¿éåªåäºå¹´ææ¥  å æ¶åç§ä¹æ¯å¯ä»¥ç\r\n        dateString.substring(a).replace(/\\d+/, function (d) {\r\n           if(d){\r\n              c = parseInt(d.substr(0,m.length), 10); \r\n            }\r\n        });\r\n        if (/y+/i.test(m) && !result.year) result.year = c;\r\n        if (/M+/.test(m) && !result.month) result.month = c;\r\n        if (/d+/i.test(m) && !result.day) result.day = c;\r\n        if (/h+/i.test(m) && !result.hour) result.hour = c;\r\n        if (/m+/.test(m) && !result.minite) result.minite = c;\r\n        if (/s+/.test(m) && !result.second) result.second = c;\r\n      });\r\n    }\r\n    result.day = result.day ? result.day : 1;\r\n    result.month = result.month ? result.month : 1;\r\n    var resultDate = new Date(result.year + '/' + result.month + '/' + result.day + ' ' + result.hour + ':' + result.minite + ':' + result.second);\r\n    return resultDate;\r\n  }\r\n\r\n  function (date, fmt) {\r\n    var o = {\r\n      'M+': date.getMonth() + 1, //æä»½\r\n      'd+': date.getDate(), //æ¥\r\n      'h+': date.getHours(), //å°æ¶\r\n      'm+': date.getMinutes(), //å\r\n      's+': date.getSeconds(), //ç§\r\n      'q+': Math.floor((date.getMonth() + 3) / 3), //å­£åº¦\r\n      'S': date.getMilliseconds() //æ¯«ç§\r\n    };\r\n    if (!fmt) {\r\n      fmt = 'yyyy-MM-dd hh:mm:ss';\r\n    }\r\n    if (/(y+)/.test(fmt)) {\r\n      fmt = fmt.replace(RegExp.$1, (date.getFullYear() + '').substr(4 - RegExp.$1.length));\r\n    }\r\n    for (var k in o) {\r\n      if (new RegExp('(' + k + ')').test(fmt)) {\r\n        fmt = fmt.replace(RegExp.$1, (RegExp.$1.length == 1) ? (o[k]) : (('00' + o[k]).substr(('' + o[k]).length)));\r\n      }\r\n    }\r\n    return fmt;\r\n  }\r\n\r\n  /**\r\n   * æ ¼å¼åå¤ç\r\n   */\r\n  formatValue(value: any) {\r\n    let str: any;\r\n    if (this.currentLanguage) {\r\n      return this.formatLang(value);\r\n    }\r\n    // æ è®°ç±»å\r\n    if (this._conditionType !== ControlType.BoolCheck && (value == null || typeof value === 'undefined')) {\r\n      return '';\r\n    }\r\n    switch (this._conditionType) {\r\n      case ControlType.Text:\r\n        str = value;\r\n        break;\r\n      case ControlType.DateRange:\r\n      case ControlType.MonthRange:\r\n      case ControlType.DateTimeRange:\r\n        const dateValues = value.split(this._spliter);\r\n        let dataStr = [];\r\n        if (dateValues && dateValues.length) {\r\n          dateValues.forEach(date => {\r\n            let val = this.dateformat(date);\r\n            dataStr.push(val);\r\n          });\r\n        }\r\n        str = dataStr.join(this._spliter);\r\n        break;\r\n      case ControlType.SingleDate:\r\n        if(value && value.text) {\r\n          str = value.text\r\n        } else {\r\n          str = this.dateformat(value)\r\n        }\r\n        break;\r\n      case ControlType.SingleDateTime:\r\n      case ControlType.SingleMonth:\r\n      case ControlType.SingleYear:\r\n        str = this.dateformat(value);\r\n        break;\r\n      case ControlType.SingleNumber:\r\n        // æ°å­\r\n        str = this.getFormatNumberValue(value);\r\n        break;\r\n      case ControlType.NumberRange:\r\n        // æ°å­ åºé´     \r\n        const numberValues = value.split(this._spliter);\r\n        let resultStr = [];\r\n        if (numberValues && numberValues.length) {\r\n          numberValues.forEach(date => {\r\n            let val = this.getFormatNumberValue(date);\r\n            resultStr.push(val);\r\n          });\r\n        }\r\n        str = resultStr.join(this._spliter);\r\n        break;\r\n      case ControlType.Radio:\r\n        // åéç»\r\n        this.dataSource = (this.condition.control as RadioControl).enumValues;\r\n        str = this.getFormatEnumValue(value);\r\n        break;\r\n      case ControlType.DropDownList:\r\n        // ä¸æ\r\n        this.dataSource = (this.condition.control as DropDownListControl).enumValues;\r\n        str = this.getFormatEnumValue(value);\r\n        break;\r\n      case ControlType.BoolCheck:\r\n        // å¸å°\r\n        //this.dataSource = (this.condition.control as CheckBoxControl).data;\r\n        str = this.getFormatCheckBoxValue(value);\r\n        break;\r\n        //å¸®å©çè¯å¼å®¹æ§æ°æ®ï¼é¨åå¼ä¸ºhelp-text-value-nullçè½¬åä¸ºç©ºå­ç¬¦ä¸²\r\n      case ControlType.SmartHelp:\r\n        str = value === 'help-text-value-null' ? '' : value;\r\n        break;\r\n      case ControlType.ComboLookUp:\r\n        str = value === 'help-text-value-null' ? '' : value;\r\n        break;\r\n\r\n      default:\r\n        str = value;\r\n    }\r\n\r\n    return str;\r\n  }\r\n}\r\n","import { Component, OnInit, Input,  ViewChild, ElementRef, NgZone, OnDestroy, HostBinding, AfterViewInit, ChangeDetectorRef } from '@angular/core';\r\nimport { QueryCondition} from '@farris/component-querycondition';\r\nimport ResizeObserver from \"resize-observer-polyfill\";\r\n@Component({\r\n  selector: 'lib-summary-list',\r\n  templateUrl: './summary-list.component.html',\r\n  styleUrls: ['./summary-list.component.css']\r\n})\r\nexport class SummaryListComponent implements OnInit, OnDestroy {\r\n    \r\n  @HostBinding('class.summary-list') cls = true;\r\n  \r\n  @ViewChild('wrapper', { read: ElementRef }) wrapperEl: ElementRef;\r\n\r\n  @Input() conditions: Array<QueryCondition> = new Array<QueryCondition>();\r\n  @Input() enableTips = false;\r\n  \r\n  private ro: ResizeObserver | null = null;\r\n  widthFlag = 0;\r\n  \r\n  constructor(private ngZone: NgZone, private cd: ChangeDetectorRef) {\r\n\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    if (this.ro) {\r\n      this.ro.unobserve(this.wrapperEl.nativeElement);\r\n      this.ro = null;\r\n    }\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.observerElement();\r\n  }\r\n\r\n  private observerElement() {\r\n    this.ngZone.runOutsideAngular(() => {\r\n      this.ro = new ResizeObserver((entries, observer) => {\r\n        const tempWidth = entries[0].contentRect.width;\r\n        // å®½åº¦ååè¶è¿80å¼å§è®¡ç®\r\n        if (Math.abs(tempWidth - this.widthFlag) > 15) {\r\n          this.widthFlag = tempWidth;\r\n          this.changeTipsState();\r\n        }\r\n      });\r\n      this.ro.observe(this.wrapperEl.nativeElement);\r\n    });\r\n  }\r\n\r\n  private changeTipsState() {\r\n    let tEnableTips = this.enableTips;\r\n    if (this.wrapperEl.nativeElement.clientWidth +2 < this.wrapperEl.nativeElement.scrollWidth) {\r\n      tEnableTips = true;\r\n    } else {\r\n      tEnableTips = false;\r\n    }\r\n    if(tEnableTips !== this.enableTips) {\r\n      this.enableTips = tEnableTips;\r\n      this.cd.markForCheck();\r\n      this.cd.detectChanges();\r\n    }\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { QuerySolutionComponent } from './query-solution.component';\r\nimport { SolutionManangerComponent } from './solutionmanager/solutionmanager.component';\r\nimport { SaveAsDialogComponent } from './saveasdialog/saveasdialog.component';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { FarrisDialogModule } from '@farris/ui-dialog';\r\nimport { LookupModule } from '@farris/ui-lookup';\r\nimport { MultiSelectModule } from '@farris/ui-multi-select';\r\nimport { FieldGroupModule } from '@farris/ui-field-group';\r\nimport { InputGroupModule } from '@farris/ui-input-group';\r\nimport { FDropdownDirectiveTypeModule } from '@farris/ui-dropdown';\r\nimport { NotifyModule } from '@farris/ui-notify';\r\nimport { LoadingModule } from '@farris/ui-loading';\r\nimport { HttpClientModule } from '@angular/common/http';\r\nimport { SolutionService, QueryConditionModule } from '@farris/component-querycondition';\r\nimport { LocaleModule } from '@farris/ui-locale';\r\nimport { DatagridModule } from '@farris/ui-datagrid';\r\nimport { NumberHelperModule } from '@farris/ui-common/number';\r\nimport { DateHelperModule } from '@farris/ui-common/date';\r\nimport { FarrisTooltipModule } from '@farris/ui-tooltip';\r\nimport { SummaryConditionComponent } from './summary-condition/summary-condition.component';\r\nimport { SummaryListComponent } from './summary-list/summary-list.component';\r\nimport { FarrisFormsModule } from '@farris/ui-forms';\r\nimport { OrganizationSelectorModule } from '@farris/ui-organization-selector';\r\nimport { LanguageTextboxModule } from '@farris/ui-language-textbox';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    FarrisDialogModule,\r\n    LookupModule,\r\n    MultiSelectModule,\r\n    FieldGroupModule,\r\n    InputGroupModule,\r\n    FDropdownDirectiveTypeModule,\r\n    NotifyModule.forRoot(),\r\n    LoadingModule.forRoot(),\r\n    QueryConditionModule,\r\n    HttpClientModule,\r\n    LocaleModule,\r\n    DatagridModule,\r\n    NumberHelperModule,\r\n    DateHelperModule,\r\n    FarrisTooltipModule,\r\n    FarrisFormsModule,\r\n    OrganizationSelectorModule,\r\n    LanguageTextboxModule\r\n  ],\r\n  declarations: [\r\n    QuerySolutionComponent,\r\n    SolutionManangerComponent,\r\n    SaveAsDialogComponent,\r\n    SummaryConditionComponent,\r\n    SummaryListComponent,\r\n  ],\r\n  entryComponents:[\r\n    SolutionManangerComponent,\r\n    SaveAsDialogComponent\r\n  ],\r\n  providers:[SolutionService],\r\n  exports:[ \r\n    QuerySolutionComponent,\r\n    SolutionManangerComponent,\r\n    SaveAsDialogComponent\r\n  ]\r\n})\r\nexport class QuerySolutionModule { }\r\n"],"names":["tslib_1.__spread","tslib_1.__values"],"mappings":"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"}
