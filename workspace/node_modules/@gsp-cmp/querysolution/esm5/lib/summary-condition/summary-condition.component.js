/**
 * @fileoverview added by tsickle
 * Generated from: lib/summary-condition/summary-condition.component.ts
 * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { Component, Input, Injector } from '@angular/core';
import { QueryCondition, ControlType } from '@farris/component-querycondition';
import { DateTimeHelperService } from '@farris/ui-common/date';
import { NumberHelperService } from '@farris/ui-common/number';
import { LocaleService } from '@farris/ui-locale';
var SummaryConditionComponent = /** @class */ (function () {
    function SummaryConditionComponent(dtHelper, numberHelper, injector) {
        this.dtHelper = dtHelper;
        this.numberHelper = numberHelper;
        this.injector = injector;
        // 分隔符
        this._spliter = '';
        // 是否区间
        this._isRange = false;
        this.showTime = false;
        this.textField = 'name';
        this.valueField = 'value';
        // 从服务器端取值是格式化后的
        this.returnFormat = '';
        // 文本显示
        this.text = "";
        // 千分位符号
        this.thousand = ',';
        // 小数点处符号
        this.decimal = '.';
        // 货币符号及值展现形式
        this.expression = '%s%v';
        // formControl显示的文本
        /**
         * 国际化类型
         * \@Input() localizationType: string;
         */
        // 货币符号，默认是RMB
        this.currencySymbol = '￥';
        // 十进制前面填充的符号
        this.filledSymbol = '0';
        this.localeService = this.injector.get(LocaleService);
    }
    Object.defineProperty(SummaryConditionComponent.prototype, "condition", {
        get: /**
         * @return {?}
         */
        function () {
            return this._condition;
        },
        set: /**
         * @param {?} qCondition
         * @return {?}
         */
        function (qCondition) {
            this._condition = qCondition;
            this.formatCondition();
        },
        enumerable: true,
        configurable: true
    });
    ;
    /**
     * @return {?}
     */
    SummaryConditionComponent.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
    };
    /**
     * @return {?}
     */
    SummaryConditionComponent.prototype.formatCondition = /**
     * @return {?}
     */
    function () {
        var _this = this;
        /** @type {?} */
        var qCondition = this.condition;
        if (qCondition) {
            this._conditionType = qCondition.control.getControlType();
            /** @type {?} */
            var textValueObj = void 0;
            /** @type {?} */
            var textOriginalValue = qCondition.value.getOriginalValue();
            /** @type {?} */
            var startValue = void 0;
            /** @type {?} */
            var endValue = void 0;
            switch (this._conditionType) {
                case ControlType.Text:
                    //文本
                    textValueObj = (/** @type {?} */ (qCondition.value));
                    textOriginalValue = textValueObj.value && textValueObj.value.trim();
                    break;
                case ControlType.SingleNumber:
                    // 数值
                    this.numberOptions = { precision: qCondition.control['precision'], type: 'number' };
                    break;
                case ControlType.NumberRange:
                    // 数值区间
                    this._isRange = true;
                    this._spliter = '~';
                    this.numberOptions = { precision: qCondition.control['precision'], type: 'number' };
                    startValue = qCondition.value['startValue'] ? qCondition.value['startValue'] : '';
                    endValue = qCondition.value['endValue'] ? qCondition.value['endValue'] : '';
                    textOriginalValue = [startValue, endValue].join(this._spliter);
                    break;
                case ControlType.SingleDate:
                    //单个日期
                    this.returnFormat = qCondition.control && qCondition.control['returnFormat'] ? qCondition.control['returnFormat'] : "yyyy-MM-dd";
                    this.format = qCondition.control && qCondition.control['format'] ? qCondition.control['format'] : "yyyy-MM-dd";
                    break;
                case ControlType.DateRange:
                    //日期区间
                    this._isRange = true;
                    this._spliter = '~';
                    this.returnFormat = qCondition.control && qCondition.control['returnFormat'] ? qCondition.control['returnFormat'] : "yyyy-MM-dd";
                    this.format = qCondition.control && qCondition.control['format'] ? qCondition.control['format'] : "yyyy-MM-dd";
                    startValue = qCondition.value['startTime'] ? qCondition.value['startTime'] : '';
                    endValue = qCondition.value['endTime'] ? qCondition.value['endTime'] : '';
                    textOriginalValue = [startValue, endValue].join(this._spliter);
                    break;
                case ControlType.SingleYear:
                    // 只有年
                    this.returnFormat = qCondition.control && qCondition.control['returnFormat'] ? qCondition.control['returnFormat'] : "yyyy";
                    this.format = qCondition.control && qCondition.control['format'] ? qCondition.control['format'] : "yyyy";
                    break;
                case ControlType.SingleMonth:
                    // 只有月
                    this.returnFormat = qCondition.control && qCondition.control['returnFormat'] ? qCondition.control['returnFormat'] : "yyyy-MM";
                    this.format = qCondition.control && qCondition.control['format'] ? qCondition.control['format'] : "yyyy-MM";
                    break;
                case ControlType.MonthRange:
                    // 月范围
                    this._isRange = true;
                    this._spliter = '~';
                    this.returnFormat = qCondition.control && qCondition.control['returnFormat'] ? qCondition.control['returnFormat'] : "yyyy-MM";
                    this.format = qCondition.control && qCondition.control['format'] ? qCondition.control['format'] : "yyyy-MM";
                    startValue = qCondition.value['startTime'] ? qCondition.value['startTime'] : '';
                    endValue = qCondition.value['endTime'] ? qCondition.value['endTime'] : '';
                    break;
                case ControlType.SingleDateTime:
                    // 时间
                    this.showTime = true;
                    this.returnFormat = qCondition.control['returnFormat'] ? qCondition.control['returnFormat'] : this.returnFormat;
                    this.format = 'yyyy-MM-dd HH:mm:ss';
                    if (qCondition.control) {
                        if (qCondition.control['enableCustomFormat']) {
                            this.format = qCondition.control['format'] ? qCondition.control['format'] : this.returnFormat;
                        }
                        else {
                            this.format = qCondition.control && qCondition.control['format'] ? qCondition.control['format'] + ' HH:mm:ss' : this.returnFormat;
                        }
                    }
                    break;
                case ControlType.DateTimeRange:
                    // 时间区间
                    this.showTime = true;
                    this._isRange = true;
                    this._spliter = '~';
                    this.returnFormat = qCondition.control['returnFormat'] ? qCondition.control['returnFormat'] : this.returnFormat;
                    this.format = 'yyyy-MM-dd HH:mm:ss';
                    if (qCondition.control) {
                        if (qCondition.control['enableCustomFormat']) {
                            this.format = qCondition.control['format'] ? qCondition.control['format'] : this.returnFormat;
                        }
                        else {
                            this.format = qCondition.control && qCondition.control['format'] ? qCondition.control['format'] + ' HH:mm:ss' : this.returnFormat;
                        }
                    }
                    startValue = qCondition.value['startTime'] ? qCondition.value['startTime'] : '';
                    endValue = qCondition.value['endTime'] ? qCondition.value['endTime'] : '';
                    break;
                case ControlType.BoolCheck:
                    // 布尔值-单个值
                    /** @type {?} */
                    var checkValue = ((/** @type {?} */ (qCondition.value))).value;
                    textOriginalValue = checkValue.length > 0 ? checkValue['0'] : null;
                    break;
                case ControlType.DropDownList:
                    // 下拉
                    this._spliter = ',';
                    if (qCondition.control['uri'] && !qCondition.control['enumValues']) {
                        textOriginalValue = ((/** @type {?} */ (qCondition.value['value']))).map((/**
                         * @param {?} t
                         * @return {?}
                         */
                        function (t) { return t[_this.valueField]; })).join(this._spliter);
                    }
                    break;
                case ControlType.Radio:
                    // 单选组
                    this._spliter = ',';
                    break;
                case ControlType.InputGroup:
                    // inputgroup
                    textValueObj = (/** @type {?} */ (qCondition.value));
                    textOriginalValue = textValueObj.textValue && textValueObj.textValue.trim();
                    break;
                case ControlType.SmartHelp:
                    // 帮助
                    textValueObj = (/** @type {?} */ (qCondition.value));
                    textOriginalValue = textValueObj.textValue && textValueObj.textValue.trim();
                    break;
                default:
                    textOriginalValue = qCondition.value.getOriginalValue();
            }
            this.text = this.formatValue(textOriginalValue);
        }
        else {
            this.text = '';
        }
    };
    /**
     * 处理多语言，待定
     */
    /**
     * 处理多语言，待定
     * @param {?} value
     * @return {?}
     */
    SummaryConditionComponent.prototype.formatLang = /**
     * 处理多语言，待定
     * @param {?} value
     * @return {?}
     */
    function (value) {
        return value && value[this.currentLanguage] ? value[this.currentLanguage] : '';
    };
    /**
     * C货币
     * D十进制
     * F浮点数
     * N数字，带千分位
     * P百分比
     */
    /**
     * C货币
     * D十进制
     * F浮点数
     * N数字，带千分位
     * P百分比
     * @param {?} value
     * @return {?}
     */
    SummaryConditionComponent.prototype.getFormatNumberValue = /**
     * C货币
     * D十进制
     * F浮点数
     * N数字，带千分位
     * P百分比
     * @param {?} value
     * @return {?}
     */
    function (value) {
        if (!this.format && !this.numberOptions) {
            return value.toString();
        }
        if (this.numberOptions && this.numberOptions.type && this.numberOptions.type == 'number') {
            if (this.numberOptions.formatter) {
                return this.numberOptions.formatter(value);
            }
            else {
                if (this.numberOptions.useThousands) {
                    // 设置了千分位
                    if (this.numberOptions.precision != undefined) {
                        this.format = 'n' + this.numberOptions.precision;
                    }
                    else {
                        this.format = 'n';
                    }
                }
                else {
                    // 没有设置千分位
                    if (this.numberOptions.precision != undefined) {
                        this.format = 'f' + this.numberOptions.precision;
                    }
                    else {
                        // 没有设置精度，没有设置千分位
                        return value.toString();
                    }
                }
            }
        }
        else {
            return value.toString();
        }
        /** @type {?} */
        var firstLetter = this.currencyToUpperCase(this.format.substring(0, 1));
        /** @type {?} */
        var precision = Number(this.format.substring(1));
        /** @type {?} */
        var config = {};
        /** @type {?} */
        var result;
        if (!/C|D|F|N|P/g.test(firstLetter)) {
            console.warn("\u4E0D\u652F\u6301format\u4E3A " + this.format + " \u7C7B\u578B\u7684\u6570\u5B57\u683C\u5F0F\u5316");
            return;
        }
        if (this.thousand) {
            Object.assign(config, { thousand: this.thousand });
        }
        if (this.decimal) {
            Object.assign(config, { decimal: this.decimal });
        }
        if (this.expression) {
            Object.assign(config, { format: this.expression });
        }
        switch (firstLetter) {
            case 'C':
                Object.assign(config, { prefix: this.currencySymbol, precision: precision });
                result = this.numberHelper.formatMoney(value, config);
                break;
            case 'D':
                result = this.toDecimal(value, precision);
                break;
            case 'F':
                Object.assign(config, { prefix: '', thousand: '', precision: precision });
                result = this.numberHelper.formatMoney(value, config);
                break;
            case 'N':
                Object.assign(config, { prefix: '', precision: precision });
                result = this.numberHelper.formatMoney(value, config);
                break;
            case 'P':
                result = this.toPercent(value, precision);
                break;
        }
        return result;
    };
    /**
     * @param value 转换成十进制的数字
     * @param precision 十进制数字的长度
     */
    /**
     * @param {?} value 转换成十进制的数字
     * @param {?} precision 十进制数字的长度
     * @return {?}
     */
    SummaryConditionComponent.prototype.toDecimal = /**
     * @param {?} value 转换成十进制的数字
     * @param {?} precision 十进制数字的长度
     * @return {?}
     */
    function (value, precision) {
        if (value.toString().indexOf('.') > -1) {
            console.warn('十进制转换仅限整型类型');
            return;
        }
        return (Array(precision).join(this.filledSymbol) + value).slice(-precision);
    };
    /**
     * @param value 转换成百分数的数字
     * @param decimal 小数点保留几位
     */
    /**
     * @param {?} value 转换成百分数的数字
     * @param {?} precision
     * @return {?}
     */
    SummaryConditionComponent.prototype.toPercent = /**
     * @param {?} value 转换成百分数的数字
     * @param {?} precision
     * @return {?}
     */
    function (value, precision) {
        return Number(value * 100).toFixed(Number(precision)) + '%';
    };
    /**
     * 将货币符号首字母转换成大写
     */
    /**
     * 将货币符号首字母转换成大写
     * @param {?} value
     * @return {?}
     */
    SummaryConditionComponent.prototype.currencyToUpperCase = /**
     * 将货币符号首字母转换成大写
     * @param {?} value
     * @return {?}
     */
    function (value) {
        return value.replace(/[a-z]+/g, (/**
         * @param {?} word
         * @return {?}
         */
        function (word) {
            return word.toUpperCase();
        }));
    };
    /**
     * 处理年，Y=>y, D=>d
     */
    /**
     * 处理年，Y=>y, D=>d
     * @param {?} value
     * @return {?}
     */
    SummaryConditionComponent.prototype.dateToUpperCase = /**
     * 处理年，Y=>y, D=>d
     * @param {?} value
     * @return {?}
     */
    function (value) {
        /** @type {?} */
        var newFormat;
        if (/Y/g.test(value) === true) {
            newFormat = value.replace(/Y/g, 'y');
        }
        else {
            newFormat = value;
        }
        if (/D/g.test(newFormat) === true) {
            newFormat = newFormat.replace(/D/g, 'd');
        }
        return newFormat;
    };
    /**
     * 枚举类型处理
     */
    /**
     * 枚举类型处理
     * @param {?} value
     * @return {?}
     */
    SummaryConditionComponent.prototype.getFormatEnumValue = /**
     * 枚举类型处理
     * @param {?} value
     * @return {?}
     */
    function (value) {
        var _this = this;
        if (value == undefined || value === null || value === '') {
            return '';
        }
        if (this.dataSource && this.dataSource.length) {
            // 可能存在多选枚举，作为分隔符  
            // let curVals = ('' + value).split(',');
            /** @type {?} */
            var curVals_1 = ('' + value).split(this._spliter);
            /** @type {?} */
            var nameResult = [];
            var _loop_1 = function (k) {
                /** @type {?} */
                var findObj = this_1.dataSource.find((/**
                 * @param {?} item
                 * @return {?}
                 */
                function (item) {
                    return item[_this.valueField] == curVals_1[k];
                }));
                if (findObj) {
                    nameResult.push(findObj[this_1.textField]);
                }
                else {
                    nameResult.push(curVals_1[k]);
                }
            };
            var this_1 = this;
            for (var k = 0; k < curVals_1.length; k++) {
                _loop_1(k);
            }
            if (nameResult.length > 0) {
                // return nameResult.join(',');
                return nameResult.join(this._spliter);
            }
            return '';
        }
        else {
            return value;
        }
    };
    /**
     * boolean值处理
     */
    /**
     * boolean值处理
     * @param {?} value
     * @return {?}
     */
    SummaryConditionComponent.prototype.getFormatCheckBoxValue = /**
     * boolean值处理
     * @param {?} value
     * @return {?}
     */
    function (value) {
        if (value === true) {
            return this.localeService.getValue('text.yes');
        }
        else if (value === false || value == null || typeof value === 'undefined') {
            return this.localeService.getValue('text.no');
        }
        else {
            return value;
        }
    };
    /*
    * 日期格式化
    */
    /*
      * 日期格式化
      */
    /**
     * @param {?} value
     * @return {?}
     */
    SummaryConditionComponent.prototype.dateformat = /*
      * 日期格式化
      */
    /**
     * @param {?} value
     * @return {?}
     */
    function (value) {
        /** @type {?} */
        var str;
        if (!this.format) {
            this.format = 'YYYY-MM-dd';
        }
        // 当前值是已经格式化后的日期字符串
        if (this.returnFormat && typeof value == 'string') {
            value = this.getDateFromFormatedString(value, this.returnFormat);
        }
        if (this.format === 'hh:mm:ss' || this.format === 'HH:mm:ss') {
            // 格式化时间  临时处理
            str = value;
        }
        else {
            // 格式化日期
            str = this.dtHelper.formatTo(value, this.dateToUpperCase(this.format));
        }
        return str;
    };
    /**
     * @private
     * @param {?} dateString
     * @param {?} format
     * @return {?}
     */
    SummaryConditionComponent.prototype.getDateFromFormatedString = /**
     * @private
     * @param {?} dateString
     * @param {?} format
     * @return {?}
     */
    function (dateString, format) {
        /** @type {?} */
        var result = { year: 0, month: 0, day: 0, hour: 0, minite: 0, second: 0 };
        if (dateString) {
            format.replace(/y{4}|Y{4}|M+|d+|D+|h+|H+|m+|s+/g, (/**
             * @param {?} m
             * @param {?} a
             * @param {?} b
             * @param {?} c
             * @return {?}
             */
            function (m, a, b, c) {
                dateString.substring(a).replace(/\d+/, (/**
                 * @param {?} d
                 * @return {?}
                 */
                function (d) {
                    if (d) {
                        c = parseInt(d.substr(0, m.length), 10);
                    }
                }));
                if (/y+/i.test(m) && !result.year)
                    result.year = c;
                if (/M+/.test(m) && !result.month)
                    result.month = c;
                if (/d+/i.test(m) && !result.day)
                    result.day = c;
                if (/h+/i.test(m) && !result.hour)
                    result.hour = c;
                if (/m+/.test(m) && !result.minite)
                    result.minite = c;
                if (/s+/.test(m) && !result.second)
                    result.second = c;
            }));
        }
        result.day = result.day ? result.day : 1;
        result.month = result.month ? result.month : 1;
        /** @type {?} */
        var resultDate = new Date(result.year + '/' + result.month + '/' + result.day + ' ' + result.hour + ':' + result.minite + ':' + result.second);
        return resultDate;
    };
    /**
     * @param {?} date
     * @param {?} fmt
     * @return {?}
     */
    SummaryConditionComponent.prototype.function = /**
     * @param {?} date
     * @param {?} fmt
     * @return {?}
     */
    function (date, fmt) {
        /** @type {?} */
        var o = {
            'M+': date.getMonth() + 1,
            //月份
            'd+': date.getDate(),
            //日
            'h+': date.getHours(),
            //小时
            'm+': date.getMinutes(),
            //分
            's+': date.getSeconds(),
            //秒
            'q+': Math.floor((date.getMonth() + 3) / 3),
            //季度
            'S': date.getMilliseconds() //毫秒
        };
        if (!fmt) {
            fmt = 'yyyy-MM-dd hh:mm:ss';
        }
        if (/(y+)/.test(fmt)) {
            fmt = fmt.replace(RegExp.$1, (date.getFullYear() + '').substr(4 - RegExp.$1.length));
        }
        for (var k in o) {
            if (new RegExp('(' + k + ')').test(fmt)) {
                fmt = fmt.replace(RegExp.$1, (RegExp.$1.length == 1) ? (o[k]) : (('00' + o[k]).substr(('' + o[k]).length)));
            }
        }
        return fmt;
    };
    /**
     * 格式化处理
     */
    /**
     * 格式化处理
     * @param {?} value
     * @return {?}
     */
    SummaryConditionComponent.prototype.formatValue = /**
     * 格式化处理
     * @param {?} value
     * @return {?}
     */
    function (value) {
        var _this = this;
        /** @type {?} */
        var str;
        if (this.currentLanguage) {
            return this.formatLang(value);
        }
        // 标记类型
        if (this._conditionType !== ControlType.BoolCheck && (value == null || typeof value === 'undefined')) {
            return '';
        }
        switch (this._conditionType) {
            case ControlType.Text:
                str = value;
                break;
            case ControlType.DateRange:
            case ControlType.MonthRange:
            case ControlType.DateTimeRange:
                /** @type {?} */
                var dateValues = value.split(this._spliter);
                /** @type {?} */
                var dataStr_1 = [];
                if (dateValues && dateValues.length) {
                    dateValues.forEach((/**
                     * @param {?} date
                     * @return {?}
                     */
                    function (date) {
                        /** @type {?} */
                        var val = _this.dateformat(date);
                        dataStr_1.push(val);
                    }));
                }
                str = dataStr_1.join(this._spliter);
                break;
            case ControlType.SingleDate:
                if (value && value.text) {
                    str = value.text;
                }
                else {
                    str = this.dateformat(value);
                }
                break;
            case ControlType.SingleDateTime:
            case ControlType.SingleMonth:
            case ControlType.SingleYear:
                str = this.dateformat(value);
                break;
            case ControlType.SingleNumber:
                // 数字
                str = this.getFormatNumberValue(value);
                break;
            case ControlType.NumberRange:
                // 数字 区间     
                /** @type {?} */
                var numberValues = value.split(this._spliter);
                /** @type {?} */
                var resultStr_1 = [];
                if (numberValues && numberValues.length) {
                    numberValues.forEach((/**
                     * @param {?} date
                     * @return {?}
                     */
                    function (date) {
                        /** @type {?} */
                        var val = _this.getFormatNumberValue(date);
                        resultStr_1.push(val);
                    }));
                }
                str = resultStr_1.join(this._spliter);
                break;
            case ControlType.Radio:
                // 单选组
                this.dataSource = ((/** @type {?} */ (this.condition.control))).enumValues;
                str = this.getFormatEnumValue(value);
                break;
            case ControlType.DropDownList:
                // 下拉
                this.dataSource = ((/** @type {?} */ (this.condition.control))).enumValues;
                str = this.getFormatEnumValue(value);
                break;
            case ControlType.BoolCheck:
                // 布尔
                //this.dataSource = (this.condition.control as CheckBoxControl).data;
                str = this.getFormatCheckBoxValue(value);
                break;
            //帮助的话兼容旧数据，部分值为help-text-value-null的转化为空字符串
            case ControlType.SmartHelp:
                str = value === 'help-text-value-null' ? '' : value;
                break;
            case ControlType.ComboLookUp:
                str = value === 'help-text-value-null' ? '' : value;
                break;
            default:
                str = value;
        }
        return str;
    };
    SummaryConditionComponent.decorators = [
        { type: Component, args: [{
                    selector: 'lib-summary-condition',
                    template: "<span class=\"summary-condition--label\">{{condition.fieldName}}</span>:<span class=\"summary-condition--text\">{{text}}</span>",
                    styles: [""]
                }] }
    ];
    /** @nocollapse */
    SummaryConditionComponent.ctorParameters = function () { return [
        { type: DateTimeHelperService },
        { type: NumberHelperService },
        { type: Injector }
    ]; };
    SummaryConditionComponent.propDecorators = {
        condition: [{ type: Input }],
        filledSymbol: [{ type: Input }]
    };
    return SummaryConditionComponent;
}());
export { SummaryConditionComponent };
if (false) {
    /**
     * @type {?}
     * @private
     */
    SummaryConditionComponent.prototype._condition;
    /**
     * @type {?}
     * @private
     */
    SummaryConditionComponent.prototype._conditionType;
    /**
     * @type {?}
     * @private
     */
    SummaryConditionComponent.prototype._spliter;
    /**
     * @type {?}
     * @private
     */
    SummaryConditionComponent.prototype._isRange;
    /**
     * @type {?}
     * @private
     */
    SummaryConditionComponent.prototype.showTime;
    /**
     * @type {?}
     * @private
     */
    SummaryConditionComponent.prototype.textField;
    /**
     * @type {?}
     * @private
     */
    SummaryConditionComponent.prototype.valueField;
    /**
     * @type {?}
     * @private
     */
    SummaryConditionComponent.prototype.returnFormat;
    /**
     * @type {?}
     * @private
     */
    SummaryConditionComponent.prototype.format;
    /**
     * @type {?}
     * @private
     */
    SummaryConditionComponent.prototype.dataSource;
    /** @type {?} */
    SummaryConditionComponent.prototype.text;
    /**
     * @type {?}
     * @private
     */
    SummaryConditionComponent.prototype.currentLanguage;
    /**
     * @type {?}
     * @private
     */
    SummaryConditionComponent.prototype.thousand;
    /**
     * @type {?}
     * @private
     */
    SummaryConditionComponent.prototype.decimal;
    /**
     * @type {?}
     * @private
     */
    SummaryConditionComponent.prototype.expression;
    /**
     * 国际化类型
     * \@Input() localizationType: string;
     * @type {?}
     */
    SummaryConditionComponent.prototype.currencySymbol;
    /** @type {?} */
    SummaryConditionComponent.prototype.filledSymbol;
    /**
     * @type {?}
     * @private
     */
    SummaryConditionComponent.prototype.numberOptions;
    /**
     * @type {?}
     * @private
     */
    SummaryConditionComponent.prototype.localeService;
    /**
     * @type {?}
     * @private
     */
    SummaryConditionComponent.prototype.dtHelper;
    /**
     * @type {?}
     * @private
     */
    SummaryConditionComponent.prototype.numberHelper;
    /**
     * @type {?}
     * @private
     */
    SummaryConditionComponent.prototype.injector;
    /* Skipping unhandled member: ;*/
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3VtbWFyeS1jb25kaXRpb24uY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6Im5nOi8vQGdzcC1jbXAvcXVlcnlzb2x1dGlvbi8iLCJzb3VyY2VzIjpbImxpYi9zdW1tYXJ5LWNvbmRpdGlvbi9zdW1tYXJ5LWNvbmRpdGlvbi5jb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQSxPQUFPLEVBQUUsU0FBUyxFQUFVLEtBQUssRUFBRSxRQUFRLEVBQWEsTUFBTSxlQUFlLENBQUM7QUFDOUUsT0FBTyxFQUFFLGNBQWMsRUFBRSxXQUFXLEVBQW1JLE1BQU0sa0NBQWtDLENBQUM7QUFDaE4sT0FBTyxFQUFFLHFCQUFxQixFQUFFLE1BQU0sd0JBQXdCLENBQUM7QUFDL0QsT0FBTyxFQUFFLG1CQUFtQixFQUFFLE1BQU0sMEJBQTBCLENBQUM7QUFDL0QsT0FBTyxFQUFFLGFBQWEsRUFBRSxNQUFNLG1CQUFtQixDQUFDO0FBRWxEO0lBeURFLG1DQUNVLFFBQStCLEVBQy9CLFlBQWlDLEVBQ2pDLFFBQWtCO1FBRmxCLGFBQVEsR0FBUixRQUFRLENBQXVCO1FBQy9CLGlCQUFZLEdBQVosWUFBWSxDQUFxQjtRQUNqQyxhQUFRLEdBQVIsUUFBUSxDQUFVOztRQWhEcEIsYUFBUSxHQUFHLEVBQUUsQ0FBQzs7UUFFZCxhQUFRLEdBQUcsS0FBSyxDQUFDO1FBQ2pCLGFBQVEsR0FBRyxLQUFLLENBQUM7UUFDakIsY0FBUyxHQUFHLE1BQU0sQ0FBQztRQUNuQixlQUFVLEdBQUcsT0FBTyxDQUFDOztRQUVyQixpQkFBWSxHQUFHLEVBQUUsQ0FBQzs7UUFNMUIsU0FBSSxHQUFHLEVBQUUsQ0FBQzs7UUFhRixhQUFRLEdBQUcsR0FBRyxDQUFDOztRQUVmLFlBQU8sR0FBRyxHQUFHLENBQUM7O1FBRWQsZUFBVSxHQUFHLE1BQU0sQ0FBQzs7Ozs7OztRQVE1QixtQkFBYyxHQUFHLEdBQUcsQ0FBQzs7UUFFWixpQkFBWSxHQUFHLEdBQUcsQ0FBQztRQVUxQixJ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QkFBc0IsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUM7Z0JBQ3BELE1BQU07WUFFUjtnQkFDRSxHQUFHLEdBQUcsS0FBSyxDQUFDO1NBQ2Y7UUFFRCxPQUFPLEdBQUcsQ0FBQztJQUNiLENBQUM7O2dCQTNnQkYsU0FBUyxTQUFDO29CQUNULFFBQVEsRUFBRSx1QkFBdUI7b0JBQ2pDLDJJQUFpRDs7aUJBRWxEOzs7O2dCQVJRLHFCQUFxQjtnQkFDckIsbUJBQW1CO2dCQUhPLFFBQVE7Ozs0QkFpQ3hDLEtBQUs7K0JBeUJMLEtBQUs7O0lBd2RSLGdDQUFDO0NBQUEsQUE1Z0JELElBNGdCQztTQXZnQlkseUJBQXlCOzs7Ozs7SUFHcEMsK0NBQW1DOzs7OztJQUVuQyxtREFBdUI7Ozs7O0lBRXZCLDZDQUFzQjs7Ozs7SUFFdEIsNkNBQXlCOzs7OztJQUN6Qiw2Q0FBeUI7Ozs7O0lBQ3pCLDhDQUEyQjs7Ozs7SUFDM0IsK0NBQTZCOzs7OztJQUU3QixpREFBMEI7Ozs7O0lBRTFCLDJDQUFvQjs7Ozs7SUFFcEIsK0NBQW1COztJQUVuQix5Q0FBVTs7Ozs7SUFXVixvREFBZ0M7Ozs7O0lBRWhDLDZDQUF1Qjs7Ozs7SUFFdkIsNENBQXNCOzs7OztJQUV0QiwrQ0FBNEI7Ozs7OztJQVE1QixtREFBcUI7O0lBRXJCLGlEQUE0Qjs7Ozs7SUFFNUIsa0RBQXNCOzs7OztJQUV0QixrREFBMkI7Ozs7O0lBRXpCLDZDQUF1Qzs7Ozs7SUFDdkMsaURBQXlDOzs7OztJQUN6Qyw2Q0FBMEIiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb21wb25lbnQsIE9uSW5pdCwgSW5wdXQsIEluamVjdG9yLCBPbkRlc3Ryb3kgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuaW1wb3J0IHsgUXVlcnlDb25kaXRpb24sIENvbnRyb2xUeXBlLCBUZXh0VmFsdWUsIERyb3BEb3duTGlzdENvbnRyb2wsIElucHV0R3JvdXBWYWx1ZSwgU21hcnRIZWxwVmFsdWUsIE51bWJlclJhbmdlVmFsdWUsIFJhZGlvQ29udHJvbCwgQ2hlY2tCb3hDb250cm9sLCBDaGVja0JveFZhbHVlIH0gZnJvbSAnQGZhcnJpcy9jb21wb25lbnQtcXVlcnljb25kaXRpb24nO1xyXG5pbXBvcnQgeyBEYXRlVGltZUhlbHBlclNlcnZpY2UgfSBmcm9tICdAZmFycmlzL3VpLWNvbW1vbi9kYXRlJztcclxuaW1wb3J0IHsgTnVtYmVySGVscGVyU2VydmljZSB9IGZyb20gJ0BmYXJyaXMvdWktY29tbW9uL251bWJlcic7XHJcbmltcG9ydCB7IExvY2FsZVNlcnZpY2UgfSBmcm9tICdAZmFycmlzL3VpLWxvY2FsZSc7XHJcblxyXG5AQ29tcG9uZW50KHtcclxuICBzZWxlY3RvcjogJ2xpYi1zdW1tYXJ5LWNvbmRpdGlvbicsXHJcbiAgdGVtcGxhdGVVcmw6ICcuL3N1bW1hcnktY29uZGl0aW9uLmNvbXBvbmVudC5odG1sJyxcclxuICBzdHlsZVVybHM6IFsnLi9zdW1tYXJ5LWNvbmRpdGlvbi5jb21wb25lbnQuY3NzJ11cclxufSlcclxuZXhwb3J0IGNsYXNzIFN1bW1hcnlDb25kaXRpb25Db21wb25lbnQgaW1wbGVtZW50cyBPbkluaXQge1xyXG5cclxuXHJcbiAgcHJpdmF0ZSBfY29uZGl0aW9uOiBRdWVyeUNvbmRpdGlvbjtcclxuICAvLyDlvZPliY1jb250cm9sVHlwZVxyXG4gIHByaXZhdGUgX2NvbmRpdGlvblR5cGU7XHJcbiAgLy8g5YiG6ZqU56ymXHJcbiAgcHJpdmF0ZSBfc3BsaXRlciA9ICcnO1xyXG4gIC8vIOaYr+WQpuWMuumXtFxyXG4gIHByaXZhdGUgX2lzUmFuZ2UgPSBmYWxzZTtcclxuICBwcml2YXRlIHNob3dUaW1lID0gZmFsc2U7XHJcbiAgcHJpdmF0ZSB0ZXh0RmllbGQgPSAnbmFtZSc7XHJcbiAgcHJpdmF0ZSB2YWx1ZUZpZWxkID0gJ3ZhbHVlJztcclxuICAvLyDku47mnI3liqHlmajnq6/lj5blgLzmmK/moLzlvI/ljJblkI7nmoRcclxuICBwcml2YXRlIHJldHVybkZvcm1hdCA9ICcnO1xyXG4gIC8vIOmcgOimgei9rOWMluexu+Wei+agvOW8j+eahOihqOi+vuW8j1xyXG4gIHByaXZhdGUgZm9ybWF0OiBhbnk7XHJcbiAgLy8g6L2s5o2i57G75Z6L55So5Yiw55qE5pWw5o2uXHJcbiAgcHJpdmF0ZSBkYXRhU291cmNlO1xyXG4gIC8vIOaWh+acrOaYvuekulxyXG4gIHRleHQgPSBcIlwiO1xyXG5cclxuICBASW5wdXQoKVxyXG4gIHNldCBjb25kaXRpb24ocUNvbmRpdGlvbikge1xyXG4gICAgdGhpcy5fY29uZGl0aW9uID0gcUNvbmRpdGlvbjtcclxuICAgIHRoaXMuZm9ybWF0Q29uZGl0aW9uKCk7XHJcbiAgfVxyXG4gIGdldCBjb25kaXRpb24oKTogUXVlcnlDb25kaXRpb24ge1xyXG4gICAgcmV0dXJuIHRoaXMuX2NvbmRpdGlvbjtcclxuICB9O1xyXG4gIC8vIOWkmuivreiogFxyXG4gIHByaXZhdGUgY3VycmVudExhbmd1YWdlOiBzdHJpbmc7XHJcbiAgLy8g5Y2D5YiG5L2N56ym5Y+3XHJcbiAgcHJpdmF0ZSB0aG91c2FuZCA9ICcsJztcclxuICAvLyDlsI/mlbDngrnlpITnrKblj7dcclxuICBwcml2YXRlIGRlY2ltYWwgPSAnLic7XHJcbiAgLy8g6LSn5biB56ym5Y+35Y+K5YC85bGV546w5b2i5byPXHJcbiAgcHJpdmF0ZSBleHByZXNzaW9uID0gJyVzJXYnO1xyXG5cclxuICAvLyBmb3JtQ29udHJvbOaYvuekuueahOaWh+acrFxyXG4gIC8qKlxyXG4gICAqIOWbvemZheWMluexu+Wei1xyXG4gICBcclxuICBASW5wdXQoKSBsb2NhbGl6YXRpb25UeXBlOiBzdHJpbmc7Ki9cclxuICAvLyDotKfluIHnrKblj7fvvIzpu5jorqTmmK9STUJcclxuICBjdXJyZW5jeVN5bWJvbCA9ICfvv6UnO1xyXG4gIC8vIOWNgei/m+WItuWJjemdouWhq+WFheeahOespuWPt1xyXG4gIEBJbnB1dCgpIGZpbGxlZFN5bWJvbCA9ICcwJztcclxuICAvL+aVsOWAvOagvOW8j+WPguaVsFxyXG4gIHByaXZhdGUgbnVtYmVyT3B0aW9ucztcclxuXHJcbiAgcHJpdmF0ZSBsb2NhbGVTZXJ2aWNlOiBhbnk7XHJcbiAgY29uc3RydWN0b3IoXHJcbiAgICBwcml2YXRlIGR0SGVscGVyOiBEYXRlVGltZUhlbHBlclNlcnZpY2UsXHJcbiAgICBwcml2YXRlIG51bWJlckhlbHBlcjogTnVtYmVySGVscGVyU2VydmljZSxcclxuICAgIHByaXZhdGUgaW5qZWN0b3I6IEluamVjdG9yXHJcbiAgKSB7XHJcbiAgICB0aGlzLmxvY2FsZVNlcnZpY2UgPSB0aGlzLmluamVjdG9yLmdldChMb2NhbGVTZXJ2aWNlKTtcclxuICB9XHJcblxyXG4gIG5nT25Jbml0KCkge1xyXG5cclxuICB9XHJcblxyXG4gIGZvcm1hdENvbmRpdGlvbigpIHtcclxuICAgIGxldCBxQ29uZGl0aW9uID0gdGhpcy5jb25kaXRpb247XHJcbiAgICBpZiAocUNvbmRpdGlvbikge1xyXG4gICAgICB0aGlzLl9jb25kaXRpb25UeXBlID0gcUNvbmRpdGlvbi5jb250cm9sLmdldENvbnRyb2xUeXBlKCk7XHJcbiAgICAgIGxldCB0ZXh0VmFsdWVPYmo7XHJcbiAgICAgIGxldCB0ZXh0T3JpZ2luYWxWYWx1ZSA9IHFDb25kaXRpb24udmFsdWUuZ2V0T3JpZ2luYWxWYWx1ZSgpO1xyXG4gICAgICBsZXQgc3RhcnRWYWx1ZTtcclxuICAgICAgbGV0IGVuZFZhbHVlO1xyXG4gICAgICBzd2l0Y2ggKHRoaXMuX2NvbmRpdGlvblR5cGUpIHtcclxuICAgICAgICBjYXNlIENvbnRyb2xUeXBlLlRleHQ6XHJcbiAgICAgICAgICAvL+aWh+acrFxyXG4gICAgICAgICAgdGV4dFZhbHVlT2JqID0gcUNvbmRpdGlvbi52YWx1ZSBhcyBUZXh0VmFsdWU7XHJcbiAgICAgICAgICB0ZXh0T3JpZ2luYWxWYWx1ZSA9IHRleHRWYWx1ZU9iai52YWx1ZSAmJiB0ZXh0VmFsdWVPYmoudmFsdWUudHJpbSgpO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSBDb250cm9sVHlwZS5TaW5nbGVOdW1iZXI6XHJcbiAgICAgICAgICAvLyDmlbDlgLxcclxuICAgICAgICAgIHRoaXMubnVtYmVyT3B0aW9ucyA9IHsgcHJlY2lzaW9uOiBxQ29uZGl0aW9uLmNvbnRyb2xbJ3ByZWNpc2lvbiddLCB0eXBlOiAnbnVtYmVyJyB9XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlIENvbnRyb2xUeXBlLk51bWJlclJhbmdlOlxyXG4gICAgICAgICAgLy8g5pWw5YC85Yy66Ze0XHJcbiAgICAgICAgICB0aGlzLl9pc1JhbmdlID0gdHJ1ZTtcclxuICAgICAgICAgIHRoaXMuX3NwbGl0ZXIgPSAnfic7XHJcbiAgICAgICAgICB0aGlzLm51bWJlck9wdGlvbnMgPSB7IHByZWNpc2lvbjogcUNvbmRpdGlvbi5jb250cm9sWydwcmVjaXNpb24nXSwgdHlwZTogJ251bWJlcicgfTtcclxuICAgICAgICAgIHN0YXJ0VmFsdWUgPSBxQ29uZGl0aW9uLnZhbHVlWydzdGFydFZhbHVlJ10gPyBxQ29uZGl0aW9uLnZhbHVlWydzdGFydFZhbHVlJ10gOiAnJztcclxuICAgICAgICAgIGVuZFZhbHVlID0gcUNvbmRpdGlvbi52YWx1ZVsnZW5kVmFsdWUnXSA/IHFDb25kaXRpb24udmFsdWVbJ2VuZFZhbHVlJ10gOiAnJztcclxuICAgICAgICAgIHRleHRPcmlnaW5hbFZhbHVlID0gW3N0YXJ0VmFsdWUsIGVuZFZhbHVlXS5qb2luKHRoaXMuX3NwbGl0ZXIpO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSBDb250cm9sVHlwZS5TaW5nbGVEYXRlOlxyXG4gICAgICAgICAgLy/ljZXkuKrml6XmnJ9cclxuICAgICAgICAgIHRoaXMucmV0dXJuRm9ybWF0ID0gcUNvbmRpdGlvbi5jb250cm9sICYmIHFDb25kaXRpb24uY29udHJvbFsncmV0dXJuRm9ybWF0J10gPyBxQ29uZGl0aW9uLmNvbnRyb2xbJ3JldHVybkZvcm1hdCddIDogXCJ5eXl5LU1NLWRkXCI7XHJcbiAgICAgICAgICB0aGlzLmZvcm1hdCA9IHFDb25kaXRpb24uY29udHJvbCAmJiBxQ29uZGl0aW9uLmNvbnRyb2xbJ2Zvcm1hdCddID8gcUNvbmRpdGlvbi5jb250cm9sWydmb3JtYXQnXSA6IFwieXl5eS1NTS1kZFwiO1xyXG4gICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgIGNhc2UgQ29udHJvbFR5cGUuRGF0ZVJhbmdlOlxyXG4gICAgICAgICAgLy/ml6XmnJ/ljLrpl7RcclxuICAgICAgICAgIHRoaXMuX2lzUmFuZ2UgPSB0cnVlO1xyXG4gICAgICAgICAgdGhpcy5fc3BsaXRlciA9ICd+JztcclxuICAgICAgICAgIHRoaXMucmV0dXJuRm9ybWF0ID0gcUNvbmRpdGlvbi5jb250cm9sICYmIHFDb25kaXRpb24uY29udHJvbFsncmV0dXJuRm9ybWF0J10gPyBxQ29uZGl0aW9uLmNvbnRyb2xbJ3JldHVybkZvcm1hdCddIDogXCJ5eXl5LU1NLWRkXCI7XHJcbiAgICAgICAgICB0aGlzLmZvcm1hdCA9IHFDb25kaXRpb24uY29udHJvbCAmJiBxQ29uZGl0aW9uLmNvbnRyb2xbJ2Zvcm1hdCddID8gcUNvbmRpdGlvbi5jb250cm9sWydmb3JtYXQnXSA6IFwieXl5eS1NTS1kZFwiO1xyXG5cclxuICAgICAgICAgIHN0YXJ0VmFsdWUgPSBxQ29uZGl0aW9uLnZhbHVlWydzdGFydFRpbWUnXSA/IHFDb25kaXRpb24udmFsdWVbJ3N0YXJ0VGltZSddIDogJyc7XHJcbiAgICAgICAgICBlbmRWYWx1ZSA9IHFDb25kaXRpb24udmFsdWVbJ2VuZFRpbWUnXSA/IHFDb25kaXRpb24udmFsdWVbJ2VuZFRpbWUnXSA6ICcnO1xyXG4gICAgICAgICAgdGV4dE9yaWdpbmFsVmFsdWUgPSBbc3RhcnRWYWx1ZSwgZW5kVmFsdWVdLmpvaW4odGhpcy5fc3BsaXRlcik7XHJcbiAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgY2FzZSBDb250cm9sVHlwZS5TaW5nbGVZZWFyOlxyXG4gICAgICAgICAgLy8g5Y+q5pyJ5bm0XHJcbiAgICAgICAgICB0aGlzLnJldHVybkZvcm1hdCA9IHFDb25kaXRpb24uY29udHJvbCAmJiBxQ29uZGl0aW9uLmNvbnRyb2xbJ3JldHVybkZvcm1hdCddID8gcUNvbmRpdGlvbi5jb250cm9sWydyZXR1cm5Gb3JtYXQnXSA6IFwieXl5eVwiO1xyXG4gICAgICAgICAgdGhpcy5mb3JtYXQgPSBxQ29uZGl0aW9uLmNvbnRyb2wgJiYgcUNvbmRpdGlvbi5jb250cm9sWydmb3JtYXQnXSA/IHFDb25kaXRpb24uY29udHJvbFsnZm9ybWF0J10gOiBcInl5eXlcIjtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgQ29udHJvbFR5cGUuU2luZ2xlTW9udGg6XHJcbiAgICAgICAgICAvLyDlj6rmnInmnIhcclxuICAgICAgICAgIHRoaXMucmV0dXJuRm9ybWF0ID0gcUNvbmRpdGlvbi5jb250cm9sICYmIHFDb25kaXRpb24uY29udHJvbFsncmV0dXJuRm9ybWF0J10gPyBxQ29uZGl0aW9uLmNvbnRyb2xbJ3JldHVybkZvcm1hdCddIDogXCJ5eXl5LU1NXCI7XHJcbiAgICAgICAgICB0aGlzLmZvcm1hdCA9IHFDb25kaXRpb24uY29udHJvbCAmJiBxQ29uZGl0aW9uLmNvbnRyb2xbJ2Zvcm1hdCddID8gcUNvbmRpdGlvbi5jb250cm9sWydmb3JtYXQnXSA6IFwieXl5eS1NTVwiO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSBDb250cm9sVHlwZS5Nb250aFJhbmdlOlxyXG4gICAgICAgICAgLy8g5pyI6IyD5Zu0XHJcbiAgICAgICAgICB0aGlzLl9pc1JhbmdlID0gdHJ1ZTtcclxuICAgICAgICAgIHRoaXMuX3NwbGl0ZXIgPSAnfic7XHJcbiAgICAgICAgICB0aGlzLnJldHVybkZvcm1hdCA9IHFDb25kaXRpb24uY29udHJvbCAmJiBxQ29uZGl0aW9uLmNvbnRyb2xbJ3JldHVybkZvcm1hdCddID8gcUNvbmRpdGlvbi5jb250cm9sWydyZXR1cm5Gb3JtYXQnXSA6IFwieXl5eS1NTVwiO1xyXG4gICAgICAgICAgdGhpcy5mb3JtYXQgPSBxQ29uZGl0aW9uLmNvbnRyb2wgJiYgcUNvbmRpdGlvbi5jb250cm9sWydmb3JtYXQnXSA/IHFDb25kaXRpb24uY29udHJvbFsnZm9ybWF0J10gOiBcInl5eXktTU1cIjtcclxuICAgICAgICAgIHN0YXJ0VmFsdWUgPSBxQ29uZGl0aW9uLnZhbHVlWydzdGFydFRpbWUnXSA/IHFDb25kaXRpb24udmFsdWVbJ3N0YXJ0VGltZSddIDogJyc7XHJcbiAgICAgICAgICBlbmRWYWx1ZSA9IHFDb25kaXRpb24udmFsdWVbJ2VuZFRpbWUnXSA/IHFDb25kaXRpb24udmFsdWVbJ2VuZFRpbWUnXSA6ICcnO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSBDb250cm9sVHlwZS5TaW5nbGVEYXRlVGltZTpcclxuICAgICAgICAgIC8vIOaXtumXtFxyXG4gICAgICAgICAgdGhpcy5zaG93VGltZSA9IHRydWU7XHJcbiAgICAgICAgICB0aGlzLnJldHVybkZvcm1hdCA9IHFDb25kaXRpb24uY29udHJvbFsncmV0dXJuRm9ybWF0J10gPyBxQ29uZGl0aW9uLmNvbnRyb2xbJ3JldHVybkZvcm1hdCddIDogdGhpcy5yZXR1cm5Gb3JtYXQ7XHJcbiAgICAgICAgICB0aGlzLmZvcm1hdCA9ICd5eXl5LU1NLWRkIEhIOm1tOnNzJztcclxuICAgICAgICAgIGlmKHFDb25kaXRpb24uY29udHJvbCkge1xyXG4gICAgICAgICAgICBpZihxQ29uZGl0aW9uLmNvbnRyb2xbJ2VuYWJsZUN1c3RvbUZvcm1hdCddKSB7XHJcbiAgICAgICAgICAgICAgdGhpcy5mb3JtYXQgPSBxQ29uZGl0aW9uLmNvbnRyb2xbJ2Zvcm1hdCddID8gcUNvbmRpdGlvbi5jb250cm9sWydmb3JtYXQnXSA6IHRoaXMucmV0dXJuRm9ybWF0O1xyXG4gICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICB0aGlzLmZvcm1hdCA9IHFDb25kaXRpb24uY29udHJvbCAmJiBxQ29uZGl0aW9uLmNvbnRyb2xbJ2Zvcm1hdCddID8gcUNvbmRpdGlvbi5jb250cm9sWydmb3JtYXQnXSArICcgSEg6bW06c3MnIDogdGhpcy5yZXR1cm5Gb3JtYXQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0gICAgICAgICBcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgQ29udHJvbFR5cGUuRGF0ZVRpbWVSYW5nZTpcclxuICAgICAgICAgIC8vIOaXtumXtOWMuumXtFxyXG4gICAgICAgICAgdGhpcy5zaG93VGltZSA9IHRydWU7XHJcbiAgICAgICAgICB0aGlzLl9pc1JhbmdlID0gdHJ1ZTtcclxuICAgICAgICAgIHRoaXMuX3NwbGl0ZXIgPSAnfic7XHJcbiAgICAgICAgICB0aGlzLnJldHVybkZvcm1hdCA9IHFDb25kaXRpb24uY29udHJvbFsncmV0dXJuRm9ybWF0J10gPyBxQ29uZGl0aW9uLmNvbnRyb2xbJ3JldHVybkZvcm1hdCddIDogdGhpcy5yZXR1cm5Gb3JtYXQ7XHJcbiAgICAgICAgICB0aGlzLmZvcm1hdCA9ICd5eXl5LU1NLWRkIEhIOm1tOnNzJztcclxuICAgICAgICAgIGlmKHFDb25kaXRpb24uY29udHJvbCkge1xyXG4gICAgICAgICAgICBpZihxQ29uZGl0aW9uLmNvbnRyb2xbJ2VuYWJsZUN1c3RvbUZvcm1hdCddKSB7XHJcbiAgICAgICAgICAgICAgdGhpcy5mb3JtYXQgPSBxQ29uZGl0aW9uLmNvbnRyb2xbJ2Zvcm1hdCddID8gcUNvbmRpdGlvbi5jb250cm9sWydmb3JtYXQnXSA6IHRoaXMucmV0dXJuRm9ybWF0O1xyXG4gICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICB0aGlzLmZvcm1hdCA9IHFDb25kaXRpb24uY29udHJvbCAmJiBxQ29uZGl0aW9uLmNvbnRyb2xbJ2Zvcm1hdCddID8gcUNvbmRpdGlvbi5jb250cm9sWydmb3JtYXQnXSArICcgSEg6bW06c3MnIDogdGhpcy5yZXR1cm5Gb3JtYXQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICAgIHN0YXJ0VmFsdWUgPSBxQ29uZGl0aW9uLnZhbHVlWydzdGFydFRpbWUnXSA/IHFDb25kaXRpb24udmFsdWVbJ3N0YXJ0VGltZSddIDogJyc7XHJcbiAgICAgICAgICBlbmRWYWx1ZSA9IHFDb25kaXRpb24udmFsdWVbJ2VuZFRpbWUnXSA/IHFDb25kaXRpb24udmFsdWVbJ2VuZFRpbWUnXSA6ICcnO1xyXG4gICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgIGNhc2UgQ29udHJvbFR5cGUuQm9vbENoZWNrOlxyXG4gICAgICAgICAgLy8g5biD5bCU5YC8LeWNleS4quWAvFxyXG4gICAgICAgICAgbGV0IGNoZWNrVmFsdWUgPSAocUNvbmRpdGlvbi52YWx1ZSBhcyBDaGVja0JveFZhbHVlKS52YWx1ZTtcclxuICAgICAgICAgIHRleHRPcmlnaW5hbFZhbHVlID0gY2hlY2tWYWx1ZS5sZW5ndGggPiAwID8gY2hlY2tWYWx1ZVsnMCddIDogbnVsbDtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgQ29udHJvbFR5cGUuRHJvcERvd25MaXN0OlxyXG4gICAgICAgICAgLy8g5LiL5ouJXHJcbiAgICAgICAgICB0aGlzLl9zcGxpdGVyID0gJywnO1xyXG4gICAgICAgICAgaWYocUNvbmRpdGlvbi5jb250cm9sWyd1cmknXSAmJiAhcUNvbmRpdGlvbi5jb250cm9sWydlbnVtVmFsdWVzJ10pIHtcclxuICAgICAgICAgICAgdGV4dE9yaWdpbmFsVmFsdWUgPSAocUNvbmRpdGlvbi52YWx1ZVsndmFsdWUnXSBhcyBBcnJheTxhbnk+KS5tYXAodCA9PiB0W3RoaXMudmFsdWVGaWVsZF0pLmpvaW4odGhpcy5fc3BsaXRlcik7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlIENvbnRyb2xUeXBlLlJhZGlvOlxyXG4gICAgICAgICAgLy8g5Y2V6YCJ57uEXHJcbiAgICAgICAgICB0aGlzLl9zcGxpdGVyID0gJywnO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSBDb250cm9sVHlwZS5JbnB1dEdyb3VwOlxyXG4gICAgICAgICAgLy8gaW5wdXRncm91cFxyXG4gICAgICAgICAgdGV4dFZhbHVlT2JqID0gcUNvbmRpdGlvbi52YWx1ZSBhcyBJbnB1dEdyb3VwVmFsdWU7XHJcbiAgICAgICAgICB0ZXh0T3JpZ2luYWxWYWx1ZSA9IHRleHRWYWx1ZU9iai50ZXh0VmFsdWUgJiYgdGV4dFZhbHVlT2JqLnRleHRWYWx1ZS50cmltKCk7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlIENvbnRyb2xUeXBlLlNtYXJ0SGVscDpcclxuICAgICAgICAgIC8vIOW4ruWKqVxyXG4gICAgICAgICAgdGV4dFZhbHVlT2JqID0gcUNvbmRpdGlvbi52YWx1ZSBhcyBTbWFydEhlbHBWYWx1ZTtcclxuICAgICAgICAgIHRleHRPcmlnaW5hbFZhbHVlID0gdGV4dFZhbHVlT2JqLnRleHRWYWx1ZSAmJiB0ZXh0VmFsdWVPYmoudGV4dFZhbHVlLnRyaW0oKTtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICB0ZXh0T3JpZ2luYWxWYWx1ZSA9IHFDb25kaXRpb24udmFsdWUuZ2V0T3JpZ2luYWxWYWx1ZSgpO1xyXG4gICAgICB9XHJcbiAgICAgIHRoaXMudGV4dCA9IHRoaXMuZm9ybWF0VmFsdWUodGV4dE9yaWdpbmFsVmFsdWUpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy50ZXh0ID0gJyc7XHJcbiAgICB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIOWkhOeQhuWkmuivreiogO+8jOW+heWumlxyXG4gICAqL1xyXG4gIGZvcm1hdExhbmcodmFsdWU6IGFueSkge1xyXG4gICAgcmV0dXJuIHZhbHVlICYmIHZhbHVlW3RoaXMuY3VycmVudExhbmd1YWdlXSA/IHZhbHVlW3RoaXMuY3VycmVudExhbmd1YWdlXSA6ICcnO1xyXG4gIH1cclxuICAvKipcclxuICAgKiBD6LSn5biBXHJcbiAgICogROWNgei/m+WItlxyXG4gICAqIEbmta7ngrnmlbBcclxuICAgKiBO5pWw5a2X77yM5bim5Y2D5YiG5L2NXHJcbiAgICogUOeZvuWIhuavlFxyXG4gICAqL1xyXG4gIGdldEZvcm1hdE51bWJlclZhbHVlKHZhbHVlOiBhbnkpIHtcclxuICAgIGlmICghdGhpcy5mb3JtYXQgJiYgIXRoaXMubnVtYmVyT3B0aW9ucykge1xyXG4gICAgICByZXR1cm4gdmFsdWUudG9TdHJpbmcoKTtcclxuICAgIH1cclxuICAgIGlmICh0aGlzLm51bWJlck9wdGlvbnMgJiYgdGhpcy5udW1iZXJPcHRpb25zLnR5cGUgJiYgdGhpcy5udW1iZXJPcHRpb25zLnR5cGUgPT0gJ251bWJlcicpIHtcclxuICAgICAgaWYgKHRoaXMubnVtYmVyT3B0aW9ucy5mb3JtYXR0ZXIpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5udW1iZXJPcHRpb25zLmZvcm1hdHRlcih2YWx1ZSk7XHJcbiAgICAgIH1cclxuICAgICAgZWxzZSB7XHJcbiAgICAgICAgaWYgKHRoaXMubnVtYmVyT3B0aW9ucy51c2VUaG91c2FuZHMpIHtcclxuICAgICAgICAgIC8vIOiuvue9ruS6huWNg+WIhuS9jVxyXG4gICAgICAgICAgaWYgKHRoaXMubnVtYmVyT3B0aW9ucy5wcmVjaXNpb24gIT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZm9ybWF0ID0gJ24nICsgdGhpcy5udW1iZXJPcHRpb25zLnByZWNpc2lvbjtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmZvcm1hdCA9ICduJztcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAvLyDmsqHmnInorr7nva7ljYPliIbkvY1cclxuICAgICAgICAgIGlmICh0aGlzLm51bWJlck9wdGlvbnMucHJlY2lzaW9uICE9IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICB0aGlzLmZvcm1hdCA9ICdmJyArIHRoaXMubnVtYmVyT3B0aW9ucy5wcmVjaXNpb247XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgLy8g5rKh5pyJ6K6+572u57K+5bqm77yM5rKh5pyJ6K6+572u5Y2D5YiG5L2NXHJcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZS50b1N0cmluZygpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfWVsc2V7XHJcbiAgICAgIHJldHVybiB2YWx1ZS50b1N0cmluZygpO1xyXG4gICAgfVxyXG4gICAgY29uc3QgZmlyc3RMZXR0ZXIgPSB0aGlzLmN1cnJlbmN5VG9VcHBlckNhc2UodGhpcy5mb3JtYXQuc3Vic3RyaW5nKDAsIDEpKTtcclxuICAgIGNvbnN0IHByZWNpc2lvbiA9IE51bWJlcih0aGlzLmZvcm1hdC5zdWJzdHJpbmcoMSkpO1xyXG4gICAgbGV0IGNvbmZpZyA9IHt9O1xyXG4gICAgbGV0IHJlc3VsdDogYW55O1xyXG4gICAgaWYgKCEvQ3xEfEZ8TnxQL2cudGVzdChmaXJzdExldHRlcikpIHtcclxuICAgICAgY29uc29sZS53YXJuKGDkuI3mlK/mjIFmb3JtYXTkuLogJHt0aGlzLmZvcm1hdH0g57G75Z6L55qE5pWw5a2X5qC85byP5YyWYCk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGlmICh0aGlzLnRob3VzYW5kKSB7XHJcbiAgICAgIE9iamVjdC5hc3NpZ24oY29uZmlnLCB7IHRob3VzYW5kOiB0aGlzLnRob3VzYW5kIH0pO1xyXG4gICAgfVxyXG4gICAgaWYgKHRoaXMuZGVjaW1hbCkge1xyXG4gICAgICBPYmplY3QuYXNzaWduKGNvbmZpZywgeyBkZWNpbWFsOiB0aGlzLmRlY2ltYWwgfSk7XHJcbiAgICB9XHJcbiAgICBpZiAodGhpcy5leHByZXNzaW9uKSB7XHJcbiAgICAgIE9iamVjdC5hc3NpZ24oY29uZmlnLCB7IGZvcm1hdDogdGhpcy5leHByZXNzaW9uIH0pO1xyXG4gICAgfVxyXG4gICAgc3dpdGNoIChmaXJzdExldHRlcikge1xyXG4gICAgICBjYXNlICdDJzpcclxuICAgICAgICBPYmplY3QuYXNzaWduKGNvbmZpZywgeyBwcmVmaXg6IHRoaXMuY3VycmVuY3lTeW1ib2wsIHByZWNpc2lvbiB9KTtcclxuICAgICAgICByZXN1bHQgPSB0aGlzLm51bWJlckhlbHBlci5mb3JtYXRNb25leSh2YWx1ZSwgY29uZmlnKTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSAnRCc6XHJcbiAgICAgICAgcmVzdWx0ID0gdGhpcy50b0RlY2ltYWwodmFsdWUsIHByZWNpc2lvbik7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgJ0YnOlxyXG4gICAgICAgIE9iamVjdC5hc3NpZ24oY29uZmlnLCB7IHByZWZpeDogJycsIHRob3VzYW5kOiAnJywgcHJlY2lzaW9uIH0pO1xyXG4gICAgICAgIHJlc3VsdCA9IHRoaXMubnVtYmVySGVscGVyLmZvcm1hdE1vbmV5KHZhbHVlLCBjb25maWcpO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlICdOJzpcclxuICAgICAgICBPYmplY3QuYXNzaWduKGNvbmZpZywgeyBwcmVmaXg6ICcnLCBwcmVjaXNpb24gfSk7XHJcbiAgICAgICAgcmVzdWx0ID0gdGhpcy5udW1iZXJIZWxwZXIuZm9ybWF0TW9uZXkodmFsdWUsIGNvbmZpZyk7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgJ1AnOlxyXG4gICAgICAgIHJlc3VsdCA9IHRoaXMudG9QZXJjZW50KHZhbHVlLCBwcmVjaXNpb24pO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxuICB9XHJcbiAgLyoqXHJcbiAgICogQHBhcmFtIHZhbHVlIOi9rOaNouaIkOWNgei/m+WItueahOaVsOWtl1xyXG4gICAqIEBwYXJhbSBwcmVjaXNpb24g5Y2B6L+b5Yi25pWw5a2X55qE6ZW/5bqmXHJcbiAgICovXHJcbiAgdG9EZWNpbWFsKHZhbHVlOiBhbnksIHByZWNpc2lvbjogYW55KSB7XHJcbiAgICBpZiAodmFsdWUudG9TdHJpbmcoKS5pbmRleE9mKCcuJykgPiAtMSkge1xyXG4gICAgICBjb25zb2xlLndhcm4oJ+WNgei/m+WItui9rOaNouS7hemZkOaVtOWei+exu+WeiycpO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICByZXR1cm4gKEFycmF5KHByZWNpc2lvbikuam9pbih0aGlzLmZpbGxlZFN5bWJvbCkgKyB2YWx1ZSkuc2xpY2UoLXByZWNpc2lvbik7XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEBwYXJhbSB2YWx1ZSDovazmjaLmiJDnmb7liIbmlbDnmoTmlbDlrZdcclxuICAgKiBAcGFyYW0gZGVjaW1hbCDlsI/mlbDngrnkv53nlZnlh6DkvY1cclxuICAgKi9cclxuICB0b1BlcmNlbnQodmFsdWU6IGFueSwgcHJlY2lzaW9uOiBhbnkpIHtcclxuICAgIHJldHVybiBOdW1iZXIodmFsdWUgKiAxMDApLnRvRml4ZWQoTnVtYmVyKHByZWNpc2lvbikpICsgJyUnO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICog5bCG6LSn5biB56ym5Y+36aaW5a2X5q+N6L2s5o2i5oiQ5aSn5YaZXHJcbiAgICovXHJcbiAgY3VycmVuY3lUb1VwcGVyQ2FzZSh2YWx1ZTogYW55KSB7XHJcbiAgICByZXR1cm4gdmFsdWUucmVwbGFjZSgvW2Etel0rL2csICh3b3JkOiBhbnkpID0+IHtcclxuICAgICAgcmV0dXJuIHdvcmQudG9VcHBlckNhc2UoKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICog5aSE55CG5bm077yMWT0+eSwgRD0+ZFxyXG4gICAqL1xyXG4gIGRhdGVUb1VwcGVyQ2FzZSh2YWx1ZTogYW55KSB7XHJcbiAgICBsZXQgbmV3Rm9ybWF0OiBhbnk7XHJcbiAgICBpZiAoL1kvZy50ZXN0KHZhbHVlKSA9PT0gdHJ1ZSkge1xyXG4gICAgICBuZXdGb3JtYXQgPSB2YWx1ZS5yZXBsYWNlKC9ZL2csICd5Jyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBuZXdGb3JtYXQgPSB2YWx1ZTtcclxuICAgIH1cclxuICAgIGlmICgvRC9nLnRlc3QobmV3Rm9ybWF0KSA9PT0gdHJ1ZSkge1xyXG4gICAgICBuZXdGb3JtYXQgPSBuZXdGb3JtYXQucmVwbGFjZSgvRC9nLCAnZCcpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBuZXdGb3JtYXQ7XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIOaemuS4vuexu+Wei+WkhOeQhlxyXG4gICAqL1xyXG4gIGdldEZvcm1hdEVudW1WYWx1ZSh2YWx1ZTogYW55KSB7XHJcbiAgICBpZiAodmFsdWUgPT0gdW5kZWZpbmVkIHx8IHZhbHVlID09PSBudWxsIHx8IHZhbHVlID09PSAnJykge1xyXG4gICAgICByZXR1cm4gJyc7XHJcbiAgICB9XHJcbiAgICBpZiAodGhpcy5kYXRhU291cmNlICYmIHRoaXMuZGF0YVNvdXJjZS5sZW5ndGgpIHtcclxuICAgICAgLy8g5Y+v6IO95a2Y5Zyo5aSa6YCJ5p6a5Li+77yM5L2c5Li65YiG6ZqU56ymICBcclxuICAgICAgLy8gbGV0IGN1clZhbHMgPSAoJycgKyB2YWx1ZSkuc3BsaXQoJywnKTtcclxuICAgICAgbGV0IGN1clZhbHMgPSAoJycgKyB2YWx1ZSkuc3BsaXQodGhpcy5fc3BsaXRlcik7XHJcbiAgICAgIGxldCBuYW1lUmVzdWx0ID0gW107XHJcbiAgICAgIGZvciAobGV0IGsgPSAwOyBrIDwgY3VyVmFscy5sZW5ndGg7IGsrKykge1xyXG4gICAgICAgIGxldCBmaW5kT2JqID0gdGhpcy5kYXRhU291cmNlLmZpbmQoaXRlbSA9PiB7XHJcbiAgICAgICAgICByZXR1cm4gaXRlbVt0aGlzLnZhbHVlRmllbGRdID09IGN1clZhbHNba107XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgaWYgKGZpbmRPYmopIHtcclxuICAgICAgICAgIG5hbWVSZXN1bHQucHVzaChmaW5kT2JqW3RoaXMudGV4dEZpZWxkXSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgbmFtZVJlc3VsdC5wdXNoKGN1clZhbHNba10pO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICBpZiAobmFtZVJlc3VsdC5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgLy8gcmV0dXJuIG5hbWVSZXN1bHQuam9pbignLCcpO1xyXG4gICAgICAgIHJldHVybiBuYW1lUmVzdWx0LmpvaW4odGhpcy5fc3BsaXRlcilcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gJyc7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIGJvb2xlYW7lgLzlpITnkIZcclxuICAgKi9cclxuICBnZXRGb3JtYXRDaGVja0JveFZhbHVlKHZhbHVlOiBib29sZWFuKSB7XHJcbiAgICBpZiAodmFsdWUgPT09IHRydWUpIHtcclxuICAgICAgcmV0dXJuIHRoaXMubG9jYWxlU2VydmljZS5nZXRWYWx1ZSgndGV4dC55ZXMnKTtcclxuICAgIH0gZWxzZSBpZiAodmFsdWUgPT09IGZhbHNlIHx8IHZhbHVlID09IG51bGwgfHwgdHlwZW9mIHZhbHVlID09PSAndW5kZWZpbmVkJykge1xyXG4gICAgICByZXR1cm4gdGhpcy5sb2NhbGVTZXJ2aWNlLmdldFZhbHVlKCd0ZXh0Lm5vJyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICB9XHJcbiAgfVxyXG4gIC8qXHJcbiAgKiDml6XmnJ/moLzlvI/ljJZcclxuICAqL1xyXG4gIGRhdGVmb3JtYXQodmFsdWUpIHtcclxuICAgIGxldCBzdHI7XHJcbiAgICBpZiAoIXRoaXMuZm9ybWF0KSB7XHJcbiAgICAgIHRoaXMuZm9ybWF0ID0gJ1lZWVktTU0tZGQnO1xyXG4gICAgfVxyXG4gICAgLy8g5b2T5YmN5YC85piv5bey57uP5qC85byP5YyW5ZCO55qE5pel5pyf5a2X56ym5LiyXHJcbiAgICBpZiAodGhpcy5yZXR1cm5Gb3JtYXQgICYmIHR5cGVvZiB2YWx1ZSA9PSAnc3RyaW5nJykge1xyXG4gICAgICB2YWx1ZSA9IHRoaXMuZ2V0RGF0ZUZyb21Gb3JtYXRlZFN0cmluZyh2YWx1ZSwgdGhpcy5yZXR1cm5Gb3JtYXQpO1xyXG4gICAgfVxyXG4gICAgaWYgKHRoaXMuZm9ybWF0ID09PSAnaGg6bW06c3MnIHx8IHRoaXMuZm9ybWF0ID09PSAnSEg6bW06c3MnKSB7XHJcbiAgICAgIC8vIOagvOW8j+WMluaXtumXtCAg5Li05pe25aSE55CGXHJcbiAgICAgIHN0ciA9IHZhbHVlO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICAvLyDmoLzlvI/ljJbml6XmnJ9cclxuICAgICAgICBzdHIgPSB0aGlzLmR0SGVscGVyLmZvcm1hdFRvKHZhbHVlLCB0aGlzLmRhdGVUb1VwcGVyQ2FzZSh0aGlzLmZvcm1hdCkpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHN0cjtcclxuICB9XHJcbiAgcHJpdmF0ZSBnZXREYXRlRnJvbUZvcm1hdGVkU3RyaW5nKGRhdGVTdHJpbmcsIGZvcm1hdCkge1xyXG4gICAgdmFyIHJlc3VsdCA9IHsgeWVhcjogMCwgbW9udGg6IDAsIGRheTogMCwgaG91cjogMCwgbWluaXRlOiAwLCBzZWNvbmQ6IDAgfTsvL+W9k+eEtui/memHjOWPr+S7pem7mOiupDE5NzAtMS0x5pelXHJcbiAgICBpZiAoZGF0ZVN0cmluZykge1xyXG4gICAgICBmb3JtYXQucmVwbGFjZSgveXs0fXxZezR9fE0rfGQrfEQrfGgrfEgrfG0rfHMrL2csIGZ1bmN0aW9uIChtLCBhLCBiLCBjKSB7Ly/ov5nph4zlj6rlgZrkuoblubTmnIjml6UgIOWKoOaXtuWIhuenkuS5n+aYr+WPr+S7peeahFxyXG4gICAgICAgIGRhdGVTdHJpbmcuc3Vic3RyaW5nKGEpLnJlcGxhY2UoL1xcZCsvLCBmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgIGlmKGQpe1xyXG4gICAgICAgICAgICAgIGMgPSBwYXJzZUludChkLnN1YnN0cigwLG0ubGVuZ3RoKSwgMTApOyBcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGlmICgveSsvaS50ZXN0KG0pICYmICFyZXN1bHQueWVhcikgcmVzdWx0LnllYXIgPSBjO1xyXG4gICAgICAgIGlmICgvTSsvLnRlc3QobSkgJiYgIXJlc3VsdC5tb250aCkgcmVzdWx0Lm1vbnRoID0gYztcclxuICAgICAgICBpZiAoL2QrL2kudGVzdChtKSAmJiAhcmVzdWx0LmRheSkgcmVzdWx0LmRheSA9IGM7XHJcbiAgICAgICAgaWYgKC9oKy9pLnRlc3QobSkgJiYgIXJlc3VsdC5ob3VyKSByZXN1bHQuaG91ciA9IGM7XHJcbiAgICAgICAgaWYgKC9tKy8udGVzdChtKSAmJiAhcmVzdWx0Lm1pbml0ZSkgcmVzdWx0Lm1pbml0ZSA9IGM7XHJcbiAgICAgICAgaWYgKC9zKy8udGVzdChtKSAmJiAhcmVzdWx0LnNlY29uZCkgcmVzdWx0LnNlY29uZCA9IGM7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgcmVzdWx0LmRheSA9IHJlc3VsdC5kYXkgPyByZXN1bHQuZGF5IDogMTtcclxuICAgIHJlc3VsdC5tb250aCA9IHJlc3VsdC5tb250aCA/IHJlc3VsdC5tb250aCA6IDE7XHJcbiAgICB2YXIgcmVzdWx0RGF0ZSA9IG5ldyBEYXRlKHJlc3VsdC55ZWFyICsgJy8nICsgcmVzdWx0Lm1vbnRoICsgJy8nICsgcmVzdWx0LmRheSArICcgJyArIHJlc3VsdC5ob3VyICsgJzonICsgcmVzdWx0Lm1pbml0ZSArICc6JyArIHJlc3VsdC5zZWNvbmQpO1xyXG4gICAgcmV0dXJuIHJlc3VsdERhdGU7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiAoZGF0ZSwgZm10KSB7XHJcbiAgICB2YXIgbyA9IHtcclxuICAgICAgJ00rJzogZGF0ZS5nZXRNb250aCgpICsgMSwgLy/mnIjku71cclxuICAgICAgJ2QrJzogZGF0ZS5nZXREYXRlKCksIC8v5pelXHJcbiAgICAgICdoKyc6IGRhdGUuZ2V0SG91cnMoKSwgLy/lsI/ml7ZcclxuICAgICAgJ20rJzogZGF0ZS5nZXRNaW51dGVzKCksIC8v5YiGXHJcbiAgICAgICdzKyc6IGRhdGUuZ2V0U2Vjb25kcygpLCAvL+enklxyXG4gICAgICAncSsnOiBNYXRoLmZsb29yKChkYXRlLmdldE1vbnRoKCkgKyAzKSAvIDMpLCAvL+Wto+W6plxyXG4gICAgICAnUyc6IGRhdGUuZ2V0TWlsbGlzZWNvbmRzKCkgLy/mr6vnp5JcclxuICAgIH07XHJcbiAgICBpZiAoIWZtdCkge1xyXG4gICAgICBmbXQgPSAneXl5eS1NTS1kZCBoaDptbTpzcyc7XHJcbiAgICB9XHJcbiAgICBpZiAoLyh5KykvLnRlc3QoZm10KSkge1xyXG4gICAgICBmbXQgPSBmbXQucmVwbGFjZShSZWdFeHAuJDEsIChkYXRlLmdldEZ1bGxZZWFyKCkgKyAnJykuc3Vic3RyKDQgLSBSZWdFeHAuJDEubGVuZ3RoKSk7XHJcbiAgICB9XHJcbiAgICBmb3IgKHZhciBrIGluIG8pIHtcclxuICAgICAgaWYgKG5ldyBSZWdFeHAoJygnICsgayArICcpJykudGVzdChmbXQpKSB7XHJcbiAgICAgICAgZm10ID0gZm10LnJlcGxhY2UoUmVnRXhwLiQxLCAoUmVnRXhwLiQxLmxlbmd0aCA9PSAxKSA/IChvW2tdKSA6ICgoJzAwJyArIG9ba10pLnN1YnN0cigoJycgKyBvW2tdKS5sZW5ndGgpKSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBmbXQ7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiDmoLzlvI/ljJblpITnkIZcclxuICAgKi9cclxuICBmb3JtYXRWYWx1ZSh2YWx1ZTogYW55KSB7XHJcbiAgICBsZXQgc3RyOiBhbnk7XHJcbiAgICBpZiAodGhpcy5jdXJyZW50TGFuZ3VhZ2UpIHtcclxuICAgICAgcmV0dXJuIHRoaXMuZm9ybWF0TGFuZyh2YWx1ZSk7XHJcbiAgICB9XHJcbiAgICAvLyDmoIforrDnsbvlnotcclxuICAgIGlmICh0aGlzLl9jb25kaXRpb25UeXBlICE9PSBDb250cm9sVHlwZS5Cb29sQ2hlY2sgJiYgKHZhbHVlID09IG51bGwgfHwgdHlwZW9mIHZhbHVlID09PSAndW5kZWZpbmVkJykpIHtcclxuICAgICAgcmV0dXJuICcnO1xyXG4gICAgfVxyXG4gICAgc3dpdGNoICh0aGlzLl9jb25kaXRpb25UeXBlKSB7XHJcbiAgICAgIGNhc2UgQ29udHJvbFR5cGUuVGV4dDpcclxuICAgICAgICBzdHIgPSB2YWx1ZTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSBDb250cm9sVHlwZS5EYXRlUmFuZ2U6XHJcbiAgICAgIGNhc2UgQ29udHJvbFR5cGUuTW9udGhSYW5nZTpcclxuICAgICAgY2FzZSBDb250cm9sVHlwZS5EYXRlVGltZVJhbmdlOlxyXG4gICAgICAgIGNvbnN0IGRhdGVWYWx1ZXMgPSB2YWx1ZS5zcGxpdCh0aGlzLl9zcGxpdGVyKTtcclxuICAgICAgICBsZXQgZGF0YVN0ciA9IFtdO1xyXG4gICAgICAgIGlmIChkYXRlVmFsdWVzICYmIGRhdGVWYWx1ZXMubGVuZ3RoKSB7XHJcbiAgICAgICAgICBkYXRlVmFsdWVzLmZvckVhY2goZGF0ZSA9PiB7XHJcbiAgICAgICAgICAgIGxldCB2YWwgPSB0aGlzLmRhdGVmb3JtYXQoZGF0ZSk7XHJcbiAgICAgICAgICAgIGRhdGFTdHIucHVzaCh2YWwpO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHN0ciA9IGRhdGFTdHIuam9pbih0aGlzLl9zcGxpdGVyKTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSBDb250cm9sVHlwZS5TaW5nbGVEYXRlOlxyXG4gICAgICAgIGlmKHZhbHVlICYmIHZhbHVlLnRleHQpIHtcclxuICAgICAgICAgIHN0ciA9IHZhbHVlLnRleHRcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgc3RyID0gdGhpcy5kYXRlZm9ybWF0KHZhbHVlKVxyXG4gICAgICAgIH1cclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSBDb250cm9sVHlwZS5TaW5nbGVEYXRlVGltZTpcclxuICAgICAgY2FzZSBDb250cm9sVHlwZS5TaW5nbGVNb250aDpcclxuICAgICAgY2FzZSBDb250cm9sVHlwZS5TaW5nbGVZZWFyOlxyXG4gICAgICAgIHN0ciA9IHRoaXMuZGF0ZWZvcm1hdCh2YWx1ZSk7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgQ29udHJvbFR5cGUuU2luZ2xlTnVtYmVyOlxyXG4gICAgICAgIC8vIOaVsOWtl1xyXG4gICAgICAgIHN0ciA9IHRoaXMuZ2V0Rm9ybWF0TnVtYmVyVmFsdWUodmFsdWUpO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlIENvbnRyb2xUeXBlLk51bWJlclJhbmdlOlxyXG4gICAgICAgIC8vIOaVsOWtlyDljLrpl7QgICAgIFxyXG4gICAgICAgIGNvbnN0IG51bWJlclZhbHVlcyA9IHZhbHVlLnNwbGl0KHRoaXMuX3NwbGl0ZXIpO1xyXG4gICAgICAgIGxldCByZXN1bHRTdHIgPSBbXTtcclxuICAgICAgICBpZiAobnVtYmVyVmFsdWVzICYmIG51bWJlclZhbHVlcy5sZW5ndGgpIHtcclxuICAgICAgICAgIG51bWJlclZhbHVlcy5mb3JFYWNoKGRhdGUgPT4ge1xyXG4gICAgICAgICAgICBsZXQgdmFsID0gdGhpcy5nZXRGb3JtYXROdW1iZXJWYWx1ZShkYXRlKTtcclxuICAgICAgICAgICAgcmVzdWx0U3RyLnB1c2godmFsKTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBzdHIgPSByZXN1bHRTdHIuam9pbih0aGlzLl9zcGxpdGVyKTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSBDb250cm9sVHlwZS5SYWRpbzpcclxuICAgICAgICAvLyDljZXpgInnu4RcclxuICAgICAgICB0aGlzLmRhdGFTb3VyY2UgPSAodGhpcy5jb25kaXRpb24uY29udHJvbCBhcyBSYWRpb0NvbnRyb2wpLmVudW1WYWx1ZXM7XHJcbiAgICAgICAgc3RyID0gdGhpcy5nZXRGb3JtYXRFbnVtVmFsdWUodmFsdWUpO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlIENvbnRyb2xUeXBlLkRyb3BEb3duTGlzdDpcclxuICAgICAgICAvLyDkuIvmi4lcclxuICAgICAgICB0aGlzLmRhdGFTb3VyY2UgPSAodGhpcy5jb25kaXRpb24uY29udHJvbCBhcyBEcm9wRG93bkxpc3RDb250cm9sKS5lbnVtVmFsdWVzO1xyXG4gICAgICAgIHN0ciA9IHRoaXMuZ2V0Rm9ybWF0RW51bVZhbHVlKHZhbHVlKTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSBDb250cm9sVHlwZS5Cb29sQ2hlY2s6XHJcbiAgICAgICAgLy8g5biD5bCUXHJcbiAgICAgICAgLy90aGlzLmRhdGFTb3VyY2UgPSAodGhpcy5jb25kaXRpb24uY29udHJvbCBhcyBDaGVja0JveENvbnRyb2wpLmRhdGE7XHJcbiAgICAgICAgc3RyID0gdGhpcy5nZXRGb3JtYXRDaGVja0JveFZhbHVlKHZhbHVlKTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgICAvL+W4ruWKqeeahOivneWFvOWuueaXp+aVsOaNru+8jOmDqOWIhuWAvOS4umhlbHAtdGV4dC12YWx1ZS1udWxs55qE6L2s5YyW5Li656m65a2X56ym5LiyXHJcbiAgICAgIGNhc2UgQ29udHJvbFR5cGUuU21hcnRIZWxwOlxyXG4gICAgICAgIHN0ciA9IHZhbHVlID09PSAnaGVscC10ZXh0LXZhbHVlLW51bGwnID8gJycgOiB2YWx1ZTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSBDb250cm9sVHlwZS5Db21ib0xvb2tVcDpcclxuICAgICAgICBzdHIgPSB2YWx1ZSA9PT0gJ2hlbHAtdGV4dC12YWx1ZS1udWxsJyA/ICcnIDogdmFsdWU7XHJcbiAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICBkZWZhdWx0OlxyXG4gICAgICAgIHN0ciA9IHZhbHVlO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBzdHI7XHJcbiAgfVxyXG59XHJcbiJdfQ==