import { HttpClient } from '@angular/common/http';
import { ComponentFactoryResolver, Injector } from '@angular/core';
import { BasicWidgetInfoAotMode, BasicWidgetInfoDevMode, WidgetContainerMode } from '@gspwidget/util';
import { WidgetPropertyService } from '@gspwidget/widget-devkit';
import * as WidgetDevkitModule from '@gspwidget/widget-devkit';
export declare class DynamicLoaderService {
    private injector;
    private http;
    private componentFactoryResolver;
    private widgetProperty;
    private initSystemjsPromise;
    constructor(injector: Injector, http: HttpClient, componentFactoryResolver: ComponentFactoryResolver, widgetProperty: WidgetPropertyService);
    initSystemjs(): Promise<void>;
    /**
     * 加载元部件文件，并获取 widget 的详细信息供外面用
     */
    loadWidget(widgetInfo: BasicWidgetInfoAotMode | BasicWidgetInfoDevMode, rawPropValues: object, mode: WidgetContainerMode): Promise<{
        widgetCompFactory: any;
        widgetModuleFactory: any;
        properties: WidgetDevkitModule.PropertyOption[];
        propValues: {
            [propName: string]: any;
        };
        widgetConfig: WidgetDevkitModule.RegisteredWidgetConfig;
    }>;
    /**
     * TODO:
     * 白萌提的问题，去掉试试，拿他的元部件试试。怀疑是之前一直没传入 module 的原因。
     * 修复元部件依赖的第三方组件中 this.componentFactoryResolver.resolveComponentFactory
     * 找不到第三方组件的 ComponentFactory 的问题，
     * 如 nz RateComponent 找不到 toolTipComponent
     */
    fixCompFacError(systemModule: any): void;
}
