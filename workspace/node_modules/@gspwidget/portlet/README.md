# Portlet ｜ 小部件

开箱即用的 iGIX 小部件组件，传入 **部件 id** 来渲染部件。

> 此包封装了部件服务数据读取等业务细节。若要脱离 **部件概念**，仅使用 **元部件**，应改用 [`@gspwidget/widget-core`](https://www.npmjs.com/package/@gspwidget/widget-core)，仅封装了元部件加载机制、元部件 API 等，可实现更细粒度控制。



## 使用

1. 安装：

```bash
npm i @gspwidget/portlet
```

2. 引入 `PortletModule`:

```typescript
import { PortletModule } from '@gspwidget/portlet';

@NgModule({
  imports: [
    PortletModule
  ]
})
export class YourModule {}
```

3. 渲染 id 为 portletId 的部件：

```html
<lib-portlet
  [portletId]="portletId"
  >
</lib-portlet>
```

## API

#### lib-portlet

| 属性                   | 类型                    | 描述                                                   | 默认值                                                |
| ------------------------- | ----------------------- | ------------------------------------------------------ | ------------------------------------------------------ |
| [portletId]                 | string                  | 指定当前部件 id。**`portletId` 或 `portlet` 选一个必填**。 | - |
| [portlet]                   | EppPortlet              | 指定当前部件。**`portletId` 或 `portlet` 选一个必填**。 | -   |
| [queryConditions]           | QueryCondition[]        | [Farris 筛选方案](https://www.npmjs.com/package/@farris/component-querycondition)输出的筛选条件。可选。 | - |
| [portletNamesUsingDemoData] | string[]                | 部件名称包含哪些字符时，使用演示数据。可选。 | [] |
| [getCustomizedData]         | () => Observable<any[]> | 若传入，则使用此方法返回的 Observable 对象作为部件接收的数据来源。可选。 | - |

| 事件 | 参数 | 描述                             |
| ---- | ---- | -------------------------------- |
| init | 无   | 元部件加载、组件动态创建完成事件 |

