/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import * as tslib_1 from "tslib";
import { PropertyTypes, HelpStructure } from '../../types';
import { map } from 'rxjs/operators';
import { list2Tree } from '@gspwidget/util';
/**
 * 某一条数据联查跳转的配置属性的类型
 * @record
 */
export function DataJumpConfig() { }
if (false) {
    /** @type {?} */
    DataJumpConfig.prototype.jumpType;
    /**
     * 菜单
     * @type {?|undefined}
     */
    DataJumpConfig.prototype.funcIdSource;
    /**
     * funcId from data
     * @type {?|undefined}
     */
    DataJumpConfig.prototype.funcIdDataField;
    /**
     * funcId fixed
     * @type {?|undefined}
     */
    DataJumpConfig.prototype.funcId;
    /** @type {?|undefined} */
    DataJumpConfig.prototype.funcParams;
    /**
     * 新标签页
     * @type {?|undefined}
     */
    DataJumpConfig.prototype.url;
    /** @type {?|undefined} */
    DataJumpConfig.prototype.urlParams;
    /** @type {?|undefined} */
    DataJumpConfig.prototype.queryParams;
}
/**
 * 全局联查跳转的配置属性的类型
 * @record
 */
export function DatalessJumpConfig() { }
if (false) {
    /** @type {?} */
    DatalessJumpConfig.prototype.jumpType;
    /**
     * 菜单
     * @type {?|undefined}
     */
    DatalessJumpConfig.prototype.funcId;
    /** @type {?|undefined} */
    DatalessJumpConfig.prototype.funcParams;
    /**
     * 新标签页
     * @type {?|undefined}
     */
    DatalessJumpConfig.prototype.url;
}
/** @enum {string} */
var JumpTypes = {
    None: '0',
    Func: '1',
    ChartTable: '2',
    NewBrowserTab: '3',
};
export { JumpTypes };
/**
 * 选择联查类型
 * @type {?}
 */
export var jumpTypeOption = {
    type: PropertyTypes.Enum,
    enumOption: {
        default: JumpTypes.None,
        items: [
            { value: JumpTypes.None, displayName: 'none' },
            { value: JumpTypes.Func, displayName: 'toFuncOrInvoke' },
            // { value: JumpTypes.ChartTable, displayName: '跳转至预制图表页' },
            { value: JumpTypes.NewBrowserTab, displayName: 'browserNewTab' }
        ]
    }
}
// let allFuncs
/** 菜单/联查帮助 option */
;
// let allFuncs
/**
 * 菜单/联查帮助 option
 * @type {?}
 */
export var funcOption = {
    type: PropertyTypes.Help,
    tip: '选菜单/联查的帮助',
    helpOption: {
        getData: (/**
         * @param {?} httpClient
         * @return {?}
         */
        function (httpClient) {
            return httpClient
                .get('/api/runtime/sys/v1.0/functions/allFuncs')
                .pipe(map((/**
             * @param {?} funcs
             * @return {?}
             */
            function (funcs) {
                // allFuncs = funcs
                return list2Tree(funcs, {
                    rootParentIdValue: '0',
                    beforeProcess: /**
                     * @param {?} item
                     * @return {?}
                     */
                    function (item) {
                        if (item.layer === '3') {
                            item.isLeaf = true;
                            item.isTableParent = true;
                        }
                    }
                });
            })));
        }),
        structure: HelpStructure.treeTable,
        tableFields: ['code', 'name'],
        valueField: 'id',
        nameField: 'name'
    }
}
/** 不取决于某条数据值的联查 */
;
/**
 * 不取决于某条数据值的联查
 * @type {?}
 */
export var dataJumpOption = {
    category: 'clickJump',
    type: PropertyTypes.Object,
    objectOption: {
        objPropertyOptions: [
            tslib_1.__assign({ name: 'jumpType', displayName: 'jumpType' }, jumpTypeOption),
            /** 菜单/联查 */
            {
                name: 'funcIdSource',
                type: PropertyTypes.Enum,
                enumOption: {
                    items: ['fixed', 'fromData']
                },
                ifShow: /**
                 * @param {?} c
                 * @return {?}
                 */
                function (c) { return c.jumpType === JumpTypes.Func; }
            }, {
                name: 'funcIdDataField',
                type: PropertyTypes.DataField,
                ifShow: /**
                 * @param {?} c
                 * @return {?}
                 */
                function (c) {
                    return c.jumpType === JumpTypes.Func && c.funcIdSource === 'fromData';
                }
            },
            tslib_1.__assign({ name: 'funcId', displayName: 'func/invoke', ifShow: /**
                 * @param {?} c
                 * @return {?}
                 */
                function (c) {
                    return c.jumpType === JumpTypes.Func && c.funcIdSource === 'fixed';
                } }, funcOption),
            {
                name: 'funcParams',
                displayName: 'routeParams',
                type: PropertyTypes.Object,
                isArray: true,
                objectOption: {
                    objPropertyOptions: [{
                            name: 'key',
                            displayName: 'paramKey',
                            textOption: { i18n: false },
                            type: PropertyTypes.Text,
                        }, {
                            name: 'valueType',
                            displayName: 'valueType',
                            type: PropertyTypes.Enum,
                            enumOption: {
                                items: [
                                    { value: 'fieldName', displayName: 'dataFieldValue' },
                                    { value: 'fixedValue', displayName: 'fixedValue' }
                                ]
                            }
                        }, {
                            name: 'fixedValue',
                            displayName: 'paramFixedValue',
                            type: PropertyTypes.Text,
                            textOption: { i18n: false },
                            ifShow: /**
                             * @param {?} funcParam
                             * @return {?}
                             */
                            function (funcParam) { return funcParam.valueType === 'fixedValue'; }
                        }, {
                            name: 'fieldName',
                            displayName: 'paramValueField',
                            type: PropertyTypes.DataField,
                            ifShow: /**
                             * @param {?} funcParam
                             * @return {?}
                             */
                            function (funcParam) { return funcParam.valueType === 'fieldName'; }
                        }]
                },
                ifShow: /**
                 * @param {?} values
                 * @return {?}
                 */
                function (values) { return values.jumpType === JumpTypes.Func; }
            },
            /** 浏览器标签 */
            {
                name: 'url',
                displayName: 'newTabUrl',
                type: PropertyTypes.Text,
                textOption: { i18n: false },
                ifShow: /**
                 * @param {?} values
                 * @return {?}
                 */
                function (values) { return values.jumpType === JumpTypes.NewBrowserTab; }
            }, {
                name: 'urlParams',
                displayName: 'urlParams',
                type: PropertyTypes.Object,
                isArray: true,
                objectOption: {
                    objPropertyOptions: [{
                            name: 'valueType',
                            displayName: 'valueType',
                            type: PropertyTypes.Enum,
                            enumOption: {
                                items: [
                                    { value: 'fieldName', displayName: 'dataFieldValue' },
                                    { value: 'fixedValue', displayName: 'fixedValue' }
                                ]
                            }
                        }, {
                            name: 'fixedValue',
                            displayName: 'paramFixedValue',
                            type: PropertyTypes.Text,
                            textOption: { i18n: false },
                            ifShow: /**
                             * @param {?} urlParam
                             * @return {?}
                             */
                            function (urlParam) { return urlParam.valueType === 'fixedValue'; }
                        }, {
                            name: 'fieldName',
                            displayName: 'paramValueField',
                            type: PropertyTypes.DataField,
                            ifShow: /**
                             * @param {?} urlParam
                             * @return {?}
                             */
                            function (urlParam) { return urlParam.valueType === 'fieldName'; }
                        }]
                },
                ifShow: /**
                 * @param {?} values
                 * @return {?}
                 */
                function (values) { return values.jumpType === JumpTypes.NewBrowserTab; }
            }, {
                name: 'queryParams',
                displayName: 'urlQueryParams',
                type: PropertyTypes.Object,
                isArray: true,
                objectOption: {
                    objPropertyOptions: [{
                            name: 'key',
                            displayName: 'paramKey',
                            type: PropertyTypes.Text,
                            textOption: { i18n: false },
                        }, {
                            name: 'valueType',
                            displayName: 'valueType',
                            type: PropertyTypes.Enum,
                            enumOption: {
                                items: [
                                    { value: 'fieldName', displayName: 'dataFieldValue' },
                                    { value: 'fixedValue', displayName: 'fixedValue' }
                                ]
                            }
                        }, {
                            name: 'fixedValue',
                            displayName: 'paramFixedValue',
                            type: PropertyTypes.Text,
                            textOption: { i18n: false },
                            ifShow: /**
                             * @param {?} funcParam
                             * @return {?}
                             */
                            function (funcParam) { return funcParam.valueType === 'fixedValue'; }
                        }, {
                            name: 'fieldName',
                            displayName: 'paramValueField',
                            type: PropertyTypes.DataField,
                            ifShow: /**
                             * @param {?} funcParam
                             * @return {?}
                             */
                            function (funcParam) { return funcParam.valueType === 'fieldName'; }
                        }]
                },
                ifShow: /**
                 * @param {?} values
                 * @return {?}
                 */
                function (values) { return values.jumpType === JumpTypes.NewBrowserTab; }
            }
        ]
    }
}
/** 决于某条数据值的联查 */
;
/**
 * 决于某条数据值的联查
 * @type {?}
 */
export var datalessJumpOption = {
    category: 'clickJump',
    type: PropertyTypes.Object,
    objectOption: {
        objPropertyOptions: [
            tslib_1.__assign({ name: 'jumpType', displayName: 'jumpType' }, jumpTypeOption),
            tslib_1.__assign({ name: 'funcId', displayName: 'func/invoke', ifShow: /**
                 * @param {?} values
                 * @return {?}
                 */
                function (values) { return values.jumpType === JumpTypes.Func; } }, funcOption),
            {
                name: 'funcParams',
                displayName: 'routeParams',
                type: PropertyTypes.Object,
                isArray: true,
                objectOption: {
                    objPropertyOptions: [{
                            name: 'key',
                            displayName: 'paramKey',
                            type: PropertyTypes.Text,
                            textOption: { i18n: false },
                        }, {
                            name: 'value',
                            displayName: 'paramValue',
                            type: PropertyTypes.Text,
                            textOption: { i18n: false },
                        }]
                },
                ifShow: /**
                 * @param {?} values
                 * @return {?}
                 */
                function (values) { return values.jumpType === JumpTypes.Func; }
            },
            /** 浏览器标签 */
            {
                name: 'url',
                displayName: 'newTabUrl',
                type: PropertyTypes.Text,
                textOption: { i18n: false },
                ifShow: /**
                 * @param {?} values
                 * @return {?}
                 */
                function (values) { return values.jumpType === JumpTypes.NewBrowserTab; }
            }
        ]
    }
}
/** @deprecated 请用 datalessJump 或 dataJump */
;
/**
 * @deprecated 请用 datalessJump 或 dataJump
 * @type {?}
 */
export var CommonPropertyOptions = {
    jump: datalessJumpOption
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHJlc2V0Lmp1bXAuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9AZ3Nwd2lkZ2V0L3dpZGdldC1kZXZraXQvIiwic291cmNlcyI6WyJsaWIvcHJlc2V0L3ByZXNldC5qdW1wLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7O0FBQ0EsT0FBTyxFQUFrQixhQUFhLEVBQUUsYUFBYSxFQUFhLE1BQU0sYUFBYSxDQUFBO0FBQ3JGLE9BQU8sRUFBTyxHQUFHLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQTtBQUd6QyxPQUFPLEVBQUUsU0FBUyxFQUFFLE1BQU0saUJBQWlCLENBQUE7Ozs7O0FBSzNDLG9DQTRCQzs7O0lBM0JDLGtDQUFvQjs7Ozs7SUFFcEIsc0NBQW1DOzs7OztJQUVuQyx5Q0FBMkI7Ozs7O0lBRTNCLGdDQUFnQjs7SUFDaEIsb0NBS0c7Ozs7O0lBRUgsNkJBQVk7O0lBQ1osbUNBSUc7O0lBQ0gscUNBS0c7Ozs7OztBQU1MLHdDQVdDOzs7SUFWQyxzQ0FBbUI7Ozs7O0lBRW5CLG9DQUFlOztJQUNmLHdDQUdHOzs7OztJQUVILGlDQUFZOzs7O0lBY1osTUFBTyxHQUFHO0lBQ1YsTUFBTyxHQUFHO0lBQ1YsWUFBYSxHQUFHO0lBQ2hCLGVBQWdCLEdBQUc7Ozs7Ozs7QUFHckIsTUFBTSxLQUFPLGNBQWMsR0FBbUI7SUFDNUMsSUFBSSxFQUFFLGFBQWEsQ0FBQyxJQUFJO0lBQ3hCLFVBQVUsRUFBRTtRQUNWLE9BQU8sRUFBRSxTQUFTLENBQUMsSUFBSTtRQUN2QixLQUFLLEVBQUU7WUFDTCxFQUFFLEtBQUssRUFBRSxTQUFTLENBQUMsSUFBSSxFQUFFLFdBQVcsRUFBRSxNQUFNLEVBQUU7WUFDOUMsRUFBRSxLQUFLLEVBQUUsU0FBUyxDQUFDLElBQUksRUFBRSxXQUFXLEVBQUUsZ0JBQWdCLEVBQUU7WUFDeEQsNERBQTREO1lBQzVELEVBQUUsS0FBSyxFQUFFLFNBQVMsQ0FBQyxhQUFhLEVBQUUsV0FBVyxFQUFFLGVBQWUsRUFBRTtTQUNqRTtLQUNGO0NBQ0Y7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LEVBQUU7Z0JBQzNCLE1BQU07Ozs7MEJBQUUsTUFBMEIsSUFBSSxPQUFPLE1BQU0sQ0FBQyxRQUFRLEtBQUssU0FBUyxDQUFDLGFBQWEsQ0FBQSxDQUFDLENBQUM7YUFDM0Y7U0FBQztLQUNIO0NBQ0Y7QUFHRCw2Q0FBNkM7Ozs7OztBQUM3QyxNQUFNLEtBQU8scUJBQXFCLEdBQUc7SUFDbkMsSUFBSSxFQUFFLGtCQUFrQjtDQUN6QiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEh0dHBDbGllbnQgfSBmcm9tICdAYW5ndWxhci9jb21tb24vaHR0cCdcbmltcG9ydCB7IFByb3BlcnR5T3B0aW9uLCBQcm9wZXJ0eVR5cGVzLCBIZWxwU3RydWN0dXJlLCBEYXRhRmllbGQgfSBmcm9tICcuLi8uLi90eXBlcydcbmltcG9ydCB7IHRhcCwgbWFwIH0gZnJvbSAncnhqcy9vcGVyYXRvcnMnXG4vLyBpbXBvcnQgeyBsaXN0MlRyZWUgfSBmcm9tICcuL3V0aWwnXG5pbXBvcnQgeyBvZiB9IGZyb20gJ3J4anMnXG5pbXBvcnQgeyBsaXN0MlRyZWUgfSBmcm9tICdAZ3Nwd2lkZ2V0L3V0aWwnXG5cbi8qKlxuICog5p+Q5LiA5p2h5pWw5o2u6IGU5p+l6Lez6L2s55qE6YWN572u5bGe5oCn55qE57G75Z6LXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgRGF0YUp1bXBDb25maWcge1xuICBqdW1wVHlwZTogSnVtcFR5cGVzLFxuICAvKiog6I+c5Y2VICovXG4gIGZ1bmNJZFNvdXJjZT86ICdmaXhlZCcgfCAnZnJvbURhdGEnXG4gIC8qKiBmdW5jSWQgZnJvbSBkYXRhICovXG4gIGZ1bmNJZERhdGFGaWVsZD86IERhdGFGaWVsZFxuICAvKiogZnVuY0lkIGZpeGVkICovXG4gIGZ1bmNJZD86IHN0cmluZyxcbiAgZnVuY1BhcmFtcz86IHtcbiAgICAgIGtleT86IHN0cmluZyxcbiAgICAgIHZhbHVlVHlwZT86IHN0cmluZyxcbiAgICAgIGZpeGVkVmFsdWU/OiBzdHJpbmcsXG4gICAgICBmaWVsZE5hbWU/OiBEYXRhRmllbGRcbiAgfVtdXG4gIC8qKiDmlrDmoIfnrb7pobUgKi9cbiAgdXJsPzogc3RyaW5nXG4gIHVybFBhcmFtcz86IHtcbiAgICAgIHZhbHVlVHlwZT86IHN0cmluZ1xuICAgICAgZml4ZWRWYWx1ZT86IHN0cmluZ1xuICAgICAgZmllbGROYW1lPzogRGF0YUZpZWxkXG4gIH1bXVxuICBxdWVyeVBhcmFtcz86IHtcbiAgICAgIGtleT86IHN0cmluZyxcbiAgICAgIHZhbHVlVHlwZT86IHN0cmluZyxcbiAgICAgIGZpeGVkVmFsdWU/OiBzdHJpbmcsXG4gICAgICBmaWVsZE5hbWU/OiBEYXRhRmllbGRcbiAgfVtdXG4gIC8qKiDlm77ooajpobXpnaLmmoLml6Dlj6/phY3lj4LmlbAgKi9cbn1cbi8qKlxuICog5YWo5bGA6IGU5p+l6Lez6L2s55qE6YWN572u5bGe5oCn55qE57G75Z6LXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgRGF0YWxlc3NKdW1wQ29uZmlnIHtcbiAganVtcFR5cGU6IEp1bXBUeXBlc1xuICAvKiog6I+c5Y2VICovXG4gIGZ1bmNJZD86IHN0cmluZyAvLyBUT0RPOiBpbnRlcmZhY2Ug5byV55So5Lya5LiN5Lya5a+86Ie05omT5YyF5pe25pyJ6Zeu6aKY77yfXG4gIGZ1bmNQYXJhbXM/OiB7XG4gICAgICBrZXk/OiBzdHJpbmdcbiAgICAgIHZhbHVlPzogc3RyaW5nXG4gIH1bXVxuICAvKiog5paw5qCH562+6aG1ICovXG4gIHVybD86IHN0cmluZ1xuICAvKiog5Zu+6KGo6aG16Z2i5pqC5peg5Y+v6YWN5Y+C5pWwICovXG59XG5cbi8qKlxuICog5bi455So55qEIHByb3BlcnR5IG9wdGlvbnMg57uZ5oKo5YeG5aSH5aW95LqG77yMXG4gKiDmgqjpnIDopoHlvpfoh6rlt7HmjIflrpogZGlzcGxheU5hbWXjgIJcbiAqL1xuXG4vKipcbiAqIOiBlOafpei3s+i9rOeahOS4ieenjeexu+Wei++8mlxuICog5peg77yM6I+c5Y2VL+iBlOafpe+8jOmihOWItuWbvuihqOmhtVxuICovXG5leHBvcnQgZW51bSBKdW1wVHlwZXMge1xuICBOb25lID0gJzAnLFxuICBGdW5jID0gJzEnLFxuICBDaGFydFRhYmxlID0gJzInLFxuICBOZXdCcm93c2VyVGFiID0gJzMnXG59XG4vKiog6YCJ5oup6IGU5p+l57G75Z6LICovXG5leHBvcnQgY29uc3QganVtcFR5cGVPcHRpb246IFByb3BlcnR5T3B0aW9uID0ge1xuICB0eXBlOiBQcm9wZXJ0eVR5cGVzLkVudW0sXG4gIGVudW1PcHRpb246IHtcbiAgICBkZWZhdWx0OiBKdW1wVHlwZXMuTm9uZSxcbiAgICBpdGVtczogW1xuICAgICAgeyB2YWx1ZTogSnVtcFR5cGVzLk5vbmUsIGRpc3BsYXlOYW1lOiAnbm9uZScgfSxcbiAgICAgIHsgdmFsdWU6IEp1bXBUeXBlcy5GdW5jLCBkaXNwbGF5TmFtZTogJ3RvRnVuY09ySW52b2tlJyB9LFxuICAgICAgLy8geyB2YWx1ZTogSnVtcFR5cGVzLkNoYXJ0VGFibGUsIGRpc3BsYXlOYW1lOiAn6Lez6L2s6Iez6aKE5Yi25Zu+6KGo6aG1JyB9LFxuICAgICAgeyB2YWx1ZTogSnVtcFR5cGVzLk5ld0Jyb3dzZXJUYWIsIGRpc3BsYXlOYW1lOiAnYnJvd3Nlck5ld1RhYicgfVxuICAgIF1cbiAgfVxufVxuXG4vLyBsZXQgYWxsRnVuY3Ncbi8qKiDoj5zljZUv6IGU5p+l5biu5YqpIG9wdGlvbiAqL1xuZXhwb3J0IGNvbnN0IGZ1bmNPcHRpb246IFByb3BlcnR5T3B0aW9uID0ge1xuICB0eXBlOiBQcm9wZXJ0eVR5cGVzLkhlbHAsXG4gIHRpcDogJ+mAieiPnOWNlS/ogZTmn6XnmoTluK7liqknLFxuICBoZWxwT3B0aW9uOiB7XG4gICAgZ2V0RGF0YTogKGh0dHBDbGllbnQ6IEh0dHBDbGllbnQpID0+IHtcbiAgICAgIHJldHVybiBodHRwQ2xpZW50XG4gICAgICAgIC5nZXQ8YW55W10+KCcvYXBpL3J1bnRpbWUvc3lzL3YxLjAvZnVuY3Rpb25zL2FsbEZ1bmNzJylcbiAgICAgICAgLnBpcGUobWFwKGZ1bmNzID0+IHtcbiAgICAgICAgICAvLyBhbGxGdW5jcyA9IGZ1bmNzXG4gICAgICAgICAgcmV0dXJuIGxpc3QyVHJlZShmdW5jcywge1xuICAgICAgICAgICAgcm9vdFBhcmVudElkVmFsdWU6ICcwJyxcbiAgICAgICAgICAgIGJlZm9yZVByb2Nlc3MgKGl0ZW0pIHtcbiAgICAgICAgICAgICAgaWYgKGl0ZW0ubGF5ZXIgPT09ICczJykge1xuICAgICAgICAgICAgICAgIGl0ZW0uaXNMZWFmID0gdHJ1ZVxuICAgICAgICAgICAgICAgIGl0ZW0uaXNUYWJsZVBhcmVudCA9IHRydWVcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pXG4gICAgICAgIH0pKVxuICAgIH0sXG4gICAgc3RydWN0dXJlOiBIZWxwU3RydWN0dXJlLnRyZWVUYWJsZSxcbiAgICB0YWJsZUZpZWxkczogWydjb2RlJywgJ25hbWUnXSxcbiAgICB2YWx1ZUZpZWxkOiAnaWQnLFxuICAgIG5hbWVGaWVsZDogJ25hbWUnXG4gIH1cbn1cblxuLyoqIOS4jeWPluWGs+S6juafkOadoeaVsOaNruWAvOeahOiBlOafpSAqL1xuZXhwb3J0IGNvbnN0IGRhdGFKdW1wT3B0aW9uOiBQcm9wZXJ0eU9wdGlvbiA9IHtcbiAgY2F0ZWdvcnk6ICdjbGlja0p1bXAnLFxuICB0eXBlOiBQcm9wZXJ0eVR5cGVzLk9iamVjdCxcbiAgb2JqZWN0T3B0aW9uOiB7XG4gICAgb2JqUHJvcGVydHlPcHRpb25zOiBbXG4gICAgICB7XG4gICAgICAgIG5hbWU6ICdqdW1wVHlwZScsXG4gICAgICAgIGRpc3BsYXlOYW1lOiAnanVtcFR5cGUnLFxuICAgICAgICAuLi5qdW1wVHlwZU9wdGlvblxuICAgICAgfSxcbiAgICAgIC8qKiDoj5zljZUv6IGU5p+lICovXG4gICAgICB7XG4gICAgICAgIG5hbWU6ICdmdW5jSWRTb3VyY2UnLFxuICAgICAgICB0eXBlOiBQcm9wZXJ0eVR5cGVzLkVudW0sXG4gICAgICAgIGVudW1PcHRpb246IHtcbiAgICAgICAgICBpdGVtczogWydmaXhlZCcsICdmcm9tRGF0YSddXG4gICAgICAgIH0sXG4gICAgICAgIGlmU2hvdyAoYzogRGF0YUp1bXBDb25maWcpIHsgcmV0dXJuIGMuanVtcFR5cGUgPT09IEp1bXBUeXBlcy5GdW5jIH1cbiAgICAgIH0sIHtcbiAgICAgICAgbmFtZTogJ2Z1bmNJZERhdGFGaWVsZCcsXG4gICAgICAgIHR5cGU6IFByb3BlcnR5VHlwZXMuRGF0YUZpZWxkLFxuICAgICAgICBpZlNob3cgKGM6IERhdGFKdW1wQ29uZmlnKSB7XG4gICAgICAgICAgcmV0dXJuIGMuanVtcFR5cGUgPT09IEp1bXBUeXBlcy5GdW5jICYmIGMuZnVuY0lkU291cmNlID09PSAnZnJvbURhdGEnXG4gICAgICAgIH1cbiAgICAgIH0sIHtcbiAgICAgICAgbmFtZTogJ2Z1bmNJZCcsXG4gICAgICAgIGRpc3BsYXlOYW1lOiAnZnVuYy9pbnZva2UnLFxuICAgICAgICBpZlNob3cgKGM6IERhdGFKdW1wQ29uZmlnKSB7XG4gICAgICAgICAgcmV0dXJuIGMuanVtcFR5cGUgPT09IEp1bXBUeXBlcy5GdW5jICYmIGMuZnVuY0lkU291cmNlID09PSAnZml4ZWQnXG4gICAgICAgIH0sXG4gICAgICAgIC4uLmZ1bmNPcHRpb25cbiAgICAgIH0sIHtcbiAgICAgICAgbmFtZTogJ2Z1bmNQYXJhbXMnLFxuICAgICAgICBkaXNwbGF5TmFtZTogJ3JvdXRlUGFyYW1zJyxcbiAgICAgICAgdHlwZTogUHJvcGVydHlUeXBlcy5PYmplY3QsXG4gICAgICAgIGlzQXJyYXk6IHRydWUsXG4gICAgICAgIG9iamVjdE9wdGlvbjoge1xuICAgICAgICAgIG9ialByb3BlcnR5T3B0aW9uczogW3tcbiAgICAgICAgICAgIG5hbWU6ICdrZXknLFxuICAgICAgICAgICAgZGlzcGxheU5hbWU6ICdwYXJhbUtleScsXG4gICAgICAgICAgICB0ZXh0T3B0aW9uOiB7IGkxOG46IGZhbHNlIH0sXG4gICAgICAgICAgICB0eXBlOiBQcm9wZXJ0eVR5cGVzLlRleHQsXG4gICAgICAgICAgfSwge1xuICAgICAgICAgICAgbmFtZTogJ3ZhbHVlVHlwZScsXG4gICAgICAgICAgICBkaXNwbGF5TmFtZTogJ3ZhbHVlVHlwZScsXG4gICAgICAgICAgICB0eXBlOiBQcm9wZXJ0eVR5cGVzLkVudW0sXG4gICAgICAgICAgICBlbnVtT3B0aW9uOiB7XG4gICAgICAgICAgICAgIGl0ZW1zOiBbXG4gICAgICAgICAgICAgICAgeyB2YWx1ZTogJ2ZpZWxkTmFtZScsIGRpc3BsYXlOYW1lOiAnZGF0YUZpZWxkVmFsdWUnIH0sXG4gICAgICAgICAgICAgICAgeyB2YWx1ZTogJ2ZpeGVkVmFsdWUnLCBkaXNwbGF5TmFtZTogJ2ZpeGVkVmFsdWUnIH1cbiAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgIG5hbWU6ICdmaXhlZFZhbHVlJyxcbiAgICAgICAgICAgIGRpc3BsYXlOYW1lOiAncGFyYW1GaXhlZFZhbHVlJyxcbiAgICAgICAgICAgIHR5cGU6IFByb3BlcnR5VHlwZXMuVGV4dCxcbiAgICAgICAgICAgIHRleHRPcHRpb246IHsgaTE4bjogZmFsc2UgfSxcbiAgICAgICAgICAgIGlmU2hvdyAoZnVuY1BhcmFtKSB7IHJldHVybiBmdW5jUGFyYW0udmFsdWVUeXBlID09PSAnZml4ZWRWYWx1ZScgfVxuICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgIG5hbWU6ICdmaWVsZE5hbWUnLFxuICAgICAgICAgICAgZGlzcGxheU5hbWU6ICdwYXJhbVZhbHVlRmllbGQnLFxuICAgICAgICAgICAgdHlwZTogUHJvcGVydHlUeXBlcy5EYXRhRmllbGQsXG4gICAgICAgICAgICBpZlNob3cgKGZ1bmNQYXJhbSkgeyByZXR1cm4gZnVuY1BhcmFtLnZhbHVlVHlwZSA9PT0gJ2ZpZWxkTmFtZScgfVxuICAgICAgICAgIH1dXG4gICAgICAgIH0sXG4gICAgICAgIGlmU2hvdyAodmFsdWVzOiBEYXRhSnVtcENvbmZpZykgeyByZXR1cm4gdmFsdWVzLmp1bXBUeXBlID09PSBKdW1wVHlwZXMuRnVuYyB9XG4gICAgICB9LFxuICAgICAgLyoqIOa1j+iniOWZqOagh+etviAqL1xuICAgICAge1xuICAgICAgICBuYW1lOiAndXJsJyxcbiAgICAgICAgZGlzcGxheU5hbWU6ICduZXdUYWJVcmwnLFxuICAgICAgICB0eXBlOiBQcm9wZXJ0eVR5cGVzLlRleHQsXG4gICAgICAgIHRleHRPcHRpb246IHsgaTE4bjogZmFsc2UgfSxcbiAgICAgICAgaWZTaG93ICh2YWx1ZXM6IERhdGFKdW1wQ29uZmlnKSB7IHJldHVybiB2YWx1ZXMuanVtcFR5cGUgPT09IEp1bXBUeXBlcy5OZXdCcm93c2VyVGFiIH1cbiAgICAgIH0sIHtcbiAgICAgICAgbmFtZTogJ3VybFBhcmFtcycsXG4gICAgICAgIGRpc3BsYXlOYW1lOiAndXJsUGFyYW1zJyxcbiAgICAgICAgdHlwZTogUHJvcGVydHlUeXBlcy5PYmplY3QsXG4gICAgICAgIGlzQXJyYXk6IHRydWUsXG4gICAgICAgIG9iamVjdE9wdGlvbjoge1xuICAgICAgICAgIG9ialByb3BlcnR5T3B0aW9uczogW3tcbiAgICAgICAgICAgIG5hbWU6ICd2YWx1ZVR5cGUnLFxuICAgICAgICAgICAgZGlzcGxheU5hbWU6ICd2YWx1ZVR5cGUnLFxuICAgICAgICAgICAgdHlwZTogUHJvcGVydHlUeXBlcy5FbnVtLFxuICAgICAgICAgICAgZW51bU9wdGlvbjoge1xuICAgICAgICAgICAgICBpdGVtczogW1xuICAgICAgICAgICAgICAgIHsgdmFsdWU6ICdmaWVsZE5hbWUnLCBkaXNwbGF5TmFtZTogJ2RhdGFGaWVsZFZhbHVlJyB9LFxuICAgICAgICAgICAgICAgIHsgdmFsdWU6ICdmaXhlZFZhbHVlJywgZGlzcGxheU5hbWU6ICdmaXhlZFZhbHVlJyB9XG4gICAgICAgICAgICAgIF1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LCB7XG4gICAgICAgICAgICBuYW1lOiAnZml4ZWRWYWx1ZScsXG4gICAgICAgICAgICBkaXNwbGF5TmFtZTogJ3BhcmFtRml4ZWRWYWx1ZScsXG4gICAgICAgICAgICB0eXBlOiBQcm9wZXJ0eVR5cGVzLlRleHQsXG4gICAgICAgICAgICB0ZXh0T3B0aW9uOiB7IGkxOG46IGZhbHNlIH0sXG4gICAgICAgICAgICBpZlNob3cgKHVybFBhcmFtKSB7IHJldHVybiB1cmxQYXJhbS52YWx1ZVR5cGUgPT09ICdmaXhlZFZhbHVlJyB9XG4gICAgICAgICAgfSwge1xuICAgICAgICAgICAgbmFtZTogJ2ZpZWxkTmFtZScsXG4gICAgICAgICAgICBkaXNwbGF5TmFtZTogJ3BhcmFtVmFsdWVGaWVsZCcsXG4gICAgICAgICAgICB0eXBlOiBQcm9wZXJ0eVR5cGVzLkRhdGFGaWVsZCxcbiAgICAgICAgICAgIGlmU2hvdyAodXJsUGFyYW0pIHsgcmV0dXJuIHVybFBhcmFtLnZhbHVlVHlwZSA9PT0gJ2ZpZWxkTmFtZScgfVxuICAgICAgICAgIH1dXG4gICAgICAgIH0sXG4gICAgICAgIGlmU2hvdyAodmFsdWVzOiBEYXRhSnVtcENvbmZpZykgeyByZXR1cm4gdmFsdWVzLmp1bXBUeXBlID09PSBKdW1wVHlwZXMuTmV3QnJvd3NlclRhYiB9XG4gICAgICB9LCB7XG4gICAgICAgIG5hbWU6ICdxdWVyeVBhcmFtcycsXG4gICAgICAgIGRpc3BsYXlOYW1lOiAndXJsUXVlcnlQYXJhbXMnLFxuICAgICAgICB0eXBlOiBQcm9wZXJ0eVR5cGVzLk9iamVjdCxcbiAgICAgICAgaXNBcnJheTogdHJ1ZSxcbiAgICAgICAgb2JqZWN0T3B0aW9uOiB7XG4gICAgICAgICAgb2JqUHJvcGVydHlPcHRpb25zOiBbe1xuICAgICAgICAgICAgbmFtZTogJ2tleScsXG4gICAgICAgICAgICBkaXNwbGF5TmFtZTogJ3BhcmFtS2V5JyxcbiAgICAgICAgICAgIHR5cGU6IFByb3BlcnR5VHlwZXMuVGV4dCxcbiAgICAgICAgICAgIHRleHRPcHRpb246IHsgaTE4bjogZmFsc2UgfSxcbiAgICAgICAgICB9LCB7XG4gICAgICAgICAgICBuYW1lOiAndmFsdWVUeXBlJyxcbiAgICAgICAgICAgIGRpc3BsYXlOYW1lOiAndmFsdWVUeXBlJyxcbiAgICAgICAgICAgIHR5cGU6IFByb3BlcnR5VHlwZXMuRW51bSxcbiAgICAgICAgICAgIGVudW1PcHRpb246IHtcbiAgICAgICAgICAgICAgaXRlbXM6IFtcbiAgICAgICAgICAgICAgICB7IHZhbHVlOiAnZmllbGROYW1lJywgZGlzcGxheU5hbWU6ICdkYXRhRmllbGRWYWx1ZScgfSxcbiAgICAgICAgICAgICAgICB7IHZhbHVlOiAnZml4ZWRWYWx1ZScsIGRpc3BsYXlOYW1lOiAnZml4ZWRWYWx1ZScgfVxuICAgICAgICAgICAgICBdXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSwge1xuICAgICAgICAgICAgbmFtZTogJ2ZpeGVkVmFsdWUnLFxuICAgICAgICAgICAgZGlzcGxheU5hbWU6ICdwYXJhbUZpeGVkVmFsdWUnLFxuICAgICAgICAgICAgdHlwZTogUHJvcGVydHlUeXBlcy5UZXh0LFxuICAgICAgICAgICAgdGV4dE9wdGlvbjogeyBpMThuOiBmYWxzZSB9LFxuICAgICAgICAgICAgaWZTaG93IChmdW5jUGFyYW0pIHsgcmV0dXJuIGZ1bmNQYXJhbS52YWx1ZVR5cGUgPT09ICdmaXhlZFZhbHVlJyB9XG4gICAgICAgICAgfSwge1xuICAgICAgICAgICAgbmFtZTogJ2ZpZWxkTmFtZScsXG4gICAgICAgICAgICBkaXNwbGF5TmFtZTogJ3BhcmFtVmFsdWVGaWVsZCcsXG4gICAgICAgICAgICB0eXBlOiBQcm9wZXJ0eVR5cGVzLkRhdGFGaWVsZCxcbiAgICAgICAgICAgIGlmU2hvdyAoZnVuY1BhcmFtKSB7IHJldHVybiBmdW5jUGFyYW0udmFsdWVUeXBlID09PSAnZmllbGROYW1lJyB9XG4gICAgICAgICAgfV1cbiAgICAgICAgfSxcbiAgICAgICAgaWZTaG93ICh2YWx1ZXM6IERhdGFKdW1wQ29uZmlnKSB7IHJldHVybiB2YWx1ZXMuanVtcFR5cGUgPT09IEp1bXBUeXBlcy5OZXdCcm93c2VyVGFiIH1cbiAgICAgIH1cbiAgICBdXG4gIH1cbn1cbi8qKiDlhrPkuo7mn5DmnaHmlbDmja7lgLznmoTogZTmn6UgKi9cbmV4cG9ydCBjb25zdCBkYXRhbGVzc0p1bXBPcHRpb246IFByb3BlcnR5T3B0aW9uID0ge1xuICBjYXRlZ29yeTogJ2NsaWNrSnVtcCcsXG4gIHR5cGU6IFByb3BlcnR5VHlwZXMuT2JqZWN0LFxuICBvYmplY3RPcHRpb246IHtcbiAgICBvYmpQcm9wZXJ0eU9wdGlvbnM6IFtcbiAgICAgIHtcbiAgICAgICAgbmFtZTogJ2p1bXBUeXBlJyxcbiAgICAgICAgZGlzcGxheU5hbWU6ICdqdW1wVHlwZScsXG4gICAgICAgIC4uLmp1bXBUeXBlT3B0aW9uXG4gICAgICB9LFxuICAgICAgLyoqIOiPnOWNlS/ogZTmn6UgKi9cbiAgICAgIHtcbiAgICAgICAgbmFtZTogJ2Z1bmNJZCcsXG4gICAgICAgIGRpc3BsYXlOYW1lOiAnZnVuYy9pbnZva2UnLFxuICAgICAgICBpZlNob3cgKHZhbHVlczogRGF0YWxlc3NKdW1wQ29uZmlnKSB7IHJldHVybiB2YWx1ZXMuanVtcFR5cGUgPT09IEp1bXBUeXBlcy5GdW5jIH0sXG4gICAgICAgIC4uLmZ1bmNPcHRpb25cbiAgICAgIH0sIHtcbiAgICAgIG5hbWU6ICdmdW5jUGFyYW1zJyxcbiAgICAgIGRpc3BsYXlOYW1lOiAncm91dGVQYXJhbXMnLFxuICAgICAgdHlwZTogUHJvcGVydHlUeXBlcy5PYmplY3QsXG4gICAgICBpc0FycmF5OiB0cnVlLFxuICAgICAgb2JqZWN0T3B0aW9uOiB7XG4gICAgICAgIG9ialByb3BlcnR5T3B0aW9uczogW3tcbiAgICAgICAgICBuYW1lOiAna2V5JyxcbiAgICAgICAgICBkaXNwbGF5TmFtZTogJ3BhcmFtS2V5JyxcbiAgICAgICAgICB0eXBlOiBQcm9wZXJ0eVR5cGVzLlRleHQsXG4gICAgICAgICAgdGV4dE9wdGlvbjogeyBpMThuOiBmYWxzZSB9LFxuICAgICAgICB9LCB7XG4gICAgICAgICAgbmFtZTogJ3ZhbHVlJyxcbiAgICAgICAgICBkaXNwbGF5TmFtZTogJ3BhcmFtVmFsdWUnLFxuICAgICAgICAgIHR5cGU6IFByb3BlcnR5VHlwZXMuVGV4dCxcbiAgICAgICAgICB0ZXh0T3B0aW9uOiB7IGkxOG46IGZhbHNlIH0sXG4gICAgICAgIH1dXG4gICAgICB9LFxuICAgICAgaWZTaG93ICh2YWx1ZXM6IERhdGFsZXNzSnVtcENvbmZpZykgeyByZXR1cm4gdmFsdWVzLmp1bXBUeXBlID09PSBKdW1wVHlwZXMuRnVuYyB9XG4gICAgfSxcbiAgICAvKiog5rWP6KeI5Zmo5qCH562+ICovXG4gICAge1xuICAgICAgbmFtZTogJ3VybCcsXG4gICAgICBkaXNwbGF5TmFtZTogJ25ld1RhYlVybCcsXG4gICAgICB0eXBlOiBQcm9wZXJ0eVR5cGVzLlRleHQsXG4gICAgICB0ZXh0T3B0aW9uOiB7IGkxOG46IGZhbHNlIH0sXG4gICAgICBpZlNob3cgKHZhbHVlczogRGF0YWxlc3NKdW1wQ29uZmlnKSB7IHJldHVybiB2YWx1ZXMuanVtcFR5cGUgPT09IEp1bXBUeXBlcy5OZXdCcm93c2VyVGFiIH1cbiAgICB9XVxuICB9XG59XG5cblxuLyoqIEBkZXByZWNhdGVkIOivt+eUqCBkYXRhbGVzc0p1bXAg5oiWIGRhdGFKdW1wICovXG5leHBvcnQgY29uc3QgQ29tbW9uUHJvcGVydHlPcHRpb25zID0ge1xuICBqdW1wOiBkYXRhbGVzc0p1bXBPcHRpb25cbn1cbiJdfQ==