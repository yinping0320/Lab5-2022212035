{"version":3,"file":"gspwidget-widget-devkit.umd.js.map","sources":["node_modules/tslib/tslib.es6.js","ng://@gspwidget/widget-devkit/lib/widget-registry/widget-registry.ts","ng://@gspwidget/widget-devkit/lib/widget-registry/widget.decorator.ts","ng://@gspwidget/widget-devkit/lib/widget-registry/widget-event.decorator.ts","ng://@gspwidget/widget-devkit/lib/widget-registry/widget-event.service.ts","ng://@gspwidget/widget-devkit/types.ts","ng://@gspwidget/widget-devkit/lib/filter.ts","ng://@gspwidget/widget-devkit/lib/preset/preset.jump.ts","ng://@gspwidget/widget-devkit/lib/widget-registry/widget-property.decorator.ts","ng://@gspwidget/widget-devkit/lib/WidgetBase.ts","ng://@gspwidget/widget-devkit/lib/widget-registry/widget-property.service.ts","ng://@gspwidget/widget-devkit/lib/util.ts","ng://@gspwidget/widget-devkit/lib/widget-devkit.service.ts","ng://@gspwidget/widget-devkit/lib/widget-title-bar/widget-title-bar.component.ts","ng://@gspwidget/widget-devkit/lib/widget-title-bar/widget-title-bar-select/widget-title-bar-select.component.ts","ng://@gspwidget/widget-devkit/lib/widget-title-bar/widget-title-bar.module.ts","ng://@gspwidget/widget-devkit/lib/preset/zrender.gradient.ts","ng://@gspwidget/widget-devkit/lib/preset/zrender.linear-gradient.ts","ng://@gspwidget/widget-devkit/lib/preset/preset.echarts.ts","ng://@gspwidget/widget-devkit/lib/preset/preset.index.ts","ng://@gspwidget/widget-devkit/lib/data.service.ts","ng://@gspwidget/widget-devkit/lib/widget-instance-info.ts","ng://@gspwidget/widget-devkit/lib/widget-devkit.module.ts"],"sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n","import { RegisteredWidgetConfig, PropertyOption } from '../../types';\n\n/** å­å¨ window ä¸ä¸ºäºé¿å ng serve å farris rollup æ æ³ä¸è´åä¾æ§ */\ndeclare global {\n  interface Window {\n    /** åç¬å­ widget base ç propertiesï¼å ä¸ºå®ä¸æ¯ä¸ªåé¨ä»¶ */\n    // widgetBaseProperies: PropertyOption[]\n    // TODO: èèæ¹é¤ widget name æ¦å¿µ\n    registry: { [widgetName: string]: RegisteredWidgetConfig }\n  }\n}\n// if (!window.widgetBaseProperies) window.widgetBaseProperies = []\nif (!window.registry) window.registry = {}\n/**\n * åé¨ä»¶æ³¨åè¡¨\n */\nexport const WidgetRegistry = {\n  setWidget (name: string, config: RegisteredWidgetConfig) {\n    if (!window.registry[name]) window.registry[name] = {}\n    window.registry[name] = { ...window.registry[name], ...config }\n  },\n  getWidgetByName (name: string) {\n    return window.registry[name]\n  },\n  getWidgetByCtorName (ctorName: string) {\n    return Object.values(window.registry)\n      .find((widgetConfig) => {\n        return widgetConfig.ctor.name === ctorName\n      })\n  }\n}\n","import { WidgetConfig } from '../../types'\nimport { WidgetRegistry } from './widget-registry'\n\nexport function Widget (widgetConfig: WidgetConfig) {\n  return (constructor) => {\n    WidgetRegistry.setWidget(widgetConfig.name, { // TODO: æéæ£ï¼widget name éåä¼è¦çãå¦æççåºç°äºè¦ççæåµï¼èèæååé¨ä»¶æ¶çæä¸ä¸ª id æ¥ä»£æ¿ widget name\n      ctor: constructor,\n      ...widgetConfig\n    })\n    // ç¶ç±» WidgetBase\n    constructor.prototype.widgetName = widgetConfig.name\n  }\n}\n","import { Input } from '@angular/core';\nimport { WidgetEventConfig } from '@gspwidget/util';\nimport { PropertyOption, PropertyTypes } from '../../types';\n\nexport const WidgetEventMap = new Map<string, WidgetEventConfig[]>()\n/** ç¨äºæ EventEmitter å±æ§æ³¨åä¸ºåé¨ä»¶äºä»¶ */\nexport function WidgetEvent (eventConfig: WidgetEventConfig = {}) {\n  return (widgetPrototype, eventPropName: string) => {\n    // TODO: æ³åæ³æ su å è¿ææè¿è¡æ¶æ³¨åè¡¨éç keys é\n    const ctorName = widgetPrototype.constructor.name\n    if (!WidgetEventMap.get(ctorName)) WidgetEventMap.set(ctorName, [])\n    WidgetEventMap.get(ctorName).push({\n      propName: eventPropName,\n      ...eventConfig\n    })\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { curLang, FILTERS_WIDGET_FILTERS_PROP_NAME, FILTERS_WIDGET_NAME, WidgetEventConfig } from '@gspwidget/util';\nimport { FilterConfig, FilterSchema } from '../filter';\nimport { WidgetEventMap } from './widget-event.decorator';\nimport { WidgetRegistry } from './widget-registry';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class WidgetEventService {\n\n  constructor () { }\n\n  getEventsByWidgetName (widgetName: string, pvs)\n    : WidgetEventConfig[] {\n    const ctorName = WidgetRegistry.getWidgetByName(widgetName).ctor.name\n    const widgetEvents = WidgetEventMap.get(ctorName) || []\n    if (widgetName === FILTERS_WIDGET_NAME) {\n      return pvs[FILTERS_WIDGET_FILTERS_PROP_NAME].map((fc: FilterSchema) => ({\n        name: fc.i18nName[curLang],\n        propName: fc.i18nName[curLang],\n      }))\n    }\n    // ç»è£\n    return [\n      ...widgetEvents,\n      ...test,\n    ]\n  }\n}\nconst test: WidgetEventConfig[] = [{\n  name: 'click bar'\n}, {\n  name: 'event 2'\n}, {\n  name: 'event 3'\n}]\n","import { HttpClient } from '@angular/common/http';\nimport { Observable } from 'rxjs';\n\n// TODO: color å¨é¨æ¹ä¸ºé»è®¤ä¸ºè²æ¿ï¼å¯æçº¯è²ãæ¸åãé½åå« ä¸ç§éé¡¹ï¼è²çä¸ºå¹³å°é¢å¶ï¼ä½ä¹ä¿çèªå·±è°æ´é¢è²çå¥å£ã\nexport enum PropertyTypes {\n  Text = 'textOption',\n  Bool = 'boolOption',\n  Number = 'numberOption',\n  Enum = 'enumOption',\n  Color = 'colorOption',\n  // Date = 'dateOption',\n  Object = 'objectOption',\n  Custom = 'customOption',\n  SelectHelp = 'selectHelpOption',\n  /** Help å¾å°çå¼çç»æï¼åå³äºéç½® HelpOption åï¼æç»å¾å°çæ°æ®ç»æ */\n  Help = 'helpOption',\n  /** DataField å¾å°çå¼çå¼çç±»åä¸º DataField */\n  DataField = 'dataFieldOption',\n  Filter = 'filterOption',\n  Html = 'htmlOption',\n  DataParam = 'dataParamOption',\n}\n\nexport interface DataField {\n  name: string, label: string\n}\n\n/**\n * typeï¼ç±»åï¼é»è®¤ PropertyTypes.String\n * isArrayï¼æ¯å¦ä¸ºæ°ç»ï¼é»è®¤ false\n * ç¨ prop[prop.type] å¯è·åå° xxxOption\n */\nexport interface PropertyOption {\n  name?: string, // è¿ä¸é¡¹ä¸éè¦åï¼ä¼èªå¨è®¾ç½®ä¸º property ä¿®é¥°çå±æ§å\n  displayName?: string,\n  type?: PropertyTypes,\n  isArray?: boolean,\n  category?: string, /** åç»è·¯å¾ï¼å¯ç¨ / åå²å¤å± */\n  tip?: string, /** å¸®å©æç¤ºï¼æ¾ç¤ºå¸®å©ä¿¡æ¯ */\n  /**\n   * å®ä¹å¦ä½æ ¹æ®å¶ä» prop çå¼ï¼æ§å¶å½å item æ¯å¦æ¾ç¤ºã\n   * æ³¨æï¼curPropValues æ¯å½å property æå¨çç´æ¥ç¶å¯¹è±¡åçï¼**å³ä¸èªèº«å¹³çº§ç**ï¼ææ propValuesï¼ä¸åå«ç¸ç¸çåè¾ã\n   * ä»åºå½æ ¹æ®åè¾çå¼æ§å¶æ¾ç¤ºä¸å¦ï¼æä»¥æå¿å­ä¸åºè¯¥æ ¹æ®ç¸ç¸çæåè¾èååã\n   */\n  ifShow?: (curPropValues: { [propName: string]: any }) => boolean,\n\n  textOption?: {\n    default?: string | string[],\n    short?: boolean,\n    /** æ¯å¦æ¯å¤è¯­å­æ®µï¼é»è®¤ true */\n    i18n?: boolean\n  },\n  boolOption?: {\n    default?: boolean | boolean[]\n  },\n  numberOption?: {\n    default?: number | number[],\n    min?: number,\n    max?: number,\n    step?: boolean\n  },\n  enumOption?: {\n    default?: string | string[],\n    items: string[] | {\n      value: string,\n      displayName?: string /** displayName é»è®¤ä¸ value ä¸è´ */\n    }[]\n  },\n  colorOption?: {\n    default?: string | string[],\n    pureOnly?: boolean\n    gradientOnly?: boolean\n    type?: 'pure' | 'gradient' | 'pureOrGradient'\n    /** å¯éè²æ¿ï¼é»è®¤æ¯å¨å±éç½®è²æ¿ */\n    palette?: string[]\n    /** æ¯å¦æ¾ç¤ºæ©å±çº¯è²è²æ¿ï¼åå«é¢è²æ´å¨ï¼é»è®¤å */\n    // showExtPurePalette: boolean\n    /** å¯è¾å¥è²å¼ */\n    // canInput: boolean\n  },\n  dateOption?: {\n    default?: Date | Date[]\n  },\n  objectOption?: {\n    default?: any,\n    /**\n     * è¿éç PropertyOption æç¹ç¹æ®:\n     * name å¿å¡«\n     * category, xxxOption.default æ æ ð\n     */\n    objPropertyOptions: PropertyOption[]\n  },\n  selectHelpOption?: {\n    url: string, /** è·å options ç url */\n    valueField?: string, /** å¦æè¿åç»ææ¯å¯¹è±¡æ°ç»ï¼è¿ä¸ªæ¯ç¼è¾å¨ç»æå¼å¯¹åºçå­æ®µ */\n    displayField?: string, /** å¦æè¿åç»ææ¯å¯¹è±¡æ°ç»ï¼è¿ä¸ªæ¯ç¼è¾å¨æ¾ç¤ºå¼å¯¹åºçå­æ®µ */\n    usePost?: boolean, /** æ¯å¦ä½¿ç¨ post è¯·æ± */\n    body?: any, /** post è¯·æ±ç body */\n    default?: string, /** é»è®¤å¼ */\n  },\n  helpOption?: {\n    getData?: (httpClient: HttpClient) => Observable<any[]> /** è·åæ°æ®ï¼é»è®¤å¼ä¸ºç©ºæ°ç» */\n    structure?: HelpStructure /** æ¯å¦æ¯æ ç¶ãæ çç»æå¯å¨ getTreeFromRes ä¸­æ¼æ¥ */\n    tableFields: (string | string[])[]\n    valueField: string\n    nameField: string\n    // childrenField?: string /** é»è®¤æ¯ childrenï¼ç¨äºæ¸²ææ  */\n    // parentIdField?: string /** é»è®¤æ¯ parentIdï¼ç¨äºèªå¨åè¡¨ææ  */\n    default?: string\n    // getTree?: Function\n    getTableOnSelectTree?: Function\n  },\n  dataFieldOption?: {\n\n  }\n}\n\nexport enum HelpStructure {\n  table,\n  treeTable,\n  transfer,\n  treeTransfer\n}\n\nexport interface WidgetConfig {\n  name?: string\n  /** æ¯å¦å¨é¨ä»¶éç½®ä¸­å¼å¯æ°æ®éç½®ãç­ééç½®ï¼é»è®¤ false */\n  enableDataConfig?: boolean\n  /** æ¯å¦ä½¿ç¨å¬å±çæ é¢å¤´ï¼é»è®¤ false */\n  enableCommonTitleBar?: boolean\n  /** æ¯å¦ç¦ç¨å¬å±èæ¯ï¼å³ä½¿ç¨éæèæ¯ï¼é»è®¤ false */\n  // disableCommonBgStyle?: boolean\n  /** æ¯å¦å¯ç¨å è½½ assets/i18n/ ä¸çå½éåèµæºæä»¶ï¼é»è®¤ false */\n  enableLoadingI18n?: boolean\n  /** èªå®ä¹å½éåèµæºæä»¶ç®å½ä½ç½®ï¼å¦ '/apps/test/i18n/'ï¼é»è®¤ä½ç½®ä¸ºåé¨ä»¶èªèº«ç®å½ä¸ç assets/i18n/ ä½ç½®ã*/\n  customI18nResourceUrl?: string\n}\nexport interface RegisteredWidgetConfig extends WidgetConfig {\n  ctor?: any // TODO: ?\n}\n","import add from \"date-fns/add\"\nimport sub from 'date-fns/sub'\nimport { PropertyOption, PropertyTypes } from \"../types\"\n\n/**\n * æ²¡åç´æ¥ç¨ [] ä½ key ç´æ¥å»º literal å¯¹è±¡ï¼aot ç¼è¯ä¼æ¥é\n */\nexport function getObj (key: string, value: number) {\n  const obj = {}\n  obj[key] = value\n  return obj\n}\nexport type FSDateUnit = 'year' | 'month' | 'day'\n/** ç­éæè¿° */\nexport class FSLastTimeItem {\n  num = 1\n  unit?: FSDateUnit = 'day'\n  isDefault?: boolean\n  /**\n   * ä¼ å¥ä¸ä¸ª 'æè¿næ'ï¼è¿åå¯¹åºçæ¶é´èå´æ°ç»\n   */\n  static  GetDates (lastTimeItem: FSLastTimeItem) {\n    return [\n      sub(new Date(), getObj(lastTimeItem.unit + 's', lastTimeItem.num)),\n      new Date()\n    ]\n  }\n}\nexport class FSRangeDefault {\n  beforeNum = 1\n  beforeUnit: FSDateUnit = 'month'\n  afterNum = 0\n  afterUnit: FSDateUnit = 'day'\n  static GetDates (rangeDefault: FSRangeDefault) {\n    return [\n      sub(new Date(), getObj(rangeDefault.beforeUnit + 's', rangeDefault.afterNum)),\n      add(new Date(), getObj(rangeDefault.beforeUnit + 's', rangeDefault.afterNum)),\n    ]\n  }\n}\nexport class FSDate {\n  type?: 'single' | 'range' | 'lastTimeEnum' = 'single'\n  singleUnit?: FSDateUnit = 'day'\n  singleDefaultType?: 'current' | 'specified' = 'current'\n  singleDefaultSpecified = new Date()\n  rangeDefault = new FSRangeDefault()\n  lastTimeItems?: FSLastTimeItem[] = []\n  lastTimeDisplayType?: 'select' | 'flat' = 'flat'\n}\nexport type FSEnumSource = 'dataField' | 'manual' | 'dataset'\nexport class FSEnum {\n  multi = false\n  /** ææ¶å®ä¸ºï¼ä»æ single æ¶å¯ä»¥éæ© flat */\n  displayType?: 'select' | 'flat' = 'select'\n  source?: FSEnumSource = 'manual'\n  /** æ¯å¦å¯æ¸ç©ºä¸éãä»æ select ä¸ single æææ­¤éé¡¹ */\n  allowEmpty = false\n  // TODO: ä¸é¢ä¸¤ä¸ªå­æ®µä»ç¨ä½ä¸æ¬¡ç¼è¾æ¶æ¾ç¤ºå§ã\n  itemsLabelField?: string\n  itemsValueField?: string\n  /** éè¿ä¸é¢ä¸¤ä¸ªå­æ®µååº items å­å¨ä¸é¢ */\n  itemsFromData?: FSEnumItem[] = []\n  itemsManual?: FSEnumItem[] = []\n  multiDefault: string[] = []\n  singleDefault: string\n  // ææ¶ä¸å\n  // sourceDatasetId: string\n  // sourceDatasetLabelField?: DataField\n  // sourceDatasetValueField?: DataField\n  static GetItems (fsEnum: FSEnum): FSEnumItem[] {\n    const {\n      source, itemsFromData, itemsManual\n    } = fsEnum\n    if (source === 'dataField') {\n      // if (!itemsValueField || !intactData) return []\n      // const tempItems = intactData.map(dataItem => ({\n      //   label: dataItem[itemsLabelField || itemsValueField],\n      //   value: dataItem[itemsValueField]\n      // }))\n      // return ArrUtil.Unique(tempItems)\n      return itemsFromData\n    } else if (source === 'manual') {\n      return itemsManual\n    }\n  }\n  static GetItemValues (fsEnum: FSEnum) {\n    function mapCb (item) { return item.value }\n    return FSEnum.GetItems(fsEnum).map(mapCb)\n  }\n}\nexport class FSEnumItem {\n  label: string\n  value: string\n}\nexport class FilterSchema {\n  /** è¿æ»¤åç§°ï¼å¨ç­éæ§ä»¶ä¸æ¾ç¤ºï¼å¯é */\n  i18nName: any = {}\n  showName = false\n  /** è¿æ»¤å¤§ç±» */\n  type?: 'date' | 'enum' | 'number' | 'text' | 'help' = 'date'\n  /** æ¯ç§ç±»åçè¿æ»¤éç½® */\n  date = new FSDate()\n  enum = new FSEnum()\n  help?: {}\n  number = {\n    default: 0\n  }\n  text = {\n    default: ''\n  }\n  /**\n   * è·å FS çé»è®¤å¼\n   * ð ä¸å¯ä»¥ä¾èµ dataï¼é¨ä»¶ç¬¬ä¸æ¬¡æ ¹æ®é»è®¤å¼ç­éæ¶ï¼è¿æ²¡æ data å¢ã\n   */\n  static getDefaultValue (fs: FilterSchema) {\n    switch (fs.type) {\n      case 'date':\n        if (fs.date.type === 'single') {\n          if (fs.date.singleDefaultType === 'current') {\n            return new Date()\n          } else {\n            return fs.date.singleDefaultSpecified\n          }\n        } else if (fs.date.type === 'range') {\n          return FSRangeDefault.GetDates(fs.date.rangeDefault)\n        } else if (fs.date.type === 'lastTimeEnum') {\n          return FSLastTimeItem.GetDates(fs.date.lastTimeItems[0])\n        }\n        break\n      case 'enum':\n        const { multi, singleDefault, multiDefault } = fs.enum\n        return multi ? multiDefault : singleDefault\n      case 'number':\n        return fs.number.default\n        break\n      case 'text':\n        return fs.text.default\n        break\n    }\n  }\n}\nexport function ifFsDateRange (fs: FilterSchema) {\n  if (!fs) return\n  return fs.type === 'date' && fs.date.type === 'range'\n}\nexport function isFsFlat (fs: FilterSchema) {\n  if (!fs) return\n  return fs.type==='date' && fs.date.type==='lastTimeEnum' && fs.date.lastTimeDisplayType==='flat'\n    || fs.type==='enum' && !fs.enum.multi && fs.enum.displayType==='flat'\n}\n\n/**\n * å®æ¹é¢å¶çç­é property\n */\nexport const FILTER_PROP_NAME = 'filter'\nexport const frontendFilterProp: PropertyOption = {\n  name: FILTER_PROP_NAME,\n  displayName: 'ç­é',\n  isArray: true,\n  type: PropertyTypes.Object,\n  objectOption: {\n    objPropertyOptions: [{\n      name: 'fs',\n      type: PropertyTypes.Filter,\n    }, {\n      name: 'dpId',\n      type: PropertyTypes.DataParam,\n    }, {\n      name: 'dpId2',\n      type: PropertyTypes.DataParam,\n      ifShow: pv => {\n        return pv.fs && ifFsDateRange(pv.fs)\n      }\n    }]\n  }\n}\nexport interface FilterConfig {\n  fs: FilterSchema\n  dpId: string\n  dpId2: string\n}\n","import { HttpClient } from '@angular/common/http'\nimport { PropertyOption, PropertyTypes, HelpStructure, DataField } from '../../types'\nimport { tap, map } from 'rxjs/operators'\n// import { list2Tree } from './util'\nimport { of } from 'rxjs'\nimport { list2Tree } from '@gspwidget/util'\n\n/**\n * æä¸æ¡æ°æ®èæ¥è·³è½¬çéç½®å±æ§çç±»å\n */\nexport interface DataJumpConfig {\n  jumpType: JumpTypes,\n  /** èå */\n  funcIdSource?: 'fixed' | 'fromData'\n  /** funcId from data */\n  funcIdDataField?: DataField\n  /** funcId fixed */\n  funcId?: string,\n  funcParams?: {\n      key?: string,\n      valueType?: string,\n      fixedValue?: string,\n      fieldName?: DataField\n  }[]\n  /** æ°æ ç­¾é¡µ */\n  url?: string\n  urlParams?: {\n      valueType?: string\n      fixedValue?: string\n      fieldName?: DataField\n  }[]\n  queryParams?: {\n      key?: string,\n      valueType?: string,\n      fixedValue?: string,\n      fieldName?: DataField\n  }[]\n  /** å¾è¡¨é¡µé¢ææ å¯éåæ° */\n}\n/**\n * å¨å±èæ¥è·³è½¬çéç½®å±æ§çç±»å\n */\nexport interface DatalessJumpConfig {\n  jumpType: JumpTypes\n  /** èå */\n  funcId?: string // TODO: interface å¼ç¨ä¼ä¸ä¼å¯¼è´æåæ¶æé®é¢ï¼\n  funcParams?: {\n      key?: string\n      value?: string\n  }[]\n  /** æ°æ ç­¾é¡µ */\n  url?: string\n  /** å¾è¡¨é¡µé¢ææ å¯éåæ° */\n}\n\n/**\n * å¸¸ç¨ç property options ç»æ¨åå¤å¥½äºï¼\n * æ¨éè¦å¾èªå·±æå® displayNameã\n */\n\n/**\n * èæ¥è·³è½¬çä¸ç§ç±»åï¼\n * æ ï¼èå/èæ¥ï¼é¢å¶å¾è¡¨é¡µ\n */\nexport enum JumpTypes {\n  None = '0',\n  Func = '1',\n  ChartTable = '2',\n  NewBrowserTab = '3'\n}\n/** éæ©èæ¥ç±»å */\nexport const jumpTypeOption: PropertyOption = {\n  type: PropertyTypes.Enum,\n  enumOption: {\n    default: JumpTypes.None,\n    items: [\n      { value: JumpTypes.None, displayName: 'none' },\n      { value: JumpTypes.Func, displayName: 'toFuncOrInvoke' },\n      // { value: JumpTypes.ChartTable, displayName: 'è·³è½¬è³é¢å¶å¾è¡¨é¡µ' },\n      { value: JumpTypes.NewBrowserTab, displayName: 'browserNewTab' }\n    ]\n  }\n}\n\n// let allFuncs\n/** èå/èæ¥å¸®å© option */\nexport const funcOption: PropertyOption = {\n  type: PropertyTypes.Help,\n  tip: 'éèå/èæ¥çå¸®å©',\n  helpOption: {\n    getData: (httpClient: HttpClient) => {\n      return httpClient\n        .get<any[]>('/api/runtime/sys/v1.0/functions/allFuncs')\n        .pipe(map(funcs => {\n          // allFuncs = funcs\n          return list2Tree(funcs, {\n            rootParentIdValue: '0',\n            beforeProcess (item) {\n              if (item.layer === '3') {\n                item.isLeaf = true\n                item.isTableParent = true\n              }\n            }\n          })\n        }))\n    },\n    structure: HelpStructure.treeTable,\n    tableFields: ['code', 'name'],\n    valueField: 'id',\n    nameField: 'name'\n  }\n}\n\n/** ä¸åå³äºææ¡æ°æ®å¼çèæ¥ */\nexport const dataJumpOption: PropertyOption = {\n  category: 'clickJump',\n  type: PropertyTypes.Object,\n  objectOption: {\n    objPropertyOptions: [\n      {\n        name: 'jumpType',\n        displayName: 'jumpType',\n        ...jumpTypeOption\n      },\n      /** èå/èæ¥ */\n      {\n        name: 'funcIdSource',\n        type: PropertyTypes.Enum,\n        enumOption: {\n          items: ['fixed', 'fromData']\n        },\n        ifShow (c: DataJumpConfig) { return c.jumpType === JumpTypes.Func }\n      }, {\n        name: 'funcIdDataField',\n        type: PropertyTypes.DataField,\n        ifShow (c: DataJumpConfig) {\n          return c.jumpType === JumpTypes.Func && c.funcIdSource === 'fromData'\n        }\n      }, {\n        name: 'funcId',\n        displayName: 'func/invoke',\n        ifShow (c: DataJumpConfig) {\n          return c.jumpType === JumpTypes.Func && c.funcIdSource === 'fixed'\n        },\n        ...funcOption\n      }, {\n        name: 'funcParams',\n        displayName: 'routeParams',\n        type: PropertyTypes.Object,\n        isArray: true,\n        objectOption: {\n          objPropertyOptions: [{\n            name: 'key',\n            displayName: 'paramKey',\n            textOption: { i18n: false },\n            type: PropertyTypes.Text,\n          }, {\n            name: 'valueType',\n            displayName: 'valueType',\n            type: PropertyTypes.Enum,\n            enumOption: {\n              items: [\n                { value: 'fieldName', displayName: 'dataFieldValue' },\n                { value: 'fixedValue', displayName: 'fixedValue' }\n              ]\n            }\n          }, {\n            name: 'fixedValue',\n            displayName: 'paramFixedValue',\n            type: PropertyTypes.Text,\n            textOption: { i18n: false },\n            ifShow (funcParam) { return funcParam.valueType === 'fixedValue' }\n          }, {\n            name: 'fieldName',\n            displayName: 'paramValueField',\n            type: PropertyTypes.DataField,\n            ifShow (funcParam) { return funcParam.valueType === 'fieldName' }\n          }]\n        },\n        ifShow (values: DataJumpConfig) { return values.jumpType === JumpTypes.Func }\n      },\n      /** æµè§å¨æ ç­¾ */\n      {\n        name: 'url',\n        displayName: 'newTabUrl',\n        type: PropertyTypes.Text,\n        textOption: { i18n: false },\n        ifShow (values: DataJumpConfig) { return values.jumpType === JumpTypes.NewBrowserTab }\n      }, {\n        name: 'urlParams',\n        displayName: 'urlParams',\n        type: PropertyTypes.Object,\n        isArray: true,\n        objectOption: {\n          objPropertyOptions: [{\n            name: 'valueType',\n            displayName: 'valueType',\n            type: PropertyTypes.Enum,\n            enumOption: {\n              items: [\n                { value: 'fieldName', displayName: 'dataFieldValue' },\n                { value: 'fixedValue', displayName: 'fixedValue' }\n              ]\n            }\n          }, {\n            name: 'fixedValue',\n            displayName: 'paramFixedValue',\n            type: PropertyTypes.Text,\n            textOption: { i18n: false },\n            ifShow (urlParam) { return urlParam.valueType === 'fixedValue' }\n          }, {\n            name: 'fieldName',\n            displayName: 'paramValueField',\n            type: PropertyTypes.DataField,\n            ifShow (urlParam) { return urlParam.valueType === 'fieldName' }\n          }]\n        },\n        ifShow (values: DataJumpConfig) { return values.jumpType === JumpTypes.NewBrowserTab }\n      }, {\n        name: 'queryParams',\n        displayName: 'urlQueryParams',\n        type: PropertyTypes.Object,\n        isArray: true,\n        objectOption: {\n          objPropertyOptions: [{\n            name: 'key',\n            displayName: 'paramKey',\n            type: PropertyTypes.Text,\n            textOption: { i18n: false },\n          }, {\n            name: 'valueType',\n            displayName: 'valueType',\n            type: PropertyTypes.Enum,\n            enumOption: {\n              items: [\n                { value: 'fieldName', displayName: 'dataFieldValue' },\n                { value: 'fixedValue', displayName: 'fixedValue' }\n              ]\n            }\n          }, {\n            name: 'fixedValue',\n            displayName: 'paramFixedValue',\n            type: PropertyTypes.Text,\n            textOption: { i18n: false },\n            ifShow (funcParam) { return funcParam.valueType === 'fixedValue' }\n          }, {\n            name: 'fieldName',\n            displayName: 'paramValueField',\n            type: PropertyTypes.DataField,\n            ifShow (funcParam) { return funcParam.valueType === 'fieldName' }\n          }]\n        },\n        ifShow (values: DataJumpConfig) { return values.jumpType === JumpTypes.NewBrowserTab }\n      }\n    ]\n  }\n}\n/** å³äºææ¡æ°æ®å¼çèæ¥ */\nexport const datalessJumpOption: PropertyOption = {\n  category: 'clickJump',\n  type: PropertyTypes.Object,\n  objectOption: {\n    objPropertyOptions: [\n      {\n        name: 'jumpType',\n        displayName: 'jumpType',\n        ...jumpTypeOption\n      },\n      /** èå/èæ¥ */\n      {\n        name: 'funcId',\n        displayName: 'func/invoke',\n        ifShow (values: DatalessJumpConfig) { return values.jumpType === JumpTypes.Func },\n        ...funcOption\n      }, {\n      name: 'funcParams',\n      displayName: 'routeParams',\n      type: PropertyTypes.Object,\n      isArray: true,\n      objectOption: {\n        objPropertyOptions: [{\n          name: 'key',\n          displayName: 'paramKey',\n          type: PropertyTypes.Text,\n          textOption: { i18n: false },\n        }, {\n          name: 'value',\n          displayName: 'paramValue',\n          type: PropertyTypes.Text,\n          textOption: { i18n: false },\n        }]\n      },\n      ifShow (values: DatalessJumpConfig) { return values.jumpType === JumpTypes.Func }\n    },\n    /** æµè§å¨æ ç­¾ */\n    {\n      name: 'url',\n      displayName: 'newTabUrl',\n      type: PropertyTypes.Text,\n      textOption: { i18n: false },\n      ifShow (values: DatalessJumpConfig) { return values.jumpType === JumpTypes.NewBrowserTab }\n    }]\n  }\n}\n\n\n/** @deprecated è¯·ç¨ datalessJump æ dataJump */\nexport const CommonPropertyOptions = {\n  jump: datalessJumpOption\n}\n","import { Input } from '@angular/core';\nimport { PropertyOption, PropertyTypes } from '../../types';\n/**\n * åé¨ä»¶å±æ§æ³¨åè¡¨ï¼å½¢å¦\n * { constructorName: { propertyName: propertyOption }\n */\nexport const WidgetPropertyMap = new Map<string, PropertyOption[]>()\n/**\n * TODO: å å¥æ£æ¥ï¼ç¼è¯æ¶æ¥éï¼nameä¸åºè¯¥åï¼ï¼\n * @param option å¯éï¼é»è®¤ä¸º { type: PropertyTypes.String }\n */\nexport function Property (option: PropertyOption = {}) {\n  // è¿éç»ä¸å¤çï¼æ²¡æè®¾ç½® type çä¸å¾è®¾ç½®ä¸º Textãæ²¡ç¨éå½ï¼ä»å¤èèäº Obj åä¸å±ã\n  option.type = option.type || PropertyTypes.Text\n  if (option.objectOption && option.objectOption.objPropertyOptions) {\n    option.objectOption.objPropertyOptions.forEach(subOption => {\n      subOption.type = subOption.type || PropertyTypes.Text\n    })\n  }\n  option.isArray = !!option.isArray\n  return (widgetPrototype, propName) => {\n    // TODO: æ³åæ³æ su å è¿ææè¿è¡æ¶æ³¨åè¡¨éç keys é\n    const ctorName = widgetPrototype.constructor.name\n    if (!WidgetPropertyMap.get(ctorName)) WidgetPropertyMap.set(ctorName, [])\n    WidgetPropertyMap.get(ctorName).push({ name: propName, ...option })\n    // è° angular Input decorator\n    Input()(widgetPrototype, propName)\n  }\n}\n","// import { datalessJumpOption, DatalessJumpConfig, JumpTypes } from './presets';\nimport { Property } from './widget-registry/widget-property.decorator';\n\nexport abstract class WidgetBase {\n\n  @Property({\n    category: 'å¬å±å±æ§',\n    displayName: 'é¨ä»¶æ é¢'\n  }) title = 'untitled';\n\n  // @Property({\n  //   ...datalessJumpOption,\n  //   displayName: 'topRightJump'\n  // }) globalJumpConfig: DatalessJumpConfig = {\n  //   jumpType: JumpTypes.None\n  // }\n\n  /** @deprecated */\n  // icon = ''\n\n  /** çç»ç­éè§¦å load dataï¼åé¨ä»¶å¯ä»¥è§¦åï¼å¹¶ä¼ å¥é¢å¤åæ°ï¼ä½å®é load ç± wc æ¥åãå ä¸º wc ç¥é idã */\n  // @Output() triggerLoadData = new EventEmitter();\n\n  /** ç¼è¯æ¶å° @Widget ä¸­ç name èµå¼ç» widgetName, æé å¨ä¸­ä¼æ£æ¥æ¯å¦æå¼ï¼æ²¡æå°±æ¥é */\n  widgetName;\n\n  // TODO: å·²åºå¼æ¹æ¡, ä»¥ä¸ä¸ºè¿æ¸¡æ¹æ¡ä»¥å¼å®¹èåæ³åé¨ä»¶, åæå°ç§»é¤\n  /** @deprecated å½åé¨ä»¶ id */\n  portletId: string\n  /** @deprecated å½åé¨ä»¶å®ä¾ id */\n  id: string\n  /** @deprecated æ¯å¦ä½¿ç¨å¤é¨æ°æ®æºãæ¯çè¯ï¼wc å°±æ¿å®ç portlet id è¯·æ±æ°æ®å»ãåºæ¹ä¸º dataEngine åæ³ã */\n  useDataEngine = false\n  /**\n   * @deprecated\n   * assets æä»¶è·¯å¾å¿éå ä¸è¿ä¸ª base åç¼ãæ³¨æå¨æé å½æ°æä¹åä½¿ç¨æ¶å¶å¼ä¼ä¸º undefinedï¼\n   * å ä¸ºå®ä¾åå®æåï¼widget-container æä¼ç»å®èµæ­£ç¡®çå¼ã\n   */\n  assetsBaseUrl: string\n\n  /**\n   * å ä¸ºæ¯ç¶ç±»æé å½æ°æä»¥æ æ³ä¾èµæ³¨å¥, ä¹æ²¡æ³ä¼ å¥åæ°;\n   * compInstance.field = xxx çæ¹å¼ååçå¨æé å½æ°åèä¸å¤ªå¥½,\n   * æä»¥èèæ­¤ç¶ç±»ä¸æä¾æåå±æ§, èéè¿ä¾èµæ³¨å¥, å¨å­ç»ä»¶èªå.\n   */\n  constructor () {\n    if (this.widgetName == null) console.error(`åé¨ä»¶ ${this.constructor.name} æªæ·»å  @Widget({ name: <name>})`);\n  }\n\n  /**\n   * åé¨ä»¶å®¹å¨å¤§å°ååäºä»¶ï¼åæ° width ä¸ºå®¹å¨å®½åº¦ï¼åä½ pxã\n   * å¯éåæ­¤æ¹æ³ä»¥å¤çå¤æçååºå¼æ ·å¼ã\n   */\n  onResized (width: number, height: number): void { }\n\n  onPropertyChange (propName: string, value): void { }\n\n  /**\n   * @deprecated\n   * è¯·ç¨ this.dataService.loadData() ä»£æ¿\n   * @param data è·å¾çæ°æ®\n   */\n  onGetData (data: any[]) { }\n\n}\n","import { Injectable } from '@angular/core';\nimport { PlThemeColors } from '@gspwidget/util';\nimport { PropertyOption, PropertyTypes, WidgetConfig } from '../../types';\nimport { FilterSchema, frontendFilterProp, ifFsDateRange } from '../filter';\nimport { datalessJumpOption } from '../preset/preset.jump';\n// import { WidgetPropertyMap } from './widget-event.decorator';\nimport { WidgetRegistry } from './widget-registry';\nimport { WidgetBase } from '../WidgetBase';\nimport { WidgetPropertyMap } from './widget-property.decorator';\n\nconst PropertyTypeDefaultValues = {\n  [PropertyTypes.Text]: '',\n  [PropertyTypes.Bool]: false,\n  [PropertyTypes.Number]: 0,\n  [PropertyTypes.DataField]: {}\n  // [PropertyTypes.Color]: '#000000',\n  // [PropertyTypes.Enum]: 0,\n  // [PropertyTypes.Date]: new Date()\n  // [PropertyTypes.Object]: {},\n}\n\n// const frontendFilterProp: PropertyOption = {\n//   name: 'filter',\n//   displayName: 'ç­é',\n//   isArray: true,\n//   type: PropertyTypes.Filter,\n// }\n// TODO: filters\n\n\nconst titleBarProps: PropertyOption[] = [{\n  category: 'titleBar',\n  name: 'titleBarHide',\n  type: PropertyTypes.Bool,\n  boolOption: {\n    default: false\n  }\n}, {\n  category: 'titleBar',\n  name: 'titleBarShowRefresh',\n  displayName: 'showRefreshBtn',\n  type: PropertyTypes.Bool,\n  boolOption: {\n    default: true\n  }\n}, {\n  ...datalessJumpOption,\n  category: 'titleBar',\n  name: 'titleBarJump',\n}]\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class WidgetPropertyService {\n\n  constructor (\n  ) { }\n  /**\n   * è·å¾æç§ç±»åçå¨å±é»è®¤å¼ï¼å¨å®å¨æ²¡æå¼æ¶ä½¿ç¨\n   * @param prop\n   * @param arrayItem æ¯å¦æ¯æ¥è·å array çå­é¡¹é»è®¤å¼çï¼é»è®¤ä¸æ¯ã\n   * å¦æä¸æ¯ï¼è¥ prop.isArray ä¸ºçï¼å°±è¿åç©ºæ°ç» []ï¼\n   * å¦ææ¯ï¼åä¸ç®¡ prop.isArray æ¯å¦ä¸ºçï¼æ»è¿å prop.type å¯¹åºçé»è®¤å¼ï¼ä»åºç¨äºå¢å æ°ç»é¡¹æ¶è·åæ°é¡¹ã\n   */\n  public getPropertyDefaultValue (prop: PropertyOption, arrayItem = false) {\n    if (!arrayItem && prop.isArray) return []\n    // object: éå½çæå·æææ key çå¯¹è±¡ï¼æ¯ä¸ª key ç value æ¯é»è®¤å¼\n    if (prop.type === PropertyTypes.Object) {\n      const newObj = {}\n      prop.objectOption.objPropertyOptions.forEach((childProp: PropertyOption) => {\n        newObj[childProp.name] = (childProp[childProp.type]\n          && childProp[childProp.type].default)\n          || this.getPropertyDefaultValue(childProp)\n      })\n      return newObj\n    } else if (prop.type === PropertyTypes.Enum) {\n      const firstItem = prop.enumOption.items[0]\n      return typeof firstItem === 'string'\n        ? firstItem\n        : firstItem['value']\n    } else if (prop.type === PropertyTypes.Color) {\n      const colors = this.getColorsByColorOption(prop.colorOption)\n      const i = Math.random()\n      return colors[Math.floor(i * colors.length)]\n    } else if (prop.type === PropertyTypes.Filter) {\n      return new FilterSchema()\n    } else {\n      return PropertyTypeDefaultValues[prop.type]\n    }\n  }\n  /**\n   * åé¨ä»¶å è½½ãç¼è¯å®æåï¼ç»è£æ°ç properties\n   * widget name\n   * -> constructor name\n   * -> widget + title bar + base properties\n   * -> åé¨ä»¶çææå¯éç½® properties\n   */\n  public getWidgetProps (widgetName: string, widgetConfig: WidgetConfig): PropertyOption[] {\n    const ctorName = WidgetRegistry.getWidgetByName(widgetName).ctor.name\n    // widget å­ç±»ä¸­ç property\n    const widgetProps = WidgetPropertyMap.get(ctorName) || []\n    // ç­éåº widget å­ç±»ä¸­æ²¡éåè¿ç propertyï¼å¦åå¯è½ä¼æä¿©ä¸æ ·ç\n    const baseProps = WidgetPropertyMap.get(WidgetBase.name)\n      .filter(baseProp => !widgetProps.some(prop => baseProp.name === prop.name))\n    // ç»è£\n    return [\n      // å¬å±éç½®é½æ¾è¿\n      ...baseProps,\n      // æ é¢éç½®\n      ...(widgetConfig.enableCommonTitleBar\n        ? titleBarProps\n        : []),\n      // ç­ééç½®\n      ...(widgetConfig.enableDataConfig && widgetConfig.enableCommonTitleBar\n        ? [frontendFilterProp]\n        : []),\n      // åé¨ä»¶èªèº«éç½®\n      ...widgetProps\n      // ...testProps,\n    ]\n  }\n  /**\n   * mixin å·²æpv + åé¨ä»¶æ¨èçé»è®¤pv + æ­¤ç±»åçå¨å±é»è®¤pv\n   */\n  public mixinWidgetPropValues (props: PropertyOption[], propValues: object) {\n    const mixinedPropValues: { [propName: string]: any } = { ...propValues }\n    // æ£æ¥ææ propertiesï¼åªä¸ªæ²¡æå¼ï¼å°±èµä¸é»è®¤æ¨èå¼\n    props.forEach(prop => {\n      // è¿éå¿é¡»æ¯å¤æ­ undefinedï¼å¦å bool ç±»åç false ä¹å¯è½å¤å®ä¸ºæ å¼\n      if (mixinedPropValues[prop.name] === undefined) {\n        mixinedPropValues[prop.name] = prop[prop.type] && prop[prop.type].default\n          // å¦æåé¨ä»¶æ é»è®¤å¼ï¼å°±å å¥å¨å±çå½åç±»åé»è®¤å¼\n          || this.getPropertyDefaultValue(prop)\n      }\n    })\n    return mixinedPropValues\n  }\n\n  public getColorsByColorOption (colorOption) {\n    if (colorOption && colorOption.palette) return colorOption.palette\n    const colorType = colorOption ? colorOption.type : 'pure'\n    let colors\n    switch (colorType) {\n      case 'gradient':\n        colors = PlThemeColors.gradient\n        break\n      case 'pureOrGradient':\n        colors = [...PlThemeColors.pure, ...PlThemeColors.gradient]\n        break\n      case 'pure':\n      default:\n        colors = PlThemeColors.pure\n        break\n    }\n    return colors\n  }\n\n}\n","\n// TODO: å·¦å¾å³è¡¨é¡µé¢ãfuncId\nexport const CHART_TABLE_FUNC_ID = '???'\n\n","import { Injectable } from '@angular/core';\nimport { BsModalService, ModalOptions } from 'ngx-bootstrap/modal';\nimport { DataJumpConfig, DatalessJumpConfig, JumpTypes } from './preset/preset.jump';\nimport { CHART_TABLE_FUNC_ID } from './util';\n\n/**\n * @deprecated\n * ä¸ºäº widget-devkit çå¼å®¹èææ¶ä¿çãä¸ååç¨äºã\n * åé¨ä»¶åºè¯¥ç´æ¥ç¨ @gspwidget/utilã\n */\nexport const DASHBOARD_API = 'DashboardApi'\n\n@Injectable(\n  // { providedIn: 'root' }\n)\nexport class WidgetDevkitService {\n\n  constructor (\n    private modalService: BsModalService,\n    // private http: HttpClient\n    // private storageSvc: StorageService\n  ) { }\n\n  openModal (content: any, config?: ModalOptions) {\n    return this.modalService.show(content, config)\n  }\n\n  openMenu (funcId: string, queryParamsArray?: string[][]) {\n    window[DASHBOARD_API].openMenu(funcId, queryParamsArray)\n  }\n  openApp (appId: string) {\n    window[DASHBOARD_API].openApp(appId)\n  }\n  /**\n   * options åè https://ng.ant.design/components/message/zh\n   */\n  openInfoMsg (content: string, options?) {\n    window[DASHBOARD_API].messageSvc.info(content, options)\n  }\n  /**\n   * options åè https://ng.ant.design/components/message/zh\n   */\n  openSuccessMsg (content: string, options?) {\n    window[DASHBOARD_API].messageSvc.success(content, options)\n  }\n  /**\n   * options åè https://ng.ant.design/components/message/zh\n   */\n  openWarningMsg (content: string, options?) {\n    window[DASHBOARD_API].messageSvc.warning(content, options)\n  }\n  /**\n   * options åè https://ng.ant.design/components/message/zh\n   */\n  openErrorMsg (content: string, options?) {\n    window[DASHBOARD_API].messageSvc.error(content, options)\n  }\n\n  getData (dataOption) {\n    return window[DASHBOARD_API].storageSvc.getData(dataOption)\n  }\n  getUserInfo (reload = false) {\n    return window[DASHBOARD_API].storageSvc.getUserInfo(reload)\n  }\n  getUserAvatar (reload = false) {\n    return window[DASHBOARD_API].storageSvc.getUserAvatar(reload)\n  }\n  /**\n   * @deprecated åºç¨å¦å¤ä¸¤ä¸ª jump æ¹æ³\n   * èæ¥è·³è½¬ï¼ç´æ¥æéç½®å±æ§çå¼ä¼ è¿æ¥å°±è¡ãéæâæ âå°±ä¸è·³è½¬ã\n   * @param jumpProperty è·³è½¬çéç½®å±æ§çå¼\n   * @param dataItem å½åè·³è½¬å¯¹åºçæ°æ®è¡ãå¦ææ¯å¨å±è·³è½¬ï¼å°±ä¼ å¥ç¬¬ä¸è¡ï¼\n   */\n  jump (jumpProperty, dataItem?: any) {\n    const { type, funcId, params } = jumpProperty\n    const queryParamsArray = Array.isArray(params)\n      ? params.map(param => [param.key, (param.valueType === 'fixedValue'\n        ? param.fixedValue\n        : (dataItem\n          ? dataItem[param.fieldName.name]\n          : undefined\n        )\n      )])\n      : undefined\n    switch (type) {\n      case JumpTypes.None:\n        return\n      case JumpTypes.Func:\n        this.openMenu(funcId, queryParamsArray)\n        break\n      case JumpTypes.ChartTable:\n        this.openMenu(CHART_TABLE_FUNC_ID, queryParamsArray)\n        break\n    }\n  }\n  jumpWithData (dataJumpConfig: DataJumpConfig, dataItem: any) {\n    const { jumpType, funcIdSource, funcIdDataField, funcId, funcParams, url, urlParams, queryParams } = dataJumpConfig\n    const funcParamsArray = Array.isArray(funcParams)\n      ? funcParams.map(funcParam => [funcParam.key, (funcParam.valueType === 'fixedValue'\n        ? funcParam.fixedValue\n        : (dataItem\n          ? dataItem[funcParam.fieldName.name]\n          : undefined\n        )\n      )])\n      : undefined\n    switch (jumpType) {\n      case JumpTypes.None:\n        return\n      case JumpTypes.Func:\n        const resultFuncId =\n          (!funcIdSource || funcIdSource==='fixed')\n          ? funcId\n          : dataItem[funcIdDataField.name]\n        if (resultFuncId) this.openMenu(resultFuncId, funcParamsArray)\n        break\n      case JumpTypes.ChartTable:\n        this.openMenu(CHART_TABLE_FUNC_ID, funcParamsArray)\n        break\n      case JumpTypes.NewBrowserTab:\n        // æ¼ url\n        let finalUrl = url\n        // + urlParams\n        if (urlParams && urlParams.length > 0) {\n          const urlParamPart = urlParams.map(urlParam => {\n            const { valueType, fixedValue, fieldName } = urlParam\n            return valueType === 'fixedValue' ? fixedValue : dataItem[fieldName.name]\n          }).join('/')\n          finalUrl += url.endsWith('/') ? '' : '/'\n          finalUrl += urlParamPart\n        }\n        // + queryParams\n        if (queryParams && queryParams.length > 0) {\n          const queryParamPart = queryParams.map(queryParam => {\n            const { key, valueType, fixedValue, fieldName } = queryParam\n            return `${key}=${valueType === 'fixedValue' ? fixedValue : dataItem[fieldName.name]}`\n          }).join('&')\n          finalUrl += '?' + queryParamPart\n        }\n        // æå¼\n        window.open(finalUrl, '_blank')\n    }\n  }\n  jumpWithoutData (datalessJumpConfig: DatalessJumpConfig) {\n    const { jumpType, funcId, funcParams, url } = datalessJumpConfig\n    const funcParamsArray = Array.isArray(funcParams)\n      ? funcParams.map(funcParam => [funcParam.key, funcParam.value])\n      : undefined\n    switch (jumpType) {\n      case JumpTypes.None:\n        return\n      case JumpTypes.Func:\n        this.openMenu(funcId, funcParamsArray)\n        break\n      case JumpTypes.ChartTable:\n        this.openMenu(CHART_TABLE_FUNC_ID, funcParamsArray)\n        break\n      case JumpTypes.NewBrowserTab:\n        window.open(url, '_blank')\n    }\n  }\n\n}\n","import {\n  Component,\n  ContentChild, ElementRef, EventEmitter, Input, OnInit, Output,\n  TemplateRef, ViewEncapsulation\n} from '@angular/core';\nimport { DatalessJumpConfig, JumpTypes } from '../preset/preset.jump';\nimport { WidgetDevkitService } from '../widget-devkit.service';\n\n@Component({\n  selector: 'lib-widget-title-bar',\n  templateUrl: './widget-title-bar.component.html',\n  styleUrls: ['./widget-title-bar.component.scss'],\n  encapsulation: ViewEncapsulation.None\n})\nexport class WidgetTitleBarComponent implements OnInit {\n\n  @Input() icon = ''\n  /** æ é¢ */\n  @Input() showTitle = true\n  @Input() title = ''\n  /** æ°å­ */\n  @Input() showNumber = false\n  @Input() number = 0\n  /** è®¾ç½®æé® */\n  @Input() showSetting = false\n  @Input() settingTitle: string\n  @Output() clickSetting = new EventEmitter<any>()\n  /** å·æ°æé® */\n  @Input() showRefresh = false\n  @Output() clickRefresh = new EventEmitter<any>()\n\n  /** æ¯å¦å¯ç¨è·³è½¬ï¼å¼å¯ååé¨ä»¶éç½®ä¸­å¯éç½®å¨å±èæ¥ */\n  @Input() jumpConfig: DatalessJumpConfig\n  /** @deprecated åºæ¹ç¨ enableJumpãå¨å±èæ¥éç½® */\n  @Input() jumpProperty\n  /** @deprecated åºæ¹ç¨ enableJumpãä¸ºäºè·³è½¬æ¶è½åå°æ°æ®çç¬¬ä¸è¡ï¼ç¨æ¥æ¼æ¥è·³è½¬è·¯ç±åæ°ã */\n  @Input() data: any[]\n\n  /** ä¼ å¥æ¨¡æ¿ */\n  @ContentChild('leftTemplate') leftTemplate: TemplateRef<ElementRef>\n  @ContentChild('rightTemplate') rightTemplate: TemplateRef<ElementRef>\n\n  JumpTypes = JumpTypes\n\n  constructor (\n    private devkitSvc: WidgetDevkitService\n  ) { }\n\n  ngOnInit () {}\n\n  handleClickJump () {\n    this.devkitSvc.jumpWithoutData(this.jumpConfig)\n  }\n\n}\n","import { Component, OnInit, Input, Output, EventEmitter } from '@angular/core';\nimport { FormControl } from '@angular/forms';\n\nexport interface FilterOption<> {\n  value: any,\n  name: string\n}\n\n@Component({\n  selector: 'lib-widget-title-bar-select',\n  templateUrl: './widget-title-bar-select.component.html',\n  styleUrls: ['./widget-title-bar-select.component.scss']\n})\nexport class WidgetTitleBarSelectComponent implements OnInit {\n  filter: FormControl\n  \n  /** è¥ä¸è®¾ç½®ï¼é»è®¤ä½¿ç¨ç¬¬ä¸é¡¹ option */\n  @Input() defaultFilterValue: any\n  @Input() filterOptions: FilterOption[] = []\n  @Output() onFilterChange = new EventEmitter<any>()\n  \n  constructor() { }\n\n  ngOnInit() {\n    this.filter = new FormControl(this.defaultFilterValue ? this.defaultFilterValue : this.filterOptions[0].value)\n\n    this.filter.valueChanges.subscribe(newValue => {\n      this.onFilterChange.emit(newValue)\n    })\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ReactiveFormsModule } from '@angular/forms';\n\nimport { WidgetTitleBarComponent } from './widget-title-bar.component';\nimport { WidgetTitleBarSelectComponent } from './widget-title-bar-select/widget-title-bar-select.component';\nimport { TranslateModule } from '@ngx-translate/core';\n\n@NgModule({\n    declarations: [\n        WidgetTitleBarComponent,\n        WidgetTitleBarSelectComponent\n    ],\n    exports: [\n        WidgetTitleBarComponent,\n        WidgetTitleBarSelectComponent\n    ],\n    imports: [\n        CommonModule,\n        ReactiveFormsModule,\n        TranslateModule.forChild()\n    ]\n})\nexport class WidgetTitleBarModule {\n}","// TODO Should GradientObject been LinearGradientObject | RadialGradientObject\nexport interface GradientObject {\n  id?: number;\n\n  type: string;\n\n  colorStops: GradientColorStop[];\n}\n\nexport interface InnerGradientObject extends GradientObject {\n  __canvasGradient: CanvasGradient;\n}\n\nexport interface GradientColorStop {\n  offset: number;\n  color: string;\n}\n\nexport default class Gradient {\n  id?: number;\n\n  type: string;\n\n  colorStops: GradientColorStop[];\n\n  constructor(colorStops: GradientColorStop[]) {\n    this.colorStops = colorStops || [];\n  }\n\n  addColorStop(offset: number, color: string) {\n    this.colorStops.push({\n      offset,\n      color,\n    });\n  }\n}\n","import Gradient, { GradientObject, GradientColorStop } from \"./zrender.gradient\";\n\nexport interface LinearGradientObject extends GradientObject {\n  type: \"linear\";\n\n  x: number;\n  y: number;\n  x2: number;\n  y2: number;\n\n  global: boolean;\n}\n/**\n * x, y, x2, y2 are all percent from 0 to 1 when globalCoord is false\n */\n\nexport default class LinearGradient extends Gradient {\n  type: \"linear\";\n\n  x: number;\n  y: number;\n  x2: number;\n  y2: number;\n\n  global: boolean;\n\n  constructor(\n    x: number,\n    y: number,\n    x2: number,\n    y2: number,\n    colorStops?: GradientColorStop[],\n    globalCoord?: boolean\n  ) {\n    super(colorStops);\n\n    // Should do nothing more in this constructor. Because gradient can be\n    // declard by `color: {type: 'linear', colorStops: ...}`, where\n    // this constructor will not be called.\n\n    this.x = x == null ? 0 : x;\n\n    this.y = y == null ? 0 : y;\n\n    this.x2 = x2 == null ? 1 : x2;\n\n    this.y2 = y2 == null ? 0 : y2;\n\n    // Can be cloned\n    this.type = \"linear\";\n\n    // If use global coord\n    this.global = globalCoord || false;\n  }\n}\n","import { PlThemeColors } from \"@gspwidget/util\"\nimport { DataField, PropertyTypes } from \"../../types\"\nimport LinearGradient from \"./zrender.linear-gradient\"\n\nexport const EchartsOptions = {\n  grid: {\n    top: 20,\n    right: 30,\n    bottom: 36,\n    left: 10,\n    containLabel: true,\n  },\n  xAxis: {\n    type: 'category',\n    axisLine: {\n      lineStyle: {\n        color: '#D9D9D9',\n      }\n    },\n    axisTick: {\n      lineStyle: {\n        color: '#D9D9D9',\n      }\n    },\n    axisLabel: {\n      color: 'black',\n      margin: 10,\n      fontSize: 11\n    }\n  },\n  yAxis: {\n    axisLine: {\n      show: false\n    },\n    axisTick: {\n      show: false\n    },\n    splitLine: {\n      lineStyle: {\n        color: '#E4EBF057',\n        // type: 'dashed'\n      }\n    },\n    axisLabel: {\n      fontSize: 11\n    }\n  },\n  legend: {\n    // left: 45,\n    // top: -3,\n    x: 'center',\n    y: 'bottom',\n    itemWidth: 16,\n    itemHeight: 3,\n    borderRadius: 2,\n    icon: 'roundRect',\n    padding: [15, 0],\n    textStyle: {\n      color: '#000000a6'\n    }\n  },\n  tooltip: {\n    backgroundColor: \"#ffffffe8\",\n    textStyle: {\n      color: \"#000000e6\",\n    },\n    extraCssText: \"box-shadow: 0px 1px 7px #00000017;\",\n    appendToBody: true,\n    confine: true,\n  },\n}\nexport const chartsConsts = {\n  /** series label å­ä½å¤§å° */\n  seriesLabelFontSize: 9,\n}\n\nconst splitedGradientColors = PlThemeColors.gradient.map(c => c.split(','))\n\nexport const getChartColorsPure = (params) => {\n  return PlThemeColors.pure[params.dataIndex];\n}\nexport const getChartColorsGradient = (params) => {\n  return new LinearGradient(\n    0, 0, 0, 1, [\n      {offset: 0, color: splitedGradientColors[params.dataIndex % splitedGradientColors.length][0]},\n      {offset: 1, color: splitedGradientColors[params.dataIndex % splitedGradientColors.length][1]}\n    ]\n  )\n}\nexport const getChartColorsGradientOne = (params) => {\n  return new LinearGradient(\n    1, 0, 0, 0, [\n      {offset: 0, color: splitedGradientColors[params.dataIndex % splitedGradientColors.length][0]},\n      {offset: 1, color: splitedGradientColors[params.dataIndex % splitedGradientColors.length][1]}\n    ]\n  )\n}\n\n/**\n * å¯¹äºæ ây è½´èªå®ä¹èå´â ç charts åé¨ä»¶ï¼data é½è¦ç¨å®è¿æ»¤ååç¨\n * @param obj åé¨ä»¶å®ä¾\n */\nexport function filterYData (obj: { filterYFlag, yFieldObjs: { valueField: DataField, color: string }[], minY, maxY }, data) {\n  if (obj.filterYFlag) {\n    const yFields = obj.yFieldObjs.map(o => o.valueField.name)\n    return data.filter(item => {\n      return !yFields.some(yField => item[yField] <= obj.minY || item[yField] >= obj.maxY)\n    })\n  }\n  return data\n}\n\nexport const EchartsPropertyOptions = {\n  showRefresh: {\n    category: 'data',\n    displayName: 'showRefreshBtn',\n    type: PropertyTypes.Bool,\n    boolOption: {\n      default: true\n    }\n  },\n  filterYFlag: {\n    type: PropertyTypes.Bool,\n    category: 'data',\n    displayName: 'setYRange'\n  },\n  minY: {\n    type: PropertyTypes.Number,\n    category: 'data',\n    displayName: 'minY',\n    numberOption: {\n      default: 0\n    },\n    ifShow (values) { return values.filterYFlag }\n  },\n  maxY: {\n    type: PropertyTypes.Number,\n    category: 'data',\n    displayName: 'maxY',\n    numberOption: {\n      default: 1000\n    },\n    ifShow (values) { return values.filterYFlag }\n  },\n\n  showLabel: {\n    category: 'style',\n    type: PropertyTypes.Bool,\n    displayName: 'showNumber'\n  },\n  showTooltip: {\n    category: 'style',\n    type: PropertyTypes.Bool,\n    boolOption: { default: true },\n    displayName: 'showHoverDetail'\n  }\n\n  , legendStyleOption: {\n    type: PropertyTypes.Enum,\n    displayName: 'legendType',\n    category: 'style',\n    enumOption: {\n      default: 'scroll',\n      items: [\n        { value: 'none', displayName: 'notVisible' },\n        { value: 'plain', displayName: 'showAll' },\n        { value: 'scroll', displayName: 'scrollOverflow' }\n      ]\n    }\n  },\n  valueStyleOption: {\n    type: PropertyTypes.Enum,\n    displayName: 'valueType',\n    category: 'style',\n    enumOption: {\n      default: 'right',\n      items: [\n        { value: 'right', displayName: 'right' },\n        { value: 'insideRight', displayName: 'inside' },\n      ]\n    }\n  }\n}\n\n/**\n * ä¸ç§ä¼ åæ¹å¼ï¼\n * 1. '#000', '#fff'\n * 2. '#000,#fff'\n * 3. '#000'\n */\nexport function echartsGradient (c1: string, c2?: string) {\n  // è¥åªä¼ äºä¸ä¸ªå¼ãè¿ä¸æ¯éå·åå²ï¼åç´æ¥è¿åæ­¤çº¯è²\n  if (!c2 && !c1.includes(',')) return c1\n  // è¥åªä¼ äºä¸ä¸ªå¼ãæ¯éå·åå²ï¼å°±åå²ä¸ºä¿©é¢è²\n  if (!c2) [c1, c2] = c1.split(',')\n  return new LinearGradient(\n    0, 0, 0, 1, [\n      {offset: 0, color: c1},\n      {offset: 1, color: c2}\n    ]\n  )\n}\n\n// TODO: ææ¶ç»èµéåå½éå\nexport const tempMap = {\n  'éé¢': {\n    'en': 'Amount',\n    'zh-CHS': 'éé¢',\n  },\n  'æ°é': {\n    'en': 'Number',\n    'zh-CHS': 'æ°é',\n  }\n}\n// TODO: ææ¶ç»èµéå½éå\nexport function tempLabel (dataField: DataField, currentLang: string) {\n  const { label } = dataField\n  return tempMap[label] && tempMap[label][currentLang]\n    ? tempMap[label][currentLang]\n    : dataField.label\n}\n","/**\n * å­æ¾ææä»é¢å¶åé¨ä»¶ä¸­æ½ååºæ¥çå¬å±å¼ãæ¹æ³ã\n * å¥½å¤æ¯å¨æ­¤åºä¸­ç»ä¸ç»´æ¤ãç®¡çï¼ä¸ä¼è¢«æå°æ¯ä¸ªåé¨ä»¶ä¸­ã\n */\nexport * from './preset.jump'\nexport * from './preset.echarts'\n\n/**\n * dataItem è¿ä¸ªåå­ä¼å½±å exp ä¸­çåæ³ï¼ä¸å¯éææ´æ¹ã\n */\nexport function resolveTemplate (html: string, dataItem) {\n  const expPatt = /{{[\\d\\D]+?}}/gm\n  if (!html) return ''\n  const exps = html.match(expPatt) || []\n  try {\n    exps.forEach(exp => {\n      html = html.replace(exp, eval(exp.slice(2, -2)))\n    })\n  } catch (err) {\n    return html\n  }\n  return html\n}\n\n","import { Injectable, EventEmitter } from '@angular/core';\nimport { DataWithDims, Dimension } from '@gspwidget/util';\nimport { Observable } from 'rxjs';\n\nexport interface LoadDataOptions {\n  param?: { [key: string]: any }\n}\n/** é¨ä»¶ç³»ç»ãæ°æ®æå¡åé¨ä½¿ç¨ */\nexport interface LoadDataPayload {\n\n}\n/**\n * æ°æ®å è½½ä¸åºè¯¥è®©æ­¤ service ç´æ¥ååºï¼å ä¸ºå¤é¨æ¡æ¶å¹¶ä¸éæ¶é½æ¯æåæ°ï¼\n * æ¯å¦æ°å¢é¨ä»¶åçé¨ä»¶éç½®ï¼æ­¤æ¶æ²¡æéç½®è¿æ°æ®ï¼ä¾¿ä¼æå¡ç«¯æ¥éã\n * åºè¯¥äº¤ç±åé¨ä»¶å®¹å¨å è½½æ°æ®ã\n */\n@Injectable()\nexport class WidgetDataService {\n  /** loadData() / reloadData() æ¶è§¦åï¼å¤é¨åé¨ä»¶å®¹å¨æ¥æ¶ãå è½½æ°æ®ï¼å¹¶éè¿ setData è®¾ç½®åæ°æ® */\n  public onLoadData = new EventEmitter<{ [key: string]: any }>()\n  private onGetData = new EventEmitter<any[]>()\n  private onGetDataWithDims = new EventEmitter<DataWithDims>()\n\n  /**\n   * åé¨ä»¶è°ç¨æ­¤æ¹æ³è·åæ°æ®ãç¤ºä¾ï¼\n   * ```ts\n   * this.dataService.loadData().subscribe(data => {\n   *  this.data = data // ä½¿ç¨æ°æ®\n   * })\n   * ```\n   */\n  loadData (options?: LoadDataOptions) {\n    this.onLoadData.emit(options)\n    return this.onGetData\n  }\n  /**\n   * è·åå¨æ°æ®ä¿¡æ¯ï¼åå« dimensions\n   */\n  loadDataWithDims (options?: LoadDataOptions): Observable<DataWithDims> {\n    this.onLoadData.emit(options)\n    return this.onGetDataWithDims\n  }\n  /**\n   * åé¨ä»¶è°ç¨æ­¤æ¹æ³ä»¥éæ°è·åæ°æ®ï¼æ°æ®å è½½å®æååæ¬¡è°ç¨å¨ loadData() æ³¨åçäºä»¶å¤çå¨ãç¤ºä¾ï¼\n   * ```ts\n   * this.dataService.refreshData()\n   * ```\n   */\n  reloadData (param?: { [key: string]: any }) {\n    this.onLoadData.emit(param)\n  }\n\n  /**\n   * å¤é¨éè¿æ­¤æ¹æ³ç»åé¨ä»¶è®¾ç½®æ°æ®ï¼åé¨ä»¶æ éè°ç¨\n   * @param dataWithDims è¦è®¾ç½®çæ°æ®\n   */\n  setData (dataWithDims: DataWithDims) {\n    this.onGetData.emit(dataWithDims.tableData)\n    this.onGetDataWithDims.emit(dataWithDims)\n  }\n\n}\n","/** å¯ä¾èµæ³¨å¥è³åé¨ä»¶çåé¨ä»¶å®ä¾ä¿¡æ¯ */\nexport class WidgetInstanceInfo {\n  constructor (\n    /** é¨ä»¶ id */\n    public portletId?: string,\n    /** åé¨ä»¶å®ä¾ id */\n    public id?: string,\n    /** éææä»¶å¼ç¨åç¼ */\n    public assetsBaseUrl?: string,\n  ) {\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ModalModule } from 'ngx-bootstrap/modal';\nimport { WidgetDevkitService } from './widget-devkit.service';\nimport { WidgetTitleBarComponent } from './widget-title-bar/widget-title-bar.component';\nimport { WidgetTitleBarModule } from './widget-title-bar/widget-title-bar.module';\n// import { TranslateModule } from '@ngx-translate/core';\n\n@NgModule({\n  declarations: [  ],\n  providers: [ WidgetDevkitService ],\n  imports: [\n    CommonModule,\n    // éè¦å  forRootï¼ä¿è¯ WidgetDevkitService è½å¨æ­¤å±æ¾å°ä¾èµçéé¢çæå¡ã\n    // æ æ³ä¿è¯å¤é¨ç¯å¢ã\n    ModalModule.forRoot(),\n    // TranslateModule.forChild()\n  ],\n  exports: [\n    // TranslateModule\n    WidgetTitleBarModule\n  ]\n})\nexport class WidgetDevkitModule { }\n"],"names":["FILTERS_WIDGET_NAME","FILTERS_WIDGET_FILTERS_PROP_NAME","curLang","Injectable","map","list2Tree","Input","tslib_1.__decorate","PlThemeColors","BsModalService","EventEmitter","Component","ViewEncapsulation","Output","ContentChild","FormControl","NgModule","CommonModule","ReactiveFormsModule","TranslateModule","tslib_1.__extends","ModalModule"],"mappings":"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"}
