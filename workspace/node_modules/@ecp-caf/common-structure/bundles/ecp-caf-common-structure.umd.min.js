!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/common"),require("@angular/core"),require("@angular/common/http"),require("rxjs/operators")):"function"==typeof define&&define.amd?define("@ecp-caf/common-structure",["exports","@angular/common","@angular/core","@angular/common/http","rxjs/operators"],t):t((e["ecp-caf"]=e["ecp-caf"]||{},e["ecp-caf"]["common-structure"]={}),e.ng.common,e.ng.core,e.ng.common.http,e.rxjs.operators)}(this,function(e,t,r,n,i){"use strict";function o(){}var a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function c(e,t){function r(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var u,p=(c(s,u=o),s);function s(){return null!==u&&u.apply(this,arguments)||this}var f=(l.DEFAULT_ENTITY_OBJECT="DefaultEntityObject",l.DEFAULT_DATA_TRANSFER_OBJECT="DefaultDataTransferObject",l.DEFAULT_VALUE_OBJECT="DefaultValueObject",l);function l(){}var y,T=(c(d,y=p),d);function d(){var e=y.call(this)||this;return e.kind=f.DEFAULT_ENTITY_OBJECT,e}var v,O=(c(m,v=p),m);function m(){var e=v.call(this)||this;return e.kind=f.DEFAULT_DATA_TRANSFER_OBJECT,e}var w,E=(c(h,w=o),h);function h(){var e=w.call(this)||this;return e.kind=f.DEFAULT_VALUE_OBJECT,e}var b=function jr(){},D=(j.DEFAULT_MULTILLINGUAL_PROPERTY="DefaultMultillingualProperty",j.DEFAULT_OPERATION="DefaultOperation",j.DEFAULT_PARAMETER="DefaultParameter",j.DEFAULT_PROPERTY="DefaultProperty",j);function j(){}var F=(z.prototype.getKeys=function(){var e=new Array;for(var t in this.extension)e.push(t);return e},z.prototype.getValue=function(e){this.extension[e]},z);function z(){}var A,C=(c(S,A=F),S);function S(){var e=A.call(this)||this;return e.kind=D.DEFAULT_OPERATION,e}var _,k=(c(g,_=F),g);function g(){var e=_.call(this)||this;return e.kind=D.DEFAULT_PARAMETER,e}var L,R=(c(U,L=F),U);function U(){var e=L.call(this)||this;return e.kind=D.DEFAULT_PROPERTY,e}var P,I=(c(K,P=F),K.prototype.getKind=function(){return this.kind},K);function K(){return null!==P&&P.apply(this,arguments)||this}var M=(N.DEFAULT_PRIMITIVE="DefaultPrimitiveType",N.DEFAULT_COLLECTION="DefaultCollectionType",N.DEFAULT_MAP="DefaultMapType",N.DEFAULT_OBJECT="Object",N.DEFAULT_STRUCTURED="DefaultStructuredType",N.DEFAULT_DATA_TRANSFER_OBJECT="DefaultDtoType",N.DEFAULT_ENTITY="DefaultEntityType",N.DEFAULT_VALUE_OBJECT="DefaultValueObjectType",N.DEFAULT_ENUMERATION="DefaultEnumType",N.STRUCTURED_REF="RefStructuredType",N);function N(){}var x,J=(c(V,x=I),V);function V(){var e=x.call(this)||this;return e.kind=M.DEFAULT_COLLECTION,e}var B,Y=(c(q,B=I),q);function q(){var e=B.call(this)||this;return e.kind=M.DEFAULT_MAP,e}var G,H=(c(Q,G=I),Q);function Q(){var e=G.call(this)||this;return e.kind=M.DEFAULT_PRIMITIVE,e}var W,X=(c(Z,W=I),Z);function Z(){return null!==W&&W.apply(this,arguments)||this}var $,ee=(c(te,$=X),te);function te(){var e=$.call(this)||this;return e.kind=M.DEFAULT_ENTITY,e}var re,ne=(c(ie,re=X),ie);function ie(){var e=re.call(this)||this;return e.kind=M.DEFAULT_DATA_TRANSFER_OBJECT,e}var oe,ae=(c(ce,oe=X),ce);function ce(){var e=oe.call(this)||this;return e.kind=M.DEFAULT_VALUE_OBJECT,e}var ue,pe=(c(se,ue=X),se);function se(){var e=ue.call(this)||this;return e.kind=M.DEFAULT_ENUMERATION,e}var fe,le=function Fr(){},ye=(c(Te,fe=I),Te.prototype.getKind=function(){return this.kind},Te);function Te(){var e=fe.call(this)||this;return e.kind=M.DEFAULT_OBJECT,e}var de=(ve.STRING="StringConstraint",ve.DECIMAL="DecimalConstraint",ve);function ve(){}var Oe=(me.prototype.getKind=function(){return de.DECIMAL},me);function me(){}var we=(Ee.prototype.getKind=function(){return de.STRING},Ee);function Ee(){}var he={String:0,Bool:1,Int16:2,Int32:3,Int64:4,Float:5,Double:6,Decimal:7,DateTime:8,TimeStamp:9,Byte:10};he[he.String]="String",he[he.Bool]="Bool",he[he.Int16]="Int16",he[he.Int32]="Int32",he[he.Int64]="Int64",he[he.Float]="Float",he[he.Double]="Double",he[he.Decimal]="Decimal",he[he.DateTime]="DateTime",he[he.TimeStamp]="TimeStamp",he[he.Byte]="Byte";var be,De=(c(je,be=I),je);function je(){var e=be.call(this)||this;return e.kind=M.STRUCTURED_REF,e}var Fe=(ze.convertToObject=function(e,t){var r=new Object;if(e instanceof X)r.kind="RefStructuredType",r.isRefer=!0,r.refId=e.id;else{var n=e.getKind();r.kind=n,r=t.getDataTypeSerializerFactory().get(n).serialize(e,t)}return r},ze.initFromObject=function(e,t){var r;if(null!=e.isRefer)(r=new De).refId=e.refId;else{var n=e.kind;r=t.getDataTypeSerializerFactory().get(n).deserialize(e,t)}return r},ze);function ze(){}var Ae=(Ce.prototype.addToJObj=function(e,t){t.extension=e.extension},Ce.prototype.addToObj=function(e,t){t.extension&&(e.extension=t.extension)},Ce);function Ce(){}var Se=(_e.prototype.convertToObject=function(e,t,r){if(t){var n=t;if(e.kind=n.kind,e.elementType=null,n.elementType){if(!n.elementType.getKind())throw new Error("集合类型序列化时TypeKind为空！");e.elementType=Fe.convertToObject(n.elementType,r)}n.extension&&(new Ae).addToJObj(n,e)}},_e.prototype.initFromObject=function(e,t,r){var n=e;if(t){if(n.kind=t.kind,t.elementType){if(!t.elementType.kind)throw new Error("解析CollectionType时数据类型的TypeKind为空！");n.elementType=Fe.initFromObject(t.elementType,r)}t.extension&&(new Ae).addToObj(n,t)}},_e);function _e(){}var ke=(ge.prototype.convertToObject=function(e,t,r){if(t){var n=t;if(e.kind=n.kind,e.keyType=null,n.keyType){if(!n.keyType.getKind())throw new Error("Map类型序列化时KeyType的TypeKind为空！");e.keyType=Fe.convertToObject(n.keyType,r)}if(e.valueType=null,n.valueType){if(!n.valueType.getKind())throw new Error("Map类型序列化时ValueType的TypeKind为空！");e.valueType=Fe.convertToObject(n.valueType,r)}n.extension&&(new Ae).addToJObj(n,e)}},ge.prototype.initFromObject=function(e,t,r){var n=e;if(t){if(n.kind=t.kind,t.keyType){if(!t.keyType.kind)throw new Error("解析MapType的KeyType属性时数据类型的TypeKind为空！");n.keyType=Fe.initFromObject(t.keyType,r)}if(t.valueType){if(!t.valueType.kind)throw new Error("解析MapType的ValueType属性时数据类型的TypeKind为空！");n.valueType=Fe.initFromObject(t.valueType,r)}t.extension&&(new Ae).addToObj(n,t)}},ge);function ge(){}var Le=(Re.prototype.convertToObject=function(e,t,r){if(t){var n=t;e.kind=n.kind;var i=n.primitiveTypeKind;e.primitiveTypeKind=i,n.extension&&(new Ae).addToJObj(n,e)}},Re.prototype.initFromObject=function(e,t,r){var n=e;t&&(n.kind=t.kind,n.primitiveTypeKind=t.primitiveTypeKind,t.extension&&(new Ae).addToObj(n,t))},Re);function Re(){}var Ue=(Pe.prototype.convertToObject=function(e,t,r){if(t){var n=t;e.kind=n.kind,n.extension&&(new Ae).addToJObj(n,e)}},Pe.prototype.initFromObject=function(e,t,r){var n=e;t&&(n.kind=t.kind,t.extension&&(new Ae).addToObj(n,t))},Pe);function Pe(){}var Ie=(Ke.prototype.convertToObject=function(e,t,r){if(t){if(e.kind=t.kind,e.id=t.id,e.code=t.code,e.name=t.name,e.description=t.description,e.defaultValue=t.defaultValue,e.required=t.required,t.propertyType){if(!(n=t.propertyType.getKind()))throw new Error("属性序列化时属性类型获取TypeKind为空格！");e.propertyType=Fe.convertToObject(t.propertyType,r)}if(e.constraint=null,t.constraint){var n;if(!(n=t.constraint.getKind()))throw new Error("属性序列化时属性约束获取ConstraintKind为空格！");e.constraint=r.getConstraintSerializerFactory().get(n).serialize(t.constraint,r)}t.extension&&(new Ae).addToJObj(t,e)}},Ke.prototype.initFromObject=function(e,t,r){if(t){if(e.kind=t.kind,e.id=t.id,e.code=t.code,e.name=t.name,e.defaultValue=t.defaultValue,e.required=t.required,e.description=t.description,t.propertyType){if(!(n=t.propertyType.kind))throw new Error("解析属性时数据类型的TypeKind为空！");e.propertyType=Fe.initFromObject(t.propertyType,r)}if(t.constraint){var n;if(!(n=t.constraint.kind))throw new Error("解析属性时约束类型的ConstraintKind为空！");e.constraint=r.getConstraintSerializerFactory().get(n).deserialize(t.constraint,r)}t.extension&&(new Ae).addToObj(e,t)}},Ke);function Ke(){}var Me=(Ne.prototype.convertToObject=function(n,e,i){var t=e;t&&(n.kind=t.kind,n.id=t.id,n.code=t.code,n.name=t.name,n.description=t.description,n.properties=new Array,t.properties&&(new Ie,t.properties.forEach(function(e){var t=e.kind,r=i.getPropertySerializerFactory().get(t).serialize(e,i);n.properties.push(r)})),t.extension&&(new Ae).addToJObj(t,n))},Ne.prototype.initFromObject=function(e,t,n){var i=e;t&&(i.kind=t.kind,i.id=t.id,i.name=t.name,i.code=t.code,i.description=t.description,t.properties&&(i.properties=new Array,new Ie,t.properties.forEach(function(e){var t=e.kind,r=n.getPropertySerializerFactory().get(t).deserialize(e,n);i.properties.push(r)})),t.extension&&(new Ae).addToObj(i,t))},Ne);function Ne(){}var xe=(Je.prototype.convertToObject=function(e,t,r){(new Me).convertToObject(e,t,r)},Je.prototype.initFromObject=function(e,t,r){(new Me).initFromObject(e,t,r)},Je);function Je(){}var Ve=(Be.prototype.convertToObject=function(e,t,r){var n=(new Me).convertToObject(e,t,r);n.primaryKeys=new Array;var i=t;return i.primaryKeys&&i.primaryKeys.forEach(function(e){n.primaryKeys.push(e)}),i.extension&&(new Ae).addToJObj(i,e),n},Be.prototype.initFromObject=function(e,t,r){var n=e;(new Me).initFromObject(e,t,r),t.primaryKey&&(n.primaryKeys=new Array,t.primaryKey.forEach(function(e){n.primaryKeys.push(e)})),t.extension&&(new Ae).addToObj(n,t)},Be);function Be(){}var Ye=(qe.prototype.convertToObject=function(e,t,r){(new Me).convertToObject(e,t,r)},qe.prototype.initFromObject=function(e,t,r){(new Me).initFromObject(e,t,r)},qe);function qe(){}var Ge=(He.prototype.convertToObject=function(e,t){e.code=t.code,e.value=t.value,e.description=t.description},He.prototype.initFromObject=function(e,t){var r=e;t&&(r.code=t.code,r.value=t.value,r.description=t.description)},He);function He(){}var Qe=(We.prototype.convertToObject=function(r,e,t){(new Me).convertToObject(r,e,t);var n=e;if(r.enumerationItems=new Array,n.enumerationItems){var i=new Ge;n.enumerationItems.forEach(function(e){var t=new Object;i.convertToObject(t,e),r.enumerationItems.push(t)})}n.extension&&(new Ae).addToJObj(n,r)},We.prototype.initFromObject=function(e,t,r){(new Me).initFromObject(e,t,r);var n=e;if(t.enumerationItems){n.enumerationItems=new Array;var i=new Ge;t.enumerationItems.forEach(function(e){var t=new le;i.initFromObject(t,e),n.enumerationItems.push(t)})}t.extension&&(new Ae).addToObj(n,t)},We);function We(){}var Xe=(Ze.prototype.convertToObject=function(e,t,r){if(t){if(e.kind=t.kind,e.code=t.code,e.name=t.name,e.description=t.description,e.required=t.required,e.defaultValue=t.defaultValue,e.parameterType=null,t.parameterType){if(!(n=t.parameterType.getKind()))throw new Error("参数序列化时数据类型的TypeKind为空！");e.parameterType=Fe.convertToObject(t.parameterType,r)}if(e.constraint=null,t.constraint){var n;if(!(n=t.constraint.getKind()))throw new Error("参数序列化时参数约束的ConstraintKind为空！");e.constraint=r.getConstraintSerializerFactory().get(n).serialize(t.constraint,r)}t.extension&&(new Ae).addToJObj(t,e)}},Ze.prototype.initFromObject=function(e,t,r){if(t){if(e.kind=t.kind,e.code=t.code,e.name=t.name,e.defaultValue=t.defaultValue,e.description=t.description,e.required=t.required,t.parameterType){if(!(n=t.parameterType.kind))throw new Error("解析参数数据类型时TypeKind为空！");e.parameterType=Fe.initFromObject(t.parameterType,r)}if(t.constraint){var n;if(!(n=t.constraint.kind))throw new Error("解析参数约束类型时ConstraintKind为空！");e.constraint=r.getConstraintSerializerFactory().get(n).deserialize(t.constraint,r)}t.extension&&(new Ae).addToObj(e,t)}},Ze);function Ze(){}var $e=(et.prototype.convertToObject=function(n,e,i){if(e){if(n.kind=e.kind,n.code=e.code,n.name=e.name,n.uri=e.uri,n.description=e.description,n.returnType=null,e.returnType){if(!e.returnType.getKind())throw new Error("操作序列化时返回值类型的TypeKind为空!");n.returnType=Fe.convertToObject(e.returnType,i)}n.parameters=new Array,e.parameters&&(new Xe,e.parameters.forEach(function(e){var t=e.kind,r=i.getParameterSerializerFactory().get(t).deserialize(e,i);n.parameters.push(r)})),e.extension&&(new Ae).addToJObj(e,n)}},et.prototype.initFromObject=function(n,e,i){if(e){if(n.kind=e.kind,n.code=e.code,n.name=e.name,n.uri=e.uri,n.description=e.description,e.parameters&&(n.parameters=new Array,new Xe,e.parameters.forEach(function(e){var t=e.kind,r=i.getParameterSerializerFactory().get(t).deserialize(e,i);n.parameters.push(r)})),e.returnType){if(!e.returnType.kind)throw new Error("解析操作的返回值时TypeKind为空！");n.returnType=Fe.initFromObject(e.returnType,i)}e.extension&&(new Ae).addToObj(n,e)}},et);function et(){}var tt=(rt.replaceOperationRefer=function(i,e){var o=this;null!=e&&e.forEach(function(e){var t=e.returnType;if(null!=t&&t instanceof De){var r=t.refId,n=o.getRefStructureType(i,r);e.returnType=n}null!=e.parameters&&e.parameters.forEach(function(e){var t=e.parameterType;if(t instanceof De){var r=t.refId,n=o.getRefStructureType(i,r);e.parameterType=n}})})},rt.replacePropertyRefer=function(e){var n=this,i=this.getAllStructuredTypes(e);null!=e.structuredTypes&&e.structuredTypes.forEach(function(e){null!=e.properties&&e.properties.forEach(function(e){if(e.propertyType instanceof De){var t=e.propertyType.refId,r=n.getRefStructureType(i,t);e.propertyType=r}})}),null!=e.refStructures&&e.refStructures.forEach(function(e){n.replacePropertyRefer(e)})},rt.getRefStructureType=function(e,t){return e.find(function(e){return e.id==t})},rt.getAllStructuredTypes=function(e){var t=new Array;return null!=e.structuredTypes&&(t=t.concat(e.structuredTypes)),null!=e.refStructures&&e.refStructures.forEach(function(e){null!=e.structuredTypes&&(t=t.concat(e.structuredTypes))}),t},rt);function rt(){}var nt=(it.prototype.convertToObject=function(n,e,i){e&&(n.id=e.id,n.uri=e.uri,n.code=e.code,n.name=e.name,n.kind=e.kind,n.description=e.description,new Me,n.structuredTypes=new Array,e.structuredTypes&&e.structuredTypes.forEach(function(e){var t=e.kind,r=i.getDataTypeSerializerFactory().get(t).serialize(e,i);n.structuredTypes.push(r)}),n.refStructures=new Array,e.refStructures&&e.refStructures.forEach(function(e){var t=e.kind,r=i.getStructureSerializerFactory().get(t).serialize(e,i);n.refStructures.push(r)}))},it.prototype.initFromObject=function(n,e,i){e&&(n.kind=e.kind,n.id=e.id,n.uri=e.uri,n.code=e.code,n.name=e.name,n.description=e.description,e.structuredTypes&&(n.structuredTypes=new Array,e.structuredTypes.forEach(function(e){var t=e.kind,r=i.getDataTypeSerializerFactory().get(t).deserialize(e,i);n.structuredTypes.push(r)})),e.refStructures&&(n.refStructures=new Array,e.refStructures.forEach(function(e){var t=e.kind,r=i.getStructureSerializerFactory().get(t).deserialize(e,i);n.refStructures.push(r)})),tt.replacePropertyRefer(n))},it);function it(){}var ot=(at.prototype.convertToObject=function(e,t,r){(new nt).convertToObject(e,t,r),t.root&&(e.rootId=t.root.id)},at.prototype.initFromObject=function(e,t,r){(new nt).initFromObject(e,t,r);var n=t.rootId;n&&e.structuredTypes&&0<e.structuredTypes.length&&(e.root=e.structuredTypes.find(function(e){return e.id==n}))},at);function at(){}var ct=(ut.prototype.convertToObject=function(n,e,i){(new ot).convertToObject(n,e,i),n.entityRelations=e.entityRelations,n.operations=new Array,e.operations&&e.operations.forEach(function(e){var t=e.kind,r=i.getOperationSerializerFactory().get(t).serialize(e,i);n.operations.push(r)})},ut.prototype.initFromObject=function(n,e,i){(new ot).initFromObject(n,e,i),e.entityRelations&&(n.entityRelations=e.entityRelations),e.operations&&(n.operations=new Array,e.operations.forEach(function(e){var t=e.kind,r=i.getOperationSerializerFactory().get(t).deserialize(e,i);n.operations.push(r)}));var t=tt.getAllStructuredTypes(n);tt.replaceOperationRefer(t,n.operations)},ut);function ut(){}var pt=(st.prototype.convertToObject=function(e,t,r){(new ot).convertToObject(e,t,r)},st.prototype.initFromObject=function(e,t,r){(new ot).initFromObject(e,t,r)},st);function st(){}var ft=(lt.prototype.convertToObject=function(e,t,r){(new nt).convertToObject(e,t,r);var n=t.dataType;e.structureId=n.id},lt.prototype.initFromObject=function(e,t,r){(new nt).initFromObject(e,t,r);var n=tt.getAllStructuredTypes(e);tt.replaceOperationRefer(n,e.operations)},lt);function lt(){}var yt=(Tt.prototype.convertorToObject=function(e){var t=new Object;return e&&(t.ParentPropCode=e.ParentPropCode,t.ChildPropCode=e.ChildPropCode),t},Tt.prototype.initFromObject=function(e){var t=new b;return e&&(t.ParentPropCode=e.ParentPropCode,t.ChildPropCode=e.ChildPropCode),t},Tt);function Tt(){}var dt=(vt.prototype.convertorToObject=function(e){return e},vt.prototype.initFromObject=function(e){var i=new Object;return e&&Object.keys(e).forEach(function(n){var t=e[n];t&&(i[n]=new Object,Object.keys(t).forEach(function(r){var e=t[r];e&&(i[n][r]=new Array,e.forEach(function(e){var t=(new yt).initFromObject(e);i[n][r].push(t)}))}))}),i},vt);function vt(){}var Ot=(mt.prototype.convertToObject=function(e,t,r){if(t)switch(t.getKind()){case de.DECIMAL:var n=t;e.scale=n.scale,e.pricision=n.pricision;case de.STRING:var i=t;e.maxLength=i.maxLength;default:throw new Error("约束不支持的"+t.getKind()+"类型！")}},mt.prototype.initFromObject=function(e,t,r){if(!t)return null;switch(t.kind){case de.DECIMAL:case de.STRING:default:throw new Error("约束不支持的"+t.kind+"类型！")}},mt);function mt(){}var wt=(Et.prototype.serialize=function(e,t){var r=new Object;return(new Le).convertToObject(r,e,t),r},Et.prototype.deserialize=function(e,t){var r=new H;return(new Le).initFromObject(r,e,t),r},Et);function Et(){}var ht=(bt.prototype.serialize=function(e,t){var r=new Object;return(new Se).convertToObject(r,e,t),r},bt.prototype.deserialize=function(e,t){var r=new J;return(new Se).initFromObject(r,e,t),r},bt);function bt(){}var Dt=(jt.prototype.serialize=function(e,t){var r=new Object;return(new ke).convertToObject(r,e,t),r},jt.prototype.deserialize=function(e,t){var r=new Y;return(new ke).initFromObject(r,e,t),r},jt);function jt(){}var Ft=(zt.prototype.serialize=function(e,t){var r=new Object;return(new Me).convertToObject(r,e,t),r},zt.prototype.deserialize=function(e,t){var r=new X;return(new Me).initFromObject(r,e,t),r},zt);function zt(){}var At=(Ct.prototype.serialize=function(e,t){var r=new Object;return(new Ve).convertToObject(r,e,t),r},Ct.prototype.deserialize=function(e,t){var r=new ee;return(new Ve).initFromObject(r,e,t),r},Ct);function Ct(){}var St=(_t.prototype.serialize=function(e,t){var r=new Object;return(new Qe).convertToObject(r,e,t),r},_t.prototype.deserialize=function(e,t){var r=new pe;return(new Qe).initFromObject(r,e,t),r},_t);function _t(){}var kt=(gt.prototype.serialize=function(e,t){var r=new Object;return(new xe).convertToObject(r,e,t),r},gt.prototype.deserialize=function(e,t){var r=new ne;return(new xe).initFromObject(r,e,t),r},gt);function gt(){}var Lt=(Rt.prototype.serialize=function(e,t){var r=new Object;return(new Ye).convertToObject(r,e,t),r},Rt.prototype.deserialize=function(e,t){var r=new ae;return(new Ye).initFromObject(r,e,t),r},Rt);function Rt(){}var Ut=(Pt.prototype.serialize=function(e,t){var r=new Object;return(new Ue).convertToObject(r,e,t),r},Pt.prototype.deserialize=function(e,t){var r=new ye;return(new Ue).initFromObject(r,e,t),r},Pt);function Pt(){}var It=(Kt.prototype.get=function(e){switch(e){case M.DEFAULT_PRIMITIVE:if(!this.serializerDict[e]){var t=new wt;this.serializerDict[e]=t}break;case M.DEFAULT_COLLECTION:this.serializerDict[e]||(t=new ht,this.serializerDict[e]=t);break;case M.DEFAULT_MAP:this.serializerDict[e]||(t=new Dt,this.serializerDict[e]=t);break;case M.DEFAULT_STRUCTURED:this.serializerDict[e]||(t=new Ft,this.serializerDict[e]=t);break;case M.DEFAULT_DATA_TRANSFER_OBJECT:this.serializerDict[e]||(t=new kt,this.serializerDict[e]=t);break;case M.DEFAULT_ENTITY:this.serializerDict[e]||(t=new At,this.serializerDict[e]=t);break;case M.DEFAULT_VALUE_OBJECT:this.serializerDict[e]||(t=new Lt,this.serializerDict[e]=t);break;case M.DEFAULT_ENUMERATION:this.serializerDict[e]||(t=new St,this.serializerDict[e]=t);break;case M.DEFAULT_OBJECT:this.serializerDict[e]||(t=new Ut,this.serializerDict[e]=t);break;default:throw new Error("未找到类型为"+e+"的序列化器！")}return this.serializerDict[e]},Kt);function Kt(){this.serializerDict={}}var Mt="DefaultProperty",Nt="DefaultParameter",xt="DefaultOperation",Jt="DefaultEntityObject",Vt="DefaultDataTransferObject",Bt="DefaultValueObject",Yt="DefaultConstraint",qt=(Gt.prototype.serialize=function(e,t){var r=new Object;return(new $e).convertToObject(r,e,t),r},Gt.prototype.deserialize=function(e,t){var r=new C;return(new $e).initFromObject(r,e,t),r},Gt);function Gt(){}var Ht=(Qt.prototype.get=function(e){switch(e){case xt:if(!this.serializerDict[e]){var t=new qt;this.serializerDict[e]=t}break;default:throw new Error("未匹配到类型为"+e+"的序列化器!")}return this.serializerDict[e]},Qt);function Qt(){this.serializerDict={}}var Wt=(Xt.prototype.serialize=function(e,t){var r=new Object;return(new Xe).convertToObject(r,e,t),r},Xt.prototype.deserialize=function(e,t){var r=new k;return(new Xe).initFromObject(r,e,t),r},Xt);function Xt(){}var Zt=($t.prototype.get=function(e){switch(e){case Nt:if(!this.serializerDict[e]){var t=new Wt;this.serializerDict[e]=t}break;default:throw new Error("未匹配到类型为"+e+"的序列化器!")}return this.serializerDict[e]},$t);function $t(){this.serializerDict={}}var er=(tr.prototype.serialize=function(e,t){var r=new Object;return(new Ie).convertToObject(r,e,t),r},tr.prototype.deserialize=function(e,t){var r=new R;return(new Ie).initFromObject(r,e,t),r},tr);function tr(){}var rr=(nr.prototype.get=function(e){switch(e){case Mt:if(!this.serializerDict[e]){var t=new er;this.serializerDict[e]=t}break;default:throw new Error("未匹配到类型为"+e+"的序列化器!")}return this.serializerDict[e]},nr);function nr(){this.serializerDict={}}var ir=(or.prototype.serialize=function(e,t){var r=new Object,n=e;return(new ct).convertToObject(r,n,t),r},or.prototype.deserialize=function(e,t){var r=new T;return(new ct).initFromObject(r,e,t),r},or);function or(){}var ar=(cr.prototype.serialize=function(e,t){var r=new Object,n=e;return(new ft).convertToObject(r,n,t),r},cr.prototype.deserialize=function(e,t){var r=new E;return(new ft).initFromObject(r,e,t),r},cr);function cr(){}var ur=(pr.prototype.serialize=function(e,t){var r=new O,n=e;return(new pt).convertToObject(r,n,t),r},pr.prototype.deserialize=function(e,t){var r=new O;return(new pt).initFromObject(r,e,t),r},pr);function pr(){}var sr=(fr.prototype.get=function(e){switch(e){case Jt:if(!this.serializerDict[e]){var t=new ir;this.serializerDict[e]=t}break;case Bt:this.serializerDict[e]||(t=new ar,this.serializerDict[e]=t);break;case Vt:this.serializerDict[e]||(t=new ur,this.serializerDict[e]=t);break;default:throw new Error("未匹配到类型为"+e+"的序列化器!")}return this.serializerDict[e]},fr);function fr(){this.serializerDict={}}var lr=(yr.prototype.serialize=function(e,t){var r=new Object;return(new Ot).convertToObject(r,e,t),r},yr.prototype.deserialize=function(e,t){throw new Error("Method not implemented.")},yr);function yr(){}var Tr=(dr.prototype.get=function(e){switch(e){case Yt:if(!this.serializerDict[e]){var t=new lr;this.serializerDict[e]=t}break;default:throw new Error("未匹配到类型为"+e+"的序列化器!")}return this.serializerDict[e]},dr);function dr(){this.serializerDict={}}var vr=(Or.prototype.getDataTypeSerializerFactory=function(){return this.dataTypeFactory||(this.dataTypeFactory=new It),this.dataTypeFactory},Or.prototype.getOperationSerializerFactory=function(){return this.operationFactory||(this.operationFactory=new Ht),this.operationFactory},Or.prototype.getParameterSerializerFactory=function(){return this.parameterFactory||(this.parameterFactory=new Zt),this.parameterFactory},Or.prototype.getPropertySerializerFactory=function(){return this.propertyFactory||(this.propertyFactory=new rr),this.propertyFactory},Or.prototype.getStructureSerializerFactory=function(){return this.structureFactory||(this.structureFactory=new sr),this.structureFactory},Or.prototype.getConstraintSerializerFactory=function(){return this.constraintFactory||(this.constraintFactory=new Tr),this.constraintFactory},Or);function Or(){}var mr=(wr.prototype.get=function(e,t){var r=this.commom_structure_url+"?id="+e;return this.http.get(r,{headers:t}).pipe(i.map(function(e){var t=new vr,r=e.kind;return t.getStructureSerializerFactory().get(r).deserialize(e,t)},function(e){return alert("获取通用数据结构失败！"),null}))},wr.decorators=[{type:r.Injectable}],wr.ctorParameters=function(){return[{type:n.HttpClient}]},wr);function wr(e){this.http=e,this.commom_structure_url="/api/dev/main/v1.0/common-structure"}var Er=(hr.prototype.get=function(e,t){var r=this.commom_structure_url+"?id="+e;return this.http.get(r,{headers:t}).pipe(i.map(function(e){var t=new vr,r=e.kind;return t.getStructureSerializerFactory().get(r).deserialize(e,t)},function(e){return alert("获取通用数据结构失败！"),null}))},hr.decorators=[{type:r.Injectable}],hr.ctorParameters=function(){return[{type:n.HttpClient}]},hr);function hr(e){this.http=e,this.commom_structure_url="/api/runtime/sys/v1.0/common-structure"}var br=(Dr.decorators=[{type:r.NgModule,args:[{imports:[t.CommonModule,n.HttpClientModule],declarations:[],providers:[mr,Er],exports:[]}]}],Dr);function Dr(){}e.CommonStructure=o,e.Aggregate=p,e.EntityObject=T,e.DataTransferObject=O,e.ValueObject=E,e.EntityRelation=b,e.Operation=C,e.Parameter=k,e.Property=R,e.DataType=I,e.CollectionType=J,e.MapType=Y,e.PrimitiveType=H,e.StructuredType=X,e.EntityType=ee,e.DataTransferObjectType=ne,e.ValueObjectType=ae,e.EnumerationType=pe,e.EnumerationItem=le,e.ObjectType=ye,e.DecimalConstraint=Oe,e.StringConstraint=we,e.CommonStructureConst=f,e.ConstraintConst=de,e.DataTypeConst=M,e.ElementConstant=D,e.PrimitiveTypeKind=he,e.CollectionTypeConvertor=Se,e.MapTypeConvertor=ke,e.PrimitiveTypeConvertor=Le,e.ObjectTypeConvertor=Ue,e.StructuredTypeConvertor=Me,e.DataTransferObjectTypeConvertor=xe,e.EntityTypeConvertor=Ve,e.ValueObjectTypeConvertor=Ye,e.EnumerationTypeConvertor=Qe,e.EnumerationItemConvertor=Ge,e.OperationConvertor=$e,e.ParameterConvertor=Xe,e.PropertyConvertor=Ie,e.CommonStructureConvertor=nt,e.AggregateConvertor=ot,e.EntityObjectConvertor=ct,e.DataTransferObjectConvertor=pt,e.ValueObjectConvertor=ft,e.RelationConvertor=yt,e.RelationDictConvertor=dt,e.ConstraintConvertor=Ot,e.DataTypeConvertUtil=Fe,e.ReferReplaceUtil=tt,e.DefaultSerializeContext=vr,e.DefaultDataTypeSerializerFactory=It,e.DefaultOperationSerializerFactory=Ht,e.DefaultParameterSerializerFactory=Zt,e.DefaultPropertySerializerFactory=rr,e.DefaultStructureSerializerFactory=sr,e.DefaultCollectionTypeSerializer=ht,e.DefaultDataTransferObjectSerializer=ur,e.DefaultDataTransferObjectTypeSerializer=kt,e.DefaultEntityObjectSerializer=ir,e.DefaultEntityTypeSerializer=At,e.DefaultEnumerationTypeSerializer=St,e.DefaultMapTypeSerializer=Dt,e.DefaultOperationSerializer=qt,e.DefaultParameterSerializer=Wt,e.DefaultPrimitiveTypeSerializer=wt,e.DefaultProeprtySerializer=er,e.DefaultStructuredTypeSerializer=Ft,e.DefaultValueObjectSerializer=ar,e.DefaultValueObjectTypeSerializer=Lt,e.DefaultConstraintSerializer=lr,e.CommonStructureModule=br,e.CommonStructureDTService=mr,e.CommonStructureRTService=Er,e.DEFAULT_PRIMITIVE_TYPE="DefaultPrimitiveType",e.DEFAULT_COLLECTION_TYPE="DefaultCollectionType",e.DEFAULT_MAP_TYPE="DefaultMapType",e.DEFAULT_STRUCTURED_TYPE="DefaultStructuredType",e.DEFAULT_DATA_TRANSFER_OBJECT_TYPE="DefaultDtoType",e.DEFAULT_ENTITY_TYPE="DefaultEntityType",e.DEFAULT_VALUE_OBJECT_TYPE="DefaultValueObjectType",e.DEFAULT_ENUMERATION_TYPE="DefaultEnumType",e.DEFAULT_OBJECT_TYPE="Object",e.DEFAULT_PROPERTY=Mt,e.DEFAULT_PARAMETER=Nt,e.DEFAULT_OPERATION=xt,e.DEFAULT_MUTILLINGUAL_PROPERTY="DefaultMultillingualProperty",e.DEFAULT_ENTITY_OBJECT=Jt,e.DEFAULT_DATA_TRANSFER_OBJECT=Vt,e.DEFAULT_VALUE_OBJECT=Bt,e.DEFAULT_CONSTRAINT=Yt,e.ɵa=F,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ecp-caf-common-structure.umd.min.js.map