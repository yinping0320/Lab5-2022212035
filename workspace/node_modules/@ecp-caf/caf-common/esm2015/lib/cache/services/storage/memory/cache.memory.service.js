/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { Injectable } from '@angular/core';
import { CacheStorageAbstract } from '../cache.storage.abstract.service';
import { WindowVariableService } from '../../../../services/window-service/window-variable.service';
/**
 * Service for storing data in local storage
 */
export class CacheMemoryStorage extends CacheStorageAbstract {
    constructor() {
        super(...arguments);
        this._data = {};
        this.windowSvc = new WindowVariableService();
    }
    /**
     * @param {?} key
     * @return {?}
     */
    getItem(key) {
        /** @type {?} */
        const cache = this.getGlobleCache(key);
        if (cache) {
            this._data[key] = cache;
        }
        return this._data[key] ? this._data[key] : null;
    }
    /**
     * @param {?} key
     * @param {?} value
     * @return {?}
     */
    setItem(key, value) {
        this.setGlobleCache(key, value);
        this._data[key] = value;
        return true;
    }
    /**
     * @param {?} key
     * @return {?}
     */
    removeItem(key) {
        delete this._data[key];
    }
    /**
     * @return {?}
     */
    clear() {
        this._data = [];
    }
    /**
     * @return {?}
     */
    type() {
        return 2 /* MEMORY */;
    }
    /**
     * @return {?}
     */
    isEnabled() {
        return true;
    }
    /**
     * @private
     * @param {?} key
     * @param {?} value
     * @return {?}
     */
    setGlobleCache(key, value) {
        /** @type {?} */
        const topWindow = this.windowSvc.getTopWindow();
        try {
            if (topWindow.name) {
                /** @type {?} */
                let exist = false;
                /** @type {?} */
                const ary = topWindow.name.split('&|&');
                // tslint:disable-next-line: prefer-for-of
                for (let i = 0; i < ary.length; i++) {
                    if (ary[i]) {
                        /** @type {?} */
                        const obj = JSON.parse(ary[i]);
                        if (obj[key]) {
                            topWindow.name = topWindow.name.replace(ary[i], this.serializeData(key, value));
                            exist = true;
                            break;
                        }
                    }
                }
                if (!exist) {
                    topWindow.name += '&|&' + this.serializeData(key, value);
                }
            }
            else {
                topWindow.name = this.serializeData(key, value);
            }
        }
        catch (_a) {
            topWindow.name = '';
        }
    }
    /**
     * @private
     * @param {?} key
     * @return {?}
     */
    getGlobleCache(key) {
        /** @type {?} */
        const topWindow = this.windowSvc.getTopWindow();
        try {
            /** @type {?} */
            let result;
            if (topWindow.name) {
                if (topWindow.name.indexOf('&|&') >= 0) {
                    /** @type {?} */
                    const ary = topWindow.name.split('&|&');
                    for (let i = 0; i < ary.length; i++) {
                        if (ary[i]) {
                            /** @type {?} */
                            const obj = JSON.parse(ary[i]);
                            if (obj[key]) {
                                result = obj[key].value;
                                if (i === 0) {
                                    topWindow.name = topWindow.name.replace(ary[i] + '&|&', '');
                                }
                                else {
                                    topWindow.name = topWindow.name.replace('&|&' + ary[i], '');
                                }
                                break;
                            }
                        }
                    }
                }
                else {
                    /** @type {?} */
                    const obj = JSON.parse(topWindow.name);
                    if (obj[key]) {
                        result = obj[key].value;
                        topWindow.name = '';
                    }
                }
            }
            return result;
        }
        catch (_a) {
            topWindow.name = '';
            return null;
        }
    }
    /**
     * @private
     * @param {?} key
     * @param {?} value
     * @return {?}
     */
    serializeData(key, value) {
        /** @type {?} */
        const obj = {};
        obj[key] = {
            value
        };
        return JSON.stringify(obj);
    }
}
CacheMemoryStorage.decorators = [
    { type: Injectable }
];
if (false) {
    /**
     * @type {?}
     * @private
     */
    CacheMemoryStorage.prototype._data;
    /**
     * @type {?}
     * @private
     */
    CacheMemoryStorage.prototype.windowSvc;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2FjaGUubWVtb3J5LnNlcnZpY2UuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9AZWNwLWNhZi9jYWYtY29tbW9uLyIsInNvdXJjZXMiOlsibGliL2NhY2hlL3NlcnZpY2VzL3N0b3JhZ2UvbWVtb3J5L2NhY2hlLm1lbW9yeS5zZXJ2aWNlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7QUFBQSxPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBQzNDLE9BQU8sRUFBRSxvQkFBb0IsRUFBRSxNQUFNLG1DQUFtQyxDQUFDO0FBR3pFLE9BQU8sRUFBRSxxQkFBcUIsRUFBRSxNQUFNLDZEQUE2RCxDQUFDOzs7O0FBTXBHLE1BQU0sT0FBTyxrQkFBbUIsU0FBUSxvQkFBb0I7SUFENUQ7O1FBR1UsVUFBSyxHQUEyQixFQUFFLENBQUM7UUFDbkMsY0FBUyxHQUFHLElBQUkscUJBQXFCLEVBQUUsQ0FBQztJQTBHbEQsQ0FBQzs7Ozs7SUF4R1EsT0FBTyxDQUFDLEdBQVc7O2NBQ2xCLEtBQUssR0FBRyxJQUFJLENBQUMsY0FBYyxDQUFDLEdBQUcsQ0FBQztRQUN0QyxJQUFJLEtBQUssRUFBRTtZQUNULElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLEdBQUcsS0FBSyxDQUFDO1NBQ3pCO1FBQ0QsT0FBTyxJQUFJLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUM7SUFDbEQsQ0FBQzs7Ozs7O0lBRU0sT0FBTyxDQUFDLEdBQVcsRUFBRSxLQUE0QjtRQUN0RCxJQUFJLENBQUMsY0FBYyxDQUFDLEdBQUcsRUFBRSxLQUFLLENBQUMsQ0FBQztRQUNoQyxJQUFJLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEtBQUssQ0FBQztRQUN4QixPQUFPLElBQUksQ0FBQztJQUNkLENBQUM7Ozs7O0lBRU0sVUFBVSxDQUFDLEdBQVc7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LE9BQU8sQ0FBQyxLQUFLLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDO2lDQUM3RDtnQ0FDRCxNQUFNOzZCQUNQO3lCQUNGO3FCQUNGO2lCQUNGO3FCQUFNOzswQkFDQyxHQUFHLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDO29CQUN0QyxJQUFJLEdBQUcsQ0FBQyxHQUFHLENBQUMsRUFBRTt3QkFDWixNQUFNLEdBQUcsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEtBQUssQ0FBQzt3QkFDeEIsU0FBUyxDQUFDLElBQUksR0FBRyxFQUFFLENBQUM7cUJBQ3JCO2lCQUNGO2FBQ0Y7WUFFRCxPQUFPLE1BQU0sQ0FBQztTQUNmO1FBQUMsV0FBTTtZQUNOLFNBQVMsQ0FBQyxJQUFJLEdBQUcsRUFBRSxDQUFDO1lBQ3BCLE9BQU8sSUFBSSxDQUFDO1NBQ2I7SUFDSCxDQUFDOzs7Ozs7O0lBRU8sYUFBYSxDQUFDLEdBQVcsRUFBRSxLQUFVOztjQUNyQyxHQUFHLEdBQUcsRUFBRTtRQUNkLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRztZQUNULEtBQUs7U0FDTixDQUFDO1FBRUYsT0FBTyxJQUFJLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQzdCLENBQUM7OztZQTVHRixVQUFVOzs7Ozs7O0lBR1QsbUNBQTJDOzs7OztJQUMzQyx1Q0FBZ0QiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJbmplY3RhYmxlIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcbmltcG9ydCB7IENhY2hlU3RvcmFnZUFic3RyYWN0IH0gZnJvbSAnLi4vY2FjaGUuc3RvcmFnZS5hYnN0cmFjdC5zZXJ2aWNlJztcclxuaW1wb3J0IHsgQ2FjaGVTdG9yYWdlc0VudW0gfSBmcm9tICcuLi8uLi8uLi9lbnVtcy9jYWNoZS5zdG9yYWdlcy5lbnVtJztcclxuaW1wb3J0IHsgU3RvcmFnZVZhbHVlSW50ZXJmYWNlIH0gZnJvbSAnLi4vLi4vLi4vaW50ZXJmYWNlcy9zdG9yYWdlLnZhbHVlLmludGVyZmFjZSc7XHJcbmltcG9ydCB7IFdpbmRvd1ZhcmlhYmxlU2VydmljZSB9IGZyb20gJy4uLy4uLy4uLy4uL3NlcnZpY2VzL3dpbmRvdy1zZXJ2aWNlL3dpbmRvdy12YXJpYWJsZS5zZXJ2aWNlJztcclxuXHJcbi8qKlxyXG4gKiBTZXJ2aWNlIGZvciBzdG9yaW5nIGRhdGEgaW4gbG9jYWwgc3RvcmFnZVxyXG4gKi9cclxuQEluamVjdGFibGUoKVxyXG5leHBvcnQgY2xhc3MgQ2FjaGVNZW1vcnlTdG9yYWdlIGV4dGVuZHMgQ2FjaGVTdG9yYWdlQWJzdHJhY3Qge1xyXG5cclxuICBwcml2YXRlIF9kYXRhOiB7IFtrZXk6IHN0cmluZ106IGFueSB9ID0ge307XHJcbiAgcHJpdmF0ZSB3aW5kb3dTdmMgPSBuZXcgV2luZG93VmFyaWFibGVTZXJ2aWNlKCk7XHJcblxyXG4gIHB1YmxpYyBnZXRJdGVtKGtleTogc3RyaW5nKSB7XHJcbiAgICBjb25zdCBjYWNoZSA9IHRoaXMuZ2V0R2xvYmxlQ2FjaGUoa2V5KTtcclxuICAgIGlmIChjYWNoZSkge1xyXG4gICAgICB0aGlzLl9kYXRhW2tleV0gPSBjYWNoZTtcclxuICAgIH1cclxuICAgIHJldHVybiB0aGlzLl9kYXRhW2tleV0gPyB0aGlzLl9kYXRhW2tleV0gOiBudWxsO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIHNldEl0ZW0oa2V5OiBzdHJpbmcsIHZhbHVlOiBTdG9yYWdlVmFsdWVJbnRlcmZhY2UpIHtcclxuICAgIHRoaXMuc2V0R2xvYmxlQ2FjaGUoa2V5LCB2YWx1ZSk7XHJcbiAgICB0aGlzLl9kYXRhW2tleV0gPSB2YWx1ZTtcclxuICAgIHJldHVybiB0cnVlO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIHJlbW92ZUl0ZW0oa2V5OiBzdHJpbmcpIHtcclxuICAgIGRlbGV0ZSB0aGlzLl9kYXRhW2tleV07XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgY2xlYXIoKSB7XHJcbiAgICB0aGlzLl9kYXRhID0gW107XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgdHlwZSgpIHtcclxuICAgIHJldHVybiBDYWNoZVN0b3JhZ2VzRW51bS5NRU1PUlk7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgaXNFbmFibGVkKCkge1xyXG4gICAgcmV0dXJuIHRydWU7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIHNldEdsb2JsZUNhY2hlKGtleTogYW55LCB2YWx1ZTogYW55KSB7XHJcbiAgICBjb25zdCB0b3BXaW5kb3cgPSB0aGlzLndpbmRvd1N2Yy5nZXRUb3BXaW5kb3coKTtcclxuICAgIHRyeSB7XHJcbiAgICAgIGlmICh0b3BXaW5kb3cubmFtZSkge1xyXG4gICAgICAgIGxldCBleGlzdCA9IGZhbHNlO1xyXG4gICAgICAgIGNvbnN0IGFyeSA9IHRvcFdpbmRvdy5uYW1lLnNwbGl0KCcmfCYnKTtcclxuICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6IHByZWZlci1mb3Itb2ZcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFyeS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgaWYgKGFyeVtpXSkge1xyXG4gICAgICAgICAgICBjb25zdCBvYmogPSBKU09OLnBhcnNlKGFyeVtpXSk7XHJcbiAgICAgICAgICAgIGlmIChvYmpba2V5XSkge1xyXG4gICAgICAgICAgICAgIHRvcFdpbmRvdy5uYW1lID0gdG9wV2luZG93Lm5hbWUucmVwbGFjZShhcnlbaV0sIHRoaXMuc2VyaWFsaXplRGF0YShrZXksIHZhbHVlKSk7XHJcbiAgICAgICAgICAgICAgZXhpc3QgPSB0cnVlO1xyXG4gICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghZXhpc3QpIHtcclxuICAgICAgICAgIHRvcFdpbmRvdy5uYW1lICs9ICcmfCYnICsgdGhpcy5zZXJpYWxpemVEYXRhKGtleSwgdmFsdWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRvcFdpbmRvdy5uYW1lID0gdGhpcy5zZXJpYWxpemVEYXRhKGtleSwgdmFsdWUpO1xyXG4gICAgICB9XHJcbiAgICB9IGNhdGNoIHtcclxuICAgICAgdG9wV2luZG93Lm5hbWUgPSAnJztcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHByaXZhdGUgZ2V0R2xvYmxlQ2FjaGUoa2V5OiBhbnkpIHtcclxuICAgIGNvbnN0IHRvcFdpbmRvdyA9IHRoaXMud2luZG93U3ZjLmdldFRvcFdpbmRvdygpO1xyXG4gICAgdHJ5IHtcclxuICAgICAgbGV0IHJlc3VsdDogYW55O1xyXG4gICAgICBpZiAodG9wV2luZG93Lm5hbWUpIHtcclxuICAgICAgICBpZiAodG9wV2luZG93Lm5hbWUuaW5kZXhPZignJnwmJykgPj0gMCkge1xyXG4gICAgICAgICAgY29uc3QgYXJ5ID0gdG9wV2luZG93Lm5hbWUuc3BsaXQoJyZ8JicpO1xyXG4gICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnkubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKGFyeVtpXSkge1xyXG4gICAgICAgICAgICAgIGNvbnN0IG9iaiA9IEpTT04ucGFyc2UoYXJ5W2ldKTtcclxuICAgICAgICAgICAgICBpZiAob2JqW2tleV0pIHtcclxuICAgICAgICAgICAgICAgIHJlc3VsdCA9IG9ialtrZXldLnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgaWYgKGkgPT09IDApIHtcclxuICAgICAgICAgICAgICAgICAgdG9wV2luZG93Lm5hbWUgPSB0b3BXaW5kb3cubmFtZS5yZXBsYWNlKGFyeVtpXSArICcmfCYnLCAnJyk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICB0b3BXaW5kb3cubmFtZSA9IHRvcFdpbmRvdy5uYW1lLnJlcGxhY2UoJyZ8JicgKyBhcnlbaV0sICcnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBjb25zdCBvYmogPSBKU09OLnBhcnNlKHRvcFdpbmRvdy5uYW1lKTtcclxuICAgICAgICAgIGlmIChvYmpba2V5XSkge1xyXG4gICAgICAgICAgICByZXN1bHQgPSBvYmpba2V5XS52YWx1ZTtcclxuICAgICAgICAgICAgdG9wV2luZG93Lm5hbWUgPSAnJztcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9IGNhdGNoIHtcclxuICAgICAgdG9wV2luZG93Lm5hbWUgPSAnJztcclxuICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIHNlcmlhbGl6ZURhdGEoa2V5OiBzdHJpbmcsIHZhbHVlOiBhbnkpIHtcclxuICAgIGNvbnN0IG9iaiA9IHt9O1xyXG4gICAgb2JqW2tleV0gPSB7XHJcbiAgICAgIHZhbHVlXHJcbiAgICB9O1xyXG5cclxuICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShvYmopO1xyXG4gIH1cclxuXHJcbn1cclxuIl19