/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
/**
 * 通用模型，作为业务实体，视图模型和数据模型的总接口，用于规划实体数据结构
 * @author wangjiegj<wangjiegj@inspur.com>
 */
/**
 * 通用模型，作为业务实体，视图模型和数据模型的总接口，用于规划实体数据结构
 */
export class GSPCommonModel {
    // /**
    //  * 根据elementId查找字段
    //  * @param id
    //  */
    // public findElementById(elementId: string): IGSPCommonElement {
    //     let result: IGSPCommonElement = null;
    //     result = this.findElementFromObjectByID(this.MainObject, elementId);
    //     return result;
    // }
    /**
     * 根据objId查找对象
     * @param {?} objId
     * @return {?}
     */
    findObjectById(objId) {
        /** @type {?} */
        let result = null;
        result = this.findObjectFromObjectByID(this.MainObject, objId);
        return result;
    }
    // // public getAllObjectList(): IGSPCommonObject[] {
    // //     throw new Error('Method not implemented.');
    // // }
    // public getAllElementList(): IGSPCommonElement[] {
    //     return this.MainObject.getAllObjectElement();
    // }
    // private findElementFromObjectByID(obj: IGSPCommonObject, id: string): IGSPCommonElement {
    //     let result: IGSPCommonElement = null;
    //     //查找当前节点字段集合
    //     for (let i = 0; i < obj.ContainElements.length; i++) {
    //         if (obj.ContainElements[i].ID == id) {
    //             result = obj.ContainElements[i];
    //             return result;
    //         }
    //     }
    //     //递归查找子节点
    //     if (obj.ContainChildObjects.length > 0) {
    //         for (let i = 0; i < obj.ContainChildObjects.length; i++) {
    //             result = this.findElementFromObjectByID(obj.ContainChildObjects[i], id);
    //             if (result != null) {
    //                 return result;
    //             }
    //         }
    //     }
    //     return result;
    // }
    // private findElementFromElementByID(ele: IGSPCommonElement, eleId: string): IGSPCommonElement {
    //     let result: IGSPCommonElement = null;
    //     if (ele.ID == eleId) {
    //         result = ele;
    //     }
    //     else {
    //         //查找所有关联字段及关联的关联字段……
    //         if (ele.HasAssociation) {
    //             for (let i = 0; i < ele.ChildAssociations.length; i++) {
    //                 let asscociation = ele.ChildAssociations[i];
    //                 for (let j = 0; j < asscociation.RefElementCollection.length; j++) {
    //                     let element = this.findElementFromElementByID(asscociation.RefElementCollection[i], eleId);
    //                     if (element != null) {
    //                         result = element;
    //                         return result;
    //                     }
    //                 }
    //             }
    //         }
    //     }
    //     return result;
    // }
    /**
     * @private
     * @param {?} obj
     * @param {?} objId
     * @return {?}
     */
    findObjectFromObjectByID(obj, objId) {
        /** @type {?} */
        let result = null;
        if (!obj) {
            return null;
        }
        if (obj.ID === objId) {
            return obj;
        }
        if (!obj.ContainChildObjects) {
            return null;
        }
        // 递归查找子节点
        if (obj.ContainChildObjects.length > 0) {
            for (let i = 0; i < obj.ContainChildObjects.length; i++) {
                if (obj.ContainChildObjects[i].ID === objId) {
                    result = obj.ContainChildObjects[i];
                    return result;
                }
                result = this.findObjectFromObjectByID(obj.ContainChildObjects[i], objId);
                if (result != null) {
                    return result;
                }
            }
        }
        return result;
    }
}
if (false) {
    /**
     * 唯一标志
     * @type {?}
     */
    GSPCommonModel.prototype.ID;
    /**
     * 编号
     * @type {?}
     */
    GSPCommonModel.prototype.Code;
    /**
     * 名称
     * @type {?}
     */
    GSPCommonModel.prototype.Name;
    /**
     * 是否记录
     * @type {?}
     */
    GSPCommonModel.prototype.IsRecord;
    /**
     * 记录历史表
     * @type {?}
     */
    GSPCommonModel.prototype.RecordHistoryTable;
    /**
     * 日志对象Id
     * @type {?}
     */
    GSPCommonModel.prototype.LogObjectID;
    /**
     * 是否虚拟模型
     * @type {?}
     */
    GSPCommonModel.prototype.IsVirtual;
    /**
     * 主节点主键字段Id
     * @type {?}
     */
    GSPCommonModel.prototype.PrimayKeyID;
    /**
     * 是否允许被继承
     * @type {?}
     */
    GSPCommonModel.prototype.IsAllowDerive;
    /**
     * 是否允许被扩展
     * @type {?}
     */
    GSPCommonModel.prototype.IsAllowExtend;
    /**
     * 维度
     * @type {?}
     */
    GSPCommonModel.prototype.Dimension;
    /**
     * 分级信息
     * @type {?}
     */
    GSPCommonModel.prototype.Hierarchy;
    /**
     * 主节点
     * @type {?}
     */
    GSPCommonModel.prototype.MainObject;
    /**
     * 扩展类型
     * @type {?}
     */
    GSPCommonModel.prototype.ExtendType;
    /**
     * 用于序列化处理子模型元数据的扩展属性
     * @type {?}
     */
    GSPCommonModel.prototype.ExtendNodeList;
    /**
     * 当前节点字段集合
     * @type {?}
     */
    GSPCommonModel.prototype.FkConstraints;
    /**
     * be生成时使用的程序集名
     * @type {?}
     */
    GSPCommonModel.prototype.GeneratingAssembly;
    /**
     * 变量实体
     * @type {?}
     */
    GSPCommonModel.prototype.Variables;
    /**
     * 是否使用命名空间+编号的ConfigId
     * 以前建的为false，保证原有代码可用
     * 新建元数据为true，保证后续元数据ConfigId唯一
     * @type {?}
     */
    GSPCommonModel.prototype.IsUseNamespaceConfig;
    /** @type {?} */
    GSPCommonModel.prototype.VersionControlInfo;
    /**
     * 标签
     * @type {?}
     */
    GSPCommonModel.prototype.BeLabel;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiR1NQQ29tbW9uTW9kZWwuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9AZ3NwLWJlZi9nc3AtY20tbWV0YWRhdGEvIiwic291cmNlcyI6WyJsaWIvY29tbW9uLW1vZGVsL3NyYy9HU1BDb21tb25Nb2RlbC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQWlCQSxNQUFNLE9BQU8sY0FBYzs7Ozs7Ozs7Ozs7Ozs7O0lBdUhoQixjQUFjLENBQUMsS0FBYTs7WUFDM0IsTUFBTSxHQUFvQixJQUFJO1FBQ2xDLE1BQU0sR0FBRyxJQUFJLENBQUMsd0JBQXdCLENBQUMsSUFBSSxDQUFDLFVBQVUsRUFBRSxLQUFLLENBQUMsQ0FBQztRQUMvRCxPQUFPLE1BQU0sQ0FBQztJQUNsQixDQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0lBMERPLHdCQUF3QixDQUFDLEdBQXFCLEVBQUUsS0FBYTs7WUFDN0QsTUFBTSxHQUFxQixJQUFJO1FBRW5DLElBQUksQ0FBQyxHQUFHLEVBQUU7WUFDTixPQUFPLElBQUksQ0FBQztTQUNmO1FBRUQsSUFBSSxHQUFHLENBQUMsRUFBRSxLQUFLLEtBQUssRUFBRTtZQUNsQixPQUFPLEdBQUcsQ0FBQztTQUNkO1FBRUQsSUFBSSxDQUFDLEdBQUcsQ0FBQyxtQkFBbUIsRUFBRTtZQUMxQixPQUFPLElBQUksQ0FBQztTQUNmO1FBQ0QsVUFBVTtRQUNWLElBQUksR0FBRyxDQUFDLG1CQUFtQixDQUFDLE1BQU0sR0FBRyxDQUFDLEVBQUU7WUFDcEMsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxtQkFBbUIsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUU7Z0JBQ3JELElBQUksR0FBRyxDQUFDLG1CQUFtQixDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsS0FBSyxLQUFLLEVBQUU7b0JBQ3pDLE1BQU0sR0FBRyxHQUFHLENBQUMsbUJBQW1CLENBQUMsQ0FBQyxDQUFDLENBQUM7b0JBQ3BDLE9BQU8sTUFBTSxDQUFDO2lCQUNqQjtnQkFFRCxNQUFNLEdBQUcsSUFBSSxDQUFDLHdCQUF3QixDQUFDLEdBQUcsQ0FBQyxtQkFBbUIsQ0FBQyxDQUFDLENBQUMsRUFBRSxLQUFLLENBQUMsQ0FBQztnQkFDMUUsSUFBSSxNQUFNLElBQUksSUFBSSxFQUFFO29CQUNoQixPQUFPLE1BQU0sQ0FBQztpQkFDakI7YUFDSjtTQUNKO1FBRUQsT0FBTyxNQUFNLENBQUM7SUFDbEIsQ0FBQztDQUNKOzs7Ozs7SUEvTUcsNEJBQVc7Ozs7O0lBS1gsOEJBQWE7Ozs7O0lBS2IsOEJBQWE7Ozs7O0lBS2Isa0NBQWtCOzs7OztJQUtsQiw0Q0FBMkI7Ozs7O0lBSzNCLHFDQUFvQjs7Ozs7SUFLcEIsbUNBQW1COzs7OztJQUtuQixxQ0FBb0I7Ozs7O0lBS3BCLHVDQUF1Qjs7Ozs7SUFLdkIsdUNBQXVCOzs7OztJQUt2QixtQ0FBa0I7Ozs7O0lBS2xCLG1DQUFrQjs7Ozs7SUFLbEIsb0NBQTZCOzs7OztJQUs3QixvQ0FBbUI7Ozs7O0lBS25CLHdDQUFvQzs7Ozs7SUFLcEMsdUNBQThDOzs7OztJQUs5Qyw0Q0FBMkI7Ozs7O0lBSzNCLG1DQUFnQzs7Ozs7OztJQU9oQyw4Q0FBOEI7O0lBRTlCLDRDQUF1Qzs7Ozs7SUFLdkMsaUNBQWtCIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSUdTUENvbW1vbk1vZGVsIH0gZnJvbSAnLi9JbnRlcmZhY2UvSUdTUENvbW1vbk1vZGVsJztcclxuaW1wb3J0IHsgUmVsYXRpb25Gb3JlaWduS2V5Q29uc3RyYWludCB9IGZyb20gJy4vQ29uc3RyYWludHMvUmVsYXRpb25Gb3JlaWduS2V5Q29uc3RyYWludCc7XHJcbmltcG9ydCB7IElHU1BDb21tb25PYmplY3QgfSBmcm9tICcuL0ludGVyZmFjZS9JR1NQQ29tbW9uT2JqZWN0JztcclxuXHJcbmltcG9ydCB7IEdTUENvbW1vbk9iamVjdCB9IGZyb20gJy4vR1NQQ29tbW9uT2JqZWN0JztcclxuaW1wb3J0IHsgQ29tbW9uVmFyaWFibGVFbnRpdHkgfSBmcm9tICcuL1ZhcmlhYmxlL0NvbW1vblZhcmlhYmxlRW50aXR5JztcclxuaW1wb3J0IHsgVmVyc2lvbkNvbnRyb2xJbmZvIH0gZnJvbSAnLi9WZXJzaW9uQ29udHJvbEluZm8vVmVyc2lvbkNvbnRyb2xJbmZvJztcclxuXHJcbi8qKlxyXG4gKiDpgJrnlKjmqKHlnovvvIzkvZzkuLrkuJrliqHlrp7kvZPvvIzop4blm77mqKHlnovlkozmlbDmja7mqKHlnovnmoTmgLvmjqXlj6PvvIznlKjkuo7op4TliJLlrp7kvZPmlbDmja7nu5PmnoRcclxuICogQGF1dGhvciB3YW5namllZ2o8d2FuZ2ppZWdqQGluc3B1ci5jb20+XHJcbiAqL1xyXG5cclxuXHJcbi8qKlxyXG4gKiDpgJrnlKjmqKHlnovvvIzkvZzkuLrkuJrliqHlrp7kvZPvvIzop4blm77mqKHlnovlkozmlbDmja7mqKHlnovnmoTmgLvmjqXlj6PvvIznlKjkuo7op4TliJLlrp7kvZPmlbDmja7nu5PmnoRcclxuICovXHJcbmV4cG9ydCBjbGFzcyBHU1BDb21tb25Nb2RlbCBpbXBsZW1lbnRzIElHU1BDb21tb25Nb2RlbCB7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDllK/kuIDmoIflv5dcclxuICAgICAqL1xyXG4gICAgSUQ6IHN0cmluZztcclxuXHJcbiAgICAvKipcclxuICAgICAqIOe8luWPt1xyXG4gICAgICovXHJcbiAgICBDb2RlOiBzdHJpbmc7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDlkI3np7BcclxuICAgICAqL1xyXG4gICAgTmFtZTogc3RyaW5nO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICog5piv5ZCm6K6w5b2VXHJcbiAgICAgKi9cclxuICAgIElzUmVjb3JkOiBib29sZWFuO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICog6K6w5b2V5Y6G5Y+y6KGoXHJcbiAgICAgKi9cclxuICAgIFJlY29yZEhpc3RvcnlUYWJsZTogc3RyaW5nO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICog5pel5b+X5a+56LGhSWRcclxuICAgICAqL1xyXG4gICAgTG9nT2JqZWN0SUQ6IHN0cmluZztcclxuXHJcbiAgICAvKipcclxuICAgICAqIOaYr+WQpuiZmuaLn+aooeWei1xyXG4gICAgICovXHJcbiAgICBJc1ZpcnR1YWw6IGJvb2xlYW47XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDkuLvoioLngrnkuLvplK7lrZfmrrVJZFxyXG4gICAgICovXHJcbiAgICBQcmltYXlLZXlJRDogc3RyaW5nO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICog5piv5ZCm5YWB6K646KKr57un5om/XHJcbiAgICAgKi9cclxuICAgIElzQWxsb3dEZXJpdmU6IGJvb2xlYW47XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDmmK/lkKblhYHorrjooqvmianlsZVcclxuICAgICAqL1xyXG4gICAgSXNBbGxvd0V4dGVuZDogYm9vbGVhbjtcclxuXHJcbiAgICAvKipcclxuICAgICAqIOe7tOW6plxyXG4gICAgICovXHJcbiAgICBEaW1lbnNpb246IHN0cmluZztcclxuXHJcbiAgICAvKipcclxuICAgICAqIOWIhue6p+S/oeaBr1xyXG4gICAgICovXHJcbiAgICBIaWVyYXJjaHk6IHN0cmluZztcclxuXHJcbiAgICAvKipcclxuICAgICAqIOS4u+iKgueCuVxyXG4gICAgICovXHJcbiAgICBNYWluT2JqZWN0OiBJR1NQQ29tbW9uT2JqZWN0O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICog5omp5bGV57G75Z6LXHJcbiAgICAgKi9cclxuICAgIEV4dGVuZFR5cGU6IHN0cmluZztcclxuXHJcbiAgICAvKipcclxuICAgICAqIOeUqOS6juW6j+WIl+WMluWkhOeQhuWtkOaooeWei+WFg+aVsOaNrueahOaJqeWxleWxnuaAp1xyXG4gICAgICovXHJcbiAgICBFeHRlbmROb2RlTGlzdDogTWFwPHN0cmluZywgc3RyaW5nPjtcclxuXHJcbiAgICAvKipcclxuICAgICAqIOW9k+WJjeiKgueCueWtl+autembhuWQiFxyXG4gICAgICovXHJcbiAgICBGa0NvbnN0cmFpbnRzOiBSZWxhdGlvbkZvcmVpZ25LZXlDb25zdHJhaW50W107XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBiZeeUn+aIkOaXtuS9v+eUqOeahOeoi+W6j+mbhuWQjVxyXG4gICAgICovXHJcbiAgICBHZW5lcmF0aW5nQXNzZW1ibHk6IHN0cmluZztcclxuXHJcbiAgICAvKipcclxuICAgICAqIOWPmOmHj+WunuS9k1xyXG4gICAgICovXHJcbiAgICBWYXJpYWJsZXM6IENvbW1vblZhcmlhYmxlRW50aXR5O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICog5piv5ZCm5L2/55So5ZG95ZCN56m66Ze0K+e8luWPt+eahENvbmZpZ0lkXHJcbiAgICAgKiDku6XliY3lu7rnmoTkuLpmYWxzZe+8jOS/neivgeWOn+acieS7o+eggeWPr+eUqFxyXG4gICAgICog5paw5bu65YWD5pWw5o2u5Li6dHJ1Ze+8jOS/neivgeWQjue7reWFg+aVsOaNrkNvbmZpZ0lk5ZSv5LiAXHJcbiAgICAgKi9cclxuICAgIElzVXNlTmFtZXNwYWNlQ29uZmlnOiBib29sZWFuO1xyXG5cclxuICAgIFZlcnNpb25Db250cm9sSW5mbzogVmVyc2lvbkNvbnRyb2xJbmZvO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICog5qCH562+XHJcbiAgICAgKi9cclxuICAgIEJlTGFiZWw6IHN0cmluZ1tdO1xyXG4gICAgLy8gLyoqXHJcbiAgICAvLyAgKiDmoLnmja5lbGVtZW50SWTmn6Xmib7lrZfmrrVcclxuICAgIC8vICAqIEBwYXJhbSBpZFxyXG4gICAgLy8gICovXHJcbiAgICAvLyBwdWJsaWMgZmluZEVsZW1lbnRCeUlkKGVsZW1lbnRJZDogc3RyaW5nKTogSUdTUENvbW1vbkVsZW1lbnQge1xyXG4gICAgLy8gICAgIGxldCByZXN1bHQ6IElHU1BDb21tb25FbGVtZW50ID0gbnVsbDtcclxuICAgIC8vICAgICByZXN1bHQgPSB0aGlzLmZpbmRFbGVtZW50RnJvbU9iamVjdEJ5SUQodGhpcy5NYWluT2JqZWN0LCBlbGVtZW50SWQpO1xyXG4gICAgLy8gICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAvLyB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDmoLnmja5vYmpJZOafpeaJvuWvueixoVxyXG4gICAgICogQHBhcmFtIG9iaklkXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBmaW5kT2JqZWN0QnlJZChvYmpJZDogc3RyaW5nKTogR1NQQ29tbW9uT2JqZWN0IHtcclxuICAgICAgICBsZXQgcmVzdWx0OiBHU1BDb21tb25PYmplY3QgPSBudWxsO1xyXG4gICAgICAgIHJlc3VsdCA9IHRoaXMuZmluZE9iamVjdEZyb21PYmplY3RCeUlEKHRoaXMuTWFpbk9iamVjdCwgb2JqSWQpO1xyXG4gICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gLy8gcHVibGljIGdldEFsbE9iamVjdExpc3QoKTogSUdTUENvbW1vbk9iamVjdFtdIHtcclxuICAgIC8vIC8vICAgICB0aHJvdyBuZXcgRXJyb3IoJ01ldGhvZCBub3QgaW1wbGVtZW50ZWQuJyk7XHJcbiAgICAvLyAvLyB9XHJcblxyXG4gICAgLy8gcHVibGljIGdldEFsbEVsZW1lbnRMaXN0KCk6IElHU1BDb21tb25FbGVtZW50W10ge1xyXG4gICAgLy8gICAgIHJldHVybiB0aGlzLk1haW5PYmplY3QuZ2V0QWxsT2JqZWN0RWxlbWVudCgpO1xyXG4gICAgLy8gfVxyXG5cclxuXHJcblxyXG4gICAgLy8gcHJpdmF0ZSBmaW5kRWxlbWVudEZyb21PYmplY3RCeUlEKG9iajogSUdTUENvbW1vbk9iamVjdCwgaWQ6IHN0cmluZyk6IElHU1BDb21tb25FbGVtZW50IHtcclxuICAgIC8vICAgICBsZXQgcmVzdWx0OiBJR1NQQ29tbW9uRWxlbWVudCA9IG51bGw7XHJcbiAgICAvLyAgICAgLy/mn6Xmib7lvZPliY3oioLngrnlrZfmrrXpm4blkIhcclxuICAgIC8vICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG9iai5Db250YWluRWxlbWVudHMubGVuZ3RoOyBpKyspIHtcclxuICAgIC8vICAgICAgICAgaWYgKG9iai5Db250YWluRWxlbWVudHNbaV0uSUQgPT0gaWQpIHtcclxuICAgIC8vICAgICAgICAgICAgIHJlc3VsdCA9IG9iai5Db250YWluRWxlbWVudHNbaV07XHJcbiAgICAvLyAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgLy8gICAgICAgICB9XHJcbiAgICAvLyAgICAgfVxyXG5cclxuICAgIC8vICAgICAvL+mAkuW9kuafpeaJvuWtkOiKgueCuVxyXG4gICAgLy8gICAgIGlmIChvYmouQ29udGFpbkNoaWxkT2JqZWN0cy5sZW5ndGggPiAwKSB7XHJcbiAgICAvLyAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgb2JqLkNvbnRhaW5DaGlsZE9iamVjdHMubGVuZ3RoOyBpKyspIHtcclxuICAgIC8vICAgICAgICAgICAgIHJlc3VsdCA9IHRoaXMuZmluZEVsZW1lbnRGcm9tT2JqZWN0QnlJRChvYmouQ29udGFpbkNoaWxkT2JqZWN0c1tpXSwgaWQpO1xyXG4gICAgLy8gICAgICAgICAgICAgaWYgKHJlc3VsdCAhPSBudWxsKSB7XHJcbiAgICAvLyAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIC8vICAgICAgICAgICAgIH1cclxuICAgIC8vICAgICAgICAgfVxyXG4gICAgLy8gICAgIH1cclxuICAgIC8vICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgLy8gfVxyXG5cclxuICAgIC8vIHByaXZhdGUgZmluZEVsZW1lbnRGcm9tRWxlbWVudEJ5SUQoZWxlOiBJR1NQQ29tbW9uRWxlbWVudCwgZWxlSWQ6IHN0cmluZyk6IElHU1BDb21tb25FbGVtZW50IHtcclxuICAgIC8vICAgICBsZXQgcmVzdWx0OiBJR1NQQ29tbW9uRWxlbWVudCA9IG51bGw7XHJcblxyXG4gICAgLy8gICAgIGlmIChlbGUuSUQgPT0gZWxlSWQpIHtcclxuICAgIC8vICAgICAgICAgcmVzdWx0ID0gZWxlO1xyXG4gICAgLy8gICAgIH1cclxuICAgIC8vICAgICBlbHNlIHtcclxuICAgIC8vICAgICAgICAgLy/mn6Xmib7miYDmnInlhbPogZTlrZfmrrXlj4rlhbPogZTnmoTlhbPogZTlrZfmrrXigKbigKZcclxuICAgIC8vICAgICAgICAgaWYgKGVsZS5IYXNBc3NvY2lhdGlvbikge1xyXG4gICAgLy8gICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBlbGUuQ2hpbGRBc3NvY2lhdGlvbnMubGVuZ3RoOyBpKyspIHtcclxuICAgIC8vICAgICAgICAgICAgICAgICBsZXQgYXNzY29jaWF0aW9uID0gZWxlLkNoaWxkQXNzb2NpYXRpb25zW2ldO1xyXG4gICAgLy8gICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgYXNzY29jaWF0aW9uLlJlZkVsZW1lbnRDb2xsZWN0aW9uLmxlbmd0aDsgaisrKSB7XHJcbiAgICAvLyAgICAgICAgICAgICAgICAgICAgIGxldCBlbGVtZW50ID0gdGhpcy5maW5kRWxlbWVudEZyb21FbGVtZW50QnlJRChhc3Njb2NpYXRpb24uUmVmRWxlbWVudENvbGxlY3Rpb25baV0sIGVsZUlkKTtcclxuICAgIC8vICAgICAgICAgICAgICAgICAgICAgaWYgKGVsZW1lbnQgIT0gbnVsbCkge1xyXG4gICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gZWxlbWVudDtcclxuICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAvLyAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgIC8vICAgICAgICAgICAgICAgICB9XHJcbiAgICAvLyAgICAgICAgICAgICB9XHJcbiAgICAvLyAgICAgICAgIH1cclxuICAgIC8vICAgICB9XHJcbiAgICAvLyAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIC8vIH1cclxuXHJcbiAgICBwcml2YXRlIGZpbmRPYmplY3RGcm9tT2JqZWN0QnlJRChvYmo6IElHU1BDb21tb25PYmplY3QsIG9iaklkOiBzdHJpbmcpOiBhbnkge1xyXG4gICAgICAgIGxldCByZXN1bHQ6IElHU1BDb21tb25PYmplY3QgPSBudWxsO1xyXG5cclxuICAgICAgICBpZiAoIW9iaikge1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChvYmouSUQgPT09IG9iaklkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBvYmo7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoIW9iai5Db250YWluQ2hpbGRPYmplY3RzKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyDpgJLlvZLmn6Xmib7lrZDoioLngrlcclxuICAgICAgICBpZiAob2JqLkNvbnRhaW5DaGlsZE9iamVjdHMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG9iai5Db250YWluQ2hpbGRPYmplY3RzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAob2JqLkNvbnRhaW5DaGlsZE9iamVjdHNbaV0uSUQgPT09IG9iaklkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gb2JqLkNvbnRhaW5DaGlsZE9iamVjdHNbaV07XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICByZXN1bHQgPSB0aGlzLmZpbmRPYmplY3RGcm9tT2JqZWN0QnlJRChvYmouQ29udGFpbkNoaWxkT2JqZWN0c1tpXSwgb2JqSWQpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdCAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH1cclxufVxyXG4iXX0=