{"__symbolic":"module","version":4,"metadata":{"UiFlowchartService":{"__symbolic":"class","decorators":[{"__symbolic":"call","expression":{"__symbolic":"reference","module":"@angular/core","name":"Injectable","line":8,"character":1}}],"members":{"__ctor__":[{"__symbolic":"constructor","parameters":[{"__symbolic":"reference","module":"@ecp-caf/caf-common","name":"HttpService","line":10,"character":31}]}],"getForecastProcessListByPayload":[{"__symbolic":"method"}],"getRuntimeProcInstsByDataId":[{"__symbolic":"method"}],"getHistoricProcInstsByDataId":[{"__symbolic":"method"}],"getProcInstanceById":[{"__symbolic":"method"}],"getBpmnModelbyProcInstId":[{"__symbolic":"method"}],"getBpmnModelbyProcDefId":[{"__symbolic":"method"}],"getSubProcessInstance":[{"__symbolic":"method"}],"getForecastProcessByProcInstId":[{"__symbolic":"method"}],"getForecastProcessByPayload":[{"__symbolic":"method"}],"getCompleteProcessInfoByProcInstId":[{"__symbolic":"method"}],"getAllActiInstsbyProcInstId":[{"__symbolic":"method"}],"getTransitionInstanceSlimsByProcInstId":[{"__symbolic":"method"}],"getFormInfoByProcInstId":[{"__symbolic":"method"}],"getFormInfoByActInstId":[{"__symbolic":"method"}],"getWorkItemLogs":[{"__symbolic":"method"}],"getI18nValue":[{"__symbolic":"method"}],"getProcessInstanceById":[{"__symbolic":"method"}],"getProcInstIdByDataId":[{"__symbolic":"method"}],"retryAifCreation":[{"__symbolic":"method"}],"ifThirdTask":[{"__symbolic":"method"}],"getFsParamsByBizId":[{"__symbolic":"method"}],"viewFsProcessNew":[{"__symbolic":"method"}],"getFlowChartStyleConfig":[{"__symbolic":"method"}],"getMutiChildInstance":[{"__symbolic":"method"}]}},"UIFlowchartComponent":{"__symbolic":"class","decorators":[{"__symbolic":"call","expression":{"__symbolic":"reference","module":"@angular/core","name":"Component","line":19,"character":1},"arguments":[{"selector":"wf-flowchart","encapsulation":{"__symbolic":"select","expression":{"__symbolic":"reference","module":"@angular/core","name":"ViewEncapsulation","line":23,"character":17},"member":"None"},"template":"<div class=\"f-page f-page-navigate f-page-is-listnav\">\r\n    <!-- 多实例子流程头 -->\r\n    <div *ngIf=\"procInstList?.length\" class=\"flowChart-muti-header\">\r\n        <farris-tabs [value]=\"curChildProcInst?.id\" [contentFill]=\"true\" [autoTitleWidth]=\"true\" [titleWidth]=\"90\"\r\n            (tabChange)=\"tabChange($event)\" class=\"w-100\">\r\n            <farris-tab *ngFor=\"let process of procInstList\" [id]=\"process.id\"\r\n                [title]=\"process.name + '-v' + process.version + '.0'\" style=\"overflow: hidden\">\r\n                <ng-template farrisTabsExtend>\r\n                    <li class=\"f-btn-icon f-bare\" (click)=\"closeDialog()\"><span\r\n                            class=\"f-icon modal_close flowchart-header-button\"></span></li>\r\n                </ng-template>\r\n            </farris-tab>\r\n        </farris-tabs>\r\n    </div>\r\n    <!-- 正常情况查看流程 -->\r\n    <div class=\"f-page-main\" style=\"margin: 0;\">\r\n        <farris-splitter class=\"f-page-content f-component-splitter\">\r\n            <!-- 左侧流程图 -->\r\n            <farris-splitter-pane class=\"f-page-content-main f-component-splitter-pane\">\r\n                <div class=\"f-utils-flex-column h-100\">\r\n                    <div *ngIf=\"dataId || procInstId || processForecastPayload\" class=\"f-utils-fill\">\r\n                        <div style=\"position: relative; height: 100%; width: 100%;\">\r\n                            <div id=\"flowChartContainer\" class=\"geEditor flowchart-container\" #flowChartContainer></div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"flowchart-buttons-padding \">\r\n                        <!-- 显示预测路线 -->\r\n                        <button *ngIf=\"theme==='viewFlowChart'\" class=\"btn btn-secondary mr-2\"\r\n                            (click)=\"modeSwitch()\">{{modeButton}}\r\n                        </button>\r\n                        <!-- 分支线颜色说明 -->\r\n                        <div class=\"btn-group\" fDropdown [placement]=\"'top'\">\r\n                            <button class=\"btn btn-secondary dropdown-toggle\" fDropdownToggle type=\"button\">\r\n                                {{'static.flowchart.sequenceColor' | translate}}\r\n                            </button>\r\n                            <div class=\"dropdown-menu\" fDropdownMenu>\r\n                                <div *ngFor=\"let s of sequenceColorList\" class=\"flowchart-sequence-color\">\r\n                                    <span class=\"flowchart-color-div\" [ngClass]=\"s.colorClass\"></span>\r\n                                    {{'static.flowchart.' + s.label | translate}}\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </farris-splitter-pane>\r\n            <!-- 右侧审批日志 -->\r\n            <farris-splitter-pane class=\"f-page-content-nav f-component-splitter-pane flowchart-right-pane\" ngResizable\r\n                [rzHandles]=\"'w'\" [collapsePosition]=\"'left'\" [enableCollapse]=\"true\" [rzMinWidth]=\"200\"\r\n                [rzMaxWidth]=\"600\">\r\n                <farris-section [enableMaximize]=\"false\" [enableAccordion]=\"false\" [showHeader]=\"false\"\r\n                    class=\"f-overflow-y-auto px-0\">\r\n                    <wf-approval-logs [ProcInstId]=\"procInstId\" [DataId]=\"dataId\" [IfForecast]=\"ifForecast\"\r\n                        [ActivityDefinitionId]=\"actDefId\" [Type]=\"type\"\r\n                        [processForecastPayload]=\"processForecastPayload\" [ShowHeader]=\"true\" [ShowViewProcess]=\"false\"\r\n                        [OnlyIncludeCurrentProcInst]=\"true\">\r\n                    </wf-approval-logs>\r\n                </farris-section>\r\n            </farris-splitter-pane>\r\n        </farris-splitter>\r\n    </div>\r\n</div>","styles":["@charset \"UTF-8\";::ng-deep .chartModal .ant-modal{height:100%}::ng-deep .chartModal .ant-modal-content{height:100%}::ng-deep .chartModal .ant-modal-body{height:90%}.flowChart{height:100%;min-height:300px;width:100%}.flowChartContainer{overflow:auto;position:absolute;top:0;left:0;width:100%;height:100%;cursor:default;outline:0;background:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGRlZnM+PHBhdHRlcm4gaWQ9ImdyaWQiIHdpZHRoPSI0MCIgaGVpZ2h0PSI0MCIgcGF0dGVyblVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+PHBhdGggZD0iTSAwIDEwIEwgNDAgMTAgTSAxMCAwIEwgMTAgNDAgTSAwIDIwIEwgNDAgMjAgTSAyMCAwIEwgMjAgNDAgTSAwIDMwIEwgNDAgMzAgTSAzMCAwIEwgMzAgNDAiIGZpbGw9Im5vbmUiIHN0cm9rZT0iI2UwZTBlMCIgb3BhY2l0eT0iMC4yIiBzdHJva2Utd2lkdGg9IjEiLz48cGF0aCBkPSJNIDQwIDAgTCAwIDAgMCA0MCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjZTBlMGUwIiBzdHJva2Utd2lkdGg9IjEiLz48L3BhdHRlcm4+PC9kZWZzPjxyZWN0IHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbGw9InVybCgjZ3JpZCkiLz48L3N2Zz4=)}.flowChartContainer.active::-webkit-scrollbar-thumb{background-color:rgba(0,0,0,.2)}.flowChartContainer::-webkit-scrollbar-thumb{background-color:rgba(0,0,0,0)}.geEditor{font-family:Microsoft YaHei,Source Han Sans,sans-serif;font-size:10pt;border:none;margin:0}.geEditor input[type=text]::-ms-clear{display:none}body div.mxPopupMenu{box-shadow:3px 3px 6px silver;background:#fff;position:absolute;border:3px solid #e7e7e7;padding:3px}body table.mxPopupMenu{border-collapse:collapse;margin:0}body tr.mxPopupMenuItem{color:#000;cursor:default}body td.mxPopupMenuItem{padding:6px 0 6px 30px;font-family:Arial;font-size:10pt}body td.mxPopupMenuIcon{background-color:#fff;padding:0}body tr.mxPopupMenuItemHover{background-color:#eee;color:#000}table.mxPopupMenu hr{border-top:1px solid #ccc}table.mxPopupMenu tr{font-size:4pt}.flowchart-container{position:relative;width:100%;height:100%;overflow:auto}.flowChart-muti-header{display:flex;align-items:center;padding:0 16px}.flowchart-header-button{cursor:pointer;color:#848c9a}.flowchart-header-button:hover{color:#529dff}.flowchart-right-pane{margin:0 10px;width:30%}.flowchart-buttons-padding{padding:0 0 10px 10px}.flowchart-sequence-color{display:flex;align-items:center;padding-left:8px}.flowchart-color-div{color:#fff;border-radius:0;display:block;width:15px;height:15px;margin-right:8px}.color-gey{background:#595959}.color-yellow{background:#f59c24}.color-blue{background:#59a1ff}.color-red{background:#ff4040}"]}]}],"members":{"cls":[{"__symbolic":"property","decorators":[{"__symbolic":"call","expression":{"__symbolic":"reference","module":"@angular/core","name":"HostBinding","line":29,"character":3},"arguments":["class"]}]}],"iframe":[{"__symbolic":"property","decorators":[{"__symbolic":"call","expression":{"__symbolic":"reference","module":"@angular/core","name":"ViewChild","line":30,"character":3},"arguments":["iframe"]}]}],"modalHide":[{"__symbolic":"property","decorators":[{"__symbolic":"call","expression":{"__symbolic":"reference","module":"@angular/core","name":"Output","line":31,"character":3}}]}],"theme":[{"__symbolic":"property","decorators":[{"__symbolic":"call","expression":{"__symbolic":"reference","module":"@angular/core","name":"Input","line":43,"character":3}}]}],"processForecastPayload":[{"__symbolic":"property","decorators":[{"__symbolic":"call","expression":{"__symbolic":"reference","module":"@angular/core","name":"Input","line":44,"character":3}}]}],"mode":[{"__symbolic":"property","decorators":[{"__symbolic":"call","expression":{"__symbolic":"reference","module":"@angular/core","name":"Input","line":49,"character":3}}]}],"ProcInstId":[{"__symbolic":"property","decorators":[{"__symbolic":"call","expression":{"__symbolic":"reference","module":"@angular/core","name":"Input","line":76,"character":3}}]}],"DataId":[{"__symbolic":"property","decorators":[{"__symbolic":"call","expression":{"__symbolic":"reference","module":"@angular/core","name":"Input","line":83,"character":3}}]}],"ProcInstList":[{"__symbolic":"property","decorators":[{"__symbolic":"call","expression":{"__symbolic":"reference","module":"@angular/core","name":"Input","line":90,"character":3}}]}],"flowChartContainerER":[{"__symbolic":"property","decorators":[{"__symbolic":"call","expression":{"__symbolic":"reference","module":"@angular/core","name":"ViewChild","line":98,"character":3},"arguments":["flowChartContainer"]}]}],"flowChartContainerVCR":[{"__symbolic":"property","decorators":[{"__symbolic":"call","expression":{"__symbolic":"reference","module":"@angular/core","name":"ViewChild","line":99,"character":3},"arguments":["flowChartContainer",{"read":{"__symbolic":"reference","module":"@angular/core","name":"ViewContainerRef","line":99,"character":43}}]}]}],"__ctor__":[{"__symbolic":"constructor","parameterDecorators":[null,null,null,null,[{"__symbolic":"call","expression":{"__symbolic":"reference","module":"@angular/core","name":"Optional","line":134,"character":5}}]],"parameters":[{"__symbolic":"reference","module":"@angular/platform-browser","name":"DomSanitizer","line":130,"character":23},{"__symbolic":"reference","name":"UiFlowchartService"},{"__symbolic":"reference","module":"@angular/core","name":"ChangeDetectorRef","line":132,"character":28},{"__symbolic":"reference","module":"@angular/core","name":"Injector","line":133,"character":22},{"__symbolic":"reference","name":"WFFlowchartService"}]}],"ngOnInit":[{"__symbolic":"method"}],"ngAfterViewChecked":[{"__symbolic":"method"}],"createFlowChart":[{"__symbolic":"method"}],"viewFlowChart":[{"__symbolic":"method"}],"tabChange":[{"__symbolic":"method"}],"closeDialog":[{"__symbolic":"method"}],"viewChild":[{"__symbolic":"method"}],"modeSwitch":[{"__symbolic":"method"}],"viewLogs":[{"__symbolic":"method"}],"viewFlowChartByProcInstId":[{"__symbolic":"method"}],"processForecast":[{"__symbolic":"method"}],"viewForm":[{"__symbolic":"method"}],"retryAifCreation":[{"__symbolic":"method"}],"loadFlowChart":[{"__symbolic":"method"}],"fill":[{"__symbolic":"method"}]},"statics":{"func":null}},"UiFlowchartModule":{"__symbolic":"class","decorators":[{"__symbolic":"call","expression":{"__symbolic":"reference","module":"@angular/core","name":"NgModule","line":21,"character":1},"arguments":[{"declarations":[{"__symbolic":"reference","name":"UIFlowchartComponent"},{"__symbolic":"reference","name":"TranslatePipe"}],"imports":[{"__symbolic":"reference","module":"@farris/ui-layout","name":"LayoutModule","line":26,"character":4},{"__symbolic":"reference","module":"@angular/common","name":"CommonModule","line":27,"character":4},{"__symbolic":"reference","module":"@farris/ui-dialog","name":"FarrisDialogModule","line":28,"character":4},{"__symbolic":"call","expression":{"__symbolic":"select","expression":{"__symbolic":"reference","module":"@farris/ui-messager","name":"MessagerModule","line":29,"character":4},"member":"forRoot"},"arguments":[{"width":500}]},{"__symbolic":"reference","module":"@farris/ui-section","name":"FarrisSectionModule","line":32,"character":4},{"__symbolic":"reference","module":"@gsp-wf/wf-approval-logs","name":"WfApprovalLogsModule","line":33,"character":4},{"__symbolic":"reference","module":"@farris/ui-combo-list","name":"ComboListModule","line":34,"character":4},{"__symbolic":"reference","module":"@angular/forms","name":"ReactiveFormsModule","line":35,"character":4},{"__symbolic":"reference","module":"@angular/forms","name":"FormsModule","line":36,"character":4},{"__symbolic":"reference","module":"@farris/ui-dropdown","name":"FDropdownDirectiveTypeModule","line":37,"character":4},{"__symbolic":"reference","module":"@farris/ui-datagrid","name":"DatagridModule","line":38,"character":4},{"__symbolic":"reference","module":"@farris/ui-notify","name":"NotifyModule","line":39,"character":4},{"__symbolic":"reference","module":"@farris/ui-loading","name":"LoadingModule","line":40,"character":4},{"__symbolic":"call","expression":{"__symbolic":"select","expression":{"__symbolic":"reference","module":"@farris/ui-tabs","name":"FarrisTabsModule","line":41,"character":4},"member":"forRoot"}},{"__symbolic":"reference","module":"@farris/ui-splitter","name":"SplitterModule","line":42,"character":4}],"exports":[{"__symbolic":"reference","name":"UIFlowchartComponent"}],"providers":[{"__symbolic":"reference","module":"@ecp-caf/caf-common","name":"HttpService","line":46,"character":4},{"__symbolic":"reference","name":"UiFlowchartService"},{"__symbolic":"reference","name":"WFFlowchartService"}],"entryComponents":[{"__symbolic":"reference","name":"UIFlowchartComponent"}]}]}],"members":{}},"WFFlowchartService":{"__symbolic":"class","decorators":[{"__symbolic":"call","expression":{"__symbolic":"reference","module":"@angular/core","name":"Injectable","line":13,"character":1}}],"members":{"__ctor__":[{"__symbolic":"constructor","parameters":[{"__symbolic":"reference","module":"@farris/ui-messager","name":"MessagerService","line":20,"character":28},{"__symbolic":"reference","module":"@angular/core","name":"Injector","line":21,"character":26},{"__symbolic":"reference","module":"@angular/core","name":"ComponentFactoryResolver","line":22,"character":26},{"__symbolic":"reference","module":"@farris/ui-modal","name":"BsModalService","line":23,"character":30}]}],"viewProcess":[{"__symbolic":"method"}],"viewFlowChart":[{"__symbolic":"method"}],"viewFlowChartByDataId":[{"__symbolic":"method"}],"viewFlowChartByDialog":[{"__symbolic":"method"}],"viewMutiInstanceFlowChartByDialog":[{"__symbolic":"method"}],"viewFlowchartByProcInstIdAndDataId":[{"__symbolic":"method"}],"openViewProcessMenu":[{"__symbolic":"method"}],"getI18nValue":[{"__symbolic":"method"}],"isInSuite":[{"__symbolic":"method"}],"openMenu":[{"__symbolic":"method"}]}},"TranslatePipe":{"__symbolic":"class","decorators":[{"__symbolic":"call","expression":{"__symbolic":"reference","module":"@angular/core","name":"Pipe","line":3,"character":1},"arguments":[{"name":"translate"}]}],"members":{"__ctor__":[{"__symbolic":"constructor","parameters":[{"__symbolic":"reference","name":"UiFlowchartService"}]}],"transform":[{"__symbolic":"method"}]}},"ForecastProcessPayload":{"__symbolic":"class","members":{}}},"origins":{"UiFlowchartService":"./lib/services/ui-flowchart.service","UIFlowchartComponent":"./lib/task-flowchart/task-flowchart.component","UiFlowchartModule":"./lib/ui-flowchart.module","WFFlowchartService":"./lib/wf-flowchart.service","TranslatePipe":"./lib/services/translate.pipe","ForecastProcessPayload":"./lib/entity/forecast-process-payload"},"importAs":"@gsp-wf/ui-flowchart"}