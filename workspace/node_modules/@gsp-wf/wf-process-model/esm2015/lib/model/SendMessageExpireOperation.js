/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { BpmnModel, BpmnModelHelper, ExtensionMethod } from "@edp-pmf/bpmn-model";
import { ExpireOperation } from "./ExpireOperation";
import { SmsMessageTemplate } from "./SmsMessageTemplate";
export class SendMessageExpireOperation extends ExpireOperation {
    constructor() {
        super(...arguments);
        this.ClrTypeID = SendMessageExpireOperation.Clr_Type_ID;
    }
    /**
     * @protected
     * @return {?}
     */
    ResetBeforeLoadFrom() {
        super.ResetBeforeLoadFrom();
        this.smsMessageTemplate = null;
    }
    /**
     * @return {?}
     */
    ConvertToJsonObject() {
        /** @type {?} */
        let obj = super.ConvertToJsonObject();
        ExtensionMethod.SetAttributeValue(obj, "Message", this.message);
        ExtensionMethod.SetAttributeValue(obj, "SendType", this.sendType);
        ExtensionMethod.SetAttributeValue(obj, "Subject", this.subject);
        ExtensionMethod.SetAttributeValue(obj, "Receiver", this.receiver);
        ExtensionMethod.SetAttributeValue(obj, "ReceiverText", this.receiverText);
        ExtensionMethod.SetAttributeValue(obj, "CycleEnable", this.cycleEnable);
        ExtensionMethod.SetAttributeValue(obj, "CycleTime", this.cycleTime);
        ExtensionMethod.SetAttributeValue(obj, "CycleTimeUnit", this.cycleTimeUnit);
        if (this.smsMessageTemplate) {
            ExtensionMethod.SetAttributeValue(obj, "SmsMessageTemplate", this.smsMessageTemplate.ConvertToJsonObject());
        }
        return obj;
    }
    /**
     * @param {?} obj
     * @return {?}
     */
    LoadFromJsonObject(obj) {
        super.LoadFromJsonObject(obj);
        this.message = ExtensionMethod.GetAttributeValue4String(obj, "Message");
        this.sendType = ExtensionMethod.GetAttributeValue4String(obj, "SendType");
        this.subject = ExtensionMethod.GetAttributeValue4String(obj, "Subject");
        this.receiver = ExtensionMethod.GetAttributeValue4String(obj, "Receiver");
        this.receiverText = ExtensionMethod.GetAttributeValue4String(obj, "ReceiverText");
        this.cycleEnable = ExtensionMethod.GetAttributeValue4Boolean(obj, "CycleEnable");
        this.cycleTime = ExtensionMethod.GetAttributeValue4String(obj, "CycleTime");
        this.cycleTimeUnit = ExtensionMethod.GetAttributeValue4String(obj, "CycleTimeUnit");
        /** @type {?} */
        const smsTemplateElement = ExtensionMethod.GetAttributeValue(obj, 'SmsMessageTemplate');
        if (smsTemplateElement) {
            /** @type {?} */
            const smsMessageTemplate = new SmsMessageTemplate(this.Model);
            smsMessageTemplate.LoadFromJsonObject(smsTemplateElement);
            this.smsMessageTemplate = smsMessageTemplate;
        }
    }
    /**
     * @return {?}
     */
    NewInstance() {
        return new SendMessageExpireOperation(this.Model);
    }
    /**
     * @return {?}
     */
    clone() {
        /** @type {?} */
        const sendMessageExpireOperation = new SendMessageExpireOperation(this.Model);
        sendMessageExpireOperation.id = BpmnModelHelper.GenerateElementId();
        sendMessageExpireOperation.durationType = this.durationType;
        sendMessageExpireOperation.timeDuration = this.timeDuration;
        sendMessageExpireOperation.timeUnit = this.timeUnit;
        sendMessageExpireOperation.message = this.message;
        sendMessageExpireOperation.sendType = this.sendType;
        sendMessageExpireOperation.subject = this.subject;
        sendMessageExpireOperation.receiver = this.receiver;
        sendMessageExpireOperation.receiverText = this.receiverText;
        sendMessageExpireOperation.cycleEnable = this.cycleEnable;
        sendMessageExpireOperation.cycleTime = this.cycleTime;
        sendMessageExpireOperation.cycleTimeUnit = this.cycleTimeUnit;
        if (this.smsMessageTemplate) {
            sendMessageExpireOperation.smsMessageTemplate = this.smsMessageTemplate.clone();
        }
        return sendMessageExpireOperation;
    }
}
SendMessageExpireOperation.Clr_Type_ID = "wf.Mex.SendMessageExpireOperation";
if (false) {
    /** @type {?} */
    SendMessageExpireOperation.Clr_Type_ID;
    /** @type {?} */
    SendMessageExpireOperation.prototype.ClrTypeID;
    /**
     * 预警信息内容
     * @type {?}
     */
    SendMessageExpireOperation.prototype.message;
    /**
     * 发送预警信息类型
     * @type {?}
     */
    SendMessageExpireOperation.prototype.sendType;
    /**
     * 预警信息主题
     * @type {?}
     */
    SendMessageExpireOperation.prototype.subject;
    /**
     * 消息接收人
     * 用户IDs
     * @type {?}
     */
    SendMessageExpireOperation.prototype.receiver;
    /**
     * 消息接收人显示
     * @type {?}
     */
    SendMessageExpireOperation.prototype.receiverText;
    /**
     * 开启循环预警
     * @type {?}
     */
    SendMessageExpireOperation.prototype.cycleEnable;
    /**
     * 循环预警时间间隔
     * @type {?}
     */
    SendMessageExpireOperation.prototype.cycleTime;
    /**
     * 循环预警时间间隔单位
     * @type {?}
     */
    SendMessageExpireOperation.prototype.cycleTimeUnit;
    /** @type {?} */
    SendMessageExpireOperation.prototype.smsMessageTemplate;
}
BpmnModelHelper.RegisterElementType(new SendMessageExpireOperation(new BpmnModel()));
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiU2VuZE1lc3NhZ2VFeHBpcmVPcGVyYXRpb24uanMiLCJzb3VyY2VSb290Ijoibmc6Ly9AZ3NwLXdmL3dmLXByb2Nlc3MtbW9kZWwvIiwic291cmNlcyI6WyJsaWIvbW9kZWwvU2VuZE1lc3NhZ2VFeHBpcmVPcGVyYXRpb24udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7OztBQUFBLE9BQU8sRUFBRSxTQUFTLEVBQUUsZUFBZSxFQUFFLGVBQWUsRUFBRSxNQUFNLHFCQUFxQixDQUFDO0FBQ2xGLE9BQU8sRUFBRSxlQUFlLEVBQUUsTUFBTSxtQkFBbUIsQ0FBQztBQUNwRCxPQUFPLEVBQUUsa0JBQWtCLEVBQUUsTUFBTSxzQkFBc0IsQ0FBQztBQUUxRCxNQUFNLE9BQU8sMEJBQTJCLFNBQVEsZUFBZTtJQUEvRDs7UUFFYSxjQUFTLEdBQVcsMEJBQTBCLENBQUMsV0FBVyxDQUFDO0lBa0h4RSxDQUFDOzs7OztJQXJFYSxtQkFBbUI7UUFDekIsS0FBSyxDQUFDLG1CQUFtQixFQUFFLENBQUM7UUFDNUIsSUFBSSxDQUFDLGtCQUFrQixHQUFHLElBQUksQ0FBQztJQUNuQyxDQUFDOzs7O0lBRUQsbUJBQW1COztZQUNYLEdBQUcsR0FBRyxLQUFLLENBQUMsbUJBQW1CLEVBQUU7UUFDckMsZUFBZSxDQUFDLGlCQUFpQixDQUFDLEdBQUcsRUFBRSxTQUFTLEVBQUUsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDO1FBQ2hFLGVBQWUsQ0FBQyxpQkFBaUIsQ0FBQyxHQUFHLEVBQUUsVUFBVSxFQUFFLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUNsRSxlQUFlLENBQUMsaUJBQWlCLENBQUMsR0FBRyxFQUFFLFNBQVMsRUFBRSxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUM7UUFDaEUsZUFBZSxDQUFDLGlCQUFpQixDQUFDLEdBQUcsRUFBRSxVQUFVLEVBQUUsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBQ2xFLGVBQWUsQ0FBQyxpQkFBaUIsQ0FBQyxHQUFHLEVBQUUs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QztRQUNsRCwwQkFBMEIsQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQztRQUNwRCwwQkFBMEIsQ0FBQyxZQUFZLEdBQUcsSUFBSSxDQUFDLFlBQVksQ0FBQztRQUM1RCwwQkFBMEIsQ0FBQyxXQUFXLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQztRQUMxRCwwQkFBMEIsQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQztRQUN0RCwwQkFBMEIsQ0FBQyxhQUFhLEdBQUcsSUFBSSxDQUFDLGFBQWEsQ0FBQztRQUU5RCxJQUFJLElBQUksQ0FBQyxrQkFBa0IsRUFBRTtZQUN6QiwwQkFBMEIsQ0FBQyxrQkFBa0IsR0FBRyxJQUFJLENBQUMsa0JBQWtCLENBQUMsS0FBSyxFQUFFLENBQUM7U0FDbkY7UUFFRCxPQUFPLDBCQUEwQixDQUFDO0lBQ3RDLENBQUM7O0FBakhNLHNDQUFXLEdBQVcsbUNBQW1DLENBQUM7OztJQUFqRSx1Q0FBaUU7O0lBQ2pFLCtDQUFvRTs7Ozs7SUFLcEUsNkNBQWdCOzs7OztJQUtoQiw4Q0FBaUI7Ozs7O0lBS2pCLDZDQUFnQjs7Ozs7O0lBTWhCLDhDQUFpQjs7Ozs7SUFLakIsa0RBQXFCOzs7OztJQUtyQixpREFBcUI7Ozs7O0lBS3JCLCtDQUFrQjs7Ozs7SUFLbEIsbURBQXFCOztJQUVyQix3REFBdUM7O0FBd0UzQyxlQUFlLENBQUMsbUJBQW1CLENBQUMsSUFBSSwwQkFBMEIsQ0FBQyxJQUFJLFNBQVMsRUFBRSxDQUFDLENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEJwbW5Nb2RlbCwgQnBtbk1vZGVsSGVscGVyLCBFeHRlbnNpb25NZXRob2QgfSBmcm9tIFwiQGVkcC1wbWYvYnBtbi1tb2RlbFwiO1xyXG5pbXBvcnQgeyBFeHBpcmVPcGVyYXRpb24gfSBmcm9tIFwiLi9FeHBpcmVPcGVyYXRpb25cIjtcclxuaW1wb3J0IHsgU21zTWVzc2FnZVRlbXBsYXRlIH0gZnJvbSBcIi4vU21zTWVzc2FnZVRlbXBsYXRlXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgU2VuZE1lc3NhZ2VFeHBpcmVPcGVyYXRpb24gZXh0ZW5kcyBFeHBpcmVPcGVyYXRpb24ge1xyXG4gICAgc3RhdGljIENscl9UeXBlX0lEOiBzdHJpbmcgPSBcIndmLk1leC5TZW5kTWVzc2FnZUV4cGlyZU9wZXJhdGlvblwiO1xyXG4gICAgcmVhZG9ubHkgQ2xyVHlwZUlEOiBzdHJpbmcgPSBTZW5kTWVzc2FnZUV4cGlyZU9wZXJhdGlvbi5DbHJfVHlwZV9JRDtcclxuXHJcbiAgICAvKipcclxuICAgICAq6aKE6K2m5L+h5oGv5YaF5a65XHJcbiAgICAgKi9cclxuICAgIG1lc3NhZ2U6IHN0cmluZztcclxuXHJcbiAgICAvKipcclxuICAgICAqIOWPkemAgemihOitpuS/oeaBr+exu+Wei1xyXG4gICAgICovXHJcbiAgICBzZW5kVHlwZTogc3RyaW5nO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICog6aKE6K2m5L+h5oGv5Li76aKYXHJcbiAgICAgKi9cclxuICAgIHN1YmplY3Q6IHN0cmluZztcclxuXHJcbiAgICAvKipcclxuICAgICAqIOa2iOaBr+aOpeaUtuS6ulxyXG4gICAgICog55So5oi3SURzXHJcbiAgICAgKi9cclxuICAgIHJlY2VpdmVyOiBzdHJpbmc7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDmtojmga/mjqXmlLbkurrmmL7npLpcclxuICAgICAqL1xyXG4gICAgcmVjZWl2ZXJUZXh0OiBzdHJpbmc7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDlvIDlkK/lvqrnjq/pooToraZcclxuICAgICAqL1xyXG4gICAgY3ljbGVFbmFibGU6IGJvb2xlYW47XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDlvqrnjq/pooTorabml7bpl7Tpl7TpmpRcclxuICAgICAqL1xyXG4gICAgY3ljbGVUaW1lOiBzdHJpbmc7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDlvqrnjq/pooTorabml7bpl7Tpl7TpmpTljZXkvY1cclxuICAgICAqL1xyXG4gICAgY3ljbGVUaW1lVW5pdDogc3RyaW5nXHJcblxyXG4gICAgc21zTWVzc2FnZVRlbXBsYXRlOiBTbXNNZXNzYWdlVGVtcGxhdGU7XHJcblxyXG4gICAgcHJvdGVjdGVkIFJlc2V0QmVmb3JlTG9hZEZyb20oKSB7XHJcbiAgICAgICAgc3VwZXIuUmVzZXRCZWZvcmVMb2FkRnJvbSgpO1xyXG4gICAgICAgIHRoaXMuc21zTWVzc2FnZVRlbXBsYXRlID0gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBDb252ZXJ0VG9Kc29uT2JqZWN0KCk6IGFueSB7XHJcbiAgICAgICAgbGV0IG9iaiA9IHN1cGVyLkNvbnZlcnRUb0pzb25PYmplY3QoKTtcclxuICAgICAgICBFeHRlbnNpb25NZXRob2QuU2V0QXR0cmlidXRlVmFsdWUob2JqLCBcIk1lc3NhZ2VcIiwgdGhpcy5tZXNzYWdlKTtcclxuICAgICAgICBFeHRlbnNpb25NZXRob2QuU2V0QXR0cmlidXRlVmFsdWUob2JqLCBcIlNlbmRUeXBlXCIsIHRoaXMuc2VuZFR5cGUpO1xyXG4gICAgICAgIEV4dGVuc2lvbk1ldGhvZC5TZXRBdHRyaWJ1dGVWYWx1ZShvYmosIFwiU3ViamVjdFwiLCB0aGlzLnN1YmplY3QpO1xyXG4gICAgICAgIEV4dGVuc2lvbk1ldGhvZC5TZXRBdHRyaWJ1dGVWYWx1ZShvYmosIFwiUmVjZWl2ZXJcIiwgdGhpcy5yZWNlaXZlcik7XHJcbiAgICAgICAgRXh0ZW5zaW9uTWV0aG9kLlNldEF0dHJpYnV0ZVZhbHVlKG9iaiwgXCJSZWNlaXZlclRleHRcIiwgdGhpcy5yZWNlaXZlclRleHQpO1xyXG4gICAgICAgIEV4dGVuc2lvbk1ldGhvZC5TZXRBdHRyaWJ1dGVWYWx1ZShvYmosIFwiQ3ljbGVFbmFibGVcIiwgdGhpcy5jeWNsZUVuYWJsZSk7XHJcbiAgICAgICAgRXh0ZW5zaW9uTWV0aG9kLlNldEF0dHJpYnV0ZVZhbHVlKG9iaiwgXCJDeWNsZVRpbWVcIiwgdGhpcy5jeWNsZVRpbWUpO1xyXG4gICAgICAgIEV4dGVuc2lvbk1ldGhvZC5TZXRBdHRyaWJ1dGVWYWx1ZShvYmosIFwiQ3ljbGVUaW1lVW5pdFwiLCB0aGlzLmN5Y2xlVGltZVVuaXQpO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5zbXNNZXNzYWdlVGVtcGxhdGUpIHtcclxuICAgICAgICAgICAgRXh0ZW5zaW9uTWV0aG9kLlNldEF0dHJpYnV0ZVZhbHVlKG9iaiwgXCJTbXNNZXNzYWdlVGVtcGxhdGVcIiwgdGhpcy5zbXNNZXNzYWdlVGVtcGxhdGUuQ29udmVydFRvSnNvbk9iamVjdCgpKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBvYmo7XHJcbiAgICB9XHJcblxyXG4gICAgTG9hZEZyb21Kc29uT2JqZWN0KG9iajogYW55KSB7XHJcbiAgICAgICAgc3VwZXIuTG9hZEZyb21Kc29uT2JqZWN0KG9iaik7XHJcblxyXG4gICAgICAgIHRoaXMubWVzc2FnZSA9IEV4dGVuc2lvbk1ldGhvZC5HZXRBdHRyaWJ1dGVWYWx1ZTRTdHJpbmcob2JqLCBcIk1lc3NhZ2VcIik7XHJcbiAgICAgICAgdGhpcy5zZW5kVHlwZSA9IEV4dGVuc2lvbk1ldGhvZC5HZXRBdHRyaWJ1dGVWYWx1ZTRTdHJpbmcob2JqLCBcIlNlbmRUeXBlXCIpO1xyXG4gICAgICAgIHRoaXMuc3ViamVjdCA9IEV4dGVuc2lvbk1ldGhvZC5HZXRBdHRyaWJ1dGVWYWx1ZTRTdHJpbmcob2JqLCBcIlN1YmplY3RcIik7XHJcbiAgICAgICAgdGhpcy5yZWNlaXZlciA9IEV4dGVuc2lvbk1ldGhvZC5HZXRBdHRyaWJ1dGVWYWx1ZTRTdHJpbmcob2JqLCBcIlJlY2VpdmVyXCIpO1xyXG4gICAgICAgIHRoaXMucmVjZWl2ZXJUZXh0ID0gRXh0ZW5zaW9uTWV0aG9kLkdldEF0dHJpYnV0ZVZhbHVlNFN0cmluZyhvYmosIFwiUmVjZWl2ZXJUZXh0XCIpO1xyXG4gICAgICAgIHRoaXMuY3ljbGVFbmFibGUgPSBFeHRlbnNpb25NZXRob2QuR2V0QXR0cmlidXRlVmFsdWU0Qm9vbGVhbihvYmosIFwiQ3ljbGVFbmFibGVcIik7XHJcbiAgICAgICAgdGhpcy5jeWNsZVRpbWUgPSBFeHRlbnNpb25NZXRob2QuR2V0QXR0cmlidXRlVmFsdWU0U3RyaW5nKG9iaiwgXCJDeWNsZVRpbWVcIik7XHJcbiAgICAgICAgdGhpcy5jeWNsZVRpbWVVbml0ID0gRXh0ZW5zaW9uTWV0aG9kLkdldEF0dHJpYnV0ZVZhbHVlNFN0cmluZyhvYmosIFwiQ3ljbGVUaW1lVW5pdFwiKTtcclxuXHJcbiAgICAgICAgY29uc3Qgc21zVGVtcGxhdGVFbGVtZW50ID0gRXh0ZW5zaW9uTWV0aG9kLkdldEF0dHJpYnV0ZVZhbHVlKG9iaiwgJ1Ntc01lc3NhZ2VUZW1wbGF0ZScpO1xyXG4gICAgICAgIGlmIChzbXNUZW1wbGF0ZUVsZW1lbnQpIHtcclxuICAgICAgICAgICAgY29uc3Qgc21zTWVzc2FnZVRlbXBsYXRlID0gbmV3IFNtc01lc3NhZ2VUZW1wbGF0ZSh0aGlzLk1vZGVsKTtcclxuICAgICAgICAgICAgc21zTWVzc2FnZVRlbXBsYXRlLkxvYWRGcm9tSnNvbk9iamVjdChzbXNUZW1wbGF0ZUVsZW1lbnQpO1xyXG4gICAgICAgICAgICB0aGlzLnNtc01lc3NhZ2VUZW1wbGF0ZSA9IHNtc01lc3NhZ2VUZW1wbGF0ZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgTmV3SW5zdGFuY2UoKTogU2VuZE1lc3NhZ2VFeHBpcmVPcGVyYXRpb24ge1xyXG4gICAgICAgIHJldHVybiBuZXcgU2VuZE1lc3NhZ2VFeHBpcmVPcGVyYXRpb24odGhpcy5Nb2RlbCk7XHJcbiAgICB9XHJcblxyXG4gICAgY2xvbmUoKTogU2VuZE1lc3NhZ2VFeHBpcmVPcGVyYXRpb24ge1xyXG4gICAgICAgIGNvbnN0IHNlbmRNZXNzYWdlRXhwaXJlT3BlcmF0aW9uID0gbmV3IFNlbmRNZXNzYWdlRXhwaXJlT3BlcmF0aW9uKHRoaXMuTW9kZWwpO1xyXG4gICAgICAgIHNlbmRNZXNzYWdlRXhwaXJlT3BlcmF0aW9uLmlkID0gQnBtbk1vZGVsSGVscGVyLkdlbmVyYXRlRWxlbWVudElkKCk7XHJcbiAgICAgICAgc2VuZE1lc3NhZ2VFeHBpcmVPcGVyYXRpb24uZHVyYXRpb25UeXBlID0gdGhpcy5kdXJhdGlvblR5cGU7XHJcbiAgICAgICAgc2VuZE1lc3NhZ2VFeHBpcmVPcGVyYXRpb24udGltZUR1cmF0aW9uID0gdGhpcy50aW1lRHVyYXRpb247XHJcbiAgICAgICAgc2VuZE1lc3NhZ2VFeHBpcmVPcGVyYXRpb24udGltZVVuaXQgPSB0aGlzLnRpbWVVbml0O1xyXG4gICAgICAgIHNlbmRNZXNzYWdlRXhwaXJlT3BlcmF0aW9uLm1lc3NhZ2UgPSB0aGlzLm1lc3NhZ2U7XHJcbiAgICAgICAgc2VuZE1lc3NhZ2VFeHBpcmVPcGVyYXRpb24uc2VuZFR5cGUgPSB0aGlzLnNlbmRUeXBlO1xyXG4gICAgICAgIHNlbmRNZXNzYWdlRXhwaXJlT3BlcmF0aW9uLnN1YmplY3QgPSB0aGlzLnN1YmplY3Q7XHJcbiAgICAgICAgc2VuZE1lc3NhZ2VFeHBpcmVPcGVyYXRpb24ucmVjZWl2ZXIgPSB0aGlzLnJlY2VpdmVyO1xyXG4gICAgICAgIHNlbmRNZXNzYWdlRXhwaXJlT3BlcmF0aW9uLnJlY2VpdmVyVGV4dCA9IHRoaXMucmVjZWl2ZXJUZXh0O1xyXG4gICAgICAgIHNlbmRNZXNzYWdlRXhwaXJlT3BlcmF0aW9uLmN5Y2xlRW5hYmxlID0gdGhpcy5jeWNsZUVuYWJsZTtcclxuICAgICAgICBzZW5kTWVzc2FnZUV4cGlyZU9wZXJhdGlvbi5jeWNsZVRpbWUgPSB0aGlzLmN5Y2xlVGltZTtcclxuICAgICAgICBzZW5kTWVzc2FnZUV4cGlyZU9wZXJhdGlvbi5jeWNsZVRpbWVVbml0ID0gdGhpcy5jeWNsZVRpbWVVbml0O1xyXG5cclxuICAgICAgICBpZiAodGhpcy5zbXNNZXNzYWdlVGVtcGxhdGUpIHtcclxuICAgICAgICAgICAgc2VuZE1lc3NhZ2VFeHBpcmVPcGVyYXRpb24uc21zTWVzc2FnZVRlbXBsYXRlID0gdGhpcy5zbXNNZXNzYWdlVGVtcGxhdGUuY2xvbmUoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBzZW5kTWVzc2FnZUV4cGlyZU9wZXJhdGlvbjtcclxuICAgIH1cclxuXHJcbn1cclxuQnBtbk1vZGVsSGVscGVyLlJlZ2lzdGVyRWxlbWVudFR5cGUobmV3IFNlbmRNZXNzYWdlRXhwaXJlT3BlcmF0aW9uKG5ldyBCcG1uTW9kZWwoKSkpO1xyXG4iXX0=