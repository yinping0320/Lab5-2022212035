/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import * as tslib_1 from "tslib";
import { BpmnModel, BpmnModelHelper } from "@edp-pmf/bpmn-model";
import { Condition } from "../condition-expression/Condition";
import { ExtensionCompletionConditionRuler } from "@edp-pmf/bpmn-model";
var CounterSignRule = /** @class */ (function (_super) {
    tslib_1.__extends(CounterSignRule, _super);
    function CounterSignRule(model) {
        var _this = _super.call(this, model) || this;
        _this.ClrTypeID = CounterSignRule.Clr_Type_ID;
        return _this;
    }
    /**
     * @return {?}
     */
    CounterSignRule.prototype.NewInstance = /**
     * @return {?}
     */
    function () {
        return new CounterSignRule(this.Model);
    };
    Object.defineProperty(CounterSignRule.prototype, "CounterVariableName", {
        /**
         * 计数器
         * */
        get: /**
         * 计数器
         *
         * @return {?}
         */
        function () {
            return "nrOf" + this.ConclusionValue;
        },
        enumerable: true,
        configurable: true
    });
    /**
     * @return {?}
     */
    CounterSignRule.prototype.ResetBeforeLoadFrom = /**
     * @return {?}
     */
    function () {
        _super.prototype.ResetBeforeLoadFrom.call(this);
    };
    /**
     * @return {?}
     */
    CounterSignRule.prototype.ConvertToJsonObject = /**
     * @return {?}
     */
    function () {
        /** @type {?} */
        var obj = _super.prototype.ConvertToJsonObject.call(this);
        BpmnModelHelper.SetAttributeValue(obj, "ConclusionValue", this.ConclusionValue);
        BpmnModelHelper.SetAttributeValue(obj, "CalculateType", this.CalculateType);
        BpmnModelHelper.SetAttributeValue(obj, "ConditionValue", this.ConditionValue);
        BpmnModelHelper.SetAttributeValue(obj, "WaitAllVotes", this.WaitAllVotes);
        if (this.CompletionCondition) {
            BpmnModelHelper.SetAttributeValue(obj, "CompletionCondition", this.CompletionCondition.ConvertToJsonObject());
        }
        return obj;
    };
    /**
     * @param {?} obj
     * @return {?}
     */
    CounterSignRule.prototype.LoadFromJsonObject = /**
     * @param {?} obj
     * @return {?}
     */
    function (obj) {
        _super.prototype.LoadFromJsonObject.call(this, obj);
        this.ConclusionValue = obj.ConclusionValue;
        this.CalculateType = obj.CalculateType;
        this.ConditionValue = obj.ConditionValue;
        this.WaitAllVotes = obj.WaitAllVotes;
        if (obj.CompletionCondition) {
            /** @type {?} */
            var condition = new Condition(this.Model);
            condition.LoadFromJsonObject(obj.CompletionCondition);
            this.CompletionCondition = condition;
        }
    };
    /**
     * @return {?}
     */
    CounterSignRule.prototype.clone = /**
     * @return {?}
     */
    function () {
        /** @type {?} */
        var counterSignRule = new CounterSignRule(this.Model);
        counterSignRule.ConclusionValue = this.ConclusionValue;
        counterSignRule.CalculateType = this.CalculateType;
        counterSignRule.ConditionValue = this.ConditionValue;
        counterSignRule.WaitAllVotes = this.WaitAllVotes;
        if (this.CompletionCondition) {
            counterSignRule.CompletionCondition = this.CompletionCondition.clone();
        }
        return counterSignRule;
    };
    CounterSignRule.Clr_Type_ID = 'wf.CounterSignRule';
    return CounterSignRule;
}(ExtensionCompletionConditionRuler));
export { CounterSignRule };
if (false) {
    /** @type {?} */
    CounterSignRule.Clr_Type_ID;
    /** @type {?} */
    CounterSignRule.prototype.ClrTypeID;
    /**
     * 结论值
     *
     * @type {?}
     */
    CounterSignRule.prototype.ConclusionValue;
    /**
     * 完成条件
     *
     * @type {?}
     */
    CounterSignRule.prototype.CompletionCondition;
    /**
     * 计算方式
     * @type {?}
     */
    CounterSignRule.prototype.CalculateType;
    /**
     * 满足所有条件值
     * @type {?}
     */
    CounterSignRule.prototype.ConditionValue;
    /**
     * 是否等待所有选票
     * @type {?}
     */
    CounterSignRule.prototype.WaitAllVotes;
}
BpmnModelHelper.RegisterElementType(new CounterSignRule(new BpmnModel()));
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQ291bnRlclNpZ25SdWxlLmpzIiwic291cmNlUm9vdCI6Im5nOi8vQGdzcC13Zi93Zi1wcm9jZXNzLW1vZGVsLyIsInNvdXJjZXMiOlsibGliL21vZGVsL2V4dGVuc2lvbi9jb21wbGV0aW9uLXN0cmF0ZWd5L0NvdW50ZXJTaWduUnVsZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7OztBQUFBLE9BQU8sRUFBRSxTQUFTLEVBQUUsZUFBZSxFQUFFLE1BQU0scUJBQXFCLENBQUM7QUFDakUsT0FBTyxFQUFFLFNBQVMsRUFBRSxNQUFNLG1DQUFtQyxDQUFDO0FBQzlELE9BQU8sRUFBRSxpQ0FBaUMsRUFBRSxNQUFNLHFCQUFxQixDQUFDO0FBRXhFO0lBQXFDLDJDQUFpQztJQVFsRSx5QkFBWSxLQUFnQjtRQUE1QixZQUNJLGtCQUFNLEtBQUssQ0FBQyxTQUNmO1FBUlEsZUFBUyxHQUFXLGVBQWUsQ0FBQyxXQUFXLENBQUM7O0lBUXpELENBQUM7Ozs7SUFORCxxQ0FBVzs7O0lBQVg7UUFDSSxPQUFPLElBQUksZUFBZSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztJQUMzQyxDQUFDO0lBWUQsc0JBQUksZ0RBQW1CO1FBSHZCOzthQUVLOzs7Ozs7UUFDTDtZQUNJLE9BQU8sU0FBTyxJQUFJLENBQUMsZUFBaUIsQ0FBQztRQUN6QyxDQUFDOzs7T0FBQTs7OztJQWtCRCw2Q0FBbUI7OztJQUFuQjtRQUNJLGlCQUFNLG1CQUFtQixXQUFFLENBQUM7SUFDaEMsQ0FBQzs7OztJQUVELDZDQUFtQjs7O0lBQW5COztZQUNRLEdBQUcsR0FBRyxpQkFBTSxtQkFBbUIsV0FBRTtRQUVyQyxlQUFlLENBQUMsaUJBQWlCLENBQUMsR0FBRyxFQUFFLGlCQUFpQixFQUFFLElBQUksQ0FBQyxlQUFlLENBQUMsQ0FBQztRQUNoRixlQUFlLENBQUMsaUJBQWlCLENBQUMsR0FBRyxFQUFFLGVBQWUsRUFBRSxJQUFJLENBQUMsYUFBYSxDQUFDLENBQUM7UUFDNUUsZUFBZSxDQUFDLGlCQUFpQixDQUFDLEdBQUcsRUFBRSxnQkFBZ0IsRUFBRSxJQUFJLENBQUMsY0FBYyxDQUFDLENBQUM7UUFDOUUsZUFBZSxDQUFDLGlCQUFpQixDQUFDLEdBQUcsRUFBRSxjQUFjLEVBQUUsSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDO1FBRTFFLElBQUksSUFBSSxDQUFDLG1CQUFtQixFQUFFO1lBQzFCLGVBQWUsQ0FBQyxpQkFBaUIsQ0FBQyxHQUFHLEVBQUUscUJBQXFCLEVBQUUsSUFBSSxDQUFDLG1CQUFtQixDQUFDLG1CQUFtQixFQUFFLENBQUMsQ0FBQztTQUNqSDtRQUNELE9BQU8sR0FBRyxDQUFDO0lBQ2YsQ0FBQzs7Ozs7SUFFRCw0Q0FBa0I7Ozs7SUFBbEIsVUFBbUIsR0FBUTtRQUN2QixpQkFBTSxrQkFBa0IsWUFBQyxHQUFHLENBQUMsQ0FBQztRQUU5QixJQUFJLENBQUMsZUFBZSxHQUFHLEdBQUcsQ0FBQyxlQUFlLENBQUM7UUFDM0MsSUFBSSxDQUFDLGFBQWEsR0FBRyxHQUFHLENBQUMsYUFBYSxDQUFDO1FBQ3ZDLElBQUksQ0FBQyxjQUFjLEdBQUcsR0FBRyxDQUFDLGNBQWMsQ0FBQztRQUN6QyxJQUFJLENBQUMsWUFBWSxHQUFHLEdBQUcsQ0FBQyxZQUFZLENBQUM7UUFDckMsSUFBSSxHQUFHLENBQUMsbUJBQW1CLEVBQUU7O2dCQUNyQixTQUFTLEdBQWMsSUFBSSxTQUFTLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQztZQUNwRCxTQUFTLENBQUMsa0JBQWtCLENBQUMsR0FBRyxDQUFDLG1CQUFtQixDQUFDLENBQUM7WUFDdEQsSUFBSSxDQUFDLG1CQUFtQixHQUFHLFNBQVMsQ0FBQztTQUN4QztJQUNMLENBQUM7Ozs7SUFFRCwrQkFBSzs7O0lBQUw7O1lBQ1UsZUFBZSxHQUFHLElBQUksZUFBZSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUM7UUFDdkQsZUFBZSxDQUFDLGVBQWUsR0FBRyxJQUFJLENBQUMsZUFBZSxDQUFDO1FBQ3ZELGVBQWUsQ0FBQyxhQUFhLEdBQUcsSUFBSSxDQUFDLGFBQWEsQ0FBQztRQUNuRCxlQUFlLENBQUMsY0FBYyxHQUFHLElBQUksQ0FBQyxjQUFjLENBQUM7UUFDckQsZUFBZSxDQUFDLFlBQVksR0FBRyxJQUFJLENBQUMsWUFBWSxDQUFDO1FBQ2pELElBQUksSUFBSSxDQUFDLG1CQUFtQixFQUFFO1lBQzFCLGVBQWUsQ0FBQyxtQkFBbUIsR0FBRyxJQUFJLENBQUMsbUJBQW1CLENBQUMsS0FBSyxFQUFFLENBQUM7U0FDMUU7UUFFRCxPQUFPLGVBQWUsQ0FBQztJQUMzQixDQUFDO0lBaEZNLDJCQUFXLEdBQVcsb0JBQW9CLENBQUM7SUFpRnRELHNCQUFDO0NBQUEsQUFsRkQsQ0FBcUMsaUNBQWlDLEdBa0ZyRTtTQWxGWSxlQUFlOzs7SUFDeEIsNEJBQWtEOztJQUNsRCxvQ0FBeUQ7Ozs7OztJQVl6RCwwQ0FBd0I7Ozs7OztJQVV4Qiw4Q0FBK0I7Ozs7O0lBSS9CLHdDQUFzQjs7Ozs7SUFJdEIseUNBQXVCOzs7OztJQUl2Qix1Q0FBc0I7O0FBK0MxQixlQUFlLENBQUMsbUJBQW1CLENBQUMsSUFBSSxlQUFlLENBQUMsSUFBSSxTQUFTLEVBQUUsQ0FBQyxDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBCcG1uTW9kZWwsIEJwbW5Nb2RlbEhlbHBlciB9IGZyb20gXCJAZWRwLXBtZi9icG1uLW1vZGVsXCI7XHJcbmltcG9ydCB7IENvbmRpdGlvbiB9IGZyb20gXCIuLi9jb25kaXRpb24tZXhwcmVzc2lvbi9Db25kaXRpb25cIjtcclxuaW1wb3J0IHsgRXh0ZW5zaW9uQ29tcGxldGlvbkNvbmRpdGlvblJ1bGVyIH0gZnJvbSBcIkBlZHAtcG1mL2JwbW4tbW9kZWxcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBDb3VudGVyU2lnblJ1bGUgZXh0ZW5kcyBFeHRlbnNpb25Db21wbGV0aW9uQ29uZGl0aW9uUnVsZXIge1xyXG4gICAgc3RhdGljIENscl9UeXBlX0lEOiBzdHJpbmcgPSAnd2YuQ291bnRlclNpZ25SdWxlJztcclxuICAgIHJlYWRvbmx5IENsclR5cGVJRDogc3RyaW5nID0gQ291bnRlclNpZ25SdWxlLkNscl9UeXBlX0lEO1xyXG5cclxuICAgIE5ld0luc3RhbmNlKCk6IENvdW50ZXJTaWduUnVsZSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBDb3VudGVyU2lnblJ1bGUodGhpcy5Nb2RlbCk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3RydWN0b3IobW9kZWw6IEJwbW5Nb2RlbCkge1xyXG4gICAgICAgIHN1cGVyKG1vZGVsKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgKiDnu5PorrrlgLxcclxuICAgICogKi9cclxuICAgIENvbmNsdXNpb25WYWx1ZTogc3RyaW5nO1xyXG4gICAgLyoqXHJcbiAgICAgKiDorqHmlbDlmahcclxuICAgICAqICovXHJcbiAgICBnZXQgQ291bnRlclZhcmlhYmxlTmFtZSgpIHtcclxuICAgICAgICByZXR1cm4gYG5yT2Yke3RoaXMuQ29uY2x1c2lvblZhbHVlfWA7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICog5a6M5oiQ5p2h5Lu2XHJcbiAgICAqICovXHJcbiAgICBDb21wbGV0aW9uQ29uZGl0aW9uOiBDb25kaXRpb247XHJcbiAgICAvKipcclxuICAgICAqIOiuoeeul+aWueW8j1xyXG4gICAgICovXHJcbiAgICBDYWxjdWxhdGVUeXBlOiBzdHJpbmc7XHJcbiAgICAvKipcclxuICAgICAqIOa7oei2s+aJgOacieadoeS7tuWAvFxyXG4gICAgICovXHJcbiAgICBDb25kaXRpb25WYWx1ZTogc3RyaW5nO1xyXG4gICAgLyoqXHJcbiAgICAgKiDmmK/lkKbnrYnlvoXmiYDmnInpgInnpahcclxuICAgICAqL1xyXG4gICAgV2FpdEFsbFZvdGVzOiBib29sZWFuO1xyXG5cclxuICAgIFJlc2V0QmVmb3JlTG9hZEZyb20oKSB7XHJcbiAgICAgICAgc3VwZXIuUmVzZXRCZWZvcmVMb2FkRnJvbSgpO1xyXG4gICAgfVxyXG5cclxuICAgIENvbnZlcnRUb0pzb25PYmplY3QoKTogYW55IHtcclxuICAgICAgICBsZXQgb2JqID0gc3VwZXIuQ29udmVydFRvSnNvbk9iamVjdCgpO1xyXG5cclxuICAgICAgICBCcG1uTW9kZWxIZWxwZXIuU2V0QXR0cmlidXRlVmFsdWUob2JqLCBcIkNvbmNsdXNpb25WYWx1ZVwiLCB0aGlzLkNvbmNsdXNpb25WYWx1ZSk7XHJcbiAgICAgICAgQnBtbk1vZGVsSGVscGVyLlNldEF0dHJpYnV0ZVZhbHVlKG9iaiwgXCJDYWxjdWxhdGVUeXBlXCIsIHRoaXMuQ2FsY3VsYXRlVHlwZSk7XHJcbiAgICAgICAgQnBtbk1vZGVsSGVscGVyLlNldEF0dHJpYnV0ZVZhbHVlKG9iaiwgXCJDb25kaXRpb25WYWx1ZVwiLCB0aGlzLkNvbmRpdGlvblZhbHVlKTtcclxuICAgICAgICBCcG1uTW9kZWxIZWxwZXIuU2V0QXR0cmlidXRlVmFsdWUob2JqLCBcIldhaXRBbGxWb3Rlc1wiLCB0aGlzLldhaXRBbGxWb3Rlcyk7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLkNvbXBsZXRpb25Db25kaXRpb24pIHtcclxuICAgICAgICAgICAgQnBtbk1vZGVsSGVscGVyLlNldEF0dHJpYnV0ZVZhbHVlKG9iaiwgXCJDb21wbGV0aW9uQ29uZGl0aW9uXCIsIHRoaXMuQ29tcGxldGlvbkNvbmRpdGlvbi5Db252ZXJ0VG9Kc29uT2JqZWN0KCkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gb2JqO1xyXG4gICAgfVxyXG5cclxuICAgIExvYWRGcm9tSnNvbk9iamVjdChvYmo6IGFueSkge1xyXG4gICAgICAgIHN1cGVyLkxvYWRGcm9tSnNvbk9iamVjdChvYmopO1xyXG5cclxuICAgICAgICB0aGlzLkNvbmNsdXNpb25WYWx1ZSA9IG9iai5Db25jbHVzaW9uVmFsdWU7XHJcbiAgICAgICAgdGhpcy5DYWxjdWxhdGVUeXBlID0gb2JqLkNhbGN1bGF0ZVR5cGU7XHJcbiAgICAgICAgdGhpcy5Db25kaXRpb25WYWx1ZSA9IG9iai5Db25kaXRpb25WYWx1ZTtcclxuICAgICAgICB0aGlzLldhaXRBbGxWb3RlcyA9IG9iai5XYWl0QWxsVm90ZXM7XHJcbiAgICAgICAgaWYgKG9iai5Db21wbGV0aW9uQ29uZGl0aW9uKSB7XHJcbiAgICAgICAgICAgIGxldCBjb25kaXRpb246IENvbmRpdGlvbiA9IG5ldyBDb25kaXRpb24odGhpcy5Nb2RlbCk7XHJcbiAgICAgICAgICAgIGNvbmRpdGlvbi5Mb2FkRnJvbUpzb25PYmplY3Qob2JqLkNvbXBsZXRpb25Db25kaXRpb24pO1xyXG4gICAgICAgICAgICB0aGlzLkNvbXBsZXRpb25Db25kaXRpb24gPSBjb25kaXRpb247XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGNsb25lKCk6IENvdW50ZXJTaWduUnVsZSB7XHJcbiAgICAgICAgY29uc3QgY291bnRlclNpZ25SdWxlID0gbmV3IENvdW50ZXJTaWduUnVsZSh0aGlzLk1vZGVsKTtcclxuICAgICAgICBjb3VudGVyU2lnblJ1bGUuQ29uY2x1c2lvblZhbHVlID0gdGhpcy5Db25jbHVzaW9uVmFsdWU7XHJcbiAgICAgICAgY291bnRlclNpZ25SdWxlLkNhbGN1bGF0ZVR5cGUgPSB0aGlzLkNhbGN1bGF0ZVR5cGU7XHJcbiAgICAgICAgY291bnRlclNpZ25SdWxlLkNvbmRpdGlvblZhbHVlID0gdGhpcy5Db25kaXRpb25WYWx1ZTtcclxuICAgICAgICBjb3VudGVyU2lnblJ1bGUuV2FpdEFsbFZvdGVzID0gdGhpcy5XYWl0QWxsVm90ZXM7XHJcbiAgICAgICAgaWYgKHRoaXMuQ29tcGxldGlvbkNvbmRpdGlvbikge1xyXG4gICAgICAgICAgICBjb3VudGVyU2lnblJ1bGUuQ29tcGxldGlvbkNvbmRpdGlvbiA9IHRoaXMuQ29tcGxldGlvbkNvbmRpdGlvbi5jbG9uZSgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGNvdW50ZXJTaWduUnVsZTtcclxuICAgIH1cclxufVxyXG5CcG1uTW9kZWxIZWxwZXIuUmVnaXN0ZXJFbGVtZW50VHlwZShuZXcgQ291bnRlclNpZ25SdWxlKG5ldyBCcG1uTW9kZWwoKSkpO1xyXG4iXX0=