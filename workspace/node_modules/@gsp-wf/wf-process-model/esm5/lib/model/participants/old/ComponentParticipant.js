/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import * as tslib_1 from "tslib";
import { BpmnModel, BpmnModelHelper } from "@edp-pmf/bpmn-model";
import { ActualParameter } from "../../parameter/WFActualParameter";
import { Participant } from "./Participant";
var ComponentParticipant = /** @class */ (function (_super) {
    tslib_1.__extends(ComponentParticipant, _super);
    function ComponentParticipant(model) {
        var _this = _super.call(this, model) || this;
        _this.ClrTypeID = ComponentParticipant.Clr_Type_ID;
        return _this;
    }
    /**
     * @return {?}
     */
    ComponentParticipant.prototype.ResetBeforeLoadFrom = /**
     * @return {?}
     */
    function () {
        _super.prototype.ResetBeforeLoadFrom.call(this);
        this.ActualParameters = new Array();
    };
    /**
     * @return {?}
     */
    ComponentParticipant.prototype.ConvertToJsonObject = /**
     * @return {?}
     */
    function () {
        /** @type {?} */
        var obj = _super.prototype.ConvertToJsonObject.call(this);
        BpmnModelHelper.SetAttributeValue(obj, "ComponentId", this.ComponentId);
        BpmnModelHelper.SetAttributeValue(obj, "ComponentName", this.ComponentName);
        BpmnModelHelper.SetAttributeValue(obj, "MethodCode", this.MethodCode);
        BpmnModelHelper.SetAttributeValue(obj, "MethodName", this.MethodName);
        return obj;
    };
    /**
     * @param {?} obj
     * @return {?}
     */
    ComponentParticipant.prototype.LoadFromJsonObject = /**
     * @param {?} obj
     * @return {?}
     */
    function (obj) {
        _super.prototype.LoadFromJsonObject.call(this, obj);
        this.ComponentId = obj.ComponentId;
        this.ComponentName = obj.ComponentName;
        this.MethodCode = obj.MethodCode;
        this.MethodName = obj.MethodName;
    };
    /**
     * @protected
     * @return {?}
     */
    ComponentParticipant.prototype.GetExtensionElements4ConvertTo = /**
     * @protected
     * @return {?}
     */
    function () {
        var e_1, _a;
        /** @type {?} */
        var list = _super.prototype.GetExtensionElements4ConvertTo.call(this);
        if (this.ActualParameters && this.ActualParameters.length > 0) {
            try {
                for (var _b = tslib_1.__values(this.ActualParameters), _c = _b.next(); !_c.done; _c = _b.next()) {
                    var param = _c.value;
                    param.MexTag = ComponentParticipant.MEXTAG;
                    list.push(param);
                }
            }
            catch (e_1_1) { e_1 = { error: e_1_1 }; }
            finally {
                try {
                    if (_c && !_c.done && (_a = _b.return)) _a.call(_b);
                }
                finally { if (e_1) throw e_1.error; }
            }
        }
        return list;
    };
    /**
     * @protected
     * @param {?} extensionElements
     * @return {?}
     */
    ComponentParticipant.prototype.SetExtensionElements4LoadFrom = /**
     * @protected
     * @param {?} extensionElements
     * @return {?}
     */
    function (extensionElements) {
        var e_2, _a;
        _super.prototype.SetExtensionElements4LoadFrom.call(this, extensionElements);
        try {
            for (var extensionElements_1 = tslib_1.__values(extensionElements), extensionElements_1_1 = extensionElements_1.next(); !extensionElements_1_1.done; extensionElements_1_1 = extensionElements_1.next()) {
                var extensionElement = extensionElements_1_1.value;
                if (extensionElement instanceof ActualParameter) {
                    /** @type {?} */
                    var actualParameter = (/** @type {?} */ (extensionElement));
                    if (actualParameter.MexTag === ComponentParticipant.MEXTAG) {
                        this.ActualParameters.push(actualParameter);
                    }
                }
            }
        }
        catch (e_2_1) { e_2 = { error: e_2_1 }; }
        finally {
            try {
                if (extensionElements_1_1 && !extensionElements_1_1.done && (_a = extensionElements_1.return)) _a.call(extensionElements_1);
            }
            finally { if (e_2) throw e_2.error; }
        }
    };
    /**
     * @return {?}
     */
    ComponentParticipant.prototype.NewInstance = /**
     * @return {?}
     */
    function () {
        return new ComponentParticipant(this.Model);
    };
    /**
     * @return {?}
     */
    ComponentParticipant.prototype.clone = /**
     * @return {?}
     */
    function () {
        var e_3, _a;
        /** @type {?} */
        var componentParticipant = new ComponentParticipant(this.Model);
        componentParticipant.Id = BpmnModelHelper.GenerateElementId();
        componentParticipant.Name = this.Name;
        componentParticipant.ComponentId = this.ComponentId;
        componentParticipant.ComponentName = this.ComponentName;
        componentParticipant.MethodCode = this.MethodCode;
        componentParticipant.MethodName = this.MethodName;
        componentParticipant.ActualParameters = new Array();
        if (this.ActualParameters && this.ActualParameters.length > 0) {
            try {
                for (var _b = tslib_1.__values(this.ActualParameters), _c = _b.next(); !_c.done; _c = _b.next()) {
                    var p = _c.value;
                    /** @type {?} */
                    var parameter = p.clone();
                    componentParticipant.ActualParameters.push(parameter);
                }
            }
            catch (e_3_1) { e_3 = { error: e_3_1 }; }
            finally {
                try {
                    if (_c && !_c.done && (_a = _b.return)) _a.call(_b);
                }
                finally { if (e_3) throw e_3.error; }
            }
        }
        if (this.Condition) {
            componentParticipant.Condition = this.Condition.clone();
        }
        return componentParticipant;
    };
    ComponentParticipant.Clr_Type_ID = 'wf.ComponentParticipant';
    ComponentParticipant.CLR_TYPE_NAME = '构件';
    ComponentParticipant.MEXTAG = "wf.ComponentParticipant";
    return ComponentParticipant;
}(Participant));
export { ComponentParticipant };
if (false) {
    /** @type {?} */
    ComponentParticipant.Clr_Type_ID;
    /**
     * @type {?}
     * @private
     */
    ComponentParticipant.CLR_TYPE_NAME;
    /**
     * @type {?}
     * @private
     */
    ComponentParticipant.MEXTAG;
    /** @type {?} */
    ComponentParticipant.prototype.ClrTypeID;
    /** @type {?} */
    ComponentParticipant.prototype.ComponentId;
    /** @type {?} */
    ComponentParticipant.prototype.ComponentName;
    /** @type {?} */
    ComponentParticipant.prototype.MethodCode;
    /** @type {?} */
    ComponentParticipant.prototype.MethodName;
    /** @type {?} */
    ComponentParticipant.prototype.ActualParameters;
}
BpmnModelHelper.RegisterElementType(new ComponentParticipant(new BpmnModel()));
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQ29tcG9uZW50UGFydGljaXBhbnQuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9AZ3NwLXdmL3dmLXByb2Nlc3MtbW9kZWwvIiwic291cmNlcyI6WyJsaWIvbW9kZWwvcGFydGljaXBhbnRzL29sZC9Db21wb25lbnRQYXJ0aWNpcGFudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7OztBQUFBLE9BQU8sRUFBRSxTQUFTLEVBQUUsZUFBZSxFQUFvQixNQUFNLHFCQUFxQixDQUFDO0FBQ25GLE9BQU8sRUFBRSxlQUFlLEVBQUUsTUFBTSxtQ0FBbUMsQ0FBQztBQUNwRSxPQUFPLEVBQUUsV0FBVyxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBRTVDO0lBQTBDLGdEQUFXO0lBYWpELDhCQUFZLEtBQWdCO1FBQTVCLFlBQ0ksa0JBQU0sS0FBSyxDQUFDLFNBQ2Y7UUFaRCxlQUFTLEdBQUcsb0JBQW9CLENBQUMsV0FBVyxDQUFDOztJQVk3QyxDQUFDOzs7O0lBQ0Qsa0RBQW1COzs7SUFBbkI7UUFDSSxpQkFBTSxtQkFBbUIsV0FBRSxDQUFDO1FBQzVCLElBQUksQ0FBQyxnQkFBZ0IsR0FBRyxJQUFJLEtBQUssRUFBbUIsQ0FBQztJQUN6RCxDQUFDOzs7O0lBRUQsa0RBQW1COzs7SUFBbkI7O1lBQ1EsR0FBRyxHQUFHLGlCQUFNLG1CQUFtQixXQUFFO1FBQ3JDLGVBQWUsQ0FBQyxpQkFBaUIsQ0FBQyxHQUFHLEVBQUUsYUFBYSxFQUFFLElBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQztRQUN4RSxlQUFlLENBQUMsaUJBQWlCLENBQUMsR0FBRyxFQUFFLGVBQWUsRUFBRSxJQUFJLENBQUMsYUFBYSxDQUFDLENBQUM7UUFDNUUsZUFBZSxDQUFDLGlCQUFpQixDQUFDLEdBQUcsRUFBRSxZQUFZLEVBQUUsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDO1FBQ3RFLGVBQWUsQ0FBQyxpQkFBaUIsQ0FBQyxHQUFHLEVBQUUsWUFBWSxFQUFFLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQztR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QkFDekQ7Ozs7Ozs7OztTQUNKO1FBQ0QsSUFBSSxJQUFJLENBQUMsU0FBUyxFQUFFO1lBQ2hCLG9CQUFvQixDQUFDLFNBQVMsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLEtBQUssRUFBRSxDQUFDO1NBQzNEO1FBRUQsT0FBTyxvQkFBb0IsQ0FBQztJQUNoQyxDQUFDO0lBckZhLGdDQUFXLEdBQUcseUJBQXlCLENBQUM7SUFDdkMsa0NBQWEsR0FBRyxJQUFJLENBQUM7SUFHckIsMkJBQU0sR0FBVyx5QkFBeUIsQ0FBQztJQWtGOUQsMkJBQUM7Q0FBQSxBQXZGRCxDQUEwQyxXQUFXLEdBdUZwRDtTQXZGWSxvQkFBb0I7OztJQUM3QixpQ0FBc0Q7Ozs7O0lBQ3RELG1DQUFvQzs7Ozs7SUFHcEMsNEJBQTBEOztJQUYxRCx5Q0FBNkM7O0lBSTdDLDJDQUFvQjs7SUFDcEIsNkNBQXNCOztJQUN0QiwwQ0FBbUI7O0lBQ25CLDBDQUFtQjs7SUFDbkIsZ0RBQW9DOztBQTZFeEMsZUFBZSxDQUFDLG1CQUFtQixDQUFDLElBQUksb0JBQW9CLENBQUMsSUFBSSxTQUFTLEVBQUUsQ0FBQyxDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBCcG1uTW9kZWwsIEJwbW5Nb2RlbEhlbHBlciwgRXh0ZW5zaW9uRWxlbWVudCB9IGZyb20gXCJAZWRwLXBtZi9icG1uLW1vZGVsXCI7XHJcbmltcG9ydCB7IEFjdHVhbFBhcmFtZXRlciB9IGZyb20gXCIuLi8uLi9wYXJhbWV0ZXIvV0ZBY3R1YWxQYXJhbWV0ZXJcIjtcclxuaW1wb3J0IHsgUGFydGljaXBhbnQgfSBmcm9tIFwiLi9QYXJ0aWNpcGFudFwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIENvbXBvbmVudFBhcnRpY2lwYW50IGV4dGVuZHMgUGFydGljaXBhbnQge1xyXG4gICAgcHVibGljIHN0YXRpYyBDbHJfVHlwZV9JRCA9ICd3Zi5Db21wb25lbnRQYXJ0aWNpcGFudCc7XHJcbiAgICBwcml2YXRlIHN0YXRpYyBDTFJfVFlQRV9OQU1FID0gJ+aehOS7tic7XHJcbiAgICBDbHJUeXBlSUQgPSBDb21wb25lbnRQYXJ0aWNpcGFudC5DbHJfVHlwZV9JRDtcclxuXHJcbiAgICBwcml2YXRlIHN0YXRpYyBNRVhUQUc6IHN0cmluZyA9IFwid2YuQ29tcG9uZW50UGFydGljaXBhbnRcIjtcclxuXHJcbiAgICBDb21wb25lbnRJZDogc3RyaW5nO1xyXG4gICAgQ29tcG9uZW50TmFtZTogc3RyaW5nO1xyXG4gICAgTWV0aG9kQ29kZTogc3RyaW5nO1xyXG4gICAgTWV0aG9kTmFtZTogc3RyaW5nO1xyXG4gICAgQWN0dWFsUGFyYW1ldGVyczogQWN0dWFsUGFyYW1ldGVyW107XHJcblxyXG4gICAgY29uc3RydWN0b3IobW9kZWw6IEJwbW5Nb2RlbCkge1xyXG4gICAgICAgIHN1cGVyKG1vZGVsKTtcclxuICAgIH1cclxuICAgIFJlc2V0QmVmb3JlTG9hZEZyb20oKSB7XHJcbiAgICAgICAgc3VwZXIuUmVzZXRCZWZvcmVMb2FkRnJvbSgpO1xyXG4gICAgICAgIHRoaXMuQWN0dWFsUGFyYW1ldGVycyA9IG5ldyBBcnJheTxBY3R1YWxQYXJhbWV0ZXI+KCk7XHJcbiAgICB9XHJcblxyXG4gICAgQ29udmVydFRvSnNvbk9iamVjdCgpOiBhbnkge1xyXG4gICAgICAgIGxldCBvYmogPSBzdXBlci5Db252ZXJ0VG9Kc29uT2JqZWN0KCk7XHJcbiAgICAgICAgQnBtbk1vZGVsSGVscGVyLlNldEF0dHJpYnV0ZVZhbHVlKG9iaiwgXCJDb21wb25lbnRJZFwiLCB0aGlzLkNvbXBvbmVudElkKTtcclxuICAgICAgICBCcG1uTW9kZWxIZWxwZXIuU2V0QXR0cmlidXRlVmFsdWUob2JqLCBcIkNvbXBvbmVudE5hbWVcIiwgdGhpcy5Db21wb25lbnROYW1lKTtcclxuICAgICAgICBCcG1uTW9kZWxIZWxwZXIuU2V0QXR0cmlidXRlVmFsdWUob2JqLCBcIk1ldGhvZENvZGVcIiwgdGhpcy5NZXRob2RDb2RlKTtcclxuICAgICAgICBCcG1uTW9kZWxIZWxwZXIuU2V0QXR0cmlidXRlVmFsdWUob2JqLCBcIk1ldGhvZE5hbWVcIiwgdGhpcy5NZXRob2ROYW1lKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIG9iajtcclxuICAgIH1cclxuXHJcbiAgICBMb2FkRnJvbUpzb25PYmplY3Qob2JqOiBhbnkpOiBhbnkge1xyXG4gICAgICAgIHN1cGVyLkxvYWRGcm9tSnNvbk9iamVjdChvYmopO1xyXG5cclxuICAgICAgICB0aGlzLkNvbXBvbmVudElkID0gb2JqLkNvbXBvbmVudElkO1xyXG4gICAgICAgIHRoaXMuQ29tcG9uZW50TmFtZSA9IG9iai5Db21wb25lbnROYW1lO1xyXG4gICAgICAgIHRoaXMuTWV0aG9kQ29kZSA9IG9iai5NZXRob2RDb2RlO1xyXG4gICAgICAgIHRoaXMuTWV0aG9kTmFtZSA9IG9iai5NZXRob2ROYW1lO1xyXG4gICAgfVxyXG4gICAgcHJvdGVjdGVkIEdldEV4dGVuc2lvbkVsZW1lbnRzNENvbnZlcnRUbygpOiBFeHRlbnNpb25FbGVtZW50W10ge1xyXG4gICAgICAgIGxldCBsaXN0ID0gc3VwZXIuR2V0RXh0ZW5zaW9uRWxlbWVudHM0Q29udmVydFRvKCk7XHJcbiAgICAgICAgaWYgKHRoaXMuQWN0dWFsUGFyYW1ldGVycyAmJiB0aGlzLkFjdHVhbFBhcmFtZXRlcnMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICBmb3IgKGNvbnN0IHBhcmFtIG9mIHRoaXMuQWN0dWFsUGFyYW1ldGVycykge1xyXG4gICAgICAgICAgICAgICAgcGFyYW0uTWV4VGFnID0gQ29tcG9uZW50UGFydGljaXBhbnQuTUVYVEFHO1xyXG4gICAgICAgICAgICAgICAgbGlzdC5wdXNoKHBhcmFtKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbGlzdDtcclxuICAgIH1cclxuICAgIHByb3RlY3RlZCBTZXRFeHRlbnNpb25FbGVtZW50czRMb2FkRnJvbShleHRlbnNpb25FbGVtZW50czogRXh0ZW5zaW9uRWxlbWVudFtdKSB7XHJcbiAgICAgICAgc3VwZXIuU2V0RXh0ZW5zaW9uRWxlbWVudHM0TG9hZEZyb20oZXh0ZW5zaW9uRWxlbWVudHMpO1xyXG5cclxuICAgICAgICBmb3IgKGNvbnN0IGV4dGVuc2lvbkVsZW1lbnQgb2YgZXh0ZW5zaW9uRWxlbWVudHMpIHtcclxuICAgICAgICAgICAgaWYgKGV4dGVuc2lvbkVsZW1lbnQgaW5zdGFuY2VvZiBBY3R1YWxQYXJhbWV0ZXIpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGFjdHVhbFBhcmFtZXRlcjogQWN0dWFsUGFyYW1ldGVyID0gZXh0ZW5zaW9uRWxlbWVudCBhcyBBY3R1YWxQYXJhbWV0ZXI7XHJcbiAgICAgICAgICAgICAgICBpZiAoYWN0dWFsUGFyYW1ldGVyLk1leFRhZyA9PT0gQ29tcG9uZW50UGFydGljaXBhbnQuTUVYVEFHKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5BY3R1YWxQYXJhbWV0ZXJzLnB1c2goYWN0dWFsUGFyYW1ldGVyKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBOZXdJbnN0YW5jZSgpOiBDb21wb25lbnRQYXJ0aWNpcGFudCB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBDb21wb25lbnRQYXJ0aWNpcGFudCh0aGlzLk1vZGVsKTtcclxuICAgIH1cclxuXHJcbiAgICBjbG9uZSgpOiBDb21wb25lbnRQYXJ0aWNpcGFudCB7XHJcbiAgICAgICAgY29uc3QgY29tcG9uZW50UGFydGljaXBhbnQgPSBuZXcgQ29tcG9uZW50UGFydGljaXBhbnQodGhpcy5Nb2RlbCk7XHJcbiAgICAgICAgY29tcG9uZW50UGFydGljaXBhbnQuSWQgPSBCcG1uTW9kZWxIZWxwZXIuR2VuZXJhdGVFbGVtZW50SWQoKTtcclxuICAgICAgICBjb21wb25lbnRQYXJ0aWNpcGFudC5OYW1lID0gdGhpcy5OYW1lO1xyXG4gICAgICAgIGNvbXBvbmVudFBhcnRpY2lwYW50LkNvbXBvbmVudElkID0gdGhpcy5Db21wb25lbnRJZDtcclxuICAgICAgICBjb21wb25lbnRQYXJ0aWNpcGFudC5Db21wb25lbnROYW1lID0gdGhpcy5Db21wb25lbnROYW1lO1xyXG4gICAgICAgIGNvbXBvbmVudFBhcnRpY2lwYW50Lk1ldGhvZENvZGUgPSB0aGlzLk1ldGhvZENvZGU7XHJcbiAgICAgICAgY29tcG9uZW50UGFydGljaXBhbnQuTWV0aG9kTmFtZSA9IHRoaXMuTWV0aG9kTmFtZTtcclxuICAgICAgICBjb21wb25lbnRQYXJ0aWNpcGFudC5BY3R1YWxQYXJhbWV0ZXJzID0gbmV3IEFycmF5KCk7XHJcbiAgICAgICAgaWYgKHRoaXMuQWN0dWFsUGFyYW1ldGVycyAmJiB0aGlzLkFjdHVhbFBhcmFtZXRlcnMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICBmb3IgKGNvbnN0IHAgb2YgdGhpcy5BY3R1YWxQYXJhbWV0ZXJzKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBwYXJhbWV0ZXIgPSBwLmNsb25lKCk7XHJcbiAgICAgICAgICAgICAgICBjb21wb25lbnRQYXJ0aWNpcGFudC5BY3R1YWxQYXJhbWV0ZXJzLnB1c2gocGFyYW1ldGVyKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5Db25kaXRpb24pIHtcclxuICAgICAgICAgICAgY29tcG9uZW50UGFydGljaXBhbnQuQ29uZGl0aW9uID0gdGhpcy5Db25kaXRpb24uY2xvbmUoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBjb21wb25lbnRQYXJ0aWNpcGFudDtcclxuICAgIH1cclxufVxyXG5CcG1uTW9kZWxIZWxwZXIuUmVnaXN0ZXJFbGVtZW50VHlwZShuZXcgQ29tcG9uZW50UGFydGljaXBhbnQobmV3IEJwbW5Nb2RlbCgpKSk7Il19