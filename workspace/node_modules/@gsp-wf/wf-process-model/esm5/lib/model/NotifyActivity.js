/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import * as tslib_1 from "tslib";
import { BpmnModel, BpmnModelHelper, ExtensionMethod, UserTask } from "@edp-pmf/bpmn-model";
import { ExtendProperty } from "./ExtendProperty";
import { ExecuteForm } from "./extension/ExecuteForm";
import { HumanPerformerImpl } from "./HumanPerformerImpl";
import { MessageNotice } from "./MessageNotice";
import { OrganizationPotentialOwner } from "./OrganizationPotentialOwner";
import { ActivityExecutorParticipant } from "./participants/old/ActivityExecutorParticipant";
import { ComponentParticipant } from "./participants/old/ComponentParticipant";
import { MatrixParticipant } from "./participants/old/MatrixParticipant";
import { Participant } from "./participants/old/Participant";
import { PositionParticipant } from "./participants/old/PositionParticipant";
import { ReportingLineParticipant } from "./participants/old/ReportingLineParticipant";
import { UserParticipant } from "./participants/old/UserParticipant";
import { OrganizationParticipantExpression } from "./participants/OrganizationParticipantExpression";
import { ParticipantExpression } from "./participants/ParticipantExpression";
import { PotentialOwnerImpl } from "./PotentialOwnerImpl";
var NotifyActivity = /** @class */ (function (_super) {
    tslib_1.__extends(NotifyActivity, _super);
    function NotifyActivity(model) {
        var _this = _super.call(this, model) || this;
        _this.ClrTypeID = NotifyActivity.Clr_Type_ID;
        _this.dynamicParticipants = new Array();
        return _this;
    }
    /**
     * 模型校验
     * @param errors 模型校验错误信息
     */
    /**
     * 模型校验
     * @param {?} errors 模型校验错误信息
     * @return {?}
     */
    NotifyActivity.prototype.Validate = /**
     * 模型校验
     * @param {?} errors 模型校验错误信息
     * @return {?}
     */
    function (errors) {
        // TODO: 需要添加自定义校验信息
        _super.prototype.Validate.call(this, errors);
    };
    /**
     * @return {?}
     */
    NotifyActivity.prototype.clone = /**
     * @return {?}
     */
    function () {
        var e_1, _a, e_2, _b, e_3, _c, e_4, _d, e_5, _e;
        /** @type {?} */
        var notifyActivity = new NotifyActivity(this.Model);
        notifyActivity.Name = this.Name;
        /** @type {?} */
        var resourceRoles = this.GetResourceRoles();
        if (resourceRoles && resourceRoles.length > 0) {
            try {
                for (var resourceRoles_1 = tslib_1.__values(resourceRoles), resourceRoles_1_1 = resourceRoles_1.next(); !resourceRoles_1_1.done; resourceRoles_1_1 = resourceRoles_1.next()) {
                    var role = resourceRoles_1_1.value;
                    if (role instanceof UserParticipant) {
                        /** @type {?} */
                        var user = (/** @type {?} */ (role));
                        /** @type {?} */
                        var userParticipant = user.clone();
                        notifyActivity.AddResourceRole(userParticipant);
                    }
                    else if (role instanceof PositionParticipant) {
                        /** @type {?} */
                        var position = (/** @type {?} */ (role));
                        /** @type {?} */
                        var positionParticipant = position.clone();
                        notifyActivity.AddResourceRole(positionParticipant);
                    }
                    else if (role instanceof ReportingLineParticipant) {
                        /** @type {?} */
                        var reportingLine = (/** @type {?} */ (role));
                        /** @type {?} */
                        var reportingLineParticipant = reportingLine.clone();
                        notifyActivity.AddResourceRole(reportingLineParticipant);
                    }
                    else if (role instanceof ActivityExecutorParticipant) {
                        /** @type {?} */
                        var activityExecutor = (/** @type {?} */ (role));
                        /** @type {?} */
                        var activityExecutorParticipant = activityExecutor.clone();
                        notifyActivity.AddResourceRole(activityExecutorParticipant);
                    }
                    else if (role instanceof ComponentParticipant) {
                        /** @type {?} */
                        var component = (/** @type {?} */ (role));
                        /** @type {?} */
                        var componentParticipant = component.clone();
                        notifyActivity.AddResourceRole(componentParticipant);
                    }
                    else if (role instanceof MatrixParticipant) {
                        /** @type {?} */
                        var matrix = (/** @type {?} */ (role));
                        /** @type {?} */
                        var matrixParticipant = matrix.clone();
                        notifyActivity.AddResourceRole(matrixParticipant);
                    }
                    else if (role instanceof OrganizationPotentialOwner) {
                        /** @type {?} */
                        var org = (/** @type {?} */ (role));
                        /** @type {?} */
                        var organizationPotentialOwner = org.clone();
                        notifyActivity.AddResourceRole(organizationPotentialOwner);
                    }
                    else if (role instanceof HumanPerformerImpl) {
                        /** @type {?} */
                        var performer = (/** @type {?} */ (role));
                        /** @type {?} */
                        var humanPerformerImpl = performer.clone();
                        notifyActivity.AddResourceRole(humanPerformerImpl);
                    }
                    else if (role instanceof PotentialOwnerImpl) {
                        /** @type {?} */
                        var owner = (/** @type {?} */ (role));
                        /** @type {?} */
                        var potentialOwnerImpl = owner.clone();
                        notifyActivity.AddResourceRole(potentialOwnerImpl);
                    }
                }
            }
            catch (e_1_1) { e_1 = { error: e_1_1 }; }
            finally {
                try {
                    if (resourceRoles_1_1 && !resourceRoles_1_1.done && (_a = resourceRoles_1.return)) _a.call(resourceRoles_1);
                }
                finally { if (e_1) throw e_1.error; }
            }
        }
        notifyActivity.executeForms = new Array();
        if (this.executeForms && this.executeForms.length > 0) {
            try {
                for (var _f = tslib_1.__values(this.executeForms), _g = _f.next(); !_g.done; _g = _f.next()) {
                    var f = _g.value;
                    /** @type {?} */
                    var executeForm = f.clone();
                    notifyActivity.executeForms.push(executeForm);
                }
            }
            catch (e_2_1) { e_2 = { error: e_2_1 }; }
            finally {
                try {
                    if (_g && !_g.done && (_b = _f.return)) _b.call(_f);
                }
                finally { if (e_2) throw e_2.error; }
            }
        }
        notifyActivity.extendProperties = new Array();
        if (this.extendProperties && this.extendProperties.length > 0) {
            try {
                for (var _h = tslib_1.__values(this.extendProperties), _j = _h.next(); !_j.done; _j = _h.next()) {
                    var e = _j.value;
                    /** @type {?} */
                    var extendProperty = e.clone();
                    notifyActivity.extendProperties.push(extendProperty);
                }
            }
            catch (e_3_1) { e_3 = { error: e_3_1 }; }
            finally {
                try {
                    if (_j && !_j.done && (_c = _h.return)) _c.call(_h);
                }
                finally { if (e_3) throw e_3.error; }
            }
        }
        notifyActivity.messageNotices = new Array();
        if (this.messageNotices && this.messageNotices.length > 0) {
            try {
                for (var _k = tslib_1.__values(this.messageNotices), _l = _k.next(); !_l.done; _l = _k.next()) {
                    var m = _l.value;
                    /** @type {?} */
                    var messageNotice = m.clone();
                    notifyActivity.messageNotices.push(messageNotice);
                }
            }
            catch (e_4_1) { e_4 = { error: e_4_1 }; }
            finally {
                try {
                    if (_l && !_l.done && (_d = _k.return)) _d.call(_k);
                }
                finally { if (e_4) throw e_4.error; }
            }
        }
        notifyActivity.notifyAble = this.notifyAble;
        notifyActivity.dynamicParticipants = new Array();
        if (this.dynamicParticipants && this.dynamicParticipants.length > 0) {
            try {
                for (var _m = tslib_1.__values(this.dynamicParticipants), _o = _m.next(); !_o.done; _o = _m.next()) {
                    var p = _o.value;
                    if (p instanceof OrganizationParticipantExpression) {
                        /** @type {?} */
                        var o = (/** @type {?} */ (p));
                        /** @type {?} */
                        var organizationParticipantExpression = o.clone();
                        notifyActivity.dynamicParticipants.push(organizationParticipantExpression);
                    }
                }
            }
            catch (e_5_1) { e_5 = { error: e_5_1 }; }
            finally {
                try {
                    if (_o && !_o.done && (_e = _m.return)) _e.call(_m);
                }
                finally { if (e_5) throw e_5.error; }
            }
        }
        return notifyActivity;
    };
    /**
     * @return {?}
     */
    NotifyActivity.prototype.NewInstance = /**
     * @return {?}
     */
    function () {
        return new NotifyActivity(this.Model);
    };
    /**
     * @return {?}
     */
    NotifyActivity.prototype.ResetBeforeLoadFrom = /**
     * @return {?}
     */
    function () {
        _super.prototype.ResetBeforeLoadFrom.call(this);
        this.participants = new Array();
        this.messageNotices = new Array();
        this.executeForms = new Array();
        this.extendProperties = new Array();
        this.notifyAble = false;
        this.dynamicParticipants = new Array();
    };
    /**
     * @return {?}
     */
    NotifyActivity.prototype.ConvertToJsonObject = /**
     * @return {?}
     */
    function () {
        // this.beforeSerialize();
        /** @type {?} */
        var obj = _super.prototype.ConvertToJsonObject.call(this);
        BpmnModelHelper.SetAttributeValue(obj, "NotifyAble", this.notifyAble);
        return obj;
    };
    /**
     * @param {?} obj
     * @return {?}
     */
    NotifyActivity.prototype.LoadFromJsonObject = /**
     * @param {?} obj
     * @return {?}
     */
    function (obj) {
        _super.prototype.LoadFromJsonObject.call(this, obj);
        this.notifyAble = ExtensionMethod.GetAttributeValue4Boolean(obj, "NotifyAble");
        ;
        // this.afterDeserialize();
    };
    /**
     * @protected
     * @return {?}
     */
    NotifyActivity.prototype.GetExtensionElements4ConvertTo = /**
     * @protected
     * @return {?}
     */
    function () {
        var e_6, _a, e_7, _b, e_8, _c, e_9, _d;
        /** @type {?} */
        var list = _super.prototype.GetExtensionElements4ConvertTo.call(this);
        if (this.messageNotices != null) {
            try {
                for (var _e = tslib_1.__values(this.messageNotices), _f = _e.next(); !_f.done; _f = _e.next()) {
                    var item = _f.value;
                    item.MexTag = NotifyActivity.MEXTAG;
                    list.push(item);
                }
            }
            catch (e_6_1) { e_6 = { error: e_6_1 }; }
            finally {
                try {
                    if (_f && !_f.done && (_a = _e.return)) _a.call(_e);
                }
                finally { if (e_6) throw e_6.error; }
            }
        }
        if (this.executeForms != null) {
            try {
                for (var _g = tslib_1.__values(this.executeForms), _h = _g.next(); !_h.done; _h = _g.next()) {
                    var form = _h.value;
                    form.MexTag = NotifyActivity.MEXTAG;
                    list.push(form);
                }
            }
            catch (e_7_1) { e_7 = { error: e_7_1 }; }
            finally {
                try {
                    if (_h && !_h.done && (_b = _g.return)) _b.call(_g);
                }
                finally { if (e_7) throw e_7.error; }
            }
        }
        if (this.extendProperties != null) {
            try {
                for (var _j = tslib_1.__values(this.extendProperties), _k = _j.next(); !_k.done; _k = _j.next()) {
                    var extendProperty = _k.value;
                    extendProperty.MexTag = NotifyActivity.MEXTAG;
                    list.push(extendProperty);
                }
            }
            catch (e_8_1) { e_8 = { error: e_8_1 }; }
            finally {
                try {
                    if (_k && !_k.done && (_c = _j.return)) _c.call(_j);
                }
                finally { if (e_8) throw e_8.error; }
            }
        }
        if (this.dynamicParticipants != null) {
            try {
                for (var _l = tslib_1.__values(this.dynamicParticipants), _m = _l.next(); !_m.done; _m = _l.next()) {
                    var participant = _m.value;
                    participant.MexTag = NotifyActivity.MEXTAG;
                    list.push(participant);
                }
            }
            catch (e_9_1) { e_9 = { error: e_9_1 }; }
            finally {
                try {
                    if (_m && !_m.done && (_d = _l.return)) _d.call(_l);
                }
                finally { if (e_9) throw e_9.error; }
            }
        }
        return list;
    };
    /**
     * @protected
     * @param {?} extensionElements
     * @return {?}
     */
    NotifyActivity.prototype.SetExtensionElements4LoadFrom = /**
     * @protected
     * @param {?} extensionElements
     * @return {?}
     */
    function (extensionElements) {
        var e_10, _a;
        _super.prototype.SetExtensionElements4LoadFrom.call(this, extensionElements);
        try {
            for (var extensionElements_1 = tslib_1.__values(extensionElements), extensionElements_1_1 = extensionElements_1.next(); !extensionElements_1_1.done; extensionElements_1_1 = extensionElements_1.next()) {
                var extensionElement = extensionElements_1_1.value;
                if (NotifyActivity.MEXTAG != extensionElement.MexTag) {
                    continue;
                }
                switch (extensionElement.ClrTypeID) {
                    case MessageNotice.Clr_Type_ID:
                        this.messageNotices.push((/** @type {?} */ (extensionElement)));
                        break;
                    case ExecuteForm.Clr_Type_ID:
                        this.executeForms.push((/** @type {?} */ (extensionElement)));
                        break;
                    case ExtendProperty.Clr_Type_ID:
                        this.extendProperties.push((/** @type {?} */ (extensionElement)));
                        break;
                    default:
                        if (extensionElement instanceof ParticipantExpression) {
                            this.dynamicParticipants.push((/** @type {?} */ (extensionElement)));
                        }
                        break;
                }
            }
        }
        catch (e_10_1) { e_10 = { error: e_10_1 }; }
        finally {
            try {
                if (extensionElements_1_1 && !extensionElements_1_1.done && (_a = extensionElements_1.return)) _a.call(extensionElements_1);
            }
            finally { if (e_10) throw e_10.error; }
        }
    };
    /**
     * @protected
     * @return {?}
     */
    NotifyActivity.prototype.beforeSerialize = /**
     * @protected
     * @return {?}
     */
    function () {
        var e_11, _a, e_12, _b;
        /** @type {?} */
        var roles = this.GetResourceRoles();
        if (roles != null && roles.length != 0) {
            try {
                for (var roles_1 = tslib_1.__values(roles), roles_1_1 = roles_1.next(); !roles_1_1.done; roles_1_1 = roles_1.next()) {
                    var role = roles_1_1.value;
                    _super.prototype.RemoveResourceRole.call(this, role.Id);
                }
            }
            catch (e_11_1) { e_11 = { error: e_11_1 }; }
            finally {
                try {
                    if (roles_1_1 && !roles_1_1.done && (_a = roles_1.return)) _a.call(roles_1);
                }
                finally { if (e_11) throw e_11.error; }
            }
        }
        if (this.participants != null && this.participants.length != 0) {
            try {
                for (var _c = tslib_1.__values(this.participants), _d = _c.next(); !_d.done; _d = _c.next()) {
                    var participant = _d.value;
                    this.AddResourceRole(participant);
                }
            }
            catch (e_12_1) { e_12 = { error: e_12_1 }; }
            finally {
                try {
                    if (_d && !_d.done && (_b = _c.return)) _b.call(_c);
                }
                finally { if (e_12) throw e_12.error; }
            }
        }
    };
    /**
     * @protected
     * @return {?}
     */
    NotifyActivity.prototype.afterDeserialize = /**
     * @protected
     * @return {?}
     */
    function () {
        var e_13, _a;
        /** @type {?} */
        var roles = this.GetResourceRoles();
        if (roles == null || roles.length == 0) {
            return;
        }
        try {
            for (var roles_2 = tslib_1.__values(roles), roles_2_1 = roles_2.next(); !roles_2_1.done; roles_2_1 = roles_2.next()) {
                var role = roles_2_1.value;
                if (role instanceof Participant) {
                    this.participants.push(role);
                }
            }
        }
        catch (e_13_1) { e_13 = { error: e_13_1 }; }
        finally {
            try {
                if (roles_2_1 && !roles_2_1.done && (_a = roles_2.return)) _a.call(roles_2);
            }
            finally { if (e_13) throw e_13.error; }
        }
    };
    NotifyActivity.Clr_Type_ID = "wf.NotifyActivity";
    NotifyActivity.MEXTAG = "wf.NotifyActivity";
    return NotifyActivity;
}(UserTask));
export { NotifyActivity };
if (false) {
    /** @type {?} */
    NotifyActivity.Clr_Type_ID;
    /**
     * @type {?}
     * @protected
     */
    NotifyActivity.MEXTAG;
    /** @type {?} */
    NotifyActivity.prototype.ClrTypeID;
    /** @type {?} */
    NotifyActivity.prototype.participants;
    /** @type {?} */
    NotifyActivity.prototype.messageNotices;
    /** @type {?} */
    NotifyActivity.prototype.executeForms;
    /** @type {?} */
    NotifyActivity.prototype.extendProperties;
    /** @type {?} */
    NotifyActivity.prototype.dynamicParticipants;
    /** @type {?} */
    NotifyActivity.prototype.notifyAble;
}
BpmnModelHelper.RegisterElementType(new NotifyActivity(new BpmnModel()));
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiTm90aWZ5QWN0aXZpdHkuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9AZ3NwLXdmL3dmLXByb2Nlc3MtbW9kZWwvIiwic291cmNlcyI6WyJsaWIvbW9kZWwvTm90aWZ5QWN0aXZpdHkudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQSxPQUFPLEVBQUUsU0FBUyxFQUFFLGVBQWUsRUFBb0IsZUFBZSxFQUFtQixRQUFRLEVBQUUsTUFBTSxxQkFBcUIsQ0FBQztBQUMvSCxPQUFPLEVBQUUsY0FBYyxFQUFFLE1BQU0sa0JBQWtCLENBQUM7QUFDbEQsT0FBTyxFQUFFLFdBQVcsRUFBRSxNQUFNLHlCQUF5QixDQUFDO0FBQ3RELE9BQU8sRUFBRSxrQkFBa0IsRUFBRSxNQUFNLHNCQUFzQixDQUFDO0FBQzFELE9BQU8sRUFBRSxhQUFhLEVBQUUsTUFBTSxpQkFBaUIsQ0FBQztBQUNoRCxPQUFPLEVBQUUsMEJBQTBCLEVBQUUsTUFBTSw4QkFBOEIsQ0FBQztBQUMxRSxPQUFPLEVBQUUsMkJBQTJCLEVBQUUsTUFBTSxnREFBZ0QsQ0FBQztBQUM3RixPQUFPLEVBQUUsb0JBQW9CLEVBQUUsTUFBTSx5Q0FBeUMsQ0FBQztBQUMvRSxPQUFPLEVBQUUsaUJBQWlCLEVBQUUsTUFBTSxzQ0FBc0MsQ0FBQztBQUN6RSxPQUFPLEVBQUUsV0FBVyxFQUFFLE1BQU0sZ0NBQWdDLENBQUM7QUFDN0QsT0FBTyxFQUFFLG1CQUFtQixFQUFFLE1BQU0sd0NBQXdDLENBQUM7QUFDN0UsT0FBTyxFQUFFLHdCQUF3QixFQUFFLE1BQU0sNkNBQTZDLENBQUM7QUFDdkYsT0FBTyxFQUFFLGVBQWUsRUFBRSxNQUFNLG9DQUFvQyxDQUFDO0FBQ3JFLE9BQU8sRUFBRSxpQ0FBaUMsRUFBRSxNQUFNLGtEQUFrRCxDQUFDO0FBQ3JHLE9BQU8sRUFBRSxxQkFBcUIsRUFBRSxNQUFNLHNDQUFzQyxDQUFDO0FBQzdFLE9BQU8sRUFBRSxrQkFBa0IsRUFBRSxNQUFNLHNCQUFzQixDQUFDO0FBRTFE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QSxpQkFBQSxJQUFJLENBQUMsWUFBWSxDQUFBLGdCQUFBLDRCQUFFO29CQUF0QyxJQUFJLFdBQVcsV0FBQTtvQkFDaEIsSUFBSSxDQUFDLGVBQWUsQ0FBQyxXQUFXLENBQUMsQ0FBQztpQkFDckM7Ozs7Ozs7OztTQUNKO0lBQ0wsQ0FBQzs7Ozs7SUFFUyx5Q0FBZ0I7Ozs7SUFBMUI7OztZQUNRLEtBQUssR0FBRyxJQUFJLENBQUMsZ0JBQWdCLEVBQUU7UUFDbkMsSUFBSSxLQUFLLElBQUksSUFBSSxJQUFJLEtBQUssQ0FBQyxNQUFNLElBQUksQ0FBQyxFQUFFO1lBQ3BDLE9BQU87U0FDVjs7WUFDRCxLQUFpQixJQUFBLFVBQUEsaUJBQUEsS0FBSyxDQUFBLDRCQUFBLCtDQUFFO2dCQUFuQixJQUFJLElBQUksa0JBQUE7Z0JBQ1QsSUFBSSxJQUFJLFlBQVksV0FBVyxFQUFFO29CQUM3QixJQUFJLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztpQkFDaEM7YUFDSjs7Ozs7Ozs7O0lBQ0wsQ0FBQztJQXBOTSwwQkFBVyxHQUFXLG1CQUFtQixDQUFDO0lBRWhDLHFCQUFNLEdBQVcsbUJBQW1CLENBQUM7SUFtTjFELHFCQUFDO0NBQUEsQUF0TkQsQ0FBb0MsUUFBUSxHQXNOM0M7U0F0TlksY0FBYzs7O0lBQ3ZCLDJCQUFpRDs7Ozs7SUFFakQsc0JBQXNEOztJQUR0RCxtQ0FBK0M7O0lBRy9DLHNDQUFpQzs7SUFDakMsd0NBQXFDOztJQUNyQyxzQ0FBaUM7O0lBQ2pDLDBDQUF3Qzs7SUFDeEMsNkNBQWdFOztJQUNoRSxvQ0FBb0I7O0FBOE14QixlQUFlLENBQUMsbUJBQW1CLENBQUMsSUFBSSxjQUFjLENBQUMsSUFBSSxTQUFTLEVBQUUsQ0FBQyxDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBCcG1uTW9kZWwsIEJwbW5Nb2RlbEhlbHBlciwgRXh0ZW5zaW9uRWxlbWVudCwgRXh0ZW5zaW9uTWV0aG9kLCBWYWxpZGF0aW9uRXJyb3IsIFVzZXJUYXNrIH0gZnJvbSBcIkBlZHAtcG1mL2JwbW4tbW9kZWxcIjtcclxuaW1wb3J0IHsgRXh0ZW5kUHJvcGVydHkgfSBmcm9tIFwiLi9FeHRlbmRQcm9wZXJ0eVwiO1xyXG5pbXBvcnQgeyBFeGVjdXRlRm9ybSB9IGZyb20gXCIuL2V4dGVuc2lvbi9FeGVjdXRlRm9ybVwiO1xyXG5pbXBvcnQgeyBIdW1hblBlcmZvcm1lckltcGwgfSBmcm9tIFwiLi9IdW1hblBlcmZvcm1lckltcGxcIjtcclxuaW1wb3J0IHsgTWVzc2FnZU5vdGljZSB9IGZyb20gXCIuL01lc3NhZ2VOb3RpY2VcIjtcclxuaW1wb3J0IHsgT3JnYW5pemF0aW9uUG90ZW50aWFsT3duZXIgfSBmcm9tIFwiLi9Pcmdhbml6YXRpb25Qb3RlbnRpYWxPd25lclwiO1xyXG5pbXBvcnQgeyBBY3Rpdml0eUV4ZWN1dG9yUGFydGljaXBhbnQgfSBmcm9tIFwiLi9wYXJ0aWNpcGFudHMvb2xkL0FjdGl2aXR5RXhlY3V0b3JQYXJ0aWNpcGFudFwiO1xyXG5pbXBvcnQgeyBDb21wb25lbnRQYXJ0aWNpcGFudCB9IGZyb20gXCIuL3BhcnRpY2lwYW50cy9vbGQvQ29tcG9uZW50UGFydGljaXBhbnRcIjtcclxuaW1wb3J0IHsgTWF0cml4UGFydGljaXBhbnQgfSBmcm9tIFwiLi9wYXJ0aWNpcGFudHMvb2xkL01hdHJpeFBhcnRpY2lwYW50XCI7XHJcbmltcG9ydCB7IFBhcnRpY2lwYW50IH0gZnJvbSBcIi4vcGFydGljaXBhbnRzL29sZC9QYXJ0aWNpcGFudFwiO1xyXG5pbXBvcnQgeyBQb3NpdGlvblBhcnRpY2lwYW50IH0gZnJvbSBcIi4vcGFydGljaXBhbnRzL29sZC9Qb3NpdGlvblBhcnRpY2lwYW50XCI7XHJcbmltcG9ydCB7IFJlcG9ydGluZ0xpbmVQYXJ0aWNpcGFudCB9IGZyb20gXCIuL3BhcnRpY2lwYW50cy9vbGQvUmVwb3J0aW5nTGluZVBhcnRpY2lwYW50XCI7XHJcbmltcG9ydCB7IFVzZXJQYXJ0aWNpcGFudCB9IGZyb20gXCIuL3BhcnRpY2lwYW50cy9vbGQvVXNlclBhcnRpY2lwYW50XCI7XHJcbmltcG9ydCB7IE9yZ2FuaXphdGlvblBhcnRpY2lwYW50RXhwcmVzc2lvbiB9IGZyb20gXCIuL3BhcnRpY2lwYW50cy9Pcmdhbml6YXRpb25QYXJ0aWNpcGFudEV4cHJlc3Npb25cIjtcclxuaW1wb3J0IHsgUGFydGljaXBhbnRFeHByZXNzaW9uIH0gZnJvbSBcIi4vcGFydGljaXBhbnRzL1BhcnRpY2lwYW50RXhwcmVzc2lvblwiO1xyXG5pbXBvcnQgeyBQb3RlbnRpYWxPd25lckltcGwgfSBmcm9tIFwiLi9Qb3RlbnRpYWxPd25lckltcGxcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBOb3RpZnlBY3Rpdml0eSBleHRlbmRzIFVzZXJUYXNrIHtcclxuICAgIHN0YXRpYyBDbHJfVHlwZV9JRDogc3RyaW5nID0gXCJ3Zi5Ob3RpZnlBY3Rpdml0eVwiO1xyXG4gICAgQ2xyVHlwZUlEOiBzdHJpbmcgPSBOb3RpZnlBY3Rpdml0eS5DbHJfVHlwZV9JRDtcclxuICAgIHByb3RlY3RlZCBzdGF0aWMgTUVYVEFHOiBzdHJpbmcgPSBcIndmLk5vdGlmeUFjdGl2aXR5XCI7XHJcblxyXG4gICAgcGFydGljaXBhbnRzOiBBcnJheTxQYXJ0aWNpcGFudD47XHJcbiAgICBtZXNzYWdlTm90aWNlczogQXJyYXk8TWVzc2FnZU5vdGljZT47XHJcbiAgICBleGVjdXRlRm9ybXM6IEFycmF5PEV4ZWN1dGVGb3JtPjtcclxuICAgIGV4dGVuZFByb3BlcnRpZXM6IEFycmF5PEV4dGVuZFByb3BlcnR5PjtcclxuICAgIGR5bmFtaWNQYXJ0aWNpcGFudHM6IEFycmF5PFBhcnRpY2lwYW50RXhwcmVzc2lvbj4gPSBuZXcgQXJyYXkoKTtcclxuICAgIG5vdGlmeUFibGU6IGJvb2xlYW47XHJcblxyXG4gICAgY29uc3RydWN0b3IobW9kZWw6IEJwbW5Nb2RlbCkge1xyXG4gICAgICAgIHN1cGVyKG1vZGVsKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOaooeWei+agoemqjFxyXG4gICAgICogQHBhcmFtIGVycm9ycyDmqKHlnovmoKHpqozplJnor6/kv6Hmga9cclxuICAgICAqL1xyXG4gICAgVmFsaWRhdGUoZXJyb3JzOiBWYWxpZGF0aW9uRXJyb3JbXSk6IHZvaWQge1xyXG4gICAgICAgIC8vIFRPRE86IOmcgOimgea3u+WKoOiHquWumuS5ieagoemqjOS/oeaBr1xyXG4gICAgICAgIHN1cGVyLlZhbGlkYXRlKGVycm9ycyk7XHJcbiAgICB9XHJcblxyXG4gICAgY2xvbmUoKTogTm90aWZ5QWN0aXZpdHkge1xyXG4gICAgICAgIGxldCBub3RpZnlBY3Rpdml0eSA9IG5ldyBOb3RpZnlBY3Rpdml0eSh0aGlzLk1vZGVsKTtcclxuICAgICAgICBub3RpZnlBY3Rpdml0eS5OYW1lID0gdGhpcy5OYW1lO1xyXG4gICAgICAgIGNvbnN0IHJlc291cmNlUm9sZXMgPSB0aGlzLkdldFJlc291cmNlUm9sZXMoKTtcclxuICAgICAgICBpZiAocmVzb3VyY2VSb2xlcyAmJiByZXNvdXJjZVJvbGVzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgZm9yIChjb25zdCByb2xlIG9mIHJlc291cmNlUm9sZXMpIHtcclxuICAgICAgICAgICAgICAgIGlmIChyb2xlIGluc3RhbmNlb2YgVXNlclBhcnRpY2lwYW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdXNlciA9IHJvbGUgYXMgVXNlclBhcnRpY2lwYW50O1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHVzZXJQYXJ0aWNpcGFudCA9IHVzZXIuY2xvbmUoKTtcclxuICAgICAgICAgICAgICAgICAgICBub3RpZnlBY3Rpdml0eS5BZGRSZXNvdXJjZVJvbGUodXNlclBhcnRpY2lwYW50KTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocm9sZSBpbnN0YW5jZW9mIFBvc2l0aW9uUGFydGljaXBhbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBwb3NpdGlvbiA9IHJvbGUgYXMgUG9zaXRpb25QYXJ0aWNpcGFudDtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBwb3NpdGlvblBhcnRpY2lwYW50ID0gcG9zaXRpb24uY2xvbmUoKTtcclxuICAgICAgICAgICAgICAgICAgICBub3RpZnlBY3Rpdml0eS5BZGRSZXNvdXJjZVJvbGUocG9zaXRpb25QYXJ0aWNpcGFudCk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHJvbGUgaW5zdGFuY2VvZiBSZXBvcnRpbmdMaW5lUGFydGljaXBhbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCByZXBvcnRpbmdMaW5lID0gcm9sZSBhcyBSZXBvcnRpbmdMaW5lUGFydGljaXBhbnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVwb3J0aW5nTGluZVBhcnRpY2lwYW50ID0gcmVwb3J0aW5nTGluZS5jbG9uZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIG5vdGlmeUFjdGl2aXR5LkFkZFJlc291cmNlUm9sZShyZXBvcnRpbmdMaW5lUGFydGljaXBhbnQpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChyb2xlIGluc3RhbmNlb2YgQWN0aXZpdHlFeGVjdXRvclBhcnRpY2lwYW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYWN0aXZpdHlFeGVjdXRvciA9IHJvbGUgYXMgQWN0aXZpdHlFeGVjdXRvclBhcnRpY2lwYW50O1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGFjdGl2aXR5RXhlY3V0b3JQYXJ0aWNpcGFudCA9IGFjdGl2aXR5RXhlY3V0b3IuY2xvbmUoKTtcclxuICAgICAgICAgICAgICAgICAgICBub3RpZnlBY3Rpdml0eS5BZGRSZXNvdXJjZVJvbGUoYWN0aXZpdHlFeGVjdXRvclBhcnRpY2lwYW50KTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocm9sZSBpbnN0YW5jZW9mIENvbXBvbmVudFBhcnRpY2lwYW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY29tcG9uZW50ID0gcm9sZSBhcyBDb21wb25lbnRQYXJ0aWNpcGFudDtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBjb21wb25lbnRQYXJ0aWNpcGFudCA9IGNvbXBvbmVudC5jbG9uZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIG5vdGlmeUFjdGl2aXR5LkFkZFJlc291cmNlUm9sZShjb21wb25lbnRQYXJ0aWNpcGFudCk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHJvbGUgaW5zdGFuY2VvZiBNYXRyaXhQYXJ0aWNpcGFudCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG1hdHJpeCA9IHJvbGUgYXMgTWF0cml4UGFydGljaXBhbnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbWF0cml4UGFydGljaXBhbnQgPSBtYXRyaXguY2xvbmUoKTtcclxuICAgICAgICAgICAgICAgICAgICBub3RpZnlBY3Rpdml0eS5BZGRSZXNvdXJjZVJvbGUobWF0cml4UGFydGljaXBhbnQpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChyb2xlIGluc3RhbmNlb2YgT3JnYW5pemF0aW9uUG90ZW50aWFsT3duZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBvcmcgPSByb2xlIGFzIE9yZ2FuaXphdGlvblBvdGVudGlhbE93bmVyO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG9yZ2FuaXphdGlvblBvdGVudGlhbE93bmVyID0gb3JnLmNsb25lKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgbm90aWZ5QWN0aXZpdHkuQWRkUmVzb3VyY2VSb2xlKG9yZ2FuaXphdGlvblBvdGVudGlhbE93bmVyKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocm9sZSBpbnN0YW5jZW9mIEh1bWFuUGVyZm9ybWVySW1wbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBlcmZvcm1lciA9IHJvbGUgYXMgSHVtYW5QZXJmb3JtZXJJbXBsO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGh1bWFuUGVyZm9ybWVySW1wbCA9IHBlcmZvcm1lci5jbG9uZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIG5vdGlmeUFjdGl2aXR5LkFkZFJlc291cmNlUm9sZShodW1hblBlcmZvcm1lckltcGwpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChyb2xlIGluc3RhbmNlb2YgUG90ZW50aWFsT3duZXJJbXBsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgb3duZXIgPSByb2xlIGFzIFBvdGVudGlhbE93bmVySW1wbDtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBwb3RlbnRpYWxPd25lckltcGwgPSBvd25lci5jbG9uZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIG5vdGlmeUFjdGl2aXR5LkFkZFJlc291cmNlUm9sZShwb3RlbnRpYWxPd25lckltcGwpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIG5vdGlmeUFjdGl2aXR5LmV4ZWN1dGVGb3JtcyA9IG5ldyBBcnJheSgpO1xyXG4gICAgICAgIGlmICh0aGlzLmV4ZWN1dGVGb3JtcyAmJiB0aGlzLmV4ZWN1dGVGb3Jtcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIGZvciAoY29uc3QgZiBvZiB0aGlzLmV4ZWN1dGVGb3Jtcykge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZXhlY3V0ZUZvcm0gPSBmLmNsb25lKCk7XHJcbiAgICAgICAgICAgICAgICBub3RpZnlBY3Rpdml0eS5leGVjdXRlRm9ybXMucHVzaChleGVjdXRlRm9ybSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgbm90aWZ5QWN0aXZpdHkuZXh0ZW5kUHJvcGVydGllcyA9IG5ldyBBcnJheTxFeHRlbmRQcm9wZXJ0eT4oKTtcclxuICAgICAgICBpZiAodGhpcy5leHRlbmRQcm9wZXJ0aWVzICYmIHRoaXMuZXh0ZW5kUHJvcGVydGllcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIGZvciAoY29uc3QgZSBvZiB0aGlzLmV4dGVuZFByb3BlcnRpZXMpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGV4dGVuZFByb3BlcnR5ID0gZS5jbG9uZSgpO1xyXG4gICAgICAgICAgICAgICAgbm90aWZ5QWN0aXZpdHkuZXh0ZW5kUHJvcGVydGllcy5wdXNoKGV4dGVuZFByb3BlcnR5KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBub3RpZnlBY3Rpdml0eS5tZXNzYWdlTm90aWNlcyA9IG5ldyBBcnJheSgpO1xyXG4gICAgICAgIGlmICh0aGlzLm1lc3NhZ2VOb3RpY2VzICYmIHRoaXMubWVzc2FnZU5vdGljZXMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICBmb3IgKGNvbnN0IG0gb2YgdGhpcy5tZXNzYWdlTm90aWNlcykge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbWVzc2FnZU5vdGljZSA9IG0uY2xvbmUoKTtcclxuICAgICAgICAgICAgICAgIG5vdGlmeUFjdGl2aXR5Lm1lc3NhZ2VOb3RpY2VzLnB1c2gobWVzc2FnZU5vdGljZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgbm90aWZ5QWN0aXZpdHkubm90aWZ5QWJsZSA9IHRoaXMubm90aWZ5QWJsZTtcclxuICAgICAgICBub3RpZnlBY3Rpdml0eS5keW5hbWljUGFydGljaXBhbnRzID0gbmV3IEFycmF5KCk7XHJcbiAgICAgICAgaWYgKHRoaXMuZHluYW1pY1BhcnRpY2lwYW50cyAmJiB0aGlzLmR5bmFtaWNQYXJ0aWNpcGFudHMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICBmb3IgKGNvbnN0IHAgb2YgdGhpcy5keW5hbWljUGFydGljaXBhbnRzKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocCBpbnN0YW5jZW9mIE9yZ2FuaXphdGlvblBhcnRpY2lwYW50RXhwcmVzc2lvbikge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG8gPSBwIGFzIE9yZ2FuaXphdGlvblBhcnRpY2lwYW50RXhwcmVzc2lvbjtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBvcmdhbml6YXRpb25QYXJ0aWNpcGFudEV4cHJlc3Npb24gPSBvLmNsb25lKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgbm90aWZ5QWN0aXZpdHkuZHluYW1pY1BhcnRpY2lwYW50cy5wdXNoKG9yZ2FuaXphdGlvblBhcnRpY2lwYW50RXhwcmVzc2lvbik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBub3RpZnlBY3Rpdml0eTtcclxuICAgIH1cclxuXHJcbiAgICBOZXdJbnN0YW5jZSgpOiBOb3RpZnlBY3Rpdml0eSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBOb3RpZnlBY3Rpdml0eSh0aGlzLk1vZGVsKTtcclxuICAgIH1cclxuXHJcbiAgICBSZXNldEJlZm9yZUxvYWRGcm9tKCk6IHZvaWQge1xyXG4gICAgICAgIHN1cGVyLlJlc2V0QmVmb3JlTG9hZEZyb20oKTtcclxuICAgICAgICB0aGlzLnBhcnRpY2lwYW50cyA9IG5ldyBBcnJheSgpO1xyXG4gICAgICAgIHRoaXMubWVzc2FnZU5vdGljZXMgPSBuZXcgQXJyYXkoKTtcclxuICAgICAgICB0aGlzLmV4ZWN1dGVGb3JtcyA9IG5ldyBBcnJheSgpO1xyXG4gICAgICAgIHRoaXMuZXh0ZW5kUHJvcGVydGllcyA9IG5ldyBBcnJheTxFeHRlbmRQcm9wZXJ0eT4oKTtcclxuICAgICAgICB0aGlzLm5vdGlmeUFibGUgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmR5bmFtaWNQYXJ0aWNpcGFudHMgPSBuZXcgQXJyYXkoKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgQ29udmVydFRvSnNvbk9iamVjdCgpOiB7fSB7XHJcbiAgICAgICAgLy8gdGhpcy5iZWZvcmVTZXJpYWxpemUoKTtcclxuICAgICAgICBsZXQgb2JqID0gc3VwZXIuQ29udmVydFRvSnNvbk9iamVjdCgpO1xyXG4gICAgICAgIEJwbW5Nb2RlbEhlbHBlci5TZXRBdHRyaWJ1dGVWYWx1ZShvYmosIFwiTm90aWZ5QWJsZVwiLCB0aGlzLm5vdGlmeUFibGUpO1xyXG4gICAgICAgIHJldHVybiBvYmo7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIExvYWRGcm9tSnNvbk9iamVjdChvYmo6IGFueSk6IHZvaWQge1xyXG4gICAgICAgIHN1cGVyLkxvYWRGcm9tSnNvbk9iamVjdChvYmopO1xyXG5cclxuICAgICAgICB0aGlzLm5vdGlmeUFibGUgPSBFeHRlbnNpb25NZXRob2QuR2V0QXR0cmlidXRlVmFsdWU0Qm9vbGVhbihvYmosIFwiTm90aWZ5QWJsZVwiKTs7XHJcbiAgICAgICAgLy8gdGhpcy5hZnRlckRlc2VyaWFsaXplKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIEdldEV4dGVuc2lvbkVsZW1lbnRzNENvbnZlcnRUbygpOiBFeHRlbnNpb25FbGVtZW50W10ge1xyXG4gICAgICAgIGxldCBsaXN0OiBFeHRlbnNpb25FbGVtZW50W10gPSBzdXBlci5HZXRFeHRlbnNpb25FbGVtZW50czRDb252ZXJ0VG8oKTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMubWVzc2FnZU5vdGljZXMgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpdGVtIG9mIHRoaXMubWVzc2FnZU5vdGljZXMpIHtcclxuICAgICAgICAgICAgICAgIGl0ZW0uTWV4VGFnID0gTm90aWZ5QWN0aXZpdHkuTUVYVEFHO1xyXG4gICAgICAgICAgICAgICAgbGlzdC5wdXNoKGl0ZW0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLmV4ZWN1dGVGb3JtcyAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGZvcm0gb2YgdGhpcy5leGVjdXRlRm9ybXMpIHtcclxuICAgICAgICAgICAgICAgIGZvcm0uTWV4VGFnID0gTm90aWZ5QWN0aXZpdHkuTUVYVEFHO1xyXG4gICAgICAgICAgICAgICAgbGlzdC5wdXNoKGZvcm0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLmV4dGVuZFByb3BlcnRpZXMgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICBmb3IgKGxldCBleHRlbmRQcm9wZXJ0eSBvZiB0aGlzLmV4dGVuZFByb3BlcnRpZXMpIHtcclxuICAgICAgICAgICAgICAgIGV4dGVuZFByb3BlcnR5Lk1leFRhZyA9IE5vdGlmeUFjdGl2aXR5Lk1FWFRBRztcclxuICAgICAgICAgICAgICAgIGxpc3QucHVzaChleHRlbmRQcm9wZXJ0eSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuZHluYW1pY1BhcnRpY2lwYW50cyAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IHBhcnRpY2lwYW50IG9mIHRoaXMuZHluYW1pY1BhcnRpY2lwYW50cykge1xyXG4gICAgICAgICAgICAgICAgcGFydGljaXBhbnQuTWV4VGFnID0gTm90aWZ5QWN0aXZpdHkuTUVYVEFHO1xyXG4gICAgICAgICAgICAgICAgbGlzdC5wdXNoKHBhcnRpY2lwYW50KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbGlzdDtcclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgU2V0RXh0ZW5zaW9uRWxlbWVudHM0TG9hZEZyb20oZXh0ZW5zaW9uRWxlbWVudHM6IEV4dGVuc2lvbkVsZW1lbnRbXSk6IHZvaWQge1xyXG4gICAgICAgIHN1cGVyLlNldEV4dGVuc2lvbkVsZW1lbnRzNExvYWRGcm9tKGV4dGVuc2lvbkVsZW1lbnRzKTtcclxuICAgICAgICBmb3IgKGxldCBleHRlbnNpb25FbGVtZW50IG9mIGV4dGVuc2lvbkVsZW1lbnRzKSB7XHJcbiAgICAgICAgICAgIGlmIChOb3RpZnlBY3Rpdml0eS5NRVhUQUcgIT0gZXh0ZW5zaW9uRWxlbWVudC5NZXhUYWcpIHtcclxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHN3aXRjaCAoZXh0ZW5zaW9uRWxlbWVudC5DbHJUeXBlSUQpIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgTWVzc2FnZU5vdGljZS5DbHJfVHlwZV9JRDpcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLm1lc3NhZ2VOb3RpY2VzLnB1c2goZXh0ZW5zaW9uRWxlbWVudCBhcyBNZXNzYWdlTm90aWNlKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgRXhlY3V0ZUZvcm0uQ2xyX1R5cGVfSUQ6XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5leGVjdXRlRm9ybXMucHVzaChleHRlbnNpb25FbGVtZW50IGFzIEV4ZWN1dGVGb3JtKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgRXh0ZW5kUHJvcGVydHkuQ2xyX1R5cGVfSUQ6XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5leHRlbmRQcm9wZXJ0aWVzLnB1c2goZXh0ZW5zaW9uRWxlbWVudCBhcyBFeHRlbmRQcm9wZXJ0eSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChleHRlbnNpb25FbGVtZW50IGluc3RhbmNlb2YgUGFydGljaXBhbnRFeHByZXNzaW9uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZHluYW1pY1BhcnRpY2lwYW50cy5wdXNoKGV4dGVuc2lvbkVsZW1lbnQgYXMgUGFydGljaXBhbnRFeHByZXNzaW9uKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIGJlZm9yZVNlcmlhbGl6ZSgpOiB2b2lkIHtcclxuICAgICAgICBsZXQgcm9sZXMgPSB0aGlzLkdldFJlc291cmNlUm9sZXMoKTtcclxuICAgICAgICBpZiAocm9sZXMgIT0gbnVsbCAmJiByb2xlcy5sZW5ndGggIT0gMCkge1xyXG4gICAgICAgICAgICBmb3IgKGxldCByb2xlIG9mIHJvbGVzKSB7XHJcbiAgICAgICAgICAgICAgICBzdXBlci5SZW1vdmVSZXNvdXJjZVJvbGUocm9sZS5JZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMucGFydGljaXBhbnRzICE9IG51bGwgJiYgdGhpcy5wYXJ0aWNpcGFudHMubGVuZ3RoICE9IDApIHtcclxuICAgICAgICAgICAgZm9yIChsZXQgcGFydGljaXBhbnQgb2YgdGhpcy5wYXJ0aWNpcGFudHMpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuQWRkUmVzb3VyY2VSb2xlKHBhcnRpY2lwYW50KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgYWZ0ZXJEZXNlcmlhbGl6ZSgpOiB2b2lkIHtcclxuICAgICAgICBsZXQgcm9sZXMgPSB0aGlzLkdldFJlc291cmNlUm9sZXMoKTtcclxuICAgICAgICBpZiAocm9sZXMgPT0gbnVsbCB8fCByb2xlcy5sZW5ndGggPT0gMCkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZvciAobGV0IHJvbGUgb2Ygcm9sZXMpIHtcclxuICAgICAgICAgICAgaWYgKHJvbGUgaW5zdGFuY2VvZiBQYXJ0aWNpcGFudCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wYXJ0aWNpcGFudHMucHVzaChyb2xlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuQnBtbk1vZGVsSGVscGVyLlJlZ2lzdGVyRWxlbWVudFR5cGUobmV3IE5vdGlmeUFjdGl2aXR5KG5ldyBCcG1uTW9kZWwoKSkpO1xyXG4iXX0=