/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import * as tslib_1 from "tslib";
import { BpmnModel, BpmnModelHelper, ExtensionMethod } from "@edp-pmf/bpmn-model";
import { ConditionValueVersion } from "./extension/condition-expression/ConditionValueVersion";
import { MexExpressionImpl } from "./mex/MexExpressionImpl";
var CheckCondition = /** @class */ (function (_super) {
    tslib_1.__extends(CheckCondition, _super);
    function CheckCondition(model) {
        var _this = _super.call(this, model) || this;
        _this.ClrTypeID = CheckCondition.Clr_Type_ID;
        _this.valueVersion = ConditionValueVersion.Unsure;
        _this.checkTime = 'UNDEFINITION';
        return _this;
    }
    /**
     * @protected
     * @return {?}
     */
    CheckCondition.prototype.ResetBeforeLoadFrom = /**
     * @protected
     * @return {?}
     */
    function () {
        _super.prototype.ResetBeforeLoadFrom.call(this);
        this.value = '';
    };
    /**
     * @return {?}
     */
    CheckCondition.prototype.ConvertToJsonObject = /**
     * @return {?}
     */
    function () {
        /** @type {?} */
        var obj = _super.prototype.ConvertToJsonObject.call(this);
        ExtensionMethod.SetAttributeValue(obj, "CheckTime", this.checkTime);
        ExtensionMethod.SetAttributeValue(obj, "ValueVersion", this.valueVersion);
        if (this.errorTips && this.errorTips.size > 0) {
            /** @type {?} */
            var jsonArray_1 = new Array();
            this.errorTips.forEach((/**
             * @param {?} value
             * @param {?} key
             * @return {?}
             */
            function (value, key) {
                /** @type {?} */
                var childObj = new Object;
                ExtensionMethod.SetAttributeValue(childObj, "Key", key);
                ExtensionMethod.SetAttributeValue(childObj, "Value", value);
                jsonArray_1.push(childObj);
            }));
            ExtensionMethod.SetAttributeValue(obj, "ErrorTips", jsonArray_1);
        }
        return obj;
    };
    /**
     * @param {?} obj
     * @return {?}
     */
    CheckCondition.prototype.LoadFromJsonObject = /**
     * @param {?} obj
     * @return {?}
     */
    function (obj) {
        var e_1, _a;
        _super.prototype.LoadFromJsonObject.call(this, obj);
        this.checkTime = ExtensionMethod.GetAttributeValue4String(obj, "CheckTime");
        this.valueVersion = (/** @type {?} */ (ExtensionMethod.GetAttributeValue4String(obj, "ValueVersion")));
        /** @type {?} */
        var jsonArray = ExtensionMethod.GetAttributeValue(obj, "ErrorTips");
        if (jsonArray && jsonArray.length > 0) {
            if (!this.errorTips) {
                this.errorTips = new Map();
            }
            try {
                for (var jsonArray_2 = tslib_1.__values(jsonArray), jsonArray_2_1 = jsonArray_2.next(); !jsonArray_2_1.done; jsonArray_2_1 = jsonArray_2.next()) {
                    var childObj = jsonArray_2_1.value;
                    /** @type {?} */
                    var key = ExtensionMethod.GetAttributeValue4String(childObj, "Key");
                    /** @type {?} */
                    var value = ExtensionMethod.GetAttributeValue4String(childObj, "Value");
                    this.errorTips.set(key, value);
                }
            }
            catch (e_1_1) { e_1 = { error: e_1_1 }; }
            finally {
                try {
                    if (jsonArray_2_1 && !jsonArray_2_1.done && (_a = jsonArray_2.return)) _a.call(jsonArray_2);
                }
                finally { if (e_1) throw e_1.error; }
            }
        }
    };
    /**
     * @return {?}
     */
    CheckCondition.prototype.clone = /**
     * @return {?}
     */
    function () {
        /** @type {?} */
        var condition = new CheckCondition(this.Model);
        condition.value = this.value;
        condition.valueVersion = this.valueVersion;
        condition.checkTime = this.checkTime;
        if (this.errorTips && this.errorTips.size > 0) {
            condition.errorTips = new Map();
            this.errorTips.forEach((/**
             * @param {?} value
             * @param {?} key
             * @return {?}
             */
            function (value, key) {
                condition.errorTips.set(key, value);
            }));
        }
        return condition;
    };
    /**
     * @return {?}
     */
    CheckCondition.prototype.NewInstance = /**
     * @return {?}
     */
    function () {
        return new CheckCondition(this.Model);
    };
    CheckCondition.Clr_Type_ID = "wf.CheckCondition";
    return CheckCondition;
}(MexExpressionImpl));
export { CheckCondition };
if (false) {
    /** @type {?} */
    CheckCondition.Clr_Type_ID;
    /** @type {?} */
    CheckCondition.prototype.ClrTypeID;
    /** @type {?} */
    CheckCondition.prototype.valueVersion;
    /** @type {?} */
    CheckCondition.prototype.checkTime;
    /** @type {?} */
    CheckCondition.prototype.errorTips;
}
BpmnModelHelper.RegisterElementType(new CheckCondition(new BpmnModel()));
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQ2hlY2tDb25kaXRpb24uanMiLCJzb3VyY2VSb290Ijoibmc6Ly9AZ3NwLXdmL3dmLXByb2Nlc3MtbW9kZWwvIiwic291cmNlcyI6WyJsaWIvbW9kZWwvQ2hlY2tDb25kaXRpb24udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQSxPQUFPLEVBQUUsU0FBUyxFQUFFLGVBQWUsRUFBRSxlQUFlLEVBQW9CLE1BQU0scUJBQXFCLENBQUM7QUFDcEcsT0FBTyxFQUFFLHFCQUFxQixFQUFFLE1BQU0sd0RBQXdELENBQUM7QUFDL0YsT0FBTyxFQUFFLGlCQUFpQixFQUFFLE1BQU0seUJBQXlCLENBQUM7QUFFNUQ7SUFBb0MsMENBQWlCO0lBUWpELHdCQUFZLEtBQWdCO1FBQTVCLFlBQ0ksa0JBQU0sS0FBSyxDQUFDLFNBQ2Y7UUFSRCxlQUFTLEdBQVcsY0FBYyxDQUFDLFdBQVcsQ0FBQztRQUUvQyxrQkFBWSxHQUFHLHFCQUFxQixDQUFDLE1BQU0sQ0FBQTtRQUMzQyxlQUFTLEdBQVcsY0FBYyxDQUFDOztJQUtuQyxDQUFDOzs7OztJQUVTLDRDQUFtQjs7OztJQUE3QjtRQUNJLGlCQUFNLG1CQUFtQixXQUFFLENBQUM7UUFDNUIsSUFBSSxDQUFDLEtBQUssR0FBRyxFQUFFLENBQUM7SUFDcEIsQ0FBQzs7OztJQUdELDRDQUFtQjs7O0lBQW5COztZQUNRLEdBQUcsR0FBRyxpQkFBTSxtQkFBbUIsV0FBRTtRQUNyQyxlQUFlLENBQUMsaUJBQWlCLENBQUMsR0FBRyxFQUFFLFdBQVcsRUFBRSxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUM7UUFDcEUsZUFBZSxDQUFDLGlCQUFpQixDQUFDLEdBQUcsRUFBRSxjQUFjLEVBQUUsSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDO1FBQzFFLElBQUksSUFBSSxDQUFDLFNBQVMsSUFBSSxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksR0FBRyxDQUFDLEVBQUU7O2dCQUNyQyxXQUFTLEdBQUcsSUFBSSxLQUFLLEVBQUU7WUFD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QyxzQ0FBMkM7O0lBQzNDLG1DQUFtQzs7SUFDbkMsbUNBQStCOztBQW1FbkMsZUFBZSxDQUFDLG1CQUFtQixDQUFDLElBQUksY0FBYyxDQUFDLElBQUksU0FBUyxFQUFFLENBQUMsQ0FBQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQnBtbk1vZGVsLCBCcG1uTW9kZWxIZWxwZXIsIEV4dGVuc2lvbk1ldGhvZCwgRXh0ZW5zaW9uRWxlbWVudCB9IGZyb20gXCJAZWRwLXBtZi9icG1uLW1vZGVsXCI7XHJcbmltcG9ydCB7IENvbmRpdGlvblZhbHVlVmVyc2lvbiB9IGZyb20gXCIuL2V4dGVuc2lvbi9jb25kaXRpb24tZXhwcmVzc2lvbi9Db25kaXRpb25WYWx1ZVZlcnNpb25cIjtcclxuaW1wb3J0IHsgTWV4RXhwcmVzc2lvbkltcGwgfSBmcm9tIFwiLi9tZXgvTWV4RXhwcmVzc2lvbkltcGxcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBDaGVja0NvbmRpdGlvbiBleHRlbmRzIE1leEV4cHJlc3Npb25JbXBsIHtcclxuICAgIHN0YXRpYyBDbHJfVHlwZV9JRDogc3RyaW5nID0gXCJ3Zi5DaGVja0NvbmRpdGlvblwiO1xyXG4gICAgQ2xyVHlwZUlEOiBzdHJpbmcgPSBDaGVja0NvbmRpdGlvbi5DbHJfVHlwZV9JRDtcclxuXHJcbiAgICB2YWx1ZVZlcnNpb24gPSBDb25kaXRpb25WYWx1ZVZlcnNpb24uVW5zdXJlXHJcbiAgICBjaGVja1RpbWU6IHN0cmluZyA9ICdVTkRFRklOSVRJT04nO1xyXG4gICAgZXJyb3JUaXBzOiBNYXA8c3RyaW5nLCBzdHJpbmc+O1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKG1vZGVsOiBCcG1uTW9kZWwpIHtcclxuICAgICAgICBzdXBlcihtb2RlbCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIFJlc2V0QmVmb3JlTG9hZEZyb20oKSB7XHJcbiAgICAgICAgc3VwZXIuUmVzZXRCZWZvcmVMb2FkRnJvbSgpO1xyXG4gICAgICAgIHRoaXMudmFsdWUgPSAnJztcclxuICAgIH1cclxuXHJcblxyXG4gICAgQ29udmVydFRvSnNvbk9iamVjdCgpOiBhbnkge1xyXG4gICAgICAgIGxldCBvYmogPSBzdXBlci5Db252ZXJ0VG9Kc29uT2JqZWN0KCk7XHJcbiAgICAgICAgRXh0ZW5zaW9uTWV0aG9kLlNldEF0dHJpYnV0ZVZhbHVlKG9iaiwgXCJDaGVja1RpbWVcIiwgdGhpcy5jaGVja1RpbWUpO1xyXG4gICAgICAgIEV4dGVuc2lvbk1ldGhvZC5TZXRBdHRyaWJ1dGVWYWx1ZShvYmosIFwiVmFsdWVWZXJzaW9uXCIsIHRoaXMudmFsdWVWZXJzaW9uKTtcclxuICAgICAgICBpZiAodGhpcy5lcnJvclRpcHMgJiYgdGhpcy5lcnJvclRpcHMuc2l6ZSA+IDApIHtcclxuICAgICAgICAgICAgY29uc3QganNvbkFycmF5ID0gbmV3IEFycmF5KCk7XHJcbiAgICAgICAgICAgIHRoaXMuZXJyb3JUaXBzLmZvckVhY2goKHZhbHVlLCBrZXkpID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGNoaWxkT2JqID0gbmV3IE9iamVjdDtcclxuICAgICAgICAgICAgICAgIEV4dGVuc2lvbk1ldGhvZC5TZXRBdHRyaWJ1dGVWYWx1ZShjaGlsZE9iaiwgXCJLZXlcIiwga2V5KTtcclxuICAgICAgICAgICAgICAgIEV4dGVuc2lvbk1ldGhvZC5TZXRBdHRyaWJ1dGVWYWx1ZShjaGlsZE9iaiwgXCJWYWx1ZVwiLCB2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICBqc29uQXJyYXkucHVzaChjaGlsZE9iaik7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIEV4dGVuc2lvbk1ldGhvZC5TZXRBdHRyaWJ1dGVWYWx1ZShvYmosIFwiRXJyb3JUaXBzXCIsIGpzb25BcnJheSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gb2JqO1xyXG4gICAgfVxyXG5cclxuICAgIExvYWRGcm9tSnNvbk9iamVjdChvYmo6IGFueSkge1xyXG4gICAgICAgIHN1cGVyLkxvYWRGcm9tSnNvbk9iamVjdChvYmopO1xyXG5cclxuICAgICAgICB0aGlzLmNoZWNrVGltZSA9IEV4dGVuc2lvbk1ldGhvZC5HZXRBdHRyaWJ1dGVWYWx1ZTRTdHJpbmcob2JqLCBcIkNoZWNrVGltZVwiKTtcclxuICAgICAgICB0aGlzLnZhbHVlVmVyc2lvbiA9IEV4dGVuc2lvbk1ldGhvZC5HZXRBdHRyaWJ1dGVWYWx1ZTRTdHJpbmcob2JqLCBcIlZhbHVlVmVyc2lvblwiKSBhcyBDb25kaXRpb25WYWx1ZVZlcnNpb247XHJcblxyXG4gICAgICAgIGNvbnN0IGpzb25BcnJheTogQXJyYXk8YW55PiA9IEV4dGVuc2lvbk1ldGhvZC5HZXRBdHRyaWJ1dGVWYWx1ZShvYmosIFwiRXJyb3JUaXBzXCIpO1xyXG4gICAgICAgIGlmIChqc29uQXJyYXkgJiYganNvbkFycmF5Lmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLmVycm9yVGlwcykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5lcnJvclRpcHMgPSBuZXcgTWFwPHN0cmluZywgc3RyaW5nPigpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGZvciAoY29uc3QgY2hpbGRPYmogb2YganNvbkFycmF5KSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBrZXkgPSBFeHRlbnNpb25NZXRob2QuR2V0QXR0cmlidXRlVmFsdWU0U3RyaW5nKGNoaWxkT2JqLCBcIktleVwiKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gRXh0ZW5zaW9uTWV0aG9kLkdldEF0dHJpYnV0ZVZhbHVlNFN0cmluZyhjaGlsZE9iaiwgXCJWYWx1ZVwiKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuZXJyb3JUaXBzLnNldChrZXksIHZhbHVlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBjbG9uZSgpOiBDaGVja0NvbmRpdGlvbiB7XHJcbiAgICAgICAgY29uc3QgY29uZGl0aW9uID0gbmV3IENoZWNrQ29uZGl0aW9uKHRoaXMuTW9kZWwpO1xyXG4gICAgICAgIGNvbmRpdGlvbi52YWx1ZSA9IHRoaXMudmFsdWU7XHJcbiAgICAgICAgY29uZGl0aW9uLnZhbHVlVmVyc2lvbiA9IHRoaXMudmFsdWVWZXJzaW9uO1xyXG4gICAgICAgIGNvbmRpdGlvbi5jaGVja1RpbWUgPSB0aGlzLmNoZWNrVGltZTtcclxuICAgICAgICBpZiAodGhpcy5lcnJvclRpcHMgJiYgdGhpcy5lcnJvclRpcHMuc2l6ZSA+IDApIHtcclxuICAgICAgICAgICAgY29uZGl0aW9uLmVycm9yVGlwcyA9IG5ldyBNYXA8c3RyaW5nLCBzdHJpbmc+KCk7XHJcbiAgICAgICAgICAgIHRoaXMuZXJyb3JUaXBzLmZvckVhY2goKHZhbHVlLCBrZXkpID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbmRpdGlvbi5lcnJvclRpcHMuc2V0KGtleSwgdmFsdWUpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gY29uZGl0aW9uO1xyXG4gICAgfVxyXG5cclxuICAgIE5ld0luc3RhbmNlKCk6IENoZWNrQ29uZGl0aW9uIHtcclxuICAgICAgICByZXR1cm4gbmV3IENoZWNrQ29uZGl0aW9uKHRoaXMuTW9kZWwpO1xyXG4gICAgfVxyXG59XHJcbkJwbW5Nb2RlbEhlbHBlci5SZWdpc3RlckVsZW1lbnRUeXBlKG5ldyBDaGVja0NvbmRpdGlvbihuZXcgQnBtbk1vZGVsKCkpKTsiXX0=