/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import * as tslib_1 from "tslib";
import { BpmnModel, BpmnModelHelper, ExtensionMethod, ExtensionElement } from "@edp-pmf/bpmn-model";
import { SmsMessageTemplate } from "./SmsMessageTemplate";
var UrgeHandleRule = /** @class */ (function (_super) {
    tslib_1.__extends(UrgeHandleRule, _super);
    function UrgeHandleRule(model) {
        var _this = _super.call(this, model) || this;
        _this.ClrTypeID = UrgeHandleRule.Clr_Type_ID;
        return _this;
    }
    /**
     * @protected
     * @return {?}
     */
    UrgeHandleRule.prototype.ResetBeforeLoadFrom = /**
     * @protected
     * @return {?}
     */
    function () {
        _super.prototype.ResetBeforeLoadFrom.call(this);
        this.smsMessageTemplate = null;
    };
    /**
     * @return {?}
     */
    UrgeHandleRule.prototype.ConvertToJsonObject = /**
     * @return {?}
     */
    function () {
        /** @type {?} */
        var obj = _super.prototype.ConvertToJsonObject.call(this);
        ExtensionMethod.SetAttributeValue(obj, "UrgeHandleAble", this.urgeHandleAble);
        ExtensionMethod.SetAttributeValue(obj, "SendType", this.sendType);
        ExtensionMethod.SetAttributeValue(obj, "EarlyTime", this.earlyTime);
        ExtensionMethod.SetAttributeValue(obj, "IntervalTime", this.intervalTime);
        ExtensionMethod.SetAttributeValue(obj, "UrgeMessageSubject", this.urgeMessageSubject);
        ExtensionMethod.SetAttributeValue(obj, "UrgeMessageContent", this.urgeMessageContent);
        ExtensionMethod.SetAttributeValue(obj, "AddReminder", this.addReminder);
        ExtensionMethod.SetAttributeValue(obj, "SubjectEditable", this.subjectEditable);
        ExtensionMethod.SetAttributeValue(obj, "ContentEditable", this.contentEditable);
        if (this.smsMessageTemplate) {
            ExtensionMethod.SetAttributeValue(obj, "SmsMessageTemplate", this.smsMessageTemplate.ConvertToJsonObject());
        }
        return obj;
    };
    /**
     * @param {?} obj
     * @return {?}
     */
    UrgeHandleRule.prototype.LoadFromJsonObject = /**
     * @param {?} obj
     * @return {?}
     */
    function (obj) {
        _super.prototype.LoadFromJsonObject.call(this, obj);
        this.earlyTime = ExtensionMethod.GetAttributeValue4Int64(obj, "EarlyTime");
        this.intervalTime = ExtensionMethod.GetAttributeValue4Int64(obj, "IntervalTime");
        this.sendType = ExtensionMethod.GetAttributeValue4String(obj, "SendType");
        this.urgeHandleAble = ExtensionMethod.GetAttributeValue4Boolean(obj, "UrgeHandleAble");
        this.urgeMessageSubject = ExtensionMethod.GetAttributeValue4String(obj, "UrgeMessageSubject");
        this.urgeMessageContent = ExtensionMethod.GetAttributeValue4String(obj, "UrgeMessageContent");
        this.addReminder = ExtensionMethod.GetAttributeValue4Boolean(obj, "AddReminder");
        this.subjectEditable = ExtensionMethod.GetAttributeValue4Boolean(obj, "SubjectEditable");
        this.contentEditable = ExtensionMethod.GetAttributeValue4Boolean(obj, "ContentEditable");
        /** @type {?} */
        var smsTemplateElement = ExtensionMethod.GetAttributeValue(obj, 'SmsMessageTemplate');
        if (smsTemplateElement) {
            /** @type {?} */
            var smsMessageTemplate = new SmsMessageTemplate(this.Model);
            smsMessageTemplate.LoadFromJsonObject(smsTemplateElement);
            this.smsMessageTemplate = smsMessageTemplate;
        }
    };
    /**
     * @return {?}
     */
    UrgeHandleRule.prototype.NewInstance = /**
     * @return {?}
     */
    function () {
        return new UrgeHandleRule(this.Model);
    };
    /**
     * @return {?}
     */
    UrgeHandleRule.prototype.clone = /**
     * @return {?}
     */
    function () {
        /** @type {?} */
        var urgeHandleRule = new UrgeHandleRule(this.Model);
        urgeHandleRule.earlyTime = this.earlyTime;
        urgeHandleRule.intervalTime = this.intervalTime;
        urgeHandleRule.sendType = this.sendType;
        urgeHandleRule.urgeHandleAble = this.urgeHandleAble;
        urgeHandleRule.urgeMessageSubject = this.urgeMessageSubject;
        urgeHandleRule.urgeMessageContent = this.urgeMessageContent;
        urgeHandleRule.addReminder = this.addReminder;
        urgeHandleRule.subjectEditable = this.subjectEditable;
        urgeHandleRule.contentEditable = this.contentEditable;
        if (this.smsMessageTemplate) {
            urgeHandleRule.smsMessageTemplate = this.smsMessageTemplate.clone();
        }
        return urgeHandleRule;
    };
    UrgeHandleRule.Clr_Type_ID = "wf.UrgeHandleRule";
    return UrgeHandleRule;
}(ExtensionElement));
export { UrgeHandleRule };
if (false) {
    /** @type {?} */
    UrgeHandleRule.Clr_Type_ID;
    /** @type {?} */
    UrgeHandleRule.prototype.ClrTypeID;
    /** @type {?} */
    UrgeHandleRule.prototype.urgeHandleAble;
    /** @type {?} */
    UrgeHandleRule.prototype.sendType;
    /**
     * 最早允许催办时间（时）
     * @type {?}
     */
    UrgeHandleRule.prototype.earlyTime;
    /**
     * 最小允许催办间隔（时）
     * @type {?}
     */
    UrgeHandleRule.prototype.intervalTime;
    /**
     * 主题
     * @type {?}
     */
    UrgeHandleRule.prototype.urgeMessageSubject;
    /**
     * 内容
     * @type {?}
     */
    UrgeHandleRule.prototype.urgeMessageContent;
    /**
     * 是否添加催办人信息
     * @type {?}
     */
    UrgeHandleRule.prototype.addReminder;
    /**
     * 主题可编辑
     * @type {?}
     */
    UrgeHandleRule.prototype.subjectEditable;
    /**
     * 内容可编辑
     * @type {?}
     */
    UrgeHandleRule.prototype.contentEditable;
    /** @type {?} */
    UrgeHandleRule.prototype.smsMessageTemplate;
}
BpmnModelHelper.RegisterElementType(new UrgeHandleRule(new BpmnModel()));
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiVXJnZUhhbmRsZVJ1bGUuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9AZ3NwLXdmL3dmLXByb2Nlc3MtbW9kZWwvIiwic291cmNlcyI6WyJsaWIvbW9kZWwvVXJnZUhhbmRsZVJ1bGUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQSxPQUFPLEVBQUUsU0FBUyxFQUFFLGVBQWUsRUFBRSxlQUFlLEVBQUUsZ0JBQWdCLEVBQUUsTUFBTSxxQkFBcUIsQ0FBQztBQUNwRyxPQUFPLEVBQUUsa0JBQWtCLEVBQUUsTUFBTSxzQkFBc0IsQ0FBQztBQUUxRDtJQUFvQywwQ0FBZ0I7SUFzQ2hELHdCQUFZLEtBQWdCO1FBQTVCLFlBQ0ksa0JBQU0sS0FBSyxDQUFDLFNBQ2Y7UUF0Q1EsZUFBUyxHQUFXLGNBQWMsQ0FBQyxXQUFXLENBQUM7O0lBc0N4RCxDQUFDOzs7OztJQUVTLDRDQUFtQjs7OztJQUE3QjtRQUNJLGlCQUFNLG1CQUFtQixXQUFFLENBQUM7UUFDNUIsSUFBSSxDQUFDLGtCQUFrQixHQUFHLElBQUksQ0FBQztJQUNuQyxDQUFDOzs7O0lBRUQsNENBQW1COzs7SUFBbkI7O1lBQ1EsR0FBRyxHQUFHLGlCQUFNLG1CQUFtQixXQUFFO1FBRXJDLGVBQWUsQ0FBQyxpQkFBaUIsQ0FBQyxHQUFHLEVBQUUsZ0JBQWdCLEVBQUUsSUFBSSxDQUFDLGNBQWMsQ0FBQyxDQUFDO1FBQzlFLGVBQWUsQ0FBQyxpQkFBaUIsQ0FBQyxHQUFHLEVBQUUsVUFBVSxFQUFFLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUNsRSxlQUFlLENBQUMsaUJBQWlCLENBQUMsR0FBRyxFQUFFLFdBQVcsRUFBRSxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUM7UUFDcEUsZUFBZSxDQUFDLGlCQUFpQixDQUFDLEdBQUcsRUFBRSxjQUFjLEVBQUUsSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDO1FBQzFFLGVBQWUsQ0FBQyxpQkFBaUIsQ0FBQyxHQUFHLEVBQUUsb0JBQW9CLEVBQUUsSUFB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LENBQUMsY0FBYyxDQUFDO1FBQ3BELGNBQWMsQ0FBQyxrQkFBa0IsR0FBRyxJQUFJLENBQUMsa0JBQWtCLENBQUM7UUFDNUQsY0FBYyxDQUFDLGtCQUFrQixHQUFHLElBQUksQ0FBQyxrQkFBa0IsQ0FBQztRQUM1RCxjQUFjLENBQUMsV0FBVyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUM7UUFDOUMsY0FBYyxDQUFDLGVBQWUsR0FBRyxJQUFJLENBQUMsZUFBZSxDQUFDO1FBQ3RELGNBQWMsQ0FBQyxlQUFlLEdBQUcsSUFBSSxDQUFDLGVBQWUsQ0FBQztRQUV0RCxJQUFJLElBQUksQ0FBQyxrQkFBa0IsRUFBRTtZQUN6QixjQUFjLENBQUMsa0JBQWtCLEdBQUcsSUFBSSxDQUFDLGtCQUFrQixDQUFDLEtBQUssRUFBRSxDQUFDO1NBQ3ZFO1FBRUQsT0FBTyxjQUFjLENBQUM7SUFDMUIsQ0FBQztJQTVHTSwwQkFBVyxHQUFXLG1CQUFtQixDQUFDO0lBNkdyRCxxQkFBQztDQUFBLEFBOUdELENBQW9DLGdCQUFnQixHQThHbkQ7U0E5R1ksY0FBYzs7O0lBQ3ZCLDJCQUFpRDs7SUFDakQsbUNBQXdEOztJQUV4RCx3Q0FBd0I7O0lBRXhCLGtDQUFpQjs7Ozs7SUFJakIsbUNBQWtCOzs7OztJQUlsQixzQ0FBcUI7Ozs7O0lBSXJCLDRDQUEyQjs7Ozs7SUFJM0IsNENBQTJCOzs7OztJQUkzQixxQ0FBcUI7Ozs7O0lBSXJCLHlDQUF5Qjs7Ozs7SUFJekIseUNBQXlCOztJQUV6Qiw0Q0FBdUM7O0FBMkUzQyxlQUFlLENBQUMsbUJBQW1CLENBQUMsSUFBSSxjQUFjLENBQUMsSUFBSSxTQUFTLEVBQUUsQ0FBQyxDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBCcG1uTW9kZWwsIEJwbW5Nb2RlbEhlbHBlciwgRXh0ZW5zaW9uTWV0aG9kLCBFeHRlbnNpb25FbGVtZW50IH0gZnJvbSBcIkBlZHAtcG1mL2JwbW4tbW9kZWxcIjtcclxuaW1wb3J0IHsgU21zTWVzc2FnZVRlbXBsYXRlIH0gZnJvbSBcIi4vU21zTWVzc2FnZVRlbXBsYXRlXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgVXJnZUhhbmRsZVJ1bGUgZXh0ZW5kcyBFeHRlbnNpb25FbGVtZW50IHtcclxuICAgIHN0YXRpYyBDbHJfVHlwZV9JRDogc3RyaW5nID0gXCJ3Zi5VcmdlSGFuZGxlUnVsZVwiO1xyXG4gICAgcmVhZG9ubHkgQ2xyVHlwZUlEOiBzdHJpbmcgPSBVcmdlSGFuZGxlUnVsZS5DbHJfVHlwZV9JRDtcclxuXHJcbiAgICB1cmdlSGFuZGxlQWJsZTogYm9vbGVhbjtcclxuXHJcbiAgICBzZW5kVHlwZTogc3RyaW5nO1xyXG4gICAgLyoqXHJcbiAgICAgKiDmnIDml6nlhYHorrjlgqzlip7ml7bpl7TvvIjml7bvvIlcclxuICAgICAqL1xyXG4gICAgZWFybHlUaW1lOiBudW1iZXI7XHJcbiAgICAvKipcclxuICAgICAqIOacgOWwj+WFgeiuuOWCrOWKnumXtOmalO+8iOaXtu+8iVxyXG4gICAgICovXHJcbiAgICBpbnRlcnZhbFRpbWU6IG51bWJlcjtcclxuICAgIC8qKlxyXG4gICAgICog5Li76aKYXHJcbiAgICAgKi9cclxuICAgIHVyZ2VNZXNzYWdlU3ViamVjdDogc3RyaW5nO1xyXG4gICAgLyoqXHJcbiAgICAgKiDlhoXlrrlcclxuICAgICAqL1xyXG4gICAgdXJnZU1lc3NhZ2VDb250ZW50OiBzdHJpbmc7XHJcbiAgICAvKipcclxuICAgICAqIOaYr+WQpua3u+WKoOWCrOWKnuS6uuS/oeaBr1xyXG4gICAgICovXHJcbiAgICBhZGRSZW1pbmRlcjogYm9vbGVhbjtcclxuICAgIC8qKlxyXG4gICAgICog5Li76aKY5Y+v57yW6L6RXHJcbiAgICAgKi9cclxuICAgIHN1YmplY3RFZGl0YWJsZTogYm9vbGVhbjtcclxuICAgIC8qKlxyXG4gICAgICog5YaF5a655Y+v57yW6L6RXHJcbiAgICAgKi9cclxuICAgIGNvbnRlbnRFZGl0YWJsZTogYm9vbGVhbjtcclxuXHJcbiAgICBzbXNNZXNzYWdlVGVtcGxhdGU6IFNtc01lc3NhZ2VUZW1wbGF0ZTtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihtb2RlbDogQnBtbk1vZGVsKSB7XHJcbiAgICAgICAgc3VwZXIobW9kZWwpO1xyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBSZXNldEJlZm9yZUxvYWRGcm9tKCkge1xyXG4gICAgICAgIHN1cGVyLlJlc2V0QmVmb3JlTG9hZEZyb20oKTtcclxuICAgICAgICB0aGlzLnNtc01lc3NhZ2VUZW1wbGF0ZSA9IG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgQ29udmVydFRvSnNvbk9iamVjdCgpOiBhbnkge1xyXG4gICAgICAgIGxldCBvYmogPSBzdXBlci5Db252ZXJ0VG9Kc29uT2JqZWN0KCk7XHJcblxyXG4gICAgICAgIEV4dGVuc2lvbk1ldGhvZC5TZXRBdHRyaWJ1dGVWYWx1ZShvYmosIFwiVXJnZUhhbmRsZUFibGVcIiwgdGhpcy51cmdlSGFuZGxlQWJsZSk7XHJcbiAgICAgICAgRXh0ZW5zaW9uTWV0aG9kLlNldEF0dHJpYnV0ZVZhbHVlKG9iaiwgXCJTZW5kVHlwZVwiLCB0aGlzLnNlbmRUeXBlKTtcclxuICAgICAgICBFeHRlbnNpb25NZXRob2QuU2V0QXR0cmlidXRlVmFsdWUob2JqLCBcIkVhcmx5VGltZVwiLCB0aGlzLmVhcmx5VGltZSk7XHJcbiAgICAgICAgRXh0ZW5zaW9uTWV0aG9kLlNldEF0dHJpYnV0ZVZhbHVlKG9iaiwgXCJJbnRlcnZhbFRpbWVcIiwgdGhpcy5pbnRlcnZhbFRpbWUpO1xyXG4gICAgICAgIEV4dGVuc2lvbk1ldGhvZC5TZXRBdHRyaWJ1dGVWYWx1ZShvYmosIFwiVXJnZU1lc3NhZ2VTdWJqZWN0XCIsIHRoaXMudXJnZU1lc3NhZ2VTdWJqZWN0KTtcclxuICAgICAgICBFeHRlbnNpb25NZXRob2QuU2V0QXR0cmlidXRlVmFsdWUob2JqLCBcIlVyZ2VNZXNzYWdlQ29udGVudFwiLCB0aGlzLnVyZ2VNZXNzYWdlQ29udGVudCk7XHJcbiAgICAgICAgRXh0ZW5zaW9uTWV0aG9kLlNldEF0dHJpYnV0ZVZhbHVlKG9iaiwgXCJBZGRSZW1pbmRlclwiLCB0aGlzLmFkZFJlbWluZGVyKTtcclxuICAgICAgICBFeHRlbnNpb25NZXRob2QuU2V0QXR0cmlidXRlVmFsdWUob2JqLCBcIlN1YmplY3RFZGl0YWJsZVwiLCB0aGlzLnN1YmplY3RFZGl0YWJsZSk7XHJcbiAgICAgICAgRXh0ZW5zaW9uTWV0aG9kLlNldEF0dHJpYnV0ZVZhbHVlKG9iaiwgXCJDb250ZW50RWRpdGFibGVcIiwgdGhpcy5jb250ZW50RWRpdGFibGUpO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5zbXNNZXNzYWdlVGVtcGxhdGUpIHtcclxuICAgICAgICAgICAgRXh0ZW5zaW9uTWV0aG9kLlNldEF0dHJpYnV0ZVZhbHVlKG9iaiwgXCJTbXNNZXNzYWdlVGVtcGxhdGVcIiwgdGhpcy5zbXNNZXNzYWdlVGVtcGxhdGUuQ29udmVydFRvSnNvbk9iamVjdCgpKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBvYmo7XHJcbiAgICB9XHJcblxyXG4gICAgTG9hZEZyb21Kc29uT2JqZWN0KG9iajogYW55KSB7XHJcbiAgICAgICAgc3VwZXIuTG9hZEZyb21Kc29uT2JqZWN0KG9iaik7XHJcblxyXG4gICAgICAgIHRoaXMuZWFybHlUaW1lID0gRXh0ZW5zaW9uTWV0aG9kLkdldEF0dHJpYnV0ZVZhbHVlNEludDY0KG9iaiwgXCJFYXJseVRpbWVcIik7XHJcbiAgICAgICAgdGhpcy5pbnRlcnZhbFRpbWUgPSBFeHRlbnNpb25NZXRob2QuR2V0QXR0cmlidXRlVmFsdWU0SW50NjQob2JqLCBcIkludGVydmFsVGltZVwiKTtcclxuICAgICAgICB0aGlzLnNlbmRUeXBlID0gRXh0ZW5zaW9uTWV0aG9kLkdldEF0dHJpYnV0ZVZhbHVlNFN0cmluZyhvYmosIFwiU2VuZFR5cGVcIik7XHJcbiAgICAgICAgdGhpcy51cmdlSGFuZGxlQWJsZSA9IEV4dGVuc2lvbk1ldGhvZC5HZXRBdHRyaWJ1dGVWYWx1ZTRCb29sZWFuKG9iaiwgXCJVcmdlSGFuZGxlQWJsZVwiKTtcclxuICAgICAgICB0aGlzLnVyZ2VNZXNzYWdlU3ViamVjdCA9IEV4dGVuc2lvbk1ldGhvZC5HZXRBdHRyaWJ1dGVWYWx1ZTRTdHJpbmcob2JqLCBcIlVyZ2VNZXNzYWdlU3ViamVjdFwiKTtcclxuICAgICAgICB0aGlzLnVyZ2VNZXNzYWdlQ29udGVudCA9IEV4dGVuc2lvbk1ldGhvZC5HZXRBdHRyaWJ1dGVWYWx1ZTRTdHJpbmcob2JqLCBcIlVyZ2VNZXNzYWdlQ29udGVudFwiKTtcclxuICAgICAgICB0aGlzLmFkZFJlbWluZGVyID0gRXh0ZW5zaW9uTWV0aG9kLkdldEF0dHJpYnV0ZVZhbHVlNEJvb2xlYW4ob2JqLCBcIkFkZFJlbWluZGVyXCIpO1xyXG4gICAgICAgIHRoaXMuc3ViamVjdEVkaXRhYmxlID0gRXh0ZW5zaW9uTWV0aG9kLkdldEF0dHJpYnV0ZVZhbHVlNEJvb2xlYW4ob2JqLCBcIlN1YmplY3RFZGl0YWJsZVwiKTtcclxuICAgICAgICB0aGlzLmNvbnRlbnRFZGl0YWJsZSA9IEV4dGVuc2lvbk1ldGhvZC5HZXRBdHRyaWJ1dGVWYWx1ZTRCb29sZWFuKG9iaiwgXCJDb250ZW50RWRpdGFibGVcIik7XHJcblxyXG4gICAgICAgIGNvbnN0IHNtc1RlbXBsYXRlRWxlbWVudCA9IEV4dGVuc2lvbk1ldGhvZC5HZXRBdHRyaWJ1dGVWYWx1ZShvYmosICdTbXNNZXNzYWdlVGVtcGxhdGUnKTtcclxuICAgICAgICBpZiAoc21zVGVtcGxhdGVFbGVtZW50KSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHNtc01lc3NhZ2VUZW1wbGF0ZSA9IG5ldyBTbXNNZXNzYWdlVGVtcGxhdGUodGhpcy5Nb2RlbCk7XHJcbiAgICAgICAgICAgIHNtc01lc3NhZ2VUZW1wbGF0ZS5Mb2FkRnJvbUpzb25PYmplY3Qoc21zVGVtcGxhdGVFbGVtZW50KTtcclxuICAgICAgICAgICAgdGhpcy5zbXNNZXNzYWdlVGVtcGxhdGUgPSBzbXNNZXNzYWdlVGVtcGxhdGU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIE5ld0luc3RhbmNlKCk6IFVyZ2VIYW5kbGVSdWxlIHtcclxuICAgICAgICByZXR1cm4gbmV3IFVyZ2VIYW5kbGVSdWxlKHRoaXMuTW9kZWwpO1xyXG4gICAgfVxyXG5cclxuICAgIGNsb25lKCk6IFVyZ2VIYW5kbGVSdWxlIHtcclxuICAgICAgICBjb25zdCB1cmdlSGFuZGxlUnVsZSA9IG5ldyBVcmdlSGFuZGxlUnVsZSh0aGlzLk1vZGVsKTtcclxuICAgICAgICB1cmdlSGFuZGxlUnVsZS5lYXJseVRpbWUgPSB0aGlzLmVhcmx5VGltZTtcclxuICAgICAgICB1cmdlSGFuZGxlUnVsZS5pbnRlcnZhbFRpbWUgPSB0aGlzLmludGVydmFsVGltZTtcclxuICAgICAgICB1cmdlSGFuZGxlUnVsZS5zZW5kVHlwZSA9IHRoaXMuc2VuZFR5cGU7XHJcbiAgICAgICAgdXJnZUhhbmRsZVJ1bGUudXJnZUhhbmRsZUFibGUgPSB0aGlzLnVyZ2VIYW5kbGVBYmxlO1xyXG4gICAgICAgIHVyZ2VIYW5kbGVSdWxlLnVyZ2VNZXNzYWdlU3ViamVjdCA9IHRoaXMudXJnZU1lc3NhZ2VTdWJqZWN0O1xyXG4gICAgICAgIHVyZ2VIYW5kbGVSdWxlLnVyZ2VNZXNzYWdlQ29udGVudCA9IHRoaXMudXJnZU1lc3NhZ2VDb250ZW50O1xyXG4gICAgICAgIHVyZ2VIYW5kbGVSdWxlLmFkZFJlbWluZGVyID0gdGhpcy5hZGRSZW1pbmRlcjtcclxuICAgICAgICB1cmdlSGFuZGxlUnVsZS5zdWJqZWN0RWRpdGFibGUgPSB0aGlzLnN1YmplY3RFZGl0YWJsZTtcclxuICAgICAgICB1cmdlSGFuZGxlUnVsZS5jb250ZW50RWRpdGFibGUgPSB0aGlzLmNvbnRlbnRFZGl0YWJsZTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuc21zTWVzc2FnZVRlbXBsYXRlKSB7XHJcbiAgICAgICAgICAgIHVyZ2VIYW5kbGVSdWxlLnNtc01lc3NhZ2VUZW1wbGF0ZSA9IHRoaXMuc21zTWVzc2FnZVRlbXBsYXRlLmNsb25lKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gdXJnZUhhbmRsZVJ1bGU7XHJcbiAgICB9XHJcbn1cclxuQnBtbk1vZGVsSGVscGVyLlJlZ2lzdGVyRWxlbWVudFR5cGUobmV3IFVyZ2VIYW5kbGVSdWxlKG5ldyBCcG1uTW9kZWwoKSkpO1xyXG4iXX0=