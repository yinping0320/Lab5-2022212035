/**
 * @fileoverview added by tsickle
 * Generated from: lib/sign-here/sign-here.component.ts
 * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { Component, ViewChild, ElementRef, Input } from '@angular/core';
import { SignatureComponent } from '../signature/signature.component';
export class SignHereComponent {
    constructor() {
        // 抛出选中的事件
        this.imageType = "image/png";
        this.imageQuality = 1;
        this.title = '请对审批意见进行签字确认';
        this.isDraw = false;
        this.signaturePadOptions = {
            // passed through to szimek/signature_pad constructor
            'minWidth': 1,
            'canvasWidth': 500,
            'canvasHeight': 240
        };
    }
    /**
     * @return {?}
     */
    ngOnInit() {
    }
    /**
     * @return {?}
     */
    ngAfterViewInit() {
        // this.signaturePad is now available
        this.signaturePad.set('minWidth', 1); // set szimek/signature_pad options at runtime
        this.signaturePad.set('canvasWidth', this.canvasDiv.nativeElement.clientWidth);
        this.signaturePad.clear(); // invoke functions from szimek/signature_pad API
        this.signaturePad.setImageBackground();
        if (this.image) {
            /** @type {?} */
            const img = new Image();
            img.src = this.image;
            this.signaturePad.setBackgroundImage(img);
        }
    }
    /**
     * @return {?}
     */
    confirm() {
        console.log(this.signaturePad.toDataURL(this.imageType, this.imageQuality));
        //this.signaturePad.setWaterMark(new Date());
        return this.signaturePad.toDataURL(this.imageType, this.imageQuality);
    }
    /**
     * @return {?}
     */
    reset() {
        this.signaturePad.clear();
        this.signaturePad.setImageBackground();
        this.isDraw = false;
    }
    /**
     * @return {?}
     */
    drawComplete() {
        this.isDraw = true;
        // will be notified of szimek/signature_pad's onEnd event
        //console.log(this.signaturePad.toDataURL());
    }
    /**
     * @return {?}
     */
    drawStart() {
        // will be notified of szimek/signature_pad's onBegin event
        console.log('begin drawing');
    }
    //设置背景图片
    /**
     * @param {?} image
     * @return {?}
     */
    initCanvasByImage(image) {
        this.signaturePad.setBackgroundImage(image);
    }
}
SignHereComponent.decorators = [
    { type: Component, args: [{
                selector: 'wf-sign-here',
                template: "<div class=\"fm-feature-suggestion fm-feature-section--gutter\">\r\n    <div style=\"padding:2px 2px 2px 0;text-align:left;width:100%;height: 21px;\">\r\n        <span style=\"font-size: 15px;color: #999999;\">{{title}}</span>\r\n      </div>\r\n      <div class=\"wf-sign-signature-docker\">\r\n      <div #canvastitle class=\"wf-sign-signature\">\r\n      <wf-sign-signature  [options]=\"signaturePadOptions\" (onBeginEvent)=\"drawStart()\" (onEndEvent)=\"drawComplete()\"></wf-sign-signature>\r\n    </div>\r\n</div>\r\n</div>\r\n",
                styles: [".fm-page-main1{overflow:hidden}.fm-utils-flex-column{display:flex;flex-direction:column}.fm-page{position:absolute;top:0;left:0;bottom:0;right:0;display:flex;flex-direction:column;background:#fff;font-size:13px;line-height:18px}.fm-page-main{flex-basis:0;flex-shrink:1;flex-grow:1;overflow-x:hidden;overflow-y:auto;position:relative}.fm-feature-section--gutter{margin:0 0 12px}.fm-feature-suggestion{background:#fff;padding:12px 16px}.fm-feature-suggestion .fm-feature-suggestion--bar{display:flex;flex-direction:row;align-items:center;color:#888}.wf-sign-signature{margin:1px}.wf-sign-signature-docker{border:1px dashed #ddd;margin-left:4px;margin-right:4px}"]
            }] }
];
/** @nocollapse */
SignHereComponent.ctorParameters = () => [];
SignHereComponent.propDecorators = {
    signaturePad: [{ type: ViewChild, args: [SignatureComponent,] }],
    canvasDiv: [{ type: ViewChild, args: ['canvastitle',] }],
    imageType: [{ type: Input }],
    imageQuality: [{ type: Input }],
    title: [{ type: Input }],
    image: [{ type: Input }]
};
if (false) {
    /** @type {?} */
    SignHereComponent.prototype.signaturePad;
    /** @type {?} */
    SignHereComponent.prototype.canvasDiv;
    /** @type {?} */
    SignHereComponent.prototype.imageType;
    /** @type {?} */
    SignHereComponent.prototype.imageQuality;
    /** @type {?} */
    SignHereComponent.prototype.title;
    /** @type {?} */
    SignHereComponent.prototype.image;
    /** @type {?} */
    SignHereComponent.prototype.isDraw;
    /** @type {?} */
    SignHereComponent.prototype.signaturePadOptions;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2lnbi1oZXJlLmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiJuZzovL0Bnc3Atd2Yvd2Ytc2lnbi8iLCJzb3VyY2VzIjpbImxpYi9zaWduLWhlcmUvc2lnbi1oZXJlLmNvbXBvbmVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7OztBQUFBLE9BQU8sRUFBRSxTQUFTLEVBQXVCLFNBQVMsRUFBNkIsVUFBVSxFQUFDLEtBQUssRUFBd0IsTUFBTSxlQUFlLENBQUM7QUFDN0ksT0FBTyxFQUFFLGtCQUFrQixFQUFFLE1BQU0sa0NBQWtDLENBQUM7QUFPdEUsTUFBTSxPQUFPLGlCQUFpQjtJQW9CNUI7O1FBZFMsY0FBUyxHQUFHLFdBQVcsQ0FBQztRQUN4QixpQkFBWSxHQUFHLENBQUMsQ0FBQztRQUNqQixVQUFLLEdBQUMsY0FBYyxDQUFDO1FBRTlCLFdBQU0sR0FBRyxLQUFLLENBQUM7UUFJZix3QkFBbUIsR0FBVzs7WUFDNUIsVUFBVSxFQUFFLENBQUM7WUFDYixhQUFhLEVBQUUsR0FBRztZQUNsQixjQUFjLEVBQUUsR0FBRztTQUNwQixDQUFDO0lBRWMsQ0FBQzs7OztJQUVqQixRQUFRO0lBQ1IsQ0FBQzs7OztJQUVELGVBQWU7UUFDYixxQ0FBcUM7UUFDckMsSUFBSSxDQUFDLFlBQVksQ0FBQyxHQUFHLENBQUMsVUFBVSxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsOENBQThDO1FBQ3BGLElBQUksQ0FBQyxZQUFZLENBQUMsR0FBRyxDQUFDLGFBQWEsRUFBRSxJQUFJLENBQUMsU0FBUyxDQUFDLGFBQWEsQ0FBQyxXQUFXLENBQUMsQ0FBQztRQUMvRSxJQUFJLENBQUMsWUFBWSxDQUFDLEtBQUssRUFBRSxDQUFDLENBQUMsaURBQWlEO1FBQzVFLElBQUksQ0FBQyxZQUFZLENBQUMsa0JBQWtCLEVBQUUsQ0FBQztRQUN2QyxJQUFHLElBQUksQ0FBQyxLQUFLLEVBQUM7O2tCQUNOLEdBQUcsR0FBRyxJQUFJLEtBQUssRUFBRTtZQUN2QixHQUFHLENBQUMsR0FBRyxHQUFDLElBQUksQ0FBQyxLQUFLLENBQUM7WUFDbkIsSUFBSSxDQUFDLFlBQVksQ0FBQyxrQkFBa0IsQ0FBQyxHQUFHLENBQUMsQ0FBQztTQUMzQztJQUNILENBQUM7Ozs7SUFFRCxPQUFPO1FBQ0wsT0FBTyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsU0FBUyxFQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDO1FBQzNFLDZDQUE2QztRQUM3QyxPQUFPLElBQUksQ0FBQyxZQUFZLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxTQUFTLEVBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDO0lBQ3ZFLENBQUM7Ozs7SUFDRCxLQUFLO1FBQ0gsSUFBSSxDQUFDLFlBQVksQ0FBQyxLQUFLLEVBQUUsQ0FBQztRQUMxQixJQUFJLENBQUMsWUFBWSxDQUFDLGtCQUFrQixFQUFFLENBQUM7UUFDdkMsSUFBSSxDQUFDLE1BQU0sR0FBQyxLQUFLLENBQUM7SUFDcEIsQ0FBQzs7OztJQUVELFlBQVk7UUFDVixJQUFJLENBQUMsTUFBTSxHQUFDLElBQUksQ0FBQztRQUNqQix5REFBeUQ7UUFDekQsNkNBQTZDO0lBQy9DLENBQUM7Ozs7SUFFRCxTQUFTO1FBQ1AsMkRBQTJEO1FBQzNELE9BQU8sQ0FBQyxHQUFHLENBQUMsZUFBZSxDQUFDLENBQUM7SUFDL0IsQ0FBQzs7Ozs7O0lBR0QsaUJBQWlCLENBQUMsS0FBSztRQUNyQixJQUFJLENBQUMsWUFBWSxDQUFDLGtCQUFrQixDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQzlDLENBQUM7OztZQXBFRixTQUFTLFNBQUM7Z0JBQ1QsUUFBUSxFQUFFLGNBQWM7Z0JBQ3hCLGlpQkFBeUM7O2FBRTFDOzs7OzsyQkFHRSxTQUFTLFNBQUMsa0JBQWtCO3dCQUM1QixTQUFTLFNBQUMsYUFBYTt3QkFHdkIsS0FBSzsyQkFDTCxLQUFLO29CQUNMLEtBQUs7b0JBQ0wsS0FBSzs7OztJQVBOLHlDQUFnRTs7SUFDaEUsc0NBQXVEOztJQUd2RCxzQ0FBaUM7O0lBQ2pDLHlDQUEwQjs7SUFDMUIsa0NBQThCOztJQUM5QixrQ0FBZTs7SUFDZixtQ0FBZTs7SUFJZixnREFJRSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbXBvbmVudCwgSG9zdEJpbmRpbmcsIE9uSW5pdCwgVmlld0NoaWxkLCBUZW1wbGF0ZVJlZiwgSG9zdExpc3RlbmVyLCBFbGVtZW50UmVmLElucHV0LCBPdXRwdXQsIEV2ZW50RW1pdHRlciB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xyXG5pbXBvcnQgeyBTaWduYXR1cmVDb21wb25lbnQgfSBmcm9tICcuLi9zaWduYXR1cmUvc2lnbmF0dXJlLmNvbXBvbmVudCc7XHJcblxyXG5AQ29tcG9uZW50KHtcclxuICBzZWxlY3RvcjogJ3dmLXNpZ24taGVyZScsXHJcbiAgdGVtcGxhdGVVcmw6ICcuL3NpZ24taGVyZS5jb21wb25lbnQuaHRtbCcsXHJcbiAgc3R5bGVVcmxzOiBbJy4vc2lnbi1oZXJlLmNvbXBvbmVudC5jc3MnXVxyXG59KVxyXG5leHBvcnQgY2xhc3MgU2lnbkhlcmVDb21wb25lbnQgaW1wbGVtZW50cyBPbkluaXQge1xyXG5cclxuICBAVmlld0NoaWxkKFNpZ25hdHVyZUNvbXBvbmVudCkgc2lnbmF0dXJlUGFkOiBTaWduYXR1cmVDb21wb25lbnQ7XHJcbiAgQFZpZXdDaGlsZCgnY2FudmFzdGl0bGUnKSBwdWJsaWMgY2FudmFzRGl2OiBFbGVtZW50UmVmO1xyXG5cclxuICAvLyDmipvlh7rpgInkuK3nmoTkuovku7ZcclxuICBASW5wdXQoKSBpbWFnZVR5cGUgPSBcImltYWdlL3BuZ1wiO1xyXG4gIEBJbnB1dCgpIGltYWdlUXVhbGl0eSA9IDE7XHJcbiAgQElucHV0KCkgdGl0bGU9J+ivt+WvueWuoeaJueaEj+ingei/m+ihjOetvuWtl+ehruiupCc7XHJcbiAgQElucHV0KCkgaW1hZ2U7XHJcbiAgaXNEcmF3ID0gZmFsc2U7XHJcblxyXG4gIFxyXG5cclxuICBzaWduYXR1cmVQYWRPcHRpb25zOiBPYmplY3QgPSB7IC8vIHBhc3NlZCB0aHJvdWdoIHRvIHN6aW1lay9zaWduYXR1cmVfcGFkIGNvbnN0cnVjdG9yXHJcbiAgICAnbWluV2lkdGgnOiAxLFxyXG4gICAgJ2NhbnZhc1dpZHRoJzogNTAwLFxyXG4gICAgJ2NhbnZhc0hlaWdodCc6IDI0MFxyXG4gIH07XHJcblxyXG4gIGNvbnN0cnVjdG9yKCkgeyB9XHJcblxyXG4gIG5nT25Jbml0KCkge1xyXG4gIH1cclxuXHJcbiAgbmdBZnRlclZpZXdJbml0KCkge1xyXG4gICAgLy8gdGhpcy5zaWduYXR1cmVQYWQgaXMgbm93IGF2YWlsYWJsZVxyXG4gICAgdGhpcy5zaWduYXR1cmVQYWQuc2V0KCdtaW5XaWR0aCcsIDEpOyAvLyBzZXQgc3ppbWVrL3NpZ25hdHVyZV9wYWQgb3B0aW9ucyBhdCBydW50aW1lXHJcbiAgICB0aGlzLnNpZ25hdHVyZVBhZC5zZXQoJ2NhbnZhc1dpZHRoJywgdGhpcy5jYW52YXNEaXYubmF0aXZlRWxlbWVudC5jbGllbnRXaWR0aCk7XHJcbiAgICB0aGlzLnNpZ25hdHVyZVBhZC5jbGVhcigpOyAvLyBpbnZva2UgZnVuY3Rpb25zIGZyb20gc3ppbWVrL3NpZ25hdHVyZV9wYWQgQVBJXHJcbiAgICB0aGlzLnNpZ25hdHVyZVBhZC5zZXRJbWFnZUJhY2tncm91bmQoKTtcclxuICAgIGlmKHRoaXMuaW1hZ2Upe1xyXG4gICAgICBjb25zdCBpbWcgPSBuZXcgSW1hZ2UoKTtcclxuICAgICAgaW1nLnNyYz10aGlzLmltYWdlO1xyXG4gICAgICB0aGlzLnNpZ25hdHVyZVBhZC5zZXRCYWNrZ3JvdW5kSW1hZ2UoaW1nKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGNvbmZpcm0oKSB7XHJcbiAgICBjb25zb2xlLmxvZyh0aGlzLnNpZ25hdHVyZVBhZC50b0RhdGFVUkwodGhpcy5pbWFnZVR5cGUsdGhpcy5pbWFnZVF1YWxpdHkpKTtcclxuICAgIC8vdGhpcy5zaWduYXR1cmVQYWQuc2V0V2F0ZXJNYXJrKG5ldyBEYXRlKCkpO1xyXG4gICAgcmV0dXJuIHRoaXMuc2lnbmF0dXJlUGFkLnRvRGF0YVVSTCh0aGlzLmltYWdlVHlwZSx0aGlzLmltYWdlUXVhbGl0eSk7XHJcbiAgfVxyXG4gIHJlc2V0KCkge1xyXG4gICAgdGhpcy5zaWduYXR1cmVQYWQuY2xlYXIoKTtcclxuICAgIHRoaXMuc2lnbmF0dXJlUGFkLnNldEltYWdlQmFja2dyb3VuZCgpO1xyXG4gICAgdGhpcy5pc0RyYXc9ZmFsc2U7XHJcbiAgfVxyXG5cclxuICBkcmF3Q29tcGxldGUoKSB7XHJcbiAgICB0aGlzLmlzRHJhdz10cnVlO1xyXG4gICAgLy8gd2lsbCBiZSBub3RpZmllZCBvZiBzemltZWsvc2lnbmF0dXJlX3BhZCdzIG9uRW5kIGV2ZW50XHJcbiAgICAvL2NvbnNvbGUubG9nKHRoaXMuc2lnbmF0dXJlUGFkLnRvRGF0YVVSTCgpKTtcclxuICB9XHJcblxyXG4gIGRyYXdTdGFydCgpIHtcclxuICAgIC8vIHdpbGwgYmUgbm90aWZpZWQgb2Ygc3ppbWVrL3NpZ25hdHVyZV9wYWQncyBvbkJlZ2luIGV2ZW50XHJcbiAgICBjb25zb2xlLmxvZygnYmVnaW4gZHJhd2luZycpO1xyXG4gIH1cclxuXHJcbiAgLy/orr7nva7og4zmma/lm77niYdcclxuICBpbml0Q2FudmFzQnlJbWFnZShpbWFnZSl7XHJcbiAgICB0aGlzLnNpZ25hdHVyZVBhZC5zZXRCYWNrZ3JvdW5kSW1hZ2UoaW1hZ2UpO1xyXG4gIH1cclxuXHJcbn1cclxuIl19