!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@farris/ui-tabs"),require("@gsp-lcm/bo-tree"),require("@gsp-bef/billcat-tree"),require("@angular/common"),require("@angular/forms"),require("@farris/ui-perfect-scrollbar"),require("@ecp-caf/caf-common"),require("@farris/ui-datagrid")):"function"==typeof define&&define.amd?define("@gsp-wf/wf-biz-navigation",["exports","@angular/core","@farris/ui-tabs","@gsp-lcm/bo-tree","@gsp-bef/billcat-tree","@angular/common","@angular/forms","@farris/ui-perfect-scrollbar","@ecp-caf/caf-common","@farris/ui-datagrid"],t):t((e["gsp-wf"]=e["gsp-wf"]||{},e["gsp-wf"]["wf-biz-navigation"]={}),e.ng.core,e.uiTabs,e.boTree,e.billcatTree,e.ng.common,e.ng.forms,e.uiPerfectScrollbar,e.cafCommon,e.uiDatagrid)}(this,function(e,i,t,r,n,a,o,s,l,c){"use strict";var f={"zh-CHS":{"static":{kind:"业务种类",object:"业务对象",noData:"暂无数据",code:"编码"}},en:{"static":{kind:"business kind",object:"business object",noData:"no data",code:"code"}},"zh-CHT":{"static":{kind:"業務種類",object:"業務對象",noData:"暫無數據",code:"編號"}}},d=(u.prototype.getI18nValue=function(e){if(!e)return"";var t=localStorage.getItem("languageCode"),t=t?f[t]:f["zh-CHS"];return-1===e.indexOf(".")?t[e]:e.split(".").reduce(function(e,t){return e?e[t]:null},t)},u.decorators=[{type:i.Injectable,args:[{providedIn:"root"}]}],u.ctorParameters=function(){return[{type:i.Injector}]},u.ngInjectableDef=i.defineInjectable({factory:function(){return new u(i.inject(i.INJECTOR))},token:u,providedIn:"root"}),u);function u(e){this.injector=e}var p=(g.prototype.transform=function(e,t){void 0===t&&(t="");e=this.service.getI18nValue(e);return e||t},g.decorators=[{type:i.Pipe,args:[{name:"translate"}]}],g.ctorParameters=function(){return[{type:d}]},g);function g(e){this.service=e}var b=(m.prototype.ngOnInit=function(){this.getBillcategoriesByExtend()},m.prototype.ngAfterViewInit=function(){},m.prototype.tabChange=function(e){this.tab=e.nextId},m.prototype.boTreeSelectionChanged=function(e){e.data&&"1"===e.data.isDetail&&(this.bizObject.emit(e={type:"bo",nodeInfo:e}),this.selectNodeEmitter.emit(e))},m.prototype.billCategorySelectionChanged=function(e){e&&e.detail&&(this.bizCategory.emit(e={type:"bill",nodeInfo:e}),this.selectNodeEmitter.emit(e))},m.prototype.getBillcategoriesByExtend=function(){var t=this;this.http.get("/api/runtime/bcc/v1.0/billcategory/billcategoriesByExtend?allextends=false&customconfig=processAssignManager").subscribe(function(e){e&&(t.data=e)})},m.decorators=[{type:i.Component,args:[{selector:"wf-biz-navigation",template:'\r\n<farris-tabs #tabs [value]="tab" [fill]="true" [contentFill]="true" (tabChange)="tabChange($event)"\r\n    class="f-utils-fill h-100" style="background: #fff;">\r\n    <farris-tab [title]="\'static.kind\' | translate" [id]="\'billCategory\'" class="f-utils-fill h-100">\x3c!--title="业务种类"--\x3e\r\n        <ng-template #content>\r\n            <div *ngIf="data.length>0; else empty" class="f-utils-flex-column h-100">\r\n                <perfect-scrollbar [config]="{}">\r\n                    <billcat-tree [data]="data" [config]="config"\r\n                        (selectNodeEmitter)="billCategorySelectionChanged($event)">\r\n                    </billcat-tree>\r\n                </perfect-scrollbar>\r\n            </div>\r\n        </ng-template>\r\n    </farris-tab>\r\n    <farris-tab [title] = "\'static.object\' | translate" [id]="\'bizObject\'" class="f-utils-fill h-100">\x3c!--title="业务对象"--\x3e\r\n        <ng-template #content>\r\n            <div class = "f-utils-flex-column h-100" style="position: relative;">\r\n                <app-bo-tree-panel (selectionChanged)="boTreeSelectionChanged($event)" [showIcon]="true">\r\n                </app-bo-tree-panel>\r\n            </div>\r\n        </ng-template>\r\n    </farris-tab>\r\n</farris-tabs>\r\n\r\n<ng-template #empty>\r\n    <div class="f-utils-fill-flex-column h-100">\r\n        <div class="f-datagrid-norecords" style="height: 100%;">\r\n            <div class="f-datagrid-norecords-content" style="width: 310px;">{{\'static.noData\' | translate}}</div>\r\n        </div>\r\n    </div>\r\n</ng-template>\r\n\r\n',styles:[""]}]}],m.ctorParameters=function(){return[{type:i.Injector},{type:l.HttpService},{type:p}]},m.propDecorators={selectNodeEmitter:[{type:i.Output}],bizObject:[{type:i.Output}],bizCategory:[{type:i.Output}],tab:[{type:i.Input}],billcat:[{type:i.ViewChild,args:[n.BillcatTreeComponent]}]},m);function m(e,t,r){this.injector=e,this.http=t,this.translate=r,this.selectNodeEmitter=new i.EventEmitter,this.bizObject=new i.EventEmitter,this.bizCategory=new i.EventEmitter,this.tab="billCategory",this.data=new Array,this.config={expandLevel:1},this.emptyData=new Array,this.emptyCols=[{field:"code",width:100,title:this.translate.transform("static.code")}]}y.decorators=[{type:i.NgModule,args:[{declarations:[b,p],imports:[a.CommonModule,o.FormsModule,t.FarrisTabsModule,r.BOTreePanelPackageModule,n.BillcatTreeModule,s.PerfectScrollbarModule,c.DatagridModule],providers:[l.SessionService,l.HttpService,p],exports:[b]}]}],s=y;function y(){}c=function(){};e.WfBizNavigationService=d,e.WfBizNavigationComponent=b,e.WfBizNavigationModule=s,e.WFBizNavigation=c,e.ɵa=p,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=gsp-wf-wf-biz-navigation.umd.min.js.map