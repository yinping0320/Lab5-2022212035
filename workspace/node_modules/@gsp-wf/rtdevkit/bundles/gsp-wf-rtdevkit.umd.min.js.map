{"version":3,"sources":["ng://@gsp-wf/rtdevkit/lib/runtime/services/i18n/en-us.ts","ng://@gsp-wf/rtdevkit/lib/runtime/services/i18n/index.ts","ng://@gsp-wf/rtdevkit/lib/runtime/services/i18n/zh-cn.ts","ng://@gsp-wf/rtdevkit/lib/runtime/services/i18n.service.ts","ng://@gsp-wf/rtdevkit/lib/submit/process-selector/process-selector.component.ts","ng://@gsp-wf/rtdevkit/lib/runtime/services/task.service.ts","node_modules/tslib/tslib.es6.js","ng://@gsp-wf/rtdevkit/lib/runtime/services/user.service.ts","ng://@gsp-wf/rtdevkit/lib/entity/complete-context.ts","ng://@gsp-wf/rtdevkit/lib/runtime/components/user-helper/user-helper.component.ts","ng://@gsp-wf/rtdevkit/lib/runtime/components/task-signadd/task-signadd.component.ts","ng://@gsp-wf/rtdevkit/lib/runtime/wf-workitem-handle/wf-workitem-handle.component.ts","ng://@gsp-wf/rtdevkit/lib/runtime/components/task-assign/task-assign.component.ts","ng://@gsp-wf/rtdevkit/lib/runtime/components/task-transfer/task-transfer.component.ts","ng://@gsp-wf/rtdevkit/lib/entity/interaction-response.ts","ng://@gsp-wf/rtdevkit/lib/submit/assign-participant/assign-participant.component.ts","ng://@gsp-wf/rtdevkit/lib/submit/service/wf-submite.service.ts","ng://@gsp-wf/rtdevkit/lib/runtime/services/translate.pipe.ts","ng://@gsp-wf/rtdevkit/lib/wf-runtime.module.ts","ng://@gsp-wf/rtdevkit/lib/entity/excution-response.ts","ng://@gsp-wf/rtdevkit/lib/entity/workitem-action.ts"],"names":["translate","zh-CHS","static","taskActions","pass","back","refuse","more","viewLog","viewFlowChart","viewBizlog","assignee","title","cancelAssign","noAssignee","successAssign","errorAssign","addsign","selectConsultant","successConsult","cancelSignUp","transfer","selectHandover","successTransfer","columnName","name","code","department","organization","prcessName","version","common","placeHolder","submit","selectProcess","noProcess","inputLabel","inputHolder","selectActivity","addSignee","footOk","footCancel","cueWords","successClaim","successUnClaim","successRetrieve","successPass","successBack","successRefuse","success","en","I18nService","prototype","getValue","indexOf","this","langData","split","reduce","obj","key","Injectable","defaultLang","localStorage","getItem","ProcessSelectorComponent","ngOnInit","btnOKClick","mySelection","length","msgService","warning","i18nService","subject","next","btnCancelClick","subscribe","asObservable","onSelectionChange","data","procDefId","Component","args","selector","template","MessagerService","decorators","type","Optional","HostBinding","cls","columns","field","width","idField","Subject","TaskService","getWorkItemActions","workItemId","url","httpSvc","get","excuteTask","taskId","context","post","getDestinationScope","action","getActionEntity","addSign","getAppInfo","formParUrl","getBpmnModelbyWorkItemId","workitemId","getAllActiInstsbyTaskId","id","getActivityInstanceLogs","actInstId","getBizlogByTaskId","logUrl","getAssigneeInfo","assignNextUsersByProcInstId","assigneesPa","assignNextUsersByWorkItemId","retrieve","transferContext","claim","options","unClaim","HttpService","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__extends","__","constructor","create","__assign","assign","t","s","i","n","arguments","call","apply","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","value","step","e","rejected","result","done","then","__generator","body","f","y","g","_","label","sent","trys","ops","verb","throw","return","Symbol","iterator","v","op","TypeError","pop","push","__values","o","m","UserService","getUsersByIds","ids","_this","forkJoin","map","http","getUserList","searchValue","index","size","getUser","getUserList_Assign","withAllOrg","orgId","getUser_Assign","getBatchHeader","sessionId","sessionSvc","getCurrentSeesionId","HttpHeaders","set","toUpperCase","jsonObj","_b","tslib_1.__values","keys","_c","substring","HttpClient","SessionService","CompleteContext","UserHelperComponent","handleOk","Error","handleCancel","completed","emit","showModal","onPageSizeChange","pageSize","paginationOptions","itemsPerPage","onPageChange","event","currentPage","pageIndex","userSvc","re","totalItems","totalCount","userListData","u","ID","Code","Name","OrgId","sysOrgId","OrgName","sysOrgName","Checked","search","encodeURIComponent","notify","show","userDialog","beforeClose","close","NotifyService","ViewChild","Output","pageList","singleSelect","selectedUsers","EventEmitter","tslib_1.__extends","defineProperty","TaskSignaddComponent","addSignContext","assignees","userTable","selections","info","user","taskSvc","error","Message","Input","_super","WfWorkitemHandleComponent","inWorkitemId","trim","refreshActions","parameters","JSON","parse","filter","a","actions","showError","completedEvt","complete","actionCode","comment","r","executeTask","refreshList","sucess","runAddSign","addSignComplete","completeContext","signAssignees","addSignCmp","selectAddSignees","join","hasDefaultBranch","destinationActivityId","cr","commentModal","excutePostEvent","conclusionValue","needInteraction","assigneeInfos","nextFlowNodes","assigneeInfo","initState","destActivities","needAddSign","opinion","actionsTitle","find","act","from","excuteAction","webComponent","showExcuteModal","SelectTargetAble","getDestinationNodes","AddSignBehindAble","nextNodes","des","nodeInfoList","list","forEach","concat","activityDefinitionId","activityDefinitionName","hasDefaultBranchFunc","defaultBranch","displayPlaceholder","getActionWebEventsFunc","_a","preFuncList","this_1","item","func","webCptFunc","postFuncList","this_2","reqMap","postIndex","preIndex","preEvent","_d","_e","pre","funcName","component","req","System","import","cpt","postEvent","_f","_g","reqMap_1","reqMap_1_1","_h","default","height","titles","TaskAssignComponent","execute","assigneeIds","multiSelect","allowGlobalAssign","assigneeUsers","getAssignedUsers","allUserData","orgNamePath","shift","includes","TaskTransferComponent","InteractionResponse","AssignParticipantComponent","procInstId","organizationScope","includeChildren","getAllUserList","load","loadingService","load_1","err","LoadingService","WFSubmiteService","excute","excutionRe","handler","response","message","procDefs","prcesses","modalConfig","showButtons","showMaxButton","modelRef","of","compRef","resolver","resolveComponentFactory","injector","instance","gridData","dialog","modalService","val","processDefinitionId","Injector","ComponentFactoryResolver","BsModalService","TranslatePipe","transform","defaultVal","Pipe","WFRuntimeModule","NgModule","imports","CommonModule","FormsModule","HttpClientModule","DataTableModule","FarrisDialogModule","PaginationModule","NotifyModule","MessagerModule","forRoot","DatagridModule","WFCommentModule","ComboListModule","LoadingModule","declarations","providers","exports","entryComponents","WorkitemAction"],"mappings":"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","sourcesContent":["export const en = {\r\n    static: {\r\n        taskActions: {\r\n            pass: 'Agree',\r\n            back: 'Reject',\r\n            refuse: 'Veto',\r\n            more: 'More',\r\n            viewLog: 'View Log',\r\n            viewFlowChart: 'View FlowChart',\r\n            viewBizlog: 'Approval Log'\r\n        },\r\n        title: 'Approval confirmation',\r\n        inputLabel: 'Approval comments',\r\n        inputHolder: 'Please enter an approval opinion',\r\n        selectActivity: 'Please select approve note',\r\n        addSignee: 'Add signee',\r\n        footOk: 'Ok',\r\n        footCancel: 'Cancel',\r\n        assignee: {\r\n            title: 'Select Operator',\r\n            cancelAssign: 'Cancel to operate.',\r\n            noAssignee: 'Please select at least one approver.',\r\n            successAssign: 'Operate successfully.',\r\n            errorAssign: 'Operation failed, please contact the administrator!'\r\n        },\r\n        addsign: {\r\n            title: 'Select signee',\r\n            selectConsultant: 'Please select persons to consult.',\r\n            successConsult: 'Consult successfully.',\r\n            cancelSignUp: 'Cancel to sign up.'\r\n        },\r\n        transfer: {\r\n            title: 'Select transfer person',\r\n            selectHandover: 'Please select transfer persons.',\r\n            successTransfer: 'Tranfer successfully.'\r\n        },\r\n        columnName: {\r\n            name: 'Name',\r\n            code: 'Code',\r\n            department: 'Department',\r\n            organization: 'Organization',\r\n            prcessName: 'Process',\r\n            version: 'Version'\r\n        },\r\n        common: {\r\n            placeHolder: 'Please enter search name'\r\n        },\r\n        submit: {\r\n            selectProcess: 'Select Process',\r\n            noProcess: 'Process has not been selected.'\r\n        },\r\n    },\r\n    cueWords: {\r\n        successClaim: 'Claim successfully.',\r\n        successUnClaim: 'Cancel to claim successfully.',\r\n        successRetrieve: 'Retrieve successfully.',\r\n        successPass: 'Approved successfully.',\r\n        successBack: 'Dismissed successfully.',\r\n        successRefuse: 'Veto successfully.',\r\n        success: 'Operate successfully.'\r\n    }\r\n};\r\n","import { en } from './en-us';\r\nimport { cn } from './zh-cn';\r\n\r\nexport const translate = {\r\n    'zh-CHS': cn,\r\n    en\r\n};\r\n","export const cn = {\r\n    static: {\r\n        taskActions: {\r\n            pass: 'éè¿',\r\n            back: 'é©³å',\r\n            refuse: 'å¦å³',\r\n            more: 'æ´å¤',\r\n            viewLog: 'å®¡æ¹æ¥å¿',\r\n            viewFlowChart: 'æ¥çæµç¨',\r\n            viewBizlog: 'å®¡æ¹æ¥å¿'\r\n        },\r\n        assignee: {\r\n            title: 'è¯·éæ©ç¨æ·',\r\n            cancelAssign: 'å·²åæ¶æä½ã',\r\n            noAssignee: 'è¯·è³å°éæ©ä¸ä¸ªå®¡æ¹äººã',\r\n            successAssign: 'æä½æåã',\r\n            errorAssign: 'æä½å¤±è´¥ï¼è¯·èç³»ç®¡çåæ¥çåå ï¼'\r\n        },\r\n        addsign: {\r\n            title: 'è¯·éæ©ç¨æ·',\r\n            selectConsultant: 'è¯·éæ©ç¨æ·ã',\r\n            successConsult: 'å¾è¯¢æåã',\r\n            cancelSignUp: 'å·²åæ¶ã'\r\n        },\r\n        transfer: {\r\n            title: 'è¯·éæ©ç¨æ·',\r\n            selectHandover: 'è¯·éæ©ç¨æ·ã',\r\n            successTransfer: 'ä»»å¡ç§»äº¤æåã'\r\n        },\r\n        columnName: {\r\n            name: 'åç§°',\r\n            code: 'ç¼å·',\r\n            department: 'ç»ç»ä¿¡æ¯',\r\n            organization: 'ç»ç»',\r\n            prcessName: 'æµç¨åç§°',\r\n            version: 'çæ¬'\r\n        },\r\n        common: {\r\n            placeHolder: 'è¯·è¾å¥'\r\n        },\r\n        submit: {\r\n            selectProcess: 'éæ©æµç¨',\r\n            noProcess: 'è¯·éæ©æµç¨'\r\n        },\r\n        title: 'å®¡æ¹ç¡®è®¤',\r\n        inputLabel: 'å®¡æ¹æè§',\r\n        inputHolder: 'è¯·è¾å¥å®¡æ¹æè§',\r\n        selectActivity: 'ç®æ èç¹',\r\n        addSignee: 'å ç­¾äººå',\r\n        footOk: 'ç¡®å®',\r\n        footCancel: 'åæ¶',\r\n    },\r\n    cueWords: {\r\n        successClaim: 'é¢ç¨æåã',\r\n        successUnClaim: 'åæ¶é¢ç¨æåã',\r\n        successRetrieve: 'ä»»å¡ååæåã',\r\n        successPass: 'å®¡æ¹éè¿ã',\r\n        successBack: 'é©³åæåã',\r\n        successRefuse: 'å¦å³æåã',\r\n        success: 'æä½æå'\r\n    }\r\n};\r\n","import { Pipe, PipeTransform, Injectable } from '@angular/core';\r\nimport { Observable, of } from 'rxjs';\r\nimport { translate } from './i18n/index';\r\n\r\n@Injectable()\r\nexport class I18nService {\r\n    defaultLang: string;\r\n    langData: any;\r\n    constructor() {\r\n        this.defaultLang = localStorage.getItem('languageCode');\r\n        if (!this.defaultLang) {\r\n            this.langData = translate['zh-CHS'];\r\n        } else {\r\n            this.langData = translate[this.defaultLang];\r\n        }\r\n    }\r\n\r\n    getValue(name: string): any {\r\n        if (!name) {\r\n            return '';\r\n        }\r\n        let resultVal = '';\r\n        if (name.indexOf('.') === -1) {\r\n            resultVal = this.langData[name];\r\n        } else {\r\n            resultVal = name.split('.').reduce((obj, key) => {\r\n                if (obj) {\r\n                    return obj[key];\r\n                } else {\r\n                    return null;\r\n                }\r\n            }, this.langData);\r\n        }\r\n        return resultVal;\r\n    }\r\n}\r\n","import { Component, OnInit, HostBinding, Optional } from '@angular/core';\r\nimport { Observable, Subject } from 'rxjs';\r\nimport { ProcessDefinition } from '../../entity/processdefinition';\r\nimport { BehaviorSubject } from 'rxjs';\r\nimport { MessagerService } from '@farris/ui-messager';\r\nimport { I18nService } from '../../runtime/services/i18n.service';\r\n\r\n@Component({\r\n  selector: 'wf-process-selector',\r\n  templateUrl: './process-selector.component.html',\r\n  styleUrls: ['./process-selector.component.css']\r\n})\r\nexport class ProcessSelectorComponent implements OnInit {\r\n  @HostBinding('class')\r\n  cls = 'farris-main-area flex-column';\r\n\r\n  gridData: ProcessDefinition[];\r\n  columns = [\r\n    { title: this.i18nService ? this.i18nService.getValue('static.columnName.prcessName') : 'æµç¨åç§°', field: 'procDefName', width: 200 },\r\n    { title: this.i18nService ? this.i18nService.getValue('static.columnName.version') : 'çæ¬', field: 'version', width: 100 }];\r\n  idField = 'procDefId';\r\n  mySelection: string[] = [];\r\n\r\n  private subject = new Subject<string>();\r\n  constructor(\r\n    private msgService: MessagerService,\r\n    @Optional() private i18nService: I18nService\r\n    ) {\r\n  }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  btnOKClick() {\r\n    if (this.mySelection.length < 1) {\r\n      this.msgService.warning(this.i18nService ? this.i18nService.getValue('static.submit.noProcess') : 'å°æªéæ©æµç¨å®ä¹ï¼è¯·äºè§£ã');\r\n      return;\r\n    }\r\n    this.subject.next(this.mySelection[0]);\r\n  }\r\n  btnCancelClick() {\r\n    this.subject.next(null);\r\n  }\r\n\r\n  subscribe(): Observable<string> {\r\n    return this.subject.asObservable();\r\n  }\r\n\r\n  onSelectionChange(data) {\r\n    if (data && data.data) {\r\n      this.mySelection = [data.data.procDefId];\r\n    } else {\r\n      this.mySelection = [];\r\n    }\r\n  }\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpService } from '@ecp-caf/caf-common';\r\nimport { Observable } from 'rxjs';\r\nimport { AssigneeInfoByProcInstIdParameter, CompleteContext } from '../../entity';\r\nimport { AssigneeInfoByWorkItemIdParameter } from '../../entity/complete-response';\r\n\r\n@Injectable()\r\nexport class TaskService {\r\n\r\n    constructor(\r\n        private httpSvc: HttpService\r\n    ) { }\r\n    /**\r\n     * è·åå·¥ä½é¡¹æä½åè¡¨\r\n     */\r\n    getWorkItemActions(workItemId: string): Observable<any> {\r\n        const url = `/api/runtime/wf/v1.0/workItems/${workItemId}/actions`;\r\n\r\n        return this.httpSvc.get(url);\r\n    }\r\n\r\n    /**\r\n     * æ§è¡å®¡æ¹æä½\r\n     * @param taskId ä»»å¡Id\r\n     * @param context æ§è¡å®¡æ¹ä¸ä¸æ\r\n     */\r\n    excuteTask(taskId: string, context: CompleteContext): Observable<any> {\r\n        const url = `/api/runtime/wf/v1.0/workItems/complete`;\r\n        context.workItemId = taskId;\r\n        const options = {\r\n            excuteParam: context\r\n        };\r\n        return this.httpSvc.post(url, context);\r\n    }\r\n\r\n    /**\r\n     * è·åè·³è½¬æ´»å¨ä¿¡æ¯\r\n     * @param workItemId å·¥ä½é¡¹Id\r\n     * @param action å¨ä½ç¼å·\r\n     */\r\n    getDestinationScope(workItemId: string, action: string): Observable<any> {\r\n        const url = `/api/runtime/wf/v1.0/workItems/${workItemId}/nextNodes/${action}`;\r\n        return this.httpSvc.get(url);\r\n    }\r\n    /**\r\n     * è·åå¨ä½å®ä½è¿èè·åwebå®ç°åååäºä»¶\r\n     * @param taskId ä»»å¡ID\r\n     * @param action å¨ä½ç¼å·\r\n     */\r\n    getActionEntity(taskId: string, action: string): Observable<any> {\r\n        const url = `/api/runtime/wf/v1.0/approvalAction?code=${action}`;\r\n\r\n        return this.httpSvc.get(url);\r\n    }\r\n\r\n    /**\r\n     * æ§è¡å ç­¾æä½\r\n     * @param context å ç­¾ä¸ä¸æ\r\n     */\r\n    addSign(context: any): Observable<any> {\r\n        const url = `/api/runtime/wf/v1.0/workItems/counterSignAdd`;\r\n        const body = {\r\n            excuteParam: context\r\n        };\r\n        return this.httpSvc.post(url, context);\r\n    }\r\n\r\n    /**\r\n     * æ¥è¯¢åæ®ä¿¡æ¯\r\n     * @param workItemId å·¥ä½é¡¹Id\r\n     */\r\n    getAppInfo(workItemId: string): Observable<any> {\r\n        const formParUrl = `/api/runtime/wf/v1.0/workItems/${workItemId}/formInfo`;\r\n        return this.httpSvc.get(formParUrl);\r\n    }\r\n    //#region æ¥çæµç¨\r\n    /**\r\n     * åºäºå·¥ä½é¡¹IDè·åbpmnModel\r\n     * @param workitemId å·¥ä½é¡¹id\r\n     */\r\n    getBpmnModelbyWorkItemId(workitemId: string): Observable<any> {\r\n        const url = `/api/runtime/wf/v1.0/workItems/${workitemId}/bpmnModel`;\r\n        return this.httpSvc.get(url);\r\n    }\r\n    /**\r\n     * åºäºå·¥ä½é¡¹Idè·åæææ´»å¨å®ä¾\r\n     * @param id taskId\r\n     */\r\n    getAllActiInstsbyTaskId(id: string): Observable<any> {\r\n        const url = `/api/runtime/wf/v1.0/workItems/activityInstanceSlims?workItemId=${id}`;\r\n\r\n        return this.httpSvc.get(url);\r\n    }\r\n    /**\r\n     * åºäºæ´»å¨å®ä¾Idè·åæ¥å¿\r\n     * @param actInstId æ´»å¨å®ä¾Id\r\n     */\r\n    getActivityInstanceLogs(actInstId: string): Observable<any> {\r\n        const url = `/api/runtime/wf/v1.0/workItems/activityInstanceLogs?activityInstanceId=${actInstId}`;\r\n\r\n        return this.httpSvc.get(url);\r\n    }\r\n\r\n    /**\r\n     * è·åå®¡æ¹æ¥å¿ä¿¡æ¯\r\n     * @param taskId å·¥ä½é¡¹Id\r\n     */\r\n    getBizlogByTaskId(taskId: string): Observable<any> {\r\n        const logUrl = `/api/runtime/wf/v1.0/workItems/${taskId}/fullComments`;\r\n        // if (false === environment.production) {\r\n        //     logUrl = '/assets/mock/taskbizlog.json';\r\n        // }\r\n        return this.httpSvc.get(logUrl);\r\n    }\r\n    //#endregion\r\n    /**\r\n     * è·åææ´¾ä¿¡æ¯\r\n     * @param taskId å·¥ä½é¡¹Id\r\n     */\r\n    getAssigneeInfo(taskId: string): Observable<any> {\r\n        const url = `/api/runtime/wf/v1.0/workItems/${taskId}/assigneeInfo`;\r\n        return this.httpSvc.get(url);\r\n    }\r\n\r\n    /**\r\n     * æ ¹æ®æµç¨å®ä¾Idæ¹éææ´¾ï¼æäº¤å®¡æ¹ææ§è¡å®¡æ¹åææ´¾å¼¹æ¡è°ç¨ï¼_åç»­è°æ´ä¸å·¥ä½é¡¹çä¸è´_ï¼\r\n     * @param assigneesPa ææ´¾åæ°\r\n     */\r\n    assignNextUsersByProcInstId(assigneesPa: AssigneeInfoByProcInstIdParameter): Observable<any> {\r\n        const url = `/api/runtime/wf/v1.0/processInstances/assignNextUsers`;\r\n        const body = {\r\n            assigneeInfoParameter: assigneesPa\r\n        };\r\n        return this.httpSvc.post(url, assigneesPa);\r\n    }\r\n    /**\r\n     * æ ¹æ®å·¥ä½é¡¹IDææ´¾ä»»å¡\r\n     * @param assigneesPa ææ´¾åæ°\r\n     */\r\n    assignNextUsersByWorkItemId(assigneesPa: AssigneeInfoByWorkItemIdParameter): Observable<any> {\r\n        const url = `/api/runtime/wf/v1.0/workItems/assignUser`;\r\n        const body = {\r\n            assigneeInfoParameter: assigneesPa\r\n        };\r\n        return this.httpSvc.post(url, assigneesPa);\r\n    }\r\n\r\n    /**\r\n     * åå\r\n     * @param workItemId task id\r\n     * @param comment comment\r\n     */\r\n    retrieve(context: { workItemId: string, comment?: string }): Observable<any> {\r\n        const url = `/api/runtime/wf/v1.0/workItems/retrieve`;\r\n\r\n        const body = {\r\n            excuteParam: context\r\n        };\r\n        return this.httpSvc.post(url, context);\r\n    }\r\n    /**\r\n     * ä»»å¡ç§»äº¤\r\n     * @param taskId å·¥ä½é¡¹Id\r\n     * @param targetUId ç®æ ç¨æ·Id\r\n     */\r\n    transfer(transferContext: any): Observable<any> {\r\n        const url = `/api/runtime/wf/v1.0/workItems/transfer`;\r\n        const body = {\r\n            excuteParam: transferContext\r\n        };\r\n        return this.httpSvc.post(url, transferContext);\r\n    }\r\n    //#region  ä»»å¡é¢ç¨\r\n    /**\r\n     * é¢ç¨ä»»å¡\r\n     * @param taskId å·¥ä½é¡¹Id\r\n     */\r\n    claim(taskId: string): Observable<any> {\r\n        const url = `/api/runtime/wf/v1.0/workItems/claim`;\r\n        const options = {\r\n            workItemId: taskId\r\n        };\r\n        return this.httpSvc.post(url, options);\r\n    }\r\n\r\n    /**\r\n     * åæ¶é¢ç¨\r\n     * @param taskId ä»»å¡Id\r\n     */\r\n    unClaim(taskId: string): Observable<any> {\r\n        const url = `/api/runtime/wf/v1.0/workItems/unclaim`;\r\n        const options = {\r\n            workItemId: taskId\r\n        };\r\n        return this.httpSvc.post(url, options);\r\n    }\r\n    //#endregion\r\n}\r\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\r\n            t[p[i]] = s[p[i]];\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\r\nimport { SessionService, HttpService } from '@ecp-caf/caf-common';\r\nimport { forkJoin } from 'rxjs';\r\n\r\n@Injectable()\r\nexport class UserService {\r\n\r\n  constructor(\r\n    private http: HttpClient,\r\n    private httpSvc: HttpService,\r\n    private sessionSvc: SessionService,\r\n  ) { }\r\n\r\n  getUsersByIds(ids: string[]): Observable<any> {\r\n    var pathUrl = '/api/runtime/sys/v1.0/users';\r\n    return forkJoin(ids.map(id => this.http.get(pathUrl + `/${id}` + `?mode=0002`)));//modeç¨äºè·åç»ç»å¨è·¯å¾\r\n  }\r\n\r\n  getUserList(searchValue: string, index: number, size: number): Observable<any> {\r\n    if (searchValue) {\r\n      return this.getUser('codeorname', searchValue, index, size);\r\n    } else {\r\n      return this.getUser('', '', index, size);\r\n    }\r\n  }\r\n\r\n  private getUser(field: string, value: string, index: number, size: number): Observable<any> {\r\n    let url = `/api/runtime/sys/v1.0/users`;\r\n    url += field ? \r\n      `?param={\"notGetCurrentUser\":false,\"pageIndex\":${index},\"pageSize\":${size},\"${field}\":'${value}',\"orderField\":\"order\", \"withAllOrg\": \"true\", \"queryMode\":\"0002\"}` :\r\n      `?param={\"notGetCurrentUser\":false,\"pageIndex\":${index},\"pageSize\":${size},\"orderField\":\"order\", \"withAllOrg\": \"true\", \"queryMode\":\"0002\"}`;\r\n    return this.httpSvc.get(url);\r\n  }\r\n\r\n  getUserList_Assign(searchValue: string, index: number, size: number, withAllOrg?: boolean, orgId?: string): Observable<any> {\r\n    if (searchValue) {\r\n      return this.getUser_Assign('codeorname', searchValue, index, size, withAllOrg, orgId);\r\n    } else {\r\n      return this.getUser_Assign('', '', index, size, withAllOrg, orgId);\r\n    }\r\n  }\r\n\r\n  private getUser_Assign(field: string, value: string, index: number, size: number, withAllOrg: boolean, orgId: string): Observable<any> {\r\n    let url = `/api/runtime/sys/v1.0/users`;\r\n    url += field ? \r\n      `?param={\"notGetCurrentUser\":false,\"pageIndex\":${index},\"pageSize\":${size},\"${field}\":'${value}',\"orderField\":\"order\", \"withAllOrg\": \"true\", \"queryMode\":\"0002\"}` :\r\n      `?param={\"notGetCurrentUser\":false,\"pageIndex\":${index},\"pageSize\":${size},\"orderField\":\"order\", \"withAllOrg\":'${withAllOrg}',\"orgId\":'${orgId}', \"queryMode\":\"0002\"}`;\r\n    return this.httpSvc.get(url);\r\n  }\r\n\r\n  /**\r\n   * æé Header\r\n   */\r\n  private getBatchHeader(): any {\r\n    const sessionId = this.sessionSvc.getCurrentSeesionId();\r\n    const headers = new HttpHeaders().set('SessionId', sessionId).set('Accept', 'application/json');\r\n    // æ­¤å¤keyå¿é¡»æ¯headers\r\n    return headers;\r\n  }\r\n\r\n  /**\r\n   * è½¬æ¢éç½®å¤§å°å\r\n   * @param jsonObj Object\r\n   */\r\n  toUpperCase(jsonObj: object): any {\r\n    if (typeof (jsonObj) === 'object') {\r\n      for (const key of Object.keys(jsonObj)) {\r\n        jsonObj[key.substring(0, 1).toUpperCase() + key.substring(1)] = jsonObj[key];\r\n        delete (jsonObj[key]);\r\n      }\r\n    }\r\n    return jsonObj;\r\n  }\r\n}\r\n","export class CompleteContext {\r\n    // å·¥ä½é¡¹ID\r\n    workItemId: string;\r\n    // Pass:éè¿ Back:é©³å Refuse:æç» ä»¥åèªå®ä¹ï¼æ¥èªAction.Code\r\n    conclusionValue: string;\r\n    // å®¡æ¹æè§\r\n    comment: string;\r\n    // å ç­¾äºº\r\n    signAssignees: string[];\r\n    // è·³è½¬æ´»å¨\r\n    destinationActivityId: string;\r\n}\r\n","import { Component, OnInit, ViewChild, Optional, Output, EventEmitter } from '@angular/core';\r\nimport { UserService } from '../../services/user.service';\r\nimport { PaginationInstance } from '@farris/ui-pagination';\r\nimport { DataTableComponent } from '@farris/ui-datatable';\r\nimport { NotifyService } from '@farris/ui-notify';\r\nimport { DialogComponent } from '@farris/ui-dialog';\r\nimport { I18nService } from '../../services/i18n.service';\r\n\r\n@Component({\r\n  selector: 'wf-user-helper',\r\n  templateUrl: './user-helper.component.html',\r\n  styleUrls: ['./user-helper.component.css']\r\n})\r\nexport class UserHelperComponent implements OnInit {\r\n\r\n  private pageList = [10, 20, 30, 50, 100];\r\n  paginationOptions: PaginationInstance = {\r\n    id: 'WF-Users-DataTable-Pagination',\r\n    currentPage: 1,\r\n    itemsPerPage: 10,\r\n    pageList: this.pageList,\r\n    totalItems: 0\r\n  };\r\n  columns = [\r\n    { title: this.i18nService ? this.i18nService.getValue('static.columnName.code') : 'ç¼å·', field: 'Code', width: 80 },\r\n    { title: this.i18nService ? this.i18nService.getValue('static.columnName.name') : 'å§å', field: 'Name', width: 90 },\r\n    { title: this.i18nService ? this.i18nService.getValue('static.columnName.department') : 'é¨é¨', field: 'OrgName', width: 200 }];\r\n\r\n  searchValue = null;\r\n  userListData = [];\r\n  // æ¯å¦åè®¸å¤é,é»è®¤å¤é\r\n  singleSelect = false;\r\n  selectedUsers: {\r\n    ID: string,\r\n    Code: string,\r\n    Name: string,\r\n    OrgId: string,\r\n    OrgName: string\r\n  }[] = [];\r\n  @ViewChild('allUserTable') userTable: DataTableComponent;\r\n  @ViewChild('allUserDialog') userDialog?: DialogComponent;\r\n  constructor(\r\n    @Optional() protected i18nService: I18nService,\r\n    protected userSvc: UserService,\r\n    protected notify?: NotifyService,\r\n  ) { }\r\n\r\n  @Output()\r\n  completed = new EventEmitter<boolean>();\r\n  \r\n  ngOnInit() {\r\n  }\r\n\r\n  handleOk(): void {\r\n    throw new Error('æ²¡æå®ç°ï¼éè¦å­ç»ä»¶å®ç°');\r\n  }\r\n\r\n  handleCancel(): void {\r\n    this.completed.emit(false);\r\n    this.showModal(false);\r\n  }\r\n\r\n  onPageSizeChange(pageSize) {\r\n    this.paginationOptions.itemsPerPage = pageSize;\r\n    this.getUserList();\r\n  }\r\n\r\n  onPageChange(event) {\r\n    this.paginationOptions.currentPage = event.pageIndex;\r\n    this.getUserList();\r\n  }\r\n\r\n  protected getUserList() {\r\n    this.userSvc.getUserList(this.searchValue, this.paginationOptions.currentPage, this.paginationOptions.itemsPerPage)\r\n      .subscribe((re: { totalCount: number, data: any[] }) => {\r\n        this.paginationOptions.totalItems = re.totalCount;\r\n        this.userListData = re.data.map(u => ({\r\n          ID: u.id,\r\n          Code: u.code,\r\n          Name: u.name,\r\n          OrgId: u.sysOrgId,\r\n          OrgName: u.sysOrgName,\r\n          Checked: false\r\n        }));\r\n    });\r\n  }\r\n\r\n  search(event) {\r\n    this.paginationOptions.currentPage = 1;\r\n    this.searchValue = encodeURIComponent(event.value);\r\n\r\n    if (event.field === '*') {\r\n      this.getUserList();\r\n    } else if (event.field === 'Name') {\r\n      this.getUserList();\r\n    } else {\r\n      this.notify.warning('åªæ¯æç¨æ·åç§°è¿æ»¤ï¼');\r\n    }\r\n  }\r\n\r\n  protected showModal(show: boolean): void {\r\n    if (show) {\r\n      this.userDialog.show();\r\n      this.getUserList();\r\n    } else {\r\n      // ä¸´æ¶å¤çæ¹æ¡\r\n      if (this.userDialog.beforeClose) {\r\n        this.userDialog.close();\r\n      }\r\n    }\r\n  }\r\n}\r\n","import { Component, OnInit, Input, Output, EventEmitter } from '@angular/core';\r\nimport { UserHelperComponent } from '../user-helper/user-helper.component';\r\nimport { TaskService } from '../../services/task.service';\r\nimport { UserService } from '../../services/user.service';\r\nimport { NotifyService } from '@farris/ui-notify';\r\nimport { I18nService } from '../../services/i18n.service';\r\n\r\n@Component({\r\n  selector: 'wf-task-signadd',\r\n  templateUrl: '../user-helper/user-helper.component.html',\r\n  styleUrls: ['./task-signadd.component.css']\r\n})\r\nexport class TaskSignaddComponent extends UserHelperComponent implements OnInit {\r\n\r\n  @Input()\r\n  public set addsign_context(context: any) {\r\n    this.selectedUsers = [];\r\n    this.addSignContext = { ...context, assignees: [] };\r\n    this.showModal(!!this.addSignContext.workItemId);\r\n  }\r\n  @Output()\r\n  completed = new EventEmitter<any>();\r\n\r\n  // æ§è¡å ç­¾ä¸ä¸æåæ°\r\n  addSignContext: {\r\n    workItemId: string,\r\n    action: 'AddSignFront' | 'AddSignBehind',\r\n    assignees: string[],\r\n    comment: ''// TODO: å ç­¾æ¥å¿\r\n  };\r\n  constructor(\r\n    private taskSvc: TaskService,\r\n    protected userSvc: UserService,\r\n    protected notify: NotifyService,\r\n    protected i18nService: I18nService\r\n  ) {\r\n    super(i18nService, userSvc);\r\n    this.paginationOptions.id = 'WF-SignAdd-DataTable-Pagination';\r\n  }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  handleOk(): void {\r\n    this.selectedUsers = this.userTable.selections;\r\n    // å¾è¯¢\r\n    if (this.addSignContext.action === 'AddSignFront') {\r\n      // éè¦æ ¡éªéä¸­ç¨æ·\r\n      if (!this.selectedUsers || this.selectedUsers.length < 1) {\r\n        this.notify.info(this.i18nService.getValue('static.addsign.selectConsultant'));\r\n        return;\r\n      }\r\n      this.addSignContext.assignees = this.selectedUsers.map(user => user.ID);\r\n      this.taskSvc.addSign(this.addSignContext).subscribe(() => {\r\n        this.notify.success(this.i18nService.getValue('static.addsign.successConsult'));\r\n        this.completed.emit(true);\r\n        this.showModal(false);\r\n      }, error => {\r\n        if(error && error.error && error.error.Message) {\r\n          this.notify.error(error.error.Message);\r\n        }\r\n      });\r\n    } else {\r\n      // å ç­¾\r\n      this.completed.emit(true);\r\n      this.showModal(false);\r\n    }\r\n  }\r\n\r\n}\r\n","import { Component, OnInit, Input, Output, EventEmitter, ViewChild } from '@angular/core';\r\nimport { TaskService } from '../services/task.service';\r\nimport { WorkitemAction } from '../../entity/workitem-action';\r\nimport { CompleteContext, AssigneeInfo, CompleteResponse } from '../../entity';\r\nimport { NotifyService } from '@farris/ui-notify';\r\nimport { TaskSignaddComponent } from '../components/task-signadd/task-signadd.component';\r\nimport { DialogComponent } from '@farris/ui-dialog';\r\nimport { ActionEntity } from '../../entity/action-entity';\r\nimport { from, of, Observable } from 'rxjs';\r\nimport { I18nService } from '../services/i18n.service';\r\nimport { NextNode } from '../../entity/destination-nodes';\r\nimport { FlowNodeInfo } from '../../entity/excution-response';\r\n\r\ndeclare const System: any;\r\n@Component({\r\n  selector: 'wf-workitem-handle',\r\n  templateUrl: './wf-workitem-handle.component.html',\r\n  styleUrls: ['./wf-workitem-handle.component.css']\r\n})\r\nexport class WfWorkitemHandleComponent implements OnInit {\r\n  private inWorkitemId: string;\r\n  private taskActions: WorkitemAction[];\r\n  completeContext = new CompleteContext();\r\n  assigneeInfos: AssigneeInfo[];\r\n  transferContext: {\r\n    workItemId: string,\r\n    comment: string\r\n  };\r\n  destActivities: { id: string, name: string }[];\r\n  // å ç­¾å¾è¯¢ä¸ä¸æåæ°\r\n  addSignContext: {\r\n    workItemId: string,\r\n    action: 'AddSignFront' | 'AddSignBehind'\r\n  };\r\n  needAddSign: boolean; // æ¯å¦éè¦å ç­¾\r\n  selectAddSignees: string; // å ç­¾éä¸­äºº\r\n  displayPlaceholder: string = \"è¯·éæ©\";//è·³è½¬çé»è®¤æ¾ç¤ºèç¹\r\n  hasDefaultBranch = true;\r\n  @ViewChild(TaskSignaddComponent)\r\n  addSignCmp: TaskSignaddComponent;\r\n  @ViewChild('commentModal')\r\n  commentModal: DialogComponent;\r\n  /**\r\n   * ä»»å¡Id\r\n   */\r\n  @Input()\r\n  set workitemId(workitemId: string) {\r\n    this.inWorkitemId = (workitemId && workitemId.trim());\r\n    if (this.inWorkitemId) {\r\n      this.refreshActions();\r\n    }\r\n  }\r\n  get workitemId() {\r\n    return this.inWorkitemId;\r\n  }\r\n\r\n  /**\r\n   * ä»»å¡åçå¨ä½åè¡¨\r\n   */\r\n  @Output()\r\n  actions = new EventEmitter<WorkitemAction[]>();\r\n\r\n  /**\r\n   * ä»»å¡åçå®æäºä»¶\r\n   */\r\n  @Output()\r\n  completed = new EventEmitter<boolean>();\r\n\r\n  // å½åéä¸­å¨ä½åå¨ä½å®ç°\r\n  preFuncList: any[] = [];\r\n  webCptFunc: any;\r\n  postFuncList: any[] = [];\r\n\r\n  // å¼¹æ¡é«åº¦è®¾ç½®\r\n  height = 420;\r\n\r\n  actionsTitle = {\r\n    pass: '',\r\n    back: '',\r\n    refuse: '',\r\n    more: '',\r\n    viewLog: '',\r\n    viewFlowChart: '',\r\n    viewBizlog: ''\r\n  };\r\n\r\n  constructor(\r\n    private taskSvc: TaskService,\r\n    private notify: NotifyService,\r\n    private i18nService: I18nService,\r\n  ) {\r\n    const titles = this.i18nService.getValue('static.taskActions');\r\n    Object.keys(this.actionsTitle).forEach(key => {\r\n      this.actionsTitle[key] = titles[key];\r\n    });\r\n  }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  /**\r\n   * å·æ°å¨ä½åè¡¨\r\n   */\r\n  private refreshActions() {\r\n    this.taskSvc.getWorkItemActions(this.inWorkitemId).subscribe((re: any) => {\r\n      // ä¸´æ¶æ¹æ¡ï¼oDataä¸æ¯æèªå®ä¹function $expandå±å¼ï¼ä¸´æ¶åºååå¤ç\r\n      this.taskActions = re.map(action => {\r\n        action.parameters = JSON.parse(action.parameters);\r\n        return action;\r\n      });\r\n      this.taskActions = this.taskActions.filter(a =>\r\n        a.code !== 'ViewBizLog'\r\n        && a.code !== 'ViewFlowChart'\r\n        && a.code !== 'ViewExecuteForm');\r\n\r\n      this.actions.emit(this.taskActions);\r\n    }, error => {\r\n      this.showError(error);\r\n    });\r\n  }\r\n\r\n  /**\r\n   * å¨ä½å®æåäºä»¶\r\n   * @param result äºä»¶ç»æ\r\n   */\r\n  private completedEvt(result: boolean = true) {\r\n    if (result) {\r\n      this.refreshActions();\r\n    }\r\n    this.completed.emit(result);\r\n  }\r\n\r\n  /**\r\n   * å®æå®¡æ¹ä»»å¡\r\n   * @param actionCode ä»»å¡åçå¨ä½ç¼å·\r\n   * @param comment? åçæè§\r\n   */\r\n  complete(actionCode: string, comment?: string) {\r\n    switch (actionCode) {\r\n      case 'AssignUser': { // ææ´¾\r\n        this.assignee(this.inWorkitemId);\r\n        break;\r\n      }\r\n      case 'Claim': // é¢ç¨\r\n        this.taskSvc.claim(this.inWorkitemId).subscribe(r => {\r\n          this.notify.success(this.i18nService.getValue('cueWords.successClaim'));\r\n          this.refreshActions();\r\n          this.completed.emit(false);\r\n        }, error => {\r\n          this.showError(error);\r\n        });\r\n        break;\r\n      case 'Unclaim': // åæ¶é¢ç¨\r\n        this.taskSvc.unClaim(this.inWorkitemId).subscribe(r => {\r\n          this.notify.success(this.i18nService.getValue('cueWords.successUnClaim'));\r\n          this.refreshActions();\r\n          this.completed.emit(false);\r\n        }, error => {\r\n          this.showError(error);\r\n        });\r\n        break;\r\n      case 'Retrieve': // åå\r\n        this.taskSvc.retrieve({ workItemId: this.inWorkitemId, comment }).subscribe(r => {\r\n          this.notify.success(this.i18nService.getValue('cueWords.successRetrieve'));\r\n          this.completedEvt();\r\n        },error => {\r\n          this.showError(error);\r\n        });\r\n        break;\r\n      case 'Transfer': { // ç§»äº¤\r\n        this.transferContext = {\r\n          workItemId: this.inWorkitemId,\r\n          comment\r\n        };\r\n        break;\r\n      }\r\n      case 'AddSignFront': // å¾è¯¢\r\n        this.addSignContext = {\r\n          workItemId: this.inWorkitemId,\r\n          action: 'AddSignFront'\r\n        };\r\n        break;\r\n      default:\r\n        this.executeTask(actionCode, comment);\r\n    }\r\n  }\r\n\r\n  refreshList(sucess: boolean) {\r\n    this.completedEvt(sucess);\r\n  }\r\n  // å¼¹åºå ç­¾å¸®å©\r\n  runAddSign() {\r\n    this.addSignContext = {\r\n      workItemId: this.inWorkitemId,\r\n      action: 'AddSignBehind'\r\n    };\r\n  }\r\n  // å ç­¾å®æ\r\n  addSignComplete(sucess: boolean) {\r\n\r\n    if (this.addSignContext.action === 'AddSignFront') {\r\n      this.refreshList(sucess);\r\n    } else {\r\n      this.completeContext.signAssignees = this.addSignCmp.selectedUsers.map(user => user.ID);\r\n      this.selectAddSignees = this.addSignCmp.selectedUsers.map(user => user.Name).join(',');\r\n    }\r\n  }\r\n\r\n  // å®¡æ¹ç¡®è®¤\r\n  handleOk() {\r\n    if(!this.completeContext.comment) {\r\n      this.notify.info(\"è¯·è¾å¥å®¡æ¹æè§\");\r\n      return;\r\n    }\r\n    if(!this.hasDefaultBranch && this.completeContext.destinationActivityId.length <= 0) {//æ²¡æé»è®¤åæ¯å¹¶ä¸ç¨æ·æ²¡éæ©è·³è½¬èç¹ï¼ä¸åè®¸æäº¤\r\n      this.notify.info(\"è¯·éæ©ç®æ èç¹\");\r\n      return;\r\n    }\r\n    this.taskSvc.excuteTask(this.inWorkitemId, this.completeContext).subscribe(\r\n      (cr: CompleteResponse) => {\r\n        this.commentModal.close();\r\n        // å®æå·¥ä½é¡¹åï¼æ£æ¥æ¯å¦éè¦æ§è¡åäºä»¶\r\n        this.excutePostEvent();\r\n        if (this.completeContext.conclusionValue === 'Pass') {\r\n          this.notify.success(this.i18nService.getValue('cueWords.successPass'));\r\n        } else if (this.completeContext.conclusionValue === 'Back') {\r\n          this.notify.success(this.i18nService.getValue('cueWords.successBack'));\r\n        } else if (this.completeContext.conclusionValue === 'Refuse') {\r\n          this.notify.success(this.i18nService.getValue('cueWords.successRefuse'));\r\n        } else {\r\n          this.notify.success(this.i18nService.getValue('cueWords.success'));\r\n        }\r\n        if (cr.needInteraction) {\r\n          this.refreshActions();//éè¿åå¼¹åºææ´¾ add by fpf\r\n          this.assigneeInfos = [cr.nextFlowNodes[0].assigneeInfo];\r\n        } else {\r\n          this.completedEvt();\r\n        }\r\n      }, error => {\r\n        this.showError(error);\r\n      }); \r\n  }\r\n  // åæ¶æä½\r\n  handleCancel() {\r\n    this.completeContext = new CompleteContext();\r\n    this.commentModal.close();\r\n  }\r\n  // ææ´¾æä½\r\n  private assignee(workItemId: string) {\r\n    this.taskSvc.getAssigneeInfo(workItemId).subscribe((info: FlowNodeInfo) => {\r\n      info.assigneeInfo.workItemId = workItemId;//å¼å®¹å¤çï¼æ­¤å¤è¿åçworkitemidä¸ºnull\r\n      this.assigneeInfos = [info.assigneeInfo];\r\n    }, error => {\r\n      this.showError(error);\r\n    });\r\n  }\r\n  // éæ°åå§åå½ååæ°\r\n  private initState() {\r\n    this.selectAddSignees = '';\r\n    this.destActivities = null;\r\n    this.needAddSign = false;\r\n  }\r\n\r\n  private executeTask(actionCode: string, opinion?: string) {\r\n    this.initState();\r\n    this.completeContext = {\r\n      workItemId: this.inWorkitemId,\r\n      conclusionValue: actionCode,\r\n      comment: '',\r\n      signAssignees: [], // å ç­¾äººå\r\n      destinationActivityId: ''// ç®æ èç¹\r\n    };\r\n    this.completeContext.comment = actionCode === 'Pass' ? this.actionsTitle.pass : '';\r\n    if (opinion) {\r\n      this.completeContext.comment = opinion;\r\n    }\r\n    const action = this.taskActions.find(a => a.code === actionCode);\r\n    this.taskSvc.getActionEntity(this.workitemId, actionCode).subscribe((act: ActionEntity) => {\r\n\r\n      if (!act) {// å®¡æ¹å¨ä½å·²å é¤ï¼èµ°å®æå·¥ä½é¡¹  TODO: éå®æå·¥ä½é¡¹å¨ä½å¦ä½å¤çï¼\r\n        this.showExcuteModal(action);\r\n      } else {\r\n        from(this.excuteAction(act)).subscribe(() => {\r\n          if (!act.webComponent) {\r\n            this.showExcuteModal(action);\r\n          }\r\n        });\r\n      }\r\n    }, error => {\r\n      this.showError(error);\r\n    });\r\n  }\r\n  \r\n  /**\r\n   * å ç­¾ï¼è·³è½¬æåµ\r\n   * @param action å¨ä½\r\n   */\r\n  private showExcuteModal(action: WorkitemAction) {\r\n    // å¨ä½åæ°æç§\r\n    if (action && action.parameters) {\r\n      // è·³è½¬ãé©³ååºæ¯\r\n      if (action.parameters.SelectTargetAble === 'True' || action.parameters.SelectTargetAble === 'true') {\r\n        // this.taskSvc.getDestinationScope(this.inWorkitemId, action.code).subscribe((re: { id: string, name: string }[]) => {\r\n        //   this.destActivities = re;\r\n        // });\r\n        this.getDestinationNodes(this.inWorkitemId, action.code);\r\n      }\r\n      // éè¦å ç­¾\r\n      if (action.parameters.AddSignBehindAble === 'True' || action.parameters.AddSignBehindAble === 'true') {\r\n        this.needAddSign = true;\r\n      }\r\n    }\r\n    this.commentModal.show();\r\n  }\r\n\r\n  private getDestinationNodes(workItemId: string, actionCode: string) {\r\n    var nextNodes: NextNode[] = [];\r\n    this.taskSvc.getDestinationScope(workItemId, actionCode).subscribe((re: NextNode[]) => {\r\n      nextNodes = re;\r\n      const des = re.map(a => a.nodeInfoList);\r\n      let list =[];\r\n      des.forEach(i => {\r\n        list = list.concat(i);\r\n      });\r\n      this.destActivities = list.map(i => ({id:i.activityDefinitionId, name:i.activityDefinitionName}));\r\n      this.hasDefaultBranch = this.hasDefaultBranchFunc(nextNodes);\r\n    }, error => {\r\n      this.showError(error);\r\n    });\r\n  }\r\n\r\n  /**\r\n   * è·³è½¬ï¼è¿åçæ°æ®æ¯å¦æé»è®¤åæ¯\r\n   * å¦æè¿åçæ²¡æé»è®¤èç¹ï¼è·³è½¬èç¹åæ²¡éçè¯ï¼ä¸åè®¸æäº¤\r\n   * @param nextNodes \r\n   */\r\n  private hasDefaultBranchFunc(nextNodes: NextNode[]) {\r\n    for(let i = 0; i < nextNodes.length; i++) {\r\n      if(nextNodes[i].defaultBranch) {\r\n        this.displayPlaceholder = nextNodes[i].nodeInfoList[0].activityDefinitionName;\r\n        return true;\r\n      }\r\n    }\r\n    return false;\r\n  }\r\n  private async excuteAction(act: ActionEntity) {\r\n    await this.getActionWebEventsFunc(act);\r\n    if (this.preFuncList && this.preFuncList.length > 0) {\r\n      for (let i = 0; i < this.preFuncList.length; i++) {\r\n        this.preFuncList.filter(item => item.index === i)[0].func();\r\n      }\r\n    }\r\n    if (this.webCptFunc) {\r\n      this.webCptFunc();\r\n    }\r\n  }\r\n  private excutePostEvent() {\r\n    if (this.postFuncList && this.postFuncList.length > 0) {\r\n      for (let i = 0; i < this.postFuncList.length; i++) {\r\n        this.postFuncList.filter(item => item.index === i)[0].func();\r\n      }\r\n    }\r\n  }\r\n  /**\r\n   * è·åå¨ä½çååäºä»¶åå®ç°æ¹æ³\r\n   * @param act å¨ä½\r\n   */\r\n  private async getActionWebEventsFunc(act: ActionEntity) {\r\n    this.preFuncList = [];\r\n    this.webCptFunc = null;\r\n    this.postFuncList = [];\r\n    const reqMap = [];\r\n    let preIndex = 0;\r\n    let postIndex = 0;\r\n    if (act.preEvent && act.preEvent.length > 0) {\r\n      for (const e of act.preEvent) {\r\n        const pre = {\r\n          event: 'pre',\r\n          index: preIndex++,\r\n          funcName: e.component.split('#')[1],\r\n          req: System.import(e.component.split('#')[0])\r\n        };\r\n        reqMap.push(pre);\r\n      }\r\n    }\r\n    if (act.webComponent) {\r\n      const cpt = {\r\n        event: 'cpt',\r\n        index: 0,\r\n        funcName: act.webComponent.split('#')[1],\r\n        req: System.import(act.webComponent.split('#')[0])\r\n      };\r\n      reqMap.push(cpt);\r\n    }\r\n    if (act.postEvent && act.postEvent.length > 0) {\r\n      for (const a of act.postEvent) {\r\n        const post = {\r\n          event: 'post',\r\n          index: postIndex++,\r\n          funcName: a.component.split('#')[1],\r\n          req: System.import(a.component.split('#')[0])\r\n        };\r\n        reqMap.push(post);\r\n      }\r\n    }\r\n    for (const r of reqMap) {\r\n      const m = await r.req;\r\n      if (r.event === 'pre') {\r\n        this.preFuncList.push({\r\n          index: r.index,\r\n          func: m.default[r.funcName]\r\n        });\r\n      } else if (r.event === 'post') {\r\n        this.postFuncList.push({\r\n          index: r.index,\r\n          func: m.default[r.funcName]\r\n        });\r\n      } else {\r\n        this.webCptFunc = m.default[r.funcName];\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * æ¾ç¤ºæ¥éä¿¡æ¯\r\n   */\r\n  private showError(error: any) {\r\n    if(error && error.error && error.error.Message) {\r\n      this.notify.error(error.error.Message);\r\n    } else {\r\n      this.notify.error(error);\r\n    }\r\n  }\r\n}\r\n","import { Component, OnInit, Output, EventEmitter, Input, ViewChild } from '@angular/core';\r\nimport { AssigneeInfo } from '../../../entity';\r\nimport { TaskService } from '../../services/task.service';\r\nimport { UserService } from '../../services/user.service';\r\nimport { UserHelperComponent } from '../user-helper/user-helper.component';\r\nimport { NotifyService } from '@farris/ui-notify';\r\nimport { DialogComponent } from '@farris/ui-dialog';\r\nimport { I18nService } from '../../services/i18n.service';\r\nimport { AssigneeInfoByWorkItemIdParameter } from '../../../entity/complete-response';\r\n\r\n@Component({\r\n  selector: 'wf-task-assign',\r\n  templateUrl: '../user-helper/user-helper.component.html',\r\n  styleUrls: ['./task-assign.component.css']\r\n})\r\nexport class TaskAssignComponent extends UserHelperComponent implements OnInit {\r\n\r\n  // title = 'è¯·éæ©ææ´¾ç¨æ·';\r\n\r\n  @Input()\r\n  set assigneeInfo(assigneeInfos: AssigneeInfo[]) {\r\n    if (assigneeInfos && assigneeInfos.length > 0) {\r\n      this.assignees = assigneeInfos;\r\n      this.showModal(true);\r\n      this.execute();\r\n    } else {\r\n      this.showModal(false);\r\n    }\r\n  }\r\n\r\n  @Output()\r\n  completed = new EventEmitter<boolean>();\r\n\r\n  private allUserData: {\r\n    ID: string,\r\n    Code: string,\r\n    Name: string,\r\n    OrgId: string,\r\n    OrgName: string\r\n  }[];\r\n  private assignees: AssigneeInfo[];\r\n  private assigneesPa: AssigneeInfoByWorkItemIdParameter;\r\n  private allowGlobalAssign: boolean;//æ¯å¦åè®¸å¨åææ´¾\r\n\r\n  constructor(\r\n    public taskSvc: TaskService,\r\n    protected userSvc: UserService,\r\n    protected notify: NotifyService,\r\n    protected i18nService: I18nService\r\n  ) {\r\n    super(i18nService, userSvc);\r\n    this.paginationOptions.id = 'WF-TaskAss-DataTable-Pagination';\r\n    // this.title = this.i18nService.getValue('static.assignee.title');\r\n  }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  execute() { \r\n    this.assigneesPa = {\r\n      workItemId: this.assignees[0].workItemId,\r\n      assigneeIds: [],\r\n      comment: ''\r\n    };\r\n    this.singleSelect = !this.assignees[0].multiSelect;\r\n    this.allowGlobalAssign = this.assignees[0].allowGlobalAssign; \r\n    if(this.assignees[0].assigneeUsers && this.assignees[0].assigneeUsers.length) {\r\n      this.getAssignedUsers();\r\n    } else {\r\n      if(this.allowGlobalAssign) {\r\n        this.getUserList();\r\n      }\r\n    }\r\n    \r\n  }\r\n\r\n  getAssignedUsers() {\r\n    this.allUserData = this.assignees[0].assigneeUsers.map( user => {\r\n      return {\r\n        ID: user.id,\r\n        Name: user.name,\r\n        Code: user.code,\r\n        OrgId: user.orgId,\r\n        OrgName: user.orgNamePath\r\n      };\r\n    });\r\n    this.userListData = this.allUserData;\r\n  }\r\n\r\n  handleOk() {\r\n    this.selectedUsers = this.singleSelect ? [this.userTable.selections] : this.userTable.selections;\r\n\r\n    if (!this.selectedUsers || this.selectedUsers.length < 1) {\r\n      this.notify.warning(this.i18nService.getValue('static.assignee.noAssignee'));\r\n      return;\r\n    }\r\n\r\n    this.assignees.shift();\r\n    this.assigneesPa.assigneeIds = this.selectedUsers.map(user => user.ID);\r\n\r\n    // æ£æ¥æå®æ¯å¦å®æï¼å¦æå®ææäº¤ï¼å¦åç»§ç»­ææ´¾ä»»å¡\r\n    if (this.assignees.length > 0) {\r\n      this.userListData = []; // clear source\r\n      this.execute();\r\n    } else {\r\n      this.taskSvc.assignNextUsersByWorkItemId(this.assigneesPa).subscribe(() => {\r\n        this.showModal(false);\r\n        this.notify.success(this.i18nService.getValue('static.assignee.successAssign'));\r\n        this.completed.emit(true);\r\n      }, error => {\r\n        if(error && error.error && error.error.Message) {\r\n          this.notify.error(error.error.Message);\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  search(event) {\r\n    if(!this.assignees[0].assigneeUsers || !this.assignees[0].assigneeUsers.length) {\r\n      super.search(event);\r\n    } else {\r\n      this.searchValue = event.value;\r\n      if(this.searchValue) {\r\n        this.userListData = this.allUserData.filter(user => \r\n          (user.Name) && user.Name.includes(this.searchValue) ||\r\n          (user.Code) && user.Code.includes(this.searchValue)\r\n        );\r\n      } else {\r\n        this.getAssignedUsers();\r\n      }\r\n    }\r\n  }\r\n  protected showModal(show: boolean): void {\r\n    if (show) {\r\n      this.userDialog.show();\r\n    } else {\r\n      // ä¸´æ¶å¤çæ¹æ¡\r\n      if (this.userDialog.beforeClose) {\r\n        this.userDialog.close();\r\n      }\r\n    }\r\n  }\r\n\r\n  onPageSizeChange(pageSize) {\r\n    this.paginationOptions.itemsPerPage = pageSize;\r\n    if(this.allowGlobalAssign) {\r\n      this.getUserList();\r\n    }\r\n  }\r\n\r\n  onPageChange(event) {\r\n    this.paginationOptions.currentPage = event.pageIndex;\r\n    if(this.allowGlobalAssign) {\r\n      this.getUserList();\r\n    }\r\n  }\r\n}\r\n","import { Component, OnInit, Input, Output, EventEmitter } from '@angular/core';\r\nimport { TaskService } from '../../services/task.service';\r\nimport { UserService } from '../../services/user.service';\r\nimport { UserHelperComponent } from '../user-helper/user-helper.component';\r\nimport { NotifyService } from '@farris/ui-notify';\r\nimport { I18nService } from '../../services/i18n.service';\r\n\r\n@Component({\r\n  selector: 'wf-task-transfer',\r\n  templateUrl: '../user-helper/user-helper.component.html',\r\n  styleUrls: ['./task-transfer.component.css']\r\n})\r\nexport class TaskTransferComponent extends UserHelperComponent implements OnInit {\r\n\r\n  @Input()\r\n  public set transfer_context(context: { workItemId: string, comment?: string}) {\r\n    this.transferContext = { ...context, assignee: '' };\r\n    this.selectedUsers = [];\r\n    this.showModal(!!this.transferContext.workItemId);\r\n  }\r\n  @Output()\r\n  completed = new EventEmitter<boolean>();\r\n\r\n  transferContext: {\r\n    workItemId: string,\r\n    assignee: string,\r\n    comment?: string // TODOï¼ç§»äº¤å¤æ³¨\r\n  };\r\n  constructor(\r\n    private taskSvc: TaskService,\r\n    protected userSvc: UserService,\r\n    protected notify: NotifyService,\r\n    protected i18nService: I18nService\r\n  ) {\r\n    super(i18nService, userSvc);\r\n    this.singleSelect = true;\r\n    this.paginationOptions.id = 'WF-TaskTransfer-DataTable-Pagination';\r\n  }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  handleOk(): void {\r\n    this.selectedUsers = this.userTable.selections;\r\n    // éè¦æ ¡éªéä¸­å¯ä¸ç¨æ·\r\n    if (!this.selectedUsers) {\r\n      this.notify.info(this.i18nService.getValue('static.transfer.selectHandover'));\r\n      return;\r\n    }\r\n\r\n    this.transferContext.assignee = this.selectedUsers['ID'];\r\n    this.taskSvc.transfer(this.transferContext).subscribe(() => {\r\n      this.notify.success(this.i18nService.getValue('static.transfer.successTransfer'));\r\n      this.completed.emit(true);\r\n      this.showModal(false);\r\n    }, error => {\r\n      if(error && error.error && error.error.Message) {\r\n        this.notify.error(error.error.Message);\r\n      }\r\n    });\r\n  }\r\n}\r\n","import { AssigneeInfoByProcInstIdParameter } from './complete-response';\r\n\r\n/**\r\n * æäº¤å®¡æ¹å®¢æ·ç«¯äº¤äºè¿åç»æ\r\n */\r\nexport class InteractionResponse {\r\n    /**\r\n     * æäº¤éæ©æµç¨åºæ¯ä¸è¿åæµç¨å®ä¹Id\r\n     */\r\n    processDefinitionId: string;\r\n    /**\r\n     * æäº¤å®¡æ¹æå®åä¸èæ¶è¿ååæ°\r\n     */\r\n    assigneeInfoParameter: AssigneeInfoByProcInstIdParameter;\r\n    /**\r\n     * äº¤äºå¼å¸¸æç¤ºä¿¡æ¯\r\n     */\r\n    message: string;\r\n}\r\n","import { Component, OnInit, Input, HostBinding, Optional, ViewChild } from '@angular/core';\r\nimport { AssigneeInfo, AssigneeInfoByProcInstIdParameter } from '../../entity/complete-response';\r\nimport { UserService } from '../../runtime/services/user.service';\r\nimport { Observable, Subject } from 'rxjs';\r\nimport { NotifyService } from '@farris/ui-notify';\r\nimport { TaskService } from '../../runtime/services/task.service';\r\nimport { I18nService } from '../../runtime/services/i18n.service';\r\nimport { DataTableComponent } from '@farris/ui-datatable';\r\nimport { PaginationInstance } from '@farris/ui-pagination';\r\nimport { LoadingService } from '@farris/ui-loading'\r\n\r\n@Component({\r\n  selector: 'wf-assign-participant',\r\n  templateUrl: './assign-participant.component.html',\r\n  styleUrls: ['./assign-participant.component.css']\r\n})\r\nexport class AssignParticipantComponent implements OnInit {\r\n  @HostBinding('class')\r\n  cls = 'farris-main-area flex-column';\r\n\r\n  private pageList = [10, 20, 30, 50, 100];\r\n  paginationOptions: PaginationInstance = {\r\n    id: 'WF-Users-DataTable-Pagination',\r\n    currentPage: 1,\r\n    itemsPerPage: 10,\r\n    pageList: this.pageList,\r\n    totalItems: 0\r\n  };\r\n\r\n  @Input()\r\n  set assigneeInfo(assigneeInfos: AssigneeInfo[]) {\r\n    this.assignees = assigneeInfos;\r\n    this.assigneesPa = {\r\n      procInstId: '',//åç«¯ç¨ä¸å° åä¸ºç©º\r\n      assigneeInfos: []\r\n    };\r\n    this.getUserList();\r\n  }\r\n\r\n  private assignees: AssigneeInfo[];\r\n  private assigneesPa: AssigneeInfoByProcInstIdParameter;\r\n  private allowGlobalAssign: boolean;\r\n  private subject = new Subject<AssigneeInfoByProcInstIdParameter>();\r\n  private withAllOrg: boolean = true;\r\n  private orgId: string = '';\r\n  userListData = [];\r\n  // æ¯å¦åè®¸å¤é,é»è®¤å¤é\r\n  singleSelect = false;\r\n  searchValue = null;\r\n  selectedUsers: {\r\n    ID: string,\r\n    Code: string,\r\n    Name: string,\r\n    OrgId: string,\r\n    OrgName: string\r\n  }[] = [];\r\n  @ViewChild('allUserTable') userTable: DataTableComponent;\r\n  columns = [\r\n    { title: this.i18nService ? this.i18nService.getValue('static.columnName.code') : 'ç¼å·', field: 'Code', width: 80 },\r\n    { title: this.i18nService ? this.i18nService.getValue('static.columnName.name') : 'å§å', field: 'Name', width: 90 },\r\n    { title: this.i18nService ? this.i18nService.getValue('static.columnName.department') : 'ç»ç»ä¿¡æ¯', field: 'OrgName', width: 180 }];\r\n  constructor(\r\n    protected userSvc: UserService,\r\n    protected notify: NotifyService,\r\n    private taskSvc: TaskService,\r\n    private loadingService: LoadingService,\r\n    @Optional() protected i18nService: I18nService\r\n  ) {\r\n  }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  getUserList() {\r\n    this.singleSelect = !this.assignees[0].multiSelect;\r\n    if (this.assignees[0].assigneeUsers && this.assignees[0].assigneeUsers.length) {\r\n      this.getAssignedUsers();\r\n    } else {\r\n      if (this.assignees[0].allowGlobalAssign) {\r\n        if (this.assignees[0].organizationScope && this.assignees[0].organizationScope.length) {\r\n          this.withAllOrg = this.assignees[0].organizationScope[0].includeChildren;\r\n          this.orgId = this.assignees[0].organizationScope[0].id;\r\n        }\r\n        this.getAllUserList();\r\n      } else {\r\n        this.getAssignedUsers();\r\n      }\r\n    }\r\n  }\r\n\r\n  getAssignedUsers() {\r\n    if (this.assignees.length > 0) {\r\n      this.selectedUsers = this.assignees[0].assigneeUsers.map(user => {\r\n        return {\r\n          ID: user.id,\r\n          Name: user.name,\r\n          Code: user.code,\r\n          OrgId: user.orgId,\r\n          OrgName: user.orgNamePath\r\n        };\r\n      }),\r\n        this.userListData = this.selectedUsers;\r\n    }\r\n  }\r\n\r\n  protected getAllUserList() {\r\n    const load = this.loadingService.show();\r\n    this.userSvc.getUserList_Assign(this.searchValue, this.paginationOptions.currentPage, this.paginationOptions.itemsPerPage, this.withAllOrg, this.orgId)\r\n      .subscribe((re: { totalCount: number, data: any[] }) => {\r\n        load.close();\r\n        this.paginationOptions.totalItems = re.totalCount;\r\n        this.userListData = re.data.map(u => ({\r\n          ID: u.id,\r\n          Code: u.code,\r\n          Name: u.name,\r\n          OrgId: u.sysOrgId,\r\n          OrgName: u.orgNamePath,\r\n          Checked: false\r\n        }));\r\n      }, error => {\r\n        load.close();\r\n      });\r\n  }\r\n\r\n  search(event) {\r\n    this.searchValue = event.value;\r\n    if (this.assignees[0].assigneeUsers && this.assignees[0].assigneeUsers.length) {//æåéäººï¼å¨åéäººä¸­ç­é\r\n      if(this.searchValue) {\r\n        this.userListData = this.selectedUsers.filter(user =>\r\n          (user.Name) && user.Name.includes(this.searchValue) ||\r\n          (user.Code) && user.Code.includes(this.searchValue)\r\n        );\r\n      } else {\r\n        this.getAssignedUsers();\r\n      }\r\n    } else {//æ åéäººï¼å¨å¨åä¸­éæ©\r\n      this.paginationOptions.currentPage = 1;\r\n      this.getUserList();\r\n    }\r\n  }\r\n\r\n  btnCancelClick() {\r\n    this.notify.info(this.i18nService ? this.i18nService.getValue('static.assignee.cancelAssign') : 'å·²åæ¶æä½ã');\r\n    this.subject.next(null);\r\n  }\r\n  btnOKClick() {\r\n    this.selectedUsers = this.singleSelect ? [this.userTable.selections] : this.userTable.selections;\r\n\r\n    if (!this.selectedUsers || this.selectedUsers.length < 1) {\r\n      this.notify.warning(this.i18nService ? this.i18nService.getValue('static.assignee.noAssignee') : 'è¯·è³å°éæ©ä¸ä¸ªå®¡æ¹äººã');\r\n      return;\r\n    }\r\n\r\n    // æ·»å å·²éäººå\r\n    const assigneeInfo = this.assignees.shift();\r\n    assigneeInfo.assigneeIds = this.selectedUsers.map(user => user.ID);\r\n    this.assigneesPa.assigneeInfos.push(assigneeInfo);\r\n\r\n    // æ£æ¥æå®æ¯å¦å®æï¼å¦æå®ææäº¤ï¼å¦åç»§ç»­ææ´¾ä»»å¡\r\n    if (this.assignees.length > 0) {\r\n      this.userListData = []; // clear source\r\n      this.getUserList();\r\n    } else {\r\n      const load = this.loadingService.show();\r\n      this.taskSvc.assignNextUsersByProcInstId(this.assigneesPa).subscribe(() => {\r\n        load.close();\r\n        this.notify.success(this.i18nService ? this.i18nService.getValue('static.assignee.successAssign') : 'æä½æåã');\r\n        this.subject.next(this.assigneesPa);\r\n      }, err => {\r\n        this.notify.error(this.i18nService ? this.i18nService.getValue('static.assignee.errorAssign') : 'æä½å¤±è´¥ï¼è¯·èç³»ç®¡çåæ¥çåå ï¼');\r\n        this.subject.error(this.i18nService ? this.i18nService.getValue('static.assignee.errorAssign') : 'æä½å¤±è´¥ï¼è¯·èç³»ç®¡çåæ¥çåå ï¼');\r\n      });\r\n    }\r\n  }\r\n  subscribe(): Observable<AssigneeInfoByProcInstIdParameter> {\r\n    return this.subject.asObservable();\r\n  }\r\n\r\n  onPageSizeChange(pageSize) {\r\n    this.paginationOptions.itemsPerPage = pageSize;\r\n    this.getUserList();\r\n  }\r\n\r\n  onPageChange(event) {\r\n    this.paginationOptions.currentPage = event.pageIndex;\r\n    this.getUserList();\r\n  }\r\n\r\n}\r\n","import { Injectable, ComponentFactoryResolver, EventEmitter, Injector, Optional } from '@angular/core';\r\nimport { BsModalService, ModalOptions } from '@farris/ui-modal';\r\nimport { ProcessSelectorComponent } from '../process-selector/process-selector.component';\r\nimport { ExcutionResponse } from '../../entity/excution-response';\r\nimport { InteractionResponse } from '../../entity/interaction-response';\r\nimport { ProcessDefinition } from '../../entity/processdefinition';\r\nimport { AssigneeInfo } from '../../entity/complete-response';\r\nimport { AssignParticipantComponent } from '../assign-participant/assign-participant.component';\r\nimport { Subject, Observable, of } from 'rxjs';\r\nimport { I18nService } from '../../runtime/services/i18n.service';\r\n\r\n/**\r\n * æäº¤å®¡æ¹å®¢æ·ç«¯äº¤äºæå¡\r\n */\r\n@Injectable()\r\nexport class WFSubmiteService {\r\n\r\n    constructor(\r\n        private injector: Injector,\r\n        private resolver: ComponentFactoryResolver,\r\n        private modalService: BsModalService,\r\n        @Optional() private i18nService: I18nService\r\n    ) { }\r\n\r\n    /**\r\n     * å®¢æ·ç«¯äº¤äºå¤çæå¡ç«¯è¿åç»æ\r\n     * @param excutionRe æäº¤å®¡æ¹æå¡å¨ç«¯è¿åç»æ\r\n     * @param handler å¤çç»æåè°é¡µé¢\r\n     */\r\n    excute(excutionRe: ExcutionResponse, handler: (result: InteractionResponse) => void): void {\r\n        const response = new InteractionResponse();\r\n        // æ éäº¤äº\r\n        if (excutionRe.needInteraction === false) {\r\n            response.message = 'æ éäº¤äº';\r\n            handler(response);\r\n            return;\r\n        }\r\n        // éæ©è¦æäº¤çæµç¨\r\n        if (excutionRe.procDefs && excutionRe.procDefs.length > 1) {\r\n            this.selectProcess(excutionRe.procDefs, handler);\r\n            return;\r\n        }\r\n        // æå®ä¸ä¸æ­¥åä¸è\r\n        if (excutionRe.nextFlowNodes[0].assigneeInfo) {\r\n            this.assignee([excutionRe.nextFlowNodes[0].assigneeInfo], handler);\r\n            return;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * å¤çéæ©æµç¨ç»æ\r\n     */\r\n    private selectProcess(prcesses: ProcessDefinition[], handler: (result: InteractionResponse) => void): void {\r\n        const response = new InteractionResponse();\r\n        const modalConfig: ModalOptions = {\r\n            title: this.i18nService ? this.i18nService.getValue('static.submit.selectProcess') : 'æµç¨éæ©',\r\n            width: 520,\r\n            height: 290,\r\n            showButtons: false,\r\n            showMaxButton: false,\r\n            beforeClose: (modelRef: any) => {\r\n                handler(response);\r\n                return of(true);\r\n            }\r\n        };\r\n        const compFactory = this.resolver.resolveComponentFactory(ProcessSelectorComponent);\r\n        const compRef = compFactory.create(this.injector);\r\n        compRef.instance.gridData = prcesses;\r\n        const dialog = this.modalService.show(compRef, modalConfig);\r\n        compRef.instance.subscribe().subscribe(val => {\r\n            response.processDefinitionId = val;\r\n            dialog.close();\r\n        }, err => {\r\n            response.message = err;\r\n            dialog.close();\r\n        });\r\n    }\r\n    /**\r\n     * å¤çæå®ä¸ä¸æ­¥äººåç»æ\r\n     */\r\n    private assignee(assigneeInfos: AssigneeInfo[], handler?: (result: InteractionResponse) => void) {\r\n        const response = new InteractionResponse();\r\n        const modalConfig: ModalOptions = {\r\n            title: this.i18nService ? this.i18nService.getValue('static.assignee.title') : 'è¯·éæ©æä½ç¨æ·',\r\n            width: 850,\r\n            height: 520,\r\n            showMaxButton: false,\r\n            showButtons: false,\r\n            beforeClose: (modelRef: any) => {\r\n                handler(response);\r\n                return of(true);\r\n            }\r\n        };\r\n        const compFactory = this.resolver.resolveComponentFactory(AssignParticipantComponent);\r\n        const compRef = compFactory.create(this.injector);\r\n        compRef.instance.assigneeInfo = assigneeInfos;\r\n        const dialog = this.modalService.show(compRef, modalConfig);\r\n        compRef.instance.subscribe().subscribe(val => {\r\n            dialog.close();\r\n        }, err => {\r\n            dialog.close();\r\n        });\r\n    }\r\n}\r\n","import { Pipe, PipeTransform, Optional } from '@angular/core';\r\nimport { I18nService } from './i18n.service';\r\n\r\n@Pipe({ name: 'translate' })\r\nexport class TranslatePipe implements PipeTransform {\r\n    constructor(@Optional() public i18nService: I18nService) { }\r\n    transform(name: any, defaultVal = ''): any {\r\n        if (this.i18nService) {\r\n            const r = this.i18nService.getValue(name);\r\n            return r ? r : defaultVal;\r\n        } else {\r\n            return defaultVal;\r\n        }\r\n    }\r\n}\r\n","import { NgModule, LOCALE_ID, ModuleWithProviders } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n// import { BrowserAnimationsModule } from '@angular/platform-browser/animations';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { HttpClientModule, HttpClient } from '@angular/common/http';\r\nimport { HttpService, SessionService, LanguageService } from '@ecp-caf/caf-common';\r\nimport { DataTableModule } from '@farris/ui-datatable';\r\nimport { FarrisDialogModule } from '@farris/ui-dialog';\r\nimport { PaginationModule } from '@farris/ui-pagination';\r\nimport { MessagerModule } from '@farris/ui-messager';\r\nimport { NotifyModule } from '@farris/ui-notify';\r\nimport { ProcessSelectorComponent } from './submit/process-selector/process-selector.component';\r\nimport { TaskService } from './runtime/services/task.service';\r\nimport { UserService } from './runtime/services/user.service';\r\nimport { WfWorkitemHandleComponent } from './runtime/wf-workitem-handle/wf-workitem-handle.component';\r\nimport { TaskAssignComponent } from './runtime/components/task-assign/task-assign.component';\r\nimport { UserHelperComponent } from './runtime/components/user-helper/user-helper.component';\r\nimport { TaskSignaddComponent } from './runtime/components/task-signadd/task-signadd.component';\r\nimport { TaskTransferComponent } from './runtime/components/task-transfer/task-transfer.component';\r\nimport { WFSubmiteService } from './submit/service/wf-submite.service';\r\nimport { AssignParticipantComponent } from './submit/assign-participant/assign-participant.component';\r\nimport { DatagridModule } from '@farris/ui-datagrid';\r\nimport { WFCommentModule } from '@gsp-wf/ui-comment';\r\nimport { I18nService } from './runtime/services/i18n.service';\r\nimport { TranslatePipe } from './runtime/services/translate.pipe';\r\nimport { ComboListModule } from '@farris/ui-combo-list';\r\nimport { LoadingModule } from '@farris/ui-loading'\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    HttpClientModule,\r\n    DataTableModule,\r\n    FarrisDialogModule,\r\n    PaginationModule,\r\n    NotifyModule,\r\n    MessagerModule.forRoot({\r\n      width: 500\r\n    }),\r\n    DatagridModule,\r\n    WFCommentModule,\r\n    ComboListModule,\r\n    LoadingModule\r\n  ],\r\n  declarations: [\r\n    ProcessSelectorComponent,\r\n    WfWorkitemHandleComponent,\r\n    UserHelperComponent,\r\n    TaskAssignComponent,\r\n    TaskSignaddComponent,\r\n    TaskTransferComponent,\r\n    AssignParticipantComponent,\r\n    TranslatePipe\r\n  ],\r\n  providers: [\r\n    HttpService,\r\n    TaskService,\r\n    UserService,\r\n    SessionService,\r\n    WFSubmiteService,\r\n    I18nService,\r\n    // { provide: LOCALE_ID, useValue: localStorage.getItem('languageCode') || 'zh-CHS' }\r\n  ],\r\n  exports: [\r\n    ProcessSelectorComponent,\r\n    WfWorkitemHandleComponent,\r\n    UserHelperComponent,\r\n    TaskAssignComponent,\r\n    TaskSignaddComponent,\r\n    TaskTransferComponent,\r\n    AssignParticipantComponent,\r\n  ],\r\n  entryComponents: [\r\n    ProcessSelectorComponent,\r\n    WfWorkitemHandleComponent,\r\n    UserHelperComponent,\r\n    TaskAssignComponent,\r\n    TaskSignaddComponent,\r\n    TaskTransferComponent,\r\n    AssignParticipantComponent\r\n  ]\r\n})\r\nexport class WFRuntimeModule {\r\n}\r\n","import { ProcessDefinition } from './processdefinition';\r\nimport { AssigneeInfo } from './complete-response';\r\n\r\n\r\n/**\r\n * æäº¤å®¡æ¹æä½è¿åç»æ\r\n */\r\nexport class ExcutionResponse {\r\n    constructor() { }\r\n\r\n    /**\r\n     * æµç¨å®ä¾ID\r\n     */\r\n    procInstId: string;\r\n\r\n    /**\r\n     * dataId\r\n     */\r\n    dataId: string;\r\n\r\n    /**\r\n     * æå®åä¸èä¿¡æ¯ï¼éè¦æå®åä¸èçæ´»å¨ãå¾æå®ç¨æ·åè¡¨\r\n     */\r\n    nextAssigneeInfos: AssigneeInfo[];\r\n    \r\n    /**\r\n     * éè¦äº¤äº\r\n     */\r\n    needInteraction: boolean;\r\n    \r\n    /**\r\n     * ä¸ä¸èç¹ä¿¡æ¯\r\n     */\r\n    nextFlowNodes: FlowNodeInfo[];\r\n\r\n    /**\r\n     * æµç¨å®ä¹åè¡¨ï¼å¤ä¸ªç¬¦åæ¡ä»¶çæµç¨å®ä¹éè¦æå·¥éæ©\r\n     */\r\n    procDefs: ProcessDefinition[];\r\n}\r\n\r\nexport class FlowNodeInfo {\r\n\r\n    activityDefinitionId: string;\r\n\r\n    activityDefinitionName: string;\r\n\r\n    selectedAssignees: User[];\r\n\r\n    assigneeInfo: AssigneeInfo;\r\n\r\n}\r\n\r\nexport class User {\r\n\r\n    id: string;\r\n\r\n    name: string;\r\n    \r\n}\r\n","/**\r\n * å®¡æ¹å¨ä½å®ä¹\r\n */\r\n\r\nexport class WorkitemAction {\r\n\r\n    /**\r\n     * å¨ä½ç¼å·\r\n     */\r\n    code: string;\r\n\r\n    /**\r\n     * å¨ä½æ¾ç¤ºåç§°\r\n     */\r\n    name: string;\r\n\r\n    /**\r\n     * æ¯å¦ä¸»è¦æä½\r\n     */\r\n    isPrimaryAction: boolean;\r\n\r\n    /**\r\n     * å®¡æ¹å¨ä½åæ°\r\n     */\r\n    parameters: any;\r\n}\r\n"]}