!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/common"),require("@angular/forms"),require("@farris/ui-datatable"),require("@farris/ui-dialog"),require("@farris/ui-pagination"),require("@farris/ui-messager"),require("@angular/common/http"),require("@ecp-caf/caf-common"),require("@farris/ui-modal"),require("@farris/ui-notify"),require("rxjs"),require("@farris/ui-datagrid"),require("@gsp-wf/ui-comment"),require("@angular/core"),require("@farris/ui-combo-list"),require("@farris/ui-loading")):"function"==typeof define&&define.amd?define("@gsp-wf/rtdevkit",["exports","@angular/common","@angular/forms","@farris/ui-datatable","@farris/ui-dialog","@farris/ui-pagination","@farris/ui-messager","@angular/common/http","@ecp-caf/caf-common","@farris/ui-modal","@farris/ui-notify","rxjs","@farris/ui-datagrid","@gsp-wf/ui-comment","@angular/core","@farris/ui-combo-list","@farris/ui-loading"],t):t((e["gsp-wf"]=e["gsp-wf"]||{},e["gsp-wf"].rtdevkit={}),e.ng.common,e.ng.forms,e.uiDatatable,e.uiDialog,e.uiPagination,e.uiMessager,e.ng.common.http,e.cafCommon,e.uiModal,e.uiNotify,e.rxjs,e.uiDatagrid,e.uiComment,e.ng.core,e.uiComboList,e.uiLoading)}(this,function(e,t,s,i,n,r,o,a,c,l,u,p,d,h,g,f,m){"use strict";var v={"zh-CHS":{"static":{taskActions:{pass:"通过",back:"驳回",refuse:"否决",more:"更多",viewLog:"审批日志",viewFlowChart:"查看流程",viewBizlog:"审批日志"},assignee:{title:"请选择用户",cancelAssign:"已取消操作。",noAssignee:"请至少选择一个审批人。",successAssign:"操作成功。",errorAssign:"操作失败，请联系管理员查看原因！"},addsign:{title:"请选择用户",selectConsultant:"请选择用户。",successConsult:"征询成功。",cancelSignUp:"已取消。"},transfer:{title:"请选择用户",selectHandover:"请选择用户。",successTransfer:"任务移交成功。"},columnName:{name:"名称",code:"编号",department:"组织信息",organization:"组织",prcessName:"流程名称",version:"版本"},common:{placeHolder:"请输入"},submit:{selectProcess:"选择流程",noProcess:"请选择流程"},title:"审批确认",inputLabel:"审批意见",inputHolder:"请输入审批意见",selectActivity:"目标节点",addSignee:"加签人员",footOk:"确定",footCancel:"取消"},cueWords:{successClaim:"领用成功。",successUnClaim:"取消领用成功。",successRetrieve:"任务取回成功。",successPass:"审批通过。",successBack:"驳回成功。",successRefuse:"否决成功。",success:"操作成功"}},en:{"static":{taskActions:{pass:"Agree",back:"Reject",refuse:"Veto",more:"More",viewLog:"View Log",viewFlowChart:"View FlowChart",viewBizlog:"Approval Log"},title:"Approval confirmation",inputLabel:"Approval comments",inputHolder:"Please enter an approval opinion",selectActivity:"Please select approve note",addSignee:"Add signee",footOk:"Ok",footCancel:"Cancel",assignee:{title:"Select Operator",cancelAssign:"Cancel to operate.",noAssignee:"Please select at least one approver.",successAssign:"Operate successfully.",errorAssign:"Operation failed, please contact the administrator!"},addsign:{title:"Select signee",selectConsultant:"Please select persons to consult.",successConsult:"Consult successfully.",cancelSignUp:"Cancel to sign up."},transfer:{title:"Select transfer person",selectHandover:"Please select transfer persons.",successTransfer:"Tranfer successfully."},columnName:{name:"Name",code:"Code",department:"Department",organization:"Organization",prcessName:"Process",version:"Version"},common:{placeHolder:"Please enter search name"},submit:{selectProcess:"Select Process",noProcess:"Process has not been selected."}},cueWords:{successClaim:"Claim successfully.",successUnClaim:"Cancel to claim successfully.",successRetrieve:"Retrieve successfully.",successPass:"Approved successfully.",successBack:"Dismissed successfully.",successRefuse:"Veto successfully.",success:"Operate successfully."}}},y=(b.prototype.getValue=function(e){return e?-1===e.indexOf(".")?this.langData[e]:e.split(".").reduce(function(e,t){return e?e[t]:null},this.langData):""},b.decorators=[{type:g.Injectable}],b.ctorParameters=function(){return[]},b);function b(){this.defaultLang=localStorage.getItem("languageCode"),this.defaultLang?this.langData=v[this.defaultLang]:this.langData=v["zh-CHS"]}var S=(w.prototype.ngOnInit=function(){},w.prototype.btnOKClick=function(){this.mySelection.length<1?this.msgService.warning(this.i18nService?this.i18nService.getValue("static.submit.noProcess"):"尚未选择流程定义，请了解。"):this.subject.next(this.mySelection[0])},w.prototype.btnCancelClick=function(){this.subject.next(null)},w.prototype.subscribe=function(){return this.subject.asObservable()},w.prototype.onSelectionChange=function(e){e&&e.data?this.mySelection=[e.data.procDefId]:this.mySelection=[]},w.decorators=[{type:g.Component,args:[{selector:"wf-process-selector",template:'<div style="background-color: white; overflow: auto;">\r\n    <farris-datatable class="f-utils-fill" [data]="gridData" [idField]="idField" [columns]="columns" [pagination]="false" [showFilterBar]=\'false\'\r\n        [singleSelect]="true" (selectedRow)="onSelectionChange($event)" [fill]="true" [height]="250">\r\n    </farris-datatable>\r\n</div>\r\n<div class="modal-footer flex-shrink-0">\r\n    <button type="button" class="btn btn-primary" (click)="btnOKClick()">{{(\'static.footOk\' | translate)?(\'static.footOk\' | translate):\'确定\' }}</button>\r\n    <button type="button" class="btn btn-default" (click)="btnCancelClick()">{{(\'static.footCancel\' | translate)?(\'static.footCancel\' | translate):\'取消\' }}</button>\r\n</div>',styles:[""]}]}],w.ctorParameters=function(){return[{type:o.MessagerService},{type:y,decorators:[{type:g.Optional}]}]},w.propDecorators={cls:[{type:g.HostBinding,args:["class"]}]},w);function w(e,t){this.msgService=e,this.i18nService=t,this.cls="farris-main-area flex-column",this.columns=[{title:this.i18nService?this.i18nService.getValue("static.columnName.prcessName"):"流程名称",field:"procDefName",width:200},{title:this.i18nService?this.i18nService.getValue("static.columnName.version"):"版本",field:"version",width:100}],this.idField="procDefId",this.mySelection=[],this.subject=new p.Subject}var C=(I.prototype.getWorkItemActions=function(e){var t="/api/runtime/wf/v1.0/workItems/"+e+"/actions";return this.httpSvc.get(t)},I.prototype.excuteTask=function(e,t){return t.workItemId=e,this.httpSvc.post("/api/runtime/wf/v1.0/workItems/complete",t)},I.prototype.getDestinationScope=function(e,t){var s="/api/runtime/wf/v1.0/workItems/"+e+"/nextNodes/"+t;return this.httpSvc.get(s)},I.prototype.getActionEntity=function(e,t){var s="/api/runtime/wf/v1.0/approvalAction?code="+t;return this.httpSvc.get(s)},I.prototype.addSign=function(e){return this.httpSvc.post("/api/runtime/wf/v1.0/workItems/counterSignAdd",e)},I.prototype.getAppInfo=function(e){var t="/api/runtime/wf/v1.0/workItems/"+e+"/formInfo";return this.httpSvc.get(t)},I.prototype.getBpmnModelbyWorkItemId=function(e){var t="/api/runtime/wf/v1.0/workItems/"+e+"/bpmnModel";return this.httpSvc.get(t)},I.prototype.getAllActiInstsbyTaskId=function(e){var t="/api/runtime/wf/v1.0/workItems/activityInstanceSlims?workItemId="+e;return this.httpSvc.get(t)},I.prototype.getActivityInstanceLogs=function(e){var t="/api/runtime/wf/v1.0/workItems/activityInstanceLogs?activityInstanceId="+e;return this.httpSvc.get(t)},I.prototype.getBizlogByTaskId=function(e){var t="/api/runtime/wf/v1.0/workItems/"+e+"/fullComments";return this.httpSvc.get(t)},I.prototype.getAssigneeInfo=function(e){var t="/api/runtime/wf/v1.0/workItems/"+e+"/assigneeInfo";return this.httpSvc.get(t)},I.prototype.assignNextUsersByProcInstId=function(e){return this.httpSvc.post("/api/runtime/wf/v1.0/processInstances/assignNextUsers",e)},I.prototype.assignNextUsersByWorkItemId=function(e){return this.httpSvc.post("/api/runtime/wf/v1.0/workItems/assignUser",e)},I.prototype.retrieve=function(e){return this.httpSvc.post("/api/runtime/wf/v1.0/workItems/retrieve",e)},I.prototype.transfer=function(e){return this.httpSvc.post("/api/runtime/wf/v1.0/workItems/transfer",e)},I.prototype.claim=function(e){var t={workItemId:e};return this.httpSvc.post("/api/runtime/wf/v1.0/workItems/claim",t)},I.prototype.unClaim=function(e){var t={workItemId:e};return this.httpSvc.post("/api/runtime/wf/v1.0/workItems/unclaim",t)},I.decorators=[{type:g.Injectable}],I.ctorParameters=function(){return[{type:c.HttpService}]},I);function I(e){this.httpSvc=e}var x=function(e,t){return(x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s])})(e,t)};function k(e,t){function s(){this.constructor=e}x(e,t),e.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}var A=function(){return(A=Object.assign||function(e){for(var t,s=1,i=arguments.length;s<i;s++)for(var n in t=arguments[s])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)};function O(t,o,a,c){return new(a||(a=Promise))(function(e,s){function i(e){try{r(c.next(e))}catch(t){s(t)}}function n(e){try{r(c["throw"](e))}catch(t){s(t)}}function r(t){t.done?e(t.value):new a(function(e){e(t.value)}).then(i,n)}r((c=c.apply(t,o||[])).next())})}function P(i,n){var r,o,a,e,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return e={next:t(0),"throw":t(1),"return":t(2)},"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function s(e){if(r)throw new TypeError("Generator is already executing.");for(;c;)try{if(r=1,o&&(a=2&e[0]?o["return"]:e[0]?o["throw"]||((a=o["return"])&&a.call(o),0):o.next)&&!(a=a.call(o,e[1])).done)return a;switch(o=0,a&&(e=[2&e[0],a.value]),e[0]){case 0:case 1:a=e;break;case 4:return c.label++,{value:e[1],done:!1};case 5:c.label++,o=e[1],e=[0];continue;case 7:e=c.ops.pop(),c.trys.pop();continue;default:if(!(a=0<(a=c.trys).length&&a[a.length-1])&&(6===e[0]||2===e[0])){c=0;continue}if(3===e[0]&&(!a||e[1]>a[0]&&e[1]<a[3])){c.label=e[1];break}if(6===e[0]&&c.label<a[1]){c.label=a[1],a=e;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(e);break}a[2]&&c.ops.pop(),c.trys.pop();continue}e=n.call(i,c)}catch(t){e=[6,t],o=0}finally{r=a=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}([t,e])}}}function U(e){var t="function"==typeof Symbol&&e[Symbol.iterator],s=0;return t?t.call(e):{next:function(){return e&&s>=e.length&&(e=void 0),{value:e&&e[s++],done:!e}}}}var L=(D.prototype.getUsersByIds=function(e){var t=this;return p.forkJoin(e.map(function(e){return t.http.get("/api/runtime/sys/v1.0/users/"+e+"?mode=0002")}))},D.prototype.getUserList=function(e,t,s){return e?this.getUser("codeorname",e,t,s):this.getUser("","",t,s)},D.prototype.getUser=function(e,t,s,i){var n="/api/runtime/sys/v1.0/users";return n+=e?'?param={"notGetCurrentUser":false,"pageIndex":'+s+',"pageSize":'+i+',"'+e+"\":'"+t+'\',"orderField":"order", "withAllOrg": "true", "queryMode":"0002"}':'?param={"notGetCurrentUser":false,"pageIndex":'+s+',"pageSize":'+i+',"orderField":"order", "withAllOrg": "true", "queryMode":"0002"}',this.httpSvc.get(n)},D.prototype.getUserList_Assign=function(e,t,s,i,n){return e?this.getUser_Assign("codeorname",e,t,s,i,n):this.getUser_Assign("","",t,s,i,n)},D.prototype.getUser_Assign=function(e,t,s,i,n,r){var o="/api/runtime/sys/v1.0/users";return o+=e?'?param={"notGetCurrentUser":false,"pageIndex":'+s+',"pageSize":'+i+',"'+e+"\":'"+t+'\',"orderField":"order", "withAllOrg": "true", "queryMode":"0002"}':'?param={"notGetCurrentUser":false,"pageIndex":'+s+',"pageSize":'+i+',"orderField":"order", "withAllOrg":\''+n+"',\"orgId\":'"+r+'\', "queryMode":"0002"}',this.httpSvc.get(o)},D.prototype.getBatchHeader=function(){var e=this.sessionSvc.getCurrentSeesionId();return(new a.HttpHeaders).set("SessionId",e).set("Accept","application/json")},D.prototype.toUpperCase=function(e){var t,s;if("object"==typeof e)try{for(var i=U(Object.keys(e)),n=i.next();!n.done;n=i.next()){var r=n.value;e[r.substring(0,1).toUpperCase()+r.substring(1)]=e[r],delete e[r]}}catch(o){t={error:o}}finally{try{n&&!n.done&&(s=i["return"])&&s.call(i)}finally{if(t)throw t.error}}return e},D.decorators=[{type:g.Injectable}],D.ctorParameters=function(){return[{type:a.HttpClient},{type:c.HttpService},{type:c.SessionService}]},D);function D(e,t,s){this.http=e,this.httpSvc=t,this.sessionSvc=s}var F=function ie(){},N=(V.prototype.ngOnInit=function(){},V.prototype.handleOk=function(){throw new Error("没有实现，需要子组件实现")},V.prototype.handleCancel=function(){this.completed.emit(!1),this.showModal(!1)},V.prototype.onPageSizeChange=function(e){this.paginationOptions.itemsPerPage=e,this.getUserList()},V.prototype.onPageChange=function(e){this.paginationOptions.currentPage=e.pageIndex,this.getUserList()},V.prototype.getUserList=function(){var t=this;this.userSvc.getUserList(this.searchValue,this.paginationOptions.currentPage,this.paginationOptions.itemsPerPage).subscribe(function(e){t.paginationOptions.totalItems=e.totalCount,t.userListData=e.data.map(function(e){return{ID:e.id,Code:e.code,Name:e.name,OrgId:e.sysOrgId,OrgName:e.sysOrgName,Checked:!1}})})},V.prototype.search=function(e){this.paginationOptions.currentPage=1,this.searchValue=encodeURIComponent(e.value),"*"===e.field?this.getUserList():"Name"===e.field?this.getUserList():this.notify.warning("只支持用户名称过滤！")},V.prototype.showModal=function(e){e?(this.userDialog.show(),this.getUserList()):this.userDialog.beforeClose&&this.userDialog.close()},V.decorators=[{type:g.Component,args:[{selector:"wf-user-helper",template:'<farris-dialog #allUserDialog [buttons]="buttonRef" [width]="850" [height]="520" [title]="\'系统用户\'">\r\n  <div class="d-flex flex-column my-data-grid h-100" style="padding: 0 14px;">\r\n    <div class="flex-auto" style="position:relative;">\r\n      <farris-datatable #allUserTable [columns]="columns" [data]="userListData | paginate: paginationOptions"\r\n        [showFilterBar]=\'true\' [singleSelect]="singleSelect" [idField]="\'ID\'" [remote]="\'server\'" (search)="search($event)"\r\n        [pagination]=\'false\'></farris-datatable>\r\n    </div>\r\n    <div style="position:relative;">\r\n      <pagination-controls [id]="paginationOptions.id" [previousLabel]="\' \'" [nextLabel]="\' \'"\r\n        (pageChange)="onPageChange($event)" (pageSizeChange)="onPageSizeChange($event)">\r\n      </pagination-controls>\r\n    </div>\r\n  </div>\r\n</farris-dialog>\r\n<ng-template #buttonRef>\r\n  <button class="btn btn-sm btn-primary px-3" (click)="handleOk()">确定</button>\r\n  <button class="btn btn-sm btn-default px-3" (click)="handleCancel()">取消</button>\r\n</ng-template>',styles:[".my-data-grid .filter-row .search-fields{padding-left:0!important}.my-data-grid .filter-row .search-text{padding-right:0!important}"]}]}],V.ctorParameters=function(){return[{type:y,decorators:[{type:g.Optional}]},{type:L},{type:u.NotifyService}]},V.propDecorators={userTable:[{type:g.ViewChild,args:["allUserTable"]}],userDialog:[{type:g.ViewChild,args:["allUserDialog"]}],completed:[{type:g.Output}]},V);function V(e,t,s){this.i18nService=e,this.userSvc=t,this.notify=s,this.pageList=[10,20,30,50,100],this.paginationOptions={id:"WF-Users-DataTable-Pagination",currentPage:1,itemsPerPage:10,pageList:this.pageList,totalItems:0},this.columns=[{title:this.i18nService?this.i18nService.getValue("static.columnName.code"):"编号",field:"Code",width:80},{title:this.i18nService?this.i18nService.getValue("static.columnName.name"):"姓名",field:"Name",width:90},{title:this.i18nService?this.i18nService.getValue("static.columnName.department"):"部门",field:"OrgName",width:200}],this.searchValue=null,this.userListData=[],this.singleSelect=!1,this.selectedUsers=[],this.completed=new g.EventEmitter}var M,T=(k(E,M=N),Object.defineProperty(E.prototype,"addsign_context",{set:function(e){this.selectedUsers=[],this.addSignContext=A({},e,{assignees:[]}),this.showModal(!!this.addSignContext.workItemId)},enumerable:!0,configurable:!0}),E.prototype.ngOnInit=function(){},E.prototype.handleOk=function(){var t=this;if(this.selectedUsers=this.userTable.selections,"AddSignFront"===this.addSignContext.action){if(!this.selectedUsers||this.selectedUsers.length<1)return void this.notify.info(this.i18nService.getValue("static.addsign.selectConsultant"));this.addSignContext.assignees=this.selectedUsers.map(function(e){return e.ID}),this.taskSvc.addSign(this.addSignContext).subscribe(function(){t.notify.success(t.i18nService.getValue("static.addsign.successConsult")),t.completed.emit(!0),t.showModal(!1)},function(e){e&&e.error&&e.error.Message&&t.notify.error(e.error.Message)})}else this.completed.emit(!0),this.showModal(!1)},E.decorators=[{type:g.Component,args:[{selector:"wf-task-signadd",template:'<farris-dialog #allUserDialog [buttons]="buttonRef" [width]="850" [height]="520" [title]="\'系统用户\'">\r\n  <div class="d-flex flex-column my-data-grid h-100" style="padding: 0 14px;">\r\n    <div class="flex-auto" style="position:relative;">\r\n      <farris-datatable #allUserTable [columns]="columns" [data]="userListData | paginate: paginationOptions"\r\n        [showFilterBar]=\'true\' [singleSelect]="singleSelect" [idField]="\'ID\'" [remote]="\'server\'" (search)="search($event)"\r\n        [pagination]=\'false\'></farris-datatable>\r\n    </div>\r\n    <div style="position:relative;">\r\n      <pagination-controls [id]="paginationOptions.id" [previousLabel]="\' \'" [nextLabel]="\' \'"\r\n        (pageChange)="onPageChange($event)" (pageSizeChange)="onPageSizeChange($event)">\r\n      </pagination-controls>\r\n    </div>\r\n  </div>\r\n</farris-dialog>\r\n<ng-template #buttonRef>\r\n  <button class="btn btn-sm btn-primary px-3" (click)="handleOk()">确定</button>\r\n  <button class="btn btn-sm btn-default px-3" (click)="handleCancel()">取消</button>\r\n</ng-template>',styles:[".my-data-grid .filter-row .search-fields{padding-left:0!important}.my-data-grid .filter-row .search-text{padding-right:0!important}"]}]}],E.ctorParameters=function(){return[{type:C},{type:L},{type:u.NotifyService},{type:y}]},E.propDecorators={addsign_context:[{type:g.Input}],completed:[{type:g.Output}]},E);function E(e,t,s,i){var n=M.call(this,i,t)||this;return n.taskSvc=e,n.userSvc=t,n.notify=s,n.i18nService=i,n.completed=new g.EventEmitter,n.paginationOptions.id="WF-SignAdd-DataTable-Pagination",n}var W=(Object.defineProperty(j.prototype,"workitemId",{get:function(){return this.inWorkitemId},set:function(e){this.inWorkitemId=e&&e.trim(),this.inWorkitemId&&this.refreshActions()},enumerable:!0,configurable:!0}),j.prototype.ngOnInit=function(){},j.prototype.refreshActions=function(){var t=this;this.taskSvc.getWorkItemActions(this.inWorkitemId).subscribe(function(e){t.taskActions=e.map(function(e){return e.parameters=JSON.parse(e.parameters),e}),t.taskActions=t.taskActions.filter(function(e){return"ViewBizLog"!==e.code&&"ViewFlowChart"!==e.code&&"ViewExecuteForm"!==e.code}),t.actions.emit(t.taskActions)},function(e){t.showError(e)})},j.prototype.completedEvt=function(e){void 0===e&&(e=!0),e&&this.refreshActions(),this.completed.emit(e)},j.prototype.complete=function(e,t){var s=this;switch(e){case"AssignUser":this.assignee(this.inWorkitemId);break;case"Claim":this.taskSvc.claim(this.inWorkitemId).subscribe(function(e){s.notify.success(s.i18nService.getValue("cueWords.successClaim")),s.refreshActions(),s.completed.emit(!1)},function(e){s.showError(e)});break;case"Unclaim":this.taskSvc.unClaim(this.inWorkitemId).subscribe(function(e){s.notify.success(s.i18nService.getValue("cueWords.successUnClaim")),s.refreshActions(),s.completed.emit(!1)},function(e){s.showError(e)});break;case"Retrieve":this.taskSvc.retrieve({workItemId:this.inWorkitemId,comment:t}).subscribe(function(e){s.notify.success(s.i18nService.getValue("cueWords.successRetrieve")),s.completedEvt()},function(e){s.showError(e)});break;case"Transfer":this.transferContext={workItemId:this.inWorkitemId,comment:t};break;case"AddSignFront":this.addSignContext={workItemId:this.inWorkitemId,action:"AddSignFront"};break;default:this.executeTask(e,t)}},j.prototype.refreshList=function(e){this.completedEvt(e)},j.prototype.runAddSign=function(){this.addSignContext={workItemId:this.inWorkitemId,action:"AddSignBehind"}},j.prototype.addSignComplete=function(e){"AddSignFront"===this.addSignContext.action?this.refreshList(e):(this.completeContext.signAssignees=this.addSignCmp.selectedUsers.map(function(e){return e.ID}),this.selectAddSignees=this.addSignCmp.selectedUsers.map(function(e){return e.Name}).join(","))},j.prototype.handleOk=function(){var t=this;this.completeContext.comment?!this.hasDefaultBranch&&this.completeContext.destinationActivityId.length<=0?this.notify.info("请选择目标节点"):this.taskSvc.excuteTask(this.inWorkitemId,this.completeContext).subscribe(function(e){t.commentModal.close(),t.excutePostEvent(),"Pass"===t.completeContext.conclusionValue?t.notify.success(t.i18nService.getValue("cueWords.successPass")):"Back"===t.completeContext.conclusionValue?t.notify.success(t.i18nService.getValue("cueWords.successBack")):"Refuse"===t.completeContext.conclusionValue?t.notify.success(t.i18nService.getValue("cueWords.successRefuse")):t.notify.success(t.i18nService.getValue("cueWords.success")),e.needInteraction?(t.refreshActions(),t.assigneeInfos=[e.nextFlowNodes[0].assigneeInfo]):t.completedEvt()},function(e){t.showError(e)}):this.notify.info("请输入审批意见")},j.prototype.handleCancel=function(){this.completeContext=new F,this.commentModal.close()},j.prototype.assignee=function(t){var s=this;this.taskSvc.getAssigneeInfo(t).subscribe(function(e){e.assigneeInfo.workItemId=t,s.assigneeInfos=[e.assigneeInfo]},function(e){s.showError(e)})},j.prototype.initState=function(){this.selectAddSignees="",this.destActivities=null,this.needAddSign=!1},j.prototype.executeTask=function(t,e){var s=this;this.initState(),this.completeContext={workItemId:this.inWorkitemId,conclusionValue:t,comment:"",signAssignees:[],destinationActivityId:""},this.completeContext.comment="Pass"===t?this.actionsTitle.pass:"",e&&(this.completeContext.comment=e);var i=this.taskActions.find(function(e){return e.code===t});this.taskSvc.getActionEntity(this.workitemId,t).subscribe(function(e){e?p.from(s.excuteAction(e)).subscribe(function(){e.webComponent||s.showExcuteModal(i)}):s.showExcuteModal(i)},function(e){s.showError(e)})},j.prototype.showExcuteModal=function(e){e&&e.parameters&&("True"!==e.parameters.SelectTargetAble&&"true"!==e.parameters.SelectTargetAble||this.getDestinationNodes(this.inWorkitemId,e.code),"True"!==e.parameters.AddSignBehindAble&&"true"!==e.parameters.AddSignBehindAble||(this.needAddSign=!0)),this.commentModal.show()},j.prototype.getDestinationNodes=function(e,t){var i=this,n=[];this.taskSvc.getDestinationScope(e,t).subscribe(function(e){var t=(n=e).map(function(e){return e.nodeInfoList}),s=[];t.forEach(function(e){s=s.concat(e)}),i.destActivities=s.map(function(e){return{id:e.activityDefinitionId,name:e.activityDefinitionName}}),i.hasDefaultBranch=i.hasDefaultBranchFunc(n)},function(e){i.showError(e)})},j.prototype.hasDefaultBranchFunc=function(e){for(var t=0;t<e.length;t++)if(e[t].defaultBranch)return this.displayPlaceholder=e[t].nodeInfoList[0].activityDefinitionName,!0;return!1},j.prototype.excuteAction=function(n){return O(this,void 0,void 0,function(){var t,s,i;return P(this,function(e){switch(e.label){case 0:return[4,this.getActionWebEventsFunc(n)];case 1:if(e.sent(),this.preFuncList&&0<this.preFuncList.length)for(t=function(t){s.preFuncList.filter(function(e){return e.index===t})[0].func()},s=this,i=0;i<this.preFuncList.length;i++)t(i);return this.webCptFunc&&this.webCptFunc(),[2]}})})},j.prototype.excutePostEvent=function(){if(this.postFuncList&&0<this.postFuncList.length)for(var e=function(t){s.postFuncList.filter(function(e){return e.index===t})[0].func()},s=this,t=0;t<this.postFuncList.length;t++)e(t)},j.prototype.getActionWebEventsFunc=function(A){return O(this,void 0,void 0,function(){var i,n,r,o,a,c,l,u,p,d,h,g,f,m,v,y,b,S,w,C,I,x,k;return P(this,function(e){switch(e.label){case 0:if(this.preFuncList=[],this.webCptFunc=null,this.postFuncList=[],l=[],p=u=0,A.preEvent&&0<A.preEvent.length)try{for(d=U(A.preEvent),h=d.next();!h.done;h=d.next())g=h.value,f={event:"pre",index:u++,funcName:g.component.split("#")[1],req:System["import"](g.component.split("#")[0])},l.push(f)}catch(t){i={error:t}}finally{try{h&&!h.done&&(n=d["return"])&&n.call(d)}finally{if(i)throw i.error}}if(A.webComponent&&(m={event:"cpt",index:0,funcName:A.webComponent.split("#")[1],req:System["import"](A.webComponent.split("#")[0])},l.push(m)),A.postEvent&&0<A.postEvent.length)try{for(v=U(A.postEvent),y=v.next();!y.done;y=v.next())b=y.value,S={event:"post",index:p++,funcName:b.component.split("#")[1],req:System["import"](b.component.split("#")[0])},l.push(S)}catch(s){r={error:s}}finally{try{y&&!y.done&&(o=v["return"])&&o.call(v)}finally{if(r)throw r.error}}e.label=1;case 1:e.trys.push([1,6,7,8]),w=U(l),C=w.next(),e.label=2;case 2:return C.done?[3,5]:[4,(I=C.value).req];case 3:x=e.sent(),"pre"===I.event?this.preFuncList.push({index:I.index,func:x["default"][I.funcName]}):"post"===I.event?this.postFuncList.push({index:I.index,func:x["default"][I.funcName]}):this.webCptFunc=x["default"][I.funcName],e.label=4;case 4:return C=w.next(),[3,2];case 5:return[3,8];case 6:return k=e.sent(),a={error:k},[3,8];case 7:try{C&&!C.done&&(c=w["return"])&&c.call(w)}finally{if(a)throw a.error}return[7];case 8:return[2]}})})},j.prototype.showError=function(e){e&&e.error&&e.error.Message?this.notify.error(e.error.Message):this.notify.error(e)},j.decorators=[{type:g.Component,args:[{selector:"wf-workitem-handle",template:'<farris-dialog #commentModal [enableScroll]= "false" [buttons]="buttonRef" [width]="550" [height]="360" [title]="\'static.title\' | translate">\r\n    <div style="padding: 20px;">\r\n        <div>\r\n            <wf-comment class="w-100" [(ngModel)]="completeContext.comment" name="comment"\r\n                [placeholder]="\'static.inputHolder\' | translate"></wf-comment>\r\n        </div>\r\n        <div class="d-flex" style="height:28px;overflow: hidden;">\r\n            <div *ngIf="needAddSign" style="flex:1;display: flex;height:28px;overflow: hidden;" [ngStyle]="{\'padding-right\': destActivities ? \'20px\' : \'0px\'}">\r\n                <label style="padding-right: 10px;line-height: 24px;">{{ \'static.addSignee\' | translate }}</label>\r\n                <div class="d-flex" style="flex: 1">\r\n                    <div class="input-group">\r\n                        <input type="text" class="form-control" [(ngModel)]="selectAddSignees" [readOnly]="true" placeholder="请选择"/>\r\n                        <button class="k-button k-bare" type="button" (click)="runAddSign()">\r\n                            <i class="f-icon f-icon-lookup" style="color: #bfbfbf; margin: 0 -8px 0 0;"></i>\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div *ngIf="destActivities" style="flex:1;display: flex;height:28px;overflow: hidden;">\r\n                <label style="padding-right: 10px;line-height: 24px;">{{ \'static.selectActivity\' | translate }}</label>\r\n                <div class="d-flex" style="flex:1">\r\n                    <farris-combo-list  [data]="destActivities" [textField]="\'name\'" [valueField]="\'id\'" [idField]="\'id\'"\r\n                        [(ngModel)]="completeContext.destinationActivityId" style="flex: 1;" [placeholder] = "displayPlaceholder">\r\n                    </farris-combo-list >\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</farris-dialog>\r\n<ng-template #buttonRef>\r\n    <button class="btn btn-sm btn-primary px-3" (click)="handleOk()">{{\r\n            \'static.footOk\' | translate }}</button>\r\n    <button class="btn btn-sm btn-default px-3" (click)="handleCancel()">{{\r\n            \'static.footCancel\' | translate }}</button>\r\n</ng-template>\r\n\r\n\x3c!-- 指派 --\x3e\r\n<wf-task-assign [assigneeInfo]="assigneeInfos" (completed)="refreshList($event)"></wf-task-assign>\r\n\x3c!-- 移交 --\x3e\r\n<wf-task-transfer [transfer_context]="transferContext" (completed)="refreshList($event)"></wf-task-transfer>\r\n\x3c!-- 加签、征询 --\x3e\r\n<wf-task-signadd [addsign_context]="addSignContext" (completed)="addSignComplete($event)"></wf-task-signadd>\r\n',styles:[""]}]}],j.ctorParameters=function(){return[{type:C},{type:u.NotifyService},{type:y}]},j.propDecorators={addSignCmp:[{type:g.ViewChild,args:[T]}],commentModal:[{type:g.ViewChild,args:["commentModal"]}],workitemId:[{type:g.Input}],actions:[{type:g.Output}],completed:[{type:g.Output}]},j);function j(e,t,s){var i=this;this.taskSvc=e,this.notify=t,this.i18nService=s,this.completeContext=new F,this.displayPlaceholder="请选择",this.hasDefaultBranch=!0,this.actions=new g.EventEmitter,this.completed=new g.EventEmitter,this.preFuncList=[],this.postFuncList=[],this.height=420,this.actionsTitle={pass:"",back:"",refuse:"",more:"",viewLog:"",viewFlowChart:"",viewBizlog:""};var n=this.i18nService.getValue("static.taskActions");Object.keys(this.actionsTitle).forEach(function(e){i.actionsTitle[e]=n[e]})}var B,z=(k(R,B=N),Object.defineProperty(R.prototype,"assigneeInfo",{set:function(e){e&&0<e.length?(this.assignees=e,this.showModal(!0),this.execute()):this.showModal(!1)},enumerable:!0,configurable:!0}),R.prototype.ngOnInit=function(){},R.prototype.execute=function(){this.assigneesPa={workItemId:this.assignees[0].workItemId,assigneeIds:[],comment:""},this.singleSelect=!this.assignees[0].multiSelect,this.allowGlobalAssign=this.assignees[0].allowGlobalAssign,this.assignees[0].assigneeUsers&&this.assignees[0].assigneeUsers.length?this.getAssignedUsers():this.allowGlobalAssign&&this.getUserList()},R.prototype.getAssignedUsers=function(){this.allUserData=this.assignees[0].assigneeUsers.map(function(e){return{ID:e.id,Name:e.name,Code:e.code,OrgId:e.orgId,OrgName:e.orgNamePath}}),this.userListData=this.allUserData},R.prototype.handleOk=function(){var t=this;this.selectedUsers=this.singleSelect?[this.userTable.selections]:this.userTable.selections,!this.selectedUsers||this.selectedUsers.length<1?this.notify.warning(this.i18nService.getValue("static.assignee.noAssignee")):(this.assignees.shift(),this.assigneesPa.assigneeIds=this.selectedUsers.map(function(e){return e.ID}),0<this.assignees.length?(this.userListData=[],this.execute()):this.taskSvc.assignNextUsersByWorkItemId(this.assigneesPa).subscribe(function(){t.showModal(!1),t.notify.success(t.i18nService.getValue("static.assignee.successAssign")),t.completed.emit(!0)},function(e){e&&e.error&&e.error.Message&&t.notify.error(e.error.Message)}))},R.prototype.search=function(e){var t=this;this.assignees[0].assigneeUsers&&this.assignees[0].assigneeUsers.length?(this.searchValue=e.value,this.searchValue?this.userListData=this.allUserData.filter(function(e){return e.Name&&e.Name.includes(t.searchValue)||e.Code&&e.Code.includes(t.searchValue)}):this.getAssignedUsers()):B.prototype.search.call(this,e)},R.prototype.showModal=function(e){e?this.userDialog.show():this.userDialog.beforeClose&&this.userDialog.close()},R.prototype.onPageSizeChange=function(e){this.paginationOptions.itemsPerPage=e,this.allowGlobalAssign&&this.getUserList()},R.prototype.onPageChange=function(e){this.paginationOptions.currentPage=e.pageIndex,this.allowGlobalAssign&&this.getUserList()},R.decorators=[{type:g.Component,args:[{selector:"wf-task-assign",template:'<farris-dialog #allUserDialog [buttons]="buttonRef" [width]="850" [height]="520" [title]="\'系统用户\'">\r\n  <div class="d-flex flex-column my-data-grid h-100" style="padding: 0 14px;">\r\n    <div class="flex-auto" style="position:relative;">\r\n      <farris-datatable #allUserTable [columns]="columns" [data]="userListData | paginate: paginationOptions"\r\n        [showFilterBar]=\'true\' [singleSelect]="singleSelect" [idField]="\'ID\'" [remote]="\'server\'" (search)="search($event)"\r\n        [pagination]=\'false\'></farris-datatable>\r\n    </div>\r\n    <div style="position:relative;">\r\n      <pagination-controls [id]="paginationOptions.id" [previousLabel]="\' \'" [nextLabel]="\' \'"\r\n        (pageChange)="onPageChange($event)" (pageSizeChange)="onPageSizeChange($event)">\r\n      </pagination-controls>\r\n    </div>\r\n  </div>\r\n</farris-dialog>\r\n<ng-template #buttonRef>\r\n  <button class="btn btn-sm btn-primary px-3" (click)="handleOk()">确定</button>\r\n  <button class="btn btn-sm btn-default px-3" (click)="handleCancel()">取消</button>\r\n</ng-template>',styles:[".my-data-grid .filter-row .search-fields{padding-left:0!important}.my-data-grid .filter-row .search-text{padding-right:0!important}"]}]}],R.ctorParameters=function(){return[{type:C},{type:L},{type:u.NotifyService},{type:y}]},R.propDecorators={assigneeInfo:[{type:g.Input}],completed:[{type:g.Output}]},R);function R(e,t,s,i){var n=B.call(this,i,t)||this;return n.taskSvc=e,n.userSvc=t,n.notify=s,n.i18nService=i,n.completed=new g.EventEmitter,n.paginationOptions.id="WF-TaskAss-DataTable-Pagination",n}var q,H=(k(_,q=N),Object.defineProperty(_.prototype,"transfer_context",{set:function(e){this.transferContext=A({},e,{assignee:""}),this.selectedUsers=[],this.showModal(!!this.transferContext.workItemId)},enumerable:!0,configurable:!0}),_.prototype.ngOnInit=function(){},_.prototype.handleOk=function(){var t=this;this.selectedUsers=this.userTable.selections,this.selectedUsers?(this.transferContext.assignee=this.selectedUsers.ID,this.taskSvc.transfer(this.transferContext).subscribe(function(){t.notify.success(t.i18nService.getValue("static.transfer.successTransfer")),t.completed.emit(!0),t.showModal(!1)},function(e){e&&e.error&&e.error.Message&&t.notify.error(e.error.Message)})):this.notify.info(this.i18nService.getValue("static.transfer.selectHandover"))},_.decorators=[{type:g.Component,args:[{selector:"wf-task-transfer",template:'<farris-dialog #allUserDialog [buttons]="buttonRef" [width]="850" [height]="520" [title]="\'系统用户\'">\r\n  <div class="d-flex flex-column my-data-grid h-100" style="padding: 0 14px;">\r\n    <div class="flex-auto" style="position:relative;">\r\n      <farris-datatable #allUserTable [columns]="columns" [data]="userListData | paginate: paginationOptions"\r\n        [showFilterBar]=\'true\' [singleSelect]="singleSelect" [idField]="\'ID\'" [remote]="\'server\'" (search)="search($event)"\r\n        [pagination]=\'false\'></farris-datatable>\r\n    </div>\r\n    <div style="position:relative;">\r\n      <pagination-controls [id]="paginationOptions.id" [previousLabel]="\' \'" [nextLabel]="\' \'"\r\n        (pageChange)="onPageChange($event)" (pageSizeChange)="onPageSizeChange($event)">\r\n      </pagination-controls>\r\n    </div>\r\n  </div>\r\n</farris-dialog>\r\n<ng-template #buttonRef>\r\n  <button class="btn btn-sm btn-primary px-3" (click)="handleOk()">确定</button>\r\n  <button class="btn btn-sm btn-default px-3" (click)="handleCancel()">取消</button>\r\n</ng-template>',styles:[".my-data-grid .filter-row .search-fields{padding-left:0!important}.my-data-grid .filter-row .search-text{padding-right:0!important}"]}]}],_.ctorParameters=function(){return[{type:C},{type:L},{type:u.NotifyService},{type:y}]},_.propDecorators={transfer_context:[{type:g.Input}],completed:[{type:g.Output}]},_);function _(e,t,s,i){var n=q.call(this,i,t)||this;return n.taskSvc=e,n.userSvc=t,n.notify=s,n.i18nService=i,n.completed=new g.EventEmitter,n.singleSelect=!0,n.paginationOptions.id="WF-TaskTransfer-DataTable-Pagination",n}var $=function ne(){},G=(Object.defineProperty(K.prototype,"assigneeInfo",{set:function(e){this.assignees=e,this.assigneesPa={procInstId:"",assigneeInfos:[]},this.getUserList()},enumerable:!0,configurable:!0}),K.prototype.ngOnInit=function(){},K.prototype.getUserList=function(){this.singleSelect=!this.assignees[0].multiSelect,this.assignees[0].assigneeUsers&&this.assignees[0].assigneeUsers.length?this.getAssignedUsers():this.assignees[0].allowGlobalAssign?(this.assignees[0].organizationScope&&this.assignees[0].organizationScope.length&&(this.withAllOrg=this.assignees[0].organizationScope[0].includeChildren,this.orgId=this.assignees[0].organizationScope[0].id),this.getAllUserList()):this.getAssignedUsers()},K.prototype.getAssignedUsers=function(){0<this.assignees.length&&(this.selectedUsers=this.assignees[0].assigneeUsers.map(function(e){return{ID:e.id,Name:e.name,Code:e.code,OrgId:e.orgId,OrgName:e.orgNamePath}}),this.userListData=this.selectedUsers)},K.prototype.getAllUserList=function(){var t=this,s=this.loadingService.show();this.userSvc.getUserList_Assign(this.searchValue,this.paginationOptions.currentPage,this.paginationOptions.itemsPerPage,this.withAllOrg,this.orgId).subscribe(function(e){s.close(),t.paginationOptions.totalItems=e.totalCount,t.userListData=e.data.map(function(e){return{ID:e.id,Code:e.code,Name:e.name,OrgId:e.sysOrgId,OrgName:e.orgNamePath,Checked:!1}})},function(e){s.close()})},K.prototype.search=function(e){var t=this;this.searchValue=e.value,this.assignees[0].assigneeUsers&&this.assignees[0].assigneeUsers.length?this.searchValue?this.userListData=this.selectedUsers.filter(function(e){return e.Name&&e.Name.includes(t.searchValue)||e.Code&&e.Code.includes(t.searchValue)}):this.getAssignedUsers():(this.paginationOptions.currentPage=1,this.getUserList())},K.prototype.btnCancelClick=function(){this.notify.info(this.i18nService?this.i18nService.getValue("static.assignee.cancelAssign"):"已取消操作。"),this.subject.next(null)},K.prototype.btnOKClick=function(){var t=this;if(this.selectedUsers=this.singleSelect?[this.userTable.selections]:this.userTable.selections,!this.selectedUsers||this.selectedUsers.length<1)this.notify.warning(this.i18nService?this.i18nService.getValue("static.assignee.noAssignee"):"请至少选择一个审批人。");else{var e=this.assignees.shift();if(e.assigneeIds=this.selectedUsers.map(function(e){return e.ID}),this.assigneesPa.assigneeInfos.push(e),0<this.assignees.length)this.userListData=[],this.getUserList();else{var s=this.loadingService.show();this.taskSvc.assignNextUsersByProcInstId(this.assigneesPa).subscribe(function(){s.close(),t.notify.success(t.i18nService?t.i18nService.getValue("static.assignee.successAssign"):"操作成功。"),t.subject.next(t.assigneesPa)},function(e){t.notify.error(t.i18nService?t.i18nService.getValue("static.assignee.errorAssign"):"操作失败，请联系管理员查看原因！"),t.subject.error(t.i18nService?t.i18nService.getValue("static.assignee.errorAssign"):"操作失败，请联系管理员查看原因！")})}}},K.prototype.subscribe=function(){return this.subject.asObservable()},K.prototype.onPageSizeChange=function(e){this.paginationOptions.itemsPerPage=e,this.getUserList()},K.prototype.onPageChange=function(e){this.paginationOptions.currentPage=e.pageIndex,this.getUserList()},K.decorators=[{type:g.Component,args:[{selector:"wf-assign-participant",template:'<div class="modal-body farris-overflow-hidden f-utils-flex-column" style="background-color: white;">\r\n  <div class="d-flex flex-column my-data-grid h-100" style="padding: 0 14px;">\r\n    <div class="flex-auto h-100" style="position:relative; overflow: auto;">\r\n      <farris-datatable #allUserTable [columns]="columns" [data]="userListData | paginate: paginationOptions"\r\n        [showFilterBar]=\'true\' [singleSelect]="singleSelect" [idField]="\'ID\'" [remote]="\'server\'"\r\n        (search)="search($event)" [pagination]=\'false\'></farris-datatable>\r\n    </div>\r\n    <div style="position:relative;">\r\n      <pagination-controls [id]="paginationOptions.id" [previousLabel]="\' \'" [nextLabel]="\' \'" [showPageList]="false"\r\n        (pageChange)="onPageChange($event)" (pageSizeChange)="onPageSizeChange($event)">\r\n      </pagination-controls>\r\n    </div>\r\n  </div>\r\n</div>\r\n<div class="modal-footer flex-shrink-0">\r\n  <button type="button" class="btn btn-primary" (click)="btnOKClick()">{{(\'static.footOk\' | translate)?(\'static.footOk\' | translate):\'确定\' }}</button>\r\n  <button type="button" class="btn btn-default" (click)="btnCancelClick()">{{(\'static.footCancel\' | translate)?(\'static.footCancel\' | translate):\'取消\' }}</button>\r\n</div>\r\n',styles:[""]}]}],K.ctorParameters=function(){return[{type:L},{type:u.NotifyService},{type:C},{type:m.LoadingService},{type:y,decorators:[{type:g.Optional}]}]},K.propDecorators={cls:[{type:g.HostBinding,args:["class"]}],assigneeInfo:[{type:g.Input}],userTable:[{type:g.ViewChild,args:["allUserTable"]}]},K);function K(e,t,s,i,n){this.userSvc=e,this.notify=t,this.taskSvc=s,this.loadingService=i,this.i18nService=n,this.cls="farris-main-area flex-column",this.pageList=[10,20,30,50,100],this.paginationOptions={id:"WF-Users-DataTable-Pagination",currentPage:1,itemsPerPage:10,pageList:this.pageList,totalItems:0},this.subject=new p.Subject,this.withAllOrg=!0,this.orgId="",this.userListData=[],this.singleSelect=!1,this.searchValue=null,this.selectedUsers=[],this.columns=[{title:this.i18nService?this.i18nService.getValue("static.columnName.code"):"编号",field:"Code",width:80},{title:this.i18nService?this.i18nService.getValue("static.columnName.name"):"姓名",field:"Name",width:90},{title:this.i18nService?this.i18nService.getValue("static.columnName.department"):"组织信息",field:"OrgName",width:180}]}var J=(Q.prototype.excute=function(e,t){var s=new $;if(!1===e.needInteraction)return s.message="无需交互",void t(s);e.procDefs&&1<e.procDefs.length?this.selectProcess(e.procDefs,t):e.nextFlowNodes[0].assigneeInfo&&this.assignee([e.nextFlowNodes[0].assigneeInfo],t)},Q.prototype.selectProcess=function(e,t){var s=new $,i={title:this.i18nService?this.i18nService.getValue("static.submit.selectProcess"):"流程选择",width:520,height:290,showButtons:!1,showMaxButton:!1,beforeClose:function(e){return t(s),p.of(!0)}},n=this.resolver.resolveComponentFactory(S).create(this.injector);n.instance.gridData=e;var r=this.modalService.show(n,i);n.instance.subscribe().subscribe(function(e){s.processDefinitionId=e,r.close()},function(e){s.message=e,r.close()})},Q.prototype.assignee=function(e,t){var s=new $,i={title:this.i18nService?this.i18nService.getValue("static.assignee.title"):"请选择操作用户",width:850,height:520,showMaxButton:!1,showButtons:!1,beforeClose:function(e){return t(s),p.of(!0)}},n=this.resolver.resolveComponentFactory(G).create(this.injector);n.instance.assigneeInfo=e;var r=this.modalService.show(n,i);n.instance.subscribe().subscribe(function(e){r.close()},function(e){r.close()})},Q.decorators=[{type:g.Injectable}],Q.ctorParameters=function(){return[{type:g.Injector},{type:g.ComponentFactoryResolver},{type:l.BsModalService},{type:y,decorators:[{type:g.Optional}]}]},Q);function Q(e,t,s,i){this.injector=e,this.resolver=t,this.modalService=s,this.i18nService=i}var X=(Y.prototype.transform=function(e,t){if(void 0===t&&(t=""),this.i18nService){var s=this.i18nService.getValue(e);return s||t}return t},Y.decorators=[{type:g.Pipe,args:[{name:"translate"}]}],Y.ctorParameters=function(){return[{type:y,decorators:[{type:g.Optional}]}]},Y);function Y(e){this.i18nService=e}var Z=(ee.decorators=[{type:g.NgModule,args:[{imports:[t.CommonModule,s.FormsModule,a.HttpClientModule,i.DataTableModule,n.FarrisDialogModule,r.PaginationModule,u.NotifyModule,o.MessagerModule.forRoot({width:500}),d.DatagridModule,h.WFCommentModule,f.ComboListModule,m.LoadingModule],declarations:[S,W,N,z,T,H,G,X],providers:[c.HttpService,C,L,c.SessionService,J,y],exports:[S,W,N,z,T,H,G],entryComponents:[S,W,N,z,T,H,G]}]}],ee);function ee(){}function te(){}function se(){}e.WFRuntimeModule=Z,e.InteractionResponse=$,e.ExcutionResponse=te,e.WorkitemAction=se,e.WFSubmiteService=J,e.WfWorkitemHandleComponent=W,e.TaskAssignComponent=z,e.TaskSignaddComponent=T,e.TaskTransferComponent=H,e.UserHelperComponent=N,e.TaskService=C,e.UserService=L,e.I18nService=y,e.TranslatePipe=X,e.ProcessSelectorComponent=S,e.ɵa=G,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=gsp-wf-rtdevkit.umd.min.js.map