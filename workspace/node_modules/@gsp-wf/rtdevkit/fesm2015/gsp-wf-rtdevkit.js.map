{"version":3,"file":"gsp-wf-rtdevkit.js.map","sources":["ng://@gsp-wf/rtdevkit/lib/runtime/services/i18n/en-us.ts","ng://@gsp-wf/rtdevkit/lib/runtime/services/i18n/zh-cn.ts","ng://@gsp-wf/rtdevkit/lib/runtime/services/i18n/index.ts","ng://@gsp-wf/rtdevkit/lib/runtime/services/i18n.service.ts","ng://@gsp-wf/rtdevkit/lib/submit/process-selector/process-selector.component.ts","ng://@gsp-wf/rtdevkit/lib/runtime/services/task.service.ts","ng://@gsp-wf/rtdevkit/lib/runtime/services/user.service.ts","ng://@gsp-wf/rtdevkit/lib/entity/complete-context.ts","ng://@gsp-wf/rtdevkit/lib/runtime/components/user-helper/user-helper.component.ts","ng://@gsp-wf/rtdevkit/lib/runtime/components/task-signadd/task-signadd.component.ts","ng://@gsp-wf/rtdevkit/lib/runtime/wf-workitem-handle/wf-workitem-handle.component.ts","ng://@gsp-wf/rtdevkit/lib/runtime/components/task-assign/task-assign.component.ts","ng://@gsp-wf/rtdevkit/lib/runtime/components/task-transfer/task-transfer.component.ts","ng://@gsp-wf/rtdevkit/lib/entity/interaction-response.ts","ng://@gsp-wf/rtdevkit/lib/submit/assign-participant/assign-participant.component.ts","ng://@gsp-wf/rtdevkit/lib/submit/service/wf-submite.service.ts","ng://@gsp-wf/rtdevkit/lib/runtime/services/translate.pipe.ts","ng://@gsp-wf/rtdevkit/lib/wf-runtime.module.ts","ng://@gsp-wf/rtdevkit/lib/entity/excution-response.ts","ng://@gsp-wf/rtdevkit/lib/entity/workitem-action.ts"],"sourcesContent":["export const en = {\r\n    static: {\r\n        taskActions: {\r\n            pass: 'Agree',\r\n            back: 'Reject',\r\n            refuse: 'Veto',\r\n            more: 'More',\r\n            viewLog: 'View Log',\r\n            viewFlowChart: 'View FlowChart',\r\n            viewBizlog: 'Approval Log'\r\n        },\r\n        title: 'Approval confirmation',\r\n        inputLabel: 'Approval comments',\r\n        inputHolder: 'Please enter an approval opinion',\r\n        selectActivity: 'Please select approve note',\r\n        addSignee: 'Add signee',\r\n        footOk: 'Ok',\r\n        footCancel: 'Cancel',\r\n        assignee: {\r\n            title: 'Select Operator',\r\n            cancelAssign: 'Cancel to operate.',\r\n            noAssignee: 'Please select at least one approver.',\r\n            successAssign: 'Operate successfully.',\r\n            errorAssign: 'Operation failed, please contact the administrator!'\r\n        },\r\n        addsign: {\r\n            title: 'Select signee',\r\n            selectConsultant: 'Please select persons to consult.',\r\n            successConsult: 'Consult successfully.',\r\n            cancelSignUp: 'Cancel to sign up.'\r\n        },\r\n        transfer: {\r\n            title: 'Select transfer person',\r\n            selectHandover: 'Please select transfer persons.',\r\n            successTransfer: 'Tranfer successfully.'\r\n        },\r\n        columnName: {\r\n            name: 'Name',\r\n            code: 'Code',\r\n            department: 'Department',\r\n            organization: 'Organization',\r\n            prcessName: 'Process',\r\n            version: 'Version'\r\n        },\r\n        common: {\r\n            placeHolder: 'Please enter search name'\r\n        },\r\n        submit: {\r\n            selectProcess: 'Select Process',\r\n            noProcess: 'Process has not been selected.'\r\n        },\r\n    },\r\n    cueWords: {\r\n        successClaim: 'Claim successfully.',\r\n        successUnClaim: 'Cancel to claim successfully.',\r\n        successRetrieve: 'Retrieve successfully.',\r\n        successPass: 'Approved successfully.',\r\n        successBack: 'Dismissed successfully.',\r\n        successRefuse: 'Veto successfully.',\r\n        success: 'Operate successfully.'\r\n    }\r\n};\r\n","export const cn = {\r\n    static: {\r\n        taskActions: {\r\n            pass: 'éè¿',\r\n            back: 'é©³å',\r\n            refuse: 'å¦å³',\r\n            more: 'æ´å¤',\r\n            viewLog: 'å®¡æ¹æ¥å¿',\r\n            viewFlowChart: 'æ¥çæµç¨',\r\n            viewBizlog: 'å®¡æ¹æ¥å¿'\r\n        },\r\n        assignee: {\r\n            title: 'è¯·éæ©ç¨æ·',\r\n            cancelAssign: 'å·²åæ¶æä½ã',\r\n            noAssignee: 'è¯·è³å°éæ©ä¸ä¸ªå®¡æ¹äººã',\r\n            successAssign: 'æä½æåã',\r\n            errorAssign: 'æä½å¤±è´¥ï¼è¯·èç³»ç®¡çåæ¥çåå ï¼'\r\n        },\r\n        addsign: {\r\n            title: 'è¯·éæ©ç¨æ·',\r\n            selectConsultant: 'è¯·éæ©ç¨æ·ã',\r\n            successConsult: 'å¾è¯¢æåã',\r\n            cancelSignUp: 'å·²åæ¶ã'\r\n        },\r\n        transfer: {\r\n            title: 'è¯·éæ©ç¨æ·',\r\n            selectHandover: 'è¯·éæ©ç¨æ·ã',\r\n            successTransfer: 'ä»»å¡ç§»äº¤æåã'\r\n        },\r\n        columnName: {\r\n            name: 'åç§°',\r\n            code: 'ç¼å·',\r\n            department: 'ç»ç»ä¿¡æ¯',\r\n            organization: 'ç»ç»',\r\n            prcessName: 'æµç¨åç§°',\r\n            version: 'çæ¬'\r\n        },\r\n        common: {\r\n            placeHolder: 'è¯·è¾å¥'\r\n        },\r\n        submit: {\r\n            selectProcess: 'éæ©æµç¨',\r\n            noProcess: 'è¯·éæ©æµç¨'\r\n        },\r\n        title: 'å®¡æ¹ç¡®è®¤',\r\n        inputLabel: 'å®¡æ¹æè§',\r\n        inputHolder: 'è¯·è¾å¥å®¡æ¹æè§',\r\n        selectActivity: 'ç®æ èç¹',\r\n        addSignee: 'å ç­¾äººå',\r\n        footOk: 'ç¡®å®',\r\n        footCancel: 'åæ¶',\r\n    },\r\n    cueWords: {\r\n        successClaim: 'é¢ç¨æåã',\r\n        successUnClaim: 'åæ¶é¢ç¨æåã',\r\n        successRetrieve: 'ä»»å¡ååæåã',\r\n        successPass: 'å®¡æ¹éè¿ã',\r\n        successBack: 'é©³åæåã',\r\n        successRefuse: 'å¦å³æåã',\r\n        success: 'æä½æå'\r\n    }\r\n};\r\n","import { en } from './en-us';\r\nimport { cn } from './zh-cn';\r\n\r\nexport const translate = {\r\n    'zh-CHS': cn,\r\n    en\r\n};\r\n","import { Pipe, PipeTransform, Injectable } from '@angular/core';\r\nimport { Observable, of } from 'rxjs';\r\nimport { translate } from './i18n/index';\r\n\r\n@Injectable()\r\nexport class I18nService {\r\n    defaultLang: string;\r\n    langData: any;\r\n    constructor() {\r\n        this.defaultLang = localStorage.getItem('languageCode');\r\n        if (!this.defaultLang) {\r\n            this.langData = translate['zh-CHS'];\r\n        } else {\r\n            this.langData = translate[this.defaultLang];\r\n        }\r\n    }\r\n\r\n    getValue(name: string): any {\r\n        if (!name) {\r\n            return '';\r\n        }\r\n        let resultVal = '';\r\n        if (name.indexOf('.') === -1) {\r\n            resultVal = this.langData[name];\r\n        } else {\r\n            resultVal = name.split('.').reduce((obj, key) => {\r\n                if (obj) {\r\n                    return obj[key];\r\n                } else {\r\n                    return null;\r\n                }\r\n            }, this.langData);\r\n        }\r\n        return resultVal;\r\n    }\r\n}\r\n","import { Component, OnInit, HostBinding, Optional } from '@angular/core';\r\nimport { Observable, Subject } from 'rxjs';\r\nimport { ProcessDefinition } from '../../entity/processdefinition';\r\nimport { BehaviorSubject } from 'rxjs';\r\nimport { MessagerService } from '@farris/ui-messager';\r\nimport { I18nService } from '../../runtime/services/i18n.service';\r\n\r\n@Component({\r\n  selector: 'wf-process-selector',\r\n  templateUrl: './process-selector.component.html',\r\n  styleUrls: ['./process-selector.component.css']\r\n})\r\nexport class ProcessSelectorComponent implements OnInit {\r\n  @HostBinding('class')\r\n  cls = 'farris-main-area flex-column';\r\n\r\n  gridData: ProcessDefinition[];\r\n  columns = [\r\n    { title: this.i18nService ? this.i18nService.getValue('static.columnName.prcessName') : 'æµç¨åç§°', field: 'procDefName', width: 200 },\r\n    { title: this.i18nService ? this.i18nService.getValue('static.columnName.version') : 'çæ¬', field: 'version', width: 100 }];\r\n  idField = 'procDefId';\r\n  mySelection: string[] = [];\r\n\r\n  private subject = new Subject<string>();\r\n  constructor(\r\n    private msgService: MessagerService,\r\n    @Optional() private i18nService: I18nService\r\n    ) {\r\n  }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  btnOKClick() {\r\n    if (this.mySelection.length < 1) {\r\n      this.msgService.warning(this.i18nService ? this.i18nService.getValue('static.submit.noProcess') : 'å°æªéæ©æµç¨å®ä¹ï¼è¯·äºè§£ã');\r\n      return;\r\n    }\r\n    this.subject.next(this.mySelection[0]);\r\n  }\r\n  btnCancelClick() {\r\n    this.subject.next(null);\r\n  }\r\n\r\n  subscribe(): Observable<string> {\r\n    return this.subject.asObservable();\r\n  }\r\n\r\n  onSelectionChange(data) {\r\n    if (data && data.data) {\r\n      this.mySelection = [data.data.procDefId];\r\n    } else {\r\n      this.mySelection = [];\r\n    }\r\n  }\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpService } from '@ecp-caf/caf-common';\r\nimport { Observable } from 'rxjs';\r\nimport { AssigneeInfoByProcInstIdParameter, CompleteContext } from '../../entity';\r\nimport { AssigneeInfoByWorkItemIdParameter } from '../../entity/complete-response';\r\n\r\n@Injectable()\r\nexport class TaskService {\r\n\r\n    constructor(\r\n        private httpSvc: HttpService\r\n    ) { }\r\n    /**\r\n     * è·åå·¥ä½é¡¹æä½åè¡¨\r\n     */\r\n    getWorkItemActions(workItemId: string): Observable<any> {\r\n        const url = `/api/runtime/wf/v1.0/workItems/${workItemId}/actions`;\r\n\r\n        return this.httpSvc.get(url);\r\n    }\r\n\r\n    /**\r\n     * æ§è¡å®¡æ¹æä½\r\n     * @param taskId ä»»å¡Id\r\n     * @param context æ§è¡å®¡æ¹ä¸ä¸æ\r\n     */\r\n    excuteTask(taskId: string, context: CompleteContext): Observable<any> {\r\n        const url = `/api/runtime/wf/v1.0/workItems/complete`;\r\n        context.workItemId = taskId;\r\n        const options = {\r\n            excuteParam: context\r\n        };\r\n        return this.httpSvc.post(url, context);\r\n    }\r\n\r\n    /**\r\n     * è·åè·³è½¬æ´»å¨ä¿¡æ¯\r\n     * @param workItemId å·¥ä½é¡¹Id\r\n     * @param action å¨ä½ç¼å·\r\n     */\r\n    getDestinationScope(workItemId: string, action: string): Observable<any> {\r\n        const url = `/api/runtime/wf/v1.0/workItems/${workItemId}/nextNodes/${action}`;\r\n        return this.httpSvc.get(url);\r\n    }\r\n    /**\r\n     * è·åå¨ä½å®ä½è¿èè·åwebå®ç°åååäºä»¶\r\n     * @param taskId ä»»å¡ID\r\n     * @param action å¨ä½ç¼å·\r\n     */\r\n    getActionEntity(taskId: string, action: string): Observable<any> {\r\n        const url = `/api/runtime/wf/v1.0/approvalAction?code=${action}`;\r\n\r\n        return this.httpSvc.get(url);\r\n    }\r\n\r\n    /**\r\n     * æ§è¡å ç­¾æä½\r\n     * @param context å ç­¾ä¸ä¸æ\r\n     */\r\n    addSign(context: any): Observable<any> {\r\n        const url = `/api/runtime/wf/v1.0/workItems/counterSignAdd`;\r\n        const body = {\r\n            excuteParam: context\r\n        };\r\n        return this.httpSvc.post(url, context);\r\n    }\r\n\r\n    /**\r\n     * æ¥è¯¢åæ®ä¿¡æ¯\r\n     * @param workItemId å·¥ä½é¡¹Id\r\n     */\r\n    getAppInfo(workItemId: string): Observable<any> {\r\n        const formParUrl = `/api/runtime/wf/v1.0/workItems/${workItemId}/formInfo`;\r\n        return this.httpSvc.get(formParUrl);\r\n    }\r\n    //#region æ¥çæµç¨\r\n    /**\r\n     * åºäºå·¥ä½é¡¹IDè·åbpmnModel\r\n     * @param workitemId å·¥ä½é¡¹id\r\n     */\r\n    getBpmnModelbyWorkItemId(workitemId: string): Observable<any> {\r\n        const url = `/api/runtime/wf/v1.0/workItems/${workitemId}/bpmnModel`;\r\n        return this.httpSvc.get(url);\r\n    }\r\n    /**\r\n     * åºäºå·¥ä½é¡¹Idè·åæææ´»å¨å®ä¾\r\n     * @param id taskId\r\n     */\r\n    getAllActiInstsbyTaskId(id: string): Observable<any> {\r\n        const url = `/api/runtime/wf/v1.0/workItems/activityInstanceSlims?workItemId=${id}`;\r\n\r\n        return this.httpSvc.get(url);\r\n    }\r\n    /**\r\n     * åºäºæ´»å¨å®ä¾Idè·åæ¥å¿\r\n     * @param actInstId æ´»å¨å®ä¾Id\r\n     */\r\n    getActivityInstanceLogs(actInstId: string): Observable<any> {\r\n        const url = `/api/runtime/wf/v1.0/workItems/activityInstanceLogs?activityInstanceId=${actInstId}`;\r\n\r\n        return this.httpSvc.get(url);\r\n    }\r\n\r\n    /**\r\n     * è·åå®¡æ¹æ¥å¿ä¿¡æ¯\r\n     * @param taskId å·¥ä½é¡¹Id\r\n     */\r\n    getBizlogByTaskId(taskId: string): Observable<any> {\r\n        const logUrl = `/api/runtime/wf/v1.0/workItems/${taskId}/fullComments`;\r\n        // if (false === environment.production) {\r\n        //     logUrl = '/assets/mock/taskbizlog.json';\r\n        // }\r\n        return this.httpSvc.get(logUrl);\r\n    }\r\n    //#endregion\r\n    /**\r\n     * è·åææ´¾ä¿¡æ¯\r\n     * @param taskId å·¥ä½é¡¹Id\r\n     */\r\n    getAssigneeInfo(taskId: string): Observable<any> {\r\n        const url = `/api/runtime/wf/v1.0/workItems/${taskId}/assigneeInfo`;\r\n        return this.httpSvc.get(url);\r\n    }\r\n\r\n    /**\r\n     * æ ¹æ®æµç¨å®ä¾Idæ¹éææ´¾ï¼æäº¤å®¡æ¹ææ§è¡å®¡æ¹åææ´¾å¼¹æ¡è°ç¨ï¼_åç»­è°æ´ä¸å·¥ä½é¡¹çä¸è´_ï¼\r\n     * @param assigneesPa ææ´¾åæ°\r\n     */\r\n    assignNextUsersByProcInstId(assigneesPa: AssigneeInfoByProcInstIdParameter): Observable<any> {\r\n        const url = `/api/runtime/wf/v1.0/processInstances/assignNextUsers`;\r\n        const body = {\r\n            assigneeInfoParameter: assigneesPa\r\n        };\r\n        return this.httpSvc.post(url, assigneesPa);\r\n    }\r\n    /**\r\n     * æ ¹æ®å·¥ä½é¡¹IDææ´¾ä»»å¡\r\n     * @param assigneesPa ææ´¾åæ°\r\n     */\r\n    assignNextUsersByWorkItemId(assigneesPa: AssigneeInfoByWorkItemIdParameter): Observable<any> {\r\n        const url = `/api/runtime/wf/v1.0/workItems/assignUser`;\r\n        const body = {\r\n            assigneeInfoParameter: assigneesPa\r\n        };\r\n        return this.httpSvc.post(url, assigneesPa);\r\n    }\r\n\r\n    /**\r\n     * åå\r\n     * @param workItemId task id\r\n     * @param comment comment\r\n     */\r\n    retrieve(context: { workItemId: string, comment?: string }): Observable<any> {\r\n        const url = `/api/runtime/wf/v1.0/workItems/retrieve`;\r\n\r\n        const body = {\r\n            excuteParam: context\r\n        };\r\n        return this.httpSvc.post(url, context);\r\n    }\r\n    /**\r\n     * ä»»å¡ç§»äº¤\r\n     * @param taskId å·¥ä½é¡¹Id\r\n     * @param targetUId ç®æ ç¨æ·Id\r\n     */\r\n    transfer(transferContext: any): Observable<any> {\r\n        const url = `/api/runtime/wf/v1.0/workItems/transfer`;\r\n        const body = {\r\n            excuteParam: transferContext\r\n        };\r\n        return this.httpSvc.post(url, transferContext);\r\n    }\r\n    //#region  ä»»å¡é¢ç¨\r\n    /**\r\n     * é¢ç¨ä»»å¡\r\n     * @param taskId å·¥ä½é¡¹Id\r\n     */\r\n    claim(taskId: string): Observable<any> {\r\n        const url = `/api/runtime/wf/v1.0/workItems/claim`;\r\n        const options = {\r\n            workItemId: taskId\r\n        };\r\n        return this.httpSvc.post(url, options);\r\n    }\r\n\r\n    /**\r\n     * åæ¶é¢ç¨\r\n     * @param taskId ä»»å¡Id\r\n     */\r\n    unClaim(taskId: string): Observable<any> {\r\n        const url = `/api/runtime/wf/v1.0/workItems/unclaim`;\r\n        const options = {\r\n            workItemId: taskId\r\n        };\r\n        return this.httpSvc.post(url, options);\r\n    }\r\n    //#endregion\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\r\nimport { SessionService, HttpService } from '@ecp-caf/caf-common';\r\nimport { forkJoin } from 'rxjs';\r\n\r\n@Injectable()\r\nexport class UserService {\r\n\r\n  constructor(\r\n    private http: HttpClient,\r\n    private httpSvc: HttpService,\r\n    private sessionSvc: SessionService,\r\n  ) { }\r\n\r\n  getUsersByIds(ids: string[]): Observable<any> {\r\n    var pathUrl = '/api/runtime/sys/v1.0/users';\r\n    return forkJoin(ids.map(id => this.http.get(pathUrl + `/${id}` + `?mode=0002`)));//modeç¨äºè·åç»ç»å¨è·¯å¾\r\n  }\r\n\r\n  getUserList(searchValue: string, index: number, size: number): Observable<any> {\r\n    if (searchValue) {\r\n      return this.getUser('codeorname', searchValue, index, size);\r\n    } else {\r\n      return this.getUser('', '', index, size);\r\n    }\r\n  }\r\n\r\n  private getUser(field: string, value: string, index: number, size: number): Observable<any> {\r\n    let url = `/api/runtime/sys/v1.0/users`;\r\n    url += field ? \r\n      `?param={\"notGetCurrentUser\":false,\"pageIndex\":${index},\"pageSize\":${size},\"${field}\":'${value}',\"orderField\":\"order\", \"withAllOrg\": \"true\", \"queryMode\":\"0002\"}` :\r\n      `?param={\"notGetCurrentUser\":false,\"pageIndex\":${index},\"pageSize\":${size},\"orderField\":\"order\", \"withAllOrg\": \"true\", \"queryMode\":\"0002\"}`;\r\n    return this.httpSvc.get(url);\r\n  }\r\n\r\n  getUserList_Assign(searchValue: string, index: number, size: number, withAllOrg?: boolean, orgId?: string): Observable<any> {\r\n    if (searchValue) {\r\n      return this.getUser_Assign('codeorname', searchValue, index, size, withAllOrg, orgId);\r\n    } else {\r\n      return this.getUser_Assign('', '', index, size, withAllOrg, orgId);\r\n    }\r\n  }\r\n\r\n  private getUser_Assign(field: string, value: string, index: number, size: number, withAllOrg: boolean, orgId: string): Observable<any> {\r\n    let url = `/api/runtime/sys/v1.0/users`;\r\n    url += field ? \r\n      `?param={\"notGetCurrentUser\":false,\"pageIndex\":${index},\"pageSize\":${size},\"${field}\":'${value}',\"orderField\":\"order\", \"withAllOrg\": \"true\", \"queryMode\":\"0002\"}` :\r\n      `?param={\"notGetCurrentUser\":false,\"pageIndex\":${index},\"pageSize\":${size},\"orderField\":\"order\", \"withAllOrg\":'${withAllOrg}',\"orgId\":'${orgId}', \"queryMode\":\"0002\"}`;\r\n    return this.httpSvc.get(url);\r\n  }\r\n\r\n  /**\r\n   * æé Header\r\n   */\r\n  private getBatchHeader(): any {\r\n    const sessionId = this.sessionSvc.getCurrentSeesionId();\r\n    const headers = new HttpHeaders().set('SessionId', sessionId).set('Accept', 'application/json');\r\n    // æ­¤å¤keyå¿é¡»æ¯headers\r\n    return headers;\r\n  }\r\n\r\n  /**\r\n   * è½¬æ¢éç½®å¤§å°å\r\n   * @param jsonObj Object\r\n   */\r\n  toUpperCase(jsonObj: object): any {\r\n    if (typeof (jsonObj) === 'object') {\r\n      for (const key of Object.keys(jsonObj)) {\r\n        jsonObj[key.substring(0, 1).toUpperCase() + key.substring(1)] = jsonObj[key];\r\n        delete (jsonObj[key]);\r\n      }\r\n    }\r\n    return jsonObj;\r\n  }\r\n}\r\n","export class CompleteContext {\r\n    // å·¥ä½é¡¹ID\r\n    workItemId: string;\r\n    // Pass:éè¿ Back:é©³å Refuse:æç» ä»¥åèªå®ä¹ï¼æ¥èªAction.Code\r\n    conclusionValue: string;\r\n    // å®¡æ¹æè§\r\n    comment: string;\r\n    // å ç­¾äºº\r\n    signAssignees: string[];\r\n    // è·³è½¬æ´»å¨\r\n    destinationActivityId: string;\r\n}\r\n","import { Component, OnInit, ViewChild, Optional, Output, EventEmitter } from '@angular/core';\r\nimport { UserService } from '../../services/user.service';\r\nimport { PaginationInstance } from '@farris/ui-pagination';\r\nimport { DataTableComponent } from '@farris/ui-datatable';\r\nimport { NotifyService } from '@farris/ui-notify';\r\nimport { DialogComponent } from '@farris/ui-dialog';\r\nimport { I18nService } from '../../services/i18n.service';\r\n\r\n@Component({\r\n  selector: 'wf-user-helper',\r\n  templateUrl: './user-helper.component.html',\r\n  styleUrls: ['./user-helper.component.css']\r\n})\r\nexport class UserHelperComponent implements OnInit {\r\n\r\n  private pageList = [10, 20, 30, 50, 100];\r\n  paginationOptions: PaginationInstance = {\r\n    id: 'WF-Users-DataTable-Pagination',\r\n    currentPage: 1,\r\n    itemsPerPage: 10,\r\n    pageList: this.pageList,\r\n    totalItems: 0\r\n  };\r\n  columns = [\r\n    { title: this.i18nService ? this.i18nService.getValue('static.columnName.code') : 'ç¼å·', field: 'Code', width: 80 },\r\n    { title: this.i18nService ? this.i18nService.getValue('static.columnName.name') : 'å§å', field: 'Name', width: 90 },\r\n    { title: this.i18nService ? this.i18nService.getValue('static.columnName.department') : 'é¨é¨', field: 'OrgName', width: 200 }];\r\n\r\n  searchValue = null;\r\n  userListData = [];\r\n  // æ¯å¦åè®¸å¤é,é»è®¤å¤é\r\n  singleSelect = false;\r\n  selectedUsers: {\r\n    ID: string,\r\n    Code: string,\r\n    Name: string,\r\n    OrgId: string,\r\n    OrgName: string\r\n  }[] = [];\r\n  @ViewChild('allUserTable') userTable: DataTableComponent;\r\n  @ViewChild('allUserDialog') userDialog?: DialogComponent;\r\n  constructor(\r\n    @Optional() protected i18nService: I18nService,\r\n    protected userSvc: UserService,\r\n    protected notify?: NotifyService,\r\n  ) { }\r\n\r\n  @Output()\r\n  completed = new EventEmitter<boolean>();\r\n  \r\n  ngOnInit() {\r\n  }\r\n\r\n  handleOk(): void {\r\n    throw new Error('æ²¡æå®ç°ï¼éè¦å­ç»ä»¶å®ç°');\r\n  }\r\n\r\n  handleCancel(): void {\r\n    this.completed.emit(false);\r\n    this.showModal(false);\r\n  }\r\n\r\n  onPageSizeChange(pageSize) {\r\n    this.paginationOptions.itemsPerPage = pageSize;\r\n    this.getUserList();\r\n  }\r\n\r\n  onPageChange(event) {\r\n    this.paginationOptions.currentPage = event.pageIndex;\r\n    this.getUserList();\r\n  }\r\n\r\n  protected getUserList() {\r\n    this.userSvc.getUserList(this.searchValue, this.paginationOptions.currentPage, this.paginationOptions.itemsPerPage)\r\n      .subscribe((re: { totalCount: number, data: any[] }) => {\r\n        this.paginationOptions.totalItems = re.totalCount;\r\n        this.userListData = re.data.map(u => ({\r\n          ID: u.id,\r\n          Code: u.code,\r\n          Name: u.name,\r\n          OrgId: u.sysOrgId,\r\n          OrgName: u.sysOrgName,\r\n          Checked: false\r\n        }));\r\n    });\r\n  }\r\n\r\n  search(event) {\r\n    this.paginationOptions.currentPage = 1;\r\n    this.searchValue = encodeURIComponent(event.value);\r\n\r\n    if (event.field === '*') {\r\n      this.getUserList();\r\n    } else if (event.field === 'Name') {\r\n      this.getUserList();\r\n    } else {\r\n      this.notify.warning('åªæ¯æç¨æ·åç§°è¿æ»¤ï¼');\r\n    }\r\n  }\r\n\r\n  protected showModal(show: boolean): void {\r\n    if (show) {\r\n      this.userDialog.show();\r\n      this.getUserList();\r\n    } else {\r\n      // ä¸´æ¶å¤çæ¹æ¡\r\n      if (this.userDialog.beforeClose) {\r\n        this.userDialog.close();\r\n      }\r\n    }\r\n  }\r\n}\r\n","import { Component, OnInit, Input, Output, EventEmitter } from '@angular/core';\r\nimport { UserHelperComponent } from '../user-helper/user-helper.component';\r\nimport { TaskService } from '../../services/task.service';\r\nimport { UserService } from '../../services/user.service';\r\nimport { NotifyService } from '@farris/ui-notify';\r\nimport { I18nService } from '../../services/i18n.service';\r\n\r\n@Component({\r\n  selector: 'wf-task-signadd',\r\n  templateUrl: '../user-helper/user-helper.component.html',\r\n  styleUrls: ['./task-signadd.component.css']\r\n})\r\nexport class TaskSignaddComponent extends UserHelperComponent implements OnInit {\r\n\r\n  @Input()\r\n  public set addsign_context(context: any) {\r\n    this.selectedUsers = [];\r\n    this.addSignContext = { ...context, assignees: [] };\r\n    this.showModal(!!this.addSignContext.workItemId);\r\n  }\r\n  @Output()\r\n  completed = new EventEmitter<any>();\r\n\r\n  // æ§è¡å ç­¾ä¸ä¸æåæ°\r\n  addSignContext: {\r\n    workItemId: string,\r\n    action: 'AddSignFront' | 'AddSignBehind',\r\n    assignees: string[],\r\n    comment: ''// TODO: å ç­¾æ¥å¿\r\n  };\r\n  constructor(\r\n    private taskSvc: TaskService,\r\n    protected userSvc: UserService,\r\n    protected notify: NotifyService,\r\n    protected i18nService: I18nService\r\n  ) {\r\n    super(i18nService, userSvc);\r\n    this.paginationOptions.id = 'WF-SignAdd-DataTable-Pagination';\r\n  }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  handleOk(): void {\r\n    this.selectedUsers = this.userTable.selections;\r\n    // å¾è¯¢\r\n    if (this.addSignContext.action === 'AddSignFront') {\r\n      // éè¦æ ¡éªéä¸­ç¨æ·\r\n      if (!this.selectedUsers || this.selectedUsers.length < 1) {\r\n        this.notify.info(this.i18nService.getValue('static.addsign.selectConsultant'));\r\n        return;\r\n      }\r\n      this.addSignContext.assignees = this.selectedUsers.map(user => user.ID);\r\n      this.taskSvc.addSign(this.addSignContext).subscribe(() => {\r\n        this.notify.success(this.i18nService.getValue('static.addsign.successConsult'));\r\n        this.completed.emit(true);\r\n        this.showModal(false);\r\n      }, error => {\r\n        if(error && error.error && error.error.Message) {\r\n          this.notify.error(error.error.Message);\r\n        }\r\n      });\r\n    } else {\r\n      // å ç­¾\r\n      this.completed.emit(true);\r\n      this.showModal(false);\r\n    }\r\n  }\r\n\r\n}\r\n","import { Component, OnInit, Input, Output, EventEmitter, ViewChild } from '@angular/core';\r\nimport { TaskService } from '../services/task.service';\r\nimport { WorkitemAction } from '../../entity/workitem-action';\r\nimport { CompleteContext, AssigneeInfo, CompleteResponse } from '../../entity';\r\nimport { NotifyService } from '@farris/ui-notify';\r\nimport { TaskSignaddComponent } from '../components/task-signadd/task-signadd.component';\r\nimport { DialogComponent } from '@farris/ui-dialog';\r\nimport { ActionEntity } from '../../entity/action-entity';\r\nimport { from, of, Observable } from 'rxjs';\r\nimport { I18nService } from '../services/i18n.service';\r\nimport { NextNode } from '../../entity/destination-nodes';\r\nimport { FlowNodeInfo } from '../../entity/excution-response';\r\n\r\ndeclare const System: any;\r\n@Component({\r\n  selector: 'wf-workitem-handle',\r\n  templateUrl: './wf-workitem-handle.component.html',\r\n  styleUrls: ['./wf-workitem-handle.component.css']\r\n})\r\nexport class WfWorkitemHandleComponent implements OnInit {\r\n  private inWorkitemId: string;\r\n  private taskActions: WorkitemAction[];\r\n  completeContext = new CompleteContext();\r\n  assigneeInfos: AssigneeInfo[];\r\n  transferContext: {\r\n    workItemId: string,\r\n    comment: string\r\n  };\r\n  destActivities: { id: string, name: string }[];\r\n  // å ç­¾å¾è¯¢ä¸ä¸æåæ°\r\n  addSignContext: {\r\n    workItemId: string,\r\n    action: 'AddSignFront' | 'AddSignBehind'\r\n  };\r\n  needAddSign: boolean; // æ¯å¦éè¦å ç­¾\r\n  selectAddSignees: string; // å ç­¾éä¸­äºº\r\n  displayPlaceholder: string = \"è¯·éæ©\";//è·³è½¬çé»è®¤æ¾ç¤ºèç¹\r\n  hasDefaultBranch = true;\r\n  @ViewChild(TaskSignaddComponent)\r\n  addSignCmp: TaskSignaddComponent;\r\n  @ViewChild('commentModal')\r\n  commentModal: DialogComponent;\r\n  /**\r\n   * ä»»å¡Id\r\n   */\r\n  @Input()\r\n  set workitemId(workitemId: string) {\r\n    this.inWorkitemId = (workitemId && workitemId.trim());\r\n    if (this.inWorkitemId) {\r\n      this.refreshActions();\r\n    }\r\n  }\r\n  get workitemId() {\r\n    return this.inWorkitemId;\r\n  }\r\n\r\n  /**\r\n   * ä»»å¡åçå¨ä½åè¡¨\r\n   */\r\n  @Output()\r\n  actions = new EventEmitter<WorkitemAction[]>();\r\n\r\n  /**\r\n   * ä»»å¡åçå®æäºä»¶\r\n   */\r\n  @Output()\r\n  completed = new EventEmitter<boolean>();\r\n\r\n  // å½åéä¸­å¨ä½åå¨ä½å®ç°\r\n  preFuncList: any[] = [];\r\n  webCptFunc: any;\r\n  postFuncList: any[] = [];\r\n\r\n  // å¼¹æ¡é«åº¦è®¾ç½®\r\n  height = 420;\r\n\r\n  actionsTitle = {\r\n    pass: '',\r\n    back: '',\r\n    refuse: '',\r\n    more: '',\r\n    viewLog: '',\r\n    viewFlowChart: '',\r\n    viewBizlog: ''\r\n  };\r\n\r\n  constructor(\r\n    private taskSvc: TaskService,\r\n    private notify: NotifyService,\r\n    private i18nService: I18nService,\r\n  ) {\r\n    const titles = this.i18nService.getValue('static.taskActions');\r\n    Object.keys(this.actionsTitle).forEach(key => {\r\n      this.actionsTitle[key] = titles[key];\r\n    });\r\n  }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  /**\r\n   * å·æ°å¨ä½åè¡¨\r\n   */\r\n  private refreshActions() {\r\n    this.taskSvc.getWorkItemActions(this.inWorkitemId).subscribe((re: any) => {\r\n      // ä¸´æ¶æ¹æ¡ï¼oDataä¸æ¯æèªå®ä¹function $expandå±å¼ï¼ä¸´æ¶åºååå¤ç\r\n      this.taskActions = re.map(action => {\r\n        action.parameters = JSON.parse(action.parameters);\r\n        return action;\r\n      });\r\n      this.taskActions = this.taskActions.filter(a =>\r\n        a.code !== 'ViewBizLog'\r\n        && a.code !== 'ViewFlowChart'\r\n        && a.code !== 'ViewExecuteForm');\r\n\r\n      this.actions.emit(this.taskActions);\r\n    }, error => {\r\n      this.showError(error);\r\n    });\r\n  }\r\n\r\n  /**\r\n   * å¨ä½å®æåäºä»¶\r\n   * @param result äºä»¶ç»æ\r\n   */\r\n  private completedEvt(result: boolean = true) {\r\n    if (result) {\r\n      this.refreshActions();\r\n    }\r\n    this.completed.emit(result);\r\n  }\r\n\r\n  /**\r\n   * å®æå®¡æ¹ä»»å¡\r\n   * @param actionCode ä»»å¡åçå¨ä½ç¼å·\r\n   * @param comment? åçæè§\r\n   */\r\n  complete(actionCode: string, comment?: string) {\r\n    switch (actionCode) {\r\n      case 'AssignUser': { // ææ´¾\r\n        this.assignee(this.inWorkitemId);\r\n        break;\r\n      }\r\n      case 'Claim': // é¢ç¨\r\n        this.taskSvc.claim(this.inWorkitemId).subscribe(r => {\r\n          this.notify.success(this.i18nService.getValue('cueWords.successClaim'));\r\n          this.refreshActions();\r\n          this.completed.emit(false);\r\n        }, error => {\r\n          this.showError(error);\r\n        });\r\n        break;\r\n      case 'Unclaim': // åæ¶é¢ç¨\r\n        this.taskSvc.unClaim(this.inWorkitemId).subscribe(r => {\r\n          this.notify.success(this.i18nService.getValue('cueWords.successUnClaim'));\r\n          this.refreshActions();\r\n          this.completed.emit(false);\r\n        }, error => {\r\n          this.showError(error);\r\n        });\r\n        break;\r\n      case 'Retrieve': // åå\r\n        this.taskSvc.retrieve({ workItemId: this.inWorkitemId, comment }).subscribe(r => {\r\n          this.notify.success(this.i18nService.getValue('cueWords.successRetrieve'));\r\n          this.completedEvt();\r\n        },error => {\r\n          this.showError(error);\r\n        });\r\n        break;\r\n      case 'Transfer': { // ç§»äº¤\r\n        this.transferContext = {\r\n          workItemId: this.inWorkitemId,\r\n          comment\r\n        };\r\n        break;\r\n      }\r\n      case 'AddSignFront': // å¾è¯¢\r\n        this.addSignContext = {\r\n          workItemId: this.inWorkitemId,\r\n          action: 'AddSignFront'\r\n        };\r\n        break;\r\n      default:\r\n        this.executeTask(actionCode, comment);\r\n    }\r\n  }\r\n\r\n  refreshList(sucess: boolean) {\r\n    this.completedEvt(sucess);\r\n  }\r\n  // å¼¹åºå ç­¾å¸®å©\r\n  runAddSign() {\r\n    this.addSignContext = {\r\n      workItemId: this.inWorkitemId,\r\n      action: 'AddSignBehind'\r\n    };\r\n  }\r\n  // å ç­¾å®æ\r\n  addSignComplete(sucess: boolean) {\r\n\r\n    if (this.addSignContext.action === 'AddSignFront') {\r\n      this.refreshList(sucess);\r\n    } else {\r\n      this.completeContext.signAssignees = this.addSignCmp.selectedUsers.map(user => user.ID);\r\n      this.selectAddSignees = this.addSignCmp.selectedUsers.map(user => user.Name).join(',');\r\n    }\r\n  }\r\n\r\n  // å®¡æ¹ç¡®è®¤\r\n  handleOk() {\r\n    if(!this.completeContext.comment) {\r\n      this.notify.info(\"è¯·è¾å¥å®¡æ¹æè§\");\r\n      return;\r\n    }\r\n    if(!this.hasDefaultBranch && this.completeContext.destinationActivityId.length <= 0) {//æ²¡æé»è®¤åæ¯å¹¶ä¸ç¨æ·æ²¡éæ©è·³è½¬èç¹ï¼ä¸åè®¸æäº¤\r\n      this.notify.info(\"è¯·éæ©ç®æ èç¹\");\r\n      return;\r\n    }\r\n    this.taskSvc.excuteTask(this.inWorkitemId, this.completeContext).subscribe(\r\n      (cr: CompleteResponse) => {\r\n        this.commentModal.close();\r\n        // å®æå·¥ä½é¡¹åï¼æ£æ¥æ¯å¦éè¦æ§è¡åäºä»¶\r\n        this.excutePostEvent();\r\n        if (this.completeContext.conclusionValue === 'Pass') {\r\n          this.notify.success(this.i18nService.getValue('cueWords.successPass'));\r\n        } else if (this.completeContext.conclusionValue === 'Back') {\r\n          this.notify.success(this.i18nService.getValue('cueWords.successBack'));\r\n        } else if (this.completeContext.conclusionValue === 'Refuse') {\r\n          this.notify.success(this.i18nService.getValue('cueWords.successRefuse'));\r\n        } else {\r\n          this.notify.success(this.i18nService.getValue('cueWords.success'));\r\n        }\r\n        if (cr.needInteraction) {\r\n          this.refreshActions();//éè¿åå¼¹åºææ´¾ add by fpf\r\n          this.assigneeInfos = [cr.nextFlowNodes[0].assigneeInfo];\r\n        } else {\r\n          this.completedEvt();\r\n        }\r\n      }, error => {\r\n        this.showError(error);\r\n      }); \r\n  }\r\n  // åæ¶æä½\r\n  handleCancel() {\r\n    this.completeContext = new CompleteContext();\r\n    this.commentModal.close();\r\n  }\r\n  // ææ´¾æä½\r\n  private assignee(workItemId: string) {\r\n    this.taskSvc.getAssigneeInfo(workItemId).subscribe((info: FlowNodeInfo) => {\r\n      info.assigneeInfo.workItemId = workItemId;//å¼å®¹å¤çï¼æ­¤å¤è¿åçworkitemidä¸ºnull\r\n      this.assigneeInfos = [info.assigneeInfo];\r\n    }, error => {\r\n      this.showError(error);\r\n    });\r\n  }\r\n  // éæ°åå§åå½ååæ°\r\n  private initState() {\r\n    this.selectAddSignees = '';\r\n    this.destActivities = null;\r\n    this.needAddSign = false;\r\n  }\r\n\r\n  private executeTask(actionCode: string, opinion?: string) {\r\n    this.initState();\r\n    this.completeContext = {\r\n      workItemId: this.inWorkitemId,\r\n      conclusionValue: actionCode,\r\n      comment: '',\r\n      signAssignees: [], // å ç­¾äººå\r\n      destinationActivityId: ''// ç®æ èç¹\r\n    };\r\n    this.completeContext.comment = actionCode === 'Pass' ? this.actionsTitle.pass : '';\r\n    if (opinion) {\r\n      this.completeContext.comment = opinion;\r\n    }\r\n    const action = this.taskActions.find(a => a.code === actionCode);\r\n    this.taskSvc.getActionEntity(this.workitemId, actionCode).subscribe((act: ActionEntity) => {\r\n\r\n      if (!act) {// å®¡æ¹å¨ä½å·²å é¤ï¼èµ°å®æå·¥ä½é¡¹  TODO: éå®æå·¥ä½é¡¹å¨ä½å¦ä½å¤çï¼\r\n        this.showExcuteModal(action);\r\n      } else {\r\n        from(this.excuteAction(act)).subscribe(() => {\r\n          if (!act.webComponent) {\r\n            this.showExcuteModal(action);\r\n          }\r\n        });\r\n      }\r\n    }, error => {\r\n      this.showError(error);\r\n    });\r\n  }\r\n  \r\n  /**\r\n   * å ç­¾ï¼è·³è½¬æåµ\r\n   * @param action å¨ä½\r\n   */\r\n  private showExcuteModal(action: WorkitemAction) {\r\n    // å¨ä½åæ°æç§\r\n    if (action && action.parameters) {\r\n      // è·³è½¬ãé©³ååºæ¯\r\n      if (action.parameters.SelectTargetAble === 'True' || action.parameters.SelectTargetAble === 'true') {\r\n        // this.taskSvc.getDestinationScope(this.inWorkitemId, action.code).subscribe((re: { id: string, name: string }[]) => {\r\n        //   this.destActivities = re;\r\n        // });\r\n        this.getDestinationNodes(this.inWorkitemId, action.code);\r\n      }\r\n      // éè¦å ç­¾\r\n      if (action.parameters.AddSignBehindAble === 'True' || action.parameters.AddSignBehindAble === 'true') {\r\n        this.needAddSign = true;\r\n      }\r\n    }\r\n    this.commentModal.show();\r\n  }\r\n\r\n  private getDestinationNodes(workItemId: string, actionCode: string) {\r\n    var nextNodes: NextNode[] = [];\r\n    this.taskSvc.getDestinationScope(workItemId, actionCode).subscribe((re: NextNode[]) => {\r\n      nextNodes = re;\r\n      const des = re.map(a => a.nodeInfoList);\r\n      let list =[];\r\n      des.forEach(i => {\r\n        list = list.concat(i);\r\n      });\r\n      this.destActivities = list.map(i => ({id:i.activityDefinitionId, name:i.activityDefinitionName}));\r\n      this.hasDefaultBranch = this.hasDefaultBranchFunc(nextNodes);\r\n    }, error => {\r\n      this.showError(error);\r\n    });\r\n  }\r\n\r\n  /**\r\n   * è·³è½¬ï¼è¿åçæ°æ®æ¯å¦æé»è®¤åæ¯\r\n   * å¦æè¿åçæ²¡æé»è®¤èç¹ï¼è·³è½¬èç¹åæ²¡éçè¯ï¼ä¸åè®¸æäº¤\r\n   * @param nextNodes \r\n   */\r\n  private hasDefaultBranchFunc(nextNodes: NextNode[]) {\r\n    for(let i = 0; i < nextNodes.length; i++) {\r\n      if(nextNodes[i].defaultBranch) {\r\n        this.displayPlaceholder = nextNodes[i].nodeInfoList[0].activityDefinitionName;\r\n        return true;\r\n      }\r\n    }\r\n    return false;\r\n  }\r\n  private async excuteAction(act: ActionEntity) {\r\n    await this.getActionWebEventsFunc(act);\r\n    if (this.preFuncList && this.preFuncList.length > 0) {\r\n      for (let i = 0; i < this.preFuncList.length; i++) {\r\n        this.preFuncList.filter(item => item.index === i)[0].func();\r\n      }\r\n    }\r\n    if (this.webCptFunc) {\r\n      this.webCptFunc();\r\n    }\r\n  }\r\n  private excutePostEvent() {\r\n    if (this.postFuncList && this.postFuncList.length > 0) {\r\n      for (let i = 0; i < this.postFuncList.length; i++) {\r\n        this.postFuncList.filter(item => item.index === i)[0].func();\r\n      }\r\n    }\r\n  }\r\n  /**\r\n   * è·åå¨ä½çååäºä»¶åå®ç°æ¹æ³\r\n   * @param act å¨ä½\r\n   */\r\n  private async getActionWebEventsFunc(act: ActionEntity) {\r\n    this.preFuncList = [];\r\n    this.webCptFunc = null;\r\n    this.postFuncList = [];\r\n    const reqMap = [];\r\n    let preIndex = 0;\r\n    let postIndex = 0;\r\n    if (act.preEvent && act.preEvent.length > 0) {\r\n      for (const e of act.preEvent) {\r\n        const pre = {\r\n          event: 'pre',\r\n          index: preIndex++,\r\n          funcName: e.component.split('#')[1],\r\n          req: System.import(e.component.split('#')[0])\r\n        };\r\n        reqMap.push(pre);\r\n      }\r\n    }\r\n    if (act.webComponent) {\r\n      const cpt = {\r\n        event: 'cpt',\r\n        index: 0,\r\n        funcName: act.webComponent.split('#')[1],\r\n        req: System.import(act.webComponent.split('#')[0])\r\n      };\r\n      reqMap.push(cpt);\r\n    }\r\n    if (act.postEvent && act.postEvent.length > 0) {\r\n      for (const a of act.postEvent) {\r\n        const post = {\r\n          event: 'post',\r\n          index: postIndex++,\r\n          funcName: a.component.split('#')[1],\r\n          req: System.import(a.component.split('#')[0])\r\n        };\r\n        reqMap.push(post);\r\n      }\r\n    }\r\n    for (const r of reqMap) {\r\n      const m = await r.req;\r\n      if (r.event === 'pre') {\r\n        this.preFuncList.push({\r\n          index: r.index,\r\n          func: m.default[r.funcName]\r\n        });\r\n      } else if (r.event === 'post') {\r\n        this.postFuncList.push({\r\n          index: r.index,\r\n          func: m.default[r.funcName]\r\n        });\r\n      } else {\r\n        this.webCptFunc = m.default[r.funcName];\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * æ¾ç¤ºæ¥éä¿¡æ¯\r\n   */\r\n  private showError(error: any) {\r\n    if(error && error.error && error.error.Message) {\r\n      this.notify.error(error.error.Message);\r\n    } else {\r\n      this.notify.error(error);\r\n    }\r\n  }\r\n}\r\n","import { Component, OnInit, Output, EventEmitter, Input, ViewChild } from '@angular/core';\r\nimport { AssigneeInfo } from '../../../entity';\r\nimport { TaskService } from '../../services/task.service';\r\nimport { UserService } from '../../services/user.service';\r\nimport { UserHelperComponent } from '../user-helper/user-helper.component';\r\nimport { NotifyService } from '@farris/ui-notify';\r\nimport { DialogComponent } from '@farris/ui-dialog';\r\nimport { I18nService } from '../../services/i18n.service';\r\nimport { AssigneeInfoByWorkItemIdParameter } from '../../../entity/complete-response';\r\n\r\n@Component({\r\n  selector: 'wf-task-assign',\r\n  templateUrl: '../user-helper/user-helper.component.html',\r\n  styleUrls: ['./task-assign.component.css']\r\n})\r\nexport class TaskAssignComponent extends UserHelperComponent implements OnInit {\r\n\r\n  // title = 'è¯·éæ©ææ´¾ç¨æ·';\r\n\r\n  @Input()\r\n  set assigneeInfo(assigneeInfos: AssigneeInfo[]) {\r\n    if (assigneeInfos && assigneeInfos.length > 0) {\r\n      this.assignees = assigneeInfos;\r\n      this.showModal(true);\r\n      this.execute();\r\n    } else {\r\n      this.showModal(false);\r\n    }\r\n  }\r\n\r\n  @Output()\r\n  completed = new EventEmitter<boolean>();\r\n\r\n  private allUserData: {\r\n    ID: string,\r\n    Code: string,\r\n    Name: string,\r\n    OrgId: string,\r\n    OrgName: string\r\n  }[];\r\n  private assignees: AssigneeInfo[];\r\n  private assigneesPa: AssigneeInfoByWorkItemIdParameter;\r\n  private allowGlobalAssign: boolean;//æ¯å¦åè®¸å¨åææ´¾\r\n\r\n  constructor(\r\n    public taskSvc: TaskService,\r\n    protected userSvc: UserService,\r\n    protected notify: NotifyService,\r\n    protected i18nService: I18nService\r\n  ) {\r\n    super(i18nService, userSvc);\r\n    this.paginationOptions.id = 'WF-TaskAss-DataTable-Pagination';\r\n    // this.title = this.i18nService.getValue('static.assignee.title');\r\n  }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  execute() { \r\n    this.assigneesPa = {\r\n      workItemId: this.assignees[0].workItemId,\r\n      assigneeIds: [],\r\n      comment: ''\r\n    };\r\n    this.singleSelect = !this.assignees[0].multiSelect;\r\n    this.allowGlobalAssign = this.assignees[0].allowGlobalAssign; \r\n    if(this.assignees[0].assigneeUsers && this.assignees[0].assigneeUsers.length) {\r\n      this.getAssignedUsers();\r\n    } else {\r\n      if(this.allowGlobalAssign) {\r\n        this.getUserList();\r\n      }\r\n    }\r\n    \r\n  }\r\n\r\n  getAssignedUsers() {\r\n    this.allUserData = this.assignees[0].assigneeUsers.map( user => {\r\n      return {\r\n        ID: user.id,\r\n        Name: user.name,\r\n        Code: user.code,\r\n        OrgId: user.orgId,\r\n        OrgName: user.orgNamePath\r\n      };\r\n    });\r\n    this.userListData = this.allUserData;\r\n  }\r\n\r\n  handleOk() {\r\n    this.selectedUsers = this.singleSelect ? [this.userTable.selections] : this.userTable.selections;\r\n\r\n    if (!this.selectedUsers || this.selectedUsers.length < 1) {\r\n      this.notify.warning(this.i18nService.getValue('static.assignee.noAssignee'));\r\n      return;\r\n    }\r\n\r\n    this.assignees.shift();\r\n    this.assigneesPa.assigneeIds = this.selectedUsers.map(user => user.ID);\r\n\r\n    // æ£æ¥æå®æ¯å¦å®æï¼å¦æå®ææäº¤ï¼å¦åç»§ç»­ææ´¾ä»»å¡\r\n    if (this.assignees.length > 0) {\r\n      this.userListData = []; // clear source\r\n      this.execute();\r\n    } else {\r\n      this.taskSvc.assignNextUsersByWorkItemId(this.assigneesPa).subscribe(() => {\r\n        this.showModal(false);\r\n        this.notify.success(this.i18nService.getValue('static.assignee.successAssign'));\r\n        this.completed.emit(true);\r\n      }, error => {\r\n        if(error && error.error && error.error.Message) {\r\n          this.notify.error(error.error.Message);\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  search(event) {\r\n    if(!this.assignees[0].assigneeUsers || !this.assignees[0].assigneeUsers.length) {\r\n      super.search(event);\r\n    } else {\r\n      this.searchValue = event.value;\r\n      if(this.searchValue) {\r\n        this.userListData = this.allUserData.filter(user => \r\n          (user.Name) && user.Name.includes(this.searchValue) ||\r\n          (user.Code) && user.Code.includes(this.searchValue)\r\n        );\r\n      } else {\r\n        this.getAssignedUsers();\r\n      }\r\n    }\r\n  }\r\n  protected showModal(show: boolean): void {\r\n    if (show) {\r\n      this.userDialog.show();\r\n    } else {\r\n      // ä¸´æ¶å¤çæ¹æ¡\r\n      if (this.userDialog.beforeClose) {\r\n        this.userDialog.close();\r\n      }\r\n    }\r\n  }\r\n\r\n  onPageSizeChange(pageSize) {\r\n    this.paginationOptions.itemsPerPage = pageSize;\r\n    if(this.allowGlobalAssign) {\r\n      this.getUserList();\r\n    }\r\n  }\r\n\r\n  onPageChange(event) {\r\n    this.paginationOptions.currentPage = event.pageIndex;\r\n    if(this.allowGlobalAssign) {\r\n      this.getUserList();\r\n    }\r\n  }\r\n}\r\n","import { Component, OnInit, Input, Output, EventEmitter } from '@angular/core';\r\nimport { TaskService } from '../../services/task.service';\r\nimport { UserService } from '../../services/user.service';\r\nimport { UserHelperComponent } from '../user-helper/user-helper.component';\r\nimport { NotifyService } from '@farris/ui-notify';\r\nimport { I18nService } from '../../services/i18n.service';\r\n\r\n@Component({\r\n  selector: 'wf-task-transfer',\r\n  templateUrl: '../user-helper/user-helper.component.html',\r\n  styleUrls: ['./task-transfer.component.css']\r\n})\r\nexport class TaskTransferComponent extends UserHelperComponent implements OnInit {\r\n\r\n  @Input()\r\n  public set transfer_context(context: { workItemId: string, comment?: string}) {\r\n    this.transferContext = { ...context, assignee: '' };\r\n    this.selectedUsers = [];\r\n    this.showModal(!!this.transferContext.workItemId);\r\n  }\r\n  @Output()\r\n  completed = new EventEmitter<boolean>();\r\n\r\n  transferContext: {\r\n    workItemId: string,\r\n    assignee: string,\r\n    comment?: string // TODOï¼ç§»äº¤å¤æ³¨\r\n  };\r\n  constructor(\r\n    private taskSvc: TaskService,\r\n    protected userSvc: UserService,\r\n    protected notify: NotifyService,\r\n    protected i18nService: I18nService\r\n  ) {\r\n    super(i18nService, userSvc);\r\n    this.singleSelect = true;\r\n    this.paginationOptions.id = 'WF-TaskTransfer-DataTable-Pagination';\r\n  }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  handleOk(): void {\r\n    this.selectedUsers = this.userTable.selections;\r\n    // éè¦æ ¡éªéä¸­å¯ä¸ç¨æ·\r\n    if (!this.selectedUsers) {\r\n      this.notify.info(this.i18nService.getValue('static.transfer.selectHandover'));\r\n      return;\r\n    }\r\n\r\n    this.transferContext.assignee = this.selectedUsers['ID'];\r\n    this.taskSvc.transfer(this.transferContext).subscribe(() => {\r\n      this.notify.success(this.i18nService.getValue('static.transfer.successTransfer'));\r\n      this.completed.emit(true);\r\n      this.showModal(false);\r\n    }, error => {\r\n      if(error && error.error && error.error.Message) {\r\n        this.notify.error(error.error.Message);\r\n      }\r\n    });\r\n  }\r\n}\r\n","import { AssigneeInfoByProcInstIdParameter } from './complete-response';\r\n\r\n/**\r\n * æäº¤å®¡æ¹å®¢æ·ç«¯äº¤äºè¿åç»æ\r\n */\r\nexport class InteractionResponse {\r\n    /**\r\n     * æäº¤éæ©æµç¨åºæ¯ä¸è¿åæµç¨å®ä¹Id\r\n     */\r\n    processDefinitionId: string;\r\n    /**\r\n     * æäº¤å®¡æ¹æå®åä¸èæ¶è¿ååæ°\r\n     */\r\n    assigneeInfoParameter: AssigneeInfoByProcInstIdParameter;\r\n    /**\r\n     * äº¤äºå¼å¸¸æç¤ºä¿¡æ¯\r\n     */\r\n    message: string;\r\n}\r\n","import { Component, OnInit, Input, HostBinding, Optional, ViewChild } from '@angular/core';\r\nimport { AssigneeInfo, AssigneeInfoByProcInstIdParameter } from '../../entity/complete-response';\r\nimport { UserService } from '../../runtime/services/user.service';\r\nimport { Observable, Subject } from 'rxjs';\r\nimport { NotifyService } from '@farris/ui-notify';\r\nimport { TaskService } from '../../runtime/services/task.service';\r\nimport { I18nService } from '../../runtime/services/i18n.service';\r\nimport { DataTableComponent } from '@farris/ui-datatable';\r\nimport { PaginationInstance } from '@farris/ui-pagination';\r\nimport { LoadingService } from '@farris/ui-loading'\r\n\r\n@Component({\r\n  selector: 'wf-assign-participant',\r\n  templateUrl: './assign-participant.component.html',\r\n  styleUrls: ['./assign-participant.component.css']\r\n})\r\nexport class AssignParticipantComponent implements OnInit {\r\n  @HostBinding('class')\r\n  cls = 'farris-main-area flex-column';\r\n\r\n  private pageList = [10, 20, 30, 50, 100];\r\n  paginationOptions: PaginationInstance = {\r\n    id: 'WF-Users-DataTable-Pagination',\r\n    currentPage: 1,\r\n    itemsPerPage: 10,\r\n    pageList: this.pageList,\r\n    totalItems: 0\r\n  };\r\n\r\n  @Input()\r\n  set assigneeInfo(assigneeInfos: AssigneeInfo[]) {\r\n    this.assignees = assigneeInfos;\r\n    this.assigneesPa = {\r\n      procInstId: '',//åç«¯ç¨ä¸å° åä¸ºç©º\r\n      assigneeInfos: []\r\n    };\r\n    this.getUserList();\r\n  }\r\n\r\n  private assignees: AssigneeInfo[];\r\n  private assigneesPa: AssigneeInfoByProcInstIdParameter;\r\n  private allowGlobalAssign: boolean;\r\n  private subject = new Subject<AssigneeInfoByProcInstIdParameter>();\r\n  private withAllOrg: boolean = true;\r\n  private orgId: string = '';\r\n  userListData = [];\r\n  // æ¯å¦åè®¸å¤é,é»è®¤å¤é\r\n  singleSelect = false;\r\n  searchValue = null;\r\n  selectedUsers: {\r\n    ID: string,\r\n    Code: string,\r\n    Name: string,\r\n    OrgId: string,\r\n    OrgName: string\r\n  }[] = [];\r\n  @ViewChild('allUserTable') userTable: DataTableComponent;\r\n  columns = [\r\n    { title: this.i18nService ? this.i18nService.getValue('static.columnName.code') : 'ç¼å·', field: 'Code', width: 80 },\r\n    { title: this.i18nService ? this.i18nService.getValue('static.columnName.name') : 'å§å', field: 'Name', width: 90 },\r\n    { title: this.i18nService ? this.i18nService.getValue('static.columnName.department') : 'ç»ç»ä¿¡æ¯', field: 'OrgName', width: 180 }];\r\n  constructor(\r\n    protected userSvc: UserService,\r\n    protected notify: NotifyService,\r\n    private taskSvc: TaskService,\r\n    private loadingService: LoadingService,\r\n    @Optional() protected i18nService: I18nService\r\n  ) {\r\n  }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  getUserList() {\r\n    this.singleSelect = !this.assignees[0].multiSelect;\r\n    if (this.assignees[0].assigneeUsers && this.assignees[0].assigneeUsers.length) {\r\n      this.getAssignedUsers();\r\n    } else {\r\n      if (this.assignees[0].allowGlobalAssign) {\r\n        if (this.assignees[0].organizationScope && this.assignees[0].organizationScope.length) {\r\n          this.withAllOrg = this.assignees[0].organizationScope[0].includeChildren;\r\n          this.orgId = this.assignees[0].organizationScope[0].id;\r\n        }\r\n        this.getAllUserList();\r\n      } else {\r\n        this.getAssignedUsers();\r\n      }\r\n    }\r\n  }\r\n\r\n  getAssignedUsers() {\r\n    if (this.assignees.length > 0) {\r\n      this.selectedUsers = this.assignees[0].assigneeUsers.map(user => {\r\n        return {\r\n          ID: user.id,\r\n          Name: user.name,\r\n          Code: user.code,\r\n          OrgId: user.orgId,\r\n          OrgName: user.orgNamePath\r\n        };\r\n      }),\r\n        this.userListData = this.selectedUsers;\r\n    }\r\n  }\r\n\r\n  protected getAllUserList() {\r\n    const load = this.loadingService.show();\r\n    this.userSvc.getUserList_Assign(this.searchValue, this.paginationOptions.currentPage, this.paginationOptions.itemsPerPage, this.withAllOrg, this.orgId)\r\n      .subscribe((re: { totalCount: number, data: any[] }) => {\r\n        load.close();\r\n        this.paginationOptions.totalItems = re.totalCount;\r\n        this.userListData = re.data.map(u => ({\r\n          ID: u.id,\r\n          Code: u.code,\r\n          Name: u.name,\r\n          OrgId: u.sysOrgId,\r\n          OrgName: u.orgNamePath,\r\n          Checked: false\r\n        }));\r\n      }, error => {\r\n        load.close();\r\n      });\r\n  }\r\n\r\n  search(event) {\r\n    this.searchValue = event.value;\r\n    if (this.assignees[0].assigneeUsers && this.assignees[0].assigneeUsers.length) {//æåéäººï¼å¨åéäººä¸­ç­é\r\n      if(this.searchValue) {\r\n        this.userListData = this.selectedUsers.filter(user =>\r\n          (user.Name) && user.Name.includes(this.searchValue) ||\r\n          (user.Code) && user.Code.includes(this.searchValue)\r\n        );\r\n      } else {\r\n        this.getAssignedUsers();\r\n      }\r\n    } else {//æ åéäººï¼å¨å¨åä¸­éæ©\r\n      this.paginationOptions.currentPage = 1;\r\n      this.getUserList();\r\n    }\r\n  }\r\n\r\n  btnCancelClick() {\r\n    this.notify.info(this.i18nService ? this.i18nService.getValue('static.assignee.cancelAssign') : 'å·²åæ¶æä½ã');\r\n    this.subject.next(null);\r\n  }\r\n  btnOKClick() {\r\n    this.selectedUsers = this.singleSelect ? [this.userTable.selections] : this.userTable.selections;\r\n\r\n    if (!this.selectedUsers || this.selectedUsers.length < 1) {\r\n      this.notify.warning(this.i18nService ? this.i18nService.getValue('static.assignee.noAssignee') : 'è¯·è³å°éæ©ä¸ä¸ªå®¡æ¹äººã');\r\n      return;\r\n    }\r\n\r\n    // æ·»å å·²éäººå\r\n    const assigneeInfo = this.assignees.shift();\r\n    assigneeInfo.assigneeIds = this.selectedUsers.map(user => user.ID);\r\n    this.assigneesPa.assigneeInfos.push(assigneeInfo);\r\n\r\n    // æ£æ¥æå®æ¯å¦å®æï¼å¦æå®ææäº¤ï¼å¦åç»§ç»­ææ´¾ä»»å¡\r\n    if (this.assignees.length > 0) {\r\n      this.userListData = []; // clear source\r\n      this.getUserList();\r\n    } else {\r\n      const load = this.loadingService.show();\r\n      this.taskSvc.assignNextUsersByProcInstId(this.assigneesPa).subscribe(() => {\r\n        load.close();\r\n        this.notify.success(this.i18nService ? this.i18nService.getValue('static.assignee.successAssign') : 'æä½æåã');\r\n        this.subject.next(this.assigneesPa);\r\n      }, err => {\r\n        this.notify.error(this.i18nService ? this.i18nService.getValue('static.assignee.errorAssign') : 'æä½å¤±è´¥ï¼è¯·èç³»ç®¡çåæ¥çåå ï¼');\r\n        this.subject.error(this.i18nService ? this.i18nService.getValue('static.assignee.errorAssign') : 'æä½å¤±è´¥ï¼è¯·èç³»ç®¡çåæ¥çåå ï¼');\r\n      });\r\n    }\r\n  }\r\n  subscribe(): Observable<AssigneeInfoByProcInstIdParameter> {\r\n    return this.subject.asObservable();\r\n  }\r\n\r\n  onPageSizeChange(pageSize) {\r\n    this.paginationOptions.itemsPerPage = pageSize;\r\n    this.getUserList();\r\n  }\r\n\r\n  onPageChange(event) {\r\n    this.paginationOptions.currentPage = event.pageIndex;\r\n    this.getUserList();\r\n  }\r\n\r\n}\r\n","import { Injectable, ComponentFactoryResolver, EventEmitter, Injector, Optional } from '@angular/core';\r\nimport { BsModalService, ModalOptions } from '@farris/ui-modal';\r\nimport { ProcessSelectorComponent } from '../process-selector/process-selector.component';\r\nimport { ExcutionResponse } from '../../entity/excution-response';\r\nimport { InteractionResponse } from '../../entity/interaction-response';\r\nimport { ProcessDefinition } from '../../entity/processdefinition';\r\nimport { AssigneeInfo } from '../../entity/complete-response';\r\nimport { AssignParticipantComponent } from '../assign-participant/assign-participant.component';\r\nimport { Subject, Observable, of } from 'rxjs';\r\nimport { I18nService } from '../../runtime/services/i18n.service';\r\n\r\n/**\r\n * æäº¤å®¡æ¹å®¢æ·ç«¯äº¤äºæå¡\r\n */\r\n@Injectable()\r\nexport class WFSubmiteService {\r\n\r\n    constructor(\r\n        private injector: Injector,\r\n        private resolver: ComponentFactoryResolver,\r\n        private modalService: BsModalService,\r\n        @Optional() private i18nService: I18nService\r\n    ) { }\r\n\r\n    /**\r\n     * å®¢æ·ç«¯äº¤äºå¤çæå¡ç«¯è¿åç»æ\r\n     * @param excutionRe æäº¤å®¡æ¹æå¡å¨ç«¯è¿åç»æ\r\n     * @param handler å¤çç»æåè°é¡µé¢\r\n     */\r\n    excute(excutionRe: ExcutionResponse, handler: (result: InteractionResponse) => void): void {\r\n        const response = new InteractionResponse();\r\n        // æ éäº¤äº\r\n        if (excutionRe.needInteraction === false) {\r\n            response.message = 'æ éäº¤äº';\r\n            handler(response);\r\n            return;\r\n        }\r\n        // éæ©è¦æäº¤çæµç¨\r\n        if (excutionRe.procDefs && excutionRe.procDefs.length > 1) {\r\n            this.selectProcess(excutionRe.procDefs, handler);\r\n            return;\r\n        }\r\n        // æå®ä¸ä¸æ­¥åä¸è\r\n        if (excutionRe.nextFlowNodes[0].assigneeInfo) {\r\n            this.assignee([excutionRe.nextFlowNodes[0].assigneeInfo], handler);\r\n            return;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * å¤çéæ©æµç¨ç»æ\r\n     */\r\n    private selectProcess(prcesses: ProcessDefinition[], handler: (result: InteractionResponse) => void): void {\r\n        const response = new InteractionResponse();\r\n        const modalConfig: ModalOptions = {\r\n            title: this.i18nService ? this.i18nService.getValue('static.submit.selectProcess') : 'æµç¨éæ©',\r\n            width: 520,\r\n            height: 290,\r\n            showButtons: false,\r\n            showMaxButton: false,\r\n            beforeClose: (modelRef: any) => {\r\n                handler(response);\r\n                return of(true);\r\n            }\r\n        };\r\n        const compFactory = this.resolver.resolveComponentFactory(ProcessSelectorComponent);\r\n        const compRef = compFactory.create(this.injector);\r\n        compRef.instance.gridData = prcesses;\r\n        const dialog = this.modalService.show(compRef, modalConfig);\r\n        compRef.instance.subscribe().subscribe(val => {\r\n            response.processDefinitionId = val;\r\n            dialog.close();\r\n        }, err => {\r\n            response.message = err;\r\n            dialog.close();\r\n        });\r\n    }\r\n    /**\r\n     * å¤çæå®ä¸ä¸æ­¥äººåç»æ\r\n     */\r\n    private assignee(assigneeInfos: AssigneeInfo[], handler?: (result: InteractionResponse) => void) {\r\n        const response = new InteractionResponse();\r\n        const modalConfig: ModalOptions = {\r\n            title: this.i18nService ? this.i18nService.getValue('static.assignee.title') : 'è¯·éæ©æä½ç¨æ·',\r\n            width: 850,\r\n            height: 520,\r\n            showMaxButton: false,\r\n            showButtons: false,\r\n            beforeClose: (modelRef: any) => {\r\n                handler(response);\r\n                return of(true);\r\n            }\r\n        };\r\n        const compFactory = this.resolver.resolveComponentFactory(AssignParticipantComponent);\r\n        const compRef = compFactory.create(this.injector);\r\n        compRef.instance.assigneeInfo = assigneeInfos;\r\n        const dialog = this.modalService.show(compRef, modalConfig);\r\n        compRef.instance.subscribe().subscribe(val => {\r\n            dialog.close();\r\n        }, err => {\r\n            dialog.close();\r\n        });\r\n    }\r\n}\r\n","import { Pipe, PipeTransform, Optional } from '@angular/core';\r\nimport { I18nService } from './i18n.service';\r\n\r\n@Pipe({ name: 'translate' })\r\nexport class TranslatePipe implements PipeTransform {\r\n    constructor(@Optional() public i18nService: I18nService) { }\r\n    transform(name: any, defaultVal = ''): any {\r\n        if (this.i18nService) {\r\n            const r = this.i18nService.getValue(name);\r\n            return r ? r : defaultVal;\r\n        } else {\r\n            return defaultVal;\r\n        }\r\n    }\r\n}\r\n","import { NgModule, LOCALE_ID, ModuleWithProviders } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n// import { BrowserAnimationsModule } from '@angular/platform-browser/animations';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { HttpClientModule, HttpClient } from '@angular/common/http';\r\nimport { HttpService, SessionService, LanguageService } from '@ecp-caf/caf-common';\r\nimport { DataTableModule } from '@farris/ui-datatable';\r\nimport { FarrisDialogModule } from '@farris/ui-dialog';\r\nimport { PaginationModule } from '@farris/ui-pagination';\r\nimport { MessagerModule } from '@farris/ui-messager';\r\nimport { NotifyModule } from '@farris/ui-notify';\r\nimport { ProcessSelectorComponent } from './submit/process-selector/process-selector.component';\r\nimport { TaskService } from './runtime/services/task.service';\r\nimport { UserService } from './runtime/services/user.service';\r\nimport { WfWorkitemHandleComponent } from './runtime/wf-workitem-handle/wf-workitem-handle.component';\r\nimport { TaskAssignComponent } from './runtime/components/task-assign/task-assign.component';\r\nimport { UserHelperComponent } from './runtime/components/user-helper/user-helper.component';\r\nimport { TaskSignaddComponent } from './runtime/components/task-signadd/task-signadd.component';\r\nimport { TaskTransferComponent } from './runtime/components/task-transfer/task-transfer.component';\r\nimport { WFSubmiteService } from './submit/service/wf-submite.service';\r\nimport { AssignParticipantComponent } from './submit/assign-participant/assign-participant.component';\r\nimport { DatagridModule } from '@farris/ui-datagrid';\r\nimport { WFCommentModule } from '@gsp-wf/ui-comment';\r\nimport { I18nService } from './runtime/services/i18n.service';\r\nimport { TranslatePipe } from './runtime/services/translate.pipe';\r\nimport { ComboListModule } from '@farris/ui-combo-list';\r\nimport { LoadingModule } from '@farris/ui-loading'\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    HttpClientModule,\r\n    DataTableModule,\r\n    FarrisDialogModule,\r\n    PaginationModule,\r\n    NotifyModule,\r\n    MessagerModule.forRoot({\r\n      width: 500\r\n    }),\r\n    DatagridModule,\r\n    WFCommentModule,\r\n    ComboListModule,\r\n    LoadingModule\r\n  ],\r\n  declarations: [\r\n    ProcessSelectorComponent,\r\n    WfWorkitemHandleComponent,\r\n    UserHelperComponent,\r\n    TaskAssignComponent,\r\n    TaskSignaddComponent,\r\n    TaskTransferComponent,\r\n    AssignParticipantComponent,\r\n    TranslatePipe\r\n  ],\r\n  providers: [\r\n    HttpService,\r\n    TaskService,\r\n    UserService,\r\n    SessionService,\r\n    WFSubmiteService,\r\n    I18nService,\r\n    // { provide: LOCALE_ID, useValue: localStorage.getItem('languageCode') || 'zh-CHS' }\r\n  ],\r\n  exports: [\r\n    ProcessSelectorComponent,\r\n    WfWorkitemHandleComponent,\r\n    UserHelperComponent,\r\n    TaskAssignComponent,\r\n    TaskSignaddComponent,\r\n    TaskTransferComponent,\r\n    AssignParticipantComponent,\r\n  ],\r\n  entryComponents: [\r\n    ProcessSelectorComponent,\r\n    WfWorkitemHandleComponent,\r\n    UserHelperComponent,\r\n    TaskAssignComponent,\r\n    TaskSignaddComponent,\r\n    TaskTransferComponent,\r\n    AssignParticipantComponent\r\n  ]\r\n})\r\nexport class WFRuntimeModule {\r\n}\r\n","import { ProcessDefinition } from './processdefinition';\r\nimport { AssigneeInfo } from './complete-response';\r\n\r\n\r\n/**\r\n * æäº¤å®¡æ¹æä½è¿åç»æ\r\n */\r\nexport class ExcutionResponse {\r\n    constructor() { }\r\n\r\n    /**\r\n     * æµç¨å®ä¾ID\r\n     */\r\n    procInstId: string;\r\n\r\n    /**\r\n     * dataId\r\n     */\r\n    dataId: string;\r\n\r\n    /**\r\n     * æå®åä¸èä¿¡æ¯ï¼éè¦æå®åä¸èçæ´»å¨ãå¾æå®ç¨æ·åè¡¨\r\n     */\r\n    nextAssigneeInfos: AssigneeInfo[];\r\n    \r\n    /**\r\n     * éè¦äº¤äº\r\n     */\r\n    needInteraction: boolean;\r\n    \r\n    /**\r\n     * ä¸ä¸èç¹ä¿¡æ¯\r\n     */\r\n    nextFlowNodes: FlowNodeInfo[];\r\n\r\n    /**\r\n     * æµç¨å®ä¹åè¡¨ï¼å¤ä¸ªç¬¦åæ¡ä»¶çæµç¨å®ä¹éè¦æå·¥éæ©\r\n     */\r\n    procDefs: ProcessDefinition[];\r\n}\r\n\r\nexport class FlowNodeInfo {\r\n\r\n    activityDefinitionId: string;\r\n\r\n    activityDefinitionName: string;\r\n\r\n    selectedAssignees: User[];\r\n\r\n    assigneeInfo: AssigneeInfo;\r\n\r\n}\r\n\r\nexport class User {\r\n\r\n    id: string;\r\n\r\n    name: string;\r\n    \r\n}\r\n","/**\r\n * å®¡æ¹å¨ä½å®ä¹\r\n */\r\n\r\nexport class WorkitemAction {\r\n\r\n    /**\r\n     * å¨ä½ç¼å·\r\n     */\r\n    code: string;\r\n\r\n    /**\r\n     * å¨ä½æ¾ç¤ºåç§°\r\n     */\r\n    name: string;\r\n\r\n    /**\r\n     * æ¯å¦ä¸»è¦æä½\r\n     */\r\n    isPrimaryAction: boolean;\r\n\r\n    /**\r\n     * å®¡æ¹å¨ä½åæ°\r\n     */\r\n    parameters: any;\r\n}\r\n"],"names":[],"mappings":"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"}
