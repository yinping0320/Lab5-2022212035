{"version":3,"file":"gsp-wf-wf-dimension-def.umd.js.map","sources":["ng://@gsp-wf/wf-dimension-def/lib/wf-dimension-def.service.ts","node_modules/tslib/tslib.es6.js","ng://@gsp-wf/wf-dimension-def/lib/entity/dimensiondef.entity.ts","ng://@gsp-wf/wf-dimension-def/lib/entity/guid.util.ts","ng://@gsp-wf/wf-dimension-def/lib/entity/dimendef-entity.util.ts","ng://@gsp-wf/wf-dimension-def/lib/service/wf-dimension-def.viewModel.ts","ng://@gsp-wf/wf-dimension-def/lib/service/wf-dimension-def.uistate.ts","ng://@gsp-wf/wf-dimension-def/lib/wf-dimension-def.component.ts","ng://@gsp-wf/wf-dimension-def/lib/refModule/select-element/select-element.component.ts","ng://@gsp-wf/wf-dimension-def/lib/enum-edit/enum-edit.component.ts","ng://@gsp-wf/wf-dimension-def/lib/dimension-item-card/dimension-item-card.component.ts","ng://@gsp-wf/wf-dimension-def/lib/refModule/panel/panel/panel-item-list.component.ts","ng://@gsp-wf/wf-dimension-def/lib/refModule/panel/panel/util/drop.animation.ts","ng://@gsp-wf/wf-dimension-def/lib/refModule/panel/panel-item/panel-item.component.ts","ng://@gsp-wf/wf-dimension-def/lib/refModule/panel/panel.module.ts","ng://@gsp-wf/wf-dimension-def/lib/refModule/select-element/steps/select-object/select-object.component.ts","ng://@gsp-wf/wf-dimension-def/lib/refModule/select-element/steps/select-obj-element/select-obj-element.component.ts","ng://@gsp-wf/wf-dimension-def/lib/refModule/select-element/select-element.module.ts","ng://@gsp-wf/wf-dimension-def/lib/wf-dimension-def.module.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class WfDimensionDefService {\r\n\r\n  constructor() { }\r\n}\r\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","\r\nexport class DimensionDefEntity {\r\n\r\n    // ID\r\n    id: string;\r\n\r\n    // ç¼å·\r\n    code: string;\r\n\r\n    // æµç¨åç±»ID\r\n    entryFormID: string;\r\n\r\n    // ç»´åº¦ç±»å\r\n    dimensionType: DimensionType;\r\n\r\n    // åéç»´åº¦\r\n    dimensionCode: string;\r\n\r\n    // ç»´åº¦åç§°\r\n    dimensionName: string;\r\n\r\n    // æ°æ®ç±»å\r\n    inputType: DimensionInputType;\r\n\r\n    // æä¸¾åè¡¨\r\n    enumList: string;\r\n\r\n    // å¸®å©\r\n    smartHelp: string;\r\n\r\n    multiSelect: boolean;\r\n\r\n    helpFilter: string;\r\n\r\n    isUse: boolean;\r\n\r\n    devLayer: string;\r\n\r\n    contentInfo: string;\r\n\r\n    sortOrder: number;\r\n\r\n    sysInit: number;\r\n\r\n    remarks: string;\r\n\r\n    creator?: string;\r\n\r\n    createdTime?: Date;\r\n\r\n    lastModifier?: string;\r\n\r\n    lastModifiedTime?: Date;\r\n\r\n}\r\n\r\n\r\nexport enum DimensionInputType {\r\n    Help = 0,\r\n    Enum = 1\r\n}\r\n\r\nexport enum DimensionType {\r\n    BusinessField = 0,\r\n    EnvironmentalVariable = 1\r\n}\r\n\r\nexport const WFDimensionTypes: Array<{ index: number, text: string, value: DimensionType }> = [\r\n    { index: 0, text: 'æ¨¡åå­æ®µ', value: DimensionType.BusinessField },\r\n];\r\n\r\nexport const WFDimensionInputTypes: Array<{ index: number, text: string, value: DimensionInputType }> = [\r\n    { index: 0, text: 'å¸®å©', value: DimensionInputType.Help },\r\n    { index: 1, text: 'æä¸¾', value: DimensionInputType.Enum }\r\n\r\n];\r\n\r\nexport class ItemEditState {\r\n    index: number;\r\n    itemData: DimensionDefEntity;\r\n    canEdit = false;\r\n    id: string;\r\n}\r\n\r\nexport class EnumItem {\r\n    key: string;\r\n    value: string;\r\n}\r\n","export class Guid {\r\n  static newGuid() {\r\n    const initString = 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx';\r\n    const result = initString.replace(/[xy]/g, (c) => {\r\n      return this.convert(c);\r\n    });\r\n    return result;\r\n  }\r\n\r\n  private static convert(c) {\r\n    // tslint:disable-next-line:no-bitwise\r\n    const r = Math.random() * 16 | 0;\r\n    // tslint:disable-next-line:no-bitwise\r\n    const v = c === 'x' ? r : (r & 0x3 | 0x8);\r\n    return v.toString(16);\r\n  }\r\n}\r\n","import { DimensionDefEntity, DimensionType, DimensionInputType } from './dimensiondef.entity';\r\nimport { Guid } from './guid.util';\r\n\r\nclass DimenDefEntityUtil {\r\n    constructor() {\r\n    }\r\n    static newDimendefEntity(flowFormId: string): DimensionDefEntity {\r\n        const newDimendef = {\r\n            id: '',\r\n            code: '',\r\n            entryFormID: '',\r\n            dimensionType: DimensionType.BusinessField,\r\n            dimensionCode: '',\r\n            dimensionName: '',\r\n            inputType: DimensionInputType.Help,\r\n            enumList: null,\r\n            smartHelp: '',\r\n            multiSelect: true,\r\n            helpFilter: '',\r\n            isUse: true,\r\n            devLayer: '',\r\n            contentInfo: null,\r\n            sortOrder: 0,\r\n            sysInit: 0,\r\n            remarks: ''\r\n        };\r\n        newDimendef.id = Guid.newGuid();\r\n        newDimendef.entryFormID = flowFormId;\r\n        return newDimendef;\r\n    }\r\n}\r\nexport { DimenDefEntityUtil };\r\n","import { HttpService } from '@ecp-caf/caf-common';\r\nimport { Injectable } from '@angular/core';\r\nimport { DimensionDefEntity } from '../entity/dimensiondef.entity';\r\nimport { Observable } from 'rxjs';\r\n\r\n@Injectable()\r\nexport class WFDimensionDefViewmodel { \r\n    private url = '/api/runtime/wf/v1.0/dimensionDef';\r\n    constructor(\r\n        private http: HttpService\r\n    ) { }\r\n\r\n    loadDimensionDefs(flowFormId: string): Observable<any> { \r\n        if (flowFormId) { \r\n            const url = this.url + `?entryFormID=${flowFormId}`;\r\n            return this.http.get(url);\r\n        }\r\n    }\r\n    removeDimensionDef(id: string): Observable<any> { \r\n        if (id) {\r\n            const url = this.url + `/${id}`;\r\n            return this.http.delete(url, {});\r\n        }\r\n    }\r\n\r\n    addDimensionDef(dimensionDef: DimensionDefEntity): Observable<any> { \r\n        return this.http.post(this.url, dimensionDef);\r\n    }\r\n\r\n    updateDimensionDef(dimensionDef: DimensionDefEntity): Observable<any> {\r\n        return this.http.patch(this.url, dimensionDef);\r\n    }\r\n\r\n\r\n    getDimensionDefSet(flowFormId: string) {\r\n        const url = `/api/runtime/wf/v1.0/dimensionDef/customSetting?entryFormId=${flowFormId}`;\r\n        return this.http.get(url);\r\n    }\r\n}\r\n","import { Injectable } from '@angular/core';\r\n\r\n@Injectable()\r\nexport class WFDimensionDefUIState {\r\n    schema: any;\r\n    beMetaData: any;\r\n}\r\n","import { Component, OnInit, OnChanges, SimpleChanges, Input } from '@angular/core';\r\nimport { MessagerService } from '@farris/ui-messager';\r\nimport { DimenDefEntityUtil } from './entity/dimendef-entity.util';\r\nimport { DimensionDefEntity, ItemEditState, DimensionInputType } from './entity/dimensiondef.entity';\r\nimport { WFDimensionDefViewmodel } from './service/wf-dimension-def.viewModel';\r\nimport { NotifyService } from '@farris/ui-notify';\r\nimport { WFDimensionDefUIState } from './service/wf-dimension-def.uistate';\r\nimport { forkJoin } from 'rxjs/observable/forkJoin';\r\nimport { switchMap, catchError } from 'rxjs/operators';\r\nimport { of, Observable } from 'rxjs';\r\n\r\n@Component({\r\n  selector: 'wf-dimension-def',\r\n  templateUrl: './wf-dimension-def.component.html',\r\n  styleUrls: ['./wf-dimension-def.component.css'],\r\n})\r\nexport class WfDimensionDefComponent implements OnInit, OnChanges {\r\n\r\n  private _flowFormId: string;\r\n\r\n  @Input()\r\n  get flowFormId() {\r\n    return this._flowFormId;\r\n  }\r\n  set flowFormId(id: string) {\r\n    this._flowFormId = id;\r\n    this.load();\r\n    this.getDimensionDefSet(this._flowFormId);\r\n  }\r\n\r\n  @Input()\r\n  set schema(s: any) {\r\n    this.uistate.schema = s;\r\n  }\r\n  get schema() {\r\n    return this.uistate.schema;\r\n  }\r\n\r\n  @Input()\r\n  set beMetaData(m: any) {\r\n    this.uistate.beMetaData = m;\r\n  }\r\n  get beMetaData() {\r\n    return this.uistate.beMetaData;\r\n  }\r\n\r\n  @Input()\r\n  entry: 'flowForm' | 'billCategory' = 'flowForm';\r\n\r\n  // tslint:disable-next-line: variable-name\r\n  _editable = false;\r\n  @Input()\r\n  set editable(e: boolean) {\r\n    this._editable = e;\r\n    for (const d of this.editData) {\r\n      d.canEdit = this._editable;\r\n    }\r\n  }\r\n  get editable() {\r\n    return this._editable;\r\n  }\r\n\r\n  private data = new Array<DimensionDefEntity>();\r\n  editData = new Array<ItemEditState>();\r\n\r\n  dimensionDefSet: any;\r\n\r\n  constructor(\r\n    private messageService: MessagerService,\r\n    private viewmodel: WFDimensionDefViewmodel,\r\n    private notifyService: NotifyService,\r\n    private uistate: WFDimensionDefUIState\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n  }\r\n  ngOnChanges(changes: SimpleChanges) {\r\n\r\n  }\r\n\r\n  load() {\r\n    if (this.flowFormId) {\r\n      this.viewmodel.loadDimensionDefs(this.flowFormId).subscribe((re: Array<DimensionDefEntity>) => {\r\n        this.data = re;\r\n        this.editData = [];\r\n        if (this.data && this.data.length > 0) {\r\n          this.data.forEach(item => {\r\n            this.addItem(item, this.editable);\r\n          });\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  getDimensionDefSet(flowFormId: string) {\r\n    if (flowFormId) {\r\n      this.viewmodel.getDimensionDefSet(flowFormId).subscribe(re => {\r\n          this.dimensionDefSet = re;\r\n      });\r\n    }\r\n  }\r\n\r\n  hasItem(index: number) {\r\n    return this.editData.find(item => item.index === index);\r\n  }\r\n\r\n  getItem(index: number) {\r\n    return this.hasItem(index) ? this.editData.find(item => item.index === index).itemData : null;\r\n  }\r\n\r\n\r\n  setItem(index: number, itemData: any) {\r\n    this.editData.find(item => item.index === index).itemData = itemData;\r\n  }\r\n\r\n  addItem(itemData: DimensionDefEntity, canEdit: boolean) {\r\n    const editDataItem = new ItemEditState();\r\n    editDataItem.canEdit = canEdit;\r\n    editDataItem.index = this.editData.length;\r\n    editDataItem.itemData = Object.assign({}, itemData);\r\n    editDataItem.id = itemData.id;\r\n    this.editData.push(editDataItem);\r\n  }\r\n\r\n  getTitle(index: number) {\r\n    let suffix = '';\r\n    switch (index) {\r\n      case 0:\r\n        suffix = 'ä¸';\r\n        break;\r\n      case 1:\r\n        suffix = 'äº';\r\n        break;\r\n    }\r\n    return `ç»´åº¦${suffix}`;\r\n  }\r\n\r\n  getState(index: number): boolean {\r\n    if (!this.hasItem(index)) {\r\n      return false;\r\n    }\r\n    const sysInit = this.editData.find(item => item.index === index).itemData.sysInit;\r\n    return sysInit === 1 ? true : false;\r\n  }\r\n\r\n  isEditState(index: number): boolean {\r\n    if (!this.hasItem(index)) {\r\n      return false;\r\n    }\r\n    return this.editData.find(item => item.index === index).canEdit;\r\n  }\r\n\r\n  edit(item: ItemEditState) {\r\n    this.editData.find(d => d.id === item.id).canEdit = true;\r\n  }\r\n\r\n  remove(item: ItemEditState) {\r\n    if (this.dimensionDefSet && (item.id === this.dimensionDefSet.dimension1 || item.id === this.dimensionDefSet.dimension2)) {\r\n      this.messageService.info('å½åç»´åº¦å®ä¹å·²å¨æµç¨åéç»´åº¦éç½®ä¸­å¯ç¨');\r\n      return;\r\n    }\r\n    if (this.entry === 'flowForm') {\r\n      this.removeDimensionDef(item);\r\n      // const i = this.data.findIndex(d => d.id === item.id);\r\n      // if (i > -1) {\r\n      //   this.data.splice(i, 1);\r\n      // }\r\n    } else {\r\n      this.messageService.question(`ç¡®è®¤å é¤'${this.getTitle(item.index)}'åï¼`, () => {\r\n        if (this.data.findIndex(d => d.id === item.id) === -1) {\r\n          this.removeDimensionDef(item);\r\n          this.notifyService.success('å é¤æå');\r\n          return;\r\n        }\r\n        this.viewmodel.removeDimensionDef(item.id).subscribe(re => {\r\n          this.removeDimensionDef(item);\r\n          const i = this.data.findIndex(d => d.id === item.id);\r\n          if (i > -1) {\r\n            this.data.splice(i, 1);\r\n          }\r\n          this.notifyService.success('å é¤æå');\r\n        }, err => {\r\n          this.notifyService.error('å é¤å¤±è´¥ï¼è¯·èç³»ç®¡çåæ¥çåå ï¼');\r\n        });\r\n      });\r\n    }\r\n  }\r\n\r\n  getDimensionDefs() {\r\n    return this.editData.map(d => d.itemData);\r\n  }\r\n\r\n  private removeDimensionDef(item: ItemEditState) {\r\n    const index = this.editData.findIndex(d => d.id === item.id);\r\n    if (index > -1) {\r\n      this.editData.splice(index, 1);\r\n    }\r\n    if (index < this.editData.length) {\r\n      for (let i = 0; i < this.editData.length; i++) {\r\n        this.editData[i].index = i;\r\n      }\r\n    }\r\n  }\r\n\r\n  save(item: ItemEditState) {\r\n    const v = this.validate(item.itemData);\r\n    if (!v.result) {\r\n      this.messageService.info(v.message);\r\n      return;\r\n    }\r\n    if (this.data.findIndex(d => d.id === item.id) === -1) {\r\n      this.viewmodel.addDimensionDef(item.itemData).subscribe(re => {\r\n        this.endEdit(item);\r\n        this.data.push(Object.assign({}, item.itemData));\r\n        this.notifyService.success('ä¿å­æå');\r\n      }, err => {\r\n        this.notifyService.error('ä¿å­å¤±è´¥ï¼è¯·èç³»ç®¡çåæ¥çåå ï¼');\r\n      });\r\n    } else {\r\n      this.viewmodel.updateDimensionDef(item.itemData).subscribe(re => {\r\n        this.endEdit(item);\r\n        const data = this.data.find(d => d.id === item.id);\r\n        Object.assign(data, item.itemData);\r\n        this.notifyService.success('ä¿å­æå');\r\n      }, err => {\r\n        this.notifyService.error('ä¿å­å¤±è´¥ï¼è¯·èç³»ç®¡çåæ¥çåå ï¼');\r\n      });\r\n    }\r\n  }\r\n\r\n  saveAll(): Observable<boolean> {\r\n    const deleteDefs = this.data.filter(d => this.editData.findIndex(e => e.id === d.id) === -1);\r\n    const addDefs = this.editData.filter(e => this.data.findIndex(d => d.id === e.id) === -1).map(e => e.itemData);\r\n    const updateDefs = this.editData.filter(e => this.data.findIndex(d => d.id === e.id) > -1)\r\n      .map(e => e.itemData)\r\n      .filter(d => d.sysInit === 0);\r\n    return forkJoin(deleteDefs.map(d => {\r\n      return this.viewmodel.removeDimensionDef(d.id);\r\n    }).concat(updateDefs.map(u => {\r\n      return this.viewmodel.updateDimensionDef(u);\r\n    }).concat(addDefs.map(a => {\r\n      return this.viewmodel.addDimensionDef(a);\r\n    })))).pipe(\r\n      switchMap(re => {\r\n        this.data = this.editData.map(e => e.itemData);\r\n        // this.editData.map(e => e.canEdit = false);\r\n        return of(true);\r\n      }),\r\n      catchError(err => {\r\n        console.error(err);\r\n        return of(false);\r\n      })\r\n    );\r\n    //   .subscribe(re => {\r\n    //   this.data = this.editData.map(e => e.itemData);\r\n    //   this.editData.map(e => e.canEdit = false);\r\n    // },\r\n    // err => {\r\n    //   this.notifyService.error('ä¿å­ç»´åº¦å®ä¹å¤±è´¥ï¼è¯·èç³»ç³»ç»ç®¡çåæ¥çåå ï¼');\r\n    // });\r\n  }\r\n\r\n  cancel(item: ItemEditState) {\r\n    this.endEdit(item);\r\n    if (this.data.findIndex(d => d.id === item.id) === -1) {\r\n      this.removeDimensionDef(item);\r\n      return;\r\n    } else {\r\n      Object.assign(this.editData.find(d =>\r\n        d.id === item.id).itemData, this.data.find(d => d.id === item.id));\r\n    }\r\n  }\r\n\r\n  addHandler() {\r\n    if (this.entry === 'flowForm' && !this.editable) {\r\n      return;\r\n    }\r\n    const info = DimenDefEntityUtil.newDimendefEntity(this.flowFormId);\r\n    this.addItem(info, true);\r\n  }\r\n\r\n  isOtherItemEditting(index: number): boolean {\r\n    let isOtherItemEditting = false;\r\n    this.editData.forEach(item => {\r\n      if (item.canEdit === true && item.index !== index) {\r\n        isOtherItemEditting = true;\r\n        this.messageService.info(`è¯·åä¿å­å¯¹äº'${this.getTitle(item.index)}'çä¿®æ¹ã`);\r\n      }\r\n    });\r\n    return isOtherItemEditting;\r\n  }\r\n\r\n  endEdit(item: ItemEditState) {\r\n    for (const d of this.editData) {\r\n      if (d.id === item.id) {\r\n        d.canEdit = false;\r\n      }\r\n    }\r\n  }\r\n  private validate(d: DimensionDefEntity) {\r\n    if (!d.code) {\r\n      return { result: false, message: 'ç»´åº¦å®ä¹ä¸åè®¸ç¼å·ä¸ºç©ºï¼è¯·ä¿®æ¹ï¼' };\r\n    } else if (!d.dimensionName) {\r\n      return { result: false, message: 'ç»´åº¦å®ä¹ä¸åè®¸ç»´åº¦åç§°ä¸ºç©ºï¼è¯·ä¿®æ¹ï¼' };\r\n    } else if (!d.dimensionCode) {\r\n      return { result: false, message: 'ç»´åº¦å®ä¹ä¸åè®¸åéç»´åº¦ä¸ºç©ºï¼è¯·ä¿®æ¹ï¼' };\r\n    } else if (d.inputType === DimensionInputType.Help && !d.smartHelp) {\r\n      return { result: false, message: 'ç»´åº¦å®ä¹æ°æ®ç±»åä¸ºå¸®å©ï¼ä½å¸®å©å¼ä¸ºç©ºï¼è¯·ä¿®æ¹ï¼' };\r\n    } else if (d.inputType === DimensionInputType.Enum && !d.enumList) {\r\n      return { result: false, message: 'ç»´åº¦å®ä¹æ°æ®ç±»åä¸ºæä¸¾ï¼ä½æä¸¾å¼ä¸ºç©ºï¼è¯·ä¿®æ¹ï¼' };\r\n    }\r\n    return { result: true, message: '' };\r\n  }\r\n}\r\n","import { Component, OnInit, EventEmitter } from '@angular/core';\r\nimport { GSPCommonElement } from '@gsp-bef/gsp-cm-metadata';\r\n\r\n@Component({\r\n  selector: 'select-element',\r\n  templateUrl: './select-element.component.html',\r\n  styleUrls: ['./select-element.component.css']\r\n})\r\nexport class SelectElementComponent implements OnInit {\r\n  /**\r\n   * å³é­çªå£äºä»¶\r\n   */\r\n  closeModal = new EventEmitter<any>();\r\n  /**\r\n   * ç¡®è®¤éæ©å­æ®µ\r\n   */\r\n  confirm = new EventEmitter<any>();\r\n\r\n  progressData = {\r\n    activeIndex: 0,\r\n    stepMessages: [\r\n      {\r\n        id: 'selectobject',\r\n        title: 'éæ©èç¹',\r\n        icon: ''\r\n      },\r\n      {\r\n        id: 'selectelement',\r\n        title: 'éæ©å­æ®µ',\r\n        icon: ''\r\n      }\r\n    ]\r\n  };\r\n\r\n  changeObj = true;\r\n\r\n  /**\r\n   * å­æ®µéæ©ä¿¡æ¯\r\n   */\r\n  selectEleInfo = {\r\n    be: null,              // beå®ä½\r\n    selectedObj: null,     // beèç¹\r\n    BeFields: [],          // Beå­æ®µåè¡¨\r\n    selectedBeFields: [],  // Beå­æ®µIDåè¡¨\r\n    singleElement: false,  // æ¯å¦åé\r\n    assoRefElement: false  // æ¯å¦åå«å³èå¸¦åºå­æ®µ\r\n  };\r\n\r\n  result = {\r\n    be: null,              // beå®ä½\r\n    selectedObj: null,     // beèç¹\r\n    selectedBeFields: [],  // Beå­æ®µåè¡¨\r\n  }\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  /**\r\n   * é¡µé¢ç¶æååæ¶è§¦åäºä»¶ {state:'', fromPageId:'', toPageId:''}\r\n   * å¶ä¸­stateåå«å¯¹åº0ï¼Finish:1ï¼Cancel:2ï¼Prev:3ï¼Next:4ï¼StepChange\r\n   * @param value \r\n   */\r\n  stateChange(value) {\r\n    switch (value.state) {\r\n      case 0:\r\n        // è¿åéæ©ç»æ\r\n        this.result.be = this.selectEleInfo.be;\r\n        this.result.selectedObj = this.selectEleInfo.selectedObj;\r\n        this.result.selectedBeFields = this.selectEleInfo.BeFields.filter((item) => {\r\n          const ele = item as GSPCommonElement;\r\n          // æ­¤å¤ä½¿ç¨==å¤æ­å¼ç¸ç­ï¼è¥ä¸º===ï¼åæ æ³æ¾å°idç¸åçå­æ®µ\r\n          // tslint:disable-next-line:triple-equals\r\n          return this.selectEleInfo.selectedBeFields.findIndex(fieldId => fieldId == ele.ID) >= 0;\r\n        });\r\n        this.confirm.next(this.result);\r\n        this.close();\r\n        break;\r\n      case 1:\r\n        this.close();\r\n        break;\r\n      case 3:\r\n        this.changeObj = !this.changeObj;\r\n        break;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * å³é­å¼¹çª\r\n   */\r\n  close() {\r\n    this.closeModal.next();\r\n  }\r\n}\r\n","import { Component, OnInit, ViewChild, TemplateRef, HostBinding, ComponentFactoryResolver, Injector } from '@angular/core';\r\nimport { Subject, of } from 'rxjs';\r\nimport { Validators, FormBuilder, FormGroup } from '@angular/forms';\r\nimport { MessagerService } from '@farris/ui-messager';\r\nimport { EditorTypes } from '@farris/ui-datagrid-editors';\r\nimport { DatagridComponent } from '@farris/ui-datagrid';\r\nimport { EnumItem } from '../entity/dimensiondef.entity';\r\nimport { WFDimensionDefUIState } from '../service/wf-dimension-def.uistate';\r\nimport { GSPCommonModel, GSPCommonElement, GSPElementObjectType } from '@gsp-bef/gsp-cm-metadata';\r\nimport { SelectElementComponent } from '../refModule/select-element/select-element.component';\r\nimport { BsModalService } from '@farris/ui-modal';\r\n\r\n@Component({\r\n  selector: 'app-enum-edit',\r\n  templateUrl: './enum-edit.component.html',\r\n  styleUrls: ['./enum-edit.component.css']\r\n})\r\nexport class EnumEditComponent implements OnInit {\r\n  @HostBinding('class')\r\n  cls = 'farris-main-area flex-column';\r\n\r\n  columns = [\r\n    { field: 'key', width: 100, title: 'é®', editor: { type: EditorTypes.TEXTBOX, options: {} } },\r\n    { field: 'value', width: 100, title: 'å¼', editor: { type: EditorTypes.TEXTBOX, options: {} } }];\r\n  @ViewChild('dg') dg: DatagridComponent;\r\n  @ViewChild('buttons') btnRef: TemplateRef<any>;\r\n\r\n  confirm = new Subject<any>();\r\n  closeModalEmitter = new Subject<any>();\r\n\r\n  /**\r\n   * æ¾ç¤ºå¼\r\n   */\r\n  editData = new Array();\r\n\r\n  maxNum = 0;\r\n\r\n  /**\r\n   * å®éå¼\r\n   */\r\n  get enumValues(): EnumItem[] {\r\n    const arr = [];\r\n    if (this.editData && this.editData.length >= 0) {\r\n      this.editData.forEach(item => {\r\n        const enumItem = new EnumItem();\r\n        enumItem.key = item.key;\r\n        enumItem.value = item.value;\r\n        arr.push(enumItem);\r\n      });\r\n    }\r\n    return arr;\r\n  }\r\n\r\n  constructor(\r\n    private messageService: MessagerService,\r\n    private uistate: WFDimensionDefUIState,\r\n    private modalService: BsModalService,\r\n    private resolver: ComponentFactoryResolver,\r\n    private injector: Injector,\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n\r\n  }\r\n\r\n  /**\r\n   * å è½½æ¾ç¤ºæ°æ®\r\n   */\r\n  load(enumValues) {\r\n    this.editData = [...this.createData(enumValues)];\r\n  }\r\n\r\n  /**\r\n   * ç¡®è®¤\r\n   */\r\n  onConfirm(): void {\r\n    this.closeCell();\r\n    if (this.checkBeforeSave()) {\r\n      this.confirm.next(this.enumValues);\r\n      this.closeModalEmitter.next();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * åæ¶\r\n   */\r\n  cancel(): void {\r\n    this.closeModalEmitter.next();\r\n  }\r\n\r\n  /**\r\n   * ä¿å­åæ£æ¥\r\n   */\r\n  checkBeforeSave(): boolean {\r\n    // â  ç©ºï¼åéè¿ï¼\r\n    if (!(this.enumValues) || this.enumValues.length === 0) {\r\n      this.messageService.warning('è¯·æ·»å æä¸¾å¼ã');\r\n      return false;\r\n    }\r\n    // â¡ éç©ºï¼åæ ¡éªæ¯ä¸ªçé®å¼æ¯å¦ä¸ºç©ºï¼\r\n    for (const item of this.enumValues) {\r\n      if (!item.key || !item.value) {\r\n        this.messageService.warning('æä¸¾ç[é®][å¼]åä¸åè®¸ä¸ºç©ºã');\r\n        return false;\r\n      }\r\n    }\r\n    // â¢ å¤äºä¸ä¸ªï¼ç´¢å¼ä¸åè®¸éå¤ï¼\r\n    if (this.enumValues.length > 1) {\r\n      for (let i = 0; i < this.enumValues.length; i++) {\r\n        const code1 = this.enumValues[i].value;\r\n        const name1 = this.enumValues[i].key;\r\n        for (let j = i + 1; j < this.enumValues.length; j++) {\r\n          const code2 = this.enumValues[j].value;\r\n          const name2 = this.enumValues[j].key;\r\n\r\n          if (code1 === code2) {\r\n            this.messageService.warning(`æä¸¾ç[ç¼å·]ä¸åè®¸éå¤ï¼éå¤ç¼å·ä¸º[${code1}]ã`);\r\n            return false;\r\n          }\r\n          if (name1 === name2) {\r\n            this.messageService.warning(`æä¸¾ç[åç§°]ä¸åè®¸éå¤ï¼éå¤åç§°ä¸º[${name1}]ã`);\r\n            return false;\r\n          }\r\n        }\r\n      }\r\n    }\r\n    return true;\r\n  }\r\n\r\n  /**\r\n   * åæ¶ç¼è¾\r\n   */\r\n  closeCell() {\r\n    this.dg.endCellEdit();\r\n  }\r\n  /**\r\n   * å¼å¥\r\n   */\r\n  import() {\r\n    if (!this.uistate.beMetaData) {\r\n      this.messageService.error('æªè·åå°BEåæ°æ®ï¼è¯·èç³»ç®¡çåæ¥çåå ï¼');\r\n      return;\r\n    }\r\n    const model: GSPCommonModel = this.uistate.beMetaData.content;\r\n    const compFactory = this.resolver.resolveComponentFactory(SelectElementComponent);\r\n    const compRef = compFactory.create(this.injector);\r\n    compRef.instance.selectEleInfo.be = model;\r\n    compRef.instance.selectEleInfo.singleElement = true;\r\n    compRef.instance.selectEleInfo.assoRefElement = false;\r\n    compRef.instance.confirm.subscribe(data => {\r\n      const selectedElement = data.selectedBeFields[0] as GSPCommonElement;\r\n      if (selectedElement.ObjectType === GSPElementObjectType.Enum) {\r\n        this.editData = new Array();\r\n        let k = 0;\r\n        for (const enumValue of selectedElement.ContainEnumValues) {\r\n          this.editData.push({\r\n            id: k,\r\n            key: enumValue.Value,\r\n            value: enumValue.Name,\r\n          });\r\n          k++;\r\n        }\r\n        this.maxNum = k;\r\n      } else {\r\n        this.messageService.info('éä¸­å­æ®µå¹¶éæä¸¾å­æ®µï¼è¯·äºè§£ï¼');\r\n      }\r\n    });\r\n    const modalConfig = {\r\n      title: 'æä¸¾å­æ®µéæ©',\r\n      width: 1000,\r\n      height: 550,\r\n      showButtons: false\r\n    };\r\n    const dialog = this.modalService.show(compRef, modalConfig);\r\n    compRef.instance.closeModal.subscribe(() => {\r\n      dialog.close();\r\n    });\r\n  }\r\n\r\n  /**\r\n   * æ°å¢\r\n   */\r\n  add() {\r\n    this.closeCell();\r\n    const newId = this.maxNum;\r\n    this.editData = this.editData.concat([{\r\n      id: newId\r\n    }]);\r\n    this.maxNum++;\r\n  }\r\n\r\n  /**\r\n   * å é¤\r\n   */\r\n  remove() {\r\n    this.closeCell();\r\n    if (this.dg.selectedRow) {\r\n      const id = this.dg.selectedRow.id;\r\n      this.dg.selectPrevRow();\r\n      this.editData = this.editData.filter(n => n.id !== id);\r\n    }\r\n  }\r\n\r\n  createData(enumValues: EnumItem[]) {\r\n    const arr = [];\r\n    let k = 0;\r\n    for (const enumValue of enumValues) {\r\n      arr.push({\r\n        id: k,\r\n        key: enumValue.key,\r\n        value: enumValue.value,\r\n      });\r\n      k++;\r\n    }\r\n    this.maxNum = k;\r\n    return arr;\r\n  }\r\n}\r\n","import { Component, OnInit, ComponentFactoryResolver, Injector, EventEmitter, Input, OnChanges, SimpleChanges } from '@angular/core';\r\nimport { BsModalService } from '@farris/ui-modal';\r\nimport { SelectMetadataRTComponent, Metadata4RefDto, MetadataDto } from '@gsp-lcm/metadatart-selector';\r\nimport { MessagerService } from '@farris/ui-messager';\r\nimport { GSPCommonModel, GSPCommonObject, GSPCommonElement, GSPElementObjectType } from '@gsp-bef/gsp-cm-metadata';\r\nimport { DimensionDefEntity, WFDimensionTypes, DimensionType, WFDimensionInputTypes, DimensionInputType } from '../entity/dimensiondef.entity';\r\nimport { WFDimensionDefUIState } from '../service/wf-dimension-def.uistate';\r\nimport { ExpressionService, InjectedType } from '@gsp-svc/expression';\r\nimport { EnumEditComponent } from '../enum-edit/enum-edit.component';\r\nimport { LookupConfigService } from '@farris/lookup-config';\r\n\r\n\r\n@Component({\r\n  selector: 'wf-dimension-item-card',\r\n  templateUrl: './dimension-item-card.component.html',\r\n  styleUrls: ['./dimension-item-card.component.css'],\r\n  providers: [LookupConfigService]\r\n})\r\nexport class DimensionItemCardComponent implements OnInit, OnChanges {\r\n  @Input() data: DimensionDefEntity;\r\n  @Input() canCardEdit: boolean;\r\n  @Input() sysInit = false;\r\n  canEdit = false;\r\n\r\n  /**\r\n   * ç»´åº¦ç§ç±»\r\n   */\r\n  dimensionTypes = WFDimensionTypes;\r\n  inputTypes = WFDimensionInputTypes;\r\n\r\n  selectedBEMetadata: EventEmitter<any> = new EventEmitter();\r\n  selectedHelpMetadata: EventEmitter<any> = new EventEmitter();\r\n  groupIcon = '<i class=\"f-icon f-icon-lookup\"></i>';\r\n\r\n  lookupConfig: any;\r\n\r\n\r\n  get dimensionItemCode(): string {\r\n    return this.data ? this.data.code : '';\r\n  }\r\n\r\n  set dimensionItemCode(value: string) {\r\n    this.data.code = value;\r\n  }\r\n\r\n  get dimensionItemName(): string {\r\n    return this.data ? this.data.dimensionName : '';\r\n  }\r\n\r\n  set dimensionItemName(value: string) {\r\n    this.data.dimensionName = value;\r\n  }\r\n\r\n  get dimensionCode(): string {\r\n    return this.data ? this.data.dimensionCode : '';\r\n  }\r\n\r\n  set dimensionCode(v: string) {\r\n    this.data.dimensionCode = v;\r\n  }\r\n\r\n  get inputType(): DimensionInputType {\r\n    return this.data ? this.data.inputType : null;\r\n  }\r\n  set inputType(v: DimensionInputType) {\r\n    this.data.inputType = v;\r\n  }\r\n\r\n\r\n  get dimensionType() {\r\n    return this.data ? this.data.dimensionType : null;\r\n  }\r\n  set dimensionType(v: DimensionType) {\r\n    this.data.dimensionType = v;\r\n  }\r\n  constructor(\r\n    private modalService: BsModalService,\r\n    private resolver: ComponentFactoryResolver,\r\n    private injector: Injector,\r\n    private messageService: MessagerService,\r\n    private uistate: WFDimensionDefUIState,\r\n    private exprService: ExpressionService,\r\n    private configService: LookupConfigService\r\n  ) {\r\n    this.configService.getLookupData().subscribe(data => {\r\n      console.log(data);\r\n      this.data.smartHelp = data;\r\n    });\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.canEdit = this.canCardEdit;\r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges) {\r\n    if (changes.canCardEdit) {\r\n      this.canEdit = this.canCardEdit;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * ç»´åº¦ç±»å\r\n   */\r\n  selectDimensionType(data) {\r\n  }\r\n\r\n  /**\r\n   * ç»´åº¦éæ©1-beå­æ®µ\r\n   */\r\n  selectBEMeta() {\r\n    if (this.uistate.schema) {\r\n      this.exprService.clearInjectedEntity();\r\n      this.exprService.addSchema('Schema', this.uistate.schema);\r\n      if (this.uistate.schema.entityTypes && this.uistate.schema.entityTypes.length > 0) {\r\n        const entityType = this.uistate.schema.entityTypes[0];\r\n        this.exprService.addInjectedEntity(entityType.name, 'Schema',\r\n          entityType.name, InjectedType.EntityType);\r\n      }\r\n    }\r\n    // if (this.dimensionCode) {                                 // ç¼è¾å¨å è½½åå§å¼\r\n    //   try {\r\n    this.exprService.addExpressionText(this.dimensionCode);\r\n      // } catch (error) {\r\n      //   console.log('parse expression error:' + this.dimensionCode);\r\n      // }\r\n    // }\r\n    this.exprService.buildExpression().then((d: string) => { // ç¼è¾å¨è¿åå¼\r\n      if (d) {\r\n        this.dimensionCode = d;\r\n      }\r\n    });\r\n  }\r\n\r\n\r\n  /**\r\n   * è¾å¥ç±»å\r\n   * @param value \r\n   */\r\n  selectInputType(data) {\r\n    this.data.inputType = data.data.value;\r\n  }\r\n\r\n  /**\r\n   * æ¯å¦æä¸¾è¾å¥\r\n   */\r\n  getIsEnumInput(): boolean {\r\n    return this.data && this.data.inputType === DimensionInputType.Enum;\r\n  }\r\n\r\n  /**\r\n   * æ¯å¦å¸®å©è¾å¥\r\n   */\r\n  getIsSmartHelpInput(): boolean {\r\n    return this.data && this.data.inputType === DimensionInputType.Help;\r\n  }\r\n\r\n  /**\r\n   * æä¸¾æ¾ç¤ºå¼\r\n   */\r\n  getEnumInputDisplay() {\r\n    // if (!this.getIsEnumInput()) {\r\n    //   return '';\r\n    // }\r\n    // const enumInputInfo = this.data.inputInfo as EnumInputInfo;\r\n    // let display = '';\r\n    // if (!enumInputInfo || !enumInputInfo.enumItems) {\r\n    //   return display;\r\n    // }\r\n    // enumInputInfo.enumItems.forEach(item => {\r\n    //   display = display.concat(`${item.key}:${item.value}; `);\r\n    // });\r\n    // return display;\r\n  }\r\n\r\n\r\n  /**\r\n   * å¸®å©åç§°\r\n   */\r\n  get helperName(): string {\r\n    if (!this.getIsSmartHelpInput()) {\r\n      return '';\r\n    }\r\n    return this.data.smartHelp;\r\n  }\r\n\r\n  enumListText = () => {\r\n    if (!this.getIsEnumInput()) {\r\n      return '';\r\n    }\r\n    let display = '';\r\n    if (this.data.enumList) {\r\n      const enumList = JSON.parse(this.data.enumList);\r\n      if (enumList.length > 0) {\r\n        enumList.forEach(item => {\r\n          display = display.concat(`${item.key}:${item.value}; `);\r\n        });\r\n      }\r\n    }\r\n    return display;\r\n  }\r\n\r\n  /**\r\n   * å¸®å©éæ©\r\n   */\r\n  selectHelpMeta() {\r\n    this.lookupConfig = this.configService.showConfig({\r\n      configId: this.data.smartHelp\r\n    });\r\n    // const compFactory =\r\n    //   this.resolver.resolveComponentFactory(SelectMetadataRTComponent);\r\n    // const compRef = compFactory.create(this.injector);\r\n    // compRef.instance.typeList = 'HelpMetadata';\r\n    // compRef.instance.selectedMetadata\r\n    //   .subscribe(($event: Metadata4RefDto) => {\r\n    //     const meta: MetadataDto = $event.metadata;\r\n    //     const help = JSON.parse(meta.content);\r\n\r\n    //     this.data.smartHelp = help.id;\r\n    //   });\r\n\r\n    // const modalConfig = {\r\n    //   title: 'å¸®å©éæ©',\r\n    //   width: 930,\r\n    //   height: 573,\r\n    //   showButtons: false\r\n    // };\r\n    // const dialog = this.modalService.show(compRef, modalConfig);\r\n    // compRef.instance.closeModalEmitter.subscribe($event => dialog.close());\r\n  }\r\n\r\n  editEnumValues() {\r\n    const compFactory = this.resolver.resolveComponentFactory(EnumEditComponent);\r\n    const compRef = compFactory.create(this.injector);\r\n    const modalConfig = {\r\n      title: 'æä¸¾è®¾ç½®',\r\n      width: 650,\r\n      height: 450,\r\n      showButtons: true,\r\n      buttons: compRef.instance.btnRef,\r\n    };\r\n    if (this.data.enumList) {\r\n      compRef.instance.load(JSON.parse(this.data.enumList));\r\n    }\r\n    compRef.instance.confirm.subscribe(re => {\r\n      this.data.enumList = JSON.stringify(re) ? JSON.stringify(re) : null;\r\n    });\r\n    const dialog = this.modalService.show(compRef, modalConfig);\r\n    compRef.instance.closeModalEmitter.subscribe(() => {\r\n      dialog.close();\r\n    });\r\n  }\r\n}\r\n","import {\r\n    Component, Input, AfterViewInit,\r\n    ViewEncapsulation, Output, EventEmitter, ElementRef, Renderer2, OnInit, ViewChild\r\n} from '@angular/core';\r\n@Component({\r\n    selector: 'wf-dimension-panel',\r\n    templateUrl: './panel-item-list.component.html',\r\n    styleUrls: ['./panel-item-list.component.css'],\r\n    encapsulation: ViewEncapsulation.None\r\n})\r\n\r\nexport class WFDimensionPanelComponent implements AfterViewInit, OnInit {\r\n\r\n    @ViewChild('farrisPanel') farrisPanel: ElementRef;\r\n\r\n    /* è®¾ç½®å®½é« */\r\n    @Input() width: number;\r\n    @Input() height: number;\r\n\r\n\r\n\r\n    /* èªå®ä¹className */\r\n    @Input() className = [];\r\n\r\n    /* é¢æ¿æ¯å¦å¯æ¶æ  é»è®¤æ¶æ*/\r\n    @Input() foldable = true;\r\n\r\n    /* é¢æ¿æ¯å¦å¨é¨å±å¼  é»è®¤ä¸æ¯å¨é¨å±å¼*/\r\n    @Input() defaultExpand: boolean;\r\n\r\n    // è®¾ç½®æé£ç´æ¨¡å¼  è³å¤åªæä¸ä¸ªpanelå¯ä»¥è¢«éä¸­\r\n    @Input() accordion = false;\r\n\r\n    /* panelæ°æ®å­å¨ */\r\n    @Input() get model() {\r\n        return this.modelValue;\r\n    }\r\n\r\n    set model(modelValue) {\r\n        // è·åç¨æ·è¾å¥çå¼\r\n        this.modelValue = modelValue;\r\n        this.updateSubscriber();\r\n    }\r\n\r\n\r\n    @Output() modelChange: EventEmitter<Array<string | number>> = new EventEmitter<Array<string | number>>();\r\n\r\n    // @HostBinding('class.farris-panel') isPanel =\r\n\r\n    // ååç»å®  å½modelæ°ç»æ¹åæ¶ï¼ç¸åºçactiveç¶æçpanelä¹è¦æ¹å ä»èæ¹åè§å¾\r\n    // ååç»å® ç¨äºå­åactiveç¶æçpanel\r\n    modelValue: Array<string | number> = [];\r\n    subscriber: Array<() => void> = [];\r\n\r\n    constructor(\r\n        private render: Renderer2) {\r\n    }\r\n\r\n    ngOnInit() {\r\n    }\r\n\r\n    ngAfterViewInit(): void {\r\n        // æ·»å classå\r\n        if (this.className.length) {\r\n            this.className.forEach(ele => {\r\n                this.render.addClass(this.farrisPanel.nativeElement, ele);\r\n            });\r\n        }\r\n        this.updateSubscriber();\r\n    }\r\n\r\n    /**\r\n     * @param value panelå­å¨æ¿æ´»å¼\r\n     */\r\n    updateModel(value: string) {\r\n        const index = this.modelValue.findIndex(val => val === value);\r\n        // å¦ææ²¡æå¹éå°ç¹å»çpanelå¼  å¯è½modeléé¢ä¸å­å¨ å¯è½modelä¸ºç©º\r\n        if (index < 0) {\r\n            // è¥æ¯æé£ç´æ¨¡å¼  åæææpanelå¤äºæªæ¿æ´»ç¶æ\r\n            if (this.accordion) {\r\n                this.model = [];\r\n            }\r\n            // å¦æä¸æ¯æé£ç´æ¨¡å¼  ç´æ¥æ¿æ´»å³å¯\r\n            this.modelValue.push(value);\r\n            this.updateSubscriber();\r\n            return this.modelChange.emit(this.modelValue);\r\n        }\r\n        // å¦æindexä¸ä¸º-1\r\n        // æé£ç´æ¨¡å¼  å³é­æææ¿æ´»ç¶æ\r\n        if (this.accordion) {\r\n            this.model = [];\r\n        } else {\r\n            // éæé£ç´æ¨¡å¼ ç´æ¥å³é­å½åpanelå³å¯\r\n            this.modelValue.splice(index, 1);\r\n        }\r\n        this.updateSubscriber();\r\n        this.modelChange.emit(this.modelValue);\r\n    }\r\n\r\n    /* å½æ°åå */\r\n    private updateSubscriber(): void {\r\n        this.subscriber.forEach(handle => handle());\r\n    }\r\n}\r\n","import { AnimationTriggerMetadata, trigger, state, style, animate, transition } from '@angular/animations';\r\nexport const dropAnimation: AnimationTriggerMetadata = trigger(\r\n    'dropAnimation', [\r\n        state('active', style({\r\n            'height': '*',\r\n        })),\r\n        state('inactive', style({\r\n            'height': '0',\r\n            'overflow': 'hidden'\r\n        })),\r\n        transition('active<=>inactive', animate(`.35s ease`)),\r\n    ]);\r\n","import {\r\n    Component, Input, ContentChild, TemplateRef, Optional, OnInit,\r\n    ViewEncapsulation, AfterViewInit, ChangeDetectorRef, HostBinding, Renderer2, ElementRef, OnChanges, SimpleChanges\r\n} from '@angular/core';\r\nimport { dropAnimation } from '../panel/util/drop.animation';\r\nimport { WFDimensionPanelComponent } from '../panel/panel-item-list.component';\r\n@Component({\r\n    selector: 'wf-dimension-panel-item',\r\n    templateUrl: './panel-item.component.html',\r\n    styleUrls: ['./panel-item.component.css'],\r\n    animations: [dropAnimation],\r\n    encapsulation: ViewEncapsulation.None\r\n})\r\nexport class WFDimensionPanelItemComponent implements OnInit, OnChanges {\r\n    // è®¾ç½®æ¯å¦æ¾ç¤ºåºé¨\r\n    @Input() editState: boolean;\r\n    // è®¾ç½®å®½ é«å±æ§\r\n    @Input() width: number;\r\n    @Input() height: number;\r\n\r\n    /* panelItem */\r\n    @Input() value: any;\r\n\r\n    // é»è®¤tab æ é¢ æèæ¯éä¸­æ é¢\r\n    // tslint:disable-next-line:no-input-rename\r\n    @Input('title') tabTitle: string;\r\n\r\n    @Input() sysInit = false;\r\n\r\n    /* ç¦ç¨ */\r\n    @Input()\r\n    @HostBinding('class.f-state-disable')\r\n    disable: boolean;\r\n\r\n    /* å¤´é¨æ¨¡æ¿ */\r\n    @ContentChild('headTempl') headRef: TemplateRef<any>;\r\n\r\n    /* åºé¨æ¨¡æ¿ */\r\n    @ContentChild('bottomRef') bottomRef: TemplateRef<any>;\r\n\r\n    /* å·¥å·æé®æ¨¡æ¿ */\r\n    @ContentChild('toolTempl') toolTempl: TemplateRef<any>;\r\n\r\n    /* åå®¹æ¨¡æ¿ */\r\n    @ContentChild('contentTempl') contentRef: TemplateRef<any>;\r\n\r\n    // @HostBinding('class.farris-panel-item') isPanelItem = true;\r\n    // @HostBinding('class.card') isCard = true;\r\n\r\n    // é»è®¤éæ¿æ´»ç¶æ(ä¸æ¾ç¤º)\r\n    active = false;\r\n    constructor(\r\n        @Optional() public panel: WFDimensionPanelComponent,\r\n        private changeRef: ChangeDetectorRef,\r\n        private render: Renderer2,\r\n        private el: ElementRef\r\n    ) {\r\n    }\r\n    ngOnInit() {\r\n\r\n    }\r\n\r\n    ngOnChanges(changes: SimpleChanges): void {\r\n        if (changes.editState) {\r\n            if (this.editState) {\r\n                this.active = true;\r\n            } else {\r\n                this.active = false;\r\n            }\r\n        }\r\n    }\r\n\r\n    // ngAfterViewInit() {\r\n    //     // å¨é¨å±å¼\r\n    //     if (this.panel.defaultExpand) {\r\n    //         if (this.value === null || this.value === undefined) {\r\n    //             this.value = this.generateRandomId();\r\n    //         }\r\n    //         this.panel.updateModel(this.value);\r\n    //     }\r\n    //     // æ¶æåæ¢\r\n    //     const updateHandle: () => void = () => this.setActive();\r\n    //     this.panel.subscriber.push(updateHandle);\r\n    // }\r\n\r\n    // /* è®¾ç½®panelçæ¿æ´»ç¶æ */\r\n    // setActive() {\r\n    //     this.active = this.panel.model.some(val => this.value === val);\r\n    //     // æ·»å å é¤ç±»å\r\n    //     this.active ? this.render.addClass(this.el.nativeElement, 'f-state-selected') :\r\n    //         this.render.removeClass(this.el.nativeElement, 'f-state-selected');\r\n    //     this.changeRef.detectChanges();\r\n    //     this.changeRef.markForCheck();\r\n    // }\r\n\r\n    // /* çæéæºId */\r\n    // generateRandomId() {\r\n    //     return Math.random().toString(16).substring(2, 10);\r\n    // }\r\n\r\n    // /**\r\n    //  * TODO ç¦æ­¢äºä»¶æè·  ä¸å¤å®å\r\n    //  * æ¿æ´» å¤±å»ç¦ç¹ é¢æ¿\r\n    //  * @param event äºä»¶å¯¹è±¡\r\n    //  */\r\n    // selectPanelItem(e: MouseEvent) {\r\n    //     // è®¾ç½®ä¸å¯æ¶æä¸å¯æ¶æ\r\n    //     if (!this.panel.foldable) {\r\n    //         return;\r\n    //     }\r\n    //     // value è¥ä¸ºç©º  åå§åéæºæ°å­ç¬¦ä¸²\r\n    //     if (this.value === null || this.value === undefined) {\r\n    //         this.value = Math.random().toString(16).substring(2, 10);\r\n    //     }\r\n    //     this.panel.updateModel(this.value);\r\n    // }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { WFDimensionPanelComponent} from './panel/panel-item-list.component';\r\nimport { WFDimensionPanelItemComponent } from './panel-item/panel-item.component';\r\n@NgModule({\r\n    imports: [\r\n        CommonModule\r\n    ],\r\n    declarations: [\r\n        WFDimensionPanelComponent,\r\n        WFDimensionPanelItemComponent,\r\n    ],\r\n    exports: [\r\n        WFDimensionPanelComponent,\r\n        WFDimensionPanelItemComponent\r\n    ],\r\n})\r\nexport class WFDimensionPanelModule {\r\n\r\n}\r\n","import { Component, OnInit, ViewChild, Input, OnChanges, SimpleChanges } from '@angular/core';\r\nimport { FarrisPageDetailComponent } from '@farris/ui-wizard';\r\nimport { GSPCommonObject } from '@gsp-bef/gsp-cm-metadata';\r\n\r\n@Component({\r\n  selector: 'select-object',\r\n  templateUrl: './select-object.component.html',\r\n  styleUrls: ['./select-object.component.css']\r\n})\r\nexport class SelectObjectComponent implements OnInit, OnChanges {\r\n  // /**\r\n  //   * è¾å¥åæ°æ ¼å¼\r\n  //   */\r\n  // data = {\r\n  //   be: null,              // beå®ä½\r\n  //   selectedObj: null,     // beèç¹\r\n  //   BeFields: [],          // Beå­æ®µåè¡¨\r\n  //   selectedBeFields: [],  // Beå­æ®µIDåè¡¨\r\n  // };\r\n\r\n  @Input() data;\r\n\r\n  enableNextStep = true;\r\n  private detailPage: FarrisPageDetailComponent = null;\r\n  @ViewChild(FarrisPageDetailComponent) set cmpPageDetail(\r\n    cmp: FarrisPageDetailComponent\r\n  ) {\r\n    this.detailPage = cmp;\r\n  }\r\n\r\n  // è®°å½å½åBEææè¡¨çcode\r\n  treeTables = [];\r\n  grid_selected = {};\r\n  readonlyFields = []; // ä¸å¯åæ¶å¾éçå­æ®µ\r\n\r\n  /** å·¦ä¾§æ ä¿¡æ¯ */\r\n  treeData: any[] = [];\r\n  farrisTreeData = [];\r\n\r\n  treeConfig = {\r\n    idField: 'ID',\r\n    columns: [\r\n      { field: 'Name', title: 'Name', width: 200 }\r\n    ],\r\n    /** å¶å­èç¹å¾æ  */\r\n    leafIcon: 'f-icon f-icon-folder text-info',\r\n    /** èç¹å±å¼å¾æ  */\r\n    expandIcon: 'f-icon f-icon-folder-open text-info',\r\n    /** èç¹æå å¾æ  */\r\n    collapseIcon: 'f-icon f-icon-folder text-info',\r\n    /**  æ åè¡¨é»è®¤å±å¼å±çº§ã -1ï¼ ä¸å±å¼ï¼ 0ï¼ å¨é¨å±å¼ï¼ >0:  å±å¼å°æå®çº§æ°ï¼ */\r\n    expandLevel: 2,\r\n  };\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit() {\r\n    this.load();\r\n  }\r\n  ngOnChanges(changes: SimpleChanges): void {\r\n    this.load();\r\n  }\r\n\r\n  load() {\r\n    if (this.data && this.data.be) {\r\n      const mainObject = this.data.be.MainObject;\r\n      this.treeData = this.getTablesTree(mainObject);\r\n      this.farrisTreeData = this.getFarrisTreeData(this.treeData);\r\n    }\r\n  }\r\n  /**\r\n   * ç»è£farris-treeå·¦ä¾§æ \r\n   */\r\n  getFarrisTreeData(data: any[]) {\r\n    const newArr = [];\r\n    if (data && data.length) {\r\n      data.forEach(item => {\r\n        let childrenArr = [];\r\n        if (item && item.Children && item.Children.length) {\r\n          childrenArr = this.getFarrisTreeData(item.Children);\r\n        }\r\n        newArr.push({ data: item, children: childrenArr, expanded: true });\r\n      });\r\n    }\r\n    return newArr;\r\n  }\r\n  /**\r\n   * ç»è£å·¦ä¾§æ \r\n   */\r\n  getTablesTree(mainObject: GSPCommonObject) {\r\n    const { ContainChildObjects, ColumnGenerateID, Keys, ...parentTable } = mainObject;\r\n    this.treeTables.push(parentTable.Code);\r\n\r\n    // const selectedAll = this.grid_selected[parentTable.Code] ? false : true;\r\n    // this.gridData[parentTable.Code] = this.getGridFields(parentTable.ContainElements, parentTable.Code, selectedAll);\r\n\r\n    if (ContainChildObjects && ContainChildObjects.length > 0) {\r\n      parentTable['Children'] = [];\r\n      ContainChildObjects.forEach(child => {\r\n        const childTree = this.getTablesTree(child as GSPCommonObject);\r\n        parentTable['Children'] = parentTable['Children'].concat(childTree);\r\n      });\r\n    }\r\n    // å¤æ­ä¸»é®\r\n    if (ColumnGenerateID) {\r\n      this.readonlyFields.push(ColumnGenerateID.ElementID);\r\n    }\r\n    // å¤æ­ä¸»ä»è¡¨çå³èå­æ®µ\r\n    if (Keys && Keys.length > 0) {\r\n      Keys.forEach(key => {\r\n        this.readonlyFields.push(key.SourceElement);\r\n      });\r\n\r\n    }\r\n    return [parentTable];\r\n  }\r\n\r\n  /**\r\n   * éä¸­èç¹äºä»¶\r\n   * @param event è¢«éä¸­èç¹\r\n   */\r\n  handleTreeSelection(event): void {\r\n    this.data.selectedObj = event.node.data;\r\n  }\r\n\r\n  nextStep() {\r\n    // è®¾ç½®å½åé¡µä¼ éåºå»æ°æ®\r\n    this.data.BeFields = this.data.selectedObj.ContainElements;\r\n    this.detailPage.setPageData(this.data.selectedObj);\r\n    // ä¸ä¸æ­¥\r\n    this.detailPage.nextStep();\r\n  }\r\n  cancel() {\r\n    this.detailPage.cancelWizard();\r\n  }\r\n  pagedetailSelected(args) {\r\n\r\n  }\r\n}\r\n","import { Component, OnInit, OnChanges, ViewChild, Input, SimpleChanges } from '@angular/core';\r\nimport { FarrisPageDetailComponent } from '@farris/ui-wizard';\r\nimport { TreeTableComponent } from '@farris/ui-treetable';\r\nimport { IGSPCommonElement, GSPCommonObject } from '@gsp-bef/gsp-cm-metadata';\r\n// import { MessagerService } from '@farris/ui-messager';\r\n\r\n@Component({\r\n  selector: 'select-obj-element',\r\n  templateUrl: './select-obj-element.component.html',\r\n  styleUrls: ['./select-obj-element.component.css']\r\n})\r\nexport class SelectObjElementComponent implements OnInit, OnChanges {\r\n\r\n  // /**\r\n  //   * è¾å¥åæ°æ ¼å¼\r\n  //   */\r\n  // data = {\r\n  //   be: null,              // beå®ä½\r\n  //   selectedObj: null,     // beèç¹\r\n  //   BeFields: [],          // Beå­æ®µåè¡¨\r\n  //   selectedBeFields: [],  // Beå­æ®µIDåè¡¨\r\n  //   singleElement: false,  // æ¯å¦åé\r\n  //   assoRefElement: false  // æ¯å¦åå«å³èå¸¦åºå­æ®µ\r\n  // };\r\n  @Input() data;\r\n  @Input() changeObj;\r\n\r\n\r\n  /** å³ä¾§æ è¡¨ä¿¡æ¯ */\r\n  @ViewChild('treeTable') treeTable: TreeTableComponent;\r\n  gridData = {};\r\n  gridCols = [\r\n    { field: 'show', title: 'æ¾ç¤º', width: 40 },\r\n    { field: 'Name', title: 'å­æ®µåç§°' },\r\n    { field: 'Code', title: 'å­æ®µç¼å·', width: 200 },\r\n    { field: 'LabelID', title: 'å­æ®µæ ç­¾' },\r\n    { field: 'MDataType', title: 'å­æ®µç±»å' }\r\n  ];\r\n  grid_selected = {\r\n    selectedAll: {}\r\n  };\r\n  readonlyFields = []; // ä¸å¯åæ¶å¾éçå­æ®µ\r\n  selectedAll = {};\r\n\r\n  selectedTreeKeys = [];\r\n  selectedTreeKey = '';\r\n\r\n  enableNextStep = true;\r\n  private detailPage: FarrisPageDetailComponent = null;\r\n  @ViewChild(FarrisPageDetailComponent) set cmpPageDetail(\r\n    cmp: FarrisPageDetailComponent\r\n  ) {\r\n    this.detailPage = cmp;\r\n  }\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit() {\r\n    this.load();\r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges): void {\r\n    this.load();\r\n  }\r\n\r\n  load() {\r\n    const obj = this.detailPage.getPageData('selectobject');\r\n    if (this.data && this.data.selectedObj) {\r\n      const parentTable = this.data.selectedObj as GSPCommonObject;\r\n      this.selectedTreeKey = this.data.selectedObj.Code;\r\n      this.selectedTreeKeys = [this.selectedTreeKey];\r\n      this.grid_selected[this.selectedTreeKey] = this.data.selectedBeFields;\r\n      this.gridData[parentTable.Code] = this.getGridFields(parentTable.ContainElements, parentTable.Code, false);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * è·ååè¡¨å­æ®µï¼å³èå­æ®µä»¥æ å½¢å¼å±ç¤º\r\n   * @param fields\r\n   */\r\n  getGridFields(fields: IGSPCommonElement[], tableCode: string, needSelectAll: boolean) {\r\n    const gridData = [];\r\n    const fieldIdList = [];\r\n    if (!fields || fields.length === 0) {\r\n      return [];\r\n    }\r\n    fields.forEach(field => {\r\n      const { ChildAssociations, ...fieldObject } = field;\r\n      const children = [];\r\n\r\n      if (this.data.assoRefElement) {\r\n        // å³èè¡¨\r\n        if (ChildAssociations && ChildAssociations.length > 0) {\r\n          ChildAssociations.forEach(child => {\r\n            child.RefElementCollection.forEach(refEle => {\r\n              children.push({ data: refEle, children: [], expanded: true, layer: 2 });\r\n              fieldIdList.push(refEle.ID);\r\n            });\r\n          });\r\n        }\r\n      }\r\n\r\n      gridData.push({ data: fieldObject, children: children, expanded: true, layer: 1 });\r\n      fieldIdList.push(fieldObject.ID);\r\n    });\r\n    //  é»è®¤éä¸­ææå­æ®µ\r\n    if (needSelectAll) {\r\n      this.grid_selected[tableCode] = fieldIdList;\r\n      this.grid_selected['selectedAll'][tableCode] = true;\r\n    }\r\n\r\n    return gridData;\r\n  }\r\n\r\n  changeCheckbox(rowData, rowNode) {\r\n    const ID = rowData.ID;\r\n    const index = this.grid_selected[this.selectedTreeKey].indexOf(ID);\r\n\r\n    if (index >= 0) {\r\n      this.grid_selected[this.selectedTreeKey].splice(index, 1);\r\n      this.grid_selected['selectedAll'][this.selectedTreeKey] = false;\r\n    } else {\r\n      // è¥ä¸º[åé]ï¼åæ¸ç©ºå·²éæ©å­æ®µ\r\n      if (this.data.singleElement) {\r\n        this.grid_selected[this.selectedTreeKey] = [];\r\n      }\r\n      this.grid_selected[this.selectedTreeKey].push(ID);\r\n    }\r\n\r\n    // ä¸»è¡¨çå³èå­æ®µ\r\n    if (rowNode.children.length > 0) {\r\n      rowNode.children.forEach(element => {\r\n        const reIndex = this.grid_selected[this.selectedTreeKey].findIndex(id => id === element.data.ID);\r\n        if (index >= 0 && reIndex >= 0) {\r\n          this.grid_selected[this.selectedTreeKey].splice(reIndex, 1);\r\n        }\r\n        if (index < 0 && reIndex < 0) {\r\n          this.grid_selected[this.selectedTreeKey].push(element.data.ID);\r\n        }\r\n\r\n      });\r\n    }\r\n\r\n    // å³èè¡¨çå­æ®µ\r\n    if (rowNode.parent) {\r\n      const parentNode = rowNode.parent;\r\n      if (!parentNode) {\r\n        return;\r\n      }\r\n      const parentIndex = this.grid_selected[this.selectedTreeKey].indexOf(parentNode.data.ID);\r\n      if (index < 0 && parentIndex < 0) {\r\n        this.grid_selected[this.selectedTreeKey].push(parentNode.data.ID);\r\n      }\r\n    }\r\n\r\n  }\r\n\r\n  clickSelectAllCheckbox() {\r\n    this.selectAllChange(this.gridData[this.selectedTreeKey], this.grid_selected['selectedAll'][this.selectedTreeKey]);\r\n  }\r\n\r\n  /**\r\n   * å¨é\r\n   * @param treeData treeData\r\n   * @param isSelected isSelected\r\n   */\r\n  selectAllChange(treeData, isSelected: boolean) {\r\n    if (treeData.length === 0) {\r\n      return;\r\n    }\r\n\r\n    treeData.forEach(treeNode => {\r\n      const ID = treeNode.data.ID;\r\n      if (treeNode.children && treeNode.children.length > 0) {\r\n        this.selectAllChange(treeNode.children, isSelected);\r\n      }\r\n      const index = this.grid_selected[this.selectedTreeKey].indexOf(ID);\r\n      // å¨é\r\n      if (isSelected && index < 0) {\r\n        this.grid_selected[this.selectedTreeKey].push(ID);\r\n        return;\r\n      }\r\n      // åæ¶å¨é\r\n      if (!isSelected && this.readonlyFields.indexOf(ID) < 0) {\r\n        this.grid_selected[this.selectedTreeKey].splice(index, 1);\r\n      }\r\n    });\r\n  }\r\n  prevStep() {\r\n    this.detailPage.prevStep();\r\n  }\r\n  finish() {\r\n    // æ ¡éª\r\n    if (this.grid_selected[this.selectedTreeKey].length === 0) {\r\n      // this.messagerService.warning('è¯·å¾éå­æ®µã');\r\n      alert('è¯·å¾éå­æ®µã');\r\n      return;\r\n    }\r\n    // è®¾ç½®å½åé¡µä¼ éåºå»æ°æ®\r\n    this.data.selectedBeFields = [this.grid_selected[this.selectedTreeKey]];\r\n    this.detailPage.setPageData(this.data.selectedBeFields);\r\n    // ä¸ä¸æ­¥\r\n    this.detailPage.finishWizard();\r\n  }\r\n  cancel() {\r\n    this.detailPage.cancelWizard();\r\n  }\r\n  pagedetailSelected(args) {\r\n\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { TreeTableModule } from '@farris/ui-treetable';\r\nimport { WizardModule } from '@farris/ui-wizard';\r\n\r\nimport { SelectObjectComponent } from './steps/select-object/select-object.component';\r\nimport { SelectObjElementComponent } from './steps/select-obj-element/select-obj-element.component';\r\n// import { MessagerModule } from '@farris/ui-messager';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { SelectElementComponent } from './select-element.component';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    WizardModule,\r\n    TreeTableModule,\r\n    // MessagerModule.forRoot(),\r\n    FormsModule,\r\n    ReactiveFormsModule\r\n  ],\r\n  declarations: [\r\n    SelectElementComponent,\r\n    SelectObjectComponent,\r\n    SelectObjElementComponent\r\n  ],\r\n  entryComponents: [\r\n    SelectElementComponent,\r\n    SelectObjectComponent,\r\n    SelectObjElementComponent\r\n  ]\r\n})\r\nexport class SelectElementModule { }\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\n\r\nimport { FarrisButtonModule } from '@farris/ui-button';\r\nimport { MessagerModule, MessagerService } from '@farris/ui-messager';\r\nimport { DatagridEditorsModule, EditorProviders } from '@farris/ui-datagrid-editors';\r\nimport { DatagridModule } from '@farris/ui-datagrid';\r\nimport { InputGroupModule } from '@farris/ui-input-group';\r\nimport { NotifyModule } from '@farris/ui-notify';\r\nimport { FarrisDialogModule } from '@farris/ui-dialog';\r\nimport { ComboListModule } from '@farris/ui-combo-list';\r\nimport { WfDimensionDefComponent } from './wf-dimension-def.component';\r\nimport { MetadataRTSelectModule, GSPMetadataRTServiceModule, GSPMetadataRTService } from '@gsp-lcm/metadatart-selector';\r\nimport { DimensionItemCardComponent } from './dimension-item-card/dimension-item-card.component';\r\nimport { HttpService } from '@ecp-caf/caf-common';\r\nimport { WFDimensionDefViewmodel } from './service/wf-dimension-def.viewModel';\r\nimport { WFDimensionDefUIState } from './service/wf-dimension-def.uistate';\r\nimport { ExpressionModule, ExpressionService } from '@gsp-svc/expression';\r\nimport { EnumEditComponent } from './enum-edit/enum-edit.component';\r\nimport { WFDimensionPanelModule } from './refModule/panel/panel.module';\r\nimport { SelectElementModule } from './refModule/select-element/select-element.module';\r\nimport { LookupConfigModule } from '@farris/lookup-config';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    WfDimensionDefComponent,\r\n    DimensionItemCardComponent,\r\n    EnumEditComponent\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    FarrisButtonModule,\r\n    MessagerModule.forRoot(),\r\n    FarrisDialogModule,\r\n    NotifyModule,\r\n    GSPMetadataRTServiceModule.forRoot(''),\r\n    MetadataRTSelectModule,\r\n    InputGroupModule,\r\n    WFDimensionPanelModule,\r\n    DatagridEditorsModule,\r\n    DatagridModule.forRoot([\r\n      ...EditorProviders\r\n    ]),\r\n    ComboListModule,\r\n    ExpressionModule,\r\n    SelectElementModule,\r\n    LookupConfigModule\r\n  ],\r\n  providers: [\r\n    GSPMetadataRTService,\r\n    WFDimensionDefViewmodel,\r\n    WFDimensionDefUIState,\r\n    ExpressionService,\r\n    HttpService\r\n  ],\r\n  entryComponents: [\r\n    EnumEditComponent\r\n  ],\r\n  exports: [WfDimensionDefComponent, DimensionItemCardComponent]\r\n})\r\nexport class WfDimensionDefModule { }\r\n"],"names":["Injectable","HttpService","tslib_1.__values","forkJoin","switchMap","of","catchError","Component","MessagerService","NotifyService","Input","EventEmitter","EditorTypes","Subject","GSPElementObjectType","BsModalService","ComponentFactoryResolver","Injector","HostBinding","ViewChild","InjectedType","LookupConfigService","ExpressionService","ViewEncapsulation","Renderer2","Output","trigger","state","style","transition","animate","Optional","ChangeDetectorRef","ElementRef","ContentChild","NgModule","CommonModule","FarrisPageDetailComponent","WizardModule","TreeTableModule","FormsModule","ReactiveFormsModule","FarrisButtonModule","MessagerModule","FarrisDialogModule","NotifyModule","GSPMetadataRTServiceModule","MetadataRTSelectModule","InputGroupModule","DatagridEditorsModule","DatagridModule","EditorProviders","ComboListModule","ExpressionModule","LookupConfigModule","GSPMetadataRTService"],"mappings":"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"}
