{"version":3,"file":"gsp-wf-wf-dimension-def.js.map","sources":["ng://@gsp-wf/wf-dimension-def/lib/wf-dimension-def.service.ts","ng://@gsp-wf/wf-dimension-def/lib/entity/dimensiondef.entity.ts","ng://@gsp-wf/wf-dimension-def/lib/entity/guid.util.ts","ng://@gsp-wf/wf-dimension-def/lib/entity/dimendef-entity.util.ts","ng://@gsp-wf/wf-dimension-def/lib/service/wf-dimension-def.viewModel.ts","ng://@gsp-wf/wf-dimension-def/lib/service/wf-dimension-def.uistate.ts","ng://@gsp-wf/wf-dimension-def/lib/wf-dimension-def.component.ts","ng://@gsp-wf/wf-dimension-def/lib/refModule/select-element/select-element.component.ts","ng://@gsp-wf/wf-dimension-def/lib/enum-edit/enum-edit.component.ts","ng://@gsp-wf/wf-dimension-def/lib/dimension-item-card/dimension-item-card.component.ts","ng://@gsp-wf/wf-dimension-def/lib/refModule/panel/panel/panel-item-list.component.ts","ng://@gsp-wf/wf-dimension-def/lib/refModule/panel/panel/util/drop.animation.ts","ng://@gsp-wf/wf-dimension-def/lib/refModule/panel/panel-item/panel-item.component.ts","ng://@gsp-wf/wf-dimension-def/lib/refModule/panel/panel.module.ts","ng://@gsp-wf/wf-dimension-def/lib/refModule/select-element/steps/select-object/select-object.component.ts","ng://@gsp-wf/wf-dimension-def/lib/refModule/select-element/steps/select-obj-element/select-obj-element.component.ts","ng://@gsp-wf/wf-dimension-def/lib/refModule/select-element/select-element.module.ts","ng://@gsp-wf/wf-dimension-def/lib/wf-dimension-def.module.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class WfDimensionDefService {\r\n\r\n  constructor() { }\r\n}\r\n","\r\nexport class DimensionDefEntity {\r\n\r\n    // ID\r\n    id: string;\r\n\r\n    // ç¼å·\r\n    code: string;\r\n\r\n    // æµç¨åç±»ID\r\n    entryFormID: string;\r\n\r\n    // ç»´åº¦ç±»å\r\n    dimensionType: DimensionType;\r\n\r\n    // åéç»´åº¦\r\n    dimensionCode: string;\r\n\r\n    // ç»´åº¦åç§°\r\n    dimensionName: string;\r\n\r\n    // æ°æ®ç±»å\r\n    inputType: DimensionInputType;\r\n\r\n    // æä¸¾åè¡¨\r\n    enumList: string;\r\n\r\n    // å¸®å©\r\n    smartHelp: string;\r\n\r\n    multiSelect: boolean;\r\n\r\n    helpFilter: string;\r\n\r\n    isUse: boolean;\r\n\r\n    devLayer: string;\r\n\r\n    contentInfo: string;\r\n\r\n    sortOrder: number;\r\n\r\n    sysInit: number;\r\n\r\n    remarks: string;\r\n\r\n    creator?: string;\r\n\r\n    createdTime?: Date;\r\n\r\n    lastModifier?: string;\r\n\r\n    lastModifiedTime?: Date;\r\n\r\n}\r\n\r\n\r\nexport enum DimensionInputType {\r\n    Help = 0,\r\n    Enum = 1\r\n}\r\n\r\nexport enum DimensionType {\r\n    BusinessField = 0,\r\n    EnvironmentalVariable = 1\r\n}\r\n\r\nexport const WFDimensionTypes: Array<{ index: number, text: string, value: DimensionType }> = [\r\n    { index: 0, text: 'æ¨¡åå­æ®µ', value: DimensionType.BusinessField },\r\n];\r\n\r\nexport const WFDimensionInputTypes: Array<{ index: number, text: string, value: DimensionInputType }> = [\r\n    { index: 0, text: 'å¸®å©', value: DimensionInputType.Help },\r\n    { index: 1, text: 'æä¸¾', value: DimensionInputType.Enum }\r\n\r\n];\r\n\r\nexport class ItemEditState {\r\n    index: number;\r\n    itemData: DimensionDefEntity;\r\n    canEdit = false;\r\n    id: string;\r\n}\r\n\r\nexport class EnumItem {\r\n    key: string;\r\n    value: string;\r\n}\r\n","export class Guid {\r\n  static newGuid() {\r\n    const initString = 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx';\r\n    const result = initString.replace(/[xy]/g, (c) => {\r\n      return this.convert(c);\r\n    });\r\n    return result;\r\n  }\r\n\r\n  private static convert(c) {\r\n    // tslint:disable-next-line:no-bitwise\r\n    const r = Math.random() * 16 | 0;\r\n    // tslint:disable-next-line:no-bitwise\r\n    const v = c === 'x' ? r : (r & 0x3 | 0x8);\r\n    return v.toString(16);\r\n  }\r\n}\r\n","import { DimensionDefEntity, DimensionType, DimensionInputType } from './dimensiondef.entity';\r\nimport { Guid } from './guid.util';\r\n\r\nclass DimenDefEntityUtil {\r\n    constructor() {\r\n    }\r\n    static newDimendefEntity(flowFormId: string): DimensionDefEntity {\r\n        const newDimendef = {\r\n            id: '',\r\n            code: '',\r\n            entryFormID: '',\r\n            dimensionType: DimensionType.BusinessField,\r\n            dimensionCode: '',\r\n            dimensionName: '',\r\n            inputType: DimensionInputType.Help,\r\n            enumList: null,\r\n            smartHelp: '',\r\n            multiSelect: true,\r\n            helpFilter: '',\r\n            isUse: true,\r\n            devLayer: '',\r\n            contentInfo: null,\r\n            sortOrder: 0,\r\n            sysInit: 0,\r\n            remarks: ''\r\n        };\r\n        newDimendef.id = Guid.newGuid();\r\n        newDimendef.entryFormID = flowFormId;\r\n        return newDimendef;\r\n    }\r\n}\r\nexport { DimenDefEntityUtil };\r\n","import { HttpService } from '@ecp-caf/caf-common';\r\nimport { Injectable } from '@angular/core';\r\nimport { DimensionDefEntity } from '../entity/dimensiondef.entity';\r\nimport { Observable } from 'rxjs';\r\n\r\n@Injectable()\r\nexport class WFDimensionDefViewmodel { \r\n    private url = '/api/runtime/wf/v1.0/dimensionDef';\r\n    constructor(\r\n        private http: HttpService\r\n    ) { }\r\n\r\n    loadDimensionDefs(flowFormId: string): Observable<any> { \r\n        if (flowFormId) { \r\n            const url = this.url + `?entryFormID=${flowFormId}`;\r\n            return this.http.get(url);\r\n        }\r\n    }\r\n    removeDimensionDef(id: string): Observable<any> { \r\n        if (id) {\r\n            const url = this.url + `/${id}`;\r\n            return this.http.delete(url, {});\r\n        }\r\n    }\r\n\r\n    addDimensionDef(dimensionDef: DimensionDefEntity): Observable<any> { \r\n        return this.http.post(this.url, dimensionDef);\r\n    }\r\n\r\n    updateDimensionDef(dimensionDef: DimensionDefEntity): Observable<any> {\r\n        return this.http.patch(this.url, dimensionDef);\r\n    }\r\n\r\n\r\n    getDimensionDefSet(flowFormId: string) {\r\n        const url = `/api/runtime/wf/v1.0/dimensionDef/customSetting?entryFormId=${flowFormId}`;\r\n        return this.http.get(url);\r\n    }\r\n}\r\n","import { Injectable } from '@angular/core';\r\n\r\n@Injectable()\r\nexport class WFDimensionDefUIState {\r\n    schema: any;\r\n    beMetaData: any;\r\n}\r\n","import { Component, OnInit, OnChanges, SimpleChanges, Input } from '@angular/core';\r\nimport { MessagerService } from '@farris/ui-messager';\r\nimport { DimenDefEntityUtil } from './entity/dimendef-entity.util';\r\nimport { DimensionDefEntity, ItemEditState, DimensionInputType } from './entity/dimensiondef.entity';\r\nimport { WFDimensionDefViewmodel } from './service/wf-dimension-def.viewModel';\r\nimport { NotifyService } from '@farris/ui-notify';\r\nimport { WFDimensionDefUIState } from './service/wf-dimension-def.uistate';\r\nimport { forkJoin } from 'rxjs/observable/forkJoin';\r\nimport { switchMap, catchError } from 'rxjs/operators';\r\nimport { of, Observable } from 'rxjs';\r\n\r\n@Component({\r\n  selector: 'wf-dimension-def',\r\n  templateUrl: './wf-dimension-def.component.html',\r\n  styleUrls: ['./wf-dimension-def.component.css'],\r\n})\r\nexport class WfDimensionDefComponent implements OnInit, OnChanges {\r\n\r\n  private _flowFormId: string;\r\n\r\n  @Input()\r\n  get flowFormId() {\r\n    return this._flowFormId;\r\n  }\r\n  set flowFormId(id: string) {\r\n    this._flowFormId = id;\r\n    this.load();\r\n    this.getDimensionDefSet(this._flowFormId);\r\n  }\r\n\r\n  @Input()\r\n  set schema(s: any) {\r\n    this.uistate.schema = s;\r\n  }\r\n  get schema() {\r\n    return this.uistate.schema;\r\n  }\r\n\r\n  @Input()\r\n  set beMetaData(m: any) {\r\n    this.uistate.beMetaData = m;\r\n  }\r\n  get beMetaData() {\r\n    return this.uistate.beMetaData;\r\n  }\r\n\r\n  @Input()\r\n  entry: 'flowForm' | 'billCategory' = 'flowForm';\r\n\r\n  // tslint:disable-next-line: variable-name\r\n  _editable = false;\r\n  @Input()\r\n  set editable(e: boolean) {\r\n    this._editable = e;\r\n    for (const d of this.editData) {\r\n      d.canEdit = this._editable;\r\n    }\r\n  }\r\n  get editable() {\r\n    return this._editable;\r\n  }\r\n\r\n  private data = new Array<DimensionDefEntity>();\r\n  editData = new Array<ItemEditState>();\r\n\r\n  dimensionDefSet: any;\r\n\r\n  constructor(\r\n    private messageService: MessagerService,\r\n    private viewmodel: WFDimensionDefViewmodel,\r\n    private notifyService: NotifyService,\r\n    private uistate: WFDimensionDefUIState\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n  }\r\n  ngOnChanges(changes: SimpleChanges) {\r\n\r\n  }\r\n\r\n  load() {\r\n    if (this.flowFormId) {\r\n      this.viewmodel.loadDimensionDefs(this.flowFormId).subscribe((re: Array<DimensionDefEntity>) => {\r\n        this.data = re;\r\n        this.editData = [];\r\n        if (this.data && this.data.length > 0) {\r\n          this.data.forEach(item => {\r\n            this.addItem(item, this.editable);\r\n          });\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  getDimensionDefSet(flowFormId: string) {\r\n    if (flowFormId) {\r\n      this.viewmodel.getDimensionDefSet(flowFormId).subscribe(re => {\r\n          this.dimensionDefSet = re;\r\n      });\r\n    }\r\n  }\r\n\r\n  hasItem(index: number) {\r\n    return this.editData.find(item => item.index === index);\r\n  }\r\n\r\n  getItem(index: number) {\r\n    return this.hasItem(index) ? this.editData.find(item => item.index === index).itemData : null;\r\n  }\r\n\r\n\r\n  setItem(index: number, itemData: any) {\r\n    this.editData.find(item => item.index === index).itemData = itemData;\r\n  }\r\n\r\n  addItem(itemData: DimensionDefEntity, canEdit: boolean) {\r\n    const editDataItem = new ItemEditState();\r\n    editDataItem.canEdit = canEdit;\r\n    editDataItem.index = this.editData.length;\r\n    editDataItem.itemData = Object.assign({}, itemData);\r\n    editDataItem.id = itemData.id;\r\n    this.editData.push(editDataItem);\r\n  }\r\n\r\n  getTitle(index: number) {\r\n    let suffix = '';\r\n    switch (index) {\r\n      case 0:\r\n        suffix = 'ä¸';\r\n        break;\r\n      case 1:\r\n        suffix = 'äº';\r\n        break;\r\n    }\r\n    return `ç»´åº¦${suffix}`;\r\n  }\r\n\r\n  getState(index: number): boolean {\r\n    if (!this.hasItem(index)) {\r\n      return false;\r\n    }\r\n    const sysInit = this.editData.find(item => item.index === index).itemData.sysInit;\r\n    return sysInit === 1 ? true : false;\r\n  }\r\n\r\n  isEditState(index: number): boolean {\r\n    if (!this.hasItem(index)) {\r\n      return false;\r\n    }\r\n    return this.editData.find(item => item.index === index).canEdit;\r\n  }\r\n\r\n  edit(item: ItemEditState) {\r\n    this.editData.find(d => d.id === item.id).canEdit = true;\r\n  }\r\n\r\n  remove(item: ItemEditState) {\r\n    if (this.dimensionDefSet && (item.id === this.dimensionDefSet.dimension1 || item.id === this.dimensionDefSet.dimension2)) {\r\n      this.messageService.info('å½åç»´åº¦å®ä¹å·²å¨æµç¨åéç»´åº¦éç½®ä¸­å¯ç¨');\r\n      return;\r\n    }\r\n    if (this.entry === 'flowForm') {\r\n      this.removeDimensionDef(item);\r\n      // const i = this.data.findIndex(d => d.id === item.id);\r\n      // if (i > -1) {\r\n      //   this.data.splice(i, 1);\r\n      // }\r\n    } else {\r\n      this.messageService.question(`ç¡®è®¤å é¤'${this.getTitle(item.index)}'åï¼`, () => {\r\n        if (this.data.findIndex(d => d.id === item.id) === -1) {\r\n          this.removeDimensionDef(item);\r\n          this.notifyService.success('å é¤æå');\r\n          return;\r\n        }\r\n        this.viewmodel.removeDimensionDef(item.id).subscribe(re => {\r\n          this.removeDimensionDef(item);\r\n          const i = this.data.findIndex(d => d.id === item.id);\r\n          if (i > -1) {\r\n            this.data.splice(i, 1);\r\n          }\r\n          this.notifyService.success('å é¤æå');\r\n        }, err => {\r\n          this.notifyService.error('å é¤å¤±è´¥ï¼è¯·èç³»ç®¡çåæ¥çåå ï¼');\r\n        });\r\n      });\r\n    }\r\n  }\r\n\r\n  getDimensionDefs() {\r\n    return this.editData.map(d => d.itemData);\r\n  }\r\n\r\n  private removeDimensionDef(item: ItemEditState) {\r\n    const index = this.editData.findIndex(d => d.id === item.id);\r\n    if (index > -1) {\r\n      this.editData.splice(index, 1);\r\n    }\r\n    if (index < this.editData.length) {\r\n      for (let i = 0; i < this.editData.length; i++) {\r\n        this.editData[i].index = i;\r\n      }\r\n    }\r\n  }\r\n\r\n  save(item: ItemEditState) {\r\n    const v = this.validate(item.itemData);\r\n    if (!v.result) {\r\n      this.messageService.info(v.message);\r\n      return;\r\n    }\r\n    if (this.data.findIndex(d => d.id === item.id) === -1) {\r\n      this.viewmodel.addDimensionDef(item.itemData).subscribe(re => {\r\n        this.endEdit(item);\r\n        this.data.push(Object.assign({}, item.itemData));\r\n        this.notifyService.success('ä¿å­æå');\r\n      }, err => {\r\n        this.notifyService.error('ä¿å­å¤±è´¥ï¼è¯·èç³»ç®¡çåæ¥çåå ï¼');\r\n      });\r\n    } else {\r\n      this.viewmodel.updateDimensionDef(item.itemData).subscribe(re => {\r\n        this.endEdit(item);\r\n        const data = this.data.find(d => d.id === item.id);\r\n        Object.assign(data, item.itemData);\r\n        this.notifyService.success('ä¿å­æå');\r\n      }, err => {\r\n        this.notifyService.error('ä¿å­å¤±è´¥ï¼è¯·èç³»ç®¡çåæ¥çåå ï¼');\r\n      });\r\n    }\r\n  }\r\n\r\n  saveAll(): Observable<boolean> {\r\n    const deleteDefs = this.data.filter(d => this.editData.findIndex(e => e.id === d.id) === -1);\r\n    const addDefs = this.editData.filter(e => this.data.findIndex(d => d.id === e.id) === -1).map(e => e.itemData);\r\n    const updateDefs = this.editData.filter(e => this.data.findIndex(d => d.id === e.id) > -1)\r\n      .map(e => e.itemData)\r\n      .filter(d => d.sysInit === 0);\r\n    return forkJoin(deleteDefs.map(d => {\r\n      return this.viewmodel.removeDimensionDef(d.id);\r\n    }).concat(updateDefs.map(u => {\r\n      return this.viewmodel.updateDimensionDef(u);\r\n    }).concat(addDefs.map(a => {\r\n      return this.viewmodel.addDimensionDef(a);\r\n    })))).pipe(\r\n      switchMap(re => {\r\n        this.data = this.editData.map(e => e.itemData);\r\n        // this.editData.map(e => e.canEdit = false);\r\n        return of(true);\r\n      }),\r\n      catchError(err => {\r\n        console.error(err);\r\n        return of(false);\r\n      })\r\n    );\r\n    //   .subscribe(re => {\r\n    //   this.data = this.editData.map(e => e.itemData);\r\n    //   this.editData.map(e => e.canEdit = false);\r\n    // },\r\n    // err => {\r\n    //   this.notifyService.error('ä¿å­ç»´åº¦å®ä¹å¤±è´¥ï¼è¯·èç³»ç³»ç»ç®¡çåæ¥çåå ï¼');\r\n    // });\r\n  }\r\n\r\n  cancel(item: ItemEditState) {\r\n    this.endEdit(item);\r\n    if (this.data.findIndex(d => d.id === item.id) === -1) {\r\n      this.removeDimensionDef(item);\r\n      return;\r\n    } else {\r\n      Object.assign(this.editData.find(d =>\r\n        d.id === item.id).itemData, this.data.find(d => d.id === item.id));\r\n    }\r\n  }\r\n\r\n  addHandler() {\r\n    if (this.entry === 'flowForm' && !this.editable) {\r\n      return;\r\n    }\r\n    const info = DimenDefEntityUtil.newDimendefEntity(this.flowFormId);\r\n    this.addItem(info, true);\r\n  }\r\n\r\n  isOtherItemEditting(index: number): boolean {\r\n    let isOtherItemEditting = false;\r\n    this.editData.forEach(item => {\r\n      if (item.canEdit === true && item.index !== index) {\r\n        isOtherItemEditting = true;\r\n        this.messageService.info(`è¯·åä¿å­å¯¹äº'${this.getTitle(item.index)}'çä¿®æ¹ã`);\r\n      }\r\n    });\r\n    return isOtherItemEditting;\r\n  }\r\n\r\n  endEdit(item: ItemEditState) {\r\n    for (const d of this.editData) {\r\n      if (d.id === item.id) {\r\n        d.canEdit = false;\r\n      }\r\n    }\r\n  }\r\n  private validate(d: DimensionDefEntity) {\r\n    if (!d.code) {\r\n      return { result: false, message: 'ç»´åº¦å®ä¹ä¸åè®¸ç¼å·ä¸ºç©ºï¼è¯·ä¿®æ¹ï¼' };\r\n    } else if (!d.dimensionName) {\r\n      return { result: false, message: 'ç»´åº¦å®ä¹ä¸åè®¸ç»´åº¦åç§°ä¸ºç©ºï¼è¯·ä¿®æ¹ï¼' };\r\n    } else if (!d.dimensionCode) {\r\n      return { result: false, message: 'ç»´åº¦å®ä¹ä¸åè®¸åéç»´åº¦ä¸ºç©ºï¼è¯·ä¿®æ¹ï¼' };\r\n    } else if (d.inputType === DimensionInputType.Help && !d.smartHelp) {\r\n      return { result: false, message: 'ç»´åº¦å®ä¹æ°æ®ç±»åä¸ºå¸®å©ï¼ä½å¸®å©å¼ä¸ºç©ºï¼è¯·ä¿®æ¹ï¼' };\r\n    } else if (d.inputType === DimensionInputType.Enum && !d.enumList) {\r\n      return { result: false, message: 'ç»´åº¦å®ä¹æ°æ®ç±»åä¸ºæä¸¾ï¼ä½æä¸¾å¼ä¸ºç©ºï¼è¯·ä¿®æ¹ï¼' };\r\n    }\r\n    return { result: true, message: '' };\r\n  }\r\n}\r\n","import { Component, OnInit, EventEmitter } from '@angular/core';\r\nimport { GSPCommonElement } from '@gsp-bef/gsp-cm-metadata';\r\n\r\n@Component({\r\n  selector: 'select-element',\r\n  templateUrl: './select-element.component.html',\r\n  styleUrls: ['./select-element.component.css']\r\n})\r\nexport class SelectElementComponent implements OnInit {\r\n  /**\r\n   * å³é­çªå£äºä»¶\r\n   */\r\n  closeModal = new EventEmitter<any>();\r\n  /**\r\n   * ç¡®è®¤éæ©å­æ®µ\r\n   */\r\n  confirm = new EventEmitter<any>();\r\n\r\n  progressData = {\r\n    activeIndex: 0,\r\n    stepMessages: [\r\n      {\r\n        id: 'selectobject',\r\n        title: 'éæ©èç¹',\r\n        icon: ''\r\n      },\r\n      {\r\n        id: 'selectelement',\r\n        title: 'éæ©å­æ®µ',\r\n        icon: ''\r\n      }\r\n    ]\r\n  };\r\n\r\n  changeObj = true;\r\n\r\n  /**\r\n   * å­æ®µéæ©ä¿¡æ¯\r\n   */\r\n  selectEleInfo = {\r\n    be: null,              // beå®ä½\r\n    selectedObj: null,     // beèç¹\r\n    BeFields: [],          // Beå­æ®µåè¡¨\r\n    selectedBeFields: [],  // Beå­æ®µIDåè¡¨\r\n    singleElement: false,  // æ¯å¦åé\r\n    assoRefElement: false  // æ¯å¦åå«å³èå¸¦åºå­æ®µ\r\n  };\r\n\r\n  result = {\r\n    be: null,              // beå®ä½\r\n    selectedObj: null,     // beèç¹\r\n    selectedBeFields: [],  // Beå­æ®µåè¡¨\r\n  }\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  /**\r\n   * é¡µé¢ç¶æååæ¶è§¦åäºä»¶ {state:'', fromPageId:'', toPageId:''}\r\n   * å¶ä¸­stateåå«å¯¹åº0ï¼Finish:1ï¼Cancel:2ï¼Prev:3ï¼Next:4ï¼StepChange\r\n   * @param value \r\n   */\r\n  stateChange(value) {\r\n    switch (value.state) {\r\n      case 0:\r\n        // è¿åéæ©ç»æ\r\n        this.result.be = this.selectEleInfo.be;\r\n        this.result.selectedObj = this.selectEleInfo.selectedObj;\r\n        this.result.selectedBeFields = this.selectEleInfo.BeFields.filter((item) => {\r\n          const ele = item as GSPCommonElement;\r\n          // æ­¤å¤ä½¿ç¨==å¤æ­å¼ç¸ç­ï¼è¥ä¸º===ï¼åæ æ³æ¾å°idç¸åçå­æ®µ\r\n          // tslint:disable-next-line:triple-equals\r\n          return this.selectEleInfo.selectedBeFields.findIndex(fieldId => fieldId == ele.ID) >= 0;\r\n        });\r\n        this.confirm.next(this.result);\r\n        this.close();\r\n        break;\r\n      case 1:\r\n        this.close();\r\n        break;\r\n      case 3:\r\n        this.changeObj = !this.changeObj;\r\n        break;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * å³é­å¼¹çª\r\n   */\r\n  close() {\r\n    this.closeModal.next();\r\n  }\r\n}\r\n","import { Component, OnInit, ViewChild, TemplateRef, HostBinding, ComponentFactoryResolver, Injector } from '@angular/core';\r\nimport { Subject, of } from 'rxjs';\r\nimport { Validators, FormBuilder, FormGroup } from '@angular/forms';\r\nimport { MessagerService } from '@farris/ui-messager';\r\nimport { EditorTypes } from '@farris/ui-datagrid-editors';\r\nimport { DatagridComponent } from '@farris/ui-datagrid';\r\nimport { EnumItem } from '../entity/dimensiondef.entity';\r\nimport { WFDimensionDefUIState } from '../service/wf-dimension-def.uistate';\r\nimport { GSPCommonModel, GSPCommonElement, GSPElementObjectType } from '@gsp-bef/gsp-cm-metadata';\r\nimport { SelectElementComponent } from '../refModule/select-element/select-element.component';\r\nimport { BsModalService } from '@farris/ui-modal';\r\n\r\n@Component({\r\n  selector: 'app-enum-edit',\r\n  templateUrl: './enum-edit.component.html',\r\n  styleUrls: ['./enum-edit.component.css']\r\n})\r\nexport class EnumEditComponent implements OnInit {\r\n  @HostBinding('class')\r\n  cls = 'farris-main-area flex-column';\r\n\r\n  columns = [\r\n    { field: 'key', width: 100, title: 'é®', editor: { type: EditorTypes.TEXTBOX, options: {} } },\r\n    { field: 'value', width: 100, title: 'å¼', editor: { type: EditorTypes.TEXTBOX, options: {} } }];\r\n  @ViewChild('dg') dg: DatagridComponent;\r\n  @ViewChild('buttons') btnRef: TemplateRef<any>;\r\n\r\n  confirm = new Subject<any>();\r\n  closeModalEmitter = new Subject<any>();\r\n\r\n  /**\r\n   * æ¾ç¤ºå¼\r\n   */\r\n  editData = new Array();\r\n\r\n  maxNum = 0;\r\n\r\n  /**\r\n   * å®éå¼\r\n   */\r\n  get enumValues(): EnumItem[] {\r\n    const arr = [];\r\n    if (this.editData && this.editData.length >= 0) {\r\n      this.editData.forEach(item => {\r\n        const enumItem = new EnumItem();\r\n        enumItem.key = item.key;\r\n        enumItem.value = item.value;\r\n        arr.push(enumItem);\r\n      });\r\n    }\r\n    return arr;\r\n  }\r\n\r\n  constructor(\r\n    private messageService: MessagerService,\r\n    private uistate: WFDimensionDefUIState,\r\n    private modalService: BsModalService,\r\n    private resolver: ComponentFactoryResolver,\r\n    private injector: Injector,\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n\r\n  }\r\n\r\n  /**\r\n   * å è½½æ¾ç¤ºæ°æ®\r\n   */\r\n  load(enumValues) {\r\n    this.editData = [...this.createData(enumValues)];\r\n  }\r\n\r\n  /**\r\n   * ç¡®è®¤\r\n   */\r\n  onConfirm(): void {\r\n    this.closeCell();\r\n    if (this.checkBeforeSave()) {\r\n      this.confirm.next(this.enumValues);\r\n      this.closeModalEmitter.next();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * åæ¶\r\n   */\r\n  cancel(): void {\r\n    this.closeModalEmitter.next();\r\n  }\r\n\r\n  /**\r\n   * ä¿å­åæ£æ¥\r\n   */\r\n  checkBeforeSave(): boolean {\r\n    // â  ç©ºï¼åéè¿ï¼\r\n    if (!(this.enumValues) || this.enumValues.length === 0) {\r\n      this.messageService.warning('è¯·æ·»å æä¸¾å¼ã');\r\n      return false;\r\n    }\r\n    // â¡ éç©ºï¼åæ ¡éªæ¯ä¸ªçé®å¼æ¯å¦ä¸ºç©ºï¼\r\n    for (const item of this.enumValues) {\r\n      if (!item.key || !item.value) {\r\n        this.messageService.warning('æä¸¾ç[é®][å¼]åä¸åè®¸ä¸ºç©ºã');\r\n        return false;\r\n      }\r\n    }\r\n    // â¢ å¤äºä¸ä¸ªï¼ç´¢å¼ä¸åè®¸éå¤ï¼\r\n    if (this.enumValues.length > 1) {\r\n      for (let i = 0; i < this.enumValues.length; i++) {\r\n        const code1 = this.enumValues[i].value;\r\n        const name1 = this.enumValues[i].key;\r\n        for (let j = i + 1; j < this.enumValues.length; j++) {\r\n          const code2 = this.enumValues[j].value;\r\n          const name2 = this.enumValues[j].key;\r\n\r\n          if (code1 === code2) {\r\n            this.messageService.warning(`æä¸¾ç[ç¼å·]ä¸åè®¸éå¤ï¼éå¤ç¼å·ä¸º[${code1}]ã`);\r\n            return false;\r\n          }\r\n          if (name1 === name2) {\r\n            this.messageService.warning(`æä¸¾ç[åç§°]ä¸åè®¸éå¤ï¼éå¤åç§°ä¸º[${name1}]ã`);\r\n            return false;\r\n          }\r\n        }\r\n      }\r\n    }\r\n    return true;\r\n  }\r\n\r\n  /**\r\n   * åæ¶ç¼è¾\r\n   */\r\n  closeCell() {\r\n    this.dg.endCellEdit();\r\n  }\r\n  /**\r\n   * å¼å¥\r\n   */\r\n  import() {\r\n    if (!this.uistate.beMetaData) {\r\n      this.messageService.error('æªè·åå°BEåæ°æ®ï¼è¯·èç³»ç®¡çåæ¥çåå ï¼');\r\n      return;\r\n    }\r\n    const model: GSPCommonModel = this.uistate.beMetaData.content;\r\n    const compFactory = this.resolver.resolveComponentFactory(SelectElementComponent);\r\n    const compRef = compFactory.create(this.injector);\r\n    compRef.instance.selectEleInfo.be = model;\r\n    compRef.instance.selectEleInfo.singleElement = true;\r\n    compRef.instance.selectEleInfo.assoRefElement = false;\r\n    compRef.instance.confirm.subscribe(data => {\r\n      const selectedElement = data.selectedBeFields[0] as GSPCommonElement;\r\n      if (selectedElement.ObjectType === GSPElementObjectType.Enum) {\r\n        this.editData = new Array();\r\n        let k = 0;\r\n        for (const enumValue of selectedElement.ContainEnumValues) {\r\n          this.editData.push({\r\n            id: k,\r\n            key: enumValue.Value,\r\n            value: enumValue.Name,\r\n          });\r\n          k++;\r\n        }\r\n        this.maxNum = k;\r\n      } else {\r\n        this.messageService.info('éä¸­å­æ®µå¹¶éæä¸¾å­æ®µï¼è¯·äºè§£ï¼');\r\n      }\r\n    });\r\n    const modalConfig = {\r\n      title: 'æä¸¾å­æ®µéæ©',\r\n      width: 1000,\r\n      height: 550,\r\n      showButtons: false\r\n    };\r\n    const dialog = this.modalService.show(compRef, modalConfig);\r\n    compRef.instance.closeModal.subscribe(() => {\r\n      dialog.close();\r\n    });\r\n  }\r\n\r\n  /**\r\n   * æ°å¢\r\n   */\r\n  add() {\r\n    this.closeCell();\r\n    const newId = this.maxNum;\r\n    this.editData = this.editData.concat([{\r\n      id: newId\r\n    }]);\r\n    this.maxNum++;\r\n  }\r\n\r\n  /**\r\n   * å é¤\r\n   */\r\n  remove() {\r\n    this.closeCell();\r\n    if (this.dg.selectedRow) {\r\n      const id = this.dg.selectedRow.id;\r\n      this.dg.selectPrevRow();\r\n      this.editData = this.editData.filter(n => n.id !== id);\r\n    }\r\n  }\r\n\r\n  createData(enumValues: EnumItem[]) {\r\n    const arr = [];\r\n    let k = 0;\r\n    for (const enumValue of enumValues) {\r\n      arr.push({\r\n        id: k,\r\n        key: enumValue.key,\r\n        value: enumValue.value,\r\n      });\r\n      k++;\r\n    }\r\n    this.maxNum = k;\r\n    return arr;\r\n  }\r\n}\r\n","import { Component, OnInit, ComponentFactoryResolver, Injector, EventEmitter, Input, OnChanges, SimpleChanges } from '@angular/core';\r\nimport { BsModalService } from '@farris/ui-modal';\r\nimport { SelectMetadataRTComponent, Metadata4RefDto, MetadataDto } from '@gsp-lcm/metadatart-selector';\r\nimport { MessagerService } from '@farris/ui-messager';\r\nimport { GSPCommonModel, GSPCommonObject, GSPCommonElement, GSPElementObjectType } from '@gsp-bef/gsp-cm-metadata';\r\nimport { DimensionDefEntity, WFDimensionTypes, DimensionType, WFDimensionInputTypes, DimensionInputType } from '../entity/dimensiondef.entity';\r\nimport { WFDimensionDefUIState } from '../service/wf-dimension-def.uistate';\r\nimport { ExpressionService, InjectedType } from '@gsp-svc/expression';\r\nimport { EnumEditComponent } from '../enum-edit/enum-edit.component';\r\nimport { LookupConfigService } from '@farris/lookup-config';\r\n\r\n\r\n@Component({\r\n  selector: 'wf-dimension-item-card',\r\n  templateUrl: './dimension-item-card.component.html',\r\n  styleUrls: ['./dimension-item-card.component.css'],\r\n  providers: [LookupConfigService]\r\n})\r\nexport class DimensionItemCardComponent implements OnInit, OnChanges {\r\n  @Input() data: DimensionDefEntity;\r\n  @Input() canCardEdit: boolean;\r\n  @Input() sysInit = false;\r\n  canEdit = false;\r\n\r\n  /**\r\n   * ç»´åº¦ç§ç±»\r\n   */\r\n  dimensionTypes = WFDimensionTypes;\r\n  inputTypes = WFDimensionInputTypes;\r\n\r\n  selectedBEMetadata: EventEmitter<any> = new EventEmitter();\r\n  selectedHelpMetadata: EventEmitter<any> = new EventEmitter();\r\n  groupIcon = '<i class=\"f-icon f-icon-lookup\"></i>';\r\n\r\n  lookupConfig: any;\r\n\r\n\r\n  get dimensionItemCode(): string {\r\n    return this.data ? this.data.code : '';\r\n  }\r\n\r\n  set dimensionItemCode(value: string) {\r\n    this.data.code = value;\r\n  }\r\n\r\n  get dimensionItemName(): string {\r\n    return this.data ? this.data.dimensionName : '';\r\n  }\r\n\r\n  set dimensionItemName(value: string) {\r\n    this.data.dimensionName = value;\r\n  }\r\n\r\n  get dimensionCode(): string {\r\n    return this.data ? this.data.dimensionCode : '';\r\n  }\r\n\r\n  set dimensionCode(v: string) {\r\n    this.data.dimensionCode = v;\r\n  }\r\n\r\n  get inputType(): DimensionInputType {\r\n    return this.data ? this.data.inputType : null;\r\n  }\r\n  set inputType(v: DimensionInputType) {\r\n    this.data.inputType = v;\r\n  }\r\n\r\n\r\n  get dimensionType() {\r\n    return this.data ? this.data.dimensionType : null;\r\n  }\r\n  set dimensionType(v: DimensionType) {\r\n    this.data.dimensionType = v;\r\n  }\r\n  constructor(\r\n    private modalService: BsModalService,\r\n    private resolver: ComponentFactoryResolver,\r\n    private injector: Injector,\r\n    private messageService: MessagerService,\r\n    private uistate: WFDimensionDefUIState,\r\n    private exprService: ExpressionService,\r\n    private configService: LookupConfigService\r\n  ) {\r\n    this.configService.getLookupData().subscribe(data => {\r\n      console.log(data);\r\n      this.data.smartHelp = data;\r\n    });\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.canEdit = this.canCardEdit;\r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges) {\r\n    if (changes.canCardEdit) {\r\n      this.canEdit = this.canCardEdit;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * ç»´åº¦ç±»å\r\n   */\r\n  selectDimensionType(data) {\r\n  }\r\n\r\n  /**\r\n   * ç»´åº¦éæ©1-beå­æ®µ\r\n   */\r\n  selectBEMeta() {\r\n    if (this.uistate.schema) {\r\n      this.exprService.clearInjectedEntity();\r\n      this.exprService.addSchema('Schema', this.uistate.schema);\r\n      if (this.uistate.schema.entityTypes && this.uistate.schema.entityTypes.length > 0) {\r\n        const entityType = this.uistate.schema.entityTypes[0];\r\n        this.exprService.addInjectedEntity(entityType.name, 'Schema',\r\n          entityType.name, InjectedType.EntityType);\r\n      }\r\n    }\r\n    // if (this.dimensionCode) {                                 // ç¼è¾å¨å è½½åå§å¼\r\n    //   try {\r\n    this.exprService.addExpressionText(this.dimensionCode);\r\n      // } catch (error) {\r\n      //   console.log('parse expression error:' + this.dimensionCode);\r\n      // }\r\n    // }\r\n    this.exprService.buildExpression().then((d: string) => { // ç¼è¾å¨è¿åå¼\r\n      if (d) {\r\n        this.dimensionCode = d;\r\n      }\r\n    });\r\n  }\r\n\r\n\r\n  /**\r\n   * è¾å¥ç±»å\r\n   * @param value \r\n   */\r\n  selectInputType(data) {\r\n    this.data.inputType = data.data.value;\r\n  }\r\n\r\n  /**\r\n   * æ¯å¦æä¸¾è¾å¥\r\n   */\r\n  getIsEnumInput(): boolean {\r\n    return this.data && this.data.inputType === DimensionInputType.Enum;\r\n  }\r\n\r\n  /**\r\n   * æ¯å¦å¸®å©è¾å¥\r\n   */\r\n  getIsSmartHelpInput(): boolean {\r\n    return this.data && this.data.inputType === DimensionInputType.Help;\r\n  }\r\n\r\n  /**\r\n   * æä¸¾æ¾ç¤ºå¼\r\n   */\r\n  getEnumInputDisplay() {\r\n    // if (!this.getIsEnumInput()) {\r\n    //   return '';\r\n    // }\r\n    // const enumInputInfo = this.data.inputInfo as EnumInputInfo;\r\n    // let display = '';\r\n    // if (!enumInputInfo || !enumInputInfo.enumItems) {\r\n    //   return display;\r\n    // }\r\n    // enumInputInfo.enumItems.forEach(item => {\r\n    //   display = display.concat(`${item.key}:${item.value}; `);\r\n    // });\r\n    // return display;\r\n  }\r\n\r\n\r\n  /**\r\n   * å¸®å©åç§°\r\n   */\r\n  get helperName(): string {\r\n    if (!this.getIsSmartHelpInput()) {\r\n      return '';\r\n    }\r\n    return this.data.smartHelp;\r\n  }\r\n\r\n  enumListText = () => {\r\n    if (!this.getIsEnumInput()) {\r\n      return '';\r\n    }\r\n    let display = '';\r\n    if (this.data.enumList) {\r\n      const enumList = JSON.parse(this.data.enumList);\r\n      if (enumList.length > 0) {\r\n        enumList.forEach(item => {\r\n          display = display.concat(`${item.key}:${item.value}; `);\r\n        });\r\n      }\r\n    }\r\n    return display;\r\n  }\r\n\r\n  /**\r\n   * å¸®å©éæ©\r\n   */\r\n  selectHelpMeta() {\r\n    this.lookupConfig = this.configService.showConfig({\r\n      configId: this.data.smartHelp\r\n    });\r\n    // const compFactory =\r\n    //   this.resolver.resolveComponentFactory(SelectMetadataRTComponent);\r\n    // const compRef = compFactory.create(this.injector);\r\n    // compRef.instance.typeList = 'HelpMetadata';\r\n    // compRef.instance.selectedMetadata\r\n    //   .subscribe(($event: Metadata4RefDto) => {\r\n    //     const meta: MetadataDto = $event.metadata;\r\n    //     const help = JSON.parse(meta.content);\r\n\r\n    //     this.data.smartHelp = help.id;\r\n    //   });\r\n\r\n    // const modalConfig = {\r\n    //   title: 'å¸®å©éæ©',\r\n    //   width: 930,\r\n    //   height: 573,\r\n    //   showButtons: false\r\n    // };\r\n    // const dialog = this.modalService.show(compRef, modalConfig);\r\n    // compRef.instance.closeModalEmitter.subscribe($event => dialog.close());\r\n  }\r\n\r\n  editEnumValues() {\r\n    const compFactory = this.resolver.resolveComponentFactory(EnumEditComponent);\r\n    const compRef = compFactory.create(this.injector);\r\n    const modalConfig = {\r\n      title: 'æä¸¾è®¾ç½®',\r\n      width: 650,\r\n      height: 450,\r\n      showButtons: true,\r\n      buttons: compRef.instance.btnRef,\r\n    };\r\n    if (this.data.enumList) {\r\n      compRef.instance.load(JSON.parse(this.data.enumList));\r\n    }\r\n    compRef.instance.confirm.subscribe(re => {\r\n      this.data.enumList = JSON.stringify(re) ? JSON.stringify(re) : null;\r\n    });\r\n    const dialog = this.modalService.show(compRef, modalConfig);\r\n    compRef.instance.closeModalEmitter.subscribe(() => {\r\n      dialog.close();\r\n    });\r\n  }\r\n}\r\n","import {\r\n    Component, Input, AfterViewInit,\r\n    ViewEncapsulation, Output, EventEmitter, ElementRef, Renderer2, OnInit, ViewChild\r\n} from '@angular/core';\r\n@Component({\r\n    selector: 'wf-dimension-panel',\r\n    templateUrl: './panel-item-list.component.html',\r\n    styleUrls: ['./panel-item-list.component.css'],\r\n    encapsulation: ViewEncapsulation.None\r\n})\r\n\r\nexport class WFDimensionPanelComponent implements AfterViewInit, OnInit {\r\n\r\n    @ViewChild('farrisPanel') farrisPanel: ElementRef;\r\n\r\n    /* è®¾ç½®å®½é« */\r\n    @Input() width: number;\r\n    @Input() height: number;\r\n\r\n\r\n\r\n    /* èªå®ä¹className */\r\n    @Input() className = [];\r\n\r\n    /* é¢æ¿æ¯å¦å¯æ¶æ  é»è®¤æ¶æ*/\r\n    @Input() foldable = true;\r\n\r\n    /* é¢æ¿æ¯å¦å¨é¨å±å¼  é»è®¤ä¸æ¯å¨é¨å±å¼*/\r\n    @Input() defaultExpand: boolean;\r\n\r\n    // è®¾ç½®æé£ç´æ¨¡å¼  è³å¤åªæä¸ä¸ªpanelå¯ä»¥è¢«éä¸­\r\n    @Input() accordion = false;\r\n\r\n    /* panelæ°æ®å­å¨ */\r\n    @Input() get model() {\r\n        return this.modelValue;\r\n    }\r\n\r\n    set model(modelValue) {\r\n        // è·åç¨æ·è¾å¥çå¼\r\n        this.modelValue = modelValue;\r\n        this.updateSubscriber();\r\n    }\r\n\r\n\r\n    @Output() modelChange: EventEmitter<Array<string | number>> = new EventEmitter<Array<string | number>>();\r\n\r\n    // @HostBinding('class.farris-panel') isPanel =\r\n\r\n    // ååç»å®  å½modelæ°ç»æ¹åæ¶ï¼ç¸åºçactiveç¶æçpanelä¹è¦æ¹å ä»èæ¹åè§å¾\r\n    // ååç»å® ç¨äºå­åactiveç¶æçpanel\r\n    modelValue: Array<string | number> = [];\r\n    subscriber: Array<() => void> = [];\r\n\r\n    constructor(\r\n        private render: Renderer2) {\r\n    }\r\n\r\n    ngOnInit() {\r\n    }\r\n\r\n    ngAfterViewInit(): void {\r\n        // æ·»å classå\r\n        if (this.className.length) {\r\n            this.className.forEach(ele => {\r\n                this.render.addClass(this.farrisPanel.nativeElement, ele);\r\n            });\r\n        }\r\n        this.updateSubscriber();\r\n    }\r\n\r\n    /**\r\n     * @param value panelå­å¨æ¿æ´»å¼\r\n     */\r\n    updateModel(value: string) {\r\n        const index = this.modelValue.findIndex(val => val === value);\r\n        // å¦ææ²¡æå¹éå°ç¹å»çpanelå¼  å¯è½modeléé¢ä¸å­å¨ å¯è½modelä¸ºç©º\r\n        if (index < 0) {\r\n            // è¥æ¯æé£ç´æ¨¡å¼  åæææpanelå¤äºæªæ¿æ´»ç¶æ\r\n            if (this.accordion) {\r\n                this.model = [];\r\n            }\r\n            // å¦æä¸æ¯æé£ç´æ¨¡å¼  ç´æ¥æ¿æ´»å³å¯\r\n            this.modelValue.push(value);\r\n            this.updateSubscriber();\r\n            return this.modelChange.emit(this.modelValue);\r\n        }\r\n        // å¦æindexä¸ä¸º-1\r\n        // æé£ç´æ¨¡å¼  å³é­æææ¿æ´»ç¶æ\r\n        if (this.accordion) {\r\n            this.model = [];\r\n        } else {\r\n            // éæé£ç´æ¨¡å¼ ç´æ¥å³é­å½åpanelå³å¯\r\n            this.modelValue.splice(index, 1);\r\n        }\r\n        this.updateSubscriber();\r\n        this.modelChange.emit(this.modelValue);\r\n    }\r\n\r\n    /* å½æ°åå */\r\n    private updateSubscriber(): void {\r\n        this.subscriber.forEach(handle => handle());\r\n    }\r\n}\r\n","import { AnimationTriggerMetadata, trigger, state, style, animate, transition } from '@angular/animations';\r\nexport const dropAnimation: AnimationTriggerMetadata = trigger(\r\n    'dropAnimation', [\r\n        state('active', style({\r\n            'height': '*',\r\n        })),\r\n        state('inactive', style({\r\n            'height': '0',\r\n            'overflow': 'hidden'\r\n        })),\r\n        transition('active<=>inactive', animate(`.35s ease`)),\r\n    ]);\r\n","import {\r\n    Component, Input, ContentChild, TemplateRef, Optional, OnInit,\r\n    ViewEncapsulation, AfterViewInit, ChangeDetectorRef, HostBinding, Renderer2, ElementRef, OnChanges, SimpleChanges\r\n} from '@angular/core';\r\nimport { dropAnimation } from '../panel/util/drop.animation';\r\nimport { WFDimensionPanelComponent } from '../panel/panel-item-list.component';\r\n@Component({\r\n    selector: 'wf-dimension-panel-item',\r\n    templateUrl: './panel-item.component.html',\r\n    styleUrls: ['./panel-item.component.css'],\r\n    animations: [dropAnimation],\r\n    encapsulation: ViewEncapsulation.None\r\n})\r\nexport class WFDimensionPanelItemComponent implements OnInit, OnChanges {\r\n    // è®¾ç½®æ¯å¦æ¾ç¤ºåºé¨\r\n    @Input() editState: boolean;\r\n    // è®¾ç½®å®½ é«å±æ§\r\n    @Input() width: number;\r\n    @Input() height: number;\r\n\r\n    /* panelItem */\r\n    @Input() value: any;\r\n\r\n    // é»è®¤tab æ é¢ æèæ¯éä¸­æ é¢\r\n    // tslint:disable-next-line:no-input-rename\r\n    @Input('title') tabTitle: string;\r\n\r\n    @Input() sysInit = false;\r\n\r\n    /* ç¦ç¨ */\r\n    @Input()\r\n    @HostBinding('class.f-state-disable')\r\n    disable: boolean;\r\n\r\n    /* å¤´é¨æ¨¡æ¿ */\r\n    @ContentChild('headTempl') headRef: TemplateRef<any>;\r\n\r\n    /* åºé¨æ¨¡æ¿ */\r\n    @ContentChild('bottomRef') bottomRef: TemplateRef<any>;\r\n\r\n    /* å·¥å·æé®æ¨¡æ¿ */\r\n    @ContentChild('toolTempl') toolTempl: TemplateRef<any>;\r\n\r\n    /* åå®¹æ¨¡æ¿ */\r\n    @ContentChild('contentTempl') contentRef: TemplateRef<any>;\r\n\r\n    // @HostBinding('class.farris-panel-item') isPanelItem = true;\r\n    // @HostBinding('class.card') isCard = true;\r\n\r\n    // é»è®¤éæ¿æ´»ç¶æ(ä¸æ¾ç¤º)\r\n    active = false;\r\n    constructor(\r\n        @Optional() public panel: WFDimensionPanelComponent,\r\n        private changeRef: ChangeDetectorRef,\r\n        private render: Renderer2,\r\n        private el: ElementRef\r\n    ) {\r\n    }\r\n    ngOnInit() {\r\n\r\n    }\r\n\r\n    ngOnChanges(changes: SimpleChanges): void {\r\n        if (changes.editState) {\r\n            if (this.editState) {\r\n                this.active = true;\r\n            } else {\r\n                this.active = false;\r\n            }\r\n        }\r\n    }\r\n\r\n    // ngAfterViewInit() {\r\n    //     // å¨é¨å±å¼\r\n    //     if (this.panel.defaultExpand) {\r\n    //         if (this.value === null || this.value === undefined) {\r\n    //             this.value = this.generateRandomId();\r\n    //         }\r\n    //         this.panel.updateModel(this.value);\r\n    //     }\r\n    //     // æ¶æåæ¢\r\n    //     const updateHandle: () => void = () => this.setActive();\r\n    //     this.panel.subscriber.push(updateHandle);\r\n    // }\r\n\r\n    // /* è®¾ç½®panelçæ¿æ´»ç¶æ */\r\n    // setActive() {\r\n    //     this.active = this.panel.model.some(val => this.value === val);\r\n    //     // æ·»å å é¤ç±»å\r\n    //     this.active ? this.render.addClass(this.el.nativeElement, 'f-state-selected') :\r\n    //         this.render.removeClass(this.el.nativeElement, 'f-state-selected');\r\n    //     this.changeRef.detectChanges();\r\n    //     this.changeRef.markForCheck();\r\n    // }\r\n\r\n    // /* çæéæºId */\r\n    // generateRandomId() {\r\n    //     return Math.random().toString(16).substring(2, 10);\r\n    // }\r\n\r\n    // /**\r\n    //  * TODO ç¦æ­¢äºä»¶æè·  ä¸å¤å®å\r\n    //  * æ¿æ´» å¤±å»ç¦ç¹ é¢æ¿\r\n    //  * @param event äºä»¶å¯¹è±¡\r\n    //  */\r\n    // selectPanelItem(e: MouseEvent) {\r\n    //     // è®¾ç½®ä¸å¯æ¶æä¸å¯æ¶æ\r\n    //     if (!this.panel.foldable) {\r\n    //         return;\r\n    //     }\r\n    //     // value è¥ä¸ºç©º  åå§åéæºæ°å­ç¬¦ä¸²\r\n    //     if (this.value === null || this.value === undefined) {\r\n    //         this.value = Math.random().toString(16).substring(2, 10);\r\n    //     }\r\n    //     this.panel.updateModel(this.value);\r\n    // }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { WFDimensionPanelComponent} from './panel/panel-item-list.component';\r\nimport { WFDimensionPanelItemComponent } from './panel-item/panel-item.component';\r\n@NgModule({\r\n    imports: [\r\n        CommonModule\r\n    ],\r\n    declarations: [\r\n        WFDimensionPanelComponent,\r\n        WFDimensionPanelItemComponent,\r\n    ],\r\n    exports: [\r\n        WFDimensionPanelComponent,\r\n        WFDimensionPanelItemComponent\r\n    ],\r\n})\r\nexport class WFDimensionPanelModule {\r\n\r\n}\r\n","import { Component, OnInit, ViewChild, Input, OnChanges, SimpleChanges } from '@angular/core';\r\nimport { FarrisPageDetailComponent } from '@farris/ui-wizard';\r\nimport { GSPCommonObject } from '@gsp-bef/gsp-cm-metadata';\r\n\r\n@Component({\r\n  selector: 'select-object',\r\n  templateUrl: './select-object.component.html',\r\n  styleUrls: ['./select-object.component.css']\r\n})\r\nexport class SelectObjectComponent implements OnInit, OnChanges {\r\n  // /**\r\n  //   * è¾å¥åæ°æ ¼å¼\r\n  //   */\r\n  // data = {\r\n  //   be: null,              // beå®ä½\r\n  //   selectedObj: null,     // beèç¹\r\n  //   BeFields: [],          // Beå­æ®µåè¡¨\r\n  //   selectedBeFields: [],  // Beå­æ®µIDåè¡¨\r\n  // };\r\n\r\n  @Input() data;\r\n\r\n  enableNextStep = true;\r\n  private detailPage: FarrisPageDetailComponent = null;\r\n  @ViewChild(FarrisPageDetailComponent) set cmpPageDetail(\r\n    cmp: FarrisPageDetailComponent\r\n  ) {\r\n    this.detailPage = cmp;\r\n  }\r\n\r\n  // è®°å½å½åBEææè¡¨çcode\r\n  treeTables = [];\r\n  grid_selected = {};\r\n  readonlyFields = []; // ä¸å¯åæ¶å¾éçå­æ®µ\r\n\r\n  /** å·¦ä¾§æ ä¿¡æ¯ */\r\n  treeData: any[] = [];\r\n  farrisTreeData = [];\r\n\r\n  treeConfig = {\r\n    idField: 'ID',\r\n    columns: [\r\n      { field: 'Name', title: 'Name', width: 200 }\r\n    ],\r\n    /** å¶å­èç¹å¾æ  */\r\n    leafIcon: 'f-icon f-icon-folder text-info',\r\n    /** èç¹å±å¼å¾æ  */\r\n    expandIcon: 'f-icon f-icon-folder-open text-info',\r\n    /** èç¹æå å¾æ  */\r\n    collapseIcon: 'f-icon f-icon-folder text-info',\r\n    /**  æ åè¡¨é»è®¤å±å¼å±çº§ã -1ï¼ ä¸å±å¼ï¼ 0ï¼ å¨é¨å±å¼ï¼ >0:  å±å¼å°æå®çº§æ°ï¼ */\r\n    expandLevel: 2,\r\n  };\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit() {\r\n    this.load();\r\n  }\r\n  ngOnChanges(changes: SimpleChanges): void {\r\n    this.load();\r\n  }\r\n\r\n  load() {\r\n    if (this.data && this.data.be) {\r\n      const mainObject = this.data.be.MainObject;\r\n      this.treeData = this.getTablesTree(mainObject);\r\n      this.farrisTreeData = this.getFarrisTreeData(this.treeData);\r\n    }\r\n  }\r\n  /**\r\n   * ç»è£farris-treeå·¦ä¾§æ \r\n   */\r\n  getFarrisTreeData(data: any[]) {\r\n    const newArr = [];\r\n    if (data && data.length) {\r\n      data.forEach(item => {\r\n        let childrenArr = [];\r\n        if (item && item.Children && item.Children.length) {\r\n          childrenArr = this.getFarrisTreeData(item.Children);\r\n        }\r\n        newArr.push({ data: item, children: childrenArr, expanded: true });\r\n      });\r\n    }\r\n    return newArr;\r\n  }\r\n  /**\r\n   * ç»è£å·¦ä¾§æ \r\n   */\r\n  getTablesTree(mainObject: GSPCommonObject) {\r\n    const { ContainChildObjects, ColumnGenerateID, Keys, ...parentTable } = mainObject;\r\n    this.treeTables.push(parentTable.Code);\r\n\r\n    // const selectedAll = this.grid_selected[parentTable.Code] ? false : true;\r\n    // this.gridData[parentTable.Code] = this.getGridFields(parentTable.ContainElements, parentTable.Code, selectedAll);\r\n\r\n    if (ContainChildObjects && ContainChildObjects.length > 0) {\r\n      parentTable['Children'] = [];\r\n      ContainChildObjects.forEach(child => {\r\n        const childTree = this.getTablesTree(child as GSPCommonObject);\r\n        parentTable['Children'] = parentTable['Children'].concat(childTree);\r\n      });\r\n    }\r\n    // å¤æ­ä¸»é®\r\n    if (ColumnGenerateID) {\r\n      this.readonlyFields.push(ColumnGenerateID.ElementID);\r\n    }\r\n    // å¤æ­ä¸»ä»è¡¨çå³èå­æ®µ\r\n    if (Keys && Keys.length > 0) {\r\n      Keys.forEach(key => {\r\n        this.readonlyFields.push(key.SourceElement);\r\n      });\r\n\r\n    }\r\n    return [parentTable];\r\n  }\r\n\r\n  /**\r\n   * éä¸­èç¹äºä»¶\r\n   * @param event è¢«éä¸­èç¹\r\n   */\r\n  handleTreeSelection(event): void {\r\n    this.data.selectedObj = event.node.data;\r\n  }\r\n\r\n  nextStep() {\r\n    // è®¾ç½®å½åé¡µä¼ éåºå»æ°æ®\r\n    this.data.BeFields = this.data.selectedObj.ContainElements;\r\n    this.detailPage.setPageData(this.data.selectedObj);\r\n    // ä¸ä¸æ­¥\r\n    this.detailPage.nextStep();\r\n  }\r\n  cancel() {\r\n    this.detailPage.cancelWizard();\r\n  }\r\n  pagedetailSelected(args) {\r\n\r\n  }\r\n}\r\n","import { Component, OnInit, OnChanges, ViewChild, Input, SimpleChanges } from '@angular/core';\r\nimport { FarrisPageDetailComponent } from '@farris/ui-wizard';\r\nimport { TreeTableComponent } from '@farris/ui-treetable';\r\nimport { IGSPCommonElement, GSPCommonObject } from '@gsp-bef/gsp-cm-metadata';\r\n// import { MessagerService } from '@farris/ui-messager';\r\n\r\n@Component({\r\n  selector: 'select-obj-element',\r\n  templateUrl: './select-obj-element.component.html',\r\n  styleUrls: ['./select-obj-element.component.css']\r\n})\r\nexport class SelectObjElementComponent implements OnInit, OnChanges {\r\n\r\n  // /**\r\n  //   * è¾å¥åæ°æ ¼å¼\r\n  //   */\r\n  // data = {\r\n  //   be: null,              // beå®ä½\r\n  //   selectedObj: null,     // beèç¹\r\n  //   BeFields: [],          // Beå­æ®µåè¡¨\r\n  //   selectedBeFields: [],  // Beå­æ®µIDåè¡¨\r\n  //   singleElement: false,  // æ¯å¦åé\r\n  //   assoRefElement: false  // æ¯å¦åå«å³èå¸¦åºå­æ®µ\r\n  // };\r\n  @Input() data;\r\n  @Input() changeObj;\r\n\r\n\r\n  /** å³ä¾§æ è¡¨ä¿¡æ¯ */\r\n  @ViewChild('treeTable') treeTable: TreeTableComponent;\r\n  gridData = {};\r\n  gridCols = [\r\n    { field: 'show', title: 'æ¾ç¤º', width: 40 },\r\n    { field: 'Name', title: 'å­æ®µåç§°' },\r\n    { field: 'Code', title: 'å­æ®µç¼å·', width: 200 },\r\n    { field: 'LabelID', title: 'å­æ®µæ ç­¾' },\r\n    { field: 'MDataType', title: 'å­æ®µç±»å' }\r\n  ];\r\n  grid_selected = {\r\n    selectedAll: {}\r\n  };\r\n  readonlyFields = []; // ä¸å¯åæ¶å¾éçå­æ®µ\r\n  selectedAll = {};\r\n\r\n  selectedTreeKeys = [];\r\n  selectedTreeKey = '';\r\n\r\n  enableNextStep = true;\r\n  private detailPage: FarrisPageDetailComponent = null;\r\n  @ViewChild(FarrisPageDetailComponent) set cmpPageDetail(\r\n    cmp: FarrisPageDetailComponent\r\n  ) {\r\n    this.detailPage = cmp;\r\n  }\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit() {\r\n    this.load();\r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges): void {\r\n    this.load();\r\n  }\r\n\r\n  load() {\r\n    const obj = this.detailPage.getPageData('selectobject');\r\n    if (this.data && this.data.selectedObj) {\r\n      const parentTable = this.data.selectedObj as GSPCommonObject;\r\n      this.selectedTreeKey = this.data.selectedObj.Code;\r\n      this.selectedTreeKeys = [this.selectedTreeKey];\r\n      this.grid_selected[this.selectedTreeKey] = this.data.selectedBeFields;\r\n      this.gridData[parentTable.Code] = this.getGridFields(parentTable.ContainElements, parentTable.Code, false);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * è·ååè¡¨å­æ®µï¼å³èå­æ®µä»¥æ å½¢å¼å±ç¤º\r\n   * @param fields\r\n   */\r\n  getGridFields(fields: IGSPCommonElement[], tableCode: string, needSelectAll: boolean) {\r\n    const gridData = [];\r\n    const fieldIdList = [];\r\n    if (!fields || fields.length === 0) {\r\n      return [];\r\n    }\r\n    fields.forEach(field => {\r\n      const { ChildAssociations, ...fieldObject } = field;\r\n      const children = [];\r\n\r\n      if (this.data.assoRefElement) {\r\n        // å³èè¡¨\r\n        if (ChildAssociations && ChildAssociations.length > 0) {\r\n          ChildAssociations.forEach(child => {\r\n            child.RefElementCollection.forEach(refEle => {\r\n              children.push({ data: refEle, children: [], expanded: true, layer: 2 });\r\n              fieldIdList.push(refEle.ID);\r\n            });\r\n          });\r\n        }\r\n      }\r\n\r\n      gridData.push({ data: fieldObject, children: children, expanded: true, layer: 1 });\r\n      fieldIdList.push(fieldObject.ID);\r\n    });\r\n    //  é»è®¤éä¸­ææå­æ®µ\r\n    if (needSelectAll) {\r\n      this.grid_selected[tableCode] = fieldIdList;\r\n      this.grid_selected['selectedAll'][tableCode] = true;\r\n    }\r\n\r\n    return gridData;\r\n  }\r\n\r\n  changeCheckbox(rowData, rowNode) {\r\n    const ID = rowData.ID;\r\n    const index = this.grid_selected[this.selectedTreeKey].indexOf(ID);\r\n\r\n    if (index >= 0) {\r\n      this.grid_selected[this.selectedTreeKey].splice(index, 1);\r\n      this.grid_selected['selectedAll'][this.selectedTreeKey] = false;\r\n    } else {\r\n      // è¥ä¸º[åé]ï¼åæ¸ç©ºå·²éæ©å­æ®µ\r\n      if (this.data.singleElement) {\r\n        this.grid_selected[this.selectedTreeKey] = [];\r\n      }\r\n      this.grid_selected[this.selectedTreeKey].push(ID);\r\n    }\r\n\r\n    // ä¸»è¡¨çå³èå­æ®µ\r\n    if (rowNode.children.length > 0) {\r\n      rowNode.children.forEach(element => {\r\n        const reIndex = this.grid_selected[this.selectedTreeKey].findIndex(id => id === element.data.ID);\r\n        if (index >= 0 && reIndex >= 0) {\r\n          this.grid_selected[this.selectedTreeKey].splice(reIndex, 1);\r\n        }\r\n        if (index < 0 && reIndex < 0) {\r\n          this.grid_selected[this.selectedTreeKey].push(element.data.ID);\r\n        }\r\n\r\n      });\r\n    }\r\n\r\n    // å³èè¡¨çå­æ®µ\r\n    if (rowNode.parent) {\r\n      const parentNode = rowNode.parent;\r\n      if (!parentNode) {\r\n        return;\r\n      }\r\n      const parentIndex = this.grid_selected[this.selectedTreeKey].indexOf(parentNode.data.ID);\r\n      if (index < 0 && parentIndex < 0) {\r\n        this.grid_selected[this.selectedTreeKey].push(parentNode.data.ID);\r\n      }\r\n    }\r\n\r\n  }\r\n\r\n  clickSelectAllCheckbox() {\r\n    this.selectAllChange(this.gridData[this.selectedTreeKey], this.grid_selected['selectedAll'][this.selectedTreeKey]);\r\n  }\r\n\r\n  /**\r\n   * å¨é\r\n   * @param treeData treeData\r\n   * @param isSelected isSelected\r\n   */\r\n  selectAllChange(treeData, isSelected: boolean) {\r\n    if (treeData.length === 0) {\r\n      return;\r\n    }\r\n\r\n    treeData.forEach(treeNode => {\r\n      const ID = treeNode.data.ID;\r\n      if (treeNode.children && treeNode.children.length > 0) {\r\n        this.selectAllChange(treeNode.children, isSelected);\r\n      }\r\n      const index = this.grid_selected[this.selectedTreeKey].indexOf(ID);\r\n      // å¨é\r\n      if (isSelected && index < 0) {\r\n        this.grid_selected[this.selectedTreeKey].push(ID);\r\n        return;\r\n      }\r\n      // åæ¶å¨é\r\n      if (!isSelected && this.readonlyFields.indexOf(ID) < 0) {\r\n        this.grid_selected[this.selectedTreeKey].splice(index, 1);\r\n      }\r\n    });\r\n  }\r\n  prevStep() {\r\n    this.detailPage.prevStep();\r\n  }\r\n  finish() {\r\n    // æ ¡éª\r\n    if (this.grid_selected[this.selectedTreeKey].length === 0) {\r\n      // this.messagerService.warning('è¯·å¾éå­æ®µã');\r\n      alert('è¯·å¾éå­æ®µã');\r\n      return;\r\n    }\r\n    // è®¾ç½®å½åé¡µä¼ éåºå»æ°æ®\r\n    this.data.selectedBeFields = [this.grid_selected[this.selectedTreeKey]];\r\n    this.detailPage.setPageData(this.data.selectedBeFields);\r\n    // ä¸ä¸æ­¥\r\n    this.detailPage.finishWizard();\r\n  }\r\n  cancel() {\r\n    this.detailPage.cancelWizard();\r\n  }\r\n  pagedetailSelected(args) {\r\n\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { TreeTableModule } from '@farris/ui-treetable';\r\nimport { WizardModule } from '@farris/ui-wizard';\r\n\r\nimport { SelectObjectComponent } from './steps/select-object/select-object.component';\r\nimport { SelectObjElementComponent } from './steps/select-obj-element/select-obj-element.component';\r\n// import { MessagerModule } from '@farris/ui-messager';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { SelectElementComponent } from './select-element.component';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    WizardModule,\r\n    TreeTableModule,\r\n    // MessagerModule.forRoot(),\r\n    FormsModule,\r\n    ReactiveFormsModule\r\n  ],\r\n  declarations: [\r\n    SelectElementComponent,\r\n    SelectObjectComponent,\r\n    SelectObjElementComponent\r\n  ],\r\n  entryComponents: [\r\n    SelectElementComponent,\r\n    SelectObjectComponent,\r\n    SelectObjElementComponent\r\n  ]\r\n})\r\nexport class SelectElementModule { }\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\n\r\nimport { FarrisButtonModule } from '@farris/ui-button';\r\nimport { MessagerModule, MessagerService } from '@farris/ui-messager';\r\nimport { DatagridEditorsModule, EditorProviders } from '@farris/ui-datagrid-editors';\r\nimport { DatagridModule } from '@farris/ui-datagrid';\r\nimport { InputGroupModule } from '@farris/ui-input-group';\r\nimport { NotifyModule } from '@farris/ui-notify';\r\nimport { FarrisDialogModule } from '@farris/ui-dialog';\r\nimport { ComboListModule } from '@farris/ui-combo-list';\r\nimport { WfDimensionDefComponent } from './wf-dimension-def.component';\r\nimport { MetadataRTSelectModule, GSPMetadataRTServiceModule, GSPMetadataRTService } from '@gsp-lcm/metadatart-selector';\r\nimport { DimensionItemCardComponent } from './dimension-item-card/dimension-item-card.component';\r\nimport { HttpService } from '@ecp-caf/caf-common';\r\nimport { WFDimensionDefViewmodel } from './service/wf-dimension-def.viewModel';\r\nimport { WFDimensionDefUIState } from './service/wf-dimension-def.uistate';\r\nimport { ExpressionModule, ExpressionService } from '@gsp-svc/expression';\r\nimport { EnumEditComponent } from './enum-edit/enum-edit.component';\r\nimport { WFDimensionPanelModule } from './refModule/panel/panel.module';\r\nimport { SelectElementModule } from './refModule/select-element/select-element.module';\r\nimport { LookupConfigModule } from '@farris/lookup-config';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    WfDimensionDefComponent,\r\n    DimensionItemCardComponent,\r\n    EnumEditComponent\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    FarrisButtonModule,\r\n    MessagerModule.forRoot(),\r\n    FarrisDialogModule,\r\n    NotifyModule,\r\n    GSPMetadataRTServiceModule.forRoot(''),\r\n    MetadataRTSelectModule,\r\n    InputGroupModule,\r\n    WFDimensionPanelModule,\r\n    DatagridEditorsModule,\r\n    DatagridModule.forRoot([\r\n      ...EditorProviders\r\n    ]),\r\n    ComboListModule,\r\n    ExpressionModule,\r\n    SelectElementModule,\r\n    LookupConfigModule\r\n  ],\r\n  providers: [\r\n    GSPMetadataRTService,\r\n    WFDimensionDefViewmodel,\r\n    WFDimensionDefUIState,\r\n    ExpressionService,\r\n    HttpService\r\n  ],\r\n  entryComponents: [\r\n    EnumEditComponent\r\n  ],\r\n  exports: [WfDimensionDefComponent, DimensionItemCardComponent]\r\n})\r\nexport class WfDimensionDefModule { }\r\n"],"names":["tslib_1.__values"],"mappings":"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"}
