/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import * as tslib_1 from "tslib";
import { Injectable } from '@angular/core';
import { FlowFormInfo } from '../domain/entities/flowform-info';
import { HttpService } from '@ecp-caf/caf-common';
import { forkJoin } from 'rxjs';
import { WfLocalePipe } from '../i18n/pipe/wf-process-editor-locale.pipe';
var ProcessDesignerUIState = /** @class */ (function () {
    function ProcessDesignerUIState(http, localePipe) {
        this.http = http;
        this.localePipe = localePipe;
        this.rootPath = '';
        // 入口单据Info
        this.flowFormInfo = new FlowFormInfo();
        // Model上下文
        this.content = '';
        // 属性框
        this.propertyConfig = [];
        this.propertyData = {};
        // 设计器地址
        this.POST_MESSAGE_TARGET = window.document.location.origin + this.rootPath + '/platform/runtime/wf/web/designer/index.html';
        this.schemas = [];
        // 审批活动属性
        this.counterSignVariables = [];
        this.approvalItems = [];
        // 流程的审批活动节点信息
        this.userActList = [];
        // 流程包括结束和审批活动节点的信息
        this.allActList = [];
        // 流程包括审批活动，知会活动，消息的节点信息
        this.MessageActList = [];
        this.NotifyActKist = [];
        this.SubAndCatchActList = [];
        this.enableAdminOrgAut = false;
        this.enableFlowFormAut = false;
        // 流程管理员信息
        this.isAdministratorConfig = false;
        // 审批活动属性枚举===========================================================================================
        this.assignIterator = [{ key: 'ALL', value: this.localePipe.transform("app.processDesigner.all") },
            { key: 'ASSIGN', value: this.localePipe.transform("app.processDesigner.assign") },
            { key: 'CLAIM', value: this.localePipe.transform("app.processDesigner.claim") }];
        this.completeIterator = [{ key: 'Preempt', value: this.localePipe.transform("app.processDesigner.preempt") },
            { key: 'Parallel', value: this.localePipe.transform("app.processDesigner.parallel") },
            { key: 'Sequential', value: this.localePipe.transform("app.processDesigner.sequential") }];
        this.completeIterator4Claim = [{ key: 'Preempt', value: this.localePipe.transform("app.processDesigner.preempt") }];
        this.boolIterator = [{ key: true, value: this.localePipe.transform("app.processDesigner.true") },
            { key: false, value: this.localePipe.transform("app.processDesigner.false") }];
        // 会签不允许跳转
        this.noJump4Sign = [{ key: false, value: this.localePipe.transform("app.processDesigner.false") }];
        // =================================================================================================
        // 流程实例上下文-----------------------------------------------
        this.procInstContext = [
            { key: 'dataId', name: this.localePipe.transform("app.processDesigner.dataId"), description: 'this.localePipe.transform("app.processDesigner.dataId")' },
            { key: 'procInstId', name: this.localePipe.transform("app.processDesigner.procInstId"), description: this.localePipe.transform("app.processDesigner.procInstId") },
            { key: 'bizDefKey', name: this.localePipe.transform("app.processDesigner.bizDefKey"), description: this.localePipe.transform("app.processDesigner.bizDefKey") },
            { key: 'processDefinitionKey', name: this.localePipe.transform("app.processDesigner.processDefinitionKey"), description: this.localePipe.transform("app.processDesigner.processDefinitionKey") },
            { key: 'procInstCreator', name: this.localePipe.transform("app.processDesigner.procInstCreator"), description: this.localePipe.transform("app.processDesigner.procInstCreator") },
            { key: 'businessCreator', name: this.localePipe.transform("app.processDesigner.businessCreator"), description: this.localePipe.transform("app.processDesigner.businessCreator") },
            { key: 'procInstDescription', name: this.localePipe.transform("app.processDesigner.procInstDescription"), description: this.localePipe.transform("app.processDesigner.procInstDescription") },
            { key: 'comment', name: this.localePipe.transform("app.processDesigner.comment"), description: this.localePipe.transform("app.processDesigner.comment") },
            { key: 'bizDefName', name: this.localePipe.transform("app.processDesigner.bizDefName"), description: this.localePipe.transform("app.processDesigner.bizDefName") },
            { key: 'curLoginUsername', name: this.localePipe.transform("app.processDesigner.curLoginUsername"), description: this.localePipe.transform("app.processDesigner.curLoginUsername") },
            { key: 'procInstCreatorName', name: this.localePipe.transform("app.processDesigner.procInstCreatorName"), description: this.localePipe.transform("app.processDesigner.procInstCreatorName") },
            { key: 'currentParticipantId', name: this.localePipe.transform("app.processDesigner.currentParticipantId"), description: this.localePipe.transform("app.processDesigner.currentParticipantId") },
            { key: 'currentParticipantName', name: this.localePipe.transform("app.processDesigner.currentParticipantName"), description: this.localePipe.transform("app.processDesigner.currentParticipantName") }
        ];
        // 催办上下文--------------------------------------------------
        this.urgeContext = [
            { key: 'dataId', name: this.localePipe.transform("app.processDesigner.dataId"), description: this.localePipe.transform("app.processDesigner.dataId") },
            { key: 'procInstId', name: this.localePipe.transform("app.processDesigner.procInstId"), description: this.localePipe.transform("app.processDesigner.procInstId") },
            { key: 'bizDefKey', name: this.localePipe.transform("app.processDesigner.bizDefKey"), description: this.localePipe.transform("app.processDesigner.bizDefKey") },
            { key: 'processDefinitionKey', name: this.localePipe.transform("app.processDesigner.processDefinitionKey"), description: this.localePipe.transform("app.processDesigner.processDefinitionKey") },
            { key: 'procInstCreator', name: this.localePipe.transform("app.processDesigner.procInstCreator"), description: this.localePipe.transform("app.processDesigner.procInstCreator") },
            { key: 'businessCreator', name: this.localePipe.transform("app.processDesigner.businessCreator"), description: this.localePipe.transform("app.processDesigner.businessCreator") },
            { key: 'procInstDescription', name: this.localePipe.transform("app.processDesigner.procInstDescription"), description: this.localePipe.transform("app.processDesigner.procInstDescription") },
            { key: 'comment', name: this.localePipe.transform("app.processDesigner.comment"), description: this.localePipe.transform("app.processDesigner.comment") },
            { key: 'bizDefName', name: this.localePipe.transform("app.processDesigner.bizDefName"), description: this.localePipe.transform("app.processDesigner.bizDefName") },
            { key: 'curLoginUsername', name: this.localePipe.transform("app.processDesigner.curLoginUsername"), description: this.localePipe.transform("app.processDesigner.curLoginUsername") },
            { key: 'procInstCreatorName', name: this.localePipe.transform("app.processDesigner.procInstCreatorName"), description: this.localePipe.transform("app.processDesigner.procInstCreatorName") }
        ];
        /**
         * 流程参数上下文
         */
        this.formalParameterContext = [];
        /**
         * 参与者上下文
         */
        this.participantContext = [
            {
                key: 'procInstCreator',
                name: this.localePipe.transform("app.processDesigner.procInstCreator"),
                description: this.localePipe.transform("app.processDesigner.procInstCreator")
            }, {
                key: 'businessCreator',
                name: this.localePipe.transform("app.processDesigner.businessCreator"),
                description: this.localePipe.transform("app.processDesigner.businessCreator")
            }, {
                key: 'currentUser',
                name: this.localePipe.transform("app.processDesigner.currentUser"),
                description: this.localePipe.transform("app.processDesigner.currentUser")
            }, {
                key: 'preActExecutors',
                name: this.localePipe.transform("app.processDesigner.preActExecutors"),
                description: this.localePipe.transform("app.processDesigner.preActExecutors")
            }
        ];
        /**
         * 子活动上下文
         */
        this.subActivityContext = [
            {
                key: 'collectionElementVariable',
                name: this.localePipe.transform("app.processDesigner.collectionElementVariable"),
                description: this.localePipe.transform("app.processDesigner.collectionElementVariable")
            }
        ];
        /**
         * 子流程元素上下文
         */
        this.subProcessElementContext = [
            {
                key: 'subCollectionElementVariable',
                name: this.localePipe.transform("app.processDesigner.subCollectionElementVariable"),
                description: this.localePipe.transform("app.processDesigner.subCollectionElementVariable")
            }
        ];
        /**
         * 多实例启用条件上下文
         */
        this.multiCounterSignVariables = [
            { key: 'nrOfInstances', name: this.localePipe.transform("app.processDesigner.nrOfInstances"), description: this.localePipe.transform("app.processDesigner.nrOfInstances") },
            { key: 'nrOfCompletedInstances', name: this.localePipe.transform("app.processDesigner.nrOfCompletedInstances"), description: this.localePipe.transform("app.processDesigner.nrOfCompletedInstances") },
            { key: 'nrOfActiveInstances', name: this.localePipe.transform("app.processDesigner.nrOfActiveInstances"), description: this.localePipe.transform("app.processDesigner.nrOfActiveInstances") },
            { key: 'nrOfForward', name: this.localePipe.transform("app.processDesigner.nrOfForward"), description: this.localePipe.transform("app.processDesigner.nrOfForward") },
            { key: 'nrOfBackward', name: this.localePipe.transform("app.processDesigner.nrOfBackward"), description: this.localePipe.transform("app.processDesigner.nrOfBackward") },
            { key: 'nrOfAbort', name: this.localePipe.transform("app.processDesigner.nrOfAbort"), description: this.localePipe.transform("app.processDesigner.nrOfAbort") }
        ];
        /**
         * 活动构件参数上下文
         */
        this.activityComponentContext = [
            {
                key: 'conclusionType',
                name: this.localePipe.transform("app.processDesigner.conclusionType"),
                description: this.localePipe.transform("app.processDesigner.conclusionTypeTips")
            }, {
                key: 'conclusionValue',
                name: this.localePipe.transform("app.processDesigner.conclusionValue"),
                description: this.localePipe.transform("app.processDesigner.conclusionValueTips")
            }
        ];
        this.processVariableContext = new Array();
        this.processVariables = new Array();
        /**
         * 汇报级次
         */
        this.dimensions = [
            { value: 'directSuperior', text: this.localePipe.transform("app.processDesigner.directSuperior") },
            { value: 'higherSuperior', text: this.localePipe.transform("app.processDesigner.higherSuperior") }
        ];
        /**
         * 启动方式
         */
        this.startModeIterator = [
            { key: 'DIRECT', value: this.localePipe.transform("app.processDesigner.DIRECT") },
            { key: 'EXTERNAL_PROCESS', value: this.localePipe.transform("app.processDesigner.EXTERNAL_PROCESS") },
            { key: 'SUB_PROCESS', value: this.localePipe.transform("app.processDesigner.SUB_PROCESS") }
        ];
        /**
         * 显示终端
         */
        this.displayTerminal = [
            { key: "ALL", value: this.localePipe.transform("app.processDesigner.ALL") },
            { key: "WEB", value: this.localePipe.transform("app.processDesigner.WEB") },
            { key: "APP", value: this.localePipe.transform("app.processDesigner.APP") }
        ];
        /**
         * 消息渠道列表
         */
        this.messageChannels = new Array();
        this.orgTypeCollection = [];
        try {
            this.rootPath = ((/** @type {?} */ (window))).gspframeworkService.common.getBasePath.get();
        }
        catch (error) {
        }
    }
    Object.defineProperty(ProcessDesignerUIState.prototype, "ProcessVariables", {
        get: /**
         * @return {?}
         */
        function () {
            return this.processVariables;
        },
        set: /**
         * @param {?} variables
         * @return {?}
         */
        function (variables) {
            this.processVariables = variables;
            this.setProcessVariableContext();
        },
        enumerable: true,
        configurable: true
    });
    /**
     * @param {?} key
     * @return {?}
     */
    ProcessDesignerUIState.prototype.variableContextName = /**
     * @param {?} key
     * @return {?}
     */
    function (key) {
        return this.participantContext.find((/**
         * @param {?} i
         * @return {?}
         */
        function (i) { return i.key === key; })).name;
    };
    /**
     * @param {?} value
     * @return {?}
     */
    ProcessDesignerUIState.prototype.ranksName = /**
     * @param {?} value
     * @return {?}
     */
    function (value) {
        return this.dimensions.find((/**
         * @param {?} i
         * @return {?}
         */
        function (i) { return i.value === value; })).text;
    };
    /**
     * @return {?}
     */
    ProcessDesignerUIState.prototype.getMessageChannels = /**
     * @return {?}
     */
    function () {
        var _this = this;
        /** @type {?} */
        var url = '/api/runtime/msg/v1.0/messageplatform/channel/getenabledchannels';
        this.http.get(url).subscribe((/**
         * @param {?} re
         * @return {?}
         */
        function (re) {
            _this.messageChannels = re;
        }));
    };
    /**
     * @return {?}
     */
    ProcessDesignerUIState.prototype.getAdministratorInfo = /**
     * @return {?}
     */
    function () {
        var _this = this;
        this.getCurrentUser().subscribe((/**
         * @param {?} user
         * @return {?}
         */
        function (user) {
            /** @type {?} */
            var userId = user.userId;
            forkJoin(_this.getAdministratorConfig(), _this.getAdministrator(userId)).subscribe((/**
             * @param {?} re
             * @return {?}
             */
            function (re) {
                _this.isAdministratorConfig = re[0].currentValue === 'true' ? true : false;
                _this.administrator = re[1];
            }));
        }));
    };
    /**
     * @return {?}
     */
    ProcessDesignerUIState.prototype.getEnableAdminOrgAut = /**
     * @return {?}
     */
    function () {
        return this.getEnableProcessDesignerDataAut('WF_AdminOrg');
    };
    /**
     * @return {?}
     */
    ProcessDesignerUIState.prototype.getEnableFlowFormAut = /**
     * @return {?}
     */
    function () {
        return this.getEnableProcessDesignerDataAut('WF_FlowForm');
    };
    /**
     * @private
     * @param {?} authField
     * @return {?}
     */
    ProcessDesignerUIState.prototype.getEnableProcessDesignerDataAut = /**
     * @private
     * @param {?} authField
     * @return {?}
     */
    function (authField) {
        /** @type {?} */
        var url = '/api/runtime/wf/v1.0/dtProcDefs/enableProcessDesignerDataAut/' + authField;
        return this.http.get(url);
    };
    /**
     * @private
     * @return {?}
     */
    ProcessDesignerUIState.prototype.getCurrentUser = /**
     * @private
     * @return {?}
     */
    function () {
        /** @type {?} */
        var url = '/api/runtime/sys/v1.0/userinfos?infoType=user';
        return this.http.get(url);
    };
    /**
     * @private
     * @param {?} userId
     * @return {?}
     */
    ProcessDesignerUIState.prototype.getAdministrator = /**
     * @private
     * @param {?} userId
     * @return {?}
     */
    function (userId) {
        /** @type {?} */
        var url = "/api/runtime/wf/v1.0/processAdministrator/" + userId;
        return this.http.get(url);
    };
    /**
     * @return {?}
     */
    ProcessDesignerUIState.prototype.getReleaseConfig = /**
     * @return {?}
     */
    function () {
        /** @type {?} */
        var url = "/api/runtime/wf/v1.0/generalConfig/Is_Enable_Examine";
        return this.http.get(url);
    };
    /**
     * @private
     * @return {?}
     */
    ProcessDesignerUIState.prototype.getAdministratorConfig = /**
     * @private
     * @return {?}
     */
    function () {
        /** @type {?} */
        var url = "/api/runtime/wf/v1.0/generalConfig/Is_EnableAdministrator";
        return this.http.get(url);
    };
    /**
     * @private
     * @param {?} orgId
     * @return {?}
     */
    ProcessDesignerUIState.prototype.getSysOrgById = /**
     * @private
     * @param {?} orgId
     * @return {?}
     */
    function (orgId) {
        /** @type {?} */
        var url = "/api/runtime/sys/v1.0/sysOrgs/" + orgId;
        return this.http.get(url);
    };
    /**
     * @private
     * @param {?} orgId
     * @return {?}
     */
    ProcessDesignerUIState.prototype.getSysOrgWithAllSubsById = /**
     * @private
     * @param {?} orgId
     * @return {?}
     */
    function (orgId) {
        /** @type {?} */
        var url = "/api/runtime/sys/v1.0/sysOrgs?param=" + encodeURIComponent("{\"parentId\":\"" + orgId + "\",\"withAllSub\":true}");
        return this.http.get(url);
    };
    /**
     * @private
     * @param {?} userId
     * @return {?}
     */
    ProcessDesignerUIState.prototype.getCurUserInfo = /**
     * @private
     * @param {?} userId
     * @return {?}
     */
    function (userId) {
        /** @type {?} */
        var url = "/api/runtime/sys/v1.0/users/" + userId;
        return this.http.get(url);
    };
    /**
     * @return {?}
     */
    ProcessDesignerUIState.prototype.getOrgConfig = /**
     * @return {?}
     */
    function () {
        /** @type {?} */
        var url = "/api/runtime/wf/v1.0/generalConfig/Is_Required_Organization";
        return this.http.get(url);
    };
    /**
     * 获取当前用户信息
     */
    /**
     * 获取当前用户信息
     * @return {?}
     */
    ProcessDesignerUIState.prototype.getUserInfo = /**
     * 获取当前用户信息
     * @return {?}
     */
    function () {
        /** @type {?} */
        var url = "/api/runtime/sys/v1.0/userinfos?infoType=user";
        return this.http.get(url);
    };
    /**
     * 流程审核：新增
     */
    /**
     * 流程审核：新增
     * @return {?}
     */
    ProcessDesignerUIState.prototype.createData = /**
     * 流程审核：新增
     * @return {?}
     */
    function () {
        /** @type {?} */
        var url = "/api/bpms/wf/v1.0/processrelease_frm";
        /** @type {?} */
        var requestInfo = {
            dataChange: [],
            variableChange: null
        };
        return this.http.post(url, requestInfo);
    };
    /**
     * 流程审核：保存
     */
    /**
     * 流程审核：保存
     * @param {?} data
     * @return {?}
     */
    ProcessDesignerUIState.prototype.releaseSave = /**
     * 流程审核：保存
     * @param {?} data
     * @return {?}
     */
    function (data) {
        /** @type {?} */
        var requestInfo = {
            dataChange: [data],
            variableChange: null
        };
        /** @type {?} */
        var url = "/api/bpms/wf/v1.0/processrelease_frm";
        return this.http.put(url, requestInfo);
    };
    /**
     * @private
     * @return {?}
     */
    ProcessDesignerUIState.prototype.setProcessVariableContext = /**
     * @private
     * @return {?}
     */
    function () {
        var e_1, _a;
        this.processVariableContext = new Array();
        if (this.ProcessVariables && this.ProcessVariables.length > 0) {
            try {
                for (var _b = tslib_1.__values(this.ProcessVariables), _c = _b.next(); !_c.done; _c = _b.next()) {
                    var v = _c.value;
                    /** @type {?} */
                    var varEntity = {
                        key: v.name,
                        name: v.documentation,
                        description: v.description
                    };
                    this.processVariableContext.push(varEntity);
                }
            }
            catch (e_1_1) { e_1 = { error: e_1_1 }; }
            finally {
                try {
                    if (_c && !_c.done && (_a = _b.return)) _a.call(_b);
                }
                finally { if (e_1) throw e_1.error; }
            }
        }
    };
    /**
     * @param {?} helpId
     * @param {?} su
     * @return {?}
     */
    ProcessDesignerUIState.prototype.getHelpMetaData = /**
     * @param {?} helpId
     * @param {?} su
     * @return {?}
     */
    function (helpId, su) {
        /** @type {?} */
        var url = "/api/runtime/lcm/v1.0/rt-metadatas/" + helpId;
        return this.http.get(url);
    };
    /**
     * 获取框架的顶级window
     * 进行跨域封装
     */
    /**
     * 获取框架的顶级window
     * 进行跨域封装
     * @private
     * @return {?}
     */
    ProcessDesignerUIState.prototype.getTopWindow = /**
     * 获取框架的顶级window
     * 进行跨域封装
     * @private
     * @return {?}
     */
    function () {
        /** @type {?} */
        var curWin = window.self;
        try {
            while (curWin.location.origin === curWin.parent.location.origin) {
                if (curWin !== curWin.parent && !((/** @type {?} */ (curWin))).isRTFTopWin) {
                    curWin = curWin.parent;
                }
                else {
                    break;
                }
            }
        }
        catch (e) { }
        return curWin;
    };
    // --------------------------0-------------------------
    // uiState初始
    // --------------------------0-------------------------
    // uiState初始
    /**
     * @return {?}
     */
    ProcessDesignerUIState.prototype.initUIState = 
    // --------------------------0-------------------------
    // uiState初始
    /**
     * @return {?}
     */
    function () {
        this.propertyConfig = [];
        this.propertyData = null;
        this.content = '';
        this.schemas = [];
    };
    /**
     * 获取所有审批节点信息
     * @param data
     */
    /**
     * 获取所有审批节点信息
     * @param {?} data
     * @return {?}
     */
    ProcessDesignerUIState.prototype.getUserActList = /**
     * 获取所有审批节点信息
     * @param {?} data
     * @return {?}
     */
    function (data) {
        var e_2, _a;
        this.userActList = [];
        if (data && data.length > 0) {
            try {
                for (var data_1 = tslib_1.__values(data), data_1_1 = data_1.next(); !data_1_1.done; data_1_1 = data_1.next()) {
                    var userAct = data_1_1.value;
                    /** @type {?} */
                    var userActInfo = {
                        Id: userAct.Id,
                        Name: userAct.NameLanguage ? (userAct.NameLanguage[this.localePipe.langCode] ? userAct.NameLanguage[this.localePipe.langCode] : userAct.Name) : userAct.Name,
                        ClrTypeID: userAct.ClrTypeID,
                        AssignmentStrategy: userAct.AssignmentStrategy
                    };
                    if (userAct.AssignmentStrategy === 'ASSIGN') {
                        userActInfo.AssignPerformerConfig = userAct.AssignPerformerConfig;
                    }
                    this.userActList.push(userActInfo);
                }
            }
            catch (e_2_1) { e_2 = { error: e_2_1 }; }
            finally {
                try {
                    if (data_1_1 && !data_1_1.done && (_a = data_1.return)) _a.call(data_1);
                }
                finally { if (e_2) throw e_2.error; }
            }
        }
    };
    /**
     * 获取所有结束节点信息
     * @param data
     */
    /**
     * 获取所有结束节点信息
     * @param {?} data
     * @return {?}
     */
    ProcessDesignerUIState.prototype.getEndEventList = /**
     * 获取所有结束节点信息
     * @param {?} data
     * @return {?}
     */
    function (data) {
        var e_3, _a;
        this.allActList = [];
        if (data && data.length > 0) {
            try {
                for (var data_2 = tslib_1.__values(data), data_2_1 = data_2.next(); !data_2_1.done; data_2_1 = data_2.next()) {
                    var endEvent = data_2_1.value;
                    /** @type {?} */
                    var endEventInfo = {
                        Id: endEvent.Id,
                        Name: endEvent.Name
                    };
                    // 取结束节点存到
                    this.allActList.push(endEventInfo);
                }
            }
            catch (e_3_1) { e_3 = { error: e_3_1 }; }
            finally {
                try {
                    if (data_2_1 && !data_2_1.done && (_a = data_2.return)) _a.call(data_2);
                }
                finally { if (e_3) throw e_3.error; }
            }
        }
        // // 存入审批活动节点
        // this.allActList = this.allActList.concat(this.userActList);
    };
    /**
     * 获取所有知会活动节点信息
     * @param data
     */
    /**
     * 获取所有知会活动节点信息
     * @param {?} data
     * @return {?}
     */
    ProcessDesignerUIState.prototype.getNotifyEventList = /**
     * 获取所有知会活动节点信息
     * @param {?} data
     * @return {?}
     */
    function (data) {
        var e_4, _a;
        this.NotifyActKist = [];
        if (data && data.length > 0) {
            try {
                for (var data_3 = tslib_1.__values(data), data_3_1 = data_3.next(); !data_3_1.done; data_3_1 = data_3.next()) {
                    var notifyEvent = data_3_1.value;
                    /** @type {?} */
                    var notifyEventInfo = {
                        Id: notifyEvent.Id,
                        Name: notifyEvent.Name
                    };
                    // 取知会活动，消息节点存到
                    this.NotifyActKist.push(notifyEventInfo);
                }
            }
            catch (e_4_1) { e_4 = { error: e_4_1 }; }
            finally {
                try {
                    if (data_3_1 && !data_3_1.done && (_a = data_3.return)) _a.call(data_3);
                }
                finally { if (e_4) throw e_4.error; }
            }
        }
    };
    //TODO: 只有审批\审批+人工\审批+人工+知会\审批、人工、子流程、信号捕获
    /**
     * 获取所有消息节点信息
     * @param data
     */
    //TODO: 只有审批\审批+人工\审批+人工+知会\审批、人工、子流程、信号捕获
    /**
     * 获取所有消息节点信息
     * @param {?} data
     * @return {?}
     */
    ProcessDesignerUIState.prototype.getMessageEventList = 
    //TODO: 只有审批\审批+人工\审批+人工+知会\审批、人工、子流程、信号捕获
    /**
     * 获取所有消息节点信息
     * @param {?} data
     * @return {?}
     */
    function (data) {
        var e_5, _a;
        this.MessageActList = [];
        if (data && data.length > 0) {
            try {
                for (var data_4 = tslib_1.__values(data), data_4_1 = data_4.next(); !data_4_1.done; data_4_1 = data_4.next()) {
                    var messageEvent = data_4_1.value;
                    /** @type {?} */
                    var messageEventInfo = {
                        Id: messageEvent.Id,
                        Name: messageEvent.Name
                    };
                    // 取知会活动，消息节点存到
                    this.MessageActList.push(messageEventInfo);
                }
            }
            catch (e_5_1) { e_5 = { error: e_5_1 }; }
            finally {
                try {
                    if (data_4_1 && !data_4_1.done && (_a = data_4.return)) _a.call(data_4);
                }
                finally { if (e_5) throw e_5.error; }
            }
        }
        // 存入审批活动节点
        this.MessageActList = this.MessageActList.concat(this.NotifyActKist);
        // 存入审批活动节点
        this.MessageActList = this.MessageActList.concat(this.userActList);
    };
    /**
     * @param data
     */
    /**
     * @param {?} data
     * @return {?}
     */
    ProcessDesignerUIState.prototype.getSubAndCatchEventsList = /**
     * @param {?} data
     * @return {?}
     */
    function (data) {
        var e_6, _a;
        this.SubAndCatchActList = [];
        if (data && data.length > 0) {
            try {
                for (var data_5 = tslib_1.__values(data), data_5_1 = data_5.next(); !data_5_1.done; data_5_1 = data_5.next()) {
                    var subAndCatchEvent = data_5_1.value;
                    /** @type {?} */
                    var subAndCatEventInfo = {
                        Id: subAndCatchEvent.Id,
                        Name: subAndCatchEvent.Name
                    };
                    // 取知会活动，消息节点存到
                    this.SubAndCatchActList.push(subAndCatEventInfo);
                }
            }
            catch (e_6_1) { e_6 = { error: e_6_1 }; }
            finally {
                try {
                    if (data_5_1 && !data_5_1.done && (_a = data_5.return)) _a.call(data_5);
                }
                finally { if (e_6) throw e_6.error; }
            }
        }
    };
    /**
     * 获取当前流程启动方式
     * @param data
     */
    /**
     * 获取当前流程启动方式
     * @param {?} data
     * @return {?}
     */
    ProcessDesignerUIState.prototype.getStartMode = /**
     * 获取当前流程启动方式
     * @param {?} data
     * @return {?}
     */
    function (data) {
        this.startMode = data;
    };
    /**
     * 添加上下文变量
     */
    /**
     * 添加上下文变量
     * @param {?} context
     * @return {?}
     */
    ProcessDesignerUIState.prototype.addContext = /**
     * 添加上下文变量
     * @param {?} context
     * @return {?}
     */
    function (context) {
        var e_7, _a, e_8, _b, e_9, _c, e_10, _d;
        if (this.procInstContext.length > 0) {
            try {
                for (var _e = tslib_1.__values(this.procInstContext), _f = _e.next(); !_f.done; _f = _e.next()) {
                    var variable = _f.value;
                    context.push(variable);
                }
            }
            catch (e_7_1) { e_7 = { error: e_7_1 }; }
            finally {
                try {
                    if (_f && !_f.done && (_a = _e.return)) _a.call(_e);
                }
                finally { if (e_7) throw e_7.error; }
            }
        }
        if (this.formalParameterContext.length > 0) {
            var _loop_1 = function (variable) {
                if (!context.some((/**
                 * @param {?} c
                 * @return {?}
                 */
                function (c) { return c.key === variable.key; }))) {
                    context.push(variable);
                }
            };
            try {
                for (var _g = tslib_1.__values(this.formalParameterContext), _h = _g.next(); !_h.done; _h = _g.next()) {
                    var variable = _h.value;
                    _loop_1(variable);
                }
            }
            catch (e_8_1) { e_8 = { error: e_8_1 }; }
            finally {
                try {
                    if (_h && !_h.done && (_b = _g.return)) _b.call(_g);
                }
                finally { if (e_8) throw e_8.error; }
            }
        }
        if (this.participantContext.length > 0) {
            var _loop_2 = function (variable) {
                if (!context.some((/**
                 * @param {?} c
                 * @return {?}
                 */
                function (c) { return c.key === variable.key; }))) {
                    context.push(variable);
                }
            };
            try {
                for (var _j = tslib_1.__values(this.participantContext), _k = _j.next(); !_k.done; _k = _j.next()) {
                    var variable = _k.value;
                    _loop_2(variable);
                }
            }
            catch (e_9_1) { e_9 = { error: e_9_1 }; }
            finally {
                try {
                    if (_k && !_k.done && (_c = _j.return)) _c.call(_j);
                }
                finally { if (e_9) throw e_9.error; }
            }
        }
        if (this.processVariableContext.length > 0) {
            var _loop_3 = function (variable) {
                if (!context.some((/**
                 * @param {?} c
                 * @return {?}
                 */
                function (c) { return c.key === variable.key; }))) {
                    context.push(variable);
                }
            };
            try {
                for (var _l = tslib_1.__values(this.processVariableContext), _m = _l.next(); !_m.done; _m = _l.next()) {
                    var variable = _m.value;
                    _loop_3(variable);
                }
            }
            catch (e_10_1) { e_10 = { error: e_10_1 }; }
            finally {
                try {
                    if (_m && !_m.done && (_d = _l.return)) _d.call(_l);
                }
                finally { if (e_10) throw e_10.error; }
            }
        }
        return context;
    };
    ProcessDesignerUIState.decorators = [
        { type: Injectable }
    ];
    /** @nocollapse */
    ProcessDesignerUIState.ctorParameters = function () { return [
        { type: HttpService },
        { type: WfLocalePipe }
    ]; };
    return ProcessDesignerUIState;
}());
export { ProcessDesignerUIState };
if (false) {
    /** @type {?} */
    ProcessDesignerUIState.prototype.scene;
    /** @type {?} */
    ProcessDesignerUIState.prototype.rootPath;
    /** @type {?} */
    ProcessDesignerUIState.prototype.flowFormInfo;
    /** @type {?} */
    ProcessDesignerUIState.prototype.content;
    /** @type {?} */
    ProcessDesignerUIState.prototype.propertyConfig;
    /** @type {?} */
    ProcessDesignerUIState.prototype.propertyData;
    /** @type {?} */
    ProcessDesignerUIState.prototype.POST_MESSAGE_TARGET;
    /** @type {?} */
    ProcessDesignerUIState.prototype.BE;
    /** @type {?} */
    ProcessDesignerUIState.prototype.schemas;
    /** @type {?} */
    ProcessDesignerUIState.prototype.counterSignVariables;
    /** @type {?} */
    ProcessDesignerUIState.prototype.approvalItems;
    /** @type {?} */
    ProcessDesignerUIState.prototype.userActList;
    /** @type {?} */
    ProcessDesignerUIState.prototype.allActList;
    /** @type {?} */
    ProcessDesignerUIState.prototype.MessageActList;
    /** @type {?} */
    ProcessDesignerUIState.prototype.NotifyActKist;
    /** @type {?} */
    ProcessDesignerUIState.prototype.SubAndCatchActList;
    /** @type {?} */
    ProcessDesignerUIState.prototype.bizActivityId;
    /** @type {?} */
    ProcessDesignerUIState.prototype.enableAdminOrgAut;
    /** @type {?} */
    ProcessDesignerUIState.prototype.enableFlowFormAut;
    /** @type {?} */
    ProcessDesignerUIState.prototype.procDefId;
    /** @type {?} */
    ProcessDesignerUIState.prototype.time;
    /** @type {?} */
    ProcessDesignerUIState.prototype.isAdministratorConfig;
    /** @type {?} */
    ProcessDesignerUIState.prototype.administrator;
    /** @type {?} */
    ProcessDesignerUIState.prototype.startMode;
    /** @type {?} */
    ProcessDesignerUIState.prototype.bpmnModel;
    /** @type {?} */
    ProcessDesignerUIState.prototype.assignIterator;
    /** @type {?} */
    ProcessDesignerUIState.prototype.completeIterator;
    /** @type {?} */
    ProcessDesignerUIState.prototype.completeIterator4Claim;
    /** @type {?} */
    ProcessDesignerUIState.prototype.boolIterator;
    /** @type {?} */
    ProcessDesignerUIState.prototype.noJump4Sign;
    /** @type {?} */
    ProcessDesignerUIState.prototype.procInstContext;
    /** @type {?} */
    ProcessDesignerUIState.prototype.urgeContext;
    /**
     * 流程参数上下文
     * @type {?}
     */
    ProcessDesignerUIState.prototype.formalParameterContext;
    /**
     * 参与者上下文
     * @type {?}
     */
    ProcessDesignerUIState.prototype.participantContext;
    /**
     * 子活动上下文
     * @type {?}
     */
    ProcessDesignerUIState.prototype.subActivityContext;
    /**
     * 子流程元素上下文
     * @type {?}
     */
    ProcessDesignerUIState.prototype.subProcessElementContext;
    /**
     * 多实例启用条件上下文
     * @type {?}
     */
    ProcessDesignerUIState.prototype.multiCounterSignVariables;
    /**
     * 活动构件参数上下文
     * @type {?}
     */
    ProcessDesignerUIState.prototype.activityComponentContext;
    /** @type {?} */
    ProcessDesignerUIState.prototype.processVariableContext;
    /**
     * @type {?}
     * @private
     */
    ProcessDesignerUIState.prototype.processVariables;
    /**
     * 汇报级次
     * @type {?}
     */
    ProcessDesignerUIState.prototype.dimensions;
    /**
     * 启动方式
     * @type {?}
     */
    ProcessDesignerUIState.prototype.startModeIterator;
    /**
     * 显示终端
     * @type {?}
     */
    ProcessDesignerUIState.prototype.displayTerminal;
    /**
     * 消息渠道列表
     * @type {?}
     */
    ProcessDesignerUIState.prototype.messageChannels;
    /** @type {?} */
    ProcessDesignerUIState.prototype.orgTypeCollection;
    /**
     * @type {?}
     * @private
     */
    ProcessDesignerUIState.prototype.http;
    /**
     * @type {?}
     * @private
     */
    ProcessDesignerUIState.prototype.localePipe;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHJvY2Vzcy1kZXNpZ25lci51aXN0YXRlLmpzIiwic291cmNlUm9vdCI6Im5nOi8vQGdzcC13Zi93Zi1wcm9jZXNzLWVkaXRvci8iLCJzb3VyY2VzIjpbImxpYi9hcHAvcHJvY2Vzcy1kZXNpZ25lci51aXN0YXRlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7O0FBQUEsT0FBTyxFQUFDLFVBQVUsRUFBVyxNQUFNLGVBQWUsQ0FBQztBQUVuRCxPQUFPLEVBQUMsWUFBWSxFQUFDLE1BQU0sa0NBQWtDLENBQUM7QUFHOUQsT0FBTyxFQUFDLFdBQVcsRUFBQyxNQUFNLHFCQUFxQixDQUFDO0FBQ2hELE9BQU8sRUFBQyxRQUFRLEVBQWEsTUFBTSxNQUFNLENBQUM7QUFDMUMsT0FBTyxFQUFFLFlBQVksRUFBRSxNQUFNLDRDQUE0QyxDQUFDO0FBSTFFO0lBS0UsZ0NBQ1UsSUFBaUIsRUFDakIsVUFBd0I7UUFEeEIsU0FBSSxHQUFKLElBQUksQ0FBYTtRQUNqQixlQUFVLEdBQVYsVUFBVSxDQUFjO1FBSGxDLGFBQVEsR0FBRyxFQUFFLENBQUM7O1FBWWQsaUJBQVksR0FBaUIsSUFBSSxZQUFZLEVBQUUsQ0FBQzs7UUFHaEQsWUFBTyxHQUFHLEVBQUUsQ0FBQzs7UUFHYixtQkFBYyxHQUFVLEVBQUUsQ0FBQztRQUMzQixpQkFBWSxHQUFRLEVBQUUsQ0FBQzs7UUFHdkIsd0JBQW1CLEdBQUcsTUFBTSxDQUFDLFFBQVEsQ0FBQyxRQUFRLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQyxRQUFRLEdBQUUsOENBQThDLENBQUM7UUFHdEgsWUFBTyxHQUFVLEVBQUUsQ0FBQzs7UUFHcEIseUJBQW9CLEdBQVUsRUFBRSxDQUFDO1FBQ2pDLGtCQUFhLEdBQVUsRUFBRSxDQUFDOztRQUcxQixnQkFBVyxHQUFHLEVBQUUsQ0FBQzs7UUFFakIsZUFBVSxHQUFHLEVBQUUsQ0FBQzs7UUFFaEIsbUJBQWMsR0FBRyxFQUFFLENBQUM7UUFDcEIsa0JBQWEsR0FBRyxFQUFFLENBQUM7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QUFXO2dCQUVWLFlBQVk7O0lBc2dCckIsNkJBQUM7Q0FBQSxBQWxnQkQsSUFrZ0JDO1NBaGdCWSxzQkFBc0I7OztJQUNqQyx1Q0FBYzs7SUFDZCwwQ0FBYzs7SUFZZCw4Q0FBZ0Q7O0lBR2hELHlDQUFhOztJQUdiLGdEQUEyQjs7SUFDM0IsOENBQXVCOztJQUd2QixxREFBc0g7O0lBRXRILG9DQUFtQjs7SUFDbkIseUNBQW9COztJQUdwQixzREFBaUM7O0lBQ2pDLCtDQUEwQjs7SUFHMUIsNkNBQWlCOztJQUVqQiw0Q0FBZ0I7O0lBRWhCLGdEQUFvQjs7SUFDcEIsK0NBQW1COztJQUNuQixvREFBd0I7O0lBRXhCLCtDQUFzQjs7SUFFdEIsbURBQTBCOztJQUMxQixtREFBMEI7O0lBRTFCLDJDQUFrQjs7SUFDbEIsc0NBQWtCOztJQUdsQix1REFBOEI7O0lBQzlCLCtDQUFtQjs7SUFFbkIsMkNBQWtCOztJQUdsQiwyQ0FBcUI7O0lBR3JCLGdEQUVpRjs7SUFDakYsa0RBRTJGOztJQUMzRix3REFBOEg7O0lBQzlILDhDQUNnRjs7SUFFaEYsNkNBQTZHOztJQUk3RyxpREFjRTs7SUFHRiw2Q0FZRTs7Ozs7SUFJRix3REFBeUM7Ozs7O0lBS3pDLG9EQWlCSzs7Ozs7SUFLTCxvREFLSzs7Ozs7SUFLTCwwREFLSzs7Ozs7SUFLTCwyREFPSTs7Ozs7SUFLSiwwREFTSzs7SUFDTCx3REFBa0Q7Ozs7O0lBRWxELGtEQUF1Qzs7Ozs7SUFjdkMsNENBR0U7Ozs7O0lBS0YsbURBSUU7Ozs7O0lBS0YsaURBSUU7Ozs7O0lBS0YsaURBQThCOztJQUU5QixtREFBMEM7Ozs7O0lBeE54QyxzQ0FBeUI7Ozs7O0lBQ3pCLDRDQUFnQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7SW5qZWN0YWJsZSwgSW5qZWN0b3J9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xyXG5pbXBvcnQge0tleU1hcH0gZnJvbSAnQGZhcnJpcy9pZGUtcHJvcGVydHktcGFuZWwnO1xyXG5pbXBvcnQge0Zsb3dGb3JtSW5mb30gZnJvbSAnLi4vZG9tYWluL2VudGl0aWVzL2Zsb3dmb3JtLWluZm8nO1xyXG5pbXBvcnQge1ZhckVudGl0eX0gZnJvbSAnQGdzcC1zdmMvZXhwcmVzc2lvbic7XHJcbmltcG9ydCB7R1NQQ29tbW9uTW9kZWx9IGZyb20gJ0Bnc3AtYmVmL2dzcC1jbS1tZXRhZGF0YSc7XHJcbmltcG9ydCB7SHR0cFNlcnZpY2V9IGZyb20gJ0BlY3AtY2FmL2NhZi1jb21tb24nO1xyXG5pbXBvcnQge2ZvcmtKb2luLCBPYnNlcnZhYmxlfSBmcm9tICdyeGpzJztcclxuaW1wb3J0IHsgV2ZMb2NhbGVQaXBlIH0gZnJvbSAnLi4vaTE4bi9waXBlL3dmLXByb2Nlc3MtZWRpdG9yLWxvY2FsZS5waXBlJztcclxuaW1wb3J0IHsgUHJvY2Vzc1RpbWUgfSBmcm9tICcuLi9tb2RlbC9wcm9jZXNzLXRpbWUnO1xyXG5pbXBvcnQgeyBCcG1uTW9kZWwgfSBmcm9tICdAZWRwLXBtZi9icG1uLW1vZGVsJztcclxuXHJcbkBJbmplY3RhYmxlKClcclxuXHJcbmV4cG9ydCBjbGFzcyBQcm9jZXNzRGVzaWduZXJVSVN0YXRlIHtcclxuICBzY2VuZTogc3RyaW5nO1xyXG4gIHJvb3RQYXRoID0gJyc7XHJcbiAgY29uc3RydWN0b3IoXHJcbiAgICBwcml2YXRlIGh0dHA6IEh0dHBTZXJ2aWNlLFxyXG4gICAgcHJpdmF0ZSBsb2NhbGVQaXBlOiBXZkxvY2FsZVBpcGVcclxuICAgICkge1xyXG4gICAgdHJ5IHtcclxuICAgICAgdGhpcy5yb290UGF0aCA9ICh3aW5kb3cgYXMgYW55KS5nc3BmcmFtZXdvcmtTZXJ2aWNlLmNvbW1vbi5nZXRCYXNlUGF0aC5nZXQoKTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyDlhaXlj6PljZXmja5JbmZvXHJcbiAgZmxvd0Zvcm1JbmZvOiBGbG93Rm9ybUluZm8gPSBuZXcgRmxvd0Zvcm1JbmZvKCk7XHJcblxyXG4gIC8vIE1vZGVs5LiK5LiL5paHXHJcbiAgY29udGVudCA9ICcnO1xyXG5cclxuICAvLyDlsZ7mgKfmoYZcclxuICBwcm9wZXJ0eUNvbmZpZzogYW55W10gPSBbXTtcclxuICBwcm9wZXJ0eURhdGE6IGFueSA9IHt9O1xyXG5cclxuICAvLyDorr7orqHlmajlnLDlnYBcclxuICBQT1NUX01FU1NBR0VfVEFSR0VUID0gd2luZG93LmRvY3VtZW50LmxvY2F0aW9uLm9yaWdpbiArIHRoaXMucm9vdFBhdGggKycvcGxhdGZvcm0vcnVudGltZS93Zi93ZWIvZGVzaWduZXIvaW5kZXguaHRtbCc7XHJcblxyXG4gIEJFOiBHU1BDb21tb25Nb2RlbDtcclxuICBzY2hlbWFzOiBhbnlbXSA9IFtdO1xyXG5cclxuICAvLyDlrqHmibnmtLvliqjlsZ7mgKdcclxuICBjb3VudGVyU2lnblZhcmlhYmxlczogYW55W10gPSBbXTtcclxuICBhcHByb3ZhbEl0ZW1zOiBhbnlbXSA9IFtdO1xyXG5cclxuICAvLyDmtYHnqIvnmoTlrqHmibnmtLvliqjoioLngrnkv6Hmga9cclxuICB1c2VyQWN0TGlzdCA9IFtdO1xyXG4gIC8vIOa1geeoi+WMheaLrOe7k+adn+WSjOWuoeaJuea0u+WKqOiKgueCueeahOS/oeaBr1xyXG4gIGFsbEFjdExpc3QgPSBbXTtcclxuICAvLyDmtYHnqIvljIXmi6zlrqHmibnmtLvliqjvvIznn6XkvJrmtLvliqjvvIzmtojmga/nmoToioLngrnkv6Hmga9cclxuICBNZXNzYWdlQWN0TGlzdCA9IFtdO1xyXG4gIE5vdGlmeUFjdEtpc3QgPSBbXTtcclxuICBTdWJBbmRDYXRjaEFjdExpc3QgPSBbXTtcclxuICAvLyDorrDlvZXlvZPliY3pgInkuK3nlKjmiLfmtLvliqjoioLngrnnmoRiaXpBY3Rpdml0eUlkXHJcbiAgYml6QWN0aXZpdHlJZDogc3RyaW5nO1xyXG5cclxuICBlbmFibGVBZG1pbk9yZ0F1dCA9IGZhbHNlO1xyXG4gIGVuYWJsZUZsb3dGb3JtQXV0ID0gZmFsc2U7XHJcblxyXG4gIHByb2NEZWZJZDogc3RyaW5nO1xyXG4gIHRpbWU6IFByb2Nlc3NUaW1lO1xyXG5cclxuICAvLyDmtYHnqIvnrqHnkIblkZjkv6Hmga9cclxuICBpc0FkbWluaXN0cmF0b3JDb25maWcgPSBmYWxzZTtcclxuICBhZG1pbmlzdHJhdG9yOiBhbnk7XHJcbiAgLy8gb3JnYW5pemF0aW9uczogYW55W10gPSBuZXcgQXJyYXkoKTtcclxuICBzdGFydE1vZGU6IHN0cmluZztcclxuXHJcbiAgLy9cclxuICBicG1uTW9kZWw6IEJwbW5Nb2RlbDtcclxuXHJcbiAgLy8g5a6h5om55rS75Yqo5bGe5oCn5p6a5Li+PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gIHB1YmxpYyBhc3NpZ25JdGVyYXRvcjogS2V5TWFwW10gPSBbe2tleTogJ0FMTCcsIHZhbHVlOiB0aGlzLmxvY2FsZVBpcGUudHJhbnNmb3JtKFwiYXBwLnByb2Nlc3NEZXNpZ25lci5hbGxcIil9LFxyXG4gICAge2tleTogJ0FTU0lHTicsIHZhbHVlOiB0aGlzLmxvY2FsZVBpcGUudHJhbnNmb3JtKFwiYXBwLnByb2Nlc3NEZXNpZ25lci5hc3NpZ25cIil9LFxyXG4gICAge2tleTogJ0NMQUlNJywgdmFsdWU6IHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oXCJhcHAucHJvY2Vzc0Rlc2lnbmVyLmNsYWltXCIpfV07XHJcbiAgcHVibGljIGNvbXBsZXRlSXRlcmF0b3I6IEtleU1hcFtdID0gW3trZXk6ICdQcmVlbXB0JywgdmFsdWU6IHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oXCJhcHAucHJvY2Vzc0Rlc2lnbmVyLnByZWVtcHRcIil9LFxyXG4gICAge2tleTogJ1BhcmFsbGVsJywgdmFsdWU6IHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oXCJhcHAucHJvY2Vzc0Rlc2lnbmVyLnBhcmFsbGVsXCIpfSxcclxuICAgIHtrZXk6ICdTZXF1ZW50aWFsJywgdmFsdWU6IHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oXCJhcHAucHJvY2Vzc0Rlc2lnbmVyLnNlcXVlbnRpYWxcIil9XTtcclxuICBwdWJsaWMgY29tcGxldGVJdGVyYXRvcjRDbGFpbTogS2V5TWFwW10gPSBbe2tleTogJ1ByZWVtcHQnLCB2YWx1ZTogdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcImFwcC5wcm9jZXNzRGVzaWduZXIucHJlZW1wdFwiKX1dO1xyXG4gIHB1YmxpYyBib29sSXRlcmF0b3I6IEtleU1hcFtdID0gW3trZXk6IHRydWUsIHZhbHVlOiB0aGlzLmxvY2FsZVBpcGUudHJhbnNmb3JtKFwiYXBwLnByb2Nlc3NEZXNpZ25lci50cnVlXCIpfSxcclxuICAgIHtrZXk6IGZhbHNlLCB2YWx1ZTogIHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oXCJhcHAucHJvY2Vzc0Rlc2lnbmVyLmZhbHNlXCIpfV07XHJcbiAgLy8g5Lya562+5LiN5YWB6K646Lez6L2sXHJcbiAgcHVibGljIG5vSnVtcDRTaWduOiBLZXlNYXBbXSA9IFt7a2V5OiBmYWxzZSwgdmFsdWU6IHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oXCJhcHAucHJvY2Vzc0Rlc2lnbmVyLmZhbHNlXCIpfV07XHJcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuICAvLyDmtYHnqIvlrp7kvovkuIrkuIvmloctLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gIHByb2NJbnN0Q29udGV4dDogVmFyRW50aXR5W10gPSBbXHJcbiAgICB7a2V5OiAnZGF0YUlkJywgbmFtZTogdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcImFwcC5wcm9jZXNzRGVzaWduZXIuZGF0YUlkXCIpLCBkZXNjcmlwdGlvbjogJ3RoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oXCJhcHAucHJvY2Vzc0Rlc2lnbmVyLmRhdGFJZFwiKSd9LFxyXG4gICAge2tleTogJ3Byb2NJbnN0SWQnLCBuYW1lOiB0aGlzLmxvY2FsZVBpcGUudHJhbnNmb3JtKFwiYXBwLnByb2Nlc3NEZXNpZ25lci5wcm9jSW5zdElkXCIpLCBkZXNjcmlwdGlvbjogdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcImFwcC5wcm9jZXNzRGVzaWduZXIucHJvY0luc3RJZFwiKX0sXHJcbiAgICB7a2V5OiAnYml6RGVmS2V5JywgbmFtZTogdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcImFwcC5wcm9jZXNzRGVzaWduZXIuYml6RGVmS2V5XCIpLCBkZXNjcmlwdGlvbjogdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcImFwcC5wcm9jZXNzRGVzaWduZXIuYml6RGVmS2V5XCIpfSxcclxuICAgIHtrZXk6ICdwcm9jZXNzRGVmaW5pdGlvbktleScsIG5hbWU6IHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oXCJhcHAucHJvY2Vzc0Rlc2lnbmVyLnByb2Nlc3NEZWZpbml0aW9uS2V5XCIpLCBkZXNjcmlwdGlvbjogdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcImFwcC5wcm9jZXNzRGVzaWduZXIucHJvY2Vzc0RlZmluaXRpb25LZXlcIil9LFxyXG4gICAge2tleTogJ3Byb2NJbnN0Q3JlYXRvcicsIG5hbWU6IHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oXCJhcHAucHJvY2Vzc0Rlc2lnbmVyLnByb2NJbnN0Q3JlYXRvclwiKSwgZGVzY3JpcHRpb246IHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oXCJhcHAucHJvY2Vzc0Rlc2lnbmVyLnByb2NJbnN0Q3JlYXRvclwiKX0sXHJcbiAgICB7a2V5OiAnYnVzaW5lc3NDcmVhdG9yJywgbmFtZTogdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcImFwcC5wcm9jZXNzRGVzaWduZXIuYnVzaW5lc3NDcmVhdG9yXCIpLCBkZXNjcmlwdGlvbjogdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcImFwcC5wcm9jZXNzRGVzaWduZXIuYnVzaW5lc3NDcmVhdG9yXCIpfSxcclxuICAgIHtrZXk6ICdwcm9jSW5zdERlc2NyaXB0aW9uJywgbmFtZTogdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcImFwcC5wcm9jZXNzRGVzaWduZXIucHJvY0luc3REZXNjcmlwdGlvblwiKSwgZGVzY3JpcHRpb246IHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oXCJhcHAucHJvY2Vzc0Rlc2lnbmVyLnByb2NJbnN0RGVzY3JpcHRpb25cIil9LFxyXG4gICAge2tleTogJ2NvbW1lbnQnLCBuYW1lOiB0aGlzLmxvY2FsZVBpcGUudHJhbnNmb3JtKFwiYXBwLnByb2Nlc3NEZXNpZ25lci5jb21tZW50XCIpLCBkZXNjcmlwdGlvbjogdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcImFwcC5wcm9jZXNzRGVzaWduZXIuY29tbWVudFwiKSB9LFxyXG4gICAge2tleTogJ2JpekRlZk5hbWUnLCBuYW1lOiB0aGlzLmxvY2FsZVBpcGUudHJhbnNmb3JtKFwiYXBwLnByb2Nlc3NEZXNpZ25lci5iaXpEZWZOYW1lXCIpLCBkZXNjcmlwdGlvbjogdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcImFwcC5wcm9jZXNzRGVzaWduZXIuYml6RGVmTmFtZVwiKX0sXHJcbiAgICB7a2V5OiAnY3VyTG9naW5Vc2VybmFtZScsIG5hbWU6IHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oXCJhcHAucHJvY2Vzc0Rlc2lnbmVyLmN1ckxvZ2luVXNlcm5hbWVcIiksIGRlc2NyaXB0aW9uOiB0aGlzLmxvY2FsZVBpcGUudHJhbnNmb3JtKFwiYXBwLnByb2Nlc3NEZXNpZ25lci5jdXJMb2dpblVzZXJuYW1lXCIpfSxcclxuICAgIHtrZXk6ICdwcm9jSW5zdENyZWF0b3JOYW1lJywgbmFtZTogdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcImFwcC5wcm9jZXNzRGVzaWduZXIucHJvY0luc3RDcmVhdG9yTmFtZVwiKSwgZGVzY3JpcHRpb246IHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oXCJhcHAucHJvY2Vzc0Rlc2lnbmVyLnByb2NJbnN0Q3JlYXRvck5hbWVcIikgfSxcclxuICAgIHtrZXk6ICdjdXJyZW50UGFydGljaXBhbnRJZCcsIG5hbWU6IHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oXCJhcHAucHJvY2Vzc0Rlc2lnbmVyLmN1cnJlbnRQYXJ0aWNpcGFudElkXCIpLCBkZXNjcmlwdGlvbjogdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcImFwcC5wcm9jZXNzRGVzaWduZXIuY3VycmVudFBhcnRpY2lwYW50SWRcIil9LFxyXG4gICAge2tleTogJ2N1cnJlbnRQYXJ0aWNpcGFudE5hbWUnLCBuYW1lOiB0aGlzLmxvY2FsZVBpcGUudHJhbnNmb3JtKFwiYXBwLnByb2Nlc3NEZXNpZ25lci5jdXJyZW50UGFydGljaXBhbnROYW1lXCIpLCBkZXNjcmlwdGlvbjogdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcImFwcC5wcm9jZXNzRGVzaWduZXIuY3VycmVudFBhcnRpY2lwYW50TmFtZVwiKX1cclxuICBdO1xyXG5cclxuICAvLyDlgqzlip7kuIrkuIvmloctLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gIHVyZ2VDb250ZXh0OiBWYXJFbnRpdHlbXSA9IFtcclxuICAgIHtrZXk6ICdkYXRhSWQnLCBuYW1lOiB0aGlzLmxvY2FsZVBpcGUudHJhbnNmb3JtKFwiYXBwLnByb2Nlc3NEZXNpZ25lci5kYXRhSWRcIiksIGRlc2NyaXB0aW9uOiB0aGlzLmxvY2FsZVBpcGUudHJhbnNmb3JtKFwiYXBwLnByb2Nlc3NEZXNpZ25lci5kYXRhSWRcIil9LFxyXG4gICAge2tleTogJ3Byb2NJbnN0SWQnLCBuYW1lOiB0aGlzLmxvY2FsZVBpcGUudHJhbnNmb3JtKFwiYXBwLnByb2Nlc3NEZXNpZ25lci5wcm9jSW5zdElkXCIpLCBkZXNjcmlwdGlvbjogdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcImFwcC5wcm9jZXNzRGVzaWduZXIucHJvY0luc3RJZFwiKX0sXHJcbiAgICB7a2V5OiAnYml6RGVmS2V5JywgbmFtZTogdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcImFwcC5wcm9jZXNzRGVzaWduZXIuYml6RGVmS2V5XCIpLCBkZXNjcmlwdGlvbjogdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcImFwcC5wcm9jZXNzRGVzaWduZXIuYml6RGVmS2V5XCIpfSxcclxuICAgIHtrZXk6ICdwcm9jZXNzRGVmaW5pdGlvbktleScsIG5hbWU6IHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oXCJhcHAucHJvY2Vzc0Rlc2lnbmVyLnByb2Nlc3NEZWZpbml0aW9uS2V5XCIpLCBkZXNjcmlwdGlvbjogdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcImFwcC5wcm9jZXNzRGVzaWduZXIucHJvY2Vzc0RlZmluaXRpb25LZXlcIil9LFxyXG4gICAge2tleTogJ3Byb2NJbnN0Q3JlYXRvcicsIG5hbWU6IHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oXCJhcHAucHJvY2Vzc0Rlc2lnbmVyLnByb2NJbnN0Q3JlYXRvclwiKSwgZGVzY3JpcHRpb246IHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oXCJhcHAucHJvY2Vzc0Rlc2lnbmVyLnByb2NJbnN0Q3JlYXRvclwiKX0sXHJcbiAgICB7a2V5OiAnYnVzaW5lc3NDcmVhdG9yJywgbmFtZTogdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcImFwcC5wcm9jZXNzRGVzaWduZXIuYnVzaW5lc3NDcmVhdG9yXCIpLCBkZXNjcmlwdGlvbjogdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcImFwcC5wcm9jZXNzRGVzaWduZXIuYnVzaW5lc3NDcmVhdG9yXCIpfSxcclxuICAgIHtrZXk6ICdwcm9jSW5zdERlc2NyaXB0aW9uJywgbmFtZTogdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcImFwcC5wcm9jZXNzRGVzaWduZXIucHJvY0luc3REZXNjcmlwdGlvblwiKSwgZGVzY3JpcHRpb246IHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oXCJhcHAucHJvY2Vzc0Rlc2lnbmVyLnByb2NJbnN0RGVzY3JpcHRpb25cIil9LFxyXG4gICAge2tleTogJ2NvbW1lbnQnLCBuYW1lOiB0aGlzLmxvY2FsZVBpcGUudHJhbnNmb3JtKFwiYXBwLnByb2Nlc3NEZXNpZ25lci5jb21tZW50XCIpLCBkZXNjcmlwdGlvbjogdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcImFwcC5wcm9jZXNzRGVzaWduZXIuY29tbWVudFwiKX0sXHJcbiAgICB7a2V5OiAnYml6RGVmTmFtZScsIG5hbWU6IHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oXCJhcHAucHJvY2Vzc0Rlc2lnbmVyLmJpekRlZk5hbWVcIiksIGRlc2NyaXB0aW9uOiB0aGlzLmxvY2FsZVBpcGUudHJhbnNmb3JtKFwiYXBwLnByb2Nlc3NEZXNpZ25lci5iaXpEZWZOYW1lXCIpfSxcclxuICAgIHtrZXk6ICdjdXJMb2dpblVzZXJuYW1lJywgbmFtZTogdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcImFwcC5wcm9jZXNzRGVzaWduZXIuY3VyTG9naW5Vc2VybmFtZVwiKSwgZGVzY3JpcHRpb246dGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcImFwcC5wcm9jZXNzRGVzaWduZXIuY3VyTG9naW5Vc2VybmFtZVwiKX0sXHJcbiAgICB7a2V5OiAncHJvY0luc3RDcmVhdG9yTmFtZScsIG5hbWU6IHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oXCJhcHAucHJvY2Vzc0Rlc2lnbmVyLnByb2NJbnN0Q3JlYXRvck5hbWVcIiksIGRlc2NyaXB0aW9uOiB0aGlzLmxvY2FsZVBpcGUudHJhbnNmb3JtKFwiYXBwLnByb2Nlc3NEZXNpZ25lci5wcm9jSW5zdENyZWF0b3JOYW1lXCIpfVxyXG4gIF07XHJcbiAgLyoqXHJcbiAgICog5rWB56iL5Y+C5pWw5LiK5LiL5paHXHJcbiAgICovXHJcbiAgZm9ybWFsUGFyYW1ldGVyQ29udGV4dDogVmFyRW50aXR5W10gPSBbXTtcclxuXHJcbiAgLyoqXHJcbiAgICog5Y+C5LiO6ICF5LiK5LiL5paHXHJcbiAgICovXHJcbiAgcGFydGljaXBhbnRDb250ZXh0OiBWYXJFbnRpdHlbXSA9IFtcclxuICAgIHtcclxuICAgICAga2V5OiAncHJvY0luc3RDcmVhdG9yJyxcclxuICAgICAgbmFtZTogdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcImFwcC5wcm9jZXNzRGVzaWduZXIucHJvY0luc3RDcmVhdG9yXCIpLFxyXG4gICAgICBkZXNjcmlwdGlvbjogdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcImFwcC5wcm9jZXNzRGVzaWduZXIucHJvY0luc3RDcmVhdG9yXCIpXHJcbiAgICB9LCB7XHJcbiAgICAgIGtleTogJ2J1c2luZXNzQ3JlYXRvcicsXHJcbiAgICAgIG5hbWU6IHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oXCJhcHAucHJvY2Vzc0Rlc2lnbmVyLmJ1c2luZXNzQ3JlYXRvclwiKSxcclxuICAgICAgZGVzY3JpcHRpb246IHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oXCJhcHAucHJvY2Vzc0Rlc2lnbmVyLmJ1c2luZXNzQ3JlYXRvclwiKVxyXG4gICAgfSwge1xyXG4gICAgICBrZXk6ICdjdXJyZW50VXNlcicsXHJcbiAgICAgIG5hbWU6IHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oXCJhcHAucHJvY2Vzc0Rlc2lnbmVyLmN1cnJlbnRVc2VyXCIpLFxyXG4gICAgICBkZXNjcmlwdGlvbjogdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcImFwcC5wcm9jZXNzRGVzaWduZXIuY3VycmVudFVzZXJcIilcclxuICAgIH0sIHtcclxuICAgICAga2V5OiAncHJlQWN0RXhlY3V0b3JzJyxcclxuICAgICAgbmFtZTogdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcImFwcC5wcm9jZXNzRGVzaWduZXIucHJlQWN0RXhlY3V0b3JzXCIpLFxyXG4gICAgICBkZXNjcmlwdGlvbjogdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcImFwcC5wcm9jZXNzRGVzaWduZXIucHJlQWN0RXhlY3V0b3JzXCIpXHJcbiAgICB9XTtcclxuXHJcbiAgICAvKipcclxuICAgKiDlrZDmtLvliqjkuIrkuIvmlodcclxuICAgKi9cclxuICBzdWJBY3Rpdml0eUNvbnRleHQ6IFZhckVudGl0eVtdID0gW1xyXG4gICAge1xyXG4gICAgICBrZXk6ICdjb2xsZWN0aW9uRWxlbWVudFZhcmlhYmxlJyxcclxuICAgICAgbmFtZTogdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcImFwcC5wcm9jZXNzRGVzaWduZXIuY29sbGVjdGlvbkVsZW1lbnRWYXJpYWJsZVwiKSxcclxuICAgICAgZGVzY3JpcHRpb246IHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oXCJhcHAucHJvY2Vzc0Rlc2lnbmVyLmNvbGxlY3Rpb25FbGVtZW50VmFyaWFibGVcIilcclxuICAgIH1dO1xyXG5cclxuICAgIC8qKlxyXG4gICAqIOWtkOa1geeoi+WFg+e0oOS4iuS4i+aWh1xyXG4gICAqL1xyXG4gIHN1YlByb2Nlc3NFbGVtZW50Q29udGV4dDogVmFyRW50aXR5W10gPSBbXHJcbiAgICB7XHJcbiAgICAgIGtleTogJ3N1YkNvbGxlY3Rpb25FbGVtZW50VmFyaWFibGUnLFxyXG4gICAgICBuYW1lOiB0aGlzLmxvY2FsZVBpcGUudHJhbnNmb3JtKFwiYXBwLnByb2Nlc3NEZXNpZ25lci5zdWJDb2xsZWN0aW9uRWxlbWVudFZhcmlhYmxlXCIpLFxyXG4gICAgICBkZXNjcmlwdGlvbjogdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcImFwcC5wcm9jZXNzRGVzaWduZXIuc3ViQ29sbGVjdGlvbkVsZW1lbnRWYXJpYWJsZVwiKVxyXG4gICAgfV07XHJcblxyXG4gIC8qKlxyXG4gICAqIOWkmuWunuS+i+WQr+eUqOadoeS7tuS4iuS4i+aWh1xyXG4gICAqL1xyXG4gIG11bHRpQ291bnRlclNpZ25WYXJpYWJsZXM6IFZhckVudGl0eVtdID0gW1xyXG4gICAge2tleTogJ25yT2ZJbnN0YW5jZXMnLCBuYW1lOiB0aGlzLmxvY2FsZVBpcGUudHJhbnNmb3JtKFwiYXBwLnByb2Nlc3NEZXNpZ25lci5uck9mSW5zdGFuY2VzXCIpLCBkZXNjcmlwdGlvbjogdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcImFwcC5wcm9jZXNzRGVzaWduZXIubnJPZkluc3RhbmNlc1wiKX0sXHJcbiAgICB7a2V5OiAnbnJPZkNvbXBsZXRlZEluc3RhbmNlcycsIG5hbWU6IHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oXCJhcHAucHJvY2Vzc0Rlc2lnbmVyLm5yT2ZDb21wbGV0ZWRJbnN0YW5jZXNcIiksIGRlc2NyaXB0aW9uOiB0aGlzLmxvY2FsZVBpcGUudHJhbnNmb3JtKFwiYXBwLnByb2Nlc3NEZXNpZ25lci5uck9mQ29tcGxldGVkSW5zdGFuY2VzXCIpfSxcclxuICAgIHtrZXk6ICduck9mQWN0aXZlSW5zdGFuY2VzJywgbmFtZTogdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcImFwcC5wcm9jZXNzRGVzaWduZXIubnJPZkFjdGl2ZUluc3RhbmNlc1wiKSwgZGVzY3JpcHRpb246IHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oXCJhcHAucHJvY2Vzc0Rlc2lnbmVyLm5yT2ZBY3RpdmVJbnN0YW5jZXNcIil9LFxyXG4gICAge2tleTogJ25yT2ZGb3J3YXJkJywgbmFtZTogdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcImFwcC5wcm9jZXNzRGVzaWduZXIubnJPZkZvcndhcmRcIiksIGRlc2NyaXB0aW9uOiB0aGlzLmxvY2FsZVBpcGUudHJhbnNmb3JtKFwiYXBwLnByb2Nlc3NEZXNpZ25lci5uck9mRm9yd2FyZFwiKX0sXHJcbiAgICB7a2V5OiAnbnJPZkJhY2t3YXJkJywgbmFtZTogdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcImFwcC5wcm9jZXNzRGVzaWduZXIubnJPZkJhY2t3YXJkXCIpLCBkZXNjcmlwdGlvbjogdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcImFwcC5wcm9jZXNzRGVzaWduZXIubnJPZkJhY2t3YXJkXCIpfSxcclxuICAgIHtrZXk6ICduck9mQWJvcnQnLCBuYW1lOiB0aGlzLmxvY2FsZVBpcGUudHJhbnNmb3JtKFwiYXBwLnByb2Nlc3NEZXNpZ25lci5uck9mQWJvcnRcIiksIGRlc2NyaXB0aW9uOiB0aGlzLmxvY2FsZVBpcGUudHJhbnNmb3JtKFwiYXBwLnByb2Nlc3NEZXNpZ25lci5uck9mQWJvcnRcIil9XHJcbiAgICBdO1xyXG5cclxuICAvKipcclxuICAgKiDmtLvliqjmnoTku7blj4LmlbDkuIrkuIvmlodcclxuICAgKi9cclxuICBhY3Rpdml0eUNvbXBvbmVudENvbnRleHQ6IFZhckVudGl0eVtdID0gW1xyXG4gICAge1xyXG4gICAgICBrZXk6ICdjb25jbHVzaW9uVHlwZScsXHJcbiAgICAgIG5hbWU6IHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oXCJhcHAucHJvY2Vzc0Rlc2lnbmVyLmNvbmNsdXNpb25UeXBlXCIpLFxyXG4gICAgICBkZXNjcmlwdGlvbjogdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcImFwcC5wcm9jZXNzRGVzaWduZXIuY29uY2x1c2lvblR5cGVUaXBzXCIpXHJcbiAgICB9LCB7XHJcbiAgICAgIGtleTogJ2NvbmNsdXNpb25WYWx1ZScsXHJcbiAgICAgIG5hbWU6IHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oXCJhcHAucHJvY2Vzc0Rlc2lnbmVyLmNvbmNsdXNpb25WYWx1ZVwiKSxcclxuICAgICAgZGVzY3JpcHRpb246IHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oXCJhcHAucHJvY2Vzc0Rlc2lnbmVyLmNvbmNsdXNpb25WYWx1ZVRpcHNcIilcclxuICAgIH1dO1xyXG4gIHByb2Nlc3NWYXJpYWJsZUNvbnRleHQ6IFZhckVudGl0eVtdID0gbmV3IEFycmF5KCk7XHJcblxyXG4gIHByaXZhdGUgcHJvY2Vzc1ZhcmlhYmxlcyA9IG5ldyBBcnJheSgpO1xyXG5cclxuICBzZXQgUHJvY2Vzc1ZhcmlhYmxlcyh2YXJpYWJsZXM6IGFueVtdKSB7XHJcbiAgICB0aGlzLnByb2Nlc3NWYXJpYWJsZXMgPSB2YXJpYWJsZXM7XHJcbiAgICB0aGlzLnNldFByb2Nlc3NWYXJpYWJsZUNvbnRleHQoKTtcclxuICB9XHJcblxyXG4gIGdldCBQcm9jZXNzVmFyaWFibGVzKCkge1xyXG4gICAgcmV0dXJuIHRoaXMucHJvY2Vzc1ZhcmlhYmxlcztcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIOaxh+aKpee6p+asoVxyXG4gICAqL1xyXG4gIGRpbWVuc2lvbnMgPSBbXHJcbiAgICB7dmFsdWU6ICdkaXJlY3RTdXBlcmlvcicsIHRleHQ6IHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oXCJhcHAucHJvY2Vzc0Rlc2lnbmVyLmRpcmVjdFN1cGVyaW9yXCIpfSxcclxuICAgIHt2YWx1ZTogJ2hpZ2hlclN1cGVyaW9yJywgdGV4dDogdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcImFwcC5wcm9jZXNzRGVzaWduZXIuaGlnaGVyU3VwZXJpb3JcIil9XHJcbiAgXTtcclxuXHJcbiAgLyoqXHJcbiAgICog5ZCv5Yqo5pa55byPXHJcbiAgICovXHJcbiAgc3RhcnRNb2RlSXRlcmF0b3I6IEtleU1hcFtdID0gW1xyXG4gICAge2tleTogJ0RJUkVDVCcsIHZhbHVlOiB0aGlzLmxvY2FsZVBpcGUudHJhbnNmb3JtKFwiYXBwLnByb2Nlc3NEZXNpZ25lci5ESVJFQ1RcIil9LFxyXG4gICAge2tleTogJ0VYVEVSTkFMX1BST0NFU1MnLCB2YWx1ZTogdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcImFwcC5wcm9jZXNzRGVzaWduZXIuRVhURVJOQUxfUFJPQ0VTU1wiKX0sXHJcbiAgICB7a2V5OiAnU1VCX1BST0NFU1MnLCB2YWx1ZTogdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcImFwcC5wcm9jZXNzRGVzaWduZXIuU1VCX1BST0NFU1NcIil9XHJcbiAgXTtcclxuXHJcbiAgLyoqXHJcbiAgICog5pi+56S657uI56uvXHJcbiAgICovXHJcbiAgZGlzcGxheVRlcm1pbmFsOiBLZXlNYXBbXSA9IFtcclxuICAgIHtrZXk6IFwiQUxMXCIsIHZhbHVlOiB0aGlzLmxvY2FsZVBpcGUudHJhbnNmb3JtKFwiYXBwLnByb2Nlc3NEZXNpZ25lci5BTExcIil9LFxyXG4gICAge2tleTogXCJXRUJcIiwgdmFsdWU6IHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oXCJhcHAucHJvY2Vzc0Rlc2lnbmVyLldFQlwiKX0sXHJcbiAgICB7a2V5OiBcIkFQUFwiLCB2YWx1ZTogdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcImFwcC5wcm9jZXNzRGVzaWduZXIuQVBQXCIpfVxyXG4gIF07XHJcblxyXG4gIC8qKlxyXG4gICAqIOa2iOaBr+a4oOmBk+WIl+ihqFxyXG4gICAqL1xyXG4gIG1lc3NhZ2VDaGFubmVscyA9IG5ldyBBcnJheSgpO1xyXG5cclxuICBvcmdUeXBlQ29sbGVjdGlvbjogeyB2YWx1ZSwgdGV4dCB9W10gPSBbXTtcclxuXHJcbiAgdmFyaWFibGVDb250ZXh0TmFtZShrZXk6IHN0cmluZykge1xyXG4gICAgcmV0dXJuIHRoaXMucGFydGljaXBhbnRDb250ZXh0LmZpbmQoaSA9PiBpLmtleSA9PT0ga2V5KS5uYW1lO1xyXG4gIH1cclxuXHJcbiAgcmFua3NOYW1lKHZhbHVlOiBzdHJpbmcpIHtcclxuICAgIHJldHVybiB0aGlzLmRpbWVuc2lvbnMuZmluZChpID0+IGkudmFsdWUgPT09IHZhbHVlKS50ZXh0O1xyXG4gIH1cclxuXHJcbiAgZ2V0TWVzc2FnZUNoYW5uZWxzKCkge1xyXG4gICAgY29uc3QgdXJsID0gJy9hcGkvcnVudGltZS9tc2cvdjEuMC9tZXNzYWdlcGxhdGZvcm0vY2hhbm5lbC9nZXRlbmFibGVkY2hhbm5lbHMnO1xyXG4gICAgdGhpcy5odHRwLmdldCh1cmwpLnN1YnNjcmliZSgocmU6IGFueSkgPT4ge1xyXG4gICAgICB0aGlzLm1lc3NhZ2VDaGFubmVscyA9IHJlO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBnZXRBZG1pbmlzdHJhdG9ySW5mbygpIHtcclxuICAgIHRoaXMuZ2V0Q3VycmVudFVzZXIoKS5zdWJzY3JpYmUodXNlciA9PiB7XHJcbiAgICAgIGNvbnN0IHVzZXJJZCA9IHVzZXIudXNlcklkO1xyXG4gICAgICBmb3JrSm9pbih0aGlzLmdldEFkbWluaXN0cmF0b3JDb25maWcoKSwgdGhpcy5nZXRBZG1pbmlzdHJhdG9yKHVzZXJJZCkpLnN1YnNjcmliZShyZSA9PiB7XHJcbiAgICAgICAgdGhpcy5pc0FkbWluaXN0cmF0b3JDb25maWcgPSByZVswXS5jdXJyZW50VmFsdWUgPT09ICd0cnVlJyA/IHRydWUgOiBmYWxzZTtcclxuICAgICAgICB0aGlzLmFkbWluaXN0cmF0b3IgPSByZVsxXTtcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGdldEVuYWJsZUFkbWluT3JnQXV0KCk6IE9ic2VydmFibGU8YW55PiB7XHJcbiAgICByZXR1cm4gdGhpcy5nZXRFbmFibGVQcm9jZXNzRGVzaWduZXJEYXRhQXV0KCdXRl9BZG1pbk9yZycpO1xyXG4gIH1cclxuXHJcbiAgZ2V0RW5hYmxlRmxvd0Zvcm1BdXQoKTogT2JzZXJ2YWJsZTxhbnk+IHtcclxuICAgICAgcmV0dXJuIHRoaXMuZ2V0RW5hYmxlUHJvY2Vzc0Rlc2lnbmVyRGF0YUF1dCgnV0ZfRmxvd0Zvcm0nKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgZ2V0RW5hYmxlUHJvY2Vzc0Rlc2lnbmVyRGF0YUF1dChhdXRoRmllbGQ6IHN0cmluZyk6IE9ic2VydmFibGU8YW55PiB7XHJcbiAgICBjb25zdCB1cmwgPSAnL2FwaS9ydW50aW1lL3dmL3YxLjAvZHRQcm9jRGVmcy9lbmFibGVQcm9jZXNzRGVzaWduZXJEYXRhQXV0LycgKyBhdXRoRmllbGQ7XHJcbiAgICByZXR1cm4gdGhpcy5odHRwLmdldCh1cmwpO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBnZXRDdXJyZW50VXNlcigpOiBPYnNlcnZhYmxlPGFueT4ge1xyXG4gICAgY29uc3QgdXJsID0gJy9hcGkvcnVudGltZS9zeXMvdjEuMC91c2VyaW5mb3M/aW5mb1R5cGU9dXNlcic7XHJcbiAgICByZXR1cm4gdGhpcy5odHRwLmdldCh1cmwpO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBnZXRBZG1pbmlzdHJhdG9yKHVzZXJJZDogc3RyaW5nKTogT2JzZXJ2YWJsZTxhbnk+IHtcclxuICAgIGNvbnN0IHVybCA9IGAvYXBpL3J1bnRpbWUvd2YvdjEuMC9wcm9jZXNzQWRtaW5pc3RyYXRvci8ke3VzZXJJZH1gO1xyXG4gICAgcmV0dXJuIHRoaXMuaHR0cC5nZXQodXJsKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBnZXRSZWxlYXNlQ29uZmlnKCk6IE9ic2VydmFibGU8YW55PiB7XHJcbiAgICBjb25zdCB1cmwgPSBgL2FwaS9ydW50aW1lL3dmL3YxLjAvZ2VuZXJhbENvbmZpZy9Jc19FbmFibGVfRXhhbWluZWA7XHJcbiAgICByZXR1cm4gdGhpcy5odHRwLmdldCh1cmwpO1xyXG4gIH1cclxuICBwcml2YXRlIGdldEFkbWluaXN0cmF0b3JDb25maWcoKTogT2JzZXJ2YWJsZTxhbnk+IHtcclxuICAgIGNvbnN0IHVybCA9IGAvYXBpL3J1bnRpbWUvd2YvdjEuMC9nZW5lcmFsQ29uZmlnL0lzX0VuYWJsZUFkbWluaXN0cmF0b3JgO1xyXG4gICAgcmV0dXJuIHRoaXMuaHR0cC5nZXQodXJsKTtcclxuICB9XHJcbiAgcHJpdmF0ZSBnZXRTeXNPcmdCeUlkKG9yZ0lkOiBzdHJpbmcpOiBPYnNlcnZhYmxlPGFueT4ge1xyXG4gICAgY29uc3QgdXJsID0gYC9hcGkvcnVudGltZS9zeXMvdjEuMC9zeXNPcmdzLyR7b3JnSWR9YDtcclxuICAgIHJldHVybiB0aGlzLmh0dHAuZ2V0KHVybCk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGdldFN5c09yZ1dpdGhBbGxTdWJzQnlJZChvcmdJZDogc3RyaW5nKTogT2JzZXJ2YWJsZTxhbnk+IHtcclxuICAgIGNvbnN0IHVybCA9IGAvYXBpL3J1bnRpbWUvc3lzL3YxLjAvc3lzT3Jncz9wYXJhbT1gICsgZW5jb2RlVVJJQ29tcG9uZW50KGB7XCJwYXJlbnRJZFwiOlwiJHtvcmdJZH1cIixcIndpdGhBbGxTdWJcIjp0cnVlfWApO1xyXG4gICAgcmV0dXJuIHRoaXMuaHR0cC5nZXQodXJsKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgZ2V0Q3VyVXNlckluZm8odXNlcklkOiBzdHJpbmcpOiBPYnNlcnZhYmxlPGFueT4ge1xyXG4gICAgY29uc3QgdXJsID0gYC9hcGkvcnVudGltZS9zeXMvdjEuMC91c2Vycy8ke3VzZXJJZH1gO1xyXG4gICAgcmV0dXJuIHRoaXMuaHR0cC5nZXQodXJsKTtcclxuICB9XHJcblxyXG4gIGdldE9yZ0NvbmZpZygpOiBPYnNlcnZhYmxlPGFueT4ge1xyXG4gICAgY29uc3QgdXJsID0gYC9hcGkvcnVudGltZS93Zi92MS4wL2dlbmVyYWxDb25maWcvSXNfUmVxdWlyZWRfT3JnYW5pemF0aW9uYDtcclxuICAgIHJldHVybiB0aGlzLmh0dHAuZ2V0KHVybCk7XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIOiOt+WPluW9k+WJjeeUqOaIt+S/oeaBr1xyXG4gICAqL1xyXG4gIGdldFVzZXJJbmZvKCk6IE9ic2VydmFibGU8YW55PiB7XHJcbiAgICBjb25zdCB1cmwgPSBgL2FwaS9ydW50aW1lL3N5cy92MS4wL3VzZXJpbmZvcz9pbmZvVHlwZT11c2VyYDtcclxuICAgIHJldHVybiB0aGlzLmh0dHAuZ2V0KHVybCk7XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIOa1geeoi+WuoeaguO+8muaWsOWinlxyXG4gICAqL1xyXG4gIGNyZWF0ZURhdGEoKTogT2JzZXJ2YWJsZTxhbnk+IHtcclxuICAgIGNvbnN0IHVybCA9IGAvYXBpL2JwbXMvd2YvdjEuMC9wcm9jZXNzcmVsZWFzZV9mcm1gO1xyXG4gICAgY29uc3QgcmVxdWVzdEluZm8gPSB7XHJcbiAgICAgIGRhdGFDaGFuZ2U6IFtdLFxyXG4gICAgICB2YXJpYWJsZUNoYW5nZTogbnVsbFxyXG4gICAgfTtcclxuICAgIHJldHVybiB0aGlzLmh0dHAucG9zdCh1cmwsIHJlcXVlc3RJbmZvKTtcclxuICB9XHJcbiAgLyoqXHJcbiAgICog5rWB56iL5a6h5qC477ya5L+d5a2YXHJcbiAgICovXHJcbiAgcmVsZWFzZVNhdmUoZGF0YTogYW55KTogT2JzZXJ2YWJsZTxhbnk+IHtcclxuICAgIGNvbnN0IHJlcXVlc3RJbmZvID0ge1xyXG4gICAgICBkYXRhQ2hhbmdlOiBbZGF0YV0sXHJcbiAgICAgIHZhcmlhYmxlQ2hhbmdlOiBudWxsXHJcbiAgICB9O1xyXG4gICAgY29uc3QgdXJsID0gYC9hcGkvYnBtcy93Zi92MS4wL3Byb2Nlc3NyZWxlYXNlX2ZybWA7XHJcbiAgICByZXR1cm4gdGhpcy5odHRwLnB1dCh1cmwsIHJlcXVlc3RJbmZvKTtcclxuICB9XHJcbiAgcHJpdmF0ZSBzZXRQcm9jZXNzVmFyaWFibGVDb250ZXh0KCkge1xyXG4gICAgdGhpcy5wcm9jZXNzVmFyaWFibGVDb250ZXh0ID0gbmV3IEFycmF5KCk7XHJcbiAgICBpZiAodGhpcy5Qcm9jZXNzVmFyaWFibGVzICYmIHRoaXMuUHJvY2Vzc1ZhcmlhYmxlcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgIGZvciAoY29uc3QgdiBvZiB0aGlzLlByb2Nlc3NWYXJpYWJsZXMpIHtcclxuICAgICAgICBjb25zdCB2YXJFbnRpdHkgPSB7XHJcbiAgICAgICAgICBrZXk6IHYubmFtZSxcclxuICAgICAgICAgIG5hbWU6IHYuZG9jdW1lbnRhdGlvbixcclxuICAgICAgICAgIGRlc2NyaXB0aW9uOiB2LmRlc2NyaXB0aW9uXHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLnByb2Nlc3NWYXJpYWJsZUNvbnRleHQucHVzaCh2YXJFbnRpdHkpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuXHJcbiAgZ2V0SGVscE1ldGFEYXRhKGhlbHBJZDogc3RyaW5nLCBzdTogc3RyaW5nKTogT2JzZXJ2YWJsZTxhbnk+IHtcclxuICAgIGNvbnN0IHVybCA9IGAvYXBpL3J1bnRpbWUvbGNtL3YxLjAvcnQtbWV0YWRhdGFzLyR7aGVscElkfWA7XHJcbiAgICByZXR1cm4gdGhpcy5odHRwLmdldCh1cmwpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICog6I635Y+W5qGG5p6255qE6aG257qnd2luZG93XHJcbiAgICog6L+b6KGM6Leo5Z+f5bCB6KOFXHJcbiAgICovXHJcbiAgcHJpdmF0ZSBnZXRUb3BXaW5kb3coKTogV2luZG93IHtcclxuICAgIGxldCBjdXJXaW46IFdpbmRvdyA9IHdpbmRvdy5zZWxmO1xyXG4gICAgdHJ5IHtcclxuICAgICAgICB3aGlsZSAoY3VyV2luLmxvY2F0aW9uLm9yaWdpbiA9PT0gY3VyV2luLnBhcmVudC5sb2NhdGlvbi5vcmlnaW4pIHtcclxuICAgICAgICAgICAgaWYgKGN1cldpbiAhPT0gY3VyV2luLnBhcmVudCAmJiAhKGN1cldpbiBhcyBhbnkpLmlzUlRGVG9wV2luKSB7XHJcbiAgICAgICAgICAgICAgICBjdXJXaW4gPSBjdXJXaW4ucGFyZW50O1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9IGNhdGNoIChlKSB7IH1cclxuICAgIHJldHVybiBjdXJXaW47XHJcbiAgfVxyXG5cclxuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLTAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG4gIC8vIHVpU3RhdGXliJ3lp4tcclxuICBpbml0VUlTdGF0ZSgpIHtcclxuICAgIHRoaXMucHJvcGVydHlDb25maWcgPSBbXTtcclxuICAgIHRoaXMucHJvcGVydHlEYXRhID0gbnVsbDtcclxuICAgIHRoaXMuY29udGVudCA9ICcnO1xyXG4gICAgdGhpcy5zY2hlbWFzID0gW107XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiDojrflj5bmiYDmnInlrqHmibnoioLngrnkv6Hmga9cclxuICAgKiBAcGFyYW0gZGF0YVxyXG4gICAqL1xyXG4gIGdldFVzZXJBY3RMaXN0KGRhdGE6IGFueVtdKSB7XHJcbiAgICB0aGlzLnVzZXJBY3RMaXN0ID0gW107XHJcbiAgICBpZiAoZGF0YSAmJiBkYXRhLmxlbmd0aCA+IDApIHtcclxuICAgICAgZm9yIChjb25zdCB1c2VyQWN0IG9mIGRhdGEpIHtcclxuICAgICAgICBjb25zdCB1c2VyQWN0SW5mbzogYW55ID0ge1xyXG4gICAgICAgICAgSWQ6IHVzZXJBY3QuSWQsXHJcbiAgICAgICAgICBOYW1lOiB1c2VyQWN0Lk5hbWVMYW5ndWFnZSA/ICh1c2VyQWN0Lk5hbWVMYW5ndWFnZVt0aGlzLmxvY2FsZVBpcGUubGFuZ0NvZGVdID8gdXNlckFjdC5OYW1lTGFuZ3VhZ2VbdGhpcy5sb2NhbGVQaXBlLmxhbmdDb2RlXSA6IHVzZXJBY3QuTmFtZSkgOiB1c2VyQWN0Lk5hbWUsXHJcbiAgICAgICAgICBDbHJUeXBlSUQ6IHVzZXJBY3QuQ2xyVHlwZUlELFxyXG4gICAgICAgICAgQXNzaWdubWVudFN0cmF0ZWd5OiB1c2VyQWN0LkFzc2lnbm1lbnRTdHJhdGVneVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgaWYgKHVzZXJBY3QuQXNzaWdubWVudFN0cmF0ZWd5ID09PSAnQVNTSUdOJykge1xyXG4gICAgICAgICAgdXNlckFjdEluZm8uQXNzaWduUGVyZm9ybWVyQ29uZmlnID0gdXNlckFjdC5Bc3NpZ25QZXJmb3JtZXJDb25maWc7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMudXNlckFjdExpc3QucHVzaCh1c2VyQWN0SW5mbyk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIOiOt+WPluaJgOaciee7k+adn+iKgueCueS/oeaBr1xyXG4gICAqIEBwYXJhbSBkYXRhXHJcbiAgICovXHJcbiAgICAgZ2V0RW5kRXZlbnRMaXN0KGRhdGE6IGFueVtdKSB7XHJcbiAgICAgIHRoaXMuYWxsQWN0TGlzdCA9IFtdO1xyXG4gICAgICBpZiAoZGF0YSAmJiBkYXRhLmxlbmd0aCA+IDApIHtcclxuICAgICAgICBmb3IgKGNvbnN0IGVuZEV2ZW50IG9mIGRhdGEpIHtcclxuICAgICAgICAgIGNvbnN0IGVuZEV2ZW50SW5mbyA9IHtcclxuICAgICAgICAgICAgSWQ6IGVuZEV2ZW50LklkLFxyXG4gICAgICAgICAgICBOYW1lOiBlbmRFdmVudC5OYW1lXHJcbiAgICAgICAgICB9O1xyXG4gICAgICAgICAgLy8g5Y+W57uT5p2f6IqC54K55a2Y5YiwXHJcbiAgICAgICAgICB0aGlzLmFsbEFjdExpc3QucHVzaChlbmRFdmVudEluZm8pO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICAvLyAvLyDlrZjlhaXlrqHmibnmtLvliqjoioLngrlcclxuICAgICAgLy8gdGhpcy5hbGxBY3RMaXN0ID0gdGhpcy5hbGxBY3RMaXN0LmNvbmNhdCh0aGlzLnVzZXJBY3RMaXN0KTtcclxuICAgIH1cclxuXHJcbiAgLyoqXHJcbiAgICog6I635Y+W5omA5pyJ55+l5Lya5rS75Yqo6IqC54K55L+h5oGvXHJcbiAgICogQHBhcmFtIGRhdGFcclxuICAgKi9cclxuICAgZ2V0Tm90aWZ5RXZlbnRMaXN0KGRhdGE6IGFueVtdKSB7XHJcbiAgICB0aGlzLk5vdGlmeUFjdEtpc3QgPSBbXTtcclxuICAgIGlmIChkYXRhICYmIGRhdGEubGVuZ3RoID4gMCkge1xyXG4gICAgICBmb3IgKGNvbnN0IG5vdGlmeUV2ZW50IG9mIGRhdGEpIHtcclxuICAgICAgICBjb25zdCBub3RpZnlFdmVudEluZm8gPSB7XHJcbiAgICAgICAgICBJZDogbm90aWZ5RXZlbnQuSWQsXHJcbiAgICAgICAgICBOYW1lOiBub3RpZnlFdmVudC5OYW1lXHJcbiAgICAgICAgfTtcclxuICAgICAgICAvLyDlj5bnn6XkvJrmtLvliqjvvIzmtojmga/oioLngrnlrZjliLBcclxuICAgICAgICB0aGlzLk5vdGlmeUFjdEtpc3QucHVzaChub3RpZnlFdmVudEluZm8pO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG4gIC8vVE9ETzog5Y+q5pyJ5a6h5om5XFzlrqHmibkr5Lq65belXFzlrqHmibkr5Lq65belK+efpeS8mlxc5a6h5om544CB5Lq65bel44CB5a2Q5rWB56iL44CB5L+h5Y+35o2V6I63XHJcbiAgLyoqXHJcbiAgICog6I635Y+W5omA5pyJ5raI5oGv6IqC54K55L+h5oGvXHJcbiAgICogQHBhcmFtIGRhdGFcclxuICAgKi9cclxuICAgZ2V0TWVzc2FnZUV2ZW50TGlzdChkYXRhOiBhbnlbXSkge1xyXG4gICAgdGhpcy5NZXNzYWdlQWN0TGlzdCA9IFtdO1xyXG4gICAgaWYgKGRhdGEgJiYgZGF0YS5sZW5ndGggPiAwKSB7XHJcbiAgICAgIGZvciAoY29uc3QgbWVzc2FnZUV2ZW50IG9mIGRhdGEpIHtcclxuICAgICAgICBjb25zdCBtZXNzYWdlRXZlbnRJbmZvID0ge1xyXG4gICAgICAgICAgSWQ6IG1lc3NhZ2VFdmVudC5JZCxcclxuICAgICAgICAgIE5hbWU6IG1lc3NhZ2VFdmVudC5OYW1lXHJcbiAgICAgICAgfTtcclxuICAgICAgICAvLyDlj5bnn6XkvJrmtLvliqjvvIzmtojmga/oioLngrnlrZjliLBcclxuICAgICAgICB0aGlzLk1lc3NhZ2VBY3RMaXN0LnB1c2gobWVzc2FnZUV2ZW50SW5mbyk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIC8vIOWtmOWFpeWuoeaJuea0u+WKqOiKgueCuVxyXG4gICAgdGhpcy5NZXNzYWdlQWN0TGlzdCA9IHRoaXMuTWVzc2FnZUFjdExpc3QuY29uY2F0KHRoaXMuTm90aWZ5QWN0S2lzdCk7XHJcbiAgICAvLyDlrZjlhaXlrqHmibnmtLvliqjoioLngrlcclxuICAgIHRoaXMuTWVzc2FnZUFjdExpc3QgPSB0aGlzLk1lc3NhZ2VBY3RMaXN0LmNvbmNhdCh0aGlzLnVzZXJBY3RMaXN0KTtcclxuICB9XHJcbiAgLyoqXHJcbiAgICogQHBhcmFtIGRhdGFcclxuICAgKi9cclxuICBnZXRTdWJBbmRDYXRjaEV2ZW50c0xpc3QoZGF0YTogYW55W10pIHtcclxuICAgIHRoaXMuU3ViQW5kQ2F0Y2hBY3RMaXN0ID0gW107XHJcbiAgICBpZiAoZGF0YSAmJiBkYXRhLmxlbmd0aCA+IDApIHtcclxuICAgICAgZm9yIChjb25zdCBzdWJBbmRDYXRjaEV2ZW50IG9mIGRhdGEpIHtcclxuICAgICAgICBjb25zdCBzdWJBbmRDYXRFdmVudEluZm8gPSB7XHJcbiAgICAgICAgICBJZDogc3ViQW5kQ2F0Y2hFdmVudC5JZCxcclxuICAgICAgICAgIE5hbWU6IHN1YkFuZENhdGNoRXZlbnQuTmFtZVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgLy8g5Y+W55+l5Lya5rS75Yqo77yM5raI5oGv6IqC54K55a2Y5YiwXHJcbiAgICAgICAgdGhpcy5TdWJBbmRDYXRjaEFjdExpc3QucHVzaChzdWJBbmRDYXRFdmVudEluZm8pO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiDojrflj5blvZPliY3mtYHnqIvlkK/liqjmlrnlvI9cclxuICAgKiBAcGFyYW0gZGF0YVxyXG4gICAqL1xyXG4gIGdldFN0YXJ0TW9kZShkYXRhOiBhbnkpIHtcclxuICAgIHRoaXMuc3RhcnRNb2RlID0gZGF0YTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIOa3u+WKoOS4iuS4i+aWh+WPmOmHj1xyXG4gICAqL1xyXG4gIGFkZENvbnRleHQoY29udGV4dDogYW55W10pIHtcclxuICAgIGlmICh0aGlzLnByb2NJbnN0Q29udGV4dC5sZW5ndGggPiAwKSB7XHJcbiAgICAgIGZvciAoY29uc3QgdmFyaWFibGUgb2YgdGhpcy5wcm9jSW5zdENvbnRleHQpIHtcclxuICAgICAgICBjb250ZXh0LnB1c2godmFyaWFibGUpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBpZiAodGhpcy5mb3JtYWxQYXJhbWV0ZXJDb250ZXh0Lmxlbmd0aCA+IDApIHtcclxuICAgICAgZm9yIChjb25zdCB2YXJpYWJsZSBvZiB0aGlzLmZvcm1hbFBhcmFtZXRlckNvbnRleHQpIHtcclxuICAgICAgICBpZiAoIWNvbnRleHQuc29tZShjID0+IGMua2V5ID09PSB2YXJpYWJsZS5rZXkpKSB7XHJcbiAgICAgICAgICBjb250ZXh0LnB1c2godmFyaWFibGUpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgaWYgKHRoaXMucGFydGljaXBhbnRDb250ZXh0Lmxlbmd0aCA+IDApIHtcclxuICAgICAgZm9yIChjb25zdCB2YXJpYWJsZSBvZiB0aGlzLnBhcnRpY2lwYW50Q29udGV4dCkge1xyXG4gICAgICAgIGlmICghY29udGV4dC5zb21lKGMgPT4gYy5rZXkgPT09IHZhcmlhYmxlLmtleSkpIHtcclxuICAgICAgICAgIGNvbnRleHQucHVzaCh2YXJpYWJsZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBpZiAodGhpcy5wcm9jZXNzVmFyaWFibGVDb250ZXh0Lmxlbmd0aCA+IDApIHtcclxuICAgICAgZm9yIChjb25zdCB2YXJpYWJsZSBvZiB0aGlzLnByb2Nlc3NWYXJpYWJsZUNvbnRleHQpIHtcclxuICAgICAgICBpZiAoIWNvbnRleHQuc29tZShjID0+IGMua2V5ID09PSB2YXJpYWJsZS5rZXkpKSB7XHJcbiAgICAgICAgICBjb250ZXh0LnB1c2godmFyaWFibGUpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGNvbnRleHQ7XHJcbiAgfVxyXG59XHJcblxyXG5cclxuIl19