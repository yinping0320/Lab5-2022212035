/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { Injectable } from '@angular/core';
import { ProcessDesignerUIState } from './process-designer.uistate';
import { BackwardRuleComponent, BackwardRuleConverter } from '../views/backward-rule/backward-rule.component';
import { VariableSettingComponent, VariableSettingConverter } from '../views/variable-setting/variable-setting.component';
import { CallActivitySubProcess2Component, CallActivitySubProcess2Converter } from '../views/call-activity-sub-process2/call-activity-sub-process2.component';
import { CallActivitySubProcessPropertyKeys } from '../designer/wf-cell/property-keys/CallActivitySubProcessPropertyKeys';
import { WfLocalePipe } from '../i18n/pipe/wf-process-editor-locale.pipe';
import { MultiInstanceLoopCharacteristicsComponent, MultiInstanceLoopCharacteristicsConverter } from '../views/multi-instance-loop-characteristics/multi-instance-loop-characteristics.component';
var SubProcessViewModel = /** @class */ (function () {
    function SubProcessViewModel(uiState, localPipe) {
        this.uiState = uiState;
        this.localPipe = localPipe;
    }
    /**
     * @param {?} obj
     * @return {?}
     */
    SubProcessViewModel.prototype.setProperty = /**
     * @param {?} obj
     * @return {?}
     */
    function (obj) {
        this.uiState.propertyData = obj.propertyData;
        this.uiState.propertyConfig = this.setConfig(obj.propertyConfig);
    };
    /**
     * @private
     * @param {?} obj
     * @return {?}
     */
    SubProcessViewModel.prototype.setConfig = /**
     * @private
     * @param {?} obj
     * @return {?}
     */
    function (obj) {
        var _this = this;
        /** @type {?} */
        var propertyConfig = [];
        if (obj) {
            obj.forEach((/**
             * @param {?} element
             * @return {?}
             */
            function (element) {
                _this.setEntity(element.properties);
                propertyConfig.push(element);
            }));
        }
        return propertyConfig;
    };
    /**
     * @private
     * @param {?} obj
     * @return {?}
     */
    SubProcessViewModel.prototype.setEntity = /**
     * @private
     * @param {?} obj
     * @return {?}
     */
    function (obj) {
        var _this = this;
        if (obj && obj.length > 0) {
            obj.forEach((/**
             * @param {?} item
             * @return {?}
             */
            function (item) {
                switch (item.propertyID) {
                    case CallActivitySubProcessPropertyKeys.callActivitySubProcess: // 参与者
                        // item.editor = CallActivitySubProcessComponent;
                        // item.converter = new CallActivitySubProcessConverter();
                        item.editor = CallActivitySubProcess2Component;
                        item.converter = new CallActivitySubProcess2Converter(_this.localPipe);
                        item.editorParams = {
                            bizTypeId: _this.uiState.flowFormInfo.flowForm.businessObjectId,
                        };
                        break;
                    case CallActivitySubProcessPropertyKeys.BackWardRule:
                        item.editor = BackwardRuleComponent;
                        item.converter = new BackwardRuleConverter(_this.localPipe);
                        item.editorParams = {
                            nodeType: 'CallActivitySubProcess'
                        };
                        break;
                    case CallActivitySubProcessPropertyKeys.MultiInstanceLoopCharacteristics:
                        item.editor = MultiInstanceLoopCharacteristicsComponent;
                        item.converter = new MultiInstanceLoopCharacteristicsConverter(_this.localPipe);
                        item.editorParams = {
                            location: 'CallActivitySubProcess'
                        };
                        break;
                    case CallActivitySubProcessPropertyKeys.variableSettings: // 变量设置
                        item.editor = VariableSettingComponent;
                        item.converter = new VariableSettingConverter(_this.localPipe);
                        break;
                    default:
                        break;
                }
            }));
        }
    };
    SubProcessViewModel.decorators = [
        { type: Injectable }
    ];
    /** @nocollapse */
    SubProcessViewModel.ctorParameters = function () { return [
        { type: ProcessDesignerUIState },
        { type: WfLocalePipe }
    ]; };
    return SubProcessViewModel;
}());
export { SubProcessViewModel };
if (false) {
    /**
     * @type {?}
     * @private
     */
    SubProcessViewModel.prototype.uiState;
    /**
     * @type {?}
     * @private
     */
    SubProcessViewModel.prototype.localPipe;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3ViLXByb2Nlc3Mudmlld21vZGVsLmpzIiwic291cmNlUm9vdCI6Im5nOi8vQGdzcC13Zi93Zi1wcm9jZXNzLWVkaXRvci8iLCJzb3VyY2VzIjpbImxpYi9hcHAvc3ViLXByb2Nlc3Mudmlld21vZGVsLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7QUFBQSxPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBQzNDLE9BQU8sRUFBRSxzQkFBc0IsRUFBRSxNQUFNLDRCQUE0QixDQUFDO0FBR3BFLE9BQU8sRUFBRSxxQkFBcUIsRUFBRSxxQkFBcUIsRUFBRSxNQUFNLGdEQUFnRCxDQUFDO0FBQzlHLE9BQU8sRUFBRSx3QkFBd0IsRUFBRSx3QkFBd0IsRUFBRSxNQUFNLHNEQUFzRCxDQUFDO0FBQzFILE9BQU8sRUFBRSxnQ0FBZ0MsRUFBRSxnQ0FBZ0MsRUFBRSxNQUFNLDBFQUEwRSxDQUFDO0FBQzlKLE9BQU8sRUFBRSxrQ0FBa0MsRUFBRSxNQUFNLHNFQUFzRSxDQUFDO0FBQzFILE9BQU8sRUFBRSxZQUFZLEVBQUUsTUFBTSw0Q0FBNEMsQ0FBQztBQUMxRSxPQUFPLEVBQUUseUNBQXlDLEVBQUUseUNBQXlDLEVBQUUsTUFBTSw0RkFBNEYsQ0FBQztBQUVsTTtJQUdJLDZCQUNZLE9BQStCLEVBQy9CLFNBQXVCO1FBRHZCLFlBQU8sR0FBUCxPQUFPLENBQXdCO1FBQy9CLGNBQVMsR0FBVCxTQUFTLENBQWM7SUFFbkMsQ0FBQzs7Ozs7SUFDRCx5Q0FBVzs7OztJQUFYLFVBQVksR0FBUTtRQUNoQixJQUFJLENBQUMsT0FBTyxDQUFDLFlBQVksR0FBRyxHQUFHLENBQUMsWUFBWSxDQUFDO1FBQzdDLElBQUksQ0FBQyxPQUFPLENBQUMsY0FBYyxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLGNBQWMsQ0FBQyxDQUFDO0lBQ3JFLENBQUM7Ozs7OztJQUVPLHVDQUFTOzs7OztJQUFqQixVQUFrQixHQUFVO1FBQTVCLGlCQVNDOztZQVJTLGNBQWMsR0FBNEIsRUFBRTtRQUNsRCxJQUFJLEdBQUcsRUFBRTtZQUNMLEdBQUcsQ0FBQyxPQUFPOzs7O1lBQUMsVUFBQyxPQUE4QjtnQkFDdkMsS0FBSSxDQUFDLFNBQVMsQ0FBQyxPQUFPLENBQUMsVUFBVSxDQUFDLENBQUM7Z0JBQ25DLGNBQWMsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUM7WUFDakMsQ0FBQyxFQUFDLENBQUM7U0FDTjtRQUNELE9BQU8sY0FBYyxDQUFDO0lBQzFCLENBQUM7Ozs7OztJQUNPLHVDQUFTOzs7OztJQUFqQixVQUFrQixHQUFxQjtRQUF2QyxpQkFvQ0M7UUFuQ0csSUFBSSxHQUFHLElBQUksR0FBRyxDQUFDLE1BQU0sR0FBRyxDQUFDLEVBQUU7WUFDdkIsR0FBRyxDQUFDLE9BQU87Ozs7WUFBQyxVQUFDLElBQW9CO2dCQUM3QixRQUFRLElBQUksQ0FBQyxVQUFVLEVBQUU7b0JBQ3JCLEtBQUssa0NBQWtDLENBQUMsc0JBQXNCLEVBQUUsTUFBTTt3QkFDbEUsaURBQWlEO3dCQUNqRCwwREFBMEQ7d0JBQzFELElBQUksQ0FBQyxNQUFNLEdBQUcsZ0NBQWdDLENBQUM7d0JBQy9DLElBQUksQ0FBQyxTQUFTLEdBQUcsSUFBSSxnQ0FBZ0MsQ0FBQyxLQUFJLENBQUMsU0FBUyxDQUFDLENBQUM7d0JBQ3RFLElBQUksQ0FBQyxZQUFZLEdBQUc7NEJBQ2hCLFNBQVMsRUFBRSxLQUFJLENBQUMsT0FBTyxDQUFDLFlBQVksQ0FBQyxRQUFRLENBQUMsZ0JBQWdCO3lCQUNqRSxDQUFDO3dCQUNGLE1BQU07b0JBQ1YsS0FBSyxrQ0FBa0MsQ0FBQyxZQUFZO3dCQUNoRCxJQUFJLENBQUMsTUFBTSxHQUFHLHFCQUFxQixDQUFDO3dCQUNwQyxJQUFJLENBQUMsU0FBUyxHQUFHLElBQUkscUJBQXFCLENBQUMsS0FBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDO3dCQUMzRCxJQUFJLENBQUMsWUFBWSxHQUFHOzRCQUNoQixRQUFRLEVBQUUsd0JBQXdCO3lCQUNyQyxDQUFDO3dCQUNGLE1BQU07b0JBQ1YsS0FBSyxrQ0FBa0MsQ0FBQyxnQ0FBZ0M7d0JBQ2hFLElBQUksQ0FBQyxNQUFNLEdBQUcseUNBQXlDLENBQUM7d0JBQ3hELElBQUksQ0FBQyxTQUFTLEdBQUcsSUFBSSx5Q0FBeUMsQ0FBQyxLQUFJLENBQUMsU0FBUyxDQUFDLENBQUM7d0JBQy9FLElBQUksQ0FBQyxZQUFZLEdBQUc7NEJBQ2hCLFFBQVEsRUFBRSx3QkFBd0I7eUJBQ3JDLENBQUM7d0JBQ0YsTUFBTTtvQkFDZCxLQUFLLGtDQUFrQyxDQUFDLGdCQUFnQixFQUFFLE9BQU87d0JBQzdELElBQUksQ0FBQyxNQUFNLEdBQUcsd0JBQXdCLENBQUM7d0JBQ3ZDLElBQUksQ0FBQyxTQUFTLEdBQUcsSUFBSSx3QkFBd0IsQ0FBQyxLQUFJLENBQUMsU0FBUyxDQUFDLENBQUM7d0JBQzlELE1BQU07b0JBQ1Y7d0JBQ0ksTUFBTTtpQkFDYjtZQUNMLENBQUMsRUFBQyxDQUFDO1NBQ047SUFDTCxDQUFDOztnQkEzREosVUFBVTs7OztnQkFWRixzQkFBc0I7Z0JBT3RCLFlBQVk7O0lBK0RyQiwwQkFBQztDQUFBLEFBNURELElBNERDO1NBMURZLG1CQUFtQjs7Ozs7O0lBRXhCLHNDQUF1Qzs7Ozs7SUFDdkMsd0NBQStCIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSW5qZWN0YWJsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xyXG5pbXBvcnQgeyBQcm9jZXNzRGVzaWduZXJVSVN0YXRlIH0gZnJvbSAnLi9wcm9jZXNzLWRlc2lnbmVyLnVpc3RhdGUnO1xyXG5pbXBvcnQgeyBFbGVtZW50UHJvcGVydHlDb25maWcsIFByb3BlcnR5RW50aXR5IH0gZnJvbSAnQGZhcnJpcy9pZGUtcHJvcGVydHktcGFuZWwnO1xyXG5pbXBvcnQgeyBDYWxsQWN0aXZpdHlTdWJQcm9jZXNzQ29tcG9uZW50LCBDYWxsQWN0aXZpdHlTdWJQcm9jZXNzQ29udmVydGVyIH0gZnJvbSAnLi4vdmlld3MvY2FsbC1hY3Rpdml0eS1zdWItcHJvY2Vzcy9jYWxsLWFjdGl2aXR5LXN1Yi1wcm9jZXNzLmNvbXBvbmVudCc7XHJcbmltcG9ydCB7IEJhY2t3YXJkUnVsZUNvbXBvbmVudCwgQmFja3dhcmRSdWxlQ29udmVydGVyIH0gZnJvbSAnLi4vdmlld3MvYmFja3dhcmQtcnVsZS9iYWNrd2FyZC1ydWxlLmNvbXBvbmVudCc7XHJcbmltcG9ydCB7IFZhcmlhYmxlU2V0dGluZ0NvbXBvbmVudCwgVmFyaWFibGVTZXR0aW5nQ29udmVydGVyIH0gZnJvbSAnLi4vdmlld3MvdmFyaWFibGUtc2V0dGluZy92YXJpYWJsZS1zZXR0aW5nLmNvbXBvbmVudCc7XHJcbmltcG9ydCB7IENhbGxBY3Rpdml0eVN1YlByb2Nlc3MyQ29tcG9uZW50LCBDYWxsQWN0aXZpdHlTdWJQcm9jZXNzMkNvbnZlcnRlciB9IGZyb20gJy4uL3ZpZXdzL2NhbGwtYWN0aXZpdHktc3ViLXByb2Nlc3MyL2NhbGwtYWN0aXZpdHktc3ViLXByb2Nlc3MyLmNvbXBvbmVudCc7XHJcbmltcG9ydCB7IENhbGxBY3Rpdml0eVN1YlByb2Nlc3NQcm9wZXJ0eUtleXMgfSBmcm9tICcuLi9kZXNpZ25lci93Zi1jZWxsL3Byb3BlcnR5LWtleXMvQ2FsbEFjdGl2aXR5U3ViUHJvY2Vzc1Byb3BlcnR5S2V5cyc7XHJcbmltcG9ydCB7IFdmTG9jYWxlUGlwZSB9IGZyb20gJy4uL2kxOG4vcGlwZS93Zi1wcm9jZXNzLWVkaXRvci1sb2NhbGUucGlwZSc7XHJcbmltcG9ydCB7IE11bHRpSW5zdGFuY2VMb29wQ2hhcmFjdGVyaXN0aWNzQ29tcG9uZW50LCBNdWx0aUluc3RhbmNlTG9vcENoYXJhY3RlcmlzdGljc0NvbnZlcnRlciB9IGZyb20gJy4uL3ZpZXdzL211bHRpLWluc3RhbmNlLWxvb3AtY2hhcmFjdGVyaXN0aWNzL211bHRpLWluc3RhbmNlLWxvb3AtY2hhcmFjdGVyaXN0aWNzLmNvbXBvbmVudCc7XHJcblxyXG5ASW5qZWN0YWJsZSgpXHJcblxyXG5leHBvcnQgY2xhc3MgU3ViUHJvY2Vzc1ZpZXdNb2RlbCB7XHJcbiAgICBjb25zdHJ1Y3RvcihcclxuICAgICAgICBwcml2YXRlIHVpU3RhdGU6IFByb2Nlc3NEZXNpZ25lclVJU3RhdGUsXHJcbiAgICAgICAgcHJpdmF0ZSBsb2NhbFBpcGU6IFdmTG9jYWxlUGlwZVxyXG4gICAgICAgICkge1xyXG4gICAgfVxyXG4gICAgc2V0UHJvcGVydHkob2JqOiBhbnkpIHtcclxuICAgICAgICB0aGlzLnVpU3RhdGUucHJvcGVydHlEYXRhID0gb2JqLnByb3BlcnR5RGF0YTtcclxuICAgICAgICB0aGlzLnVpU3RhdGUucHJvcGVydHlDb25maWcgPSB0aGlzLnNldENvbmZpZyhvYmoucHJvcGVydHlDb25maWcpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgc2V0Q29uZmlnKG9iajogYW55W10pOiBFbGVtZW50UHJvcGVydHlDb25maWdbXSB7XHJcbiAgICAgICAgY29uc3QgcHJvcGVydHlDb25maWc6IEVsZW1lbnRQcm9wZXJ0eUNvbmZpZ1tdID0gW107XHJcbiAgICAgICAgaWYgKG9iaikge1xyXG4gICAgICAgICAgICBvYmouZm9yRWFjaCgoZWxlbWVudDogRWxlbWVudFByb3BlcnR5Q29uZmlnKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldEVudGl0eShlbGVtZW50LnByb3BlcnRpZXMpO1xyXG4gICAgICAgICAgICAgICAgcHJvcGVydHlDb25maWcucHVzaChlbGVtZW50KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBwcm9wZXJ0eUNvbmZpZztcclxuICAgIH1cclxuICAgIHByaXZhdGUgc2V0RW50aXR5KG9iajogUHJvcGVydHlFbnRpdHlbXSkge1xyXG4gICAgICAgIGlmIChvYmogJiYgb2JqLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgb2JqLmZvckVhY2goKGl0ZW06IFByb3BlcnR5RW50aXR5KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKGl0ZW0ucHJvcGVydHlJRCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgQ2FsbEFjdGl2aXR5U3ViUHJvY2Vzc1Byb3BlcnR5S2V5cy5jYWxsQWN0aXZpdHlTdWJQcm9jZXNzOiAvLyDlj4LkuI7ogIVcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gaXRlbS5lZGl0b3IgPSBDYWxsQWN0aXZpdHlTdWJQcm9jZXNzQ29tcG9uZW50O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBpdGVtLmNvbnZlcnRlciA9IG5ldyBDYWxsQWN0aXZpdHlTdWJQcm9jZXNzQ29udmVydGVyKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0uZWRpdG9yID0gQ2FsbEFjdGl2aXR5U3ViUHJvY2VzczJDb21wb25lbnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0uY29udmVydGVyID0gbmV3IENhbGxBY3Rpdml0eVN1YlByb2Nlc3MyQ29udmVydGVyKHRoaXMubG9jYWxQaXBlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5lZGl0b3JQYXJhbXMgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBiaXpUeXBlSWQ6IHRoaXMudWlTdGF0ZS5mbG93Rm9ybUluZm8uZmxvd0Zvcm0uYnVzaW5lc3NPYmplY3RJZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBDYWxsQWN0aXZpdHlTdWJQcm9jZXNzUHJvcGVydHlLZXlzLkJhY2tXYXJkUnVsZTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5lZGl0b3IgPSBCYWNrd2FyZFJ1bGVDb21wb25lbnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0uY29udmVydGVyID0gbmV3IEJhY2t3YXJkUnVsZUNvbnZlcnRlcih0aGlzLmxvY2FsUGlwZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0uZWRpdG9yUGFyYW1zID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9kZVR5cGU6ICdDYWxsQWN0aXZpdHlTdWJQcm9jZXNzJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIENhbGxBY3Rpdml0eVN1YlByb2Nlc3NQcm9wZXJ0eUtleXMuTXVsdGlJbnN0YW5jZUxvb3BDaGFyYWN0ZXJpc3RpY3M6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtLmVkaXRvciA9IE11bHRpSW5zdGFuY2VMb29wQ2hhcmFjdGVyaXN0aWNzQ29tcG9uZW50O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5jb252ZXJ0ZXIgPSBuZXcgTXVsdGlJbnN0YW5jZUxvb3BDaGFyYWN0ZXJpc3RpY3NDb252ZXJ0ZXIodGhpcy5sb2NhbFBpcGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5lZGl0b3JQYXJhbXMgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYXRpb246ICdDYWxsQWN0aXZpdHlTdWJQcm9jZXNzJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgQ2FsbEFjdGl2aXR5U3ViUHJvY2Vzc1Byb3BlcnR5S2V5cy52YXJpYWJsZVNldHRpbmdzOiAvLyDlj5jph4/orr7nva5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5lZGl0b3IgPSBWYXJpYWJsZVNldHRpbmdDb21wb25lbnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0uY29udmVydGVyID0gbmV3IFZhcmlhYmxlU2V0dGluZ0NvbnZlcnRlcih0aGlzLmxvY2FsUGlwZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuIl19