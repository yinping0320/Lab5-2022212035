/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import * as tslib_1 from "tslib";
import { Injectable } from '@angular/core';
import { BpmnModelHelper } from '@edp-pmf/bpmn-model';
var ProcessDeUtil = /** @class */ (function () {
    function ProcessDeUtil() {
    }
    /**
     * @return {?}
     */
    ProcessDeUtil.GenerateElementId = /**
     * @return {?}
     */
    function () {
        return BpmnModelHelper.GenerateElementId();
    };
    /**
     * 创建内码
     */
    /**
     * 创建内码
     * @return {?}
     */
    ProcessDeUtil.createNM = /**
     * 创建内码
     * @return {?}
     */
    function () {
        /**
         * @return {?}
         */
        function S4() {
            return (((1 + Math.random()) * 0x10000) | 0).toString(16).substring(1);
        }
        return (S4() + S4() + '-' + S4() + '-' + S4() + '-' + S4() + '-' + S4() + S4() + S4());
    };
    /**
     * @param {?} value
     * @return {?}
     */
    ProcessDeUtil.initVariableType = /**
     * @param {?} value
     * @return {?}
     */
    function (value) {
        if (value) {
            if (value.length >= 8 && value.slice(0, 8) === "{\"expr\":") {
                return 'expression';
            }
            else {
                return 'constant';
            }
        }
        else {
            return 'variable';
        }
    };
    /**
     * @return {?}
     */
    ProcessDeUtil.prototype.getProcessDesignerRouter = /**
     * @return {?}
     */
    function () {
        /** @type {?} */
        var url = 'processList';
        return url;
    };
    // 获取流程分类webapi
    // 获取流程分类webapi
    /**
     * @return {?}
     */
    ProcessDeUtil.prototype.getFlowFormWebApi = 
    // 获取流程分类webapi
    /**
     * @return {?}
     */
    function () {
        return '/api/runtime/wf/v1.0/flowForm';
    };
    // 获取参数列表webapi
    // 获取参数列表webapi
    /**
     * @return {?}
     */
    ProcessDeUtil.prototype.getFormalParametersWebApi = 
    // 获取参数列表webapi
    /**
     * @return {?}
     */
    function () {
        return '/api/runtime/wf/v1.0/formalParameter';
    };
    // 获取运行时元数据webapi
    // 获取运行时元数据webapi
    /**
     * @return {?}
     */
    ProcessDeUtil.prototype.getMetaDataRUWebApi = 
    // 获取运行时元数据webapi
    /**
     * @return {?}
     */
    function () {
        return '/api/runtime/lcm/v1.0/rt-metadatas/';
    };
    // 获取流程构件webapi
    // 获取流程构件webapi
    /**
     * @return {?}
     */
    ProcessDeUtil.prototype.getBizComponentsWebApi = 
    // 获取流程构件webapi
    /**
     * @return {?}
     */
    function () {
        return '/api/runtime/wf/v1.0/bizComponent';
    };
    // 基于流程分类获取表单定义
    // 基于流程分类获取表单定义
    /**
     * @return {?}
     */
    ProcessDeUtil.prototype.getExcuteFormsWebApi = 
    // 基于流程分类获取表单定义
    /**
     * @return {?}
     */
    function () {
        return '/api/runtime/wf/v1.0/excuteForm';
    };
    // 获取设计时流程定义WebAPi
    // 获取设计时流程定义WebAPi
    /**
     * @return {?}
     */
    ProcessDeUtil.prototype.getProcessDefinitionWebApi = 
    // 获取设计时流程定义WebAPi
    /**
     * @return {?}
     */
    function () {
        return '/api/runtime/wf/v1.0/dtProcDefs';
    };
    // 判断是否允许删除流程定义的api
    // 判断是否允许删除流程定义的api
    /**
     * @return {?}
     */
    ProcessDeUtil.prototype.getCheckExistActiveProcDefApi = 
    // 判断是否允许删除流程定义的api
    /**
     * @return {?}
     */
    function () {
        return '/api/runtime/wf/v1.0/procDefs/checkExistActiveProcDef';
    };
    /**
     * 获取业务活动webApi
     */
    /**
     * 获取业务活动webApi
     * @param {?} ffId
     * @return {?}
     */
    ProcessDeUtil.prototype.getBizActivityWebApi = /**
     * 获取业务活动webApi
     * @param {?} ffId
     * @return {?}
     */
    function (ffId) {
        return "/api/runtime/wf/v1.0/bizActivity?flowFormKey=" + ffId;
    };
    /**
     * @return {?}
     */
    ProcessDeUtil.prototype.getProcDefKeyWebApi = /**
     * @return {?}
     */
    function () {
        return '/api/runtime/wf/v1.0/procDefs/processDefinitionKeys';
    };
    /**
     * 发布流程api
     */
    /**
     * 发布流程api
     * @return {?}
     */
    ProcessDeUtil.prototype.deployWebApi = /**
     * 发布流程api
     * @return {?}
     */
    function () {
        return '/api/runtime/wf/v1.0/procDefs/deploy';
    };
    /**
     * 保存流程api
     */
    /**
     * 保存流程api
     * @return {?}
     */
    ProcessDeUtil.prototype.saveWebApi = /**
     * 保存流程api
     * @return {?}
     */
    function () {
        return '/api/runtime/wf/v1.0/DTProcessDefinitions/SaveBpmnModel';
    };
    /**
     * 获取审批动作webapi
     */
    /**
     * 获取审批动作webapi
     * @return {?}
     */
    ProcessDeUtil.prototype.getApprovalActionWebApi = /**
     * 获取审批动作webapi
     * @return {?}
     */
    function () {
        return '/api/runtime/wf/v1.0/approvalAction';
    };
    /**
     * 获取运行时流程定义WebAPi
     */
    /**
     * 获取运行时流程定义WebAPi
     * @return {?}
     */
    ProcessDeUtil.prototype.getRTProcessDefinitionWebApi = /**
     * 获取运行时流程定义WebAPi
     * @return {?}
     */
    function () {
        return '/api/runtime/wf/v1.0/procDefs';
    };
    /**
     * @param {?} data
     * @param {?} code
     * @return {?}
     */
    ProcessDeUtil.prototype.getValue = /**
     * @param {?} data
     * @param {?} code
     * @return {?}
     */
    function (data, code) {
        if (!code) {
            return '';
        }
        /** @type {?} */
        var resultVal = '';
        if (code.indexOf('.') === -1) {
            resultVal = data[code];
        }
        else {
            resultVal = code.split('.').reduce((/**
             * @param {?} obj
             * @param {?} key
             * @return {?}
             */
            function (obj, key) {
                if (obj) {
                    return obj[key];
                }
                else {
                    return null;
                }
            }), data);
        }
        return resultVal;
    };
    /**
     * 转换
     * @param jsonObj Object
     */
    /**
     * 转换
     * @param {?} jsonObj Object
     * @return {?}
     */
    ProcessDeUtil.prototype.toUpperCase = /**
     * 转换
     * @param {?} jsonObj Object
     * @return {?}
     */
    function (jsonObj) {
        var e_1, _a;
        if (typeof (jsonObj) === 'object') {
            try {
                for (var _b = tslib_1.__values(Object.keys(jsonObj)), _c = _b.next(); !_c.done; _c = _b.next()) {
                    var key = _c.value;
                    jsonObj[key.substring(0, 1).toUpperCase() + key.substring(1)] = jsonObj[key];
                    delete (jsonObj[key]);
                }
            }
            catch (e_1_1) { e_1 = { error: e_1_1 }; }
            finally {
                try {
                    if (_c && !_c.done && (_a = _b.return)) _a.call(_b);
                }
                finally { if (e_1) throw e_1.error; }
            }
        }
        return jsonObj;
    };
    /**
     * @param {?} jsonObj
     * @return {?}
     */
    ProcessDeUtil.prototype.toLowCase = /**
     * @param {?} jsonObj
     * @return {?}
     */
    function (jsonObj) {
        var e_2, _a;
        if (typeof (jsonObj) === 'object') {
            try {
                for (var _b = tslib_1.__values(Object.keys(jsonObj)), _c = _b.next(); !_c.done; _c = _b.next()) {
                    var key = _c.value;
                    if ((key.substring(0, 1).toLowerCase() + key.substring(1)) !== key) {
                        jsonObj[key.substring(0, 1).toLowerCase() + key.substring(1)] = jsonObj[key];
                        delete (jsonObj[key]);
                    }
                }
            }
            catch (e_2_1) { e_2 = { error: e_2_1 }; }
            finally {
                try {
                    if (_c && !_c.done && (_a = _b.return)) _a.call(_b);
                }
                finally { if (e_2) throw e_2.error; }
            }
        }
        return jsonObj;
    };
    ProcessDeUtil.decorators = [
        { type: Injectable }
    ];
    /** @nocollapse */
    ProcessDeUtil.ctorParameters = function () { return []; };
    return ProcessDeUtil;
}());
export { ProcessDeUtil };
if (false) {
    /** @type {?} */
    ProcessDeUtil.prototype.funcId;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHJvY2Vzcy1kZS11dGlsLmpzIiwic291cmNlUm9vdCI6Im5nOi8vQGdzcC13Zi93Zi1wcm9jZXNzLWVkaXRvci8iLCJzb3VyY2VzIjpbImxpYi9kb21haW4vcHJvY2Vzcy1kZS11dGlsLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7O0FBQUEsT0FBTyxFQUFFLFVBQVUsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUMzQyxPQUFPLEVBQUUsZUFBZSxFQUFFLE1BQU0scUJBQXFCLENBQUM7QUFFdEQ7SUFLSTtJQUFnQixDQUFDOzs7O0lBRVYsK0JBQWlCOzs7SUFBeEI7UUFDRSxPQUFPLGVBQWUsQ0FBQyxpQkFBaUIsRUFBRSxDQUFDO0lBQzdDLENBQUM7SUFDRDs7T0FFRzs7Ozs7SUFDSSxzQkFBUTs7OztJQUFmOzs7O1FBQ0ksU0FBUyxFQUFFO1lBQ1AsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLE1BQU0sRUFBRSxDQUFDLEdBQUcsT0FBTyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUMzRSxDQUFDO1FBQ0QsT0FBTyxDQUFDLEVBQUUsRUFBRSxHQUFHLEVBQUUsRUFBRSxHQUFHLEdBQUcsR0FBRyxFQUFFLEVBQUUsR0FBRyxHQUFHLEdBQUcsRUFBRSxFQUFFLEdBQUcsR0FBRyxHQUFHLEVBQUUsRUFBRSxHQUFHLEdBQUcsR0FBRyxFQUFFLEVBQUUsR0FBRyxFQUFFLEVBQUUsR0FBRyxFQUFFLEVBQUUsQ0FBQyxDQUFDO0lBQzNGLENBQUM7Ozs7O0lBRU0sOEJBQWdCOzs7O0lBQXZCLFVBQXdCLEtBQUs7UUFDekIsSUFBSSxLQUFLLEVBQUU7WUFDUCxJQUFJLEtBQUssQ0FBQyxNQUFNLElBQUksQ0FBQyxJQUFJLEtBQUssQ0FBQyxLQUFLLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxLQUFLLFlBQVUsRUFBRTtnQkFDdkQsT0FBTyxZ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QUFDLENBQUMsV0FBVyxFQUFFLEdBQUcsR0FBRyxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLE9BQU8sQ0FBQyxHQUFHLENBQUMsQ0FBQztvQkFDN0UsT0FBTyxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO2lCQUN6Qjs7Ozs7Ozs7O1NBQ0o7UUFDRCxPQUFPLE9BQU8sQ0FBQztJQUNuQixDQUFDOzs7OztJQUNELGlDQUFTOzs7O0lBQVQsVUFBVSxPQUFlOztRQUNyQixJQUFJLE9BQU8sQ0FBQyxPQUFPLENBQUMsS0FBSyxRQUFRLEVBQUU7O2dCQUMvQixLQUFrQixJQUFBLEtBQUEsaUJBQUEsTUFBTSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQSxnQkFBQSw0QkFBRTtvQkFBbkMsSUFBTSxHQUFHLFdBQUE7b0JBQ1YsSUFBSSxDQUFDLEdBQUcsQ0FBQyxTQUFTLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLFdBQVcsRUFBRSxHQUFHLEdBQUcsQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxHQUFHLEVBQUU7d0JBQ2hFLE9BQU8sQ0FBQyxHQUFHLENBQUMsU0FBUyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxXQUFXLEVBQUUsR0FBRyxHQUFHLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsT0FBTyxDQUFDLEdBQUcsQ0FBQyxDQUFDO3dCQUM3RSxPQUFPLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7cUJBQ3pCO2lCQUNKOzs7Ozs7Ozs7U0FDSjtRQUNELE9BQU8sT0FBTyxDQUFDO0lBQ25CLENBQUM7O2dCQTlJSixVQUFVOzs7O0lBK0lYLG9CQUFDO0NBQUEsQUEvSUQsSUErSUM7U0E3SVksYUFBYTs7O0lBRXRCLCtCQUFzQiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEluamVjdGFibGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuaW1wb3J0IHsgQnBtbk1vZGVsSGVscGVyIH0gZnJvbSAnQGVkcC1wbWYvYnBtbi1tb2RlbCc7XHJcblxyXG5ASW5qZWN0YWJsZSgpXHJcblxyXG5leHBvcnQgY2xhc3MgUHJvY2Vzc0RlVXRpbCB7XHJcbiAgXHJcbiAgICBwdWJsaWMgZnVuY0lkOiBzdHJpbmc7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHsgfVxyXG5cclxuICAgIHN0YXRpYyBHZW5lcmF0ZUVsZW1lbnRJZCgpOiBzdHJpbmcge1xyXG4gICAgICByZXR1cm4gQnBtbk1vZGVsSGVscGVyLkdlbmVyYXRlRWxlbWVudElkKCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIOWIm+W7uuWGheeggVxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgY3JlYXRlTk0oKSB7XHJcbiAgICAgICAgZnVuY3Rpb24gUzQoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAoKCgxICsgTWF0aC5yYW5kb20oKSkgKiAweDEwMDAwKSB8IDApLnRvU3RyaW5nKDE2KS5zdWJzdHJpbmcoMSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiAoUzQoKSArIFM0KCkgKyAnLScgKyBTNCgpICsgJy0nICsgUzQoKSArICctJyArIFM0KCkgKyAnLScgKyBTNCgpICsgUzQoKSArIFM0KCkpO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBpbml0VmFyaWFibGVUeXBlKHZhbHVlKTogc3RyaW5nIHtcclxuICAgICAgICBpZiAodmFsdWUpIHtcclxuICAgICAgICAgICAgaWYgKHZhbHVlLmxlbmd0aCA+PSA4ICYmIHZhbHVlLnNsaWNlKDAsIDgpID09PSBge1wiZXhwclwiOmApIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAnZXhwcmVzc2lvbic7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gJ2NvbnN0YW50JztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiAndmFyaWFibGUnO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBnZXRQcm9jZXNzRGVzaWduZXJSb3V0ZXIoKSB7XHJcbiAgICAgICAgY29uc3QgdXJsID0gJ3Byb2Nlc3NMaXN0JztcclxuICAgICAgICByZXR1cm4gdXJsO1xyXG4gICAgfVxyXG4gICAgLy8g6I635Y+W5rWB56iL5YiG57G7d2ViYXBpXHJcbiAgICBnZXRGbG93Rm9ybVdlYkFwaSgpIHtcclxuICAgICAgICByZXR1cm4gJy9hcGkvcnVudGltZS93Zi92MS4wL2Zsb3dGb3JtJztcclxuICAgIH1cclxuICAgIC8vIOiOt+WPluWPguaVsOWIl+ihqHdlYmFwaVxyXG4gICAgZ2V0Rm9ybWFsUGFyYW1ldGVyc1dlYkFwaSgpIHtcclxuICAgICAgICByZXR1cm4gJy9hcGkvcnVudGltZS93Zi92MS4wL2Zvcm1hbFBhcmFtZXRlcic7XHJcbiAgICB9XHJcbiAgICAvLyDojrflj5bov5DooYzml7blhYPmlbDmja53ZWJhcGlcclxuICAgIGdldE1ldGFEYXRhUlVXZWJBcGkoKSB7XHJcbiAgICAgICAgcmV0dXJuICcvYXBpL3J1bnRpbWUvbGNtL3YxLjAvcnQtbWV0YWRhdGFzLyc7XHJcbiAgICB9XHJcbiAgICAvLyDojrflj5bmtYHnqIvmnoTku7Z3ZWJhcGlcclxuICAgIGdldEJpekNvbXBvbmVudHNXZWJBcGkoKSB7XHJcbiAgICAgICAgcmV0dXJuICcvYXBpL3J1bnRpbWUvd2YvdjEuMC9iaXpDb21wb25lbnQnO1xyXG4gICAgfVxyXG4gICAgLy8g5Z+65LqO5rWB56iL5YiG57G76I635Y+W6KGo5Y2V5a6a5LmJXHJcbiAgICBnZXRFeGN1dGVGb3Jtc1dlYkFwaSgpIHtcclxuICAgICAgICByZXR1cm4gJy9hcGkvcnVudGltZS93Zi92MS4wL2V4Y3V0ZUZvcm0nO1xyXG4gICAgfVxyXG4gICAgLy8g6I635Y+W6K6+6K6h5pe25rWB56iL5a6a5LmJV2ViQVBpXHJcbiAgICBnZXRQcm9jZXNzRGVmaW5pdGlvbldlYkFwaSgpIHtcclxuICAgICAgICByZXR1cm4gJy9hcGkvcnVudGltZS93Zi92MS4wL2R0UHJvY0RlZnMnO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIOWIpOaWreaYr+WQpuWFgeiuuOWIoOmZpOa1geeoi+WumuS5ieeahGFwaVxyXG4gICAgZ2V0Q2hlY2tFeGlzdEFjdGl2ZVByb2NEZWZBcGkoKSB7XHJcbiAgICAgICAgcmV0dXJuICcvYXBpL3J1bnRpbWUvd2YvdjEuMC9wcm9jRGVmcy9jaGVja0V4aXN0QWN0aXZlUHJvY0RlZic7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIOiOt+WPluS4muWKoea0u+WKqHdlYkFwaVxyXG4gICAgICovXHJcbiAgICBnZXRCaXpBY3Rpdml0eVdlYkFwaShmZklkOiBzdHJpbmcpIHtcclxuICAgICAgICByZXR1cm4gYC9hcGkvcnVudGltZS93Zi92MS4wL2JpekFjdGl2aXR5P2Zsb3dGb3JtS2V5PSR7ZmZJZH1gO1xyXG4gICAgfVxyXG5cclxuICAgIGdldFByb2NEZWZLZXlXZWJBcGkoKSB7XHJcbiAgICAgICAgcmV0dXJuICcvYXBpL3J1bnRpbWUvd2YvdjEuMC9wcm9jRGVmcy9wcm9jZXNzRGVmaW5pdGlvbktleXMnO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiDlj5HluIPmtYHnqIthcGlcclxuICAgICAqL1xyXG4gICAgZGVwbG95V2ViQXBpKCkge1xyXG4gICAgICAgIHJldHVybiAnL2FwaS9ydW50aW1lL3dmL3YxLjAvcHJvY0RlZnMvZGVwbG95JztcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICog5L+d5a2Y5rWB56iLYXBpXHJcbiAgICAgKi9cclxuICAgIHNhdmVXZWJBcGkoKSB7XHJcbiAgICAgICAgcmV0dXJuICcvYXBpL3J1bnRpbWUvd2YvdjEuMC9EVFByb2Nlc3NEZWZpbml0aW9ucy9TYXZlQnBtbk1vZGVsJztcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICog6I635Y+W5a6h5om55Yqo5L2cd2ViYXBpXHJcbiAgICAgKi9cclxuICAgIGdldEFwcHJvdmFsQWN0aW9uV2ViQXBpKCkge1xyXG4gICAgICAgIHJldHVybiAnL2FwaS9ydW50aW1lL3dmL3YxLjAvYXBwcm92YWxBY3Rpb24nO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog6I635Y+W6L+Q6KGM5pe25rWB56iL5a6a5LmJV2ViQVBpXHJcbiAgICAgKi9cclxuICAgIGdldFJUUHJvY2Vzc0RlZmluaXRpb25XZWJBcGkoKSB7XHJcbiAgICAgICAgcmV0dXJuICcvYXBpL3J1bnRpbWUvd2YvdjEuMC9wcm9jRGVmcyc7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0VmFsdWUoZGF0YTogYW55LCBjb2RlOiBzdHJpbmcpOiBzdHJpbmcge1xyXG4gICAgICAgIGlmICghY29kZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gJyc7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCByZXN1bHRWYWwgPSAnJztcclxuICAgICAgICBpZiAoY29kZS5pbmRleE9mKCcuJykgPT09IC0xKSB7XHJcbiAgICAgICAgICAgIHJlc3VsdFZhbCA9IGRhdGFbY29kZV07XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmVzdWx0VmFsID0gY29kZS5zcGxpdCgnLicpLnJlZHVjZSgob2JqLCBrZXkpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChvYmopIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gb2JqW2tleV07XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LCBkYXRhKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdFZhbDtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICog6L2s5o2iXHJcbiAgICAgKiBAcGFyYW0ganNvbk9iaiBPYmplY3RcclxuICAgICAqL1xyXG4gICAgdG9VcHBlckNhc2UoanNvbk9iajogT2JqZWN0KTogYW55IHtcclxuICAgICAgICBpZiAodHlwZW9mIChqc29uT2JqKSA9PT0gJ29iamVjdCcpIHtcclxuICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgb2YgT2JqZWN0LmtleXMoanNvbk9iaikpIHtcclxuICAgICAgICAgICAgICAgIGpzb25PYmpba2V5LnN1YnN0cmluZygwLCAxKS50b1VwcGVyQ2FzZSgpICsga2V5LnN1YnN0cmluZygxKV0gPSBqc29uT2JqW2tleV07XHJcbiAgICAgICAgICAgICAgICBkZWxldGUgKGpzb25PYmpba2V5XSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGpzb25PYmo7XHJcbiAgICB9XHJcbiAgICB0b0xvd0Nhc2UoanNvbk9iajogT2JqZWN0KTogYW55IHtcclxuICAgICAgICBpZiAodHlwZW9mIChqc29uT2JqKSA9PT0gJ29iamVjdCcpIHtcclxuICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgb2YgT2JqZWN0LmtleXMoanNvbk9iaikpIHtcclxuICAgICAgICAgICAgICAgIGlmICgoa2V5LnN1YnN0cmluZygwLCAxKS50b0xvd2VyQ2FzZSgpICsga2V5LnN1YnN0cmluZygxKSkgIT09IGtleSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGpzb25PYmpba2V5LnN1YnN0cmluZygwLCAxKS50b0xvd2VyQ2FzZSgpICsga2V5LnN1YnN0cmluZygxKV0gPSBqc29uT2JqW2tleV07XHJcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIChqc29uT2JqW2tleV0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBqc29uT2JqO1xyXG4gICAgfVxyXG59XHJcbiJdfQ==