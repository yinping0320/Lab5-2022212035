/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import * as tslib_1 from "tslib";
import { NodeCell, ElementPropertyConfig } from "@edp-pmf/grapheditor";
import { mxResources } from "@edp-pmf/mxgraph-ts";
import { BpmnModelHelper, Expression, FlowNodeState, MultiInstanceLoopCharacteristics } from "@edp-pmf/bpmn-model";
import { OtherAssignNodes, UserActivity, OperationActivity, StartActivity, UrgeHandleRule, ApprovalPivot, ApprovalPivotConfig, ImageSettings, CheckCondition, VariableSetting, CustomizeAction, TimeLimitControl, TitleExpression, JumpScope, BackWardRule, CounterSignRule, ParticipantSetting, AssignPerformerConfig, Component, ConclusionItem, ExecuteWorkItemMode, WorkFlowAction, DisplayTerminal, AssignmentStrategy, TimeLimitControlInfo, SendMessageExpireOperation, SendMessageExpireOperationInfo, AutoHandleExpireOperation, AutoHandleExpireOperationInfo, ExtendProperty, MessageNotice, ActionScope, Condition, ExecuteForm, PotentialOwnerImpl, HumanPerformerImpl, OrganizationParticipantExpression, VariableParticipantExpression, ComponentParticipantExpression, ReportingLineParticipantExpression, MatrixParticipantExpression, ParticipantExpression, ActivityExecutorParticipantExpression, UserParticipantExpression, PositionParticipantExpression, ActualParameter, SmsMessageTemplate, SmsMessageVariable, OtherAssignActivityNodeInfo, OrganizationLevel, SemanticExpression } from "@gsp-wf/wf-process-model";
import { PropertyHelper } from "./PropertyHelper";
import { AssignConfig } from "../entity/AssignConfig";
import { AssignStrategy } from "../entity/AssignStrategy";
import { OrganizationParticipant } from "../entity/OrganizationParticipant";
import { WfConstants } from "../WfConstants";
import { UserActivityPropertyKeys } from "./property-keys/UserActivityPropertyKeys";
import { WfDesignerUtils } from "../WfDesignerUtils";
import { ActionOrganizationScopeDesign, OrganizationPotentialOwner } from "../../views/organization-potential-owner/actionOrganizationScope";
// import { ParticipantInfo } from "../../views/participant/participant.info";
import { ParticipantInfo } from "../entity";
/**
 * 审批活动节点
 */
var UserActivityCell = /** @class */ (function (_super) {
    tslib_1.__extends(UserActivityCell, _super);
    function UserActivityCell(value, geometry, style) {
        var _a;
        var _this = _super.call(this, value, geometry, style) || this;
        _this.clrTypeId = UserActivityCell.CLR_TYPE_ID;
        _this.name = "审批";
        _this.nameLanguage = {
            "zh-CHS": "审批",
            "zh-CHT": "審批",
            "en": "Approve",
        };
        _this.imgUrls = (_a = {},
            _a[FlowNodeState.Default] = WfConstants.IMAGE_PATH + "/approval.png",
            _a[FlowNodeState.Selected] = WfConstants.IMAGE_PATH + "/approval_select.svg",
            _a);
        return _this;
    }
    /**
     * @param {?=} flowElt
     * @return {?}
     */
    UserActivityCell.prototype.createFlowElement = /**
     * @param {?=} flowElt
     * @return {?}
     */
    function (flowElt) {
        var e_1, _a, e_2, _b;
        /** @type {?} */
        var flowNode = (/** @type {?} */ (_super.prototype.createFlowElement.call(this, flowElt)));
        /** @type {?} */
        var editorUi = this.editorUi;
        /** @type {?} */
        var bpmnModel = editorUi.graph.bpmnModel;
        flowNode.Id = "UserActivity" + BpmnModelHelper.GenerateElementId();
        // 创建而非复制时执行
        if (flowElt == null) {
            flowNode.transferAble = editorUi.generalConfig.enableTransfer;
            flowNode.AddSignBehindAble = editorUi.generalConfig.enableAddSignBehind;
            flowNode.AddSignFrontAble = editorUi.generalConfig.enableAddSignFront;
            flowNode.NotifyAble = editorUi.generalConfig.enableNotify;
            if (this.bizActivity) {
                /** @type {?} */
                var bizActivity = this.bizActivity;
                flowNode.BizActivityID = bizActivity.id;
                flowNode.BizActivityName = bizActivity.name;
                flowNode.Tools = [];
                try {
                    for (var _c = tslib_1.__values(bizActivity.bizComponents), _d = _c.next(); !_d.done; _d = _c.next()) {
                        var c = _d.value;
                        /** @type {?} */
                        var tool = new Component(flowNode.Model);
                        tool.Id = c.id;
                        tool.Name = c.name;
                        tool.Time = c.executionTime;
                        // TODO 写死了构件类型
                        tool.ComponentType = 'CommonComponent';
                        tool.MetadataId = c.metadataId;
                        tool.MethodCode = c.methodCode;
                        tool.ActualParameters = [];
                        if (c.actualParameters && ((/** @type {?} */ (c.actualParameters))).length > 0) {
                            try {
                                for (var _e = tslib_1.__values(((/** @type {?} */ (c.actualParameters)))), _f = _e.next(); !_f.done; _f = _e.next()) {
                                    var a = _f.value;
                                    /** @type {?} */
                                    var parameter = new ActualParameter(bpmnModel, a.code, a.value);
                                    tool.ActualParameters.push(parameter);
                                }
                            }
                            catch (e_2_1) { e_2 = { error: e_2_1 }; }
                            finally {
                                try {
                                    if (_f && !_f.done && (_b = _e.return)) _b.call(_e);
                                }
                                finally { if (e_2) throw e_2.error; }
                            }
                        }
                        flowNode.Tools.push(tool);
                    }
                }
                catch (e_1_1) { e_1 = { error: e_1_1 }; }
                finally {
                    try {
                        if (_d && !_d.done && (_a = _c.return)) _a.call(_c);
                    }
                    finally { if (e_1) throw e_1.error; }
                }
                flowNode.setBizConclusions(bpmnModel, bizActivity.bizActions);
            }
            else {
                flowNode.BizActivityID = "";
                flowNode.initConclusions(bpmnModel);
            }
        }
        return flowNode;
    };
    /**
     * @return {?}
     */
    UserActivityCell.prototype.createDiagramElement = /**
     * @return {?}
     */
    function () {
        var _a;
        if (this.bizActivity != null) {
            this.imgUrls = (_a = {},
                _a[FlowNodeState.Default] = WfConstants.IMAGE_PATH + "/bizActivity.png",
                _a[FlowNodeState.Selected] = WfConstants.IMAGE_PATH + "/bizActivity_select.svg",
                _a);
        }
        /** @type {?} */
        var shape = _super.prototype.createDiagramElement.call(this);
        return shape;
    };
    /**
     * @return {?}
     */
    UserActivityCell.prototype.getFarrisPropConfig = /**
     * @return {?}
     */
    function () {
        return this.getFarrisPropConfigByIsOperation();
    };
    /**
     * @param {?=} isOperation
     * @return {?}
     */
    UserActivityCell.prototype.getFarrisPropConfigByIsOperation = /**
     * @param {?=} isOperation
     * @return {?}
     */
    function (isOperation) {
        if (isOperation === void 0) { isOperation = false; }
        var e_3, _a, e_4, _b, e_5, _c;
        /** @type {?} */
        var editorUi = this.editorUi;
        /** @type {?} */
        var extendList = [];
        if (editorUi.procExtProps && editorUi.procExtProps.length > 0) {
            extendList = JSON.parse(JSON.stringify(editorUi.procExtProps)).sort((/**
             * @param {?} a
             * @param {?} b
             * @return {?}
             */
            function (a, b) {
                return a.sortOrder - b.sortOrder;
            }));
        }
        extendList = extendList.sort((/**
         * @param {?} a
         * @param {?} b
         * @return {?}
         */
        function (a, b) {
            return a.sortOrder - b.sortOrder;
        }));
        /** @type {?} */
        var userAct = this.flowElement;
        /** @type {?} */
        var basicProperty = new ElementPropertyConfig();
        /** @type {?} */
        var propertyData = {};
        basicProperty.categoryId = 'basicProperty';
        basicProperty.categoryName = mxResources.get('basicInformation');
        basicProperty.tabId = 'basic';
        basicProperty.tabName = mxResources.get('basicAttributes');
        basicProperty.properties = [
            { propertyID: UserActivityPropertyKeys.Name, propertyName: mxResources.get('name'), propertyType: 'string', visible: !this.editorUi.multiLangEnabled },
            { propertyID: UserActivityPropertyKeys.NameLanguage, propertyName: mxResources.get('nameLanguage'), propertyType: 'multiLanguage', visible: this.editorUi.multiLangEnabled },
            { propertyID: UserActivityPropertyKeys.Id, propertyName: mxResources.get('id'), propertyType: 'string', readonly: true },
            { propertyID: UserActivityPropertyKeys.wf_TitleExpression, propertyName: mxResources.get('wfTitleExpression'), propertyType: 'modal' },
        ];
        /** @type {?} */
        var performerProperty = new ElementPropertyConfig();
        performerProperty.categoryId = 'performerProperty';
        performerProperty.categoryName = mxResources.get('participant');
        performerProperty.tabId = 'basic';
        performerProperty.tabName = mxResources.get('basicAttributes');
        performerProperty.properties = [
            { propertyID: UserActivityPropertyKeys.ParticipantSchemes, propertyName: mxResources.get('participantSchemes'), propertyType: 'modal' },
            { propertyID: UserActivityPropertyKeys.ParticipantOptions, propertyName: mxResources.get('participantOptions'), propertyType: 'modal' },
        ];
        // if (userAct.AssignmentStrategy !== AssignmentStrategy.ASSIGN) {
        //     performerProperty.properties.push(
        //         { propertyID: UserActivityPropertyKeys.AssignStrategy, propertyName: '分配策略', propertyType: 'modal' }
        //     );
        // } else {
        //     performerProperty.properties = performerProperty.properties.concat(
        //         [{ propertyID: UserActivityPropertyKeys.AssignStrategy, propertyName: '分配策略', propertyType: 'modal' },
        //         { propertyID: UserActivityPropertyKeys.AssignPerformer, propertyName: '备选办理人', propertyType: 'modal' }]);
        // }
        if (!isOperation) {
            if (userAct.ExecuteWorkItemMode === ExecuteWorkItemMode.Preempt) {
                performerProperty.properties.push({ propertyID: UserActivityPropertyKeys.CompleteStrategy, propertyName: mxResources.get('completeStrategy'), propertyType: 'select' });
                propertyData[UserActivityPropertyKeys.CompleteStrategy] = userAct.ExecuteWorkItemMode;
            }
            else {
                performerProperty.properties = performerProperty.properties.concat([
                    { propertyID: UserActivityPropertyKeys.CompleteStrategy, propertyName: mxResources.get('completeStrategy'), propertyType: 'select' },
                    { propertyID: UserActivityPropertyKeys.SignRule, propertyName: mxResources.get('signRule'), propertyType: 'modal' },
                ]);
                propertyData[UserActivityPropertyKeys.CompleteStrategy] = userAct.ExecuteWorkItemMode;
                propertyData[UserActivityPropertyKeys.SignRule] = userAct.CounterSignRules;
            }
        }
        /** @type {?} */
        var approvalProperty = new ElementPropertyConfig();
        approvalProperty.categoryId = 'approvalProperty';
        approvalProperty.categoryName = mxResources.get('operationsManage');
        approvalProperty.tabId = 'approvalProperty';
        approvalProperty.tabName = mxResources.get('operationsConfig');
        approvalProperty.properties = [
            { propertyID: UserActivityPropertyKeys.ApprovalItems, propertyName: mxResources.get('approvalItems'), propertyType: 'modal' },
            { propertyID: UserActivityPropertyKeys.wf_CustomizeAction, propertyName: mxResources.get('wfCustomizeAction'), propertyType: 'modal' },
        ];
        // 审批活动节点含“驳回”审批动作时，属性框支持驳回规则属性
        if (userAct.Conclusions && this.isBackConclusionExist(userAct.Conclusions)) {
            approvalProperty.properties.push({ propertyID: UserActivityPropertyKeys.BackWardRule, propertyName: mxResources.get('backWardRule'), propertyType: 'modal' });
            propertyData[UserActivityPropertyKeys.BackWardRule] = userAct.BackWardRule;
        }
        approvalProperty.properties = approvalProperty.properties.concat([
            { propertyID: UserActivityPropertyKeys.Retrievable, propertyName: mxResources.get('retrievable'), propertyType: 'select' },
        ]);
        if (!isOperation) {
            approvalProperty.properties = approvalProperty.properties.concat([
                { propertyID: UserActivityPropertyKeys.AddSignFrontAble, propertyName: mxResources.get('addSignFrontAble'), propertyType: 'modal' },
                { propertyID: UserActivityPropertyKeys.AddSignBehindAble, propertyName: mxResources.get('addSignBehindAble'), propertyType: 'modal' },
            ]);
        }
        if (editorUi.generalConfig.enableTransfer) {
            approvalProperty.properties = approvalProperty.properties.concat([
                { propertyID: UserActivityPropertyKeys.transferScope, propertyName: mxResources.get('transferScope'), propertyType: 'modal' },
            ]);
        }
        approvalProperty.properties = approvalProperty.properties.concat([
            { propertyID: UserActivityPropertyKeys.NotifyAble, propertyName: mxResources.get('notifyAble'), propertyType: 'modal' },
            { propertyID: UserActivityPropertyKeys.urgeHandleRule, propertyName: mxResources.get('urgeHandleRule'), propertyType: 'modal' }
        ]);
        if (userAct.SelectTargetAble) {
            approvalProperty.properties = approvalProperty.properties.concat([
                { propertyID: UserActivityPropertyKeys.SelectTargetAble, propertyName: mxResources.get('selectTargetAble'), propertyType: 'select' },
                { propertyID: UserActivityPropertyKeys.JumpScope, propertyName: mxResources.get('jumpScope'), propertyType: 'modal' },
            ]);
            propertyData[UserActivityPropertyKeys.SelectTargetAble] = userAct.SelectTargetAble;
            propertyData[UserActivityPropertyKeys.JumpScope] = userAct.JumpScope;
        }
        else {
            approvalProperty.properties = approvalProperty.properties.concat([
                { propertyID: UserActivityPropertyKeys.SelectTargetAble, propertyName: mxResources.get('selectTargetAble'), propertyType: 'select' },
            ]);
            propertyData[UserActivityPropertyKeys.SelectTargetAble] = userAct.SelectTargetAble;
        }
        if (userAct.otherAssignNodes) {
            approvalProperty.properties = approvalProperty.properties.concat([
                { propertyID: UserActivityPropertyKeys.otherAssignNodes, propertyName: mxResources.get('otherAssignNodes'), propertyType: 'select' },
                // { propertyID: UserActivityPropertyKeys.otherAssignActivities, propertyName: mxResources.get('otherAssignActivities'), propertyType: 'modal' },
                { propertyID: UserActivityPropertyKeys.otherAssignActivityNodeInfos, propertyName: mxResources.get('otherAssignActivityNodeInfos'), propertyType: 'modal' },
            ]);
            propertyData[UserActivityPropertyKeys.otherAssignNodes] = true;
            // propertyData[UserActivityPropertyKeys.otherAssignActivities] = userAct.otherAssignNodes.otherAssignActivities;
            propertyData[UserActivityPropertyKeys.otherAssignActivityNodeInfos] = userAct.otherAssignNodes.otherAssignActivityNodeInfos || userAct.otherAssignNodes.otherAssignActivityNodeInfos;
            if (userAct.otherAssignNodes.otherAssignActivities) {
                userAct.otherAssignNodes.otherAssignActivities = null;
            }
        }
        else {
            approvalProperty.properties = approvalProperty.properties.concat([
                { propertyID: UserActivityPropertyKeys.otherAssignNodes, propertyName: mxResources.get('otherAssignNodes'), propertyType: 'select' }
            ]);
            propertyData[UserActivityPropertyKeys.otherAssignNodes] = false;
        }
        /** @type {?} */
        var eventListeners = new ElementPropertyConfig();
        eventListeners.categoryId = 'eventListeners'; // 活动选项（表单定义+活动构件）
        eventListeners.categoryName = mxResources.get('eventListeners');
        eventListeners.tabId = 'advanced';
        eventListeners.tabName = mxResources.get('advancedAttributes');
        eventListeners.properties = [
            { propertyID: UserActivityPropertyKeys.Tools, propertyName: mxResources.get('tools'), propertyType: 'modal' },
            { propertyID: UserActivityPropertyKeys.checkConditions, propertyName: mxResources.get('checkConditions'), propertyType: 'modal' },
            { propertyID: UserActivityPropertyKeys.variableSettings, propertyName: mxResources.get('variableSettings'), propertyType: 'modal' }
        ];
        /** @type {?} */
        var ApprovalSettings = new ElementPropertyConfig();
        ApprovalSettings.categoryId = 'ApprovalSettings'; // 活动选项（表单定义+活动构件）
        ApprovalSettings.categoryName = mxResources.get('approvalSettings');
        ApprovalSettings.tabId = 'advanced';
        ApprovalSettings.tabName = mxResources.get('advancedAttributes');
        ApprovalSettings.properties = [
            { propertyID: UserActivityPropertyKeys.anonymousSet, propertyName: mxResources.get('anonymousSet'), propertyType: 'modal' },
            { propertyID: UserActivityPropertyKeys.approvalPivotConfig, propertyName: mxResources.get('approvalPivotConfig'), propertyType: 'modal' },
            { propertyID: UserActivityPropertyKeys.imageSettings, propertyName: mxResources.get('imageSettings'), propertyType: 'modal' },
            { propertyID: UserActivityPropertyKeys.MultiInstanceLoopCharacteristics, propertyName: mxResources.get('multiInstanceLoopCharacteristics'), propertyType: 'modal' }
        ];
        propertyData[UserActivityPropertyKeys.MultiInstanceLoopCharacteristics] = userAct.LoopCharacteristics;
        /** @type {?} */
        var taskTimeliness = new ElementPropertyConfig();
        taskTimeliness.categoryId = 'taskTimeliness'; // 活动选项（表单定义+活动构件）
        taskTimeliness.categoryName = mxResources.get('taskTimeliness');
        taskTimeliness.tabId = 'advanced';
        taskTimeliness.tabName = mxResources.get('advancedAttributes');
        taskTimeliness.properties = [
            { propertyID: UserActivityPropertyKeys.timeLimitControl, propertyName: mxResources.get('timeLimitControl'), propertyType: 'modal' },
            { propertyID: UserActivityPropertyKeys.messageNotice, propertyName: mxResources.get('messageNotice'), propertyType: 'modal' },
        ];
        /** @type {?} */
        var formDef = new ElementPropertyConfig();
        formDef.categoryId = 'formDef';
        formDef.categoryName = mxResources.get('formDef');
        formDef.tabId = 'basic';
        formDef.tabName = mxResources.get('basicAttributes');
        formDef.properties = [
            { propertyID: UserActivityPropertyKeys.DisplayTerminal, propertyName: mxResources.get('displayTerminal'), propertyType: 'select' },
            { propertyID: UserActivityPropertyKeys.wf_ExecuteForms_PC, propertyName: mxResources.get('pcForm'), propertyType: 'modal' },
            { propertyID: UserActivityPropertyKeys.wf_ExecuteForms_Mobile, propertyName: mxResources.get('webForm'), propertyType: 'modal' },
        ];
        // 扩展属性分group处理，每个group包含父级属性和属于它的子扩展属性
        /** @type {?} */
        var groupList = new Array();
        try {
            for (var extendList_1 = tslib_1.__values(extendList), extendList_1_1 = extendList_1.next(); !extendList_1_1.done; extendList_1_1 = extendList_1.next()) {
                var extend = extendList_1_1.value;
                if (!extend.parentId) {
                    /** @type {?} */
                    var group = { parent: extend, childs: new Array() };
                    try {
                        for (var extendList_2 = tslib_1.__values(extendList), extendList_2_1 = extendList_2.next(); !extendList_2_1.done; extendList_2_1 = extendList_2.next()) {
                            var e = extendList_2_1.value;
                            if (e.parentId === extend.id) {
                                group.childs.push(e);
                            }
                        }
                    }
                    catch (e_4_1) { e_4 = { error: e_4_1 }; }
                    finally {
                        try {
                            if (extendList_2_1 && !extendList_2_1.done && (_b = extendList_2.return)) _b.call(extendList_2);
                        }
                        finally { if (e_4) throw e_4.error; }
                    }
                    groupList.push(group);
                }
            }
        }
        catch (e_3_1) { e_3 = { error: e_3_1 }; }
        finally {
            try {
                if (extendList_1_1 && !extendList_1_1.done && (_a = extendList_1.return)) _a.call(extendList_1);
            }
            finally { if (e_3) throw e_3.error; }
        }
        // 没有扩展属性值的时候不显示扩展属性一栏
        if (groupList && groupList.length > 0) {
            /** @type {?} */
            var ExtendPropertyConfig = new ElementPropertyConfig();
            ExtendPropertyConfig.categoryId = 'extendPropertyConfig';
            ExtendPropertyConfig.categoryName = mxResources.get('extendPropertyConfig');
            ExtendPropertyConfig.tabId = 'advanced';
            ExtendPropertyConfig.tabName = mxResources.get('advancedAttributes');
            ExtendPropertyConfig.properties = new Array();
            try {
                for (var groupList_1 = tslib_1.__values(groupList), groupList_1_1 = groupList_1.next(); !groupList_1_1.done; groupList_1_1 = groupList_1.next()) {
                    var g = groupList_1_1.value;
                    ExtendPropertyConfig.properties.push({ propertyID: g.parent.id, propertyName: g.parent.propertyTitle, propertyType: 'modal' });
                }
            }
            catch (e_5_1) { e_5 = { error: e_5_1 }; }
            finally {
                try {
                    if (groupList_1_1 && !groupList_1_1.done && (_c = groupList_1.return)) _c.call(groupList_1);
                }
                finally { if (e_5) throw e_5.error; }
            }
            this.setPropertyData(userAct, propertyData, groupList);
            return {
                propertyConfig: [basicProperty, performerProperty, formDef, approvalProperty, eventListeners, taskTimeliness, ApprovalSettings, ExtendPropertyConfig],
                propertyData: propertyData
            };
        }
        else {
            this.setPropertyData(userAct, propertyData, groupList);
            return {
                propertyConfig: [basicProperty, performerProperty, formDef, approvalProperty, eventListeners, taskTimeliness, ApprovalSettings],
                propertyData: propertyData
            };
        }
    };
    /**
     * 判断是否存在反向流程动作
     * @param conclusions
     */
    /**
     * 判断是否存在反向流程动作
     * @param {?} conclusions
     * @return {?}
     */
    UserActivityCell.prototype.isBackConclusionExist = /**
     * 判断是否存在反向流程动作
     * @param {?} conclusions
     * @return {?}
     */
    function (conclusions) {
        var e_6, _a;
        try {
            for (var conclusions_1 = tslib_1.__values(conclusions), conclusions_1_1 = conclusions_1.next(); !conclusions_1_1.done; conclusions_1_1 = conclusions_1.next()) {
                var conclusion = conclusions_1_1.value;
                if (conclusion.WorkFlowAction === WorkFlowAction.Backward) {
                    return true;
                }
            }
        }
        catch (e_6_1) { e_6 = { error: e_6_1 }; }
        finally {
            try {
                if (conclusions_1_1 && !conclusions_1_1.done && (_a = conclusions_1.return)) _a.call(conclusions_1);
            }
            finally { if (e_6) throw e_6.error; }
        }
        return false;
    };
    /**
     * 组织UserActivity的属性值propertyData
     * @param act
     * @param propertyData
     */
    /**
     * 组织UserActivity的属性值propertyData
     * @param {?} act
     * @param {?} propertyData
     * @param {?} groupList
     * @return {?}
     */
    UserActivityCell.prototype.setPropertyData = /**
     * 组织UserActivity的属性值propertyData
     * @param {?} act
     * @param {?} propertyData
     * @param {?} groupList
     * @return {?}
     */
    function (act, propertyData, groupList) {
        var e_7, _a;
        propertyData[UserActivityPropertyKeys.Id] = act.Id;
        propertyData[UserActivityPropertyKeys.ClrTypeID] = act.ClrTypeID;
        propertyData[UserActivityPropertyKeys.Name] = act.Name;
        propertyData[UserActivityPropertyKeys.NameLanguage] = act.NameLanguage || {
            "zh-CHS": act.Name,
        };
        //活动传递bizActivityId
        propertyData[UserActivityPropertyKeys.BizActivityID] = act.BizActivityID;
        // 变量设置+流程变量
        propertyData[UserActivityPropertyKeys.variableSettings] = PropertyHelper.getVariableSettings(act.Model, act.variableSettings);
        propertyData[UserActivityPropertyKeys.ParticipantSchemes] = this.getParticipantInfo(act);
        propertyData[UserActivityPropertyKeys.ParticipantOptions] = this.getParticipantOptions(act);
        // if (userAct.AssignmentStrategy === AssignmentStrategy.ASSIGN) {
        //     propertyData[UserActivityPropertyKeys.AssignPerformer] = this.getPotentialOwnerImpl(userAct);
        // }
        propertyData[UserActivityPropertyKeys.ApprovalItems] = act.Conclusions;
        propertyData[UserActivityPropertyKeys.Tools] = PropertyHelper.getBizComponentList((/** @type {?} */ (act.Tools)));
        propertyData[UserActivityPropertyKeys.wf_CustomizeAction] = act.customizeActions || [];
        propertyData[UserActivityPropertyKeys.AssignStrategy] = this.getAssignStrategy(act);
        propertyData[UserActivityPropertyKeys.Retrievable] = act.Retrievable;
        propertyData[UserActivityPropertyKeys.SelectBranch] = act.SelectBranch;
        propertyData[UserActivityPropertyKeys.AddSignFrontAble] = this.getSignFrontInfo(act);
        propertyData[UserActivityPropertyKeys.AddSignBehindAble] = this.getSignBehindInfo(act);
        propertyData[UserActivityPropertyKeys.transferScope] = this.getTransferScopeInfo(act);
        propertyData[UserActivityPropertyKeys.NotifyAble] = this.getNotifyAble(act);
        propertyData[UserActivityPropertyKeys.timeLimitControl] = this.getTimeLimitInfo(act);
        propertyData[UserActivityPropertyKeys.wf_TitleExpression] = act.taskTitle ? (act.taskTitle.valueLanguage ? act.taskTitle.valueLanguage : act.taskTitle.value) : '';
        propertyData[UserActivityPropertyKeys.anonymousSet] = {
            isAnonymity: act.anonymous,
            anonymous: act.anonymousText
        };
        propertyData[UserActivityPropertyKeys.messageNotice] = PropertyHelper.getMessageNotices(act.messageNotices);
        // 影像设置
        propertyData[UserActivityPropertyKeys.imageSettings] = act.imageSettings;
        propertyData[UserActivityPropertyKeys.wf_ExecuteForms_PC] =
            act.ExecuteForms ? act.ExecuteForms.find((/**
             * @param {?} e
             * @return {?}
             */
            function (e) { return e.TerminalType === 'PC'; })) : null;
        propertyData[UserActivityPropertyKeys.wf_ExecuteForms_Mobile] =
            act.ExecuteForms ? act.ExecuteForms.find((/**
             * @param {?} e
             * @return {?}
             */
            function (e) { return e.TerminalType === 'MOBILE'; })) : null;
        propertyData[UserActivityPropertyKeys.approvalPivotConfig] = act.approvalPivotConfig;
        propertyData[UserActivityPropertyKeys.DisplayTerminal] = act.DisplayTerminal ? act.DisplayTerminal : DisplayTerminal.ALL;
        propertyData[UserActivityPropertyKeys.urgeHandleRule] = this.getUrgeHandleRule(act);
        try {
            for (var groupList_2 = tslib_1.__values(groupList), groupList_2_1 = groupList_2.next(); !groupList_2_1.done; groupList_2_1 = groupList_2.next()) {
                var g = groupList_2_1.value;
                // 取回模型上的value值给到扩展属性组件里
                if (act.extendProperties && act.extendProperties.length > 0) {
                    g.childs.sort((/**
                     * @param {?} a
                     * @param {?} b
                     * @return {?}
                     */
                    function (a, b) {
                        return a.sortOrder - b.sortOrder;
                    })).forEach((/**
                     * @param {?} d
                     * @return {?}
                     */
                    function (d) {
                        act.extendProperties.forEach((/**
                         * @param {?} e
                         * @return {?}
                         */
                        function (e) {
                            if (e.key == d.code) {
                                d.value = e.value;
                            }
                        }));
                    }));
                }
                propertyData[g.parent.id] = g.childs;
            }
        }
        catch (e_7_1) { e_7 = { error: e_7_1 }; }
        finally {
            try {
                if (groupList_2_1 && !groupList_2_1.done && (_a = groupList_2.return)) _a.call(groupList_2);
            }
            finally { if (e_7) throw e_7.error; }
        }
        propertyData[UserActivityPropertyKeys.checkConditions] = this.getCheckConditions(act);
    };
    /**
     * @param {?} userActivity
     * @return {?}
     */
    UserActivityCell.prototype.getParticipantInfo = /**
     * @param {?} userActivity
     * @return {?}
     */
    function (userActivity) {
        /** @type {?} */
        var partiInfo = new ParticipantInfo();
        partiInfo.assignStrategy.assignStrategy = userActivity.AssignmentStrategy;
        /** @type {?} */
        var roles = (/** @type {?} */ (userActivity.GetResourceRoles().filter((/**
         * @param {?} role
         * @return {?}
         */
        function (role) { return role instanceof HumanPerformerImpl; }))));
        partiInfo.humanPerformerList = PropertyHelper.getPerformerList(roles);
        if (userActivity.AssignmentStrategy === AssignmentStrategy.ASSIGN) {
            if (userActivity.AssignPerformerConfig) {
                /** @type {?} */
                var assignConfig = new AssignConfig();
                assignConfig.operator = userActivity.AssignPerformerConfig.Operator;
                assignConfig.multiSelect = userActivity.AssignPerformerConfig.MultiSelect;
                assignConfig.necessary = userActivity.AssignPerformerConfig.Necessary;
                partiInfo.assignStrategy.assignConfig = assignConfig;
                partiInfo.isAllScope = userActivity.AssignPerformerConfig.AllowGlobalAssign;
            }
            /** @type {?} */
            var roles_1 = (/** @type {?} */ (userActivity.GetResourceRoles().filter((/**
             * @param {?} role
             * @return {?}
             */
            function (role) { return role instanceof PotentialOwnerImpl; }))));
            partiInfo.potentialOwnerList = PropertyHelper.getPerformerList(roles_1);
        }
        return partiInfo;
    };
    /**
     * @param {?} userActivity
     * @return {?}
     */
    UserActivityCell.prototype.getParticipantOptions = /**
     * @param {?} userActivity
     * @return {?}
     */
    function (userActivity) {
        /** @type {?} */
        var options = {};
        if (userActivity.ParticipantSetting != null) {
            options.ExclusionPerformers = userActivity.ParticipantSetting.ExclusionPerformers;
            options.NoPerformerStrategy = userActivity.ParticipantSetting.NoPerformerStrategy;
            options.HistoricFirst = userActivity.ParticipantSetting.HistoricFirst;
            options.automaticPerformers = userActivity.ParticipantSetting.automaticPerformers;
        }
        return options;
    };
    /**
     * @param {?} userActivity
     * @return {?}
     */
    UserActivityCell.prototype.getAssignStrategy = /**
     * @param {?} userActivity
     * @return {?}
     */
    function (userActivity) {
        /** @type {?} */
        var assignStrategy = new AssignStrategy();
        assignStrategy.assignStrategy = userActivity.AssignmentStrategy;
        if (userActivity.AssignPerformerConfig) {
            /** @type {?} */
            var assignConfig = new AssignConfig();
            assignConfig.operator = userActivity.AssignPerformerConfig.Operator;
            assignConfig.multiSelect = userActivity.AssignPerformerConfig.MultiSelect;
            assignConfig.necessary = userActivity.AssignPerformerConfig.Necessary;
            assignStrategy.assignConfig = assignConfig;
        }
        return assignStrategy;
    };
    /**
     * @param {?} userActivity
     * @return {?}
     */
    UserActivityCell.prototype.getSignFrontInfo = /**
     * @param {?} userActivity
     * @return {?}
     */
    function (userActivity) {
        /** @type {?} */
        var signFrontTest = new ActionOrganizationScopeDesign();
        signFrontTest.action = (/** @type {?} */ (ActionScope.AddSignFront));
        if (userActivity.AddSignFrontAble) {
            signFrontTest.enable = true;
            /** @type {?} */
            var roles = userActivity.dynamicParticipants.filter((/**
             * @param {?} r
             * @return {?}
             */
            function (r) { return r.actionScope === ActionScope.AddSignFront; }));
            /** @type {?} */
            var res = roles.find((/**
             * @param {?} r
             * @return {?}
             */
            function (r) { return ((/** @type {?} */ (r))).organizationLevel && !((/** @type {?} */ (r))).order; }));
            /** @type {?} */
            var list = [];
            if (res) {
                /** @type {?} */
                var organization = new OrganizationParticipant;
                organization.id = res.id;
                organization.type = res.ClrTypeID;
                organization.name = res.name;
                organization.actionScope = (/** @type {?} */ (res.actionScope));
                organization.organizationLevel = ((/** @type {?} */ (res))).organizationLevel;
                organization.organizationId = ((/** @type {?} */ (res))).organizationId;
                organization.organizationCode = ((/** @type {?} */ (res))).organizationCode;
                organization.organizationName = ((/** @type {?} */ (res))).organizationName;
                organization.includeChildren = ((/** @type {?} */ (res))).includeChildren;
                organization.parentsUntil = ((/** @type {?} */ (res))).parentsUntil;
                organization.tag = ((/** @type {?} */ (res))).tag;
                organization.order = 1;
                list.push(organization);
            }
            else {
                list = PropertyHelper.getPerformerListTest(roles);
            }
            signFrontTest.scope = new OrganizationPotentialOwner();
            if (list && list.length > 0) {
                signFrontTest.scope.participantInfo = new ParticipantInfo();
                signFrontTest.scope.participantInfo.potentialOwnerList = list;
                signFrontTest.scope.participantInfo.isAllScope = true;
            }
            else {
                signFrontTest.scope.participantInfo = new ParticipantInfo();
                signFrontTest.scope.participantInfo.isAllScope = false;
            }
        }
        else {
            signFrontTest.enable = false;
        }
        return signFrontTest;
    };
    /**
     * @param {?} userActivity
     * @return {?}
     */
    UserActivityCell.prototype.getSignBehindInfo = /**
     * @param {?} userActivity
     * @return {?}
     */
    function (userActivity) {
        /** @type {?} */
        var signBehindTest = new ActionOrganizationScopeDesign();
        signBehindTest.action = (/** @type {?} */ (ActionScope.AddSignBehind));
        if (userActivity.AddSignBehindAble) {
            signBehindTest.enable = true;
            /** @type {?} */
            var roles = userActivity.dynamicParticipants.filter((/**
             * @param {?} r
             * @return {?}
             */
            function (r) { return r.actionScope === ActionScope.AddSignBehind; }));
            /** @type {?} */
            var res = roles.find((/**
             * @param {?} r
             * @return {?}
             */
            function (r) { return ((/** @type {?} */ (r))).organizationLevel && !((/** @type {?} */ (r))).order; }));
            /** @type {?} */
            var list = [];
            if (res) {
                /** @type {?} */
                var organization = new OrganizationParticipant;
                organization.id = res.id;
                organization.type = res.ClrTypeID;
                organization.name = res.name;
                organization.actionScope = (/** @type {?} */ (res.actionScope));
                organization.organizationLevel = ((/** @type {?} */ (res))).organizationLevel;
                organization.organizationId = ((/** @type {?} */ (res))).organizationId;
                organization.organizationCode = ((/** @type {?} */ (res))).organizationCode;
                organization.organizationName = ((/** @type {?} */ (res))).organizationName;
                organization.includeChildren = ((/** @type {?} */ (res))).includeChildren;
                organization.parentsUntil = ((/** @type {?} */ (res))).parentsUntil;
                organization.tag = ((/** @type {?} */ (res))).tag;
                organization.order = 1;
                list.push(organization);
            }
            else {
                list = PropertyHelper.getPerformerListTest(roles);
            }
            signBehindTest.scope = new OrganizationPotentialOwner();
            if (list && list.length > 0) {
                signBehindTest.scope.participantInfo = new ParticipantInfo();
                signBehindTest.scope.participantInfo.potentialOwnerList = list;
                signBehindTest.scope.participantInfo.isAllScope = true;
            }
            else {
                signBehindTest.scope.participantInfo = new ParticipantInfo();
                signBehindTest.scope.participantInfo.isAllScope = false;
            }
        }
        else {
            signBehindTest.enable = false;
        }
        return signBehindTest;
    };
    /**
     * @param {?} userActivity
     * @return {?}
     */
    UserActivityCell.prototype.getTransferScopeInfo = /**
     * @param {?} userActivity
     * @return {?}
     */
    function (userActivity) {
        /** @type {?} */
        var transferScopeTest = new ActionOrganizationScopeDesign();
        transferScopeTest.action = (/** @type {?} */ (ActionScope.Transfer));
        if (userActivity.transferAble) {
            transferScopeTest.enable = true;
            /** @type {?} */
            var roles = userActivity.dynamicParticipants.filter((/**
             * @param {?} r
             * @return {?}
             */
            function (r) { return r.actionScope === ActionScope.Transfer; }));
            /** @type {?} */
            var res = roles.find((/**
             * @param {?} r
             * @return {?}
             */
            function (r) { return ((/** @type {?} */ (r))).organizationLevel && !((/** @type {?} */ (r))).order; }));
            /** @type {?} */
            var list = [];
            if (res) {
                /** @type {?} */
                var organization = new OrganizationParticipant;
                organization.id = res.id;
                organization.type = res.ClrTypeID;
                organization.name = res.name;
                organization.actionScope = (/** @type {?} */ (res.actionScope));
                organization.organizationLevel = ((/** @type {?} */ (res))).organizationLevel;
                organization.organizationId = ((/** @type {?} */ (res))).organizationId;
                organization.organizationCode = ((/** @type {?} */ (res))).organizationCode;
                organization.organizationName = ((/** @type {?} */ (res))).organizationName;
                organization.includeChildren = ((/** @type {?} */ (res))).includeChildren;
                organization.parentsUntil = ((/** @type {?} */ (res))).parentsUntil;
                organization.tag = ((/** @type {?} */ (res))).tag;
                organization.order = 1;
                list.push(organization);
            }
            else {
                list = PropertyHelper.getPerformerListTest(roles);
            }
            transferScopeTest.scope = new OrganizationPotentialOwner();
            if (list && list.length > 0) {
                transferScopeTest.scope.participantInfo = new ParticipantInfo();
                transferScopeTest.scope.participantInfo.potentialOwnerList = list;
                transferScopeTest.scope.participantInfo.isAllScope = true;
            }
            else {
                transferScopeTest.scope.participantInfo = new ParticipantInfo();
                transferScopeTest.scope.participantInfo.isAllScope = false;
            }
        }
        else {
            transferScopeTest.enable = userActivity.transferAble;
        }
        return transferScopeTest;
    };
    /**
     * @param {?} userActivity
     * @return {?}
     */
    UserActivityCell.prototype.getNotifyAble = /**
     * @param {?} userActivity
     * @return {?}
     */
    function (userActivity) {
        /** @type {?} */
        var notifyScopeTest = new ActionOrganizationScopeDesign();
        notifyScopeTest.action = (/** @type {?} */ (ActionScope.Notify));
        if (userActivity.NotifyAble) {
            notifyScopeTest.enable = true;
            /** @type {?} */
            var roles = userActivity.dynamicParticipants.filter((/**
             * @param {?} r
             * @return {?}
             */
            function (r) { return r.actionScope === ActionScope.Notify; }));
            /** @type {?} */
            var res = roles.find((/**
             * @param {?} r
             * @return {?}
             */
            function (r) { return ((/** @type {?} */ (r))).organizationLevel && !((/** @type {?} */ (r))).order; }));
            /** @type {?} */
            var list = [];
            if (res) {
                /** @type {?} */
                var organization = new OrganizationParticipant;
                organization.id = res.id;
                organization.type = res.ClrTypeID;
                organization.name = res.name;
                organization.actionScope = (/** @type {?} */ (res.actionScope));
                organization.organizationLevel = ((/** @type {?} */ (res))).organizationLevel;
                organization.organizationId = ((/** @type {?} */ (res))).organizationId;
                organization.organizationCode = ((/** @type {?} */ (res))).organizationCode;
                organization.organizationName = ((/** @type {?} */ (res))).organizationName;
                organization.includeChildren = ((/** @type {?} */ (res))).includeChildren;
                organization.parentsUntil = ((/** @type {?} */ (res))).parentsUntil;
                organization.tag = ((/** @type {?} */ (res))).tag;
                organization.order = 1;
                list.push(organization);
            }
            else {
                list = PropertyHelper.getPerformerListTest(roles);
            }
            notifyScopeTest.scope = new OrganizationPotentialOwner();
            if (list && list.length > 0) {
                notifyScopeTest.scope.participantInfo = new ParticipantInfo();
                notifyScopeTest.scope.participantInfo.potentialOwnerList = list;
                notifyScopeTest.scope.participantInfo.isAllScope = true;
            }
            else {
                notifyScopeTest.scope.participantInfo = new ParticipantInfo();
                notifyScopeTest.scope.participantInfo.isAllScope = false;
            }
        }
        else {
            notifyScopeTest.enable = userActivity.NotifyAble;
        }
        return notifyScopeTest;
    };
    /**
     * @param {?} userActivity
     * @return {?}
     */
    UserActivityCell.prototype.getTimeLimitInfo = /**
     * @param {?} userActivity
     * @return {?}
     */
    function (userActivity) {
        var e_8, _a, e_9, _b;
        if (userActivity.timeLimitControl) {
            /** @type {?} */
            var timeLimit = new TimeLimitControlInfo();
            timeLimit.enable = userActivity.timeLimitControl.enable;
            timeLimit.tag = userActivity.timeLimitControl.tag;
            timeLimit.dueTime = userActivity.timeLimitControl.dueTime;
            timeLimit.timeUnit = userActivity.timeLimitControl.timeUnit;
            timeLimit.expireOperations = new Array();
            if (userActivity.timeLimitControl.expireOperations && userActivity.timeLimitControl.expireOperations.length > 0) {
                /** @type {?} */
                var operations = userActivity.timeLimitControl.expireOperations;
                try {
                    for (var operations_1 = tslib_1.__values(operations), operations_1_1 = operations_1.next(); !operations_1_1.done; operations_1_1 = operations_1.next()) {
                        var o = operations_1_1.value;
                        if (o.ClrTypeID.indexOf('SendMessageExpireOperation') > 0) {
                            /** @type {?} */
                            var operation = (/** @type {?} */ (o));
                            /** @type {?} */
                            var sendMessage = new SendMessageExpireOperationInfo();
                            sendMessage.timeDuration = operation.timeDuration;
                            sendMessage.durationType = operation.durationType;
                            sendMessage.timeUnit = operation.timeUnit;
                            sendMessage.message = operation.message;
                            sendMessage.sendType = operation.sendType;
                            sendMessage.subject = operation.subject;
                            sendMessage.id = operation.id;
                            sendMessage.receiver = operation.receiver;
                            sendMessage.cycleEnable = operation.cycleEnable;
                            sendMessage.cycleTime = operation.cycleTime;
                            sendMessage.cycleTimeUnit = operation.cycleTimeUnit;
                            sendMessage.operationTypeName = operation.operationTypeName ? operation.operationTypeName : 'SendMessageExpireOperation';
                            if (operation.smsMessageTemplate) {
                                /** @type {?} */
                                var smsTemplate = new Object;
                                smsTemplate.code = operation.smsMessageTemplate.code;
                                smsTemplate.content = operation.smsMessageTemplate.content;
                                smsTemplate.smsMessageVariables = new Array();
                                if (operation.smsMessageTemplate.smsMessageVariables && operation.smsMessageTemplate.smsMessageVariables.length > 0) {
                                    try {
                                        for (var _c = tslib_1.__values(operation.smsMessageTemplate.smsMessageVariables), _d = _c.next(); !_d.done; _d = _c.next()) {
                                            var v = _d.value;
                                            /** @type {?} */
                                            var variable = new Object;
                                            variable.id = WfDesignerUtils.createNM();
                                            variable.code = v.code;
                                            variable.value = v.value;
                                            variable.tag = v.tag;
                                            smsTemplate.smsMessageVariables.push(variable);
                                        }
                                    }
                                    catch (e_9_1) { e_9 = { error: e_9_1 }; }
                                    finally {
                                        try {
                                            if (_d && !_d.done && (_b = _c.return)) _b.call(_c);
                                        }
                                        finally { if (e_9) throw e_9.error; }
                                    }
                                }
                                sendMessage.smsMessageTemplate = smsTemplate;
                            }
                            timeLimit.expireOperations.push(sendMessage);
                        }
                        else if (o.ClrTypeID.indexOf('AutoHandleExpireOperation') > 0) {
                            /** @type {?} */
                            var operation = (/** @type {?} */ (o));
                            /** @type {?} */
                            var autoHandle = new AutoHandleExpireOperationInfo();
                            autoHandle.id = operation.id;
                            autoHandle.durationType = operation.durationType;
                            autoHandle.timeDuration = operation.timeDuration;
                            autoHandle.timeUnit = operation.timeUnit;
                            autoHandle.operationTypeName = operation.operationTypeName ? operation.operationTypeName : 'AutoHandleExpireOperation';
                            autoHandle.autoHandleType = operation.autoHandleType;
                            autoHandle.message = operation.message;
                            timeLimit.expireOperations.push(autoHandle);
                        }
                    }
                }
                catch (e_8_1) { e_8 = { error: e_8_1 }; }
                finally {
                    try {
                        if (operations_1_1 && !operations_1_1.done && (_a = operations_1.return)) _a.call(operations_1);
                    }
                    finally { if (e_8) throw e_8.error; }
                }
            }
            return timeLimit;
        }
        return null;
    };
    /**
     * @param {?} userActivity
     * @return {?}
     */
    UserActivityCell.prototype.getUrgeHandleRule = /**
     * @param {?} userActivity
     * @return {?}
     */
    function (userActivity) {
        var e_10, _a;
        if (!userActivity.urgeHandleRule) {
            return null;
        }
        /** @type {?} */
        var rule = userActivity.urgeHandleRule;
        /** @type {?} */
        var urgeHandleRule = {
            urgeHandleAble: rule.urgeHandleAble,
            sendType: rule.sendType,
            earlyTime: rule.earlyTime,
            intervalTime: rule.intervalTime,
            urgeMessageSubject: rule.urgeMessageSubject,
            urgeMessageContent: rule.urgeMessageContent,
            addReminder: rule.addReminder,
            subjectEditable: rule.subjectEditable,
            contentEditable: rule.contentEditable
        };
        if (rule.smsMessageTemplate) {
            /** @type {?} */
            var smsTemplate = new Object;
            smsTemplate.code = rule.smsMessageTemplate.code;
            smsTemplate.content = rule.smsMessageTemplate.content;
            smsTemplate.smsMessageVariables = new Array();
            if (rule.smsMessageTemplate.smsMessageVariables && rule.smsMessageTemplate.smsMessageVariables.length > 0) {
                try {
                    for (var _b = tslib_1.__values(rule.smsMessageTemplate.smsMessageVariables), _c = _b.next(); !_c.done; _c = _b.next()) {
                        var v = _c.value;
                        /** @type {?} */
                        var variable = new Object;
                        variable.id = WfDesignerUtils.createNM();
                        variable.code = v.code;
                        variable.value = v.value;
                        variable.tag = v.tag;
                        smsTemplate.smsMessageVariables.push(variable);
                    }
                }
                catch (e_10_1) { e_10 = { error: e_10_1 }; }
                finally {
                    try {
                        if (_c && !_c.done && (_a = _b.return)) _a.call(_b);
                    }
                    finally { if (e_10) throw e_10.error; }
                }
            }
            urgeHandleRule.smsMessageTemplate = smsTemplate;
        }
        return urgeHandleRule;
    };
    /**
     * @param {?} userActivity
     * @return {?}
     */
    UserActivityCell.prototype.getCheckConditions = /**
     * @param {?} userActivity
     * @return {?}
     */
    function (userActivity) {
        if (userActivity.checkConditions && userActivity.checkConditions.length > 0) {
            return userActivity.checkConditions.map((/**
             * @param {?} c
             * @return {?}
             */
            function (c) { return ({
                value: c.value,
                checkTime: c.checkTime,
                errorTips: c.errorTips ? Array.from(c.errorTips).reduce((/**
                 * @param {?} obj
                 * @param {?} __1
                 * @return {?}
                 */
                function (obj, _a) {
                    var _b = tslib_1.__read(_a, 2), key = _b[0], value = _b[1];
                    var _c;
                    return Object.assign(obj, (_c = {}, _c[key] = value, _c));
                }), {}) : null
            }); }));
        }
        return null;
    };
    /**
     * @param {?} obj
     * @return {?}
     */
    UserActivityCell.prototype.updateProps = /**
     * @param {?} obj
     * @return {?}
     */
    function (obj) {
        this.updatePropsByIsOperation(obj);
    };
    /**
     * @param {?} obj
     * @param {?=} isOperation
     * @return {?}
     */
    UserActivityCell.prototype.updatePropsByIsOperation = /**
     * @param {?} obj
     * @param {?=} isOperation
     * @return {?}
     */
    function (obj, isOperation) {
        if (isOperation === void 0) { isOperation = false; }
        /** @type {?} */
        var editorUi = this.editorUi;
        /** @type {?} */
        var userActivity = this.flowElement;
        /** @type {?} */
        var propertyId = obj.propertyID;
        switch (propertyId) {
            case UserActivityPropertyKeys.ParticipantSchemes: // 参与者属性
                this.updateParticipant(userActivity, obj, isOperation);
                break;
            case UserActivityPropertyKeys.ParticipantOptions: // 参与者选项
                this.updateParticipantOptions(userActivity, obj);
                break;
            // case UserActivityPropertyKeys.AssignPerformer:
            //     this.updatePotentialOwnerImpl(graph.bpmnModel, userActivity, obj);
            //     break;
            // case UserActivityPropertyKeys.AssignStrategy:
            //     this.updateAssignStrategy(graph, userActivity, obj, isOperation);
            //     break;
            // case UserActivityPropertyKeys.OperatorConfig:
            //     this.updateOperatorConfig(userActivity, obj);
            //     break;
            case UserActivityPropertyKeys.CompleteStrategy:
                this.resetExecuteWorkItemMode(userActivity, obj, isOperation);
                break;
            case UserActivityPropertyKeys.DisplayTerminal:
                this.resetDisplayTerminal(userActivity, obj);
                break;
            case UserActivityPropertyKeys.SignRule:
                this.resetSignRules(userActivity, obj, isOperation);
                break;
            case UserActivityPropertyKeys.ApprovalItems:
                this.resetApprovalItems(userActivity, obj, isOperation);
                break;
            case UserActivityPropertyKeys.wf_ExecuteForms_PC:
                this.resetExecuteForm(userActivity, obj, 'PC');
                if (obj.parameters && obj.parameters.length > 0) {
                    PropertyHelper.updateFormalParameters(editorUi.graph.bpmnModel.DefaultProcess, obj.parameters);
                }
                break;
            case UserActivityPropertyKeys.wf_ExecuteForms_Mobile:
                this.resetExecuteForm(userActivity, obj, 'MOBILE');
                if (obj.parameters && obj.parameters.length > 0) {
                    PropertyHelper.updateFormalParameters(editorUi.graph.bpmnModel.DefaultProcess, obj.parameters);
                }
                break;
            case UserActivityPropertyKeys.SelectTargetAble:
                this.resetSelectTargetAble(userActivity, obj, isOperation);
                break;
            case UserActivityPropertyKeys.JumpScope:
                this.resetJumpScope(userActivity, obj);
                break;
            case UserActivityPropertyKeys.BackWardRule:
                this.resetBackWardRule(userActivity, obj);
                break;
            case UserActivityPropertyKeys.MultiInstanceLoopCharacteristics:
                this.resetMultiInstanceLoopCharacteristics(userActivity, obj);
                break;
            case UserActivityPropertyKeys.Tools:
                this.resetTools(userActivity, obj);
                break;
            case UserActivityPropertyKeys.wf_TitleExpression:
                this.modifyTitleExpression(userActivity, obj);
                break;
            case UserActivityPropertyKeys.AddSignFrontAble:
                this.updateSignFrontSet(userActivity, obj);
                break;
            case UserActivityPropertyKeys.AddSignBehindAble:
                this.updateSignBehindsSet(userActivity, obj);
                break;
            case UserActivityPropertyKeys.NotifyAble:
                this.updateNotifySet(userActivity, obj);
                break;
            case UserActivityPropertyKeys.transferScope:
                this.updateTransferScope(userActivity, obj);
                break;
            case UserActivityPropertyKeys.wf_CustomizeAction:
                this.updateCustomizeActions(userActivity, obj);
                break;
            case UserActivityPropertyKeys.timeLimitControl:
                this.updateTimeLimitControl(userActivity, obj);
                break;
            case UserActivityPropertyKeys.anonymousSet:
                this.updateAnonymousSet(userActivity, obj);
                break;
            case UserActivityPropertyKeys.variableSettings:
                this.updateVariableSettings(userActivity, obj);
                break;
            case UserActivityPropertyKeys.messageNotice:
                this.updateMessageNotices(userActivity, obj);
                break;
            case UserActivityPropertyKeys.approvalPivotConfig:
                this.updateApprovalPivotConfig(userActivity, obj);
                break;
            case UserActivityPropertyKeys.urgeHandleRule:
                this.updateUrgeHandleRule(userActivity, obj);
                break;
            case UserActivityPropertyKeys.imageSettings: // 更新变量设置属性
                this.updateImageSettings(userActivity, obj);
                break;
            case UserActivityPropertyKeys.checkConditions:
                this.updateCheckConditions(userActivity, obj, isOperation);
                break;
            case UserActivityPropertyKeys.otherAssignActivities:
                this.updateOtherAssignActivities(userActivity, obj);
                break;
            case UserActivityPropertyKeys.otherAssignActivityNodeInfos:
                this.updateOtherAssignActivities(userActivity, obj);
                break;
            case UserActivityPropertyKeys.otherAssignNodes:
                this.updateOtherAssignNodes(userActivity, obj);
                break;
            default:
                // 判断ResourceKeys是不是groupid,是就走resetExtendProperty
                if (editorUi.procExtProps.findIndex((/**
                 * @param {?} p
                 * @return {?}
                 */
                function (p) { return p.id === propertyId; })) > -1) {
                    this.resetExtendProperty(userActivity, obj);
                }
                else {
                    _super.prototype.updateProps.call(this, obj);
                }
                break;
        }
    };
    /**
     * 修改参与者
     * @param graph
     * @param userActivity
     * @param obj
     * @param isOperation
     */
    /**
     * 修改参与者
     * @param {?} userActivity
     * @param {?} obj
     * @param {?=} isOperation
     * @return {?}
     */
    UserActivityCell.prototype.updateParticipant = /**
     * 修改参与者
     * @param {?} userActivity
     * @param {?} obj
     * @param {?=} isOperation
     * @return {?}
     */
    function (userActivity, obj, isOperation) {
        if (isOperation === void 0) { isOperation = false; }
        var e_11, _a, e_12, _b;
        /** @type {?} */
        var performerInfo = obj.propertyValue;
        if (performerInfo.assignStrategy.assignStrategy === AssignmentStrategy.CLAIM
            && userActivity.ParticipantSetting
            && userActivity.ParticipantSetting.automaticPerformers
            && userActivity.ParticipantSetting.automaticPerformers.length > 0) {
            // Utils.postMessage(ResourceKeys.wf_showTip, {
            //     type: 'message',
            //     level: 'warning',
            //     message: '当前节点【参与者选项】已设置自动审批，【分配策略】不允许设置为【领用】'
            // });
        }
        else {
            this.checkOtherAssignNodes(userActivity, performerInfo);
            userActivity.AssignPerformerConfig = null;
            userActivity.AssignmentStrategy = performerInfo.assignStrategy.assignStrategy;
            /** @type {?} */
            var resourceRoles = userActivity.GetResourceRoles();
            if (resourceRoles && resourceRoles.length > 0) {
                resourceRoles.forEach((/**
                 * @param {?} r
                 * @return {?}
                 */
                function (r) {
                    if (r instanceof HumanPerformerImpl) {
                        userActivity.RemoveResourceRole(r.Id);
                    }
                    else if (r instanceof PotentialOwnerImpl) {
                        userActivity.RemoveResourceRole(r.Id);
                    }
                }));
            }
            if (performerInfo.humanPerformerList && performerInfo.humanPerformerList.length > 0) {
                try {
                    for (var _c = tslib_1.__values(performerInfo.humanPerformerList), _d = _c.next(); !_d.done; _d = _c.next()) {
                        var humanPerformer = _d.value;
                        switch (humanPerformer.type) {
                            case UserParticipantExpression.Clr_Type_ID:
                                this.addUserParticipant(userActivity, (/** @type {?} */ (humanPerformer)), 'humanPerformer', null);
                                break;
                            case VariableParticipantExpression.Clr_Type_ID:
                                this.addVariableParticipant(userActivity, (/** @type {?} */ (humanPerformer)), 'humanPerformer', null);
                                break;
                            case PositionParticipantExpression.Clr_Type_ID:
                                this.addPositionParticipant(userActivity, (/** @type {?} */ (humanPerformer)), 'humanPerformer', null);
                                break;
                            case ComponentParticipantExpression.Clr_Type_ID:
                                this.addComponentParticipant(userActivity, (/** @type {?} */ (humanPerformer)), 'humanPerformer', null);
                                break;
                            case ReportingLineParticipantExpression.Clr_Type_ID:
                                this.addReportingLineParticipant(userActivity, (/** @type {?} */ (humanPerformer)), 'humanPerformer', null);
                                break;
                            case ActivityExecutorParticipantExpression.Clr_Type_ID:
                                this.addActivityExecutorParticipant(userActivity, (/** @type {?} */ (humanPerformer)), 'humanPerformer', null);
                                break;
                            case MatrixParticipantExpression.Clr_Type_ID:
                                this.addMatrixParticipant(userActivity, (/** @type {?} */ (humanPerformer)), 'humanPerformer', null);
                                break;
                        }
                    }
                }
                catch (e_11_1) { e_11 = { error: e_11_1 }; }
                finally {
                    try {
                        if (_d && !_d.done && (_a = _c.return)) _a.call(_c);
                    }
                    finally { if (e_11) throw e_11.error; }
                }
            }
            if (performerInfo.assignStrategy.assignStrategy === AssignmentStrategy.ASSIGN) {
                /** @type {?} */
                var assignPerformerConfig = new AssignPerformerConfig(userActivity.Model);
                assignPerformerConfig.Operator = performerInfo.assignStrategy.assignConfig.operator;
                assignPerformerConfig.MultiSelect = performerInfo.assignStrategy.assignConfig.multiSelect;
                assignPerformerConfig.Necessary = performerInfo.assignStrategy.assignConfig.necessary;
                assignPerformerConfig.AllowGlobalAssign = performerInfo.isAllScope;
                userActivity.AssignPerformerConfig = assignPerformerConfig;
                if (!performerInfo.isAllScope && performerInfo.potentialOwnerList && performerInfo.potentialOwnerList.length > 0) {
                    try {
                        for (var _e = tslib_1.__values(performerInfo.potentialOwnerList), _f = _e.next(); !_f.done; _f = _e.next()) {
                            var potentialOwner = _f.value;
                            switch (potentialOwner.type) {
                                case UserParticipantExpression.Clr_Type_ID:
                                    this.addUserParticipant(userActivity, (/** @type {?} */ (potentialOwner)), 'potentialOwner', null);
                                    break;
                                case VariableParticipantExpression.Clr_Type_ID:
                                    this.addVariableParticipant(userActivity, (/** @type {?} */ (potentialOwner)), 'potentialOwner', null);
                                    break;
                                case PositionParticipantExpression.Clr_Type_ID:
                                    this.addPositionParticipant(userActivity, (/** @type {?} */ (potentialOwner)), 'potentialOwner', null);
                                    break;
                                case ComponentParticipantExpression.Clr_Type_ID:
                                    this.addComponentParticipant(userActivity, (/** @type {?} */ (potentialOwner)), 'potentialOwner', null);
                                    break;
                                case ReportingLineParticipantExpression.Clr_Type_ID:
                                    this.addReportingLineParticipant(userActivity, (/** @type {?} */ (potentialOwner)), 'potentialOwner', null);
                                    break;
                                case ActivityExecutorParticipantExpression.Clr_Type_ID:
                                    this.addActivityExecutorParticipant(userActivity, (/** @type {?} */ (potentialOwner)), 'potentialOwner', null);
                                    break;
                                case MatrixParticipantExpression.Clr_Type_ID:
                                    this.addMatrixParticipant(userActivity, (/** @type {?} */ (potentialOwner)), 'potentialOwner', null);
                                    break;
                                case OrganizationParticipantExpression.Clr_Type_ID:
                                    this.addOrganizationParticipant(userActivity, (/** @type {?} */ (potentialOwner)), 'potentialOwner', null);
                                    break;
                            }
                        }
                    }
                    catch (e_12_1) { e_12 = { error: e_12_1 }; }
                    finally {
                        try {
                            if (_f && !_f.done && (_b = _e.return)) _b.call(_e);
                        }
                        finally { if (e_12) throw e_12.error; }
                    }
                }
            }
            // 分配策略为领用时，完成策略自动修改为抢占模式
            if (userActivity.AssignmentStrategy === AssignmentStrategy.CLAIM) {
                userActivity.ExecuteWorkItemMode = ExecuteWorkItemMode.Preempt;
                userActivity.CounterSignRules = null;
            }
        }
    };
    /**
     * @param {?} userActivity
     * @param {?} performerInfo
     * @return {?}
     */
    UserActivityCell.prototype.checkOtherAssignNodes = /**
     * @param {?} userActivity
     * @param {?} performerInfo
     * @return {?}
     */
    function (userActivity, performerInfo) {
        if (userActivity.AssignmentStrategy !== AssignmentStrategy.ASSIGN) {
            return;
        }
        /** @type {?} */
        var bpmnModel = userActivity.Model;
        /** @type {?} */
        var flowElements = bpmnModel.DefaultProcess.GetFlowElements();
        if (performerInfo.assignStrategy.assignStrategy !== AssignmentStrategy.ASSIGN) {
            for (var k in flowElements) {
                if (flowElements[k] instanceof UserActivity) {
                    /** @type {?} */
                    var activity = (/** @type {?} */ (flowElements[k]));
                    if (activity.otherAssignNodes && activity.otherAssignNodes.otherAssignActivities
                        && activity.otherAssignNodes.otherAssignActivities.length > 0
                        && activity.otherAssignNodes.otherAssignActivities.findIndex((/**
                         * @param {?} id
                         * @return {?}
                         */
                        function (id) { return id === userActivity.Id; })) > -1) {
                        activity.otherAssignNodes.otherAssignActivities = activity.otherAssignNodes.otherAssignActivities.filter((/**
                         * @param {?} id
                         * @return {?}
                         */
                        function (id) { return id !== userActivity.Id; }));
                    }
                }
                else if (flowElements[k] instanceof OperationActivity) {
                    /** @type {?} */
                    var operationActivity = (/** @type {?} */ (flowElements[k]));
                    if (operationActivity.otherAssignNodes && operationActivity.otherAssignNodes.otherAssignActivities
                        && operationActivity.otherAssignNodes.otherAssignActivities.length > 0
                        && operationActivity.otherAssignNodes.otherAssignActivities.findIndex((/**
                         * @param {?} id
                         * @return {?}
                         */
                        function (id) { return id === userActivity.Id; })) > -1) {
                        operationActivity.otherAssignNodes.otherAssignActivities = operationActivity.otherAssignNodes.otherAssignActivities.filter((/**
                         * @param {?} id
                         * @return {?}
                         */
                        function (id) { return id !== userActivity.Id; }));
                    }
                }
                else if (flowElements[k] instanceof StartActivity) {
                    /** @type {?} */
                    var startActivity = (/** @type {?} */ (flowElements[k]));
                    if (startActivity.otherAssignNodes && startActivity.otherAssignNodes.otherAssignActivities
                        && startActivity.otherAssignNodes.otherAssignActivities.length > 0
                        && startActivity.otherAssignNodes.otherAssignActivities.findIndex((/**
                         * @param {?} id
                         * @return {?}
                         */
                        function (id) { return id === userActivity.Id; })) > -1) {
                        startActivity.otherAssignNodes.otherAssignActivities = startActivity.otherAssignNodes.otherAssignActivities.filter((/**
                         * @param {?} id
                         * @return {?}
                         */
                        function (id) { return id !== userActivity.Id; }));
                    }
                }
            }
        }
        else {
            if (userActivity.AssignPerformerConfig.Operator === 'currentUser'
                && performerInfo.assignStrategy.assignConfig.operator !== 'currentUser') {
                for (var k in flowElements) {
                    if (flowElements[k] instanceof UserActivity) {
                        /** @type {?} */
                        var activity = (/** @type {?} */ (flowElements[k]));
                        if (activity.otherAssignNodes && activity.otherAssignNodes.otherAssignActivities
                            && activity.otherAssignNodes.otherAssignActivities.length > 0
                            && activity.otherAssignNodes.otherAssignActivities.findIndex((/**
                             * @param {?} id
                             * @return {?}
                             */
                            function (id) { return id === userActivity.Id; })) > -1) {
                            activity.otherAssignNodes.otherAssignActivities = activity.otherAssignNodes.otherAssignActivities.filter((/**
                             * @param {?} id
                             * @return {?}
                             */
                            function (id) { return id !== userActivity.Id; }));
                        }
                    }
                    else if (flowElements[k] instanceof OperationActivity) {
                        /** @type {?} */
                        var operationActivity = (/** @type {?} */ (flowElements[k]));
                        if (operationActivity.otherAssignNodes && operationActivity.otherAssignNodes.otherAssignActivities
                            && operationActivity.otherAssignNodes.otherAssignActivities.length > 0
                            && operationActivity.otherAssignNodes.otherAssignActivities.findIndex((/**
                             * @param {?} id
                             * @return {?}
                             */
                            function (id) { return id === userActivity.Id; })) > -1) {
                            operationActivity.otherAssignNodes.otherAssignActivities = operationActivity.otherAssignNodes.otherAssignActivities.filter((/**
                             * @param {?} id
                             * @return {?}
                             */
                            function (id) { return id !== userActivity.Id; }));
                        }
                    }
                }
            }
            else if (userActivity.AssignPerformerConfig.Operator === 'procInstCreator'
                && performerInfo.assignStrategy.assignConfig.operator !== 'procInstCreator') {
                for (var k in flowElements) {
                    if (flowElements[k] instanceof StartActivity) {
                        /** @type {?} */
                        var startActivity = (/** @type {?} */ (flowElements[k]));
                        if (startActivity.otherAssignNodes && startActivity.otherAssignNodes.otherAssignActivities
                            && startActivity.otherAssignNodes.otherAssignActivities.length > 0
                            && startActivity.otherAssignNodes.otherAssignActivities.findIndex((/**
                             * @param {?} id
                             * @return {?}
                             */
                            function (id) { return id === userActivity.Id; })) > -1) {
                            startActivity.otherAssignNodes.otherAssignActivities = startActivity.otherAssignNodes.otherAssignActivities.filter((/**
                             * @param {?} id
                             * @return {?}
                             */
                            function (id) { return id !== userActivity.Id; }));
                        }
                    }
                }
            }
        }
    };
    /**
     * 添加用户参与者
     * @param userActivity
     * @param performer
     * @param type
     */
    /**
     * 添加用户参与者
     * @param {?} userActivity
     * @param {?} performer
     * @param {?} type
     * @param {?} scope
     * @return {?}
     */
    UserActivityCell.prototype.addUserParticipant = /**
     * 添加用户参与者
     * @param {?} userActivity
     * @param {?} performer
     * @param {?} type
     * @param {?} scope
     * @return {?}
     */
    function (userActivity, performer, type, scope) {
        /** @type {?} */
        var userParticipant;
        if (performer instanceof UserParticipantExpression) {
            userParticipant = performer;
        }
        else {
            performer = (/** @type {?} */ (performer));
            userParticipant = new UserParticipantExpression(userActivity.Model, performer.performerId, performer.performerName, performer.orgType);
            userParticipant.id = performer.id;
            userParticipant.OrgId = performer.orgId;
            userParticipant.actionScope = ActionScope.Default;
            userParticipant.OrgName = performer.orgName;
            userParticipant.Tag = performer.tag;
            userParticipant.OrgType = performer.orgType;
            userParticipant.order = performer.order;
            if (performer.condition) {
                /** @type {?} */
                var condition = new Condition(userActivity.Model);
                condition.Value = performer.condition;
                userParticipant.condition = condition;
            }
        }
        if (type === 'humanPerformer') {
            /** @type {?} */
            var humanPerformerImpl = new HumanPerformerImpl(userActivity.Model);
            humanPerformerImpl.participantExpression = userParticipant;
            if (performer.condition) {
                /** @type {?} */
                var condition = new Condition(userActivity.Model);
                condition.Value = performer.condition;
                humanPerformerImpl.condition = condition;
            }
            humanPerformerImpl.order = performer.order;
            userActivity.AddResourceRole(humanPerformerImpl);
        }
        else if (type === 'potentialOwner') {
            /** @type {?} */
            var otentialOwnerImpl = new PotentialOwnerImpl(userActivity.Model);
            otentialOwnerImpl.participantExpression = userParticipant;
            if (performer.condition) {
                /** @type {?} */
                var condition = new Condition(userActivity.Model);
                condition.Value = performer.condition;
                otentialOwnerImpl.condition = condition;
            }
            otentialOwnerImpl.order = performer.order;
            if (scope) {
                userParticipant.actionScope = scope;
                userActivity.dynamicParticipants.push(userParticipant);
            }
            else {
                userActivity.AddResourceRole(otentialOwnerImpl);
            }
        }
    };
    /**
     * 添加变量参与者
     * @param userActivity
     * @param performer
     * @param type
     */
    /**
     * 添加变量参与者
     * @param {?} userActivity
     * @param {?} performer
     * @param {?} type
     * @param {?} scope
     * @return {?}
     */
    UserActivityCell.prototype.addVariableParticipant = /**
     * 添加变量参与者
     * @param {?} userActivity
     * @param {?} performer
     * @param {?} type
     * @param {?} scope
     * @return {?}
     */
    function (userActivity, performer, type, scope) {
        /** @type {?} */
        var variablePerformer;
        if (performer instanceof VariableParticipantExpression) {
            variablePerformer = performer;
        }
        else {
            performer = (/** @type {?} */ (performer));
            variablePerformer = new VariableParticipantExpression(userActivity.Model, performer.performerId, performer.performerName, performer.orgType);
            variablePerformer.id = performer.id;
            variablePerformer.actionScope = ActionScope.Default;
            variablePerformer.Name = performer.performerName ? performer.performerName : performer.name;
            variablePerformer.Tag = performer.tag;
            variablePerformer.VarValue = performer.varValue;
            variablePerformer.VarType = performer.varType;
            variablePerformer.order = performer.order;
            variablePerformer.Relation = performer.relation;
            if (performer.condition) {
                /** @type {?} */
                var condition = new Condition(userActivity.Model);
                condition.Value = performer.condition;
                variablePerformer.condition = condition;
            }
        }
        if (type === 'humanPerformer') {
            /** @type {?} */
            var humanPerformerImpl = new HumanPerformerImpl(userActivity.Model);
            humanPerformerImpl.participantExpression = variablePerformer;
            if (performer.condition) {
                /** @type {?} */
                var condition = new Condition(userActivity.Model);
                condition.Value = performer.condition;
                humanPerformerImpl.condition = condition;
            }
            humanPerformerImpl.order = performer.order;
            userActivity.AddResourceRole(humanPerformerImpl);
        }
        else if (type === 'potentialOwner') {
            /** @type {?} */
            var otentialOwnerImpl = new PotentialOwnerImpl(userActivity.Model);
            otentialOwnerImpl.participantExpression = variablePerformer;
            if (performer.condition) {
                /** @type {?} */
                var condition = new Condition(userActivity.Model);
                condition.Value = performer.condition;
                otentialOwnerImpl.condition = condition;
            }
            otentialOwnerImpl.order = performer.order;
            if (scope) {
                variablePerformer.actionScope = scope;
                userActivity.dynamicParticipants.push(variablePerformer);
            }
            else {
                userActivity.AddResourceRole(otentialOwnerImpl);
            }
        }
    };
    /**
     * 添加岗位参与者
     * @param userActivity
     * @param performer
     * @param type
     */
    /**
     * 添加岗位参与者
     * @param {?} userActivity
     * @param {?} performer
     * @param {?} type
     * @param {?} scope
     * @return {?}
     */
    UserActivityCell.prototype.addPositionParticipant = /**
     * 添加岗位参与者
     * @param {?} userActivity
     * @param {?} performer
     * @param {?} type
     * @param {?} scope
     * @return {?}
     */
    function (userActivity, performer, type, scope) {
        /** @type {?} */
        var posiParticipant;
        if (performer instanceof PositionParticipantExpression) {
            posiParticipant = performer;
        }
        else {
            performer = (/** @type {?} */ (performer));
            posiParticipant = new PositionParticipantExpression(userActivity.Model, performer.performerId, performer.performerName);
            posiParticipant.id = performer.id;
            posiParticipant.actionScope = ActionScope.Default;
            posiParticipant.PositionType = performer.positionType;
            posiParticipant.order = performer.order;
            if (performer.positionType === '1') {
                posiParticipant.OrgId = performer.orgId;
                posiParticipant.OrgName = performer.orgName;
                posiParticipant.OrgType = performer.orgType;
            }
            if (performer.condition) {
                /** @type {?} */
                var condition = new Condition(userActivity.Model);
                condition.Value = performer.condition;
                posiParticipant.condition = condition;
            }
        }
        if (type === 'humanPerformer') {
            /** @type {?} */
            var humanPerformerImpl = new HumanPerformerImpl(userActivity.Model);
            humanPerformerImpl.participantExpression = posiParticipant;
            if (performer.condition) {
                /** @type {?} */
                var condition = new Condition(userActivity.Model);
                condition.Value = performer.condition;
                humanPerformerImpl.condition = condition;
            }
            humanPerformerImpl.order = performer.order;
            userActivity.AddResourceRole(humanPerformerImpl);
        }
        else if (type === 'potentialOwner') {
            /** @type {?} */
            var otentialOwnerImpl = new PotentialOwnerImpl(userActivity.Model);
            otentialOwnerImpl.participantExpression = posiParticipant;
            if (performer.condition) {
                /** @type {?} */
                var condition = new Condition(userActivity.Model);
                condition.Value = performer.condition;
                otentialOwnerImpl.condition = condition;
            }
            otentialOwnerImpl.order = performer.order;
            if (scope) {
                posiParticipant.actionScope = scope;
                userActivity.dynamicParticipants.push(posiParticipant);
            }
            else {
                userActivity.AddResourceRole(otentialOwnerImpl);
            }
        }
    };
    /**
     * 添加构件参与者
     * @param userActivity
     * @param component
     * @param type
     */
    /**
     * 添加构件参与者
     * @param {?} userActivity
     * @param {?} component
     * @param {?} type
     * @param {?} scope
     * @return {?}
     */
    UserActivityCell.prototype.addComponentParticipant = /**
     * 添加构件参与者
     * @param {?} userActivity
     * @param {?} component
     * @param {?} type
     * @param {?} scope
     * @return {?}
     */
    function (userActivity, component, type, scope) {
        var e_13, _a;
        /** @type {?} */
        var componentParticipant;
        if (component instanceof ComponentParticipantExpression) {
            componentParticipant = component;
        }
        else {
            component = (/** @type {?} */ (component));
            componentParticipant = new ComponentParticipantExpression(userActivity.Model);
            componentParticipant.id = component.id;
            componentParticipant.componentId = component.metadataId;
            componentParticipant.actionScope = ActionScope.Default;
            componentParticipant.componentName = component.name;
            componentParticipant.methodName = component.methodName;
            componentParticipant.order = component.order;
            componentParticipant.methodCode = component.methodCode;
            if (component.actualParameters && component.actualParameters.length > 0) {
                /** @type {?} */
                var actParas = new Array();
                try {
                    for (var _b = tslib_1.__values(component.actualParameters), _c = _b.next(); !_c.done; _c = _b.next()) {
                        var para = _c.value;
                        /** @type {?} */
                        var actPara = new ActualParameter(userActivity.Model, para.code, para.value, para.valueText);
                        // TODO:更新参与者会默认把构件参数属性改为contant，临时修复，后续代码优化
                        actPara.Tag = para.tag;
                        if (para.fetchValueMode) {
                            switch (para.fetchValueMode) {
                                case 'express':
                                    actPara.Tag = 'expression';
                                    break;
                                case 'none':
                                    actPara.Tag = 'expression';
                                    break;
                                default:
                                    actPara.Tag = 'constant';
                                    break;
                            }
                        }
                        actParas.push(actPara);
                    }
                }
                catch (e_13_1) { e_13 = { error: e_13_1 }; }
                finally {
                    try {
                        if (_c && !_c.done && (_a = _b.return)) _a.call(_b);
                    }
                    finally { if (e_13) throw e_13.error; }
                }
                componentParticipant.actualParameters = actParas;
            }
            if (component.condition) {
                /** @type {?} */
                var condition = new Condition(userActivity.Model);
                condition.Value = component.condition;
                componentParticipant.condition = condition;
            }
        }
        if (type === 'humanPerformer') {
            /** @type {?} */
            var humanPerformerImpl = new HumanPerformerImpl(userActivity.Model);
            humanPerformerImpl.participantExpression = componentParticipant;
            if (component.condition) {
                /** @type {?} */
                var condition = new Condition(userActivity.Model);
                condition.Value = component.condition;
                humanPerformerImpl.condition = condition;
            }
            humanPerformerImpl.order = component.order;
            userActivity.AddResourceRole(humanPerformerImpl);
        }
        else if (type === 'potentialOwner') {
            /** @type {?} */
            var otentialOwnerImpl = new PotentialOwnerImpl(userActivity.Model);
            otentialOwnerImpl.participantExpression = componentParticipant;
            if (component.condition) {
                /** @type {?} */
                var condition = new Condition(userActivity.Model);
                condition.Value = component.condition;
                otentialOwnerImpl.condition = condition;
            }
            otentialOwnerImpl.order = component.order;
            if (scope) {
                componentParticipant.actionScope = scope;
                userActivity.dynamicParticipants.push(componentParticipant);
            }
            else {
                userActivity.AddResourceRole(otentialOwnerImpl);
            }
        }
    };
    /**
     *
     * @param userActivity
     * @param participant
     * @param type
     */
    /**
     *
     * @param {?} userActivity
     * @param {?} participant
     * @param {?} type
     * @param {?} scope
     * @return {?}
     */
    UserActivityCell.prototype.addReportingLineParticipant = /**
     *
     * @param {?} userActivity
     * @param {?} participant
     * @param {?} type
     * @param {?} scope
     * @return {?}
     */
    function (userActivity, participant, type, scope) {
        /** @type {?} */
        var reportingLine;
        if (participant instanceof ReportingLineParticipantExpression) {
            reportingLine = participant;
        }
        else {
            participant = (/** @type {?} */ (participant));
            reportingLine = new ReportingLineParticipantExpression(userActivity.Model);
            reportingLine.id = participant.id;
            reportingLine.actionScope = ActionScope.Default;
            reportingLine.ReportingLineDefId = participant.reportingLineDefId;
            reportingLine.ReportingLineDefName = participant.reportingLineDefName;
            reportingLine.RefOrgId = participant.refOrgId;
            reportingLine.RefUserId = participant.refUserId;
            reportingLine.RefEmployeeId = participant.refEmployeeId;
            reportingLine.order = participant.order;
            reportingLine.Dimension = participant.dimension;
            reportingLine.Tag = participant.tag;
            if (participant.condition) {
                /** @type {?} */
                var condition = new Condition(userActivity.Model);
                condition.Value = participant.condition;
                reportingLine.condition = condition;
            }
        }
        if (type === 'humanPerformer') {
            /** @type {?} */
            var humanPerformerImpl = new HumanPerformerImpl(userActivity.Model);
            humanPerformerImpl.participantExpression = reportingLine;
            if (participant.condition) {
                /** @type {?} */
                var condition = new Condition(userActivity.Model);
                condition.Value = participant.condition;
                humanPerformerImpl.condition = condition;
            }
            humanPerformerImpl.order = participant.order;
            userActivity.AddResourceRole(humanPerformerImpl);
        }
        else if (type === 'potentialOwner') {
            /** @type {?} */
            var otentialOwnerImpl = new PotentialOwnerImpl(userActivity.Model);
            otentialOwnerImpl.participantExpression = reportingLine;
            if (participant.condition) {
                /** @type {?} */
                var condition = new Condition(userActivity.Model);
                condition.Value = participant.condition;
                otentialOwnerImpl.condition = condition;
            }
            otentialOwnerImpl.order = participant.order;
            if (scope) {
                reportingLine.actionScope = scope;
                userActivity.dynamicParticipants.push(reportingLine);
            }
            else {
                userActivity.AddResourceRole(otentialOwnerImpl);
            }
        }
    };
    /**
     *
     * @param userActivity
     * @param participant
     * @param type
     */
    /**
     *
     * @param {?} userActivity
     * @param {?} participant
     * @param {?} type
     * @param {?} scope
     * @return {?}
     */
    UserActivityCell.prototype.addActivityExecutorParticipant = /**
     *
     * @param {?} userActivity
     * @param {?} participant
     * @param {?} type
     * @param {?} scope
     * @return {?}
     */
    function (userActivity, participant, type, scope) {
        /** @type {?} */
        var activityExecutor;
        if (participant instanceof ActivityExecutorParticipantExpression) {
            activityExecutor = participant;
        }
        else {
            participant = (/** @type {?} */ (participant));
            activityExecutor = new ActivityExecutorParticipantExpression(userActivity.Model);
            activityExecutor.id = participant.id;
            activityExecutor.activityDefId = participant.activityDefId;
            activityExecutor.actionScope = ActionScope.Default;
            activityExecutor.order = participant.order;
            activityExecutor.activityDefName = participant.activityDefName;
            if (participant.condition) {
                /** @type {?} */
                var condition = new Condition(userActivity.Model);
                condition.Value = participant.condition;
                activityExecutor.condition = condition;
            }
        }
        if (type === 'humanPerformer') {
            /** @type {?} */
            var humanPerformerImpl = new HumanPerformerImpl(userActivity.Model);
            humanPerformerImpl.participantExpression = activityExecutor;
            if (participant.condition) {
                /** @type {?} */
                var condition = new Condition(userActivity.Model);
                condition.Value = participant.condition;
                humanPerformerImpl.condition = condition;
            }
            humanPerformerImpl.order = participant.order;
            userActivity.AddResourceRole(humanPerformerImpl);
        }
        else if (type === 'potentialOwner') {
            /** @type {?} */
            var otentialOwnerImpl = new PotentialOwnerImpl(userActivity.Model);
            otentialOwnerImpl.participantExpression = activityExecutor;
            if (participant.condition) {
                /** @type {?} */
                var condition = new Condition(userActivity.Model);
                condition.Value = participant.condition;
                otentialOwnerImpl.condition = condition;
            }
            otentialOwnerImpl.order = participant.order;
            if (scope) {
                activityExecutor.actionScope = scope;
                userActivity.dynamicParticipants.push(activityExecutor);
            }
            else {
                userActivity.AddResourceRole(otentialOwnerImpl);
            }
        }
    };
    /**
     *
     * @param userActivity
     * @param participant
     * @param type
     */
    /**
     *
     * @param {?} userActivity
     * @param {?} participant
     * @param {?} type
     * @param {?} scope
     * @return {?}
     */
    UserActivityCell.prototype.addMatrixParticipant = /**
     *
     * @param {?} userActivity
     * @param {?} participant
     * @param {?} type
     * @param {?} scope
     * @return {?}
     */
    function (userActivity, participant, type, scope) {
        /** @type {?} */
        var matrix;
        matrix = new MatrixParticipantExpression(userActivity.Model);
        if (participant instanceof MatrixParticipantExpression) {
            matrix = participant;
        }
        else {
            participant = (/** @type {?} */ (participant));
            matrix = new MatrixParticipantExpression(userActivity.Model);
            matrix.order = participant.order;
            matrix.id = participant.id;
            matrix.actionScope = ActionScope.Default;
            matrix.matrixDefId = participant.matrixDefId;
            matrix.matrixDefName = participant.matrixDefName;
            matrix.conditionField1 = participant.conditionField1;
            matrix.conditionFieldText1 = participant.conditionFieldText1;
            matrix.conditionField2 = participant.conditionField2;
            matrix.conditionFieldText2 = participant.conditionFieldText2;
            matrix.conditionField3 = participant.conditionField3;
            matrix.conditionFieldText3 = participant.conditionFieldText3;
            matrix.multivaluedCondition = participant.multivaluedCondition;
            matrix.dataFieldAlias = participant.dataFieldAlias;
            if (participant.condition) {
                /** @type {?} */
                var condition = new Condition(userActivity.Model);
                condition.Value = participant.condition;
                matrix.condition = condition;
            }
        }
        if (type === 'humanPerformer') {
            /** @type {?} */
            var humanPerformerImpl = new HumanPerformerImpl(userActivity.Model);
            humanPerformerImpl.participantExpression = matrix;
            if (participant.condition) {
                /** @type {?} */
                var condition = new Condition(userActivity.Model);
                condition.Value = participant.condition;
                humanPerformerImpl.condition = condition;
            }
            humanPerformerImpl.order = participant.order;
            userActivity.AddResourceRole(humanPerformerImpl);
        }
        else if (type === 'potentialOwner') {
            /** @type {?} */
            var otentialOwnerImpl = new PotentialOwnerImpl(userActivity.Model);
            otentialOwnerImpl.participantExpression = matrix;
            if (participant.condition) {
                /** @type {?} */
                var condition = new Condition(userActivity.Model);
                condition.Value = participant.condition;
                otentialOwnerImpl.condition = condition;
            }
            otentialOwnerImpl.order = participant.order;
            if (scope) {
                matrix.actionScope = scope;
                userActivity.dynamicParticipants.push(matrix);
            }
            else {
                userActivity.AddResourceRole(otentialOwnerImpl);
            }
        }
    };
    /**
     *
     * @param userActivity
     * @param participant
     * @param type
     */
    /**
     *
     * @param {?} userActivity
     * @param {?} participant
     * @param {?} type
     * @param {?} scope
     * @return {?}
     */
    UserActivityCell.prototype.addOrganizationParticipant = /**
     *
     * @param {?} userActivity
     * @param {?} participant
     * @param {?} type
     * @param {?} scope
     * @return {?}
     */
    function (userActivity, participant, type, scope) {
        /** @type {?} */
        var potential;
        if (participant instanceof OrganizationParticipantExpression) {
            potential = participant;
        }
        else {
            participant = (/** @type {?} */ (participant));
            potential = new OrganizationParticipantExpression(userActivity.Model);
            potential.id = participant.id;
            potential.order = participant.order;
            potential.actionScope = ActionScope.AssignUser;
            // potential.organizationLevel = participant.organizationLevel;
            if (participant.organizationLevel === 'DEPARTMENT') {
                potential.organizationLevel = OrganizationLevel.DEPARTMENT;
            }
            else if (participant.organizationLevel === 'UNIT') {
                potential.organizationLevel = OrganizationLevel.UNIT;
            }
            else if (participant.organizationLevel === 'DEFAULT') {
                potential.organizationLevel = OrganizationLevel.DEFAULT;
            }
            potential.organizationId = participant.organizationId;
            potential.organizationName = participant.organizationName;
            potential.includeChildren = participant.includeChildren;
            potential.tag = participant.tag;
            if (participant.condition) {
                /** @type {?} */
                var condition = new Condition(userActivity.Model);
                condition.Value = participant.condition;
                potential.condition = condition;
            }
        }
        if (type === 'humanPerformer') {
            /** @type {?} */
            var humanPerformerImpl = new HumanPerformerImpl(userActivity.Model);
            humanPerformerImpl.participantExpression = potential;
            if (participant.condition) {
                /** @type {?} */
                var condition = new Condition(userActivity.Model);
                condition.Value = participant.condition;
                humanPerformerImpl.condition = condition;
            }
            humanPerformerImpl.order = participant.order;
            userActivity.AddResourceRole(humanPerformerImpl);
        }
        else if (type === 'potentialOwner') {
            /** @type {?} */
            var otentialOwnerImpl = new PotentialOwnerImpl(userActivity.Model);
            otentialOwnerImpl.participantExpression = potential;
            if (participant.condition) {
                /** @type {?} */
                var condition = new Condition(userActivity.Model);
                condition.Value = participant.condition;
                otentialOwnerImpl.condition = condition;
            }
            otentialOwnerImpl.order = participant.order;
            if (scope) {
                potential.actionScope = scope;
                userActivity.dynamicParticipants.push(potential);
            }
            else {
                userActivity.AddResourceRole(otentialOwnerImpl);
            }
        }
    };
    /**
     * 修改参与者选项
     * @param userActivity
     * @param obj
     */
    /**
     * 修改参与者选项
     * @param {?} userActivity
     * @param {?} obj
     * @return {?}
     */
    UserActivityCell.prototype.updateParticipantOptions = /**
     * 修改参与者选项
     * @param {?} userActivity
     * @param {?} obj
     * @return {?}
     */
    function (userActivity, obj) {
        /** @type {?} */
        var options = obj.propertyValue;
        if (userActivity.ParticipantSetting != null) {
            userActivity.ParticipantSetting.ExclusionPerformers = options.ExclusionPerformers;
            userActivity.ParticipantSetting.NoPerformerStrategy = options.NoPerformerStrategy;
            userActivity.ParticipantSetting.HistoricFirst = options.HistoricFirst;
            userActivity.ParticipantSetting.automaticPerformers = options.automaticPerformers;
        }
        else {
            /** @type {?} */
            var participantSetting = new ParticipantSetting(userActivity.Model);
            participantSetting.ExclusionPerformers = options.ExclusionPerformers;
            participantSetting.NoPerformerStrategy = options.NoPerformerStrategy;
            participantSetting.HistoricFirst = options.HistoricFirst;
            participantSetting.automaticPerformers = options.automaticPerformers;
            userActivity.ParticipantSetting = participantSetting;
        }
    };
    /**
     * 修改完成策略属性
     * @param graph
     * @param userActivity
     * @param obj
     * @param isOperation
     */
    /**
     * 修改完成策略属性
     * @param {?} userActivity
     * @param {?} obj
     * @param {?=} isOperation
     * @return {?}
     */
    UserActivityCell.prototype.resetExecuteWorkItemMode = /**
     * 修改完成策略属性
     * @param {?} userActivity
     * @param {?} obj
     * @param {?=} isOperation
     * @return {?}
     */
    function (userActivity, obj, isOperation) {
        if (isOperation === void 0) { isOperation = false; }
        if (userActivity) {
            userActivity.ExecuteWorkItemMode = obj.propertyValue;
            //抢占模式下清空会签规则
            if (userActivity.ExecuteWorkItemMode === ExecuteWorkItemMode.Preempt) {
                userActivity.CounterSignRules = null;
            }
            else {
                // 会签规则不存在时，即由抢占变为会签时，初始化会签规则
                // 并行会签和串行会签之间切换时，不刷新会签规则
                if (!userActivity.CounterSignRules) {
                    userActivity.CounterSignRules = new Array();
                }
                //会签策略时,不允许跳转；且驳回规则不允许动态选择驳回级次(驳回规则目前需要在流程设计器调整)
                userActivity.SelectTargetAble = false;
                userActivity.JumpScope = null;
                // 切换会签策略时，分配策略不能是领用,自动切换为所有
                // 2023-2-9 修复：由于新增了备选办理人，直接指派导致切换时时备选办理人丢失，修改为只有是领用才切到指所有
                if (userActivity.AssignmentStrategy === AssignmentStrategy.CLAIM) {
                    userActivity.AssignmentStrategy = AssignmentStrategy.ALL;
                }
            }
        }
    };
    /**
     * @param {?} userActivity
     * @param {?} obj
     * @param {?=} isOperation
     * @return {?}
     */
    UserActivityCell.prototype.resetDisplayTerminal = /**
     * @param {?} userActivity
     * @param {?} obj
     * @param {?=} isOperation
     * @return {?}
     */
    function (userActivity, obj, isOperation) {
        if (isOperation === void 0) { isOperation = false; }
        if (userActivity) {
            userActivity.DisplayTerminal = obj.propertyValue;
        }
    };
    /**
     * 更新会签规则属性
     * @param graph
     * @param userActivity
     * @param obj
     * @param isOperation
     */
    /**
     * 更新会签规则属性
     * @param {?} userActivity
     * @param {?} obj
     * @param {?=} isOperation
     * @return {?}
     */
    UserActivityCell.prototype.resetSignRules = /**
     * 更新会签规则属性
     * @param {?} userActivity
     * @param {?} obj
     * @param {?=} isOperation
     * @return {?}
     */
    function (userActivity, obj, isOperation) {
        if (isOperation === void 0) { isOperation = false; }
        var e_14, _a;
        if (userActivity) {
            /** @type {?} */
            var rules = (/** @type {?} */ (obj.propertyValue));
            userActivity.CounterSignRules = null;
            if (rules && rules.length > 0) {
                userActivity.CounterSignRules = new Array();
                try {
                    for (var rules_1 = tslib_1.__values(rules), rules_1_1 = rules_1.next(); !rules_1_1.done; rules_1_1 = rules_1.next()) {
                        var rule = rules_1_1.value;
                        /** @type {?} */
                        var counterSignRule = new CounterSignRule(userActivity.Model);
                        /** @type {?} */
                        var condition = new Condition(userActivity.Model);
                        condition.Value = rule.completionCondition;
                        counterSignRule.ConclusionValue = rule.conclusionValue;
                        counterSignRule.CalculateType = rule.calculateType;
                        counterSignRule.ConditionValue = rule.conditionValue;
                        counterSignRule.WaitAllVotes = rule.waitAllVotes;
                        counterSignRule.CompletionCondition = condition;
                        userActivity.CounterSignRules.push(counterSignRule);
                    }
                }
                catch (e_14_1) { e_14 = { error: e_14_1 }; }
                finally {
                    try {
                        if (rules_1_1 && !rules_1_1.done && (_a = rules_1.return)) _a.call(rules_1);
                    }
                    finally { if (e_14) throw e_14.error; }
                }
            }
        }
    };
    /**
     * 更新自定义项属性
     * @param graph
     * @param userActivity
     * @param obj
     * @param isOperation
     */
    /**
     * 更新自定义项属性
     * @param {?} userActivity
     * @param {?} obj
     * @param {?=} isOperation
     * @return {?}
     */
    UserActivityCell.prototype.resetApprovalItems = /**
     * 更新自定义项属性
     * @param {?} userActivity
     * @param {?} obj
     * @param {?=} isOperation
     * @return {?}
     */
    function (userActivity, obj, isOperation) {
        if (isOperation === void 0) { isOperation = false; }
        var e_15, _a;
        if (userActivity) {
            /** @type {?} */
            var conclusions = (/** @type {?} */ (obj.propertyValue));
            userActivity.Conclusions = new Array();
            try {
                for (var conclusions_2 = tslib_1.__values(conclusions), conclusions_2_1 = conclusions_2.next(); !conclusions_2_1.done; conclusions_2_1 = conclusions_2.next()) {
                    var conclusion = conclusions_2_1.value;
                    /** @type {?} */
                    var item = new ConclusionItem(userActivity.Model);
                    item.Value = conclusion.value;
                    item.Text = conclusion.text;
                    item.WorkFlowAction = conclusion.workFlowAction;
                    item.IsDefault = conclusion.isDefault;
                    item.commentNecessary = conclusion.commentNecessary;
                    item.certification = conclusion.certification;
                    item.attachmentNecessary = conclusion.attachmentNecessary;
                    item.signatureNecessary = conclusion.signatureNecessary;
                    item.defaultComment = conclusion.defaultComment;
                    userActivity.Conclusions.push(item);
                }
            }
            catch (e_15_1) { e_15 = { error: e_15_1 }; }
            finally {
                try {
                    if (conclusions_2_1 && !conclusions_2_1.done && (_a = conclusions_2.return)) _a.call(conclusions_2);
                }
                finally { if (e_15) throw e_15.error; }
            }
        }
        // 判断审批项是否包含驳回？不包含时，驳回规则清空
        if (!this.isBackConclusionExist(userActivity.Conclusions)) {
            userActivity.BackWardRule = null;
        }
        else if (!userActivity.BackWardRule) {
            userActivity.BackWardRule = new BackWardRule(userActivity.Model);
        }
    };
    /**
     * 更新审批活动表单定义属性
     * @param userActivity
     * @param obj
     * @param terminal
     */
    /**
     * 更新审批活动表单定义属性
     * @param {?} userActivity
     * @param {?} obj
     * @param {?} terminal
     * @return {?}
     */
    UserActivityCell.prototype.resetExecuteForm = /**
     * 更新审批活动表单定义属性
     * @param {?} userActivity
     * @param {?} obj
     * @param {?} terminal
     * @return {?}
     */
    function (userActivity, obj, terminal) {
        var e_16, _a;
        if (userActivity) {
            /** @type {?} */
            var form = (/** @type {?} */ (obj.propertyValue));
            if (!userActivity.ExecuteForms) {
                userActivity.ExecuteForms = new Array();
            }
            userActivity.ExecuteForms = userActivity.ExecuteForms.filter((/**
             * @param {?} e
             * @return {?}
             */
            function (e) { return e.TerminalType !== terminal; }));
            if (form) {
                /** @type {?} */
                var params = (/** @type {?} */ (form.ActualParameters));
                /** @type {?} */
                var actParas = new Array();
                if (params && params.length > 0) {
                    try {
                        for (var params_1 = tslib_1.__values(params), params_1_1 = params_1.next(); !params_1_1.done; params_1_1 = params_1.next()) {
                            var para = params_1_1.value;
                            /** @type {?} */
                            var actPara = new ActualParameter(userActivity.Model, para.Name, para.Value);
                            if (para.Tag) {
                                actPara.Tag = para.Tag;
                            }
                            else {
                                if (para.Value) {
                                    if (para.Value.length >= 8 && para.Value.slice(0, 8) === "{\"expr\":") {
                                        actPara.Tag = 'expression';
                                    }
                                    else {
                                        actPara.Tag = 'constant';
                                    }
                                }
                                else {
                                    actPara.Tag = 'variable';
                                }
                            }
                            actParas.push(actPara);
                        }
                    }
                    catch (e_16_1) { e_16 = { error: e_16_1 }; }
                    finally {
                        try {
                            if (params_1_1 && !params_1_1.done && (_a = params_1.return)) _a.call(params_1);
                        }
                        finally { if (e_16) throw e_16.error; }
                    }
                }
                /** @type {?} */
                var id = BpmnModelHelper.GenerateElementId();
                /** @type {?} */
                var item = new ExecuteForm(userActivity.Model, id, form.Name, actParas);
                item.ComponentId = form.ComponentId;
                item.FormType = form.FormType;
                item.formFormatId = form.formFormatId;
                item.formatConfigId = form.formatConfigId;
                item.TerminalType = form.TerminalType;
                userActivity.ExecuteForms.push(item);
            }
        }
    };
    /**
     * 更新是否允许跳转属性
     * @param graph
     * @param userActivity
     * @param obj
     * @param isOperation
     */
    /**
     * 更新是否允许跳转属性
     * @param {?} userActivity
     * @param {?} obj
     * @param {?=} isOperation
     * @return {?}
     */
    UserActivityCell.prototype.resetSelectTargetAble = /**
     * 更新是否允许跳转属性
     * @param {?} userActivity
     * @param {?} obj
     * @param {?=} isOperation
     * @return {?}
     */
    function (userActivity, obj, isOperation) {
        if (isOperation === void 0) { isOperation = false; }
        /** @type {?} */
        var SelectTargetAble = (/** @type {?} */ (obj.propertyValue));
        userActivity.SelectTargetAble = SelectTargetAble;
        if (userActivity.SelectTargetAble) {
        }
        else {
            userActivity.JumpScope = null;
        }
    };
    /**
     * @param {?} userActivity
     * @param {?} obj
     * @return {?}
     */
    UserActivityCell.prototype.resetJumpScope = /**
     * @param {?} userActivity
     * @param {?} obj
     * @return {?}
     */
    function (userActivity, obj) {
        /** @type {?} */
        var data = obj.propertyValue;
        if (data) {
            /** @type {?} */
            var jumpScope = new JumpScope(userActivity.Model);
            jumpScope.Category = data.Category;
            jumpScope.DefaultType = data.DefaultType;
            jumpScope.DestinationActivities = data.DestinationActivities;
            jumpScope.DefaultActivity = data.DefaultActivity;
            userActivity.JumpScope = jumpScope;
        }
        else {
            userActivity.JumpScope = null;
        }
    };
    /**
     * @param {?} userActivity
     * @param {?} obj
     * @return {?}
     */
    UserActivityCell.prototype.resetBackWardRule = /**
     * @param {?} userActivity
     * @param {?} obj
     * @return {?}
     */
    function (userActivity, obj) {
        /** @type {?} */
        var data = obj.propertyValue;
        /** @type {?} */
        var backWardRule = new BackWardRule(userActivity.Model);
        backWardRule.TargetRef = data.TargetRef;
        backWardRule.SelectTargetAble = data.SelectTargetAble;
        backWardRule.WaitReturn = data.WaitReturn;
        backWardRule.ResubmitEffect = data.ResubmitEffect;
        backWardRule.DynamicBackWardRuleAble = data.DynamicBackWardRuleAble;
        backWardRule.SelectTargetList = data.SelectTargetList;
        userActivity.BackWardRule = backWardRule;
    };
    /**
     * @param {?} userActivity
     * @param {?} obj
     * @return {?}
     */
    UserActivityCell.prototype.resetMultiInstanceLoopCharacteristics = /**
     * @param {?} userActivity
     * @param {?} obj
     * @return {?}
     */
    function (userActivity, obj) {
        var e_17, _a;
        if (obj.propertyValue) {
            /** @type {?} */
            var data = obj.propertyValue;
            /** @type {?} */
            var loopCharacteristics = new MultiInstanceLoopCharacteristics(userActivity.Model);
            loopCharacteristics.enable = data.enable;
            loopCharacteristics.sequential = data.sequential;
            loopCharacteristics.loopCardinality = new Expression(userActivity.Model);
            if (data.loopCardinality) {
                /** @type {?} */
                var variableExpression = new SemanticExpression(userActivity.Model);
                variableExpression.Value = data.loopCardinality;
                loopCharacteristics.loopCardinality.MexExpression = variableExpression;
            }
            loopCharacteristics.completionCondition = data.completionCondition;
            /** @type {?} */
            var rules = (/** @type {?} */ (data.completionConditionRules));
            loopCharacteristics.completionConditionRules = null;
            if (rules && rules.length > 0) {
                loopCharacteristics.completionConditionRules = new Array();
                try {
                    for (var rules_2 = tslib_1.__values(rules), rules_2_1 = rules_2.next(); !rules_2_1.done; rules_2_1 = rules_2.next()) {
                        var rule = rules_2_1.value;
                        /** @type {?} */
                        var counterSignRule = new CounterSignRule(userActivity.Model);
                        /** @type {?} */
                        var condition = new Condition(userActivity.Model);
                        condition.Value = rule.CompletionCondition.Value;
                        counterSignRule.ConclusionValue = rule.ConclusionValue;
                        counterSignRule.CalculateType = rule.CalculateType;
                        counterSignRule.ConditionValue = rule.ConditionValue;
                        counterSignRule.WaitAllVotes = rule.WaitAllVotes;
                        counterSignRule.CompletionCondition = condition;
                        loopCharacteristics.completionConditionRules.push(counterSignRule);
                    }
                }
                catch (e_17_1) { e_17 = { error: e_17_1 }; }
                finally {
                    try {
                        if (rules_2_1 && !rules_2_1.done && (_a = rules_2.return)) _a.call(rules_2);
                    }
                    finally { if (e_17) throw e_17.error; }
                }
            }
            userActivity.LoopCharacteristics = loopCharacteristics;
        }
    };
    /**
     * 更新活动节点标题
     * @param userActivity
     * @param obj
     */
    /**
     * 更新活动节点标题
     * @param {?} userActivity
     * @param {?} obj
     * @return {?}
     */
    UserActivityCell.prototype.modifyTitleExpression = /**
     * 更新活动节点标题
     * @param {?} userActivity
     * @param {?} obj
     * @return {?}
     */
    function (userActivity, obj) {
        if (userActivity.taskTitle) {
            userActivity.taskTitle.valueLanguage = obj.propertyValue;
            userActivity.taskTitle.value = obj.propertyValue['zh-CHS'];
        }
        else {
            /** @type {?} */
            var title = new TitleExpression(userActivity.Model, obj.propertyValue['zh-CHS'], obj.propertyValue);
            userActivity.taskTitle = title;
        }
    };
    /**
     * @param {?} userActivity
     * @param {?} obj
     * @return {?}
     */
    UserActivityCell.prototype.resetTools = /**
     * @param {?} userActivity
     * @param {?} obj
     * @return {?}
     */
    function (userActivity, obj) {
        var e_18, _a, e_19, _b;
        /** @type {?} */
        var tools = (/** @type {?} */ (obj.propertyValue));
        userActivity.Tools = new Array();
        if (tools && tools.length > 0) {
            try {
                for (var tools_1 = tslib_1.__values(tools), tools_1_1 = tools_1.next(); !tools_1_1.done; tools_1_1 = tools_1.next()) {
                    var tool = tools_1_1.value;
                    /** @type {?} */
                    var component = new Component(userActivity.Model);
                    component.Id = tool.id;
                    component.Name = tool.name;
                    component.Time = tool.executionTime;
                    // TODO 写死了构件类型
                    component.ComponentType = 'WebServiceComponent';
                    component.MetadataId = tool.metadataId;
                    component.MethodCode = tool.methodCode;
                    component.isForCompensation = tool.isForCompensation;
                    component.ActualParameters = [];
                    if (tool.actualParameters && ((/** @type {?} */ (tool.actualParameters))).length > 0) {
                        try {
                            for (var _c = tslib_1.__values(((/** @type {?} */ (tool.actualParameters)))), _d = _c.next(); !_d.done; _d = _c.next()) {
                                var a = _d.value;
                                /** @type {?} */
                                var parameter = new ActualParameter(userActivity.Model, a.code, a.value);
                                component.ActualParameters.push(parameter);
                            }
                        }
                        catch (e_19_1) { e_19 = { error: e_19_1 }; }
                        finally {
                            try {
                                if (_d && !_d.done && (_b = _c.return)) _b.call(_c);
                            }
                            finally { if (e_19) throw e_19.error; }
                        }
                    }
                    userActivity.Tools.push(component);
                }
            }
            catch (e_18_1) { e_18 = { error: e_18_1 }; }
            finally {
                try {
                    if (tools_1_1 && !tools_1_1.done && (_a = tools_1.return)) _a.call(tools_1);
                }
                finally { if (e_18) throw e_18.error; }
            }
        }
    };
    /**
     * @param {?} userActivity
     * @param {?} obj
     * @return {?}
     */
    UserActivityCell.prototype.updateSignFrontSet = /**
     * @param {?} userActivity
     * @param {?} obj
     * @return {?}
     */
    function (userActivity, obj) {
        var e_20, _a;
        /** @type {?} */
        var scope = (/** @type {?} */ (obj.propertyValue));
        userActivity.dynamicParticipants = userActivity.dynamicParticipants.filter((/**
         * @param {?} p
         * @return {?}
         */
        function (p) { return ((/** @type {?} */ (p))).actionScope !== ActionScope.AddSignFront; }));
        userActivity.AddSignFrontAble = scope.enable;
        if (scope.scope) {
            if (scope.scope.organizationLevel) {
                /** @type {?} */
                var organizationParticipantExpression = new OrganizationParticipantExpression(userActivity.Model);
                organizationParticipantExpression.id = BpmnModelHelper.GenerateElementId();
                organizationParticipantExpression.actionScope = ActionScope.AddSignFront;
                organizationParticipantExpression.organizationLevel = (/** @type {?} */ (scope.scope.organizationLevel));
                organizationParticipantExpression.organizationId = scope.scope.organizationId;
                organizationParticipantExpression.organizationName = scope.scope.organizationName;
                organizationParticipantExpression.includeChildren = scope.scope.includeChildren;
                organizationParticipantExpression.tag = scope.scope.tag;
                userActivity.dynamicParticipants.push(organizationParticipantExpression);
            }
            else {
                /** @type {?} */
                var performerInfo = (/** @type {?} */ (scope.scope.participantInfo));
                if (performerInfo.isAllScope && performerInfo.potentialOwnerList && performerInfo.potentialOwnerList.length > 0) {
                    try {
                        for (var _b = tslib_1.__values(performerInfo.potentialOwnerList), _c = _b.next(); !_c.done; _c = _b.next()) {
                            var potentialOwner = _c.value;
                            switch (potentialOwner.type ? potentialOwner.type : ((potentialOwner instanceof ParticipantExpression) ? potentialOwner.ClrTypeID : null)) {
                                case UserParticipantExpression.Clr_Type_ID:
                                    this.addUserParticipant(userActivity, (potentialOwner instanceof ParticipantExpression ? potentialOwner : (/** @type {?} */ (potentialOwner))), 'potentialOwner', ActionScope.AddSignFront);
                                    break;
                                case VariableParticipantExpression.Clr_Type_ID:
                                    this.addVariableParticipant(userActivity, (potentialOwner instanceof ParticipantExpression ? potentialOwner : (/** @type {?} */ (potentialOwner))), 'potentialOwner', ActionScope.AddSignFront);
                                    break;
                                case PositionParticipantExpression.Clr_Type_ID:
                                    this.addPositionParticipant(userActivity, (potentialOwner instanceof ParticipantExpression ? potentialOwner : (/** @type {?} */ (potentialOwner))), 'potentialOwner', ActionScope.AddSignFront);
                                    break;
                                case ComponentParticipantExpression.Clr_Type_ID:
                                    this.addComponentParticipant(userActivity, (potentialOwner instanceof ParticipantExpression ? potentialOwner : (/** @type {?} */ (potentialOwner))), 'potentialOwner', ActionScope.AddSignFront);
                                    break;
                                case ReportingLineParticipantExpression.Clr_Type_ID:
                                    this.addReportingLineParticipant(userActivity, (potentialOwner instanceof ParticipantExpression ? potentialOwner : (/** @type {?} */ (potentialOwner))), 'potentialOwner', ActionScope.AddSignFront);
                                    break;
                                case ActivityExecutorParticipantExpression.Clr_Type_ID:
                                    this.addActivityExecutorParticipant(userActivity, (potentialOwner instanceof ParticipantExpression ? potentialOwner : (/** @type {?} */ (potentialOwner))), 'potentialOwner', ActionScope.AddSignFront);
                                    break;
                                case MatrixParticipantExpression.Clr_Type_ID:
                                    this.addMatrixParticipant(userActivity, (potentialOwner instanceof ParticipantExpression ? potentialOwner : (/** @type {?} */ (potentialOwner))), 'potentialOwner', ActionScope.AddSignFront);
                                    break;
                                case OrganizationParticipantExpression.Clr_Type_ID:
                                    this.addOrganizationParticipant(userActivity, (potentialOwner instanceof ParticipantExpression ? potentialOwner : (/** @type {?} */ (potentialOwner))), 'potentialOwner', ActionScope.AddSignFront);
                                    break;
                            }
                        }
                    }
                    catch (e_20_1) { e_20 = { error: e_20_1 }; }
                    finally {
                        try {
                            if (_c && !_c.done && (_a = _b.return)) _a.call(_b);
                        }
                        finally { if (e_20) throw e_20.error; }
                    }
                }
            }
        }
    };
    /**
     * @param {?} userActivity
     * @param {?} obj
     * @return {?}
     */
    UserActivityCell.prototype.updateSignBehindsSet = /**
     * @param {?} userActivity
     * @param {?} obj
     * @return {?}
     */
    function (userActivity, obj) {
        var e_21, _a;
        /** @type {?} */
        var scope = (/** @type {?} */ (obj.propertyValue));
        userActivity.dynamicParticipants = userActivity.dynamicParticipants.filter((/**
         * @param {?} p
         * @return {?}
         */
        function (p) { return ((/** @type {?} */ (p))).actionScope !== ActionScope.AddSignBehind; }));
        userActivity.AddSignBehindAble = scope.enable;
        if (scope.scope) {
            if (scope.scope.organizationLevel) {
                /** @type {?} */
                var organizationParticipantExpression = new OrganizationParticipantExpression(userActivity.Model);
                organizationParticipantExpression.id = BpmnModelHelper.GenerateElementId();
                organizationParticipantExpression.actionScope = ActionScope.AddSignBehind;
                organizationParticipantExpression.organizationLevel = (/** @type {?} */ (scope.scope.organizationLevel));
                organizationParticipantExpression.organizationId = scope.scope.organizationId;
                organizationParticipantExpression.organizationName = scope.scope.organizationName;
                organizationParticipantExpression.includeChildren = scope.scope.includeChildren;
                organizationParticipantExpression.tag = scope.scope.tag;
                userActivity.dynamicParticipants.push(organizationParticipantExpression);
            }
            else {
                /** @type {?} */
                var performerInfo = (/** @type {?} */ (scope.scope.participantInfo));
                if (performerInfo.isAllScope && performerInfo.potentialOwnerList && performerInfo.potentialOwnerList.length > 0) {
                    try {
                        for (var _b = tslib_1.__values(performerInfo.potentialOwnerList), _c = _b.next(); !_c.done; _c = _b.next()) {
                            var potentialOwner = _c.value;
                            switch (potentialOwner.type ? potentialOwner.type : ((potentialOwner instanceof ParticipantExpression) ? potentialOwner.ClrTypeID : null)) {
                                case UserParticipantExpression.Clr_Type_ID:
                                    this.addUserParticipant(userActivity, potentialOwner instanceof ParticipantExpression ? potentialOwner : (/** @type {?} */ (potentialOwner)), 'potentialOwner', ActionScope.AddSignBehind);
                                    break;
                                case VariableParticipantExpression.Clr_Type_ID:
                                    this.addVariableParticipant(userActivity, potentialOwner instanceof ParticipantExpression ? potentialOwner : (/** @type {?} */ (potentialOwner)), 'potentialOwner', ActionScope.AddSignBehind);
                                    break;
                                case PositionParticipantExpression.Clr_Type_ID:
                                    this.addPositionParticipant(userActivity, potentialOwner instanceof ParticipantExpression ? potentialOwner : (/** @type {?} */ (potentialOwner)), 'potentialOwner', ActionScope.AddSignBehind);
                                    break;
                                case ComponentParticipantExpression.Clr_Type_ID:
                                    this.addComponentParticipant(userActivity, potentialOwner instanceof ParticipantExpression ? potentialOwner : (/** @type {?} */ (potentialOwner)), 'potentialOwner', ActionScope.AddSignBehind);
                                    break;
                                case ReportingLineParticipantExpression.Clr_Type_ID:
                                    this.addReportingLineParticipant(userActivity, potentialOwner instanceof ParticipantExpression ? potentialOwner : (/** @type {?} */ (potentialOwner)), 'potentialOwner', ActionScope.AddSignBehind);
                                    break;
                                case ActivityExecutorParticipantExpression.Clr_Type_ID:
                                    this.addActivityExecutorParticipant(userActivity, potentialOwner instanceof ParticipantExpression ? potentialOwner : (/** @type {?} */ (potentialOwner)), 'potentialOwner', ActionScope.AddSignBehind);
                                    break;
                                case MatrixParticipantExpression.Clr_Type_ID:
                                    this.addMatrixParticipant(userActivity, potentialOwner instanceof ParticipantExpression ? potentialOwner : (/** @type {?} */ (potentialOwner)), 'potentialOwner', ActionScope.AddSignBehind);
                                    break;
                                case OrganizationParticipantExpression.Clr_Type_ID:
                                    this.addOrganizationParticipant(userActivity, potentialOwner instanceof ParticipantExpression ? potentialOwner : (/** @type {?} */ (potentialOwner)), 'potentialOwner', ActionScope.AddSignBehind);
                                    break;
                            }
                        }
                    }
                    catch (e_21_1) { e_21 = { error: e_21_1 }; }
                    finally {
                        try {
                            if (_c && !_c.done && (_a = _b.return)) _a.call(_b);
                        }
                        finally { if (e_21) throw e_21.error; }
                    }
                }
            }
        }
    };
    /**
     * @param {?} userActivity
     * @param {?} obj
     * @return {?}
     */
    UserActivityCell.prototype.updateNotifySet = /**
     * @param {?} userActivity
     * @param {?} obj
     * @return {?}
     */
    function (userActivity, obj) {
        var e_22, _a;
        /** @type {?} */
        var scope = (/** @type {?} */ (obj.propertyValue));
        userActivity.dynamicParticipants = userActivity.dynamicParticipants.filter((/**
         * @param {?} p
         * @return {?}
         */
        function (p) { return ((/** @type {?} */ (p))).actionScope !== ActionScope.Notify; }));
        userActivity.NotifyAble = scope.enable;
        if (scope.scope) {
            if (scope.scope.organizationLevel) {
                /** @type {?} */
                var organizationParticipantExpression = new OrganizationParticipantExpression(userActivity.Model);
                organizationParticipantExpression.id = BpmnModelHelper.GenerateElementId();
                organizationParticipantExpression.actionScope = ActionScope.Notify;
                organizationParticipantExpression.organizationLevel = (/** @type {?} */ (scope.scope.organizationLevel));
                organizationParticipantExpression.organizationId = scope.scope.organizationId;
                organizationParticipantExpression.organizationName = scope.scope.organizationName;
                organizationParticipantExpression.includeChildren = scope.scope.includeChildren;
                organizationParticipantExpression.tag = scope.scope.tag;
                userActivity.dynamicParticipants.push(organizationParticipantExpression);
            }
            else {
                /** @type {?} */
                var performerInfo = (/** @type {?} */ (scope.scope.participantInfo));
                if (performerInfo.isAllScope && performerInfo.potentialOwnerList && performerInfo.potentialOwnerList.length > 0) {
                    try {
                        for (var _b = tslib_1.__values(performerInfo.potentialOwnerList), _c = _b.next(); !_c.done; _c = _b.next()) {
                            var potentialOwner = _c.value;
                            switch (potentialOwner.type ? potentialOwner.type : ((potentialOwner instanceof ParticipantExpression) ? potentialOwner.ClrTypeID : null)) {
                                case UserParticipantExpression.Clr_Type_ID:
                                    this.addUserParticipant(userActivity, potentialOwner instanceof ParticipantExpression ? potentialOwner : (/** @type {?} */ (potentialOwner)), 'potentialOwner', ActionScope.Notify);
                                    break;
                                case VariableParticipantExpression.Clr_Type_ID:
                                    this.addVariableParticipant(userActivity, potentialOwner instanceof ParticipantExpression ? potentialOwner : (/** @type {?} */ (potentialOwner)), 'potentialOwner', ActionScope.Notify);
                                    break;
                                case PositionParticipantExpression.Clr_Type_ID:
                                    this.addPositionParticipant(userActivity, potentialOwner instanceof ParticipantExpression ? potentialOwner : (/** @type {?} */ (potentialOwner)), 'potentialOwner', ActionScope.Notify);
                                    break;
                                case ComponentParticipantExpression.Clr_Type_ID:
                                    this.addComponentParticipant(userActivity, potentialOwner instanceof ParticipantExpression ? potentialOwner : (/** @type {?} */ (potentialOwner)), 'potentialOwner', ActionScope.Notify);
                                    break;
                                case ReportingLineParticipantExpression.Clr_Type_ID:
                                    this.addReportingLineParticipant(userActivity, potentialOwner instanceof ParticipantExpression ? potentialOwner : (/** @type {?} */ (potentialOwner)), 'potentialOwner', ActionScope.Notify);
                                    break;
                                case ActivityExecutorParticipantExpression.Clr_Type_ID:
                                    this.addActivityExecutorParticipant(userActivity, potentialOwner instanceof ParticipantExpression ? potentialOwner : (/** @type {?} */ (potentialOwner)), 'potentialOwner', ActionScope.Notify);
                                    break;
                                case MatrixParticipantExpression.Clr_Type_ID:
                                    this.addMatrixParticipant(userActivity, potentialOwner instanceof ParticipantExpression ? potentialOwner : (/** @type {?} */ (potentialOwner)), 'potentialOwner', ActionScope.Notify);
                                    break;
                                case OrganizationParticipantExpression.Clr_Type_ID:
                                    this.addOrganizationParticipant(userActivity, potentialOwner instanceof ParticipantExpression ? potentialOwner : (/** @type {?} */ (potentialOwner)), 'potentialOwner', ActionScope.Notify);
                                    break;
                            }
                        }
                    }
                    catch (e_22_1) { e_22 = { error: e_22_1 }; }
                    finally {
                        try {
                            if (_c && !_c.done && (_a = _b.return)) _a.call(_b);
                        }
                        finally { if (e_22) throw e_22.error; }
                    }
                }
            }
        }
    };
    /**
     * @param {?} userActivity
     * @param {?} obj
     * @return {?}
     */
    UserActivityCell.prototype.updateTransferScope = /**
     * @param {?} userActivity
     * @param {?} obj
     * @return {?}
     */
    function (userActivity, obj) {
        var e_23, _a;
        /** @type {?} */
        var scope = (/** @type {?} */ (obj.propertyValue));
        userActivity.dynamicParticipants = userActivity.dynamicParticipants.filter((/**
         * @param {?} p
         * @return {?}
         */
        function (p) { return ((/** @type {?} */ (p))).actionScope !== ActionScope.Transfer; }));
        userActivity.transferAble = scope.enable;
        if (scope.scope) {
            if (scope.scope.organizationLevel) {
                /** @type {?} */
                var organizationParticipantExpression = new OrganizationParticipantExpression(userActivity.Model);
                organizationParticipantExpression.id = BpmnModelHelper.GenerateElementId();
                organizationParticipantExpression.actionScope = ActionScope.Transfer;
                organizationParticipantExpression.organizationLevel = (/** @type {?} */ (scope.scope.organizationLevel));
                organizationParticipantExpression.organizationId = scope.scope.organizationId;
                organizationParticipantExpression.organizationName = scope.scope.organizationName;
                organizationParticipantExpression.includeChildren = scope.scope.includeChildren;
                organizationParticipantExpression.tag = scope.scope.tag;
                userActivity.dynamicParticipants.push(organizationParticipantExpression);
            }
            else {
                /** @type {?} */
                var performerInfo = (/** @type {?} */ (scope.scope.participantInfo));
                if (performerInfo.isAllScope && performerInfo.potentialOwnerList && performerInfo.potentialOwnerList.length > 0) {
                    try {
                        for (var _b = tslib_1.__values(performerInfo.potentialOwnerList), _c = _b.next(); !_c.done; _c = _b.next()) {
                            var potentialOwner = _c.value;
                            switch (potentialOwner.type ? potentialOwner.type : ((potentialOwner instanceof ParticipantExpression) ? potentialOwner.ClrTypeID : null)) {
                                case UserParticipantExpression.Clr_Type_ID:
                                    this.addUserParticipant(userActivity, potentialOwner instanceof ParticipantExpression ? potentialOwner : (/** @type {?} */ (potentialOwner)), 'potentialOwner', ActionScope.Transfer);
                                    break;
                                case VariableParticipantExpression.Clr_Type_ID:
                                    this.addVariableParticipant(userActivity, potentialOwner instanceof ParticipantExpression ? potentialOwner : (/** @type {?} */ (potentialOwner)), 'potentialOwner', ActionScope.Transfer);
                                    break;
                                case PositionParticipantExpression.Clr_Type_ID:
                                    this.addPositionParticipant(userActivity, potentialOwner instanceof ParticipantExpression ? potentialOwner : (/** @type {?} */ (potentialOwner)), 'potentialOwner', ActionScope.Transfer);
                                    break;
                                case ComponentParticipantExpression.Clr_Type_ID:
                                    this.addComponentParticipant(userActivity, potentialOwner instanceof ParticipantExpression ? potentialOwner : (/** @type {?} */ (potentialOwner)), 'potentialOwner', ActionScope.Transfer);
                                    break;
                                case ReportingLineParticipantExpression.Clr_Type_ID:
                                    this.addReportingLineParticipant(userActivity, potentialOwner instanceof ParticipantExpression ? potentialOwner : (/** @type {?} */ (potentialOwner)), 'potentialOwner', ActionScope.Transfer);
                                    break;
                                case ActivityExecutorParticipantExpression.Clr_Type_ID:
                                    this.addActivityExecutorParticipant(userActivity, potentialOwner instanceof ParticipantExpression ? potentialOwner : (/** @type {?} */ (potentialOwner)), 'potentialOwner', ActionScope.Transfer);
                                    break;
                                case MatrixParticipantExpression.Clr_Type_ID:
                                    this.addMatrixParticipant(userActivity, potentialOwner instanceof ParticipantExpression ? potentialOwner : (/** @type {?} */ (potentialOwner)), 'potentialOwner', ActionScope.Transfer);
                                    break;
                                case OrganizationParticipantExpression.Clr_Type_ID:
                                    this.addOrganizationParticipant(userActivity, potentialOwner instanceof ParticipantExpression ? potentialOwner : (/** @type {?} */ (potentialOwner)), 'potentialOwner', ActionScope.Transfer);
                                    break;
                            }
                        }
                    }
                    catch (e_23_1) { e_23 = { error: e_23_1 }; }
                    finally {
                        try {
                            if (_c && !_c.done && (_a = _b.return)) _a.call(_b);
                        }
                        finally { if (e_23) throw e_23.error; }
                    }
                }
            }
        }
    };
    /**
     * @param {?} userActivity
     * @param {?} obj
     * @return {?}
     */
    UserActivityCell.prototype.updateTimeLimitControl = /**
     * @param {?} userActivity
     * @param {?} obj
     * @return {?}
     */
    function (userActivity, obj) {
        var e_24, _a, e_25, _b;
        /** @type {?} */
        var timeLimitInfo = (/** @type {?} */ (obj.propertyValue));
        userActivity.timeLimitControl = null;
        if (timeLimitInfo) {
            /** @type {?} */
            var control = new TimeLimitControl(userActivity.Model);
            control.enable = timeLimitInfo.enable;
            control.tag = timeLimitInfo.tag;
            control.dueTime = timeLimitInfo.dueTime;
            control.timeUnit = timeLimitInfo.timeUnit;
            control.expireOperations = new Array();
            if (timeLimitInfo.expireOperations && timeLimitInfo.expireOperations.length > 0) {
                try {
                    for (var _c = tslib_1.__values(timeLimitInfo.expireOperations), _d = _c.next(); !_d.done; _d = _c.next()) {
                        var o = _d.value;
                        if (o.operationTypeName === 'SendMessageExpireOperation' || !o.operationTypeName) {
                            /** @type {?} */
                            var entity = (/** @type {?} */ (o));
                            /** @type {?} */
                            var sendMessage = new SendMessageExpireOperation(userActivity.Model);
                            sendMessage.id = BpmnModelHelper.GenerateElementId();
                            sendMessage.durationType = (/** @type {?} */ (entity.durationType));
                            sendMessage.timeDuration = entity.timeDuration;
                            sendMessage.timeUnit = entity.timeUnit;
                            sendMessage.message = entity.message;
                            sendMessage.subject = entity.subject;
                            sendMessage.sendType = entity.sendType;
                            sendMessage.receiver = entity.receiver;
                            sendMessage.cycleEnable = entity.cycleEnable;
                            sendMessage.cycleTime = entity.cycleTime;
                            sendMessage.cycleTimeUnit = entity.cycleTimeUnit;
                            sendMessage.operationTypeName = entity.operationTypeName ? entity.operationTypeName : 'SendMessageExpireOperation';
                            if (entity.smsMessageTemplate) {
                                /** @type {?} */
                                var smsMessageTemplate = new SmsMessageTemplate(userActivity.Model);
                                smsMessageTemplate.code = entity.smsMessageTemplate.code;
                                smsMessageTemplate.content = entity.smsMessageTemplate.content;
                                smsMessageTemplate.smsMessageVariables = new Array();
                                if (entity.smsMessageTemplate.smsMessageVariables && entity.smsMessageTemplate.smsMessageVariables.length > 0) {
                                    try {
                                        for (var _e = tslib_1.__values(entity.smsMessageTemplate.smsMessageVariables), _f = _e.next(); !_f.done; _f = _e.next()) {
                                            var v = _f.value;
                                            /** @type {?} */
                                            var variable = new SmsMessageVariable(userActivity.Model);
                                            variable.code = v.code;
                                            variable.value = v.value;
                                            variable.tag = v.tag;
                                            smsMessageTemplate.smsMessageVariables.push(variable);
                                        }
                                    }
                                    catch (e_25_1) { e_25 = { error: e_25_1 }; }
                                    finally {
                                        try {
                                            if (_f && !_f.done && (_b = _e.return)) _b.call(_e);
                                        }
                                        finally { if (e_25) throw e_25.error; }
                                    }
                                }
                                sendMessage.smsMessageTemplate = smsMessageTemplate;
                            }
                            control.expireOperations.push(sendMessage);
                        }
                        else if (o.operationTypeName === 'AutoHandleExpireOperation') {
                            /** @type {?} */
                            var operation = (/** @type {?} */ (o));
                            /** @type {?} */
                            var autoHandle = new AutoHandleExpireOperation(userActivity.Model);
                            autoHandle.id = o.id;
                            autoHandle.durationType = operation.durationType;
                            autoHandle.timeDuration = operation.timeDuration;
                            autoHandle.timeUnit = operation.timeUnit;
                            autoHandle.operationTypeName = operation.operationTypeName ? operation.operationTypeName : 'AutoHandleExpireOperation';
                            autoHandle.autoHandleType = operation.autoHandleType;
                            autoHandle.message = operation.message;
                            control.expireOperations.push(autoHandle);
                        }
                    }
                }
                catch (e_24_1) { e_24 = { error: e_24_1 }; }
                finally {
                    try {
                        if (_d && !_d.done && (_a = _c.return)) _a.call(_c);
                    }
                    finally { if (e_24) throw e_24.error; }
                }
            }
            userActivity.timeLimitControl = control;
        }
    };
    /**
     * @param {?} userActivity
     * @param {?} obj
     * @return {?}
     */
    UserActivityCell.prototype.updateAnonymousSet = /**
     * @param {?} userActivity
     * @param {?} obj
     * @return {?}
     */
    function (userActivity, obj) {
        /** @type {?} */
        var anonymousSet = obj.propertyValue;
        if (anonymousSet) {
            userActivity.anonymous = anonymousSet.isAnonymity;
            userActivity.anonymousText = anonymousSet.anonymous;
        }
    };
    /**
     * @param {?} userActivity
     * @param {?} obj
     * @return {?}
     */
    UserActivityCell.prototype.updateCustomizeActions = /**
     * @param {?} userActivity
     * @param {?} obj
     * @return {?}
     */
    function (userActivity, obj) {
        var e_26, _a, e_27, _b;
        /** @type {?} */
        var actions = (/** @type {?} */ (obj.propertyValue));
        userActivity.customizeActions = new Array();
        if (actions && actions.length > 0) {
            try {
                for (var actions_1 = tslib_1.__values(actions), actions_1_1 = actions_1.next(); !actions_1_1.done; actions_1_1 = actions_1.next()) {
                    var a = actions_1_1.value;
                    /** @type {?} */
                    var action = new CustomizeAction(userActivity.Model);
                    action.id = BpmnModelHelper.GenerateElementId();
                    action.code = a.code;
                    action.name = a.name;
                    action.terminalType = a.terminalType;
                    action.actualParameters = [];
                    if (a.actualParameters && a.actualParameters.length > 0) {
                        try {
                            for (var _c = tslib_1.__values(a.actualParameters), _d = _c.next(); !_d.done; _d = _c.next()) {
                                var p = _d.value;
                                /** @type {?} */
                                var parameter = new ActualParameter(userActivity.Model, p.Name, p.Value, p.ValueText, p.Tag || 'expression');
                                action.actualParameters.push(parameter);
                            }
                        }
                        catch (e_27_1) { e_27 = { error: e_27_1 }; }
                        finally {
                            try {
                                if (_d && !_d.done && (_b = _c.return)) _b.call(_c);
                            }
                            finally { if (e_27) throw e_27.error; }
                        }
                    }
                    userActivity.customizeActions.push(action);
                }
            }
            catch (e_26_1) { e_26 = { error: e_26_1 }; }
            finally {
                try {
                    if (actions_1_1 && !actions_1_1.done && (_a = actions_1.return)) _a.call(actions_1);
                }
                finally { if (e_26) throw e_26.error; }
            }
        }
    };
    /**
     * @param {?} userActivity
     * @param {?} obj
     * @return {?}
     */
    UserActivityCell.prototype.updateVariableSettings = /**
     * @param {?} userActivity
     * @param {?} obj
     * @return {?}
     */
    function (userActivity, obj) {
        var e_28, _a, e_29, _b, e_30, _c;
        /** @type {?} */
        var bpmnModel = userActivity.Model;
        /** @type {?} */
        var extendElements = bpmnModel.DefaultProcess.GetExtensionElements();
        if (userActivity.variableSettings && userActivity.variableSettings.length > 0) {
            var _loop_1 = function (v) {
                if (v.tag === 'component') {
                    /** @type {?} */
                    var i = extendElements.findIndex((/**
                     * @param {?} e
                     * @return {?}
                     */
                    function (e) { return (e instanceof Component && e.Id === v.value); }));
                    extendElements.splice(i, 1);
                }
            };
            try {
                for (var _d = tslib_1.__values(userActivity.variableSettings), _e = _d.next(); !_e.done; _e = _d.next()) {
                    var v = _e.value;
                    _loop_1(v);
                }
            }
            catch (e_28_1) { e_28 = { error: e_28_1 }; }
            finally {
                try {
                    if (_e && !_e.done && (_a = _d.return)) _a.call(_d);
                }
                finally { if (e_28) throw e_28.error; }
            }
        }
        userActivity.variableSettings = new Array();
        /** @type {?} */
        var variables = (/** @type {?} */ (obj.propertyValue));
        if (variables && variables.length > 0) {
            try {
                for (var variables_1 = tslib_1.__values(variables), variables_1_1 = variables_1.next(); !variables_1_1.done; variables_1_1 = variables_1.next()) {
                    var v = variables_1_1.value;
                    /** @type {?} */
                    var variableSetting = new VariableSetting(bpmnModel);
                    variableSetting.variableCode = v.variableCode;
                    variableSetting.variableName = v.variableName;
                    variableSetting.tag = v.tag;
                    variableSetting.executionTime = v.executionTime;
                    variableSetting.value = v.value;
                    variableSetting.valueText = v.valueText;
                    userActivity.variableSettings.push(variableSetting);
                    if (variableSetting.tag === 'component') {
                        /** @type {?} */
                        var c = v.component;
                        if (c) {
                            /** @type {?} */
                            var cpt = new Component(bpmnModel);
                            cpt.MetadataId = c.MetadataId;
                            cpt.MethodCode = c.MethodCode;
                            cpt.Id = c.Id;
                            cpt.Name = c.Name;
                            cpt.ActualParameters = new Array();
                            if (c.ActualParameters && c.ActualParameters.length > 0) {
                                try {
                                    for (var _f = tslib_1.__values(c.ActualParameters), _g = _f.next(); !_g.done; _g = _f.next()) {
                                        var a = _g.value;
                                        /** @type {?} */
                                        var parameter = new ActualParameter(bpmnModel, a.Name, a.Value);
                                        parameter.Tag = a.Tag;
                                        cpt.ActualParameters.push(parameter);
                                    }
                                }
                                catch (e_30_1) { e_30 = { error: e_30_1 }; }
                                finally {
                                    try {
                                        if (_g && !_g.done && (_c = _f.return)) _c.call(_f);
                                    }
                                    finally { if (e_30) throw e_30.error; }
                                }
                            }
                            extendElements.push(cpt);
                        }
                    }
                }
            }
            catch (e_29_1) { e_29 = { error: e_29_1 }; }
            finally {
                try {
                    if (variables_1_1 && !variables_1_1.done && (_b = variables_1.return)) _b.call(variables_1);
                }
                finally { if (e_29) throw e_29.error; }
            }
        }
    };
    /**
     * @param {?} userActivity
     * @param {?} obj
     * @return {?}
     */
    UserActivityCell.prototype.updateImageSettings = /**
     * @param {?} userActivity
     * @param {?} obj
     * @return {?}
     */
    function (userActivity, obj) {
        /** @type {?} */
        var Settings = (/** @type {?} */ (obj.propertyValue));
        if (userActivity.imageSettings) {
            userActivity.imageSettings = new ImageSettings(userActivity.Model);
        }
        if (Settings && Settings.imageOperation) {
            /** @type {?} */
            var imageSettings = new ImageSettings(userActivity.Model);
            imageSettings.imageOperation = Settings.imageOperation;
            userActivity.imageSettings = imageSettings;
        }
    };
    /**
     * @param {?} userActivity
     * @param {?} obj
     * @param {?=} isOperation
     * @return {?}
     */
    UserActivityCell.prototype.updateCheckConditions = /**
     * @param {?} userActivity
     * @param {?} obj
     * @param {?=} isOperation
     * @return {?}
     */
    function (userActivity, obj, isOperation) {
        if (isOperation === void 0) { isOperation = false; }
        var e_31, _a;
        /** @type {?} */
        var checkConditions = (/** @type {?} */ (obj.propertyValue));
        userActivity.checkConditions = new Array();
        try {
            for (var checkConditions_1 = tslib_1.__values(checkConditions), checkConditions_1_1 = checkConditions_1.next(); !checkConditions_1_1.done; checkConditions_1_1 = checkConditions_1.next()) {
                var c = checkConditions_1_1.value;
                if (c.value) {
                    /** @type {?} */
                    var condition = new CheckCondition(userActivity.Model);
                    condition.value = c.value;
                    condition.checkTime = c.checkTime;
                    condition.errorTips = new Map();
                    if (c.errorTips) {
                        for (var key in c.errorTips) {
                            condition.errorTips.set(key, c.errorTips[key]);
                        }
                    }
                    userActivity.checkConditions.push(condition);
                }
            }
        }
        catch (e_31_1) { e_31 = { error: e_31_1 }; }
        finally {
            try {
                if (checkConditions_1_1 && !checkConditions_1_1.done && (_a = checkConditions_1.return)) _a.call(checkConditions_1);
            }
            finally { if (e_31) throw e_31.error; }
        }
    };
    /**
     * @param {?} userActivity
     * @param {?} obj
     * @return {?}
     */
    UserActivityCell.prototype.updateOtherAssignNodes = /**
     * @param {?} userActivity
     * @param {?} obj
     * @return {?}
     */
    function (userActivity, obj) {
        /** @type {?} */
        var data = obj.propertyValue;
        if (data) {
            // const otherAssignNodes = new OtherAssignNodes(userActivity.Model);
            // otherAssignNodes.otherAssignActivities = new Array();
            // userActivity.otherAssignNodes = otherAssignNodes;
            userActivity.otherAssignNodes = new OtherAssignNodes(userActivity.Model);
        }
        else {
            userActivity.otherAssignNodes = null;
        }
    };
    /**
     * @param {?} userActivity
     * @param {?} obj
     * @return {?}
     */
    UserActivityCell.prototype.updateOtherAssignActivities = /**
     * @param {?} userActivity
     * @param {?} obj
     * @return {?}
     */
    function (userActivity, obj) {
        /** @type {?} */
        var data = obj.propertyValue;
        if (data && data.length > 0) {
            if (typeof data[0] === "string") {
                userActivity.otherAssignNodes.otherAssignActivityNodeInfos = new Array();
                data.forEach((/**
                 * @param {?} d
                 * @return {?}
                 */
                function (d) {
                    /** @type {?} */
                    var other = new OtherAssignActivityNodeInfo(userActivity.Model);
                    other.activityDefinitionId = d;
                    other.required = false;
                    other.condition = new Condition(userActivity.Model);
                    userActivity.otherAssignNodes.otherAssignActivityNodeInfos.push(other);
                }));
            }
            else {
                userActivity.otherAssignNodes.otherAssignActivityNodeInfos = new Array();
                data.forEach((/**
                 * @param {?} d
                 * @return {?}
                 */
                function (d) {
                    /** @type {?} */
                    var other = new OtherAssignActivityNodeInfo(userActivity.Model);
                    other.activityDefinitionId = d.activityDefinitionId;
                    other.required = d.required;
                    other.condition = new Condition(userActivity.Model);
                    other.condition.Value = d.condition.Value;
                    userActivity.otherAssignNodes.otherAssignActivityNodeInfos.push(other);
                }));
            }
            // userActivity.otherAssignNodes.otherAssignActivities = [...data];
        }
        else {
            userActivity.otherAssignNodes.otherAssignActivityNodeInfos = new Array();
        }
    };
    /**
     * @param {?} userActivity
     * @param {?} obj
     * @return {?}
     */
    UserActivityCell.prototype.updateMessageNotices = /**
     * @param {?} userActivity
     * @param {?} obj
     * @return {?}
     */
    function (userActivity, obj) {
        var e_32, _a, e_33, _b, e_34, _c, e_35, _d;
        /** @type {?} */
        var notices = (/** @type {?} */ (obj.propertyValue));
        userActivity.messageNotices = new Array();
        if (notices && notices.length > 0) {
            try {
                for (var notices_1 = tslib_1.__values(notices), notices_1_1 = notices_1.next(); !notices_1_1.done; notices_1_1 = notices_1.next()) {
                    var n = notices_1_1.value;
                    /** @type {?} */
                    var messageNotice = new MessageNotice(userActivity.Model);
                    messageNotice.sendType = n.sendType;
                    messageNotice.sendTime = n.sendTime;
                    messageNotice.subject = n.subject;
                    messageNotice.content = n.content;
                    n.receivers = n.receivers.filter((/**
                     * @param {?} r
                     * @return {?}
                     */
                    function (r) { return r.type; }));
                    if (n.receivers && n.receivers.length > 0) {
                        /** @type {?} */
                        var receivers = n.receivers.filter((/**
                         * @param {?} r
                         * @return {?}
                         */
                        function (r) { return r.type === 'userParticipant'
                            || (r.type === 'processParticipant' && r.processParticipant !== 'activityExecutorParticipant'); }));
                        /** @type {?} */
                        var participants = n.receivers.filter((/**
                         * @param {?} r
                         * @return {?}
                         */
                        function (r) { return r.type === 'variableParticipant' || r.type === 'positionParticipant'
                            || (r.type === 'processParticipant' && r.processParticipant === 'activityExecutorParticipant'); }));
                        if (receivers && receivers.length > 0) {
                            /** @type {?} */
                            var receiver = '';
                            /** @type {?} */
                            var receiverName = '';
                            try {
                                for (var receivers_1 = tslib_1.__values(receivers), receivers_1_1 = receivers_1.next(); !receivers_1_1.done; receivers_1_1 = receivers_1.next()) {
                                    var r = receivers_1_1.value;
                                    if (r.type === 'processParticipant') {
                                        receiver += (r.processParticipant + ',');
                                        if (r.processParticipant === 'procInstCreator') {
                                            receiverName += '流程发起人,';
                                        }
                                        else if (r.processParticipant === 'workItemParticipant') {
                                            receiverName += '任务接收人,';
                                        }
                                    }
                                    else if (r.type === 'userParticipant') {
                                        receiver += (r.userIds + ',');
                                        receiverName += (r.userNames + ',');
                                    }
                                }
                            }
                            catch (e_33_1) { e_33 = { error: e_33_1 }; }
                            finally {
                                try {
                                    if (receivers_1_1 && !receivers_1_1.done && (_b = receivers_1.return)) _b.call(receivers_1);
                                }
                                finally { if (e_33) throw e_33.error; }
                            }
                            if (receiver) {
                                receiver = receiver.substring(0, receiver.length - 1);
                            }
                            if (receiverName) {
                                receiverName = receiverName.substring(0, receiverName.length - 1);
                            }
                            messageNotice.receiver = receiver;
                            messageNotice.receiverText = receiverName;
                        }
                        if (participants && participants.length > 0) {
                            /** @type {?} */
                            var receiverExpressions = new Array();
                            try {
                                for (var participants_1 = tslib_1.__values(participants), participants_1_1 = participants_1.next(); !participants_1_1.done; participants_1_1 = participants_1.next()) {
                                    var p = participants_1_1.value;
                                    if (p.type === 'processParticipant') {
                                        /** @type {?} */
                                        var activityExecutor = new ActivityExecutorParticipantExpression(userActivity.Model);
                                        activityExecutor.id = BpmnModelHelper.GenerateElementId();
                                        activityExecutor.activityDefId = p.activityDefId;
                                        activityExecutor.activityDefName = p.activityDefName;
                                        receiverExpressions.push(activityExecutor);
                                    }
                                    if (p.type === 'variableParticipant') {
                                        /** @type {?} */
                                        var variableParticipant = new UserParticipantExpression(userActivity.Model, p.variableParticipant, p.variableName, p.orgType);
                                        variableParticipant.id = BpmnModelHelper.GenerateElementId();
                                        variableParticipant.Tag = 'expression';
                                        variableParticipant.OrgType = p.orgType;
                                        receiverExpressions.push(variableParticipant);
                                    }
                                    if (p.type === 'positionParticipant') {
                                        /** @type {?} */
                                        var posiParticipant = new PositionParticipantExpression(userActivity.Model, p.positionId, p.positionName);
                                        posiParticipant.id = BpmnModelHelper.GenerateElementId();
                                        posiParticipant.PositionType = p.positionType;
                                        if (p.positionType === '1') {
                                            posiParticipant.OrgId = p.orgId;
                                            posiParticipant.OrgType = p.orgType;
                                        }
                                        receiverExpressions.push(posiParticipant);
                                    }
                                }
                            }
                            catch (e_34_1) { e_34 = { error: e_34_1 }; }
                            finally {
                                try {
                                    if (participants_1_1 && !participants_1_1.done && (_c = participants_1.return)) _c.call(participants_1);
                                }
                                finally { if (e_34) throw e_34.error; }
                            }
                            messageNotice.receiverExpressions = receiverExpressions;
                        }
                    }
                    if (n.smsMessageTemplate) {
                        /** @type {?} */
                        var smsMessageTemplate = new SmsMessageTemplate(userActivity.Model);
                        smsMessageTemplate.code = n.smsMessageTemplate.code;
                        smsMessageTemplate.content = n.smsMessageTemplate.content;
                        smsMessageTemplate.smsMessageVariables = new Array();
                        if (n.smsMessageTemplate.smsMessageVariables && n.smsMessageTemplate.smsMessageVariables.length > 0) {
                            try {
                                for (var _e = tslib_1.__values(n.smsMessageTemplate.smsMessageVariables), _f = _e.next(); !_f.done; _f = _e.next()) {
                                    var v = _f.value;
                                    /** @type {?} */
                                    var variable = new SmsMessageVariable(userActivity.Model);
                                    variable.code = v.code;
                                    variable.value = v.value;
                                    variable.tag = v.tag;
                                    smsMessageTemplate.smsMessageVariables.push(variable);
                                }
                            }
                            catch (e_35_1) { e_35 = { error: e_35_1 }; }
                            finally {
                                try {
                                    if (_f && !_f.done && (_d = _e.return)) _d.call(_e);
                                }
                                finally { if (e_35) throw e_35.error; }
                            }
                        }
                        messageNotice.smsMessageTemplate = smsMessageTemplate;
                    }
                    userActivity.messageNotices.push(messageNotice);
                }
            }
            catch (e_32_1) { e_32 = { error: e_32_1 }; }
            finally {
                try {
                    if (notices_1_1 && !notices_1_1.done && (_a = notices_1.return)) _a.call(notices_1);
                }
                finally { if (e_32) throw e_32.error; }
            }
        }
    };
    /**
     * @param {?} userActivity
     * @param {?} obj
     * @return {?}
     */
    UserActivityCell.prototype.updateApprovalPivotConfig = /**
     * @param {?} userActivity
     * @param {?} obj
     * @return {?}
     */
    function (userActivity, obj) {
        var e_36, _a;
        /** @type {?} */
        var config = obj.propertyValue;
        /** @type {?} */
        var approvalPivotConfig = new ApprovalPivotConfig(userActivity.Model);
        approvalPivotConfig.enable = config.enable;
        approvalPivotConfig.expand = config.expand;
        approvalPivotConfig.title = config.title;
        approvalPivotConfig.approvalPivots = new Array();
        if (config.approvalPivots && config.approvalPivots.length > 0) {
            try {
                for (var _b = tslib_1.__values(config.approvalPivots), _c = _b.next(); !_c.done; _c = _b.next()) {
                    var a = _c.value;
                    /** @type {?} */
                    var approvalPivot = new ApprovalPivot(userActivity.Model);
                    approvalPivot.type = a.type;
                    approvalPivot.title = a.title;
                    approvalPivot.description = a.description;
                    if (a.condition) {
                        /** @type {?} */
                        var condition = new Condition(userActivity.Model);
                        condition.Value = a.condition;
                        approvalPivot.condition = condition;
                    }
                    approvalPivotConfig.approvalPivots.push(approvalPivot);
                }
            }
            catch (e_36_1) { e_36 = { error: e_36_1 }; }
            finally {
                try {
                    if (_c && !_c.done && (_a = _b.return)) _a.call(_b);
                }
                finally { if (e_36) throw e_36.error; }
            }
        }
        userActivity.approvalPivotConfig = approvalPivotConfig;
    };
    /**
     * @param {?} userActivity
     * @param {?} obj
     * @return {?}
     */
    UserActivityCell.prototype.updateUrgeHandleRule = /**
     * @param {?} userActivity
     * @param {?} obj
     * @return {?}
     */
    function (userActivity, obj) {
        var e_37, _a;
        /** @type {?} */
        var rule = obj.propertyValue;
        /** @type {?} */
        var urgeHandleRule = new UrgeHandleRule(userActivity.Model);
        urgeHandleRule.urgeHandleAble = rule.urgeHandleAble;
        urgeHandleRule.sendType = rule.sendType;
        urgeHandleRule.earlyTime = rule.earlyTime;
        urgeHandleRule.intervalTime = rule.intervalTime;
        urgeHandleRule.urgeMessageSubject = rule.urgeMessageSubject;
        urgeHandleRule.urgeMessageContent = rule.urgeMessageContent;
        urgeHandleRule.addReminder = rule.addReminder;
        urgeHandleRule.subjectEditable = rule.subjectEditable;
        urgeHandleRule.contentEditable = rule.contentEditable;
        if (rule.smsMessageTemplate) {
            /** @type {?} */
            var smsMessageTemplate = new SmsMessageTemplate(userActivity.Model);
            smsMessageTemplate.code = rule.smsMessageTemplate.code;
            smsMessageTemplate.content = rule.smsMessageTemplate.content;
            smsMessageTemplate.smsMessageVariables = new Array();
            if (rule.smsMessageTemplate.smsMessageVariables && rule.smsMessageTemplate.smsMessageVariables.length > 0) {
                try {
                    for (var _b = tslib_1.__values(rule.smsMessageTemplate.smsMessageVariables), _c = _b.next(); !_c.done; _c = _b.next()) {
                        var v = _c.value;
                        /** @type {?} */
                        var variable = new SmsMessageVariable(userActivity.Model);
                        variable.code = v.code;
                        variable.value = v.value;
                        variable.tag = v.tag;
                        smsMessageTemplate.smsMessageVariables.push(variable);
                    }
                }
                catch (e_37_1) { e_37 = { error: e_37_1 }; }
                finally {
                    try {
                        if (_c && !_c.done && (_a = _b.return)) _a.call(_b);
                    }
                    finally { if (e_37) throw e_37.error; }
                }
            }
            urgeHandleRule.smsMessageTemplate = smsMessageTemplate;
        }
        userActivity.urgeHandleRule = urgeHandleRule;
    };
    /**
     * 删除节点或参与者时，对应删除HumanResourceRoles
     * @param bpmnModel
     * @param ids
     */
    /**
     * 删除节点或参与者时，对应删除HumanResourceRoles
     * @param {?} ids
     * @return {?}
     */
    UserActivityCell.prototype.removeHumanResourceRoles = /**
     * 删除节点或参与者时，对应删除HumanResourceRoles
     * @param {?} ids
     * @return {?}
     */
    function (ids) {
        /** @type {?} */
        var bpmnModel = this.flowElement.Model;
        if (ids && ids.length > 0) {
            /** @type {?} */
            var userActivitys = bpmnModel.DefaultProcess.GetFlowElements();
            /** @type {?} */
            var perfIds_1 = '';
            for (var key in userActivitys) {
                if (userActivitys[key] instanceof UserActivity) {
                    /** @type {?} */
                    var userAct = (/** @type {?} */ (userActivitys[key]));
                    if (userAct.ParticipantSchemes && userAct.ParticipantSchemes.length > 0 && userAct.ParticipantSchemes[0].Performers) {
                        perfIds_1 += (userAct.ParticipantSchemes[0].Performers + ',');
                    }
                }
            }
            /** @type {?} */
            var removeIds = ids.filter((/**
             * @param {?} id
             * @return {?}
             */
            function (id) { return perfIds_1.indexOf(id) < 0; }));
            removeIds.forEach((/**
             * @param {?} reId
             * @return {?}
             */
            function (reId) {
                bpmnModel.DefaultProcess.RemoveResourceRole(reId);
            }));
        }
    };
    /**
     * 更新审批活动扩展属性
     * @param userActivity
     * @param obj
     */
    /**
     * 更新审批活动扩展属性
     * @param {?} userActivity
     * @param {?} obj
     * @return {?}
     */
    UserActivityCell.prototype.resetExtendProperty = /**
     * 更新审批活动扩展属性
     * @param {?} userActivity
     * @param {?} obj
     * @return {?}
     */
    function (userActivity, obj) {
        var e_38, _a;
        if (userActivity) {
            /** @type {?} */
            var attributes = (/** @type {?} */ (obj.propertyValue));
            if (!userActivity.extendProperties) {
                userActivity.extendProperties = new Array();
            }
            var _loop_2 = function (o) {
                /** @type {?} */
                var index = userActivity.extendProperties.findIndex((/**
                 * @param {?} e
                 * @return {?}
                 */
                function (e) { return e.key === o.code; }));
                if (index > -1) {
                    userActivity.extendProperties.splice(index, 1);
                }
            };
            try {
                for (var _b = tslib_1.__values(obj.propertyValue), _c = _b.next(); !_c.done; _c = _b.next()) {
                    var o = _c.value;
                    _loop_2(o);
                }
            }
            catch (e_38_1) { e_38 = { error: e_38_1 }; }
            finally {
                try {
                    if (_c && !_c.done && (_a = _b.return)) _a.call(_b);
                }
                finally { if (e_38) throw e_38.error; }
            }
            if (attributes) {
                attributes.forEach((/**
                 * @param {?} a
                 * @return {?}
                 */
                function (a) {
                    /** @type {?} */
                    var item = new ExtendProperty(userActivity.Model);
                    item.key = a.code;
                    item.value = a.value;
                    userActivity.extendProperties.push(item);
                }));
            }
        }
    };
    UserActivityCell.CLR_TYPE_ID = UserActivity.Clr_Type_ID;
    return UserActivityCell;
}(NodeCell));
export { UserActivityCell };
if (false) {
    /** @type {?} */
    UserActivityCell.CLR_TYPE_ID;
    /** @type {?} */
    UserActivityCell.prototype.clrTypeId;
    /** @type {?} */
    UserActivityCell.prototype.name;
    /** @type {?} */
    UserActivityCell.prototype.nameLanguage;
    /** @type {?} */
    UserActivityCell.prototype.flowElement;
    /** @type {?} */
    UserActivityCell.prototype.editorUi;
    /** @type {?} */
    UserActivityCell.prototype.imgUrls;
    /** @type {?} */
    UserActivityCell.prototype.bizActivity;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiVXNlckFjdGl2aXR5Q2VsbC5qcyIsInNvdXJjZVJvb3QiOiJuZzovL0Bnc3Atd2Yvd2YtcHJvY2Vzcy1lZGl0b3IvIiwic291cmNlcyI6WyJsaWIvZGVzaWduZXIvd2YtY2VsbC9Vc2VyQWN0aXZpdHlDZWxsLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7O0FBQUEsT0FBTyxFQUFFLFFBQVEsRUFBRSxxQkFBcUIsRUFBNEIsTUFBTSxzQkFBc0IsQ0FBQztBQUNqRyxPQUFPLEVBQWEsV0FBVyxFQUFFLE1BQU0scUJBQXFCLENBQUM7QUFDN0QsT0FBTyxFQUFFLGVBQWUsRUFBYSxVQUFVLEVBQUUsYUFBYSxFQUFFLGdDQUFnQyxFQUFFLE1BQU0scUJBQXFCLENBQUM7QUFDOUgsT0FBTyxFQUFlLGdCQUFnQixFQUFFLFlBQVksRUFBRSxpQkFBaUIsRUFBRSxhQUFhLEVBQUUsY0FBYyxFQUFFLGFBQWEsRUFBRSxtQkFBbUIsRUFBRSxhQUFhLEVBQUUsY0FBYyxFQUFFLGVBQWUsRUFBRSxlQUFlLEVBQWdCLGdCQUFnQixFQUFRLGVBQWUsRUFBRSxTQUFTLEVBQUUsWUFBWSxFQUFFLGVBQWUsRUFBRSxrQkFBa0IsRUFBRSxxQkFBcUIsRUFBRSxTQUFTLEVBQUUsY0FBYyxFQUFFLG1CQUFtQixFQUFFLGNBQWMsRUFBRSxlQUFlLEVBQUUsa0JBQWtCLEVBQUUsb0JBQW9CLEVBQUUsMEJBQTBCLEVBQUUsOEJBQThCLEVBQUUseUJBQXlCLEVBQUUsNkJBQTZCLEVBQUUsY0FBYyxFQUFFLGFBQWEsRUFBRSxXQUFXLEVBQUUsU0FBUyxFQUFFLFdBQVcsRUFBRSxrQkFBa0IsRUFBRSxrQkFBa0IsRUFBRSxpQ0FBaUMsRUFBRSw2QkFBNkIsRUFBRSw4QkFBOEIsRUFBRSxrQ0FBa0MsRUFBRSwyQkFBMkIsRUFBRSxxQkFBcUIsRUFBRSxxQ0FBcUMsRUFBRSx5QkFBeUIsRUFBRSw2QkFBNkIsRUFBRSxlQUFlLEVBQTJCLGtCQUFrQixFQUFFLGtCQUFrQixFQUFFLDJCQUEy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LGdCQUFBO29CQUE1QixJQUFNLENBQUMsV0FBQTs0QkFBRCxDQUFDO2lCQUtYOzs7Ozs7Ozs7WUFDRCxJQUFJLFVBQVUsRUFBRTtnQkFDWixVQUFVLENBQUMsT0FBTzs7OztnQkFBQyxVQUFDLENBQU07O3dCQUNsQixJQUFJLEdBQUcsSUFBSSxjQUFjLENBQUMsWUFBWSxDQUFDLEtBQUssQ0FBQztvQkFDakQsSUFBSSxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsSUFBSSxDQUFDO29CQUNsQixJQUFJLENBQUMsS0FBSyxHQUFHLENBQUMsQ0FBQyxLQUFLLENBQUM7b0JBQ3JCLFlBQVksQ0FBQyxnQkFBZ0IsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7Z0JBQzdDLENBQUMsRUFBQyxDQUFDO2FBQ047U0FDSjtJQUNMLENBQUM7SUFuMkVNLDRCQUFXLEdBQVcsWUFBWSxDQUFDLFdBQVcsQ0FBQztJQW8yRTFELHVCQUFDO0NBQUEsQUE1MkVELENBQXNDLFFBQVEsR0E0MkU3QztTQTUyRVksZ0JBQWdCOzs7SUFRekIsNkJBQXNEOztJQVB0RCxxQ0FBaUQ7O0lBQ2pELGdDQUFvQjs7SUFDcEIsd0NBSUE7O0lBRUEsdUNBQTBCOztJQUMxQixvQ0FBcUI7O0lBRXJCLG1DQUdFOztJQUVGLHVDQUF5QiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5vZGVDZWxsLCBFbGVtZW50UHJvcGVydHlDb25maWcsIEZhcnJpc1Byb3BDb25maWdXaXRoRGF0YSB9IGZyb20gXCJAZWRwLXBtZi9ncmFwaGVkaXRvclwiO1xyXG5pbXBvcnQgeyBNeEdyYXBoTlMsIG14UmVzb3VyY2VzIH0gZnJvbSBcIkBlZHAtcG1mL214Z3JhcGgtdHNcIjtcclxuaW1wb3J0IHsgQnBtbk1vZGVsSGVscGVyLCBCUE1OU2hhcGUsIEV4cHJlc3Npb24sIEZsb3dOb2RlU3RhdGUsIE11bHRpSW5zdGFuY2VMb29wQ2hhcmFjdGVyaXN0aWNzIH0gZnJvbSBcIkBlZHAtcG1mL2JwbW4tbW9kZWxcIjtcclxuaW1wb3J0IHsgQml6QWN0aXZpdHksIE90aGVyQXNzaWduTm9kZXMsIFVzZXJBY3Rpdml0eSwgT3BlcmF0aW9uQWN0aXZpdHksIFN0YXJ0QWN0aXZpdHksIFVyZ2VIYW5kbGVSdWxlLCBBcHByb3ZhbFBpdm90LCBBcHByb3ZhbFBpdm90Q29uZmlnLCBJbWFnZVNldHRpbmdzLCBDaGVja0NvbmRpdGlvbiwgVmFyaWFibGVTZXR0aW5nLCBDdXN0b21pemVBY3Rpb24sIER1cmF0aW9uVHlwZSwgVGltZUxpbWl0Q29udHJvbCwgVG9vbCwgVGl0bGVFeHByZXNzaW9uLCBKdW1wU2NvcGUsIEJhY2tXYXJkUnVsZSwgQ291bnRlclNpZ25SdWxlLCBQYXJ0aWNpcGFudFNldHRpbmcsIEFzc2lnblBlcmZvcm1lckNvbmZpZywgQ29tcG9uZW50LCBDb25jbHVzaW9uSXRlbSwgRXhlY3V0ZVdvcmtJdGVtTW9kZSwgV29ya0Zsb3dBY3Rpb24sIERpc3BsYXlUZXJtaW5hbCwgQXNzaWdubWVudFN0cmF0ZWd5LCBUaW1lTGltaXRDb250cm9sSW5mbywgU2VuZE1lc3NhZ2VFeHBpcmVPcGVyYXRpb24sIFNlbmRNZXNzYWdlRXhwaXJlT3BlcmF0aW9uSW5mbywgQXV0b0hhbmRsZUV4cGlyZU9wZXJhdGlvbiwgQXV0b0hhbmRsZUV4cGlyZU9wZXJhdGlvbkluZm8sIEV4dGVuZFByb3BlcnR5LCBNZXNzYWdlTm90aWNlLCBBY3Rpb25TY29wZSwgQ29uZGl0aW9uLCBFeGVjdXRlRm9ybSwgUG90ZW50aWFsT3duZXJJbXBsLCBIdW1hblBlcmZvcm1lckltcGwsIE9yZ2FuaXphdGlvblBhcnRpY2lwYW50RXhwcmVzc2lvbiwgVmFyaWFibGVQYXJ0aWNpcGFudEV4cHJlc3Npb24sIENvbXBvbmVudFBhcnRpY2lwYW50RXhwcmVzc2lvbiwgUmVwb3J0aW5nTGluZVBhcnRpY2lwYW50RXhwcmVzc2lvbiwgTWF0cml4UGFydGljaXBhbnRFeHByZXNzaW9uLCBQYXJ0aWNpcGFudEV4cHJlc3Npb24sIEFjdGl2aXR5RXhlY3V0b3JQYXJ0aWNpcGFudEV4cHJlc3Npb24sIFVzZXJQYXJ0aWNpcGFudEV4cHJlc3Npb24sIFBvc2l0aW9uUGFydGljaXBhbnRFeHByZXNzaW9uLCBBY3R1YWxQYXJhbWV0ZXIsIEFjdGlvbk9yZ2FuaXphdGlvblNjb3BlLCBTbXNNZXNzYWdlVGVtcGxhdGUsIFNtc01lc3NhZ2VWYXJpYWJsZSwgT3RoZXJBc3NpZ25BY3Rpdml0eU5vZGVJbmZvLCBPcmdhbml6YXRpb25MZXZlbCwgU2VtYW50aWNFeHByZXNzaW9ufSBmcm9tIFwiQGdzcC13Zi93Zi1wcm9jZXNzLW1vZGVsXCI7XHJcbmltcG9ydCB7IFByb3BlcnR5SGVscGVyIH0gZnJvbSBcIi4vUHJvcGVydHlIZWxwZXJcIjtcclxuaW1wb3J0IHsgV2ZFZGl0b3JVaSB9IGZyb20gXCIuLi9XZkVkaXRvclVpXCI7XHJcbmltcG9ydCB7IFVzZXJQYXJ0aWNpcGFudCB9IGZyb20gXCIuLi9lbnRpdHkvVXNlclBhcnRpY2lwYW50XCI7XHJcbmltcG9ydCB7IFBvc2l0aW9uUGFydGljaXBhbnQgfSBmcm9tIFwiLi4vZW50aXR5L1Bvc2l0aW9uUGFydGljaXBhbnRcIjtcclxuaW1wb3J0IHsgVmFyaWFibGVQZXJmb3JtZXIgfSBmcm9tIFwiLi4vZW50aXR5L1ZhcmlhYmxlUGVyZm9ybWVyXCI7XHJcbmltcG9ydCB7IENvbXBvbmVudFBhcnRpY2lwYW50IH0gZnJvbSBcIi4uL2VudGl0eS9Db21wb25lbnRQYXJ0aWNpcGFudFwiO1xyXG5pbXBvcnQgeyBSZXBvcnRpbmdMaW5lUGFydGljaXBhbnQgfSBmcm9tIFwiLi4vZW50aXR5L1JlcG9ydGluZ0xpbmVQYXJ0aWNpcGFudFwiO1xyXG5pbXBvcnQgeyBBY3Rpdml0eUV4ZWN1dG9yUGFydGljaXBhbnQgfSBmcm9tIFwiLi4vZW50aXR5L0FjdGl2aXR5RXhlY3V0b3JQYXJ0aWNpcGFudFwiO1xyXG5pbXBvcnQgeyBNYXRyaXhQYXJ0aWNpcGFudCB9IGZyb20gXCIuLi9lbnRpdHkvTWF0cml4UGFydGljaXBhbnRcIjtcclxuaW1wb3J0IHsgQXNzaWduQ29uZmlnIH0gZnJvbSBcIi4uL2VudGl0eS9Bc3NpZ25Db25maWdcIjtcclxuaW1wb3J0IHsgQXNzaWduU3RyYXRlZ3kgfSBmcm9tIFwiLi4vZW50aXR5L0Fzc2lnblN0cmF0ZWd5XCI7XHJcbmltcG9ydCB7IE9yZ2FuaXphdGlvblBhcnRpY2lwYW50IH0gZnJvbSBcIi4uL2VudGl0eS9Pcmdhbml6YXRpb25QYXJ0aWNpcGFudFwiO1xyXG5pbXBvcnQgeyBXZkNvbnN0YW50cyB9IGZyb20gXCIuLi9XZkNvbnN0YW50c1wiO1xyXG5pbXBvcnQgeyBVc2VyQWN0aXZpdHlQcm9wZXJ0eUtleXMgfSBmcm9tIFwiLi9wcm9wZXJ0eS1rZXlzL1VzZXJBY3Rpdml0eVByb3BlcnR5S2V5c1wiO1xyXG5pbXBvcnQgeyBXZkRlc2lnbmVyVXRpbHMgfSBmcm9tIFwiLi4vV2ZEZXNpZ25lclV0aWxzXCI7XHJcbmltcG9ydCB7IE1lc3NhZ2VyU2VydmljZSB9IGZyb20gJ0BmYXJyaXMvdWktbWVzc2FnZXInO1xyXG5pbXBvcnQgeyBBY3Rpb25Pcmdhbml6YXRpb25TY29wZURlc2lnbiwgT3JnYW5pemF0aW9uUG90ZW50aWFsT3duZXIgfSBmcm9tIFwiLi4vLi4vdmlld3Mvb3JnYW5pemF0aW9uLXBvdGVudGlhbC1vd25lci9hY3Rpb25Pcmdhbml6YXRpb25TY29wZVwiO1xyXG4vLyBpbXBvcnQgeyBQYXJ0aWNpcGFudEluZm8gfSBmcm9tIFwiLi4vLi4vdmlld3MvcGFydGljaXBhbnQvcGFydGljaXBhbnQuaW5mb1wiO1xyXG5pbXBvcnQgeyBQYXJ0aWNpcGFudCwgUGFydGljaXBhbnRJbmZvIH0gZnJvbSBcIi4uL2VudGl0eVwiO1xyXG5cclxuLyoqXHJcbiAqIOWuoeaJuea0u+WKqOiKgueCuVxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIFVzZXJBY3Rpdml0eUNlbGwgZXh0ZW5kcyBOb2RlQ2VsbCB7XHJcbiAgICBjbHJUeXBlSWQ6IHN0cmluZyA9IFVzZXJBY3Rpdml0eUNlbGwuQ0xSX1RZUEVfSUQ7XHJcbiAgICBuYW1lOiBzdHJpbmcgPSBcIuWuoeaJuVwiO1xyXG4gICAgbmFtZUxhbmd1YWdlOiB7IFtsYW5nOiBzdHJpbmddOiBzdHJpbmc7IH0gPSB7XHJcbiAgICAgIFwiemgtQ0hTXCI6IFwi5a6h5om5XCIsXHJcbiAgICAgIFwiemgtQ0hUXCI6IFwi5a+p5om5XCIsXHJcbiAgICAgIFwiZW5cIjogXCJBcHByb3ZlXCIsXHJcbiAgfTtcclxuICAgIHN0YXRpYyBDTFJfVFlQRV9JRDogc3RyaW5nID0gVXNlckFjdGl2aXR5LkNscl9UeXBlX0lEO1xyXG4gICAgZmxvd0VsZW1lbnQ6IFVzZXJBY3Rpdml0eTtcclxuICAgIGVkaXRvclVpOiBXZkVkaXRvclVpO1xyXG5cclxuICAgIGltZ1VybHMgPSB7XHJcbiAgICAgICAgW0Zsb3dOb2RlU3RhdGUuRGVmYXVsdF06IFdmQ29uc3RhbnRzLklNQUdFX1BBVEggKyBcIi9hcHByb3ZhbC5wbmdcIixcclxuICAgICAgICBbRmxvd05vZGVTdGF0ZS5TZWxlY3RlZF06IFdmQ29uc3RhbnRzLklNQUdFX1BBVEggKyBcIi9hcHByb3ZhbF9zZWxlY3Quc3ZnXCIsXHJcbiAgICB9O1xyXG5cclxuICAgIGJpekFjdGl2aXR5OiBCaXpBY3Rpdml0eTtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcih2YWx1ZT86IGFueSwgZ2VvbWV0cnk/OiBNeEdyYXBoTlMubXhHZW9tZXRyeSwgc3R5bGU/OiBzdHJpbmcpIHtcclxuICAgICAgICBzdXBlcih2YWx1ZSwgZ2VvbWV0cnksIHN0eWxlKTtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGVGbG93RWxlbWVudChmbG93RWx0PzogVXNlckFjdGl2aXR5KSB7XHJcbiAgICAgICAgY29uc3QgZmxvd05vZGUgPSBzdXBlci5jcmVhdGVGbG93RWxlbWVudChmbG93RWx0KSBhcyBVc2VyQWN0aXZpdHk7XHJcbiAgICAgICAgY29uc3QgZWRpdG9yVWkgPSB0aGlzLmVkaXRvclVpO1xyXG4gICAgICAgIGNvbnN0IGJwbW5Nb2RlbCA9IGVkaXRvclVpLmdyYXBoLmJwbW5Nb2RlbDtcclxuICAgICAgICBmbG93Tm9kZS5JZCA9IFwiVXNlckFjdGl2aXR5XCIgKyBCcG1uTW9kZWxIZWxwZXIuR2VuZXJhdGVFbGVtZW50SWQoKTtcclxuXHJcbiAgICAgICAgLy8g5Yib5bu66ICM6Z2e5aSN5Yi25pe25omn6KGMXHJcbiAgICAgICAgaWYgKGZsb3dFbHQgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICBmbG93Tm9kZS50cmFuc2ZlckFibGUgPSBlZGl0b3JVaS5nZW5lcmFsQ29uZmlnLmVuYWJsZVRyYW5zZmVyO1xyXG4gICAgICAgICAgICBmbG93Tm9kZS5BZGRTaWduQmVoaW5kQWJsZSA9IGVkaXRvclVpLmdlbmVyYWxDb25maWcuZW5hYmxlQWRkU2lnbkJlaGluZDtcclxuICAgICAgICAgICAgZmxvd05vZGUuQWRkU2lnbkZyb250QWJsZSA9IGVkaXRvclVpLmdlbmVyYWxDb25maWcuZW5hYmxlQWRkU2lnbkZyb250O1xyXG4gICAgICAgICAgICBmbG93Tm9kZS5Ob3RpZnlBYmxlID0gZWRpdG9yVWkuZ2VuZXJhbENvbmZpZy5lbmFibGVOb3RpZnk7XHJcblxyXG4gICAgICAgICAgICBpZiAodGhpcy5iaXpBY3Rpdml0eSkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgYml6QWN0aXZpdHkgPSB0aGlzLmJpekFjdGl2aXR5O1xyXG4gICAgICAgICAgICAgICAgZmxvd05vZGUuQml6QWN0aXZpdHlJRCA9IGJpekFjdGl2aXR5LmlkO1xyXG4gICAgICAgICAgICAgICAgZmxvd05vZGUuQml6QWN0aXZpdHlOYW1lID0gYml6QWN0aXZpdHkubmFtZTtcclxuICAgICAgICAgICAgICAgIGZsb3dOb2RlLlRvb2xzID0gW107XHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBjIG9mIGJpekFjdGl2aXR5LmJpekNvbXBvbmVudHMpIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgdG9vbCA9IG5ldyBDb21wb25lbnQoZmxvd05vZGUuTW9kZWwpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRvb2wuSWQgPSBjLmlkXHJcbiAgICAgICAgICAgICAgICAgICAgdG9vbC5OYW1lID0gYy5uYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgIHRvb2wuVGltZSA9IGMuZXhlY3V0aW9uVGltZTtcclxuICAgICAgICAgICAgICAgICAgICAvLyBUT0RPIOWGmeatu+S6huaehOS7tuexu+Wei1xyXG4gICAgICAgICAgICAgICAgICAgIHRvb2wuQ29tcG9uZW50VHlwZSA9ICdDb21tb25Db21wb25lbnQnO1xyXG4gICAgICAgICAgICAgICAgICAgIHRvb2wuTWV0YWRhdGFJZCA9IGMubWV0YWRhdGFJZDtcclxuICAgICAgICAgICAgICAgICAgICB0b29sLk1ldGhvZENvZGUgPSBjLm1ldGhvZENvZGU7XHJcbiAgICAgICAgICAgICAgICAgICAgdG9vbC5BY3R1YWxQYXJhbWV0ZXJzID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGMuYWN0dWFsUGFyYW1ldGVycyAmJiAoYy5hY3R1YWxQYXJhbWV0ZXJzIGFzIGFueVtdKS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGEgb2YgKGMuYWN0dWFsUGFyYW1ldGVycyBhcyBhbnlbXSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBwYXJhbWV0ZXIgPSBuZXcgQWN0dWFsUGFyYW1ldGVyKGJwbW5Nb2RlbCwgYS5jb2RlLCBhLnZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvb2wuQWN0dWFsUGFyYW1ldGVycy5wdXNoKHBhcmFtZXRlcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZmxvd05vZGUuVG9vbHMucHVzaCh0b29sKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGZsb3dOb2RlLnNldEJpekNvbmNsdXNpb25zKGJwbW5Nb2RlbCwgYml6QWN0aXZpdHkuYml6QWN0aW9ucyk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBmbG93Tm9kZS5CaXpBY3Rpdml0eUlEID0gXCJcIjtcclxuICAgICAgICAgICAgICAgIGZsb3dOb2RlLmluaXRDb25jbHVzaW9ucyhicG1uTW9kZWwpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gZmxvd05vZGU7XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlRGlhZ3JhbUVsZW1lbnQoKTogQlBNTlNoYXBlIHtcclxuICAgICAgICBpZiAodGhpcy5iaXpBY3Rpdml0eSAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaW1nVXJscyA9IHtcclxuICAgICAgICAgICAgICAgIFtGbG93Tm9kZVN0YXRlLkRlZmF1bHRdOiBXZkNvbnN0YW50cy5JTUFHRV9QQVRIICsgXCIvYml6QWN0aXZpdHkucG5nXCIsXHJcbiAgICAgICAgICAgICAgICBbRmxvd05vZGVTdGF0ZS5TZWxlY3RlZF06IFdmQ29uc3RhbnRzLklNQUdFX1BBVEggKyBcIi9iaXpBY3Rpdml0eV9zZWxlY3Quc3ZnXCIsXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBzaGFwZSA9IHN1cGVyLmNyZWF0ZURpYWdyYW1FbGVtZW50KCk7XHJcbiAgICAgICAgcmV0dXJuIHNoYXBlO1xyXG4gICAgfVxyXG5cclxuICAgIGdldEZhcnJpc1Byb3BDb25maWcoKTogRmFycmlzUHJvcENvbmZpZ1dpdGhEYXRhIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5nZXRGYXJyaXNQcm9wQ29uZmlnQnlJc09wZXJhdGlvbigpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldEZhcnJpc1Byb3BDb25maWdCeUlzT3BlcmF0aW9uKGlzT3BlcmF0aW9uOiBib29sZWFuID0gZmFsc2UpIHtcclxuICAgICAgICBjb25zdCBlZGl0b3JVaSA9IHRoaXMuZWRpdG9yVWk7XHJcbiAgICAgICAgbGV0IGV4dGVuZExpc3QgPSBbXTtcclxuICAgICAgICBpZiAoZWRpdG9yVWkucHJvY0V4dFByb3BzICYmIGVkaXRvclVpLnByb2NFeHRQcm9wcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIGV4dGVuZExpc3QgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGVkaXRvclVpLnByb2NFeHRQcm9wcykpLnNvcnQoKGEsIGIpID0+IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBhLnNvcnRPcmRlciAtIGIuc29ydE9yZGVyO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZXh0ZW5kTGlzdCA9IGV4dGVuZExpc3Quc29ydCgoYSwgYikgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gYS5zb3J0T3JkZXIgLSBiLnNvcnRPcmRlcjtcclxuICAgICAgICB9KVxyXG5cclxuICAgICAgICBsZXQgdXNlckFjdCA9IHRoaXMuZmxvd0VsZW1lbnQ7XHJcbiAgICAgICAgbGV0IGJhc2ljUHJvcGVydHk6IEVsZW1lbnRQcm9wZXJ0eUNvbmZpZyA9IG5ldyBFbGVtZW50UHJvcGVydHlDb25maWcoKTtcclxuICAgICAgICBsZXQgcHJvcGVydHlEYXRhOiBhbnkgPSB7fTtcclxuXHJcbiAgICAgICAgYmFzaWNQcm9wZXJ0eS5jYXRlZ29yeUlkID0gJ2Jhc2ljUHJvcGVydHknO1xyXG4gICAgICAgIGJhc2ljUHJvcGVydHkuY2F0ZWdvcnlOYW1lID0gbXhSZXNvdXJjZXMuZ2V0KCdiYXNpY0luZm9ybWF0aW9uJyk7XHJcbiAgICAgICAgYmFzaWNQcm9wZXJ0eS50YWJJZCA9ICdiYXNpYyc7XHJcbiAgICAgICAgYmFzaWNQcm9wZXJ0eS50YWJOYW1lID0gbXhSZXNvdXJjZXMuZ2V0KCdiYXNpY0F0dHJpYnV0ZXMnKVxyXG4gICAgICAgIGJhc2ljUHJvcGVydHkucHJvcGVydGllcyA9IFtcclxuICAgICAgICAgICAgeyBwcm9wZXJ0eUlEOiBVc2VyQWN0aXZpdHlQcm9wZXJ0eUtleXMuTmFtZSwgcHJvcGVydHlOYW1lOiBteFJlc291cmNlcy5nZXQoJ25hbWUnKSwgcHJvcGVydHlUeXBlOiAnc3RyaW5nJywgdmlzaWJsZTogIXRoaXMuZWRpdG9yVWkubXVsdGlMYW5nRW5hYmxlZCB9LFxyXG4gICAgICAgICAgICB7IHByb3BlcnR5SUQ6IFVzZXJBY3Rpdml0eVByb3BlcnR5S2V5cy5OYW1lTGFuZ3VhZ2UsIHByb3BlcnR5TmFtZTogbXhSZXNvdXJjZXMuZ2V0KCduYW1lTGFuZ3VhZ2UnKSwgcHJvcGVydHlUeXBlOiAnbXVsdGlMYW5ndWFnZScsIHZpc2libGU6IHRoaXMuZWRpdG9yVWkubXVsdGlMYW5nRW5hYmxlZCB9LFxyXG4gICAgICAgICAgICB7IHByb3BlcnR5SUQ6IFVzZXJBY3Rpdml0eVByb3BlcnR5S2V5cy5JZCwgcHJvcGVydHlOYW1lOiBteFJlc291cmNlcy5nZXQoJ2lkJyksIHByb3BlcnR5VHlwZTogJ3N0cmluZycsIHJlYWRvbmx5OiB0cnVlIH0sXHJcbiAgICAgICAgICAgIHsgcHJvcGVydHlJRDogVXNlckFjdGl2aXR5UHJvcGVydHlLZXlzLndmX1RpdGxlRXhwcmVzc2lvbiwgcHJvcGVydHlOYW1lOiBteFJlc291cmNlcy5nZXQoJ3dmVGl0bGVFeHByZXNzaW9uJyksIHByb3BlcnR5VHlwZTogJ21vZGFsJyB9LFxyXG4gICAgICAgIF07XHJcblxyXG4gICAgICAgIGxldCBwZXJmb3JtZXJQcm9wZXJ0eTogRWxlbWVudFByb3BlcnR5Q29uZmlnID0gbmV3IEVsZW1lbnRQcm9wZXJ0eUNvbmZpZygpO1xyXG4gICAgICAgIHBlcmZvcm1lclByb3BlcnR5LmNhdGVnb3J5SWQgPSAncGVyZm9ybWVyUHJvcGVydHknO1xyXG4gICAgICAgIHBlcmZvcm1lclByb3BlcnR5LmNhdGVnb3J5TmFtZSA9IG14UmVzb3VyY2VzLmdldCgncGFydGljaXBhbnQnKTtcclxuICAgICAgICBwZXJmb3JtZXJQcm9wZXJ0eS50YWJJZCA9ICdiYXNpYyc7XHJcbiAgICAgICAgcGVyZm9ybWVyUHJvcGVydHkudGFiTmFtZSA9IG14UmVzb3VyY2VzLmdldCgnYmFzaWNBdHRyaWJ1dGVzJylcclxuICAgICAgICBwZXJmb3JtZXJQcm9wZXJ0eS5wcm9wZXJ0aWVzID0gW1xyXG4gICAgICAgICAgICB7IHByb3BlcnR5SUQ6IFVzZXJBY3Rpdml0eVByb3BlcnR5S2V5cy5QYXJ0aWNpcGFudFNjaGVtZXMsIHByb3BlcnR5TmFtZTogbXhSZXNvdXJjZXMuZ2V0KCdwYXJ0aWNpcGFudFNjaGVtZXMnKSwgcHJvcGVydHlUeXBlOiAnbW9kYWwnIH0sXHJcbiAgICAgICAgICAgIHsgcHJvcGVydHlJRDogVXNlckFjdGl2aXR5UHJvcGVydHlLZXlzLlBhcnRpY2lwYW50T3B0aW9ucywgcHJvcGVydHlOYW1lOiBteFJlc291cmNlcy5nZXQoJ3BhcnRpY2lwYW50T3B0aW9ucycpLCBwcm9wZXJ0eVR5cGU6ICdtb2RhbCcgfSxcclxuICAgICAgICBdO1xyXG4gICAgICAgIC8vIGlmICh1c2VyQWN0LkFzc2lnbm1lbnRTdHJhdGVneSAhPT0gQXNzaWdubWVudFN0cmF0ZWd5LkFTU0lHTikge1xyXG4gICAgICAgIC8vICAgICBwZXJmb3JtZXJQcm9wZXJ0eS5wcm9wZXJ0aWVzLnB1c2goXHJcbiAgICAgICAgLy8gICAgICAgICB7IHByb3BlcnR5SUQ6IFVzZXJBY3Rpdml0eVByb3BlcnR5S2V5cy5Bc3NpZ25TdHJhdGVneSwgcHJvcGVydHlOYW1lOiAn5YiG6YWN562W55WlJywgcHJvcGVydHlUeXBlOiAnbW9kYWwnIH1cclxuICAgICAgICAvLyAgICAgKTtcclxuICAgICAgICAvLyB9IGVsc2Uge1xyXG4gICAgICAgIC8vICAgICBwZXJmb3JtZXJQcm9wZXJ0eS5wcm9wZXJ0aWVzID0gcGVyZm9ybWVyUHJvcGVydHkucHJvcGVydGllcy5jb25jYXQoXHJcbiAgICAgICAgLy8gICAgICAgICBbeyBwcm9wZXJ0eUlEOiBVc2VyQWN0aXZpdHlQcm9wZXJ0eUtleXMuQXNzaWduU3RyYXRlZ3ksIHByb3BlcnR5TmFtZTogJ+WIhumFjeetlueVpScsIHByb3BlcnR5VHlwZTogJ21vZGFsJyB9LFxyXG4gICAgICAgIC8vICAgICAgICAgeyBwcm9wZXJ0eUlEOiBVc2VyQWN0aXZpdHlQcm9wZXJ0eUtleXMuQXNzaWduUGVyZm9ybWVyLCBwcm9wZXJ0eU5hbWU6ICflpIfpgInlip7nkIbkuronLCBwcm9wZXJ0eVR5cGU6ICdtb2RhbCcgfV0pO1xyXG4gICAgICAgIC8vIH1cclxuICAgICAgICBpZiAoIWlzT3BlcmF0aW9uKSB7XHJcbiAgICAgICAgICAgIGlmICh1c2VyQWN0LkV4ZWN1dGVXb3JrSXRlbU1vZGUgPT09IEV4ZWN1dGVXb3JrSXRlbU1vZGUuUHJlZW1wdCkge1xyXG4gICAgICAgICAgICAgICAgcGVyZm9ybWVyUHJvcGVydHkucHJvcGVydGllcy5wdXNoKFxyXG4gICAgICAgICAgICAgICAgICAgIHsgcHJvcGVydHlJRDogVXNlckFjdGl2aXR5UHJvcGVydHlLZXlzLkNvbXBsZXRlU3RyYXRlZ3ksIHByb3BlcnR5TmFtZTogbXhSZXNvdXJjZXMuZ2V0KCdjb21wbGV0ZVN0cmF0ZWd5JyksIHByb3BlcnR5VHlwZTogJ3NlbGVjdCcgfSxcclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICBwcm9wZXJ0eURhdGFbVXNlckFjdGl2aXR5UHJvcGVydHlLZXlzLkNvbXBsZXRlU3RyYXRlZ3ldID0gdXNlckFjdC5FeGVjdXRlV29ya0l0ZW1Nb2RlO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcGVyZm9ybWVyUHJvcGVydHkucHJvcGVydGllcyA9IHBlcmZvcm1lclByb3BlcnR5LnByb3BlcnRpZXMuY29uY2F0KFtcclxuICAgICAgICAgICAgICAgICAgICB7IHByb3BlcnR5SUQ6IFVzZXJBY3Rpdml0eVByb3BlcnR5S2V5cy5Db21wbGV0ZVN0cmF0ZWd5LCBwcm9wZXJ0eU5hbWU6IG14UmVzb3VyY2VzLmdldCgnY29tcGxldGVTdHJhdGVneScpLCBwcm9wZXJ0eVR5cGU6ICdzZWxlY3QnIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgeyBwcm9wZXJ0eUlEOiBVc2VyQWN0aXZpdHlQcm9wZXJ0eUtleXMuU2lnblJ1bGUsIHByb3BlcnR5TmFtZTogbXhSZXNvdXJjZXMuZ2V0KCdzaWduUnVsZScpLCBwcm9wZXJ0eVR5cGU6ICdtb2RhbCcgfSxcclxuICAgICAgICAgICAgICAgIF0pO1xyXG4gICAgICAgICAgICAgICAgcHJvcGVydHlEYXRhW1VzZXJBY3Rpdml0eVByb3BlcnR5S2V5cy5Db21wbGV0ZVN0cmF0ZWd5XSA9IHVzZXJBY3QuRXhlY3V0ZVdvcmtJdGVtTW9kZTtcclxuICAgICAgICAgICAgICAgIHByb3BlcnR5RGF0YVtVc2VyQWN0aXZpdHlQcm9wZXJ0eUtleXMuU2lnblJ1bGVdID0gdXNlckFjdC5Db3VudGVyU2lnblJ1bGVzO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQgYXBwcm92YWxQcm9wZXJ0eTogRWxlbWVudFByb3BlcnR5Q29uZmlnID0gbmV3IEVsZW1lbnRQcm9wZXJ0eUNvbmZpZygpO1xyXG4gICAgICAgIGFwcHJvdmFsUHJvcGVydHkuY2F0ZWdvcnlJZCA9ICdhcHByb3ZhbFByb3BlcnR5JztcclxuICAgICAgICBhcHByb3ZhbFByb3BlcnR5LmNhdGVnb3J5TmFtZSA9IG14UmVzb3VyY2VzLmdldCgnb3BlcmF0aW9uc01hbmFnZScpO1xyXG4gICAgICAgIGFwcHJvdmFsUHJvcGVydHkudGFiSWQgPSAnYXBwcm92YWxQcm9wZXJ0eSc7XHJcbiAgICAgICAgYXBwcm92YWxQcm9wZXJ0eS50YWJOYW1lID0gbXhSZXNvdXJjZXMuZ2V0KCdvcGVyYXRpb25zQ29uZmlnJyk7XHJcbiAgICAgICAgYXBwcm92YWxQcm9wZXJ0eS5wcm9wZXJ0aWVzID0gW1xyXG4gICAgICAgICAgICB7IHByb3BlcnR5SUQ6IFVzZXJBY3Rpdml0eVByb3BlcnR5S2V5cy5BcHByb3ZhbEl0ZW1zLCBwcm9wZXJ0eU5hbWU6IG14UmVzb3VyY2VzLmdldCgnYXBwcm92YWxJdGVtcycpLCBwcm9wZXJ0eVR5cGU6ICdtb2RhbCcgfSxcclxuICAgICAgICAgICAgeyBwcm9wZXJ0eUlEOiBVc2VyQWN0aXZpdHlQcm9wZXJ0eUtleXMud2ZfQ3VzdG9taXplQWN0aW9uLCBwcm9wZXJ0eU5hbWU6IG14UmVzb3VyY2VzLmdldCgnd2ZDdXN0b21pemVBY3Rpb24nKSwgcHJvcGVydHlUeXBlOiAnbW9kYWwnIH0sXHJcbiAgICAgICAgXTtcclxuICAgICAgICAvLyDlrqHmibnmtLvliqjoioLngrnlkKvigJzpqbPlm57igJ3lrqHmibnliqjkvZzml7bvvIzlsZ7mgKfmoYbmlK/mjIHpqbPlm57op4TliJnlsZ7mgKdcclxuICAgICAgICBpZiAodXNlckFjdC5Db25jbHVzaW9ucyAmJiB0aGlzLmlzQmFja0NvbmNsdXNpb25FeGlzdCh1c2VyQWN0LkNvbmNsdXNpb25zKSkge1xyXG4gICAgICAgICAgICBhcHByb3ZhbFByb3BlcnR5LnByb3BlcnRpZXMucHVzaChcclxuICAgICAgICAgICAgICAgIHsgcHJvcGVydHlJRDogVXNlckFjdGl2aXR5UHJvcGVydHlLZXlzLkJhY2tXYXJkUnVsZSwgcHJvcGVydHlOYW1lOiBteFJlc291cmNlcy5nZXQoJ2JhY2tXYXJkUnVsZScpLCBwcm9wZXJ0eVR5cGU6ICdtb2RhbCcgfSxcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgcHJvcGVydHlEYXRhW1VzZXJBY3Rpdml0eVByb3BlcnR5S2V5cy5CYWNrV2FyZFJ1bGVdID0gdXNlckFjdC5CYWNrV2FyZFJ1bGU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGFwcHJvdmFsUHJvcGVydHkucHJvcGVydGllcyA9IGFwcHJvdmFsUHJvcGVydHkucHJvcGVydGllcy5jb25jYXQoW1xyXG4gICAgICAgICAgICB7IHByb3BlcnR5SUQ6IFVzZXJBY3Rpdml0eVByb3BlcnR5S2V5cy5SZXRyaWV2YWJsZSwgcHJvcGVydHlOYW1lOiBteFJlc291cmNlcy5nZXQoJ3JldHJpZXZhYmxlJyksIHByb3BlcnR5VHlwZTogJ3NlbGVjdCcgfSxcclxuICAgICAgICBdKTtcclxuICAgICAgICBpZiAoIWlzT3BlcmF0aW9uKSB7XHJcbiAgICAgICAgICAgIGFwcHJvdmFsUHJvcGVydHkucHJvcGVydGllcyA9IGFwcHJvdmFsUHJvcGVydHkucHJvcGVydGllcy5jb25jYXQoW1xyXG4gICAgICAgICAgICAgICAgeyBwcm9wZXJ0eUlEOiBVc2VyQWN0aXZpdHlQcm9wZXJ0eUtleXMuQWRkU2lnbkZyb250QWJsZSwgcHJvcGVydHlOYW1lOiBteFJlc291cmNlcy5nZXQoJ2FkZFNpZ25Gcm9udEFibGUnKSwgcHJvcGVydHlUeXBlOiAnbW9kYWwnIH0sXHJcbiAgICAgICAgICAgICAgICB7IHByb3BlcnR5SUQ6IFVzZXJBY3Rpdml0eVByb3BlcnR5S2V5cy5BZGRTaWduQmVoaW5kQWJsZSwgcHJvcGVydHlOYW1lOiBteFJlc291cmNlcy5nZXQoJ2FkZFNpZ25CZWhpbmRBYmxlJyksIHByb3BlcnR5VHlwZTogJ21vZGFsJyB9LFxyXG4gICAgICAgICAgICBdKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGVkaXRvclVpLmdlbmVyYWxDb25maWcuZW5hYmxlVHJhbnNmZXIpIHtcclxuICAgICAgICAgICAgYXBwcm92YWxQcm9wZXJ0eS5wcm9wZXJ0aWVzID0gYXBwcm92YWxQcm9wZXJ0eS5wcm9wZXJ0aWVzLmNvbmNhdChbXHJcbiAgICAgICAgICAgICAgICB7IHByb3BlcnR5SUQ6IFVzZXJBY3Rpdml0eVByb3BlcnR5S2V5cy50cmFuc2ZlclNjb3BlLCBwcm9wZXJ0eU5hbWU6IG14UmVzb3VyY2VzLmdldCgndHJhbnNmZXJTY29wZScpLCBwcm9wZXJ0eVR5cGU6ICdtb2RhbCcgfSxcclxuICAgICAgICAgICAgXSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGFwcHJvdmFsUHJvcGVydHkucHJvcGVydGllcyA9IGFwcHJvdmFsUHJvcGVydHkucHJvcGVydGllcy5jb25jYXQoW1xyXG4gICAgICAgICAgICB7IHByb3BlcnR5SUQ6IFVzZXJBY3Rpdml0eVByb3BlcnR5S2V5cy5Ob3RpZnlBYmxlLCBwcm9wZXJ0eU5hbWU6IG14UmVzb3VyY2VzLmdldCgnbm90aWZ5QWJsZScpLCBwcm9wZXJ0eVR5cGU6ICdtb2RhbCcgfSxcclxuICAgICAgICAgICAgeyBwcm9wZXJ0eUlEOiBVc2VyQWN0aXZpdHlQcm9wZXJ0eUtleXMudXJnZUhhbmRsZVJ1bGUsIHByb3BlcnR5TmFtZTogbXhSZXNvdXJjZXMuZ2V0KCd1cmdlSGFuZGxlUnVsZScpLCBwcm9wZXJ0eVR5cGU6ICdtb2RhbCcgfVxyXG4gICAgICAgIF0pO1xyXG4gICAgICAgIGlmICh1c2VyQWN0LlNlbGVjdFRhcmdldEFibGUpIHtcclxuICAgICAgICAgICAgYXBwcm92YWxQcm9wZXJ0eS5wcm9wZXJ0aWVzID0gYXBwcm92YWxQcm9wZXJ0eS5wcm9wZXJ0aWVzLmNvbmNhdChbXHJcbiAgICAgICAgICAgICAgICB7IHByb3BlcnR5SUQ6IFVzZXJBY3Rpdml0eVByb3BlcnR5S2V5cy5TZWxlY3RUYXJnZXRBYmxlLCBwcm9wZXJ0eU5hbWU6IG14UmVzb3VyY2VzLmdldCgnc2VsZWN0VGFyZ2V0QWJsZScpLCBwcm9wZXJ0eVR5cGU6ICdzZWxlY3QnIH0sXHJcbiAgICAgICAgICAgICAgICB7IHByb3BlcnR5SUQ6IFVzZXJBY3Rpdml0eVByb3BlcnR5S2V5cy5KdW1wU2NvcGUsIHByb3BlcnR5TmFtZTogbXhSZXNvdXJjZXMuZ2V0KCdqdW1wU2NvcGUnKSwgcHJvcGVydHlUeXBlOiAnbW9kYWwnIH0sXHJcbiAgICAgICAgICAgIF0pO1xyXG4gICAgICAgICAgICBwcm9wZXJ0eURhdGFbVXNlckFjdGl2aXR5UHJvcGVydHlLZXlzLlNlbGVjdFRhcmdldEFibGVdID0gdXNlckFjdC5TZWxlY3RUYXJnZXRBYmxlO1xyXG4gICAgICAgICAgICBwcm9wZXJ0eURhdGFbVXNlckFjdGl2aXR5UHJvcGVydHlLZXlzLkp1bXBTY29wZV0gPSB1c2VyQWN0Lkp1bXBTY29wZTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBhcHByb3ZhbFByb3BlcnR5LnByb3BlcnRpZXMgPSBhcHByb3ZhbFByb3BlcnR5LnByb3BlcnRpZXMuY29uY2F0KFtcclxuICAgICAgICAgICAgICAgIHsgcHJvcGVydHlJRDogVXNlckFjdGl2aXR5UHJvcGVydHlLZXlzLlNlbGVjdFRhcmdldEFibGUsIHByb3BlcnR5TmFtZTogbXhSZXNvdXJjZXMuZ2V0KCdzZWxlY3RUYXJnZXRBYmxlJyksIHByb3BlcnR5VHlwZTogJ3NlbGVjdCcgfSxcclxuICAgICAgICAgICAgXSk7XHJcbiAgICAgICAgICAgIHByb3BlcnR5RGF0YVtVc2VyQWN0aXZpdHlQcm9wZXJ0eUtleXMuU2VsZWN0VGFyZ2V0QWJsZV0gPSB1c2VyQWN0LlNlbGVjdFRhcmdldEFibGU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodXNlckFjdC5vdGhlckFzc2lnbk5vZGVzKSB7XHJcbiAgICAgICAgICAgIGFwcHJvdmFsUHJvcGVydHkucHJvcGVydGllcyA9IGFwcHJvdmFsUHJvcGVydHkucHJvcGVydGllcy5jb25jYXQoW1xyXG4gICAgICAgICAgICAgICAgeyBwcm9wZXJ0eUlEOiBVc2VyQWN0aXZpdHlQcm9wZXJ0eUtleXMub3RoZXJBc3NpZ25Ob2RlcywgcHJvcGVydHlOYW1lOiBteFJlc291cmNlcy5nZXQoJ290aGVyQXNzaWduTm9kZXMnKSwgcHJvcGVydHlUeXBlOiAnc2VsZWN0JyB9LFxyXG4gICAgICAgICAgICAgICAgLy8geyBwcm9wZXJ0eUlEOiBVc2VyQWN0aXZpdHlQcm9wZXJ0eUtleXMub3RoZXJBc3NpZ25BY3Rpdml0aWVzLCBwcm9wZXJ0eU5hbWU6IG14UmVzb3VyY2VzLmdldCgnb3RoZXJBc3NpZ25BY3Rpdml0aWVzJyksIHByb3BlcnR5VHlwZTogJ21vZGFsJyB9LFxyXG4gICAgICAgICAgICAgICAgeyBwcm9wZXJ0eUlEOiBVc2VyQWN0aXZpdHlQcm9wZXJ0eUtleXMub3RoZXJBc3NpZ25BY3Rpdml0eU5vZGVJbmZvcywgcHJvcGVydHlOYW1lOiBteFJlc291cmNlcy5nZXQoJ290aGVyQXNzaWduQWN0aXZpdHlOb2RlSW5mb3MnKSwgcHJvcGVydHlUeXBlOiAnbW9kYWwnIH0sXHJcbiAgICAgICAgICAgIF0pO1xyXG4gICAgICAgICAgICBwcm9wZXJ0eURhdGFbVXNlckFjdGl2aXR5UHJvcGVydHlLZXlzLm90aGVyQXNzaWduTm9kZXNdID0gdHJ1ZTtcclxuICAgICAgICAgICAgLy8gcHJvcGVydHlEYXRhW1VzZXJBY3Rpdml0eVByb3BlcnR5S2V5cy5vdGhlckFzc2lnbkFjdGl2aXRpZXNdID0gdXNlckFjdC5vdGhlckFzc2lnbk5vZGVzLm90aGVyQXNzaWduQWN0aXZpdGllcztcclxuICAgICAgICAgICAgcHJvcGVydHlEYXRhW1VzZXJBY3Rpdml0eVByb3BlcnR5S2V5cy5vdGhlckFzc2lnbkFjdGl2aXR5Tm9kZUluZm9zXSA9IHVzZXJBY3Qub3RoZXJBc3NpZ25Ob2Rlcy5vdGhlckFzc2lnbkFjdGl2aXR5Tm9kZUluZm9zIHx8IHVzZXJBY3Qub3RoZXJBc3NpZ25Ob2Rlcy5vdGhlckFzc2lnbkFjdGl2aXR5Tm9kZUluZm9zO1xyXG4gICAgICAgICAgICBpZih1c2VyQWN0Lm90aGVyQXNzaWduTm9kZXMub3RoZXJBc3NpZ25BY3Rpdml0aWVzKXtcclxuICAgICAgICAgICAgICAgIHVzZXJBY3Qub3RoZXJBc3NpZ25Ob2Rlcy5vdGhlckFzc2lnbkFjdGl2aXRpZXMgPSBudWxsO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGFwcHJvdmFsUHJvcGVydHkucHJvcGVydGllcyA9IGFwcHJvdmFsUHJvcGVydHkucHJvcGVydGllcy5jb25jYXQoW1xyXG4gICAgICAgICAgICAgICAgeyBwcm9wZXJ0eUlEOiBVc2VyQWN0aXZpdHlQcm9wZXJ0eUtleXMub3RoZXJBc3NpZ25Ob2RlcywgcHJvcGVydHlOYW1lOiBteFJlc291cmNlcy5nZXQoJ290aGVyQXNzaWduTm9kZXMnKSwgcHJvcGVydHlUeXBlOiAnc2VsZWN0JyB9XHJcbiAgICAgICAgICAgIF0pO1xyXG4gICAgICAgICAgICBwcm9wZXJ0eURhdGFbVXNlckFjdGl2aXR5UHJvcGVydHlLZXlzLm90aGVyQXNzaWduTm9kZXNdID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQgZXZlbnRMaXN0ZW5lcnM6IEVsZW1lbnRQcm9wZXJ0eUNvbmZpZyA9IG5ldyBFbGVtZW50UHJvcGVydHlDb25maWcoKTtcclxuICAgICAgICBldmVudExpc3RlbmVycy5jYXRlZ29yeUlkID0gJ2V2ZW50TGlzdGVuZXJzJzsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyDmtLvliqjpgInpobnvvIjooajljZXlrprkuYkr5rS75Yqo5p6E5Lu277yJXHJcbiAgICAgICAgZXZlbnRMaXN0ZW5lcnMuY2F0ZWdvcnlOYW1lID0gbXhSZXNvdXJjZXMuZ2V0KCdldmVudExpc3RlbmVycycpO1xyXG4gICAgICAgIGV2ZW50TGlzdGVuZXJzLnRhYklkID0gJ2FkdmFuY2VkJztcclxuICAgICAgICBldmVudExpc3RlbmVycy50YWJOYW1lID0gbXhSZXNvdXJjZXMuZ2V0KCdhZHZhbmNlZEF0dHJpYnV0ZXMnKTtcclxuICAgICAgICBldmVudExpc3RlbmVycy5wcm9wZXJ0aWVzID0gW1xyXG4gICAgICAgICAgICB7IHByb3BlcnR5SUQ6IFVzZXJBY3Rpdml0eVByb3BlcnR5S2V5cy5Ub29scywgcHJvcGVydHlOYW1lOiBteFJlc291cmNlcy5nZXQoJ3Rvb2xzJyksIHByb3BlcnR5VHlwZTogJ21vZGFsJyB9LFxyXG4gICAgICAgICAgICB7IHByb3BlcnR5SUQ6IFVzZXJBY3Rpdml0eVByb3BlcnR5S2V5cy5jaGVja0NvbmRpdGlvbnMsIHByb3BlcnR5TmFtZTogbXhSZXNvdXJjZXMuZ2V0KCdjaGVja0NvbmRpdGlvbnMnKSwgcHJvcGVydHlUeXBlOiAnbW9kYWwnIH0sXHJcbiAgICAgICAgICAgIHsgcHJvcGVydHlJRDogVXNlckFjdGl2aXR5UHJvcGVydHlLZXlzLnZhcmlhYmxlU2V0dGluZ3MsIHByb3BlcnR5TmFtZTogbXhSZXNvdXJjZXMuZ2V0KCd2YXJpYWJsZVNldHRpbmdzJyksIHByb3BlcnR5VHlwZTogJ21vZGFsJyB9XHJcbiAgICAgICAgXTtcclxuXHJcbiAgICAgICAgbGV0IEFwcHJvdmFsU2V0dGluZ3M6IEVsZW1lbnRQcm9wZXJ0eUNvbmZpZyA9IG5ldyBFbGVtZW50UHJvcGVydHlDb25maWcoKTtcclxuICAgICAgICBBcHByb3ZhbFNldHRpbmdzLmNhdGVnb3J5SWQgPSAnQXBwcm92YWxTZXR0aW5ncyc7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8g5rS75Yqo6YCJ6aG577yI6KGo5Y2V5a6a5LmJK+a0u+WKqOaehOS7tu+8iVxyXG4gICAgICAgIEFwcHJvdmFsU2V0dGluZ3MuY2F0ZWdvcnlOYW1lID0gbXhSZXNvdXJjZXMuZ2V0KCdhcHByb3ZhbFNldHRpbmdzJyk7XHJcbiAgICAgICAgQXBwcm92YWxTZXR0aW5ncy50YWJJZCA9ICdhZHZhbmNlZCc7XHJcbiAgICAgICAgQXBwcm92YWxTZXR0aW5ncy50YWJOYW1lID0gbXhSZXNvdXJjZXMuZ2V0KCdhZHZhbmNlZEF0dHJpYnV0ZXMnKTtcclxuICAgICAgICBBcHByb3ZhbFNldHRpbmdzLnByb3BlcnRpZXMgPSBbXHJcbiAgICAgICAgICAgIHsgcHJvcGVydHlJRDogVXNlckFjdGl2aXR5UHJvcGVydHlLZXlzLmFub255bW91c1NldCwgcHJvcGVydHlOYW1lOiBteFJlc291cmNlcy5nZXQoJ2Fub255bW91c1NldCcpLCBwcm9wZXJ0eVR5cGU6ICdtb2RhbCcgfSxcclxuICAgICAgICAgICAgeyBwcm9wZXJ0eUlEOiBVc2VyQWN0aXZpdHlQcm9wZXJ0eUtleXMuYXBwcm92YWxQaXZvdENvbmZpZywgcHJvcGVydHlOYW1lOiBteFJlc291cmNlcy5nZXQoJ2FwcHJvdmFsUGl2b3RDb25maWcnKSwgcHJvcGVydHlUeXBlOiAnbW9kYWwnIH0sXHJcbiAgICAgICAgICAgIHsgcHJvcGVydHlJRDogVXNlckFjdGl2aXR5UHJvcGVydHlLZXlzLmltYWdlU2V0dGluZ3MsIHByb3BlcnR5TmFtZTogbXhSZXNvdXJjZXMuZ2V0KCdpbWFnZVNldHRpbmdzJyksIHByb3BlcnR5VHlwZTogJ21vZGFsJyB9LFxyXG4gICAgICAgICAgICB7IHByb3BlcnR5SUQ6IFVzZXJBY3Rpdml0eVByb3BlcnR5S2V5cy5NdWx0aUluc3RhbmNlTG9vcENoYXJhY3RlcmlzdGljcywgcHJvcGVydHlOYW1lOiBteFJlc291cmNlcy5nZXQoJ211bHRpSW5zdGFuY2VMb29wQ2hhcmFjdGVyaXN0aWNzJyksIHByb3BlcnR5VHlwZTogJ21vZGFsJyB9XHJcbiAgICAgICAgXTtcclxuICAgICAgICBwcm9wZXJ0eURhdGFbVXNlckFjdGl2aXR5UHJvcGVydHlLZXlzLk11bHRpSW5zdGFuY2VMb29wQ2hhcmFjdGVyaXN0aWNzXSA9IHVzZXJBY3QuTG9vcENoYXJhY3RlcmlzdGljcztcclxuXHJcbiAgICAgICAgbGV0IHRhc2tUaW1lbGluZXNzOiBFbGVtZW50UHJvcGVydHlDb25maWcgPSBuZXcgRWxlbWVudFByb3BlcnR5Q29uZmlnKCk7XHJcbiAgICAgICAgdGFza1RpbWVsaW5lc3MuY2F0ZWdvcnlJZCA9ICd0YXNrVGltZWxpbmVzcyc7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8g5rS75Yqo6YCJ6aG577yI6KGo5Y2V5a6a5LmJK+a0u+WKqOaehOS7tu+8iVxyXG4gICAgICAgIHRhc2tUaW1lbGluZXNzLmNhdGVnb3J5TmFtZSA9IG14UmVzb3VyY2VzLmdldCgndGFza1RpbWVsaW5lc3MnKTtcclxuICAgICAgICB0YXNrVGltZWxpbmVzcy50YWJJZCA9ICdhZHZhbmNlZCc7XHJcbiAgICAgICAgdGFza1RpbWVsaW5lc3MudGFiTmFtZSA9IG14UmVzb3VyY2VzLmdldCgnYWR2YW5jZWRBdHRyaWJ1dGVzJyk7XHJcbiAgICAgICAgdGFza1RpbWVsaW5lc3MucHJvcGVydGllcyA9IFtcclxuICAgICAgICAgICAgeyBwcm9wZXJ0eUlEOiBVc2VyQWN0aXZpdHlQcm9wZXJ0eUtleXMudGltZUxpbWl0Q29udHJvbCwgcHJvcGVydHlOYW1lOiBteFJlc291cmNlcy5nZXQoJ3RpbWVMaW1pdENvbnRyb2wnKSwgcHJvcGVydHlUeXBlOiAnbW9kYWwnIH0sXHJcbiAgICAgICAgICAgIHsgcHJvcGVydHlJRDogVXNlckFjdGl2aXR5UHJvcGVydHlLZXlzLm1lc3NhZ2VOb3RpY2UsIHByb3BlcnR5TmFtZTogbXhSZXNvdXJjZXMuZ2V0KCdtZXNzYWdlTm90aWNlJyksIHByb3BlcnR5VHlwZTogJ21vZGFsJyB9LFxyXG4gICAgICAgIF07XHJcblxyXG4gICAgICAgIGxldCBmb3JtRGVmID0gbmV3IEVsZW1lbnRQcm9wZXJ0eUNvbmZpZygpO1xyXG4gICAgICAgIGZvcm1EZWYuY2F0ZWdvcnlJZCA9ICdmb3JtRGVmJztcclxuICAgICAgICBmb3JtRGVmLmNhdGVnb3J5TmFtZSA9IG14UmVzb3VyY2VzLmdldCgnZm9ybURlZicpO1xyXG4gICAgICAgIGZvcm1EZWYudGFiSWQgPSAnYmFzaWMnO1xyXG4gICAgICAgIGZvcm1EZWYudGFiTmFtZSA9IG14UmVzb3VyY2VzLmdldCgnYmFzaWNBdHRyaWJ1dGVzJyk7XHJcbiAgICAgICAgZm9ybURlZi5wcm9wZXJ0aWVzID0gW1xyXG4gICAgICAgICAgICB7IHByb3BlcnR5SUQ6IFVzZXJBY3Rpdml0eVByb3BlcnR5S2V5cy5EaXNwbGF5VGVybWluYWwsIHByb3BlcnR5TmFtZTogbXhSZXNvdXJjZXMuZ2V0KCdkaXNwbGF5VGVybWluYWwnKSwgcHJvcGVydHlUeXBlOiAnc2VsZWN0JyB9LFxyXG4gICAgICAgICAgICB7IHByb3BlcnR5SUQ6IFVzZXJBY3Rpdml0eVByb3BlcnR5S2V5cy53Zl9FeGVjdXRlRm9ybXNfUEMsIHByb3BlcnR5TmFtZTogbXhSZXNvdXJjZXMuZ2V0KCdwY0Zvcm0nKSwgcHJvcGVydHlUeXBlOiAnbW9kYWwnIH0sXHJcbiAgICAgICAgICAgIHsgcHJvcGVydHlJRDogVXNlckFjdGl2aXR5UHJvcGVydHlLZXlzLndmX0V4ZWN1dGVGb3Jtc19Nb2JpbGUsIHByb3BlcnR5TmFtZTogbXhSZXNvdXJjZXMuZ2V0KCd3ZWJGb3JtJyksIHByb3BlcnR5VHlwZTogJ21vZGFsJyB9LFxyXG4gICAgICAgIF07XHJcblxyXG4gICAgICAgIC8vIOaJqeWxleWxnuaAp+WIhmdyb3Vw5aSE55CG77yM5q+P5LiqZ3JvdXDljIXlkKvniLbnuqflsZ7mgKflkozlsZ7kuo7lroPnmoTlrZDmianlsZXlsZ7mgKdcclxuICAgICAgICBjb25zdCBncm91cExpc3QgPSBuZXcgQXJyYXkoKTtcclxuICAgICAgICBmb3IgKGNvbnN0IGV4dGVuZCBvZiBleHRlbmRMaXN0KSB7XHJcbiAgICAgICAgICAgIGlmICghZXh0ZW5kLnBhcmVudElkKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBncm91cCA9IHsgcGFyZW50OiBleHRlbmQsIGNoaWxkczogbmV3IEFycmF5KCkgfTtcclxuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgZSBvZiBleHRlbmRMaXN0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGUucGFyZW50SWQgPT09IGV4dGVuZC5pZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBncm91cC5jaGlsZHMucHVzaChlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBncm91cExpc3QucHVzaChncm91cClcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvLyDmsqHmnInmianlsZXlsZ7mgKflgLznmoTml7blgJnkuI3mmL7npLrmianlsZXlsZ7mgKfkuIDmoI9cclxuICAgICAgICBpZiAoZ3JvdXBMaXN0ICYmIGdyb3VwTGlzdC5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIGxldCBFeHRlbmRQcm9wZXJ0eUNvbmZpZzogRWxlbWVudFByb3BlcnR5Q29uZmlnID0gbmV3IEVsZW1lbnRQcm9wZXJ0eUNvbmZpZygpO1xyXG4gICAgICAgICAgICBFeHRlbmRQcm9wZXJ0eUNvbmZpZy5jYXRlZ29yeUlkID0gJ2V4dGVuZFByb3BlcnR5Q29uZmlnJztcclxuICAgICAgICAgICAgRXh0ZW5kUHJvcGVydHlDb25maWcuY2F0ZWdvcnlOYW1lID0gbXhSZXNvdXJjZXMuZ2V0KCdleHRlbmRQcm9wZXJ0eUNvbmZpZycpO1xyXG4gICAgICAgICAgICBFeHRlbmRQcm9wZXJ0eUNvbmZpZy50YWJJZCA9ICdhZHZhbmNlZCc7XHJcbiAgICAgICAgICAgIEV4dGVuZFByb3BlcnR5Q29uZmlnLnRhYk5hbWUgPSBteFJlc291cmNlcy5nZXQoJ2FkdmFuY2VkQXR0cmlidXRlcycpO1xyXG4gICAgICAgICAgICBFeHRlbmRQcm9wZXJ0eUNvbmZpZy5wcm9wZXJ0aWVzID0gbmV3IEFycmF5KCk7XHJcbiAgICAgICAgICAgIGZvciAoY29uc3QgZyBvZiBncm91cExpc3QpIHtcclxuICAgICAgICAgICAgICAgIEV4dGVuZFByb3BlcnR5Q29uZmlnLnByb3BlcnRpZXMucHVzaChcclxuICAgICAgICAgICAgICAgICAgICB7IHByb3BlcnR5SUQ6IGcucGFyZW50LmlkLCBwcm9wZXJ0eU5hbWU6IGcucGFyZW50LnByb3BlcnR5VGl0bGUsIHByb3BlcnR5VHlwZTogJ21vZGFsJyB9LFxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLnNldFByb3BlcnR5RGF0YSh1c2VyQWN0LCBwcm9wZXJ0eURhdGEsIGdyb3VwTGlzdCk7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgcHJvcGVydHlDb25maWc6IFtiYXNpY1Byb3BlcnR5LCBwZXJmb3JtZXJQcm9wZXJ0eSwgZm9ybURlZiwgYXBwcm92YWxQcm9wZXJ0eSwgZXZlbnRMaXN0ZW5lcnMsIHRhc2tUaW1lbGluZXNzLCBBcHByb3ZhbFNldHRpbmdzLCBFeHRlbmRQcm9wZXJ0eUNvbmZpZ10sXHJcbiAgICAgICAgICAgICAgICBwcm9wZXJ0eURhdGE6IHByb3BlcnR5RGF0YVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5zZXRQcm9wZXJ0eURhdGEodXNlckFjdCwgcHJvcGVydHlEYXRhLCBncm91cExpc3QpO1xyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgcHJvcGVydHlDb25maWc6IFtiYXNpY1Byb3BlcnR5LCBwZXJmb3JtZXJQcm9wZXJ0eSwgZm9ybURlZiwgYXBwcm92YWxQcm9wZXJ0eSwgZXZlbnRMaXN0ZW5lcnMsIHRhc2tUaW1lbGluZXNzLCBBcHByb3ZhbFNldHRpbmdzXSxcclxuICAgICAgICAgICAgICAgIHByb3BlcnR5RGF0YTogcHJvcGVydHlEYXRhXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDliKTmlq3mmK/lkKblrZjlnKjlj43lkJHmtYHnqIvliqjkvZxcclxuICAgICAqIEBwYXJhbSBjb25jbHVzaW9uc1xyXG4gICAgICovXHJcbiAgICBpc0JhY2tDb25jbHVzaW9uRXhpc3QoY29uY2x1c2lvbnM6IENvbmNsdXNpb25JdGVtW10pIHtcclxuICAgICAgICBmb3IgKGxldCBjb25jbHVzaW9uIG9mIGNvbmNsdXNpb25zKSB7XHJcbiAgICAgICAgICAgIGlmIChjb25jbHVzaW9uLldvcmtGbG93QWN0aW9uID09PSBXb3JrRmxvd0FjdGlvbi5CYWNrd2FyZCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog57uE57uHVXNlckFjdGl2aXR555qE5bGe5oCn5YC8cHJvcGVydHlEYXRhXHJcbiAgICAgKiBAcGFyYW0gYWN0XHJcbiAgICAgKiBAcGFyYW0gcHJvcGVydHlEYXRhXHJcbiAgICAgKi9cclxuICAgIHNldFByb3BlcnR5RGF0YShhY3Q6IFVzZXJBY3Rpdml0eSwgcHJvcGVydHlEYXRhOiBhbnksIGdyb3VwTGlzdDogYW55KTogdm9pZCB7XHJcbiAgICAgICAgcHJvcGVydHlEYXRhW1VzZXJBY3Rpdml0eVByb3BlcnR5S2V5cy5JZF0gPSBhY3QuSWQ7XHJcbiAgICAgICAgcHJvcGVydHlEYXRhW1VzZXJBY3Rpdml0eVByb3BlcnR5S2V5cy5DbHJUeXBlSURdID0gYWN0LkNsclR5cGVJRDtcclxuICAgICAgICBwcm9wZXJ0eURhdGFbVXNlckFjdGl2aXR5UHJvcGVydHlLZXlzLk5hbWVdID0gYWN0Lk5hbWU7XHJcbiAgICAgICAgcHJvcGVydHlEYXRhW1VzZXJBY3Rpdml0eVByb3BlcnR5S2V5cy5OYW1lTGFuZ3VhZ2VdID0gYWN0Lk5hbWVMYW5ndWFnZSB8fCB7XHJcbiAgICAgICAgICAgIFwiemgtQ0hTXCI6IGFjdC5OYW1lLFxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIC8v5rS75Yqo5Lyg6YCSYml6QWN0aXZpdHlJZFxyXG4gICAgICAgIHByb3BlcnR5RGF0YVtVc2VyQWN0aXZpdHlQcm9wZXJ0eUtleXMuQml6QWN0aXZpdHlJRF0gPSBhY3QuQml6QWN0aXZpdHlJRDtcclxuXHJcbiAgICAgICAgLy8g5Y+Y6YeP6K6+572uK+a1geeoi+WPmOmHj1xyXG4gICAgICAgIHByb3BlcnR5RGF0YVtVc2VyQWN0aXZpdHlQcm9wZXJ0eUtleXMudmFyaWFibGVTZXR0aW5nc10gPSBQcm9wZXJ0eUhlbHBlci5nZXRWYXJpYWJsZVNldHRpbmdzKGFjdC5Nb2RlbCwgYWN0LnZhcmlhYmxlU2V0dGluZ3MpO1xyXG5cclxuICAgICAgICBwcm9wZXJ0eURhdGFbVXNlckFjdGl2aXR5UHJvcGVydHlLZXlzLlBhcnRpY2lwYW50U2NoZW1lc10gPSB0aGlzLmdldFBhcnRpY2lwYW50SW5mbyhhY3QpO1xyXG4gICAgICAgIHByb3BlcnR5RGF0YVtVc2VyQWN0aXZpdHlQcm9wZXJ0eUtleXMuUGFydGljaXBhbnRPcHRpb25zXSA9IHRoaXMuZ2V0UGFydGljaXBhbnRPcHRpb25zKGFjdCk7XHJcbiAgICAgICAgLy8gaWYgKHVzZXJBY3QuQXNzaWdubWVudFN0cmF0ZWd5ID09PSBBc3NpZ25tZW50U3RyYXRlZ3kuQVNTSUdOKSB7XHJcbiAgICAgICAgLy8gICAgIHByb3BlcnR5RGF0YVtVc2VyQWN0aXZpdHlQcm9wZXJ0eUtleXMuQXNzaWduUGVyZm9ybWVyXSA9IHRoaXMuZ2V0UG90ZW50aWFsT3duZXJJbXBsKHVzZXJBY3QpO1xyXG4gICAgICAgIC8vIH1cclxuXHJcbiAgICAgICAgcHJvcGVydHlEYXRhW1VzZXJBY3Rpdml0eVByb3BlcnR5S2V5cy5BcHByb3ZhbEl0ZW1zXSA9IGFjdC5Db25jbHVzaW9ucztcclxuICAgICAgICBwcm9wZXJ0eURhdGFbVXNlckFjdGl2aXR5UHJvcGVydHlLZXlzLlRvb2xzXSA9IFByb3BlcnR5SGVscGVyLmdldEJpekNvbXBvbmVudExpc3QoYWN0LlRvb2xzIGFzIEFycmF5PENvbXBvbmVudD4pO1xyXG4gICAgICAgIHByb3BlcnR5RGF0YVtVc2VyQWN0aXZpdHlQcm9wZXJ0eUtleXMud2ZfQ3VzdG9taXplQWN0aW9uXSA9IGFjdC5jdXN0b21pemVBY3Rpb25zIHx8IFtdO1xyXG5cclxuICAgICAgICBwcm9wZXJ0eURhdGFbVXNlckFjdGl2aXR5UHJvcGVydHlLZXlzLkFzc2lnblN0cmF0ZWd5XSA9IHRoaXMuZ2V0QXNzaWduU3RyYXRlZ3koYWN0KTtcclxuXHJcbiAgICAgICAgcHJvcGVydHlEYXRhW1VzZXJBY3Rpdml0eVByb3BlcnR5S2V5cy5SZXRyaWV2YWJsZV0gPSBhY3QuUmV0cmlldmFibGU7XHJcbiAgICAgICAgcHJvcGVydHlEYXRhW1VzZXJBY3Rpdml0eVByb3BlcnR5S2V5cy5TZWxlY3RCcmFuY2hdID0gYWN0LlNlbGVjdEJyYW5jaDtcclxuICAgICAgICBwcm9wZXJ0eURhdGFbVXNlckFjdGl2aXR5UHJvcGVydHlLZXlzLkFkZFNpZ25Gcm9udEFibGVdID0gdGhpcy5nZXRTaWduRnJvbnRJbmZvKGFjdCk7XHJcbiAgICAgICAgcHJvcGVydHlEYXRhW1VzZXJBY3Rpdml0eVByb3BlcnR5S2V5cy5BZGRTaWduQmVoaW5kQWJsZV0gPSB0aGlzLmdldFNpZ25CZWhpbmRJbmZvKGFjdCk7XHJcbiAgICAgICAgcHJvcGVydHlEYXRhW1VzZXJBY3Rpdml0eVByb3BlcnR5S2V5cy50cmFuc2ZlclNjb3BlXSA9IHRoaXMuZ2V0VHJhbnNmZXJTY29wZUluZm8oYWN0KTtcclxuICAgICAgICBwcm9wZXJ0eURhdGFbVXNlckFjdGl2aXR5UHJvcGVydHlLZXlzLk5vdGlmeUFibGVdID0gdGhpcy5nZXROb3RpZnlBYmxlKGFjdCk7XHJcbiAgICAgICAgcHJvcGVydHlEYXRhW1VzZXJBY3Rpdml0eVByb3BlcnR5S2V5cy50aW1lTGltaXRDb250cm9sXSA9IHRoaXMuZ2V0VGltZUxpbWl0SW5mbyhhY3QpO1xyXG5cclxuICAgICAgICBwcm9wZXJ0eURhdGFbVXNlckFjdGl2aXR5UHJvcGVydHlLZXlzLndmX1RpdGxlRXhwcmVzc2lvbl0gPSBhY3QudGFza1RpdGxlID8gKGFjdC50YXNrVGl0bGUudmFsdWVMYW5ndWFnZSA/IGFjdC50YXNrVGl0bGUudmFsdWVMYW5ndWFnZSA6IGFjdC50YXNrVGl0bGUudmFsdWUpIDogJyc7XHJcbiAgICAgICAgcHJvcGVydHlEYXRhW1VzZXJBY3Rpdml0eVByb3BlcnR5S2V5cy5hbm9ueW1vdXNTZXRdID0ge1xyXG4gICAgICAgICAgICBpc0Fub255bWl0eTogYWN0LmFub255bW91cyxcclxuICAgICAgICAgICAgYW5vbnltb3VzOiBhY3QuYW5vbnltb3VzVGV4dFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgcHJvcGVydHlEYXRhW1VzZXJBY3Rpdml0eVByb3BlcnR5S2V5cy5tZXNzYWdlTm90aWNlXSA9IFByb3BlcnR5SGVscGVyLmdldE1lc3NhZ2VOb3RpY2VzKGFjdC5tZXNzYWdlTm90aWNlcyk7XHJcbiAgICAgICAgLy8g5b2x5YOP6K6+572uXHJcbiAgICAgICAgcHJvcGVydHlEYXRhW1VzZXJBY3Rpdml0eVByb3BlcnR5S2V5cy5pbWFnZVNldHRpbmdzXSA9IGFjdC5pbWFnZVNldHRpbmdzO1xyXG4gICAgICAgIHByb3BlcnR5RGF0YVtVc2VyQWN0aXZpdHlQcm9wZXJ0eUtleXMud2ZfRXhlY3V0ZUZvcm1zX1BDXSA9XHJcbiAgICAgICAgICAgIGFjdC5FeGVjdXRlRm9ybXMgPyBhY3QuRXhlY3V0ZUZvcm1zLmZpbmQoZSA9PiBlLlRlcm1pbmFsVHlwZSA9PT0gJ1BDJykgOiBudWxsO1xyXG4gICAgICAgIHByb3BlcnR5RGF0YVtVc2VyQWN0aXZpdHlQcm9wZXJ0eUtleXMud2ZfRXhlY3V0ZUZvcm1zX01vYmlsZV0gPVxyXG4gICAgICAgICAgICBhY3QuRXhlY3V0ZUZvcm1zID8gYWN0LkV4ZWN1dGVGb3Jtcy5maW5kKGUgPT4gZS5UZXJtaW5hbFR5cGUgPT09ICdNT0JJTEUnKSA6IG51bGw7XHJcbiAgICAgICAgcHJvcGVydHlEYXRhW1VzZXJBY3Rpdml0eVByb3BlcnR5S2V5cy5hcHByb3ZhbFBpdm90Q29uZmlnXSA9IGFjdC5hcHByb3ZhbFBpdm90Q29uZmlnO1xyXG4gICAgICAgIHByb3BlcnR5RGF0YVtVc2VyQWN0aXZpdHlQcm9wZXJ0eUtleXMuRGlzcGxheVRlcm1pbmFsXSA9IGFjdC5EaXNwbGF5VGVybWluYWwgPyBhY3QuRGlzcGxheVRlcm1pbmFsIDogRGlzcGxheVRlcm1pbmFsLkFMTDtcclxuICAgICAgICBwcm9wZXJ0eURhdGFbVXNlckFjdGl2aXR5UHJvcGVydHlLZXlzLnVyZ2VIYW5kbGVSdWxlXSA9IHRoaXMuZ2V0VXJnZUhhbmRsZVJ1bGUoYWN0KTtcclxuICAgICAgICBmb3IgKGNvbnN0IGcgb2YgZ3JvdXBMaXN0KSB7XHJcbiAgICAgICAgICAgIC8vIOWPluWbnuaooeWei+S4iueahHZhbHVl5YC857uZ5Yiw5omp5bGV5bGe5oCn57uE5Lu26YeMXHJcbiAgICAgICAgICAgIGlmIChhY3QuZXh0ZW5kUHJvcGVydGllcyAmJiBhY3QuZXh0ZW5kUHJvcGVydGllcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICBnLmNoaWxkcy5zb3J0KChhLCBiKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGEuc29ydE9yZGVyIC0gYi5zb3J0T3JkZXI7XHJcbiAgICAgICAgICAgICAgICB9KS5mb3JFYWNoKChkOiBhbnkpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBhY3QuZXh0ZW5kUHJvcGVydGllcy5mb3JFYWNoKGUgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZS5rZXkgPT0gZC5jb2RlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkLnZhbHVlID0gZS52YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcHJvcGVydHlEYXRhW2cucGFyZW50LmlkXSA9IGcuY2hpbGRzO1xyXG4gICAgICAgIH1cclxuICAgICAgICBwcm9wZXJ0eURhdGFbVXNlckFjdGl2aXR5UHJvcGVydHlLZXlzLmNoZWNrQ29uZGl0aW9uc10gPSB0aGlzLmdldENoZWNrQ29uZGl0aW9ucyhhY3QpO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBnZXRQYXJ0aWNpcGFudEluZm8odXNlckFjdGl2aXR5OiBVc2VyQWN0aXZpdHkpOiBQYXJ0aWNpcGFudEluZm8ge1xyXG4gICAgICAgIGNvbnN0IHBhcnRpSW5mbyA9IG5ldyBQYXJ0aWNpcGFudEluZm8oKTtcclxuICAgICAgICBwYXJ0aUluZm8uYXNzaWduU3RyYXRlZ3kuYXNzaWduU3RyYXRlZ3kgPSB1c2VyQWN0aXZpdHkuQXNzaWdubWVudFN0cmF0ZWd5O1xyXG4gICAgICAgIGNvbnN0IHJvbGVzID0gdXNlckFjdGl2aXR5LkdldFJlc291cmNlUm9sZXMoKS5maWx0ZXIocm9sZSA9PiByb2xlIGluc3RhbmNlb2YgSHVtYW5QZXJmb3JtZXJJbXBsKSBhcyBBcnJheTxIdW1hblBlcmZvcm1lckltcGw+O1xyXG4gICAgICAgIHBhcnRpSW5mby5odW1hblBlcmZvcm1lckxpc3QgPSBQcm9wZXJ0eUhlbHBlci5nZXRQZXJmb3JtZXJMaXN0KHJvbGVzKTtcclxuICAgICAgICBpZiAodXNlckFjdGl2aXR5LkFzc2lnbm1lbnRTdHJhdGVneSA9PT0gQXNzaWdubWVudFN0cmF0ZWd5LkFTU0lHTikge1xyXG4gICAgICAgICAgICBpZiAodXNlckFjdGl2aXR5LkFzc2lnblBlcmZvcm1lckNvbmZpZykge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgYXNzaWduQ29uZmlnID0gbmV3IEFzc2lnbkNvbmZpZygpO1xyXG4gICAgICAgICAgICAgICAgYXNzaWduQ29uZmlnLm9wZXJhdG9yID0gdXNlckFjdGl2aXR5LkFzc2lnblBlcmZvcm1lckNvbmZpZy5PcGVyYXRvcjtcclxuICAgICAgICAgICAgICAgIGFzc2lnbkNvbmZpZy5tdWx0aVNlbGVjdCA9IHVzZXJBY3Rpdml0eS5Bc3NpZ25QZXJmb3JtZXJDb25maWcuTXVsdGlTZWxlY3Q7XHJcbiAgICAgICAgICAgICAgICBhc3NpZ25Db25maWcubmVjZXNzYXJ5ID0gdXNlckFjdGl2aXR5LkFzc2lnblBlcmZvcm1lckNvbmZpZy5OZWNlc3Nhcnk7XHJcbiAgICAgICAgICAgICAgICBwYXJ0aUluZm8uYXNzaWduU3RyYXRlZ3kuYXNzaWduQ29uZmlnID0gYXNzaWduQ29uZmlnO1xyXG4gICAgICAgICAgICAgICAgcGFydGlJbmZvLmlzQWxsU2NvcGUgPSB1c2VyQWN0aXZpdHkuQXNzaWduUGVyZm9ybWVyQ29uZmlnLkFsbG93R2xvYmFsQXNzaWduO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0IHJvbGVzID0gdXNlckFjdGl2aXR5LkdldFJlc291cmNlUm9sZXMoKS5maWx0ZXIocm9sZSA9PiByb2xlIGluc3RhbmNlb2YgUG90ZW50aWFsT3duZXJJbXBsKSBhcyBBcnJheTxQb3RlbnRpYWxPd25lckltcGw+O1xyXG4gICAgICAgICAgICBwYXJ0aUluZm8ucG90ZW50aWFsT3duZXJMaXN0ID0gUHJvcGVydHlIZWxwZXIuZ2V0UGVyZm9ybWVyTGlzdChyb2xlcyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gcGFydGlJbmZvO1xyXG4gICAgfVxyXG5cclxuICAgIGdldFBhcnRpY2lwYW50T3B0aW9ucyh1c2VyQWN0aXZpdHk6IFVzZXJBY3Rpdml0eSkge1xyXG4gICAgICAgIGNvbnN0IG9wdGlvbnM6IGFueSA9IHt9O1xyXG4gICAgICAgIGlmICh1c2VyQWN0aXZpdHkuUGFydGljaXBhbnRTZXR0aW5nICE9IG51bGwpIHtcclxuICAgICAgICAgICAgb3B0aW9ucy5FeGNsdXNpb25QZXJmb3JtZXJzID0gdXNlckFjdGl2aXR5LlBhcnRpY2lwYW50U2V0dGluZy5FeGNsdXNpb25QZXJmb3JtZXJzO1xyXG4gICAgICAgICAgICBvcHRpb25zLk5vUGVyZm9ybWVyU3RyYXRlZ3kgPSB1c2VyQWN0aXZpdHkuUGFydGljaXBhbnRTZXR0aW5nLk5vUGVyZm9ybWVyU3RyYXRlZ3k7XHJcbiAgICAgICAgICAgIG9wdGlvbnMuSGlzdG9yaWNGaXJzdCA9IHVzZXJBY3Rpdml0eS5QYXJ0aWNpcGFudFNldHRpbmcuSGlzdG9yaWNGaXJzdDtcclxuICAgICAgICAgICAgb3B0aW9ucy5hdXRvbWF0aWNQZXJmb3JtZXJzID0gdXNlckFjdGl2aXR5LlBhcnRpY2lwYW50U2V0dGluZy5hdXRvbWF0aWNQZXJmb3JtZXJzO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gb3B0aW9ucztcclxuICAgIH1cclxuXHJcbiAgICBnZXRBc3NpZ25TdHJhdGVneSh1c2VyQWN0aXZpdHk6IFVzZXJBY3Rpdml0eSk6IEFzc2lnblN0cmF0ZWd5IHtcclxuICAgICAgICBjb25zdCBhc3NpZ25TdHJhdGVneSA9IG5ldyBBc3NpZ25TdHJhdGVneSgpO1xyXG4gICAgICAgIGFzc2lnblN0cmF0ZWd5LmFzc2lnblN0cmF0ZWd5ID0gdXNlckFjdGl2aXR5LkFzc2lnbm1lbnRTdHJhdGVneTtcclxuICAgICAgICBpZiAodXNlckFjdGl2aXR5LkFzc2lnblBlcmZvcm1lckNvbmZpZykge1xyXG4gICAgICAgICAgICBjb25zdCBhc3NpZ25Db25maWcgPSBuZXcgQXNzaWduQ29uZmlnKCk7XHJcbiAgICAgICAgICAgIGFzc2lnbkNvbmZpZy5vcGVyYXRvciA9IHVzZXJBY3Rpdml0eS5Bc3NpZ25QZXJmb3JtZXJDb25maWcuT3BlcmF0b3I7XHJcbiAgICAgICAgICAgIGFzc2lnbkNvbmZpZy5tdWx0aVNlbGVjdCA9IHVzZXJBY3Rpdml0eS5Bc3NpZ25QZXJmb3JtZXJDb25maWcuTXVsdGlTZWxlY3Q7XHJcbiAgICAgICAgICAgIGFzc2lnbkNvbmZpZy5uZWNlc3NhcnkgPSB1c2VyQWN0aXZpdHkuQXNzaWduUGVyZm9ybWVyQ29uZmlnLk5lY2Vzc2FyeTtcclxuICAgICAgICAgICAgYXNzaWduU3RyYXRlZ3kuYXNzaWduQ29uZmlnID0gYXNzaWduQ29uZmlnO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gYXNzaWduU3RyYXRlZ3k7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIGdldFNpZ25Gcm9udEluZm8odXNlckFjdGl2aXR5OiBVc2VyQWN0aXZpdHkpOiBBY3Rpb25Pcmdhbml6YXRpb25TY29wZURlc2lnbiB7XHJcbiAgICAgICAgY29uc3Qgc2lnbkZyb250VGVzdCA9IG5ldyBBY3Rpb25Pcmdhbml6YXRpb25TY29wZURlc2lnbigpO1xyXG4gICAgICAgIHNpZ25Gcm9udFRlc3QuYWN0aW9uID0gQWN0aW9uU2NvcGUuQWRkU2lnbkZyb250IGFzIGFueTtcclxuICAgICAgICBpZiAodXNlckFjdGl2aXR5LkFkZFNpZ25Gcm9udEFibGUpIHtcclxuICAgICAgICAgICAgc2lnbkZyb250VGVzdC5lbmFibGUgPSB0cnVlO1xyXG4gICAgICAgICAgICBjb25zdCByb2xlcyA9IHVzZXJBY3Rpdml0eS5keW5hbWljUGFydGljaXBhbnRzLmZpbHRlcihyID0+IHIuYWN0aW9uU2NvcGUgPT09IEFjdGlvblNjb3BlLkFkZFNpZ25Gcm9udCk7XHJcbiAgICAgICAgICAgIGxldCByZXMgPSByb2xlcy5maW5kKHIgPT4gKHIgYXMgYW55KS5vcmdhbml6YXRpb25MZXZlbCAmJiAhKHIgYXMgYW55KS5vcmRlcik7XHJcbiAgICAgICAgICAgIGxldCBsaXN0IDogUGFydGljaXBhbnRbXSA9IFtdO1xyXG4gICAgICAgICAgICBpZihyZXMpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG9yZ2FuaXphdGlvbiA9IG5ldyBPcmdhbml6YXRpb25QYXJ0aWNpcGFudDtcclxuICAgICAgICAgICAgICAgIG9yZ2FuaXphdGlvbi5pZCA9IHJlcy5pZDtcclxuICAgICAgICAgICAgICAgIG9yZ2FuaXphdGlvbi50eXBlID0gcmVzLkNsclR5cGVJRDtcclxuICAgICAgICAgICAgICAgIG9yZ2FuaXphdGlvbi5uYW1lID0gcmVzLm5hbWU7XHJcbiAgICAgICAgICAgICAgICBvcmdhbml6YXRpb24uYWN0aW9uU2NvcGUgPSByZXMuYWN0aW9uU2NvcGUgYXMgYW55O1xyXG4gICAgICAgICAgICAgICAgb3JnYW5pemF0aW9uLm9yZ2FuaXphdGlvbkxldmVsID0gKHJlcyBhcyBhbnkpLm9yZ2FuaXphdGlvbkxldmVsO1xyXG4gICAgICAgICAgICAgICAgb3JnYW5pemF0aW9uLm9yZ2FuaXphdGlvbklkID0gKHJlcyBhcyBhbnkpLm9yZ2FuaXphdGlvbklkO1xyXG4gICAgICAgICAgICAgICAgb3JnYW5pemF0aW9uLm9yZ2FuaXphdGlvbkNvZGUgPSAocmVzIGFzIGFueSkub3JnYW5pemF0aW9uQ29kZTtcclxuICAgICAgICAgICAgICAgIG9yZ2FuaXphdGlvbi5vcmdhbml6YXRpb25OYW1lID0gKHJlcyBhcyBhbnkpLm9yZ2FuaXphdGlvbk5hbWU7XHJcbiAgICAgICAgICAgICAgICBvcmdhbml6YXRpb24uaW5jbHVkZUNoaWxkcmVuID0gKHJlcyBhcyBhbnkpLmluY2x1ZGVDaGlsZHJlbjtcclxuICAgICAgICAgICAgICAgIG9yZ2FuaXphdGlvbi5wYXJlbnRzVW50aWwgPSAocmVzIGFzIGFueSkucGFyZW50c1VudGlsO1xyXG4gICAgICAgICAgICAgICAgb3JnYW5pemF0aW9uLnRhZyA9IChyZXMgYXMgYW55KS50YWc7XHJcbiAgICAgICAgICAgICAgICBvcmdhbml6YXRpb24ub3JkZXIgPSAxO1xyXG4gICAgICAgICAgICAgICAgbGlzdC5wdXNoKG9yZ2FuaXphdGlvbik7XHJcbiAgICAgICAgICAgIH1lbHNlIHtcclxuICAgICAgICAgICAgICAgIGxpc3QgPSBQcm9wZXJ0eUhlbHBlci5nZXRQZXJmb3JtZXJMaXN0VGVzdChyb2xlcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgc2lnbkZyb250VGVzdC5zY29wZSA9IG5ldyBPcmdhbml6YXRpb25Qb3RlbnRpYWxPd25lcigpO1xyXG4gICAgICAgICAgICBpZihsaXN0ICYmIGxpc3QubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgc2lnbkZyb250VGVzdC5zY29wZS5wYXJ0aWNpcGFudEluZm8gPSBuZXcgUGFydGljaXBhbnRJbmZvKCk7XHJcbiAgICAgICAgICAgICAgICBzaWduRnJvbnRUZXN0LnNjb3BlLnBhcnRpY2lwYW50SW5mby5wb3RlbnRpYWxPd25lckxpc3QgPSBsaXN0O1xyXG4gICAgICAgICAgICAgICAgc2lnbkZyb250VGVzdC5zY29wZS5wYXJ0aWNpcGFudEluZm8uaXNBbGxTY29wZSA9IHRydWU7XHJcbiAgICAgICAgICAgIH1lbHNlIHtcclxuICAgICAgICAgICAgICAgIHNpZ25Gcm9udFRlc3Quc2NvcGUucGFydGljaXBhbnRJbmZvID0gbmV3IFBhcnRpY2lwYW50SW5mbygpO1xyXG4gICAgICAgICAgICAgICAgc2lnbkZyb250VGVzdC5zY29wZS5wYXJ0aWNpcGFudEluZm8uaXNBbGxTY29wZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgc2lnbkZyb250VGVzdC5lbmFibGUgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHNpZ25Gcm9udFRlc3Q7XHJcbiAgICB9XHJcbiAgICBnZXRTaWduQmVoaW5kSW5mbyh1c2VyQWN0aXZpdHk6IFVzZXJBY3Rpdml0eSk6IEFjdGlvbk9yZ2FuaXphdGlvblNjb3BlRGVzaWduIHtcclxuICAgICAgICBjb25zdCBzaWduQmVoaW5kVGVzdCA9IG5ldyBBY3Rpb25Pcmdhbml6YXRpb25TY29wZURlc2lnbigpO1xyXG4gICAgICAgIHNpZ25CZWhpbmRUZXN0LmFjdGlvbiA9IEFjdGlvblNjb3BlLkFkZFNpZ25CZWhpbmQgYXMgYW55O1xyXG4gICAgICAgIGlmICh1c2VyQWN0aXZpdHkuQWRkU2lnbkJlaGluZEFibGUpIHtcclxuICAgICAgICAgICAgc2lnbkJlaGluZFRlc3QuZW5hYmxlID0gdHJ1ZTtcclxuICAgICAgICAgICAgY29uc3Qgcm9sZXMgPSB1c2VyQWN0aXZpdHkuZHluYW1pY1BhcnRpY2lwYW50cy5maWx0ZXIociA9PiByLmFjdGlvblNjb3BlID09PSBBY3Rpb25TY29wZS5BZGRTaWduQmVoaW5kKTtcclxuICAgICAgICAgICAgbGV0IHJlcyA9IHJvbGVzLmZpbmQociA9PiAociBhcyBhbnkpLm9yZ2FuaXphdGlvbkxldmVsICYmICEociBhcyBhbnkpLm9yZGVyKTtcclxuICAgICAgICAgICAgbGV0IGxpc3QgOiBQYXJ0aWNpcGFudFtdID0gW107XHJcbiAgICAgICAgICAgIGlmKHJlcykge1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgb3JnYW5pemF0aW9uID0gbmV3IE9yZ2FuaXphdGlvblBhcnRpY2lwYW50O1xyXG4gICAgICAgICAgICAgICAgb3JnYW5pemF0aW9uLmlkID0gcmVzLmlkO1xyXG4gICAgICAgICAgICAgICAgb3JnYW5pemF0aW9uLnR5cGUgPSByZXMuQ2xyVHlwZUlEO1xyXG4gICAgICAgICAgICAgICAgb3JnYW5pemF0aW9uLm5hbWUgPSByZXMubmFtZTtcclxuICAgICAgICAgICAgICAgIG9yZ2FuaXphdGlvbi5hY3Rpb25TY29wZSA9IHJlcy5hY3Rpb25TY29wZSBhcyBhbnk7XHJcbiAgICAgICAgICAgICAgICBvcmdhbml6YXRpb24ub3JnYW5pemF0aW9uTGV2ZWwgPSAocmVzIGFzIGFueSkub3JnYW5pemF0aW9uTGV2ZWw7XHJcbiAgICAgICAgICAgICAgICBvcmdhbml6YXRpb24ub3JnYW5pemF0aW9uSWQgPSAocmVzIGFzIGFueSkub3JnYW5pemF0aW9uSWQ7XHJcbiAgICAgICAgICAgICAgICBvcmdhbml6YXRpb24ub3JnYW5pemF0aW9uQ29kZSA9IChyZXMgYXMgYW55KS5vcmdhbml6YXRpb25Db2RlO1xyXG4gICAgICAgICAgICAgICAgb3JnYW5pemF0aW9uLm9yZ2FuaXphdGlvbk5hbWUgPSAocmVzIGFzIGFueSkub3JnYW5pemF0aW9uTmFtZTtcclxuICAgICAgICAgICAgICAgIG9yZ2FuaXphdGlvbi5pbmNsdWRlQ2hpbGRyZW4gPSAocmVzIGFzIGFueSkuaW5jbHVkZUNoaWxkcmVuO1xyXG4gICAgICAgICAgICAgICAgb3JnYW5pemF0aW9uLnBhcmVudHNVbnRpbCA9IChyZXMgYXMgYW55KS5wYXJlbnRzVW50aWw7XHJcbiAgICAgICAgICAgICAgICBvcmdhbml6YXRpb24udGFnID0gKHJlcyBhcyBhbnkpLnRhZztcclxuICAgICAgICAgICAgICAgIG9yZ2FuaXphdGlvbi5vcmRlciA9IDE7XHJcbiAgICAgICAgICAgICAgICBsaXN0LnB1c2gob3JnYW5pemF0aW9uKTtcclxuICAgICAgICAgICAgfWVsc2Uge1xyXG4gICAgICAgICAgICAgICAgbGlzdCA9IFByb3BlcnR5SGVscGVyLmdldFBlcmZvcm1lckxpc3RUZXN0KHJvbGVzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBzaWduQmVoaW5kVGVzdC5zY29wZSA9IG5ldyBPcmdhbml6YXRpb25Qb3RlbnRpYWxPd25lcigpO1xyXG4gICAgICAgICAgICBpZihsaXN0ICYmIGxpc3QubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgc2lnbkJlaGluZFRlc3Quc2NvcGUucGFydGljaXBhbnRJbmZvID0gbmV3IFBhcnRpY2lwYW50SW5mbygpO1xyXG4gICAgICAgICAgICAgICAgc2lnbkJlaGluZFRlc3Quc2NvcGUucGFydGljaXBhbnRJbmZvLnBvdGVudGlhbE93bmVyTGlzdCA9IGxpc3Q7XHJcbiAgICAgICAgICAgICAgICBzaWduQmVoaW5kVGVzdC5zY29wZS5wYXJ0aWNpcGFudEluZm8uaXNBbGxTY29wZSA9IHRydWU7XHJcbiAgICAgICAgICAgIH1lbHNlIHtcclxuICAgICAgICAgICAgICAgIHNpZ25CZWhpbmRUZXN0LnNjb3BlLnBhcnRpY2lwYW50SW5mbyA9IG5ldyBQYXJ0aWNpcGFudEluZm8oKTtcclxuICAgICAgICAgICAgICAgIHNpZ25CZWhpbmRUZXN0LnNjb3BlLnBhcnRpY2lwYW50SW5mby5pc0FsbFNjb3BlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBzaWduQmVoaW5kVGVzdC5lbmFibGUgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHNpZ25CZWhpbmRUZXN0O1xyXG4gICAgfVxyXG4gICAgZ2V0VHJhbnNmZXJTY29wZUluZm8odXNlckFjdGl2aXR5OiBVc2VyQWN0aXZpdHkpOiBBY3Rpb25Pcmdhbml6YXRpb25TY29wZURlc2lnbiB7XHJcbiAgICAgICAgY29uc3QgdHJhbnNmZXJTY29wZVRlc3QgPSBuZXcgQWN0aW9uT3JnYW5pemF0aW9uU2NvcGVEZXNpZ24oKTtcclxuICAgICAgICB0cmFuc2ZlclNjb3BlVGVzdC5hY3Rpb24gPSBBY3Rpb25TY29wZS5UcmFuc2ZlciBhcyBhbnk7XHJcblxyXG4gICAgICAgIGlmICh1c2VyQWN0aXZpdHkudHJhbnNmZXJBYmxlKSB7XHJcbiAgICAgICAgICAgIHRyYW5zZmVyU2NvcGVUZXN0LmVuYWJsZSA9IHRydWU7XHJcbiAgICAgICAgICAgIGNvbnN0IHJvbGVzID0gdXNlckFjdGl2aXR5LmR5bmFtaWNQYXJ0aWNpcGFudHMuZmlsdGVyKHIgPT4gci5hY3Rpb25TY29wZSA9PT0gQWN0aW9uU2NvcGUuVHJhbnNmZXIpO1xyXG4gICAgICAgICAgICBsZXQgcmVzID0gcm9sZXMuZmluZChyID0+IChyIGFzIGFueSkub3JnYW5pemF0aW9uTGV2ZWwgJiYgIShyIGFzIGFueSkub3JkZXIpO1xyXG4gICAgICAgICAgICBsZXQgbGlzdCA6IFBhcnRpY2lwYW50W10gPSBbXTtcclxuICAgICAgICAgICAgaWYocmVzKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBvcmdhbml6YXRpb24gPSBuZXcgT3JnYW5pemF0aW9uUGFydGljaXBhbnQ7XHJcbiAgICAgICAgICAgICAgICBvcmdhbml6YXRpb24uaWQgPSByZXMuaWQ7XHJcbiAgICAgICAgICAgICAgICBvcmdhbml6YXRpb24udHlwZSA9IHJlcy5DbHJUeXBlSUQ7XHJcbiAgICAgICAgICAgICAgICBvcmdhbml6YXRpb24ubmFtZSA9IHJlcy5uYW1lO1xyXG4gICAgICAgICAgICAgICAgb3JnYW5pemF0aW9uLmFjdGlvblNjb3BlID0gcmVzLmFjdGlvblNjb3BlIGFzIGFueTtcclxuICAgICAgICAgICAgICAgIG9yZ2FuaXphdGlvbi5vcmdhbml6YXRpb25MZXZlbCA9IChyZXMgYXMgYW55KS5vcmdhbml6YXRpb25MZXZlbDtcclxuICAgICAgICAgICAgICAgIG9yZ2FuaXphdGlvbi5vcmdhbml6YXRpb25JZCA9IChyZXMgYXMgYW55KS5vcmdhbml6YXRpb25JZDtcclxuICAgICAgICAgICAgICAgIG9yZ2FuaXphdGlvbi5vcmdhbml6YXRpb25Db2RlID0gKHJlcyBhcyBhbnkpLm9yZ2FuaXphdGlvbkNvZGU7XHJcbiAgICAgICAgICAgICAgICBvcmdhbml6YXRpb24ub3JnYW5pemF0aW9uTmFtZSA9IChyZXMgYXMgYW55KS5vcmdhbml6YXRpb25OYW1lO1xyXG4gICAgICAgICAgICAgICAgb3JnYW5pemF0aW9uLmluY2x1ZGVDaGlsZHJlbiA9IChyZXMgYXMgYW55KS5pbmNsdWRlQ2hpbGRyZW47XHJcbiAgICAgICAgICAgICAgICBvcmdhbml6YXRpb24ucGFyZW50c1VudGlsID0gKHJlcyBhcyBhbnkpLnBhcmVudHNVbnRpbDtcclxuICAgICAgICAgICAgICAgIG9yZ2FuaXphdGlvbi50YWcgPSAocmVzIGFzIGFueSkudGFnO1xyXG4gICAgICAgICAgICAgICAgb3JnYW5pemF0aW9uLm9yZGVyID0gMTtcclxuICAgICAgICAgICAgICAgIGxpc3QucHVzaChvcmdhbml6YXRpb24pO1xyXG4gICAgICAgICAgICB9ZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBsaXN0ID0gUHJvcGVydHlIZWxwZXIuZ2V0UGVyZm9ybWVyTGlzdFRlc3Qocm9sZXMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRyYW5zZmVyU2NvcGVUZXN0LnNjb3BlID0gbmV3IE9yZ2FuaXphdGlvblBvdGVudGlhbE93bmVyKCk7XHJcbiAgICAgICAgICAgIGlmKGxpc3QgJiYgbGlzdC5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICB0cmFuc2ZlclNjb3BlVGVzdC5zY29wZS5wYXJ0aWNpcGFudEluZm8gPSBuZXcgUGFydGljaXBhbnRJbmZvKCk7XHJcbiAgICAgICAgICAgICAgICB0cmFuc2ZlclNjb3BlVGVzdC5zY29wZS5wYXJ0aWNpcGFudEluZm8ucG90ZW50aWFsT3duZXJMaXN0ID0gbGlzdDtcclxuICAgICAgICAgICAgICAgIHRyYW5zZmVyU2NvcGVUZXN0LnNjb3BlLnBhcnRpY2lwYW50SW5mby5pc0FsbFNjb3BlID0gdHJ1ZTtcclxuICAgICAgICAgICAgfWVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdHJhbnNmZXJTY29wZVRlc3Quc2NvcGUucGFydGljaXBhbnRJbmZvID0gbmV3IFBhcnRpY2lwYW50SW5mbygpO1xyXG4gICAgICAgICAgICAgICAgdHJhbnNmZXJTY29wZVRlc3Quc2NvcGUucGFydGljaXBhbnRJbmZvLmlzQWxsU2NvcGUgPSBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRyYW5zZmVyU2NvcGVUZXN0LmVuYWJsZSA9IHVzZXJBY3Rpdml0eS50cmFuc2ZlckFibGU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0cmFuc2ZlclNjb3BlVGVzdDtcclxuICAgIH1cclxuICAgIGdldE5vdGlmeUFibGUodXNlckFjdGl2aXR5OiBVc2VyQWN0aXZpdHkpOiBBY3Rpb25Pcmdhbml6YXRpb25TY29wZURlc2lnbiB7XHJcbiAgICAgICAgY29uc3Qgbm90aWZ5U2NvcGVUZXN0ID0gbmV3IEFjdGlvbk9yZ2FuaXphdGlvblNjb3BlRGVzaWduKCk7XHJcbiAgICAgICAgbm90aWZ5U2NvcGVUZXN0LmFjdGlvbiA9IEFjdGlvblNjb3BlLk5vdGlmeSBhcyBhbnk7XHJcblxyXG4gICAgICAgIGlmICh1c2VyQWN0aXZpdHkuTm90aWZ5QWJsZSkge1xyXG4gICAgICAgICAgICBub3RpZnlTY29wZVRlc3QuZW5hYmxlID0gdHJ1ZTtcclxuICAgICAgICAgICAgY29uc3Qgcm9sZXMgPSB1c2VyQWN0aXZpdHkuZHluYW1pY1BhcnRpY2lwYW50cy5maWx0ZXIociA9PiByLmFjdGlvblNjb3BlID09PSBBY3Rpb25TY29wZS5Ob3RpZnkpO1xyXG4gICAgICAgICAgICBsZXQgcmVzID0gcm9sZXMuZmluZChyID0+IChyIGFzIGFueSkub3JnYW5pemF0aW9uTGV2ZWwgJiYgIShyIGFzIGFueSkub3JkZXIpO1xyXG4gICAgICAgICAgICBsZXQgbGlzdCA6IFBhcnRpY2lwYW50W10gPSBbXTtcclxuICAgICAgICAgICAgaWYocmVzKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBvcmdhbml6YXRpb24gPSBuZXcgT3JnYW5pemF0aW9uUGFydGljaXBhbnQ7XHJcbiAgICAgICAgICAgICAgICBvcmdhbml6YXRpb24uaWQgPSByZXMuaWQ7XHJcbiAgICAgICAgICAgICAgICBvcmdhbml6YXRpb24udHlwZSA9IHJlcy5DbHJUeXBlSUQ7XHJcbiAgICAgICAgICAgICAgICBvcmdhbml6YXRpb24ubmFtZSA9IHJlcy5uYW1lO1xyXG4gICAgICAgICAgICAgICAgb3JnYW5pemF0aW9uLmFjdGlvblNjb3BlID0gcmVzLmFjdGlvblNjb3BlIGFzIGFueTtcclxuICAgICAgICAgICAgICAgIG9yZ2FuaXphdGlvbi5vcmdhbml6YXRpb25MZXZlbCA9IChyZXMgYXMgYW55KS5vcmdhbml6YXRpb25MZXZlbDtcclxuICAgICAgICAgICAgICAgIG9yZ2FuaXphdGlvbi5vcmdhbml6YXRpb25JZCA9IChyZXMgYXMgYW55KS5vcmdhbml6YXRpb25JZDtcclxuICAgICAgICAgICAgICAgIG9yZ2FuaXphdGlvbi5vcmdhbml6YXRpb25Db2RlID0gKHJlcyBhcyBhbnkpLm9yZ2FuaXphdGlvbkNvZGU7XHJcbiAgICAgICAgICAgICAgICBvcmdhbml6YXRpb24ub3JnYW5pemF0aW9uTmFtZSA9IChyZXMgYXMgYW55KS5vcmdhbml6YXRpb25OYW1lO1xyXG4gICAgICAgICAgICAgICAgb3JnYW5pemF0aW9uLmluY2x1ZGVDaGlsZHJlbiA9IChyZXMgYXMgYW55KS5pbmNsdWRlQ2hpbGRyZW47XHJcbiAgICAgICAgICAgICAgICBvcmdhbml6YXRpb24ucGFyZW50c1VudGlsID0gKHJlcyBhcyBhbnkpLnBhcmVudHNVbnRpbDtcclxuICAgICAgICAgICAgICAgIG9yZ2FuaXphdGlvbi50YWcgPSAocmVzIGFzIGFueSkudGFnO1xyXG4gICAgICAgICAgICAgICAgb3JnYW5pemF0aW9uLm9yZGVyID0gMTtcclxuICAgICAgICAgICAgICAgIGxpc3QucHVzaChvcmdhbml6YXRpb24pO1xyXG4gICAgICAgICAgICB9ZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBsaXN0ID0gUHJvcGVydHlIZWxwZXIuZ2V0UGVyZm9ybWVyTGlzdFRlc3Qocm9sZXMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIG5vdGlmeVNjb3BlVGVzdC5zY29wZSA9IG5ldyBPcmdhbml6YXRpb25Qb3RlbnRpYWxPd25lcigpO1xyXG4gICAgICAgICAgICBpZihsaXN0ICYmIGxpc3QubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgbm90aWZ5U2NvcGVUZXN0LnNjb3BlLnBhcnRpY2lwYW50SW5mbyA9IG5ldyBQYXJ0aWNpcGFudEluZm8oKTtcclxuICAgICAgICAgICAgICAgIG5vdGlmeVNjb3BlVGVzdC5zY29wZS5wYXJ0aWNpcGFudEluZm8ucG90ZW50aWFsT3duZXJMaXN0ID0gbGlzdDtcclxuICAgICAgICAgICAgICAgIG5vdGlmeVNjb3BlVGVzdC5zY29wZS5wYXJ0aWNpcGFudEluZm8uaXNBbGxTY29wZSA9IHRydWU7XHJcbiAgICAgICAgICAgIH1lbHNlIHtcclxuICAgICAgICAgICAgICAgIG5vdGlmeVNjb3BlVGVzdC5zY29wZS5wYXJ0aWNpcGFudEluZm8gPSBuZXcgUGFydGljaXBhbnRJbmZvKCk7XHJcbiAgICAgICAgICAgICAgICBub3RpZnlTY29wZVRlc3Quc2NvcGUucGFydGljaXBhbnRJbmZvLmlzQWxsU2NvcGUgPSBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIG5vdGlmeVNjb3BlVGVzdC5lbmFibGUgPSB1c2VyQWN0aXZpdHkuTm90aWZ5QWJsZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG5vdGlmeVNjb3BlVGVzdDtcclxuICAgIH1cclxuICAgIGdldFRpbWVMaW1pdEluZm8odXNlckFjdGl2aXR5OiBVc2VyQWN0aXZpdHkpOiBUaW1lTGltaXRDb250cm9sSW5mbyB7XHJcbiAgICAgICAgaWYgKHVzZXJBY3Rpdml0eS50aW1lTGltaXRDb250cm9sKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHRpbWVMaW1pdCA9IG5ldyBUaW1lTGltaXRDb250cm9sSW5mbygpO1xyXG4gICAgICAgICAgICB0aW1lTGltaXQuZW5hYmxlID0gdXNlckFjdGl2aXR5LnRpbWVMaW1pdENvbnRyb2wuZW5hYmxlO1xyXG4gICAgICAgICAgICB0aW1lTGltaXQudGFnID0gdXNlckFjdGl2aXR5LnRpbWVMaW1pdENvbnRyb2wudGFnO1xyXG4gICAgICAgICAgICB0aW1lTGltaXQuZHVlVGltZSA9IHVzZXJBY3Rpdml0eS50aW1lTGltaXRDb250cm9sLmR1ZVRpbWU7XHJcbiAgICAgICAgICAgIHRpbWVMaW1pdC50aW1lVW5pdCA9IHVzZXJBY3Rpdml0eS50aW1lTGltaXRDb250cm9sLnRpbWVVbml0O1xyXG4gICAgICAgICAgICB0aW1lTGltaXQuZXhwaXJlT3BlcmF0aW9ucyA9IG5ldyBBcnJheSgpO1xyXG4gICAgICAgICAgICBpZiAodXNlckFjdGl2aXR5LnRpbWVMaW1pdENvbnRyb2wuZXhwaXJlT3BlcmF0aW9ucyAmJiB1c2VyQWN0aXZpdHkudGltZUxpbWl0Q29udHJvbC5leHBpcmVPcGVyYXRpb25zLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG9wZXJhdGlvbnMgPSB1c2VyQWN0aXZpdHkudGltZUxpbWl0Q29udHJvbC5leHBpcmVPcGVyYXRpb25zO1xyXG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBvIG9mIG9wZXJhdGlvbnMpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoby5DbHJUeXBlSUQuaW5kZXhPZignU2VuZE1lc3NhZ2VFeHBpcmVPcGVyYXRpb24nKSA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgb3BlcmF0aW9uID0gbyBhcyBTZW5kTWVzc2FnZUV4cGlyZU9wZXJhdGlvbjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2VuZE1lc3NhZ2UgPSBuZXcgU2VuZE1lc3NhZ2VFeHBpcmVPcGVyYXRpb25JbmZvKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbmRNZXNzYWdlLnRpbWVEdXJhdGlvbiA9IG9wZXJhdGlvbi50aW1lRHVyYXRpb247XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbmRNZXNzYWdlLmR1cmF0aW9uVHlwZSA9IG9wZXJhdGlvbi5kdXJhdGlvblR5cGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbmRNZXNzYWdlLnRpbWVVbml0ID0gb3BlcmF0aW9uLnRpbWVVbml0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZW5kTWVzc2FnZS5tZXNzYWdlID0gb3BlcmF0aW9uLm1lc3NhZ2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbmRNZXNzYWdlLnNlbmRUeXBlID0gb3BlcmF0aW9uLnNlbmRUeXBlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZW5kTWVzc2FnZS5zdWJqZWN0ID0gb3BlcmF0aW9uLnN1YmplY3Q7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbmRNZXNzYWdlLmlkID0gb3BlcmF0aW9uLmlkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZW5kTWVzc2FnZS5yZWNlaXZlciA9IG9wZXJhdGlvbi5yZWNlaXZlcjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VuZE1lc3NhZ2UuY3ljbGVFbmFibGUgPSBvcGVyYXRpb24uY3ljbGVFbmFibGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbmRNZXNzYWdlLmN5Y2xlVGltZSA9IG9wZXJhdGlvbi5jeWNsZVRpbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbmRNZXNzYWdlLmN5Y2xlVGltZVVuaXQgPSBvcGVyYXRpb24uY3ljbGVUaW1lVW5pdDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VuZE1lc3NhZ2Uub3BlcmF0aW9uVHlwZU5hbWUgPSBvcGVyYXRpb24ub3BlcmF0aW9uVHlwZU5hbWUgPyBvcGVyYXRpb24ub3BlcmF0aW9uVHlwZU5hbWUgOiAnU2VuZE1lc3NhZ2VFeHBpcmVPcGVyYXRpb24nO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAob3BlcmF0aW9uLnNtc01lc3NhZ2VUZW1wbGF0ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc21zVGVtcGxhdGU6IGFueSA9IG5ldyBPYmplY3Q7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzbXNUZW1wbGF0ZS5jb2RlID0gb3BlcmF0aW9uLnNtc01lc3NhZ2VUZW1wbGF0ZS5jb2RlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc21zVGVtcGxhdGUuY29udGVudCA9IG9wZXJhdGlvbi5zbXNNZXNzYWdlVGVtcGxhdGUuY29udGVudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNtc1RlbXBsYXRlLnNtc01lc3NhZ2VWYXJpYWJsZXMgPSBuZXcgQXJyYXkoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvcGVyYXRpb24uc21zTWVzc2FnZVRlbXBsYXRlLnNtc01lc3NhZ2VWYXJpYWJsZXMgJiYgb3BlcmF0aW9uLnNtc01lc3NhZ2VUZW1wbGF0ZS5zbXNNZXNzYWdlVmFyaWFibGVzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHYgb2Ygb3BlcmF0aW9uLnNtc01lc3NhZ2VUZW1wbGF0ZS5zbXNNZXNzYWdlVmFyaWFibGVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhcmlhYmxlOiBhbnkgPSBuZXcgT2JqZWN0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXJpYWJsZS5pZCA9IFdmRGVzaWduZXJVdGlscy5jcmVhdGVOTSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXJpYWJsZS5jb2RlID0gdi5jb2RlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXJpYWJsZS52YWx1ZSA9IHYudmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhcmlhYmxlLnRhZyA9IHYudGFnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzbXNUZW1wbGF0ZS5zbXNNZXNzYWdlVmFyaWFibGVzLnB1c2godmFyaWFibGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbmRNZXNzYWdlLnNtc01lc3NhZ2VUZW1wbGF0ZSA9IHNtc1RlbXBsYXRlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVMaW1pdC5leHBpcmVPcGVyYXRpb25zLnB1c2goc2VuZE1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoby5DbHJUeXBlSUQuaW5kZXhPZignQXV0b0hhbmRsZUV4cGlyZU9wZXJhdGlvbicpID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBvcGVyYXRpb24gPSBvIGFzIEF1dG9IYW5kbGVFeHBpcmVPcGVyYXRpb247XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGF1dG9IYW5kbGUgPSBuZXcgQXV0b0hhbmRsZUV4cGlyZU9wZXJhdGlvbkluZm8oKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXV0b0hhbmRsZS5pZCA9IG9wZXJhdGlvbi5pZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXV0b0hhbmRsZS5kdXJhdGlvblR5cGUgPSBvcGVyYXRpb24uZHVyYXRpb25UeXBlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhdXRvSGFuZGxlLnRpbWVEdXJhdGlvbiA9IG9wZXJhdGlvbi50aW1lRHVyYXRpb247XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGF1dG9IYW5kbGUudGltZVVuaXQgPSBvcGVyYXRpb24udGltZVVuaXQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGF1dG9IYW5kbGUub3BlcmF0aW9uVHlwZU5hbWUgPSBvcGVyYXRpb24ub3BlcmF0aW9uVHlwZU5hbWUgPyBvcGVyYXRpb24ub3BlcmF0aW9uVHlwZU5hbWUgOiAnQXV0b0hhbmRsZUV4cGlyZU9wZXJhdGlvbic7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGF1dG9IYW5kbGUuYXV0b0hhbmRsZVR5cGUgPSBvcGVyYXRpb24uYXV0b0hhbmRsZVR5cGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGF1dG9IYW5kbGUubWVzc2FnZSA9IG9wZXJhdGlvbi5tZXNzYWdlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aW1lTGltaXQuZXhwaXJlT3BlcmF0aW9ucy5wdXNoKGF1dG9IYW5kbGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHRpbWVMaW1pdDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0VXJnZUhhbmRsZVJ1bGUodXNlckFjdGl2aXR5OiBVc2VyQWN0aXZpdHkpIHtcclxuICAgICAgICBpZiAoIXVzZXJBY3Rpdml0eS51cmdlSGFuZGxlUnVsZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgcnVsZSA9IHVzZXJBY3Rpdml0eS51cmdlSGFuZGxlUnVsZTtcclxuICAgICAgICBsZXQgdXJnZUhhbmRsZVJ1bGU6IGFueSA9IHtcclxuICAgICAgICAgICAgdXJnZUhhbmRsZUFibGU6IHJ1bGUudXJnZUhhbmRsZUFibGUsXHJcbiAgICAgICAgICAgIHNlbmRUeXBlOiBydWxlLnNlbmRUeXBlLFxyXG4gICAgICAgICAgICBlYXJseVRpbWU6IHJ1bGUuZWFybHlUaW1lLFxyXG4gICAgICAgICAgICBpbnRlcnZhbFRpbWU6IHJ1bGUuaW50ZXJ2YWxUaW1lLFxyXG4gICAgICAgICAgICB1cmdlTWVzc2FnZVN1YmplY3Q6IHJ1bGUudXJnZU1lc3NhZ2VTdWJqZWN0LFxyXG4gICAgICAgICAgICB1cmdlTWVzc2FnZUNvbnRlbnQ6IHJ1bGUudXJnZU1lc3NhZ2VDb250ZW50LFxyXG4gICAgICAgICAgICBhZGRSZW1pbmRlcjogcnVsZS5hZGRSZW1pbmRlcixcclxuICAgICAgICAgICAgc3ViamVjdEVkaXRhYmxlOiBydWxlLnN1YmplY3RFZGl0YWJsZSxcclxuICAgICAgICAgICAgY29udGVudEVkaXRhYmxlOiBydWxlLmNvbnRlbnRFZGl0YWJsZVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAocnVsZS5zbXNNZXNzYWdlVGVtcGxhdGUpIHtcclxuICAgICAgICAgICAgY29uc3Qgc21zVGVtcGxhdGU6IGFueSA9IG5ldyBPYmplY3Q7XHJcbiAgICAgICAgICAgIHNtc1RlbXBsYXRlLmNvZGUgPSBydWxlLnNtc01lc3NhZ2VUZW1wbGF0ZS5jb2RlO1xyXG4gICAgICAgICAgICBzbXNUZW1wbGF0ZS5jb250ZW50ID0gcnVsZS5zbXNNZXNzYWdlVGVtcGxhdGUuY29udGVudDtcclxuICAgICAgICAgICAgc21zVGVtcGxhdGUuc21zTWVzc2FnZVZhcmlhYmxlcyA9IG5ldyBBcnJheSgpO1xyXG4gICAgICAgICAgICBpZiAocnVsZS5zbXNNZXNzYWdlVGVtcGxhdGUuc21zTWVzc2FnZVZhcmlhYmxlcyAmJiBydWxlLnNtc01lc3NhZ2VUZW1wbGF0ZS5zbXNNZXNzYWdlVmFyaWFibGVzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgdiBvZiBydWxlLnNtc01lc3NhZ2VUZW1wbGF0ZS5zbXNNZXNzYWdlVmFyaWFibGVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdmFyaWFibGU6IGFueSA9IG5ldyBPYmplY3Q7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyaWFibGUuaWQgPSBXZkRlc2lnbmVyVXRpbHMuY3JlYXRlTk0oKTtcclxuICAgICAgICAgICAgICAgICAgICB2YXJpYWJsZS5jb2RlID0gdi5jb2RlO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhcmlhYmxlLnZhbHVlID0gdi52YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICB2YXJpYWJsZS50YWcgPSB2LnRhZztcclxuICAgICAgICAgICAgICAgICAgICBzbXNUZW1wbGF0ZS5zbXNNZXNzYWdlVmFyaWFibGVzLnB1c2godmFyaWFibGUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHVyZ2VIYW5kbGVSdWxlLnNtc01lc3NhZ2VUZW1wbGF0ZSA9IHNtc1RlbXBsYXRlO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdXJnZUhhbmRsZVJ1bGU7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0Q2hlY2tDb25kaXRpb25zKHVzZXJBY3Rpdml0eTogVXNlckFjdGl2aXR5KTogQXJyYXk8YW55PiB7XHJcbiAgICAgICAgaWYgKHVzZXJBY3Rpdml0eS5jaGVja0NvbmRpdGlvbnMgJiYgdXNlckFjdGl2aXR5LmNoZWNrQ29uZGl0aW9ucy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB1c2VyQWN0aXZpdHkuY2hlY2tDb25kaXRpb25zLm1hcChjID0+ICh7XHJcbiAgICAgICAgICAgICAgICB2YWx1ZTogYy52YWx1ZSxcclxuICAgICAgICAgICAgICAgIGNoZWNrVGltZTogYy5jaGVja1RpbWUsXHJcbiAgICAgICAgICAgICAgICBlcnJvclRpcHM6IGMuZXJyb3JUaXBzID8gQXJyYXkuZnJvbShjLmVycm9yVGlwcykucmVkdWNlKChvYmosIFtrZXksIHZhbHVlXSkgPT4gT2JqZWN0LmFzc2lnbihvYmosIHsgW2tleV06IHZhbHVlIH0pLCB7fSkgOiBudWxsXHJcbiAgICAgICAgICAgIH0pKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlUHJvcHMob2JqOiBhbnkpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLnVwZGF0ZVByb3BzQnlJc09wZXJhdGlvbihvYmopO1xyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZVByb3BzQnlJc09wZXJhdGlvbihvYmo6IGFueSwgaXNPcGVyYXRpb246IGJvb2xlYW4gPSBmYWxzZSkge1xyXG4gICAgICAgIGNvbnN0IGVkaXRvclVpID0gdGhpcy5lZGl0b3JVaTtcclxuICAgICAgICBjb25zdCB1c2VyQWN0aXZpdHkgPSB0aGlzLmZsb3dFbGVtZW50O1xyXG4gICAgICAgIGNvbnN0IHByb3BlcnR5SWQ6IHN0cmluZyA9IG9iai5wcm9wZXJ0eUlEO1xyXG4gICAgICAgIHN3aXRjaCAocHJvcGVydHlJZCkge1xyXG4gICAgICAgICAgICBjYXNlIFVzZXJBY3Rpdml0eVByb3BlcnR5S2V5cy5QYXJ0aWNpcGFudFNjaGVtZXM6IC8vIOWPguS4juiAheWxnuaAp1xyXG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVQYXJ0aWNpcGFudCh1c2VyQWN0aXZpdHksIG9iaiwgaXNPcGVyYXRpb24pO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgVXNlckFjdGl2aXR5UHJvcGVydHlLZXlzLlBhcnRpY2lwYW50T3B0aW9uczogLy8g5Y+C5LiO6ICF6YCJ6aG5XHJcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVBhcnRpY2lwYW50T3B0aW9ucyh1c2VyQWN0aXZpdHksIG9iaik7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgLy8gY2FzZSBVc2VyQWN0aXZpdHlQcm9wZXJ0eUtleXMuQXNzaWduUGVyZm9ybWVyOlxyXG4gICAgICAgICAgICAvLyAgICAgdGhpcy51cGRhdGVQb3RlbnRpYWxPd25lckltcGwoZ3JhcGguYnBtbk1vZGVsLCB1c2VyQWN0aXZpdHksIG9iaik7XHJcbiAgICAgICAgICAgIC8vICAgICBicmVhaztcclxuICAgICAgICAgICAgLy8gY2FzZSBVc2VyQWN0aXZpdHlQcm9wZXJ0eUtleXMuQXNzaWduU3RyYXRlZ3k6XHJcbiAgICAgICAgICAgIC8vICAgICB0aGlzLnVwZGF0ZUFzc2lnblN0cmF0ZWd5KGdyYXBoLCB1c2VyQWN0aXZpdHksIG9iaiwgaXNPcGVyYXRpb24pO1xyXG4gICAgICAgICAgICAvLyAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIC8vIGNhc2UgVXNlckFjdGl2aXR5UHJvcGVydHlLZXlzLk9wZXJhdG9yQ29uZmlnOlxyXG4gICAgICAgICAgICAvLyAgICAgdGhpcy51cGRhdGVPcGVyYXRvckNvbmZpZyh1c2VyQWN0aXZpdHksIG9iaik7XHJcbiAgICAgICAgICAgIC8vICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBVc2VyQWN0aXZpdHlQcm9wZXJ0eUtleXMuQ29tcGxldGVTdHJhdGVneTpcclxuICAgICAgICAgICAgICAgIHRoaXMucmVzZXRFeGVjdXRlV29ya0l0ZW1Nb2RlKHVzZXJBY3Rpdml0eSwgb2JqLCBpc09wZXJhdGlvbik7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBVc2VyQWN0aXZpdHlQcm9wZXJ0eUtleXMuRGlzcGxheVRlcm1pbmFsOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5yZXNldERpc3BsYXlUZXJtaW5hbCh1c2VyQWN0aXZpdHksIG9iaik7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBVc2VyQWN0aXZpdHlQcm9wZXJ0eUtleXMuU2lnblJ1bGU6XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlc2V0U2lnblJ1bGVzKHVzZXJBY3Rpdml0eSwgb2JqLCBpc09wZXJhdGlvbik7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBVc2VyQWN0aXZpdHlQcm9wZXJ0eUtleXMuQXBwcm92YWxJdGVtczpcclxuICAgICAgICAgICAgICAgIHRoaXMucmVzZXRBcHByb3ZhbEl0ZW1zKHVzZXJBY3Rpdml0eSwgb2JqLCBpc09wZXJhdGlvbik7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBVc2VyQWN0aXZpdHlQcm9wZXJ0eUtleXMud2ZfRXhlY3V0ZUZvcm1zX1BDOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5yZXNldEV4ZWN1dGVGb3JtKHVzZXJBY3Rpdml0eSwgb2JqLCAnUEMnKTtcclxuICAgICAgICAgICAgICAgIGlmIChvYmoucGFyYW1ldGVycyAmJiBvYmoucGFyYW1ldGVycy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgUHJvcGVydHlIZWxwZXIudXBkYXRlRm9ybWFsUGFyYW1ldGVycyhlZGl0b3JVaS5ncmFwaC5icG1uTW9kZWwuRGVmYXVsdFByb2Nlc3MsIG9iai5wYXJhbWV0ZXJzKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFVzZXJBY3Rpdml0eVByb3BlcnR5S2V5cy53Zl9FeGVjdXRlRm9ybXNfTW9iaWxlOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5yZXNldEV4ZWN1dGVGb3JtKHVzZXJBY3Rpdml0eSwgb2JqLCAnTU9CSUxFJyk7XHJcbiAgICAgICAgICAgICAgICBpZiAob2JqLnBhcmFtZXRlcnMgJiYgb2JqLnBhcmFtZXRlcnMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIFByb3BlcnR5SGVscGVyLnVwZGF0ZUZvcm1hbFBhcmFtZXRlcnMoZWRpdG9yVWkuZ3JhcGguYnBtbk1vZGVsLkRlZmF1bHRQcm9jZXNzLCBvYmoucGFyYW1ldGVycyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBVc2VyQWN0aXZpdHlQcm9wZXJ0eUtleXMuU2VsZWN0VGFyZ2V0QWJsZTpcclxuICAgICAgICAgICAgICAgIHRoaXMucmVzZXRTZWxlY3RUYXJnZXRBYmxlKHVzZXJBY3Rpdml0eSwgb2JqLCBpc09wZXJhdGlvbik7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBVc2VyQWN0aXZpdHlQcm9wZXJ0eUtleXMuSnVtcFNjb3BlOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5yZXNldEp1bXBTY29wZSh1c2VyQWN0aXZpdHksIG9iaik7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBVc2VyQWN0aXZpdHlQcm9wZXJ0eUtleXMuQmFja1dhcmRSdWxlOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5yZXNldEJhY2tXYXJkUnVsZSh1c2VyQWN0aXZpdHksIG9iaik7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBVc2VyQWN0aXZpdHlQcm9wZXJ0eUtleXMuTXVsdGlJbnN0YW5jZUxvb3BDaGFyYWN0ZXJpc3RpY3M6XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlc2V0TXVsdGlJbnN0YW5jZUxvb3BDaGFyYWN0ZXJpc3RpY3ModXNlckFjdGl2aXR5LCBvYmopO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgVXNlckFjdGl2aXR5UHJvcGVydHlLZXlzLlRvb2xzOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5yZXNldFRvb2xzKHVzZXJBY3Rpdml0eSwgb2JqKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFVzZXJBY3Rpdml0eVByb3BlcnR5S2V5cy53Zl9UaXRsZUV4cHJlc3Npb246XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1vZGlmeVRpdGxlRXhwcmVzc2lvbih1c2VyQWN0aXZpdHksIG9iaik7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBVc2VyQWN0aXZpdHlQcm9wZXJ0eUtleXMuQWRkU2lnbkZyb250QWJsZTpcclxuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlU2lnbkZyb250U2V0KHVzZXJBY3Rpdml0eSwgb2JqKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFVzZXJBY3Rpdml0eVByb3BlcnR5S2V5cy5BZGRTaWduQmVoaW5kQWJsZTpcclxuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlU2lnbkJlaGluZHNTZXQodXNlckFjdGl2aXR5LCBvYmopO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgVXNlckFjdGl2aXR5UHJvcGVydHlLZXlzLk5vdGlmeUFibGU6XHJcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZU5vdGlmeVNldCh1c2VyQWN0aXZpdHksIG9iaik7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBVc2VyQWN0aXZpdHlQcm9wZXJ0eUtleXMudHJhbnNmZXJTY29wZTpcclxuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlVHJhbnNmZXJTY29wZSh1c2VyQWN0aXZpdHksIG9iaik7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBVc2VyQWN0aXZpdHlQcm9wZXJ0eUtleXMud2ZfQ3VzdG9taXplQWN0aW9uOlxyXG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVDdXN0b21pemVBY3Rpb25zKHVzZXJBY3Rpdml0eSwgb2JqKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFVzZXJBY3Rpdml0eVByb3BlcnR5S2V5cy50aW1lTGltaXRDb250cm9sOlxyXG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVUaW1lTGltaXRDb250cm9sKHVzZXJBY3Rpdml0eSwgb2JqKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFVzZXJBY3Rpdml0eVByb3BlcnR5S2V5cy5hbm9ueW1vdXNTZXQ6XHJcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUFub255bW91c1NldCh1c2VyQWN0aXZpdHksIG9iaik7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBVc2VyQWN0aXZpdHlQcm9wZXJ0eUtleXMudmFyaWFibGVTZXR0aW5nczpcclxuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlVmFyaWFibGVTZXR0aW5ncyh1c2VyQWN0aXZpdHksIG9iaik7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBVc2VyQWN0aXZpdHlQcm9wZXJ0eUtleXMubWVzc2FnZU5vdGljZTpcclxuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlTWVzc2FnZU5vdGljZXModXNlckFjdGl2aXR5LCBvYmopO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgVXNlckFjdGl2aXR5UHJvcGVydHlLZXlzLmFwcHJvdmFsUGl2b3RDb25maWc6XHJcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUFwcHJvdmFsUGl2b3RDb25maWcodXNlckFjdGl2aXR5LCBvYmopO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgVXNlckFjdGl2aXR5UHJvcGVydHlLZXlzLnVyZ2VIYW5kbGVSdWxlOlxyXG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVVcmdlSGFuZGxlUnVsZSh1c2VyQWN0aXZpdHksIG9iaik7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBVc2VyQWN0aXZpdHlQcm9wZXJ0eUtleXMuaW1hZ2VTZXR0aW5nczogLy8g5pu05paw5Y+Y6YeP6K6+572u5bGe5oCnXHJcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUltYWdlU2V0dGluZ3ModXNlckFjdGl2aXR5LCBvYmopO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgVXNlckFjdGl2aXR5UHJvcGVydHlLZXlzLmNoZWNrQ29uZGl0aW9uczpcclxuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlQ2hlY2tDb25kaXRpb25zKHVzZXJBY3Rpdml0eSwgb2JqLCBpc09wZXJhdGlvbik7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBVc2VyQWN0aXZpdHlQcm9wZXJ0eUtleXMub3RoZXJBc3NpZ25BY3Rpdml0aWVzOlxyXG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVPdGhlckFzc2lnbkFjdGl2aXRpZXModXNlckFjdGl2aXR5LCBvYmopO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgVXNlckFjdGl2aXR5UHJvcGVydHlLZXlzLm90aGVyQXNzaWduQWN0aXZpdHlOb2RlSW5mb3M6XHJcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZU90aGVyQXNzaWduQWN0aXZpdGllcyh1c2VyQWN0aXZpdHksIG9iaik7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBVc2VyQWN0aXZpdHlQcm9wZXJ0eUtleXMub3RoZXJBc3NpZ25Ob2RlczpcclxuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlT3RoZXJBc3NpZ25Ob2Rlcyh1c2VyQWN0aXZpdHksIG9iaik7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIC8vIOWIpOaWrVJlc291cmNlS2V5c+aYr+S4jeaYr2dyb3VwaWQs5piv5bCx6LWwcmVzZXRFeHRlbmRQcm9wZXJ0eVxyXG4gICAgICAgICAgICAgICAgaWYgKGVkaXRvclVpLnByb2NFeHRQcm9wcy5maW5kSW5kZXgocCA9PiBwLmlkID09PSBwcm9wZXJ0eUlkKSA+IC0xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXNldEV4dGVuZFByb3BlcnR5KHVzZXJBY3Rpdml0eSwgb2JqKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3VwZXIudXBkYXRlUHJvcHMob2JqKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOS/ruaUueWPguS4juiAhVxyXG4gICAgICogQHBhcmFtIGdyYXBoXHJcbiAgICAgKiBAcGFyYW0gdXNlckFjdGl2aXR5XHJcbiAgICAgKiBAcGFyYW0gb2JqXHJcbiAgICAgKiBAcGFyYW0gaXNPcGVyYXRpb25cclxuICAgICAqL1xyXG4gICAgdXBkYXRlUGFydGljaXBhbnQodXNlckFjdGl2aXR5OiBVc2VyQWN0aXZpdHksIG9iajogYW55LCBpc09wZXJhdGlvbiA9IGZhbHNlKSB7XHJcbiAgICAgICAgY29uc3QgcGVyZm9ybWVySW5mbzogUGFydGljaXBhbnRJbmZvID0gb2JqLnByb3BlcnR5VmFsdWU7XHJcblxyXG4gICAgICAgIGlmIChwZXJmb3JtZXJJbmZvLmFzc2lnblN0cmF0ZWd5LmFzc2lnblN0cmF0ZWd5ID09PSBBc3NpZ25tZW50U3RyYXRlZ3kuQ0xBSU1cclxuICAgICAgICAgICAgJiYgdXNlckFjdGl2aXR5LlBhcnRpY2lwYW50U2V0dGluZ1xyXG4gICAgICAgICAgICAmJiB1c2VyQWN0aXZpdHkuUGFydGljaXBhbnRTZXR0aW5nLmF1dG9tYXRpY1BlcmZvcm1lcnNcclxuICAgICAgICAgICAgJiYgdXNlckFjdGl2aXR5LlBhcnRpY2lwYW50U2V0dGluZy5hdXRvbWF0aWNQZXJmb3JtZXJzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgLy8gVXRpbHMucG9zdE1lc3NhZ2UoUmVzb3VyY2VLZXlzLndmX3Nob3dUaXAsIHtcclxuICAgICAgICAgICAgLy8gICAgIHR5cGU6ICdtZXNzYWdlJyxcclxuICAgICAgICAgICAgLy8gICAgIGxldmVsOiAnd2FybmluZycsXHJcbiAgICAgICAgICAgIC8vICAgICBtZXNzYWdlOiAn5b2T5YmN6IqC54K544CQ5Y+C5LiO6ICF6YCJ6aG544CR5bey6K6+572u6Ieq5Yqo5a6h5om577yM44CQ5YiG6YWN562W55Wl44CR5LiN5YWB6K646K6+572u5Li644CQ6aKG55So44CRJ1xyXG4gICAgICAgICAgICAvLyB9KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmNoZWNrT3RoZXJBc3NpZ25Ob2Rlcyh1c2VyQWN0aXZpdHksIHBlcmZvcm1lckluZm8pO1xyXG4gICAgICAgICAgICB1c2VyQWN0aXZpdHkuQXNzaWduUGVyZm9ybWVyQ29uZmlnID0gbnVsbDtcclxuICAgICAgICAgICAgdXNlckFjdGl2aXR5LkFzc2lnbm1lbnRTdHJhdGVneSA9IHBlcmZvcm1lckluZm8uYXNzaWduU3RyYXRlZ3kuYXNzaWduU3RyYXRlZ3k7XHJcbiAgICAgICAgICAgIGNvbnN0IHJlc291cmNlUm9sZXMgPSB1c2VyQWN0aXZpdHkuR2V0UmVzb3VyY2VSb2xlcygpO1xyXG4gICAgICAgICAgICBpZiAocmVzb3VyY2VSb2xlcyAmJiByZXNvdXJjZVJvbGVzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgIHJlc291cmNlUm9sZXMuZm9yRWFjaChyID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAociBpbnN0YW5jZW9mIEh1bWFuUGVyZm9ybWVySW1wbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB1c2VyQWN0aXZpdHkuUmVtb3ZlUmVzb3VyY2VSb2xlKHIuSWQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAociBpbnN0YW5jZW9mIFBvdGVudGlhbE93bmVySW1wbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB1c2VyQWN0aXZpdHkuUmVtb3ZlUmVzb3VyY2VSb2xlKHIuSWQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChwZXJmb3JtZXJJbmZvLmh1bWFuUGVyZm9ybWVyTGlzdCAmJiBwZXJmb3JtZXJJbmZvLmh1bWFuUGVyZm9ybWVyTGlzdC5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGh1bWFuUGVyZm9ybWVyIG9mIHBlcmZvcm1lckluZm8uaHVtYW5QZXJmb3JtZXJMaXN0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChodW1hblBlcmZvcm1lci50eXBlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgVXNlclBhcnRpY2lwYW50RXhwcmVzc2lvbi5DbHJfVHlwZV9JRDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkVXNlclBhcnRpY2lwYW50KHVzZXJBY3Rpdml0eSwgaHVtYW5QZXJmb3JtZXIgYXMgVXNlclBhcnRpY2lwYW50LCAnaHVtYW5QZXJmb3JtZXInLCBudWxsKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFZhcmlhYmxlUGFydGljaXBhbnRFeHByZXNzaW9uLkNscl9UeXBlX0lEOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGRWYXJpYWJsZVBhcnRpY2lwYW50KHVzZXJBY3Rpdml0eSwgaHVtYW5QZXJmb3JtZXIgYXMgVmFyaWFibGVQZXJmb3JtZXIsICdodW1hblBlcmZvcm1lcicsIG51bGwpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBQb3NpdGlvblBhcnRpY2lwYW50RXhwcmVzc2lvbi5DbHJfVHlwZV9JRDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkUG9zaXRpb25QYXJ0aWNpcGFudCh1c2VyQWN0aXZpdHksIGh1bWFuUGVyZm9ybWVyIGFzIFBvc2l0aW9uUGFydGljaXBhbnQsICdodW1hblBlcmZvcm1lcicsIG51bGwpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgQ29tcG9uZW50UGFydGljaXBhbnRFeHByZXNzaW9uLkNscl9UeXBlX0lEOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGRDb21wb25lbnRQYXJ0aWNpcGFudCh1c2VyQWN0aXZpdHksIGh1bWFuUGVyZm9ybWVyIGFzIENvbXBvbmVudFBhcnRpY2lwYW50LCAnaHVtYW5QZXJmb3JtZXInLCBudWxsKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFJlcG9ydGluZ0xpbmVQYXJ0aWNpcGFudEV4cHJlc3Npb24uQ2xyX1R5cGVfSUQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZFJlcG9ydGluZ0xpbmVQYXJ0aWNpcGFudCh1c2VyQWN0aXZpdHksIGh1bWFuUGVyZm9ybWVyIGFzIFJlcG9ydGluZ0xpbmVQYXJ0aWNpcGFudCwgJ2h1bWFuUGVyZm9ybWVyJywgbnVsbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBBY3Rpdml0eUV4ZWN1dG9yUGFydGljaXBhbnRFeHByZXNzaW9uLkNscl9UeXBlX0lEOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGRBY3Rpdml0eUV4ZWN1dG9yUGFydGljaXBhbnQodXNlckFjdGl2aXR5LCBodW1hblBlcmZvcm1lciBhcyBBY3Rpdml0eUV4ZWN1dG9yUGFydGljaXBhbnQsICdodW1hblBlcmZvcm1lcicsIG51bGwpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgTWF0cml4UGFydGljaXBhbnRFeHByZXNzaW9uLkNscl9UeXBlX0lEOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGRNYXRyaXhQYXJ0aWNpcGFudCh1c2VyQWN0aXZpdHksIGh1bWFuUGVyZm9ybWVyIGFzIE1hdHJpeFBhcnRpY2lwYW50LCAnaHVtYW5QZXJmb3JtZXInLCBudWxsKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAocGVyZm9ybWVySW5mby5hc3NpZ25TdHJhdGVneS5hc3NpZ25TdHJhdGVneSA9PT0gQXNzaWdubWVudFN0cmF0ZWd5LkFTU0lHTikge1xyXG5cclxuICAgICAgICAgICAgICAgIGNvbnN0IGFzc2lnblBlcmZvcm1lckNvbmZpZyA9IG5ldyBBc3NpZ25QZXJmb3JtZXJDb25maWcodXNlckFjdGl2aXR5Lk1vZGVsKTtcclxuICAgICAgICAgICAgICAgIGFzc2lnblBlcmZvcm1lckNvbmZpZy5PcGVyYXRvciA9IHBlcmZvcm1lckluZm8uYXNzaWduU3RyYXRlZ3kuYXNzaWduQ29uZmlnLm9wZXJhdG9yO1xyXG4gICAgICAgICAgICAgICAgYXNzaWduUGVyZm9ybWVyQ29uZmlnLk11bHRpU2VsZWN0ID0gcGVyZm9ybWVySW5mby5hc3NpZ25TdHJhdGVneS5hc3NpZ25Db25maWcubXVsdGlTZWxlY3Q7XHJcbiAgICAgICAgICAgICAgICBhc3NpZ25QZXJmb3JtZXJDb25maWcuTmVjZXNzYXJ5ID0gcGVyZm9ybWVySW5mby5hc3NpZ25TdHJhdGVneS5hc3NpZ25Db25maWcubmVjZXNzYXJ5O1xyXG4gICAgICAgICAgICAgICAgYXNzaWduUGVyZm9ybWVyQ29uZmlnLkFsbG93R2xvYmFsQXNzaWduID0gcGVyZm9ybWVySW5mby5pc0FsbFNjb3BlO1xyXG5cclxuICAgICAgICAgICAgICAgIHVzZXJBY3Rpdml0eS5Bc3NpZ25QZXJmb3JtZXJDb25maWcgPSBhc3NpZ25QZXJmb3JtZXJDb25maWc7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXBlcmZvcm1lckluZm8uaXNBbGxTY29wZSAmJiBwZXJmb3JtZXJJbmZvLnBvdGVudGlhbE93bmVyTGlzdCAmJiBwZXJmb3JtZXJJbmZvLnBvdGVudGlhbE93bmVyTGlzdC5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBwb3RlbnRpYWxPd25lciBvZiBwZXJmb3JtZXJJbmZvLnBvdGVudGlhbE93bmVyTGlzdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKHBvdGVudGlhbE93bmVyLnR5cGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgVXNlclBhcnRpY2lwYW50RXhwcmVzc2lvbi5DbHJfVHlwZV9JRDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZFVzZXJQYXJ0aWNpcGFudCh1c2VyQWN0aXZpdHksIHBvdGVudGlhbE93bmVyIGFzIFVzZXJQYXJ0aWNpcGFudCwgJ3BvdGVudGlhbE93bmVyJywgbnVsbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFZhcmlhYmxlUGFydGljaXBhbnRFeHByZXNzaW9uLkNscl9UeXBlX0lEOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkVmFyaWFibGVQYXJ0aWNpcGFudCh1c2VyQWN0aXZpdHksIHBvdGVudGlhbE93bmVyIGFzIFZhcmlhYmxlUGVyZm9ybWVyLCAncG90ZW50aWFsT3duZXInLCBudWxsKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBQb3NpdGlvblBhcnRpY2lwYW50RXhwcmVzc2lvbi5DbHJfVHlwZV9JRDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZFBvc2l0aW9uUGFydGljaXBhbnQodXNlckFjdGl2aXR5LCBwb3RlbnRpYWxPd25lciBhcyBQb3NpdGlvblBhcnRpY2lwYW50LCAncG90ZW50aWFsT3duZXInLCBudWxsKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgQ29tcG9uZW50UGFydGljaXBhbnRFeHByZXNzaW9uLkNscl9UeXBlX0lEOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkQ29tcG9uZW50UGFydGljaXBhbnQodXNlckFjdGl2aXR5LCBwb3RlbnRpYWxPd25lciBhcyBDb21wb25lbnRQYXJ0aWNpcGFudCwgJ3BvdGVudGlhbE93bmVyJywgbnVsbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFJlcG9ydGluZ0xpbmVQYXJ0aWNpcGFudEV4cHJlc3Npb24uQ2xyX1R5cGVfSUQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGRSZXBvcnRpbmdMaW5lUGFydGljaXBhbnQodXNlckFjdGl2aXR5LCBwb3RlbnRpYWxPd25lciBhcyBSZXBvcnRpbmdMaW5lUGFydGljaXBhbnQsICdwb3RlbnRpYWxPd25lcicsIG51bGwpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBBY3Rpdml0eUV4ZWN1dG9yUGFydGljaXBhbnRFeHByZXNzaW9uLkNscl9UeXBlX0lEOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkQWN0aXZpdHlFeGVjdXRvclBhcnRpY2lwYW50KHVzZXJBY3Rpdml0eSwgcG90ZW50aWFsT3duZXIgYXMgQWN0aXZpdHlFeGVjdXRvclBhcnRpY2lwYW50LCAncG90ZW50aWFsT3duZXInLCBudWxsKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgTWF0cml4UGFydGljaXBhbnRFeHByZXNzaW9uLkNscl9UeXBlX0lEOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkTWF0cml4UGFydGljaXBhbnQodXNlckFjdGl2aXR5LCBwb3RlbnRpYWxPd25lciBhcyBNYXRyaXhQYXJ0aWNpcGFudCwgJ3BvdGVudGlhbE93bmVyJywgbnVsbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIE9yZ2FuaXphdGlvblBhcnRpY2lwYW50RXhwcmVzc2lvbi5DbHJfVHlwZV9JRDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZE9yZ2FuaXphdGlvblBhcnRpY2lwYW50KHVzZXJBY3Rpdml0eSwgcG90ZW50aWFsT3duZXIgYXMgT3JnYW5pemF0aW9uUGFydGljaXBhbnQsICdwb3RlbnRpYWxPd25lcicsIG51bGwpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIOWIhumFjeetlueVpeS4uumihueUqOaXtu+8jOWujOaIkOetlueVpeiHquWKqOS/ruaUueS4uuaKouWNoOaooeW8j1xyXG4gICAgICAgICAgICBpZiAodXNlckFjdGl2aXR5LkFzc2lnbm1lbnRTdHJhdGVneSA9PT0gQXNzaWdubWVudFN0cmF0ZWd5LkNMQUlNKSB7XHJcbiAgICAgICAgICAgICAgICB1c2VyQWN0aXZpdHkuRXhlY3V0ZVdvcmtJdGVtTW9kZSA9IEV4ZWN1dGVXb3JrSXRlbU1vZGUuUHJlZW1wdDtcclxuICAgICAgICAgICAgICAgIHVzZXJBY3Rpdml0eS5Db3VudGVyU2lnblJ1bGVzID0gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG4gICAgY2hlY2tPdGhlckFzc2lnbk5vZGVzKHVzZXJBY3Rpdml0eTogVXNlckFjdGl2aXR5LCBwZXJmb3JtZXJJbmZvOiBQYXJ0aWNpcGFudEluZm8pIHtcclxuICAgICAgICBpZiAodXNlckFjdGl2aXR5LkFzc2lnbm1lbnRTdHJhdGVneSAhPT0gQXNzaWdubWVudFN0cmF0ZWd5LkFTU0lHTikge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGJwbW5Nb2RlbCA9IHVzZXJBY3Rpdml0eS5Nb2RlbDtcclxuICAgICAgICBjb25zdCBmbG93RWxlbWVudHMgPSBicG1uTW9kZWwuRGVmYXVsdFByb2Nlc3MuR2V0Rmxvd0VsZW1lbnRzKCk7XHJcbiAgICAgICAgaWYgKHBlcmZvcm1lckluZm8uYXNzaWduU3RyYXRlZ3kuYXNzaWduU3RyYXRlZ3kgIT09IEFzc2lnbm1lbnRTdHJhdGVneS5BU1NJR04pIHtcclxuICAgICAgICAgICAgZm9yIChjb25zdCBrIGluIGZsb3dFbGVtZW50cykge1xyXG4gICAgICAgICAgICAgICAgaWYgKGZsb3dFbGVtZW50c1trXSBpbnN0YW5jZW9mIFVzZXJBY3Rpdml0eSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGFjdGl2aXR5ID0gZmxvd0VsZW1lbnRzW2tdIGFzIFVzZXJBY3Rpdml0eTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoYWN0aXZpdHkub3RoZXJBc3NpZ25Ob2RlcyAmJiBhY3Rpdml0eS5vdGhlckFzc2lnbk5vZGVzLm90aGVyQXNzaWduQWN0aXZpdGllc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAmJiBhY3Rpdml0eS5vdGhlckFzc2lnbk5vZGVzLm90aGVyQXNzaWduQWN0aXZpdGllcy5sZW5ndGggPiAwXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICYmIGFjdGl2aXR5Lm90aGVyQXNzaWduTm9kZXMub3RoZXJBc3NpZ25BY3Rpdml0aWVzLmZpbmRJbmRleChpZCA9PiBpZCA9PT0gdXNlckFjdGl2aXR5LklkKSA+IC0xXHJcbiAgICAgICAgICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFjdGl2aXR5Lm90aGVyQXNzaWduTm9kZXMub3RoZXJBc3NpZ25BY3Rpdml0aWVzID0gYWN0aXZpdHkub3RoZXJBc3NpZ25Ob2Rlcy5vdGhlckFzc2lnbkFjdGl2aXRpZXMuZmlsdGVyKGlkID0+IGlkICE9PSB1c2VyQWN0aXZpdHkuSWQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZmxvd0VsZW1lbnRzW2tdIGluc3RhbmNlb2YgT3BlcmF0aW9uQWN0aXZpdHkpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBvcGVyYXRpb25BY3Rpdml0eSA9IGZsb3dFbGVtZW50c1trXSBhcyBPcGVyYXRpb25BY3Rpdml0eTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAob3BlcmF0aW9uQWN0aXZpdHkub3RoZXJBc3NpZ25Ob2RlcyAmJiBvcGVyYXRpb25BY3Rpdml0eS5vdGhlckFzc2lnbk5vZGVzLm90aGVyQXNzaWduQWN0aXZpdGllc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAmJiBvcGVyYXRpb25BY3Rpdml0eS5vdGhlckFzc2lnbk5vZGVzLm90aGVyQXNzaWduQWN0aXZpdGllcy5sZW5ndGggPiAwXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICYmIG9wZXJhdGlvbkFjdGl2aXR5Lm90aGVyQXNzaWduTm9kZXMub3RoZXJBc3NpZ25BY3Rpdml0aWVzLmZpbmRJbmRleChpZCA9PiBpZCA9PT0gdXNlckFjdGl2aXR5LklkKSA+IC0xXHJcbiAgICAgICAgICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wZXJhdGlvbkFjdGl2aXR5Lm90aGVyQXNzaWduTm9kZXMub3RoZXJBc3NpZ25BY3Rpdml0aWVzID0gb3BlcmF0aW9uQWN0aXZpdHkub3RoZXJBc3NpZ25Ob2Rlcy5vdGhlckFzc2lnbkFjdGl2aXRpZXMuZmlsdGVyKGlkID0+IGlkICE9PSB1c2VyQWN0aXZpdHkuSWQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZmxvd0VsZW1lbnRzW2tdIGluc3RhbmNlb2YgU3RhcnRBY3Rpdml0eSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHN0YXJ0QWN0aXZpdHkgPSBmbG93RWxlbWVudHNba10gYXMgU3RhcnRBY3Rpdml0eTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoc3RhcnRBY3Rpdml0eS5vdGhlckFzc2lnbk5vZGVzICYmIHN0YXJ0QWN0aXZpdHkub3RoZXJBc3NpZ25Ob2Rlcy5vdGhlckFzc2lnbkFjdGl2aXRpZXNcclxuICAgICAgICAgICAgICAgICAgICAgICAgJiYgc3RhcnRBY3Rpdml0eS5vdGhlckFzc2lnbk5vZGVzLm90aGVyQXNzaWduQWN0aXZpdGllcy5sZW5ndGggPiAwXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICYmIHN0YXJ0QWN0aXZpdHkub3RoZXJBc3NpZ25Ob2Rlcy5vdGhlckFzc2lnbkFjdGl2aXRpZXMuZmluZEluZGV4KGlkID0+IGlkID09PSB1c2VyQWN0aXZpdHkuSWQpID4gLTFcclxuICAgICAgICAgICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnRBY3Rpdml0eS5vdGhlckFzc2lnbk5vZGVzLm90aGVyQXNzaWduQWN0aXZpdGllcyA9IHN0YXJ0QWN0aXZpdHkub3RoZXJBc3NpZ25Ob2Rlcy5vdGhlckFzc2lnbkFjdGl2aXRpZXMuZmlsdGVyKGlkID0+IGlkICE9PSB1c2VyQWN0aXZpdHkuSWQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGlmICh1c2VyQWN0aXZpdHkuQXNzaWduUGVyZm9ybWVyQ29uZmlnLk9wZXJhdG9yID09PSAnY3VycmVudFVzZXInXHJcbiAgICAgICAgICAgICAgICAmJiBwZXJmb3JtZXJJbmZvLmFzc2lnblN0cmF0ZWd5LmFzc2lnbkNvbmZpZy5vcGVyYXRvciAhPT0gJ2N1cnJlbnRVc2VyJ1xyXG4gICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgayBpbiBmbG93RWxlbWVudHMpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZmxvd0VsZW1lbnRzW2tdIGluc3RhbmNlb2YgVXNlckFjdGl2aXR5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGFjdGl2aXR5ID0gZmxvd0VsZW1lbnRzW2tdIGFzIFVzZXJBY3Rpdml0eTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFjdGl2aXR5Lm90aGVyQXNzaWduTm9kZXMgJiYgYWN0aXZpdHkub3RoZXJBc3NpZ25Ob2Rlcy5vdGhlckFzc2lnbkFjdGl2aXRpZXNcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICYmIGFjdGl2aXR5Lm90aGVyQXNzaWduTm9kZXMub3RoZXJBc3NpZ25BY3Rpdml0aWVzLmxlbmd0aCA+IDBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICYmIGFjdGl2aXR5Lm90aGVyQXNzaWduTm9kZXMub3RoZXJBc3NpZ25BY3Rpdml0aWVzLmZpbmRJbmRleChpZCA9PiBpZCA9PT0gdXNlckFjdGl2aXR5LklkKSA+IC0xXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0aXZpdHkub3RoZXJBc3NpZ25Ob2Rlcy5vdGhlckFzc2lnbkFjdGl2aXRpZXMgPSBhY3Rpdml0eS5vdGhlckFzc2lnbk5vZGVzLm90aGVyQXNzaWduQWN0aXZpdGllcy5maWx0ZXIoaWQgPT4gaWQgIT09IHVzZXJBY3Rpdml0eS5JZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGZsb3dFbGVtZW50c1trXSBpbnN0YW5jZW9mIE9wZXJhdGlvbkFjdGl2aXR5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG9wZXJhdGlvbkFjdGl2aXR5ID0gZmxvd0VsZW1lbnRzW2tdIGFzIE9wZXJhdGlvbkFjdGl2aXR5O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAob3BlcmF0aW9uQWN0aXZpdHkub3RoZXJBc3NpZ25Ob2RlcyAmJiBvcGVyYXRpb25BY3Rpdml0eS5vdGhlckFzc2lnbk5vZGVzLm90aGVyQXNzaWduQWN0aXZpdGllc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJiYgb3BlcmF0aW9uQWN0aXZpdHkub3RoZXJBc3NpZ25Ob2Rlcy5vdGhlckFzc2lnbkFjdGl2aXRpZXMubGVuZ3RoID4gMFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJiYgb3BlcmF0aW9uQWN0aXZpdHkub3RoZXJBc3NpZ25Ob2Rlcy5vdGhlckFzc2lnbkFjdGl2aXRpZXMuZmluZEluZGV4KGlkID0+IGlkID09PSB1c2VyQWN0aXZpdHkuSWQpID4gLTFcclxuICAgICAgICAgICAgICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcGVyYXRpb25BY3Rpdml0eS5vdGhlckFzc2lnbk5vZGVzLm90aGVyQXNzaWduQWN0aXZpdGllcyA9IG9wZXJhdGlvbkFjdGl2aXR5Lm90aGVyQXNzaWduTm9kZXMub3RoZXJBc3NpZ25BY3Rpdml0aWVzLmZpbHRlcihpZCA9PiBpZCAhPT0gdXNlckFjdGl2aXR5LklkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIGlmICh1c2VyQWN0aXZpdHkuQXNzaWduUGVyZm9ybWVyQ29uZmlnLk9wZXJhdG9yID09PSAncHJvY0luc3RDcmVhdG9yJ1xyXG4gICAgICAgICAgICAgICAgJiYgcGVyZm9ybWVySW5mby5hc3NpZ25TdHJhdGVneS5hc3NpZ25Db25maWcub3BlcmF0b3IgIT09ICdwcm9jSW5zdENyZWF0b3InXHJcbiAgICAgICAgICAgICkge1xyXG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBrIGluIGZsb3dFbGVtZW50cykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChmbG93RWxlbWVudHNba10gaW5zdGFuY2VvZiBTdGFydEFjdGl2aXR5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHN0YXJ0QWN0aXZpdHkgPSBmbG93RWxlbWVudHNba10gYXMgU3RhcnRBY3Rpdml0eTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXJ0QWN0aXZpdHkub3RoZXJBc3NpZ25Ob2RlcyAmJiBzdGFydEFjdGl2aXR5Lm90aGVyQXNzaWduTm9kZXMub3RoZXJBc3NpZ25BY3Rpdml0aWVzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAmJiBzdGFydEFjdGl2aXR5Lm90aGVyQXNzaWduTm9kZXMub3RoZXJBc3NpZ25BY3Rpdml0aWVzLmxlbmd0aCA+IDBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICYmIHN0YXJ0QWN0aXZpdHkub3RoZXJBc3NpZ25Ob2Rlcy5vdGhlckFzc2lnbkFjdGl2aXRpZXMuZmluZEluZGV4KGlkID0+IGlkID09PSB1c2VyQWN0aXZpdHkuSWQpID4gLTFcclxuICAgICAgICAgICAgICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFydEFjdGl2aXR5Lm90aGVyQXNzaWduTm9kZXMub3RoZXJBc3NpZ25BY3Rpdml0aWVzID0gc3RhcnRBY3Rpdml0eS5vdGhlckFzc2lnbk5vZGVzLm90aGVyQXNzaWduQWN0aXZpdGllcy5maWx0ZXIoaWQgPT4gaWQgIT09IHVzZXJBY3Rpdml0eS5JZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDmt7vliqDnlKjmiLflj4LkuI7ogIVcclxuICAgICAqIEBwYXJhbSB1c2VyQWN0aXZpdHlcclxuICAgICAqIEBwYXJhbSBwZXJmb3JtZXJcclxuICAgICAqIEBwYXJhbSB0eXBlXHJcbiAgICAgKi9cclxuICAgIGFkZFVzZXJQYXJ0aWNpcGFudCh1c2VyQWN0aXZpdHk6IFVzZXJBY3Rpdml0eSwgcGVyZm9ybWVyLCB0eXBlOiBzdHJpbmcgLCBzY29wZTogQWN0aW9uU2NvcGUpIHtcclxuICAgICAgICBsZXQgdXNlclBhcnRpY2lwYW50IDogVXNlclBhcnRpY2lwYW50RXhwcmVzc2lvbjtcclxuICAgICAgICBpZihwZXJmb3JtZXIgaW5zdGFuY2VvZiBVc2VyUGFydGljaXBhbnRFeHByZXNzaW9uKSB7XHJcbiAgICAgICAgICAgIHVzZXJQYXJ0aWNpcGFudCA9IHBlcmZvcm1lcjtcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgcGVyZm9ybWVyID0gcGVyZm9ybWVyIGFzIFVzZXJQYXJ0aWNpcGFudFxyXG4gICAgICAgICAgICB1c2VyUGFydGljaXBhbnQgPSBuZXcgVXNlclBhcnRpY2lwYW50RXhwcmVzc2lvbih1c2VyQWN0aXZpdHkuTW9kZWwsIHBlcmZvcm1lci5wZXJmb3JtZXJJZCwgcGVyZm9ybWVyLnBlcmZvcm1lck5hbWUsIHBlcmZvcm1lci5vcmdUeXBlKTtcclxuICAgICAgICAgICAgdXNlclBhcnRpY2lwYW50LmlkID0gcGVyZm9ybWVyLmlkO1xyXG4gICAgICAgICAgICB1c2VyUGFydGljaXBhbnQuT3JnSWQgPSBwZXJmb3JtZXIub3JnSWQ7XHJcbiAgICAgICAgICAgIHVzZXJQYXJ0aWNpcGFudC5hY3Rpb25TY29wZSA9IEFjdGlvblNjb3BlLkRlZmF1bHQ7XHJcbiAgICAgICAgICAgIHVzZXJQYXJ0aWNpcGFudC5PcmdOYW1lID0gcGVyZm9ybWVyLm9yZ05hbWU7XHJcbiAgICAgICAgICAgIHVzZXJQYXJ0aWNpcGFudC5UYWcgPSBwZXJmb3JtZXIudGFnO1xyXG4gICAgICAgICAgICB1c2VyUGFydGljaXBhbnQuT3JnVHlwZSA9IHBlcmZvcm1lci5vcmdUeXBlO1xyXG4gICAgICAgICAgICB1c2VyUGFydGljaXBhbnQub3JkZXIgPSBwZXJmb3JtZXIub3JkZXI7XHJcbiAgICAgICAgICAgIGlmIChwZXJmb3JtZXIuY29uZGl0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBjb25kaXRpb24gPSBuZXcgQ29uZGl0aW9uKHVzZXJBY3Rpdml0eS5Nb2RlbCk7XHJcbiAgICAgICAgICAgICAgICBjb25kaXRpb24uVmFsdWUgPSBwZXJmb3JtZXIuY29uZGl0aW9uO1xyXG4gICAgICAgICAgICAgICAgdXNlclBhcnRpY2lwYW50LmNvbmRpdGlvbiA9IGNvbmRpdGlvbjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodHlwZSA9PT0gJ2h1bWFuUGVyZm9ybWVyJykge1xyXG4gICAgICAgICAgICBsZXQgaHVtYW5QZXJmb3JtZXJJbXBsID0gbmV3IEh1bWFuUGVyZm9ybWVySW1wbCh1c2VyQWN0aXZpdHkuTW9kZWwpO1xyXG4gICAgICAgICAgICBodW1hblBlcmZvcm1lckltcGwucGFydGljaXBhbnRFeHByZXNzaW9uID0gdXNlclBhcnRpY2lwYW50O1xyXG4gICAgICAgICAgICBpZiAocGVyZm9ybWVyLmNvbmRpdGlvbikge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgY29uZGl0aW9uID0gbmV3IENvbmRpdGlvbih1c2VyQWN0aXZpdHkuTW9kZWwpO1xyXG4gICAgICAgICAgICAgICAgY29uZGl0aW9uLlZhbHVlID0gcGVyZm9ybWVyLmNvbmRpdGlvbjtcclxuICAgICAgICAgICAgICAgIGh1bWFuUGVyZm9ybWVySW1wbC5jb25kaXRpb24gPSBjb25kaXRpb247XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaHVtYW5QZXJmb3JtZXJJbXBsLm9yZGVyID0gcGVyZm9ybWVyLm9yZGVyO1xyXG4gICAgICAgICAgICB1c2VyQWN0aXZpdHkuQWRkUmVzb3VyY2VSb2xlKGh1bWFuUGVyZm9ybWVySW1wbCk7XHJcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlID09PSAncG90ZW50aWFsT3duZXInKSB7XHJcbiAgICAgICAgICAgIGxldCBvdGVudGlhbE93bmVySW1wbCA9IG5ldyBQb3RlbnRpYWxPd25lckltcGwodXNlckFjdGl2aXR5Lk1vZGVsKTtcclxuICAgICAgICAgICAgb3RlbnRpYWxPd25lckltcGwucGFydGljaXBhbnRFeHByZXNzaW9uID0gdXNlclBhcnRpY2lwYW50O1xyXG4gICAgICAgICAgICBpZiAocGVyZm9ybWVyLmNvbmRpdGlvbikge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgY29uZGl0aW9uID0gbmV3IENvbmRpdGlvbih1c2VyQWN0aXZpdHkuTW9kZWwpO1xyXG4gICAgICAgICAgICAgICAgY29uZGl0aW9uLlZhbHVlID0gcGVyZm9ybWVyLmNvbmRpdGlvbjtcclxuICAgICAgICAgICAgICAgIG90ZW50aWFsT3duZXJJbXBsLmNvbmRpdGlvbiA9IGNvbmRpdGlvbjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBvdGVudGlhbE93bmVySW1wbC5vcmRlciA9IHBlcmZvcm1lci5vcmRlcjtcclxuICAgICAgICAgICAgaWYoc2NvcGUpIHtcclxuICAgICAgICAgICAgICAgIHVzZXJQYXJ0aWNpcGFudC5hY3Rpb25TY29wZSA9IHNjb3BlO1xyXG4gICAgICAgICAgICAgICAgdXNlckFjdGl2aXR5LmR5bmFtaWNQYXJ0aWNpcGFudHMucHVzaCh1c2VyUGFydGljaXBhbnQpO1xyXG4gICAgICAgICAgICB9ZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB1c2VyQWN0aXZpdHkuQWRkUmVzb3VyY2VSb2xlKG90ZW50aWFsT3duZXJJbXBsKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOa3u+WKoOWPmOmHj+WPguS4juiAhVxyXG4gICAgICogQHBhcmFtIHVzZXJBY3Rpdml0eVxyXG4gICAgICogQHBhcmFtIHBlcmZvcm1lclxyXG4gICAgICogQHBhcmFtIHR5cGVcclxuICAgICAqL1xyXG4gICAgYWRkVmFyaWFibGVQYXJ0aWNpcGFudCh1c2VyQWN0aXZpdHk6IFVzZXJBY3Rpdml0eSwgcGVyZm9ybWVyLCB0eXBlOiBzdHJpbmcsIHNjb3BlOiBBY3Rpb25TY29wZSkge1xyXG4gICAgICAgIGxldCB2YXJpYWJsZVBlcmZvcm1lcjogVmFyaWFibGVQYXJ0aWNpcGFudEV4cHJlc3Npb247XHJcbiAgICAgICAgaWYocGVyZm9ybWVyIGluc3RhbmNlb2YgVmFyaWFibGVQYXJ0aWNpcGFudEV4cHJlc3Npb24pIHtcclxuICAgICAgICAgICAgdmFyaWFibGVQZXJmb3JtZXIgPSBwZXJmb3JtZXI7XHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHBlcmZvcm1lciA9IHBlcmZvcm1lciBhcyBWYXJpYWJsZVBlcmZvcm1lcjtcclxuICAgICAgICAgICAgdmFyaWFibGVQZXJmb3JtZXIgPSBuZXcgVmFyaWFibGVQYXJ0aWNpcGFudEV4cHJlc3Npb24odXNlckFjdGl2aXR5Lk1vZGVsLCBwZXJmb3JtZXIucGVyZm9ybWVySWQsIHBlcmZvcm1lci5wZXJmb3JtZXJOYW1lLCBwZXJmb3JtZXIub3JnVHlwZSk7XHJcbiAgICAgICAgICAgIHZhcmlhYmxlUGVyZm9ybWVyLmlkID0gcGVyZm9ybWVyLmlkO1xyXG4gICAgICAgICAgICB2YXJpYWJsZVBlcmZvcm1lci5hY3Rpb25TY29wZSA9IEFjdGlvblNjb3BlLkRlZmF1bHQ7XHJcbiAgICAgICAgICAgIHZhcmlhYmxlUGVyZm9ybWVyLk5hbWUgPSBwZXJmb3JtZXIucGVyZm9ybWVyTmFtZSA/IHBlcmZvcm1lci5wZXJmb3JtZXJOYW1lIDogcGVyZm9ybWVyLm5hbWU7XHJcbiAgICAgICAgICAgIHZhcmlhYmxlUGVyZm9ybWVyLlRhZyA9IHBlcmZvcm1lci50YWc7XHJcbiAgICAgICAgICAgIHZhcmlhYmxlUGVyZm9ybWVyLlZhclZhbHVlID0gcGVyZm9ybWVyLnZhclZhbHVlO1xyXG4gICAgICAgICAgICB2YXJpYWJsZVBlcmZvcm1lci5WYXJUeXBlID0gcGVyZm9ybWVyLnZhclR5cGU7XHJcbiAgICAgICAgICAgIHZhcmlhYmxlUGVyZm9ybWVyLm9yZGVyID0gcGVyZm9ybWVyLm9yZGVyO1xyXG4gICAgICAgICAgICB2YXJpYWJsZVBlcmZvcm1lci5SZWxhdGlvbiA9IHBlcmZvcm1lci5yZWxhdGlvbjtcclxuICAgICAgICAgICAgaWYgKHBlcmZvcm1lci5jb25kaXRpb24pIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGNvbmRpdGlvbiA9IG5ldyBDb25kaXRpb24odXNlckFjdGl2aXR5Lk1vZGVsKTtcclxuICAgICAgICAgICAgICAgIGNvbmRpdGlvbi5WYWx1ZSA9IHBlcmZvcm1lci5jb25kaXRpb247XHJcbiAgICAgICAgICAgICAgICB2YXJpYWJsZVBlcmZvcm1lci5jb25kaXRpb24gPSBjb25kaXRpb247XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHR5cGUgPT09ICdodW1hblBlcmZvcm1lcicpIHtcclxuICAgICAgICAgICAgbGV0IGh1bWFuUGVyZm9ybWVySW1wbCA9IG5ldyBIdW1hblBlcmZvcm1lckltcGwodXNlckFjdGl2aXR5Lk1vZGVsKTtcclxuICAgICAgICAgICAgaHVtYW5QZXJmb3JtZXJJbXBsLnBhcnRpY2lwYW50RXhwcmVzc2lvbiA9IHZhcmlhYmxlUGVyZm9ybWVyO1xyXG4gICAgICAgICAgICBpZiAocGVyZm9ybWVyLmNvbmRpdGlvbikge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgY29uZGl0aW9uID0gbmV3IENvbmRpdGlvbih1c2VyQWN0aXZpdHkuTW9kZWwpO1xyXG4gICAgICAgICAgICAgICAgY29uZGl0aW9uLlZhbHVlID0gcGVyZm9ybWVyLmNvbmRpdGlvbjtcclxuICAgICAgICAgICAgICAgIGh1bWFuUGVyZm9ybWVySW1wbC5jb25kaXRpb24gPSBjb25kaXRpb247XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaHVtYW5QZXJmb3JtZXJJbXBsLm9yZGVyID0gcGVyZm9ybWVyLm9yZGVyO1xyXG4gICAgICAgICAgICB1c2VyQWN0aXZpdHkuQWRkUmVzb3VyY2VSb2xlKGh1bWFuUGVyZm9ybWVySW1wbCk7XHJcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlID09PSAncG90ZW50aWFsT3duZXInKSB7XHJcbiAgICAgICAgICAgIGxldCBvdGVudGlhbE93bmVySW1wbCA9IG5ldyBQb3RlbnRpYWxPd25lckltcGwodXNlckFjdGl2aXR5Lk1vZGVsKTtcclxuICAgICAgICAgICAgb3RlbnRpYWxPd25lckltcGwucGFydGljaXBhbnRFeHByZXNzaW9uID0gdmFyaWFibGVQZXJmb3JtZXI7XHJcbiAgICAgICAgICAgIGlmIChwZXJmb3JtZXIuY29uZGl0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBjb25kaXRpb24gPSBuZXcgQ29uZGl0aW9uKHVzZXJBY3Rpdml0eS5Nb2RlbCk7XHJcbiAgICAgICAgICAgICAgICBjb25kaXRpb24uVmFsdWUgPSBwZXJmb3JtZXIuY29uZGl0aW9uO1xyXG4gICAgICAgICAgICAgICAgb3RlbnRpYWxPd25lckltcGwuY29uZGl0aW9uID0gY29uZGl0aW9uO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIG90ZW50aWFsT3duZXJJbXBsLm9yZGVyID0gcGVyZm9ybWVyLm9yZGVyO1xyXG4gICAgICAgICAgICBpZihzY29wZSkge1xyXG4gICAgICAgICAgICAgICAgdmFyaWFibGVQZXJmb3JtZXIuYWN0aW9uU2NvcGUgPSBzY29wZTtcclxuICAgICAgICAgICAgICAgIHVzZXJBY3Rpdml0eS5keW5hbWljUGFydGljaXBhbnRzLnB1c2godmFyaWFibGVQZXJmb3JtZXIpO1xyXG4gICAgICAgICAgICB9ZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB1c2VyQWN0aXZpdHkuQWRkUmVzb3VyY2VSb2xlKG90ZW50aWFsT3duZXJJbXBsKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOa3u+WKoOWyl+S9jeWPguS4juiAhVxyXG4gICAgICogQHBhcmFtIHVzZXJBY3Rpdml0eVxyXG4gICAgICogQHBhcmFtIHBlcmZvcm1lclxyXG4gICAgICogQHBhcmFtIHR5cGVcclxuICAgICAqL1xyXG4gICAgYWRkUG9zaXRpb25QYXJ0aWNpcGFudCh1c2VyQWN0aXZpdHk6IFVzZXJBY3Rpdml0eSwgcGVyZm9ybWVyLCB0eXBlOiBzdHJpbmcsIHNjb3BlOiBBY3Rpb25TY29wZSkge1xyXG4gICAgICAgIGxldCBwb3NpUGFydGljaXBhbnQgOiBQb3NpdGlvblBhcnRpY2lwYW50RXhwcmVzc2lvbjtcclxuICAgICAgICBpZihwZXJmb3JtZXIgaW5zdGFuY2VvZiBQb3NpdGlvblBhcnRpY2lwYW50RXhwcmVzc2lvbikge1xyXG4gICAgICAgICAgICBwb3NpUGFydGljaXBhbnQgPSBwZXJmb3JtZXI7XHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHBlcmZvcm1lciA9IHBlcmZvcm1lciBhcyBQb3NpdGlvblBhcnRpY2lwYW50O1xyXG4gICAgICAgICAgICBwb3NpUGFydGljaXBhbnQgPSBuZXcgUG9zaXRpb25QYXJ0aWNpcGFudEV4cHJlc3Npb24odXNlckFjdGl2aXR5Lk1vZGVsLCBwZXJmb3JtZXIucGVyZm9ybWVySWQsIHBlcmZvcm1lci5wZXJmb3JtZXJOYW1lKTtcclxuICAgICAgICAgICAgcG9zaVBhcnRpY2lwYW50LmlkID0gcGVyZm9ybWVyLmlkO1xyXG4gICAgICAgICAgICBwb3NpUGFydGljaXBhbnQuYWN0aW9uU2NvcGUgPSBBY3Rpb25TY29wZS5EZWZhdWx0O1xyXG4gICAgICAgICAgICBwb3NpUGFydGljaXBhbnQuUG9zaXRpb25UeXBlID0gcGVyZm9ybWVyLnBvc2l0aW9uVHlwZTtcclxuICAgICAgICAgICAgcG9zaVBhcnRpY2lwYW50Lm9yZGVyID0gcGVyZm9ybWVyLm9yZGVyO1xyXG4gICAgICAgICAgICBpZiAocGVyZm9ybWVyLnBvc2l0aW9uVHlwZSA9PT0gJzEnKSB7XHJcbiAgICAgICAgICAgICAgICBwb3NpUGFydGljaXBhbnQuT3JnSWQgPSBwZXJmb3JtZXIub3JnSWQ7XHJcbiAgICAgICAgICAgICAgICBwb3NpUGFydGljaXBhbnQuT3JnTmFtZSA9IHBlcmZvcm1lci5vcmdOYW1lO1xyXG4gICAgICAgICAgICAgICAgcG9zaVBhcnRpY2lwYW50Lk9yZ1R5cGUgPSBwZXJmb3JtZXIub3JnVHlwZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAocGVyZm9ybWVyLmNvbmRpdGlvbikge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgY29uZGl0aW9uID0gbmV3IENvbmRpdGlvbih1c2VyQWN0aXZpdHkuTW9kZWwpO1xyXG4gICAgICAgICAgICAgICAgY29uZGl0aW9uLlZhbHVlID0gcGVyZm9ybWVyLmNvbmRpdGlvbjtcclxuICAgICAgICAgICAgICAgIHBvc2lQYXJ0aWNpcGFudC5jb25kaXRpb24gPSBjb25kaXRpb247XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHR5cGUgPT09ICdodW1hblBlcmZvcm1lcicpIHtcclxuICAgICAgICAgICAgbGV0IGh1bWFuUGVyZm9ybWVySW1wbCA9IG5ldyBIdW1hblBlcmZvcm1lckltcGwodXNlckFjdGl2aXR5Lk1vZGVsKTtcclxuICAgICAgICAgICAgaHVtYW5QZXJmb3JtZXJJbXBsLnBhcnRpY2lwYW50RXhwcmVzc2lvbiA9IHBvc2lQYXJ0aWNpcGFudDtcclxuICAgICAgICAgICAgaWYgKHBlcmZvcm1lci5jb25kaXRpb24pIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGNvbmRpdGlvbiA9IG5ldyBDb25kaXRpb24odXNlckFjdGl2aXR5Lk1vZGVsKTtcclxuICAgICAgICAgICAgICAgIGNvbmRpdGlvbi5WYWx1ZSA9IHBlcmZvcm1lci5jb25kaXRpb247XHJcbiAgICAgICAgICAgICAgICBodW1hblBlcmZvcm1lckltcGwuY29uZGl0aW9uID0gY29uZGl0aW9uO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGh1bWFuUGVyZm9ybWVySW1wbC5vcmRlciA9IHBlcmZvcm1lci5vcmRlcjtcclxuICAgICAgICAgICAgdXNlckFjdGl2aXR5LkFkZFJlc291cmNlUm9sZShodW1hblBlcmZvcm1lckltcGwpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ3BvdGVudGlhbE93bmVyJykge1xyXG4gICAgICAgICAgICBsZXQgb3RlbnRpYWxPd25lckltcGwgPSBuZXcgUG90ZW50aWFsT3duZXJJbXBsKHVzZXJBY3Rpdml0eS5Nb2RlbCk7XHJcbiAgICAgICAgICAgIG90ZW50aWFsT3duZXJJbXBsLnBhcnRpY2lwYW50RXhwcmVzc2lvbiA9IHBvc2lQYXJ0aWNpcGFudDtcclxuICAgICAgICAgICAgaWYgKHBlcmZvcm1lci5jb25kaXRpb24pIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGNvbmRpdGlvbiA9IG5ldyBDb25kaXRpb24odXNlckFjdGl2aXR5Lk1vZGVsKTtcclxuICAgICAgICAgICAgICAgIGNvbmRpdGlvbi5WYWx1ZSA9IHBlcmZvcm1lci5jb25kaXRpb247XHJcbiAgICAgICAgICAgICAgICBvdGVudGlhbE93bmVySW1wbC5jb25kaXRpb24gPSBjb25kaXRpb247XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgb3RlbnRpYWxPd25lckltcGwub3JkZXIgPSBwZXJmb3JtZXIub3JkZXI7XHJcbiAgICAgICAgICAgIGlmKHNjb3BlKSB7XHJcbiAgICAgICAgICAgICAgICBwb3NpUGFydGljaXBhbnQuYWN0aW9uU2NvcGUgPSBzY29wZTtcclxuICAgICAgICAgICAgICAgIHVzZXJBY3Rpdml0eS5keW5hbWljUGFydGljaXBhbnRzLnB1c2gocG9zaVBhcnRpY2lwYW50KTtcclxuICAgICAgICAgICAgfWVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdXNlckFjdGl2aXR5LkFkZFJlc291cmNlUm9sZShvdGVudGlhbE93bmVySW1wbCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDmt7vliqDmnoTku7blj4LkuI7ogIVcclxuICAgICAqIEBwYXJhbSB1c2VyQWN0aXZpdHlcclxuICAgICAqIEBwYXJhbSBjb21wb25lbnRcclxuICAgICAqIEBwYXJhbSB0eXBlXHJcbiAgICAgKi9cclxuICAgIGFkZENvbXBvbmVudFBhcnRpY2lwYW50KHVzZXJBY3Rpdml0eTogVXNlckFjdGl2aXR5LCBjb21wb25lbnQsIHR5cGU6IHN0cmluZywgc2NvcGU6IEFjdGlvblNjb3BlKSB7XHJcbiAgICAgICAgbGV0IGNvbXBvbmVudFBhcnRpY2lwYW50OkNvbXBvbmVudFBhcnRpY2lwYW50RXhwcmVzc2lvbjtcclxuICAgICAgICBpZihjb21wb25lbnQgaW5zdGFuY2VvZiBDb21wb25lbnRQYXJ0aWNpcGFudEV4cHJlc3Npb24pIHtcclxuICAgICAgICAgICAgY29tcG9uZW50UGFydGljaXBhbnQgPSBjb21wb25lbnQ7XHJcbiAgICAgICAgfWVsc2Uge1xyXG4gICAgICAgICAgICBjb21wb25lbnQgPSBjb21wb25lbnQgYXMgQ29tcG9uZW50UGFydGljaXBhbnQ7XHJcbiAgICAgICAgICAgIGNvbXBvbmVudFBhcnRpY2lwYW50ID0gbmV3IENvbXBvbmVudFBhcnRpY2lwYW50RXhwcmVzc2lvbih1c2VyQWN0aXZpdHkuTW9kZWwpO1xyXG4gICAgICAgICAgICBjb21wb25lbnRQYXJ0aWNpcGFudC5pZCA9IGNvbXBvbmVudC5pZDtcclxuICAgICAgICAgICAgY29tcG9uZW50UGFydGljaXBhbnQuY29tcG9uZW50SWQgPSBjb21wb25lbnQubWV0YWRhdGFJZDtcclxuICAgICAgICAgICAgY29tcG9uZW50UGFydGljaXBhbnQuYWN0aW9uU2NvcGUgPSBBY3Rpb25TY29wZS5EZWZhdWx0O1xyXG4gICAgICAgICAgICBjb21wb25lbnRQYXJ0aWNpcGFudC5jb21wb25lbnROYW1lID0gY29tcG9uZW50Lm5hbWU7XHJcbiAgICAgICAgICAgIGNvbXBvbmVudFBhcnRpY2lwYW50Lm1ldGhvZE5hbWUgPSBjb21wb25lbnQubWV0aG9kTmFtZTtcclxuICAgICAgICAgICAgY29tcG9uZW50UGFydGljaXBhbnQub3JkZXIgPSBjb21wb25lbnQub3JkZXI7XHJcbiAgICAgICAgICAgIGNvbXBvbmVudFBhcnRpY2lwYW50Lm1ldGhvZENvZGUgPSBjb21wb25lbnQubWV0aG9kQ29kZTtcclxuXHJcbiAgICAgICAgICAgIGlmIChjb21wb25lbnQuYWN0dWFsUGFyYW1ldGVycyAmJiBjb21wb25lbnQuYWN0dWFsUGFyYW1ldGVycy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgYWN0UGFyYXMgPSBuZXcgQXJyYXk8QWN0dWFsUGFyYW1ldGVyPigpO1xyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgcGFyYSBvZiBjb21wb25lbnQuYWN0dWFsUGFyYW1ldGVycykge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBhY3RQYXJhID0gbmV3IEFjdHVhbFBhcmFtZXRlcih1c2VyQWN0aXZpdHkuTW9kZWwsIHBhcmEuY29kZSwgcGFyYS52YWx1ZSwgcGFyYS52YWx1ZVRleHQpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBUT0RPOuabtOaWsOWPguS4juiAheS8mum7mOiupOaKiuaehOS7tuWPguaVsOWxnuaAp+aUueS4umNvbnRhbnTvvIzkuLTml7bkv67lpI3vvIzlkI7nu63ku6PnoIHkvJjljJZcclxuICAgICAgICAgICAgICAgICAgICBhY3RQYXJhLlRhZyA9IHBhcmEudGFnO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChwYXJhLmZldGNoVmFsdWVNb2RlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAocGFyYS5mZXRjaFZhbHVlTW9kZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnZXhwcmVzcyc6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0UGFyYS5UYWcgPSAnZXhwcmVzc2lvbic7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdub25lJzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3RQYXJhLlRhZyA9ICdleHByZXNzaW9uJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0UGFyYS5UYWcgPSAnY29uc3RhbnQnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGFjdFBhcmFzLnB1c2goYWN0UGFyYSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjb21wb25lbnRQYXJ0aWNpcGFudC5hY3R1YWxQYXJhbWV0ZXJzID0gYWN0UGFyYXM7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGNvbXBvbmVudC5jb25kaXRpb24pIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGNvbmRpdGlvbiA9IG5ldyBDb25kaXRpb24odXNlckFjdGl2aXR5Lk1vZGVsKTtcclxuICAgICAgICAgICAgICAgIGNvbmRpdGlvbi5WYWx1ZSA9IGNvbXBvbmVudC5jb25kaXRpb247XHJcbiAgICAgICAgICAgICAgICBjb21wb25lbnRQYXJ0aWNpcGFudC5jb25kaXRpb24gPSBjb25kaXRpb247XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0eXBlID09PSAnaHVtYW5QZXJmb3JtZXInKSB7XHJcbiAgICAgICAgICAgIGxldCBodW1hblBlcmZvcm1lckltcGwgPSBuZXcgSHVtYW5QZXJmb3JtZXJJbXBsKHVzZXJBY3Rpdml0eS5Nb2RlbCk7XHJcbiAgICAgICAgICAgIGh1bWFuUGVyZm9ybWVySW1wbC5wYXJ0aWNpcGFudEV4cHJlc3Npb24gPSBjb21wb25lbnRQYXJ0aWNpcGFudDtcclxuICAgICAgICAgICAgaWYgKGNvbXBvbmVudC5jb25kaXRpb24pIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGNvbmRpdGlvbiA9IG5ldyBDb25kaXRpb24odXNlckFjdGl2aXR5Lk1vZGVsKTtcclxuICAgICAgICAgICAgICAgIGNvbmRpdGlvbi5WYWx1ZSA9IGNvbXBvbmVudC5jb25kaXRpb247XHJcbiAgICAgICAgICAgICAgICBodW1hblBlcmZvcm1lckltcGwuY29uZGl0aW9uID0gY29uZGl0aW9uO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGh1bWFuUGVyZm9ybWVySW1wbC5vcmRlciA9IGNvbXBvbmVudC5vcmRlcjtcclxuICAgICAgICAgICAgdXNlckFjdGl2aXR5LkFkZFJlc291cmNlUm9sZShodW1hblBlcmZvcm1lckltcGwpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ3BvdGVudGlhbE93bmVyJykge1xyXG4gICAgICAgICAgICBsZXQgb3RlbnRpYWxPd25lckltcGwgPSBuZXcgUG90ZW50aWFsT3duZXJJbXBsKHVzZXJBY3Rpdml0eS5Nb2RlbCk7XHJcbiAgICAgICAgICAgIG90ZW50aWFsT3duZXJJbXBsLnBhcnRpY2lwYW50RXhwcmVzc2lvbiA9IGNvbXBvbmVudFBhcnRpY2lwYW50O1xyXG4gICAgICAgICAgICBpZiAoY29tcG9uZW50LmNvbmRpdGlvbikge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgY29uZGl0aW9uID0gbmV3IENvbmRpdGlvbih1c2VyQWN0aXZpdHkuTW9kZWwpO1xyXG4gICAgICAgICAgICAgICAgY29uZGl0aW9uLlZhbHVlID0gY29tcG9uZW50LmNvbmRpdGlvbjtcclxuICAgICAgICAgICAgICAgIG90ZW50aWFsT3duZXJJbXBsLmNvbmRpdGlvbiA9IGNvbmRpdGlvbjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBvdGVudGlhbE93bmVySW1wbC5vcmRlciA9IGNvbXBvbmVudC5vcmRlcjtcclxuICAgICAgICAgICAgaWYoc2NvcGUpIHtcclxuICAgICAgICAgICAgICAgIGNvbXBvbmVudFBhcnRpY2lwYW50LmFjdGlvblNjb3BlID0gc2NvcGU7XHJcbiAgICAgICAgICAgICAgICB1c2VyQWN0aXZpdHkuZHluYW1pY1BhcnRpY2lwYW50cy5wdXNoKGNvbXBvbmVudFBhcnRpY2lwYW50KTtcclxuICAgICAgICAgICAgfWVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdXNlckFjdGl2aXR5LkFkZFJlc291cmNlUm9sZShvdGVudGlhbE93bmVySW1wbCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHVzZXJBY3Rpdml0eVxyXG4gICAgICogQHBhcmFtIHBhcnRpY2lwYW50XHJcbiAgICAgKiBAcGFyYW0gdHlwZVxyXG4gICAgICovXHJcbiAgICBhZGRSZXBvcnRpbmdMaW5lUGFydGljaXBhbnQodXNlckFjdGl2aXR5OiBVc2VyQWN0aXZpdHksIHBhcnRpY2lwYW50LCB0eXBlOiBzdHJpbmcsIHNjb3BlOiBBY3Rpb25TY29wZSkge1xyXG4gICAgICAgIGxldCByZXBvcnRpbmdMaW5lIDogUmVwb3J0aW5nTGluZVBhcnRpY2lwYW50RXhwcmVzc2lvbjtcclxuICAgICAgICBpZihwYXJ0aWNpcGFudCBpbnN0YW5jZW9mIFJlcG9ydGluZ0xpbmVQYXJ0aWNpcGFudEV4cHJlc3Npb24pIHtcclxuICAgICAgICAgICAgcmVwb3J0aW5nTGluZSA9IHBhcnRpY2lwYW50O1xyXG4gICAgICAgIH1lbHNlIHtcclxuICAgICAgICAgICAgcGFydGljaXBhbnQgPSBwYXJ0aWNpcGFudCBhcyBSZXBvcnRpbmdMaW5lUGFydGljaXBhbnQ7XHJcbiAgICAgICAgICAgIHJlcG9ydGluZ0xpbmUgPSBuZXcgUmVwb3J0aW5nTGluZVBhcnRpY2lwYW50RXhwcmVzc2lvbih1c2VyQWN0aXZpdHkuTW9kZWwpO1xyXG4gICAgICAgICAgICByZXBvcnRpbmdMaW5lLmlkID0gcGFydGljaXBhbnQuaWQ7XHJcbiAgICAgICAgICAgIHJlcG9ydGluZ0xpbmUuYWN0aW9uU2NvcGUgPSBBY3Rpb25TY29wZS5EZWZhdWx0O1xyXG4gICAgICAgICAgICByZXBvcnRpbmdMaW5lLlJlcG9ydGluZ0xpbmVEZWZJZCA9IHBhcnRpY2lwYW50LnJlcG9ydGluZ0xpbmVEZWZJZDtcclxuICAgICAgICAgICAgcmVwb3J0aW5nTGluZS5SZXBvcnRpbmdMaW5lRGVmTmFtZSA9IHBhcnRpY2lwYW50LnJlcG9ydGluZ0xpbmVEZWZOYW1lO1xyXG4gICAgICAgICAgICByZXBvcnRpbmdMaW5lLlJlZk9yZ0lkID0gcGFydGljaXBhbnQucmVmT3JnSWQ7XHJcbiAgICAgICAgICAgIHJlcG9ydGluZ0xpbmUuUmVmVXNlcklkID0gcGFydGljaXBhbnQucmVmVXNlcklkO1xyXG4gICAgICAgICAgICByZXBvcnRpbmdMaW5lLlJlZkVtcGxveWVlSWQgPSBwYXJ0aWNpcGFudC5yZWZFbXBsb3llZUlkO1xyXG4gICAgICAgICAgICByZXBvcnRpbmdMaW5lLm9yZGVyID0gcGFydGljaXBhbnQub3JkZXI7XHJcbiAgICAgICAgICAgIHJlcG9ydGluZ0xpbmUuRGltZW5zaW9uID0gcGFydGljaXBhbnQuZGltZW5zaW9uO1xyXG4gICAgICAgICAgICByZXBvcnRpbmdMaW5lLlRhZyA9IHBhcnRpY2lwYW50LnRhZztcclxuICAgICAgICAgICAgaWYgKHBhcnRpY2lwYW50LmNvbmRpdGlvbikge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgY29uZGl0aW9uID0gbmV3IENvbmRpdGlvbih1c2VyQWN0aXZpdHkuTW9kZWwpO1xyXG4gICAgICAgICAgICAgICAgY29uZGl0aW9uLlZhbHVlID0gcGFydGljaXBhbnQuY29uZGl0aW9uO1xyXG4gICAgICAgICAgICAgICAgcmVwb3J0aW5nTGluZS5jb25kaXRpb24gPSBjb25kaXRpb247XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0eXBlID09PSAnaHVtYW5QZXJmb3JtZXInKSB7XHJcbiAgICAgICAgICAgIGxldCBodW1hblBlcmZvcm1lckltcGwgPSBuZXcgSHVtYW5QZXJmb3JtZXJJbXBsKHVzZXJBY3Rpdml0eS5Nb2RlbCk7XHJcbiAgICAgICAgICAgIGh1bWFuUGVyZm9ybWVySW1wbC5wYXJ0aWNpcGFudEV4cHJlc3Npb24gPSByZXBvcnRpbmdMaW5lO1xyXG4gICAgICAgICAgICBpZiAocGFydGljaXBhbnQuY29uZGl0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBjb25kaXRpb24gPSBuZXcgQ29uZGl0aW9uKHVzZXJBY3Rpdml0eS5Nb2RlbCk7XHJcbiAgICAgICAgICAgICAgICBjb25kaXRpb24uVmFsdWUgPSBwYXJ0aWNpcGFudC5jb25kaXRpb247XHJcbiAgICAgICAgICAgICAgICBodW1hblBlcmZvcm1lckltcGwuY29uZGl0aW9uID0gY29uZGl0aW9uO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGh1bWFuUGVyZm9ybWVySW1wbC5vcmRlciA9IHBhcnRpY2lwYW50Lm9yZGVyO1xyXG4gICAgICAgICAgICB1c2VyQWN0aXZpdHkuQWRkUmVzb3VyY2VSb2xlKGh1bWFuUGVyZm9ybWVySW1wbCk7XHJcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlID09PSAncG90ZW50aWFsT3duZXInKSB7XHJcbiAgICAgICAgICAgIGxldCBvdGVudGlhbE93bmVySW1wbCA9IG5ldyBQb3RlbnRpYWxPd25lckltcGwodXNlckFjdGl2aXR5Lk1vZGVsKTtcclxuICAgICAgICAgICAgb3RlbnRpYWxPd25lckltcGwucGFydGljaXBhbnRFeHByZXNzaW9uID0gcmVwb3J0aW5nTGluZTtcclxuICAgICAgICAgICAgaWYgKHBhcnRpY2lwYW50LmNvbmRpdGlvbikge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgY29uZGl0aW9uID0gbmV3IENvbmRpdGlvbih1c2VyQWN0aXZpdHkuTW9kZWwpO1xyXG4gICAgICAgICAgICAgICAgY29uZGl0aW9uLlZhbHVlID0gcGFydGljaXBhbnQuY29uZGl0aW9uO1xyXG4gICAgICAgICAgICAgICAgb3RlbnRpYWxPd25lckltcGwuY29uZGl0aW9uID0gY29uZGl0aW9uO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIG90ZW50aWFsT3duZXJJbXBsLm9yZGVyID0gcGFydGljaXBhbnQub3JkZXI7XHJcbiAgICAgICAgICAgIGlmKHNjb3BlKSB7XHJcbiAgICAgICAgICAgICAgICByZXBvcnRpbmdMaW5lLmFjdGlvblNjb3BlID0gc2NvcGU7XHJcbiAgICAgICAgICAgICAgICB1c2VyQWN0aXZpdHkuZHluYW1pY1BhcnRpY2lwYW50cy5wdXNoKHJlcG9ydGluZ0xpbmUpO1xyXG4gICAgICAgICAgICB9ZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB1c2VyQWN0aXZpdHkuQWRkUmVzb3VyY2VSb2xlKG90ZW50aWFsT3duZXJJbXBsKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gdXNlckFjdGl2aXR5XHJcbiAgICAgKiBAcGFyYW0gcGFydGljaXBhbnRcclxuICAgICAqIEBwYXJhbSB0eXBlXHJcbiAgICAgKi9cclxuICAgIGFkZEFjdGl2aXR5RXhlY3V0b3JQYXJ0aWNpcGFudCh1c2VyQWN0aXZpdHk6IFVzZXJBY3Rpdml0eSwgcGFydGljaXBhbnQsIHR5cGU6IHN0cmluZywgc2NvcGU6IEFjdGlvblNjb3BlKSB7XHJcbiAgICAgICAgbGV0IGFjdGl2aXR5RXhlY3V0b3IgOiBBY3Rpdml0eUV4ZWN1dG9yUGFydGljaXBhbnRFeHByZXNzaW9uO1xyXG4gICAgICAgIGlmKHBhcnRpY2lwYW50IGluc3RhbmNlb2YgQWN0aXZpdHlFeGVjdXRvclBhcnRpY2lwYW50RXhwcmVzc2lvbikge1xyXG4gICAgICAgICAgICBhY3Rpdml0eUV4ZWN1dG9yID0gcGFydGljaXBhbnQ7XHJcbiAgICAgICAgfWVsc2Uge1xyXG4gICAgICAgICAgICBwYXJ0aWNpcGFudCA9IHBhcnRpY2lwYW50IGFzIEFjdGl2aXR5RXhlY3V0b3JQYXJ0aWNpcGFudDtcclxuICAgICAgICAgICAgYWN0aXZpdHlFeGVjdXRvciA9IG5ldyBBY3Rpdml0eUV4ZWN1dG9yUGFydGljaXBhbnRFeHByZXNzaW9uKHVzZXJBY3Rpdml0eS5Nb2RlbCk7XHJcbiAgICAgICAgICAgIGFjdGl2aXR5RXhlY3V0b3IuaWQgPSBwYXJ0aWNpcGFudC5pZDtcclxuICAgICAgICAgICAgYWN0aXZpdHlFeGVjdXRvci5hY3Rpdml0eURlZklkID0gcGFydGljaXBhbnQuYWN0aXZpdHlEZWZJZDtcclxuICAgICAgICAgICAgYWN0aXZpdHlFeGVjdXRvci5hY3Rpb25TY29wZSA9IEFjdGlvblNjb3BlLkRlZmF1bHQ7XHJcbiAgICAgICAgICAgIGFjdGl2aXR5RXhlY3V0b3Iub3JkZXIgPSBwYXJ0aWNpcGFudC5vcmRlcjtcclxuICAgICAgICAgICAgYWN0aXZpdHlFeGVjdXRvci5hY3Rpdml0eURlZk5hbWUgPSBwYXJ0aWNpcGFudC5hY3Rpdml0eURlZk5hbWU7XHJcbiAgICAgICAgICAgIGlmIChwYXJ0aWNpcGFudC5jb25kaXRpb24pIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGNvbmRpdGlvbiA9IG5ldyBDb25kaXRpb24odXNlckFjdGl2aXR5Lk1vZGVsKTtcclxuICAgICAgICAgICAgICAgIGNvbmRpdGlvbi5WYWx1ZSA9IHBhcnRpY2lwYW50LmNvbmRpdGlvbjtcclxuICAgICAgICAgICAgICAgIGFjdGl2aXR5RXhlY3V0b3IuY29uZGl0aW9uID0gY29uZGl0aW9uO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodHlwZSA9PT0gJ2h1bWFuUGVyZm9ybWVyJykge1xyXG4gICAgICAgICAgICBsZXQgaHVtYW5QZXJmb3JtZXJJbXBsID0gbmV3IEh1bWFuUGVyZm9ybWVySW1wbCh1c2VyQWN0aXZpdHkuTW9kZWwpO1xyXG4gICAgICAgICAgICBodW1hblBlcmZvcm1lckltcGwucGFydGljaXBhbnRFeHByZXNzaW9uID0gYWN0aXZpdHlFeGVjdXRvcjtcclxuICAgICAgICAgICAgaWYgKHBhcnRpY2lwYW50LmNvbmRpdGlvbikge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgY29uZGl0aW9uID0gbmV3IENvbmRpdGlvbih1c2VyQWN0aXZpdHkuTW9kZWwpO1xyXG4gICAgICAgICAgICAgICAgY29uZGl0aW9uLlZhbHVlID0gcGFydGljaXBhbnQuY29uZGl0aW9uO1xyXG4gICAgICAgICAgICAgICAgaHVtYW5QZXJmb3JtZXJJbXBsLmNvbmRpdGlvbiA9IGNvbmRpdGlvbjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBodW1hblBlcmZvcm1lckltcGwub3JkZXIgPSBwYXJ0aWNpcGFudC5vcmRlcjtcclxuICAgICAgICAgICAgdXNlckFjdGl2aXR5LkFkZFJlc291cmNlUm9sZShodW1hblBlcmZvcm1lckltcGwpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ3BvdGVudGlhbE93bmVyJykge1xyXG4gICAgICAgICAgICBsZXQgb3RlbnRpYWxPd25lckltcGwgPSBuZXcgUG90ZW50aWFsT3duZXJJbXBsKHVzZXJBY3Rpdml0eS5Nb2RlbCk7XHJcbiAgICAgICAgICAgIG90ZW50aWFsT3duZXJJbXBsLnBhcnRpY2lwYW50RXhwcmVzc2lvbiA9IGFjdGl2aXR5RXhlY3V0b3I7XHJcbiAgICAgICAgICAgIGlmIChwYXJ0aWNpcGFudC5jb25kaXRpb24pIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGNvbmRpdGlvbiA9IG5ldyBDb25kaXRpb24odXNlckFjdGl2aXR5Lk1vZGVsKTtcclxuICAgICAgICAgICAgICAgIGNvbmRpdGlvbi5WYWx1ZSA9IHBhcnRpY2lwYW50LmNvbmRpdGlvbjtcclxuICAgICAgICAgICAgICAgIG90ZW50aWFsT3duZXJJbXBsLmNvbmRpdGlvbiA9IGNvbmRpdGlvbjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBvdGVudGlhbE93bmVySW1wbC5vcmRlciA9IHBhcnRpY2lwYW50Lm9yZGVyO1xyXG4gICAgICAgICAgICBpZihzY29wZSkge1xyXG4gICAgICAgICAgICAgICAgYWN0aXZpdHlFeGVjdXRvci5hY3Rpb25TY29wZSA9IHNjb3BlO1xyXG4gICAgICAgICAgICAgICAgdXNlckFjdGl2aXR5LmR5bmFtaWNQYXJ0aWNpcGFudHMucHVzaChhY3Rpdml0eUV4ZWN1dG9yKTtcclxuICAgICAgICAgICAgfWVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdXNlckFjdGl2aXR5LkFkZFJlc291cmNlUm9sZShvdGVudGlhbE93bmVySW1wbCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHVzZXJBY3Rpdml0eVxyXG4gICAgICogQHBhcmFtIHBhcnRpY2lwYW50XHJcbiAgICAgKiBAcGFyYW0gdHlwZVxyXG4gICAgICovXHJcbiAgICBhZGRNYXRyaXhQYXJ0aWNpcGFudCh1c2VyQWN0aXZpdHk6IFVzZXJBY3Rpdml0eSwgcGFydGljaXBhbnQsIHR5cGU6IHN0cmluZywgc2NvcGU6IEFjdGlvblNjb3BlKSB7XHJcbiAgICAgICAgbGV0IG1hdHJpeCA6IE1hdHJpeFBhcnRpY2lwYW50RXhwcmVzc2lvbjtcclxuICAgICAgICBtYXRyaXggPSBuZXcgTWF0cml4UGFydGljaXBhbnRFeHByZXNzaW9uKHVzZXJBY3Rpdml0eS5Nb2RlbCk7XHJcbiAgICAgICAgaWYocGFydGljaXBhbnQgaW5zdGFuY2VvZiBNYXRyaXhQYXJ0aWNpcGFudEV4cHJlc3Npb24pIHtcclxuICAgICAgICAgICAgbWF0cml4ID0gcGFydGljaXBhbnQ7XHJcbiAgICAgICAgfWVsc2Uge1xyXG4gICAgICAgICAgICBwYXJ0aWNpcGFudCA9IHBhcnRpY2lwYW50IGFzIE1hdHJpeFBhcnRpY2lwYW50O1xyXG4gICAgICAgICAgICBtYXRyaXggPSBuZXcgTWF0cml4UGFydGljaXBhbnRFeHByZXNzaW9uKHVzZXJBY3Rpdml0eS5Nb2RlbCk7XHJcbiAgICAgICAgICAgIG1hdHJpeC5vcmRlciA9IHBhcnRpY2lwYW50Lm9yZGVyO1xyXG4gICAgICAgICAgICBtYXRyaXguaWQgPSBwYXJ0aWNpcGFudC5pZDtcclxuICAgICAgICAgICAgbWF0cml4LmFjdGlvblNjb3BlID0gQWN0aW9uU2NvcGUuRGVmYXVsdDtcclxuICAgICAgICAgICAgbWF0cml4Lm1hdHJpeERlZklkID0gcGFydGljaXBhbnQubWF0cml4RGVmSWQ7XHJcbiAgICAgICAgICAgIG1hdHJpeC5tYXRyaXhEZWZOYW1lID0gcGFydGljaXBhbnQubWF0cml4RGVmTmFtZTtcclxuICAgICAgICAgICAgbWF0cml4LmNvbmRpdGlvbkZpZWxkMSA9IHBhcnRpY2lwYW50LmNvbmRpdGlvbkZpZWxkMTtcclxuICAgICAgICAgICAgbWF0cml4LmNvbmRpdGlvbkZpZWxkVGV4dDEgPSBwYXJ0aWNpcGFudC5jb25kaXRpb25GaWVsZFRleHQxO1xyXG4gICAgICAgICAgICBtYXRyaXguY29uZGl0aW9uRmllbGQyID0gcGFydGljaXBhbnQuY29uZGl0aW9uRmllbGQyO1xyXG4gICAgICAgICAgICBtYXRyaXguY29uZGl0aW9uRmllbGRUZXh0MiA9IHBhcnRpY2lwYW50LmNvbmRpdGlvbkZpZWxkVGV4dDI7XHJcbiAgICAgICAgICAgIG1hdHJpeC5jb25kaXRpb25GaWVsZDMgPSBwYXJ0aWNpcGFudC5jb25kaXRpb25GaWVsZDM7XHJcbiAgICAgICAgICAgIG1hdHJpeC5jb25kaXRpb25GaWVsZFRleHQzID0gcGFydGljaXBhbnQuY29uZGl0aW9uRmllbGRUZXh0MztcclxuICAgICAgICAgICAgbWF0cml4Lm11bHRpdmFsdWVkQ29uZGl0aW9uID0gcGFydGljaXBhbnQubXVsdGl2YWx1ZWRDb25kaXRpb247XHJcbiAgICAgICAgICAgIG1hdHJpeC5kYXRhRmllbGRBbGlhcyA9IHBhcnRpY2lwYW50LmRhdGFGaWVsZEFsaWFzO1xyXG4gICAgICAgICAgICBpZiAocGFydGljaXBhbnQuY29uZGl0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBjb25kaXRpb24gPSBuZXcgQ29uZGl0aW9uKHVzZXJBY3Rpdml0eS5Nb2RlbCk7XHJcbiAgICAgICAgICAgICAgICBjb25kaXRpb24uVmFsdWUgPSBwYXJ0aWNpcGFudC5jb25kaXRpb247XHJcbiAgICAgICAgICAgICAgICBtYXRyaXguY29uZGl0aW9uID0gY29uZGl0aW9uO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodHlwZSA9PT0gJ2h1bWFuUGVyZm9ybWVyJykge1xyXG4gICAgICAgICAgICBsZXQgaHVtYW5QZXJmb3JtZXJJbXBsID0gbmV3IEh1bWFuUGVyZm9ybWVySW1wbCh1c2VyQWN0aXZpdHkuTW9kZWwpO1xyXG4gICAgICAgICAgICBodW1hblBlcmZvcm1lckltcGwucGFydGljaXBhbnRFeHByZXNzaW9uID0gbWF0cml4O1xyXG4gICAgICAgICAgICBpZiAocGFydGljaXBhbnQuY29uZGl0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBjb25kaXRpb24gPSBuZXcgQ29uZGl0aW9uKHVzZXJBY3Rpdml0eS5Nb2RlbCk7XHJcbiAgICAgICAgICAgICAgICBjb25kaXRpb24uVmFsdWUgPSBwYXJ0aWNpcGFudC5jb25kaXRpb247XHJcbiAgICAgICAgICAgICAgICBodW1hblBlcmZvcm1lckltcGwuY29uZGl0aW9uID0gY29uZGl0aW9uO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGh1bWFuUGVyZm9ybWVySW1wbC5vcmRlciA9IHBhcnRpY2lwYW50Lm9yZGVyO1xyXG4gICAgICAgICAgICB1c2VyQWN0aXZpdHkuQWRkUmVzb3VyY2VSb2xlKGh1bWFuUGVyZm9ybWVySW1wbCk7XHJcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlID09PSAncG90ZW50aWFsT3duZXInKSB7XHJcbiAgICAgICAgICAgIGxldCBvdGVudGlhbE93bmVySW1wbCA9IG5ldyBQb3RlbnRpYWxPd25lckltcGwodXNlckFjdGl2aXR5Lk1vZGVsKTtcclxuICAgICAgICAgICAgb3RlbnRpYWxPd25lckltcGwucGFydGljaXBhbnRFeHByZXNzaW9uID0gbWF0cml4O1xyXG4gICAgICAgICAgICBpZiAocGFydGljaXBhbnQuY29uZGl0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBjb25kaXRpb24gPSBuZXcgQ29uZGl0aW9uKHVzZXJBY3Rpdml0eS5Nb2RlbCk7XHJcbiAgICAgICAgICAgICAgICBjb25kaXRpb24uVmFsdWUgPSBwYXJ0aWNpcGFudC5jb25kaXRpb247XHJcbiAgICAgICAgICAgICAgICBvdGVudGlhbE93bmVySW1wbC5jb25kaXRpb24gPSBjb25kaXRpb247XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgb3RlbnRpYWxPd25lckltcGwub3JkZXIgPSBwYXJ0aWNpcGFudC5vcmRlcjtcclxuICAgICAgICAgICAgaWYoc2NvcGUpIHtcclxuICAgICAgICAgICAgICAgIG1hdHJpeC5hY3Rpb25TY29wZSA9IHNjb3BlO1xyXG4gICAgICAgICAgICAgICAgdXNlckFjdGl2aXR5LmR5bmFtaWNQYXJ0aWNpcGFudHMucHVzaChtYXRyaXgpO1xyXG4gICAgICAgICAgICB9ZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB1c2VyQWN0aXZpdHkuQWRkUmVzb3VyY2VSb2xlKG90ZW50aWFsT3duZXJJbXBsKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gdXNlckFjdGl2aXR5XHJcbiAgICAgKiBAcGFyYW0gcGFydGljaXBhbnRcclxuICAgICAqIEBwYXJhbSB0eXBlXHJcbiAgICAgKi9cclxuICAgIGFkZE9yZ2FuaXphdGlvblBhcnRpY2lwYW50KHVzZXJBY3Rpdml0eTogVXNlckFjdGl2aXR5LCBwYXJ0aWNpcGFudCwgdHlwZTogc3RyaW5nLCBzY29wZTogQWN0aW9uU2NvcGUpIHtcclxuICAgICAgICBsZXQgcG90ZW50aWFsIDogT3JnYW5pemF0aW9uUGFydGljaXBhbnRFeHByZXNzaW9uO1xyXG4gICAgICAgIGlmKHBhcnRpY2lwYW50IGluc3RhbmNlb2YgT3JnYW5pemF0aW9uUGFydGljaXBhbnRFeHByZXNzaW9uKSB7XHJcbiAgICAgICAgICAgIHBvdGVudGlhbCA9IHBhcnRpY2lwYW50O1xyXG4gICAgICAgIH1lbHNlIHtcclxuICAgICAgICAgICAgcGFydGljaXBhbnQgPSBwYXJ0aWNpcGFudCBhcyBPcmdhbml6YXRpb25QYXJ0aWNpcGFudDtcclxuICAgICAgICAgICAgcG90ZW50aWFsID0gbmV3IE9yZ2FuaXphdGlvblBhcnRpY2lwYW50RXhwcmVzc2lvbih1c2VyQWN0aXZpdHkuTW9kZWwpO1xyXG4gICAgICAgICAgICBwb3RlbnRpYWwuaWQgPSBwYXJ0aWNpcGFudC5pZDtcclxuICAgICAgICAgICAgcG90ZW50aWFsLm9yZGVyID0gcGFydGljaXBhbnQub3JkZXI7XHJcbiAgICAgICAgICAgIHBvdGVudGlhbC5hY3Rpb25TY29wZSA9IEFjdGlvblNjb3BlLkFzc2lnblVzZXI7XHJcbiAgICAgICAgICAgIC8vIHBvdGVudGlhbC5vcmdhbml6YXRpb25MZXZlbCA9IHBhcnRpY2lwYW50Lm9yZ2FuaXphdGlvbkxldmVsO1xyXG4gICAgICAgICAgICBpZihwYXJ0aWNpcGFudC5vcmdhbml6YXRpb25MZXZlbCA9PT0gJ0RFUEFSVE1FTlQnKSB7XHJcbiAgICAgICAgICAgICAgICBwb3RlbnRpYWwub3JnYW5pemF0aW9uTGV2ZWwgPSBPcmdhbml6YXRpb25MZXZlbC5ERVBBUlRNRU5UO1xyXG4gICAgICAgICAgICB9ZWxzZSBpZihwYXJ0aWNpcGFudC5vcmdhbml6YXRpb25MZXZlbCA9PT0gJ1VOSVQnKSB7XHJcbiAgICAgICAgICAgICAgICBwb3RlbnRpYWwub3JnYW5pemF0aW9uTGV2ZWwgPSBPcmdhbml6YXRpb25MZXZlbC5VTklUO1xyXG4gICAgICAgICAgICB9ZWxzZSBpZihwYXJ0aWNpcGFudC5vcmdhbml6YXRpb25MZXZlbCA9PT0gJ0RFRkFVTFQnKXtcclxuICAgICAgICAgICAgICAgIHBvdGVudGlhbC5vcmdhbml6YXRpb25MZXZlbCA9IE9yZ2FuaXphdGlvbkxldmVsLkRFRkFVTFQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcG90ZW50aWFsLm9yZ2FuaXphdGlvbklkID0gcGFydGljaXBhbnQub3JnYW5pemF0aW9uSWQ7XHJcbiAgICAgICAgICAgIHBvdGVudGlhbC5vcmdhbml6YXRpb25OYW1lID0gcGFydGljaXBhbnQub3JnYW5pemF0aW9uTmFtZTtcclxuICAgICAgICAgICAgcG90ZW50aWFsLmluY2x1ZGVDaGlsZHJlbiA9IHBhcnRpY2lwYW50LmluY2x1ZGVDaGlsZHJlbjtcclxuICAgICAgICAgICAgcG90ZW50aWFsLnRhZyA9IHBhcnRpY2lwYW50LnRhZztcclxuXHJcbiAgICAgICAgICAgIGlmIChwYXJ0aWNpcGFudC5jb25kaXRpb24pIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGNvbmRpdGlvbiA9IG5ldyBDb25kaXRpb24odXNlckFjdGl2aXR5Lk1vZGVsKTtcclxuICAgICAgICAgICAgICAgIGNvbmRpdGlvbi5WYWx1ZSA9IHBhcnRpY2lwYW50LmNvbmRpdGlvbjtcclxuICAgICAgICAgICAgICAgIHBvdGVudGlhbC5jb25kaXRpb24gPSBjb25kaXRpb247XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0eXBlID09PSAnaHVtYW5QZXJmb3JtZXInKSB7XHJcbiAgICAgICAgICAgIGxldCBodW1hblBlcmZvcm1lckltcGwgPSBuZXcgSHVtYW5QZXJmb3JtZXJJbXBsKHVzZXJBY3Rpdml0eS5Nb2RlbCk7XHJcbiAgICAgICAgICAgIGh1bWFuUGVyZm9ybWVySW1wbC5wYXJ0aWNpcGFudEV4cHJlc3Npb24gPSBwb3RlbnRpYWw7XHJcbiAgICAgICAgICAgIGlmIChwYXJ0aWNpcGFudC5jb25kaXRpb24pIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGNvbmRpdGlvbiA9IG5ldyBDb25kaXRpb24odXNlckFjdGl2aXR5Lk1vZGVsKTtcclxuICAgICAgICAgICAgICAgIGNvbmRpdGlvbi5WYWx1ZSA9IHBhcnRpY2lwYW50LmNvbmRpdGlvbjtcclxuICAgICAgICAgICAgICAgIGh1bWFuUGVyZm9ybWVySW1wbC5jb25kaXRpb24gPSBjb25kaXRpb247XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaHVtYW5QZXJmb3JtZXJJbXBsLm9yZGVyID0gcGFydGljaXBhbnQub3JkZXI7XHJcbiAgICAgICAgICAgIHVzZXJBY3Rpdml0eS5BZGRSZXNvdXJjZVJvbGUoaHVtYW5QZXJmb3JtZXJJbXBsKTtcclxuICAgICAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdwb3RlbnRpYWxPd25lcicpIHtcclxuICAgICAgICAgICAgbGV0IG90ZW50aWFsT3duZXJJbXBsID0gbmV3IFBvdGVudGlhbE93bmVySW1wbCh1c2VyQWN0aXZpdHkuTW9kZWwpO1xyXG4gICAgICAgICAgICBvdGVudGlhbE93bmVySW1wbC5wYXJ0aWNpcGFudEV4cHJlc3Npb24gPSBwb3RlbnRpYWw7XHJcbiAgICAgICAgICAgIGlmIChwYXJ0aWNpcGFudC5jb25kaXRpb24pIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGNvbmRpdGlvbiA9IG5ldyBDb25kaXRpb24odXNlckFjdGl2aXR5Lk1vZGVsKTtcclxuICAgICAgICAgICAgICAgIGNvbmRpdGlvbi5WYWx1ZSA9IHBhcnRpY2lwYW50LmNvbmRpdGlvbjtcclxuICAgICAgICAgICAgICAgIG90ZW50aWFsT3duZXJJbXBsLmNvbmRpdGlvbiA9IGNvbmRpdGlvbjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBvdGVudGlhbE93bmVySW1wbC5vcmRlciA9IHBhcnRpY2lwYW50Lm9yZGVyO1xyXG4gICAgICAgICAgICBpZihzY29wZSkge1xyXG4gICAgICAgICAgICAgICAgcG90ZW50aWFsLmFjdGlvblNjb3BlID0gc2NvcGU7XHJcbiAgICAgICAgICAgICAgICB1c2VyQWN0aXZpdHkuZHluYW1pY1BhcnRpY2lwYW50cy5wdXNoKHBvdGVudGlhbCk7XHJcbiAgICAgICAgICAgIH1lbHNlIHtcclxuICAgICAgICAgICAgICAgIHVzZXJBY3Rpdml0eS5BZGRSZXNvdXJjZVJvbGUob3RlbnRpYWxPd25lckltcGwpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5L+u5pS55Y+C5LiO6ICF6YCJ6aG5XHJcbiAgICAgKiBAcGFyYW0gdXNlckFjdGl2aXR5XHJcbiAgICAgKiBAcGFyYW0gb2JqXHJcbiAgICAgKi9cclxuICAgIHVwZGF0ZVBhcnRpY2lwYW50T3B0aW9ucyh1c2VyQWN0aXZpdHk6IFVzZXJBY3Rpdml0eSwgb2JqOiBhbnkpIHtcclxuICAgICAgICBjb25zdCBvcHRpb25zID0gb2JqLnByb3BlcnR5VmFsdWU7XHJcbiAgICAgICAgaWYgKHVzZXJBY3Rpdml0eS5QYXJ0aWNpcGFudFNldHRpbmcgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICB1c2VyQWN0aXZpdHkuUGFydGljaXBhbnRTZXR0aW5nLkV4Y2x1c2lvblBlcmZvcm1lcnMgPSBvcHRpb25zLkV4Y2x1c2lvblBlcmZvcm1lcnM7XHJcbiAgICAgICAgICAgIHVzZXJBY3Rpdml0eS5QYXJ0aWNpcGFudFNldHRpbmcuTm9QZXJmb3JtZXJTdHJhdGVneSA9IG9wdGlvbnMuTm9QZXJmb3JtZXJTdHJhdGVneTtcclxuICAgICAgICAgICAgdXNlckFjdGl2aXR5LlBhcnRpY2lwYW50U2V0dGluZy5IaXN0b3JpY0ZpcnN0ID0gb3B0aW9ucy5IaXN0b3JpY0ZpcnN0O1xyXG4gICAgICAgICAgICB1c2VyQWN0aXZpdHkuUGFydGljaXBhbnRTZXR0aW5nLmF1dG9tYXRpY1BlcmZvcm1lcnMgPSBvcHRpb25zLmF1dG9tYXRpY1BlcmZvcm1lcnM7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgbGV0IHBhcnRpY2lwYW50U2V0dGluZyA9IG5ldyBQYXJ0aWNpcGFudFNldHRpbmcodXNlckFjdGl2aXR5Lk1vZGVsKTtcclxuICAgICAgICAgICAgcGFydGljaXBhbnRTZXR0aW5nLkV4Y2x1c2lvblBlcmZvcm1lcnMgPSBvcHRpb25zLkV4Y2x1c2lvblBlcmZvcm1lcnM7XHJcbiAgICAgICAgICAgIHBhcnRpY2lwYW50U2V0dGluZy5Ob1BlcmZvcm1lclN0cmF0ZWd5ID0gb3B0aW9ucy5Ob1BlcmZvcm1lclN0cmF0ZWd5O1xyXG4gICAgICAgICAgICBwYXJ0aWNpcGFudFNldHRpbmcuSGlzdG9yaWNGaXJzdCA9IG9wdGlvbnMuSGlzdG9yaWNGaXJzdDtcclxuICAgICAgICAgICAgcGFydGljaXBhbnRTZXR0aW5nLmF1dG9tYXRpY1BlcmZvcm1lcnMgPSBvcHRpb25zLmF1dG9tYXRpY1BlcmZvcm1lcnM7XHJcbiAgICAgICAgICAgIHVzZXJBY3Rpdml0eS5QYXJ0aWNpcGFudFNldHRpbmcgPSBwYXJ0aWNpcGFudFNldHRpbmc7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5L+u5pS55a6M5oiQ562W55Wl5bGe5oCnXHJcbiAgICAgKiBAcGFyYW0gZ3JhcGhcclxuICAgICAqIEBwYXJhbSB1c2VyQWN0aXZpdHlcclxuICAgICAqIEBwYXJhbSBvYmpcclxuICAgICAqIEBwYXJhbSBpc09wZXJhdGlvblxyXG4gICAgICovXHJcbiAgICByZXNldEV4ZWN1dGVXb3JrSXRlbU1vZGUodXNlckFjdGl2aXR5OiBVc2VyQWN0aXZpdHksIG9iajogYW55LCBpc09wZXJhdGlvbiA9IGZhbHNlKSB7XHJcbiAgICAgICAgaWYgKHVzZXJBY3Rpdml0eSkge1xyXG4gICAgICAgICAgICB1c2VyQWN0aXZpdHkuRXhlY3V0ZVdvcmtJdGVtTW9kZSA9IG9iai5wcm9wZXJ0eVZhbHVlO1xyXG4gICAgICAgICAgICAvL+aKouWNoOaooeW8j+S4i+a4heepuuS8muetvuinhOWImVxyXG4gICAgICAgICAgICBpZiAodXNlckFjdGl2aXR5LkV4ZWN1dGVXb3JrSXRlbU1vZGUgPT09IEV4ZWN1dGVXb3JrSXRlbU1vZGUuUHJlZW1wdCkge1xyXG4gICAgICAgICAgICAgICAgdXNlckFjdGl2aXR5LkNvdW50ZXJTaWduUnVsZXMgPSBudWxsO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIOS8muetvuinhOWImeS4jeWtmOWcqOaXtu+8jOWNs+eUseaKouWNoOWPmOS4uuS8muetvuaXtu+8jOWIneWni+WMluS8muetvuinhOWImVxyXG4gICAgICAgICAgICAgICAgLy8g5bm26KGM5Lya562+5ZKM5Liy6KGM5Lya562+5LmL6Ze05YiH5o2i5pe277yM5LiN5Yi35paw5Lya562+6KeE5YiZXHJcbiAgICAgICAgICAgICAgICBpZiAoIXVzZXJBY3Rpdml0eS5Db3VudGVyU2lnblJ1bGVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdXNlckFjdGl2aXR5LkNvdW50ZXJTaWduUnVsZXMgPSBuZXcgQXJyYXk8Q291bnRlclNpZ25SdWxlPigpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy/kvJrnrb7nrZbnlaXml7Ys5LiN5YWB6K646Lez6L2s77yb5LiU6amz5Zue6KeE5YiZ5LiN5YWB6K645Yqo5oCB6YCJ5oup6amz5Zue57qn5qyhKOmps+WbnuinhOWImeebruWJjemcgOimgeWcqOa1geeoi+iuvuiuoeWZqOiwg+aVtClcclxuICAgICAgICAgICAgICAgIHVzZXJBY3Rpdml0eS5TZWxlY3RUYXJnZXRBYmxlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB1c2VyQWN0aXZpdHkuSnVtcFNjb3BlID0gbnVsbDtcclxuICAgICAgICAgICAgICAgIC8vIOWIh+aNouS8muetvuetlueVpeaXtu+8jOWIhumFjeetlueVpeS4jeiDveaYr+mihueUqCzoh6rliqjliIfmjaLkuLrmiYDmnIlcclxuICAgICAgICAgICAgICAgIC8vIDIwMjMtMi05IOS/ruWkje+8mueUseS6juaWsOWinuS6huWkh+mAieWKnueQhuS6uu+8jOebtOaOpeaMh+a0vuWvvOiHtOWIh+aNouaXtuaXtuWkh+mAieWKnueQhuS6uuS4ouWkse+8jOS/ruaUueS4uuWPquacieaYr+mihueUqOaJjeWIh+WIsOaMh+aJgOaciVxyXG4gICAgICAgICAgICAgICAgaWYgKHVzZXJBY3Rpdml0eS5Bc3NpZ25tZW50U3RyYXRlZ3kgPT09IEFzc2lnbm1lbnRTdHJhdGVneS5DTEFJTSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHVzZXJBY3Rpdml0eS5Bc3NpZ25tZW50U3RyYXRlZ3kgPSBBc3NpZ25tZW50U3RyYXRlZ3kuQUxMO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJlc2V0RGlzcGxheVRlcm1pbmFsKHVzZXJBY3Rpdml0eTogVXNlckFjdGl2aXR5LCBvYmo6IGFueSwgaXNPcGVyYXRpb24gPSBmYWxzZSkge1xyXG4gICAgICAgIGlmICh1c2VyQWN0aXZpdHkpIHtcclxuICAgICAgICAgICAgdXNlckFjdGl2aXR5LkRpc3BsYXlUZXJtaW5hbCA9IG9iai5wcm9wZXJ0eVZhbHVlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOabtOaWsOS8muetvuinhOWImeWxnuaAp1xyXG4gICAgICogQHBhcmFtIGdyYXBoXHJcbiAgICAgKiBAcGFyYW0gdXNlckFjdGl2aXR5XHJcbiAgICAgKiBAcGFyYW0gb2JqXHJcbiAgICAgKiBAcGFyYW0gaXNPcGVyYXRpb25cclxuICAgICAqL1xyXG4gICAgcmVzZXRTaWduUnVsZXModXNlckFjdGl2aXR5OiBVc2VyQWN0aXZpdHksIG9iajogYW55LCBpc09wZXJhdGlvbiA9IGZhbHNlKSB7XHJcbiAgICAgICAgaWYgKHVzZXJBY3Rpdml0eSkge1xyXG4gICAgICAgICAgICBsZXQgcnVsZXMgPSBvYmoucHJvcGVydHlWYWx1ZSBhcyBhbnlbXTtcclxuICAgICAgICAgICAgdXNlckFjdGl2aXR5LkNvdW50ZXJTaWduUnVsZXMgPSBudWxsO1xyXG4gICAgICAgICAgICBpZiAocnVsZXMgJiYgcnVsZXMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgdXNlckFjdGl2aXR5LkNvdW50ZXJTaWduUnVsZXMgPSBuZXcgQXJyYXk8Q291bnRlclNpZ25SdWxlPigpO1xyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgcnVsZSBvZiBydWxlcykge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBjb3VudGVyU2lnblJ1bGUgPSBuZXcgQ291bnRlclNpZ25SdWxlKHVzZXJBY3Rpdml0eS5Nb2RlbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGNvbmRpdGlvbiA9IG5ldyBDb25kaXRpb24odXNlckFjdGl2aXR5Lk1vZGVsKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25kaXRpb24uVmFsdWUgPSBydWxlLmNvbXBsZXRpb25Db25kaXRpb247XHJcbiAgICAgICAgICAgICAgICAgICAgY291bnRlclNpZ25SdWxlLkNvbmNsdXNpb25WYWx1ZSA9IHJ1bGUuY29uY2x1c2lvblZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvdW50ZXJTaWduUnVsZS5DYWxjdWxhdGVUeXBlID0gcnVsZS5jYWxjdWxhdGVUeXBlO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvdW50ZXJTaWduUnVsZS5Db25kaXRpb25WYWx1ZSA9IHJ1bGUuY29uZGl0aW9uVmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgY291bnRlclNpZ25SdWxlLldhaXRBbGxWb3RlcyA9IHJ1bGUud2FpdEFsbFZvdGVzO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvdW50ZXJTaWduUnVsZS5Db21wbGV0aW9uQ29uZGl0aW9uID0gY29uZGl0aW9uO1xyXG4gICAgICAgICAgICAgICAgICAgIHVzZXJBY3Rpdml0eS5Db3VudGVyU2lnblJ1bGVzLnB1c2goY291bnRlclNpZ25SdWxlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOabtOaWsOiHquWumuS5iemhueWxnuaAp1xyXG4gICAgICogQHBhcmFtIGdyYXBoXHJcbiAgICAgKiBAcGFyYW0gdXNlckFjdGl2aXR5XHJcbiAgICAgKiBAcGFyYW0gb2JqXHJcbiAgICAgKiBAcGFyYW0gaXNPcGVyYXRpb25cclxuICAgICAqL1xyXG4gICAgcmVzZXRBcHByb3ZhbEl0ZW1zKHVzZXJBY3Rpdml0eTogVXNlckFjdGl2aXR5LCBvYmo6IGFueSwgaXNPcGVyYXRpb24gPSBmYWxzZSkge1xyXG4gICAgICAgIGlmICh1c2VyQWN0aXZpdHkpIHtcclxuICAgICAgICAgICAgbGV0IGNvbmNsdXNpb25zID0gb2JqLnByb3BlcnR5VmFsdWUgYXMgYW55W107XHJcbiAgICAgICAgICAgIHVzZXJBY3Rpdml0eS5Db25jbHVzaW9ucyA9IG5ldyBBcnJheTxDb25jbHVzaW9uSXRlbT4oKTtcclxuICAgICAgICAgICAgZm9yIChsZXQgY29uY2x1c2lvbiBvZiBjb25jbHVzaW9ucykge1xyXG4gICAgICAgICAgICAgICAgbGV0IGl0ZW0gPSBuZXcgQ29uY2x1c2lvbkl0ZW0odXNlckFjdGl2aXR5Lk1vZGVsKTtcclxuICAgICAgICAgICAgICAgIGl0ZW0uVmFsdWUgPSBjb25jbHVzaW9uLnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgaXRlbS5UZXh0ID0gY29uY2x1c2lvbi50ZXh0O1xyXG4gICAgICAgICAgICAgICAgaXRlbS5Xb3JrRmxvd0FjdGlvbiA9IGNvbmNsdXNpb24ud29ya0Zsb3dBY3Rpb247XHJcbiAgICAgICAgICAgICAgICBpdGVtLklzRGVmYXVsdCA9IGNvbmNsdXNpb24uaXNEZWZhdWx0O1xyXG4gICAgICAgICAgICAgICAgaXRlbS5jb21tZW50TmVjZXNzYXJ5ID0gY29uY2x1c2lvbi5jb21tZW50TmVjZXNzYXJ5O1xyXG4gICAgICAgICAgICAgICAgaXRlbS5jZXJ0aWZpY2F0aW9uID0gY29uY2x1c2lvbi5jZXJ0aWZpY2F0aW9uO1xyXG4gICAgICAgICAgICAgICAgaXRlbS5hdHRhY2htZW50TmVjZXNzYXJ5ID0gY29uY2x1c2lvbi5hdHRhY2htZW50TmVjZXNzYXJ5O1xyXG4gICAgICAgICAgICAgICAgaXRlbS5zaWduYXR1cmVOZWNlc3NhcnkgPSBjb25jbHVzaW9uLnNpZ25hdHVyZU5lY2Vzc2FyeTtcclxuICAgICAgICAgICAgICAgIGl0ZW0uZGVmYXVsdENvbW1lbnQgPSBjb25jbHVzaW9uLmRlZmF1bHRDb21tZW50O1xyXG4gICAgICAgICAgICAgICAgdXNlckFjdGl2aXR5LkNvbmNsdXNpb25zLnB1c2goaXRlbSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgLy8g5Yik5pat5a6h5om56aG55piv5ZCm5YyF5ZCr6amz5Zue77yf5LiN5YyF5ZCr5pe277yM6amz5Zue6KeE5YiZ5riF56m6XHJcbiAgICAgICAgaWYgKCF0aGlzLmlzQmFja0NvbmNsdXNpb25FeGlzdCh1c2VyQWN0aXZpdHkuQ29uY2x1c2lvbnMpKSB7XHJcbiAgICAgICAgICAgIHVzZXJBY3Rpdml0eS5CYWNrV2FyZFJ1bGUgPSBudWxsO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoIXVzZXJBY3Rpdml0eS5CYWNrV2FyZFJ1bGUpIHtcclxuICAgICAgICAgICAgdXNlckFjdGl2aXR5LkJhY2tXYXJkUnVsZSA9IG5ldyBCYWNrV2FyZFJ1bGUodXNlckFjdGl2aXR5Lk1vZGVsKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDmm7TmlrDlrqHmibnmtLvliqjooajljZXlrprkuYnlsZ7mgKdcclxuICAgICAqIEBwYXJhbSB1c2VyQWN0aXZpdHlcclxuICAgICAqIEBwYXJhbSBvYmpcclxuICAgICAqIEBwYXJhbSB0ZXJtaW5hbFxyXG4gICAgICovXHJcbiAgICByZXNldEV4ZWN1dGVGb3JtKHVzZXJBY3Rpdml0eTogVXNlckFjdGl2aXR5LCBvYmo6IGFueSwgdGVybWluYWw6IHN0cmluZykge1xyXG4gICAgICAgIGlmICh1c2VyQWN0aXZpdHkpIHtcclxuICAgICAgICAgICAgbGV0IGZvcm0gPSBvYmoucHJvcGVydHlWYWx1ZSBhcyBhbnk7XHJcbiAgICAgICAgICAgIGlmICghdXNlckFjdGl2aXR5LkV4ZWN1dGVGb3Jtcykge1xyXG4gICAgICAgICAgICAgICAgdXNlckFjdGl2aXR5LkV4ZWN1dGVGb3JtcyA9IG5ldyBBcnJheTxFeGVjdXRlRm9ybT4oKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB1c2VyQWN0aXZpdHkuRXhlY3V0ZUZvcm1zID0gdXNlckFjdGl2aXR5LkV4ZWN1dGVGb3Jtcy5maWx0ZXIoZSA9PiBlLlRlcm1pbmFsVHlwZSAhPT0gdGVybWluYWwpO1xyXG4gICAgICAgICAgICBpZiAoZm9ybSkge1xyXG4gICAgICAgICAgICAgICAgbGV0IHBhcmFtcyA9IGZvcm0uQWN0dWFsUGFyYW1ldGVycyBhcyBhbnlbXTtcclxuICAgICAgICAgICAgICAgIGxldCBhY3RQYXJhcyA9IG5ldyBBcnJheTxBY3R1YWxQYXJhbWV0ZXI+KCk7XHJcbiAgICAgICAgICAgICAgICBpZiAocGFyYW1zICYmIHBhcmFtcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgcGFyYSBvZiBwYXJhbXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGFjdFBhcmEgPSBuZXcgQWN0dWFsUGFyYW1ldGVyKHVzZXJBY3Rpdml0eS5Nb2RlbCwgcGFyYS5OYW1lLCBwYXJhLlZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBhcmEuVGFnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3RQYXJhLlRhZyA9IHBhcmEuVGFnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBhcmEuVmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocGFyYS5WYWx1ZS5sZW5ndGggPj0gOCAmJiBwYXJhLlZhbHVlLnNsaWNlKDAsIDgpID09PSBge1wiZXhwclwiOmApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0UGFyYS5UYWcgPSAnZXhwcmVzc2lvbic7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0UGFyYS5UYWcgPSAnY29uc3RhbnQnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0UGFyYS5UYWcgPSAndmFyaWFibGUnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhY3RQYXJhcy5wdXNoKGFjdFBhcmEpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNvbnN0IGlkID0gQnBtbk1vZGVsSGVscGVyLkdlbmVyYXRlRWxlbWVudElkKCk7XHJcbiAgICAgICAgICAgICAgICBsZXQgaXRlbSA9IG5ldyBFeGVjdXRlRm9ybSh1c2VyQWN0aXZpdHkuTW9kZWwsIGlkLCBmb3JtLk5hbWUsIGFjdFBhcmFzKTtcclxuICAgICAgICAgICAgICAgIGl0ZW0uQ29tcG9uZW50SWQgPSBmb3JtLkNvbXBvbmVudElkO1xyXG4gICAgICAgICAgICAgICAgaXRlbS5Gb3JtVHlwZSA9IGZvcm0uRm9ybVR5cGU7XHJcbiAgICAgICAgICAgICAgICBpdGVtLmZvcm1Gb3JtYXRJZCA9IGZvcm0uZm9ybUZvcm1hdElkO1xyXG4gICAgICAgICAgICAgICAgaXRlbS5mb3JtYXRDb25maWdJZCA9IGZvcm0uZm9ybWF0Q29uZmlnSWQ7XHJcbiAgICAgICAgICAgICAgICBpdGVtLlRlcm1pbmFsVHlwZSA9IGZvcm0uVGVybWluYWxUeXBlO1xyXG4gICAgICAgICAgICAgICAgdXNlckFjdGl2aXR5LkV4ZWN1dGVGb3Jtcy5wdXNoKGl0ZW0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5pu05paw5piv5ZCm5YWB6K646Lez6L2s5bGe5oCnXHJcbiAgICAgKiBAcGFyYW0gZ3JhcGhcclxuICAgICAqIEBwYXJhbSB1c2VyQWN0aXZpdHlcclxuICAgICAqIEBwYXJhbSBvYmpcclxuICAgICAqIEBwYXJhbSBpc09wZXJhdGlvblxyXG4gICAgICovXHJcbiAgICByZXNldFNlbGVjdFRhcmdldEFibGUodXNlckFjdGl2aXR5OiBVc2VyQWN0aXZpdHksIG9iajogYW55LCBpc09wZXJhdGlvbiA9IGZhbHNlKSB7XHJcbiAgICAgICAgY29uc3QgU2VsZWN0VGFyZ2V0QWJsZSA9IG9iai5wcm9wZXJ0eVZhbHVlIGFzIGJvb2xlYW47XHJcbiAgICAgICAgdXNlckFjdGl2aXR5LlNlbGVjdFRhcmdldEFibGUgPSBTZWxlY3RUYXJnZXRBYmxlO1xyXG4gICAgICAgIGlmICh1c2VyQWN0aXZpdHkuU2VsZWN0VGFyZ2V0QWJsZSkge1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHVzZXJBY3Rpdml0eS5KdW1wU2NvcGUgPSBudWxsO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXNldEp1bXBTY29wZSh1c2VyQWN0aXZpdHk6IFVzZXJBY3Rpdml0eSwgb2JqOiBhbnkpIHtcclxuICAgICAgICBjb25zdCBkYXRhID0gb2JqLnByb3BlcnR5VmFsdWU7XHJcbiAgICAgICAgaWYgKGRhdGEpIHtcclxuICAgICAgICAgICAgbGV0IGp1bXBTY29wZSA9IG5ldyBKdW1wU2NvcGUodXNlckFjdGl2aXR5Lk1vZGVsKTtcclxuICAgICAgICAgICAganVtcFNjb3BlLkNhdGVnb3J5ID0gZGF0YS5DYXRlZ29yeTtcclxuICAgICAgICAgICAganVtcFNjb3BlLkRlZmF1bHRUeXBlID0gZGF0YS5EZWZhdWx0VHlwZTtcclxuICAgICAgICAgICAganVtcFNjb3BlLkRlc3RpbmF0aW9uQWN0aXZpdGllcyA9IGRhdGEuRGVzdGluYXRpb25BY3Rpdml0aWVzO1xyXG4gICAgICAgICAgICBqdW1wU2NvcGUuRGVmYXVsdEFjdGl2aXR5ID0gZGF0YS5EZWZhdWx0QWN0aXZpdHk7XHJcbiAgICAgICAgICAgIHVzZXJBY3Rpdml0eS5KdW1wU2NvcGUgPSBqdW1wU2NvcGU7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdXNlckFjdGl2aXR5Lkp1bXBTY29wZSA9IG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJlc2V0QmFja1dhcmRSdWxlKHVzZXJBY3Rpdml0eTogVXNlckFjdGl2aXR5LCBvYmo6IGFueSkge1xyXG4gICAgICAgIGNvbnN0IGRhdGEgPSBvYmoucHJvcGVydHlWYWx1ZTtcclxuICAgICAgICBsZXQgYmFja1dhcmRSdWxlID0gbmV3IEJhY2tXYXJkUnVsZSh1c2VyQWN0aXZpdHkuTW9kZWwpO1xyXG4gICAgICAgIGJhY2tXYXJkUnVsZS5UYXJnZXRSZWYgPSBkYXRhLlRhcmdldFJlZjtcclxuICAgICAgICBiYWNrV2FyZFJ1bGUuU2VsZWN0VGFyZ2V0QWJsZSA9IGRhdGEuU2VsZWN0VGFyZ2V0QWJsZTtcclxuICAgICAgICBiYWNrV2FyZFJ1bGUuV2FpdFJldHVybiA9IGRhdGEuV2FpdFJldHVybjtcclxuICAgICAgICBiYWNrV2FyZFJ1bGUuUmVzdWJtaXRFZmZlY3QgPSBkYXRhLlJlc3VibWl0RWZmZWN0O1xyXG4gICAgICAgIGJhY2tXYXJkUnVsZS5EeW5hbWljQmFja1dhcmRSdWxlQWJsZSA9IGRhdGEuRHluYW1pY0JhY2tXYXJkUnVsZUFibGU7XHJcbiAgICAgICAgYmFja1dhcmRSdWxlLlNlbGVjdFRhcmdldExpc3QgPSBkYXRhLlNlbGVjdFRhcmdldExpc3Q7XHJcblxyXG4gICAgICAgIHVzZXJBY3Rpdml0eS5CYWNrV2FyZFJ1bGUgPSBiYWNrV2FyZFJ1bGU7XHJcbiAgICB9XHJcblxyXG4gICAgcmVzZXRNdWx0aUluc3RhbmNlTG9vcENoYXJhY3RlcmlzdGljcyh1c2VyQWN0aXZpdHk6IFVzZXJBY3Rpdml0eSwgb2JqOiBhbnkpIHtcclxuICAgICAgICBpZihvYmoucHJvcGVydHlWYWx1ZSkge1xyXG4gICAgICAgICAgICBjb25zdCBkYXRhID0gb2JqLnByb3BlcnR5VmFsdWU7XHJcbiAgICAgICAgICAgIGxldCBsb29wQ2hhcmFjdGVyaXN0aWNzID0gbmV3IE11bHRpSW5zdGFuY2VMb29wQ2hhcmFjdGVyaXN0aWNzKHVzZXJBY3Rpdml0eS5Nb2RlbCk7XHJcbiAgICAgICAgICAgIGxvb3BDaGFyYWN0ZXJpc3RpY3MuZW5hYmxlID0gZGF0YS5lbmFibGU7XHJcbiAgICAgICAgICAgIGxvb3BDaGFyYWN0ZXJpc3RpY3Muc2VxdWVudGlhbCA9IGRhdGEuc2VxdWVudGlhbDtcclxuICAgICAgICAgICAgbG9vcENoYXJhY3RlcmlzdGljcy5sb29wQ2FyZGluYWxpdHkgPSBuZXcgRXhwcmVzc2lvbih1c2VyQWN0aXZpdHkuTW9kZWwpO1xyXG4gICAgICAgICAgICBpZihkYXRhLmxvb3BDYXJkaW5hbGl0eSkge1xyXG4gICAgICAgICAgICAgICAgbGV0IHZhcmlhYmxlRXhwcmVzc2lvbiA9IG5ldyBTZW1hbnRpY0V4cHJlc3Npb24odXNlckFjdGl2aXR5Lk1vZGVsKTtcclxuICAgICAgICAgICAgICAgIHZhcmlhYmxlRXhwcmVzc2lvbi5WYWx1ZSA9IGRhdGEubG9vcENhcmRpbmFsaXR5O1xyXG4gICAgICAgICAgICAgICAgbG9vcENoYXJhY3RlcmlzdGljcy5sb29wQ2FyZGluYWxpdHkuTWV4RXhwcmVzc2lvbiA9IHZhcmlhYmxlRXhwcmVzc2lvbjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBsb29wQ2hhcmFjdGVyaXN0aWNzLmNvbXBsZXRpb25Db25kaXRpb24gPSBkYXRhLmNvbXBsZXRpb25Db25kaXRpb247XHJcbiAgICAgICAgICAgIGxldCBydWxlcyA9IGRhdGEuY29tcGxldGlvbkNvbmRpdGlvblJ1bGVzIGFzIGFueVtdO1xyXG4gICAgICAgICAgICBsb29wQ2hhcmFjdGVyaXN0aWNzLmNvbXBsZXRpb25Db25kaXRpb25SdWxlcyA9IG51bGw7XHJcbiAgICAgICAgICAgIGlmKHJ1bGVzICYmIHJ1bGVzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgIGxvb3BDaGFyYWN0ZXJpc3RpY3MuY29tcGxldGlvbkNvbmRpdGlvblJ1bGVzID0gbmV3IEFycmF5PENvdW50ZXJTaWduUnVsZT4oKTtcclxuICAgICAgICAgICAgICAgIGZvcihsZXQgcnVsZSBvZiBydWxlcykge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBjb3VudGVyU2lnblJ1bGUgPSBuZXcgQ291bnRlclNpZ25SdWxlKHVzZXJBY3Rpdml0eS5Nb2RlbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGNvbmRpdGlvbiA9IG5ldyBDb25kaXRpb24odXNlckFjdGl2aXR5Lk1vZGVsKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25kaXRpb24uVmFsdWUgPSBydWxlLkNvbXBsZXRpb25Db25kaXRpb24uVmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgY291bnRlclNpZ25SdWxlLkNvbmNsdXNpb25WYWx1ZSA9IHJ1bGUuQ29uY2x1c2lvblZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvdW50ZXJTaWduUnVsZS5DYWxjdWxhdGVUeXBlID0gcnVsZS5DYWxjdWxhdGVUeXBlO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvdW50ZXJTaWduUnVsZS5Db25kaXRpb25WYWx1ZSA9IHJ1bGUuQ29uZGl0aW9uVmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgY291bnRlclNpZ25SdWxlLldhaXRBbGxWb3RlcyA9IHJ1bGUuV2FpdEFsbFZvdGVzO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvdW50ZXJTaWduUnVsZS5Db21wbGV0aW9uQ29uZGl0aW9uID0gY29uZGl0aW9uO1xyXG4gICAgICAgICAgICAgICAgICAgIGxvb3BDaGFyYWN0ZXJpc3RpY3MuY29tcGxldGlvbkNvbmRpdGlvblJ1bGVzLnB1c2goY291bnRlclNpZ25SdWxlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB1c2VyQWN0aXZpdHkuTG9vcENoYXJhY3RlcmlzdGljcyA9IGxvb3BDaGFyYWN0ZXJpc3RpY3M7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5pu05paw5rS75Yqo6IqC54K55qCH6aKYXHJcbiAgICAgKiBAcGFyYW0gdXNlckFjdGl2aXR5XHJcbiAgICAgKiBAcGFyYW0gb2JqXHJcbiAgICAgKi9cclxuICAgIG1vZGlmeVRpdGxlRXhwcmVzc2lvbih1c2VyQWN0aXZpdHk6IFVzZXJBY3Rpdml0eSwgb2JqOiBhbnkpIHtcclxuICAgICAgICBpZiAodXNlckFjdGl2aXR5LnRhc2tUaXRsZSkge1xyXG4gICAgICAgICAgICB1c2VyQWN0aXZpdHkudGFza1RpdGxlLnZhbHVlTGFuZ3VhZ2UgPSBvYmoucHJvcGVydHlWYWx1ZTtcclxuICAgICAgICAgICAgdXNlckFjdGl2aXR5LnRhc2tUaXRsZS52YWx1ZSA9IG9iai5wcm9wZXJ0eVZhbHVlWyd6aC1DSFMnXTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjb25zdCB0aXRsZSA9IG5ldyBUaXRsZUV4cHJlc3Npb24odXNlckFjdGl2aXR5Lk1vZGVsLCBvYmoucHJvcGVydHlWYWx1ZVsnemgtQ0hTJ10sIG9iai5wcm9wZXJ0eVZhbHVlKTtcclxuICAgICAgICAgICAgdXNlckFjdGl2aXR5LnRhc2tUaXRsZSA9IHRpdGxlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXNldFRvb2xzKHVzZXJBY3Rpdml0eTogVXNlckFjdGl2aXR5LCBvYmo6IGFueSkge1xyXG4gICAgICAgIGxldCB0b29scyA9IG9iai5wcm9wZXJ0eVZhbHVlIGFzIGFueVtdO1xyXG4gICAgICAgIHVzZXJBY3Rpdml0eS5Ub29scyA9IG5ldyBBcnJheTxUb29sPigpO1xyXG4gICAgICAgIGlmICh0b29scyAmJiB0b29scy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IHRvb2wgb2YgdG9vbHMpIHtcclxuICAgICAgICAgICAgICAgIGxldCBjb21wb25lbnQgPSBuZXcgQ29tcG9uZW50KHVzZXJBY3Rpdml0eS5Nb2RlbCk7XHJcbiAgICAgICAgICAgICAgICBjb21wb25lbnQuSWQgPSB0b29sLmlkO1xyXG4gICAgICAgICAgICAgICAgY29tcG9uZW50Lk5hbWUgPSB0b29sLm5hbWU7XHJcbiAgICAgICAgICAgICAgICBjb21wb25lbnQuVGltZSA9IHRvb2wuZXhlY3V0aW9uVGltZTtcclxuICAgICAgICAgICAgICAgIC8vIFRPRE8g5YaZ5q275LqG5p6E5Lu257G75Z6LXHJcbiAgICAgICAgICAgICAgICBjb21wb25lbnQuQ29tcG9uZW50VHlwZSA9ICdXZWJTZXJ2aWNlQ29tcG9uZW50JztcclxuICAgICAgICAgICAgICAgIGNvbXBvbmVudC5NZXRhZGF0YUlkID0gdG9vbC5tZXRhZGF0YUlkO1xyXG4gICAgICAgICAgICAgICAgY29tcG9uZW50Lk1ldGhvZENvZGUgPSB0b29sLm1ldGhvZENvZGU7XHJcbiAgICAgICAgICAgICAgICBjb21wb25lbnQuaXNGb3JDb21wZW5zYXRpb24gPSB0b29sLmlzRm9yQ29tcGVuc2F0aW9uO1xyXG4gICAgICAgICAgICAgICAgY29tcG9uZW50LkFjdHVhbFBhcmFtZXRlcnMgPSBbXTtcclxuICAgICAgICAgICAgICAgIGlmICh0b29sLmFjdHVhbFBhcmFtZXRlcnMgJiYgKHRvb2wuYWN0dWFsUGFyYW1ldGVycyBhcyBhbnlbXSkubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGEgb2YgKHRvb2wuYWN0dWFsUGFyYW1ldGVycyBhcyBhbnlbXSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHBhcmFtZXRlciA9IG5ldyBBY3R1YWxQYXJhbWV0ZXIodXNlckFjdGl2aXR5Lk1vZGVsLCBhLmNvZGUsIGEudmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb21wb25lbnQuQWN0dWFsUGFyYW1ldGVycy5wdXNoKHBhcmFtZXRlcik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdXNlckFjdGl2aXR5LlRvb2xzLnB1c2goY29tcG9uZW50KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcblxyXG4gICAgdXBkYXRlU2lnbkZyb250U2V0KHVzZXJBY3Rpdml0eTogVXNlckFjdGl2aXR5LCBvYmo6IGFueSkge1xyXG4gICAgICAgIGNvbnN0IHNjb3BlID0gb2JqLnByb3BlcnR5VmFsdWUgYXMgQWN0aW9uT3JnYW5pemF0aW9uU2NvcGVEZXNpZ247XHJcbiAgICAgICAgdXNlckFjdGl2aXR5LmR5bmFtaWNQYXJ0aWNpcGFudHMgPSB1c2VyQWN0aXZpdHkuZHluYW1pY1BhcnRpY2lwYW50cy5maWx0ZXIocCA9PiAocCBhcyBPcmdhbml6YXRpb25QYXJ0aWNpcGFudEV4cHJlc3Npb24pLmFjdGlvblNjb3BlICE9PSBBY3Rpb25TY29wZS5BZGRTaWduRnJvbnQpO1xyXG4gICAgICAgIHVzZXJBY3Rpdml0eS5BZGRTaWduRnJvbnRBYmxlID0gc2NvcGUuZW5hYmxlO1xyXG5cclxuICAgICAgICBpZiAoc2NvcGUuc2NvcGUpIHtcclxuICAgICAgICAgICAgaWYoc2NvcGUuc2NvcGUub3JnYW5pemF0aW9uTGV2ZWwpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG9yZ2FuaXphdGlvblBhcnRpY2lwYW50RXhwcmVzc2lvbiA9IG5ldyBPcmdhbml6YXRpb25QYXJ0aWNpcGFudEV4cHJlc3Npb24odXNlckFjdGl2aXR5Lk1vZGVsKTtcclxuICAgICAgICAgICAgICAgIG9yZ2FuaXphdGlvblBhcnRpY2lwYW50RXhwcmVzc2lvbi5pZCA9IEJwbW5Nb2RlbEhlbHBlci5HZW5lcmF0ZUVsZW1lbnRJZCgpO1xyXG4gICAgICAgICAgICAgICAgb3JnYW5pemF0aW9uUGFydGljaXBhbnRFeHByZXNzaW9uLmFjdGlvblNjb3BlID0gQWN0aW9uU2NvcGUuQWRkU2lnbkZyb250O1xyXG4gICAgICAgICAgICAgICAgb3JnYW5pemF0aW9uUGFydGljaXBhbnRFeHByZXNzaW9uLm9yZ2FuaXphdGlvbkxldmVsID0gc2NvcGUuc2NvcGUub3JnYW5pemF0aW9uTGV2ZWwgYXMgYW55O1xyXG4gICAgICAgICAgICAgICAgb3JnYW5pemF0aW9uUGFydGljaXBhbnRFeHByZXNzaW9uLm9yZ2FuaXphdGlvbklkID0gc2NvcGUuc2NvcGUub3JnYW5pemF0aW9uSWQ7XHJcbiAgICAgICAgICAgICAgICBvcmdhbml6YXRpb25QYXJ0aWNpcGFudEV4cHJlc3Npb24ub3JnYW5pemF0aW9uTmFtZSA9IHNjb3BlLnNjb3BlLm9yZ2FuaXphdGlvbk5hbWU7XHJcbiAgICAgICAgICAgICAgICBvcmdhbml6YXRpb25QYXJ0aWNpcGFudEV4cHJlc3Npb24uaW5jbHVkZUNoaWxkcmVuID0gc2NvcGUuc2NvcGUuaW5jbHVkZUNoaWxkcmVuO1xyXG4gICAgICAgICAgICAgICAgb3JnYW5pemF0aW9uUGFydGljaXBhbnRFeHByZXNzaW9uLnRhZyA9IHNjb3BlLnNjb3BlLnRhZztcclxuICAgICAgICAgICAgICAgIHVzZXJBY3Rpdml0eS5keW5hbWljUGFydGljaXBhbnRzLnB1c2gob3JnYW5pemF0aW9uUGFydGljaXBhbnRFeHByZXNzaW9uKTtcclxuICAgICAgICAgICAgfWVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcGVyZm9ybWVySW5mbzogUGFydGljaXBhbnRJbmZvID0gc2NvcGUuc2NvcGUucGFydGljaXBhbnRJbmZvIGFzIGFueTtcclxuICAgICAgICAgICAgICAgIGlmIChwZXJmb3JtZXJJbmZvLmlzQWxsU2NvcGUgJiYgcGVyZm9ybWVySW5mby5wb3RlbnRpYWxPd25lckxpc3QgJiYgcGVyZm9ybWVySW5mby5wb3RlbnRpYWxPd25lckxpc3QubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgcG90ZW50aWFsT3duZXIgb2YgcGVyZm9ybWVySW5mby5wb3RlbnRpYWxPd25lckxpc3QpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChwb3RlbnRpYWxPd25lci50eXBlID8gcG90ZW50aWFsT3duZXIudHlwZSA6ICgocG90ZW50aWFsT3duZXIgaW5zdGFuY2VvZiBQYXJ0aWNpcGFudEV4cHJlc3Npb24pID8gcG90ZW50aWFsT3duZXIuQ2xyVHlwZUlEIDogbnVsbCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgVXNlclBhcnRpY2lwYW50RXhwcmVzc2lvbi5DbHJfVHlwZV9JRDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZFVzZXJQYXJ0aWNpcGFudCh1c2VyQWN0aXZpdHksIChwb3RlbnRpYWxPd25lciBpbnN0YW5jZW9mIFBhcnRpY2lwYW50RXhwcmVzc2lvbiA/IHBvdGVudGlhbE93bmVyIDogcG90ZW50aWFsT3duZXIgYXMgVXNlclBhcnRpY2lwYW50KSwgJ3BvdGVudGlhbE93bmVyJywgQWN0aW9uU2NvcGUuQWRkU2lnbkZyb250KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgVmFyaWFibGVQYXJ0aWNpcGFudEV4cHJlc3Npb24uQ2xyX1R5cGVfSUQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGRWYXJpYWJsZVBhcnRpY2lwYW50KHVzZXJBY3Rpdml0eSwgKHBvdGVudGlhbE93bmVyIGluc3RhbmNlb2YgUGFydGljaXBhbnRFeHByZXNzaW9uID8gcG90ZW50aWFsT3duZXIgOiBwb3RlbnRpYWxPd25lciBhcyBWYXJpYWJsZVBlcmZvcm1lciksICdwb3RlbnRpYWxPd25lcicsIEFjdGlvblNjb3BlLkFkZFNpZ25Gcm9udClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgUG9zaXRpb25QYXJ0aWNpcGFudEV4cHJlc3Npb24uQ2xyX1R5cGVfSUQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGRQb3NpdGlvblBhcnRpY2lwYW50KHVzZXJBY3Rpdml0eSwgKHBvdGVudGlhbE93bmVyIGluc3RhbmNlb2YgUGFydGljaXBhbnRFeHByZXNzaW9uID8gcG90ZW50aWFsT3duZXIgOiBwb3RlbnRpYWxPd25lciBhcyBQb3NpdGlvblBhcnRpY2lwYW50KSwgJ3BvdGVudGlhbE93bmVyJywgQWN0aW9uU2NvcGUuQWRkU2lnbkZyb250KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgQ29tcG9uZW50UGFydGljaXBhbnRFeHByZXNzaW9uLkNscl9UeXBlX0lEOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkQ29tcG9uZW50UGFydGljaXBhbnQodXNlckFjdGl2aXR5LCAocG90ZW50aWFsT3duZXIgaW5zdGFuY2VvZiBQYXJ0aWNpcGFudEV4cHJlc3Npb24gPyBwb3RlbnRpYWxPd25lciA6IHBvdGVudGlhbE93bmVyIGFzIENvbXBvbmVudFBhcnRpY2lwYW50KSwgJ3BvdGVudGlhbE93bmVyJywgQWN0aW9uU2NvcGUuQWRkU2lnbkZyb250KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgUmVwb3J0aW5nTGluZVBhcnRpY2lwYW50RXhwcmVzc2lvbi5DbHJfVHlwZV9JRDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZFJlcG9ydGluZ0xpbmVQYXJ0aWNpcGFudCh1c2VyQWN0aXZpdHksIChwb3RlbnRpYWxPd25lciBpbnN0YW5jZW9mIFBhcnRpY2lwYW50RXhwcmVzc2lvbiA/IHBvdGVudGlhbE93bmVyIDogcG90ZW50aWFsT3duZXIgYXMgUmVwb3J0aW5nTGluZVBhcnRpY2lwYW50KSwgJ3BvdGVudGlhbE93bmVyJywgQWN0aW9uU2NvcGUuQWRkU2lnbkZyb250KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgQWN0aXZpdHlFeGVjdXRvclBhcnRpY2lwYW50RXhwcmVzc2lvbi5DbHJfVHlwZV9JRDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZEFjdGl2aXR5RXhlY3V0b3JQYXJ0aWNpcGFudCh1c2VyQWN0aXZpdHksIChwb3RlbnRpYWxPd25lciBpbnN0YW5jZW9mIFBhcnRpY2lwYW50RXhwcmVzc2lvbiA/IHBvdGVudGlhbE93bmVyIDogcG90ZW50aWFsT3duZXIgYXMgQWN0aXZpdHlFeGVjdXRvclBhcnRpY2lwYW50KSwgJ3BvdGVudGlhbE93bmVyJywgQWN0aW9uU2NvcGUuQWRkU2lnbkZyb250KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgTWF0cml4UGFydGljaXBhbnRFeHByZXNzaW9uLkNscl9UeXBlX0lEOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkTWF0cml4UGFydGljaXBhbnQodXNlckFjdGl2aXR5LCAocG90ZW50aWFsT3duZXIgaW5zdGFuY2VvZiBQYXJ0aWNpcGFudEV4cHJlc3Npb24gPyBwb3RlbnRpYWxPd25lciA6IHBvdGVudGlhbE93bmVyIGFzIE1hdHJpeFBhcnRpY2lwYW50KSwgJ3BvdGVudGlhbE93bmVyJywgQWN0aW9uU2NvcGUuQWRkU2lnbkZyb250KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgT3JnYW5pemF0aW9uUGFydGljaXBhbnRFeHByZXNzaW9uLkNscl9UeXBlX0lEOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkT3JnYW5pemF0aW9uUGFydGljaXBhbnQodXNlckFjdGl2aXR5LCAocG90ZW50aWFsT3duZXIgaW5zdGFuY2VvZiBQYXJ0aWNpcGFudEV4cHJlc3Npb24gPyBwb3RlbnRpYWxPd25lciA6IHBvdGVudGlhbE93bmVyIGFzIE9yZ2FuaXphdGlvblBhcnRpY2lwYW50KSwgJ3BvdGVudGlhbE93bmVyJyAsIEFjdGlvblNjb3BlLkFkZFNpZ25Gcm9udCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlU2lnbkJlaGluZHNTZXQodXNlckFjdGl2aXR5OiBVc2VyQWN0aXZpdHksIG9iajogYW55KSB7XHJcbiAgICAgICAgY29uc3Qgc2NvcGUgPSBvYmoucHJvcGVydHlWYWx1ZSBhcyBBY3Rpb25Pcmdhbml6YXRpb25TY29wZURlc2lnbjtcclxuICAgICAgICB1c2VyQWN0aXZpdHkuZHluYW1pY1BhcnRpY2lwYW50cyA9IHVzZXJBY3Rpdml0eS5keW5hbWljUGFydGljaXBhbnRzLmZpbHRlcihwID0+IChwIGFzIE9yZ2FuaXphdGlvblBhcnRpY2lwYW50RXhwcmVzc2lvbikuYWN0aW9uU2NvcGUgIT09IEFjdGlvblNjb3BlLkFkZFNpZ25CZWhpbmQpO1xyXG4gICAgICAgIHVzZXJBY3Rpdml0eS5BZGRTaWduQmVoaW5kQWJsZSA9IHNjb3BlLmVuYWJsZTtcclxuXHJcbiAgICAgICAgaWYgKHNjb3BlLnNjb3BlKSB7XHJcbiAgICAgICAgICAgIGlmKHNjb3BlLnNjb3BlLm9yZ2FuaXphdGlvbkxldmVsKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBvcmdhbml6YXRpb25QYXJ0aWNpcGFudEV4cHJlc3Npb24gPSBuZXcgT3JnYW5pemF0aW9uUGFydGljaXBhbnRFeHByZXNzaW9uKHVzZXJBY3Rpdml0eS5Nb2RlbCk7XHJcbiAgICAgICAgICAgICAgICBvcmdhbml6YXRpb25QYXJ0aWNpcGFudEV4cHJlc3Npb24uaWQgPSBCcG1uTW9kZWxIZWxwZXIuR2VuZXJhdGVFbGVtZW50SWQoKTtcclxuICAgICAgICAgICAgICAgIG9yZ2FuaXphdGlvblBhcnRpY2lwYW50RXhwcmVzc2lvbi5hY3Rpb25TY29wZSA9IEFjdGlvblNjb3BlLkFkZFNpZ25CZWhpbmQ7XHJcbiAgICAgICAgICAgICAgICBvcmdhbml6YXRpb25QYXJ0aWNpcGFudEV4cHJlc3Npb24ub3JnYW5pemF0aW9uTGV2ZWwgPSBzY29wZS5zY29wZS5vcmdhbml6YXRpb25MZXZlbCBhcyBhbnk7XHJcbiAgICAgICAgICAgICAgICBvcmdhbml6YXRpb25QYXJ0aWNpcGFudEV4cHJlc3Npb24ub3JnYW5pemF0aW9uSWQgPSBzY29wZS5zY29wZS5vcmdhbml6YXRpb25JZDtcclxuICAgICAgICAgICAgICAgIG9yZ2FuaXphdGlvblBhcnRpY2lwYW50RXhwcmVzc2lvbi5vcmdhbml6YXRpb25OYW1lID0gc2NvcGUuc2NvcGUub3JnYW5pemF0aW9uTmFtZTtcclxuICAgICAgICAgICAgICAgIG9yZ2FuaXphdGlvblBhcnRpY2lwYW50RXhwcmVzc2lvbi5pbmNsdWRlQ2hpbGRyZW4gPSBzY29wZS5zY29wZS5pbmNsdWRlQ2hpbGRyZW47XHJcbiAgICAgICAgICAgICAgICBvcmdhbml6YXRpb25QYXJ0aWNpcGFudEV4cHJlc3Npb24udGFnID0gc2NvcGUuc2NvcGUudGFnO1xyXG4gICAgICAgICAgICAgICAgdXNlckFjdGl2aXR5LmR5bmFtaWNQYXJ0aWNpcGFudHMucHVzaChvcmdhbml6YXRpb25QYXJ0aWNpcGFudEV4cHJlc3Npb24pO1xyXG4gICAgICAgICAgICB9ZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBwZXJmb3JtZXJJbmZvOiBQYXJ0aWNpcGFudEluZm8gPSBzY29wZS5zY29wZS5wYXJ0aWNpcGFudEluZm8gYXMgYW55O1xyXG4gICAgICAgICAgICAgICAgaWYgKHBlcmZvcm1lckluZm8uaXNBbGxTY29wZSAmJiBwZXJmb3JtZXJJbmZvLnBvdGVudGlhbE93bmVyTGlzdCAmJiBwZXJmb3JtZXJJbmZvLnBvdGVudGlhbE93bmVyTGlzdC5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBwb3RlbnRpYWxPd25lciBvZiBwZXJmb3JtZXJJbmZvLnBvdGVudGlhbE93bmVyTGlzdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKHBvdGVudGlhbE93bmVyLnR5cGUgPyBwb3RlbnRpYWxPd25lci50eXBlIDogKChwb3RlbnRpYWxPd25lciBpbnN0YW5jZW9mIFBhcnRpY2lwYW50RXhwcmVzc2lvbikgPyBwb3RlbnRpYWxPd25lci5DbHJUeXBlSUQgOiBudWxsKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBVc2VyUGFydGljaXBhbnRFeHByZXNzaW9uLkNscl9UeXBlX0lEOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkVXNlclBhcnRpY2lwYW50KHVzZXJBY3Rpdml0eSwgcG90ZW50aWFsT3duZXIgaW5zdGFuY2VvZiBQYXJ0aWNpcGFudEV4cHJlc3Npb24gPyBwb3RlbnRpYWxPd25lciA6IHBvdGVudGlhbE93bmVyIGFzIFVzZXJQYXJ0aWNpcGFudCwgJ3BvdGVudGlhbE93bmVyJywgQWN0aW9uU2NvcGUuQWRkU2lnbkJlaGluZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFZhcmlhYmxlUGFydGljaXBhbnRFeHByZXNzaW9uLkNscl9UeXBlX0lEOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkVmFyaWFibGVQYXJ0aWNpcGFudCh1c2VyQWN0aXZpdHksIHBvdGVudGlhbE93bmVyIGluc3RhbmNlb2YgUGFydGljaXBhbnRFeHByZXNzaW9uID8gcG90ZW50aWFsT3duZXIgOiBwb3RlbnRpYWxPd25lciBhcyBWYXJpYWJsZVBlcmZvcm1lciwgJ3BvdGVudGlhbE93bmVyJywgQWN0aW9uU2NvcGUuQWRkU2lnbkJlaGluZClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgUG9zaXRpb25QYXJ0aWNpcGFudEV4cHJlc3Npb24uQ2xyX1R5cGVfSUQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGRQb3NpdGlvblBhcnRpY2lwYW50KHVzZXJBY3Rpdml0eSwgcG90ZW50aWFsT3duZXIgaW5zdGFuY2VvZiBQYXJ0aWNpcGFudEV4cHJlc3Npb24gPyBwb3RlbnRpYWxPd25lciA6IHBvdGVudGlhbE93bmVyIGFzIFBvc2l0aW9uUGFydGljaXBhbnQsICdwb3RlbnRpYWxPd25lcicsIEFjdGlvblNjb3BlLkFkZFNpZ25CZWhpbmQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBDb21wb25lbnRQYXJ0aWNpcGFudEV4cHJlc3Npb24uQ2xyX1R5cGVfSUQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGRDb21wb25lbnRQYXJ0aWNpcGFudCh1c2VyQWN0aXZpdHksIHBvdGVudGlhbE93bmVyIGluc3RhbmNlb2YgUGFydGljaXBhbnRFeHByZXNzaW9uID8gcG90ZW50aWFsT3duZXIgOiBwb3RlbnRpYWxPd25lciBhcyBDb21wb25lbnRQYXJ0aWNpcGFudCwgJ3BvdGVudGlhbE93bmVyJywgQWN0aW9uU2NvcGUuQWRkU2lnbkJlaGluZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFJlcG9ydGluZ0xpbmVQYXJ0aWNpcGFudEV4cHJlc3Npb24uQ2xyX1R5cGVfSUQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGRSZXBvcnRpbmdMaW5lUGFydGljaXBhbnQodXNlckFjdGl2aXR5LCBwb3RlbnRpYWxPd25lciBpbnN0YW5jZW9mIFBhcnRpY2lwYW50RXhwcmVzc2lvbiA/IHBvdGVudGlhbE93bmVyIDogcG90ZW50aWFsT3duZXIgYXMgUmVwb3J0aW5nTGluZVBhcnRpY2lwYW50LCAncG90ZW50aWFsT3duZXInLCBBY3Rpb25TY29wZS5BZGRTaWduQmVoaW5kKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgQWN0aXZpdHlFeGVjdXRvclBhcnRpY2lwYW50RXhwcmVzc2lvbi5DbHJfVHlwZV9JRDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZEFjdGl2aXR5RXhlY3V0b3JQYXJ0aWNpcGFudCh1c2VyQWN0aXZpdHksIHBvdGVudGlhbE93bmVyIGluc3RhbmNlb2YgUGFydGljaXBhbnRFeHByZXNzaW9uID8gcG90ZW50aWFsT3duZXIgOiBwb3RlbnRpYWxPd25lciBhcyBBY3Rpdml0eUV4ZWN1dG9yUGFydGljaXBhbnQsICdwb3RlbnRpYWxPd25lcicsIEFjdGlvblNjb3BlLkFkZFNpZ25CZWhpbmQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBNYXRyaXhQYXJ0aWNpcGFudEV4cHJlc3Npb24uQ2xyX1R5cGVfSUQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGRNYXRyaXhQYXJ0aWNpcGFudCh1c2VyQWN0aXZpdHksIHBvdGVudGlhbE93bmVyIGluc3RhbmNlb2YgUGFydGljaXBhbnRFeHByZXNzaW9uID8gcG90ZW50aWFsT3duZXIgOiBwb3RlbnRpYWxPd25lciBhcyBNYXRyaXhQYXJ0aWNpcGFudCwgJ3BvdGVudGlhbE93bmVyJywgQWN0aW9uU2NvcGUuQWRkU2lnbkJlaGluZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIE9yZ2FuaXphdGlvblBhcnRpY2lwYW50RXhwcmVzc2lvbi5DbHJfVHlwZV9JRDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZE9yZ2FuaXphdGlvblBhcnRpY2lwYW50KHVzZXJBY3Rpdml0eSwgcG90ZW50aWFsT3duZXIgaW5zdGFuY2VvZiBQYXJ0aWNpcGFudEV4cHJlc3Npb24gPyBwb3RlbnRpYWxPd25lciA6IHBvdGVudGlhbE93bmVyIGFzIE9yZ2FuaXphdGlvblBhcnRpY2lwYW50LCAncG90ZW50aWFsT3duZXInICwgQWN0aW9uU2NvcGUuQWRkU2lnbkJlaGluZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlTm90aWZ5U2V0KHVzZXJBY3Rpdml0eTogVXNlckFjdGl2aXR5LCBvYmo6IGFueSkge1xyXG4gICAgICAgIGNvbnN0IHNjb3BlID0gb2JqLnByb3BlcnR5VmFsdWUgYXMgQWN0aW9uT3JnYW5pemF0aW9uU2NvcGVEZXNpZ247XHJcblxyXG4gICAgICAgIHVzZXJBY3Rpdml0eS5keW5hbWljUGFydGljaXBhbnRzID0gdXNlckFjdGl2aXR5LmR5bmFtaWNQYXJ0aWNpcGFudHMuZmlsdGVyKHAgPT4gKHAgYXMgT3JnYW5pemF0aW9uUGFydGljaXBhbnRFeHByZXNzaW9uKS5hY3Rpb25TY29wZSAhPT0gQWN0aW9uU2NvcGUuTm90aWZ5KTtcclxuICAgICAgICB1c2VyQWN0aXZpdHkuTm90aWZ5QWJsZSA9IHNjb3BlLmVuYWJsZTtcclxuXHJcbiAgICAgICAgaWYgKHNjb3BlLnNjb3BlKSB7XHJcbiAgICAgICAgICAgIGlmKHNjb3BlLnNjb3BlLm9yZ2FuaXphdGlvbkxldmVsKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBvcmdhbml6YXRpb25QYXJ0aWNpcGFudEV4cHJlc3Npb24gPSBuZXcgT3JnYW5pemF0aW9uUGFydGljaXBhbnRFeHByZXNzaW9uKHVzZXJBY3Rpdml0eS5Nb2RlbCk7XHJcbiAgICAgICAgICAgICAgICBvcmdhbml6YXRpb25QYXJ0aWNpcGFudEV4cHJlc3Npb24uaWQgPSBCcG1uTW9kZWxIZWxwZXIuR2VuZXJhdGVFbGVtZW50SWQoKTtcclxuICAgICAgICAgICAgICAgIG9yZ2FuaXphdGlvblBhcnRpY2lwYW50RXhwcmVzc2lvbi5hY3Rpb25TY29wZSA9IEFjdGlvblNjb3BlLk5vdGlmeTtcclxuICAgICAgICAgICAgICAgIG9yZ2FuaXphdGlvblBhcnRpY2lwYW50RXhwcmVzc2lvbi5vcmdhbml6YXRpb25MZXZlbCA9IHNjb3BlLnNjb3BlLm9yZ2FuaXphdGlvbkxldmVsIGFzIGFueTtcclxuICAgICAgICAgICAgICAgIG9yZ2FuaXphdGlvblBhcnRpY2lwYW50RXhwcmVzc2lvbi5vcmdhbml6YXRpb25JZCA9IHNjb3BlLnNjb3BlLm9yZ2FuaXphdGlvbklkO1xyXG4gICAgICAgICAgICAgICAgb3JnYW5pemF0aW9uUGFydGljaXBhbnRFeHByZXNzaW9uLm9yZ2FuaXphdGlvbk5hbWUgPSBzY29wZS5zY29wZS5vcmdhbml6YXRpb25OYW1lO1xyXG4gICAgICAgICAgICAgICAgb3JnYW5pemF0aW9uUGFydGljaXBhbnRFeHByZXNzaW9uLmluY2x1ZGVDaGlsZHJlbiA9IHNjb3BlLnNjb3BlLmluY2x1ZGVDaGlsZHJlbjtcclxuICAgICAgICAgICAgICAgIG9yZ2FuaXphdGlvblBhcnRpY2lwYW50RXhwcmVzc2lvbi50YWcgPSBzY29wZS5zY29wZS50YWc7XHJcbiAgICAgICAgICAgICAgICB1c2VyQWN0aXZpdHkuZHluYW1pY1BhcnRpY2lwYW50cy5wdXNoKG9yZ2FuaXphdGlvblBhcnRpY2lwYW50RXhwcmVzc2lvbik7XHJcbiAgICAgICAgICAgIH1lbHNlIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHBlcmZvcm1lckluZm86IFBhcnRpY2lwYW50SW5mbyA9IHNjb3BlLnNjb3BlLnBhcnRpY2lwYW50SW5mbyBhcyBhbnk7XHJcbiAgICAgICAgICAgICAgICBpZiAocGVyZm9ybWVySW5mby5pc0FsbFNjb3BlICYmIHBlcmZvcm1lckluZm8ucG90ZW50aWFsT3duZXJMaXN0ICYmIHBlcmZvcm1lckluZm8ucG90ZW50aWFsT3duZXJMaXN0Lmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHBvdGVudGlhbE93bmVyIG9mIHBlcmZvcm1lckluZm8ucG90ZW50aWFsT3duZXJMaXN0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAocG90ZW50aWFsT3duZXIudHlwZSA/IHBvdGVudGlhbE93bmVyLnR5cGUgOiAoKHBvdGVudGlhbE93bmVyIGluc3RhbmNlb2YgUGFydGljaXBhbnRFeHByZXNzaW9uKSA/IHBvdGVudGlhbE93bmVyLkNsclR5cGVJRCA6IG51bGwpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFVzZXJQYXJ0aWNpcGFudEV4cHJlc3Npb24uQ2xyX1R5cGVfSUQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGRVc2VyUGFydGljaXBhbnQodXNlckFjdGl2aXR5LCBwb3RlbnRpYWxPd25lciBpbnN0YW5jZW9mIFBhcnRpY2lwYW50RXhwcmVzc2lvbiA/IHBvdGVudGlhbE93bmVyIDogcG90ZW50aWFsT3duZXIgYXMgVXNlclBhcnRpY2lwYW50LCAncG90ZW50aWFsT3duZXInLCBBY3Rpb25TY29wZS5Ob3RpZnkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBWYXJpYWJsZVBhcnRpY2lwYW50RXhwcmVzc2lvbi5DbHJfVHlwZV9JRDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZFZhcmlhYmxlUGFydGljaXBhbnQodXNlckFjdGl2aXR5LCBwb3RlbnRpYWxPd25lciBpbnN0YW5jZW9mIFBhcnRpY2lwYW50RXhwcmVzc2lvbiA/IHBvdGVudGlhbE93bmVyIDogcG90ZW50aWFsT3duZXIgYXMgVmFyaWFibGVQZXJmb3JtZXIsICdwb3RlbnRpYWxPd25lcicsIEFjdGlvblNjb3BlLk5vdGlmeSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgUG9zaXRpb25QYXJ0aWNpcGFudEV4cHJlc3Npb24uQ2xyX1R5cGVfSUQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGRQb3NpdGlvblBhcnRpY2lwYW50KHVzZXJBY3Rpdml0eSwgcG90ZW50aWFsT3duZXIgaW5zdGFuY2VvZiBQYXJ0aWNpcGFudEV4cHJlc3Npb24gPyBwb3RlbnRpYWxPd25lciA6IHBvdGVudGlhbE93bmVyIGFzIFBvc2l0aW9uUGFydGljaXBhbnQsICdwb3RlbnRpYWxPd25lcicsIEFjdGlvblNjb3BlLk5vdGlmeSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIENvbXBvbmVudFBhcnRpY2lwYW50RXhwcmVzc2lvbi5DbHJfVHlwZV9JRDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZENvbXBvbmVudFBhcnRpY2lwYW50KHVzZXJBY3Rpdml0eSwgcG90ZW50aWFsT3duZXIgaW5zdGFuY2VvZiBQYXJ0aWNpcGFudEV4cHJlc3Npb24gPyBwb3RlbnRpYWxPd25lciA6IHBvdGVudGlhbE93bmVyIGFzIENvbXBvbmVudFBhcnRpY2lwYW50LCAncG90ZW50aWFsT3duZXInLCBBY3Rpb25TY29wZS5Ob3RpZnkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBSZXBvcnRpbmdMaW5lUGFydGljaXBhbnRFeHByZXNzaW9uLkNscl9UeXBlX0lEOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkUmVwb3J0aW5nTGluZVBhcnRpY2lwYW50KHVzZXJBY3Rpdml0eSwgcG90ZW50aWFsT3duZXIgaW5zdGFuY2VvZiBQYXJ0aWNpcGFudEV4cHJlc3Npb24gPyBwb3RlbnRpYWxPd25lciA6IHBvdGVudGlhbE93bmVyIGFzIFJlcG9ydGluZ0xpbmVQYXJ0aWNpcGFudCwgJ3BvdGVudGlhbE93bmVyJywgQWN0aW9uU2NvcGUuTm90aWZ5KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgQWN0aXZpdHlFeGVjdXRvclBhcnRpY2lwYW50RXhwcmVzc2lvbi5DbHJfVHlwZV9JRDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZEFjdGl2aXR5RXhlY3V0b3JQYXJ0aWNpcGFudCh1c2VyQWN0aXZpdHksIHBvdGVudGlhbE93bmVyIGluc3RhbmNlb2YgUGFydGljaXBhbnRFeHByZXNzaW9uID8gcG90ZW50aWFsT3duZXIgOiBwb3RlbnRpYWxPd25lciBhcyBBY3Rpdml0eUV4ZWN1dG9yUGFydGljaXBhbnQsICdwb3RlbnRpYWxPd25lcicsIEFjdGlvblNjb3BlLk5vdGlmeSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIE1hdHJpeFBhcnRpY2lwYW50RXhwcmVzc2lvbi5DbHJfVHlwZV9JRDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZE1hdHJpeFBhcnRpY2lwYW50KHVzZXJBY3Rpdml0eSwgcG90ZW50aWFsT3duZXIgaW5zdGFuY2VvZiBQYXJ0aWNpcGFudEV4cHJlc3Npb24gPyBwb3RlbnRpYWxPd25lciA6IHBvdGVudGlhbE93bmVyIGFzIE1hdHJpeFBhcnRpY2lwYW50LCAncG90ZW50aWFsT3duZXInLCBBY3Rpb25TY29wZS5Ob3RpZnkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBPcmdhbml6YXRpb25QYXJ0aWNpcGFudEV4cHJlc3Npb24uQ2xyX1R5cGVfSUQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGRPcmdhbml6YXRpb25QYXJ0aWNpcGFudCh1c2VyQWN0aXZpdHksIHBvdGVudGlhbE93bmVyIGluc3RhbmNlb2YgUGFydGljaXBhbnRFeHByZXNzaW9uID8gcG90ZW50aWFsT3duZXIgOiBwb3RlbnRpYWxPd25lciBhcyBPcmdhbml6YXRpb25QYXJ0aWNpcGFudCwgJ3BvdGVudGlhbE93bmVyJyAsIEFjdGlvblNjb3BlLk5vdGlmeSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgdXBkYXRlVHJhbnNmZXJTY29wZSh1c2VyQWN0aXZpdHk6IFVzZXJBY3Rpdml0eSwgb2JqOiBhbnkpIHtcclxuICAgICAgICBjb25zdCBzY29wZSA9IG9iai5wcm9wZXJ0eVZhbHVlIGFzIEFjdGlvbk9yZ2FuaXphdGlvblNjb3BlRGVzaWduO1xyXG5cclxuICAgICAgICB1c2VyQWN0aXZpdHkuZHluYW1pY1BhcnRpY2lwYW50cyA9IHVzZXJBY3Rpdml0eS5keW5hbWljUGFydGljaXBhbnRzLmZpbHRlcihwID0+IChwIGFzIE9yZ2FuaXphdGlvblBhcnRpY2lwYW50RXhwcmVzc2lvbikuYWN0aW9uU2NvcGUgIT09IEFjdGlvblNjb3BlLlRyYW5zZmVyKTtcclxuICAgICAgICB1c2VyQWN0aXZpdHkudHJhbnNmZXJBYmxlID0gc2NvcGUuZW5hYmxlO1xyXG5cclxuICAgICAgICBpZiAoc2NvcGUuc2NvcGUpIHtcclxuICAgICAgICAgICAgaWYoc2NvcGUuc2NvcGUub3JnYW5pemF0aW9uTGV2ZWwpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG9yZ2FuaXphdGlvblBhcnRpY2lwYW50RXhwcmVzc2lvbiA9IG5ldyBPcmdhbml6YXRpb25QYXJ0aWNpcGFudEV4cHJlc3Npb24odXNlckFjdGl2aXR5Lk1vZGVsKTtcclxuICAgICAgICAgICAgICAgIG9yZ2FuaXphdGlvblBhcnRpY2lwYW50RXhwcmVzc2lvbi5pZCA9IEJwbW5Nb2RlbEhlbHBlci5HZW5lcmF0ZUVsZW1lbnRJZCgpO1xyXG4gICAgICAgICAgICAgICAgb3JnYW5pemF0aW9uUGFydGljaXBhbnRFeHByZXNzaW9uLmFjdGlvblNjb3BlID0gQWN0aW9uU2NvcGUuVHJhbnNmZXI7XHJcbiAgICAgICAgICAgICAgICBvcmdhbml6YXRpb25QYXJ0aWNpcGFudEV4cHJlc3Npb24ub3JnYW5pemF0aW9uTGV2ZWwgPSBzY29wZS5zY29wZS5vcmdhbml6YXRpb25MZXZlbCBhcyBhbnk7XHJcbiAgICAgICAgICAgICAgICBvcmdhbml6YXRpb25QYXJ0aWNpcGFudEV4cHJlc3Npb24ub3JnYW5pemF0aW9uSWQgPSBzY29wZS5zY29wZS5vcmdhbml6YXRpb25JZDtcclxuICAgICAgICAgICAgICAgIG9yZ2FuaXphdGlvblBhcnRpY2lwYW50RXhwcmVzc2lvbi5vcmdhbml6YXRpb25OYW1lID0gc2NvcGUuc2NvcGUub3JnYW5pemF0aW9uTmFtZTtcclxuICAgICAgICAgICAgICAgIG9yZ2FuaXphdGlvblBhcnRpY2lwYW50RXhwcmVzc2lvbi5pbmNsdWRlQ2hpbGRyZW4gPSBzY29wZS5zY29wZS5pbmNsdWRlQ2hpbGRyZW47XHJcbiAgICAgICAgICAgICAgICBvcmdhbml6YXRpb25QYXJ0aWNpcGFudEV4cHJlc3Npb24udGFnID0gc2NvcGUuc2NvcGUudGFnO1xyXG4gICAgICAgICAgICAgICAgdXNlckFjdGl2aXR5LmR5bmFtaWNQYXJ0aWNpcGFudHMucHVzaChvcmdhbml6YXRpb25QYXJ0aWNpcGFudEV4cHJlc3Npb24pO1xyXG4gICAgICAgICAgICB9ZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBwZXJmb3JtZXJJbmZvOiBQYXJ0aWNpcGFudEluZm8gPSBzY29wZS5zY29wZS5wYXJ0aWNpcGFudEluZm8gYXMgYW55O1xyXG4gICAgICAgICAgICAgICAgaWYgKHBlcmZvcm1lckluZm8uaXNBbGxTY29wZSAmJiBwZXJmb3JtZXJJbmZvLnBvdGVudGlhbE93bmVyTGlzdCAmJiBwZXJmb3JtZXJJbmZvLnBvdGVudGlhbE93bmVyTGlzdC5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBwb3RlbnRpYWxPd25lciBvZiBwZXJmb3JtZXJJbmZvLnBvdGVudGlhbE93bmVyTGlzdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKHBvdGVudGlhbE93bmVyLnR5cGUgPyBwb3RlbnRpYWxPd25lci50eXBlIDogKChwb3RlbnRpYWxPd25lciBpbnN0YW5jZW9mIFBhcnRpY2lwYW50RXhwcmVzc2lvbikgPyBwb3RlbnRpYWxPd25lci5DbHJUeXBlSUQgOiBudWxsKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBVc2VyUGFydGljaXBhbnRFeHByZXNzaW9uLkNscl9UeXBlX0lEOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkVXNlclBhcnRpY2lwYW50KHVzZXJBY3Rpdml0eSwgcG90ZW50aWFsT3duZXIgaW5zdGFuY2VvZiBQYXJ0aWNpcGFudEV4cHJlc3Npb24gPyBwb3RlbnRpYWxPd25lciA6IHBvdGVudGlhbE93bmVyIGFzIFVzZXJQYXJ0aWNpcGFudCwgJ3BvdGVudGlhbE93bmVyJywgQWN0aW9uU2NvcGUuVHJhbnNmZXIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBWYXJpYWJsZVBhcnRpY2lwYW50RXhwcmVzc2lvbi5DbHJfVHlwZV9JRDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZFZhcmlhYmxlUGFydGljaXBhbnQodXNlckFjdGl2aXR5LCBwb3RlbnRpYWxPd25lciBpbnN0YW5jZW9mIFBhcnRpY2lwYW50RXhwcmVzc2lvbiA/IHBvdGVudGlhbE93bmVyIDogcG90ZW50aWFsT3duZXIgYXMgVmFyaWFibGVQZXJmb3JtZXIsICdwb3RlbnRpYWxPd25lcicsIEFjdGlvblNjb3BlLlRyYW5zZmVyKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBQb3NpdGlvblBhcnRpY2lwYW50RXhwcmVzc2lvbi5DbHJfVHlwZV9JRDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZFBvc2l0aW9uUGFydGljaXBhbnQodXNlckFjdGl2aXR5LCBwb3RlbnRpYWxPd25lciBpbnN0YW5jZW9mIFBhcnRpY2lwYW50RXhwcmVzc2lvbiA/IHBvdGVudGlhbE93bmVyIDogcG90ZW50aWFsT3duZXIgYXMgUG9zaXRpb25QYXJ0aWNpcGFudCwgJ3BvdGVudGlhbE93bmVyJywgQWN0aW9uU2NvcGUuVHJhbnNmZXIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBDb21wb25lbnRQYXJ0aWNpcGFudEV4cHJlc3Npb24uQ2xyX1R5cGVfSUQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGRDb21wb25lbnRQYXJ0aWNpcGFudCh1c2VyQWN0aXZpdHksIHBvdGVudGlhbE93bmVyIGluc3RhbmNlb2YgUGFydGljaXBhbnRFeHByZXNzaW9uID8gcG90ZW50aWFsT3duZXIgOiBwb3RlbnRpYWxPd25lciBhcyBDb21wb25lbnRQYXJ0aWNpcGFudCwgJ3BvdGVudGlhbE93bmVyJywgQWN0aW9uU2NvcGUuVHJhbnNmZXIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBSZXBvcnRpbmdMaW5lUGFydGljaXBhbnRFeHByZXNzaW9uLkNscl9UeXBlX0lEOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkUmVwb3J0aW5nTGluZVBhcnRpY2lwYW50KHVzZXJBY3Rpdml0eSwgcG90ZW50aWFsT3duZXIgaW5zdGFuY2VvZiBQYXJ0aWNpcGFudEV4cHJlc3Npb24gPyBwb3RlbnRpYWxPd25lciA6IHBvdGVudGlhbE93bmVyIGFzIFJlcG9ydGluZ0xpbmVQYXJ0aWNpcGFudCwgJ3BvdGVudGlhbE93bmVyJywgQWN0aW9uU2NvcGUuVHJhbnNmZXIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBBY3Rpdml0eUV4ZWN1dG9yUGFydGljaXBhbnRFeHByZXNzaW9uLkNscl9UeXBlX0lEOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkQWN0aXZpdHlFeGVjdXRvclBhcnRpY2lwYW50KHVzZXJBY3Rpdml0eSwgcG90ZW50aWFsT3duZXIgaW5zdGFuY2VvZiBQYXJ0aWNpcGFudEV4cHJlc3Npb24gPyBwb3RlbnRpYWxPd25lciA6IHBvdGVudGlhbE93bmVyIGFzIEFjdGl2aXR5RXhlY3V0b3JQYXJ0aWNpcGFudCwgJ3BvdGVudGlhbE93bmVyJywgQWN0aW9uU2NvcGUuVHJhbnNmZXIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBNYXRyaXhQYXJ0aWNpcGFudEV4cHJlc3Npb24uQ2xyX1R5cGVfSUQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGRNYXRyaXhQYXJ0aWNpcGFudCh1c2VyQWN0aXZpdHksIHBvdGVudGlhbE93bmVyIGluc3RhbmNlb2YgUGFydGljaXBhbnRFeHByZXNzaW9uID8gcG90ZW50aWFsT3duZXIgOiBwb3RlbnRpYWxPd25lciBhcyBNYXRyaXhQYXJ0aWNpcGFudCwgJ3BvdGVudGlhbE93bmVyJywgQWN0aW9uU2NvcGUuVHJhbnNmZXIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBPcmdhbml6YXRpb25QYXJ0aWNpcGFudEV4cHJlc3Npb24uQ2xyX1R5cGVfSUQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGRPcmdhbml6YXRpb25QYXJ0aWNpcGFudCh1c2VyQWN0aXZpdHksIHBvdGVudGlhbE93bmVyIGluc3RhbmNlb2YgUGFydGljaXBhbnRFeHByZXNzaW9uID8gcG90ZW50aWFsT3duZXIgOiBwb3RlbnRpYWxPd25lciBhcyBPcmdhbml6YXRpb25QYXJ0aWNpcGFudCwgJ3BvdGVudGlhbE93bmVyJyAsIEFjdGlvblNjb3BlLlRyYW5zZmVyKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGVUaW1lTGltaXRDb250cm9sKHVzZXJBY3Rpdml0eTogVXNlckFjdGl2aXR5LCBvYmo6IGFueSkge1xyXG4gICAgICAgIGNvbnN0IHRpbWVMaW1pdEluZm8gPSBvYmoucHJvcGVydHlWYWx1ZSBhcyBUaW1lTGltaXRDb250cm9sSW5mbztcclxuICAgICAgICB1c2VyQWN0aXZpdHkudGltZUxpbWl0Q29udHJvbCA9IG51bGw7XHJcbiAgICAgICAgaWYgKHRpbWVMaW1pdEluZm8pIHtcclxuICAgICAgICAgICAgY29uc3QgY29udHJvbCA9IG5ldyBUaW1lTGltaXRDb250cm9sKHVzZXJBY3Rpdml0eS5Nb2RlbCk7XHJcbiAgICAgICAgICAgIGNvbnRyb2wuZW5hYmxlID0gdGltZUxpbWl0SW5mby5lbmFibGU7XHJcbiAgICAgICAgICAgIGNvbnRyb2wudGFnID0gdGltZUxpbWl0SW5mby50YWc7XHJcbiAgICAgICAgICAgIGNvbnRyb2wuZHVlVGltZSA9IHRpbWVMaW1pdEluZm8uZHVlVGltZTtcclxuICAgICAgICAgICAgY29udHJvbC50aW1lVW5pdCA9IHRpbWVMaW1pdEluZm8udGltZVVuaXQ7XHJcbiAgICAgICAgICAgIGNvbnRyb2wuZXhwaXJlT3BlcmF0aW9ucyA9IG5ldyBBcnJheTxTZW5kTWVzc2FnZUV4cGlyZU9wZXJhdGlvbj4oKTtcclxuICAgICAgICAgICAgaWYgKHRpbWVMaW1pdEluZm8uZXhwaXJlT3BlcmF0aW9ucyAmJiB0aW1lTGltaXRJbmZvLmV4cGlyZU9wZXJhdGlvbnMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBvIG9mIHRpbWVMaW1pdEluZm8uZXhwaXJlT3BlcmF0aW9ucykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvLm9wZXJhdGlvblR5cGVOYW1lID09PSAnU2VuZE1lc3NhZ2VFeHBpcmVPcGVyYXRpb24nIHx8ICFvLm9wZXJhdGlvblR5cGVOYW1lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGVudGl0eSA9IG8gYXMgU2VuZE1lc3NhZ2VFeHBpcmVPcGVyYXRpb247XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNlbmRNZXNzYWdlID0gbmV3IFNlbmRNZXNzYWdlRXhwaXJlT3BlcmF0aW9uKHVzZXJBY3Rpdml0eS5Nb2RlbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbmRNZXNzYWdlLmlkID0gQnBtbk1vZGVsSGVscGVyLkdlbmVyYXRlRWxlbWVudElkKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbmRNZXNzYWdlLmR1cmF0aW9uVHlwZSA9IGVudGl0eS5kdXJhdGlvblR5cGUgYXMgRHVyYXRpb25UeXBlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZW5kTWVzc2FnZS50aW1lRHVyYXRpb24gPSBlbnRpdHkudGltZUR1cmF0aW9uO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZW5kTWVzc2FnZS50aW1lVW5pdCA9IGVudGl0eS50aW1lVW5pdDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VuZE1lc3NhZ2UubWVzc2FnZSA9IGVudGl0eS5tZXNzYWdlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZW5kTWVzc2FnZS5zdWJqZWN0ID0gZW50aXR5LnN1YmplY3Q7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbmRNZXNzYWdlLnNlbmRUeXBlID0gZW50aXR5LnNlbmRUeXBlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZW5kTWVzc2FnZS5yZWNlaXZlciA9IGVudGl0eS5yZWNlaXZlcjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VuZE1lc3NhZ2UuY3ljbGVFbmFibGUgPSBlbnRpdHkuY3ljbGVFbmFibGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbmRNZXNzYWdlLmN5Y2xlVGltZSA9IGVudGl0eS5jeWNsZVRpbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbmRNZXNzYWdlLmN5Y2xlVGltZVVuaXQgPSBlbnRpdHkuY3ljbGVUaW1lVW5pdDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VuZE1lc3NhZ2Uub3BlcmF0aW9uVHlwZU5hbWUgPSBlbnRpdHkub3BlcmF0aW9uVHlwZU5hbWUgPyBlbnRpdHkub3BlcmF0aW9uVHlwZU5hbWUgOiAnU2VuZE1lc3NhZ2VFeHBpcmVPcGVyYXRpb24nO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZW50aXR5LnNtc01lc3NhZ2VUZW1wbGF0ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc21zTWVzc2FnZVRlbXBsYXRlID0gbmV3IFNtc01lc3NhZ2VUZW1wbGF0ZSh1c2VyQWN0aXZpdHkuTW9kZWwpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc21zTWVzc2FnZVRlbXBsYXRlLmNvZGUgPSBlbnRpdHkuc21zTWVzc2FnZVRlbXBsYXRlLmNvZGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzbXNNZXNzYWdlVGVtcGxhdGUuY29udGVudCA9IGVudGl0eS5zbXNNZXNzYWdlVGVtcGxhdGUuY29udGVudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNtc01lc3NhZ2VUZW1wbGF0ZS5zbXNNZXNzYWdlVmFyaWFibGVzID0gbmV3IEFycmF5KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZW50aXR5LnNtc01lc3NhZ2VUZW1wbGF0ZS5zbXNNZXNzYWdlVmFyaWFibGVzICYmIGVudGl0eS5zbXNNZXNzYWdlVGVtcGxhdGUuc21zTWVzc2FnZVZhcmlhYmxlcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCB2IG9mIGVudGl0eS5zbXNNZXNzYWdlVGVtcGxhdGUuc21zTWVzc2FnZVZhcmlhYmxlcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB2YXJpYWJsZSA9IG5ldyBTbXNNZXNzYWdlVmFyaWFibGUodXNlckFjdGl2aXR5Lk1vZGVsKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyaWFibGUuY29kZSA9IHYuY29kZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyaWFibGUudmFsdWUgPSB2LnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXJpYWJsZS50YWcgPSB2LnRhZztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc21zTWVzc2FnZVRlbXBsYXRlLnNtc01lc3NhZ2VWYXJpYWJsZXMucHVzaCh2YXJpYWJsZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VuZE1lc3NhZ2Uuc21zTWVzc2FnZVRlbXBsYXRlID0gc21zTWVzc2FnZVRlbXBsYXRlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2wuZXhwaXJlT3BlcmF0aW9ucy5wdXNoKHNlbmRNZXNzYWdlKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKG8ub3BlcmF0aW9uVHlwZU5hbWUgPT09ICdBdXRvSGFuZGxlRXhwaXJlT3BlcmF0aW9uJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBvcGVyYXRpb24gPSBvIGFzIEF1dG9IYW5kbGVFeHBpcmVPcGVyYXRpb247XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGF1dG9IYW5kbGUgPSBuZXcgQXV0b0hhbmRsZUV4cGlyZU9wZXJhdGlvbih1c2VyQWN0aXZpdHkuTW9kZWwpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhdXRvSGFuZGxlLmlkID0gby5pZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXV0b0hhbmRsZS5kdXJhdGlvblR5cGUgPSBvcGVyYXRpb24uZHVyYXRpb25UeXBlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhdXRvSGFuZGxlLnRpbWVEdXJhdGlvbiA9IG9wZXJhdGlvbi50aW1lRHVyYXRpb247XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGF1dG9IYW5kbGUudGltZVVuaXQgPSBvcGVyYXRpb24udGltZVVuaXQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGF1dG9IYW5kbGUub3BlcmF0aW9uVHlwZU5hbWUgPSBvcGVyYXRpb24ub3BlcmF0aW9uVHlwZU5hbWUgPyBvcGVyYXRpb24ub3BlcmF0aW9uVHlwZU5hbWUgOiAnQXV0b0hhbmRsZUV4cGlyZU9wZXJhdGlvbic7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGF1dG9IYW5kbGUuYXV0b0hhbmRsZVR5cGUgPSBvcGVyYXRpb24uYXV0b0hhbmRsZVR5cGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGF1dG9IYW5kbGUubWVzc2FnZSA9IG9wZXJhdGlvbi5tZXNzYWdlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sLmV4cGlyZU9wZXJhdGlvbnMucHVzaChhdXRvSGFuZGxlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdXNlckFjdGl2aXR5LnRpbWVMaW1pdENvbnRyb2wgPSBjb250cm9sO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGVBbm9ueW1vdXNTZXQodXNlckFjdGl2aXR5OiBVc2VyQWN0aXZpdHksIG9iajogYW55KSB7XHJcbiAgICAgICAgY29uc3QgYW5vbnltb3VzU2V0ID0gb2JqLnByb3BlcnR5VmFsdWU7XHJcbiAgICAgICAgaWYgKGFub255bW91c1NldCkge1xyXG4gICAgICAgICAgICB1c2VyQWN0aXZpdHkuYW5vbnltb3VzID0gYW5vbnltb3VzU2V0LmlzQW5vbnltaXR5O1xyXG4gICAgICAgICAgICB1c2VyQWN0aXZpdHkuYW5vbnltb3VzVGV4dCA9IGFub255bW91c1NldC5hbm9ueW1vdXM7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZUN1c3RvbWl6ZUFjdGlvbnModXNlckFjdGl2aXR5OiBVc2VyQWN0aXZpdHksIG9iajogYW55KSB7XHJcbiAgICAgICAgbGV0IGFjdGlvbnMgPSBvYmoucHJvcGVydHlWYWx1ZSBhcyBhbnlbXTtcclxuICAgICAgICB1c2VyQWN0aXZpdHkuY3VzdG9taXplQWN0aW9ucyA9IG5ldyBBcnJheTxDdXN0b21pemVBY3Rpb24+KCk7XHJcbiAgICAgICAgaWYgKGFjdGlvbnMgJiYgYWN0aW9ucy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGEgb2YgYWN0aW9ucykge1xyXG4gICAgICAgICAgICAgICAgbGV0IGFjdGlvbiA9IG5ldyBDdXN0b21pemVBY3Rpb24odXNlckFjdGl2aXR5Lk1vZGVsKTtcclxuICAgICAgICAgICAgICAgIGFjdGlvbi5pZCA9IEJwbW5Nb2RlbEhlbHBlci5HZW5lcmF0ZUVsZW1lbnRJZCgpO1xyXG4gICAgICAgICAgICAgICAgYWN0aW9uLmNvZGUgPSBhLmNvZGU7XHJcbiAgICAgICAgICAgICAgICBhY3Rpb24ubmFtZSA9IGEubmFtZTtcclxuICAgICAgICAgICAgICAgIGFjdGlvbi50ZXJtaW5hbFR5cGUgPSBhLnRlcm1pbmFsVHlwZTtcclxuICAgICAgICAgICAgICAgIGFjdGlvbi5hY3R1YWxQYXJhbWV0ZXJzID0gW107XHJcbiAgICAgICAgICAgICAgICBpZiAoYS5hY3R1YWxQYXJhbWV0ZXJzICYmIGEuYWN0dWFsUGFyYW1ldGVycy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgcCBvZiBhLmFjdHVhbFBhcmFtZXRlcnMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHBhcmFtZXRlciA9IG5ldyBBY3R1YWxQYXJhbWV0ZXIodXNlckFjdGl2aXR5Lk1vZGVsLCBwLk5hbWUsIHAuVmFsdWUsIHAuVmFsdWVUZXh0LCBwLlRhZyB8fCAnZXhwcmVzc2lvbicpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb24uYWN0dWFsUGFyYW1ldGVycy5wdXNoKHBhcmFtZXRlcik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHVzZXJBY3Rpdml0eS5jdXN0b21pemVBY3Rpb25zLnB1c2goYWN0aW9uKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlVmFyaWFibGVTZXR0aW5ncyh1c2VyQWN0aXZpdHk6IFVzZXJBY3Rpdml0eSwgb2JqOiBhbnkpIHtcclxuICAgICAgICBjb25zdCBicG1uTW9kZWwgPSB1c2VyQWN0aXZpdHkuTW9kZWw7XHJcbiAgICAgICAgY29uc3QgZXh0ZW5kRWxlbWVudHMgPSBicG1uTW9kZWwuRGVmYXVsdFByb2Nlc3MuR2V0RXh0ZW5zaW9uRWxlbWVudHMoKTtcclxuICAgICAgICBpZiAodXNlckFjdGl2aXR5LnZhcmlhYmxlU2V0dGluZ3MgJiYgdXNlckFjdGl2aXR5LnZhcmlhYmxlU2V0dGluZ3MubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICBmb3IgKGNvbnN0IHYgb2YgdXNlckFjdGl2aXR5LnZhcmlhYmxlU2V0dGluZ3MpIHtcclxuICAgICAgICAgICAgICAgIGlmICh2LnRhZyA9PT0gJ2NvbXBvbmVudCcpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBpID0gZXh0ZW5kRWxlbWVudHMuZmluZEluZGV4KGUgPT4gKGUgaW5zdGFuY2VvZiBDb21wb25lbnQgJiYgZS5JZCA9PT0gdi52YWx1ZSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGV4dGVuZEVsZW1lbnRzLnNwbGljZShpLCAxKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB1c2VyQWN0aXZpdHkudmFyaWFibGVTZXR0aW5ncyA9IG5ldyBBcnJheSgpO1xyXG5cclxuICAgICAgICBjb25zdCB2YXJpYWJsZXMgPSBvYmoucHJvcGVydHlWYWx1ZSBhcyBhbnlbXTtcclxuICAgICAgICBpZiAodmFyaWFibGVzICYmIHZhcmlhYmxlcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIGZvciAoY29uc3QgdiBvZiB2YXJpYWJsZXMpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHZhcmlhYmxlU2V0dGluZyA9IG5ldyBWYXJpYWJsZVNldHRpbmcoYnBtbk1vZGVsKTtcclxuICAgICAgICAgICAgICAgIHZhcmlhYmxlU2V0dGluZy52YXJpYWJsZUNvZGUgPSB2LnZhcmlhYmxlQ29kZTtcclxuICAgICAgICAgICAgICAgIHZhcmlhYmxlU2V0dGluZy52YXJpYWJsZU5hbWUgPSB2LnZhcmlhYmxlTmFtZTtcclxuICAgICAgICAgICAgICAgIHZhcmlhYmxlU2V0dGluZy50YWcgPSB2LnRhZztcclxuICAgICAgICAgICAgICAgIHZhcmlhYmxlU2V0dGluZy5leGVjdXRpb25UaW1lID0gdi5leGVjdXRpb25UaW1lO1xyXG4gICAgICAgICAgICAgICAgdmFyaWFibGVTZXR0aW5nLnZhbHVlID0gdi52YWx1ZTtcclxuICAgICAgICAgICAgICAgIHZhcmlhYmxlU2V0dGluZy52YWx1ZVRleHQgPSB2LnZhbHVlVGV4dDtcclxuXHJcbiAgICAgICAgICAgICAgICB1c2VyQWN0aXZpdHkudmFyaWFibGVTZXR0aW5ncy5wdXNoKHZhcmlhYmxlU2V0dGluZyk7XHJcbiAgICAgICAgICAgICAgICBpZiAodmFyaWFibGVTZXR0aW5nLnRhZyA9PT0gJ2NvbXBvbmVudCcpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBjID0gdi5jb21wb25lbnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGNwdCA9IG5ldyBDb21wb25lbnQoYnBtbk1vZGVsKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3B0Lk1ldGFkYXRhSWQgPSBjLk1ldGFkYXRhSWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNwdC5NZXRob2RDb2RlID0gYy5NZXRob2RDb2RlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjcHQuSWQgPSBjLklkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjcHQuTmFtZSA9IGMuTmFtZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3B0LkFjdHVhbFBhcmFtZXRlcnMgPSBuZXcgQXJyYXkoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGMuQWN0dWFsUGFyYW1ldGVycyAmJiBjLkFjdHVhbFBhcmFtZXRlcnMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgYSBvZiBjLkFjdHVhbFBhcmFtZXRlcnMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgcGFyYW1ldGVyID0gbmV3IEFjdHVhbFBhcmFtZXRlcihicG1uTW9kZWwsIGEuTmFtZSwgYS5WYWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyYW1ldGVyLlRhZyA9IGEuVGFnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNwdC5BY3R1YWxQYXJhbWV0ZXJzLnB1c2gocGFyYW1ldGVyKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgZXh0ZW5kRWxlbWVudHMucHVzaChjcHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGVJbWFnZVNldHRpbmdzKHVzZXJBY3Rpdml0eTogVXNlckFjdGl2aXR5LCBvYmo6IGFueSkge1xyXG4gICAgICAgIGxldCBTZXR0aW5ncyA9IG9iai5wcm9wZXJ0eVZhbHVlIGFzIGFueTtcclxuICAgICAgICBpZiAodXNlckFjdGl2aXR5LmltYWdlU2V0dGluZ3MpIHtcclxuICAgICAgICAgICAgdXNlckFjdGl2aXR5LmltYWdlU2V0dGluZ3MgPSBuZXcgSW1hZ2VTZXR0aW5ncyh1c2VyQWN0aXZpdHkuTW9kZWwpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoU2V0dGluZ3MgJiYgU2V0dGluZ3MuaW1hZ2VPcGVyYXRpb24pIHtcclxuICAgICAgICAgICAgY29uc3QgaW1hZ2VTZXR0aW5ncyA9IG5ldyBJbWFnZVNldHRpbmdzKHVzZXJBY3Rpdml0eS5Nb2RlbCk7XHJcbiAgICAgICAgICAgIGltYWdlU2V0dGluZ3MuaW1hZ2VPcGVyYXRpb24gPSBTZXR0aW5ncy5pbWFnZU9wZXJhdGlvbjtcclxuICAgICAgICAgICAgdXNlckFjdGl2aXR5LmltYWdlU2V0dGluZ3MgPSBpbWFnZVNldHRpbmdzO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGVDaGVja0NvbmRpdGlvbnModXNlckFjdGl2aXR5OiBVc2VyQWN0aXZpdHksIG9iajogYW55LCBpc09wZXJhdGlvbiA9IGZhbHNlKSB7XHJcbiAgICAgICAgY29uc3QgY2hlY2tDb25kaXRpb25zID0gb2JqLnByb3BlcnR5VmFsdWUgYXMgQXJyYXk8YW55PjtcclxuICAgICAgICB1c2VyQWN0aXZpdHkuY2hlY2tDb25kaXRpb25zID0gbmV3IEFycmF5KCk7XHJcbiAgICAgICAgZm9yIChjb25zdCBjIG9mIGNoZWNrQ29uZGl0aW9ucykge1xyXG4gICAgICAgICAgICBpZiAoYy52YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgY29uZGl0aW9uID0gbmV3IENoZWNrQ29uZGl0aW9uKHVzZXJBY3Rpdml0eS5Nb2RlbCk7XHJcbiAgICAgICAgICAgICAgICBjb25kaXRpb24udmFsdWUgPSBjLnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgY29uZGl0aW9uLmNoZWNrVGltZSA9IGMuY2hlY2tUaW1lO1xyXG4gICAgICAgICAgICAgICAgY29uZGl0aW9uLmVycm9yVGlwcyA9IG5ldyBNYXA8c3RyaW5nLCBzdHJpbmc+KCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoYy5lcnJvclRpcHMpIHtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBrZXkgaW4gYy5lcnJvclRpcHMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uZGl0aW9uLmVycm9yVGlwcy5zZXQoa2V5LCBjLmVycm9yVGlwc1trZXldKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB1c2VyQWN0aXZpdHkuY2hlY2tDb25kaXRpb25zLnB1c2goY29uZGl0aW9uKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGVPdGhlckFzc2lnbk5vZGVzKHVzZXJBY3Rpdml0eTogVXNlckFjdGl2aXR5LCBvYmo6IGFueSkge1xyXG4gICAgICAgIGNvbnN0IGRhdGE6IGJvb2xlYW4gPSBvYmoucHJvcGVydHlWYWx1ZTtcclxuICAgICAgICBpZiAoZGF0YSkge1xyXG4gICAgICAgICAgICAvLyBjb25zdCBvdGhlckFzc2lnbk5vZGVzID0gbmV3IE90aGVyQXNzaWduTm9kZXModXNlckFjdGl2aXR5Lk1vZGVsKTtcclxuICAgICAgICAgICAgLy8gb3RoZXJBc3NpZ25Ob2Rlcy5vdGhlckFzc2lnbkFjdGl2aXRpZXMgPSBuZXcgQXJyYXkoKTtcclxuICAgICAgICAgICAgLy8gdXNlckFjdGl2aXR5Lm90aGVyQXNzaWduTm9kZXMgPSBvdGhlckFzc2lnbk5vZGVzO1xyXG4gICAgICAgICAgICB1c2VyQWN0aXZpdHkub3RoZXJBc3NpZ25Ob2RlcyA9IG5ldyBPdGhlckFzc2lnbk5vZGVzKHVzZXJBY3Rpdml0eS5Nb2RlbCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdXNlckFjdGl2aXR5Lm90aGVyQXNzaWduTm9kZXMgPSBudWxsO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGVPdGhlckFzc2lnbkFjdGl2aXRpZXModXNlckFjdGl2aXR5OiBVc2VyQWN0aXZpdHksIG9iajogYW55KSB7XHJcbiAgICAgICAgY29uc3QgZGF0YTphbnlbXSA9IG9iai5wcm9wZXJ0eVZhbHVlO1xyXG4gICAgICAgIGlmIChkYXRhICYmIGRhdGEubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICBpZiAodHlwZW9mIGRhdGFbMF0gPT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgICAgIHVzZXJBY3Rpdml0eS5vdGhlckFzc2lnbk5vZGVzLm90aGVyQXNzaWduQWN0aXZpdHlOb2RlSW5mb3MgPSBuZXcgQXJyYXk8T3RoZXJBc3NpZ25BY3Rpdml0eU5vZGVJbmZvPigpO1xyXG4gICAgICAgICAgICAgICAgZGF0YS5mb3JFYWNoKGQgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBvdGhlciA9IG5ldyBPdGhlckFzc2lnbkFjdGl2aXR5Tm9kZUluZm8odXNlckFjdGl2aXR5Lk1vZGVsKTtcclxuICAgICAgICAgICAgICAgICAgICBvdGhlci5hY3Rpdml0eURlZmluaXRpb25JZCA9IGQ7XHJcbiAgICAgICAgICAgICAgICAgICAgb3RoZXIucmVxdWlyZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICBvdGhlci5jb25kaXRpb24gPSBuZXcgQ29uZGl0aW9uKHVzZXJBY3Rpdml0eS5Nb2RlbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdXNlckFjdGl2aXR5Lm90aGVyQXNzaWduTm9kZXMub3RoZXJBc3NpZ25BY3Rpdml0eU5vZGVJbmZvcy5wdXNoKG90aGVyKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdXNlckFjdGl2aXR5Lm90aGVyQXNzaWduTm9kZXMub3RoZXJBc3NpZ25BY3Rpdml0eU5vZGVJbmZvcyA9IG5ldyBBcnJheTxPdGhlckFzc2lnbkFjdGl2aXR5Tm9kZUluZm8+KCk7XHJcbiAgICAgICAgICAgICAgICBkYXRhLmZvckVhY2goZCA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IG90aGVyID0gbmV3IE90aGVyQXNzaWduQWN0aXZpdHlOb2RlSW5mbyh1c2VyQWN0aXZpdHkuTW9kZWwpO1xyXG4gICAgICAgICAgICAgICAgICAgIG90aGVyLmFjdGl2aXR5RGVmaW5pdGlvbklkID0gZC5hY3Rpdml0eURlZmluaXRpb25JZDtcclxuICAgICAgICAgICAgICAgICAgICBvdGhlci5yZXF1aXJlZCA9IGQucmVxdWlyZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgb3RoZXIuY29uZGl0aW9uID0gbmV3IENvbmRpdGlvbih1c2VyQWN0aXZpdHkuTW9kZWwpO1xyXG4gICAgICAgICAgICAgICAgICAgIG90aGVyLmNvbmRpdGlvbi5WYWx1ZSA9IGQuY29uZGl0aW9uLlZhbHVlOyAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgdXNlckFjdGl2aXR5Lm90aGVyQXNzaWduTm9kZXMub3RoZXJBc3NpZ25BY3Rpdml0eU5vZGVJbmZvcy5wdXNoKG90aGVyKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIHVzZXJBY3Rpdml0eS5vdGhlckFzc2lnbk5vZGVzLm90aGVyQXNzaWduQWN0aXZpdGllcyA9IFsuLi5kYXRhXTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB1c2VyQWN0aXZpdHkub3RoZXJBc3NpZ25Ob2Rlcy5vdGhlckFzc2lnbkFjdGl2aXR5Tm9kZUluZm9zID0gbmV3IEFycmF5KCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZU1lc3NhZ2VOb3RpY2VzKHVzZXJBY3Rpdml0eTogVXNlckFjdGl2aXR5LCBvYmo6IGFueSkge1xyXG4gICAgICAgIGxldCBub3RpY2VzID0gb2JqLnByb3BlcnR5VmFsdWUgYXMgYW55W107XHJcbiAgICAgICAgdXNlckFjdGl2aXR5Lm1lc3NhZ2VOb3RpY2VzID0gbmV3IEFycmF5KCk7XHJcbiAgICAgICAgaWYgKG5vdGljZXMgJiYgbm90aWNlcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IG4gb2Ygbm90aWNlcykge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbWVzc2FnZU5vdGljZSA9IG5ldyBNZXNzYWdlTm90aWNlKHVzZXJBY3Rpdml0eS5Nb2RlbCk7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlTm90aWNlLnNlbmRUeXBlID0gbi5zZW5kVHlwZTtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2VOb3RpY2Uuc2VuZFRpbWUgPSBuLnNlbmRUaW1lO1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZU5vdGljZS5zdWJqZWN0ID0gbi5zdWJqZWN0O1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZU5vdGljZS5jb250ZW50ID0gbi5jb250ZW50O1xyXG4gICAgICAgICAgICAgICAgbi5yZWNlaXZlcnMgPSBuLnJlY2VpdmVycy5maWx0ZXIoKHI6IGFueSkgPT4gci50eXBlKTtcclxuICAgICAgICAgICAgICAgIGlmIChuLnJlY2VpdmVycyAmJiBuLnJlY2VpdmVycy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVjZWl2ZXJzID0gbi5yZWNlaXZlcnMuZmlsdGVyKChyOiBhbnkpID0+IHIudHlwZSA9PT0gJ3VzZXJQYXJ0aWNpcGFudCdcclxuICAgICAgICAgICAgICAgICAgICAgICAgfHwgKHIudHlwZSA9PT0gJ3Byb2Nlc3NQYXJ0aWNpcGFudCcgJiYgci5wcm9jZXNzUGFydGljaXBhbnQgIT09ICdhY3Rpdml0eUV4ZWN1dG9yUGFydGljaXBhbnQnKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGFydGljaXBhbnRzID0gbi5yZWNlaXZlcnMuZmlsdGVyKChyOiBhbnkpID0+IHIudHlwZSA9PT0gJ3ZhcmlhYmxlUGFydGljaXBhbnQnIHx8IHIudHlwZSA9PT0gJ3Bvc2l0aW9uUGFydGljaXBhbnQnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHx8IChyLnR5cGUgPT09ICdwcm9jZXNzUGFydGljaXBhbnQnICYmIHIucHJvY2Vzc1BhcnRpY2lwYW50ID09PSAnYWN0aXZpdHlFeGVjdXRvclBhcnRpY2lwYW50JykpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChyZWNlaXZlcnMgJiYgcmVjZWl2ZXJzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHJlY2VpdmVyID0gJyc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCByZWNlaXZlck5hbWUgPSAnJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCByIG9mIHJlY2VpdmVycykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHIudHlwZSA9PT0gJ3Byb2Nlc3NQYXJ0aWNpcGFudCcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWNlaXZlciArPSAoci5wcm9jZXNzUGFydGljaXBhbnQgKyAnLCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyLnByb2Nlc3NQYXJ0aWNpcGFudCA9PT0gJ3Byb2NJbnN0Q3JlYXRvcicpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVjZWl2ZXJOYW1lICs9ICfmtYHnqIvlj5HotbfkurosJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoci5wcm9jZXNzUGFydGljaXBhbnQgPT09ICd3b3JrSXRlbVBhcnRpY2lwYW50Jykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWNlaXZlck5hbWUgKz0gJ+S7u+WKoeaOpeaUtuS6uiwnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChyLnR5cGUgPT09ICd1c2VyUGFydGljaXBhbnQnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVjZWl2ZXIgKz0gKHIudXNlcklkcyArICcsJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVjZWl2ZXJOYW1lICs9IChyLnVzZXJOYW1lcyArICcsJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlY2VpdmVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWNlaXZlciA9IHJlY2VpdmVyLnN1YnN0cmluZygwLCByZWNlaXZlci5sZW5ndGggLSAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVjZWl2ZXJOYW1lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWNlaXZlck5hbWUgPSByZWNlaXZlck5hbWUuc3Vic3RyaW5nKDAsIHJlY2VpdmVyTmFtZS5sZW5ndGggLSAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlTm90aWNlLnJlY2VpdmVyID0gcmVjZWl2ZXI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2VOb3RpY2UucmVjZWl2ZXJUZXh0ID0gcmVjZWl2ZXJOYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAocGFydGljaXBhbnRzICYmIHBhcnRpY2lwYW50cy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlY2VpdmVyRXhwcmVzc2lvbnMgPSBuZXcgQXJyYXk8UGFydGljaXBhbnRFeHByZXNzaW9uPigpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHAgb2YgcGFydGljaXBhbnRzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocC50eXBlID09PSAncHJvY2Vzc1BhcnRpY2lwYW50Jykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBhY3Rpdml0eUV4ZWN1dG9yID0gbmV3IEFjdGl2aXR5RXhlY3V0b3JQYXJ0aWNpcGFudEV4cHJlc3Npb24odXNlckFjdGl2aXR5Lk1vZGVsKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3Rpdml0eUV4ZWN1dG9yLmlkID0gQnBtbk1vZGVsSGVscGVyLkdlbmVyYXRlRWxlbWVudElkKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0aXZpdHlFeGVjdXRvci5hY3Rpdml0eURlZklkID0gcC5hY3Rpdml0eURlZklkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjdGl2aXR5RXhlY3V0b3IuYWN0aXZpdHlEZWZOYW1lID0gcC5hY3Rpdml0eURlZk5hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVjZWl2ZXJFeHByZXNzaW9ucy5wdXNoKGFjdGl2aXR5RXhlY3V0b3IpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHAudHlwZSA9PT0gJ3ZhcmlhYmxlUGFydGljaXBhbnQnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHZhcmlhYmxlUGFydGljaXBhbnQgPSBuZXcgVXNlclBhcnRpY2lwYW50RXhwcmVzc2lvbih1c2VyQWN0aXZpdHkuTW9kZWwsIHAudmFyaWFibGVQYXJ0aWNpcGFudCwgcC52YXJpYWJsZU5hbWUsIHAub3JnVHlwZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyaWFibGVQYXJ0aWNpcGFudC5pZCA9IEJwbW5Nb2RlbEhlbHBlci5HZW5lcmF0ZUVsZW1lbnRJZCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhcmlhYmxlUGFydGljaXBhbnQuVGFnID0gJ2V4cHJlc3Npb24nO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhcmlhYmxlUGFydGljaXBhbnQuT3JnVHlwZSA9IHAub3JnVHlwZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWNlaXZlckV4cHJlc3Npb25zLnB1c2godmFyaWFibGVQYXJ0aWNpcGFudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocC50eXBlID09PSAncG9zaXRpb25QYXJ0aWNpcGFudCcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgcG9zaVBhcnRpY2lwYW50ID0gbmV3IFBvc2l0aW9uUGFydGljaXBhbnRFeHByZXNzaW9uKHVzZXJBY3Rpdml0eS5Nb2RlbCwgcC5wb3NpdGlvbklkLCBwLnBvc2l0aW9uTmFtZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zaVBhcnRpY2lwYW50LmlkID0gQnBtbk1vZGVsSGVscGVyLkdlbmVyYXRlRWxlbWVudElkKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zaVBhcnRpY2lwYW50LlBvc2l0aW9uVHlwZSA9IHAucG9zaXRpb25UeXBlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwLnBvc2l0aW9uVHlwZSA9PT0gJzEnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc2lQYXJ0aWNpcGFudC5PcmdJZCA9IHAub3JnSWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc2lQYXJ0aWNpcGFudC5PcmdUeXBlID0gcC5vcmdUeXBlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWNlaXZlckV4cHJlc3Npb25zLnB1c2gocG9zaVBhcnRpY2lwYW50KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlTm90aWNlLnJlY2VpdmVyRXhwcmVzc2lvbnMgPSByZWNlaXZlckV4cHJlc3Npb25zO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAobi5zbXNNZXNzYWdlVGVtcGxhdGUpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBzbXNNZXNzYWdlVGVtcGxhdGUgPSBuZXcgU21zTWVzc2FnZVRlbXBsYXRlKHVzZXJBY3Rpdml0eS5Nb2RlbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgc21zTWVzc2FnZVRlbXBsYXRlLmNvZGUgPSBuLnNtc01lc3NhZ2VUZW1wbGF0ZS5jb2RlO1xyXG4gICAgICAgICAgICAgICAgICAgIHNtc01lc3NhZ2VUZW1wbGF0ZS5jb250ZW50ID0gbi5zbXNNZXNzYWdlVGVtcGxhdGUuY29udGVudDtcclxuICAgICAgICAgICAgICAgICAgICBzbXNNZXNzYWdlVGVtcGxhdGUuc21zTWVzc2FnZVZhcmlhYmxlcyA9IG5ldyBBcnJheSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChuLnNtc01lc3NhZ2VUZW1wbGF0ZS5zbXNNZXNzYWdlVmFyaWFibGVzICYmIG4uc21zTWVzc2FnZVRlbXBsYXRlLnNtc01lc3NhZ2VWYXJpYWJsZXMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHYgb2Ygbi5zbXNNZXNzYWdlVGVtcGxhdGUuc21zTWVzc2FnZVZhcmlhYmxlcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdmFyaWFibGUgPSBuZXcgU21zTWVzc2FnZVZhcmlhYmxlKHVzZXJBY3Rpdml0eS5Nb2RlbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXJpYWJsZS5jb2RlID0gdi5jb2RlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyaWFibGUudmFsdWUgPSB2LnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyaWFibGUudGFnID0gdi50YWc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzbXNNZXNzYWdlVGVtcGxhdGUuc21zTWVzc2FnZVZhcmlhYmxlcy5wdXNoKHZhcmlhYmxlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlTm90aWNlLnNtc01lc3NhZ2VUZW1wbGF0ZSA9IHNtc01lc3NhZ2VUZW1wbGF0ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB1c2VyQWN0aXZpdHkubWVzc2FnZU5vdGljZXMucHVzaChtZXNzYWdlTm90aWNlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlQXBwcm92YWxQaXZvdENvbmZpZyh1c2VyQWN0aXZpdHk6IFVzZXJBY3Rpdml0eSwgb2JqOiBhbnkpIHtcclxuICAgICAgICBsZXQgY29uZmlnID0gb2JqLnByb3BlcnR5VmFsdWU7XHJcbiAgICAgICAgY29uc3QgYXBwcm92YWxQaXZvdENvbmZpZyA9IG5ldyBBcHByb3ZhbFBpdm90Q29uZmlnKHVzZXJBY3Rpdml0eS5Nb2RlbCk7XHJcbiAgICAgICAgYXBwcm92YWxQaXZvdENvbmZpZy5lbmFibGUgPSBjb25maWcuZW5hYmxlO1xyXG4gICAgICAgIGFwcHJvdmFsUGl2b3RDb25maWcuZXhwYW5kID0gY29uZmlnLmV4cGFuZDtcclxuICAgICAgICBhcHByb3ZhbFBpdm90Q29uZmlnLnRpdGxlID0gY29uZmlnLnRpdGxlO1xyXG4gICAgICAgIGFwcHJvdmFsUGl2b3RDb25maWcuYXBwcm92YWxQaXZvdHMgPSBuZXcgQXJyYXkoKTtcclxuICAgICAgICBpZiAoY29uZmlnLmFwcHJvdmFsUGl2b3RzICYmIGNvbmZpZy5hcHByb3ZhbFBpdm90cy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIGZvciAoY29uc3QgYSBvZiBjb25maWcuYXBwcm92YWxQaXZvdHMpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGFwcHJvdmFsUGl2b3QgPSBuZXcgQXBwcm92YWxQaXZvdCh1c2VyQWN0aXZpdHkuTW9kZWwpO1xyXG4gICAgICAgICAgICAgICAgYXBwcm92YWxQaXZvdC50eXBlID0gYS50eXBlO1xyXG4gICAgICAgICAgICAgICAgYXBwcm92YWxQaXZvdC50aXRsZSA9IGEudGl0bGU7XHJcbiAgICAgICAgICAgICAgICBhcHByb3ZhbFBpdm90LmRlc2NyaXB0aW9uID0gYS5kZXNjcmlwdGlvbjtcclxuICAgICAgICAgICAgICAgIGlmIChhLmNvbmRpdGlvbikge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbmRpdGlvbiA9IG5ldyBDb25kaXRpb24odXNlckFjdGl2aXR5Lk1vZGVsKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25kaXRpb24uVmFsdWUgPSBhLmNvbmRpdGlvbjtcclxuICAgICAgICAgICAgICAgICAgICBhcHByb3ZhbFBpdm90LmNvbmRpdGlvbiA9IGNvbmRpdGlvbjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGFwcHJvdmFsUGl2b3RDb25maWcuYXBwcm92YWxQaXZvdHMucHVzaChhcHByb3ZhbFBpdm90KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB1c2VyQWN0aXZpdHkuYXBwcm92YWxQaXZvdENvbmZpZyA9IGFwcHJvdmFsUGl2b3RDb25maWc7XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlVXJnZUhhbmRsZVJ1bGUodXNlckFjdGl2aXR5OiBVc2VyQWN0aXZpdHksIG9iajogYW55KSB7XHJcbiAgICAgICAgY29uc3QgcnVsZSA9IG9iai5wcm9wZXJ0eVZhbHVlO1xyXG4gICAgICAgIGNvbnN0IHVyZ2VIYW5kbGVSdWxlID0gbmV3IFVyZ2VIYW5kbGVSdWxlKHVzZXJBY3Rpdml0eS5Nb2RlbCk7XHJcbiAgICAgICAgdXJnZUhhbmRsZVJ1bGUudXJnZUhhbmRsZUFibGUgPSBydWxlLnVyZ2VIYW5kbGVBYmxlO1xyXG4gICAgICAgIHVyZ2VIYW5kbGVSdWxlLnNlbmRUeXBlID0gcnVsZS5zZW5kVHlwZTtcclxuICAgICAgICB1cmdlSGFuZGxlUnVsZS5lYXJseVRpbWUgPSBydWxlLmVhcmx5VGltZTtcclxuICAgICAgICB1cmdlSGFuZGxlUnVsZS5pbnRlcnZhbFRpbWUgPSBydWxlLmludGVydmFsVGltZTtcclxuICAgICAgICB1cmdlSGFuZGxlUnVsZS51cmdlTWVzc2FnZVN1YmplY3QgPSBydWxlLnVyZ2VNZXNzYWdlU3ViamVjdDtcclxuICAgICAgICB1cmdlSGFuZGxlUnVsZS51cmdlTWVzc2FnZUNvbnRlbnQgPSBydWxlLnVyZ2VNZXNzYWdlQ29udGVudDtcclxuICAgICAgICB1cmdlSGFuZGxlUnVsZS5hZGRSZW1pbmRlciA9IHJ1bGUuYWRkUmVtaW5kZXI7XHJcbiAgICAgICAgdXJnZUhhbmRsZVJ1bGUuc3ViamVjdEVkaXRhYmxlID0gcnVsZS5zdWJqZWN0RWRpdGFibGU7XHJcbiAgICAgICAgdXJnZUhhbmRsZVJ1bGUuY29udGVudEVkaXRhYmxlID0gcnVsZS5jb250ZW50RWRpdGFibGU7XHJcblxyXG4gICAgICAgIGlmIChydWxlLnNtc01lc3NhZ2VUZW1wbGF0ZSkge1xyXG4gICAgICAgICAgICBjb25zdCBzbXNNZXNzYWdlVGVtcGxhdGUgPSBuZXcgU21zTWVzc2FnZVRlbXBsYXRlKHVzZXJBY3Rpdml0eS5Nb2RlbCk7XHJcbiAgICAgICAgICAgIHNtc01lc3NhZ2VUZW1wbGF0ZS5jb2RlID0gcnVsZS5zbXNNZXNzYWdlVGVtcGxhdGUuY29kZTtcclxuICAgICAgICAgICAgc21zTWVzc2FnZVRlbXBsYXRlLmNvbnRlbnQgPSBydWxlLnNtc01lc3NhZ2VUZW1wbGF0ZS5jb250ZW50O1xyXG4gICAgICAgICAgICBzbXNNZXNzYWdlVGVtcGxhdGUuc21zTWVzc2FnZVZhcmlhYmxlcyA9IG5ldyBBcnJheSgpO1xyXG4gICAgICAgICAgICBpZiAocnVsZS5zbXNNZXNzYWdlVGVtcGxhdGUuc21zTWVzc2FnZVZhcmlhYmxlcyAmJiBydWxlLnNtc01lc3NhZ2VUZW1wbGF0ZS5zbXNNZXNzYWdlVmFyaWFibGVzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgdiBvZiBydWxlLnNtc01lc3NhZ2VUZW1wbGF0ZS5zbXNNZXNzYWdlVmFyaWFibGVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdmFyaWFibGUgPSBuZXcgU21zTWVzc2FnZVZhcmlhYmxlKHVzZXJBY3Rpdml0eS5Nb2RlbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyaWFibGUuY29kZSA9IHYuY29kZTtcclxuICAgICAgICAgICAgICAgICAgICB2YXJpYWJsZS52YWx1ZSA9IHYudmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyaWFibGUudGFnID0gdi50YWc7XHJcbiAgICAgICAgICAgICAgICAgICAgc21zTWVzc2FnZVRlbXBsYXRlLnNtc01lc3NhZ2VWYXJpYWJsZXMucHVzaCh2YXJpYWJsZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdXJnZUhhbmRsZVJ1bGUuc21zTWVzc2FnZVRlbXBsYXRlID0gc21zTWVzc2FnZVRlbXBsYXRlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdXNlckFjdGl2aXR5LnVyZ2VIYW5kbGVSdWxlID0gdXJnZUhhbmRsZVJ1bGU7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDliKDpmaToioLngrnmiJblj4LkuI7ogIXml7bvvIzlr7nlupTliKDpmaRIdW1hblJlc291cmNlUm9sZXNcclxuICAgICAqIEBwYXJhbSBicG1uTW9kZWxcclxuICAgICAqIEBwYXJhbSBpZHNcclxuICAgICAqL1xyXG4gICAgcmVtb3ZlSHVtYW5SZXNvdXJjZVJvbGVzKGlkczogc3RyaW5nW10pIHtcclxuICAgICAgICBjb25zdCBicG1uTW9kZWwgPSB0aGlzLmZsb3dFbGVtZW50Lk1vZGVsO1xyXG4gICAgICAgIGlmIChpZHMgJiYgaWRzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgY29uc3QgdXNlckFjdGl2aXR5cyA9IGJwbW5Nb2RlbC5EZWZhdWx0UHJvY2Vzcy5HZXRGbG93RWxlbWVudHMoKTtcclxuICAgICAgICAgICAgbGV0IHBlcmZJZHMgPSAnJztcclxuICAgICAgICAgICAgZm9yIChsZXQga2V5IGluIHVzZXJBY3Rpdml0eXMpIHtcclxuICAgICAgICAgICAgICAgIGlmICh1c2VyQWN0aXZpdHlzW2tleV0gaW5zdGFuY2VvZiBVc2VyQWN0aXZpdHkpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCB1c2VyQWN0ID0gdXNlckFjdGl2aXR5c1trZXldIGFzIFVzZXJBY3Rpdml0eTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodXNlckFjdC5QYXJ0aWNpcGFudFNjaGVtZXMgJiYgdXNlckFjdC5QYXJ0aWNpcGFudFNjaGVtZXMubGVuZ3RoID4gMCAmJiB1c2VyQWN0LlBhcnRpY2lwYW50U2NoZW1lc1swXS5QZXJmb3JtZXJzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBlcmZJZHMgKz0gKHVzZXJBY3QuUGFydGljaXBhbnRTY2hlbWVzWzBdLlBlcmZvcm1lcnMgKyAnLCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCByZW1vdmVJZHMgPSBpZHMuZmlsdGVyKGlkID0+IHBlcmZJZHMuaW5kZXhPZihpZCkgPCAwKTtcclxuICAgICAgICAgICAgcmVtb3ZlSWRzLmZvckVhY2gocmVJZCA9PiB7XHJcbiAgICAgICAgICAgICAgICBicG1uTW9kZWwuRGVmYXVsdFByb2Nlc3MuUmVtb3ZlUmVzb3VyY2VSb2xlKHJlSWQpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDmm7TmlrDlrqHmibnmtLvliqjmianlsZXlsZ7mgKdcclxuICAgICAqIEBwYXJhbSB1c2VyQWN0aXZpdHlcclxuICAgICAqIEBwYXJhbSBvYmpcclxuICAgICAqL1xyXG4gICAgcmVzZXRFeHRlbmRQcm9wZXJ0eSh1c2VyQWN0aXZpdHk6IFVzZXJBY3Rpdml0eSwgb2JqOiBhbnkpIHtcclxuICAgICAgICBpZiAodXNlckFjdGl2aXR5KSB7XHJcbiAgICAgICAgICAgIGxldCBhdHRyaWJ1dGVzID0gb2JqLnByb3BlcnR5VmFsdWUgYXMgYW55O1xyXG4gICAgICAgICAgICBpZiAoIXVzZXJBY3Rpdml0eS5leHRlbmRQcm9wZXJ0aWVzKSB7XHJcbiAgICAgICAgICAgICAgICB1c2VyQWN0aXZpdHkuZXh0ZW5kUHJvcGVydGllcyA9IG5ldyBBcnJheTxFeHRlbmRQcm9wZXJ0eT4oKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBmb3IgKGNvbnN0IG8gb2Ygb2JqLnByb3BlcnR5VmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gdXNlckFjdGl2aXR5LmV4dGVuZFByb3BlcnRpZXMuZmluZEluZGV4KGUgPT4gZS5rZXkgPT09IG8uY29kZSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoaW5kZXggPiAtMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHVzZXJBY3Rpdml0eS5leHRlbmRQcm9wZXJ0aWVzLnNwbGljZShpbmRleCwgMSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGF0dHJpYnV0ZXMpIHtcclxuICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXMuZm9yRWFjaCgoYTogYW55KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGl0ZW0gPSBuZXcgRXh0ZW5kUHJvcGVydHkodXNlckFjdGl2aXR5Lk1vZGVsKTtcclxuICAgICAgICAgICAgICAgICAgICBpdGVtLmtleSA9IGEuY29kZTtcclxuICAgICAgICAgICAgICAgICAgICBpdGVtLnZhbHVlID0gYS52YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICB1c2VyQWN0aXZpdHkuZXh0ZW5kUHJvcGVydGllcy5wdXNoKGl0ZW0pO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuIl19