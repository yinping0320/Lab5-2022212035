/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { Injectable } from '@angular/core';
import { HttpService } from '@ecp-caf/caf-common';
import { map } from 'rxjs/operators';
var MatrixDefHelpService = /** @class */ (function () {
    function MatrixDefHelpService(http) {
        this.http = http;
    }
    /**
     * @param {?} url
     * @param {?=} params
     * @return {?}
     */
    MatrixDefHelpService.prototype.getData = /**
     * @param {?} url
     * @param {?=} params
     * @return {?}
     */
    function (url, params) {
        if (url.indexOf('getMatrixDef') > -1) {
            /** @type {?} */
            var index = params.pageIndex || 1;
            /** @type {?} */
            var size = params.pageSize || 20;
            /** @type {?} */
            var searchValue = JSON.parse(params.searchValue);
            if (searchValue.searchValue) {
                /** @type {?} */
                var query = '{';
                if (searchValue.searchValue) {
                    if (searchValue.searchField === '*') {
                        query += "\"codeOrNameLike\":\"" + searchValue.searchValue + "\",";
                    }
                    else {
                        query += "\"" + searchValue.searchField + "\":\"" + searchValue.searchValue + "\",";
                    }
                }
                if (query.substr(query.length - 1, 1) === ',') {
                    query = query.substring(0, query.length - 1);
                }
                query += '}';
                query = encodeURIComponent(query);
                query += "&pageIndex=" + index + "&pageSize=" + size;
                url += '?searchValue=' + query;
            }
            else {
                url += "?pageIndex=" + index + "&pageSize=" + size;
            }
            return this.http.get(url).pipe(map((/**
             * @param {?} re
             * @return {?}
             */
            function (re) { return ({
                items: re.content,
                total: re.totalElements,
                pageInfo: {
                    pageIndex: re.pageable.pageNumber + 1,
                    pageSize: re.pageable.pageSize,
                    pageList: [20, 40, 60, 80, 100],
                    enablePager: true
                }
            }); })));
        }
    };
    MatrixDefHelpService.decorators = [
        { type: Injectable }
    ];
    /** @nocollapse */
    MatrixDefHelpService.ctorParameters = function () { return [
        { type: HttpService }
    ]; };
    return MatrixDefHelpService;
}());
export { MatrixDefHelpService };
if (false) {
    /**
     * @type {?}
     * @private
     */
    MatrixDefHelpService.prototype.http;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWF0cml4LXBlcmZvcm1lci5jb21wb25lbnQuc2VydmljZS5qcyIsInNvdXJjZVJvb3QiOiJuZzovL0Bnc3Atd2Yvd2YtcHJvY2Vzcy1lZGl0b3IvIiwic291cmNlcyI6WyJsaWIvdmlld3MvcGVyZm9ybWVyL3ZpZXdzL21hdHJpeC1wZXJmb3JtZXIvc2VydmljZS9tYXRyaXgtcGVyZm9ybWVyLmNvbXBvbmVudC5zZXJ2aWNlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7QUFDQSxPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBQzNDLE9BQU8sRUFBRSxXQUFXLEVBQUUsTUFBTSxxQkFBcUIsQ0FBQztBQUVsRCxPQUFPLEVBQUUsR0FBRyxFQUFFLE1BQU0sZ0JBQWdCLENBQUM7QUFFckM7SUFHRSw4QkFDVSxJQUFpQjtRQUFqQixTQUFJLEdBQUosSUFBSSxDQUFhO0lBRTNCLENBQUM7Ozs7OztJQUVELHNDQUFPOzs7OztJQUFQLFVBQVEsR0FBVyxFQUFFLE1BQXFCO1FBQ3hDLElBQUksR0FBRyxDQUFDLE9BQU8sQ0FBQyxjQUFjLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRTs7Z0JBQzlCLEtBQUssR0FBRyxNQUFNLENBQUMsU0FBUyxJQUFJLENBQUM7O2dCQUM3QixJQUFJLEdBQUcsTUFBTSxDQUFDLFFBQVEsSUFBSSxFQUFFOztnQkFDNUIsV0FBVyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLFdBQVcsQ0FBQztZQUNsRCxJQUFJLFdBQVcsQ0FBQyxXQUFXLEVBQUU7O29CQUN2QixLQUFLLEdBQUcsR0FBRztnQkFDZixJQUFJLFdBQVcsQ0FBQyxXQUFXLEVBQUU7b0JBQzNCLElBQUksV0FBVyxDQUFDLFdBQVcsS0FBSyxHQUFHLEVBQUU7d0JBQ25DLEtBQUssSUFBSSwwQkFBcUIsV0FBVyxDQUFDLFdBQVcsUUFBSSxDQUFDO3FCQUMzRDt5QkFBTTt3QkFDTCxLQUFLLElBQUksT0FBSSxXQUFXLENBQUMsV0FBVyxhQUFNLFdBQVcsQ0FBQyxXQUFXLFFBQUksQ0FBQztxQkFDdkU7aUJBQ0Y7Z0JBQ0QsSUFBSSxLQUFLLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxNQUFNLEdBQUcsQ0FBQyxFQUFFLENBQUMsQ0FBQyxLQUFLLEdBQUcsRUFBRTtvQkFDN0MsS0FBSyxHQUFHLEtBQUssQ0FBQyxTQUFTLENBQUMsQ0FBQyxFQUFFLEtBQUssQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDLENBQUM7aUJBQzlDO2dCQUNELEtBQUssSUFBSSxHQUFHLENBQUM7Z0JBQ2IsS0FBSyxHQUFHLGtCQUFrQixDQUFDLEtBQUssQ0FBQyxDQUFDO2dCQUNsQyxLQUFLLElBQUksZ0JBQWMsS0FBSyxrQkFBYSxJQUFNLENBQUM7Z0JBQ2hELEdBQUcsSUFBSSxlQUFlLEdBQUcsS0FBSyxDQUFDO2FBQ2hDO2lCQUFNO2dCQUNMLEdBQUcsSUFBSSxnQkFBYyxLQUFLLGtCQUFhLElBQU0sQ0FBQzthQUMvQztZQUNELE9BQU8sSUFBSSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsSUFBSSxDQUM1QixHQUFHOzs7O1lBQUMsVUFBQyxFQUFPLElBQUssT0FBQSxDQUFDO2dCQUNoQixLQUFLLEVBQUUsRUFBRSxDQUFDLE9BQU87Z0JBQ2pCLEtBQUssRUFBRSxFQUFFLENBQUMsYUFBYTtnQkFDdkIsUUFBUSxFQUFFO29CQUNSLFNBQVMsRUFBRSxFQUFFLENBQUMsUUFBUSxDQUFDLFVBQVUsR0FBRyxDQUFDO29CQUNyQyxRQUFRLEVBQUUsRUFBRSxDQUFDLFFBQVEsQ0FBQyxRQUFRO29CQUM5QixRQUFRLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsR0FBRyxDQUFDO29CQUMvQixXQUFXLEVBQUUsSUFBSTtpQkFDbEI7YUFDRixDQUFDLEVBVGUsQ0FTZixFQUFDLENBQ0osQ0FBQztTQUNIO0lBQ0gsQ0FBQzs7Z0JBN0NGLFVBQVU7Ozs7Z0JBSkYsV0FBVzs7SUFrRHBCLDJCQUFDO0NBQUEsQUE5Q0QsSUE4Q0M7U0E3Q1ksb0JBQW9COzs7Ozs7SUFHN0Isb0NBQXlCIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSUxvb2t1cEh0dHBTZXJ2aWNlLCBSZW1vdGVQYXJhbXMsIExvb2t1cEdyaWRSZXN1bHQgfSBmcm9tICdAZmFycmlzL3VpLWxvb2t1cCc7XHJcbmltcG9ydCB7IEluamVjdGFibGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuaW1wb3J0IHsgSHR0cFNlcnZpY2UgfSBmcm9tICdAZWNwLWNhZi9jYWYtY29tbW9uJztcclxuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJ3J4anMnO1xyXG5pbXBvcnQgeyBtYXAgfSBmcm9tICdyeGpzL29wZXJhdG9ycyc7XHJcblxyXG5ASW5qZWN0YWJsZSgpXHJcbmV4cG9ydCBjbGFzcyBNYXRyaXhEZWZIZWxwU2VydmljZSBpbXBsZW1lbnRzIElMb29rdXBIdHRwU2VydmljZSB7XHJcblxyXG4gIGNvbnN0cnVjdG9yKFxyXG4gICAgcHJpdmF0ZSBodHRwOiBIdHRwU2VydmljZVxyXG4gICkge1xyXG4gIH1cclxuXHJcbiAgZ2V0RGF0YSh1cmw6IHN0cmluZywgcGFyYW1zPzogUmVtb3RlUGFyYW1zKTogT2JzZXJ2YWJsZTxMb29rdXBHcmlkUmVzdWx0PiB7XHJcbiAgICBpZiAodXJsLmluZGV4T2YoJ2dldE1hdHJpeERlZicpID4gLTEpIHtcclxuICAgICAgY29uc3QgaW5kZXggPSBwYXJhbXMucGFnZUluZGV4IHx8IDE7XHJcbiAgICAgIGNvbnN0IHNpemUgPSBwYXJhbXMucGFnZVNpemUgfHwgMjA7XHJcbiAgICAgIGNvbnN0IHNlYXJjaFZhbHVlID0gSlNPTi5wYXJzZShwYXJhbXMuc2VhcmNoVmFsdWUpO1xyXG4gICAgICBpZiAoc2VhcmNoVmFsdWUuc2VhcmNoVmFsdWUpIHtcclxuICAgICAgICBsZXQgcXVlcnkgPSAneyc7XHJcbiAgICAgICAgaWYgKHNlYXJjaFZhbHVlLnNlYXJjaFZhbHVlKSB7XHJcbiAgICAgICAgICBpZiAoc2VhcmNoVmFsdWUuc2VhcmNoRmllbGQgPT09ICcqJykge1xyXG4gICAgICAgICAgICBxdWVyeSArPSBgXCJjb2RlT3JOYW1lTGlrZVwiOlwiJHtzZWFyY2hWYWx1ZS5zZWFyY2hWYWx1ZX1cIixgO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcXVlcnkgKz0gYFwiJHtzZWFyY2hWYWx1ZS5zZWFyY2hGaWVsZH1cIjpcIiR7c2VhcmNoVmFsdWUuc2VhcmNoVmFsdWV9XCIsYDtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHF1ZXJ5LnN1YnN0cihxdWVyeS5sZW5ndGggLSAxLCAxKSA9PT0gJywnKSB7XHJcbiAgICAgICAgICBxdWVyeSA9IHF1ZXJ5LnN1YnN0cmluZygwLCBxdWVyeS5sZW5ndGggLSAxKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcXVlcnkgKz0gJ30nO1xyXG4gICAgICAgIHF1ZXJ5ID0gZW5jb2RlVVJJQ29tcG9uZW50KHF1ZXJ5KTtcclxuICAgICAgICBxdWVyeSArPSBgJnBhZ2VJbmRleD0ke2luZGV4fSZwYWdlU2l6ZT0ke3NpemV9YDtcclxuICAgICAgICB1cmwgKz0gJz9zZWFyY2hWYWx1ZT0nICsgcXVlcnk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdXJsICs9IGA/cGFnZUluZGV4PSR7aW5kZXh9JnBhZ2VTaXplPSR7c2l6ZX1gO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiB0aGlzLmh0dHAuZ2V0KHVybCkucGlwZShcclxuICAgICAgICBtYXAoKHJlOiBhbnkpID0+ICh7XHJcbiAgICAgICAgICBpdGVtczogcmUuY29udGVudCxcclxuICAgICAgICAgIHRvdGFsOiByZS50b3RhbEVsZW1lbnRzLFxyXG4gICAgICAgICAgcGFnZUluZm86IHtcclxuICAgICAgICAgICAgcGFnZUluZGV4OiByZS5wYWdlYWJsZS5wYWdlTnVtYmVyICsgMSxcclxuICAgICAgICAgICAgcGFnZVNpemU6IHJlLnBhZ2VhYmxlLnBhZ2VTaXplLFxyXG4gICAgICAgICAgICBwYWdlTGlzdDogWzIwLCA0MCwgNjAsIDgwLCAxMDBdLFxyXG4gICAgICAgICAgICBlbmFibGVQYWdlcjogdHJ1ZVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pKVxyXG4gICAgICApO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG4iXX0=