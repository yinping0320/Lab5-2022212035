/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { Component, Input, Output, EventEmitter, ViewChild } from '@angular/core';
import { of } from 'rxjs';
import { LookupGridComponent, ServerSideToken } from '@farris/ui-lookup';
import { WfReportDefHelpService } from './wf-report-def-help.service';
import { WfLocalePipe } from '../../../../../i18n/pipe/wf-process-editor-locale.pipe';
var WfReportDefHelpComponent = /** @class */ (function () {
    function WfReportDefHelpComponent(localePipe) {
        var _this = this;
        this.localePipe = localePipe;
        /**
         * 宽度
         */
        this.width = 550;
        /**
         * 只读
         */
        this.disabled = false;
        /**
         * 是否单选
         */
        this.singleSelect = true;
        /**
         * 是否分页，默认true
         */
        this.pagination = true;
        /**
         * 首次加载第几页，默认1
         */
        this.pageIndex = 1;
        /**
         * 每页加载数，默认20
         */
        this.pageSize = 20;
        /**
         * 过滤条件
         */
        this.filter = {};
        // @Input() beforeClose: (selectData: any) => Observable<PickedResult>;
        /**
         * 帮助选择后事件
         */
        this.afterConfirm = new EventEmitter();
        this.dialogClosed = new EventEmitter();
        this.clear = new EventEmitter();
        this.columns = [];
        /**
         * 帮助前事件,强行传递过滤条件
         */
        this.beforeOpen = (/**
         * @param {?} arg
         * @return {?}
         */
        function (arg) {
            // 把过滤数据和当前的数据传递到service层
            return of({
                showDialog: true, data: {
                    filter: _this.filter
                }
            });
        });
        this.dictPicked = (/**
         * @param {?} arg
         * @return {?}
         */
        function (arg) {
            _this.afterConfirm.next(arg);
            return of({ closeDialog: true });
        });
    }
    /**
     * @return {?}
     */
    WfReportDefHelpComponent.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
        this.columns = [
            { title: this.localePipe.transform('component.reportingLine.code'), field: 'code', width: '80', searchField: 'code', },
            { title: this.localePipe.transform('component.reportingLine.name'), field: 'name', width: '100', searchField: 'name', }
        ];
        // this.dataUri = this.uiState.dataUri;
        this.dataUri = '/api/runtime/wf/v1.0/reportingLineDefinitions/query';
        // 必须要有，否则初始选中不起作用
        this.lookUp.mapFields = { id: 'id', name: 'name' };
    };
    /**
     * @param {?} arg
     * @return {?}
     */
    WfReportDefHelpComponent.prototype.afterClear = /**
     * @param {?} arg
     * @return {?}
     */
    function (arg) {
        this.clear.next(arg);
    };
    /** 手动显示帮助 */
    /**
     * 手动显示帮助
     * @return {?}
     */
    WfReportDefHelpComponent.prototype.showHelp = /**
     * 手动显示帮助
     * @return {?}
     */
    function () {
        this.lookUp.showDialog();
    };
    WfReportDefHelpComponent.decorators = [
        { type: Component, args: [{
                    selector: 'app-wf-report-def-help',
                    template: "\n    <farris-lookup-grid #lookup\n      [disabled]=\"disabled\"\n      [editable]=\"false\"\n      [bindingData]=\"bindingData\"\n      [(ngModel)]=\"displayTxt\"\n      [columns]=\"columns\"\n      [singleSelect]=\"singleSelect\"\n      title=\"title\"\n      [displayType]=\"'List'\"\n      [uri]=\"dataUri\"\n      [idField]=\"'id'\"\n      [pageIndex]=\"pageIndex\"\n      [pageSize]=\"pageSize\"\n      [pagination]=\"pagination\"\n      [valueField]=\"'id'\"\n      [textField]=\"'name'\"\n      (clear)=\"afterClear($event)\"\n      [dialogWidth]=\"width\"\n      [dictPicking]=\"beforeOpen\"\n      [dictPicked]=\"dictPicked\">\n    </farris-lookup-grid>\n  ",
                    providers: [{ provide: ServerSideToken, useClass: WfReportDefHelpService }]
                }] }
    ];
    /** @nocollapse */
    WfReportDefHelpComponent.ctorParameters = function () { return [
        { type: WfLocalePipe }
    ]; };
    WfReportDefHelpComponent.propDecorators = {
        title: [{ type: Input }],
        width: [{ type: Input }],
        sourceType: [{ type: Input }],
        disabled: [{ type: Input }],
        singleSelect: [{ type: Input }],
        pagination: [{ type: Input }],
        pageIndex: [{ type: Input }],
        pageSize: [{ type: Input }],
        displayTxt: [{ type: Input }],
        bindingData: [{ type: Input }],
        filter: [{ type: Input }],
        afterConfirm: [{ type: Output }],
        dialogClosed: [{ type: Output }],
        clear: [{ type: Output }],
        lookUp: [{ type: ViewChild, args: ['lookup',] }]
    };
    return WfReportDefHelpComponent;
}());
export { WfReportDefHelpComponent };
if (false) {
    /**
     * 标题
     * @type {?}
     */
    WfReportDefHelpComponent.prototype.title;
    /**
     * 宽度
     * @type {?}
     */
    WfReportDefHelpComponent.prototype.width;
    /**
     * 取数源
     * @type {?}
     */
    WfReportDefHelpComponent.prototype.sourceType;
    /**
     * 只读
     * @type {?}
     */
    WfReportDefHelpComponent.prototype.disabled;
    /**
     * 是否单选
     * @type {?}
     */
    WfReportDefHelpComponent.prototype.singleSelect;
    /**
     * 是否分页，默认true
     * @type {?}
     */
    WfReportDefHelpComponent.prototype.pagination;
    /**
     * 首次加载第几页，默认1
     * @type {?}
     */
    WfReportDefHelpComponent.prototype.pageIndex;
    /**
     * 每页加载数，默认20
     * @type {?}
     */
    WfReportDefHelpComponent.prototype.pageSize;
    /**
     * 绑定到帮助上的数据，初始显示值用
     * @type {?}
     */
    WfReportDefHelpComponent.prototype.displayTxt;
    /**
     * 存储帮助选择的对象
     * @type {?}
     */
    WfReportDefHelpComponent.prototype.bindingData;
    /**
     * 过滤条件
     * @type {?}
     */
    WfReportDefHelpComponent.prototype.filter;
    /**
     * 帮助选择后事件
     * @type {?}
     */
    WfReportDefHelpComponent.prototype.afterConfirm;
    /** @type {?} */
    WfReportDefHelpComponent.prototype.dialogClosed;
    /** @type {?} */
    WfReportDefHelpComponent.prototype.clear;
    /** @type {?} */
    WfReportDefHelpComponent.prototype.dataUri;
    /** @type {?} */
    WfReportDefHelpComponent.prototype.columns;
    /** @type {?} */
    WfReportDefHelpComponent.prototype.lookUp;
    /**
     * 帮助前事件,强行传递过滤条件
     * @type {?}
     */
    WfReportDefHelpComponent.prototype.beforeOpen;
    /** @type {?} */
    WfReportDefHelpComponent.prototype.dictPicked;
    /**
     * @type {?}
     * @private
     */
    WfReportDefHelpComponent.prototype.localePipe;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoid2YtcmVwb3J0LWRlZi1oZWxwLmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiJuZzovL0Bnc3Atd2Yvd2YtcHJvY2Vzcy1lZGl0b3IvIiwic291cmNlcyI6WyJsaWIvdmlld3MvcGVyZm9ybWVyL3ZpZXdzL3JlcG9ydGluZy1saW5lL3NlcnZpY2Uvd2YtcmVwb3J0LWRlZi1oZWxwLmNvbXBvbmVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O0FBQUEsT0FBTyxFQUFFLFNBQVMsRUFBVSxLQUFLLEVBQUUsTUFBTSxFQUFFLFlBQVksRUFBRSxTQUFTLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFDMUYsT0FBTyxFQUFjLEVBQUUsRUFBRSxNQUFNLE1BQU0sQ0FBQztBQUN0QyxPQUFPLEVBQWdCLG1CQUFtQixFQUFFLGVBQWUsRUFBRSxNQUFNLG1CQUFtQixDQUFDO0FBQ3ZGLE9BQU8sRUFBRSxzQkFBc0IsRUFBRSxNQUFNLDhCQUE4QixDQUFDO0FBQ3RFLE9BQU8sRUFBRSxZQUFZLEVBQUUsTUFBTSx3REFBd0QsQ0FBQztBQUV0RjtJQThERSxrQ0FDVSxVQUF3QjtRQURsQyxpQkFFSztRQURLLGVBQVUsR0FBVixVQUFVLENBQWM7Ozs7UUEvQnpCLFVBQUssR0FBRyxHQUFHLENBQUM7Ozs7UUFJWixhQUFRLEdBQUcsS0FBSyxDQUFDOzs7O1FBRWpCLGlCQUFZLEdBQUcsSUFBSSxDQUFDOzs7O1FBRXBCLGVBQVUsR0FBRyxJQUFJLENBQUM7Ozs7UUFFbEIsY0FBUyxHQUFHLENBQUMsQ0FBQzs7OztRQUVkLGFBQVEsR0FBRyxFQUFFLENBQUM7Ozs7UUFNZCxXQUFNLEdBQVEsRUFBRSxDQUFDOzs7OztRQUloQixpQkFBWSxHQUFzQixJQUFJLFlBQVksRUFBTyxDQUFDO1FBQzFELGlCQUFZLEdBQXNCLElBQUksWUFBWSxFQUFPLENBQUM7UUFDMUQsVUFBSyxHQUFzQixJQUFJLFlBQVksRUFBTyxDQUFDO1FBRTdELFlBQU8sR0FBVSxFQUFFLENBQUM7Ozs7UUF3QnBCLGVBQVU7Ozs7UUFBRyxVQUFDLEdBQUc7WUFDZix5QkFBeUI7WUFDekIsT0FBTyxFQUFFLENBQUM7Z0JBQ1IsVUFBVSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUU7b0JBQ3RCLE1BQU0sRUFBRSxLQUFJLENBQUMsTUFBTTtpQkFDcEI7YUFDRixDQUFDLENBQUM7UUFDTCxDQUFDLEVBQUE7UUFDRCxlQUFVOzs7O1FBQUcsVUFBQyxHQUFRO1lBQ3BCLEtBQUksQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBQzVCLE9BQU8sRUFBRSxDQUFDLEVBQUUsV0FBVyxFQUFFLElBQUksRUFBRSxDQUFDLENBQUM7UUFDbkMsQ0FBQyxFQUFBO0lBN0JHLENBQUM7Ozs7SUFFTCwyQ0FBUTs7O0lBQVI7UUFDRSxJQUFJLENBQUMsT0FBTyxHQUFHO1lBQ2IsRUFBRSxLQUFLLEVBQUUsSUFBSSxDQUFDLFVBQVUsQ0FBQyxTQUFTLENBQUMsOEJBQThCLENBQUMsRUFBRSxLQUFLLEVBQUUsTUFBTSxFQUFFLEtBQUssRUFBRSxJQUFJLEVBQUUsV0FBVyxFQUFFLE1BQU0sR0FBRztZQUN0SCxFQUFFLEtBQUssRUFBRSxJQUFJLENBQUMsVUFBVSxDQUFDLFNBQVMsQ0FBQyw4QkFBOEIsQ0FBQyxFQUFFLEtBQUssRUFBRSxNQUFNLEVBQUUsS0FBSyxFQUFFLEtBQUssRUFBRSxXQUFXLEVBQUUsTUFBTSxHQUFHO1NBQ3hILENBQUM7UUFDRix1Q0FBdUM7UUFDdkMsSUFBSSxDQUFDLE9BQU8sR0FBRyxxREFBcUQsQ0FBQztRQUNyRSxrQkFBa0I7UUFDbEIsSUFBSSxDQUFDLE1BQU0sQ0FBQyxTQUFTLEdBQUcsRUFBRSxFQUFFLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxNQUFNLEVBQUUsQ0FBQztJQUNyRCxDQUFDOzs7OztJQUVELDZDQUFVOzs7O0lBQVYsVUFBVyxHQUFRO1FBQ2pCLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQ3ZCLENBQUM7SUFpQkQsYUFBYTs7Ozs7SUFDTiwyQ0FBUTs7OztJQUFmO1FBQ0UsSUFBSSxDQUFDLE1BQU0sQ0FBQyxVQUFVLEVBQUUsQ0FBQztJQUMzQixDQUFDOztnQkFuR0YsU0FBUyxTQUFDO29CQUNULFFBQVEsRUFBRSx3QkFBd0I7b0JBQ2xDLFFBQVEsRUFBRSw2cEJBc0JUO29CQUVELFNBQVMsRUFBRSxDQUFDLEVBQUUsT0FBTyxFQUFFLGVBQWUsRUFBRSxRQUFRLEVBQUUsc0JBQXNCLEVBQUUsQ0FBQztpQkFDNUU7Ozs7Z0JBN0JRLFlBQVk7Ozt3QkFnQ2xCLEtBQUs7d0JBRUwsS0FBSzs2QkFFTCxLQUFLOzJCQUVMLEtBQUs7K0JBRUwsS0FBSzs2QkFFTCxLQUFLOzRCQUVMLEtBQUs7MkJBRUwsS0FBSzs2QkFFTCxLQUFLOzhCQUVMLEtBQUs7eUJBRUwsS0FBSzsrQkFJTCxNQUFNOytCQUNOLE1BQU07d0JBQ04sTUFBTTt5QkFJTixTQUFTLFNBQUMsUUFBUTs7SUF3Q3JCLCtCQUFDO0NBQUEsQUFwR0QsSUFvR0M7U0F4RVksd0JBQXdCOzs7Ozs7SUFFbkMseUNBQXVCOzs7OztJQUV2Qix5Q0FBcUI7Ozs7O0lBRXJCLDhDQUFtQzs7Ozs7SUFFbkMsNENBQTBCOzs7OztJQUUxQixnREFBNkI7Ozs7O0lBRTdCLDhDQUEyQjs7Ozs7SUFFM0IsNkNBQXVCOzs7OztJQUV2Qiw0Q0FBdUI7Ozs7O0lBRXZCLDhDQUE0Qjs7Ozs7SUFFNUIsK0NBQW1EOzs7OztJQUVuRCwwQ0FBMEI7Ozs7O0lBSTFCLGdEQUFvRTs7SUFDcEUsZ0RBQW9FOztJQUNwRSx5Q0FBNkQ7O0lBQzdELDJDQUFnQjs7SUFDaEIsMkNBQW9COztJQUVwQiwwQ0FBd0Q7Ozs7O0lBc0J4RCw4Q0FPQzs7SUFDRCw4Q0FHQzs7Ozs7SUE5QkMsOENBQWdDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29tcG9uZW50LCBPbkluaXQsIElucHV0LCBPdXRwdXQsIEV2ZW50RW1pdHRlciwgVmlld0NoaWxkIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcbmltcG9ydCB7IE9ic2VydmFibGUsIG9mIH0gZnJvbSAncnhqcyc7XHJcbmltcG9ydCB7IFBpY2tlZFJlc3VsdCwgTG9va3VwR3JpZENvbXBvbmVudCwgU2VydmVyU2lkZVRva2VuIH0gZnJvbSAnQGZhcnJpcy91aS1sb29rdXAnO1xyXG5pbXBvcnQgeyBXZlJlcG9ydERlZkhlbHBTZXJ2aWNlIH0gZnJvbSAnLi93Zi1yZXBvcnQtZGVmLWhlbHAuc2VydmljZSc7XHJcbmltcG9ydCB7IFdmTG9jYWxlUGlwZSB9IGZyb20gJy4uLy4uLy4uLy4uLy4uL2kxOG4vcGlwZS93Zi1wcm9jZXNzLWVkaXRvci1sb2NhbGUucGlwZSc7XHJcblxyXG5AQ29tcG9uZW50KHtcclxuICBzZWxlY3RvcjogJ2FwcC13Zi1yZXBvcnQtZGVmLWhlbHAnLFxyXG4gIHRlbXBsYXRlOiBgXHJcbiAgICA8ZmFycmlzLWxvb2t1cC1ncmlkICNsb29rdXBcclxuICAgICAgW2Rpc2FibGVkXT1cImRpc2FibGVkXCJcclxuICAgICAgW2VkaXRhYmxlXT1cImZhbHNlXCJcclxuICAgICAgW2JpbmRpbmdEYXRhXT1cImJpbmRpbmdEYXRhXCJcclxuICAgICAgWyhuZ01vZGVsKV09XCJkaXNwbGF5VHh0XCJcclxuICAgICAgW2NvbHVtbnNdPVwiY29sdW1uc1wiXHJcbiAgICAgIFtzaW5nbGVTZWxlY3RdPVwic2luZ2xlU2VsZWN0XCJcclxuICAgICAgdGl0bGU9XCJ0aXRsZVwiXHJcbiAgICAgIFtkaXNwbGF5VHlwZV09XCInTGlzdCdcIlxyXG4gICAgICBbdXJpXT1cImRhdGFVcmlcIlxyXG4gICAgICBbaWRGaWVsZF09XCInaWQnXCJcclxuICAgICAgW3BhZ2VJbmRleF09XCJwYWdlSW5kZXhcIlxyXG4gICAgICBbcGFnZVNpemVdPVwicGFnZVNpemVcIlxyXG4gICAgICBbcGFnaW5hdGlvbl09XCJwYWdpbmF0aW9uXCJcclxuICAgICAgW3ZhbHVlRmllbGRdPVwiJ2lkJ1wiXHJcbiAgICAgIFt0ZXh0RmllbGRdPVwiJ25hbWUnXCJcclxuICAgICAgKGNsZWFyKT1cImFmdGVyQ2xlYXIoJGV2ZW50KVwiXHJcbiAgICAgIFtkaWFsb2dXaWR0aF09XCJ3aWR0aFwiXHJcbiAgICAgIFtkaWN0UGlja2luZ109XCJiZWZvcmVPcGVuXCJcclxuICAgICAgW2RpY3RQaWNrZWRdPVwiZGljdFBpY2tlZFwiPlxyXG4gICAgPC9mYXJyaXMtbG9va3VwLWdyaWQ+XHJcbiAgYCxcclxuICBzdHlsZXM6IFtdLFxyXG4gIHByb3ZpZGVyczogW3sgcHJvdmlkZTogU2VydmVyU2lkZVRva2VuLCB1c2VDbGFzczogV2ZSZXBvcnREZWZIZWxwU2VydmljZSB9XVxyXG59KVxyXG5leHBvcnQgY2xhc3MgV2ZSZXBvcnREZWZIZWxwQ29tcG9uZW50IGltcGxlbWVudHMgT25Jbml0IHtcclxuICAvKiog5qCH6aKYICovXHJcbiAgQElucHV0KCkgdGl0bGU6IHN0cmluZztcclxuICAvKiog5a695bqmICovXHJcbiAgQElucHV0KCkgd2lkdGggPSA1NTA7XHJcbiAgLyoqIOWPluaVsOa6kCAqL1xyXG4gIEBJbnB1dCgpIHNvdXJjZVR5cGU6ICdtYXRyaXhGaWVsZCc7XHJcbiAgLyoqIOWPquivuyAqL1xyXG4gIEBJbnB1dCgpIGRpc2FibGVkID0gZmFsc2U7XHJcbiAgLyoqIOaYr+WQpuWNlemAiSAqL1xyXG4gIEBJbnB1dCgpIHNpbmdsZVNlbGVjdCA9IHRydWU7XHJcbiAgLyoqIOaYr+WQpuWIhumhte+8jOm7mOiupHRydWUgKi9cclxuICBASW5wdXQoKSBwYWdpbmF0aW9uID0gdHJ1ZTtcclxuICAvKiog6aaW5qyh5Yqg6L2956ys5Yeg6aG177yM6buY6K6kMSAqL1xyXG4gIEBJbnB1dCgpIHBhZ2VJbmRleCA9IDE7XHJcbiAgLyoqIOavj+mhteWKoOi9veaVsO+8jOm7mOiupDIwICovXHJcbiAgQElucHV0KCkgcGFnZVNpemUgPSAyMDtcclxuICAvKiog57uR5a6a5Yiw5biu5Yqp5LiK55qE5pWw5o2u77yM5Yid5aeL5pi+56S65YC855SoICovXHJcbiAgQElucHV0KCkgZGlzcGxheVR4dDogc3RyaW5nO1xyXG4gIC8qKiDlrZjlgqjluK7liqnpgInmi6nnmoTlr7nosaEgKi9cclxuICBASW5wdXQoKSBiaW5kaW5nRGF0YTogeyBpZDogc3RyaW5nLCBuYW1lOiBzdHJpbmcgfTtcclxuICAvKiog6L+H5ruk5p2h5Lu2ICovXHJcbiAgQElucHV0KCkgZmlsdGVyOiBhbnkgPSB7fTtcclxuXHJcbiAgLy8gQElucHV0KCkgYmVmb3JlQ2xvc2U6IChzZWxlY3REYXRhOiBhbnkpID0+IE9ic2VydmFibGU8UGlja2VkUmVzdWx0PjtcclxuICAvKiog5biu5Yqp6YCJ5oup5ZCO5LqL5Lu2ICovXHJcbiAgQE91dHB1dCgpIGFmdGVyQ29uZmlybTogRXZlbnRFbWl0dGVyPGFueT4gPSBuZXcgRXZlbnRFbWl0dGVyPGFueT4oKTtcclxuICBAT3V0cHV0KCkgZGlhbG9nQ2xvc2VkOiBFdmVudEVtaXR0ZXI8YW55PiA9IG5ldyBFdmVudEVtaXR0ZXI8YW55PigpO1xyXG4gIEBPdXRwdXQoKSBjbGVhcjogRXZlbnRFbWl0dGVyPGFueT4gPSBuZXcgRXZlbnRFbWl0dGVyPGFueT4oKTtcclxuICBkYXRhVXJpOiBzdHJpbmc7XHJcbiAgY29sdW1uczogYW55W10gPSBbXTtcclxuXHJcbiAgQFZpZXdDaGlsZCgnbG9va3VwJykgcHVibGljIGxvb2tVcDogTG9va3VwR3JpZENvbXBvbmVudDtcclxuXHJcbiAgY29uc3RydWN0b3IoXHJcbiAgICBwcml2YXRlIGxvY2FsZVBpcGU6IFdmTG9jYWxlUGlwZVxyXG4gICkgeyB9XHJcblxyXG4gIG5nT25Jbml0KCkge1xyXG4gICAgdGhpcy5jb2x1bW5zID0gW1xyXG4gICAgICB7IHRpdGxlOiB0aGlzLmxvY2FsZVBpcGUudHJhbnNmb3JtKCdjb21wb25lbnQucmVwb3J0aW5nTGluZS5jb2RlJyksIGZpZWxkOiAnY29kZScsIHdpZHRoOiAnODAnLCBzZWFyY2hGaWVsZDogJ2NvZGUnLCB9LFxyXG4gICAgICB7IHRpdGxlOiB0aGlzLmxvY2FsZVBpcGUudHJhbnNmb3JtKCdjb21wb25lbnQucmVwb3J0aW5nTGluZS5uYW1lJyksIGZpZWxkOiAnbmFtZScsIHdpZHRoOiAnMTAwJywgc2VhcmNoRmllbGQ6ICduYW1lJywgfVxyXG4gICAgXTtcclxuICAgIC8vIHRoaXMuZGF0YVVyaSA9IHRoaXMudWlTdGF0ZS5kYXRhVXJpO1xyXG4gICAgdGhpcy5kYXRhVXJpID0gJy9hcGkvcnVudGltZS93Zi92MS4wL3JlcG9ydGluZ0xpbmVEZWZpbml0aW9ucy9xdWVyeSc7XHJcbiAgICAvLyDlv4XpobvopoHmnInvvIzlkKbliJnliJ3lp4vpgInkuK3kuI3otbfkvZznlKhcclxuICAgIHRoaXMubG9va1VwLm1hcEZpZWxkcyA9IHsgaWQ6ICdpZCcsIG5hbWU6ICduYW1lJyB9O1xyXG4gIH1cclxuXHJcbiAgYWZ0ZXJDbGVhcihhcmc6IGFueSkge1xyXG4gICAgdGhpcy5jbGVhci5uZXh0KGFyZyk7XHJcbiAgfVxyXG5cclxuICAvKiog5biu5Yqp5YmN5LqL5Lu2LOW8uuihjOS8oOmAkui/h+a7pOadoeS7tiAqL1xyXG4gIGJlZm9yZU9wZW4gPSAoYXJnKSA9PiB7XHJcbiAgICAvLyDmiorov4fmu6TmlbDmja7lkozlvZPliY3nmoTmlbDmja7kvKDpgJLliLBzZXJ2aWNl5bGCXHJcbiAgICByZXR1cm4gb2Yoe1xyXG4gICAgICBzaG93RGlhbG9nOiB0cnVlLCBkYXRhOiB7XHJcbiAgICAgICAgZmlsdGVyOiB0aGlzLmZpbHRlclxyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcbiAgZGljdFBpY2tlZCA9IChhcmc6IGFueSk6IE9ic2VydmFibGU8UGlja2VkUmVzdWx0PiA9PiB7XHJcbiAgICB0aGlzLmFmdGVyQ29uZmlybS5uZXh0KGFyZyk7XHJcbiAgICByZXR1cm4gb2YoeyBjbG9zZURpYWxvZzogdHJ1ZSB9KTtcclxuICB9XHJcblxyXG5cclxuICAvKiog5omL5Yqo5pi+56S65biu5YqpICovXHJcbiAgcHVibGljIHNob3dIZWxwKCkge1xyXG4gICAgdGhpcy5sb29rVXAuc2hvd0RpYWxvZygpO1xyXG4gIH1cclxufVxyXG4iXX0=