/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { Component, Input, Output, EventEmitter, ViewChild } from '@angular/core';
import { of } from 'rxjs';
import { LookupGridComponent, ServerSideToken } from '@farris/ui-lookup';
import { WfReportDefHelpService } from './wf-report-def-help.service';
import { WfLocalePipe } from '../../../../../i18n/pipe/wf-process-editor-locale.pipe';
export class WfReportDefHelpComponent {
    /**
     * @param {?} localePipe
     */
    constructor(localePipe) {
        this.localePipe = localePipe;
        /**
         * 宽度
         */
        this.width = 550;
        /**
         * 只读
         */
        this.disabled = false;
        /**
         * 是否单选
         */
        this.singleSelect = true;
        /**
         * 是否分页，默认true
         */
        this.pagination = true;
        /**
         * 首次加载第几页，默认1
         */
        this.pageIndex = 1;
        /**
         * 每页加载数，默认20
         */
        this.pageSize = 20;
        /**
         * 过滤条件
         */
        this.filter = {};
        // @Input() beforeClose: (selectData: any) => Observable<PickedResult>;
        /**
         * 帮助选择后事件
         */
        this.afterConfirm = new EventEmitter();
        this.dialogClosed = new EventEmitter();
        this.clear = new EventEmitter();
        this.columns = [];
        /**
         * 帮助前事件,强行传递过滤条件
         */
        this.beforeOpen = (/**
         * @param {?} arg
         * @return {?}
         */
        (arg) => {
            // 把过滤数据和当前的数据传递到service层
            return of({
                showDialog: true, data: {
                    filter: this.filter
                }
            });
        });
        this.dictPicked = (/**
         * @param {?} arg
         * @return {?}
         */
        (arg) => {
            this.afterConfirm.next(arg);
            return of({ closeDialog: true });
        });
    }
    /**
     * @return {?}
     */
    ngOnInit() {
        this.columns = [
            { title: this.localePipe.transform('component.reportingLine.code'), field: 'code', width: '80', searchField: 'code', },
            { title: this.localePipe.transform('component.reportingLine.name'), field: 'name', width: '100', searchField: 'name', }
        ];
        // this.dataUri = this.uiState.dataUri;
        this.dataUri = '/api/runtime/wf/v1.0/reportingLineDefinitions/query';
        // 必须要有，否则初始选中不起作用
        this.lookUp.mapFields = { id: 'id', name: 'name' };
    }
    /**
     * @param {?} arg
     * @return {?}
     */
    afterClear(arg) {
        this.clear.next(arg);
    }
    /**
     * 手动显示帮助
     * @return {?}
     */
    showHelp() {
        this.lookUp.showDialog();
    }
}
WfReportDefHelpComponent.decorators = [
    { type: Component, args: [{
                selector: 'app-wf-report-def-help',
                template: `
    <farris-lookup-grid #lookup
      [disabled]="disabled"
      [editable]="false"
      [bindingData]="bindingData"
      [(ngModel)]="displayTxt"
      [columns]="columns"
      [singleSelect]="singleSelect"
      title="title"
      [displayType]="'List'"
      [uri]="dataUri"
      [idField]="'id'"
      [pageIndex]="pageIndex"
      [pageSize]="pageSize"
      [pagination]="pagination"
      [valueField]="'id'"
      [textField]="'name'"
      (clear)="afterClear($event)"
      [dialogWidth]="width"
      [dictPicking]="beforeOpen"
      [dictPicked]="dictPicked">
    </farris-lookup-grid>
  `,
                providers: [{ provide: ServerSideToken, useClass: WfReportDefHelpService }]
            }] }
];
/** @nocollapse */
WfReportDefHelpComponent.ctorParameters = () => [
    { type: WfLocalePipe }
];
WfReportDefHelpComponent.propDecorators = {
    title: [{ type: Input }],
    width: [{ type: Input }],
    sourceType: [{ type: Input }],
    disabled: [{ type: Input }],
    singleSelect: [{ type: Input }],
    pagination: [{ type: Input }],
    pageIndex: [{ type: Input }],
    pageSize: [{ type: Input }],
    displayTxt: [{ type: Input }],
    bindingData: [{ type: Input }],
    filter: [{ type: Input }],
    afterConfirm: [{ type: Output }],
    dialogClosed: [{ type: Output }],
    clear: [{ type: Output }],
    lookUp: [{ type: ViewChild, args: ['lookup',] }]
};
if (false) {
    /**
     * 标题
     * @type {?}
     */
    WfReportDefHelpComponent.prototype.title;
    /**
     * 宽度
     * @type {?}
     */
    WfReportDefHelpComponent.prototype.width;
    /**
     * 取数源
     * @type {?}
     */
    WfReportDefHelpComponent.prototype.sourceType;
    /**
     * 只读
     * @type {?}
     */
    WfReportDefHelpComponent.prototype.disabled;
    /**
     * 是否单选
     * @type {?}
     */
    WfReportDefHelpComponent.prototype.singleSelect;
    /**
     * 是否分页，默认true
     * @type {?}
     */
    WfReportDefHelpComponent.prototype.pagination;
    /**
     * 首次加载第几页，默认1
     * @type {?}
     */
    WfReportDefHelpComponent.prototype.pageIndex;
    /**
     * 每页加载数，默认20
     * @type {?}
     */
    WfReportDefHelpComponent.prototype.pageSize;
    /**
     * 绑定到帮助上的数据，初始显示值用
     * @type {?}
     */
    WfReportDefHelpComponent.prototype.displayTxt;
    /**
     * 存储帮助选择的对象
     * @type {?}
     */
    WfReportDefHelpComponent.prototype.bindingData;
    /**
     * 过滤条件
     * @type {?}
     */
    WfReportDefHelpComponent.prototype.filter;
    /**
     * 帮助选择后事件
     * @type {?}
     */
    WfReportDefHelpComponent.prototype.afterConfirm;
    /** @type {?} */
    WfReportDefHelpComponent.prototype.dialogClosed;
    /** @type {?} */
    WfReportDefHelpComponent.prototype.clear;
    /** @type {?} */
    WfReportDefHelpComponent.prototype.dataUri;
    /** @type {?} */
    WfReportDefHelpComponent.prototype.columns;
    /** @type {?} */
    WfReportDefHelpComponent.prototype.lookUp;
    /**
     * 帮助前事件,强行传递过滤条件
     * @type {?}
     */
    WfReportDefHelpComponent.prototype.beforeOpen;
    /** @type {?} */
    WfReportDefHelpComponent.prototype.dictPicked;
    /**
     * @type {?}
     * @private
     */
    WfReportDefHelpComponent.prototype.localePipe;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoid2YtcmVwb3J0LWRlZi1oZWxwLmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiJuZzovL0Bnc3Atd2Yvd2YtcHJvY2Vzcy1lZGl0b3IvIiwic291cmNlcyI6WyJsaWIvdmlld3MvcGVyZm9ybWVyL3ZpZXdzL3JlcG9ydGluZy1saW5lL3NlcnZpY2Uvd2YtcmVwb3J0LWRlZi1oZWxwLmNvbXBvbmVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O0FBQUEsT0FBTyxFQUFFLFNBQVMsRUFBVSxLQUFLLEVBQUUsTUFBTSxFQUFFLFlBQVksRUFBRSxTQUFTLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFDMUYsT0FBTyxFQUFjLEVBQUUsRUFBRSxNQUFNLE1BQU0sQ0FBQztBQUN0QyxPQUFPLEVBQWdCLG1CQUFtQixFQUFFLGVBQWUsRUFBRSxNQUFNLG1CQUFtQixDQUFDO0FBQ3ZGLE9BQU8sRUFBRSxzQkFBc0IsRUFBRSxNQUFNLDhCQUE4QixDQUFDO0FBQ3RFLE9BQU8sRUFBRSxZQUFZLEVBQUUsTUFBTSx3REFBd0QsQ0FBQztBQThCdEYsTUFBTSxPQUFPLHdCQUF3Qjs7OztJQWtDbkMsWUFDVSxVQUF3QjtRQUF4QixlQUFVLEdBQVYsVUFBVSxDQUFjOzs7O1FBL0J6QixVQUFLLEdBQUcsR0FBRyxDQUFDOzs7O1FBSVosYUFBUSxHQUFHLEtBQUssQ0FBQzs7OztRQUVqQixpQkFBWSxHQUFHLElBQUksQ0FBQzs7OztRQUVwQixlQUFVLEdBQUcsSUFBSSxDQUFDOzs7O1FBRWxCLGNBQVMsR0FBRyxDQUFDLENBQUM7Ozs7UUFFZCxhQUFRLEdBQUcsRUFBRSxDQUFDOzs7O1FBTWQsV0FBTSxHQUFRLEVBQUUsQ0FBQzs7Ozs7UUFJaEIsaUJBQVksR0FBc0IsSUFBSSxZQUFZLEVBQU8sQ0FBQztRQUMxRCxpQkFBWSxHQUFzQixJQUFJLFlBQVksRUFBTyxDQUFDO1FBQzFELFVBQUssR0FBc0IsSUFBSSxZQUFZLEVBQU8sQ0FBQztRQUU3RCxZQUFPLEdBQVUsRUFBRSxDQUFDOzs7O1FBd0JwQixlQUFVOzs7O1FBQUcsQ0FBQyxHQUFHLEVBQUUsRUFBRTtZQUNuQix5QkFBeUI7WUFDekIsT0FBTyxFQUFFLENBQUM7Z0JBQ1IsVUFBVSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUU7b0JBQ3RCLE1BQU0sRUFBRSxJQUFJLENBQUMsTUFBTTtpQkFDcEI7YUFDRixDQUFDLENBQUM7UUFDTCxDQUFDLEVBQUE7UUFDRCxlQUFVOzs7O1FBQUcsQ0FBQyxHQUFRLEVBQTRCLEVBQUU7WUFDbEQsSUFBSSxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUM7WUFDNUIsT0FBTyxFQUFFLENBQUMsRUFBRSxXQUFXLEVBQUUsSUFBSSxFQUFFLENBQUMsQ0FBQztRQUNuQyxDQUFDLEVBQUE7SUE3QkcsQ0FBQzs7OztJQUVMLFFBQVE7UUFDTixJQUFJLENBQUMsT0FBTyxHQUFHO1lBQ2IsRUFBRSxLQUFLLEVBQUUsSUFBSSxDQUFDLFVBQVUsQ0FBQyxTQUFTLENBQUMsOEJBQThCLENBQUMsRUFBRSxLQUFLLEVBQUUsTUFBTSxFQUFFLEtBQUssRUFBRSxJQUFJLEVBQUUsV0FBVyxFQUFFLE1BQU0sR0FBRztZQUN0SCxFQUFFLEtBQUssRUFBRSxJQUFJLENBQUMsVUFBVSxDQUFDLFNBQVMsQ0FBQyw4QkFBOEIsQ0FBQyxFQUFFLEtBQUssRUFBRSxNQUFNLEVBQUUsS0FBSyxFQUFFLEtBQUssRUFBRSxXQUFXLEVBQUUsTUFBTSxHQUFHO1NBQ3hILENBQUM7UUFDRix1Q0FBdUM7UUFDdkMsSUFBSSxDQUFDLE9BQU8sR0FBRyxxREFBcUQsQ0FBQztRQUNyRSxrQkFBa0I7UUFDbEIsSUFBSSxDQUFDLE1BQU0sQ0FBQyxTQUFTLEdBQUcsRUFBRSxFQUFFLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxNQUFNLEVBQUUsQ0FBQztJQUNyRCxDQUFDOzs7OztJQUVELFVBQVUsQ0FBQyxHQUFRO1FBQ2pCLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQ3ZCLENBQUM7Ozs7O0lBa0JNLFFBQVE7UUFDYixJQUFJLENBQUMsTUFBTSxDQUFDLFVBQVUsRUFBRSxDQUFDO0lBQzNCLENBQUM7OztZQW5HRixTQUFTLFNBQUM7Z0JBQ1QsUUFBUSxFQUFFLHdCQUF3QjtnQkFDbEMsUUFBUSxFQUFFOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0dBc0JUO2dCQUVELFNBQVMsRUFBRSxDQUFDLEVBQUUsT0FBTyxFQUFFLGVBQWUsRUFBRSxRQUFRLEVBQUUsc0JBQXNCLEVBQUUsQ0FBQzthQUM1RTs7OztZQTdCUSxZQUFZOzs7b0JBZ0NsQixLQUFLO29CQUVMLEtBQUs7eUJBRUwsS0FBSzt1QkFFTCxLQUFLOzJCQUVMLEtBQUs7eUJBRUwsS0FBSzt3QkFFTCxLQUFLO3VCQUVMLEtBQUs7eUJBRUwsS0FBSzswQkFFTCxLQUFLO3FCQUVMLEtBQUs7MkJBSUwsTUFBTTsyQkFDTixNQUFNO29CQUNOLE1BQU07cUJBSU4sU0FBUyxTQUFDLFFBQVE7Ozs7Ozs7SUE5Qm5CLHlDQUF1Qjs7Ozs7SUFFdkIseUNBQXFCOzs7OztJQUVyQiw4Q0FBbUM7Ozs7O0lBRW5DLDRDQUEwQjs7Ozs7SUFFMUIsZ0RBQTZCOzs7OztJQUU3Qiw4Q0FBMkI7Ozs7O0lBRTNCLDZDQUF1Qjs7Ozs7SUFFdkIsNENBQXVCOzs7OztJQUV2Qiw4Q0FBNEI7Ozs7O0lBRTVCLCtDQUFtRDs7Ozs7SUFFbkQsMENBQTBCOzs7OztJQUkxQixnREFBb0U7O0lBQ3BFLGdEQUFvRTs7SUFDcEUseUNBQTZEOztJQUM3RCwyQ0FBZ0I7O0lBQ2hCLDJDQUFvQjs7SUFFcEIsMENBQXdEOzs7OztJQXNCeEQsOENBT0M7O0lBQ0QsOENBR0M7Ozs7O0lBOUJDLDhDQUFnQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbXBvbmVudCwgT25Jbml0LCBJbnB1dCwgT3V0cHV0LCBFdmVudEVtaXR0ZXIsIFZpZXdDaGlsZCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xyXG5pbXBvcnQgeyBPYnNlcnZhYmxlLCBvZiB9IGZyb20gJ3J4anMnO1xyXG5pbXBvcnQgeyBQaWNrZWRSZXN1bHQsIExvb2t1cEdyaWRDb21wb25lbnQsIFNlcnZlclNpZGVUb2tlbiB9IGZyb20gJ0BmYXJyaXMvdWktbG9va3VwJztcclxuaW1wb3J0IHsgV2ZSZXBvcnREZWZIZWxwU2VydmljZSB9IGZyb20gJy4vd2YtcmVwb3J0LWRlZi1oZWxwLnNlcnZpY2UnO1xyXG5pbXBvcnQgeyBXZkxvY2FsZVBpcGUgfSBmcm9tICcuLi8uLi8uLi8uLi8uLi9pMThuL3BpcGUvd2YtcHJvY2Vzcy1lZGl0b3ItbG9jYWxlLnBpcGUnO1xyXG5cclxuQENvbXBvbmVudCh7XHJcbiAgc2VsZWN0b3I6ICdhcHAtd2YtcmVwb3J0LWRlZi1oZWxwJyxcclxuICB0ZW1wbGF0ZTogYFxyXG4gICAgPGZhcnJpcy1sb29rdXAtZ3JpZCAjbG9va3VwXHJcbiAgICAgIFtkaXNhYmxlZF09XCJkaXNhYmxlZFwiXHJcbiAgICAgIFtlZGl0YWJsZV09XCJmYWxzZVwiXHJcbiAgICAgIFtiaW5kaW5nRGF0YV09XCJiaW5kaW5nRGF0YVwiXHJcbiAgICAgIFsobmdNb2RlbCldPVwiZGlzcGxheVR4dFwiXHJcbiAgICAgIFtjb2x1bW5zXT1cImNvbHVtbnNcIlxyXG4gICAgICBbc2luZ2xlU2VsZWN0XT1cInNpbmdsZVNlbGVjdFwiXHJcbiAgICAgIHRpdGxlPVwidGl0bGVcIlxyXG4gICAgICBbZGlzcGxheVR5cGVdPVwiJ0xpc3QnXCJcclxuICAgICAgW3VyaV09XCJkYXRhVXJpXCJcclxuICAgICAgW2lkRmllbGRdPVwiJ2lkJ1wiXHJcbiAgICAgIFtwYWdlSW5kZXhdPVwicGFnZUluZGV4XCJcclxuICAgICAgW3BhZ2VTaXplXT1cInBhZ2VTaXplXCJcclxuICAgICAgW3BhZ2luYXRpb25dPVwicGFnaW5hdGlvblwiXHJcbiAgICAgIFt2YWx1ZUZpZWxkXT1cIidpZCdcIlxyXG4gICAgICBbdGV4dEZpZWxkXT1cIiduYW1lJ1wiXHJcbiAgICAgIChjbGVhcik9XCJhZnRlckNsZWFyKCRldmVudClcIlxyXG4gICAgICBbZGlhbG9nV2lkdGhdPVwid2lkdGhcIlxyXG4gICAgICBbZGljdFBpY2tpbmddPVwiYmVmb3JlT3BlblwiXHJcbiAgICAgIFtkaWN0UGlja2VkXT1cImRpY3RQaWNrZWRcIj5cclxuICAgIDwvZmFycmlzLWxvb2t1cC1ncmlkPlxyXG4gIGAsXHJcbiAgc3R5bGVzOiBbXSxcclxuICBwcm92aWRlcnM6IFt7IHByb3ZpZGU6IFNlcnZlclNpZGVUb2tlbiwgdXNlQ2xhc3M6IFdmUmVwb3J0RGVmSGVscFNlcnZpY2UgfV1cclxufSlcclxuZXhwb3J0IGNsYXNzIFdmUmVwb3J0RGVmSGVscENvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCB7XHJcbiAgLyoqIOagh+mimCAqL1xyXG4gIEBJbnB1dCgpIHRpdGxlOiBzdHJpbmc7XHJcbiAgLyoqIOWuveW6piAqL1xyXG4gIEBJbnB1dCgpIHdpZHRoID0gNTUwO1xyXG4gIC8qKiDlj5bmlbDmupAgKi9cclxuICBASW5wdXQoKSBzb3VyY2VUeXBlOiAnbWF0cml4RmllbGQnO1xyXG4gIC8qKiDlj6ror7sgKi9cclxuICBASW5wdXQoKSBkaXNhYmxlZCA9IGZhbHNlO1xyXG4gIC8qKiDmmK/lkKbljZXpgIkgKi9cclxuICBASW5wdXQoKSBzaW5nbGVTZWxlY3QgPSB0cnVlO1xyXG4gIC8qKiDmmK/lkKbliIbpobXvvIzpu5jorqR0cnVlICovXHJcbiAgQElucHV0KCkgcGFnaW5hdGlvbiA9IHRydWU7XHJcbiAgLyoqIOmmluasoeWKoOi9veesrOWHoOmhte+8jOm7mOiupDEgKi9cclxuICBASW5wdXQoKSBwYWdlSW5kZXggPSAxO1xyXG4gIC8qKiDmr4/pobXliqDovb3mlbDvvIzpu5jorqQyMCAqL1xyXG4gIEBJbnB1dCgpIHBhZ2VTaXplID0gMjA7XHJcbiAgLyoqIOe7keWumuWIsOW4ruWKqeS4iueahOaVsOaNru+8jOWIneWni+aYvuekuuWAvOeUqCAqL1xyXG4gIEBJbnB1dCgpIGRpc3BsYXlUeHQ6IHN0cmluZztcclxuICAvKiog5a2Y5YKo5biu5Yqp6YCJ5oup55qE5a+56LGhICovXHJcbiAgQElucHV0KCkgYmluZGluZ0RhdGE6IHsgaWQ6IHN0cmluZywgbmFtZTogc3RyaW5nIH07XHJcbiAgLyoqIOi/h+a7pOadoeS7tiAqL1xyXG4gIEBJbnB1dCgpIGZpbHRlcjogYW55ID0ge307XHJcblxyXG4gIC8vIEBJbnB1dCgpIGJlZm9yZUNsb3NlOiAoc2VsZWN0RGF0YTogYW55KSA9PiBPYnNlcnZhYmxlPFBpY2tlZFJlc3VsdD47XHJcbiAgLyoqIOW4ruWKqemAieaLqeWQjuS6i+S7tiAqL1xyXG4gIEBPdXRwdXQoKSBhZnRlckNvbmZpcm06IEV2ZW50RW1pdHRlcjxhbnk+ID0gbmV3IEV2ZW50RW1pdHRlcjxhbnk+KCk7XHJcbiAgQE91dHB1dCgpIGRpYWxvZ0Nsb3NlZDogRXZlbnRFbWl0dGVyPGFueT4gPSBuZXcgRXZlbnRFbWl0dGVyPGFueT4oKTtcclxuICBAT3V0cHV0KCkgY2xlYXI6IEV2ZW50RW1pdHRlcjxhbnk+ID0gbmV3IEV2ZW50RW1pdHRlcjxhbnk+KCk7XHJcbiAgZGF0YVVyaTogc3RyaW5nO1xyXG4gIGNvbHVtbnM6IGFueVtdID0gW107XHJcblxyXG4gIEBWaWV3Q2hpbGQoJ2xvb2t1cCcpIHB1YmxpYyBsb29rVXA6IExvb2t1cEdyaWRDb21wb25lbnQ7XHJcblxyXG4gIGNvbnN0cnVjdG9yKFxyXG4gICAgcHJpdmF0ZSBsb2NhbGVQaXBlOiBXZkxvY2FsZVBpcGVcclxuICApIHsgfVxyXG5cclxuICBuZ09uSW5pdCgpIHtcclxuICAgIHRoaXMuY29sdW1ucyA9IFtcclxuICAgICAgeyB0aXRsZTogdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybSgnY29tcG9uZW50LnJlcG9ydGluZ0xpbmUuY29kZScpLCBmaWVsZDogJ2NvZGUnLCB3aWR0aDogJzgwJywgc2VhcmNoRmllbGQ6ICdjb2RlJywgfSxcclxuICAgICAgeyB0aXRsZTogdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybSgnY29tcG9uZW50LnJlcG9ydGluZ0xpbmUubmFtZScpLCBmaWVsZDogJ25hbWUnLCB3aWR0aDogJzEwMCcsIHNlYXJjaEZpZWxkOiAnbmFtZScsIH1cclxuICAgIF07XHJcbiAgICAvLyB0aGlzLmRhdGFVcmkgPSB0aGlzLnVpU3RhdGUuZGF0YVVyaTtcclxuICAgIHRoaXMuZGF0YVVyaSA9ICcvYXBpL3J1bnRpbWUvd2YvdjEuMC9yZXBvcnRpbmdMaW5lRGVmaW5pdGlvbnMvcXVlcnknO1xyXG4gICAgLy8g5b+F6aG76KaB5pyJ77yM5ZCm5YiZ5Yid5aeL6YCJ5Lit5LiN6LW35L2c55SoXHJcbiAgICB0aGlzLmxvb2tVcC5tYXBGaWVsZHMgPSB7IGlkOiAnaWQnLCBuYW1lOiAnbmFtZScgfTtcclxuICB9XHJcblxyXG4gIGFmdGVyQ2xlYXIoYXJnOiBhbnkpIHtcclxuICAgIHRoaXMuY2xlYXIubmV4dChhcmcpO1xyXG4gIH1cclxuXHJcbiAgLyoqIOW4ruWKqeWJjeS6i+S7tizlvLrooYzkvKDpgJLov4fmu6TmnaHku7YgKi9cclxuICBiZWZvcmVPcGVuID0gKGFyZykgPT4ge1xyXG4gICAgLy8g5oqK6L+H5ruk5pWw5o2u5ZKM5b2T5YmN55qE5pWw5o2u5Lyg6YCS5Yiwc2VydmljZeWxglxyXG4gICAgcmV0dXJuIG9mKHtcclxuICAgICAgc2hvd0RpYWxvZzogdHJ1ZSwgZGF0YToge1xyXG4gICAgICAgIGZpbHRlcjogdGhpcy5maWx0ZXJcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG4gIGRpY3RQaWNrZWQgPSAoYXJnOiBhbnkpOiBPYnNlcnZhYmxlPFBpY2tlZFJlc3VsdD4gPT4ge1xyXG4gICAgdGhpcy5hZnRlckNvbmZpcm0ubmV4dChhcmcpO1xyXG4gICAgcmV0dXJuIG9mKHsgY2xvc2VEaWFsb2c6IHRydWUgfSk7XHJcbiAgfVxyXG5cclxuXHJcbiAgLyoqIOaJi+WKqOaYvuekuuW4ruWKqSAqL1xyXG4gIHB1YmxpYyBzaG93SGVscCgpIHtcclxuICAgIHRoaXMubG9va1VwLnNob3dEaWFsb2coKTtcclxuICB9XHJcbn1cclxuIl19