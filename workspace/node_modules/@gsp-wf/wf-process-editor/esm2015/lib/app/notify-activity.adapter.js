/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { Injectable } from '@angular/core';
import { ProcessDesignerUIState } from './process-designer.uistate';
import { MessageNoticeComponent, MessageNoticeConverter } from '../views/message-notice/message-notice.component';
import { ExecuteFormsComponent, ExecuteFormsConverter } from '../views/execute-forms/execute-forms.component';
import { ExtendPropertyComponent, ExtendPropertyConverter } from '../views/extend-property/extend-property.component';
import { OrganizationPotentialOwnerComponent, OrganizationPotentialOwnerConverter } from '../views/organization-potential-owner/organization-potential-owner.component';
import { ParticipantComponent, ParticipantConverter } from '../views/participant/participant.component';
import { NotifyActivityPropertyKeys } from '../designer/wf-cell/property-keys/NotifyActivityPropertyKeys';
import { WfLocalePipe } from '../i18n/pipe/wf-process-editor-locale.pipe';
export class NotifyActivityAdapter {
    /**
     * @param {?} uiState
     * @param {?} localPipe
     */
    constructor(uiState, localPipe) {
        this.uiState = uiState;
        this.localPipe = localPipe;
    }
    /**
     * @param {?} obj
     * @return {?}
     */
    setProperty(obj) {
        this.uiState.propertyData = obj.propertyData;
        this.uiState.propertyConfig = this.setConfig(obj.propertyConfig);
    }
    /**
     * @private
     * @param {?} obj
     * @return {?}
     */
    setConfig(obj) {
        /** @type {?} */
        const propertyConfig = [];
        if (obj) {
            obj.forEach((/**
             * @param {?} element
             * @return {?}
             */
            (element) => {
                this.setEntity(element.properties);
                propertyConfig.push(element);
            }));
        }
        return propertyConfig;
    }
    /**
     * @private
     * @param {?} obj
     * @return {?}
     */
    setEntity(obj) {
        if (obj && obj.length > 0) {
            obj.forEach((/**
             * @param {?} item
             * @return {?}
             */
            (item) => {
                switch (item.propertyID) {
                    case NotifyActivityPropertyKeys.Id: // 标识
                        break;
                    case NotifyActivityPropertyKeys.ParticipantSchemes: // 参与者
                        item.editor = ParticipantComponent;
                        item.converter = new ParticipantConverter(this.localPipe);
                        item.editorParams = {
                            nodeType: 'notifyActivity'
                        };
                        break;
                    case NotifyActivityPropertyKeys.wf_ExecuteForms_PC: // 表单定义
                        item.editor = ExecuteFormsComponent;
                        /** @type {?} */
                        const params = {
                            location: 'notifyActivity',
                            tab: 'web'
                        };
                        item.converter = new ExecuteFormsConverter(params, this.localPipe);
                        item.editorParams = params;
                        break;
                    case NotifyActivityPropertyKeys.wf_ExecuteForms_Mobile: // 表单定义
                        item.editor = ExecuteFormsComponent;
                        /** @type {?} */
                        const editorParams = {
                            location: 'notifyActivity',
                            tab: 'mobile'
                        };
                        item.converter = new ExecuteFormsConverter(editorParams, this.localPipe);
                        item.editorParams = editorParams;
                        break;
                    case NotifyActivityPropertyKeys.messageNotice: // 消息通知
                        item.editor = MessageNoticeComponent;
                        item.converter = new MessageNoticeConverter(this.localPipe);
                        item.editorParams = {
                            location: 'activity'
                        };
                        break;
                    case NotifyActivityPropertyKeys.NotifyAble: // 允许知会
                        item.editor = OrganizationPotentialOwnerComponent;
                        item.converter = new OrganizationPotentialOwnerConverter(this.localPipe);
                        item.editorParams = {
                            nodeType: 'notifyActivity',
                        };
                        break;
                    default:
                        item.editor = ExtendPropertyComponent;
                        item.converter = new ExtendPropertyConverter(this.localPipe);
                        break;
                }
            }));
        }
    }
}
NotifyActivityAdapter.decorators = [
    { type: Injectable }
];
/** @nocollapse */
NotifyActivityAdapter.ctorParameters = () => [
    { type: ProcessDesignerUIState },
    { type: WfLocalePipe }
];
if (false) {
    /**
     * @type {?}
     * @private
     */
    NotifyActivityAdapter.prototype.uiState;
    /**
     * @type {?}
     * @private
     */
    NotifyActivityAdapter.prototype.localPipe;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibm90aWZ5LWFjdGl2aXR5LmFkYXB0ZXIuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9AZ3NwLXdmL3dmLXByb2Nlc3MtZWRpdG9yLyIsInNvdXJjZXMiOlsibGliL2FwcC9ub3RpZnktYWN0aXZpdHkuYWRhcHRlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O0FBQUEsT0FBTyxFQUFFLFVBQVUsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUMzQyxPQUFPLEVBQUUsc0JBQXNCLEVBQUUsTUFBTSw0QkFBNEIsQ0FBQztBQUVwRSxPQUFPLEVBQUUsc0JBQXNCLEVBQUUsc0JBQXNCLEVBQUUsTUFBTSxrREFBa0QsQ0FBQztBQUVsSCxPQUFPLEVBQUUscUJBQXFCLEVBQUUscUJBQXFCLEVBQUUsTUFBTSxnREFBZ0QsQ0FBQztBQUM5RyxPQUFPLEVBQUUsdUJBQXVCLEVBQUUsdUJBQXVCLEVBQUUsTUFBTSxvREFBb0QsQ0FBQztBQUN0SCxPQUFPLEVBQUUsbUNBQW1DLEVBQUUsbUNBQW1DLEVBQUUsTUFBTSw4RUFBOEUsQ0FBQztBQUN4SyxPQUFPLEVBQUUsb0JBQW9CLEVBQUUsb0JBQW9CLEVBQUUsTUFBTSw0Q0FBNEMsQ0FBQztBQUN4RyxPQUFPLEVBQUUsMEJBQTBCLEVBQUUsTUFBTSw4REFBOEQsQ0FBQztBQUMxRyxPQUFPLEVBQUUsWUFBWSxFQUFFLE1BQU0sNENBQTRDLENBQUM7QUFHMUUsTUFBTSxPQUFPLHFCQUFxQjs7Ozs7SUFDOUIsWUFDWSxPQUErQixFQUMvQixTQUF1QjtRQUR2QixZQUFPLEdBQVAsT0FBTyxDQUF3QjtRQUMvQixjQUFTLEdBQVQsU0FBUyxDQUFjO0lBRW5DLENBQUM7Ozs7O0lBQ0QsV0FBVyxDQUFDLEdBQVE7UUFDaEIsSUFBSSxDQUFDLE9BQU8sQ0FBQyxZQUFZLEdBQUcsR0FBRyxDQUFDLFlBQVksQ0FBQztRQUM3QyxJQUFJLENBQUMsT0FBTyxDQUFDLGNBQWMsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxjQUFj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LElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQzt3QkFDN0QsTUFBTTtpQkFDYjtZQUNMLENBQUMsRUFBQyxDQUFDO1NBQ047SUFDTCxDQUFDOzs7WUExRUosVUFBVTs7OztZQVhGLHNCQUFzQjtZQVN0QixZQUFZOzs7Ozs7O0lBS2Isd0NBQXVDOzs7OztJQUN2QywwQ0FBK0IiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJbmplY3RhYmxlIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcbmltcG9ydCB7IFByb2Nlc3NEZXNpZ25lclVJU3RhdGUgfSBmcm9tICcuL3Byb2Nlc3MtZGVzaWduZXIudWlzdGF0ZSc7XHJcbmltcG9ydCB7IEVsZW1lbnRQcm9wZXJ0eUNvbmZpZywgUHJvcGVydHlFbnRpdHkgfSBmcm9tICdAZmFycmlzL2lkZS1wcm9wZXJ0eS1wYW5lbCc7XHJcbmltcG9ydCB7IE1lc3NhZ2VOb3RpY2VDb21wb25lbnQsIE1lc3NhZ2VOb3RpY2VDb252ZXJ0ZXIgfSBmcm9tICcuLi92aWV3cy9tZXNzYWdlLW5vdGljZS9tZXNzYWdlLW5vdGljZS5jb21wb25lbnQnO1xyXG5pbXBvcnQgeyBQZXJmb3JtZXJDb21wb25lbnQsIFBlcmZvcm1lckNvbnZlcnRlciB9IGZyb20gJy4uL3ZpZXdzL3BlcmZvcm1lci9wZXJmb3JtZXIuY29tcG9uZW50JztcclxuaW1wb3J0IHsgRXhlY3V0ZUZvcm1zQ29tcG9uZW50LCBFeGVjdXRlRm9ybXNDb252ZXJ0ZXIgfSBmcm9tICcuLi92aWV3cy9leGVjdXRlLWZvcm1zL2V4ZWN1dGUtZm9ybXMuY29tcG9uZW50JztcclxuaW1wb3J0IHsgRXh0ZW5kUHJvcGVydHlDb21wb25lbnQsIEV4dGVuZFByb3BlcnR5Q29udmVydGVyIH0gZnJvbSAnLi4vdmlld3MvZXh0ZW5kLXByb3BlcnR5L2V4dGVuZC1wcm9wZXJ0eS5jb21wb25lbnQnO1xyXG5pbXBvcnQgeyBPcmdhbml6YXRpb25Qb3RlbnRpYWxPd25lckNvbXBvbmVudCwgT3JnYW5pemF0aW9uUG90ZW50aWFsT3duZXJDb252ZXJ0ZXIgfSBmcm9tICcuLi92aWV3cy9vcmdhbml6YXRpb24tcG90ZW50aWFsLW93bmVyL29yZ2FuaXphdGlvbi1wb3RlbnRpYWwtb3duZXIuY29tcG9uZW50JztcclxuaW1wb3J0IHsgUGFydGljaXBhbnRDb21wb25lbnQsIFBhcnRpY2lwYW50Q29udmVydGVyIH0gZnJvbSAnLi4vdmlld3MvcGFydGljaXBhbnQvcGFydGljaXBhbnQuY29tcG9uZW50JztcclxuaW1wb3J0IHsgTm90aWZ5QWN0aXZpdHlQcm9wZXJ0eUtleXMgfSBmcm9tICcuLi9kZXNpZ25lci93Zi1jZWxsL3Byb3BlcnR5LWtleXMvTm90aWZ5QWN0aXZpdHlQcm9wZXJ0eUtleXMnO1xyXG5pbXBvcnQgeyBXZkxvY2FsZVBpcGUgfSBmcm9tICcuLi9pMThuL3BpcGUvd2YtcHJvY2Vzcy1lZGl0b3ItbG9jYWxlLnBpcGUnO1xyXG5cclxuQEluamVjdGFibGUoKVxyXG5leHBvcnQgY2xhc3MgTm90aWZ5QWN0aXZpdHlBZGFwdGVyIHtcclxuICAgIGNvbnN0cnVjdG9yKFxyXG4gICAgICAgIHByaXZhdGUgdWlTdGF0ZTogUHJvY2Vzc0Rlc2lnbmVyVUlTdGF0ZSxcclxuICAgICAgICBwcml2YXRlIGxvY2FsUGlwZTogV2ZMb2NhbGVQaXBlXHJcbiAgICApIHtcclxuICAgIH1cclxuICAgIHNldFByb3BlcnR5KG9iajogYW55KSB7XHJcbiAgICAgICAgdGhpcy51aVN0YXRlLnByb3BlcnR5RGF0YSA9IG9iai5wcm9wZXJ0eURhdGE7XHJcbiAgICAgICAgdGhpcy51aVN0YXRlLnByb3BlcnR5Q29uZmlnID0gdGhpcy5zZXRDb25maWcob2JqLnByb3BlcnR5Q29uZmlnKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHNldENvbmZpZyhvYmo6IGFueVtdKTogRWxlbWVudFByb3BlcnR5Q29uZmlnW10ge1xyXG4gICAgICAgIGNvbnN0IHByb3BlcnR5Q29uZmlnOiBFbGVtZW50UHJvcGVydHlDb25maWdbXSA9IFtdO1xyXG4gICAgICAgIGlmIChvYmopIHtcclxuICAgICAgICAgICAgb2JqLmZvckVhY2goKGVsZW1lbnQ6IEVsZW1lbnRQcm9wZXJ0eUNvbmZpZykgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRFbnRpdHkoZWxlbWVudC5wcm9wZXJ0aWVzKTtcclxuICAgICAgICAgICAgICAgIHByb3BlcnR5Q29uZmlnLnB1c2goZWxlbWVudCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcHJvcGVydHlDb25maWc7XHJcbiAgICB9XHJcbiAgICBwcml2YXRlIHNldEVudGl0eShvYmo6IFByb3BlcnR5RW50aXR5W10pIHtcclxuICAgICAgICBpZiAob2JqICYmIG9iai5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIG9iai5mb3JFYWNoKChpdGVtOiBQcm9wZXJ0eUVudGl0eSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgc3dpdGNoIChpdGVtLnByb3BlcnR5SUQpIHtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIE5vdGlmeUFjdGl2aXR5UHJvcGVydHlLZXlzLklkOiAvLyDmoIfor4ZcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBOb3RpZnlBY3Rpdml0eVByb3BlcnR5S2V5cy5QYXJ0aWNpcGFudFNjaGVtZXM6IC8vIOWPguS4juiAhVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtLmVkaXRvciA9IFBhcnRpY2lwYW50Q29tcG9uZW50O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtLmNvbnZlcnRlciA9IG5ldyBQYXJ0aWNpcGFudENvbnZlcnRlcih0aGlzLmxvY2FsUGlwZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0uZWRpdG9yUGFyYW1zID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9kZVR5cGU6ICdub3RpZnlBY3Rpdml0eSdcclxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBOb3RpZnlBY3Rpdml0eVByb3BlcnR5S2V5cy53Zl9FeGVjdXRlRm9ybXNfUEM6IC8vIOihqOWNleWumuS5iVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtLmVkaXRvciA9IEV4ZWN1dGVGb3Jtc0NvbXBvbmVudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcGFyYW1zID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYXRpb246ICdub3RpZnlBY3Rpdml0eScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YWI6ICd3ZWInXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0uY29udmVydGVyID0gbmV3IEV4ZWN1dGVGb3Jtc0NvbnZlcnRlcihwYXJhbXMsIHRoaXMubG9jYWxQaXBlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5lZGl0b3JQYXJhbXMgPSBwYXJhbXM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgTm90aWZ5QWN0aXZpdHlQcm9wZXJ0eUtleXMud2ZfRXhlY3V0ZUZvcm1zX01vYmlsZTogLy8g6KGo5Y2V5a6a5LmJXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0uZWRpdG9yID0gRXhlY3V0ZUZvcm1zQ29tcG9uZW50O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBlZGl0b3JQYXJhbXMgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhdGlvbjogJ25vdGlmeUFjdGl2aXR5JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhYjogJ21vYmlsZSdcclxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5jb252ZXJ0ZXIgPSBuZXcgRXhlY3V0ZUZvcm1zQ29udmVydGVyKGVkaXRvclBhcmFtcywgdGhpcy5sb2NhbFBpcGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtLmVkaXRvclBhcmFtcyA9IGVkaXRvclBhcmFtcztcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBOb3RpZnlBY3Rpdml0eVByb3BlcnR5S2V5cy5tZXNzYWdlTm90aWNlOiAvLyDmtojmga/pgJrnn6VcclxuICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5lZGl0b3IgPSBNZXNzYWdlTm90aWNlQ29tcG9uZW50O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtLmNvbnZlcnRlciA9IG5ldyBNZXNzYWdlTm90aWNlQ29udmVydGVyKHRoaXMubG9jYWxQaXBlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5lZGl0b3JQYXJhbXMgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhdGlvbjogJ2FjdGl2aXR5J1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIE5vdGlmeUFjdGl2aXR5UHJvcGVydHlLZXlzLk5vdGlmeUFibGU6IC8vIOWFgeiuuOefpeS8mlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtLmVkaXRvciA9IE9yZ2FuaXphdGlvblBvdGVudGlhbE93bmVyQ29tcG9uZW50O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtLmNvbnZlcnRlciA9IG5ldyBPcmdhbml6YXRpb25Qb3RlbnRpYWxPd25lckNvbnZlcnRlcih0aGlzLmxvY2FsUGlwZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0uZWRpdG9yUGFyYW1zID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9kZVR5cGU6ICdub3RpZnlBY3Rpdml0eScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5lZGl0b3IgPSBFeHRlbmRQcm9wZXJ0eUNvbXBvbmVudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5jb252ZXJ0ZXIgPSBuZXcgRXh0ZW5kUHJvcGVydHlDb252ZXJ0ZXIodGhpcy5sb2NhbFBpcGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbiJdfQ==