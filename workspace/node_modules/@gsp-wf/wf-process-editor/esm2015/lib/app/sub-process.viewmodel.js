/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { Injectable } from '@angular/core';
import { ProcessDesignerUIState } from './process-designer.uistate';
import { BackwardRuleComponent, BackwardRuleConverter } from '../views/backward-rule/backward-rule.component';
import { VariableSettingComponent, VariableSettingConverter } from '../views/variable-setting/variable-setting.component';
import { CallActivitySubProcess2Component, CallActivitySubProcess2Converter } from '../views/call-activity-sub-process2/call-activity-sub-process2.component';
import { CallActivitySubProcessPropertyKeys } from '../designer/wf-cell/property-keys/CallActivitySubProcessPropertyKeys';
import { WfLocalePipe } from '../i18n/pipe/wf-process-editor-locale.pipe';
import { MultiInstanceLoopCharacteristicsComponent, MultiInstanceLoopCharacteristicsConverter } from '../views/multi-instance-loop-characteristics/multi-instance-loop-characteristics.component';
export class SubProcessViewModel {
    /**
     * @param {?} uiState
     * @param {?} localPipe
     */
    constructor(uiState, localPipe) {
        this.uiState = uiState;
        this.localPipe = localPipe;
    }
    /**
     * @param {?} obj
     * @return {?}
     */
    setProperty(obj) {
        this.uiState.propertyData = obj.propertyData;
        this.uiState.propertyConfig = this.setConfig(obj.propertyConfig);
    }
    /**
     * @private
     * @param {?} obj
     * @return {?}
     */
    setConfig(obj) {
        /** @type {?} */
        const propertyConfig = [];
        if (obj) {
            obj.forEach((/**
             * @param {?} element
             * @return {?}
             */
            (element) => {
                this.setEntity(element.properties);
                propertyConfig.push(element);
            }));
        }
        return propertyConfig;
    }
    /**
     * @private
     * @param {?} obj
     * @return {?}
     */
    setEntity(obj) {
        if (obj && obj.length > 0) {
            obj.forEach((/**
             * @param {?} item
             * @return {?}
             */
            (item) => {
                switch (item.propertyID) {
                    case CallActivitySubProcessPropertyKeys.callActivitySubProcess: // 参与者
                        // item.editor = CallActivitySubProcessComponent;
                        // item.converter = new CallActivitySubProcessConverter();
                        item.editor = CallActivitySubProcess2Component;
                        item.converter = new CallActivitySubProcess2Converter(this.localPipe);
                        item.editorParams = {
                            bizTypeId: this.uiState.flowFormInfo.flowForm.businessObjectId,
                        };
                        break;
                    case CallActivitySubProcessPropertyKeys.BackWardRule:
                        item.editor = BackwardRuleComponent;
                        item.converter = new BackwardRuleConverter(this.localPipe);
                        item.editorParams = {
                            nodeType: 'CallActivitySubProcess'
                        };
                        break;
                    case CallActivitySubProcessPropertyKeys.MultiInstanceLoopCharacteristics:
                        item.editor = MultiInstanceLoopCharacteristicsComponent;
                        item.converter = new MultiInstanceLoopCharacteristicsConverter(this.localPipe);
                        item.editorParams = {
                            location: 'CallActivitySubProcess'
                        };
                        break;
                    case CallActivitySubProcessPropertyKeys.variableSettings: // 变量设置
                        item.editor = VariableSettingComponent;
                        item.converter = new VariableSettingConverter(this.localPipe);
                        break;
                    default:
                        break;
                }
            }));
        }
    }
}
SubProcessViewModel.decorators = [
    { type: Injectable }
];
/** @nocollapse */
SubProcessViewModel.ctorParameters = () => [
    { type: ProcessDesignerUIState },
    { type: WfLocalePipe }
];
if (false) {
    /**
     * @type {?}
     * @private
     */
    SubProcessViewModel.prototype.uiState;
    /**
     * @type {?}
     * @private
     */
    SubProcessViewModel.prototype.localPipe;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3ViLXByb2Nlc3Mudmlld21vZGVsLmpzIiwic291cmNlUm9vdCI6Im5nOi8vQGdzcC13Zi93Zi1wcm9jZXNzLWVkaXRvci8iLCJzb3VyY2VzIjpbImxpYi9hcHAvc3ViLXByb2Nlc3Mudmlld21vZGVsLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7QUFBQSxPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBQzNDLE9BQU8sRUFBRSxzQkFBc0IsRUFBRSxNQUFNLDRCQUE0QixDQUFDO0FBR3BFLE9BQU8sRUFBRSxxQkFBcUIsRUFBRSxxQkFBcUIsRUFBRSxNQUFNLGdEQUFnRCxDQUFDO0FBQzlHLE9BQU8sRUFBRSx3QkFBd0IsRUFBRSx3QkFBd0IsRUFBRSxNQUFNLHNEQUFzRCxDQUFDO0FBQzFILE9BQU8sRUFBRSxnQ0FBZ0MsRUFBRSxnQ0FBZ0MsRUFBRSxNQUFNLDBFQUEwRSxDQUFDO0FBQzlKLE9BQU8sRUFBRSxrQ0FBa0MsRUFBRSxNQUFNLHNFQUFzRSxDQUFDO0FBQzFILE9BQU8sRUFBRSxZQUFZLEVBQUUsTUFBTSw0Q0FBNEMsQ0FBQztBQUMxRSxPQUFPLEVBQUUseUNBQXlDLEVBQUUseUNBQXlDLEVBQUUsTUFBTSw0RkFBNEYsQ0FBQztBQUlsTSxNQUFNLE9BQU8sbUJBQW1COzs7OztJQUM1QixZQUNZLE9BQStCLEVBQy9CLFNBQXVCO1FBRHZCLFlBQU8sR0FBUCxPQUFPLENBQXdCO1FBQy9CLGNBQVMsR0FBVCxTQUFTLENBQWM7SUFFbkMsQ0FBQzs7Ozs7SUFDRCxXQUFXLENBQUMsR0FBUTtRQUNoQixJQUFJLENBQUMsT0FBTyxDQUFDLFlBQVksR0FBRyxHQUFHLENBQUMsWUFBWSxDQUFDO1FBQzdDLElBQUksQ0FBQyxPQUFPLENBQUMsY0FBYyxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLGNBQWMsQ0FBQyxDQUFDO0lBQ3JFLENBQUM7Ozs7OztJQUVPLFNBQVMsQ0FBQyxHQUFVOztjQUNsQixjQUFjLEdBQTRCLEVBQUU7UUFDbEQsSUFBSSxHQUFHLEVBQUU7WUFDTCxHQUFHLENBQUMsT0FBTzs7OztZQUFDLENBQUMsT0FBOEIsRUFBRSxFQUFFO2dCQUMzQyxJQUFJLENBQUMsU0FBUyxDQUFDLE9BQU8sQ0FBQyxVQUFVLENBQUMsQ0FBQztnQkFDbkMsY0FBYyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQztZQUNqQyxDQUFDLEVBQUMsQ0FBQztTQUNOO1FBQ0QsT0FBTyxjQUFjLENBQUM7SUFDMUIsQ0FBQzs7Ozs7O0lBQ08sU0FBUyxDQUFDLEdBQXFCO1FBQ25DLElBQUksR0FBRyxJQUFJLEdBQUcsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxFQUFFO1lBQ3ZCLEdBQUcsQ0FBQyxPQUFPOzs7O1lBQUMsQ0FBQyxJQUFvQixFQUFFLEVBQUU7Z0JBQ2pDLFFBQVEsSUFBSSxDQUFDLFVBQVUsRUFBRTtvQkFDckIsS0FBSyxrQ0FBa0MsQ0FBQyxzQkFBc0IsRUFBRSxNQUFNO3dCQUNsRSxpREFBaUQ7d0JBQ2pELDBEQUEwRDt3QkFDMUQsSUFBSSxDQUFDLE1BQU0sR0FBRyxnQ0FBZ0MsQ0FBQzt3QkFDL0MsSUFBSSxDQUFDLFNBQVMsR0FBRyxJQUFJLGdDQUFnQyxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQzt3QkFDdEUsSUFBSSxDQUFDLFlBQVksR0FBRzs0QkFDaEIsU0FBUyxFQUFFLElBQUksQ0FBQyxPQUFPLENBQUMsWUFBWSxDQUFDLFFBQVEsQ0FBQyxnQkFBZ0I7eUJBQ2pFLENBQUM7d0JBQ0YsTUFBTTtvQkFDVixLQUFLLGtDQUFrQyxDQUFDLFlBQVk7d0JBQ2hELElBQUksQ0FBQyxNQUFNLEdBQUcscUJBQXFCLENBQUM7d0JBQ3BDLElBQUksQ0FBQyxTQUFTLEdBQUcsSUFBSSxxQkFBcUIsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUM7d0JBQzNELElBQUksQ0FBQyxZQUFZLEdBQUc7NEJBQ2hCLFFBQVEsRUFBRSx3QkFBd0I7eUJBQ3JDLENBQUM7d0JBQ0YsTUFBTTtvQkFDVixLQUFLLGtDQUFrQyxDQUFDLGdDQUFnQzt3QkFDaEUsSUFBSSxDQUFDLE1BQU0sR0FBRyx5Q0FBeUMsQ0FBQzt3QkFDeEQsSUFBSSxDQUFDLFNBQVMsR0FBRyxJQUFJLHlDQUF5QyxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQzt3QkFDL0UsSUFBSSxDQUFDLFlBQVksR0FBRzs0QkFDaEIsUUFBUSxFQUFFLHdCQUF3Qjt5QkFDckMsQ0FBQzt3QkFDRixNQUFNO29CQUNkLEtBQUssa0NBQWtDLENBQUMsZ0JBQWdCLEVBQUUsT0FBTzt3QkFDN0QsSUFBSSxDQUFDLE1BQU0sR0FBRyx3QkFBd0IsQ0FBQzt3QkFDdkMsSUFBSSxDQUFDLFNBQVMsR0FBRyxJQUFJLHdCQUF3QixDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQzt3QkFDOUQsTUFBTTtvQkFDVjt3QkFDSSxNQUFNO2lCQUNiO1lBQ0wsQ0FBQyxFQUFDLENBQUM7U0FDTjtJQUNMLENBQUM7OztZQTNESixVQUFVOzs7O1lBVkYsc0JBQXNCO1lBT3RCLFlBQVk7Ozs7Ozs7SUFPYixzQ0FBdUM7Ozs7O0lBQ3ZDLHdDQUErQiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEluamVjdGFibGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuaW1wb3J0IHsgUHJvY2Vzc0Rlc2lnbmVyVUlTdGF0ZSB9IGZyb20gJy4vcHJvY2Vzcy1kZXNpZ25lci51aXN0YXRlJztcclxuaW1wb3J0IHsgRWxlbWVudFByb3BlcnR5Q29uZmlnLCBQcm9wZXJ0eUVudGl0eSB9IGZyb20gJ0BmYXJyaXMvaWRlLXByb3BlcnR5LXBhbmVsJztcclxuaW1wb3J0IHsgQ2FsbEFjdGl2aXR5U3ViUHJvY2Vzc0NvbXBvbmVudCwgQ2FsbEFjdGl2aXR5U3ViUHJvY2Vzc0NvbnZlcnRlciB9IGZyb20gJy4uL3ZpZXdzL2NhbGwtYWN0aXZpdHktc3ViLXByb2Nlc3MvY2FsbC1hY3Rpdml0eS1zdWItcHJvY2Vzcy5jb21wb25lbnQnO1xyXG5pbXBvcnQgeyBCYWNrd2FyZFJ1bGVDb21wb25lbnQsIEJhY2t3YXJkUnVsZUNvbnZlcnRlciB9IGZyb20gJy4uL3ZpZXdzL2JhY2t3YXJkLXJ1bGUvYmFja3dhcmQtcnVsZS5jb21wb25lbnQnO1xyXG5pbXBvcnQgeyBWYXJpYWJsZVNldHRpbmdDb21wb25lbnQsIFZhcmlhYmxlU2V0dGluZ0NvbnZlcnRlciB9IGZyb20gJy4uL3ZpZXdzL3ZhcmlhYmxlLXNldHRpbmcvdmFyaWFibGUtc2V0dGluZy5jb21wb25lbnQnO1xyXG5pbXBvcnQgeyBDYWxsQWN0aXZpdHlTdWJQcm9jZXNzMkNvbXBvbmVudCwgQ2FsbEFjdGl2aXR5U3ViUHJvY2VzczJDb252ZXJ0ZXIgfSBmcm9tICcuLi92aWV3cy9jYWxsLWFjdGl2aXR5LXN1Yi1wcm9jZXNzMi9jYWxsLWFjdGl2aXR5LXN1Yi1wcm9jZXNzMi5jb21wb25lbnQnO1xyXG5pbXBvcnQgeyBDYWxsQWN0aXZpdHlTdWJQcm9jZXNzUHJvcGVydHlLZXlzIH0gZnJvbSAnLi4vZGVzaWduZXIvd2YtY2VsbC9wcm9wZXJ0eS1rZXlzL0NhbGxBY3Rpdml0eVN1YlByb2Nlc3NQcm9wZXJ0eUtleXMnO1xyXG5pbXBvcnQgeyBXZkxvY2FsZVBpcGUgfSBmcm9tICcuLi9pMThuL3BpcGUvd2YtcHJvY2Vzcy1lZGl0b3ItbG9jYWxlLnBpcGUnO1xyXG5pbXBvcnQgeyBNdWx0aUluc3RhbmNlTG9vcENoYXJhY3RlcmlzdGljc0NvbXBvbmVudCwgTXVsdGlJbnN0YW5jZUxvb3BDaGFyYWN0ZXJpc3RpY3NDb252ZXJ0ZXIgfSBmcm9tICcuLi92aWV3cy9tdWx0aS1pbnN0YW5jZS1sb29wLWNoYXJhY3RlcmlzdGljcy9tdWx0aS1pbnN0YW5jZS1sb29wLWNoYXJhY3RlcmlzdGljcy5jb21wb25lbnQnO1xyXG5cclxuQEluamVjdGFibGUoKVxyXG5cclxuZXhwb3J0IGNsYXNzIFN1YlByb2Nlc3NWaWV3TW9kZWwge1xyXG4gICAgY29uc3RydWN0b3IoXHJcbiAgICAgICAgcHJpdmF0ZSB1aVN0YXRlOiBQcm9jZXNzRGVzaWduZXJVSVN0YXRlLFxyXG4gICAgICAgIHByaXZhdGUgbG9jYWxQaXBlOiBXZkxvY2FsZVBpcGVcclxuICAgICAgICApIHtcclxuICAgIH1cclxuICAgIHNldFByb3BlcnR5KG9iajogYW55KSB7XHJcbiAgICAgICAgdGhpcy51aVN0YXRlLnByb3BlcnR5RGF0YSA9IG9iai5wcm9wZXJ0eURhdGE7XHJcbiAgICAgICAgdGhpcy51aVN0YXRlLnByb3BlcnR5Q29uZmlnID0gdGhpcy5zZXRDb25maWcob2JqLnByb3BlcnR5Q29uZmlnKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHNldENvbmZpZyhvYmo6IGFueVtdKTogRWxlbWVudFByb3BlcnR5Q29uZmlnW10ge1xyXG4gICAgICAgIGNvbnN0IHByb3BlcnR5Q29uZmlnOiBFbGVtZW50UHJvcGVydHlDb25maWdbXSA9IFtdO1xyXG4gICAgICAgIGlmIChvYmopIHtcclxuICAgICAgICAgICAgb2JqLmZvckVhY2goKGVsZW1lbnQ6IEVsZW1lbnRQcm9wZXJ0eUNvbmZpZykgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRFbnRpdHkoZWxlbWVudC5wcm9wZXJ0aWVzKTtcclxuICAgICAgICAgICAgICAgIHByb3BlcnR5Q29uZmlnLnB1c2goZWxlbWVudCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcHJvcGVydHlDb25maWc7XHJcbiAgICB9XHJcbiAgICBwcml2YXRlIHNldEVudGl0eShvYmo6IFByb3BlcnR5RW50aXR5W10pIHtcclxuICAgICAgICBpZiAob2JqICYmIG9iai5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIG9iai5mb3JFYWNoKChpdGVtOiBQcm9wZXJ0eUVudGl0eSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgc3dpdGNoIChpdGVtLnByb3BlcnR5SUQpIHtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIENhbGxBY3Rpdml0eVN1YlByb2Nlc3NQcm9wZXJ0eUtleXMuY2FsbEFjdGl2aXR5U3ViUHJvY2VzczogLy8g5Y+C5LiO6ICFXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGl0ZW0uZWRpdG9yID0gQ2FsbEFjdGl2aXR5U3ViUHJvY2Vzc0NvbXBvbmVudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gaXRlbS5jb252ZXJ0ZXIgPSBuZXcgQ2FsbEFjdGl2aXR5U3ViUHJvY2Vzc0NvbnZlcnRlcigpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtLmVkaXRvciA9IENhbGxBY3Rpdml0eVN1YlByb2Nlc3MyQ29tcG9uZW50O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtLmNvbnZlcnRlciA9IG5ldyBDYWxsQWN0aXZpdHlTdWJQcm9jZXNzMkNvbnZlcnRlcih0aGlzLmxvY2FsUGlwZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0uZWRpdG9yUGFyYW1zID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYml6VHlwZUlkOiB0aGlzLnVpU3RhdGUuZmxvd0Zvcm1JbmZvLmZsb3dGb3JtLmJ1c2luZXNzT2JqZWN0SWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgQ2FsbEFjdGl2aXR5U3ViUHJvY2Vzc1Byb3BlcnR5S2V5cy5CYWNrV2FyZFJ1bGU6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0uZWRpdG9yID0gQmFja3dhcmRSdWxlQ29tcG9uZW50O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtLmNvbnZlcnRlciA9IG5ldyBCYWNrd2FyZFJ1bGVDb252ZXJ0ZXIodGhpcy5sb2NhbFBpcGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtLmVkaXRvclBhcmFtcyA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGVUeXBlOiAnQ2FsbEFjdGl2aXR5U3ViUHJvY2VzcydcclxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBDYWxsQWN0aXZpdHlTdWJQcm9jZXNzUHJvcGVydHlLZXlzLk11bHRpSW5zdGFuY2VMb29wQ2hhcmFjdGVyaXN0aWNzOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5lZGl0b3IgPSBNdWx0aUluc3RhbmNlTG9vcENoYXJhY3RlcmlzdGljc0NvbXBvbmVudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0uY29udmVydGVyID0gbmV3IE11bHRpSW5zdGFuY2VMb29wQ2hhcmFjdGVyaXN0aWNzQ29udmVydGVyKHRoaXMubG9jYWxQaXBlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0uZWRpdG9yUGFyYW1zID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uOiAnQ2FsbEFjdGl2aXR5U3ViUHJvY2VzcydcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIENhbGxBY3Rpdml0eVN1YlByb2Nlc3NQcm9wZXJ0eUtleXMudmFyaWFibGVTZXR0aW5nczogLy8g5Y+Y6YeP6K6+572uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0uZWRpdG9yID0gVmFyaWFibGVTZXR0aW5nQ29tcG9uZW50O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtLmNvbnZlcnRlciA9IG5ldyBWYXJpYWJsZVNldHRpbmdDb252ZXJ0ZXIodGhpcy5sb2NhbFBpcGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbiJdfQ==