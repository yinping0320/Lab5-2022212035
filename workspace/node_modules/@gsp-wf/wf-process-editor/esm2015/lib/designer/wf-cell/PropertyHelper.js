/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { DataType, DataTypes, DataObject } from "@edp-pmf/bpmn-model";
import { ValuedDataObject, VariableParticipantExpression, ComponentParticipantExpression, ReportingLineParticipantExpression, MatrixParticipantExpression, OrganizationParticipantExpression, VariableSetting, Component, ActivityExecutorParticipantExpression, UserParticipantExpression, PositionParticipantExpression } from "@gsp-wf/wf-process-model";
import { BizComponent } from "../entity/BizComponent";
import { BizParameter } from "../entity/BizParameter";
import { UserParticipant } from "../entity/UserParticipant";
import { VariablePerformer } from "../entity/VariablePerformer";
import { PositionParticipant } from "../entity/PositionParticipant";
import { ComponentParticipant } from "../entity/ComponentParticipant";
import { ReportingLineParticipant } from "../entity/ReportingLineParticipant";
import { ActivityExecutorParticipant } from "../entity/ActivityExecutorParticipant";
import { MatrixParticipant } from "../entity/MatrixParticipant";
import { OrganizationParticipant } from "../entity/OrganizationParticipant";
import { ActionScope } from "../entity/ActionScope";
import { MessageReceiver } from "../entity/MessageReceiver";
import { WfDesignerUtils } from "../WfDesignerUtils";
import { mxResources } from "@edp-pmf/mxgraph-ts";
import { ActionOrganizationScope, OrganizationPotentialOwner } from "../../views/organization-potential-owner/actionOrganizationScope";
import { ParticipantInfo } from "../../views/participant/participant.info";
/**
 * 属性工具
 */
export class PropertyHelper {
    /**
     * 获取变量赋值列表
     * @param {?} bpmnModel
     * @param {?} variablesSetting
     * @return {?}
     */
    static getVariableSettings(bpmnModel, variablesSetting) {
        /** @type {?} */
        const variables = new Array();
        /** @type {?} */
        const extendElements = bpmnModel.DefaultProcess.GetExtensionElements();
        if (variablesSetting && variablesSetting.length > 0) {
            for (const v of variablesSetting) {
                /** @type {?} */
                const variable = {
                    variableCode: v.variableCode,
                    variableName: v.variableName,
                    tag: v.tag,
                    executionTime: v.executionTime,
                    value: v.value,
                    valueText: v.valueText
                };
                if (v.tag === 'component') {
                    if (extendElements.length > 0) {
                        for (const e of extendElements) {
                            if (e instanceof Component && e.Id === v.value) {
                                /** @type {?} */
                                const component = {
                                    Id: e.Id,
                                    Name: e.Name,
                                    MetadataId: e.MetadataId,
                                    MethodCode: e.MethodCode,
                                    ActualParameters: []
                                };
                                if (e.ActualParameters && e.ActualParameters.length > 0) {
                                    for (const p of e.ActualParameters) {
                                        /** @type {?} */
                                        const parameter = {
                                            Name: p.Name,
                                            Value: p.Value,
                                            Tag: p.Tag,
                                        };
                                        component.ActualParameters.push(parameter);
                                    }
                                }
                                variable.component = component;
                            }
                        }
                    }
                }
                variables.push(variable);
            }
        }
        return variables;
    }
    /**
     *
     * @param {?} messageNotices
     * @return {?}
     */
    static getMessageNotices(messageNotices) {
        if (!messageNotices || messageNotices.length == 0) {
            return null;
        }
        return messageNotices.map((/**
         * @param {?} m
         * @return {?}
         */
        m => {
            /** @type {?} */
            const message = new Object;
            message.content = m.content;
            message.sendTime = m.sendTime;
            message.sendType = m.sendType;
            message.subject = m.subject;
            if (m.smsMessageTemplate) {
                /** @type {?} */
                const smsTemplate = new Object;
                smsTemplate.code = m.smsMessageTemplate.code;
                smsTemplate.content = m.smsMessageTemplate.content;
                smsTemplate.smsMessageVariables = new Array();
                if (m.smsMessageTemplate.smsMessageVariables && m.smsMessageTemplate.smsMessageVariables.length > 0) {
                    for (const v of m.smsMessageTemplate.smsMessageVariables) {
                        /** @type {?} */
                        const variable = new Object;
                        variable.id = WfDesignerUtils.createNM();
                        variable.code = v.code;
                        variable.value = v.value;
                        variable.tag = v.tag;
                        smsTemplate.smsMessageVariables.push(variable);
                    }
                }
                message.smsMessageTemplate = smsTemplate;
            }
            /** @type {?} */
            const receiverExpressions = new Array();
            if (m.receiver) {
                /** @type {?} */
                const receivers = m.receiver.split(',');
                /** @type {?} */
                const receiverTexts = m.receiverText.split(',');
                /** @type {?} */
                let userReceiver = new MessageReceiver();
                userReceiver.type = 'userParticipant';
                userReceiver.userIds = '';
                userReceiver.userNames = '';
                for (const i in receivers) {
                    if (receivers[i] === 'procInstCreator') {
                        /** @type {?} */
                        let procInstCreator = new MessageReceiver();
                        procInstCreator.type = 'processParticipant';
                        procInstCreator.processParticipant = 'procInstCreator';
                        receiverExpressions.push(procInstCreator);
                    }
                    else if (receivers[i] === 'workItemParticipant') {
                        /** @type {?} */
                        let workItemParticipant = new MessageReceiver();
                        workItemParticipant.type = 'processParticipant';
                        workItemParticipant.processParticipant = 'workItemParticipant';
                        receiverExpressions.push(workItemParticipant);
                    }
                    else {
                        userReceiver.userIds += (receivers[i] + ',');
                        userReceiver.userNames += (receiverTexts[i] + ',');
                    }
                }
                if (userReceiver.userIds) {
                    userReceiver.userIds = userReceiver.userIds.substring(0, userReceiver.userIds.length - 1);
                    userReceiver.userNames = userReceiver.userNames.substring(0, userReceiver.userNames.length - 1);
                    receiverExpressions.push(userReceiver);
                }
            }
            if (m.receiverExpressions && m.receiverExpressions.length > 0) {
                for (const e of m.receiverExpressions) {
                    if (e instanceof ActivityExecutorParticipantExpression) {
                        /** @type {?} */
                        let activityExecutorParticipant = new MessageReceiver();
                        activityExecutorParticipant.type = 'processParticipant';
                        activityExecutorParticipant.processParticipant = 'activityExecutorParticipant';
                        activityExecutorParticipant.activityDefId = e.activityDefId;
                        activityExecutorParticipant.activityDefName = e.activityDefName;
                        receiverExpressions.push(activityExecutorParticipant);
                    }
                    else if (e instanceof UserParticipantExpression) {
                        /** @type {?} */
                        let variableReceiver = new MessageReceiver();
                        variableReceiver.type = 'variableParticipant';
                        variableReceiver.variableParticipant = e.UserId;
                        variableReceiver.variableName = e.name;
                        variableReceiver.orgType = e.OrgType;
                        receiverExpressions.push(variableReceiver);
                    }
                    else if (e instanceof PositionParticipantExpression) {
                        /** @type {?} */
                        let positionReceiver = new MessageReceiver();
                        positionReceiver.type = 'positionParticipant';
                        positionReceiver.positionId = e.PositionId;
                        positionReceiver.positionName = e.PositionName;
                        positionReceiver.positionType = e.PositionType;
                        if (positionReceiver.positionType === '1') {
                            positionReceiver.orgId = e.OrgId;
                            positionReceiver.orgType = e.OrgType;
                        }
                        receiverExpressions.push(positionReceiver);
                    }
                }
            }
            if (receiverExpressions.length > 0) {
                message.receivers = receiverExpressions;
            }
            return message;
        }));
    }
    /**
     *
     * @param {?} components
     * @return {?}
     */
    static getBizComponentList(components) {
        /** @type {?} */
        const bizComponentList = new Array();
        if (components && components.length > 0) {
            for (const component of components) {
                /** @type {?} */
                const bizComponent = new BizComponent();
                bizComponent.id = component.Id;
                bizComponent.name = component.Name;
                bizComponent.metadataId = component.MetadataId;
                bizComponent.methodCode = component.MethodCode;
                bizComponent.executionTime = component.Time;
                bizComponent.isForCompensation = component.isForCompensation;
                bizComponent.scopeType = component.ScopeType || null;
                bizComponent.actualParameters = new Array();
                if (component.ActualParameters && component.ActualParameters.length > 0) {
                    for (const param of component.ActualParameters) {
                        /** @type {?} */
                        const bizParam = new BizParameter();
                        bizParam.code = param.Name;
                        bizParam.name = param.Name;
                        bizParam.value = param.Value;
                        bizComponent.actualParameters.push(bizParam);
                    }
                }
                bizComponentList.push(bizComponent);
            }
        }
        return bizComponentList;
    }
    /**
     *
     * @param {?} roles
     * @return {?}
     */
    static getPerformerList(roles) {
        /** @type {?} */
        const performers = new Array();
        roles.forEach((/**
         * @param {?} role
         * @return {?}
         */
        (role) => {
            if (role == null) {
                return;
            }
            if (role.participantExpression instanceof UserParticipantExpression) {
                /** @type {?} */
                const user = (/** @type {?} */ (role.participantExpression));
                if (user) {
                    /** @type {?} */
                    const userPerformer = new UserParticipant();
                    userPerformer.id = user.id;
                    userPerformer.performerId = user.UserId;
                    userPerformer.performerName = user.name;
                    userPerformer.type = user.ClrTypeID;
                    userPerformer.orgId = user.OrgId;
                    userPerformer.orgName = user.OrgName;
                    userPerformer.orgType = user.OrgType;
                    userPerformer.condition = role.condition ? role.condition.Value : '';
                    userPerformer.tag = user.Tag;
                    userPerformer.order = role.order;
                    performers.push(userPerformer);
                }
            }
            else if (role.participantExpression instanceof VariableParticipantExpression) {
                /** @type {?} */
                const variable = (/** @type {?} */ (role.participantExpression));
                if (variable) {
                    /** @type {?} */
                    const variablePerformer = new VariablePerformer();
                    variablePerformer.id = variable.id,
                        variablePerformer.name = variable.Name,
                        variablePerformer.type = variable.ClrTypeID,
                        variablePerformer.condition = role.condition ? role.condition.Value : '',
                        variablePerformer.tag = variable.Tag;
                    variablePerformer.relation = variable.Relation;
                    variablePerformer.varType = variable.VarType;
                    variablePerformer.varValue = variable.VarValue;
                    variablePerformer.order = role.order;
                    performers.push(variablePerformer);
                }
            }
            else if (role.participantExpression instanceof PositionParticipantExpression) {
                /** @type {?} */
                const position = (/** @type {?} */ (role.participantExpression));
                if (position) {
                    /** @type {?} */
                    const positionPerformer = new PositionParticipant();
                    positionPerformer.id = position.id;
                    positionPerformer.performerId = position.PositionId;
                    positionPerformer.positionType = position.PositionType;
                    positionPerformer.performerName = position.PositionName;
                    positionPerformer.type = position.ClrTypeID;
                    positionPerformer.orgId = position.OrgId || '';
                    positionPerformer.orgName = position.OrgName || '';
                    positionPerformer.orgType = position.OrgType || '';
                    positionPerformer.condition = role.condition ? role.condition.Value : '';
                    positionPerformer.order = role.order;
                    performers.push(positionPerformer);
                }
            }
            else if (role.participantExpression instanceof ComponentParticipantExpression) {
                /** @type {?} */
                const cmp = (/** @type {?} */ (role.participantExpression));
                if (cmp) {
                    /** @type {?} */
                    const componentPerformer = new ComponentParticipant();
                    componentPerformer.id = cmp.id;
                    componentPerformer.name = cmp.componentName;
                    componentPerformer.metadataId = cmp.componentId;
                    componentPerformer.methodCode = cmp.methodCode;
                    componentPerformer.methodName = cmp.methodName;
                    componentPerformer.type = cmp.ClrTypeID;
                    componentPerformer.actualParameters = new Array();
                    if (cmp.actualParameters && cmp.actualParameters.length > 0) {
                        /** @type {?} */
                        let paramters = [];
                        cmp.actualParameters.forEach((/**
                         * @param {?} p
                         * @return {?}
                         */
                        p => paramters.push({ code: p.Name, value: p.Value, valueText: p.ValueText, tag: p.Tag })));
                        componentPerformer.actualParameters = paramters;
                    }
                    if (role.condition) {
                        componentPerformer.condition = role.condition.Value;
                    }
                    componentPerformer.order = role.order;
                    performers.push(componentPerformer);
                }
            }
            else if (role.participantExpression instanceof ReportingLineParticipantExpression) {
                /** @type {?} */
                const r = (/** @type {?} */ (role.participantExpression));
                if (r) {
                    /** @type {?} */
                    const reportingLine = new ReportingLineParticipant();
                    reportingLine.id = r.id;
                    reportingLine.reportingLineDefId = r.ReportingLineDefId;
                    reportingLine.reportingLineDefName = r.ReportingLineDefName;
                    reportingLine.refOrgId = r.RefOrgId;
                    reportingLine.refUserId = r.RefUserId;
                    reportingLine.refEmployeeId = r.RefEmployeeId;
                    reportingLine.dimension = r.Dimension;
                    reportingLine.performerName = r.RefUserId;
                    reportingLine.tag = r.Tag;
                    reportingLine.type = r.ClrTypeID;
                    if (role.condition) {
                        reportingLine.condition = role.condition.Value;
                    }
                    reportingLine.order = role.order;
                    performers.push(reportingLine);
                }
            }
            else if (role.participantExpression instanceof ActivityExecutorParticipantExpression) {
                /** @type {?} */
                const r = (/** @type {?} */ (role.participantExpression));
                if (r) {
                    /** @type {?} */
                    const activityExecutor = new ActivityExecutorParticipant();
                    activityExecutor.id = r.id;
                    activityExecutor.type = r.ClrTypeID;
                    activityExecutor.activityDefId = r.activityDefId;
                    activityExecutor.activityDefName = r.activityDefName;
                    activityExecutor.performerName = '<' + r.activityDefName + mxResources.get('eventHandler');
                    if (role.condition) {
                        activityExecutor.condition = role.condition.Value;
                    }
                    activityExecutor.order = role.order;
                    performers.push(activityExecutor);
                }
            }
            else if (role.participantExpression instanceof MatrixParticipantExpression) {
                /** @type {?} */
                const r = (/** @type {?} */ (role.participantExpression));
                if (r) {
                    /** @type {?} */
                    const matrix = new MatrixParticipant();
                    matrix.id = r.id;
                    matrix.matrixDefId = r.matrixDefId;
                    matrix.matrixDefName = r.matrixDefName;
                    matrix.conditionField1 = r.conditionField1;
                    matrix.conditionFieldText1 = r.conditionFieldText1;
                    matrix.conditionField2 = r.conditionField2;
                    matrix.conditionFieldText2 = r.conditionFieldText2;
                    matrix.conditionField3 = r.conditionField3;
                    matrix.conditionFieldText3 = r.conditionFieldText3;
                    matrix.multivaluedCondition = r.multivaluedCondition;
                    matrix.dataFieldAlias = r.dataFieldAlias;
                    matrix.type = r.ClrTypeID;
                    matrix.order = role.order;
                    if (role.condition) {
                        matrix.condition = role.condition.Value;
                    }
                    performers.push(matrix);
                }
            }
            else if (role.participantExpression instanceof OrganizationParticipantExpression) {
                /** @type {?} */
                const r = (/** @type {?} */ (role.participantExpression));
                if (r) {
                    /** @type {?} */
                    const organization = new OrganizationParticipant;
                    organization.id = r.id;
                    organization.type = r.ClrTypeID;
                    organization.name = r.name;
                    organization.actionScope = (/** @type {?} */ (r.actionScope));
                    organization.organizationLevel = r.organizationLevel;
                    organization.organizationId = r.organizationId;
                    organization.organizationCode = r.organizationCode;
                    organization.organizationName = r.organizationName;
                    organization.includeChildren = r.includeChildren;
                    organization.parentsUntil = r.parentsUntil;
                    organization.tag = r.tag;
                    organization.order = role.order;
                    if (role.condition) {
                        organization.condition = role.condition.Value;
                    }
                    performers.push(organization);
                }
            }
        }));
        return performers;
    }
    /**
     * 移交等的范围，与上个方法比这里传入的是具体的参与者类型（用户参与者、岗位参与者，balbala）
     * @param {?} roles
     * @return {?}
     */
    static getPerformerListTest(roles) {
        /** @type {?} */
        const performers = new Array();
        roles.forEach((/**
         * @param {?} role
         * @return {?}
         */
        (role) => {
            if (role == null) {
                return;
            }
            if (role instanceof UserParticipantExpression) {
                /** @type {?} */
                const user = (/** @type {?} */ (role));
                if (user) {
                    /** @type {?} */
                    const userPerformer = new UserParticipant();
                    userPerformer.id = user.id;
                    userPerformer.performerId = user.UserId;
                    userPerformer.performerName = user.name;
                    userPerformer.type = user.ClrTypeID;
                    userPerformer.orgId = user.OrgId;
                    userPerformer.orgName = user.OrgName;
                    userPerformer.orgType = user.OrgType;
                    userPerformer.condition = role.condition ? role.condition.Value : '';
                    userPerformer.tag = user.Tag;
                    userPerformer.order = role.order;
                    performers.push(userPerformer);
                }
            }
            else if (role instanceof VariableParticipantExpression) {
                /** @type {?} */
                const variable = (/** @type {?} */ (role));
                if (variable) {
                    /** @type {?} */
                    const variablePerformer = new VariablePerformer();
                    variablePerformer.id = variable.id,
                        variablePerformer.name = variable.Name,
                        variablePerformer.type = variable.ClrTypeID,
                        variablePerformer.condition = role.condition ? role.condition.Value : '',
                        variablePerformer.tag = variable.Tag;
                    variablePerformer.relation = variable.Relation;
                    variablePerformer.varType = variable.VarType;
                    variablePerformer.varValue = variable.VarValue;
                    variablePerformer.order = role.order;
                    performers.push(variablePerformer);
                }
            }
            else if (role instanceof PositionParticipantExpression) {
                /** @type {?} */
                const position = (/** @type {?} */ (role));
                if (position) {
                    /** @type {?} */
                    const positionPerformer = new PositionParticipant();
                    positionPerformer.id = position.id;
                    positionPerformer.performerId = position.PositionId;
                    positionPerformer.positionType = position.PositionType;
                    positionPerformer.performerName = position.PositionName;
                    positionPerformer.type = position.ClrTypeID;
                    positionPerformer.orgId = position.OrgId || '';
                    positionPerformer.orgName = position.OrgName || '';
                    positionPerformer.orgType = position.OrgType || '';
                    positionPerformer.condition = role.condition ? role.condition.Value : '';
                    positionPerformer.order = role.order;
                    performers.push(positionPerformer);
                }
            }
            else if (role instanceof ComponentParticipantExpression) {
                /** @type {?} */
                const cmp = (/** @type {?} */ (role));
                if (cmp) {
                    /** @type {?} */
                    const componentPerformer = new ComponentParticipant();
                    componentPerformer.id = cmp.id;
                    componentPerformer.name = cmp.componentName;
                    componentPerformer.metadataId = cmp.componentId;
                    componentPerformer.methodCode = cmp.methodCode;
                    componentPerformer.methodName = cmp.methodName;
                    componentPerformer.type = cmp.ClrTypeID;
                    componentPerformer.actualParameters = new Array();
                    if (cmp.actualParameters && cmp.actualParameters.length > 0) {
                        /** @type {?} */
                        let paramters = [];
                        cmp.actualParameters.forEach((/**
                         * @param {?} p
                         * @return {?}
                         */
                        p => paramters.push({ code: p.Name, value: p.Value, valueText: p.ValueText, tag: p.Tag })));
                        componentPerformer.actualParameters = paramters;
                    }
                    if (role.condition) {
                        componentPerformer.condition = role.condition.Value;
                    }
                    componentPerformer.order = role.order;
                    performers.push(componentPerformer);
                }
            }
            else if (role instanceof ReportingLineParticipantExpression) {
                /** @type {?} */
                const r = (/** @type {?} */ (role));
                if (r) {
                    /** @type {?} */
                    const reportingLine = new ReportingLineParticipant();
                    reportingLine.id = r.id;
                    reportingLine.reportingLineDefId = r.ReportingLineDefId;
                    reportingLine.reportingLineDefName = r.ReportingLineDefName;
                    reportingLine.refOrgId = r.RefOrgId;
                    reportingLine.refUserId = r.RefUserId;
                    reportingLine.refEmployeeId = r.RefEmployeeId;
                    reportingLine.dimension = r.Dimension;
                    reportingLine.performerName = r.RefUserId;
                    reportingLine.tag = r.Tag;
                    reportingLine.type = r.ClrTypeID;
                    if (role.condition) {
                        reportingLine.condition = role.condition.Value;
                    }
                    reportingLine.order = role.order;
                    performers.push(reportingLine);
                }
            }
            else if (role instanceof ActivityExecutorParticipantExpression) {
                /** @type {?} */
                const r = (/** @type {?} */ (role));
                if (r) {
                    /** @type {?} */
                    const activityExecutor = new ActivityExecutorParticipant();
                    activityExecutor.id = r.id;
                    activityExecutor.type = r.ClrTypeID;
                    activityExecutor.activityDefId = r.activityDefId;
                    activityExecutor.activityDefName = r.activityDefName;
                    activityExecutor.performerName = '<' + r.activityDefName + mxResources.get('eventHandler');
                    if (role.condition) {
                        activityExecutor.condition = role.condition.Value;
                    }
                    activityExecutor.order = role.order;
                    performers.push(activityExecutor);
                }
            }
            else if (role instanceof MatrixParticipantExpression) {
                /** @type {?} */
                const r = (/** @type {?} */ (role));
                if (r) {
                    /** @type {?} */
                    const matrix = new MatrixParticipant();
                    matrix.id = r.id;
                    matrix.matrixDefId = r.matrixDefId;
                    matrix.matrixDefName = r.matrixDefName;
                    matrix.conditionField1 = r.conditionField1;
                    matrix.conditionFieldText1 = r.conditionFieldText1;
                    matrix.conditionField2 = r.conditionField2;
                    matrix.conditionFieldText2 = r.conditionFieldText2;
                    matrix.conditionField3 = r.conditionField3;
                    matrix.conditionFieldText3 = r.conditionFieldText3;
                    matrix.multivaluedCondition = r.multivaluedCondition;
                    matrix.dataFieldAlias = r.dataFieldAlias;
                    matrix.type = r.ClrTypeID;
                    matrix.order = role.order;
                    if (role.condition) {
                        matrix.condition = role.condition.Value;
                    }
                    performers.push(matrix);
                }
            }
            else if (role instanceof OrganizationParticipantExpression) {
                /** @type {?} */
                const r = (/** @type {?} */ (role));
                if (r) {
                    /** @type {?} */
                    const organization = new OrganizationParticipant;
                    organization.id = r.id;
                    organization.type = r.ClrTypeID;
                    organization.name = r.name;
                    organization.actionScope = (/** @type {?} */ (r.actionScope));
                    organization.organizationLevel = r.organizationLevel;
                    organization.organizationId = r.organizationId;
                    organization.organizationCode = r.organizationCode;
                    organization.organizationName = r.organizationName;
                    organization.includeChildren = r.includeChildren;
                    organization.parentsUntil = r.parentsUntil;
                    organization.tag = r.tag;
                    organization.order = role.order;
                    if (role.condition) {
                        organization.condition = role.condition.Value;
                    }
                    performers.push(organization);
                }
            }
        }));
        return performers;
    }
    /**
     *
     * @param {?} notifyAble
     * @param {?} dynamicParticipants
     * @return {?}
     */
    static getNotifyAble(notifyAble, dynamicParticipants) {
        /** @type {?} */
        const notifyScope = new ActionOrganizationScope();
        notifyScope.action = ActionScope.Notify;
        notifyScope.enable = notifyAble;
        if (notifyAble) {
            /** @type {?} */
            const roles = dynamicParticipants.filter((/**
             * @param {?} r
             * @return {?}
             */
            r => r.actionScope === ActionScope.Notify));
            /** @type {?} */
            let res = roles.find((/**
             * @param {?} r
             * @return {?}
             */
            r => ((/** @type {?} */ (r))).organizationLevel && !((/** @type {?} */ (r))).order));
            /** @type {?} */
            let list = [];
            if (res) {
                /** @type {?} */
                const organization = new OrganizationParticipant;
                organization.id = res.id;
                organization.type = res.ClrTypeID;
                organization.name = res.name;
                organization.actionScope = (/** @type {?} */ (res.actionScope));
                organization.organizationLevel = ((/** @type {?} */ (res))).organizationLevel;
                organization.organizationId = ((/** @type {?} */ (res))).organizationId;
                organization.organizationCode = ((/** @type {?} */ (res))).organizationCode;
                organization.organizationName = ((/** @type {?} */ (res))).organizationName;
                organization.includeChildren = ((/** @type {?} */ (res))).includeChildren;
                organization.parentsUntil = ((/** @type {?} */ (res))).parentsUntil;
                organization.tag = ((/** @type {?} */ (res))).tag;
                organization.order = 1;
                list.push(organization);
            }
            else {
                list = PropertyHelper.getPerformerListTest(roles);
            }
            notifyScope.scope = new OrganizationPotentialOwner();
            if (list && list.length > 0) {
                notifyScope.scope.participantInfo = new ParticipantInfo();
                notifyScope.scope.participantInfo.potentialOwnerList = list;
                notifyScope.scope.participantInfo.isAllScope = true;
            }
            else {
                notifyScope.scope.participantInfo = new ParticipantInfo();
                notifyScope.scope.participantInfo.isAllScope = false;
            }
        }
        return notifyScope;
    }
    /**
     * @param {?} process
     * @param {?} parameters
     * @return {?}
     */
    static updateFormalParameters(process, parameters) {
        if (!parameters) {
            parameters = [];
        }
        /** @type {?} */
        let objects = process.GetDataObjects();
        if (parameters !== null && parameters.length > 0) {
            for (const p of parameters) {
                /** @type {?} */
                const dataType = new DataType(process.Model);
                // 先移除code相同的dataObject
                for (const o of objects) {
                    if (o instanceof DataObject && o.Name === p.code) {
                        process.RemoveDataObject(o.Id);
                    }
                }
                dataType.Category = DataTypes.BasicType;
                dataType.BasicType = p.dataType;
                dataType.Description = p.description;
                // dataType.InitialValue = p.initialValue;
                if (p.parameterMode === 0) {
                    /** @type {?} */
                    const dataObject = new ValuedDataObject(process.Model);
                    dataObject.Name = p.code;
                    dataObject.Documentation = p.name;
                    dataObject.DataType = dataType;
                    dataObject.IsAllowNull = p.allowNull;
                    if (p.initialValue || p.initialValueType) {
                        /** @type {?} */
                        const variableSetting = new VariableSetting(process.Model);
                        variableSetting.variableCode = p.code;
                        variableSetting.variableName = p.name;
                        variableSetting.tag = p.initialValueType;
                        variableSetting.value = p.initialValue;
                        variableSetting.valueText = p.initialValue;
                        dataObject.variableSetting = variableSetting;
                    }
                    process.AddDataObject(dataObject);
                }
            }
        }
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiUHJvcGVydHlIZWxwZXIuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9AZ3NwLXdmL3dmLXByb2Nlc3MtZWRpdG9yLyIsInNvdXJjZXMiOlsibGliL2Rlc2lnbmVyL3dmLWNlbGwvUHJvcGVydHlIZWxwZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7OztBQUFBLE9BQU8sRUFBK0IsUUFBUSxFQUFFLFNBQVMsRUFBRSxVQUFVLEVBQVcsTUFBTSxxQkFBcUIsQ0FBQztBQUM1RyxPQUFPLEVBQUUsZ0JBQWdCLEVBQWdGLDZCQUE2QixFQUFFLDhCQUE4QixFQUFFLGtDQUFrQyxFQUFFLDJCQUEyQixFQUFFLGlDQUFpQyxFQUFFLGVBQWUsRUFBRSxTQUFTLEVBQWlCLHFDQUFxQyxFQUFFLHlCQUF5QixFQUFFLDZCQUE2QixFQUFFLE1BQU0sMEJBQTBCLENBQUM7QUFDemIsT0FBTyxFQUFFLFlBQVksRUFBRSxNQUFNLHdCQUF3QixDQUFDO0FBQ3RELE9BQU8sRUFBRSxZQUFZLEVBQUUsTUFBTSx3QkFBd0IsQ0FBQztBQUN0RCxPQUFPLEVBQUUsZUFBZSxFQUFFLE1BQU0sMkJBQTJCLENBQUM7QUFFNUQsT0FBTyxFQUFFLGlCQUFpQixFQUFFLE1BQU0sNkJBQTZCLENBQUM7QUFDaEUsT0FBTyxFQUFFLG1CQUFtQixFQUFFLE1BQU0sK0JBQStCLENBQUM7QUFDcEUsT0FBTyxFQUFFLG9CQUFvQixFQUFFLE1BQU0sZ0NBQWdDLENBQUM7QUFDdEUsT0FBTyxFQUFFLHdCQUF3QixFQUFFLE1BQU0sb0NBQW9DLENBQUM7QUFDOUUsT0FBTyxFQUFFLDJCQUEyQixFQUFFLE1BQU0sdUNBQXVDLENBQUM7QUFDcEYsT0FBTyxFQUFFLGlCQUFpQixFQUFFLE1BQU0sNkJBQTZCLENBQUM7QUFDaEUsT0FBTyxFQUFFLHVCQUF1QixFQUFFLE1BQU0sbUNBQW1DLENBQUM7QUFDNUUsT0FBTyxFQUFFLFdBQVcsRUFBRSxNQUFNLHVCQUF1QixDQUFDO0FBQ3BELE9BQU8sRUFBRSxlQUFl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QixDQUFDO3dCQUN6QyxlQUFlLENBQUMsS0FBSyxHQUFHLENBQUMsQ0FBQyxZQUFZLENBQUM7d0JBQ3ZDLGVBQWUsQ0FBQyxTQUFTLEdBQUcsQ0FBQyxDQUFDLFlBQVksQ0FBQzt3QkFFM0MsVUFBVSxDQUFDLGVBQWUsR0FBRyxlQUFlLENBQUM7cUJBQ2hEO29CQUVELE9BQU8sQ0FBQyxhQUFhLENBQUMsVUFBVSxDQUFDLENBQUM7aUJBQ3JDO2FBQ0o7U0FDSjtJQUNMLENBQUM7Q0FDSiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEJwbW5Nb2RlbCwgRXh0ZW5zaW9uRWxlbWVudCwgRGF0YVR5cGUsIERhdGFUeXBlcywgRGF0YU9iamVjdCwgUHJvY2VzcyB9IGZyb20gXCJAZWRwLXBtZi9icG1uLW1vZGVsXCI7XHJcbmltcG9ydCB7IFZhbHVlZERhdGFPYmplY3QsIENEVFNjaGVtYVR5cGUsIEh1bWFuUGVyZm9ybWVySW1wbCwgUG90ZW50aWFsT3duZXJJbXBsLCBQYXJ0aWNpcGFudEV4cHJlc3Npb24sIFZhcmlhYmxlUGFydGljaXBhbnRFeHByZXNzaW9uLCBDb21wb25lbnRQYXJ0aWNpcGFudEV4cHJlc3Npb24sIFJlcG9ydGluZ0xpbmVQYXJ0aWNpcGFudEV4cHJlc3Npb24sIE1hdHJpeFBhcnRpY2lwYW50RXhwcmVzc2lvbiwgT3JnYW5pemF0aW9uUGFydGljaXBhbnRFeHByZXNzaW9uLCBWYXJpYWJsZVNldHRpbmcsIENvbXBvbmVudCwgTWVzc2FnZU5vdGljZSwgQWN0aXZpdHlFeGVjdXRvclBhcnRpY2lwYW50RXhwcmVzc2lvbiwgVXNlclBhcnRpY2lwYW50RXhwcmVzc2lvbiwgUG9zaXRpb25QYXJ0aWNpcGFudEV4cHJlc3Npb24gfSBmcm9tIFwiQGdzcC13Zi93Zi1wcm9jZXNzLW1vZGVsXCI7XHJcbmltcG9ydCB7IEJpekNvbXBvbmVudCB9IGZyb20gXCIuLi9lbnRpdHkvQml6Q29tcG9uZW50XCI7XHJcbmltcG9ydCB7IEJpelBhcmFtZXRlciB9IGZyb20gXCIuLi9lbnRpdHkvQml6UGFyYW1ldGVyXCI7XHJcbmltcG9ydCB7IFVzZXJQYXJ0aWNpcGFudCB9IGZyb20gXCIuLi9lbnRpdHkvVXNlclBhcnRpY2lwYW50XCI7XHJcbmltcG9ydCB7IFBhcnRpY2lwYW50IH0gZnJvbSBcIi4uL2VudGl0eS9QYXJ0aWNpcGFudFwiO1xyXG5pbXBvcnQgeyBWYXJpYWJsZVBlcmZvcm1lciB9IGZyb20gXCIuLi9lbnRpdHkvVmFyaWFibGVQZXJmb3JtZXJcIjtcclxuaW1wb3J0IHsgUG9zaXRpb25QYXJ0aWNpcGFudCB9IGZyb20gXCIuLi9lbnRpdHkvUG9zaXRpb25QYXJ0aWNpcGFudFwiO1xyXG5pbXBvcnQgeyBDb21wb25lbnRQYXJ0aWNpcGFudCB9IGZyb20gXCIuLi9lbnRpdHkvQ29tcG9uZW50UGFydGljaXBhbnRcIjtcclxuaW1wb3J0IHsgUmVwb3J0aW5nTGluZVBhcnRpY2lwYW50IH0gZnJvbSBcIi4uL2VudGl0eS9SZXBvcnRpbmdMaW5lUGFydGljaXBhbnRcIjtcclxuaW1wb3J0IHsgQWN0aXZpdHlFeGVjdXRvclBhcnRpY2lwYW50IH0gZnJvbSBcIi4uL2VudGl0eS9BY3Rpdml0eUV4ZWN1dG9yUGFydGljaXBhbnRcIjtcclxuaW1wb3J0IHsgTWF0cml4UGFydGljaXBhbnQgfSBmcm9tIFwiLi4vZW50aXR5L01hdHJpeFBhcnRpY2lwYW50XCI7XHJcbmltcG9ydCB7IE9yZ2FuaXphdGlvblBhcnRpY2lwYW50IH0gZnJvbSBcIi4uL2VudGl0eS9Pcmdhbml6YXRpb25QYXJ0aWNpcGFudFwiO1xyXG5pbXBvcnQgeyBBY3Rpb25TY29wZSB9IGZyb20gXCIuLi9lbnRpdHkvQWN0aW9uU2NvcGVcIjtcclxuaW1wb3J0IHsgTWVzc2FnZVJlY2VpdmVyIH0gZnJvbSBcIi4uL2VudGl0eS9NZXNzYWdlUmVjZWl2ZXJcIjtcclxuaW1wb3J0IHsgV2ZEZXNpZ25lclV0aWxzIH0gZnJvbSBcIi4uL1dmRGVzaWduZXJVdGlsc1wiO1xyXG5pbXBvcnQgeyBteFJlc291cmNlcyB9IGZyb20gXCJAZWRwLXBtZi9teGdyYXBoLXRzXCI7XHJcbmltcG9ydCB7IEFjdGlvbk9yZ2FuaXphdGlvblNjb3BlLCBPcmdhbml6YXRpb25Qb3RlbnRpYWxPd25lciB9IGZyb20gXCIuLi8uLi92aWV3cy9vcmdhbml6YXRpb24tcG90ZW50aWFsLW93bmVyL2FjdGlvbk9yZ2FuaXphdGlvblNjb3BlXCI7XHJcbmltcG9ydCB7IFBhcnRpY2lwYW50SW5mbyB9IGZyb20gXCIuLi8uLi92aWV3cy9wYXJ0aWNpcGFudC9wYXJ0aWNpcGFudC5pbmZvXCI7XHJcblxyXG4vKipcclxuICog5bGe5oCn5bel5YW3XHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgUHJvcGVydHlIZWxwZXIge1xyXG4gICAgLyoqXHJcbiAgICAgKiDojrflj5blj5jph4/otYvlgLzliJfooahcclxuICAgICAqIEBwYXJhbSBicG1uTW9kZWxcclxuICAgICAqIEBwYXJhbSB2YXJpYWJsZXNTZXR0aW5nXHJcbiAgICAgKiBAcmV0dXJuc1xyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc3RhdGljIGdldFZhcmlhYmxlU2V0dGluZ3MoYnBtbk1vZGVsOiBCcG1uTW9kZWwsIHZhcmlhYmxlc1NldHRpbmc6IFZhcmlhYmxlU2V0dGluZ1tdKSB7XHJcbiAgICAgICAgY29uc3QgdmFyaWFibGVzID0gbmV3IEFycmF5KCk7XHJcbiAgICAgICAgY29uc3QgZXh0ZW5kRWxlbWVudHM6IEV4dGVuc2lvbkVsZW1lbnRbXSA9IGJwbW5Nb2RlbC5EZWZhdWx0UHJvY2Vzcy5HZXRFeHRlbnNpb25FbGVtZW50cygpO1xyXG4gICAgICAgIGlmICh2YXJpYWJsZXNTZXR0aW5nICYmIHZhcmlhYmxlc1NldHRpbmcubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICBmb3IgKGNvbnN0IHYgb2YgdmFyaWFibGVzU2V0dGluZykge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdmFyaWFibGU6IGFueSA9IHtcclxuICAgICAgICAgICAgICAgICAgICB2YXJpYWJsZUNvZGU6IHYudmFyaWFibGVDb2RlLFxyXG4gICAgICAgICAgICAgICAgICAgIHZhcmlhYmxlTmFtZTogdi52YXJpYWJsZU5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgdGFnOiB2LnRhZyxcclxuICAgICAgICAgICAgICAgICAgICBleGVjdXRpb25UaW1lOiB2LmV4ZWN1dGlvblRpbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHYudmFsdWUsXHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWVUZXh0OiB2LnZhbHVlVGV4dFxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHYudGFnID09PSAnY29tcG9uZW50Jykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChleHRlbmRFbGVtZW50cy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgZSBvZiBleHRlbmRFbGVtZW50cykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUgaW5zdGFuY2VvZiBDb21wb25lbnQgJiYgZS5JZCA9PT0gdi52YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbXBvbmVudDogYW55ID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBJZDogZS5JZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTmFtZTogZS5OYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBNZXRhZGF0YUlkOiBlLk1ldGFkYXRhSWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1ldGhvZENvZGU6IGUuTWV0aG9kQ29kZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQWN0dWFsUGFyYW1ldGVyczogW11cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUuQWN0dWFsUGFyYW1ldGVycyAmJiBlLkFjdHVhbFBhcmFtZXRlcnMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHAgb2YgZS5BY3R1YWxQYXJhbWV0ZXJzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwYXJhbWV0ZXIgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTmFtZTogcC5OYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFZhbHVlOiBwLlZhbHVlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRhZzogcC5UYWcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50LkFjdHVhbFBhcmFtZXRlcnMucHVzaChwYXJhbWV0ZXIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhcmlhYmxlLmNvbXBvbmVudCA9IGNvbXBvbmVudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHZhcmlhYmxlcy5wdXNoKHZhcmlhYmxlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHZhcmlhYmxlcztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gbWVzc2FnZU5vdGljZXNcclxuICAgICAqIEByZXR1cm5zXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0TWVzc2FnZU5vdGljZXMobWVzc2FnZU5vdGljZXM6IE1lc3NhZ2VOb3RpY2VbXSkge1xyXG4gICAgICAgIGlmICghbWVzc2FnZU5vdGljZXMgfHwgbWVzc2FnZU5vdGljZXMubGVuZ3RoID09IDApIHtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBtZXNzYWdlTm90aWNlcy5tYXAobSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IG1lc3NhZ2U6IGFueSA9IG5ldyBPYmplY3Q7XHJcbiAgICAgICAgICAgIG1lc3NhZ2UuY29udGVudCA9IG0uY29udGVudDtcclxuICAgICAgICAgICAgbWVzc2FnZS5zZW5kVGltZSA9IG0uc2VuZFRpbWU7XHJcbiAgICAgICAgICAgIG1lc3NhZ2Uuc2VuZFR5cGUgPSBtLnNlbmRUeXBlO1xyXG4gICAgICAgICAgICBtZXNzYWdlLnN1YmplY3QgPSBtLnN1YmplY3Q7XHJcbiAgICAgICAgICAgIGlmIChtLnNtc01lc3NhZ2VUZW1wbGF0ZSkge1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgc21zVGVtcGxhdGU6IGFueSA9IG5ldyBPYmplY3Q7XHJcbiAgICAgICAgICAgICAgICBzbXNUZW1wbGF0ZS5jb2RlID0gbS5zbXNNZXNzYWdlVGVtcGxhdGUuY29kZTtcclxuICAgICAgICAgICAgICAgIHNtc1RlbXBsYXRlLmNvbnRlbnQgPSBtLnNtc01lc3NhZ2VUZW1wbGF0ZS5jb250ZW50O1xyXG4gICAgICAgICAgICAgICAgc21zVGVtcGxhdGUuc21zTWVzc2FnZVZhcmlhYmxlcyA9IG5ldyBBcnJheSgpO1xyXG4gICAgICAgICAgICAgICAgaWYgKG0uc21zTWVzc2FnZVRlbXBsYXRlLnNtc01lc3NhZ2VWYXJpYWJsZXMgJiYgbS5zbXNNZXNzYWdlVGVtcGxhdGUuc21zTWVzc2FnZVZhcmlhYmxlcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCB2IG9mIG0uc21zTWVzc2FnZVRlbXBsYXRlLnNtc01lc3NhZ2VWYXJpYWJsZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdmFyaWFibGU6IGFueSA9IG5ldyBPYmplY3Q7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhcmlhYmxlLmlkID0gV2ZEZXNpZ25lclV0aWxzLmNyZWF0ZU5NKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhcmlhYmxlLmNvZGUgPSB2LmNvZGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhcmlhYmxlLnZhbHVlID0gdi52YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyaWFibGUudGFnID0gdi50YWc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNtc1RlbXBsYXRlLnNtc01lc3NhZ2VWYXJpYWJsZXMucHVzaCh2YXJpYWJsZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgbWVzc2FnZS5zbXNNZXNzYWdlVGVtcGxhdGUgPSBzbXNUZW1wbGF0ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCByZWNlaXZlckV4cHJlc3Npb25zID0gbmV3IEFycmF5PE1lc3NhZ2VSZWNlaXZlcj4oKTtcclxuICAgICAgICAgICAgaWYgKG0ucmVjZWl2ZXIpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHJlY2VpdmVycyA9IG0ucmVjZWl2ZXIuc3BsaXQoJywnKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHJlY2VpdmVyVGV4dHMgPSBtLnJlY2VpdmVyVGV4dC5zcGxpdCgnLCcpO1xyXG4gICAgICAgICAgICAgICAgbGV0IHVzZXJSZWNlaXZlciA9IG5ldyBNZXNzYWdlUmVjZWl2ZXIoKTtcclxuICAgICAgICAgICAgICAgIHVzZXJSZWNlaXZlci50eXBlID0gJ3VzZXJQYXJ0aWNpcGFudCc7XHJcbiAgICAgICAgICAgICAgICB1c2VyUmVjZWl2ZXIudXNlcklkcyA9ICcnO1xyXG4gICAgICAgICAgICAgICAgdXNlclJlY2VpdmVyLnVzZXJOYW1lcyA9ICcnO1xyXG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBpIGluIHJlY2VpdmVycykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChyZWNlaXZlcnNbaV0gPT09ICdwcm9jSW5zdENyZWF0b3InKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBwcm9jSW5zdENyZWF0b3IgPSBuZXcgTWVzc2FnZVJlY2VpdmVyKClcclxuICAgICAgICAgICAgICAgICAgICAgICAgcHJvY0luc3RDcmVhdG9yLnR5cGUgPSAncHJvY2Vzc1BhcnRpY2lwYW50JztcclxuICAgICAgICAgICAgICAgICAgICAgICAgcHJvY0luc3RDcmVhdG9yLnByb2Nlc3NQYXJ0aWNpcGFudCA9ICdwcm9jSW5zdENyZWF0b3InO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZWNlaXZlckV4cHJlc3Npb25zLnB1c2gocHJvY0luc3RDcmVhdG9yKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHJlY2VpdmVyc1tpXSA9PT0gJ3dvcmtJdGVtUGFydGljaXBhbnQnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCB3b3JrSXRlbVBhcnRpY2lwYW50ID0gbmV3IE1lc3NhZ2VSZWNlaXZlcigpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdvcmtJdGVtUGFydGljaXBhbnQudHlwZSA9ICdwcm9jZXNzUGFydGljaXBhbnQnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3b3JrSXRlbVBhcnRpY2lwYW50LnByb2Nlc3NQYXJ0aWNpcGFudCA9ICd3b3JrSXRlbVBhcnRpY2lwYW50JztcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVjZWl2ZXJFeHByZXNzaW9ucy5wdXNoKHdvcmtJdGVtUGFydGljaXBhbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJSZWNlaXZlci51c2VySWRzICs9IChyZWNlaXZlcnNbaV0gKyAnLCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB1c2VyUmVjZWl2ZXIudXNlck5hbWVzICs9IChyZWNlaXZlclRleHRzW2ldICsgJywnKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAodXNlclJlY2VpdmVyLnVzZXJJZHMpIHtcclxuICAgICAgICAgICAgICAgICAgICB1c2VyUmVjZWl2ZXIudXNlcklkcyA9IHVzZXJSZWNlaXZlci51c2VySWRzLnN1YnN0cmluZygwLCB1c2VyUmVjZWl2ZXIudXNlcklkcy5sZW5ndGggLSAxKTtcclxuICAgICAgICAgICAgICAgICAgICB1c2VyUmVjZWl2ZXIudXNlck5hbWVzID0gdXNlclJlY2VpdmVyLnVzZXJOYW1lcy5zdWJzdHJpbmcoMCwgdXNlclJlY2VpdmVyLnVzZXJOYW1lcy5sZW5ndGggLSAxKTtcclxuICAgICAgICAgICAgICAgICAgICByZWNlaXZlckV4cHJlc3Npb25zLnB1c2godXNlclJlY2VpdmVyKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAobS5yZWNlaXZlckV4cHJlc3Npb25zICYmIG0ucmVjZWl2ZXJFeHByZXNzaW9ucy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGUgb2YgbS5yZWNlaXZlckV4cHJlc3Npb25zKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGUgaW5zdGFuY2VvZiBBY3Rpdml0eUV4ZWN1dG9yUGFydGljaXBhbnRFeHByZXNzaW9uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBhY3Rpdml0eUV4ZWN1dG9yUGFydGljaXBhbnQgPSBuZXcgTWVzc2FnZVJlY2VpdmVyKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFjdGl2aXR5RXhlY3V0b3JQYXJ0aWNpcGFudC50eXBlID0gJ3Byb2Nlc3NQYXJ0aWNpcGFudCc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFjdGl2aXR5RXhlY3V0b3JQYXJ0aWNpcGFudC5wcm9jZXNzUGFydGljaXBhbnQgPSAnYWN0aXZpdHlFeGVjdXRvclBhcnRpY2lwYW50JztcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWN0aXZpdHlFeGVjdXRvclBhcnRpY2lwYW50LmFjdGl2aXR5RGVmSWQgPSBlLmFjdGl2aXR5RGVmSWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFjdGl2aXR5RXhlY3V0b3JQYXJ0aWNpcGFudC5hY3Rpdml0eURlZk5hbWUgPSBlLmFjdGl2aXR5RGVmTmFtZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlY2VpdmVyRXhwcmVzc2lvbnMucHVzaChhY3Rpdml0eUV4ZWN1dG9yUGFydGljaXBhbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZSBpbnN0YW5jZW9mIFVzZXJQYXJ0aWNpcGFudEV4cHJlc3Npb24pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHZhcmlhYmxlUmVjZWl2ZXIgPSBuZXcgTWVzc2FnZVJlY2VpdmVyKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhcmlhYmxlUmVjZWl2ZXIudHlwZSA9ICd2YXJpYWJsZVBhcnRpY2lwYW50JztcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyaWFibGVSZWNlaXZlci52YXJpYWJsZVBhcnRpY2lwYW50ID0gZS5Vc2VySWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhcmlhYmxlUmVjZWl2ZXIudmFyaWFibGVOYW1lID0gZS5uYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXJpYWJsZVJlY2VpdmVyLm9yZ1R5cGUgPSBlLk9yZ1R5cGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlY2VpdmVyRXhwcmVzc2lvbnMucHVzaCh2YXJpYWJsZVJlY2VpdmVyKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGUgaW5zdGFuY2VvZiBQb3NpdGlvblBhcnRpY2lwYW50RXhwcmVzc2lvbikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgcG9zaXRpb25SZWNlaXZlciA9IG5ldyBNZXNzYWdlUmVjZWl2ZXIoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb25SZWNlaXZlci50eXBlID0gJ3Bvc2l0aW9uUGFydGljaXBhbnQnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvblJlY2VpdmVyLnBvc2l0aW9uSWQgPSBlLlBvc2l0aW9uSWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uUmVjZWl2ZXIucG9zaXRpb25OYW1lID0gZS5Qb3NpdGlvbk5hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uUmVjZWl2ZXIucG9zaXRpb25UeXBlID0gZS5Qb3NpdGlvblR5cGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwb3NpdGlvblJlY2VpdmVyLnBvc2l0aW9uVHlwZSA9PT0gJzEnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvblJlY2VpdmVyLm9yZ0lkID0gZS5PcmdJZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uUmVjZWl2ZXIub3JnVHlwZSA9IGUuT3JnVHlwZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVjZWl2ZXJFeHByZXNzaW9ucy5wdXNoKHBvc2l0aW9uUmVjZWl2ZXIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAocmVjZWl2ZXJFeHByZXNzaW9ucy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlLnJlY2VpdmVycyA9IHJlY2VpdmVyRXhwcmVzc2lvbnM7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGNvbXBvbmVudHNcclxuICAgICAqIEByZXR1cm5zXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0Qml6Q29tcG9uZW50TGlzdChjb21wb25lbnRzOiBBcnJheTxDb21wb25lbnQ+KTogQXJyYXk8Qml6Q29tcG9uZW50PiB7XHJcbiAgICAgICAgY29uc3QgYml6Q29tcG9uZW50TGlzdCA9IG5ldyBBcnJheSgpO1xyXG4gICAgICAgIGlmIChjb21wb25lbnRzICYmIGNvbXBvbmVudHMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICBmb3IgKGNvbnN0IGNvbXBvbmVudCBvZiBjb21wb25lbnRzKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBiaXpDb21wb25lbnQgPSBuZXcgQml6Q29tcG9uZW50KCk7XHJcbiAgICAgICAgICAgICAgICBiaXpDb21wb25lbnQuaWQgPSBjb21wb25lbnQuSWQ7XHJcbiAgICAgICAgICAgICAgICBiaXpDb21wb25lbnQubmFtZSA9IGNvbXBvbmVudC5OYW1lO1xyXG4gICAgICAgICAgICAgICAgYml6Q29tcG9uZW50Lm1ldGFkYXRhSWQgPSBjb21wb25lbnQuTWV0YWRhdGFJZDtcclxuICAgICAgICAgICAgICAgIGJpekNvbXBvbmVudC5tZXRob2RDb2RlID0gY29tcG9uZW50Lk1ldGhvZENvZGU7XHJcbiAgICAgICAgICAgICAgICBiaXpDb21wb25lbnQuZXhlY3V0aW9uVGltZSA9IGNvbXBvbmVudC5UaW1lO1xyXG4gICAgICAgICAgICAgICAgYml6Q29tcG9uZW50LmlzRm9yQ29tcGVuc2F0aW9uID0gY29tcG9uZW50LmlzRm9yQ29tcGVuc2F0aW9uO1xyXG4gICAgICAgICAgICAgICAgYml6Q29tcG9uZW50LnNjb3BlVHlwZSA9IGNvbXBvbmVudC5TY29wZVR5cGUgfHwgbnVsbDtcclxuICAgICAgICAgICAgICAgIGJpekNvbXBvbmVudC5hY3R1YWxQYXJhbWV0ZXJzID0gbmV3IEFycmF5KCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoY29tcG9uZW50LkFjdHVhbFBhcmFtZXRlcnMgJiYgY29tcG9uZW50LkFjdHVhbFBhcmFtZXRlcnMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgcGFyYW0gb2YgY29tcG9uZW50LkFjdHVhbFBhcmFtZXRlcnMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYml6UGFyYW0gPSBuZXcgQml6UGFyYW1ldGVyKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJpelBhcmFtLmNvZGUgPSBwYXJhbS5OYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBiaXpQYXJhbS5uYW1lID0gcGFyYW0uTmFtZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYml6UGFyYW0udmFsdWUgPSBwYXJhbS5WYWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYml6Q29tcG9uZW50LmFjdHVhbFBhcmFtZXRlcnMucHVzaChiaXpQYXJhbSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYml6Q29tcG9uZW50TGlzdC5wdXNoKGJpekNvbXBvbmVudCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGJpekNvbXBvbmVudExpc3Q7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHJvbGVzXHJcbiAgICAgKiBAcGFyYW0gdHlwZVxyXG4gICAgICogQHJldHVybnNcclxuICAgICAqL1xyXG4gICAgcHVibGljIHN0YXRpYyBnZXRQZXJmb3JtZXJMaXN0KHJvbGVzOiAoSHVtYW5QZXJmb3JtZXJJbXBsIHwgUG90ZW50aWFsT3duZXJJbXBsKVtdKTogUGFydGljaXBhbnRbXSB7XHJcbiAgICAgICAgY29uc3QgcGVyZm9ybWVycyA9IG5ldyBBcnJheTxQYXJ0aWNpcGFudD4oKTtcclxuXHJcbiAgICAgICAgcm9sZXMuZm9yRWFjaCgocm9sZTogSHVtYW5QZXJmb3JtZXJJbXBsIHwgUG90ZW50aWFsT3duZXJJbXBsKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChyb2xlID09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAocm9sZS5wYXJ0aWNpcGFudEV4cHJlc3Npb24gaW5zdGFuY2VvZiBVc2VyUGFydGljaXBhbnRFeHByZXNzaW9uKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB1c2VyID0gcm9sZS5wYXJ0aWNpcGFudEV4cHJlc3Npb24gYXMgVXNlclBhcnRpY2lwYW50RXhwcmVzc2lvbjtcclxuICAgICAgICAgICAgICAgIGlmICh1c2VyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdXNlclBlcmZvcm1lciA9IG5ldyBVc2VyUGFydGljaXBhbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICB1c2VyUGVyZm9ybWVyLmlkID0gdXNlci5pZDtcclxuICAgICAgICAgICAgICAgICAgICB1c2VyUGVyZm9ybWVyLnBlcmZvcm1lcklkID0gdXNlci5Vc2VySWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgdXNlclBlcmZvcm1lci5wZXJmb3JtZXJOYW1lID0gdXNlci5uYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgIHVzZXJQZXJmb3JtZXIudHlwZSA9IHVzZXIuQ2xyVHlwZUlEO1xyXG4gICAgICAgICAgICAgICAgICAgIHVzZXJQZXJmb3JtZXIub3JnSWQgPSB1c2VyLk9yZ0lkO1xyXG4gICAgICAgICAgICAgICAgICAgIHVzZXJQZXJmb3JtZXIub3JnTmFtZSA9IHVzZXIuT3JnTmFtZTtcclxuICAgICAgICAgICAgICAgICAgICB1c2VyUGVyZm9ybWVyLm9yZ1R5cGUgPSB1c2VyLk9yZ1R5cGU7XHJcbiAgICAgICAgICAgICAgICAgICAgdXNlclBlcmZvcm1lci5jb25kaXRpb24gPSByb2xlLmNvbmRpdGlvbiA/IHJvbGUuY29uZGl0aW9uLlZhbHVlIDogJyc7XHJcbiAgICAgICAgICAgICAgICAgICAgdXNlclBlcmZvcm1lci50YWcgPSB1c2VyLlRhZztcclxuICAgICAgICAgICAgICAgICAgICB1c2VyUGVyZm9ybWVyLm9yZGVyID0gcm9sZS5vcmRlcjtcclxuICAgICAgICAgICAgICAgICAgICBwZXJmb3JtZXJzLnB1c2godXNlclBlcmZvcm1lcik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAocm9sZS5wYXJ0aWNpcGFudEV4cHJlc3Npb24gaW5zdGFuY2VvZiBWYXJpYWJsZVBhcnRpY2lwYW50RXhwcmVzc2lvbikge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdmFyaWFibGUgPSByb2xlLnBhcnRpY2lwYW50RXhwcmVzc2lvbiBhcyBWYXJpYWJsZVBhcnRpY2lwYW50RXhwcmVzc2lvbjtcclxuICAgICAgICAgICAgICAgIGlmICh2YXJpYWJsZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhcmlhYmxlUGVyZm9ybWVyID0gbmV3IFZhcmlhYmxlUGVyZm9ybWVyKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyaWFibGVQZXJmb3JtZXIuaWQgPSB2YXJpYWJsZS5pZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyaWFibGVQZXJmb3JtZXIubmFtZSA9IHZhcmlhYmxlLk5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhcmlhYmxlUGVyZm9ybWVyLnR5cGUgPSB2YXJpYWJsZS5DbHJUeXBlSUQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhcmlhYmxlUGVyZm9ybWVyLmNvbmRpdGlvbiA9IHJvbGUuY29uZGl0aW9uID8gcm9sZS5jb25kaXRpb24uVmFsdWUgOiAnJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyaWFibGVQZXJmb3JtZXIudGFnID0gdmFyaWFibGUuVGFnXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyaWFibGVQZXJmb3JtZXIucmVsYXRpb24gPSB2YXJpYWJsZS5SZWxhdGlvbjtcclxuICAgICAgICAgICAgICAgICAgICB2YXJpYWJsZVBlcmZvcm1lci52YXJUeXBlID0gdmFyaWFibGUuVmFyVHlwZTtcclxuICAgICAgICAgICAgICAgICAgICB2YXJpYWJsZVBlcmZvcm1lci52YXJWYWx1ZSA9IHZhcmlhYmxlLlZhclZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhcmlhYmxlUGVyZm9ybWVyLm9yZGVyID0gcm9sZS5vcmRlcjtcclxuICAgICAgICAgICAgICAgICAgICBwZXJmb3JtZXJzLnB1c2godmFyaWFibGVQZXJmb3JtZXIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHJvbGUucGFydGljaXBhbnRFeHByZXNzaW9uIGluc3RhbmNlb2YgUG9zaXRpb25QYXJ0aWNpcGFudEV4cHJlc3Npb24pIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHBvc2l0aW9uID0gcm9sZS5wYXJ0aWNpcGFudEV4cHJlc3Npb24gYXMgUG9zaXRpb25QYXJ0aWNpcGFudEV4cHJlc3Npb247XHJcbiAgICAgICAgICAgICAgICBpZiAocG9zaXRpb24pIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBwb3NpdGlvblBlcmZvcm1lciA9IG5ldyBQb3NpdGlvblBhcnRpY2lwYW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb25QZXJmb3JtZXIuaWQgPSBwb3NpdGlvbi5pZDtcclxuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvblBlcmZvcm1lci5wZXJmb3JtZXJJZCA9IHBvc2l0aW9uLlBvc2l0aW9uSWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb25QZXJmb3JtZXIucG9zaXRpb25UeXBlID0gcG9zaXRpb24uUG9zaXRpb25UeXBlO1xyXG4gICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uUGVyZm9ybWVyLnBlcmZvcm1lck5hbWUgPSBwb3NpdGlvbi5Qb3NpdGlvbk5hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb25QZXJmb3JtZXIudHlwZSA9IHBvc2l0aW9uLkNsclR5cGVJRDtcclxuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvblBlcmZvcm1lci5vcmdJZCA9IHBvc2l0aW9uLk9yZ0lkIHx8ICcnO1xyXG4gICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uUGVyZm9ybWVyLm9yZ05hbWUgPSBwb3NpdGlvbi5PcmdOYW1lIHx8ICcnO1xyXG4gICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uUGVyZm9ybWVyLm9yZ1R5cGUgPSBwb3NpdGlvbi5PcmdUeXBlIHx8ICcnO1xyXG4gICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uUGVyZm9ybWVyLmNvbmRpdGlvbiA9IHJvbGUuY29uZGl0aW9uID8gcm9sZS5jb25kaXRpb24uVmFsdWUgOiAnJztcclxuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvblBlcmZvcm1lci5vcmRlciA9IHJvbGUub3JkZXI7XHJcbiAgICAgICAgICAgICAgICAgICAgcGVyZm9ybWVycy5wdXNoKHBvc2l0aW9uUGVyZm9ybWVyKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIGlmIChyb2xlLnBhcnRpY2lwYW50RXhwcmVzc2lvbiBpbnN0YW5jZW9mIENvbXBvbmVudFBhcnRpY2lwYW50RXhwcmVzc2lvbikge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgY21wID0gcm9sZS5wYXJ0aWNpcGFudEV4cHJlc3Npb24gYXMgQ29tcG9uZW50UGFydGljaXBhbnRFeHByZXNzaW9uO1xyXG4gICAgICAgICAgICAgICAgaWYgKGNtcCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbXBvbmVudFBlcmZvcm1lciA9IG5ldyBDb21wb25lbnRQYXJ0aWNpcGFudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudFBlcmZvcm1lci5pZCA9IGNtcC5pZDtcclxuICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRQZXJmb3JtZXIubmFtZSA9IGNtcC5jb21wb25lbnROYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudFBlcmZvcm1lci5tZXRhZGF0YUlkID0gY21wLmNvbXBvbmVudElkO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudFBlcmZvcm1lci5tZXRob2RDb2RlID0gY21wLm1ldGhvZENvZGU7XHJcbiAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50UGVyZm9ybWVyLm1ldGhvZE5hbWUgPSBjbXAubWV0aG9kTmFtZTtcclxuICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRQZXJmb3JtZXIudHlwZSA9IGNtcC5DbHJUeXBlSUQ7XHJcbiAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50UGVyZm9ybWVyLmFjdHVhbFBhcmFtZXRlcnMgPSBuZXcgQXJyYXkoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNtcC5hY3R1YWxQYXJhbWV0ZXJzICYmIGNtcC5hY3R1YWxQYXJhbWV0ZXJzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHBhcmFtdGVyczogYW55ID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNtcC5hY3R1YWxQYXJhbWV0ZXJzLmZvckVhY2gocCA9PiBwYXJhbXRlcnMucHVzaCh7IGNvZGU6IHAuTmFtZSwgdmFsdWU6IHAuVmFsdWUsIHZhbHVlVGV4dDogcC5WYWx1ZVRleHQsIHRhZzogcC5UYWcgfSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRQZXJmb3JtZXIuYWN0dWFsUGFyYW1ldGVycyA9IHBhcmFtdGVycztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJvbGUuY29uZGl0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudFBlcmZvcm1lci5jb25kaXRpb24gPSByb2xlLmNvbmRpdGlvbi5WYWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50UGVyZm9ybWVyLm9yZGVyID0gcm9sZS5vcmRlcjtcclxuICAgICAgICAgICAgICAgICAgICBwZXJmb3JtZXJzLnB1c2goY29tcG9uZW50UGVyZm9ybWVyKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIGlmIChyb2xlLnBhcnRpY2lwYW50RXhwcmVzc2lvbiBpbnN0YW5jZW9mIFJlcG9ydGluZ0xpbmVQYXJ0aWNpcGFudEV4cHJlc3Npb24pIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHIgPSByb2xlLnBhcnRpY2lwYW50RXhwcmVzc2lvbiBhcyBSZXBvcnRpbmdMaW5lUGFydGljaXBhbnRFeHByZXNzaW9uO1xyXG4gICAgICAgICAgICAgICAgaWYgKHIpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCByZXBvcnRpbmdMaW5lID0gbmV3IFJlcG9ydGluZ0xpbmVQYXJ0aWNpcGFudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlcG9ydGluZ0xpbmUuaWQgPSByLmlkO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlcG9ydGluZ0xpbmUucmVwb3J0aW5nTGluZURlZklkID0gci5SZXBvcnRpbmdMaW5lRGVmSWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVwb3J0aW5nTGluZS5yZXBvcnRpbmdMaW5lRGVmTmFtZSA9IHIuUmVwb3J0aW5nTGluZURlZk5hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVwb3J0aW5nTGluZS5yZWZPcmdJZCA9IHIuUmVmT3JnSWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVwb3J0aW5nTGluZS5yZWZVc2VySWQgPSByLlJlZlVzZXJJZDtcclxuICAgICAgICAgICAgICAgICAgICByZXBvcnRpbmdMaW5lLnJlZkVtcGxveWVlSWQgPSByLlJlZkVtcGxveWVlSWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVwb3J0aW5nTGluZS5kaW1lbnNpb24gPSByLkRpbWVuc2lvbjtcclxuICAgICAgICAgICAgICAgICAgICByZXBvcnRpbmdMaW5lLnBlcmZvcm1lck5hbWUgPSByLlJlZlVzZXJJZDtcclxuICAgICAgICAgICAgICAgICAgICByZXBvcnRpbmdMaW5lLnRhZyA9IHIuVGFnO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlcG9ydGluZ0xpbmUudHlwZSA9IHIuQ2xyVHlwZUlEO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChyb2xlLmNvbmRpdGlvbikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXBvcnRpbmdMaW5lLmNvbmRpdGlvbiA9IHJvbGUuY29uZGl0aW9uLlZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByZXBvcnRpbmdMaW5lLm9yZGVyID0gcm9sZS5vcmRlcjtcclxuICAgICAgICAgICAgICAgICAgICBwZXJmb3JtZXJzLnB1c2gocmVwb3J0aW5nTGluZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAocm9sZS5wYXJ0aWNpcGFudEV4cHJlc3Npb24gaW5zdGFuY2VvZiBBY3Rpdml0eUV4ZWN1dG9yUGFydGljaXBhbnRFeHByZXNzaW9uKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCByID0gcm9sZS5wYXJ0aWNpcGFudEV4cHJlc3Npb24gYXMgQWN0aXZpdHlFeGVjdXRvclBhcnRpY2lwYW50RXhwcmVzc2lvbjtcclxuICAgICAgICAgICAgICAgIGlmIChyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYWN0aXZpdHlFeGVjdXRvciA9IG5ldyBBY3Rpdml0eUV4ZWN1dG9yUGFydGljaXBhbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICBhY3Rpdml0eUV4ZWN1dG9yLmlkID0gci5pZDtcclxuICAgICAgICAgICAgICAgICAgICBhY3Rpdml0eUV4ZWN1dG9yLnR5cGUgPSByLkNsclR5cGVJRDtcclxuICAgICAgICAgICAgICAgICAgICBhY3Rpdml0eUV4ZWN1dG9yLmFjdGl2aXR5RGVmSWQgPSByLmFjdGl2aXR5RGVmSWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgYWN0aXZpdHlFeGVjdXRvci5hY3Rpdml0eURlZk5hbWUgPSByLmFjdGl2aXR5RGVmTmFtZTtcclxuICAgICAgICAgICAgICAgICAgICBhY3Rpdml0eUV4ZWN1dG9yLnBlcmZvcm1lck5hbWUgPSAnPCcgKyByLmFjdGl2aXR5RGVmTmFtZSArIG14UmVzb3VyY2VzLmdldCgnZXZlbnRIYW5kbGVyJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJvbGUuY29uZGl0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFjdGl2aXR5RXhlY3V0b3IuY29uZGl0aW9uID0gcm9sZS5jb25kaXRpb24uVmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGFjdGl2aXR5RXhlY3V0b3Iub3JkZXIgPSByb2xlLm9yZGVyO1xyXG4gICAgICAgICAgICAgICAgICAgIHBlcmZvcm1lcnMucHVzaChhY3Rpdml0eUV4ZWN1dG9yKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIGlmIChyb2xlLnBhcnRpY2lwYW50RXhwcmVzc2lvbiBpbnN0YW5jZW9mIE1hdHJpeFBhcnRpY2lwYW50RXhwcmVzc2lvbikge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgciA9IHJvbGUucGFydGljaXBhbnRFeHByZXNzaW9uIGFzIE1hdHJpeFBhcnRpY2lwYW50RXhwcmVzc2lvbjtcclxuICAgICAgICAgICAgICAgIGlmIChyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbWF0cml4ID0gbmV3IE1hdHJpeFBhcnRpY2lwYW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgbWF0cml4LmlkID0gci5pZDtcclxuICAgICAgICAgICAgICAgICAgICBtYXRyaXgubWF0cml4RGVmSWQgPSByLm1hdHJpeERlZklkO1xyXG4gICAgICAgICAgICAgICAgICAgIG1hdHJpeC5tYXRyaXhEZWZOYW1lID0gci5tYXRyaXhEZWZOYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgIG1hdHJpeC5jb25kaXRpb25GaWVsZDEgPSByLmNvbmRpdGlvbkZpZWxkMTtcclxuICAgICAgICAgICAgICAgICAgICBtYXRyaXguY29uZGl0aW9uRmllbGRUZXh0MSA9IHIuY29uZGl0aW9uRmllbGRUZXh0MTtcclxuICAgICAgICAgICAgICAgICAgICBtYXRyaXguY29uZGl0aW9uRmllbGQyID0gci5jb25kaXRpb25GaWVsZDI7XHJcbiAgICAgICAgICAgICAgICAgICAgbWF0cml4LmNvbmRpdGlvbkZpZWxkVGV4dDIgPSByLmNvbmRpdGlvbkZpZWxkVGV4dDI7XHJcbiAgICAgICAgICAgICAgICAgICAgbWF0cml4LmNvbmRpdGlvbkZpZWxkMyA9IHIuY29uZGl0aW9uRmllbGQzO1xyXG4gICAgICAgICAgICAgICAgICAgIG1hdHJpeC5jb25kaXRpb25GaWVsZFRleHQzID0gci5jb25kaXRpb25GaWVsZFRleHQzO1xyXG4gICAgICAgICAgICAgICAgICAgIG1hdHJpeC5tdWx0aXZhbHVlZENvbmRpdGlvbiA9IHIubXVsdGl2YWx1ZWRDb25kaXRpb247XHJcbiAgICAgICAgICAgICAgICAgICAgbWF0cml4LmRhdGFGaWVsZEFsaWFzID0gci5kYXRhRmllbGRBbGlhcztcclxuICAgICAgICAgICAgICAgICAgICBtYXRyaXgudHlwZSA9IHIuQ2xyVHlwZUlEO1xyXG4gICAgICAgICAgICAgICAgICAgIG1hdHJpeC5vcmRlciA9IHJvbGUub3JkZXI7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJvbGUuY29uZGl0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hdHJpeC5jb25kaXRpb24gPSByb2xlLmNvbmRpdGlvbi5WYWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHBlcmZvcm1lcnMucHVzaChtYXRyaXgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHJvbGUucGFydGljaXBhbnRFeHByZXNzaW9uIGluc3RhbmNlb2YgT3JnYW5pemF0aW9uUGFydGljaXBhbnRFeHByZXNzaW9uKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCByID0gcm9sZS5wYXJ0aWNpcGFudEV4cHJlc3Npb24gYXMgT3JnYW5pemF0aW9uUGFydGljaXBhbnRFeHByZXNzaW9uO1xyXG4gICAgICAgICAgICAgICAgaWYgKHIpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBvcmdhbml6YXRpb24gPSBuZXcgT3JnYW5pemF0aW9uUGFydGljaXBhbnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgb3JnYW5pemF0aW9uLmlkID0gci5pZDtcclxuICAgICAgICAgICAgICAgICAgICBvcmdhbml6YXRpb24udHlwZSA9IHIuQ2xyVHlwZUlEO1xyXG4gICAgICAgICAgICAgICAgICAgIG9yZ2FuaXphdGlvbi5uYW1lID0gci5uYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgIG9yZ2FuaXphdGlvbi5hY3Rpb25TY29wZSA9IHIuYWN0aW9uU2NvcGUgYXMgYW55O1xyXG4gICAgICAgICAgICAgICAgICAgIG9yZ2FuaXphdGlvbi5vcmdhbml6YXRpb25MZXZlbCA9IHIub3JnYW5pemF0aW9uTGV2ZWw7XHJcbiAgICAgICAgICAgICAgICAgICAgb3JnYW5pemF0aW9uLm9yZ2FuaXphdGlvbklkID0gci5vcmdhbml6YXRpb25JZDtcclxuICAgICAgICAgICAgICAgICAgICBvcmdhbml6YXRpb24ub3JnYW5pemF0aW9uQ29kZSA9IHIub3JnYW5pemF0aW9uQ29kZTtcclxuICAgICAgICAgICAgICAgICAgICBvcmdhbml6YXRpb24ub3JnYW5pemF0aW9uTmFtZSA9IHIub3JnYW5pemF0aW9uTmFtZTtcclxuICAgICAgICAgICAgICAgICAgICBvcmdhbml6YXRpb24uaW5jbHVkZUNoaWxkcmVuID0gci5pbmNsdWRlQ2hpbGRyZW47XHJcbiAgICAgICAgICAgICAgICAgICAgb3JnYW5pemF0aW9uLnBhcmVudHNVbnRpbCA9IHIucGFyZW50c1VudGlsO1xyXG4gICAgICAgICAgICAgICAgICAgIG9yZ2FuaXphdGlvbi50YWcgPSByLnRhZztcclxuICAgICAgICAgICAgICAgICAgICBvcmdhbml6YXRpb24ub3JkZXIgPSByb2xlLm9yZGVyO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChyb2xlLmNvbmRpdGlvbikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvcmdhbml6YXRpb24uY29uZGl0aW9uID0gcm9sZS5jb25kaXRpb24uVmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBwZXJmb3JtZXJzLnB1c2gob3JnYW5pemF0aW9uKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiBwZXJmb3JtZXJzO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog56e75Lqk562J55qE6IyD5Zu077yM5LiO5LiK5Liq5pa55rOV5q+U6L+Z6YeM5Lyg5YWl55qE5piv5YW35L2T55qE5Y+C5LiO6ICF57G75Z6L77yI55So5oi35Y+C5LiO6ICF44CB5bKX5L2N5Y+C5LiO6ICF77yMYmFsYmFsYe+8iVxyXG4gICAgICogQHBhcmFtIHJvbGVzXHJcbiAgICAgKiBAcGFyYW0gdHlwZVxyXG4gICAgICogQHJldHVybnNcclxuICAgICAqL1xyXG4gICAgcHVibGljIHN0YXRpYyBnZXRQZXJmb3JtZXJMaXN0VGVzdChyb2xlczogUGFydGljaXBhbnRFeHByZXNzaW9uW10pOiBQYXJ0aWNpcGFudFtdIHtcclxuICAgICAgICBjb25zdCBwZXJmb3JtZXJzID0gbmV3IEFycmF5PFBhcnRpY2lwYW50PigpO1xyXG5cclxuICAgICAgICByb2xlcy5mb3JFYWNoKChyb2xlOiBQYXJ0aWNpcGFudEV4cHJlc3Npb24pID0+IHtcclxuICAgICAgICAgICAgaWYgKHJvbGUgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChyb2xlIGluc3RhbmNlb2YgVXNlclBhcnRpY2lwYW50RXhwcmVzc2lvbikge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdXNlciA9IHJvbGUgYXMgVXNlclBhcnRpY2lwYW50RXhwcmVzc2lvbjtcclxuICAgICAgICAgICAgICAgIGlmICh1c2VyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdXNlclBlcmZvcm1lciA9IG5ldyBVc2VyUGFydGljaXBhbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICB1c2VyUGVyZm9ybWVyLmlkID0gdXNlci5pZDtcclxuICAgICAgICAgICAgICAgICAgICB1c2VyUGVyZm9ybWVyLnBlcmZvcm1lcklkID0gdXNlci5Vc2VySWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgdXNlclBlcmZvcm1lci5wZXJmb3JtZXJOYW1lID0gdXNlci5uYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgIHVzZXJQZXJmb3JtZXIudHlwZSA9IHVzZXIuQ2xyVHlwZUlEO1xyXG4gICAgICAgICAgICAgICAgICAgIHVzZXJQZXJmb3JtZXIub3JnSWQgPSB1c2VyLk9yZ0lkO1xyXG4gICAgICAgICAgICAgICAgICAgIHVzZXJQZXJmb3JtZXIub3JnTmFtZSA9IHVzZXIuT3JnTmFtZTtcclxuICAgICAgICAgICAgICAgICAgICB1c2VyUGVyZm9ybWVyLm9yZ1R5cGUgPSB1c2VyLk9yZ1R5cGU7XHJcbiAgICAgICAgICAgICAgICAgICAgdXNlclBlcmZvcm1lci5jb25kaXRpb24gPSByb2xlLmNvbmRpdGlvbiA/IHJvbGUuY29uZGl0aW9uLlZhbHVlIDogJyc7XHJcbiAgICAgICAgICAgICAgICAgICAgdXNlclBlcmZvcm1lci50YWcgPSB1c2VyLlRhZztcclxuICAgICAgICAgICAgICAgICAgICB1c2VyUGVyZm9ybWVyLm9yZGVyID0gcm9sZS5vcmRlcjtcclxuICAgICAgICAgICAgICAgICAgICBwZXJmb3JtZXJzLnB1c2godXNlclBlcmZvcm1lcik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAocm9sZSBpbnN0YW5jZW9mIFZhcmlhYmxlUGFydGljaXBhbnRFeHByZXNzaW9uKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB2YXJpYWJsZSA9IHJvbGUgYXMgVmFyaWFibGVQYXJ0aWNpcGFudEV4cHJlc3Npb247XHJcbiAgICAgICAgICAgICAgICBpZiAodmFyaWFibGUpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCB2YXJpYWJsZVBlcmZvcm1lciA9IG5ldyBWYXJpYWJsZVBlcmZvcm1lcigpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhcmlhYmxlUGVyZm9ybWVyLmlkID0gdmFyaWFibGUuaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhcmlhYmxlUGVyZm9ybWVyLm5hbWUgPSB2YXJpYWJsZS5OYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXJpYWJsZVBlcmZvcm1lci50eXBlID0gdmFyaWFibGUuQ2xyVHlwZUlELFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXJpYWJsZVBlcmZvcm1lci5jb25kaXRpb24gPSByb2xlLmNvbmRpdGlvbiA/IHJvbGUuY29uZGl0aW9uLlZhbHVlIDogJycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhcmlhYmxlUGVyZm9ybWVyLnRhZyA9IHZhcmlhYmxlLlRhZ1xyXG4gICAgICAgICAgICAgICAgICAgIHZhcmlhYmxlUGVyZm9ybWVyLnJlbGF0aW9uID0gdmFyaWFibGUuUmVsYXRpb247XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyaWFibGVQZXJmb3JtZXIudmFyVHlwZSA9IHZhcmlhYmxlLlZhclR5cGU7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyaWFibGVQZXJmb3JtZXIudmFyVmFsdWUgPSB2YXJpYWJsZS5WYXJWYWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICB2YXJpYWJsZVBlcmZvcm1lci5vcmRlciA9IHJvbGUub3JkZXI7XHJcbiAgICAgICAgICAgICAgICAgICAgcGVyZm9ybWVycy5wdXNoKHZhcmlhYmxlUGVyZm9ybWVyKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIGlmIChyb2xlIGluc3RhbmNlb2YgUG9zaXRpb25QYXJ0aWNpcGFudEV4cHJlc3Npb24pIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHBvc2l0aW9uID0gcm9sZSBhcyBQb3NpdGlvblBhcnRpY2lwYW50RXhwcmVzc2lvbjtcclxuICAgICAgICAgICAgICAgIGlmIChwb3NpdGlvbikge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBvc2l0aW9uUGVyZm9ybWVyID0gbmV3IFBvc2l0aW9uUGFydGljaXBhbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvblBlcmZvcm1lci5pZCA9IHBvc2l0aW9uLmlkO1xyXG4gICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uUGVyZm9ybWVyLnBlcmZvcm1lcklkID0gcG9zaXRpb24uUG9zaXRpb25JZDtcclxuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvblBlcmZvcm1lci5wb3NpdGlvblR5cGUgPSBwb3NpdGlvbi5Qb3NpdGlvblR5cGU7XHJcbiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb25QZXJmb3JtZXIucGVyZm9ybWVyTmFtZSA9IHBvc2l0aW9uLlBvc2l0aW9uTmFtZTtcclxuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvblBlcmZvcm1lci50eXBlID0gcG9zaXRpb24uQ2xyVHlwZUlEO1xyXG4gICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uUGVyZm9ybWVyLm9yZ0lkID0gcG9zaXRpb24uT3JnSWQgfHwgJyc7XHJcbiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb25QZXJmb3JtZXIub3JnTmFtZSA9IHBvc2l0aW9uLk9yZ05hbWUgfHwgJyc7XHJcbiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb25QZXJmb3JtZXIub3JnVHlwZSA9IHBvc2l0aW9uLk9yZ1R5cGUgfHwgJyc7XHJcbiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb25QZXJmb3JtZXIuY29uZGl0aW9uID0gcm9sZS5jb25kaXRpb24gPyByb2xlLmNvbmRpdGlvbi5WYWx1ZSA6ICcnO1xyXG4gICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uUGVyZm9ybWVyLm9yZGVyID0gcm9sZS5vcmRlcjtcclxuICAgICAgICAgICAgICAgICAgICBwZXJmb3JtZXJzLnB1c2gocG9zaXRpb25QZXJmb3JtZXIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHJvbGUgaW5zdGFuY2VvZiBDb21wb25lbnRQYXJ0aWNpcGFudEV4cHJlc3Npb24pIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGNtcCA9IHJvbGUgYXMgQ29tcG9uZW50UGFydGljaXBhbnRFeHByZXNzaW9uO1xyXG4gICAgICAgICAgICAgICAgaWYgKGNtcCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbXBvbmVudFBlcmZvcm1lciA9IG5ldyBDb21wb25lbnRQYXJ0aWNpcGFudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudFBlcmZvcm1lci5pZCA9IGNtcC5pZDtcclxuICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRQZXJmb3JtZXIubmFtZSA9IGNtcC5jb21wb25lbnROYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudFBlcmZvcm1lci5tZXRhZGF0YUlkID0gY21wLmNvbXBvbmVudElkO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudFBlcmZvcm1lci5tZXRob2RDb2RlID0gY21wLm1ldGhvZENvZGU7XHJcbiAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50UGVyZm9ybWVyLm1ldGhvZE5hbWUgPSBjbXAubWV0aG9kTmFtZTtcclxuICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRQZXJmb3JtZXIudHlwZSA9IGNtcC5DbHJUeXBlSUQ7XHJcbiAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50UGVyZm9ybWVyLmFjdHVhbFBhcmFtZXRlcnMgPSBuZXcgQXJyYXkoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNtcC5hY3R1YWxQYXJhbWV0ZXJzICYmIGNtcC5hY3R1YWxQYXJhbWV0ZXJzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHBhcmFtdGVyczogYW55ID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNtcC5hY3R1YWxQYXJhbWV0ZXJzLmZvckVhY2gocCA9PiBwYXJhbXRlcnMucHVzaCh7IGNvZGU6IHAuTmFtZSwgdmFsdWU6IHAuVmFsdWUsIHZhbHVlVGV4dDogcC5WYWx1ZVRleHQsIHRhZzogcC5UYWcgfSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRQZXJmb3JtZXIuYWN0dWFsUGFyYW1ldGVycyA9IHBhcmFtdGVycztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJvbGUuY29uZGl0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudFBlcmZvcm1lci5jb25kaXRpb24gPSByb2xlLmNvbmRpdGlvbi5WYWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50UGVyZm9ybWVyLm9yZGVyID0gcm9sZS5vcmRlcjtcclxuICAgICAgICAgICAgICAgICAgICBwZXJmb3JtZXJzLnB1c2goY29tcG9uZW50UGVyZm9ybWVyKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIGlmIChyb2xlIGluc3RhbmNlb2YgUmVwb3J0aW5nTGluZVBhcnRpY2lwYW50RXhwcmVzc2lvbikge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgciA9IHJvbGUgYXMgUmVwb3J0aW5nTGluZVBhcnRpY2lwYW50RXhwcmVzc2lvbjtcclxuICAgICAgICAgICAgICAgIGlmIChyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVwb3J0aW5nTGluZSA9IG5ldyBSZXBvcnRpbmdMaW5lUGFydGljaXBhbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICByZXBvcnRpbmdMaW5lLmlkID0gci5pZDtcclxuICAgICAgICAgICAgICAgICAgICByZXBvcnRpbmdMaW5lLnJlcG9ydGluZ0xpbmVEZWZJZCA9IHIuUmVwb3J0aW5nTGluZURlZklkO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlcG9ydGluZ0xpbmUucmVwb3J0aW5nTGluZURlZk5hbWUgPSByLlJlcG9ydGluZ0xpbmVEZWZOYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlcG9ydGluZ0xpbmUucmVmT3JnSWQgPSByLlJlZk9yZ0lkO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlcG9ydGluZ0xpbmUucmVmVXNlcklkID0gci5SZWZVc2VySWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVwb3J0aW5nTGluZS5yZWZFbXBsb3llZUlkID0gci5SZWZFbXBsb3llZUlkO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlcG9ydGluZ0xpbmUuZGltZW5zaW9uID0gci5EaW1lbnNpb247XHJcbiAgICAgICAgICAgICAgICAgICAgcmVwb3J0aW5nTGluZS5wZXJmb3JtZXJOYW1lID0gci5SZWZVc2VySWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVwb3J0aW5nTGluZS50YWcgPSByLlRhZztcclxuICAgICAgICAgICAgICAgICAgICByZXBvcnRpbmdMaW5lLnR5cGUgPSByLkNsclR5cGVJRDtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocm9sZS5jb25kaXRpb24pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVwb3J0aW5nTGluZS5jb25kaXRpb24gPSByb2xlLmNvbmRpdGlvbi5WYWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcmVwb3J0aW5nTGluZS5vcmRlciA9IHJvbGUub3JkZXI7XHJcbiAgICAgICAgICAgICAgICAgICAgcGVyZm9ybWVycy5wdXNoKHJlcG9ydGluZ0xpbmUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHJvbGUgaW5zdGFuY2VvZiBBY3Rpdml0eUV4ZWN1dG9yUGFydGljaXBhbnRFeHByZXNzaW9uKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCByID0gcm9sZSBhcyBBY3Rpdml0eUV4ZWN1dG9yUGFydGljaXBhbnRFeHByZXNzaW9uO1xyXG4gICAgICAgICAgICAgICAgaWYgKHIpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBhY3Rpdml0eUV4ZWN1dG9yID0gbmV3IEFjdGl2aXR5RXhlY3V0b3JQYXJ0aWNpcGFudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGFjdGl2aXR5RXhlY3V0b3IuaWQgPSByLmlkO1xyXG4gICAgICAgICAgICAgICAgICAgIGFjdGl2aXR5RXhlY3V0b3IudHlwZSA9IHIuQ2xyVHlwZUlEO1xyXG4gICAgICAgICAgICAgICAgICAgIGFjdGl2aXR5RXhlY3V0b3IuYWN0aXZpdHlEZWZJZCA9IHIuYWN0aXZpdHlEZWZJZDtcclxuICAgICAgICAgICAgICAgICAgICBhY3Rpdml0eUV4ZWN1dG9yLmFjdGl2aXR5RGVmTmFtZSA9IHIuYWN0aXZpdHlEZWZOYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgIGFjdGl2aXR5RXhlY3V0b3IucGVyZm9ybWVyTmFtZSA9ICc8JyArIHIuYWN0aXZpdHlEZWZOYW1lICsgbXhSZXNvdXJjZXMuZ2V0KCdldmVudEhhbmRsZXInKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocm9sZS5jb25kaXRpb24pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWN0aXZpdHlFeGVjdXRvci5jb25kaXRpb24gPSByb2xlLmNvbmRpdGlvbi5WYWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgYWN0aXZpdHlFeGVjdXRvci5vcmRlciA9IHJvbGUub3JkZXI7XHJcbiAgICAgICAgICAgICAgICAgICAgcGVyZm9ybWVycy5wdXNoKGFjdGl2aXR5RXhlY3V0b3IpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHJvbGUgaW5zdGFuY2VvZiBNYXRyaXhQYXJ0aWNpcGFudEV4cHJlc3Npb24pIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHIgPSByb2xlIGFzIE1hdHJpeFBhcnRpY2lwYW50RXhwcmVzc2lvbjtcclxuICAgICAgICAgICAgICAgIGlmIChyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbWF0cml4ID0gbmV3IE1hdHJpeFBhcnRpY2lwYW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgbWF0cml4LmlkID0gci5pZDtcclxuICAgICAgICAgICAgICAgICAgICBtYXRyaXgubWF0cml4RGVmSWQgPSByLm1hdHJpeERlZklkO1xyXG4gICAgICAgICAgICAgICAgICAgIG1hdHJpeC5tYXRyaXhEZWZOYW1lID0gci5tYXRyaXhEZWZOYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgIG1hdHJpeC5jb25kaXRpb25GaWVsZDEgPSByLmNvbmRpdGlvbkZpZWxkMTtcclxuICAgICAgICAgICAgICAgICAgICBtYXRyaXguY29uZGl0aW9uRmllbGRUZXh0MSA9IHIuY29uZGl0aW9uRmllbGRUZXh0MTtcclxuICAgICAgICAgICAgICAgICAgICBtYXRyaXguY29uZGl0aW9uRmllbGQyID0gci5jb25kaXRpb25GaWVsZDI7XHJcbiAgICAgICAgICAgICAgICAgICAgbWF0cml4LmNvbmRpdGlvbkZpZWxkVGV4dDIgPSByLmNvbmRpdGlvbkZpZWxkVGV4dDI7XHJcbiAgICAgICAgICAgICAgICAgICAgbWF0cml4LmNvbmRpdGlvbkZpZWxkMyA9IHIuY29uZGl0aW9uRmllbGQzO1xyXG4gICAgICAgICAgICAgICAgICAgIG1hdHJpeC5jb25kaXRpb25GaWVsZFRleHQzID0gci5jb25kaXRpb25GaWVsZFRleHQzO1xyXG4gICAgICAgICAgICAgICAgICAgIG1hdHJpeC5tdWx0aXZhbHVlZENvbmRpdGlvbiA9IHIubXVsdGl2YWx1ZWRDb25kaXRpb247XHJcbiAgICAgICAgICAgICAgICAgICAgbWF0cml4LmRhdGFGaWVsZEFsaWFzID0gci5kYXRhRmllbGRBbGlhcztcclxuICAgICAgICAgICAgICAgICAgICBtYXRyaXgudHlwZSA9IHIuQ2xyVHlwZUlEO1xyXG4gICAgICAgICAgICAgICAgICAgIG1hdHJpeC5vcmRlciA9IHJvbGUub3JkZXI7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJvbGUuY29uZGl0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hdHJpeC5jb25kaXRpb24gPSByb2xlLmNvbmRpdGlvbi5WYWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHBlcmZvcm1lcnMucHVzaChtYXRyaXgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHJvbGUgaW5zdGFuY2VvZiBPcmdhbml6YXRpb25QYXJ0aWNpcGFudEV4cHJlc3Npb24pIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHIgPSByb2xlIGFzIE9yZ2FuaXphdGlvblBhcnRpY2lwYW50RXhwcmVzc2lvbjtcclxuICAgICAgICAgICAgICAgIGlmIChyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgb3JnYW5pemF0aW9uID0gbmV3IE9yZ2FuaXphdGlvblBhcnRpY2lwYW50O1xyXG4gICAgICAgICAgICAgICAgICAgIG9yZ2FuaXphdGlvbi5pZCA9IHIuaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgb3JnYW5pemF0aW9uLnR5cGUgPSByLkNsclR5cGVJRDtcclxuICAgICAgICAgICAgICAgICAgICBvcmdhbml6YXRpb24ubmFtZSA9IHIubmFtZTtcclxuICAgICAgICAgICAgICAgICAgICBvcmdhbml6YXRpb24uYWN0aW9uU2NvcGUgPSByLmFjdGlvblNjb3BlIGFzIGFueTtcclxuICAgICAgICAgICAgICAgICAgICBvcmdhbml6YXRpb24ub3JnYW5pemF0aW9uTGV2ZWwgPSByLm9yZ2FuaXphdGlvbkxldmVsO1xyXG4gICAgICAgICAgICAgICAgICAgIG9yZ2FuaXphdGlvbi5vcmdhbml6YXRpb25JZCA9IHIub3JnYW5pemF0aW9uSWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgb3JnYW5pemF0aW9uLm9yZ2FuaXphdGlvbkNvZGUgPSByLm9yZ2FuaXphdGlvbkNvZGU7XHJcbiAgICAgICAgICAgICAgICAgICAgb3JnYW5pemF0aW9uLm9yZ2FuaXphdGlvbk5hbWUgPSByLm9yZ2FuaXphdGlvbk5hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgb3JnYW5pemF0aW9uLmluY2x1ZGVDaGlsZHJlbiA9IHIuaW5jbHVkZUNoaWxkcmVuO1xyXG4gICAgICAgICAgICAgICAgICAgIG9yZ2FuaXphdGlvbi5wYXJlbnRzVW50aWwgPSByLnBhcmVudHNVbnRpbDtcclxuICAgICAgICAgICAgICAgICAgICBvcmdhbml6YXRpb24udGFnID0gci50YWc7XHJcbiAgICAgICAgICAgICAgICAgICAgb3JnYW5pemF0aW9uLm9yZGVyID0gcm9sZS5vcmRlcjtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocm9sZS5jb25kaXRpb24pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgb3JnYW5pemF0aW9uLmNvbmRpdGlvbiA9IHJvbGUuY29uZGl0aW9uLlZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcGVyZm9ybWVycy5wdXNoKG9yZ2FuaXphdGlvbik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gcGVyZm9ybWVycztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gYWN0XHJcbiAgICAgKiBAcmV0dXJuc1xyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc3RhdGljIGdldE5vdGlmeUFibGUobm90aWZ5QWJsZTogYm9vbGVhbiwgZHluYW1pY1BhcnRpY2lwYW50czogUGFydGljaXBhbnRFeHByZXNzaW9uW10pIHtcclxuICAgICAgICBjb25zdCBub3RpZnlTY29wZSA9IG5ldyBBY3Rpb25Pcmdhbml6YXRpb25TY29wZSgpO1xyXG4gICAgICAgIG5vdGlmeVNjb3BlLmFjdGlvbiA9IEFjdGlvblNjb3BlLk5vdGlmeTtcclxuICAgICAgICBub3RpZnlTY29wZS5lbmFibGUgPSBub3RpZnlBYmxlO1xyXG5cclxuICAgICAgICBpZiAobm90aWZ5QWJsZSkgeyAgICAgICBcclxuICAgICAgICAgICAgY29uc3Qgcm9sZXMgPSBkeW5hbWljUGFydGljaXBhbnRzLmZpbHRlcihyID0+IHIuYWN0aW9uU2NvcGUgPT09IEFjdGlvblNjb3BlLk5vdGlmeSk7XHJcbiAgICAgICAgICAgIGxldCByZXMgPSByb2xlcy5maW5kKHIgPT4gKHIgYXMgYW55KS5vcmdhbml6YXRpb25MZXZlbCAmJiAhKHIgYXMgYW55KS5vcmRlcik7XHJcbiAgICAgICAgICAgIGxldCBsaXN0IDogUGFydGljaXBhbnRbXSA9IFtdO1xyXG4gICAgICAgICAgICBpZihyZXMpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG9yZ2FuaXphdGlvbiA9IG5ldyBPcmdhbml6YXRpb25QYXJ0aWNpcGFudDtcclxuICAgICAgICAgICAgICAgIG9yZ2FuaXphdGlvbi5pZCA9IHJlcy5pZDtcclxuICAgICAgICAgICAgICAgIG9yZ2FuaXphdGlvbi50eXBlID0gcmVzLkNsclR5cGVJRDtcclxuICAgICAgICAgICAgICAgIG9yZ2FuaXphdGlvbi5uYW1lID0gcmVzLm5hbWU7XHJcbiAgICAgICAgICAgICAgICBvcmdhbml6YXRpb24uYWN0aW9uU2NvcGUgPSByZXMuYWN0aW9uU2NvcGUgYXMgYW55O1xyXG4gICAgICAgICAgICAgICAgb3JnYW5pemF0aW9uLm9yZ2FuaXphdGlvbkxldmVsID0gKHJlcyBhcyBhbnkpLm9yZ2FuaXphdGlvbkxldmVsO1xyXG4gICAgICAgICAgICAgICAgb3JnYW5pemF0aW9uLm9yZ2FuaXphdGlvbklkID0gKHJlcyBhcyBhbnkpLm9yZ2FuaXphdGlvbklkO1xyXG4gICAgICAgICAgICAgICAgb3JnYW5pemF0aW9uLm9yZ2FuaXphdGlvbkNvZGUgPSAocmVzIGFzIGFueSkub3JnYW5pemF0aW9uQ29kZTtcclxuICAgICAgICAgICAgICAgIG9yZ2FuaXphdGlvbi5vcmdhbml6YXRpb25OYW1lID0gKHJlcyBhcyBhbnkpLm9yZ2FuaXphdGlvbk5hbWU7XHJcbiAgICAgICAgICAgICAgICBvcmdhbml6YXRpb24uaW5jbHVkZUNoaWxkcmVuID0gKHJlcyBhcyBhbnkpLmluY2x1ZGVDaGlsZHJlbjtcclxuICAgICAgICAgICAgICAgIG9yZ2FuaXphdGlvbi5wYXJlbnRzVW50aWwgPSAocmVzIGFzIGFueSkucGFyZW50c1VudGlsO1xyXG4gICAgICAgICAgICAgICAgb3JnYW5pemF0aW9uLnRhZyA9IChyZXMgYXMgYW55KS50YWc7XHJcbiAgICAgICAgICAgICAgICBvcmdhbml6YXRpb24ub3JkZXIgPSAxO1xyXG4gICAgICAgICAgICAgICAgbGlzdC5wdXNoKG9yZ2FuaXphdGlvbik7XHJcbiAgICAgICAgICAgIH1lbHNlIHtcclxuICAgICAgICAgICAgICAgIGxpc3QgPSBQcm9wZXJ0eUhlbHBlci5nZXRQZXJmb3JtZXJMaXN0VGVzdChyb2xlcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbm90aWZ5U2NvcGUuc2NvcGUgPSBuZXcgT3JnYW5pemF0aW9uUG90ZW50aWFsT3duZXIoKTtcclxuICAgICAgICAgICAgaWYobGlzdCAmJiBsaXN0Lmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgIG5vdGlmeVNjb3BlLnNjb3BlLnBhcnRpY2lwYW50SW5mbyA9IG5ldyBQYXJ0aWNpcGFudEluZm8oKTtcclxuICAgICAgICAgICAgICAgIG5vdGlmeVNjb3BlLnNjb3BlLnBhcnRpY2lwYW50SW5mby5wb3RlbnRpYWxPd25lckxpc3QgPSBsaXN0O1xyXG4gICAgICAgICAgICAgICAgbm90aWZ5U2NvcGUuc2NvcGUucGFydGljaXBhbnRJbmZvLmlzQWxsU2NvcGUgPSB0cnVlO1xyXG4gICAgICAgICAgICB9ZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBub3RpZnlTY29wZS5zY29wZS5wYXJ0aWNpcGFudEluZm8gPSBuZXcgUGFydGljaXBhbnRJbmZvKCk7XHJcbiAgICAgICAgICAgICAgICBub3RpZnlTY29wZS5zY29wZS5wYXJ0aWNpcGFudEluZm8uaXNBbGxTY29wZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBub3RpZnlTY29wZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIHVwZGF0ZUZvcm1hbFBhcmFtZXRlcnMocHJvY2VzczogUHJvY2VzcywgcGFyYW1ldGVyczogYW55W10pIHtcclxuICAgICAgICBpZiAoIXBhcmFtZXRlcnMpIHtcclxuICAgICAgICAgICAgcGFyYW1ldGVycyA9IFtdO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgb2JqZWN0cyA9IHByb2Nlc3MuR2V0RGF0YU9iamVjdHMoKTtcclxuICAgICAgICBpZiAocGFyYW1ldGVycyAhPT0gbnVsbCAmJiBwYXJhbWV0ZXJzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgZm9yIChjb25zdCBwIG9mIHBhcmFtZXRlcnMpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGRhdGFUeXBlID0gbmV3IERhdGFUeXBlKHByb2Nlc3MuTW9kZWwpO1xyXG4gICAgICAgICAgICAgICAgLy8g5YWI56e76ZmkY29kZeebuOWQjOeahGRhdGFPYmplY3RcclxuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgbyBvZiBvYmplY3RzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG8gaW5zdGFuY2VvZiBEYXRhT2JqZWN0ICYmIG8uTmFtZSA9PT0gcC5jb2RlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb2Nlc3MuUmVtb3ZlRGF0YU9iamVjdChvLklkKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBkYXRhVHlwZS5DYXRlZ29yeSA9IERhdGFUeXBlcy5CYXNpY1R5cGU7XHJcbiAgICAgICAgICAgICAgICBkYXRhVHlwZS5CYXNpY1R5cGUgPSBwLmRhdGFUeXBlO1xyXG4gICAgICAgICAgICAgICAgZGF0YVR5cGUuRGVzY3JpcHRpb24gPSBwLmRlc2NyaXB0aW9uO1xyXG4gICAgICAgICAgICAgICAgLy8gZGF0YVR5cGUuSW5pdGlhbFZhbHVlID0gcC5pbml0aWFsVmFsdWU7XHJcbiAgICAgICAgICAgICAgICBpZiAocC5wYXJhbWV0ZXJNb2RlID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZGF0YU9iamVjdCA9IG5ldyBWYWx1ZWREYXRhT2JqZWN0KHByb2Nlc3MuTW9kZWwpO1xyXG4gICAgICAgICAgICAgICAgICAgIGRhdGFPYmplY3QuTmFtZSA9IHAuY29kZTtcclxuICAgICAgICAgICAgICAgICAgICBkYXRhT2JqZWN0LkRvY3VtZW50YXRpb24gPSBwLm5hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YU9iamVjdC5EYXRhVHlwZSA9IGRhdGFUeXBlO1xyXG4gICAgICAgICAgICAgICAgICAgIGRhdGFPYmplY3QuSXNBbGxvd051bGwgPSBwLmFsbG93TnVsbDtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocC5pbml0aWFsVmFsdWUgfHwgcC5pbml0aWFsVmFsdWVUeXBlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhcmlhYmxlU2V0dGluZyA9IG5ldyBWYXJpYWJsZVNldHRpbmcocHJvY2Vzcy5Nb2RlbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhcmlhYmxlU2V0dGluZy52YXJpYWJsZUNvZGUgPSBwLmNvZGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhcmlhYmxlU2V0dGluZy52YXJpYWJsZU5hbWUgPSBwLm5hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhcmlhYmxlU2V0dGluZy50YWcgPSBwLmluaXRpYWxWYWx1ZVR5cGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhcmlhYmxlU2V0dGluZy52YWx1ZSA9IHAuaW5pdGlhbFZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXJpYWJsZVNldHRpbmcudmFsdWVUZXh0ID0gcC5pbml0aWFsVmFsdWU7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhT2JqZWN0LnZhcmlhYmxlU2V0dGluZyA9IHZhcmlhYmxlU2V0dGluZztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHByb2Nlc3MuQWRkRGF0YU9iamVjdChkYXRhT2JqZWN0KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4iXX0=