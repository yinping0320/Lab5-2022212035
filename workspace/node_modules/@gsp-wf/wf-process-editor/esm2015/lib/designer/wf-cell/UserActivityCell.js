/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { NodeCell, ElementPropertyConfig } from "@edp-pmf/grapheditor";
import { mxResources } from "@edp-pmf/mxgraph-ts";
import { BpmnModelHelper, Expression, FlowNodeState, MultiInstanceLoopCharacteristics } from "@edp-pmf/bpmn-model";
import { OtherAssignNodes, UserActivity, OperationActivity, StartActivity, UrgeHandleRule, ApprovalPivot, ApprovalPivotConfig, ImageSettings, CheckCondition, VariableSetting, CustomizeAction, TimeLimitControl, TitleExpression, JumpScope, BackWardRule, CounterSignRule, ParticipantSetting, AssignPerformerConfig, Component, ConclusionItem, ExecuteWorkItemMode, WorkFlowAction, DisplayTerminal, AssignmentStrategy, TimeLimitControlInfo, SendMessageExpireOperation, SendMessageExpireOperationInfo, AutoHandleExpireOperation, AutoHandleExpireOperationInfo, ExtendProperty, MessageNotice, ActionScope, Condition, ExecuteForm, PotentialOwnerImpl, HumanPerformerImpl, OrganizationParticipantExpression, VariableParticipantExpression, ComponentParticipantExpression, ReportingLineParticipantExpression, MatrixParticipantExpression, ParticipantExpression, ActivityExecutorParticipantExpression, UserParticipantExpression, PositionParticipantExpression, ActualParameter, SmsMessageTemplate, SmsMessageVariable, OtherAssignActivityNodeInfo, OrganizationLevel, SemanticExpression } from "@gsp-wf/wf-process-model";
import { PropertyHelper } from "./PropertyHelper";
import { AssignConfig } from "../entity/AssignConfig";
import { AssignStrategy } from "../entity/AssignStrategy";
import { OrganizationParticipant } from "../entity/OrganizationParticipant";
import { WfConstants } from "../WfConstants";
import { UserActivityPropertyKeys } from "./property-keys/UserActivityPropertyKeys";
import { WfDesignerUtils } from "../WfDesignerUtils";
import { ActionOrganizationScopeDesign, OrganizationPotentialOwner } from "../../views/organization-potential-owner/actionOrganizationScope";
// import { ParticipantInfo } from "../../views/participant/participant.info";
import { ParticipantInfo } from "../entity";
/**
 * 审批活动节点
 */
export class UserActivityCell extends NodeCell {
    /**
     * @param {?=} value
     * @param {?=} geometry
     * @param {?=} style
     */
    constructor(value, geometry, style) {
        super(value, geometry, style);
        this.clrTypeId = UserActivityCell.CLR_TYPE_ID;
        this.name = "审批";
        this.nameLanguage = {
            "zh-CHS": "审批",
            "zh-CHT": "審批",
            "en": "Approve",
        };
        this.imgUrls = {
            [FlowNodeState.Default]: WfConstants.IMAGE_PATH + "/approval.png",
            [FlowNodeState.Selected]: WfConstants.IMAGE_PATH + "/approval_select.svg",
        };
    }
    /**
     * @param {?=} flowElt
     * @return {?}
     */
    createFlowElement(flowElt) {
        /** @type {?} */
        const flowNode = (/** @type {?} */ (super.createFlowElement(flowElt)));
        /** @type {?} */
        const editorUi = this.editorUi;
        /** @type {?} */
        const bpmnModel = editorUi.graph.bpmnModel;
        flowNode.Id = "UserActivity" + BpmnModelHelper.GenerateElementId();
        // 创建而非复制时执行
        if (flowElt == null) {
            flowNode.transferAble = editorUi.generalConfig.enableTransfer;
            flowNode.AddSignBehindAble = editorUi.generalConfig.enableAddSignBehind;
            flowNode.AddSignFrontAble = editorUi.generalConfig.enableAddSignFront;
            flowNode.NotifyAble = editorUi.generalConfig.enableNotify;
            if (this.bizActivity) {
                /** @type {?} */
                const bizActivity = this.bizActivity;
                flowNode.BizActivityID = bizActivity.id;
                flowNode.BizActivityName = bizActivity.name;
                flowNode.Tools = [];
                for (let c of bizActivity.bizComponents) {
                    /** @type {?} */
                    let tool = new Component(flowNode.Model);
                    tool.Id = c.id;
                    tool.Name = c.name;
                    tool.Time = c.executionTime;
                    // TODO 写死了构件类型
                    tool.ComponentType = 'CommonComponent';
                    tool.MetadataId = c.metadataId;
                    tool.MethodCode = c.methodCode;
                    tool.ActualParameters = [];
                    if (c.actualParameters && ((/** @type {?} */ (c.actualParameters))).length > 0) {
                        for (let a of ((/** @type {?} */ (c.actualParameters)))) {
                            /** @type {?} */
                            let parameter = new ActualParameter(bpmnModel, a.code, a.value);
                            tool.ActualParameters.push(parameter);
                        }
                    }
                    flowNode.Tools.push(tool);
                }
                flowNode.setBizConclusions(bpmnModel, bizActivity.bizActions);
            }
            else {
                flowNode.BizActivityID = "";
                flowNode.initConclusions(bpmnModel);
            }
        }
        return flowNode;
    }
    /**
     * @return {?}
     */
    createDiagramElement() {
        if (this.bizActivity != null) {
            this.imgUrls = {
                [FlowNodeState.Default]: WfConstants.IMAGE_PATH + "/bizActivity.png",
                [FlowNodeState.Selected]: WfConstants.IMAGE_PATH + "/bizActivity_select.svg",
            };
        }
        /** @type {?} */
        const shape = super.createDiagramElement();
        return shape;
    }
    /**
     * @return {?}
     */
    getFarrisPropConfig() {
        return this.getFarrisPropConfigByIsOperation();
    }
    /**
     * @param {?=} isOperation
     * @return {?}
     */
    getFarrisPropConfigByIsOperation(isOperation = false) {
        /** @type {?} */
        const editorUi = this.editorUi;
        /** @type {?} */
        let extendList = [];
        if (editorUi.procExtProps && editorUi.procExtProps.length > 0) {
            extendList = JSON.parse(JSON.stringify(editorUi.procExtProps)).sort((/**
             * @param {?} a
             * @param {?} b
             * @return {?}
             */
            (a, b) => {
                return a.sortOrder - b.sortOrder;
            }));
        }
        extendList = extendList.sort((/**
         * @param {?} a
         * @param {?} b
         * @return {?}
         */
        (a, b) => {
            return a.sortOrder - b.sortOrder;
        }));
        /** @type {?} */
        let userAct = this.flowElement;
        /** @type {?} */
        let basicProperty = new ElementPropertyConfig();
        /** @type {?} */
        let propertyData = {};
        basicProperty.categoryId = 'basicProperty';
        basicProperty.categoryName = mxResources.get('basicInformation');
        basicProperty.tabId = 'basic';
        basicProperty.tabName = mxResources.get('basicAttributes');
        basicProperty.properties = [
            { propertyID: UserActivityPropertyKeys.Name, propertyName: mxResources.get('name'), propertyType: 'string', visible: !this.editorUi.multiLangEnabled },
            { propertyID: UserActivityPropertyKeys.NameLanguage, propertyName: mxResources.get('nameLanguage'), propertyType: 'multiLanguage', visible: this.editorUi.multiLangEnabled },
            { propertyID: UserActivityPropertyKeys.Id, propertyName: mxResources.get('id'), propertyType: 'string', readonly: true },
            { propertyID: UserActivityPropertyKeys.wf_TitleExpression, propertyName: mxResources.get('wfTitleExpression'), propertyType: 'modal' },
        ];
        /** @type {?} */
        let performerProperty = new ElementPropertyConfig();
        performerProperty.categoryId = 'performerProperty';
        performerProperty.categoryName = mxResources.get('participant');
        performerProperty.tabId = 'basic';
        performerProperty.tabName = mxResources.get('basicAttributes');
        performerProperty.properties = [
            { propertyID: UserActivityPropertyKeys.ParticipantSchemes, propertyName: mxResources.get('participantSchemes'), propertyType: 'modal' },
            { propertyID: UserActivityPropertyKeys.ParticipantOptions, propertyName: mxResources.get('participantOptions'), propertyType: 'modal' },
        ];
        // if (userAct.AssignmentStrategy !== AssignmentStrategy.ASSIGN) {
        //     performerProperty.properties.push(
        //         { propertyID: UserActivityPropertyKeys.AssignStrategy, propertyName: '分配策略', propertyType: 'modal' }
        //     );
        // } else {
        //     performerProperty.properties = performerProperty.properties.concat(
        //         [{ propertyID: UserActivityPropertyKeys.AssignStrategy, propertyName: '分配策略', propertyType: 'modal' },
        //         { propertyID: UserActivityPropertyKeys.AssignPerformer, propertyName: '备选办理人', propertyType: 'modal' }]);
        // }
        if (!isOperation) {
            if (userAct.ExecuteWorkItemMode === ExecuteWorkItemMode.Preempt) {
                performerProperty.properties.push({ propertyID: UserActivityPropertyKeys.CompleteStrategy, propertyName: mxResources.get('completeStrategy'), propertyType: 'select' });
                propertyData[UserActivityPropertyKeys.CompleteStrategy] = userAct.ExecuteWorkItemMode;
            }
            else {
                performerProperty.properties = performerProperty.properties.concat([
                    { propertyID: UserActivityPropertyKeys.CompleteStrategy, propertyName: mxResources.get('completeStrategy'), propertyType: 'select' },
                    { propertyID: UserActivityPropertyKeys.SignRule, propertyName: mxResources.get('signRule'), propertyType: 'modal' },
                ]);
                propertyData[UserActivityPropertyKeys.CompleteStrategy] = userAct.ExecuteWorkItemMode;
                propertyData[UserActivityPropertyKeys.SignRule] = userAct.CounterSignRules;
            }
        }
        /** @type {?} */
        let approvalProperty = new ElementPropertyConfig();
        approvalProperty.categoryId = 'approvalProperty';
        approvalProperty.categoryName = mxResources.get('operationsManage');
        approvalProperty.tabId = 'approvalProperty';
        approvalProperty.tabName = mxResources.get('operationsConfig');
        approvalProperty.properties = [
            { propertyID: UserActivityPropertyKeys.ApprovalItems, propertyName: mxResources.get('approvalItems'), propertyType: 'modal' },
            { propertyID: UserActivityPropertyKeys.wf_CustomizeAction, propertyName: mxResources.get('wfCustomizeAction'), propertyType: 'modal' },
        ];
        // 审批活动节点含“驳回”审批动作时，属性框支持驳回规则属性
        if (userAct.Conclusions && this.isBackConclusionExist(userAct.Conclusions)) {
            approvalProperty.properties.push({ propertyID: UserActivityPropertyKeys.BackWardRule, propertyName: mxResources.get('backWardRule'), propertyType: 'modal' });
            propertyData[UserActivityPropertyKeys.BackWardRule] = userAct.BackWardRule;
        }
        approvalProperty.properties = approvalProperty.properties.concat([
            { propertyID: UserActivityPropertyKeys.Retrievable, propertyName: mxResources.get('retrievable'), propertyType: 'select' },
        ]);
        if (!isOperation) {
            approvalProperty.properties = approvalProperty.properties.concat([
                { propertyID: UserActivityPropertyKeys.AddSignFrontAble, propertyName: mxResources.get('addSignFrontAble'), propertyType: 'modal' },
                { propertyID: UserActivityPropertyKeys.AddSignBehindAble, propertyName: mxResources.get('addSignBehindAble'), propertyType: 'modal' },
            ]);
        }
        if (editorUi.generalConfig.enableTransfer) {
            approvalProperty.properties = approvalProperty.properties.concat([
                { propertyID: UserActivityPropertyKeys.transferScope, propertyName: mxResources.get('transferScope'), propertyType: 'modal' },
            ]);
        }
        approvalProperty.properties = approvalProperty.properties.concat([
            { propertyID: UserActivityPropertyKeys.NotifyAble, propertyName: mxResources.get('notifyAble'), propertyType: 'modal' },
            { propertyID: UserActivityPropertyKeys.urgeHandleRule, propertyName: mxResources.get('urgeHandleRule'), propertyType: 'modal' }
        ]);
        if (userAct.SelectTargetAble) {
            approvalProperty.properties = approvalProperty.properties.concat([
                { propertyID: UserActivityPropertyKeys.SelectTargetAble, propertyName: mxResources.get('selectTargetAble'), propertyType: 'select' },
                { propertyID: UserActivityPropertyKeys.JumpScope, propertyName: mxResources.get('jumpScope'), propertyType: 'modal' },
            ]);
            propertyData[UserActivityPropertyKeys.SelectTargetAble] = userAct.SelectTargetAble;
            propertyData[UserActivityPropertyKeys.JumpScope] = userAct.JumpScope;
        }
        else {
            approvalProperty.properties = approvalProperty.properties.concat([
                { propertyID: UserActivityPropertyKeys.SelectTargetAble, propertyName: mxResources.get('selectTargetAble'), propertyType: 'select' },
            ]);
            propertyData[UserActivityPropertyKeys.SelectTargetAble] = userAct.SelectTargetAble;
        }
        if (userAct.otherAssignNodes) {
            approvalProperty.properties = approvalProperty.properties.concat([
                { propertyID: UserActivityPropertyKeys.otherAssignNodes, propertyName: mxResources.get('otherAssignNodes'), propertyType: 'select' },
                // { propertyID: UserActivityPropertyKeys.otherAssignActivities, propertyName: mxResources.get('otherAssignActivities'), propertyType: 'modal' },
                { propertyID: UserActivityPropertyKeys.otherAssignActivityNodeInfos, propertyName: mxResources.get('otherAssignActivityNodeInfos'), propertyType: 'modal' },
            ]);
            propertyData[UserActivityPropertyKeys.otherAssignNodes] = true;
            // propertyData[UserActivityPropertyKeys.otherAssignActivities] = userAct.otherAssignNodes.otherAssignActivities;
            propertyData[UserActivityPropertyKeys.otherAssignActivityNodeInfos] = userAct.otherAssignNodes.otherAssignActivityNodeInfos || userAct.otherAssignNodes.otherAssignActivityNodeInfos;
            if (userAct.otherAssignNodes.otherAssignActivities) {
                userAct.otherAssignNodes.otherAssignActivities = null;
            }
        }
        else {
            approvalProperty.properties = approvalProperty.properties.concat([
                { propertyID: UserActivityPropertyKeys.otherAssignNodes, propertyName: mxResources.get('otherAssignNodes'), propertyType: 'select' }
            ]);
            propertyData[UserActivityPropertyKeys.otherAssignNodes] = false;
        }
        /** @type {?} */
        let eventListeners = new ElementPropertyConfig();
        eventListeners.categoryId = 'eventListeners'; // 活动选项（表单定义+活动构件）
        eventListeners.categoryName = mxResources.get('eventListeners');
        eventListeners.tabId = 'advanced';
        eventListeners.tabName = mxResources.get('advancedAttributes');
        eventListeners.properties = [
            { propertyID: UserActivityPropertyKeys.Tools, propertyName: mxResources.get('tools'), propertyType: 'modal' },
            { propertyID: UserActivityPropertyKeys.checkConditions, propertyName: mxResources.get('checkConditions'), propertyType: 'modal' },
            { propertyID: UserActivityPropertyKeys.variableSettings, propertyName: mxResources.get('variableSettings'), propertyType: 'modal' }
        ];
        /** @type {?} */
        let ApprovalSettings = new ElementPropertyConfig();
        ApprovalSettings.categoryId = 'ApprovalSettings'; // 活动选项（表单定义+活动构件）
        ApprovalSettings.categoryName = mxResources.get('approvalSettings');
        ApprovalSettings.tabId = 'advanced';
        ApprovalSettings.tabName = mxResources.get('advancedAttributes');
        ApprovalSettings.properties = [
            { propertyID: UserActivityPropertyKeys.anonymousSet, propertyName: mxResources.get('anonymousSet'), propertyType: 'modal' },
            { propertyID: UserActivityPropertyKeys.approvalPivotConfig, propertyName: mxResources.get('approvalPivotConfig'), propertyType: 'modal' },
            { propertyID: UserActivityPropertyKeys.imageSettings, propertyName: mxResources.get('imageSettings'), propertyType: 'modal' },
            { propertyID: UserActivityPropertyKeys.MultiInstanceLoopCharacteristics, propertyName: mxResources.get('multiInstanceLoopCharacteristics'), propertyType: 'modal' }
        ];
        propertyData[UserActivityPropertyKeys.MultiInstanceLoopCharacteristics] = userAct.LoopCharacteristics;
        /** @type {?} */
        let taskTimeliness = new ElementPropertyConfig();
        taskTimeliness.categoryId = 'taskTimeliness'; // 活动选项（表单定义+活动构件）
        taskTimeliness.categoryName = mxResources.get('taskTimeliness');
        taskTimeliness.tabId = 'advanced';
        taskTimeliness.tabName = mxResources.get('advancedAttributes');
        taskTimeliness.properties = [
            { propertyID: UserActivityPropertyKeys.timeLimitControl, propertyName: mxResources.get('timeLimitControl'), propertyType: 'modal' },
            { propertyID: UserActivityPropertyKeys.messageNotice, propertyName: mxResources.get('messageNotice'), propertyType: 'modal' },
        ];
        /** @type {?} */
        let formDef = new ElementPropertyConfig();
        formDef.categoryId = 'formDef';
        formDef.categoryName = mxResources.get('formDef');
        formDef.tabId = 'basic';
        formDef.tabName = mxResources.get('basicAttributes');
        formDef.properties = [
            { propertyID: UserActivityPropertyKeys.DisplayTerminal, propertyName: mxResources.get('displayTerminal'), propertyType: 'select' },
            { propertyID: UserActivityPropertyKeys.wf_ExecuteForms_PC, propertyName: mxResources.get('pcForm'), propertyType: 'modal' },
            { propertyID: UserActivityPropertyKeys.wf_ExecuteForms_Mobile, propertyName: mxResources.get('webForm'), propertyType: 'modal' },
        ];
        // 扩展属性分group处理，每个group包含父级属性和属于它的子扩展属性
        /** @type {?} */
        const groupList = new Array();
        for (const extend of extendList) {
            if (!extend.parentId) {
                /** @type {?} */
                const group = { parent: extend, childs: new Array() };
                for (const e of extendList) {
                    if (e.parentId === extend.id) {
                        group.childs.push(e);
                    }
                }
                groupList.push(group);
            }
        }
        // 没有扩展属性值的时候不显示扩展属性一栏
        if (groupList && groupList.length > 0) {
            /** @type {?} */
            let ExtendPropertyConfig = new ElementPropertyConfig();
            ExtendPropertyConfig.categoryId = 'extendPropertyConfig';
            ExtendPropertyConfig.categoryName = mxResources.get('extendPropertyConfig');
            ExtendPropertyConfig.tabId = 'advanced';
            ExtendPropertyConfig.tabName = mxResources.get('advancedAttributes');
            ExtendPropertyConfig.properties = new Array();
            for (const g of groupList) {
                ExtendPropertyConfig.properties.push({ propertyID: g.parent.id, propertyName: g.parent.propertyTitle, propertyType: 'modal' });
            }
            this.setPropertyData(userAct, propertyData, groupList);
            return {
                propertyConfig: [basicProperty, performerProperty, formDef, approvalProperty, eventListeners, taskTimeliness, ApprovalSettings, ExtendPropertyConfig],
                propertyData: propertyData
            };
        }
        else {
            this.setPropertyData(userAct, propertyData, groupList);
            return {
                propertyConfig: [basicProperty, performerProperty, formDef, approvalProperty, eventListeners, taskTimeliness, ApprovalSettings],
                propertyData: propertyData
            };
        }
    }
    /**
     * 判断是否存在反向流程动作
     * @param {?} conclusions
     * @return {?}
     */
    isBackConclusionExist(conclusions) {
        for (let conclusion of conclusions) {
            if (conclusion.WorkFlowAction === WorkFlowAction.Backward) {
                return true;
            }
        }
        return false;
    }
    /**
     * 组织UserActivity的属性值propertyData
     * @param {?} act
     * @param {?} propertyData
     * @param {?} groupList
     * @return {?}
     */
    setPropertyData(act, propertyData, groupList) {
        propertyData[UserActivityPropertyKeys.Id] = act.Id;
        propertyData[UserActivityPropertyKeys.ClrTypeID] = act.ClrTypeID;
        propertyData[UserActivityPropertyKeys.Name] = act.Name;
        propertyData[UserActivityPropertyKeys.NameLanguage] = act.NameLanguage || {
            "zh-CHS": act.Name,
        };
        //活动传递bizActivityId
        propertyData[UserActivityPropertyKeys.BizActivityID] = act.BizActivityID;
        // 变量设置+流程变量
        propertyData[UserActivityPropertyKeys.variableSettings] = PropertyHelper.getVariableSettings(act.Model, act.variableSettings);
        propertyData[UserActivityPropertyKeys.ParticipantSchemes] = this.getParticipantInfo(act);
        propertyData[UserActivityPropertyKeys.ParticipantOptions] = this.getParticipantOptions(act);
        // if (userAct.AssignmentStrategy === AssignmentStrategy.ASSIGN) {
        //     propertyData[UserActivityPropertyKeys.AssignPerformer] = this.getPotentialOwnerImpl(userAct);
        // }
        propertyData[UserActivityPropertyKeys.ApprovalItems] = act.Conclusions;
        propertyData[UserActivityPropertyKeys.Tools] = PropertyHelper.getBizComponentList((/** @type {?} */ (act.Tools)));
        propertyData[UserActivityPropertyKeys.wf_CustomizeAction] = act.customizeActions || [];
        propertyData[UserActivityPropertyKeys.AssignStrategy] = this.getAssignStrategy(act);
        propertyData[UserActivityPropertyKeys.Retrievable] = act.Retrievable;
        propertyData[UserActivityPropertyKeys.SelectBranch] = act.SelectBranch;
        propertyData[UserActivityPropertyKeys.AddSignFrontAble] = this.getSignFrontInfo(act);
        propertyData[UserActivityPropertyKeys.AddSignBehindAble] = this.getSignBehindInfo(act);
        propertyData[UserActivityPropertyKeys.transferScope] = this.getTransferScopeInfo(act);
        propertyData[UserActivityPropertyKeys.NotifyAble] = this.getNotifyAble(act);
        propertyData[UserActivityPropertyKeys.timeLimitControl] = this.getTimeLimitInfo(act);
        propertyData[UserActivityPropertyKeys.wf_TitleExpression] = act.taskTitle ? (act.taskTitle.valueLanguage ? act.taskTitle.valueLanguage : act.taskTitle.value) : '';
        propertyData[UserActivityPropertyKeys.anonymousSet] = {
            isAnonymity: act.anonymous,
            anonymous: act.anonymousText
        };
        propertyData[UserActivityPropertyKeys.messageNotice] = PropertyHelper.getMessageNotices(act.messageNotices);
        // 影像设置
        propertyData[UserActivityPropertyKeys.imageSettings] = act.imageSettings;
        propertyData[UserActivityPropertyKeys.wf_ExecuteForms_PC] =
            act.ExecuteForms ? act.ExecuteForms.find((/**
             * @param {?} e
             * @return {?}
             */
            e => e.TerminalType === 'PC')) : null;
        propertyData[UserActivityPropertyKeys.wf_ExecuteForms_Mobile] =
            act.ExecuteForms ? act.ExecuteForms.find((/**
             * @param {?} e
             * @return {?}
             */
            e => e.TerminalType === 'MOBILE')) : null;
        propertyData[UserActivityPropertyKeys.approvalPivotConfig] = act.approvalPivotConfig;
        propertyData[UserActivityPropertyKeys.DisplayTerminal] = act.DisplayTerminal ? act.DisplayTerminal : DisplayTerminal.ALL;
        propertyData[UserActivityPropertyKeys.urgeHandleRule] = this.getUrgeHandleRule(act);
        for (const g of groupList) {
            // 取回模型上的value值给到扩展属性组件里
            if (act.extendProperties && act.extendProperties.length > 0) {
                g.childs.sort((/**
                 * @param {?} a
                 * @param {?} b
                 * @return {?}
                 */
                (a, b) => {
                    return a.sortOrder - b.sortOrder;
                })).forEach((/**
                 * @param {?} d
                 * @return {?}
                 */
                (d) => {
                    act.extendProperties.forEach((/**
                     * @param {?} e
                     * @return {?}
                     */
                    e => {
                        if (e.key == d.code) {
                            d.value = e.value;
                        }
                    }));
                }));
            }
            propertyData[g.parent.id] = g.childs;
        }
        propertyData[UserActivityPropertyKeys.checkConditions] = this.getCheckConditions(act);
    }
    /**
     * @param {?} userActivity
     * @return {?}
     */
    getParticipantInfo(userActivity) {
        /** @type {?} */
        const partiInfo = new ParticipantInfo();
        partiInfo.assignStrategy.assignStrategy = userActivity.AssignmentStrategy;
        /** @type {?} */
        const roles = (/** @type {?} */ (userActivity.GetResourceRoles().filter((/**
         * @param {?} role
         * @return {?}
         */
        role => role instanceof HumanPerformerImpl))));
        partiInfo.humanPerformerList = PropertyHelper.getPerformerList(roles);
        if (userActivity.AssignmentStrategy === AssignmentStrategy.ASSIGN) {
            if (userActivity.AssignPerformerConfig) {
                /** @type {?} */
                const assignConfig = new AssignConfig();
                assignConfig.operator = userActivity.AssignPerformerConfig.Operator;
                assignConfig.multiSelect = userActivity.AssignPerformerConfig.MultiSelect;
                assignConfig.necessary = userActivity.AssignPerformerConfig.Necessary;
                partiInfo.assignStrategy.assignConfig = assignConfig;
                partiInfo.isAllScope = userActivity.AssignPerformerConfig.AllowGlobalAssign;
            }
            /** @type {?} */
            const roles = (/** @type {?} */ (userActivity.GetResourceRoles().filter((/**
             * @param {?} role
             * @return {?}
             */
            role => role instanceof PotentialOwnerImpl))));
            partiInfo.potentialOwnerList = PropertyHelper.getPerformerList(roles);
        }
        return partiInfo;
    }
    /**
     * @param {?} userActivity
     * @return {?}
     */
    getParticipantOptions(userActivity) {
        /** @type {?} */
        const options = {};
        if (userActivity.ParticipantSetting != null) {
            options.ExclusionPerformers = userActivity.ParticipantSetting.ExclusionPerformers;
            options.NoPerformerStrategy = userActivity.ParticipantSetting.NoPerformerStrategy;
            options.HistoricFirst = userActivity.ParticipantSetting.HistoricFirst;
            options.automaticPerformers = userActivity.ParticipantSetting.automaticPerformers;
        }
        return options;
    }
    /**
     * @param {?} userActivity
     * @return {?}
     */
    getAssignStrategy(userActivity) {
        /** @type {?} */
        const assignStrategy = new AssignStrategy();
        assignStrategy.assignStrategy = userActivity.AssignmentStrategy;
        if (userActivity.AssignPerformerConfig) {
            /** @type {?} */
            const assignConfig = new AssignConfig();
            assignConfig.operator = userActivity.AssignPerformerConfig.Operator;
            assignConfig.multiSelect = userActivity.AssignPerformerConfig.MultiSelect;
            assignConfig.necessary = userActivity.AssignPerformerConfig.Necessary;
            assignStrategy.assignConfig = assignConfig;
        }
        return assignStrategy;
    }
    /**
     * @param {?} userActivity
     * @return {?}
     */
    getSignFrontInfo(userActivity) {
        /** @type {?} */
        const signFrontTest = new ActionOrganizationScopeDesign();
        signFrontTest.action = (/** @type {?} */ (ActionScope.AddSignFront));
        if (userActivity.AddSignFrontAble) {
            signFrontTest.enable = true;
            /** @type {?} */
            const roles = userActivity.dynamicParticipants.filter((/**
             * @param {?} r
             * @return {?}
             */
            r => r.actionScope === ActionScope.AddSignFront));
            /** @type {?} */
            let res = roles.find((/**
             * @param {?} r
             * @return {?}
             */
            r => ((/** @type {?} */ (r))).organizationLevel && !((/** @type {?} */ (r))).order));
            /** @type {?} */
            let list = [];
            if (res) {
                /** @type {?} */
                const organization = new OrganizationParticipant;
                organization.id = res.id;
                organization.type = res.ClrTypeID;
                organization.name = res.name;
                organization.actionScope = (/** @type {?} */ (res.actionScope));
                organization.organizationLevel = ((/** @type {?} */ (res))).organizationLevel;
                organization.organizationId = ((/** @type {?} */ (res))).organizationId;
                organization.organizationCode = ((/** @type {?} */ (res))).organizationCode;
                organization.organizationName = ((/** @type {?} */ (res))).organizationName;
                organization.includeChildren = ((/** @type {?} */ (res))).includeChildren;
                organization.parentsUntil = ((/** @type {?} */ (res))).parentsUntil;
                organization.tag = ((/** @type {?} */ (res))).tag;
                organization.order = 1;
                list.push(organization);
            }
            else {
                list = PropertyHelper.getPerformerListTest(roles);
            }
            signFrontTest.scope = new OrganizationPotentialOwner();
            if (list && list.length > 0) {
                signFrontTest.scope.participantInfo = new ParticipantInfo();
                signFrontTest.scope.participantInfo.potentialOwnerList = list;
                signFrontTest.scope.participantInfo.isAllScope = true;
            }
            else {
                signFrontTest.scope.participantInfo = new ParticipantInfo();
                signFrontTest.scope.participantInfo.isAllScope = false;
            }
        }
        else {
            signFrontTest.enable = false;
        }
        return signFrontTest;
    }
    /**
     * @param {?} userActivity
     * @return {?}
     */
    getSignBehindInfo(userActivity) {
        /** @type {?} */
        const signBehindTest = new ActionOrganizationScopeDesign();
        signBehindTest.action = (/** @type {?} */ (ActionScope.AddSignBehind));
        if (userActivity.AddSignBehindAble) {
            signBehindTest.enable = true;
            /** @type {?} */
            const roles = userActivity.dynamicParticipants.filter((/**
             * @param {?} r
             * @return {?}
             */
            r => r.actionScope === ActionScope.AddSignBehind));
            /** @type {?} */
            let res = roles.find((/**
             * @param {?} r
             * @return {?}
             */
            r => ((/** @type {?} */ (r))).organizationLevel && !((/** @type {?} */ (r))).order));
            /** @type {?} */
            let list = [];
            if (res) {
                /** @type {?} */
                const organization = new OrganizationParticipant;
                organization.id = res.id;
                organization.type = res.ClrTypeID;
                organization.name = res.name;
                organization.actionScope = (/** @type {?} */ (res.actionScope));
                organization.organizationLevel = ((/** @type {?} */ (res))).organizationLevel;
                organization.organizationId = ((/** @type {?} */ (res))).organizationId;
                organization.organizationCode = ((/** @type {?} */ (res))).organizationCode;
                organization.organizationName = ((/** @type {?} */ (res))).organizationName;
                organization.includeChildren = ((/** @type {?} */ (res))).includeChildren;
                organization.parentsUntil = ((/** @type {?} */ (res))).parentsUntil;
                organization.tag = ((/** @type {?} */ (res))).tag;
                organization.order = 1;
                list.push(organization);
            }
            else {
                list = PropertyHelper.getPerformerListTest(roles);
            }
            signBehindTest.scope = new OrganizationPotentialOwner();
            if (list && list.length > 0) {
                signBehindTest.scope.participantInfo = new ParticipantInfo();
                signBehindTest.scope.participantInfo.potentialOwnerList = list;
                signBehindTest.scope.participantInfo.isAllScope = true;
            }
            else {
                signBehindTest.scope.participantInfo = new ParticipantInfo();
                signBehindTest.scope.participantInfo.isAllScope = false;
            }
        }
        else {
            signBehindTest.enable = false;
        }
        return signBehindTest;
    }
    /**
     * @param {?} userActivity
     * @return {?}
     */
    getTransferScopeInfo(userActivity) {
        /** @type {?} */
        const transferScopeTest = new ActionOrganizationScopeDesign();
        transferScopeTest.action = (/** @type {?} */ (ActionScope.Transfer));
        if (userActivity.transferAble) {
            transferScopeTest.enable = true;
            /** @type {?} */
            const roles = userActivity.dynamicParticipants.filter((/**
             * @param {?} r
             * @return {?}
             */
            r => r.actionScope === ActionScope.Transfer));
            /** @type {?} */
            let res = roles.find((/**
             * @param {?} r
             * @return {?}
             */
            r => ((/** @type {?} */ (r))).organizationLevel && !((/** @type {?} */ (r))).order));
            /** @type {?} */
            let list = [];
            if (res) {
                /** @type {?} */
                const organization = new OrganizationParticipant;
                organization.id = res.id;
                organization.type = res.ClrTypeID;
                organization.name = res.name;
                organization.actionScope = (/** @type {?} */ (res.actionScope));
                organization.organizationLevel = ((/** @type {?} */ (res))).organizationLevel;
                organization.organizationId = ((/** @type {?} */ (res))).organizationId;
                organization.organizationCode = ((/** @type {?} */ (res))).organizationCode;
                organization.organizationName = ((/** @type {?} */ (res))).organizationName;
                organization.includeChildren = ((/** @type {?} */ (res))).includeChildren;
                organization.parentsUntil = ((/** @type {?} */ (res))).parentsUntil;
                organization.tag = ((/** @type {?} */ (res))).tag;
                organization.order = 1;
                list.push(organization);
            }
            else {
                list = PropertyHelper.getPerformerListTest(roles);
            }
            transferScopeTest.scope = new OrganizationPotentialOwner();
            if (list && list.length > 0) {
                transferScopeTest.scope.participantInfo = new ParticipantInfo();
                transferScopeTest.scope.participantInfo.potentialOwnerList = list;
                transferScopeTest.scope.participantInfo.isAllScope = true;
            }
            else {
                transferScopeTest.scope.participantInfo = new ParticipantInfo();
                transferScopeTest.scope.participantInfo.isAllScope = false;
            }
        }
        else {
            transferScopeTest.enable = userActivity.transferAble;
        }
        return transferScopeTest;
    }
    /**
     * @param {?} userActivity
     * @return {?}
     */
    getNotifyAble(userActivity) {
        /** @type {?} */
        const notifyScopeTest = new ActionOrganizationScopeDesign();
        notifyScopeTest.action = (/** @type {?} */ (ActionScope.Notify));
        if (userActivity.NotifyAble) {
            notifyScopeTest.enable = true;
            /** @type {?} */
            const roles = userActivity.dynamicParticipants.filter((/**
             * @param {?} r
             * @return {?}
             */
            r => r.actionScope === ActionScope.Notify));
            /** @type {?} */
            let res = roles.find((/**
             * @param {?} r
             * @return {?}
             */
            r => ((/** @type {?} */ (r))).organizationLevel && !((/** @type {?} */ (r))).order));
            /** @type {?} */
            let list = [];
            if (res) {
                /** @type {?} */
                const organization = new OrganizationParticipant;
                organization.id = res.id;
                organization.type = res.ClrTypeID;
                organization.name = res.name;
                organization.actionScope = (/** @type {?} */ (res.actionScope));
                organization.organizationLevel = ((/** @type {?} */ (res))).organizationLevel;
                organization.organizationId = ((/** @type {?} */ (res))).organizationId;
                organization.organizationCode = ((/** @type {?} */ (res))).organizationCode;
                organization.organizationName = ((/** @type {?} */ (res))).organizationName;
                organization.includeChildren = ((/** @type {?} */ (res))).includeChildren;
                organization.parentsUntil = ((/** @type {?} */ (res))).parentsUntil;
                organization.tag = ((/** @type {?} */ (res))).tag;
                organization.order = 1;
                list.push(organization);
            }
            else {
                list = PropertyHelper.getPerformerListTest(roles);
            }
            notifyScopeTest.scope = new OrganizationPotentialOwner();
            if (list && list.length > 0) {
                notifyScopeTest.scope.participantInfo = new ParticipantInfo();
                notifyScopeTest.scope.participantInfo.potentialOwnerList = list;
                notifyScopeTest.scope.participantInfo.isAllScope = true;
            }
            else {
                notifyScopeTest.scope.participantInfo = new ParticipantInfo();
                notifyScopeTest.scope.participantInfo.isAllScope = false;
            }
        }
        else {
            notifyScopeTest.enable = userActivity.NotifyAble;
        }
        return notifyScopeTest;
    }
    /**
     * @param {?} userActivity
     * @return {?}
     */
    getTimeLimitInfo(userActivity) {
        if (userActivity.timeLimitControl) {
            /** @type {?} */
            const timeLimit = new TimeLimitControlInfo();
            timeLimit.enable = userActivity.timeLimitControl.enable;
            timeLimit.tag = userActivity.timeLimitControl.tag;
            timeLimit.dueTime = userActivity.timeLimitControl.dueTime;
            timeLimit.timeUnit = userActivity.timeLimitControl.timeUnit;
            timeLimit.expireOperations = new Array();
            if (userActivity.timeLimitControl.expireOperations && userActivity.timeLimitControl.expireOperations.length > 0) {
                /** @type {?} */
                const operations = userActivity.timeLimitControl.expireOperations;
                for (const o of operations) {
                    if (o.ClrTypeID.indexOf('SendMessageExpireOperation') > 0) {
                        /** @type {?} */
                        const operation = (/** @type {?} */ (o));
                        /** @type {?} */
                        const sendMessage = new SendMessageExpireOperationInfo();
                        sendMessage.timeDuration = operation.timeDuration;
                        sendMessage.durationType = operation.durationType;
                        sendMessage.timeUnit = operation.timeUnit;
                        sendMessage.message = operation.message;
                        sendMessage.sendType = operation.sendType;
                        sendMessage.subject = operation.subject;
                        sendMessage.id = operation.id;
                        sendMessage.receiver = operation.receiver;
                        sendMessage.cycleEnable = operation.cycleEnable;
                        sendMessage.cycleTime = operation.cycleTime;
                        sendMessage.cycleTimeUnit = operation.cycleTimeUnit;
                        sendMessage.operationTypeName = operation.operationTypeName ? operation.operationTypeName : 'SendMessageExpireOperation';
                        if (operation.smsMessageTemplate) {
                            /** @type {?} */
                            const smsTemplate = new Object;
                            smsTemplate.code = operation.smsMessageTemplate.code;
                            smsTemplate.content = operation.smsMessageTemplate.content;
                            smsTemplate.smsMessageVariables = new Array();
                            if (operation.smsMessageTemplate.smsMessageVariables && operation.smsMessageTemplate.smsMessageVariables.length > 0) {
                                for (const v of operation.smsMessageTemplate.smsMessageVariables) {
                                    /** @type {?} */
                                    const variable = new Object;
                                    variable.id = WfDesignerUtils.createNM();
                                    variable.code = v.code;
                                    variable.value = v.value;
                                    variable.tag = v.tag;
                                    smsTemplate.smsMessageVariables.push(variable);
                                }
                            }
                            sendMessage.smsMessageTemplate = smsTemplate;
                        }
                        timeLimit.expireOperations.push(sendMessage);
                    }
                    else if (o.ClrTypeID.indexOf('AutoHandleExpireOperation') > 0) {
                        /** @type {?} */
                        const operation = (/** @type {?} */ (o));
                        /** @type {?} */
                        const autoHandle = new AutoHandleExpireOperationInfo();
                        autoHandle.id = operation.id;
                        autoHandle.durationType = operation.durationType;
                        autoHandle.timeDuration = operation.timeDuration;
                        autoHandle.timeUnit = operation.timeUnit;
                        autoHandle.operationTypeName = operation.operationTypeName ? operation.operationTypeName : 'AutoHandleExpireOperation';
                        autoHandle.autoHandleType = operation.autoHandleType;
                        autoHandle.message = operation.message;
                        timeLimit.expireOperations.push(autoHandle);
                    }
                }
            }
            return timeLimit;
        }
        return null;
    }
    /**
     * @param {?} userActivity
     * @return {?}
     */
    getUrgeHandleRule(userActivity) {
        if (!userActivity.urgeHandleRule) {
            return null;
        }
        /** @type {?} */
        const rule = userActivity.urgeHandleRule;
        /** @type {?} */
        let urgeHandleRule = {
            urgeHandleAble: rule.urgeHandleAble,
            sendType: rule.sendType,
            earlyTime: rule.earlyTime,
            intervalTime: rule.intervalTime,
            urgeMessageSubject: rule.urgeMessageSubject,
            urgeMessageContent: rule.urgeMessageContent,
            addReminder: rule.addReminder,
            subjectEditable: rule.subjectEditable,
            contentEditable: rule.contentEditable
        };
        if (rule.smsMessageTemplate) {
            /** @type {?} */
            const smsTemplate = new Object;
            smsTemplate.code = rule.smsMessageTemplate.code;
            smsTemplate.content = rule.smsMessageTemplate.content;
            smsTemplate.smsMessageVariables = new Array();
            if (rule.smsMessageTemplate.smsMessageVariables && rule.smsMessageTemplate.smsMessageVariables.length > 0) {
                for (const v of rule.smsMessageTemplate.smsMessageVariables) {
                    /** @type {?} */
                    const variable = new Object;
                    variable.id = WfDesignerUtils.createNM();
                    variable.code = v.code;
                    variable.value = v.value;
                    variable.tag = v.tag;
                    smsTemplate.smsMessageVariables.push(variable);
                }
            }
            urgeHandleRule.smsMessageTemplate = smsTemplate;
        }
        return urgeHandleRule;
    }
    /**
     * @param {?} userActivity
     * @return {?}
     */
    getCheckConditions(userActivity) {
        if (userActivity.checkConditions && userActivity.checkConditions.length > 0) {
            return userActivity.checkConditions.map((/**
             * @param {?} c
             * @return {?}
             */
            c => ({
                value: c.value,
                checkTime: c.checkTime,
                errorTips: c.errorTips ? Array.from(c.errorTips).reduce((/**
                 * @param {?} obj
                 * @param {?} __1
                 * @return {?}
                 */
                (obj, [key, value]) => Object.assign(obj, { [key]: value })), {}) : null
            })));
        }
        return null;
    }
    /**
     * @param {?} obj
     * @return {?}
     */
    updateProps(obj) {
        this.updatePropsByIsOperation(obj);
    }
    /**
     * @param {?} obj
     * @param {?=} isOperation
     * @return {?}
     */
    updatePropsByIsOperation(obj, isOperation = false) {
        /** @type {?} */
        const editorUi = this.editorUi;
        /** @type {?} */
        const userActivity = this.flowElement;
        /** @type {?} */
        const propertyId = obj.propertyID;
        switch (propertyId) {
            case UserActivityPropertyKeys.ParticipantSchemes: // 参与者属性
                this.updateParticipant(userActivity, obj, isOperation);
                break;
            case UserActivityPropertyKeys.ParticipantOptions: // 参与者选项
                this.updateParticipantOptions(userActivity, obj);
                break;
            // case UserActivityPropertyKeys.AssignPerformer:
            //     this.updatePotentialOwnerImpl(graph.bpmnModel, userActivity, obj);
            //     break;
            // case UserActivityPropertyKeys.AssignStrategy:
            //     this.updateAssignStrategy(graph, userActivity, obj, isOperation);
            //     break;
            // case UserActivityPropertyKeys.OperatorConfig:
            //     this.updateOperatorConfig(userActivity, obj);
            //     break;
            case UserActivityPropertyKeys.CompleteStrategy:
                this.resetExecuteWorkItemMode(userActivity, obj, isOperation);
                break;
            case UserActivityPropertyKeys.DisplayTerminal:
                this.resetDisplayTerminal(userActivity, obj);
                break;
            case UserActivityPropertyKeys.SignRule:
                this.resetSignRules(userActivity, obj, isOperation);
                break;
            case UserActivityPropertyKeys.ApprovalItems:
                this.resetApprovalItems(userActivity, obj, isOperation);
                break;
            case UserActivityPropertyKeys.wf_ExecuteForms_PC:
                this.resetExecuteForm(userActivity, obj, 'PC');
                if (obj.parameters && obj.parameters.length > 0) {
                    PropertyHelper.updateFormalParameters(editorUi.graph.bpmnModel.DefaultProcess, obj.parameters);
                }
                break;
            case UserActivityPropertyKeys.wf_ExecuteForms_Mobile:
                this.resetExecuteForm(userActivity, obj, 'MOBILE');
                if (obj.parameters && obj.parameters.length > 0) {
                    PropertyHelper.updateFormalParameters(editorUi.graph.bpmnModel.DefaultProcess, obj.parameters);
                }
                break;
            case UserActivityPropertyKeys.SelectTargetAble:
                this.resetSelectTargetAble(userActivity, obj, isOperation);
                break;
            case UserActivityPropertyKeys.JumpScope:
                this.resetJumpScope(userActivity, obj);
                break;
            case UserActivityPropertyKeys.BackWardRule:
                this.resetBackWardRule(userActivity, obj);
                break;
            case UserActivityPropertyKeys.MultiInstanceLoopCharacteristics:
                this.resetMultiInstanceLoopCharacteristics(userActivity, obj);
                break;
            case UserActivityPropertyKeys.Tools:
                this.resetTools(userActivity, obj);
                break;
            case UserActivityPropertyKeys.wf_TitleExpression:
                this.modifyTitleExpression(userActivity, obj);
                break;
            case UserActivityPropertyKeys.AddSignFrontAble:
                this.updateSignFrontSet(userActivity, obj);
                break;
            case UserActivityPropertyKeys.AddSignBehindAble:
                this.updateSignBehindsSet(userActivity, obj);
                break;
            case UserActivityPropertyKeys.NotifyAble:
                this.updateNotifySet(userActivity, obj);
                break;
            case UserActivityPropertyKeys.transferScope:
                this.updateTransferScope(userActivity, obj);
                break;
            case UserActivityPropertyKeys.wf_CustomizeAction:
                this.updateCustomizeActions(userActivity, obj);
                break;
            case UserActivityPropertyKeys.timeLimitControl:
                this.updateTimeLimitControl(userActivity, obj);
                break;
            case UserActivityPropertyKeys.anonymousSet:
                this.updateAnonymousSet(userActivity, obj);
                break;
            case UserActivityPropertyKeys.variableSettings:
                this.updateVariableSettings(userActivity, obj);
                break;
            case UserActivityPropertyKeys.messageNotice:
                this.updateMessageNotices(userActivity, obj);
                break;
            case UserActivityPropertyKeys.approvalPivotConfig:
                this.updateApprovalPivotConfig(userActivity, obj);
                break;
            case UserActivityPropertyKeys.urgeHandleRule:
                this.updateUrgeHandleRule(userActivity, obj);
                break;
            case UserActivityPropertyKeys.imageSettings: // 更新变量设置属性
                this.updateImageSettings(userActivity, obj);
                break;
            case UserActivityPropertyKeys.checkConditions:
                this.updateCheckConditions(userActivity, obj, isOperation);
                break;
            case UserActivityPropertyKeys.otherAssignActivities:
                this.updateOtherAssignActivities(userActivity, obj);
                break;
            case UserActivityPropertyKeys.otherAssignActivityNodeInfos:
                this.updateOtherAssignActivities(userActivity, obj);
                break;
            case UserActivityPropertyKeys.otherAssignNodes:
                this.updateOtherAssignNodes(userActivity, obj);
                break;
            default:
                // 判断ResourceKeys是不是groupid,是就走resetExtendProperty
                if (editorUi.procExtProps.findIndex((/**
                 * @param {?} p
                 * @return {?}
                 */
                p => p.id === propertyId)) > -1) {
                    this.resetExtendProperty(userActivity, obj);
                }
                else {
                    super.updateProps(obj);
                }
                break;
        }
    }
    /**
     * 修改参与者
     * @param {?} userActivity
     * @param {?} obj
     * @param {?=} isOperation
     * @return {?}
     */
    updateParticipant(userActivity, obj, isOperation = false) {
        /** @type {?} */
        const performerInfo = obj.propertyValue;
        if (performerInfo.assignStrategy.assignStrategy === AssignmentStrategy.CLAIM
            && userActivity.ParticipantSetting
            && userActivity.ParticipantSetting.automaticPerformers
            && userActivity.ParticipantSetting.automaticPerformers.length > 0) {
            // Utils.postMessage(ResourceKeys.wf_showTip, {
            //     type: 'message',
            //     level: 'warning',
            //     message: '当前节点【参与者选项】已设置自动审批，【分配策略】不允许设置为【领用】'
            // });
        }
        else {
            this.checkOtherAssignNodes(userActivity, performerInfo);
            userActivity.AssignPerformerConfig = null;
            userActivity.AssignmentStrategy = performerInfo.assignStrategy.assignStrategy;
            /** @type {?} */
            const resourceRoles = userActivity.GetResourceRoles();
            if (resourceRoles && resourceRoles.length > 0) {
                resourceRoles.forEach((/**
                 * @param {?} r
                 * @return {?}
                 */
                r => {
                    if (r instanceof HumanPerformerImpl) {
                        userActivity.RemoveResourceRole(r.Id);
                    }
                    else if (r instanceof PotentialOwnerImpl) {
                        userActivity.RemoveResourceRole(r.Id);
                    }
                }));
            }
            if (performerInfo.humanPerformerList && performerInfo.humanPerformerList.length > 0) {
                for (const humanPerformer of performerInfo.humanPerformerList) {
                    switch (humanPerformer.type) {
                        case UserParticipantExpression.Clr_Type_ID:
                            this.addUserParticipant(userActivity, (/** @type {?} */ (humanPerformer)), 'humanPerformer', null);
                            break;
                        case VariableParticipantExpression.Clr_Type_ID:
                            this.addVariableParticipant(userActivity, (/** @type {?} */ (humanPerformer)), 'humanPerformer', null);
                            break;
                        case PositionParticipantExpression.Clr_Type_ID:
                            this.addPositionParticipant(userActivity, (/** @type {?} */ (humanPerformer)), 'humanPerformer', null);
                            break;
                        case ComponentParticipantExpression.Clr_Type_ID:
                            this.addComponentParticipant(userActivity, (/** @type {?} */ (humanPerformer)), 'humanPerformer', null);
                            break;
                        case ReportingLineParticipantExpression.Clr_Type_ID:
                            this.addReportingLineParticipant(userActivity, (/** @type {?} */ (humanPerformer)), 'humanPerformer', null);
                            break;
                        case ActivityExecutorParticipantExpression.Clr_Type_ID:
                            this.addActivityExecutorParticipant(userActivity, (/** @type {?} */ (humanPerformer)), 'humanPerformer', null);
                            break;
                        case MatrixParticipantExpression.Clr_Type_ID:
                            this.addMatrixParticipant(userActivity, (/** @type {?} */ (humanPerformer)), 'humanPerformer', null);
                            break;
                    }
                }
            }
            if (performerInfo.assignStrategy.assignStrategy === AssignmentStrategy.ASSIGN) {
                /** @type {?} */
                const assignPerformerConfig = new AssignPerformerConfig(userActivity.Model);
                assignPerformerConfig.Operator = performerInfo.assignStrategy.assignConfig.operator;
                assignPerformerConfig.MultiSelect = performerInfo.assignStrategy.assignConfig.multiSelect;
                assignPerformerConfig.Necessary = performerInfo.assignStrategy.assignConfig.necessary;
                assignPerformerConfig.AllowGlobalAssign = performerInfo.isAllScope;
                userActivity.AssignPerformerConfig = assignPerformerConfig;
                if (!performerInfo.isAllScope && performerInfo.potentialOwnerList && performerInfo.potentialOwnerList.length > 0) {
                    for (const potentialOwner of performerInfo.potentialOwnerList) {
                        switch (potentialOwner.type) {
                            case UserParticipantExpression.Clr_Type_ID:
                                this.addUserParticipant(userActivity, (/** @type {?} */ (potentialOwner)), 'potentialOwner', null);
                                break;
                            case VariableParticipantExpression.Clr_Type_ID:
                                this.addVariableParticipant(userActivity, (/** @type {?} */ (potentialOwner)), 'potentialOwner', null);
                                break;
                            case PositionParticipantExpression.Clr_Type_ID:
                                this.addPositionParticipant(userActivity, (/** @type {?} */ (potentialOwner)), 'potentialOwner', null);
                                break;
                            case ComponentParticipantExpression.Clr_Type_ID:
                                this.addComponentParticipant(userActivity, (/** @type {?} */ (potentialOwner)), 'potentialOwner', null);
                                break;
                            case ReportingLineParticipantExpression.Clr_Type_ID:
                                this.addReportingLineParticipant(userActivity, (/** @type {?} */ (potentialOwner)), 'potentialOwner', null);
                                break;
                            case ActivityExecutorParticipantExpression.Clr_Type_ID:
                                this.addActivityExecutorParticipant(userActivity, (/** @type {?} */ (potentialOwner)), 'potentialOwner', null);
                                break;
                            case MatrixParticipantExpression.Clr_Type_ID:
                                this.addMatrixParticipant(userActivity, (/** @type {?} */ (potentialOwner)), 'potentialOwner', null);
                                break;
                            case OrganizationParticipantExpression.Clr_Type_ID:
                                this.addOrganizationParticipant(userActivity, (/** @type {?} */ (potentialOwner)), 'potentialOwner', null);
                                break;
                        }
                    }
                }
            }
            // 分配策略为领用时，完成策略自动修改为抢占模式
            if (userActivity.AssignmentStrategy === AssignmentStrategy.CLAIM) {
                userActivity.ExecuteWorkItemMode = ExecuteWorkItemMode.Preempt;
                userActivity.CounterSignRules = null;
            }
        }
    }
    /**
     * @param {?} userActivity
     * @param {?} performerInfo
     * @return {?}
     */
    checkOtherAssignNodes(userActivity, performerInfo) {
        if (userActivity.AssignmentStrategy !== AssignmentStrategy.ASSIGN) {
            return;
        }
        /** @type {?} */
        const bpmnModel = userActivity.Model;
        /** @type {?} */
        const flowElements = bpmnModel.DefaultProcess.GetFlowElements();
        if (performerInfo.assignStrategy.assignStrategy !== AssignmentStrategy.ASSIGN) {
            for (const k in flowElements) {
                if (flowElements[k] instanceof UserActivity) {
                    /** @type {?} */
                    const activity = (/** @type {?} */ (flowElements[k]));
                    if (activity.otherAssignNodes && activity.otherAssignNodes.otherAssignActivities
                        && activity.otherAssignNodes.otherAssignActivities.length > 0
                        && activity.otherAssignNodes.otherAssignActivities.findIndex((/**
                         * @param {?} id
                         * @return {?}
                         */
                        id => id === userActivity.Id)) > -1) {
                        activity.otherAssignNodes.otherAssignActivities = activity.otherAssignNodes.otherAssignActivities.filter((/**
                         * @param {?} id
                         * @return {?}
                         */
                        id => id !== userActivity.Id));
                    }
                }
                else if (flowElements[k] instanceof OperationActivity) {
                    /** @type {?} */
                    const operationActivity = (/** @type {?} */ (flowElements[k]));
                    if (operationActivity.otherAssignNodes && operationActivity.otherAssignNodes.otherAssignActivities
                        && operationActivity.otherAssignNodes.otherAssignActivities.length > 0
                        && operationActivity.otherAssignNodes.otherAssignActivities.findIndex((/**
                         * @param {?} id
                         * @return {?}
                         */
                        id => id === userActivity.Id)) > -1) {
                        operationActivity.otherAssignNodes.otherAssignActivities = operationActivity.otherAssignNodes.otherAssignActivities.filter((/**
                         * @param {?} id
                         * @return {?}
                         */
                        id => id !== userActivity.Id));
                    }
                }
                else if (flowElements[k] instanceof StartActivity) {
                    /** @type {?} */
                    const startActivity = (/** @type {?} */ (flowElements[k]));
                    if (startActivity.otherAssignNodes && startActivity.otherAssignNodes.otherAssignActivities
                        && startActivity.otherAssignNodes.otherAssignActivities.length > 0
                        && startActivity.otherAssignNodes.otherAssignActivities.findIndex((/**
                         * @param {?} id
                         * @return {?}
                         */
                        id => id === userActivity.Id)) > -1) {
                        startActivity.otherAssignNodes.otherAssignActivities = startActivity.otherAssignNodes.otherAssignActivities.filter((/**
                         * @param {?} id
                         * @return {?}
                         */
                        id => id !== userActivity.Id));
                    }
                }
            }
        }
        else {
            if (userActivity.AssignPerformerConfig.Operator === 'currentUser'
                && performerInfo.assignStrategy.assignConfig.operator !== 'currentUser') {
                for (const k in flowElements) {
                    if (flowElements[k] instanceof UserActivity) {
                        /** @type {?} */
                        const activity = (/** @type {?} */ (flowElements[k]));
                        if (activity.otherAssignNodes && activity.otherAssignNodes.otherAssignActivities
                            && activity.otherAssignNodes.otherAssignActivities.length > 0
                            && activity.otherAssignNodes.otherAssignActivities.findIndex((/**
                             * @param {?} id
                             * @return {?}
                             */
                            id => id === userActivity.Id)) > -1) {
                            activity.otherAssignNodes.otherAssignActivities = activity.otherAssignNodes.otherAssignActivities.filter((/**
                             * @param {?} id
                             * @return {?}
                             */
                            id => id !== userActivity.Id));
                        }
                    }
                    else if (flowElements[k] instanceof OperationActivity) {
                        /** @type {?} */
                        const operationActivity = (/** @type {?} */ (flowElements[k]));
                        if (operationActivity.otherAssignNodes && operationActivity.otherAssignNodes.otherAssignActivities
                            && operationActivity.otherAssignNodes.otherAssignActivities.length > 0
                            && operationActivity.otherAssignNodes.otherAssignActivities.findIndex((/**
                             * @param {?} id
                             * @return {?}
                             */
                            id => id === userActivity.Id)) > -1) {
                            operationActivity.otherAssignNodes.otherAssignActivities = operationActivity.otherAssignNodes.otherAssignActivities.filter((/**
                             * @param {?} id
                             * @return {?}
                             */
                            id => id !== userActivity.Id));
                        }
                    }
                }
            }
            else if (userActivity.AssignPerformerConfig.Operator === 'procInstCreator'
                && performerInfo.assignStrategy.assignConfig.operator !== 'procInstCreator') {
                for (const k in flowElements) {
                    if (flowElements[k] instanceof StartActivity) {
                        /** @type {?} */
                        const startActivity = (/** @type {?} */ (flowElements[k]));
                        if (startActivity.otherAssignNodes && startActivity.otherAssignNodes.otherAssignActivities
                            && startActivity.otherAssignNodes.otherAssignActivities.length > 0
                            && startActivity.otherAssignNodes.otherAssignActivities.findIndex((/**
                             * @param {?} id
                             * @return {?}
                             */
                            id => id === userActivity.Id)) > -1) {
                            startActivity.otherAssignNodes.otherAssignActivities = startActivity.otherAssignNodes.otherAssignActivities.filter((/**
                             * @param {?} id
                             * @return {?}
                             */
                            id => id !== userActivity.Id));
                        }
                    }
                }
            }
        }
    }
    /**
     * 添加用户参与者
     * @param {?} userActivity
     * @param {?} performer
     * @param {?} type
     * @param {?} scope
     * @return {?}
     */
    addUserParticipant(userActivity, performer, type, scope) {
        /** @type {?} */
        let userParticipant;
        if (performer instanceof UserParticipantExpression) {
            userParticipant = performer;
        }
        else {
            performer = (/** @type {?} */ (performer));
            userParticipant = new UserParticipantExpression(userActivity.Model, performer.performerId, performer.performerName, performer.orgType);
            userParticipant.id = performer.id;
            userParticipant.OrgId = performer.orgId;
            userParticipant.actionScope = ActionScope.Default;
            userParticipant.OrgName = performer.orgName;
            userParticipant.Tag = performer.tag;
            userParticipant.OrgType = performer.orgType;
            userParticipant.order = performer.order;
            if (performer.condition) {
                /** @type {?} */
                const condition = new Condition(userActivity.Model);
                condition.Value = performer.condition;
                userParticipant.condition = condition;
            }
        }
        if (type === 'humanPerformer') {
            /** @type {?} */
            let humanPerformerImpl = new HumanPerformerImpl(userActivity.Model);
            humanPerformerImpl.participantExpression = userParticipant;
            if (performer.condition) {
                /** @type {?} */
                const condition = new Condition(userActivity.Model);
                condition.Value = performer.condition;
                humanPerformerImpl.condition = condition;
            }
            humanPerformerImpl.order = performer.order;
            userActivity.AddResourceRole(humanPerformerImpl);
        }
        else if (type === 'potentialOwner') {
            /** @type {?} */
            let otentialOwnerImpl = new PotentialOwnerImpl(userActivity.Model);
            otentialOwnerImpl.participantExpression = userParticipant;
            if (performer.condition) {
                /** @type {?} */
                const condition = new Condition(userActivity.Model);
                condition.Value = performer.condition;
                otentialOwnerImpl.condition = condition;
            }
            otentialOwnerImpl.order = performer.order;
            if (scope) {
                userParticipant.actionScope = scope;
                userActivity.dynamicParticipants.push(userParticipant);
            }
            else {
                userActivity.AddResourceRole(otentialOwnerImpl);
            }
        }
    }
    /**
     * 添加变量参与者
     * @param {?} userActivity
     * @param {?} performer
     * @param {?} type
     * @param {?} scope
     * @return {?}
     */
    addVariableParticipant(userActivity, performer, type, scope) {
        /** @type {?} */
        let variablePerformer;
        if (performer instanceof VariableParticipantExpression) {
            variablePerformer = performer;
        }
        else {
            performer = (/** @type {?} */ (performer));
            variablePerformer = new VariableParticipantExpression(userActivity.Model, performer.performerId, performer.performerName, performer.orgType);
            variablePerformer.id = performer.id;
            variablePerformer.actionScope = ActionScope.Default;
            variablePerformer.Name = performer.performerName ? performer.performerName : performer.name;
            variablePerformer.Tag = performer.tag;
            variablePerformer.VarValue = performer.varValue;
            variablePerformer.VarType = performer.varType;
            variablePerformer.order = performer.order;
            variablePerformer.Relation = performer.relation;
            if (performer.condition) {
                /** @type {?} */
                const condition = new Condition(userActivity.Model);
                condition.Value = performer.condition;
                variablePerformer.condition = condition;
            }
        }
        if (type === 'humanPerformer') {
            /** @type {?} */
            let humanPerformerImpl = new HumanPerformerImpl(userActivity.Model);
            humanPerformerImpl.participantExpression = variablePerformer;
            if (performer.condition) {
                /** @type {?} */
                const condition = new Condition(userActivity.Model);
                condition.Value = performer.condition;
                humanPerformerImpl.condition = condition;
            }
            humanPerformerImpl.order = performer.order;
            userActivity.AddResourceRole(humanPerformerImpl);
        }
        else if (type === 'potentialOwner') {
            /** @type {?} */
            let otentialOwnerImpl = new PotentialOwnerImpl(userActivity.Model);
            otentialOwnerImpl.participantExpression = variablePerformer;
            if (performer.condition) {
                /** @type {?} */
                const condition = new Condition(userActivity.Model);
                condition.Value = performer.condition;
                otentialOwnerImpl.condition = condition;
            }
            otentialOwnerImpl.order = performer.order;
            if (scope) {
                variablePerformer.actionScope = scope;
                userActivity.dynamicParticipants.push(variablePerformer);
            }
            else {
                userActivity.AddResourceRole(otentialOwnerImpl);
            }
        }
    }
    /**
     * 添加岗位参与者
     * @param {?} userActivity
     * @param {?} performer
     * @param {?} type
     * @param {?} scope
     * @return {?}
     */
    addPositionParticipant(userActivity, performer, type, scope) {
        /** @type {?} */
        let posiParticipant;
        if (performer instanceof PositionParticipantExpression) {
            posiParticipant = performer;
        }
        else {
            performer = (/** @type {?} */ (performer));
            posiParticipant = new PositionParticipantExpression(userActivity.Model, performer.performerId, performer.performerName);
            posiParticipant.id = performer.id;
            posiParticipant.actionScope = ActionScope.Default;
            posiParticipant.PositionType = performer.positionType;
            posiParticipant.order = performer.order;
            if (performer.positionType === '1') {
                posiParticipant.OrgId = performer.orgId;
                posiParticipant.OrgName = performer.orgName;
                posiParticipant.OrgType = performer.orgType;
            }
            if (performer.condition) {
                /** @type {?} */
                const condition = new Condition(userActivity.Model);
                condition.Value = performer.condition;
                posiParticipant.condition = condition;
            }
        }
        if (type === 'humanPerformer') {
            /** @type {?} */
            let humanPerformerImpl = new HumanPerformerImpl(userActivity.Model);
            humanPerformerImpl.participantExpression = posiParticipant;
            if (performer.condition) {
                /** @type {?} */
                const condition = new Condition(userActivity.Model);
                condition.Value = performer.condition;
                humanPerformerImpl.condition = condition;
            }
            humanPerformerImpl.order = performer.order;
            userActivity.AddResourceRole(humanPerformerImpl);
        }
        else if (type === 'potentialOwner') {
            /** @type {?} */
            let otentialOwnerImpl = new PotentialOwnerImpl(userActivity.Model);
            otentialOwnerImpl.participantExpression = posiParticipant;
            if (performer.condition) {
                /** @type {?} */
                const condition = new Condition(userActivity.Model);
                condition.Value = performer.condition;
                otentialOwnerImpl.condition = condition;
            }
            otentialOwnerImpl.order = performer.order;
            if (scope) {
                posiParticipant.actionScope = scope;
                userActivity.dynamicParticipants.push(posiParticipant);
            }
            else {
                userActivity.AddResourceRole(otentialOwnerImpl);
            }
        }
    }
    /**
     * 添加构件参与者
     * @param {?} userActivity
     * @param {?} component
     * @param {?} type
     * @param {?} scope
     * @return {?}
     */
    addComponentParticipant(userActivity, component, type, scope) {
        /** @type {?} */
        let componentParticipant;
        if (component instanceof ComponentParticipantExpression) {
            componentParticipant = component;
        }
        else {
            component = (/** @type {?} */ (component));
            componentParticipant = new ComponentParticipantExpression(userActivity.Model);
            componentParticipant.id = component.id;
            componentParticipant.componentId = component.metadataId;
            componentParticipant.actionScope = ActionScope.Default;
            componentParticipant.componentName = component.name;
            componentParticipant.methodName = component.methodName;
            componentParticipant.order = component.order;
            componentParticipant.methodCode = component.methodCode;
            if (component.actualParameters && component.actualParameters.length > 0) {
                /** @type {?} */
                let actParas = new Array();
                for (let para of component.actualParameters) {
                    /** @type {?} */
                    let actPara = new ActualParameter(userActivity.Model, para.code, para.value, para.valueText);
                    // TODO:更新参与者会默认把构件参数属性改为contant，临时修复，后续代码优化
                    actPara.Tag = para.tag;
                    if (para.fetchValueMode) {
                        switch (para.fetchValueMode) {
                            case 'express':
                                actPara.Tag = 'expression';
                                break;
                            case 'none':
                                actPara.Tag = 'expression';
                                break;
                            default:
                                actPara.Tag = 'constant';
                                break;
                        }
                    }
                    actParas.push(actPara);
                }
                componentParticipant.actualParameters = actParas;
            }
            if (component.condition) {
                /** @type {?} */
                const condition = new Condition(userActivity.Model);
                condition.Value = component.condition;
                componentParticipant.condition = condition;
            }
        }
        if (type === 'humanPerformer') {
            /** @type {?} */
            let humanPerformerImpl = new HumanPerformerImpl(userActivity.Model);
            humanPerformerImpl.participantExpression = componentParticipant;
            if (component.condition) {
                /** @type {?} */
                const condition = new Condition(userActivity.Model);
                condition.Value = component.condition;
                humanPerformerImpl.condition = condition;
            }
            humanPerformerImpl.order = component.order;
            userActivity.AddResourceRole(humanPerformerImpl);
        }
        else if (type === 'potentialOwner') {
            /** @type {?} */
            let otentialOwnerImpl = new PotentialOwnerImpl(userActivity.Model);
            otentialOwnerImpl.participantExpression = componentParticipant;
            if (component.condition) {
                /** @type {?} */
                const condition = new Condition(userActivity.Model);
                condition.Value = component.condition;
                otentialOwnerImpl.condition = condition;
            }
            otentialOwnerImpl.order = component.order;
            if (scope) {
                componentParticipant.actionScope = scope;
                userActivity.dynamicParticipants.push(componentParticipant);
            }
            else {
                userActivity.AddResourceRole(otentialOwnerImpl);
            }
        }
    }
    /**
     *
     * @param {?} userActivity
     * @param {?} participant
     * @param {?} type
     * @param {?} scope
     * @return {?}
     */
    addReportingLineParticipant(userActivity, participant, type, scope) {
        /** @type {?} */
        let reportingLine;
        if (participant instanceof ReportingLineParticipantExpression) {
            reportingLine = participant;
        }
        else {
            participant = (/** @type {?} */ (participant));
            reportingLine = new ReportingLineParticipantExpression(userActivity.Model);
            reportingLine.id = participant.id;
            reportingLine.actionScope = ActionScope.Default;
            reportingLine.ReportingLineDefId = participant.reportingLineDefId;
            reportingLine.ReportingLineDefName = participant.reportingLineDefName;
            reportingLine.RefOrgId = participant.refOrgId;
            reportingLine.RefUserId = participant.refUserId;
            reportingLine.RefEmployeeId = participant.refEmployeeId;
            reportingLine.order = participant.order;
            reportingLine.Dimension = participant.dimension;
            reportingLine.Tag = participant.tag;
            if (participant.condition) {
                /** @type {?} */
                const condition = new Condition(userActivity.Model);
                condition.Value = participant.condition;
                reportingLine.condition = condition;
            }
        }
        if (type === 'humanPerformer') {
            /** @type {?} */
            let humanPerformerImpl = new HumanPerformerImpl(userActivity.Model);
            humanPerformerImpl.participantExpression = reportingLine;
            if (participant.condition) {
                /** @type {?} */
                const condition = new Condition(userActivity.Model);
                condition.Value = participant.condition;
                humanPerformerImpl.condition = condition;
            }
            humanPerformerImpl.order = participant.order;
            userActivity.AddResourceRole(humanPerformerImpl);
        }
        else if (type === 'potentialOwner') {
            /** @type {?} */
            let otentialOwnerImpl = new PotentialOwnerImpl(userActivity.Model);
            otentialOwnerImpl.participantExpression = reportingLine;
            if (participant.condition) {
                /** @type {?} */
                const condition = new Condition(userActivity.Model);
                condition.Value = participant.condition;
                otentialOwnerImpl.condition = condition;
            }
            otentialOwnerImpl.order = participant.order;
            if (scope) {
                reportingLine.actionScope = scope;
                userActivity.dynamicParticipants.push(reportingLine);
            }
            else {
                userActivity.AddResourceRole(otentialOwnerImpl);
            }
        }
    }
    /**
     *
     * @param {?} userActivity
     * @param {?} participant
     * @param {?} type
     * @param {?} scope
     * @return {?}
     */
    addActivityExecutorParticipant(userActivity, participant, type, scope) {
        /** @type {?} */
        let activityExecutor;
        if (participant instanceof ActivityExecutorParticipantExpression) {
            activityExecutor = participant;
        }
        else {
            participant = (/** @type {?} */ (participant));
            activityExecutor = new ActivityExecutorParticipantExpression(userActivity.Model);
            activityExecutor.id = participant.id;
            activityExecutor.activityDefId = participant.activityDefId;
            activityExecutor.actionScope = ActionScope.Default;
            activityExecutor.order = participant.order;
            activityExecutor.activityDefName = participant.activityDefName;
            if (participant.condition) {
                /** @type {?} */
                const condition = new Condition(userActivity.Model);
                condition.Value = participant.condition;
                activityExecutor.condition = condition;
            }
        }
        if (type === 'humanPerformer') {
            /** @type {?} */
            let humanPerformerImpl = new HumanPerformerImpl(userActivity.Model);
            humanPerformerImpl.participantExpression = activityExecutor;
            if (participant.condition) {
                /** @type {?} */
                const condition = new Condition(userActivity.Model);
                condition.Value = participant.condition;
                humanPerformerImpl.condition = condition;
            }
            humanPerformerImpl.order = participant.order;
            userActivity.AddResourceRole(humanPerformerImpl);
        }
        else if (type === 'potentialOwner') {
            /** @type {?} */
            let otentialOwnerImpl = new PotentialOwnerImpl(userActivity.Model);
            otentialOwnerImpl.participantExpression = activityExecutor;
            if (participant.condition) {
                /** @type {?} */
                const condition = new Condition(userActivity.Model);
                condition.Value = participant.condition;
                otentialOwnerImpl.condition = condition;
            }
            otentialOwnerImpl.order = participant.order;
            if (scope) {
                activityExecutor.actionScope = scope;
                userActivity.dynamicParticipants.push(activityExecutor);
            }
            else {
                userActivity.AddResourceRole(otentialOwnerImpl);
            }
        }
    }
    /**
     *
     * @param {?} userActivity
     * @param {?} participant
     * @param {?} type
     * @param {?} scope
     * @return {?}
     */
    addMatrixParticipant(userActivity, participant, type, scope) {
        /** @type {?} */
        let matrix;
        matrix = new MatrixParticipantExpression(userActivity.Model);
        if (participant instanceof MatrixParticipantExpression) {
            matrix = participant;
        }
        else {
            participant = (/** @type {?} */ (participant));
            matrix = new MatrixParticipantExpression(userActivity.Model);
            matrix.order = participant.order;
            matrix.id = participant.id;
            matrix.actionScope = ActionScope.Default;
            matrix.matrixDefId = participant.matrixDefId;
            matrix.matrixDefName = participant.matrixDefName;
            matrix.conditionField1 = participant.conditionField1;
            matrix.conditionFieldText1 = participant.conditionFieldText1;
            matrix.conditionField2 = participant.conditionField2;
            matrix.conditionFieldText2 = participant.conditionFieldText2;
            matrix.conditionField3 = participant.conditionField3;
            matrix.conditionFieldText3 = participant.conditionFieldText3;
            matrix.multivaluedCondition = participant.multivaluedCondition;
            matrix.dataFieldAlias = participant.dataFieldAlias;
            if (participant.condition) {
                /** @type {?} */
                const condition = new Condition(userActivity.Model);
                condition.Value = participant.condition;
                matrix.condition = condition;
            }
        }
        if (type === 'humanPerformer') {
            /** @type {?} */
            let humanPerformerImpl = new HumanPerformerImpl(userActivity.Model);
            humanPerformerImpl.participantExpression = matrix;
            if (participant.condition) {
                /** @type {?} */
                const condition = new Condition(userActivity.Model);
                condition.Value = participant.condition;
                humanPerformerImpl.condition = condition;
            }
            humanPerformerImpl.order = participant.order;
            userActivity.AddResourceRole(humanPerformerImpl);
        }
        else if (type === 'potentialOwner') {
            /** @type {?} */
            let otentialOwnerImpl = new PotentialOwnerImpl(userActivity.Model);
            otentialOwnerImpl.participantExpression = matrix;
            if (participant.condition) {
                /** @type {?} */
                const condition = new Condition(userActivity.Model);
                condition.Value = participant.condition;
                otentialOwnerImpl.condition = condition;
            }
            otentialOwnerImpl.order = participant.order;
            if (scope) {
                matrix.actionScope = scope;
                userActivity.dynamicParticipants.push(matrix);
            }
            else {
                userActivity.AddResourceRole(otentialOwnerImpl);
            }
        }
    }
    /**
     *
     * @param {?} userActivity
     * @param {?} participant
     * @param {?} type
     * @param {?} scope
     * @return {?}
     */
    addOrganizationParticipant(userActivity, participant, type, scope) {
        /** @type {?} */
        let potential;
        if (participant instanceof OrganizationParticipantExpression) {
            potential = participant;
        }
        else {
            participant = (/** @type {?} */ (participant));
            potential = new OrganizationParticipantExpression(userActivity.Model);
            potential.id = participant.id;
            potential.order = participant.order;
            potential.actionScope = ActionScope.AssignUser;
            // potential.organizationLevel = participant.organizationLevel;
            if (participant.organizationLevel === 'DEPARTMENT') {
                potential.organizationLevel = OrganizationLevel.DEPARTMENT;
            }
            else if (participant.organizationLevel === 'UNIT') {
                potential.organizationLevel = OrganizationLevel.UNIT;
            }
            else if (participant.organizationLevel === 'DEFAULT') {
                potential.organizationLevel = OrganizationLevel.DEFAULT;
            }
            potential.organizationId = participant.organizationId;
            potential.organizationName = participant.organizationName;
            potential.includeChildren = participant.includeChildren;
            potential.tag = participant.tag;
            if (participant.condition) {
                /** @type {?} */
                const condition = new Condition(userActivity.Model);
                condition.Value = participant.condition;
                potential.condition = condition;
            }
        }
        if (type === 'humanPerformer') {
            /** @type {?} */
            let humanPerformerImpl = new HumanPerformerImpl(userActivity.Model);
            humanPerformerImpl.participantExpression = potential;
            if (participant.condition) {
                /** @type {?} */
                const condition = new Condition(userActivity.Model);
                condition.Value = participant.condition;
                humanPerformerImpl.condition = condition;
            }
            humanPerformerImpl.order = participant.order;
            userActivity.AddResourceRole(humanPerformerImpl);
        }
        else if (type === 'potentialOwner') {
            /** @type {?} */
            let otentialOwnerImpl = new PotentialOwnerImpl(userActivity.Model);
            otentialOwnerImpl.participantExpression = potential;
            if (participant.condition) {
                /** @type {?} */
                const condition = new Condition(userActivity.Model);
                condition.Value = participant.condition;
                otentialOwnerImpl.condition = condition;
            }
            otentialOwnerImpl.order = participant.order;
            if (scope) {
                potential.actionScope = scope;
                userActivity.dynamicParticipants.push(potential);
            }
            else {
                userActivity.AddResourceRole(otentialOwnerImpl);
            }
        }
    }
    /**
     * 修改参与者选项
     * @param {?} userActivity
     * @param {?} obj
     * @return {?}
     */
    updateParticipantOptions(userActivity, obj) {
        /** @type {?} */
        const options = obj.propertyValue;
        if (userActivity.ParticipantSetting != null) {
            userActivity.ParticipantSetting.ExclusionPerformers = options.ExclusionPerformers;
            userActivity.ParticipantSetting.NoPerformerStrategy = options.NoPerformerStrategy;
            userActivity.ParticipantSetting.HistoricFirst = options.HistoricFirst;
            userActivity.ParticipantSetting.automaticPerformers = options.automaticPerformers;
        }
        else {
            /** @type {?} */
            let participantSetting = new ParticipantSetting(userActivity.Model);
            participantSetting.ExclusionPerformers = options.ExclusionPerformers;
            participantSetting.NoPerformerStrategy = options.NoPerformerStrategy;
            participantSetting.HistoricFirst = options.HistoricFirst;
            participantSetting.automaticPerformers = options.automaticPerformers;
            userActivity.ParticipantSetting = participantSetting;
        }
    }
    /**
     * 修改完成策略属性
     * @param {?} userActivity
     * @param {?} obj
     * @param {?=} isOperation
     * @return {?}
     */
    resetExecuteWorkItemMode(userActivity, obj, isOperation = false) {
        if (userActivity) {
            userActivity.ExecuteWorkItemMode = obj.propertyValue;
            //抢占模式下清空会签规则
            if (userActivity.ExecuteWorkItemMode === ExecuteWorkItemMode.Preempt) {
                userActivity.CounterSignRules = null;
            }
            else {
                // 会签规则不存在时，即由抢占变为会签时，初始化会签规则
                // 并行会签和串行会签之间切换时，不刷新会签规则
                if (!userActivity.CounterSignRules) {
                    userActivity.CounterSignRules = new Array();
                }
                //会签策略时,不允许跳转；且驳回规则不允许动态选择驳回级次(驳回规则目前需要在流程设计器调整)
                userActivity.SelectTargetAble = false;
                userActivity.JumpScope = null;
                // 切换会签策略时，分配策略不能是领用,自动切换为所有
                // 2023-2-9 修复：由于新增了备选办理人，直接指派导致切换时时备选办理人丢失，修改为只有是领用才切到指所有
                if (userActivity.AssignmentStrategy === AssignmentStrategy.CLAIM) {
                    userActivity.AssignmentStrategy = AssignmentStrategy.ALL;
                }
            }
        }
    }
    /**
     * @param {?} userActivity
     * @param {?} obj
     * @param {?=} isOperation
     * @return {?}
     */
    resetDisplayTerminal(userActivity, obj, isOperation = false) {
        if (userActivity) {
            userActivity.DisplayTerminal = obj.propertyValue;
        }
    }
    /**
     * 更新会签规则属性
     * @param {?} userActivity
     * @param {?} obj
     * @param {?=} isOperation
     * @return {?}
     */
    resetSignRules(userActivity, obj, isOperation = false) {
        if (userActivity) {
            /** @type {?} */
            let rules = (/** @type {?} */ (obj.propertyValue));
            userActivity.CounterSignRules = null;
            if (rules && rules.length > 0) {
                userActivity.CounterSignRules = new Array();
                for (let rule of rules) {
                    /** @type {?} */
                    let counterSignRule = new CounterSignRule(userActivity.Model);
                    /** @type {?} */
                    let condition = new Condition(userActivity.Model);
                    condition.Value = rule.completionCondition;
                    counterSignRule.ConclusionValue = rule.conclusionValue;
                    counterSignRule.CalculateType = rule.calculateType;
                    counterSignRule.ConditionValue = rule.conditionValue;
                    counterSignRule.WaitAllVotes = rule.waitAllVotes;
                    counterSignRule.CompletionCondition = condition;
                    userActivity.CounterSignRules.push(counterSignRule);
                }
            }
        }
    }
    /**
     * 更新自定义项属性
     * @param {?} userActivity
     * @param {?} obj
     * @param {?=} isOperation
     * @return {?}
     */
    resetApprovalItems(userActivity, obj, isOperation = false) {
        if (userActivity) {
            /** @type {?} */
            let conclusions = (/** @type {?} */ (obj.propertyValue));
            userActivity.Conclusions = new Array();
            for (let conclusion of conclusions) {
                /** @type {?} */
                let item = new ConclusionItem(userActivity.Model);
                item.Value = conclusion.value;
                item.Text = conclusion.text;
                item.WorkFlowAction = conclusion.workFlowAction;
                item.IsDefault = conclusion.isDefault;
                item.commentNecessary = conclusion.commentNecessary;
                item.certification = conclusion.certification;
                item.attachmentNecessary = conclusion.attachmentNecessary;
                item.signatureNecessary = conclusion.signatureNecessary;
                item.defaultComment = conclusion.defaultComment;
                userActivity.Conclusions.push(item);
            }
        }
        // 判断审批项是否包含驳回？不包含时，驳回规则清空
        if (!this.isBackConclusionExist(userActivity.Conclusions)) {
            userActivity.BackWardRule = null;
        }
        else if (!userActivity.BackWardRule) {
            userActivity.BackWardRule = new BackWardRule(userActivity.Model);
        }
    }
    /**
     * 更新审批活动表单定义属性
     * @param {?} userActivity
     * @param {?} obj
     * @param {?} terminal
     * @return {?}
     */
    resetExecuteForm(userActivity, obj, terminal) {
        if (userActivity) {
            /** @type {?} */
            let form = (/** @type {?} */ (obj.propertyValue));
            if (!userActivity.ExecuteForms) {
                userActivity.ExecuteForms = new Array();
            }
            userActivity.ExecuteForms = userActivity.ExecuteForms.filter((/**
             * @param {?} e
             * @return {?}
             */
            e => e.TerminalType !== terminal));
            if (form) {
                /** @type {?} */
                let params = (/** @type {?} */ (form.ActualParameters));
                /** @type {?} */
                let actParas = new Array();
                if (params && params.length > 0) {
                    for (let para of params) {
                        /** @type {?} */
                        let actPara = new ActualParameter(userActivity.Model, para.Name, para.Value);
                        if (para.Tag) {
                            actPara.Tag = para.Tag;
                        }
                        else {
                            if (para.Value) {
                                if (para.Value.length >= 8 && para.Value.slice(0, 8) === `{"expr":`) {
                                    actPara.Tag = 'expression';
                                }
                                else {
                                    actPara.Tag = 'constant';
                                }
                            }
                            else {
                                actPara.Tag = 'variable';
                            }
                        }
                        actParas.push(actPara);
                    }
                }
                /** @type {?} */
                const id = BpmnModelHelper.GenerateElementId();
                /** @type {?} */
                let item = new ExecuteForm(userActivity.Model, id, form.Name, actParas);
                item.ComponentId = form.ComponentId;
                item.FormType = form.FormType;
                item.formFormatId = form.formFormatId;
                item.formatConfigId = form.formatConfigId;
                item.TerminalType = form.TerminalType;
                userActivity.ExecuteForms.push(item);
            }
        }
    }
    /**
     * 更新是否允许跳转属性
     * @param {?} userActivity
     * @param {?} obj
     * @param {?=} isOperation
     * @return {?}
     */
    resetSelectTargetAble(userActivity, obj, isOperation = false) {
        /** @type {?} */
        const SelectTargetAble = (/** @type {?} */ (obj.propertyValue));
        userActivity.SelectTargetAble = SelectTargetAble;
        if (userActivity.SelectTargetAble) {
        }
        else {
            userActivity.JumpScope = null;
        }
    }
    /**
     * @param {?} userActivity
     * @param {?} obj
     * @return {?}
     */
    resetJumpScope(userActivity, obj) {
        /** @type {?} */
        const data = obj.propertyValue;
        if (data) {
            /** @type {?} */
            let jumpScope = new JumpScope(userActivity.Model);
            jumpScope.Category = data.Category;
            jumpScope.DefaultType = data.DefaultType;
            jumpScope.DestinationActivities = data.DestinationActivities;
            jumpScope.DefaultActivity = data.DefaultActivity;
            userActivity.JumpScope = jumpScope;
        }
        else {
            userActivity.JumpScope = null;
        }
    }
    /**
     * @param {?} userActivity
     * @param {?} obj
     * @return {?}
     */
    resetBackWardRule(userActivity, obj) {
        /** @type {?} */
        const data = obj.propertyValue;
        /** @type {?} */
        let backWardRule = new BackWardRule(userActivity.Model);
        backWardRule.TargetRef = data.TargetRef;
        backWardRule.SelectTargetAble = data.SelectTargetAble;
        backWardRule.WaitReturn = data.WaitReturn;
        backWardRule.ResubmitEffect = data.ResubmitEffect;
        backWardRule.DynamicBackWardRuleAble = data.DynamicBackWardRuleAble;
        backWardRule.SelectTargetList = data.SelectTargetList;
        userActivity.BackWardRule = backWardRule;
    }
    /**
     * @param {?} userActivity
     * @param {?} obj
     * @return {?}
     */
    resetMultiInstanceLoopCharacteristics(userActivity, obj) {
        if (obj.propertyValue) {
            /** @type {?} */
            const data = obj.propertyValue;
            /** @type {?} */
            let loopCharacteristics = new MultiInstanceLoopCharacteristics(userActivity.Model);
            loopCharacteristics.enable = data.enable;
            loopCharacteristics.sequential = data.sequential;
            loopCharacteristics.loopCardinality = new Expression(userActivity.Model);
            if (data.loopCardinality) {
                /** @type {?} */
                let variableExpression = new SemanticExpression(userActivity.Model);
                variableExpression.Value = data.loopCardinality;
                loopCharacteristics.loopCardinality.MexExpression = variableExpression;
            }
            loopCharacteristics.completionCondition = data.completionCondition;
            /** @type {?} */
            let rules = (/** @type {?} */ (data.completionConditionRules));
            loopCharacteristics.completionConditionRules = null;
            if (rules && rules.length > 0) {
                loopCharacteristics.completionConditionRules = new Array();
                for (let rule of rules) {
                    /** @type {?} */
                    let counterSignRule = new CounterSignRule(userActivity.Model);
                    /** @type {?} */
                    let condition = new Condition(userActivity.Model);
                    condition.Value = rule.CompletionCondition.Value;
                    counterSignRule.ConclusionValue = rule.ConclusionValue;
                    counterSignRule.CalculateType = rule.CalculateType;
                    counterSignRule.ConditionValue = rule.ConditionValue;
                    counterSignRule.WaitAllVotes = rule.WaitAllVotes;
                    counterSignRule.CompletionCondition = condition;
                    loopCharacteristics.completionConditionRules.push(counterSignRule);
                }
            }
            userActivity.LoopCharacteristics = loopCharacteristics;
        }
    }
    /**
     * 更新活动节点标题
     * @param {?} userActivity
     * @param {?} obj
     * @return {?}
     */
    modifyTitleExpression(userActivity, obj) {
        if (userActivity.taskTitle) {
            userActivity.taskTitle.valueLanguage = obj.propertyValue;
            userActivity.taskTitle.value = obj.propertyValue['zh-CHS'];
        }
        else {
            /** @type {?} */
            const title = new TitleExpression(userActivity.Model, obj.propertyValue['zh-CHS'], obj.propertyValue);
            userActivity.taskTitle = title;
        }
    }
    /**
     * @param {?} userActivity
     * @param {?} obj
     * @return {?}
     */
    resetTools(userActivity, obj) {
        /** @type {?} */
        let tools = (/** @type {?} */ (obj.propertyValue));
        userActivity.Tools = new Array();
        if (tools && tools.length > 0) {
            for (let tool of tools) {
                /** @type {?} */
                let component = new Component(userActivity.Model);
                component.Id = tool.id;
                component.Name = tool.name;
                component.Time = tool.executionTime;
                // TODO 写死了构件类型
                component.ComponentType = 'WebServiceComponent';
                component.MetadataId = tool.metadataId;
                component.MethodCode = tool.methodCode;
                component.isForCompensation = tool.isForCompensation;
                component.ActualParameters = [];
                if (tool.actualParameters && ((/** @type {?} */ (tool.actualParameters))).length > 0) {
                    for (let a of ((/** @type {?} */ (tool.actualParameters)))) {
                        /** @type {?} */
                        let parameter = new ActualParameter(userActivity.Model, a.code, a.value);
                        component.ActualParameters.push(parameter);
                    }
                }
                userActivity.Tools.push(component);
            }
        }
    }
    /**
     * @param {?} userActivity
     * @param {?} obj
     * @return {?}
     */
    updateSignFrontSet(userActivity, obj) {
        /** @type {?} */
        const scope = (/** @type {?} */ (obj.propertyValue));
        userActivity.dynamicParticipants = userActivity.dynamicParticipants.filter((/**
         * @param {?} p
         * @return {?}
         */
        p => ((/** @type {?} */ (p))).actionScope !== ActionScope.AddSignFront));
        userActivity.AddSignFrontAble = scope.enable;
        if (scope.scope) {
            if (scope.scope.organizationLevel) {
                /** @type {?} */
                const organizationParticipantExpression = new OrganizationParticipantExpression(userActivity.Model);
                organizationParticipantExpression.id = BpmnModelHelper.GenerateElementId();
                organizationParticipantExpression.actionScope = ActionScope.AddSignFront;
                organizationParticipantExpression.organizationLevel = (/** @type {?} */ (scope.scope.organizationLevel));
                organizationParticipantExpression.organizationId = scope.scope.organizationId;
                organizationParticipantExpression.organizationName = scope.scope.organizationName;
                organizationParticipantExpression.includeChildren = scope.scope.includeChildren;
                organizationParticipantExpression.tag = scope.scope.tag;
                userActivity.dynamicParticipants.push(organizationParticipantExpression);
            }
            else {
                /** @type {?} */
                const performerInfo = (/** @type {?} */ (scope.scope.participantInfo));
                if (performerInfo.isAllScope && performerInfo.potentialOwnerList && performerInfo.potentialOwnerList.length > 0) {
                    for (const potentialOwner of performerInfo.potentialOwnerList) {
                        switch (potentialOwner.type ? potentialOwner.type : ((potentialOwner instanceof ParticipantExpression) ? potentialOwner.ClrTypeID : null)) {
                            case UserParticipantExpression.Clr_Type_ID:
                                this.addUserParticipant(userActivity, (potentialOwner instanceof ParticipantExpression ? potentialOwner : (/** @type {?} */ (potentialOwner))), 'potentialOwner', ActionScope.AddSignFront);
                                break;
                            case VariableParticipantExpression.Clr_Type_ID:
                                this.addVariableParticipant(userActivity, (potentialOwner instanceof ParticipantExpression ? potentialOwner : (/** @type {?} */ (potentialOwner))), 'potentialOwner', ActionScope.AddSignFront);
                                break;
                            case PositionParticipantExpression.Clr_Type_ID:
                                this.addPositionParticipant(userActivity, (potentialOwner instanceof ParticipantExpression ? potentialOwner : (/** @type {?} */ (potentialOwner))), 'potentialOwner', ActionScope.AddSignFront);
                                break;
                            case ComponentParticipantExpression.Clr_Type_ID:
                                this.addComponentParticipant(userActivity, (potentialOwner instanceof ParticipantExpression ? potentialOwner : (/** @type {?} */ (potentialOwner))), 'potentialOwner', ActionScope.AddSignFront);
                                break;
                            case ReportingLineParticipantExpression.Clr_Type_ID:
                                this.addReportingLineParticipant(userActivity, (potentialOwner instanceof ParticipantExpression ? potentialOwner : (/** @type {?} */ (potentialOwner))), 'potentialOwner', ActionScope.AddSignFront);
                                break;
                            case ActivityExecutorParticipantExpression.Clr_Type_ID:
                                this.addActivityExecutorParticipant(userActivity, (potentialOwner instanceof ParticipantExpression ? potentialOwner : (/** @type {?} */ (potentialOwner))), 'potentialOwner', ActionScope.AddSignFront);
                                break;
                            case MatrixParticipantExpression.Clr_Type_ID:
                                this.addMatrixParticipant(userActivity, (potentialOwner instanceof ParticipantExpression ? potentialOwner : (/** @type {?} */ (potentialOwner))), 'potentialOwner', ActionScope.AddSignFront);
                                break;
                            case OrganizationParticipantExpression.Clr_Type_ID:
                                this.addOrganizationParticipant(userActivity, (potentialOwner instanceof ParticipantExpression ? potentialOwner : (/** @type {?} */ (potentialOwner))), 'potentialOwner', ActionScope.AddSignFront);
                                break;
                        }
                    }
                }
            }
        }
    }
    /**
     * @param {?} userActivity
     * @param {?} obj
     * @return {?}
     */
    updateSignBehindsSet(userActivity, obj) {
        /** @type {?} */
        const scope = (/** @type {?} */ (obj.propertyValue));
        userActivity.dynamicParticipants = userActivity.dynamicParticipants.filter((/**
         * @param {?} p
         * @return {?}
         */
        p => ((/** @type {?} */ (p))).actionScope !== ActionScope.AddSignBehind));
        userActivity.AddSignBehindAble = scope.enable;
        if (scope.scope) {
            if (scope.scope.organizationLevel) {
                /** @type {?} */
                const organizationParticipantExpression = new OrganizationParticipantExpression(userActivity.Model);
                organizationParticipantExpression.id = BpmnModelHelper.GenerateElementId();
                organizationParticipantExpression.actionScope = ActionScope.AddSignBehind;
                organizationParticipantExpression.organizationLevel = (/** @type {?} */ (scope.scope.organizationLevel));
                organizationParticipantExpression.organizationId = scope.scope.organizationId;
                organizationParticipantExpression.organizationName = scope.scope.organizationName;
                organizationParticipantExpression.includeChildren = scope.scope.includeChildren;
                organizationParticipantExpression.tag = scope.scope.tag;
                userActivity.dynamicParticipants.push(organizationParticipantExpression);
            }
            else {
                /** @type {?} */
                const performerInfo = (/** @type {?} */ (scope.scope.participantInfo));
                if (performerInfo.isAllScope && performerInfo.potentialOwnerList && performerInfo.potentialOwnerList.length > 0) {
                    for (const potentialOwner of performerInfo.potentialOwnerList) {
                        switch (potentialOwner.type ? potentialOwner.type : ((potentialOwner instanceof ParticipantExpression) ? potentialOwner.ClrTypeID : null)) {
                            case UserParticipantExpression.Clr_Type_ID:
                                this.addUserParticipant(userActivity, potentialOwner instanceof ParticipantExpression ? potentialOwner : (/** @type {?} */ (potentialOwner)), 'potentialOwner', ActionScope.AddSignBehind);
                                break;
                            case VariableParticipantExpression.Clr_Type_ID:
                                this.addVariableParticipant(userActivity, potentialOwner instanceof ParticipantExpression ? potentialOwner : (/** @type {?} */ (potentialOwner)), 'potentialOwner', ActionScope.AddSignBehind);
                                break;
                            case PositionParticipantExpression.Clr_Type_ID:
                                this.addPositionParticipant(userActivity, potentialOwner instanceof ParticipantExpression ? potentialOwner : (/** @type {?} */ (potentialOwner)), 'potentialOwner', ActionScope.AddSignBehind);
                                break;
                            case ComponentParticipantExpression.Clr_Type_ID:
                                this.addComponentParticipant(userActivity, potentialOwner instanceof ParticipantExpression ? potentialOwner : (/** @type {?} */ (potentialOwner)), 'potentialOwner', ActionScope.AddSignBehind);
                                break;
                            case ReportingLineParticipantExpression.Clr_Type_ID:
                                this.addReportingLineParticipant(userActivity, potentialOwner instanceof ParticipantExpression ? potentialOwner : (/** @type {?} */ (potentialOwner)), 'potentialOwner', ActionScope.AddSignBehind);
                                break;
                            case ActivityExecutorParticipantExpression.Clr_Type_ID:
                                this.addActivityExecutorParticipant(userActivity, potentialOwner instanceof ParticipantExpression ? potentialOwner : (/** @type {?} */ (potentialOwner)), 'potentialOwner', ActionScope.AddSignBehind);
                                break;
                            case MatrixParticipantExpression.Clr_Type_ID:
                                this.addMatrixParticipant(userActivity, potentialOwner instanceof ParticipantExpression ? potentialOwner : (/** @type {?} */ (potentialOwner)), 'potentialOwner', ActionScope.AddSignBehind);
                                break;
                            case OrganizationParticipantExpression.Clr_Type_ID:
                                this.addOrganizationParticipant(userActivity, potentialOwner instanceof ParticipantExpression ? potentialOwner : (/** @type {?} */ (potentialOwner)), 'potentialOwner', ActionScope.AddSignBehind);
                                break;
                        }
                    }
                }
            }
        }
    }
    /**
     * @param {?} userActivity
     * @param {?} obj
     * @return {?}
     */
    updateNotifySet(userActivity, obj) {
        /** @type {?} */
        const scope = (/** @type {?} */ (obj.propertyValue));
        userActivity.dynamicParticipants = userActivity.dynamicParticipants.filter((/**
         * @param {?} p
         * @return {?}
         */
        p => ((/** @type {?} */ (p))).actionScope !== ActionScope.Notify));
        userActivity.NotifyAble = scope.enable;
        if (scope.scope) {
            if (scope.scope.organizationLevel) {
                /** @type {?} */
                const organizationParticipantExpression = new OrganizationParticipantExpression(userActivity.Model);
                organizationParticipantExpression.id = BpmnModelHelper.GenerateElementId();
                organizationParticipantExpression.actionScope = ActionScope.Notify;
                organizationParticipantExpression.organizationLevel = (/** @type {?} */ (scope.scope.organizationLevel));
                organizationParticipantExpression.organizationId = scope.scope.organizationId;
                organizationParticipantExpression.organizationName = scope.scope.organizationName;
                organizationParticipantExpression.includeChildren = scope.scope.includeChildren;
                organizationParticipantExpression.tag = scope.scope.tag;
                userActivity.dynamicParticipants.push(organizationParticipantExpression);
            }
            else {
                /** @type {?} */
                const performerInfo = (/** @type {?} */ (scope.scope.participantInfo));
                if (performerInfo.isAllScope && performerInfo.potentialOwnerList && performerInfo.potentialOwnerList.length > 0) {
                    for (const potentialOwner of performerInfo.potentialOwnerList) {
                        switch (potentialOwner.type ? potentialOwner.type : ((potentialOwner instanceof ParticipantExpression) ? potentialOwner.ClrTypeID : null)) {
                            case UserParticipantExpression.Clr_Type_ID:
                                this.addUserParticipant(userActivity, potentialOwner instanceof ParticipantExpression ? potentialOwner : (/** @type {?} */ (potentialOwner)), 'potentialOwner', ActionScope.Notify);
                                break;
                            case VariableParticipantExpression.Clr_Type_ID:
                                this.addVariableParticipant(userActivity, potentialOwner instanceof ParticipantExpression ? potentialOwner : (/** @type {?} */ (potentialOwner)), 'potentialOwner', ActionScope.Notify);
                                break;
                            case PositionParticipantExpression.Clr_Type_ID:
                                this.addPositionParticipant(userActivity, potentialOwner instanceof ParticipantExpression ? potentialOwner : (/** @type {?} */ (potentialOwner)), 'potentialOwner', ActionScope.Notify);
                                break;
                            case ComponentParticipantExpression.Clr_Type_ID:
                                this.addComponentParticipant(userActivity, potentialOwner instanceof ParticipantExpression ? potentialOwner : (/** @type {?} */ (potentialOwner)), 'potentialOwner', ActionScope.Notify);
                                break;
                            case ReportingLineParticipantExpression.Clr_Type_ID:
                                this.addReportingLineParticipant(userActivity, potentialOwner instanceof ParticipantExpression ? potentialOwner : (/** @type {?} */ (potentialOwner)), 'potentialOwner', ActionScope.Notify);
                                break;
                            case ActivityExecutorParticipantExpression.Clr_Type_ID:
                                this.addActivityExecutorParticipant(userActivity, potentialOwner instanceof ParticipantExpression ? potentialOwner : (/** @type {?} */ (potentialOwner)), 'potentialOwner', ActionScope.Notify);
                                break;
                            case MatrixParticipantExpression.Clr_Type_ID:
                                this.addMatrixParticipant(userActivity, potentialOwner instanceof ParticipantExpression ? potentialOwner : (/** @type {?} */ (potentialOwner)), 'potentialOwner', ActionScope.Notify);
                                break;
                            case OrganizationParticipantExpression.Clr_Type_ID:
                                this.addOrganizationParticipant(userActivity, potentialOwner instanceof ParticipantExpression ? potentialOwner : (/** @type {?} */ (potentialOwner)), 'potentialOwner', ActionScope.Notify);
                                break;
                        }
                    }
                }
            }
        }
    }
    /**
     * @param {?} userActivity
     * @param {?} obj
     * @return {?}
     */
    updateTransferScope(userActivity, obj) {
        /** @type {?} */
        const scope = (/** @type {?} */ (obj.propertyValue));
        userActivity.dynamicParticipants = userActivity.dynamicParticipants.filter((/**
         * @param {?} p
         * @return {?}
         */
        p => ((/** @type {?} */ (p))).actionScope !== ActionScope.Transfer));
        userActivity.transferAble = scope.enable;
        if (scope.scope) {
            if (scope.scope.organizationLevel) {
                /** @type {?} */
                const organizationParticipantExpression = new OrganizationParticipantExpression(userActivity.Model);
                organizationParticipantExpression.id = BpmnModelHelper.GenerateElementId();
                organizationParticipantExpression.actionScope = ActionScope.Transfer;
                organizationParticipantExpression.organizationLevel = (/** @type {?} */ (scope.scope.organizationLevel));
                organizationParticipantExpression.organizationId = scope.scope.organizationId;
                organizationParticipantExpression.organizationName = scope.scope.organizationName;
                organizationParticipantExpression.includeChildren = scope.scope.includeChildren;
                organizationParticipantExpression.tag = scope.scope.tag;
                userActivity.dynamicParticipants.push(organizationParticipantExpression);
            }
            else {
                /** @type {?} */
                const performerInfo = (/** @type {?} */ (scope.scope.participantInfo));
                if (performerInfo.isAllScope && performerInfo.potentialOwnerList && performerInfo.potentialOwnerList.length > 0) {
                    for (const potentialOwner of performerInfo.potentialOwnerList) {
                        switch (potentialOwner.type ? potentialOwner.type : ((potentialOwner instanceof ParticipantExpression) ? potentialOwner.ClrTypeID : null)) {
                            case UserParticipantExpression.Clr_Type_ID:
                                this.addUserParticipant(userActivity, potentialOwner instanceof ParticipantExpression ? potentialOwner : (/** @type {?} */ (potentialOwner)), 'potentialOwner', ActionScope.Transfer);
                                break;
                            case VariableParticipantExpression.Clr_Type_ID:
                                this.addVariableParticipant(userActivity, potentialOwner instanceof ParticipantExpression ? potentialOwner : (/** @type {?} */ (potentialOwner)), 'potentialOwner', ActionScope.Transfer);
                                break;
                            case PositionParticipantExpression.Clr_Type_ID:
                                this.addPositionParticipant(userActivity, potentialOwner instanceof ParticipantExpression ? potentialOwner : (/** @type {?} */ (potentialOwner)), 'potentialOwner', ActionScope.Transfer);
                                break;
                            case ComponentParticipantExpression.Clr_Type_ID:
                                this.addComponentParticipant(userActivity, potentialOwner instanceof ParticipantExpression ? potentialOwner : (/** @type {?} */ (potentialOwner)), 'potentialOwner', ActionScope.Transfer);
                                break;
                            case ReportingLineParticipantExpression.Clr_Type_ID:
                                this.addReportingLineParticipant(userActivity, potentialOwner instanceof ParticipantExpression ? potentialOwner : (/** @type {?} */ (potentialOwner)), 'potentialOwner', ActionScope.Transfer);
                                break;
                            case ActivityExecutorParticipantExpression.Clr_Type_ID:
                                this.addActivityExecutorParticipant(userActivity, potentialOwner instanceof ParticipantExpression ? potentialOwner : (/** @type {?} */ (potentialOwner)), 'potentialOwner', ActionScope.Transfer);
                                break;
                            case MatrixParticipantExpression.Clr_Type_ID:
                                this.addMatrixParticipant(userActivity, potentialOwner instanceof ParticipantExpression ? potentialOwner : (/** @type {?} */ (potentialOwner)), 'potentialOwner', ActionScope.Transfer);
                                break;
                            case OrganizationParticipantExpression.Clr_Type_ID:
                                this.addOrganizationParticipant(userActivity, potentialOwner instanceof ParticipantExpression ? potentialOwner : (/** @type {?} */ (potentialOwner)), 'potentialOwner', ActionScope.Transfer);
                                break;
                        }
                    }
                }
            }
        }
    }
    /**
     * @param {?} userActivity
     * @param {?} obj
     * @return {?}
     */
    updateTimeLimitControl(userActivity, obj) {
        /** @type {?} */
        const timeLimitInfo = (/** @type {?} */ (obj.propertyValue));
        userActivity.timeLimitControl = null;
        if (timeLimitInfo) {
            /** @type {?} */
            const control = new TimeLimitControl(userActivity.Model);
            control.enable = timeLimitInfo.enable;
            control.tag = timeLimitInfo.tag;
            control.dueTime = timeLimitInfo.dueTime;
            control.timeUnit = timeLimitInfo.timeUnit;
            control.expireOperations = new Array();
            if (timeLimitInfo.expireOperations && timeLimitInfo.expireOperations.length > 0) {
                for (const o of timeLimitInfo.expireOperations) {
                    if (o.operationTypeName === 'SendMessageExpireOperation' || !o.operationTypeName) {
                        /** @type {?} */
                        const entity = (/** @type {?} */ (o));
                        /** @type {?} */
                        const sendMessage = new SendMessageExpireOperation(userActivity.Model);
                        sendMessage.id = BpmnModelHelper.GenerateElementId();
                        sendMessage.durationType = (/** @type {?} */ (entity.durationType));
                        sendMessage.timeDuration = entity.timeDuration;
                        sendMessage.timeUnit = entity.timeUnit;
                        sendMessage.message = entity.message;
                        sendMessage.subject = entity.subject;
                        sendMessage.sendType = entity.sendType;
                        sendMessage.receiver = entity.receiver;
                        sendMessage.cycleEnable = entity.cycleEnable;
                        sendMessage.cycleTime = entity.cycleTime;
                        sendMessage.cycleTimeUnit = entity.cycleTimeUnit;
                        sendMessage.operationTypeName = entity.operationTypeName ? entity.operationTypeName : 'SendMessageExpireOperation';
                        if (entity.smsMessageTemplate) {
                            /** @type {?} */
                            const smsMessageTemplate = new SmsMessageTemplate(userActivity.Model);
                            smsMessageTemplate.code = entity.smsMessageTemplate.code;
                            smsMessageTemplate.content = entity.smsMessageTemplate.content;
                            smsMessageTemplate.smsMessageVariables = new Array();
                            if (entity.smsMessageTemplate.smsMessageVariables && entity.smsMessageTemplate.smsMessageVariables.length > 0) {
                                for (const v of entity.smsMessageTemplate.smsMessageVariables) {
                                    /** @type {?} */
                                    const variable = new SmsMessageVariable(userActivity.Model);
                                    variable.code = v.code;
                                    variable.value = v.value;
                                    variable.tag = v.tag;
                                    smsMessageTemplate.smsMessageVariables.push(variable);
                                }
                            }
                            sendMessage.smsMessageTemplate = smsMessageTemplate;
                        }
                        control.expireOperations.push(sendMessage);
                    }
                    else if (o.operationTypeName === 'AutoHandleExpireOperation') {
                        /** @type {?} */
                        const operation = (/** @type {?} */ (o));
                        /** @type {?} */
                        const autoHandle = new AutoHandleExpireOperation(userActivity.Model);
                        autoHandle.id = o.id;
                        autoHandle.durationType = operation.durationType;
                        autoHandle.timeDuration = operation.timeDuration;
                        autoHandle.timeUnit = operation.timeUnit;
                        autoHandle.operationTypeName = operation.operationTypeName ? operation.operationTypeName : 'AutoHandleExpireOperation';
                        autoHandle.autoHandleType = operation.autoHandleType;
                        autoHandle.message = operation.message;
                        control.expireOperations.push(autoHandle);
                    }
                }
            }
            userActivity.timeLimitControl = control;
        }
    }
    /**
     * @param {?} userActivity
     * @param {?} obj
     * @return {?}
     */
    updateAnonymousSet(userActivity, obj) {
        /** @type {?} */
        const anonymousSet = obj.propertyValue;
        if (anonymousSet) {
            userActivity.anonymous = anonymousSet.isAnonymity;
            userActivity.anonymousText = anonymousSet.anonymous;
        }
    }
    /**
     * @param {?} userActivity
     * @param {?} obj
     * @return {?}
     */
    updateCustomizeActions(userActivity, obj) {
        /** @type {?} */
        let actions = (/** @type {?} */ (obj.propertyValue));
        userActivity.customizeActions = new Array();
        if (actions && actions.length > 0) {
            for (let a of actions) {
                /** @type {?} */
                let action = new CustomizeAction(userActivity.Model);
                action.id = BpmnModelHelper.GenerateElementId();
                action.code = a.code;
                action.name = a.name;
                action.terminalType = a.terminalType;
                action.actualParameters = [];
                if (a.actualParameters && a.actualParameters.length > 0) {
                    for (let p of a.actualParameters) {
                        /** @type {?} */
                        let parameter = new ActualParameter(userActivity.Model, p.Name, p.Value, p.ValueText, p.Tag || 'expression');
                        action.actualParameters.push(parameter);
                    }
                }
                userActivity.customizeActions.push(action);
            }
        }
    }
    /**
     * @param {?} userActivity
     * @param {?} obj
     * @return {?}
     */
    updateVariableSettings(userActivity, obj) {
        /** @type {?} */
        const bpmnModel = userActivity.Model;
        /** @type {?} */
        const extendElements = bpmnModel.DefaultProcess.GetExtensionElements();
        if (userActivity.variableSettings && userActivity.variableSettings.length > 0) {
            for (const v of userActivity.variableSettings) {
                if (v.tag === 'component') {
                    /** @type {?} */
                    const i = extendElements.findIndex((/**
                     * @param {?} e
                     * @return {?}
                     */
                    e => (e instanceof Component && e.Id === v.value)));
                    extendElements.splice(i, 1);
                }
            }
        }
        userActivity.variableSettings = new Array();
        /** @type {?} */
        const variables = (/** @type {?} */ (obj.propertyValue));
        if (variables && variables.length > 0) {
            for (const v of variables) {
                /** @type {?} */
                const variableSetting = new VariableSetting(bpmnModel);
                variableSetting.variableCode = v.variableCode;
                variableSetting.variableName = v.variableName;
                variableSetting.tag = v.tag;
                variableSetting.executionTime = v.executionTime;
                variableSetting.value = v.value;
                variableSetting.valueText = v.valueText;
                userActivity.variableSettings.push(variableSetting);
                if (variableSetting.tag === 'component') {
                    /** @type {?} */
                    const c = v.component;
                    if (c) {
                        /** @type {?} */
                        let cpt = new Component(bpmnModel);
                        cpt.MetadataId = c.MetadataId;
                        cpt.MethodCode = c.MethodCode;
                        cpt.Id = c.Id;
                        cpt.Name = c.Name;
                        cpt.ActualParameters = new Array();
                        if (c.ActualParameters && c.ActualParameters.length > 0) {
                            for (let a of c.ActualParameters) {
                                /** @type {?} */
                                let parameter = new ActualParameter(bpmnModel, a.Name, a.Value);
                                parameter.Tag = a.Tag;
                                cpt.ActualParameters.push(parameter);
                            }
                        }
                        extendElements.push(cpt);
                    }
                }
            }
        }
    }
    /**
     * @param {?} userActivity
     * @param {?} obj
     * @return {?}
     */
    updateImageSettings(userActivity, obj) {
        /** @type {?} */
        let Settings = (/** @type {?} */ (obj.propertyValue));
        if (userActivity.imageSettings) {
            userActivity.imageSettings = new ImageSettings(userActivity.Model);
        }
        if (Settings && Settings.imageOperation) {
            /** @type {?} */
            const imageSettings = new ImageSettings(userActivity.Model);
            imageSettings.imageOperation = Settings.imageOperation;
            userActivity.imageSettings = imageSettings;
        }
    }
    /**
     * @param {?} userActivity
     * @param {?} obj
     * @param {?=} isOperation
     * @return {?}
     */
    updateCheckConditions(userActivity, obj, isOperation = false) {
        /** @type {?} */
        const checkConditions = (/** @type {?} */ (obj.propertyValue));
        userActivity.checkConditions = new Array();
        for (const c of checkConditions) {
            if (c.value) {
                /** @type {?} */
                const condition = new CheckCondition(userActivity.Model);
                condition.value = c.value;
                condition.checkTime = c.checkTime;
                condition.errorTips = new Map();
                if (c.errorTips) {
                    for (let key in c.errorTips) {
                        condition.errorTips.set(key, c.errorTips[key]);
                    }
                }
                userActivity.checkConditions.push(condition);
            }
        }
    }
    /**
     * @param {?} userActivity
     * @param {?} obj
     * @return {?}
     */
    updateOtherAssignNodes(userActivity, obj) {
        /** @type {?} */
        const data = obj.propertyValue;
        if (data) {
            // const otherAssignNodes = new OtherAssignNodes(userActivity.Model);
            // otherAssignNodes.otherAssignActivities = new Array();
            // userActivity.otherAssignNodes = otherAssignNodes;
            userActivity.otherAssignNodes = new OtherAssignNodes(userActivity.Model);
        }
        else {
            userActivity.otherAssignNodes = null;
        }
    }
    /**
     * @param {?} userActivity
     * @param {?} obj
     * @return {?}
     */
    updateOtherAssignActivities(userActivity, obj) {
        /** @type {?} */
        const data = obj.propertyValue;
        if (data && data.length > 0) {
            if (typeof data[0] === "string") {
                userActivity.otherAssignNodes.otherAssignActivityNodeInfos = new Array();
                data.forEach((/**
                 * @param {?} d
                 * @return {?}
                 */
                d => {
                    /** @type {?} */
                    let other = new OtherAssignActivityNodeInfo(userActivity.Model);
                    other.activityDefinitionId = d;
                    other.required = false;
                    other.condition = new Condition(userActivity.Model);
                    userActivity.otherAssignNodes.otherAssignActivityNodeInfos.push(other);
                }));
            }
            else {
                userActivity.otherAssignNodes.otherAssignActivityNodeInfos = new Array();
                data.forEach((/**
                 * @param {?} d
                 * @return {?}
                 */
                d => {
                    /** @type {?} */
                    let other = new OtherAssignActivityNodeInfo(userActivity.Model);
                    other.activityDefinitionId = d.activityDefinitionId;
                    other.required = d.required;
                    other.condition = new Condition(userActivity.Model);
                    other.condition.Value = d.condition.Value;
                    userActivity.otherAssignNodes.otherAssignActivityNodeInfos.push(other);
                }));
            }
            // userActivity.otherAssignNodes.otherAssignActivities = [...data];
        }
        else {
            userActivity.otherAssignNodes.otherAssignActivityNodeInfos = new Array();
        }
    }
    /**
     * @param {?} userActivity
     * @param {?} obj
     * @return {?}
     */
    updateMessageNotices(userActivity, obj) {
        /** @type {?} */
        let notices = (/** @type {?} */ (obj.propertyValue));
        userActivity.messageNotices = new Array();
        if (notices && notices.length > 0) {
            for (let n of notices) {
                /** @type {?} */
                const messageNotice = new MessageNotice(userActivity.Model);
                messageNotice.sendType = n.sendType;
                messageNotice.sendTime = n.sendTime;
                messageNotice.subject = n.subject;
                messageNotice.content = n.content;
                n.receivers = n.receivers.filter((/**
                 * @param {?} r
                 * @return {?}
                 */
                (r) => r.type));
                if (n.receivers && n.receivers.length > 0) {
                    /** @type {?} */
                    const receivers = n.receivers.filter((/**
                     * @param {?} r
                     * @return {?}
                     */
                    (r) => r.type === 'userParticipant'
                        || (r.type === 'processParticipant' && r.processParticipant !== 'activityExecutorParticipant')));
                    /** @type {?} */
                    const participants = n.receivers.filter((/**
                     * @param {?} r
                     * @return {?}
                     */
                    (r) => r.type === 'variableParticipant' || r.type === 'positionParticipant'
                        || (r.type === 'processParticipant' && r.processParticipant === 'activityExecutorParticipant')));
                    if (receivers && receivers.length > 0) {
                        /** @type {?} */
                        let receiver = '';
                        /** @type {?} */
                        let receiverName = '';
                        for (const r of receivers) {
                            if (r.type === 'processParticipant') {
                                receiver += (r.processParticipant + ',');
                                if (r.processParticipant === 'procInstCreator') {
                                    receiverName += '流程发起人,';
                                }
                                else if (r.processParticipant === 'workItemParticipant') {
                                    receiverName += '任务接收人,';
                                }
                            }
                            else if (r.type === 'userParticipant') {
                                receiver += (r.userIds + ',');
                                receiverName += (r.userNames + ',');
                            }
                        }
                        if (receiver) {
                            receiver = receiver.substring(0, receiver.length - 1);
                        }
                        if (receiverName) {
                            receiverName = receiverName.substring(0, receiverName.length - 1);
                        }
                        messageNotice.receiver = receiver;
                        messageNotice.receiverText = receiverName;
                    }
                    if (participants && participants.length > 0) {
                        /** @type {?} */
                        const receiverExpressions = new Array();
                        for (const p of participants) {
                            if (p.type === 'processParticipant') {
                                /** @type {?} */
                                let activityExecutor = new ActivityExecutorParticipantExpression(userActivity.Model);
                                activityExecutor.id = BpmnModelHelper.GenerateElementId();
                                activityExecutor.activityDefId = p.activityDefId;
                                activityExecutor.activityDefName = p.activityDefName;
                                receiverExpressions.push(activityExecutor);
                            }
                            if (p.type === 'variableParticipant') {
                                /** @type {?} */
                                let variableParticipant = new UserParticipantExpression(userActivity.Model, p.variableParticipant, p.variableName, p.orgType);
                                variableParticipant.id = BpmnModelHelper.GenerateElementId();
                                variableParticipant.Tag = 'expression';
                                variableParticipant.OrgType = p.orgType;
                                receiverExpressions.push(variableParticipant);
                            }
                            if (p.type === 'positionParticipant') {
                                /** @type {?} */
                                let posiParticipant = new PositionParticipantExpression(userActivity.Model, p.positionId, p.positionName);
                                posiParticipant.id = BpmnModelHelper.GenerateElementId();
                                posiParticipant.PositionType = p.positionType;
                                if (p.positionType === '1') {
                                    posiParticipant.OrgId = p.orgId;
                                    posiParticipant.OrgType = p.orgType;
                                }
                                receiverExpressions.push(posiParticipant);
                            }
                        }
                        messageNotice.receiverExpressions = receiverExpressions;
                    }
                }
                if (n.smsMessageTemplate) {
                    /** @type {?} */
                    const smsMessageTemplate = new SmsMessageTemplate(userActivity.Model);
                    smsMessageTemplate.code = n.smsMessageTemplate.code;
                    smsMessageTemplate.content = n.smsMessageTemplate.content;
                    smsMessageTemplate.smsMessageVariables = new Array();
                    if (n.smsMessageTemplate.smsMessageVariables && n.smsMessageTemplate.smsMessageVariables.length > 0) {
                        for (const v of n.smsMessageTemplate.smsMessageVariables) {
                            /** @type {?} */
                            const variable = new SmsMessageVariable(userActivity.Model);
                            variable.code = v.code;
                            variable.value = v.value;
                            variable.tag = v.tag;
                            smsMessageTemplate.smsMessageVariables.push(variable);
                        }
                    }
                    messageNotice.smsMessageTemplate = smsMessageTemplate;
                }
                userActivity.messageNotices.push(messageNotice);
            }
        }
    }
    /**
     * @param {?} userActivity
     * @param {?} obj
     * @return {?}
     */
    updateApprovalPivotConfig(userActivity, obj) {
        /** @type {?} */
        let config = obj.propertyValue;
        /** @type {?} */
        const approvalPivotConfig = new ApprovalPivotConfig(userActivity.Model);
        approvalPivotConfig.enable = config.enable;
        approvalPivotConfig.expand = config.expand;
        approvalPivotConfig.title = config.title;
        approvalPivotConfig.approvalPivots = new Array();
        if (config.approvalPivots && config.approvalPivots.length > 0) {
            for (const a of config.approvalPivots) {
                /** @type {?} */
                const approvalPivot = new ApprovalPivot(userActivity.Model);
                approvalPivot.type = a.type;
                approvalPivot.title = a.title;
                approvalPivot.description = a.description;
                if (a.condition) {
                    /** @type {?} */
                    const condition = new Condition(userActivity.Model);
                    condition.Value = a.condition;
                    approvalPivot.condition = condition;
                }
                approvalPivotConfig.approvalPivots.push(approvalPivot);
            }
        }
        userActivity.approvalPivotConfig = approvalPivotConfig;
    }
    /**
     * @param {?} userActivity
     * @param {?} obj
     * @return {?}
     */
    updateUrgeHandleRule(userActivity, obj) {
        /** @type {?} */
        const rule = obj.propertyValue;
        /** @type {?} */
        const urgeHandleRule = new UrgeHandleRule(userActivity.Model);
        urgeHandleRule.urgeHandleAble = rule.urgeHandleAble;
        urgeHandleRule.sendType = rule.sendType;
        urgeHandleRule.earlyTime = rule.earlyTime;
        urgeHandleRule.intervalTime = rule.intervalTime;
        urgeHandleRule.urgeMessageSubject = rule.urgeMessageSubject;
        urgeHandleRule.urgeMessageContent = rule.urgeMessageContent;
        urgeHandleRule.addReminder = rule.addReminder;
        urgeHandleRule.subjectEditable = rule.subjectEditable;
        urgeHandleRule.contentEditable = rule.contentEditable;
        if (rule.smsMessageTemplate) {
            /** @type {?} */
            const smsMessageTemplate = new SmsMessageTemplate(userActivity.Model);
            smsMessageTemplate.code = rule.smsMessageTemplate.code;
            smsMessageTemplate.content = rule.smsMessageTemplate.content;
            smsMessageTemplate.smsMessageVariables = new Array();
            if (rule.smsMessageTemplate.smsMessageVariables && rule.smsMessageTemplate.smsMessageVariables.length > 0) {
                for (const v of rule.smsMessageTemplate.smsMessageVariables) {
                    /** @type {?} */
                    const variable = new SmsMessageVariable(userActivity.Model);
                    variable.code = v.code;
                    variable.value = v.value;
                    variable.tag = v.tag;
                    smsMessageTemplate.smsMessageVariables.push(variable);
                }
            }
            urgeHandleRule.smsMessageTemplate = smsMessageTemplate;
        }
        userActivity.urgeHandleRule = urgeHandleRule;
    }
    /**
     * 删除节点或参与者时，对应删除HumanResourceRoles
     * @param {?} ids
     * @return {?}
     */
    removeHumanResourceRoles(ids) {
        /** @type {?} */
        const bpmnModel = this.flowElement.Model;
        if (ids && ids.length > 0) {
            /** @type {?} */
            const userActivitys = bpmnModel.DefaultProcess.GetFlowElements();
            /** @type {?} */
            let perfIds = '';
            for (let key in userActivitys) {
                if (userActivitys[key] instanceof UserActivity) {
                    /** @type {?} */
                    const userAct = (/** @type {?} */ (userActivitys[key]));
                    if (userAct.ParticipantSchemes && userAct.ParticipantSchemes.length > 0 && userAct.ParticipantSchemes[0].Performers) {
                        perfIds += (userAct.ParticipantSchemes[0].Performers + ',');
                    }
                }
            }
            /** @type {?} */
            const removeIds = ids.filter((/**
             * @param {?} id
             * @return {?}
             */
            id => perfIds.indexOf(id) < 0));
            removeIds.forEach((/**
             * @param {?} reId
             * @return {?}
             */
            reId => {
                bpmnModel.DefaultProcess.RemoveResourceRole(reId);
            }));
        }
    }
    /**
     * 更新审批活动扩展属性
     * @param {?} userActivity
     * @param {?} obj
     * @return {?}
     */
    resetExtendProperty(userActivity, obj) {
        if (userActivity) {
            /** @type {?} */
            let attributes = (/** @type {?} */ (obj.propertyValue));
            if (!userActivity.extendProperties) {
                userActivity.extendProperties = new Array();
            }
            for (const o of obj.propertyValue) {
                /** @type {?} */
                const index = userActivity.extendProperties.findIndex((/**
                 * @param {?} e
                 * @return {?}
                 */
                e => e.key === o.code));
                if (index > -1) {
                    userActivity.extendProperties.splice(index, 1);
                }
            }
            if (attributes) {
                attributes.forEach((/**
                 * @param {?} a
                 * @return {?}
                 */
                (a) => {
                    /** @type {?} */
                    let item = new ExtendProperty(userActivity.Model);
                    item.key = a.code;
                    item.value = a.value;
                    userActivity.extendProperties.push(item);
                }));
            }
        }
    }
}
UserActivityCell.CLR_TYPE_ID = UserActivity.Clr_Type_ID;
if (false) {
    /** @type {?} */
    UserActivityCell.CLR_TYPE_ID;
    /** @type {?} */
    UserActivityCell.prototype.clrTypeId;
    /** @type {?} */
    UserActivityCell.prototype.name;
    /** @type {?} */
    UserActivityCell.prototype.nameLanguage;
    /** @type {?} */
    UserActivityCell.prototype.flowElement;
    /** @type {?} */
    UserActivityCell.prototype.editorUi;
    /** @type {?} */
    UserActivityCell.prototype.imgUrls;
    /** @type {?} */
    UserActivityCell.prototype.bizActivity;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiVXNlckFjdGl2aXR5Q2VsbC5qcyIsInNvdXJjZVJvb3QiOiJuZzovL0Bnc3Atd2Yvd2YtcHJvY2Vzcy1lZGl0b3IvIiwic291cmNlcyI6WyJsaWIvZGVzaWduZXIvd2YtY2VsbC9Vc2VyQWN0aXZpdHlDZWxsLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7QUFBQSxPQUFPLEVBQUUsUUFBUSxFQUFFLHFCQUFxQixFQUE0QixNQUFNLHNCQUFzQixDQUFDO0FBQ2pHLE9BQU8sRUFBYSxXQUFXLEVBQUUsTUFBTSxxQkFBcUIsQ0FBQztBQUM3RCxPQUFPLEVBQUUsZUFBZSxFQUFhLFVBQVUsRUFBRSxhQUFhLEVBQUUsZ0NBQWdDLEVBQUUsTUFBTSxxQkFBcUIsQ0FBQztBQUM5SCxPQUFPLEVBQWUsZ0JBQWdCLEVBQUUsWUFBWSxFQUFFLGlCQUFpQixFQUFFLGFBQWEsRUFBRSxjQUFjLEVBQUUsYUFBYSxFQUFFLG1CQUFtQixFQUFFLGFBQWEsRUFBRSxjQUFjLEVBQUUsZUFBZSxFQUFFLGVBQWUsRUFBZ0IsZ0JBQWdCLEVBQVEsZUFBZSxFQUFFLFNBQVMsRUFBRSxZQUFZLEVBQUUsZUFBZSxFQUFFLGtCQUFrQixFQUFFLHFCQUFxQixFQUFFLFNBQVMsRUFBRSxjQUFjLEVBQUUsbUJBQW1CLEVBQUUsY0FBYyxFQUFFLGVBQWUsRUFBRSxrQkFBa0IsRUFBRSxvQkFBb0IsRUFBRSwwQkFBMEIsRUFBRSw4QkFBOEIsRUFBRSx5QkFBeUIsRUFBRSw2QkFBNkIsRUFBRSxjQUFjLEVBQUUsYUFBYSxFQUFFLFdBQVcsRUFBRSxTQUFTLEVBQUUsV0FBVyxFQUFFLGtCQUFrQixFQUFFLGtCQUFrQixFQUFFLGlDQUFpQyxFQUFFLDZCQUE2QixFQUFFLDhCQUE4QixFQUFFLGtDQUFrQyxFQUFFLDJCQUEyQixFQUFFLHFCQUFxQixFQUFFLHFDQUFxQyxFQUFFLHlCQUF5QixFQUFFLDZCQUE2QixFQUFFLGVBQWUsRUFBMkIsa0JBQWtCLEVBQUUsa0JBQWtCLEVBQUUsMkJBQTJC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d0NBSUE7O0lBRUEsdUNBQTBCOztJQUMxQixvQ0FBcUI7O0lBRXJCLG1DQUdFOztJQUVGLHVDQUF5QiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5vZGVDZWxsLCBFbGVtZW50UHJvcGVydHlDb25maWcsIEZhcnJpc1Byb3BDb25maWdXaXRoRGF0YSB9IGZyb20gXCJAZWRwLXBtZi9ncmFwaGVkaXRvclwiO1xyXG5pbXBvcnQgeyBNeEdyYXBoTlMsIG14UmVzb3VyY2VzIH0gZnJvbSBcIkBlZHAtcG1mL214Z3JhcGgtdHNcIjtcclxuaW1wb3J0IHsgQnBtbk1vZGVsSGVscGVyLCBCUE1OU2hhcGUsIEV4cHJlc3Npb24sIEZsb3dOb2RlU3RhdGUsIE11bHRpSW5zdGFuY2VMb29wQ2hhcmFjdGVyaXN0aWNzIH0gZnJvbSBcIkBlZHAtcG1mL2JwbW4tbW9kZWxcIjtcclxuaW1wb3J0IHsgQml6QWN0aXZpdHksIE90aGVyQXNzaWduTm9kZXMsIFVzZXJBY3Rpdml0eSwgT3BlcmF0aW9uQWN0aXZpdHksIFN0YXJ0QWN0aXZpdHksIFVyZ2VIYW5kbGVSdWxlLCBBcHByb3ZhbFBpdm90LCBBcHByb3ZhbFBpdm90Q29uZmlnLCBJbWFnZVNldHRpbmdzLCBDaGVja0NvbmRpdGlvbiwgVmFyaWFibGVTZXR0aW5nLCBDdXN0b21pemVBY3Rpb24sIER1cmF0aW9uVHlwZSwgVGltZUxpbWl0Q29udHJvbCwgVG9vbCwgVGl0bGVFeHByZXNzaW9uLCBKdW1wU2NvcGUsIEJhY2tXYXJkUnVsZSwgQ291bnRlclNpZ25SdWxlLCBQYXJ0aWNpcGFudFNldHRpbmcsIEFzc2lnblBlcmZvcm1lckNvbmZpZywgQ29tcG9uZW50LCBDb25jbHVzaW9uSXRlbSwgRXhlY3V0ZVdvcmtJdGVtTW9kZSwgV29ya0Zsb3dBY3Rpb24sIERpc3BsYXlUZXJtaW5hbCwgQXNzaWdubWVudFN0cmF0ZWd5LCBUaW1lTGltaXRDb250cm9sSW5mbywgU2VuZE1lc3NhZ2VFeHBpcmVPcGVyYXRpb24sIFNlbmRNZXNzYWdlRXhwaXJlT3BlcmF0aW9uSW5mbywgQXV0b0hhbmRsZUV4cGlyZU9wZXJhdGlvbiwgQXV0b0hhbmRsZUV4cGlyZU9wZXJhdGlvbkluZm8sIEV4dGVuZFByb3BlcnR5LCBNZXNzYWdlTm90aWNlLCBBY3Rpb25TY29wZSwgQ29uZGl0aW9uLCBFeGVjdXRlRm9ybSwgUG90ZW50aWFsT3duZXJJbXBsLCBIdW1hblBlcmZvcm1lckltcGwsIE9yZ2FuaXphdGlvblBhcnRpY2lwYW50RXhwcmVzc2lvbiwgVmFyaWFibGVQYXJ0aWNpcGFudEV4cHJlc3Npb24sIENvbXBvbmVudFBhcnRpY2lwYW50RXhwcmVzc2lvbiwgUmVwb3J0aW5nTGluZVBhcnRpY2lwYW50RXhwcmVzc2lvbiwgTWF0cml4UGFydGljaXBhbnRFeHByZXNzaW9uLCBQYXJ0aWNpcGFudEV4cHJlc3Npb24sIEFjdGl2aXR5RXhlY3V0b3JQYXJ0aWNpcGFudEV4cHJlc3Npb24sIFVzZXJQYXJ0aWNpcGFudEV4cHJlc3Npb24sIFBvc2l0aW9uUGFydGljaXBhbnRFeHByZXNzaW9uLCBBY3R1YWxQYXJhbWV0ZXIsIEFjdGlvbk9yZ2FuaXphdGlvblNjb3BlLCBTbXNNZXNzYWdlVGVtcGxhdGUsIFNtc01lc3NhZ2VWYXJpYWJsZSwgT3RoZXJBc3NpZ25BY3Rpdml0eU5vZGVJbmZvLCBPcmdhbml6YXRpb25MZXZlbCwgU2VtYW50aWNFeHByZXNzaW9ufSBmcm9tIFwiQGdzcC13Zi93Zi1wcm9jZXNzLW1vZGVsXCI7XHJcbmltcG9ydCB7IFByb3BlcnR5SGVscGVyIH0gZnJvbSBcIi4vUHJvcGVydHlIZWxwZXJcIjtcclxuaW1wb3J0IHsgV2ZFZGl0b3JVaSB9IGZyb20gXCIuLi9XZkVkaXRvclVpXCI7XHJcbmltcG9ydCB7IFVzZXJQYXJ0aWNpcGFudCB9IGZyb20gXCIuLi9lbnRpdHkvVXNlclBhcnRpY2lwYW50XCI7XHJcbmltcG9ydCB7IFBvc2l0aW9uUGFydGljaXBhbnQgfSBmcm9tIFwiLi4vZW50aXR5L1Bvc2l0aW9uUGFydGljaXBhbnRcIjtcclxuaW1wb3J0IHsgVmFyaWFibGVQZXJmb3JtZXIgfSBmcm9tIFwiLi4vZW50aXR5L1ZhcmlhYmxlUGVyZm9ybWVyXCI7XHJcbmltcG9ydCB7IENvbXBvbmVudFBhcnRpY2lwYW50IH0gZnJvbSBcIi4uL2VudGl0eS9Db21wb25lbnRQYXJ0aWNpcGFudFwiO1xyXG5pbXBvcnQgeyBSZXBvcnRpbmdMaW5lUGFydGljaXBhbnQgfSBmcm9tIFwiLi4vZW50aXR5L1JlcG9ydGluZ0xpbmVQYXJ0aWNpcGFudFwiO1xyXG5pbXBvcnQgeyBBY3Rpdml0eUV4ZWN1dG9yUGFydGljaXBhbnQgfSBmcm9tIFwiLi4vZW50aXR5L0FjdGl2aXR5RXhlY3V0b3JQYXJ0aWNpcGFudFwiO1xyXG5pbXBvcnQgeyBNYXRyaXhQYXJ0aWNpcGFudCB9IGZyb20gXCIuLi9lbnRpdHkvTWF0cml4UGFydGljaXBhbnRcIjtcclxuaW1wb3J0IHsgQXNzaWduQ29uZmlnIH0gZnJvbSBcIi4uL2VudGl0eS9Bc3NpZ25Db25maWdcIjtcclxuaW1wb3J0IHsgQXNzaWduU3RyYXRlZ3kgfSBmcm9tIFwiLi4vZW50aXR5L0Fzc2lnblN0cmF0ZWd5XCI7XHJcbmltcG9ydCB7IE9yZ2FuaXphdGlvblBhcnRpY2lwYW50IH0gZnJvbSBcIi4uL2VudGl0eS9Pcmdhbml6YXRpb25QYXJ0aWNpcGFudFwiO1xyXG5pbXBvcnQgeyBXZkNvbnN0YW50cyB9IGZyb20gXCIuLi9XZkNvbnN0YW50c1wiO1xyXG5pbXBvcnQgeyBVc2VyQWN0aXZpdHlQcm9wZXJ0eUtleXMgfSBmcm9tIFwiLi9wcm9wZXJ0eS1rZXlzL1VzZXJBY3Rpdml0eVByb3BlcnR5S2V5c1wiO1xyXG5pbXBvcnQgeyBXZkRlc2lnbmVyVXRpbHMgfSBmcm9tIFwiLi4vV2ZEZXNpZ25lclV0aWxzXCI7XHJcbmltcG9ydCB7IE1lc3NhZ2VyU2VydmljZSB9IGZyb20gJ0BmYXJyaXMvdWktbWVzc2FnZXInO1xyXG5pbXBvcnQgeyBBY3Rpb25Pcmdhbml6YXRpb25TY29wZURlc2lnbiwgT3JnYW5pemF0aW9uUG90ZW50aWFsT3duZXIgfSBmcm9tIFwiLi4vLi4vdmlld3Mvb3JnYW5pemF0aW9uLXBvdGVudGlhbC1vd25lci9hY3Rpb25Pcmdhbml6YXRpb25TY29wZVwiO1xyXG4vLyBpbXBvcnQgeyBQYXJ0aWNpcGFudEluZm8gfSBmcm9tIFwiLi4vLi4vdmlld3MvcGFydGljaXBhbnQvcGFydGljaXBhbnQuaW5mb1wiO1xyXG5pbXBvcnQgeyBQYXJ0aWNpcGFudCwgUGFydGljaXBhbnRJbmZvIH0gZnJvbSBcIi4uL2VudGl0eVwiO1xyXG5cclxuLyoqXHJcbiAqIOWuoeaJuea0u+WKqOiKgueCuVxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIFVzZXJBY3Rpdml0eUNlbGwgZXh0ZW5kcyBOb2RlQ2VsbCB7XHJcbiAgICBjbHJUeXBlSWQ6IHN0cmluZyA9IFVzZXJBY3Rpdml0eUNlbGwuQ0xSX1RZUEVfSUQ7XHJcbiAgICBuYW1lOiBzdHJpbmcgPSBcIuWuoeaJuVwiO1xyXG4gICAgbmFtZUxhbmd1YWdlOiB7IFtsYW5nOiBzdHJpbmddOiBzdHJpbmc7IH0gPSB7XHJcbiAgICAgIFwiemgtQ0hTXCI6IFwi5a6h5om5XCIsXHJcbiAgICAgIFwiemgtQ0hUXCI6IFwi5a+p5om5XCIsXHJcbiAgICAgIFwiZW5cIjogXCJBcHByb3ZlXCIsXHJcbiAgfTtcclxuICAgIHN0YXRpYyBDTFJfVFlQRV9JRDogc3RyaW5nID0gVXNlckFjdGl2aXR5LkNscl9UeXBlX0lEO1xyXG4gICAgZmxvd0VsZW1lbnQ6IFVzZXJBY3Rpdml0eTtcclxuICAgIGVkaXRvclVpOiBXZkVkaXRvclVpO1xyXG5cclxuICAgIGltZ1VybHMgPSB7XHJcbiAgICAgICAgW0Zsb3dOb2RlU3RhdGUuRGVmYXVsdF06IFdmQ29uc3RhbnRzLklNQUdFX1BBVEggKyBcIi9hcHByb3ZhbC5wbmdcIixcclxuICAgICAgICBbRmxvd05vZGVTdGF0ZS5TZWxlY3RlZF06IFdmQ29uc3RhbnRzLklNQUdFX1BBVEggKyBcIi9hcHByb3ZhbF9zZWxlY3Quc3ZnXCIsXHJcbiAgICB9O1xyXG5cclxuICAgIGJpekFjdGl2aXR5OiBCaXpBY3Rpdml0eTtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcih2YWx1ZT86IGFueSwgZ2VvbWV0cnk/OiBNeEdyYXBoTlMubXhHZW9tZXRyeSwgc3R5bGU/OiBzdHJpbmcpIHtcclxuICAgICAgICBzdXBlcih2YWx1ZSwgZ2VvbWV0cnksIHN0eWxlKTtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGVGbG93RWxlbWVudChmbG93RWx0PzogVXNlckFjdGl2aXR5KSB7XHJcbiAgICAgICAgY29uc3QgZmxvd05vZGUgPSBzdXBlci5jcmVhdGVGbG93RWxlbWVudChmbG93RWx0KSBhcyBVc2VyQWN0aXZpdHk7XHJcbiAgICAgICAgY29uc3QgZWRpdG9yVWkgPSB0aGlzLmVkaXRvclVpO1xyXG4gICAgICAgIGNvbnN0IGJwbW5Nb2RlbCA9IGVkaXRvclVpLmdyYXBoLmJwbW5Nb2RlbDtcclxuICAgICAgICBmbG93Tm9kZS5JZCA9IFwiVXNlckFjdGl2aXR5XCIgKyBCcG1uTW9kZWxIZWxwZXIuR2VuZXJhdGVFbGVtZW50SWQoKTtcclxuXHJcbiAgICAgICAgLy8g5Yib5bu66ICM6Z2e5aSN5Yi25pe25omn6KGMXHJcbiAgICAgICAgaWYgKGZsb3dFbHQgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICBmbG93Tm9kZS50cmFuc2ZlckFibGUgPSBlZGl0b3JVaS5nZW5lcmFsQ29uZmlnLmVuYWJsZVRyYW5zZmVyO1xyXG4gICAgICAgICAgICBmbG93Tm9kZS5BZGRTaWduQmVoaW5kQWJsZSA9IGVkaXRvclVpLmdlbmVyYWxDb25maWcuZW5hYmxlQWRkU2lnbkJlaGluZDtcclxuICAgICAgICAgICAgZmxvd05vZGUuQWRkU2lnbkZyb250QWJsZSA9IGVkaXRvclVpLmdlbmVyYWxDb25maWcuZW5hYmxlQWRkU2lnbkZyb250O1xyXG4gICAgICAgICAgICBmbG93Tm9kZS5Ob3RpZnlBYmxlID0gZWRpdG9yVWkuZ2VuZXJhbENvbmZpZy5lbmFibGVOb3RpZnk7XHJcblxyXG4gICAgICAgICAgICBpZiAodGhpcy5iaXpBY3Rpdml0eSkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgYml6QWN0aXZpdHkgPSB0aGlzLmJpekFjdGl2aXR5O1xyXG4gICAgICAgICAgICAgICAgZmxvd05vZGUuQml6QWN0aXZpdHlJRCA9IGJpekFjdGl2aXR5LmlkO1xyXG4gICAgICAgICAgICAgICAgZmxvd05vZGUuQml6QWN0aXZpdHlOYW1lID0gYml6QWN0aXZpdHkubmFtZTtcclxuICAgICAgICAgICAgICAgIGZsb3dOb2RlLlRvb2xzID0gW107XHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBjIG9mIGJpekFjdGl2aXR5LmJpekNvbXBvbmVudHMpIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgdG9vbCA9IG5ldyBDb21wb25lbnQoZmxvd05vZGUuTW9kZWwpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRvb2wuSWQgPSBjLmlkXHJcbiAgICAgICAgICAgICAgICAgICAgdG9vbC5OYW1lID0gYy5uYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgIHRvb2wuVGltZSA9IGMuZXhlY3V0aW9uVGltZTtcclxuICAgICAgICAgICAgICAgICAgICAvLyBUT0RPIOWGmeatu+S6huaehOS7tuexu+Wei1xyXG4gICAgICAgICAgICAgICAgICAgIHRvb2wuQ29tcG9uZW50VHlwZSA9ICdDb21tb25Db21wb25lbnQnO1xyXG4gICAgICAgICAgICAgICAgICAgIHRvb2wuTWV0YWRhdGFJZCA9IGMubWV0YWRhdGFJZDtcclxuICAgICAgICAgICAgICAgICAgICB0b29sLk1ldGhvZENvZGUgPSBjLm1ldGhvZENvZGU7XHJcbiAgICAgICAgICAgICAgICAgICAgdG9vbC5BY3R1YWxQYXJhbWV0ZXJzID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGMuYWN0dWFsUGFyYW1ldGVycyAmJiAoYy5hY3R1YWxQYXJhbWV0ZXJzIGFzIGFueVtdKS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGEgb2YgKGMuYWN0dWFsUGFyYW1ldGVycyBhcyBhbnlbXSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBwYXJhbWV0ZXIgPSBuZXcgQWN0dWFsUGFyYW1ldGVyKGJwbW5Nb2RlbCwgYS5jb2RlLCBhLnZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvb2wuQWN0dWFsUGFyYW1ldGVycy5wdXNoKHBhcmFtZXRlcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZmxvd05vZGUuVG9vbHMucHVzaCh0b29sKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGZsb3dOb2RlLnNldEJpekNvbmNsdXNpb25zKGJwbW5Nb2RlbCwgYml6QWN0aXZpdHkuYml6QWN0aW9ucyk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBmbG93Tm9kZS5CaXpBY3Rpdml0eUlEID0gXCJcIjtcclxuICAgICAgICAgICAgICAgIGZsb3dOb2RlLmluaXRDb25jbHVzaW9ucyhicG1uTW9kZWwpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gZmxvd05vZGU7XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlRGlhZ3JhbUVsZW1lbnQoKTogQlBNTlNoYXBlIHtcclxuICAgICAgICBpZiAodGhpcy5iaXpBY3Rpdml0eSAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaW1nVXJscyA9IHtcclxuICAgICAgICAgICAgICAgIFtGbG93Tm9kZVN0YXRlLkRlZmF1bHRdOiBXZkNvbnN0YW50cy5JTUFHRV9QQVRIICsgXCIvYml6QWN0aXZpdHkucG5nXCIsXHJcbiAgICAgICAgICAgICAgICBbRmxvd05vZGVTdGF0ZS5TZWxlY3RlZF06IFdmQ29uc3RhbnRzLklNQUdFX1BBVEggKyBcIi9iaXpBY3Rpdml0eV9zZWxlY3Quc3ZnXCIsXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBzaGFwZSA9IHN1cGVyLmNyZWF0ZURpYWdyYW1FbGVtZW50KCk7XHJcbiAgICAgICAgcmV0dXJuIHNoYXBlO1xyXG4gICAgfVxyXG5cclxuICAgIGdldEZhcnJpc1Byb3BDb25maWcoKTogRmFycmlzUHJvcENvbmZpZ1dpdGhEYXRhIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5nZXRGYXJyaXNQcm9wQ29uZmlnQnlJc09wZXJhdGlvbigpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldEZhcnJpc1Byb3BDb25maWdCeUlzT3BlcmF0aW9uKGlzT3BlcmF0aW9uOiBib29sZWFuID0gZmFsc2UpIHtcclxuICAgICAgICBjb25zdCBlZGl0b3JVaSA9IHRoaXMuZWRpdG9yVWk7XHJcbiAgICAgICAgbGV0IGV4dGVuZExpc3QgPSBbXTtcclxuICAgICAgICBpZiAoZWRpdG9yVWkucHJvY0V4dFByb3BzICYmIGVkaXRvclVpLnByb2NFeHRQcm9wcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIGV4dGVuZExpc3QgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGVkaXRvclVpLnByb2NFeHRQcm9wcykpLnNvcnQoKGEsIGIpID0+IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBhLnNvcnRPcmRlciAtIGIuc29ydE9yZGVyO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZXh0ZW5kTGlzdCA9IGV4dGVuZExpc3Quc29ydCgoYSwgYikgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gYS5zb3J0T3JkZXIgLSBiLnNvcnRPcmRlcjtcclxuICAgICAgICB9KVxyXG5cclxuICAgICAgICBsZXQgdXNlckFjdCA9IHRoaXMuZmxvd0VsZW1lbnQ7XHJcbiAgICAgICAgbGV0IGJhc2ljUHJvcGVydHk6IEVsZW1lbnRQcm9wZXJ0eUNvbmZpZyA9IG5ldyBFbGVtZW50UHJvcGVydHlDb25maWcoKTtcclxuICAgICAgICBsZXQgcHJvcGVydHlEYXRhOiBhbnkgPSB7fTtcclxuXHJcbiAgICAgICAgYmFzaWNQcm9wZXJ0eS5jYXRlZ29yeUlkID0gJ2Jhc2ljUHJvcGVydHknO1xyXG4gICAgICAgIGJhc2ljUHJvcGVydHkuY2F0ZWdvcnlOYW1lID0gbXhSZXNvdXJjZXMuZ2V0KCdiYXNpY0luZm9ybWF0aW9uJyk7XHJcbiAgICAgICAgYmFzaWNQcm9wZXJ0eS50YWJJZCA9ICdiYXNpYyc7XHJcbiAgICAgICAgYmFzaWNQcm9wZXJ0eS50YWJOYW1lID0gbXhSZXNvdXJjZXMuZ2V0KCdiYXNpY0F0dHJpYnV0ZXMnKVxyXG4gICAgICAgIGJhc2ljUHJvcGVydHkucHJvcGVydGllcyA9IFtcclxuICAgICAgICAgICAgeyBwcm9wZXJ0eUlEOiBVc2VyQWN0aXZpdHlQcm9wZXJ0eUtleXMuTmFtZSwgcHJvcGVydHlOYW1lOiBteFJlc291cmNlcy5nZXQoJ25hbWUnKSwgcHJvcGVydHlUeXBlOiAnc3RyaW5nJywgdmlzaWJsZTogIXRoaXMuZWRpdG9yVWkubXVsdGlMYW5nRW5hYmxlZCB9LFxyXG4gICAgICAgICAgICB7IHByb3BlcnR5SUQ6IFVzZXJBY3Rpdml0eVByb3BlcnR5S2V5cy5OYW1lTGFuZ3VhZ2UsIHByb3BlcnR5TmFtZTogbXhSZXNvdXJjZXMuZ2V0KCduYW1lTGFuZ3VhZ2UnKSwgcHJvcGVydHlUeXBlOiAnbXVsdGlMYW5ndWFnZScsIHZpc2libGU6IHRoaXMuZWRpdG9yVWkubXVsdGlMYW5nRW5hYmxlZCB9LFxyXG4gICAgICAgICAgICB7IHByb3BlcnR5SUQ6IFVzZXJBY3Rpdml0eVByb3BlcnR5S2V5cy5JZCwgcHJvcGVydHlOYW1lOiBteFJlc291cmNlcy5nZXQoJ2lkJyksIHByb3BlcnR5VHlwZTogJ3N0cmluZycsIHJlYWRvbmx5OiB0cnVlIH0sXHJcbiAgICAgICAgICAgIHsgcHJvcGVydHlJRDogVXNlckFjdGl2aXR5UHJvcGVydHlLZXlzLndmX1RpdGxlRXhwcmVzc2lvbiwgcHJvcGVydHlOYW1lOiBteFJlc291cmNlcy5nZXQoJ3dmVGl0bGVFeHByZXNzaW9uJyksIHByb3BlcnR5VHlwZTogJ21vZGFsJyB9LFxyXG4gICAgICAgIF07XHJcblxyXG4gICAgICAgIGxldCBwZXJmb3JtZXJQcm9wZXJ0eTogRWxlbWVudFByb3BlcnR5Q29uZmlnID0gbmV3IEVsZW1lbnRQcm9wZXJ0eUNvbmZpZygpO1xyXG4gICAgICAgIHBlcmZvcm1lclByb3BlcnR5LmNhdGVnb3J5SWQgPSAncGVyZm9ybWVyUHJvcGVydHknO1xyXG4gICAgICAgIHBlcmZvcm1lclByb3BlcnR5LmNhdGVnb3J5TmFtZSA9IG14UmVzb3VyY2VzLmdldCgncGFydGljaXBhbnQnKTtcclxuICAgICAgICBwZXJmb3JtZXJQcm9wZXJ0eS50YWJJZCA9ICdiYXNpYyc7XHJcbiAgICAgICAgcGVyZm9ybWVyUHJvcGVydHkudGFiTmFtZSA9IG14UmVzb3VyY2VzLmdldCgnYmFzaWNBdHRyaWJ1dGVzJylcclxuICAgICAgICBwZXJmb3JtZXJQcm9wZXJ0eS5wcm9wZXJ0aWVzID0gW1xyXG4gICAgICAgICAgICB7IHByb3BlcnR5SUQ6IFVzZXJBY3Rpdml0eVByb3BlcnR5S2V5cy5QYXJ0aWNpcGFudFNjaGVtZXMsIHByb3BlcnR5TmFtZTogbXhSZXNvdXJjZXMuZ2V0KCdwYXJ0aWNpcGFudFNjaGVtZXMnKSwgcHJvcGVydHlUeXBlOiAnbW9kYWwnIH0sXHJcbiAgICAgICAgICAgIHsgcHJvcGVydHlJRDogVXNlckFjdGl2aXR5UHJvcGVydHlLZXlzLlBhcnRpY2lwYW50T3B0aW9ucywgcHJvcGVydHlOYW1lOiBteFJlc291cmNlcy5nZXQoJ3BhcnRpY2lwYW50T3B0aW9ucycpLCBwcm9wZXJ0eVR5cGU6ICdtb2RhbCcgfSxcclxuICAgICAgICBdO1xyXG4gICAgICAgIC8vIGlmICh1c2VyQWN0LkFzc2lnbm1lbnRTdHJhdGVneSAhPT0gQXNzaWdubWVudFN0cmF0ZWd5LkFTU0lHTikge1xyXG4gICAgICAgIC8vICAgICBwZXJmb3JtZXJQcm9wZXJ0eS5wcm9wZXJ0aWVzLnB1c2goXHJcbiAgICAgICAgLy8gICAgICAgICB7IHByb3BlcnR5SUQ6IFVzZXJBY3Rpdml0eVByb3BlcnR5S2V5cy5Bc3NpZ25TdHJhdGVneSwgcHJvcGVydHlOYW1lOiAn5YiG6YWN562W55WlJywgcHJvcGVydHlUeXBlOiAnbW9kYWwnIH1cclxuICAgICAgICAvLyAgICAgKTtcclxuICAgICAgICAvLyB9IGVsc2Uge1xyXG4gICAgICAgIC8vICAgICBwZXJmb3JtZXJQcm9wZXJ0eS5wcm9wZXJ0aWVzID0gcGVyZm9ybWVyUHJvcGVydHkucHJvcGVydGllcy5jb25jYXQoXHJcbiAgICAgICAgLy8gICAgICAgICBbeyBwcm9wZXJ0eUlEOiBVc2VyQWN0aXZpdHlQcm9wZXJ0eUtleXMuQXNzaWduU3RyYXRlZ3ksIHByb3BlcnR5TmFtZTogJ+WIhumFjeetlueVpScsIHByb3BlcnR5VHlwZTogJ21vZGFsJyB9LFxyXG4gICAgICAgIC8vICAgICAgICAgeyBwcm9wZXJ0eUlEOiBVc2VyQWN0aXZpdHlQcm9wZXJ0eUtleXMuQXNzaWduUGVyZm9ybWVyLCBwcm9wZXJ0eU5hbWU6ICflpIfpgInlip7nkIbkuronLCBwcm9wZXJ0eVR5cGU6ICdtb2RhbCcgfV0pO1xyXG4gICAgICAgIC8vIH1cclxuICAgICAgICBpZiAoIWlzT3BlcmF0aW9uKSB7XHJcbiAgICAgICAgICAgIGlmICh1c2VyQWN0LkV4ZWN1dGVXb3JrSXRlbU1vZGUgPT09IEV4ZWN1dGVXb3JrSXRlbU1vZGUuUHJlZW1wdCkge1xyXG4gICAgICAgICAgICAgICAgcGVyZm9ybWVyUHJvcGVydHkucHJvcGVydGllcy5wdXNoKFxyXG4gICAgICAgICAgICAgICAgICAgIHsgcHJvcGVydHlJRDogVXNlckFjdGl2aXR5UHJvcGVydHlLZXlzLkNvbXBsZXRlU3RyYXRlZ3ksIHByb3BlcnR5TmFtZTogbXhSZXNvdXJjZXMuZ2V0KCdjb21wbGV0ZVN0cmF0ZWd5JyksIHByb3BlcnR5VHlwZTogJ3NlbGVjdCcgfSxcclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICBwcm9wZXJ0eURhdGFbVXNlckFjdGl2aXR5UHJvcGVydHlLZXlzLkNvbXBsZXRlU3RyYXRlZ3ldID0gdXNlckFjdC5FeGVjdXRlV29ya0l0ZW1Nb2RlO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcGVyZm9ybWVyUHJvcGVydHkucHJvcGVydGllcyA9IHBlcmZvcm1lclByb3BlcnR5LnByb3BlcnRpZXMuY29uY2F0KFtcclxuICAgICAgICAgICAgICAgICAgICB7IHByb3BlcnR5SUQ6IFVzZXJBY3Rpdml0eVByb3BlcnR5S2V5cy5Db21wbGV0ZVN0cmF0ZWd5LCBwcm9wZXJ0eU5hbWU6IG14UmVzb3VyY2VzLmdldCgnY29tcGxldGVTdHJhdGVneScpLCBwcm9wZXJ0eVR5cGU6ICdzZWxlY3QnIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgeyBwcm9wZXJ0eUlEOiBVc2VyQWN0aXZpdHlQcm9wZXJ0eUtleXMuU2lnblJ1bGUsIHByb3BlcnR5TmFtZTogbXhSZXNvdXJjZXMuZ2V0KCdzaWduUnVsZScpLCBwcm9wZXJ0eVR5cGU6ICdtb2RhbCcgfSxcclxuICAgICAgICAgICAgICAgIF0pO1xyXG4gICAgICAgICAgICAgICAgcHJvcGVydHlEYXRhW1VzZXJBY3Rpdml0eVByb3BlcnR5S2V5cy5Db21wbGV0ZVN0cmF0ZWd5XSA9IHVzZXJBY3QuRXhlY3V0ZVdvcmtJdGVtTW9kZTtcclxuICAgICAgICAgICAgICAgIHByb3BlcnR5RGF0YVtVc2VyQWN0aXZpdHlQcm9wZXJ0eUtleXMuU2lnblJ1bGVdID0gdXNlckFjdC5Db3VudGVyU2lnblJ1bGVzO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQgYXBwcm92YWxQcm9wZXJ0eTogRWxlbWVudFByb3BlcnR5Q29uZmlnID0gbmV3IEVsZW1lbnRQcm9wZXJ0eUNvbmZpZygpO1xyXG4gICAgICAgIGFwcHJvdmFsUHJvcGVydHkuY2F0ZWdvcnlJZCA9ICdhcHByb3ZhbFByb3BlcnR5JztcclxuICAgICAgICBhcHByb3ZhbFByb3BlcnR5LmNhdGVnb3J5TmFtZSA9IG14UmVzb3VyY2VzLmdldCgnb3BlcmF0aW9uc01hbmFnZScpO1xyXG4gICAgICAgIGFwcHJvdmFsUHJvcGVydHkudGFiSWQgPSAnYXBwcm92YWxQcm9wZXJ0eSc7XHJcbiAgICAgICAgYXBwcm92YWxQcm9wZXJ0eS50YWJOYW1lID0gbXhSZXNvdXJjZXMuZ2V0KCdvcGVyYXRpb25zQ29uZmlnJyk7XHJcbiAgICAgICAgYXBwcm92YWxQcm9wZXJ0eS5wcm9wZXJ0aWVzID0gW1xyXG4gICAgICAgICAgICB7IHByb3BlcnR5SUQ6IFVzZXJBY3Rpdml0eVByb3BlcnR5S2V5cy5BcHByb3ZhbEl0ZW1zLCBwcm9wZXJ0eU5hbWU6IG14UmVzb3VyY2VzLmdldCgnYXBwcm92YWxJdGVtcycpLCBwcm9wZXJ0eVR5cGU6ICdtb2RhbCcgfSxcclxuICAgICAgICAgICAgeyBwcm9wZXJ0eUlEOiBVc2VyQWN0aXZpdHlQcm9wZXJ0eUtleXMud2ZfQ3VzdG9taXplQWN0aW9uLCBwcm9wZXJ0eU5hbWU6IG14UmVzb3VyY2VzLmdldCgnd2ZDdXN0b21pemVBY3Rpb24nKSwgcHJvcGVydHlUeXBlOiAnbW9kYWwnIH0sXHJcbiAgICAgICAgXTtcclxuICAgICAgICAvLyDlrqHmibnmtLvliqjoioLngrnlkKvigJzpqbPlm57igJ3lrqHmibnliqjkvZzml7bvvIzlsZ7mgKfmoYbmlK/mjIHpqbPlm57op4TliJnlsZ7mgKdcclxuICAgICAgICBpZiAodXNlckFjdC5Db25jbHVzaW9ucyAmJiB0aGlzLmlzQmFja0NvbmNsdXNpb25FeGlzdCh1c2VyQWN0LkNvbmNsdXNpb25zKSkge1xyXG4gICAgICAgICAgICBhcHByb3ZhbFByb3BlcnR5LnByb3BlcnRpZXMucHVzaChcclxuICAgICAgICAgICAgICAgIHsgcHJvcGVydHlJRDogVXNlckFjdGl2aXR5UHJvcGVydHlLZXlzLkJhY2tXYXJkUnVsZSwgcHJvcGVydHlOYW1lOiBteFJlc291cmNlcy5nZXQoJ2JhY2tXYXJkUnVsZScpLCBwcm9wZXJ0eVR5cGU6ICdtb2RhbCcgfSxcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgcHJvcGVydHlEYXRhW1VzZXJBY3Rpdml0eVByb3BlcnR5S2V5cy5CYWNrV2FyZFJ1bGVdID0gdXNlckFjdC5CYWNrV2FyZFJ1bGU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGFwcHJvdmFsUHJvcGVydHkucHJvcGVydGllcyA9IGFwcHJvdmFsUHJvcGVydHkucHJvcGVydGllcy5jb25jYXQoW1xyXG4gICAgICAgICAgICB7IHByb3BlcnR5SUQ6IFVzZXJBY3Rpdml0eVByb3BlcnR5S2V5cy5SZXRyaWV2YWJsZSwgcHJvcGVydHlOYW1lOiBteFJlc291cmNlcy5nZXQoJ3JldHJpZXZhYmxlJyksIHByb3BlcnR5VHlwZTogJ3NlbGVjdCcgfSxcclxuICAgICAgICBdKTtcclxuICAgICAgICBpZiAoIWlzT3BlcmF0aW9uKSB7XHJcbiAgICAgICAgICAgIGFwcHJvdmFsUHJvcGVydHkucHJvcGVydGllcyA9IGFwcHJvdmFsUHJvcGVydHkucHJvcGVydGllcy5jb25jYXQoW1xyXG4gICAgICAgICAgICAgICAgeyBwcm9wZXJ0eUlEOiBVc2VyQWN0aXZpdHlQcm9wZXJ0eUtleXMuQWRkU2lnbkZyb250QWJsZSwgcHJvcGVydHlOYW1lOiBteFJlc291cmNlcy5nZXQoJ2FkZFNpZ25Gcm9udEFibGUnKSwgcHJvcGVydHlUeXBlOiAnbW9kYWwnIH0sXHJcbiAgICAgICAgICAgICAgICB7IHByb3BlcnR5SUQ6IFVzZXJBY3Rpdml0eVByb3BlcnR5S2V5cy5BZGRTaWduQmVoaW5kQWJsZSwgcHJvcGVydHlOYW1lOiBteFJlc291cmNlcy5nZXQoJ2FkZFNpZ25CZWhpbmRBYmxlJyksIHByb3BlcnR5VHlwZTogJ21vZGFsJyB9LFxyXG4gICAgICAgICAgICBdKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGVkaXRvclVpLmdlbmVyYWxDb25maWcuZW5hYmxlVHJhbnNmZXIpIHtcclxuICAgICAgICAgICAgYXBwcm92YWxQcm9wZXJ0eS5wcm9wZXJ0aWVzID0gYXBwcm92YWxQcm9wZXJ0eS5wcm9wZXJ0aWVzLmNvbmNhdChbXHJcbiAgICAgICAgICAgICAgICB7IHByb3BlcnR5SUQ6IFVzZXJBY3Rpdml0eVByb3BlcnR5S2V5cy50cmFuc2ZlclNjb3BlLCBwcm9wZXJ0eU5hbWU6IG14UmVzb3VyY2VzLmdldCgndHJhbnNmZXJTY29wZScpLCBwcm9wZXJ0eVR5cGU6ICdtb2RhbCcgfSxcclxuICAgICAgICAgICAgXSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGFwcHJvdmFsUHJvcGVydHkucHJvcGVydGllcyA9IGFwcHJvdmFsUHJvcGVydHkucHJvcGVydGllcy5jb25jYXQoW1xyXG4gICAgICAgICAgICB7IHByb3BlcnR5SUQ6IFVzZXJBY3Rpdml0eVByb3BlcnR5S2V5cy5Ob3RpZnlBYmxlLCBwcm9wZXJ0eU5hbWU6IG14UmVzb3VyY2VzLmdldCgnbm90aWZ5QWJsZScpLCBwcm9wZXJ0eVR5cGU6ICdtb2RhbCcgfSxcclxuICAgICAgICAgICAgeyBwcm9wZXJ0eUlEOiBVc2VyQWN0aXZpdHlQcm9wZXJ0eUtleXMudXJnZUhhbmRsZVJ1bGUsIHByb3BlcnR5TmFtZTogbXhSZXNvdXJjZXMuZ2V0KCd1cmdlSGFuZGxlUnVsZScpLCBwcm9wZXJ0eVR5cGU6ICdtb2RhbCcgfVxyXG4gICAgICAgIF0pO1xyXG4gICAgICAgIGlmICh1c2VyQWN0LlNlbGVjdFRhcmdldEFibGUpIHtcclxuICAgICAgICAgICAgYXBwcm92YWxQcm9wZXJ0eS5wcm9wZXJ0aWVzID0gYXBwcm92YWxQcm9wZXJ0eS5wcm9wZXJ0aWVzLmNvbmNhdChbXHJcbiAgICAgICAgICAgICAgICB7IHByb3BlcnR5SUQ6IFVzZXJBY3Rpdml0eVByb3BlcnR5S2V5cy5TZWxlY3RUYXJnZXRBYmxlLCBwcm9wZXJ0eU5hbWU6IG14UmVzb3VyY2VzLmdldCgnc2VsZWN0VGFyZ2V0QWJsZScpLCBwcm9wZXJ0eVR5cGU6ICdzZWxlY3QnIH0sXHJcbiAgICAgICAgICAgICAgICB7IHByb3BlcnR5SUQ6IFVzZXJBY3Rpdml0eVByb3BlcnR5S2V5cy5KdW1wU2NvcGUsIHByb3BlcnR5TmFtZTogbXhSZXNvdXJjZXMuZ2V0KCdqdW1wU2NvcGUnKSwgcHJvcGVydHlUeXBlOiAnbW9kYWwnIH0sXHJcbiAgICAgICAgICAgIF0pO1xyXG4gICAgICAgICAgICBwcm9wZXJ0eURhdGFbVXNlckFjdGl2aXR5UHJvcGVydHlLZXlzLlNlbGVjdFRhcmdldEFibGVdID0gdXNlckFjdC5TZWxlY3RUYXJnZXRBYmxlO1xyXG4gICAgICAgICAgICBwcm9wZXJ0eURhdGFbVXNlckFjdGl2aXR5UHJvcGVydHlLZXlzLkp1bXBTY29wZV0gPSB1c2VyQWN0Lkp1bXBTY29wZTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBhcHByb3ZhbFByb3BlcnR5LnByb3BlcnRpZXMgPSBhcHByb3ZhbFByb3BlcnR5LnByb3BlcnRpZXMuY29uY2F0KFtcclxuICAgICAgICAgICAgICAgIHsgcHJvcGVydHlJRDogVXNlckFjdGl2aXR5UHJvcGVydHlLZXlzLlNlbGVjdFRhcmdldEFibGUsIHByb3BlcnR5TmFtZTogbXhSZXNvdXJjZXMuZ2V0KCdzZWxlY3RUYXJnZXRBYmxlJyksIHByb3BlcnR5VHlwZTogJ3NlbGVjdCcgfSxcclxuICAgICAgICAgICAgXSk7XHJcbiAgICAgICAgICAgIHByb3BlcnR5RGF0YVtVc2VyQWN0aXZpdHlQcm9wZXJ0eUtleXMuU2VsZWN0VGFyZ2V0QWJsZV0gPSB1c2VyQWN0LlNlbGVjdFRhcmdldEFibGU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodXNlckFjdC5vdGhlckFzc2lnbk5vZGVzKSB7XHJcbiAgICAgICAgICAgIGFwcHJvdmFsUHJvcGVydHkucHJvcGVydGllcyA9IGFwcHJvdmFsUHJvcGVydHkucHJvcGVydGllcy5jb25jYXQoW1xyXG4gICAgICAgICAgICAgICAgeyBwcm9wZXJ0eUlEOiBVc2VyQWN0aXZpdHlQcm9wZXJ0eUtleXMub3RoZXJBc3NpZ25Ob2RlcywgcHJvcGVydHlOYW1lOiBteFJlc291cmNlcy5nZXQoJ290aGVyQXNzaWduTm9kZXMnKSwgcHJvcGVydHlUeXBlOiAnc2VsZWN0JyB9LFxyXG4gICAgICAgICAgICAgICAgLy8geyBwcm9wZXJ0eUlEOiBVc2VyQWN0aXZpdHlQcm9wZXJ0eUtleXMub3RoZXJBc3NpZ25BY3Rpdml0aWVzLCBwcm9wZXJ0eU5hbWU6IG14UmVzb3VyY2VzLmdldCgnb3RoZXJBc3NpZ25BY3Rpdml0aWVzJyksIHByb3BlcnR5VHlwZTogJ21vZGFsJyB9LFxyXG4gICAgICAgICAgICAgICAgeyBwcm9wZXJ0eUlEOiBVc2VyQWN0aXZpdHlQcm9wZXJ0eUtleXMub3RoZXJBc3NpZ25BY3Rpdml0eU5vZGVJbmZvcywgcHJvcGVydHlOYW1lOiBteFJlc291cmNlcy5nZXQoJ290aGVyQXNzaWduQWN0aXZpdHlOb2RlSW5mb3MnKSwgcHJvcGVydHlUeXBlOiAnbW9kYWwnIH0sXHJcbiAgICAgICAgICAgIF0pO1xyXG4gICAgICAgICAgICBwcm9wZXJ0eURhdGFbVXNlckFjdGl2aXR5UHJvcGVydHlLZXlzLm90aGVyQXNzaWduTm9kZXNdID0gdHJ1ZTtcclxuICAgICAgICAgICAgLy8gcHJvcGVydHlEYXRhW1VzZXJBY3Rpdml0eVByb3BlcnR5S2V5cy5vdGhlckFzc2lnbkFjdGl2aXRpZXNdID0gdXNlckFjdC5vdGhlckFzc2lnbk5vZGVzLm90aGVyQXNzaWduQWN0aXZpdGllcztcclxuICAgICAgICAgICAgcHJvcGVydHlEYXRhW1VzZXJBY3Rpdml0eVByb3BlcnR5S2V5cy5vdGhlckFzc2lnbkFjdGl2aXR5Tm9kZUluZm9zXSA9IHVzZXJBY3Qub3RoZXJBc3NpZ25Ob2Rlcy5vdGhlckFzc2lnbkFjdGl2aXR5Tm9kZUluZm9zIHx8IHVzZXJBY3Qub3RoZXJBc3NpZ25Ob2Rlcy5vdGhlckFzc2lnbkFjdGl2aXR5Tm9kZUluZm9zO1xyXG4gICAgICAgICAgICBpZih1c2VyQWN0Lm90aGVyQXNzaWduTm9kZXMub3RoZXJBc3NpZ25BY3Rpdml0aWVzKXtcclxuICAgICAgICAgICAgICAgIHVzZXJBY3Qub3RoZXJBc3NpZ25Ob2Rlcy5vdGhlckFzc2lnbkFjdGl2aXRpZXMgPSBudWxsO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGFwcHJvdmFsUHJvcGVydHkucHJvcGVydGllcyA9IGFwcHJvdmFsUHJvcGVydHkucHJvcGVydGllcy5jb25jYXQoW1xyXG4gICAgICAgICAgICAgICAgeyBwcm9wZXJ0eUlEOiBVc2VyQWN0aXZpdHlQcm9wZXJ0eUtleXMub3RoZXJBc3NpZ25Ob2RlcywgcHJvcGVydHlOYW1lOiBteFJlc291cmNlcy5nZXQoJ290aGVyQXNzaWduTm9kZXMnKSwgcHJvcGVydHlUeXBlOiAnc2VsZWN0JyB9XHJcbiAgICAgICAgICAgIF0pO1xyXG4gICAgICAgICAgICBwcm9wZXJ0eURhdGFbVXNlckFjdGl2aXR5UHJvcGVydHlLZXlzLm90aGVyQXNzaWduTm9kZXNdID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQgZXZlbnRMaXN0ZW5lcnM6IEVsZW1lbnRQcm9wZXJ0eUNvbmZpZyA9IG5ldyBFbGVtZW50UHJvcGVydHlDb25maWcoKTtcclxuICAgICAgICBldmVudExpc3RlbmVycy5jYXRlZ29yeUlkID0gJ2V2ZW50TGlzdGVuZXJzJzsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyDmtLvliqjpgInpobnvvIjooajljZXlrprkuYkr5rS75Yqo5p6E5Lu277yJXHJcbiAgICAgICAgZXZlbnRMaXN0ZW5lcnMuY2F0ZWdvcnlOYW1lID0gbXhSZXNvdXJjZXMuZ2V0KCdldmVudExpc3RlbmVycycpO1xyXG4gICAgICAgIGV2ZW50TGlzdGVuZXJzLnRhYklkID0gJ2FkdmFuY2VkJztcclxuICAgICAgICBldmVudExpc3RlbmVycy50YWJOYW1lID0gbXhSZXNvdXJjZXMuZ2V0KCdhZHZhbmNlZEF0dHJpYnV0ZXMnKTtcclxuICAgICAgICBldmVudExpc3RlbmVycy5wcm9wZXJ0aWVzID0gW1xyXG4gICAgICAgICAgICB7IHByb3BlcnR5SUQ6IFVzZXJBY3Rpdml0eVByb3BlcnR5S2V5cy5Ub29scywgcHJvcGVydHlOYW1lOiBteFJlc291cmNlcy5nZXQoJ3Rvb2xzJyksIHByb3BlcnR5VHlwZTogJ21vZGFsJyB9LFxyXG4gICAgICAgICAgICB7IHByb3BlcnR5SUQ6IFVzZXJBY3Rpdml0eVByb3BlcnR5S2V5cy5jaGVja0NvbmRpdGlvbnMsIHByb3BlcnR5TmFtZTogbXhSZXNvdXJjZXMuZ2V0KCdjaGVja0NvbmRpdGlvbnMnKSwgcHJvcGVydHlUeXBlOiAnbW9kYWwnIH0sXHJcbiAgICAgICAgICAgIHsgcHJvcGVydHlJRDogVXNlckFjdGl2aXR5UHJvcGVydHlLZXlzLnZhcmlhYmxlU2V0dGluZ3MsIHByb3BlcnR5TmFtZTogbXhSZXNvdXJjZXMuZ2V0KCd2YXJpYWJsZVNldHRpbmdzJyksIHByb3BlcnR5VHlwZTogJ21vZGFsJyB9XHJcbiAgICAgICAgXTtcclxuXHJcbiAgICAgICAgbGV0IEFwcHJvdmFsU2V0dGluZ3M6IEVsZW1lbnRQcm9wZXJ0eUNvbmZpZyA9IG5ldyBFbGVtZW50UHJvcGVydHlDb25maWcoKTtcclxuICAgICAgICBBcHByb3ZhbFNldHRpbmdzLmNhdGVnb3J5SWQgPSAnQXBwcm92YWxTZXR0aW5ncyc7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8g5rS75Yqo6YCJ6aG577yI6KGo5Y2V5a6a5LmJK+a0u+WKqOaehOS7tu+8iVxyXG4gICAgICAgIEFwcHJvdmFsU2V0dGluZ3MuY2F0ZWdvcnlOYW1lID0gbXhSZXNvdXJjZXMuZ2V0KCdhcHByb3ZhbFNldHRpbmdzJyk7XHJcbiAgICAgICAgQXBwcm92YWxTZXR0aW5ncy50YWJJZCA9ICdhZHZhbmNlZCc7XHJcbiAgICAgICAgQXBwcm92YWxTZXR0aW5ncy50YWJOYW1lID0gbXhSZXNvdXJjZXMuZ2V0KCdhZHZhbmNlZEF0dHJpYnV0ZXMnKTtcclxuICAgICAgICBBcHByb3ZhbFNldHRpbmdzLnByb3BlcnRpZXMgPSBbXHJcbiAgICAgICAgICAgIHsgcHJvcGVydHlJRDogVXNlckFjdGl2aXR5UHJvcGVydHlLZXlzLmFub255bW91c1NldCwgcHJvcGVydHlOYW1lOiBteFJlc291cmNlcy5nZXQoJ2Fub255bW91c1NldCcpLCBwcm9wZXJ0eVR5cGU6ICdtb2RhbCcgfSxcclxuICAgICAgICAgICAgeyBwcm9wZXJ0eUlEOiBVc2VyQWN0aXZpdHlQcm9wZXJ0eUtleXMuYXBwcm92YWxQaXZvdENvbmZpZywgcHJvcGVydHlOYW1lOiBteFJlc291cmNlcy5nZXQoJ2FwcHJvdmFsUGl2b3RDb25maWcnKSwgcHJvcGVydHlUeXBlOiAnbW9kYWwnIH0sXHJcbiAgICAgICAgICAgIHsgcHJvcGVydHlJRDogVXNlckFjdGl2aXR5UHJvcGVydHlLZXlzLmltYWdlU2V0dGluZ3MsIHByb3BlcnR5TmFtZTogbXhSZXNvdXJjZXMuZ2V0KCdpbWFnZVNldHRpbmdzJyksIHByb3BlcnR5VHlwZTogJ21vZGFsJyB9LFxyXG4gICAgICAgICAgICB7IHByb3BlcnR5SUQ6IFVzZXJBY3Rpdml0eVByb3BlcnR5S2V5cy5NdWx0aUluc3RhbmNlTG9vcENoYXJhY3RlcmlzdGljcywgcHJvcGVydHlOYW1lOiBteFJlc291cmNlcy5nZXQoJ211bHRpSW5zdGFuY2VMb29wQ2hhcmFjdGVyaXN0aWNzJyksIHByb3BlcnR5VHlwZTogJ21vZGFsJyB9XHJcbiAgICAgICAgXTtcclxuICAgICAgICBwcm9wZXJ0eURhdGFbVXNlckFjdGl2aXR5UHJvcGVydHlLZXlzLk11bHRpSW5zdGFuY2VMb29wQ2hhcmFjdGVyaXN0aWNzXSA9IHVzZXJBY3QuTG9vcENoYXJhY3RlcmlzdGljcztcclxuXHJcbiAgICAgICAgbGV0IHRhc2tUaW1lbGluZXNzOiBFbGVtZW50UHJvcGVydHlDb25maWcgPSBuZXcgRWxlbWVudFByb3BlcnR5Q29uZmlnKCk7XHJcbiAgICAgICAgdGFza1RpbWVsaW5lc3MuY2F0ZWdvcnlJZCA9ICd0YXNrVGltZWxpbmVzcyc7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8g5rS75Yqo6YCJ6aG577yI6KGo5Y2V5a6a5LmJK+a0u+WKqOaehOS7tu+8iVxyXG4gICAgICAgIHRhc2tUaW1lbGluZXNzLmNhdGVnb3J5TmFtZSA9IG14UmVzb3VyY2VzLmdldCgndGFza1RpbWVsaW5lc3MnKTtcclxuICAgICAgICB0YXNrVGltZWxpbmVzcy50YWJJZCA9ICdhZHZhbmNlZCc7XHJcbiAgICAgICAgdGFza1RpbWVsaW5lc3MudGFiTmFtZSA9IG14UmVzb3VyY2VzLmdldCgnYWR2YW5jZWRBdHRyaWJ1dGVzJyk7XHJcbiAgICAgICAgdGFza1RpbWVsaW5lc3MucHJvcGVydGllcyA9IFtcclxuICAgICAgICAgICAgeyBwcm9wZXJ0eUlEOiBVc2VyQWN0aXZpdHlQcm9wZXJ0eUtleXMudGltZUxpbWl0Q29udHJvbCwgcHJvcGVydHlOYW1lOiBteFJlc291cmNlcy5nZXQoJ3RpbWVMaW1pdENvbnRyb2wnKSwgcHJvcGVydHlUeXBlOiAnbW9kYWwnIH0sXHJcbiAgICAgICAgICAgIHsgcHJvcGVydHlJRDogVXNlckFjdGl2aXR5UHJvcGVydHlLZXlzLm1lc3NhZ2VOb3RpY2UsIHByb3BlcnR5TmFtZTogbXhSZXNvdXJjZXMuZ2V0KCdtZXNzYWdlTm90aWNlJyksIHByb3BlcnR5VHlwZTogJ21vZGFsJyB9LFxyXG4gICAgICAgIF07XHJcblxyXG4gICAgICAgIGxldCBmb3JtRGVmID0gbmV3IEVsZW1lbnRQcm9wZXJ0eUNvbmZpZygpO1xyXG4gICAgICAgIGZvcm1EZWYuY2F0ZWdvcnlJZCA9ICdmb3JtRGVmJztcclxuICAgICAgICBmb3JtRGVmLmNhdGVnb3J5TmFtZSA9IG14UmVzb3VyY2VzLmdldCgnZm9ybURlZicpO1xyXG4gICAgICAgIGZvcm1EZWYudGFiSWQgPSAnYmFzaWMnO1xyXG4gICAgICAgIGZvcm1EZWYudGFiTmFtZSA9IG14UmVzb3VyY2VzLmdldCgnYmFzaWNBdHRyaWJ1dGVzJyk7XHJcbiAgICAgICAgZm9ybURlZi5wcm9wZXJ0aWVzID0gW1xyXG4gICAgICAgICAgICB7IHByb3BlcnR5SUQ6IFVzZXJBY3Rpdml0eVByb3BlcnR5S2V5cy5EaXNwbGF5VGVybWluYWwsIHByb3BlcnR5TmFtZTogbXhSZXNvdXJjZXMuZ2V0KCdkaXNwbGF5VGVybWluYWwnKSwgcHJvcGVydHlUeXBlOiAnc2VsZWN0JyB9LFxyXG4gICAgICAgICAgICB7IHByb3BlcnR5SUQ6IFVzZXJBY3Rpdml0eVByb3BlcnR5S2V5cy53Zl9FeGVjdXRlRm9ybXNfUEMsIHByb3BlcnR5TmFtZTogbXhSZXNvdXJjZXMuZ2V0KCdwY0Zvcm0nKSwgcHJvcGVydHlUeXBlOiAnbW9kYWwnIH0sXHJcbiAgICAgICAgICAgIHsgcHJvcGVydHlJRDogVXNlckFjdGl2aXR5UHJvcGVydHlLZXlzLndmX0V4ZWN1dGVGb3Jtc19Nb2JpbGUsIHByb3BlcnR5TmFtZTogbXhSZXNvdXJjZXMuZ2V0KCd3ZWJGb3JtJyksIHByb3BlcnR5VHlwZTogJ21vZGFsJyB9LFxyXG4gICAgICAgIF07XHJcblxyXG4gICAgICAgIC8vIOaJqeWxleWxnuaAp+WIhmdyb3Vw5aSE55CG77yM5q+P5LiqZ3JvdXDljIXlkKvniLbnuqflsZ7mgKflkozlsZ7kuo7lroPnmoTlrZDmianlsZXlsZ7mgKdcclxuICAgICAgICBjb25zdCBncm91cExpc3QgPSBuZXcgQXJyYXkoKTtcclxuICAgICAgICBmb3IgKGNvbnN0IGV4dGVuZCBvZiBleHRlbmRMaXN0KSB7XHJcbiAgICAgICAgICAgIGlmICghZXh0ZW5kLnBhcmVudElkKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBncm91cCA9IHsgcGFyZW50OiBleHRlbmQsIGNoaWxkczogbmV3IEFycmF5KCkgfTtcclxuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgZSBvZiBleHRlbmRMaXN0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGUucGFyZW50SWQgPT09IGV4dGVuZC5pZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBncm91cC5jaGlsZHMucHVzaChlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBncm91cExpc3QucHVzaChncm91cClcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvLyDmsqHmnInmianlsZXlsZ7mgKflgLznmoTml7blgJnkuI3mmL7npLrmianlsZXlsZ7mgKfkuIDmoI9cclxuICAgICAgICBpZiAoZ3JvdXBMaXN0ICYmIGdyb3VwTGlzdC5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIGxldCBFeHRlbmRQcm9wZXJ0eUNvbmZpZzogRWxlbWVudFByb3BlcnR5Q29uZmlnID0gbmV3IEVsZW1lbnRQcm9wZXJ0eUNvbmZpZygpO1xyXG4gICAgICAgICAgICBFeHRlbmRQcm9wZXJ0eUNvbmZpZy5jYXRlZ29yeUlkID0gJ2V4dGVuZFByb3BlcnR5Q29uZmlnJztcclxuICAgICAgICAgICAgRXh0ZW5kUHJvcGVydHlDb25maWcuY2F0ZWdvcnlOYW1lID0gbXhSZXNvdXJjZXMuZ2V0KCdleHRlbmRQcm9wZXJ0eUNvbmZpZycpO1xyXG4gICAgICAgICAgICBFeHRlbmRQcm9wZXJ0eUNvbmZpZy50YWJJZCA9ICdhZHZhbmNlZCc7XHJcbiAgICAgICAgICAgIEV4dGVuZFByb3BlcnR5Q29uZmlnLnRhYk5hbWUgPSBteFJlc291cmNlcy5nZXQoJ2FkdmFuY2VkQXR0cmlidXRlcycpO1xyXG4gICAgICAgICAgICBFeHRlbmRQcm9wZXJ0eUNvbmZpZy5wcm9wZXJ0aWVzID0gbmV3IEFycmF5KCk7XHJcbiAgICAgICAgICAgIGZvciAoY29uc3QgZyBvZiBncm91cExpc3QpIHtcclxuICAgICAgICAgICAgICAgIEV4dGVuZFByb3BlcnR5Q29uZmlnLnByb3BlcnRpZXMucHVzaChcclxuICAgICAgICAgICAgICAgICAgICB7IHByb3BlcnR5SUQ6IGcucGFyZW50LmlkLCBwcm9wZXJ0eU5hbWU6IGcucGFyZW50LnByb3BlcnR5VGl0bGUsIHByb3BlcnR5VHlwZTogJ21vZGFsJyB9LFxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLnNldFByb3BlcnR5RGF0YSh1c2VyQWN0LCBwcm9wZXJ0eURhdGEsIGdyb3VwTGlzdCk7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgcHJvcGVydHlDb25maWc6IFtiYXNpY1Byb3BlcnR5LCBwZXJmb3JtZXJQcm9wZXJ0eSwgZm9ybURlZiwgYXBwcm92YWxQcm9wZXJ0eSwgZXZlbnRMaXN0ZW5lcnMsIHRhc2tUaW1lbGluZXNzLCBBcHByb3ZhbFNldHRpbmdzLCBFeHRlbmRQcm9wZXJ0eUNvbmZpZ10sXHJcbiAgICAgICAgICAgICAgICBwcm9wZXJ0eURhdGE6IHByb3BlcnR5RGF0YVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5zZXRQcm9wZXJ0eURhdGEodXNlckFjdCwgcHJvcGVydHlEYXRhLCBncm91cExpc3QpO1xyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgcHJvcGVydHlDb25maWc6IFtiYXNpY1Byb3BlcnR5LCBwZXJmb3JtZXJQcm9wZXJ0eSwgZm9ybURlZiwgYXBwcm92YWxQcm9wZXJ0eSwgZXZlbnRMaXN0ZW5lcnMsIHRhc2tUaW1lbGluZXNzLCBBcHByb3ZhbFNldHRpbmdzXSxcclxuICAgICAgICAgICAgICAgIHByb3BlcnR5RGF0YTogcHJvcGVydHlEYXRhXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDliKTmlq3mmK/lkKblrZjlnKjlj43lkJHmtYHnqIvliqjkvZxcclxuICAgICAqIEBwYXJhbSBjb25jbHVzaW9uc1xyXG4gICAgICovXHJcbiAgICBpc0JhY2tDb25jbHVzaW9uRXhpc3QoY29uY2x1c2lvbnM6IENvbmNsdXNpb25JdGVtW10pIHtcclxuICAgICAgICBmb3IgKGxldCBjb25jbHVzaW9uIG9mIGNvbmNsdXNpb25zKSB7XHJcbiAgICAgICAgICAgIGlmIChjb25jbHVzaW9uLldvcmtGbG93QWN0aW9uID09PSBXb3JrRmxvd0FjdGlvbi5CYWNrd2FyZCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog57uE57uHVXNlckFjdGl2aXR555qE5bGe5oCn5YC8cHJvcGVydHlEYXRhXHJcbiAgICAgKiBAcGFyYW0gYWN0XHJcbiAgICAgKiBAcGFyYW0gcHJvcGVydHlEYXRhXHJcbiAgICAgKi9cclxuICAgIHNldFByb3BlcnR5RGF0YShhY3Q6IFVzZXJBY3Rpdml0eSwgcHJvcGVydHlEYXRhOiBhbnksIGdyb3VwTGlzdDogYW55KTogdm9pZCB7XHJcbiAgICAgICAgcHJvcGVydHlEYXRhW1VzZXJBY3Rpdml0eVByb3BlcnR5S2V5cy5JZF0gPSBhY3QuSWQ7XHJcbiAgICAgICAgcHJvcGVydHlEYXRhW1VzZXJBY3Rpdml0eVByb3BlcnR5S2V5cy5DbHJUeXBlSURdID0gYWN0LkNsclR5cGVJRDtcclxuICAgICAgICBwcm9wZXJ0eURhdGFbVXNlckFjdGl2aXR5UHJvcGVydHlLZXlzLk5hbWVdID0gYWN0Lk5hbWU7XHJcbiAgICAgICAgcHJvcGVydHlEYXRhW1VzZXJBY3Rpdml0eVByb3BlcnR5S2V5cy5OYW1lTGFuZ3VhZ2VdID0gYWN0Lk5hbWVMYW5ndWFnZSB8fCB7XHJcbiAgICAgICAgICAgIFwiemgtQ0hTXCI6IGFjdC5OYW1lLFxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIC8v5rS75Yqo5Lyg6YCSYml6QWN0aXZpdHlJZFxyXG4gICAgICAgIHByb3BlcnR5RGF0YVtVc2VyQWN0aXZpdHlQcm9wZXJ0eUtleXMuQml6QWN0aXZpdHlJRF0gPSBhY3QuQml6QWN0aXZpdHlJRDtcclxuXHJcbiAgICAgICAgLy8g5Y+Y6YeP6K6+572uK+a1geeoi+WPmOmHj1xyXG4gICAgICAgIHByb3BlcnR5RGF0YVtVc2VyQWN0aXZpdHlQcm9wZXJ0eUtleXMudmFyaWFibGVTZXR0aW5nc10gPSBQcm9wZXJ0eUhlbHBlci5nZXRWYXJpYWJsZVNldHRpbmdzKGFjdC5Nb2RlbCwgYWN0LnZhcmlhYmxlU2V0dGluZ3MpO1xyXG5cclxuICAgICAgICBwcm9wZXJ0eURhdGFbVXNlckFjdGl2aXR5UHJvcGVydHlLZXlzLlBhcnRpY2lwYW50U2NoZW1lc10gPSB0aGlzLmdldFBhcnRpY2lwYW50SW5mbyhhY3QpO1xyXG4gICAgICAgIHByb3BlcnR5RGF0YVtVc2VyQWN0aXZpdHlQcm9wZXJ0eUtleXMuUGFydGljaXBhbnRPcHRpb25zXSA9IHRoaXMuZ2V0UGFydGljaXBhbnRPcHRpb25zKGFjdCk7XHJcbiAgICAgICAgLy8gaWYgKHVzZXJBY3QuQXNzaWdubWVudFN0cmF0ZWd5ID09PSBBc3NpZ25tZW50U3RyYXRlZ3kuQVNTSUdOKSB7XHJcbiAgICAgICAgLy8gICAgIHByb3BlcnR5RGF0YVtVc2VyQWN0aXZpdHlQcm9wZXJ0eUtleXMuQXNzaWduUGVyZm9ybWVyXSA9IHRoaXMuZ2V0UG90ZW50aWFsT3duZXJJbXBsKHVzZXJBY3QpO1xyXG4gICAgICAgIC8vIH1cclxuXHJcbiAgICAgICAgcHJvcGVydHlEYXRhW1VzZXJBY3Rpdml0eVByb3BlcnR5S2V5cy5BcHByb3ZhbEl0ZW1zXSA9IGFjdC5Db25jbHVzaW9ucztcclxuICAgICAgICBwcm9wZXJ0eURhdGFbVXNlckFjdGl2aXR5UHJvcGVydHlLZXlzLlRvb2xzXSA9IFByb3BlcnR5SGVscGVyLmdldEJpekNvbXBvbmVudExpc3QoYWN0LlRvb2xzIGFzIEFycmF5PENvbXBvbmVudD4pO1xyXG4gICAgICAgIHByb3BlcnR5RGF0YVtVc2VyQWN0aXZpdHlQcm9wZXJ0eUtleXMud2ZfQ3VzdG9taXplQWN0aW9uXSA9IGFjdC5jdXN0b21pemVBY3Rpb25zIHx8IFtdO1xyXG5cclxuICAgICAgICBwcm9wZXJ0eURhdGFbVXNlckFjdGl2aXR5UHJvcGVydHlLZXlzLkFzc2lnblN0cmF0ZWd5XSA9IHRoaXMuZ2V0QXNzaWduU3RyYXRlZ3koYWN0KTtcclxuXHJcbiAgICAgICAgcHJvcGVydHlEYXRhW1VzZXJBY3Rpdml0eVByb3BlcnR5S2V5cy5SZXRyaWV2YWJsZV0gPSBhY3QuUmV0cmlldmFibGU7XHJcbiAgICAgICAgcHJvcGVydHlEYXRhW1VzZXJBY3Rpdml0eVByb3BlcnR5S2V5cy5TZWxlY3RCcmFuY2hdID0gYWN0LlNlbGVjdEJyYW5jaDtcclxuICAgICAgICBwcm9wZXJ0eURhdGFbVXNlckFjdGl2aXR5UHJvcGVydHlLZXlzLkFkZFNpZ25Gcm9udEFibGVdID0gdGhpcy5nZXRTaWduRnJvbnRJbmZvKGFjdCk7XHJcbiAgICAgICAgcHJvcGVydHlEYXRhW1VzZXJBY3Rpdml0eVByb3BlcnR5S2V5cy5BZGRTaWduQmVoaW5kQWJsZV0gPSB0aGlzLmdldFNpZ25CZWhpbmRJbmZvKGFjdCk7XHJcbiAgICAgICAgcHJvcGVydHlEYXRhW1VzZXJBY3Rpdml0eVByb3BlcnR5S2V5cy50cmFuc2ZlclNjb3BlXSA9IHRoaXMuZ2V0VHJhbnNmZXJTY29wZUluZm8oYWN0KTtcclxuICAgICAgICBwcm9wZXJ0eURhdGFbVXNlckFjdGl2aXR5UHJvcGVydHlLZXlzLk5vdGlmeUFibGVdID0gdGhpcy5nZXROb3RpZnlBYmxlKGFjdCk7XHJcbiAgICAgICAgcHJvcGVydHlEYXRhW1VzZXJBY3Rpdml0eVByb3BlcnR5S2V5cy50aW1lTGltaXRDb250cm9sXSA9IHRoaXMuZ2V0VGltZUxpbWl0SW5mbyhhY3QpO1xyXG5cclxuICAgICAgICBwcm9wZXJ0eURhdGFbVXNlckFjdGl2aXR5UHJvcGVydHlLZXlzLndmX1RpdGxlRXhwcmVzc2lvbl0gPSBhY3QudGFza1RpdGxlID8gKGFjdC50YXNrVGl0bGUudmFsdWVMYW5ndWFnZSA/IGFjdC50YXNrVGl0bGUudmFsdWVMYW5ndWFnZSA6IGFjdC50YXNrVGl0bGUudmFsdWUpIDogJyc7XHJcbiAgICAgICAgcHJvcGVydHlEYXRhW1VzZXJBY3Rpdml0eVByb3BlcnR5S2V5cy5hbm9ueW1vdXNTZXRdID0ge1xyXG4gICAgICAgICAgICBpc0Fub255bWl0eTogYWN0LmFub255bW91cyxcclxuICAgICAgICAgICAgYW5vbnltb3VzOiBhY3QuYW5vbnltb3VzVGV4dFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgcHJvcGVydHlEYXRhW1VzZXJBY3Rpdml0eVByb3BlcnR5S2V5cy5tZXNzYWdlTm90aWNlXSA9IFByb3BlcnR5SGVscGVyLmdldE1lc3NhZ2VOb3RpY2VzKGFjdC5tZXNzYWdlTm90aWNlcyk7XHJcbiAgICAgICAgLy8g5b2x5YOP6K6+572uXHJcbiAgICAgICAgcHJvcGVydHlEYXRhW1VzZXJBY3Rpdml0eVByb3BlcnR5S2V5cy5pbWFnZVNldHRpbmdzXSA9IGFjdC5pbWFnZVNldHRpbmdzO1xyXG4gICAgICAgIHByb3BlcnR5RGF0YVtVc2VyQWN0aXZpdHlQcm9wZXJ0eUtleXMud2ZfRXhlY3V0ZUZvcm1zX1BDXSA9XHJcbiAgICAgICAgICAgIGFjdC5FeGVjdXRlRm9ybXMgPyBhY3QuRXhlY3V0ZUZvcm1zLmZpbmQoZSA9PiBlLlRlcm1pbmFsVHlwZSA9PT0gJ1BDJykgOiBudWxsO1xyXG4gICAgICAgIHByb3BlcnR5RGF0YVtVc2VyQWN0aXZpdHlQcm9wZXJ0eUtleXMud2ZfRXhlY3V0ZUZvcm1zX01vYmlsZV0gPVxyXG4gICAgICAgICAgICBhY3QuRXhlY3V0ZUZvcm1zID8gYWN0LkV4ZWN1dGVGb3Jtcy5maW5kKGUgPT4gZS5UZXJtaW5hbFR5cGUgPT09ICdNT0JJTEUnKSA6IG51bGw7XHJcbiAgICAgICAgcHJvcGVydHlEYXRhW1VzZXJBY3Rpdml0eVByb3BlcnR5S2V5cy5hcHByb3ZhbFBpdm90Q29uZmlnXSA9IGFjdC5hcHByb3ZhbFBpdm90Q29uZmlnO1xyXG4gICAgICAgIHByb3BlcnR5RGF0YVtVc2VyQWN0aXZpdHlQcm9wZXJ0eUtleXMuRGlzcGxheVRlcm1pbmFsXSA9IGFjdC5EaXNwbGF5VGVybWluYWwgPyBhY3QuRGlzcGxheVRlcm1pbmFsIDogRGlzcGxheVRlcm1pbmFsLkFMTDtcclxuICAgICAgICBwcm9wZXJ0eURhdGFbVXNlckFjdGl2aXR5UHJvcGVydHlLZXlzLnVyZ2VIYW5kbGVSdWxlXSA9IHRoaXMuZ2V0VXJnZUhhbmRsZVJ1bGUoYWN0KTtcclxuICAgICAgICBmb3IgKGNvbnN0IGcgb2YgZ3JvdXBMaXN0KSB7XHJcbiAgICAgICAgICAgIC8vIOWPluWbnuaooeWei+S4iueahHZhbHVl5YC857uZ5Yiw5omp5bGV5bGe5oCn57uE5Lu26YeMXHJcbiAgICAgICAgICAgIGlmIChhY3QuZXh0ZW5kUHJvcGVydGllcyAmJiBhY3QuZXh0ZW5kUHJvcGVydGllcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICBnLmNoaWxkcy5zb3J0KChhLCBiKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGEuc29ydE9yZGVyIC0gYi5zb3J0T3JkZXI7XHJcbiAgICAgICAgICAgICAgICB9KS5mb3JFYWNoKChkOiBhbnkpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBhY3QuZXh0ZW5kUHJvcGVydGllcy5mb3JFYWNoKGUgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZS5rZXkgPT0gZC5jb2RlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkLnZhbHVlID0gZS52YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcHJvcGVydHlEYXRhW2cucGFyZW50LmlkXSA9IGcuY2hpbGRzO1xyXG4gICAgICAgIH1cclxuICAgICAgICBwcm9wZXJ0eURhdGFbVXNlckFjdGl2aXR5UHJvcGVydHlLZXlzLmNoZWNrQ29uZGl0aW9uc10gPSB0aGlzLmdldENoZWNrQ29uZGl0aW9ucyhhY3QpO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBnZXRQYXJ0aWNpcGFudEluZm8odXNlckFjdGl2aXR5OiBVc2VyQWN0aXZpdHkpOiBQYXJ0aWNpcGFudEluZm8ge1xyXG4gICAgICAgIGNvbnN0IHBhcnRpSW5mbyA9IG5ldyBQYXJ0aWNpcGFudEluZm8oKTtcclxuICAgICAgICBwYXJ0aUluZm8uYXNzaWduU3RyYXRlZ3kuYXNzaWduU3RyYXRlZ3kgPSB1c2VyQWN0aXZpdHkuQXNzaWdubWVudFN0cmF0ZWd5O1xyXG4gICAgICAgIGNvbnN0IHJvbGVzID0gdXNlckFjdGl2aXR5LkdldFJlc291cmNlUm9sZXMoKS5maWx0ZXIocm9sZSA9PiByb2xlIGluc3RhbmNlb2YgSHVtYW5QZXJmb3JtZXJJbXBsKSBhcyBBcnJheTxIdW1hblBlcmZvcm1lckltcGw+O1xyXG4gICAgICAgIHBhcnRpSW5mby5odW1hblBlcmZvcm1lckxpc3QgPSBQcm9wZXJ0eUhlbHBlci5nZXRQZXJmb3JtZXJMaXN0KHJvbGVzKTtcclxuICAgICAgICBpZiAodXNlckFjdGl2aXR5LkFzc2lnbm1lbnRTdHJhdGVneSA9PT0gQXNzaWdubWVudFN0cmF0ZWd5LkFTU0lHTikge1xyXG4gICAgICAgICAgICBpZiAodXNlckFjdGl2aXR5LkFzc2lnblBlcmZvcm1lckNvbmZpZykge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgYXNzaWduQ29uZmlnID0gbmV3IEFzc2lnbkNvbmZpZygpO1xyXG4gICAgICAgICAgICAgICAgYXNzaWduQ29uZmlnLm9wZXJhdG9yID0gdXNlckFjdGl2aXR5LkFzc2lnblBlcmZvcm1lckNvbmZpZy5PcGVyYXRvcjtcclxuICAgICAgICAgICAgICAgIGFzc2lnbkNvbmZpZy5tdWx0aVNlbGVjdCA9IHVzZXJBY3Rpdml0eS5Bc3NpZ25QZXJmb3JtZXJDb25maWcuTXVsdGlTZWxlY3Q7XHJcbiAgICAgICAgICAgICAgICBhc3NpZ25Db25maWcubmVjZXNzYXJ5ID0gdXNlckFjdGl2aXR5LkFzc2lnblBlcmZvcm1lckNvbmZpZy5OZWNlc3Nhcnk7XHJcbiAgICAgICAgICAgICAgICBwYXJ0aUluZm8uYXNzaWduU3RyYXRlZ3kuYXNzaWduQ29uZmlnID0gYXNzaWduQ29uZmlnO1xyXG4gICAgICAgICAgICAgICAgcGFydGlJbmZvLmlzQWxsU2NvcGUgPSB1c2VyQWN0aXZpdHkuQXNzaWduUGVyZm9ybWVyQ29uZmlnLkFsbG93R2xvYmFsQXNzaWduO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0IHJvbGVzID0gdXNlckFjdGl2aXR5LkdldFJlc291cmNlUm9sZXMoKS5maWx0ZXIocm9sZSA9PiByb2xlIGluc3RhbmNlb2YgUG90ZW50aWFsT3duZXJJbXBsKSBhcyBBcnJheTxQb3RlbnRpYWxPd25lckltcGw+O1xyXG4gICAgICAgICAgICBwYXJ0aUluZm8ucG90ZW50aWFsT3duZXJMaXN0ID0gUHJvcGVydHlIZWxwZXIuZ2V0UGVyZm9ybWVyTGlzdChyb2xlcyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gcGFydGlJbmZvO1xyXG4gICAgfVxyXG5cclxuICAgIGdldFBhcnRpY2lwYW50T3B0aW9ucyh1c2VyQWN0aXZpdHk6IFVzZXJBY3Rpdml0eSkge1xyXG4gICAgICAgIGNvbnN0IG9wdGlvbnM6IGFueSA9IHt9O1xyXG4gICAgICAgIGlmICh1c2VyQWN0aXZpdHkuUGFydGljaXBhbnRTZXR0aW5nICE9IG51bGwpIHtcclxuICAgICAgICAgICAgb3B0aW9ucy5FeGNsdXNpb25QZXJmb3JtZXJzID0gdXNlckFjdGl2aXR5LlBhcnRpY2lwYW50U2V0dGluZy5FeGNsdXNpb25QZXJmb3JtZXJzO1xyXG4gICAgICAgICAgICBvcHRpb25zLk5vUGVyZm9ybWVyU3RyYXRlZ3kgPSB1c2VyQWN0aXZpdHkuUGFydGljaXBhbnRTZXR0aW5nLk5vUGVyZm9ybWVyU3RyYXRlZ3k7XHJcbiAgICAgICAgICAgIG9wdGlvbnMuSGlzdG9yaWNGaXJzdCA9IHVzZXJBY3Rpdml0eS5QYXJ0aWNpcGFudFNldHRpbmcuSGlzdG9yaWNGaXJzdDtcclxuICAgICAgICAgICAgb3B0aW9ucy5hdXRvbWF0aWNQZXJmb3JtZXJzID0gdXNlckFjdGl2aXR5LlBhcnRpY2lwYW50U2V0dGluZy5hdXRvbWF0aWNQZXJmb3JtZXJzO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gb3B0aW9ucztcclxuICAgIH1cclxuXHJcbiAgICBnZXRBc3NpZ25TdHJhdGVneSh1c2VyQWN0aXZpdHk6IFVzZXJBY3Rpdml0eSk6IEFzc2lnblN0cmF0ZWd5IHtcclxuICAgICAgICBjb25zdCBhc3NpZ25TdHJhdGVneSA9IG5ldyBBc3NpZ25TdHJhdGVneSgpO1xyXG4gICAgICAgIGFzc2lnblN0cmF0ZWd5LmFzc2lnblN0cmF0ZWd5ID0gdXNlckFjdGl2aXR5LkFzc2lnbm1lbnRTdHJhdGVneTtcclxuICAgICAgICBpZiAodXNlckFjdGl2aXR5LkFzc2lnblBlcmZvcm1lckNvbmZpZykge1xyXG4gICAgICAgICAgICBjb25zdCBhc3NpZ25Db25maWcgPSBuZXcgQXNzaWduQ29uZmlnKCk7XHJcbiAgICAgICAgICAgIGFzc2lnbkNvbmZpZy5vcGVyYXRvciA9IHVzZXJBY3Rpdml0eS5Bc3NpZ25QZXJmb3JtZXJDb25maWcuT3BlcmF0b3I7XHJcbiAgICAgICAgICAgIGFzc2lnbkNvbmZpZy5tdWx0aVNlbGVjdCA9IHVzZXJBY3Rpdml0eS5Bc3NpZ25QZXJmb3JtZXJDb25maWcuTXVsdGlTZWxlY3Q7XHJcbiAgICAgICAgICAgIGFzc2lnbkNvbmZpZy5uZWNlc3NhcnkgPSB1c2VyQWN0aXZpdHkuQXNzaWduUGVyZm9ybWVyQ29uZmlnLk5lY2Vzc2FyeTtcclxuICAgICAgICAgICAgYXNzaWduU3RyYXRlZ3kuYXNzaWduQ29uZmlnID0gYXNzaWduQ29uZmlnO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gYXNzaWduU3RyYXRlZ3k7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIGdldFNpZ25Gcm9udEluZm8odXNlckFjdGl2aXR5OiBVc2VyQWN0aXZpdHkpOiBBY3Rpb25Pcmdhbml6YXRpb25TY29wZURlc2lnbiB7XHJcbiAgICAgICAgY29uc3Qgc2lnbkZyb250VGVzdCA9IG5ldyBBY3Rpb25Pcmdhbml6YXRpb25TY29wZURlc2lnbigpO1xyXG4gICAgICAgIHNpZ25Gcm9udFRlc3QuYWN0aW9uID0gQWN0aW9uU2NvcGUuQWRkU2lnbkZyb250IGFzIGFueTtcclxuICAgICAgICBpZiAodXNlckFjdGl2aXR5LkFkZFNpZ25Gcm9udEFibGUpIHtcclxuICAgICAgICAgICAgc2lnbkZyb250VGVzdC5lbmFibGUgPSB0cnVlO1xyXG4gICAgICAgICAgICBjb25zdCByb2xlcyA9IHVzZXJBY3Rpdml0eS5keW5hbWljUGFydGljaXBhbnRzLmZpbHRlcihyID0+IHIuYWN0aW9uU2NvcGUgPT09IEFjdGlvblNjb3BlLkFkZFNpZ25Gcm9udCk7XHJcbiAgICAgICAgICAgIGxldCByZXMgPSByb2xlcy5maW5kKHIgPT4gKHIgYXMgYW55KS5vcmdhbml6YXRpb25MZXZlbCAmJiAhKHIgYXMgYW55KS5vcmRlcik7XHJcbiAgICAgICAgICAgIGxldCBsaXN0IDogUGFydGljaXBhbnRbXSA9IFtdO1xyXG4gICAgICAgICAgICBpZihyZXMpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG9yZ2FuaXphdGlvbiA9IG5ldyBPcmdhbml6YXRpb25QYXJ0aWNpcGFudDtcclxuICAgICAgICAgICAgICAgIG9yZ2FuaXphdGlvbi5pZCA9IHJlcy5pZDtcclxuICAgICAgICAgICAgICAgIG9yZ2FuaXphdGlvbi50eXBlID0gcmVzLkNsclR5cGVJRDtcclxuICAgICAgICAgICAgICAgIG9yZ2FuaXphdGlvbi5uYW1lID0gcmVzLm5hbWU7XHJcbiAgICAgICAgICAgICAgICBvcmdhbml6YXRpb24uYWN0aW9uU2NvcGUgPSByZXMuYWN0aW9uU2NvcGUgYXMgYW55O1xyXG4gICAgICAgICAgICAgICAgb3JnYW5pemF0aW9uLm9yZ2FuaXphdGlvbkxldmVsID0gKHJlcyBhcyBhbnkpLm9yZ2FuaXphdGlvbkxldmVsO1xyXG4gICAgICAgICAgICAgICAgb3JnYW5pemF0aW9uLm9yZ2FuaXphdGlvbklkID0gKHJlcyBhcyBhbnkpLm9yZ2FuaXphdGlvbklkO1xyXG4gICAgICAgICAgICAgICAgb3JnYW5pemF0aW9uLm9yZ2FuaXphdGlvbkNvZGUgPSAocmVzIGFzIGFueSkub3JnYW5pemF0aW9uQ29kZTtcclxuICAgICAgICAgICAgICAgIG9yZ2FuaXphdGlvbi5vcmdhbml6YXRpb25OYW1lID0gKHJlcyBhcyBhbnkpLm9yZ2FuaXphdGlvbk5hbWU7XHJcbiAgICAgICAgICAgICAgICBvcmdhbml6YXRpb24uaW5jbHVkZUNoaWxkcmVuID0gKHJlcyBhcyBhbnkpLmluY2x1ZGVDaGlsZHJlbjtcclxuICAgICAgICAgICAgICAgIG9yZ2FuaXphdGlvbi5wYXJlbnRzVW50aWwgPSAocmVzIGFzIGFueSkucGFyZW50c1VudGlsO1xyXG4gICAgICAgICAgICAgICAgb3JnYW5pemF0aW9uLnRhZyA9IChyZXMgYXMgYW55KS50YWc7XHJcbiAgICAgICAgICAgICAgICBvcmdhbml6YXRpb24ub3JkZXIgPSAxO1xyXG4gICAgICAgICAgICAgICAgbGlzdC5wdXNoKG9yZ2FuaXphdGlvbik7XHJcbiAgICAgICAgICAgIH1lbHNlIHtcclxuICAgICAgICAgICAgICAgIGxpc3QgPSBQcm9wZXJ0eUhlbHBlci5nZXRQZXJmb3JtZXJMaXN0VGVzdChyb2xlcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgc2lnbkZyb250VGVzdC5zY29wZSA9IG5ldyBPcmdhbml6YXRpb25Qb3RlbnRpYWxPd25lcigpO1xyXG4gICAgICAgICAgICBpZihsaXN0ICYmIGxpc3QubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgc2lnbkZyb250VGVzdC5zY29wZS5wYXJ0aWNpcGFudEluZm8gPSBuZXcgUGFydGljaXBhbnRJbmZvKCk7XHJcbiAgICAgICAgICAgICAgICBzaWduRnJvbnRUZXN0LnNjb3BlLnBhcnRpY2lwYW50SW5mby5wb3RlbnRpYWxPd25lckxpc3QgPSBsaXN0O1xyXG4gICAgICAgICAgICAgICAgc2lnbkZyb250VGVzdC5zY29wZS5wYXJ0aWNpcGFudEluZm8uaXNBbGxTY29wZSA9IHRydWU7XHJcbiAgICAgICAgICAgIH1lbHNlIHtcclxuICAgICAgICAgICAgICAgIHNpZ25Gcm9udFRlc3Quc2NvcGUucGFydGljaXBhbnRJbmZvID0gbmV3IFBhcnRpY2lwYW50SW5mbygpO1xyXG4gICAgICAgICAgICAgICAgc2lnbkZyb250VGVzdC5zY29wZS5wYXJ0aWNpcGFudEluZm8uaXNBbGxTY29wZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgc2lnbkZyb250VGVzdC5lbmFibGUgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHNpZ25Gcm9udFRlc3Q7XHJcbiAgICB9XHJcbiAgICBnZXRTaWduQmVoaW5kSW5mbyh1c2VyQWN0aXZpdHk6IFVzZXJBY3Rpdml0eSk6IEFjdGlvbk9yZ2FuaXphdGlvblNjb3BlRGVzaWduIHtcclxuICAgICAgICBjb25zdCBzaWduQmVoaW5kVGVzdCA9IG5ldyBBY3Rpb25Pcmdhbml6YXRpb25TY29wZURlc2lnbigpO1xyXG4gICAgICAgIHNpZ25CZWhpbmRUZXN0LmFjdGlvbiA9IEFjdGlvblNjb3BlLkFkZFNpZ25CZWhpbmQgYXMgYW55O1xyXG4gICAgICAgIGlmICh1c2VyQWN0aXZpdHkuQWRkU2lnbkJlaGluZEFibGUpIHtcclxuICAgICAgICAgICAgc2lnbkJlaGluZFRlc3QuZW5hYmxlID0gdHJ1ZTtcclxuICAgICAgICAgICAgY29uc3Qgcm9sZXMgPSB1c2VyQWN0aXZpdHkuZHluYW1pY1BhcnRpY2lwYW50cy5maWx0ZXIociA9PiByLmFjdGlvblNjb3BlID09PSBBY3Rpb25TY29wZS5BZGRTaWduQmVoaW5kKTtcclxuICAgICAgICAgICAgbGV0IHJlcyA9IHJvbGVzLmZpbmQociA9PiAociBhcyBhbnkpLm9yZ2FuaXphdGlvbkxldmVsICYmICEociBhcyBhbnkpLm9yZGVyKTtcclxuICAgICAgICAgICAgbGV0IGxpc3QgOiBQYXJ0aWNpcGFudFtdID0gW107XHJcbiAgICAgICAgICAgIGlmKHJlcykge1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgb3JnYW5pemF0aW9uID0gbmV3IE9yZ2FuaXphdGlvblBhcnRpY2lwYW50O1xyXG4gICAgICAgICAgICAgICAgb3JnYW5pemF0aW9uLmlkID0gcmVzLmlkO1xyXG4gICAgICAgICAgICAgICAgb3JnYW5pemF0aW9uLnR5cGUgPSByZXMuQ2xyVHlwZUlEO1xyXG4gICAgICAgICAgICAgICAgb3JnYW5pemF0aW9uLm5hbWUgPSByZXMubmFtZTtcclxuICAgICAgICAgICAgICAgIG9yZ2FuaXphdGlvbi5hY3Rpb25TY29wZSA9IHJlcy5hY3Rpb25TY29wZSBhcyBhbnk7XHJcbiAgICAgICAgICAgICAgICBvcmdhbml6YXRpb24ub3JnYW5pemF0aW9uTGV2ZWwgPSAocmVzIGFzIGFueSkub3JnYW5pemF0aW9uTGV2ZWw7XHJcbiAgICAgICAgICAgICAgICBvcmdhbml6YXRpb24ub3JnYW5pemF0aW9uSWQgPSAocmVzIGFzIGFueSkub3JnYW5pemF0aW9uSWQ7XHJcbiAgICAgICAgICAgICAgICBvcmdhbml6YXRpb24ub3JnYW5pemF0aW9uQ29kZSA9IChyZXMgYXMgYW55KS5vcmdhbml6YXRpb25Db2RlO1xyXG4gICAgICAgICAgICAgICAgb3JnYW5pemF0aW9uLm9yZ2FuaXphdGlvbk5hbWUgPSAocmVzIGFzIGFueSkub3JnYW5pemF0aW9uTmFtZTtcclxuICAgICAgICAgICAgICAgIG9yZ2FuaXphdGlvbi5pbmNsdWRlQ2hpbGRyZW4gPSAocmVzIGFzIGFueSkuaW5jbHVkZUNoaWxkcmVuO1xyXG4gICAgICAgICAgICAgICAgb3JnYW5pemF0aW9uLnBhcmVudHNVbnRpbCA9IChyZXMgYXMgYW55KS5wYXJlbnRzVW50aWw7XHJcbiAgICAgICAgICAgICAgICBvcmdhbml6YXRpb24udGFnID0gKHJlcyBhcyBhbnkpLnRhZztcclxuICAgICAgICAgICAgICAgIG9yZ2FuaXphdGlvbi5vcmRlciA9IDE7XHJcbiAgICAgICAgICAgICAgICBsaXN0LnB1c2gob3JnYW5pemF0aW9uKTtcclxuICAgICAgICAgICAgfWVsc2Uge1xyXG4gICAgICAgICAgICAgICAgbGlzdCA9IFByb3BlcnR5SGVscGVyLmdldFBlcmZvcm1lckxpc3RUZXN0KHJvbGVzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBzaWduQmVoaW5kVGVzdC5zY29wZSA9IG5ldyBPcmdhbml6YXRpb25Qb3RlbnRpYWxPd25lcigpO1xyXG4gICAgICAgICAgICBpZihsaXN0ICYmIGxpc3QubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgc2lnbkJlaGluZFRlc3Quc2NvcGUucGFydGljaXBhbnRJbmZvID0gbmV3IFBhcnRpY2lwYW50SW5mbygpO1xyXG4gICAgICAgICAgICAgICAgc2lnbkJlaGluZFRlc3Quc2NvcGUucGFydGljaXBhbnRJbmZvLnBvdGVudGlhbE93bmVyTGlzdCA9IGxpc3Q7XHJcbiAgICAgICAgICAgICAgICBzaWduQmVoaW5kVGVzdC5zY29wZS5wYXJ0aWNpcGFudEluZm8uaXNBbGxTY29wZSA9IHRydWU7XHJcbiAgICAgICAgICAgIH1lbHNlIHtcclxuICAgICAgICAgICAgICAgIHNpZ25CZWhpbmRUZXN0LnNjb3BlLnBhcnRpY2lwYW50SW5mbyA9IG5ldyBQYXJ0aWNpcGFudEluZm8oKTtcclxuICAgICAgICAgICAgICAgIHNpZ25CZWhpbmRUZXN0LnNjb3BlLnBhcnRpY2lwYW50SW5mby5pc0FsbFNjb3BlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBzaWduQmVoaW5kVGVzdC5lbmFibGUgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHNpZ25CZWhpbmRUZXN0O1xyXG4gICAgfVxyXG4gICAgZ2V0VHJhbnNmZXJTY29wZUluZm8odXNlckFjdGl2aXR5OiBVc2VyQWN0aXZpdHkpOiBBY3Rpb25Pcmdhbml6YXRpb25TY29wZURlc2lnbiB7XHJcbiAgICAgICAgY29uc3QgdHJhbnNmZXJTY29wZVRlc3QgPSBuZXcgQWN0aW9uT3JnYW5pemF0aW9uU2NvcGVEZXNpZ24oKTtcclxuICAgICAgICB0cmFuc2ZlclNjb3BlVGVzdC5hY3Rpb24gPSBBY3Rpb25TY29wZS5UcmFuc2ZlciBhcyBhbnk7XHJcblxyXG4gICAgICAgIGlmICh1c2VyQWN0aXZpdHkudHJhbnNmZXJBYmxlKSB7XHJcbiAgICAgICAgICAgIHRyYW5zZmVyU2NvcGVUZXN0LmVuYWJsZSA9IHRydWU7XHJcbiAgICAgICAgICAgIGNvbnN0IHJvbGVzID0gdXNlckFjdGl2aXR5LmR5bmFtaWNQYXJ0aWNpcGFudHMuZmlsdGVyKHIgPT4gci5hY3Rpb25TY29wZSA9PT0gQWN0aW9uU2NvcGUuVHJhbnNmZXIpO1xyXG4gICAgICAgICAgICBsZXQgcmVzID0gcm9sZXMuZmluZChyID0+IChyIGFzIGFueSkub3JnYW5pemF0aW9uTGV2ZWwgJiYgIShyIGFzIGFueSkub3JkZXIpO1xyXG4gICAgICAgICAgICBsZXQgbGlzdCA6IFBhcnRpY2lwYW50W10gPSBbXTtcclxuICAgICAgICAgICAgaWYocmVzKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBvcmdhbml6YXRpb24gPSBuZXcgT3JnYW5pemF0aW9uUGFydGljaXBhbnQ7XHJcbiAgICAgICAgICAgICAgICBvcmdhbml6YXRpb24uaWQgPSByZXMuaWQ7XHJcbiAgICAgICAgICAgICAgICBvcmdhbml6YXRpb24udHlwZSA9IHJlcy5DbHJUeXBlSUQ7XHJcbiAgICAgICAgICAgICAgICBvcmdhbml6YXRpb24ubmFtZSA9IHJlcy5uYW1lO1xyXG4gICAgICAgICAgICAgICAgb3JnYW5pemF0aW9uLmFjdGlvblNjb3BlID0gcmVzLmFjdGlvblNjb3BlIGFzIGFueTtcclxuICAgICAgICAgICAgICAgIG9yZ2FuaXphdGlvbi5vcmdhbml6YXRpb25MZXZlbCA9IChyZXMgYXMgYW55KS5vcmdhbml6YXRpb25MZXZlbDtcclxuICAgICAgICAgICAgICAgIG9yZ2FuaXphdGlvbi5vcmdhbml6YXRpb25JZCA9IChyZXMgYXMgYW55KS5vcmdhbml6YXRpb25JZDtcclxuICAgICAgICAgICAgICAgIG9yZ2FuaXphdGlvbi5vcmdhbml6YXRpb25Db2RlID0gKHJlcyBhcyBhbnkpLm9yZ2FuaXphdGlvbkNvZGU7XHJcbiAgICAgICAgICAgICAgICBvcmdhbml6YXRpb24ub3JnYW5pemF0aW9uTmFtZSA9IChyZXMgYXMgYW55KS5vcmdhbml6YXRpb25OYW1lO1xyXG4gICAgICAgICAgICAgICAgb3JnYW5pemF0aW9uLmluY2x1ZGVDaGlsZHJlbiA9IChyZXMgYXMgYW55KS5pbmNsdWRlQ2hpbGRyZW47XHJcbiAgICAgICAgICAgICAgICBvcmdhbml6YXRpb24ucGFyZW50c1VudGlsID0gKHJlcyBhcyBhbnkpLnBhcmVudHNVbnRpbDtcclxuICAgICAgICAgICAgICAgIG9yZ2FuaXphdGlvbi50YWcgPSAocmVzIGFzIGFueSkudGFnO1xyXG4gICAgICAgICAgICAgICAgb3JnYW5pemF0aW9uLm9yZGVyID0gMTtcclxuICAgICAgICAgICAgICAgIGxpc3QucHVzaChvcmdhbml6YXRpb24pO1xyXG4gICAgICAgICAgICB9ZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBsaXN0ID0gUHJvcGVydHlIZWxwZXIuZ2V0UGVyZm9ybWVyTGlzdFRlc3Qocm9sZXMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRyYW5zZmVyU2NvcGVUZXN0LnNjb3BlID0gbmV3IE9yZ2FuaXphdGlvblBvdGVudGlhbE93bmVyKCk7XHJcbiAgICAgICAgICAgIGlmKGxpc3QgJiYgbGlzdC5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICB0cmFuc2ZlclNjb3BlVGVzdC5zY29wZS5wYXJ0aWNpcGFudEluZm8gPSBuZXcgUGFydGljaXBhbnRJbmZvKCk7XHJcbiAgICAgICAgICAgICAgICB0cmFuc2ZlclNjb3BlVGVzdC5zY29wZS5wYXJ0aWNpcGFudEluZm8ucG90ZW50aWFsT3duZXJMaXN0ID0gbGlzdDtcclxuICAgICAgICAgICAgICAgIHRyYW5zZmVyU2NvcGVUZXN0LnNjb3BlLnBhcnRpY2lwYW50SW5mby5pc0FsbFNjb3BlID0gdHJ1ZTtcclxuICAgICAgICAgICAgfWVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdHJhbnNmZXJTY29wZVRlc3Quc2NvcGUucGFydGljaXBhbnRJbmZvID0gbmV3IFBhcnRpY2lwYW50SW5mbygpO1xyXG4gICAgICAgICAgICAgICAgdHJhbnNmZXJTY29wZVRlc3Quc2NvcGUucGFydGljaXBhbnRJbmZvLmlzQWxsU2NvcGUgPSBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRyYW5zZmVyU2NvcGVUZXN0LmVuYWJsZSA9IHVzZXJBY3Rpdml0eS50cmFuc2ZlckFibGU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0cmFuc2ZlclNjb3BlVGVzdDtcclxuICAgIH1cclxuICAgIGdldE5vdGlmeUFibGUodXNlckFjdGl2aXR5OiBVc2VyQWN0aXZpdHkpOiBBY3Rpb25Pcmdhbml6YXRpb25TY29wZURlc2lnbiB7XHJcbiAgICAgICAgY29uc3Qgbm90aWZ5U2NvcGVUZXN0ID0gbmV3IEFjdGlvbk9yZ2FuaXphdGlvblNjb3BlRGVzaWduKCk7XHJcbiAgICAgICAgbm90aWZ5U2NvcGVUZXN0LmFjdGlvbiA9IEFjdGlvblNjb3BlLk5vdGlmeSBhcyBhbnk7XHJcblxyXG4gICAgICAgIGlmICh1c2VyQWN0aXZpdHkuTm90aWZ5QWJsZSkge1xyXG4gICAgICAgICAgICBub3RpZnlTY29wZVRlc3QuZW5hYmxlID0gdHJ1ZTtcclxuICAgICAgICAgICAgY29uc3Qgcm9sZXMgPSB1c2VyQWN0aXZpdHkuZHluYW1pY1BhcnRpY2lwYW50cy5maWx0ZXIociA9PiByLmFjdGlvblNjb3BlID09PSBBY3Rpb25TY29wZS5Ob3RpZnkpO1xyXG4gICAgICAgICAgICBsZXQgcmVzID0gcm9sZXMuZmluZChyID0+IChyIGFzIGFueSkub3JnYW5pemF0aW9uTGV2ZWwgJiYgIShyIGFzIGFueSkub3JkZXIpO1xyXG4gICAgICAgICAgICBsZXQgbGlzdCA6IFBhcnRpY2lwYW50W10gPSBbXTtcclxuICAgICAgICAgICAgaWYocmVzKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBvcmdhbml6YXRpb24gPSBuZXcgT3JnYW5pemF0aW9uUGFydGljaXBhbnQ7XHJcbiAgICAgICAgICAgICAgICBvcmdhbml6YXRpb24uaWQgPSByZXMuaWQ7XHJcbiAgICAgICAgICAgICAgICBvcmdhbml6YXRpb24udHlwZSA9IHJlcy5DbHJUeXBlSUQ7XHJcbiAgICAgICAgICAgICAgICBvcmdhbml6YXRpb24ubmFtZSA9IHJlcy5uYW1lO1xyXG4gICAgICAgICAgICAgICAgb3JnYW5pemF0aW9uLmFjdGlvblNjb3BlID0gcmVzLmFjdGlvblNjb3BlIGFzIGFueTtcclxuICAgICAgICAgICAgICAgIG9yZ2FuaXphdGlvbi5vcmdhbml6YXRpb25MZXZlbCA9IChyZXMgYXMgYW55KS5vcmdhbml6YXRpb25MZXZlbDtcclxuICAgICAgICAgICAgICAgIG9yZ2FuaXphdGlvbi5vcmdhbml6YXRpb25JZCA9IChyZXMgYXMgYW55KS5vcmdhbml6YXRpb25JZDtcclxuICAgICAgICAgICAgICAgIG9yZ2FuaXphdGlvbi5vcmdhbml6YXRpb25Db2RlID0gKHJlcyBhcyBhbnkpLm9yZ2FuaXphdGlvbkNvZGU7XHJcbiAgICAgICAgICAgICAgICBvcmdhbml6YXRpb24ub3JnYW5pemF0aW9uTmFtZSA9IChyZXMgYXMgYW55KS5vcmdhbml6YXRpb25OYW1lO1xyXG4gICAgICAgICAgICAgICAgb3JnYW5pemF0aW9uLmluY2x1ZGVDaGlsZHJlbiA9IChyZXMgYXMgYW55KS5pbmNsdWRlQ2hpbGRyZW47XHJcbiAgICAgICAgICAgICAgICBvcmdhbml6YXRpb24ucGFyZW50c1VudGlsID0gKHJlcyBhcyBhbnkpLnBhcmVudHNVbnRpbDtcclxuICAgICAgICAgICAgICAgIG9yZ2FuaXphdGlvbi50YWcgPSAocmVzIGFzIGFueSkudGFnO1xyXG4gICAgICAgICAgICAgICAgb3JnYW5pemF0aW9uLm9yZGVyID0gMTtcclxuICAgICAgICAgICAgICAgIGxpc3QucHVzaChvcmdhbml6YXRpb24pO1xyXG4gICAgICAgICAgICB9ZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBsaXN0ID0gUHJvcGVydHlIZWxwZXIuZ2V0UGVyZm9ybWVyTGlzdFRlc3Qocm9sZXMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIG5vdGlmeVNjb3BlVGVzdC5zY29wZSA9IG5ldyBPcmdhbml6YXRpb25Qb3RlbnRpYWxPd25lcigpO1xyXG4gICAgICAgICAgICBpZihsaXN0ICYmIGxpc3QubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgbm90aWZ5U2NvcGVUZXN0LnNjb3BlLnBhcnRpY2lwYW50SW5mbyA9IG5ldyBQYXJ0aWNpcGFudEluZm8oKTtcclxuICAgICAgICAgICAgICAgIG5vdGlmeVNjb3BlVGVzdC5zY29wZS5wYXJ0aWNpcGFudEluZm8ucG90ZW50aWFsT3duZXJMaXN0ID0gbGlzdDtcclxuICAgICAgICAgICAgICAgIG5vdGlmeVNjb3BlVGVzdC5zY29wZS5wYXJ0aWNpcGFudEluZm8uaXNBbGxTY29wZSA9IHRydWU7XHJcbiAgICAgICAgICAgIH1lbHNlIHtcclxuICAgICAgICAgICAgICAgIG5vdGlmeVNjb3BlVGVzdC5zY29wZS5wYXJ0aWNpcGFudEluZm8gPSBuZXcgUGFydGljaXBhbnRJbmZvKCk7XHJcbiAgICAgICAgICAgICAgICBub3RpZnlTY29wZVRlc3Quc2NvcGUucGFydGljaXBhbnRJbmZvLmlzQWxsU2NvcGUgPSBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIG5vdGlmeVNjb3BlVGVzdC5lbmFibGUgPSB1c2VyQWN0aXZpdHkuTm90aWZ5QWJsZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG5vdGlmeVNjb3BlVGVzdDtcclxuICAgIH1cclxuICAgIGdldFRpbWVMaW1pdEluZm8odXNlckFjdGl2aXR5OiBVc2VyQWN0aXZpdHkpOiBUaW1lTGltaXRDb250cm9sSW5mbyB7XHJcbiAgICAgICAgaWYgKHVzZXJBY3Rpdml0eS50aW1lTGltaXRDb250cm9sKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHRpbWVMaW1pdCA9IG5ldyBUaW1lTGltaXRDb250cm9sSW5mbygpO1xyXG4gICAgICAgICAgICB0aW1lTGltaXQuZW5hYmxlID0gdXNlckFjdGl2aXR5LnRpbWVMaW1pdENvbnRyb2wuZW5hYmxlO1xyXG4gICAgICAgICAgICB0aW1lTGltaXQudGFnID0gdXNlckFjdGl2aXR5LnRpbWVMaW1pdENvbnRyb2wudGFnO1xyXG4gICAgICAgICAgICB0aW1lTGltaXQuZHVlVGltZSA9IHVzZXJBY3Rpdml0eS50aW1lTGltaXRDb250cm9sLmR1ZVRpbWU7XHJcbiAgICAgICAgICAgIHRpbWVMaW1pdC50aW1lVW5pdCA9IHVzZXJBY3Rpdml0eS50aW1lTGltaXRDb250cm9sLnRpbWVVbml0O1xyXG4gICAgICAgICAgICB0aW1lTGltaXQuZXhwaXJlT3BlcmF0aW9ucyA9IG5ldyBBcnJheSgpO1xyXG4gICAgICAgICAgICBpZiAodXNlckFjdGl2aXR5LnRpbWVMaW1pdENvbnRyb2wuZXhwaXJlT3BlcmF0aW9ucyAmJiB1c2VyQWN0aXZpdHkudGltZUxpbWl0Q29udHJvbC5leHBpcmVPcGVyYXRpb25zLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG9wZXJhdGlvbnMgPSB1c2VyQWN0aXZpdHkudGltZUxpbWl0Q29udHJvbC5leHBpcmVPcGVyYXRpb25zO1xyXG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBvIG9mIG9wZXJhdGlvbnMpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoby5DbHJUeXBlSUQuaW5kZXhPZignU2VuZE1lc3NhZ2VFeHBpcmVPcGVyYXRpb24nKSA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgb3BlcmF0aW9uID0gbyBhcyBTZW5kTWVzc2FnZUV4cGlyZU9wZXJhdGlvbjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2VuZE1lc3NhZ2UgPSBuZXcgU2VuZE1lc3NhZ2VFeHBpcmVPcGVyYXRpb25JbmZvKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbmRNZXNzYWdlLnRpbWVEdXJhdGlvbiA9IG9wZXJhdGlvbi50aW1lRHVyYXRpb247XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbmRNZXNzYWdlLmR1cmF0aW9uVHlwZSA9IG9wZXJhdGlvbi5kdXJhdGlvblR5cGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbmRNZXNzYWdlLnRpbWVVbml0ID0gb3BlcmF0aW9uLnRpbWVVbml0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZW5kTWVzc2FnZS5tZXNzYWdlID0gb3BlcmF0aW9uLm1lc3NhZ2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbmRNZXNzYWdlLnNlbmRUeXBlID0gb3BlcmF0aW9uLnNlbmRUeXBlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZW5kTWVzc2FnZS5zdWJqZWN0ID0gb3BlcmF0aW9uLnN1YmplY3Q7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbmRNZXNzYWdlLmlkID0gb3BlcmF0aW9uLmlkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZW5kTWVzc2FnZS5yZWNlaXZlciA9IG9wZXJhdGlvbi5yZWNlaXZlcjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VuZE1lc3NhZ2UuY3ljbGVFbmFibGUgPSBvcGVyYXRpb24uY3ljbGVFbmFibGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbmRNZXNzYWdlLmN5Y2xlVGltZSA9IG9wZXJhdGlvbi5jeWNsZVRpbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbmRNZXNzYWdlLmN5Y2xlVGltZVVuaXQgPSBvcGVyYXRpb24uY3ljbGVUaW1lVW5pdDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VuZE1lc3NhZ2Uub3BlcmF0aW9uVHlwZU5hbWUgPSBvcGVyYXRpb24ub3BlcmF0aW9uVHlwZU5hbWUgPyBvcGVyYXRpb24ub3BlcmF0aW9uVHlwZU5hbWUgOiAnU2VuZE1lc3NhZ2VFeHBpcmVPcGVyYXRpb24nO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAob3BlcmF0aW9uLnNtc01lc3NhZ2VUZW1wbGF0ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc21zVGVtcGxhdGU6IGFueSA9IG5ldyBPYmplY3Q7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzbXNUZW1wbGF0ZS5jb2RlID0gb3BlcmF0aW9uLnNtc01lc3NhZ2VUZW1wbGF0ZS5jb2RlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc21zVGVtcGxhdGUuY29udGVudCA9IG9wZXJhdGlvbi5zbXNNZXNzYWdlVGVtcGxhdGUuY29udGVudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNtc1RlbXBsYXRlLnNtc01lc3NhZ2VWYXJpYWJsZXMgPSBuZXcgQXJyYXkoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvcGVyYXRpb24uc21zTWVzc2FnZVRlbXBsYXRlLnNtc01lc3NhZ2VWYXJpYWJsZXMgJiYgb3BlcmF0aW9uLnNtc01lc3NhZ2VUZW1wbGF0ZS5zbXNNZXNzYWdlVmFyaWFibGVzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHYgb2Ygb3BlcmF0aW9uLnNtc01lc3NhZ2VUZW1wbGF0ZS5zbXNNZXNzYWdlVmFyaWFibGVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhcmlhYmxlOiBhbnkgPSBuZXcgT2JqZWN0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXJpYWJsZS5pZCA9IFdmRGVzaWduZXJVdGlscy5jcmVhdGVOTSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXJpYWJsZS5jb2RlID0gdi5jb2RlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXJpYWJsZS52YWx1ZSA9IHYudmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhcmlhYmxlLnRhZyA9IHYudGFnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzbXNUZW1wbGF0ZS5zbXNNZXNzYWdlVmFyaWFibGVzLnB1c2godmFyaWFibGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbmRNZXNzYWdlLnNtc01lc3NhZ2VUZW1wbGF0ZSA9IHNtc1RlbXBsYXRlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVMaW1pdC5leHBpcmVPcGVyYXRpb25zLnB1c2goc2VuZE1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoby5DbHJUeXBlSUQuaW5kZXhPZignQXV0b0hhbmRsZUV4cGlyZU9wZXJhdGlvbicpID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBvcGVyYXRpb24gPSBvIGFzIEF1dG9IYW5kbGVFeHBpcmVPcGVyYXRpb247XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGF1dG9IYW5kbGUgPSBuZXcgQXV0b0hhbmRsZUV4cGlyZU9wZXJhdGlvbkluZm8oKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXV0b0hhbmRsZS5pZCA9IG9wZXJhdGlvbi5pZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXV0b0hhbmRsZS5kdXJhdGlvblR5cGUgPSBvcGVyYXRpb24uZHVyYXRpb25UeXBlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhdXRvSGFuZGxlLnRpbWVEdXJhdGlvbiA9IG9wZXJhdGlvbi50aW1lRHVyYXRpb247XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGF1dG9IYW5kbGUudGltZVVuaXQgPSBvcGVyYXRpb24udGltZVVuaXQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGF1dG9IYW5kbGUub3BlcmF0aW9uVHlwZU5hbWUgPSBvcGVyYXRpb24ub3BlcmF0aW9uVHlwZU5hbWUgPyBvcGVyYXRpb24ub3BlcmF0aW9uVHlwZU5hbWUgOiAnQXV0b0hhbmRsZUV4cGlyZU9wZXJhdGlvbic7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGF1dG9IYW5kbGUuYXV0b0hhbmRsZVR5cGUgPSBvcGVyYXRpb24uYXV0b0hhbmRsZVR5cGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGF1dG9IYW5kbGUubWVzc2FnZSA9IG9wZXJhdGlvbi5tZXNzYWdlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aW1lTGltaXQuZXhwaXJlT3BlcmF0aW9ucy5wdXNoKGF1dG9IYW5kbGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHRpbWVMaW1pdDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0VXJnZUhhbmRsZVJ1bGUodXNlckFjdGl2aXR5OiBVc2VyQWN0aXZpdHkpIHtcclxuICAgICAgICBpZiAoIXVzZXJBY3Rpdml0eS51cmdlSGFuZGxlUnVsZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgcnVsZSA9IHVzZXJBY3Rpdml0eS51cmdlSGFuZGxlUnVsZTtcclxuICAgICAgICBsZXQgdXJnZUhhbmRsZVJ1bGU6IGFueSA9IHtcclxuICAgICAgICAgICAgdXJnZUhhbmRsZUFibGU6IHJ1bGUudXJnZUhhbmRsZUFibGUsXHJcbiAgICAgICAgICAgIHNlbmRUeXBlOiBydWxlLnNlbmRUeXBlLFxyXG4gICAgICAgICAgICBlYXJseVRpbWU6IHJ1bGUuZWFybHlUaW1lLFxyXG4gICAgICAgICAgICBpbnRlcnZhbFRpbWU6IHJ1bGUuaW50ZXJ2YWxUaW1lLFxyXG4gICAgICAgICAgICB1cmdlTWVzc2FnZVN1YmplY3Q6IHJ1bGUudXJnZU1lc3NhZ2VTdWJqZWN0LFxyXG4gICAgICAgICAgICB1cmdlTWVzc2FnZUNvbnRlbnQ6IHJ1bGUudXJnZU1lc3NhZ2VDb250ZW50LFxyXG4gICAgICAgICAgICBhZGRSZW1pbmRlcjogcnVsZS5hZGRSZW1pbmRlcixcclxuICAgICAgICAgICAgc3ViamVjdEVkaXRhYmxlOiBydWxlLnN1YmplY3RFZGl0YWJsZSxcclxuICAgICAgICAgICAgY29udGVudEVkaXRhYmxlOiBydWxlLmNvbnRlbnRFZGl0YWJsZVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAocnVsZS5zbXNNZXNzYWdlVGVtcGxhdGUpIHtcclxuICAgICAgICAgICAgY29uc3Qgc21zVGVtcGxhdGU6IGFueSA9IG5ldyBPYmplY3Q7XHJcbiAgICAgICAgICAgIHNtc1RlbXBsYXRlLmNvZGUgPSBydWxlLnNtc01lc3NhZ2VUZW1wbGF0ZS5jb2RlO1xyXG4gICAgICAgICAgICBzbXNUZW1wbGF0ZS5jb250ZW50ID0gcnVsZS5zbXNNZXNzYWdlVGVtcGxhdGUuY29udGVudDtcclxuICAgICAgICAgICAgc21zVGVtcGxhdGUuc21zTWVzc2FnZVZhcmlhYmxlcyA9IG5ldyBBcnJheSgpO1xyXG4gICAgICAgICAgICBpZiAocnVsZS5zbXNNZXNzYWdlVGVtcGxhdGUuc21zTWVzc2FnZVZhcmlhYmxlcyAmJiBydWxlLnNtc01lc3NhZ2VUZW1wbGF0ZS5zbXNNZXNzYWdlVmFyaWFibGVzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgdiBvZiBydWxlLnNtc01lc3NhZ2VUZW1wbGF0ZS5zbXNNZXNzYWdlVmFyaWFibGVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdmFyaWFibGU6IGFueSA9IG5ldyBPYmplY3Q7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyaWFibGUuaWQgPSBXZkRlc2lnbmVyVXRpbHMuY3JlYXRlTk0oKTtcclxuICAgICAgICAgICAgICAgICAgICB2YXJpYWJsZS5jb2RlID0gdi5jb2RlO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhcmlhYmxlLnZhbHVlID0gdi52YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICB2YXJpYWJsZS50YWcgPSB2LnRhZztcclxuICAgICAgICAgICAgICAgICAgICBzbXNUZW1wbGF0ZS5zbXNNZXNzYWdlVmFyaWFibGVzLnB1c2godmFyaWFibGUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHVyZ2VIYW5kbGVSdWxlLnNtc01lc3NhZ2VUZW1wbGF0ZSA9IHNtc1RlbXBsYXRlO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdXJnZUhhbmRsZVJ1bGU7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0Q2hlY2tDb25kaXRpb25zKHVzZXJBY3Rpdml0eTogVXNlckFjdGl2aXR5KTogQXJyYXk8YW55PiB7XHJcbiAgICAgICAgaWYgKHVzZXJBY3Rpdml0eS5jaGVja0NvbmRpdGlvbnMgJiYgdXNlckFjdGl2aXR5LmNoZWNrQ29uZGl0aW9ucy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB1c2VyQWN0aXZpdHkuY2hlY2tDb25kaXRpb25zLm1hcChjID0+ICh7XHJcbiAgICAgICAgICAgICAgICB2YWx1ZTogYy52YWx1ZSxcclxuICAgICAgICAgICAgICAgIGNoZWNrVGltZTogYy5jaGVja1RpbWUsXHJcbiAgICAgICAgICAgICAgICBlcnJvclRpcHM6IGMuZXJyb3JUaXBzID8gQXJyYXkuZnJvbShjLmVycm9yVGlwcykucmVkdWNlKChvYmosIFtrZXksIHZhbHVlXSkgPT4gT2JqZWN0LmFzc2lnbihvYmosIHsgW2tleV06IHZhbHVlIH0pLCB7fSkgOiBudWxsXHJcbiAgICAgICAgICAgIH0pKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlUHJvcHMob2JqOiBhbnkpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLnVwZGF0ZVByb3BzQnlJc09wZXJhdGlvbihvYmopO1xyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZVByb3BzQnlJc09wZXJhdGlvbihvYmo6IGFueSwgaXNPcGVyYXRpb246IGJvb2xlYW4gPSBmYWxzZSkge1xyXG4gICAgICAgIGNvbnN0IGVkaXRvclVpID0gdGhpcy5lZGl0b3JVaTtcclxuICAgICAgICBjb25zdCB1c2VyQWN0aXZpdHkgPSB0aGlzLmZsb3dFbGVtZW50O1xyXG4gICAgICAgIGNvbnN0IHByb3BlcnR5SWQ6IHN0cmluZyA9IG9iai5wcm9wZXJ0eUlEO1xyXG4gICAgICAgIHN3aXRjaCAocHJvcGVydHlJZCkge1xyXG4gICAgICAgICAgICBjYXNlIFVzZXJBY3Rpdml0eVByb3BlcnR5S2V5cy5QYXJ0aWNpcGFudFNjaGVtZXM6IC8vIOWPguS4juiAheWxnuaAp1xyXG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVQYXJ0aWNpcGFudCh1c2VyQWN0aXZpdHksIG9iaiwgaXNPcGVyYXRpb24pO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgVXNlckFjdGl2aXR5UHJvcGVydHlLZXlzLlBhcnRpY2lwYW50T3B0aW9uczogLy8g5Y+C5LiO6ICF6YCJ6aG5XHJcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVBhcnRpY2lwYW50T3B0aW9ucyh1c2VyQWN0aXZpdHksIG9iaik7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgLy8gY2FzZSBVc2VyQWN0aXZpdHlQcm9wZXJ0eUtleXMuQXNzaWduUGVyZm9ybWVyOlxyXG4gICAgICAgICAgICAvLyAgICAgdGhpcy51cGRhdGVQb3RlbnRpYWxPd25lckltcGwoZ3JhcGguYnBtbk1vZGVsLCB1c2VyQWN0aXZpdHksIG9iaik7XHJcbiAgICAgICAgICAgIC8vICAgICBicmVhaztcclxuICAgICAgICAgICAgLy8gY2FzZSBVc2VyQWN0aXZpdHlQcm9wZXJ0eUtleXMuQXNzaWduU3RyYXRlZ3k6XHJcbiAgICAgICAgICAgIC8vICAgICB0aGlzLnVwZGF0ZUFzc2lnblN0cmF0ZWd5KGdyYXBoLCB1c2VyQWN0aXZpdHksIG9iaiwgaXNPcGVyYXRpb24pO1xyXG4gICAgICAgICAgICAvLyAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIC8vIGNhc2UgVXNlckFjdGl2aXR5UHJvcGVydHlLZXlzLk9wZXJhdG9yQ29uZmlnOlxyXG4gICAgICAgICAgICAvLyAgICAgdGhpcy51cGRhdGVPcGVyYXRvckNvbmZpZyh1c2VyQWN0aXZpdHksIG9iaik7XHJcbiAgICAgICAgICAgIC8vICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBVc2VyQWN0aXZpdHlQcm9wZXJ0eUtleXMuQ29tcGxldGVTdHJhdGVneTpcclxuICAgICAgICAgICAgICAgIHRoaXMucmVzZXRFeGVjdXRlV29ya0l0ZW1Nb2RlKHVzZXJBY3Rpdml0eSwgb2JqLCBpc09wZXJhdGlvbik7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBVc2VyQWN0aXZpdHlQcm9wZXJ0eUtleXMuRGlzcGxheVRlcm1pbmFsOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5yZXNldERpc3BsYXlUZXJtaW5hbCh1c2VyQWN0aXZpdHksIG9iaik7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBVc2VyQWN0aXZpdHlQcm9wZXJ0eUtleXMuU2lnblJ1bGU6XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlc2V0U2lnblJ1bGVzKHVzZXJBY3Rpdml0eSwgb2JqLCBpc09wZXJhdGlvbik7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBVc2VyQWN0aXZpdHlQcm9wZXJ0eUtleXMuQXBwcm92YWxJdGVtczpcclxuICAgICAgICAgICAgICAgIHRoaXMucmVzZXRBcHByb3ZhbEl0ZW1zKHVzZXJBY3Rpdml0eSwgb2JqLCBpc09wZXJhdGlvbik7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBVc2VyQWN0aXZpdHlQcm9wZXJ0eUtleXMud2ZfRXhlY3V0ZUZvcm1zX1BDOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5yZXNldEV4ZWN1dGVGb3JtKHVzZXJBY3Rpdml0eSwgb2JqLCAnUEMnKTtcclxuICAgICAgICAgICAgICAgIGlmIChvYmoucGFyYW1ldGVycyAmJiBvYmoucGFyYW1ldGVycy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgUHJvcGVydHlIZWxwZXIudXBkYXRlRm9ybWFsUGFyYW1ldGVycyhlZGl0b3JVaS5ncmFwaC5icG1uTW9kZWwuRGVmYXVsdFByb2Nlc3MsIG9iai5wYXJhbWV0ZXJzKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFVzZXJBY3Rpdml0eVByb3BlcnR5S2V5cy53Zl9FeGVjdXRlRm9ybXNfTW9iaWxlOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5yZXNldEV4ZWN1dGVGb3JtKHVzZXJBY3Rpdml0eSwgb2JqLCAnTU9CSUxFJyk7XHJcbiAgICAgICAgICAgICAgICBpZiAob2JqLnBhcmFtZXRlcnMgJiYgb2JqLnBhcmFtZXRlcnMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIFByb3BlcnR5SGVscGVyLnVwZGF0ZUZvcm1hbFBhcmFtZXRlcnMoZWRpdG9yVWkuZ3JhcGguYnBtbk1vZGVsLkRlZmF1bHRQcm9jZXNzLCBvYmoucGFyYW1ldGVycyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBVc2VyQWN0aXZpdHlQcm9wZXJ0eUtleXMuU2VsZWN0VGFyZ2V0QWJsZTpcclxuICAgICAgICAgICAgICAgIHRoaXMucmVzZXRTZWxlY3RUYXJnZXRBYmxlKHVzZXJBY3Rpdml0eSwgb2JqLCBpc09wZXJhdGlvbik7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBVc2VyQWN0aXZpdHlQcm9wZXJ0eUtleXMuSnVtcFNjb3BlOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5yZXNldEp1bXBTY29wZSh1c2VyQWN0aXZpdHksIG9iaik7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBVc2VyQWN0aXZpdHlQcm9wZXJ0eUtleXMuQmFja1dhcmRSdWxlOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5yZXNldEJhY2tXYXJkUnVsZSh1c2VyQWN0aXZpdHksIG9iaik7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBVc2VyQWN0aXZpdHlQcm9wZXJ0eUtleXMuTXVsdGlJbnN0YW5jZUxvb3BDaGFyYWN0ZXJpc3RpY3M6XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlc2V0TXVsdGlJbnN0YW5jZUxvb3BDaGFyYWN0ZXJpc3RpY3ModXNlckFjdGl2aXR5LCBvYmopO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgVXNlckFjdGl2aXR5UHJvcGVydHlLZXlzLlRvb2xzOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5yZXNldFRvb2xzKHVzZXJBY3Rpdml0eSwgb2JqKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFVzZXJBY3Rpdml0eVByb3BlcnR5S2V5cy53Zl9UaXRsZUV4cHJlc3Npb246XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1vZGlmeVRpdGxlRXhwcmVzc2lvbih1c2VyQWN0aXZpdHksIG9iaik7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBVc2VyQWN0aXZpdHlQcm9wZXJ0eUtleXMuQWRkU2lnbkZyb250QWJsZTpcclxuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlU2lnbkZyb250U2V0KHVzZXJBY3Rpdml0eSwgb2JqKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFVzZXJBY3Rpdml0eVByb3BlcnR5S2V5cy5BZGRTaWduQmVoaW5kQWJsZTpcclxuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlU2lnbkJlaGluZHNTZXQodXNlckFjdGl2aXR5LCBvYmopO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgVXNlckFjdGl2aXR5UHJvcGVydHlLZXlzLk5vdGlmeUFibGU6XHJcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZU5vdGlmeVNldCh1c2VyQWN0aXZpdHksIG9iaik7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBVc2VyQWN0aXZpdHlQcm9wZXJ0eUtleXMudHJhbnNmZXJTY29wZTpcclxuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlVHJhbnNmZXJTY29wZSh1c2VyQWN0aXZpdHksIG9iaik7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBVc2VyQWN0aXZpdHlQcm9wZXJ0eUtleXMud2ZfQ3VzdG9taXplQWN0aW9uOlxyXG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVDdXN0b21pemVBY3Rpb25zKHVzZXJBY3Rpdml0eSwgb2JqKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFVzZXJBY3Rpdml0eVByb3BlcnR5S2V5cy50aW1lTGltaXRDb250cm9sOlxyXG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVUaW1lTGltaXRDb250cm9sKHVzZXJBY3Rpdml0eSwgb2JqKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFVzZXJBY3Rpdml0eVByb3BlcnR5S2V5cy5hbm9ueW1vdXNTZXQ6XHJcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUFub255bW91c1NldCh1c2VyQWN0aXZpdHksIG9iaik7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBVc2VyQWN0aXZpdHlQcm9wZXJ0eUtleXMudmFyaWFibGVTZXR0aW5nczpcclxuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlVmFyaWFibGVTZXR0aW5ncyh1c2VyQWN0aXZpdHksIG9iaik7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBVc2VyQWN0aXZpdHlQcm9wZXJ0eUtleXMubWVzc2FnZU5vdGljZTpcclxuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlTWVzc2FnZU5vdGljZXModXNlckFjdGl2aXR5LCBvYmopO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgVXNlckFjdGl2aXR5UHJvcGVydHlLZXlzLmFwcHJvdmFsUGl2b3RDb25maWc6XHJcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUFwcHJvdmFsUGl2b3RDb25maWcodXNlckFjdGl2aXR5LCBvYmopO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgVXNlckFjdGl2aXR5UHJvcGVydHlLZXlzLnVyZ2VIYW5kbGVSdWxlOlxyXG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVVcmdlSGFuZGxlUnVsZSh1c2VyQWN0aXZpdHksIG9iaik7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBVc2VyQWN0aXZpdHlQcm9wZXJ0eUtleXMuaW1hZ2VTZXR0aW5nczogLy8g5pu05paw5Y+Y6YeP6K6+572u5bGe5oCnXHJcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUltYWdlU2V0dGluZ3ModXNlckFjdGl2aXR5LCBvYmopO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgVXNlckFjdGl2aXR5UHJvcGVydHlLZXlzLmNoZWNrQ29uZGl0aW9uczpcclxuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlQ2hlY2tDb25kaXRpb25zKHVzZXJBY3Rpdml0eSwgb2JqLCBpc09wZXJhdGlvbik7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBVc2VyQWN0aXZpdHlQcm9wZXJ0eUtleXMub3RoZXJBc3NpZ25BY3Rpdml0aWVzOlxyXG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVPdGhlckFzc2lnbkFjdGl2aXRpZXModXNlckFjdGl2aXR5LCBvYmopO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgVXNlckFjdGl2aXR5UHJvcGVydHlLZXlzLm90aGVyQXNzaWduQWN0aXZpdHlOb2RlSW5mb3M6XHJcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZU90aGVyQXNzaWduQWN0aXZpdGllcyh1c2VyQWN0aXZpdHksIG9iaik7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBVc2VyQWN0aXZpdHlQcm9wZXJ0eUtleXMub3RoZXJBc3NpZ25Ob2RlczpcclxuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlT3RoZXJBc3NpZ25Ob2Rlcyh1c2VyQWN0aXZpdHksIG9iaik7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIC8vIOWIpOaWrVJlc291cmNlS2V5c+aYr+S4jeaYr2dyb3VwaWQs5piv5bCx6LWwcmVzZXRFeHRlbmRQcm9wZXJ0eVxyXG4gICAgICAgICAgICAgICAgaWYgKGVkaXRvclVpLnByb2NFeHRQcm9wcy5maW5kSW5kZXgocCA9PiBwLmlkID09PSBwcm9wZXJ0eUlkKSA+IC0xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXNldEV4dGVuZFByb3BlcnR5KHVzZXJBY3Rpdml0eSwgb2JqKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3VwZXIudXBkYXRlUHJvcHMob2JqKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOS/ruaUueWPguS4juiAhVxyXG4gICAgICogQHBhcmFtIGdyYXBoXHJcbiAgICAgKiBAcGFyYW0gdXNlckFjdGl2aXR5XHJcbiAgICAgKiBAcGFyYW0gb2JqXHJcbiAgICAgKiBAcGFyYW0gaXNPcGVyYXRpb25cclxuICAgICAqL1xyXG4gICAgdXBkYXRlUGFydGljaXBhbnQodXNlckFjdGl2aXR5OiBVc2VyQWN0aXZpdHksIG9iajogYW55LCBpc09wZXJhdGlvbiA9IGZhbHNlKSB7XHJcbiAgICAgICAgY29uc3QgcGVyZm9ybWVySW5mbzogUGFydGljaXBhbnRJbmZvID0gb2JqLnByb3BlcnR5VmFsdWU7XHJcblxyXG4gICAgICAgIGlmIChwZXJmb3JtZXJJbmZvLmFzc2lnblN0cmF0ZWd5LmFzc2lnblN0cmF0ZWd5ID09PSBBc3NpZ25tZW50U3RyYXRlZ3kuQ0xBSU1cclxuICAgICAgICAgICAgJiYgdXNlckFjdGl2aXR5LlBhcnRpY2lwYW50U2V0dGluZ1xyXG4gICAgICAgICAgICAmJiB1c2VyQWN0aXZpdHkuUGFydGljaXBhbnRTZXR0aW5nLmF1dG9tYXRpY1BlcmZvcm1lcnNcclxuICAgICAgICAgICAgJiYgdXNlckFjdGl2aXR5LlBhcnRpY2lwYW50U2V0dGluZy5hdXRvbWF0aWNQZXJmb3JtZXJzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgLy8gVXRpbHMucG9zdE1lc3NhZ2UoUmVzb3VyY2VLZXlzLndmX3Nob3dUaXAsIHtcclxuICAgICAgICAgICAgLy8gICAgIHR5cGU6ICdtZXNzYWdlJyxcclxuICAgICAgICAgICAgLy8gICAgIGxldmVsOiAnd2FybmluZycsXHJcbiAgICAgICAgICAgIC8vICAgICBtZXNzYWdlOiAn5b2T5YmN6IqC54K544CQ5Y+C5LiO6ICF6YCJ6aG544CR5bey6K6+572u6Ieq5Yqo5a6h5om577yM44CQ5YiG6YWN562W55Wl44CR5LiN5YWB6K646K6+572u5Li644CQ6aKG55So44CRJ1xyXG4gICAgICAgICAgICAvLyB9KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmNoZWNrT3RoZXJBc3NpZ25Ob2Rlcyh1c2VyQWN0aXZpdHksIHBlcmZvcm1lckluZm8pO1xyXG4gICAgICAgICAgICB1c2VyQWN0aXZpdHkuQXNzaWduUGVyZm9ybWVyQ29uZmlnID0gbnVsbDtcclxuICAgICAgICAgICAgdXNlckFjdGl2aXR5LkFzc2lnbm1lbnRTdHJhdGVneSA9IHBlcmZvcm1lckluZm8uYXNzaWduU3RyYXRlZ3kuYXNzaWduU3RyYXRlZ3k7XHJcbiAgICAgICAgICAgIGNvbnN0IHJlc291cmNlUm9sZXMgPSB1c2VyQWN0aXZpdHkuR2V0UmVzb3VyY2VSb2xlcygpO1xyXG4gICAgICAgICAgICBpZiAocmVzb3VyY2VSb2xlcyAmJiByZXNvdXJjZVJvbGVzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgIHJlc291cmNlUm9sZXMuZm9yRWFjaChyID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAociBpbnN0YW5jZW9mIEh1bWFuUGVyZm9ybWVySW1wbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB1c2VyQWN0aXZpdHkuUmVtb3ZlUmVzb3VyY2VSb2xlKHIuSWQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAociBpbnN0YW5jZW9mIFBvdGVudGlhbE93bmVySW1wbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB1c2VyQWN0aXZpdHkuUmVtb3ZlUmVzb3VyY2VSb2xlKHIuSWQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChwZXJmb3JtZXJJbmZvLmh1bWFuUGVyZm9ybWVyTGlzdCAmJiBwZXJmb3JtZXJJbmZvLmh1bWFuUGVyZm9ybWVyTGlzdC5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGh1bWFuUGVyZm9ybWVyIG9mIHBlcmZvcm1lckluZm8uaHVtYW5QZXJmb3JtZXJMaXN0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChodW1hblBlcmZvcm1lci50eXBlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgVXNlclBhcnRpY2lwYW50RXhwcmVzc2lvbi5DbHJfVHlwZV9JRDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkVXNlclBhcnRpY2lwYW50KHVzZXJBY3Rpdml0eSwgaHVtYW5QZXJmb3JtZXIgYXMgVXNlclBhcnRpY2lwYW50LCAnaHVtYW5QZXJmb3JtZXInLCBudWxsKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFZhcmlhYmxlUGFydGljaXBhbnRFeHByZXNzaW9uLkNscl9UeXBlX0lEOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGRWYXJpYWJsZVBhcnRpY2lwYW50KHVzZXJBY3Rpdml0eSwgaHVtYW5QZXJmb3JtZXIgYXMgVmFyaWFibGVQZXJmb3JtZXIsICdodW1hblBlcmZvcm1lcicsIG51bGwpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBQb3NpdGlvblBhcnRpY2lwYW50RXhwcmVzc2lvbi5DbHJfVHlwZV9JRDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkUG9zaXRpb25QYXJ0aWNpcGFudCh1c2VyQWN0aXZpdHksIGh1bWFuUGVyZm9ybWVyIGFzIFBvc2l0aW9uUGFydGljaXBhbnQsICdodW1hblBlcmZvcm1lcicsIG51bGwpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgQ29tcG9uZW50UGFydGljaXBhbnRFeHByZXNzaW9uLkNscl9UeXBlX0lEOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGRDb21wb25lbnRQYXJ0aWNpcGFudCh1c2VyQWN0aXZpdHksIGh1bWFuUGVyZm9ybWVyIGFzIENvbXBvbmVudFBhcnRpY2lwYW50LCAnaHVtYW5QZXJmb3JtZXInLCBudWxsKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFJlcG9ydGluZ0xpbmVQYXJ0aWNpcGFudEV4cHJlc3Npb24uQ2xyX1R5cGVfSUQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZFJlcG9ydGluZ0xpbmVQYXJ0aWNpcGFudCh1c2VyQWN0aXZpdHksIGh1bWFuUGVyZm9ybWVyIGFzIFJlcG9ydGluZ0xpbmVQYXJ0aWNpcGFudCwgJ2h1bWFuUGVyZm9ybWVyJywgbnVsbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBBY3Rpdml0eUV4ZWN1dG9yUGFydGljaXBhbnRFeHByZXNzaW9uLkNscl9UeXBlX0lEOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGRBY3Rpdml0eUV4ZWN1dG9yUGFydGljaXBhbnQodXNlckFjdGl2aXR5LCBodW1hblBlcmZvcm1lciBhcyBBY3Rpdml0eUV4ZWN1dG9yUGFydGljaXBhbnQsICdodW1hblBlcmZvcm1lcicsIG51bGwpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgTWF0cml4UGFydGljaXBhbnRFeHByZXNzaW9uLkNscl9UeXBlX0lEOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGRNYXRyaXhQYXJ0aWNpcGFudCh1c2VyQWN0aXZpdHksIGh1bWFuUGVyZm9ybWVyIGFzIE1hdHJpeFBhcnRpY2lwYW50LCAnaHVtYW5QZXJmb3JtZXInLCBudWxsKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAocGVyZm9ybWVySW5mby5hc3NpZ25TdHJhdGVneS5hc3NpZ25TdHJhdGVneSA9PT0gQXNzaWdubWVudFN0cmF0ZWd5LkFTU0lHTikge1xyXG5cclxuICAgICAgICAgICAgICAgIGNvbnN0IGFzc2lnblBlcmZvcm1lckNvbmZpZyA9IG5ldyBBc3NpZ25QZXJmb3JtZXJDb25maWcodXNlckFjdGl2aXR5Lk1vZGVsKTtcclxuICAgICAgICAgICAgICAgIGFzc2lnblBlcmZvcm1lckNvbmZpZy5PcGVyYXRvciA9IHBlcmZvcm1lckluZm8uYXNzaWduU3RyYXRlZ3kuYXNzaWduQ29uZmlnLm9wZXJhdG9yO1xyXG4gICAgICAgICAgICAgICAgYXNzaWduUGVyZm9ybWVyQ29uZmlnLk11bHRpU2VsZWN0ID0gcGVyZm9ybWVySW5mby5hc3NpZ25TdHJhdGVneS5hc3NpZ25Db25maWcubXVsdGlTZWxlY3Q7XHJcbiAgICAgICAgICAgICAgICBhc3NpZ25QZXJmb3JtZXJDb25maWcuTmVjZXNzYXJ5ID0gcGVyZm9ybWVySW5mby5hc3NpZ25TdHJhdGVneS5hc3NpZ25Db25maWcubmVjZXNzYXJ5O1xyXG4gICAgICAgICAgICAgICAgYXNzaWduUGVyZm9ybWVyQ29uZmlnLkFsbG93R2xvYmFsQXNzaWduID0gcGVyZm9ybWVySW5mby5pc0FsbFNjb3BlO1xyXG5cclxuICAgICAgICAgICAgICAgIHVzZXJBY3Rpdml0eS5Bc3NpZ25QZXJmb3JtZXJDb25maWcgPSBhc3NpZ25QZXJmb3JtZXJDb25maWc7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXBlcmZvcm1lckluZm8uaXNBbGxTY29wZSAmJiBwZXJmb3JtZXJJbmZvLnBvdGVudGlhbE93bmVyTGlzdCAmJiBwZXJmb3JtZXJJbmZvLnBvdGVudGlhbE93bmVyTGlzdC5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBwb3RlbnRpYWxPd25lciBvZiBwZXJmb3JtZXJJbmZvLnBvdGVudGlhbE93bmVyTGlzdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKHBvdGVudGlhbE93bmVyLnR5cGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgVXNlclBhcnRpY2lwYW50RXhwcmVzc2lvbi5DbHJfVHlwZV9JRDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZFVzZXJQYXJ0aWNpcGFudCh1c2VyQWN0aXZpdHksIHBvdGVudGlhbE93bmVyIGFzIFVzZXJQYXJ0aWNpcGFudCwgJ3BvdGVudGlhbE93bmVyJywgbnVsbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFZhcmlhYmxlUGFydGljaXBhbnRFeHByZXNzaW9uLkNscl9UeXBlX0lEOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkVmFyaWFibGVQYXJ0aWNpcGFudCh1c2VyQWN0aXZpdHksIHBvdGVudGlhbE93bmVyIGFzIFZhcmlhYmxlUGVyZm9ybWVyLCAncG90ZW50aWFsT3duZXInLCBudWxsKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBQb3NpdGlvblBhcnRpY2lwYW50RXhwcmVzc2lvbi5DbHJfVHlwZV9JRDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZFBvc2l0aW9uUGFydGljaXBhbnQodXNlckFjdGl2aXR5LCBwb3RlbnRpYWxPd25lciBhcyBQb3NpdGlvblBhcnRpY2lwYW50LCAncG90ZW50aWFsT3duZXInLCBudWxsKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgQ29tcG9uZW50UGFydGljaXBhbnRFeHByZXNzaW9uLkNscl9UeXBlX0lEOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkQ29tcG9uZW50UGFydGljaXBhbnQodXNlckFjdGl2aXR5LCBwb3RlbnRpYWxPd25lciBhcyBDb21wb25lbnRQYXJ0aWNpcGFudCwgJ3BvdGVudGlhbE93bmVyJywgbnVsbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFJlcG9ydGluZ0xpbmVQYXJ0aWNpcGFudEV4cHJlc3Npb24uQ2xyX1R5cGVfSUQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGRSZXBvcnRpbmdMaW5lUGFydGljaXBhbnQodXNlckFjdGl2aXR5LCBwb3RlbnRpYWxPd25lciBhcyBSZXBvcnRpbmdMaW5lUGFydGljaXBhbnQsICdwb3RlbnRpYWxPd25lcicsIG51bGwpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBBY3Rpdml0eUV4ZWN1dG9yUGFydGljaXBhbnRFeHByZXNzaW9uLkNscl9UeXBlX0lEOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkQWN0aXZpdHlFeGVjdXRvclBhcnRpY2lwYW50KHVzZXJBY3Rpdml0eSwgcG90ZW50aWFsT3duZXIgYXMgQWN0aXZpdHlFeGVjdXRvclBhcnRpY2lwYW50LCAncG90ZW50aWFsT3duZXInLCBudWxsKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgTWF0cml4UGFydGljaXBhbnRFeHByZXNzaW9uLkNscl9UeXBlX0lEOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkTWF0cml4UGFydGljaXBhbnQodXNlckFjdGl2aXR5LCBwb3RlbnRpYWxPd25lciBhcyBNYXRyaXhQYXJ0aWNpcGFudCwgJ3BvdGVudGlhbE93bmVyJywgbnVsbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIE9yZ2FuaXphdGlvblBhcnRpY2lwYW50RXhwcmVzc2lvbi5DbHJfVHlwZV9JRDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZE9yZ2FuaXphdGlvblBhcnRpY2lwYW50KHVzZXJBY3Rpdml0eSwgcG90ZW50aWFsT3duZXIgYXMgT3JnYW5pemF0aW9uUGFydGljaXBhbnQsICdwb3RlbnRpYWxPd25lcicsIG51bGwpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIOWIhumFjeetlueVpeS4uumihueUqOaXtu+8jOWujOaIkOetlueVpeiHquWKqOS/ruaUueS4uuaKouWNoOaooeW8j1xyXG4gICAgICAgICAgICBpZiAodXNlckFjdGl2aXR5LkFzc2lnbm1lbnRTdHJhdGVneSA9PT0gQXNzaWdubWVudFN0cmF0ZWd5LkNMQUlNKSB7XHJcbiAgICAgICAgICAgICAgICB1c2VyQWN0aXZpdHkuRXhlY3V0ZVdvcmtJdGVtTW9kZSA9IEV4ZWN1dGVXb3JrSXRlbU1vZGUuUHJlZW1wdDtcclxuICAgICAgICAgICAgICAgIHVzZXJBY3Rpdml0eS5Db3VudGVyU2lnblJ1bGVzID0gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG4gICAgY2hlY2tPdGhlckFzc2lnbk5vZGVzKHVzZXJBY3Rpdml0eTogVXNlckFjdGl2aXR5LCBwZXJmb3JtZXJJbmZvOiBQYXJ0aWNpcGFudEluZm8pIHtcclxuICAgICAgICBpZiAodXNlckFjdGl2aXR5LkFzc2lnbm1lbnRTdHJhdGVneSAhPT0gQXNzaWdubWVudFN0cmF0ZWd5LkFTU0lHTikge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGJwbW5Nb2RlbCA9IHVzZXJBY3Rpdml0eS5Nb2RlbDtcclxuICAgICAgICBjb25zdCBmbG93RWxlbWVudHMgPSBicG1uTW9kZWwuRGVmYXVsdFByb2Nlc3MuR2V0Rmxvd0VsZW1lbnRzKCk7XHJcbiAgICAgICAgaWYgKHBlcmZvcm1lckluZm8uYXNzaWduU3RyYXRlZ3kuYXNzaWduU3RyYXRlZ3kgIT09IEFzc2lnbm1lbnRTdHJhdGVneS5BU1NJR04pIHtcclxuICAgICAgICAgICAgZm9yIChjb25zdCBrIGluIGZsb3dFbGVtZW50cykge1xyXG4gICAgICAgICAgICAgICAgaWYgKGZsb3dFbGVtZW50c1trXSBpbnN0YW5jZW9mIFVzZXJBY3Rpdml0eSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGFjdGl2aXR5ID0gZmxvd0VsZW1lbnRzW2tdIGFzIFVzZXJBY3Rpdml0eTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoYWN0aXZpdHkub3RoZXJBc3NpZ25Ob2RlcyAmJiBhY3Rpdml0eS5vdGhlckFzc2lnbk5vZGVzLm90aGVyQXNzaWduQWN0aXZpdGllc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAmJiBhY3Rpdml0eS5vdGhlckFzc2lnbk5vZGVzLm90aGVyQXNzaWduQWN0aXZpdGllcy5sZW5ndGggPiAwXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICYmIGFjdGl2aXR5Lm90aGVyQXNzaWduTm9kZXMub3RoZXJBc3NpZ25BY3Rpdml0aWVzLmZpbmRJbmRleChpZCA9PiBpZCA9PT0gdXNlckFjdGl2aXR5LklkKSA+IC0xXHJcbiAgICAgICAgICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFjdGl2aXR5Lm90aGVyQXNzaWduTm9kZXMub3RoZXJBc3NpZ25BY3Rpdml0aWVzID0gYWN0aXZpdHkub3RoZXJBc3NpZ25Ob2Rlcy5vdGhlckFzc2lnbkFjdGl2aXRpZXMuZmlsdGVyKGlkID0+IGlkICE9PSB1c2VyQWN0aXZpdHkuSWQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZmxvd0VsZW1lbnRzW2tdIGluc3RhbmNlb2YgT3BlcmF0aW9uQWN0aXZpdHkpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBvcGVyYXRpb25BY3Rpdml0eSA9IGZsb3dFbGVtZW50c1trXSBhcyBPcGVyYXRpb25BY3Rpdml0eTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAob3BlcmF0aW9uQWN0aXZpdHkub3RoZXJBc3NpZ25Ob2RlcyAmJiBvcGVyYXRpb25BY3Rpdml0eS5vdGhlckFzc2lnbk5vZGVzLm90aGVyQXNzaWduQWN0aXZpdGllc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAmJiBvcGVyYXRpb25BY3Rpdml0eS5vdGhlckFzc2lnbk5vZGVzLm90aGVyQXNzaWduQWN0aXZpdGllcy5sZW5ndGggPiAwXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICYmIG9wZXJhdGlvbkFjdGl2aXR5Lm90aGVyQXNzaWduTm9kZXMub3RoZXJBc3NpZ25BY3Rpdml0aWVzLmZpbmRJbmRleChpZCA9PiBpZCA9PT0gdXNlckFjdGl2aXR5LklkKSA+IC0xXHJcbiAgICAgICAgICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wZXJhdGlvbkFjdGl2aXR5Lm90aGVyQXNzaWduTm9kZXMub3RoZXJBc3NpZ25BY3Rpdml0aWVzID0gb3BlcmF0aW9uQWN0aXZpdHkub3RoZXJBc3NpZ25Ob2Rlcy5vdGhlckFzc2lnbkFjdGl2aXRpZXMuZmlsdGVyKGlkID0+IGlkICE9PSB1c2VyQWN0aXZpdHkuSWQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZmxvd0VsZW1lbnRzW2tdIGluc3RhbmNlb2YgU3RhcnRBY3Rpdml0eSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHN0YXJ0QWN0aXZpdHkgPSBmbG93RWxlbWVudHNba10gYXMgU3RhcnRBY3Rpdml0eTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoc3RhcnRBY3Rpdml0eS5vdGhlckFzc2lnbk5vZGVzICYmIHN0YXJ0QWN0aXZpdHkub3RoZXJBc3NpZ25Ob2Rlcy5vdGhlckFzc2lnbkFjdGl2aXRpZXNcclxuICAgICAgICAgICAgICAgICAgICAgICAgJiYgc3RhcnRBY3Rpdml0eS5vdGhlckFzc2lnbk5vZGVzLm90aGVyQXNzaWduQWN0aXZpdGllcy5sZW5ndGggPiAwXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICYmIHN0YXJ0QWN0aXZpdHkub3RoZXJBc3NpZ25Ob2Rlcy5vdGhlckFzc2lnbkFjdGl2aXRpZXMuZmluZEluZGV4KGlkID0+IGlkID09PSB1c2VyQWN0aXZpdHkuSWQpID4gLTFcclxuICAgICAgICAgICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnRBY3Rpdml0eS5vdGhlckFzc2lnbk5vZGVzLm90aGVyQXNzaWduQWN0aXZpdGllcyA9IHN0YXJ0QWN0aXZpdHkub3RoZXJBc3NpZ25Ob2Rlcy5vdGhlckFzc2lnbkFjdGl2aXRpZXMuZmlsdGVyKGlkID0+IGlkICE9PSB1c2VyQWN0aXZpdHkuSWQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGlmICh1c2VyQWN0aXZpdHkuQXNzaWduUGVyZm9ybWVyQ29uZmlnLk9wZXJhdG9yID09PSAnY3VycmVudFVzZXInXHJcbiAgICAgICAgICAgICAgICAmJiBwZXJmb3JtZXJJbmZvLmFzc2lnblN0cmF0ZWd5LmFzc2lnbkNvbmZpZy5vcGVyYXRvciAhPT0gJ2N1cnJlbnRVc2VyJ1xyXG4gICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgayBpbiBmbG93RWxlbWVudHMpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZmxvd0VsZW1lbnRzW2tdIGluc3RhbmNlb2YgVXNlckFjdGl2aXR5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGFjdGl2aXR5ID0gZmxvd0VsZW1lbnRzW2tdIGFzIFVzZXJBY3Rpdml0eTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFjdGl2aXR5Lm90aGVyQXNzaWduTm9kZXMgJiYgYWN0aXZpdHkub3RoZXJBc3NpZ25Ob2Rlcy5vdGhlckFzc2lnbkFjdGl2aXRpZXNcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICYmIGFjdGl2aXR5Lm90aGVyQXNzaWduTm9kZXMub3RoZXJBc3NpZ25BY3Rpdml0aWVzLmxlbmd0aCA+IDBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICYmIGFjdGl2aXR5Lm90aGVyQXNzaWduTm9kZXMub3RoZXJBc3NpZ25BY3Rpdml0aWVzLmZpbmRJbmRleChpZCA9PiBpZCA9PT0gdXNlckFjdGl2aXR5LklkKSA+IC0xXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0aXZpdHkub3RoZXJBc3NpZ25Ob2Rlcy5vdGhlckFzc2lnbkFjdGl2aXRpZXMgPSBhY3Rpdml0eS5vdGhlckFzc2lnbk5vZGVzLm90aGVyQXNzaWduQWN0aXZpdGllcy5maWx0ZXIoaWQgPT4gaWQgIT09IHVzZXJBY3Rpdml0eS5JZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGZsb3dFbGVtZW50c1trXSBpbnN0YW5jZW9mIE9wZXJhdGlvbkFjdGl2aXR5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG9wZXJhdGlvbkFjdGl2aXR5ID0gZmxvd0VsZW1lbnRzW2tdIGFzIE9wZXJhdGlvbkFjdGl2aXR5O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAob3BlcmF0aW9uQWN0aXZpdHkub3RoZXJBc3NpZ25Ob2RlcyAmJiBvcGVyYXRpb25BY3Rpdml0eS5vdGhlckFzc2lnbk5vZGVzLm90aGVyQXNzaWduQWN0aXZpdGllc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJiYgb3BlcmF0aW9uQWN0aXZpdHkub3RoZXJBc3NpZ25Ob2Rlcy5vdGhlckFzc2lnbkFjdGl2aXRpZXMubGVuZ3RoID4gMFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJiYgb3BlcmF0aW9uQWN0aXZpdHkub3RoZXJBc3NpZ25Ob2Rlcy5vdGhlckFzc2lnbkFjdGl2aXRpZXMuZmluZEluZGV4KGlkID0+IGlkID09PSB1c2VyQWN0aXZpdHkuSWQpID4gLTFcclxuICAgICAgICAgICAgICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcGVyYXRpb25BY3Rpdml0eS5vdGhlckFzc2lnbk5vZGVzLm90aGVyQXNzaWduQWN0aXZpdGllcyA9IG9wZXJhdGlvbkFjdGl2aXR5Lm90aGVyQXNzaWduTm9kZXMub3RoZXJBc3NpZ25BY3Rpdml0aWVzLmZpbHRlcihpZCA9PiBpZCAhPT0gdXNlckFjdGl2aXR5LklkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIGlmICh1c2VyQWN0aXZpdHkuQXNzaWduUGVyZm9ybWVyQ29uZmlnLk9wZXJhdG9yID09PSAncHJvY0luc3RDcmVhdG9yJ1xyXG4gICAgICAgICAgICAgICAgJiYgcGVyZm9ybWVySW5mby5hc3NpZ25TdHJhdGVneS5hc3NpZ25Db25maWcub3BlcmF0b3IgIT09ICdwcm9jSW5zdENyZWF0b3InXHJcbiAgICAgICAgICAgICkge1xyXG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBrIGluIGZsb3dFbGVtZW50cykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChmbG93RWxlbWVudHNba10gaW5zdGFuY2VvZiBTdGFydEFjdGl2aXR5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHN0YXJ0QWN0aXZpdHkgPSBmbG93RWxlbWVudHNba10gYXMgU3RhcnRBY3Rpdml0eTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXJ0QWN0aXZpdHkub3RoZXJBc3NpZ25Ob2RlcyAmJiBzdGFydEFjdGl2aXR5Lm90aGVyQXNzaWduTm9kZXMub3RoZXJBc3NpZ25BY3Rpdml0aWVzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAmJiBzdGFydEFjdGl2aXR5Lm90aGVyQXNzaWduTm9kZXMub3RoZXJBc3NpZ25BY3Rpdml0aWVzLmxlbmd0aCA+IDBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICYmIHN0YXJ0QWN0aXZpdHkub3RoZXJBc3NpZ25Ob2Rlcy5vdGhlckFzc2lnbkFjdGl2aXRpZXMuZmluZEluZGV4KGlkID0+IGlkID09PSB1c2VyQWN0aXZpdHkuSWQpID4gLTFcclxuICAgICAgICAgICAgICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFydEFjdGl2aXR5Lm90aGVyQXNzaWduTm9kZXMub3RoZXJBc3NpZ25BY3Rpdml0aWVzID0gc3RhcnRBY3Rpdml0eS5vdGhlckFzc2lnbk5vZGVzLm90aGVyQXNzaWduQWN0aXZpdGllcy5maWx0ZXIoaWQgPT4gaWQgIT09IHVzZXJBY3Rpdml0eS5JZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDmt7vliqDnlKjmiLflj4LkuI7ogIVcclxuICAgICAqIEBwYXJhbSB1c2VyQWN0aXZpdHlcclxuICAgICAqIEBwYXJhbSBwZXJmb3JtZXJcclxuICAgICAqIEBwYXJhbSB0eXBlXHJcbiAgICAgKi9cclxuICAgIGFkZFVzZXJQYXJ0aWNpcGFudCh1c2VyQWN0aXZpdHk6IFVzZXJBY3Rpdml0eSwgcGVyZm9ybWVyLCB0eXBlOiBzdHJpbmcgLCBzY29wZTogQWN0aW9uU2NvcGUpIHtcclxuICAgICAgICBsZXQgdXNlclBhcnRpY2lwYW50IDogVXNlclBhcnRpY2lwYW50RXhwcmVzc2lvbjtcclxuICAgICAgICBpZihwZXJmb3JtZXIgaW5zdGFuY2VvZiBVc2VyUGFydGljaXBhbnRFeHByZXNzaW9uKSB7XHJcbiAgICAgICAgICAgIHVzZXJQYXJ0aWNpcGFudCA9IHBlcmZvcm1lcjtcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgcGVyZm9ybWVyID0gcGVyZm9ybWVyIGFzIFVzZXJQYXJ0aWNpcGFudFxyXG4gICAgICAgICAgICB1c2VyUGFydGljaXBhbnQgPSBuZXcgVXNlclBhcnRpY2lwYW50RXhwcmVzc2lvbih1c2VyQWN0aXZpdHkuTW9kZWwsIHBlcmZvcm1lci5wZXJmb3JtZXJJZCwgcGVyZm9ybWVyLnBlcmZvcm1lck5hbWUsIHBlcmZvcm1lci5vcmdUeXBlKTtcclxuICAgICAgICAgICAgdXNlclBhcnRpY2lwYW50LmlkID0gcGVyZm9ybWVyLmlkO1xyXG4gICAgICAgICAgICB1c2VyUGFydGljaXBhbnQuT3JnSWQgPSBwZXJmb3JtZXIub3JnSWQ7XHJcbiAgICAgICAgICAgIHVzZXJQYXJ0aWNpcGFudC5hY3Rpb25TY29wZSA9IEFjdGlvblNjb3BlLkRlZmF1bHQ7XHJcbiAgICAgICAgICAgIHVzZXJQYXJ0aWNpcGFudC5PcmdOYW1lID0gcGVyZm9ybWVyLm9yZ05hbWU7XHJcbiAgICAgICAgICAgIHVzZXJQYXJ0aWNpcGFudC5UYWcgPSBwZXJmb3JtZXIudGFnO1xyXG4gICAgICAgICAgICB1c2VyUGFydGljaXBhbnQuT3JnVHlwZSA9IHBlcmZvcm1lci5vcmdUeXBlO1xyXG4gICAgICAgICAgICB1c2VyUGFydGljaXBhbnQub3JkZXIgPSBwZXJmb3JtZXIub3JkZXI7XHJcbiAgICAgICAgICAgIGlmIChwZXJmb3JtZXIuY29uZGl0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBjb25kaXRpb24gPSBuZXcgQ29uZGl0aW9uKHVzZXJBY3Rpdml0eS5Nb2RlbCk7XHJcbiAgICAgICAgICAgICAgICBjb25kaXRpb24uVmFsdWUgPSBwZXJmb3JtZXIuY29uZGl0aW9uO1xyXG4gICAgICAgICAgICAgICAgdXNlclBhcnRpY2lwYW50LmNvbmRpdGlvbiA9IGNvbmRpdGlvbjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodHlwZSA9PT0gJ2h1bWFuUGVyZm9ybWVyJykge1xyXG4gICAgICAgICAgICBsZXQgaHVtYW5QZXJmb3JtZXJJbXBsID0gbmV3IEh1bWFuUGVyZm9ybWVySW1wbCh1c2VyQWN0aXZpdHkuTW9kZWwpO1xyXG4gICAgICAgICAgICBodW1hblBlcmZvcm1lckltcGwucGFydGljaXBhbnRFeHByZXNzaW9uID0gdXNlclBhcnRpY2lwYW50O1xyXG4gICAgICAgICAgICBpZiAocGVyZm9ybWVyLmNvbmRpdGlvbikge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgY29uZGl0aW9uID0gbmV3IENvbmRpdGlvbih1c2VyQWN0aXZpdHkuTW9kZWwpO1xyXG4gICAgICAgICAgICAgICAgY29uZGl0aW9uLlZhbHVlID0gcGVyZm9ybWVyLmNvbmRpdGlvbjtcclxuICAgICAgICAgICAgICAgIGh1bWFuUGVyZm9ybWVySW1wbC5jb25kaXRpb24gPSBjb25kaXRpb247XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaHVtYW5QZXJmb3JtZXJJbXBsLm9yZGVyID0gcGVyZm9ybWVyLm9yZGVyO1xyXG4gICAgICAgICAgICB1c2VyQWN0aXZpdHkuQWRkUmVzb3VyY2VSb2xlKGh1bWFuUGVyZm9ybWVySW1wbCk7XHJcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlID09PSAncG90ZW50aWFsT3duZXInKSB7XHJcbiAgICAgICAgICAgIGxldCBvdGVudGlhbE93bmVySW1wbCA9IG5ldyBQb3RlbnRpYWxPd25lckltcGwodXNlckFjdGl2aXR5Lk1vZGVsKTtcclxuICAgICAgICAgICAgb3RlbnRpYWxPd25lckltcGwucGFydGljaXBhbnRFeHByZXNzaW9uID0gdXNlclBhcnRpY2lwYW50O1xyXG4gICAgICAgICAgICBpZiAocGVyZm9ybWVyLmNvbmRpdGlvbikge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgY29uZGl0aW9uID0gbmV3IENvbmRpdGlvbih1c2VyQWN0aXZpdHkuTW9kZWwpO1xyXG4gICAgICAgICAgICAgICAgY29uZGl0aW9uLlZhbHVlID0gcGVyZm9ybWVyLmNvbmRpdGlvbjtcclxuICAgICAgICAgICAgICAgIG90ZW50aWFsT3duZXJJbXBsLmNvbmRpdGlvbiA9IGNvbmRpdGlvbjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBvdGVudGlhbE93bmVySW1wbC5vcmRlciA9IHBlcmZvcm1lci5vcmRlcjtcclxuICAgICAgICAgICAgaWYoc2NvcGUpIHtcclxuICAgICAgICAgICAgICAgIHVzZXJQYXJ0aWNpcGFudC5hY3Rpb25TY29wZSA9IHNjb3BlO1xyXG4gICAgICAgICAgICAgICAgdXNlckFjdGl2aXR5LmR5bmFtaWNQYXJ0aWNpcGFudHMucHVzaCh1c2VyUGFydGljaXBhbnQpO1xyXG4gICAgICAgICAgICB9ZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB1c2VyQWN0aXZpdHkuQWRkUmVzb3VyY2VSb2xlKG90ZW50aWFsT3duZXJJbXBsKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOa3u+WKoOWPmOmHj+WPguS4juiAhVxyXG4gICAgICogQHBhcmFtIHVzZXJBY3Rpdml0eVxyXG4gICAgICogQHBhcmFtIHBlcmZvcm1lclxyXG4gICAgICogQHBhcmFtIHR5cGVcclxuICAgICAqL1xyXG4gICAgYWRkVmFyaWFibGVQYXJ0aWNpcGFudCh1c2VyQWN0aXZpdHk6IFVzZXJBY3Rpdml0eSwgcGVyZm9ybWVyLCB0eXBlOiBzdHJpbmcsIHNjb3BlOiBBY3Rpb25TY29wZSkge1xyXG4gICAgICAgIGxldCB2YXJpYWJsZVBlcmZvcm1lcjogVmFyaWFibGVQYXJ0aWNpcGFudEV4cHJlc3Npb247XHJcbiAgICAgICAgaWYocGVyZm9ybWVyIGluc3RhbmNlb2YgVmFyaWFibGVQYXJ0aWNpcGFudEV4cHJlc3Npb24pIHtcclxuICAgICAgICAgICAgdmFyaWFibGVQZXJmb3JtZXIgPSBwZXJmb3JtZXI7XHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHBlcmZvcm1lciA9IHBlcmZvcm1lciBhcyBWYXJpYWJsZVBlcmZvcm1lcjtcclxuICAgICAgICAgICAgdmFyaWFibGVQZXJmb3JtZXIgPSBuZXcgVmFyaWFibGVQYXJ0aWNpcGFudEV4cHJlc3Npb24odXNlckFjdGl2aXR5Lk1vZGVsLCBwZXJmb3JtZXIucGVyZm9ybWVySWQsIHBlcmZvcm1lci5wZXJmb3JtZXJOYW1lLCBwZXJmb3JtZXIub3JnVHlwZSk7XHJcbiAgICAgICAgICAgIHZhcmlhYmxlUGVyZm9ybWVyLmlkID0gcGVyZm9ybWVyLmlkO1xyXG4gICAgICAgICAgICB2YXJpYWJsZVBlcmZvcm1lci5hY3Rpb25TY29wZSA9IEFjdGlvblNjb3BlLkRlZmF1bHQ7XHJcbiAgICAgICAgICAgIHZhcmlhYmxlUGVyZm9ybWVyLk5hbWUgPSBwZXJmb3JtZXIucGVyZm9ybWVyTmFtZSA/IHBlcmZvcm1lci5wZXJmb3JtZXJOYW1lIDogcGVyZm9ybWVyLm5hbWU7XHJcbiAgICAgICAgICAgIHZhcmlhYmxlUGVyZm9ybWVyLlRhZyA9IHBlcmZvcm1lci50YWc7XHJcbiAgICAgICAgICAgIHZhcmlhYmxlUGVyZm9ybWVyLlZhclZhbHVlID0gcGVyZm9ybWVyLnZhclZhbHVlO1xyXG4gICAgICAgICAgICB2YXJpYWJsZVBlcmZvcm1lci5WYXJUeXBlID0gcGVyZm9ybWVyLnZhclR5cGU7XHJcbiAgICAgICAgICAgIHZhcmlhYmxlUGVyZm9ybWVyLm9yZGVyID0gcGVyZm9ybWVyLm9yZGVyO1xyXG4gICAgICAgICAgICB2YXJpYWJsZVBlcmZvcm1lci5SZWxhdGlvbiA9IHBlcmZvcm1lci5yZWxhdGlvbjtcclxuICAgICAgICAgICAgaWYgKHBlcmZvcm1lci5jb25kaXRpb24pIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGNvbmRpdGlvbiA9IG5ldyBDb25kaXRpb24odXNlckFjdGl2aXR5Lk1vZGVsKTtcclxuICAgICAgICAgICAgICAgIGNvbmRpdGlvbi5WYWx1ZSA9IHBlcmZvcm1lci5jb25kaXRpb247XHJcbiAgICAgICAgICAgICAgICB2YXJpYWJsZVBlcmZvcm1lci5jb25kaXRpb24gPSBjb25kaXRpb247XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHR5cGUgPT09ICdodW1hblBlcmZvcm1lcicpIHtcclxuICAgICAgICAgICAgbGV0IGh1bWFuUGVyZm9ybWVySW1wbCA9IG5ldyBIdW1hblBlcmZvcm1lckltcGwodXNlckFjdGl2aXR5Lk1vZGVsKTtcclxuICAgICAgICAgICAgaHVtYW5QZXJmb3JtZXJJbXBsLnBhcnRpY2lwYW50RXhwcmVzc2lvbiA9IHZhcmlhYmxlUGVyZm9ybWVyO1xyXG4gICAgICAgICAgICBpZiAocGVyZm9ybWVyLmNvbmRpdGlvbikge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgY29uZGl0aW9uID0gbmV3IENvbmRpdGlvbih1c2VyQWN0aXZpdHkuTW9kZWwpO1xyXG4gICAgICAgICAgICAgICAgY29uZGl0aW9uLlZhbHVlID0gcGVyZm9ybWVyLmNvbmRpdGlvbjtcclxuICAgICAgICAgICAgICAgIGh1bWFuUGVyZm9ybWVySW1wbC5jb25kaXRpb24gPSBjb25kaXRpb247XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaHVtYW5QZXJmb3JtZXJJbXBsLm9yZGVyID0gcGVyZm9ybWVyLm9yZGVyO1xyXG4gICAgICAgICAgICB1c2VyQWN0aXZpdHkuQWRkUmVzb3VyY2VSb2xlKGh1bWFuUGVyZm9ybWVySW1wbCk7XHJcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlID09PSAncG90ZW50aWFsT3duZXInKSB7XHJcbiAgICAgICAgICAgIGxldCBvdGVudGlhbE93bmVySW1wbCA9IG5ldyBQb3RlbnRpYWxPd25lckltcGwodXNlckFjdGl2aXR5Lk1vZGVsKTtcclxuICAgICAgICAgICAgb3RlbnRpYWxPd25lckltcGwucGFydGljaXBhbnRFeHByZXNzaW9uID0gdmFyaWFibGVQZXJmb3JtZXI7XHJcbiAgICAgICAgICAgIGlmIChwZXJmb3JtZXIuY29uZGl0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBjb25kaXRpb24gPSBuZXcgQ29uZGl0aW9uKHVzZXJBY3Rpdml0eS5Nb2RlbCk7XHJcbiAgICAgICAgICAgICAgICBjb25kaXRpb24uVmFsdWUgPSBwZXJmb3JtZXIuY29uZGl0aW9uO1xyXG4gICAgICAgICAgICAgICAgb3RlbnRpYWxPd25lckltcGwuY29uZGl0aW9uID0gY29uZGl0aW9uO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIG90ZW50aWFsT3duZXJJbXBsLm9yZGVyID0gcGVyZm9ybWVyLm9yZGVyO1xyXG4gICAgICAgICAgICBpZihzY29wZSkge1xyXG4gICAgICAgICAgICAgICAgdmFyaWFibGVQZXJmb3JtZXIuYWN0aW9uU2NvcGUgPSBzY29wZTtcclxuICAgICAgICAgICAgICAgIHVzZXJBY3Rpdml0eS5keW5hbWljUGFydGljaXBhbnRzLnB1c2godmFyaWFibGVQZXJmb3JtZXIpO1xyXG4gICAgICAgICAgICB9ZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB1c2VyQWN0aXZpdHkuQWRkUmVzb3VyY2VSb2xlKG90ZW50aWFsT3duZXJJbXBsKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOa3u+WKoOWyl+S9jeWPguS4juiAhVxyXG4gICAgICogQHBhcmFtIHVzZXJBY3Rpdml0eVxyXG4gICAgICogQHBhcmFtIHBlcmZvcm1lclxyXG4gICAgICogQHBhcmFtIHR5cGVcclxuICAgICAqL1xyXG4gICAgYWRkUG9zaXRpb25QYXJ0aWNpcGFudCh1c2VyQWN0aXZpdHk6IFVzZXJBY3Rpdml0eSwgcGVyZm9ybWVyLCB0eXBlOiBzdHJpbmcsIHNjb3BlOiBBY3Rpb25TY29wZSkge1xyXG4gICAgICAgIGxldCBwb3NpUGFydGljaXBhbnQgOiBQb3NpdGlvblBhcnRpY2lwYW50RXhwcmVzc2lvbjtcclxuICAgICAgICBpZihwZXJmb3JtZXIgaW5zdGFuY2VvZiBQb3NpdGlvblBhcnRpY2lwYW50RXhwcmVzc2lvbikge1xyXG4gICAgICAgICAgICBwb3NpUGFydGljaXBhbnQgPSBwZXJmb3JtZXI7XHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHBlcmZvcm1lciA9IHBlcmZvcm1lciBhcyBQb3NpdGlvblBhcnRpY2lwYW50O1xyXG4gICAgICAgICAgICBwb3NpUGFydGljaXBhbnQgPSBuZXcgUG9zaXRpb25QYXJ0aWNpcGFudEV4cHJlc3Npb24odXNlckFjdGl2aXR5Lk1vZGVsLCBwZXJmb3JtZXIucGVyZm9ybWVySWQsIHBlcmZvcm1lci5wZXJmb3JtZXJOYW1lKTtcclxuICAgICAgICAgICAgcG9zaVBhcnRpY2lwYW50LmlkID0gcGVyZm9ybWVyLmlkO1xyXG4gICAgICAgICAgICBwb3NpUGFydGljaXBhbnQuYWN0aW9uU2NvcGUgPSBBY3Rpb25TY29wZS5EZWZhdWx0O1xyXG4gICAgICAgICAgICBwb3NpUGFydGljaXBhbnQuUG9zaXRpb25UeXBlID0gcGVyZm9ybWVyLnBvc2l0aW9uVHlwZTtcclxuICAgICAgICAgICAgcG9zaVBhcnRpY2lwYW50Lm9yZGVyID0gcGVyZm9ybWVyLm9yZGVyO1xyXG4gICAgICAgICAgICBpZiAocGVyZm9ybWVyLnBvc2l0aW9uVHlwZSA9PT0gJzEnKSB7XHJcbiAgICAgICAgICAgICAgICBwb3NpUGFydGljaXBhbnQuT3JnSWQgPSBwZXJmb3JtZXIub3JnSWQ7XHJcbiAgICAgICAgICAgICAgICBwb3NpUGFydGljaXBhbnQuT3JnTmFtZSA9IHBlcmZvcm1lci5vcmdOYW1lO1xyXG4gICAgICAgICAgICAgICAgcG9zaVBhcnRpY2lwYW50Lk9yZ1R5cGUgPSBwZXJmb3JtZXIub3JnVHlwZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAocGVyZm9ybWVyLmNvbmRpdGlvbikge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgY29uZGl0aW9uID0gbmV3IENvbmRpdGlvbih1c2VyQWN0aXZpdHkuTW9kZWwpO1xyXG4gICAgICAgICAgICAgICAgY29uZGl0aW9uLlZhbHVlID0gcGVyZm9ybWVyLmNvbmRpdGlvbjtcclxuICAgICAgICAgICAgICAgIHBvc2lQYXJ0aWNpcGFudC5jb25kaXRpb24gPSBjb25kaXRpb247XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHR5cGUgPT09ICdodW1hblBlcmZvcm1lcicpIHtcclxuICAgICAgICAgICAgbGV0IGh1bWFuUGVyZm9ybWVySW1wbCA9IG5ldyBIdW1hblBlcmZvcm1lckltcGwodXNlckFjdGl2aXR5Lk1vZGVsKTtcclxuICAgICAgICAgICAgaHVtYW5QZXJmb3JtZXJJbXBsLnBhcnRpY2lwYW50RXhwcmVzc2lvbiA9IHBvc2lQYXJ0aWNpcGFudDtcclxuICAgICAgICAgICAgaWYgKHBlcmZvcm1lci5jb25kaXRpb24pIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGNvbmRpdGlvbiA9IG5ldyBDb25kaXRpb24odXNlckFjdGl2aXR5Lk1vZGVsKTtcclxuICAgICAgICAgICAgICAgIGNvbmRpdGlvbi5WYWx1ZSA9IHBlcmZvcm1lci5jb25kaXRpb247XHJcbiAgICAgICAgICAgICAgICBodW1hblBlcmZvcm1lckltcGwuY29uZGl0aW9uID0gY29uZGl0aW9uO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGh1bWFuUGVyZm9ybWVySW1wbC5vcmRlciA9IHBlcmZvcm1lci5vcmRlcjtcclxuICAgICAgICAgICAgdXNlckFjdGl2aXR5LkFkZFJlc291cmNlUm9sZShodW1hblBlcmZvcm1lckltcGwpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ3BvdGVudGlhbE93bmVyJykge1xyXG4gICAgICAgICAgICBsZXQgb3RlbnRpYWxPd25lckltcGwgPSBuZXcgUG90ZW50aWFsT3duZXJJbXBsKHVzZXJBY3Rpdml0eS5Nb2RlbCk7XHJcbiAgICAgICAgICAgIG90ZW50aWFsT3duZXJJbXBsLnBhcnRpY2lwYW50RXhwcmVzc2lvbiA9IHBvc2lQYXJ0aWNpcGFudDtcclxuICAgICAgICAgICAgaWYgKHBlcmZvcm1lci5jb25kaXRpb24pIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGNvbmRpdGlvbiA9IG5ldyBDb25kaXRpb24odXNlckFjdGl2aXR5Lk1vZGVsKTtcclxuICAgICAgICAgICAgICAgIGNvbmRpdGlvbi5WYWx1ZSA9IHBlcmZvcm1lci5jb25kaXRpb247XHJcbiAgICAgICAgICAgICAgICBvdGVudGlhbE93bmVySW1wbC5jb25kaXRpb24gPSBjb25kaXRpb247XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgb3RlbnRpYWxPd25lckltcGwub3JkZXIgPSBwZXJmb3JtZXIub3JkZXI7XHJcbiAgICAgICAgICAgIGlmKHNjb3BlKSB7XHJcbiAgICAgICAgICAgICAgICBwb3NpUGFydGljaXBhbnQuYWN0aW9uU2NvcGUgPSBzY29wZTtcclxuICAgICAgICAgICAgICAgIHVzZXJBY3Rpdml0eS5keW5hbWljUGFydGljaXBhbnRzLnB1c2gocG9zaVBhcnRpY2lwYW50KTtcclxuICAgICAgICAgICAgfWVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdXNlckFjdGl2aXR5LkFkZFJlc291cmNlUm9sZShvdGVudGlhbE93bmVySW1wbCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDmt7vliqDmnoTku7blj4LkuI7ogIVcclxuICAgICAqIEBwYXJhbSB1c2VyQWN0aXZpdHlcclxuICAgICAqIEBwYXJhbSBjb21wb25lbnRcclxuICAgICAqIEBwYXJhbSB0eXBlXHJcbiAgICAgKi9cclxuICAgIGFkZENvbXBvbmVudFBhcnRpY2lwYW50KHVzZXJBY3Rpdml0eTogVXNlckFjdGl2aXR5LCBjb21wb25lbnQsIHR5cGU6IHN0cmluZywgc2NvcGU6IEFjdGlvblNjb3BlKSB7XHJcbiAgICAgICAgbGV0IGNvbXBvbmVudFBhcnRpY2lwYW50OkNvbXBvbmVudFBhcnRpY2lwYW50RXhwcmVzc2lvbjtcclxuICAgICAgICBpZihjb21wb25lbnQgaW5zdGFuY2VvZiBDb21wb25lbnRQYXJ0aWNpcGFudEV4cHJlc3Npb24pIHtcclxuICAgICAgICAgICAgY29tcG9uZW50UGFydGljaXBhbnQgPSBjb21wb25lbnQ7XHJcbiAgICAgICAgfWVsc2Uge1xyXG4gICAgICAgICAgICBjb21wb25lbnQgPSBjb21wb25lbnQgYXMgQ29tcG9uZW50UGFydGljaXBhbnQ7XHJcbiAgICAgICAgICAgIGNvbXBvbmVudFBhcnRpY2lwYW50ID0gbmV3IENvbXBvbmVudFBhcnRpY2lwYW50RXhwcmVzc2lvbih1c2VyQWN0aXZpdHkuTW9kZWwpO1xyXG4gICAgICAgICAgICBjb21wb25lbnRQYXJ0aWNpcGFudC5pZCA9IGNvbXBvbmVudC5pZDtcclxuICAgICAgICAgICAgY29tcG9uZW50UGFydGljaXBhbnQuY29tcG9uZW50SWQgPSBjb21wb25lbnQubWV0YWRhdGFJZDtcclxuICAgICAgICAgICAgY29tcG9uZW50UGFydGljaXBhbnQuYWN0aW9uU2NvcGUgPSBBY3Rpb25TY29wZS5EZWZhdWx0O1xyXG4gICAgICAgICAgICBjb21wb25lbnRQYXJ0aWNpcGFudC5jb21wb25lbnROYW1lID0gY29tcG9uZW50Lm5hbWU7XHJcbiAgICAgICAgICAgIGNvbXBvbmVudFBhcnRpY2lwYW50Lm1ldGhvZE5hbWUgPSBjb21wb25lbnQubWV0aG9kTmFtZTtcclxuICAgICAgICAgICAgY29tcG9uZW50UGFydGljaXBhbnQub3JkZXIgPSBjb21wb25lbnQub3JkZXI7XHJcbiAgICAgICAgICAgIGNvbXBvbmVudFBhcnRpY2lwYW50Lm1ldGhvZENvZGUgPSBjb21wb25lbnQubWV0aG9kQ29kZTtcclxuXHJcbiAgICAgICAgICAgIGlmIChjb21wb25lbnQuYWN0dWFsUGFyYW1ldGVycyAmJiBjb21wb25lbnQuYWN0dWFsUGFyYW1ldGVycy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgYWN0UGFyYXMgPSBuZXcgQXJyYXk8QWN0dWFsUGFyYW1ldGVyPigpO1xyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgcGFyYSBvZiBjb21wb25lbnQuYWN0dWFsUGFyYW1ldGVycykge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBhY3RQYXJhID0gbmV3IEFjdHVhbFBhcmFtZXRlcih1c2VyQWN0aXZpdHkuTW9kZWwsIHBhcmEuY29kZSwgcGFyYS52YWx1ZSwgcGFyYS52YWx1ZVRleHQpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBUT0RPOuabtOaWsOWPguS4juiAheS8mum7mOiupOaKiuaehOS7tuWPguaVsOWxnuaAp+aUueS4umNvbnRhbnTvvIzkuLTml7bkv67lpI3vvIzlkI7nu63ku6PnoIHkvJjljJZcclxuICAgICAgICAgICAgICAgICAgICBhY3RQYXJhLlRhZyA9IHBhcmEudGFnO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChwYXJhLmZldGNoVmFsdWVNb2RlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAocGFyYS5mZXRjaFZhbHVlTW9kZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnZXhwcmVzcyc6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0UGFyYS5UYWcgPSAnZXhwcmVzc2lvbic7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdub25lJzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3RQYXJhLlRhZyA9ICdleHByZXNzaW9uJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0UGFyYS5UYWcgPSAnY29uc3RhbnQnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGFjdFBhcmFzLnB1c2goYWN0UGFyYSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjb21wb25lbnRQYXJ0aWNpcGFudC5hY3R1YWxQYXJhbWV0ZXJzID0gYWN0UGFyYXM7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGNvbXBvbmVudC5jb25kaXRpb24pIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGNvbmRpdGlvbiA9IG5ldyBDb25kaXRpb24odXNlckFjdGl2aXR5Lk1vZGVsKTtcclxuICAgICAgICAgICAgICAgIGNvbmRpdGlvbi5WYWx1ZSA9IGNvbXBvbmVudC5jb25kaXRpb247XHJcbiAgICAgICAgICAgICAgICBjb21wb25lbnRQYXJ0aWNpcGFudC5jb25kaXRpb24gPSBjb25kaXRpb247XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0eXBlID09PSAnaHVtYW5QZXJmb3JtZXInKSB7XHJcbiAgICAgICAgICAgIGxldCBodW1hblBlcmZvcm1lckltcGwgPSBuZXcgSHVtYW5QZXJmb3JtZXJJbXBsKHVzZXJBY3Rpdml0eS5Nb2RlbCk7XHJcbiAgICAgICAgICAgIGh1bWFuUGVyZm9ybWVySW1wbC5wYXJ0aWNpcGFudEV4cHJlc3Npb24gPSBjb21wb25lbnRQYXJ0aWNpcGFudDtcclxuICAgICAgICAgICAgaWYgKGNvbXBvbmVudC5jb25kaXRpb24pIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGNvbmRpdGlvbiA9IG5ldyBDb25kaXRpb24odXNlckFjdGl2aXR5Lk1vZGVsKTtcclxuICAgICAgICAgICAgICAgIGNvbmRpdGlvbi5WYWx1ZSA9IGNvbXBvbmVudC5jb25kaXRpb247XHJcbiAgICAgICAgICAgICAgICBodW1hblBlcmZvcm1lckltcGwuY29uZGl0aW9uID0gY29uZGl0aW9uO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGh1bWFuUGVyZm9ybWVySW1wbC5vcmRlciA9IGNvbXBvbmVudC5vcmRlcjtcclxuICAgICAgICAgICAgdXNlckFjdGl2aXR5LkFkZFJlc291cmNlUm9sZShodW1hblBlcmZvcm1lckltcGwpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ3BvdGVudGlhbE93bmVyJykge1xyXG4gICAgICAgICAgICBsZXQgb3RlbnRpYWxPd25lckltcGwgPSBuZXcgUG90ZW50aWFsT3duZXJJbXBsKHVzZXJBY3Rpdml0eS5Nb2RlbCk7XHJcbiAgICAgICAgICAgIG90ZW50aWFsT3duZXJJbXBsLnBhcnRpY2lwYW50RXhwcmVzc2lvbiA9IGNvbXBvbmVudFBhcnRpY2lwYW50O1xyXG4gICAgICAgICAgICBpZiAoY29tcG9uZW50LmNvbmRpdGlvbikge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgY29uZGl0aW9uID0gbmV3IENvbmRpdGlvbih1c2VyQWN0aXZpdHkuTW9kZWwpO1xyXG4gICAgICAgICAgICAgICAgY29uZGl0aW9uLlZhbHVlID0gY29tcG9uZW50LmNvbmRpdGlvbjtcclxuICAgICAgICAgICAgICAgIG90ZW50aWFsT3duZXJJbXBsLmNvbmRpdGlvbiA9IGNvbmRpdGlvbjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBvdGVudGlhbE93bmVySW1wbC5vcmRlciA9IGNvbXBvbmVudC5vcmRlcjtcclxuICAgICAgICAgICAgaWYoc2NvcGUpIHtcclxuICAgICAgICAgICAgICAgIGNvbXBvbmVudFBhcnRpY2lwYW50LmFjdGlvblNjb3BlID0gc2NvcGU7XHJcbiAgICAgICAgICAgICAgICB1c2VyQWN0aXZpdHkuZHluYW1pY1BhcnRpY2lwYW50cy5wdXNoKGNvbXBvbmVudFBhcnRpY2lwYW50KTtcclxuICAgICAgICAgICAgfWVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdXNlckFjdGl2aXR5LkFkZFJlc291cmNlUm9sZShvdGVudGlhbE93bmVySW1wbCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHVzZXJBY3Rpdml0eVxyXG4gICAgICogQHBhcmFtIHBhcnRpY2lwYW50XHJcbiAgICAgKiBAcGFyYW0gdHlwZVxyXG4gICAgICovXHJcbiAgICBhZGRSZXBvcnRpbmdMaW5lUGFydGljaXBhbnQodXNlckFjdGl2aXR5OiBVc2VyQWN0aXZpdHksIHBhcnRpY2lwYW50LCB0eXBlOiBzdHJpbmcsIHNjb3BlOiBBY3Rpb25TY29wZSkge1xyXG4gICAgICAgIGxldCByZXBvcnRpbmdMaW5lIDogUmVwb3J0aW5nTGluZVBhcnRpY2lwYW50RXhwcmVzc2lvbjtcclxuICAgICAgICBpZihwYXJ0aWNpcGFudCBpbnN0YW5jZW9mIFJlcG9ydGluZ0xpbmVQYXJ0aWNpcGFudEV4cHJlc3Npb24pIHtcclxuICAgICAgICAgICAgcmVwb3J0aW5nTGluZSA9IHBhcnRpY2lwYW50O1xyXG4gICAgICAgIH1lbHNlIHtcclxuICAgICAgICAgICAgcGFydGljaXBhbnQgPSBwYXJ0aWNpcGFudCBhcyBSZXBvcnRpbmdMaW5lUGFydGljaXBhbnQ7XHJcbiAgICAgICAgICAgIHJlcG9ydGluZ0xpbmUgPSBuZXcgUmVwb3J0aW5nTGluZVBhcnRpY2lwYW50RXhwcmVzc2lvbih1c2VyQWN0aXZpdHkuTW9kZWwpO1xyXG4gICAgICAgICAgICByZXBvcnRpbmdMaW5lLmlkID0gcGFydGljaXBhbnQuaWQ7XHJcbiAgICAgICAgICAgIHJlcG9ydGluZ0xpbmUuYWN0aW9uU2NvcGUgPSBBY3Rpb25TY29wZS5EZWZhdWx0O1xyXG4gICAgICAgICAgICByZXBvcnRpbmdMaW5lLlJlcG9ydGluZ0xpbmVEZWZJZCA9IHBhcnRpY2lwYW50LnJlcG9ydGluZ0xpbmVEZWZJZDtcclxuICAgICAgICAgICAgcmVwb3J0aW5nTGluZS5SZXBvcnRpbmdMaW5lRGVmTmFtZSA9IHBhcnRpY2lwYW50LnJlcG9ydGluZ0xpbmVEZWZOYW1lO1xyXG4gICAgICAgICAgICByZXBvcnRpbmdMaW5lLlJlZk9yZ0lkID0gcGFydGljaXBhbnQucmVmT3JnSWQ7XHJcbiAgICAgICAgICAgIHJlcG9ydGluZ0xpbmUuUmVmVXNlcklkID0gcGFydGljaXBhbnQucmVmVXNlcklkO1xyXG4gICAgICAgICAgICByZXBvcnRpbmdMaW5lLlJlZkVtcGxveWVlSWQgPSBwYXJ0aWNpcGFudC5yZWZFbXBsb3llZUlkO1xyXG4gICAgICAgICAgICByZXBvcnRpbmdMaW5lLm9yZGVyID0gcGFydGljaXBhbnQub3JkZXI7XHJcbiAgICAgICAgICAgIHJlcG9ydGluZ0xpbmUuRGltZW5zaW9uID0gcGFydGljaXBhbnQuZGltZW5zaW9uO1xyXG4gICAgICAgICAgICByZXBvcnRpbmdMaW5lLlRhZyA9IHBhcnRpY2lwYW50LnRhZztcclxuICAgICAgICAgICAgaWYgKHBhcnRpY2lwYW50LmNvbmRpdGlvbikge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgY29uZGl0aW9uID0gbmV3IENvbmRpdGlvbih1c2VyQWN0aXZpdHkuTW9kZWwpO1xyXG4gICAgICAgICAgICAgICAgY29uZGl0aW9uLlZhbHVlID0gcGFydGljaXBhbnQuY29uZGl0aW9uO1xyXG4gICAgICAgICAgICAgICAgcmVwb3J0aW5nTGluZS5jb25kaXRpb24gPSBjb25kaXRpb247XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0eXBlID09PSAnaHVtYW5QZXJmb3JtZXInKSB7XHJcbiAgICAgICAgICAgIGxldCBodW1hblBlcmZvcm1lckltcGwgPSBuZXcgSHVtYW5QZXJmb3JtZXJJbXBsKHVzZXJBY3Rpdml0eS5Nb2RlbCk7XHJcbiAgICAgICAgICAgIGh1bWFuUGVyZm9ybWVySW1wbC5wYXJ0aWNpcGFudEV4cHJlc3Npb24gPSByZXBvcnRpbmdMaW5lO1xyXG4gICAgICAgICAgICBpZiAocGFydGljaXBhbnQuY29uZGl0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBjb25kaXRpb24gPSBuZXcgQ29uZGl0aW9uKHVzZXJBY3Rpdml0eS5Nb2RlbCk7XHJcbiAgICAgICAgICAgICAgICBjb25kaXRpb24uVmFsdWUgPSBwYXJ0aWNpcGFudC5jb25kaXRpb247XHJcbiAgICAgICAgICAgICAgICBodW1hblBlcmZvcm1lckltcGwuY29uZGl0aW9uID0gY29uZGl0aW9uO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGh1bWFuUGVyZm9ybWVySW1wbC5vcmRlciA9IHBhcnRpY2lwYW50Lm9yZGVyO1xyXG4gICAgICAgICAgICB1c2VyQWN0aXZpdHkuQWRkUmVzb3VyY2VSb2xlKGh1bWFuUGVyZm9ybWVySW1wbCk7XHJcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlID09PSAncG90ZW50aWFsT3duZXInKSB7XHJcbiAgICAgICAgICAgIGxldCBvdGVudGlhbE93bmVySW1wbCA9IG5ldyBQb3RlbnRpYWxPd25lckltcGwodXNlckFjdGl2aXR5Lk1vZGVsKTtcclxuICAgICAgICAgICAgb3RlbnRpYWxPd25lckltcGwucGFydGljaXBhbnRFeHByZXNzaW9uID0gcmVwb3J0aW5nTGluZTtcclxuICAgICAgICAgICAgaWYgKHBhcnRpY2lwYW50LmNvbmRpdGlvbikge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgY29uZGl0aW9uID0gbmV3IENvbmRpdGlvbih1c2VyQWN0aXZpdHkuTW9kZWwpO1xyXG4gICAgICAgICAgICAgICAgY29uZGl0aW9uLlZhbHVlID0gcGFydGljaXBhbnQuY29uZGl0aW9uO1xyXG4gICAgICAgICAgICAgICAgb3RlbnRpYWxPd25lckltcGwuY29uZGl0aW9uID0gY29uZGl0aW9uO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIG90ZW50aWFsT3duZXJJbXBsLm9yZGVyID0gcGFydGljaXBhbnQub3JkZXI7XHJcbiAgICAgICAgICAgIGlmKHNjb3BlKSB7XHJcbiAgICAgICAgICAgICAgICByZXBvcnRpbmdMaW5lLmFjdGlvblNjb3BlID0gc2NvcGU7XHJcbiAgICAgICAgICAgICAgICB1c2VyQWN0aXZpdHkuZHluYW1pY1BhcnRpY2lwYW50cy5wdXNoKHJlcG9ydGluZ0xpbmUpO1xyXG4gICAgICAgICAgICB9ZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB1c2VyQWN0aXZpdHkuQWRkUmVzb3VyY2VSb2xlKG90ZW50aWFsT3duZXJJbXBsKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gdXNlckFjdGl2aXR5XHJcbiAgICAgKiBAcGFyYW0gcGFydGljaXBhbnRcclxuICAgICAqIEBwYXJhbSB0eXBlXHJcbiAgICAgKi9cclxuICAgIGFkZEFjdGl2aXR5RXhlY3V0b3JQYXJ0aWNpcGFudCh1c2VyQWN0aXZpdHk6IFVzZXJBY3Rpdml0eSwgcGFydGljaXBhbnQsIHR5cGU6IHN0cmluZywgc2NvcGU6IEFjdGlvblNjb3BlKSB7XHJcbiAgICAgICAgbGV0IGFjdGl2aXR5RXhlY3V0b3IgOiBBY3Rpdml0eUV4ZWN1dG9yUGFydGljaXBhbnRFeHByZXNzaW9uO1xyXG4gICAgICAgIGlmKHBhcnRpY2lwYW50IGluc3RhbmNlb2YgQWN0aXZpdHlFeGVjdXRvclBhcnRpY2lwYW50RXhwcmVzc2lvbikge1xyXG4gICAgICAgICAgICBhY3Rpdml0eUV4ZWN1dG9yID0gcGFydGljaXBhbnQ7XHJcbiAgICAgICAgfWVsc2Uge1xyXG4gICAgICAgICAgICBwYXJ0aWNpcGFudCA9IHBhcnRpY2lwYW50IGFzIEFjdGl2aXR5RXhlY3V0b3JQYXJ0aWNpcGFudDtcclxuICAgICAgICAgICAgYWN0aXZpdHlFeGVjdXRvciA9IG5ldyBBY3Rpdml0eUV4ZWN1dG9yUGFydGljaXBhbnRFeHByZXNzaW9uKHVzZXJBY3Rpdml0eS5Nb2RlbCk7XHJcbiAgICAgICAgICAgIGFjdGl2aXR5RXhlY3V0b3IuaWQgPSBwYXJ0aWNpcGFudC5pZDtcclxuICAgICAgICAgICAgYWN0aXZpdHlFeGVjdXRvci5hY3Rpdml0eURlZklkID0gcGFydGljaXBhbnQuYWN0aXZpdHlEZWZJZDtcclxuICAgICAgICAgICAgYWN0aXZpdHlFeGVjdXRvci5hY3Rpb25TY29wZSA9IEFjdGlvblNjb3BlLkRlZmF1bHQ7XHJcbiAgICAgICAgICAgIGFjdGl2aXR5RXhlY3V0b3Iub3JkZXIgPSBwYXJ0aWNpcGFudC5vcmRlcjtcclxuICAgICAgICAgICAgYWN0aXZpdHlFeGVjdXRvci5hY3Rpdml0eURlZk5hbWUgPSBwYXJ0aWNpcGFudC5hY3Rpdml0eURlZk5hbWU7XHJcbiAgICAgICAgICAgIGlmIChwYXJ0aWNpcGFudC5jb25kaXRpb24pIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGNvbmRpdGlvbiA9IG5ldyBDb25kaXRpb24odXNlckFjdGl2aXR5Lk1vZGVsKTtcclxuICAgICAgICAgICAgICAgIGNvbmRpdGlvbi5WYWx1ZSA9IHBhcnRpY2lwYW50LmNvbmRpdGlvbjtcclxuICAgICAgICAgICAgICAgIGFjdGl2aXR5RXhlY3V0b3IuY29uZGl0aW9uID0gY29uZGl0aW9uO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodHlwZSA9PT0gJ2h1bWFuUGVyZm9ybWVyJykge1xyXG4gICAgICAgICAgICBsZXQgaHVtYW5QZXJmb3JtZXJJbXBsID0gbmV3IEh1bWFuUGVyZm9ybWVySW1wbCh1c2VyQWN0aXZpdHkuTW9kZWwpO1xyXG4gICAgICAgICAgICBodW1hblBlcmZvcm1lckltcGwucGFydGljaXBhbnRFeHByZXNzaW9uID0gYWN0aXZpdHlFeGVjdXRvcjtcclxuICAgICAgICAgICAgaWYgKHBhcnRpY2lwYW50LmNvbmRpdGlvbikge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgY29uZGl0aW9uID0gbmV3IENvbmRpdGlvbih1c2VyQWN0aXZpdHkuTW9kZWwpO1xyXG4gICAgICAgICAgICAgICAgY29uZGl0aW9uLlZhbHVlID0gcGFydGljaXBhbnQuY29uZGl0aW9uO1xyXG4gICAgICAgICAgICAgICAgaHVtYW5QZXJmb3JtZXJJbXBsLmNvbmRpdGlvbiA9IGNvbmRpdGlvbjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBodW1hblBlcmZvcm1lckltcGwub3JkZXIgPSBwYXJ0aWNpcGFudC5vcmRlcjtcclxuICAgICAgICAgICAgdXNlckFjdGl2aXR5LkFkZFJlc291cmNlUm9sZShodW1hblBlcmZvcm1lckltcGwpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ3BvdGVudGlhbE93bmVyJykge1xyXG4gICAgICAgICAgICBsZXQgb3RlbnRpYWxPd25lckltcGwgPSBuZXcgUG90ZW50aWFsT3duZXJJbXBsKHVzZXJBY3Rpdml0eS5Nb2RlbCk7XHJcbiAgICAgICAgICAgIG90ZW50aWFsT3duZXJJbXBsLnBhcnRpY2lwYW50RXhwcmVzc2lvbiA9IGFjdGl2aXR5RXhlY3V0b3I7XHJcbiAgICAgICAgICAgIGlmIChwYXJ0aWNpcGFudC5jb25kaXRpb24pIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGNvbmRpdGlvbiA9IG5ldyBDb25kaXRpb24odXNlckFjdGl2aXR5Lk1vZGVsKTtcclxuICAgICAgICAgICAgICAgIGNvbmRpdGlvbi5WYWx1ZSA9IHBhcnRpY2lwYW50LmNvbmRpdGlvbjtcclxuICAgICAgICAgICAgICAgIG90ZW50aWFsT3duZXJJbXBsLmNvbmRpdGlvbiA9IGNvbmRpdGlvbjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBvdGVudGlhbE93bmVySW1wbC5vcmRlciA9IHBhcnRpY2lwYW50Lm9yZGVyO1xyXG4gICAgICAgICAgICBpZihzY29wZSkge1xyXG4gICAgICAgICAgICAgICAgYWN0aXZpdHlFeGVjdXRvci5hY3Rpb25TY29wZSA9IHNjb3BlO1xyXG4gICAgICAgICAgICAgICAgdXNlckFjdGl2aXR5LmR5bmFtaWNQYXJ0aWNpcGFudHMucHVzaChhY3Rpdml0eUV4ZWN1dG9yKTtcclxuICAgICAgICAgICAgfWVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdXNlckFjdGl2aXR5LkFkZFJlc291cmNlUm9sZShvdGVudGlhbE93bmVySW1wbCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHVzZXJBY3Rpdml0eVxyXG4gICAgICogQHBhcmFtIHBhcnRpY2lwYW50XHJcbiAgICAgKiBAcGFyYW0gdHlwZVxyXG4gICAgICovXHJcbiAgICBhZGRNYXRyaXhQYXJ0aWNpcGFudCh1c2VyQWN0aXZpdHk6IFVzZXJBY3Rpdml0eSwgcGFydGljaXBhbnQsIHR5cGU6IHN0cmluZywgc2NvcGU6IEFjdGlvblNjb3BlKSB7XHJcbiAgICAgICAgbGV0IG1hdHJpeCA6IE1hdHJpeFBhcnRpY2lwYW50RXhwcmVzc2lvbjtcclxuICAgICAgICBtYXRyaXggPSBuZXcgTWF0cml4UGFydGljaXBhbnRFeHByZXNzaW9uKHVzZXJBY3Rpdml0eS5Nb2RlbCk7XHJcbiAgICAgICAgaWYocGFydGljaXBhbnQgaW5zdGFuY2VvZiBNYXRyaXhQYXJ0aWNpcGFudEV4cHJlc3Npb24pIHtcclxuICAgICAgICAgICAgbWF0cml4ID0gcGFydGljaXBhbnQ7XHJcbiAgICAgICAgfWVsc2Uge1xyXG4gICAgICAgICAgICBwYXJ0aWNpcGFudCA9IHBhcnRpY2lwYW50IGFzIE1hdHJpeFBhcnRpY2lwYW50O1xyXG4gICAgICAgICAgICBtYXRyaXggPSBuZXcgTWF0cml4UGFydGljaXBhbnRFeHByZXNzaW9uKHVzZXJBY3Rpdml0eS5Nb2RlbCk7XHJcbiAgICAgICAgICAgIG1hdHJpeC5vcmRlciA9IHBhcnRpY2lwYW50Lm9yZGVyO1xyXG4gICAgICAgICAgICBtYXRyaXguaWQgPSBwYXJ0aWNpcGFudC5pZDtcclxuICAgICAgICAgICAgbWF0cml4LmFjdGlvblNjb3BlID0gQWN0aW9uU2NvcGUuRGVmYXVsdDtcclxuICAgICAgICAgICAgbWF0cml4Lm1hdHJpeERlZklkID0gcGFydGljaXBhbnQubWF0cml4RGVmSWQ7XHJcbiAgICAgICAgICAgIG1hdHJpeC5tYXRyaXhEZWZOYW1lID0gcGFydGljaXBhbnQubWF0cml4RGVmTmFtZTtcclxuICAgICAgICAgICAgbWF0cml4LmNvbmRpdGlvbkZpZWxkMSA9IHBhcnRpY2lwYW50LmNvbmRpdGlvbkZpZWxkMTtcclxuICAgICAgICAgICAgbWF0cml4LmNvbmRpdGlvbkZpZWxkVGV4dDEgPSBwYXJ0aWNpcGFudC5jb25kaXRpb25GaWVsZFRleHQxO1xyXG4gICAgICAgICAgICBtYXRyaXguY29uZGl0aW9uRmllbGQyID0gcGFydGljaXBhbnQuY29uZGl0aW9uRmllbGQyO1xyXG4gICAgICAgICAgICBtYXRyaXguY29uZGl0aW9uRmllbGRUZXh0MiA9IHBhcnRpY2lwYW50LmNvbmRpdGlvbkZpZWxkVGV4dDI7XHJcbiAgICAgICAgICAgIG1hdHJpeC5jb25kaXRpb25GaWVsZDMgPSBwYXJ0aWNpcGFudC5jb25kaXRpb25GaWVsZDM7XHJcbiAgICAgICAgICAgIG1hdHJpeC5jb25kaXRpb25GaWVsZFRleHQzID0gcGFydGljaXBhbnQuY29uZGl0aW9uRmllbGRUZXh0MztcclxuICAgICAgICAgICAgbWF0cml4Lm11bHRpdmFsdWVkQ29uZGl0aW9uID0gcGFydGljaXBhbnQubXVsdGl2YWx1ZWRDb25kaXRpb247XHJcbiAgICAgICAgICAgIG1hdHJpeC5kYXRhRmllbGRBbGlhcyA9IHBhcnRpY2lwYW50LmRhdGFGaWVsZEFsaWFzO1xyXG4gICAgICAgICAgICBpZiAocGFydGljaXBhbnQuY29uZGl0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBjb25kaXRpb24gPSBuZXcgQ29uZGl0aW9uKHVzZXJBY3Rpdml0eS5Nb2RlbCk7XHJcbiAgICAgICAgICAgICAgICBjb25kaXRpb24uVmFsdWUgPSBwYXJ0aWNpcGFudC5jb25kaXRpb247XHJcbiAgICAgICAgICAgICAgICBtYXRyaXguY29uZGl0aW9uID0gY29uZGl0aW9uO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodHlwZSA9PT0gJ2h1bWFuUGVyZm9ybWVyJykge1xyXG4gICAgICAgICAgICBsZXQgaHVtYW5QZXJmb3JtZXJJbXBsID0gbmV3IEh1bWFuUGVyZm9ybWVySW1wbCh1c2VyQWN0aXZpdHkuTW9kZWwpO1xyXG4gICAgICAgICAgICBodW1hblBlcmZvcm1lckltcGwucGFydGljaXBhbnRFeHByZXNzaW9uID0gbWF0cml4O1xyXG4gICAgICAgICAgICBpZiAocGFydGljaXBhbnQuY29uZGl0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBjb25kaXRpb24gPSBuZXcgQ29uZGl0aW9uKHVzZXJBY3Rpdml0eS5Nb2RlbCk7XHJcbiAgICAgICAgICAgICAgICBjb25kaXRpb24uVmFsdWUgPSBwYXJ0aWNpcGFudC5jb25kaXRpb247XHJcbiAgICAgICAgICAgICAgICBodW1hblBlcmZvcm1lckltcGwuY29uZGl0aW9uID0gY29uZGl0aW9uO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGh1bWFuUGVyZm9ybWVySW1wbC5vcmRlciA9IHBhcnRpY2lwYW50Lm9yZGVyO1xyXG4gICAgICAgICAgICB1c2VyQWN0aXZpdHkuQWRkUmVzb3VyY2VSb2xlKGh1bWFuUGVyZm9ybWVySW1wbCk7XHJcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlID09PSAncG90ZW50aWFsT3duZXInKSB7XHJcbiAgICAgICAgICAgIGxldCBvdGVudGlhbE93bmVySW1wbCA9IG5ldyBQb3RlbnRpYWxPd25lckltcGwodXNlckFjdGl2aXR5Lk1vZGVsKTtcclxuICAgICAgICAgICAgb3RlbnRpYWxPd25lckltcGwucGFydGljaXBhbnRFeHByZXNzaW9uID0gbWF0cml4O1xyXG4gICAgICAgICAgICBpZiAocGFydGljaXBhbnQuY29uZGl0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBjb25kaXRpb24gPSBuZXcgQ29uZGl0aW9uKHVzZXJBY3Rpdml0eS5Nb2RlbCk7XHJcbiAgICAgICAgICAgICAgICBjb25kaXRpb24uVmFsdWUgPSBwYXJ0aWNpcGFudC5jb25kaXRpb247XHJcbiAgICAgICAgICAgICAgICBvdGVudGlhbE93bmVySW1wbC5jb25kaXRpb24gPSBjb25kaXRpb247XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgb3RlbnRpYWxPd25lckltcGwub3JkZXIgPSBwYXJ0aWNpcGFudC5vcmRlcjtcclxuICAgICAgICAgICAgaWYoc2NvcGUpIHtcclxuICAgICAgICAgICAgICAgIG1hdHJpeC5hY3Rpb25TY29wZSA9IHNjb3BlO1xyXG4gICAgICAgICAgICAgICAgdXNlckFjdGl2aXR5LmR5bmFtaWNQYXJ0aWNpcGFudHMucHVzaChtYXRyaXgpO1xyXG4gICAgICAgICAgICB9ZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB1c2VyQWN0aXZpdHkuQWRkUmVzb3VyY2VSb2xlKG90ZW50aWFsT3duZXJJbXBsKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gdXNlckFjdGl2aXR5XHJcbiAgICAgKiBAcGFyYW0gcGFydGljaXBhbnRcclxuICAgICAqIEBwYXJhbSB0eXBlXHJcbiAgICAgKi9cclxuICAgIGFkZE9yZ2FuaXphdGlvblBhcnRpY2lwYW50KHVzZXJBY3Rpdml0eTogVXNlckFjdGl2aXR5LCBwYXJ0aWNpcGFudCwgdHlwZTogc3RyaW5nLCBzY29wZTogQWN0aW9uU2NvcGUpIHtcclxuICAgICAgICBsZXQgcG90ZW50aWFsIDogT3JnYW5pemF0aW9uUGFydGljaXBhbnRFeHByZXNzaW9uO1xyXG4gICAgICAgIGlmKHBhcnRpY2lwYW50IGluc3RhbmNlb2YgT3JnYW5pemF0aW9uUGFydGljaXBhbnRFeHByZXNzaW9uKSB7XHJcbiAgICAgICAgICAgIHBvdGVudGlhbCA9IHBhcnRpY2lwYW50O1xyXG4gICAgICAgIH1lbHNlIHtcclxuICAgICAgICAgICAgcGFydGljaXBhbnQgPSBwYXJ0aWNpcGFudCBhcyBPcmdhbml6YXRpb25QYXJ0aWNpcGFudDtcclxuICAgICAgICAgICAgcG90ZW50aWFsID0gbmV3IE9yZ2FuaXphdGlvblBhcnRpY2lwYW50RXhwcmVzc2lvbih1c2VyQWN0aXZpdHkuTW9kZWwpO1xyXG4gICAgICAgICAgICBwb3RlbnRpYWwuaWQgPSBwYXJ0aWNpcGFudC5pZDtcclxuICAgICAgICAgICAgcG90ZW50aWFsLm9yZGVyID0gcGFydGljaXBhbnQub3JkZXI7XHJcbiAgICAgICAgICAgIHBvdGVudGlhbC5hY3Rpb25TY29wZSA9IEFjdGlvblNjb3BlLkFzc2lnblVzZXI7XHJcbiAgICAgICAgICAgIC8vIHBvdGVudGlhbC5vcmdhbml6YXRpb25MZXZlbCA9IHBhcnRpY2lwYW50Lm9yZ2FuaXphdGlvbkxldmVsO1xyXG4gICAgICAgICAgICBpZihwYXJ0aWNpcGFudC5vcmdhbml6YXRpb25MZXZlbCA9PT0gJ0RFUEFSVE1FTlQnKSB7XHJcbiAgICAgICAgICAgICAgICBwb3RlbnRpYWwub3JnYW5pemF0aW9uTGV2ZWwgPSBPcmdhbml6YXRpb25MZXZlbC5ERVBBUlRNRU5UO1xyXG4gICAgICAgICAgICB9ZWxzZSBpZihwYXJ0aWNpcGFudC5vcmdhbml6YXRpb25MZXZlbCA9PT0gJ1VOSVQnKSB7XHJcbiAgICAgICAgICAgICAgICBwb3RlbnRpYWwub3JnYW5pemF0aW9uTGV2ZWwgPSBPcmdhbml6YXRpb25MZXZlbC5VTklUO1xyXG4gICAgICAgICAgICB9ZWxzZSBpZihwYXJ0aWNpcGFudC5vcmdhbml6YXRpb25MZXZlbCA9PT0gJ0RFRkFVTFQnKXtcclxuICAgICAgICAgICAgICAgIHBvdGVudGlhbC5vcmdhbml6YXRpb25MZXZlbCA9IE9yZ2FuaXphdGlvbkxldmVsLkRFRkFVTFQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcG90ZW50aWFsLm9yZ2FuaXphdGlvbklkID0gcGFydGljaXBhbnQub3JnYW5pemF0aW9uSWQ7XHJcbiAgICAgICAgICAgIHBvdGVudGlhbC5vcmdhbml6YXRpb25OYW1lID0gcGFydGljaXBhbnQub3JnYW5pemF0aW9uTmFtZTtcclxuICAgICAgICAgICAgcG90ZW50aWFsLmluY2x1ZGVDaGlsZHJlbiA9IHBhcnRpY2lwYW50LmluY2x1ZGVDaGlsZHJlbjtcclxuICAgICAgICAgICAgcG90ZW50aWFsLnRhZyA9IHBhcnRpY2lwYW50LnRhZztcclxuXHJcbiAgICAgICAgICAgIGlmIChwYXJ0aWNpcGFudC5jb25kaXRpb24pIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGNvbmRpdGlvbiA9IG5ldyBDb25kaXRpb24odXNlckFjdGl2aXR5Lk1vZGVsKTtcclxuICAgICAgICAgICAgICAgIGNvbmRpdGlvbi5WYWx1ZSA9IHBhcnRpY2lwYW50LmNvbmRpdGlvbjtcclxuICAgICAgICAgICAgICAgIHBvdGVudGlhbC5jb25kaXRpb24gPSBjb25kaXRpb247XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0eXBlID09PSAnaHVtYW5QZXJmb3JtZXInKSB7XHJcbiAgICAgICAgICAgIGxldCBodW1hblBlcmZvcm1lckltcGwgPSBuZXcgSHVtYW5QZXJmb3JtZXJJbXBsKHVzZXJBY3Rpdml0eS5Nb2RlbCk7XHJcbiAgICAgICAgICAgIGh1bWFuUGVyZm9ybWVySW1wbC5wYXJ0aWNpcGFudEV4cHJlc3Npb24gPSBwb3RlbnRpYWw7XHJcbiAgICAgICAgICAgIGlmIChwYXJ0aWNpcGFudC5jb25kaXRpb24pIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGNvbmRpdGlvbiA9IG5ldyBDb25kaXRpb24odXNlckFjdGl2aXR5Lk1vZGVsKTtcclxuICAgICAgICAgICAgICAgIGNvbmRpdGlvbi5WYWx1ZSA9IHBhcnRpY2lwYW50LmNvbmRpdGlvbjtcclxuICAgICAgICAgICAgICAgIGh1bWFuUGVyZm9ybWVySW1wbC5jb25kaXRpb24gPSBjb25kaXRpb247XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaHVtYW5QZXJmb3JtZXJJbXBsLm9yZGVyID0gcGFydGljaXBhbnQub3JkZXI7XHJcbiAgICAgICAgICAgIHVzZXJBY3Rpdml0eS5BZGRSZXNvdXJjZVJvbGUoaHVtYW5QZXJmb3JtZXJJbXBsKTtcclxuICAgICAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdwb3RlbnRpYWxPd25lcicpIHtcclxuICAgICAgICAgICAgbGV0IG90ZW50aWFsT3duZXJJbXBsID0gbmV3IFBvdGVudGlhbE93bmVySW1wbCh1c2VyQWN0aXZpdHkuTW9kZWwpO1xyXG4gICAgICAgICAgICBvdGVudGlhbE93bmVySW1wbC5wYXJ0aWNpcGFudEV4cHJlc3Npb24gPSBwb3RlbnRpYWw7XHJcbiAgICAgICAgICAgIGlmIChwYXJ0aWNpcGFudC5jb25kaXRpb24pIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGNvbmRpdGlvbiA9IG5ldyBDb25kaXRpb24odXNlckFjdGl2aXR5Lk1vZGVsKTtcclxuICAgICAgICAgICAgICAgIGNvbmRpdGlvbi5WYWx1ZSA9IHBhcnRpY2lwYW50LmNvbmRpdGlvbjtcclxuICAgICAgICAgICAgICAgIG90ZW50aWFsT3duZXJJbXBsLmNvbmRpdGlvbiA9IGNvbmRpdGlvbjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBvdGVudGlhbE93bmVySW1wbC5vcmRlciA9IHBhcnRpY2lwYW50Lm9yZGVyO1xyXG4gICAgICAgICAgICBpZihzY29wZSkge1xyXG4gICAgICAgICAgICAgICAgcG90ZW50aWFsLmFjdGlvblNjb3BlID0gc2NvcGU7XHJcbiAgICAgICAgICAgICAgICB1c2VyQWN0aXZpdHkuZHluYW1pY1BhcnRpY2lwYW50cy5wdXNoKHBvdGVudGlhbCk7XHJcbiAgICAgICAgICAgIH1lbHNlIHtcclxuICAgICAgICAgICAgICAgIHVzZXJBY3Rpdml0eS5BZGRSZXNvdXJjZVJvbGUob3RlbnRpYWxPd25lckltcGwpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5L+u5pS55Y+C5LiO6ICF6YCJ6aG5XHJcbiAgICAgKiBAcGFyYW0gdXNlckFjdGl2aXR5XHJcbiAgICAgKiBAcGFyYW0gb2JqXHJcbiAgICAgKi9cclxuICAgIHVwZGF0ZVBhcnRpY2lwYW50T3B0aW9ucyh1c2VyQWN0aXZpdHk6IFVzZXJBY3Rpdml0eSwgb2JqOiBhbnkpIHtcclxuICAgICAgICBjb25zdCBvcHRpb25zID0gb2JqLnByb3BlcnR5VmFsdWU7XHJcbiAgICAgICAgaWYgKHVzZXJBY3Rpdml0eS5QYXJ0aWNpcGFudFNldHRpbmcgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICB1c2VyQWN0aXZpdHkuUGFydGljaXBhbnRTZXR0aW5nLkV4Y2x1c2lvblBlcmZvcm1lcnMgPSBvcHRpb25zLkV4Y2x1c2lvblBlcmZvcm1lcnM7XHJcbiAgICAgICAgICAgIHVzZXJBY3Rpdml0eS5QYXJ0aWNpcGFudFNldHRpbmcuTm9QZXJmb3JtZXJTdHJhdGVneSA9IG9wdGlvbnMuTm9QZXJmb3JtZXJTdHJhdGVneTtcclxuICAgICAgICAgICAgdXNlckFjdGl2aXR5LlBhcnRpY2lwYW50U2V0dGluZy5IaXN0b3JpY0ZpcnN0ID0gb3B0aW9ucy5IaXN0b3JpY0ZpcnN0O1xyXG4gICAgICAgICAgICB1c2VyQWN0aXZpdHkuUGFydGljaXBhbnRTZXR0aW5nLmF1dG9tYXRpY1BlcmZvcm1lcnMgPSBvcHRpb25zLmF1dG9tYXRpY1BlcmZvcm1lcnM7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgbGV0IHBhcnRpY2lwYW50U2V0dGluZyA9IG5ldyBQYXJ0aWNpcGFudFNldHRpbmcodXNlckFjdGl2aXR5Lk1vZGVsKTtcclxuICAgICAgICAgICAgcGFydGljaXBhbnRTZXR0aW5nLkV4Y2x1c2lvblBlcmZvcm1lcnMgPSBvcHRpb25zLkV4Y2x1c2lvblBlcmZvcm1lcnM7XHJcbiAgICAgICAgICAgIHBhcnRpY2lwYW50U2V0dGluZy5Ob1BlcmZvcm1lclN0cmF0ZWd5ID0gb3B0aW9ucy5Ob1BlcmZvcm1lclN0cmF0ZWd5O1xyXG4gICAgICAgICAgICBwYXJ0aWNpcGFudFNldHRpbmcuSGlzdG9yaWNGaXJzdCA9IG9wdGlvbnMuSGlzdG9yaWNGaXJzdDtcclxuICAgICAgICAgICAgcGFydGljaXBhbnRTZXR0aW5nLmF1dG9tYXRpY1BlcmZvcm1lcnMgPSBvcHRpb25zLmF1dG9tYXRpY1BlcmZvcm1lcnM7XHJcbiAgICAgICAgICAgIHVzZXJBY3Rpdml0eS5QYXJ0aWNpcGFudFNldHRpbmcgPSBwYXJ0aWNpcGFudFNldHRpbmc7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5L+u5pS55a6M5oiQ562W55Wl5bGe5oCnXHJcbiAgICAgKiBAcGFyYW0gZ3JhcGhcclxuICAgICAqIEBwYXJhbSB1c2VyQWN0aXZpdHlcclxuICAgICAqIEBwYXJhbSBvYmpcclxuICAgICAqIEBwYXJhbSBpc09wZXJhdGlvblxyXG4gICAgICovXHJcbiAgICByZXNldEV4ZWN1dGVXb3JrSXRlbU1vZGUodXNlckFjdGl2aXR5OiBVc2VyQWN0aXZpdHksIG9iajogYW55LCBpc09wZXJhdGlvbiA9IGZhbHNlKSB7XHJcbiAgICAgICAgaWYgKHVzZXJBY3Rpdml0eSkge1xyXG4gICAgICAgICAgICB1c2VyQWN0aXZpdHkuRXhlY3V0ZVdvcmtJdGVtTW9kZSA9IG9iai5wcm9wZXJ0eVZhbHVlO1xyXG4gICAgICAgICAgICAvL+aKouWNoOaooeW8j+S4i+a4heepuuS8muetvuinhOWImVxyXG4gICAgICAgICAgICBpZiAodXNlckFjdGl2aXR5LkV4ZWN1dGVXb3JrSXRlbU1vZGUgPT09IEV4ZWN1dGVXb3JrSXRlbU1vZGUuUHJlZW1wdCkge1xyXG4gICAgICAgICAgICAgICAgdXNlckFjdGl2aXR5LkNvdW50ZXJTaWduUnVsZXMgPSBudWxsO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIOS8muetvuinhOWImeS4jeWtmOWcqOaXtu+8jOWNs+eUseaKouWNoOWPmOS4uuS8muetvuaXtu+8jOWIneWni+WMluS8muetvuinhOWImVxyXG4gICAgICAgICAgICAgICAgLy8g5bm26KGM5Lya562+5ZKM5Liy6KGM5Lya562+5LmL6Ze05YiH5o2i5pe277yM5LiN5Yi35paw5Lya562+6KeE5YiZXHJcbiAgICAgICAgICAgICAgICBpZiAoIXVzZXJBY3Rpdml0eS5Db3VudGVyU2lnblJ1bGVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdXNlckFjdGl2aXR5LkNvdW50ZXJTaWduUnVsZXMgPSBuZXcgQXJyYXk8Q291bnRlclNpZ25SdWxlPigpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy/kvJrnrb7nrZbnlaXml7Ys5LiN5YWB6K646Lez6L2s77yb5LiU6amz5Zue6KeE5YiZ5LiN5YWB6K645Yqo5oCB6YCJ5oup6amz5Zue57qn5qyhKOmps+WbnuinhOWImeebruWJjemcgOimgeWcqOa1geeoi+iuvuiuoeWZqOiwg+aVtClcclxuICAgICAgICAgICAgICAgIHVzZXJBY3Rpdml0eS5TZWxlY3RUYXJnZXRBYmxlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB1c2VyQWN0aXZpdHkuSnVtcFNjb3BlID0gbnVsbDtcclxuICAgICAgICAgICAgICAgIC8vIOWIh+aNouS8muetvuetlueVpeaXtu+8jOWIhumFjeetlueVpeS4jeiDveaYr+mihueUqCzoh6rliqjliIfmjaLkuLrmiYDmnIlcclxuICAgICAgICAgICAgICAgIC8vIDIwMjMtMi05IOS/ruWkje+8mueUseS6juaWsOWinuS6huWkh+mAieWKnueQhuS6uu+8jOebtOaOpeaMh+a0vuWvvOiHtOWIh+aNouaXtuaXtuWkh+mAieWKnueQhuS6uuS4ouWkse+8jOS/ruaUueS4uuWPquacieaYr+mihueUqOaJjeWIh+WIsOaMh+aJgOaciVxyXG4gICAgICAgICAgICAgICAgaWYgKHVzZXJBY3Rpdml0eS5Bc3NpZ25tZW50U3RyYXRlZ3kgPT09IEFzc2lnbm1lbnRTdHJhdGVneS5DTEFJTSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHVzZXJBY3Rpdml0eS5Bc3NpZ25tZW50U3RyYXRlZ3kgPSBBc3NpZ25tZW50U3RyYXRlZ3kuQUxMO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJlc2V0RGlzcGxheVRlcm1pbmFsKHVzZXJBY3Rpdml0eTogVXNlckFjdGl2aXR5LCBvYmo6IGFueSwgaXNPcGVyYXRpb24gPSBmYWxzZSkge1xyXG4gICAgICAgIGlmICh1c2VyQWN0aXZpdHkpIHtcclxuICAgICAgICAgICAgdXNlckFjdGl2aXR5LkRpc3BsYXlUZXJtaW5hbCA9IG9iai5wcm9wZXJ0eVZhbHVlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOabtOaWsOS8muetvuinhOWImeWxnuaAp1xyXG4gICAgICogQHBhcmFtIGdyYXBoXHJcbiAgICAgKiBAcGFyYW0gdXNlckFjdGl2aXR5XHJcbiAgICAgKiBAcGFyYW0gb2JqXHJcbiAgICAgKiBAcGFyYW0gaXNPcGVyYXRpb25cclxuICAgICAqL1xyXG4gICAgcmVzZXRTaWduUnVsZXModXNlckFjdGl2aXR5OiBVc2VyQWN0aXZpdHksIG9iajogYW55LCBpc09wZXJhdGlvbiA9IGZhbHNlKSB7XHJcbiAgICAgICAgaWYgKHVzZXJBY3Rpdml0eSkge1xyXG4gICAgICAgICAgICBsZXQgcnVsZXMgPSBvYmoucHJvcGVydHlWYWx1ZSBhcyBhbnlbXTtcclxuICAgICAgICAgICAgdXNlckFjdGl2aXR5LkNvdW50ZXJTaWduUnVsZXMgPSBudWxsO1xyXG4gICAgICAgICAgICBpZiAocnVsZXMgJiYgcnVsZXMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgdXNlckFjdGl2aXR5LkNvdW50ZXJTaWduUnVsZXMgPSBuZXcgQXJyYXk8Q291bnRlclNpZ25SdWxlPigpO1xyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgcnVsZSBvZiBydWxlcykge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBjb3VudGVyU2lnblJ1bGUgPSBuZXcgQ291bnRlclNpZ25SdWxlKHVzZXJBY3Rpdml0eS5Nb2RlbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGNvbmRpdGlvbiA9IG5ldyBDb25kaXRpb24odXNlckFjdGl2aXR5Lk1vZGVsKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25kaXRpb24uVmFsdWUgPSBydWxlLmNvbXBsZXRpb25Db25kaXRpb247XHJcbiAgICAgICAgICAgICAgICAgICAgY291bnRlclNpZ25SdWxlLkNvbmNsdXNpb25WYWx1ZSA9IHJ1bGUuY29uY2x1c2lvblZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvdW50ZXJTaWduUnVsZS5DYWxjdWxhdGVUeXBlID0gcnVsZS5jYWxjdWxhdGVUeXBlO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvdW50ZXJTaWduUnVsZS5Db25kaXRpb25WYWx1ZSA9IHJ1bGUuY29uZGl0aW9uVmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgY291bnRlclNpZ25SdWxlLldhaXRBbGxWb3RlcyA9IHJ1bGUud2FpdEFsbFZvdGVzO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvdW50ZXJTaWduUnVsZS5Db21wbGV0aW9uQ29uZGl0aW9uID0gY29uZGl0aW9uO1xyXG4gICAgICAgICAgICAgICAgICAgIHVzZXJBY3Rpdml0eS5Db3VudGVyU2lnblJ1bGVzLnB1c2goY291bnRlclNpZ25SdWxlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOabtOaWsOiHquWumuS5iemhueWxnuaAp1xyXG4gICAgICogQHBhcmFtIGdyYXBoXHJcbiAgICAgKiBAcGFyYW0gdXNlckFjdGl2aXR5XHJcbiAgICAgKiBAcGFyYW0gb2JqXHJcbiAgICAgKiBAcGFyYW0gaXNPcGVyYXRpb25cclxuICAgICAqL1xyXG4gICAgcmVzZXRBcHByb3ZhbEl0ZW1zKHVzZXJBY3Rpdml0eTogVXNlckFjdGl2aXR5LCBvYmo6IGFueSwgaXNPcGVyYXRpb24gPSBmYWxzZSkge1xyXG4gICAgICAgIGlmICh1c2VyQWN0aXZpdHkpIHtcclxuICAgICAgICAgICAgbGV0IGNvbmNsdXNpb25zID0gb2JqLnByb3BlcnR5VmFsdWUgYXMgYW55W107XHJcbiAgICAgICAgICAgIHVzZXJBY3Rpdml0eS5Db25jbHVzaW9ucyA9IG5ldyBBcnJheTxDb25jbHVzaW9uSXRlbT4oKTtcclxuICAgICAgICAgICAgZm9yIChsZXQgY29uY2x1c2lvbiBvZiBjb25jbHVzaW9ucykge1xyXG4gICAgICAgICAgICAgICAgbGV0IGl0ZW0gPSBuZXcgQ29uY2x1c2lvbkl0ZW0odXNlckFjdGl2aXR5Lk1vZGVsKTtcclxuICAgICAgICAgICAgICAgIGl0ZW0uVmFsdWUgPSBjb25jbHVzaW9uLnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgaXRlbS5UZXh0ID0gY29uY2x1c2lvbi50ZXh0O1xyXG4gICAgICAgICAgICAgICAgaXRlbS5Xb3JrRmxvd0FjdGlvbiA9IGNvbmNsdXNpb24ud29ya0Zsb3dBY3Rpb247XHJcbiAgICAgICAgICAgICAgICBpdGVtLklzRGVmYXVsdCA9IGNvbmNsdXNpb24uaXNEZWZhdWx0O1xyXG4gICAgICAgICAgICAgICAgaXRlbS5jb21tZW50TmVjZXNzYXJ5ID0gY29uY2x1c2lvbi5jb21tZW50TmVjZXNzYXJ5O1xyXG4gICAgICAgICAgICAgICAgaXRlbS5jZXJ0aWZpY2F0aW9uID0gY29uY2x1c2lvbi5jZXJ0aWZpY2F0aW9uO1xyXG4gICAgICAgICAgICAgICAgaXRlbS5hdHRhY2htZW50TmVjZXNzYXJ5ID0gY29uY2x1c2lvbi5hdHRhY2htZW50TmVjZXNzYXJ5O1xyXG4gICAgICAgICAgICAgICAgaXRlbS5zaWduYXR1cmVOZWNlc3NhcnkgPSBjb25jbHVzaW9uLnNpZ25hdHVyZU5lY2Vzc2FyeTtcclxuICAgICAgICAgICAgICAgIGl0ZW0uZGVmYXVsdENvbW1lbnQgPSBjb25jbHVzaW9uLmRlZmF1bHRDb21tZW50O1xyXG4gICAgICAgICAgICAgICAgdXNlckFjdGl2aXR5LkNvbmNsdXNpb25zLnB1c2goaXRlbSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgLy8g5Yik5pat5a6h5om56aG55piv5ZCm5YyF5ZCr6amz5Zue77yf5LiN5YyF5ZCr5pe277yM6amz5Zue6KeE5YiZ5riF56m6XHJcbiAgICAgICAgaWYgKCF0aGlzLmlzQmFja0NvbmNsdXNpb25FeGlzdCh1c2VyQWN0aXZpdHkuQ29uY2x1c2lvbnMpKSB7XHJcbiAgICAgICAgICAgIHVzZXJBY3Rpdml0eS5CYWNrV2FyZFJ1bGUgPSBudWxsO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoIXVzZXJBY3Rpdml0eS5CYWNrV2FyZFJ1bGUpIHtcclxuICAgICAgICAgICAgdXNlckFjdGl2aXR5LkJhY2tXYXJkUnVsZSA9IG5ldyBCYWNrV2FyZFJ1bGUodXNlckFjdGl2aXR5Lk1vZGVsKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDmm7TmlrDlrqHmibnmtLvliqjooajljZXlrprkuYnlsZ7mgKdcclxuICAgICAqIEBwYXJhbSB1c2VyQWN0aXZpdHlcclxuICAgICAqIEBwYXJhbSBvYmpcclxuICAgICAqIEBwYXJhbSB0ZXJtaW5hbFxyXG4gICAgICovXHJcbiAgICByZXNldEV4ZWN1dGVGb3JtKHVzZXJBY3Rpdml0eTogVXNlckFjdGl2aXR5LCBvYmo6IGFueSwgdGVybWluYWw6IHN0cmluZykge1xyXG4gICAgICAgIGlmICh1c2VyQWN0aXZpdHkpIHtcclxuICAgICAgICAgICAgbGV0IGZvcm0gPSBvYmoucHJvcGVydHlWYWx1ZSBhcyBhbnk7XHJcbiAgICAgICAgICAgIGlmICghdXNlckFjdGl2aXR5LkV4ZWN1dGVGb3Jtcykge1xyXG4gICAgICAgICAgICAgICAgdXNlckFjdGl2aXR5LkV4ZWN1dGVGb3JtcyA9IG5ldyBBcnJheTxFeGVjdXRlRm9ybT4oKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB1c2VyQWN0aXZpdHkuRXhlY3V0ZUZvcm1zID0gdXNlckFjdGl2aXR5LkV4ZWN1dGVGb3Jtcy5maWx0ZXIoZSA9PiBlLlRlcm1pbmFsVHlwZSAhPT0gdGVybWluYWwpO1xyXG4gICAgICAgICAgICBpZiAoZm9ybSkge1xyXG4gICAgICAgICAgICAgICAgbGV0IHBhcmFtcyA9IGZvcm0uQWN0dWFsUGFyYW1ldGVycyBhcyBhbnlbXTtcclxuICAgICAgICAgICAgICAgIGxldCBhY3RQYXJhcyA9IG5ldyBBcnJheTxBY3R1YWxQYXJhbWV0ZXI+KCk7XHJcbiAgICAgICAgICAgICAgICBpZiAocGFyYW1zICYmIHBhcmFtcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgcGFyYSBvZiBwYXJhbXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGFjdFBhcmEgPSBuZXcgQWN0dWFsUGFyYW1ldGVyKHVzZXJBY3Rpdml0eS5Nb2RlbCwgcGFyYS5OYW1lLCBwYXJhLlZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBhcmEuVGFnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3RQYXJhLlRhZyA9IHBhcmEuVGFnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBhcmEuVmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocGFyYS5WYWx1ZS5sZW5ndGggPj0gOCAmJiBwYXJhLlZhbHVlLnNsaWNlKDAsIDgpID09PSBge1wiZXhwclwiOmApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0UGFyYS5UYWcgPSAnZXhwcmVzc2lvbic7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0UGFyYS5UYWcgPSAnY29uc3RhbnQnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0UGFyYS5UYWcgPSAndmFyaWFibGUnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhY3RQYXJhcy5wdXNoKGFjdFBhcmEpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNvbnN0IGlkID0gQnBtbk1vZGVsSGVscGVyLkdlbmVyYXRlRWxlbWVudElkKCk7XHJcbiAgICAgICAgICAgICAgICBsZXQgaXRlbSA9IG5ldyBFeGVjdXRlRm9ybSh1c2VyQWN0aXZpdHkuTW9kZWwsIGlkLCBmb3JtLk5hbWUsIGFjdFBhcmFzKTtcclxuICAgICAgICAgICAgICAgIGl0ZW0uQ29tcG9uZW50SWQgPSBmb3JtLkNvbXBvbmVudElkO1xyXG4gICAgICAgICAgICAgICAgaXRlbS5Gb3JtVHlwZSA9IGZvcm0uRm9ybVR5cGU7XHJcbiAgICAgICAgICAgICAgICBpdGVtLmZvcm1Gb3JtYXRJZCA9IGZvcm0uZm9ybUZvcm1hdElkO1xyXG4gICAgICAgICAgICAgICAgaXRlbS5mb3JtYXRDb25maWdJZCA9IGZvcm0uZm9ybWF0Q29uZmlnSWQ7XHJcbiAgICAgICAgICAgICAgICBpdGVtLlRlcm1pbmFsVHlwZSA9IGZvcm0uVGVybWluYWxUeXBlO1xyXG4gICAgICAgICAgICAgICAgdXNlckFjdGl2aXR5LkV4ZWN1dGVGb3Jtcy5wdXNoKGl0ZW0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5pu05paw5piv5ZCm5YWB6K646Lez6L2s5bGe5oCnXHJcbiAgICAgKiBAcGFyYW0gZ3JhcGhcclxuICAgICAqIEBwYXJhbSB1c2VyQWN0aXZpdHlcclxuICAgICAqIEBwYXJhbSBvYmpcclxuICAgICAqIEBwYXJhbSBpc09wZXJhdGlvblxyXG4gICAgICovXHJcbiAgICByZXNldFNlbGVjdFRhcmdldEFibGUodXNlckFjdGl2aXR5OiBVc2VyQWN0aXZpdHksIG9iajogYW55LCBpc09wZXJhdGlvbiA9IGZhbHNlKSB7XHJcbiAgICAgICAgY29uc3QgU2VsZWN0VGFyZ2V0QWJsZSA9IG9iai5wcm9wZXJ0eVZhbHVlIGFzIGJvb2xlYW47XHJcbiAgICAgICAgdXNlckFjdGl2aXR5LlNlbGVjdFRhcmdldEFibGUgPSBTZWxlY3RUYXJnZXRBYmxlO1xyXG4gICAgICAgIGlmICh1c2VyQWN0aXZpdHkuU2VsZWN0VGFyZ2V0QWJsZSkge1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHVzZXJBY3Rpdml0eS5KdW1wU2NvcGUgPSBudWxsO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXNldEp1bXBTY29wZSh1c2VyQWN0aXZpdHk6IFVzZXJBY3Rpdml0eSwgb2JqOiBhbnkpIHtcclxuICAgICAgICBjb25zdCBkYXRhID0gb2JqLnByb3BlcnR5VmFsdWU7XHJcbiAgICAgICAgaWYgKGRhdGEpIHtcclxuICAgICAgICAgICAgbGV0IGp1bXBTY29wZSA9IG5ldyBKdW1wU2NvcGUodXNlckFjdGl2aXR5Lk1vZGVsKTtcclxuICAgICAgICAgICAganVtcFNjb3BlLkNhdGVnb3J5ID0gZGF0YS5DYXRlZ29yeTtcclxuICAgICAgICAgICAganVtcFNjb3BlLkRlZmF1bHRUeXBlID0gZGF0YS5EZWZhdWx0VHlwZTtcclxuICAgICAgICAgICAganVtcFNjb3BlLkRlc3RpbmF0aW9uQWN0aXZpdGllcyA9IGRhdGEuRGVzdGluYXRpb25BY3Rpdml0aWVzO1xyXG4gICAgICAgICAgICBqdW1wU2NvcGUuRGVmYXVsdEFjdGl2aXR5ID0gZGF0YS5EZWZhdWx0QWN0aXZpdHk7XHJcbiAgICAgICAgICAgIHVzZXJBY3Rpdml0eS5KdW1wU2NvcGUgPSBqdW1wU2NvcGU7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdXNlckFjdGl2aXR5Lkp1bXBTY29wZSA9IG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJlc2V0QmFja1dhcmRSdWxlKHVzZXJBY3Rpdml0eTogVXNlckFjdGl2aXR5LCBvYmo6IGFueSkge1xyXG4gICAgICAgIGNvbnN0IGRhdGEgPSBvYmoucHJvcGVydHlWYWx1ZTtcclxuICAgICAgICBsZXQgYmFja1dhcmRSdWxlID0gbmV3IEJhY2tXYXJkUnVsZSh1c2VyQWN0aXZpdHkuTW9kZWwpO1xyXG4gICAgICAgIGJhY2tXYXJkUnVsZS5UYXJnZXRSZWYgPSBkYXRhLlRhcmdldFJlZjtcclxuICAgICAgICBiYWNrV2FyZFJ1bGUuU2VsZWN0VGFyZ2V0QWJsZSA9IGRhdGEuU2VsZWN0VGFyZ2V0QWJsZTtcclxuICAgICAgICBiYWNrV2FyZFJ1bGUuV2FpdFJldHVybiA9IGRhdGEuV2FpdFJldHVybjtcclxuICAgICAgICBiYWNrV2FyZFJ1bGUuUmVzdWJtaXRFZmZlY3QgPSBkYXRhLlJlc3VibWl0RWZmZWN0O1xyXG4gICAgICAgIGJhY2tXYXJkUnVsZS5EeW5hbWljQmFja1dhcmRSdWxlQWJsZSA9IGRhdGEuRHluYW1pY0JhY2tXYXJkUnVsZUFibGU7XHJcbiAgICAgICAgYmFja1dhcmRSdWxlLlNlbGVjdFRhcmdldExpc3QgPSBkYXRhLlNlbGVjdFRhcmdldExpc3Q7XHJcblxyXG4gICAgICAgIHVzZXJBY3Rpdml0eS5CYWNrV2FyZFJ1bGUgPSBiYWNrV2FyZFJ1bGU7XHJcbiAgICB9XHJcblxyXG4gICAgcmVzZXRNdWx0aUluc3RhbmNlTG9vcENoYXJhY3RlcmlzdGljcyh1c2VyQWN0aXZpdHk6IFVzZXJBY3Rpdml0eSwgb2JqOiBhbnkpIHtcclxuICAgICAgICBpZihvYmoucHJvcGVydHlWYWx1ZSkge1xyXG4gICAgICAgICAgICBjb25zdCBkYXRhID0gb2JqLnByb3BlcnR5VmFsdWU7XHJcbiAgICAgICAgICAgIGxldCBsb29wQ2hhcmFjdGVyaXN0aWNzID0gbmV3IE11bHRpSW5zdGFuY2VMb29wQ2hhcmFjdGVyaXN0aWNzKHVzZXJBY3Rpdml0eS5Nb2RlbCk7XHJcbiAgICAgICAgICAgIGxvb3BDaGFyYWN0ZXJpc3RpY3MuZW5hYmxlID0gZGF0YS5lbmFibGU7XHJcbiAgICAgICAgICAgIGxvb3BDaGFyYWN0ZXJpc3RpY3Muc2VxdWVudGlhbCA9IGRhdGEuc2VxdWVudGlhbDtcclxuICAgICAgICAgICAgbG9vcENoYXJhY3RlcmlzdGljcy5sb29wQ2FyZGluYWxpdHkgPSBuZXcgRXhwcmVzc2lvbih1c2VyQWN0aXZpdHkuTW9kZWwpO1xyXG4gICAgICAgICAgICBpZihkYXRhLmxvb3BDYXJkaW5hbGl0eSkge1xyXG4gICAgICAgICAgICAgICAgbGV0IHZhcmlhYmxlRXhwcmVzc2lvbiA9IG5ldyBTZW1hbnRpY0V4cHJlc3Npb24odXNlckFjdGl2aXR5Lk1vZGVsKTtcclxuICAgICAgICAgICAgICAgIHZhcmlhYmxlRXhwcmVzc2lvbi5WYWx1ZSA9IGRhdGEubG9vcENhcmRpbmFsaXR5O1xyXG4gICAgICAgICAgICAgICAgbG9vcENoYXJhY3RlcmlzdGljcy5sb29wQ2FyZGluYWxpdHkuTWV4RXhwcmVzc2lvbiA9IHZhcmlhYmxlRXhwcmVzc2lvbjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBsb29wQ2hhcmFjdGVyaXN0aWNzLmNvbXBsZXRpb25Db25kaXRpb24gPSBkYXRhLmNvbXBsZXRpb25Db25kaXRpb247XHJcbiAgICAgICAgICAgIGxldCBydWxlcyA9IGRhdGEuY29tcGxldGlvbkNvbmRpdGlvblJ1bGVzIGFzIGFueVtdO1xyXG4gICAgICAgICAgICBsb29wQ2hhcmFjdGVyaXN0aWNzLmNvbXBsZXRpb25Db25kaXRpb25SdWxlcyA9IG51bGw7XHJcbiAgICAgICAgICAgIGlmKHJ1bGVzICYmIHJ1bGVzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgIGxvb3BDaGFyYWN0ZXJpc3RpY3MuY29tcGxldGlvbkNvbmRpdGlvblJ1bGVzID0gbmV3IEFycmF5PENvdW50ZXJTaWduUnVsZT4oKTtcclxuICAgICAgICAgICAgICAgIGZvcihsZXQgcnVsZSBvZiBydWxlcykge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBjb3VudGVyU2lnblJ1bGUgPSBuZXcgQ291bnRlclNpZ25SdWxlKHVzZXJBY3Rpdml0eS5Nb2RlbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGNvbmRpdGlvbiA9IG5ldyBDb25kaXRpb24odXNlckFjdGl2aXR5Lk1vZGVsKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25kaXRpb24uVmFsdWUgPSBydWxlLkNvbXBsZXRpb25Db25kaXRpb24uVmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgY291bnRlclNpZ25SdWxlLkNvbmNsdXNpb25WYWx1ZSA9IHJ1bGUuQ29uY2x1c2lvblZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvdW50ZXJTaWduUnVsZS5DYWxjdWxhdGVUeXBlID0gcnVsZS5DYWxjdWxhdGVUeXBlO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvdW50ZXJTaWduUnVsZS5Db25kaXRpb25WYWx1ZSA9IHJ1bGUuQ29uZGl0aW9uVmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgY291bnRlclNpZ25SdWxlLldhaXRBbGxWb3RlcyA9IHJ1bGUuV2FpdEFsbFZvdGVzO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvdW50ZXJTaWduUnVsZS5Db21wbGV0aW9uQ29uZGl0aW9uID0gY29uZGl0aW9uO1xyXG4gICAgICAgICAgICAgICAgICAgIGxvb3BDaGFyYWN0ZXJpc3RpY3MuY29tcGxldGlvbkNvbmRpdGlvblJ1bGVzLnB1c2goY291bnRlclNpZ25SdWxlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB1c2VyQWN0aXZpdHkuTG9vcENoYXJhY3RlcmlzdGljcyA9IGxvb3BDaGFyYWN0ZXJpc3RpY3M7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5pu05paw5rS75Yqo6IqC54K55qCH6aKYXHJcbiAgICAgKiBAcGFyYW0gdXNlckFjdGl2aXR5XHJcbiAgICAgKiBAcGFyYW0gb2JqXHJcbiAgICAgKi9cclxuICAgIG1vZGlmeVRpdGxlRXhwcmVzc2lvbih1c2VyQWN0aXZpdHk6IFVzZXJBY3Rpdml0eSwgb2JqOiBhbnkpIHtcclxuICAgICAgICBpZiAodXNlckFjdGl2aXR5LnRhc2tUaXRsZSkge1xyXG4gICAgICAgICAgICB1c2VyQWN0aXZpdHkudGFza1RpdGxlLnZhbHVlTGFuZ3VhZ2UgPSBvYmoucHJvcGVydHlWYWx1ZTtcclxuICAgICAgICAgICAgdXNlckFjdGl2aXR5LnRhc2tUaXRsZS52YWx1ZSA9IG9iai5wcm9wZXJ0eVZhbHVlWyd6aC1DSFMnXTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjb25zdCB0aXRsZSA9IG5ldyBUaXRsZUV4cHJlc3Npb24odXNlckFjdGl2aXR5Lk1vZGVsLCBvYmoucHJvcGVydHlWYWx1ZVsnemgtQ0hTJ10sIG9iai5wcm9wZXJ0eVZhbHVlKTtcclxuICAgICAgICAgICAgdXNlckFjdGl2aXR5LnRhc2tUaXRsZSA9IHRpdGxlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXNldFRvb2xzKHVzZXJBY3Rpdml0eTogVXNlckFjdGl2aXR5LCBvYmo6IGFueSkge1xyXG4gICAgICAgIGxldCB0b29scyA9IG9iai5wcm9wZXJ0eVZhbHVlIGFzIGFueVtdO1xyXG4gICAgICAgIHVzZXJBY3Rpdml0eS5Ub29scyA9IG5ldyBBcnJheTxUb29sPigpO1xyXG4gICAgICAgIGlmICh0b29scyAmJiB0b29scy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IHRvb2wgb2YgdG9vbHMpIHtcclxuICAgICAgICAgICAgICAgIGxldCBjb21wb25lbnQgPSBuZXcgQ29tcG9uZW50KHVzZXJBY3Rpdml0eS5Nb2RlbCk7XHJcbiAgICAgICAgICAgICAgICBjb21wb25lbnQuSWQgPSB0b29sLmlkO1xyXG4gICAgICAgICAgICAgICAgY29tcG9uZW50Lk5hbWUgPSB0b29sLm5hbWU7XHJcbiAgICAgICAgICAgICAgICBjb21wb25lbnQuVGltZSA9IHRvb2wuZXhlY3V0aW9uVGltZTtcclxuICAgICAgICAgICAgICAgIC8vIFRPRE8g5YaZ5q275LqG5p6E5Lu257G75Z6LXHJcbiAgICAgICAgICAgICAgICBjb21wb25lbnQuQ29tcG9uZW50VHlwZSA9ICdXZWJTZXJ2aWNlQ29tcG9uZW50JztcclxuICAgICAgICAgICAgICAgIGNvbXBvbmVudC5NZXRhZGF0YUlkID0gdG9vbC5tZXRhZGF0YUlkO1xyXG4gICAgICAgICAgICAgICAgY29tcG9uZW50Lk1ldGhvZENvZGUgPSB0b29sLm1ldGhvZENvZGU7XHJcbiAgICAgICAgICAgICAgICBjb21wb25lbnQuaXNGb3JDb21wZW5zYXRpb24gPSB0b29sLmlzRm9yQ29tcGVuc2F0aW9uO1xyXG4gICAgICAgICAgICAgICAgY29tcG9uZW50LkFjdHVhbFBhcmFtZXRlcnMgPSBbXTtcclxuICAgICAgICAgICAgICAgIGlmICh0b29sLmFjdHVhbFBhcmFtZXRlcnMgJiYgKHRvb2wuYWN0dWFsUGFyYW1ldGVycyBhcyBhbnlbXSkubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGEgb2YgKHRvb2wuYWN0dWFsUGFyYW1ldGVycyBhcyBhbnlbXSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHBhcmFtZXRlciA9IG5ldyBBY3R1YWxQYXJhbWV0ZXIodXNlckFjdGl2aXR5Lk1vZGVsLCBhLmNvZGUsIGEudmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb21wb25lbnQuQWN0dWFsUGFyYW1ldGVycy5wdXNoKHBhcmFtZXRlcik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdXNlckFjdGl2aXR5LlRvb2xzLnB1c2goY29tcG9uZW50KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcblxyXG4gICAgdXBkYXRlU2lnbkZyb250U2V0KHVzZXJBY3Rpdml0eTogVXNlckFjdGl2aXR5LCBvYmo6IGFueSkge1xyXG4gICAgICAgIGNvbnN0IHNjb3BlID0gb2JqLnByb3BlcnR5VmFsdWUgYXMgQWN0aW9uT3JnYW5pemF0aW9uU2NvcGVEZXNpZ247XHJcbiAgICAgICAgdXNlckFjdGl2aXR5LmR5bmFtaWNQYXJ0aWNpcGFudHMgPSB1c2VyQWN0aXZpdHkuZHluYW1pY1BhcnRpY2lwYW50cy5maWx0ZXIocCA9PiAocCBhcyBPcmdhbml6YXRpb25QYXJ0aWNpcGFudEV4cHJlc3Npb24pLmFjdGlvblNjb3BlICE9PSBBY3Rpb25TY29wZS5BZGRTaWduRnJvbnQpO1xyXG4gICAgICAgIHVzZXJBY3Rpdml0eS5BZGRTaWduRnJvbnRBYmxlID0gc2NvcGUuZW5hYmxlO1xyXG5cclxuICAgICAgICBpZiAoc2NvcGUuc2NvcGUpIHtcclxuICAgICAgICAgICAgaWYoc2NvcGUuc2NvcGUub3JnYW5pemF0aW9uTGV2ZWwpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG9yZ2FuaXphdGlvblBhcnRpY2lwYW50RXhwcmVzc2lvbiA9IG5ldyBPcmdhbml6YXRpb25QYXJ0aWNpcGFudEV4cHJlc3Npb24odXNlckFjdGl2aXR5Lk1vZGVsKTtcclxuICAgICAgICAgICAgICAgIG9yZ2FuaXphdGlvblBhcnRpY2lwYW50RXhwcmVzc2lvbi5pZCA9IEJwbW5Nb2RlbEhlbHBlci5HZW5lcmF0ZUVsZW1lbnRJZCgpO1xyXG4gICAgICAgICAgICAgICAgb3JnYW5pemF0aW9uUGFydGljaXBhbnRFeHByZXNzaW9uLmFjdGlvblNjb3BlID0gQWN0aW9uU2NvcGUuQWRkU2lnbkZyb250O1xyXG4gICAgICAgICAgICAgICAgb3JnYW5pemF0aW9uUGFydGljaXBhbnRFeHByZXNzaW9uLm9yZ2FuaXphdGlvbkxldmVsID0gc2NvcGUuc2NvcGUub3JnYW5pemF0aW9uTGV2ZWwgYXMgYW55O1xyXG4gICAgICAgICAgICAgICAgb3JnYW5pemF0aW9uUGFydGljaXBhbnRFeHByZXNzaW9uLm9yZ2FuaXphdGlvbklkID0gc2NvcGUuc2NvcGUub3JnYW5pemF0aW9uSWQ7XHJcbiAgICAgICAgICAgICAgICBvcmdhbml6YXRpb25QYXJ0aWNpcGFudEV4cHJlc3Npb24ub3JnYW5pemF0aW9uTmFtZSA9IHNjb3BlLnNjb3BlLm9yZ2FuaXphdGlvbk5hbWU7XHJcbiAgICAgICAgICAgICAgICBvcmdhbml6YXRpb25QYXJ0aWNpcGFudEV4cHJlc3Npb24uaW5jbHVkZUNoaWxkcmVuID0gc2NvcGUuc2NvcGUuaW5jbHVkZUNoaWxkcmVuO1xyXG4gICAgICAgICAgICAgICAgb3JnYW5pemF0aW9uUGFydGljaXBhbnRFeHByZXNzaW9uLnRhZyA9IHNjb3BlLnNjb3BlLnRhZztcclxuICAgICAgICAgICAgICAgIHVzZXJBY3Rpdml0eS5keW5hbWljUGFydGljaXBhbnRzLnB1c2gob3JnYW5pemF0aW9uUGFydGljaXBhbnRFeHByZXNzaW9uKTtcclxuICAgICAgICAgICAgfWVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcGVyZm9ybWVySW5mbzogUGFydGljaXBhbnRJbmZvID0gc2NvcGUuc2NvcGUucGFydGljaXBhbnRJbmZvIGFzIGFueTtcclxuICAgICAgICAgICAgICAgIGlmIChwZXJmb3JtZXJJbmZvLmlzQWxsU2NvcGUgJiYgcGVyZm9ybWVySW5mby5wb3RlbnRpYWxPd25lckxpc3QgJiYgcGVyZm9ybWVySW5mby5wb3RlbnRpYWxPd25lckxpc3QubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgcG90ZW50aWFsT3duZXIgb2YgcGVyZm9ybWVySW5mby5wb3RlbnRpYWxPd25lckxpc3QpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChwb3RlbnRpYWxPd25lci50eXBlID8gcG90ZW50aWFsT3duZXIudHlwZSA6ICgocG90ZW50aWFsT3duZXIgaW5zdGFuY2VvZiBQYXJ0aWNpcGFudEV4cHJlc3Npb24pID8gcG90ZW50aWFsT3duZXIuQ2xyVHlwZUlEIDogbnVsbCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgVXNlclBhcnRpY2lwYW50RXhwcmVzc2lvbi5DbHJfVHlwZV9JRDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZFVzZXJQYXJ0aWNpcGFudCh1c2VyQWN0aXZpdHksIChwb3RlbnRpYWxPd25lciBpbnN0YW5jZW9mIFBhcnRpY2lwYW50RXhwcmVzc2lvbiA/IHBvdGVudGlhbE93bmVyIDogcG90ZW50aWFsT3duZXIgYXMgVXNlclBhcnRpY2lwYW50KSwgJ3BvdGVudGlhbE93bmVyJywgQWN0aW9uU2NvcGUuQWRkU2lnbkZyb250KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgVmFyaWFibGVQYXJ0aWNpcGFudEV4cHJlc3Npb24uQ2xyX1R5cGVfSUQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGRWYXJpYWJsZVBhcnRpY2lwYW50KHVzZXJBY3Rpdml0eSwgKHBvdGVudGlhbE93bmVyIGluc3RhbmNlb2YgUGFydGljaXBhbnRFeHByZXNzaW9uID8gcG90ZW50aWFsT3duZXIgOiBwb3RlbnRpYWxPd25lciBhcyBWYXJpYWJsZVBlcmZvcm1lciksICdwb3RlbnRpYWxPd25lcicsIEFjdGlvblNjb3BlLkFkZFNpZ25Gcm9udClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgUG9zaXRpb25QYXJ0aWNpcGFudEV4cHJlc3Npb24uQ2xyX1R5cGVfSUQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGRQb3NpdGlvblBhcnRpY2lwYW50KHVzZXJBY3Rpdml0eSwgKHBvdGVudGlhbE93bmVyIGluc3RhbmNlb2YgUGFydGljaXBhbnRFeHByZXNzaW9uID8gcG90ZW50aWFsT3duZXIgOiBwb3RlbnRpYWxPd25lciBhcyBQb3NpdGlvblBhcnRpY2lwYW50KSwgJ3BvdGVudGlhbE93bmVyJywgQWN0aW9uU2NvcGUuQWRkU2lnbkZyb250KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgQ29tcG9uZW50UGFydGljaXBhbnRFeHByZXNzaW9uLkNscl9UeXBlX0lEOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkQ29tcG9uZW50UGFydGljaXBhbnQodXNlckFjdGl2aXR5LCAocG90ZW50aWFsT3duZXIgaW5zdGFuY2VvZiBQYXJ0aWNpcGFudEV4cHJlc3Npb24gPyBwb3RlbnRpYWxPd25lciA6IHBvdGVudGlhbE93bmVyIGFzIENvbXBvbmVudFBhcnRpY2lwYW50KSwgJ3BvdGVudGlhbE93bmVyJywgQWN0aW9uU2NvcGUuQWRkU2lnbkZyb250KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgUmVwb3J0aW5nTGluZVBhcnRpY2lwYW50RXhwcmVzc2lvbi5DbHJfVHlwZV9JRDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZFJlcG9ydGluZ0xpbmVQYXJ0aWNpcGFudCh1c2VyQWN0aXZpdHksIChwb3RlbnRpYWxPd25lciBpbnN0YW5jZW9mIFBhcnRpY2lwYW50RXhwcmVzc2lvbiA/IHBvdGVudGlhbE93bmVyIDogcG90ZW50aWFsT3duZXIgYXMgUmVwb3J0aW5nTGluZVBhcnRpY2lwYW50KSwgJ3BvdGVudGlhbE93bmVyJywgQWN0aW9uU2NvcGUuQWRkU2lnbkZyb250KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgQWN0aXZpdHlFeGVjdXRvclBhcnRpY2lwYW50RXhwcmVzc2lvbi5DbHJfVHlwZV9JRDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZEFjdGl2aXR5RXhlY3V0b3JQYXJ0aWNpcGFudCh1c2VyQWN0aXZpdHksIChwb3RlbnRpYWxPd25lciBpbnN0YW5jZW9mIFBhcnRpY2lwYW50RXhwcmVzc2lvbiA/IHBvdGVudGlhbE93bmVyIDogcG90ZW50aWFsT3duZXIgYXMgQWN0aXZpdHlFeGVjdXRvclBhcnRpY2lwYW50KSwgJ3BvdGVudGlhbE93bmVyJywgQWN0aW9uU2NvcGUuQWRkU2lnbkZyb250KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgTWF0cml4UGFydGljaXBhbnRFeHByZXNzaW9uLkNscl9UeXBlX0lEOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkTWF0cml4UGFydGljaXBhbnQodXNlckFjdGl2aXR5LCAocG90ZW50aWFsT3duZXIgaW5zdGFuY2VvZiBQYXJ0aWNpcGFudEV4cHJlc3Npb24gPyBwb3RlbnRpYWxPd25lciA6IHBvdGVudGlhbE93bmVyIGFzIE1hdHJpeFBhcnRpY2lwYW50KSwgJ3BvdGVudGlhbE93bmVyJywgQWN0aW9uU2NvcGUuQWRkU2lnbkZyb250KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgT3JnYW5pemF0aW9uUGFydGljaXBhbnRFeHByZXNzaW9uLkNscl9UeXBlX0lEOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkT3JnYW5pemF0aW9uUGFydGljaXBhbnQodXNlckFjdGl2aXR5LCAocG90ZW50aWFsT3duZXIgaW5zdGFuY2VvZiBQYXJ0aWNpcGFudEV4cHJlc3Npb24gPyBwb3RlbnRpYWxPd25lciA6IHBvdGVudGlhbE93bmVyIGFzIE9yZ2FuaXphdGlvblBhcnRpY2lwYW50KSwgJ3BvdGVudGlhbE93bmVyJyAsIEFjdGlvblNjb3BlLkFkZFNpZ25Gcm9udCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlU2lnbkJlaGluZHNTZXQodXNlckFjdGl2aXR5OiBVc2VyQWN0aXZpdHksIG9iajogYW55KSB7XHJcbiAgICAgICAgY29uc3Qgc2NvcGUgPSBvYmoucHJvcGVydHlWYWx1ZSBhcyBBY3Rpb25Pcmdhbml6YXRpb25TY29wZURlc2lnbjtcclxuICAgICAgICB1c2VyQWN0aXZpdHkuZHluYW1pY1BhcnRpY2lwYW50cyA9IHVzZXJBY3Rpdml0eS5keW5hbWljUGFydGljaXBhbnRzLmZpbHRlcihwID0+IChwIGFzIE9yZ2FuaXphdGlvblBhcnRpY2lwYW50RXhwcmVzc2lvbikuYWN0aW9uU2NvcGUgIT09IEFjdGlvblNjb3BlLkFkZFNpZ25CZWhpbmQpO1xyXG4gICAgICAgIHVzZXJBY3Rpdml0eS5BZGRTaWduQmVoaW5kQWJsZSA9IHNjb3BlLmVuYWJsZTtcclxuXHJcbiAgICAgICAgaWYgKHNjb3BlLnNjb3BlKSB7XHJcbiAgICAgICAgICAgIGlmKHNjb3BlLnNjb3BlLm9yZ2FuaXphdGlvbkxldmVsKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBvcmdhbml6YXRpb25QYXJ0aWNpcGFudEV4cHJlc3Npb24gPSBuZXcgT3JnYW5pemF0aW9uUGFydGljaXBhbnRFeHByZXNzaW9uKHVzZXJBY3Rpdml0eS5Nb2RlbCk7XHJcbiAgICAgICAgICAgICAgICBvcmdhbml6YXRpb25QYXJ0aWNpcGFudEV4cHJlc3Npb24uaWQgPSBCcG1uTW9kZWxIZWxwZXIuR2VuZXJhdGVFbGVtZW50SWQoKTtcclxuICAgICAgICAgICAgICAgIG9yZ2FuaXphdGlvblBhcnRpY2lwYW50RXhwcmVzc2lvbi5hY3Rpb25TY29wZSA9IEFjdGlvblNjb3BlLkFkZFNpZ25CZWhpbmQ7XHJcbiAgICAgICAgICAgICAgICBvcmdhbml6YXRpb25QYXJ0aWNpcGFudEV4cHJlc3Npb24ub3JnYW5pemF0aW9uTGV2ZWwgPSBzY29wZS5zY29wZS5vcmdhbml6YXRpb25MZXZlbCBhcyBhbnk7XHJcbiAgICAgICAgICAgICAgICBvcmdhbml6YXRpb25QYXJ0aWNpcGFudEV4cHJlc3Npb24ub3JnYW5pemF0aW9uSWQgPSBzY29wZS5zY29wZS5vcmdhbml6YXRpb25JZDtcclxuICAgICAgICAgICAgICAgIG9yZ2FuaXphdGlvblBhcnRpY2lwYW50RXhwcmVzc2lvbi5vcmdhbml6YXRpb25OYW1lID0gc2NvcGUuc2NvcGUub3JnYW5pemF0aW9uTmFtZTtcclxuICAgICAgICAgICAgICAgIG9yZ2FuaXphdGlvblBhcnRpY2lwYW50RXhwcmVzc2lvbi5pbmNsdWRlQ2hpbGRyZW4gPSBzY29wZS5zY29wZS5pbmNsdWRlQ2hpbGRyZW47XHJcbiAgICAgICAgICAgICAgICBvcmdhbml6YXRpb25QYXJ0aWNpcGFudEV4cHJlc3Npb24udGFnID0gc2NvcGUuc2NvcGUudGFnO1xyXG4gICAgICAgICAgICAgICAgdXNlckFjdGl2aXR5LmR5bmFtaWNQYXJ0aWNpcGFudHMucHVzaChvcmdhbml6YXRpb25QYXJ0aWNpcGFudEV4cHJlc3Npb24pO1xyXG4gICAgICAgICAgICB9ZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBwZXJmb3JtZXJJbmZvOiBQYXJ0aWNpcGFudEluZm8gPSBzY29wZS5zY29wZS5wYXJ0aWNpcGFudEluZm8gYXMgYW55O1xyXG4gICAgICAgICAgICAgICAgaWYgKHBlcmZvcm1lckluZm8uaXNBbGxTY29wZSAmJiBwZXJmb3JtZXJJbmZvLnBvdGVudGlhbE93bmVyTGlzdCAmJiBwZXJmb3JtZXJJbmZvLnBvdGVudGlhbE93bmVyTGlzdC5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBwb3RlbnRpYWxPd25lciBvZiBwZXJmb3JtZXJJbmZvLnBvdGVudGlhbE93bmVyTGlzdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKHBvdGVudGlhbE93bmVyLnR5cGUgPyBwb3RlbnRpYWxPd25lci50eXBlIDogKChwb3RlbnRpYWxPd25lciBpbnN0YW5jZW9mIFBhcnRpY2lwYW50RXhwcmVzc2lvbikgPyBwb3RlbnRpYWxPd25lci5DbHJUeXBlSUQgOiBudWxsKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBVc2VyUGFydGljaXBhbnRFeHByZXNzaW9uLkNscl9UeXBlX0lEOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkVXNlclBhcnRpY2lwYW50KHVzZXJBY3Rpdml0eSwgcG90ZW50aWFsT3duZXIgaW5zdGFuY2VvZiBQYXJ0aWNpcGFudEV4cHJlc3Npb24gPyBwb3RlbnRpYWxPd25lciA6IHBvdGVudGlhbE93bmVyIGFzIFVzZXJQYXJ0aWNpcGFudCwgJ3BvdGVudGlhbE93bmVyJywgQWN0aW9uU2NvcGUuQWRkU2lnbkJlaGluZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFZhcmlhYmxlUGFydGljaXBhbnRFeHByZXNzaW9uLkNscl9UeXBlX0lEOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkVmFyaWFibGVQYXJ0aWNpcGFudCh1c2VyQWN0aXZpdHksIHBvdGVudGlhbE93bmVyIGluc3RhbmNlb2YgUGFydGljaXBhbnRFeHByZXNzaW9uID8gcG90ZW50aWFsT3duZXIgOiBwb3RlbnRpYWxPd25lciBhcyBWYXJpYWJsZVBlcmZvcm1lciwgJ3BvdGVudGlhbE93bmVyJywgQWN0aW9uU2NvcGUuQWRkU2lnbkJlaGluZClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgUG9zaXRpb25QYXJ0aWNpcGFudEV4cHJlc3Npb24uQ2xyX1R5cGVfSUQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGRQb3NpdGlvblBhcnRpY2lwYW50KHVzZXJBY3Rpdml0eSwgcG90ZW50aWFsT3duZXIgaW5zdGFuY2VvZiBQYXJ0aWNpcGFudEV4cHJlc3Npb24gPyBwb3RlbnRpYWxPd25lciA6IHBvdGVudGlhbE93bmVyIGFzIFBvc2l0aW9uUGFydGljaXBhbnQsICdwb3RlbnRpYWxPd25lcicsIEFjdGlvblNjb3BlLkFkZFNpZ25CZWhpbmQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBDb21wb25lbnRQYXJ0aWNpcGFudEV4cHJlc3Npb24uQ2xyX1R5cGVfSUQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGRDb21wb25lbnRQYXJ0aWNpcGFudCh1c2VyQWN0aXZpdHksIHBvdGVudGlhbE93bmVyIGluc3RhbmNlb2YgUGFydGljaXBhbnRFeHByZXNzaW9uID8gcG90ZW50aWFsT3duZXIgOiBwb3RlbnRpYWxPd25lciBhcyBDb21wb25lbnRQYXJ0aWNpcGFudCwgJ3BvdGVudGlhbE93bmVyJywgQWN0aW9uU2NvcGUuQWRkU2lnbkJlaGluZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFJlcG9ydGluZ0xpbmVQYXJ0aWNpcGFudEV4cHJlc3Npb24uQ2xyX1R5cGVfSUQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGRSZXBvcnRpbmdMaW5lUGFydGljaXBhbnQodXNlckFjdGl2aXR5LCBwb3RlbnRpYWxPd25lciBpbnN0YW5jZW9mIFBhcnRpY2lwYW50RXhwcmVzc2lvbiA/IHBvdGVudGlhbE93bmVyIDogcG90ZW50aWFsT3duZXIgYXMgUmVwb3J0aW5nTGluZVBhcnRpY2lwYW50LCAncG90ZW50aWFsT3duZXInLCBBY3Rpb25TY29wZS5BZGRTaWduQmVoaW5kKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgQWN0aXZpdHlFeGVjdXRvclBhcnRpY2lwYW50RXhwcmVzc2lvbi5DbHJfVHlwZV9JRDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZEFjdGl2aXR5RXhlY3V0b3JQYXJ0aWNpcGFudCh1c2VyQWN0aXZpdHksIHBvdGVudGlhbE93bmVyIGluc3RhbmNlb2YgUGFydGljaXBhbnRFeHByZXNzaW9uID8gcG90ZW50aWFsT3duZXIgOiBwb3RlbnRpYWxPd25lciBhcyBBY3Rpdml0eUV4ZWN1dG9yUGFydGljaXBhbnQsICdwb3RlbnRpYWxPd25lcicsIEFjdGlvblNjb3BlLkFkZFNpZ25CZWhpbmQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBNYXRyaXhQYXJ0aWNpcGFudEV4cHJlc3Npb24uQ2xyX1R5cGVfSUQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGRNYXRyaXhQYXJ0aWNpcGFudCh1c2VyQWN0aXZpdHksIHBvdGVudGlhbE93bmVyIGluc3RhbmNlb2YgUGFydGljaXBhbnRFeHByZXNzaW9uID8gcG90ZW50aWFsT3duZXIgOiBwb3RlbnRpYWxPd25lciBhcyBNYXRyaXhQYXJ0aWNpcGFudCwgJ3BvdGVudGlhbE93bmVyJywgQWN0aW9uU2NvcGUuQWRkU2lnbkJlaGluZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIE9yZ2FuaXphdGlvblBhcnRpY2lwYW50RXhwcmVzc2lvbi5DbHJfVHlwZV9JRDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZE9yZ2FuaXphdGlvblBhcnRpY2lwYW50KHVzZXJBY3Rpdml0eSwgcG90ZW50aWFsT3duZXIgaW5zdGFuY2VvZiBQYXJ0aWNpcGFudEV4cHJlc3Npb24gPyBwb3RlbnRpYWxPd25lciA6IHBvdGVudGlhbE93bmVyIGFzIE9yZ2FuaXphdGlvblBhcnRpY2lwYW50LCAncG90ZW50aWFsT3duZXInICwgQWN0aW9uU2NvcGUuQWRkU2lnbkJlaGluZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlTm90aWZ5U2V0KHVzZXJBY3Rpdml0eTogVXNlckFjdGl2aXR5LCBvYmo6IGFueSkge1xyXG4gICAgICAgIGNvbnN0IHNjb3BlID0gb2JqLnByb3BlcnR5VmFsdWUgYXMgQWN0aW9uT3JnYW5pemF0aW9uU2NvcGVEZXNpZ247XHJcblxyXG4gICAgICAgIHVzZXJBY3Rpdml0eS5keW5hbWljUGFydGljaXBhbnRzID0gdXNlckFjdGl2aXR5LmR5bmFtaWNQYXJ0aWNpcGFudHMuZmlsdGVyKHAgPT4gKHAgYXMgT3JnYW5pemF0aW9uUGFydGljaXBhbnRFeHByZXNzaW9uKS5hY3Rpb25TY29wZSAhPT0gQWN0aW9uU2NvcGUuTm90aWZ5KTtcclxuICAgICAgICB1c2VyQWN0aXZpdHkuTm90aWZ5QWJsZSA9IHNjb3BlLmVuYWJsZTtcclxuXHJcbiAgICAgICAgaWYgKHNjb3BlLnNjb3BlKSB7XHJcbiAgICAgICAgICAgIGlmKHNjb3BlLnNjb3BlLm9yZ2FuaXphdGlvbkxldmVsKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBvcmdhbml6YXRpb25QYXJ0aWNpcGFudEV4cHJlc3Npb24gPSBuZXcgT3JnYW5pemF0aW9uUGFydGljaXBhbnRFeHByZXNzaW9uKHVzZXJBY3Rpdml0eS5Nb2RlbCk7XHJcbiAgICAgICAgICAgICAgICBvcmdhbml6YXRpb25QYXJ0aWNpcGFudEV4cHJlc3Npb24uaWQgPSBCcG1uTW9kZWxIZWxwZXIuR2VuZXJhdGVFbGVtZW50SWQoKTtcclxuICAgICAgICAgICAgICAgIG9yZ2FuaXphdGlvblBhcnRpY2lwYW50RXhwcmVzc2lvbi5hY3Rpb25TY29wZSA9IEFjdGlvblNjb3BlLk5vdGlmeTtcclxuICAgICAgICAgICAgICAgIG9yZ2FuaXphdGlvblBhcnRpY2lwYW50RXhwcmVzc2lvbi5vcmdhbml6YXRpb25MZXZlbCA9IHNjb3BlLnNjb3BlLm9yZ2FuaXphdGlvbkxldmVsIGFzIGFueTtcclxuICAgICAgICAgICAgICAgIG9yZ2FuaXphdGlvblBhcnRpY2lwYW50RXhwcmVzc2lvbi5vcmdhbml6YXRpb25JZCA9IHNjb3BlLnNjb3BlLm9yZ2FuaXphdGlvbklkO1xyXG4gICAgICAgICAgICAgICAgb3JnYW5pemF0aW9uUGFydGljaXBhbnRFeHByZXNzaW9uLm9yZ2FuaXphdGlvbk5hbWUgPSBzY29wZS5zY29wZS5vcmdhbml6YXRpb25OYW1lO1xyXG4gICAgICAgICAgICAgICAgb3JnYW5pemF0aW9uUGFydGljaXBhbnRFeHByZXNzaW9uLmluY2x1ZGVDaGlsZHJlbiA9IHNjb3BlLnNjb3BlLmluY2x1ZGVDaGlsZHJlbjtcclxuICAgICAgICAgICAgICAgIG9yZ2FuaXphdGlvblBhcnRpY2lwYW50RXhwcmVzc2lvbi50YWcgPSBzY29wZS5zY29wZS50YWc7XHJcbiAgICAgICAgICAgICAgICB1c2VyQWN0aXZpdHkuZHluYW1pY1BhcnRpY2lwYW50cy5wdXNoKG9yZ2FuaXphdGlvblBhcnRpY2lwYW50RXhwcmVzc2lvbik7XHJcbiAgICAgICAgICAgIH1lbHNlIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHBlcmZvcm1lckluZm86IFBhcnRpY2lwYW50SW5mbyA9IHNjb3BlLnNjb3BlLnBhcnRpY2lwYW50SW5mbyBhcyBhbnk7XHJcbiAgICAgICAgICAgICAgICBpZiAocGVyZm9ybWVySW5mby5pc0FsbFNjb3BlICYmIHBlcmZvcm1lckluZm8ucG90ZW50aWFsT3duZXJMaXN0ICYmIHBlcmZvcm1lckluZm8ucG90ZW50aWFsT3duZXJMaXN0Lmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHBvdGVudGlhbE93bmVyIG9mIHBlcmZvcm1lckluZm8ucG90ZW50aWFsT3duZXJMaXN0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAocG90ZW50aWFsT3duZXIudHlwZSA/IHBvdGVudGlhbE93bmVyLnR5cGUgOiAoKHBvdGVudGlhbE93bmVyIGluc3RhbmNlb2YgUGFydGljaXBhbnRFeHByZXNzaW9uKSA/IHBvdGVudGlhbE93bmVyLkNsclR5cGVJRCA6IG51bGwpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFVzZXJQYXJ0aWNpcGFudEV4cHJlc3Npb24uQ2xyX1R5cGVfSUQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGRVc2VyUGFydGljaXBhbnQodXNlckFjdGl2aXR5LCBwb3RlbnRpYWxPd25lciBpbnN0YW5jZW9mIFBhcnRpY2lwYW50RXhwcmVzc2lvbiA/IHBvdGVudGlhbE93bmVyIDogcG90ZW50aWFsT3duZXIgYXMgVXNlclBhcnRpY2lwYW50LCAncG90ZW50aWFsT3duZXInLCBBY3Rpb25TY29wZS5Ob3RpZnkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBWYXJpYWJsZVBhcnRpY2lwYW50RXhwcmVzc2lvbi5DbHJfVHlwZV9JRDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZFZhcmlhYmxlUGFydGljaXBhbnQodXNlckFjdGl2aXR5LCBwb3RlbnRpYWxPd25lciBpbnN0YW5jZW9mIFBhcnRpY2lwYW50RXhwcmVzc2lvbiA/IHBvdGVudGlhbE93bmVyIDogcG90ZW50aWFsT3duZXIgYXMgVmFyaWFibGVQZXJmb3JtZXIsICdwb3RlbnRpYWxPd25lcicsIEFjdGlvblNjb3BlLk5vdGlmeSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgUG9zaXRpb25QYXJ0aWNpcGFudEV4cHJlc3Npb24uQ2xyX1R5cGVfSUQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGRQb3NpdGlvblBhcnRpY2lwYW50KHVzZXJBY3Rpdml0eSwgcG90ZW50aWFsT3duZXIgaW5zdGFuY2VvZiBQYXJ0aWNpcGFudEV4cHJlc3Npb24gPyBwb3RlbnRpYWxPd25lciA6IHBvdGVudGlhbE93bmVyIGFzIFBvc2l0aW9uUGFydGljaXBhbnQsICdwb3RlbnRpYWxPd25lcicsIEFjdGlvblNjb3BlLk5vdGlmeSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIENvbXBvbmVudFBhcnRpY2lwYW50RXhwcmVzc2lvbi5DbHJfVHlwZV9JRDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZENvbXBvbmVudFBhcnRpY2lwYW50KHVzZXJBY3Rpdml0eSwgcG90ZW50aWFsT3duZXIgaW5zdGFuY2VvZiBQYXJ0aWNpcGFudEV4cHJlc3Npb24gPyBwb3RlbnRpYWxPd25lciA6IHBvdGVudGlhbE93bmVyIGFzIENvbXBvbmVudFBhcnRpY2lwYW50LCAncG90ZW50aWFsT3duZXInLCBBY3Rpb25TY29wZS5Ob3RpZnkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBSZXBvcnRpbmdMaW5lUGFydGljaXBhbnRFeHByZXNzaW9uLkNscl9UeXBlX0lEOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkUmVwb3J0aW5nTGluZVBhcnRpY2lwYW50KHVzZXJBY3Rpdml0eSwgcG90ZW50aWFsT3duZXIgaW5zdGFuY2VvZiBQYXJ0aWNpcGFudEV4cHJlc3Npb24gPyBwb3RlbnRpYWxPd25lciA6IHBvdGVudGlhbE93bmVyIGFzIFJlcG9ydGluZ0xpbmVQYXJ0aWNpcGFudCwgJ3BvdGVudGlhbE93bmVyJywgQWN0aW9uU2NvcGUuTm90aWZ5KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgQWN0aXZpdHlFeGVjdXRvclBhcnRpY2lwYW50RXhwcmVzc2lvbi5DbHJfVHlwZV9JRDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZEFjdGl2aXR5RXhlY3V0b3JQYXJ0aWNpcGFudCh1c2VyQWN0aXZpdHksIHBvdGVudGlhbE93bmVyIGluc3RhbmNlb2YgUGFydGljaXBhbnRFeHByZXNzaW9uID8gcG90ZW50aWFsT3duZXIgOiBwb3RlbnRpYWxPd25lciBhcyBBY3Rpdml0eUV4ZWN1dG9yUGFydGljaXBhbnQsICdwb3RlbnRpYWxPd25lcicsIEFjdGlvblNjb3BlLk5vdGlmeSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIE1hdHJpeFBhcnRpY2lwYW50RXhwcmVzc2lvbi5DbHJfVHlwZV9JRDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZE1hdHJpeFBhcnRpY2lwYW50KHVzZXJBY3Rpdml0eSwgcG90ZW50aWFsT3duZXIgaW5zdGFuY2VvZiBQYXJ0aWNpcGFudEV4cHJlc3Npb24gPyBwb3RlbnRpYWxPd25lciA6IHBvdGVudGlhbE93bmVyIGFzIE1hdHJpeFBhcnRpY2lwYW50LCAncG90ZW50aWFsT3duZXInLCBBY3Rpb25TY29wZS5Ob3RpZnkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBPcmdhbml6YXRpb25QYXJ0aWNpcGFudEV4cHJlc3Npb24uQ2xyX1R5cGVfSUQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGRPcmdhbml6YXRpb25QYXJ0aWNpcGFudCh1c2VyQWN0aXZpdHksIHBvdGVudGlhbE93bmVyIGluc3RhbmNlb2YgUGFydGljaXBhbnRFeHByZXNzaW9uID8gcG90ZW50aWFsT3duZXIgOiBwb3RlbnRpYWxPd25lciBhcyBPcmdhbml6YXRpb25QYXJ0aWNpcGFudCwgJ3BvdGVudGlhbE93bmVyJyAsIEFjdGlvblNjb3BlLk5vdGlmeSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgdXBkYXRlVHJhbnNmZXJTY29wZSh1c2VyQWN0aXZpdHk6IFVzZXJBY3Rpdml0eSwgb2JqOiBhbnkpIHtcclxuICAgICAgICBjb25zdCBzY29wZSA9IG9iai5wcm9wZXJ0eVZhbHVlIGFzIEFjdGlvbk9yZ2FuaXphdGlvblNjb3BlRGVzaWduO1xyXG5cclxuICAgICAgICB1c2VyQWN0aXZpdHkuZHluYW1pY1BhcnRpY2lwYW50cyA9IHVzZXJBY3Rpdml0eS5keW5hbWljUGFydGljaXBhbnRzLmZpbHRlcihwID0+IChwIGFzIE9yZ2FuaXphdGlvblBhcnRpY2lwYW50RXhwcmVzc2lvbikuYWN0aW9uU2NvcGUgIT09IEFjdGlvblNjb3BlLlRyYW5zZmVyKTtcclxuICAgICAgICB1c2VyQWN0aXZpdHkudHJhbnNmZXJBYmxlID0gc2NvcGUuZW5hYmxlO1xyXG5cclxuICAgICAgICBpZiAoc2NvcGUuc2NvcGUpIHtcclxuICAgICAgICAgICAgaWYoc2NvcGUuc2NvcGUub3JnYW5pemF0aW9uTGV2ZWwpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG9yZ2FuaXphdGlvblBhcnRpY2lwYW50RXhwcmVzc2lvbiA9IG5ldyBPcmdhbml6YXRpb25QYXJ0aWNpcGFudEV4cHJlc3Npb24odXNlckFjdGl2aXR5Lk1vZGVsKTtcclxuICAgICAgICAgICAgICAgIG9yZ2FuaXphdGlvblBhcnRpY2lwYW50RXhwcmVzc2lvbi5pZCA9IEJwbW5Nb2RlbEhlbHBlci5HZW5lcmF0ZUVsZW1lbnRJZCgpO1xyXG4gICAgICAgICAgICAgICAgb3JnYW5pemF0aW9uUGFydGljaXBhbnRFeHByZXNzaW9uLmFjdGlvblNjb3BlID0gQWN0aW9uU2NvcGUuVHJhbnNmZXI7XHJcbiAgICAgICAgICAgICAgICBvcmdhbml6YXRpb25QYXJ0aWNpcGFudEV4cHJlc3Npb24ub3JnYW5pemF0aW9uTGV2ZWwgPSBzY29wZS5zY29wZS5vcmdhbml6YXRpb25MZXZlbCBhcyBhbnk7XHJcbiAgICAgICAgICAgICAgICBvcmdhbml6YXRpb25QYXJ0aWNpcGFudEV4cHJlc3Npb24ub3JnYW5pemF0aW9uSWQgPSBzY29wZS5zY29wZS5vcmdhbml6YXRpb25JZDtcclxuICAgICAgICAgICAgICAgIG9yZ2FuaXphdGlvblBhcnRpY2lwYW50RXhwcmVzc2lvbi5vcmdhbml6YXRpb25OYW1lID0gc2NvcGUuc2NvcGUub3JnYW5pemF0aW9uTmFtZTtcclxuICAgICAgICAgICAgICAgIG9yZ2FuaXphdGlvblBhcnRpY2lwYW50RXhwcmVzc2lvbi5pbmNsdWRlQ2hpbGRyZW4gPSBzY29wZS5zY29wZS5pbmNsdWRlQ2hpbGRyZW47XHJcbiAgICAgICAgICAgICAgICBvcmdhbml6YXRpb25QYXJ0aWNpcGFudEV4cHJlc3Npb24udGFnID0gc2NvcGUuc2NvcGUudGFnO1xyXG4gICAgICAgICAgICAgICAgdXNlckFjdGl2aXR5LmR5bmFtaWNQYXJ0aWNpcGFudHMucHVzaChvcmdhbml6YXRpb25QYXJ0aWNpcGFudEV4cHJlc3Npb24pO1xyXG4gICAgICAgICAgICB9ZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBwZXJmb3JtZXJJbmZvOiBQYXJ0aWNpcGFudEluZm8gPSBzY29wZS5zY29wZS5wYXJ0aWNpcGFudEluZm8gYXMgYW55O1xyXG4gICAgICAgICAgICAgICAgaWYgKHBlcmZvcm1lckluZm8uaXNBbGxTY29wZSAmJiBwZXJmb3JtZXJJbmZvLnBvdGVudGlhbE93bmVyTGlzdCAmJiBwZXJmb3JtZXJJbmZvLnBvdGVudGlhbE93bmVyTGlzdC5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBwb3RlbnRpYWxPd25lciBvZiBwZXJmb3JtZXJJbmZvLnBvdGVudGlhbE93bmVyTGlzdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKHBvdGVudGlhbE93bmVyLnR5cGUgPyBwb3RlbnRpYWxPd25lci50eXBlIDogKChwb3RlbnRpYWxPd25lciBpbnN0YW5jZW9mIFBhcnRpY2lwYW50RXhwcmVzc2lvbikgPyBwb3RlbnRpYWxPd25lci5DbHJUeXBlSUQgOiBudWxsKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBVc2VyUGFydGljaXBhbnRFeHByZXNzaW9uLkNscl9UeXBlX0lEOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkVXNlclBhcnRpY2lwYW50KHVzZXJBY3Rpdml0eSwgcG90ZW50aWFsT3duZXIgaW5zdGFuY2VvZiBQYXJ0aWNpcGFudEV4cHJlc3Npb24gPyBwb3RlbnRpYWxPd25lciA6IHBvdGVudGlhbE93bmVyIGFzIFVzZXJQYXJ0aWNpcGFudCwgJ3BvdGVudGlhbE93bmVyJywgQWN0aW9uU2NvcGUuVHJhbnNmZXIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBWYXJpYWJsZVBhcnRpY2lwYW50RXhwcmVzc2lvbi5DbHJfVHlwZV9JRDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZFZhcmlhYmxlUGFydGljaXBhbnQodXNlckFjdGl2aXR5LCBwb3RlbnRpYWxPd25lciBpbnN0YW5jZW9mIFBhcnRpY2lwYW50RXhwcmVzc2lvbiA/IHBvdGVudGlhbE93bmVyIDogcG90ZW50aWFsT3duZXIgYXMgVmFyaWFibGVQZXJmb3JtZXIsICdwb3RlbnRpYWxPd25lcicsIEFjdGlvblNjb3BlLlRyYW5zZmVyKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBQb3NpdGlvblBhcnRpY2lwYW50RXhwcmVzc2lvbi5DbHJfVHlwZV9JRDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZFBvc2l0aW9uUGFydGljaXBhbnQodXNlckFjdGl2aXR5LCBwb3RlbnRpYWxPd25lciBpbnN0YW5jZW9mIFBhcnRpY2lwYW50RXhwcmVzc2lvbiA/IHBvdGVudGlhbE93bmVyIDogcG90ZW50aWFsT3duZXIgYXMgUG9zaXRpb25QYXJ0aWNpcGFudCwgJ3BvdGVudGlhbE93bmVyJywgQWN0aW9uU2NvcGUuVHJhbnNmZXIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBDb21wb25lbnRQYXJ0aWNpcGFudEV4cHJlc3Npb24uQ2xyX1R5cGVfSUQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGRDb21wb25lbnRQYXJ0aWNpcGFudCh1c2VyQWN0aXZpdHksIHBvdGVudGlhbE93bmVyIGluc3RhbmNlb2YgUGFydGljaXBhbnRFeHByZXNzaW9uID8gcG90ZW50aWFsT3duZXIgOiBwb3RlbnRpYWxPd25lciBhcyBDb21wb25lbnRQYXJ0aWNpcGFudCwgJ3BvdGVudGlhbE93bmVyJywgQWN0aW9uU2NvcGUuVHJhbnNmZXIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBSZXBvcnRpbmdMaW5lUGFydGljaXBhbnRFeHByZXNzaW9uLkNscl9UeXBlX0lEOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkUmVwb3J0aW5nTGluZVBhcnRpY2lwYW50KHVzZXJBY3Rpdml0eSwgcG90ZW50aWFsT3duZXIgaW5zdGFuY2VvZiBQYXJ0aWNpcGFudEV4cHJlc3Npb24gPyBwb3RlbnRpYWxPd25lciA6IHBvdGVudGlhbE93bmVyIGFzIFJlcG9ydGluZ0xpbmVQYXJ0aWNpcGFudCwgJ3BvdGVudGlhbE93bmVyJywgQWN0aW9uU2NvcGUuVHJhbnNmZXIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBBY3Rpdml0eUV4ZWN1dG9yUGFydGljaXBhbnRFeHByZXNzaW9uLkNscl9UeXBlX0lEOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkQWN0aXZpdHlFeGVjdXRvclBhcnRpY2lwYW50KHVzZXJBY3Rpdml0eSwgcG90ZW50aWFsT3duZXIgaW5zdGFuY2VvZiBQYXJ0aWNpcGFudEV4cHJlc3Npb24gPyBwb3RlbnRpYWxPd25lciA6IHBvdGVudGlhbE93bmVyIGFzIEFjdGl2aXR5RXhlY3V0b3JQYXJ0aWNpcGFudCwgJ3BvdGVudGlhbE93bmVyJywgQWN0aW9uU2NvcGUuVHJhbnNmZXIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBNYXRyaXhQYXJ0aWNpcGFudEV4cHJlc3Npb24uQ2xyX1R5cGVfSUQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGRNYXRyaXhQYXJ0aWNpcGFudCh1c2VyQWN0aXZpdHksIHBvdGVudGlhbE93bmVyIGluc3RhbmNlb2YgUGFydGljaXBhbnRFeHByZXNzaW9uID8gcG90ZW50aWFsT3duZXIgOiBwb3RlbnRpYWxPd25lciBhcyBNYXRyaXhQYXJ0aWNpcGFudCwgJ3BvdGVudGlhbE93bmVyJywgQWN0aW9uU2NvcGUuVHJhbnNmZXIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBPcmdhbml6YXRpb25QYXJ0aWNpcGFudEV4cHJlc3Npb24uQ2xyX1R5cGVfSUQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGRPcmdhbml6YXRpb25QYXJ0aWNpcGFudCh1c2VyQWN0aXZpdHksIHBvdGVudGlhbE93bmVyIGluc3RhbmNlb2YgUGFydGljaXBhbnRFeHByZXNzaW9uID8gcG90ZW50aWFsT3duZXIgOiBwb3RlbnRpYWxPd25lciBhcyBPcmdhbml6YXRpb25QYXJ0aWNpcGFudCwgJ3BvdGVudGlhbE93bmVyJyAsIEFjdGlvblNjb3BlLlRyYW5zZmVyKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGVUaW1lTGltaXRDb250cm9sKHVzZXJBY3Rpdml0eTogVXNlckFjdGl2aXR5LCBvYmo6IGFueSkge1xyXG4gICAgICAgIGNvbnN0IHRpbWVMaW1pdEluZm8gPSBvYmoucHJvcGVydHlWYWx1ZSBhcyBUaW1lTGltaXRDb250cm9sSW5mbztcclxuICAgICAgICB1c2VyQWN0aXZpdHkudGltZUxpbWl0Q29udHJvbCA9IG51bGw7XHJcbiAgICAgICAgaWYgKHRpbWVMaW1pdEluZm8pIHtcclxuICAgICAgICAgICAgY29uc3QgY29udHJvbCA9IG5ldyBUaW1lTGltaXRDb250cm9sKHVzZXJBY3Rpdml0eS5Nb2RlbCk7XHJcbiAgICAgICAgICAgIGNvbnRyb2wuZW5hYmxlID0gdGltZUxpbWl0SW5mby5lbmFibGU7XHJcbiAgICAgICAgICAgIGNvbnRyb2wudGFnID0gdGltZUxpbWl0SW5mby50YWc7XHJcbiAgICAgICAgICAgIGNvbnRyb2wuZHVlVGltZSA9IHRpbWVMaW1pdEluZm8uZHVlVGltZTtcclxuICAgICAgICAgICAgY29udHJvbC50aW1lVW5pdCA9IHRpbWVMaW1pdEluZm8udGltZVVuaXQ7XHJcbiAgICAgICAgICAgIGNvbnRyb2wuZXhwaXJlT3BlcmF0aW9ucyA9IG5ldyBBcnJheTxTZW5kTWVzc2FnZUV4cGlyZU9wZXJhdGlvbj4oKTtcclxuICAgICAgICAgICAgaWYgKHRpbWVMaW1pdEluZm8uZXhwaXJlT3BlcmF0aW9ucyAmJiB0aW1lTGltaXRJbmZvLmV4cGlyZU9wZXJhdGlvbnMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBvIG9mIHRpbWVMaW1pdEluZm8uZXhwaXJlT3BlcmF0aW9ucykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvLm9wZXJhdGlvblR5cGVOYW1lID09PSAnU2VuZE1lc3NhZ2VFeHBpcmVPcGVyYXRpb24nIHx8ICFvLm9wZXJhdGlvblR5cGVOYW1lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGVudGl0eSA9IG8gYXMgU2VuZE1lc3NhZ2VFeHBpcmVPcGVyYXRpb247XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNlbmRNZXNzYWdlID0gbmV3IFNlbmRNZXNzYWdlRXhwaXJlT3BlcmF0aW9uKHVzZXJBY3Rpdml0eS5Nb2RlbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbmRNZXNzYWdlLmlkID0gQnBtbk1vZGVsSGVscGVyLkdlbmVyYXRlRWxlbWVudElkKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbmRNZXNzYWdlLmR1cmF0aW9uVHlwZSA9IGVudGl0eS5kdXJhdGlvblR5cGUgYXMgRHVyYXRpb25UeXBlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZW5kTWVzc2FnZS50aW1lRHVyYXRpb24gPSBlbnRpdHkudGltZUR1cmF0aW9uO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZW5kTWVzc2FnZS50aW1lVW5pdCA9IGVudGl0eS50aW1lVW5pdDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VuZE1lc3NhZ2UubWVzc2FnZSA9IGVudGl0eS5tZXNzYWdlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZW5kTWVzc2FnZS5zdWJqZWN0ID0gZW50aXR5LnN1YmplY3Q7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbmRNZXNzYWdlLnNlbmRUeXBlID0gZW50aXR5LnNlbmRUeXBlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZW5kTWVzc2FnZS5yZWNlaXZlciA9IGVudGl0eS5yZWNlaXZlcjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VuZE1lc3NhZ2UuY3ljbGVFbmFibGUgPSBlbnRpdHkuY3ljbGVFbmFibGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbmRNZXNzYWdlLmN5Y2xlVGltZSA9IGVudGl0eS5jeWNsZVRpbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbmRNZXNzYWdlLmN5Y2xlVGltZVVuaXQgPSBlbnRpdHkuY3ljbGVUaW1lVW5pdDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VuZE1lc3NhZ2Uub3BlcmF0aW9uVHlwZU5hbWUgPSBlbnRpdHkub3BlcmF0aW9uVHlwZU5hbWUgPyBlbnRpdHkub3BlcmF0aW9uVHlwZU5hbWUgOiAnU2VuZE1lc3NhZ2VFeHBpcmVPcGVyYXRpb24nO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZW50aXR5LnNtc01lc3NhZ2VUZW1wbGF0ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc21zTWVzc2FnZVRlbXBsYXRlID0gbmV3IFNtc01lc3NhZ2VUZW1wbGF0ZSh1c2VyQWN0aXZpdHkuTW9kZWwpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc21zTWVzc2FnZVRlbXBsYXRlLmNvZGUgPSBlbnRpdHkuc21zTWVzc2FnZVRlbXBsYXRlLmNvZGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzbXNNZXNzYWdlVGVtcGxhdGUuY29udGVudCA9IGVudGl0eS5zbXNNZXNzYWdlVGVtcGxhdGUuY29udGVudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNtc01lc3NhZ2VUZW1wbGF0ZS5zbXNNZXNzYWdlVmFyaWFibGVzID0gbmV3IEFycmF5KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZW50aXR5LnNtc01lc3NhZ2VUZW1wbGF0ZS5zbXNNZXNzYWdlVmFyaWFibGVzICYmIGVudGl0eS5zbXNNZXNzYWdlVGVtcGxhdGUuc21zTWVzc2FnZVZhcmlhYmxlcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCB2IG9mIGVudGl0eS5zbXNNZXNzYWdlVGVtcGxhdGUuc21zTWVzc2FnZVZhcmlhYmxlcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB2YXJpYWJsZSA9IG5ldyBTbXNNZXNzYWdlVmFyaWFibGUodXNlckFjdGl2aXR5Lk1vZGVsKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyaWFibGUuY29kZSA9IHYuY29kZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyaWFibGUudmFsdWUgPSB2LnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXJpYWJsZS50YWcgPSB2LnRhZztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc21zTWVzc2FnZVRlbXBsYXRlLnNtc01lc3NhZ2VWYXJpYWJsZXMucHVzaCh2YXJpYWJsZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VuZE1lc3NhZ2Uuc21zTWVzc2FnZVRlbXBsYXRlID0gc21zTWVzc2FnZVRlbXBsYXRlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2wuZXhwaXJlT3BlcmF0aW9ucy5wdXNoKHNlbmRNZXNzYWdlKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKG8ub3BlcmF0aW9uVHlwZU5hbWUgPT09ICdBdXRvSGFuZGxlRXhwaXJlT3BlcmF0aW9uJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBvcGVyYXRpb24gPSBvIGFzIEF1dG9IYW5kbGVFeHBpcmVPcGVyYXRpb247XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGF1dG9IYW5kbGUgPSBuZXcgQXV0b0hhbmRsZUV4cGlyZU9wZXJhdGlvbih1c2VyQWN0aXZpdHkuTW9kZWwpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhdXRvSGFuZGxlLmlkID0gby5pZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXV0b0hhbmRsZS5kdXJhdGlvblR5cGUgPSBvcGVyYXRpb24uZHVyYXRpb25UeXBlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhdXRvSGFuZGxlLnRpbWVEdXJhdGlvbiA9IG9wZXJhdGlvbi50aW1lRHVyYXRpb247XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGF1dG9IYW5kbGUudGltZVVuaXQgPSBvcGVyYXRpb24udGltZVVuaXQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGF1dG9IYW5kbGUub3BlcmF0aW9uVHlwZU5hbWUgPSBvcGVyYXRpb24ub3BlcmF0aW9uVHlwZU5hbWUgPyBvcGVyYXRpb24ub3BlcmF0aW9uVHlwZU5hbWUgOiAnQXV0b0hhbmRsZUV4cGlyZU9wZXJhdGlvbic7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGF1dG9IYW5kbGUuYXV0b0hhbmRsZVR5cGUgPSBvcGVyYXRpb24uYXV0b0hhbmRsZVR5cGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGF1dG9IYW5kbGUubWVzc2FnZSA9IG9wZXJhdGlvbi5tZXNzYWdlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sLmV4cGlyZU9wZXJhdGlvbnMucHVzaChhdXRvSGFuZGxlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdXNlckFjdGl2aXR5LnRpbWVMaW1pdENvbnRyb2wgPSBjb250cm9sO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGVBbm9ueW1vdXNTZXQodXNlckFjdGl2aXR5OiBVc2VyQWN0aXZpdHksIG9iajogYW55KSB7XHJcbiAgICAgICAgY29uc3QgYW5vbnltb3VzU2V0ID0gb2JqLnByb3BlcnR5VmFsdWU7XHJcbiAgICAgICAgaWYgKGFub255bW91c1NldCkge1xyXG4gICAgICAgICAgICB1c2VyQWN0aXZpdHkuYW5vbnltb3VzID0gYW5vbnltb3VzU2V0LmlzQW5vbnltaXR5O1xyXG4gICAgICAgICAgICB1c2VyQWN0aXZpdHkuYW5vbnltb3VzVGV4dCA9IGFub255bW91c1NldC5hbm9ueW1vdXM7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZUN1c3RvbWl6ZUFjdGlvbnModXNlckFjdGl2aXR5OiBVc2VyQWN0aXZpdHksIG9iajogYW55KSB7XHJcbiAgICAgICAgbGV0IGFjdGlvbnMgPSBvYmoucHJvcGVydHlWYWx1ZSBhcyBhbnlbXTtcclxuICAgICAgICB1c2VyQWN0aXZpdHkuY3VzdG9taXplQWN0aW9ucyA9IG5ldyBBcnJheTxDdXN0b21pemVBY3Rpb24+KCk7XHJcbiAgICAgICAgaWYgKGFjdGlvbnMgJiYgYWN0aW9ucy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGEgb2YgYWN0aW9ucykge1xyXG4gICAgICAgICAgICAgICAgbGV0IGFjdGlvbiA9IG5ldyBDdXN0b21pemVBY3Rpb24odXNlckFjdGl2aXR5Lk1vZGVsKTtcclxuICAgICAgICAgICAgICAgIGFjdGlvbi5pZCA9IEJwbW5Nb2RlbEhlbHBlci5HZW5lcmF0ZUVsZW1lbnRJZCgpO1xyXG4gICAgICAgICAgICAgICAgYWN0aW9uLmNvZGUgPSBhLmNvZGU7XHJcbiAgICAgICAgICAgICAgICBhY3Rpb24ubmFtZSA9IGEubmFtZTtcclxuICAgICAgICAgICAgICAgIGFjdGlvbi50ZXJtaW5hbFR5cGUgPSBhLnRlcm1pbmFsVHlwZTtcclxuICAgICAgICAgICAgICAgIGFjdGlvbi5hY3R1YWxQYXJhbWV0ZXJzID0gW107XHJcbiAgICAgICAgICAgICAgICBpZiAoYS5hY3R1YWxQYXJhbWV0ZXJzICYmIGEuYWN0dWFsUGFyYW1ldGVycy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgcCBvZiBhLmFjdHVhbFBhcmFtZXRlcnMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHBhcmFtZXRlciA9IG5ldyBBY3R1YWxQYXJhbWV0ZXIodXNlckFjdGl2aXR5Lk1vZGVsLCBwLk5hbWUsIHAuVmFsdWUsIHAuVmFsdWVUZXh0LCBwLlRhZyB8fCAnZXhwcmVzc2lvbicpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb24uYWN0dWFsUGFyYW1ldGVycy5wdXNoKHBhcmFtZXRlcik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHVzZXJBY3Rpdml0eS5jdXN0b21pemVBY3Rpb25zLnB1c2goYWN0aW9uKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlVmFyaWFibGVTZXR0aW5ncyh1c2VyQWN0aXZpdHk6IFVzZXJBY3Rpdml0eSwgb2JqOiBhbnkpIHtcclxuICAgICAgICBjb25zdCBicG1uTW9kZWwgPSB1c2VyQWN0aXZpdHkuTW9kZWw7XHJcbiAgICAgICAgY29uc3QgZXh0ZW5kRWxlbWVudHMgPSBicG1uTW9kZWwuRGVmYXVsdFByb2Nlc3MuR2V0RXh0ZW5zaW9uRWxlbWVudHMoKTtcclxuICAgICAgICBpZiAodXNlckFjdGl2aXR5LnZhcmlhYmxlU2V0dGluZ3MgJiYgdXNlckFjdGl2aXR5LnZhcmlhYmxlU2V0dGluZ3MubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICBmb3IgKGNvbnN0IHYgb2YgdXNlckFjdGl2aXR5LnZhcmlhYmxlU2V0dGluZ3MpIHtcclxuICAgICAgICAgICAgICAgIGlmICh2LnRhZyA9PT0gJ2NvbXBvbmVudCcpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBpID0gZXh0ZW5kRWxlbWVudHMuZmluZEluZGV4KGUgPT4gKGUgaW5zdGFuY2VvZiBDb21wb25lbnQgJiYgZS5JZCA9PT0gdi52YWx1ZSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGV4dGVuZEVsZW1lbnRzLnNwbGljZShpLCAxKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB1c2VyQWN0aXZpdHkudmFyaWFibGVTZXR0aW5ncyA9IG5ldyBBcnJheSgpO1xyXG5cclxuICAgICAgICBjb25zdCB2YXJpYWJsZXMgPSBvYmoucHJvcGVydHlWYWx1ZSBhcyBhbnlbXTtcclxuICAgICAgICBpZiAodmFyaWFibGVzICYmIHZhcmlhYmxlcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIGZvciAoY29uc3QgdiBvZiB2YXJpYWJsZXMpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHZhcmlhYmxlU2V0dGluZyA9IG5ldyBWYXJpYWJsZVNldHRpbmcoYnBtbk1vZGVsKTtcclxuICAgICAgICAgICAgICAgIHZhcmlhYmxlU2V0dGluZy52YXJpYWJsZUNvZGUgPSB2LnZhcmlhYmxlQ29kZTtcclxuICAgICAgICAgICAgICAgIHZhcmlhYmxlU2V0dGluZy52YXJpYWJsZU5hbWUgPSB2LnZhcmlhYmxlTmFtZTtcclxuICAgICAgICAgICAgICAgIHZhcmlhYmxlU2V0dGluZy50YWcgPSB2LnRhZztcclxuICAgICAgICAgICAgICAgIHZhcmlhYmxlU2V0dGluZy5leGVjdXRpb25UaW1lID0gdi5leGVjdXRpb25UaW1lO1xyXG4gICAgICAgICAgICAgICAgdmFyaWFibGVTZXR0aW5nLnZhbHVlID0gdi52YWx1ZTtcclxuICAgICAgICAgICAgICAgIHZhcmlhYmxlU2V0dGluZy52YWx1ZVRleHQgPSB2LnZhbHVlVGV4dDtcclxuXHJcbiAgICAgICAgICAgICAgICB1c2VyQWN0aXZpdHkudmFyaWFibGVTZXR0aW5ncy5wdXNoKHZhcmlhYmxlU2V0dGluZyk7XHJcbiAgICAgICAgICAgICAgICBpZiAodmFyaWFibGVTZXR0aW5nLnRhZyA9PT0gJ2NvbXBvbmVudCcpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBjID0gdi5jb21wb25lbnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGNwdCA9IG5ldyBDb21wb25lbnQoYnBtbk1vZGVsKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3B0Lk1ldGFkYXRhSWQgPSBjLk1ldGFkYXRhSWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNwdC5NZXRob2RDb2RlID0gYy5NZXRob2RDb2RlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjcHQuSWQgPSBjLklkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjcHQuTmFtZSA9IGMuTmFtZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3B0LkFjdHVhbFBhcmFtZXRlcnMgPSBuZXcgQXJyYXkoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGMuQWN0dWFsUGFyYW1ldGVycyAmJiBjLkFjdHVhbFBhcmFtZXRlcnMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgYSBvZiBjLkFjdHVhbFBhcmFtZXRlcnMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgcGFyYW1ldGVyID0gbmV3IEFjdHVhbFBhcmFtZXRlcihicG1uTW9kZWwsIGEuTmFtZSwgYS5WYWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyYW1ldGVyLlRhZyA9IGEuVGFnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNwdC5BY3R1YWxQYXJhbWV0ZXJzLnB1c2gocGFyYW1ldGVyKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgZXh0ZW5kRWxlbWVudHMucHVzaChjcHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGVJbWFnZVNldHRpbmdzKHVzZXJBY3Rpdml0eTogVXNlckFjdGl2aXR5LCBvYmo6IGFueSkge1xyXG4gICAgICAgIGxldCBTZXR0aW5ncyA9IG9iai5wcm9wZXJ0eVZhbHVlIGFzIGFueTtcclxuICAgICAgICBpZiAodXNlckFjdGl2aXR5LmltYWdlU2V0dGluZ3MpIHtcclxuICAgICAgICAgICAgdXNlckFjdGl2aXR5LmltYWdlU2V0dGluZ3MgPSBuZXcgSW1hZ2VTZXR0aW5ncyh1c2VyQWN0aXZpdHkuTW9kZWwpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoU2V0dGluZ3MgJiYgU2V0dGluZ3MuaW1hZ2VPcGVyYXRpb24pIHtcclxuICAgICAgICAgICAgY29uc3QgaW1hZ2VTZXR0aW5ncyA9IG5ldyBJbWFnZVNldHRpbmdzKHVzZXJBY3Rpdml0eS5Nb2RlbCk7XHJcbiAgICAgICAgICAgIGltYWdlU2V0dGluZ3MuaW1hZ2VPcGVyYXRpb24gPSBTZXR0aW5ncy5pbWFnZU9wZXJhdGlvbjtcclxuICAgICAgICAgICAgdXNlckFjdGl2aXR5LmltYWdlU2V0dGluZ3MgPSBpbWFnZVNldHRpbmdzO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGVDaGVja0NvbmRpdGlvbnModXNlckFjdGl2aXR5OiBVc2VyQWN0aXZpdHksIG9iajogYW55LCBpc09wZXJhdGlvbiA9IGZhbHNlKSB7XHJcbiAgICAgICAgY29uc3QgY2hlY2tDb25kaXRpb25zID0gb2JqLnByb3BlcnR5VmFsdWUgYXMgQXJyYXk8YW55PjtcclxuICAgICAgICB1c2VyQWN0aXZpdHkuY2hlY2tDb25kaXRpb25zID0gbmV3IEFycmF5KCk7XHJcbiAgICAgICAgZm9yIChjb25zdCBjIG9mIGNoZWNrQ29uZGl0aW9ucykge1xyXG4gICAgICAgICAgICBpZiAoYy52YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgY29uZGl0aW9uID0gbmV3IENoZWNrQ29uZGl0aW9uKHVzZXJBY3Rpdml0eS5Nb2RlbCk7XHJcbiAgICAgICAgICAgICAgICBjb25kaXRpb24udmFsdWUgPSBjLnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgY29uZGl0aW9uLmNoZWNrVGltZSA9IGMuY2hlY2tUaW1lO1xyXG4gICAgICAgICAgICAgICAgY29uZGl0aW9uLmVycm9yVGlwcyA9IG5ldyBNYXA8c3RyaW5nLCBzdHJpbmc+KCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoYy5lcnJvclRpcHMpIHtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBrZXkgaW4gYy5lcnJvclRpcHMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uZGl0aW9uLmVycm9yVGlwcy5zZXQoa2V5LCBjLmVycm9yVGlwc1trZXldKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB1c2VyQWN0aXZpdHkuY2hlY2tDb25kaXRpb25zLnB1c2goY29uZGl0aW9uKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGVPdGhlckFzc2lnbk5vZGVzKHVzZXJBY3Rpdml0eTogVXNlckFjdGl2aXR5LCBvYmo6IGFueSkge1xyXG4gICAgICAgIGNvbnN0IGRhdGE6IGJvb2xlYW4gPSBvYmoucHJvcGVydHlWYWx1ZTtcclxuICAgICAgICBpZiAoZGF0YSkge1xyXG4gICAgICAgICAgICAvLyBjb25zdCBvdGhlckFzc2lnbk5vZGVzID0gbmV3IE90aGVyQXNzaWduTm9kZXModXNlckFjdGl2aXR5Lk1vZGVsKTtcclxuICAgICAgICAgICAgLy8gb3RoZXJBc3NpZ25Ob2Rlcy5vdGhlckFzc2lnbkFjdGl2aXRpZXMgPSBuZXcgQXJyYXkoKTtcclxuICAgICAgICAgICAgLy8gdXNlckFjdGl2aXR5Lm90aGVyQXNzaWduTm9kZXMgPSBvdGhlckFzc2lnbk5vZGVzO1xyXG4gICAgICAgICAgICB1c2VyQWN0aXZpdHkub3RoZXJBc3NpZ25Ob2RlcyA9IG5ldyBPdGhlckFzc2lnbk5vZGVzKHVzZXJBY3Rpdml0eS5Nb2RlbCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdXNlckFjdGl2aXR5Lm90aGVyQXNzaWduTm9kZXMgPSBudWxsO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGVPdGhlckFzc2lnbkFjdGl2aXRpZXModXNlckFjdGl2aXR5OiBVc2VyQWN0aXZpdHksIG9iajogYW55KSB7XHJcbiAgICAgICAgY29uc3QgZGF0YTphbnlbXSA9IG9iai5wcm9wZXJ0eVZhbHVlO1xyXG4gICAgICAgIGlmIChkYXRhICYmIGRhdGEubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICBpZiAodHlwZW9mIGRhdGFbMF0gPT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgICAgIHVzZXJBY3Rpdml0eS5vdGhlckFzc2lnbk5vZGVzLm90aGVyQXNzaWduQWN0aXZpdHlOb2RlSW5mb3MgPSBuZXcgQXJyYXk8T3RoZXJBc3NpZ25BY3Rpdml0eU5vZGVJbmZvPigpO1xyXG4gICAgICAgICAgICAgICAgZGF0YS5mb3JFYWNoKGQgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBvdGhlciA9IG5ldyBPdGhlckFzc2lnbkFjdGl2aXR5Tm9kZUluZm8odXNlckFjdGl2aXR5Lk1vZGVsKTtcclxuICAgICAgICAgICAgICAgICAgICBvdGhlci5hY3Rpdml0eURlZmluaXRpb25JZCA9IGQ7XHJcbiAgICAgICAgICAgICAgICAgICAgb3RoZXIucmVxdWlyZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICBvdGhlci5jb25kaXRpb24gPSBuZXcgQ29uZGl0aW9uKHVzZXJBY3Rpdml0eS5Nb2RlbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdXNlckFjdGl2aXR5Lm90aGVyQXNzaWduTm9kZXMub3RoZXJBc3NpZ25BY3Rpdml0eU5vZGVJbmZvcy5wdXNoKG90aGVyKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdXNlckFjdGl2aXR5Lm90aGVyQXNzaWduTm9kZXMub3RoZXJBc3NpZ25BY3Rpdml0eU5vZGVJbmZvcyA9IG5ldyBBcnJheTxPdGhlckFzc2lnbkFjdGl2aXR5Tm9kZUluZm8+KCk7XHJcbiAgICAgICAgICAgICAgICBkYXRhLmZvckVhY2goZCA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IG90aGVyID0gbmV3IE90aGVyQXNzaWduQWN0aXZpdHlOb2RlSW5mbyh1c2VyQWN0aXZpdHkuTW9kZWwpO1xyXG4gICAgICAgICAgICAgICAgICAgIG90aGVyLmFjdGl2aXR5RGVmaW5pdGlvbklkID0gZC5hY3Rpdml0eURlZmluaXRpb25JZDtcclxuICAgICAgICAgICAgICAgICAgICBvdGhlci5yZXF1aXJlZCA9IGQucmVxdWlyZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgb3RoZXIuY29uZGl0aW9uID0gbmV3IENvbmRpdGlvbih1c2VyQWN0aXZpdHkuTW9kZWwpO1xyXG4gICAgICAgICAgICAgICAgICAgIG90aGVyLmNvbmRpdGlvbi5WYWx1ZSA9IGQuY29uZGl0aW9uLlZhbHVlOyAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgdXNlckFjdGl2aXR5Lm90aGVyQXNzaWduTm9kZXMub3RoZXJBc3NpZ25BY3Rpdml0eU5vZGVJbmZvcy5wdXNoKG90aGVyKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIHVzZXJBY3Rpdml0eS5vdGhlckFzc2lnbk5vZGVzLm90aGVyQXNzaWduQWN0aXZpdGllcyA9IFsuLi5kYXRhXTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB1c2VyQWN0aXZpdHkub3RoZXJBc3NpZ25Ob2Rlcy5vdGhlckFzc2lnbkFjdGl2aXR5Tm9kZUluZm9zID0gbmV3IEFycmF5KCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZU1lc3NhZ2VOb3RpY2VzKHVzZXJBY3Rpdml0eTogVXNlckFjdGl2aXR5LCBvYmo6IGFueSkge1xyXG4gICAgICAgIGxldCBub3RpY2VzID0gb2JqLnByb3BlcnR5VmFsdWUgYXMgYW55W107XHJcbiAgICAgICAgdXNlckFjdGl2aXR5Lm1lc3NhZ2VOb3RpY2VzID0gbmV3IEFycmF5KCk7XHJcbiAgICAgICAgaWYgKG5vdGljZXMgJiYgbm90aWNlcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IG4gb2Ygbm90aWNlcykge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbWVzc2FnZU5vdGljZSA9IG5ldyBNZXNzYWdlTm90aWNlKHVzZXJBY3Rpdml0eS5Nb2RlbCk7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlTm90aWNlLnNlbmRUeXBlID0gbi5zZW5kVHlwZTtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2VOb3RpY2Uuc2VuZFRpbWUgPSBuLnNlbmRUaW1lO1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZU5vdGljZS5zdWJqZWN0ID0gbi5zdWJqZWN0O1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZU5vdGljZS5jb250ZW50ID0gbi5jb250ZW50O1xyXG4gICAgICAgICAgICAgICAgbi5yZWNlaXZlcnMgPSBuLnJlY2VpdmVycy5maWx0ZXIoKHI6IGFueSkgPT4gci50eXBlKTtcclxuICAgICAgICAgICAgICAgIGlmIChuLnJlY2VpdmVycyAmJiBuLnJlY2VpdmVycy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVjZWl2ZXJzID0gbi5yZWNlaXZlcnMuZmlsdGVyKChyOiBhbnkpID0+IHIudHlwZSA9PT0gJ3VzZXJQYXJ0aWNpcGFudCdcclxuICAgICAgICAgICAgICAgICAgICAgICAgfHwgKHIudHlwZSA9PT0gJ3Byb2Nlc3NQYXJ0aWNpcGFudCcgJiYgci5wcm9jZXNzUGFydGljaXBhbnQgIT09ICdhY3Rpdml0eUV4ZWN1dG9yUGFydGljaXBhbnQnKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGFydGljaXBhbnRzID0gbi5yZWNlaXZlcnMuZmlsdGVyKChyOiBhbnkpID0+IHIudHlwZSA9PT0gJ3ZhcmlhYmxlUGFydGljaXBhbnQnIHx8IHIudHlwZSA9PT0gJ3Bvc2l0aW9uUGFydGljaXBhbnQnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHx8IChyLnR5cGUgPT09ICdwcm9jZXNzUGFydGljaXBhbnQnICYmIHIucHJvY2Vzc1BhcnRpY2lwYW50ID09PSAnYWN0aXZpdHlFeGVjdXRvclBhcnRpY2lwYW50JykpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChyZWNlaXZlcnMgJiYgcmVjZWl2ZXJzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHJlY2VpdmVyID0gJyc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCByZWNlaXZlck5hbWUgPSAnJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCByIG9mIHJlY2VpdmVycykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHIudHlwZSA9PT0gJ3Byb2Nlc3NQYXJ0aWNpcGFudCcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWNlaXZlciArPSAoci5wcm9jZXNzUGFydGljaXBhbnQgKyAnLCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyLnByb2Nlc3NQYXJ0aWNpcGFudCA9PT0gJ3Byb2NJbnN0Q3JlYXRvcicpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVjZWl2ZXJOYW1lICs9ICfmtYHnqIvlj5HotbfkurosJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoci5wcm9jZXNzUGFydGljaXBhbnQgPT09ICd3b3JrSXRlbVBhcnRpY2lwYW50Jykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWNlaXZlck5hbWUgKz0gJ+S7u+WKoeaOpeaUtuS6uiwnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChyLnR5cGUgPT09ICd1c2VyUGFydGljaXBhbnQnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVjZWl2ZXIgKz0gKHIudXNlcklkcyArICcsJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVjZWl2ZXJOYW1lICs9IChyLnVzZXJOYW1lcyArICcsJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlY2VpdmVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWNlaXZlciA9IHJlY2VpdmVyLnN1YnN0cmluZygwLCByZWNlaXZlci5sZW5ndGggLSAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVjZWl2ZXJOYW1lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWNlaXZlck5hbWUgPSByZWNlaXZlck5hbWUuc3Vic3RyaW5nKDAsIHJlY2VpdmVyTmFtZS5sZW5ndGggLSAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlTm90aWNlLnJlY2VpdmVyID0gcmVjZWl2ZXI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2VOb3RpY2UucmVjZWl2ZXJUZXh0ID0gcmVjZWl2ZXJOYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAocGFydGljaXBhbnRzICYmIHBhcnRpY2lwYW50cy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlY2VpdmVyRXhwcmVzc2lvbnMgPSBuZXcgQXJyYXk8UGFydGljaXBhbnRFeHByZXNzaW9uPigpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHAgb2YgcGFydGljaXBhbnRzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocC50eXBlID09PSAncHJvY2Vzc1BhcnRpY2lwYW50Jykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBhY3Rpdml0eUV4ZWN1dG9yID0gbmV3IEFjdGl2aXR5RXhlY3V0b3JQYXJ0aWNpcGFudEV4cHJlc3Npb24odXNlckFjdGl2aXR5Lk1vZGVsKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3Rpdml0eUV4ZWN1dG9yLmlkID0gQnBtbk1vZGVsSGVscGVyLkdlbmVyYXRlRWxlbWVudElkKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0aXZpdHlFeGVjdXRvci5hY3Rpdml0eURlZklkID0gcC5hY3Rpdml0eURlZklkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjdGl2aXR5RXhlY3V0b3IuYWN0aXZpdHlEZWZOYW1lID0gcC5hY3Rpdml0eURlZk5hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVjZWl2ZXJFeHByZXNzaW9ucy5wdXNoKGFjdGl2aXR5RXhlY3V0b3IpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHAudHlwZSA9PT0gJ3ZhcmlhYmxlUGFydGljaXBhbnQnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHZhcmlhYmxlUGFydGljaXBhbnQgPSBuZXcgVXNlclBhcnRpY2lwYW50RXhwcmVzc2lvbih1c2VyQWN0aXZpdHkuTW9kZWwsIHAudmFyaWFibGVQYXJ0aWNpcGFudCwgcC52YXJpYWJsZU5hbWUsIHAub3JnVHlwZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyaWFibGVQYXJ0aWNpcGFudC5pZCA9IEJwbW5Nb2RlbEhlbHBlci5HZW5lcmF0ZUVsZW1lbnRJZCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhcmlhYmxlUGFydGljaXBhbnQuVGFnID0gJ2V4cHJlc3Npb24nO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhcmlhYmxlUGFydGljaXBhbnQuT3JnVHlwZSA9IHAub3JnVHlwZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWNlaXZlckV4cHJlc3Npb25zLnB1c2godmFyaWFibGVQYXJ0aWNpcGFudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocC50eXBlID09PSAncG9zaXRpb25QYXJ0aWNpcGFudCcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgcG9zaVBhcnRpY2lwYW50ID0gbmV3IFBvc2l0aW9uUGFydGljaXBhbnRFeHByZXNzaW9uKHVzZXJBY3Rpdml0eS5Nb2RlbCwgcC5wb3NpdGlvbklkLCBwLnBvc2l0aW9uTmFtZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zaVBhcnRpY2lwYW50LmlkID0gQnBtbk1vZGVsSGVscGVyLkdlbmVyYXRlRWxlbWVudElkKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zaVBhcnRpY2lwYW50LlBvc2l0aW9uVHlwZSA9IHAucG9zaXRpb25UeXBlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwLnBvc2l0aW9uVHlwZSA9PT0gJzEnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc2lQYXJ0aWNpcGFudC5PcmdJZCA9IHAub3JnSWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc2lQYXJ0aWNpcGFudC5PcmdUeXBlID0gcC5vcmdUeXBlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWNlaXZlckV4cHJlc3Npb25zLnB1c2gocG9zaVBhcnRpY2lwYW50KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlTm90aWNlLnJlY2VpdmVyRXhwcmVzc2lvbnMgPSByZWNlaXZlckV4cHJlc3Npb25zO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAobi5zbXNNZXNzYWdlVGVtcGxhdGUpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBzbXNNZXNzYWdlVGVtcGxhdGUgPSBuZXcgU21zTWVzc2FnZVRlbXBsYXRlKHVzZXJBY3Rpdml0eS5Nb2RlbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgc21zTWVzc2FnZVRlbXBsYXRlLmNvZGUgPSBuLnNtc01lc3NhZ2VUZW1wbGF0ZS5jb2RlO1xyXG4gICAgICAgICAgICAgICAgICAgIHNtc01lc3NhZ2VUZW1wbGF0ZS5jb250ZW50ID0gbi5zbXNNZXNzYWdlVGVtcGxhdGUuY29udGVudDtcclxuICAgICAgICAgICAgICAgICAgICBzbXNNZXNzYWdlVGVtcGxhdGUuc21zTWVzc2FnZVZhcmlhYmxlcyA9IG5ldyBBcnJheSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChuLnNtc01lc3NhZ2VUZW1wbGF0ZS5zbXNNZXNzYWdlVmFyaWFibGVzICYmIG4uc21zTWVzc2FnZVRlbXBsYXRlLnNtc01lc3NhZ2VWYXJpYWJsZXMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHYgb2Ygbi5zbXNNZXNzYWdlVGVtcGxhdGUuc21zTWVzc2FnZVZhcmlhYmxlcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdmFyaWFibGUgPSBuZXcgU21zTWVzc2FnZVZhcmlhYmxlKHVzZXJBY3Rpdml0eS5Nb2RlbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXJpYWJsZS5jb2RlID0gdi5jb2RlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyaWFibGUudmFsdWUgPSB2LnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyaWFibGUudGFnID0gdi50YWc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzbXNNZXNzYWdlVGVtcGxhdGUuc21zTWVzc2FnZVZhcmlhYmxlcy5wdXNoKHZhcmlhYmxlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlTm90aWNlLnNtc01lc3NhZ2VUZW1wbGF0ZSA9IHNtc01lc3NhZ2VUZW1wbGF0ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB1c2VyQWN0aXZpdHkubWVzc2FnZU5vdGljZXMucHVzaChtZXNzYWdlTm90aWNlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlQXBwcm92YWxQaXZvdENvbmZpZyh1c2VyQWN0aXZpdHk6IFVzZXJBY3Rpdml0eSwgb2JqOiBhbnkpIHtcclxuICAgICAgICBsZXQgY29uZmlnID0gb2JqLnByb3BlcnR5VmFsdWU7XHJcbiAgICAgICAgY29uc3QgYXBwcm92YWxQaXZvdENvbmZpZyA9IG5ldyBBcHByb3ZhbFBpdm90Q29uZmlnKHVzZXJBY3Rpdml0eS5Nb2RlbCk7XHJcbiAgICAgICAgYXBwcm92YWxQaXZvdENvbmZpZy5lbmFibGUgPSBjb25maWcuZW5hYmxlO1xyXG4gICAgICAgIGFwcHJvdmFsUGl2b3RDb25maWcuZXhwYW5kID0gY29uZmlnLmV4cGFuZDtcclxuICAgICAgICBhcHByb3ZhbFBpdm90Q29uZmlnLnRpdGxlID0gY29uZmlnLnRpdGxlO1xyXG4gICAgICAgIGFwcHJvdmFsUGl2b3RDb25maWcuYXBwcm92YWxQaXZvdHMgPSBuZXcgQXJyYXkoKTtcclxuICAgICAgICBpZiAoY29uZmlnLmFwcHJvdmFsUGl2b3RzICYmIGNvbmZpZy5hcHByb3ZhbFBpdm90cy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIGZvciAoY29uc3QgYSBvZiBjb25maWcuYXBwcm92YWxQaXZvdHMpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGFwcHJvdmFsUGl2b3QgPSBuZXcgQXBwcm92YWxQaXZvdCh1c2VyQWN0aXZpdHkuTW9kZWwpO1xyXG4gICAgICAgICAgICAgICAgYXBwcm92YWxQaXZvdC50eXBlID0gYS50eXBlO1xyXG4gICAgICAgICAgICAgICAgYXBwcm92YWxQaXZvdC50aXRsZSA9IGEudGl0bGU7XHJcbiAgICAgICAgICAgICAgICBhcHByb3ZhbFBpdm90LmRlc2NyaXB0aW9uID0gYS5kZXNjcmlwdGlvbjtcclxuICAgICAgICAgICAgICAgIGlmIChhLmNvbmRpdGlvbikge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbmRpdGlvbiA9IG5ldyBDb25kaXRpb24odXNlckFjdGl2aXR5Lk1vZGVsKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25kaXRpb24uVmFsdWUgPSBhLmNvbmRpdGlvbjtcclxuICAgICAgICAgICAgICAgICAgICBhcHByb3ZhbFBpdm90LmNvbmRpdGlvbiA9IGNvbmRpdGlvbjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGFwcHJvdmFsUGl2b3RDb25maWcuYXBwcm92YWxQaXZvdHMucHVzaChhcHByb3ZhbFBpdm90KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB1c2VyQWN0aXZpdHkuYXBwcm92YWxQaXZvdENvbmZpZyA9IGFwcHJvdmFsUGl2b3RDb25maWc7XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlVXJnZUhhbmRsZVJ1bGUodXNlckFjdGl2aXR5OiBVc2VyQWN0aXZpdHksIG9iajogYW55KSB7XHJcbiAgICAgICAgY29uc3QgcnVsZSA9IG9iai5wcm9wZXJ0eVZhbHVlO1xyXG4gICAgICAgIGNvbnN0IHVyZ2VIYW5kbGVSdWxlID0gbmV3IFVyZ2VIYW5kbGVSdWxlKHVzZXJBY3Rpdml0eS5Nb2RlbCk7XHJcbiAgICAgICAgdXJnZUhhbmRsZVJ1bGUudXJnZUhhbmRsZUFibGUgPSBydWxlLnVyZ2VIYW5kbGVBYmxlO1xyXG4gICAgICAgIHVyZ2VIYW5kbGVSdWxlLnNlbmRUeXBlID0gcnVsZS5zZW5kVHlwZTtcclxuICAgICAgICB1cmdlSGFuZGxlUnVsZS5lYXJseVRpbWUgPSBydWxlLmVhcmx5VGltZTtcclxuICAgICAgICB1cmdlSGFuZGxlUnVsZS5pbnRlcnZhbFRpbWUgPSBydWxlLmludGVydmFsVGltZTtcclxuICAgICAgICB1cmdlSGFuZGxlUnVsZS51cmdlTWVzc2FnZVN1YmplY3QgPSBydWxlLnVyZ2VNZXNzYWdlU3ViamVjdDtcclxuICAgICAgICB1cmdlSGFuZGxlUnVsZS51cmdlTWVzc2FnZUNvbnRlbnQgPSBydWxlLnVyZ2VNZXNzYWdlQ29udGVudDtcclxuICAgICAgICB1cmdlSGFuZGxlUnVsZS5hZGRSZW1pbmRlciA9IHJ1bGUuYWRkUmVtaW5kZXI7XHJcbiAgICAgICAgdXJnZUhhbmRsZVJ1bGUuc3ViamVjdEVkaXRhYmxlID0gcnVsZS5zdWJqZWN0RWRpdGFibGU7XHJcbiAgICAgICAgdXJnZUhhbmRsZVJ1bGUuY29udGVudEVkaXRhYmxlID0gcnVsZS5jb250ZW50RWRpdGFibGU7XHJcblxyXG4gICAgICAgIGlmIChydWxlLnNtc01lc3NhZ2VUZW1wbGF0ZSkge1xyXG4gICAgICAgICAgICBjb25zdCBzbXNNZXNzYWdlVGVtcGxhdGUgPSBuZXcgU21zTWVzc2FnZVRlbXBsYXRlKHVzZXJBY3Rpdml0eS5Nb2RlbCk7XHJcbiAgICAgICAgICAgIHNtc01lc3NhZ2VUZW1wbGF0ZS5jb2RlID0gcnVsZS5zbXNNZXNzYWdlVGVtcGxhdGUuY29kZTtcclxuICAgICAgICAgICAgc21zTWVzc2FnZVRlbXBsYXRlLmNvbnRlbnQgPSBydWxlLnNtc01lc3NhZ2VUZW1wbGF0ZS5jb250ZW50O1xyXG4gICAgICAgICAgICBzbXNNZXNzYWdlVGVtcGxhdGUuc21zTWVzc2FnZVZhcmlhYmxlcyA9IG5ldyBBcnJheSgpO1xyXG4gICAgICAgICAgICBpZiAocnVsZS5zbXNNZXNzYWdlVGVtcGxhdGUuc21zTWVzc2FnZVZhcmlhYmxlcyAmJiBydWxlLnNtc01lc3NhZ2VUZW1wbGF0ZS5zbXNNZXNzYWdlVmFyaWFibGVzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgdiBvZiBydWxlLnNtc01lc3NhZ2VUZW1wbGF0ZS5zbXNNZXNzYWdlVmFyaWFibGVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdmFyaWFibGUgPSBuZXcgU21zTWVzc2FnZVZhcmlhYmxlKHVzZXJBY3Rpdml0eS5Nb2RlbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyaWFibGUuY29kZSA9IHYuY29kZTtcclxuICAgICAgICAgICAgICAgICAgICB2YXJpYWJsZS52YWx1ZSA9IHYudmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyaWFibGUudGFnID0gdi50YWc7XHJcbiAgICAgICAgICAgICAgICAgICAgc21zTWVzc2FnZVRlbXBsYXRlLnNtc01lc3NhZ2VWYXJpYWJsZXMucHVzaCh2YXJpYWJsZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdXJnZUhhbmRsZVJ1bGUuc21zTWVzc2FnZVRlbXBsYXRlID0gc21zTWVzc2FnZVRlbXBsYXRlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdXNlckFjdGl2aXR5LnVyZ2VIYW5kbGVSdWxlID0gdXJnZUhhbmRsZVJ1bGU7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDliKDpmaToioLngrnmiJblj4LkuI7ogIXml7bvvIzlr7nlupTliKDpmaRIdW1hblJlc291cmNlUm9sZXNcclxuICAgICAqIEBwYXJhbSBicG1uTW9kZWxcclxuICAgICAqIEBwYXJhbSBpZHNcclxuICAgICAqL1xyXG4gICAgcmVtb3ZlSHVtYW5SZXNvdXJjZVJvbGVzKGlkczogc3RyaW5nW10pIHtcclxuICAgICAgICBjb25zdCBicG1uTW9kZWwgPSB0aGlzLmZsb3dFbGVtZW50Lk1vZGVsO1xyXG4gICAgICAgIGlmIChpZHMgJiYgaWRzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgY29uc3QgdXNlckFjdGl2aXR5cyA9IGJwbW5Nb2RlbC5EZWZhdWx0UHJvY2Vzcy5HZXRGbG93RWxlbWVudHMoKTtcclxuICAgICAgICAgICAgbGV0IHBlcmZJZHMgPSAnJztcclxuICAgICAgICAgICAgZm9yIChsZXQga2V5IGluIHVzZXJBY3Rpdml0eXMpIHtcclxuICAgICAgICAgICAgICAgIGlmICh1c2VyQWN0aXZpdHlzW2tleV0gaW5zdGFuY2VvZiBVc2VyQWN0aXZpdHkpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCB1c2VyQWN0ID0gdXNlckFjdGl2aXR5c1trZXldIGFzIFVzZXJBY3Rpdml0eTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodXNlckFjdC5QYXJ0aWNpcGFudFNjaGVtZXMgJiYgdXNlckFjdC5QYXJ0aWNpcGFudFNjaGVtZXMubGVuZ3RoID4gMCAmJiB1c2VyQWN0LlBhcnRpY2lwYW50U2NoZW1lc1swXS5QZXJmb3JtZXJzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBlcmZJZHMgKz0gKHVzZXJBY3QuUGFydGljaXBhbnRTY2hlbWVzWzBdLlBlcmZvcm1lcnMgKyAnLCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCByZW1vdmVJZHMgPSBpZHMuZmlsdGVyKGlkID0+IHBlcmZJZHMuaW5kZXhPZihpZCkgPCAwKTtcclxuICAgICAgICAgICAgcmVtb3ZlSWRzLmZvckVhY2gocmVJZCA9PiB7XHJcbiAgICAgICAgICAgICAgICBicG1uTW9kZWwuRGVmYXVsdFByb2Nlc3MuUmVtb3ZlUmVzb3VyY2VSb2xlKHJlSWQpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDmm7TmlrDlrqHmibnmtLvliqjmianlsZXlsZ7mgKdcclxuICAgICAqIEBwYXJhbSB1c2VyQWN0aXZpdHlcclxuICAgICAqIEBwYXJhbSBvYmpcclxuICAgICAqL1xyXG4gICAgcmVzZXRFeHRlbmRQcm9wZXJ0eSh1c2VyQWN0aXZpdHk6IFVzZXJBY3Rpdml0eSwgb2JqOiBhbnkpIHtcclxuICAgICAgICBpZiAodXNlckFjdGl2aXR5KSB7XHJcbiAgICAgICAgICAgIGxldCBhdHRyaWJ1dGVzID0gb2JqLnByb3BlcnR5VmFsdWUgYXMgYW55O1xyXG4gICAgICAgICAgICBpZiAoIXVzZXJBY3Rpdml0eS5leHRlbmRQcm9wZXJ0aWVzKSB7XHJcbiAgICAgICAgICAgICAgICB1c2VyQWN0aXZpdHkuZXh0ZW5kUHJvcGVydGllcyA9IG5ldyBBcnJheTxFeHRlbmRQcm9wZXJ0eT4oKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBmb3IgKGNvbnN0IG8gb2Ygb2JqLnByb3BlcnR5VmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gdXNlckFjdGl2aXR5LmV4dGVuZFByb3BlcnRpZXMuZmluZEluZGV4KGUgPT4gZS5rZXkgPT09IG8uY29kZSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoaW5kZXggPiAtMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHVzZXJBY3Rpdml0eS5leHRlbmRQcm9wZXJ0aWVzLnNwbGljZShpbmRleCwgMSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGF0dHJpYnV0ZXMpIHtcclxuICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXMuZm9yRWFjaCgoYTogYW55KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGl0ZW0gPSBuZXcgRXh0ZW5kUHJvcGVydHkodXNlckFjdGl2aXR5Lk1vZGVsKTtcclxuICAgICAgICAgICAgICAgICAgICBpdGVtLmtleSA9IGEuY29kZTtcclxuICAgICAgICAgICAgICAgICAgICBpdGVtLnZhbHVlID0gYS52YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICB1c2VyQWN0aXZpdHkuZXh0ZW5kUHJvcGVydGllcy5wdXNoKGl0ZW0pO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuIl19