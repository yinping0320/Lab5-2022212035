{"version":3,"file":"gsp-wf-wf-process-editor.js.map","sources":["ng://@gsp-wf/wf-process-editor/lib/wf-process-editor.service.ts","ng://@gsp-wf/wf-process-editor/lib/model/process-time.ts","ng://@gsp-wf/wf-process-editor/lib/domain/entities/flowform-info.ts","ng://@gsp-wf/wf-process-editor/lib/i18n/pipe/wf-process-editor-locale.pipe.ts","ng://@gsp-wf/wf-process-editor/lib/app/process-designer.uistate.ts","ng://@gsp-wf/wf-process-editor/lib/domain/process-de-util.ts","ng://@gsp-wf/wf-process-editor/lib/domain/process-designer.dataservice.ts","ng://@gsp-wf/wf-process-editor/lib/model/process-clrtypeId.ts","ng://@gsp-wf/wf-process-editor/lib/views/entryForm/entry-form-editor.component.ts","ng://@gsp-wf/wf-process-editor/lib/views/activity-component/activity-component.uistate.ts","ng://@gsp-wf/wf-process-editor/lib/domain/entities/biz-component.entity.ts","ng://@gsp-wf/wf-process-editor/lib/views/activity-component/activity-component.repository.ts","ng://@gsp-wf/wf-process-editor/lib/views/activity-component/activity-component.viewmodel.ts","ng://@gsp-wf/wf-process-editor/lib/views/edit-component-parameter/edit-component-parameter.component.ts","ng://@gsp-wf/wf-process-editor/lib/views/activity-component/activity-component.component.ts","ng://@gsp-wf/wf-process-editor/lib/views/execute-forms/execute-forms.uistate.ts","ng://@gsp-wf/wf-process-editor/lib/views/execute-forms/execute-forms.viewmodel.ts","ng://@gsp-wf/wf-process-editor/lib/views/execute-forms/execute-forms.repository.ts","ng://@gsp-wf/wf-process-editor/lib/views/execute-forms/entities/execute-form.entity.ts","ng://@gsp-wf/wf-process-editor/lib/views/execute-forms/add-execute-form/form-format.service.ts","ng://@gsp-wf/wf-process-editor/lib/views/execute-forms/entities/execute-form.ts","ng://@gsp-wf/wf-process-editor/lib/views/execute-forms/add-execute-form/add-execute-form.component.ts","ng://@gsp-wf/wf-process-editor/lib/views/execute-forms/entities/form-format.ts","ng://@gsp-wf/wf-process-editor/lib/views/execute-forms/entities/form-format-config.ts","ng://@gsp-wf/wf-process-editor/lib/views/execute-forms/entities/form-method-config.ts","ng://@gsp-wf/wf-process-editor/lib/views/execute-forms/variable-grid/variable-grid.component.ts","ng://@gsp-wf/wf-process-editor/lib/views/execute-forms/parameter-setting/parameter-setting.component.ts","ng://@gsp-wf/wf-process-editor/lib/views/execute-forms/form-operation-config/form-operation-config.component.ts","ng://@gsp-wf/wf-process-editor/lib/views/execute-forms/form-format-config/form-format-config.component.ts","ng://@gsp-wf/wf-process-editor/lib/views/execute-forms/form-config-container/form-config-container.component.ts","ng://@gsp-wf/wf-process-editor/lib/views/execute-forms/execute-forms.component.ts","ng://@gsp-wf/wf-process-editor/lib/views/title-expression/title-expression.component.ts","ng://@gsp-wf/wf-process-editor/lib/views/customize-action/entities/customize-action.entity.ts","ng://@gsp-wf/wf-process-editor/lib/views/customize-action/views/customize-action-list/customize-action-list.component.ts","ng://@gsp-wf/wf-process-editor/lib/views/customize-action/customize-action.component.ts","ng://@gsp-wf/wf-process-editor/lib/views/process-variables/process-variable.entity.ts","ng://@gsp-wf/wf-process-editor/lib/views/variable-setting/views/constant-edit/constant-edit.component.ts","ng://@gsp-wf/wf-process-editor/lib/views/variable-setting/views/component-edit/component-edit-lookup.service.ts","ng://@gsp-wf/wf-process-editor/lib/views/variable-setting/views/component-edit/component-edit.service.ts","ng://@gsp-wf/wf-process-editor/lib/views/variable-setting/views/component-edit/component.entity.ts","ng://@gsp-wf/wf-process-editor/lib/views/variable-setting/views/component-edit/component-edit.component.ts","ng://@gsp-wf/wf-process-editor/lib/views/process-variables/process-variables.component.ts","ng://@gsp-wf/wf-process-editor/lib/views/time-limit-control/time-limit-control.entity.ts","ng://@gsp-wf/wf-process-editor/lib/views/sms-message-template/sms-message-template.ts","ng://@gsp-wf/wf-process-editor/lib/views/sms-message-template/sms-message-template.component.ts","ng://@gsp-wf/wf-process-editor/lib/views/time-limit-control/send-message-operation/send-message-operation.component.ts","ng://@gsp-wf/wf-process-editor/lib/views/time-limit-control/auto-handle-operation/auto-handle-operation.component.ts","ng://@gsp-wf/wf-process-editor/lib/views/time-limit-control/time-limit-control.component.ts","ng://@gsp-wf/wf-process-editor/lib/views/message-notice/message-notice.ts","ng://@gsp-wf/wf-process-editor/lib/views/message-notice/message-receiver.ts","ng://@gsp-wf/wf-process-editor/lib/views/activity-list/activity-list.component.ts","ng://@gsp-wf/wf-process-editor/lib/views/performer/entities/performer.entity.ts","ng://@gsp-wf/wf-process-editor/lib/views/performer/entities/position-performer.entity.ts","ng://@gsp-wf/wf-process-editor/lib/views/performer/views/position-performer/positions-name.pipe.ts","ng://@gsp-wf/wf-process-editor/lib/views/performer/views/position-performer/position-performer.component.ts","ng://@gsp-wf/wf-process-editor/lib/views/message-notice/message-notice-edit/message-notice-edit.component.ts","ng://@gsp-wf/wf-process-editor/lib/views/message-notice/message-notice-batchSet.ts","ng://@gsp-wf/wf-process-editor/lib/views/message-notice/message-notice-copy/message-notice-copy.component.ts","ng://@gsp-wf/wf-process-editor/lib/views/message-notice/message-notice.component.ts","ng://@gsp-wf/wf-process-editor/lib/views/extend-property/extend-property.component.ts","ng://@gsp-wf/wf-process-editor/lib/views/image-set/image-set.ts","ng://@gsp-wf/wf-process-editor/lib/views/image-set/image-set.component.ts","ng://@gsp-wf/wf-process-editor/lib/views/aif-ui-common/pipe/aif-ui-common-locale.pipe.ts","ng://@gsp-wf/wf-process-editor/lib/views/start-condition/start-condition.service.ts","ng://@gsp-wf/wf-process-editor/lib/views/start-condition/abstract-datagrid-component.ts","ng://@gsp-wf/wf-process-editor/lib/views/start-condition/i18n/lang.resource.ts","ng://@gsp-wf/wf-process-editor/lib/views/start-condition/start-condition.component.ts","ng://@gsp-wf/wf-process-editor/lib/designer/wf-cell/property-keys/ProcessPropertyKeys.ts","ng://@gsp-wf/wf-process-editor/lib/app/bpmn-process.viewmodel.ts","ng://@gsp-wf/wf-process-editor/lib/views/approvel-items/entities/approval-item.entity.ts","ng://@gsp-wf/wf-process-editor/lib/views/sign-rule/entites/sign-rule.entity.ts","ng://@gsp-wf/wf-process-editor/lib/views/sign-rule/sign-rule.component.ts","ng://@gsp-wf/wf-process-editor/lib/views/approvel-items/approvel-items.component.ts","ng://@gsp-wf/wf-process-editor/lib/views/expressionEditor/expression-editor.component.ts","ng://@gsp-wf/wf-process-editor/lib/views/jump-scope/jump-scope.component.ts","ng://@gsp-wf/wf-process-editor/lib/views/backward-rule/backward-rule.entity.ts","ng://@gsp-wf/wf-process-editor/lib/views/backward-rule/backward-rule.component.ts","ng://@gsp-wf/wf-process-editor/lib/views/performer/performer.uistate.ts","ng://@gsp-wf/wf-process-editor/lib/views/performer/performer.repository.ts","ng://@gsp-wf/wf-process-editor/lib/views/performer/performer.viewmodel.ts","ng://@gsp-wf/wf-process-editor/lib/views/performer/entities/user-performer.entity.ts","ng://@gsp-wf/wf-process-editor/lib/views/performer/performer-config.service.ts","ng://@gsp-wf/wf-process-editor/lib/views/performer/views/user-performer/user-performer.component.ts","ng://@gsp-wf/wf-process-editor/lib/views/performer/views/component-performer/component-performer.service.ts","ng://@gsp-wf/wf-process-editor/lib/views/performer/views/component-performer/component-performer.entity.ts","ng://@gsp-wf/wf-process-editor/lib/views/performer/views/component-performer/component-performer.component.ts","ng://@gsp-wf/wf-process-editor/lib/views/performer/views/reporting-line/reporting-line-data.entity.ts","ng://@gsp-wf/wf-process-editor/lib/views/performer/views/reporting-line/service/wf-report-def-help.service.ts","ng://@gsp-wf/wf-process-editor/lib/views/performer/views/reporting-line/service/wf-report-def-help.component.ts","ng://@gsp-wf/wf-process-editor/lib/views/performer/views/reporting-line/reporting-line.component.ts","ng://@gsp-wf/wf-process-editor/lib/views/performer/views/matrix-performer/entitis/matrix-def-info.entity.ts","ng://@gsp-wf/wf-process-editor/lib/views/performer/views/matrix-performer/entitis/matrix-data-info.entity.ts","ng://@gsp-wf/wf-process-editor/lib/views/performer/views/matrix-performer/enum-list/enum-list.component.ts","ng://@gsp-wf/wf-process-editor/lib/views/performer/views/matrix-performer/service/matrix-performer.component.service.ts","ng://@gsp-wf/wf-process-editor/lib/views/performer/views/matrix-performer/matrix-performer.component.ts","ng://@gsp-wf/wf-process-editor/lib/views/performer/views/activity-executor-performer/entities/activity-executor.participant.ts","ng://@gsp-wf/wf-process-editor/lib/views/performer/views/activity-executor-performer/activity-executor-performer.component.ts","ng://@gsp-wf/wf-process-editor/lib/domain/entities/organization-participant-expression.ts","ng://@gsp-wf/wf-process-editor/lib/views/performer/entities/variable-performer.entity.ts","ng://@gsp-wf/wf-process-editor/lib/views/performer/views/variable-performer/variable-performer.component.ts","ng://@gsp-wf/wf-process-editor/lib/views/performer/views/performer-edit/performer-edit.component.ts","ng://@gsp-wf/wf-process-editor/lib/views/performer/views/performer-options/performer-options.component.ts","ng://@gsp-wf/wf-process-editor/lib/views/performer/performer.component.ts","ng://@gsp-wf/wf-process-editor/lib/views/organization-potential-owner/actionOrganizationScope.ts","ng://@gsp-wf/wf-process-editor/lib/views/assign-strategy/assign-config.ts","ng://@gsp-wf/wf-process-editor/lib/views/assign-strategy/assign-strategy.ts","ng://@gsp-wf/wf-process-editor/lib/views/participant/participant.info.ts","ng://@gsp-wf/wf-process-editor/lib/views/participant/participant.uistate.ts","ng://@gsp-wf/wf-process-editor/lib/views/participant/alternative-participant/alternative-participant.component.ts","ng://@gsp-wf/wf-process-editor/lib/views/organization-potential-owner/organization-potential-owner.component.ts","ng://@gsp-wf/wf-process-editor/lib/views/anonymous-set/anonymous-set.entity.ts","ng://@gsp-wf/wf-process-editor/lib/views/anonymous-set/anonymous-set.component.ts","ng://@gsp-wf/wf-process-editor/lib/views/variable-setting/variable-setting.ts","ng://@gsp-wf/wf-process-editor/lib/views/variable-setting/variable-setting.component.ts","ng://@gsp-wf/wf-process-editor/lib/views/approval-pivot/approval-pivot-config.ts","ng://@gsp-wf/wf-process-editor/lib/views/approval-pivot/approval-pivot.ts","ng://@gsp-wf/wf-process-editor/lib/views/approval-pivot/approval-pivot.component.ts","ng://@gsp-wf/wf-process-editor/lib/views/urge-handle-rule/urge-handle-rule.ts","ng://@gsp-wf/wf-process-editor/lib/views/urge-handle-rule/urge-handle-rule.component.ts","ng://@gsp-wf/wf-process-editor/lib/views/check-condition/check-condition.ts","ng://@gsp-wf/wf-process-editor/lib/views/check-condition/check-condition.component.ts","ng://@gsp-wf/wf-process-editor/lib/views/assign-strategy/assign-strategy.component.ts","ng://@gsp-wf/wf-process-editor/lib/views/participant/assign-config.ts","ng://@gsp-wf/wf-process-editor/lib/views/participant/participant.component.ts","ng://@gsp-wf/wf-process-editor/lib/views/assign-scope/condition.ts","ng://@gsp-wf/wf-process-editor/lib/views/assign-scope/other-assign-activity-node-info.ts","ng://@gsp-wf/wf-process-editor/lib/views/assign-scope/assign-scope.component.ts","ng://@gsp-wf/wf-process-editor/lib/designer/wf-cell/property-keys/UserActivityPropertyKeys.ts","ng://@gsp-wf/wf-process-editor/lib/views/multi-instance-loop-characteristics/multi-instance-loop-characteristics.entity.ts","ng://@gsp-wf/wf-process-editor/lib/views/multi-instance-loop-characteristics/multi-instance-loop-characteristics.component.ts","ng://@gsp-wf/wf-process-editor/lib/app/wf-flowElements.viewModel.ts","ng://@gsp-wf/wf-process-editor/lib/views/save-as-edit/save-as-edit.component.ts","ng://@gsp-wf/wf-process-editor/lib/views/call-activity-sub-process/BillSourceType.ts","ng://@gsp-wf/wf-process-editor/lib/views/call-activity-sub-process/SubProcessType.ts","ng://@gsp-wf/wf-process-editor/lib/views/call-activity-sub-process/call-activity-sub-process.entity.ts","ng://@gsp-wf/wf-process-editor/lib/views/aif-process-list-help/entity/BifMonitorConstant.ts","ng://@gsp-wf/wf-process-editor/lib/views/aif-process-list-help/entity/BifMetadataType.ts","ng://@gsp-wf/wf-process-editor/lib/views/aif-process-list-help/entity/AbstractShowEntity.ts","ng://@gsp-wf/wf-process-editor/lib/views/aif-process-list-help/entity/RtShowEntity.ts","ng://@gsp-wf/wf-process-editor/lib/views/aif-process-list-help/entity/RtShowEntitiesWithCustomization.ts","ng://@gsp-wf/wf-process-editor/lib/views/aif-process-list-help/entity/RtBillProcessListResult.ts","ng://@gsp-wf/wf-process-editor/lib/views/aif-process-list-help/services/process-list-help.service.ts","ng://@gsp-wf/wf-process-editor/lib/views/aif-process-list-help/entity/ProcessFilterConditionArgs.ts","ng://@gsp-wf/wf-process-editor/lib/views/aif-process-list-help/entity/OrderByDirection.ts","ng://@gsp-wf/wf-process-editor/lib/views/aif-process-list-help/i18n/lang.resource.ts","ng://@gsp-wf/wf-process-editor/lib/views/aif-process-list-help/components/process-list-help/process-list-help.component.ts","ng://@gsp-wf/wf-process-editor/lib/views/call-activity-sub-process2/call-activity-sub-process2.component.ts","ng://@gsp-wf/wf-process-editor/lib/designer/wf-cell/property-keys/CallActivitySubProcessPropertyKeys.ts","ng://@gsp-wf/wf-process-editor/lib/app/sub-process.viewmodel.ts","ng://@gsp-wf/wf-process-editor/lib/designer/wf-cell/property-keys/AutoActivityPropertyKeys.ts","ng://@gsp-wf/wf-process-editor/lib/app/auto-activity.adapter.ts","ng://@gsp-wf/wf-process-editor/lib/views/event-definition/event-definition.entity.ts","ng://@gsp-wf/wf-process-editor/lib/views/event-definition/event-definition.component.ts","ng://@gsp-wf/wf-process-editor/lib/designer/wf-cell/property-keys/IntermediateCatchEventImplPropertyKeys.ts","ng://@gsp-wf/wf-process-editor/lib/app/catch-event.adapter.ts","ng://@gsp-wf/wf-process-editor/lib/designer/wf-cell/property-keys/MessageActivityPropertyKeys.ts","ng://@gsp-wf/wf-process-editor/lib/app/message-activity.adapter.ts","ng://@gsp-wf/wf-process-editor/lib/domain/entities/audit-processDef-info.ts","ng://@gsp-wf/wf-process-editor/lib/model/process-info.ts","ng://@gsp-wf/wf-process-editor/lib/designer/wf-cell/property-keys/NotifyActivityPropertyKeys.ts","ng://@gsp-wf/wf-process-editor/lib/app/notify-activity.adapter.ts","ng://@gsp-wf/wf-process-editor/lib/views/aif-process-list-help/AifCreationBillProcessConverter.ts","ng://@gsp-wf/wf-process-editor/lib/designer/wf-cell/property-keys/AifCreationBillActivityPropertyKeys.ts","ng://@gsp-wf/wf-process-editor/lib/app/aif-creation-bill-activity.adapter.ts","ng://@gsp-wf/wf-process-editor/lib/views/shared/event-bus.service.ts","ng://@gsp-wf/wf-process-editor/lib/views/release-component/release-component.component.ts","ng://@gsp-wf/wf-process-editor/lib/views/bill-type-help/entity/DocuTypeHelperEntity.ts","ng://@gsp-wf/wf-process-editor/lib/views/bill-type-help/bill-type-help.service.ts","ng://@gsp-wf/wf-process-editor/lib/views/bill-type-help/i18n/lang.resource.ts","ng://@gsp-wf/wf-process-editor/lib/views/bill-type-help/bill-type-help/bill-type-help.component.ts","ng://@gsp-wf/wf-process-editor/lib/views/vo-config/vo-config.component.ts","ng://@gsp-wf/wf-process-editor/lib/views/wf-options/wf-options.component.ts","ng://@gsp-wf/wf-process-editor/lib/app/bill-node-activity.adapter.ts","ng://@gsp-wf/wf-process-editor/lib/designer/wf-cell/property-keys/SequenceFlowPropertyKeys.ts","ng://@gsp-wf/wf-process-editor/lib/app/sequecne-activity.adapter.ts","ng://@gsp-wf/wf-process-editor/lib/app/process-designer.viewmodel.ts","ng://@gsp-wf/wf-process-editor/lib/model/rt-process-info.ts","ng://@gsp-wf/wf-process-editor/lib/views/note/note.component.ts","ng://@gsp-wf/wf-process-editor/lib/designer/entity/MessageReceiver.ts","ng://@gsp-wf/wf-process-editor/lib/designer/entity/BizComponent.ts","ng://@gsp-wf/wf-process-editor/lib/designer/entity/BizParameter.ts","ng://@gsp-wf/wf-process-editor/lib/designer/WfConstants.ts","ng://@gsp-wf/wf-process-editor/lib/designer/WfDesignerUtils.ts","ng://@gsp-wf/wf-process-editor/lib/designer/WfEvents.ts","ng://@gsp-wf/wf-process-editor/lib/designer/entity/Participant.ts","ng://@gsp-wf/wf-process-editor/lib/designer/entity/UserParticipant.ts","ng://@gsp-wf/wf-process-editor/lib/designer/entity/VariablePerformer.ts","ng://@gsp-wf/wf-process-editor/lib/designer/entity/PositionParticipant.ts","ng://@gsp-wf/wf-process-editor/lib/designer/entity/ComponentParticipant.ts","ng://@gsp-wf/wf-process-editor/lib/designer/entity/ReportingLineParticipant.ts","ng://@gsp-wf/wf-process-editor/lib/designer/entity/ActivityExecutorParticipant.ts","ng://@gsp-wf/wf-process-editor/lib/designer/entity/MatrixParticipant.ts","ng://@gsp-wf/wf-process-editor/lib/designer/entity/OrganizationParticipant.ts","ng://@gsp-wf/wf-process-editor/lib/designer/entity/ActionScope.ts","ng://@gsp-wf/wf-process-editor/lib/designer/wf-cell/PropertyHelper.ts","ng://@gsp-wf/wf-process-editor/lib/designer/wf-cell/WfProcessCell.ts","ng://@gsp-wf/wf-process-editor/lib/designer/WfGraph.ts","ng://@gsp-wf/wf-process-editor/lib/designer/WfSidebar.ts","ng://@gsp-wf/wf-process-editor/lib/designer/wf-cell/WfExclusiveGatewayCell.ts","ng://@gsp-wf/wf-process-editor/lib/designer/wf-cell/AifCreationBillActivityCell.ts","ng://@gsp-wf/wf-process-editor/lib/designer/wf-cell/AutoActivityCell.ts","ng://@gsp-wf/wf-process-editor/lib/designer/wf-cell/CallActivitySubProcessCell.ts","ng://@gsp-wf/wf-process-editor/lib/designer/wf-cell/IntermediateCatchEventImplCell.ts","ng://@gsp-wf/wf-process-editor/lib/designer/wf-cell/MessageActivityCell.ts","ng://@gsp-wf/wf-process-editor/lib/designer/entity/ActualParameter.ts","ng://@gsp-wf/wf-process-editor/lib/designer/entity/AssignConfig.ts","ng://@gsp-wf/wf-process-editor/lib/designer/entity/AssignStrategy.ts","ng://@gsp-wf/wf-process-editor/lib/designer/entity/OrganizationLevel.ts","ng://@gsp-wf/wf-process-editor/lib/designer/entity/ParticipantInfo.ts","ng://@gsp-wf/wf-process-editor/lib/designer/entity/ProcExtendProperty.ts","ng://@gsp-wf/wf-process-editor/lib/designer/wf-cell/NotifyActivityCell.ts","ng://@gsp-wf/wf-process-editor/lib/designer/wf-cell/UserActivityCell.ts","ng://@gsp-wf/wf-process-editor/lib/designer/wf-cell/OperationActivityCell.ts","ng://@gsp-wf/wf-process-editor/lib/designer/wf-cell/property-keys/StartActivityPropertyKeys.ts","ng://@gsp-wf/wf-process-editor/lib/designer/wf-cell/StartActivityCell.ts","ng://@gsp-wf/wf-process-editor/lib/designer/wf-cell/WfParallelGatewayCell.ts","ng://@gsp-wf/wf-process-editor/lib/designer/wf-cell/WfEndEventCell.ts","ng://@gsp-wf/wf-process-editor/lib/designer/wf-cell/WfInclusiveGatewayCell.ts","ng://@gsp-wf/wf-process-editor/lib/views/batch-set-properties/batch-set-properties.component.ts","ng://@gsp-wf/wf-process-editor/lib/designer/WfEditorUi.ts","ng://@gsp-wf/wf-process-editor/lib/designer/WfValidatorAdapter.ts","ng://@gsp-wf/wf-process-editor/lib/model/event-bus-keys.ts","ng://@gsp-wf/wf-process-editor/lib/i18n/assets/lang.resource.ts","ng://@gsp-wf/wf-process-editor/lib/wf-process-editor.component.ts","ng://@gsp-wf/wf-process-editor/lib/views/assign-performer-config/assign-performer-config.component.ts","ng://@gsp-wf/wf-process-editor/lib/views/jump-scope/jump-scope.pipe.ts","ng://@gsp-wf/wf-process-editor/lib/views/performer/views/user-performer/users-name.pipe.ts","ng://@gsp-wf/wf-process-editor/lib/index.ts","ng://@gsp-wf/wf-process-editor/lib/views/call-activity-sub-process/call-activity-sub-process.component.ts","ng://@gsp-wf/wf-process-editor/lib/views/aif-process-list-help/entity/VOTemplateType.ts","ng://@gsp-wf/wf-process-editor/lib/views/aif-process-list-help/utils/common-model-type-helper.ts","ng://@gsp-wf/wf-process-editor/lib/views/aif-process-list-help/components/proc-help-query-solution/proc-help-query-solution.component.ts","ng://@gsp-wf/wf-process-editor/lib/views/aif-ui-common/aif-ui-common.module.ts","ng://@gsp-wf/wf-process-editor/lib/views/aif-process-list-help/process-list-help.module.ts","ng://@gsp-wf/wf-process-editor/lib/views/performer/views/activity-executor-performer/entities/activity-executor.pipe.ts","ng://@gsp-wf/wf-process-editor/lib/views/performer/views/variable-performer/variable-name.pipe.ts","ng://@gsp-wf/wf-process-editor/lib/views/bill-type-help/bill-type-help.module.ts","ng://@gsp-wf/wf-process-editor/lib/service/translate-resolve.service.ts","ng://@gsp-wf/wf-process-editor/lib/wf-process-editor-routing.module.ts","ng://@gsp-wf/wf-process-editor/lib/i18n/wf-process-editor-locale.module.ts","ng://@gsp-wf/wf-process-editor/lib/wf-process-editor.module.ts","ng://@gsp-wf/wf-process-editor/lib/designer/wf-cell/WfSequenceFlowEdge.ts","ng://@gsp-wf/wf-process-editor/lib/designer/wf-cell/WfCellRegister.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class WfProcessEditorService {\r\n\r\n  constructor() { }\r\n}\r\n","export enum ProcessTime {\r\n    dt = 'dt',\r\n    rt = 'rt'\r\n}\r\n","import { FlowFormEntity } from './flowform.entity';\r\nimport { FormalParameterEntity } from './formal-parameter.entity';\r\nimport { BizComponentEntity } from './biz-component.entity';\r\nimport { ExcuteFormEntity } from './excute-form.entity';\r\n\r\nexport class FlowFormInfo {\r\n    flowForm: FlowFormEntity;\r\n    formalParameters: Array<FormalParameterEntity>;\r\n    bizComponents: Array<BizComponentEntity>;\r\n    excuteForms: Array<ExcuteFormEntity>;\r\n    bizActivities: Array<any>;\r\n    customizeActions: Array<any>;\r\n}\r\n","import { Pipe, PipeTransform, Inject, LOCALE_ID, InjectionToken, Optional } from '@angular/core';\r\n\r\nexport const WF_LANG_RESOURCES = new InjectionToken(\"WF_LANG_RESOURCES\");\r\n\r\n@Pipe({ name: 'wfLocale' })\r\nexport class WfLocalePipe implements PipeTransform {\r\n    private readonly defaultLang: string = \"zh-CHS\";\r\n    public langCode: string;\r\n    private lang: {};\r\n    private resources;\r\n    constructor(\r\n        @Optional() @Inject(LOCALE_ID) localeId: string,\r\n        @Optional() @Inject(WF_LANG_RESOURCES) resources: any,\r\n    ) {\r\n        this.langCode = localeId || this.defaultLang;\r\n        this.resources = resources || {};\r\n        this.lang = resources[this.langCode] || resources[this.defaultLang] || {};\r\n    }\r\n    transform(name: string): any {\r\n        const keys = name.split(\".\")\r\n        let temp = this.lang;\r\n        for (let key of keys) {\r\n            temp = temp[key];\r\n            if (temp == null) {\r\n                break;\r\n            }\r\n        }\r\n        return temp || name;\r\n    }\r\n\r\n    instant(name: string): any {\r\n        return this.transform(name);\r\n    }\r\n}\r\n\r\n","import {Injectable, Injector} from '@angular/core';\r\nimport {KeyMap} from '@farris/ide-property-panel';\r\nimport {FlowFormInfo} from '../domain/entities/flowform-info';\r\nimport {VarEntity} from '@gsp-svc/expression';\r\nimport {GSPCommonModel} from '@gsp-bef/gsp-cm-metadata';\r\nimport {HttpService} from '@ecp-caf/caf-common';\r\nimport {forkJoin, Observable} from 'rxjs';\r\nimport { WfLocalePipe } from '../i18n/pipe/wf-process-editor-locale.pipe';\r\nimport { ProcessTime } from '../model/process-time';\r\nimport { BpmnModel } from '@edp-pmf/bpmn-model';\r\n\r\n@Injectable()\r\n\r\nexport class ProcessDesignerUIState {\r\n  scene: string;\r\n  rootPath = '';\r\n  constructor(\r\n    private http: HttpService,\r\n    private localePipe: WfLocalePipe\r\n    ) {\r\n    try {\r\n      this.rootPath = (window as any).gspframeworkService.common.getBasePath.get();\r\n    } catch (error) {\r\n    }\r\n  }\r\n\r\n  // 入口单据Info\r\n  flowFormInfo: FlowFormInfo = new FlowFormInfo();\r\n\r\n  // Model上下文\r\n  content = '';\r\n\r\n  // 属性框\r\n  propertyConfig: any[] = [];\r\n  propertyData: any = {};\r\n\r\n  // 设计器地址\r\n  POST_MESSAGE_TARGET = window.document.location.origin + this.rootPath +'/platform/runtime/wf/web/designer/index.html';\r\n\r\n  BE: GSPCommonModel;\r\n  schemas: any[] = [];\r\n\r\n  // 审批活动属性\r\n  counterSignVariables: any[] = [];\r\n  approvalItems: any[] = [];\r\n\r\n  // 流程的审批活动节点信息\r\n  userActList = [];\r\n  // 流程包括结束和审批活动节点的信息\r\n  allActList = [];\r\n  // 流程包括审批活动，知会活动，消息的节点信息\r\n  MessageActList = [];\r\n  NotifyActKist = [];\r\n  SubAndCatchActList = [];\r\n  // 记录当前选中用户活动节点的bizActivityId\r\n  bizActivityId: string;\r\n\r\n  enableAdminOrgAut = false;\r\n  enableFlowFormAut = false;\r\n\r\n  procDefId: string;\r\n  time: ProcessTime;\r\n\r\n  // 流程管理员信息\r\n  isAdministratorConfig = false;\r\n  administrator: any;\r\n  // organizations: any[] = new Array();\r\n  startMode: string;\r\n\r\n  //\r\n  bpmnModel: BpmnModel;\r\n\r\n  // 审批活动属性枚举===========================================================================================\r\n  public assignIterator: KeyMap[] = [{key: 'ALL', value: this.localePipe.transform(\"app.processDesigner.all\")},\r\n    {key: 'ASSIGN', value: this.localePipe.transform(\"app.processDesigner.assign\")},\r\n    {key: 'CLAIM', value: this.localePipe.transform(\"app.processDesigner.claim\")}];\r\n  public completeIterator: KeyMap[] = [{key: 'Preempt', value: this.localePipe.transform(\"app.processDesigner.preempt\")},\r\n    {key: 'Parallel', value: this.localePipe.transform(\"app.processDesigner.parallel\")},\r\n    {key: 'Sequential', value: this.localePipe.transform(\"app.processDesigner.sequential\")}];\r\n  public completeIterator4Claim: KeyMap[] = [{key: 'Preempt', value: this.localePipe.transform(\"app.processDesigner.preempt\")}];\r\n  public boolIterator: KeyMap[] = [{key: true, value: this.localePipe.transform(\"app.processDesigner.true\")},\r\n    {key: false, value:  this.localePipe.transform(\"app.processDesigner.false\")}];\r\n  // 会签不允许跳转\r\n  public noJump4Sign: KeyMap[] = [{key: false, value: this.localePipe.transform(\"app.processDesigner.false\")}];\r\n  // =================================================================================================\r\n\r\n  // 流程实例上下文-----------------------------------------------\r\n  procInstContext: VarEntity[] = [\r\n    {key: 'dataId', name: this.localePipe.transform(\"app.processDesigner.dataId\"), description: 'this.localePipe.transform(\"app.processDesigner.dataId\")'},\r\n    {key: 'procInstId', name: this.localePipe.transform(\"app.processDesigner.procInstId\"), description: this.localePipe.transform(\"app.processDesigner.procInstId\")},\r\n    {key: 'bizDefKey', name: this.localePipe.transform(\"app.processDesigner.bizDefKey\"), description: this.localePipe.transform(\"app.processDesigner.bizDefKey\")},\r\n    {key: 'processDefinitionKey', name: this.localePipe.transform(\"app.processDesigner.processDefinitionKey\"), description: this.localePipe.transform(\"app.processDesigner.processDefinitionKey\")},\r\n    {key: 'procInstCreator', name: this.localePipe.transform(\"app.processDesigner.procInstCreator\"), description: this.localePipe.transform(\"app.processDesigner.procInstCreator\")},\r\n    {key: 'businessCreator', name: this.localePipe.transform(\"app.processDesigner.businessCreator\"), description: this.localePipe.transform(\"app.processDesigner.businessCreator\")},\r\n    {key: 'procInstDescription', name: this.localePipe.transform(\"app.processDesigner.procInstDescription\"), description: this.localePipe.transform(\"app.processDesigner.procInstDescription\")},\r\n    {key: 'comment', name: this.localePipe.transform(\"app.processDesigner.comment\"), description: this.localePipe.transform(\"app.processDesigner.comment\") },\r\n    {key: 'bizDefName', name: this.localePipe.transform(\"app.processDesigner.bizDefName\"), description: this.localePipe.transform(\"app.processDesigner.bizDefName\")},\r\n    {key: 'curLoginUsername', name: this.localePipe.transform(\"app.processDesigner.curLoginUsername\"), description: this.localePipe.transform(\"app.processDesigner.curLoginUsername\")},\r\n    {key: 'procInstCreatorName', name: this.localePipe.transform(\"app.processDesigner.procInstCreatorName\"), description: this.localePipe.transform(\"app.processDesigner.procInstCreatorName\") },\r\n    {key: 'currentParticipantId', name: this.localePipe.transform(\"app.processDesigner.currentParticipantId\"), description: this.localePipe.transform(\"app.processDesigner.currentParticipantId\")},\r\n    {key: 'currentParticipantName', name: this.localePipe.transform(\"app.processDesigner.currentParticipantName\"), description: this.localePipe.transform(\"app.processDesigner.currentParticipantName\")}\r\n  ];\r\n\r\n  // 催办上下文--------------------------------------------------\r\n  urgeContext: VarEntity[] = [\r\n    {key: 'dataId', name: this.localePipe.transform(\"app.processDesigner.dataId\"), description: this.localePipe.transform(\"app.processDesigner.dataId\")},\r\n    {key: 'procInstId', name: this.localePipe.transform(\"app.processDesigner.procInstId\"), description: this.localePipe.transform(\"app.processDesigner.procInstId\")},\r\n    {key: 'bizDefKey', name: this.localePipe.transform(\"app.processDesigner.bizDefKey\"), description: this.localePipe.transform(\"app.processDesigner.bizDefKey\")},\r\n    {key: 'processDefinitionKey', name: this.localePipe.transform(\"app.processDesigner.processDefinitionKey\"), description: this.localePipe.transform(\"app.processDesigner.processDefinitionKey\")},\r\n    {key: 'procInstCreator', name: this.localePipe.transform(\"app.processDesigner.procInstCreator\"), description: this.localePipe.transform(\"app.processDesigner.procInstCreator\")},\r\n    {key: 'businessCreator', name: this.localePipe.transform(\"app.processDesigner.businessCreator\"), description: this.localePipe.transform(\"app.processDesigner.businessCreator\")},\r\n    {key: 'procInstDescription', name: this.localePipe.transform(\"app.processDesigner.procInstDescription\"), description: this.localePipe.transform(\"app.processDesigner.procInstDescription\")},\r\n    {key: 'comment', name: this.localePipe.transform(\"app.processDesigner.comment\"), description: this.localePipe.transform(\"app.processDesigner.comment\")},\r\n    {key: 'bizDefName', name: this.localePipe.transform(\"app.processDesigner.bizDefName\"), description: this.localePipe.transform(\"app.processDesigner.bizDefName\")},\r\n    {key: 'curLoginUsername', name: this.localePipe.transform(\"app.processDesigner.curLoginUsername\"), description:this.localePipe.transform(\"app.processDesigner.curLoginUsername\")},\r\n    {key: 'procInstCreatorName', name: this.localePipe.transform(\"app.processDesigner.procInstCreatorName\"), description: this.localePipe.transform(\"app.processDesigner.procInstCreatorName\")}\r\n  ];\r\n  /**\r\n   * 流程参数上下文\r\n   */\r\n  formalParameterContext: VarEntity[] = [];\r\n\r\n  /**\r\n   * 参与者上下文\r\n   */\r\n  participantContext: VarEntity[] = [\r\n    {\r\n      key: 'procInstCreator',\r\n      name: this.localePipe.transform(\"app.processDesigner.procInstCreator\"),\r\n      description: this.localePipe.transform(\"app.processDesigner.procInstCreator\")\r\n    }, {\r\n      key: 'businessCreator',\r\n      name: this.localePipe.transform(\"app.processDesigner.businessCreator\"),\r\n      description: this.localePipe.transform(\"app.processDesigner.businessCreator\")\r\n    }, {\r\n      key: 'currentUser',\r\n      name: this.localePipe.transform(\"app.processDesigner.currentUser\"),\r\n      description: this.localePipe.transform(\"app.processDesigner.currentUser\")\r\n    }, {\r\n      key: 'preActExecutors',\r\n      name: this.localePipe.transform(\"app.processDesigner.preActExecutors\"),\r\n      description: this.localePipe.transform(\"app.processDesigner.preActExecutors\")\r\n    }];\r\n\r\n    /**\r\n   * 子活动上下文\r\n   */\r\n  subActivityContext: VarEntity[] = [\r\n    {\r\n      key: 'collectionElementVariable',\r\n      name: this.localePipe.transform(\"app.processDesigner.collectionElementVariable\"),\r\n      description: this.localePipe.transform(\"app.processDesigner.collectionElementVariable\")\r\n    }];\r\n\r\n    /**\r\n   * 子流程元素上下文\r\n   */\r\n  subProcessElementContext: VarEntity[] = [\r\n    {\r\n      key: 'subCollectionElementVariable',\r\n      name: this.localePipe.transform(\"app.processDesigner.subCollectionElementVariable\"),\r\n      description: this.localePipe.transform(\"app.processDesigner.subCollectionElementVariable\")\r\n    }];\r\n\r\n  /**\r\n   * 多实例启用条件上下文\r\n   */\r\n  multiCounterSignVariables: VarEntity[] = [\r\n    {key: 'nrOfInstances', name: this.localePipe.transform(\"app.processDesigner.nrOfInstances\"), description: this.localePipe.transform(\"app.processDesigner.nrOfInstances\")},\r\n    {key: 'nrOfCompletedInstances', name: this.localePipe.transform(\"app.processDesigner.nrOfCompletedInstances\"), description: this.localePipe.transform(\"app.processDesigner.nrOfCompletedInstances\")},\r\n    {key: 'nrOfActiveInstances', name: this.localePipe.transform(\"app.processDesigner.nrOfActiveInstances\"), description: this.localePipe.transform(\"app.processDesigner.nrOfActiveInstances\")},\r\n    {key: 'nrOfForward', name: this.localePipe.transform(\"app.processDesigner.nrOfForward\"), description: this.localePipe.transform(\"app.processDesigner.nrOfForward\")},\r\n    {key: 'nrOfBackward', name: this.localePipe.transform(\"app.processDesigner.nrOfBackward\"), description: this.localePipe.transform(\"app.processDesigner.nrOfBackward\")},\r\n    {key: 'nrOfAbort', name: this.localePipe.transform(\"app.processDesigner.nrOfAbort\"), description: this.localePipe.transform(\"app.processDesigner.nrOfAbort\")}\r\n    ];\r\n\r\n  /**\r\n   * 活动构件参数上下文\r\n   */\r\n  activityComponentContext: VarEntity[] = [\r\n    {\r\n      key: 'conclusionType',\r\n      name: this.localePipe.transform(\"app.processDesigner.conclusionType\"),\r\n      description: this.localePipe.transform(\"app.processDesigner.conclusionTypeTips\")\r\n    }, {\r\n      key: 'conclusionValue',\r\n      name: this.localePipe.transform(\"app.processDesigner.conclusionValue\"),\r\n      description: this.localePipe.transform(\"app.processDesigner.conclusionValueTips\")\r\n    }];\r\n  processVariableContext: VarEntity[] = new Array();\r\n\r\n  private processVariables = new Array();\r\n\r\n  set ProcessVariables(variables: any[]) {\r\n    this.processVariables = variables;\r\n    this.setProcessVariableContext();\r\n  }\r\n\r\n  get ProcessVariables() {\r\n    return this.processVariables;\r\n  }\r\n\r\n  /**\r\n   * 汇报级次\r\n   */\r\n  dimensions = [\r\n    {value: 'directSuperior', text: this.localePipe.transform(\"app.processDesigner.directSuperior\")},\r\n    {value: 'higherSuperior', text: this.localePipe.transform(\"app.processDesigner.higherSuperior\")}\r\n  ];\r\n\r\n  /**\r\n   * 启动方式\r\n   */\r\n  startModeIterator: KeyMap[] = [\r\n    {key: 'DIRECT', value: this.localePipe.transform(\"app.processDesigner.DIRECT\")},\r\n    {key: 'EXTERNAL_PROCESS', value: this.localePipe.transform(\"app.processDesigner.EXTERNAL_PROCESS\")},\r\n    {key: 'SUB_PROCESS', value: this.localePipe.transform(\"app.processDesigner.SUB_PROCESS\")}\r\n  ];\r\n\r\n  /**\r\n   * 显示终端\r\n   */\r\n  displayTerminal: KeyMap[] = [\r\n    {key: \"ALL\", value: this.localePipe.transform(\"app.processDesigner.ALL\")},\r\n    {key: \"WEB\", value: this.localePipe.transform(\"app.processDesigner.WEB\")},\r\n    {key: \"APP\", value: this.localePipe.transform(\"app.processDesigner.APP\")}\r\n  ];\r\n\r\n  /**\r\n   * 消息渠道列表\r\n   */\r\n  messageChannels = new Array();\r\n\r\n  orgTypeCollection: { value, text }[] = [];\r\n\r\n  variableContextName(key: string) {\r\n    return this.participantContext.find(i => i.key === key).name;\r\n  }\r\n\r\n  ranksName(value: string) {\r\n    return this.dimensions.find(i => i.value === value).text;\r\n  }\r\n\r\n  getMessageChannels() {\r\n    const url = '/api/runtime/msg/v1.0/messageplatform/channel/getenabledchannels';\r\n    this.http.get(url).subscribe((re: any) => {\r\n      this.messageChannels = re;\r\n    });\r\n  }\r\n\r\n  getAdministratorInfo() {\r\n    this.getCurrentUser().subscribe(user => {\r\n      const userId = user.userId;\r\n      forkJoin(this.getAdministratorConfig(), this.getAdministrator(userId)).subscribe(re => {\r\n        this.isAdministratorConfig = re[0].currentValue === 'true' ? true : false;\r\n        this.administrator = re[1];\r\n      });\r\n    });\r\n  }\r\n\r\n  getEnableAdminOrgAut(): Observable<any> {\r\n    return this.getEnableProcessDesignerDataAut('WF_AdminOrg');\r\n  }\r\n\r\n  getEnableFlowFormAut(): Observable<any> {\r\n      return this.getEnableProcessDesignerDataAut('WF_FlowForm');\r\n  }\r\n\r\n  private getEnableProcessDesignerDataAut(authField: string): Observable<any> {\r\n    const url = '/api/runtime/wf/v1.0/dtProcDefs/enableProcessDesignerDataAut/' + authField;\r\n    return this.http.get(url);\r\n  }\r\n\r\n  private getCurrentUser(): Observable<any> {\r\n    const url = '/api/runtime/sys/v1.0/userinfos?infoType=user';\r\n    return this.http.get(url);\r\n  }\r\n\r\n  private getAdministrator(userId: string): Observable<any> {\r\n    const url = `/api/runtime/wf/v1.0/processAdministrator/${userId}`;\r\n    return this.http.get(url);\r\n  }\r\n\r\n  public getReleaseConfig(): Observable<any> {\r\n    const url = `/api/runtime/wf/v1.0/generalConfig/Is_Enable_Examine`;\r\n    return this.http.get(url);\r\n  }\r\n  private getAdministratorConfig(): Observable<any> {\r\n    const url = `/api/runtime/wf/v1.0/generalConfig/Is_EnableAdministrator`;\r\n    return this.http.get(url);\r\n  }\r\n  private getSysOrgById(orgId: string): Observable<any> {\r\n    const url = `/api/runtime/sys/v1.0/sysOrgs/${orgId}`;\r\n    return this.http.get(url);\r\n  }\r\n\r\n  private getSysOrgWithAllSubsById(orgId: string): Observable<any> {\r\n    const url = `/api/runtime/sys/v1.0/sysOrgs?param=` + encodeURIComponent(`{\"parentId\":\"${orgId}\",\"withAllSub\":true}`);\r\n    return this.http.get(url);\r\n  }\r\n\r\n  private getCurUserInfo(userId: string): Observable<any> {\r\n    const url = `/api/runtime/sys/v1.0/users/${userId}`;\r\n    return this.http.get(url);\r\n  }\r\n\r\n  getOrgConfig(): Observable<any> {\r\n    const url = `/api/runtime/wf/v1.0/generalConfig/Is_Required_Organization`;\r\n    return this.http.get(url);\r\n  }\r\n  /**\r\n   * 获取当前用户信息\r\n   */\r\n  getUserInfo(): Observable<any> {\r\n    const url = `/api/runtime/sys/v1.0/userinfos?infoType=user`;\r\n    return this.http.get(url);\r\n  }\r\n  /**\r\n   * 流程审核：新增\r\n   */\r\n  createData(): Observable<any> {\r\n    const url = `/api/bpms/wf/v1.0/processrelease_frm`;\r\n    const requestInfo = {\r\n      dataChange: [],\r\n      variableChange: null\r\n    };\r\n    return this.http.post(url, requestInfo);\r\n  }\r\n  /**\r\n   * 流程审核：保存\r\n   */\r\n  releaseSave(data: any): Observable<any> {\r\n    const requestInfo = {\r\n      dataChange: [data],\r\n      variableChange: null\r\n    };\r\n    const url = `/api/bpms/wf/v1.0/processrelease_frm`;\r\n    return this.http.put(url, requestInfo);\r\n  }\r\n  private setProcessVariableContext() {\r\n    this.processVariableContext = new Array();\r\n    if (this.ProcessVariables && this.ProcessVariables.length > 0) {\r\n      for (const v of this.ProcessVariables) {\r\n        const varEntity = {\r\n          key: v.name,\r\n          name: v.documentation,\r\n          description: v.description\r\n        };\r\n        this.processVariableContext.push(varEntity);\r\n      }\r\n    }\r\n  }\r\n\r\n\r\n  getHelpMetaData(helpId: string, su: string): Observable<any> {\r\n    const url = `/api/runtime/lcm/v1.0/rt-metadatas/${helpId}`;\r\n    return this.http.get(url);\r\n  }\r\n\r\n  /**\r\n   * 获取框架的顶级window\r\n   * 进行跨域封装\r\n   */\r\n  private getTopWindow(): Window {\r\n    let curWin: Window = window.self;\r\n    try {\r\n        while (curWin.location.origin === curWin.parent.location.origin) {\r\n            if (curWin !== curWin.parent && !(curWin as any).isRTFTopWin) {\r\n                curWin = curWin.parent;\r\n            } else {\r\n                break;\r\n            }\r\n        }\r\n    } catch (e) { }\r\n    return curWin;\r\n  }\r\n\r\n  // --------------------------0-------------------------\r\n\r\n  // uiState初始\r\n  initUIState() {\r\n    this.propertyConfig = [];\r\n    this.propertyData = null;\r\n    this.content = '';\r\n    this.schemas = [];\r\n  }\r\n\r\n  /**\r\n   * 获取所有审批节点信息\r\n   * @param data\r\n   */\r\n  getUserActList(data: any[]) {\r\n    this.userActList = [];\r\n    if (data && data.length > 0) {\r\n      for (const userAct of data) {\r\n        const userActInfo: any = {\r\n          Id: userAct.Id,\r\n          Name: userAct.NameLanguage ? (userAct.NameLanguage[this.localePipe.langCode] ? userAct.NameLanguage[this.localePipe.langCode] : userAct.Name) : userAct.Name,\r\n          ClrTypeID: userAct.ClrTypeID,\r\n          AssignmentStrategy: userAct.AssignmentStrategy\r\n        };\r\n        if (userAct.AssignmentStrategy === 'ASSIGN') {\r\n          userActInfo.AssignPerformerConfig = userAct.AssignPerformerConfig;\r\n        }\r\n        this.userActList.push(userActInfo);\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取所有结束节点信息\r\n   * @param data\r\n   */\r\n     getEndEventList(data: any[]) {\r\n      this.allActList = [];\r\n      if (data && data.length > 0) {\r\n        for (const endEvent of data) {\r\n          const endEventInfo = {\r\n            Id: endEvent.Id,\r\n            Name: endEvent.Name\r\n          };\r\n          // 取结束节点存到\r\n          this.allActList.push(endEventInfo);\r\n        }\r\n      }\r\n      // // 存入审批活动节点\r\n      // this.allActList = this.allActList.concat(this.userActList);\r\n    }\r\n\r\n  /**\r\n   * 获取所有知会活动节点信息\r\n   * @param data\r\n   */\r\n   getNotifyEventList(data: any[]) {\r\n    this.NotifyActKist = [];\r\n    if (data && data.length > 0) {\r\n      for (const notifyEvent of data) {\r\n        const notifyEventInfo = {\r\n          Id: notifyEvent.Id,\r\n          Name: notifyEvent.Name\r\n        };\r\n        // 取知会活动，消息节点存到\r\n        this.NotifyActKist.push(notifyEventInfo);\r\n      }\r\n    }\r\n  }\r\n  //TODO: 只有审批\\审批+人工\\审批+人工+知会\\审批、人工、子流程、信号捕获\r\n  /**\r\n   * 获取所有消息节点信息\r\n   * @param data\r\n   */\r\n   getMessageEventList(data: any[]) {\r\n    this.MessageActList = [];\r\n    if (data && data.length > 0) {\r\n      for (const messageEvent of data) {\r\n        const messageEventInfo = {\r\n          Id: messageEvent.Id,\r\n          Name: messageEvent.Name\r\n        };\r\n        // 取知会活动，消息节点存到\r\n        this.MessageActList.push(messageEventInfo);\r\n      }\r\n    }\r\n    // 存入审批活动节点\r\n    this.MessageActList = this.MessageActList.concat(this.NotifyActKist);\r\n    // 存入审批活动节点\r\n    this.MessageActList = this.MessageActList.concat(this.userActList);\r\n  }\r\n  /**\r\n   * @param data\r\n   */\r\n  getSubAndCatchEventsList(data: any[]) {\r\n    this.SubAndCatchActList = [];\r\n    if (data && data.length > 0) {\r\n      for (const subAndCatchEvent of data) {\r\n        const subAndCatEventInfo = {\r\n          Id: subAndCatchEvent.Id,\r\n          Name: subAndCatchEvent.Name\r\n        };\r\n        // 取知会活动，消息节点存到\r\n        this.SubAndCatchActList.push(subAndCatEventInfo);\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取当前流程启动方式\r\n   * @param data\r\n   */\r\n  getStartMode(data: any) {\r\n    this.startMode = data;\r\n  }\r\n\r\n  /**\r\n   * 添加上下文变量\r\n   */\r\n  addContext(context: any[]) {\r\n    if (this.procInstContext.length > 0) {\r\n      for (const variable of this.procInstContext) {\r\n        context.push(variable);\r\n      }\r\n    }\r\n    if (this.formalParameterContext.length > 0) {\r\n      for (const variable of this.formalParameterContext) {\r\n        if (!context.some(c => c.key === variable.key)) {\r\n          context.push(variable);\r\n        }\r\n      }\r\n    }\r\n    if (this.participantContext.length > 0) {\r\n      for (const variable of this.participantContext) {\r\n        if (!context.some(c => c.key === variable.key)) {\r\n          context.push(variable);\r\n        }\r\n      }\r\n    }\r\n    if (this.processVariableContext.length > 0) {\r\n      for (const variable of this.processVariableContext) {\r\n        if (!context.some(c => c.key === variable.key)) {\r\n          context.push(variable);\r\n        }\r\n      }\r\n    }\r\n    return context;\r\n  }\r\n}\r\n\r\n\r\n","import { Injectable } from '@angular/core';\r\nimport { BpmnModelHelper } from '@edp-pmf/bpmn-model';\r\n\r\n@Injectable()\r\n\r\nexport class ProcessDeUtil {\r\n  \r\n    public funcId: string;\r\n    constructor() { }\r\n\r\n    static GenerateElementId(): string {\r\n      return BpmnModelHelper.GenerateElementId();\r\n    }\r\n    /**\r\n     * 创建内码\r\n     */\r\n    static createNM() {\r\n        function S4() {\r\n            return (((1 + Math.random()) * 0x10000) | 0).toString(16).substring(1);\r\n        }\r\n        return (S4() + S4() + '-' + S4() + '-' + S4() + '-' + S4() + '-' + S4() + S4() + S4());\r\n    }\r\n\r\n    static initVariableType(value): string {\r\n        if (value) {\r\n            if (value.length >= 8 && value.slice(0, 8) === `{\"expr\":`) {\r\n                return 'expression';\r\n            } else {\r\n                return 'constant';\r\n            }\r\n        } else {\r\n            return 'variable';\r\n        }\r\n    }\r\n\r\n    getProcessDesignerRouter() {\r\n        const url = 'processList';\r\n        return url;\r\n    }\r\n    // 获取流程分类webapi\r\n    getFlowFormWebApi() {\r\n        return '/api/runtime/wf/v1.0/flowForm';\r\n    }\r\n    // 获取参数列表webapi\r\n    getFormalParametersWebApi() {\r\n        return '/api/runtime/wf/v1.0/formalParameter';\r\n    }\r\n    // 获取运行时元数据webapi\r\n    getMetaDataRUWebApi() {\r\n        return '/api/runtime/lcm/v1.0/rt-metadatas/';\r\n    }\r\n    // 获取流程构件webapi\r\n    getBizComponentsWebApi() {\r\n        return '/api/runtime/wf/v1.0/bizComponent';\r\n    }\r\n    // 基于流程分类获取表单定义\r\n    getExcuteFormsWebApi() {\r\n        return '/api/runtime/wf/v1.0/excuteForm';\r\n    }\r\n    // 获取设计时流程定义WebAPi\r\n    getProcessDefinitionWebApi() {\r\n        return '/api/runtime/wf/v1.0/dtProcDefs';\r\n    }\r\n\r\n    // 判断是否允许删除流程定义的api\r\n    getCheckExistActiveProcDefApi() {\r\n        return '/api/runtime/wf/v1.0/procDefs/checkExistActiveProcDef';\r\n    }\r\n    /**\r\n     * 获取业务活动webApi\r\n     */\r\n    getBizActivityWebApi(ffId: string) {\r\n        return `/api/runtime/wf/v1.0/bizActivity?flowFormKey=${ffId}`;\r\n    }\r\n\r\n    getProcDefKeyWebApi() {\r\n        return '/api/runtime/wf/v1.0/procDefs/processDefinitionKeys';\r\n    }\r\n    /**\r\n     * 发布流程api\r\n     */\r\n    deployWebApi() {\r\n        return '/api/runtime/wf/v1.0/procDefs/deploy';\r\n    }\r\n    /**\r\n     * 保存流程api\r\n     */\r\n    saveWebApi() {\r\n        return '/api/runtime/wf/v1.0/DTProcessDefinitions/SaveBpmnModel';\r\n    }\r\n    /**\r\n     * 获取审批动作webapi\r\n     */\r\n    getApprovalActionWebApi() {\r\n        return '/api/runtime/wf/v1.0/approvalAction';\r\n    }\r\n\r\n    /**\r\n     * 获取运行时流程定义WebAPi\r\n     */\r\n    getRTProcessDefinitionWebApi() {\r\n        return '/api/runtime/wf/v1.0/procDefs';\r\n    }\r\n\r\n    getValue(data: any, code: string): string {\r\n        if (!code) {\r\n            return '';\r\n        }\r\n        let resultVal = '';\r\n        if (code.indexOf('.') === -1) {\r\n            resultVal = data[code];\r\n        } else {\r\n            resultVal = code.split('.').reduce((obj, key) => {\r\n                if (obj) {\r\n                    return obj[key];\r\n                } else {\r\n                    return null;\r\n                }\r\n            }, data);\r\n        }\r\n        return resultVal;\r\n    }\r\n    /**\r\n     * 转换\r\n     * @param jsonObj Object\r\n     */\r\n    toUpperCase(jsonObj: Object): any {\r\n        if (typeof (jsonObj) === 'object') {\r\n            for (const key of Object.keys(jsonObj)) {\r\n                jsonObj[key.substring(0, 1).toUpperCase() + key.substring(1)] = jsonObj[key];\r\n                delete (jsonObj[key]);\r\n            }\r\n        }\r\n        return jsonObj;\r\n    }\r\n    toLowCase(jsonObj: Object): any {\r\n        if (typeof (jsonObj) === 'object') {\r\n            for (const key of Object.keys(jsonObj)) {\r\n                if ((key.substring(0, 1).toLowerCase() + key.substring(1)) !== key) {\r\n                    jsonObj[key.substring(0, 1).toLowerCase() + key.substring(1)] = jsonObj[key];\r\n                    delete (jsonObj[key]);\r\n                }\r\n            }\r\n        }\r\n        return jsonObj;\r\n    }\r\n}\r\n","import { Injectable, Injector } from '@angular/core';\r\nimport { HttpService } from '@ecp-caf/caf-common';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport { map, mergeMap, switchMap } from 'rxjs/operators';\r\nimport { forkJoin } from 'rxjs/observable/forkJoin';\r\nimport { of } from 'rxjs/observable/of';\r\nimport { ProcessDeUtil } from './process-de-util';\r\nimport { AuditProcessDefInfo } from './entities/audit-processDef-info';\r\nimport { ProcessInfo } from '../model/process-info';\r\nimport { RTProcessInfo } from '../model/rt-process-info';\r\n\r\n@Injectable()\r\nexport class ProcessDesignerDataService {\r\n    constructor(\r\n        private http: HttpService,\r\n        private util: ProcessDeUtil) { }\r\n\r\n    // 基于流程分类ID获取流程分类信息\r\n    GetFlowFormbyId(id: string): Observable<any> {\r\n        if (id) {\r\n            let url = this.util.getFlowFormWebApi() + '/getFlowForm';\r\n            url += `/${id}`;\r\n            return this.http.get(url);\r\n        }\r\n    }\r\n    // 基于流程分类获取参数列表\r\n    getParametersbyFlowFormKey(id: string): Observable<any> {\r\n        if (id) {\r\n            let url = this.util.getFormalParametersWebApi();\r\n            url += `?flowFormKey=${id}`;\r\n            return this.http.get(url);\r\n        }\r\n    }\r\n    // 基于流程分类获取流程构件\r\n    getComponentsbyFlowformkey(id: string): Observable<any> {\r\n        if (id) {\r\n            let url = this.util.getBizComponentsWebApi();\r\n            url += `/query?param=` + encodeURIComponent(`{\"flowFormKey\":\"${id}\"}`);\r\n            return this.http.get(url);\r\n        }\r\n    }\r\n    // 基于流程分类获取表单定义\r\n    getExecuteFormbyFlowFormKey(id: string): Observable<any> {\r\n        if (id) {\r\n            let url = this.util.getExcuteFormsWebApi();\r\n            url += `?flowFormKey=${id}`;\r\n            return this.http.get(url);\r\n        }\r\n    }\r\n    /**\r\n     * 基于流程分类Id获取业务活动\r\n     * @param ffId 流程分类id\r\n     */\r\n    getBizActivities(ffId: string) {\r\n        if (ffId) {\r\n            const url = this.util.getBizActivityWebApi(ffId);\r\n            return this.http.get(url);\r\n            // .pipe(\r\n            //     map((re: any) => re),\r\n            //     mergeMap((activities: any[]) => {\r\n            //         if (activities && activities.length > 0) {\r\n            //             return forkJoin(activities.map(activity => {\r\n            //                 return forkJoin(this.getBizActivityComponents(ffId, activity.id),\r\n            //                     this.getBizActivityActions(activity.id))\r\n            //                     .pipe(\r\n            //                         map((re: any[]) => {\r\n            //                             activity.components = re[0];\r\n            //                             activity.actions = re[1];\r\n            //                             return activity;\r\n            //                         }));\r\n            //             }));\r\n            //         } else {\r\n            //             return of([]);\r\n            //         }\r\n            //     })\r\n            // );\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 基于流程分类ID获取自定义动作\r\n     * @param formId 流程分类ID\r\n     */\r\n    getCustomizeActions(formId: string): Observable<any> {\r\n        if (formId) {\r\n            const url = `/api/runtime/wf/v1.0/customizeAction?flowFormKey=${formId}`;\r\n            return this.http.get(url);\r\n        }\r\n    }\r\n    /**\r\n     * 基于业务活动id获取业务活动构件\r\n     * @param id 业务活动id\r\n     */\r\n    private getBizActivityComponents(flowFormId: string, id: string) {\r\n        if (id) {\r\n            let url = this.util.getBizComponentsWebApi();\r\n            url += `/query?param=` + encodeURIComponent(`{\"flowFormKey\":\"${flowFormId}\",\"owner\":\"${id}\",\"ownerType\":\"Activity\"}`);\r\n            return this.http.get(url);\r\n        }\r\n    }\r\n    private getBizActivityActions(id: string) {\r\n        if (id) {\r\n            let url = this.util.getApprovalActionWebApi();\r\n            url += `?bizActivityId=${id}`;\r\n\r\n            return this.http.get(url);\r\n        }\r\n    }\r\n    // 基于ID获取BE\r\n    getBusinessEntitybyId(id: string): Observable<any> {\r\n        if (id) {\r\n            // let url = this.util.getMetaDataRUWebApi();\r\n            // url += id;\r\n            // const url = `/api/runtime/lcm/v1.0/bef/handledBeMeta?beId=${id}`;\r\n            const url = `/api/runtime/lcm/v1.0/bef/expression?beId=${id}`;\r\n            return this.http.get(url);\r\n        }\r\n    }\r\n    /**\r\n     * 基于流程定义Key获取上下文\r\n     * @param key 流程定义key\r\n     */\r\n    getProcContentbyKey(key: string): Observable<any> {\r\n        if (key) {\r\n            let url = this.util.getProcessDefinitionWebApi();\r\n            url += `/bpmnModel?procDefKey=${key}`;\r\n            return this.http.get(url);\r\n        }\r\n    }\r\n    /**\r\n     * 基于流程定义Key获取上下文\r\n     * @param key 流程定义Id\r\n     */\r\n    getRTProcContentbyId(id: string): Observable<any> {\r\n        if (id) {\r\n            let url = this.util.getRTProcessDefinitionWebApi();\r\n            url += `/${id}/bpmnModel`;\r\n            return this.http.get(url);\r\n        }\r\n    }\r\n    /**\r\n     * 保存流程\r\n     * @param content\r\n     */\r\n    saveProcess(content: string, processInfo: ProcessInfo, state: number): Observable<any> {\r\n        if (content) {\r\n            const postData = {\r\n                organization: processInfo.procOrg ? processInfo.procOrg.orgId : '',\r\n                organizationName: processInfo.procOrg ? processInfo.procOrg.orgName : '',\r\n                accessLevel: processInfo.accessLevel,\r\n                procContent: content,\r\n                state\r\n            };\r\n            const url = this.util.getProcessDefinitionWebApi();\r\n            return this.http.post(url, JSON.stringify(postData));\r\n        }\r\n    }\r\n\r\n    auditProcessDef(info: AuditProcessDefInfo) {\r\n        const url = '/api/runtime/wf/v1.0/dtProcDefs/auditProcessDef';\r\n        this.http.post(url, info).subscribe(re => { });\r\n    }\r\n\r\n    /**\r\n     * 发布流程\r\n     * @param content\r\n     */\r\n    deployProcess(content: string): Observable<any> {\r\n        if (content) {\r\n            const postData = {\r\n                procDefContent: content\r\n            };\r\n            const url = this.util.deployWebApi();\r\n            return this.http.post(url, JSON.stringify(postData));\r\n        }\r\n    }\r\n\r\n    saveRTProcess(content: string, procDefId: string): Observable<any> {\r\n        if (content) {\r\n            const postData = {\r\n                procDefContent: content\r\n            };\r\n            let url = this.util.getRTProcessDefinitionWebApi();\r\n            url += `/${procDefId}/adjust`;\r\n            return this.http.post(url, JSON.stringify(postData));\r\n        }\r\n    }\r\n\r\n    syncDtProcess(content: string, rtProcessInfo: RTProcessInfo): Observable<any> {\r\n        if (content) {\r\n            const postData = {\r\n                organization: rtProcessInfo.procOrg ? rtProcessInfo.procOrg.orgId : '',\r\n                organizationName: rtProcessInfo.procOrg ? rtProcessInfo.procOrg.orgName : '',\r\n                accessLevel: rtProcessInfo.accessLevel || 'public',\r\n                procContent: content,\r\n                state: 0\r\n            };\r\n            const url = '/api/runtime/wf/v1.0/dtProcDefs';\r\n            return this.http.post(url, JSON.stringify(postData));\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 获取流程扩展属性\r\n     * @param bizDefKey\r\n     * @param startMode\r\n     * @param bizCategoryId\r\n     * @returns\r\n     */\r\n    getProcExtendProperty(bizDefKey: string, startMode: string, bizCategoryId: string) {\r\n        let filter = '{';\r\n        filter += `\"bizDefKey\":\"${bizDefKey}\",`;\r\n        filter += `\"bizCategoryId\":\"${bizCategoryId}\",`;\r\n        filter += `\"startMode\":\"${startMode}\"`;\r\n        filter += '}';\r\n        filter = encodeURIComponent(filter);\r\n        const url = `/api/runtime/wf/v1.0/procExtendProperty?param=${filter}`;\r\n        return this.http.get(url);\r\n    }\r\n\r\n    /**\r\n     * 获取流程构件\r\n     * @returns\r\n     */\r\n    getBizCmp() {\r\n        const url = `/api/runtime/wf/v1.0/bizComponent?flowFormKey=*&owner=*&ownerType=Process`;\r\n        return this.http.get(url);\r\n    }\r\n\r\n    /**\r\n     * 获取全部流程构件\r\n     * @param flowFormKey\r\n     * @returns\r\n     */\r\n    getAllBizCmp(flowFormKey) {\r\n        const url = `/api/runtime/wf/v1.0/bizComponent?flowFormKey=${flowFormKey}&owner=${flowFormKey}&ownerType=Process`;\r\n        return this.http.get(url);\r\n    }\r\n\r\n    /**\r\n     * 获取表单格式\r\n     */\r\n    getFormFormat(bizCategoryId: string) {\r\n        if (bizCategoryId == null) {\r\n            return of(null);\r\n        }\r\n        const url = `/api/runtime/wf/v1.0/formFormat/query?param=%7B%22bizCategory%22%3A%22${bizCategoryId}%22%7D`;\r\n        return this.http.get(url);\r\n    }\r\n\r\n    /**\r\n     * 获取配置\r\n     * @returns\r\n     */\r\n    getGeneralConfig() {\r\n        return this.http.get(\"/api/runtime/wf/v1.0/generalConfig/Is_EnableTransfer\").pipe(\r\n            switchMap((enableTransfer: any) => {\r\n                return this.http.get(\"/api/runtime/wf/v1.0/generalConfig/Is_EnableNotify\").pipe(\r\n                    switchMap((enableNotify: any) => {\r\n                        return this.http.get(\"/api/runtime/wf/v1.0/generalConfig/Is_EnableAddSignBehind\").pipe(\r\n                            switchMap((enableAddSignBehind: any) => {\r\n                                return this.http.get(\"/api/runtime/wf/v1.0/generalConfig/Is_EnableAddSignFront\").pipe(\r\n                                    switchMap((enableAddSignFront: any) => {\r\n                                        const res = {\r\n                                            enableTransfer: JSON.parse(enableTransfer.currentValue),\r\n                                            enableNotify: JSON.parse(enableNotify.currentValue),\r\n                                            enableAddSignBehind: JSON.parse(enableAddSignBehind.currentValue),\r\n                                            enableAddSignFront: JSON.parse(enableAddSignFront.currentValue)\r\n                                        };\r\n                                        return of(res);\r\n                                    })\r\n                                );\r\n                            })\r\n                        );\r\n                    })\r\n                );\r\n            })\r\n        );\r\n    }\r\n}\r\n","export enum ProcessClrTypeID {\r\n    /**\r\n     * 流程typeId\r\n     */\r\n    process = 'bpmn.Process',\r\n    /**\r\n     * 开始活动typeId\r\n     */\r\n    startActivity = 'wf.StartActivity',\r\n    /**\r\n     * 活动节点typeId\r\n     */\r\n    userActivity = 'wf.UserActivity',\r\n    /**\r\n     * 人工操作typeId\r\n     */\r\n    operationActivity = 'wf.OperationActivity',\r\n    /**\r\n     * 结束活动typeId\r\n     */\r\n    endEvent = 'bpmn.EndEvent',\r\n    /**\r\n     * 流转线typeId\r\n     */\r\n    sequenceFlow = 'bpmn.SequenceFlow',\r\n    /**\r\n     * 排他网关typeId\r\n     */\r\n    exclusiveGateway = 'bpmn.ExclusiveGateway',\r\n    /**\r\n     * 并行网关typeId\r\n     */\r\n    parallelGateway = 'bpmn.ParallelGateway',\r\n\r\n    /**\r\n     * 子流程\r\n     */\r\n    subProcess = 'wf.CallActivitySubProcess',\r\n\r\n    /**\r\n     * 服务活动\r\n     */\r\n    autoActivity = 'wf.AutoActivity',\r\n\r\n    /**\r\n     * 信号捕获\r\n     */\r\n    catchEvent = 'wf.IntermediateCatchEventImpl',\r\n\r\n    /**\r\n     * 消息\r\n     */\r\n    messageActivity = 'wf.MessageActivity',\r\n\r\n    /**\r\n     * 知会活动\r\n     */\r\n    notifyActivity = \"wf.NotifyActivity\",\r\n\r\n    /**\r\n     * 生单活动\r\n     */\r\n    aifCreationBillActivity = \"wf.AifCreationBillActivity\",\r\n\r\n    billNodeActivity = \"wf.AifBillNodeActivity\",\r\n\r\n    sequenceActivity = \"wf.AifSequenceActivity\",\r\n}\r\n","import { Component, OnInit, Output, Input, ViewChild, EventEmitter, TemplateRef, AfterViewInit, ChangeDetectorRef, Optional, LOCALE_ID, Inject } from '@angular/core';\r\nimport { DataTableComponent } from '@farris/ui-datatable';\r\nimport { TypeConverter } from '@farris/ide-property-panel';\r\nimport { HttpService } from '@ecp-caf/caf-common';\r\nimport { DatagridComponent } from '@farris/ui-datagrid';\r\nimport { MessagerService } from '@farris/ui-messager';\r\nimport { WF_LANG_RESOURCES, WfLocalePipe } from '../../i18n/pipe/wf-process-editor-locale.pipe';\r\nimport { WF_PROCESS_EDITOR_LANG_RESOURCES } from '../../i18n/assets/lang.resource';\r\n\r\n@Component({\r\n  selector: 'app-entry-form-editor',\r\n  templateUrl: './entry-form-editor.component.html',\r\n  styleUrls: ['./entry-form-editor.component.css'],\r\n  providers: [\r\n     WfLocalePipe,\r\n  ]\r\n})\r\nexport class EntryFormEditorComponent implements OnInit, AfterViewInit {\r\n\r\n  @Output() closeModal = new EventEmitter<any>();\r\n  @Output() submitModal = new EventEmitter<any>();\r\n\r\n  @Input()\r\n  set value(data: any) {\r\n    if (data) {\r\n      this.flowFormId = data.id;\r\n    }\r\n  }\r\n\r\n  @ViewChild('iconSelectFooter') modalFooter: TemplateRef<any>;\r\n\r\n  @ViewChild('grid') grid: DatagridComponent;\r\n\r\n  @Input() editorParams: any = {};\r\n\r\n  private flowFormId: string;\r\n  modalConfig = {\r\n    title: this.localePipe.transform('component.entryFormEditor.flowForm'),\r\n    width: 760,\r\n    height: 506,\r\n    showButtons: true\r\n  };\r\n\r\n  columns = [\r\n    { title: this.localePipe.transform('component.entryFormEditor.code'), field: 'code', width: 100, sortable: true },\r\n    { title: this.localePipe.transform('component.entryFormEditor.name'), field: 'name', width: 100, sortable: true },\r\n    { title: this.localePipe.transform('component.entryFormEditor.base'), field: 'base', width: 60,\r\n    formatter: { type: 'boolean', options: { trueText: this.localePipe.transform('component.entryFormEditor.extend'), falseText: this.localePipe.transform('component.entryFormEditor.foundation') } }}\r\n  ];\r\n\r\n  data = [];\r\n\r\n  constructor(\r\n    private http: HttpService,\r\n    private message: MessagerService,\r\n    @Optional() private cdr: ChangeDetectorRef,\r\n    @Inject(LOCALE_ID) private localeId: string,\r\n    @Inject(WF_LANG_RESOURCES) private resources: any,\r\n    @Optional() private localePipe: WfLocalePipe,\r\n  ) {\r\n    this.localePipe = this.localePipe || new WfLocalePipe(localeId, resources);\r\n   }\r\n\r\n  ngOnInit() {\r\n    this.getBaseAndExtendFlowForm();\r\n  }\r\n  ngAfterViewInit() {\r\n  }\r\n\r\n  clickOK() {\r\n    if (!this.grid.selectedRow) {\r\n      this.message.info(this.localePipe.transform('component.entryFormEditor.selectedRow'));\r\n      return;\r\n    }\r\n    const object = { value: this.grid.selectedRow.data, parameters: null };\r\n    this.submitModal.emit(object);\r\n  }\r\n\r\n  clickCancel() {\r\n    this.closeModal.emit();\r\n  }\r\n\r\n  private getBaseAndExtendFlowForm() {\r\n    if (this.flowFormId) {\r\n      const url = `/api/runtime/wf/v1.0/flowForm/${this.flowFormId}/baseAndExtend`;\r\n      this.http.get(url).subscribe((re: any) => {\r\n        if (re && re.length > 0) {\r\n          this.data = re;\r\n          setTimeout(() => {\r\n            this.grid.selectRow(this.flowFormId, true);\r\n          }, 0);\r\n        } else {\r\n          this.message.info(this.localePipe.transform('component.entryFormEditor.absent'));\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n}\r\nexport class FlowFormConverter implements TypeConverter {\r\n  constructor() { }\r\n\r\n  convertTo(data): string {\r\n    if (data) {\r\n      return data.name;\r\n    }\r\n  }\r\n}\r\n\r\n\r\n\r\n\r\n","import { Injectable } from '@angular/core';\r\nimport { BizComponentEntity } from '../../domain/entities/biz-component.entity';\r\nimport { ActualParameter } from '../../domain/entities/actual-parameter';\r\nimport { WfLocalePipe } from '../../i18n/pipe/wf-process-editor-locale.pipe';\r\n\r\n@Injectable()\r\n\r\nexport class ActivityComponentUIState {\r\n    constructor(\r\n        private localePipe: WfLocalePipe\r\n    ) { }\r\n    /**\r\n     * 构件列表\r\n     */\r\n    components: BizComponentEntity[] = [];\r\n    /**\r\n     * 选中构件\r\n     */\r\n    curComponent: BizComponentEntity;\r\n    /**\r\n     * 流程分类绑定的所有活动构件\r\n     */\r\n    allComponents: BizComponentEntity[] = [];\r\n    /**\r\n     * 构件执行时机数据绑定\r\n     */\r\n    public executionCollection = [\r\n        // { text: '流程创建', value: 'PROCESSINSTANCE_CREATED' },\r\n        { text: this.localePipe.transform(\"component.activityComponent.PROCESSINSTANCE_STARTED\"), value: 'PROCESSINSTANCE_STARTED' },\r\n        { text: this.localePipe.transform(\"component.activityComponent.PROCESSINSTANCE_SUSPENDED\"), value: 'PROCESSINSTANCE_SUSPENDED' },\r\n        { text: this.localePipe.transform(\"component.activityComponent.PROCESSINSTANCE_RESUMED\"), value: 'PROCESSINSTANCE_RESUMED' },\r\n        { text: this.localePipe.transform(\"component.activityComponent.PROCESSINSTANCE_COMPLETED\"), value: 'PROCESSINSTANCE_COMPLETED' },\r\n        { text: this.localePipe.transform(\"component.activityComponent.PROCESSINSTANCE_ABORTED\"), value: 'PROCESSINSTANCE_ABORTED' },\r\n        // { text: '流程预警', value: 'PROCESSINSTANCE_ALARM' },\r\n        // { text: '流程超时', value: 'PROCESSINSTANCE_TIMEOUT' },\r\n        // { text: '流程删除', value: 'PROCESSINSTANCE_DELETED' },\r\n        { text: this.localePipe.transform(\"component.activityComponent.PROCESSINSTANCE_CANCELED\"), value: 'PROCESSINSTANCE_CANCELED' },\r\n        { text: this.localePipe.transform(\"component.activityComponent.PROCESSINSTANCE_REACTIVATED\"), value: 'PROCESSINSTANCE_REACTIVATED' },\r\n        { text: this.localePipe.transform(\"component.activityComponent.PROCESSINSTANCE_ROLLBACK\"), value: 'PROCESSINSTANCE_ROLLBACK' },\r\n        { text: this.localePipe.transform(\"component.activityComponent.PROCESSINSTANCE_RESUBMIT\"), value: 'PROCESSINSTANCE_RESUBMIT' },\r\n        { text: this.localePipe.transform(\"component.activityComponent.ACTIVITY_AND_PARTICIPANT_UPDATED\"), value: 'ACTIVITY_AND_PARTICIPANT_UPDATED' },\r\n        { text: this.localePipe.transform(\"component.activityComponent.PROCESSINSTANCE_ABORTED_BY_ADMIN\"), value: 'PROCESSINSTANCE_ABORTED_BY_ADMIN' },\r\n        { text: this.localePipe.transform(\"component.activityComponent.PROCESSINSTANCE_BEFORE_START\"), value: 'PROCESSINSTANCE_BEFORE_START' },\r\n        { text: this.localePipe.transform(\"component.activityComponent.WORKITEM_BEFORE_COMPLETE\"), value: 'WORKITEM_BEFORE_COMPLETE' },\r\n        { text: this.localePipe.transform(\"component.activityComponent.WORKITEM_AFTER_COMPLETE\"), value: 'WORKITEM_AFTER_COMPLETE' },\r\n        { text: this.localePipe.transform(\"component.activityComponent.LOADDATA\"), value: 'LOADDATA' }\r\n    ];\r\n    activityCollection = [\r\n        // { text: '活动创建', value: 'ACTIVITY_CREATED' },\r\n        { text: this.localePipe.transform(\"component.activityComponent.ACTIVITY_STARTED\"), value: 'ACTIVITY_STARTED' },\r\n        // { text: '活动挂起', value: 'ACTIVITY_SUSPENDED' },\r\n        // { text: '活动恢复', value: 'ACTIVITY_RESUMED' },\r\n        { text: this.localePipe.transform(\"component.activityComponent.ACTIVITY_COMPLETED\"), value: 'ACTIVITY_COMPLETED' },\r\n        { text: this.localePipe.transform(\"component.activityComponent.ACTIVITY_ABORTED\"), value: 'ACTIVITY_ABORTED' },\r\n        { text: this.localePipe.transform(\"component.activityComponent.WORKITEM_CREATED\"), value: 'WORKITEM_CREATED' },\r\n        { text: this.localePipe.transform(\"component.activityComponent.WORKITEM_COMPLETED\"), value: 'WORKITEM_COMPLETED' },\r\n        { text: this.localePipe.transform(\"component.activityComponent.WORKITEM_SUSPENDED\"), value: 'WORKITEM_SUSPENDED' },\r\n        { text: this.localePipe.transform(\"component.activityComponent.WORKITEM_RESUMED\"), value: 'WORKITEM_RESUMED' },\r\n        { text: this.localePipe.transform(\"component.activityComponent.WORKITEM_ABORTED\"), value: 'WORKITEM_ABORTED' },\r\n        { text: this.localePipe.transform(\"component.activityComponent.WORKITEM_RETRIEVED\"), value: 'WORKITEM_RETRIEVED' },\r\n        { text: this.localePipe.transform(\"component.activityComponent.WORKITEM_CLAIMED\"), value: 'WORKITEM_CLAIMED' },\r\n        { text: this.localePipe.transform(\"component.activityComponent.WORKITEM_UNCLAIMED\"), value: 'WORKITEM_UNCLAIMED' },\r\n        { text: this.localePipe.transform(\"component.activityComponent.ACTIVITY_ASSIGNMENT\"), value: 'ACTIVITY_ASSIGNMENT' }\r\n    ];\r\n}\r\n","import { ActualParameter } from './actual-parameter';\r\nimport { ProcessDeUtil } from '../process-de-util';\r\n\r\nexport class BizComponentEntity {\r\n    constructor(name?: string, metadataid?: string, method?: string) {\r\n        this.id = ProcessDeUtil.GenerateElementId();\r\n        this.name = name;\r\n        this.metadataId = metadataid;\r\n        this.methodCode = method;\r\n        this.isForCompensation = false;\r\n    }\r\n    id: string;\r\n    name: string;\r\n    flowFormKey?: string;\r\n    bizActivityId?: string;\r\n    componentLocation?: ComponentLocation;\r\n    executionTime: string;\r\n    metadataId: string;\r\n    methodCode: string;\r\n    methodName?: string;\r\n    actualParameters: Array<ActualParameter>;\r\n    owner: string;\r\n    ownerType: OwnerType;\r\n    isForCompensation?: boolean;\r\n    condition?: string;\r\n    scopeType?: string;\r\n}\r\nexport enum ComponentLocation {\r\n    Process = 0,\r\n    Activity = 1\r\n}\r\nexport enum OwnerType {\r\n    Process = 'Process',\r\n    Activity = 'Activity',\r\n    Schema = 'Schema'\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { ActivityComponentUIState } from './activity-component.uistate';\r\nimport { HttpService } from '@ecp-caf/caf-common';\r\nimport { map } from 'rxjs/operators';\r\nimport { BizComponentEntity, ComponentLocation, OwnerType } from '../../domain/entities/biz-component.entity';\r\nimport { GspComponent } from '@gsp-cmp/common-component';\r\nimport { ActualParameter } from '../../domain/entities/actual-parameter';\r\nimport { Parameter } from '@ecp-caf/common-structure';\r\nimport { ProcessDesignerUIState } from '../../app/process-designer.uistate';\r\nimport { Subject } from 'rxjs';\r\nimport { ProcessDeUtil } from '../../domain/process-de-util';\r\n@Injectable()\r\n\r\nexport class ActivityComponentRepository {\r\n    private defaultProcessComponentIds = ['5863c8a8-e0a7-4137-a8b2-4c05e42b3b73', 'be781ba1-a88b-4bb8-9c88-2e2a27a9226e'];\r\n\r\n    subject: Subject<BizComponentEntity> = new Subject<BizComponentEntity>();\r\n    constructor(\r\n        private uistate: ActivityComponentUIState,\r\n        private util: ProcessDeUtil,\r\n        private http: HttpService,\r\n        private designerState: ProcessDesignerUIState,\r\n    ) { }\r\n\r\n    loadComponents(flowFormId: string, bizActId: string) {\r\n        let url = this.util.getBizComponentsWebApi();\r\n        if (bizActId) {\r\n            url += `/query?param=` + encodeURIComponent(`{\"flowFormKey\":\"${flowFormId}\",\"owner\":\"${bizActId}\",\"ownerType\":\"Activity\"}`);\r\n        } else {\r\n            this.uistate.allComponents = [];\r\n            return;\r\n        }\r\n        this.http.get(url).subscribe((data: any) => {\r\n            this.uistate.allComponents = data.filter((c: BizComponentEntity) => c.ownerType === OwnerType.Activity);\r\n        });\r\n    }\r\n    removeComponent(id: string) {\r\n        if (id) {\r\n            this.uistate.components = this.uistate.components.filter(c => c.id !== id);\r\n        }\r\n    }\r\n    addComponent(cpt: GspComponent) {\r\n        if (cpt) {\r\n            const component = new BizComponentEntity(cpt.name, cpt.id, cpt.operations[0].code);\r\n            component.id = ProcessDeUtil.GenerateElementId();\r\n            component.actualParameters = this.bindParas(cpt);\r\n            console.log(cpt);\r\n            console.log(component.actualParameters);\r\n            if (component.metadataId === '7433df25-9260-4c24-86f0-9da3e89450fb' ||\r\n            component.metadataId === 'd0783800-ed60-488c-b053-8806a15947fe' ||\r\n            component.metadataId === 'b89e9b9a-2e2d-4bd0-b354-187219544d34' ||\r\n            component.metadataId === 'a8b8f7a4-49ae-4b7d-88d2-b3772b9d0ae5' ) {\r\n              component.scopeType = 'ExternalProcess';\r\n            } else {\r\n              component.scopeType = 'DirectStart';\r\n            }\r\n            this.uistate.components.push(component);\r\n            this.subject.next(component);\r\n        }\r\n    }\r\n    private bindParas(component: GspComponent): ActualParameter[] {\r\n        let parameters = [];\r\n\r\n        if (component.operations[0].parameters && component.operations[0].parameters.length > 0) {\r\n            if (this.defaultProcessComponentIds.indexOf(component.id) > -1) {\r\n                parameters = this.assignParameterValue(component.operations[0].parameters);\r\n            } else {\r\n                parameters = component.operations[0].parameters.map(p => ({ code: p.code, name: p.name, value: '' }));\r\n            }\r\n        }\r\n        return parameters;\r\n    }\r\n    private assignParameterValue(params: Parameter[]): ActualParameter[] {\r\n        return params.map(p => {\r\n            if (p.code.indexOf('beId') > -1) {\r\n                const v = this.designerState.formalParameterContext.filter(c => c.key.indexOf('metadataId') > -1)[0].key;\r\n                return { code: p.code, name: p.name, value: `{\"expr\":\"DefaultFunction.GetContextParameter(\\\\\"${v}\\\\\")\"}` };\r\n            } else if (p.code.indexOf('nodeId') > -1) {\r\n                const v = this.designerState.formalParameterContext.filter(c => c.key.indexOf('schemaId') > -1)[0].key;\r\n                return { code: p.code, name: p.name, value: `{\"expr\":\"DefaultFunction.GetContextParameter(\\\\\"${v}\\\\\")\"}` };\r\n            } else if (p.code.indexOf('dataId') > -1) {\r\n                return { code: p.code, name: p.name, value: `{\"expr\":\"DefaultFunction.GetContextParameter(\\\\\"dataId\\\\\")\"}` };\r\n            } else if (p.code.indexOf('procInstId') > -1) {\r\n                return { code: p.code, name: p.name, value: `{\"expr\":\"DefaultFunction.GetContextParameter(\\\\\"procInstId\\\\\")\"}` };\r\n            } else {\r\n                return { code: p.code, name: p.name, value: '' };\r\n            }\r\n        });\r\n    }\r\n\r\n    swapArray(arr: Array<any>, i1: number, i2: number): Array<any> {\r\n        arr[i1] = arr.splice(i2, 1, arr[i1])[0];\r\n        return arr;\r\n    }\r\n\r\n  // 获取是否预制了外部流程构件\r\n  getBizCmp(hander: any) {\r\n    const url = `/api/runtime/wf/v1.0/bizComponent?flowFormKey=*&owner=*&ownerType=Process`;\r\n    this.http.get(url).subscribe((data: any) => {\r\n      hander(data);\r\n    });\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { ActivityComponentUIState } from './activity-component.uistate';\r\nimport { ActivityComponentRepository } from './activity-component.repository';\r\nimport { BizComponentEntity } from '../../domain/entities/biz-component.entity';\r\nimport { GspComponent } from '@gsp-cmp/common-component';\r\nimport { MessagerService } from '@farris/ui-messager';\r\nimport { WfLocalePipe } from '../../i18n/pipe/wf-process-editor-locale.pipe';\r\n\r\n@Injectable()\r\n\r\nexport class ActivityComponentViewModel {\r\n    \r\n    constructor(\r\n        private uistate: ActivityComponentUIState,\r\n        private repository: ActivityComponentRepository,\r\n        private messager: MessagerService,\r\n        private localePipe: WfLocalePipe\r\n    ) { }\r\n\r\n    deleteRow() {\r\n        if (this.uistate.curComponent) {\r\n            if (this.uistate.curComponent.executionTime === 'LOADDATA') {\r\n                this.messager.info(this.localePipe.transform('component.activityList.name'));\r\n            } else {\r\n                this.repository.removeComponent(this.uistate.curComponent.id);\r\n            }\r\n        } else {\r\n            return;\r\n        }\r\n    }\r\n    componentSelect(cpt: GspComponent) {\r\n        if (cpt) {\r\n            this.repository.addComponent(cpt);\r\n        }\r\n    }\r\n\r\n    loadComponents(flowFormId: string, bizActId: string) {\r\n        this.repository.loadComponents(flowFormId, bizActId);\r\n    }\r\n}\r\n","import { AfterViewInit, ChangeDetectorRef, Component, ComponentFactoryResolver, EventEmitter, Inject, Injector, Input, LOCALE_ID, OnInit, Optional, Output, TemplateRef, ViewChild } from '@angular/core';\r\nimport { DataColumn, DatagridComponent } from '@farris/ui-datagrid';\r\nimport { of } from 'rxjs';\r\nimport { ProcessDesignerUIState } from '../../app/process-designer.uistate';\r\nimport { ExprEditMode, ExpressionService, InjectedType, VarEntity } from '@gsp-svc/expression';\r\nimport { Metadata4RefDto, MetadataDto, SelectMetadataRTComponent } from '@gsp-lcm/metadatart-selector';\r\nimport { SessionService } from '@ecp-caf/caf-common';\r\nimport { CommonComponentUiRTService, SelectorResult } from '@gsp-cmp/ccmp-ui';\r\nimport { GspComponent } from '@gsp-cmp/common-component';\r\nimport { BsModalService } from '@farris/ui-modal';\r\nimport { BizComponentEntity } from '../../domain/entities/biz-component.entity';\r\nimport { ProcessDeUtil } from '../../domain/process-de-util';\r\nimport { ActualParameter } from '../../domain/entities/actual-parameter';\r\nimport { Parameter } from '@ecp-caf/common-structure';\r\nimport { MessagerService } from '@farris/ui-messager';\r\nimport { WF_LANG_RESOURCES, WfLocalePipe } from '../../i18n/pipe/wf-process-editor-locale.pipe';\r\nimport { WF_PROCESS_EDITOR_LANG_RESOURCES } from '../../i18n/assets/lang.resource';\r\n\r\n@Component({\r\n  selector: 'lib-edit-component-parameter',\r\n  templateUrl: './edit-component-parameter.component.html',\r\n  styleUrls: ['./edit-component-parameter.component.css'],\r\n  providers: [\r\n     WfLocalePipe,\r\n  ]\r\n})\r\nexport class EditComponentParameterComponent implements OnInit, AfterViewInit {\r\n  private defaultProcessComponentIds = ['5863c8a8-e0a7-4137-a8b2-4c05e42b3b73', 'be781ba1-a88b-4bb8-9c88-2e2a27a9226e'];\r\n  @Input() editState: string;\r\n  @Output() closeEmitter = new EventEmitter<any>();\r\n  @Output() submitEmitter = new EventEmitter<any>();\r\n  @ViewChild('paramlist') paramlist: DatagridComponent;\r\n  @ViewChild('editFooter') editFooter: TemplateRef<any>;\r\n  paramColumns = [];\r\n  location: 'activity' | 'process' | 'autoActivity';\r\n\r\n  groupIcon = '<i class=\"f-icon f-icon-lookup\"></i>';\r\n  executionTimingList = new Array();;\r\n  canEdit: boolean;\r\n  @Input()\r\n  curComponent: BizComponentEntity;\r\n  constructor(\r\n    private designerState: ProcessDesignerUIState,\r\n    private expr: ExpressionService,\r\n    private resolver: ComponentFactoryResolver,\r\n    private injector: Injector,\r\n    private sessionSrc: SessionService,\r\n    private componentService: CommonComponentUiRTService,\r\n    private modalService: BsModalService,\r\n    private message: MessagerService,\r\n    public cd: ChangeDetectorRef,\r\n    @Optional() private cdr: ChangeDetectorRef,\r\n    @Inject(LOCALE_ID) private localeId: string,\r\n    @Inject(WF_LANG_RESOURCES) private resources: any,\r\n    @Optional() private localePipe: WfLocalePipe\r\n  ) {\r\n    this.localePipe = this.localePipe || new WfLocalePipe(localeId, resources);\r\n   }\r\n  ngAfterViewInit(): void {\r\n  }\r\n  ngOnInit() {\r\n    this.paramColumns = [\r\n      { field: 'code', width: 50, title: this.localePipe.transform('component.editComponentParameter.code') },\r\n      { field: 'name', width: 50, title: this.localePipe.transform('component.editComponentParameter.name') },\r\n      {\r\n        field: 'required', width: 50, title: this.localePipe.transform('component.editComponentParameter.required'), formatter: (v, d, i) => {\r\n          if (v) {\r\n            return this.localePipe.transform('component.editComponentParameter.yes');\r\n          } else {\r\n            return this.localePipe.transform('component.editComponentParameter.no');\r\n          }\r\n        }\r\n      },\r\n      {\r\n        field: 'value', width: 100, title: this.localePipe.transform('component.editComponentParameter.value'),\r\n        editor: {\r\n          type: 'input-group',\r\n          options: {\r\n            groupText: '<i class=\"f-icon f-icon-lookup\"></i>',\r\n            editable: false,\r\n            clickHandle: (e) => {\r\n              e.formControl.setValue(e.instance.value ? e.instance.value : '');\r\n              this.showExprHelp(e);\r\n            },\r\n            clear: (e) => {\r\n              console.log('clear', e);\r\n            }\r\n          }\r\n        }\r\n      }\r\n    ];\r\n\r\n    // setTimeout(() => {\r\n    //   this.cd.detectChanges();\r\n    // },0 )\r\n  }\r\n  showExprHelp(e: any) {\r\n    let context = new Array<VarEntity>();\r\n    // if(this.expr.exprEntity.contextEntities.find(x => x.key === 'CurrentLanguage')) {\r\n    //   context.push(this.expr.exprEntity.contextEntities.find(x => x.key === 'CurrentLanguage'));\r\n    // }\r\n    // this.expr.clearContext();\r\n    if (this.designerState.schemas.length > 0) {\r\n      for (const schema of this.designerState.schemas) {\r\n        this.expr.addSchema('Schema', schema);\r\n      }\r\n      if (this.designerState.schemas[0].entityTypes && this.designerState.schemas[0].entityTypes.length > 0) {\r\n        const entityType = this.designerState.schemas[0].entityTypes[0];\r\n        this.expr.addInjectedEntity(entityType.name, 'Schema',\r\n          entityType.name, InjectedType.EntityType);\r\n      }\r\n    }\r\n    context = this.designerState.addContext(context);\r\n    if (this.designerState.subActivityContext.length > 0) {\r\n      for (const variable of this.designerState.subActivityContext) {\r\n        if (!context.some(c => c.key === variable.key)) {\r\n          context.push(variable);\r\n        }\r\n      }\r\n    }\r\n    if (this.location === 'activity') {\r\n      for (const variable of this.designerState.activityComponentContext) {\r\n        if (!context.some(c => c.key === variable.key)) {\r\n          context.push(variable);\r\n        }\r\n      }\r\n    }\r\n    if (context.length > 0) {\r\n      for (const v of context) {\r\n        this.expr.addContext(v);\r\n      }\r\n    }\r\n    this.expr.setEditPattern(ExprEditMode.Advanced); // 默认打开高级表达式编辑器\r\n    this.expr.addExpressionText(e.instance.value);\r\n    this.expr.buildExpression().then((expressioninfo: string) => {\r\n      e.formControl.setValue(expressioninfo);\r\n      e.instance.cd.detectChanges();\r\n      //点击确定后，去除表达式里面的新增的上下文变量\r\n      if(context.length > 0) {\r\n        this.expr.exprEntity.contextEntities = this.expr.exprEntity.contextEntities.filter(x => !context.some(y => y.key === x.key));\r\n      }\r\n    });\r\n  }\r\n  /**\r\n   * 取数构件帮助new\r\n   */\r\n  openComponentSelectorNew(metadataId: string, sessionId: string) {\r\n    this.componentService.openSelector(metadataId, sessionId).subscribe(\r\n      (selectorResult: SelectorResult) => {\r\n        selectorResult.confirmEvent.subscribe(\r\n          (result: GspComponent) => {\r\n            if (result) {\r\n              const component = new BizComponentEntity(result.name, result.id, result.operations[0].code);\r\n              component.id = ProcessDeUtil.GenerateElementId();\r\n              component.actualParameters = this.bindParas(result);\r\n              if (component.metadataId === '7433df25-9260-4c24-86f0-9da3e89450fb' ||\r\n                component.metadataId === 'd0783800-ed60-488c-b053-8806a15947fe' ||\r\n                component.metadataId === 'b89e9b9a-2e2d-4bd0-b354-187219544d34' ||\r\n                component.metadataId === 'a8b8f7a4-49ae-4b7d-88d2-b3772b9d0ae5') {\r\n                component.scopeType = 'ExternalProcess';\r\n              } else {\r\n                component.scopeType = 'DirectStart';\r\n              }\r\n              this.curComponent = component;\r\n              this.cd.detectChanges();\r\n            }\r\n          });\r\n      });\r\n  }\r\n  private bindParas(component: GspComponent): ActualParameter[] {\r\n    let parameters = [];\r\n\r\n    if (component.operations[0].parameters && component.operations[0].parameters.length > 0) {\r\n      if (this.defaultProcessComponentIds.indexOf(component.id) > -1) {\r\n        parameters = this.assignParameterValue(component.operations[0].parameters);\r\n      } else {\r\n        parameters = component.operations[0].parameters.map(p => ({ code: p.code, name: p.name, value: '', required: p.code.toLowerCase() ==='wfcontext'? false : p.required }));\r\n      }\r\n    }\r\n    return parameters;\r\n  }\r\n  private assignParameterValue(params: Parameter[]): ActualParameter[] {\r\n    return params.map(p => {\r\n      if (p.code.indexOf('beId') > -1) {\r\n        const v = this.designerState.formalParameterContext.filter(c => c.key.indexOf('metadataId') > -1)[0].key;\r\n        return { code: p.code, name: p.name, value: `{\"expr\":\"DefaultFunction.GetContextParameter(\\\\\"${v}\\\\\")\"}`, required: true};\r\n      } else if (p.code.indexOf('nodeId') > -1) {\r\n        const v = this.designerState.formalParameterContext.filter(c => c.key.indexOf('schemaId') > -1)[0].key;\r\n        return { code: p.code, name: p.name, value: `{\"expr\":\"DefaultFunction.GetContextParameter(\\\\\"${v}\\\\\")\"}`, required: true };\r\n      } else if (p.code.indexOf('dataId') > -1) {\r\n        return { code: p.code, name: p.name, value: `{\"expr\":\"DefaultFunction.GetContextParameter(\\\\\"dataId\\\\\")\"}`, required: true };\r\n      } else if (p.code.indexOf('procInstId') > -1) {\r\n        return { code: p.code, name: p.name, value: `{\"expr\":\"DefaultFunction.GetContextParameter(\\\\\"procInstId\\\\\")\"}`, required: true };\r\n      } else {\r\n        return { code: p.code, name: p.name, value: '', required: true };\r\n      }\r\n    });\r\n  }\r\n  componentSelect() {\r\n    const compFactory = this.resolver.resolveComponentFactory(SelectMetadataRTComponent);\r\n    const compRef = compFactory.create(this.injector);\r\n    compRef.instance.typeList = 'WebServiceComponent'; // 目前只能根据元数据类型过滤，后续添加标签过滤\r\n    compRef.instance.selectedMetadata.subscribe(($event: Metadata4RefDto) => {\r\n      try {\r\n        const meta: MetadataDto = $event.metadata;\r\n        this.openComponentSelectorNew(meta.id, this.sessionSrc.getUserSessionId());\r\n      } catch {\r\n        console.log('$event', $event);\r\n        throw new Error(this.localePipe.transform('component.editComponentParameter.openComponentFail') + $event);\r\n      }\r\n    });\r\n    const modalConfig = {\r\n      title: this.localePipe.transform('component.editComponentParameter.componentSelection'),\r\n      width: 980,\r\n      height: 548,\r\n      showButtons: false\r\n    };\r\n    const dialog = this.modalService.show(compRef, modalConfig);\r\n    compRef.instance.closeModalEmitter.subscribe($event => dialog.close());\r\n  }\r\n  paramAfterEdit = (rowIndex: number, rowData: any, column?: DataColumn) => {\r\n    return of(true);\r\n  }\r\n  endCellEdit() {\r\n    this.paramlist.endCellEdit();\r\n  }\r\n\r\n  editOK() {\r\n    // 结束构件参数编辑状态\r\n    this.endCellEdit();\r\n    if (this.validator()) {\r\n      this.submitEmitter.emit(this.curComponent);\r\n    }\r\n  }\r\n\r\n  editCancel() {\r\n    this.closeEmitter.emit();\r\n  }\r\n\r\n  validator(): boolean {\r\n    if (!this.curComponent || !this.curComponent.metadataId || !this.curComponent.methodCode) {\r\n      this.message.info(this.localePipe.transform('component.editComponentParameter.curComponent'));\r\n      return false\r\n    } else if (this.location !== 'autoActivity' && !this.curComponent.executionTime) {\r\n      this.message.info(this.localePipe.transform('component.editComponentParameter.executionTime'));\r\n      return false;\r\n    } else {\r\n      let codeList = '';\r\n      for (const param of this.curComponent.actualParameters) {\r\n        if (param.required && !param.value) {\r\n          codeList = codeList + `，${param.code}`;\r\n        }\r\n      }\r\n      if (codeList.length > 0) {\r\n        codeList = codeList.slice(1, codeList.length)\r\n        this.message.info(this.localePipe.transform('component.editComponentParameter.para') + '【' + codeList + this.localePipe.transform('component.editComponentParameter.paraRequired'));\r\n        return false;\r\n      }\r\n    }\r\n    return true;\r\n  }\r\n}\r\n","import { Component, OnInit, HostBinding, Output, EventEmitter, TemplateRef, Input, ViewChild, ComponentFactoryResolver, Injector, AfterViewInit, Inject, Optional, ChangeDetectorRef, LOCALE_ID } from '@angular/core';\r\nimport { TypeConverter } from '@farris/ide-property-panel';\r\nimport { ActivityComponentRepository } from './activity-component.repository';\r\nimport { ActivityComponentUIState } from './activity-component.uistate';\r\nimport { ActivityComponentViewModel } from './activity-component.viewmodel';\r\nimport { BizComponentEntity } from '../../domain/entities/biz-component.entity';\r\nimport { ProcessDesignerUIState } from '../../app/process-designer.uistate';\r\nimport { ExprEditMode, ExpressionService, InjectedType, VarEntity } from '@gsp-svc/expression';\r\nimport { BsModalService } from '@farris/ui-modal';\r\nimport { SelectorResult, CommonComponentUiRTService } from '@gsp-cmp/ccmp-ui';\r\nimport { GspComponent } from '@gsp-cmp/common-component';\r\nimport { DataColumn, DatagridComponent } from '@farris/ui-datagrid';\r\nimport { forkJoin, of } from 'rxjs';\r\nimport { EditorTypes } from '@farris/ui-datagrid-editors';\r\nimport { MessagerService } from '@farris/ui-messager';\r\nimport { EditComponentParameterComponent } from '../edit-component-parameter/edit-component-parameter.component';\r\nimport { WF_LANG_RESOURCES, WfLocalePipe } from '../../i18n/pipe/wf-process-editor-locale.pipe';\r\nimport { WF_PROCESS_EDITOR_LANG_RESOURCES } from '../../i18n/assets/lang.resource';\r\n\r\n@Component({\r\n  selector: 'app-activity-component',\r\n  templateUrl: './activity-component.component.html',\r\n  styleUrls: ['./activity-component.component.scss'],\r\n  providers: [ActivityComponentRepository, ActivityComponentUIState, ActivityComponentViewModel,\r\n     WfLocalePipe,\r\n  ]\r\n})\r\nexport class ActivityComponentComponent implements OnInit, AfterViewInit {\r\n  @HostBinding('class')\r\n  cls = 'farris-main-area flex-column';\r\n  @Output() closeModal = new EventEmitter<any>();\r\n  @Output() submitModal = new EventEmitter<any>();\r\n  @Input() editorParams: any = {};\r\n  @ViewChild('iconSelectFooter') modalFooter: TemplateRef<any>;\r\n  @ViewChild('buttonsTemplate') btnTemplate: TemplateRef<any>;\r\n  @ViewChild('cmplist') cmplist: DatagridComponent;\r\n  @ViewChild('paramlist') paramlist: DatagridComponent;\r\n  exBizTips = false;\r\n  modalConfig = {\r\n    title: this.localePipe.transform('component.activityComponent.component'),\r\n    width: 960,\r\n    height: 506,\r\n    showButtons: true\r\n  };\r\n  @Input()\r\n  set value(cpts: any[]) {\r\n    if (cpts && cpts.length > 0) {\r\n      let metaDataIdList = new Array();\r\n      for (const cmp of cpts) {\r\n        if (metaDataIdList.indexOf(cmp.metadataId) == -1) {\r\n          metaDataIdList.push(cmp.metadataId);\r\n        }\r\n      }\r\n      if (metaDataIdList.length > 0) {\r\n        forkJoin(metaDataIdList.map((metaDataId: string) => this.designerState.getHelpMetaData(metaDataId, ''))).subscribe(cmpMetas => {\r\n          for (const cpt of cpts) {\r\n            const bizComponent = new BizComponentEntity(cpt.name, cpt.metadataId, cpt.methodCode);\r\n            bizComponent.executionTime = cpt.executionTime,\r\n            bizComponent.id = cpt.id;\r\n            bizComponent.isForCompensation = cpt.isForCompensation;\r\n            bizComponent.actualParameters = new Array();\r\n            bizComponent.scopeType = cpt.scopeType || null;\r\n\r\n            const meta = cmpMetas.find(m => m.id === cpt.metadataId);\r\n            const content = JSON.parse(meta.content);\r\n            const operation = content.operations.find(o => o.code === cpt.methodCode);\r\n            if (operation) {\r\n              bizComponent.actualParameters = cpt.actualParameters.map(a => {\r\n                const p = operation.parameters.find(i => i.code === a.code);\r\n                if (p) {\r\n                  return {\r\n                    code: a.code,\r\n                    name: a.name,\r\n                    value: a.value,\r\n                    required: a.code.toLowerCase() ==='wfcontext'? false : p.required\r\n                  };\r\n                } else {\r\n                  console.error(this.localePipe.transform('component.activityComponent.method') + cpt.methodCode + this.localePipe.transform('component.activityComponent.inconsistentParameters'));\r\n                  return {\r\n                    code: a.code,\r\n                    name: a.name,\r\n                    value: a.value,\r\n                    required: false\r\n                  };\r\n                }\r\n              });\r\n            } else {\r\n              console.error(this.localePipe.transform('component.activityComponent.longerExists') + cpt.methodCode + this.localePipe.transform('component.activityComponent.pleaseCheck'));\r\n            }\r\n            this.uistate.components.push(bizComponent);\r\n          }\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n  buttonGroupData = [\r\n    {\r\n      id: 'edit',\r\n      text: this.localePipe.transform('component.activityComponent.edit'),\r\n    },\r\n    {\r\n      id: 'deleteRow',\r\n      text: this.localePipe.transform('component.activityComponent.deleteRow'),\r\n    }\r\n  ];\r\n  editState = 'new'; // 编辑状态，用于区分是新增还是编辑  new | edit\r\n  isPreExternalProcessCmps = false;\r\n  location: 'activity' | 'process' | 'autoActivity';\r\n  columns = [];\r\n  paramColumns = [];\r\n  constructor(\r\n    public uistate: ActivityComponentUIState,\r\n    public viewModel: ActivityComponentViewModel,\r\n    private designerState: ProcessDesignerUIState,\r\n    private expr: ExpressionService,\r\n    private resolver: ComponentFactoryResolver,\r\n    private injector: Injector,\r\n    private modalService: BsModalService,\r\n    private componentService: CommonComponentUiRTService,\r\n    private repository: ActivityComponentRepository,\r\n    private message: MessagerService,\r\n    @Optional() private cdr: ChangeDetectorRef,\r\n    @Inject(LOCALE_ID) private localeId: string,\r\n    @Inject(WF_LANG_RESOURCES) private resources: any,\r\n    @Optional() private localePipe: WfLocalePipe\r\n  ) {\r\n    this.localePipe = this.localePipe || new WfLocalePipe(localeId, resources);\r\n  }\r\n\r\n  ngOnInit() {\r\n    // 2023-5-25 网速慢的时候会导致加载不出来流程构件，因此加个延时\r\n    setTimeout(() => {\r\n      this.restart();\r\n    }, 300)\r\n  }\r\n\r\n  restart() {\r\n    if (this.designerState.startMode === 'EXTERNAL_PROCESS') {\r\n      this.repository.getBizCmp((cmps) => {\r\n        if (cmps && cmps.length > 0) {\r\n          // 此处标记有外部流程通用构件\r\n          for (const c of cmps) {\r\n            if (c.scopeType === 'ExternalProcess') {\r\n              this.exBizTips = true;\r\n              break;\r\n            }\r\n          }\r\n        }\r\n      });\r\n    }\r\n    this.location = this.editorParams.location;\r\n    if (this.location === 'activity') {\r\n      this.uistate.executionCollection = this.uistate.activityCollection;\r\n      this.columns = [\r\n        {\r\n          field: 'executionTime', width: 100, title: this.localePipe.transform('component.activityComponent.executionTime'),\r\n          editor: {\r\n            type: EditorTypes.COMBOLIST,\r\n            options: { data: this.uistate.executionCollection, groupField: 'text', valueField: 'value', textField: 'text', idField: 'value', panelHeight: 'auto' }\r\n          },\r\n          formatter: (v, d, i) => {\r\n            if (v) {\r\n              return this.uistate.executionCollection.find(item => item.value === v).text;\r\n            } else {\r\n              return '';\r\n            }\r\n          },\r\n          validators: [\r\n            { type: 'required', messager: '必填' }\r\n          ]\r\n        },\r\n        {\r\n          field: 'name', width: 100, title: this.localePipe.transform('component.activityComponent.cmpName')\r\n        },\r\n        { field: 'metadataId', width: 100, title: this.localePipe.transform('component.activityComponent.metadataId') },\r\n        { field: 'methodCode', width: 100, title: this.localePipe.transform('component.activityComponent.methodCode') },\r\n        {\r\n          field: 'isForCompensation', width: 50, title: this.localePipe.transform('component.activityComponent.isForCompensation'),\r\n          editor: { type: EditorTypes.SWITCH, options: {} },\r\n          formatter: { type: 'boolean', options: { trueText: this.localePipe.transform('component.activityComponent.yes'), falseText: this.localePipe.transform('component.activityComponent.no') } }\r\n        },\r\n        { title: this.localePipe.transform('component.activityComponent.operate'), width: 70, template: this.btnTemplate }\r\n      ];\r\n    } else if (this.location === 'autoActivity') {\r\n      this.columns = [\r\n        {\r\n          field: 'name', width: 100, title: this.localePipe.transform('component.activityComponent.cmpName')\r\n        },\r\n        { field: 'metadataId', width: 100, title: this.localePipe.transform('component.activityComponent.metadataId') },\r\n        { field: 'methodCode', width: 100, title: this.localePipe.transform('component.activityComponent.methodCode') },\r\n        {\r\n          field: 'isForCompensation', width: 50, title: this.localePipe.transform('component.activityComponent.isForCompensation'),\r\n          editor: { type: EditorTypes.SWITCH, options: {} },\r\n          formatter: { type: 'boolean', options: { trueText: this.localePipe.transform('component.activityComponent.yes'), falseText: this.localePipe.transform('component.activityComponent.no') } }\r\n        },\r\n        { title: this.localePipe.transform('component.activityComponent.operate'), width: 70, template: this.btnTemplate }\r\n      ];\r\n    } else {\r\n      this.columns = [\r\n        {\r\n          field: 'executionTime', width: 100, title: this.localePipe.transform('component.activityComponent.executionTime'),\r\n          editor: {\r\n            type: EditorTypes.COMBOLIST,\r\n            options: { data: this.uistate.executionCollection, groupField: 'text', valueField: 'value', textField: 'text', idField: 'value', panelHeight: 'auto' }\r\n          },\r\n          formatter: (v, d, i) => {\r\n            if (v) {\r\n              return this.uistate.executionCollection.find(item => item.value === v).text;\r\n            } else {\r\n              return '';\r\n            }\r\n          },\r\n          validators: [\r\n            { type: 'required', messager: '必填' }\r\n          ]\r\n        },\r\n        {\r\n          field: 'name', width: 100, title: this.localePipe.transform('component.activityComponent.cmpName')\r\n        },\r\n        { field: 'metadataId', width: 100, title: this.localePipe.transform('component.activityComponent.metadataId') },\r\n        { field: 'methodCode', width: 100, title: this.localePipe.transform('component.activityComponent.methodCode') },\r\n        { title: this.localePipe.transform('component.activityComponent.operate'), width: 70, template: this.btnTemplate }\r\n      ];\r\n    }\r\n    if (this.uistate.components && this.uistate.components.length > 0) {\r\n      this.cmplist.selectRow(this.uistate.components[0].id, true);\r\n    }\r\n\r\n    this.paramColumns = [\r\n      { field: 'code', width: 50, title: this.localePipe.transform('component.activityComponent.code') },\r\n      { field: 'name', width: 50, title: this.localePipe.transform('component.activityComponent.name') },\r\n      {\r\n        field: 'value', width: 100, title: this.localePipe.transform('component.activityComponent.value') ,\r\n        editor: {\r\n          type: 'input-group',\r\n          options: {\r\n            groupText: '<i class=\"f-icon f-icon-lookup\"></i>',\r\n            editable: false,\r\n            clickHandle: (e) => {\r\n              e.formControl.setValue(e.instance.value ? e.instance.value : '');\r\n              this.showExprHelp(e);\r\n            },\r\n            clear: (e) => {\r\n              console.log('clear', e);\r\n            }\r\n          }\r\n        }\r\n      }\r\n    ];\r\n    // 选中当前行\r\n    this.repository.subject.subscribe(cmp => {\r\n      this.cmplist.loadData(this.uistate.components);\r\n      if (cmp) {\r\n        this.cmplist.selectRow(cmp.id, true);\r\n      } else {\r\n        this.uistate.curComponent = null;\r\n      }\r\n    });\r\n  }\r\n\r\n  ngAfterViewInit() {\r\n    if (this.uistate.components && this.uistate.components.length > 0) {\r\n      this.cmplist.selectRow(this.uistate.components[0].id, true);\r\n    }\r\n  }\r\n  edit() {\r\n    this.editState = 'edit';\r\n    const compFactory = this.resolver.resolveComponentFactory(EditComponentParameterComponent);\r\n    const compRef = compFactory.create(this.injector);\r\n    const modalConfig = {\r\n      title: this.localePipe.transform('component.activityComponent.editComponent'),\r\n      width: 700,\r\n      height: 400,\r\n      buttons: compRef.instance.editFooter,\r\n      showButtons: true,\r\n      initialState: {\r\n        curComponent: JSON.parse(JSON.stringify(this.uistate.curComponent))\r\n      }\r\n    };\r\n    const editDialog = this.modalService.show(compRef, modalConfig);\r\n    compRef.instance.canEdit = false;\r\n    compRef.instance.editState = this.editState;\r\n    compRef.instance.location = this.location;\r\n    compRef.instance.executionTimingList = this.uistate.executionCollection;\r\n    // compRef.instance.curComponent = JSON.parse(JSON.stringify(this.uistate.curComponent));\r\n    compRef.instance.submitEmitter.subscribe(cmp => {\r\n      const i = this.uistate.components.findIndex(item => item.id === cmp.id);\r\n      this.uistate.components[i] = cmp;\r\n      this.cmplist.loadData(this.uistate.components);\r\n      editDialog.close()\r\n    });\r\n    compRef.instance.closeEmitter.subscribe(re => {\r\n      editDialog.close()\r\n    });\r\n    setTimeout(() => {\r\n      compRef.instance.cd.detectChanges();\r\n    })\r\n  }\r\n  deleteRow() {\r\n    this.message.confirm(this.localePipe.transform('component.activityComponent.confirmDelete')).subscribe((v) => {\r\n      if (v) {\r\n        this.closeCellEdit();\r\n        this.viewModel.deleteRow();\r\n        this.cmplist.loadData(this.uistate.components);\r\n      }\r\n    });\r\n  }\r\n  moveUp() {\r\n    if (!this.uistate.curComponent) {\r\n      this.message.info(this.localePipe.transform('component.activityComponent.curComponent'));\r\n      return;\r\n    }\r\n    const curCmpId: string = this.uistate.curComponent.id;\r\n    const i = this.uistate.components.findIndex(c => c.id === curCmpId);\r\n    if (i === 0) {\r\n      return;\r\n    }\r\n    this.repository.swapArray(this.uistate.components, i, i - 1);\r\n\r\n    this.cmplist.loadData(this.uistate.components);\r\n    this.cmplist.selectRow(curCmpId, true);\r\n  }\r\n\r\n  moveDown() {\r\n    if (!this.uistate.curComponent) {\r\n      this.message.info(this.localePipe.transform('component.activityComponent.curComponent'));\r\n      return;\r\n    }\r\n    const curCmpId: string = this.uistate.curComponent.id;\r\n    const i = this.uistate.components.findIndex(c => c.id === curCmpId);\r\n    if (i === this.uistate.components.length - 1) {\r\n      return;\r\n    }\r\n    this.repository.swapArray(this.uistate.components, i, i + 1);\r\n\r\n    this.cmplist.loadData(this.uistate.components);\r\n    this.cmplist.selectRow(curCmpId, true);\r\n  }\r\n\r\n  clickAction(buttonId: string, ctx: any) {\r\n    this.uistate.curComponent = ctx.rowData;\r\n    switch (buttonId) {\r\n      case 'edit':\r\n        this.edit();\r\n        break;\r\n      case 'deleteRow':\r\n        this.deleteRow();\r\n        break;\r\n    }\r\n  }\r\n\r\n  clickOK() {\r\n    this.closeCellEdit();\r\n    if (this.validator()) {\r\n      const object = { value: this.uistate.components, parameters: null };\r\n      this.submitModal.emit(object);\r\n    }\r\n  }\r\n\r\n  clickCancel() {\r\n    this.closeModal.emit();\r\n  }\r\n  componentSelect() {\r\n    this.editState = 'new';\r\n    const compFactory = this.resolver.resolveComponentFactory(EditComponentParameterComponent);\r\n    const compRef = compFactory.create(this.injector);\r\n    const modalConfig = {\r\n      title: this.localePipe.transform('component.activityComponent.newComponent'),\r\n      width: 700,\r\n      height: 400,\r\n      buttons: compRef.instance.editFooter,\r\n      showButtons: true\r\n    };\r\n    const editDialog = this.modalService.show(compRef, modalConfig);\r\n    compRef.instance.canEdit = true;\r\n    compRef.instance.editState = this.editState;\r\n    compRef.instance.location = this.location;\r\n    compRef.instance.executionTimingList = this.uistate.executionCollection;\r\n    compRef.instance.curComponent = new BizComponentEntity();\r\n    compRef.instance.submitEmitter.subscribe(cmp => {\r\n      this.uistate.components.push(cmp);\r\n      this.cmplist.loadData(this.uistate.components);\r\n      editDialog.close()\r\n    });\r\n    compRef.instance.closeEmitter.subscribe(re => {\r\n      editDialog.close()\r\n    });\r\n    setTimeout(() => {\r\n      compRef.instance.cd.detectChanges();\r\n    })\r\n  }\r\n  /**\r\n   * 取数构件帮助new\r\n   */\r\n  openComponentSelectorNew(metadataId: string, sessionId: string) {\r\n    this.componentService.openSelector(metadataId, sessionId).subscribe(\r\n      (selectorResult: SelectorResult) => {\r\n        selectorResult.confirmEvent.subscribe(\r\n          (result: GspComponent) => {\r\n            this.viewModel.componentSelect(result);\r\n          });\r\n      });\r\n  }\r\n  showExprHelp(e: any) {\r\n    let context = new Array<VarEntity>();\r\n    // if(this.expr.exprEntity.contextEntities.find(x => x.key === 'CurrentLanguage')) {\r\n    //   context.push(this.expr.exprEntity.contextEntities.find(x => x.key === 'CurrentLanguage'));\r\n    // }\r\n    // this.expr.clearContext();\r\n    if (this.designerState.schemas.length > 0) {\r\n      for (const schema of this.designerState.schemas) {\r\n        this.expr.addSchema('Schema', schema);\r\n      }\r\n      if (this.designerState.schemas[0].entityTypes && this.designerState.schemas[0].entityTypes.length > 0) {\r\n        const entityType = this.designerState.schemas[0].entityTypes[0];\r\n        this.expr.addInjectedEntity(entityType.name, 'Schema',\r\n          entityType.name, InjectedType.EntityType);\r\n      }\r\n    }\r\n    context = this.designerState.addContext(context);\r\n    if (this.location === 'activity') {\r\n      for (const variable of this.designerState.activityComponentContext) {\r\n        if (!context.some(c => c.key === variable.key)) {\r\n          context.push(variable);\r\n        }\r\n      }\r\n    }\r\n    if (this.location === 'activity') {\r\n      for (const variable of this.designerState.subActivityContext) {\r\n        if (!context.some(c => c.key === variable.key)) {\r\n          context.push(variable);\r\n        }\r\n      }\r\n    }\r\n    if (context.length > 0) {\r\n      for (const v of context) {\r\n        this.expr.addContext(v);\r\n      }\r\n    }\r\n    this.expr.setEditPattern(ExprEditMode.Advanced); // 默认打开高级表达式编辑器\r\n    this.expr.addExpressionText(e.instance.value);\r\n    this.expr.buildExpression().then((expressioninfo: string) => {\r\n      e.formControl.setValue(expressioninfo);\r\n      e.instance.cd.detectChanges();\r\n      //点击确定后，去除表达式里面的新增的上下文变量\r\n      if(context.length > 0) {\r\n        this.expr.exprEntity.contextEntities = this.expr.exprEntity.contextEntities.filter(x => !context.some(y => y.key === x.key));\r\n      }\r\n    });\r\n  }\r\n  selectionChange(data: any) {\r\n    this.uistate.curComponent = data.data;\r\n  }\r\n  paramAfterEdit = (rowIndex: number, rowData: any, column?: DataColumn) => {\r\n    return of(true);\r\n  }\r\n\r\n  private closeCellEdit() {\r\n    this.cmplist.endCellEdit();\r\n    if (this.paramlist) {\r\n      this.paramlist.endCellEdit();\r\n    }\r\n  }\r\n\r\n  private validator(): boolean {\r\n    // 校验是否存在重复的构件\r\n    const cache = [];\r\n    for (const cmp of this.uistate.components) {\r\n      if (cache.find(c => c.methodCode === cmp.methodCode && JSON.stringify(c.actualParameters) === JSON.stringify(cmp.actualParameters) &&\r\n        c.executionTime === cmp.executionTime)) {\r\n        console.log(cmp.actualParameters);\r\n        this.message.warning(this.localePipe.transform('component.activityComponent.sameCmp') + `${cmp.name}` + this.localePipe.transform('component.activityComponent.cmpMethod')+ cmp.methodCode + this.localePipe.transform('component.activityComponent.pleaseCheck'));\r\n        return false;\r\n      }\r\n      cache.push(cmp);\r\n      if (!cmp.executionTime && this.location !== 'autoActivity') {\r\n        this.message.warning(this.localePipe.transform('component.activityComponent.executionTimeNotNull'));\r\n        return false;\r\n      }\r\n      for (const param of cmp.actualParameters) {\r\n        if (param.required && !param.value) {\r\n          this.message.warning(this.localePipe.transform('component.activityComponent.component') + `【${cmp.name}】` + this.localePipe.transform('component.activityComponent.param') + `【${param.code}】` + this.localePipe.transform('component.activityComponent.required'));\r\n          return false;\r\n        }\r\n      }\r\n    }\r\n    return true;\r\n  }\r\n}\r\n\r\nexport class ActivityComponentConverter implements TypeConverter {\r\n  constructor(\r\n    private localePipe: WfLocalePipe\r\n  ) { }\r\n\r\n  convertTo(data: any[]): string {\r\n    if (data && data.length > 0) {\r\n      return this.localePipe.transform(\"component.activityComponent.set\");\r\n    } else {\r\n      return this.localePipe.transform(\"component.activityComponent.notSet\");\r\n    }\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { WfLocalePipe } from '../../i18n/pipe/wf-process-editor-locale.pipe';\r\n\r\n@Injectable()\r\n\r\nexport class ExecuteFormsUIState {\r\n  constructor(\r\n    private localePipe: WfLocalePipe\r\n  ){}\r\n    public formTypeCollection = [\r\n        { text: this.localePipe.transform('component.executeForms.processEmbeddedForm'), value: '0' },\r\n        { text: this.localePipe.transform('component.executeForms.formEmbedProcess'), value: '1' },\r\n    ];\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\n\r\n@Injectable()\r\n\r\nexport class ExecuteFormsViewModel {\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\n\r\n@Injectable()\r\n\r\nexport class ExecuteFormsRepository {\r\n\r\n}\r\n","\r\nexport class ExecuteFormModel {\r\n    Id: string;\r\n    Name: string;\r\n    ComponentId: string;\r\n    FormType: string;\r\n    TerminalType: TerminalType;\r\n    ActualParameters: ActualParameter[];\r\n    formFormatId: string;\r\n    formatConfigId: string;\r\n}\r\nexport class ActualParameter {\r\n    Name: string;\r\n    Value: string;\r\n    ValueText?: string;\r\n    Tag?: string;\r\n}\r\nexport enum TerminalType {\r\n    PC = 'PC',\r\n    MOBILE = 'MOBILE',\r\n    ALL = 'ALL'\r\n}\r\n","import { ILookupHttpService, RemoteParams, LookupGridResult } from '@farris/ui-lookup';\r\nimport { Injectable } from '@angular/core';\r\nimport { HttpService } from '@ecp-caf/caf-common';\r\nimport { Observable, of } from 'rxjs';\r\nimport { map } from 'rxjs/operators';\r\n\r\n@Injectable()\r\nexport class FormFormatService implements ILookupHttpService {\r\n    constructor(\r\n        private http: HttpService,\r\n    ) {\r\n    }\r\n    getData(url: string, params?: RemoteParams): Observable<LookupGridResult> {\r\n        const customData = params.customData;\r\n        const index = params.pageIndex || 1;\r\n        const size = params.pageSize || 20;\r\n        const searchValue = JSON.parse(params.searchValue);\r\n        const terminal = customData.tab === 'web' ? 'PC' : 'Mobile';\r\n        let query = '?param=';\r\n        let filter = `{\"terminal\":\"${terminal}\"`;\r\n        if (searchValue.searchValue) {\r\n            if (searchValue.searchField === '*') {\r\n                filter += `,\"allColumns\":\"${searchValue.searchValue}\"`;\r\n            } else {\r\n                filter += `,\"${searchValue.searchField}\":\"${searchValue.searchValue}\"`;\r\n            }\r\n        }\r\n        filter += '}';\r\n        filter = encodeURIComponent(filter);\r\n        query += (filter + `&pageNum=${index}&pageSize=${size}`);\r\n        url += query;\r\n        return this.http.get(url).pipe(\r\n            map((re: any) => ({\r\n                items: re.content,\r\n                total: re.totalElements,\r\n                pageInfo: {\r\n                    pageIndex: re.pageable.pageNumber + 1,\r\n                    pageSize: re.pageable.pageSize,\r\n                    pageList: [20, 40, 60, 80, 100],\r\n                    enablePager: true\r\n                }\r\n            }))\r\n        );\r\n    }\r\n}\r\n\r\n","export class ExecuteForm { \r\n    id: string;\r\n    code: string;\r\n    name: string;\r\n    appId: string;\r\n    flowFormKey: string;\r\n    formFormatId: string;\r\n    formType: string;\r\n    isDefault: boolean;\r\n    terminal: string;\r\n    actualParameters: Array<FormalParameter>;\r\n    sysInit: number;\r\n    remarks: string;\r\n}\r\n\r\nexport class FormalParameter {\r\n    code: string;\r\n    name: string;\r\n    valueType: string;\r\n    value: string;\r\n}\r\n","import { Component, OnInit, Injector, ComponentFactoryResolver, ViewChild, TemplateRef, Optional, ChangeDetectorRef, Inject, LOCALE_ID } from '@angular/core';\r\nimport { BsModalService } from '@farris/ui-modal';\r\nimport { ProcessDesignerUIState } from '../../../app/process-designer.uistate';\r\nimport { HttpService, SessionService } from '@ecp-caf/caf-common';\r\nimport { RtfAppHelpComponent } from '@gsp-sys/rtf-ui';\r\nimport { RtfApp } from '@gsp-sys/rtf-ui/lib/rtf-app-help/entities/rtf-app';\r\nimport { of, Observable, Subject, from, forkJoin } from 'rxjs';\r\nimport { PickedResult, ServerSideToken, LookupGridComponent } from '@farris/ui-lookup';\r\nimport { FormFormatService } from './form-format.service';\r\nimport { ExecuteFormModel, TerminalType, ActualParameter } from '../entities/execute-form.entity';\r\nimport { DatagridComponent } from '@farris/ui-datagrid';\r\nimport { MessagerService } from '@farris/ui-messager';\r\nimport { ExecuteForm } from '../entities/execute-form';\r\nimport { ProcessDeUtil } from '../../../domain/process-de-util';\r\nimport { map } from 'rxjs/operators';\r\nimport { WF_LANG_RESOURCES, WfLocalePipe } from '../../../i18n/pipe/wf-process-editor-locale.pipe';\r\nimport { WF_PROCESS_EDITOR_LANG_RESOURCES } from '../../../i18n/assets/lang.resource';\r\n\r\n@Component({\r\n  selector: 'lib-add-execute-form',\r\n  templateUrl: './add-execute-form.component.html',\r\n  styleUrls: ['./add-execute-form.component.scss'],\r\n  providers: [{\r\n    provide: ServerSideToken, useClass: FormFormatService },\r\n     WfLocalePipe\r\n  ]\r\n})\r\nexport class AddExecuteFormComponent implements OnInit {\r\n\r\n  @ViewChild('iconSelectFooter') modalFooter: TemplateRef<any>;\r\n  // @ViewChild(RtfAppHelpComponent) public appHelper: RtfAppHelpComponent;\r\n  // @ViewChild('lookup') public lookUp: LookupGridComponent;\r\n  @ViewChild('grid') private grid: DatagridComponent;\r\n\r\n  submit = new Subject<ExecuteFormModel>();\r\n  cancel = new Subject();\r\n\r\n  tab: 'web' | 'mobile';\r\n\r\n  forms = new Array<ExecuteForm>();\r\n\r\n  // private formTypeCollection = [\r\n  //   { text: '流程嵌表单', value: '0' },\r\n  //   { text: '表单嵌流程', value: '1' },\r\n  // ];\r\n\r\n  columns = [\r\n    { field: 'code', width: 100, title: this.localePipe.transform('component.executeForms.code') },\r\n    {\r\n      field: 'name', width: 100, title: this.localePipe.transform('component.executeForms.name'),\r\n    },\r\n    {\r\n      field: 'tag', width: 80, title: this.localePipe.transform('component.executeForms.apptag'),\r\n      formatter: (v, d, i) => {\r\n        if (d.appId) {\r\n          return this.localePipe.transform('component.executeForms.functionMenu');\r\n        } else if (d.formFormatId) {\r\n          return this.localePipe.transform('component.executeForms.formFormat');\r\n        }\r\n      }\r\n    }\r\n    // {\r\n    //   field: 'formType', width: 80, title: '联查类型',\r\n    //   formatter: {\r\n    //     type: 'enum',\r\n    //     options: { valueField: 'value', textField: 'text', data: this.formTypeCollection }\r\n    //   },\r\n    // },\r\n  ];\r\n\r\n  // 表单格式显示列\r\n  cols = [\r\n    {\r\n      field: 'code', width: 100, title: this.localePipe.transform('component.executeForms.docFormatNumber'), searchField: 'code'\r\n    }, {\r\n      field: 'name', width: 100, title: this.localePipe.transform('component.executeForms.docFormatName'), searchField: 'name'\r\n    }\r\n  ];\r\n\r\n  dataUri = '/api/runtime/wf/v1.0/formFormat/page';\r\n  constructor(\r\n    private state: ProcessDesignerUIState,\r\n    private http: HttpService,\r\n    private session: SessionService,\r\n    private message: MessagerService,\r\n    @Optional() private cdr: ChangeDetectorRef,\r\n    @Inject(LOCALE_ID) private localeId: string,\r\n    @Inject(WF_LANG_RESOURCES) private resources: any,\r\n    @Optional() private localePipe: WfLocalePipe\r\n  ) {\r\n    this.localePipe = this.localePipe || new WfLocalePipe(localeId, resources);\r\n   }\r\n\r\n  ngOnInit() {\r\n    this.getAllExecuteForms();\r\n  }\r\n\r\n  clickOK() {\r\n    if (this.grid.selectedRow) {\r\n      const form: ExecuteForm = this.grid.selectedRow.data;\r\n      const model = new ExecuteFormModel();\r\n      model.Id = ProcessDeUtil.GenerateElementId();\r\n      model.Name = form.name;\r\n      model.ComponentId = form.appId;\r\n      model.FormType = form.formType;\r\n      model.formFormatId = form.formFormatId;\r\n      model.TerminalType = this.tab === 'web' ? TerminalType.PC : TerminalType.MOBILE;\r\n      model.ActualParameters = form.actualParameters.map(p => {\r\n        const a = new ActualParameter();\r\n        a.Name = p.code;\r\n        a.Tag = p.valueType ? p.valueType : this.initVariableType(p.value);\r\n        a.Value = p.value;\r\n        return a;\r\n      });\r\n      this.submit.next(model);\r\n    } else {\r\n      this.message.info(this.localePipe.transform('component.executeForms.selectedRow'));\r\n    }\r\n  }\r\n\r\n  clickCancel() {\r\n    this.cancel.next();\r\n  }\r\n\r\n  // selectOtherFormFormat() {\r\n  //   this.lookUp.showDialog();\r\n  // }\r\n\r\n  // dictPicking = (arg) => {\r\n  //   return of({\r\n  //     showDialog: true, data: {\r\n  //       tab: this.tab\r\n  //     }\r\n  //   });\r\n  // }\r\n\r\n  // dictPicked = (data: any): Observable<PickedResult> => {\r\n  //   const model = new ExecuteFormModel();\r\n  //   model.Id = ProcessDeUtil.GenerateElementId();\r\n  //   model.Name = data.name;\r\n  //   model.ComponentId = null;\r\n  //   model.FormType = '0';\r\n  //   model.formFormatId = data.id;\r\n  //   model.TerminalType = this.tab === 'web' ? TerminalType.PC : TerminalType.MOBILE;\r\n  //   model.ActualParameters = data.urlParameters.map(p => {\r\n  //     const a = new ActualParameter();\r\n  //     a.Name = p.code;\r\n  //     a.Value = p.value;\r\n  //     return a;\r\n  //   });\r\n  //   this.submit.next(model);\r\n  //   return of({ closeDialog: true });\r\n  // }\r\n\r\n  // selectOtherFunc() {\r\n  //   this.appHelper.showHelp(this.session.getUserSessionId());\r\n  // }\r\n\r\n  // funcSelected(apps: RtfApp[]) {\r\n  //   if (apps && apps.length > 0) {\r\n  //     const model = new ExecuteFormModel();\r\n  //     model.Id = ProcessDeUtil.GenerateElementId();\r\n  //     model.Name = apps[0].Name;\r\n  //     model.ComponentId = apps[0].Id;\r\n  //     model.FormType = '0';\r\n  //     model.formFormatId = null;\r\n  //     model.TerminalType = this.tab === 'web' ? TerminalType.PC : TerminalType.MOBILE;\r\n  //     model.ActualParameters = [];\r\n  //     if (apps[0].InvokingConfig['entityParams']) {\r\n  //       const paras = JSON.parse(apps[0].InvokingConfig['entityParams']);\r\n  //       model.ActualParameters = paras.map(p => ({\r\n  //         Name: p.name,\r\n  //         Value: ''\r\n  //       }));\r\n  //     }\r\n  //     setTimeout(() => {\r\n  //       this.submit.next(model);\r\n  //     }, 0);\r\n  //   }\r\n  // }\r\n\r\n  private getAllExecuteForms() {\r\n    forkJoin(this.getExecuteForms(), this.getFormFormats()).subscribe(re => {\r\n      if (re[0]) {\r\n        this.forms = re[0];\r\n      }\r\n      if (re[1] && re[1].length > 0) {\r\n        const formFormats = re[1];\r\n        for (const format of formFormats) {\r\n          if (this.forms.findIndex(f => f.formFormatId && f.formFormatId === format.id) === -1) {\r\n            const executeForm = new ExecuteForm();\r\n            executeForm.id = ProcessDeUtil.createNM();\r\n            executeForm.flowFormKey = this.state.flowFormInfo.flowForm.id;\r\n            executeForm.appId = null;\r\n            executeForm.code = format.code;\r\n            executeForm.name = format.name;\r\n            executeForm.actualParameters = [];\r\n            executeForm.isDefault = false;\r\n            executeForm.formType = '0';\r\n            executeForm.terminal = 'web';\r\n            executeForm.formFormatId = format.id;\r\n            executeForm.sysInit = 0;\r\n            executeForm.remarks = '';\r\n            if (format.urlParameters && format.urlParameters.length > 0) {\r\n              const actPList = format.urlParameters.map(p => ({\r\n                code: p.code,\r\n                name: p.name,\r\n                valueType: p.valueType ? p.valueType : this.initVariableType(p.value),\r\n                value: p.value\r\n              }));\r\n              executeForm.actualParameters = actPList;\r\n            }\r\n            this.forms.push(executeForm);\r\n          }\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  initVariableType(value): string {\r\n    if (value) {\r\n        if (value.length >= 8 && value.slice(0, 8) === `{\"expr\":`) {\r\n            return 'expression';\r\n        } else {\r\n            return 'constant';\r\n        }\r\n    } else {\r\n        return 'variable';\r\n    }\r\n  }\r\n\r\n  private getExecuteForms(): Observable<any> {\r\n    if (this.state.flowFormInfo.flowForm.id && this.tab) {\r\n      const url = `/api/runtime/wf/v1.0/excuteForm?flowFormKey=${this.state.flowFormInfo.flowForm.id}`;\r\n      return this.http.get(url).pipe(\r\n        map((re: any) => {\r\n          if (this.tab === 'web') {\r\n            return re.filter(f => f.terminal.indexOf('web') > -1);\r\n          } else if (this.tab === 'mobile') {\r\n            return re.filter(f => f.terminal.indexOf('app') > -1);\r\n          }\r\n        })\r\n      );\r\n    } else {\r\n      return from(new Array());\r\n    }\r\n  }\r\n\r\n  private getFormFormats(): Observable<any>  {\r\n    if (this.state.flowFormInfo.flowForm.businessObjectId && this.tab) {\r\n      const terminal = this.tab === 'web' ? 'PC' : 'Mobile';\r\n      let url = `/api/runtime/wf/v1.0/formFormat/query?param=`;\r\n      let param = `{\"bizCategory\":\"${this.state.flowFormInfo.flowForm.businessObjectId}\",\"terminal\":\"${terminal}\"}`;\r\n      param = encodeURIComponent(param);\r\n      url += param;\r\n      return this.http.get(url);\r\n    } else {\r\n      return from(new Array());\r\n    }\r\n  }\r\n\r\n}\r\n","export class FormFormat {\r\n    id: string;\r\n    code: string;\r\n    name: string;\r\n    bizCategory: string;\r\n    formUrl: string;\r\n    urlType: string;\r\n    formatType: string;\r\n    status: number;\r\n    urlParameters: Array<FormatParameter>;\r\n    formButtons: Array<FormButton>;\r\n    formFields: Array<FormFieldData>;\r\n}\r\n\r\nexport class FormFieldData {\r\n    data: FormField;\r\n    expanded: boolean;\r\n    leaf: boolean;\r\n    children: Array<FormFieldData>;\r\n}\r\n\r\nexport class FormatParameter {\r\n    code: string;\r\n    name: string;\r\n    value: string;\r\n}\r\n\r\nexport class FormButton {\r\n    id: string;\r\n    buttonId: string;\r\n    buttonName: string;\r\n    buttonState: string;\r\n    description: string;\r\n    sortOrder: number;\r\n    formFormatId: string;\r\n}\r\n\r\nexport class FormField {\r\n    id: string;\r\n    fieldId: string;\r\n    fieldName: string;\r\n    fieldState: string;\r\n    description: string;\r\n    sortOrder: number;\r\n    formFormatId: string;\r\n}\r\n","import { ProcessDeUtil } from '../../../domain/process-de-util';\r\nimport { FormMethodConfig } from './form-method-config';\r\n\r\nexport class FormFormatConfig {\r\n    constructor() {\r\n        this.id = ProcessDeUtil.createNM();\r\n        this.formMethodConfigs = new Array();\r\n    }\r\n    id: string;\r\n    code: string;\r\n    name: string;\r\n    formFormatId: string;\r\n    description: string;\r\n    formButtonConfigs: Array<FormButtonConfig>;\r\n    formFieldConfigs: Array<FormFieldConfig>;\r\n    formMethodConfigs: Array<FormMethodConfig>;\r\n}\r\n\r\nexport class FormButtonConfig {\r\n    buttonId: string;\r\n    buttonState: string;\r\n}\r\n\r\nexport class FormFieldConfig {\r\n    fieldId: string;\r\n    fieldState: string;\r\n}\r\n","import { ProcessDeUtil } from '../../../domain/process-de-util';\r\n\r\nexport const workFlowActions: any[] = [\r\n    { text: '正向', value: 'Forward' },\r\n    { text: '反向', value: 'Backward' },\r\n    { text: '终止', value: 'Abort' }\r\n];\r\nexport const executionTime = [\r\n    { text: '流转前', value: 'Pre' },\r\n    { text: '流转后', value: 'Post' }\r\n];\r\n\r\nexport class FormMethodConfig {\r\n    constructor() {\r\n        this.id = ProcessDeUtil.createNM();\r\n        this.workFlowAction = workFlowActions[0].value;\r\n        this.executionTime = executionTime[0].value;\r\n        this.sortOrder = 1;\r\n    }\r\n    id: string;\r\n    formFormatConfigId: string;\r\n    workFlowAction: string;\r\n    method: string;\r\n    executionTime: string;\r\n    sortOrder: number;\r\n    methodParameters: Array<any>;\r\n}\r\n\r\n\r\n","import { ChangeDetectorRef, Component, EventEmitter, Inject, LOCALE_ID, OnInit, Optional, Output, TemplateRef, ViewChild } from '@angular/core';\r\nimport { DatagridComponent } from '@farris/ui-datagrid';\r\nimport { WF_LANG_RESOURCES, WfLocalePipe } from '../../../i18n/pipe/wf-process-editor-locale.pipe';\r\nimport { WF_PROCESS_EDITOR_LANG_RESOURCES } from '../../../i18n/assets/lang.resource';\r\n\r\n@Component({\r\n  selector: 'lib-variable-grid',\r\n  templateUrl: './variable-grid.component.html',\r\n  styleUrls: ['./variable-grid.component.scss'],\r\n  providers: [\r\n     WfLocalePipe,\r\n  ]\r\n})\r\nexport class VariableGridComponent implements OnInit {\r\n\r\n  @ViewChild(DatagridComponent) grid: DatagridComponent;\r\n  @ViewChild('buttonRef') buttonRef: TemplateRef<any>;\r\n  @Output() cancel = new EventEmitter<any>();\r\n  @Output() submit = new EventEmitter<any>();\r\n\r\n  data = [];\r\n\r\n  columns = [\r\n    { field: 'key', width: 50, title: this.localePipe.transform('component.executeForms.key')},\r\n    { field: 'name', width: 50, title: this.localePipe.transform('component.executeForms.name')}\r\n  ];\r\n\r\n  constructor(\r\n    @Optional() private cdr: ChangeDetectorRef,\r\n    @Inject(LOCALE_ID) private localeId: string,\r\n    @Inject(WF_LANG_RESOURCES) private resources: any,\r\n    @Optional() private localePipe: WfLocalePipe,\r\n  ) {\r\n    this.localePipe = this.localePipe || new WfLocalePipe(localeId, resources);\r\n   }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  clickOK() {\r\n    const selectedRow = this.grid.selectedRow;\r\n    console.log(selectedRow);\r\n    if (!selectedRow) {\r\n      this.submit.next(null);\r\n    } else {\r\n      this.submit.next(selectedRow.data);\r\n    }\r\n  }\r\n\r\n  clickCancel() {\r\n    this.cancel.next();\r\n  }\r\n}\r\n","import { Component, OnInit, ViewChild, TemplateRef, ComponentFactoryResolver, Injector, ChangeDetectorRef, Optional, LOCALE_ID, Inject } from '@angular/core';\r\nimport { ExpressionService, InjectedType, VarEntity } from '@gsp-svc/expression';\r\nimport { ProcessDesignerUIState } from '../../../app/process-designer.uistate';\r\nimport { of, Subject } from 'rxjs';\r\nimport { DatagridComponent } from '@farris/ui-datagrid';\r\nimport { EditorTypes } from '@farris/ui-datagrid-editors';\r\nimport { BsModalService } from '@farris/ui-modal';\r\nimport { VariableGridComponent } from '../variable-grid/variable-grid.component';\r\nimport { WF_LANG_RESOURCES, WfLocalePipe } from '../../../i18n/pipe/wf-process-editor-locale.pipe';\r\nimport { WF_PROCESS_EDITOR_LANG_RESOURCES } from '../../../i18n/assets/lang.resource';\r\n\r\n@Component({\r\n  selector: 'lib-parameter-setting',\r\n  templateUrl: './parameter-setting.component.html',\r\n  styleUrls: ['./parameter-setting.component.scss'],\r\n  providers: [\r\n     WfLocalePipe,\r\n  ]\r\n})\r\nexport class ParameterSettingComponent implements OnInit {\r\n\r\n  @ViewChild('iconSelectFooter') modalFooter: TemplateRef<any>;\r\n  @ViewChild('grid') grid: DatagridComponent;\r\n\r\n  idField: 'Name' | 'code' = 'Name';\r\n\r\n  private _mode: 'bpmn' | 'usual' = 'bpmn';\r\n  set mode(m: 'bpmn' | 'usual') {\r\n    this._mode = m;\r\n    if (m === 'bpmn') {\r\n      this.idField = 'Name';\r\n      this.cols = [\r\n        { field: 'Name', width: 50, title: this.localePipe.transform('component.executeForms.code') },\r\n        { field: 'Tag', width: 50, title: this.localePipe.transform('component.executeForms.tag'),  formatter: {\r\n          type: 'enum',\r\n          options: { valueField: 'value', textField: 'text', data: this.valueTypeCollection }\r\n        },\r\n        editor: {\r\n          type: EditorTypes.COMBOLIST,\r\n          options: {\r\n            valueField: 'value', textField: 'text', data: this.valueTypeCollection, idField: 'value', panelHeight: 'auto', enableClear: false,\r\n            selectChange: (e) => {\r\n              this.valueTypeChange(e);\r\n            }}\r\n        } },\r\n        {\r\n          field: 'Value', width: 100, title: this.localePipe.transform('component.executeForms.value'),\r\n          editor: {\r\n            type: 'input-group',\r\n            options: {\r\n              groupText: '<i class=\"f-icon f-icon-lookup\"></i>',\r\n              editable: false,\r\n              clickHandle: (e) => {\r\n                e.formControl.setValue(e.instance.value ? e.instance.value : '');\r\n                this.showExprHelp(e);\r\n              },\r\n              clear: (e) => {\r\n                console.log('clear', e);\r\n              }\r\n            }\r\n          }\r\n        }\r\n      ];\r\n    } else {\r\n      this.idField = 'code';\r\n      this.cols = [\r\n        { field: 'code', width: 50, title: this.localePipe.transform('component.executeForms.code') },\r\n        { field: 'name', width: 50, title: this.localePipe.transform('component.executeForms.name') },\r\n        {\r\n          field: 'value', width: 100, title: this.localePipe.transform('component.executeForms.value') ,\r\n          editor: {\r\n            type: 'input-group',\r\n            options: {\r\n              groupText: '<i class=\"f-icon f-icon-lookup\"></i>',\r\n              editable: false,\r\n              clickHandle: (e) => {\r\n                e.formControl.setValue(e.instance.value ? e.instance.value : '');\r\n                this.showExprHelp(e);\r\n              },\r\n              clear: (e) => {\r\n                console.log('clear', e);\r\n              }\r\n            }\r\n          }\r\n        }\r\n      ];\r\n    }\r\n  }\r\n\r\n  get mode() {\r\n    return this._mode;\r\n  }\r\n  submit = new Subject<any>();\r\n  cancel = new Subject();\r\n  formTypeCollection = [\r\n    { text: this.localePipe.transform('component.executeForms.processEmbeddedForm'), value: '0' },\r\n    { text: this.localePipe.transform('component.executeForms.formEmbedProcess'), value: '1' },\r\n  ];\r\n\r\n  public valueTypeCollection = [\r\n    { text: this.localePipe.transform('component.executeForms.variable'), value: 'variable' },\r\n    { text: this.localePipe.transform('component.executeForms.constant'), value: 'constant' },\r\n    { text: this.localePipe.transform('component.executeForms.expression'), value: 'expression' }\r\n  ];\r\n\r\n\r\n  cols = new Array();\r\n\r\n  parameters = new Array();\r\n\r\n  formType = this.formTypeCollection[0].value;\r\n\r\n  showFormType = false;\r\n\r\n  allParameters = new Array();\r\n\r\n  constructor(\r\n    private expr: ExpressionService,\r\n    private designerState: ProcessDesignerUIState,\r\n    private resolver: ComponentFactoryResolver,\r\n    private modalService: BsModalService,\r\n    public injector: Injector,\r\n    @Optional() private cdr: ChangeDetectorRef,\r\n    @Inject(LOCALE_ID) private localeId: string,\r\n    @Inject(WF_LANG_RESOURCES) private resources: any,\r\n    @Optional() private localePipe: WfLocalePipe,\r\n  ) {\r\n    this.localePipe = this.localePipe || new WfLocalePipe(localeId, resources);\r\n   }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  showExprHelp(e: any) {\r\n    let context = new Array<VarEntity>();\r\n    // if(this.expr.exprEntity.contextEntities.find(x => x.key === 'CurrentLanguage')) {\r\n    //   context.push(this.expr.exprEntity.contextEntities.find(x => x.key === 'CurrentLanguage'));\r\n    // }\r\n    // this.expr.clearContext();\r\n    if (this.designerState.schemas.length > 0) {\r\n      for (const schema of this.designerState.schemas) {\r\n        this.expr.addSchema('Schema', schema);\r\n      }\r\n      if (this.designerState.schemas[0].entityTypes && this.designerState.schemas[0].entityTypes.length > 0) {\r\n        const entityType = this.designerState.schemas[0].entityTypes[0];\r\n        this.expr.addInjectedEntity(entityType.name, 'Schema',\r\n          entityType.name, InjectedType.EntityType);\r\n      }\r\n    }\r\n    context = this.designerState.addContext(context);\r\n    if (this.designerState.subActivityContext.length > 0) {\r\n      for (const variable of this.designerState.subActivityContext) {\r\n        if (!context.some(c => c.key === variable.key)) {\r\n          context.push(variable);\r\n        }\r\n        // this.expr.addContext(variable);\r\n      }\r\n    }\r\n    if (context.length > 0) {\r\n      for (const v of context) {\r\n        this.expr.addContext(v);\r\n      }\r\n    }\r\n\r\n    this.expr.addExpressionText(e.instance.value);\r\n\r\n    this.expr.buildExpression().then((d: string) => { // 编辑器返回值\r\n      if (d) {\r\n        e.formControl.setValue(d);\r\n        e.instance.cd.detectChanges();\r\n      }\r\n      //点击确定后，去除表达式里面的新增的上下文变量\r\n      if(context.length > 0) {\r\n        this.expr.exprEntity.contextEntities = this.expr.exprEntity.contextEntities.filter(x => !context.some(y => y.key === x.key));\r\n      }\r\n    });\r\n  }\r\n\r\n  clickOK() {\r\n    this.grid.endCellEdit();\r\n    this.submit.next({ parameters: this.parameters, formType: this.formType });\r\n  }\r\n\r\n  clickCancel() {\r\n    this.cancel.next();\r\n  }\r\n\r\n  valueTypeChange(e: any) {\r\n    const param = this.parameters.find(p => p.Name === e.rowData.Name);\r\n    param.Value = '';\r\n  }\r\n\r\n  beforeEdit = (param: any) => {\r\n    if (this.mode === 'usual') {\r\n      return of(true);\r\n    } else {\r\n      if (param.column.field === 'Value') {\r\n        const rowData = param.rowData as any;\r\n        switch (rowData.Tag) {\r\n          case 'expression':\r\n            param.column.editor =  {\r\n              type: 'input-group',\r\n              options: {\r\n                groupText: '<i class=\"f-icon f-icon-lookup\"></i>',\r\n                editable: false,\r\n                clickHandle: (e) => {\r\n                  e.formControl.setValue(e.instance.value ? e.instance.value : '');\r\n                  this.showExprHelp(e);\r\n                },\r\n                clear: (e) => {\r\n                  console.log('clear', e);\r\n                }\r\n              }\r\n            };\r\n            break;\r\n          case 'variable':\r\n            param.column.editor =  {\r\n              type: 'input-group',\r\n              options: {\r\n                groupText: '<i class=\"f-icon f-icon-lookup\"></i>',\r\n                editable: true,\r\n                clickHandle: (e) => {\r\n                  this.selectVariable(e);\r\n                },\r\n                clear: (e) => {\r\n                  console.log('clear', e);\r\n                }\r\n              }\r\n            };\r\n            break;\r\n          case 'constant':\r\n            param.column.editor = { type: EditorTypes.TEXTBOX, options: {} };\r\n            break;\r\n        }\r\n      }\r\n      return of(true);\r\n    }\r\n  }\r\n\r\n  selectVariable(e: any) {\r\n    const compFactory = this.resolver.resolveComponentFactory(VariableGridComponent);\r\n    const compRef = compFactory.create(this.injector);\r\n    compRef.instance.data = this.allParameters; // 目前只能根据元数据类型过滤，后续添加标签过滤\r\n    const modalConfig = {\r\n      title: this.localePipe.transform('component.executeForms.variable'),\r\n      width: 460,\r\n      height: 450,\r\n      showButtons: true,\r\n      buttons: compRef.instance.buttonRef\r\n    };\r\n    const dialog = this.modalService.show(compRef, modalConfig);\r\n    compRef.instance.submit.subscribe(data => {\r\n      if (data) {\r\n        e.formControl.setValue(data.key);\r\n        e.instance.cd.detectChanges();\r\n      }\r\n      dialog.close();\r\n    });\r\n    compRef.instance.cancel.subscribe( data => dialog.close());\r\n  }\r\n}\r\n","import { Component, OnInit, Input, ViewChild, TemplateRef, ComponentFactoryResolver, Injector, ChangeDetectorRef, Optional, Inject, LOCALE_ID } from '@angular/core';\r\nimport { EditorTypes } from '@farris/ui-datagrid-editors';\r\nimport { workFlowActions, executionTime, FormMethodConfig } from '../entities/form-method-config';\r\nimport { HttpService } from '@ecp-caf/caf-common';\r\nimport { FormMethod } from '../entities/form-method';\r\nimport { DialogComponent } from '@farris/ui-dialog';\r\nimport { DatagridComponent } from '@farris/ui-datagrid';\r\nimport { MessagerService } from '@farris/ui-messager';\r\nimport { BsModalService } from '@farris/ui-modal';\r\nimport { ParameterSettingComponent } from '../parameter-setting/parameter-setting.component';\r\nimport { WF_LANG_RESOURCES, WfLocalePipe } from '../../../i18n/pipe/wf-process-editor-locale.pipe';\r\nimport { WF_PROCESS_EDITOR_LANG_RESOURCES } from '../../../i18n/assets/lang.resource';\r\n\r\n@Component({\r\n  selector: 'lib-form-operation-config',\r\n  templateUrl: './form-operation-config.component.html',\r\n  styleUrls: ['./form-operation-config.component.scss'],\r\n  providers: [\r\n     WfLocalePipe,\r\n  ]\r\n})\r\nexport class FormOperationConfigComponent implements OnInit {\r\n  private _fromFormatId: string;\r\n  @Input()\r\n  set formFormatId(v: string) {\r\n    this._fromFormatId = v;\r\n    if (this._fromFormatId) {\r\n      this.getFormMethods();\r\n    }\r\n  }\r\n  get formFormatId() {\r\n    return this._fromFormatId;\r\n  }\r\n\r\n  @Input() formFormatConfigId: string;\r\n  @Input() operations = new Array<FormMethodConfig>();\r\n\r\n  @ViewChild('methodsDialog') methodsDialog: DialogComponent;\r\n  @ViewChild('grid') grid: DatagridComponent;\r\n  @ViewChild('methodGrid') methodGrid: DatagridComponent;\r\n  @ViewChild('cell') cell: TemplateRef<any>;\r\n\r\n  cols = new Array();\r\n\r\n  methodCols = [\r\n    { field: 'method', width: 100, title: this.localePipe.transform(\"component.executeForms.method\"), showTips: true },\r\n    { field: 'methodName', width: 80, title: this.localePipe.transform(\"component.executeForms.methodName\"), showTips: true },\r\n    { field: 'description', width: 120, title: this.localePipe.transform(\"component.executeForms.description\"), showTips: true }\r\n  ];\r\n  e: any;\r\n\r\n  formMethods = new Array<FormMethod>();\r\n  state: 'add' | 'edit' = 'add';\r\n\r\n  constructor(\r\n    private http: HttpService,\r\n    private message: MessagerService,\r\n    private resolver: ComponentFactoryResolver,\r\n    private injector: Injector,\r\n    private modalService: BsModalService,\r\n    @Optional() private cdr: ChangeDetectorRef,\r\n    @Inject(LOCALE_ID) private localeId: string,\r\n    @Inject(WF_LANG_RESOURCES) private resources: any,\r\n    @Optional() private localePipe: WfLocalePipe,\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n    this.cols = [\r\n    {\r\n      field: 'workFlowAction', width: 80, title: this.localePipe.transform(\"component.executeForms.workFlowAction\"),\r\n      formatter: {\r\n        type: 'enum',\r\n        options: { valueField: 'value', textField: 'text', data: workFlowActions }\r\n      },\r\n      editor: {\r\n        type: EditorTypes.COMBOLIST,\r\n        options: { valueField: 'value', textField: 'text', data: workFlowActions, idField: 'value', panelHeight: 'auto', enableClear: false }\r\n      },\r\n      validators: [\r\n        { type: 'required', messager: '必填' }\r\n      ]\r\n    }, {\r\n      field: 'method', width: 100, title: this.localePipe.transform(\"component.executeForms.formOperations\"),\r\n      editor: {\r\n        type: 'input-group',\r\n        options: {\r\n          groupText: '<i class=\"f-icon f-icon-lookup\"></i>',\r\n          editable: false,\r\n          clickHandle: (e) => {\r\n            e.formControl.setValue(e.instance.value ? e.instance.value : '');\r\n            this.e = e;\r\n            this.methodsDialog.show();\r\n            this.state = 'edit';\r\n          },\r\n          clear: (e) => {\r\n            console.log('clear', e);\r\n          }\r\n        }\r\n      },\r\n      formatter: (v, d, i) => {\r\n        if (v) {\r\n          const m = this.formMethods.find(item => item.method === v);\r\n          if (m) {\r\n            return m.methodName;\r\n          } else {\r\n            return '';\r\n          }\r\n        } else {\r\n          return '';\r\n        }\r\n      },\r\n      validators: [\r\n        { type: 'required', messager: '必填' }\r\n      ]\r\n    },\r\n    {\r\n      field: 'executionTime', width: 80, title: this.localePipe.transform(\"component.executeForms.executionTime\"),\r\n      formatter: {\r\n        type: 'enum',\r\n        options: { valueField: 'value', textField: 'text', data: executionTime }\r\n      },\r\n      editor: {\r\n        type: EditorTypes.COMBOLIST,\r\n        options: { valueField: 'value', textField: 'text', data: executionTime, idField: 'value', panelHeight: 'auto', enableClear: false }\r\n      },\r\n      validators: [\r\n        { type: 'required', messager: '必填' }\r\n      ]\r\n    },\r\n    {\r\n      field: 'sortOrder', width: 60, title: this.localePipe.transform(\"component.executeForms.sortOrder\"),\r\n      editor: {\r\n        type: EditorTypes.NUMBERBOX, options: {\r\n        }\r\n      },\r\n      formatter: { type: 'number', options: { precision: 0 } },\r\n      validators: [\r\n        { type: 'required', messager: '必填' }\r\n      ]\r\n    },\r\n    {\r\n      field: 'methodParameters', width: 80, title: this.localePipe.transform(\"component.executeForms.methodParameters\"),\r\n      template: this.cell,\r\n      halign: 'center', align: 'center'\r\n    }\r\n  ];\r\n  }\r\n\r\n  add() {\r\n    this.methodsDialog.show();\r\n    this.state = 'add';\r\n  }\r\n\r\n  delete() {\r\n    if (this.grid.selectedRow) {\r\n      this.operations = this.operations.filter(o => o.id !== this.grid.selectedRow.id);\r\n    } else {\r\n      this.message.info(this.localePipe.transform(\"component.executeForms.selectFormActionConfig\"));\r\n    }\r\n  }\r\n\r\n  editParam(ctx: any) {\r\n    const compFactory = this.resolver.resolveComponentFactory(ParameterSettingComponent);\r\n    const compRef = compFactory.create(this.injector);\r\n    compRef.instance.mode = 'usual';\r\n    compRef.instance.showFormType = false;\r\n    if (ctx.rowData.methodParameters) {\r\n      compRef.instance.parameters = [...ctx.rowData.methodParameters.map(p => Object.assign({}, p))];\r\n    } else {\r\n      compRef.instance.parameters = new Array();\r\n    }\r\n\r\n    const modalConfig = {\r\n      title: this.localePipe.transform(\"component.executeForms.parameterSettings\"),\r\n      width: 620,\r\n      height: 400,\r\n      showButtons: true,\r\n      buttons: compRef.instance.modalFooter\r\n    };\r\n    const dialog = this.modalService.show(compRef, modalConfig);\r\n\r\n    compRef.instance.submit.subscribe(re => {\r\n      for (const o of this.operations) {\r\n        if (o.id === ctx.rowData.id) {\r\n          o.methodParameters = re.parameters;\r\n        }\r\n      }\r\n      dialog.close();\r\n    });\r\n    compRef.instance.cancel.subscribe(re => {\r\n      dialog.close();\r\n    });\r\n  }\r\n\r\n  methodSelected() {\r\n    if (this.methodGrid.selectedRow) {\r\n      const data = this.methodGrid.selectedRow.data;\r\n      if (this.state === 'edit') {\r\n        if (this.e) {\r\n          this.e.formControl.setValue(data.method);\r\n          this.e.instance.cd.detectChanges();\r\n          for (const o of this.operations) {\r\n            if (o.id === data.id) {\r\n              o.method = data.method;\r\n              o.sortOrder = data.sortOrder;\r\n              o.methodParameters = data.methodParameters;\r\n            }\r\n          }\r\n        }\r\n      } else {\r\n        const operation = new FormMethodConfig();\r\n        operation.formFormatConfigId = this.formFormatConfigId;\r\n        operation.method = data.method;\r\n        operation.sortOrder = data.sortOrder;\r\n        operation.methodParameters = data.methodParameters;\r\n        this.operations = this.operations.concat([operation]);\r\n      }\r\n      this.methodsDialog.close();\r\n    } else {\r\n      this.message.info(this.localePipe.transform(\"component.executeForms.selectFormAction\"));\r\n    }\r\n  }\r\n\r\n  validator(): boolean {\r\n    this.grid.endCellEdit();\r\n    for (const o of this.operations) {\r\n      if (!o.method) {\r\n        this.message.info(this.localePipe.transform(\"component.executeForms.selectFormAction\"));\r\n        return false;\r\n      }\r\n    }\r\n    return true;\r\n  }\r\n\r\n  private getFormMethods() {\r\n    if (this.formFormatId) {\r\n      const url = `/api/runtime/wf/v1.0/formOperation?formFormatId=${this.formFormatId}`;\r\n      this.http.get(url).subscribe((re: any) => {\r\n        if (re) {\r\n          this.formMethods = re;\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n}\r\n","import { Component, OnInit, TemplateRef, ViewChild, HostBinding, Input, ViewContainerRef, ComponentRef, Injector, ChangeDetectorRef, Optional, Inject, LOCALE_ID } from '@angular/core';\r\nimport { HttpService } from '@ecp-caf/caf-common';\r\nimport { IFormFormatConfigComponent } from \"@gsp-wf/biz-process-api\";\r\nimport { Observable, of, forkJoin, Subject } from 'rxjs';\r\nimport { FormFormat, FormFieldData, FormField } from '../entities/form-format';\r\nimport { FormFormatConfig, FormButtonConfig, FormFieldConfig } from '../entities/form-format-config';\r\nimport { DatagridComponent } from '@farris/ui-datagrid';\r\nimport { ProcessDeUtil } from '../../../domain/process-de-util';\r\nimport { MessagerService } from '@farris/ui-messager';\r\nimport { NotifyService } from '@farris/ui-notify';\r\nimport { PickedResult, ServerSideToken, LookupGridComponent } from '@farris/ui-lookup';\r\nimport { switchMap, catchError } from 'rxjs/operators';\r\nimport { FormOperationConfigComponent } from '../form-operation-config/form-operation-config.component';\r\nimport { TreeTableComponent } from '@farris/ui-treetable';\r\nimport { FormFormatType } from '../entities/form-format-type';\r\nimport { WF_PROCESS_EDITOR_LANG_RESOURCES } from '../../../i18n/assets/lang.resource';\r\nimport { WF_LANG_RESOURCES, WfLocalePipe } from '../../../i18n/pipe/wf-process-editor-locale.pipe';\r\n\r\ndeclare var System: any;\r\n\r\n@Component({\r\n  selector: 'lib-form-format-config',\r\n  templateUrl: './form-format-config.component.html',\r\n  styleUrls: ['./form-format-config.component.scss'],\r\n  providers: [\r\n     WfLocalePipe,\r\n  ]\r\n})\r\nexport class FormFormatConfigComponent implements OnInit, IFormFormatConfigComponent {\r\n\r\n  @ViewChild('btnEnable') btnEnable: TemplateRef<any>;\r\n  @ViewChild('btnDisabled') btnDisabled: TemplateRef<any>;\r\n  @ViewChild('btnHidden') btnHidden: TemplateRef<any>;\r\n  @ViewChild('fieldEditable') fieldEditable: TemplateRef<any>;\r\n  @ViewChild('fieldReadonly') fieldReadonly: TemplateRef<any>;\r\n  @ViewChild('fieldHidden') fieldHidden: TemplateRef<any>;\r\n  @ViewChild('fieldRequired') fieldRequired: TemplateRef<any>;\r\n\r\n  @ViewChild('btnGrid') btnGrid: DatagridComponent;\r\n  @ViewChild('fieldTree') fieldTree: TreeTableComponent;\r\n  @ViewChild(FormOperationConfigComponent) operationConfig: FormOperationConfigComponent;\r\n\r\n  @ViewChild('container', { read: ViewContainerRef }) container: ViewContainerRef;\r\n  private extendComponentRef: ComponentRef<any>;\r\n\r\n  config: FormFormatConfig = new FormFormatConfig();\r\n  formFormat: FormFormat = new FormFormat();\r\n  formFormatType: FormFormatType;\r\n\r\n  state: 'new' | 'edit' = 'edit';\r\n\r\n  @Input() showMethodTab = true;\r\n\r\n  private _formFormatId: string;\r\n  set formFormatId(v: string) {\r\n    this._formFormatId = v;\r\n    this.config.formFormatId = v;\r\n  }\r\n\r\n  get formFormatId() {\r\n    return this._formFormatId;\r\n  }\r\n\r\n  private _formatConfigId: string;\r\n  set formatConfigId(v: string) {\r\n    this._formatConfigId = v;\r\n    if (!v) {\r\n      this.state = 'new';\r\n    }\r\n  }\r\n  get formatConfigId() {\r\n    return this._formatConfigId;\r\n  }\r\n\r\n  buttonCols = [];\r\n  buttonConfigs = new Array();\r\n\r\n  fieldCols = [];\r\n  fieldConfigs = new Array();\r\n\r\n  formatFieldList: Array<FormField> = new Array();\r\n\r\n  showExtendTab = false;\r\n\r\n  searchFields: { label: string, value: string }[];\r\n\r\n  constructor(\r\n    private http: HttpService,\r\n    private message: MessagerService,\r\n    private notify: NotifyService,\r\n    private injector: Injector,\r\n    @Optional() private cdr: ChangeDetectorRef,\r\n    @Inject(LOCALE_ID) private localeId: string,\r\n    @Inject(WF_LANG_RESOURCES) private resources: any,\r\n    @Optional() private localePipe: WfLocalePipe,\r\n  ) {\r\n    this.localePipe = this.localePipe || new WfLocalePipe(localeId, resources);\r\n    let serchFields = {\r\n      label : this.localePipe.transform('component.executeForms.fieldName'),\r\n      value : 'fieldName'\r\n    };\r\n    if(this.searchFields) {\r\n      if(!this.searchFields.some(x => x.value === serchFields.value)) {\r\n        this.searchFields = this.searchFields.concat(serchFields);\r\n      }\r\n    }else {\r\n      this.searchFields = [];\r\n      this.searchFields = this.searchFields.concat(serchFields);\r\n    }\r\n\r\n   }\r\n\r\n  ngOnInit() {\r\n    this.buttonCols = [\r\n      { field: 'buttonName', width: 100, title: this.localePipe.transform('component.executeForms.buttonName'), filter: true },\r\n      // { field: 'buttonId', width: 100, title: '按钮标识' },\r\n      {\r\n        title: this.localePipe.transform('component.executeForms.enable'),\r\n        field: 'enable',\r\n        width: 80,\r\n        template: this.btnEnable,\r\n        align: 'center',\r\n        hAlign: 'center'\r\n      },\r\n      {\r\n        title: this.localePipe.transform('component.executeForms.disabled'),\r\n        field: 'disabled',\r\n        width: 80,\r\n        template: this.btnDisabled,\r\n        align: 'center',\r\n        hAlign: 'center'\r\n      },\r\n      {\r\n        title: this.localePipe.transform('component.executeForms.hidden'),\r\n        field: 'hidden',\r\n        width: 80,\r\n        template: this.btnHidden,\r\n        align: 'center',\r\n        hAlign: 'center'\r\n      }];\r\n    this.fieldCols = [\r\n      { field: 'fieldName', width: 100, title: this.localePipe.transform('component.executeForms.fieldName')},\r\n      // { field: 'fieldId', width: 100, title: '字段标识' },\r\n      {\r\n        title: this.localePipe.transform('component.executeForms.editable'),\r\n        field: 'editable',\r\n        width: 80,\r\n        template: this.fieldEditable,\r\n        align: 'center',\r\n        hAlign: 'center'\r\n      },\r\n      {\r\n        title: this.localePipe.transform('component.executeForms.readonly'),\r\n        field: 'readonly',\r\n        width: 80,\r\n        template: this.fieldReadonly,\r\n        align: 'center',\r\n        hAlign: 'center'\r\n      },\r\n      {\r\n        title: this.localePipe.transform('component.executeForms.hidden'),\r\n        field: 'hidden',\r\n        width: 80,\r\n        template: this.fieldHidden,\r\n        align: 'center',\r\n        hAlign: 'center'\r\n      },\r\n      {\r\n        title: this.localePipe.transform('component.executeForms.required'),\r\n        field: 'required',\r\n        width: 80,\r\n        template: this.fieldRequired,\r\n        align: 'center',\r\n        hAlign: 'center'\r\n      }];\r\n    this.getConfig();\r\n  }\r\n\r\n  submit(): Observable<any> {\r\n    const subject = new Subject<any>();\r\n    this.validator().subscribe(re => {\r\n      if (re) {\r\n        this.setBtnAndFieldConfigs();\r\n        if (this.extendComponentRef) {\r\n          this.extendComponentRef.instance.submit().subscribe(configId => {\r\n            if (configId) {\r\n              this.config.id = configId;\r\n              this.saveConfig(this.config).subscribe(re => {\r\n                subject.next({ result: true, configId: this.config.id });\r\n              }, err => {\r\n                this.message.error(this.localePipe.transform('component.executeForms.saveFail'));\r\n                subject.next({ result: false, configId: this.config.id });\r\n              });\r\n            } else {\r\n              if (this.state === 'new' &&\r\n                this.config.formButtonConfigs.length === 0 &&\r\n                this.config.formFieldConfigs.length === 0 &&\r\n                this.operationConfig.operations.length === 0\r\n              ) {\r\n                setTimeout(() => {\r\n                  subject.next({ result: true, configId: null });\r\n                }, 10);\r\n              } else {\r\n                this.saveConfig(this.config).subscribe(re => {\r\n                  subject.next({ result: true, configId: this.config.id });\r\n                }, err => {\r\n                  this.message.error(this.localePipe.transform('component.executeForms.saveFail'));\r\n                  subject.next({ result: false, configId: this.config.id });\r\n                });\r\n              }\r\n            }\r\n          })\r\n        } else {\r\n          if (this.state === 'new' &&\r\n          this.config.formButtonConfigs.length === 0 &&\r\n          this.config.formFieldConfigs.length === 0 &&\r\n          this.operationConfig.operations.length === 0\r\n          ) {\r\n            setTimeout(() => {\r\n              subject.next({ result: true, configId: null });\r\n            }, 10);\r\n          } else {\r\n            this.saveConfig(this.config).subscribe(re => {\r\n              subject.next({ result: true, configId: this.config.id });\r\n            }, err => {\r\n              this.message.error(this.localePipe.transform('component.executeForms.saveFail'));\r\n              subject.next({ result: false, configId: this.config.id });\r\n            });\r\n          }\r\n        }\r\n      } else {\r\n        setTimeout(() => {\r\n          subject.next({ result: false})\r\n        }, 10);\r\n      }\r\n    })\r\n    return subject.asObservable();\r\n  }\r\n\r\n\r\n\r\n  searchField(data) {\r\n    data.field = 'fieldName';\r\n    let searchData = {\r\n      field : 'fieldName',\r\n      value : data.value\r\n    };\r\n    this.fieldTree.searchData = searchData;\r\n    // this.fieldTree.searchData.field = 'fieldName';\r\n    let serchFields = {\r\n      label : this.localePipe.transform('component.executeForms.fieldName'),\r\n      value : 'fieldName'\r\n    };\r\n    if(this.fieldTree.searchFields) {\r\n      if(!this.fieldTree.searchFields.some(x => x.value === serchFields.value)) {\r\n        this.fieldTree.searchFields = this.fieldTree.searchFields.concat(serchFields);\r\n      }\r\n    }else {\r\n      this.fieldTree.searchFields = [];\r\n      this.fieldTree.searchFields = this.fieldTree.searchFields.concat(serchFields);\r\n    }\r\n    this.fieldTree.searchHandle.search(data.field, data.value, 'client');\r\n  }\r\n\r\n  btnConfigChange(bool: boolean, field: string, id: string) {\r\n    if (bool) {\r\n      for (const b of this.buttonConfigs) {\r\n        if (b.id === id) {\r\n          switch (field) {\r\n            case 'enable':\r\n              b.enable = bool;\r\n              b.disabled = false;\r\n              b.hidden = false;\r\n              break;\r\n            case 'disabled':\r\n              b.disabled = bool;\r\n              b.enable = false;\r\n              b.hidden = false;\r\n              break;\r\n            case 'hidden':\r\n              b.hidden = bool;\r\n              b.disabled = false;\r\n              b.enable = false;\r\n              break;\r\n          }\r\n          this.btnGrid.updateRow(id, b);\r\n        }\r\n      }\r\n    }\r\n    this.btnGrid.cd.detectChanges();\r\n  }\r\n\r\n  btnBatchOperate(operation: string) {\r\n    const checkeds = this.btnGrid.checkedRows;\r\n    if (checkeds && checkeds.length > 0) {\r\n      for (const c of checkeds) {\r\n        this.btnConfigChange(true, operation, c.id);\r\n      }\r\n      this.btnGrid.cd.detectChanges();\r\n    } else {\r\n      this.message.info(this.localePipe.transform('component.executeForms.checkedRows'))\r\n    }\r\n  }\r\n\r\n  btnBatchReset() {\r\n    const checkeds = this.btnGrid.checkedRows;\r\n    if (checkeds && checkeds.length > 0) {\r\n      for (const c of checkeds) {\r\n        const button = this.formFormat.formButtons.find(b => b.id === c.id);\r\n        for (const b of this.buttonConfigs) {\r\n          if (b.id === c.id) {\r\n            b.enable = button.buttonState === 'Enable' ? true : false;\r\n            b.disabled = button.buttonState === 'Disabled' ? true : false;\r\n            b.hidden = button.buttonState === 'Hidden' ? true : false;\r\n          }\r\n          this.btnGrid.updateRow(b.id, b);\r\n        }\r\n      }\r\n      this.btnGrid.cd.detectChanges();\r\n    } else {\r\n      this.message.info(this.localePipe.transform('component.executeForms.checkedRows'))\r\n    }\r\n  }\r\n\r\n  fieldConfigChange(bool: boolean, field: string, id: string, search=true) {\r\n    if (bool) {\r\n      this.fieldSwitchChange(this.fieldConfigs, field, id);\r\n    }\r\n    if (search) {\r\n      this.fieldTree.searchHandle['research']();\r\n    }\r\n  }\r\n  private fieldSwitchChange(fieldConfigs: Array<any>, field: string, id: string) {\r\n    if (fieldConfigs.length > 0) {\r\n      for (const f of fieldConfigs) {\r\n        if (f.data.id === id) {\r\n          switch (field) {\r\n            case 'editable':\r\n              f.data.editable = true;\r\n              f.data.readonly = false;\r\n              f.data.hidden = false;\r\n              f.data.required = false;\r\n              break;\r\n            case 'readonly':\r\n              f.data.editable = false;\r\n              f.data.readonly = true;\r\n              f.data.hidden = false;\r\n              f.data.required = false;\r\n              break;\r\n            case 'hidden':\r\n              f.data.editable = false;\r\n              f.data.readonly = false;\r\n              f.data.hidden = true;\r\n              f.data.required = false;\r\n              break;\r\n            case 'required':\r\n              f.data.editable = false;\r\n              f.data.readonly = false;\r\n              f.data.hidden = false;\r\n              f.data.required = true;\r\n              break;\r\n          }\r\n          return;\r\n        } else {\r\n          if (f.children && f.children.length > 0) {\r\n            this.fieldSwitchChange(f.children, field, id);\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  fieldBatchOperate(operation: string) {\r\n    const checkeds = this.fieldTree.checkeds;\r\n    if (checkeds && checkeds.length > 0) {\r\n      for (const c of checkeds) {\r\n        this.fieldConfigChange(true, operation, c.data.id, false);\r\n      }\r\n      this.fieldTree.searchHandle['research']();\r\n    } else {\r\n      this.message.info(this.localePipe.transform('component.executeForms.checkeds'))\r\n    }\r\n  }\r\n\r\n  fieldBatchReset() {\r\n    const checkeds = this.fieldTree.checkeds;\r\n    if (checkeds && checkeds.length > 0) {\r\n      for (const c of checkeds) {\r\n        const field = this.formatFieldList.find(f => f.id === c.data.id);\r\n        this.resetFieldConfig(this.fieldConfigs, c.data.id, field);\r\n      }\r\n      this.fieldTree.searchHandle['research']();\r\n    } else {\r\n      this.message.info(this.localePipe.transform('component.executeForms.checkeds'))\r\n    }\r\n  }\r\n  resetFieldConfig(fieldConfigs: Array<any>, id: string, field: FormField) {\r\n    if (fieldConfigs.length > 0) {\r\n      for (const f of fieldConfigs) {\r\n        if (f.leaf === true && f.data.id === id) {\r\n          f.data.editable = field.fieldState === 'Editable' ? true : false;\r\n          f.data.readonly = field.fieldState === 'Readonly' ? true : false;\r\n          f.data.hidden = field.fieldState === 'Hidden' ? true : false;\r\n          f.data.required = field.fieldState === 'Required' ? true : false;\r\n          return;\r\n        } else {\r\n          if (f.children && f.children.length > 0) {\r\n            this.resetFieldConfig(f.children, id, field);\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  private validator(): Observable<boolean> {\r\n    if (this.extendComponentRef) {\r\n      const result$ = this.extendComponentRef.instance.validator();\r\n      if (result$ instanceof Observable) {\r\n        return result$.pipe(\r\n          switchMap((b: boolean) => {\r\n            if (b && this.innerValidator()) {\r\n              return of(true);\r\n            } else {\r\n              return of(false);\r\n            }\r\n          }));\r\n      } else {\r\n        if (result$) {\r\n          return of(this.innerValidator());\r\n        } else {\r\n          return of(false);\r\n        }\r\n      }\r\n    } else {\r\n      return of(this.innerValidator());\r\n    }\r\n  }\r\n\r\n  private innerValidator(): boolean  {\r\n    return this.operationConfig.validator();\r\n  }\r\n\r\n\r\n  private setBtnAndFieldConfigs() {\r\n    this.config.formButtonConfigs = new Array<FormButtonConfig>();\r\n    for (const btn of this.buttonConfigs) {\r\n      const button = this.formFormat.formButtons.find(b => b.buttonId === btn.buttonId);\r\n      const btnConfig = new FormButtonConfig();\r\n      btnConfig.buttonId = btn.buttonId;\r\n      if (btn.enable) {\r\n        btnConfig.buttonState = 'Enable';\r\n      } else if (btn.disabled) {\r\n        btnConfig.buttonState = 'Disabled';\r\n      } else if (btn.hidden) {\r\n        btnConfig.buttonState = 'Hidden';\r\n      } else {\r\n        continue;\r\n      }\r\n      if (!button.buttonState && btnConfig.buttonState) {\r\n        this.config.formButtonConfigs.push(btnConfig);\r\n      }\r\n      if (button.buttonState && button.buttonState !== btnConfig.buttonState) {\r\n        this.config.formButtonConfigs.push(btnConfig);\r\n      }\r\n    }\r\n    this.config.formFieldConfigs = new Array<FormFieldConfig>();\r\n    this.getFieldConfigs(this.fieldConfigs);\r\n\r\n    this.config.formMethodConfigs = this.operationConfig.operations || new Array();\r\n  }\r\n\r\n  private getFieldConfigs(fieldConfigs: Array<any>) {\r\n    if (fieldConfigs && fieldConfigs.length > 0) {\r\n      for (const f of fieldConfigs) {\r\n        if (f.children && f.children.length > 0) {\r\n          this.getFieldConfigs(f.children);\r\n        }\r\n        if (f.leaf === false) {\r\n          continue;\r\n        }\r\n        const field = this.formatFieldList.find(fd => fd.fieldId === f.data.fieldId);\r\n        const fieldConfig = new FormFieldConfig();\r\n        fieldConfig.fieldId = f.data.fieldId;\r\n        if (f.data.editable) {\r\n          fieldConfig.fieldState = 'Editable';\r\n        } else if (f.data.readonly) {\r\n          fieldConfig.fieldState = 'Readonly';\r\n        } else if (f.data.hidden) {\r\n          fieldConfig.fieldState = 'Hidden';\r\n        } else if (f.data.required) {\r\n          fieldConfig.fieldState = 'Required';\r\n        } else {\r\n          continue;\r\n        }\r\n\r\n        if (!field.fieldState && fieldConfig.fieldState) {\r\n          this.config.formFieldConfigs.push(fieldConfig);\r\n        }\r\n\r\n        if (field.fieldState && field.fieldState !== fieldConfig.fieldState) {\r\n          this.config.formFieldConfigs.push(fieldConfig);\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  private getConfig() {\r\n    if (this.formFormatId) {\r\n      forkJoin(this.getFormFormatType(), this.getFormFormat(), this.getFormFormatConfig()).subscribe((re: any[]) => {\r\n        const formFormatType = re[0] as FormFormatType;\r\n        if (formFormatType) {\r\n          this.formFormatType = formFormatType;\r\n          if (this.formFormatType.extendImpl) {\r\n            this.showExtendTab = true;\r\n            this.createExtendComponent(this.formFormatType.extendImpl);\r\n          } else {\r\n            this.showExtendTab = false;\r\n          }\r\n        }\r\n        const formFormat = re[1] as FormFormat;\r\n        if (formFormat) {\r\n          this.formFormat = this.convertFormFormat(formFormat);\r\n        }\r\n        const config = re[2] as FormFormatConfig;\r\n        if (config) {\r\n          this.config = config;\r\n        }\r\n        if (this.formFormat.formButtons) {\r\n          this.buttonConfigs = this.formFormat.formButtons.map(b => Object.assign({}, b, {\r\n            enable: b.buttonState === 'Enable' ? true : false,\r\n            disabled: b.buttonState === 'Disabled' ? true : false,\r\n            hidden: b.buttonState === 'Hidden' ? true : false\r\n          }));\r\n          let btnConfigs = new Array<FormButtonConfig>();\r\n          if (config && config.formButtonConfigs) {\r\n            btnConfigs = config.formButtonConfigs;\r\n          }\r\n          for (const b of btnConfigs) {\r\n            for (const btn of this.buttonConfigs) {\r\n              if (btn.buttonId === b.buttonId) {\r\n                switch (b.buttonState) {\r\n                  case 'Enable':\r\n                    btn.enable = true;\r\n                    btn.disabled = false;\r\n                    btn.hidden = false;\r\n                    break;\r\n                  case 'Disabled':\r\n                    btn.enable = false;\r\n                    btn.disabled = true;\r\n                    btn.hidden = false;\r\n                    break;\r\n                  case 'Hidden':\r\n                    btn.enable = false;\r\n                    btn.disabled = false;\r\n                    btn.hidden = true;\r\n                    break;\r\n                }\r\n                break;\r\n              }\r\n            }\r\n          }\r\n        }\r\n        if (this.formFormat.formFields) {\r\n          this.fieldConfigs = [...this.formFormat.formFields];\r\n          this.orgFieldConfigs(this.fieldConfigs);\r\n          let configs = new Array<FormFieldConfig>();\r\n          if (config && config.formFieldConfigs) {\r\n            configs = config.formFieldConfigs;\r\n          }\r\n          for (const f of configs) {\r\n            this.setFieldConfig(this.fieldConfigs, f);\r\n          }\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  createExtendComponent(extendImpl: string) {\r\n    const url = extendImpl.split('#')[0];\r\n    const selectorCmp = extendImpl.split('#')[1];\r\n    System.import(url)\r\n      .then((moduleFactorys: any) => {\r\n        const moduleFactory: any = Object.values(moduleFactorys)[0];\r\n        const moduleRef = moduleFactory.create(this.injector);\r\n        if (selectorCmp) {\r\n          let facMap: Map<any, any> = moduleRef.componentFactoryResolver['_factories'];\r\n          facMap.forEach((value: any, key: Function, map: Map<any, any>) => {\r\n              const selector = value.selector;\r\n              if (selectorCmp == selector) {\r\n                const cmpFactory = moduleRef.componentFactoryResolver.resolveComponentFactory(key as any);\r\n                this.extendComponentRef = cmpFactory.create(moduleRef.injector);\r\n                this.extendComponentRef.instance.formFormatId = this.formFormatId;\r\n                this.extendComponentRef.instance.formatConfigId = this.formatConfigId;\r\n                this.container.clear();\r\n                this.container.insert(this.extendComponentRef.hostView);\r\n              }\r\n          });\r\n        } else {\r\n          const bootstrapComponent = moduleRef['_bootstrapComponents'][0];\r\n          if (bootstrapComponent)//先找bootstrapComponent数组有无组件\r\n          {\r\n            const cmpFactory = moduleRef.componentFactoryResolver.resolveComponentFactory(bootstrapComponent);\r\n            this.extendComponentRef = cmpFactory.create(moduleRef.injector);\r\n            this.extendComponentRef.instance.formFormatId = this.formFormatId;\r\n            this.extendComponentRef.instance.formatConfigId = this.formatConfigId;\r\n            this.container.clear();\r\n            this.container.insert(this.extendComponentRef.hostView);\r\n          }\r\n        }\r\n    });\r\n  }\r\n\r\n  private orgFieldConfigs(formFields: Array<FormFieldData>) {\r\n    if (formFields.length > 0) {\r\n      for (const d of formFields) {\r\n        d.data = Object.assign({}, d.data, {\r\n          editable: d.data.fieldState === 'Editable' ? true : false,\r\n          readonly: d.data.fieldState === 'Readonly' ? true : false,\r\n          hidden: d.data.fieldState === 'Hidden' ? true : false,\r\n          required: d.data.fieldState === 'Required' ? true : false\r\n        });\r\n        if (d.children && d.children) {\r\n          this.orgFieldConfigs(d.children);\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  private setFieldConfig(fieldConfigs: Array<any>, config: FormFieldConfig) {\r\n    if (fieldConfigs.length > 0) {\r\n      for (const f of fieldConfigs) {\r\n        if (f.data.fieldId === config.fieldId) {\r\n          switch (config.fieldState) {\r\n            case 'Editable':\r\n              f.data.editable = true;\r\n              f.data.readonly = false;\r\n              f.data.hidden = false;\r\n              f.data.required = false;\r\n              break;\r\n            case 'Readonly':\r\n              f.data.editable = false;\r\n              f.data.readonly = true;\r\n              f.data.hidden = false;\r\n              f.data.required = false;\r\n              break;\r\n            case 'Hidden':\r\n              f.data.editable = false;\r\n              f.data.readonly = false;\r\n              f.data.hidden = true;\r\n              f.data.required = false;\r\n              break;\r\n            case 'Required':\r\n              f.data.editable = false;\r\n              f.data.readonly = false;\r\n              f.data.hidden = false;\r\n              f.data.required = true;\r\n              break;\r\n          }\r\n          return;\r\n        } else {\r\n          if (f.children && f.children.length > 0) {\r\n            this.setFieldConfig(f.children, config);\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  private saveConfig(config: FormFormatConfig): Observable<any> {\r\n    const url = '/api/runtime/wf/v1.0/formFormatConfig';\r\n    return this.http.post(url, config);\r\n  }\r\n\r\n  private getFormFormat(): Observable<any> {\r\n    if (this.formFormatId) {\r\n      let url = `/api/runtime/wf/v1.0/formFormat/${this.formFormatId}`;\r\n      url = encodeURI(url);\r\n      return this.http.get(url);\r\n    } else {\r\n      return of(null);\r\n    }\r\n  }\r\n\r\n  private getFormFormatType(): Observable<any> {\r\n    if (this.formFormatId) {\r\n      const url = `/api/runtime/wf/v1.0/formFormatType/formFormat?formFormat=${this.formFormatId}`;\r\n      return this.http.get(url);\r\n    }\r\n  }\r\n\r\n  private getFormFormatConfig(): Observable<any> {\r\n    if (this.formatConfigId) {\r\n      let url = `/api/runtime/wf/v1.0/formFormatConfig/${this.formatConfigId}`;\r\n      url = encodeURI(url);\r\n      return this.http.get(url);\r\n    } else {\r\n      return of(null);\r\n    }\r\n  }\r\n\r\n  private convertFormFormat(formFormat: FormFormat): FormFormat {\r\n    if (!formFormat.status) {\r\n      formFormat.status = 0;\r\n    }\r\n    this.convertformFields(formFormat.formFields);\r\n    this.getFormatFieldList(formFormat.formFields, this.formatFieldList);\r\n    return formFormat;\r\n  }\r\n\r\n  private convertformFields(formFields: Array<FormFieldData>) {\r\n    if (formFields && formFields.length > 0) {\r\n      for (const d of formFields) {\r\n        if (typeof(d.leaf) !== 'boolean' && (d.leaf == null || d.leaf === undefined)) {\r\n          d.leaf = true;\r\n        }\r\n        if (d.children && d.children) {\r\n          this.orgFieldConfigs(d.children);\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  private getFormatFieldList(formFields: Array<FormFieldData>, array: Array<FormField>) {\r\n    if (formFields && formFields.length > 0) {\r\n      for (const d of formFields) {\r\n        array.push(d.data);\r\n        if (d.children && d.children) {\r\n          this.getFormatFieldList(d.children, array);\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  private getFormatField(formFields: Array<FormFieldData>, fieldId: string): FormFieldData {\r\n    for (const f of formFields) {\r\n      if (f.data.fieldId === fieldId) {\r\n        return f;\r\n      }\r\n      if (f.children && f.children.length > 0) {\r\n        return this.getFormatField(f.children, fieldId);\r\n      }\r\n    }\r\n\r\n  }\r\n\r\n}\r\n","import { Component, OnInit, ViewChild, ViewContainerRef, Injector, ComponentFactoryResolver, ComponentRef, TemplateRef, Input, SimpleChanges, OnChanges } from '@angular/core';\r\nimport { IFormFormatConfigComponent } from '@gsp-wf/biz-process-api';\r\nimport { FormFormatConfigComponent } from '../form-format-config/form-format-config.component';\r\nimport { HttpService } from '@ecp-caf/caf-common';\r\nimport { Observable, Subject } from 'rxjs';\r\nimport { FormFormatType } from '../entities/form-format-type';\r\n\r\ndeclare var System: any;\r\n\r\n@Component({\r\n  selector: 'lib-form-config-container',\r\n  templateUrl: './form-config-container.component.html',\r\n  styleUrls: ['./form-config-container.component.css']\r\n})\r\nexport class FormConfigContainerComponent implements OnInit, OnChanges {\r\n\r\n  private componentRef: ComponentRef<any>;\r\n  @ViewChild('container', { read: ViewContainerRef }) container: ViewContainerRef;\r\n  @ViewChild('iconSelectFooter') modalFooter: TemplateRef<any>;\r\n\r\n  @Input()\r\n  formFormatId: string;\r\n  @Input()\r\n  formatConfigId: string;\r\n\r\n  @Input() showMethodTab = true;\r\n  constructor(\r\n    private injector: Injector,\r\n    private cfr: ComponentFactoryResolver,\r\n    private http: HttpService\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n    // this.showComponentRef();\r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges) {\r\n    if (changes['formFormatId'] && changes['formFormatId'].currentValue) {\r\n      this.showComponentRef();\r\n    } else { // 功能菜单时\r\n      this.componentRef = this.createWFComponentRef();\r\n      this.componentRef.instance.formFormatId = null;\r\n      this.componentRef.instance.formatConfigId = null;\r\n      this.componentRef.instance.showMethodTab = this.showMethodTab;\r\n      this.container.clear();\r\n      this.container.insert(this.componentRef.hostView);\r\n    }\r\n  }\r\n\r\n  submit(): Observable<any> {\r\n    return this.componentRef.instance.submit();\r\n  }\r\n\r\n  private showComponentRef() {\r\n    this.componentRef = this.createWFComponentRef();\r\n    this.componentRef.instance.formFormatId = this.formFormatId;\r\n    this.componentRef.instance.formatConfigId = this.formatConfigId;\r\n    this.componentRef.instance.showMethodTab = this.showMethodTab;\r\n    this.container.clear();\r\n    this.container.insert(this.componentRef.hostView);\r\n    // if (this.formFormatId) {\r\n      // this.getFormFormatType().subscribe((re: FormFormatType) => {\r\n        // if (re.code === 'wf') {\r\n\r\n        // } else {\r\n        //   System.import(re.customImpl)\r\n        //     .then((moduleFactorys: any) => {\r\n        //       const moduleFactory: any = Object.values(moduleFactorys)[0];\r\n        //       const moduleRef = moduleFactory.create(this.injector);\r\n        //       this.componentRef = moduleRef.instance.createCustomComponentRef(this.injector);\r\n        //       this.componentRef.instance.formFormatId = this.formFormatId;\r\n        //       this.componentRef.instance.formatConfigId = this.formatConfigId;\r\n        //       this.componentRef.instance.showMethodTab = this.showMethodTab;\r\n        //       this.container.clear();\r\n        //       this.container.insert(this.componentRef.hostView);\r\n        //     });\r\n        // }\r\n      // });\r\n    // }\r\n  }\r\n\r\n  private createWFComponentRef(): ComponentRef<IFormFormatConfigComponent> {\r\n    const cmpF = this.cfr.resolveComponentFactory(FormFormatConfigComponent);\r\n    const cmpR = cmpF.create(this.injector);\r\n    return cmpR;\r\n  }\r\n\r\n  private getFormFormatType(): Observable<any> {\r\n    if (this.formFormatId) {\r\n      const url = `/api/runtime/wf/v1.0/formFormatType/formFormat?formFormat=${this.formFormatId}`;\r\n      return this.http.get(url);\r\n    }\r\n  }\r\n\r\n}\r\n","import { Component, OnInit, HostBinding, Output, EventEmitter, Input, ViewChild, TemplateRef, ElementRef, ComponentFactoryResolver, Injector, AfterViewInit, AfterContentInit, ChangeDetectorRef, Optional, Inject, LOCALE_ID } from '@angular/core';\r\nimport { TypeConverter } from '@farris/ide-property-panel';\r\nimport { of } from 'rxjs/observable/of';\r\nimport { FormBuilder } from '@angular/forms';\r\nimport { ExecuteFormsUIState } from './execute-forms.uistate';\r\nimport { ExecuteFormsViewModel } from './execute-forms.viewmodel';\r\nimport { ExecuteFormsRepository } from './execute-forms.repository';\r\nimport { ExecuteFormModel, TerminalType, ActualParameter } from './entities/execute-form.entity';\r\nimport { BsModalService } from '@farris/ui-modal';\r\nimport { AddExecuteFormComponent } from './add-execute-form/add-execute-form.component';\r\nimport { FormConfigContainerComponent } from './form-config-container/form-config-container.component';\r\nimport { ParameterSettingComponent } from './parameter-setting/parameter-setting.component';\r\nimport { Observable, Subject, forkJoin } from 'rxjs';\r\nimport { switchMap } from 'rxjs/operators';\r\nimport { ProcessDesignerUIState } from '../../app/process-designer.uistate';\r\nimport { MessagerService } from '@farris/ui-messager';\r\nimport { WF_LANG_RESOURCES, WfLocalePipe } from '../../i18n/pipe/wf-process-editor-locale.pipe';\r\nimport { WF_PROCESS_EDITOR_LANG_RESOURCES } from '../../i18n/assets/lang.resource';\r\n\r\n@Component({\r\n  selector: 'app-execute-forms',\r\n  templateUrl: './execute-forms.component.html',\r\n  styleUrls: ['./execute-forms.component.css'],\r\n  providers: [\r\n    ExecuteFormsUIState, ExecuteFormsViewModel, ExecuteFormsRepository,\r\n    WfLocalePipe,\r\n  ]\r\n})\r\nexport class ExecuteFormsComponent implements OnInit, AfterViewInit {\r\n  modalConfig = {\r\n    title: this.localePipe.transform('component.executeForms.executeForms'),\r\n    width: 760,\r\n    height: 532,\r\n    showButtons: true\r\n  };\r\n\r\n  @HostBinding('class')\r\n  cls = 'farris-main-area flex-column';\r\n  @HostBinding('style.background') style = '#FFF';\r\n  @Output() closeModal = new EventEmitter<any>();\r\n  @Output() submitModal = new EventEmitter<any>();\r\n\r\n  @Input()\r\n  set value(item: ExecuteFormModel) {\r\n    if (item) {\r\n      const paramArray = new Array<ActualParameter>();\r\n      item.ActualParameters.forEach(a => {\r\n        const para = new ActualParameter();\r\n        para.Name = a.Name;\r\n        para.Tag = a.Tag ? a.Tag : this.initVariableType(a.Value);\r\n        para.Value = a.Value;\r\n        paramArray.push(para);\r\n      });\r\n      this.form.ActualParameters = paramArray;\r\n      this.form.Id = item.Id;\r\n      this.form.Name = item.Name;\r\n      this.form.ComponentId = item.ComponentId;\r\n      this.form.formFormatId = item.formFormatId;\r\n      this.form.formatConfigId = item.formatConfigId;\r\n      this.form.FormType = item.FormType;\r\n      this.form.TerminalType = item.TerminalType;\r\n    }\r\n  }\r\n  @Input() editorParams: any = {};\r\n  @ViewChild('iconSelectFooter') modalFooter: TemplateRef<any>;\r\n  @ViewChild('configContainer') configContainer: FormConfigContainerComponent;\r\n\r\n  @ViewChild('configSection', { read: ElementRef }) configSection: ElementRef<any>;\r\n\r\n  form: ExecuteFormModel;\r\n\r\n  tab: 'web' | 'mobile' = 'web';\r\n\r\n  groupIcon = '<i class=\"f-icon f-icon-lookup\"></i>';\r\n\r\n  cols = [];\r\n\r\n  location: 'userActivity' | 'process' | 'startActivity';\r\n\r\n  showMethodTab = true;\r\n\r\n  allParameters = new Array();\r\n\r\n  // *******************************************************\r\n  constructor(\r\n    private formBuilder: FormBuilder,\r\n    public uistate: ExecuteFormsUIState,\r\n    public viewmodel: ExecuteFormsViewModel,\r\n    private resolver: ComponentFactoryResolver,\r\n    private injector: Injector,\r\n    private modalService: BsModalService,\r\n    private designerState: ProcessDesignerUIState,\r\n    private message: MessagerService,\r\n    @Optional() private cdr: ChangeDetectorRef,\r\n    @Inject(LOCALE_ID) private localeId: string,\r\n    @Inject(WF_LANG_RESOURCES) private resources: any,\r\n    @Optional() private localePipe: WfLocalePipe,\r\n  ) {\r\n    this.localePipe = this.localePipe || new WfLocalePipe(localeId, resources);\r\n    this.form = new ExecuteFormModel();\r\n    this.allParameters = this.getVariableList();\r\n  }\r\n  ngAfterViewInit(): void {\r\n\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.location = this.editorParams.location;\r\n    this.tab = this.editorParams.tab;\r\n    if (this.location === 'userActivity') {\r\n      this.showMethodTab = true;\r\n    } else {\r\n      this.showMethodTab = false;\r\n    }\r\n  }\r\n  clickOK() {\r\n    let data = new ExecuteFormModel();\r\n    this.getForm().subscribe((re: any) => {\r\n      if (!re.result) {\r\n        return;\r\n      }\r\n      data = re.form;\r\n      if (this.validator(data)) {\r\n        let parameters = null;\r\n        // 如果存在变量类型参数在流程变量上不存在，需要同步流程变量\r\n        if (data && data.ActualParameters && data.ActualParameters.length > 0) {\r\n          const formalParameters = this.designerState.flowFormInfo.formalParameters.filter(p => p.dataType !== 'CDTSchema');\r\n          for (const parameter of data.ActualParameters) {\r\n            if (parameter.Tag ==='variable' && parameter.Value && !this.allParameters.some(p => p.key === parameter.Value) && formalParameters.some(p => p.code === parameter.Value)) {\r\n              parameters = formalParameters;\r\n              break;\r\n            }\r\n          }\r\n        }\r\n        const object = { value: data, parameters };\r\n        this.submitModal.emit(object);\r\n      }\r\n    });\r\n  }\r\n\r\n  clickCancel() {\r\n    this.closeModal.emit();\r\n  }\r\n\r\n  validator(form: ExecuteFormModel) {\r\n    if (form && form.ActualParameters && form.ActualParameters.length > 0) {\r\n      const formalParameters = this.designerState.flowFormInfo.formalParameters.filter(p => p.dataType !== 'CDTSchema');\r\n      for (const parameter of form.ActualParameters) {\r\n        if (parameter.Tag ==='variable' && parameter.Value && !this.allParameters.some(p => p.key === parameter.Value) && !formalParameters.some(p => p.code === parameter.Value)) {\r\n          this.message.error(this.localePipe.transform('component.executeForms.parameters') + parameter.Name + this.localePipe.transform('component.executeForms.typeAsvariable'));\r\n          return false;\r\n        }\r\n      }\r\n    }\r\n    return true;\r\n  }\r\n  // tabChange(data) {\r\n  //   this.tab = data.nextId;\r\n  // }\r\n\r\n  // editCSS() {\r\n  //   this.configSection.nativeElement.querySelector('div.f-section-header').classList.add('mb-0');\r\n  // }\r\n\r\n  private getForm(): Observable<any> {\r\n    if (this.form.ComponentId) {\r\n      return of({ result: true, form: this.form });\r\n    } else if (this.form.formFormatId) {\r\n      return this.configContainer.submit().pipe(\r\n        switchMap((re: any) => {\r\n          if (re.result) {\r\n            this.form.formatConfigId = re.configId;\r\n            return of({ result: true, form: this.form });\r\n          } else {\r\n            return of({ result: false, form: this.form });\r\n          }\r\n        })\r\n      );\r\n    } else {\r\n      return of({ result: true, form: null });\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 参数设置\r\n   */\r\n  parametersSet() {\r\n    const compFactory = this.resolver.resolveComponentFactory(ParameterSettingComponent);\r\n    const compRef = compFactory.create(this.injector);\r\n    compRef.instance.mode = 'bpmn';\r\n    compRef.instance.allParameters = this.allParameters;\r\n    if (this.tab === 'web') {\r\n      if (this.form.ComponentId) {\r\n        compRef.instance.showFormType = true;\r\n        compRef.instance.formType = this.form.FormType;\r\n      }\r\n      compRef.instance.parameters = [...this.form.ActualParameters.map(p => Object.assign({}, p))];\r\n    } else {\r\n      compRef.instance.parameters = [...this.form.ActualParameters.map(p => Object.assign({}, p))];\r\n    }\r\n\r\n    const modalConfig = {\r\n      title: this.localePipe.transform('component.executeForms.parameterSettings'),\r\n      width: 620,\r\n      height: 400,\r\n      showButtons: true,\r\n      buttons: compRef.instance.modalFooter\r\n    };\r\n    const dialog = this.modalService.show(compRef, modalConfig);\r\n\r\n    compRef.instance.submit.subscribe(re => {\r\n      if (this.tab === 'web') {\r\n        this.form.ActualParameters = re.parameters;\r\n        this.form.FormType = re.formType;\r\n      } else {\r\n        this.form.ActualParameters = re.parameters;\r\n      }\r\n      dialog.close();\r\n    });\r\n    compRef.instance.cancel.subscribe(re => {\r\n      dialog.close();\r\n    });\r\n  }\r\n  /**\r\n   * 选择表单定义\r\n   */\r\n  selectExecuteForm() {\r\n    const compFactory = this.resolver.resolveComponentFactory(AddExecuteFormComponent);\r\n    const compRef = compFactory.create(this.injector);\r\n    compRef.instance.tab = this.tab;\r\n\r\n    const modalConfig = {\r\n      title: this.localePipe.transform('component.executeForms.formDefinitionList'),\r\n      width: 650,\r\n      height: 400,\r\n      showButtons: true,\r\n      buttons: compRef.instance.modalFooter\r\n    };\r\n    const dialog = this.modalService.show(compRef, modalConfig);\r\n    compRef.instance.submit.subscribe((re: ExecuteFormModel) => {\r\n      this.form = re;\r\n      dialog.close();\r\n    });\r\n    compRef.instance.cancel.subscribe(re => {\r\n      dialog.close();\r\n    });\r\n  }\r\n  clear() {\r\n    this.form = new ExecuteFormModel();\r\n  }\r\n\r\n  initVariableType(value): string {\r\n    if (value) {\r\n        if (value.length >= 8 && value.slice(0, 8) === `{\"expr\":`) {\r\n            return 'expression';\r\n        } else {\r\n            return 'constant';\r\n        }\r\n    } else {\r\n        return 'variable';\r\n    }\r\n  }\r\n\r\n  private getVariableList() {\r\n    const context = new Array();\r\n    if (this.designerState.procInstContext.length > 0) {\r\n      for (const variable of this.designerState.procInstContext) {\r\n        context.push(variable);\r\n      }\r\n    }\r\n    if (this.designerState.subActivityContext.length > 0) {\r\n      for (const variable of this.designerState.subActivityContext) {\r\n        if (!context.some(c => c.key === variable.key)) {\r\n          context.push(variable);\r\n        }\r\n      }\r\n    }\r\n    if (this.designerState.formalParameterContext.length > 0) {\r\n      for (const variable of this.designerState.formalParameterContext) {\r\n        if (!context.some(c => c.key === variable.key)) {\r\n          context.push(variable);\r\n        }\r\n      }\r\n    }\r\n    if (this.designerState.participantContext.length > 0) {\r\n      for (const variable of this.designerState.participantContext) {\r\n        if (!context.some(c => c.key === variable.key)) {\r\n          context.push(variable);\r\n        }\r\n      }\r\n    }\r\n    if (this.designerState.processVariableContext.length > 0) {\r\n      for (const variable of this.designerState.processVariableContext) {\r\n        if (!context.some(c => c.key === variable.key)) {\r\n          context.push(variable);\r\n        }\r\n      }\r\n    }\r\n    return context;\r\n  }\r\n}\r\nexport class ExecuteFormsConverter implements TypeConverter {\r\n  params: any;\r\n  constructor(\r\n    params: any,\r\n    private localePipe: WfLocalePipe\r\n  ) {\r\n    this.params = params;\r\n  }\r\n  convertTo(data): string {\r\n    if (data) {\r\n      return data.Name;\r\n    } else {\r\n      if (this.params.location === 'process') {\r\n        return this.localePipe.transform('component.executeForms.notSet');\r\n      } else {\r\n        return this.localePipe.transform('component.executeForms.default');\r\n      }\r\n    }\r\n  }\r\n}\r\n","import { Component, OnInit, Output, EventEmitter, Input, ViewChild, TemplateRef, Injector, LOCALE_ID, ChangeDetectorRef, Optional, Inject } from '@angular/core';\r\nimport { TypeConverter } from '@farris/ide-property-panel';\r\nimport { ExpressionService, InjectedType, ExpressioneditorComponent } from '@gsp-svc/expression';\r\nimport { ProcessDesignerUIState } from '../../app/process-designer.uistate';\r\nimport { WF_LANG_RESOURCES, WfLocalePipe } from '../../i18n/pipe/wf-process-editor-locale.pipe';\r\nimport { WF_PROCESS_EDITOR_LANG_RESOURCES } from '../../i18n/assets/lang.resource';\r\n\r\n@Component({\r\n  selector: 'app-title-expression',\r\n  templateUrl: './title-expression.component.html',\r\n  styleUrls: ['./title-expression.component.scss'],\r\n  providers: [\r\n     WfLocalePipe,\r\n  ]\r\n})\r\nexport class TitleExpressionComponent implements OnInit {\r\n\r\n  @Output() closeModal = new EventEmitter<any>();\r\n  @Output() submitModal = new EventEmitter<any>();\r\n\r\n  @Input() value: any;\r\n  textWithMultiLanguage: Map<string, string> = new Map<string, string>();\r\n\r\n  @ViewChild('iconSelectFooter') modalFooter: TemplateRef<any>;\r\n\r\n  @Input() editorParams: any = {};\r\n  language = 'zh-CHS';\r\n  @ViewChild(ExpressioneditorComponent) editor: ExpressioneditorComponent;\r\n  languageOptions = [\r\n    { value: 'zh-CHS', text: this.localePipe.transform(\"component.titleExpression.zh-CHS\") },\r\n    { value: 'zh-CHT', text: this.localePipe.transform(\"component.titleExpression.zh-CHT\") },\r\n    { value: 'en', text: this.localePipe.transform(\"component.titleExpression.en\") }\r\n  ];\r\n  contextEntities = [];\r\n\r\n  schema: any = {};\r\n  injectName = '';\r\n\r\n  modalConfig = {\r\n    title: this.localePipe.transform(\"component.titleExpression.taskDescription\"),\r\n    width: 1140,\r\n    height: 720,\r\n    showButtons: true\r\n  };\r\n\r\n  constructor(\r\n    private expr: ExpressionService,\r\n    private injector: Injector,\r\n    public designerState: ProcessDesignerUIState,\r\n    @Optional() private cdr: ChangeDetectorRef,\r\n    @Inject(LOCALE_ID) private localeId: string,\r\n    @Inject(WF_LANG_RESOURCES) private resources: any,\r\n    @Optional() private localePipe: WfLocalePipe,\r\n  ) {\r\n    this.localePipe = this.localePipe || new WfLocalePipe(localeId, resources);\r\n    if (this.designerState.schemas[0]) {\r\n      this.schema = this.designerState.schemas[0];\r\n      if (this.designerState.schemas[0].entityTypes && this.designerState.schemas[0].entityTypes.length > 0) {\r\n        this.injectName = this.designerState.schemas[0].entityTypes[0].name;\r\n      }\r\n    }\r\n    this.language = this.injector.get(LOCALE_ID, null) || this.language;\r\n  }\r\n\r\n  ngOnInit() {\r\n    // 构造多语表达式编辑器的数据源，兼容历史\r\n    if (this.value != null) {\r\n      if (typeof(this.value) === 'string') {\r\n        this.textWithMultiLanguage.set('zh-CHS', this.value);\r\n      } else {\r\n        this.textWithMultiLanguage = new Map(Object.entries(this.value));\r\n      }\r\n    }\r\n    this.contextEntities = new Array();\r\n    if (this.designerState.procInstContext.length > 0) {\r\n      for (const variable of this.designerState.procInstContext) {\r\n        this.contextEntities = this.contextEntities.concat([variable]);\r\n      }\r\n    }\r\n    if (this.designerState.formalParameterContext.length > 0) {\r\n      for (const variable of this.designerState.formalParameterContext) {\r\n        if (!this.contextEntities.some(c => c.key === variable.key)) {\r\n          this.contextEntities = this.contextEntities.concat([variable]);\r\n        }\r\n      }\r\n    }\r\n    if (this.designerState.subActivityContext.length > 0) {\r\n      for (const variable of this.designerState.subActivityContext) {\r\n        if (!this.contextEntities.some(c => c.key === variable.key)) {\r\n          this.contextEntities = this.contextEntities.concat([variable]);\r\n        }\r\n      }\r\n    }\r\n    if (this.designerState.participantContext.length > 0) {\r\n      for (const variable of this.designerState.participantContext) {\r\n        if (!this.contextEntities.some(c => c.key === variable.key)) {\r\n          this.contextEntities = this.contextEntities.concat([variable]);\r\n        }\r\n      }\r\n    }\r\n    if (this.designerState.processVariableContext.length > 0) {\r\n      for (const variable of this.designerState.processVariableContext) {\r\n        if (!this.contextEntities.some(c => c.key === variable.key)) {\r\n          this.contextEntities = this.contextEntities.concat([variable]);\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  clickOK() {\r\n    this.value = this.editor.getExprWithMultiLanguage();\r\n    const obj = [...this.value.entries()].reduce((obj, [key, value]) => (obj[key] = value==null?'':value, obj), {});\r\n    const object = { value: obj, parameters: null };\r\n    this.submitModal.emit(object);\r\n  }\r\n\r\n  clickCancel() {\r\n    this.closeModal.emit();\r\n  }\r\n\r\n  private convertToValue(val: string): string {\r\n    if (val) {\r\n      if (val.substring(9, val.length - 2)) {\r\n        return val;\r\n      } else {\r\n        return '';\r\n      }\r\n    } else {\r\n      return '';\r\n    }\r\n  }\r\n\r\n}\r\nexport class TitleExpressionConverter implements TypeConverter {\r\n  constructor(\r\n    private localePipe: WfLocalePipe\r\n  ) { }\r\n\r\n  convertTo(data: any): string {\r\n    if (data && typeof data === 'string') {\r\n      return data;\r\n    } else if (data && Object.keys(data).length > 0) {\r\n      return this.areAllPropertiesEmpty(data)\r\n        ? this.localePipe.transform(\"component.titleExpression.notSet\")\r\n        : this.localePipe.transform(\"component.titleExpression.set\");\r\n    } else {\r\n      return this.localePipe.transform(\"component.titleExpression.notSet\");\r\n    }\r\n  }\r\n\r\n  areAllPropertiesEmpty(obj) {\r\n    for (let key in obj) {\r\n      if (obj.hasOwnProperty(key) && obj[key] !== '') {\r\n        return false;\r\n      }\r\n    }\r\n    return true;\r\n  }\r\n  \r\n}\r\n","import { ActualParameter } from '../../execute-forms/entities/execute-form.entity';\r\n\r\nexport class CustomizeAciton {\r\n    id: string;\r\n    code: string;\r\n    name: string;\r\n    terminalType: string;\r\n    // enable: boolean;\r\n    actualParameters: ActualParameter[];\r\n    constructor(id?: string, code?: string, name?: string) {\r\n        this.id = id;\r\n        this.code = code;\r\n        this.name = name;\r\n    }\r\n}\r\n","import { Component, OnInit, ViewChild, TemplateRef, Output, EventEmitter, ChangeDetectorRef, Optional, Inject, LOCALE_ID } from '@angular/core';\r\nimport { ProcessDesignerUIState } from '../../../../app/process-designer.uistate';\r\nimport { DatagridComponent } from '@farris/ui-datagrid';\r\nimport { CustomizeAciton } from '../../entities/customize-action.entity';\r\nimport { ActualParameter } from '../../../execute-forms/entities/execute-form.entity';\r\nimport { WF_LANG_RESOURCES, WfLocalePipe } from '../../../../i18n/pipe/wf-process-editor-locale.pipe';\r\nimport { WF_PROCESS_EDITOR_LANG_RESOURCES } from '../../../../i18n/assets/lang.resource';\r\n\r\n@Component({\r\n  selector: 'app-customize-action-list',\r\n  templateUrl: './customize-action-list.component.html',\r\n  styleUrls: ['./customize-action-list.component.scss'],\r\n  providers: [\r\n     WfLocalePipe,\r\n  ]\r\n})\r\nexport class CustomizeActionListComponent implements OnInit {\r\n\r\n  @ViewChild('grid') grid: DatagridComponent;\r\n  @ViewChild('footer') footer: TemplateRef<any>;\r\n\r\n  @Output() submit = new EventEmitter<any[]>();\r\n  @Output() cancel = new EventEmitter<any>();\r\n\r\n  customActionList: any[];\r\n\r\n  private terminalList = [\r\n    { value: 'app', text: this.localePipe.transform('component.customizeAction.app') },\r\n    { value: 'web', text: 'web' },\r\n    { value: 'web,app', text: this.localePipe.transform('component.customizeAction.all') }\r\n  ];\r\n\r\n  cols = [\r\n    { field: 'code', width: 100, title: this.localePipe.transform('component.customizeAction.code') },\r\n    { field: 'name', width: 100, title: this.localePipe.transform('component.customizeAction.name') },\r\n    {\r\n      field: 'terminal', width: 100, title: this.localePipe.transform('component.customizeAction.terminalType'),\r\n      formatter: {\r\n        type: 'enum',\r\n        options: { valueField: 'value', textField: 'text', data: this.terminalList }\r\n      }, },\r\n    {\r\n      field: 'isAll', width: 100, title: this.localePipe.transform('component.customizeAction.isAll'),\r\n      formatter: { type: 'boolean', options: { trueText: this.localePipe.transform('component.customizeAction.yes'), falseText: this.localePipe.transform('component.customizeAction.no') } }  }\r\n  ];\r\n  constructor(\r\n    private designerUIState: ProcessDesignerUIState,\r\n    @Optional() private cdr: ChangeDetectorRef,\r\n    @Inject(LOCALE_ID) private localeId: string,\r\n    @Inject(WF_LANG_RESOURCES) private resources: any,\r\n    @Optional() private localePipe: WfLocalePipe) {\r\n    this.localePipe = this.localePipe || new WfLocalePipe(localeId, resources);\r\n    this.customActionList = this.designerUIState.flowFormInfo.customizeActions || [];\r\n  }\r\n\r\n  ngOnInit() {\r\n  }\r\n  clickOK() {\r\n    const selections = [];\r\n    const checkeds: any[] = this.grid.checkeds;\r\n    if (checkeds && checkeds.length > 0) {\r\n      checkeds.forEach(action => {\r\n        const item = new CustomizeAciton(action.data.id, action.data.code, action.data.name);\r\n        item.terminalType = action.data.terminal;\r\n        // item.enable = true;\r\n        item.actualParameters = [];\r\n        if (action.data.actualParameters && action.data.actualParameters.length > 0) {\r\n          for (const p of action.data.actualParameters) {\r\n            const param = {\r\n              Name: p.code,\r\n              Value: p.value,\r\n              ValueText: p.name,\r\n              Tag: 'expression'\r\n            } as ActualParameter;\r\n            item.actualParameters.push(param);\r\n          }\r\n        }\r\n        selections.push(item);\r\n      });\r\n    }\r\n    this.submit.emit(selections);\r\n  }\r\n  clickCancel() {\r\n    this.cancel.emit(true);\r\n  }\r\n}\r\n","import { Component, OnInit, HostBinding, Output, EventEmitter, Input, ViewChild, TemplateRef, ComponentFactoryResolver, Injector, AfterViewInit, ChangeDetectorRef, Optional, Inject, LOCALE_ID } from '@angular/core';\r\nimport { CustomizeAciton } from './entities/customize-action.entity';\r\nimport { DatagridComponent } from '@farris/ui-datagrid';\r\nimport { EditorTypes } from '@farris/ui-datagrid-editors';\r\nimport { ProcessDesignerUIState } from '../../app/process-designer.uistate';\r\nimport { ExpressionService, InjectedType, VarEntity } from '@gsp-svc/expression';\r\nimport { BsModalService, ModalOptions } from '@farris/ui-modal';\r\nimport { CustomizeActionListComponent } from './views/customize-action-list/customize-action-list.component';\r\nimport { TypeConverter } from '@farris/ide-property-panel';\r\nimport { MessagerService } from '@farris/ui-messager';\r\nimport { ActualParameter } from '../execute-forms/entities/execute-form.entity';\r\nimport { WF_LANG_RESOURCES, WfLocalePipe } from '../../i18n/pipe/wf-process-editor-locale.pipe';\r\nimport { WF_PROCESS_EDITOR_LANG_RESOURCES } from '../../i18n/assets/lang.resource';\r\n\r\n@Component({\r\n  selector: 'app-customize-action',\r\n  templateUrl: './customize-action.component.html',\r\n  styleUrls: ['./customize-action.component.scss'],\r\n  providers: [\r\n     WfLocalePipe,\r\n  ]\r\n})\r\nexport class CustomizeActionComponent implements OnInit, AfterViewInit {\r\n  @HostBinding('class')\r\n  cls = 'farris-main-area flex-column';\r\n  @Output() closeModal = new EventEmitter<any>();\r\n  @Output() submitModal = new EventEmitter<any>();\r\n\r\n  @Input() editorParams: any = {};\r\n  @ViewChild('iconSelectFooter') modalFooter: TemplateRef<any>;\r\n  modalConfig = {\r\n    title: this.localePipe.transform('component.customizeAction.customizeAction'),\r\n    width: 800,\r\n    height: 520,\r\n    showButtons: true\r\n  };\r\n  @Input() set value(data: any[]) {\r\n    if (data && data.length > 0) {\r\n      for (const d of data) {\r\n        const action = new CustomizeAciton(d.id, d.code, d.name);\r\n        action.terminalType = d.terminalType;\r\n        action.actualParameters = [];\r\n        if (d.actualParameters && d.actualParameters.length > 0) {\r\n          for (const a of d.actualParameters) {\r\n            const p = new ActualParameter();\r\n            p.Name = a.Name;\r\n            p.Value = a.Value;\r\n            p.ValueText = a.ValueText;\r\n            p.Tag = a.Tag;\r\n            action.actualParameters.push(p);\r\n          }\r\n        }\r\n        this.actions.push(action);\r\n      }\r\n    }\r\n  }\r\n\r\n  @ViewChild('actionlist') actionlist: DatagridComponent;\r\n  @ViewChild('paramlist') paramlist: DatagridComponent;\r\n\r\n  private terminalList = [\r\n    { value: 'app', text: this.localePipe.transform('component.customizeAction.app') },\r\n    { value: 'web', text: 'web' },\r\n    { value: 'web,app', text: this.localePipe.transform('component.customizeAction.') }\r\n  ];\r\n  actions: CustomizeAciton[] = [];\r\n  curAction: CustomizeAciton;\r\n  columns = [\r\n    { field: 'code', width: 100, title: this.localePipe.transform('component.customizeAction.code') },\r\n    { field: 'name', width: 100, title: this.localePipe.transform('component.customizeAction.name') },\r\n    {\r\n      field: 'terminalType', width: 100, title: this.localePipe.transform('component.customizeAction.terminalType') ,\r\n      formatter: {\r\n        type: 'enum',\r\n        options: { valueField: 'value', textField: 'text', data: this.terminalList }\r\n      },\r\n    },\r\n    // {\r\n    //   field: 'enable', width: 100, title: '是否启用',\r\n    //   editor: { type: EditorTypes.SWITCH, options: {} },\r\n    //   formatter: { type: 'boolean', options: { trueText: '是', falseText: '否' } }\r\n    // }\r\n  ];\r\n  paramColumns = [\r\n    { field: 'Name', width: 50, title: this.localePipe.transform('component.customizeAction.paramName') },\r\n    { field: 'ValueText', width: 50, title: this.localePipe.transform('component.customizeAction.valueText') },\r\n    {\r\n      field: 'Value', width: 100, title: this.localePipe.transform('component.customizeAction.value'),\r\n      editor: {\r\n        type: 'input-group',\r\n        options: {\r\n          groupText: '<i class=\"f-icon f-icon-lookup\"></i>',\r\n          editable: false,\r\n          clickHandle: (e) => {\r\n            e.formControl.setValue(e.instance.value ? e.instance.value : '');\r\n            this.showExprHelp(e);\r\n          },\r\n          clear: (e) => {\r\n            console.log('clear', e);\r\n          }\r\n        }\r\n      }\r\n    }\r\n  ];\r\n  constructor(\r\n    private designerState: ProcessDesignerUIState,\r\n    private expr: ExpressionService,\r\n    private resolver: ComponentFactoryResolver,\r\n    private injector: Injector,\r\n    private modalService: BsModalService,\r\n    private message: MessagerService,\r\n    @Optional() private cdr: ChangeDetectorRef,\r\n    @Inject(LOCALE_ID) private localeId: string,\r\n    @Inject(WF_LANG_RESOURCES) private resources: any,\r\n    @Optional() private localePipe: WfLocalePipe,\r\n  ) {\r\n    this.localePipe = this.localePipe || new WfLocalePipe(localeId, resources);\r\n   }\r\n\r\n  ngOnInit() {\r\n\r\n  }\r\n  ngAfterViewInit() {\r\n    this.loadData();\r\n    // this.actionlist.loadData(this.actions);\r\n    // if (this.actions && this.actions.length > 0) {\r\n    //   this.actionlist.selectRow(this.actions[0].id, true);\r\n    // }\r\n  }\r\n  addActions() {\r\n    const compFactory = this.resolver.resolveComponentFactory(CustomizeActionListComponent);\r\n    const compRef = compFactory.create(this.injector);\r\n    const modalConfig: ModalOptions = {\r\n      title: this.localePipe.transform('component.customizeAction.addActions'),\r\n      width: 800,\r\n      height: 520,\r\n      showButtons: true,\r\n      buttons: compRef.instance.footer\r\n    };\r\n    const dialog = this.modalService.show(compRef, modalConfig);\r\n    compRef.instance.submit.subscribe((data: CustomizeAciton[]) => {\r\n      if (data && data.length > 0) {\r\n        for (const a of data) {\r\n          const index = this.actions.findIndex(act => act.code === a.code);\r\n          if (index > -1) {\r\n            this.message.info(this.localePipe.transform('component.customizeAction.actionExisted'));\r\n            this.actions.splice(index, 1);\r\n          }\r\n          this.actions.push(a);\r\n        }\r\n        this.loadData();\r\n      }\r\n      dialog.close();\r\n    });\r\n    compRef.instance.cancel.subscribe($event => dialog.close());\r\n  }\r\n  delete() {\r\n    this.actionlist.endCellEdit();\r\n    if (this.actionlist.selectedRow && this.actionlist.selectedRow.data) {\r\n      const i = this.actions.findIndex(d => d.code === this.actionlist.selectedRow.data.code);\r\n      this.actions.splice(i, 1);\r\n      this.loadData();\r\n      // this.actionlist.loadData(this.actions);\r\n      // if (this.actions && this.actions.length > 0) {\r\n      //   this.actionlist.selectRow(this.actions[0].id, true);\r\n      // } else {\r\n      //   this.curAction = null;\r\n      // }\r\n    } else {\r\n      this.message.info(this.localePipe.transform('component.customizeAction.selectedRow'));\r\n    }\r\n  }\r\n\r\n  clickOK() {\r\n    this.actionlist.endCellEdit();\r\n    this.paramlist && this.paramlist.endCellEdit();\r\n\r\n    const object = { value: this.actions, parameters: null };\r\n    this.submitModal.emit(object);\r\n  }\r\n\r\n  clickCancel() {\r\n    this.closeModal.emit();\r\n  }\r\n  loadData() {\r\n    this.actionlist.loadData(this.actions);\r\n    if (this.actions.length > 0 && (!this.actionlist.selectedRow || !this.actionlist.selectedRow.data)) {\r\n      this.actionlist.selectRow(this.actions[0].id, true);\r\n    } else {\r\n      this.curAction = null;\r\n    }\r\n  }\r\n\r\n  selectChanged(data: any) {\r\n    this.curAction = data.data;\r\n  }\r\n\r\n  showExprHelp(e: any) {\r\n    let context = new Array<VarEntity>();\r\n    // if(this.expr.exprEntity.contextEntities.find(x => x.key === 'CurrentLanguage')) {\r\n    //   context.push(this.expr.exprEntity.contextEntities.find(x => x.key === 'CurrentLanguage'));\r\n    // }\r\n    // this.expr.clearContext();\r\n    if (this.designerState.schemas.length > 0) {\r\n      for (const schema of this.designerState.schemas) {\r\n        this.expr.addSchema('Schema', schema);\r\n      }\r\n      if (this.designerState.schemas[0].entityTypes && this.designerState.schemas[0].entityTypes.length > 0) {\r\n        const entityType = this.designerState.schemas[0].entityTypes[0];\r\n        this.expr.addInjectedEntity(entityType.name, 'Schema',\r\n          entityType.name, InjectedType.EntityType);\r\n      }\r\n    }\r\n    context = this.designerState.addContext(context);\r\n    if (this.designerState.subActivityContext.length > 0) {\r\n      for (const variable of this.designerState.subActivityContext) {\r\n        if (!context.some(c => c.key === variable.key)) {\r\n          context.push(variable);\r\n        }\r\n        // this.expr.addContext(variable);\r\n      }\r\n    }\r\n    if (context.length > 0) {\r\n      for (const v of context) {\r\n        this.expr.addContext(v);\r\n      }\r\n    }\r\n    // if (e.instance.value) {\r\n    this.expr.addExpressionText(e.instance.value);\r\n    // }\r\n    this.expr.buildExpression().then((expressioninfo: string) => {\r\n      e.formControl.setValue(expressioninfo);\r\n      e.instance.cd.detectChanges();\r\n      //点击确定后，去除表达式里面的新增的上下文变量\r\n      if(context.length > 0) {\r\n        this.expr.exprEntity.contextEntities = this.expr.exprEntity.contextEntities.filter(x => !context.some(y => y.key === x.key));\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nexport class CustomizeActionConverter implements TypeConverter {\r\n  constructor(\r\n    private localePipe: WfLocalePipe\r\n  ) { }\r\n\r\n  convertTo(data: any[]): string {\r\n    if (data && data.length > 0) {\r\n      return this.localePipe.transform(\"component.customizeAction.set\");\r\n    } else {\r\n      return this.localePipe.transform(\"component.customizeAction.notSet\");\r\n    }\r\n  }\r\n}\r\n","import { ProcessDeUtil } from '../../domain/process-de-util';\r\n\r\nexport class ProcessVariable {\r\n    id: string;\r\n    name: string;\r\n    documentation: string;\r\n    basicType: string;\r\n    tag: string;\r\n    value: string;\r\n    valueText: string;\r\n    description: string;\r\n    component: any;\r\n\r\n    constructor() {\r\n        this.id = ProcessDeUtil.GenerateElementId();\r\n        this.basicType = 'String';\r\n    }\r\n}\r\n","import { Component, OnInit, TemplateRef, ViewChild, Input, Output, EventEmitter, ChangeDetectorRef, Optional, Inject, LOCALE_ID } from '@angular/core';\r\nimport { WF_LANG_RESOURCES, WfLocalePipe } from '../../../../i18n/pipe/wf-process-editor-locale.pipe';\r\nimport { WF_PROCESS_EDITOR_LANG_RESOURCES } from '../../../../i18n/assets/lang.resource';\r\n@Component({\r\n  selector: 'lib-constant-edit',\r\n  templateUrl: './constant-edit.component.html',\r\n  styleUrls: ['./constant-edit.component.scss'],\r\n  providers: [\r\n     WfLocalePipe,\r\n  ]\r\n})\r\nexport class ConstantEditComponent implements OnInit {\r\n\r\n  @ViewChild('footer') footer: TemplateRef<any>;\r\n\r\n  @Output() closeEmitter = new EventEmitter<any>();\r\n  @Output() submitEmitter = new EventEmitter<string>();\r\n  @Input()\r\n  value: string;\r\n\r\n  constructor(\r\n    @Optional() private cdr: ChangeDetectorRef,\r\n    @Inject(LOCALE_ID) private localeId: string,\r\n    @Inject(WF_LANG_RESOURCES) private resources: any,\r\n    @Optional() private localePipe: WfLocalePipe,\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  clickOK() {\r\n    this.submitEmitter.emit(this.value);\r\n  }\r\n\r\n  clickCancel() {\r\n    this.closeEmitter.emit();\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { ILookupHttpService, LookupGridResult, RemoteParams } from '@farris/ui-lookup';\r\nimport { HttpService } from '@ecp-caf/caf-common';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport { map } from 'rxjs/operators';\r\n\r\n@Injectable()\r\nexport class ComponentEditLookUpService implements ILookupHttpService {\r\n    constructor(\r\n        private http: HttpService,\r\n    ) {\r\n    }\r\n\r\n    getData(url: string, params?: RemoteParams): Observable<any> {\r\n        const customData = params.customData;\r\n        const index = params.pageIndex || 1;\r\n        const size = params.pageSize || 20;\r\n        const searchValue = params.searchValue;\r\n        if (customData.helpId) {\r\n            let query = `?helpId=${customData.helpId}&pageIndex=${index}&pageSize=${size}`;\r\n            if (searchValue) {\r\n                query += `&searchValue=${searchValue}`;\r\n            }\r\n            url += query;\r\n            return this.http.get(url);\r\n        }\r\n    }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpService } from '@ecp-caf/caf-common';\r\nimport { Observable } from 'rxjs/Observable';\r\n\r\n@Injectable()\r\nexport class ComponentEditService {\r\n    constructor(\r\n        private http: HttpService,\r\n    ) {\r\n    }\r\n\r\n    getHelpMetaData(helpId: string, su: string): Observable<any> {\r\n        const url = `/api/runtime/lcm/v1.0/rt-metadatas/${helpId}`;\r\n        return this.http.get(url);\r\n    }\r\n}\r\n","import { ProcessDeUtil } from '../../../../domain/process-de-util';\r\nexport class ComponentEntity {\r\n    Id: string;\r\n    Name: string;\r\n    MetadataId: string;\r\n    ComponentType: string;\r\n    MethodCode: string;\r\n    Execution: string;\r\n    AsyncCallBackType: string;\r\n    Time: string;\r\n    isForCompensation: boolean;\r\n    ActualParameters: Array<ActualParameter>;\r\n    constructor() {\r\n        this.Id = ProcessDeUtil.GenerateElementId();\r\n        this.ActualParameters = new Array();\r\n    }\r\n}\r\nexport class ActualParameter {\r\n    Name: string;\r\n    Value: string;\r\n    ValueText?: string;\r\n    Tag?: string;\r\n    fetchValueMode?: any;\r\n    fetchValueSetting?: any;\r\n}\r\n","import { Component, OnInit, ComponentFactoryResolver, Injector, Input, ViewChild, ElementRef, HostBinding, AfterViewInit, NgZone, TemplateRef, EventEmitter, Output, ChangeDetectorRef, Optional, LOCALE_ID, Inject } from '@angular/core';\r\nimport { FormGroup, FormBuilder } from '@angular/forms';\r\nimport { ProcessDesignerUIState } from '../../../../app/process-designer.uistate';\r\nimport { ExpressionService, InjectedType } from '@gsp-svc/expression';\r\nimport { SessionService } from '@ecp-caf/caf-common';\r\nimport { BsModalService } from '@farris/ui-modal';\r\nimport { CommonComponentUiRTService, SelectorResult } from '@gsp-cmp/ccmp-ui';\r\nimport { SelectMetadataRTComponent, Metadata4RefDto, MetadataDto } from '@gsp-lcm/metadatart-selector';\r\nimport { GspComponent } from '@gsp-cmp/common-component';\r\nimport { DataColumn, DatagridComponent } from '@farris/ui-datagrid';\r\nimport { of, forkJoin, Observable } from 'rxjs';\r\nimport { RowEditParam } from '@farris/ui-datagrid/lib/types';\r\nimport { EditorTypes } from '@farris/ui-datagrid-editors';\r\nimport { LookupGridComponent, LookupGridResult, ServerSideToken } from '@farris/ui-lookup';\r\nimport { WebServiceParameter, ParameterFetchValueMode, HelpFetchValueSetting } from '@gsp-cmp/wscmp-models';\r\nimport { ComponentEditLookUpService } from './component-edit-lookup.service';\r\nimport { ComponentEditService } from './component-edit.service';\r\nimport { ComponentEntity, ActualParameter } from './component.entity';\r\nimport { ProcessDeUtil } from '../../../../domain/process-de-util';\r\nimport { MessagerService } from '@farris/ui-messager';\r\nimport { WF_LANG_RESOURCES, WfLocalePipe } from '../../../../i18n/pipe/wf-process-editor-locale.pipe';\r\nimport { WF_PROCESS_EDITOR_LANG_RESOURCES } from '../../../../i18n/assets/lang.resource';\r\n\r\n@Component({\r\n  selector: 'lib-component-edit',\r\n  templateUrl: './component-edit.component.html',\r\n  styleUrls: ['./component-edit.component.scss'],\r\n  providers: [\r\n    ComponentEditService,\r\n    { provide: ServerSideToken, useClass: ComponentEditLookUpService },\r\n     WfLocalePipe,\r\n  ]\r\n})\r\nexport class ComponentEditComponent implements OnInit, AfterViewInit {\r\n  @HostBinding('class')\r\n  cls = 'farris-main-area flex-column';\r\n\r\n  @ViewChild(DatagridComponent) grid: DatagridComponent;\r\n  @ViewChild(LookupGridComponent) lookup: LookupGridComponent;\r\n\r\n  @ViewChild('footer') footer: TemplateRef<any>;\r\n\r\n  @Output() closeEmitter = new EventEmitter<any>();\r\n  @Output() submitEmitter = new EventEmitter<any>();\r\n\r\n  @ViewChild('inputGroup') inputGroup: ElementRef;\r\n  showClearButton = false;\r\n\r\n  private _component: any = new ComponentEntity();\r\n  @Input()\r\n  set component(cmp: ComponentEntity) {\r\n    if (cmp && cmp.MethodCode) {\r\n      this.service.getHelpMetaData(cmp.MetadataId, '').subscribe(re => {\r\n        const c = JSON.parse(re.content);\r\n        const operation = c.operations.find(o => o.code === cmp.MethodCode);\r\n        if (operation) {\r\n          cmp.ActualParameters = cmp.ActualParameters.map(a => {\r\n            const p = operation.parameters.find(i => i.code === a.Name);\r\n            if (p) {\r\n              return {\r\n                ...a,\r\n                fetchValueMode: p.fetchValueMode,\r\n                fetchValueSetting: p.fetchValueSetting\r\n              };\r\n            } else {\r\n              throw new Error(this.localePipe.transform(\"component.variableSetting.inconsistentParameters\"));\r\n            }\r\n          });\r\n          this._component = cmp;\r\n        } else {\r\n          throw new Error(this.localePipe.transform(\"component.variableSetting.methodNotExist\"));\r\n        }\r\n      });\r\n    } else {\r\n      this._component = new ComponentEntity();\r\n    }\r\n  }\r\n  get component() {\r\n    return this._component;\r\n  }\r\n\r\n  curParameter: ActualParameter;\r\n  columns = [\r\n    { field: 'Name', width: 100, title: this.localePipe.transform(\"component.variableSetting.parameterName\") },\r\n    {\r\n      field: 'Value', width: 100, title: this.localePipe.transform(\"component.variableSetting.parameterValue\"),\r\n      editor: {\r\n        type: 'input-group',\r\n        options: {\r\n          groupText: '<i class=\"f-icon f-icon-lookup\"></i>',\r\n          editable: false,\r\n          clickHandle: (e) => {\r\n            e.formControl.setValue(e.instance.value ? e.instance.value : '');\r\n            this.showExprHelp(e);\r\n          },\r\n          clear: (e) => {\r\n            console.log('clear', e);\r\n          }\r\n        }\r\n      }\r\n    }\r\n  ];\r\n\r\n  helpFields: { idField: string, valueField: string; textField: string } = {\r\n    idField: '',\r\n    valueField: '',\r\n    textField: ''\r\n  };\r\n  dataUri = '/api/runtime/wf/v1.0/dtProcDefs/getHelpData';\r\n  helpId;\r\n  su: string;\r\n  helpCols = [];\r\n  displayType = 'List';\r\n  title = '';\r\n  value: any;\r\n\r\n  cell: any;\r\n  constructor(\r\n    private formBuilder: FormBuilder,\r\n    private designerState: ProcessDesignerUIState,\r\n    private expr: ExpressionService,\r\n    private resolver: ComponentFactoryResolver,\r\n    private injector: Injector,\r\n    private sessionSrc: SessionService,\r\n    private modalService: BsModalService,\r\n    private componentService: CommonComponentUiRTService,\r\n    private ngZone: NgZone,\r\n    private service: ComponentEditService,\r\n    private util: ProcessDeUtil,\r\n    private message: MessagerService,\r\n    @Optional() private cdr: ChangeDetectorRef,\r\n    @Inject(LOCALE_ID) private localeId: string,\r\n    @Inject(WF_LANG_RESOURCES) private resources: any,\r\n    @Optional() private localePipe: WfLocalePipe,\r\n  ) {\r\n    this.localePipe = this.localePipe || new WfLocalePipe(localeId, resources);\r\n  }\r\n\r\n  ngOnInit() {\r\n  }\r\n  ngAfterViewInit(): void {\r\n    this.ngZone.runOutsideAngular(() => {\r\n      this.inputGroup.nativeElement.addEventListener(\r\n        'mouseenter',\r\n        this.onMouseEnter.bind(this)\r\n      );\r\n      this.inputGroup.nativeElement.addEventListener(\r\n        'mouseleave',\r\n        this.onMouseLeave.bind(this)\r\n      );\r\n    });\r\n  }\r\n\r\n  onMouseEnter(event) {\r\n    this.showClearButton = true;\r\n    if (this.showClearButton) {\r\n      this.toggleClearIcon(event, true);\r\n    }\r\n  }\r\n  onMouseLeave(event) {\r\n    this.showClearButton = false;\r\n    this.toggleClearIcon(event, false);\r\n  }\r\n\r\n  private toggleClearIcon(event: any, isShow = false) {\r\n    const str = isShow ? '' : 'none';\r\n    const clearIcon = event.target.querySelector('.input-group-clear');\r\n    if (clearIcon) {\r\n      clearIcon.style.display = str;\r\n    }\r\n  }\r\n\r\n\r\n  clickOK() {\r\n    this.grid.endCellEdit();\r\n    if (this.validator()) {\r\n      this.submitEmitter.emit(this.component);\r\n    } else {\r\n      this.message.info(this.localePipe.transform(\"component.variableSetting.methodnotSelected\"));\r\n    }\r\n  }\r\n\r\n  clickCancel() {\r\n    this.closeEmitter.emit();\r\n  }\r\n\r\n  private validator() {\r\n    if (!this.component.MethodCode || !this.component.MetadataId) {\r\n      return false;\r\n    }\r\n    return true;\r\n  }\r\n  beforeEdit = (param: RowEditParam) => {\r\n    const rowData = param.rowData as any;\r\n    switch (rowData.fetchValueMode) {\r\n      case ParameterFetchValueMode.express:\r\n        param.column.editor = {\r\n          type: 'input-group',\r\n          options: {\r\n            groupText: '<i class=\"f-icon f-icon-lookup\"></i>',\r\n            editable: false,\r\n            clickHandle: (e) => {\r\n              e.formControl.setValue(e.instance.value ? e.instance.value : '');\r\n              this.showExprHelp(e);\r\n            },\r\n            clear: (e) => {\r\n              console.log('clear', e);\r\n            }\r\n          }\r\n        };\r\n        break;\r\n      case ParameterFetchValueMode.none:\r\n        param.column.editor = {\r\n          type: 'input-group',\r\n          options: {\r\n            groupText: '<i class=\"f-icon f-icon-lookup\"></i>',\r\n            editable: false,\r\n            clickHandle: (e) => {\r\n              e.formControl.setValue(e.instance.value ? e.instance.value : '');\r\n              this.showExprHelp(e);\r\n            },\r\n            clear: (e) => {\r\n              console.log('clear', e);\r\n            }\r\n          }\r\n        };\r\n        break;\r\n      case ParameterFetchValueMode.const:\r\n        param.column.editor = { type: EditorTypes.TEXTBOX, options: {} };\r\n        break;\r\n      case ParameterFetchValueMode.enum:\r\n        param.column.editor = { type: EditorTypes.TEXTBOX, options: {} };\r\n        break;\r\n      case ParameterFetchValueMode.help:\r\n        param.column.editor = {\r\n          type: 'input-group',\r\n          options: {\r\n            groupText: '<i class=\"f-icon f-icon-lookup\"></i>',\r\n            editable: false,\r\n            clickHandle: (e) => {\r\n              this.cell = e;\r\n              this.helpId = (rowData.fetchValueSetting as HelpFetchValueSetting).helpId;\r\n              this.su = (rowData.fetchValueSetting as HelpFetchValueSetting).serviceUnit;\r\n              this.getHelpInfo().subscribe(re => {\r\n                console.log(re);\r\n                const meta = re;\r\n                const help = JSON.parse(meta.content) as any;\r\n                this.helpCols = help.dataSource.columns;\r\n                this.displayType = help.displayType;\r\n                this.helpFields = {\r\n                  idField: help.idField,\r\n                  valueField: help.valueField,\r\n                  textField: help.textField\r\n                };\r\n                this.lookup.onClear();\r\n                this.lookup.showDialog();\r\n              }, err => {\r\n                  this.message.error(this.localePipe.transform(\"component.variableSetting.metadataNotExist\"));\r\n              });\r\n            },\r\n            clear: (e) => {\r\n              console.log('clear', e);\r\n            }\r\n          }\r\n        };\r\n        break;\r\n    }\r\n    return of(true);\r\n  }\r\n  afterEdit = (rowIndex: number, rowData: any, column?: DataColumn) => {\r\n    return of(true);\r\n  }\r\n\r\n  clear() {\r\n    this.component = new ComponentEntity();\r\n  }\r\n  selectComponent() {\r\n    const compFactory = this.resolver.resolveComponentFactory(SelectMetadataRTComponent);\r\n    const compRef = compFactory.create(this.injector);\r\n    compRef.instance.typeList = 'WebServiceComponent'; // 目前只能根据元数据类型过滤，后续添加标签过滤\r\n    compRef.instance.selectedMetadata.subscribe(($event: Metadata4RefDto) => {\r\n      try {\r\n        const meta: MetadataDto = $event.metadata;\r\n        this.openComponentSelectorNew(meta.id, this.sessionSrc.getUserSessionId());\r\n      } catch {\r\n        console.log('$event', $event);\r\n        throw new Error(this.localePipe.transform(\"component.variableSetting.errorObtainComponent\") + $event);\r\n      }\r\n    });\r\n\r\n    const modalConfig = {\r\n      title: this.localePipe.transform(\"component.variableSetting.componentSelection\"),\r\n      width: 980,\r\n      height: 548,\r\n      showButtons: false\r\n    };\r\n    const dialog = this.modalService.show(compRef, modalConfig);\r\n    compRef.instance.closeModalEmitter.subscribe($event => dialog.close());\r\n  }\r\n  private openComponentSelectorNew(metadataId: string, sessionId: string) {\r\n    this.componentService.openSelector(metadataId, sessionId).subscribe(\r\n      (selectorResult: SelectorResult) => {\r\n        selectorResult.confirmEvent.subscribe(\r\n          (result: GspComponent) => {\r\n            if (result) {\r\n              this.component.Name = result.name;\r\n              this.component.MetadataId = result.id;\r\n              this.component.MethodCode = result.operations[0].code;\r\n              // this.component.methodName = result.operations[0].name;\r\n              this.component.ActualParameters = [];\r\n\r\n              if (result.operations[0].parameters && result.operations[0].parameters.length > 0) {\r\n                this.component.ActualParameters = result.operations[0].parameters\r\n                  .map((p: WebServiceParameter) => (\r\n                    {\r\n                      Name: p.code, Value: '', Tag: p.fetchValueMode.indexOf('express,none') > -1 ? 'expression' : 'constant',\r\n                      fetchValueMode: p.fetchValueMode,\r\n                      fetchValueSetting: p.fetchValueSetting\r\n                    }));\r\n              }\r\n            }\r\n          });\r\n      });\r\n  }\r\n  showExprHelp(e: any) {\r\n    // this.expr.clearContext();\r\n    if (this.designerState.schemas.length > 0) {\r\n      for (const schema of this.designerState.schemas) {\r\n        this.expr.addSchema('Schema', schema);\r\n      }\r\n      if (this.designerState.schemas[0].entityTypes && this.designerState.schemas[0].entityTypes.length > 0) {\r\n        const entityType = this.designerState.schemas[0].entityTypes[0];\r\n        this.expr.addInjectedEntity(entityType.name, 'Schema',\r\n          entityType.name, InjectedType.EntityType);\r\n      }\r\n    }\r\n    let context = new Array();\r\n    context = this.designerState.addContext(context);\r\n    if (this.designerState.subActivityContext.length > 0) {\r\n      for (const variable of this.designerState.subActivityContext) {\r\n        if (!context.some(c => c.key === variable.key)) {\r\n          context.push(variable);\r\n        }\r\n        // this.expr.addContext(variable);\r\n      }\r\n    }\r\n    if (context.length > 0) {\r\n      for (const v of context) {\r\n        this.expr.addContext(v);\r\n      }\r\n    }\r\n    this.expr.addExpressionText(e.instance.value);\r\n    this.expr.buildExpression().then((d: string) => {\r\n        e.formControl.setValue(d);\r\n        e.instance.cd.detectChanges();\r\n        //点击确定后，去除表达式里面的新增的上下文变量\r\n        if(context.length > 0) {\r\n          this.expr.exprEntity.contextEntities = this.expr.exprEntity.contextEntities.filter(x => !context.some(y => y.key === x.key));\r\n        }\r\n    });\r\n  }\r\n\r\n  private getHelpInfo(): Observable<any> {\r\n    return this.service.getHelpMetaData(this.helpId, this.su);\r\n  }\r\n\r\n  dictPicking = () => {\r\n    return of({\r\n      showDialog: true, data: {\r\n        helpId: this.helpId\r\n      }\r\n    });\r\n  }\r\n  dictPicked = (rowData) => {\r\n    if (this.cell) {\r\n      console.log(rowData);\r\n      this.cell.formControl.setValue(this.util.getValue(rowData, this.helpFields.valueField));\r\n      this.cell.instance.cd.detectChanges();\r\n      return of(true);\r\n    }\r\n  }\r\n}\r\n","import { Component, OnInit, HostBinding, EventEmitter, Output, Input, ViewChild, TemplateRef, Injector, ComponentFactoryResolver, Optional, ChangeDetectorRef, Inject, LOCALE_ID } from '@angular/core';\r\nimport { TypeConverter } from '@farris/ide-property-panel';\r\nimport { ProcessVariable } from './process-variable.entity';\r\nimport { EditorTypes } from '@farris/ui-datagrid-editors';\r\nimport { DatagridComponent } from '@farris/ui-datagrid';\r\nimport { MessagerService } from '@farris/ui-messager';\r\nimport { BsModalService } from '@farris/ui-modal';\r\nimport { ConstantEditComponent } from '../variable-setting/views/constant-edit/constant-edit.component';\r\nimport { ProcessDesignerUIState } from '../../app/process-designer.uistate';\r\nimport { ExprEditMode, ExpressionService, InjectedType } from '@gsp-svc/expression';\r\nimport { ComponentEditComponent } from '../variable-setting/views/component-edit/component-edit.component';\r\nimport { RowEditParam, DataColumn } from '@farris/ui-datagrid/lib/types';\r\nimport { of } from 'rxjs';\r\nimport { VariableSetting } from '../variable-setting/variable-setting';\r\nimport { WF_LANG_RESOURCES, WfLocalePipe } from '../../i18n/pipe/wf-process-editor-locale.pipe';\r\nimport { WF_PROCESS_EDITOR_LANG_RESOURCES } from '../../i18n/assets/lang.resource';\r\n\r\n@Component({\r\n  selector: 'lib-process-variables',\r\n  templateUrl: './process-variables.component.html',\r\n  styleUrls: ['./process-variables.component.scss'],\r\n  providers: [\r\n     WfLocalePipe,\r\n  ]\r\n})\r\nexport class ProcessVariablesComponent implements OnInit {\r\n  @HostBinding('class')\r\n  cls = 'farris-main-area flex-column';\r\n\r\n  @Input() variableSetting = false;\r\n  @Output() closeModal = new EventEmitter<any>();\r\n  @Output() submitModal = new EventEmitter<any>();\r\n  @Output() variableSetEmitter = new EventEmitter<any>();\r\n\r\n  @Input() value: Array<ProcessVariable> = new Array();\r\n  @Input() selectedValue: Array<VariableSetting> = new Array();\r\n  @Input() editorParams: any = {};\r\n  @ViewChild('iconSelectFooter') modalFooter: TemplateRef<any>;\r\n  @ViewChild('grid') grid: DatagridComponent;\r\n\r\n  private basicTypes = [\r\n    { value: 'String', text: this.localePipe.transform('component.processVariables.string') },\r\n    { value: 'Integer', text: this.localePipe.transform('component.processVariables.integer') },\r\n    { value: 'Decimal', text: this.localePipe.transform('component.processVariables.decimal') },\r\n    { value: 'Boolean', text: this.localePipe.transform('component.processVariables.boolean') },\r\n    // { value: 'DateTime', text: '日期' }\r\n  ];\r\n\r\n  private tags = [\r\n    { value: 'constant', text: this.localePipe.transform('component.processVariables.constant') },\r\n    { value: 'expression', text: this.localePipe.transform('component.processVariables.expression') },\r\n    { value: 'component', text: this.localePipe.transform('component.processVariables.component') }\r\n  ];\r\n\r\n  columns = [\r\n    {\r\n      field: 'name', width: 80, title: this.localePipe.transform('component.processVariables.name'), sortable: true,\r\n      editor: { type: EditorTypes.TEXTBOX, options: {} },\r\n      validators: [\r\n        { type: 'required', messager: '必填' }\r\n      ]\r\n    },\r\n    {\r\n      field: 'documentation', width: 80, title: this.localePipe.transform('component.processVariables.documentation'), sortable: true,\r\n      editor: { type: EditorTypes.TEXTBOX, options: {} },\r\n      validators: [\r\n        { type: 'required', messager: '必填' }\r\n      ]\r\n    },\r\n    {\r\n      field: 'basicType', width: 60, title: this.localePipe.transform('component.processVariables.basicType'), sortable: true,\r\n      formatter: {\r\n        type: 'enum',\r\n        options: { valueField: 'value', textField: 'text', data: this.basicTypes }\r\n      },\r\n      editor: {\r\n        type: EditorTypes.COMBOLIST,\r\n        options: { valueField: 'value', textField: 'text', data: this.basicTypes, idField: 'value', panelHeight: 'auto', showClear: false }\r\n      },\r\n      validators: [\r\n        { type: 'required', messager: '必填' }\r\n      ]\r\n    }, {\r\n      field: 'description', width: 100, title: this.localePipe.transform('component.processVariables.description'), showTips: true,\r\n      editor: { type: EditorTypes.TEXTBOX, options: {} },\r\n    }, {\r\n      field: 'tag', width: 60, title: this.localePipe.transform('component.processVariables.tag'), sortable: true,\r\n      formatter: {\r\n        type: 'enum',\r\n        options: { valueField: 'value', textField: 'text', data: this.tags }\r\n      },\r\n      editor: {\r\n        type: EditorTypes.COMBOLIST,\r\n        options: {\r\n          valueField: 'value', textField: 'text', data: this.tags, idField: 'value', panelHeight: 'auto',\r\n          selectChange: (e) => {\r\n            this.value = this.value.map(v => {\r\n              if (v.id === e.rowId) {\r\n                v.value = null;\r\n                v.valueText = null;\r\n                if (v.component) {\r\n                  v.component = null;\r\n                }\r\n                return v;\r\n              } else {\r\n                return v;\r\n              }\r\n            });\r\n          },\r\n          clear: (e) => {\r\n            this.value = this.value.map(v => {\r\n              if (v.id === e.rowId) {\r\n                v.value = null;\r\n                v.valueText = null;\r\n                if (v.component) {\r\n                  v.component = null;\r\n                }\r\n                return v;\r\n              } else {\r\n                return v;\r\n              }\r\n            });\r\n          }\r\n        }\r\n      }\r\n    }, {\r\n      field: 'valueText', width: 120, title: this.localePipe.transform('component.processVariables.valueText'), showTips: true,\r\n      editor: { type: EditorTypes.TEXTBOX, options: {} }\r\n    }\r\n  ];\r\n\r\n  modalConfig = {\r\n    title: this.localePipe.transform('component.processVariables.processVariables'),\r\n    width: 1070,\r\n    height: 510,\r\n    showButtons: true\r\n  };\r\n\r\n  constructor(\r\n    private message: MessagerService,\r\n    private resolver: ComponentFactoryResolver,\r\n    private injector: Injector,\r\n    private modalService: BsModalService,\r\n    private uistate: ProcessDesignerUIState,\r\n    private expr: ExpressionService,\r\n    @Optional() private cdr: ChangeDetectorRef,\r\n    @Inject(LOCALE_ID) private localeId: string,\r\n    @Inject(WF_LANG_RESOURCES) private resources: any,\r\n    @Optional() private localePipe: WfLocalePipe\r\n  ) {\r\n    this.localePipe = this.localePipe || new WfLocalePipe(localeId, resources);\r\n  }\r\n\r\n  ngOnInit() {\r\n    if (this.variableSetting) {\r\n      this.columns = this.columns.filter(c => c.field !== 'tag'\r\n        && c.field !== 'valueText' && c.field !== 'description'\r\n      );\r\n    }\r\n  }\r\n\r\n  add() {\r\n    const variable = new ProcessVariable();\r\n    this.value = this.value.concat([variable]);\r\n  }\r\n\r\n  delete() {\r\n    this.grid.endCellEdit();\r\n    const selected = this.grid.selectedRow;\r\n    if (!selected) {\r\n      this.message.info(this.localePipe.transform('component.processVariables.notSelected'));\r\n      return;\r\n    }\r\n    this.value = this.value.filter(v => v.id !== selected.data.id);\r\n  }\r\n\r\n  clickOK() {\r\n    if (this.variableSetting) {\r\n      const selecteds = this.grid.checkeds;\r\n      if (selecteds.length > 0 ) {\r\n        if (this.varValidator()) {\r\n          this.variableSetEmitter.emit(selecteds);\r\n        }\r\n      } else {\r\n        this.message.info(this.localePipe.transform('component.processVariables.notSelected'));\r\n      }\r\n    } else {\r\n      this.grid.endCellEdit();\r\n      if (this.validator()) {\r\n        const object = { value: this.value, parameters: null };\r\n        this.submitModal.emit(object);\r\n      }\r\n    }\r\n  }\r\n\r\n  clickCancel() {\r\n    this.closeModal.emit();\r\n  }\r\n  beforeEdit = (param: RowEditParam) => {\r\n    const rowData = param.rowData as any;\r\n    const column = param.column;\r\n    if (column.field === 'valueText') {\r\n      if (!(rowData as ProcessVariable).tag) {\r\n        return of(false);\r\n      }\r\n      if ((rowData as ProcessVariable).tag === this.tags[0].value) {\r\n        param.column.editor = { type: EditorTypes.TEXTBOX, options: {} };\r\n      } else {\r\n        param.column.editor = {\r\n          type: 'input-group',\r\n          options: {\r\n            groupText: '<i class=\"f-icon f-icon-lookup\"></i>',\r\n            editable: false,\r\n            showClear: false,\r\n            clickHandle: (e) => {\r\n              e.formControl.setValue(e.instance.value ? e.instance.value : '');\r\n              this.valueEdit(e);\r\n            },\r\n            clear: (e) => {\r\n              console.log('clear', e);\r\n            }\r\n          }\r\n        };\r\n      }\r\n    }\r\n    return of(true);\r\n  }\r\n\r\n  endEdit(data: any) {\r\n    if (data.column.field === 'valueText' && data.rowData.tag === this.tags[0].value) {\r\n      data.rowData.value = data.rowData.valueText;\r\n    }\r\n  }\r\n  valueEdit(e: any) {\r\n    const rowdata: ProcessVariable = e.rowData;\r\n    switch (rowdata.tag) {\r\n      case this.tags[0].value:\r\n        this.editConstant(e);\r\n        break;\r\n      case this.tags[1].value:\r\n        this.editExpression(e);\r\n        break;\r\n      case this.tags[2].value:\r\n        this.editComponent(e);\r\n        break;\r\n    }\r\n  }\r\n  private editConstant(e: any) {\r\n    const data: ProcessVariable = e.rowData;\r\n    let dialog: any;\r\n    const compFactory = this.resolver.resolveComponentFactory(ConstantEditComponent);\r\n    const compRef = compFactory.create(this.injector);\r\n    compRef.instance.value = data.value;\r\n    compRef.instance.submitEmitter.subscribe((re: string) => {\r\n      e.formControl.setValue(re);\r\n      e.instance.cd.detectChanges();\r\n      data.value = re;\r\n      dialog.close();\r\n    });\r\n    compRef.instance.closeEmitter.subscribe(re => {\r\n      dialog.close();\r\n    });\r\n    const modalConfig = {\r\n      title: this.localePipe.transform('component.processVariables.constant'),\r\n      width: 340,\r\n      height: 280,\r\n      showButtons: true,\r\n      buttons: compRef.instance.footer\r\n    };\r\n    dialog = this.modalService.show(compRef, modalConfig);\r\n  }\r\n\r\n  private editExpression(e: any) {\r\n    // this.expr.clearContext();\r\n    const data: ProcessVariable = e.rowData;\r\n    if (this.uistate.schemas.length > 0) {\r\n      for (const schema of this.uistate.schemas) {\r\n        this.expr.addSchema('Schema', schema);\r\n      }\r\n      if (this.uistate.schemas[0].entityTypes && this.uistate.schemas[0].entityTypes.length > 0) {\r\n        const entityType = this.uistate.schemas[0].entityTypes[0];\r\n        this.expr.addInjectedEntity(entityType.name, 'Schema',\r\n          entityType.name, InjectedType.EntityType);\r\n      }\r\n    }\r\n    let context = new Array();\r\n    context = this.uistate.addContext(context);\r\n    if (this.uistate.subActivityContext.length > 0) {\r\n      for (const variable of this.uistate.subActivityContext) {\r\n        if (!context.some(c => c.key === variable.key)) {\r\n          context.push(variable);\r\n        }\r\n      }\r\n    }\r\n    if (context.length > 0) {\r\n      for (const v of context) {\r\n        this.expr.addContext(v);\r\n      }\r\n    }\r\n    this.expr.setEditPattern(ExprEditMode.Advanced); // 表达式展现模式：默认高级版\r\n    this.expr.addExpressionText(data.value);\r\n    this.expr.buildExpression().then((re: string) => {\r\n      e.formControl.setValue(re);\r\n      e.instance.cd.detectChanges();\r\n      data.value = re;\r\n      e.form.bindingData.value = re;\r\n      e.form.value.value = re;\r\n      //点击确定后，去除表达式里面的新增的上下文变量\r\n      if(context.length > 0) {\r\n        this.expr.exprEntity.contextEntities = this.expr.exprEntity.contextEntities.filter(x => !context.some(y => y.key === x.key));\r\n      }\r\n    });\r\n  }\r\n\r\n  private editComponent(e: any) {\r\n    const data: ProcessVariable = e.rowData;\r\n    let dialog: any;\r\n    const compFactory = this.resolver.resolveComponentFactory(ComponentEditComponent);\r\n    const compRef = compFactory.create(this.injector);\r\n    compRef.instance.component = data.component;\r\n    compRef.instance.submitEmitter.subscribe((re: any) => {\r\n      e.formControl.setValue(re.Name + '-' + re.MethodCode);\r\n      e.instance.cd.detectChanges();\r\n      data.value = re.Id;\r\n      data.component = re;\r\n      e.form.bindingData.value = re.Id;\r\n      e.form.value.value = re.Id;\r\n      e.form.value.component = re;\r\n      e.form.bindingData.component = re;\r\n      dialog.close();\r\n    });\r\n    compRef.instance.closeEmitter.subscribe(re => {\r\n      dialog.close();\r\n    });\r\n    const modalConfig = {\r\n      title: this.localePipe.transform('component.processVariables.component'),\r\n      width: 800,\r\n      height: 515,\r\n      showButtons: true,\r\n      buttons: compRef.instance.footer\r\n    };\r\n    dialog = this.modalService.show(compRef, modalConfig);\r\n  }\r\n\r\n  private validator() {\r\n    for (const item of this.value) {\r\n      if (!item.name) {\r\n        this.message.warning(this.localePipe.transform('component.processVariables.variableNumberEmpty'));\r\n        return false;\r\n      }\r\n      if (!item.documentation) {\r\n        this.message.warning(this.localePipe.transform('component.processVariables.variableNameEmpty'));\r\n        return false;\r\n      }\r\n      if (!this.IsMatchVariableNameRules(item.name)) {\r\n        this.message.warning(this.localePipe.transform('component.processVariables.variableNumberNotStandard'));\r\n        return false;\r\n      }\r\n      if (item.value && !item.tag) {\r\n        this.message.warning(this.localePipe.transform('component.processVariables.tagNotEmpty'));\r\n        return false;\r\n      }\r\n    }\r\n    if (this.value.length > 1) {\r\n      for (let i = 0; i < this.value.length; i++) {\r\n        const code1 = this.value[i].name;\r\n        for (let j = i + 1; j < this.value.length; j++) {\r\n          const code2 = this.value[j].name;\r\n\r\n          if (code1 === code2) {\r\n            this.message.warning(this.localePipe.transform('component.processVariables.codeDuplicates'));\r\n            return false;\r\n          }\r\n        }\r\n      }\r\n    }\r\n    return true;\r\n  }\r\n  private IsMatchVariableNameRules(str: string) {\r\n    const Regx = /^[a-zA-Z_][a-zA-Z_0-9]{0,}/;\r\n    if (Regx.test(str)) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  // 变量赋值专用校验\r\n  private varValidator() {\r\n    for (const item of this.grid.checkeds) {\r\n      if (this.selectedValue.length && this.selectedValue.length > 0) {\r\n        if (this.selectedValue.filter(v => v.variableCode === item.data.name).length > 0){\r\n          this.message.warning(this.localePipe.transform('component.processVariables.alreadyExists'));\r\n          return false;\r\n        }\r\n      }\r\n    }\r\n    return true;\r\n  }\r\n}\r\n\r\nexport class ProcessVariablesConverter implements TypeConverter {\r\n  constructor(\r\n    private localePipe: WfLocalePipe\r\n  ) { }\r\n\r\n  convertTo(data: any[]): string {\r\n    if (data && data.length > 0) {\r\n      return this.localePipe.transform(\"component.processVariables.set\");\r\n    } else {\r\n      return this.localePipe.transform(\"component.processVariables.notSet\");\r\n    }\r\n  }\r\n}\r\n","import { ProcessDeUtil } from '../../domain/process-de-util';\r\nimport { WfLocalePipe } from '../../i18n/pipe/wf-process-editor-locale.pipe';\r\nimport { SmsMessageTemplate } from '../sms-message-template/sms-message-template';\r\n\r\nexport class TimeLimitInfo {\r\n    tag: string;\r\n\r\n    /**\r\n     * 是否启用\r\n     */\r\n    enable: boolean;\r\n\r\n    /**\r\n     * 限定时长\r\n     */\r\n    dueTime: string;\r\n\r\n    /**\r\n     * 时间单位\r\n     */\r\n    timeUnit: string;\r\n\r\n    expireOperations: Array<ExpireOperation>;\r\n\r\n    constructor() {\r\n        this.tag = 'constant';\r\n        this.enable = false;\r\n        this.timeUnit = 'day';\r\n        this.expireOperations = new Array();\r\n    }\r\n}\r\n\r\nexport class ExpireOperation {\r\n    id: string;\r\n    /**\r\n     * 期限控制类型\r\n     */\r\n    durationType: string;\r\n\r\n    /**\r\n     * 任务期限\r\n     */\r\n    timeDuration: number;\r\n\r\n    /**\r\n     * 时间单位\r\n     */\r\n    timeUnit: string;\r\n\r\n    /**\r\n     * 操作类型名称\r\n     */\r\n    operationTypeName: string;\r\n\r\n    constructor() {\r\n        this.id = ProcessDeUtil.GenerateElementId();\r\n        this.durationType = 'BeforeDuration';\r\n        this.timeDuration = 0;\r\n        this.timeUnit = 'day';\r\n        // 默认操作类型是发送预警消息\r\n        this.operationTypeName = 'SendMessageExpireOperation';\r\n    }\r\n}\r\n\r\n/**\r\n * 发送预警信息方式\r\n */\r\nexport class SendMessage extends ExpireOperation{\r\n    /**\r\n     * 预警信息内容\r\n     */\r\n    message: string;\r\n\r\n    /**\r\n     * 发送预警信息类型\r\n     */\r\n    sendType: string;\r\n\r\n    /**\r\n     * 预警信息主题\r\n     */\r\n    subject: string;\r\n\r\n    /**\r\n     * 消息接收人\r\n     * 用户IDs\r\n     */\r\n    receiver?: string;\r\n\r\n    /**\r\n     * 消息接收人显示\r\n     */\r\n    receiverText?: string;\r\n\r\n    /**\r\n     * 启用循环预警\r\n     */\r\n    cycleEnable: boolean;\r\n\r\n    /**\r\n     * 循环预警时间间隔\r\n     */\r\n    cycleTime: string;\r\n\r\n    /**\r\n     * 循环预警时间间隔单位\r\n     */\r\n    cycleTimeUnit: string;\r\n\r\n    /**\r\n     * 短信模板\r\n     */\r\n    smsMessageTemplate: SmsMessageTemplate\r\n\r\n    constructor(\r\n      location,\r\n      private localePipe: WfLocalePipe\r\n      ) {\r\n      super();\r\n      this.cycleEnable = false;\r\n      this.cycleTimeUnit = 'day';\r\n      this.receiver = location === 'activity' ? 'workItemParticipant' : 'procInstCreator';\r\n      this.receiverText = location === 'activity' ? this.localePipe.transform('component.timeLimitControl.workItemParticipant') : this.localePipe.transform('component.timeLimitControl.procInstCreator');\r\n      this.subject = `{\"expr\":\"\\'` + this.localePipe.transform('component.timeLimitControl.SendMessageExpireOperation') + `\\'\",\"sexpr\":\"\"}`;\r\n      this.message = `{\"expr\":\"\\'` + (location === 'activity' ?  this.localePipe.transform('component.timeLimitControl.to-doMessageTimeOut') :  this.localePipe.transform('component.timeLimitControl.messageTimeOut')) + `\\'\",\"sexpr\":\"\"}`;\r\n    }\r\n}\r\n\r\nexport class AutoHandle extends ExpireOperation {\r\n  /**\r\n   * 办理类型，通过驳回否决等等\r\n   */\r\n  autoHandleType: string;\r\n\r\n  /**\r\n   * 办理意见\r\n   */\r\n  message: string;\r\n\r\n  constructor(\r\n    type: string,\r\n    private localePipe: WfLocalePipe\r\n  ) {\r\n    super();\r\n    this.autoHandleType = type;\r\n    this.message = this.localePipe.transform('component.timeLimitControl.agree');\r\n  }\r\n}\r\n","import { ProcessDeUtil } from \"../../domain/process-de-util\";\r\n\r\nexport class SmsMessageTemplate { \r\n    code: string;\r\n\r\n    content: string;\r\n\r\n    smsMessageVariables: Array<SmsMessageVariable>;\r\n    constructor() { \r\n        this.smsMessageVariables = new Array();\r\n    }\r\n}\r\n\r\nexport class SmsMessageVariable { \r\n    constructor() { \r\n        this.id = ProcessDeUtil.createNM();\r\n    }\r\n    id: string;\r\n    code: string;\r\n    value: string\r\n    tag = 'expression';\r\n}","import { ChangeDetectorRef, Component, Inject, Input, LOCALE_ID, OnInit, Optional, ViewChild } from '@angular/core';\r\nimport { DatagridComponent } from '@farris/ui-datagrid';\r\nimport { EditorTypes } from '@farris/ui-datagrid-editors';\r\nimport { MessagerService } from '@farris/ui-messager';\r\nimport { ExprEditMode, ExpressionService, InjectedType, VarEntity } from '@gsp-svc/expression';\r\nimport { ProcessDesignerUIState } from '../../app/process-designer.uistate';\r\nimport { SmsMessageTemplate, SmsMessageVariable } from './sms-message-template';\r\nimport { WF_LANG_RESOURCES, WfLocalePipe } from '../../i18n/pipe/wf-process-editor-locale.pipe';\r\nimport { WF_PROCESS_EDITOR_LANG_RESOURCES } from '../../i18n/assets/lang.resource';\r\n\r\n@Component({\r\n  selector: 'lib-sms-message-template',\r\n  templateUrl: './sms-message-template.component.html',\r\n  styleUrls: ['./sms-message-template.component.scss'],\r\n  providers: [\r\n     WfLocalePipe,\r\n  ]\r\n})\r\nexport class SmsMessageTemplateComponent implements OnInit {\r\n\r\n  @ViewChild('grid') grid: DatagridComponent;\r\n\r\n  smsVariableList = new Array();\r\n  smsVariableCols = new Array();\r\n  smsTemplateContent = this.localePipe.transform('component.smsMessageTemplate.smsTemplateContent')\r\n\r\n  @Input()\r\n  smsMessageTemplate: SmsMessageTemplate;\r\n\r\n  constructor(\r\n    private designerState: ProcessDesignerUIState,\r\n    private expr: ExpressionService,\r\n    private message: MessagerService,\r\n    @Optional() private cdr: ChangeDetectorRef,\r\n    @Inject(LOCALE_ID) private localeId: string,\r\n    @Inject(WF_LANG_RESOURCES) private resources: any,\r\n    @Optional() private localePipe: WfLocalePipe,\r\n  ) {\r\n    this.localePipe = this.localePipe || new WfLocalePipe(localeId, resources);\r\n    this.smsMessageTemplate = new SmsMessageTemplate();\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.smsVariableCols=[{\r\n      field: 'code', width: 80, title: this.localePipe.transform('component.smsMessageTemplate.code'), editor: { type: EditorTypes.TEXTBOX, options: {} }\r\n    }, {\r\n      field: 'value', width: 100, title: this.localePipe.transform('component.smsMessageTemplate.value'), showTips: true,editor: {\r\n        type: 'input-group',\r\n        options: {\r\n          groupText: '<i class=\"f-icon f-icon-lookup\"></i>',\r\n          editable: false,\r\n          clickHandle: (e) => {\r\n            e.formControl.setValue(e.instance.value ? e.instance.value : '');\r\n            this.showExprHelp(e);\r\n          },\r\n          clear: (e) => {\r\n            console.log('clear', e);\r\n          }\r\n        }\r\n      }\r\n      }]\r\n    console.log(this.smsMessageTemplate);\r\n  }\r\n\r\n  addSmsVariable() {\r\n    const variable = new SmsMessageVariable();\r\n    this.smsMessageTemplate.smsMessageVariables.push(variable);\r\n    this.grid.loadData(this.smsMessageTemplate.smsMessageVariables);\r\n  }\r\n\r\n  deleteSmsVariable() {\r\n    this.endGridEdit();\r\n    const selectedVariable = this.grid.selectedRow;\r\n    if (!selectedVariable) {\r\n      this.message.info(this.localePipe.transform('component.smsMessageTemplate.noRowsSelected'));\r\n      return;\r\n    }\r\n    const index = this.smsMessageTemplate.smsMessageVariables.findIndex(variable => variable.id === selectedVariable.id);\r\n    if (index > -1) {\r\n      this.smsMessageTemplate.smsMessageVariables.splice(index, 1);\r\n      this.grid.loadData(this.smsMessageTemplate.smsMessageVariables);\r\n    }\r\n  }\r\n\r\n  endGridEdit() {\r\n    this.grid.endCellEdit();\r\n  }\r\n\r\n  private showExprHelp(e: any) {\r\n    // this.expr.clearContext();\r\n    if (this.designerState.schemas.length > 0) {\r\n      for (const schema of this.designerState.schemas) {\r\n        this.expr.addSchema('Schema', schema);\r\n      }\r\n      if (this.designerState.schemas[0].entityTypes && this.designerState.schemas[0].entityTypes.length > 0) {\r\n        const entityType = this.designerState.schemas[0].entityTypes[0];\r\n        this.expr.addInjectedEntity(entityType.name, 'Schema',\r\n          entityType.name, InjectedType.EntityType);\r\n      }\r\n    }\r\n    let context = new Array<VarEntity>();\r\n    context = this.designerState.addContext(context);\r\n    if (this.designerState.subActivityContext.length > 0) {\r\n      for (const variable of this.designerState.subActivityContext) {\r\n        if (!context.some(c => c.key === variable.key)) {\r\n          context.push(variable);\r\n        }\r\n      }\r\n    }\r\n    if (context.length > 0) {\r\n      for (const v of context) {\r\n        this.expr.addContext(v);\r\n      }\r\n    }\r\n    this.expr.setEditPattern(ExprEditMode.Advanced); // 默认打开高级表达式编辑器\r\n    this.expr.addExpressionText(e.instance.value);\r\n    this.expr.buildExpression().then((expressioninfo: string) => {\r\n      e.formControl.setValue(expressioninfo);\r\n      e.instance.cd.detectChanges();\r\n      //点击确定后，去除表达式里面的新增的上下文变量\r\n      if(context.length > 0) {\r\n        this.expr.exprEntity.contextEntities = this.expr.exprEntity.contextEntities.filter(x => !context.some(y => y.key === x.key));\r\n      }\r\n    });\r\n  }\r\n\r\n\r\n\r\n}\r\n","import { Component, OnInit, Injector, ViewChild, TemplateRef, Input, Output, EventEmitter, Optional, ChangeDetectorRef, LOCALE_ID, Inject } from '@angular/core';\r\nimport {ExpireOperation, SendMessage} from '../time-limit-control.entity';\r\nimport { ExprEditMode, ExpressionService, InjectedType} from '@gsp-svc/expression';\r\nimport { MessagerService } from '@farris/ui-messager';\r\nimport { ProcessDesignerUIState } from '../../../app/process-designer.uistate';\r\nimport { SmsMessageTemplate } from '../../sms-message-template/sms-message-template';\r\nimport { SmsMessageTemplateComponent } from '../../sms-message-template/sms-message-template.component';\r\nimport { WF_LANG_RESOURCES, WfLocalePipe } from '../../../i18n/pipe/wf-process-editor-locale.pipe';\r\nimport { WF_PROCESS_EDITOR_LANG_RESOURCES } from '../../../i18n/assets/lang.resource';\r\n\r\n@Component({\r\n  selector: 'lib-send-message-operation',\r\n  templateUrl: './send-message-operation.component.html',\r\n  styleUrls: ['./send-message-operation.component.scss'],\r\n  providers: [\r\n     WfLocalePipe,\r\n  ]\r\n})\r\nexport class SendMessageOperationComponent implements OnInit {\r\n\r\n  groupIcon2 = '<i class=\"f-icon f-icon-lookup\"></i>';\r\n  @ViewChild('footer') footer: TemplateRef<any>;\r\n  @ViewChild(SmsMessageTemplateComponent) SmsTemplate:SmsMessageTemplateComponent\r\n  @Input()\r\n  set value(info: SendMessage) {\r\n    this.operation = JSON.parse(JSON.stringify(info));\r\n    if (this.operation.sendType === undefined) {\r\n      const sendMessage = new SendMessage(this.location,this.localePipe);\r\n      this.operation.cycleEnable = sendMessage.cycleEnable;\r\n      this.operation.cycleTimeUnit = sendMessage.cycleTimeUnit;\r\n      this.operation.receiver = sendMessage.receiver;\r\n      this.operation.subject = sendMessage.subject;\r\n      this.operation.message = sendMessage.message;\r\n    }\r\n    if (this.operation.receiver && this.operation.receiver.length > 0) {\r\n      let array = this.operation.receiver.split(',');\r\n      if (array.indexOf('workItemParticipant') > -1) {\r\n        this.receiverVari = 'workItemParticipant';\r\n        this.activityReceiverVar += 'workItemParticipant,';\r\n      }\r\n      if (array.indexOf('procInstCreator') > -1) {\r\n        this.receiverVari = 'procInstCreator';\r\n        this.activityReceiverVar += 'procInstCreator,';\r\n      }\r\n      if (array.indexOf('preActExecutors') > -1){\r\n        this.activityReceiverVar += 'preActExecutors,';\r\n      }\r\n      if(this.activityReceiverVar.length > 0){\r\n        this.activityReceiverVar = this.activityReceiverVar.substring(0,this.activityReceiverVar.length-1);\r\n      }\r\n      if (array.length > 0) {\r\n        array = array.filter(a => a !== 'procInstCreator');\r\n        this.bindingData.id = '';\r\n        for (const r of array) {\r\n          this.bindingData.id += r + ',';\r\n        }\r\n        if (this.bindingData.id) {\r\n          this.bindingData.id = this.bindingData.id.substring(0, this.bindingData.id.length - 1);\r\n        }\r\n      }\r\n    }\r\n    if (this.operation.receiverText && this.operation.receiverText.length > 0) {\r\n      let array = this.operation.receiverText.split(',');\r\n      if (array.length > 0) {\r\n        array = array.filter(a => a !== '流程发起人');\r\n        this.bindingData.name = '';\r\n        for (const r of array) {\r\n          this.bindingData.name += r + ',';\r\n        }\r\n        if (this.bindingData.name) {\r\n          this.bindingData.name = this.bindingData.name.substring(0, this.bindingData.name.length - 1);\r\n        }\r\n      }\r\n    }\r\n    if (this.hasSmsMessage(this.operation.sendType)) {\r\n      this.hasSmsTemplate = true;\r\n      if (!this.operation.smsMessageTemplate) {\r\n        this.operation.smsMessageTemplate = new SmsMessageTemplate();\r\n      }\r\n    }\r\n  }\r\n\r\n  get value() {\r\n    return this.operation;\r\n  }\r\n\r\n  // operation: ExpireOperation = new ExpireOperation();\r\n  operation: SendMessage = new SendMessage('activity',this.localePipe);\r\n  @Output() closeEmitter = new EventEmitter<any>();\r\n  @Output() submitEmitter = new EventEmitter<ExpireOperation>();\r\n\r\n  typeGroup = this.uistate.messageChannels.map(m => ({ value: m.code, name: m.name }));\r\n\r\n  receiverVariables = [\r\n    { value: 'procInstCreator', name: this.localePipe.transform(\"component.sendMessageOperation.procInstCreator\") }\r\n  ];\r\n  activityReceiverVariables = [\r\n    { value: 'workItemParticipant', name: this.localePipe.transform(\"component.sendMessageOperation.workItemParticipant\")  },\r\n    { value: 'procInstCreator', name: this.localePipe.transform(\"component.sendMessageOperation.procInstCreator\")  },\r\n    { value: 'preActExecutors', name: this.localePipe.transform(\"component.sendMessageOperation.preActExecutors\") }\r\n  ];\r\n\r\n  placeholder = '';\r\n  placeholder2 = '';\r\n\r\n  hasSmsTemplate = false;\r\n\r\n  parser = (val: string | number) => {\r\n    // console.log(val);\r\n    return Number(val);\r\n  }\r\n\r\n  timeUnitCollection = [\r\n    { value: 'day', text: this.localePipe.transform(\"component.sendMessageOperation.day\") },\r\n    { value: 'hour', text: this.localePipe.transform(\"component.sendMessageOperation.hour\") },\r\n    { value: 'minute', text: this.localePipe.transform(\"component.sendMessageOperation.minute\") }\r\n  ];\r\n\r\n  location: 'activity' | 'process' = 'activity';\r\n\r\n  receiverVari: string;\r\n\r\n  activityReceiverVar: string = '';\r\n\r\n  bindingData: { id?, name?} = {};\r\n\r\n  constructor(\r\n    private injector: Injector,\r\n    private message: MessagerService,\r\n    private uistate: ProcessDesignerUIState,\r\n    @Optional() private cdr: ChangeDetectorRef,\r\n    @Inject(LOCALE_ID) private localeId: string,\r\n    @Inject(WF_LANG_RESOURCES) private resources: any,\r\n    @Optional() private localePipe: WfLocalePipe,\r\n    private expr: ExpressionService\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  contentExpr(data: any){\r\n    this.showContentHelp(data);\r\n  }\r\n\r\n  titleExpr(data: any){\r\n    this.showTitleHelp(data);\r\n  }\r\n\r\n  showContentHelp(data: string){\r\n    const context = this.showExpr();\r\n    if (this.operation.message && this.operation.message.length > 0) {\r\n      if(!this.operation.message.startsWith(\"{\\\"\" + \"expr\\\"\" + \":\\\"\")) {\r\n          this.expr.addExpressionText(\"\\'\" + this.operation.message + \"\\'\");\r\n      }else {\r\n        this.expr.addExpressionText(this.operation.message);\r\n      }\r\n    } else {\r\n      this.expr.addExpressionText('');\r\n    }\r\n    this.expr.buildExpression().then((expressionInfo: string) => {\r\n      this.operation.message = expressionInfo;\r\n      //点击确定后，去除表达式里面的新增的上下文变量\r\n      if(context.length > 0) {\r\n        this.expr.exprEntity.contextEntities = this.expr.exprEntity.contextEntities.filter(x => !context.some(y => y.key === x.key));\r\n      }\r\n    });\r\n  }\r\n\r\n  showTitleHelp(data: string) {\r\n    const context = this.showExpr();\r\n    if (this.operation.subject && this.operation.subject.length > 0) {\r\n      if(!this.operation.subject.startsWith(\"{\\\"\" + \"expr\\\"\" + \":\\\"\")) {\r\n        this.expr.addExpressionText(\"\\'\" + this.operation.subject + \"\\'\");\r\n      }else {\r\n        this.expr.addExpressionText(this.operation.subject);\r\n      }\r\n    } else {\r\n      this.expr.addExpressionText('');\r\n    }\r\n    this.expr.buildExpression().then((expressionInfo: string) => {\r\n      this.operation.subject = expressionInfo;\r\n      //点击确定后，去除表达式里面的新增的上下文变量\r\n      if(context.length > 0) {\r\n        this.expr.exprEntity.contextEntities = this.expr.exprEntity.contextEntities.filter(x => !context.some(y => y.key === x.key));\r\n      }\r\n    });\r\n  }\r\n\r\n  clickOK() {\r\n    if (this.SmsTemplate) {\r\n      this.SmsTemplate.endGridEdit();\r\n    }\r\n    this.operation.cycleTime += '';\r\n    if (this.location === 'process') {\r\n      this.setReceiver();\r\n    }\r\n    if(this.location === 'activity') {\r\n      this.setActivityReceiver()\r\n    }\r\n    if (this.hasSmsTemplate) {\r\n      this.operation.smsMessageTemplate = this.SmsTemplate.smsMessageTemplate;\r\n      if (this.operation.smsMessageTemplate.smsMessageVariables && this.operation.smsMessageTemplate.smsMessageVariables.length > 0) {\r\n        this.operation.smsMessageTemplate.smsMessageVariables = this.operation.smsMessageTemplate.smsMessageVariables.filter(variable => variable.code);\r\n      }\r\n    } else {\r\n      this.operation.smsMessageTemplate = null;\r\n    }\r\n    if (this.validator()) {\r\n      this.submitEmitter.emit(this.operation);\r\n    }\r\n  }\r\n\r\n  clickCancel() {\r\n    this.closeEmitter.emit();\r\n  }\r\n\r\n  clear() {\r\n    this.bindingData = {};\r\n  }\r\n\r\n  sendTypeChange(sendType: string) {\r\n    if (this.hasSmsMessage(sendType)) {\r\n      this.hasSmsTemplate = true;\r\n      if (!this.operation.smsMessageTemplate) {\r\n        this.operation.smsMessageTemplate = new SmsMessageTemplate();\r\n      }\r\n    } else {\r\n      this.hasSmsTemplate = false;\r\n      this.operation.smsMessageTemplate = null;\r\n    }\r\n  }\r\n\r\n  private setReceiver() {\r\n    let receiver = '';\r\n    let receiverText = '';\r\n    if (this.receiverVari) {\r\n      receiver += this.receiverVari + ',';\r\n      const array = this.receiverVari.split(',');\r\n      if (array.length > 0) {\r\n        for (const a of array) {\r\n          const t = this.receiverVariables.find(v => v.value === a).name;\r\n          receiverText += t + ',';\r\n        }\r\n      }\r\n    }\r\n    if (this.bindingData.id) {\r\n      receiver += this.bindingData.id + ',';\r\n      receiverText += this.bindingData.name + ',';\r\n    }\r\n    if (receiver) {\r\n      receiver = receiver.substring(0, receiver.length - 1);\r\n    }\r\n    if (receiverText) {\r\n      receiverText = receiverText.substring(0, receiverText.length - 1);\r\n    }\r\n    this.operation.receiver = receiver;\r\n    this.operation.receiverText = receiverText;\r\n  }\r\n\r\n  setActivityReceiver(){\r\n    let receiver = '';\r\n    if (this.activityReceiverVar) {\r\n      receiver += this.activityReceiverVar + ',';\r\n    }\r\n    if (receiver) {\r\n      receiver = receiver.substring(0, receiver.length - 1);\r\n    }\r\n    this.operation.receiver = receiver;\r\n  }\r\n  private validator(): boolean {\r\n    // 2023-5-22 如果没有启用循环预警则不进行校验\r\n    if (this.operation.cycleEnable) {\r\n      if (this.operation.cycleTime === 'undefined') {\r\n        this.message.info(this.localePipe.transform(\"component.sendMessageOperation.cycleTimeNotEmpty\"));\r\n        return false;\r\n      }\r\n    }\r\n    if (!this.operation.sendType) {\r\n      this.message.info(this.localePipe.transform(\"component.sendMessageOperation.sendMethodNotEmpty\"));\r\n      return false;\r\n    }\r\n    if (!this.operation.subject) {\r\n      this.message.info(this.localePipe.transform(\"component.sendMessageOperation.subjectNotEmpty\"));\r\n      return false;\r\n    }\r\n    if (!this.operation.message) {\r\n      this.message.info(this.localePipe.transform(\"component.sendMessageOperation.contentNotEmpty\"));\r\n      return false;\r\n    }\r\n    if (!this.operation.receiver) {\r\n      this.message.info(this.localePipe.transform(\"component.sendMessageOperation.recipientNotEmpty\"));\r\n      return false;\r\n    }\r\n    //去除消息模板编号校验\r\n    // if (this.hasSmsTemplate) {\r\n    //   if (!this.operation.smsMessageTemplate) {\r\n    //     this.message.info(this.localePipe.transform(\"component.sendMessageOperation.messageTemplate\"));\r\n    //     return false;\r\n    //   }\r\n    //   if (!this.operation.smsMessageTemplate.code) {\r\n    //     this.message.info(this.localePipe.transform(\"component.sendMessageOperation.smsTemplateNumberNotEmpty\"));\r\n    //     return false;\r\n    //   }\r\n    // }\r\n    return true;\r\n  }\r\n\r\n  private hasSmsMessage(sendType: string) {\r\n    if (sendType) {\r\n      const sendTypeList = sendType.split(',');\r\n      let messageChannel = sendTypeList.find(val => this.uistate.messageChannels.find(channel => channel.code == val && channel.channelType == 'Sms'));\r\n      if (messageChannel) {\r\n        return true;\r\n      } else {\r\n        return false;\r\n      }\r\n    } else {\r\n      return false\r\n    }\r\n  }\r\n\r\n  showExpr(){\r\n    // this.expr.clearContext();\r\n    if (this.uistate.schemas.length > 0) {\r\n      for (const schema of this.uistate.schemas) {\r\n        // this.expr.addCommonObject(co);\r\n        this.expr.addSchema('Schema', schema);\r\n      }\r\n      if (this.uistate.schemas[0].entityTypes && this.uistate.schemas[0].entityTypes.length > 0) {\r\n        const entityType = this.uistate.schemas[0].entityTypes[0];\r\n        this.expr.addInjectedEntity(entityType.name, 'Schema',\r\n          entityType.name, InjectedType.EntityType);\r\n      }\r\n    }\r\n    const context = new Array();\r\n    if (this.uistate.procInstContext.length > 0) {\r\n      for (const variable of this.uistate.procInstContext) {\r\n        context.push(variable);\r\n        // this.expr.addContext(variable);\r\n      }\r\n    }\r\n    if (this.uistate.processVariableContext.length > 0) {\r\n      for (const variable of this.uistate.processVariableContext) {\r\n        if (!context.some(c => c.key === variable.key)) {\r\n          context.push(variable);\r\n        }\r\n        // this.expr.addContext(variable);\r\n      }\r\n    }\r\n    if (this.uistate.subActivityContext.length > 0) {\r\n      for (const variable of this.uistate.subActivityContext) {\r\n        if (!context.some(c => c.key === variable.key)) {\r\n          context.push(variable);\r\n        }\r\n        // this.expr.addContext(variable);\r\n      }\r\n    }\r\n    if (context.length > 0) {\r\n      for (const v of context) {\r\n        this.expr.addContext(v);\r\n      }\r\n    }\r\n    return context;\r\n  }\r\n\r\n}\r\n","import { ChangeDetectorRef, Component, EventEmitter, Inject, Input, LOCALE_ID, OnInit, Optional, Output, TemplateRef, ViewChild } from '@angular/core';\r\nimport { AutoHandle, ExpireOperation } from \"../time-limit-control.entity\";\r\nimport { MessagerService } from '@farris/ui-messager';\r\nimport { ProcessDesignerUIState } from '../../../app/process-designer.uistate';\r\nimport { WF_LANG_RESOURCES, WfLocalePipe } from '../../../i18n/pipe/wf-process-editor-locale.pipe';\r\nimport { WF_PROCESS_EDITOR_LANG_RESOURCES } from '../../../i18n/assets/lang.resource';\r\n\r\n@Component({\r\n  selector: 'lib-auto-handle-operation',\r\n  templateUrl: './auto-handle-operation.component.html',\r\n  styleUrls: ['./auto-handle-operation.component.css'],\r\n  providers: [\r\n     WfLocalePipe,\r\n  ]\r\n})\r\nexport class AutoHandleOperationComponent implements OnInit {\r\n\r\n  @ViewChild('footer') footer: TemplateRef<any>;\r\n  @Input()\r\n  set value(info: AutoHandle) {\r\n    this.operation = Object.assign({}, info);\r\n    if (this.operation.autoHandleType === undefined) {\r\n      const autoHandle = new AutoHandle(this.autoHandleType[0].value, this.localePipe);\r\n      this.operation.autoHandleType = autoHandle.autoHandleType;\r\n      this.operation.message = autoHandle.message;\r\n    }\r\n  }\r\n\r\n  get value() {\r\n    return this.operation;\r\n  }\r\n\r\n  placeholder = '';\r\n  operation: AutoHandle = new AutoHandle('Pass', this.localePipe);\r\n  @Output() submitEmitter = new EventEmitter<ExpireOperation>();\r\n  @Output() closeEmitter = new EventEmitter<any>();\r\n\r\n  autoHandleType = [\r\n    // { value: 'autoPass', text: '自动通过' },\r\n    // { value: 'autoBack', text: '自动驳回' }\r\n  ];\r\n\r\n  constructor(\r\n    private message: MessagerService,\r\n    public uiState: ProcessDesignerUIState,\r\n    @Optional() private cdr: ChangeDetectorRef,\r\n    @Inject(LOCALE_ID) private localeId: string,\r\n    @Inject(WF_LANG_RESOURCES) private resources: any,\r\n    @Optional() private localePipe: WfLocalePipe,\r\n  ) {\r\n    this.localePipe = this.localePipe || new WfLocalePipe(localeId, resources);\r\n    for(const item of this.uiState.propertyData.ApprovalItems) {\r\n      this.autoHandleType.push({value: item.Value,text: item.Text});\r\n    }\r\n  }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  clickOK() {\r\n    if (this.validator()) {\r\n      this.submitEmitter.emit(this.operation);\r\n    }\r\n  }\r\n\r\n  clickCancel() {\r\n    this.closeEmitter.emit();\r\n  }\r\n\r\n  private validator(): boolean {\r\n    if (!this.operation.message) {\r\n      this.message.info(this.localePipe.transform('component.sendMessageOperation.opinionsNotEmpty'));\r\n      return false;\r\n    }\r\n    if (!this.operation.autoHandleType) {\r\n      this.message.info(this.localePipe.transform('component.sendMessageOperation.processingNotEmpty'));\r\n      return false;\r\n    }\r\n    return true;\r\n  }\r\n\r\n}\r\n","import { Component, OnInit, HostBinding, Output, EventEmitter, Input, ViewChild, TemplateRef, Injector, ComponentFactoryResolver, ChangeDetectorRef, Optional, Inject, LOCALE_ID } from '@angular/core';\r\nimport { TypeConverter } from '@farris/ide-property-panel';\r\nimport { BsModalService } from '@farris/ui-modal';\r\nimport { SendMessageOperationComponent } from './send-message-operation/send-message-operation.component';\r\nimport { AutoHandleOperationComponent } from \"./auto-handle-operation/auto-handle-operation.component\";\r\nimport {TimeLimitInfo, ExpireOperation, SendMessage, AutoHandle} from './time-limit-control.entity';\r\nimport { EditorTypes } from '@farris/ui-datagrid-editors';\r\nimport { DatagridComponent } from '@farris/ui-datagrid';\r\nimport { MessagerService } from '@farris/ui-messager';\r\nimport { WF_LANG_RESOURCES, WfLocalePipe } from '../../i18n/pipe/wf-process-editor-locale.pipe';\r\nimport { WF_PROCESS_EDITOR_LANG_RESOURCES } from '../../i18n/assets/lang.resource';\r\n\r\n@Component({\r\n  selector: 'lib-time-limit-control',\r\n  templateUrl: './time-limit-control.component.html',\r\n  styleUrls: ['./time-limit-control.component.scss'],\r\n  providers: [\r\n     WfLocalePipe,\r\n  ]\r\n})\r\nexport class TimeLimitControlComponent implements OnInit {\r\n  @HostBinding('class')\r\n  cls = 'farris-main-area flex-column';\r\n\r\n  @Output() closeModal = new EventEmitter<any>();\r\n  @Output() submitModal = new EventEmitter<any>();\r\n\r\n\r\n  @Input() set value(v: TimeLimitInfo) {\r\n    if (v) {\r\n      this.timeLimitInfo = v;\r\n    } else {\r\n      this.timeLimitInfo = new TimeLimitInfo();\r\n    }\r\n    // 兼容历史数据中的操作类型\r\n    for (const operation of this.timeLimitInfo.expireOperations) {\r\n      if (operation.operationTypeName === undefined) {\r\n        operation.operationTypeName = 'SendMessageExpireOperation';\r\n      }\r\n    }\r\n  }\r\n  @Input() editorParams: any = {};\r\n  @ViewChild('iconSelectFooter') modalFooter: TemplateRef<any>;\r\n  @ViewChild('cell') cell: TemplateRef<any>;\r\n  @ViewChild('grid') grid: DatagridComponent;\r\n\r\n  modalConfig = {\r\n    title: this.localePipe.transform(\"component.timeLimitControl.timedOutOperation\"),\r\n    width: 760,\r\n    height: 532,\r\n    showButtons: true\r\n  };\r\n\r\n  timeLimitInfo: TimeLimitInfo = new TimeLimitInfo();\r\n\r\n  tagCollection = [\r\n    { value: 'constant', text: this.localePipe.transform(\"component.timeLimitControl.constant\") },\r\n    { value: 'scope', text: this.localePipe.transform(\"component.timeLimitControl.scope\") }\r\n  ];\r\n\r\n  timeUnitCollection = [\r\n    { value: 'day', text: this.localePipe.transform(\"component.timeLimitControl.day\") },\r\n    { value: 'hour', text: this.localePipe.transform(\"component.timeLimitControl.hour\") },\r\n    { value: 'minute', text: this.localePipe.transform(\"component.timeLimitControl.minute\") }\r\n  ];\r\n\r\n  durationTypeCollection = [\r\n    { value: 'BeforeDuration', text: this.localePipe.transform(\"component.timeLimitControl.BeforeDuration\") },\r\n    { value: 'OnDuration', text: this.localePipe.transform(\"component.timeLimitControl.OnDuration\") },\r\n    { value: 'AfterDuration', text: this.localePipe.transform(\"component.timeLimitControl.AfterDuration\") }\r\n  ];\r\n\r\n  activityOperationTypeName = [\r\n    { value : 'SendMessageExpireOperation', text: this.localePipe.transform(\"component.timeLimitControl.SendMessageExpireOperation\")},\r\n    { value : 'AutoHandleExpireOperation', text : this.localePipe.transform(\"component.timeLimitControl.AutoHandleExpireOperation\") }\r\n  ];\r\n\r\n  processOperationTypeName = [\r\n    { value : 'SendMessageExpireOperation', text: this.localePipe.transform(\"component.timeLimitControl.SendMessageExpireOperation\")}\r\n  ];\r\n\r\n  operationTypeName = [];\r\n\r\n  timeScopeCollection = [\r\n    {value:'curDay',name:this.localePipe.transform(\"component.timeLimitControl.curDay\")}\r\n  ]\r\n  timeScopeValue = this.timeScopeCollection[0].value\r\n  cols = [];\r\n\r\n  location: 'activity' | 'process' = 'activity';\r\n\r\n  parser = (val: string | number) => {\r\n    return Number(val);\r\n  }\r\n\r\n  durationTypeChange = (data) => {\r\n    if (data && data.value && data.value.value === this.durationTypeCollection[1].value) {\r\n      const operation = this.timeLimitInfo.expireOperations.find(e => e.id === data.rowData.id);\r\n      operation.timeDuration = 0;\r\n  }\r\n}\r\n\r\n  constructor(\r\n    private resolver: ComponentFactoryResolver,\r\n    private injector: Injector,\r\n    private modalService: BsModalService,\r\n    private message: MessagerService,\r\n    @Optional() private cdr: ChangeDetectorRef,\r\n    @Inject(LOCALE_ID) private localeId: string,\r\n    @Inject(WF_LANG_RESOURCES) private resources: any,\r\n    @Optional() private localePipe: WfLocalePipe,\r\n  ) {\r\n    this.localePipe = this.localePipe || new WfLocalePipe(localeId, resources);\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.location = this.editorParams.location;\r\n    if (this.location === 'activity') {\r\n      this.operationTypeName = this.activityOperationTypeName;\r\n    } else {\r\n      this.operationTypeName = this.processOperationTypeName;\r\n    }\r\n    this.cols = [\r\n      {\r\n        field: 'durationType', width: 80, title: this.localePipe.transform(\"component.timeLimitControl.durationType\"),\r\n        formatter: {\r\n          type: 'enum',\r\n          options: { valueField: 'value', textField: 'text', data: this.durationTypeCollection }\r\n        },\r\n        editor: {\r\n          type: EditorTypes.COMBOLIST,\r\n          options: {\r\n            valueField: 'value', textField: 'text', data: this.durationTypeCollection, idField: 'value', panelHeight: 'auto',\r\n            valueChange: this.durationTypeChange, showClear: false\r\n          }\r\n        },\r\n        validators: [\r\n          { type: 'required', messager: '必填' }\r\n        ]\r\n      },\r\n      {\r\n        field: 'timeDuration', width: 60, title: this.localePipe.transform(\"component.timeLimitControl.timeDuration\"),\r\n        editor: {\r\n          type: EditorTypes.NUMBERBOX, options: { min: 0},\r\n        },\r\n        validators: [\r\n          { type: 'required', messager: '必填' }\r\n        ]\r\n      },\r\n      {\r\n        field: 'timeUnit', width: 60, title: this.localePipe.transform(\"component.timeLimitControl.timeUnit\"),\r\n        formatter: {\r\n          type: 'enum',\r\n          options: { valueField: 'value', textField: 'text', data: this.timeUnitCollection }\r\n        },\r\n        editor: {\r\n          type: EditorTypes.COMBOLIST,\r\n          options: { valueField: 'value', textField: 'text', data: this.timeUnitCollection, idField: 'value', panelHeight: 'auto' }\r\n        },\r\n        validators: [\r\n          { type: 'required', messager: '必填' }\r\n        ]\r\n      },\r\n      {\r\n        field: 'operationTypeName', width: 100, title: this.localePipe.transform(\"component.timeLimitControl.operationTypeName\"),\r\n        formatter: {\r\n          type: 'enum',\r\n          options: { valueField: 'value', textField: 'text', data: this.operationTypeName }\r\n        },\r\n        editor: {\r\n          type: EditorTypes.COMBOLIST,\r\n          options: { valueField: 'value', textField: 'text', data: this.operationTypeName, idField: 'value', panelHeight: 'auto' }\r\n        },\r\n        validators: [\r\n          { type: 'required', messager: '必填' }\r\n        ]\r\n      },\r\n      {\r\n        field: 'sendType', width: 80, title: this.localePipe.transform(\"component.timeLimitControl.sendType\"), template: this.cell,\r\n        validators: [\r\n          { type: 'required', messager: '必填' }\r\n        ]\r\n      }\r\n    ];\r\n  }\r\n\r\n  clickOK() {\r\n    this.grid.endCellEdit();\r\n    this.timeLimitInfo.dueTime += '';\r\n    if (this.validator()) {\r\n      const object = { value: this.timeLimitInfo, parameters: null };\r\n      this.submitModal.emit(object);\r\n    }\r\n  }\r\n\r\n  clickCancel() {\r\n    this.closeModal.emit();\r\n  }\r\n\r\n  private validator(): boolean {\r\n    if ((this.timeLimitInfo.dueTime).indexOf('.') > -1) {\r\n      console.log(this.timeLimitInfo.dueTime);\r\n      this.message.info(this.localePipe.transform(\"component.timeLimitControl.onlyBeInteger\"));\r\n      return false;\r\n    }\r\n    if (this.timeLimitInfo.expireOperations\r\n      && this.timeLimitInfo.expireOperations.length > 0) {\r\n      for (const e of this.timeLimitInfo.expireOperations) {\r\n        if (e.operationTypeName === 'SendMessageExpireOperation') {\r\n          const a = <SendMessage>e;\r\n          if (!a.sendType) {\r\n            this.message.info(this.localePipe.transform(\"component.timeLimitControl.setOperation\"));\r\n            return false;\r\n          }\r\n        }\r\n        if (e.operationTypeName === 'AutoHandleExpireOperation') {\r\n          const a = <AutoHandle>e;\r\n          if (!a.autoHandleType) {\r\n            this.message.info(this.localePipe.transform(\"component.timeLimitControl.setType\"));\r\n            return false;\r\n          }\r\n          if (!a.message) {\r\n            this.message.info(this.localePipe.transform(\"component.timeLimitControl.setComments\"));\r\n            return false;\r\n          }\r\n        }\r\n        if (e.durationType === 'OnDuration' && e.timeDuration !== 0) {\r\n          e.timeDuration = 0;\r\n        }\r\n      }\r\n    }\r\n    return true;\r\n  }\r\n\r\n  add() {\r\n    let operation = new ExpireOperation();\r\n    this.timeLimitInfo.expireOperations.push(operation);\r\n    this.grid.loadData(this.timeLimitInfo.expireOperations);\r\n    this.grid.selectRow(operation.id);\r\n  }\r\n\r\n  remove() {\r\n    this.grid.endCellEdit();\r\n    const curItem = this.grid.selectedRow;\r\n    if (!curItem) {\r\n      this.message.info(this.localePipe.transform(\"component.timeLimitControl.selectedOperation\"));\r\n      return;\r\n    }\r\n    const i = this.timeLimitInfo.expireOperations.findIndex(a => a.id === curItem.data.id);\r\n    if (i > -1) {\r\n      this.timeLimitInfo.expireOperations.splice(i, 1);\r\n      this.grid.loadData(this.timeLimitInfo.expireOperations);\r\n    }\r\n  }\r\n\r\n  editOperation(ctx: any){\r\n    this.grid.endCellEdit();\r\n    if (ctx.rowData.operationTypeName === 'SendMessageExpireOperation'){\r\n      this.sendMassageOperation(ctx);\r\n    }\r\n    if (ctx.rowData.operationTypeName === 'AutoHandleExpireOperation'){\r\n      this.message.confirm(this.localePipe.transform(\"component.timeLimitControl.notSupportAutomatic\")).subscribe(re => re === true ? this.autoHandleOperation(ctx) : null);\r\n    }\r\n  }\r\n  sendMassageOperation(ctx: any) {\r\n    let dialog: any;\r\n    const compFactory = this.resolver.resolveComponentFactory(SendMessageOperationComponent);\r\n    const compRef = compFactory.create(this.injector);\r\n    compRef.instance.location = this.location;\r\n    compRef.instance.value = Object.assign({}, ctx.rowData);\r\n    compRef.instance.submitEmitter.subscribe((re: ExpireOperation) => {\r\n      let operation = this.timeLimitInfo.expireOperations.find(o => o.id === re.id);\r\n      operation = Object.assign(operation, re);\r\n      dialog.close();\r\n    });\r\n    compRef.instance.closeEmitter.subscribe((re: any) => {\r\n      dialog.close();\r\n    });\r\n    const modalConfig = {\r\n      title: this.localePipe.transform(\"component.timeLimitControl.warningMessage\"),\r\n      width: 800,\r\n      height: 515,\r\n      buttons: compRef.instance.footer,\r\n      showButtons: true\r\n    };\r\n    dialog = this.modalService.show(compRef, modalConfig);\r\n  }\r\n\r\n  autoHandleOperation(ctx: any) {\r\n    let dialog: any;\r\n    const compFactory = this.resolver.resolveComponentFactory(AutoHandleOperationComponent);\r\n    const compRef = compFactory.create(this.injector);\r\n    compRef.instance.value = Object.assign({}, ctx.rowData);\r\n    compRef.instance.submitEmitter.subscribe((re: ExpireOperation) => {\r\n      let operation = this.timeLimitInfo.expireOperations.find(o => o.id === re.id);\r\n      operation = Object.assign(operation, re);\r\n      dialog.close();\r\n    });\r\n    compRef.instance.closeEmitter.subscribe((re: any) => {\r\n      dialog.close();\r\n    });\r\n    const modalConfig = {\r\n      title: this.localePipe.transform(\"component.timeLimitControl.automaticProcessing\"),\r\n      width: 500,\r\n      height: this.location === 'activity' ? 390 : 460,\r\n      buttons: compRef.instance.footer,\r\n      showButtons: true\r\n    };\r\n    dialog = this.modalService.show(compRef, modalConfig);\r\n  }\r\n\r\n  tagSelectChange(data){\r\n    if(data.data.value === 'constant'){\r\n      this.timeLimitInfo.timeUnit = \"day\";\r\n    }else if(data.data.value === 'scope'){\r\n      this.timeLimitInfo.timeUnit = '';\r\n      this.timeLimitInfo.dueTime = this.timeScopeValue;\r\n    }\r\n  }\r\n  changeTimeScope(data){\r\n    this.timeScopeValue = data;\r\n    this.timeLimitInfo.dueTime = this.timeScopeValue;\r\n  }\r\n}\r\n\r\nexport class TimeLimitControlConverter implements TypeConverter {\r\n  constructor(\r\n    private localePipe: WfLocalePipe\r\n  ) { }\r\n\r\n  convertTo(data: any): string {\r\n    if (data && data.enable) {\r\n      return this.localePipe.transform(\"component.timeLimitControl.set\");\r\n    } else {\r\n      return this.localePipe.transform(\"component.timeLimitControl.notSet\");\r\n    }\r\n  }\r\n}\r\n\r\n","import { ProcessDeUtil } from '../../domain/process-de-util';\r\nimport { WfLocalePipe } from '../../i18n/pipe/wf-process-editor-locale.pipe';\r\nimport { SmsMessageTemplate } from '../sms-message-template/sms-message-template';\r\nimport { MessageReceiver } from './message-receiver';\r\n\r\nexport class MessageNotice {\r\n\r\n    id: string;\r\n    /**\r\n     * 消息内容\r\n     */\r\n    content: string;\r\n\r\n    /**\r\n     * 消息发送时机\r\n     */\r\n    sendTime: string;\r\n\r\n    /**\r\n     * 消息发送方式\r\n     */\r\n    sendType: string;\r\n\r\n    /**\r\n     * 消息主题\r\n     */\r\n    subject: string;\r\n\r\n    /**\r\n     * 消息接收人\r\n     */\r\n    receiver: string;\r\n\r\n    /**\r\n     * 消息接收人显示\r\n     */\r\n    receiverText: string;\r\n\r\n    /**\r\n     * 接收人列表\r\n     */\r\n    receivers: Array<MessageReceiver> = new Array();\r\n\r\n    smsMessageTemplate: SmsMessageTemplate\r\n\r\n    constructor() {\r\n        this.id = ProcessDeUtil.GenerateElementId();\r\n        this.subject = '消息通知';\r\n        // this.sendType = 'email';\r\n        this.content = `{\"expr\":\"\\'您有一条消息通知。\\'\",\"sexpr\":\"\"}`;\r\n    }\r\n}\r\n// 2023-8-21 由于需要实现国际化，此处定义不能提取；\r\n// export const processSendTime = [\r\n//     { value: 'PROCESSINSTANCE_COMPLETED', text: this.localePipe.transform('component.MessageNotice.procComplete') },\r\n//     { value: 'PROCESSINSTANCE_ABORTED', text: this.localePipe.transform('component.MessageNotice.procAborted') },\r\n//     { value: 'PROCESSINSTANCE_ROLLBACK', text: this.localePipe.transform('component.MessageNotice.procRollBack') }\r\n// ];\r\n\r\n// export const activitySendTime = [\r\n//     { value: 'WORKITEM_CREATED', text: this.localePipe.transform('component.MessageNotice.workCreated') },\r\n//     { value: 'ACTIVITY_COMPLETED', text: this.localePipe.transform('component.MessageNotice.actComplete') },\r\n//     { value: 'ACTIVITY_ABORTED', text: this.localePipe.transform('component.MessageNotice.actAborted') },\r\n// ];\r\n\r\n// export const sendTypes = [\r\n//     { value: 'email', name: this.localePipe.transform('component.MessageNotice.email') },\r\n//     { value: 'sms', name: this.localePipe.transform('component.MessageNotice.sms') },\r\n//     { value: 'cloudplus', name: this.localePipe.transform('component.MessageNotice.cloudplus') }\r\n// ];\r\n\r\n// export const ReceiverType = [\r\n//     { value: 'processParticipant', text: this.localePipe.transform('component.MessageNotice.processParticipant') },\r\n//     { value: 'variableParticipant', text: this.localePipe.transform('component.MessageNotice.variableParticipant') },\r\n//     { value: 'userParticipant', text:  this.localePipe.transform('component.MessageNotice.userParticipant') },\r\n//     { value: 'positionParticipant', text:  this.localePipe.transform('component.MessageNotice.positionParticipant') },\r\n// ];\r\n\r\n// export const ProcessParticipantType = [\r\n//     { value: 'procInstCreator', text: this.localePipe.transform('component.MessageNotice.procInstCreator') },\r\n//     { value: 'workItemParticipant', text: this.localePipe.transform('component.MessageNotice.workItemParticipant') },\r\n//     { value: 'activityExecutorParticipant', text: this.localePipe.transform('component.MessageNotice.activityExecutorParticipant') },\r\n// ];\r\n\r\n\r\n// export const VariableOrgTypes = [\r\n//     { name: this.localePipe.transform('component.MessageNotice.sys'), value: 'Sys' },\r\n//     { name: this.localePipe.transform('component.MessageNotice.administrative_organization'), value: 'Administrative_organization'} ]\r\n","\r\nexport class MessageReceiver {\r\n    type: string;\r\n    processParticipant: string;\r\n    activityDefName: string;\r\n    activityDefId: string;\r\n    variableParticipant: string;\r\n    variableName: string;\r\n    userIds: string;\r\n    userNames: string;\r\n    positionId: string;\r\n    positionName: string;\r\n    positionType: string;\r\n    orgId: string;\r\n    orgType: string;\r\n}\r\n","import { ChangeDetectorRef, Component, EventEmitter, Inject, LOCALE_ID, OnInit, Optional, Output, TemplateRef, ViewChild } from '@angular/core';\r\nimport { DatagridComponent } from '@farris/ui-datagrid';\r\nimport { MessagerService } from '@farris/ui-messager';\r\nimport { ProcessDesignerUIState } from '../../app/process-designer.uistate';\r\nimport { WF_LANG_RESOURCES, WfLocalePipe } from '../../i18n/pipe/wf-process-editor-locale.pipe';\r\nimport { WF_PROCESS_EDITOR_LANG_RESOURCES } from '../../i18n/assets/lang.resource';\r\n\r\n@Component({\r\n  selector: 'lib-activity-list',\r\n  templateUrl: './activity-list.component.html',\r\n  styleUrls: ['./activity-list.component.scss'],\r\n  providers: [\r\n     WfLocalePipe,\r\n  ]\r\n})\r\nexport class ActivityListComponent implements OnInit {\r\n\r\n  @Output() closeEmitter = new EventEmitter<any>();\r\n  @Output() submitEmitter = new EventEmitter<any>();\r\n  @ViewChild('buttonRef') buttonRef: TemplateRef<any>;\r\n  @ViewChild('grid') grid: DatagridComponent;\r\n\r\n  multiSelect = true;\r\n  showCheckbox = true;\r\n  data = new Array();\r\n  columns = [\r\n    { title: this.localePipe.transform('component.activityList.name'), field: 'Name', width: 60 },\r\n    { title: 'ID', field: 'Id', width: 90 }\r\n  ];\r\n\r\n  constructor(\r\n    private designerUIState: ProcessDesignerUIState,\r\n    private message: MessagerService,\r\n    @Optional() private cdr: ChangeDetectorRef,\r\n    @Inject(LOCALE_ID) private localeId: string,\r\n    @Inject(WF_LANG_RESOURCES) private resources: any,\r\n    @Optional() private localePipe: WfLocalePipe\r\n  ) {\r\n    this.localePipe = this.localePipe || new WfLocalePipe(localeId, resources);\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.data = this.designerUIState.userActList;\r\n  }\r\n\r\n  clickOK() {\r\n    const result = this.grid.checkeds;\r\n    if (!result || result.length === 0) {\r\n      this.message.info(this.localePipe.transform('component.activityList.checkeds'));\r\n      return;\r\n    }\r\n    this.submitEmitter.emit(result);\r\n  }\r\n\r\n  clickCancel() {\r\n    this.closeEmitter.emit();\r\n  }\r\n\r\n}\r\n","import { ProcessDeUtil } from '../../../domain/process-de-util';\r\n\r\nexport class PerformerEntity {\r\n    constructor(id?: string, name?: string, type?: string) {\r\n        this.id = '_' + ProcessDeUtil.GenerateElementId();\r\n        this.performerId = id;\r\n        this.performerName = name;\r\n        this.type = type;\r\n    }\r\n    id: string;\r\n    performerId: string;\r\n    performerName: string;\r\n    type: string;\r\n    orgId?: string;\r\n    orgName?: string;\r\n    orgType?: string;\r\n    condition?: string;\r\n    tag?: string;\r\n}\r\n","import { PerformerEntity } from './performer.entity';\r\n\r\nexport class PositionPerformerEntity extends PerformerEntity {\r\n    positionType: string;\r\n    isRequired?: boolean;\r\n    constructor() {\r\n        super();\r\n    }\r\n}\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\nimport { PositionPerformerEntity } from '../../entities/position-performer.entity';\r\n\r\n@Pipe({ name: 'positionsName' })\r\nexport class PositionsNamePipe implements PipeTransform {\r\n    constructor() { }\r\n    transform(positions: PositionPerformerEntity[], defaultVal = ''): string {\r\n        let r = '';\r\n        console.log(positions);\r\n        positions.forEach(u => {\r\n            r += u.performerName + '，';\r\n        });\r\n        if (r) {\r\n            r = r.substring(0, r.length - 1);\r\n        }\r\n        console.log(r);\r\n        return r ? r : defaultVal;\r\n    }\r\n}\r\n","import {\r\n  Component,\r\n  OnInit,\r\n  HostBinding,\r\n  ViewChild,\r\n  ElementRef,\r\n  NgZone,\r\n  AfterViewInit,\r\n  ComponentFactoryResolver, Injector, Output, EventEmitter, TemplateRef, ChangeDetectorRef, Optional, Inject, LOCALE_ID\r\n} from '@angular/core';\r\nimport { SysFarrisLookupComponent } from '@gsp-sys/sysmgr-ui';\r\nimport { ProcessDesignerUIState } from '../../../../app/process-designer.uistate';\r\nimport { ExprEditMode, ExpressionService, InjectedType } from '@gsp-svc/expression';\r\nimport { PositionPerformerEntity } from '../../entities/position-performer.entity';\r\nimport {GspPositionFilter, SysLookupDetailComponent, TreeFilter} from '@gsp-sys/sysmgr-lookup';\r\nimport {BsModalService} from '@farris/ui-modal';\r\nimport { WF_LANG_RESOURCES, WfLocalePipe } from '../../../../i18n/pipe/wf-process-editor-locale.pipe';\r\nimport { WF_PROCESS_EDITOR_LANG_RESOURCES } from '../../../../i18n/assets/lang.resource';\r\nimport { PositionsNamePipe } from './positions-name.pipe';\r\n\r\n@Component({\r\n  selector: 'app-position-performer',\r\n  templateUrl: './position-performer.component.html',\r\n  styleUrls: ['./position-performer.component.scss'],\r\n  providers: [\r\n     WfLocalePipe,\r\n  ]\r\n})\r\nexport class PositionPerformerComponent implements OnInit, AfterViewInit {\r\n  @HostBinding('class')\r\n  cls = 'd-flex flex-fill h-100';\r\n\r\n  @Output() closeEmitter = new EventEmitter<any>();\r\n  @Output() submitEmitter = new EventEmitter<any>();\r\n  @ViewChild(SysFarrisLookupComponent) posiHelp: SysFarrisLookupComponent;\r\n  @ViewChild('buttonRef') buttonRef: TemplateRef<any>;\r\n\r\n  @ViewChild('inputGroup') inputGroup: ElementRef;\r\n  showClearButton = false;\r\n  isRequired = false;\r\n  groupIcon = '<i class=\"f-icon f-icon-lookup\"></i>';\r\n\r\n  positionTypes = [\r\n    { value: '0', text: this.localePipe.transform('component.positionPerformer.orgPosition') },\r\n    { value: '1', text: this.localePipe.transform('component.positionPerformer.generalPosition') }\r\n  ];\r\n  performerName = '';\r\n  style: any = { background: '#FFF' };\r\n\r\n  condition: string;\r\n\r\n  newFilter: GspPositionFilter = {};\r\n  treeFilter: TreeFilter = {};\r\n  curPosIdList: any[] = [];\r\n  editState = true;\r\n  showCondition = true;\r\n  positionType: string;\r\n  position: PositionPerformerEntity;\r\n  positions: PositionPerformerEntity[] = [];\r\n  constructor(\r\n    public designerUIState: ProcessDesignerUIState,\r\n    private expr: ExpressionService,\r\n    private ngZone: NgZone,\r\n    private resolver: ComponentFactoryResolver,\r\n    private injector: Injector,\r\n    private modalService: BsModalService,\r\n    @Optional() private cdr: ChangeDetectorRef,\r\n    @Inject(LOCALE_ID) private localeId: string,\r\n    @Inject(WF_LANG_RESOURCES) private resources: any,\r\n    @Optional() private localePipe: WfLocalePipe,\r\n    private positionsNamePipe: PositionsNamePipe\r\n  ) {\r\n    this.localePipe = this.localePipe || new WfLocalePipe(localeId, resources);\r\n    this.position = this.position || new PositionPerformerEntity();\r\n    this.performerName = this.performerName || (this.positions && this.positions.length ? this.positionsNamePipe.transform(this.positions) : this.position.performerName || '');\r\n    if (this.designerUIState.scene === 'inSuite') {\r\n      this.position.positionType = '1';\r\n      this.newFilter = { positionType: '1' };\r\n      this.style = { background: '#FFF', height: '150px' };\r\n    }\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.designerUIState.getOrgConfig().subscribe(re => {\r\n      if (re && re.currentValue === 'true') {\r\n        this.isRequired = true;\r\n      }\r\n    });\r\n  }\r\n\r\n  ngAfterViewInit(): void {\r\n    this.ngZone.runOutsideAngular(() => {\r\n      this.inputGroup.nativeElement.addEventListener(\r\n        'mouseenter',\r\n        this.onMouseEnter.bind(this)\r\n      );\r\n      this.inputGroup.nativeElement.addEventListener(\r\n        'mouseleave',\r\n        this.onMouseLeave.bind(this)\r\n      );\r\n    });\r\n  }\r\n\r\n  onMouseEnter(event) {\r\n    this.showClearButton = true;\r\n    if (this.showClearButton) {\r\n      this.toggleClearIcon(event, true);\r\n    }\r\n  }\r\n  onMouseLeave(event) {\r\n    this.showClearButton = false;\r\n    this.toggleClearIcon(event, false);\r\n  }\r\n  private toggleClearIcon(event: any, isShow = false) {\r\n    const str = isShow ? '' : 'none';\r\n    const clearIcon = event.target.querySelector('.input-group-clear');\r\n    if (clearIcon) {\r\n      clearIcon.style.display = str;\r\n    }\r\n  }\r\n\r\n  clickOK() {\r\n    this.submitEmitter.emit(this.position);\r\n  }\r\n\r\n  clickCancel() {\r\n    this.closeEmitter.emit();\r\n  }\r\n\r\n  clear() {\r\n    this.position.performerId = null;\r\n    this.position.performerName = null;\r\n    this.performerName = '';\r\n  }\r\n\r\n  positionTypeChange(data) {\r\n    if (data.value === '0') {\r\n      this.newFilter = { positionType: '0' };\r\n      this.positionType = '0';\r\n    } else {\r\n      this.newFilter = { positionType: '1' };\r\n      this.positionType = '1';\r\n    }\r\n    this.clear();\r\n    this.position.orgType = null;\r\n    this.position.orgId = null;\r\n  }\r\n\r\n  selectOrganition() {\r\n    // this.expr.clearContext();\r\n    if (this.position.positionType === '1') {\r\n      if (this.designerUIState.schemas.length > 0) {\r\n        for (const schema of this.designerUIState.schemas) {\r\n          this.expr.addSchema('Schema', schema);\r\n        }\r\n        if (this.designerUIState.schemas[0].entityTypes && this.designerUIState.schemas[0].entityTypes.length > 0) {\r\n          const entityType = this.designerUIState.schemas[0].entityTypes[0];\r\n          this.expr.addInjectedEntity(entityType.name, 'Schema',\r\n            entityType.name, InjectedType.EntityType);\r\n        }\r\n      }\r\n      const context = new Array();\r\n      if (this.designerUIState.subActivityContext.length > 0) {\r\n        for (const variable of this.designerUIState.subActivityContext) {\r\n          if (!context.some(c => c.key === variable.key)) {\r\n            context.push(variable);\r\n          }\r\n        }\r\n      }\r\n      if (context.length > 0) {\r\n        for (const v of context) {\r\n          this.expr.addContext(v);\r\n        }\r\n      }\r\n      this.expr.setEditPattern(ExprEditMode.Advanced);\r\n      this.expr.addExpressionText(this.position.orgId);\r\n      this.expr.buildExpression().then((expr: string) => {\r\n        this.position.orgId = expr;\r\n        //点击确定后，去除表达式里面的新增的上下文变量\r\n        if(context.length > 0) {\r\n          this.expr.exprEntity.contextEntities = this.expr.exprEntity.contextEntities.filter(x => !context.some(y => y.key === x.key));\r\n        }\r\n      });\r\n    }\r\n  }\r\n  selectPosition() {\r\n    this.setPosition();\r\n  }\r\n  editCondition() {\r\n    // this.expr.clearContext();\r\n    if (this.designerUIState.schemas.length > 0) {\r\n      for (const schema of this.designerUIState.schemas) {\r\n        this.expr.addSchema('Schema', schema);\r\n      }\r\n      if (this.designerUIState.schemas[0].entityTypes && this.designerUIState.schemas[0].entityTypes.length > 0) {\r\n        const entityType = this.designerUIState.schemas[0].entityTypes[0];\r\n        this.expr.addInjectedEntity(entityType.name, 'Schema',\r\n          entityType.name, InjectedType.EntityType);\r\n      }\r\n    }\r\n    let context = new Array();\r\n    context = this.designerUIState.addContext(context);\r\n    if (this.designerUIState.subActivityContext.length > 0) {\r\n      for (const variable of this.designerUIState.subActivityContext) {\r\n        if (!context.some(c => c.key === variable.key)) {\r\n          context.push(variable);\r\n        }\r\n      }\r\n    }\r\n    if (this.designerUIState.activityComponentContext.length > 0) {\r\n      for (const variable of this.designerUIState.activityComponentContext) {\r\n        if (!context.some(c => c.key === variable.key)) {\r\n          context.push(variable);\r\n        }\r\n      }\r\n    }\r\n    if (context.length > 0) {\r\n      for (const v of context) {\r\n        this.expr.addContext(v);\r\n      }\r\n    }\r\n    this.expr.setEditPattern(ExprEditMode.Conditional); // 表达式展现模式：默认简易版\r\n    this.expr.addExpressionText(this.position.condition);\r\n    this.expr.buildExpression().then((expressioninfo: string) => {\r\n      this.position.condition = expressioninfo;\r\n      for (const p of this.positions) {\r\n        p.condition = expressioninfo;\r\n      }\r\n      //点击确定后，去除表达式里面的新增的上下文变量\r\n      if(context.length > 0) {\r\n        this.expr.exprEntity.contextEntities = this.expr.exprEntity.contextEntities.filter(x => !context.some(y => y.key === x.key));\r\n      }\r\n    });\r\n  }\r\n\r\n  orgTypeChange(re: any) {\r\n    this.position.orgType = re.data.value;\r\n  }\r\n  clearOrgType() {\r\n    this.position.orgType = null;\r\n  }\r\n  positionsSelected(data) {\r\n    this.positions = [];\r\n    if (data || data.data.length > 0) {\r\n      const positions = [];\r\n      for(const dataSelected of data.data) {\r\n        if (this.editState) {\r\n          this.position =new PositionPerformerEntity();\r\n          this.position.performerId = dataSelected.id;\r\n          this.position.performerName = dataSelected.name;\r\n          this.position.type = 'wf.PositionParticipantExpression';\r\n          if (!this.position.positionType) {\r\n            this.position.positionType = dataSelected.posType + '';\r\n            this.newFilter = {\r\n              positionType: dataSelected.posType\r\n            };\r\n          }\r\n          this.position.isRequired = this.isRequired;\r\n          this.position.condition = this.condition ? this.condition:\"\";\r\n          positions.push(this.position);\r\n        } else {\r\n          this.position.performerId = dataSelected.id;\r\n          this.position.performerName = dataSelected.name;\r\n          this.position.type = 'wf.PositionParticipantExpression';\r\n          if (!this.position.positionType) {\r\n            this.position.positionType = dataSelected.posType + '';\r\n            this.newFilter = {\r\n              positionType: dataSelected.posType\r\n            };\r\n          }\r\n          this.position.isRequired = this.isRequired;\r\n          this.position.condition = this.condition ? this.condition:\"\";\r\n          positions.push(this.position);\r\n        }\r\n      }\r\n      this.positions = [...positions];\r\n      this.performerName = this.positions&&this.positions.length?(this.positionsNamePipe.transform(this.positions)):(this.position.performerName?this.position.performerName:'')\r\n    }\r\n  }\r\n  setPosition() {\r\n    this.positions = [];\r\n    const compFactory = this.resolver.resolveComponentFactory(SysLookupDetailComponent);\r\n    const compRef = compFactory.create(this.injector);\r\n    compRef.instance.initGridIdList = this.curPosIdList ;\r\n    compRef.instance.treeFilter = this.treeFilter;\r\n    compRef.instance.listFilter = this.newFilter;\r\n    compRef.instance.sourceType = 'position';\r\n    compRef.instance.multiSelect = false;\r\n    // 编辑状态下只能单选\r\n    if(this.positionType === \"0\" && this.editState) {      \r\n      compRef.instance.multiSelect = true;\r\n    }\r\n    const modalConfig = {\r\n      title: this.localePipe.transform('component.positionPerformer.sysPositions'),\r\n      width: 1000,\r\n      height: 550,\r\n      showButtons: true,\r\n      buttons: compRef.instance.btnTemplateRef,\r\n      showMaxButton: true,\r\n      resizable: false\r\n    };\r\n    const dialog = this.modalService.show(compRef, modalConfig);\r\n    // 取消后\r\n    compRef.instance.afterCancle.subscribe(res => {\r\n      // 消失模态框\r\n      dialog.close();\r\n    });\r\n    // 确认后\r\n    compRef.instance.afterConfirm.subscribe(res => {\r\n      this.positionsSelected(res);\r\n    });\r\n  }\r\n\r\n  getPerformers() {\r\n    if(!this.editState) {\r\n      this.positions.push(this.position)\r\n    }\r\n    return this.positions;\r\n  }\r\n\r\n}\r\n","import { filter } from 'rxjs/operators';\r\nimport { Component, OnInit, Input, ViewChild, TemplateRef, Output, EventEmitter, ComponentFactoryResolver, Injector, ChangeDetectorRef, Optional, Inject, LOCALE_ID } from '@angular/core';\r\nimport { MessageNotice } from '../message-notice';\r\nimport { MessagerService } from '@farris/ui-messager';\r\nimport { ProcessDesignerUIState } from '../../../app/process-designer.uistate';\r\nimport { ExprEditMode, ExpressionService, InjectedType, VarEntity} from '@gsp-svc/expression';\r\nimport { MessageReceiver } from '../message-receiver';\r\nimport { BsModalService } from '@farris/ui-modal';\r\nimport { ActivityListComponent } from '../../activity-list/activity-list.component';\r\nimport { HttpService } from '@ecp-caf/caf-common';\r\nimport { SysFarrisLookupComponent } from '@gsp-sys/sysmgr-ui';\r\nimport { PositionPerformerComponent } from '../../performer/views/position-performer/position-performer.component';\r\nimport { SmsMessageTemplateComponent } from '../../sms-message-template/sms-message-template.component';\r\nimport { SmsMessageTemplate } from '../../sms-message-template/sms-message-template';\r\nimport { WF_PROCESS_EDITOR_LANG_RESOURCES } from '../../../i18n/assets/lang.resource';\r\nimport { WF_LANG_RESOURCES, WfLocalePipe } from '../../../i18n/pipe/wf-process-editor-locale.pipe';\r\n\r\n@Component({\r\n  selector: 'lib-message-notice-edit',\r\n  templateUrl: './message-notice-edit.component.html',\r\n  styleUrls: ['./message-notice-edit.component.scss'],\r\n  providers: [\r\n     WfLocalePipe,\r\n  ]\r\n})\r\nexport class MessageNoticeEditComponent implements OnInit {\r\n\r\n  groupIcon2 = '<i class=\"f-icon f-icon-lookup\"></i>';\r\n  exprAble = false;\r\n  @ViewChild('footer') footer: TemplateRef<any>;\r\n  @ViewChild(SmsMessageTemplateComponent) SmsTemplate:SmsMessageTemplateComponent\r\n\r\n  @Output() closeEmitter = new EventEmitter<any>();\r\n  @Output() submitEmitter = new EventEmitter<MessageNotice>();\r\n  @ViewChild(SysFarrisLookupComponent) userHelp: SysFarrisLookupComponent;\r\n\r\n  private _location: 'activity' | 'process' | 'messageActivity' = 'activity';\r\n  @Input()\r\n  set location(l: 'activity' | 'process' | 'messageActivity') {\r\n    this._location = l;\r\n    if (this.location !== 'activity') {\r\n      this.processParticipantTypes = [\r\n        { value: 'procInstCreator', text: this.localePipe.transform('component.messageNoticeEdit.procInstCreator') },\r\n        { value: 'activityExecutorParticipant', text:  this.localePipe.transform('component.messageNoticeEdit.activityExecutorParticipant') }];\r\n    }\r\n  }\r\n\r\n  get location() {\r\n    return this._location;\r\n  }\r\n\r\n  messageNotice = new MessageNotice();\r\n  @Input()\r\n  set value(m: MessageNotice) {\r\n    // 深拷贝处理messageNotice 2022-12-1\r\n    const jsonMessageNotice = JSON.stringify(Object.assign({}, m));\r\n    this.messageNotice = JSON.parse(jsonMessageNotice);\r\n    this.exprAble = this.messageNotice.subject.charAt(0) === '{';\r\n    if (this.hasSmsMessage(this.messageNotice.sendType)) {\r\n      this.hasSmsTemplate = true;\r\n      if (!this.messageNotice.smsMessageTemplate) {\r\n        this.messageNotice.smsMessageTemplate = new SmsMessageTemplate();\r\n      }\r\n    }\r\n  }\r\n\r\n  get value() {\r\n    return this.messageNotice;\r\n  }\r\n  typeGroup = this.uistate.messageChannels.map(m => ({ value: m.code, name: m.name }));\r\n\r\n  receiverVariables = [\r\n    { value: 'workItemParticipant', name: this.localePipe.transform('component.messageNoticeEdit.workItemParticipant') }\r\n  ];\r\n\r\n  variableOrgTypes = [\r\n    { name: this.localePipe.transform('component.messageNoticeEdit.sys'), value: 'Sys' },\r\n    { name: this.localePipe.transform('component.messageNoticeEdit.administrative_organization'), value: 'Administrative_organization' }\r\n  ];\r\n  sendTimes = [];\r\n  receiverVari: string;\r\n  bindingData: { id?, name?} = {};\r\n  index;\r\n  receiverTypes = [\r\n    { value: 'processParticipant', text: this.localePipe.transform('component.MessageNotice.processParticipant') },\r\n    { value: 'variableParticipant', text: this.localePipe.transform('component.MessageNotice.variableParticipant') },\r\n    { value: 'userParticipant', text: this.localePipe.transform('component.MessageNotice.userParticipant') },\r\n    { value: 'positionParticipant', text: this.localePipe.transform('component.MessageNotice.positionParticipant') },\r\n  ];\r\n  processParticipantTypes = [\r\n    { value: 'procInstCreator', text: this.localePipe.transform('component.MessageNotice.procInstCreator') },\r\n    { value: 'workItemParticipant', text: this.localePipe.transform('component.MessageNotice.workItemParticipant') },\r\n    { value: 'activityExecutorParticipant', text: this.localePipe.transform('component.MessageNotice.activityExecutorParticipant') },\r\n  ];\r\n  userTypeButtonNeedShow = false; // 用户类型单选按钮是否需要显示\r\n  hasAdminOrg;\r\n  hasSmsTemplate = false;\r\n\r\n  constructor(\r\n    private message: MessagerService,\r\n    private uistate: ProcessDesignerUIState,\r\n    private expr: ExpressionService,\r\n    private resolver: ComponentFactoryResolver,\r\n    private injector: Injector,\r\n    private modalService: BsModalService,\r\n    private designerUIState: ProcessDesignerUIState,\r\n    private http: HttpService,\r\n    @Optional() private cdr: ChangeDetectorRef,\r\n    @Inject(LOCALE_ID) private localeId: string,\r\n    @Inject(WF_LANG_RESOURCES) private resources: any,\r\n    @Optional() private localePipe: WfLocalePipe\r\n  ) {\r\n    this.localePipe = this.localePipe || new WfLocalePipe(localeId, resources);\r\n  }\r\n\r\n  ngOnInit() {\r\n    if (this.location === 'activity') {\r\n      this.sendTimes = this.activitySendTime;\r\n      if (this.messageNotice.sendTime === this.activitySendTime[0].value) {\r\n        this.receiverTypes = [\r\n          { value: 'processParticipant', text: this.localePipe.transform('component.messageNoticeEdit.processParticipant') }\r\n        ];\r\n        this.processParticipantTypes = [\r\n          { value: 'workItemParticipant', text: this.localePipe.transform('component.messageNoticeEdit.workItemReceiveParticipant') }\r\n        ];\r\n      } else {\r\n        this.receiverTypes = [\r\n          { value: 'processParticipant', text: this.localePipe.transform('component.messageNoticeEdit.processParticipant') },\r\n          { value: 'variableParticipant', text: this.localePipe.transform('component.messageNoticeEdit.variableParticipant') },\r\n          { value: 'userParticipant', text: this.localePipe.transform('component.messageNoticeEdit.userParticipant') },\r\n          { value: 'positionParticipant', text: this.localePipe.transform('component.messageNoticeEdit.positionParticipant') },\r\n        ];\r\n        this.processParticipantTypes = [\r\n          { value: 'procInstCreator', text: this.localePipe.transform('component.messageNoticeEdit.procInstCreator') },\r\n          { value: 'activityExecutorParticipant', text: this.localePipe.transform('component.messageNoticeEdit.activityExecutorParticipant') }\r\n        ];\r\n      }\r\n    } else {\r\n      this.sendTimes = this.processSendTime;\r\n    }\r\n\r\n    const url = '/api/runtime/wf/v1.0/reportingOrgType/hasAdminOrg';\r\n    this.http.get(url).subscribe((data: any) => {\r\n      this.hasAdminOrg = data;\r\n      // inSuite场景，变量参与者场景下显示用户类型\r\n      if (this.designerUIState.scene === 'inSuite') {\r\n        this.userTypeButtonNeedShow = true;\r\n      } else {\r\n        this.userTypeButtonNeedShow = data;\r\n      }\r\n      if (!this.userTypeButtonNeedShow) {\r\n        this.variableOrgTypes = [{ name: this.localePipe.transform('component.messageNoticeEdit.sys'), value: 'Sys' }];\r\n      }\r\n    });\r\n  }\r\n\r\n  clickOK() {\r\n    if (this.SmsTemplate) {\r\n      this.SmsTemplate.endGridEdit();\r\n    }\r\n    this.setReceiver();\r\n    if (this.hasSmsTemplate) {\r\n      this.messageNotice.smsMessageTemplate = this.SmsTemplate.smsMessageTemplate;\r\n      if (this.messageNotice.smsMessageTemplate.smsMessageVariables && this.messageNotice.smsMessageTemplate.smsMessageVariables.length > 0) {\r\n        this.messageNotice.smsMessageTemplate.smsMessageVariables = this.messageNotice.smsMessageTemplate.smsMessageVariables.filter(variable => variable.code);\r\n      }\r\n    } else {\r\n      this.messageNotice.smsMessageTemplate = null;\r\n    }\r\n    if (this.validator()) {\r\n      this.submitEmitter.emit(this.messageNotice);\r\n    }\r\n  }\r\n  clickCancel() {\r\n    this.closeEmitter.emit();\r\n  }\r\n\r\n  sendTimeChange(data: any) {\r\n    if (data.data.value === this.activitySendTime[0].value) {\r\n      const messageReceiver = new MessageReceiver();\r\n      messageReceiver.type = 'processParticipant';\r\n      messageReceiver.processParticipant = 'workItemParticipant';\r\n      this.messageNotice.receivers = [messageReceiver];\r\n      this.receiverTypes = [\r\n        { value: 'processParticipant', text: this.localePipe.transform('component.messageNoticeEdit.processParticipant') }\r\n      ];\r\n      this.processParticipantTypes = [\r\n        { value: 'workItemParticipant', text: this.localePipe.transform('component.messageNoticeEdit.workItemParticipant') }\r\n      ];\r\n    } else {\r\n      for (const r of this.messageNotice.receivers) {\r\n        if (r.type === 'processParticipant' && r.processParticipant === 'workItemParticipant') {\r\n          r.processParticipant = 'procInstCreator';\r\n        }\r\n      }\r\n      this.receiverTypes = [\r\n        { value: 'processParticipant', text: this.localePipe.transform('component.messageNoticeEdit.processParticipant') },\r\n        { value: 'variableParticipant', text: this.localePipe.transform('component.messageNoticeEdit.variableParticipant') },\r\n        { value: 'userParticipant', text: this.localePipe.transform('component.messageNoticeEdit.userParticipant') },\r\n        { value: 'positionParticipant', text: this.localePipe.transform('component.messageNoticeEdit.positionParticipant') },\r\n      ];\r\n      this.processParticipantTypes = [\r\n        { value: 'procInstCreator', text: this.localePipe.transform('component.messageNoticeEdit.procInstCreator') },\r\n        { value: 'activityExecutorParticipant', text: this.localePipe.transform('component.messageNoticeEdit.activityExecutorParticipant') }\r\n      ];\r\n    }\r\n  }\r\n\r\n  sendTypeChange(sendType: string) {\r\n    if (this.hasSmsMessage(sendType)) {\r\n      this.hasSmsTemplate = true;\r\n      if (!this.messageNotice.smsMessageTemplate) {\r\n        this.messageNotice.smsMessageTemplate = new SmsMessageTemplate();\r\n      }\r\n    } else {\r\n      this.hasSmsTemplate = false;\r\n      this.messageNotice.smsMessageTemplate = null;\r\n    }\r\n  }\r\n  private hasSmsMessage(sendType: string) {\r\n    if (sendType) {\r\n      const sendTypeList = sendType.split(',');\r\n      let messageChannel = sendTypeList.find(val => this.uistate.messageChannels.find(channel => channel.code == val && channel.channelType == 'Sms'));\r\n      if (messageChannel) {\r\n        return true;\r\n      } else {\r\n        return false;\r\n      }\r\n    } else {\r\n      return false\r\n    }\r\n  }\r\n\r\n  usersSelect(data: any[]) {\r\n    this.messageNotice.receivers[this.index].userIds = '';\r\n    this.messageNotice.receivers[this.index].userNames = '';\r\n    if (data && data.length > 0) {\r\n      let userIds = '';\r\n      for (const d of data) {\r\n        userIds += d.id + ',';\r\n      }\r\n      if (userIds) {\r\n        this.messageNotice.receivers[this.index].userIds = userIds.substring(0, userIds.length - 1);\r\n      }\r\n      let userNames = '';\r\n      for (const d of data) {\r\n        userNames += d.name + ',';\r\n      }\r\n      if (userNames) {\r\n        this.messageNotice.receivers[this.index].userNames = userNames.substring(0, userNames.length - 1);\r\n      }\r\n    }\r\n  }\r\n\r\n  clearUsers(index: any) {\r\n    this.messageNotice.receivers[index].userIds = '';\r\n    this.messageNotice.receivers[index].userNames = '';\r\n  }\r\n\r\n  clearPosition(index: any) {\r\n    this.messageNotice.receivers[index].positionId = '';\r\n    this.messageNotice.receivers[index].positionName = '';\r\n    this.messageNotice.receivers[index].positionType = '';\r\n    this.messageNotice.receivers[index].orgId = '';\r\n    this.messageNotice.receivers[index].orgType = '';\r\n  }\r\n\r\n  clearActivityExecutor(index: any) {\r\n    this.messageNotice.receivers[index].activityDefId = '';\r\n    this.messageNotice.receivers[index].activityDefName = '';\r\n  }\r\n\r\n  clearVariableParticipant(index: any) {\r\n    this.messageNotice.receivers[index].variableParticipant = '';\r\n    this.messageNotice.receivers[index].variableName = '';\r\n  }\r\n\r\n  changeValue(data) {\r\n  }\r\n  clear() {\r\n    this.bindingData = {};\r\n  }\r\n  private setReceiver() {\r\n  }\r\n\r\n  private validator(): boolean {\r\n    if (!this.messageNotice.sendType) {\r\n      this.message.info(this.localePipe.transform('component.messageNoticeEdit.sendType'));\r\n      return false;\r\n    }\r\n    //去除消息模板编号校验\r\n    // if (this.hasSmsTemplate) {\r\n    //   if (!this.messageNotice.smsMessageTemplate) {\r\n    //     this.message.info(this.localePipe.transform('component.messageNoticeEdit.smsMessageTemplate'));\r\n    //     return;\r\n    //   }\r\n    //   if (!this.messageNotice.smsMessageTemplate.code) {\r\n    //     this.message.info(this.localePipe.transform('component.messageNoticeEdit.smsMessageTemplateCode'));\r\n    //     return;\r\n    //   }\r\n    // }\r\n    if (this.location !== 'messageActivity' && !this.messageNotice.sendTime) {\r\n      this.message.info(this.localePipe.transform('component.messageNoticeEdit.sendTime'));\r\n      return false;\r\n    }\r\n    if (!this.messageNotice.subject) {\r\n      this.message.info(this.localePipe.transform('component.messageNoticeEdit.subject'));\r\n      return false;\r\n    }\r\n    if (!this.messageNotice.content) {\r\n      this.message.info(this.localePipe.transform('component.messageNoticeEdit.content'));\r\n      return false;\r\n    }\r\n    this.messageNotice.receivers = this.messageNotice.receivers.filter(r => r.type);\r\n    if (!this.messageNotice.receivers || this.messageNotice.receivers.length === 0) {\r\n      this.message.info(this.localePipe.transform('component.messageNoticeEdit.receivers'));\r\n      return false;\r\n    } else {\r\n      for (const r of this.messageNotice.receivers) {\r\n        switch (r.type) {\r\n          case 'processParticipant':\r\n            if (!r.processParticipant) {\r\n              this.message.info(this.localePipe.transform('component.messageNoticeEdit.processParticipantNotNull'));\r\n              return false;\r\n            } else if (r.processParticipant === 'activityExecutorParticipant' && !r.activityDefId) {\r\n              this.message.info(this.localePipe.transform('component.messageNoticeEdit.activityDefIdNotNull'));\r\n              return false;\r\n            }\r\n            break;\r\n          case 'variableParticipant':\r\n            if (!r.variableParticipant) {\r\n              this.message.info(this.localePipe.transform('component.messageNoticeEdit.variableParticipantNotNull'));\r\n              return false;\r\n            }\r\n            if (!r.orgType) {\r\n              this.message.info(this.localePipe.transform('component.messageNoticeEdit.orgType'));\r\n              return false;\r\n            }\r\n            break;\r\n          case 'userParticipant':\r\n            if (!r.userIds) {\r\n              this.message.info(this.localePipe.transform('component.messageNoticeEdit.userIds'));\r\n              return false;\r\n            }\r\n            break;\r\n          case 'positionParticipant':\r\n            if (!r.positionId) {\r\n              this.message.info(this.localePipe.transform('component.messageNoticeEdit.positionId'));\r\n              return false;\r\n            }\r\n            break;\r\n        }\r\n      }\r\n    }\r\n    return true;\r\n  }\r\n\r\n  disableAdd = () => {\r\n    if (this.messageNotice.sendTime === 'WORKITEM_CREATED' && this.messageNotice.receivers.filter(r => r.type).length > 0) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  addReceiver() {\r\n    if (this.disableAdd()) {\r\n      return;\r\n    }\r\n    const receivers = this.messageNotice.receivers.filter(r => r.type);\r\n    if (receivers && receivers.length > 0) {\r\n      const userParticipant = new MessageReceiver();\r\n      userParticipant.type = 'userParticipant';\r\n      this.messageNotice.receivers = this.messageNotice.receivers.concat([userParticipant]);\r\n    } else {\r\n      if (this.location !== 'activity') {\r\n        const procInstCreator = new MessageReceiver();\r\n        procInstCreator.type = 'processParticipant';\r\n        procInstCreator.processParticipant = 'procInstCreator';\r\n        this.messageNotice.receivers = this.messageNotice.receivers.concat([procInstCreator]);\r\n      } else {\r\n        const workItemParticipant = new MessageReceiver();\r\n        workItemParticipant.type = 'processParticipant';\r\n        workItemParticipant.processParticipant = 'workItemParticipant';\r\n        this.messageNotice.receivers = this.messageNotice.receivers.concat([workItemParticipant]);\r\n      }\r\n    }\r\n  }\r\n  selectActivityExecutorParticipant(activityDefId: string, index: any) {\r\n    let dialog: any;\r\n    const compFactory = this.resolver.resolveComponentFactory(ActivityListComponent);\r\n    const compRef = compFactory.create(this.injector);\r\n    compRef.instance.submitEmitter.subscribe((re: any[]) => {\r\n      const acticity = re.shift();\r\n      this.messageNotice.receivers[index].activityDefId = acticity.id;\r\n      this.messageNotice.receivers[index].activityDefName = acticity.data.Name;\r\n      if (re && re.length > 0) {\r\n        for (const a of re) {\r\n          const receiver = new MessageReceiver();\r\n          receiver.type = 'processParticipant';\r\n          receiver.processParticipant = 'activityExecutorParticipant';\r\n          receiver.activityDefId = a.id;\r\n          receiver.activityDefName = a.data.Name;\r\n          this.messageNotice.receivers = this.messageNotice.receivers.concat([receiver]);\r\n        }\r\n      }\r\n      dialog.close();\r\n    });\r\n    compRef.instance.closeEmitter.subscribe(r => {\r\n      dialog.close();\r\n    });\r\n    const modalConfig = {\r\n      title: this.localePipe.transform('component.messageNoticeEdit.activityList'),\r\n      width: 490,\r\n      height: 490,\r\n      showButtons: true,\r\n      buttons: compRef.instance.buttonRef\r\n    };\r\n    dialog = this.modalService.show(compRef, modalConfig);\r\n  }\r\n  selectVariableParticipant(variableParticipant: string, index: any) {\r\n    const context = new Array<VarEntity>();\r\n    // if(this.expr.exprEntity.contextEntities.find(x => x.key === 'CurrentLanguage')) {\r\n    //   context.push(this.expr.exprEntity.contextEntities.find(x => x.key === 'CurrentLanguage'));\r\n    // }\r\n    // this.expr.clearContext();\r\n    this.expr.setEditPattern(ExprEditMode.Advanced);\r\n    if (this.designerUIState.schemas.length > 0) {\r\n      for (const schema of this.designerUIState.schemas) {\r\n        this.expr.addSchema('Schema', schema);\r\n      }\r\n      if (this.designerUIState.schemas[0].entityTypes && this.designerUIState.schemas[0].entityTypes.length > 0) {\r\n        const entityType = this.designerUIState.schemas[0].entityTypes[0];\r\n        this.expr.addInjectedEntity(entityType.name, 'Schema',\r\n          entityType.name, InjectedType.EntityType);\r\n      }\r\n    }\r\n    if (this.designerUIState.participantContext.length > 0) {\r\n      for (const variable of this.designerUIState.participantContext) {\r\n        context.push(variable);\r\n      }\r\n    }\r\n    if (this.designerUIState.processVariableContext.length > 0) {\r\n      for (const variable of this.designerUIState.processVariableContext) {\r\n        if (!context.some(c => c.key === variable.key)) {\r\n          context.push(variable);\r\n        }\r\n      }\r\n    }\r\n    if (this.designerUIState.subActivityContext.length > 0) {\r\n      for (const variable of this.designerUIState.subActivityContext) {\r\n        if (!context.some(c => c.key === variable.key)) {\r\n          context.push(variable);\r\n        }\r\n      }\r\n    }\r\n    if (context.length > 0) {\r\n      for (const v of context) {\r\n        this.expr.addContext(v);\r\n      }\r\n    }\r\n    if (variableParticipant) {\r\n      this.expr.addExpressionText(variableParticipant);\r\n    } else {\r\n      this.expr.addExpressionText('');\r\n    }\r\n    this.expr.buildExpression().then((expressioninfo: string) => {\r\n      this.messageNotice.receivers[index].variableParticipant = expressioninfo;\r\n      this.messageNotice.receivers[index].variableName = this.variableParticipantName(expressioninfo);\r\n      //点击确定后，去除表达式里面的新增的上下文变量\r\n      if(context.length > 0) {\r\n        this.expr.exprEntity.contextEntities = this.expr.exprEntity.contextEntities.filter(x => !context.some(y => y.key === x.key));\r\n      }\r\n    });\r\n  }\r\n  selectUserParticipant(receiver: MessageReceiver, index: any) {\r\n    this.index = index;\r\n    this.bindingData = {};\r\n    if (receiver.userIds && receiver.userIds.length > 0) {\r\n      this.bindingData.id = receiver.userIds;\r\n      this.bindingData.name = receiver.userNames;\r\n    }\r\n    setTimeout(() => {\r\n      this.userHelp.showHelp();\r\n    }, 0);\r\n  }\r\n\r\n  selectPositionParticipant(receiver: MessageReceiver, index: any) {\r\n    let dialog: any;\r\n    const compFactory = this.resolver.resolveComponentFactory(PositionPerformerComponent);\r\n    const compRef = compFactory.create(this.injector);\r\n    compRef.instance.showCondition = false;\r\n    compRef.instance.position.performerId = this.messageNotice.receivers[index].positionId;\r\n    compRef.instance.position.performerName = this.messageNotice.receivers[index].positionName;\r\n    compRef.instance.position.positionType = this.messageNotice.receivers[index].positionType;\r\n    compRef.instance.position.orgId = this.messageNotice.receivers[index].orgId;\r\n    compRef.instance.position.orgType = this.messageNotice.receivers[index].orgType;\r\n    if (compRef.instance.position.positionType === '0') {\r\n      compRef.instance.newFilter = { positionType: '0' };\r\n    } else {\r\n      compRef.instance.newFilter = { positionType: '1' };\r\n    }\r\n    compRef.instance.submitEmitter.subscribe((re: any) => {\r\n      if (re.performerId) {\r\n        this.messageNotice.receivers[index].positionId = re.performerId;\r\n        this.messageNotice.receivers[index].positionName = re.performerName;\r\n        this.messageNotice.receivers[index].positionType = re.positionType;\r\n        this.messageNotice.receivers[index].orgId = re.orgId;\r\n        this.messageNotice.receivers[index].orgType = re.orgType;\r\n      }\r\n      dialog.close();\r\n    });\r\n    compRef.instance.closeEmitter.subscribe(r => {\r\n      dialog.close();\r\n    });\r\n    const modalConfig = {\r\n      title: this.localePipe.transform('component.messageNoticeEdit.position'),\r\n      width: 700,\r\n      height: 400,\r\n      showButtons: true,\r\n      buttons: compRef.instance.buttonRef\r\n    };\r\n    dialog = this.modalService.show(compRef, modalConfig);\r\n  }\r\n\r\n  titleExpr(data: any){\r\n    this.showTitleHelp(data);\r\n  }\r\n  contentExpr(data: any){\r\n    this.showContentHelp(data);\r\n  }\r\n\r\n  showContentHelp(data: string){\r\n    const context = this.showExpr();\r\n    if (this.messageNotice.content && this.messageNotice.content.length > 0) {\r\n      this.expr.addExpressionText(this.messageNotice.content);\r\n    } else {\r\n      this.expr.addExpressionText('');\r\n    }\r\n    this.expr.buildExpression().then((expressionInfo: string) => {\r\n      this.messageNotice.content = expressionInfo;\r\n      //点击确定后，去除表达式里面的新增的上下文变量\r\n      if(context.length > 0) {\r\n        this.expr.exprEntity.contextEntities = this.expr.exprEntity.contextEntities.filter(x => !context.some(y => y.key === x.key));\r\n      }\r\n    });\r\n  }\r\n\r\n  showTitleHelp(data: string) {\r\n    if(this.messageNotice.subject && this.messageNotice.subject.charAt(0) !== '{'){\r\n      this.messageNotice.subject = '';\r\n    }\r\n    const context = this.showExpr();\r\n    if (this.messageNotice.subject && this.messageNotice.subject.length > 0) {\r\n      this.expr.addExpressionText(this.messageNotice.subject);\r\n    } else {\r\n      this.expr.addExpressionText('');\r\n    }\r\n    this.expr.buildExpression().then((expressionInfo: string) => {\r\n      this.messageNotice.subject = expressionInfo;\r\n      //点击确定后，去除表达式里面的新增的上下文变量\r\n      if(context.length > 0) {\r\n        this.expr.exprEntity.contextEntities = this.expr.exprEntity.contextEntities.filter(x => !context.some(y => y.key === x.key));\r\n      }\r\n    });\r\n  }\r\n  showExpr(){\r\n    const context = new Array<VarEntity>();\r\n    // if(this.expr.exprEntity.contextEntities.find(x => x.key === 'CurrentLanguage')) {\r\n    //   context.push(this.expr.exprEntity.contextEntities.find(x => x.key === 'CurrentLanguage'));\r\n    // }\r\n    // this.expr.clearContext();\r\n    if (this.uistate.schemas.length > 0) {\r\n      for (const schema of this.uistate.schemas) {\r\n        // this.expr.addCommonObject(co);\r\n        this.expr.addSchema('Schema', schema);\r\n      }\r\n      if (this.uistate.schemas[0].entityTypes && this.uistate.schemas[0].entityTypes.length > 0) {\r\n        const entityType = this.uistate.schemas[0].entityTypes[0];\r\n        this.expr.addInjectedEntity(entityType.name, 'Schema',\r\n          entityType.name, InjectedType.EntityType);\r\n      }\r\n    }\r\n    if (this.uistate.procInstContext.length > 0) {\r\n      for (const variable of this.uistate.procInstContext) {\r\n        context.push(variable);\r\n        // this.expr.addContext(variable);\r\n      }\r\n    }\r\n    if (this.uistate.subActivityContext.length > 0) {\r\n      for (const variable of this.uistate.subActivityContext) {\r\n        if (!context.some(c => c.key === variable.key)) {\r\n          context.push(variable);\r\n        }\r\n        // this.expr.addContext(variable);\r\n      }\r\n    }\r\n    if (this.uistate.processVariableContext.length > 0) {\r\n      for (const variable of this.uistate.processVariableContext) {\r\n        if (!context.some(c => c.key === variable.key)) {\r\n          context.push(variable);\r\n        }\r\n        // this.expr.addContext(variable);\r\n      }\r\n    }\r\n    if (context.length > 0) {\r\n      for (const v of context) {\r\n        this.expr.addContext(v);\r\n      }\r\n    }\r\n\r\n    return context;\r\n  }\r\n  tranExpr(){\r\n    this.messageNotice.subject = '';\r\n  }\r\n\r\n  private variableParticipantName(expr: string): string {\r\n    for (const c of this.designerUIState.participantContext) {\r\n      if (expr.indexOf(c.key) > -1) {\r\n        return c.name;\r\n      }\r\n    }\r\n    for (const c of this.designerUIState.processVariableContext) {\r\n      if (expr.indexOf(c.key) > -1) {\r\n        return c.name;\r\n      }\r\n    }\r\n    return JSON.parse(expr).expr;\r\n  }\r\n  // 由于需要实现国际化，此处定义不能提取；\r\n  processSendTime = [\r\n    { value: 'PROCESSINSTANCE_COMPLETED', text: this.localePipe.transform('component.MessageNotice.procComplete') },\r\n    { value: 'PROCESSINSTANCE_ABORTED', text: this.localePipe.transform('component.MessageNotice.procAborted') },\r\n    { value: 'PROCESSINSTANCE_ROLLBACK', text: this.localePipe.transform('component.MessageNotice.procRollBack') }\r\n  ];\r\n  ReceiverType = [\r\n    { value: 'processParticipant', text: this.localePipe.transform('component.MessageNotice.processParticipant') },\r\n    { value: 'variableParticipant', text: this.localePipe.transform('component.MessageNotice.variableParticipant') },\r\n    { value: 'userParticipant', text: this.localePipe.transform('component.MessageNotice.userParticipant') },\r\n    { value: 'positionParticipant', text: this.localePipe.transform('component.MessageNotice.positionParticipant') },\r\n  ];\r\n  activitySendTime = [\r\n    { value: 'WORKITEM_CREATED', text: this.localePipe.transform('component.MessageNotice.workCreated') },\r\n    { value: 'ACTIVITY_COMPLETED', text: this.localePipe.transform('component.MessageNotice.actComplete') },\r\n    { value: 'ACTIVITY_ABORTED', text: this.localePipe.transform('component.MessageNotice.actAborted') },\r\n  ];\r\n}\r\n","import { MessageNotice } from './message-notice';\r\n\r\nexport class MessageNoticeBatchSet {\r\n\r\n  // 消息通知属性\r\n  messageNotice: MessageNotice[];\r\n  // sendMessage时做判断\r\n  isBatchCopy: boolean;\r\n  // 目标节点ID\r\n  targetNodeID: string[];\r\n}\r\n","import { Component, OnInit, ViewChild, TemplateRef, EventEmitter, Output, ChangeDetectorRef, Optional, Inject, LOCALE_ID } from '@angular/core';\r\nimport { DataColumn, DatagridComponent } from '@farris/ui-datagrid';\r\nimport { DialogComponent } from '@farris/ui-dialog';\r\nimport { LookupGridComponent, PickedResult } from '@farris/ui-lookup';\r\nimport { MessagerService } from '@farris/ui-messager';\r\nimport { Observable, of } from 'rxjs';\r\nimport { ProcessDesignerUIState } from '../../../app/process-designer.uistate';\r\nimport { MessageNoticeBatchSet } from '../message-notice-batchSet';\r\nimport { WF_PROCESS_EDITOR_LANG_RESOURCES } from '../../../i18n/assets/lang.resource';\r\nimport { WF_LANG_RESOURCES, WfLocalePipe } from '../../../i18n/pipe/wf-process-editor-locale.pipe';\r\n\r\n@Component({\r\n  selector: 'lib-message-notice-copy',\r\n  templateUrl: './message-notice-copy.component.html',\r\n  styleUrls: ['./message-notice-copy.component.css'],\r\n  providers: [\r\n     WfLocalePipe,\r\n  ]\r\n})\r\nexport class MessageNoticeCopyComponent implements OnInit {\r\n  @ViewChild('iconSelectFooter') modalFooter: TemplateRef<any>;\r\n  @Output() closeEmitter = new EventEmitter<any>();\r\n  @Output() submitEmitter = new EventEmitter<any>();\r\n  // 活动节点表信息============================================\r\n  @ViewChild('allActisTable') allActisTable: DatagridComponent;\r\n  @ViewChild('allActisDialog') allActisDialog: DialogComponent;\r\n  @ViewChild('actTable') actTable: DatagridComponent;\r\n  @ViewChild('lookup') lookup: LookupGridComponent;\r\n  cols = [\r\n    { title: this.localePipe.transform('component.MessageNotice.name'), field: 'Name', width: 60, searchField: 'Name' },\r\n    { title: 'ID', field: 'Id', width: 90, searchField: 'Id' }];\r\n  // ==========================================================\r\n  actis = [];\r\n  fullActis = [];\r\n  pageInfo = {\r\n    pageIndex: 1,\r\n    pageList: [10, 20, 30, 50],\r\n    pageSize: 20\r\n  };\r\n  total: number;\r\n  messageNotice = [];\r\n  messageNoticeValue = [];\r\n  targetNodeID = [];\r\n  activitySendTime = [\r\n    { value: 'WORKITEM_CREATED', text: this.localePipe.transform('component.MessageNotice.workCreated') },\r\n    { value: 'ACTIVITY_COMPLETED', text: this.localePipe.transform('component.MessageNotice.actComplete') },\r\n    { value: 'ACTIVITY_ABORTED', text: this.localePipe.transform('component.MessageNotice.actAborted') },\r\n];\r\n  columns = [\r\n    {\r\n      field: 'subject', width: 100, title: this.localePipe.transform('component.MessageNotice.subject'),\r\n    }, {\r\n      field: 'content', width: 150, title: this.localePipe.transform('component.MessageNotice.content'), showTips: true,\r\n    }, {\r\n      field: 'sendTime', width: 100, title: this.localePipe.transform('component.MessageNotice.sendTime'),\r\n      formatter: {\r\n        type: 'enum',\r\n        options: { valueField: 'value', textField: 'text', data: this.activitySendTime }\r\n      },\r\n    }, {\r\n      field: 'sendType', width: 100, title: this.localePipe.transform('component.MessageNotice.sendType'),\r\n      formatter: {\r\n        type: 'enum',\r\n        options: { valueField: 'value', textField: 'name', data: this.uistate.messageChannels.map(m => ({ value: m.code, name: m.name })) }\r\n      },\r\n    }, {\r\n      field: 'receiverText', width: 120, title: this.localePipe.transform('component.MessageNotice.receiverText'), showTips: true\r\n    }];\r\n\r\n  constructor(\r\n    public uistate: ProcessDesignerUIState,\r\n    private message: MessagerService,\r\n    @Optional() private cdr: ChangeDetectorRef,\r\n    @Inject(LOCALE_ID) private localeId: string,\r\n    @Inject(WF_LANG_RESOURCES) private resources: any,\r\n    @Optional() private localePipe: WfLocalePipe,\r\n  ) {\r\n    this.localePipe = this.localePipe || new WfLocalePipe(localeId, resources);\r\n  }\r\n\r\n  ngOnInit() {}\r\n\r\n  endEdit(e: any) {\r\n    console.log(e);\r\n  }\r\n\r\n  actisSelect = (rowData): Observable<PickedResult> => {\r\n    for (const r of rowData) {\r\n      this.targetNodeID.push(r.Id);\r\n    }\r\n    return of({\r\n      closeDialog: true\r\n    });\r\n  }\r\n\r\n  paramAfterEdit = (rowIndex: number, rowData: any, column?: DataColumn) => {\r\n    console.log(rowData);\r\n    console.log(rowIndex);\r\n    return of(true);\r\n  }\r\n\r\n  get messageNotices() {\r\n    return this.messageNotice;\r\n  }\r\n\r\n  set messageNotices(m) {\r\n    this.messageNotice = m;\r\n  }\r\n\r\n  clickOK() {\r\n    if (!this.targetNodeID && this.targetNodeID.length === 0) {\r\n      this.message.info(this.localePipe.transform('component.MessageNotice.noTargetNode'));\r\n      return;\r\n    }\r\n    if (!this.messageNotice && this.messageNotice.length === 0) {\r\n      this.message.info(this.localePipe.transform('component.MessageNotice.noMessageNotifyAttribute'));\r\n      return;\r\n    }\r\n    const batchSetValue = new MessageNoticeBatchSet();\r\n    batchSetValue.messageNotice = this.messageNotice;\r\n    batchSetValue.targetNodeID = this.targetNodeID;\r\n    batchSetValue.isBatchCopy = true;\r\n    const object = { value: batchSetValue, parameters: null };\r\n    this.submitEmitter.emit(object);\r\n  }\r\n\r\n  clickCancel() {\r\n    this.closeEmitter.emit();\r\n  }\r\n}\r\n","import { Component, OnInit, HostBinding, EventEmitter, Output, Input, ViewChild, TemplateRef, ComponentFactoryResolver, Injector, ElementRef, ChangeDetectorRef, Optional, Inject, LOCALE_ID } from '@angular/core';\r\nimport { TypeConverter } from '@farris/ide-property-panel';\r\nimport { MessageNotice } from './message-notice';\r\nimport { BsModalService } from '@farris/ui-modal';\r\nimport { MessagerService } from '@farris/ui-messager';\r\nimport { MessageNoticeEditComponent } from './message-notice-edit/message-notice-edit.component';\r\nimport { DatagridComponent } from '@farris/ui-datagrid';\r\nimport { ProcessDeUtil } from '../../domain/process-de-util';\r\nimport { ProcessDesignerUIState } from '../../app/process-designer.uistate';\r\nimport { MessageNoticeCopyComponent } from './message-notice-copy/message-notice-copy.component';\r\nimport { ProcessDesignerViewModel } from '../../app/process-designer.viewmodel';\r\nimport { HttpService } from '@ecp-caf/caf-common';\r\nimport { MessageReceiver } from './message-receiver';\r\nimport { WF_LANG_RESOURCES, WfLocalePipe } from '../../i18n/pipe/wf-process-editor-locale.pipe';\r\nimport { WF_PROCESS_EDITOR_LANG_RESOURCES } from '../../i18n/assets/lang.resource';\r\n\r\n@Component({\r\n  selector: 'lib-message-notice',\r\n  templateUrl: './message-notice.component.html',\r\n  styleUrls: ['./message-notice.component.scss'],\r\n  providers: [\r\n     WfLocalePipe,\r\n  ]\r\n})\r\nexport class MessageNoticeComponent implements OnInit {\r\n  @HostBinding('class')\r\n  cls = 'farris-main-area flex-column';\r\n\r\n  @Output() closeModal = new EventEmitter<any>();\r\n  @Output() submitModal = new EventEmitter<any>();\r\n\r\n  @Input()\r\n  set value(notices: any[]) {\r\n    if (notices && notices.length > 0) {\r\n      this.messageNotices = notices.map(n => ({\r\n        id: ProcessDeUtil.GenerateElementId(),\r\n        content: n.content,\r\n        sendTime: n.sendTime,\r\n        sendType: n.sendType,\r\n        subject: n.subject,\r\n        receiver: n.receiver,\r\n        receiverText: n.receiverText,\r\n        receivers: n.receivers ? n.receivers : new Array(),\r\n        smsMessageTemplate: n.smsMessageTemplate\r\n      }));\r\n    }\r\n  }\r\n  @Input() editorParams: any = {};\r\n  @ViewChild('iconSelectFooter') modalFooter: TemplateRef<any>;\r\n  @ViewChild('grid') grid: DatagridComponent;\r\n\r\n  modalConfig = {\r\n    title: this.localePipe.transform('component.MessageNotice.notify'),\r\n    width: 760,\r\n    height: 480,\r\n    showButtons: true\r\n  };\r\n\r\n  messageNotices: Array<MessageNotice> = new Array();\r\n  columns = [];\r\n\r\n  location: 'activity' | 'process' | 'messageActivity' = 'activity';\r\n\r\n  constructor(\r\n    private resolver: ComponentFactoryResolver,\r\n    private injector: Injector,\r\n    private modalService: BsModalService,\r\n    private message: MessagerService,\r\n    private uistate: ProcessDesignerUIState,\r\n    private viewModel: ProcessDesignerViewModel,\r\n    private http: HttpService,\r\n    @Optional() private cdr: ChangeDetectorRef,\r\n    @Inject(LOCALE_ID) private localeId: string,\r\n    @Inject(WF_LANG_RESOURCES) private resources: any,\r\n    @Optional() private localePipe: WfLocalePipe\r\n  ) {\r\n    this.localePipe = this.localePipe || new WfLocalePipe(localeId, resources);\r\n    this.GetOrganizationType();\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.location = this.editorParams.location;\r\n    this.columns = [\r\n      {\r\n        field: 'subject', width: 100, title: this.localePipe.transform('component.MessageNotice.subject'),\r\n      }, {\r\n        field: 'content', width: 150, title: this.localePipe.transform('component.MessageNotice.content'), showTips: true,\r\n      }, {\r\n        field: 'sendTime', width: 100, title: this.localePipe.transform('component.MessageNotice.sendTime'),\r\n        formatter: {\r\n          type: 'enum',\r\n          options: { valueField: 'value', textField: 'text', data: this.location === 'process' ? this.processSendTime : this.activitySendTime }\r\n        },\r\n      }, {\r\n        field: 'sendType', width: 100, title: this.localePipe.transform('component.MessageNotice.sendType'),\r\n        formatter: {\r\n          type: 'enum',\r\n          options: { valueField: 'value', textField: 'name', data: this.uistate.messageChannels.map(m => ({ value: m.code, name: m.name })) }\r\n        },\r\n      }, {\r\n        field: 'receiverText', width: 120, title: this.localePipe.transform('component.MessageNotice.receiverText'), showTips: true, formatter: (v, d, i) => {\r\n          let receiverText = '';\r\n          if (d.receivers && d.receivers.length > 0) {\r\n            for (const receiver of d.receivers) {\r\n              if (receiver.type === 'processParticipant') {\r\n                if (receiver.processParticipant === 'procInstCreator') {\r\n                  receiverText += this.localePipe.transform('component.MessageNotice.procInstCreator');\r\n                } else if (receiver.processParticipant === 'workItemParticipant') {\r\n                  receiverText += this.localePipe.transform('component.MessageNotice.workItemParticipant');\r\n                } else if (receiver.processParticipant === 'activityExecutorParticipant') {\r\n                  receiverText += (receiver.activityDefName + '，');\r\n                }\r\n              } else if (receiver.type === 'userParticipant') {\r\n                receiverText += (receiver.userNames + '，');\r\n              } else if (receiver.type === 'variableParticipant') {\r\n                receiverText += (receiver.variableName + '，');\r\n              } else if (receiver.type === 'positionParticipant') {\r\n                receiverText += (receiver.positionName + '，');\r\n              }\r\n            }\r\n          }\r\n          if (receiverText) {\r\n            receiverText = receiverText.substring(0, receiverText.length - 1);\r\n          }\r\n          return receiverText;\r\n        },\r\n      }];\r\n    if (this.location === 'messageActivity') {\r\n      this.columns = this.columns.filter(c => c.field !== 'sendTime');\r\n    }\r\n  }\r\n\r\n  add() {\r\n    let dialog: any;\r\n    const compFactory = this.resolver.resolveComponentFactory(MessageNoticeEditComponent);\r\n    const compRef = compFactory.create(this.injector);\r\n    compRef.instance.location = this.location;\r\n    const messageNotice = new MessageNotice();\r\n    if (this.location === 'activity') {\r\n      messageNotice.sendTime = 'WORKITEM_CREATED';\r\n      const messageReceiver = new MessageReceiver();\r\n      messageReceiver.type = 'processParticipant';\r\n      messageReceiver.processParticipant = 'workItemParticipant';\r\n      messageNotice.receivers = [messageReceiver];\r\n    } else if (this.location === 'process') {\r\n      messageNotice.sendTime = 'PROCESSINSTANCE_COMPLETED';\r\n      const messageReceiver = new MessageReceiver();\r\n      messageReceiver.type = 'processParticipant';\r\n      messageReceiver.processParticipant = 'procInstCreator';\r\n      messageNotice.receivers = [messageReceiver];\r\n    } else if (this.location === 'messageActivity') {\r\n      const messageReceiver = new MessageReceiver();\r\n      messageReceiver.type = 'processParticipant';\r\n      messageReceiver.processParticipant = 'procInstCreator';\r\n      messageNotice.receivers = [messageReceiver];\r\n    }\r\n    compRef.instance.value = messageNotice;\r\n    compRef.instance.submitEmitter.subscribe((re: MessageNotice) => {\r\n      this.messageNotices = this.messageNotices.concat([re]);\r\n      dialog.close();\r\n    });\r\n    compRef.instance.closeEmitter.subscribe(re => {\r\n      dialog.close();\r\n    });\r\n    const modalConfig = {\r\n      title: this.localePipe.transform('component.MessageNotice.messageSet'),\r\n      width: 760,\r\n      height: 480,\r\n      showButtons: true,\r\n      buttons: compRef.instance.footer\r\n    };\r\n    dialog = this.modalService.show(compRef, modalConfig);\r\n  }\r\n  edit() {\r\n    if (!this.grid.selectedRow) {\r\n      this.message.info(this.localePipe.transform('component.MessageNotice.selectedRow'));\r\n      return;\r\n    }\r\n    let dialog: any;\r\n    const compFactory = this.resolver.resolveComponentFactory(MessageNoticeEditComponent);\r\n    const compRef = compFactory.create(this.injector);\r\n    compRef.instance.location = this.location;\r\n    compRef.instance.value = this.grid.selectedRow.data;\r\n    compRef.instance.submitEmitter.subscribe((re: MessageNotice) => {\r\n      this.messageNotices = this.messageNotices.map(m => {\r\n        if (m.id === re.id) {\r\n          return re;\r\n        }\r\n        return m;\r\n      });\r\n      this.grid.unSelectRow(this.grid.selectedRow.data.id, true);\r\n      dialog.close();\r\n    });\r\n    compRef.instance.closeEmitter.subscribe(re => {\r\n      dialog.close();\r\n    });\r\n    const modalConfig = {\r\n      title: this.localePipe.transform('component.MessageNotice.messageSet'),\r\n      width: 760,\r\n      height: 480,\r\n      showButtons: true,\r\n      buttons: compRef.instance.footer\r\n    };\r\n    dialog = this.modalService.show(compRef, modalConfig);\r\n  }\r\n  batchCopy() {\r\n    if (!this.messageNotices) {\r\n      this.message.info(this.localePipe.transform('component.MessageNotice.noCopy'));\r\n      return;\r\n    }\r\n    let dialog: any;\r\n    const compFactory = this.resolver.resolveComponentFactory(MessageNoticeCopyComponent);\r\n    const compRef = compFactory.create(this.injector);\r\n    compRef.instance.messageNotices = this.messageNotices;\r\n    compRef.instance.submitEmitter.subscribe((data: any) => {\r\n      this.viewModel.copy(ResourceKeys.batchCopyProperty, data);\r\n      dialog.close();\r\n    });\r\n    compRef.instance.closeEmitter.subscribe(re => {\r\n      dialog.close();\r\n    });\r\n    const modalConfig = {\r\n      title: this.localePipe.transform('component.MessageNotice.batchCopy'),\r\n      width: 800,\r\n      height: 515,\r\n      showButtons: true,\r\n      buttons: compRef.instance.modalFooter\r\n    };\r\n    dialog = this.modalService.show(compRef, modalConfig);\r\n  }\r\n  delete() {\r\n    const selected = this.grid.selectedRow;\r\n    if (!selected) {\r\n      this.message.info(this.localePipe.transform('component.MessageNotice.selectedRow'));\r\n      return;\r\n    }\r\n    this.messageNotices = this.messageNotices.filter(m => m.id !== selected.id);\r\n  }\r\n  clickOK() {\r\n    const object = { value: this.messageNotices, parameters: null };\r\n    this.submitModal.emit(object);\r\n  }\r\n  clickCancel() {\r\n    this.closeModal.emit();\r\n  }\r\n\r\n  private GetOrganizationType() {\r\n    const url = '/api/runtime/sys/v1.0/authfields/globalauthfields';\r\n    this.http.get(url)\r\n      .subscribe((data: any) => this.uistate.orgTypeCollection = data.map(d => ({ value: d.id, text: d.name })));\r\n  }\r\n\r\n  processSendTime = [\r\n    { value: 'PROCESSINSTANCE_COMPLETED', text: this.localePipe.transform('component.MessageNotice.procComplete') },\r\n    { value: 'PROCESSINSTANCE_ABORTED', text: this.localePipe.transform('component.MessageNotice.procAborted') },\r\n    { value: 'PROCESSINSTANCE_ROLLBACK', text: this.localePipe.transform('component.MessageNotice.procRollBack') }\r\n  ];\r\n\r\n  activitySendTime = [\r\n    { value: 'WORKITEM_CREATED', text: this.localePipe.transform('component.MessageNotice.workCreated') },\r\n    { value: 'ACTIVITY_COMPLETED', text: this.localePipe.transform('component.MessageNotice.actComplete') },\r\n    { value: 'ACTIVITY_ABORTED', text: this.localePipe.transform('component.MessageNotice.actAborted') },\r\n  ];\r\n}\r\n\r\nexport enum ResourceKeys {\r\n  batchCopyProperty = 'batchCopyProperty'\r\n}\r\n\r\nexport class MessageNoticeConverter implements TypeConverter {\r\n  constructor(\r\n    private localePipe: WfLocalePipe\r\n  ) { }\r\n\r\n  convertTo(data: any[]): string {\r\n    if (data && data.length > 0) {\r\n      return this.localePipe.transform(\"component.MessageNotice.set\");\r\n    } else {\r\n      return this.localePipe.transform(\"component.MessageNotice.notSet\");\r\n    }\r\n  }\r\n}\r\n","import { Component, Input, OnInit, Output, ViewChild, TemplateRef, EventEmitter, ChangeDetectorRef, Optional, Inject, LOCALE_ID } from '@angular/core';\r\nimport { TypeConverter } from '@farris/ide-property-panel';\r\nimport { ProcessDesignerUIState } from '../../app/process-designer.uistate';\r\nimport { ProcExtendProperty } from './extend-property';\r\nimport { WF_LANG_RESOURCES, WfLocalePipe } from '../../i18n/pipe/wf-process-editor-locale.pipe';\r\nimport { WF_PROCESS_EDITOR_LANG_RESOURCES } from '../../i18n/assets/lang.resource';\r\n\r\n@Component({\r\n  selector: 'lib-extend-property',\r\n  templateUrl: './extend-property.component.html',\r\n  styleUrls: ['./extend-property.component.css'],\r\n  providers: [\r\n     WfLocalePipe,\r\n  ]\r\n})\r\nexport class ExtendPropertyComponent implements OnInit {\r\n\r\n  @Output() closeModal = new EventEmitter<any>();\r\n  @Output() submitModal = new EventEmitter<any>();\r\n  @ViewChild('iconSelectFooter') modalFooter: TemplateRef<any>;\r\n\r\n  @Input()\r\n  set value(property: any[]) {\r\n    if (property && property.length > 0) {\r\n      this.procExtendProperty = property.map(p => ({\r\n        id: p.id,\r\n        code: p.code,\r\n        parentId: p.parentId,\r\n        sortOrder: p.sortOrder,\r\n        propertyNote: p.propertyNote,\r\n        propertyTitle: p.propertyTitle,\r\n        propertyLocation: p.propertyLocation,\r\n        propertyType: p.propertyType,\r\n        enumValue: p.enumValue,\r\n        bizDefKey: p.bizDefKey,\r\n        bizCategoryId: p.bizCategoryId,\r\n        startMode: p.startMode,\r\n        value: p.value,\r\n      }));\r\n    }\r\n  }\r\n  modalConfig = {\r\n    title: this.localePipe.transform(\"component.extendProperty.extendProperty\"),\r\n    width: 430,\r\n    height: 370,\r\n    showButtons: true\r\n  };\r\n  procExtendProperty: Array<ProcExtendProperty> = new Array();\r\n  booleanlist = [\r\n    { key: this.localePipe.transform(\"component.extendProperty.true\"), value: 'true' },\r\n    { key: this.localePipe.transform(\"component.extendProperty.false\"), value: 'false' }\r\n  ];\r\n  extendPropertyList = {\r\n    key: '',\r\n    value: ''\r\n  };\r\n  constructor(\r\n    private uiState: ProcessDesignerUIState,\r\n    @Optional() private cdr: ChangeDetectorRef,\r\n    @Inject(LOCALE_ID) private localeId: string,\r\n    @Inject(WF_LANG_RESOURCES) private resources: any,\r\n    @Optional() private localePipe: WfLocalePipe,\r\n    ) {\r\n    this.localePipe = this.localePipe || new WfLocalePipe(localeId, resources);\r\n  }\r\n\r\n  setProperty(obj: any) {\r\n    this.uiState.propertyData = obj.propertyData;\r\n    this.uiState.propertyConfig = obj.propertyConfig;\r\n  }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  clickOK() {\r\n    const value = this.procExtendProperty;\r\n    const object = { value, parameters: null };\r\n    this.submitModal.emit(object);\r\n  }\r\n\r\n  cancel() {\r\n    this.closeModal.emit();\r\n  }\r\n}\r\nexport class ExtendPropertyConverter implements TypeConverter {\r\n  constructor(\r\n    private localePipe: WfLocalePipe\r\n  ) { }\r\n\r\n  convertTo(data: any[]): string {\r\n    if (data && data instanceof Array && data.some(item => item.value)) {\r\n      return this.localePipe.transform(\"component.extendProperty.set\");\r\n    }\r\n    return this.localePipe.transform(\"component.extendProperty.notSet\");\r\n  }\r\n}\r\n","export class ImageSetting {\r\n  imageOperation: string; // 影像设置\r\n}\r\n","import { Component, OnInit, Output, EventEmitter, ViewChild, TemplateRef, Input, ChangeDetectorRef, Optional, Inject, LOCALE_ID } from '@angular/core';\r\nimport { TypeConverter } from '@farris/ide-property-panel';\r\nimport { ImageSetting } from './image-set';\r\nimport { MessagerService } from '@farris/ui-messager';\r\nimport { WF_LANG_RESOURCES, WfLocalePipe } from '../../i18n/pipe/wf-process-editor-locale.pipe';\r\nimport { WF_PROCESS_EDITOR_LANG_RESOURCES } from '../../i18n/assets/lang.resource';\r\n\r\n@Component({\r\n  selector: 'lib-image-set',\r\n  templateUrl: './image-set.component.html',\r\n  styleUrls: ['./image-set.component.css'],\r\n  providers: [\r\n     WfLocalePipe,\r\n  ]\r\n})\r\nexport class ImageSetComponent implements OnInit {\r\n\r\n  @Output() closeModal = new EventEmitter<any>();\r\n  @Output() submitModal = new EventEmitter<any>();\r\n\r\n  @Input()\r\n  set value(setValue: any) {\r\n    if (setValue) {\r\n      this.imageSetting.imageOperation = setValue.imageOperation;\r\n      }\r\n    }\r\n\r\n  @ViewChild('iconSelectFooter') modalFooter: TemplateRef<any>;\r\n  modalConfig = {\r\n    title: this.localePipe.transform('component.imageSet.imageSet'),\r\n    width: 520,\r\n    height: 360,\r\n    showButtons: true\r\n  };\r\n// 影像操作权限选项列表\r\n  operationList = [\r\n    { value: 'onlyView', name: this.localePipe.transform('component.imageSet.onlyView')},\r\n    { value: 'edit', name: this.localePipe.transform('component.imageSet.edit')},\r\n    { value: 'reScanStart', name: this.localePipe.transform('component.imageSet.reScanStart')},\r\n    { value: 'reScanComplete', name: this.localePipe.transform('component.imageSet.reScanComplete') }];\r\n// 影像操作权限\r\n  imageSetting: ImageSetting = new ImageSetting();\r\n  constructor(\r\n    private message: MessagerService,\r\n    @Optional() private cdr: ChangeDetectorRef,\r\n    @Inject(LOCALE_ID) private localeId: string,\r\n    @Inject(WF_LANG_RESOURCES) private resources: any,\r\n    @Optional() private localePipe: WfLocalePipe,\r\n  ) {\r\n    this.localePipe = this.localePipe || new WfLocalePipe(localeId, resources);\r\n   }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  changeValue(data: any) {\r\n    // 先选0再选123的时候，暂时置为0？先选123再选0则置为0√\r\n    if (data.indexOf('onlyView') > -1) {\r\n      setTimeout(() => {\r\n        this.message.info(this.localePipe.transform('component.imageSet.mutualExclusion'));\r\n        this.imageSetting.imageOperation = 'onlyView';\r\n      }, 100);\r\n    }\r\n  }\r\n\r\n  clickOK() {\r\n    const value = this.imageSetting;\r\n    const object = { value, parameters: null };\r\n    this.submitModal.emit(object);\r\n  }\r\n\r\n  clickCancel() {\r\n    this.closeModal.emit();\r\n  }\r\n\r\n}\r\nexport class ImageSetConverter implements TypeConverter {\r\n\r\n  constructor(\r\n    private localePipe: WfLocalePipe\r\n  ) { }\r\n\r\n  convertTo(data: any): string {\r\n    if (data && data.imageOperation) {\r\n      return this.localePipe.transform('component.imageSet.set');\r\n    }\r\n    return this.localePipe.transform('component.imageSet.notSet');\r\n  }\r\n}\r\n","import { Pipe, PipeTransform, Inject, LOCALE_ID, InjectionToken } from '@angular/core';\r\n\r\nexport const BIF_LANG_RESOURCES = new InjectionToken(\"BIF_LANG_RESOURCES\");\r\n\r\n@Pipe({ name: 'aifLocale' })\r\nexport class AifLocalePipe implements PipeTransform {\r\n    private readonly defaultLang: string = \"zh-CHS\";\r\n    private langCode: string;\r\n    private lang: {};\r\n    private resources;\r\n    constructor(\r\n        @Inject(LOCALE_ID) localeId: string,\r\n        @Inject(BIF_LANG_RESOURCES) resources: any,\r\n    ) {\r\n        this.langCode = localeId || this.defaultLang;\r\n        this.resources = resources || {};\r\n        this.lang = resources[this.langCode] || resources[this.defaultLang] || {};\r\n    }\r\n    transform(name: string): any {\r\n        return this.lang[name] || name;\r\n    }\r\n\r\n    instant(name: string): any {\r\n        return this.transform(name);\r\n    }\r\n}\r\n\r\n","import { Injectable } from \"@angular/core\";\r\nimport { ConditionEntity, ConditionType } from \"@edp-bif/common-api\";\r\n\r\n@Injectable()\r\nexport class StartConditionService {\r\n    createConditionEntity(): ConditionEntity {\r\n        const entity = new ConditionEntity();\r\n        entity.id = this.generateGUID();\r\n        entity.isEnabled = true;\r\n        entity.type = ConditionType.COMPONENT;\r\n        return entity;\r\n    }\r\n\r\n    generateGUID(): string {\r\n        let d = new Date().getTime();\r\n        let guid = 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, (c) => {\r\n            let r = (d + Math.random() * 16) % 16 | 0;\r\n            d = Math.floor(d / 16);\r\n            return (c == 'x' ? r : (r & 0x3 | 0x8)).toString(16);\r\n        });\r\n\r\n        return guid;\r\n    }\r\n}","import { DtBillCreationProcessEntity, DtBillWritebackProcessEntity } from '@edp-bif/common-api';\r\nimport { ResponseToolbarComponent, ResponseToolbarClickEvent } from '@farris/ui-response-toolbar';\r\nimport { DatagridComponent, DataColumn } from '@farris/ui-datagrid';\r\nimport { TemplateRef, Injector, ComponentFactoryResolver, ChangeDetectorRef, OnInit, EventEmitter } from '@angular/core';\r\nimport { MessagerService } from '@farris/ui-messager';\r\nimport { NotifyService } from '@farris/ui-notify';\r\nimport { GSPMetadataRTService } from '@gsp-lcm/metadatart-selector';\r\nimport { BsModalService } from '@farris/ui-modal';\r\nimport { AifLocalePipe } from '../aif-ui-common/pipe/aif-ui-common-locale.pipe';\r\n\r\nexport abstract class AbstractDatagridComponent implements OnInit {\r\n    readonly groupIcon = '<i class=\"f-icon f-icon-lookup\"></i>';\r\n\r\n    toolbar: ResponseToolbarComponent;\r\n    readonly toolbarData = [\r\n        {\r\n            id: 'btn-add',\r\n            text: this.localePipe.instant(\"add\"),\r\n            class: 'btn btn-secondary',\r\n            disabled: false\r\n        },\r\n        {\r\n            id: 'btn-remove',\r\n            text: this.localePipe.instant(\"remove\"),\r\n            class: 'btn btn-secondary',\r\n            disabled: false\r\n        },\r\n    ];\r\n\r\n    dg: DatagridComponent;\r\n    dgIdField: string = \"id\";\r\n    dgColumns: DataColumn[];\r\n    abstract get dgData(): Array<any>;\r\n    abstract set dgData(arr: Array<any>);\r\n    get dgTotal(): number {\r\n        return this.dgData.length || 0;\r\n    }\r\n\r\n    dgIsEnabledStateCell: TemplateRef<any>;\r\n    dgOpCell: TemplateRef<any>;\r\n    editingRowId: string = null;\r\n\r\n    constructor(\r\n        protected messager: MessagerService,\r\n        protected notify: NotifyService,\r\n        protected metadataService: GSPMetadataRTService,\r\n        protected modalService: BsModalService,\r\n        protected localePipe: AifLocalePipe,\r\n        protected injector: Injector,\r\n        protected resolver: ComponentFactoryResolver,\r\n        protected cdf: ChangeDetectorRef,\r\n    ) {\r\n\r\n    }\r\n\r\n    abstract ngOnInit(): void;\r\n\r\n    toolbarClickHandler(args: ResponseToolbarClickEvent) {\r\n        switch (args.id) {\r\n            case 'btn-add':\r\n                this.add();\r\n                break;\r\n            case 'btn-remove':\r\n                this.remove(null);\r\n                break;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 新增行\r\n     */\r\n    abstract add(): void;\r\n\r\n    /**\r\n     * 开始行编辑\r\n     * @param ctx \r\n     */\r\n    startRowEdit(ctx?: { rowIndex: number; rowData: { [key: string]: any; id: any; }; }) {\r\n        this.dg.editRow(ctx.rowData.id);\r\n        this.editingRowId = ctx.rowData.id;\r\n        this.cdf.detectChanges();\r\n        return false;\r\n    }\r\n\r\n    /**\r\n     * 取消行编辑\r\n     * @param ctx \r\n     */\r\n    cancelRowEdit(ctx?: { rowIndex: number; rowData: { [key: string]: any; id: any; }; }) {\r\n        this.dg.cancelEdit(ctx.rowData.id);\r\n        this.editingRowId = null;\r\n        this.cdf.detectChanges();\r\n        return false;\r\n    }\r\n\r\n    /**\r\n     * 结束行编辑\r\n     * @param ctx \r\n     */\r\n    endRowEdit(ctx?: { rowIndex: number; rowData: { [key: string]: any; id: any; }; }) {\r\n        this.dg.endRowEdit();\r\n        this.editingRowId = null;\r\n        this.cdf.detectChanges();\r\n        return false;\r\n    }\r\n\r\n    /**\r\n     * 行删除\r\n     * @param ctx \r\n     */\r\n    remove(evt: Event, ctx?: { rowIndex: number, rowData: { id;[key: string]: any } }) {\r\n        const ids: string[] = [];\r\n        if (ctx == null) {\r\n            // 批量删除\r\n            this.dg.checkeds.forEach(it => {\r\n                ids.push(it.id);\r\n            });\r\n        } else {\r\n            // 行内删除\r\n            ids.push(ctx.rowData.id);\r\n        }\r\n        if (ids.length == 0) {\r\n            this.notify.warning(this.localePipe.instant(\"pleaseSelectOneItemAtLeast\"));\r\n            if (evt != null) {\r\n                evt.stopPropagation();\r\n            }\r\n            return false;\r\n        }\r\n        for (let id of ids) {\r\n            this.dg.deleteRow(id);\r\n        }\r\n        this.dgData = this.dg.data;\r\n        if (this.editingRowId != null) {\r\n            if (ids.includes(this.editingRowId)) {\r\n                this.editingRowId = null;\r\n            } else {\r\n                this.dg.editRow(this.editingRowId);\r\n            }\r\n        }\r\n        this.cdf.detectChanges();\r\n        if (evt != null) {\r\n            evt.stopPropagation();\r\n        }\r\n        return false;\r\n    }\r\n\r\n    /**\r\n     * 行移动\r\n     * @param ctx datagrid上下文\r\n     * @param direction -1: 上移， 1：下移\r\n     */\r\n    rowMove(evt: Event, ctx: { rowIndex: number, rowData: { id;[key: string]: any } }, direction: number) {\r\n        // const arr = dg.data;\r\n        const arr = this.dgData;\r\n        const index = this.findIndex(arr, ctx.rowData.id);\r\n\r\n        if (index == -1 || (direction == 1 && index == arr.length - 1) || (direction == -1 && index == 0)) {\r\n            return;\r\n        }\r\n        arr[index] = [arr[index + direction], arr[index + direction] = arr[index]][0];\r\n        this.dgData = [...this.dgData];\r\n        this.cdf.detectChanges();\r\n        if (evt != null) {\r\n            evt.stopPropagation();\r\n        }\r\n        return false;\r\n    }\r\n\r\n    /**\r\n     * 查找数组中指定id的元素下标\r\n     * @param arr 数组\r\n     * @param id 数组唯一标识\r\n     * @returns 元素下标\r\n     */\r\n    protected findIndex(arr: any[], id): number {\r\n        let index = -1;\r\n        for (let i = 0; i < arr.length; i++) {\r\n            const elt = arr[i];\r\n            if (elt.id == id) {\r\n                index = i;\r\n                break;\r\n            }\r\n        }\r\n        return index;\r\n    }\r\n\r\n    abstract load(): void;\r\n\r\n    abstract configDgColumns(): void;\r\n}","export const LANG_RESOURCES = {\r\n    \"zh-CHS\": {\r\n        \"startCondition\": \"启动条件\",\r\n        \"yes\": \"是\",\r\n        \"no\": \"否\",\r\n        \"confirm\": \"确定\",\r\n        \"edit\": \"编辑\",\r\n        \"moveUp\": \"上移\",\r\n        \"moveDown\": \"下移\",\r\n        \"add\": \"新增\",\r\n        \"remove\": \"删除\",\r\n        \"isEnabled\": \"是否启用\",\r\n        \"type\": \"类型\",\r\n        \"commonComponent\": \"通用构件\",\r\n        \"expression\": \"表达式\",\r\n        \"billAction\": \"业务动作\",\r\n        \"content\": \"内容\",\r\n        \"description\": \"描述\",\r\n        \"operation\": \"操作\",\r\n        \"typeMustNotBeNull\": \"类型不可为空\",\r\n        \"contentMustNotBeNull\": \"内容不可为空\",\r\n        \"commonComponentMetadataSelector\": \"通用构件选择\",\r\n        \"pleaseSelectOneItemAtLeast\": \"请至少选择一条数据\",\r\n        \"pleaseEndCurrentRowEditing\": \"请先结束当前行编辑\",\r\n    },\r\n    \"en\": {\r\n        \"startCondition\": \"Start Condition\",\r\n        \"yes\": \"Yes\",\r\n        \"no\": \"No\",\r\n        \"confirm\": \"Confirm\",\r\n        \"edit\": \"Edit\",\r\n        \"moveUp\": \"Move Up\",\r\n        \"moveDown\": \"Move Down\",\r\n        \"add\": \"Add\",\r\n        \"remove\": \"Remove\",\r\n        \"isEnabled\": \"Is Enabled\",\r\n        \"type\": \"Type\",\r\n        \"commonComponent\": \"Common Component\",\r\n        \"expression\": \"Expression\",\r\n        \"billAction\": \"Bill Action\",\r\n        \"content\": \"Content\",\r\n        \"description\": \"Description\",\r\n        \"operation\": \"Operation\",\r\n        \"typeMustNotBeNull\": \"Type must not be null\",\r\n        \"contentMustNotBeNull\": \"Content must not be null\",\r\n        \"commonComponentMetadataSelector\": \"Common Component Selector\",\r\n        \"pleaseSelectOneItemAtLeast\": \"Please select one item at least\",\r\n        \"pleaseEndCurrentRowEditing\": \"Please end current row editing\",\r\n    },\r\n    \"zh-CHT\": {\r\n        \"startCondition\": \"啓動條件\",\r\n        \"yes\": \"是\",\r\n        \"no\": \"否\",\r\n        \"confirm\": \"確定\",\r\n        \"edit\": \"編輯\",\r\n        \"moveUp\": \"上移\",\r\n        \"moveDown\": \"下移\",\r\n        \"add\": \"新增\",\r\n        \"remove\": \"刪除\",\r\n        \"isEnabled\": \"是否啓用\",\r\n        \"type\": \"類型\",\r\n        \"commonComponent\": \"通用構件\",\r\n        \"expression\": \"表達式\",\r\n        \"billAction\": \"業務動作\",\r\n        \"content\": \"內容\",\r\n        \"description\": \"描述\",\r\n        \"operation\": \"操作\",\r\n        \"typeMustNotBeNull\": \"類型不可爲空\",\r\n        \"contentMustNotBeNull\": \"內容不可爲空\",\r\n        \"commonComponentMetadataSelector\": \"通用構件選擇\",\r\n        \"pleaseSelectOneItemAtLeast\": \"請至少選擇壹條數據\",\r\n        \"pleaseEndCurrentRowEditing\": \"請先結束當前行編輯\",\r\n    }\r\n};","import { ChangeDetectorRef, Component, ComponentFactoryResolver, EventEmitter, Inject, Injector, Input, LOCALE_ID, OnInit, Output, TemplateRef, ViewChild } from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { BpmnModelJsonHelper, ComponentConditionContent, ConditionEntity, ConditionType, ExpressionConditionContent } from '@edp-bif/common-api';\r\nimport { TypeConverter } from '@farris/ide-property-panel';\r\nimport { DataColumn, DatagridComponent } from '@farris/ui-datagrid';\r\nimport { LoadingService } from '@farris/ui-loading';\r\nimport { MessagerService } from '@farris/ui-messager';\r\nimport { BsModalService } from '@farris/ui-modal';\r\nimport { NotifyService } from '@farris/ui-notify';\r\nimport { ResponseToolbarClickEvent } from '@farris/ui-response-toolbar';\r\nimport { GSPMetadataRTService, Metadata4RefDto, SelectMetadataRTComponent } from '@gsp-lcm/metadatart-selector';\r\nimport { ExpressionService, InjectedType, VarEntity } from '@gsp-svc/expression';\r\nimport { FrameworkService } from '@gsp-sys/rtf-common';\r\nimport { Observable, of } from 'rxjs';\r\nimport { AifLocalePipe, BIF_LANG_RESOURCES } from '../aif-ui-common/pipe/aif-ui-common-locale.pipe';\r\nimport { IConditionEntity4Dg } from './entity/IConditionEntity4Dg';\r\nimport { StartConditionService } from './start-condition.service';\r\nimport { DataEntityService } from '@gsp-svc/data-entity-adapter';\r\nimport { EditorTypes } from '@farris/ui-datagrid-editors';\r\nimport { AbstractDatagridComponent } from './abstract-datagrid-component';\r\nimport { LANG_RESOURCES } from './i18n/lang.resource';\r\nimport { ProcessDesignerUIState } from '../../app/process-designer.uistate';\r\n\r\n\r\n@Component({\r\n  selector: 'lib-start-condition',\r\n  templateUrl: './start-condition.component.html',\r\n  styleUrls: ['./start-condition.component.css'],\r\n  providers: [\r\n    { provide: BIF_LANG_RESOURCES, useValue: LANG_RESOURCES },\r\n    AifLocalePipe,\r\n    StartConditionService,\r\n  ]\r\n})\r\nexport class StartConditionComponent extends AbstractDatagridComponent implements OnInit {\r\n  readonly groupIcon = '<i class=\"f-icon f-icon-lookup\"></i>';\r\n\r\n  @Output() closeModal = new EventEmitter<any>();\r\n  @Output() submitModal = new EventEmitter<any>();\r\n\r\n  @Input()\r\n  set value(data: string) {\r\n    data = data ? data : '[]';\r\n    const conditionEntities: ConditionEntity[] = data ? [] : BpmnModelJsonHelper.FromJson(data, ConditionEntity);\r\n    this.designedConditionEntities = conditionEntities.map((item) => {\r\n      const entity: IConditionEntity4Dg = {\r\n        id: item.id,\r\n        isEnabled: item.isEnabled,\r\n        name: item.name,\r\n        type: item.type,\r\n        remarks: item.remarks,\r\n        component: {},\r\n        expression: {},\r\n      };\r\n\r\n      if (entity.type == ConditionType.COMPONENT) {\r\n        const compCondCont = new ComponentConditionContent();\r\n        compCondCont.LoadFromJson(item.content);\r\n\r\n        entity.component.compId = compCondCont.componentId;\r\n        entity.component.compMetadataId = compCondCont.componentMetadataId;\r\n        entity.component.compName = compCondCont.name;\r\n\r\n        entity.displayedContent = entity.component.compName;\r\n      } else if (entity.type == ConditionType.EXPRESSION) {\r\n        const exprContent = new ExpressionConditionContent();\r\n        exprContent.LoadFromJson(item.content);\r\n\r\n        entity.expression.exprContent = exprContent.expressionContent;\r\n        entity.displayedContent = entity.expression.exprContent;\r\n      } else {\r\n\r\n      }\r\n      return entity;\r\n    });\r\n  }\r\n\r\n  @Input() editorParams: {\r\n    bizTypeId?: string;\r\n    voId?: string;\r\n  } = {};\r\n\r\n  @ViewChild('iconSelectFooter') modalFooter: TemplateRef<any>;\r\n  modalConfig = {\r\n    title: '启动条件',\r\n    width: 900,\r\n    height: 400,\r\n    showButtons: true,\r\n    showHeader: false\r\n  };\r\n\r\n  @ViewChild(\"dg\")\r\n  dg: DatagridComponent;\r\n  dgIdField: string = \"id\";\r\n  dgColumns: DataColumn[];\r\n  get dgData(): IConditionEntity4Dg[] {\r\n    return this.designedConditionEntities;\r\n  }\r\n  set dgData(arr: IConditionEntity4Dg[]) {\r\n    this.designedConditionEntities = arr;\r\n  }\r\n  get dgTotal(): number {\r\n    return this.dgData.length || 0;\r\n  }\r\n  designedConditionEntities: Array<IConditionEntity4Dg> = new Array();\r\n\r\n  @ViewChild(\"dgIsEnabledStateCell\")\r\n  dgIsEnabledStateCell: TemplateRef<any>;\r\n  @ViewChild(\"dgOpCell\")\r\n  dgOpCell: TemplateRef<any>;\r\n\r\n  editingRowId: string = null;\r\n  canEdit: any = true;\r\n\r\n  constructor(\r\n    public startConditionService: StartConditionService,\r\n    private designerState: ProcessDesignerUIState,\r\n    public metadata: GSPMetadataRTService,\r\n    public expr: ExpressionService,\r\n    public des: DataEntityService,\r\n    public messager: MessagerService,\r\n    public notify: NotifyService,\r\n    public modal: BsModalService,\r\n    public framework: FrameworkService,\r\n    public router: Router,\r\n    public activatedRoute: ActivatedRoute,\r\n    public loading: LoadingService,\r\n    @Inject(LOCALE_ID) localeId: string,\r\n    public localePipe: AifLocalePipe,\r\n    public cfr: ComponentFactoryResolver,\r\n    public cdf: ChangeDetectorRef,\r\n    public inj: Injector,\r\n  ) {\r\n    super(messager, notify, metadata, modal, localePipe, inj, cfr, cdf)\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.configDgColumns();\r\n  }\r\n\r\n  clickOk() {\r\n    if (this.dg.isEditing() || this.editingRowId != null) {\r\n      return;\r\n    }\r\n    const conditionEntities = this.designedConditionEntities.map((entity) => {\r\n      const item: ConditionEntity = new ConditionEntity();\r\n      item.id = entity.id;\r\n      item.isEnabled = entity.isEnabled;\r\n      item.name = entity.name;\r\n      item.type = entity.type;\r\n      item.remarks = entity.remarks;\r\n\r\n      if (entity.type == ConditionType.COMPONENT) {\r\n        const compCondCont = new ComponentConditionContent();\r\n        compCondCont.name = entity.component.compName;\r\n        compCondCont.componentId = entity.component.compId;\r\n        compCondCont.componentMetadataId = entity.component.compMetadataId;\r\n\r\n        item.content = compCondCont.ConvertToJson();\r\n      } else if (entity.type == ConditionType.EXPRESSION) {\r\n        const exprContent = new ExpressionConditionContent();\r\n        exprContent.expressionContent = entity.expression.exprContent;\r\n\r\n        item.content = exprContent.ConvertToJson();\r\n      } else {\r\n\r\n      }\r\n\r\n      return item;\r\n    });\r\n\r\n    const val = BpmnModelJsonHelper.ToJson(conditionEntities);\r\n    const obj = { value: val, parameters: null };\r\n    this.submitModal.emit(obj);\r\n  }\r\n\r\n  clickCancel() {\r\n    this.closeModal.emit();\r\n  }\r\n\r\n  load(): void {\r\n    throw new Error('Method not implemented.');\r\n  }\r\n\r\n  toolbarClickHandler(args: ResponseToolbarClickEvent) {\r\n    switch (args.id) {\r\n      case 'btn-add':\r\n        this.add();\r\n        break;\r\n      case 'btn-remove':\r\n        this.remove(null);\r\n        break;\r\n    }\r\n  }\r\n\r\n  add() {\r\n    if (this.dg.isEditing() == false || this.dg.isEditing() == null) {\r\n      const newItem = this.startConditionService.createConditionEntity();\r\n      const newEntity: IConditionEntity4Dg = {\r\n        id: newItem.id,\r\n        name: newItem.name,\r\n        type: newItem.type,\r\n        isEnabled: newItem.isEnabled,\r\n        remarks: newItem.remarks,\r\n        component: {},\r\n        expression: {},\r\n      };\r\n\r\n      this.dgData = [...this.dgData, newEntity];\r\n      this.cdf.detectChanges();\r\n      setTimeout(() => {\r\n        this.dg.editRow(newItem.id);\r\n        this.editingRowId = newItem.id;\r\n      }, 0);\r\n    } else {\r\n      this.notify.warning(this.localePipe.instant(\"pleaseEndCurrentRowEditing\"));\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 行删除\r\n   * @param ctx \r\n   */\r\n  remove(evt: Event, ctx?: { rowIndex: number, rowData: { id;[key: string]: any } }) {\r\n    const ids: string[] = [];\r\n    if (ctx == null) {\r\n      // 批量删除\r\n      this.dg.checkeds.forEach(it => {\r\n        ids.push(it.id);\r\n      });\r\n    } else {\r\n      // 行内删除\r\n      ids.push(ctx.rowData.id);\r\n    }\r\n    if (ids.length == 0) {\r\n      this.notify.warning(this.localePipe.instant(\"pleaseSelectOneItemAtLeast\"));\r\n      if (evt != null) {\r\n        evt.stopPropagation();\r\n      }\r\n      return false;\r\n    }\r\n    for (let id of ids) {\r\n      this.dg.deleteRow(id);\r\n    }\r\n    this.dgData = this.dg.data;\r\n    if (this.editingRowId != null) {\r\n      if (ids.includes(this.editingRowId)) {\r\n        this.editingRowId = null;\r\n      } else {\r\n        this.dg.editRow(this.editingRowId);\r\n      }\r\n    }\r\n    this.cdf.detectChanges();\r\n    if (evt != null) {\r\n      evt.stopPropagation();\r\n    }\r\n    return false;\r\n  }\r\n\r\n  selectContent(e: { instance, form, formControl, $event }) {\r\n    switch (e.form.value.type) {\r\n      case ConditionType.COMPONENT:\r\n        this.selectCommonComp(e);\r\n        break;\r\n      case ConditionType.EXPRESSION:\r\n        this.showExpression(e);\r\n        break;\r\n      // case ConditionType.FULL_EXPRESSION:\r\n      //   this.showExpression(e);\r\n      //   break;\r\n      // case ConditionType.INCREMENTAL_EXPRESSION:\r\n      //   this.showExpression(e);\r\n      //   break;\r\n      case ConditionType.VOACTION:\r\n        this.selectVOAction(e);\r\n        break;\r\n    }\r\n  }\r\n\r\n  public selectCommonComp(e: { instance, form, formControl, $event }): void {\r\n    const compFactory = this.cfr.resolveComponentFactory(SelectMetadataRTComponent);\r\n    const compRef = compFactory.create(this.inj);\r\n    compRef.instance.typeList = \"CommonComponent\";\r\n    // compRef.instance.boId = `${this.processContent.upBillBoId},${this.processContent.downBillBoId}`;\r\n    compRef.instance.selectedMetadata.subscribe(\r\n      (metadata4RefDto: Metadata4RefDto) => {\r\n        const content = new ComponentConditionContent();\r\n\r\n        const metadata = metadata4RefDto.metadata;\r\n        const entity: IConditionEntity4Dg = e.form.bindingData;\r\n        entity.component.compName = metadata.name;\r\n        entity.component.compMetadataId = metadata.id;\r\n        const metadataContent = JSON.parse(metadata.content);\r\n        entity.component.compId = metadataContent.id || metadataContent.Id || metadataContent.ID || metadata.id;\r\n        entity.displayedContent = entity.component.compName;\r\n\r\n        e.formControl.setValue(entity.displayedContent);\r\n        e.instance.cd.detectChanges();\r\n      }\r\n    );\r\n    const modalConfig = {\r\n      title: this.localePipe.instant(\"commonComponentMetadataSelector\"),\r\n      width: 930,\r\n      height: 573,\r\n      showButtons: false\r\n    };\r\n    const dialog = this.modal.show(compRef, modalConfig);\r\n    compRef.instance.closeModalEmitter.subscribe($event => dialog.close());\r\n  }\r\n\r\n  public selectVOAction(e: { instance, form, formControl, $event }): void {\r\n\r\n  }\r\n\r\n  public showExpression(e: { instance, form, formControl, $event }): void {\r\n    // this.expr.clearContext();\r\n    const context = new Array<VarEntity>();\r\n    if (this.designerState.subActivityContext.length > 0) {\r\n      for (const variable of this.designerState.subActivityContext) {\r\n        if (!context.some(c => c.key === variable.key)) {\r\n          context.push(variable);\r\n        }\r\n      }\r\n    }\r\n    if (context.length > 0) {\r\n      for (const v of context) {\r\n        this.expr.addContext(v);\r\n      }\r\n    }\r\n\r\n    this.expr.addExpressionText(e.formControl.value);\r\n    this.configExpressionExpendFuncs();\r\n\r\n    let schema$: Observable<any> = this.des.getSchemaById(this.editorParams.voId);\r\n    schema$.subscribe(\r\n      (schema) => {\r\n        this.expr.addNewSchema(schema.name, schema);\r\n        this.expr.addInjectedEntity(schema.entityTypes[0].code, schema.name, schema.entityTypes[0].code, InjectedType.EntityType);\r\n\r\n        this.expr.buildExpression(!this.canEdit).then(\r\n          expressioninfo => {\r\n            const content: ExpressionConditionContent = new ExpressionConditionContent();\r\n\r\n            let temp: any = expressioninfo;\r\n            const entity: IConditionEntity4Dg = e.form.bindingData;\r\n            entity.expression.exprContent = temp;\r\n            entity.displayedContent = entity.expression.exprContent;\r\n\r\n            e.formControl.setValue(entity.displayedContent);\r\n            e.instance.cd.detectChanges();\r\n            //点击确定后，去除表达式里面的新增的上下文变量\r\n            if(context.length > 0) {\r\n              this.expr.exprEntity.contextEntities = this.expr.exprEntity.contextEntities.filter(x => !context.some(y => y.key === x.key));\r\n            }\r\n          }\r\n        );\r\n      }\r\n    );\r\n  }\r\n\r\n  clearContent(e: { instance, form, formControl, $event }) {\r\n    const entity: IConditionEntity4Dg = e.form.bindingData;\r\n    entity.displayedContent = null;\r\n\r\n    //构件\r\n    entity.component.compName = null;\r\n    entity.component.compMetadataId = null;\r\n    entity.component.compId = null;\r\n\r\n    //表达式\r\n    entity.expression.exprContent = null;\r\n\r\n    //VO动作\r\n\r\n    e.formControl.setValue(null);\r\n    e.instance.cd.detectChanges();\r\n  }\r\n\r\n  configDgColumns() {\r\n    this.dgColumns = [\r\n      // { field: 'id', title: this.localePipeService.instant(\"id\"), width: 160 },\r\n      {\r\n        field: 'isEnabled', title: this.localePipe.instant(\"isEnabled\"), width: 100, template: this.dgIsEnabledStateCell,\r\n      },\r\n      {\r\n        field: 'type', title: this.localePipe.instant(\"type\"), width: 120,\r\n        editor: {\r\n          type: EditorTypes.SELECT,\r\n          options: {\r\n            idField: \"value\",\r\n            valueField: 'value',\r\n            textField: 'text',\r\n            data: [\r\n              // { value: ConditionType.VOACTION, text: this.localePipeService.instant(\"billAction\") },\r\n              // { value: ConditionType.EXPRESSION, text: this.localePipe.instant(\"expression\") },\r\n              { value: ConditionType.COMPONENT, text: this.localePipe.instant(\"commonComponent\") },\r\n              // { value: ConditionType.FULL_EXPRESSION, text: this.localePipe.instant(\"fullExpression\") },\r\n              // { value: ConditionType.INCREMENTAL_EXPRESSION, text: this.localePipe.instant(\"incrementalExpression\") },\r\n            ]\r\n          },\r\n          validators: [\r\n            { type: 'required', messager: this.localePipe.instant(\"typeMustNotBeNull\") },\r\n          ]\r\n        },\r\n        validators: [\r\n          { type: 'required' },\r\n        ],\r\n        formatter: (value: ConditionType, rowData: any, rowIndex: any) => {\r\n          switch (value) {\r\n            case ConditionType.COMPONENT:\r\n              return this.localePipe.instant(\"commonComponent\");\r\n            case ConditionType.EXPRESSION:\r\n              return this.localePipe.instant(\"expression\");\r\n            // case ConditionType.FULL_EXPRESSION:\r\n            //   return this.localePipe.instant(\"fullExpression\");\r\n            // case ConditionType.INCREMENTAL_EXPRESSION:\r\n            //   return this.localePipe.instant(\"incrementalExpression\");\r\n            case ConditionType.VOACTION:\r\n              return this.localePipe.instant(\"billAction\");\r\n            default:\r\n              return \"Unknown\";\r\n          }\r\n        }\r\n      },\r\n      {\r\n        field: \"displayedContent\", title: this.localePipe.instant(\"content\"), width: 200,\r\n        editor: {\r\n          type: EditorTypes.INPUTGROUP,\r\n          options: {\r\n            groupText: this.groupIcon,\r\n            editable: false,\r\n            clickHandle: (e: { instance, form, formControl, $event }) => {\r\n              this.selectContent(e);\r\n            },\r\n            clear: (e: { instance, form, formControl, $event }) => {\r\n              this.clearContent(e);\r\n            },\r\n          },\r\n          validators: [\r\n            { type: 'required', messager: this.localePipe.instant(\"contentMustNotBeNull\") }\r\n          ]\r\n        },\r\n        validators: [\r\n          { type: 'required' },\r\n        ],\r\n      },\r\n      {\r\n        field: 'remarks', title: this.localePipe.instant(\"description\"), width: 200,\r\n        editor: {\r\n          type: EditorTypes.TEXTAREA, options: {},\r\n        }\r\n      },\r\n      { field: null, title: this.localePipe.instant(\"operation\"), width: 250, template: this.dgOpCell, halign: 'center', align: 'center' },\r\n    ];\r\n  }\r\n\r\n  beforeEdit = (...args) => {\r\n    // console.log('Before Edit', args);\r\n    return of(true);\r\n  }\r\n\r\n  beginEdit(param: { rowIndex: number, rowData: any, column: any, gridInstance: DatagridComponent }) {\r\n    // console.log('Begin Edit', param);\r\n    this.editingRowId = param.rowData.id;\r\n    const editors = param.gridInstance.getEditors();\r\n    const select = editors[0];\r\n    select.instance.formControl.valueChanges.subscribe((val) => {\r\n      if (select.instance.dr.form.bindingData.type != val) {\r\n        select.instance.group.bindingData.displayedContent = null;\r\n        select.instance.group.controls.displayedContent.setValue(null);\r\n\r\n        select.instance.group.bindingData.remarks = null;\r\n        select.instance.group.controls.remarks.setValue(null);\r\n        select.instance.dr.cd.detectChanges();\r\n      }\r\n    });\r\n  }\r\n\r\n  afterEdit = (rowIndex, rowData: IConditionEntity4Dg, ...args) => {\r\n    if (rowData.component && rowData.component.compMetadataId) {\r\n      return of(true);\r\n    } else if (rowData.expression && rowData.expression.exprContent) {\r\n      return of(true);\r\n    } else {\r\n      this.notify.warning(this.localePipe.instant(\"eventRouterConditionsContentCantBeEmpty\"));\r\n      return of(false);\r\n    }\r\n  }\r\n\r\n  endEdit(...args) {\r\n    // console.log('End Edit', args);\r\n    this.editingRowId = null;\r\n  }\r\n\r\n  cancelEdited(...args) {\r\n    // console.log('取消编辑', args);\r\n    this.editingRowId = null;\r\n  }\r\n\r\n  public configExpressionExpendFuncs() {\r\n    // let changeDetails: VarEntity =\r\n    // {\r\n    //   key: \"changeDetails\",\r\n    //   name: \"业务实体变更集列表\",\r\n    //   description: \"业务实体变更集列表\"\r\n    // }\r\n    // this.expr.addContext(changeDetails);\r\n  }\r\n}\r\n\r\nexport class StartConditionConverter implements TypeConverter {\r\n\r\n  constructor() { }\r\n\r\n  convertTo(data: any): string {\r\n    if (data && data.StartCondition) {\r\n      return '（已设置）';\r\n    }\r\n    return '（未设置）';\r\n  }\r\n}","export enum ProcessPropertyKeys {\r\n    Id = \"Id\",\r\n    Name = \"Name\",\r\n    NameLanguage = \"NameLanguage\",\r\n    ClrTypeID = \"ClrTypeID\",\r\n    Key = \"Key\",\r\n    /**\r\n     * 分支条件\r\n     */\r\n    ConditionExpression = 'ConditionExpression',\r\n    /**\r\n     * 流程备注\r\n     */\r\n    wf_TitleExpression = 'wf_TitleExpression',\r\n    /**\r\n     * 默认分支\r\n     */\r\n    Default = 'Default',\r\n    startMode = \"startMode\",\r\n    wf_ExecuteForms_PC = \"wf_ExecuteForms_PC\",\r\n    wf_ExecuteForms_Mobile = \"wf_ExecuteForms_Mobile\",\r\n    wf_Component = \"wf_Component\",\r\n    processVariables = \"processVariables\",\r\n    wf_CustomizeAction = \"wf_CustomizeAction\",\r\n    enablePriority = \"enablePriority\",\r\n    imageSettings = \"imageSettings\",\r\n    timeLimitControl = \"timeLimitControl\",\r\n    messageNotice = \"messageNotice\",\r\n    allowPreAssign = \"allowPreAssign\",\r\n    EntryForm = \"EntryForm\",\r\n    DisplayTerminal = \"DisplayTerminal\",\r\n    StartCondition = \"StartCondition\",\r\n    /**\r\n     * 整单撤回审核中单据\r\n     */\r\n    enableWholeOrderRetrieve = 'enableWholeOrderRetrieve',\r\n}","import { Injectable } from '@angular/core';\r\nimport { ProcessDesignerUIState } from './process-designer.uistate';\r\nimport { PropertyEntity, ElementPropertyConfig } from '@farris/ide-property-panel';\r\nimport { EntryFormEditorComponent, FlowFormConverter } from '../views/entryForm/entry-form-editor.component';\r\nimport {\r\n  ActivityComponentComponent,\r\n  ActivityComponentConverter\r\n} from '../views/activity-component/activity-component.component';\r\nimport { ExecuteFormsComponent, ExecuteFormsConverter } from '../views/execute-forms/execute-forms.component';\r\nimport { TitleExpressionComponent, TitleExpressionConverter } from '../views/title-expression/title-expression.component';\r\nimport { CustomizeActionComponent, CustomizeActionConverter } from '../views/customize-action/customize-action.component';\r\nimport {\r\n  ProcessVariablesComponent,\r\n  ProcessVariablesConverter\r\n} from '../views/process-variables/process-variables.component';\r\nimport {\r\n  TimeLimitControlComponent,\r\n  TimeLimitControlConverter\r\n} from '../views/time-limit-control/time-limit-control.component';\r\nimport { MessageNoticeComponent, MessageNoticeConverter } from '../views/message-notice/message-notice.component';\r\nimport { ExtendPropertyComponent, ExtendPropertyConverter } from '../views/extend-property/extend-property.component';\r\nimport { ImageSetComponent, ImageSetConverter } from '../views/image-set/image-set.component';\r\nimport { StartConditionComponent, StartConditionConverter } from '../views/start-condition/start-condition.component';\r\nimport { ProcessPropertyKeys } from '../designer/wf-cell/property-keys/ProcessPropertyKeys';\r\nimport { WfLocalePipe } from '../i18n/pipe/wf-process-editor-locale.pipe';\r\n\r\n@Injectable()\r\n\r\nexport class BpmnProcessViewModel {\r\n  constructor(\r\n    private uiState: ProcessDesignerUIState,\r\n    private localPipe: WfLocalePipe\r\n  ) {\r\n  }\r\n\r\n  setProcessProperty(obj: any) {\r\n    this.uiState.propertyData = obj.propertyData;\r\n    this.uiState.ProcessVariables = this.uiState.propertyData[ProcessPropertyKeys.processVariables];\r\n    this.uiState.propertyConfig = this.setProcessConfig(obj.propertyConfig);\r\n  }\r\n\r\n  setProcessConfig(obj: any[]): ElementPropertyConfig[] {\r\n    const propertyConfig: ElementPropertyConfig[] = [];\r\n    if (obj) {\r\n      obj.forEach((element: ElementPropertyConfig) => {\r\n        this.setProcessEntity(element.properties);\r\n        propertyConfig.push(element);\r\n      });\r\n    }\r\n    return propertyConfig;\r\n  }\r\n\r\n  private setProcessEntity(obj: PropertyEntity[]) {\r\n    if (obj.length > 0) {\r\n      obj.forEach((item: PropertyEntity) => {\r\n        switch (item.propertyID) {\r\n          case ProcessPropertyKeys.Key: // 标识\r\n            break;\r\n          case ProcessPropertyKeys.EntryForm: // 流程分类\r\n            item.editor = EntryFormEditorComponent;\r\n            item.converter = new FlowFormConverter();\r\n            // item.editorParams = {\r\n            //     flowForms: [this.uiState.flowFormInfo.flowForm]\r\n            // };\r\n            break;\r\n          case ProcessPropertyKeys.wf_Component:\r\n            item.editor = ActivityComponentComponent;\r\n            item.converter = new ActivityComponentConverter(this.localPipe);\r\n            item.editorParams = {\r\n              location: 'process'\r\n            };\r\n            break;\r\n          case ProcessPropertyKeys.wf_ExecuteForms_PC:\r\n            item.editor = ExecuteFormsComponent;\r\n            const params = {\r\n              location: 'process',\r\n              tab: 'web'\r\n            }\r\n            item.converter = new ExecuteFormsConverter(params, this.localPipe);\r\n            item.editorParams = params;\r\n            break;\r\n          case ProcessPropertyKeys.wf_ExecuteForms_Mobile:\r\n            item.editor = ExecuteFormsComponent;\r\n            const editorParams = {\r\n              location: 'process',\r\n              tab: 'mobile'\r\n            };\r\n            item.converter = new ExecuteFormsConverter(editorParams, this.localPipe);\r\n            item.editorParams = editorParams;\r\n            break;\r\n          case ProcessPropertyKeys.wf_TitleExpression:\r\n            item.editor = TitleExpressionComponent;\r\n            item.converter = new TitleExpressionConverter(this.localPipe);\r\n            break;\r\n          case ProcessPropertyKeys.allowPreAssign:\r\n            item.iterator = this.uiState.boolIterator;\r\n            break;\r\n          case ProcessPropertyKeys.enablePriority:\r\n            item.iterator = this.uiState.boolIterator;\r\n            break;\r\n          case ProcessPropertyKeys.enableWholeOrderRetrieve:\r\n            item.iterator = this.uiState.boolIterator;\r\n            break;\r\n          case ProcessPropertyKeys.startMode:\r\n            item.iterator = this.uiState.startModeIterator;\r\n            break;\r\n          case ProcessPropertyKeys.DisplayTerminal:\r\n            item.iterator = this.uiState.displayTerminal;\r\n            break;\r\n          case ProcessPropertyKeys.wf_CustomizeAction:\r\n            item.editor = CustomizeActionComponent;\r\n            item.converter = new CustomizeActionConverter(this.localPipe);\r\n            break;\r\n          case ProcessPropertyKeys.processVariables:\r\n            item.editor = ProcessVariablesComponent;\r\n            item.converter = new ProcessVariablesConverter(this.localPipe);\r\n            break;\r\n          case ProcessPropertyKeys.timeLimitControl:\r\n            item.editor = TimeLimitControlComponent;\r\n            item.converter = new TimeLimitControlConverter(this.localPipe);\r\n            item.editorParams = {\r\n              location: 'process'\r\n            };\r\n            break;\r\n          case ProcessPropertyKeys.messageNotice:\r\n            item.editor = MessageNoticeComponent;\r\n            item.converter = new MessageNoticeConverter(this.localPipe);\r\n            item.editorParams = {\r\n              location: 'process'\r\n            };\r\n            break;\r\n          case ProcessPropertyKeys.imageSettings:\r\n            item.editor = ImageSetComponent;\r\n            item.converter = new ImageSetConverter(this.localPipe);\r\n            break;\r\n          case ProcessPropertyKeys.StartCondition:\r\n            item.editor = StartConditionComponent;\r\n            item.editorParams = {};\r\n            item.converter = new StartConditionConverter();\r\n            break;\r\n          default:\r\n            item.editor = ExtendPropertyComponent;\r\n            item.converter = new ExtendPropertyConverter(this.localPipe);\r\n            break;\r\n        }\r\n      });\r\n    }\r\n  }\r\n}\r\n","export class ApprovalItemEntity {\r\n    value: string;\r\n    text: string;\r\n    workFlowAction: string;\r\n    isDefault = false;\r\n    commentNecessary = false;\r\n    certification = false;\r\n    attachmentNecessary = false;\r\n    signatureNecessary = false;\r\n    defaultComment: string;\r\n\r\n    constructor(value?: string, text?: string, wfAction?: string) {\r\n        this.value = value;\r\n        this.text = text;\r\n        this.workFlowAction = wfAction;\r\n    }\r\n}\r\n","export class SignRuleEntity{\r\n    id: string;\r\n    conclusionValue: string;\r\n    conclusionName: string;\r\n    calculateType?: string; // 计算方式\r\n    conditionValue?: string; // 满足所有条件值\r\n    waitAllVotes?: boolean; // 是否等待所有选票\r\n    completionCondition: string;\r\n}\r\n","import { Component, OnInit, HostBinding, Output, EventEmitter, Input, ViewChild, TemplateRef, Optional, ChangeDetectorRef, Inject, LOCALE_ID } from '@angular/core';\r\nimport { TypeConverter } from '@farris/ide-property-panel';\r\nimport { FormBuilder } from '@angular/forms';\r\nimport { SignRuleEntity } from './entites/sign-rule.entity';\r\nimport { DialogComponent } from '@farris/ui-dialog';\r\nimport { ExprEditMode, ExpressionService, VarEntity } from '@gsp-svc/expression';\r\nimport { MessagerService } from '@farris/ui-messager';\r\nimport { ProcessDesignerUIState } from '../../app/process-designer.uistate';\r\nimport { DataColumn, DatagridComponent } from '@farris/ui-datagrid';\r\nimport { ProcessDeUtil } from '../../domain/process-de-util';\r\nimport { EditorTypes } from '@farris/ui-datagrid-editors';\r\nimport { of } from 'rxjs';\r\nimport { WF_LANG_RESOURCES, WfLocalePipe } from '../../i18n/pipe/wf-process-editor-locale.pipe';\r\nimport { WF_PROCESS_EDITOR_LANG_RESOURCES } from '../../i18n/assets/lang.resource';\r\nimport { BpmnModel, BpmnModelHelper } from '@edp-pmf/bpmn-model';\r\nimport { Condition, CounterSignRule } from '@gsp-wf/wf-process-model';\r\n\r\n@Component({\r\n  selector: 'app-sign-rule',\r\n  templateUrl: './sign-rule.component.html',\r\n  styleUrls: ['./sign-rule.component.css'],\r\n  providers: [\r\n     WfLocalePipe,\r\n  ]\r\n})\r\nexport class SignRuleComponent implements OnInit {\r\n  @HostBinding('class')\r\n  cls = 'farris-main-area flex-column';\r\n  @Output() closeModal = new EventEmitter<any>();\r\n  @Output() submitModal = new EventEmitter<any>();\r\n\r\n\r\n  //会签规则打开页面\r\n  @Input()\r\n  set value(rules: any[]) {\r\n    if (rules && rules.length > 0) {\r\n      for (const rule of rules) {\r\n        const val = new SignRuleEntity();\r\n        val.id = ProcessDeUtil.GenerateElementId();\r\n        val.conclusionValue = rule.ConclusionValue;\r\n        val.conclusionName = rule.ConclusionName;\r\n        val.calculateType = rule.CalculateType ? rule.CalculateType : 'null';\r\n        val.conditionValue = rule.ConditionValue ? rule.ConditionValue : 0;\r\n        val.waitAllVotes = rule.WaitAllVotes ? rule.WaitAllVotes : false;\r\n        val.completionCondition = rule.CompletionCondition ? rule.CompletionCondition._value : null;\r\n        this.data.push(val);\r\n      }\r\n    } else { // 如果模型上没有会签规则，自动带入所有的审批选项\r\n      this.deleteRow();\r\n    }\r\n  }\r\n\r\n  //多实例打开完成规则页面\r\n  @Input()\r\n  set value1(rules: any[]) {\r\n    this.editCondition = true;\r\n    if (rules && rules.length > 0) {\r\n      for (const rule of rules) {\r\n        const val = new SignRuleEntity();\r\n        val.id = BpmnModelHelper.GenerateElementId();\r\n        val.conclusionValue = rule.ConclusionValue;\r\n        // val.conclusionName = rule.conclusionName;\r\n        val.calculateType = rule.CalculateType ? rule.CalculateType : 'null';\r\n        val.conditionValue = rule.ConditionValue ? rule.ConditionValue : 0;\r\n        val.waitAllVotes = rule.WaitAllVotes ? rule.WaitAllVotes : false;\r\n        val.completionCondition = rule.CompletionCondition ? rule.CompletionCondition.Value : null;\r\n        this.data.push(val);\r\n      }\r\n      this.data = this.setName1(this.data);\r\n    } else { // 如果模型上没有会签规则，自动带入所有的审批选项\r\n      this.deleteRow1();\r\n    }\r\n  }\r\n  @Input() editorParams: any = {};\r\n  @ViewChild('iconSelectFooter') modalFooter: TemplateRef<any>;\r\n  @ViewChild('iconSelectFooter1') modalFooter1: TemplateRef<any>;\r\n  @ViewChild('approvalTable') apvlItemsGrid: DatagridComponent;\r\n  @ViewChild('approvalItemDialog') apvlItemDialog: DialogComponent;\r\n  @ViewChild('grid') grid: DatagridComponent;\r\n\r\n  modalConfig = {\r\n    title: this.localePipe.transform('component.signRule.countersignRules'),\r\n    width: 800,\r\n    height: 520,\r\n    showButtons: true\r\n  };\r\n  editCondition: boolean = false;\r\n  data: SignRuleEntity[] = [];\r\n  calculationMethods: any[] = [\r\n    { text: this.localePipe.transform('component.signRule.byNumber'), value: 'byNumber' },\r\n    { text: this.localePipe.transform('component.signRule.byProportion'), value: 'byProportion' },\r\n    { text: this.localePipe.transform('component.signRule.customConditions'), value: 'null' },\r\n  ];\r\n  counterSignVariables: VarEntity[] = [];\r\n\r\n  bpmnModel: BpmnModel = this.designerUIState.bpmnModel;\r\n  /******* 审批项帮助参数 *********************************************************/\r\n  approvalCols = [{ title: this.localePipe.transform('component.signRule.value'), field: 'value', width: 80 },\r\n  { title: this.localePipe.transform('component.signRule.text'), field: 'text', width: 90 }];\r\n  approvalItems: any[] = [];\r\n\r\n  approvalItems1: any[] = [\r\n    { value: 'Forward',  text: this.localePipe.transform('multiInstanceLoopCharacteristics.completionConditionRulesList.forward') },\r\n    { value: 'Backward', text: this.localePipe.transform('multiInstanceLoopCharacteristics.completionConditionRulesList.backward') },\r\n    { value: 'Abort',  text: this.localePipe.transform('multiInstanceLoopCharacteristics.completionConditionRulesList.abort') }\r\n  ];\r\n/*********************************** */\r\n  columns = [\r\n    { field: 'conclusionName', width: 25, title: this.localePipe.transform('component.signRule.conclusionName') },\r\n    { field: 'conclusionValue', width: 25, title: this.localePipe.transform('component.signRule.conclusionValue') },\r\n    { field: 'calculateType', width: 40, title: this.localePipe.transform('component.signRule.calculateType'),\r\n      formatter: {type: 'enum',options: { valueField: 'value', textField: 'text', data: this.calculationMethods }},\r\n      editor: {type: EditorTypes.COMBOLIST,options: { valueField: 'value', textField: 'text', data: this.calculationMethods, idField: 'value', panelHeight: 'auto' }}\r\n    },\r\n    { field: 'conditionValue', width: 25, title: this.localePipe.transform('component.signRule.conditionValue'),\r\n      editor: { type: EditorTypes.NUMBERBOX, options: {} },\r\n      formatter:{type: 'number', options: { precision: 0, min: 0 } }\r\n    },\r\n    { field: 'waitAllVotes', width: 35, title: this.localePipe.transform('component.signRule.waitAllVotes'),\r\n      editor: { type: EditorTypes.SWITCH, options: {} },\r\n      formatter: { type: 'boolean', options: { trueText: this.localePipe.transform('component.signRule.yes'), falseText: this.localePipe.transform('component.signRule.no') }}\r\n    },\r\n    { field: 'completionCondition', width: 50, title: this.localePipe.transform('component.signRule.customConditions'),\r\n      editor: {\r\n        type: 'input-group',\r\n        options: {\r\n          groupText: '<i class=\"f-icon f-icon-lookup\"></i>',\r\n          editable: false,\r\n          clickHandle: (e) => {\r\n            e.formControl.setValue(e.instance.value ? e.instance.value : '');\r\n            this.editConditon(e);\r\n          },\r\n          clear: (e) => {\r\n            console.log('clear', e);\r\n          }\r\n        }\r\n      }\r\n    }\r\n  ];\r\n\r\n  constructor(\r\n    private formBuilder: FormBuilder,\r\n    private message: MessagerService,\r\n    private exprService: ExpressionService,\r\n    private designerUIState: ProcessDesignerUIState,\r\n    @Optional() private cdr: ChangeDetectorRef,\r\n    @Inject(LOCALE_ID) private localeId: string,\r\n    @Inject(WF_LANG_RESOURCES) private resources: any,\r\n    @Optional() private localePipe: WfLocalePipe,\r\n  ) {\r\n    this.localePipe = this.localePipe || new WfLocalePipe(localeId, resources);\r\n   }\r\n\r\n  ngOnInit() {\r\n    this.counterSignVariables = this.designerUIState.counterSignVariables || [];\r\n    this.approvalItems = this.designerUIState.approvalItems || [];\r\n  }\r\n  // 重置动作\r\n  deleteRow() {\r\n    this.data = [];\r\n    const ruleItems = this.designerUIState.approvalItems || [];\r\n    if (ruleItems && ruleItems.length > 0) {\r\n      for (const ruleItem of ruleItems) {\r\n        const val = new SignRuleEntity();\r\n        if (ruleItem.value === 'Pass') {\r\n          val.id = ProcessDeUtil.GenerateElementId();\r\n          val.conclusionValue = ruleItem.value;\r\n          val.conclusionName = ruleItem.text;\r\n          val.calculateType = 'byProportion';\r\n          val.conditionValue = '100';\r\n          val.waitAllVotes = true;\r\n        } else if (ruleItem.value === 'Back') {\r\n          val.id = ProcessDeUtil.GenerateElementId();\r\n          val.conclusionValue = ruleItem.value;\r\n          val.conclusionName = ruleItem.text;\r\n          val.calculateType = 'byNumber';\r\n          val.conditionValue = '1';\r\n          val.waitAllVotes = true;\r\n        } else {\r\n          val.id = ProcessDeUtil.GenerateElementId();\r\n          val.conclusionValue = ruleItem.value;\r\n          val.conclusionName = ruleItem.text;\r\n          val.calculateType = 'null';\r\n          val.conditionValue = '0';\r\n          val.waitAllVotes = true;\r\n        }\r\n        this.data.push(val);\r\n      }\r\n    }\r\n  }\r\n\r\n    // 重置动作\r\n    deleteRow1() {\r\n      this.data = [];\r\n      if (this.approvalItems1 && this.approvalItems1.length > 0) {\r\n        for (const ruleItem of this.approvalItems1) {\r\n          const val = new SignRuleEntity();\r\n          if (ruleItem.value === 'Forward') {\r\n            val.id = ProcessDeUtil.GenerateElementId();\r\n            val.conclusionValue = ruleItem.value;\r\n            val.conclusionName = ruleItem.text;\r\n            val.calculateType = 'byProportion';\r\n            val.conditionValue = '100';\r\n            val.waitAllVotes = true;\r\n          } else if (ruleItem.value === 'Backward' || ruleItem.value === 'Abort') {\r\n            val.id = ProcessDeUtil.GenerateElementId();\r\n            val.conclusionValue = ruleItem.value;\r\n            val.conclusionName = ruleItem.text;\r\n            val.calculateType = 'byNumber';\r\n            val.conditionValue = '1';\r\n            val.waitAllVotes = true;\r\n          } else {\r\n            val.id = ProcessDeUtil.GenerateElementId();\r\n            val.conclusionValue = ruleItem.value;\r\n            val.conclusionName = ruleItem.text;\r\n            val.calculateType = 'null';\r\n            val.conditionValue = '0';\r\n            val.waitAllVotes = true;\r\n          }\r\n          this.data.push(val);\r\n        }\r\n      }\r\n    }\r\n\r\n     // 给个名字\r\n     setName1(signRuleEntity:SignRuleEntity[]) {\r\n      if (signRuleEntity && signRuleEntity.length > 0) {\r\n        for (var i = 0; i < signRuleEntity.length;i++) {\r\n          if (signRuleEntity[i].conclusionValue === 'Forward') {\r\n            signRuleEntity[i].conclusionName = this.localePipe.transform('multiInstanceLoopCharacteristics.completionConditionRulesList.forward');\r\n          } else if (signRuleEntity[i].conclusionValue === 'Backward') {\r\n            signRuleEntity[i].conclusionName = this.localePipe.transform('multiInstanceLoopCharacteristics.completionConditionRulesList.backward');\r\n          } else if (signRuleEntity[i].conclusionValue === 'Abort'){\r\n            signRuleEntity[i].conclusionName = this.localePipe.transform('multiInstanceLoopCharacteristics.completionConditionRulesList.abort');\r\n          }\r\n        }\r\n      }\r\n      return signRuleEntity;\r\n    }\r\n\r\n  clickOK() {\r\n    this.grid.endCellEdit();\r\n    if (this.data.length === 0) {\r\n      this.message.warning(this.localePipe.transform('component.signRule.notEmpty'));\r\n    } else {\r\n      const object = { value: this.data, parameters: null };\r\n      this.submitModal.emit(object);\r\n    }\r\n  }\r\n\r\n  clickOK1() {\r\n    this.grid.endCellEdit();\r\n    if (this.data.length === 0) {\r\n      this.message.warning(this.localePipe.transform('component.signRule.notEmpty'));\r\n    } else {\r\n      let counterSignRules = new Array<CounterSignRule>();\r\n      this.data.forEach(d => {\r\n        let counterSignRule = new CounterSignRule(this.bpmnModel);\r\n        counterSignRule.CalculateType = d.calculateType;\r\n        counterSignRule.ConclusionValue = d.conclusionValue;\r\n        counterSignRule.ConditionValue = d.conditionValue\r\n        counterSignRule.WaitAllVotes = d.waitAllVotes;\r\n        counterSignRule.CompletionCondition = new Condition(this.bpmnModel);\r\n        counterSignRule.CompletionCondition.Value = d.completionCondition;\r\n        counterSignRules.push(counterSignRule);\r\n      })\r\n      // let counterSignRules = new CounterSignRule(this.bpmnModel);\r\n\r\n      this.submitModal.emit(counterSignRules);\r\n    }\r\n  }\r\n\r\n  clickCancel() {\r\n    this.closeModal.emit();\r\n  }\r\n\r\n  editConditon(e: any) {\r\n    // this.exprService.clearContext();\r\n    const context = new Array();\r\n    if(this.editCondition) {\r\n      if (this.designerUIState.multiCounterSignVariables.length > 0) {\r\n        for (const variable of this.designerUIState.multiCounterSignVariables) {\r\n          if (!context.some(c => c.key === variable.key)) {\r\n            context.push(variable);\r\n          }\r\n        }\r\n      }\r\n      if (context.length > 0) {\r\n        for (const v of context) {\r\n          this.exprService.addContext(v);\r\n        }\r\n      }\r\n    }else {\r\n      if (this.counterSignVariables && this.counterSignVariables.length > 0) {\r\n        for (const variable of this.counterSignVariables) {\r\n          if (!context.some(c => c.key === variable.key)) {\r\n            context.push(variable);\r\n          }\r\n        }\r\n      }\r\n      if (this.designerUIState.subActivityContext.length > 0) {\r\n        for (const variable of this.designerUIState.subActivityContext) {\r\n          if (!context.some(c => c.key === variable.key)) {\r\n            context.push(variable);\r\n          }\r\n        }\r\n      }\r\n      if (context.length > 0) {\r\n        for (const v of context) {\r\n          this.exprService.addContext(v);\r\n        }\r\n      }\r\n    }    \r\n    this.exprService.setEditPattern(ExprEditMode.Advanced); // 表达式展现模式：默认高级版（会签规则需要上下文变量）\r\n    this.exprService.addExpressionText(e.instance.value);\r\n    this.exprService.buildExpression().then((cond: string) => {\r\n      e.formControl.setValue(cond);\r\n      e.instance.cd.detectChanges();\r\n      //点击确定后，去除表达式里面的新增的上下文变量\r\n      if(context.length > 0) {\r\n        this.exprService.exprEntity.contextEntities = this.exprService.exprEntity.contextEntities.filter(x => !context.some(y => y.key === x.key));\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * 选中审批项\r\n   */\r\n  approvalSelect() {\r\n    const selections: any[] = this.apvlItemsGrid.checkeds;\r\n    if (selections && selections.length > 0) {\r\n      for (const selection of selections) {\r\n        const signRule = new SignRuleEntity();\r\n        signRule.id = ProcessDeUtil.GenerateElementId();\r\n        signRule.conclusionValue = selection.data.value;\r\n        signRule.conclusionName = selection.data.text;\r\n        this.data.push(signRule);\r\n      }\r\n      this.grid.loadData(this.data);\r\n      this.apvlItemDialog.close();\r\n    } else {\r\n      this.message.info(this.localePipe.transform('component.signRule.pleaseSelect'));\r\n    }\r\n  }\r\n\r\n\r\n  preValue: SignRuleEntity;\r\n  curValue: SignRuleEntity;\r\n/**\r\n * 结束编辑前事件\r\n */\r\n  afterEdit = (rowIndex: number, rowData: any, column?: DataColumn) => {\r\n    this.preValue = JSON.parse(JSON.stringify(rowData));\r\n    return of(true);\r\n  }\r\n\r\n  endEdit(e: any) {\r\n    this.curValue = e.rowData;\r\n    // 自定义会签规则和预置会签规则互斥\r\n    if(this.preValue.completionCondition !== this.curValue.completionCondition && \r\n      !(this.isEmpty(this.preValue.completionCondition) && this.isEmpty(this.curValue.completionCondition))) {\r\n      this.data[e.rowIndex].calculateType = 'null',\r\n      this.data[e.rowIndex].conditionValue = '0';\r\n      this.data[e.rowIndex].waitAllVotes = false;\r\n    } else if (this.preValue.calculateType !== this.curValue.calculateType ||\r\n      this.preValue.conditionValue !== this.curValue.conditionValue ||\r\n      this.preValue.waitAllVotes !== this.curValue.waitAllVotes) {\r\n        this.data[e.rowIndex].completionCondition = null;\r\n    }\r\n\r\n    if(e.column.field === 'conditionValue' && this.data[e.rowIndex].calculateType === 'byProportion'\r\n    && Number.parseInt(e.value) > 100) {\r\n      this.message.info(this.localePipe.transform('component.signRule.maxConditionValue'));\r\n      this.data[e.rowIndex].conditionValue = '100';\r\n    } else if (e.column.field === 'conditionValue' && Number.parseInt(e.value) < 0) {\r\n      this.message.info(this.localePipe.transform('component.signRule.minConditionValue'));\r\n      this.data[e.rowIndex].conditionValue = '0';\r\n    } else if ((e.column.field === 'calculateType' || e.column.field === 'conditionValue') && (this.data[e.rowIndex].calculateType === 'oneVote' ||\r\n    this.data[e.rowIndex].calculateType === 'fullVote') && Number.parseInt(this.data[e.rowIndex].conditionValue) !== 0) {\r\n      this.message.info(this.localePipe.transform('component.signRule.noConditional'));\r\n      this.data[e.rowIndex].conditionValue = '0';\r\n    } else if (e.column.field === 'calculateType' && this.data[e.rowIndex].calculateType === 'byProportion' &&\r\n    Number.parseInt(this.data[e.rowIndex].conditionValue) > 100) {\r\n      this.message.info(this.localePipe.transform('component.signRule.maxConditionValue'));\r\n      this.data[e.rowIndex].conditionValue = '100';\r\n      }\r\n  }\r\n\r\n  isEmpty(s: string) {\r\n    if(!s || s.length == 0) {\r\n      return true;\r\n    }else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n}\r\n\r\nexport class SignRuleConverter implements TypeConverter {\r\n  constructor(\r\n    private localePipe: WfLocalePipe\r\n  ) { }\r\n\r\n  convertTo(data: any[]): string {\r\n    // 会签规则只要启用就有默认值，所以始终置为'已设置';\r\n      return this.localePipe.transform(\"component.signRule.set\");\r\n  }\r\n}\r\n","import { Component, OnInit, HostBinding, Output, EventEmitter, Input, ViewChild, TemplateRef, ComponentFactoryResolver, Optional, ChangeDetectorRef, Inject, LOCALE_ID } from '@angular/core';\r\nimport { TypeConverter } from '@farris/ide-property-panel';\r\nimport { FormBuilder, FormGroup } from '@angular/forms';\r\nimport { DataTableComponent } from '@farris/ui-datatable';\r\nimport { DialogComponent } from '@farris/ui-dialog';\r\nimport { ApprovalItemEntity } from './entities/approval-item.entity';\r\nimport { HttpService } from '@ecp-caf/caf-common';\r\nimport { MessagerService } from '@farris/ui-messager';\r\nimport { map } from 'rxjs/operators';\r\nimport { ProcessDesignerUIState } from '../../app/process-designer.uistate';\r\nimport { EditorTypes } from '@farris/ui-datagrid-editors';\r\nimport { DatagridComponent } from '@farris/ui-datagrid';\r\nimport { ProcessDeUtil } from '../../domain/process-de-util';\r\nimport { WF_LANG_RESOURCES, WfLocalePipe } from '../../i18n/pipe/wf-process-editor-locale.pipe';\r\nimport { WF_PROCESS_EDITOR_LANG_RESOURCES } from '../../i18n/assets/lang.resource';\r\n\r\n@Component({\r\n  selector: 'app-approvel-items',\r\n  templateUrl: './approvel-items.component.html',\r\n  styleUrls: ['./approvel-items.component.css'],\r\n  providers: [\r\n     WfLocalePipe,\r\n  ]\r\n})\r\nexport class ApprovelItemsComponent implements OnInit {\r\n  @HostBinding('class')\r\n  cls = 'farris-main-area flex-column';\r\n\r\n  @Output() closeModal = new EventEmitter<any>();\r\n  @Output() submitModal = new EventEmitter<any>();\r\n\r\n  @Input()\r\n  set value(items: any[]) {\r\n    if (items && items.length > 0) {\r\n      for (const item of items) {\r\n        const approval = new ApprovalItemEntity();\r\n        approval.value = item.Value;\r\n        approval.text = item.Text;\r\n        approval.workFlowAction = item.WorkFlowAction;\r\n        approval.isDefault = item.IsDefault;\r\n\r\n        if (item.commentNecessary === null || item.commentNecessary === undefined) {\r\n          approval.commentNecessary = (item.Value === 'Back' ? true : false);\r\n        } else {\r\n          approval.commentNecessary = item.commentNecessary;\r\n        }\r\n\r\n        approval.certification = item.certification ? item.certification : false;\r\n        approval.attachmentNecessary = item.attachmentNecessary ? item.attachmentNecessary : false;\r\n        approval.signatureNecessary = item.signatureNecessary ? item.signatureNecessary : false;\r\n        approval.defaultComment = item.defaultComment ? JSON.parse(item.defaultComment) : null;\r\n        this.data.push(approval);\r\n      }\r\n    }\r\n  }\r\n\r\n  @ViewChild('iconSelectFooter') modalFooter: TemplateRef<any>;\r\n  @ViewChild('actionsTable') actionsTable: DatagridComponent;\r\n  @ViewChild('actionsDialog') actionsDialog: DialogComponent;\r\n  @ViewChild('grid') grid: DatagridComponent;\r\n\r\n  modalConfig = {\r\n    title: this.localePipe.transform('component.approvelItems.approvalOptions'),\r\n    width: 1100,\r\n    height: 515,\r\n    showButtons: true\r\n  };\r\n\r\n  workFlowActions: any[] = [\r\n    { text: this.localePipe.transform('component.approvelItems.forward'), value: 'Forward' },\r\n    { text: this.localePipe.transform('component.approvelItems.backward'), value: 'Backward' },\r\n    { text: this.localePipe.transform('component.approvelItems.abort'), value: 'Abort' }];\r\n\r\n  columns = [\r\n    {\r\n      field: 'value', width: 80, title: this.localePipe.transform('component.approvelItems.value'),\r\n    },\r\n    { field: 'text', width: 80, title:  this.localePipe.transform('component.approvelItems.text')},\r\n    {\r\n      field: 'workFlowAction', width: 80, title: this.localePipe.transform('component.approvelItems.workFlowAction'),\r\n      formatter: {\r\n        type: 'enum',\r\n        options: { valueField: 'value', textField: 'text', data: this.workFlowActions}\r\n      },\r\n      editor: {\r\n        type: EditorTypes.COMBOLIST,\r\n        options: { valueField: 'value', textField: 'text', data: this.workFlowActions, idField: 'value', panelHeight: 'auto' }\r\n      },\r\n      validators: [\r\n        { type: 'required', messager: '必填' }\r\n      ]\r\n    },\r\n    {\r\n      field: 'isDefault', width: 60, title: this.localePipe.transform('component.approvelItems.isDefault'),\r\n      editor: {\r\n        type: EditorTypes.SWITCH,\r\n        options: {}\r\n      },\r\n      formatter: { type: 'boolean', options: { trueText: this.localePipe.transform('component.approvelItems.yes'), falseText: this.localePipe.transform('component.approvelItems.no') } },\r\n      validators: [\r\n        { type: 'required', messager: '必填' }\r\n      ]\r\n    },\r\n    {\r\n      field: 'commentNecessary', width: 60, title: this.localePipe.transform('component.approvelItems.commentNecessary'),\r\n      editor: {\r\n        type: EditorTypes.SWITCH,\r\n        options: {}\r\n      },\r\n      formatter: { type: 'boolean', options: { trueText: this.localePipe.transform('component.approvelItems.yes'), falseText: this.localePipe.transform('component.approvelItems.no') } },\r\n      validators: [\r\n        { type: 'required', messager: '必填' }\r\n      ]\r\n    },\r\n    {\r\n      field: 'attachmentNecessary', width: 60, title: this.localePipe.transform('component.approvelItems.attachmentNecessary'),\r\n      editor: {\r\n        type: EditorTypes.SWITCH,\r\n        options: {}\r\n      },\r\n      formatter: { type: 'boolean', options: { trueText: this.localePipe.transform('component.approvelItems.yes'), falseText: this.localePipe.transform('component.approvelItems.no') } },\r\n      validators: [\r\n        { type: 'required', messager: '必填' }\r\n      ]\r\n    },\r\n    {\r\n      field: 'certification', width: 60, title: this.localePipe.transform('component.approvelItems.certification'),\r\n      editor: {\r\n        type: EditorTypes.SWITCH,\r\n        options: {}\r\n      },\r\n      formatter: { type: 'boolean', options: { trueText: this.localePipe.transform('component.approvelItems.yes'), falseText: this.localePipe.transform('component.approvelItems.no') } },\r\n      validators: [\r\n        { type: 'required', messager: '必填' }\r\n      ]\r\n    },\r\n    {\r\n      field: 'signatureNecessary', width: 60, title: this.localePipe.transform('component.approvelItems.signatureNecessary'),\r\n      editor: {\r\n        type: EditorTypes.SWITCH,\r\n        options: {}\r\n      },\r\n      formatter: { type: 'boolean', options: { trueText: this.localePipe.transform('component.approvelItems.yes'), falseText: this.localePipe.transform('component.approvelItems.no') } },\r\n      validators: [\r\n      ]\r\n    },\r\n    {\r\n      field: 'defaultComment', isMultilingualField: true, width: 70, title: this.localePipe.transform('component.approvelItems.defaultComment'),\r\n      editor: {\r\n        type: EditorTypes.LANGUAGETEXTBOX, options: {\r\n            languages: [\r\n                { code: 'zh-CHS', name: this.localePipe.transform('component.approvelItems.zh-CHS') },\r\n                { code: 'zh-CHT', name: this.localePipe.transform('component.approvelItems.zh-CHT') },\r\n                { code: 'en', name: this.localePipe.transform('component.approvelItems.en') }\r\n            ]\r\n        }\r\n      },\r\n    }\r\n  ];\r\n\r\n  data: ApprovalItemEntity[] = [];\r\n\r\n  // 审批动作\r\n  actions: any[];\r\n  actionsCols = [\r\n    { title: this.localePipe.transform('component.approvelItems.value'), field: 'code', width: 80 },\r\n    { title: this.localePipe.transform('component.approvelItems.text'), field: 'name', width: 90 }];\r\n\r\n  constructor(\r\n    private message: MessagerService,\r\n    private util: ProcessDeUtil,\r\n    private http: HttpService,\r\n    private uiState: ProcessDesignerUIState,\r\n    private resolver: ComponentFactoryResolver,\r\n    @Optional() private cdr: ChangeDetectorRef,\r\n    @Inject(LOCALE_ID) private localeId: string,\r\n    @Inject(WF_LANG_RESOURCES) private resources: any,\r\n    @Optional() private localePipe: WfLocalePipe\r\n  ) {\r\n    this.localePipe = this.localePipe || new WfLocalePipe(localeId, resources);\r\n   }\r\n\r\n  ngOnInit() {\r\n    this.getActionsList();\r\n  }\r\n\r\n  clickOK() {\r\n    this.grid.endCellEdit();\r\n    if (this.validator()) {\r\n      const actionList = [];\r\n      // 将多语的默认意见转成String\r\n      for (const action of this.data) {\r\n        if (action.defaultComment != null) {\r\n          action.defaultComment = JSON.stringify(action.defaultComment);\r\n        }\r\n        actionList.push(action);\r\n      }\r\n      console.log(actionList);\r\n      const object = { value: actionList, parameters: null };\r\n      this.submitModal.emit(object);\r\n    }\r\n  }\r\n\r\n  clickCancel() {\r\n    this.closeModal.emit();\r\n  }\r\n\r\n  private validator(): boolean {\r\n    if (this.data.findIndex(d => !d.workFlowAction) > -1) {\r\n      this.message.warning(this.localePipe.transform('component.approvelItems.workFlowActionNotNull'));\r\n      return false;\r\n    }\r\n    return true;\r\n  }\r\n\r\n  selectChanged(data: any) { }\r\n\r\n  deleteRow() {\r\n    this.grid.endCellEdit();\r\n    if (this.grid.selectedRow && this.grid.selectedRow.data) {\r\n      const i = this.data.findIndex(d => d.value === this.grid.selectedRow.data.value);\r\n      this.data.splice(i, 1);\r\n      this.grid.loadData(this.data);\r\n    } else {\r\n      this.message.info(this.localePipe.transform('component.approvelItems.deleteRow'));\r\n    }\r\n  }\r\n\r\n  private getActionsList() {\r\n    let url = this.util.getApprovalActionWebApi() + '?';\r\n    if (this.uiState.bizActivityId) {\r\n      url += `bizActivityId=${this.uiState.bizActivityId}`;\r\n    } else {\r\n      url += `bizActivityId=`;\r\n    }\r\n\r\n    this.http.get(url).subscribe((data: any) => {\r\n        data = data.filter(a => this.actionValidate(a));\r\n        this.actions = data;\r\n      });\r\n  }\r\n\r\n  actionsSelect() {\r\n    const selections: any[] = this.actionsTable.checkeds;\r\n    if (selections && selections.length > 0) {\r\n      selections.forEach(action => {\r\n        const item = new ApprovalItemEntity(action.data.code, action.data.name, action.data.workFlowAction);\r\n        const index = this.data.findIndex(act => act.value === action.data.code);\r\n        if (index > -1) {\r\n          this.data.splice(index, 1);\r\n        }\r\n        this.data.push(item);\r\n      });\r\n      this.grid.loadData(this.data);\r\n    }\r\n    // 2023-6-13 关闭前清空已选数据\r\n    this.actionsTable.clearCheckeds(true);\r\n    this.actionsDialog.close();\r\n  }\r\n\r\n  SelectCancel() {\r\n    // 2023-6-13 关闭前清空已选数据\r\n    this.actionsTable.clearCheckeds(true);\r\n    this.actionsDialog.close();\r\n  }\r\n\r\n  private actionValidate(action: any) {\r\n    const arr = ['ViewBizLog', 'ViewFlowChart', 'AssignUser', 'Claim', 'Unclaim', 'Retrieve', 'Resubmit', 'Obsolete', 'Transfer', 'AddSignFront', 'ViewExecuteForm'];\r\n    return arr.indexOf(action.code.trim()) === -1;\r\n  }\r\n}\r\n\r\nexport class ApprovelItemsConverter implements TypeConverter {\r\n  constructor(\r\n    private localePipe: WfLocalePipe\r\n  ) { }\r\n\r\n  convertTo(data: any[]): string {\r\n    if (data && data.length > 0) {\r\n      return this.localePipe.transform('component.approvelItems.set');\r\n    } else {\r\n      return this.localePipe.transform('component.approvelItems.notSet');\r\n    }\r\n  }\r\n}\r\n","import { Component, OnInit, Output, Input, EventEmitter, ViewChild, TemplateRef, ChangeDetectorRef, Optional, Inject, LOCALE_ID } from '@angular/core';\r\nimport { ExpressionService, ExpressioneditorComponent, ComputeRuleEditorComponent, ExprEditMode } from '@gsp-svc/expression';\r\nimport { ProcessDesignerUIState } from '../../app/process-designer.uistate';\r\nimport { TypeConverter } from '@farris/ide-property-panel';\r\nimport { WF_LANG_RESOURCES, WfLocalePipe } from '../../i18n/pipe/wf-process-editor-locale.pipe';\r\nimport { WF_PROCESS_EDITOR_LANG_RESOURCES } from '../../i18n/assets/lang.resource';\r\n\r\n@Component({\r\n  selector: 'app-expression-editor',\r\n  templateUrl: './expression-editor.component.html',\r\n  styleUrls: ['./expression-editor.component.css'],\r\n  providers: [\r\n     WfLocalePipe,\r\n  ]\r\n})\r\nexport class ExpressionEditorComponent implements OnInit {\r\n  @Output() closeModal = new EventEmitter<any>();\r\n  @Output() submitModal = new EventEmitter<any>();\r\n\r\n  @Input() value: string;\r\n\r\n  @ViewChild('iconSelectFooter') modalFooter: TemplateRef<any>;\r\n\r\n  @Input() editorParams: any = {};\r\n\r\n  @ViewChild(ExpressioneditorComponent) editor: ExpressioneditorComponent;\r\n  @ViewChild('compute') compute: ComputeRuleEditorComponent;\r\n\r\n  contextEntities = [];\r\n\r\n  schema: any = {};\r\n  injectName = '';\r\n  modalConfig = {\r\n    title: this.localePipe.transform('component.expressionEditor.expressionEditor'),\r\n    width: 1036,\r\n    height: 530,\r\n    showButtons: true\r\n  };\r\n\r\n  constructor(\r\n    private expr: ExpressionService,\r\n    public designerState: ProcessDesignerUIState,\r\n    @Optional() private cdr: ChangeDetectorRef,\r\n    @Inject(LOCALE_ID) private localeId: string,\r\n    @Inject(WF_LANG_RESOURCES) private resources: any,\r\n    @Optional() private localePipe: WfLocalePipe,\r\n  ) {\r\n    this.localePipe = this.localePipe || new WfLocalePipe(localeId, resources);\r\n    if (this.designerState.schemas[0]) {\r\n      this.schema = this.designerState.schemas[0];\r\n      if (this.designerState.schemas[0].entityTypes && this.designerState.schemas[0].entityTypes.length > 0) {\r\n        this.injectName = this.designerState.schemas[0].entityTypes[0].name;\r\n      }\r\n    }\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.contextEntities = new Array();\r\n    if (this.designerState.procInstContext.length > 0) {\r\n      for (const variable of this.designerState.procInstContext) {\r\n        this.contextEntities = this.contextEntities.concat([variable]);\r\n      }\r\n    }\r\n    if (this.designerState.subActivityContext.length > 0) {\r\n      for (const variable of this.designerState.subActivityContext) {\r\n        if (!this.contextEntities.some(c => c.key === variable.key)) {\r\n          this.contextEntities = this.contextEntities.concat([variable]);\r\n        }\r\n      }\r\n    }\r\n    if (this.designerState.formalParameterContext.length > 0) {\r\n      for (const variable of this.designerState.formalParameterContext) {\r\n        if (!this.contextEntities.some(c => c.key === variable.key)) {\r\n          this.contextEntities = this.contextEntities.concat([variable]);\r\n        }\r\n      }\r\n    }\r\n    if (this.designerState.participantContext.length > 0) {\r\n      for (const variable of this.designerState.participantContext) {\r\n        if (!this.contextEntities.some(c => c.key === variable.key)) {\r\n          this.contextEntities = this.contextEntities.concat([variable]);\r\n        }\r\n      }\r\n    }\r\n    if (this.designerState.activityComponentContext.length > 0) {\r\n      for (const variable of this.designerState.activityComponentContext) {\r\n        if (!this.contextEntities.some(c => c.key === variable.key)) {\r\n          this.contextEntities = this.contextEntities.concat([variable]);\r\n        }\r\n      }\r\n    }\r\n    if (this.designerState.processVariableContext.length > 0) {\r\n      for (const variable of this.designerState.processVariableContext) {\r\n        if (!this.contextEntities.some(c => c.key === variable.key)) {\r\n          this.contextEntities = this.contextEntities.concat([variable]);\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  clickOK() {\r\n    const result = this.compute.getExpr();\r\n    this.value = this.convertToValue(result.text);\r\n    const object = { value: this.value, parameters: null };\r\n    this.submitModal.emit(object);\r\n  }\r\n\r\n  /**\r\n   * 切换表达式类型（简易表达式<--->高级表达式）\r\n   */\r\n  changeType() {\r\n    this.compute.changeType();\r\n  }\r\n\r\n  clickCancel() {\r\n    this.closeModal.emit();\r\n  }\r\n\r\n  private convertToValue(val: string): string {\r\n    if (val) {\r\n      if (val.substring(9, val.length - 2)) {\r\n        return val;\r\n      } else {\r\n        return '';\r\n      }\r\n    } else {\r\n      return '';\r\n    }\r\n  }\r\n}\r\nexport class ExpressionEditorConverter implements TypeConverter {\r\n  constructor(\r\n    private localePipe: WfLocalePipe\r\n  ) { }\r\n\r\n  convertTo(data: any): string {\r\n    if (data) {\r\n      return data;\r\n    } else {\r\n      return this.localePipe.transform(\"component.expressionEditor.notSet\");\r\n    }\r\n  }\r\n}\r\n","import { Component, OnInit, HostBinding, Output, EventEmitter, Input, ViewChild, TemplateRef, Optional, ChangeDetectorRef, LOCALE_ID, Inject } from '@angular/core';\r\nimport { TypeConverter } from '@farris/ide-property-panel';\r\nimport { ProcessDesignerUIState } from '../../app/process-designer.uistate';\r\nimport { DialogComponent } from '@farris/ui-dialog';\r\nimport { MessagerService } from '@farris/ui-messager';\r\nimport { DatagridComponent } from '@farris/ui-datagrid';\r\nimport { LookupGridComponent, PickedResult } from '@farris/ui-lookup';\r\nimport { Observable, of } from 'rxjs';\r\nimport { WF_LANG_RESOURCES, WfLocalePipe } from '../../i18n/pipe/wf-process-editor-locale.pipe';\r\nimport { WF_PROCESS_EDITOR_LANG_RESOURCES } from '../../i18n/assets/lang.resource';\r\n\r\n@Component({\r\n  selector: 'app-jump-scope',\r\n  templateUrl: './jump-scope.component.html',\r\n  styleUrls: ['./jump-scope.component.css'],\r\n  providers: [\r\n     WfLocalePipe,\r\n  ]\r\n})\r\nexport class JumpScopeComponent implements OnInit {\r\n  @HostBinding('class')\r\n  cls = 'farris-main-area flex-column';\r\n\r\n  @Output() closeModal = new EventEmitter<any>();\r\n  @Output() submitModal = new EventEmitter<any>();\r\n\r\n  @Input()\r\n  set value(data: any) {\r\n    if (data) {\r\n      this.category = data.Category;\r\n      this.defaultType = data.DefaultType;\r\n      // 取到DefaultActivity的节点Id，遍历出Name绑定到radiogroup上去（defaultacty）\r\n      const acty: string = data.DefaultActivity;\r\n      if (acty != null) {\r\n        for (const act of this.uistate.allActList) {\r\n          if (act.Id === acty) {\r\n            this.defaultacty = act.Name;\r\n          }\r\n        }\r\n      }\r\n      // 取到DestinationActivities的节点Id，遍历出Id和Name绑定到radiogroup上去（actis）\r\n      const strs: string[] = data.DestinationActivities;\r\n      if (strs && strs.length > 0) {\r\n        for (const str of strs) {\r\n          const name = this.uistate.allActList.filter(act => act.Id === str)[0].Name;\r\n          // const acti = { Id: str, Name: name };\r\n          this.actis.push(name);\r\n        }\r\n      }\r\n    } else {\r\n      this.category = 'OutConnectNode';\r\n      this.defaultType = 'FirstNode';\r\n    }\r\n  }\r\n\r\n  @ViewChild('iconSelectFooter') modalFooter: TemplateRef<any>;\r\n  modalConfig = {\r\n    title: this.localePipe.transform('component.jumpScope.targetNodeOptions'),\r\n    width: 520,\r\n    height: 460,\r\n    showButtons: true\r\n  };\r\n  // 活动节点表信息============================================\r\n  @ViewChild('allActisTable') allActisTable: LookupGridComponent;\r\n  @ViewChild('allActisDialog') allActisDialog: DialogComponent;\r\n  @ViewChild('actTable') actTable: DatagridComponent;\r\n  @ViewChild('lookup') lookup: LookupGridComponent;\r\n  @ViewChild('userActisDialog') userActis: LookupGridComponent;\r\n\r\n  cols = [\r\n    { title: this.localePipe.transform('component.jumpScope.name'), field: 'Name', width: 60, searchField: 'Name' },\r\n    { title: 'ID', field: 'Id', width: 90, searchField: 'Id' }];\r\n  // ==========================================================\r\n  actis = [];\r\n  fullActis = [];\r\n  defaultacty = '';\r\n  categoryListItems = [\r\n    { value: 'OutConnectNode', name: this.localePipe.transform('component.jumpScope.outConnectNode')},\r\n    { value: 'Global', name: this.localePipe.transform('component.jumpScope.global')},\r\n    { value: 'AfterNodes', name: this.localePipe.transform('component.jumpScope.afterNodes')},\r\n    { value: 'SpecifiedSet', name: this.localePipe.transform('component.jumpScope.specifiedSet') }];\r\n  category = '';\r\n  defaultType = '';\r\n  defaultTypeListItems = [\r\n    { value: 'FirstNode', name: this.localePipe.transform('component.jumpScope.firstNode')},\r\n    { value: 'NullNode', name: this.localePipe.transform('component.jumpScope.nullNode')},\r\n    { value: 'SpecifyNode', name: this.localePipe.transform('component.jumpScope.specifyNode') }];\r\n  defaultActivity = '';\r\n  pageInfo = {\r\n    pageIndex: 1,\r\n    pageList: [10, 20, 30, 50],\r\n    pageSize: 20\r\n  };\r\n  outConnectNode: true;\r\n  total: number;\r\n  constructor(\r\n    public uistate: ProcessDesignerUIState,\r\n    private message: MessagerService,\r\n    @Optional() private cdr: ChangeDetectorRef,\r\n    @Inject(LOCALE_ID) private localeId: string,\r\n    @Inject(WF_LANG_RESOURCES) private resources: any,\r\n    @Optional() private localePipe: WfLocalePipe\r\n    ) {\r\n      this.localePipe = this.localePipe || new WfLocalePipe(localeId, resources);\r\n     }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  clickOK() {\r\n    if (this.validator()) {\r\n      let value;\r\n      const list = [];\r\n      // 重新打开设置界面，没有进行节点配置的情况（DefaultActivity）\r\n      if ( this.defaultActivity === '' && this.defaultacty !== '') {\r\n        for (const defAct of this.uistate.allActList) {\r\n          if (defAct.Name === this.defaultacty) {\r\n            this.defaultActivity = defAct.Id;\r\n          }\r\n        }\r\n      }\r\n      // 重新打开设置界面，没有进行节点配置的情况（DestinationActivities）\r\n      if (this.fullActis.length === 0 && this.actis.length > 0) {\r\n        for (const act of this.actis) {\r\n          for (const allAct of this.uistate.allActList) {\r\n            if (act === allAct.Name) {\r\n              list.push(allAct.Id);\r\n            }\r\n          }\r\n        }\r\n      } else if (this.category === 'SpecifiedSet' && this.fullActis && this.fullActis.length > 0) {\r\n        // 附加节点的id传给模型上的DestinationActivities\r\n        this.fullActis.forEach(act => list.push(act.Id));\r\n      }\r\n      value = {\r\n        Category: this.category,\r\n        DefaultType: this.defaultType,\r\n        DefaultActivity: this.defaultActivity,\r\n        DestinationActivities: list,\r\n      };\r\n      const object = { value, parameters: null };\r\n      this.submitModal.emit(object);\r\n    }\r\n  }\r\n\r\n  clickCancel() {\r\n    this.closeModal.emit();\r\n  }\r\n\r\n  private validator(): boolean {\r\n    if (!this.category) {\r\n      this.message.warning(this.localePipe.transform('component.jumpScope.noSetTargetNode'));\r\n      return false;\r\n    }\r\n    // if (this.category === 'SpecifiedSet' && Object.prototype.isPrototypeOf(this.actis)) {\r\n    //   this.message.info('尚未选择附加节点，请了解！');\r\n    //   return false;\r\n    // }\r\n    if (this.defaultType === 'SpecifyNode' && this.defaultacty === '') {\r\n      this.message.warning(this.localePipe.transform('component.jumpScope.noSetSpecifyNode'));\r\n      return false;\r\n    }\r\n    return true;\r\n  }\r\n\r\n  searchDefault(arg: any) {\r\n    this.pageInfo.pageIndex = arg.pageInfo.pageIndex;\r\n    this.pageInfo.pageSize = arg.pageInfo.pageSize;\r\n    const search = arg.search;\r\n\r\n    this.loadDefault(search);\r\n  }\r\n\r\n  loadDefault(search?: { field: string, value: string}) {\r\n    const start = (this.pageInfo.pageIndex - 1) * this.pageInfo.pageSize;\r\n    const end = start + this.pageInfo.pageSize;\r\n    let items = [];\r\n    if (search && search.value) {\r\n      if (search.field === '*') {\r\n        items = this.uistate.allActList.filter(i => i.Name.indexOf(search.value) > -1 || i.Id.indexOf(search.value) > -1);\r\n      } else {\r\n        items = this.uistate.allActList.filter(f => f[search.field].indexOf(search.value) > -1);\r\n      }\r\n    } else {\r\n      items = this.uistate.allActList;\r\n    }\r\n    this.total = items.length;\r\n    // this.items = items;\r\n    if(items){\r\n      this.allActisTable.componentRef.instance.loadData({\r\n        data: items\r\n      });\r\n    }\r\n  }\r\n\r\n  searchSelect(arg: any) {\r\n    this.pageInfo.pageIndex = arg.pageInfo.pageIndex;\r\n    this.pageInfo.pageSize = arg.pageInfo.pageSize;\r\n    const search = arg.search;\r\n\r\n    this.loadSelect(search);\r\n  }\r\n\r\n  loadSelect(search?: { field: string, value: string}) {\r\n    const start = (this.pageInfo.pageIndex - 1) * this.pageInfo.pageSize;\r\n    const end = start + this.pageInfo.pageSize;\r\n    let items = [];\r\n    if (search && search.value) {\r\n      if (search.field === '*') {\r\n        items = this.uistate.allActList.filter(i => i.Name.indexOf(search.value) > -1 || i.Id.indexOf(search.value) > -1);\r\n      } else {\r\n        items = this.uistate.allActList.filter(f => f[search.field].indexOf(search.value) > -1);\r\n      }\r\n    } else {\r\n      items = this.uistate.allActList;\r\n    }\r\n    this.total = items.length;\r\n    // this.items = items;\r\n    if(items){\r\n      this.userActis.componentRef.instance.loadData({\r\n        data: items\r\n      });\r\n    }\r\n  }\r\n\r\n  actisSelect = (rowData): Observable<PickedResult> => {\r\n    // 附加节点的帮助后事件，把选中的数据赋给fullActis（此处处理的目的是为了显示Name同时取Id值）\r\n    // console.log(rowData);\r\n    this.fullActis = rowData;\r\n    return of({\r\n      closeDialog: true\r\n    });\r\n  }\r\n\r\n  defaultActivitySelect = (rowData): Observable<PickedResult> => {\r\n    // 默认节点的帮助后事件，把选中的id赋给defaultActivity（此处处理的目的是为了显示Name同时取Id值）\r\n    this.defaultActivity = rowData.Id;\r\n    return of({\r\n      closeDialog: true\r\n    });\r\n  }\r\n\r\n  deleteRow() {\r\n    if (this.actTable.selectedRow && this.actTable.selectedRow.data) {\r\n      const i = this.actis.findIndex(d => d.id === this.actTable.selectedRow.data.id);\r\n      this.actis.splice(i, 1);\r\n      this.actTable.loadData(this.actis);\r\n    } else {\r\n      this.message.info(this.localePipe.transform('component.jumpScope.selectedRow'));\r\n    }\r\n  }\r\n}\r\nexport class JumpScopeConverter implements TypeConverter {\r\n  constructor(\r\n    private localePipe: WfLocalePipe\r\n  ) { }\r\n\r\n  convertTo(): string {\r\n    return this.localePipe.transform('component.jumpScope.set');\r\n  }\r\n}\r\n\r\n","export class BackWardRule {\r\n    static Clr_Type_ID = 'wf.BackWardRule';\r\n\r\n    readonly ClrTypeID: string = BackWardRule.Clr_Type_ID;\r\n    TargetRef: string;\r\n    SelectTargetAble: boolean;\r\n    WaitReturn: boolean;\r\n    DynamicBackWardRuleAble: boolean;\r\n    SelectTargetList:Array<string>;\r\n    ResubmitEffect: ResubmitEffect;\r\n}\r\nexport enum ResubmitEffect {\r\n\r\n  sequence = 'sequence',\r\n\r\n  backToMe = 'backToMe',\r\n\r\n  backToCurrentNode = 'backToCurrentNode'\r\n}\r\n","import { Component, OnInit, HostBinding, Output, EventEmitter, Input, ViewChild, TemplateRef, AfterViewInit, ChangeDetectorRef, Optional, LOCALE_ID, Inject } from '@angular/core';\r\nimport { TypeConverter } from '@farris/ide-property-panel';\r\nimport { ProcessDesignerUIState } from '../../app/process-designer.uistate';\r\nimport { MessagerService } from '@farris/ui-messager';\r\nimport { Observable, of } from 'rxjs';\r\nimport { PickedResult, LookupGridComponent } from '@farris/ui-lookup';\r\nimport { ResubmitEffect } from './backward-rule.entity';\r\nimport { NotifyService } from '@farris/ui-notify';\r\nimport { WF_LANG_RESOURCES, WfLocalePipe } from '../../i18n/pipe/wf-process-editor-locale.pipe';\r\nimport { WF_PROCESS_EDITOR_LANG_RESOURCES } from '../../i18n/assets/lang.resource';\r\n\r\n@Component({\r\n  selector: 'procDesigner-backward-rule',\r\n  templateUrl: './backward-rule.component.html',\r\n  styleUrls: ['./backward-rule.component.scss'],\r\n  providers: [\r\n     WfLocalePipe,\r\n  ]\r\n})\r\nexport class BackwardRuleComponent implements OnInit, AfterViewInit {\r\n  @HostBinding('class')\r\n  cls = 'farris-main-area flex-column';\r\n  @Input() editorParams: any = {};\r\n  @Input()\r\n  set value(data: any) {\r\n    if (data) {\r\n      this.selectAbleChecked = data.SelectTargetAble;\r\n      if(!data.SelectTargetAble) {\r\n        this.selectTargetList = new Array<string>();\r\n      }else {\r\n        this.selectTargetList = data.SelectTargetList;\r\n      }\r\n      this.waitReturnChecked = data.WaitReturn;\r\n      this.dynamicBackWardRuleAbleChecked = data.DynamicBackWardRuleAble;\r\n      this.resubmitEffect = data.ResubmitEffect;\r\n      if (!data.TargetRef) {\r\n        this.targetRef = 'Empty';\r\n      } else {\r\n        this.targetRef = data.TargetRef;\r\n      }\r\n      if (this.resubmitEffect === null) {\r\n        this.resubmitEffect = ResubmitEffect.sequence;\r\n      }\r\n      const strs: string[] = data.SelectTargetList;\r\n      if (strs && strs.length > 0) {\r\n        for (const str of strs) {\r\n          if(this.listItems.filter(act => act.Id === str)[0]) {\r\n            const name = this.listItems.filter(act => act.Id === str)[0].Name;\r\n            this.displayTestText.push(name);\r\n          }\r\n          // const acti = { Id: str, Name: name };\r\n        }\r\n      }\r\n      const act = this.listItems.find(item => item.Id === this.targetRef);\r\n      if (act) {\r\n        this.displayText = act.Name;\r\n      } else {\r\n        this.displayText = '';\r\n        setTimeout(() => {\r\n          this.message.warning(this.localePipe.transform('component.backwardRule.reEdit'));\r\n        }, 500);\r\n      }\r\n    }\r\n  }\r\n  @Input() nodeType: 'UserActivity' | 'CallActivitySubProcess' = 'UserActivity';\r\n\r\n  @Output() closeModal = new EventEmitter<any>();\r\n  @Output() submitModal = new EventEmitter<any>();\r\n\r\n  @ViewChild('iconSelectFooter') modalFooter: TemplateRef<any>;\r\n  @ViewChild('hlp') hlp: LookupGridComponent;\r\n  @ViewChild('hlpScope') hlpScope: LookupGridComponent;\r\n  modalConfig = {\r\n    title: this.localePipe.transform('component.backwardRule.backwardRule'),\r\n    width: 760,\r\n    height: 505,\r\n    showButtons: true\r\n  };\r\n  displayText: string;\r\n  displayTestText = [];\r\n  fullActs = [];\r\n  listItems = [\r\n    { Id: 'InitialActityId', Name: this.localePipe.transform('component.backwardRule.initialActityId') },\r\n    { Id: 'PrecursorActivityId', Name: this.localePipe.transform('component.backwardRule.precursorActivityId') },\r\n    { Id: 'Empty', Name: this.localePipe.transform('component.backwardRule.empty') }\r\n  ];\r\n\r\n  items = [];\r\n  itemsTemp = [];\r\n  itemsBackScope = [];\r\n  itemsBackScopeTemp = [];\r\n\r\n  columns = [\r\n    { title: this.localePipe.transform('component.backwardRule.name'), field: 'Name', width: 100, searchField: 'Name' },\r\n    { title: this.localePipe.transform('component.backwardRule.id'), field: 'Id', width: 100, searchField: 'Id' },\r\n  ];\r\n  selectAbleChecked = false;\r\n  waitReturnChecked = false;\r\n  resubmitEffect: ResubmitEffect;\r\n  resubmitEffectOptions = [\r\n    { value: ResubmitEffect.sequence, text: this.localePipe.transform('component.backwardRule.sequence') },\r\n    { value: ResubmitEffect.backToMe, text: this.localePipe.transform('component.backwardRule.backToMe') },\r\n    { value: ResubmitEffect.backToCurrentNode, text: this.localePipe.transform('component.backwardRule.backToCurrentNode') },\r\n  ];\r\n  dynamicBackWardRuleAbleChecked = false;\r\n  targetRef = this.listItems[0].Id;\r\n  selectTargetList = new Array<string>();\r\n  popover = '1.顺序流转:按照流转线顺序进行流转; 2.返回我:完成策略为抢占：只给驳回人创建任务,完成策略为会签：驳回人与未审批人收到新任务，已审批人员自动审批通过; 3.返回本节点:实际效果受“再次进入节点时，办理人是否是节点已办人员影响”选项的影响';\r\n  pageInfo = {\r\n    pageIndex: 1,\r\n    pageList: [10, 20, 30, 50],\r\n    pageSize: 20\r\n  };\r\n\r\n  total: number;\r\n  totalBackScope: number;\r\n\r\n  constructor(\r\n    private uiState: ProcessDesignerUIState,\r\n    private message: MessagerService,\r\n    private notify: NotifyService,\r\n    @Optional() private cdr: ChangeDetectorRef,\r\n    @Inject(LOCALE_ID) private localeId: string,\r\n    @Inject(WF_LANG_RESOURCES) private resources: any,\r\n    @Optional() private localePipe: WfLocalePipe\r\n  ) {\r\n    this.localePipe = this.localePipe || new WfLocalePipe(localeId, resources);\r\n    this.listItems = this.listItems.concat(this.uiState.userActList);\r\n    this.items = this.listItems;\r\n    this.itemsBackScope = this.listItems;\r\n    this.total = this.listItems.length;\r\n    this.totalBackScope = this.listItems.length;\r\n    }\r\n\r\n  ngOnInit() {\r\n    this.nodeType = this.editorParams.nodeType;\r\n    if (this.nodeType !== 'UserActivity') {\r\n      this.listItems = this.listItems.filter(i => i.Id !== 'Empty');\r\n      this.items = this.listItems;\r\n      this.total = this.listItems.length;\r\n    }\r\n    this.itemsBackScope = this.listItems.filter(i => i.Id !== 'Empty' && i.Id !== 'PrecursorActivityId');\r\n    this.totalBackScope = this.itemsBackScope.length;\r\n    this.itemsTemp = this.deepCloneDefine(this.items);\r\n    this.itemsBackScopeTemp = this.deepCloneDefine(this.itemsBackScope);\r\n\r\n  }\r\n\r\n  ngAfterViewInit() {\r\n  }\r\n\r\n  selectAbleClick() {\r\n    if (this.uiState.propertyData.ClrTypeID === 'wf.UserActivity'\r\n      && this.uiState.propertyData.CompleteStrategy !== this.uiState.completeIterator[0].key\r\n      && this.selectAbleChecked === true) {\r\n      this.message.info(this.localePipe.transform('component.backwardRule.selectAbleClick'), () => {\r\n        this.selectAbleChecked = false;\r\n      });\r\n    }\r\n    if(this.selectAbleChecked == false) {\r\n      this.displayTestText = [];\r\n    }\r\n  }\r\n  waitReturnClick() {\r\n    this.waitReturnChecked = !this.waitReturnChecked;\r\n  }\r\n  dynamicBackWardRuleAbleClick() {\r\n    this.dynamicBackWardRuleAbleChecked = !this.dynamicBackWardRuleAbleChecked;\r\n  }\r\n  dictPicked = (arg: any): Observable<PickedResult> => {\r\n    this.targetRef = arg.Id;\r\n    this.displayText = arg.Name;\r\n    if (arg.Id === 'Empty' && !this.selectAbleChecked) {\r\n      this.selectAbleChecked = true;\r\n      this.notify.info(this.localePipe.transform('component.backwardRule.dictPicked'));\r\n    }\r\n    return of({ closeDialog: true });\r\n  }\r\n  dictPickedTest = (arg: any): Observable<PickedResult> => {\r\n    this.fullActs = arg;\r\n    return of({ closeDialog: true });\r\n  }\r\n\r\n  beforeOpen = (): Observable<boolean> => {\r\n    this.items = this.deepCloneBackDefine(this.itemsTemp);\r\n    return of(true);\r\n  }\r\n\r\n  beforeOpenTest = (): Observable<boolean> => {\r\n    this.itemsBackScope = this.deepCloneBackDefine(this.itemsBackScopeTemp);\r\n    return of(true);\r\n  }\r\n\r\n  clickOK() {\r\n    const list = [];\r\n    // 重新打开设置界面，没有进行节点配置的情况（DestinationActivities）\r\n    if (this.fullActs.length === 0 && this.displayTestText.length > 0) {\r\n      for (const act of this.displayTestText) {\r\n        for (const allAct of this.listItems) {\r\n          if (act === allAct.Name) {\r\n            list.push(allAct.Id);\r\n          }\r\n        }\r\n      }\r\n    } else if (this.fullActs && this.fullActs.length > 0) {\r\n      // 附加节点的id传给模型上的DestinationActivities\r\n      this.fullActs.forEach(act => {\r\n        if(this.uiState.userActList.some(u => u.Id == act.Id)) {\r\n          list.push(act.Id)\r\n        }\r\n      });\r\n    }\r\n    const backWardRule = {\r\n      TargetRef: this.getTargetRef(),\r\n      SelectTargetAble: this.selectAbleChecked,\r\n      WaitReturn: this.waitReturnChecked,\r\n      DynamicBackWardRuleAble: this.dynamicBackWardRuleAbleChecked,\r\n      SelectTargetList: list,\r\n      ResubmitEffect: this.resubmitEffect\r\n    };\r\n    const object = { value: backWardRule, parameters: null };\r\n    this.submitModal.emit(object);\r\n  }\r\n\r\n  clickCancel() {\r\n    this.closeModal.emit();\r\n  }\r\n\r\n  pagerChanged(arg: any) {\r\n    this.pageInfo.pageIndex = arg.pageIndex;\r\n    this.pageInfo.pageSize = arg.pageSize;\r\n    const search = {\r\n      field: arg.searchValue.searchField,\r\n      value: arg.searchValue.searchValue\r\n    };\r\n    this.load(search);\r\n  }\r\n\r\n  pagerChangedBackScope(arg: any) {\r\n    this.pageInfo.pageIndex = arg.pageIndex;\r\n    this.pageInfo.pageSize = arg.pageSize;\r\n    const search = {\r\n      field: arg.searchValue.searchField,\r\n      value: arg.searchValue.searchValue\r\n    };\r\n    this.loadBackScope(search);\r\n  }\r\n\r\n  pageSizeChange(arg: any) {\r\n    console.log(arg);\r\n    this.pageInfo.pageIndex = arg.pageIndex;\r\n    this.pageInfo.pageSize = arg.pageSize;\r\n    const search = {\r\n      field: arg.searchValue.searchField,\r\n      value: arg.searchValue.searchValue\r\n    };\r\n    this.load(search);\r\n  }\r\n\r\n  pageSizeChangeBackScope(arg: any) {\r\n    console.log(arg);\r\n    this.pageInfo.pageIndex = arg.pageIndex;\r\n    this.pageInfo.pageSize = arg.pageSize;\r\n    const search = {\r\n      field: arg.searchValue.searchField,\r\n      value: arg.searchValue.searchValue\r\n    };\r\n    this.loadBackScope(search);\r\n  }\r\n\r\n  search(arg: any) {\r\n    this.pageInfo.pageIndex = arg.pageInfo.pageIndex;\r\n    this.pageInfo.pageSize = arg.pageInfo.pageSize;\r\n    const search = arg.search;\r\n\r\n    this.load(search);\r\n  }\r\n\r\n  searchBackScope(arg: any) {\r\n    this.pageInfo.pageIndex = arg.pageInfo.pageIndex;\r\n    this.pageInfo.pageSize = arg.pageInfo.pageSize;\r\n    const search = arg.search;\r\n\r\n    this.loadBackScope(search);\r\n  }\r\n\r\n  load(search?: { field: string, value: string}) {\r\n    const start = (this.pageInfo.pageIndex - 1) * this.pageInfo.pageSize;\r\n    const end = start + this.pageInfo.pageSize;\r\n    let items = [];\r\n    if (search) {\r\n      if (search.field === '*') {\r\n        items = this.listItems.filter(i => i.Name.indexOf(search.value) > -1 || i.Id.indexOf(search.value) > -1);\r\n      } else {\r\n        items = this.listItems.filter(f => f[search.field].indexOf(search.value) > -1);\r\n      }\r\n    } else {\r\n      items = this.listItems;\r\n    }\r\n    this.total = items.length;\r\n    this.items = items;\r\n    this.hlp.componentRef.instance.loadData({\r\n      data: this.items\r\n    });\r\n  }\r\n\r\n  loadBackScope(search?: { field: string, value: string}) {\r\n    const start = (this.pageInfo.pageIndex - 1) * this.pageInfo.pageSize;\r\n    const end = start + this.pageInfo.pageSize;\r\n    let itemsBackScope = [];\r\n    if (search) {\r\n      if (search.field === '*') {\r\n        itemsBackScope = this.listItems.filter(i => i.Name.indexOf(search.value) > -1 || i.Id.indexOf(search.value) > -1);\r\n      } else {\r\n        itemsBackScope = this.listItems.filter(f => f[search.field].indexOf(search.value) > -1);\r\n      }\r\n    } else {\r\n      itemsBackScope = this.listItems;\r\n    }\r\n    this.totalBackScope = itemsBackScope.length;\r\n    this.itemsBackScope = itemsBackScope;\r\n    this.hlpScope.componentRef.instance.loadData({\r\n      data: this.itemsBackScope\r\n    });\r\n  }\r\n\r\n  private getTargetRef() {\r\n    if (this.targetRef === 'Empty') {\r\n      return '';\r\n    } else {\r\n      return this.targetRef;\r\n    }\r\n  }\r\n\r\n  //为了打开后仍然显示最初数据，而不是过滤后的数据\r\n  deepCloneDefine(target: any[]) {\r\n    let result = [];\r\n    target.forEach(t => result.push(JSON.stringify(t)));\r\n    return result;\r\n  }\r\n\r\n  deepCloneBackDefine(target: any[]) {\r\n    let result = [];\r\n    target.forEach(t => result.push(JSON.parse(t)));\r\n    return result;\r\n  }\r\n\r\n}\r\nexport class BackwardRuleConverter implements TypeConverter {\r\n  constructor(\r\n    private localePipe: WfLocalePipe\r\n  ) { }\r\n\r\n  convertTo(data: any): string {\r\n    if (data) {\r\n      return this.localePipe.transform('component.backwardRule.set');\r\n    }\r\n    return this.localePipe.transform('component.backwardRule.notSet');\r\n  }\r\n}\r\n\r\n","import { Injectable } from '@angular/core';\r\nimport { PerformerEntity } from './entities/performer.entity';\r\nimport { BizComponentEntity } from '../../domain/entities/biz-component.entity';\r\nimport { ReportingLineDataEntity } from './views/reporting-line/reporting-line-data.entity';\r\nimport { PerformerInfo } from './entities/performer-info.entity';\r\nimport { PerformerDescription } from './entities/performer-description';\r\nimport { ProcessDesignerUIState } from '../../app/process-designer.uistate';\r\n\r\n@Injectable()\r\nexport class PerformerUIState {\r\n    performersList: PerformerDescription[] = [];\r\n    curPerformer: any;\r\n    typeCollection = [\r\n        { text: '用户', value: 'wf.UserParticipantExpression' },\r\n        { text: '变量参与者', value: 'wf.VariableParticipantExpression' },\r\n        { text: '岗位', value: 'wf.PositionParticipantExpression' },\r\n        { text: '构件参与者', value: 'wf.ComponentParticipantExpression' },\r\n        { text: '汇报关系', value: 'wf.ReportingLineParticipantExpression'},\r\n        { text: '矩阵', value: 'wf.MatrixParticipantExpression'},\r\n        { text: '历史活动办理人', value: 'wf.ActivityExecutorParticipantExpression' },\r\n        { text: '单位/部门', value: 'wf.OrganizationParticipantExpression'}\r\n    ];\r\n\r\n    performerInfo: PerformerInfo = {\r\n        performers: [],\r\n        variablePerformers: [],\r\n        components: [],\r\n        reportingLines: [],\r\n        matrixParticipants: [],\r\n        activityExecutors: [],\r\n        organizationParticipants: [],\r\n        options: null,\r\n        isAllScope: false\r\n    };\r\n\r\n    constructor(private uiState: ProcessDesignerUIState) {\r\n        if (this.uiState.scene === 'inSuite') {\r\n            this.typeCollection = [\r\n                { text: '用户', value: 'wf.UserParticipantExpression' },\r\n                { text: '变量参与者', value: 'wf.VariableParticipantExpression' },\r\n                { text: '角色', value: 'wf.PositionParticipantExpression' },\r\n                { text: '构件参与者', value: 'wf.ComponentParticipantExpression' },\r\n                { text: '汇报关系', value: 'wf.ReportingLineParticipantExpression' },\r\n                { text: '矩阵', value: 'wf.MatrixParticipantExpression' },\r\n                { text: '历史活动办理人', value: 'wf.ActivityExecutorParticipantExpression' },\r\n                { text: '单位/部门', value: 'wf.OrganizationParticipantExpression' }\r\n            ];\r\n        } else {\r\n            this.typeCollection = [\r\n                { text: '用户', value: 'wf.UserParticipantExpression' },\r\n                { text: '变量参与者', value: 'wf.VariableParticipantExpression' },\r\n                { text: '岗位', value: 'wf.PositionParticipantExpression' },\r\n                { text: '构件参与者', value: 'wf.ComponentParticipantExpression' },\r\n                { text: '汇报关系', value: 'wf.ReportingLineParticipantExpression' },\r\n                { text: '矩阵', value: 'wf.MatrixParticipantExpression' },\r\n                { text: '历史活动办理人', value: 'wf.ActivityExecutorParticipantExpression' },\r\n                { text: '单位/部门', value: 'wf.OrganizationParticipantExpression' }\r\n            ];\r\n        }\r\n    }\r\n\r\n    clearPerformer() {\r\n        this.performerInfo.performers = new Array();\r\n        this.performerInfo.components = new Array();\r\n        this.performerInfo.reportingLines = new Array();\r\n        this.performerInfo.matrixParticipants = new Array();\r\n        this.performerInfo.activityExecutors = new Array();\r\n        this.performerInfo.organizationParticipants = new Array();\r\n\r\n        this.performersList = new Array();\r\n    }\r\n}\r\n","import { Injectable } from '@angular/core';\r\n\r\n@Injectable()\r\nexport class PerformerRepository {\r\n\r\n}\r\n","import { Injectable, Injector, ComponentFactoryResolver } from '@angular/core';\r\nimport { PerformerEditComponent } from './views/performer-edit/performer-edit.component';\r\nimport { BsModalService } from '@farris/ui-modal';\r\n\r\n@Injectable()\r\nexport class PerformerViewModel {\r\n    constructor(\r\n        private resolver: ComponentFactoryResolver,\r\n        private injector: Injector,\r\n        private modalService: BsModalService\r\n    ) { }\r\n}\r\n","import { PerformerEntity } from './performer.entity';\r\n\r\nexport class UserPerformerEntity extends PerformerEntity {\r\n  userType: string; // 固定用户还是变量参与者\r\n  constructor(id?: string, name?: string, type?: string) {\r\n    super(id,name,type);\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpService } from '@ecp-caf/caf-common';\r\nimport { Observable } from 'rxjs';\r\nimport { ReplaySubject } from 'rxjs/ReplaySubject';\r\n\r\n@Injectable()\r\nexport class PerformerConfigService {\r\n    private lookupConfig = new ReplaySubject<any>();\r\n    constructor(private http: HttpService) {\r\n        // let rootPath = '';\r\n        // try {\r\n        //     rootPath = (window as any).gspframeworkService.common.getBasePath.get();\r\n        // } catch (error) {\r\n        // }\r\n        // this.http.get(rootPath + '/platform/runtime/wf/web/wf-proc-designer/assets/config/performerlookupconfig.json').subscribe((data) => {\r\n        this.http.get('/platform/runtime/wf/web/wf-proc-designer/assets/config/performerlookupconfig.json').subscribe((data) => {\r\n            this.lookupConfig.next(data);\r\n        });\r\n    }\r\n\r\n    getLookupConfig(): Observable<any> {\r\n        return this.lookupConfig.asObservable();\r\n    }\r\n}\r\n","import { Component, OnInit, HostBinding, ViewChild, Injector, NgZone, AfterViewInit, ElementRef, ChangeDetectorRef, Optional, Inject, LOCALE_ID } from '@angular/core';\r\nimport { ProcessDesignerUIState } from '../../../../app/process-designer.uistate';\r\nimport { ExprEditMode, ExpressionService, InjectedType } from '@gsp-svc/expression';\r\nimport { UserPerformerEntity } from '../../entities/user-performer.entity';\r\nimport { PerformerConfigService } from '../../performer-config.service';\r\nimport { HttpService } from '@ecp-caf/caf-common';\r\nimport { MessagerService } from '@farris/ui-messager';\r\nimport { PersonnelSelectorComponent } from '@farris/ui-personnel-selector';\r\nimport { WF_LANG_RESOURCES, WfLocalePipe } from '../../../../i18n/pipe/wf-process-editor-locale.pipe';\r\nimport { WF_PROCESS_EDITOR_LANG_RESOURCES } from '../../../../i18n/assets/lang.resource';\r\n\r\ndeclare var System: any;\r\n@Component({\r\n  selector: 'app-user-performer',\r\n  templateUrl: './user-performer.component.html',\r\n  styleUrls: ['./user-performer.component.scss'],\r\n  providers: [\r\n     WfLocalePipe,\r\n  ]\r\n})\r\nexport class UserPerformerComponent implements OnInit, AfterViewInit {\r\n  @HostBinding('class')\r\n  cls = 'd-flex flex-fill h-100';\r\n\r\n  @ViewChild(PersonnelSelectorComponent) userHelp: PersonnelSelectorComponent;\r\n\r\n  @ViewChild('inputGroup') inputGroup: ElementRef;\r\n  showClearButton = false;\r\n\r\n  bindingData: { id?, name?} = {};\r\n  farrisUserHelpShowTabIds = 'recent,organization';\r\n  activeTabId = 'organization';\r\n  selectedUserIds =  '';\r\n  userTypeCollection = [\r\n    { text: this.localePipe.transform('component.userPerformer.regularUser'), value: 'user' },\r\n    { text: this.localePipe.transform('component.userPerformer.variablePart'), value: 'variable' }\r\n  ];\r\n  userType = this.userTypeCollection[0].value;\r\n  variableOrgTypes = [\r\n    { name: this.localePipe.transform('component.userPerformer.sys'), value: 'Sys' },\r\n    { name: this.localePipe.transform('component.userPerformer.administrative_organization'), value: 'Administrative_organization' }\r\n  ];\r\n  curOrgType = this.variableOrgTypes[0].value;\r\n  hasAdminOrg = false;\r\n  userTypeButtonNeedShow = false; // 用户类型单选按钮是否需要显示\r\n  multiSelect = true; //选人组件是否支持多选（编辑用户时只能单选）\r\n  condition: string;\r\n  users: UserPerformerEntity[] = [];\r\n  constructor(\r\n    private designerUIState: ProcessDesignerUIState,\r\n    private expr: ExpressionService,\r\n    private injector: Injector,\r\n    private lookupConfig: PerformerConfigService,\r\n    private ngZone: NgZone,\r\n    @Optional() private cdr: ChangeDetectorRef,\r\n    @Inject(LOCALE_ID) private localeId: string,\r\n    @Inject(WF_LANG_RESOURCES) private resources: any,\r\n    @Optional() private localePipe: WfLocalePipe,\r\n    private http?: HttpService,\r\n    private message?: MessagerService\r\n  ) {\r\n    this.localePipe = this.localePipe || new WfLocalePipe(localeId, resources);\r\n   }\r\n\r\n  ngOnInit() {\r\n    const url = '/api/runtime/wf/v1.0/reportingOrgType/hasAdminOrg';\r\n    this.http.get(url).subscribe((data: any) => {\r\n      this.hasAdminOrg = data;\r\n      // inSuite场景，变量参与者场景下显示用户类型\r\n      if (this.designerUIState.scene === 'inSuite' && this.userType === 'variable') {\r\n        this.userTypeButtonNeedShow = true;\r\n      } else {\r\n        this.userTypeButtonNeedShow = data && (this.userType === 'variable' || this.userType === null);\r\n      }\r\n    });\r\n  }\r\n\r\n  ngAfterViewInit(): void {\r\n    this.ngZone.runOutsideAngular(() => {\r\n      this.inputGroup.nativeElement.addEventListener(\r\n        'mouseenter',\r\n        this.onMouseEnter.bind(this)\r\n      );\r\n      this.inputGroup.nativeElement.addEventListener(\r\n        'mouseleave',\r\n        this.onMouseLeave.bind(this)\r\n      );\r\n    });\r\n  }\r\n\r\n  onMouseEnter(event) {\r\n    this.showClearButton = true;\r\n    if (this.showClearButton) {\r\n      this.toggleClearIcon(event, true);\r\n    }\r\n  }\r\n  onMouseLeave(event) {\r\n    this.showClearButton = false;\r\n    this.toggleClearIcon(event, false);\r\n  }\r\n  private toggleClearIcon(event: any, isShow = false) {\r\n    const str = isShow ? '' : 'none';\r\n    const clearIcon = event.target.querySelector('.input-group-clear');\r\n    if (clearIcon) {\r\n      clearIcon.style.display = str;\r\n    }\r\n  }\r\n  clear(data: any) {\r\n    this.bindingData = {};\r\n    this.users = [];\r\n    this.selectedUserIds = '';\r\n    this.variableOrgTypes = [\r\n      { name: this.localePipe.transform('component.userPerformer.sys'), value: 'Sys' },\r\n      { name: this.localePipe.transform('component.userPerformer.administrative_organization'), value: 'Administrative_organization' }\r\n    ];\r\n  }\r\n  selectUsers(data: any) {\r\n    // 固定用户\r\n    if (this.userType === this.userTypeCollection[0].value) {\r\n      this.lookupConfig.getLookupConfig().subscribe(re => {\r\n        // 项目配置了自己的帮助时\r\n        if (re.user && re.user.impl) {\r\n          System.import(re.user.impl)\r\n            .then((moduleFactorys: any) => {\r\n              const moduleFactory: any = Object.values(moduleFactorys)[0];\r\n              const moduleRef = moduleFactory.create(this.injector);\r\n              moduleRef.instance.showHelp().subscribe(data => {\r\n                if (data && data.length > 0) {\r\n                  this.users = data.map(u => {\r\n                    const user = new UserPerformerEntity(u.id, u.name, 'wf.UserParticipantExpression');\r\n                    user.orgId = u.orgId;\r\n                    user.orgName = u.orgName;\r\n                    user.userType = this.userTypeCollection[0].value;\r\n                    return user;\r\n                  });\r\n                }\r\n              });\r\n            });\r\n        } else { // 加载默认帮助\r\n          this.userHelp.farrisDialogshow();\r\n        }\r\n      });\r\n    } else {\r\n      this.showExprHelp();\r\n    }\r\n  }\r\n  editConditon() {\r\n    // this.expr.clearContext();\r\n    if (this.designerUIState.schemas.length > 0) {\r\n      for (const schema of this.designerUIState.schemas) {\r\n        this.expr.addSchema('Schema', schema);\r\n      }\r\n      if (this.designerUIState.schemas[0].entityTypes && this.designerUIState.schemas[0].entityTypes.length > 0) {\r\n        const entityType = this.designerUIState.schemas[0].entityTypes[0];\r\n        this.expr.addInjectedEntity(entityType.name, 'Schema',\r\n          entityType.name, InjectedType.EntityType);\r\n      }\r\n    }\r\n    let context = new Array();\r\n    context = this.designerUIState.addContext(context);\r\n    if (this.designerUIState.subActivityContext.length > 0) {\r\n      for (const variable of this.designerUIState.subActivityContext) {\r\n        if (!context.some(c => c.key === variable.key)) {\r\n          context.push(variable);\r\n        }\r\n      }\r\n    }\r\n    if (this.designerUIState.activityComponentContext.length > 0) {\r\n      for (const variable of this.designerUIState.activityComponentContext) {\r\n        if (!context.some(c => c.key === variable.key)) {\r\n          context.push(variable);\r\n        }\r\n      }\r\n    }\r\n    if (context.length > 0) {\r\n      for (const v of context) {\r\n        this.expr.addContext(v);\r\n      }\r\n    }\r\n    this.expr.setEditPattern(ExprEditMode.Conditional); // 表达式展现模式：默认简易版\r\n    this.expr.addExpressionText(this.condition);\r\n    this.expr.buildExpression().then((expressioninfo: string) => {\r\n      this.condition = expressioninfo;\r\n      //点击确定后，去除表达式里面的新增的上下文变量\r\n      if(context.length > 0) {\r\n        this.expr.exprEntity.contextEntities = this.expr.exprEntity.contextEntities.filter(x => !context.some(y => y.key === x.key));\r\n      }\r\n    });\r\n  }\r\n  usersSelect(event: any) {\r\n    this.users = event.data.map(u => {\r\n      const user = new UserPerformerEntity(u.userId, u.name, 'wf.UserParticipantExpression');\r\n      user.orgId = u.defaultOrgId;\r\n      user.orgName = u.orgAllPath;\r\n      user.userType = this.userTypeCollection[0].value;\r\n\r\n      return user;\r\n    });\r\n  }\r\n  showExprHelp() {\r\n    // this.expr.clearContext();\r\n    this.expr.setEditPattern(ExprEditMode.Advanced);\r\n    if (this.designerUIState.schemas.length > 0) {\r\n      for (const schema of this.designerUIState.schemas) {\r\n        this.expr.addSchema('Schema', schema);\r\n      }\r\n      if (this.designerUIState.schemas[0].entityTypes && this.designerUIState.schemas[0].entityTypes.length > 0) {\r\n        const entityType = this.designerUIState.schemas[0].entityTypes[0];\r\n        this.expr.addInjectedEntity(entityType.name, 'Schema',\r\n          entityType.name, InjectedType.EntityType);\r\n      }\r\n    }\r\n    const context = new Array();\r\n    if (this.designerUIState.participantContext.length > 0) {\r\n      for (const variable of this.designerUIState.participantContext) {\r\n        context.push(variable);\r\n      }\r\n    }\r\n    if (this.designerUIState.subActivityContext.length > 0) {\r\n      for (const variable of this.designerUIState.subActivityContext) {\r\n        if (!context.some(c => c.key === variable.key)) {\r\n          context.push(variable);\r\n        }\r\n      }\r\n    }\r\n    if (this.designerUIState.processVariableContext.length > 0) {\r\n      for (const variable of this.designerUIState.processVariableContext) {\r\n        if (!context.some(c => c.key === variable.key)) {\r\n          context.push(variable);\r\n        }\r\n      }\r\n    }\r\n    if (context.length > 0) {\r\n      for (const v of context) {\r\n        this.expr.addContext(v);\r\n      }\r\n    }\r\n    if (this.users.length > 0) {\r\n      this.expr.addExpressionText(this.users[0].performerId);\r\n    } else {\r\n      this.expr.addExpressionText('');\r\n    }\r\n    this.expr.buildExpression().then((expressioninfo: string) => {\r\n      const user = new UserPerformerEntity(expressioninfo, '', 'wf.UserParticipantExpression');\r\n      user.tag = 'expression';\r\n      user.performerName = this.variableParticipantName(expressioninfo);\r\n      user.userType = this.userTypeCollection[1].value;\r\n      if (this.variableParticipantName(expressioninfo) === '') {\r\n        this.message.error(this.localePipe.transform('component.userPerformer.cantUseContext'));\r\n        this.users = [];\r\n      } else {\r\n        this.users = [user];\r\n      }\r\n      for (const c of this.designerUIState.participantContext) { // 根据表达式中的函数名判断是否使用的是上下文变量,除三种特殊上下文变量其余放开限制\r\n        if (user.performerId.indexOf(c.key) >= 0) {\r\n          this.variableOrgTypes = [\r\n            { name: this.localePipe.transform('component.userPerformer.sys'), value: 'Sys' }];\r\n          break;\r\n        } else {\r\n          this.variableOrgTypes = [\r\n            { name: this.localePipe.transform('component.userPerformer.sys'), value: 'Sys' },\r\n            { name: this.localePipe.transform('component.userPerformer.administrative_organization'), value: 'Administrative_organization' }\r\n          ];\r\n        }\r\n      }\r\n      //点击确定后，去除表达式里面的新增的上下文变量\r\n      if(context.length > 0) {\r\n        this.expr.exprEntity.contextEntities = this.expr.exprEntity.contextEntities.filter(x => !context.some(y => y.key === x.key));\r\n      }\r\n    });\r\n  }\r\n  getPerformers() {\r\n    this.users.map(user => {\r\n      if (user.orgId === undefined) {\r\n        user.orgType = this.curOrgType;\r\n        return user;\r\n      }\r\n    });\r\n    if (!this.condition) {\r\n      this.condition = '';\r\n    }\r\n    if (this.condition || this.condition === '') {\r\n      this.users = this.users.map(user => {\r\n        user.condition = this.condition;\r\n        return user;\r\n      });\r\n    }\r\n    return this.users;\r\n  }\r\n  private variableParticipantName(expr: string): string {\r\n    for (const c of this.designerUIState.participantContext) {\r\n      if (expr.indexOf(c.key) > -1) {\r\n        if (this.curOrgType !== 'Sys') { // 行政人员类型不允许使用上下文变量\r\n          return '';\r\n        }\r\n        return c.name;\r\n      }\r\n    }\r\n    for (const c of this.designerUIState.processVariableContext) {\r\n      if (expr.indexOf(c.key) > -1) {\r\n        return c.name;\r\n      }\r\n    }\r\n    return JSON.parse(expr).expr;\r\n  }\r\n  orgTypeChange(data: any) {\r\n    if (data === 'Sys') {\r\n      this.curOrgType = this.variableOrgTypes[0].value;\r\n    } else {\r\n        this.curOrgType = this.variableOrgTypes[1].value;\r\n    }\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpService } from '@ecp-caf/caf-common';\r\nimport { Observable } from 'rxjs';\r\n\r\n@Injectable()\r\nexport class ComponentPerformerService {\r\n    constructor(private http: HttpService) {\r\n\r\n    }\r\n    getLookUpData(helpId: string, su: string, pageIndex: number, pageSiza: number, search?: any): Observable<any> {\r\n        let url = `/api/runtime/wf/v1.0/dtProcDefs/getHelpData?helpId=${helpId}&pageIndex=${pageIndex}&pageSize=${pageSiza}`;\r\n        if (search) {\r\n            url += `&searchValue=${JSON.stringify(search)}`;\r\n        }\r\n        return this.http.get(url);\r\n    }\r\n    getHelpMetaData(helpId: string, su: string): Observable<any> {\r\n        const url = `/api/runtime/lcm/v1.0/rt-metadatas/${helpId}`;\r\n        return this.http.get(url);\r\n    }\r\n}\r\n","import { ProcessDeUtil } from '../../../../domain/process-de-util';\r\n\r\nexport class ComponentPerformer {\r\n    constructor() {\r\n        this.id = ProcessDeUtil.GenerateElementId();\r\n    }\r\n    id: string;\r\n    name: string;\r\n    metadataId: string;\r\n    methodCode: string;\r\n    methodName: string;\r\n    actualParameters: Array<ActualParameter>;\r\n    condition: string;\r\n}\r\n\r\nexport class ActualParameter {\r\n    code: string;\r\n    value: string;\r\n    valueText: string;\r\n    tag: string;\r\n    fetchValueMode?: any;\r\n    fetchValueSetting?: any;\r\n}\r\n","import { Component, OnInit, ComponentFactoryResolver, Injector, Input, ViewChild, ElementRef, HostBinding, AfterViewInit, NgZone, Optional, ChangeDetectorRef, Inject, LOCALE_ID } from '@angular/core';\r\nimport { FormBuilder } from '@angular/forms';\r\nimport { ProcessDesignerUIState } from '../../../../app/process-designer.uistate';\r\nimport { ExpressionService, InjectedType, ExprEditMode } from '@gsp-svc/expression';\r\nimport { HttpService, SessionService } from '@ecp-caf/caf-common';\r\nimport { BsModalService } from '@farris/ui-modal';\r\nimport { CommonComponentUiRTService, SelectorResult } from '@gsp-cmp/ccmp-ui';\r\nimport { SelectMetadataRTComponent, Metadata4RefDto, MetadataDto } from '@gsp-lcm/metadatart-selector';\r\nimport { GspComponent } from '@gsp-cmp/common-component';\r\nimport { DataColumn, DatagridComponent } from '@farris/ui-datagrid';\r\nimport { of, forkJoin, Observable, throwError } from 'rxjs';\r\nimport { RowEditParam } from '@farris/ui-datagrid/lib/types';\r\nimport { EditorTypes } from '@farris/ui-datagrid-editors';\r\nimport { LookupGridComponent } from '@farris/ui-lookup';\r\nimport { ComponentPerformerService } from './component-performer.service';\r\nimport { WebServiceParameter, ParameterFetchValueMode, HelpFetchValueSetting } from '@gsp-cmp/wscmp-models';\r\nimport { ComponentPerformer, ActualParameter } from './component-performer.entity';\r\nimport { ProcessDeUtil } from '../../../../domain/process-de-util';\r\nimport { catchError } from 'rxjs/operators';\r\nimport { WF_LANG_RESOURCES, WfLocalePipe } from '../../../../i18n/pipe/wf-process-editor-locale.pipe';\r\nimport { WF_PROCESS_EDITOR_LANG_RESOURCES } from '../../../../i18n/assets/lang.resource';\r\n@Component({\r\n  selector: 'app-component-performer',\r\n  templateUrl: './component-performer.component.html',\r\n  styleUrls: ['./component-performer.component.scss'],\r\n  providers: [\r\n    ComponentPerformerService,\r\n     WfLocalePipe\r\n  ]\r\n})\r\nexport class ComponentPerformerComponent implements OnInit, AfterViewInit {\r\n  @HostBinding('class')\r\n  cls = 'farris-main-area flex-column';\r\n  private componentPerformer: ComponentPerformer;\r\n  @ViewChild(DatagridComponent) grid: DatagridComponent;\r\n  @ViewChild(LookupGridComponent) lookup: LookupGridComponent;\r\n  @ViewChild('inputGroup') inputGroup: ElementRef;\r\n  showClearButton = false;\r\n  helpId='';\r\n  lookupDisplayText='';\r\n  @Input()\r\n  set component(cmp: ComponentPerformer) {\r\n    if (cmp && cmp.methodCode) {\r\n      this.service.getHelpMetaData(cmp.metadataId, '').subscribe(re => {\r\n        const c = JSON.parse(re.content);\r\n        const operation = c.operations.find(o => o.code === cmp.methodCode);\r\n        if (operation) {\r\n          cmp.actualParameters = cmp.actualParameters.map(a => {\r\n            const p = operation.parameters.find(i => i.code === a.code);\r\n            if (p) {\r\n              return {\r\n                code: a.code,\r\n                name: p.name,\r\n                value: a.value,\r\n                valueText: a.valueText ? a.valueText : a.value,\r\n                description: p.description,\r\n                tag: a.tag,\r\n                fetchValueMode: p.fetchValueMode,\r\n                fetchValueSetting: p.fetchValueSetting\r\n              };\r\n            } else {\r\n              throw new Error(this.localePipe.transform('component.componentPerformer.componentMethod'));\r\n            }\r\n          });\r\n          this.componentPerformer = cmp;\r\n        } else {\r\n          throw new Error(this.localePipe.transform('component.componentPerformer.methodNotExist'));\r\n        }\r\n      });\r\n    } else {\r\n      this.componentPerformer = new ComponentPerformer();\r\n    }\r\n  }\r\n  get component() {\r\n    return this.componentPerformer;\r\n  }\r\n\r\n  curParameter: ActualParameter;\r\n  columns = [\r\n    { field: 'code', width: 60, title: this.localePipe.transform('component.componentPerformer.code') },\r\n    { field: 'name', width: 60, title: this.localePipe.transform('component.componentPerformer.name') },\r\n    { field: 'description', width: 60, title: this.localePipe.transform('component.componentPerformer.description'), showTips: true },\r\n    {\r\n      field: 'valueText', width: 100, title: this.localePipe.transform('component.componentPerformer.valueText'),\r\n      editor: {\r\n        type: 'input-group',\r\n        options: {\r\n          groupText: '<i class=\"f-icon f-icon-lookup\"></i>',\r\n          editable: false,\r\n          clickHandle: (e) => {\r\n            e.formControl.setValue(e.instance.value ? e.instance.value : '');\r\n            this.showExprHelp(e);\r\n          },\r\n          clear: (e) => {\r\n            // 清理valueText，也应该清理value\r\n            e.rowData.value = '';\r\n            for (const p of this.component.actualParameters) {\r\n              if (p.code === e.rowId) {\r\n                p.value = '';\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  ];\r\n  helpInfo = {\r\n    helpId: '',\r\n    su: '',\r\n    columns: [],\r\n    displayType: 'List',\r\n    items: [],\r\n    pageInfo: {\r\n      pageIndex: 1,\r\n      pageList: [10, 20, 30, 50],\r\n      pageSize: 20\r\n    },\r\n    search: { category: 'all'},\r\n    title: this.localePipe.transform('component.componentPerformer.help'),\r\n    total: 100,\r\n    fieldInfo: {\r\n      idField: 'id',\r\n      textField: 'name',\r\n      valueField: 'id'\r\n    }\r\n  };\r\n  cell: any;\r\n  constructor(\r\n    private designerState: ProcessDesignerUIState,\r\n    private expr: ExpressionService,\r\n    private resolver: ComponentFactoryResolver,\r\n    private injector: Injector,\r\n    private sessionSrc: SessionService,\r\n    private modalService: BsModalService,\r\n    private componentService: CommonComponentUiRTService,\r\n    private ngZone: NgZone,\r\n    private service: ComponentPerformerService,\r\n    private util: ProcessDeUtil,\r\n    private http: HttpService,\r\n    @Optional() private cdr: ChangeDetectorRef,\r\n    @Inject(LOCALE_ID) private localeId: string,\r\n    @Inject(WF_LANG_RESOURCES) private resources: any,\r\n    @Optional() private localePipe: WfLocalePipe,\r\n  ) {\r\n    this.localePipe = this.localePipe || new WfLocalePipe(localeId, resources);\r\n   }\r\n\r\n  ngOnInit() {\r\n  }\r\n  ngAfterViewInit(): void {\r\n    this.ngZone.runOutsideAngular(() => {\r\n      this.inputGroup.nativeElement.addEventListener(\r\n        'mouseenter',\r\n        this.onMouseEnter.bind(this)\r\n      );\r\n      this.inputGroup.nativeElement.addEventListener(\r\n        'mouseleave',\r\n        this.onMouseLeave.bind(this)\r\n      );\r\n    });\r\n  }\r\n\r\n  onMouseEnter(event) {\r\n    this.showClearButton = true;\r\n    if (this.showClearButton) {\r\n      this.toggleClearIcon(event, true);\r\n    }\r\n  }\r\n  onMouseLeave(event) {\r\n    this.showClearButton = false;\r\n    this.toggleClearIcon(event, false);\r\n  }\r\n  private toggleClearIcon(event: any, isShow = false) {\r\n    const str = isShow ? '' : 'none';\r\n    const clearIcon = event.target.querySelector('.input-group-clear');\r\n    if (clearIcon) {\r\n      clearIcon.style.display = str;\r\n    }\r\n  }\r\n\r\n  selectChanged(event) {\r\n    this.curParameter = event.data;\r\n  }\r\n  beforeEdit = (param: RowEditParam) => {\r\n    const rowData = param.rowData as any;\r\n    this.curParameter = rowData;\r\n    switch (rowData.fetchValueMode) {\r\n      case ParameterFetchValueMode.express:\r\n        param.column.editor = {\r\n          type: 'input-group',\r\n          options: {\r\n            groupText: '<i class=\"f-icon f-icon-lookup\"></i>',\r\n            editable: false,\r\n            clickHandle: (e) => {\r\n              e.formControl.setValue(e.instance.value ? e.instance.value : '');\r\n              this.showExprHelp(e);\r\n            },\r\n            clear: (e) => {\r\n              // 清理valueText，也应该清理value\r\n              e.rowData.value = '';\r\n              for (const p of this.component.actualParameters) {\r\n                if (p.code === e.rowId) {\r\n                  p.value = '';\r\n                }\r\n              }\r\n            }\r\n          }\r\n        };\r\n        break;\r\n      case ParameterFetchValueMode.none:\r\n        param.column.editor = {\r\n          type: 'input-group',\r\n          options: {\r\n            groupText: '<i class=\"f-icon f-icon-lookup\"></i>',\r\n            editable: false,\r\n            clickHandle: (e) => {\r\n              e.formControl.setValue(e.instance.value ? e.instance.value : '');\r\n              this.showExprHelp(e);\r\n            },\r\n            clear: (e) => {\r\n              // 清理valueText，也应该清理value\r\n              e.rowData.value = '';\r\n              for (const p of this.component.actualParameters) {\r\n                if (p.code === e.rowId) {\r\n                  p.value = '';\r\n                }\r\n              }\r\n            }\r\n          }\r\n        };\r\n        break;\r\n      case ParameterFetchValueMode.const:\r\n        param.column.editor = { type: EditorTypes.TEXTBOX, options: {} };\r\n        break;\r\n      case ParameterFetchValueMode.enum:\r\n        param.column.editor = { type: EditorTypes.TEXTBOX, options: {} };\r\n        break;\r\n      case ParameterFetchValueMode.help:\r\n        param.column.editor = {\r\n          type: 'input-group',\r\n          options: {\r\n            groupText: '<i class=\"f-icon f-icon-lookup\"></i>',\r\n            editable: false,\r\n            clickHandle: (e) => {\r\n              this.cell = e;\r\n              this.helpInfo.helpId = (rowData.fetchValueSetting as HelpFetchValueSetting).helpId;\r\n              this.helpInfo.su = (rowData.fetchValueSetting as HelpFetchValueSetting).serviceUnit;\r\n              this.helpInfo.pageInfo = {\r\n                pageIndex: 1,\r\n                pageList: [10, 20, 30, 50],\r\n                pageSize: 20\r\n              };\r\n              this.helpInfo.search = { category: 'all' };\r\n              this.getHelpInfo();\r\n            },\r\n            clear: (e) => {\r\n              // 清理valueText，也应该清理value\r\n              e.rowData.value = '';\r\n              for (const p of this.component.actualParameters) {\r\n                if (p.code === e.rowId) {\r\n                  p.value = '';\r\n                }\r\n              }\r\n            }\r\n          }\r\n        };\r\n        break;\r\n    }\r\n    return of(true);\r\n  }\r\n  afterEdit = (rowIndex: number, rowData: any, column?: DataColumn) => {\r\n    return of(true);\r\n  }\r\n\r\n  endEdit(e: any) {\r\n    // 文本框编辑同时修改value\r\n    if (e.rowData.fetchValueMode === ParameterFetchValueMode.const || e.rowData.fetchValueMode === ParameterFetchValueMode.enum) {\r\n      this.component.actualParameters[e.rowIndex].value = this.component.actualParameters[e.rowIndex].valueText;\r\n    }\r\n  }\r\n\r\n  clear() {\r\n    this.componentPerformer.name = '';\r\n    this.componentPerformer.metadataId = '';\r\n    this.componentPerformer.methodCode = '';\r\n    this.componentPerformer.methodName = '';\r\n    this.componentPerformer.condition = '';\r\n    this.componentPerformer.actualParameters = new Array();\r\n  }\r\n\r\n  selectComponent() {\r\n    const compFactory = this.resolver.resolveComponentFactory(SelectMetadataRTComponent);\r\n    const compRef = compFactory.create(this.injector);\r\n    compRef.instance.typeList = 'WebServiceComponent'; // 目前只能根据元数据类型过滤，后续添加标签过滤\r\n    compRef.instance.selectedMetadata.subscribe(($event: Metadata4RefDto) => {\r\n      try {\r\n        const meta: MetadataDto = $event.metadata;\r\n        this.openComponentSelectorNew(meta.id, this.sessionSrc.getUserSessionId());\r\n      } catch {\r\n        console.log('$event', $event);\r\n        throw new Error(this.localePipe.transform('component.componentPerformer.errorObtaining') + $event);\r\n      }\r\n    });\r\n\r\n    const modalConfig = {\r\n      title: this.localePipe.transform('component.componentPerformer.componentSelection'),\r\n      width: 980,\r\n      height: 548,\r\n      showButtons: false\r\n    };\r\n    const dialog = this.modalService.show(compRef, modalConfig);\r\n    compRef.instance.closeModalEmitter.subscribe($event => dialog.close());\r\n  }\r\n  private openComponentSelectorNew(metadataId: string, sessionId: string) {\r\n    this.componentService.openSelector(metadataId, sessionId).subscribe(\r\n      (selectorResult: SelectorResult) => {\r\n        selectorResult.confirmEvent.subscribe(\r\n          (result: GspComponent) => {\r\n            if (result) {\r\n              this.component.name = result.name;\r\n              this.component.metadataId = result.id;\r\n              this.component.methodCode = result.operations[0].code;\r\n              this.component.methodName = result.operations[0].name;\r\n              this.component.actualParameters = [];\r\n\r\n              if (result.operations[0].parameters && result.operations[0].parameters.length > 0) {\r\n                this.component.actualParameters = result.operations[0].parameters\r\n                  .map((p: WebServiceParameter) => (\r\n                    {\r\n                      code: p.code,\r\n                      name: p.name,\r\n                      value: '',\r\n                      valueText: '',\r\n                      description: p.description,\r\n                      fetchValueMode: p.fetchValueMode,\r\n                      fetchValueSetting: p.fetchValueSetting\r\n                    }) as any);\r\n              }\r\n            }\r\n          });\r\n      });\r\n  }\r\n  showExprHelp(e: any) {\r\n    // this.expr.clearContext();\r\n    if (this.designerState.schemas.length > 0) {\r\n      for (const schema of this.designerState.schemas) {\r\n        this.expr.addSchema('Schema', schema);\r\n      }\r\n      if (this.designerState.schemas[0].entityTypes && this.designerState.schemas[0].entityTypes.length > 0) {\r\n        const entityType = this.designerState.schemas[0].entityTypes[0];\r\n        this.expr.addInjectedEntity(entityType.name, 'Schema',\r\n          entityType.name, InjectedType.EntityType);\r\n      }\r\n    }\r\n    let context = new Array();\r\n    context = this.designerState.addContext(context);\r\n    if (this.designerState.subActivityContext.length > 0) {\r\n      for (const variable of this.designerState.subActivityContext) {\r\n        if (!context.some(c => c.key === variable.key)) {\r\n          context.push(variable);\r\n        }\r\n      }\r\n    }\r\n    if (context.length > 0) {\r\n      for (const v of context) {\r\n        this.expr.addContext(v);\r\n      }\r\n    }\r\n    this.expr.setEditPattern(ExprEditMode.Advanced); // 默认打开高级表达式编辑器\r\n    this.expr.addExpressionText(e.instance.value);\r\n    this.expr.buildExpression().then((d: string) => {\r\n      if (d) {\r\n        e.formControl.setValue(d);\r\n        e.instance.cd.detectChanges();\r\n        e.rowData.value = d;\r\n        for (const p of this.component.actualParameters) {\r\n          if (p.code === e.rowId) {\r\n            p.value = d;\r\n          }\r\n        }\r\n      }\r\n      //点击确定后，去除表达式里面的新增的上下文变量\r\n      if(context.length > 0) {\r\n        this.expr.exprEntity.contextEntities = this.expr.exprEntity.contextEntities.filter(x => !context.some(y => y.key === x.key));\r\n      }\r\n    });\r\n  }\r\n\r\n  getPerformers() {\r\n    this.grid.endCellEdit();\r\n    console.log(this.component);\r\n    return this.component;\r\n  }\r\n\r\n  private getHelpInfo() {\r\n    // 2023年6月29日 此处获取帮助的结构\r\n    this.service.getHelpMetaData(this.helpInfo.helpId, this.helpInfo.su).subscribe(re => {\r\n      if (re) {\r\n        const meta = re;\r\n        const help = JSON.parse(meta.content) as any;\r\n        this.helpInfo.columns = help.dataSource.columns;\r\n        this.helpInfo.displayType = help.displayType;\r\n        this.helpInfo.fieldInfo = {\r\n          idField: help.idField,\r\n          valueField: help.valueField,\r\n          textField: help.textField\r\n        };\r\n      } else {\r\n        throw new Error(this.localePipe.transform('component.componentPerformer.metadataNotExist'));\r\n      }\r\n    })\r\n    // 打开帮助\r\n    this.lookup.showDialog();\r\n  }\r\n\r\n  /**\r\n   * 帮助前事件\r\n   * @param e\r\n   * @returns\r\n   */\r\n  onDictPicking = (e) => {\r\n    e.instance.http = {\r\n      getData: (url:string, params: any): Observable<any>  => {\r\n        const _url = `/api/runtime/bcc/v1.0/help/data/${this.helpInfo.helpId}`;\r\n        params = Object.assign(params || {}, { withSpecificField: true });\r\n        return this.http.put(_url, params).pipe(\r\n            catchError((e) => {\r\n                if (e.error && e.error.innerMessage && e.error.innerMessage.indexOf('Could not find metadata') > -1) {\r\n                    e.error.Message = this.localePipe.transform('component.componentPerformer.serverSideNotFound');\r\n                }\r\n                return throwError(e);\r\n            })\r\n        )\r\n      }\r\n    }\r\n    return of(true);\r\n  }\r\n\r\n  dictPicked = (rowData) => {\r\n    if (this.cell) {\r\n      this.cell.formControl.setValue(this.util.getValue(rowData, this.helpInfo.fieldInfo.textField));\r\n      this.cell.instance.cd.detectChanges();\r\n      this.cell.rowData.value = this.util.getValue(rowData, this.helpInfo.fieldInfo.valueField);\r\n      for (const p of this.component.actualParameters) {\r\n        if (p.code === this.cell.rowId) {\r\n          p.value = this.util.getValue(rowData, this.helpInfo.fieldInfo.valueField);\r\n        }\r\n      }\r\n      return of(true);\r\n    }\r\n  }\r\n  pagerChanged(data: any) {\r\n    if (data) {\r\n      this.helpInfo.pageInfo.pageIndex = data.pageIndex;\r\n      this.helpInfo.pageInfo.pageSize = data.pageSize;\r\n      this.service.getLookUpData(this.helpInfo.helpId, this.helpInfo.su,\r\n        this.helpInfo.pageInfo.pageIndex, this.helpInfo.pageInfo.pageSize, this.helpInfo.search)\r\n        .subscribe(re => {\r\n          this.helpInfo.items = re.items;\r\n          this.helpInfo.title = re.title;\r\n          this.helpInfo.total = re.total;\r\n          this.lookup.loadData(re);\r\n        });\r\n    }\r\n  }\r\n  search(data) {\r\n    console.log(data);\r\n    this.helpInfo.search = { category: 'search' };\r\n    if (data) {\r\n      const searchInfo = {\r\n        searchField: data.field || data.search.field,\r\n        searchValue: data.value || data.search.value\r\n      };\r\n      this.helpInfo.search = Object.assign(this.helpInfo.search, searchInfo);\r\n      this.service.getLookUpData(this.helpInfo.helpId, this.helpInfo.su,\r\n        this.helpInfo.pageInfo.pageIndex, this.helpInfo.pageInfo.pageSize, this.helpInfo.search)\r\n        .subscribe(re => {\r\n          this.helpInfo.items = re.items;\r\n          this.helpInfo.title = re.title;\r\n          this.helpInfo.total = re.total;\r\n          this.lookup.loadData(re);\r\n        });\r\n    }\r\n  }\r\n}\r\n","import { ProcessDeUtil } from '../../../../domain/process-de-util';\r\nimport {PerformerEntity} from \"../../entities/performer.entity\";\r\nexport enum ReportingRank {\r\n    DirectSuperior = 'DirectSuperior',\r\n    HigherSuperior = 'HigherSuperior'\r\n}\r\nexport class ReportingLineDataEntity extends PerformerEntity {\r\n  constructor(id?: string, name?: string, type?: string) {\r\n    super(id,name,type);\r\n  }\r\n  reportingLineDefId: string;\r\n  reportingLineDefName: string;\r\n  refOrgId: string;\r\n  refOrgName: string;\r\n  refUserId: string;\r\n  refEmployeeId: string;\r\n  dimension: string;\r\n  condition: string;\r\n  reportingReferObject: string;\r\n}\r\n\r\n","import { ILookupHttpService, RemoteParams, LookupGridResult } from '@farris/ui-lookup';\r\nimport { Injectable } from '@angular/core';\r\nimport { HttpService } from '@ecp-caf/caf-common';\r\nimport { Observable, of } from 'rxjs';\r\nimport { map } from 'rxjs/operators';\r\n\r\n@Injectable()\r\nexport class WfReportDefHelpService implements ILookupHttpService {\r\n\r\n  constructor(\r\n    private http: HttpService\r\n  ) {\r\n  }\r\n\r\n  getData(url: string, params?: RemoteParams): Observable<LookupGridResult> {\r\n    const customData = params.customData;\r\n    const index = params.pageIndex || 1;\r\n    const size = params.pageSize || 20;\r\n    const searchValue = JSON.parse(params.searchValue);\r\n    if (searchValue.searchValue || customData.filter) {\r\n      let query = '{';\r\n      if (searchValue.searchValue) {\r\n        if (searchValue.searchField === '*') {\r\n          query += `\"codeOrNameLike\":\"${searchValue.searchValue}\",`;\r\n        } else {\r\n          query += `\"${searchValue.searchField}\":\"${searchValue.searchValue}\",`;\r\n        }\r\n      }\r\n      if (customData.filter) {\r\n        const keys = Object.keys(customData.filter);\r\n        if (keys && keys.length > 0) {\r\n          for (const key of keys) {\r\n            if (customData.filter[key]) {\r\n              query += `\"${key}\":\"${customData.filter[key]}\",`;\r\n            }\r\n          }\r\n        }\r\n      }\r\n      if (query.substr(query.length - 1, 1) === ',') {\r\n        query = query.substring(0, query.length - 1);\r\n      }\r\n      query += '}';\r\n      query = encodeURIComponent(query);\r\n      query += `&pageIndex=${index}&pageSize=${size}`;\r\n      url += '?pageFilter=' + query;\r\n    } else {\r\n      url += `?pageIndex=${index}&pageSize=${size}`;\r\n    }\r\n    return this.http.get(url).pipe(\r\n      map((re: any) => ({\r\n        items: re.content,\r\n        total: re.totalElements,\r\n        pageInfo: {\r\n          pageIndex: re.pageable.pageNumber + 1,\r\n          pageSize: re.pageable.pageSize,\r\n          pageList: [20, 40, 60, 80, 100],\r\n          enablePager: true\r\n        }\r\n      }))\r\n    );\r\n  }\r\n}\r\n","import { Component, OnInit, Input, Output, EventEmitter, ViewChild } from '@angular/core';\r\nimport { Observable, of } from 'rxjs';\r\nimport { PickedResult, LookupGridComponent, ServerSideToken } from '@farris/ui-lookup';\r\nimport { WfReportDefHelpService } from './wf-report-def-help.service';\r\nimport { WfLocalePipe } from '../../../../../i18n/pipe/wf-process-editor-locale.pipe';\r\n\r\n@Component({\r\n  selector: 'app-wf-report-def-help',\r\n  template: `\r\n    <farris-lookup-grid #lookup\r\n      [disabled]=\"disabled\"\r\n      [editable]=\"false\"\r\n      [bindingData]=\"bindingData\"\r\n      [(ngModel)]=\"displayTxt\"\r\n      [columns]=\"columns\"\r\n      [singleSelect]=\"singleSelect\"\r\n      title=\"title\"\r\n      [displayType]=\"'List'\"\r\n      [uri]=\"dataUri\"\r\n      [idField]=\"'id'\"\r\n      [pageIndex]=\"pageIndex\"\r\n      [pageSize]=\"pageSize\"\r\n      [pagination]=\"pagination\"\r\n      [valueField]=\"'id'\"\r\n      [textField]=\"'name'\"\r\n      (clear)=\"afterClear($event)\"\r\n      [dialogWidth]=\"width\"\r\n      [dictPicking]=\"beforeOpen\"\r\n      [dictPicked]=\"dictPicked\">\r\n    </farris-lookup-grid>\r\n  `,\r\n  styles: [],\r\n  providers: [{ provide: ServerSideToken, useClass: WfReportDefHelpService }]\r\n})\r\nexport class WfReportDefHelpComponent implements OnInit {\r\n  /** 标题 */\r\n  @Input() title: string;\r\n  /** 宽度 */\r\n  @Input() width = 550;\r\n  /** 取数源 */\r\n  @Input() sourceType: 'matrixField';\r\n  /** 只读 */\r\n  @Input() disabled = false;\r\n  /** 是否单选 */\r\n  @Input() singleSelect = true;\r\n  /** 是否分页，默认true */\r\n  @Input() pagination = true;\r\n  /** 首次加载第几页，默认1 */\r\n  @Input() pageIndex = 1;\r\n  /** 每页加载数，默认20 */\r\n  @Input() pageSize = 20;\r\n  /** 绑定到帮助上的数据，初始显示值用 */\r\n  @Input() displayTxt: string;\r\n  /** 存储帮助选择的对象 */\r\n  @Input() bindingData: { id: string, name: string };\r\n  /** 过滤条件 */\r\n  @Input() filter: any = {};\r\n\r\n  // @Input() beforeClose: (selectData: any) => Observable<PickedResult>;\r\n  /** 帮助选择后事件 */\r\n  @Output() afterConfirm: EventEmitter<any> = new EventEmitter<any>();\r\n  @Output() dialogClosed: EventEmitter<any> = new EventEmitter<any>();\r\n  @Output() clear: EventEmitter<any> = new EventEmitter<any>();\r\n  dataUri: string;\r\n  columns: any[] = [];\r\n\r\n  @ViewChild('lookup') public lookUp: LookupGridComponent;\r\n\r\n  constructor(\r\n    private localePipe: WfLocalePipe\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n    this.columns = [\r\n      { title: this.localePipe.transform('component.reportingLine.code'), field: 'code', width: '80', searchField: 'code', },\r\n      { title: this.localePipe.transform('component.reportingLine.name'), field: 'name', width: '100', searchField: 'name', }\r\n    ];\r\n    // this.dataUri = this.uiState.dataUri;\r\n    this.dataUri = '/api/runtime/wf/v1.0/reportingLineDefinitions/query';\r\n    // 必须要有，否则初始选中不起作用\r\n    this.lookUp.mapFields = { id: 'id', name: 'name' };\r\n  }\r\n\r\n  afterClear(arg: any) {\r\n    this.clear.next(arg);\r\n  }\r\n\r\n  /** 帮助前事件,强行传递过滤条件 */\r\n  beforeOpen = (arg) => {\r\n    // 把过滤数据和当前的数据传递到service层\r\n    return of({\r\n      showDialog: true, data: {\r\n        filter: this.filter\r\n      }\r\n    });\r\n  }\r\n  dictPicked = (arg: any): Observable<PickedResult> => {\r\n    this.afterConfirm.next(arg);\r\n    return of({ closeDialog: true });\r\n  }\r\n\r\n\r\n  /** 手动显示帮助 */\r\n  public showHelp() {\r\n    this.lookUp.showDialog();\r\n  }\r\n}\r\n","import { Component, OnInit, ViewChild, HostBinding, ElementRef, NgZone, Input, ChangeDetectorRef, Optional, Inject, LOCALE_ID } from '@angular/core';\r\nimport { HttpService } from '@ecp-caf/caf-common';\r\nimport { ReportingLineDefinitionEntity } from './reporting-line-definition.entity';\r\nimport { ReportingLineDataEntity } from './reporting-line-data.entity';\r\nimport { reportingLineDimensionEntity } from './reporting-line-dimension.entity';\r\nimport { of } from 'rxjs';\r\nimport { ProcessDesignerUIState } from '../../../../app/process-designer.uistate';\r\nimport { ExprEditMode, ExpressionService, InjectedType } from '@gsp-svc/expression';\r\nimport { LookupGridComponent } from '@farris/ui-lookup';\r\nimport { SysFarrisTreeHelpComponent } from \"@gsp-sys/sysmgr-ui\";\r\nimport { PerformerEntity } from \"../../entities/performer.entity\";\r\nimport { WfReportDefHelpComponent } from \"./service/wf-report-def-help.component\";\r\nimport { WF_LANG_RESOURCES, WfLocalePipe } from '../../../../i18n/pipe/wf-process-editor-locale.pipe';\r\nimport { WF_PROCESS_EDITOR_LANG_RESOURCES } from '../../../../i18n/assets/lang.resource';\r\ndeclare var System: any;\r\n\r\n@Component({\r\n  selector: 'app-reporting-line',\r\n  templateUrl: './reporting-line.component.html',\r\n  styleUrls: ['./reporting-line.component.scss'],\r\n  providers: [\r\n     WfLocalePipe,\r\n  ]\r\n})\r\nexport class ReportingLineComponent implements OnInit {\r\n  @HostBinding('class')\r\n  cls = 'd-flex flex-fill h-100';\r\n  treeFilter = '';\r\n  display: string = 'none';\r\n  typeReadOnly = false;\r\n  groupIcon2 = '<i class=\"f-icon f-icon-lookup\"></i>';\r\n  defName = '';\r\n\r\n  /**\r\n   * 汇报关系数据\r\n   */\r\n  reportingLineDataEntity: ReportingLineDataEntity = new ReportingLineDataEntity();\r\n\r\n  /**\r\n   * 汇报关系定义列表\r\n   */\r\n  reportingLineDefinitionList: ReportingLineDefinitionEntity[] = [];\r\n  reportingLineDefinition: any;\r\n\r\n  reportingLineDimension: reportingLineDimensionEntity[] = [];\r\n  @ViewChild(WfReportDefHelpComponent) reportingLineDefHelp: WfReportDefHelpComponent;\r\n\r\n  @Input()\r\n  set setReportingLineDataEntity(dataEntity: ReportingLineDataEntity) {\r\n    this.defName = dataEntity.reportingLineDefName;\r\n    this.reportingLineDataEntity = dataEntity;\r\n    const defUrl = '/api/runtime/wf/v1.0/reportingLineDefinitions/' + dataEntity.reportingLineDefId;\r\n    this.http.get(defUrl).subscribe((re: any) => {\r\n      this.reportingLineDefinition = re;\r\n      this.designerUIState.dimensions = [\r\n        { value: 'higherSuperior', text: this.localePipe.transform('component.reportingLine.higherSuperior') }\r\n      ];\r\n      // 兼容历史数据\r\n      if (JSON.parse(this.reportingLineDefinition.dimensions)[0].code !== 'directSuperior') {\r\n        const di = {\r\n          value: 'directSuperior',\r\n          text: this.localePipe.transform('component.reportingLine.directSuperior')\r\n        };\r\n        this.designerUIState.dimensions.push(di);\r\n      }\r\n      for (const dimension of JSON.parse(this.reportingLineDefinition.dimensions)) {\r\n        const di = {\r\n          value: dimension.code,\r\n          text: dimension.name\r\n        };\r\n        this.designerUIState.dimensions.push(di);\r\n      }\r\n    });\r\n    this.users = [dataEntity];\r\n    if (dataEntity.refUserId) {\r\n      this.users[0].performerName = this.variableParticipantName(dataEntity.refUserId);\r\n      this.curReportingRefer = this.reportingReferObjects[1].value;\r\n      this.display = 'block';\r\n    } else if (dataEntity.refEmployeeId) {\r\n      this.users[0].performerName = dataEntity.refEmployeeId;\r\n      this.curReportingRefer = this.reportingReferObjects[2].value;\r\n      this.display = 'block';\r\n    } else {\r\n      this.curReportingRefer = this.reportingReferObjects[0].value;\r\n    }\r\n    if (dataEntity.reportingLineDefId) {\r\n      this.typeReadOnly = true;\r\n    }\r\n  }\r\n\r\n  @ViewChild(LookupGridComponent) lookup: LookupGridComponent;\r\n  @ViewChild(SysFarrisTreeHelpComponent) orgHelp: SysFarrisTreeHelpComponent;\r\n  @ViewChild('inputGroup') inputGroup: ElementRef;\r\n  @ViewChild('inputGroup1') inputGroup1: ElementRef;\r\n  showClearButton = false;\r\n  condition: string;\r\n  items: ReportingLineDefinitionEntity[] = [];\r\n  users: PerformerEntity[] = [];\r\n  departments: PerformerEntity[] = [];\r\n  pageIndex = 1;\r\n  pageSize = 20;\r\n  pageList = [10, 20, 30, 50, 100];\r\n  total = 0;\r\n\r\n  /**\r\n   * 汇报类型显示列\r\n   */\r\n  columns = [\r\n    { title: this.localePipe.transform('component.reportingLine.code'), field: 'code', width: 100 },\r\n    { title: this.localePipe.transform('component.reportingLine.name'), field: 'name', width: 100 }\r\n  ];\r\n\r\n  /**\r\n   *  参与者列表汇报关系显示字段\r\n   */\r\n  reportingReferObjects = [\r\n    { name: this.localePipe.transform('component.reportingLine.dept'), value: 'dept' },\r\n    { name: this.localePipe.transform('component.reportingLine.sysUser'), value: 'sysUser' },\r\n    { name: this.localePipe.transform('component.reportingLine.employee'), value: 'employee' }\r\n  ];\r\n  curReportingRefer = this.reportingReferObjects[0].value;\r\n\r\n\r\n  constructor(\r\n    private http: HttpService,\r\n    public designerUIState: ProcessDesignerUIState,\r\n    private expr: ExpressionService,\r\n    private ngZone: NgZone,\r\n    @Optional() private cdr: ChangeDetectorRef,\r\n    @Inject(LOCALE_ID) private localeId: string,\r\n    @Inject(WF_LANG_RESOURCES) private resources: any,\r\n    @Optional() private localePipe: WfLocalePipe,\r\n  ) {\r\n    this.localePipe = this.localePipe || new WfLocalePipe(localeId, resources);\r\n    this.getReportingLineType();\r\n  }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  /**\r\n   * 获取汇报关系类型\r\n   */\r\n  getReportingLineType() {\r\n    const url = '/api/runtime/wf/v1.0/reportingLineDefinitions';\r\n    this.http.get(url).subscribe((re: any) => {\r\n      this.reportingLineDefinitionList = re;\r\n      this.items = this.reportingLineDefinitionList.slice(0, this.pageSize);\r\n      this.total = this.reportingLineDefinitionList.length;\r\n    });\r\n  }\r\n\r\n  onclear() {\r\n    this.reportingLineDataEntity = new ReportingLineDataEntity();\r\n  }\r\n\r\n  // 参照类型改变\r\n  referObjectChange(data: any) {\r\n    if (data === 'dept') {\r\n      this.display = 'none';\r\n      this.curReportingRefer = this.reportingReferObjects[0].value;\r\n      this.reportingLineDataEntity.refUserId = null;\r\n      this.reportingLineDataEntity.refEmployeeId = null;\r\n    } else if (data === 'sysUser') {\r\n      this.display = 'block';\r\n      this.curReportingRefer = this.reportingReferObjects[1].value;\r\n      this.reportingLineDataEntity.refOrgId = null;\r\n      this.reportingLineDataEntity.refOrgName = null;\r\n      this.reportingLineDataEntity.refEmployeeId = null;\r\n    } else { // 员工的情况\r\n      this.display = 'block';\r\n      this.curReportingRefer = this.reportingReferObjects[2].value;\r\n      this.reportingLineDataEntity.refOrgId = null;\r\n      this.reportingLineDataEntity.refOrgName = null;\r\n      this.reportingLineDataEntity.refUserId = null;\r\n    }\r\n    // 参照对象切换时，清空user和department\r\n    this.users = [];\r\n    this.departments = [];\r\n  }\r\n\r\n  /**\r\n   * 参照用户改变\r\n   */\r\n  referUserChange(data: any) {\r\n    console.log(data);\r\n  }\r\n\r\n  /**\r\n   * 维度改变\r\n   */\r\n  reportingDimensionChange(data: any) {\r\n  }\r\n\r\n  /**\r\n   * 组织帮助选完后\r\n   */\r\n  orgSelected(org: any) { // 组织帮助选完后\r\n    this.reportingLineDataEntity.refOrgId = org.id;\r\n    this.reportingLineDataEntity.refOrgName = org.name;\r\n  }\r\n\r\n  /**\r\n   * 编辑条件\r\n   */\r\n  editCondition() {\r\n    // this.expr.clearContext();\r\n    if (this.designerUIState.schemas.length > 0) {\r\n      for (const schema of this.designerUIState.schemas) {\r\n        this.expr.addSchema('Schema', schema);\r\n      }\r\n      if (this.designerUIState.schemas[0].entityTypes && this.designerUIState.schemas[0].entityTypes.length > 0) {\r\n        const entityType = this.designerUIState.schemas[0].entityTypes[0];\r\n        this.expr.addInjectedEntity(entityType.name, 'Schema',\r\n          entityType.name, InjectedType.EntityType);\r\n      }\r\n    }\r\n    let context = new Array();\r\n    context = this.designerUIState.addContext(context);\r\n    if (this.designerUIState.subActivityContext.length > 0) {\r\n      for (const variable of this.designerUIState.subActivityContext) {\r\n        if (!context.some(c => c.key === variable.key)) {\r\n          context.push(variable);\r\n        }\r\n      }\r\n    }\r\n    if (this.designerUIState.activityComponentContext.length > 0) {\r\n      for (const variable of this.designerUIState.activityComponentContext) {\r\n        if (!context.some(c => c.key === variable.key)) {\r\n          context.push(variable);\r\n        }\r\n      }\r\n    }\r\n    if (context.length > 0) {\r\n      for (const v of context) {\r\n        this.expr.addContext(v);\r\n      }\r\n    }\r\n    this.expr.setEditPattern(ExprEditMode.Conditional); // 表达式展现模式：默认简易版\r\n    this.expr.addExpressionText(this.reportingLineDataEntity.condition); // this.reportingLineDataEntity.condition\r\n    this.expr.buildExpression().then((expressioninfo: string) => {\r\n      this.reportingLineDataEntity.condition = expressioninfo;\r\n      //点击确定后，去除表达式里面的新增的上下文变量\r\n      if(context.length > 0) {\r\n        this.expr.exprEntity.contextEntities = this.expr.exprEntity.contextEntities.filter(x => !context.some(y => y.key === x.key));\r\n      }\r\n    });\r\n  }\r\n\r\n  getReportingTypes(value?: string) {\r\n    const start = (this.pageIndex - 1) * this.pageSize;\r\n    const end = start + this.pageSize;\r\n    let items = [];\r\n    if (value) {\r\n      items = this.reportingLineDefinitionList.filter(f => f.name.indexOf(value) > -1 || f.code.indexOf(value) > -1);\r\n    } else {\r\n      items = this.reportingLineDefinitionList;\r\n    }\r\n    this.total = items.length;\r\n    this.items = items.slice(start, end);\r\n    this.lookup.componentRef.instance.loadData({\r\n      total: this.total,\r\n      pageSize: this.pageSize,\r\n      pageIndex: this.pageIndex,\r\n      data: this.items\r\n    });\r\n  }\r\n\r\n  ngAfterViewInit(): void {\r\n    this.ngZone.runOutsideAngular(() => {\r\n      this.inputGroup.nativeElement.addEventListener(\r\n        'mouseenter',\r\n        this.onMouseEnter.bind(this)\r\n      );\r\n      this.inputGroup.nativeElement.addEventListener(\r\n        'mouseleave',\r\n        this.onMouseLeave.bind(this)\r\n      );\r\n      this.inputGroup1.nativeElement.addEventListener(\r\n        'mouseenter',\r\n        this.onMouseEnter.bind(this)\r\n      );\r\n      this.inputGroup1.nativeElement.addEventListener(\r\n        'mouseleave',\r\n        this.onMouseLeave.bind(this)\r\n      );\r\n    });\r\n  }\r\n  onMouseEnter(event) {\r\n    this.showClearButton = true;\r\n    if (this.showClearButton) {\r\n      this.toggleClearIcon(event, true);\r\n    }\r\n  }\r\n  onMouseLeave(event) {\r\n    this.showClearButton = false;\r\n    this.toggleClearIcon(event, false);\r\n  }\r\n  private toggleClearIcon(event: any, isShow = false) {\r\n    const str = isShow ? '' : 'none';\r\n    const clearIcon = event.target.querySelector('.input-group-clear');\r\n    if (clearIcon) {\r\n      clearIcon.style.display = str;\r\n    }\r\n  }\r\n\r\n  clear(data: any) {\r\n    this.reportingLineDataEntity.refOrgId = '';\r\n    this.reportingLineDataEntity.refOrgName = '';\r\n  }\r\n  clearUser() {\r\n    this.users = [];\r\n    this.reportingLineDataEntity.refUserId = '';\r\n    this.reportingLineDataEntity.refEmployeeId = '';\r\n  }\r\n  clearOrg() {\r\n    this.departments = [];\r\n    this.reportingLineDataEntity.refOrgId = '';\r\n  }\r\n\r\n  selectOrg(data: string) {\r\n    this.showExprHelp(data);\r\n  }\r\n\r\n  selectUsers(data: string) {\r\n    this.showExprHelp(data);\r\n  }\r\n  showExprHelp(data: string) {\r\n    // this.expr.clearContext();\r\n    this.expr.setEditPattern(ExprEditMode.Advanced); // 表达式展现模式：默认高级\r\n    if (this.designerUIState.schemas.length > 0) {\r\n      for (const schema of this.designerUIState.schemas) {\r\n        this.expr.addSchema('Schema', schema);\r\n      }\r\n      if (this.designerUIState.schemas[0].entityTypes && this.designerUIState.schemas[0].entityTypes.length > 0) {\r\n        const entityType = this.designerUIState.schemas[0].entityTypes[0];\r\n        this.expr.addInjectedEntity(entityType.name, 'Schema',\r\n          entityType.name, InjectedType.EntityType);\r\n      }\r\n    }\r\n    const context = new Array();\r\n    if (this.designerUIState.participantContext.length > 0) {\r\n      for (const variable of this.designerUIState.participantContext) {\r\n        context.push(variable);\r\n      }\r\n    }\r\n    if (this.designerUIState.subActivityContext.length > 0) {\r\n      for (const variable of this.designerUIState.subActivityContext) {\r\n        if (!context.some(c => c.key === variable.key)) {\r\n          context.push(variable);\r\n        }\r\n      }\r\n    }\r\n    if (this.designerUIState.processVariableContext.length > 0) {\r\n      for (const variable of this.designerUIState.processVariableContext) {\r\n        if (!context.some(c => c.key === variable.key)) {\r\n          context.push(variable);\r\n        }\r\n      }\r\n    }\r\n    if (context.length > 0) {\r\n      for (const v of context) {\r\n        this.expr.addContext(v);\r\n      }\r\n    }\r\n    if (data === 'sysUser') {\r\n      if (this.reportingLineDataEntity.refUserId && this.reportingLineDataEntity.refUserId.length > 0) {\r\n        this.expr.addExpressionText(this.reportingLineDataEntity.refUserId);\r\n      } else {\r\n        this.expr.addExpressionText('');\r\n      }\r\n    } else if (data === 'org') {\r\n      if (this.reportingLineDataEntity.refOrgId && this.reportingLineDataEntity.refOrgId.length > 0) {\r\n        this.expr.addExpressionText(this.reportingLineDataEntity.refOrgId);\r\n      } else {\r\n        this.expr.addExpressionText('');\r\n      }\r\n    } else { // 员工及其他汇报对象类型\r\n      if (this.reportingLineDataEntity.refEmployeeId && this.reportingLineDataEntity.refEmployeeId.length > 0) {\r\n        this.expr.addExpressionText(this.reportingLineDataEntity.refEmployeeId);\r\n      } else {\r\n        this.expr.addExpressionText('');\r\n      }\r\n    }\r\n    this.expr.buildExpression().then((expressionInfo: string) => {\r\n      if (data === 'sysUser') {\r\n        const user = new PerformerEntity(expressionInfo, '', 'wf.ReportingLineParticipantExpression'); // wf.UserParticipantExpression\r\n        user.tag = 'expression';\r\n        user.performerName = this.variableParticipantName(expressionInfo);\r\n        this.reportingLineDataEntity.refUserId = user.performerId;\r\n        this.reportingLineDataEntity.tag = user.tag;\r\n        this.reportingLineDataEntity.performerName = user.performerName;\r\n        this.users = [this.reportingLineDataEntity];\r\n      } else if (data === 'org') {\r\n        const dept = new PerformerEntity(expressionInfo, '', 'wf.ReportingLineParticipantExpression');\r\n        dept.tag = 'expression';\r\n        this.reportingLineDataEntity.refOrgName = expressionInfo;\r\n        this.reportingLineDataEntity.refOrgId = expressionInfo;\r\n        this.departments = [this.reportingLineDataEntity];\r\n      } else {\r\n        const employee = new PerformerEntity(expressionInfo, '', 'wf.ReportingLineParticipantExpression');\r\n        employee.performerName = expressionInfo;\r\n        employee.tag = 'expression';\r\n        this.reportingLineDataEntity.refEmployeeId = expressionInfo;\r\n        this.reportingLineDataEntity.performerName = employee.performerName;\r\n        this.users = [this.reportingLineDataEntity];\r\n      }\r\n      //点击确定后，去除表达式里面的新增的上下文变量\r\n      if(context.length > 0) {\r\n        this.expr.exprEntity.contextEntities = this.expr.exprEntity.contextEntities.filter(x => !context.some(y => y.key === x.key));\r\n      }\r\n    });\r\n  }\r\n  private variableParticipantName(expr: string): string {\r\n    for (const c of this.designerUIState.participantContext) {\r\n      if (expr.indexOf(c.key) > -1) {\r\n        return c.name;\r\n      }\r\n    }\r\n    for (const c of this.designerUIState.processVariableContext) {\r\n      if (expr.indexOf(c.key) > -1) {\r\n        return c.name;\r\n      }\r\n    }\r\n    return this.localePipe.transform('component.reportingLine.businessFields');\r\n  }\r\n\r\n  defChanged() {\r\n    System.import('/platform/runtime/wf/web/wf-reporting-data/reportingLineDefHelp.js?v=20231123').then(() => {\r\n      (window as any).gspWfReportingLineDef.ReportingLineDefHelpUtil.getReportingLineHelp().then(data => {\r\n        this.defSelected(data);\r\n      });\r\n    });\r\n  }\r\n\r\n  defSelected(data) {\r\n    this.defName = data.name;\r\n    this.reportingLineDataEntity.reportingLineDefId = data.id;\r\n    this.reportingLineDataEntity.reportingLineDefName = data.name;\r\n\r\n    this.reportingLineDimension = JSON.parse(data.dimensions);\r\n    this.designerUIState.dimensions = [\r\n      { value: 'higherSuperior', text: this.localePipe.transform('component.reportingLine.higherSuperior') }\r\n    ];\r\n    // 兼容历史数据\r\n    if (this.reportingLineDimension[0].code !== 'directSuperior') {\r\n      const di = {\r\n        value: 'directSuperior',\r\n        text: this.localePipe.transform('component.reportingLine.directSuperior')\r\n      }\r\n      this.designerUIState.dimensions.push(di);\r\n    }\r\n    for (const dimension of this.reportingLineDimension) {\r\n      const di = {\r\n        value: dimension.code,\r\n        text: dimension.name\r\n      };\r\n      this.designerUIState.dimensions.push(di);\r\n    }\r\n    // 定义切换后，默认是参照组织\r\n    this.curReportingRefer = this.reportingReferObjects[0].value;\r\n    // 下边的参照人也得隐藏 2023-5-18\r\n    this.display = 'none';\r\n    this.reportingLineDataEntity.refUserId = null;\r\n    this.reportingLineDataEntity.refEmployeeId = null;\r\n    return of(true);\r\n  }\r\n\r\n  getPerformers() {\r\n    this.reportingLineDataEntity.type = 'wf.ReportingLineParticipantExpression';\r\n    this.reportingLineDataEntity.reportingReferObject = this.curReportingRefer;\r\n    return this.reportingLineDataEntity;\r\n  }\r\n}\r\n","import { MatrixFieldInfoEntity } from \"./matrix-field-info.entity\";\r\n\r\nexport class MatrixDefInfoEntity {\r\n  id: string;\r\n  code: string;\r\n  name: string;\r\n  conditionField: MatrixFieldInfoEntity[];\r\n  dataField: MatrixFieldInfoEntity[];\r\n}\r\n","import { PerformerEntity } from \"../../../entities/performer.entity\";\r\n\r\nexport class MatrixDataInfoEntity extends PerformerEntity {\r\n\r\n  constructor(id?: string, name?: string, type?: string) {\r\n    super(id,name,type);\r\n  }\r\n\r\n  id: string; // 用于前端做唯一标识\r\n  matrixDefId: string; // 用于存储字段id\r\n  matrixDefName: string;\r\n  conditionField1: string;\r\n  conditionFieldText1: string;\r\n  conditionField2: string;\r\n  conditionFieldText2: string;\r\n  conditionField3: string;\r\n  conditionFieldText3: string;\r\n  dataFieldAlias: string;\r\n  condition: string;\r\n  multivaluedCondition: string;\r\n}\r\n","import { Component, OnInit, HostBinding, ViewChild, TemplateRef, Injector, Optional, ChangeDetectorRef, LOCALE_ID, Inject } from '@angular/core';\r\nimport { DatagridComponent } from '@farris/ui-datagrid';\r\nimport { Subject } from 'rxjs/Subject';\r\nimport { MessagerService } from '@farris/ui-messager';\r\nimport { WF_LANG_RESOURCES, WfLocalePipe } from '../../../../../i18n/pipe/wf-process-editor-locale.pipe';\r\nimport { WF_PROCESS_EDITOR_LANG_RESOURCES } from '../../../../../i18n/assets/lang.resource';\r\n\r\n@Component({\r\n  selector: 'app-enum-list',\r\n  templateUrl: './enum-list.component.html',\r\n  styleUrls: ['./enum-list.component.scss'],\r\n  providers: [\r\n     WfLocalePipe,\r\n  ]\r\n})\r\nexport class EnumListComponent implements OnInit {\r\n\r\n  @HostBinding('class')\r\n  cls = 'farris-main-area flex-column';\r\n\r\n  columns = [\r\n    { field: 'key', width: 100, title: this.localePipe.transform('component.matrixPerformer.key') },\r\n    { field: 'value', width: 100, title: this.localePipe.transform('component.matrixPerformer.value')}];\r\n  @ViewChild('dg') dg: DatagridComponent;\r\n  @ViewChild('buttons') btnRef: TemplateRef<any>;\r\n\r\n  confirm = new Subject<any>();\r\n  closeModalEmitter = new Subject<any>();\r\n\r\n  /**\r\n   * 显示值\r\n   */\r\n  data = new Array();\r\n\r\n  selectedIds = new Array();\r\n\r\n  constructor(\r\n    private messageService: MessagerService,\r\n    private injector: Injector,\r\n    @Optional() private cdr: ChangeDetectorRef,\r\n    @Inject(LOCALE_ID) private localeId: string,\r\n    @Inject(WF_LANG_RESOURCES) private resources: any,\r\n    @Optional() private localePipe: WfLocalePipe,\r\n  ) {\r\n    this.localePipe = this.localePipe || new WfLocalePipe(localeId, resources);\r\n   }\r\n\r\n  ngOnInit() {\r\n\r\n  }\r\n\r\n  /**\r\n   * 加载显示数据\r\n   */\r\n  load(enumValues) {\r\n    this.data = [...enumValues];\r\n  }\r\n\r\n  /**\r\n   * 确认\r\n   */\r\n  onConfirm(): void {\r\n    if (this.selectedIds.length === 0 ) {\r\n      this.messageService.warning(this.localePipe.transform('component.matrixPerformer.notSelectEnum'));\r\n    }\r\n    const enumValues = this.data.filter(d => this.selectedIds.findIndex(id => id === d.key) > -1);\r\n    this.confirm.next(enumValues);\r\n    this.closeModalEmitter.next();\r\n  }\r\n\r\n  /**\r\n   * 取消\r\n   */\r\n  cancel(): void {\r\n    this.closeModalEmitter.next();\r\n  }\r\n\r\n}\r\n","import { ILookupHttpService, RemoteParams, LookupGridResult } from '@farris/ui-lookup';\r\nimport { Injectable } from '@angular/core';\r\nimport { HttpService } from '@ecp-caf/caf-common';\r\nimport { Observable } from 'rxjs';\r\nimport { map } from 'rxjs/operators';\r\n\r\n@Injectable()\r\nexport class MatrixDefHelpService implements ILookupHttpService {\r\n\r\n  constructor(\r\n    private http: HttpService\r\n  ) {\r\n  }\r\n\r\n  getData(url: string, params?: RemoteParams): Observable<LookupGridResult> {\r\n    if (url.indexOf('getMatrixDef') > -1) {\r\n      const index = params.pageIndex || 1;\r\n      const size = params.pageSize || 20;\r\n      const searchValue = JSON.parse(params.searchValue);\r\n      if (searchValue.searchValue) {\r\n        let query = '{';\r\n        if (searchValue.searchValue) {\r\n          if (searchValue.searchField === '*') {\r\n            query += `\"codeOrNameLike\":\"${searchValue.searchValue}\",`;\r\n          } else {\r\n            query += `\"${searchValue.searchField}\":\"${searchValue.searchValue}\",`;\r\n          }\r\n        }\r\n        if (query.substr(query.length - 1, 1) === ',') {\r\n          query = query.substring(0, query.length - 1);\r\n        }\r\n        query += '}';\r\n        query = encodeURIComponent(query);\r\n        query += `&pageIndex=${index}&pageSize=${size}`;\r\n        url += '?searchValue=' + query;\r\n      } else {\r\n        url += `?pageIndex=${index}&pageSize=${size}`;\r\n      }\r\n      return this.http.get(url).pipe(\r\n        map((re: any) => ({\r\n          items: re.content,\r\n          total: re.totalElements,\r\n          pageInfo: {\r\n            pageIndex: re.pageable.pageNumber + 1,\r\n            pageSize: re.pageable.pageSize,\r\n            pageList: [20, 40, 60, 80, 100],\r\n            enablePager: true\r\n          }\r\n        }))\r\n      );\r\n    }\r\n  }\r\n}\r\n","import { ChangeDetectorRef, Component, ComponentFactoryResolver, HostBinding, Inject, Injector, Input, LOCALE_ID, OnInit, Optional, ViewChild } from '@angular/core';\r\nimport { MatrixDefInfoEntity } from './entitis/matrix-def-info.entity';\r\nimport { MatrixDataInfoEntity } from './entitis/matrix-data-info.entity';\r\nimport { HttpService } from '@ecp-caf/caf-common';\r\nimport { Observable, of } from 'rxjs';\r\nimport { ExprEditMode, ExpressionService, InjectedType } from '@gsp-svc/expression';\r\nimport { ProcessDesignerUIState } from '../../../../app/process-designer.uistate';\r\nimport { LookupGridComponent, PickedResult, ServerSideToken } from '@farris/ui-lookup';\r\nimport { BsModalService } from '@farris/ui-modal';\r\nimport { EnumListComponent } from './enum-list/enum-list.component';\r\nimport { MatrixFieldInfoEntity } from './entitis/matrix-field-info.entity';\r\nimport { PerformerEntity } from '../../entities/performer.entity';\r\nimport { MatrixDefHelpService } from './service/matrix-performer.component.service';\r\nimport { LookupDataService } from '@farris/lookup-config';\r\nimport { WF_LANG_RESOURCES, WfLocalePipe } from '../../../../i18n/pipe/wf-process-editor-locale.pipe';\r\nimport { WF_PROCESS_EDITOR_LANG_RESOURCES } from '../../../../i18n/assets/lang.resource';\r\n\r\n@Component({\r\n  selector: 'app-matrix-performer',\r\n  templateUrl: './matrix-performer.component.html',\r\n  styleUrls: ['./matrix-performer.component.scss'],\r\n  providers: [\r\n    { provide: ServerSideToken, useClass: LookupDataService },\r\n     WfLocalePipe,\r\n  ]\r\n})\r\nexport class MatrixPerformerComponent implements OnInit {\r\n  @HostBinding('class')\r\n  cls = 'd-flex flex-fill h-100';\r\n  display: string = 'none';\r\n  typeReadOnly = false;\r\n  items: MatrixDefInfoEntity[] = [];\r\n  pageIndex = 1;\r\n  pageSize = 20;\r\n  pageList = [10, 20, 30, 50, 100];\r\n  total = 0;\r\n  groupIcon2 = '<i class=\"f-icon f-icon-lookup\"></i>';\r\n\r\n  // 帮助相关\r\n  index: number;\r\n  fieldId = '';\r\n  value: any;\r\n  helpId;\r\n  dataUri: string;\r\n  /**\r\n   * 矩阵定义显示列\r\n   */\r\n  columns = [\r\n    { title: this.localePipe.transform('component.matrixPerformer.code'), field: 'code', width: 100 },\r\n    { title: this.localePipe.transform('component.matrixPerformer.name'), field: 'name', width: 100 }\r\n  ];\r\n  users: PerformerEntity[] = [];\r\n\r\n  dataFieldAndValues = []; // { text: '部门', value: 'department' },\r\n  curDataFieldValue = '';\r\n\r\n  matrixDefEntityList: MatrixDefInfoEntity[] = [];\r\n  curMatrixDefEntity: MatrixDefInfoEntity = new MatrixDefInfoEntity();\r\n  curMatrixDataEntity: MatrixDataInfoEntity = new MatrixDataInfoEntity();\r\n\r\n  conditionFields: MatrixFieldInfoEntity[] = [];\r\n  exprGroup = [\r\n    { name: this.localePipe.transform('component.matrixPerformer.help'), value: 'help' }\r\n  ];\r\n  mulGroup = [\r\n    { name: this.localePipe.transform('component.matrixPerformer.multivalue'), value: 'Multivalue' }\r\n  ];\r\n  /**\r\n   * 条件字段是否启用表达式\r\n   */\r\n  condition1: string;\r\n  condition1ExprAble = true;\r\n  condition2: string;\r\n  condition2ExprAble = true;\r\n  condition3: string;\r\n  condition3ExprAble = true;\r\n  /**\r\n   * 条件字段是否启用多值\r\n   */\r\n  MultivalueOption1: string;\r\n  condition1Multivalue = false;\r\n  MultivalueOption2: string;\r\n  condition2Multivalue = false;\r\n  MultivalueOption3: string;\r\n  condition3Multivalue = false;\r\n  /**\r\n   * 编辑器页面显示文字，防范浅拷贝问题（对于条件字段的值和显示文字都不要在当前实体中进行修改只有点击确定时，才将其保存至当前实体并返回）\r\n   */\r\n  condition1Text = '';\r\n  condition1Value = '';\r\n  condition2Text = '';\r\n  condition2Value = '';\r\n  condition3Text = '';\r\n  condition3Value = '';\r\n\r\n  @Input()\r\n  set setMatrixDataEntity(dataEntity: MatrixDataInfoEntity) {\r\n    this.curMatrixDataEntity = dataEntity;\r\n    const url = '/api/runtime/wf/v1.0/matrixDefinition/' + dataEntity.matrixDefId;\r\n    this.http.get(url).subscribe((re: any) => {\r\n      this.curMatrixDefEntity = re;\r\n      this.setFields();\r\n      this.curDataFieldValue = dataEntity.dataFieldAlias;\r\n    })\r\n    if (dataEntity.matrixDefId) {\r\n      this.typeReadOnly = true;\r\n    }\r\n\r\n    if (!this.curMatrixDataEntity.conditionField1) {\r\n      this.condition1 = 'expr';\r\n      this.condition1ExprAble = true;\r\n    } else if (this.curMatrixDataEntity.conditionField1.charAt(0) === '{') {\r\n      this.condition1 = 'expr';\r\n      this.condition1ExprAble = true;\r\n    } else {\r\n      this.condition1 = 'help';\r\n      this.condition1ExprAble = false;\r\n    }\r\n\r\n    if (!this.curMatrixDataEntity.conditionField2) {\r\n      this.condition2 = 'expr';\r\n      this.condition2ExprAble = true;\r\n    } else if (this.curMatrixDataEntity.conditionField2.charAt(0) === '{') {\r\n      this.condition2 = 'expr';\r\n      this.condition2ExprAble = true;\r\n    } else {\r\n      this.condition2 = 'help';\r\n      this.condition2ExprAble = false;\r\n    }\r\n\r\n    if (!this.curMatrixDataEntity.conditionField3) {\r\n      this.condition3 = 'expr';\r\n      this.condition3ExprAble = true;\r\n    } else if (this.curMatrixDataEntity.conditionField3.charAt(0) === '{') {\r\n      this.condition3 = 'expr';\r\n      this.condition3ExprAble = true;\r\n    } else {\r\n      this.condition3 = 'help';\r\n      this.condition3ExprAble = false;\r\n    }\r\n\r\n    if (this.curMatrixDataEntity.multivaluedCondition === 'condition1') {\r\n      this.MultivalueOption1 = 'Multivalue';\r\n      this.condition1Multivalue = true;\r\n    } else if (this.curMatrixDataEntity.multivaluedCondition === 'condition2') {\r\n      this.MultivalueOption2 = 'Multivalue';\r\n      this.condition2Multivalue = true;\r\n    } else if (this.curMatrixDataEntity.multivaluedCondition === 'condition3') {\r\n      this.MultivalueOption3 = 'Multivalue';\r\n      this.condition3Multivalue = true;\r\n    }\r\n\r\n    this.condition1Text = this.curMatrixDataEntity.conditionFieldText1 ? this.curMatrixDataEntity.conditionFieldText1 : '';\r\n    this.condition1Value = this.curMatrixDataEntity.conditionField1 ? this.curMatrixDataEntity.conditionField1 : '';\r\n    this.condition2Text = this.curMatrixDataEntity.conditionFieldText2 ? this.curMatrixDataEntity.conditionFieldText2 : '';\r\n    this.condition2Value = this.curMatrixDataEntity.conditionField2 ? this.curMatrixDataEntity.conditionField2 : '';\r\n    this.condition3Text = this.curMatrixDataEntity.conditionFieldText3 ? this.curMatrixDataEntity.conditionFieldText3 : '';\r\n    this.condition3Value = this.curMatrixDataEntity.conditionField3 ? this.curMatrixDataEntity.conditionField3 : '';\r\n  }\r\n\r\n\r\n  @ViewChild('lookup') public lookUp: LookupGridComponent;\r\n\r\n  constructor(\r\n    private http: HttpService,\r\n    public designerUIState: ProcessDesignerUIState,\r\n    private expr: ExpressionService,\r\n    private modalService: BsModalService,\r\n    private resolver: ComponentFactoryResolver,\r\n    private injector: Injector,\r\n    private matDefService: MatrixDefHelpService,\r\n    @Optional() private cdr: ChangeDetectorRef,\r\n    @Inject(LOCALE_ID) private localeId: string,\r\n    @Inject(WF_LANG_RESOURCES) private resources: any,\r\n    @Optional() private localePipe: WfLocalePipe,\r\n  ) {\r\n    this.localePipe = this.localePipe || new WfLocalePipe(localeId, resources);\r\n    // this.getMatrixLineType();\r\n  }\r\n\r\n  ngOnInit() {\r\n    let rootPath = '';\r\n    try {\r\n      rootPath = (window as any).gspframeworkService.common.getBasePath.get();\r\n    } catch (error) {\r\n    }\r\n    this.dataUri = rootPath + '/api/runtime/wf/v1.0/matrixDefinition/getMatrixDef';\r\n  }\r\n\r\n  /**\r\n   * 获取矩阵定义\r\n   */\r\n  getMatrixLineType() {\r\n    const url = '/api/runtime/wf/v1.0/matrixDefinition';\r\n    this.http.get(url).subscribe((re: any) => {\r\n      this.matrixDefEntityList = re;\r\n      this.items = this.matrixDefEntityList.slice(0, this.pageSize);\r\n      this.total = this.matrixDefEntityList.length;\r\n    });\r\n  }\r\n\r\n  private setFields() {\r\n    this.conditionFields = [];\r\n    this.dataFieldAndValues = [];\r\n    // 先对条件字段按照排序号进行排序\r\n    this.curMatrixDefEntity.conditionField.sort((a, b) => {\r\n      return a.sortOrder - b.sortOrder;\r\n    });\r\n    // 将排序后的条件放入条件字段数组中\r\n    for (const condition of this.curMatrixDefEntity.conditionField) {\r\n      this.conditionFields.push(condition);\r\n    }\r\n    // 先对数据字段按照排序号进行排序\r\n    this.curMatrixDefEntity.dataField.sort((a, b) => {\r\n      return a.sortOrder - b.sortOrder;\r\n    });\r\n    // 填充数据字段的下拉列表\r\n    for (const data of this.curMatrixDefEntity.dataField) {\r\n      const temp = {\r\n        text: data.alias,\r\n        value: data.alias\r\n      };\r\n      this.dataFieldAndValues.push(temp);\r\n    }\r\n  }\r\n\r\n  dictPicked = (rowData) => { // 选完矩阵定义后执行\r\n    // 先将当前绑定的数据清空\r\n    this.curMatrixDataEntity = new MatrixDataInfoEntity();\r\n    this.curDataFieldValue = '';\r\n    this.curMatrixDefEntity = rowData;\r\n    this.curMatrixDataEntity.matrixDefId = rowData.id;\r\n    this.curMatrixDataEntity.matrixDefName = rowData.name;\r\n    this.setFields();\r\n    return of(true);\r\n  }\r\n\r\n  onClear() {\r\n    this.curMatrixDataEntity = new MatrixDataInfoEntity();\r\n  }\r\n\r\n  /**\r\n   * 编辑条件\r\n   */\r\n  editCondition() {\r\n    // this.expr.clearContext();\r\n    if (this.designerUIState.schemas.length > 0) {\r\n      for (const schema of this.designerUIState.schemas) {\r\n        this.expr.addSchema('Schema', schema);\r\n      }\r\n      if (this.designerUIState.schemas[0].entityTypes && this.designerUIState.schemas[0].entityTypes.length > 0) {\r\n        const entityType = this.designerUIState.schemas[0].entityTypes[0];\r\n        this.expr.addInjectedEntity(entityType.name, 'Schema',\r\n          entityType.name, InjectedType.EntityType);\r\n      }\r\n    }\r\n    let context = new Array();\r\n    context = this.designerUIState.addContext(context);\r\n    if (this.designerUIState.subActivityContext.length > 0) {\r\n      for (const variable of this.designerUIState.subActivityContext) {\r\n        if (!context.some(c => c.key === variable.key)) {\r\n          context.push(variable);\r\n        }\r\n      }\r\n    }\r\n    if (context.length > 0) {\r\n      for (const v of context) {\r\n        this.expr.addContext(v);\r\n      }\r\n    }\r\n    this.expr.setEditPattern(ExprEditMode.Conditional); // 表达式展现模式：默认简易版\r\n    this.expr.addExpressionText(this.curMatrixDataEntity.condition); // this.reportingLineDataEntity.condition\r\n    this.expr.buildExpression().then((expressioninfo: string) => {\r\n      this.curMatrixDataEntity.condition = expressioninfo;\r\n      //点击确定后，去除表达式里面的新增的上下文变量\r\n      if(context.length > 0) {\r\n        this.expr.exprEntity.contextEntities = this.expr.exprEntity.contextEntities.filter(x => !context.some(y => y.key === x.key));\r\n      }\r\n    });\r\n  }\r\n\r\n  onHelpSearch(data, index, id) { // 打开帮助\r\n    this.index = index;\r\n    this.fieldId = id;\r\n    this.helpId = this.curMatrixDefEntity.conditionField[this.index].smartHelp;\r\n    this.lookUp.onClear();\r\n    this.lookUp.showDialog();\r\n  }\r\n\r\n  openEnumValue(index, id) {\r\n    this.index = index;\r\n    this.fieldId = id;\r\n    this.showEnumList(JSON.parse(this.curMatrixDefEntity.conditionField[this.index].enumList));\r\n  }\r\n\r\n  private showEnumList(enumList: any[]) {\r\n    const compFactory = this.resolver.resolveComponentFactory(EnumListComponent);\r\n    const compRef = compFactory.create(this.injector);\r\n    const modalConfig = {\r\n      title: this.localePipe.transform('component.matrixPerformer.enumSelection'),\r\n      width: 650,\r\n      height: 450,\r\n      showButtons: true,\r\n      buttons: compRef.instance.btnRef,\r\n    };\r\n    if (enumList && enumList.length > 0) {\r\n      compRef.instance.load(enumList);\r\n    }\r\n    compRef.instance.confirm.subscribe((re: any[]) => { // 点击确定\r\n      if (this.index === 0) {\r\n        this.condition1Text = re[0].value;\r\n        this.condition1Value = re[0].value;\r\n      } else if (this.index === 1) {\r\n        this.condition2Text = re[0].value;\r\n        this.condition2Value = re[0].value;\r\n      } else if (this.index === 2) {\r\n        this.condition3Text = re[0].value;\r\n        this.condition3Value = re[0].value;\r\n      }\r\n    });\r\n    const dialog = this.modalService.show(compRef, modalConfig);\r\n    compRef.instance.closeModalEmitter.subscribe(() => {\r\n      dialog.close();\r\n    });\r\n  }\r\n\r\n  dataFieldChange(data) {\r\n    this.curMatrixDataEntity.dataFieldAlias = data.data.value;\r\n  }\r\n\r\n  selectedDataHandler(data) {\r\n    if (this.index === 0) {\r\n      this.condition1Text = data.name;\r\n      this.condition1Value = data.id;\r\n    } else if (this.index === 1) {\r\n      this.condition2Text = data.name;\r\n      this.condition2Value = data.id;\r\n    } else if (this.index === 2) {\r\n      this.condition3Text = data.name;\r\n      this.condition3Value = data.id;\r\n    }\r\n  }\r\n\r\n  getPerformers() {\r\n    this.curMatrixDataEntity.type = 'wf.MatrixParticipantExpression';\r\n    this.curMatrixDataEntity.conditionFieldText1 = this.condition1Text;\r\n    this.curMatrixDataEntity.conditionField1 = this.condition1Text === '' ? '' : this.condition1Value;\r\n    this.curMatrixDataEntity.conditionFieldText2 = this.condition2Text;\r\n    this.curMatrixDataEntity.conditionField2 = this.condition2Text === '' ? '' : this.condition2Value;\r\n    this.curMatrixDataEntity.conditionFieldText3 = this.condition3Text;\r\n    this.curMatrixDataEntity.conditionField3 = this.condition3Text === '' ? '' : this.condition3Value;\r\n    if (this.condition1Multivalue) {\r\n      this.curMatrixDataEntity.multivaluedCondition = 'condition1';\r\n    } else if (this.condition2Multivalue) {\r\n      this.curMatrixDataEntity.multivaluedCondition = 'condition2';\r\n    } else if (this.condition3Multivalue) {\r\n      this.curMatrixDataEntity.multivaluedCondition = 'condition3';\r\n    }\r\n    return this.curMatrixDataEntity;\r\n  }\r\n\r\n  dictHelpPicked = (data: any): Observable<PickedResult> => {\r\n    this.value = null;\r\n    return of({ closeDialog: true });\r\n  }\r\n\r\n  /**\r\n   * 打开表达式编辑器\r\n   * @param data 编辑第几个条件字段，值为（condition1，condition2，condition3）\r\n   */\r\n  showExprHelp(data: string) {\r\n    // this.expr.clearContext();\r\n    if (this.designerUIState.schemas.length > 0) {\r\n      for (const schema of this.designerUIState.schemas) {\r\n        // this.expr.addCommonObject(co);\r\n        this.expr.addSchema('Schema', schema);\r\n      }\r\n      if (this.designerUIState.schemas[0].entityTypes && this.designerUIState.schemas[0].entityTypes.length > 0) {\r\n        const entityType = this.designerUIState.schemas[0].entityTypes[0];\r\n        this.expr.addInjectedEntity(entityType.name, 'Schema',\r\n          entityType.name, InjectedType.EntityType);\r\n      }\r\n    }\r\n    const context = new Array();\r\n    if (this.designerUIState.participantContext.length > 0) {\r\n      for (const variable of this.designerUIState.participantContext) {\r\n        context.push(variable);\r\n        // this.expr.addContext(variable);\r\n      }\r\n    }\r\n    if (this.designerUIState.processVariableContext.length > 0) {\r\n      for (const variable of this.designerUIState.processVariableContext) {\r\n        if (!context.some(c => c.key === variable.key)) {\r\n          context.push(variable);\r\n        }\r\n        // this.expr.addContext(variable);\r\n      }\r\n    }\r\n    if (this.designerUIState.subActivityContext.length > 0) {\r\n      for (const variable of this.designerUIState.subActivityContext) {\r\n        if (!context.some(c => c.key === variable.key)) {\r\n          context.push(variable);\r\n        }\r\n      }\r\n    }\r\n    if (context.length > 0) {\r\n      for (const v of context) {\r\n        this.expr.addContext(v);\r\n      }\r\n    }\r\n    if (data === 'condition1') {\r\n      if (this.curMatrixDataEntity.conditionField1) {\r\n        this.expr.addExpressionText(this.curMatrixDataEntity.conditionField1);\r\n      } else {\r\n        this.expr.addExpressionText('');\r\n      }\r\n    } else if (data === 'condition2') {\r\n      if (this.curMatrixDataEntity.conditionField2) {\r\n        this.expr.addExpressionText(this.curMatrixDataEntity.conditionField2);\r\n      } else {\r\n        this.expr.addExpressionText('');\r\n      }\r\n    } else if (data === 'condition3') {\r\n      if (this.curMatrixDataEntity.conditionField3) {\r\n        this.expr.addExpressionText(this.curMatrixDataEntity.conditionField3);\r\n      } else {\r\n        this.expr.addExpressionText('');\r\n      }\r\n    }\r\n    this.expr.buildExpression().then((expressionInfo: string) => {\r\n      if (data === 'condition1') {\r\n        this.condition1Text = expressionInfo;\r\n        this.condition1Value = expressionInfo;\r\n      } else if (data === 'condition2') {\r\n        this.condition2Text = expressionInfo;\r\n        this.condition2Value = expressionInfo;\r\n      } else {\r\n        this.condition3Text = expressionInfo;\r\n        this.condition3Value = expressionInfo;\r\n      }\r\n      //点击确定后，去除表达式里面的新增的上下文变量\r\n      if(context.length > 0) {\r\n        this.expr.exprEntity.contextEntities = this.expr.exprEntity.contextEntities.filter(x => !context.some(y => y.key === x.key));\r\n      }\r\n    });\r\n  }\r\n  condition1Expr(data) {\r\n    this.showExprHelp(data);\r\n  }\r\n  condition1ExprClick() {\r\n    this.condition1ExprAble = !this.condition1ExprAble;\r\n    this.condition1Multivalue = false;\r\n    this.MultivalueOption1 = '';\r\n    this.condition1Text = '';\r\n    this.condition1Value = '';\r\n  }\r\n  condition1MulClick() {\r\n    this.MultivalueOption2 = '';\r\n    this.MultivalueOption3 = '';\r\n    this.condition2Multivalue = false;\r\n    this.condition3Multivalue = false;\r\n    this.condition1Multivalue = !this.condition1Multivalue;\r\n  }\r\n  condition2Expr(data) {\r\n    this.showExprHelp(data);\r\n  }\r\n  condition2ExprClick() {\r\n    this.condition2ExprAble = !this.condition2ExprAble;\r\n    this.condition2Multivalue = false;\r\n    this.MultivalueOption2 = '';\r\n    this.condition2Text = '';\r\n    this.condition2Value = '';\r\n  }\r\n  condition2MulClick() {\r\n    this.MultivalueOption1 = '';\r\n    this.MultivalueOption3 = '';\r\n    this.condition1Multivalue = false;\r\n    this.condition3Multivalue = false;\r\n    this.condition2Multivalue = !this.condition2Multivalue;\r\n  }\r\n  condition3Expr(data) {\r\n    this.showExprHelp(data);\r\n  }\r\n  condition3ExprClick() {\r\n    this.condition3ExprAble = !this.condition3ExprAble;\r\n    this.condition3Multivalue = false;\r\n    this.MultivalueOption3 = '';\r\n    this.condition3Text = '';\r\n    this.condition3Value = '';\r\n  }\r\n  condition3MulClick() {\r\n    this.MultivalueOption1 = '';\r\n    this.MultivalueOption2 = '';\r\n    this.condition1Multivalue = false;\r\n    this.condition2Multivalue = false;\r\n    this.condition3Multivalue = !this.condition3Multivalue;\r\n  }\r\n\r\n  onBeforeHelp = (e) => {\r\n    const lookupIns = e.instance;\r\n    if (lookupIns) {\r\n      const getDataFn = lookupIns.http.getData;\r\n      lookupIns.http.getData = this.matDefService.getData;\r\n\r\n      lookupIns.dialogClosed.subscribe(() => {\r\n        lookupIns.http.getData = getDataFn;\r\n      });\r\n\r\n    }\r\n    return of(true);\r\n  }\r\n}\r\n","import {PerformerEntity} from \"../../../entities/performer.entity\";\r\n\r\nexport class ActivityExecutorParticipant extends PerformerEntity {\r\n\r\n  constructor(id?: string, name?: string, type?: string) {\r\n    super(id,name,type);\r\n  }\r\n\r\n  activityDefId: string;\r\n  activityDefName: string;\r\n}\r\n","import {Component, OnInit, NgZone, ViewChild, ElementRef, HostBinding, ChangeDetectorRef, Optional, Inject, LOCALE_ID} from '@angular/core';\r\nimport {DialogComponent} from \"@farris/ui-dialog\";\r\nimport {DatagridComponent} from \"@farris/ui-datagrid\";\r\nimport {ExprEditMode, ExpressionService, InjectedType} from \"@gsp-svc/expression\";\r\nimport {ProcessDesignerUIState} from \"../../../../app/process-designer.uistate\";\r\nimport {ActivityExecutorParticipant} from \"./entities/activity-executor.participant\";\r\nimport { WF_LANG_RESOURCES, WfLocalePipe } from '../../../../i18n/pipe/wf-process-editor-locale.pipe';\r\nimport { WF_PROCESS_EDITOR_LANG_RESOURCES } from '../../../../i18n/assets/lang.resource';\r\n\r\n@Component({\r\n  selector: 'app-activity-handler-performer',\r\n  templateUrl: './activity-executor-performer.component.html',\r\n  styleUrls: ['./activity-executor-performer.component.css'],\r\n  providers: [\r\n     WfLocalePipe,\r\n  ]\r\n})\r\nexport class ActivityExecutorPerformerComponent implements OnInit {\r\n  @HostBinding('class')\r\n  cls = 'd-flex flex-fill h-100';\r\n  showClearButton = false;\r\n  activityExecutors: ActivityExecutorParticipant[] = [];\r\n  condition: string;\r\n  cols = [\r\n    { title: this.localePipe.transform('component.activityExecutor.name'), field: 'Name', width: 60 },\r\n    { title: 'ID', field: 'Id', width: 90 }\r\n  ];\r\n\r\n  @ViewChild('inputGroup') inputGroup: ElementRef;\r\n  @ViewChild('allActivityDialog') allActivityDialog: DialogComponent;\r\n  @ViewChild('allActivityTable') allActivityTable: DatagridComponent;\r\n\r\n  constructor(\r\n    private ngZone: NgZone,\r\n    public designerUIState: ProcessDesignerUIState,\r\n    private expr: ExpressionService,\r\n    @Optional() private cdr: ChangeDetectorRef,\r\n    @Inject(LOCALE_ID) private localeId: string,\r\n    @Inject(WF_LANG_RESOURCES) private resources: any,\r\n    @Optional() private localePipe: WfLocalePipe,\r\n  ) {\r\n    this.localePipe = this.localePipe || new WfLocalePipe(localeId, resources);\r\n   }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  ngAfterViewInit(): void {\r\n    this.ngZone.runOutsideAngular(() => {\r\n      this.inputGroup.nativeElement.addEventListener(\r\n        'mouseenter',\r\n        this.onMouseEnter.bind(this)\r\n      );\r\n      this.inputGroup.nativeElement.addEventListener(\r\n        'mouseleave',\r\n        this.onMouseLeave.bind(this)\r\n      );\r\n    });\r\n  }\r\n\r\n  onMouseEnter(event) {\r\n    this.showClearButton = true;\r\n    if (this.showClearButton) {\r\n      this.toggleClearIcon(event, true);\r\n    }\r\n  }\r\n  onMouseLeave(event) {\r\n    this.showClearButton = false;\r\n    this.toggleClearIcon(event, false);\r\n  }\r\n  private toggleClearIcon(event: any, isShow = false) {\r\n    const str = isShow ? '' : 'none';\r\n    const clearIcon = event.target.querySelector('.input-group-clear');\r\n    if (clearIcon) {\r\n      clearIcon.style.display = str;\r\n    }\r\n  }\r\n  clear(data: any) {\r\n    this.activityExecutors = [];\r\n  }\r\n  selectUsers(data: any) {\r\n    // 已办用户\r\n    const selectedUser = [];\r\n    if(this.activityExecutors && this.activityExecutors.length > 0){\r\n      for(const handler of this.activityExecutors) {\r\n        const data = {\r\n          data: {\r\n            Id: handler.activityDefId,\r\n            Name: handler.activityDefName\r\n          },\r\n          id: handler.activityDefId\r\n        }\r\n        selectedUser.push(data);\r\n      }\r\n    }\r\n    this.allActivityTable.setCurrentPagerData(selectedUser);\r\n    this.allActivityDialog.show();\r\n  }\r\n  editConditon() {\r\n    // this.expr.clearContext();\r\n    if (this.designerUIState.schemas.length > 0) {\r\n      for (const schema of this.designerUIState.schemas) {\r\n        this.expr.addSchema('Schema', schema);\r\n      }\r\n      if (this.designerUIState.schemas[0].entityTypes && this.designerUIState.schemas[0].entityTypes.length > 0) {\r\n        const entityType = this.designerUIState.schemas[0].entityTypes[0];\r\n        this.expr.addInjectedEntity(entityType.name, 'Schema',\r\n          entityType.name, InjectedType.EntityType);\r\n      }\r\n    }\r\n    let context = new Array();\r\n    context = this.designerUIState.addContext(context);\r\n    if (this.designerUIState.subActivityContext.length > 0) {\r\n      for (const variable of this.designerUIState.subActivityContext) {\r\n        if (!context.some(c => c.key === variable.key)) {\r\n          context.push(variable);\r\n        }\r\n      }\r\n    }\r\n    if (this.designerUIState.activityComponentContext.length > 0) {\r\n      for (const variable of this.designerUIState.activityComponentContext) {\r\n        if (!context.some(c => c.key === variable.key)) {\r\n          context.push(variable);\r\n        }\r\n      }\r\n    }\r\n    if (context.length > 0) {\r\n      for (const v of context) {\r\n        this.expr.addContext(v);\r\n      }\r\n    }\r\n    this.expr.setEditPattern(ExprEditMode.Conditional); // 表达式展现模式：默认简易版\r\n    this.expr.addExpressionText(this.condition);\r\n    this.expr.buildExpression().then((expressioninfo: string) => {\r\n      this.condition = expressioninfo;\r\n      //点击确定后，去除表达式里面的新增的上下文变量\r\n      if(context.length > 0) {\r\n        this.expr.exprEntity.contextEntities = this.expr.exprEntity.contextEntities.filter(x => !context.some(y => y.key === x.key));\r\n      }\r\n    });\r\n  }\r\n\r\n  activitiesSelect() {\r\n    const selectedActivities = this.allActivityTable.checkeds;\r\n    this.activityExecutors = selectedActivities.map(activity => {\r\n      const handler = new ActivityExecutorParticipant(activity.data.Id, activity.data.Name, 'wf.ActivityExecutorParticipantExpression');\r\n      handler.performerName = '<' + activity.data.Name + this.localePipe.transform('component.activityExecutor.eventHandler');\r\n      handler.activityDefId = activity.data.Id;\r\n      handler.activityDefName = activity.data.Name;\r\n      handler.condition = this.condition;\r\n      return handler;\r\n    });\r\n    this.allActivityDialog.close();\r\n  }\r\n  getPerformers() {\r\n    this.activityExecutors.map(x => x.condition = this.condition);\r\n    return this.activityExecutors;\r\n  }\r\n}\r\n","export class OrganizationParticipantExpression { \r\n    id: string;\r\n    name: string;\r\n    actionScope: ActionScope;\r\n    organizationLevel: OrganizationLevel;\r\n    organizationId: string ;\r\n    organizationCode: string ;\r\n    organizationName: string ;\r\n    includeChildren: boolean ;\r\n    parentsUntil: boolean;                          \r\n    tag: string \r\n    condition:string;\r\n}\r\n\r\nexport enum ActionScope {\r\n    /**\r\n     * 指派\r\n     */\r\n    AssignUser = 'AssignUser',\r\n    /**\r\n     * 移交\r\n     */\r\n    Transfer = 'Transfer',\r\n    /**\r\n     * 征询\r\n     */\r\n    AddSignFront = 'AddSignFront',\r\n    /**\r\n     * 加签\r\n     */\r\n    AddSignBehind = 'AddSignBehind',\r\n    /**\r\n     * 知会\r\n     */\r\n    Notify = \"Notify\",\r\n}\r\nexport enum OrganizationLevel {\r\n    /**\r\n     * 部门\r\n     */\r\n    DEPARTMENT = 'DEPARTMENT',\r\n    /**\r\n     * 单位\r\n     */\r\n    UNIT = 'UNIT',\r\n    /**\r\n    * 默认值\r\n    */\r\n    DEFAULT = 'DEFAULT',\r\n\r\n    VARORGANIZATION = 'VARORGANIZATION'\r\n}\r\n\r\n","import { PerformerEntity } from './performer.entity';\r\n\r\nexport class VariablePerformerEntity extends PerformerEntity {\r\n  // 变量参与者，已经从固定用户里分离出来了\r\n  varValue: string;\r\n  varType: string;\r\n  relation: string;\r\n  name: string;\r\n  constructor(id?: string, name?: string, type?: string) {\r\n    super(id,name,type);\r\n  }\r\n}\r\n","import { Component, OnInit, HostBinding, ViewChild, NgZone, AfterViewInit, ElementRef, ChangeDetectorRef, Optional, Inject, LOCALE_ID } from '@angular/core';\r\nimport { ProcessDesignerUIState } from '../../../../app/process-designer.uistate';\r\nimport { ExprEditMode, ExpressionService, InjectedType } from '@gsp-svc/expression';\r\nimport { HttpService } from '@ecp-caf/caf-common';\r\nimport { MessagerService } from '@farris/ui-messager';\r\nimport { VariablePerformerEntity } from '../../entities/variable-performer.entity';\r\nimport { WF_LANG_RESOURCES, WfLocalePipe } from '../../../../i18n/pipe/wf-process-editor-locale.pipe';\r\nimport { WF_PROCESS_EDITOR_LANG_RESOURCES } from '../../../../i18n/assets/lang.resource';\r\n\r\ndeclare var System: any;\r\n@Component({\r\n  selector: 'app-variable-performer',\r\n  templateUrl: './variable-performer.component.html',\r\n  styleUrls: ['./variable-performer.component.css'],\r\n  providers: [\r\n     WfLocalePipe,\r\n  ]\r\n})\r\nexport class VariablePerformerComponent implements OnInit, AfterViewInit {\r\n  @HostBinding('class')\r\n  cls = 'd-flex flex-fill h-100';\r\n  @ViewChild('inputGroup') inputGroup: ElementRef;\r\n  showClearButton = false;\r\n  editState = true;\r\n  bindingData: { id?, name?} = {};\r\n  inSuiteField: { name: string, value: string }[] = [];\r\n  variableOrgTypes = [\r\n    { name: this.localePipe.transform('component.variablePerformer.sys'), value: 'Sys' },\r\n    { name: this.localePipe.transform('component.variablePerformer.administrative_staff'), value: 'Administrative_staff' },\r\n  ];\r\n  userTypeButtonNeedShow = false;\r\n  personnelRelationShipTypes = [\r\n    { name: this.localePipe.transform('component.variablePerformer.oneself'), value: 'oneself' },\r\n  ];\r\n  curOrgType = this.variableOrgTypes[0].value;\r\n  relationShipType = this.designerUIState.scene !== 'inSuite' ? this.personnelRelationShipTypes[0].value : null;\r\n  scene = this.designerUIState.scene;\r\n  condition: string;\r\n  users: VariablePerformerEntity[] = [];\r\n  user: VariablePerformerEntity = new VariablePerformerEntity();\r\n  constructor(\r\n    private designerUIState: ProcessDesignerUIState,\r\n    private expr: ExpressionService,\r\n    private ngZone: NgZone,\r\n    @Optional() private cdr: ChangeDetectorRef,\r\n    @Inject(LOCALE_ID) private localeId: string,\r\n    @Inject(WF_LANG_RESOURCES) private resources: any,\r\n    @Optional() private localePipe: WfLocalePipe,\r\n    private http?: HttpService,\r\n    private message?: MessagerService,\r\n  ) {\r\n    this.localePipe = this.localePipe || new WfLocalePipe(localeId, resources);\r\n  }\r\n\r\n  ngOnInit() {\r\n    const url = '/api/runtime/wf/v1.0/reportingOrgType/hasAdminOrg';\r\n    this.http.get(url).subscribe((data: any) => {\r\n      this.userTypeButtonNeedShow = data;\r\n      if (this.designerUIState.scene === 'inSuite') {\r\n        this.userTypeButtonNeedShow = true;\r\n        this.variableOrgTypes = [\r\n          { name: this.localePipe.transform('component.variablePerformer.sys'), value: 'Sys' },\r\n          { name: this.localePipe.transform('component.variablePerformer.administrative_staff'), value: 'Administrative_staff' },\r\n          { name: this.localePipe.transform('component.variablePerformer.administrative_organization'), value: 'Administrative_organization' }\r\n        ];\r\n        this.getInSuiteField(this.user.varType ? this.user.varType : 'Sys');\r\n      }\r\n    });\r\n  }\r\n\r\n  ngAfterViewInit(): void {\r\n    this.ngZone.runOutsideAngular(() => {\r\n      this.inputGroup.nativeElement.addEventListener(\r\n        'mouseenter',\r\n        this.onMouseEnter.bind(this)\r\n      );\r\n      this.inputGroup.nativeElement.addEventListener(\r\n        'mouseleave',\r\n        this.onMouseLeave.bind(this)\r\n      );\r\n    });\r\n  }\r\n  onMouseEnter(event) {\r\n    this.showClearButton = true;\r\n    if (this.showClearButton) {\r\n      this.toggleClearIcon(event, true);\r\n    }\r\n  }\r\n  onMouseLeave(event) {\r\n    this.showClearButton = false;\r\n    this.toggleClearIcon(event, false);\r\n  }\r\n  private toggleClearIcon(event: any, isShow = false) {\r\n    const str = isShow ? '' : 'none';\r\n    const clearIcon = event.target.querySelector('.input-group-clear');\r\n    if (clearIcon) {\r\n      clearIcon.style.display = str;\r\n    }\r\n  }\r\n  clear(data: any) {\r\n    // 流程变量表达式编辑器清空\r\n    this.bindingData = {};\r\n    this.users = [];\r\n    this.user = null;\r\n    this.variableOrgTypes = [\r\n      { name: this.localePipe.transform('component.variablePerformer.sys'), value: 'Sys' },\r\n      { name: this.localePipe.transform('component.variablePerformer.administrative_staff'), value: 'Administrative_staff' },\r\n    ];\r\n    if (this.designerUIState.scene === 'inSuite') {\r\n      this.variableOrgTypes = [\r\n        { name: this.localePipe.transform('component.variablePerformer.sys'), value: 'Sys' },\r\n        { name: this.localePipe.transform('component.variablePerformer.administrative_staff'), value: 'Administrative_staff' },\r\n        { name: this.localePipe.transform('component.variablePerformer.administrative_organization'), value: 'Administrative_organization' }\r\n      ];\r\n    }\r\n  }\r\n  selectUsers(data: any) {\r\n      this.showExprHelp();\r\n  }\r\n  editConditon() {\r\n    // this.expr.clearContext();\r\n    if (this.designerUIState.schemas.length > 0) {\r\n      for (const schema of this.designerUIState.schemas) {\r\n        this.expr.addSchema('Schema', schema);\r\n      }\r\n      if (this.designerUIState.schemas[0].entityTypes && this.designerUIState.schemas[0].entityTypes.length > 0) {\r\n        const entityType = this.designerUIState.schemas[0].entityTypes[0];\r\n        this.expr.addInjectedEntity(entityType.name, 'Schema',\r\n          entityType.name, InjectedType.EntityType);\r\n      }\r\n    }\r\n    let context = new Array();\r\n    context = this.designerUIState.addContext(context);\r\n    if (this.designerUIState.subActivityContext.length > 0) {\r\n      for (const variable of this.designerUIState.subActivityContext) {\r\n        if (!context.some(c => c.key === variable.key)) {\r\n          context.push(variable);\r\n        }\r\n      }\r\n    }\r\n    if (this.designerUIState.activityComponentContext.length > 0) {\r\n      for (const variable of this.designerUIState.activityComponentContext) {\r\n        if (!context.some(c => c.key === variable.key)) {\r\n          context.push(variable);\r\n        }\r\n      }\r\n    }\r\n    if (context.length > 0) {\r\n      for (const v of context) {\r\n        this.expr.addContext(v);\r\n      }\r\n    }\r\n    this.expr.setEditPattern(ExprEditMode.Conditional); // 表达式展现模式：默认简易版\r\n    this.expr.addExpressionText(this.condition);\r\n    this.expr.buildExpression().then((expressioninfo: string) => {\r\n      this.condition = expressioninfo;\r\n      //点击确定后，去除表达式里面的新增的上下文变量\r\n      if(context.length > 0) {\r\n        this.expr.exprEntity.contextEntities = this.expr.exprEntity.contextEntities.filter(x => !context.some(y => y.key === x.key));\r\n      }\r\n    });\r\n  }\r\n  showExprHelp() {\r\n    // this.expr.clearContext();\r\n    this.expr.setEditPattern(ExprEditMode.Advanced);\r\n    if (this.designerUIState.schemas.length > 0) {\r\n      for (const schema of this.designerUIState.schemas) {\r\n        this.expr.addSchema('Schema', schema);\r\n      }\r\n      if (this.designerUIState.schemas[0].entityTypes && this.designerUIState.schemas[0].entityTypes.length > 0) {\r\n        const entityType = this.designerUIState.schemas[0].entityTypes[0];\r\n        this.expr.addInjectedEntity(entityType.name, 'Schema',\r\n          entityType.name, InjectedType.EntityType);\r\n      }\r\n    }\r\n    const context = new Array();\r\n    if (this.designerUIState.participantContext.length > 0) {\r\n      for (const variable of this.designerUIState.participantContext) {\r\n        context.push(variable);\r\n      }\r\n    }\r\n    if (this.designerUIState.subActivityContext.length > 0) {\r\n      for (const variable of this.designerUIState.subActivityContext) {\r\n        if (!context.some(c => c.key === variable.key)) {\r\n          context.push(variable);\r\n        }\r\n      }\r\n    }\r\n    if (this.designerUIState.processVariableContext.length > 0) {\r\n      for (const variable of this.designerUIState.processVariableContext) {\r\n        if (!context.some(c => c.key === variable.key)) {\r\n          context.push(variable);\r\n        }\r\n      }\r\n    }\r\n    if (context.length > 0) {\r\n      for (const v of context) {\r\n        this.expr.addContext(v);\r\n      }\r\n    }\r\n    if (this.users.length > 0) {\r\n      this.expr.addExpressionText(this.users[0].varValue ? this.users[0].varValue : this.users[0].performerId);\r\n    } else {\r\n      this.expr.addExpressionText('');\r\n    }\r\n    // 2023-6-13 编辑时表达式编辑器只读\r\n    this.expr.buildExpression().then((expressioninfo: string) => {\r\n      if (expressioninfo) {\r\n        const user = new VariablePerformerEntity(expressioninfo, '', 'wf.VariableParticipantExpression');\r\n        user.tag = 'expression';\r\n        user.performerName = this.variableParticipantName(expressioninfo);\r\n        user.name =  this.variableParticipantName(expressioninfo);\r\n        user.varType = this.curOrgType;\r\n        if (this.designerUIState.scene === 'inSuite') {\r\n          user.relation = this.relationShipType;\r\n        } else {\r\n          user.relation = this.personnelRelationShipTypes[0].value;\r\n        }\r\n        if (this.variableParticipantName(expressioninfo) === '') {\r\n          // 如果先勾选行政人员id，再选择上下文变量，则提示并将变量值类型置为1\r\n          this.message.info(this.localePipe.transform('component.variablePerformer.cantUseContext'));\r\n          this.curOrgType = this.variableOrgTypes[0].value;\r\n        } else {\r\n          this.users = [user];\r\n          this.user = user;\r\n        }\r\n        for (const c of this.designerUIState.participantContext) {\r\n          // 根据表达式中的函数名判断是否使用的是上下文变量,除三种特殊上下文变量其余放开限制\r\n          if (user.performerId.indexOf(c.key) >= 0) {\r\n            this.variableOrgTypes = [\r\n              { name: this.localePipe.transform('component.variablePerformer.sys'), value: 'Sys' }];\r\n            break;\r\n          } else {\r\n            this.variableOrgTypes = [\r\n              { name: this.localePipe.transform('component.variablePerformer.sys'), value: 'Sys' },\r\n              { name: this.localePipe.transform('component.variablePerformer.administrative_staff'), value: 'Administrative_staff' },\r\n            ];\r\n            if (this.designerUIState.scene === 'inSuite') {\r\n              this.variableOrgTypes = [\r\n                { name: this.localePipe.transform('component.variablePerformer.sys'), value: 'Sys' },\r\n                { name: this.localePipe.transform('component.variablePerformer.administrative_staff'), value: 'Administrative_staff' },\r\n                { name: this.localePipe.transform('component.variablePerformer.administrative_organization'), value: 'Administrative_organization' }\r\n              ];\r\n            }\r\n          }\r\n        }\r\n      } else {\r\n        this.users = [];\r\n        this.user = null;\r\n        this.variableOrgTypes = [\r\n          { name: this.localePipe.transform('component.variablePerformer.sys'), value: 'Sys' },\r\n          { name: this.localePipe.transform('component.variablePerformer.administrative_staff'), value: 'Administrative_staff' },\r\n        ];\r\n        if (this.designerUIState.scene === 'inSuite') {\r\n          this.variableOrgTypes = [\r\n            { name: this.localePipe.transform('component.variablePerformer.sys'), value: 'Sys' },\r\n            { name: this.localePipe.transform('component.variablePerformer.administrative_staff'), value: 'Administrative_staff' },\r\n            { name: this.localePipe.transform('component.variablePerformer.administrative_organization'), value: 'Administrative_organization' }\r\n          ];\r\n        }\r\n      }\r\n      //点击确定后，去除表达式里面的新增的上下文变量\r\n      if(context.length > 0) {\r\n        this.expr.exprEntity.contextEntities = this.expr.exprEntity.contextEntities.filter(x => !context.some(y => y.key === x.key));\r\n      }\r\n    });\r\n  }\r\n  getPerformers() {\r\n    if (this.user) {\r\n      this.user.varValue = this.user.performerId ? this.user.performerId : this.user.varValue;\r\n      this.user.name = this.user.performerName ? this.user.performerName : this.user.name;\r\n      // this.user.name = this.getRealName(this.user);\r\n      this.user.varType = this.curOrgType;\r\n      this.user.relation = this.relationShipType;\r\n      this.user.condition = this.condition ? this.condition : '';\r\n    }\r\n    return this.user;\r\n  }\r\n  // TODO: 变量参与者选多个值时名称只能显示一个，待调整\r\n  // getRealName(user: any) {\r\n  //   // 2023-6-15 计算是否是多值，排除表达式里自带的一个逗号\r\n  //   let r = user.name;\r\n  //   let id = user.varValue;\r\n  //   let char = ',';\r\n  //   let count = id.split(char).length - 1;\r\n  //   if (count > 1) {\r\n  //     r += ' 等';\r\n  //   }\r\n  //   return r;\r\n  // }\r\n\r\n  private variableParticipantName(expr: string): string {\r\n    for (const c of this.designerUIState.participantContext) {\r\n      if (expr.indexOf(c.key) > -1) {\r\n        if (this.curOrgType !== 'Sys') { // 行政人员类型不允许使用上下文变量\r\n          return '';\r\n        }\r\n        return c.name;\r\n      }\r\n    }\r\n    for (const c of this.designerUIState.processVariableContext) {\r\n      if (expr.indexOf(c.key) > -1) {\r\n        return c.name;\r\n      }\r\n    }\r\n    return JSON.parse(expr).expr;\r\n  }\r\n  orgTypeChange(data: any) {\r\n    if (data === 'Sys') {\r\n      this.curOrgType = this.variableOrgTypes[0].value;\r\n    } else if (data === 'Administrative_staff') {\r\n      this.curOrgType = this.variableOrgTypes[1].value;\r\n    } else {\r\n      this.curOrgType = this.variableOrgTypes[2].value;\r\n    }\r\n    // 如果是inSuite场景需要获取inSuite部门的负责人，分管领导等关系\r\n    if (this.designerUIState.scene === 'inSuite') {\r\n      this.getInSuiteField(data);\r\n      this.relationShipType = null;\r\n    } else {\r\n      this.relationShipType = this.personnelRelationShipTypes[0].value;\r\n    }\r\n  }\r\n  enabledStateChange(data: any) {\r\n    this.relationShipType = data.value;\r\n  }\r\n  getInSuiteField(fieldType: string) {\r\n    const url = `/api/runtime/wf/v1.0/dtProcDefs/getInSuiteFields/${fieldType}`;\r\n    this.http.get(url).subscribe((field: any) => {\r\n      this.inSuiteField = [];\r\n      for (const f of field) {\r\n        const type = {\r\n          name: f.field_description,\r\n          value: f.field\r\n        };\r\n        // 清空inSuiteField\r\n        this.inSuiteField.push(type);\r\n      }\r\n    });\r\n  }\r\n}\r\n","import { Component, OnInit, HostBinding, ViewChild, Input, AfterViewInit, Optional, LOCALE_ID, Inject } from '@angular/core';\r\nimport { UserPerformerComponent } from '../user-performer/user-performer.component';\r\nimport { PositionPerformerComponent } from '../position-performer/position-performer.component';\r\nimport { ComponentPerformerComponent } from '../component-performer/component-performer.component';\r\nimport { BizComponentEntity } from '../../../../domain/entities/biz-component.entity';\r\nimport { ReportingLineComponent } from '../reporting-line/reporting-line.component';\r\nimport { MatrixPerformerComponent } from '../matrix-performer/matrix-performer.component';\r\nimport { HttpService } from '@ecp-caf/caf-common';\r\nimport { ActivityExecutorPerformerComponent } from '../activity-executor-performer/activity-executor-performer.component';\r\nimport { ProcessDesignerUIState } from '../../../../app/process-designer.uistate';\r\nimport { ExprEditMode, ExpressionService, InjectedType } from '@gsp-svc/expression';\r\nimport { OrganizationParticipantExpression, ActionScope, OrganizationLevel } from '../../../../domain/entities/organization-participant-expression';\r\nimport { VariablePerformerComponent } from '../variable-performer/variable-performer.component';\r\nimport { WF_LANG_RESOURCES, WfLocalePipe } from '../../../../i18n/pipe/wf-process-editor-locale.pipe';\r\n\r\n\r\n@Component({\r\n  selector: 'app-performer-edit',\r\n  templateUrl: './performer-edit.component.html',\r\n  styleUrls: ['./performer-edit.component.scss'],\r\n  providers: [\r\n    WfLocalePipe,\r\n ]\r\n})\r\nexport class PerformerEditComponent implements OnInit, AfterViewInit {\r\n  @HostBinding('class')\r\n  cls = 'farris-main-area flex-column';\r\n  component: BizComponentEntity;\r\n  performer: { type: string, value: any };\r\n  performerType: string;\r\n  userType: string;\r\n  editState: string;\r\n  tab = 'user';\r\n  @Input() display = true;\r\n\r\n  organizationLevelCollection = [\r\n    {\r\n      value: 'UNIT',\r\n      text: this.localePipe.transform('component.participant.currentUnit'),\r\n      orgId: 'currentUnit'\r\n    }, {\r\n      value: 'DEPARTMENT',\r\n      text: this.localePipe.transform('component.participant.currentDepartment'),\r\n      orgId: 'currentDepartment'\r\n    }, {\r\n      value: 'VARORGANIZATION',\r\n      text: this.localePipe.transform('component.participant.variableOrganization'),\r\n      orgId: ''\r\n    }\r\n  ];\r\n\r\n  organizationParticipant: OrganizationParticipantExpression;\r\n\r\n  @ViewChild(UserPerformerComponent) usersCmp: UserPerformerComponent;\r\n  @ViewChild(VariablePerformerComponent) varCmp: VariablePerformerComponent;\r\n  @ViewChild(PositionPerformerComponent) posiCmp: PositionPerformerComponent;\r\n  @ViewChild(ComponentPerformerComponent) cmpCmp: ComponentPerformerComponent;\r\n  @ViewChild(ReportingLineComponent) reportingLineCmp: ReportingLineComponent;\r\n  @ViewChild(MatrixPerformerComponent) matrixCmp: MatrixPerformerComponent;\r\n  @ViewChild(ActivityExecutorPerformerComponent) activityExecutorCmp: ActivityExecutorPerformerComponent;\r\n\r\n  constructor(\r\n    private designerUIState: ProcessDesignerUIState,\r\n    private expr: ExpressionService,\r\n    private http: HttpService,\r\n    @Inject(LOCALE_ID) private localeId: string,\r\n    @Inject(WF_LANG_RESOURCES) private resources: any,\r\n    @Optional() private localePipe: WfLocalePipe,\r\n  ) {\r\n    this.localePipe = this.localePipe || new WfLocalePipe(localeId, resources);\r\n    this.organizationParticipant = new OrganizationParticipantExpression();\r\n    this.organizationParticipant.actionScope = ActionScope.AssignUser;\r\n    this.organizationParticipant.organizationLevel = OrganizationLevel.DEPARTMENT;\r\n    this.organizationParticipant.organizationId = 'currentDepartment';\r\n    this.organizationParticipant.organizationName = this.localePipe.transform('component.participant.currentDepartment');\r\n    this.organizationParticipant.includeChildren = false;\r\n    this.organizationParticipant.tag = 'variable';\r\n  }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  ngAfterViewInit() {\r\n    if (this.performer) {\r\n      switch (this.performer.type) {\r\n        case 'wf.UserParticipantExpression':\r\n          this.usersCmp.users = [];\r\n          this.usersCmp.users.push(this.performer.value);\r\n          // 2023-5-23 用户参与者支持编辑时单选+显示已选用户；\r\n          this.usersCmp.multiSelect = this.editState === 'edit' ? false : true;\r\n          // 考虑到兼容历史数据，暂时不使用用户参与者实体类中的userType属性\r\n          if (this.performer.value.performerId && this.performer.value.performerId.charAt(0) === '{') {\r\n            const url = '/api/runtime/wf/v1.0/reportingOrgType/hasAdminOrg';\r\n            this.http.get(url).subscribe((data: any) => {\r\n              this.usersCmp.userTypeButtonNeedShow = data;\r\n              this.usersCmp.userType = 'variable';\r\n              this.usersCmp.curOrgType = this.performer.value.orgType === 'Sys' ? 'Sys' : 'Administrative_organization';\r\n              this.usersCmp.condition = this.performer.value.condition;\r\n              // 根据表达式中的函数名判断是否使用的是上下文变量\r\n              const isContextVariable = this.performer.value.performerId.indexOf('GetContextParameter') >= 0;\r\n              this.usersCmp.variableOrgTypes = isContextVariable ? [\r\n                { name: '系统用户', value: 'Sys' }\r\n              ] : [\r\n                { name: '系统用户', value: 'Sys' },\r\n                { name: '员工', value: 'Administrative_organization' }\r\n              ];\r\n            });\r\n          } else {\r\n            this.usersCmp.userType = 'user';\r\n            this.usersCmp.condition = this.performer.value.condition;\r\n          }\r\n          break;\r\n        case 'wf.VariableParticipantExpression':\r\n          // TODO:参与者只保留一份最好\r\n          this.varCmp.users = [];\r\n          this.varCmp.users.push(this.performer.value);\r\n          this.varCmp.user = this.performer.value;\r\n          this.varCmp.editState = this.editState === 'edit' ? false : true;\r\n          // 判断是变量参与者\r\n          if (this.performer.value.varValue && this.performer.value.varValue.charAt(0) === '{') {\r\n            // 根据表达式中的函数名判断是否使用的是上下文变量\r\n            const isContextVariable = this.performer.value.varValue.indexOf('GetContextParameter') >= 0;\r\n            // 上下文变量的变量值类型只有系统用户id\r\n            this.varCmp.variableOrgTypes = isContextVariable ? [\r\n              { name: '用户ID', value: 'Sys' }\r\n            ] : [\r\n              { name: '用户ID', value: 'Sys' },\r\n              { name: '员工ID', value: 'Administrative_staff' },\r\n            ];\r\n            // 如果是insuite场景还要增加行政组织id\r\n            this.varCmp.curOrgType = this.performer.value.varType;\r\n            this.varCmp.relationShipType = this.performer.value.relation;\r\n            this.varCmp.condition = this.performer.value.condition;\r\n          }\r\n          break;\r\n        case 'wf.PositionParticipantExpression':\r\n          this.posiCmp.editState = this.editState === 'edit' ? false : true;\r\n          this.posiCmp.position = Object.assign({}, this.performer.value);\r\n          this.posiCmp.performerName = this.posiCmp.position.performerName;\r\n          if (this.posiCmp.position.positionType === '0') {\r\n            this.posiCmp.newFilter = { positionType: '0' };\r\n          } else {\r\n            this.posiCmp.newFilter = { positionType: '1' };\r\n          }\r\n          break;\r\n        case 'wf.ReportingLineParticipantExpression':\r\n          // this.tab = 'report';\r\n          this.reportingLineCmp.setReportingLineDataEntity = this.performer.value;\r\n          break;\r\n        case 'wf.ComponentParticipantExpression':\r\n          // this.tab = 'component';\r\n          this.cmpCmp.component = this.performer.value;\r\n          break;\r\n        case 'wf.MatrixParticipantExpression':\r\n          // this.tab = 'matrix';\r\n          this.matrixCmp.setMatrixDataEntity = this.performer.value;\r\n          break;\r\n        case 'wf.ActivityExecutorParticipantExpression':\r\n          // this.tab = 'activityExecutor';\r\n          this.activityExecutorCmp.activityExecutors = [];\r\n          this.activityExecutorCmp.activityExecutors.push(this.performer.value);\r\n          this.activityExecutorCmp.condition = this.performer.value.condition;\r\n          break;\r\n        case 'wf.OrganizationParticipantExpression':\r\n          if (this.performer.value.organizationLevel === OrganizationLevel.DEFAULT && this.performer.value.tag === 'expression') {\r\n            this.performer.value.organizationLevel = OrganizationLevel.VARORGANIZATION;\r\n          } \r\n          this.organizationParticipant = this.performer.value;\r\n          if (this.performer.value.OrganizationLevel === OrganizationLevel.DEPARTMENT && this.performer.value.tag === 'expression') {\r\n            this.performer.value.OrganizationLevel === OrganizationLevel.VARORGANIZATION;\r\n          }\r\n          break;\r\n      }\r\n    }\r\n    if (this.performerType) {\r\n      switch (this.performerType) {\r\n        case 'wf.UserParticipantExpression':\r\n          this.usersCmp.userType = 'user';\r\n          break;\r\n      }\r\n    }\r\n  }\r\n\r\n  valueChange(event: any) {\r\n    switch (event.value) {\r\n      case this.organizationLevelCollection[0].value:\r\n        this.organizationParticipant.organizationId = this.organizationLevelCollection[0].orgId;\r\n        this.organizationParticipant.organizationName = this.organizationLevelCollection[0].text;\r\n        this.organizationParticipant.includeChildren = true;\r\n        break;\r\n      case this.organizationLevelCollection[1].value:\r\n        this.organizationParticipant.organizationId = this.organizationLevelCollection[1].orgId;\r\n        this.organizationParticipant.organizationName = this.organizationLevelCollection[1].text;\r\n        break;\r\n      case this.organizationLevelCollection[2].value:\r\n        this.organizationParticipant.organizationId = this.organizationLevelCollection[2].orgId;\r\n        this.organizationParticipant.organizationName = this.organizationLevelCollection[2].text;\r\n        this.organizationParticipant.includeChildren = true;\r\n        this.organizationParticipant.tag = 'expression'\r\n        break;\r\n    }\r\n  }\r\n  getPerformers() {\r\n    const users = this.usersCmp ? this.usersCmp.getPerformers() : [];\r\n    const variable = this.varCmp ? this.varCmp.getPerformers() : null;\r\n    const positions = this.posiCmp ? this.posiCmp.getPerformers() : [];\r\n    const component = this.cmpCmp ? this.cmpCmp.getPerformers() : null;\r\n    const reportingLine = this.reportingLineCmp ? this.reportingLineCmp.getPerformers() : null;\r\n    const matrix = this.matrixCmp ? this.matrixCmp.getPerformers() : null;\r\n    const activityExecutors = this.activityExecutorCmp ? this.activityExecutorCmp.getPerformers() : [];\r\n\r\n    let userPerformers = []; // 用户参与者\r\n    let activityExecutorPerformers = []; // 已办活动节点参与者\r\n\r\n    if ((users && users.length > 0)) {\r\n      userPerformers = userPerformers.concat(users);\r\n    }\r\n    if (activityExecutors && activityExecutors.length > 0) {\r\n      activityExecutorPerformers = activityExecutorPerformers.concat(activityExecutors);\r\n    }\r\n    let organizationParticipant: OrganizationParticipantExpression;\r\n    if (this.performerType === 'wf.OrganizationParticipantExpression') {\r\n      if (this.organizationParticipant.organizationLevel === OrganizationLevel.VARORGANIZATION && this.organizationParticipant.tag === 'expression') {\r\n        this.organizationParticipant.organizationLevel = OrganizationLevel.DEFAULT;\r\n      }\r\n      organizationParticipant = this.organizationParticipant;\r\n    }\r\n    return { userPerformers, variable, positions, component, reportingLine, matrix, activityExecutorPerformers, organizationParticipant };\r\n  }\r\n\r\n  editConditon() {\r\n    // this.expr.clearContext();\r\n    if (this.designerUIState.schemas.length > 0) {\r\n      for (const schema of this.designerUIState.schemas) {\r\n        this.expr.addSchema('Schema', schema);\r\n      }\r\n      if (this.designerUIState.schemas[0].entityTypes && this.designerUIState.schemas[0].entityTypes.length > 0) {\r\n        const entityType = this.designerUIState.schemas[0].entityTypes[0];\r\n        this.expr.addInjectedEntity(entityType.name, 'Schema',\r\n          entityType.name, InjectedType.EntityType);\r\n      }\r\n    }\r\n    let context = new Array();\r\n    context = this.designerUIState.addContext(context);\r\n    if (this.designerUIState.subActivityContext.length > 0) {\r\n      for (const variable of this.designerUIState.subActivityContext) {\r\n        if (!context.some(c => c.key === variable.key)) {\r\n          context.push(variable);\r\n        }\r\n      }\r\n    }\r\n    if (this.designerUIState.activityComponentContext.length > 0) {\r\n      for (const variable of this.designerUIState.activityComponentContext) {\r\n        if (!context.some(c => c.key === variable.key)) {\r\n          context.push(variable);\r\n        }\r\n      }\r\n    }\r\n    if (context.length > 0) {\r\n      for (const v of context) {\r\n        this.expr.addContext(v);\r\n      }\r\n    }\r\n    this.expr.setEditPattern(ExprEditMode.Conditional); // 表达式展现模式：默认简易版\r\n    this.expr.addExpressionText(this.organizationParticipant.condition);\r\n    this.expr.buildExpression().then((expressioninfo: string) => {\r\n      this.organizationParticipant.condition = expressioninfo;\r\n      //点击确定后，去除表达式里面的新增的上下文变量\r\n      if(context.length > 0) {\r\n        this.expr.exprEntity.contextEntities = this.expr.exprEntity.contextEntities.filter(x => !context.some(y => y.key === x.key));\r\n      }\r\n    });\r\n  }\r\n  editOrganizationId() {\r\n    // this.expr.clearContext();\r\n    if (this.designerUIState.schemas.length > 0) {\r\n      for (const schema of this.designerUIState.schemas) {\r\n        this.expr.addSchema('Schema', schema);\r\n      }\r\n      if (this.designerUIState.schemas[0].entityTypes && this.designerUIState.schemas[0].entityTypes.length > 0) {\r\n        const entityType = this.designerUIState.schemas[0].entityTypes[0];\r\n        this.expr.addInjectedEntity(entityType.name, 'Schema',\r\n          entityType.name, InjectedType.EntityType);\r\n      }\r\n    }\r\n    let context = new Array();\r\n    context = this.designerUIState.addContext(context);\r\n    if (this.designerUIState.subActivityContext.length > 0) {\r\n      for (const variable of this.designerUIState.subActivityContext) {\r\n        if (!context.some(c => c.key === variable.key)) {\r\n          context.push(variable);\r\n        }\r\n      }\r\n    }\r\n    if (this.designerUIState.activityComponentContext.length > 0) {\r\n      for (const variable of this.designerUIState.activityComponentContext) {\r\n        if (!context.some(c => c.key === variable.key)) {\r\n          context.push(variable);\r\n        }\r\n      }\r\n    }\r\n    if (context.length > 0) {\r\n      for (const v of context) {\r\n        this.expr.addContext(v);\r\n      }\r\n    }\r\n    this.expr.setEditPattern(ExprEditMode.Advanced);\r\n    this.expr.addExpressionText(this.organizationParticipant.organizationId);\r\n    this.expr.buildExpression().then((expressioninfo: string) => {\r\n      this.organizationParticipant.organizationId = expressioninfo;\r\n      //点击确定后，去除表达式里面的新增的上下文变量\r\n      if(context.length > 0) {\r\n        this.expr.exprEntity.contextEntities = this.expr.exprEntity.contextEntities.filter(x => !context.some(y => y.key === x.key));\r\n      }\r\n    });\r\n  }\r\n}\r\n","import { Component, OnInit, HostBinding, Input, NgZone, AfterViewInit, ViewChild, ElementRef, Output, EventEmitter, TemplateRef, ChangeDetectorRef, Optional, Inject, LOCALE_ID } from '@angular/core';\r\nimport { PerformerOptions } from '../../entities/performer-options';\r\nimport { ProcessDesignerUIState } from '../../../../app/process-designer.uistate';\r\nimport { ExpressionService, InjectedType, ExprEditMode } from '@gsp-svc/expression';\r\nimport { MessagerService } from '@farris/ui-messager';\r\nimport { TypeConverter } from '@farris/ide-property-panel';\r\nimport { WF_LANG_RESOURCES, WfLocalePipe } from '../../../../i18n/pipe/wf-process-editor-locale.pipe';\r\nimport { WF_PROCESS_EDITOR_LANG_RESOURCES } from '../../../../i18n/assets/lang.resource';\r\n\r\n@Component({\r\n  selector: 'app-performer-options',\r\n  templateUrl: './performer-options.component.html',\r\n  styleUrls: ['./performer-options.component.scss'],\r\n  providers: [\r\n     WfLocalePipe,\r\n  ]\r\n})\r\nexport class PerformerOptionsComponent implements OnInit, AfterViewInit {\r\n  @HostBinding('class')\r\n  cls = 'farris-main-area flex-column';\r\n  @Input() editorParams: any = {};\r\n  @Output() closeModal = new EventEmitter<any>();\r\n  @Output() submitModal = new EventEmitter<any>();\r\n  @ViewChild('iconSelectFooter') modalFooter: TemplateRef<any>;\r\n  performerOptionsLocation = '';\r\n  @Input()\r\n  set value(options: PerformerOptions) {\r\n    if (options) {\r\n      this.exclusionPerformers = options.ExclusionPerformers;\r\n      this.noPerformerStrategy = options.NoPerformerStrategy;\r\n      this.historicFirst = options.HistoricFirst;\r\n      this.automaticPerformers = options.automaticPerformers;\r\n    }\r\n  }\r\n\r\n  @Input()\r\n  set exclusionPerformers(e: string | Array<string>) {\r\n    if (e) {\r\n      if (typeof e === 'string') {\r\n        this.excludeProcInstCreator = e.indexOf('procInstCreator') > -1;\r\n        this.excludePreActExecutors = e.indexOf('preActExecutors') > -1;\r\n      } else {\r\n        this.excludeProcInstCreator = e.findIndex(i => i === 'procInstCreator') > -1;\r\n        this.excludePreActExecutors = e.findIndex(i => i === 'preActExecutors') > -1;\r\n        this.excludeAllPassExecutors = e.findIndex(i => i === 'allPassExecutors') > -1;\r\n        this.excludeExprPerformer = e.find(i => i.indexOf('expr') > -1);\r\n        if (this.excludeExprPerformer != null && (this.excludeExprPerformer.startsWith('Sys#') ||\r\n          this.excludeExprPerformer.startsWith('Administrative_staff#'))) {\r\n          const excludeValue = this.excludeExprPerformer.split(\"#\");\r\n          this.exprPerformerType = excludeValue[0];\r\n          this.excludeExprPerformer = excludeValue[1];\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  set automaticPerformers(e: Array<string>) {\r\n    if (e && e.length > 0) {\r\n      this.autoProcInstCreator = e.findIndex(i => i === 'procInstCreator') > -1;\r\n      this.autoPreActExecutors = e.findIndex(i => i === 'preActExecutors') > -1;\r\n      this.autoAllPassExecutors = e.findIndex(i => i === 'allPassExecutors') > -1;\r\n    }\r\n\r\n  }\r\n\r\n  @ViewChild('inputGroup') inputGroup: ElementRef;\r\n  showClearButton = false;\r\n\r\n  historicFirst = false;\r\n\r\n  excludeExprPerformer: string;\r\n\r\n\r\n  excludeProcInstCreator = false;\r\n  excludePreActExecutors = false;\r\n  excludeAllPassExecutors = false;\r\n\r\n  autoProcInstCreator = false;\r\n  autoPreActExecutors = false;\r\n  autoAllPassExecutors = false;\r\n\r\n  noPerformerStrategyList = [\r\n    { text: this.localePipe.transform('component.performerOptions.leave'), value: 'leave' },\r\n    { text: this.localePipe.transform('component.performerOptions.throwException'), value: 'throwException' }];\r\n  variableOrgTypes = [\r\n    { name: this.localePipe.transform('component.performerOptions.sys'), value: 'Sys' },\r\n    { name: this.localePipe.transform('component.performerOptions.administrative_staff'), value: 'Administrative_staff' },\r\n  ];\r\n  exclusionPerformersOptions = [\r\n    { value: 'procInstCreator', name: this.localePipe.transform('component.performerOptions.procInstCreator') },\r\n    { value: 'preActExecutors', name: this.localePipe.transform('component.performerOptions.preActExecutors') },\r\n    { value: 'allPassExecutors', name: this.localePipe.transform('component.performerOptions.allPassExecutors') }\r\n  ];\r\n  exprPerformerType = this.variableOrgTypes[0].value;\r\n  noPerformerStrategy: string = this.noPerformerStrategyList[0].value;\r\n\r\n\r\n  modalConfig = {\r\n    title: this.localePipe.transform('component.performerOptions.performerOptions'),\r\n    width: 760,\r\n    height: 606,\r\n    showButtons: true\r\n  };\r\n\r\n  constructor(\r\n    private ngZone: NgZone,\r\n    private designerState: ProcessDesignerUIState,\r\n    private expr: ExpressionService,\r\n    private message: MessagerService,\r\n    @Optional() private cdr: ChangeDetectorRef,\r\n    @Inject(LOCALE_ID) private localeId: string,\r\n    @Inject(WF_LANG_RESOURCES) private resources: any,\r\n    @Optional() private localePipe: WfLocalePipe,\r\n  ) {\r\n    this.localePipe = this.localePipe || new WfLocalePipe(localeId, resources);\r\n   }\r\n\r\n  ngOnInit() {\r\n    this.performerOptionsLocation = this.editorParams.location;\r\n  }\r\n\r\n  ngAfterViewInit(): void {\r\n    this.ngZone.runOutsideAngular(() => {\r\n      this.inputGroup.nativeElement.addEventListener(\r\n        'mouseenter',\r\n        this.onMouseEnter.bind(this)\r\n      );\r\n      this.inputGroup.nativeElement.addEventListener(\r\n        'mouseleave',\r\n        this.onMouseLeave.bind(this)\r\n      );\r\n    });\r\n  }\r\n\r\n  onMouseEnter(event) {\r\n    this.showClearButton = true;\r\n    if (this.showClearButton) {\r\n      this.toggleClearIcon(event, true);\r\n    }\r\n  }\r\n  onMouseLeave(event) {\r\n    this.showClearButton = false;\r\n    this.toggleClearIcon(event, false);\r\n  }\r\n  private toggleClearIcon(event: any, isShow = false) {\r\n    const str = isShow ? '' : 'none';\r\n    const clearIcon = event.target.querySelector('.input-group-clear');\r\n    if (clearIcon) {\r\n      clearIcon.style.display = str;\r\n    }\r\n  }\r\n\r\n\r\n  clickOK() {\r\n    const options = {\r\n      ExclusionPerformers: this.getExclusionPerformers(),\r\n      NoPerformerStrategy: this.noPerformerStrategy,\r\n      HistoricFirst: this.historicFirst,\r\n      automaticPerformers: this.getAutoPerformers()\r\n    };\r\n    const object = {\r\n      value: options, parameters: null\r\n    };\r\n    this.submitModal.emit(object);\r\n  }\r\n\r\n  cancel() {\r\n    this.closeModal.emit();\r\n  }\r\n\r\n  excludeProcInstCreatorClick(event: any) {\r\n    // this.excludeProcInstCreator = !this.excludeProcInstCreator;\r\n    if (this.excludeProcInstCreator && this.autoProcInstCreator) {\r\n      this.autoProcInstCreator = false;\r\n    }\r\n  }\r\n\r\n  excludePreActExecutorsClick(event: any) {\r\n    // this.excludePreActExecutors = !this.excludePreActExecutors;\r\n    if (this.autoAllPassExecutors === true && this.excludePreActExecutors === true) {\r\n      this.message.info(this.localePipe.transform('component.performerOptions.exclusionNotAllowed'), () => {\r\n        this.excludePreActExecutors = false;\r\n      });\r\n      return;\r\n    }\r\n    if (this.excludePreActExecutors && this.autoPreActExecutors) {\r\n      this.autoPreActExecutors = false;\r\n    }\r\n  }\r\n\r\n  excludeAllPassExecutorsClick(event: any) {\r\n    // this.excludeAllPassExecutors = !this.excludeAllPassExecutors;\r\n    if (this.excludeAllPassExecutors) {\r\n      if (this.autoPreActExecutors) {\r\n        this.autoPreActExecutors = false;\r\n      }\r\n      if (this.autoAllPassExecutors) {\r\n        this.autoAllPassExecutors = false;\r\n      }\r\n    }\r\n\r\n  }\r\n\r\n  autoProcInstCreatorClick(event: any) {\r\n    // if (this.designerState.propertyData.CompleteStrategy !== this.designerState.completeIterator[0].key\r\n    //   && this.autoProcInstCreator === true ) {\r\n    //   this.message.info('【完成策略】为【会签】时，不允许设置自动审批，请了解！', () => {\r\n    //     this.autoProcInstCreator = false;\r\n    //   });\r\n    //   return;\r\n    // }\r\n    if (this.designerState.propertyData.AssignStrategy === this.designerState.assignIterator[2].key\r\n      && this.autoProcInstCreator === true ) {\r\n      this.message.info(this.localePipe.transform('component.performerOptions.approvalNotAllowedAsSet'), () => {\r\n        this.autoProcInstCreator = false;\r\n      });\r\n      return;\r\n    }\r\n    // this.autoProcInstCreator = !this.autoProcInstCreator;\r\n    if (this.autoProcInstCreator && this.excludeProcInstCreator) {\r\n      this.excludeProcInstCreator = false;\r\n    }\r\n  }\r\n\r\n  autoPreActExecutorsClick(event: any) {\r\n    // if (this.designerState.propertyData.CompleteStrategy !== this.designerState.completeIterator[0].key\r\n    //   && this.autoPreActExecutors === true) {\r\n    //   this.message.info('【完成策略】为【会签】时，不允许设置自动审批，请了解！', () => {\r\n    //     this.autoPreActExecutors = false;\r\n    //   });\r\n    //   return;\r\n    // }\r\n    if (this.designerState.propertyData.AssignStrategy === this.designerState.assignIterator[2].key\r\n      && this.autoPreActExecutors === true) {\r\n      this.message.info(this.localePipe.transform('component.performerOptions.approvalNotAllowed'), () => {\r\n        this.autoPreActExecutors = false;\r\n      });\r\n      return;\r\n    }\r\n    if (this.excludeAllPassExecutors === true && this.autoPreActExecutors === true) {\r\n      this.message.info(this.localePipe.transform('component.performerOptions.approvalNotAllowedAsSet'), () => {\r\n        this.autoPreActExecutors = false;\r\n      });\r\n      return;\r\n    }\r\n    // this.autoPreActExecutors = !this.autoPreActExecutors;\r\n    if (this.autoPreActExecutors && this.excludePreActExecutors) {\r\n      this.excludePreActExecutors = false;\r\n    }\r\n  }\r\n\r\n  autoAllPassExecutorsClick(event: any) {\r\n    // if (this.designerState.propertyData.CompleteStrategy !== this.designerState.completeIterator[0].key\r\n    //   && this.autoAllPassExecutors === true) {\r\n    //   this.message.info('【完成策略】为【会签】时，不允许设置自动审批，请了解！', () => {\r\n    //     this.autoAllPassExecutors = false;\r\n    //   });\r\n    //   return;\r\n    // }\r\n    if (this.designerState.propertyData.AssignStrategy === this.designerState.assignIterator[2].key\r\n      && this.autoAllPassExecutors === true) {\r\n      this.message.info(this.localePipe.transform('component.performerOptions.allocationStrategyIsCollect'), () => {\r\n        this.autoAllPassExecutors = false;\r\n      });\r\n      return;\r\n    }\r\n    // this.autoAllPassExecutors = !this.autoAllPassExecutors;\r\n    if (this.autoAllPassExecutors) {\r\n      if (this.excludeAllPassExecutors) {\r\n        this.excludeAllPassExecutors = false;\r\n      }\r\n      if (this.excludePreActExecutors) {\r\n        this.excludePreActExecutors = false;\r\n      }\r\n    }\r\n  }\r\n\r\n  getPerformerOptions(): PerformerOptions {\r\n    return {\r\n      ExclusionPerformers: this.getExclusionPerformers(),\r\n      NoPerformerStrategy: this.noPerformerStrategy,\r\n      HistoricFirst: this.historicFirst,\r\n      automaticPerformers: this.getAutoPerformers()\r\n    };\r\n  }\r\n  private getExclusionPerformers(): string[] {\r\n    const exclusionPerf: Array<string> = [];\r\n    if (this.excludeProcInstCreator) {\r\n      exclusionPerf.push('procInstCreator');\r\n    }\r\n    if (this.excludePreActExecutors) {\r\n      exclusionPerf.push('preActExecutors');\r\n    }\r\n    if (this.excludeAllPassExecutors) {\r\n      exclusionPerf.push('allPassExecutors');\r\n    }\r\n    if (this.excludeExprPerformer) {\r\n      exclusionPerf.push(`${this.exprPerformerType}#${this.excludeExprPerformer}`);\r\n    }\r\n\r\n    return exclusionPerf;\r\n  }\r\n\r\n  private getAutoPerformers(): Array<string> {\r\n    const autoPerf: Array<string> = new Array();\r\n    if (this.autoProcInstCreator) {\r\n      autoPerf.push('procInstCreator');\r\n    }\r\n    if (this.autoPreActExecutors) {\r\n      autoPerf.push('preActExecutors');\r\n    }\r\n    if (this.autoAllPassExecutors) {\r\n      autoPerf.push('allPassExecutors');\r\n    }\r\n\r\n    return autoPerf;\r\n  }\r\n\r\n  openExprEditor() {\r\n    // this.expr.clearContext();\r\n    this.expr.setEditPattern(ExprEditMode.Advanced);\r\n    if (this.designerState.schemas.length > 0) {\r\n      for (const schema of this.designerState.schemas) {\r\n        this.expr.addSchema('Schema', schema);\r\n      }\r\n      if (this.designerState.schemas[0].entityTypes && this.designerState.schemas[0].entityTypes.length > 0) {\r\n        const entityType = this.designerState.schemas[0].entityTypes[0];\r\n        this.expr.addInjectedEntity(entityType.name, 'Schema',\r\n          entityType.name, InjectedType.EntityType);\r\n      }\r\n    }\r\n    let context = new Array();\r\n    context = this.designerState.addContext(context);\r\n    if (this.designerState.subActivityContext.length > 0) {\r\n      for (const variable of this.designerState.subActivityContext) {\r\n        if (!context.some(c => c.key === variable.key)) {\r\n          context.push(variable);\r\n        }\r\n        // this.expr.addContext(variable);\r\n      }\r\n    }\r\n    if (context.length > 0) {\r\n      for (const v of context) {\r\n        this.expr.addContext(v);\r\n      }\r\n    }\r\n    // if (this.excludeExprPerformer) {\r\n    this.expr.addExpressionText(this.excludeExprPerformer);\r\n    // }\r\n    this.expr.buildExpression().then((d: string) => {\r\n      this.excludeExprPerformer = d;\r\n      //点击确定后，去除表达式里面的新增的上下文变量\r\n      if(context.length > 0) {\r\n        this.expr.exprEntity.contextEntities = this.expr.exprEntity.contextEntities.filter(x => !context.some(y => y.key === x.key));\r\n      }\r\n    });\r\n  }\r\n  orgTypeChange(data: any) {\r\n    if (data === 'Sys') {\r\n      this.exprPerformerType = this.variableOrgTypes[0].value;\r\n    } else if (data === 'Administrative_staff') {\r\n      this.exprPerformerType = this.variableOrgTypes[1].value;\r\n    }\r\n  }\r\n  clear() {\r\n    this.excludeExprPerformer = '';\r\n  }\r\n\r\n}\r\n\r\nexport class PerformerOptionsConverter implements TypeConverter {\r\n  constructor(\r\n    private localePipe: WfLocalePipe\r\n  ) { }\r\n\r\n  convertTo(data: any[]): string {\r\n    return this.localePipe.transform(\"component.performerOptions.set\");\r\n  }\r\n}\r\n","import { Component, OnInit, HostBinding, Output, EventEmitter, Input, ViewChild, TemplateRef, ComponentFactoryResolver, Injector, ComponentRef } from '@angular/core';\r\nimport { TypeConverter } from '@farris/ide-property-panel';\r\nimport { PerformerUIState } from './performer.uistate';\r\nimport { PerformerRepository } from './performer.repository';\r\nimport { PerformerViewModel } from './performer.viewmodel';\r\nimport { FormBuilder } from '@angular/forms';\r\nimport { BsModalService, BsModalRef } from '@farris/ui-modal';\r\nimport { PerformerEditComponent } from './views/performer-edit/performer-edit.component';\r\nimport { MessagerService } from '@farris/ui-messager';\r\nimport { PerformerOptionsComponent } from './views/performer-options/performer-options.component';\r\nimport { DialogComponent } from '@farris/ui-dialog';\r\nimport { PerformerEntity } from './entities/performer.entity';\r\nimport { ProcessDesignerUIState } from '../../app/process-designer.uistate';\r\nimport { ExpressionService, InjectedType, ExprEditMode } from '@gsp-svc/expression';\r\nimport { ReportingLineDataEntity } from './views/reporting-line/reporting-line-data.entity';\r\nimport { PerformerInfo } from './entities/performer-info.entity';\r\nimport { DataColumn, DatagridComponent } from '@farris/ui-datagrid';\r\nimport { Observable, of} from 'rxjs';\r\nimport { PositionPerformerEntity } from './entities/position-performer.entity';\r\nimport { HttpService } from '@ecp-caf/caf-common';\r\nimport { ComponentPerformer } from './views/component-performer/component-performer.entity';\r\nimport {MatrixDataInfoEntity} from './views/matrix-performer/entitis/matrix-data-info.entity';\r\nimport {FDropdownDirective} from \"@farris/ui-dropdown\";\r\nimport { AssignPerformerConfigComponent } from '../assign-performer-config/assign-performer-config.component';\r\nimport { ProcessDeUtil } from '../../domain/process-de-util';\r\n\r\n@Component({\r\n  selector: 'app-performer',\r\n  templateUrl: './performer.component.html',\r\n  styleUrls: ['./performer.component.scss'],\r\n  providers: [PerformerViewModel, PerformerRepository, PerformerUIState]\r\n})\r\nexport class PerformerComponent implements OnInit {\r\n\r\n  display = true; // 控制矩阵参与者是否显示\r\n\r\n  type: 'defaultPerformer' | 'assignPerformer' = 'defaultPerformer';\r\n  nodeType: 'userActivity' | 'notifyActivity'  = 'userActivity';\r\n\r\n  @ViewChild('iconSelectFooter') modalFooter: TemplateRef<any>;\r\n  @ViewChild('editFooter') editFooter: TemplateRef<any>;\r\n  @ViewChild(PerformerOptionsComponent) options: PerformerOptionsComponent;\r\n  @ViewChild('participantOptions') optionsDialog: DialogComponent;\r\n  @ViewChild(DatagridComponent) grid: DatagridComponent;\r\n  @ViewChild('dropdownEl') dropDownEl: FDropdownDirective; // 解决选择意见后，下拉菜单无法收折的问题\r\n\r\n  @Output() closeModal = new EventEmitter<any>();\r\n  @Output() submitModal = new EventEmitter<any>();\r\n\r\n  @Input()\r\n  set value(partInfo: PerformerInfo) {\r\n    if (partInfo.performers && partInfo.performers.length > 0) {\r\n      this.uistate.performerInfo.performers = partInfo.performers;\r\n      this.uistate.performersList = this.uistate.performersList.concat(partInfo.performers as any[]);\r\n      this.uistate.performersList.map(performer => performer.description = this.performerDescription(performer as any));\r\n    }\r\n    if (partInfo.variablePerformers && partInfo.variablePerformers.length > 0) {\r\n      this.uistate.performerInfo.variablePerformers = partInfo.variablePerformers;\r\n      this.uistate.performersList = this.uistate.performersList.concat(partInfo.variablePerformers as any[]);\r\n      this.uistate.performersList.map(variablePerformers => variablePerformers.description = this.performerDescription(variablePerformers as any));\r\n    }\r\n    if (partInfo.components && partInfo.components.length > 0) {\r\n      this.uistate.performerInfo.components = partInfo.components;\r\n      partInfo.components.forEach(cmp => {\r\n        this.uistate.performersList.push({\r\n          id: cmp.id,\r\n          type: 'wf.ComponentParticipantExpression',\r\n          performerName: cmp.name,\r\n          description: this.componentDescription(cmp),\r\n          condition: cmp.condition\r\n        });\r\n      });\r\n    }\r\n    if (partInfo.reportingLines && partInfo.reportingLines.length > 0) {\r\n      this.uistate.performerInfo.reportingLines = partInfo.reportingLines;\r\n      partInfo.reportingLines.forEach(r => {\r\n        this.uistate.performersList.push({\r\n          id: r.id,\r\n          type: 'wf.ReportingLineParticipantExpression',\r\n          performerName: r.reportingLineDefName + '-' + r.dimension,\r\n          description: this.reportingLineDescription(r),\r\n          condition: r.condition\r\n        });\r\n      });\r\n    }\r\n    if(partInfo.activityExecutors && partInfo.activityExecutors.length > 0) {\r\n      this.uistate.performerInfo.activityExecutors = partInfo.activityExecutors;\r\n      partInfo.activityExecutors.forEach(handler => {\r\n        this.uistate.performersList.push({\r\n          id: handler.id,\r\n          type: 'wf.ActivityExecutorParticipantExpression',\r\n          performerName: '<' + handler.activityDefName + '>活动办理人',\r\n          description: '<' + handler.activityDefName + '>活动办理人',\r\n          condition: handler.condition\r\n        });\r\n      })\r\n    }\r\n    if (partInfo.matrixParticipants && partInfo.matrixParticipants.length > 0) {\r\n      this.uistate.performerInfo.matrixParticipants = partInfo.matrixParticipants;\r\n      partInfo.matrixParticipants.forEach(r => {\r\n        this.uistate.performersList.push({\r\n          id: r.id,\r\n          type: 'wf.MatrixParticipantExpression',\r\n          performerName: r.matrixDefName + '-' + r.dataFieldAlias,\r\n          description: this.matrixDescription(r),\r\n          condition: r.condition\r\n        });\r\n      });\r\n    }\r\n    if (partInfo.organizationParticipants && partInfo.organizationParticipants.length > 0) {\r\n      this.uistate.performerInfo.organizationParticipants = partInfo.organizationParticipants;\r\n      partInfo.organizationParticipants.forEach(o => {\r\n        this.uistate.performersList.push({\r\n          id: o.id,\r\n          type: 'wf.OrganizationParticipantExpression',\r\n          performerName: o.organizationName,\r\n          description: o.organizationName +'，' +(o.includeChildren ? '包含下级':'不包含下级'),\r\n          condition: o.condition\r\n        });\r\n      })\r\n    }\r\n    if (partInfo.options) {\r\n      this.uistate.performerInfo.options = partInfo.options;\r\n    }\r\n    this.uistate.performerInfo.isAllScope = partInfo.isAllScope;\r\n  }\r\n\r\n  @Input() editorParams: any = {};\r\n\r\n  editDialog: BsModalRef;\r\n  compRef: ComponentRef<PerformerEditComponent>;\r\n  isClose = true;\r\n\r\n  modalConfig = {\r\n    title: '参与者',\r\n    width: 700,\r\n    height: 400,\r\n    showButtons: true\r\n  };\r\n  columns = [\r\n    {\r\n      field: 'type', width: 50, title: '类型',\r\n      formatter: {\r\n        type: 'enum',\r\n        options: { valueField: 'value', textField: 'text', data: this.uistate.typeCollection }\r\n      }\r\n     },\r\n    { field: 'performerName', width: 50, title: '名称' },\r\n    { field: 'description', width: 100, title: '描述', showTips: true },\r\n    {\r\n      field: 'condition', width: 60, title: '启用条件', showTips: true,\r\n      editor: {\r\n        type: 'input-group',\r\n        options: {\r\n          groupText: '<i class=\"f-icon f-icon-lookup\"></i>',\r\n          editable: false,\r\n          clickHandle: (e) => {\r\n            e.formControl.setValue(e.instance.value ? e.instance.value : '');\r\n            this.editConditon(e);\r\n          },\r\n          clear: (e) => {\r\n            if (e.rowData.type === 'wf.ComponentParticipantExpression') {\r\n              const i = this.uistate.performerInfo.components.findIndex(item => item.id === e.rowData.id);\r\n              this.uistate.performerInfo.components[i].condition = '';\r\n            } else if (e.rowData.type === 'wf.ReportingLineParticipantExpression') {\r\n              const i = this.uistate.performerInfo.reportingLines.findIndex(item => item.id === e.rowData.id);\r\n              this.uistate.performerInfo.reportingLines[i].condition = '';\r\n            } else if (e.rowData.type === 'wf.MatrixParticipantExpression') {\r\n              const i = this.uistate.performerInfo.matrixParticipants.findIndex(item => item.id === e.rowData.id);\r\n              this.uistate.performerInfo.matrixParticipants[i].condition = '';\r\n            } else if (e.rowData.type === 'wf.ActivityExecutorParticipantExpression') {\r\n              const i = this.uistate.performerInfo.activityExecutors.findIndex(item => item.id === e.rowData.id);\r\n              this.uistate.performerInfo.activityExecutors[i].condition = '';\r\n            } else if (e.rowData.type === 'wf.OrganizationParticipantExpression'){\r\n              this.uistate.performerInfo.organizationParticipants[0].condition = '';\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  ];\r\n\r\n  curPerformer: any;\r\n  editState = 'new'; // 编辑状态，用于区分是新增还是编辑  new | edit\r\n\r\n  constructor(\r\n    public viewModel: PerformerViewModel,\r\n    public uistate: PerformerUIState,\r\n    private formBuilder: FormBuilder,\r\n    private resolver: ComponentFactoryResolver,\r\n    private injector: Injector,\r\n    private modalService: BsModalService,\r\n    private message: MessagerService,\r\n    public designerUIState: ProcessDesignerUIState,\r\n    private expr: ExpressionService,\r\n    private http: HttpService,\r\n  ) {\r\n    this.GetOrganizationType();\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.type = this.editorParams.type;\r\n    this.nodeType = this.editorParams.nodeType;\r\n    this.getMatrixConfig().subscribe(re => {\r\n      if (re && re.currentValue === 'false') {\r\n        this.display = false;\r\n      }\r\n    });\r\n  }\r\n  switchChange(data: boolean) {\r\n    if (data) {\r\n      this.uistate.clearPerformer();\r\n    }\r\n  }\r\n  // add() {\r\n  //   this.editState = 'new';\r\n  //   const compFactory = this.resolver.resolveComponentFactory(PerformerEditComponent);\r\n  //   this.compRef = compFactory.create(this.injector);\r\n  //   this.compRef.instance.display = this.display;\r\n\r\n  //   const modalConfig = {\r\n  //     title: '参与者选择',\r\n  //     width: 700,\r\n  //     height: 400,\r\n  //     buttons: this.editFooter,\r\n  //     showButtons: true\r\n  //   };\r\n  //   this.editDialog = this.modalService.show(this.compRef, modalConfig);\r\n  // }\r\n  addPerformer(performerType: string){\r\n    this.editState = 'new';\r\n    const compFactory = this.resolver.resolveComponentFactory(PerformerEditComponent);\r\n    this.compRef = compFactory.create(this.injector);\r\n    this.compRef.instance.display = this.display;\r\n    this.compRef.instance.performerType = performerType;\r\n\r\n    const modalConfig = {\r\n      title: '参与者选择',\r\n      width: 700,\r\n      height: 400,\r\n      buttons: this.editFooter,\r\n      showButtons: true\r\n    };\r\n    this.editDialog = this.modalService.show(this.compRef, modalConfig);\r\n    this.dropDownEl.close();\r\n  }\r\n  edit() {\r\n    this.editState = 'edit';\r\n    if (this.uistate.curPerformer) {\r\n      const modalConfig = {\r\n        title: '参与者选择',\r\n        width: 700,\r\n        height: 400,\r\n        buttons: this.editFooter,\r\n        showButtons: true\r\n      };\r\n      const compFactory = this.resolver.resolveComponentFactory(PerformerEditComponent);\r\n      this.compRef = compFactory.create(this.injector);\r\n      this.compRef.instance.performerType = this.uistate.curPerformer.type;\r\n      switch (this.uistate.curPerformer.type) {\r\n        case 'wf.PositionParticipantExpression':\r\n          this.compRef.instance.performer = {\r\n            type: 'wf.PositionParticipantExpression',\r\n            value: this.uistate.performerInfo.performers.find(p => p.id === this.uistate.curPerformer.id)\r\n          };\r\n          break;\r\n        case 'wf.UserParticipantExpression':\r\n          this.compRef.instance.performer = {\r\n            type: 'wf.UserParticipantExpression',\r\n            value: this.uistate.performerInfo.performers.find(p => p.id === this.uistate.curPerformer.id)\r\n          };\r\n          break;\r\n        case 'wf.VariableParticipantExpression':\r\n          this.compRef.instance.performer = {\r\n            type: 'wf.VariableParticipantExpression',\r\n            value: this.uistate.performerInfo.variablePerformers.find(p => p.id === this.uistate.curPerformer.id)\r\n          };\r\n          break;\r\n        case 'wf.ReportingLineParticipantExpression':\r\n          const reportingLine = this.uistate.performerInfo.reportingLines.find(r => {\r\n            return r.id === this.uistate.curPerformer.id;\r\n          });\r\n          this.compRef.instance.performer = {\r\n            type: 'wf.ReportingLineParticipantExpression',\r\n            value: reportingLine\r\n          };\r\n          const url = '/api/runtime/wf/v1.0/reportingLineDefinitions/' + reportingLine.reportingLineDefId;\r\n          this.http.get(url).subscribe((res: any) => {\r\n            if (!res) {\r\n              this.message.error('该条汇报关系数据的定义已删除，该条数据将删除')\r\n              this.remove();\r\n            } else {\r\n              this.editDialog = this.modalService.show(this.compRef, modalConfig);\r\n            }\r\n          });\r\n          break;\r\n        case 'wf.MatrixParticipantExpression':\r\n          const matrix = this.uistate.performerInfo.matrixParticipants.find(r => {\r\n            return r.id === this.uistate.curPerformer.id;\r\n          });\r\n          this.compRef.instance.performer = {\r\n            type: 'wf.MatrixParticipantExpression',\r\n            value: matrix\r\n          };\r\n          const urlMatrix = '/api/runtime/wf/v1.0/matrixDefinition/' + matrix.matrixDefId;\r\n          this.http.get(urlMatrix).subscribe((res: any) => {\r\n            if (!res) {\r\n              this.message.error('该条矩阵数据的定义已删除，该条数据将删除')\r\n              this.remove();\r\n            } else {\r\n              this.editDialog = this.modalService.show(this.compRef, modalConfig);\r\n            }\r\n          });\r\n          break;\r\n        case 'wf.ComponentParticipantExpression':\r\n          this.compRef.instance.performer = {\r\n            type: 'wf.ComponentParticipantExpression',\r\n            value: this.uistate.performerInfo.components.find(c => {\r\n              return c.id === this.uistate.curPerformer.id;\r\n            })\r\n          };\r\n          break;\r\n        case 'wf.ActivityExecutorParticipantExpression':\r\n          this.compRef.instance.performer = {\r\n            type: 'wf.ActivityExecutorParticipantExpression',\r\n            value: this.uistate.performerInfo.activityExecutors.find( c => {\r\n              return c.id === this.uistate.curPerformer.id;\r\n            })\r\n          };\r\n          break;\r\n        case 'wf.OrganizationParticipantExpression':\r\n          this.compRef.instance.performer = {\r\n            type: 'wf.OrganizationParticipantExpression',\r\n            value: this.uistate.performerInfo.organizationParticipants[0]\r\n          };\r\n          break;\r\n      }\r\n      if(this.uistate.curPerformer.type !== 'wf.ReportingLineParticipantExpression' &&\r\n        this.uistate.curPerformer.type !== 'wf.MatrixParticipantExpression'){ // 汇报关系和矩阵单独处理\r\n        this.editDialog = this.modalService.show(this.compRef, modalConfig);\r\n      }\r\n    }\r\n  }\r\n  remove() {\r\n    if (this.grid.selectedRow) {\r\n      this.grid.endCellEdit();\r\n      if (this.grid.selectedRow.data.type === 'wf.ComponentParticipantExpression') {\r\n        const i = this.uistate.performerInfo.components.findIndex(item => item.id === this.grid.selectedRow.data.id);\r\n        this.uistate.performerInfo.components.splice(i, 1);\r\n      } else if (this.grid.selectedRow.data.type === 'wf.ReportingLineParticipantExpression') {\r\n        const i = this.uistate.performerInfo.reportingLines.findIndex(item => item.id === this.grid.selectedRow.data.id);\r\n        this.uistate.performerInfo.reportingLines.splice(i, 1);\r\n      } else if (this.grid.selectedRow.data.type === 'wf.MatrixParticipantExpression') {\r\n        const i = this.uistate.performerInfo.matrixParticipants.findIndex(item => item.id === this.grid.selectedRow.data.id);\r\n        this.uistate.performerInfo.matrixParticipants.splice(i, 1);\r\n      } else if (this.grid.selectedRow.data.type === 'wf.ActivityExecutorParticipantExpression') {\r\n        const i = this.uistate.performerInfo.activityExecutors.findIndex(item => item.id === this.grid.selectedRow.data.id);\r\n        this.uistate.performerInfo.activityExecutors.splice(i, 1);\r\n      } else if (this.grid.selectedRow.data.type === 'wf.OrganizationParticipantExpression') {\r\n        const i = this.uistate.performerInfo.organizationParticipants = new Array();\r\n      } else if (this.grid.selectedRow.data.type === 'wf.VariableParticipantExpression') {\r\n        const i = this.uistate.performerInfo.variablePerformers.findIndex(item => item.id === this.grid.selectedRow.data.id);\r\n        this.uistate.performerInfo.variablePerformers.splice(i, 1);\r\n      } else {\r\n        const i = this.uistate.performerInfo.performers.findIndex(item => item.id === this.grid.selectedRow.data.id);\r\n        this.uistate.performerInfo.performers.splice(i, 1);\r\n      }\r\n      const index = this.uistate.performersList.findIndex(p => p.id === this.grid.selectedRow.data.id);\r\n      this.uistate.performersList.splice(index, 1);\r\n\r\n      this.grid.loadData(this.uistate.performersList);\r\n    } else {\r\n      this.message.info('请先选中一条参与者信息！');\r\n    }\r\n  }\r\n  clear() {\r\n    this.uistate.performerInfo.performers = [];\r\n    this.uistate.performerInfo.variablePerformers = [];\r\n    this.uistate.performerInfo.components = [];\r\n    this.uistate.performerInfo.reportingLines = [];\r\n    this.uistate.performerInfo.matrixParticipants = [];\r\n    this.uistate.performerInfo.activityExecutors = [];\r\n    this.uistate.performerInfo.organizationParticipants = new Array();\r\n    this.uistate.performersList = [];\r\n    this.grid.loadData(this.uistate.performersList);\r\n  }\r\n\r\n  clickOK() {\r\n    this.grid.endCellEdit();\r\n    const object = {\r\n      value: this.uistate.performerInfo, parameters: null\r\n    };\r\n    this.submitModal.emit(object);\r\n  }\r\n  clickCancel() {\r\n    this.closeModal.emit();\r\n  }\r\n  editOK() {\r\n    this.isClose = true;\r\n    if (this.compRef) {\r\n      const re = this.compRef.instance.getPerformers();\r\n      if (re.userPerformers && re.userPerformers.length > 0) {\r\n        re.userPerformers.forEach(p => {\r\n          const i = this.uistate.performerInfo.performers.findIndex(a => (a.id === p.id || a.performerId === p.performerId));\r\n          if (i > -1) {\r\n            const id = this.uistate.performerInfo.performers[i].id;\r\n            this.uistate.performerInfo.performers[i] = p;\r\n            const index = this.uistate.performersList.findIndex(a => a.id === id);\r\n            this.uistate.performersList[index] = p;\r\n          } else {\r\n            if (this.editState === 'edit') {\r\n              this.remove();\r\n            }\r\n            this.uistate.performerInfo.performers.push(p);\r\n            this.uistate.performersList = this.uistate.performersList.concat([p]);\r\n          }\r\n        });\r\n        this.uistate.performersList\r\n          .filter(p => p.type === this.uistate.typeCollection[0].value || p.type === this.uistate.typeCollection[1].value )\r\n          .map(performer => performer.description =\r\n            this.performerDescription(performer as any));\r\n      }\r\n      if (re.positions && re.positions.length > 0) {\r\n        for (const position of re.positions) {\r\n          if (position && position !== null && position.id) {\r\n            const p = position;\r\n            if (!p.performerId) {\r\n              this.message.info('尚未选择岗位！');\r\n              this.isClose = false;\r\n            } else {\r\n              if ((!p.orgType || p.orgType == null) && (p.isRequired && p.positionType === '1')) {\r\n                this.message.info('尚未选择组织类型！');\r\n                this.isClose = false;\r\n              } else if ((!p.orgId || p.orgId == null) && (p.isRequired && p.positionType === '1')) {\r\n                this.message.info('尚未填写组织！');\r\n                this.isClose = false;\r\n              } else {\r\n                // (1)id一致，为编辑岗位；（2）performid一致，新增的用户，岗位已存在\r\n                const i = this.uistate.performerInfo.performers.findIndex(a => (a.id === p.id || (a.performerId === p.performerId && a.orgId === p.orgId)));\r\n                if (i > -1) {\r\n                  const id = this.uistate.performerInfo.performers[i].id;\r\n                  this.uistate.performerInfo.performers[i] = p;\r\n                  const index = this.uistate.performersList.findIndex(a => a.id === id);\r\n                  this.uistate.performersList[index] = p;\r\n                } else {\r\n                  this.uistate.performerInfo.performers.push(p);\r\n                  this.uistate.performersList = this.uistate.performersList.concat([p]);\r\n                }\r\n                this.uistate.performersList\r\n                  .filter(p => p.type === this.uistate.typeCollection[0].value || p.type === this.uistate.typeCollection[1].value)\r\n                  .map(performer => performer.description =\r\n                    this.performerDescription(performer as any));\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n\r\n      if (re.component && re.component.metadataId && re.component.methodCode) {\r\n        const i = this.uistate.performerInfo.components.findIndex(a => a.id === re.component.id);\r\n        if (i > -1) {\r\n          this.uistate.performerInfo.components[i] = re.component;\r\n          const index = this.uistate.performersList.findIndex(a => a.id === re.component.id);\r\n          this.uistate.performersList[index] = {\r\n            id: re.component.id,\r\n            type: 'wf.ComponentParticipantExpression',\r\n            performerName: re.component.name,\r\n            description: this.componentDescription(re.component),\r\n            condition: re.component.condition\r\n          };\r\n        } else {\r\n          this.uistate.performerInfo.components.push(re.component);\r\n          this.uistate.performersList.push({\r\n            id: re.component.id,\r\n            type: 'wf.ComponentParticipantExpression',\r\n            performerName: re.component.name,\r\n            description: this.componentDescription(re.component),\r\n            condition: ''\r\n          });\r\n        }\r\n      }\r\n      if (re.reportingLine && re.reportingLine.reportingLineDefId && re.reportingLine.dimension) {\r\n        if(re.reportingLine.reportingReferObject === 'dept' && !re.reportingLine.refOrgId){\r\n          this.isClose = false;\r\n          this.message.info('“部门”汇报关系类型下，参照人所在部门不能为空');\r\n        } else if (re.reportingLine.reportingReferObject !== 'dept' && !re.reportingLine.refUserId && !re.reportingLine.refEmployeeId) { // 用户及其他人员汇报对象类型，参照用户和参照员工不能全部为空\r\n          this.isClose = false;\r\n          this.message.info('“用户”汇报关系类型下，参照人不能为空');\r\n        } else {\r\n          this.isClose = true;\r\n          this.addReportingLineData(re);\r\n        }\r\n      }\r\n      if (re.matrix && re.matrix.matrixDefId) {\r\n        if(!re.matrix.conditionField1 && !re.matrix.conditionField2 && !re.matrix.conditionField3){\r\n          this.isClose = false;\r\n          this.message.info('条件字段至少要存在一个');\r\n        } else if(!re.matrix.dataFieldAlias){\r\n          this.isClose = false;\r\n          this.message.info('数据字段不能为空');\r\n        } else {\r\n          this.isClose = true;\r\n          this.addMatrixData(re);\r\n        }\r\n      }\r\n      if (re.activityExecutorPerformers && re.activityExecutorPerformers.length > 0) {\r\n        re.activityExecutorPerformers.forEach(p => {\r\n          const i = this.uistate.performerInfo.activityExecutors.findIndex(a => (a.id === p.id || a.activityDefId === p.activityDefId));\r\n          if (i < 0) {\r\n            if (this.editState === 'edit') {\r\n              this.remove(); // 在编辑状态下配置了活动办理人参与者，先将选中的删除\r\n            }\r\n            this.uistate.performerInfo.activityExecutors.push(p);\r\n            this.uistate.performersList = this.uistate.performersList.concat([p]);\r\n          }\r\n        });\r\n        this.uistate.performersList\r\n          .filter(p => p.type === this.uistate.typeCollection[5].value )\r\n          .map(performer => performer.description =\r\n            this.performerDescription(performer as any));\r\n      }\r\n      if (re.organizationParticipant) {\r\n        console.log(re.organizationParticipant);\r\n        this.uistate.performerInfo.organizationParticipants = [re.organizationParticipant];\r\n        this.uistate.performersList = this.uistate.performersList.filter(p => p.type !== 'wf.OrganizationParticipantExpression');\r\n        this.uistate.performersList = this.uistate.performersList.concat({\r\n          id: re.organizationParticipant.id || ProcessDeUtil.GenerateElementId(),\r\n          type: 'wf.OrganizationParticipantExpression',\r\n          performerName: re.organizationParticipant.organizationName,\r\n          description: re.organizationParticipant.organizationName +'，且' +(re.organizationParticipant.includeChildren ? '包含下级':'不包含下级'),\r\n          condition: re.organizationParticipant.condition\r\n        });\r\n      }\r\n      this.grid.loadData(this.uistate.performersList);\r\n    }\r\n    if (this.editDialog && this.isClose) {\r\n      this.editDialog.close();\r\n    }\r\n  }\r\n  private addReportingLineData(re: any){\r\n    const i = this.uistate.performerInfo.reportingLines.findIndex(a => a.id === re.reportingLine.id);\r\n    if (i > -1) {\r\n      this.uistate.performerInfo.reportingLines[i] = re.reportingLine;\r\n      const index = this.uistate.performersList.findIndex(a => a.id === re.reportingLine.id);\r\n      this.uistate.performersList[index] = {\r\n        id: re.reportingLine.id,\r\n        type: 'wf.ReportingLineParticipantExpression',\r\n        performerName: re.reportingLine.reportingLineDefName + '-' + re.reportingLine.dimension,\r\n        description: this.reportingLineDescription(re.reportingLine),\r\n        condition: re.reportingLine.condition\r\n      };\r\n    } else {\r\n      for(const reportingLineData of this.uistate.performerInfo.reportingLines){\r\n        if(reportingLineData.reportingLineDefId === re.reportingLine.definitionId &&\r\n          reportingLineData.dimension === re.reportingLine.dimension &&\r\n          reportingLineData.refUserId === re.reportingLine.referUserId &&\r\n          reportingLineData.refEmployeeId === re.reportingLine.refEmployeeId &&\r\n          reportingLineData.refOrgId === re.reportingLine.referDeptId\r\n        ){\r\n          this.message.error('该汇报关系已经进行过配置');\r\n          return;\r\n        }\r\n      }\r\n      this.uistate.performerInfo.reportingLines.push(re.reportingLine);\r\n      this.uistate.performersList.push({\r\n        id: re.reportingLine.id,\r\n        type: 'wf.ReportingLineParticipantExpression',\r\n        performerName: re.reportingLine.reportingLineDefName + '-' + re.reportingLine.dimension,\r\n        description: this.reportingLineDescription(re.reportingLine),\r\n        condition: re.reportingLine.condition\r\n      });\r\n    }\r\n  }\r\n  private addMatrixData(re: any){\r\n    const i = this.uistate.performerInfo.matrixParticipants.findIndex(a => a.id === re.matrix.id);\r\n    if (i > -1) {\r\n      this.uistate.performerInfo.matrixParticipants[i] = re.matrix;\r\n      const index = this.uistate.performersList.findIndex(a => a.id === re.matrix.id);\r\n      this.uistate.performersList[index] = {\r\n        id: re.matrix.id,\r\n        type: 'wf.MatrixParticipantExpression',\r\n        performerName: re.matrix.matrixDefName + '-' + re.matrix.dataFieldAlias,\r\n        description: this.matrixDescription(re.matrix),\r\n        condition: re.matrix.condition\r\n      };\r\n    } else {\r\n      for(const matrixData of this.uistate.performerInfo.matrixParticipants){\r\n        if(matrixData.matrixDefId === re.matrix.matrixDefId &&\r\n          matrixData.conditionField1 === re.matrix.conditionField1 &&\r\n          matrixData.conditionField2 === re.matrix.conditionField2 &&\r\n          matrixData.conditionField3 === re.matrix.conditionField3 &&\r\n          matrixData.dataFieldAlias === re.matrix.dataFieldAlias\r\n        ){\r\n          this.message.error('该矩阵已经进行过配置');\r\n          return;\r\n        }\r\n      }\r\n      this.uistate.performerInfo.matrixParticipants.push(re.matrix);\r\n      this.uistate.performersList.push({\r\n        id: re.matrix.id,\r\n        type: 'wf.MatrixParticipantExpression',\r\n        performerName: re.matrix.matrixDefName + '-' + re.matrix.dataFieldAlias,\r\n        description: this.matrixDescription(re.matrix),\r\n        condition: re.matrix.condition\r\n      });\r\n    }\r\n  }\r\n  editCancel() {\r\n    if (this.editDialog) {\r\n      this.editDialog.close();\r\n    }\r\n  }\r\n  participantOptionsSet() {\r\n    this.uistate.performerInfo.options = this.options.getPerformerOptions();\r\n    this.optionsDialog.close();\r\n  }\r\n\r\n  private performerDescription(performer: PerformerEntity) {\r\n    if (performer.type === 'wf.UserParticipantExpression' || performer.type === 'wf.VariableParticipantExpression') {\r\n      if (performer.tag === 'expression') {\r\n        return performer.performerId;\r\n      } else {\r\n        if (performer.orgName) {\r\n          return `组织：${performer.orgName}`;\r\n        } else {\r\n          return '';\r\n        }\r\n      }\r\n    } else if (performer.type === 'wf.PositionParticipantExpression') {\r\n      if (this.designerUIState.scene === 'inSuite') {\r\n        return null;\r\n      }\r\n      if ((performer as PositionPerformerEntity).positionType === '1') {\r\n        if (performer.orgId) {\r\n          return `岗位类型：通用岗位，组织：${performer.orgId}`;\r\n        } else {\r\n          return `岗位类型：通用岗位`;\r\n        }\r\n      } else if ((performer as PositionPerformerEntity).positionType === '0') {\r\n        return '岗位类型：组织岗位';\r\n      }\r\n    } else if(performer.type === 'wf.ActivityExecutorParticipantExpression') {\r\n      return performer.performerName;\r\n    }\r\n  }\r\n  private componentDescription(component: ComponentPerformer) {\r\n    let des = `构件：${component.name},参数：{`;\r\n    if (component.actualParameters && component.actualParameters.length > 0) {\r\n      component.actualParameters.forEach(p => {\r\n        des += `${p.code}：${p.value}，`;\r\n      });\r\n      des = des.substring(0, des.length - 1);\r\n    }\r\n    des += '}';\r\n    return des;\r\n  }\r\n  private reportingLineDescription(reportingLine: ReportingLineDataEntity) {\r\n    let description = '';\r\n    if(reportingLine.refUserId){\r\n      description += `参照人：${reportingLine.refUserId}`;\r\n    }\r\n    if(reportingLine.refEmployeeId){\r\n      description += `参照人：${reportingLine.refEmployeeId}`;\r\n    }\r\n    if(reportingLine.refOrgId){\r\n      if(reportingLine.refUserId){\r\n        description += `，`;\r\n      }\r\n      if(reportingLine.refEmployeeId){\r\n        description += `，`;\r\n      }\r\n      description += `参照组织：${reportingLine.refOrgId}`;\r\n    }\r\n    return description;\r\n  }\r\n  private matrixDescription(matrix: MatrixDataInfoEntity) {\r\n    let description = '';\r\n    if(matrix.conditionField1){\r\n      description += `条件1：${matrix.conditionFieldText1}，`;\r\n    }\r\n    if(matrix.conditionField2){\r\n      description += `条件2：${matrix.conditionFieldText2}，`;\r\n    }\r\n    if(matrix.conditionField3){\r\n      description += `条件3：${matrix.conditionFieldText3}，`;\r\n    }\r\n    if(matrix.dataFieldAlias){\r\n      description += `数据：${matrix.dataFieldAlias}，`;\r\n    }\r\n    return description.slice(0, description.length - 1);\r\n  }\r\n\r\n  editConditon(e: any) {\r\n    // this.expr.clearContext();\r\n    if (this.designerUIState.schemas.length > 0) {\r\n      for (const schema of this.designerUIState.schemas) {\r\n        this.expr.addSchema('Schema', schema);\r\n      }\r\n      if (this.designerUIState.schemas[0].entityTypes && this.designerUIState.schemas[0].entityTypes.length > 0) {\r\n        const entityType = this.designerUIState.schemas[0].entityTypes[0];\r\n        this.expr.addInjectedEntity(entityType.name, 'Schema',\r\n          entityType.name, InjectedType.EntityType);\r\n      }\r\n    }\r\n    let context = new Array();\r\n    context = this.designerUIState.addContext(context);\r\n    if (this.designerUIState.subActivityContext.length > 0) {\r\n      for (const variable of this.designerUIState.subActivityContext) {\r\n        if (!context.some(c => c.key === variable.key)) {\r\n          context.push(variable);\r\n        }\r\n      }\r\n    }\r\n    if (this.designerUIState.activityComponentContext.length > 0) {\r\n      for (const variable of this.designerUIState.activityComponentContext) {\r\n        if (!context.some(c => c.key === variable.key)) {\r\n          context.push(variable);\r\n        }\r\n      }\r\n    }\r\n    if (context.length > 0) {\r\n      for (const v of context) {\r\n        this.expr.addContext(v);\r\n      }\r\n    }\r\n    this.expr.addExpressionText(e.instance.value);\r\n    this.expr.setEditPattern(ExprEditMode.Conditional); // 默认打开简易表达式编辑器\r\n    this.expr.buildExpression().then((cond: string) => {\r\n      if (this.grid.selectedRow.data.type === 'wf.ComponentParticipantExpression') {\r\n        this.uistate.performerInfo.components.find(c => c.id === this.grid.selectedRow.data.id).condition = cond;\r\n      } else if (this.grid.selectedRow.data.type === 'wf.ReportingLineParticipantExpression') {\r\n        this.uistate.performerInfo.reportingLines.find(c => c.id === this.grid.selectedRow.data.id).condition = cond;\r\n      } else if (this.grid.selectedRow.data.type === 'wf.MatrixParticipantExpression'){\r\n        this.uistate.performerInfo.matrixParticipants.find(c => c.id === this.grid.selectedRow.data.id).condition = cond;\r\n      } else if (this.grid.selectedRow.data.type === 'wf.ActivityExecutorParticipantExpression'){\r\n        this.uistate.performerInfo.activityExecutors.find(c => c.id === this.grid.selectedRow.data.id).condition = cond;\r\n      } else {\r\n        this.uistate.performerInfo.performers.find(p => p.id === this.grid.selectedRow.data.id).condition = cond;\r\n      }\r\n      e.formControl.setValue(cond);\r\n      e.instance.cd.detectChanges();\r\n      //点击确定后，去除表达式里面的新增的上下文变量\r\n      if(context.length > 0) {\r\n        this.expr.exprEntity.contextEntities = this.expr.exprEntity.contextEntities.filter(x => !context.some(y => y.key === x.key));\r\n      }\r\n    });\r\n  }\r\n\r\n  afterEdit = (rowIndex: number, rowData: any, column?: DataColumn) => {\r\n    return of(true);\r\n  }\r\n\r\n  selectChanged(data: any) {\r\n    this.uistate.curPerformer = data.data;\r\n  }\r\n\r\n  private GetOrganizationType() {\r\n    const url = '/api/runtime/sys/v1.0/authfields/globalauthfields';\r\n    this.http.get(url)\r\n      .subscribe((data: any) => this.designerUIState.orgTypeCollection = data.map(d => ({ value: d.id, text: d.name })));\r\n  }\r\n\r\n  private getMatrixConfig(): Observable<any> {\r\n    const url = `/api/runtime/wf/v1.0/generalConfig/Is_EnableMatrix`;\r\n    return this.http.get(url);\r\n  }\r\n\r\n}\r\nexport class PerformerConverter implements TypeConverter {\r\n  constructor() { }\r\n\r\n  convertTo(data: any): string {\r\n    if ((data.performers && data.performers.length > 0)\r\n      || (data.variablePerformers && data.variablePerformers.length > 0)\r\n      || (data.components && data.components.length > 0)\r\n      || (data.reportingLines && data.reportingLines.length > 0)\r\n      || (data.matrixParticipants && data.matrixParticipants.length > 0)\r\n      || (data.activityExecutors && data.activityExecutors.length > 0)\r\n      || (data.organizationParticipants && data.organizationParticipants.length > 0)\r\n      || data.isAllScope\r\n    ) {\r\n      return '（已设置）';\r\n    } else {\r\n      return '（未设置）';\r\n    }\r\n  }\r\n}\r\n","import { ParticipantInfo } from \"../participant/participant.info\";\r\n\r\nexport class ActionOrganizationScope {\r\n    enable: boolean;\r\n    action: ActionScope;\r\n    scope: OrganizationPotentialOwner;\r\n}\r\n\r\nexport class ActionOrganizationScopeDesign {\r\n    enable: boolean;\r\n    action: ActionScope;\r\n    scope: OrganizationPotentialOwner;\r\n}\r\nexport class OrganizationPotentialOwner {\r\n    /**\r\n     * 作用域：AssignUser, Transfer, AddSignFront, AddSignBehind\r\n     */\r\n    actionScope: ActionScope;\r\n    /**\r\n     * 部门：DEPARTMENT；单位：UNIT\r\n     */\r\n    organizationLevel: OrganizationLevel;\r\n    /**\r\n     * 组织Id：currentDepartment, currentUnit\r\n     */\r\n    organizationId: string;\r\n    /**\r\n     * 组织编号\r\n     */\r\n    organizationCode: string;\r\n    /**\r\n     * 组织名称\r\n     */\r\n    organizationName: string;\r\n    /**\r\n     * 包含下级\r\n     */\r\n    includeChildren: boolean;\r\n    /**\r\n     * 遍历父级\r\n     */\r\n    parentsUntil: boolean;\r\n    /**\r\n     * variable 变量值\r\n     * expression 表达式值\r\n     * constant 常量值\r\n     */\r\n    tag: string;\r\n\r\n    /**\r\n     * 先改一下  存人员信息\r\n     */\r\n    participantInfo: ParticipantInfo;\r\n}\r\n\r\nexport enum ActionScope {\r\n    /**\r\n     * 指派\r\n     */\r\n    AssignUser = 'AssignUser',\r\n    /**\r\n     * 移交\r\n     */\r\n    Transfer = 'Transfer',\r\n    /**\r\n     * 征询\r\n     */\r\n    AddSignFront = 'AddSignFront',\r\n    /**\r\n     * 加签\r\n     */\r\n    AddSignBehind = 'AddSignBehind',\r\n    /**\r\n     * 知会\r\n     */\r\n    Notify = \"Notify\",\r\n}\r\n\r\nexport enum OrganizationLevel {\r\n    /**\r\n     * 部门\r\n     */\r\n    DEPARTMENT = 'DEPARTMENT',\r\n    /**\r\n     * 单位\r\n     */\r\n    UNIT = 'UNIT',\r\n    /**\r\n     * 默认值\r\n     */\r\n    DEFAULT = 'DEFAULT',\r\n    \r\n    VARORGANIZATION = 'VARORGANIZATION'\r\n}\r\n","export class AssignConfig {\r\n    constructor() {\r\n        this.operator = 'currentUser';\r\n        this.multiSelect = true;\r\n        this.necessary = false;\r\n    }\r\n    operator: string;\r\n    multiSelect: boolean;\r\n    necessary: boolean;\r\n}\r\n","import { AssignConfig } from \"./assign-config\";\r\n\r\nexport class AssignStrategy {\r\n    constructor() {\r\n        this.assignStrategy = 'ALL';\r\n        this.assignConfig = new AssignConfig();\r\n    }\r\n    assignStrategy: string;\r\n    assignConfig: AssignConfig;\r\n}\r\n","import { AssignStrategy } from \"../assign-strategy/assign-strategy\";\r\nimport { PerformerInfo } from \"../performer/entities/performer-info.entity\";\r\n\r\nexport class ParticipantInfo {\r\n    constructor() {\r\n        this.assignStrategy = new AssignStrategy();\r\n        this.humanPerformerList = new Array();\r\n        this.potentialOwnerList = new Array();\r\n        this.isAllScope = false;\r\n    }\r\n    assignStrategy: AssignStrategy;\r\n    humanPerformerList: Array<Participant>;\r\n    potentialOwnerList: Array<Participant>;\r\n    isAllScope: boolean;\r\n}\r\n\r\nexport class Participant {\r\n    id: string;\r\n    type: string;\r\n    condition?: string;\r\n    order?: number;\r\n}\r\n\r\n\r\nexport class UserParticipant extends Participant {\r\n    performerId: string;\r\n    performerName: string;\r\n    orgId?: string;\r\n    orgName?: string;\r\n    orgType?: string;\r\n    tag?: string;\r\n}\r\n\r\nexport class VariableParticipant extends UserParticipant {\r\n    name: string;\r\n    varValue: string;\r\n    varType: string;\r\n    relation: string;\r\n}\r\n\r\nexport class PositionParticipant extends UserParticipant {\r\n    positionType: string;\r\n    isRequired?: boolean;\r\n}\r\n\r\nexport class ComponentParticipant extends Participant {\r\n    name: string;\r\n    metadataId: string;\r\n    methodCode: string;\r\n    methodName: string;\r\n    actualParameters: Array<ActualParameter>;\r\n}\r\n\r\nexport class ReportingLineParticipant extends UserParticipant {\r\n    reportingLineDefId: string;\r\n    reportingLineDefName: string;\r\n    refOrgId: string;\r\n    refOrgName: string;\r\n    refUserId: string;\r\n    refEmployeeId: string;\r\n    dimension: string;\r\n    reportingReferObject: string;\r\n}\r\n\r\nexport class MatrixParticipant extends UserParticipant {\r\n\r\n    matrixDefId: string; // 用于存储字段id\r\n    matrixDefName: string;\r\n    conditionField1: string;\r\n    conditionFieldText1: string;\r\n    conditionField2: string;\r\n    conditionFieldText2: string;\r\n    conditionField3: string;\r\n    conditionFieldText3: string;\r\n    dataFieldAlias: string;\r\n}\r\n\r\nexport class ActivityExecutorParticipant extends UserParticipant {\r\n  activityDefId: string;\r\n  activityDefName: string;\r\n}\r\n\r\nexport class OrganizationParticipant extends Participant {\r\n    name: string;\r\n    actionScope: ActionScope;\r\n    organizationLevel: OrganizationLevel;\r\n    organizationId: string ;\r\n    organizationCode: string ;\r\n    organizationName: string ;\r\n    includeChildren: boolean ;\r\n    parentsUntil: boolean;\r\n    tag: string;\r\n}\r\n\r\nexport enum ActionScope {\r\n    /**\r\n     * 指派\r\n     */\r\n    AssignUser = 'AssignUser',\r\n    /**\r\n     * 移交\r\n     */\r\n    Transfer = 'Transfer',\r\n    /**\r\n     * 征询\r\n     */\r\n    AddSignFront = 'AddSignFront',\r\n    /**\r\n     * 加签\r\n     */\r\n    AddSignBehind = 'AddSignBehind',\r\n    /**\r\n     * 知会\r\n     */\r\n    Notify = 'Notify',\r\n}\r\nexport enum OrganizationLevel {\r\n    /**\r\n     * 部门\r\n     */\r\n    DEPARTMENT = 'DEPARTMENT',\r\n    /**\r\n     * 单位\r\n     */\r\n    UNIT = 'UNIT',\r\n    /**\r\n    * 默认值\r\n    */\r\n    DEFAULT = 'DEFAULT',\r\n\r\n    VARORGANIZATION = 'VARORGANIZATION'\r\n}\r\n\r\n\r\nexport class ActualParameter {\r\n    code: string;\r\n    value: string;\r\n    valueText: string;\r\n    tag: string;\r\n    fetchValueMode?: any;\r\n    fetchValueSetting?: any;\r\n}\r\n\r\n","import { Injectable } from '@angular/core';\r\nimport { WfLocalePipe } from '../../i18n/pipe/wf-process-editor-locale.pipe';\r\n\r\n@Injectable()\r\nexport class ParticipantUIState {\r\n  constructor(\r\n    private localePipe: WfLocalePipe\r\n  ) {}\r\n  typeCollection = [\r\n    { text: this.localePipe.transform('component.participant.user'), value: 'wf.UserParticipantExpression' },\r\n    { text: this.localePipe.transform('component.participant.variable'), value: 'wf.VariableParticipantExpression' },\r\n    { text: this.localePipe.transform('component.participant.position'), value: 'wf.PositionParticipantExpression' },\r\n    { text: this.localePipe.transform('component.participant.component'), value: 'wf.ComponentParticipantExpression' },\r\n    { text: this.localePipe.transform('component.participant.reportingLine'), value: 'wf.ReportingLineParticipantExpression' },\r\n    { text: this.localePipe.transform('component.participant.matrix'), value: 'wf.MatrixParticipantExpression' },\r\n    { text: this.localePipe.transform('component.participant.activityExecutor'), value: 'wf.ActivityExecutorParticipantExpression' },\r\n    { text: this.localePipe.transform('component.participant.organization'), value: 'wf.OrganizationParticipantExpression' }\r\n  ];\r\n}\r\n","import { ChangeDetectorRef, Component, ComponentFactoryResolver, ComponentRef, EventEmitter, Inject, Injector, Input, LOCALE_ID, OnInit, Optional, Output, TemplateRef, ViewChild } from '@angular/core';\r\nimport { HttpService } from '@ecp-caf/caf-common';\r\nimport { DatagridComponent } from '@farris/ui-datagrid';\r\nimport { FDropdownDirective } from '@farris/ui-dropdown';\r\nimport { MessagerService } from '@farris/ui-messager';\r\nimport { BsModalRef, BsModalService } from '@farris/ui-modal';\r\nimport { TypeConverter } from '@farris/ide-property-panel';\r\nimport { ExprEditMode, ExpressionService, InjectedType } from '@gsp-svc/expression';\r\nimport { ProcessDesignerUIState } from '../../../app/process-designer.uistate';\r\nimport { OrganizationParticipantExpression } from '../../../domain/entities/organization-participant-expression';\r\nimport { ProcessDeUtil } from '../../../domain/process-de-util';\r\nimport { ComponentPerformer } from '../../performer/views/component-performer/component-performer.entity';\r\nimport { PerformerEditComponent } from '../../performer/views/performer-edit/performer-edit.component';\r\nimport { AssignConfig } from '../assign-config';\r\nimport { ActivityExecutorParticipant, ComponentParticipant, MatrixParticipant, OrganizationParticipant, ParticipantInfo, PositionParticipant, ReportingLineParticipant, UserParticipant, VariableParticipant } from '../participant.info';\r\nimport { ParticipantUIState } from '../participant.uistate';\r\nimport { EditorTypes } from '@farris/ui-datagrid-editors';\r\nimport { WF_LANG_RESOURCES, WfLocalePipe } from '../../../i18n/pipe/wf-process-editor-locale.pipe';\r\nimport { WF_PROCESS_EDITOR_LANG_RESOURCES } from '../../../i18n/assets/lang.resource';\r\n\r\n@Component({\r\n  selector: 'wf-alternative-participant',\r\n  templateUrl: './alternative-participant.component.html',\r\n  styleUrls: ['./alternative-participant.component.css'],\r\n  providers: [\r\n    ParticipantUIState,\r\n     WfLocalePipe\r\n  ]\r\n})\r\nexport class AlternativeParticipantComponent implements OnInit {\r\n\r\n  @Output() closeModal = new EventEmitter<any>();\r\n  @Output() submitModal = new EventEmitter<any>();\r\n\r\n  @ViewChild('iconSelectFooter') modalFooter: TemplateRef<any>;\r\n  // @ViewChild('dropdownEl') dropDownEl: FDropdownDirective;\r\n  @ViewChild('dropdownE2') dropDownE2: FDropdownDirective;\r\n  @ViewChild('editFooter') editFooter: TemplateRef<any>;\r\n  // @ViewChild('humanPerformerGrid') humanPerformerGrid: DatagridComponent;\r\n  @ViewChild('potentialOwnerGrid') potentialOwnerGrid: DatagridComponent;\r\n\r\n  @Input() editorParams: any = {};\r\n\r\n  nodeType: 'userActivity' | 'notifyActivity'  = 'notifyActivity';\r\n\r\n  editDialog: BsModalRef;\r\n  compRef: ComponentRef<PerformerEditComponent>;\r\n  isClose = true;\r\n\r\n  participant: ParticipantInfo = new ParticipantInfo();\r\n  editState = 'new'; // 编辑状态，用于区分是新增还是编辑  new | edit\r\n\r\n  type = 'potentialOwner';\r\n\r\n  operatorCollection = [\r\n    { text: this.localePipe.transform('component.participant.currentUser'), value: 'currentUser' },\r\n    { text: this.localePipe.transform('component.participant.procInstCreator'), value: 'procInstCreator' }\r\n  ];\r\n\r\n  columns = [\r\n    {\r\n      field: 'order', width: 25, title: this.localePipe.transform('component.participant.order'),\r\n      editor: {\r\n        type: EditorTypes.NUMBERBOX, options: {\r\n        }\r\n      },\r\n    }, {\r\n    field: 'type', width: 50, title: this.localePipe.transform('component.participant.type'),\r\n    formatter: {\r\n      type: 'enum',\r\n      options: { valueField: 'value', textField: 'text', data: this.uistate.typeCollection }\r\n    }\r\n    }, {\r\n    field: 'performerName', width: 50, title: this.localePipe.transform('component.participant.performerName'), showTips: true, formatter: (v, d, i) => {\r\n      switch (d.type) {\r\n        case 'wf.UserParticipantExpression':\r\n          return d.performerName;\r\n        case 'wf.VariableParticipantExpression':\r\n          return (d as VariableParticipant).name;\r\n        case 'wf.PositionParticipantExpression':\r\n          return (d as PositionParticipant).performerName;\r\n        case 'wf.ComponentParticipantExpression':\r\n          return (d as ComponentParticipant).name;\r\n        case 'wf.ReportingLineParticipantExpression':\r\n          return (d as ReportingLineParticipant).reportingLineDefName + '-' + (d as ReportingLineParticipant).dimension;\r\n        case 'wf.MatrixParticipantExpression':\r\n          return (d as MatrixParticipant).matrixDefName + '-' + (d as MatrixParticipant).dataFieldAlias;\r\n        case 'wf.ActivityExecutorParticipantExpression':\r\n          return (d as ActivityExecutorParticipant).performerName;\r\n        case 'wf.OrganizationParticipantExpression':\r\n          return (d as OrganizationParticipant).organizationName;\r\n        default:\r\n          return '';\r\n      }\r\n    }\r\n  },\r\n  {\r\n    field: 'description', width: 100, title: this.localePipe.transform('component.participant.description'), showTips: true,\r\n    formatter: (v, d, i) => {\r\n      switch (d.type) {\r\n        case 'wf.UserParticipantExpression':\r\n          return this.getUserPerformerDescription(d);\r\n        case 'wf.VariableParticipantExpression':\r\n          return this.getVariablePerformerDescription(d);\r\n        case 'wf.PositionParticipantExpression':\r\n          return this.getPositionPerformerDescription(d);\r\n        case 'wf.ComponentParticipantExpression':\r\n          return this.getComponentPerformerDescription(d);\r\n        case 'wf.ReportingLineParticipantExpression':\r\n          return this.getReportingLinePerformerDescription(d);\r\n        case 'wf.MatrixParticipantExpression':\r\n          return this.getMatrixPerformerDescription(d);\r\n        case 'wf.ActivityExecutorParticipantExpression':\r\n          return (d as ActivityExecutorParticipant).performerName;\r\n        case 'wf.OrganizationParticipantExpression':\r\n          return (d as OrganizationParticipant).organizationName + '，且' + ((d as OrganizationParticipant).includeChildren ? '包含下级' : '不包含下级');\r\n        default:\r\n          return '';\r\n      }\r\n    }\r\n  },\r\n  {\r\n    field: 'condition', width: 60, title: this.localePipe.transform('component.participant.condition'), showTips: true,\r\n    editor: {\r\n      type: 'input-group',\r\n      options: {\r\n        groupText: '<i class=\"f-icon f-icon-lookup\"></i>',\r\n        editable: false,\r\n        clickHandle: (e) => {\r\n          e.formControl.setValue(e.instance.value ? e.instance.value : '');\r\n          this.editConditon(e);\r\n        },\r\n      }\r\n    }\r\n    }];\r\n\r\n  constructor(\r\n    public designerUIState: ProcessDesignerUIState,\r\n    private uistate: ParticipantUIState,\r\n    private resolver: ComponentFactoryResolver,\r\n    private injector: Injector,\r\n    private modalService: BsModalService,\r\n    private message: MessagerService,\r\n    private expr: ExpressionService,\r\n    private http: HttpService,\r\n    @Optional() private cdr: ChangeDetectorRef,\r\n    @Inject(LOCALE_ID) private localeId: string,\r\n    @Inject(WF_LANG_RESOURCES) private resources: any,\r\n    @Optional() private localePipe: WfLocalePipe,\r\n  ) {\r\n    this.localePipe = this.localePipe || new WfLocalePipe(localeId, resources);\r\n    this.GetOrganizationType();\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.nodeType = this.editorParams.nodeType;\r\n  }\r\n\r\n  switchChange(data: boolean) {\r\n    if (data) {\r\n      this.clearPerformer('potentialOwner');\r\n    }\r\n  }\r\n\r\n  assignStrategyChange(data) {\r\n    // this.preAssignStrategy = data;\r\n    if(data === 'ALL') {\r\n      this.participant.isAllScope = true;\r\n      this.clearPerformer('potentialOwner');\r\n    }else {\r\n      this.participant.isAllScope = false;\r\n    }\r\n  }\r\n\r\n  isEnable(data) {\r\n    if(data) {\r\n      this.participant.isAllScope = true;\r\n      this.clearPerformer('potentialOwner');\r\n    }else {\r\n      this.participant.isAllScope = false;\r\n    }\r\n  }\r\n\r\n  addPerformer(performerType: string, type: string) {\r\n    this.editState = 'new';\r\n    this.type = type;\r\n    const compFactory = this.resolver.resolveComponentFactory(PerformerEditComponent);\r\n    this.compRef = compFactory.create(this.injector);\r\n    this.compRef.instance.performerType = performerType;\r\n    const boxsize = this.attributeBoxSize(performerType);\r\n    const modalConfig = {\r\n      title: this.localePipe.transform('component.participant.participantSelection'),\r\n      width: boxsize.width,\r\n      height: boxsize.height,\r\n      buttons: this.editFooter,\r\n      showButtons: true\r\n    };\r\n    this.editDialog = this.modalService.show(this.compRef, modalConfig);\r\n    // this.dropDownEl.close();\r\n    if (this.dropDownE2) {\r\n      this.dropDownE2.close();\r\n    }\r\n  }\r\n\r\n  editOK() {\r\n    this.isClose = true;\r\n    if (this.compRef) {\r\n      const re = this.compRef.instance.getPerformers();\r\n      if (re.userPerformers && re.userPerformers.length > 0) {\r\n        for (const p of re.userPerformers) {\r\n          this.addUserPerformer(p);\r\n        }\r\n      }\r\n      if (re.variable && re.variable !== null && re.variable.performerId) {\r\n        this.addvariablePerformer(re.variable);\r\n      }\r\n      // 2023-7-28 组织岗支持多选\r\n      if (re.positions && re.positions.length > 0) {\r\n        this.addPositionPerformer(re.positions);\r\n      }\r\n      if (re.component && re.component.metadataId && re.component.methodCode) {\r\n        this.addComponentPerformer(re.component);\r\n      }\r\n      if (re.reportingLine && re.reportingLine.reportingLineDefId && re.reportingLine.dimension) {\r\n        this.addReportingLinePerformer(re.reportingLine);\r\n      }\r\n      if (re.matrix && re.matrix.matrixDefId) {\r\n        this.addMatrixPerformer(re.matrix);\r\n      }\r\n      if (re.activityExecutorPerformers && re.activityExecutorPerformers.length > 0) {\r\n        for (const a of re.activityExecutorPerformers) {\r\n          this.addActivityExecutorPerformer(a);\r\n        }\r\n      }\r\n      if (re.organizationParticipant) {\r\n        this.addOrganizationParticipant(re.organizationParticipant);\r\n      }\r\n    }\r\n    if (this.editDialog && this.isClose) {\r\n      this.editDialog.close();\r\n    }   \r\n    // 编辑完成后刷新两个组件\r\n    // this.humanPerformerGrid.refresh();\r\n    this.potentialOwnerGrid.refresh();\r\n  }\r\n\r\n  private addUserPerformer(userPerformer: UserParticipant) {\r\n    if (this.type === 'potentialOwner') {\r\n      const i = this.participant.potentialOwnerList.findIndex(a => (a.id === userPerformer.id || ((a as UserParticipant).performerId && (a as UserParticipant).performerId === userPerformer.performerId)));\r\n      if (i > -1) {\r\n        // this.participant.potentialOwnerList[i] = userPerformer;\r\n      } else {\r\n        if (this.editState === 'edit') {\r\n          this.removePotentialOwner();\r\n        }\r\n        let index;\r\n        if (this.participant.potentialOwnerList.length > 0) {\r\n          index = Math.max(...this.participant.potentialOwnerList.map(p => p.order))+1;\r\n        } else {\r\n          index = 1;\r\n        }\r\n        userPerformer.order = index;\r\n        this.participant.potentialOwnerList.push(userPerformer);\r\n      }\r\n      this.potentialOwnerGrid.loadData(this.participant.potentialOwnerList);\r\n    }\r\n  }\r\n\r\n  private addvariablePerformer(variable: VariableParticipant) {\r\n    const v = variable;\r\n    if (!v || !v.varValue) {\r\n      this.message.info(this.localePipe.transform('component.participant.selectProcessVariables'));\r\n      this.isClose = false;\r\n    } else if (!v.varType) {\r\n      this.message.info(this.localePipe.transform('component.participant.selectVariableValueType'));\r\n      this.isClose = false;\r\n    } else if (!v.relation) {\r\n      this.message.info(this.localePipe.transform('component.participant.selectRelation'));\r\n      this.isClose = false;\r\n    } else {\r\n      if (this.type === 'potentialOwner') {\r\n        const i = this.participant.potentialOwnerList.findIndex(a => (a.id === variable.id || ((a as VariableParticipant).performerId && (a as VariableParticipant).performerId === variable.performerId)));\r\n        if (i > -1) {\r\n          this.participant.potentialOwnerList[i] = variable;\r\n        } else {\r\n          if (this.editState === 'edit') {\r\n            this.removePotentialOwner();\r\n          }\r\n          let index;\r\n          if (this.participant.potentialOwnerList.length > 0) {\r\n            index = Math.max(...this.participant.potentialOwnerList.map(p => p.order))+1;\r\n          } else {\r\n            index = 1;\r\n          }\r\n          variable.order = index;\r\n          this.participant.potentialOwnerList.push(variable);\r\n        }\r\n        this.potentialOwnerGrid.loadData(this.participant.potentialOwnerList);\r\n      }\r\n    }\r\n  }\r\n\r\n  private addPositionPerformer(positions: PositionParticipant[]) {\r\n    for (const position of positions) {\r\n      if (!position.performerId) {\r\n        this.message.info(this.localePipe.transform('component.participant.selectPosition'));\r\n        this.isClose = false;\r\n      } else {\r\n        if ((!position.orgType || position.orgType == null) && (position.isRequired && position.positionType === '1')) {\r\n          this.message.info(this.localePipe.transform('component.participant.selectOrgType'));\r\n          this.isClose = false;\r\n        } else if ((!position.orgId || position.orgId == null) && (position.isRequired && position.positionType === '1')) {\r\n          this.message.info(this.localePipe.transform('component.participant.orgFill'));\r\n          this.isClose = false;\r\n        } else {\r\n          // (1)id一致，为编辑岗位；（2）performid一致，新增的用户，岗位已存在\r\n          if (this.type === 'potentialOwner') {\r\n            const i = this.participant.potentialOwnerList.findIndex(a => {\r\n              if (a.type !== 'wf.PositionParticipantExpression') {\r\n                return false;\r\n              }\r\n              const p = a as PositionParticipant;\r\n              return (p.id === position.id);\r\n            });\r\n            if (i > -1) {\r\n              this.participant.potentialOwnerList[i] = position;\r\n            } else {\r\n              let index;\r\n              if (this.participant.potentialOwnerList.length > 0) {\r\n                index = Math.max(...this.participant.potentialOwnerList.map(p => p.order))+1;\r\n              } else {\r\n                index = 1;\r\n              }\r\n              position.order = index;\r\n              this.participant.potentialOwnerList.push(position);\r\n            }\r\n            this.potentialOwnerGrid.loadData(this.participant.potentialOwnerList);\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  private addComponentPerformer(component: ComponentPerformer) {\r\n    const cmp = new ComponentParticipant();\r\n    cmp.id = component.id;\r\n    cmp.metadataId = component.metadataId;\r\n    cmp.methodCode = component.methodCode;\r\n    cmp.methodName = component.methodName;\r\n    cmp.name = component.name;\r\n    cmp.actualParameters = component.actualParameters;\r\n    cmp.type = 'wf.ComponentParticipantExpression';\r\n    cmp.condition = component.condition;\r\n    if (this.type === 'potentialOwner') {\r\n      const i = this.participant.potentialOwnerList.findIndex(a => a.id === cmp.id);\r\n      if (i > -1) {\r\n        this.participant.potentialOwnerList[i] = cmp;\r\n      } else {\r\n        let index;\r\n        if (this.participant.potentialOwnerList.length > 0) {\r\n          index = Math.max(...this.participant.potentialOwnerList.map(p => p.order))+1;\r\n        } else {\r\n          index = 1;\r\n        }\r\n        cmp.order = index;\r\n        this.participant.potentialOwnerList.push(cmp);\r\n      }\r\n      this.potentialOwnerGrid.loadData(this.participant.potentialOwnerList);\r\n    }\r\n  }\r\n\r\n  private addReportingLinePerformer(reportingLine: ReportingLineParticipant) {\r\n    if (reportingLine.reportingReferObject === 'dept' && !reportingLine.refOrgId) {\r\n      this.isClose = false;\r\n      this.message.info(this.localePipe.transform('component.participant.refOrgIdNotNull'));\r\n    } else if (reportingLine.reportingReferObject !== 'dept' && !reportingLine.refUserId && !reportingLine.refEmployeeId) { // 用户及其他人员汇报对象类型，参照用户和参照员工不能全部为空\r\n      this.isClose = false;\r\n      this.message.info(this.localePipe.transform('component.participant.refUserIdNotNull'));\r\n    } else {\r\n      this.isClose = true;\r\n      if (this.type === 'potentialOwner') {\r\n        const i = this.participant.potentialOwnerList.findIndex(a => a.id === reportingLine.id);\r\n        if (i > -1) {\r\n          this.participant.potentialOwnerList[i] = reportingLine;\r\n        } else {\r\n          const reportingLines = this.participant.potentialOwnerList.filter(h => h.type === 'wf.ReportingLineParticipantExpression');\r\n          for (const r of reportingLines) {\r\n            const reportingLineData = r as ReportingLineParticipant;\r\n            if (reportingLineData.reportingLineDefId === reportingLine.reportingLineDefId &&\r\n              reportingLineData.dimension === reportingLine.dimension &&\r\n              reportingLineData.refUserId === reportingLine.refUserId &&\r\n              reportingLineData.refEmployeeId === reportingLine.refEmployeeId &&\r\n              reportingLineData.refOrgId === reportingLine.refOrgId\r\n            ) {\r\n              this.message.error(this.localePipe.transform('component.participant.repDefConfigured'));\r\n              return;\r\n            }\r\n          }\r\n          let index;\r\n          if (this.participant.potentialOwnerList.length > 0) {\r\n            index = Math.max(...this.participant.potentialOwnerList.map(p => p.order))+1;\r\n          } else {\r\n            index = 1;\r\n          }\r\n          reportingLine.order = index;\r\n          this.participant.potentialOwnerList.push(reportingLine);\r\n        }\r\n        this.potentialOwnerGrid.loadData(this.participant.potentialOwnerList);\r\n      }\r\n    }\r\n  }\r\n\r\n  private addMatrixPerformer(matrix: MatrixParticipant) {\r\n    if (!matrix.conditionField1 && !matrix.conditionField2 && !matrix.conditionField3) {\r\n      this.isClose = false;\r\n      this.message.info(this.localePipe.transform('component.participant.atLeastOneCondition'));\r\n    } else if (!matrix.dataFieldAlias) {\r\n      this.isClose = false;\r\n      this.message.info(this.localePipe.transform('component.participant.dataFieldAliasNotNull'));\r\n    } else {\r\n      this.isClose = true;\r\n      if (this.type === 'potentialOwner') {\r\n        const i = this.participant.potentialOwnerList.findIndex(a => a.id === matrix.id);\r\n        if (i > -1) {\r\n          this.participant.potentialOwnerList[i] = matrix;\r\n        } else {\r\n          const matrixParticipants = this.participant.potentialOwnerList.filter(h => h.type === 'wf.MatrixParticipantExpression');\r\n          for (const m of matrixParticipants) {\r\n            const matrixData = m as MatrixParticipant;\r\n            if (matrixData.matrixDefId === matrix.matrixDefId &&\r\n              matrixData.conditionField1 === matrix.conditionField1 &&\r\n              matrixData.conditionField2 === matrix.conditionField2 &&\r\n              matrixData.conditionField3 === matrix.conditionField3 &&\r\n              matrixData.dataFieldAlias === matrix.dataFieldAlias\r\n            ) {\r\n              this.message.error(this.localePipe.transform('component.participant.matrixConfigured'));\r\n              return;\r\n            }\r\n          }\r\n          let index;\r\n          if (this.participant.potentialOwnerList.length > 0) {\r\n            index = Math.max(...this.participant.potentialOwnerList.map(p => p.order))+1;\r\n          } else {\r\n            index = 1;\r\n          }\r\n          matrix.order = index;\r\n          this.participant.potentialOwnerList.push(matrix);\r\n        }\r\n        this.potentialOwnerGrid.loadData(this.participant.potentialOwnerList);\r\n      }\r\n    }\r\n  }\r\n\r\n  private addActivityExecutorPerformer(activityExecutor: ActivityExecutorParticipant) {\r\n    if (this.type === 'potentialOwner') {\r\n      const i = this.participant.potentialOwnerList.findIndex(a => (a.id === activityExecutor.id ||\r\n        ((a as ActivityExecutorParticipant).activityDefId && (a as ActivityExecutorParticipant).activityDefId === activityExecutor.activityDefId)));\r\n      if (i < 0) {\r\n        if (this.editState === 'edit') {\r\n          this.removePotentialOwner(); // 在编辑状态下配置了活动办理人参与者，先将选中的删除\r\n        }\r\n        let index;\r\n        if (this.participant.potentialOwnerList.length > 0) {\r\n          index = Math.max(...this.participant.potentialOwnerList.map(p => p.order))+1;\r\n        } else {\r\n          index = 1;\r\n        }\r\n        activityExecutor.order = index;\r\n        this.participant.potentialOwnerList.push(activityExecutor);\r\n      }\r\n      this.potentialOwnerGrid.loadData(this.participant.potentialOwnerList);\r\n    }\r\n  }\r\n\r\n\r\n  addOrganizationParticipant(organization: OrganizationParticipantExpression) {\r\n    const organizationParticipant = new OrganizationParticipant();\r\n    organizationParticipant.id = organization.id || ProcessDeUtil.GenerateElementId();\r\n    organizationParticipant.type = 'wf.OrganizationParticipantExpression';\r\n    organizationParticipant.condition = organization.condition;\r\n    organizationParticipant.name = organization.name;\r\n    organizationParticipant.actionScope = organization.actionScope;\r\n    organizationParticipant.organizationLevel = organization.organizationLevel;\r\n    organizationParticipant.organizationId = organization.organizationId;\r\n    organizationParticipant.organizationCode = organization.organizationCode;\r\n    organizationParticipant.organizationName = organization.organizationName;\r\n    organizationParticipant.includeChildren = organization.includeChildren;\r\n    organizationParticipant.parentsUntil = organization.parentsUntil;\r\n    organizationParticipant.tag = organization.tag;\r\n\r\n    if (this.type === 'potentialOwner') {\r\n      this.participant.potentialOwnerList = this.participant.potentialOwnerList.filter(p => p.type !== 'wf.OrganizationParticipantExpression');\r\n      let index;\r\n      if (this.participant.potentialOwnerList.length > 0) {\r\n        index = Math.max(...this.participant.potentialOwnerList.map(p => p.order))+1;\r\n      } else {\r\n        index = 1;\r\n      }\r\n      organizationParticipant.order = index;\r\n      this.participant.potentialOwnerList.push(organizationParticipant);\r\n      this.potentialOwnerGrid.loadData(this.participant.potentialOwnerList);\r\n    }\r\n  }\r\n\r\n  editCancel() {\r\n    if (this.editDialog) {\r\n      this.editDialog.close();\r\n    }\r\n  }\r\n\r\n  editPerformer(type: string) {\r\n    this.editState = 'edit';\r\n    this.type = type;\r\n    let selectedRow;\r\n    if (type === 'potentialOwner') {\r\n      selectedRow = this.potentialOwnerGrid.selectedRow;\r\n    }\r\n    if (!selectedRow) {\r\n      this.message.info(this.localePipe.transform('component.participant.selectPerformer'));\r\n      return;\r\n    }\r\n    const curPerformer = selectedRow.data;\r\n    if (curPerformer) {\r\n      const boxsize = this.attributeBoxSize(curPerformer.type);\r\n      const modalConfig = {\r\n        title: this.localePipe.transform('component.participant.participantSelection'),\r\n        width: boxsize.width,\r\n        height: boxsize.height,\r\n        buttons: this.editFooter,\r\n        showButtons: true\r\n      };\r\n      const compFactory = this.resolver.resolveComponentFactory(PerformerEditComponent);\r\n      this.compRef = compFactory.create(this.injector);\r\n      this.compRef.instance.performerType = curPerformer.type;\r\n      this.compRef.instance.editState =  this.editState;\r\n      switch (curPerformer.type) {\r\n        case 'wf.PositionParticipantExpression':\r\n          this.compRef.instance.performer = {\r\n            type: 'wf.PositionParticipantExpression',\r\n            value: curPerformer\r\n          };\r\n          break;\r\n        case 'wf.UserParticipantExpression':\r\n          this.compRef.instance.performer = {\r\n            type: 'wf.UserParticipantExpression',\r\n            value: curPerformer\r\n          };\r\n          break;\r\n        case 'wf.VariableParticipantExpression':\r\n          this.compRef.instance.performer = {\r\n            type: 'wf.VariableParticipantExpression',\r\n            value: curPerformer\r\n          };\r\n          break;\r\n        case 'wf.ReportingLineParticipantExpression':\r\n          this.compRef.instance.performer = {\r\n            type: 'wf.ReportingLineParticipantExpression',\r\n            value: curPerformer\r\n          };\r\n          const url = '/api/runtime/wf/v1.0/reportingLineDefinitions/' + (curPerformer as ReportingLineParticipant).reportingLineDefId;\r\n          this.http.get(url).subscribe((res: any) => {\r\n            if (!res) {\r\n              this.message.error(this.localePipe.transform('component.participant.definitionDeleted'));\r\n              if (type === 'potentialOwner') {\r\n                this.removePotentialOwner();\r\n              }\r\n            } else {\r\n              this.editDialog = this.modalService.show(this.compRef, modalConfig);\r\n            }\r\n          });\r\n          break;\r\n        case 'wf.MatrixParticipantExpression':\r\n          this.compRef.instance.performer = {\r\n            type: 'wf.MatrixParticipantExpression',\r\n            value: curPerformer\r\n          };\r\n          const urlMatrix = '/api/runtime/wf/v1.0/matrixDefinition/' + (curPerformer as MatrixParticipant).matrixDefId;\r\n          this.http.get(urlMatrix).subscribe((res: any) => {\r\n            if (!res) {\r\n              this.message.error(this.localePipe.transform('component.participant.matrixDeleted'));\r\n              if (type === 'potentialOwner') {\r\n                this.removePotentialOwner();\r\n              }\r\n            } else {\r\n              this.editDialog = this.modalService.show(this.compRef, modalConfig);\r\n            }\r\n          });\r\n          break;\r\n        case 'wf.ComponentParticipantExpression':\r\n          this.compRef.instance.performer = {\r\n            type: 'wf.ComponentParticipantExpression',\r\n            value: curPerformer\r\n          };\r\n          break;\r\n        case 'wf.ActivityExecutorParticipantExpression':\r\n          this.compRef.instance.performer = {\r\n            type: 'wf.ActivityExecutorParticipantExpression',\r\n            value: curPerformer\r\n          };\r\n          break;\r\n        case 'wf.OrganizationParticipantExpression':\r\n          this.compRef.instance.performer = {\r\n            type: 'wf.OrganizationParticipantExpression',\r\n            value: curPerformer\r\n          };\r\n          break;\r\n      }\r\n      if (curPerformer.type !== 'wf.ReportingLineParticipantExpression' &&\r\n        curPerformer.type !== 'wf.MatrixParticipantExpression') { // 汇报关系和矩阵单独处理\r\n        this.editDialog = this.modalService.show(this.compRef, modalConfig);\r\n      }\r\n    }\r\n  }\r\n  removePerformer(type: string) {\r\n    if (type === 'potentialOwner') {\r\n      if (this.potentialOwnerGrid.selectedRow) {\r\n        this.potentialOwnerGrid.endCellEdit();\r\n        const index = this.participant.potentialOwnerList.findIndex(p => p.id === this.potentialOwnerGrid.selectedRow.data.id);\r\n        this.participant.potentialOwnerList.splice(index, 1);\r\n        this.potentialOwnerGrid.loadData(this.participant.potentialOwnerList);\r\n      } else {\r\n        this.message.info(this.localePipe.transform('component.participant.selectParticipantInfo'));\r\n      }\r\n    }\r\n  }\r\n\r\n  clearPerformer(type: string) {\r\n    if (type === 'potentialOwner') {\r\n      this.participant.potentialOwnerList = new Array();\r\n    }\r\n    // this.humanPerformerGrid.loadData(this.participant.humanPerformerList);\r\n    if (this.potentialOwnerGrid) {\r\n      this.potentialOwnerGrid.loadData(this.participant.potentialOwnerList);\r\n    }\r\n  }\r\n\r\n  moveUp(type: string) {\r\n    if (type === 'potentialOwner') {\r\n      const selectedRow = this.potentialOwnerGrid.selectedRow;\r\n      if (!selectedRow) {\r\n        this.message.info(this.localePipe.transform('component.participant.noRowSelected'));\r\n        return;\r\n      }\r\n      const performer = selectedRow.data;\r\n      const i = this.participant.potentialOwnerList.findIndex(c => c.id === performer.id);\r\n      if (i === 0) {\r\n        return;\r\n      }\r\n      const index = this.participant.potentialOwnerList[i].order;\r\n      this.participant.potentialOwnerList[i].order = this.participant.potentialOwnerList[i - 1].order;\r\n      this.participant.potentialOwnerList[i-1].order = index;\r\n      this.swapArray(this.participant.potentialOwnerList, i, i - 1);\r\n      this.potentialOwnerGrid.loadData(this.participant.potentialOwnerList);\r\n      this.potentialOwnerGrid.selectRow(performer.id, true);\r\n    }\r\n\r\n  }\r\n\r\n  moveDown(type: string) {\r\n    if (type === 'potentialOwner') {\r\n      const selectedRow = this.potentialOwnerGrid.selectedRow;\r\n      if (!selectedRow) {\r\n        this.message.info(this.localePipe.transform('component.participant.noRowSelected'));\r\n        return;\r\n      }\r\n      const performer = selectedRow.data;\r\n      const i = this.participant.potentialOwnerList.findIndex(c => c.id === performer.id);\r\n      if (i === this.participant.potentialOwnerList.length-1) {\r\n        return;\r\n      }\r\n      const index = this.participant.potentialOwnerList[i].order;\r\n      this.participant.potentialOwnerList[i].order = this.participant.potentialOwnerList[i + 1].order;\r\n      this.participant.potentialOwnerList[i+1].order = index;\r\n      this.swapArray(this.participant.potentialOwnerList, i, i + 1);\r\n      this.potentialOwnerGrid.loadData(this.participant.potentialOwnerList);\r\n      this.potentialOwnerGrid.selectRow(performer.id, true);\r\n    }\r\n  }\r\n\r\n  private swapArray(arr: Array<any>, i1: number, i2: number): Array<any> {\r\n    arr[i1] = arr.splice(i2, 1, arr[i1])[0];\r\n    return arr;\r\n  }\r\n\r\n  removePotentialOwner() {\r\n    if (this.potentialOwnerGrid.selectedRow) {\r\n      this.potentialOwnerGrid.endCellEdit();\r\n      const i = this.participant.potentialOwnerList.findIndex(item => item.id === this.potentialOwnerGrid.selectedRow.data.id);\r\n      this.participant.potentialOwnerList.splice(i, 1);\r\n    } else {\r\n      this.message.info(this.localePipe.transform('component.participant.selectpotentialtHandler'));\r\n    }\r\n  }\r\n\r\n  private getUserPerformerDescription(userPerformer: UserParticipant): string {\r\n    if (userPerformer.tag === 'expression') {\r\n      return userPerformer.performerId;\r\n    } else {\r\n      if (userPerformer.orgName) {\r\n        return this.localePipe.transform('component.participant.org') + userPerformer.orgName;\r\n      } else {\r\n        return '';\r\n      }\r\n    }\r\n  }\r\n\r\n  private getVariablePerformerDescription(variablePerformer: VariableParticipant): string {\r\n    if (variablePerformer.tag === 'expression') {\r\n      return variablePerformer.varValue;\r\n    }\r\n  }\r\n\r\n  private getPositionPerformerDescription(position: PositionParticipant): string {\r\n    if (this.designerUIState.scene === 'inSuite') {\r\n      return null;\r\n    }\r\n    if (position.positionType === '1') {\r\n      if (position.orgId) {\r\n        return this.localePipe.transform('component.participant.positionType1') + position.orgId;\r\n      } else {\r\n        return this.localePipe.transform('component.participant.positionType2');\r\n      }\r\n    } else if (position.positionType === '0') {\r\n      return this.localePipe.transform('component.participant.positionType3');\r\n    }\r\n  }\r\n\r\n  private getComponentPerformerDescription(position: ComponentParticipant): string {\r\n    let des = this.localePipe.transform('component.participant.comp') + position.name\r\n    + this.localePipe.transform('component.participant.parameters');\r\n    if (position.actualParameters && position.actualParameters.length > 0) {\r\n      position.actualParameters.forEach(p => {\r\n        des += `${p.code}：${p.value}，`;\r\n      });\r\n      des = des.substring(0, des.length - 1);\r\n    }\r\n    des += '}';\r\n    return des;\r\n  }\r\n\r\n  private getReportingLinePerformerDescription(reportingLine: ReportingLineParticipant): string {\r\n    let description = '';\r\n    if (reportingLine.refUserId) {\r\n      description += this.localePipe.transform('component.participant.referencePerson') + reportingLine.refUserId;\r\n    }\r\n    if (reportingLine.refEmployeeId) {\r\n      description += this.localePipe.transform('component.participant.referencePerson') + reportingLine.refEmployeeId;\r\n    }\r\n    if (reportingLine.refOrgId) {\r\n      if (reportingLine.refUserId) {\r\n        description += `，`;\r\n      }\r\n      if (reportingLine.refEmployeeId) {\r\n        description += `，`;\r\n      }\r\n      description += this.localePipe.transform('component.participant.referenceOrganization') + reportingLine.refOrgId;\r\n    }\r\n    return description;\r\n  }\r\n\r\n  private getMatrixPerformerDescription(matrix: MatrixParticipant): string {\r\n    let description = '';\r\n    if (matrix.conditionField1) {\r\n      description += this.localePipe.transform('component.participant.condition1') + matrix.conditionFieldText1 + `，`;\r\n    }\r\n    if (matrix.conditionField2) {\r\n      description += this.localePipe.transform('component.participant.condition2') + matrix.conditionFieldText2 + `，`;\r\n    }\r\n    if (matrix.conditionField3) {\r\n      description += this.localePipe.transform('component.participant.condition3') + matrix.conditionFieldText3 + `，`;\r\n    }\r\n    if (matrix.dataFieldAlias) {\r\n      description += this.localePipe.transform('component.participant.data') + matrix.dataFieldAlias + `，`;\r\n    }\r\n    return description.slice(0, description.length - 1);\r\n  }\r\n\r\n  private editConditon(e: any) {\r\n    // this.expr.clearContext();\r\n    if (this.designerUIState.schemas.length > 0) {\r\n      for (const schema of this.designerUIState.schemas) {\r\n        this.expr.addSchema('Schema', schema);\r\n      }\r\n      if (this.designerUIState.schemas[0].entityTypes && this.designerUIState.schemas[0].entityTypes.length > 0) {\r\n        const entityType = this.designerUIState.schemas[0].entityTypes[0];\r\n        this.expr.addInjectedEntity(entityType.name, 'Schema',\r\n          entityType.name, InjectedType.EntityType);\r\n      }\r\n    }\r\n    let context = new Array();\r\n    context = this.designerUIState.addContext(context);\r\n    if (this.designerUIState.subActivityContext.length > 0) {\r\n      for (const variable of this.designerUIState.subActivityContext) {\r\n        if (!context.some(c => c.key === variable.key)) {\r\n          context.push(variable);\r\n        }\r\n      }\r\n    }\r\n    if (this.designerUIState.activityComponentContext.length > 0) {\r\n      for (const variable of this.designerUIState.activityComponentContext) {\r\n        if (!context.some(c => c.key === variable.key)) {\r\n          context.push(variable);\r\n        }\r\n      }\r\n    }\r\n    if (context.length > 0) {\r\n      for (const v of context) {\r\n        this.expr.addContext(v);\r\n      }\r\n    }\r\n    this.expr.addExpressionText(e.instance.value);\r\n    this.expr.setEditPattern(ExprEditMode.Conditional); // 默认打开简易表达式编辑器\r\n    this.expr.buildExpression().then((cond: string) => {\r\n      if(this.potentialOwnerGrid && this.potentialOwnerGrid.selectedRow && this.potentialOwnerGrid.selectedRow.data) {\r\n        let temp = this.participant.potentialOwnerList.find(h => h.id === this.potentialOwnerGrid.selectedRow.data.id);\r\n        temp.condition = cond;\r\n      }\r\n      e.formControl.setValue(cond);\r\n      e.instance.cd.detectChanges();\r\n      //点击确定后，去除表达式里面的新增的上下文变量\r\n      if(context.length > 0) {\r\n        this.expr.exprEntity.contextEntities = this.expr.exprEntity.contextEntities.filter(x => !context.some(y => y.key === x.key));\r\n      }\r\n    });\r\n  }\r\n\r\n  private GetOrganizationType() {\r\n    const url = '/api/runtime/sys/v1.0/authfields/globalauthfields';\r\n    this.http.get(url)\r\n      .subscribe((data: any) => this.designerUIState.orgTypeCollection = data.map(d => ({ value: d.id, text: d.name })));\r\n  }\r\n\r\n  // 构造不同参与者选择界面的尺寸 2023-7-5\r\n  private attributeBoxSize(boxType: string) {\r\n    const boxsize = {\r\n      width: 760,\r\n      height: 512\r\n    }\r\n    switch (boxType) {\r\n      case 'wf.PositionParticipantExpression':\r\n        boxsize.width = 760;\r\n        boxsize.height = 455;\r\n        return boxsize;\r\n      case 'wf.UserParticipantExpression':\r\n        boxsize.width = 760;\r\n        boxsize.height = 320;\r\n        return boxsize;\r\n      case 'wf.VariableParticipantExpression':\r\n        boxsize.width = 760;\r\n        boxsize.height = 420;\r\n        return boxsize;;\r\n      case 'wf.ReportingLineParticipantExpression':\r\n        boxsize.width = 760;\r\n        boxsize.height = 512;\r\n        return boxsize;;\r\n      case 'wf.MatrixParticipantExpression':\r\n        boxsize.width = 780;\r\n        boxsize.height = 420;\r\n        return boxsize;;\r\n      case 'wf.ComponentParticipantExpression':\r\n        boxsize.width = 760;\r\n        boxsize.height = 512;\r\n        return boxsize;;\r\n      case 'wf.ActivityExecutorParticipantExpression':\r\n        boxsize.width = 760;\r\n        boxsize.height = 320;\r\n        return boxsize;;\r\n      case 'wf.OrganizationParticipantExpression':\r\n        boxsize.width = 760;\r\n        boxsize.height = 360;\r\n        return boxsize;;\r\n    }\r\n  }\r\n}\r\n","import { Component, OnInit, HostBinding, Output, EventEmitter, Input, ViewChild, TemplateRef, ChangeDetectorRef, Optional, Inject, LOCALE_ID } from '@angular/core';\r\nimport { TypeConverter } from '@farris/ide-property-panel';\r\nimport { ActionOrganizationScopeDesign, ActionScope, OrganizationPotentialOwner, OrganizationLevel } from './actionOrganizationScope';\r\nimport { WF_LANG_RESOURCES, WfLocalePipe } from '../../i18n/pipe/wf-process-editor-locale.pipe';\r\nimport { ExprEditMode, ExpressionService, InjectedType, VarEntity } from '@gsp-svc/expression';\r\nimport { ProcessDesignerUIState } from '../../app/process-designer.uistate';\r\nimport { AlternativeParticipantComponent } from '../participant/alternative-participant/alternative-participant.component';\r\nimport { OrganizationParticipantExpression } from '../../domain/entities/organization-participant-expression';\r\nimport { Participant, ParticipantInfo } from '../participant/participant.info';\r\nimport { MessagerService } from '@farris/ui-messager';\r\n\r\n@Component({\r\n  selector: 'app-organization-potential-owner',\r\n  templateUrl: './organization-potential-owner.component.html',\r\n  styleUrls: ['./organization-potential-owner.component.scss'],\r\n  providers: [\r\n     WfLocalePipe,\r\n  ]\r\n})\r\nexport class OrganizationPotentialOwnerComponent implements OnInit {\r\n  @HostBinding('class')\r\n  cls = 'farris-main-area flex-column';\r\n\r\n  @Output() closeModal = new EventEmitter<any>();\r\n  @Output() submitModal = new EventEmitter<any>();\r\n\r\n  @Input() editorParams: any = {};\r\n\r\n  @ViewChild(AlternativeParticipantComponent) alternativeParticipant: AlternativeParticipantComponent;\r\n\r\n  @Input()\r\n  set value(v: ActionOrganizationScopeDesign) {\r\n    this.action = v.action as any;\r\n    if (this.action === this.actionCollection[2].value) {\r\n      if (v.enable === null || v.enable === undefined) {\r\n        this.enable = true;\r\n      } else {\r\n        this.enable = v.enable;\r\n      }\r\n    } else {\r\n      this.enable = v.enable;\r\n    }\r\n    if (v.scope) {\r\n      this.alternativeParticipant.participant.isAllScope = true;\r\n      let organizationParticipantExpression = new OrganizationParticipantExpression();\r\n      organizationParticipantExpression.actionScope = v.action as any;\r\n      if (v.scope.organizationLevel === OrganizationLevel.DEFAULT && v.scope.tag === 'expression') {\r\n        organizationParticipantExpression.organizationLevel = OrganizationLevel.VARORGANIZATION;\r\n        organizationParticipantExpression.tag = v.scope.tag;\r\n        this.organizationLevel = OrganizationLevel.VARORGANIZATION;\r\n      } else if(v.scope.organizationLevel){\r\n        this.organizationLevel = v.scope.organizationLevel;\r\n      }\r\n      this.includeChildren = v.scope.includeChildren;\r\n      organizationParticipantExpression.includeChildren = v.scope.includeChildren;\r\n      this.organizationId = v.scope.organizationId;\r\n      organizationParticipantExpression.organizationId = v.scope.organizationId;\r\n      organizationParticipantExpression.organizationName = this.organizationLevelCollection.find(o => o.value === this.organizationLevel).text;\r\n      this.alternativeParticipant.addOrganizationParticipant(organizationParticipantExpression);\r\n      if(v.scope.participantInfo){\r\n        this.alternativeParticipant.participant = v.scope.participantInfo;\r\n      }else {\r\n        this.alternativeParticipant.participant = new ParticipantInfo();\r\n      }\r\n    }else {\r\n      this.alternativeParticipant.participant.isAllScope = false;\r\n    }\r\n  }\r\n\r\n  @ViewChild('iconSelectFooter') modalFooter: TemplateRef<any>;\r\n\r\n  organizationLevelCollection = [{\r\n    value: 'GLOBAL',\r\n    text: this.localePipe.transform('component.orgPotentialOwner.global'),\r\n    orgId: 'global',\r\n  }, {\r\n    value: 'UNIT',\r\n    text: this.localePipe.transform('component.orgPotentialOwner.currentUnit'),\r\n    orgId: 'currentUnit'\r\n  }, {\r\n    value: 'DEPARTMENT',\r\n    text: this.localePipe.transform('component.orgPotentialOwner.currentDepartment'),\r\n    orgId: 'currentDepartment'\r\n  },\r\n  {\r\n    value: 'VARORGANIZATION',\r\n    text: this.localePipe.transform('component.orgPotentialOwner.variableOrganization'),\r\n    orgId: ''\r\n  }];\r\n  actionCollection = [{\r\n      value: ActionScope.AddSignBehind, name: this.localePipe.transform('component.orgPotentialOwner.addSignBehind')\r\n  }, {\r\n      value: ActionScope.AddSignFront, name: this.localePipe.transform('component.orgPotentialOwner.addSignFront')\r\n  }, {\r\n      value: ActionScope.Transfer, name: this.localePipe.transform('component.orgPotentialOwner.transfer')\r\n  }, {\r\n    value: ActionScope.Notify, name: this.localePipe.transform('component.orgPotentialOwner.notify')\r\n}];\r\n  enable = false;\r\n  organizationLevel = this.organizationLevelCollection[0].value;\r\n  action = this.actionCollection[0].value;\r\n  includeChildren = false;\r\n  organizationId = '';\r\n  showClearButton = false;\r\n\r\n  constructor(\r\n    @Optional() private cdr: ChangeDetectorRef,\r\n    @Inject(LOCALE_ID) private localeId: string,\r\n    @Inject(WF_LANG_RESOURCES) private resources: any,\r\n    @Optional() private localePipe: WfLocalePipe,\r\n    private expr: ExpressionService,\r\n    private message: MessagerService,\r\n    private designerUIState: ProcessDesignerUIState\r\n  ) {\r\n    this.localePipe = this.localePipe || new WfLocalePipe(localeId, resources);\r\n   }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  clickOK() {\r\n    if(this.validate()){\r\n      const scope = new ActionOrganizationScopeDesign();\r\n      scope.enable = this.enable;\r\n      scope.action = this.action as any;\r\n      if (this.alternativeParticipant.participant.isAllScope) {\r\n        const potential = new OrganizationPotentialOwner();\r\n        potential.actionScope = this.action;\r\n        // potential.organizationLevel = this.organizationLevel as OrganizationLevel;\r\n        // potential.organizationId = this.organizationLevelCollection.find(o => o.value === this.organizationLevel).orgId || this.organizationId;\r\n        // potential.organizationName = this.organizationLevelCollection.find(o => o.value === this.organizationLevel).text;\r\n        // potential.includeChildren = this.includeChildren;\r\n        // if (potential.organizationLevel === OrganizationLevel.VARORGANIZATION) {\r\n        //   potential.tag = 'expression';\r\n        //   potential.organizationLevel = OrganizationLevel.DEFAULT;\r\n        // } else {\r\n        //   potential.tag = 'variable';\r\n        // }\r\n        scope.scope = potential as any;\r\n        scope.scope.participantInfo = this.alternativeParticipant.participant;\r\n      }\r\n      const object = { value: scope, parameters: null };\r\n      this.submitModal.emit(object);\r\n    }\r\n  }\r\n  clickCancel() {\r\n    this.closeModal.emit();\r\n  }\r\n\r\n  validate() {\r\n    if(this.alternativeParticipant.participant.isAllScope && \r\n      (!this.alternativeParticipant.participant.potentialOwnerList || this.alternativeParticipant.participant.potentialOwnerList.length <= 0)) {\r\n        this.message.info(this.localePipe.transform('component.orgPotentialOwner.turnOffPrompt'));\r\n        return false;\r\n      }else {\r\n        return true;\r\n      }\r\n  }\r\n  valueChange(event: any) {\r\n    switch (event.value) {\r\n      case this.organizationLevelCollection[0].value:\r\n        this.includeChildren = false;\r\n        break;\r\n      case this.organizationLevelCollection[1].value:\r\n        this.includeChildren = true;\r\n        break;\r\n      case this.organizationLevelCollection[2].value:\r\n        this.includeChildren = false;\r\n        break;\r\n      case this.organizationLevelCollection[3].value:\r\n        this.includeChildren = true;\r\n        this.organizationId = '';\r\n        break;\r\n    }\r\n  }\r\n  actionName = () => {\r\n    return this.actionCollection.find(a => a.value === this.action).name;\r\n  }\r\n  clear($event) {\r\n    this.organizationId = '';\r\n  }\r\n  selectValue(data: any) {\r\n    this.showExprHelp();\r\n  }\r\n\r\n  showExprHelp() {\r\n    const context = new Array<VarEntity>();\r\n    // if(this.expr.exprEntity.contextEntities.find(x => x.key === 'CurrentLanguage')) {\r\n    //   context.push(this.expr.exprEntity.contextEntities.find(x => x.key === 'CurrentLanguage'));\r\n    // }\r\n    // this.expr.clearContext();\r\n    this.expr.setEditPattern(ExprEditMode.Advanced);\r\n    if (this.designerUIState.schemas.length > 0) {\r\n      for (const schema of this.designerUIState.schemas) {\r\n        this.expr.addSchema('Schema', schema);\r\n      }\r\n      if (this.designerUIState.schemas[0].entityTypes && this.designerUIState.schemas[0].entityTypes.length > 0) {\r\n        const entityType = this.designerUIState.schemas[0].entityTypes[0];\r\n        this.expr.addInjectedEntity(entityType.name, 'Schema',\r\n          entityType.name, InjectedType.EntityType);\r\n      }\r\n    }\r\n    if (this.designerUIState.participantContext.length > 0) {\r\n      for (const variable of this.designerUIState.participantContext) {\r\n        context.push(variable);\r\n      }\r\n    }\r\n    if (this.designerUIState.processVariableContext.length > 0) {\r\n      for (const variable of this.designerUIState.processVariableContext) {\r\n        if (!context.some(c => c.key === variable.key)) {\r\n          context.push(variable);\r\n        }\r\n      }\r\n    }\r\n    if (this.designerUIState.subActivityContext.length > 0) {\r\n      for (const variable of this.designerUIState.subActivityContext) {\r\n        if (!context.some(c => c.key === variable.key)) {\r\n          context.push(variable);\r\n        }\r\n      }\r\n    }\r\n    if (context.length > 0) {\r\n      for (const v of context) {\r\n        this.expr.addContext(v);\r\n      }\r\n    }\r\n    // 预置表达式展示文本\r\n    if (this.organizationId) {\r\n      this.expr.addExpressionText(this.organizationId);\r\n    } else {\r\n      this.expr.addExpressionText('');\r\n    }\r\n    this.expr.buildExpression().then((expressioninfo: string) => {\r\n      if (expressioninfo) {\r\n        this.organizationId = expressioninfo;\r\n        this.organizationLevelCollection[3].orgId = expressioninfo;\r\n      }\r\n      //点击确定后，去除表达式里面的新增的上下文变量\r\n      if(context.length > 0) {\r\n        this.expr.exprEntity.contextEntities = this.expr.exprEntity.contextEntities.filter(x => !context.some(y => y.key === x.key));\r\n      }\r\n    });\r\n  }\r\n\r\n  modalConfig = {\r\n    title: this.localePipe.transform('component.orgPotentialOwner.optionSettings'),\r\n    width: 760,\r\n    height: 506,\r\n    showButtons: true\r\n  };\r\n}\r\nexport class OrganizationPotentialOwnerConverter implements TypeConverter {\r\n  constructor(\r\n    private localePipe: WfLocalePipe\r\n  ) { }\r\n\r\n  convertTo(data: ActionOrganizationScopeDesign): string {\r\n    if (data && data.action === ActionScope.Transfer as any && (data.enable === null || data.enable === undefined)) {\r\n      return this.localePipe.transform(\"component.orgPotentialOwner.set\");\r\n    } else {\r\n      if (data && data.enable) {\r\n        return this.localePipe.transform(\"component.orgPotentialOwner.set\");\r\n      } else {\r\n        return this.localePipe.transform(\"component.orgPotentialOwner.notSet\");\r\n      }\r\n    }\r\n  }\r\n}\r\n","export class AnonymousSet { \r\n    isAnonymity = false;\r\n    anonymous = '审批人';\r\n}\r\n","import { Component, OnInit, HostBinding, EventEmitter, Output, Input, ViewChild, TemplateRef, Inject, Injector, Optional, ChangeDetectorRef, LOCALE_ID } from '@angular/core';\r\nimport { TypeConverter } from '@farris/ide-property-panel';\r\nimport { AnonymousSet } from './anonymous-set.entity';\r\nimport { WF_PROCESS_EDITOR_LANG_RESOURCES } from '../../i18n/assets/lang.resource';\r\nimport { WF_LANG_RESOURCES, WfLocalePipe } from '../../i18n/pipe/wf-process-editor-locale.pipe';\r\n\r\n@Component({\r\n  selector: 'lib-anonymous-set',\r\n  templateUrl: './anonymous-set.component.html',\r\n  styleUrls: ['./anonymous-set.component.scss'],\r\n  providers: [\r\n     WfLocalePipe,\r\n  ]\r\n})\r\nexport class AnonymousSetComponent implements OnInit {\r\n  @HostBinding('class')\r\n  cls = 'farris-main-area flex-column';\r\n\r\n  @Output() closeModal = new EventEmitter<any>();\r\n  @Output() submitModal = new EventEmitter<any>();\r\n\r\n  @Input() set value(data: AnonymousSet) {\r\n    this.anonymousSet.isAnonymity = data.isAnonymity || false;\r\n    this.anonymousSet.anonymous = data.anonymous || this.localePipe.transform('component.anonymousSet.approver');\r\n  }\r\n\r\n  @ViewChild('iconSelectFooter') modalFooter: TemplateRef<any>;\r\n\r\n  anonymousSet: AnonymousSet = new AnonymousSet();\r\n  modalConfig = {\r\n    title: this.localePipe.transform('component.anonymousSet.anonymousOpt'),\r\n    width: 450,\r\n    height: 360,\r\n    showButtons: true\r\n  };\r\n  constructor(\r\n    private injector: Injector,\r\n    @Optional() private cdr: ChangeDetectorRef,\r\n    @Inject(LOCALE_ID) private localeId: string,\r\n    @Inject(WF_LANG_RESOURCES) private resources: any,\r\n    @Optional() private localePipe: WfLocalePipe,\r\n  ) {\r\n    this.localePipe = this.localePipe || new WfLocalePipe(localeId, resources);\r\n   }\r\n\r\n  ngOnInit() {\r\n  }\r\n  clickOK() {\r\n    const object = { value: this.anonymousSet, parameters: null };\r\n    this.submitModal.emit(object);\r\n  }\r\n\r\n  clickCancel() {\r\n    this.closeModal.emit();\r\n  }\r\n}\r\n\r\nexport class AnonymousSetConverter implements TypeConverter {\r\n  constructor(\r\n    private localePipe: WfLocalePipe\r\n  ) { }\r\n\r\n  convertTo(data: any): string {\r\n    if (data && data.isAnonymity) {\r\n      return this.localePipe.transform(\"component.anonymousSet.set\");\r\n    } else {\r\n      return this.localePipe.transform(\"component.anonymousSet.notSet\");\r\n    }\r\n  }\r\n}\r\n","export class VariableSetting {\r\n    /**\r\n     * 变量Id\r\n     */\r\n    // variableId: string;\r\n    /**\r\n     * 变量编号\r\n     */\r\n    variableCode: string;\r\n    /**\r\n     * 变量名称\r\n     */\r\n    variableName: string;\r\n    /**\r\n     * 自定义标签，赋值方式\r\n     * expression 语义化表达式\r\n     * constant 常量\r\n     * component 构件\r\n     */\r\n    tag: string;\r\n\r\n    /**\r\n     * 变量执行时机\r\n     * ACTIVITY_STARTED 活动开始\r\n     * ACTIVITY_COMPLETED 活动完成\r\n     */\r\n    executionTime: string;\r\n\r\n    /**\r\n     * 变量值\r\n     */\r\n    value: string;\r\n\r\n    valueText: string;\r\n\r\n    /**\r\n     * 构件\r\n     */\r\n    component: any;\r\n}\r\n","import { Component, OnInit, HostBinding, Output, EventEmitter, Input, ViewChild, TemplateRef, Injector, ComponentFactoryResolver, Optional, ChangeDetectorRef, Inject, LOCALE_ID } from '@angular/core';\r\nimport { DatagridComponent } from '@farris/ui-datagrid';\r\nimport { MessagerService } from '@farris/ui-messager';\r\nimport { TypeConverter } from '@farris/ide-property-panel';\r\nimport { BsModalService } from '@farris/ui-modal';\r\nimport { ProcessVariablesComponent } from '../process-variables/process-variables.component';\r\nimport { ProcessDesignerUIState } from '../../app/process-designer.uistate';\r\nimport { VariableSetting } from './variable-setting';\r\nimport { EditorTypes } from '@farris/ui-datagrid-editors';\r\nimport { ExprEditMode, ExpressionService, InjectedType } from '@gsp-svc/expression';\r\nimport { ComponentEditComponent } from './views/component-edit/component-edit.component';\r\nimport { RowEditParam } from '@farris/ui-datagrid/lib/types';\r\nimport { of } from 'rxjs';\r\nimport { WF_LANG_RESOURCES, WfLocalePipe } from '../../i18n/pipe/wf-process-editor-locale.pipe';\r\nimport { WF_PROCESS_EDITOR_LANG_RESOURCES } from '../../i18n/assets/lang.resource';\r\n\r\n@Component({\r\n  selector: 'lib-variable-setting',\r\n  templateUrl: './variable-setting.component.html',\r\n  styleUrls: ['./variable-setting.component.scss'],\r\n  providers: [\r\n     WfLocalePipe,\r\n  ]\r\n})\r\nexport class VariableSettingComponent implements OnInit {\r\n  @HostBinding('class')\r\n  cls = 'farris-main-area flex-column';\r\n  @Output() closeModal = new EventEmitter<any>();\r\n  @Output() submitModal = new EventEmitter<any>();\r\n\r\n  @Input() value: Array<VariableSetting> = new Array();\r\n  @Input() editorParams: any = {};\r\n  @ViewChild('iconSelectFooter') modalFooter: TemplateRef<any>;\r\n  @ViewChild('grid') grid: DatagridComponent;\r\n  @ViewChild('cell') cell: TemplateRef<any>;\r\n\r\n  columns = [];\r\n\r\n  private tags = [\r\n    { value: 'constant', text: this.localePipe.transform(\"component.variableSetting.constant\") },\r\n    { value: 'expression', text: this.localePipe.transform(\"component.variableSetting.expression\") },\r\n    { value: 'component', text: this.localePipe.transform(\"component.variableSetting.component\") }\r\n  ];\r\n\r\n  private opportunities = [\r\n    { value: 'ACTIVITY_STARTED', text: this.localePipe.transform(\"component.variableSetting.ACTIVITY_STARTED\") },\r\n    { value: 'ACTIVITY_COMPLETED', text: this.localePipe.transform(\"component.variableSetting.ACTIVITY_COMPLETED\") }\r\n  ];\r\n\r\n  modalConfig = {\r\n    title: this.localePipe.transform(\"component.variableSetting.varAssign\"),\r\n    width: 780,\r\n    height: 460,\r\n    showButtons: true\r\n  };\r\n\r\n  constructor(\r\n    private resolver: ComponentFactoryResolver,\r\n    private injector: Injector,\r\n    private modalService: BsModalService,\r\n    private message: MessagerService,\r\n    private uistate: ProcessDesignerUIState,\r\n    private expr: ExpressionService,\r\n    @Optional() private cdr: ChangeDetectorRef,\r\n    @Inject(LOCALE_ID) private localeId: string,\r\n    @Inject(WF_LANG_RESOURCES) private resources: any,\r\n    @Optional() private localePipe: WfLocalePipe,\r\n  ) {\r\n    this.localePipe = this.localePipe || new WfLocalePipe(localeId, resources);\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.columns = [\r\n      {\r\n        field: 'variableCode', width: 90, title: this.localePipe.transform(\"component.variableSetting.varNumber\"), sortable: true,\r\n        validators: [\r\n          { type: 'required', messager: '必填' }\r\n        ]\r\n      },\r\n      {\r\n        field: 'variableName', width: 90, title: this.localePipe.transform(\"component.variableSetting.varName\"), sortable: true,\r\n        validators: [\r\n          { type: 'required', messager: '必填' }\r\n        ]\r\n      }, {\r\n        field: 'tag', width: 60, title: this.localePipe.transform(\"component.variableSetting.valueType\"), sortable: true,\r\n        formatter: {\r\n          type: 'enum',\r\n          options: { valueField: 'value', textField: 'text', data: this.tags }\r\n        },\r\n        editor: {\r\n          type: EditorTypes.COMBOLIST,\r\n          options: {\r\n            valueField: 'value', textField: 'text', data: this.tags, idField: 'value', panelHeight: 'auto', showClear: false,\r\n            selectChange: (e) => {\r\n              this.value = this.value.map(v => {\r\n                if (v.variableCode === e.rowId) {\r\n                  v.value = null;\r\n                  v.valueText = null;\r\n                  if (v.component) {\r\n                    v.component = null;\r\n                  }\r\n                  return v;\r\n                } else {\r\n                  return v;\r\n                }\r\n              });\r\n            }\r\n          }\r\n        },\r\n        validators: [\r\n          { type: 'required', messager: '必填' }\r\n        ]\r\n      }, {\r\n        field: 'executionTime', width: 80, title: this.localePipe.transform(\"component.variableSetting.executionTime\"), sortable: true,\r\n        formatter: {\r\n          type: 'enum',\r\n          options: { valueField: 'value', textField: 'text', data: this.opportunities }\r\n        },\r\n        editor: {\r\n          type: EditorTypes.COMBOLIST,\r\n          options: {\r\n            valueField: 'value', textField: 'text', data: this.opportunities, idField: 'value', panelHeight: 'auto', showClear: false,\r\n          }\r\n        },\r\n        validators: [\r\n          { type: 'required', messager: '必填' }\r\n        ],\r\n      },\r\n      {\r\n        field: 'valueText', width: 150, title: this.localePipe.transform(\"component.variableSetting.valueText\"), showTips: true,\r\n        editor: { type: EditorTypes.TEXTBOX, options: {} },\r\n        validators: [\r\n          { type: 'required', messager: '必填' }\r\n        ]\r\n      }\r\n    ];\r\n  }\r\n\r\n  add() {\r\n    let dialog: any;\r\n    const compFactory = this.resolver.resolveComponentFactory(ProcessVariablesComponent);\r\n    const compRef = compFactory.create(this.injector);\r\n    compRef.instance.variableSetting = true;\r\n    compRef.instance.value = this.uistate.ProcessVariables;\r\n    compRef.instance.selectedValue = this.value;\r\n    compRef.instance.variableSetEmitter.subscribe((re: any[]) => {\r\n      for (const v of re) {\r\n        const variableSet = new VariableSetting();\r\n        variableSet.variableCode = v.data.name;\r\n        variableSet.variableName = v.data.documentation;\r\n        variableSet.tag = v.data.tag || this.tags[0].value;\r\n        variableSet.executionTime = v.data.executionTime || this.opportunities[0].value;\r\n        if (this.value.findIndex(i => i.variableCode === variableSet.variableCode) === -1) {\r\n          this.value = this.value.concat([variableSet]);\r\n        }\r\n      }\r\n      dialog.close();\r\n    });\r\n    compRef.instance.closeModal.subscribe(re => {\r\n      dialog.close();\r\n    });\r\n    const modalConfig = {\r\n      title: this.localePipe.transform(\"component.variableSetting.processVariables\"),\r\n      width: 660,\r\n      height: 460,\r\n      showButtons: true,\r\n      buttons: compRef.instance.modalFooter\r\n    };\r\n    dialog = this.modalService.show(compRef, modalConfig);\r\n  }\r\n\r\n  delete() {\r\n    this.grid.endCellEdit();\r\n    const selected = this.grid.selectedRow;\r\n    if (!selected) {\r\n      this.message.info(this.localePipe.transform(\"component.variableSetting.notSelectedVar\"));\r\n      return;\r\n    }\r\n    this.value = this.value.filter(v => v.variableCode !== selected.data.variableCode);\r\n  }\r\n\r\n  clickOK() {\r\n    // 先结束编辑状态\r\n    this.grid.endCellEdit();\r\n    // 等待编辑状态结束后再进行校验\r\n    setTimeout(() => {\r\n      if (this.validator()) {\r\n        const object = { value: this.value, parameters: null };\r\n        this.submitModal.emit(object);\r\n      }\r\n    }, 300);\r\n  }\r\n\r\n  clickCancel() {\r\n    this.closeModal.emit();\r\n  }\r\n\r\n  validator() {\r\n    for (const item of this.value) {\r\n      if (!item.value) {\r\n        this.message.warning(this.localePipe.transform(\"component.variableSetting.valueCannotEmpty\"));\r\n        return false;\r\n      }\r\n    }\r\n    return true;\r\n  }\r\n  beforeEdit = (param: RowEditParam) => {\r\n    const rowData = param.rowData as any;\r\n    const column = param.column;\r\n    if (column.field === 'valueText') {\r\n      if ((rowData as VariableSetting).tag === this.tags[0].value) {\r\n        param.column.editor = { type: EditorTypes.TEXTBOX, options: {} };\r\n      } else {\r\n        param.column.editor = {\r\n          type: 'input-group',\r\n          options: {\r\n            groupText: '<i class=\"f-icon f-icon-lookup\"></i>',\r\n            editable: false,\r\n            showClear: false,\r\n            clickHandle: (e) => {\r\n              e.formControl.setValue(e.instance.value ? e.instance.value : '');\r\n              this.valueEdit(e);\r\n            },\r\n            clear: (e) => {\r\n              console.log('clear', e);\r\n            }\r\n          }\r\n        };\r\n      }\r\n    }\r\n    return of(true);\r\n  }\r\n\r\n  endEdit(data: any) {\r\n    if (data.column.field === 'valueText' && data.rowData.tag === this.tags[0].value) {\r\n      data.rowData.value = data.rowData.valueText;\r\n    }\r\n  }\r\n\r\n  valueEdit(e: any) {\r\n    const rowdata: VariableSetting = e.rowData;\r\n    switch (rowdata.tag) {\r\n      case this.tags[1].value:\r\n        this.editExpression(e);\r\n        break;\r\n      case this.tags[2].value:\r\n        this.editComponent(e);\r\n        break;\r\n    }\r\n  }\r\n\r\n  private editExpression(e: any) {\r\n    // this.expr.clearContext();\r\n    const data: VariableSetting = e.rowData;\r\n    if (this.uistate.schemas.length > 0) {\r\n      for (const schema of this.uistate.schemas) {\r\n        this.expr.addSchema('Schema', schema);\r\n      }\r\n      if (this.uistate.schemas[0].entityTypes && this.uistate.schemas[0].entityTypes.length > 0) {\r\n        const entityType = this.uistate.schemas[0].entityTypes[0];\r\n        this.expr.addInjectedEntity(entityType.name, 'Schema',\r\n          entityType.name, InjectedType.EntityType);\r\n      }\r\n    }\r\n    let context = new Array();\r\n    context = this.uistate.addContext(context);\r\n    if (this.uistate.subActivityContext.length > 0) {\r\n      for (const variable of this.uistate.subActivityContext) {\r\n        if (!context.some(c => c.key === variable.key)) {\r\n          context.push(variable);\r\n        }\r\n      }\r\n    }\r\n    if (context.length > 0) {\r\n      for (const v of context) {\r\n        this.expr.addContext(v);\r\n      }\r\n    }\r\n    this.expr.setEditPattern(ExprEditMode.Advanced); // 表达式展现模式：默认高级版\r\n    this.expr.addExpressionText(data.value);\r\n    this.expr.buildExpression().then((re: string) => {\r\n      e.formControl.setValue(re);\r\n      e.instance.cd.detectChanges();\r\n      data.value = re;\r\n      e.form.bindingData.value = re;\r\n      e.form.value.value = re;\r\n      //点击确定后，去除表达式里面的新增的上下文变量\r\n      if(context.length > 0) {\r\n        this.expr.exprEntity.contextEntities = this.expr.exprEntity.contextEntities.filter(x => !context.some(y => y.key === x.key));\r\n      }\r\n    });\r\n  }\r\n\r\n  private editComponent(e: any) {\r\n    const data: VariableSetting = e.rowData;\r\n    let dialog: any;\r\n    const compFactory = this.resolver.resolveComponentFactory(ComponentEditComponent);\r\n    const compRef = compFactory.create(this.injector);\r\n    compRef.instance.component = data.component;\r\n    compRef.instance.submitEmitter.subscribe((re: any) => {\r\n      e.formControl.setValue(re.Name + '-' + re.MethodCode);\r\n      e.instance.cd.detectChanges();\r\n      data.value = re.Id;\r\n      data.component = re;\r\n      e.form.bindingData.value = re.Id;\r\n      e.form.value.value = re.Id;\r\n      e.form.value.component = re;\r\n      e.form.bindingData.component = re;\r\n      dialog.close();\r\n    });\r\n    compRef.instance.closeEmitter.subscribe(re => {\r\n      dialog.close();\r\n    });\r\n    const modalConfig = {\r\n      title: this.localePipe.transform(\"component.variableSetting.component\"),\r\n      width: 800,\r\n      height: 515,\r\n      showButtons: true,\r\n      buttons: compRef.instance.footer\r\n    };\r\n    dialog = this.modalService.show(compRef, modalConfig);\r\n  }\r\n}\r\n\r\nexport class VariableSettingConverter implements TypeConverter {\r\n  constructor(\r\n    private localePipe: WfLocalePipe\r\n  ) { }\r\n\r\n  convertTo(data: any[]): string {\r\n    if (data && data.length > 0) {\r\n      return this.localePipe.transform(\"component.variableSetting.set\");\r\n    } else {\r\n      return this.localePipe.transform(\"component.variableSetting.notSet\");;\r\n    }\r\n  }\r\n}\r\n","import { WfLocalePipe } from '../../i18n/pipe/wf-process-editor-locale.pipe';\r\nimport { ApprovalPivot } from './approval-pivot';\r\n\r\nexport class ApprovalPivotConfig {\r\n    localePipe: WfLocalePipe = null;\r\n\r\n    constructor() {\r\n        this.enable = false;\r\n        this.title = '审批要点';\r\n        this.approvalPivots = new Array();\r\n    }\r\n    title: string;\r\n    enable: boolean;\r\n    expand: boolean;\r\n    approvalPivots: Array<ApprovalPivot>;\r\n}\r\n","import { ProcessDeUtil } from '../../domain/process-de-util';\r\n\r\nexport class ApprovalPivot {\r\n    constructor() {\r\n        this.id = ProcessDeUtil.GenerateElementId();\r\n        this.type = 'REMIND';\r\n    }\r\n    id: string;\r\n    type: string;\r\n    condition: string;\r\n    title: string;\r\n    description: string;\r\n}\r\n","import { Component, OnInit, ViewChild, TemplateRef, HostBinding, Output, EventEmitter, Input, ChangeDetectorRef, Optional, LOCALE_ID, Inject } from '@angular/core';\r\nimport { TypeConverter } from '@farris/ide-property-panel';\r\nimport { DatagridComponent } from '@farris/ui-datagrid';\r\nimport { ApprovalPivotConfig } from './approval-pivot-config';\r\nimport { EditorTypes } from '@farris/ui-datagrid-editors';\r\nimport { ProcessDesignerUIState } from '../../app/process-designer.uistate';\r\nimport { ExpressionService, InjectedType, ExprEditMode, VarEntity } from '@gsp-svc/expression';\r\nimport { ApprovalPivot } from './approval-pivot';\r\nimport { MessagerService } from '@farris/ui-messager';\r\nimport { WF_LANG_RESOURCES, WfLocalePipe } from '../../i18n/pipe/wf-process-editor-locale.pipe';\r\nimport { WF_PROCESS_EDITOR_LANG_RESOURCES } from '../../i18n/assets/lang.resource';\r\n\r\n@Component({\r\n  selector: 'lib-approval-pivot',\r\n  templateUrl: './approval-pivot.component.html',\r\n  styleUrls: ['./approval-pivot.component.scss'],\r\n  providers: [\r\n     WfLocalePipe,\r\n  ]\r\n})\r\nexport class ApprovalPivotComponent implements OnInit {\r\n  @HostBinding('class')\r\n  cls = 'farris-main-area flex-column';\r\n\r\n  @Output() closeModal = new EventEmitter<any>();\r\n  @Output() submitModal = new EventEmitter<any>();\r\n\r\n  @ViewChild('iconSelectFooter') modalFooter: TemplateRef<any>;\r\n  @ViewChild('grid') grid: DatagridComponent;\r\n\r\n  @Input()\r\n  set value(data: any) {\r\n    this.config.localePipe = this.localePipe;\r\n    if (data) {\r\n      this.config.enable = data.enable;\r\n      this.config.title = data.title;\r\n      this.config.expand = data.expand;\r\n      if (data.approvalPivots && data.approvalPivots.length > 0) {\r\n        for (const a of data.approvalPivots) {\r\n          const approvalPivot = new ApprovalPivot();\r\n          approvalPivot.type = a.type;\r\n          approvalPivot.title = a.title;\r\n          approvalPivot.description = a.description;\r\n          if (a.condition) {\r\n            if (typeof (a.condition) === 'string') {\r\n              approvalPivot.condition = a.condition;\r\n            } else {\r\n              approvalPivot.condition = a.condition._value;\r\n            }\r\n          }\r\n\r\n\r\n          this.config.approvalPivots = this.config.approvalPivots.concat([approvalPivot]);\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  config = new ApprovalPivotConfig();\r\n\r\n  typeList = [\r\n    { value: 'REMIND', text: this.localePipe.transform('component.approvalPivot.remind') }];\r\n\r\n  columns = [\r\n    {\r\n      field: 'type', width: 80, title: this.localePipe.transform('component.approvalPivot.type'),\r\n      formatter: {\r\n        type: 'enum',\r\n        options: { valueField: 'value', textField: 'text', data: this.typeList }\r\n      },\r\n      editor: {\r\n        type: EditorTypes.COMBOLIST,\r\n        options: { valueField: 'value', textField: 'text', data: this.typeList, idField: 'value', panelHeight: 'auto', enableClear: false }\r\n      },\r\n      validators: [\r\n        { type: 'required', messager: '必填' }\r\n      ]\r\n    },\r\n    {\r\n      field: 'condition', width: 120, title: this.localePipe.transform('component.approvalPivot.condition'), showTips: true,\r\n      editor: {\r\n        type: 'input-group',\r\n        options: {\r\n          groupText: '<i class=\"f-icon f-icon-lookup\"></i>',\r\n          editable: false,\r\n          clickHandle: (e) => {\r\n            e.formControl.setValue(e.instance.value ? e.instance.value : '');\r\n            this.editConditon(e);\r\n          },\r\n          clear: (e) => {\r\n            console.log('clear', e);\r\n          }\r\n        }\r\n      }\r\n    },\r\n    {\r\n      field: 'title', width: 80, title: this.localePipe.transform('component.approvalPivot.title'),\r\n      editor: { type: EditorTypes.TEXTBOX, options: {} }\r\n    }, {\r\n      field: 'description', width: 100, title: this.localePipe.transform('component.approvalPivot.description'), showTips: true,\r\n      editor: { type: EditorTypes.TEXTBOX, options: {} }\r\n    }\r\n  ];\r\n\r\n  modalConfig = {\r\n    title: this.localePipe.transform('component.approvalPivot.approvalPivot'),\r\n    width: 800,\r\n    height: 480,\r\n    showButtons: true\r\n  };\r\n\r\n\r\n  constructor(\r\n    private designerUIState: ProcessDesignerUIState,\r\n    private expr: ExpressionService,\r\n    private message: MessagerService,\r\n    @Optional() private cdr: ChangeDetectorRef,\r\n    @Inject(LOCALE_ID) private localeId: string,\r\n    @Inject(WF_LANG_RESOURCES) private resources: any,\r\n    @Optional() private localePipe: WfLocalePipe,\r\n  ) {\r\n    this.localePipe = this.localePipe || new WfLocalePipe(localeId, resources);\r\n   }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  add() {\r\n    const approvalPivot = new ApprovalPivot();\r\n    this.config.approvalPivots = this.config.approvalPivots.concat([approvalPivot]);\r\n  }\r\n\r\n  delete() {\r\n    const selectedRow = this.grid.selectedRow;\r\n    if (!selectedRow) {\r\n      this.message.info(this.localePipe.transform('component.approvalPivot.selectedRow'));\r\n      return;\r\n    }\r\n    this.config.approvalPivots = this.config.approvalPivots.filter(a => a.id !== selectedRow.id);\r\n  }\r\n\r\n  clickOK() {\r\n    if (!this.config.title && this.config.enable) {\r\n      this.message.info(this.localePipe.transform('component.approvalPivot.configTitle'));\r\n      return;\r\n    }\r\n    this.grid.endCellEdit();\r\n    if (this.validator()) {\r\n      const object = { value: this.config, parameters: null };\r\n      this.submitModal.emit(object);\r\n    }\r\n  }\r\n\r\n  clickCancel() {\r\n    this.closeModal.emit();\r\n  }\r\n\r\n  private validator() {\r\n    return true;\r\n  }\r\n\r\n\r\n  editConditon(e: any) {\r\n    let context = new Array<VarEntity>();\r\n    // if(this.expr.exprEntity.contextEntities.find(x => x.key === 'CurrentLanguage')) {\r\n    //   context.push(this.expr.exprEntity.contextEntities.find(x => x.key === 'CurrentLanguage'));\r\n    // }\r\n    // this.expr.clearContext();\r\n    if (this.designerUIState.schemas.length > 0) {\r\n      for (const schema of this.designerUIState.schemas) {\r\n        this.expr.addSchema('Schema', schema);\r\n      }\r\n      if (this.designerUIState.schemas[0].entityTypes && this.designerUIState.schemas[0].entityTypes.length > 0) {\r\n        const entityType = this.designerUIState.schemas[0].entityTypes[0];\r\n        this.expr.addInjectedEntity(entityType.name, 'Schema',\r\n          entityType.name, InjectedType.EntityType);\r\n      }\r\n    }\r\n    context = this.designerUIState.addContext(context);\r\n    if (this.designerUIState.subActivityContext.length > 0) {\r\n      for (const variable of this.designerUIState.subActivityContext) {\r\n        if (!context.some(c => c.key === variable.key)) {\r\n          context.push(variable);\r\n        }\r\n      }\r\n    }\r\n    if (this.designerUIState.activityComponentContext.length > 0) {\r\n      for (const variable of this.designerUIState.activityComponentContext) {\r\n        if (!context.some(c => c.key === variable.key)) {\r\n          context.push(variable);\r\n        }\r\n      }\r\n    }\r\n    if (context.length > 0) {\r\n      for (const v of context) {\r\n        this.expr.addContext(v);\r\n      }\r\n    }\r\n\r\n    this.expr.addExpressionText(e.instance.value);\r\n    this.expr.setEditPattern(ExprEditMode.Conditional);\r\n    this.expr.buildExpression().then((cond: string) => {\r\n      e.formControl.setValue(cond);\r\n      e.instance.cd.detectChanges();\r\n      //点击确定后，去除表达式里面的新增的上下文变量\r\n      if(context.length > 0) {\r\n        this.expr.exprEntity.contextEntities = this.expr.exprEntity.contextEntities.filter(x => !context.some(y => y.key === x.key));\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nexport class ApprovalPivotConverter implements TypeConverter {\r\n  constructor(\r\n    private localePipe: WfLocalePipe\r\n  ) { }\r\n\r\n  convertTo(data: any): string {\r\n    if (data && data.enable) {\r\n      return this.localePipe.transform('component.approvalPivot.set');\r\n    } else {\r\n      return this.localePipe.transform('component.approvalPivot.notSet');\r\n    }\r\n  }\r\n}\r\n","import { SmsMessageTemplate } from \"../sms-message-template/sms-message-template\";\r\n\r\nexport class UrgeHandleRule {\r\n  cconstructor() {\r\n    this.urgeHandleAble = false;\r\n    this.earlyTime = 0;\r\n    this.intervalTime = 0;\r\n    this.urgeMessageSubject = \"{\\\"expr\\\":\\\"'催办审批：' + DefaultFunction.GetContextParameter(\\\\\\\"bizDefName\\\\\\\")\\\",\\\"sexpr\\\":\\\"\\\"}\";\r\n    this.urgeMessageContent = \"{\\\"expr\\\":\\\"'请您尽快审批' + DefaultFunction.GetContextParameter(\\\\\\\"procInstCreatorName\\\\\\\") + '的' + DefaultFunction.GetContextParameter(\\\\\\\"bizDefName\\\\\\\") + '。'\\\",\\\"sexpr\\\":\\\"\\\"}\";\r\n    this.addReminder = false;\r\n    this.subjectEditable = true;\r\n    this.contentEditable = true;\r\n  }\r\n\r\n  urgeHandleAble: boolean;\r\n  sendType: string;\r\n  earlyTime: number;\r\n  intervalTime: number;\r\n  urgeMessageSubject: string;\r\n  urgeMessageContent: string;\r\n  // 是否添加催办人信息\r\n  addReminder: boolean;\r\n  subjectEditable: boolean;\r\n  contentEditable: boolean;\r\n\r\n  /**\r\n   * 短信模板\r\n   */\r\n  smsMessageTemplate: SmsMessageTemplate\r\n}\r\n","import { Component, OnInit, Output, EventEmitter, ViewChild, TemplateRef, Input, HostBinding, ChangeDetectorRef, Optional, Inject, LOCALE_ID } from '@angular/core';\r\nimport { TypeConverter } from '@farris/ide-property-panel';\r\nimport { UrgeHandleRule } from './urge-handle-rule';\r\nimport { ProcessDesignerUIState } from '../../app/process-designer.uistate';\r\nimport {ExpressionService, InjectedType} from '@gsp-svc/expression';\r\nimport { MessagerService } from '@farris/ui-messager';\r\nimport { SmsMessageTemplate } from '../sms-message-template/sms-message-template';\r\nimport { SmsMessageTemplateComponent } from '../sms-message-template/sms-message-template.component';\r\nimport { WF_PROCESS_EDITOR_LANG_RESOURCES } from '../../i18n/assets/lang.resource';\r\nimport { WF_LANG_RESOURCES, WfLocalePipe } from '../../i18n/pipe/wf-process-editor-locale.pipe';\r\n\r\n@Component({\r\n  selector: 'lib-urge-handle-rule',\r\n  templateUrl: './urge-handle-rule.component.html',\r\n  styleUrls: ['./urge-handle-rule.component.scss'],\r\n  providers: [\r\n     WfLocalePipe,\r\n  ]\r\n})\r\nexport class UrgeHandleRuleComponent implements OnInit {\r\n\r\n  groupIcon2 = '<i class=\"f-icon f-icon-lookup\"></i>';\r\n  @Output() closeModal = new EventEmitter<any>();\r\n  @Output() submitModal = new EventEmitter<any>();\r\n\r\n  @ViewChild('iconSelectFooter') modalFooter: TemplateRef<any>;\r\n  @ViewChild(SmsMessageTemplateComponent) SmsTemplate:SmsMessageTemplateComponent\r\n\r\n  @Input()\r\n  set value(data: any) {\r\n    if (!data) {\r\n      this.urgeHandleRule.urgeHandleAble = true;\r\n      this.urgeHandleRule.earlyTime = 0;\r\n      this.urgeHandleRule.intervalTime = 0;\r\n      this.urgeHandleRule.sendType = 'cloudplus,inmail';\r\n      this.urgeHandleRule.urgeMessageSubject = `{\\\"expr\\\":\\\"'${this.localePipe.transform(\"component.urgeHandleRule.urgentApproval\")}' + DefaultFunction.GetContextParameter(\\\\\\\"bizDefName\\\\\\\")\\\",\\\"sexpr\\\":\\\"\\\"}`;\r\n      this.urgeHandleRule.urgeMessageContent = `{\\\"expr\\\":\\\"'${this.localePipe.transform(\"component.urgeHandleRule.pleaseApprove\")}' + DefaultFunction.GetContextParameter(\\\\\\\"procInstCreatorName\\\\\\\") + '${this.localePipe.transform(\"component.urgeHandleRule.soOn\")}' + DefaultFunction.GetContextParameter(\\\\\\\"bizDefName\\\\\\\") + '。'\\\",\\\"sexpr\\\":\\\"\\\"}`;\r\n    } else {\r\n      this.urgeHandleRule = data;\r\n      if (this.hasSmsMessage(this.urgeHandleRule.sendType)) {\r\n        this.hasSmsTemplate = true;\r\n        if (!this.urgeHandleRule.smsMessageTemplate) {\r\n          this.urgeHandleRule.smsMessageTemplate = new SmsMessageTemplate();\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  urgeHandleRule: UrgeHandleRule = new UrgeHandleRule();\r\n\r\n\r\n  typeGroup = this.designerUIState.messageChannels.map(m => ({ value: m.code, name: m.name }));\r\n\r\n  modalConfig = {\r\n    title: this.localePipe.transform(\"component.urgeHandleRule.urgeHandle\"),\r\n    width: 800,\r\n    height: 515,\r\n    showButtons: true\r\n  };\r\n\r\n  hasSmsTemplate = false;\r\n\r\n  constructor(\r\n    private designerUIState: ProcessDesignerUIState,\r\n    private expr: ExpressionService,\r\n    private message: MessagerService,\r\n    @Optional() private cdr: ChangeDetectorRef,\r\n    @Inject(LOCALE_ID) private localeId: string,\r\n    @Inject(WF_LANG_RESOURCES) private resources: any,\r\n    @Optional() private localePipe: WfLocalePipe) {\r\n      this.localePipe = this.localePipe || new WfLocalePipe(localeId, resources);\r\n    }\r\n  ngOnInit() {\r\n  }\r\n\r\n  clickOK() {\r\n    if (this.SmsTemplate) {\r\n      this.SmsTemplate.endGridEdit();\r\n    }\r\n    if (this.hasSmsTemplate) {\r\n      this.urgeHandleRule.smsMessageTemplate = this.SmsTemplate.smsMessageTemplate;\r\n      if (this.urgeHandleRule.smsMessageTemplate.smsMessageVariables && this.urgeHandleRule.smsMessageTemplate.smsMessageVariables.length > 0) {\r\n        this.urgeHandleRule.smsMessageTemplate.smsMessageVariables = this.urgeHandleRule.smsMessageTemplate.smsMessageVariables.filter(variable => variable.code);\r\n      }\r\n    } else {\r\n      this.urgeHandleRule.smsMessageTemplate = null;\r\n    }\r\n    if (this.validator()) {\r\n      const object = { value: this.urgeHandleRule, parameters: null };\r\n      this.submitModal.emit(object);\r\n    }\r\n  }\r\n\r\n  clickCancel() {\r\n    this.closeModal.emit();\r\n  }\r\n\r\n  private validator() {\r\n    if (!this.urgeHandleRule.sendType) {\r\n      this.message.info(this.localePipe.transform(\"component.urgeHandleRule.noSendingMethod\"));\r\n      return false;\r\n    }\r\n    //去除消息模板编号校验\r\n    // if (this.hasSmsTemplate) {\r\n    //   if (!this.urgeHandleRule.smsMessageTemplate) {\r\n    //     this.message.info(this.localePipe.transform(\"component.urgeHandleRule.setMessageTemplate\"));\r\n    //     return;\r\n    //   }\r\n    //   if (!this.urgeHandleRule.smsMessageTemplate.code) {\r\n    //     this.message.info(this.localePipe.transform(\"component.urgeHandleRule.codeEmpty\"));\r\n    //     return;\r\n    //   }\r\n    // }\r\n    if (!this.urgeHandleRule.urgeMessageSubject) {\r\n      this.message.info(this.localePipe.transform(\"component.urgeHandleRule.noMessageSubject\"));\r\n      return false;\r\n    }\r\n    if (!this.urgeHandleRule.urgeMessageContent) {\r\n      this.message.info(this.localePipe.transform(\"component.urgeHandleRule.noMessageContent\"));\r\n      return false;\r\n    }\r\n    if (!this.urgeHandleRule.earlyTime && this.urgeHandleRule.earlyTime!==0 ) {\r\n      this.message.info(this.localePipe.transform(\"component.urgeHandleRule.earliestTimeNotEmpty\"));\r\n      return false;\r\n    }\r\n    if (!this.urgeHandleRule.intervalTime && this.urgeHandleRule.intervalTime!==0 ) {\r\n      this.message.info(this.localePipe.transform(\"component.urgeHandleRule.minimumTimeNotEmpty\"));\r\n      return false;\r\n    }\r\n    return true;\r\n  }\r\n\r\n  sendTypeChange(sendType: string) {\r\n    if (this.hasSmsMessage(sendType)) {\r\n      this.hasSmsTemplate = true;\r\n      if (!this.urgeHandleRule.smsMessageTemplate) {\r\n        this.urgeHandleRule.smsMessageTemplate = new SmsMessageTemplate();\r\n      }\r\n    } else {\r\n      this.hasSmsTemplate = false;\r\n      this.urgeHandleRule.smsMessageTemplate = null;\r\n    }\r\n  }\r\n\r\n  parser = (val: string | number) => {\r\n    return Number(val);\r\n  }\r\n\r\n  titleExpr(data: any){\r\n    this.showTitleHelp(data);\r\n  }\r\n\r\n  contentExpr(data: any){\r\n    this.showContentHelp(data);\r\n  }\r\n\r\n  showTitleHelp(data: string) {\r\n    const context = this.showExpr();\r\n    if (this.urgeHandleRule.urgeMessageSubject && this.urgeHandleRule.urgeMessageSubject.length > 0) {\r\n      this.expr.addExpressionText(this.urgeHandleRule.urgeMessageSubject);\r\n    } else {\r\n      this.expr.addExpressionText('');\r\n    }\r\n    this.expr.buildExpression().then((expressionInfo: string) => {\r\n      this.urgeHandleRule.urgeMessageSubject = expressionInfo;\r\n      //点击确定后，去除表达式里面的新增的上下文变量\r\n      if(context.length > 0) {\r\n        this.expr.exprEntity.contextEntities = this.expr.exprEntity.contextEntities.filter(x => !context.some(y => y.key === x.key));\r\n      }\r\n    });\r\n  }\r\n\r\n  showContentHelp(data: string){\r\n    const context = this.showExpr();\r\n    if (this.urgeHandleRule.urgeMessageContent && this.urgeHandleRule.urgeMessageContent.length > 0) {\r\n      this.expr.addExpressionText(this.urgeHandleRule.urgeMessageContent);\r\n    } else {\r\n      this.expr.addExpressionText('');\r\n    }\r\n    this.expr.buildExpression().then((expressionInfo: string) => {\r\n      this.urgeHandleRule.urgeMessageContent = expressionInfo;\r\n      //点击确定后，去除表达式里面的新增的上下文变量\r\n      if(context.length > 0) {\r\n        this.expr.exprEntity.contextEntities = this.expr.exprEntity.contextEntities.filter(x => !context.some(y => y.key === x.key));\r\n      }\r\n    });\r\n  }\r\n\r\n  showExpr(){\r\n    // this.expr.clearContext();\r\n    if (this.designerUIState.schemas.length > 0) {\r\n      for (const schema of this.designerUIState.schemas) {\r\n        // this.expr.addCommonObject(co);\r\n        this.expr.addSchema('Schema', schema);\r\n      }\r\n      if (this.designerUIState.schemas[0].entityTypes && this.designerUIState.schemas[0].entityTypes.length > 0) {\r\n        const entityType = this.designerUIState.schemas[0].entityTypes[0];\r\n        this.expr.addInjectedEntity(entityType.name, 'Schema',\r\n          entityType.name, InjectedType.EntityType);\r\n      }\r\n    }\r\n    const context = new Array();\r\n    if (this.designerUIState.urgeContext.length > 0) {\r\n      for (const variable of this.designerUIState.urgeContext) {\r\n        context.push(variable);\r\n        // this.expr.addContext(variable);\r\n      }\r\n    }\r\n    if (this.designerUIState.processVariableContext.length > 0) {\r\n      for (const variable of this.designerUIState.processVariableContext) {\r\n        if (!context.some(c => c.key === variable.key)) {\r\n          context.push(variable);\r\n        }\r\n        // this.expr.addContext(variable);\r\n      }\r\n    }\r\n    if (this.designerUIState.subActivityContext.length > 0) {\r\n      for (const variable of this.designerUIState.subActivityContext) {\r\n        if (!context.some(c => c.key === variable.key)) {\r\n          context.push(variable);\r\n        }\r\n        // this.expr.addContext(variable);\r\n      }\r\n    }\r\n    if (context.length > 0) {\r\n      for (const v of context) {\r\n        this.expr.addContext(v);\r\n      }\r\n    }\r\n    return context;\r\n  }\r\n\r\n  private hasSmsMessage(sendType: string) {\r\n    if (sendType) {\r\n      const sendTypeList = sendType.split(',');\r\n      let messageChannel = sendTypeList.find(val => this.designerUIState.messageChannels.find(channel => channel.code == val && channel.channelType == 'Sms'));\r\n      if (messageChannel) {\r\n        return true;\r\n      } else {\r\n        return false;\r\n      }\r\n    } else {\r\n      return false\r\n    }\r\n  }\r\n\r\n}\r\n\r\nexport class UrgeHandleRuleConverter implements TypeConverter {\r\n  constructor(\r\n    private localePipe: WfLocalePipe\r\n  ) { }\r\n\r\n  convertTo(data: any): string {\r\n    if (!data) {\r\n      return this.localePipe.transform(\"component.urgeHandleRule.set\");\r\n    } else if (data.urgeHandleAble) {\r\n      return this.localePipe.transform(\"component.urgeHandleRule.set\");\r\n    } else {\r\n      return this.localePipe.transform(\"component.urgeHandleRule.notSet\");\r\n    }\r\n  }\r\n}\r\n","export class CheckCondition {\r\n    constructor(checkTime: string) {\r\n        this.checkTime = checkTime;\r\n    }\r\n    value: string;\r\n    checkTime: string;\r\n    errorTips: any;\r\n}\r\n","import { ChangeDetectorRef, Component, EventEmitter, Inject, Injector, Input, LOCALE_ID, OnInit, Optional, Output, TemplateRef, ViewChild } from '@angular/core';\r\nimport { HttpService } from '@ecp-caf/caf-common';\r\nimport { MessagerService } from '@farris/ui-messager';\r\nimport { TypeConverter } from '@farris/ide-property-panel';\r\nimport { ExprEditMode, ExpressionService, InjectedType, VarEntity } from '@gsp-svc/expression';\r\nimport { ProcessDesignerUIState } from '../../app/process-designer.uistate';\r\nimport { CheckCondition } from './check-condition';\r\nimport { WF_LANG_RESOURCES, WfLocalePipe } from '../../i18n/pipe/wf-process-editor-locale.pipe';\r\nimport { WF_PROCESS_EDITOR_LANG_RESOURCES } from '../../i18n/assets/lang.resource';\r\n\r\n@Component({\r\n  selector: 'lib-check-condition',\r\n  templateUrl: './check-condition.component.html',\r\n  styleUrls: ['./check-condition.component.css'],\r\n  providers: [\r\n     WfLocalePipe,\r\n  ]\r\n})\r\nexport class CheckConditionComponent implements OnInit {\r\n\r\n  readonly groupIcon = '<i class=\"f-icon f-icon-lookup\"></i>';\r\n\r\n  @Output() closeModal = new EventEmitter<any>();\r\n  @Output() submitModal = new EventEmitter<any>();\r\n\r\n  @Input()\r\n  set value(data: CheckCondition[]) {\r\n    if (data && data.length > 0) {\r\n      console.log(data);\r\n      this.activityBeforeStarted = data.find(d => d.checkTime === 'ACTIVITY_BEFORE_STARTED') || new CheckCondition('ACTIVITY_BEFORE_STARTED');\r\n      this.activityBeforeCompleted = data.find(d => d.checkTime === 'ACTIVITY_BEFORE_COMPLETED') || new CheckCondition('ACTIVITY_BEFORE_COMPLETED');\r\n    }\r\n  }\r\n\r\n  languages = [\r\n    { code: 'zh-CHS', name: this.localePipe.transform('component.checkCondition.zhChs') },\r\n    { code: 'zh-CHT', name: this.localePipe.transform('component.checkCondition.zhCht') },\r\n    { code: 'en', name: this.localePipe.transform('component.checkCondition.en') }\r\n  ];\r\n\r\n  @ViewChild('iconSelectFooter') modalFooter: TemplateRef<any>;\r\n\r\n  activityBeforeStarted: CheckCondition = new CheckCondition('ACTIVITY_BEFORE_STARTED');\r\n  activityBeforeCompleted: CheckCondition = new CheckCondition('ACTIVITY_BEFORE_COMPLETED');\r\n\r\n  modalConfig = {\r\n    title: this.localePipe.transform('component.checkCondition.checkCondition'),\r\n    width: 440,\r\n    height: 460,\r\n    showButtons: true\r\n  };\r\n\r\n  constructor(\r\n    private injector: Injector,\r\n    private message: MessagerService,\r\n    private designerUIState: ProcessDesignerUIState,\r\n    private expr: ExpressionService,\r\n    private http: HttpService,\r\n    @Optional() private cdr: ChangeDetectorRef,\r\n    @Inject(LOCALE_ID) private localeId: string,\r\n    @Inject(WF_LANG_RESOURCES) private resources: any,\r\n    @Optional() private localePipe: WfLocalePipe,\r\n  ) {\r\n    this.localePipe = this.localePipe || new WfLocalePipe(localeId, resources);\r\n   }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  editCondition(checkTime: string) {\r\n    let context = new Array<VarEntity>();\r\n    // if(this.expr.exprEntity.contextEntities.find(x => x.key === 'CurrentLanguage')) {\r\n    //   context.push(this.expr.exprEntity.contextEntities.find(x => x.key === 'CurrentLanguage'));\r\n    // }\r\n    // this.expr.clearContext();\r\n    if (this.designerUIState.schemas.length > 0) {\r\n      for (const schema of this.designerUIState.schemas) {\r\n        this.expr.addSchema('Schema', schema);\r\n      }\r\n      if (this.designerUIState.schemas[0].entityTypes && this.designerUIState.schemas[0].entityTypes.length > 0) {\r\n        const entityType = this.designerUIState.schemas[0].entityTypes[0];\r\n        this.expr.addInjectedEntity(entityType.name, 'Schema',\r\n          entityType.name, InjectedType.EntityType);\r\n      }\r\n    }\r\n    context = this.designerUIState.addContext(context);\r\n    if (this.designerUIState.subActivityContext.length > 0) {\r\n      for (const variable of this.designerUIState.subActivityContext) {\r\n        if (!context.some(c => c.key === variable.key)) {\r\n          context.push(variable);\r\n        }\r\n      }\r\n    }\r\n    if (this.designerUIState.activityComponentContext.length > 0) {\r\n      for (const variable of this.designerUIState.activityComponentContext) {\r\n        if (!context.some(c => c.key === variable.key)) {\r\n          context.push(variable);\r\n        }\r\n      }\r\n    }\r\n    if (context.length > 0) {\r\n      for (const v of context) {\r\n        this.expr.addContext(v);\r\n      }\r\n    }\r\n    const text = checkTime === 'ACTIVITY_BEFORE_STARTED' ? this.activityBeforeStarted.value : this.activityBeforeCompleted.value;\r\n    this.expr.addExpressionText(text);\r\n    this.expr.setEditPattern(ExprEditMode.Conditional); // 默认打开简易表达式编辑器\r\n    this.expr.buildExpression().then((cond: string) => {\r\n      if (checkTime === 'ACTIVITY_BEFORE_STARTED') {\r\n        this.activityBeforeStarted.value = cond;\r\n      } else {\r\n        this.activityBeforeCompleted.value = cond;\r\n      }\r\n      //点击确定后，去除表达式里面的新增的上下文变量\r\n      if(context.length > 0) {\r\n        this.expr.exprEntity.contextEntities = this.expr.exprEntity.contextEntities.filter(x => !context.some(y => y.key === x.key));\r\n      }\r\n    });\r\n  }\r\n\r\n  clearCondition(checkTime: string) {\r\n    if (checkTime === 'ACTIVITY_BEFORE_STARTED') {\r\n      this.activityBeforeStarted.value = null;\r\n    } else {\r\n      this.activityBeforeCompleted.value = null;\r\n    }\r\n  }\r\n\r\n  clickOK() {\r\n    const checkConditions = new Array();\r\n    if (this.activityBeforeStarted.value || this.activityBeforeStarted.errorTips) {\r\n      checkConditions.push(this.activityBeforeStarted);\r\n    }\r\n    if (this.activityBeforeCompleted.value || this.activityBeforeCompleted.errorTips) {\r\n      checkConditions.push(this.activityBeforeCompleted);\r\n    }\r\n    const object = { value: checkConditions, parameters: null };\r\n    this.submitModal.emit(object);\r\n  }\r\n\r\n  clickCancel() {\r\n    this.closeModal.emit();\r\n  }\r\n\r\n  validator() {\r\n\r\n  }\r\n}\r\nexport class CheckConditionConverter implements TypeConverter {\r\n  constructor(\r\n    private localePipe: WfLocalePipe\r\n  ) { }\r\n\r\n  convertTo(data: any): string {\r\n    if (data && data.length > 0) {\r\n      return this.localePipe.transform(\"component.checkCondition.set\");\r\n    }\r\n    return this.localePipe.transform(\"component.checkCondition.notSet\");\r\n  }\r\n}\r\n\r\n","import { ChangeDetectorRef, Component, EventEmitter, Inject, Injector, Input, LOCALE_ID, OnInit, Optional, Output, TemplateRef, ViewChild } from '@angular/core';\r\nimport { FormControl, FormGroup } from '@angular/forms';\r\nimport { HttpService } from '@ecp-caf/caf-common';\r\nimport { MessagerService } from '@farris/ui-messager';\r\nimport { TypeConverter } from '@farris/ide-property-panel';\r\nimport { ProcessDesignerUIState } from '../../app/process-designer.uistate';\r\nimport { AssignConfig } from './assign-config';\r\nimport { AssignStrategy } from './assign-strategy';\r\nimport { WF_LANG_RESOURCES, WfLocalePipe } from '../../i18n/pipe/wf-process-editor-locale.pipe';\r\nimport { WF_PROCESS_EDITOR_LANG_RESOURCES } from '../../i18n/assets/lang.resource';\r\n\r\n@Component({\r\n  selector: 'lib-assign-strategy',\r\n  templateUrl: './assign-strategy.component.html',\r\n  styleUrls: ['./assign-strategy.component.css'],\r\n  providers: [\r\n     WfLocalePipe,\r\n  ]\r\n})\r\nexport class AssignStrategyComponent implements OnInit {\r\n\r\n  @Output() closeModal = new EventEmitter<any>();\r\n  @Output() submitModal = new EventEmitter<any>();\r\n\r\n  @Input()\r\n  set value(assignStrategy: AssignStrategy) {\r\n    this.assignStrategy = assignStrategy || new AssignStrategy();\r\n    if (!this.assignStrategy.assignConfig) {\r\n      this.assignStrategy.assignConfig = new AssignConfig();\r\n    }\r\n    this.assingPerformerConfigForm.setValue({\r\n      multiSelect: this.assignStrategy.assignConfig.multiSelect,\r\n      necessary: this.assignStrategy.assignConfig.necessary\r\n    });\r\n  }\r\n\r\n  @ViewChild('iconSelectFooter') modalFooter: TemplateRef<any>;\r\n\r\n  assingPerformerConfigForm: FormGroup = new FormGroup({\r\n    multiSelect: new FormControl(true),\r\n    necessary: new FormControl(false)\r\n  });\r\n\r\n  assignStrategy = new AssignStrategy();\r\n  assignStrategyList = [\r\n    { value: 'ALL', name: this.localePipe.transform('component.assignStrategy.all') },\r\n    { value: 'ASSIGN', name: this.localePipe.transform('component.assignStrategy.assign') },\r\n    { value: 'CLAIM', name: this.localePipe.transform('component.assignStrategy.claim') }\r\n  ];\r\n\r\n  operatorCollection = [\r\n    { text: this.localePipe.transform('component.assignStrategy.currentUser'), value: 'currentUser' },\r\n    { text: this.localePipe.transform('component.assignStrategy.procInstCreator'), value: 'procInstCreator' }];\r\n\r\n  modalConfig = {\r\n    title: this.localePipe.transform('component.assignStrategy.assignStrategy'),\r\n    width: 405,\r\n    height: 350,\r\n    showButtons: true\r\n  };\r\n\r\n\r\n  constructor(\r\n    private injector: Injector,\r\n    private message: MessagerService,\r\n    private designerUIState: ProcessDesignerUIState,\r\n    private http: HttpService,\r\n    @Optional() private cdr: ChangeDetectorRef,\r\n    @Inject(LOCALE_ID) private localeId: string,\r\n    @Inject(WF_LANG_RESOURCES) private resources: any,\r\n    @Optional() private localePipe: WfLocalePipe\r\n  ) {\r\n    this.localePipe = this.localePipe || new WfLocalePipe(localeId, resources);\r\n   }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  changeValue(event: any) {\r\n    if (event === 'ASSIGN') {\r\n      if (!this.assignStrategy.assignConfig) {\r\n        this.assignStrategy.assignConfig = new AssignConfig();\r\n      }\r\n      this.assingPerformerConfigForm.setValue({\r\n        multiSelect: this.assignStrategy.assignConfig.multiSelect,\r\n        necessary: this.assignStrategy.assignConfig.necessary\r\n      });\r\n    }\r\n  }\r\n\r\n  clickOK() {\r\n    this.assignStrategy.assignConfig.multiSelect = this.assingPerformerConfigForm.get('multiSelect').value;\r\n    this.assignStrategy.assignConfig.necessary = this.assingPerformerConfigForm.get('necessary').value;\r\n    console.log(this.assignStrategy);\r\n    const object = { value: this.assignStrategy, parameters: null };\r\n    this.submitModal.emit(object);\r\n  }\r\n\r\n  clickCancel() {\r\n    this.closeModal.emit();\r\n  }\r\n}\r\n\r\nexport class AssignStrategyConverter implements TypeConverter {\r\n  constructor(\r\n    private localePipe: WfLocalePipe\r\n  ) { }\r\n\r\n  convertTo(data: AssignStrategy): string {\r\n    switch (data.assignStrategy) {\r\n      case 'ALL':\r\n        return this.localePipe.transform('component.assignStrategy.all');\r\n      case 'ASSIGN':\r\n        return this.localePipe.transform('component.assignStrategy.assign');\r\n      case 'CLAIM':\r\n        return this.localePipe.transform('component.assignStrategy.claim');\r\n      default:\r\n        return '';\r\n    }\r\n  }\r\n}\r\n\r\n","export class AssignConfig {\r\n    constructor() {\r\n        this.operator = 'currentUser';\r\n        this.multiSelect = true;\r\n        this.necessary = false;\r\n    }\r\n    operator: string;\r\n    multiSelect: boolean;\r\n    necessary: boolean;\r\n}\r\n","import { ChangeDetectorRef, Component, ComponentFactoryResolver, ComponentRef, EventEmitter, Inject, Injector, Input, LOCALE_ID, OnInit, Optional, Output, TemplateRef, ViewChild } from '@angular/core';\r\nimport { HttpService } from '@ecp-caf/caf-common';\r\nimport { DatagridComponent } from '@farris/ui-datagrid';\r\nimport { FDropdownDirective } from '@farris/ui-dropdown';\r\nimport { MessagerService } from '@farris/ui-messager';\r\nimport { BsModalRef, BsModalService } from '@farris/ui-modal';\r\nimport { TypeConverter } from '@farris/ide-property-panel';\r\nimport { ExprEditMode, ExpressionService, InjectedType } from '@gsp-svc/expression';\r\nimport { ProcessDesignerUIState } from '../../app/process-designer.uistate';\r\nimport { OrganizationParticipantExpression } from '../../domain/entities/organization-participant-expression';\r\nimport { ProcessDeUtil } from '../../domain/process-de-util';\r\nimport { ComponentPerformer } from '../performer/views/component-performer/component-performer.entity';\r\nimport { PerformerEditComponent } from '../performer/views/performer-edit/performer-edit.component';\r\nimport { AssignConfig } from './assign-config';\r\nimport { ActivityExecutorParticipant, ComponentParticipant, MatrixParticipant, OrganizationParticipant, ParticipantInfo, PositionParticipant, ReportingLineParticipant, UserParticipant, VariableParticipant } from './participant.info';\r\nimport { ParticipantUIState } from './participant.uistate';\r\nimport { EditorTypes } from '@farris/ui-datagrid-editors';\r\nimport { WF_LANG_RESOURCES, WfLocalePipe } from '../../i18n/pipe/wf-process-editor-locale.pipe';\r\nimport { WF_PROCESS_EDITOR_LANG_RESOURCES } from '../../i18n/assets/lang.resource';\r\n\r\n@Component({\r\n  selector: 'lib-participant',\r\n  templateUrl: './participant.component.html',\r\n  styleUrls: ['./participant.component.scss'],\r\n  providers: [\r\n    ParticipantUIState,\r\n     WfLocalePipe\r\n  ]\r\n})\r\nexport class ParticipantComponent implements OnInit {\r\n\r\n  @Output() closeModal = new EventEmitter<any>();\r\n  @Output() submitModal = new EventEmitter<any>();\r\n\r\n  @ViewChild('iconSelectFooter') modalFooter: TemplateRef<any>;\r\n  @ViewChild('dropdownEl') dropDownEl: FDropdownDirective;\r\n  @ViewChild('dropdownE2') dropDownE2: FDropdownDirective;\r\n  @ViewChild('editFooter') editFooter: TemplateRef<any>;\r\n  @ViewChild('humanPerformerGrid') humanPerformerGrid: DatagridComponent;\r\n  @ViewChild('potentialOwnerGrid') potentialOwnerGrid: DatagridComponent;\r\n\r\n  @Input() editorParams: any = {};\r\n\r\n  @Input() set value(participant: ParticipantInfo) {\r\n    this.participant = JSON.parse(JSON.stringify(participant));\r\n    if (!this.participant.assignStrategy.assignConfig) {\r\n      this.participant.assignStrategy.assignConfig = new AssignConfig();\r\n    }\r\n    this.preAssignStrategy = participant.assignStrategy.assignStrategy;\r\n    if (this.participant.humanPerformerList\r\n      && this.participant.humanPerformerList.length > 0\r\n    ) {\r\n      if (Math.max(...this.participant.humanPerformerList.map(p => p.order)) === 0) {\r\n        let index = 1;\r\n        for (const humanPerformer of this.participant.humanPerformerList) {\r\n          humanPerformer.order = index;\r\n          index++;\r\n        }\r\n      }\r\n      this.participant.humanPerformerList = this.participant.humanPerformerList.sort((a, b) => a.order - b.order);\r\n    }\r\n    if (this.participant.potentialOwnerList\r\n      && this.participant.potentialOwnerList.length > 0) {\r\n      if (Math.max(...this.participant.potentialOwnerList.map(p => p.order)) === 0) {\r\n        let index = 1;\r\n        for (const potentialOwner of this.participant.potentialOwnerList) {\r\n          potentialOwner.order = index;\r\n          index++;\r\n        }\r\n      }\r\n      this.participant.potentialOwnerList = this.participant.potentialOwnerList.sort((a, b) => a.order - b.order);\r\n    }\r\n  }\r\n\r\n  private preAssignStrategy;\r\n\r\n  nodeType: 'userActivity' | 'notifyActivity'  = 'notifyActivity';\r\n\r\n  editDialog: BsModalRef;\r\n  compRef: ComponentRef<PerformerEditComponent>;\r\n  isClose = true;\r\n\r\n  participant: ParticipantInfo = new ParticipantInfo();\r\n  editState = 'new'; // 编辑状态，用于区分是新增还是编辑  new | edit\r\n\r\n  type = 'humanPerformer';\r\n\r\n  assignStrategyList = [\r\n    { value: 'ALL', name: this.localePipe.transform('component.participant.all') },\r\n    { value: 'ASSIGN', name: this.localePipe.transform('component.participant.assign') },\r\n    { value: 'CLAIM', name: this.localePipe.transform('component.participant.claim') }\r\n  ];\r\n\r\n\r\n  operatorCollection = [\r\n    { text: this.localePipe.transform('component.participant.currentUser'), value: 'currentUser' },\r\n    { text: this.localePipe.transform('component.participant.procInstCreator'), value: 'procInstCreator' }\r\n  ];\r\n\r\n  modalConfig = {\r\n    title: this.localePipe.transform('component.participant.participantSet'),\r\n    width: 900,\r\n    height: 662,\r\n    showButtons: true\r\n  };\r\n\r\n  columns = [\r\n    {\r\n      field: 'order', width: 25, title: this.localePipe.transform('component.participant.order'),\r\n      editor: {\r\n        type: EditorTypes.NUMBERBOX, options: {\r\n        }\r\n      },\r\n    }, {\r\n    field: 'type', width: 50, title: this.localePipe.transform('component.participant.type'),\r\n    formatter: {\r\n      type: 'enum',\r\n      options: { valueField: 'value', textField: 'text', data: this.uistate.typeCollection }\r\n    }\r\n    }, {\r\n    field: 'performerName', width: 50, title: this.localePipe.transform('component.participant.performerName'), showTips: true, formatter: (v, d, i) => {\r\n      switch (d.type) {\r\n        case 'wf.UserParticipantExpression':\r\n          return d.performerName;\r\n        case 'wf.VariableParticipantExpression':\r\n          return (d as VariableParticipant).name;\r\n        case 'wf.PositionParticipantExpression':\r\n          return (d as PositionParticipant).performerName;\r\n        case 'wf.ComponentParticipantExpression':\r\n          return (d as ComponentParticipant).name;\r\n        case 'wf.ReportingLineParticipantExpression':\r\n          return (d as ReportingLineParticipant).reportingLineDefName + '-' + (d as ReportingLineParticipant).dimension;\r\n        case 'wf.MatrixParticipantExpression':\r\n          return (d as MatrixParticipant).matrixDefName + '-' + (d as MatrixParticipant).dataFieldAlias;\r\n        case 'wf.ActivityExecutorParticipantExpression':\r\n          return (d as ActivityExecutorParticipant).performerName;\r\n        case 'wf.OrganizationParticipantExpression':\r\n          return (d as OrganizationParticipant).organizationName;\r\n        default:\r\n          return '';\r\n      }\r\n    }\r\n  },\r\n  {\r\n    field: 'description', width: 100, title: this.localePipe.transform('component.participant.description'), showTips: true,\r\n    formatter: (v, d, i) => {\r\n      switch (d.type) {\r\n        case 'wf.UserParticipantExpression':\r\n          return this.getUserPerformerDescription(d);\r\n        case 'wf.VariableParticipantExpression':\r\n          return this.getVariablePerformerDescription(d);\r\n        case 'wf.PositionParticipantExpression':\r\n          return this.getPositionPerformerDescription(d);\r\n        case 'wf.ComponentParticipantExpression':\r\n          return this.getComponentPerformerDescription(d);\r\n        case 'wf.ReportingLineParticipantExpression':\r\n          return this.getReportingLinePerformerDescription(d);\r\n        case 'wf.MatrixParticipantExpression':\r\n          return this.getMatrixPerformerDescription(d);\r\n        case 'wf.ActivityExecutorParticipantExpression':\r\n          return (d as ActivityExecutorParticipant).performerName;\r\n        case 'wf.OrganizationParticipantExpression':\r\n          return (d as OrganizationParticipant).organizationName + '，且' + ((d as OrganizationParticipant).includeChildren ? '包含下级' : '不包含下级');\r\n        default:\r\n          return '';\r\n      }\r\n    }\r\n  },\r\n  {\r\n    field: 'condition', width: 60, title: this.localePipe.transform('component.participant.condition'), showTips: true,\r\n    editor: {\r\n      type: 'input-group',\r\n      options: {\r\n        groupText: '<i class=\"f-icon f-icon-lookup\"></i>',\r\n        editable: false,\r\n        clickHandle: (e) => {\r\n          e.formControl.setValue(e.instance.value ? e.instance.value : '');\r\n          this.editConditon(e);\r\n        },\r\n      }\r\n    }\r\n    }];\r\n\r\n  constructor(\r\n    public designerUIState: ProcessDesignerUIState,\r\n    private uistate: ParticipantUIState,\r\n    private resolver: ComponentFactoryResolver,\r\n    private injector: Injector,\r\n    private modalService: BsModalService,\r\n    private message: MessagerService,\r\n    private expr: ExpressionService,\r\n    private http: HttpService,\r\n    @Optional() private cdr: ChangeDetectorRef,\r\n    @Inject(LOCALE_ID) private localeId: string,\r\n    @Inject(WF_LANG_RESOURCES) private resources: any,\r\n    @Optional() private localePipe: WfLocalePipe,\r\n  ) {\r\n    this.localePipe = this.localePipe || new WfLocalePipe(localeId, resources);\r\n    this.GetOrganizationType();\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.nodeType = this.editorParams.nodeType;\r\n  }\r\n\r\n\r\n  clickOK() {\r\n    this.humanPerformerGrid.endCellEdit();\r\n    if (this.potentialOwnerGrid) {\r\n      this.potentialOwnerGrid.endCellEdit();\r\n    }\r\n    const object = {\r\n      value: this.participant, parameters: null\r\n    };\r\n    this.submitModal.emit(object);\r\n  }\r\n\r\n  clickCancel() {\r\n    this.closeModal.emit();\r\n  }\r\n\r\n  assignStrategyChange(data) {\r\n    if (this.preAssignStrategy !== 'ASSIGN' && data === 'ASSIGN' && this.participant.humanPerformerList.length > 0) {\r\n      if (!this.participant.assignStrategy.assignConfig) {\r\n        this.participant.assignStrategy.assignConfig = new AssignConfig();\r\n      }\r\n      this.message.question(this.localePipe.transform('component.participant.dataMovement1'), () => {\r\n        this.humanPerformerCopyToPotentialOwner();\r\n      });\r\n    } else if (this.preAssignStrategy === 'ASSIGN' && data !== 'ASSIGN' && this.participant.potentialOwnerList.length > 0) {\r\n      this.message.question(this.localePipe.transform('component.participant.dataMovement2'), () => {\r\n        this.potentialOwnerCopyToHumanPerformer();\r\n      });\r\n    }\r\n    this.preAssignStrategy = data;\r\n  }\r\n\r\n  switchChange(data: boolean) {\r\n    if (data) {\r\n      this.clearPerformer('potentialOwner');\r\n    }\r\n  }\r\n\r\n  addPerformer(performerType: string, type: string) {\r\n    this.editState = 'new';\r\n    this.type = type;\r\n    const compFactory = this.resolver.resolveComponentFactory(PerformerEditComponent);\r\n    this.compRef = compFactory.create(this.injector);\r\n    this.compRef.instance.performerType = performerType;\r\n    const boxsize = this.attributeBoxSize(performerType);\r\n    const modalConfig = {\r\n      title: this.localePipe.transform('component.participant.participantSelection'),\r\n      width: boxsize.width,\r\n      height: boxsize.height,\r\n      buttons: this.editFooter,\r\n      showButtons: true\r\n    };\r\n    this.editDialog = this.modalService.show(this.compRef, modalConfig);\r\n    this.dropDownEl.close();\r\n    if (this.dropDownE2) {\r\n      this.dropDownE2.close();\r\n    }\r\n  }\r\n\r\n  editOK() {\r\n    this.isClose = true;\r\n    if (this.compRef) {\r\n      const re = this.compRef.instance.getPerformers();\r\n      if (re.userPerformers && re.userPerformers.length > 0) {\r\n        for (const p of re.userPerformers) {\r\n          this.addUserPerformer(p);\r\n        }\r\n      }\r\n      if (re.variable && re.variable !== null && re.variable.performerId) {\r\n        this.addvariablePerformer(re.variable);\r\n      }\r\n      // 2023-7-28 组织岗支持多选\r\n      if (re.positions && re.positions.length > 0) {\r\n        this.addPositionPerformer(re.positions);\r\n      }\r\n      if (re.component && re.component.metadataId && re.component.methodCode) {\r\n        this.addComponentPerformer(re.component);\r\n      }\r\n      if (re.reportingLine && re.reportingLine.reportingLineDefId && re.reportingLine.dimension) {\r\n        this.addReportingLinePerformer(re.reportingLine);\r\n      }\r\n      if (re.matrix && re.matrix.matrixDefId) {\r\n        this.addMatrixPerformer(re.matrix);\r\n      }\r\n      if (re.activityExecutorPerformers && re.activityExecutorPerformers.length > 0) {\r\n        for (const a of re.activityExecutorPerformers) {\r\n          this.addActivityExecutorPerformer(a);\r\n        }\r\n      }\r\n      if (re.organizationParticipant) {\r\n        this.addOrganizationParticipant(re.organizationParticipant);\r\n      }\r\n    }\r\n    if (this.editDialog && this.isClose) {\r\n      this.editDialog.close();\r\n    }   \r\n    // 编辑完成后刷新两个组件\r\n    this.humanPerformerGrid.refresh();\r\n    this.potentialOwnerGrid.refresh();\r\n  }\r\n\r\n  private addUserPerformer(userPerformer: UserParticipant) {\r\n    if (this.type === 'humanPerformer') {\r\n      const i = this.participant.humanPerformerList.findIndex(a => (a.id === userPerformer.id || ((a as UserParticipant).performerId && (a as UserParticipant).performerId === userPerformer.performerId)));\r\n      if (i > -1) {\r\n        // this.participant.humanPerformerList[i] = userPerformer;\r\n      } else {\r\n        if (this.editState === 'edit') {\r\n          this.removeHumanPerformer();\r\n        }\r\n        let index;\r\n        if (this.participant.humanPerformerList.length > 0) {\r\n          index = Math.max(...this.participant.humanPerformerList.map(h => h.order))+1;\r\n        } else {\r\n          index = 1;\r\n        }\r\n        userPerformer.order = index;\r\n        this.participant.humanPerformerList.push(userPerformer);\r\n      }\r\n      this.humanPerformerGrid.loadData(this.participant.humanPerformerList);\r\n    } else if (this.type === 'potentialOwner') {\r\n      const i = this.participant.potentialOwnerList.findIndex(a => (a.id === userPerformer.id || ((a as UserParticipant).performerId && (a as UserParticipant).performerId === userPerformer.performerId)));\r\n      if (i > -1) {\r\n        // this.participant.potentialOwnerList[i] = userPerformer;\r\n      } else {\r\n        if (this.editState === 'edit') {\r\n          this.removePotentialOwner();\r\n        }\r\n        let index;\r\n        if (this.participant.potentialOwnerList.length > 0) {\r\n          index = Math.max(...this.participant.potentialOwnerList.map(p => p.order))+1;\r\n        } else {\r\n          index = 1;\r\n        }\r\n        userPerformer.order = index;\r\n        this.participant.potentialOwnerList.push(userPerformer);\r\n      }\r\n      this.potentialOwnerGrid.loadData(this.participant.potentialOwnerList);\r\n    }\r\n  }\r\n\r\n  private addvariablePerformer(variable: VariableParticipant) {\r\n    const v = variable;\r\n    if (!v || !v.varValue) {\r\n      this.message.info(this.localePipe.transform('component.participant.selectProcessVariables'));\r\n      this.isClose = false;\r\n    } else if (!v.varType) {\r\n      this.message.info(this.localePipe.transform('component.participant.selectVariableValueType'));\r\n      this.isClose = false;\r\n    } else if (!v.relation) {\r\n      this.message.info(this.localePipe.transform('component.participant.selectRelation'));\r\n      this.isClose = false;\r\n    } else {\r\n      if (this.type === 'humanPerformer') {\r\n        const i = this.participant.humanPerformerList.findIndex(a => (a.id === variable.id || ((a as VariableParticipant).performerId && (a as VariableParticipant).performerId === variable.performerId)));\r\n        if (i > -1) {\r\n          this.participant.humanPerformerList[i] = variable;\r\n        } else {\r\n          if (this.editState === 'edit') {\r\n            this.removeHumanPerformer();\r\n          }\r\n          let index;\r\n          if (this.participant.humanPerformerList.length > 0) {\r\n            index = Math.max(...this.participant.humanPerformerList.map(h => h.order))+1;\r\n          } else {\r\n            index = 1;\r\n          }\r\n          variable.order = index;\r\n          this.participant.humanPerformerList.push(variable);\r\n        }\r\n        this.humanPerformerGrid.loadData(this.participant.humanPerformerList);\r\n      } else if (this.type === 'potentialOwner') {\r\n        const i = this.participant.potentialOwnerList.findIndex(a => (a.id === variable.id || ((a as VariableParticipant).performerId && (a as VariableParticipant).performerId === variable.performerId)));\r\n        if (i > -1) {\r\n          this.participant.potentialOwnerList[i] = variable;\r\n        } else {\r\n          if (this.editState === 'edit') {\r\n            this.removePotentialOwner();\r\n          }\r\n          let index;\r\n          if (this.participant.potentialOwnerList.length > 0) {\r\n            index = Math.max(...this.participant.potentialOwnerList.map(p => p.order))+1;\r\n          } else {\r\n            index = 1;\r\n          }\r\n          variable.order = index;\r\n          this.participant.potentialOwnerList.push(variable);\r\n        }\r\n        this.potentialOwnerGrid.loadData(this.participant.potentialOwnerList);\r\n      }\r\n    }\r\n  }\r\n\r\n  private addPositionPerformer(positions: PositionParticipant[]) {\r\n    for (const position of positions) {\r\n      if (!position.performerId) {\r\n        this.message.info(this.localePipe.transform('component.participant.selectPosition'));\r\n        this.isClose = false;\r\n      } else {\r\n        if ((!position.orgType || position.orgType == null) && (position.isRequired && position.positionType === '1')) {\r\n          this.message.info(this.localePipe.transform('component.participant.selectOrgType'));\r\n          this.isClose = false;\r\n        } else if ((!position.orgId || position.orgId == null) && (position.isRequired && position.positionType === '1')) {\r\n          this.message.info(this.localePipe.transform('component.participant.orgFill'));\r\n          this.isClose = false;\r\n        } else {\r\n          // (1)id一致，为编辑岗位；（2）performid一致，新增的用户，岗位已存在\r\n          if (this.type === 'humanPerformer') {\r\n            const i = this.participant.humanPerformerList.findIndex(a => {\r\n              if (a.type !== 'wf.PositionParticipantExpression') {\r\n                return false;\r\n              }\r\n              const p = a as PositionParticipant;\r\n              return (p.id === position.id);\r\n            });\r\n            if (i > -1) {\r\n              this.participant.humanPerformerList[i] = position;\r\n            } else {\r\n              let index;\r\n              if (this.participant.humanPerformerList.length > 0) {\r\n                index = Math.max(...this.participant.humanPerformerList.map(h => h.order))+1;\r\n              } else {\r\n                index = 1;\r\n              }\r\n              position.order = index;\r\n              this.participant.humanPerformerList.push(position);\r\n            }\r\n            this.humanPerformerGrid.loadData(this.participant.humanPerformerList);\r\n          } else if (this.type === 'potentialOwner') {\r\n            const i = this.participant.potentialOwnerList.findIndex(a => {\r\n              if (a.type !== 'wf.PositionParticipantExpression') {\r\n                return false;\r\n              }\r\n              const p = a as PositionParticipant;\r\n              return (p.id === position.id);\r\n            });\r\n            if (i > -1) {\r\n              this.participant.potentialOwnerList[i] = position;\r\n            } else {\r\n              let index;\r\n              if (this.participant.potentialOwnerList.length > 0) {\r\n                index = Math.max(...this.participant.potentialOwnerList.map(p => p.order))+1;\r\n              } else {\r\n                index = 1;\r\n              }\r\n              position.order = index;\r\n              this.participant.potentialOwnerList.push(position);\r\n            }\r\n            this.potentialOwnerGrid.loadData(this.participant.potentialOwnerList);\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  private addComponentPerformer(component: ComponentPerformer) {\r\n    const cmp = new ComponentParticipant();\r\n    cmp.id = component.id;\r\n    cmp.metadataId = component.metadataId;\r\n    cmp.methodCode = component.methodCode;\r\n    cmp.methodName = component.methodName;\r\n    cmp.name = component.name;\r\n    cmp.actualParameters = component.actualParameters;\r\n    cmp.type = 'wf.ComponentParticipantExpression';\r\n    cmp.condition = component.condition;\r\n    if (this.type === 'humanPerformer') {\r\n      const i = this.participant.humanPerformerList.findIndex(a => a.id === cmp.id);\r\n      if (i > -1) {\r\n        this.participant.humanPerformerList[i] = cmp;\r\n      } else {\r\n        let index;\r\n        if (this.participant.humanPerformerList.length > 0) {\r\n          index = Math.max(...this.participant.humanPerformerList.map(h => h.order))+1;\r\n        } else {\r\n          index = 1;\r\n        }\r\n        cmp.order = index;\r\n        this.participant.humanPerformerList.push(cmp);\r\n      }\r\n      this.humanPerformerGrid.loadData(this.participant.humanPerformerList);\r\n    } else if (this.type === 'potentialOwner') {\r\n      const i = this.participant.potentialOwnerList.findIndex(a => a.id === cmp.id);\r\n      if (i > -1) {\r\n        this.participant.potentialOwnerList[i] = cmp;\r\n      } else {\r\n        let index;\r\n        if (this.participant.potentialOwnerList.length > 0) {\r\n          index = Math.max(...this.participant.potentialOwnerList.map(p => p.order))+1;\r\n        } else {\r\n          index = 1;\r\n        }\r\n        cmp.order = index;\r\n        this.participant.potentialOwnerList.push(cmp);\r\n      }\r\n      this.potentialOwnerGrid.loadData(this.participant.potentialOwnerList);\r\n    }\r\n  }\r\n\r\n  private addReportingLinePerformer(reportingLine: ReportingLineParticipant) {\r\n    if (reportingLine.reportingReferObject === 'dept' && !reportingLine.refOrgId) {\r\n      this.isClose = false;\r\n      this.message.info(this.localePipe.transform('component.participant.refOrgIdNotNull'));\r\n    } else if (reportingLine.reportingReferObject !== 'dept' && !reportingLine.refUserId && !reportingLine.refEmployeeId) { // 用户及其他人员汇报对象类型，参照用户和参照员工不能全部为空\r\n      this.isClose = false;\r\n      this.message.info(this.localePipe.transform('component.participant.refUserIdNotNull'));\r\n    } else {\r\n      this.isClose = true;\r\n      if (this.type === 'humanPerformer') {\r\n        const i = this.participant.humanPerformerList.findIndex(a => a.id === reportingLine.id);\r\n        if (i > -1) {\r\n          this.participant.humanPerformerList[i] = reportingLine;\r\n        } else {\r\n          const reportingLines = this.participant.humanPerformerList.filter(h => h.type === 'wf.ReportingLineParticipantExpression');\r\n          for (const r of reportingLines) {\r\n            const reportingLineData = r as ReportingLineParticipant;\r\n            if (reportingLineData.reportingLineDefId === reportingLine.reportingLineDefId &&\r\n              reportingLineData.dimension === reportingLine.dimension &&\r\n              reportingLineData.refUserId === reportingLine.refUserId &&\r\n              reportingLineData.refEmployeeId === reportingLine.refEmployeeId &&\r\n              reportingLineData.refOrgId === reportingLine.refOrgId\r\n            ) {\r\n              this.message.error(this.localePipe.transform('component.participant.repDefConfigured'));\r\n              return;\r\n            }\r\n          }\r\n          let index;\r\n          if (this.participant.humanPerformerList.length > 0) {\r\n            index = Math.max(...this.participant.humanPerformerList.map(h => h.order))+1;\r\n          } else {\r\n            index = 1;\r\n          }\r\n          reportingLine.order = index;\r\n          this.participant.humanPerformerList.push(reportingLine);\r\n        }\r\n        this.humanPerformerGrid.loadData(this.participant.humanPerformerList);\r\n      } else if (this.type === 'potentialOwner') {\r\n        const i = this.participant.potentialOwnerList.findIndex(a => a.id === reportingLine.id);\r\n        if (i > -1) {\r\n          this.participant.potentialOwnerList[i] = reportingLine;\r\n        } else {\r\n          const reportingLines = this.participant.potentialOwnerList.filter(h => h.type === 'wf.ReportingLineParticipantExpression');\r\n          for (const r of reportingLines) {\r\n            const reportingLineData = r as ReportingLineParticipant;\r\n            if (reportingLineData.reportingLineDefId === reportingLine.reportingLineDefId &&\r\n              reportingLineData.dimension === reportingLine.dimension &&\r\n              reportingLineData.refUserId === reportingLine.refUserId &&\r\n              reportingLineData.refEmployeeId === reportingLine.refEmployeeId &&\r\n              reportingLineData.refOrgId === reportingLine.refOrgId\r\n            ) {\r\n              this.message.error(this.localePipe.transform('component.participant.repDefConfigured'));\r\n              return;\r\n            }\r\n          }\r\n          let index;\r\n          if (this.participant.potentialOwnerList.length > 0) {\r\n            index = Math.max(...this.participant.potentialOwnerList.map(p => p.order))+1;\r\n          } else {\r\n            index = 1;\r\n          }\r\n          reportingLine.order = index;\r\n          this.participant.potentialOwnerList.push(reportingLine);\r\n        }\r\n        this.potentialOwnerGrid.loadData(this.participant.potentialOwnerList);\r\n      }\r\n    }\r\n  }\r\n\r\n  private addMatrixPerformer(matrix: MatrixParticipant) {\r\n    if (!matrix.conditionField1 && !matrix.conditionField2 && !matrix.conditionField3) {\r\n      this.isClose = false;\r\n      this.message.info(this.localePipe.transform('component.participant.atLeastOneCondition'));\r\n    } else if (!matrix.dataFieldAlias) {\r\n      this.isClose = false;\r\n      this.message.info(this.localePipe.transform('component.participant.dataFieldAliasNotNull'));\r\n    } else {\r\n      this.isClose = true;\r\n      if (this.type === 'humanPerformer') {\r\n        const i = this.participant.humanPerformerList.findIndex(a => a.id === matrix.id);\r\n        if (i > -1) {\r\n          this.participant.humanPerformerList[i] = matrix;\r\n        } else {\r\n          const matrixParticipants = this.participant.humanPerformerList.filter(h => h.type === 'wf.MatrixParticipantExpression');\r\n          for (const m of matrixParticipants) {\r\n            const matrixData = m as MatrixParticipant;\r\n            if (matrixData.matrixDefId === matrix.matrixDefId &&\r\n              matrixData.conditionField1 === matrix.conditionField1 &&\r\n              matrixData.conditionField2 === matrix.conditionField2 &&\r\n              matrixData.conditionField3 === matrix.conditionField3 &&\r\n              matrixData.dataFieldAlias === matrix.dataFieldAlias\r\n            ) {\r\n              this.message.error(this.localePipe.transform('component.participant.matrixConfigured'));\r\n              return;\r\n            }\r\n          }\r\n          let index;\r\n          if (this.participant.humanPerformerList.length > 0) {\r\n            index = Math.max(...this.participant.humanPerformerList.map(h => h.order))+1;\r\n          } else {\r\n            index = 1;\r\n          }\r\n          matrix.order = index;\r\n          this.participant.humanPerformerList.push(matrix);\r\n        }\r\n        this.humanPerformerGrid.loadData(this.participant.humanPerformerList);\r\n      } else if (this.type === 'potentialOwner') {\r\n        const i = this.participant.potentialOwnerList.findIndex(a => a.id === matrix.id);\r\n        if (i > -1) {\r\n          this.participant.potentialOwnerList[i] = matrix;\r\n        } else {\r\n          const matrixParticipants = this.participant.potentialOwnerList.filter(h => h.type === 'wf.MatrixParticipantExpression');\r\n          for (const m of matrixParticipants) {\r\n            const matrixData = m as MatrixParticipant;\r\n            if (matrixData.matrixDefId === matrix.matrixDefId &&\r\n              matrixData.conditionField1 === matrix.conditionField1 &&\r\n              matrixData.conditionField2 === matrix.conditionField2 &&\r\n              matrixData.conditionField3 === matrix.conditionField3 &&\r\n              matrixData.dataFieldAlias === matrix.dataFieldAlias\r\n            ) {\r\n              this.message.error(this.localePipe.transform('component.participant.matrixConfigured'));\r\n              return;\r\n            }\r\n          }\r\n          let index;\r\n          if (this.participant.potentialOwnerList.length > 0) {\r\n            index = Math.max(...this.participant.potentialOwnerList.map(p => p.order))+1;\r\n          } else {\r\n            index = 1;\r\n          }\r\n          matrix.order = index;\r\n          this.participant.potentialOwnerList.push(matrix);\r\n        }\r\n        this.potentialOwnerGrid.loadData(this.participant.potentialOwnerList);\r\n      }\r\n    }\r\n  }\r\n\r\n  private addActivityExecutorPerformer(activityExecutor: ActivityExecutorParticipant) {\r\n    if (this.type === 'humanPerformer') {\r\n      const i = this.participant.humanPerformerList.findIndex(a => (a.id === activityExecutor.id ||\r\n        ((a as ActivityExecutorParticipant).activityDefId && (a as ActivityExecutorParticipant).activityDefId === activityExecutor.activityDefId)));\r\n      if (i < 0) {\r\n        if (this.editState === 'edit') {\r\n          this.removeHumanPerformer(); // 在编辑状态下配置了活动办理人参与者，先将选中的删除\r\n        }\r\n        let index;\r\n        if (this.participant.humanPerformerList.length > 0) {\r\n          index = Math.max(...this.participant.humanPerformerList.map(h => h.order))+1;\r\n        } else {\r\n          index = 1;\r\n        }\r\n        activityExecutor.order = index;\r\n        this.participant.humanPerformerList.push(activityExecutor);\r\n      }\r\n      this.humanPerformerGrid.loadData(this.participant.humanPerformerList);\r\n    } else if (this.type === 'potentialOwner') {\r\n      const i = this.participant.potentialOwnerList.findIndex(a => (a.id === activityExecutor.id ||\r\n        ((a as ActivityExecutorParticipant).activityDefId && (a as ActivityExecutorParticipant).activityDefId === activityExecutor.activityDefId)));\r\n      if (i < 0) {\r\n        if (this.editState === 'edit') {\r\n          this.removePotentialOwner(); // 在编辑状态下配置了活动办理人参与者，先将选中的删除\r\n        }\r\n        let index;\r\n        if (this.participant.potentialOwnerList.length > 0) {\r\n          index = Math.max(...this.participant.potentialOwnerList.map(p => p.order))+1;\r\n        } else {\r\n          index = 1;\r\n        }\r\n        activityExecutor.order = index;\r\n        this.participant.potentialOwnerList.push(activityExecutor);\r\n      }\r\n      this.potentialOwnerGrid.loadData(this.participant.potentialOwnerList);\r\n    }\r\n  }\r\n\r\n\r\n  private addOrganizationParticipant(organization: OrganizationParticipantExpression) {\r\n    const organizationParticipant = new OrganizationParticipant();\r\n    organizationParticipant.id = organization.id || ProcessDeUtil.GenerateElementId();\r\n    organizationParticipant.type = 'wf.OrganizationParticipantExpression';\r\n    organizationParticipant.condition = organization.condition;\r\n    organizationParticipant.name = organization.name;\r\n    organizationParticipant.actionScope = organization.actionScope;\r\n    organizationParticipant.organizationLevel = organization.organizationLevel;\r\n    organizationParticipant.organizationId = organization.organizationId;\r\n    organizationParticipant.organizationCode = organization.organizationCode;\r\n    organizationParticipant.organizationName = organization.organizationName;\r\n    organizationParticipant.includeChildren = organization.includeChildren;\r\n    organizationParticipant.parentsUntil = organization.parentsUntil;\r\n    organizationParticipant.tag = organization.tag;\r\n\r\n    if (this.type === 'humanPerformer') {\r\n      this.participant.humanPerformerList = this.participant.humanPerformerList.filter(p => p.type !== 'wf.OrganizationParticipantExpression');\r\n      let index;\r\n      if (this.participant.humanPerformerList.length > 0) {\r\n        index = Math.max(...this.participant.humanPerformerList.map(h => h.order))+1;\r\n      } else {\r\n        index = 1;\r\n      }\r\n      organizationParticipant.order = index;\r\n      this.participant.humanPerformerList.push(organizationParticipant);\r\n      this.humanPerformerGrid.loadData(this.participant.humanPerformerList);\r\n    } else if (this.type === 'potentialOwner') {\r\n      this.participant.potentialOwnerList = this.participant.potentialOwnerList.filter(p => p.type !== 'wf.OrganizationParticipantExpression');\r\n      let index;\r\n      if (this.participant.potentialOwnerList.length > 0) {\r\n        index = Math.max(...this.participant.potentialOwnerList.map(p => p.order))+1;\r\n      } else {\r\n        index = 1;\r\n      }\r\n      organizationParticipant.order = index;\r\n      this.participant.potentialOwnerList.push(organizationParticipant);\r\n      this.potentialOwnerGrid.loadData(this.participant.potentialOwnerList);\r\n    }\r\n  }\r\n\r\n  editCancel() {\r\n    if (this.editDialog) {\r\n      this.editDialog.close();\r\n    }\r\n  }\r\n\r\n  editPerformer(type: string) {\r\n    this.editState = 'edit';\r\n    this.type = type;\r\n    let selectedRow;\r\n    if (type === 'humanPerformer') {\r\n      selectedRow = this.humanPerformerGrid.selectedRow;\r\n    } else if (type === 'potentialOwner') {\r\n      selectedRow = this.potentialOwnerGrid.selectedRow;\r\n    }\r\n    if (!selectedRow) {\r\n      this.message.info(this.localePipe.transform('component.participant.selectPerformer'));\r\n      return;\r\n    }\r\n    const curPerformer = selectedRow.data;\r\n    if (curPerformer) {\r\n      const boxsize = this.attributeBoxSize(curPerformer.type);\r\n      const modalConfig = {\r\n        title: this.localePipe.transform('component.participant.participantSelection'),\r\n        width: boxsize.width,\r\n        height: boxsize.height,\r\n        buttons: this.editFooter,\r\n        showButtons: true\r\n      };\r\n      const compFactory = this.resolver.resolveComponentFactory(PerformerEditComponent);\r\n      this.compRef = compFactory.create(this.injector);\r\n      this.compRef.instance.performerType = curPerformer.type;\r\n      this.compRef.instance.editState =  this.editState;\r\n      switch (curPerformer.type) {\r\n        case 'wf.PositionParticipantExpression':\r\n          this.compRef.instance.performer = {\r\n            type: 'wf.PositionParticipantExpression',\r\n            value: curPerformer\r\n          };\r\n          break;\r\n        case 'wf.UserParticipantExpression':\r\n          this.compRef.instance.performer = {\r\n            type: 'wf.UserParticipantExpression',\r\n            value: curPerformer\r\n          };\r\n          break;\r\n        case 'wf.VariableParticipantExpression':\r\n          this.compRef.instance.performer = {\r\n            type: 'wf.VariableParticipantExpression',\r\n            value: curPerformer\r\n          };\r\n          break;\r\n        case 'wf.ReportingLineParticipantExpression':\r\n          this.compRef.instance.performer = {\r\n            type: 'wf.ReportingLineParticipantExpression',\r\n            value: curPerformer\r\n          };\r\n          const url = '/api/runtime/wf/v1.0/reportingLineDefinitions/' + (curPerformer as ReportingLineParticipant).reportingLineDefId;\r\n          this.http.get(url).subscribe((res: any) => {\r\n            if (!res) {\r\n              this.message.error(this.localePipe.transform('component.participant.definitionDeleted'));\r\n              if (type === 'humanPerformer') {\r\n                this.removeHumanPerformer();\r\n              } else if (type === 'potentialOwner') {\r\n                this.removePotentialOwner();\r\n              }\r\n            } else {\r\n              this.editDialog = this.modalService.show(this.compRef, modalConfig);\r\n            }\r\n          });\r\n          break;\r\n        case 'wf.MatrixParticipantExpression':\r\n          this.compRef.instance.performer = {\r\n            type: 'wf.MatrixParticipantExpression',\r\n            value: curPerformer\r\n          };\r\n          const urlMatrix = '/api/runtime/wf/v1.0/matrixDefinition/' + (curPerformer as MatrixParticipant).matrixDefId;\r\n          this.http.get(urlMatrix).subscribe((res: any) => {\r\n            if (!res) {\r\n              this.message.error(this.localePipe.transform('component.participant.matrixDeleted'));\r\n              if (type === 'humanPerformer') {\r\n                this.removeHumanPerformer();\r\n              } else if (type === 'potentialOwner') {\r\n                this.removePotentialOwner();\r\n              }\r\n            } else {\r\n              this.editDialog = this.modalService.show(this.compRef, modalConfig);\r\n            }\r\n          });\r\n          break;\r\n        case 'wf.ComponentParticipantExpression':\r\n          this.compRef.instance.performer = {\r\n            type: 'wf.ComponentParticipantExpression',\r\n            value: curPerformer\r\n          };\r\n          break;\r\n        case 'wf.ActivityExecutorParticipantExpression':\r\n          this.compRef.instance.performer = {\r\n            type: 'wf.ActivityExecutorParticipantExpression',\r\n            value: curPerformer\r\n          };\r\n          break;\r\n        case 'wf.OrganizationParticipantExpression':\r\n          this.compRef.instance.performer = {\r\n            type: 'wf.OrganizationParticipantExpression',\r\n            value: curPerformer\r\n          };\r\n          break;\r\n      }\r\n      if (curPerformer.type !== 'wf.ReportingLineParticipantExpression' &&\r\n        curPerformer.type !== 'wf.MatrixParticipantExpression') { // 汇报关系和矩阵单独处理\r\n        this.editDialog = this.modalService.show(this.compRef, modalConfig);\r\n      }\r\n    }\r\n  }\r\n  removePerformer(type: string) {\r\n    if (type === 'humanPerformer') {\r\n      if (this.humanPerformerGrid.selectedRow) {\r\n        this.humanPerformerGrid.endCellEdit();\r\n        const index = this.participant.humanPerformerList.findIndex(p => p.id === this.humanPerformerGrid.selectedRow.data.id);\r\n        this.participant.humanPerformerList.splice(index, 1);\r\n        this.humanPerformerGrid.loadData(this.participant.humanPerformerList);\r\n      } else {\r\n        this.message.info(this.localePipe.transform('component.participant.selectParticipantInfo'));\r\n      }\r\n    } else if (type === 'potentialOwner') {\r\n      if (this.potentialOwnerGrid.selectedRow) {\r\n        this.potentialOwnerGrid.endCellEdit();\r\n        const index = this.participant.potentialOwnerList.findIndex(p => p.id === this.potentialOwnerGrid.selectedRow.data.id);\r\n        this.participant.potentialOwnerList.splice(index, 1);\r\n        this.potentialOwnerGrid.loadData(this.participant.potentialOwnerList);\r\n      } else {\r\n        this.message.info(this.localePipe.transform('component.participant.selectParticipantInfo'));\r\n      }\r\n    }\r\n  }\r\n\r\n  clearPerformer(type: string) {\r\n    if (type === 'humanPerformer') {\r\n      this.participant.humanPerformerList = new Array();\r\n    } else if (type === 'potentialOwner') {\r\n      this.participant.potentialOwnerList = new Array();\r\n    }\r\n    this.humanPerformerGrid.loadData(this.participant.humanPerformerList);\r\n    if (this.potentialOwnerGrid) {\r\n      this.potentialOwnerGrid.loadData(this.participant.potentialOwnerList);\r\n    }\r\n  }\r\n\r\n  moveUp(type: string) {\r\n    if (type === 'humanPerformer') {\r\n      const selectedRow = this.humanPerformerGrid.selectedRow;\r\n      if (!selectedRow) {\r\n        this.message.info(this.localePipe.transform('component.participant.noRowSelected'));\r\n        return;\r\n      }\r\n      const performer = selectedRow.data;\r\n      const i = this.participant.humanPerformerList.findIndex(c => c.id === performer.id);\r\n      if (i === 0) {\r\n        return;\r\n      }\r\n      const index = this.participant.humanPerformerList[i].order;\r\n      this.participant.humanPerformerList[i].order = this.participant.humanPerformerList[i - 1].order;\r\n      this.participant.humanPerformerList[i-1].order = index;\r\n      this.swapArray(this.participant.humanPerformerList, i, i - 1);\r\n      this.humanPerformerGrid.loadData(this.participant.humanPerformerList);\r\n      this.humanPerformerGrid.selectRow(performer.id, true);\r\n    } else if (type === 'potentialOwner') {\r\n      const selectedRow = this.potentialOwnerGrid.selectedRow;\r\n      if (!selectedRow) {\r\n        this.message.info(this.localePipe.transform('component.participant.noRowSelected'));\r\n        return;\r\n      }\r\n      const performer = selectedRow.data;\r\n      const i = this.participant.potentialOwnerList.findIndex(c => c.id === performer.id);\r\n      if (i === 0) {\r\n        return;\r\n      }\r\n      const index = this.participant.potentialOwnerList[i].order;\r\n      this.participant.potentialOwnerList[i].order = this.participant.potentialOwnerList[i - 1].order;\r\n      this.participant.potentialOwnerList[i-1].order = index;\r\n      this.swapArray(this.participant.potentialOwnerList, i, i - 1);\r\n      this.potentialOwnerGrid.loadData(this.participant.potentialOwnerList);\r\n      this.potentialOwnerGrid.selectRow(performer.id, true);\r\n    }\r\n\r\n  }\r\n\r\n  moveDown(type: string) {\r\n    if (type === 'humanPerformer') {\r\n      const selectedRow = this.humanPerformerGrid.selectedRow;\r\n      if (!selectedRow) {\r\n        this.message.info(this.localePipe.transform('component.participant.noRowSelected'));\r\n        return;\r\n      }\r\n      const performer = selectedRow.data;\r\n      const i = this.participant.humanPerformerList.findIndex(c => c.id === performer.id);\r\n      if (i === this.participant.humanPerformerList.length-1) {\r\n        return;\r\n      }\r\n      const index = this.participant.humanPerformerList[i].order;\r\n      this.participant.humanPerformerList[i].order = this.participant.humanPerformerList[i + 1].order;\r\n      this.participant.humanPerformerList[i+1].order = index;\r\n      this.swapArray(this.participant.humanPerformerList, i, i + 1);\r\n      this.humanPerformerGrid.loadData(this.participant.humanPerformerList);\r\n      this.humanPerformerGrid.selectRow(performer.id, true);\r\n    } else if (type === 'potentialOwner') {\r\n      const selectedRow = this.potentialOwnerGrid.selectedRow;\r\n      if (!selectedRow) {\r\n        this.message.info(this.localePipe.transform('component.participant.noRowSelected'));\r\n        return;\r\n      }\r\n      const performer = selectedRow.data;\r\n      const i = this.participant.potentialOwnerList.findIndex(c => c.id === performer.id);\r\n      if (i === this.participant.potentialOwnerList.length-1) {\r\n        return;\r\n      }\r\n      const index = this.participant.potentialOwnerList[i].order;\r\n      this.participant.potentialOwnerList[i].order = this.participant.potentialOwnerList[i + 1].order;\r\n      this.participant.potentialOwnerList[i+1].order = index;\r\n      this.swapArray(this.participant.potentialOwnerList, i, i + 1);\r\n      this.potentialOwnerGrid.loadData(this.participant.potentialOwnerList);\r\n      this.potentialOwnerGrid.selectRow(performer.id, true);\r\n    }\r\n  }\r\n\r\n  private swapArray(arr: Array<any>, i1: number, i2: number): Array<any> {\r\n    arr[i1] = arr.splice(i2, 1, arr[i1])[0];\r\n    return arr;\r\n  }\r\n\r\n  removeHumanPerformer() {\r\n    if (this.humanPerformerGrid.selectedRow) {\r\n      this.humanPerformerGrid.endCellEdit();\r\n      const i = this.participant.humanPerformerList.findIndex(item => item.id === this.humanPerformerGrid.selectedRow.data.id);\r\n      this.participant.humanPerformerList.splice(i, 1);\r\n    } else {\r\n      this.message.info(this.localePipe.transform('component.participant.selectDefaultHandler'));\r\n    }\r\n  }\r\n\r\n  removePotentialOwner() {\r\n    if (this.potentialOwnerGrid.selectedRow) {\r\n      this.potentialOwnerGrid.endCellEdit();\r\n      const i = this.participant.potentialOwnerList.findIndex(item => item.id === this.potentialOwnerGrid.selectedRow.data.id);\r\n      this.participant.potentialOwnerList.splice(i, 1);\r\n    } else {\r\n      this.message.info(this.localePipe.transform('component.participant.selectpotentialtHandler'));\r\n    }\r\n  }\r\n\r\n  private getUserPerformerDescription(userPerformer: UserParticipant): string {\r\n    if (userPerformer.tag === 'expression') {\r\n      return userPerformer.performerId;\r\n    } else {\r\n      if (userPerformer.orgName) {\r\n        return this.localePipe.transform('component.participant.org') + userPerformer.orgName;\r\n      } else {\r\n        return '';\r\n      }\r\n    }\r\n  }\r\n\r\n  private getVariablePerformerDescription(variablePerformer: VariableParticipant): string {\r\n    if (variablePerformer.tag === 'expression') {\r\n      return variablePerformer.varValue;\r\n    }\r\n  }\r\n\r\n  private getPositionPerformerDescription(position: PositionParticipant): string {\r\n    if (this.designerUIState.scene === 'inSuite') {\r\n      return null;\r\n    }\r\n    if (position.positionType === '1') {\r\n      if (position.orgId) {\r\n        return this.localePipe.transform('component.participant.positionType1') + position.orgId;\r\n      } else {\r\n        return this.localePipe.transform('component.participant.positionType2');\r\n      }\r\n    } else if (position.positionType === '0') {\r\n      return this.localePipe.transform('component.participant.positionType3');\r\n    }\r\n  }\r\n\r\n  private getComponentPerformerDescription(position: ComponentParticipant): string {\r\n    let des = this.localePipe.transform('component.participant.comp') + position.name\r\n    + this.localePipe.transform('component.participant.parameters');\r\n    if (position.actualParameters && position.actualParameters.length > 0) {\r\n      position.actualParameters.forEach(p => {\r\n        des += `${p.code}：${p.value}，`;\r\n      });\r\n      des = des.substring(0, des.length - 1);\r\n    }\r\n    des += '}';\r\n    return des;\r\n  }\r\n\r\n  private getReportingLinePerformerDescription(reportingLine: ReportingLineParticipant): string {\r\n    let description = '';\r\n    if (reportingLine.refUserId) {\r\n      description += this.localePipe.transform('component.participant.referencePerson') + reportingLine.refUserId;\r\n    }\r\n    if (reportingLine.refEmployeeId) {\r\n      description += this.localePipe.transform('component.participant.referencePerson') + reportingLine.refEmployeeId;\r\n    }\r\n    if (reportingLine.refOrgId) {\r\n      if (reportingLine.refUserId) {\r\n        description += `，`;\r\n      }\r\n      if (reportingLine.refEmployeeId) {\r\n        description += `，`;\r\n      }\r\n      description += this.localePipe.transform('component.participant.referenceOrganization') + reportingLine.refOrgId;\r\n    }\r\n    return description;\r\n  }\r\n\r\n  private getMatrixPerformerDescription(matrix: MatrixParticipant): string {\r\n    let description = '';\r\n    if (matrix.conditionField1) {\r\n      description += this.localePipe.transform('component.participant.condition1') + matrix.conditionFieldText1 + `，`;\r\n    }\r\n    if (matrix.conditionField2) {\r\n      description += this.localePipe.transform('component.participant.condition2') + matrix.conditionFieldText2 + `，`;\r\n    }\r\n    if (matrix.conditionField3) {\r\n      description += this.localePipe.transform('component.participant.condition3') + matrix.conditionFieldText3 + `，`;\r\n    }\r\n    if (matrix.dataFieldAlias) {\r\n      description += this.localePipe.transform('component.participant.data') + matrix.dataFieldAlias + `，`;\r\n    }\r\n    return description.slice(0, description.length - 1);\r\n  }\r\n\r\n  private editConditon(e: any) {\r\n    // this.expr.clearContext();\r\n    \r\n    if (this.designerUIState.schemas.length > 0) {\r\n      for (const schema of this.designerUIState.schemas) {\r\n        this.expr.addSchema('Schema', schema);\r\n      }\r\n      if (this.designerUIState.schemas[0].entityTypes && this.designerUIState.schemas[0].entityTypes.length > 0) {\r\n        const entityType = this.designerUIState.schemas[0].entityTypes[0];\r\n        this.expr.addInjectedEntity(entityType.name, 'Schema',\r\n          entityType.name, InjectedType.EntityType);\r\n      }\r\n    }\r\n    let context = new Array();\r\n    context = this.designerUIState.addContext(context);\r\n    if (this.designerUIState.subActivityContext.length > 0) {\r\n      for (const variable of this.designerUIState.subActivityContext) {\r\n        if (!context.some(c => c.key === variable.key)) {\r\n          context.push(variable);\r\n        }\r\n      }\r\n    }\r\n    if (this.designerUIState.activityComponentContext.length > 0) {\r\n      for (const variable of this.designerUIState.activityComponentContext) {\r\n        if (!context.some(c => c.key === variable.key)) {\r\n          context.push(variable);\r\n        }\r\n      }\r\n    }\r\n    if (context.length > 0) {\r\n      for (const v of context) {\r\n        this.expr.addContext(v);\r\n      }\r\n    }\r\n    this.expr.addExpressionText(e.instance.value);\r\n    this.expr.setEditPattern(ExprEditMode.Conditional); // 默认打开简易表达式编辑器\r\n    this.expr.buildExpression().then((cond: string) => {\r\n      if(this.humanPerformerGrid && this.humanPerformerGrid.selectedRow && this.humanPerformerGrid.selectedRow.data) {\r\n        let temp = this.participant.humanPerformerList.find(h => h.id === this.humanPerformerGrid.selectedRow.data.id);\r\n        temp.condition = cond;\r\n      }\r\n      if(this.potentialOwnerGrid && this.potentialOwnerGrid.selectedRow && this.potentialOwnerGrid.selectedRow.data) {\r\n        let temp = this.participant.potentialOwnerList.find(h => h.id === this.potentialOwnerGrid.selectedRow.data.id);\r\n        temp.condition = cond;\r\n      }\r\n\r\n      e.formControl.setValue(cond);\r\n      e.instance.cd.detectChanges();\r\n      //点击确定后，去除表达式里面的新增的上下文变量\r\n      if(context.length > 0) {\r\n        this.expr.exprEntity.contextEntities = this.expr.exprEntity.contextEntities.filter(x => !context.some(y => y.key === x.key));\r\n      }\r\n    });\r\n  }\r\n\r\n  private humanPerformerCopyToPotentialOwner() {\r\n    if (this.participant.humanPerformerList && this.participant.humanPerformerList.length > 0) {\r\n      if (!this.participant.potentialOwnerList) {\r\n        this.participant.potentialOwnerList = new Array();\r\n      }\r\n      this.participant.potentialOwnerList.push(...this.participant.humanPerformerList);\r\n      this.participant.humanPerformerList = new Array();\r\n\r\n      this.humanPerformerGrid.loadData(this.participant.humanPerformerList);\r\n      if (this.potentialOwnerGrid) {\r\n        this.potentialOwnerGrid.loadData(this.participant.potentialOwnerList);\r\n      }\r\n    }\r\n  }\r\n\r\n  private potentialOwnerCopyToHumanPerformer() {\r\n    if (this.participant.potentialOwnerList && this.participant.potentialOwnerList.length > 0) {\r\n      if (!this.participant.humanPerformerList) {\r\n        this.participant.humanPerformerList = new Array();\r\n      }\r\n      const performers = this.participant.potentialOwnerList.filter(p => p.type !== 'wf.OrganizationParticipantExpression');\r\n      if (performers && performers.length > 0) {\r\n        // 此处直接push会导致order重复,需要重新排序\r\n        this.participant.humanPerformerList.push(...performers);\r\n        this.participant.humanPerformerList.forEach((human, index) => {\r\n          human.order = index + 1;\r\n        });\r\n        this.participant.potentialOwnerList = this.participant.potentialOwnerList.filter(p => p.type === 'wf.OrganizationParticipantExpression');\r\n        this.humanPerformerGrid.loadData(this.participant.humanPerformerList);\r\n        if (this.potentialOwnerGrid) {\r\n          this.potentialOwnerGrid.loadData(this.participant.potentialOwnerList);\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  private GetOrganizationType() {\r\n    const url = '/api/runtime/sys/v1.0/authfields/globalauthfields';\r\n    this.http.get(url)\r\n      .subscribe((data: any) => this.designerUIState.orgTypeCollection = data.map(d => ({ value: d.id, text: d.name })));\r\n  }\r\n\r\n  // 构造不同参与者选择界面的尺寸 2023-7-5\r\n  private attributeBoxSize(boxType: string) {\r\n    const boxsize = {\r\n      width: 760,\r\n      height: 512\r\n    }\r\n    switch (boxType) {\r\n      case 'wf.PositionParticipantExpression':\r\n        boxsize.width = 760;\r\n        boxsize.height = 455;\r\n        return boxsize;\r\n      case 'wf.UserParticipantExpression':\r\n        boxsize.width = 760;\r\n        boxsize.height = 320;\r\n        return boxsize;\r\n      case 'wf.VariableParticipantExpression':\r\n        boxsize.width = 760;\r\n        boxsize.height = 420;\r\n        return boxsize;;\r\n      case 'wf.ReportingLineParticipantExpression':\r\n        boxsize.width = 760;\r\n        boxsize.height = 512;\r\n        return boxsize;;\r\n      case 'wf.MatrixParticipantExpression':\r\n        boxsize.width = 780;\r\n        boxsize.height = 420;\r\n        return boxsize;;\r\n      case 'wf.ComponentParticipantExpression':\r\n        boxsize.width = 760;\r\n        boxsize.height = 512;\r\n        return boxsize;;\r\n      case 'wf.ActivityExecutorParticipantExpression':\r\n        boxsize.width = 760;\r\n        boxsize.height = 320;\r\n        return boxsize;;\r\n      case 'wf.OrganizationParticipantExpression':\r\n        boxsize.width = 760;\r\n        boxsize.height = 360;\r\n        return boxsize;;\r\n    }\r\n  }\r\n}\r\n\r\nexport class ParticipantConverter implements TypeConverter {\r\n  constructor(\r\n    private localePipe: WfLocalePipe\r\n  ) { }\r\n\r\n  convertTo(data: ParticipantInfo): string {\r\n    if (data && data.humanPerformerList && data.humanPerformerList.length > 0) {\r\n      return this.localePipe.transform(\"component.participant.set\");\r\n    }\r\n    if (data && data.potentialOwnerList && data.potentialOwnerList.length > 0) {\r\n      return this.localePipe.transform(\"component.participant.set\");\r\n    }\r\n    if (data && data.isAllScope) {\r\n      return this.localePipe.transform(\"component.participant.set\");\r\n    }\r\n    return this.localePipe.transform(\"component.participant.notSet\");\r\n  }\r\n}\r\n","import { ConditionType, ConditionValueVersion } from \"@gsp-wf/wf-process-model\";\r\nexport class Condition {\r\n    private _value;\r\n    private valueVersion;\r\n    private type;\r\n    ConditionType: ConditionType;\r\n    Value: string;\r\n    ValueVersion: ConditionValueVersion;\r\n    constructor() {\r\n\r\n    }\r\n}\r\n","import { Condition } from \"./condition\";\r\n\r\nexport class DisplayInfor {\r\n    constructor(name:string, id: string) {\r\n        this.name = name;\r\n        this.activityDefinitionId = id;\r\n        this.required = false;\r\n    }\r\n    name: string;\r\n    activityDefinitionId: string;\r\n    condition: string;\r\n    required: boolean;\r\n}\r\n\r\nexport class OtherAssignActivityNodeInfo {\r\n\r\n    activityDefinitionId: string;\r\n    condition: Condition;\r\n    required: boolean;\r\n    constructor(id: string, condition: string, required: boolean) {\r\n        this.activityDefinitionId = id;\r\n        this.condition = new Condition();\r\n        this.condition.Value = condition;\r\n        this.required = required;\r\n    }\r\n}","import { AfterViewInit, ChangeDetectorRef, Component, EventEmitter, Inject, Input, LOCALE_ID, OnInit, Optional, Output, TemplateRef, ViewChild } from '@angular/core';\r\nimport { TypeConverter } from '@farris/ide-property-panel';\r\nimport { DatagridComponent } from '@farris/ui-datagrid';\r\nimport { PickedResult } from '@farris/ui-lookup';\r\nimport { MessagerService } from '@farris/ui-messager';\r\nimport { Observable, of } from 'rxjs';\r\nimport { ProcessDesignerUIState } from '../../app/process-designer.uistate';\r\nimport { WF_LANG_RESOURCES, WfLocalePipe } from '../../i18n/pipe/wf-process-editor-locale.pipe';\r\nimport { WF_PROCESS_EDITOR_LANG_RESOURCES } from '../../i18n/assets/lang.resource';\r\nimport { DisplayInfor, OtherAssignActivityNodeInfo } from './other-assign-activity-node-info';\r\nimport { DialogComponent } from '@farris/ui-dialog';\r\nimport { EditorTypes } from '@farris/ui-datagrid-editors';\r\nimport { ExprEditMode, ExpressionService, InjectedType, VarEntity } from '@gsp-svc/expression';\r\n\r\n@Component({\r\n  selector: 'lib-assign-scope',\r\n  templateUrl: './assign-scope.component.html',\r\n  styleUrls: ['./assign-scope.component.scss'],\r\n  providers: [\r\n     WfLocalePipe,\r\n  ]\r\n})\r\nexport class AssignScopeComponent implements OnInit, AfterViewInit {\r\n\r\n  @Output() closeModal = new EventEmitter<any>();\r\n  @Output() submitModal = new EventEmitter<any>();\r\n  @ViewChild('iconSelectFooter') modalFooter: TemplateRef<any>;\r\n  @ViewChild('grid') grid: DatagridComponent;\r\n  @ViewChild('actionsTable1') actionsTable1: DatagridComponent;\r\n  @ViewChild('actionsDialog1') actionsDialog1: DialogComponent;\r\n\r\n  @Input() editorParams: any = {};\r\n  @Input() set value(data) {\r\n    if (data && data.length > 0) {\r\n      // this.otherAssignActivities = [...data];\r\n      data.forEach(data1 =>{\r\n        let otherAssignActivityNodeInfo = new OtherAssignActivityNodeInfo(data1.activityDefinitionId, data1.condition ? data1.condition.Value : data1.condition, data1.required);\r\n        this.otherAssignActivityNodeInfos.push(otherAssignActivityNodeInfo);\r\n      } );\r\n      this.otherAssignActivityNodeInfos.forEach(other =>{\r\n        let displayInfo = new DisplayInfor(null,other.activityDefinitionId);\r\n        displayInfo.required = other.required;\r\n        if(other.condition){\r\n          displayInfo.condition = other.condition.Value;\r\n        }\r\n        // displayInfo.name = this.items.find(item => item.Id === displayInfo.activityDefinitionId).Name;\r\n        this.listItems.push(displayInfo);\r\n      } );\r\n    }\r\n  }\r\n\r\n  location;\r\n\r\n  items = new Array();\r\n\r\n  listItems = new Array<DisplayInfor>();\r\n\r\n  modalConfig = {\r\n    title: this.localePipe.transform('component.assignScope.assignScopeList'),\r\n    width: 600,\r\n    height: 520,\r\n    showButtons: true\r\n  };\r\n\r\n  cols = [\r\n    { title: this.localePipe.transform('component.assignScope.name'), field: 'name', width: 80},\r\n    { title: 'ID', field: 'activityDefinitionId', width: 100},\r\n    { title: this.localePipe.transform('component.assignScope.required'), field: 'required', width: 50,\r\n      editor: {\r\n        type: EditorTypes.SWITCH,\r\n        options: {}\r\n      },\r\n      formatter: { type: 'boolean', options: { trueText: this.localePipe.transform('component.assignScope.yes'), falseText: this.localePipe.transform('component.assignScope.no') } },\r\n      validators: [\r\n        { type: 'required', messager: '必填' }\r\n      ]\r\n    },\r\n    { title: this.localePipe.transform('component.assignScope.condition'), field: 'condition', width: 70,\r\n      editor: {\r\n        type: 'input-group',\r\n        options: {\r\n          groupText: '<i class=\"f-icon f-icon-lookup\"></i>',\r\n          editable: false,\r\n          clickHandle: (e) => {\r\n            e.formControl.setValue(e.instance.value ? e.instance.value : '');\r\n            this.editConditon(e);\r\n          },\r\n          clear: (e) => {\r\n            console.log('clear', e);\r\n          }\r\n        }\r\n      }\r\n    }\r\n  ];\r\n\r\n  nodeCols = [\r\n    { title: this.localePipe.transform('component.assignScope.name'), field: 'Name', width: 100, filter: true },\r\n    { title: 'ID', field: 'Id', width: 100, filter: true },\r\n  ]\r\n\r\n  // otherAssignActivities = new Array();\r\n\r\n  otherAssignActivityNodeInfos = new Array<OtherAssignActivityNodeInfo>();\r\n\r\n  curActivity;\r\n\r\n  constructor(\r\n    private uistate: ProcessDesignerUIState,\r\n    private message: MessagerService,\r\n    private exprService: ExpressionService,\r\n    @Optional() private cdr: ChangeDetectorRef,\r\n    @Inject(LOCALE_ID) private localeId: string,\r\n    @Inject(WF_LANG_RESOURCES) private resources: any,\r\n    @Optional() private localePipe: WfLocalePipe,\r\n  ) {\r\n    this.localePipe = this.localePipe || new WfLocalePipe(localeId, resources);\r\n   }\r\n\r\n  ngOnInit() {\r\n    if (!this.location) {\r\n      this.location = this.editorParams.location;\r\n    }\r\n    let activities = new Array();\r\n    if (this.location === 'startActivity') {\r\n      activities = [...this.uistate.userActList.filter(a => a.Id !== this.uistate.propertyData.Id\r\n        && a.AssignmentStrategy === 'ASSIGN'\r\n        && a.AssignPerformerConfig\r\n        && a.AssignPerformerConfig.Operator === 'procInstCreator')];\r\n    } else {\r\n      activities = [...this.uistate.userActList.filter(a => a.Id !== this.uistate.propertyData.Id && a.AssignmentStrategy === 'ASSIGN')];\r\n    }\r\n    if (this.otherAssignActivityNodeInfos && this.otherAssignActivityNodeInfos.length > 0) {\r\n      for (const other of this.otherAssignActivityNodeInfos) {\r\n        const activity = activities.find(a => a.Id === other.activityDefinitionId);\r\n        if (activity) {\r\n          this.items = this.items.concat([activity]);\r\n        }\r\n      }\r\n      for (const activity of activities) {\r\n        if (this.items.findIndex(item => item.Id === activity.Id) === -1) {\r\n          this.items = this.items.concat([activity]);\r\n        }\r\n      }\r\n    } else {\r\n      this.items = activities;\r\n    }\r\n\r\n    this.listItems.forEach(listItem => {\r\n      listItem.name = this.items.find(item => item.Id === listItem.activityDefinitionId).Name;\r\n    })\r\n  }\r\n\r\n\r\n  ngAfterViewInit(): void {\r\n    if (this.otherAssignActivityNodeInfos && this.otherAssignActivityNodeInfos.length > 0) {\r\n      for (const other of this.otherAssignActivityNodeInfos) {\r\n        this.grid.checkRow(other.activityDefinitionId);\r\n      }\r\n    }\r\n  }\r\n\r\n  delete() {\r\n    this.grid.endCellEdit();\r\n    if (this.grid.selectedRow && this.grid.selectedRow.data) {\r\n      const i = this.listItems.findIndex(d => d.activityDefinitionId === this.grid.selectedRow.data.activityDefinitionId);\r\n      this.listItems.splice(i, 1);\r\n      this.grid.loadData(this.listItems);\r\n    } else {\r\n      this.message.info(this.localePipe.transform('component.assignScope.deleteRow'));\r\n    }\r\n  }\r\n\r\n  moveUp() {\r\n    if (!this.curActivity) {\r\n      this.message.info(this.localePipe.transform('component.assignScope.curActivity'));\r\n      return;\r\n    }\r\n    const curCmpId: string = this.curActivity.activityDefinitionId;\r\n    const i = this.listItems.findIndex(c => c.activityDefinitionId === curCmpId);\r\n    if (i === 0) {\r\n      return;\r\n    }\r\n    this.swapArray(this.listItems, i, i - 1);\r\n\r\n    this.grid.loadData(this.listItems);\r\n    this.grid.selectRow(curCmpId, true);\r\n\r\n    // const selectedRow = this.grid.selectedRow;\r\n    // debugger;\r\n    // if (!selectedRow) {\r\n    //   this.message.info('尚未选中行');\r\n    //   return;\r\n    // }\r\n    // if (selectedRow.index === 0) {\r\n    //   return;\r\n    // }\r\n    // this.swapArray(this.items, selectedRow.index, selectedRow.index - 1);\r\n\r\n    // this.grid.loadData(this.items);\r\n    // this.grid.selectRow(selectedRow.id, true);\r\n  }\r\n\r\n  moveDown() {\r\n    if (!this.curActivity) {\r\n      this.message.info(this.localePipe.transform('component.assignScope.curActivity'));\r\n      return;\r\n    }\r\n    const curCmpId: string = this.curActivity.activityDefinitionId;\r\n    const i = this.listItems.findIndex(c => c.activityDefinitionId === curCmpId);\r\n    if (i === this.listItems.length - 1) {\r\n      return;\r\n    }\r\n    this.swapArray(this.listItems, i, i + 1);\r\n\r\n    this.grid.loadData(this.listItems);\r\n    this.grid.selectRow(curCmpId, true);\r\n\r\n\r\n    // const selectedRow = this.grid.selectedRow;\r\n    // if (!selectedRow) {\r\n    //   this.message.info('尚未选中行');\r\n    //   return;\r\n    // }\r\n    // if (selectedRow.index === this.items.length - 1) {\r\n    //   return;\r\n    // }\r\n    // this.swapArray(this.items, selectedRow.index, selectedRow.index + 1);\r\n\r\n    // this.grid.loadData(this.items);\r\n    // this.grid.selectRow(selectedRow.id, true);\r\n  }\r\n\r\n  selectionChange(data: any) {\r\n    this.curActivity = data.data;\r\n  }\r\n\r\n  private swapArray(arr: Array<any>, i1: number, i2: number): Array<any> {\r\n    arr[i1] = arr.splice(i2, 1, arr[i1])[0];\r\n    return arr;\r\n  }\r\n\r\n  clickOK() {\r\n    this.otherAssignActivityNodeInfos = new Array();\r\n    for (const item of this.listItems) {\r\n      this.otherAssignActivityNodeInfos.push(new OtherAssignActivityNodeInfo(\r\n        item.activityDefinitionId, item.condition, item.required));\r\n    }\r\n    const object = { value: this.otherAssignActivityNodeInfos, parameters: null };\r\n    this.submitModal.emit(object);\r\n  }\r\n\r\n  clickCancel() {\r\n    this.closeModal.emit();\r\n  }\r\n\r\n  actionsSelect() {\r\n    const selections: any[] = this.actionsTable1.checkeds;\r\n    if (selections && selections.length > 0) {\r\n      selections.forEach(action => {\r\n        let item = new DisplayInfor(action.data.Name, action.data.Id);\r\n        const index = this.listItems.findIndex(act => act.activityDefinitionId === action.data.Id);\r\n        if (index > -1) {\r\n          this.listItems.splice(index, 1);\r\n        }\r\n        this.listItems.push(item);\r\n      });\r\n      this.grid.loadData(this.listItems);\r\n    }\r\n    // 2023-6-13 关闭前清空已选数据\r\n    this.actionsTable1.clearCheckeds(true);\r\n    this.actionsDialog1.close();\r\n  }\r\n\r\n  SelectCancel() {\r\n    // 2023-6-13 关闭前清空已选数据\r\n    this.actionsTable1.clearCheckeds(true);\r\n    this.actionsDialog1.close();\r\n  }\r\n\r\n  editConditon(e: any) {\r\n    let context = new Array<VarEntity>();\r\n    // if(this.expr.exprEntity.contextEntities.find(x => x.key === 'CurrentLanguage')) {\r\n    //   context.push(this.expr.exprEntity.contextEntities.find(x => x.key === 'CurrentLanguage'));\r\n    // }\r\n    // this.expr.clearContext();\r\n    if (this.uistate.schemas.length > 0) {\r\n      for (const schema of this.uistate.schemas) {\r\n        this.exprService.addSchema('Schema', schema);\r\n      }\r\n      if (this.uistate.schemas[0].entityTypes && this.uistate.schemas[0].entityTypes.length > 0) {\r\n        const entityType = this.uistate.schemas[0].entityTypes[0];\r\n        this.exprService.addInjectedEntity(entityType.name, 'Schema',\r\n          entityType.name, InjectedType.EntityType);\r\n      }\r\n    }\r\n    context = this.uistate.addContext(context);\r\n    if (this.uistate.subActivityContext.length > 0) {\r\n      for (const variable of this.uistate.subActivityContext) {\r\n        if (!context.some(c => c.key === variable.key)) {\r\n          context.push(variable);\r\n        }\r\n      }\r\n    }\r\n    if (this.uistate.activityComponentContext.length > 0) {\r\n      for (const variable of this.uistate.activityComponentContext) {\r\n        if (!context.some(c => c.key === variable.key)) {\r\n          context.push(variable);\r\n        }\r\n      }\r\n    }\r\n    if (context.length > 0) {\r\n      for (const v of context) {\r\n        this.exprService.addContext(v);\r\n      }\r\n    } \r\n    this.exprService.setEditPattern(ExprEditMode.Conditional);   \r\n    this.exprService.addExpressionText(e.instance.value);\r\n    this.exprService.buildExpression().then((cond: string) => {\r\n      e.formControl.setValue(cond);\r\n      e.instance.cd.detectChanges();\r\n      //点击确定后，去除表达式里面的新增的上下文变量\r\n      if(context.length > 0) {\r\n        this.exprService.exprEntity.contextEntities = this.exprService.exprEntity.contextEntities.filter(x => !context.some(y => y.key === x.key));\r\n      }\r\n    });\r\n  }\r\n\r\n}\r\n\r\nexport class AssignScopeConverter implements TypeConverter {\r\n  actList = new Array();\r\n  constructor(\r\n    private uistate: ProcessDesignerUIState,\r\n    private localePipe: WfLocalePipe\r\n    ) {\r\n    this.actList = [...this.uistate.userActList.filter(a => a.AssignmentStrategy === 'ASSIGN')];\r\n  }\r\n\r\n  convertTo(data): string {\r\n    if (data && data.length > 0) {\r\n      return this.localePipe.transform(\"component.assignScope.set\");\r\n    } else {\r\n      return this.localePipe.transform(\"component.assignScope.notSet\");\r\n    }\r\n\r\n  }\r\n}\r\n","export enum UserActivityPropertyKeys {\r\n    Id = \"Id\",\r\n    Name = \"Name\",\r\n    NameLanguage = \"NameLanguage\",\r\n    ClrTypeID = \"ClrTypeID\",\r\n    /**\r\n     * 参与者设置\r\n     */\r\n    ParticipantSchemes = 'ParticipantSchemes',\r\n    /**\r\n     * 参与者选项\r\n     */\r\n    ParticipantOptions = 'ParticipantOptions',\r\n    /**\r\n     * 审批项\r\n     */\r\n    ApprovalItems = 'ApprovalItems',\r\n    /**\r\n     * 分配策略\r\n     */\r\n    AssignStrategy = 'AssignStrategy',\r\n    /**\r\n     * 指派规则\r\n     */\r\n    OperatorConfig = 'OperatorConfig',\r\n    /**\r\n     * 完成策略\r\n     */\r\n    CompleteStrategy = 'CompleteStrategy',\r\n    /**\r\n     * 会签规则\r\n     */\r\n    SignRule = 'SignRule',\r\n    /**\r\n     * 多实例设置\r\n     */\r\n    MultiInstanceLoopCharacteristics = 'MultiInstanceLoopCharacteristics',\r\n    /**\r\n     * 允许取回\r\n     */\r\n    Retrievable = 'Retrievable',\r\n    /**\r\n     * 允许征询\r\n     */\r\n    AddSignFrontAble = 'AddSignFrontAble',\r\n    /**\r\n     * 允许加签\r\n     */\r\n    AddSignBehindAble = 'AddSignBehindAble',\r\n    /**\r\n     * 允许知会\r\n     */\r\n    NotifyAble = 'NotifyAble',\r\n    /**\r\n     * 表单定义\r\n     */\r\n    ExecuteForms = 'ExecuteForms',\r\n    /**\r\n     * 是否允许选择目标节点\r\n     */\r\n    SelectTargetAble = 'SelectTargetAble',\r\n    /**\r\n     * 跳转范围\r\n     */\r\n    JumpScope = 'JumpScope',\r\n    /**\r\n     * 驳回规则\r\n     */\r\n    BackWardRule = 'BackWardRule',\r\n    /**\r\n     * 活动构件\r\n     */\r\n    Tools = 'Tools',\r\n    /**\r\n     * 选择后续分支\r\n     */\r\n    SelectBranch = 'SelectBranch',\r\n    /**\r\n     * 活动标题\r\n     */\r\n    wf_TitleExpression = 'wf_TitleExpression',\r\n    /**\r\n     * 默认分支\r\n     */\r\n    Default = 'Default',\r\n    /**\r\n     * 移交范围\r\n     */\r\n    transferScope = 'transferScope',\r\n    /**\r\n     * 隐藏web端待办任务\r\n     */\r\n    DisplayTerminal = 'DisplayTerminal',\r\n    timeLimitControl = 'timeLimitControl',\r\n    anonymousSet = 'anonymousSet',\r\n    variableSettings = 'variableSettings',\r\n    messageNotice = 'messageNotice',\r\n    wf_ExecuteForms_PC = 'wf_ExecuteForms_PC',\r\n    wf_ExecuteForms_Mobile = 'wf_ExecuteForms_Mobile',\r\n    /**\r\n     * 审批要点\r\n     */\r\n    approvalPivotConfig = 'approvalPivotConfig',\r\n    urgeHandleRule = 'urgeHandleRule',\r\n    /**\r\n     * 影像设置\r\n     */\r\n    imageSettings = 'imageSettings',\r\n    checkConditions = 'checkConditions',\r\n    AssignPerformer = 'AssignPerformer',\r\n    wf_CustomizeAction = 'wf_CustomizeAction',\r\n    otherAssignNodes = 'otherAssignNodes',\r\n    otherAssignActivities = 'otherAssignActivities',\r\n    otherAssignActivityNodeInfos = 'OtherAssignActivityNodeInfos',\r\n    ConditionExpression = \"ConditionExpression\",\r\n    sendBackedTask = \"sendBackedTask\",\r\n    BizActivityID = \"BizActivityID\"\r\n}","import { ExtensionCompletionConditionRuler } from \"@edp-pmf/bpmn-model\";\r\n\r\n\r\nexport class MultiInstanceLoopCharacteristics {\r\n    static Clr_Type_ID = 'wf.MultiInstanceLoopCharacteristics';\r\n\r\n    readonly ClrTypeID: string = MultiInstanceLoopCharacteristics.Clr_Type_ID;\r\n\r\n    enable: boolean;\r\n    sequential: boolean;\r\n    loopCardinality: string;\r\n    completionCondition: string;\r\n    completionConditionRules: Array<ExtensionCompletionConditionRuler>;\r\n\r\n    constructor() {\r\n        this.enable = false;\r\n        this.sequential = false;\r\n        this.loopCardinality = null;\r\n        this.completionCondition = null;\r\n        this.completionConditionRules = new Array<ExtensionCompletionConditionRuler>();\r\n    }\r\n}","import { BpmnModel, Expression, ExtensionCompletionConditionRuler, MexExpression } from '@edp-pmf/bpmn-model';\r\nimport { Component, OnInit, HostBinding, Output, EventEmitter, Input, ViewChild, TemplateRef, Injector, ComponentFactoryResolver, ChangeDetectorRef, Optional, Inject, LOCALE_ID } from '@angular/core';\r\nimport { WF_LANG_RESOURCES, WfLocalePipe } from '../../i18n/pipe/wf-process-editor-locale.pipe';\r\nimport { DatagridComponent } from '@farris/ui-datagrid';\r\nimport { BsModalService } from '@farris/ui-modal';\r\nimport { TypeConverter } from '@farris/ide-property-panel';\r\nimport { MessagerService } from '@farris/ui-messager';\r\nimport { ExpressionService, InjectedType} from '@gsp-svc/expression';\r\nimport { ProcessDesignerUIState } from '../../app/process-designer.uistate';\r\nimport { WF_PROCESS_EDITOR_LANG_RESOURCES } from '../../i18n/assets/lang.resource';\r\nimport { MultiInstanceLoopCharacteristics } from './multi-instance-loop-characteristics.entity';\r\n// import { ExtensionCompletionConditionRuler } from './extension-completion-condition-ruler/extension-completion-condition-ruler.entity';\r\nimport { SignRuleComponent } from '../sign-rule/sign-rule.component';\r\nimport { Condition, CounterSignRule, SemanticExpression } from '@gsp-wf/wf-process-model';\r\n// import { SignRuleEntity } from '../sign-rule/entites/sign-rule.entity';\r\nimport { RTProcessInfo } from '../../model/rt-process-info';\r\nimport { switchMap } from 'rxjs/operators';\r\nimport { HttpService } from '@ecp-caf/caf-common';\r\nimport { of } from 'rxjs';\r\nimport { ProcessTime } from '../../model/process-time';\r\n\r\n@Component({\r\n  selector: 'lib-multi-instance-loop-characteristics',\r\n  templateUrl: './multi-instance-loop-characteristics.component.html',\r\n  styleUrls: ['./multi-instance-loop-characteristics.component.css'],\r\n  providers: [\r\n    WfLocalePipe,\r\n ]\r\n})\r\nexport class MultiInstanceLoopCharacteristicsComponent implements OnInit {\r\n  @HostBinding('class')\r\n  cls = 'farris-main-area flex-column';\r\n  groupIcon2 = '<i class=\"f-icon f-icon-lookup\"></i>';\r\n\r\n  @Output() closeModal = new EventEmitter<any>();\r\n  @Output() submitModal = new EventEmitter<any>();\r\n\r\n\r\n  @Input() set value(v) {\r\n    this.loopCharacteristics = new MultiInstanceLoopCharacteristics();\r\n    if (v) {\r\n      this.loopCharacteristics.enable = v.enable;\r\n      this.loopCharacteristics.sequential = v.sequential;\r\n      this.preEnable = v.enable;\r\n      this.preSequential = v.sequential;\r\n      if(v.loopCardinality && (v.loopCardinality instanceof Expression) && ((v.loopCardinality).MexExpression)) {\r\n        this.loopCharacteristics.loopCardinality = ((v.loopCardinality).MexExpression as SemanticExpression).Value;\r\n        // this.loopCharacteristics.loopCardinality = this.peopleList;\r\n      }\r\n      if(v.completionConditionRules && v.completionConditionRules.length > 0) {\r\n        let signRuleEntityArray:ExtensionCompletionConditionRuler[] = new Array<CounterSignRule>();\r\n        for(let rule of v.completionConditionRules) {\r\n            let signRule = new CounterSignRule(this.bpmnModel);\r\n            signRule.ConclusionValue = rule.ConclusionValue;\r\n            signRule.CalculateType = rule.CalculateType;\r\n            signRule.ConditionValue = rule.ConditionValue;\r\n            signRule.WaitAllVotes = rule.WaitAllVotes;\r\n            if(!signRule.CompletionCondition) {\r\n              signRule.CompletionCondition = new Condition(this.bpmnModel);\r\n            }\r\n            signRule.CompletionCondition.Value = rule.CompletionCondition ? rule.CompletionCondition.Value : null;\r\n            signRuleEntityArray.push(signRule);\r\n        }\r\n        this.loopCharacteristics.completionConditionRules = signRuleEntityArray;\r\n      }\r\n    }\r\n  }\r\n  @Input() editorParams: any = {};\r\n  @ViewChild('iconSelectFooter') modalFooter: TemplateRef<any>;\r\n  @ViewChild('cell') cell: TemplateRef<any>;\r\n  @ViewChild('grid') grid: DatagridComponent;\r\n\r\n  preEnable: boolean = false;\r\n\r\n  preSequential: boolean = false;\r\n\r\n  loopCharacteristics: MultiInstanceLoopCharacteristics = new MultiInstanceLoopCharacteristics();\r\n  \r\n  loopCharacteristicsTemp: MultiInstanceLoopCharacteristics = null;\r\n\r\n  // peopleList: string;\r\n\r\n  conditionRulesIsSet: string = this.localePipe.transform('multiInstanceLoopCharacteristics.conditionRulesSet');\r\n\r\n  promptAct: boolean;\r\n  \r\n  bpmnModel: BpmnModel = this.uistate.bpmnModel;\r\n\r\n  modalConfig = {\r\n    title: this.localePipe.transform('multiInstanceLoopCharacteristics.loopCharacteristics'),\r\n    width: 550,\r\n    height: 450,\r\n    showButtons: true\r\n  };\r\n\r\n  constructor(    \r\n    private resolver: ComponentFactoryResolver,\r\n    private injector: Injector,\r\n    private uistate: ProcessDesignerUIState,\r\n    private expr: ExpressionService,\r\n    private modalService: BsModalService,\r\n    private message: MessagerService,\r\n    private http: HttpService,\r\n    @Optional() private cdr: ChangeDetectorRef,\r\n    @Inject(LOCALE_ID) private localeId: string,\r\n    @Inject(WF_LANG_RESOURCES) private resources: any,\r\n    @Optional() private localePipe: WfLocalePipe) { \r\n      this.localePipe = this.localePipe || new WfLocalePipe(localeId, resources);\r\n    }\r\n\r\n  ngOnInit() {\r\n    if(this.editorParams.location && this.editorParams.location == 'activity') {\r\n      this.promptAct = true;\r\n    }else {\r\n      this.promptAct = false;\r\n    }\r\n  }\r\n\r\n  loopCardinalityExpr(data: any){\r\n    this.showloopCardinalityHelp(data);\r\n  }\r\n\r\n  showloopCardinalityHelp(data: string){\r\n    this.showExpr();\r\n    if (this.loopCharacteristics.loopCardinality) {\r\n      this.expr.addExpressionText(this.loopCharacteristics.loopCardinality);\r\n    } else {\r\n      this.expr.addExpressionText('');\r\n    }\r\n    this.expr.buildExpression().then((expressionInfo: string) => {\r\n      // this.peopleList = expressionInfo;\r\n      this.loopCharacteristics.loopCardinality = expressionInfo;\r\n    });\r\n  }\r\n\r\n  showExpr(){\r\n    // this.expr.clearContext();\r\n    if (this.uistate.schemas.length > 0) {\r\n      for (const schema of this.uistate.schemas) {\r\n        // this.expr.addCommonObject(co);\r\n        this.expr.addSchema('Schema', schema);\r\n      }\r\n      if (this.uistate.schemas[0].entityTypes && this.uistate.schemas[0].entityTypes.length > 0) {\r\n        const entityType = this.uistate.schemas[0].entityTypes[0];\r\n        this.expr.addInjectedEntity(entityType.name, 'Schema',\r\n          entityType.name, InjectedType.EntityType);\r\n      }\r\n    }\r\n    const context = new Array();\r\n    if (this.uistate.procInstContext.length > 0) {\r\n      for (const variable of this.uistate.procInstContext) {\r\n        context.push(variable);\r\n        // this.expr.addContext(variable);\r\n      }\r\n    }\r\n    if (this.uistate.processVariableContext.length > 0) {\r\n      for (const variable of this.uistate.processVariableContext) {\r\n        if (!context.some(c => c.key === variable.key)) {\r\n          context.push(variable);\r\n        }\r\n        // this.expr.addContext(variable);\r\n      }\r\n    }\r\n    if (context.length > 0) {\r\n      for (const v of context) {\r\n        this.expr.addContext(v);\r\n      }\r\n    }\r\n  }\r\n\r\n  isEnable(data: any) {\r\n    if(!data) {\r\n      this.loopCharacteristicsTemp = new MultiInstanceLoopCharacteristics();\r\n      this.loopCharacteristicsTemp.enable = true;\r\n      this.loopCharacteristicsTemp.sequential = this.loopCharacteristics.sequential;\r\n      this.loopCharacteristicsTemp.loopCardinality = this.loopCharacteristics.loopCardinality;\r\n      this.loopCharacteristicsTemp.completionConditionRules = new Array<CounterSignRule>();\r\n      if(this.loopCharacteristics && this.loopCharacteristics.completionConditionRules) {\r\n        this.loopCharacteristics.completionConditionRules.forEach(com => this.loopCharacteristicsTemp.completionConditionRules.push(com.clone() as any));\r\n      } \r\n      this.loopCharacteristics = new MultiInstanceLoopCharacteristics();\r\n    }else {\r\n      if(this.loopCharacteristicsTemp) {\r\n        this.loopCharacteristics.enable = true;\r\n        this.loopCharacteristics.sequential = this.loopCharacteristicsTemp.sequential;\r\n        this.loopCharacteristics.loopCardinality = this.loopCharacteristicsTemp.loopCardinality;\r\n        this.loopCharacteristics.completionConditionRules = new Array<CounterSignRule>();\r\n        if(this.loopCharacteristicsTemp.completionConditionRules) {\r\n          this.loopCharacteristicsTemp.completionConditionRules.forEach(com => this.loopCharacteristics.completionConditionRules.push(com.clone() as any));\r\n        }\r\n        this.loopCharacteristicsTemp = null;\r\n      }\r\n    }\r\n    this.validate(data);\r\n  }\r\n\r\n  validate(data: any) {\r\n    if(data == true) {\r\n      if(!this.loopCharacteristics.completionConditionRules || this.loopCharacteristics.completionConditionRules.length < 1) {\r\n        this.setCompletionConditionRules(this.loopCharacteristics.completionConditionRules);\r\n      }\r\n    }\r\n  }\r\n\r\n  setCompletionConditionRules(completionConditionRules: ExtensionCompletionConditionRuler[]) {\r\n    let dialog: any;\r\n    const compFactory = this.resolver.resolveComponentFactory(SignRuleComponent);\r\n    const compRef = compFactory.create(this.injector);\r\n    compRef.instance.value1 = completionConditionRules;\r\n    // compRef.instance.data = this.loopCharacteristics.completionConditionRules;\r\n    compRef.instance.submitModal.subscribe((re: ExtensionCompletionConditionRuler[]) => {\r\n      this.loopCharacteristics.completionConditionRules = re;\r\n      dialog.close();\r\n    });\r\n    compRef.instance.closeModal.subscribe((re: any) => {\r\n      dialog.close();\r\n    });\r\n    const modalConfig = {\r\n      title: this.localePipe.transform(\"multiInstanceLoopCharacteristics.completionConditionRules\"),\r\n      width: 800,\r\n      height: 515,\r\n      buttons: compRef.instance.modalFooter1,\r\n      showButtons: true\r\n    };\r\n    dialog = this.modalService.show(compRef, modalConfig);\r\n  }\r\n\r\n  clickOK() {\r\n    const object = { value: this.loopCharacteristics, parameters: null };\r\n    if(this.preEnable != this.loopCharacteristics.enable || this.preSequential != this.loopCharacteristics.sequential) {\r\n      const url = `/api/runtime/wf/v1.0/processInstances/runtimeActivityInstances?procDefId=${this.uistate.procDefId}&activityDefinitionId=${this.uistate.propertyData.Id}`;\r\n      this.http.get(url).subscribe((re: any) => {\r\n          if (this.uistate.time === ProcessTime.rt && re && re.length > 0) {\r\n            this.message.info(this.localePipe.transform('multiInstanceLoopCharacteristics.checkPrompt'));\r\n          }else {\r\n            this.submitModal.emit(object);\r\n          } \r\n        });\r\n    }else {\r\n      this.submitModal.emit(object);\r\n    }\r\n  }\r\n  clickCancel() {\r\n    this.closeModal.emit();\r\n  }\r\n\r\n}\r\n\r\nexport class MultiInstanceLoopCharacteristicsConverter implements TypeConverter {\r\n  constructor(\r\n    private localePipe: WfLocalePipe\r\n  ) { }\r\n\r\n  convertTo(data: any): string {\r\n    if (data && (data as MultiInstanceLoopCharacteristics).enable) {\r\n      return this.localePipe.transform('multiInstanceLoopCharacteristics.set');\r\n    }\r\n    return this.localePipe.transform('multiInstanceLoopCharacteristics.notSet');\r\n  }\r\n}\r\n","import { Injectable, Injector, ComponentFactoryResolver } from '@angular/core';\r\nimport { ProcessDesignerUIState } from './process-designer.uistate';\r\nimport { ApprovalItemEntity } from '../views/approvel-items/entities/approval-item.entity';\r\nimport { PropertyEntity } from '@farris/ide-property-panel';\r\nimport { ElementPropertyConfig, KeyMap } from '@farris/ide-property-panel';\r\nimport { AssignPerformerConfigComponent, AssignConfigConverter } from '../views/assign-performer-config/assign-performer-config.component';\r\nimport { SignRuleComponent, SignRuleConverter } from '../views/sign-rule/sign-rule.component';\r\nimport { ApprovelItemsComponent, ApprovelItemsConverter } from '../views/approvel-items/approvel-items.component';\r\nimport { ExpressionEditorComponent, ExpressionEditorConverter } from '../views/expressionEditor/expression-editor.component';\r\nimport { ExecuteFormsComponent, ExecuteFormsConverter } from '../views/execute-forms/execute-forms.component';\r\nimport { JumpScopeComponent, JumpScopeConverter } from '../views/jump-scope/jump-scope.component';\r\nimport { VarEntity } from '@gsp-svc/expression';\r\nimport { BackwardRuleComponent, BackwardRuleConverter } from '../views/backward-rule/backward-rule.component';\r\nimport { MessagerService } from '@farris/ui-messager';\r\nimport { BackWardRule } from '../views/backward-rule/backward-rule.entity';\r\nimport { ActivityComponentComponent, ActivityComponentConverter } from '../views/activity-component/activity-component.component';\r\nimport { PerformerComponent, PerformerConverter } from '../views/performer/performer.component';\r\nimport { TitleExpressionComponent, TitleExpressionConverter } from '../views/title-expression/title-expression.component';\r\nimport { BsModalService, ModalOptions } from '@farris/ui-modal';\r\nimport { OrganizationPotentialOwnerComponent, OrganizationPotentialOwnerConverter } from '../views/organization-potential-owner/organization-potential-owner.component';\r\nimport { CustomizeActionComponent, CustomizeActionConverter } from '../views/customize-action/customize-action.component';\r\nimport { TimeLimitControlComponent, TimeLimitControlConverter } from '../views/time-limit-control/time-limit-control.component';\r\nimport { AnonymousSetComponent, AnonymousSetConverter } from '../views/anonymous-set/anonymous-set.component';\r\nimport { VariableSettingComponent, VariableSettingConverter } from '../views/variable-setting/variable-setting.component';\r\nimport { MessageNoticeComponent, MessageNoticeConverter } from '../views/message-notice/message-notice.component';\r\nimport { ApprovalPivotComponent, ApprovalPivotConverter } from '../views/approval-pivot/approval-pivot.component';\r\nimport { UrgeHandleRuleComponent, UrgeHandleRuleConverter } from '../views/urge-handle-rule/urge-handle-rule.component';\r\nimport { ExtendPropertyComponent, ExtendPropertyConverter } from '../views/extend-property/extend-property.component';\r\nimport { ImageSetComponent, ImageSetConverter } from '../views/image-set/image-set.component';\r\nimport { CheckConditionComponent, CheckConditionConverter } from '../views/check-condition/check-condition.component';\r\nimport { AssignStrategyComponent, AssignStrategyConverter } from '../views/assign-strategy/assign-strategy.component';\r\nimport { ParticipantComponent, ParticipantConverter } from '../views/participant/participant.component';\r\nimport { PerformerOptionsComponent, PerformerOptionsConverter } from '../views/performer/views/performer-options/performer-options.component';\r\nimport { AssignScopeComponent, AssignScopeConverter } from '../views/assign-scope/assign-scope.component';\r\nimport { UserActivityPropertyKeys } from '../designer/wf-cell/property-keys/UserActivityPropertyKeys';\r\nimport { WfLocalePipe } from '../i18n/pipe/wf-process-editor-locale.pipe';\r\nimport { MultiInstanceLoopCharacteristicsComponent, MultiInstanceLoopCharacteristicsConverter } from '../views/multi-instance-loop-characteristics/multi-instance-loop-characteristics.component';\r\n@Injectable()\r\n\r\nexport class WFFlowElementsViewModel {\r\n\r\n  constructor(\r\n    private uiState: ProcessDesignerUIState,\r\n    private message: MessagerService,\r\n    private injector: Injector,\r\n    private modalService: BsModalService,\r\n    private resolver: ComponentFactoryResolver,\r\n    private localPipe: WfLocalePipe\r\n  ) {\r\n  }\r\n\r\n  /**\r\n   * 设置流程元素属性框\r\n   * @param obj\r\n   */\r\n  setFlowElementProperty(obj: any) {\r\n    this.uiState.propertyData = obj.propertyData;\r\n    this.uiState.propertyConfig = this.setFlowEleConfig(obj.propertyConfig);\r\n  }\r\n\r\n  private setFlowEleConfig(obj: any[]): ElementPropertyConfig[] {\r\n    const propertyConfig: ElementPropertyConfig[] = [];\r\n    if (obj) {\r\n      obj.forEach((element: ElementPropertyConfig) => {\r\n        this.setFlowEleEntity(element.properties);\r\n        propertyConfig.push(element);\r\n      });\r\n    }\r\n    return propertyConfig;\r\n  }\r\n\r\n  private setFlowEleEntity(obj: PropertyEntity[]) {\r\n    if (obj && obj.length > 0) {\r\n      obj.forEach((item: PropertyEntity) => {\r\n        switch (item.propertyID) {\r\n          case UserActivityPropertyKeys.Id: // 标识\r\n            break;\r\n          case UserActivityPropertyKeys.ConditionExpression:                  // 条件表达式\r\n            item.editor = ExpressionEditorComponent;\r\n            item.converter = new ExpressionEditorConverter(this.localPipe);\r\n            item.editorParams = {};\r\n            break;\r\n          case UserActivityPropertyKeys.wf_ExecuteForms_PC:                         // 开始活动的表单构件\r\n            item.editor = ExecuteFormsComponent;\r\n            const params = {\r\n              location: 'startActivity',\r\n              tab: 'web'\r\n            };\r\n            item.converter = new ExecuteFormsConverter(params, this.localPipe);\r\n            item.editorParams = params;\r\n            break;\r\n          case UserActivityPropertyKeys.wf_ExecuteForms_Mobile:                         // 开始活动的表单构件\r\n            item.editor = ExecuteFormsComponent;\r\n            const editorParams = {\r\n              location: 'startActivity',\r\n              tab: 'mobile'\r\n            };\r\n            item.converter = new ExecuteFormsConverter(editorParams, this.localPipe);\r\n            item.editorParams = editorParams\r\n            break;\r\n          case UserActivityPropertyKeys.sendBackedTask:                         // 开始活动的发送驳回任务\r\n            item.iterator = this.uiState.boolIterator;\r\n            break;\r\n          case UserActivityPropertyKeys.SelectTargetAble: // 允许跳转\r\n            item.iterator = this.uiState.boolIterator;\r\n            break;\r\n          case UserActivityPropertyKeys.JumpScope: // 跳转规则\r\n            item.editor = JumpScopeComponent;\r\n            item.converter = new JumpScopeConverter(this.localPipe);\r\n            break;\r\n          case UserActivityPropertyKeys.Default:                              // 默认分支\r\n            item.iterator = this.uiState.boolIterator;\r\n            break;\r\n          case UserActivityPropertyKeys.otherAssignNodes:\r\n            item.iterator = this.uiState.boolIterator;\r\n            break;\r\n          case UserActivityPropertyKeys.otherAssignActivityNodeInfos:\r\n            const assignScopeParams = {\r\n              location: 'startActivity',\r\n            };\r\n            item.editor = AssignScopeComponent;\r\n            item.converter = new AssignScopeConverter(this.uiState, this.localPipe);\r\n            item.editorParams = assignScopeParams;\r\n            break;\r\n          default:\r\n            item.editor = ExtendPropertyComponent;\r\n            item.converter = new ExtendPropertyConverter(this.localPipe);\r\n            break;\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 设置审批活动节点的属性框\r\n   * @param obj\r\n   */\r\n  setUserActivityProperty(obj: any, activityType: string) {\r\n    if (obj.propertyData.ApprovalItems) {\r\n      this.buildApprovalItems(obj.propertyData.ApprovalItems);\r\n      this.buildCounterSignVariables(obj.propertyData.ApprovalItems);\r\n      this.buildSignRules(obj.propertyData.SignRule); // 设置会签规则的结论名称\r\n    }\r\n    this.uiState.propertyData = obj.propertyData;\r\n    this.uiState.bizActivityId = obj.propertyData.BizActivityID;\r\n    this.uiState.propertyConfig = this.setUserActConfig(obj.propertyConfig, activityType);\r\n  }\r\n\r\n  private setUserActConfig(obj: any[], activityType: string): ElementPropertyConfig[] {\r\n    const propertyConfig: ElementPropertyConfig[] = [];\r\n    if (obj) {\r\n      obj.forEach((element: ElementPropertyConfig) => {\r\n        this.setUserActEntity(element.properties, activityType);\r\n        propertyConfig.push(element);\r\n      });\r\n    }\r\n    return propertyConfig;\r\n  }\r\n\r\n  private setUserActEntity(obj: PropertyEntity[], activityType: string) {\r\n    if (obj && obj.length > 0) {\r\n      obj.forEach((item: PropertyEntity) => {\r\n        switch (item.propertyID) {\r\n          case UserActivityPropertyKeys.Id: // 标识\r\n            break;\r\n          case UserActivityPropertyKeys.ParticipantSchemes: // 参与者\r\n            item.editor = ParticipantComponent;\r\n            item.converter = new ParticipantConverter(this.localPipe);\r\n            item.editorParams = {\r\n              nodeType: 'userActivity'\r\n            };\r\n            break;\r\n          case UserActivityPropertyKeys.ParticipantOptions: // 参与者选项\r\n            item.editor = PerformerOptionsComponent;\r\n            item.converter = new PerformerOptionsConverter(this.localPipe);\r\n            item.editorParams = {\r\n              location: activityType\r\n            };\r\n            break;\r\n          case UserActivityPropertyKeys.AssignPerformer:\r\n            item.editor = PerformerComponent;\r\n            item.converter = new PerformerConverter();\r\n            item.editorParams = {\r\n              nodeType: 'userActivity',\r\n              type: 'assignPerformer'\r\n            };\r\n            break;\r\n          case UserActivityPropertyKeys.wf_ExecuteForms_PC: // 表单定义\r\n            item.editor = ExecuteFormsComponent;\r\n            const params = {\r\n              location: 'userActivity',\r\n              tab: 'web'\r\n            };\r\n            item.converter = new ExecuteFormsConverter(params, this.localPipe);\r\n            item.editorParams = params;\r\n            break;\r\n          case UserActivityPropertyKeys.wf_ExecuteForms_Mobile: // 表单定义\r\n            item.editor = ExecuteFormsComponent;\r\n            const editorParams = {\r\n              location: 'userActivity',\r\n              tab: 'mobile'\r\n            };\r\n            item.converter = new ExecuteFormsConverter(editorParams, this.localPipe);\r\n            item.editorParams = editorParams;\r\n            break;\r\n          case UserActivityPropertyKeys.AssignStrategy: // 分配策略\r\n            item.editor = AssignStrategyComponent;\r\n            item.converter = new AssignStrategyConverter(this.localPipe);\r\n            break;\r\n          // case UserActivityPropertyKeys.OperatorConfig: // 指派规则\r\n          //   item.editor = AssignPerformerConfigComponent;\r\n          //   item.converter = new AssignConfigConverter();\r\n          //   break;\r\n          case UserActivityPropertyKeys.CompleteStrategy: // 完成策略\r\n            if (this.uiState.propertyData.AssignStrategy === this.uiState.assignIterator[2].key) {\r\n              item.iterator = this.uiState.completeIterator4Claim; // 分配策略为领用时，完成策略只能是抢占模式\r\n            } else {\r\n              item.iterator = this.uiState.completeIterator;\r\n            }\r\n            break;\r\n          case UserActivityPropertyKeys.SignRule: // 会签规则\r\n            item.editor = SignRuleComponent;\r\n            item.converter = new SignRuleConverter(this.localPipe);\r\n            item.editorParams = {\r\n              variables: this.uiState.counterSignVariables,\r\n              approvalItems: this.uiState.approvalItems,\r\n            };\r\n            break;\r\n          case UserActivityPropertyKeys.ApprovalItems: // 审批项\r\n            item.editor = ApprovelItemsComponent;\r\n            item.converter = new ApprovelItemsConverter(this.localPipe);\r\n            break;\r\n          case UserActivityPropertyKeys.Retrievable: // 允许取回\r\n            item.iterator = this.uiState.boolIterator;\r\n            break;\r\n          case UserActivityPropertyKeys.AddSignFrontAble: // 允许征询\r\n            item.editor = OrganizationPotentialOwnerComponent;\r\n            item.converter = new OrganizationPotentialOwnerConverter(this.localPipe);\r\n            item.editorParams = {\r\n              nodeType: 'userActivity',\r\n              tabId : 'approvalProperty',\r\n            };\r\n            break;\r\n          case UserActivityPropertyKeys.AddSignBehindAble: // 允许加签\r\n            item.editor = OrganizationPotentialOwnerComponent;\r\n            item.converter = new OrganizationPotentialOwnerConverter(this.localPipe);\r\n            item.editorParams = {\r\n              nodeType: 'userActivity',\r\n              tabId : 'approvalProperty',\r\n            };\r\n            break;\r\n          case UserActivityPropertyKeys.NotifyAble: // 允许知会\r\n            item.editor = OrganizationPotentialOwnerComponent;\r\n            item.converter = new OrganizationPotentialOwnerConverter(this.localPipe);\r\n            item.editorParams = {\r\n              nodeType: 'userActivity',\r\n              tabId : 'approvalProperty',\r\n            };\r\n            break;\r\n          case UserActivityPropertyKeys.transferScope: // 移交范围\r\n            item.editor = OrganizationPotentialOwnerComponent;\r\n            item.converter = new OrganizationPotentialOwnerConverter(this.localPipe);\r\n            item.editorParams = {\r\n              nodeType: 'userActivity',\r\n              tabId : 'approvalProperty',\r\n            };\r\n            break;\r\n          case UserActivityPropertyKeys.SelectBranch:  // 允许指定后续分支\r\n            item.iterator = this.uiState.boolIterator;\r\n            break;\r\n          case UserActivityPropertyKeys.SelectTargetAble: // 允许跳转\r\n            if (this.uiState.propertyData.CompleteStrategy\r\n              && this.uiState.propertyData.CompleteStrategy !== this.uiState.completeIterator[0].key) {\r\n              item.iterator = this.uiState.noJump4Sign;\r\n            } else {\r\n              item.iterator = this.uiState.boolIterator;\r\n            }\r\n            break;\r\n          case UserActivityPropertyKeys.JumpScope: // 跳转规则\r\n            item.editor = JumpScopeComponent;\r\n            item.converter = new JumpScopeConverter(this.localPipe);\r\n            break;\r\n          case UserActivityPropertyKeys.BackWardRule: // 驳回规则\r\n            item.editor = BackwardRuleComponent;\r\n            item.converter = new BackwardRuleConverter(this.localPipe);\r\n            item.editorParams = {\r\n              nodeType: 'UserActivity'\r\n            };\r\n            break;\r\n          case UserActivityPropertyKeys.wf_TitleExpression:\r\n            item.editor = TitleExpressionComponent;\r\n            item.converter = new TitleExpressionConverter(this.localPipe);\r\n            break;\r\n          case UserActivityPropertyKeys.Tools: // 活动构件\r\n            item.editor = ActivityComponentComponent;\r\n            item.converter = new ActivityComponentConverter(this.localPipe);\r\n            item.editorParams = {\r\n              location: 'activity'\r\n            };\r\n            break;\r\n          case UserActivityPropertyKeys.wf_CustomizeAction: // 活动构件\r\n            item.editor = CustomizeActionComponent;\r\n            item.converter = new CustomizeActionConverter(this.localPipe);\r\n            break;\r\n          case UserActivityPropertyKeys.timeLimitControl: // 超时预警\r\n            item.editor = TimeLimitControlComponent;\r\n            item.converter = new TimeLimitControlConverter(this.localPipe);\r\n            item.editorParams = {\r\n              location: 'activity'\r\n            };\r\n            break;\r\n          case UserActivityPropertyKeys.MultiInstanceLoopCharacteristics: // 多实例\r\n            item.editor = MultiInstanceLoopCharacteristicsComponent;\r\n            item.converter = new MultiInstanceLoopCharacteristicsConverter(this.localPipe);\r\n            item.editorParams = {\r\n              location: 'activity'\r\n            };\r\n            break;\r\n          case UserActivityPropertyKeys.anonymousSet: // 匿名设置\r\n            item.editor = AnonymousSetComponent;\r\n            item.converter = new AnonymousSetConverter(this.localPipe);\r\n            break;\r\n          case UserActivityPropertyKeys.variableSettings: // 变量设置\r\n            item.editor = VariableSettingComponent;\r\n            item.converter = new VariableSettingConverter(this.localPipe);\r\n            break;\r\n          case UserActivityPropertyKeys.messageNotice: // 消息通知\r\n            item.editor = MessageNoticeComponent;\r\n            item.converter = new MessageNoticeConverter(this.localPipe);\r\n            item.editorParams = {\r\n              location: 'activity'\r\n            };\r\n            break;\r\n          case UserActivityPropertyKeys.approvalPivotConfig: // 审批要点\r\n            item.editor = ApprovalPivotComponent;\r\n            item.converter = new ApprovalPivotConverter(this.localPipe);\r\n            break;\r\n          case UserActivityPropertyKeys.DisplayTerminal: // 显示终端\r\n            item.iterator = this.uiState.displayTerminal;\r\n            break;\r\n          case UserActivityPropertyKeys.urgeHandleRule: // 显示终端\r\n            item.editor = UrgeHandleRuleComponent;\r\n            item.converter = new UrgeHandleRuleConverter(this.localPipe);\r\n            break;\r\n          case UserActivityPropertyKeys.imageSettings: // 影像设置\r\n            item.editor = ImageSetComponent;\r\n            item.converter = new ImageSetConverter(this.localPipe);\r\n            break;\r\n          case UserActivityPropertyKeys.checkConditions:\r\n            item.editor = CheckConditionComponent;\r\n            item.converter = new CheckConditionConverter(this.localPipe);\r\n            break;\r\n          case UserActivityPropertyKeys.otherAssignNodes:\r\n            item.iterator = this.uiState.boolIterator;\r\n            break;\r\n          case UserActivityPropertyKeys.otherAssignActivities:\r\n          case UserActivityPropertyKeys.otherAssignActivityNodeInfos:\r\n            item.editor = AssignScopeComponent;\r\n            const assignScopeParams = {\r\n              location: 'userActivity',\r\n            };\r\n            item.editorParams = assignScopeParams;\r\n            item.converter = new AssignScopeConverter(this.uiState, this.localPipe);\r\n            break;\r\n          default:\r\n            item.editor = ExtendPropertyComponent;\r\n            item.converter = new ExtendPropertyConverter(this.localPipe);\r\n            break;\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 创建会签规则变量\r\n   */\r\n  buildCounterSignVariables(conclusions: any[]) {\r\n    this.uiState.counterSignVariables = [];\r\n    this.uiState.counterSignVariables = this.uiState.counterSignVariables.concat([{\r\n      key: 'nrOfInstances',\r\n      name: '总任务数',\r\n      description: '总任务数'\r\n    }, {\r\n      key: 'nrOfCompletedInstances',\r\n      name: '已完成任务数',\r\n      description: '已完成任务数'\r\n    }\r\n    ]);\r\n    if (conclusions && conclusions.length > 0) {\r\n      for (const conclusion of conclusions) {\r\n        const variable = new VarEntity();\r\n        variable.key = `nrOf${conclusion.Value}`;\r\n        variable.name = `${conclusion.Text}_任务数`;\r\n        variable.description = `${conclusion.Text}_任务数`;\r\n        this.uiState.counterSignVariables.push(variable);\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 创建自定义项\r\n   * @param conclusions\r\n   */\r\n  buildApprovalItems(conclusions: any[]) {\r\n    this.uiState.approvalItems = [];\r\n    if (conclusions && conclusions.length > 0) {\r\n      for (const item of conclusions) {\r\n        const conclusion = new ApprovalItemEntity();\r\n        conclusion.value = item.Value;\r\n        conclusion.text = item.Text;\r\n        conclusion.workFlowAction = item.WorkFlowAction;\r\n        conclusion.isDefault = item.IsDefault;\r\n        this.uiState.approvalItems.push(conclusion);\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 会签规则绑定审批项名称\r\n   * @param signRules 会签规则\r\n   */\r\n  private buildSignRules(signRules: any[]) {\r\n    if (signRules && signRules.length > 0) {\r\n      // let info = false;\r\n      for (const signRule of signRules) {\r\n        const approvalItem: ApprovalItemEntity = this.uiState.approvalItems.find(item => item.value === signRule.ConclusionValue);\r\n        if (!approvalItem) {\r\n          // if (!info) {\r\n          //   this.message.info('审批项发生改变，请调整会签规则！');\r\n          //   info = true;\r\n          // }\r\n          signRule.ConclusionName = '已删除';\r\n        } else {\r\n          signRule.ConclusionName = approvalItem.text;\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n}\r\n","import { Component, OnInit, Input, Output, EventEmitter, ViewChild, TemplateRef, Injector, Optional, ChangeDetectorRef, Inject, LOCALE_ID } from '@angular/core';\r\nimport { TreeTableComponent } from '@farris/ui-treetable';\r\nimport { Observable, of } from 'rxjs';\r\nimport { LookupGridComponent, ServerSideToken } from '@farris/ui-lookup';\r\nimport { HttpService } from '@ecp-caf/caf-common';\r\nimport { switchMap } from 'rxjs/operators';\r\nimport { LookupDataService } from '@farris/lookup-config';\r\nimport { MessagerService } from '@farris/ui-messager';\r\nimport { WF_LANG_RESOURCES, WfLocalePipe } from '../../i18n/pipe/wf-process-editor-locale.pipe';\r\n\r\n@Component({\r\n  selector: 'app-save-as-edit',\r\n  templateUrl: './save-as-edit.component.html',\r\n  styleUrls: ['./save-as-edit.component.scss'],\r\n  providers: [\r\n    { provide: ServerSideToken, useClass: LookupDataService },\r\n     WfLocalePipe,\r\n  ]\r\n})\r\nexport class SaveAsEditComponent implements OnInit {\r\n\r\n  @ViewChild('buttonRef') btnRef: TemplateRef<any>;\r\n\r\n  @Input()\r\n  procName: string;\r\n  @Input()\r\n  procKey: string;\r\n\r\n  @ViewChild('lookup') public lookUp: LookupGridComponent;\r\n\r\n  @Output() submit = new EventEmitter<any>();\r\n  @Output() cancel = new EventEmitter<any>();\r\n\r\n  accessLevel = 'public';\r\n  organization;\r\n  organizationName;\r\n\r\n  isAdministratorConfig = false;\r\n  enableAdminOrgAut = false;\r\n\r\n  administrator: any;\r\n  dataUri = '/api/runtime/sys/v1.0/sysOrgs';\r\n\r\n  loadType = 'layerload';\r\n\r\n  disabled = false;\r\n\r\n  // private _organizations: any[];\r\n  // set organizations(data: any[]) {\r\n  //   this._organizations = data;\r\n  //   if (this._organizations && this._organizations.length > 0) {\r\n  //     this.items = this.makeTreeByParent(this._organizations, 'parentId', 'id');\r\n  //   } else {\r\n  //     this.items = new Array();\r\n  //   }\r\n  // }\r\n  // get organizations() {\r\n  //   return this._organizations;\r\n  // }\r\n  items = new Array();\r\n\r\n  accessLevelCollection = [\r\n    { value: 'public', text: this.localePipe.transform('component.saveAsEdit.public') },\r\n    { value: 'private', text: this.localePipe.transform('component.saveAsEdit.private') }\r\n  ];\r\n\r\n  columns = [\r\n    { title: this.localePipe.transform('component.saveAsEdit.code'), field: 'code', width: '100', searchField: 'code' },\r\n    { title: this.localePipe.transform('component.saveAsEdit.name'), field: 'name', width: '100', searchField: 'name' },\r\n  ];\r\n\r\n\r\n  constructor(\r\n    private injector: Injector,\r\n    private http: HttpService,\r\n    private message: MessagerService,\r\n    @Optional() private cdr: ChangeDetectorRef,\r\n    @Inject(LOCALE_ID) private localeId: string,\r\n    @Inject(WF_LANG_RESOURCES) private resources: any,\r\n    @Optional() private localePipe: WfLocalePipe,\r\n  ) {\r\n    this.localePipe = this.localePipe || new WfLocalePipe(localeId, resources);\r\n   }\r\n\r\n  ngOnInit() {\r\n  }\r\n  saveAsOK() {\r\n    this.disabled = true;\r\n    if (this.validator()) {\r\n      this.submit.next({\r\n        procName: this.procName,\r\n        accessLevel: this.accessLevel,\r\n        organization: this.organization,\r\n        organizationName: this.organizationName\r\n      });\r\n    }\r\n  }\r\n  saveAsCancel() {\r\n    this.cancel.emit();\r\n  }\r\n\r\n  validator() {\r\n    if (!this.procName) {\r\n      this.message.warning(this.localePipe.transform('component.saveAsEdit.nameNotEmpty'));\r\n      this.disabled = false;\r\n      return false;\r\n    }\r\n    if (!this.organization) {\r\n      this.message.warning(this.localePipe.transform('component.saveAsEdit.organizationNotEmpty'));\r\n      this.disabled = false;\r\n      return false;\r\n    }\r\n    return true;\r\n  }\r\n\r\n  search(data: any) {\r\n    const tt = this.lookUp.componentRef.instance as TreeTableComponent;\r\n    tt.searchHandle.search(data.field, data.value, 'client');\r\n  }\r\n\r\n  dictPicking = (data: any) => {\r\n    this.lookUp.http = {\r\n      getData: (uri, params) => {\r\n        console.log(params);\r\n        const searchValue = JSON.parse(params.searchValue);\r\n        const parent = searchValue.parentId;\r\n        let param;\r\n\r\n        if (this.lookUp._searchState && this.lookUp._searchState.field && this.lookUp._searchState.value) {\r\n          if (this.lookUp._searchState.field === '*') {\r\n            param = { codeOrName: this.lookUp._searchState.value };\r\n          } else if (this.lookUp._searchState.field === 'name') {\r\n            param = { name: this.lookUp._searchState.value };\r\n          } else {\r\n            param = { code: this.lookUp._searchState.value };\r\n          }\r\n        }\r\n        let filter;\r\n        if (this.isAdministratorConfig) {\r\n          filter = this.administrator.administratorAuthorities.map(a => ({\r\n            id: a.organization, rule: a.includeSubordinate ? 'SelectedAndChild' : 'Selected'\r\n          }));\r\n        }\r\n        return this.getSysOrgs(parent, param, filter).pipe(\r\n          switchMap((re: any) => {\r\n            console.log(re);\r\n            return of({\r\n              columns: this.columns,\r\n              displayInfo: { idField: 'id', valueField: 'id', textField: 'name' },\r\n              displayType: 'TreeList',\r\n              idField: 'id',\r\n              valueField: 'id',\r\n              textField: 'name',\r\n              searchFields: [\r\n                { label: 'code', value: 'code' }, { label: 'name', value: 'name' }\r\n              ],\r\n              title: this.localePipe.transform('component.saveAsEdit.organization'),\r\n              total: 0,\r\n              treeInfo: {\r\n                dataField: 'treeinfo',\r\n                isDetailField: 'isDetail',\r\n                layerField: 'layer',\r\n                layerType: 'parentId',\r\n                loadDataType: 'async',\r\n                onlySelectLeaf: false,\r\n                parentField: 'parentElement',\r\n                pathField: 'path',\r\n                treeDataIsInit: true\r\n              },\r\n              items: this.orgTreeData(re, param)\r\n            } as any);\r\n          })\r\n        );\r\n      }\r\n    };\r\n    return of(true);\r\n  }\r\n\r\n  dictPicked = (data: any) => {\r\n    this.organizationName = data.name;\r\n    this.organization = data.id;\r\n    return of(true);\r\n  }\r\n\r\n  selectedDataHandler(data) {\r\n    this.organization = data.id;\r\n    this.organizationName = data.name;\r\n  }\r\n\r\n  private orgTreeData(orgs: any[], searchValue: any) {\r\n    const result = new Array();\r\n    const treeData = new Array();\r\n    for (const org of orgs) {\r\n      const entity: any = {};\r\n      entity.data = org;\r\n      entity.children = [];\r\n      entity.id = org.id;\r\n      entity.leaf = org.isDetail;\r\n      entity.selectable = org.farris_selectable;\r\n\r\n      treeData.push(entity);\r\n    }\r\n\r\n    const obj = {}; // 使用对象重新存储数据\r\n    const len = treeData.length;\r\n    for (let i = 0; i < len; i++) {\r\n      const d = treeData[i];\r\n      obj[treeData[i].id] = treeData[i];\r\n    }\r\n    // 遍历数据\r\n    for (let j = 0; j < len; j++) {\r\n      const data = treeData[j];\r\n\r\n      const parentData = obj[data.data.parentId];\r\n\r\n      if (parentData) {\r\n        if (!parentData.children) {\r\n          parentData.children = new Array();\r\n        }\r\n        parentData.children.push(data);\r\n      } else {\r\n        result.push(data);\r\n      }\r\n    }\r\n    // 过滤的情况下，不包含下级的节点设置为叶子节点\r\n    if (searchValue) {\r\n      this.treeIterator(result);\r\n    }\r\n    return result;\r\n  }\r\n\r\n  private treeIterator(treeData: any[]) {\r\n    if (treeData && treeData.length > 0) {\r\n      for (const d of treeData) {\r\n        if (d.children && d.children.length > 0) {\r\n          this.treeIterator(d.children);\r\n        } else {\r\n          d.leaf = true;\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  private findChild(item, orgs) {\r\n    const childList = orgs.filter(childitem => {\r\n      if (childitem.parentId === item.id) {\r\n        return true;\r\n      }\r\n    });\r\n    if (childList && childList.length > 0) {\r\n      childList.forEach(child => {\r\n        const childEntity: any = {};\r\n        childEntity.data = child;\r\n        childEntity.children = [];\r\n        childEntity.id = child.id;\r\n        childEntity.leaf = child.isDetail;\r\n        childEntity.selectable = child.farris_selectable;\r\n        item.children.push(childEntity);\r\n        this.findChild(childEntity, orgs);\r\n      });\r\n    }\r\n  }\r\n\r\n  /** 按照parent码构造树 */\r\n  private makeTreeByParent(datas: any[], parentField: string, keyField: string): any[] {\r\n    // 上級爲空，或者沒有上級的\r\n    const pathLayerOnes = datas.filter(x => {\r\n      if (!x[parentField]) {\r\n        return true;\r\n      }\r\n      const p = datas.find(parent => parent[keyField] === x[parentField]);\r\n      if (!p) {\r\n        return true;\r\n      }\r\n    });\r\n    const treedata = [];\r\n    pathLayerOnes.forEach(x => {\r\n      const entity: any = {};\r\n      entity.data = x;\r\n      entity.children = [];\r\n      treedata.push(entity);\r\n      // this.root = x['id'];\r\n    });\r\n    treedata.forEach(item => {\r\n      this.findChildrenByParent(item, datas, parentField, keyField);\r\n    }\r\n    );\r\n    return treedata;\r\n  }\r\n\r\n  /** 找到子节点 */\r\n  private findChildrenByParent(parent: any, datas: any[], parentField: string, keyField: string) {\r\n    const childList = datas.filter(childitem => {\r\n      if (childitem[parentField] === parent.data[keyField]) {\r\n        return true;\r\n      }\r\n    });\r\n    if (childList && childList.length > 0) {\r\n      childList.forEach(child => {\r\n        const childEntity: any = {};\r\n        childEntity.data = child;\r\n        childEntity.children = [];\r\n        parent.children.push(childEntity);\r\n        this.findChildrenByParent(childEntity, datas, parentField, keyField);\r\n      });\r\n    }\r\n  }\r\n\r\n\r\n  private getSysOrgs(parent: string, searchValue: any, filter: any[]): Observable<any> {\r\n    let url = `/api/runtime/sys/v1.0/sysOrgs`;\r\n    let param;\r\n    if (searchValue) {\r\n        param = Object.assign(searchValue, {\r\n            IsSearchTree: true,\r\n            withPermission: true,\r\n            ruleFilter: filter\r\n        });\r\n    } else {\r\n        if (parent) {\r\n            param = Object.assign({}, {\r\n                parentId: parent,\r\n                withPermission: true,\r\n                ruleFilter: filter\r\n            });\r\n        } else {\r\n            param = Object.assign({}, {\r\n                parentId: '',\r\n                layer: 1,\r\n                withPermission: true,\r\n                ruleFilter: filter\r\n            });\r\n        }\r\n    }\r\n    url += `?param=${JSON.stringify(param)}`;\r\n\r\n    return this.http.get(url);\r\n}\r\n}\r\n","export enum BillSourceType {\r\n    InheritParent = 'SameWithParent',\r\n    VariablesExpression = 'VariablesExpression',\r\n    AutoCreation = 'AutoGenerateDownBill',\r\n}","export enum SubProcessType {\r\n    Dynamic = \"Dynamic\",\r\n    Specified = \"Specified\",\r\n}","import { BillSourceType } from \"./BillSourceType\";\r\nimport { SubProcessType } from \"./SubProcessType\";\r\n\r\nexport class CallActivitySubProcess {\r\n    calledBizDefKey: string;\r\n    calledBizDefName: string;\r\n    calledElement: string;\r\n    calledElementName: string;\r\n    bizDataId: string;\r\n    inheritVariables: boolean;\r\n    inheritBizDataId: boolean;\r\n    useAutoCreationData: boolean;\r\n    aifProcessCode: string;\r\n    aifProcessName: string;\r\n    subProcessType: SubProcessType = SubProcessType.Specified;\r\n    billSourceType: BillSourceType = BillSourceType.InheritParent;\r\n}\r\n","export class BifMonitorConstant {\r\n    static readonly bifMonitorAppId: string = \"BillIntegrationFrameworkRT\";\r\n    static readonly bifManagerAppEntrance: string = \"bif-manager\";\r\n    \r\n    static readonly bifDiagnostorFuncId: string = \"BifDiagnostor\";\r\n    static readonly bifManagerFuncId: string = \"BifManager\";\r\n}\r\n\r\n","export enum BifMetadataType {\r\n    BifCreationProcess = \"BifCreationProcess\",\r\n    BifWritebackProcess = \"BifWritebackProcess\",\r\n}","import { JsonConvertableImpl, BpmnModelJsonHelper } from '@edp-bif/common-api';\r\nimport { BifMetadataType } from './BifMetadataType';\r\nimport { IShowEntity } from './IShowEntity';\r\n\r\nexport abstract class AbstractShowEntity extends JsonConvertableImpl implements IShowEntity {\r\n    id: string;\r\n    code: string;\r\n    name: string;\r\n    upBillVoName: string;\r\n    downBillVoName: string;\r\n    bifMetadataType: BifMetadataType;\r\n    lastModifiedTime: Date;\r\n    parentId: string;\r\n    sysInit: boolean = false;\r\n    originId: string;\r\n    rootId: string;\r\n\r\n    protected ResetBeforeLoadFrom(): void {\r\n        super.ResetBeforeLoadFrom();\r\n\r\n        this.id = null;\r\n        this.code = null;\r\n        this.name = null;\r\n        this.upBillVoName = null;\r\n        this.downBillVoName = null;\r\n        this.parentId = null;\r\n        this.bifMetadataType = null;\r\n        this.lastModifiedTime = null;\r\n        this.sysInit = false;\r\n        this.originId = null;\r\n        this.rootId = null;\r\n    }\r\n\r\n    public ConvertToJsonObject(): {} {\r\n        let obj = super.ConvertToJsonObject();\r\n\r\n        BpmnModelJsonHelper.SetAttributeValue(obj, \"id\", this.id);\r\n        BpmnModelJsonHelper.SetAttributeValue(obj, \"code\", this.code);\r\n        BpmnModelJsonHelper.SetAttributeValue(obj, \"name\", this.name);\r\n        BpmnModelJsonHelper.SetAttributeValue(obj, \"upBillVoName\", this.upBillVoName);\r\n        BpmnModelJsonHelper.SetAttributeValue(obj, \"downBillVoName\", this.downBillVoName);\r\n        BpmnModelJsonHelper.SetAttributeValue(obj, \"parentId\", this.parentId);\r\n        BpmnModelJsonHelper.SetAttributeValue(obj, \"bifMetadataType\", this.bifMetadataType);\r\n        BpmnModelJsonHelper.SetAttributeValue(obj, \"lastModifiedTime\", this.lastModifiedTime);\r\n        BpmnModelJsonHelper.SetAttributeValue(obj, \"sysInit\", this.sysInit);\r\n        BpmnModelJsonHelper.SetAttributeValue(obj, \"originId\", this.originId);\r\n        BpmnModelJsonHelper.SetAttributeValue(obj, \"rootId\", this.rootId);\r\n\r\n        return obj;\r\n    }\r\n\r\n    public LoadFromJsonObject(obj: {}): void {\r\n        super.LoadFromJsonObject(obj);\r\n\r\n        this.id = BpmnModelJsonHelper.GetAttributeValueAsString(obj, \"id\");\r\n        this.code = BpmnModelJsonHelper.GetAttributeValueAsString(obj, \"code\");\r\n        this.name = BpmnModelJsonHelper.GetAttributeValueAsString(obj, \"name\");\r\n        this.upBillVoName = BpmnModelJsonHelper.GetAttributeValueAsString(obj, \"upBillVoName\");\r\n        this.downBillVoName = BpmnModelJsonHelper.GetAttributeValueAsString(obj, \"downBillVoName\");\r\n        this.parentId = BpmnModelJsonHelper.GetAttributeValueAsString(obj, \"parentId\");\r\n        this.bifMetadataType = BifMetadataType[BpmnModelJsonHelper.GetAttributeValueAsString(obj, \"bifMetadataType\")];\r\n        this.lastModifiedTime = BpmnModelJsonHelper.GetAttributeValueAsDateTime(obj, \"lastModifiedTime\");\r\n        this.sysInit = BpmnModelJsonHelper.GetAttributeValueAsBoolean(obj, \"sysInit\");\r\n        this.originId = BpmnModelJsonHelper.GetAttributeValueAsString(obj, \"originId\");\r\n        this.rootId = BpmnModelJsonHelper.GetAttributeValueAsString(obj, \"rootId\");\r\n    }\r\n}","import { BpmnModelJsonHelper } from '@edp-bif/common-api';\r\nimport { IRtShowEntity } from './IRtShowEntity';\r\nimport { AbstractShowEntity } from './AbstractShowEntity';\r\n\r\nexport class RtShowEntity extends AbstractShowEntity implements IRtShowEntity {\r\n    isEnabled: boolean;\r\n\r\n    protected ResetBeforeLoadFrom(): void {\r\n        super.ResetBeforeLoadFrom();\r\n\r\n        this.isEnabled = false;\r\n    }\r\n\r\n    public ConvertToJsonObject(): {} {\r\n        let obj = super.ConvertToJsonObject();\r\n\r\n        BpmnModelJsonHelper.SetAttributeValue(obj, \"isEnabled\", this.isEnabled);\r\n\r\n        return obj;\r\n    }\r\n\r\n    public LoadFromJsonObject(obj: {}): void {\r\n        super.LoadFromJsonObject(obj);\r\n\r\n        this.isEnabled = BpmnModelJsonHelper.GetAttributeValueAsBoolean(obj, \"isEnabled\");\r\n    }\r\n}","import { BpmnModelJsonHelper } from '@edp-bif/common-api';\r\nimport { RtShowEntity } from './RtShowEntity';\r\n\r\nexport class RtShowEntitiesWithCustomization extends RtShowEntity {\r\n    isEnabled: boolean;\r\n    customizationEntities: Array<RtShowEntitiesWithCustomization> = new Array();\r\n\r\n    protected ResetBeforeLoadFrom(): void {\r\n        super.ResetBeforeLoadFrom();\r\n\r\n        this.isEnabled = false;\r\n        this.customizationEntities.length = 0;\r\n    }\r\n\r\n    public ConvertToJsonObject(): {} {\r\n        let obj = super.ConvertToJsonObject();\r\n\r\n        BpmnModelJsonHelper.SetAttributeValue(obj, \"isEnabled\", this.isEnabled);\r\n        BpmnModelJsonHelper.SetAttributeValue(obj, \"customizationEntities\", this.customizationEntities);\r\n\r\n        return obj;\r\n    }\r\n\r\n    public LoadFromJsonObject(obj: {}): void {\r\n        super.LoadFromJsonObject(obj);\r\n\r\n        this.isEnabled = BpmnModelJsonHelper.GetAttributeValueAsBoolean(obj, \"isEnabled\");\r\n        this.customizationEntities = BpmnModelJsonHelper.GetAttributeValueAsList(obj, \"customizationEntities\", RtShowEntitiesWithCustomization);\r\n    }\r\n\r\n    protected getTClass() {\r\n        return RtShowEntitiesWithCustomization;\r\n    }\r\n}","import { JsonConvertableImpl, BpmnModelJsonHelper } from '@edp-bif/common-api';\r\nimport { RtShowEntitiesWithCustomization } from './RtShowEntitiesWithCustomization';\r\n\r\nexport class RtBillProcessListResult extends JsonConvertableImpl {\r\n    totalCount: number;\r\n    pageCount: number;\r\n    pageIndex: number;\r\n    pageSize: number;\r\n\r\n    entities: Array<RtShowEntitiesWithCustomization> = new Array();\r\n\r\n    protected ResetBeforeLoadFrom(): void {\r\n        super.ResetBeforeLoadFrom();\r\n\r\n        this.totalCount = 0;\r\n        this.pageCount = 0;\r\n        this.pageIndex = 0;\r\n        this.pageSize = 0;\r\n        this.entities.length = 0;\r\n    }\r\n\r\n    public ConvertToJsonObject(): {} {\r\n        let obj = super.ConvertToJsonObject();\r\n\r\n        BpmnModelJsonHelper.SetAttributeValue(obj, \"totalCount\", this.totalCount);\r\n        BpmnModelJsonHelper.SetAttributeValue(obj, \"pageCount\", this.pageCount);\r\n        BpmnModelJsonHelper.SetAttributeValue(obj, \"pageIndex\", this.pageIndex);\r\n        BpmnModelJsonHelper.SetAttributeValue(obj, \"pageSize\", this.pageSize);\r\n        BpmnModelJsonHelper.SetAttributeValue(obj, \"entities\", this.entities);\r\n\r\n        return obj;\r\n    }\r\n\r\n    public LoadFromJsonObject(obj: {}): void {\r\n        super.LoadFromJsonObject(obj);\r\n\r\n        this.totalCount = BpmnModelJsonHelper.GetAttributeValueAsNumber(obj, \"totalCount\");\r\n        this.pageCount = BpmnModelJsonHelper.GetAttributeValueAsNumber(obj, \"pageCount\");\r\n        this.pageIndex = BpmnModelJsonHelper.GetAttributeValueAsNumber(obj, \"pageIndex\");\r\n        this.pageSize = BpmnModelJsonHelper.GetAttributeValueAsNumber(obj, \"pageSize\");\r\n        this.entities = BpmnModelJsonHelper.GetAttributeValueAsList(obj, \"entities\", RtShowEntitiesWithCustomization);\r\n    }\r\n}","import { Injectable } from '@angular/core';\r\nimport { HttpService } from '@ecp-caf/caf-common';\r\nimport { Observable } from 'rxjs';\r\nimport { map } from 'rxjs/operators';\r\nimport { AppOptions, FrameworkService, AppService } from '@gsp-sys/rtf-common';\r\nimport { IRtShowEntity } from '../entity/IRtShowEntity';\r\nimport { BifMonitorConstant } from '../entity/BifMonitorConstant';\r\nimport { ProcessFilterConditionArgs } from '../entity/ProcessFilterConditionArgs';\r\nimport { RtBillProcessListResult } from '../entity/RtBillProcessListResult';\r\nimport { RtShowEntity } from '../entity/RtShowEntity';\r\n\r\n@Injectable()\r\nexport class ProcessListHelpService {\r\n  private readonly baseUrl = \"/api/runtime/aif/v1.0/rtbillprocess\";\r\n\r\n  constructor(\r\n    private appService: AppService,\r\n    private frameworkService: FrameworkService,\r\n    private httpService: HttpService,\r\n  ) {\r\n  }\r\n\r\n  public openBifManagerApp(entity: IRtShowEntity) {\r\n    const map = new Map();\r\n    map.set(\"id\", entity.id);\r\n    map.set(\"type\", entity.bifMetadataType);\r\n    map.set(\"srcFuncId\", BifMonitorConstant.bifDiagnostorFuncId);\r\n    const opt: AppOptions = {\r\n      funcId: BifMonitorConstant.bifManagerFuncId,\r\n      appId: BifMonitorConstant.bifMonitorAppId,\r\n      appEntrance: BifMonitorConstant.bifManagerAppEntrance,\r\n      appType: \"menu\",\r\n      entityParams: {},\r\n      queryStringParams: map,\r\n      tabId: entity.id,\r\n      tabName: entity.name\r\n    };\r\n    this.frameworkService.openMenu(opt);\r\n  }\r\n\r\n  public getDatagridData(args: ProcessFilterConditionArgs): Observable<RtBillProcessListResult> {\r\n    const body = args.ConvertToJson();\r\n    let data$: Observable<any> = null;\r\n    //有业务种类参数时不分页\r\n    if (args.bizType != null) {\r\n      data$ = this.httpService.post(`${this.baseUrl}/getpatch`, body);\r\n      return data$.pipe(\r\n        map(\r\n          (res: any) => {\r\n            const listRes = new RtBillProcessListResult();\r\n            listRes.entities = res.map(elt => {\r\n              const e = new RtShowEntity();\r\n              e.LoadFromJsonObject(elt);\r\n              return e;\r\n            });\r\n            return listRes;\r\n          }\r\n        )\r\n      );\r\n    } else {\r\n      data$ = this.httpService.post(`${this.baseUrl}/getpagedpatch`, body);\r\n      return data$.pipe(\r\n        map(\r\n          (res: any) => {\r\n            const listRes = new RtBillProcessListResult();\r\n            listRes.LoadFromJsonObject(res);\r\n            return listRes;\r\n          }\r\n        )\r\n      );\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 根据流程编号查询流程名称\r\n   * @param code\r\n   * @returns\r\n   */\r\n  public getProcessNameByCode(code: string): Observable<any> {\r\n    return this.httpService.request(\"GET\", `/api/runtime/aif/v1.0/rtbillcreationprocess/getname/${code}`, { responseType: 'text' });\r\n  }\r\n}\r\n","import { BpmnModelJsonHelper, JsonConvertableImpl, TextValue } from '@edp-bif/common-api';\r\n\r\nexport class ProcessFilterConditionArgs extends JsonConvertableImpl {\r\n    name: TextValue;\r\n    upBillVoId: TextValue;\r\n    downBillVoId: TextValue;\r\n    isEnabled: TextValue;\r\n    billProcessType: TextValue;\r\n    sysInit: TextValue;\r\n    bizType: TextValue;\r\n    orderByCode: TextValue;\r\n    orderByName: TextValue;\r\n    OrderByLastModifiedTime: TextValue;\r\n    pageSize: number;\r\n    pageIndex: number;\r\n\r\n    protected ResetBeforeLoadFrom(): void {\r\n        super.ResetBeforeLoadFrom();\r\n\r\n        this.name = null;\r\n        this.upBillVoId = null;\r\n        this.downBillVoId = null;\r\n        this.isEnabled = null;\r\n        this.billProcessType = null;\r\n        this.sysInit = null;\r\n        this.bizType = null;\r\n        this.orderByCode = null;\r\n        this.orderByName = null;\r\n        this.OrderByLastModifiedTime = null;\r\n        this.pageSize = 0;\r\n        this.pageIndex = 0;\r\n    }\r\n\r\n    public ConvertToJsonObject(): {} {\r\n        let obj = super.ConvertToJsonObject();\r\n\r\n        BpmnModelJsonHelper.SetAttributeValue(obj, \"name\", this.name);\r\n        BpmnModelJsonHelper.SetAttributeValue(obj, \"upBillVoId\", this.upBillVoId);\r\n        BpmnModelJsonHelper.SetAttributeValue(obj, \"downBillVoId\", this.downBillVoId);\r\n        BpmnModelJsonHelper.SetAttributeValue(obj, \"isEnabled\", this.isEnabled);\r\n        BpmnModelJsonHelper.SetAttributeValue(obj, \"billProcessType\", this.billProcessType);\r\n        BpmnModelJsonHelper.SetAttributeValue(obj, \"sysInit\", this.sysInit);\r\n        BpmnModelJsonHelper.SetAttributeValue(obj, \"bizType\", this.bizType);\r\n        BpmnModelJsonHelper.SetAttributeValue(obj, \"orderByCode\", this.orderByCode);\r\n        BpmnModelJsonHelper.SetAttributeValue(obj, \"orderByName\", this.orderByName);\r\n        BpmnModelJsonHelper.SetAttributeValue(obj, \"OrderByLastModifiedTime\", this.OrderByLastModifiedTime);\r\n        BpmnModelJsonHelper.SetAttributeValue(obj, \"pageSize\", this.pageSize);\r\n        BpmnModelJsonHelper.SetAttributeValue(obj, \"pageIndex\", this.pageIndex);\r\n\r\n        return obj;\r\n    }\r\n\r\n    public LoadFromJsonObject(obj: {}): void {\r\n        super.LoadFromJsonObject(obj);\r\n\r\n        this.name = BpmnModelJsonHelper.GetAttributeValueAsJsonSerializable(obj, \"name\", TextValue);\r\n        this.upBillVoId = BpmnModelJsonHelper.GetAttributeValueAsJsonSerializable(obj, \"upBillVoId\", TextValue);\r\n        this.downBillVoId = BpmnModelJsonHelper.GetAttributeValueAsJsonSerializable(obj, \"downBillVoId\", TextValue);\r\n        this.isEnabled = BpmnModelJsonHelper.GetAttributeValueAsJsonSerializable(obj, \"isEnabled\", TextValue);\r\n        this.billProcessType = BpmnModelJsonHelper.GetAttributeValueAsJsonSerializable(obj, \"billProcessType\", TextValue);\r\n        this.sysInit = BpmnModelJsonHelper.GetAttributeValueAsJsonSerializable(obj, \"sysInit\", TextValue);\r\n        this.bizType = BpmnModelJsonHelper.GetAttributeValueAsJsonSerializable(obj, \"bizType\", TextValue);\r\n        this.orderByCode = BpmnModelJsonHelper.GetAttributeValueAsJsonSerializable(obj, \"orderByCode\", TextValue);\r\n        this.orderByName = BpmnModelJsonHelper.GetAttributeValueAsJsonSerializable(obj, \"orderByName\", TextValue);\r\n        this.OrderByLastModifiedTime = BpmnModelJsonHelper.GetAttributeValueAsJsonSerializable(obj, \"OrderByLastModifiedTime\", TextValue);\r\n        this.pageSize = BpmnModelJsonHelper.GetAttributeValueAsNumber(obj, \"pageSize\");\r\n        this.pageIndex = BpmnModelJsonHelper.GetAttributeValueAsNumber(obj, \"pageIndex\");\r\n    }\r\n}\r\n","export enum OrderByDirection {\r\n    Asc = \"Asc\",\r\n    Desc = \"Desc\",\r\n}","export const AIF_PROCESS_LIST_HELP_LANG_RESOURCES = {\r\n  \"zh-CHS\": {\r\n    \"code\": \"编号\",\r\n    \"name\": \"名称\",\r\n    \"lastModifiedTime\": \"最后修改时间\",\r\n    \"upBill\": \"上游单据\",\r\n    \"downBill\": \"下游单据\",\r\n    \"processName\": \"流程名称\",\r\n    \"processType\": \"流程类型\",\r\n    \"creation\": \"生单\",\r\n    \"writeback\": \"回写\",\r\n    \"enabledState\": \"启用状态\",\r\n    \"sysInit\": \"系统预置\",\r\n    \"filter\": \"筛选\",\r\n    \"all\": \"全部\",\r\n    \"enabled\": \"已启用\",\r\n    \"disabled\": \"已禁用\",\r\n    \"yes\": \"是\",\r\n    \"no\": \"否\",\r\n    \"billSelector\": \"单据选择\",\r\n    \"querySolution\": \"筛选方案\",\r\n    \"collapse\": \"收起\",\r\n    \"expand\": \"展开\",\r\n    \"loading\": \"加载中\",\r\n    \"pleaseSelectNonVirtualVO\": \"请选择非虚拟VO\",\r\n    \"pleaseSelectOneItemOnly\": \"请选中一条数据\",\r\n    \"isExtendProcess\": \"扩展流程\",\r\n    \"creationProcess\": \"生单流程\",\r\n    \"clickCancel\": \"取消\",\r\n    \"clickOk\": \"确定\",\r\n    \"set\": \"（已设置）\",\r\n    \"notSet\": \"（未设置）\",\r\n    \"setProcess\": \"已设置：\",\r\n  },\r\n  \"en\": {\r\n    \"code\": \"Code\",\r\n    \"name\": \"Name\",\r\n    \"lastModifiedTime\": \"Last Modified Time\",\r\n    \"upBill\": \"Upstream Bill\",\r\n    \"downBill\": \"Downstream Bill\",\r\n    \"processName\": \"Process Name\",\r\n    \"processType\": \"Process Type\",\r\n    \"creation\": \"Creation\",\r\n    \"writeback\": \"Writeback\",\r\n    \"enabledState\": \"Enabled State\",\r\n    \"sysInit\": \"System Init\",\r\n    \"filter\": \"Filter\",\r\n    \"all\": \"All\",\r\n    \"enabled\": \"Enabled\",\r\n    \"disabled\": \"Disabled\",\r\n    \"yes\": \"Yes\",\r\n    \"no\": \"No\",\r\n    \"billSelector\": \"Bill Selector\",\r\n    \"querySolution\": \"Query Solution\",\r\n    \"collapse\": \"Collapse\",\r\n    \"expand\": \"Expand\",\r\n    \"loading\": \"Loading...\",\r\n    \"pleaseSelectNonVirtualVO\": \"Please select non-virtual VO\",\r\n    \"pleaseSelectOneItemOnly\": \"Please select only one item\",\r\n    \"isExtendProcess\": \"Extend Process\",\r\n    \"creationProcess\": \"Rreation Process\",\r\n    \"clickCancel\": \"Cancel\",\r\n    \"clickOk\": \"Ok\",\r\n    \"set\": \"(Set)\",\r\n    \"notSet\": \"(Not set)\",\r\n    \"setProcess\": \"Set: \",\r\n  },\r\n  \"zh-CHT\": {\r\n    \"code\": \"編號\",\r\n    \"name\": \"名稱\",\r\n    \"lastModifiedTime\": \"最後修改時間\",\r\n    \"upBill\": \"上遊單據\",\r\n    \"downBill\": \"下遊單據\",\r\n    \"processName\": \"流程名稱\",\r\n    \"processType\": \"流程類型\",\r\n    \"creation\": \"生單\",\r\n    \"writeback\": \"回寫\",\r\n    \"enabledState\": \"啟用狀態\",\r\n    \"sysInit\": \"系統預置\",\r\n    \"filter\": \"篩選\",\r\n    \"all\": \"全部\",\r\n    \"enabled\": \"已啟用\",\r\n    \"disabled\": \"已禁用\",\r\n    \"yes\": \"是\",\r\n    \"no\": \"否\",\r\n    \"billSelector\": \"單據選擇\",\r\n    \"querySolution\": \"篩選方案\",\r\n    \"collapse\": \"收起\",\r\n    \"expand\": \"展開\",\r\n    \"loading\": \"加載中\",\r\n    \"pleaseSelectNonVirtualVO\": \"請選擇非虛擬VO\",\r\n    \"pleaseSelectOneItemOnly\": \"請選中壹條數據\",\r\n    \"isExtendProcess\": \"擴展流程\",\r\n    \"creationProcess\": \"生單流程\",\r\n    \"clickCancel\": \"取消\",\r\n    \"clickOk\": \"確定\",\r\n    \"set\": \"（已設置）\",\r\n    \"notSet\": \"（未設置）\",\r\n    \"setProcess\": \"已設置：\",\r\n  }\r\n};\r\n","import { Component, OnInit, ViewChild, TemplateRef, EventEmitter, Inject, LOCALE_ID, Output, Input } from '@angular/core';\r\nimport { FarrisSectionComponent } from '@farris/ui-section';\r\nimport { ProcessListHelpService } from '../../services/process-list-help.service';\r\nimport { MessagerService } from '@farris/ui-messager';\r\nimport { NotifyService } from '@farris/ui-notify';\r\nimport { BsModalService, BsModalRef } from '@farris/ui-modal';\r\nimport { FrameworkService } from '@gsp-sys/rtf-common';\r\nimport { Router, ActivatedRoute } from '@angular/router';\r\nimport { LoadingService } from '@farris/ui-loading';\r\nimport { Observable, of } from 'rxjs';\r\nimport { switchMap, catchError } from 'rxjs/operators';\r\nimport { IRtProcQueryParam } from '../../entity/IProcQueryParam';\r\nimport { BifMetadataType } from '../../entity/BifMetadataType';\r\nimport { ProcessFilterConditionArgs } from '../../entity/ProcessFilterConditionArgs';\r\nimport { TextValue } from '@edp-bif/common-api';\r\nimport { OrderByDirection } from '../../entity/OrderByDirection';\r\nimport { DatagridComponent } from '@farris/ui-datagrid';\r\nimport { RtBillProcessListResult } from '../../entity/RtBillProcessListResult';\r\nimport { AifLocalePipe, BIF_LANG_RESOURCES } from '../../../aif-ui-common/pipe/aif-ui-common-locale.pipe';\r\nimport { AIF_PROCESS_LIST_HELP_LANG_RESOURCES } from '../../i18n/lang.resource';\r\n\r\n@Component({\r\n  selector: 'app-process-list-help',\r\n  templateUrl: './process-list-help.component.html',\r\n  styleUrls: ['./process-list-help.component.css'],\r\n  providers: [\r\n    { provide: BIF_LANG_RESOURCES, useValue: AIF_PROCESS_LIST_HELP_LANG_RESOURCES },\r\n    AifLocalePipe,\r\n  ]\r\n})\r\nexport class ProcessListHelpComponent implements OnInit {\r\n  @Output() closeModal = new EventEmitter<any>();\r\n  @Output() submitModal = new EventEmitter<any>();\r\n\r\n  @Input()\r\n  set value(data: any) {\r\n    if (data) {\r\n      this.processCode = data;\r\n      this.setProcess.code = this.processCode;\r\n      this.setProcess.showText = this.processCode;\r\n    }\r\n  }\r\n\r\n  @Input() editorParams: {\r\n    bizTypeId?: string\r\n  } = {};\r\n\r\n  private processCode: string;\r\n  modalConfig = {\r\n    title: this.localePipe.transform(\"creationProcess\"),\r\n    width: 1250,\r\n    height: 500,\r\n    showButtons: true\r\n  };\r\n\r\n  procEmitter = new EventEmitter<any>();\r\n  queryParam: IRtProcQueryParam;\r\n\r\n  @ViewChild(\"tt\")\r\n  tt: DatagridComponent;\r\n  ttIdField: string = \"id\";\r\n  ttData: any[] = [];\r\n  ttColumns: any[] = [];\r\n  cascadeCheck = false;\r\n  cascadeDown = false;\r\n  cascadeUp = false;\r\n  @ViewChild('nameCellTemp')\r\n  nameCellTemp: TemplateRef<any>;\r\n\r\n  @ViewChild('iconSelectFooter')\r\n  modalFooter: TemplateRef<any>;\r\n\r\n  modalRef: BsModalRef;\r\n\r\n  readonly defaultPageSize: number = 30;\r\n  pageList = [this.defaultPageSize, 50, 100, 200, 500];\r\n\r\n  /**\r\n   * 已设置流程\r\n   */\r\n  setProcess: {\r\n    code?: string;\r\n    name?: string;\r\n    showText?: string;\r\n  } = {\r\n      showText: \"\"\r\n    };\r\n\r\n  constructor(\r\n    private procHelpService: ProcessListHelpService,\r\n    private messager: MessagerService,\r\n    private notify: NotifyService,\r\n    private modalService: BsModalService,\r\n    private frameworkService: FrameworkService,\r\n    private router: Router,\r\n    private activatedRoute: ActivatedRoute,\r\n    private loading: LoadingService,\r\n    @Inject(LOCALE_ID) localeId: string,\r\n    private localePipe: AifLocalePipe,\r\n  ) {\r\n    this.queryParam = this.createDefaultQueryParam();\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.configTtColumns();\r\n    // if (this.editorParams && this.editorParams.bizTypeId) {\r\n    //   this.queryParam.filterArgs.bizType = new TextValue();\r\n    //   this.queryParam.filterArgs.bizType.value = this.editorParams.bizTypeId;\r\n    //   this.queryParam.filterArgs.bizType.hasValue = true;\r\n    // }\r\n    if (this.processCode != null) {\r\n      this.procHelpService.getProcessNameByCode(this.processCode).subscribe(\r\n        (processName) => {\r\n          this.setProcess.name = processName;\r\n          if (this.setProcess.name) {\r\n            this.setProcess.showText = `${this.setProcess.name}(${this.setProcess.code})`;\r\n          } else {\r\n            this.setProcess.showText = this.setProcess.code;\r\n          }\r\n        }\r\n      );\r\n    }\r\n    this.loadItems(this.queryParam.filterArgs).subscribe(() => {\r\n      setTimeout(() => {\r\n        if (this.ttData && this.ttData.length > 0) {\r\n          const proc = this.processCode != null ? this.ttData.find((it) => it.code == this.processCode) : this.ttData[0];\r\n          proc && this.tt.selectRow(proc.id);\r\n        }\r\n      }, 300);\r\n    });\r\n  }\r\n\r\n  clickOk(evt?) {\r\n    if (this.tt.selectedRow == null) {\r\n      this.notify.warning(this.localePipe.transform(\"pleaseSelectOneItemOnly\"));\r\n      return;\r\n    }\r\n    this.procEmitter.emit(this.tt.selectedRow.data);\r\n    const object = { value: this.tt.selectedRow.data.code, parameters: null };\r\n    this.submitModal.emit(object);\r\n    this.modalRef && this.modalRef.close();\r\n  }\r\n\r\n  clickCancel(evt?) {\r\n    this.procEmitter.complete();\r\n    this.closeModal.emit();\r\n    this.modalRef && this.modalRef.close();\r\n  }\r\n\r\n  onSearch(param: any) {\r\n    this.queryParam = param;\r\n    console.log(this.queryParam);\r\n    this.loadItems(this.queryParam.filterArgs).subscribe(\r\n      () => {\r\n        this.tt.clearCheckeds();\r\n        this.tt.clearSelections();\r\n      }\r\n    );\r\n  }\r\n\r\n  clickNameCell(ctx) {\r\n    this.procHelpService.openBifManagerApp(ctx.rowData);\r\n  }\r\n\r\n  onPageSizeChanged($event: { pageIndex: number, pageSize: number }) {\r\n    // console.log('PageSize Changed:', $event);\r\n    let checkedIds = this.tt.checkeds.map(r => r.data.id);\r\n\r\n    this.queryParam.filterArgs.pageSize = $event.pageSize;\r\n    this.loadItems(this.queryParam.filterArgs).subscribe(\r\n      () => {\r\n        setTimeout(() => {\r\n          this.tt.checkRows(checkedIds, true);\r\n          this.tt.refresh();\r\n        }, 0);\r\n      }\r\n    );\r\n  }\r\n\r\n  onPageChanged($event: { pageIndex: number, pageSize: number }) {\r\n    // console.log('PageNumber Changed:', $event);\r\n    let checkedIds = this.tt.checkeds.map(r => r.data.id);\r\n\r\n    this.queryParam.filterArgs.pageIndex = $event.pageIndex - 1;\r\n    this.queryParam.filterArgs.pageSize = $event.pageSize;\r\n    this.loadItems(this.queryParam.filterArgs).subscribe(\r\n      () => {\r\n        setTimeout(() => {\r\n          this.tt.checkRows(checkedIds, true);\r\n          this.tt.refresh();\r\n        }, 0);\r\n      }\r\n    );\r\n  }\r\n\r\n  pageChangeHandler(pageInfo: { pageIndex: number, pageSize: number }) {\r\n    let checkedIds = this.tt.checkeds.map(r => r.data.id);\r\n\r\n    this.queryParam.filterArgs.pageIndex = pageInfo.pageIndex - 1;\r\n    this.queryParam.filterArgs.pageSize = pageInfo.pageSize;\r\n    this.loadItems(this.queryParam.filterArgs).subscribe(\r\n      () => {\r\n        setTimeout(() => {\r\n          this.tt.checkRows(checkedIds, true);\r\n          this.tt.refresh();\r\n        }, 0);\r\n      }\r\n    );\r\n  }\r\n\r\n  pageSizeChangeHandler(size: number) {\r\n    let checkedIds = this.tt.checkeds.map(r => r.data.id);\r\n\r\n    this.queryParam.filterArgs.pageSize = size;\r\n    this.loadItems(this.queryParam.filterArgs).subscribe(\r\n      () => {\r\n        setTimeout(() => {\r\n          this.tt.checkRows(checkedIds, true);\r\n          this.tt.refresh();\r\n        }, 0);\r\n      }\r\n    );\r\n  }\r\n\r\n  removeSetProcess() {\r\n\r\n  }\r\n\r\n  private loadItems(args: ProcessFilterConditionArgs): Observable<any> {\r\n    const loadingComp = this.loading.show({ message: this.localePipe.transform(\"loading\") });\r\n    return this.procHelpService.getDatagridData(args).pipe(\r\n      switchMap(\r\n        (listRes: RtBillProcessListResult) => {\r\n          this.ttData = [...listRes.entities];\r\n          //更新分页信息\r\n          this.tt.setPageIndex(listRes.pageIndex + 1);\r\n          this.tt.total = listRes.totalCount;\r\n          this.tt.pageSize = listRes.pageSize;\r\n          // this.page.setCurrentPage(this.paginationId, listRes.pageIndex + 1);\r\n          // this.page.setItemsPerPage(this.paginationId, listRes.pageSize);\r\n          // this.page.setTotalItems(this.paginationId, listRes.totalCount);\r\n\r\n          loadingComp.close();\r\n          return of(listRes);\r\n        }\r\n      ),\r\n      catchError(\r\n        (err) => {\r\n          loadingComp.close();\r\n          setTimeout(() => {\r\n            //todo 确定异常结构, 目前采用兼容取值方式\r\n            this.messager.error(err.error == null ? err.message : (err.error.Message || err.error.message || err.message));\r\n          }, 300);\r\n          throw err;\r\n        }\r\n      )\r\n    );\r\n  }\r\n\r\n  private configTtColumns() {\r\n    this.ttColumns = [\r\n      // {\r\n      //   field: \"isEnabled\", title: this.localePipe.transform(\"enabledState\"), width: 100, sortable: false,\r\n      //   formatter: (value: boolean, rowData, rowIndex) => {\r\n      //     if (value == true) {\r\n      //       return this.localePipe.transform(\"enabled\");\r\n      //     } else if (value == false) {\r\n      //       return this.localePipe.transform(\"disabled\");\r\n      //     } else {\r\n      //       return \"-\";\r\n      //     }\r\n      //   }\r\n      // },\r\n      { field: \"code\", title: this.localePipe.transform(\"code\"), width: 120, sortable: true },\r\n      {\r\n        field: \"name\", title: this.localePipe.transform(\"name\"), width: 250, sortable: true,\r\n        template: this.nameCellTemp,\r\n      },\r\n      { field: \"upBillVoName\", title: this.localePipe.transform(\"upBill\"), width: 120, sortable: true },\r\n      { field: \"downBillVoName\", title: this.localePipe.transform(\"downBill\"), width: 120, sortable: true },\r\n      // {\r\n      //   field: \"bifMetadataType\", title: this.localePipe.transform(\"processType\"), width: 120, sortable: false,\r\n      //   formatter: (value: BifMetadataType, rowData, rowIndex) => {\r\n      //     if (value == BifMetadataType.BifCreationProcess) {\r\n      //       return this.localePipe.transform(\"creation\");\r\n      //     } else if (value == BifMetadataType.BifWritebackProcess) {\r\n      //       return this.localePipe.transform(\"writeback\");\r\n      //     } else {\r\n      //       return \"-\";\r\n      //     }\r\n      //   }\r\n      // },\r\n      {\r\n        field: \"sysInit\", title: this.localePipe.transform(\"sysInit\"), width: 80, sortable: false,\r\n        formatter: (value: boolean, rowData, rowIndex) => {\r\n          if (value == true) {\r\n            return this.localePipe.transform(\"yes\");\r\n          } else if (value == false) {\r\n            return this.localePipe.transform(\"no\");\r\n          } else {\r\n            return \"-\";\r\n          }\r\n        }\r\n      },\r\n      // {\r\n      //   field: null, title: this.localePipe.transform(\"isExtendProcess\"), width: 80, sortable: false,\r\n      //   formatter: (value: boolean, rowData, rowIndex) => {\r\n      //     if (rowData.parentId == null) {\r\n      //       return this.localePipe.transform(\"no\");\r\n      //     } else {\r\n      //       return this.localePipe.transform(\"yes\");\r\n      //     }\r\n      //   }\r\n      // },\r\n      // { field: \"businessType\", title: this.translateService.instant(\"businessType\"), width: 120 },\r\n      // { field: \"creator\", title: this.translateService.instant(\"creator\"), width: 120 },\r\n      // { field: \"createdTime\", title: this.translateService.instant(\"createdTime\"), width: 120 },\r\n      // { field: \"lastModifier\", title: this.translateService.instant(\"lastModifier\"), width: 120 },\r\n      // {\r\n      //   field: \"lastModifiedTime\", title: this.localePipe.transform(\"lastModifiedTime\"), width: 120, sortable: true,\r\n      //   formatter: {\r\n      //     type: 'datetime',\r\n      //     options: {\r\n      //       format: 'YYYY-MM-DD HH:mm:ss'\r\n      //     }\r\n      //   },\r\n      // },\r\n    ];\r\n  }\r\n\r\n  private createDefaultQueryParam() {\r\n    const queryParam = {\r\n      filterArgs: new ProcessFilterConditionArgs(),\r\n      filterArgsExt: {}\r\n    };\r\n\r\n    queryParam.filterArgs.pageSize = this.defaultPageSize;\r\n    queryParam.filterArgs.pageIndex = 0;\r\n    queryParam.filterArgs.OrderByLastModifiedTime = new TextValue();\r\n    queryParam.filterArgs.OrderByLastModifiedTime.value = OrderByDirection.Desc;\r\n    queryParam.filterArgs.OrderByLastModifiedTime.hasValue = true;\r\n    queryParam.filterArgs.billProcessType = new TextValue();\r\n    queryParam.filterArgs.billProcessType.value = BifMetadataType.BifCreationProcess;\r\n    queryParam.filterArgs.billProcessType.hasValue = true;\r\n    queryParam.filterArgs.isEnabled = new TextValue();\r\n    queryParam.filterArgs.isEnabled.value = \"true\";\r\n    queryParam.filterArgs.isEnabled.hasValue = true;\r\n\r\n\r\n    return queryParam;\r\n  }\r\n}\r\n","import { Component, OnInit, HostBinding, Input, Output, EventEmitter, ViewChild, TemplateRef, ComponentFactoryResolver, Injector, Optional, ChangeDetectorRef, Inject, LOCALE_ID } from '@angular/core';\r\nimport { TypeConverter } from '@farris/ide-property-panel';\r\nimport { CallActivitySubProcess } from '../call-activity-sub-process/call-activity-sub-process.entity';\r\nimport { MessagerService } from '@farris/ui-messager';\r\nimport { ProcessDeUtil } from '../../domain/process-de-util';\r\nimport { HttpService } from '@ecp-caf/caf-common';\r\nimport { Observable } from 'rxjs';\r\nimport { ProcessDesignerUIState } from '../../app/process-designer.uistate';\r\nimport { ExpressionService, InjectedType, VarEntity } from '@gsp-svc/expression';\r\nimport { ComboListComponent } from '@farris/ui-combo-list';\r\nimport { FarrisRadioGroupComponent } from '@farris/ui-forms';\r\nimport { IRtShowEntity } from '../../views/aif-process-list-help/entity/IRtShowEntity';\r\nimport { ProcessListHelpComponent } from '../../views/aif-process-list-help/components/process-list-help/process-list-help.component';\r\nimport { NotifyService } from '@farris/ui-notify';\r\nimport { BsModalService } from '@farris/ui-modal';\r\nimport { SubProcessType } from '../call-activity-sub-process/SubProcessType';\r\nimport { BillSourceType } from '../call-activity-sub-process/BillSourceType';\r\nimport { WF_LANG_RESOURCES, WfLocalePipe } from '../../i18n/pipe/wf-process-editor-locale.pipe';\r\nimport { WF_PROCESS_EDITOR_LANG_RESOURCES } from '../../i18n/assets/lang.resource';\r\n\r\n@Component({\r\n  selector: 'lib-call-activity-sub-process2',\r\n  templateUrl: './call-activity-sub-process2.component.html',\r\n  providers: [\r\n     WfLocalePipe,\r\n  ]\r\n})\r\nexport class CallActivitySubProcess2Component implements OnInit {\r\n  @HostBinding('class')\r\n  cls = 'farris-main-area flex-column';\r\n\r\n  @Input() editorParams: {\r\n    bizTypeId?: string\r\n  } = {};\r\n\r\n  @Input() set value(v: CallActivitySubProcess) {\r\n    if (v) {\r\n      this.callActivitySubProcess = v;\r\n      // 为子流程类型赋值\r\n      if (this.callActivitySubProcess.calledElement == null || this.callActivitySubProcess.calledElement == \"\") {\r\n        if (this.callActivitySubProcess.calledBizDefKey == null || this.callActivitySubProcess.calledBizDefKey == \"\") {\r\n          this.callActivitySubProcess.subProcessType = SubProcessType.Specified;\r\n        } else {\r\n          this.callActivitySubProcess.subProcessType = SubProcessType.Dynamic;\r\n        }\r\n      } else {\r\n        this.callActivitySubProcess.subProcessType = SubProcessType.Specified;\r\n      }\r\n      // 为单据来源类型赋值\r\n      if (this.callActivitySubProcess.inheritBizDataId === true) {\r\n        this.callActivitySubProcess.billSourceType = BillSourceType.InheritParent;\r\n      } else if (this.callActivitySubProcess.inheritBizDataId === false && this.callActivitySubProcess.useAutoCreationData === false) {\r\n        this.callActivitySubProcess.billSourceType = BillSourceType.VariablesExpression;\r\n      } else if (this.callActivitySubProcess.inheritBizDataId === false && this.callActivitySubProcess.useAutoCreationData === true) {\r\n        this.callActivitySubProcess.billSourceType = BillSourceType.AutoCreation;\r\n      }\r\n      this.getProcessDefKey(this.callActivitySubProcess.calledElement);\r\n      this.getFlowForm(this.callActivitySubProcess.calledBizDefKey);\r\n      this.getAifProcessName(this.callActivitySubProcess.aifProcessCode);\r\n    }\r\n  }\r\n  @Output() closeModal = new EventEmitter<any>();\r\n  @Output() submitModal = new EventEmitter<any>();\r\n\r\n  @ViewChild('iconSelectFooter') modalFooter: TemplateRef<any>;\r\n  modalConfig = {\r\n    title: this.localePipe.transform('component.subProcess.subProcessSet'),\r\n    width: 600,\r\n    height: 342,\r\n    showButtons: true\r\n  };\r\n\r\n  callActivitySubProcess: CallActivitySubProcess = new CallActivitySubProcess();\r\n\r\n  groupIcon = '<i class=\"f-icon f-icon-lookup\"></i>';\r\n\r\n  readonly subProcessType = SubProcessType;\r\n  readonly billSourceType = BillSourceType;\r\n  // @ViewChild(\"comboProcessType\")\r\n  // comboProcessType: ComboListComponent;\r\n  // comboProcessTypeIdField = \"value\";\r\n  // comboProcessTypeValueField = \"value\";\r\n  // comboProcessTypeTextField = \"text\";\r\n  // comboProcessTypeData = [\r\n  //   { value: \"Specified\", text: \"指定子流程\" },\r\n  //   { value: \"Dynamic\", text: \"动态子流程\" },\r\n  // ];\r\n\r\n  // @ViewChild(\"comboBillSource\")\r\n  // comboBillSource: ComboListComponent;\r\n  // comboBillSourceIdField = \"value\";\r\n  // comboBillSourceValueField = \"value\";\r\n  // comboBillSourceTextField = \"text\";\r\n  // comboBillSourceData = [\r\n  //   { value: BillSourceType.InheritParent, text: '与父流程相同' },\r\n  //   { value: BillSourceType.AutoCreation, text: '自动生成下游单据' },\r\n  //   { value: BillSourceType.VariablesExpression, text: '变量表达式' },\r\n  // ];\r\n\r\n  @ViewChild(\"radioGroupProcessType\")\r\n  radioGroupProcessType: FarrisRadioGroupComponent;\r\n  radioGroupProcessTypeData = [\r\n    { value: \"Specified\", name: this.localePipe.transform('component.subProcess.specified') },\r\n    { value: \"Dynamic\", name: this.localePipe.transform('component.subProcess.dynamic') },\r\n  ];\r\n\r\n  @ViewChild(\"radioGroupBillSource\")\r\n  radioGroupBillSource: FarrisRadioGroupComponent;\r\n  radioGroupBillSourceData = [\r\n    { value: BillSourceType.InheritParent, name: this.localePipe.transform('component.subProcess.inheritParent') },\r\n    { value: BillSourceType.AutoCreation, name: this.localePipe.transform('component.subProcess.autoCreation') },\r\n    { value: BillSourceType.VariablesExpression, name: this.localePipe.transform('component.subProcess.variablesExpression') },\r\n  ];\r\n\r\n  constructor(\r\n    private notify: NotifyService,\r\n    private modalService: BsModalService,\r\n    private message: MessagerService,\r\n    private util: ProcessDeUtil,\r\n    private http: HttpService,\r\n    private designerState: ProcessDesignerUIState,\r\n    private expr: ExpressionService,\r\n    private cfr: ComponentFactoryResolver,\r\n    private inj: Injector,\r\n    @Optional() private cdr: ChangeDetectorRef,\r\n    @Inject(LOCALE_ID) private localeId: string,\r\n    @Inject(WF_LANG_RESOURCES) private resources: any,\r\n    @Optional() private localePipe: WfLocalePipe\r\n  ) {\r\n    this.localePipe = this.localePipe || new WfLocalePipe(localeId, resources);\r\n   }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n\r\n  clickOK() {\r\n    if (this.validator()) {\r\n      const object = { value: this.callActivitySubProcess, parameters: null };\r\n      this.submitModal.emit(object);\r\n    }\r\n  }\r\n\r\n  clickCancel() {\r\n    this.closeModal.emit();\r\n  }\r\n\r\n  processConfirm(args: any) {\r\n    if (args) {\r\n      this.callActivitySubProcess.calledElement = args.procDefKey;\r\n      this.callActivitySubProcess.calledElementName = args.name;\r\n    }\r\n  }\r\n\r\n  processTypeChange(val) {\r\n    console.log(val);\r\n    if (val == SubProcessType.Specified) {\r\n      this.callActivitySubProcess.calledBizDefKey = null;\r\n      this.callActivitySubProcess.calledBizDefName = null;\r\n    } else if (val == SubProcessType.Dynamic) {\r\n      this.callActivitySubProcess.calledElement = null;\r\n      this.callActivitySubProcess.calledElementName = null;\r\n    }\r\n  }\r\n\r\n  billSourceChange(val) {\r\n    console.log(val);\r\n    if (val == BillSourceType.InheritParent) {\r\n      this.callActivitySubProcess.inheritBizDataId = true;\r\n      this.callActivitySubProcess.useAutoCreationData = false;\r\n    } else if (val == BillSourceType.AutoCreation) {\r\n      this.callActivitySubProcess.inheritBizDataId = false;\r\n      this.callActivitySubProcess.useAutoCreationData = true;\r\n    } else if (val == BillSourceType.VariablesExpression) {\r\n      this.callActivitySubProcess.inheritBizDataId = false;\r\n      this.callActivitySubProcess.useAutoCreationData = false;\r\n    }\r\n  }\r\n\r\n  selectProcess() {\r\n    this.openProcHelp().subscribe(\r\n      (rte: IRtShowEntity) => {\r\n        if (rte == null) {\r\n          this.notify.warning(this.localePipe.transform('component.subProcess.rteNull'));\r\n          return;\r\n        }\r\n        this.callActivitySubProcess.aifProcessCode = rte.code;\r\n        this.callActivitySubProcess.aifProcessName = rte.name;\r\n      }\r\n    );\r\n  }\r\n\r\n  clearProcess() {\r\n    this.callActivitySubProcess.aifProcessCode = null;\r\n    this.callActivitySubProcess.aifProcessName = null;\r\n  }\r\n\r\n  openProcHelp() {\r\n    const cmpF = this.cfr.resolveComponentFactory(ProcessListHelpComponent);\r\n    const cmpR = cmpF.create(this.inj, []);\r\n    cmpR.instance.editorParams = this.editorParams;\r\n    const modalRef = this.modalService.show(cmpR, {\r\n      title: this.localePipe.transform('component.subProcess.orderProcess'),\r\n      width: 1250,\r\n      height: 500,\r\n      resizable: true,\r\n      buttons: [\r\n        {\r\n          text: this.localePipe.transform('component.subProcess.clickOk'),\r\n          cls: \"btn btn-primary\",\r\n          handle: (evt) => {\r\n            cmpR.instance.clickOk(evt);\r\n            modalRef.close();\r\n          }\r\n        },\r\n        {\r\n          text: this.localePipe.transform('component.subProcess.clickCancel'),\r\n          cls: \"btn btn-secondary\",\r\n          handle: (evt) => {\r\n            cmpR.instance.clickCancel(evt);\r\n            modalRef.close();\r\n          }\r\n        }\r\n      ],\r\n      closed: () => {\r\n        modalRef.dialog.destroy();\r\n      }\r\n    });\r\n    cmpR.instance.modalRef = modalRef;\r\n\r\n    return cmpR.instance.procEmitter.asObservable();\r\n  }\r\n\r\n  clearProcessDef(args: any) {\r\n    this.callActivitySubProcess.calledElement = '';\r\n    this.callActivitySubProcess.calledElementName = '';\r\n  }\r\n\r\n  flowFormConfirm(args: any) {\r\n    if (args) {\r\n      this.callActivitySubProcess.calledBizDefKey = args.id;\r\n      this.callActivitySubProcess.calledBizDefName = args.name;\r\n    }\r\n  }\r\n  clearFlowForm(args: any) {\r\n    this.callActivitySubProcess.calledBizDefKey = '';\r\n    this.callActivitySubProcess.calledBizDefName = '';\r\n  }\r\n\r\n  setBizDataId() {\r\n    this.showExprHelp();\r\n  }\r\n\r\n  private showExprHelp() {\r\n    let context = new Array<VarEntity>();\r\n    // if(this.expr.exprEntity.contextEntities.find(x => x.key === 'CurrentLanguage')) {\r\n    //   context.push(this.expr.exprEntity.contextEntities.find(x => x.key === 'CurrentLanguage'));\r\n    // }\r\n    // this.expr.clearContext();\r\n    if (this.designerState.schemas.length > 0) {\r\n      for (const schema of this.designerState.schemas) {\r\n        this.expr.addSchema('Schema', schema);\r\n      }\r\n      if (this.designerState.schemas[0].entityTypes && this.designerState.schemas[0].entityTypes.length > 0) {\r\n        const entityType = this.designerState.schemas[0].entityTypes[0];\r\n        this.expr.addInjectedEntity(entityType.name, 'Schema',\r\n          entityType.name, InjectedType.EntityType);\r\n      }\r\n    }\r\n    context = this.designerState.addContext(context);\r\n    if (this.designerState.subActivityContext.length > 0) {\r\n      for (const variable of this.designerState.subActivityContext) {\r\n        context.push(variable);\r\n        // this.expr.addContext(variable);\r\n      }\r\n    }\r\n    if (context.length > 0) {\r\n      for (const v of context) {\r\n        this.expr.addContext(v);\r\n      }\r\n    }\r\n    this.expr.addExpressionText(this.callActivitySubProcess.bizDataId);\r\n    this.expr.buildExpression().then((expressioninfo: string) => {\r\n      this.callActivitySubProcess.bizDataId = expressioninfo;\r\n      //点击确定后，去除表达式里面的新增的上下文变量\r\n      if(context.length > 0) {\r\n        this.expr.exprEntity.contextEntities = this.expr.exprEntity.contextEntities.filter(x => !context.some(y => y.key === x.key));\r\n      }\r\n    });\r\n  }\r\n\r\n  valueChange(bool: boolean) {\r\n    if (bool) {\r\n      this.callActivitySubProcess.bizDataId = null;\r\n    }\r\n  }\r\n\r\n  private validator(): boolean {\r\n    if (!this.callActivitySubProcess.inheritBizDataId && !this.callActivitySubProcess.useAutoCreationData && !this.callActivitySubProcess.bizDataId) {\r\n      this.message.warning(this.localePipe.transform('component.subProcess.inheritBizDataId'));\r\n      return false;\r\n    }\r\n    return true;\r\n  }\r\n\r\n  private getProcessDefKey(key: string) {\r\n    let url = this.util.getProcessDefinitionWebApi();\r\n    if (key) {\r\n      url += `/procDefKey/${key}`;\r\n      this.http.get(url).subscribe((re: any) => {\r\n        this.callActivitySubProcess.calledElementName = re.name;\r\n      });\r\n    }\r\n  }\r\n  private getFlowForm(id: string) {\r\n    let url = this.util.getFlowFormWebApi();\r\n    if (id) {\r\n      url += `/${id}`;\r\n      this.http.get(url).subscribe((re: any) => {\r\n        this.callActivitySubProcess.calledBizDefName = re.name;\r\n      });\r\n    }\r\n  }\r\n\r\n  getAifProcessName(code: string) {\r\n    if (code != null && code != \"\") {\r\n      this.http.request(\"GET\", `/api/runtime/aif/v1.0/rtbillcreationprocess/getname/${code}`, { responseType: 'text' }).subscribe(\r\n        (res: any) => {\r\n          this.callActivitySubProcess.aifProcessName = res;\r\n        },\r\n        (err) => {\r\n          if (err.error && typeof err.error == \"string\") {\r\n            err.error = JSON.parse(err.error);\r\n          }\r\n          setTimeout(() => {\r\n            //todo 确定异常结构, 目前采用兼容取值方式\r\n            this.message.error(err.error == null ? err.message : (err.error.Message || err.error.message || err.message));\r\n          }, 300);\r\n          throw err;\r\n        });\r\n    }\r\n  }\r\n}\r\n\r\n\r\nexport class CallActivitySubProcess2Converter implements TypeConverter {\r\n  constructor(\r\n    private localePipe: WfLocalePipe\r\n  ) { }\r\n\r\n  convertTo(data: any): string {\r\n    if (data && (data.calledBizDefKey || data.calledElement)) {\r\n      return this.localePipe.transform(\"component.subProcess.set\");\r\n    }\r\n    return this.localePipe.transform(\"component.subProcess.notSet\");\r\n  }\r\n}\r\n","export enum CallActivitySubProcessPropertyKeys {\r\n    Id = \"Id\",\r\n    Name = \"Name\",\r\n    NameLanguage = \"NameLanguage\",\r\n    ClrTypeID = \"ClrTypeID\",\r\n    callActivitySubProcess = 'callActivitySubProcess',\r\n    /**\r\n     * 驳回规则\r\n     */\r\n    BackWardRule = 'BackWardRule',\r\n    variableSettings = 'variableSettings',\r\n     /**\r\n     * 多实例设置\r\n     */\r\n    MultiInstanceLoopCharacteristics = 'MultiInstanceLoopCharacteristics',\r\n}","import { Injectable } from '@angular/core';\r\nimport { ProcessDesignerUIState } from './process-designer.uistate';\r\nimport { ElementPropertyConfig, PropertyEntity } from '@farris/ide-property-panel';\r\nimport { CallActivitySubProcessComponent, CallActivitySubProcessConverter } from '../views/call-activity-sub-process/call-activity-sub-process.component';\r\nimport { BackwardRuleComponent, BackwardRuleConverter } from '../views/backward-rule/backward-rule.component';\r\nimport { VariableSettingComponent, VariableSettingConverter } from '../views/variable-setting/variable-setting.component';\r\nimport { CallActivitySubProcess2Component, CallActivitySubProcess2Converter } from '../views/call-activity-sub-process2/call-activity-sub-process2.component';\r\nimport { CallActivitySubProcessPropertyKeys } from '../designer/wf-cell/property-keys/CallActivitySubProcessPropertyKeys';\r\nimport { WfLocalePipe } from '../i18n/pipe/wf-process-editor-locale.pipe';\r\nimport { MultiInstanceLoopCharacteristicsComponent, MultiInstanceLoopCharacteristicsConverter } from '../views/multi-instance-loop-characteristics/multi-instance-loop-characteristics.component';\r\n\r\n@Injectable()\r\n\r\nexport class SubProcessViewModel {\r\n    constructor(\r\n        private uiState: ProcessDesignerUIState,\r\n        private localPipe: WfLocalePipe\r\n        ) {\r\n    }\r\n    setProperty(obj: any) {\r\n        this.uiState.propertyData = obj.propertyData;\r\n        this.uiState.propertyConfig = this.setConfig(obj.propertyConfig);\r\n    }\r\n\r\n    private setConfig(obj: any[]): ElementPropertyConfig[] {\r\n        const propertyConfig: ElementPropertyConfig[] = [];\r\n        if (obj) {\r\n            obj.forEach((element: ElementPropertyConfig) => {\r\n                this.setEntity(element.properties);\r\n                propertyConfig.push(element);\r\n            });\r\n        }\r\n        return propertyConfig;\r\n    }\r\n    private setEntity(obj: PropertyEntity[]) {\r\n        if (obj && obj.length > 0) {\r\n            obj.forEach((item: PropertyEntity) => {\r\n                switch (item.propertyID) {\r\n                    case CallActivitySubProcessPropertyKeys.callActivitySubProcess: // 参与者\r\n                        // item.editor = CallActivitySubProcessComponent;\r\n                        // item.converter = new CallActivitySubProcessConverter();\r\n                        item.editor = CallActivitySubProcess2Component;\r\n                        item.converter = new CallActivitySubProcess2Converter(this.localPipe);\r\n                        item.editorParams = {\r\n                            bizTypeId: this.uiState.flowFormInfo.flowForm.businessObjectId,\r\n                        };\r\n                        break;\r\n                    case CallActivitySubProcessPropertyKeys.BackWardRule:\r\n                        item.editor = BackwardRuleComponent;\r\n                        item.converter = new BackwardRuleConverter(this.localPipe);\r\n                        item.editorParams = {\r\n                            nodeType: 'CallActivitySubProcess'\r\n                        };\r\n                        break;\r\n                    case CallActivitySubProcessPropertyKeys.MultiInstanceLoopCharacteristics:\r\n                            item.editor = MultiInstanceLoopCharacteristicsComponent;\r\n                            item.converter = new MultiInstanceLoopCharacteristicsConverter(this.localPipe);\r\n                            item.editorParams = {\r\n                                location: 'CallActivitySubProcess'\r\n                            };\r\n                            break;\r\n                    case CallActivitySubProcessPropertyKeys.variableSettings: // 变量设置\r\n                        item.editor = VariableSettingComponent;\r\n                        item.converter = new VariableSettingConverter(this.localPipe);\r\n                        break;\r\n                    default:\r\n                        break;\r\n                }\r\n            });\r\n        }\r\n    }\r\n}\r\n","export enum AutoActivityPropertyKeys {\r\n    Id = \"Id\",\r\n    Name = \"Name\",\r\n    NameLanguage = \"NameLanguage\",\r\n    ClrTypeID = \"ClrTypeID\",\r\n    Tools = 'Tools',\r\n    variableSettings = 'variableSettings',\r\n    ParticipantOptions = 'ParticipantOptions'\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { ProcessDesignerUIState } from './process-designer.uistate';\r\nimport { ElementPropertyConfig, PropertyEntity } from '@farris/ide-property-panel';\r\nimport { ActivityComponentComponent, ActivityComponentConverter } from '../views/activity-component/activity-component.component';\r\nimport { VariableSettingComponent, VariableSettingConverter } from '../views/variable-setting/variable-setting.component';\r\nimport { AutoActivityPropertyKeys } from '../designer/wf-cell/property-keys/AutoActivityPropertyKeys';\r\nimport { PerformerOptionsComponent, PerformerOptionsConverter } from '../views/performer/views/performer-options/performer-options.component';\r\nimport { WfLocalePipe } from '../i18n/pipe/wf-process-editor-locale.pipe';\r\n\r\n@Injectable()\r\n\r\nexport class AutoActivityAdapter {\r\n\r\n  constructor(\r\n    private uiState: ProcessDesignerUIState,\r\n    private localPipe: WfLocalePipe\r\n  ) {\r\n  }\r\n\r\n  setProperty(obj: any) {\r\n    this.uiState.propertyData = obj.propertyData;\r\n    this.uiState.propertyConfig = this.setConfig(obj.propertyConfig);\r\n  }\r\n\r\n  private setConfig(obj: any[]): ElementPropertyConfig[] {\r\n    const propertyConfig: ElementPropertyConfig[] = [];\r\n    if (obj) {\r\n      obj.forEach((element: ElementPropertyConfig) => {\r\n        this.setEntity(element.properties);\r\n        propertyConfig.push(element);\r\n      });\r\n    }\r\n    return propertyConfig;\r\n  }\r\n  private setEntity(obj: PropertyEntity[]) {\r\n    if (obj && obj.length > 0) {\r\n      obj.forEach((item: PropertyEntity) => {\r\n        switch (item.propertyID) {\r\n          case AutoActivityPropertyKeys.Tools: // 参与者\r\n            item.editor = ActivityComponentComponent;\r\n            item.converter = new ActivityComponentConverter(this.localPipe);\r\n            item.editorParams = {\r\n              location: 'autoActivity'\r\n            };\r\n            break;\r\n          case AutoActivityPropertyKeys.variableSettings: // 变量设置\r\n            item.editor = VariableSettingComponent;\r\n            item.converter = new VariableSettingConverter(this.localPipe);\r\n            break;\r\n          case AutoActivityPropertyKeys.ParticipantOptions: // 参与者选项\r\n            item.editor = PerformerOptionsComponent;\r\n            item.converter = new PerformerOptionsConverter(this.localPipe);\r\n            item.editorParams = {\r\n              location: 'autoActivity'\r\n            };\r\n            break;\r\n          default:\r\n            break;\r\n        }\r\n      });\r\n    }\r\n  }\r\n}\r\n","\r\nexport class EventDefinition {\r\n    Id: string;\r\n    name: string;\r\n    triggerAction = 'Pass';\r\n    Async = false;\r\n    SignalRef: string;\r\n    constructor() { }\r\n}\r\n","import { Component, OnInit, HostBinding, Output, EventEmitter, Input, ViewChild, TemplateRef, Injector, ChangeDetectorRef, Optional, Inject, LOCALE_ID } from '@angular/core';\r\nimport { DatagridComponent } from '@farris/ui-datagrid';\r\nimport { MessagerService } from '@farris/ui-messager';\r\nimport { ProcessDeUtil } from '../../domain/process-de-util';\r\nimport { EventDefinition } from './event-definition.entity';\r\nimport { EditorTypes } from '@farris/ui-datagrid-editors';\r\nimport { TypeConverter } from '@farris/ide-property-panel';\r\nimport { WF_LANG_RESOURCES, WfLocalePipe } from '../../i18n/pipe/wf-process-editor-locale.pipe';\r\nimport { WF_PROCESS_EDITOR_LANG_RESOURCES } from '../../i18n/assets/lang.resource';\r\n\r\n@Component({\r\n  selector: 'lib-event-definition',\r\n  templateUrl: './event-definition.component.html',\r\n  styleUrls: ['./event-definition.component.scss'],\r\n  providers: [\r\n     WfLocalePipe,\r\n  ]\r\n})\r\nexport class EventDefinitionComponent implements OnInit {\r\n  @HostBinding('class')\r\n  cls = 'farris-main-area flex-column';\r\n\r\n  @Output() closeModal = new EventEmitter<any>();\r\n  @Output() submitModal = new EventEmitter<any>();\r\n\r\n  @Input()\r\n  set value(items: any[]) {\r\n    if (items && items.length > 0) {\r\n      for (const item of items) {\r\n        const event = new EventDefinition();\r\n        event.Id = item.Id;\r\n        event.name = item.name;\r\n        event.triggerAction = item.triggerAction;\r\n        event.Async = item.Async;\r\n        event.SignalRef = item.SignalRef;\r\n        this.data.push(event);\r\n      }\r\n    }\r\n  }\r\n  @ViewChild('iconSelectFooter') modalFooter: TemplateRef<any>;\r\n  @ViewChild('grid') grid: DatagridComponent;\r\n\r\n  modalConfig = {\r\n    title: this.localePipe.transform('component.eventDefinition.eventDefinition'),\r\n    width: 560,\r\n    height: 420,\r\n    showButtons: true\r\n  };\r\n\r\n  triggerActionCollection: any[] = [\r\n    { text: this.localePipe.transform('component.eventDefinition.pass'), value: 'Pass' },\r\n    { text: this.localePipe.transform('component.eventDefinition.back'), value: 'Back' },\r\n    { text: this.localePipe.transform('component.eventDefinition.abort'), value: 'Abort' }];\r\n\r\n  columns = new Array();\r\n  data = new Array<EventDefinition>();\r\n\r\n  constructor(\r\n    private message: MessagerService,\r\n    private util: ProcessDeUtil,\r\n    private injector: Injector,\r\n    @Optional() private cdr: ChangeDetectorRef,\r\n    @Inject(LOCALE_ID) private localeId: string,\r\n    @Inject(WF_LANG_RESOURCES) private resources: any,\r\n    @Optional() private localePipe: WfLocalePipe,\r\n  ) {\r\n    this.localePipe = this.localePipe || new WfLocalePipe(localeId, resources);\r\n   }\r\n\r\n  ngOnInit() {\r\n    this.columns = [{\r\n      field: 'SignalRef', width: 100, title: this.localePipe.transform('component.eventDefinition.signalRef'),\r\n      editor: { type: EditorTypes.TEXTBOX, options: {} },\r\n      validators: [\r\n        { type: 'required', messager: '必填' }\r\n      ]\r\n    },\r\n    {\r\n      field: 'name', width: 100, title: this.localePipe.transform('component.eventDefinition.name'),\r\n      editor: { type: EditorTypes.TEXTBOX, options: {} },\r\n      validators: [\r\n        { type: 'required', messager: '必填' }\r\n      ]\r\n    },\r\n    {\r\n      field: 'triggerAction', width: 100, title: this.localePipe.transform('component.eventDefinition.triggerAction'),\r\n      formatter: {\r\n        type: 'enum',\r\n        options: { valueField: 'value', textField: 'text', data: this.triggerActionCollection }\r\n      },\r\n      editor: {\r\n        type: EditorTypes.COMBOLIST,\r\n        options: { valueField: 'value', textField: 'text', data: this.triggerActionCollection, idField: 'value', panelHeight: 'auto', showClear: false }\r\n      },\r\n      validators: [\r\n        { type: 'required', messager: '必填' }\r\n      ]\r\n    }];\r\n  }\r\n  add() {\r\n    const event = new EventDefinition();\r\n    event.Id = ProcessDeUtil.GenerateElementId();\r\n    this.data.push(event);\r\n    this.grid.loadData(this.data);\r\n  }\r\n  delete() {\r\n    this.grid.endCellEdit();\r\n    if (this.grid.selectedRow && this.grid.selectedRow.data) {\r\n      const i = this.data.findIndex(d => d.Id === this.grid.selectedRow.data.Id);\r\n      this.data.splice(i, 1);\r\n      this.grid.loadData(this.data);\r\n    } else {\r\n      this.message.info(this.localePipe.transform('component.eventDefinition.selectedRow'));\r\n    }\r\n  }\r\n\r\n  clickOK() {\r\n    this.grid.endCellEdit();\r\n    if (this.validator()) {\r\n      const object = { value: this.data, parameters: null };\r\n      this.submitModal.emit(object);\r\n    }\r\n\r\n  }\r\n\r\n  clickCancel() {\r\n    this.closeModal.emit();\r\n  }\r\n\r\n  private validator(): boolean {\r\n    if (this.data.length === 0) {\r\n      this.message.info(this.localePipe.transform('component.eventDefinition.dataLength'));\r\n      return false;\r\n    } else {\r\n      for (const d of this.data) {\r\n        if (!d.SignalRef) {\r\n          this.message.info(this.localePipe.transform('component.eventDefinition.codeNotNull'));\r\n          return false;\r\n        } else if (!d.name) {\r\n          this.message.info(this.localePipe.transform('component.eventDefinition.nameNotNull'));\r\n          return false;\r\n        } else if (!isNaN(Number(d.SignalRef))) {\r\n          this.message.info(this.localePipe.transform('component.eventDefinition.codeNotNumber'));\r\n          return false;\r\n        }\r\n      }\r\n      if (this.data.length > 1) {\r\n        for (let i = 0; i < this.data.length; i++) {\r\n          const code1 = this.data[i].SignalRef;\r\n          for (let j = i + 1; j < this.data.length; j++) {\r\n            const code2 = this.data[j].SignalRef;\r\n\r\n            if (code1 === code2) {\r\n              this.message.warning(this.localePipe.transform('component.eventDefinition.codeRepeat'));\r\n              return false;\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n    return true;\r\n  }\r\n}\r\n\r\nexport class EventDefinitionConverter implements TypeConverter {\r\n  constructor(\r\n    private localePipe: WfLocalePipe\r\n  ) { }\r\n\r\n  convertTo(data: any[]): string {\r\n    if (data && data.length > 0) {\r\n      return this.localePipe.transform('component.eventDefinition.set');\r\n    } else {\r\n      return this.localePipe.transform('component.eventDefinition.notSet');\r\n    }\r\n  }\r\n}\r\n","export enum IntermediateCatchEventImplPropertyKeys {\r\n    Id = \"Id\",\r\n    Name = \"Name\",\r\n    NameLanguage = \"NameLanguage\",\r\n    ClrTypeID = \"ClrTypeID\",\r\n    /**\r\n     * 驳回规则\r\n     */\r\n    BackWardRule = 'BackWardRule',\r\n    EventDefinitions = 'EventDefinitions',\r\n    variableSettings = 'variableSettings',\r\n}","import { ProcessDesignerUIState } from './process-designer.uistate';\r\nimport { Injectable, Injector } from '@angular/core';\r\nimport { ElementPropertyConfig, PropertyEntity } from '@farris/ide-property-panel';\r\nimport { BackwardRuleComponent, BackwardRuleConverter } from '../views/backward-rule/backward-rule.component';\r\nimport { EventDefinitionComponent, EventDefinitionConverter } from '../views/event-definition/event-definition.component';\r\nimport { VariableSettingComponent, VariableSettingConverter } from '../views/variable-setting/variable-setting.component';\r\nimport { IntermediateCatchEventImplPropertyKeys } from '../designer/wf-cell/property-keys/IntermediateCatchEventImplPropertyKeys';\r\nimport { WfLocalePipe } from '../i18n/pipe/wf-process-editor-locale.pipe';\r\n\r\n@Injectable()\r\n\r\nexport class CatchEventAdapter {\r\n    constructor(\r\n        private uiState: ProcessDesignerUIState,\r\n        private injector: Injector,\r\n        private localPipe: WfLocalePipe\r\n    ) { }\r\n    setProperty(obj: any) {\r\n        this.uiState.propertyData = obj.propertyData;\r\n        this.uiState.propertyConfig = this.setConfig(obj.propertyConfig);\r\n    }\r\n\r\n    private setConfig(obj: any[]): ElementPropertyConfig[] {\r\n        const propertyConfig: ElementPropertyConfig[] = [];\r\n        if (obj) {\r\n            obj.forEach((element: ElementPropertyConfig) => {\r\n                this.setEntity(element.properties);\r\n                propertyConfig.push(element);\r\n            });\r\n        }\r\n        return propertyConfig;\r\n    }\r\n    private setEntity(obj: PropertyEntity[]) {\r\n        if (obj && obj.length > 0) {\r\n            obj.forEach((item: PropertyEntity) => {\r\n                switch (item.propertyID) {\r\n                    case IntermediateCatchEventImplPropertyKeys.BackWardRule:\r\n                        item.editor = BackwardRuleComponent;\r\n                        item.converter = new BackwardRuleConverter(this.localPipe);\r\n                        item.editorParams = {\r\n                            nodeType: 'CallActivitySubProcess'\r\n                        };\r\n                        break;\r\n                    case IntermediateCatchEventImplPropertyKeys.EventDefinitions:\r\n                        item.editor = EventDefinitionComponent;\r\n                        item.converter = new EventDefinitionConverter(this.localPipe);\r\n                        break;\r\n                    case IntermediateCatchEventImplPropertyKeys.variableSettings: // 变量设置\r\n                        item.editor = VariableSettingComponent;\r\n                        item.converter = new VariableSettingConverter(this.localPipe);\r\n                        break;\r\n                    default:\r\n                        break;\r\n                }\r\n            });\r\n        }\r\n    }\r\n}\r\n","export enum MessageActivityPropertyKeys {\r\n    Id = \"Id\",\r\n    Name = \"Name\",\r\n    NameLanguage = \"NameLanguage\",\r\n    ClrTypeID = \"ClrTypeID\",\r\n    messageNotice = 'messageNotice',\r\n    variableSettings = 'variableSettings',\r\n}","import { Injectable } from '@angular/core';\r\nimport { ProcessDesignerUIState } from './process-designer.uistate';\r\nimport { ElementPropertyConfig, PropertyEntity } from '@farris/ide-property-panel';\r\nimport { MessageNoticeComponent, MessageNoticeConverter } from '../views/message-notice/message-notice.component';\r\nimport { VariableSettingComponent, VariableSettingConverter } from '../views/variable-setting/variable-setting.component';\r\nimport { MessageActivityPropertyKeys } from '../designer/wf-cell/property-keys/MessageActivityPropertyKeys';\r\nimport { WfLocalePipe } from '../i18n/pipe/wf-process-editor-locale.pipe';\r\n\r\n@Injectable()\r\n\r\nexport class MessageActivityAdapter {\r\n    constructor(\r\n        private uiState: ProcessDesignerUIState,\r\n        private localPipe: WfLocalePipe\r\n    ) {\r\n    }\r\n    setProperty(obj: any) {\r\n        this.uiState.propertyData = obj.propertyData;\r\n        this.uiState.propertyConfig = this.setConfig(obj.propertyConfig);\r\n    }\r\n\r\n    private setConfig(obj: any[]): ElementPropertyConfig[] {\r\n        const propertyConfig: ElementPropertyConfig[] = [];\r\n        if (obj) {\r\n            obj.forEach((element: ElementPropertyConfig) => {\r\n                this.setEntity(element.properties);\r\n                propertyConfig.push(element);\r\n            });\r\n        }\r\n        return propertyConfig;\r\n    }\r\n    private setEntity(obj: PropertyEntity[]) {\r\n        if (obj && obj.length > 0) {\r\n            obj.forEach((item: PropertyEntity) => {\r\n                switch (item.propertyID) {\r\n                    case MessageActivityPropertyKeys.messageNotice: // 参与者\r\n                        item.editor = MessageNoticeComponent;\r\n                        item.converter = new MessageNoticeConverter(this.localPipe);\r\n                        item.editorParams = {\r\n                            location: 'messageActivity'\r\n                        };\r\n                        break;\r\n                    case MessageActivityPropertyKeys.variableSettings: // 变量设置\r\n                        item.editor = VariableSettingComponent;\r\n                        item.converter = new VariableSettingConverter(this.localPipe);\r\n                        break;\r\n                    default:\r\n                        break;\r\n                }\r\n            });\r\n        }\r\n    }\r\n}\r\n","export class AuditProcessDefInfo {\r\n    auditId: AuditEvent;\r\n    success: boolean;\r\n    processDefKey: string;\r\n}\r\n\r\nexport enum AuditEvent {\r\n    WF_ProcessDef_SaveDT = 'WF_ProcessDef_SaveDT',\r\n    WF_ProcessDef_SaveRT = 'WF_ProcessDef_SaveRT',\r\n    WF_ProcessDef_Deploy = 'WF_ProcessDef_Deploy',\r\n    WF_ProcessDef_Import = 'WF_ProcessDef_Import',\r\n    WF_ProcessDef_Export = 'WF_ProcessDef_Export',\r\n    WF_ProcessDef_SyncDT = 'WF_ProcessDef_SyncDT'\r\n}\r\n","export class ProcessInfo {\r\n    /**\r\n     * 业务活动ID\r\n     */\r\n    bizObjId: string;\r\n    /**\r\n     * Key\r\n     */\r\n    processKey: string;\r\n    /**\r\n     * 流程名称\r\n     */\r\n    processName: string;\r\n    /**\r\n     * 流程编号\r\n     */\r\n    processCode: string;\r\n    /**\r\n     * 流程分类ID\r\n     */\r\n    flowFormId: string;\r\n    /**\r\n     * 流程分类名称\r\n     */\r\n    flowFormName: string;\r\n    /**\r\n     * 流程类型\r\n     */\r\n    startMode?: string;\r\n    /**\r\n     * 流程组织\r\n     */\r\n    procOrg?: ProcessOrganization;\r\n    /**\r\n     * 访问级别\r\n     */\r\n    accessLevel?: string;\r\n}\r\n\r\n\r\nexport class ProcessOrganization {\r\n    orgName: string;\r\n    orgId: string;\r\n}\r\n","export enum NotifyActivityPropertyKeys {\r\n    Id = \"Id\",\r\n    Name = \"Name\",\r\n    NameLanguage = \"NameLanguage\",\r\n    ClrTypeID = \"ClrTypeID\",\r\n    /**\r\n     * 参与者\r\n     */\r\n    ParticipantSchemes = 'ParticipantSchemes',\r\n    /**\r\n     * PC表单\r\n     */\r\n    wf_ExecuteForms_PC = 'wf_ExecuteForms_PC',\r\n    /**\r\n     * 移动表单\r\n     */\r\n    wf_ExecuteForms_Mobile = 'wf_ExecuteForms_Mobile',\r\n    /**\r\n     * 消息通知\r\n     */\r\n    messageNotice = 'messageNotice',\r\n    NotifyAble = 'NotifyAble',\r\n}","import { Injectable } from '@angular/core';\r\nimport { ProcessDesignerUIState } from './process-designer.uistate';\r\nimport { ElementPropertyConfig, PropertyEntity } from '@farris/ide-property-panel';\r\nimport { MessageNoticeComponent, MessageNoticeConverter } from '../views/message-notice/message-notice.component';\r\nimport { PerformerComponent, PerformerConverter } from '../views/performer/performer.component';\r\nimport { ExecuteFormsComponent, ExecuteFormsConverter } from '../views/execute-forms/execute-forms.component';\r\nimport { ExtendPropertyComponent, ExtendPropertyConverter } from '../views/extend-property/extend-property.component';\r\nimport { OrganizationPotentialOwnerComponent, OrganizationPotentialOwnerConverter } from '../views/organization-potential-owner/organization-potential-owner.component';\r\nimport { ParticipantComponent, ParticipantConverter } from '../views/participant/participant.component';\r\nimport { NotifyActivityPropertyKeys } from '../designer/wf-cell/property-keys/NotifyActivityPropertyKeys';\r\nimport { WfLocalePipe } from '../i18n/pipe/wf-process-editor-locale.pipe';\r\n\r\n@Injectable()\r\nexport class NotifyActivityAdapter {\r\n    constructor(\r\n        private uiState: ProcessDesignerUIState,\r\n        private localPipe: WfLocalePipe\r\n    ) {\r\n    }\r\n    setProperty(obj: any) {\r\n        this.uiState.propertyData = obj.propertyData;\r\n        this.uiState.propertyConfig = this.setConfig(obj.propertyConfig);\r\n    }\r\n\r\n    private setConfig(obj: any[]): ElementPropertyConfig[] {\r\n        const propertyConfig: ElementPropertyConfig[] = [];\r\n        if (obj) {\r\n            obj.forEach((element: ElementPropertyConfig) => {\r\n                this.setEntity(element.properties);\r\n                propertyConfig.push(element);\r\n            });\r\n        }\r\n        return propertyConfig;\r\n    }\r\n    private setEntity(obj: PropertyEntity[]) {\r\n        if (obj && obj.length > 0) {\r\n            obj.forEach((item: PropertyEntity) => {\r\n                switch (item.propertyID) {\r\n                    case NotifyActivityPropertyKeys.Id: // 标识\r\n                        break;\r\n                    case NotifyActivityPropertyKeys.ParticipantSchemes: // 参与者\r\n                        item.editor = ParticipantComponent;\r\n                        item.converter = new ParticipantConverter(this.localPipe);\r\n                        item.editorParams = {\r\n                            nodeType: 'notifyActivity'\r\n                        };\r\n                        break;\r\n                    case NotifyActivityPropertyKeys.wf_ExecuteForms_PC: // 表单定义\r\n                        item.editor = ExecuteFormsComponent;\r\n                        const params = {\r\n                            location: 'notifyActivity',\r\n                            tab: 'web'\r\n                        };\r\n                        item.converter = new ExecuteFormsConverter(params, this.localPipe);\r\n                        item.editorParams = params;\r\n                        break;\r\n                    case NotifyActivityPropertyKeys.wf_ExecuteForms_Mobile: // 表单定义\r\n                        item.editor = ExecuteFormsComponent;\r\n                        const editorParams = {\r\n                            location: 'notifyActivity',\r\n                            tab: 'mobile'\r\n                        };\r\n                        item.converter = new ExecuteFormsConverter(editorParams, this.localPipe);\r\n                        item.editorParams = editorParams;\r\n                        break;\r\n                    case NotifyActivityPropertyKeys.messageNotice: // 消息通知\r\n                        item.editor = MessageNoticeComponent;\r\n                        item.converter = new MessageNoticeConverter(this.localPipe);\r\n                        item.editorParams = {\r\n                            location: 'activity'\r\n                        };\r\n                        break;\r\n                    case NotifyActivityPropertyKeys.NotifyAble: // 允许知会\r\n                        item.editor = OrganizationPotentialOwnerComponent;\r\n                        item.converter = new OrganizationPotentialOwnerConverter(this.localPipe);\r\n                        item.editorParams = {\r\n                            nodeType: 'notifyActivity',\r\n                          };\r\n                        break;\r\n                    default:\r\n                        item.editor = ExtendPropertyComponent;\r\n                        item.converter = new ExtendPropertyConverter(this.localPipe);\r\n                        break;\r\n                }\r\n            });\r\n        }\r\n    }\r\n}\r\n","import { TypeConverter } from \"@farris/ide-property-panel\";\r\nimport { AifLocalePipe } from \"../aif-ui-common/pipe/aif-ui-common-locale.pipe\";\r\n\r\nexport class AifCreationBillProcessConverter implements TypeConverter {\r\n    constructor(\r\n        public localePipe: AifLocalePipe\r\n    ) { }\r\n\r\n    convertTo(data): string {\r\n        if (data) {\r\n            return data.name || data.code || this.localePipe.transform(\"set\");\r\n        } else {\r\n            return this.localePipe.transform(\"notSet\");\r\n        }\r\n    }\r\n}\r\n","export enum AifCreationBillActivityPropertyKeys {\r\n    Id = \"Id\",\r\n    Name = \"Name\",\r\n    NameLanguage = \"NameLanguage\",\r\n    ClrTypeID = \"ClrTypeID\",\r\n    /**\r\n     * 生单流程编号\r\n     */\r\n    aifProcessCode = 'aifProcessCode',\r\n    /**\r\n     * VoNodePath\r\n     */\r\n    voNodePath = 'voNodePath',\r\n    /**\r\n     * isRelied\r\n     */\r\n    isRelied = 'isRelied',\r\n}","import { Injectable } from '@angular/core';\r\nimport { ProcessDesignerUIState } from './process-designer.uistate';\r\nimport { ElementPropertyConfig, PropertyEntity } from '@farris/ide-property-panel';\r\nimport { ProcessListHelpComponent } from '../views/aif-process-list-help/components/process-list-help/process-list-help.component';\r\nimport { AifCreationBillProcessConverter } from '../views/aif-process-list-help/AifCreationBillProcessConverter';\r\nimport { AifCreationBillActivityPropertyKeys } from '../designer/wf-cell/property-keys/AifCreationBillActivityPropertyKeys';\r\nimport { AifLocalePipe } from '../views/aif-ui-common/pipe/aif-ui-common-locale.pipe';\r\n\r\n@Injectable()\r\nexport class AifCreationBillActivityAdapter {\r\n    constructor(\r\n        private uiState: ProcessDesignerUIState,\r\n        public localPipe: AifLocalePipe\r\n        ) {\r\n\r\n    }\r\n    setProperty(obj: any) {\r\n        this.uiState.propertyData = obj.propertyData;\r\n        this.uiState.propertyConfig = this.setConfig(obj.propertyConfig);\r\n    }\r\n\r\n    private setConfig(obj: any[]): ElementPropertyConfig[] {\r\n        const propertyConfig: ElementPropertyConfig[] = [];\r\n        if (obj) {\r\n            obj.forEach((element: ElementPropertyConfig) => {\r\n                this.setEntity(element.properties);\r\n                propertyConfig.push(element);\r\n            });\r\n        }\r\n        return propertyConfig;\r\n    }\r\n    private setEntity(obj: PropertyEntity[]) {\r\n        if (obj && obj.length > 0) {\r\n            obj.forEach((item: PropertyEntity) => {\r\n                switch (item.propertyID) {\r\n                    case AifCreationBillActivityPropertyKeys.aifProcessCode: // 单据流编号\r\n                        item.editor = ProcessListHelpComponent;\r\n                        item.converter = new AifCreationBillProcessConverter(this.localPipe);\r\n                        item.editorParams = {\r\n                            bizTypeId: this.uiState.flowFormInfo.flowForm.businessObjectId\r\n                        };\r\n                        break;\r\n                    default:\r\n                        break;\r\n                }\r\n            });\r\n        }\r\n    }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport { Subject } from 'rxjs/Subject';\r\nimport { map, filter } from 'rxjs/operators';\r\n\r\nexport type Payload = any;\r\nexport interface EventBusMessage {\r\n    channel: string;\r\n    payload: Payload;\r\n}\r\n\r\n@Injectable()\r\nexport class EventBusService1 {\r\n    public listen: Observable<Payload>;\r\n\r\n    private next;\r\n    constructor() {\r\n        this.listen = new Observable(observer => {\r\n            this.next = (payload: Payload) => observer.next(payload);\r\n            return _ => _ /* nothing to clean */;\r\n        });\r\n        this.channelEmmiter = this.channelEmmiter.bind(this);\r\n        this.emit = this.emit.bind(this);\r\n    }\r\n\r\n    allChannels(): Observable<EventBusMessage> {\r\n        return this.listen;\r\n    }\r\n\r\n    channel(channelName: string): Observable<Payload> {\r\n        return this.listen\r\n            .pipe(filter(e => e.channel === channelName),\r\n                map(e => e.payload));\r\n    }\r\n\r\n    channelEmmiter(channelName) {\r\n        console.log('made listener for', channelName);\r\n        return (payload: Payload): void => {\r\n            this.emit({ channel: channelName, payload });\r\n        };\r\n    }\r\n\r\n    emit({ channel, payload }: EventBusMessage): void {\r\n        console.log('emit', channel);\r\n        this.next({ channel, payload });\r\n    }\r\n}\r\n\r\n/**\r\n * Global EventEmitter\r\n */\r\n@Injectable()\r\nexport class EventBusService<Events = any> {\r\n    /** Map event name to Subject  */\r\n    private _subjects = new Map<Events, Subject<any>>();\r\n\r\n    /**\r\n     *\r\n     * @param eventName\r\n     * @param handler\r\n     * @returns\r\n     */\r\n    on(eventName: Events, handler: (data: any) => any) {\r\n        if (!this._subjects.has(eventName)) {\r\n            this._subjects.set(eventName, new Subject());\r\n        }\r\n        const _subject = this._subjects.get(eventName);\r\n        const subscription = _subject.subscribe(handler);\r\n        return {\r\n            unsubscribe: () => {\r\n                subscription.unsubscribe();\r\n                if (_subject.observers.length > 0) {\r\n                    this._subjects.delete(eventName);\r\n                }\r\n            }\r\n        };\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param eventName\r\n     * @param data\r\n     */\r\n    emit(eventName: Events, data) {\r\n        if (this._subjects.has(eventName)) {\r\n            this._subjects.get(eventName).next(data);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Destory all subscription and clear the map\r\n     */\r\n    destroy() {\r\n        this._subjects.forEach((subject, _) => {\r\n            subject.unsubscribe();\r\n        });\r\n        this._subjects.clear();\r\n    }\r\n}\r\n\r\n","import { Component, OnInit, Input, Output, EventEmitter, ViewChild, TemplateRef, ChangeDetectorRef, Optional, Inject, LOCALE_ID } from '@angular/core';\r\nimport { LookupGridComponent } from '@farris/ui-lookup';\r\nimport { MessagerService } from '@farris/ui-messager';\r\nimport { WfTaskHandlerService } from '@gsp-wf/wf-task-handler';\r\nimport { ProcessDesignerUIState } from '../../app/process-designer.uistate';\r\nimport { WF_LANG_RESOURCES, WfLocalePipe } from '../../i18n/pipe/wf-process-editor-locale.pipe';\r\nimport { WF_PROCESS_EDITOR_LANG_RESOURCES } from '../../i18n/assets/lang.resource';\r\n\r\n@Component({\r\n  selector: 'lib-release-component',\r\n  templateUrl: './release-component.component.html',\r\n  styleUrls: ['./release-component.component.css'],\r\n  providers: [\r\n     WfLocalePipe,\r\n  ]\r\n})\r\nexport class ReleaseComponent implements OnInit {\r\n  @ViewChild('buttonRef') btnRef: TemplateRef<any>;\r\n\r\n  applicantName: string;\r\n  applicantDepartment: string;\r\n  @Input()\r\n  procName: any;\r\n  @Input()\r\n  procVersion: number;\r\n  @Input()\r\n  processDefinitionKey: string;\r\n  @ViewChild('lookup') public lookUp: LookupGridComponent;\r\n\r\n  @Output() submit = new EventEmitter<any>();\r\n  @Output() cancel = new EventEmitter<any>();\r\n  session: string;\r\n  accessLevel = 'public';\r\n  organization;\r\n  organizationName;\r\n  textDetail;\r\n  isAdministratorConfig = false;\r\n  editor: any;\r\n\r\n  administrator: any;\r\n  dataUri = '/api/runtime/sys/v1.0/sysOrgs';\r\n  applicantId: string;\r\n  loadType = 'layerload';\r\n  releaseType = 'release';\r\n  items = new Array();\r\n  releaseTypeList = [\r\n    { value: 'release', name: this.localePipe.transform('component.release.release') },\r\n    { value: 'update', name: this.localePipe.transform('component.release.update') },\r\n  ];\r\n  constructor(\r\n    private uiState: ProcessDesignerUIState,\r\n    private submitService: WfTaskHandlerService,\r\n    @Optional() private cdr: ChangeDetectorRef,\r\n    @Inject(LOCALE_ID) private localeId: string,\r\n    @Inject(WF_LANG_RESOURCES) private resources: any,\r\n    @Optional() private localePipe: WfLocalePipe,\r\n  ) {\r\n    this.localePipe = this.localePipe || new WfLocalePipe(localeId, resources);\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.releaseType = this.procVersion === 1 ? 'release' : 'update';\r\n    this.uiState.getUserInfo().subscribe(re => {\r\n      this.applicantName = re.name;\r\n      this.applicantDepartment = re.orgName;\r\n      this.applicantId = re.id;\r\n    });\r\n  }\r\n\r\n  saveAsOK() {\r\n    this.uiState.createData().subscribe((saveData) => {\r\n      const dataId = saveData.returnValue.id;\r\n      const data = {\r\n        DataId: dataId,\r\n        applicantName: this.applicantName,\r\n        applicantDepartment: this.applicantDepartment,\r\n        procName: this.procName,\r\n        procVersion: this.procVersion,\r\n        releaseType: this.releaseType,\r\n        textDetail: this.textDetail,\r\n        processDefinitionKey: this.processDefinitionKey,\r\n        applicantId: this.applicantId\r\n      };\r\n      const Info = {\r\n        ChangeType: 'Modify',\r\n        ChangeInfo: data\r\n      };\r\n      this.uiState.releaseSave(Info).subscribe((re) => {\r\n        this.mySubmit(dataId, '03bdca37-8439-4924-8aef-20f3f4092b59');\r\n        this.submit.next();\r\n      });\r\n    });\r\n  }\r\n  saveAsCancel() {\r\n    this.cancel.emit();\r\n  }\r\n  editorCreated(quill) {\r\n    const toolbar = quill.getModule('toolbar');\r\n    this.editor = quill;\r\n  }\r\n\r\n  contentChanged(v) {\r\n    console.log(v);\r\n  }\r\n  validator() {\r\n    return true;\r\n  }\r\n  changeValue(data: any) {\r\n    this.releaseType = data;\r\n  }\r\n  /**\r\n   * 发布前审核：提交审批\r\n   */\r\n  private mySubmit(dataId: string, bizDefKey: string) {\r\n    this.submitService.submitWithBizDefKey(dataId, bizDefKey);\r\n  }\r\n}\r\n","import { BpmnModelJsonHelper, JsonConvertableImpl } from \"@edp-aif/common-api\";\r\n\r\nexport class DocuTypeHelperEntity extends JsonConvertableImpl {\r\n    id: string;\r\n    moduleName: string;\r\n    bizKindName: string;\r\n    bizTypeName: string;\r\n    code: string;\r\n    name: string;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    protected ResetBeforeLoadFrom(): void {\r\n        super.ResetBeforeLoadFrom();\r\n\r\n        this.id = null;\r\n        this.moduleName = null;\r\n        this.bizKindName = null;\r\n        this.bizTypeName = null;\r\n        this.code = null;\r\n        this.name = null;\r\n    }\r\n\r\n    public ConvertToJsonObject(): {} {\r\n        let obj = super.ConvertToJsonObject();\r\n\r\n        BpmnModelJsonHelper.SetAttributeValue(obj, \"id\", this.id);\r\n        BpmnModelJsonHelper.SetAttributeValue(obj, \"moduleName\", this.moduleName);\r\n        BpmnModelJsonHelper.SetAttributeValue(obj, \"bizKindName\", this.bizKindName);\r\n        BpmnModelJsonHelper.SetAttributeValue(obj, \"bizTypeName\", this.bizTypeName);\r\n        BpmnModelJsonHelper.SetAttributeValue(obj, \"code\", this.code);\r\n        BpmnModelJsonHelper.SetAttributeValue(obj, \"name\", this.name);\r\n\r\n        return obj;\r\n    }\r\n\r\n    public LoadFromJsonObject(obj: {}): void {\r\n        super.LoadFromJsonObject(obj);\r\n\r\n        this.id = BpmnModelJsonHelper.GetAttributeValueAsString(obj, \"id\");\r\n        this.moduleName = BpmnModelJsonHelper.GetAttributeValueAsString(obj, \"moduleName\");\r\n        this.bizKindName = BpmnModelJsonHelper.GetAttributeValueAsString(obj, \"bizKindName\");\r\n        this.bizTypeName = BpmnModelJsonHelper.GetAttributeValueAsString(obj, \"bizTypeName\");\r\n        this.code = BpmnModelJsonHelper.GetAttributeValueAsString(obj, \"code\");\r\n        this.name = BpmnModelJsonHelper.GetAttributeValueAsString(obj, \"name\");\r\n    }\r\n}","import { Injectable } from \"@angular/core\";\r\nimport { HttpService, SessionService } from \"@ecp-caf/caf-common\";\r\nimport { NotifyService } from \"@farris/ui-notify\";\r\nimport { BusinessObjectRtService } from \"@gsp-lcm/bo-rt-service\";\r\nimport { TranslateService } from \"@ngx-translate/core\";\r\nimport { map } from \"rxjs/operators\";\r\nimport { DocuTypeHelperEntity } from \"./entity/DocuTypeHelperEntity\";\r\n\r\n@Injectable()\r\nexport class BillTypeHelpService {\r\n    documentTypeUrl = \"/api/runtime/aif/v1.0/documenttype\";\r\n\r\n    constructor(\r\n        public boRtService: BusinessObjectRtService,\r\n        public httpClient: HttpService,\r\n        public httpService: HttpService,\r\n        public sessionService: SessionService,\r\n        public notify: NotifyService,\r\n        public translate: TranslateService,\r\n    ) {\r\n    }\r\n\r\n    findDocumentTypeEntites() {\r\n        const body = {};\r\n        return this.httpService.post(`${this.documentTypeUrl}/docutypehelper`, body).pipe(\r\n            map(\r\n                (res: any) => {\r\n                    return res.map(it => {\r\n                        const e = new DocuTypeHelperEntity();\r\n                        e.LoadFromJsonObject(it);\r\n                        return e;\r\n                    });\r\n                }\r\n            )\r\n        );\r\n    }\r\n}","export const BILL_TYPE_HELP_LANG_RESOURCES = {\r\n    \"zh-CHS\": {\r\n        \"code\": \"编号\",\r\n        \"name\": \"名称\",\r\n        \"busineseCategory\": \"业务种类\",\r\n        \"module\": \"模块\",\r\n        \"busineseType\": \"业务类型\",\r\n        \"collapse\": \"收起\",\r\n        \"expand\": \"展开\",\r\n        \"loading\": \"加载中\",\r\n        \"allColumns\": \"所有列\",\r\n    },\r\n    \"en\": {\r\n        \"code\": \"Code\",\r\n        \"name\": \"Name\",\r\n        \"busineseCategory\": \"Businese Category\",\r\n        \"module\": \"Module\",\r\n        \"busineseType\": \"Businese Type\",\r\n        \"collapse\": \"Collapse\",\r\n        \"expand\": \"Expand\",\r\n        \"loading\": \"Loading\",\r\n        \"allColumns\": \"All Columns\",\r\n    },\r\n    \"zh-CHT\": {\r\n        \"code\": \"編號\",\r\n        \"name\": \"名稱\",\r\n        \"busineseCategory\": \"業務種類\",\r\n        \"module\": \"模塊\",\r\n        \"busineseType\": \"業務類型\",\r\n        \"collapse\": \"收起\",\r\n        \"expand\": \"展開\",\r\n        \"loading\": \"加載中\",\r\n        \"allColumns\": \"所有列\",\r\n    }\r\n};","import { Component, EventEmitter, OnInit, Output, ViewChild } from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { Observable } from 'rxjs';\r\n\r\nimport { LoadingService } from '@farris/ui-loading';\r\nimport { MessagerService } from '@farris/ui-messager';\r\nimport { BsModalService } from '@farris/ui-modal';\r\nimport { NotifyService } from '@farris/ui-notify';\r\n\r\nimport { DocuTypeHelperEntity } from '../entity/DocuTypeHelperEntity';\r\nimport { BillTypeHelpService } from '../bill-type-help.service';\r\nimport { NodeSelectedParam, TreeNode, TreeTableComponent } from '@farris/ui-treetable';\r\nimport { AifLocalePipe, BIF_LANG_RESOURCES } from '../../aif-ui-common/pipe/aif-ui-common-locale.pipe';\r\nimport { BILL_TYPE_HELP_LANG_RESOURCES } from '../i18n/lang.resource';\r\n\r\n@Component({\r\n  selector: 'app-bill-type-help',\r\n  templateUrl: './bill-type-help.component.html',\r\n  styleUrls: ['./bill-type-help.component.css'],\r\n  providers: [\r\n    { provide: BIF_LANG_RESOURCES, useValue: BILL_TYPE_HELP_LANG_RESOURCES },\r\n    AifLocalePipe,\r\n  ]\r\n})\r\nexport class BillTypeHelpComponent implements OnInit {\r\n  @Output(\"onselected\")\r\n  onselected = new EventEmitter<DocuTypeHelperEntity>();\r\n\r\n  @ViewChild('tt')\r\n  tt: TreeTableComponent;\r\n  ttData: TreeNode[];\r\n  ttCols: any[];\r\n  ttIdField = 'id';\r\n  ttSearchFields: {\r\n    label: string;\r\n    value: string;\r\n  }[] = [];\r\n  ttSearchObj: { field: string, value: string };\r\n  ttAllColumnsTitle: string = this.localePipe.instant(\"allColumns\");\r\n\r\n  docuTypeList: DocuTypeHelperEntity[] = [];\r\n\r\n  docuTypeId: string;\r\n\r\n  constructor(\r\n    private entityService: BillTypeHelpService,\r\n    private messager: MessagerService,\r\n    private notify: NotifyService,\r\n    private modal: BsModalService,\r\n    private loading: LoadingService,\r\n    private localePipe: AifLocalePipe,\r\n    private router: Router,\r\n    private activatedRoute: ActivatedRoute,\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n    this.configLookupColumns();\r\n    this.loadItems();\r\n  }\r\n\r\n  getSelectedDocuType(): DocuTypeHelperEntity {\r\n    return this.tt.selectedRow && this.tt.selectedRow.data;\r\n  }\r\n\r\n  /**\r\n   * 左侧树表搜索事件\r\n   */\r\n  ttSearch(obj: { field: string, value: string }) {\r\n    this.ttSearchObj = obj;\r\n    this.ttSearchObj && this.tt.searchHandle.search(this.ttSearchObj.field, this.ttSearchObj.value);\r\n  }\r\n\r\n\r\n  loadItems() {\r\n    let entities$: Observable<DocuTypeHelperEntity[]> = null;\r\n    entities$ = this.entityService.findDocumentTypeEntites();\r\n    const l = this.loading.show({ message: this.localePipe.instant(\"loading\") });\r\n    entities$.subscribe(\r\n      (entities: DocuTypeHelperEntity[]) => {\r\n        l.close();\r\n        this.ttData = [...this.buildTreeData(entities)];\r\n        this.docuTypeList = entities;\r\n        setTimeout(() => {\r\n          this.tt.expandAll();\r\n          if (this.docuTypeId) {\r\n            this.tt.selectNode(this.docuTypeId);\r\n          } else {\r\n            //默认选中第一条数据\r\n            this.docuTypeList && this.docuTypeList.length > 0 && this.tt.selectNode(this.docuTypeList[0].id);\r\n          }\r\n        }, 100);\r\n      },\r\n      (err) => {\r\n        l.close();\r\n        //todo 确定异常结构, 目前采用兼容取值方式\r\n        this.messager.error(err.error == null ? err.message : (err.error.Message || err.error.message || err.message));\r\n        throw err;\r\n      }\r\n    );\r\n  }\r\n\r\n  ttNodeSelected(nsp: NodeSelectedParam) {\r\n    let rows: TreeNode[] = [];\r\n    if (Array.isArray(nsp.node)) {\r\n      const arr: TreeNode[] = nsp.node;\r\n      arr.forEach(it => {\r\n        rows.push(it);\r\n      });\r\n    } else {\r\n      rows.push(nsp.node);\r\n    }\r\n    if (rows.length == 0) {\r\n      return;\r\n    }\r\n    let row = rows[0];\r\n    this.docuTypeId = row.id;\r\n  }\r\n\r\n  buildTreeData(entities: DocuTypeHelperEntity[]): TreeNode[] {\r\n    const nodes: TreeNode[] = [];\r\n    const map: {\r\n      [key: string]: DocuTypeHelperEntity[]\r\n    } = {};\r\n    entities && entities.forEach(it => {\r\n      if (map[it.bizKindName] == null) {\r\n        map[it.bizKindName] = [it];\r\n      } else {\r\n        map[it.bizKindName].push(it);\r\n      }\r\n    });\r\n\r\n    Object.keys(map).forEach(key => {\r\n      const node: TreeNode = {\r\n        id: key,\r\n        data: {\r\n          id: key,\r\n          bizKindName: key,\r\n          treeInfo: {\r\n            layer: 1,\r\n          }\r\n        },\r\n        selectable: false,\r\n        leaf: false,\r\n      };\r\n\r\n      const children = map[key].map(it => {\r\n        const node: TreeNode = {\r\n          id: it.id,\r\n          data: {\r\n            ...it,\r\n            treeInfo: {\r\n              layer: 2,\r\n              parentId: key,\r\n            },\r\n          },\r\n          selectable: true,\r\n          leaf: true\r\n        };\r\n\r\n        return node;\r\n      });\r\n\r\n      node.children = children;\r\n\r\n      nodes.push(node);\r\n    });\r\n\r\n    return nodes;\r\n  }\r\n\r\n  private configLookupColumns() {\r\n    this.ttCols = [\r\n      { field: \"bizKindName\", title: this.localePipe.instant(\"busineseCategory\"), width: 100 },\r\n      { field: \"name\", title: this.localePipe.instant(\"name\"), width: 80 },\r\n      { field: \"code\", title: this.localePipe.instant(\"code\"), width: 80 },\r\n      { field: \"moduleName\", title: this.localePipe.instant(\"module\"), width: 100 },\r\n      { field: \"bizTypeName\", title: this.localePipe.instant(\"busineseType\"), width: 100 },\r\n    ];\r\n  }\r\n}\r\n","import { ChangeDetectorRef, Component, ComponentFactoryResolver, EventEmitter, Inject, Injector, Input, LOCALE_ID, OnInit, Optional, Output, TemplateRef, ViewChild } from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { TypeConverter } from '@farris/ide-property-panel';\r\nimport { LoadingService } from '@farris/ui-loading';\r\nimport { MessagerService } from '@farris/ui-messager';\r\nimport { BsModalService } from '@farris/ui-modal';\r\nimport { NotifyService } from '@farris/ui-notify';\r\nimport { GSPViewModel } from '@gsp-bef/gsp-vo-metadata';\r\nimport { Metadata4RefDto, SelectMetadataRTComponent } from '@gsp-lcm/metadatart-selector';\r\nimport { FrameworkService } from '@gsp-sys/rtf-common';\r\nimport { BillTypeHelpComponent } from '../bill-type-help/bill-type-help/bill-type-help.component';\r\nimport { WF_LANG_RESOURCES, WfLocalePipe } from '../../i18n/pipe/wf-process-editor-locale.pipe';\r\nimport { WF_PROCESS_EDITOR_LANG_RESOURCES } from '../../i18n/assets/lang.resource';\r\n\r\ntype VoConfig = {\r\n  currentVoId?: string;\r\n  currentVoName?: string;\r\n  currentDocumentTypeId?: string;\r\n  currentDocumentTypeName?: string;\r\n};\r\n\r\n@Component({\r\n  selector: 'lib-vo-config',\r\n  templateUrl: './vo-config.component.html',\r\n  styleUrls: [],\r\n  providers: [\r\n     WfLocalePipe,\r\n  ]\r\n})\r\nexport class VoConfigComponent implements OnInit {\r\n  readonly groupIcon = '<i class=\"f-icon f-icon-lookup\"></i>';\r\n\r\n  @Output() closeModal = new EventEmitter<any>();\r\n  @Output() submitModal = new EventEmitter<any>();\r\n\r\n  @Input()\r\n  set value(data: VoConfig) {\r\n    if (data) {\r\n      this.entity = data || {};\r\n    }\r\n  }\r\n\r\n  @Input() editorParams: {\r\n    bizTypeId?: string\r\n  } = {};\r\n\r\n  @ViewChild('iconSelectFooter') modalFooter: TemplateRef<any>;\r\n  modalConfig = {\r\n    title: this.localePipe.transform(\"component.voConfig.documentInfo\"),\r\n    width: 500,\r\n    height: 240,\r\n    showButtons: true\r\n  };\r\n\r\n  entity: VoConfig = {};\r\n\r\n  constructor(\r\n    private messager: MessagerService,\r\n    private notify: NotifyService,\r\n    private modal: BsModalService,\r\n    private framework: FrameworkService,\r\n    private router: Router,\r\n    private activatedRoute: ActivatedRoute,\r\n    private loading: LoadingService,\r\n    private cfr: ComponentFactoryResolver,\r\n    private inj: Injector,\r\n    @Optional() private cdr: ChangeDetectorRef,\r\n    @Inject(LOCALE_ID) private localeId: string,\r\n    @Inject(WF_LANG_RESOURCES) private resources: any,\r\n    @Optional() private localePipe: WfLocalePipe,\r\n  ) {\r\n    this.localePipe = this.localePipe || new WfLocalePipe(localeId, resources);\r\n  }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  clickOk() {\r\n    const obj = { value: this.entity, parameters: null };\r\n    this.submitModal.emit(obj);\r\n  }\r\n\r\n  clickCancel() {\r\n    this.closeModal.emit();\r\n  }\r\n\r\n  selectVo() {\r\n    const compFactory = this.cfr.resolveComponentFactory(SelectMetadataRTComponent);\r\n    const compRef = compFactory.create(this.inj);\r\n    compRef.instance.typeList = 'GSPViewModel';\r\n    // 元数据选择器bizTypeId表示业务种类Id\r\n    compRef.instance.bizTypeId = this.editorParams && this.editorParams.bizTypeId;\r\n\r\n    compRef.instance.selectedMetadata.subscribe(\r\n      (metadata4RefDto: Metadata4RefDto) => {\r\n        this.clearVo();\r\n        const voDto = metadata4RefDto.metadata;\r\n        const vo: GSPViewModel = JSON.parse(voDto.content);\r\n\r\n        this.entity.currentVoId = vo.ID;\r\n        this.entity.currentVoName = vo.Name;\r\n      },\r\n      (err) => {\r\n        console.error(err);\r\n        // todo 确定异常结构, 目前采用兼容取值方式\r\n        this.messager.error(err.error == null ? err.message : (err.error.Message || err.error.message || err.message));\r\n        this.clearVo();\r\n      }\r\n    );\r\n\r\n    const modalConfig = {\r\n      title: this.localePipe.transform(\"component.voConfig.viewModelSelection\"),\r\n      width: 930,\r\n      height: 573,\r\n      showButtons: false\r\n    };\r\n    const dialog = this.modal.show(compRef, modalConfig);\r\n    compRef.instance.closeModalEmitter.subscribe($event => dialog.close());\r\n  }\r\n\r\n  clearVo() {\r\n    this.entity.currentVoId = undefined;\r\n    this.entity.currentVoName = undefined;\r\n  }\r\n\r\n  selectDocuType() {\r\n    const cmpF = this.cfr.resolveComponentFactory(BillTypeHelpComponent);\r\n    const cmpR = cmpF.create(this.inj, []);\r\n    cmpR.instance.docuTypeId = this.entity.currentDocumentTypeId;\r\n\r\n    const buttons = [];\r\n    buttons.push(\r\n      {\r\n        text: this.localePipe.transform(\"component.voConfig.cancel\"),\r\n        cls: \"btn btn-secondary\",\r\n        handle: () => {\r\n          bsModal && bsModal.close();\r\n        }\r\n      }\r\n    );\r\n\r\n    buttons.push(\r\n      {\r\n        text: this.localePipe.transform(\"component.voConfig.clickOk\"),\r\n        cls: \"btn btn-primary\",\r\n        handle: () => {\r\n          const docuType = cmpR.instance.getSelectedDocuType();\r\n          if (docuType == null) {\r\n            this.notify.warning(this.localePipe.transform(\"component.voConfig.selectOne\"));\r\n            return;\r\n          }\r\n          this.entity.currentDocumentTypeId = docuType.id;\r\n          this.entity.currentDocumentTypeName = docuType.name;\r\n          bsModal && bsModal.close();\r\n        }\r\n      },\r\n    );\r\n\r\n    const bsModal = this.modal.show(cmpR, {\r\n      title: this.localePipe.transform(\"component.voConfig.documentTypeSelect\"),\r\n      height: 573,\r\n      width: 930,\r\n      buttons: buttons,\r\n      showMaxButton: false,\r\n    });\r\n  }\r\n\r\n  clearDocuType() {\r\n    this.entity.currentDocumentTypeId = undefined;\r\n    this.entity.currentDocumentTypeName = undefined;\r\n  }\r\n}\r\n\r\nexport class VoConfigConverter implements TypeConverter {\r\n  constructor(\r\n    private localePipe: WfLocalePipe\r\n  ) { }\r\n\r\n  convertTo(data: VoConfig): string {\r\n    if (data && data.currentVoId) {\r\n      return data.currentVoName || data.currentVoId || this.localePipe.transform(\"component.voConfig.set\");\r\n    }\r\n    return this.localePipe.transform(\"component.voConfig.notSet\");\r\n  }\r\n}\r\n","import { ChangeDetectorRef, Component, ComponentFactoryResolver, EventEmitter, Inject, Injector, Input, LOCALE_ID, OnInit, Optional, Output, TemplateRef, ViewChild } from '@angular/core';\r\nimport { HttpService } from '@ecp-caf/caf-common';\r\nimport { TypeConverter } from '@farris/ide-property-panel';\r\nimport { FarrisRadioGroupComponent } from '@farris/ui-forms';\r\nimport { MessagerService } from '@farris/ui-messager';\r\nimport { BsModalService } from '@farris/ui-modal';\r\nimport { NotifyService } from '@farris/ui-notify';\r\nimport { ExpressionService } from '@gsp-svc/expression';\r\nimport { ProcessDesignerUIState } from '../../app/process-designer.uistate';\r\nimport { ProcessDeUtil } from '../../domain/process-de-util';\r\nimport { SubProcessType } from '../call-activity-sub-process/SubProcessType';\r\nimport { WF_LANG_RESOURCES, WfLocalePipe } from '../../i18n/pipe/wf-process-editor-locale.pipe';\r\nimport { WF_PROCESS_EDITOR_LANG_RESOURCES } from '../../i18n/assets/lang.resource';\r\n\r\ntype WfOptins = {\r\n  subProcessType?: SubProcessType;\r\n  calledElement?: string;\r\n  calledBizDefKey?: string;\r\n  calledElementName?: string;\r\n  calledBizDefName?: string;\r\n};\r\n\r\n@Component({\r\n  selector: 'lib-wf-options',\r\n  templateUrl: './wf-options.component.html',\r\n  styleUrls: [],\r\n  providers: [\r\n     WfLocalePipe,\r\n  ]\r\n})\r\nexport class WfOptionsComponent implements OnInit {\r\n  @Input() editorParams: {\r\n    bizTypeId?: string\r\n  } = {};\r\n\r\n  @Input() set value(v: WfOptins) {\r\n    if (v) {\r\n      this.entity = v;\r\n      // 为子流程类型赋值\r\n      if (this.entity.calledElement == null || this.entity.calledElement == \"\") {\r\n        if (this.entity.calledBizDefKey == null || this.entity.calledBizDefKey == \"\") {\r\n          this.entity.subProcessType = SubProcessType.Specified;\r\n        } else {\r\n          this.entity.subProcessType = SubProcessType.Dynamic;\r\n        }\r\n      } else {\r\n        this.entity.subProcessType = SubProcessType.Specified;\r\n      }\r\n\r\n      this.getProcessDefKey(this.entity.calledElement);\r\n      this.getFlowForm(this.entity.calledBizDefKey);\r\n    }\r\n  }\r\n  @Output() closeModal = new EventEmitter<any>();\r\n  @Output() submitModal = new EventEmitter<any>();\r\n\r\n  @ViewChild('iconSelectFooter') modalFooter: TemplateRef<any>;\r\n  modalConfig = {\r\n    title: this.localePipe.transform(\"component.optins.wfOptions\"),\r\n    width: 500,\r\n    height: 240,\r\n    showButtons: true\r\n  };\r\n\r\n  readonly subProcessType = SubProcessType;\r\n\r\n  entity: WfOptins;\r\n\r\n  @ViewChild(\"radioGroupProcessType\")\r\n  radioGroupProcessType: FarrisRadioGroupComponent;\r\n  radioGroupProcessTypeData = [\r\n    { value: \"Specified\", name: this.localePipe.transform(\"component.optins.specified\") },\r\n    { value: \"Dynamic\", name: this.localePipe.transform(\"component.optins.dynamic\") },\r\n  ];\r\n\r\n  constructor(\r\n    private notify: NotifyService,\r\n    private modalService: BsModalService,\r\n    private message: MessagerService,\r\n    private util: ProcessDeUtil,\r\n    private http: HttpService,\r\n    private designerState: ProcessDesignerUIState,\r\n    private expr: ExpressionService,\r\n    private cfr: ComponentFactoryResolver,\r\n    private inj: Injector,\r\n    @Optional() private cdr: ChangeDetectorRef,\r\n    @Inject(LOCALE_ID) private localeId: string,\r\n    @Inject(WF_LANG_RESOURCES) private resources: any,\r\n    @Optional() private localePipe: WfLocalePipe,\r\n  ) {\r\n    this.localePipe = this.localePipe || new WfLocalePipe(localeId, resources);\r\n   }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  clickOk() {\r\n    const obj = { value: this.entity, parameters: null };\r\n    this.submitModal.emit(obj);\r\n  }\r\n\r\n  clickCancel() {\r\n    this.closeModal.emit();\r\n  }\r\n\r\n  processTypeChange(val) {\r\n    console.log(val);\r\n    if (val == SubProcessType.Specified) {\r\n      this.entity.calledBizDefKey = null;\r\n      this.entity.calledBizDefName = null;\r\n    } else if (val == SubProcessType.Dynamic) {\r\n      this.entity.calledElement = null;\r\n      this.entity.calledElementName = null;\r\n    }\r\n  }\r\n\r\n\r\n  processConfirm(args: any) {\r\n    if (args) {\r\n      this.entity.calledElement = args.procDefKey;\r\n      this.entity.calledElementName = args.name;\r\n    }\r\n  }\r\n\r\n  clearProcessDef(args: any) {\r\n    this.entity.calledElement = '';\r\n    this.entity.calledElementName = '';\r\n  }\r\n\r\n  flowFormConfirm(args: any) {\r\n    if (args) {\r\n      this.entity.calledBizDefKey = args.id;\r\n      this.entity.calledBizDefName = args.name;\r\n    }\r\n  }\r\n\r\n  clearFlowForm(args: any) {\r\n    this.entity.calledBizDefKey = '';\r\n    this.entity.calledBizDefName = '';\r\n  }\r\n\r\n  getProcessDefKey(key: string) {\r\n    let url = this.util.getProcessDefinitionWebApi();\r\n    if (key) {\r\n      url += `/procDefKey/${key}`;\r\n      this.http.get(url).subscribe((re: any) => {\r\n        this.entity.calledElementName = re.name;\r\n      });\r\n    }\r\n  }\r\n\r\n  getFlowForm(id: string) {\r\n    let url = this.util.getFlowFormWebApi();\r\n    if (id) {\r\n      url += `/${id}`;\r\n      this.http.get(url).subscribe((re: any) => {\r\n        this.entity.calledBizDefName = re.name;\r\n      });\r\n    }\r\n  }\r\n\r\n}\r\n\r\nexport class WfOptionsConverter implements TypeConverter {\r\n  constructor(\r\n    private localePipe: WfLocalePipe\r\n  ) { }\r\n\r\n  convertTo(data: any): string {\r\n    if (data && (data.calledBizDefKey || data.calledElement)) {\r\n      return this.localePipe.transform(\"component.optins.set\");\r\n    }\r\n    return this.localePipe.transform(\"component.optins.notSet\");\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { ProcessDesignerUIState } from './process-designer.uistate';\r\nimport { ElementPropertyConfig, PropertyEntity } from '@farris/ide-property-panel';\r\nimport { VoConfigComponent, VoConfigConverter } from '../views/vo-config/vo-config.component';\r\nimport { WfOptionsComponent, WfOptionsConverter } from '../views/wf-options/wf-options.component';\r\nimport { WfLocalePipe } from '../i18n/pipe/wf-process-editor-locale.pipe';\r\n\r\n@Injectable()\r\nexport class BillNodeActivityAdapter {\r\n    constructor(\r\n        private uiState: ProcessDesignerUIState,\r\n        private localPipe: WfLocalePipe\r\n    ) {\r\n    }\r\n    setProperty(obj: any) {\r\n        this.uiState.propertyData = obj.propertyData;\r\n        this.uiState.propertyConfig = this.setConfig(obj.propertyConfig);\r\n    }\r\n\r\n    private setConfig(obj: any[]): ElementPropertyConfig[] {\r\n        const propertyConfig: ElementPropertyConfig[] = [];\r\n        if (obj) {\r\n            obj.forEach((element: ElementPropertyConfig) => {\r\n                this.setEntity(element.properties);\r\n                propertyConfig.push(element);\r\n            });\r\n        }\r\n        return propertyConfig;\r\n    }\r\n    private setEntity(obj: PropertyEntity[]) {\r\n        if (obj && obj.length > 0) {\r\n            obj.forEach((item: PropertyEntity) => {\r\n                switch (item.propertyID) {\r\n                    case \"VoConfig\":\r\n                        item.converter = new VoConfigConverter(this.localPipe);\r\n                        item.editor = VoConfigComponent;\r\n                        item.editorParams = {\r\n                            bizTypeId: this.uiState.flowFormInfo.flowForm.businessObjectId\r\n                        };\r\n                        break;\r\n                    case \"WfOpts\":\r\n                        item.converter = new WfOptionsConverter(this.localPipe);\r\n                        item.editor = WfOptionsComponent;\r\n                        item.editorParams = {\r\n                            bizTypeId: this.uiState.flowFormInfo.flowForm.businessObjectId\r\n                        };\r\n                        break;\r\n                    case \"wfConfig\": //启用工作流\r\n                        item.iterator = this.uiState.boolIterator;\r\n                        break;\r\n                    default:\r\n                        break;\r\n                }\r\n            });\r\n        }\r\n    }\r\n}\r\n","export enum SequenceFlowPropertyKeys {\r\n    Id = \"Id\",\r\n    Name = \"Name\",\r\n    NameLanguage = \"NameLanguage\",\r\n    ClrTypeID = \"ClrTypeID\",\r\n    ConditionExpression = \"ConditionExpression\",\r\n    Default = \"Default\",\r\n    billCreationType = \"billCreationType\",\r\n    billRelationType = \"billRelationType\",\r\n    aifAutoProcessCode = \"aifAutoProcessCode\",\r\n    aifPushProcessCode = \"aifPushProcessCode\",\r\n    aifPullProcessCode = \"aifPullProcessCode\",\r\n}","import { Injectable } from '@angular/core';\r\nimport { ProcessDesignerUIState } from './process-designer.uistate';\r\nimport { ElementPropertyConfig, PropertyEntity } from '@farris/ide-property-panel';\r\nimport { KeyMap } from '@farris/ide-property-panel';\r\nimport { ProcessListHelpComponent } from '../views/aif-process-list-help/components/process-list-help/process-list-help.component';\r\nimport { AifCreationBillProcessConverter } from '../views/aif-process-list-help/AifCreationBillProcessConverter';\r\nimport { SequenceFlowPropertyKeys } from '../designer/wf-cell/property-keys/SequenceFlowPropertyKeys';\r\nimport { AifLocalePipe } from '../views/aif-ui-common/pipe/aif-ui-common-locale.pipe';\r\n\r\n@Injectable()\r\nexport class SequenceActivityAdapter {\r\n    constructor(\r\n        private uiState: ProcessDesignerUIState,\r\n        public localePipe: AifLocalePipe\r\n        ) {\r\n\r\n    }\r\n    setProperty(obj: any) {\r\n        this.uiState.propertyData = obj.propertyData;\r\n        this.uiState.propertyConfig = this.setConfig(obj.propertyConfig);\r\n    }\r\n\r\n    private setConfig(obj: any[]): ElementPropertyConfig[] {\r\n        const propertyConfig: ElementPropertyConfig[] = [];\r\n        if (obj) {\r\n            obj.forEach((element: ElementPropertyConfig) => {\r\n                this.setEntity(element.properties);\r\n                propertyConfig.push(element);\r\n            });\r\n        }\r\n        return propertyConfig;\r\n    }\r\n    private setEntity(obj: PropertyEntity[]) {\r\n        if (obj && obj.length > 0) {\r\n            obj.forEach((item: PropertyEntity) => {\r\n                switch (item.propertyID) {\r\n                    case SequenceFlowPropertyKeys.billCreationType:\r\n                        item.iterator = billCreationTypeKeyMap;\r\n                        break;\r\n                    case SequenceFlowPropertyKeys.billRelationType:\r\n                        item.iterator = billRelationTypeKeyMap;\r\n                        break;\r\n                    case SequenceFlowPropertyKeys.aifAutoProcessCode:\r\n                        item.editor = ProcessListHelpComponent;\r\n                        item.converter = new AifCreationBillProcessConverter(this.localePipe);\r\n                        item.editorParams = {\r\n                            bizTypeId: this.uiState.flowFormInfo.flowForm.businessObjectId\r\n                        };\r\n                        break;\r\n                    case SequenceFlowPropertyKeys.aifPushProcessCode:\r\n                        item.editor = ProcessListHelpComponent;\r\n                        item.converter = new AifCreationBillProcessConverter(this.localePipe);\r\n                        item.editorParams = {\r\n                            bizTypeId: this.uiState.flowFormInfo.flowForm.businessObjectId\r\n                        };\r\n                        break;\r\n                    case SequenceFlowPropertyKeys.aifPullProcessCode:\r\n                        item.editor = ProcessListHelpComponent;\r\n                        item.converter = new AifCreationBillProcessConverter(this.localePipe);\r\n                        item.editorParams = {\r\n                            bizTypeId: this.uiState.flowFormInfo.flowForm.businessObjectId\r\n                        };\r\n                        break;\r\n                    default:\r\n                        break;\r\n                }\r\n            });\r\n        }\r\n    }\r\n}\r\n\r\nexport const billCreationTypeKeyMap: KeyMap[] = [\r\n    { key: \"AUTO\", value: \"自动生单\" },\r\n    { key: \"PUSH\", value: \"推式生单\" },\r\n    { key: \"PULL\", value: \"拉式生单\" },\r\n];\r\n\r\nexport const billRelationTypeKeyMap: KeyMap[] = [\r\n    { key: \"CREATION\", value: \"通过生单流程生成目标单\" },\r\n    // { key: \"EXPRESSION\", value: \"通过表达式获取目标单\" },\r\n];","import { Injectable, Injector, ComponentFactoryResolver } from '@angular/core';\r\nimport { ProcessDesignerUIState } from './process-designer.uistate';\r\nimport { ProcessDesignerDataService } from '../domain/process-designer.dataservice';\r\nimport { forkJoin } from 'rxjs/observable/forkJoin';\r\nimport { ProcessClrTypeID } from '../model/process-clrtypeId';\r\nimport { BpmnProcessViewModel } from './bpmn-process.viewmodel';\r\nimport { WFFlowElementsViewModel } from './wf-flowElements.viewModel';\r\nimport { NotifyService, NotifyOptions } from '@farris/ui-notify';\r\nimport { MessagerService } from '@farris/ui-messager';\r\nimport { map, switchMap } from 'rxjs/operators';\r\nimport { FlowFormInfo } from '../domain/entities/flowform-info';\r\nimport { of, Subject, from, Observable } from 'rxjs';\r\nimport { BsModalService } from '@farris/ui-modal';\r\nimport { SaveAsEditComponent } from '../views/save-as-edit/save-as-edit.component';\r\nimport { ProcessDeUtil } from '../domain/process-de-util';\r\nimport { HttpErrorResponse } from '@angular/common/http';\r\nimport { SubProcessViewModel } from './sub-process.viewmodel';\r\nimport { AutoActivityAdapter } from './auto-activity.adapter';\r\nimport { CatchEventAdapter } from './catch-event.adapter';\r\nimport { MessageActivityAdapter } from './message-activity.adapter';\r\nimport { AuditEvent, AuditProcessDefInfo } from '../domain/entities/audit-processDef-info';\r\nimport { RTProcessInfo } from '../model/rt-process-info';\r\nimport { HttpService } from '@ecp-caf/caf-common';\r\nimport { ProcessInfo } from '../model/process-info';\r\nimport { NotifyActivityAdapter } from './notify-activity.adapter';\r\nimport { FlowFormEntity } from '../domain/entities/flowform.entity';\r\nimport { AifCreationBillActivityAdapter } from './aif-creation-bill-activity.adapter';\r\nimport { EventBusService } from '../views/shared/event-bus.service';\r\nimport { ReleaseComponent } from '../views/release-component/release-component.component';\r\nimport { BillNodeActivityAdapter } from './bill-node-activity.adapter';\r\nimport { SequenceActivityAdapter } from './sequecne-activity.adapter';\r\nimport { BpmnModel } from '@edp-pmf/bpmn-model';\r\nimport { WfLocalePipe } from '../i18n/pipe/wf-process-editor-locale.pipe';\r\n\r\n\r\n@Injectable()\r\n\r\nexport class ProcessDesignerViewModel {\r\n  constructor(\r\n    public uiState: ProcessDesignerUIState,\r\n    private service: ProcessDesignerDataService,\r\n    private util: ProcessDeUtil,\r\n    private notify: NotifyService,\r\n    private message: MessagerService,\r\n    private process: BpmnProcessViewModel,\r\n    private activity: WFFlowElementsViewModel,\r\n    private subProcess: SubProcessViewModel,\r\n    private autoActAdapter: AutoActivityAdapter,\r\n    private catchEventAdapter: CatchEventAdapter,\r\n    private messageActAdapter: MessageActivityAdapter,\r\n    private notifyActAdapter: NotifyActivityAdapter,\r\n    private creationActAdapter: AifCreationBillActivityAdapter,\r\n    private billNodeActivityAdapter: BillNodeActivityAdapter,\r\n    private sequenceActivityAdapter: SequenceActivityAdapter,\r\n    private modalService: BsModalService,\r\n    private injector: Injector,\r\n    private resolver: ComponentFactoryResolver,\r\n    private http: HttpService,\r\n    private eventBus: EventBusService,\r\n    private localePipe: WfLocalePipe\r\n  ) {\r\n  }\r\n\r\n  // 初始加载流程属性\r\n  initProcessProperty(obj: any) {\r\n    const pptData = obj.propertyData;\r\n    const ffId = pptData.EntryForm;\r\n    if (ffId) {\r\n      pptData.EntryForm = this.uiState.flowFormInfo.flowForm;\r\n      this.uiState.propertyConfig = this.process.setProcessConfig(obj.propertyConfig);\r\n      this.uiState.propertyData = pptData;\r\n    } else {\r\n      this.uiState.propertyConfig = this.process.setProcessConfig(obj.propertyConfig);\r\n      this.uiState.propertyData = pptData;\r\n    }\r\n  }\r\n  setProperty(obj: any) {\r\n    // 更新属性框数据与配置\r\n    const propertyData = obj.propertyData;\r\n    switch (propertyData.ClrTypeID) {\r\n      case ProcessClrTypeID.process:\r\n        this.process.setProcessProperty(obj);\r\n        break;\r\n      case ProcessClrTypeID.userActivity:\r\n        this.activity.setUserActivityProperty(obj, 'userActivity');\r\n        break;\r\n      case ProcessClrTypeID.subProcess:\r\n        this.subProcess.setProperty(obj);\r\n        break;\r\n      case ProcessClrTypeID.autoActivity:\r\n        this.autoActAdapter.setProperty(obj);\r\n        break;\r\n      case ProcessClrTypeID.catchEvent:\r\n        this.catchEventAdapter.setProperty(obj);\r\n        break;\r\n      case ProcessClrTypeID.operationActivity:\r\n        this.activity.setUserActivityProperty(obj, 'autoActivity');\r\n        break;\r\n      case ProcessClrTypeID.messageActivity:\r\n        this.messageActAdapter.setProperty(obj);\r\n        break;\r\n      case ProcessClrTypeID.notifyActivity:\r\n        this.notifyActAdapter.setProperty(obj);\r\n        break;\r\n      case ProcessClrTypeID.aifCreationBillActivity:\r\n        this.creationActAdapter.setProperty(obj);\r\n        break;\r\n      case ProcessClrTypeID.billNodeActivity:\r\n        this.billNodeActivityAdapter.setProperty(obj);\r\n        break;\r\n      case ProcessClrTypeID.sequenceActivity:\r\n        this.sequenceActivityAdapter.setProperty(obj);\r\n        break;\r\n      default:\r\n        this.activity.setFlowElementProperty(obj);\r\n        break;\r\n    }\r\n  }\r\n  public updateSchemas(): Observable<any> {\r\n    const $schemas = new Subject<any>();\r\n    this.uiState.schemas = [];\r\n    // 检查是否有精简be，如果有则覆盖原有be\r\n    if (this.uiState.flowFormInfo.formalParameters && this.uiState.flowFormInfo.formalParameters.length > 0) {\r\n      const schemaParams = this.uiState.flowFormInfo.formalParameters.filter(p => p.dataType === 'CDTSchema' && p.schemaMetadataId);\r\n      const bizDefKey = this.uiState.flowFormInfo.flowForm.id;\r\n      this.getBeMappingByBizDefKey(bizDefKey).subscribe((re) => {\r\n        if (re && re.enable) {\r\n          return this.service.getBusinessEntitybyId(re.newSchemaMetaDataId).subscribe(\r\n            d => {\r\n              let data = [d];\r\n              if (data && data.length > 0) {\r\n                data.forEach((d: any) => {\r\n                  this.uiState.schemas.push(d);\r\n                });\r\n              }\r\n              $schemas.next(true);\r\n            }, err => {\r\n              this.uiState.schemas = [];\r\n              $schemas.next(true);\r\n            })\r\n        } else {\r\n          forkJoin(schemaParams.map(para => {\r\n            return this.service.getBusinessEntitybyId(para.schemaMetadataId);\r\n          })).subscribe(data => {\r\n            if (data && data.length > 0) {\r\n              data.forEach((d: any) => {\r\n                this.uiState.schemas.push(d);\r\n              });\r\n            }\r\n            $schemas.next(true);\r\n          }, err => {\r\n            this.uiState.schemas = [];\r\n            $schemas.next(true);\r\n          });\r\n        }\r\n      });\r\n    } else {\r\n      this.uiState.schemas = [];\r\n      $schemas.next(true);\r\n    }\r\n    return $schemas.asObservable();\r\n  }\r\n\r\n  public getFlowFormInfoById(formId: string): Observable<FlowFormInfo> {\r\n    const $flowform = new Subject<FlowFormInfo>();\r\n    if (formId) {\r\n      forkJoin(this.service.GetFlowFormbyId(formId),\r\n        this.service.getParametersbyFlowFormKey(formId).pipe(\r\n          map((params: any[]) => {\r\n            this.setFormParamCxt(params);\r\n            return params;\r\n          })\r\n        ),\r\n        this.service.getComponentsbyFlowformkey(formId),\r\n        this.service.getExecuteFormbyFlowFormKey(formId),\r\n        this.service.getBizActivities(formId),\r\n        this.service.getCustomizeActions(formId)\r\n      ).subscribe((re: any[]) => {\r\n        const flowform = new FlowFormInfo();\r\n        flowform.flowForm = re[0];\r\n        flowform.formalParameters = re[1];\r\n        flowform.bizComponents = re[2].filter(cmp => cmp.ownerType !== 'Activity');\r\n        flowform.excuteForms = re[3];\r\n        flowform.bizActivities = re[4];\r\n        flowform.customizeActions = re[5];\r\n        this.uiState.flowFormInfo = flowform;\r\n        this.updateSchemas().subscribe((re) => {\r\n          $flowform.next(flowform);\r\n        });\r\n      });\r\n    }\r\n    return $flowform.asObservable();\r\n  }\r\n\r\n  public getFormFormatsByBizCategory(): Observable<any> {\r\n    if (this.uiState.flowFormInfo.flowForm.businessObjectId) {\r\n      let url = `/api/runtime/wf/v1.0/formFormat/query?param=`;\r\n      let param = `{\"bizCategory\":\"${this.uiState.flowFormInfo.flowForm.businessObjectId}\"}`;\r\n      param = encodeURIComponent(param);\r\n      url += param;\r\n      return this.http.get(url);\r\n    } else {\r\n      return from(new Array());\r\n    }\r\n  }\r\n  /**\r\n   * 保存流程\r\n   * @param content 流程上下文\r\n   */\r\n  saveProcess(content: string, processInfo: ProcessInfo, state: number): Observable<any> {\r\n    return this.service.saveProcess(content, processInfo, state);\r\n  }\r\n  /**\r\n   * 发布流程\r\n   * @param content 流程上下文\r\n   */\r\n  deployProcess(content: string): Observable<any> {\r\n    return this.service.deployProcess(content);\r\n  }\r\n  /**\r\n   * 带审核的发布流程\r\n   * @param content 流程上下文\r\n   */\r\n  releaseProcess(content: string, version) {\r\n    const process = JSON.parse(content);\r\n    const compFactory = this.resolver.resolveComponentFactory(ReleaseComponent);\r\n    const compRef = compFactory.create(this.injector);\r\n    compRef.instance.procName = process.DefaultProcess.Name;\r\n    compRef.instance.procVersion = version === 1 ? 1 : version + 1;\r\n    compRef.instance.processDefinitionKey = process.DefaultProcess.Key;\r\n    const modalOptions = {\r\n      title: this.localePipe.transform('app.processDesigner.releaseProcess'),\r\n      width: 500, height: 550,\r\n      buttons: compRef.instance.btnRef,\r\n      showButtons: true\r\n    };\r\n    const dlg = this.modalService.show(compRef, modalOptions);\r\n    compRef.instance.submit.subscribe((re: any) => {\r\n      dlg.close();\r\n    });\r\n    compRef.instance.cancel.subscribe(re => {\r\n      dlg.close();\r\n    });\r\n  }\r\n\r\n  auditProcessDef(auditId: AuditEvent, success: boolean, key: string) {\r\n    const info = new AuditProcessDefInfo();\r\n    info.auditId = auditId;\r\n    info.success = success;\r\n    info.processDefKey = key;\r\n\r\n    this.service.auditProcessDef(info);\r\n  }\r\n\r\n  /**\r\n   * 保存运行时流程\r\n   * @param content 流程上下文\r\n   */\r\n  saveRTProcess(content: string, procDefId: string): Observable<any> {\r\n    return this.service.saveRTProcess(content, procDefId);\r\n  }\r\n\r\n  saveAsProcess(process: BpmnModel, processInfo: ProcessInfo) {\r\n    const compFactory = this.resolver.resolveComponentFactory(SaveAsEditComponent);\r\n    const compRef = compFactory.create(this.injector);\r\n    compRef.instance.procKey = process.DefaultProcess.Key;\r\n    compRef.instance.procName = process.DefaultProcess.Name + this.localePipe.transform('app.processDesigner.copy');\r\n    compRef.instance.isAdministratorConfig = this.uiState.isAdministratorConfig;\r\n    compRef.instance.enableAdminOrgAut = this.uiState.enableAdminOrgAut;\r\n    compRef.instance.administrator = this.uiState.administrator;\r\n    compRef.instance.accessLevel = processInfo.accessLevel;\r\n    if (!this.uiState.enableAdminOrgAut && !this.uiState.isAdministratorConfig) {\r\n      compRef.instance.organization = processInfo.procOrg.orgId;\r\n      compRef.instance.organizationName = processInfo.procOrg.orgName;\r\n    }\r\n    const modalOptions = {\r\n      title: this.localePipe.transform('app.processDesigner.saveAs'),\r\n      width: 450, height: 400,\r\n      buttons: compRef.instance.btnRef,\r\n      showButtons: true\r\n    };\r\n    const dlg = this.modalService.show(compRef, modalOptions);\r\n    compRef.instance.submit.subscribe((re: any) => {\r\n      process.DefaultProcess.Name = re.procName;\r\n      const procInfo = new ProcessInfo();\r\n      procInfo.accessLevel = re.accessLevel;\r\n      procInfo.procOrg = {\r\n        orgId: re.organization,\r\n        orgName: re.organizationName\r\n      };\r\n      this.saveProcess(process.ConvertToJson(), procInfo, 1).subscribe(r => {\r\n        this.notify.success({\r\n          title: this.localePipe.transform('app.processDesigner.tips'), msg: this.localePipe.transform('app.processDesigner.saveAsSuccess'), timeout: 3000\r\n        } as NotifyOptions);\r\n      }, err => {\r\n        this.notify.error({\r\n          title: this.localePipe.transform('app.processDesigner.tips'), msg: this.localePipe.transform('app.processDesigner.saveAsFail'), timeout: 3000\r\n        } as NotifyOptions);\r\n      });\r\n      dlg.close();\r\n    });\r\n    compRef.instance.cancel.subscribe(r => {\r\n      dlg.close();\r\n    });\r\n  }\r\n\r\n\r\n  /**\r\n   * 同步设计器时流程定义\r\n   */\r\n  syncDtProcess(content: string, rtProcessInfo: RTProcessInfo, showTip = true) {\r\n    if (content) {\r\n      const process = JSON.parse(content);\r\n      if (showTip) {\r\n        this.message.question(this.localePipe.transform('app.processDesigner.syncDt'), () => {\r\n          this.service.syncDtProcess(content, rtProcessInfo).subscribe((data) => {\r\n            this.notify.success({\r\n              title: this.localePipe.transform('app.processDesigner.tips'), msg: this.localePipe.transform('app.processDesigner.syncSuccess'), timeout: 3000\r\n            } as NotifyOptions);\r\n            this.auditProcessDef(AuditEvent.WF_ProcessDef_SyncDT, true, process.DefaultProcess.Key);\r\n          },\r\n            (error: HttpErrorResponse) => {\r\n              this.notify.error({\r\n                title: this.localePipe.transform('app.processDesigner.tips'), msg: error.error.Message, timeout: 3000\r\n              } as NotifyOptions);\r\n              this.auditProcessDef(AuditEvent.WF_ProcessDef_SyncDT, false, process.DefaultProcess.Key);\r\n            });\r\n        });\r\n      } else {\r\n        this.service.syncDtProcess(content, rtProcessInfo).subscribe((data) => {\r\n          this.notify.success({\r\n            title: this.localePipe.transform('app.processDesigner.tips'), msg: this.localePipe.transform('app.processDesigner.syncSuccess'), timeout: 3000\r\n          } as NotifyOptions);\r\n          this.auditProcessDef(AuditEvent.WF_ProcessDef_SyncDT, true, process.DefaultProcess.Key);\r\n        },\r\n          (error: HttpErrorResponse) => {\r\n            this.notify.error({\r\n              title: this.localePipe.transform('app.processDesigner.tips'), msg: error.error.Message, timeout: 3000\r\n            } as NotifyOptions);\r\n            this.auditProcessDef(AuditEvent.WF_ProcessDef_SyncDT, false, process.DefaultProcess.Key);\r\n          });\r\n      }\r\n    }\r\n  }\r\n\r\n  beforeCompleteStrategyChange(data: any, processInfo: RTProcessInfo): Observable<boolean> {\r\n    const url = `/api/runtime/wf/v1.0/processInstances/runtimeActivityInstances?procDefId=${processInfo.rtProcDefId}&activityDefinitionId=${data.Id}`;\r\n    return this.http.get(url).pipe(\r\n      switchMap((re: any) => {\r\n        if (re && re.length > 0) {\r\n          this.message.info(this.localePipe.transform('app.processDesigner.beforeCompleteStrategyChange'));\r\n          return of(false);\r\n        } else {\r\n          return of(true);\r\n        }\r\n      })\r\n    );\r\n  }\r\n\r\n  public getProcessCategory(procCategoryId: string): Observable<FlowFormEntity> {\r\n    return this.service.GetFlowFormbyId(procCategoryId);\r\n  }\r\n\r\n\r\n  private setFormParamCxt(params: any[]) {\r\n    this.uiState.formalParameterContext = [];\r\n    if (params && params.length > 0) {\r\n      params.forEach(param => {\r\n        if (param.dataType === 'CDTSchema') {\r\n          const formalParameterContext = [{\r\n            key: `schemaId_${param.code}`,\r\n            name: `schemaId_${param.name}`,\r\n            description: `schemaId_${param.name}`\r\n          }, {\r\n            key: `metadataId_${param.code}`,\r\n            name: `metadataId_${param.name}`,\r\n            description: `metadataId_${param.name}`\r\n          }];\r\n          this.uiState.formalParameterContext = this.uiState.formalParameterContext.concat(formalParameterContext);\r\n        }\r\n      });\r\n    }\r\n  }\r\n  public copy(ResourceKeys, data) {\r\n    this.eventBus.emit(ResourceKeys, data);\r\n  }\r\n  public batchSet(ResourceKeys, data) {\r\n    this.eventBus.emit(ResourceKeys, data);\r\n  }\r\n  getProcDefsByKey(key: string): Observable<any> {\r\n    if (key) {\r\n      const url = `/api/runtime/wf/v1.0/procDefs/key?procDefKey=${key}`;\r\n      return this.http.get(url);\r\n    }\r\n  }\r\n  checkExpressionsByPayload(bizDefKey: string, schema: any): Observable<any> {\r\n    const checkExpressionsPayload = {\r\n      bizDefKey: bizDefKey,\r\n      schema: schema\r\n    };\r\n    const url = `/api/runtime/wf/v1.0/flowForm/checkExpressionsByPayload`;\r\n    return this.http.post(url, checkExpressionsPayload);\r\n  }\r\n  getBeMappingByBizDefKey(bizDefKey: string): Observable<any> {\r\n    const url = `/api/runtime/wf/v1.0/flowForm/getBeMappingByBizDefKey?bizDefKey=${bizDefKey}`;\r\n    return this.http.get(url);\r\n  }\r\n}\r\n","import { ProcessOrganization } from './process-info';\r\n\r\nexport class RTProcessInfo {\r\n    rtProcDefId: string;\r\n    flowFormId: string;\r\n    /**\r\n     * 流程组织\r\n     */\r\n    procOrg?: ProcessOrganization;\r\n    /**\r\n     * 访问级别\r\n     */\r\n    accessLevel?: string;\r\n    /**\r\n     * 流程名称\r\n     */\r\n    procName: string;\r\n}\r\n","import { Component, OnInit, ViewChild, TemplateRef, Optional, ChangeDetectorRef, LOCALE_ID, Inject } from '@angular/core';\r\nimport { Subject } from 'rxjs';\r\nimport { WF_LANG_RESOURCES, WfLocalePipe } from '../../i18n/pipe/wf-process-editor-locale.pipe';\r\nimport { WF_PROCESS_EDITOR_LANG_RESOURCES } from '../../i18n/assets/lang.resource';\r\n\r\n@Component({\r\n  selector: 'lib-note',\r\n  templateUrl: './note.component.html',\r\n  styleUrls: ['./note.component.scss'],\r\n  providers: [\r\n     WfLocalePipe,\r\n  ]\r\n})\r\nexport class NoteComponent implements OnInit {\r\n\r\n  @ViewChild('footer') footer: TemplateRef<any>;\r\n\r\n  record: string;\r\n\r\n  submit = new Subject<string>();\r\n  cancel = new Subject<any>();\r\n\r\n  placeholder = this.localePipe.transform('component.note.placeholder');\r\n\r\n  constructor(\r\n  @Optional() private cdr: ChangeDetectorRef,\r\n  @Inject(LOCALE_ID) private localeId: string,\r\n  @Inject(WF_LANG_RESOURCES) private resources: any,\r\n  @Optional() private localePipe: WfLocalePipe\r\n  ) {\r\n    this.localePipe = this.localePipe || new WfLocalePipe(localeId, resources);\r\n   }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n\r\n  clickOK() {\r\n    this.submit.next(this.record);\r\n  }\r\n\r\n  clickCancel() {\r\n    this.cancel.next();\r\n  }\r\n\r\n}\r\n","export class MessageReceiver {\r\n    type: string;\r\n    processParticipant: string;\r\n    activityDefName: string;\r\n    activityDefId: string;\r\n    variableParticipant: string;\r\n    variableName: string;\r\n    userIds: string;\r\n    userNames: string;\r\n    positionId: string;\r\n    positionName: string;\r\n    positionType: string;\r\n    orgId: string;\r\n    orgType: string;\r\n}","import { BizParameter } from \"./BizParameter\";\r\n\r\nexport class BizComponent {\r\n    id: string;\r\n    name: string;\r\n    executionTime: string;\r\n    metadataId: string;\r\n    methodCode: string;\r\n    actualParameters: Array<BizParameter>;\r\n    isForCompensation?: boolean;\r\n    scopeType?: string;\r\n}","export class BizParameter {\r\n    code: string;\r\n    name: string;\r\n    value: string;\r\n}","/**\r\n * Wf相关常量\r\n */\r\nexport class WfConstants {\r\n    static getBasePath() {\r\n        try {\r\n            return (window as any).gspframeworkService.common.getBasePath.get();\r\n        } catch (error) {\r\n        }\r\n    }\r\n    static PF_CMP_ID1 = '7433df25-9260-4c24-86f0-9da3e89450fb';\r\n    static PF_CMP_ID2 = 'd0783800-ed60-488c-b053-8806a15947fe';\r\n    static PF_CMP_ID3 = 'b89e9b9a-2e2d-4bd0-b354-187219544d34';\r\n    static PF_CMP_ID4 = 'a8b8f7a4-49ae-4b7d-88d2-b3772b9d0ae5';\r\n    static IMAGE_PATH = WfConstants.getBasePath() + \"/platform/runtime/common/web/@gsp-wf/wf-process-editor/images\";\r\n}","import { WfConstants } from \"./WfConstants\";\r\n\r\nexport class WfDesignerUtils {\r\n    /**\r\n     * 是否为共享流程构件\r\n     * @param metadataId \r\n     * @returns \r\n     */\r\n    public static isPfComponent(metadataId: string) {\r\n        if (metadataId === WfConstants.PF_CMP_ID1\r\n            || metadataId === WfConstants.PF_CMP_ID2\r\n            || metadataId === WfConstants.PF_CMP_ID3\r\n            || metadataId === WfConstants.PF_CMP_ID4) {\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    /**\r\n     * 创建内码\r\n     */\r\n    public static createNM() {\r\n        function S4() {\r\n            return (((1 + Math.random()) * 0x10000) | 0).toString(16).substring(1);\r\n        }\r\n        return (S4() + S4() + '-' + S4() + '-' + S4() + '-' + S4() + '-' + S4() + S4() + S4());\r\n    }\r\n}","/**\r\n * 工作流事件\r\n */\r\nexport enum WfEvents {\r\n    ShowTips = \"ShowTips\",\r\n}","export class Participant {\r\n    id: string;\r\n    type: string;\r\n    condition?: string;\r\n    order: number;\r\n}","import { Participant } from \"./Participant\";\r\n\r\nexport class UserParticipant extends Participant {\r\n    performerId: string;\r\n    performerName: string;\r\n    orgId?: string;\r\n    orgName?: string;\r\n    orgType?: string;\r\n    tag?: string;\r\n}\r\n","import { UserParticipant } from \"./UserParticipant\";\r\n\r\nexport class VariablePerformer extends UserParticipant {\r\n    name: string\r\n    varValue: string;\r\n    varType: string;\r\n    relation: string;\r\n}","import { UserParticipant } from \"./UserParticipant\";\r\n\r\nexport class PositionParticipant extends UserParticipant {\r\n    positionType: string;\r\n    isRequired?: boolean;\r\n}","import { ActualParameter } from \"./ActualParameter\";\r\nimport { Participant } from \"./Participant\";\r\n\r\nexport class ComponentParticipant extends Participant {\r\n    name: string;\r\n    metadataId: string;\r\n    methodCode: string;\r\n    methodName: string;\r\n    actualParameters: Array<ActualParameter>;\r\n}","import { UserParticipant } from \"./UserParticipant\";\r\n\r\nexport class ReportingLineParticipant extends UserParticipant {\r\n    reportingLineDefId: string;\r\n    reportingLineDefName: string;\r\n    refOrgId: string;\r\n    refOrgName: string;\r\n    refUserId: string;\r\n    refEmployeeId: string;\r\n    dimension: string;\r\n    reportingReferObject: string;\r\n}","import { UserParticipant } from \"./UserParticipant\";\r\n\r\nexport class ActivityExecutorParticipant extends UserParticipant {\r\n    activityDefId: string;\r\n    activityDefName: string;\r\n  }","import { UserParticipant } from \"./UserParticipant\";\r\n\r\nexport class MatrixParticipant extends UserParticipant {\r\n    /**\r\n     * 用于存储字段id\r\n     */\r\n    matrixDefId: string;\r\n    matrixDefName: string;\r\n    conditionField1: string;\r\n    conditionFieldText1: string;\r\n    conditionField2: string;\r\n    conditionFieldText2: string;\r\n    conditionField3: string;\r\n    conditionFieldText3: string;\r\n    multivaluedCondition: string;\r\n    dataFieldAlias: string;\r\n}","import { ActionScope } from \"./ActionScope\";\r\nimport { OrganizationLevel } from \"./OrganizationLevel\";\r\nimport { Participant } from \"./Participant\";\r\n\r\nexport class OrganizationParticipant extends Participant {\r\n    name: string;\r\n    actionScope: ActionScope;\r\n    organizationLevel: OrganizationLevel;\r\n    organizationId: string;\r\n    organizationCode: string;\r\n    organizationName: string;\r\n    includeChildren: boolean;\r\n    parentsUntil: boolean;\r\n    tag: string;\r\n}","export enum ActionScope {\r\n    /**\r\n     * 指派\r\n     */\r\n    AssignUser = 'AssignUser',\r\n    /**\r\n     * 移交\r\n     */\r\n    Transfer = 'Transfer',\r\n    /**\r\n     * 征询\r\n     */\r\n    AddSignFront = 'AddSignFront',\r\n    /**\r\n     * 加签\r\n     */\r\n    AddSignBehind = 'AddSignBehind',\r\n    /**\r\n     * 知会\r\n     */\r\n    Notify = 'Notify',\r\n}","import { BpmnModel, ExtensionElement, DataType, DataTypes, DataObject, Process } from \"@edp-pmf/bpmn-model\";\r\nimport { ValuedDataObject, CDTSchemaType, HumanPerformerImpl, PotentialOwnerImpl, ParticipantExpression, VariableParticipantExpression, ComponentParticipantExpression, ReportingLineParticipantExpression, MatrixParticipantExpression, OrganizationParticipantExpression, VariableSetting, Component, MessageNotice, ActivityExecutorParticipantExpression, UserParticipantExpression, PositionParticipantExpression } from \"@gsp-wf/wf-process-model\";\r\nimport { BizComponent } from \"../entity/BizComponent\";\r\nimport { BizParameter } from \"../entity/BizParameter\";\r\nimport { UserParticipant } from \"../entity/UserParticipant\";\r\nimport { Participant } from \"../entity/Participant\";\r\nimport { VariablePerformer } from \"../entity/VariablePerformer\";\r\nimport { PositionParticipant } from \"../entity/PositionParticipant\";\r\nimport { ComponentParticipant } from \"../entity/ComponentParticipant\";\r\nimport { ReportingLineParticipant } from \"../entity/ReportingLineParticipant\";\r\nimport { ActivityExecutorParticipant } from \"../entity/ActivityExecutorParticipant\";\r\nimport { MatrixParticipant } from \"../entity/MatrixParticipant\";\r\nimport { OrganizationParticipant } from \"../entity/OrganizationParticipant\";\r\nimport { ActionScope } from \"../entity/ActionScope\";\r\nimport { MessageReceiver } from \"../entity/MessageReceiver\";\r\nimport { WfDesignerUtils } from \"../WfDesignerUtils\";\r\nimport { mxResources } from \"@edp-pmf/mxgraph-ts\";\r\nimport { ActionOrganizationScope, OrganizationPotentialOwner } from \"../../views/organization-potential-owner/actionOrganizationScope\";\r\nimport { ParticipantInfo } from \"../../views/participant/participant.info\";\r\n\r\n/**\r\n * 属性工具\r\n */\r\nexport class PropertyHelper {\r\n    /**\r\n     * 获取变量赋值列表\r\n     * @param bpmnModel\r\n     * @param variablesSetting\r\n     * @returns\r\n     */\r\n    public static getVariableSettings(bpmnModel: BpmnModel, variablesSetting: VariableSetting[]) {\r\n        const variables = new Array();\r\n        const extendElements: ExtensionElement[] = bpmnModel.DefaultProcess.GetExtensionElements();\r\n        if (variablesSetting && variablesSetting.length > 0) {\r\n            for (const v of variablesSetting) {\r\n                const variable: any = {\r\n                    variableCode: v.variableCode,\r\n                    variableName: v.variableName,\r\n                    tag: v.tag,\r\n                    executionTime: v.executionTime,\r\n                    value: v.value,\r\n                    valueText: v.valueText\r\n                }\r\n                if (v.tag === 'component') {\r\n                    if (extendElements.length > 0) {\r\n                        for (const e of extendElements) {\r\n                            if (e instanceof Component && e.Id === v.value) {\r\n                                const component: any = {\r\n                                    Id: e.Id,\r\n                                    Name: e.Name,\r\n                                    MetadataId: e.MetadataId,\r\n                                    MethodCode: e.MethodCode,\r\n                                    ActualParameters: []\r\n                                }\r\n                                if (e.ActualParameters && e.ActualParameters.length > 0) {\r\n                                    for (const p of e.ActualParameters) {\r\n                                        const parameter = {\r\n                                            Name: p.Name,\r\n                                            Value: p.Value,\r\n                                            Tag: p.Tag,\r\n                                        };\r\n                                        component.ActualParameters.push(parameter);\r\n                                    }\r\n                                }\r\n                                variable.component = component;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                variables.push(variable);\r\n            }\r\n        }\r\n\r\n        return variables;\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param messageNotices\r\n     * @returns\r\n     */\r\n    public static getMessageNotices(messageNotices: MessageNotice[]) {\r\n        if (!messageNotices || messageNotices.length == 0) {\r\n            return null;\r\n        }\r\n        return messageNotices.map(m => {\r\n            const message: any = new Object;\r\n            message.content = m.content;\r\n            message.sendTime = m.sendTime;\r\n            message.sendType = m.sendType;\r\n            message.subject = m.subject;\r\n            if (m.smsMessageTemplate) {\r\n                const smsTemplate: any = new Object;\r\n                smsTemplate.code = m.smsMessageTemplate.code;\r\n                smsTemplate.content = m.smsMessageTemplate.content;\r\n                smsTemplate.smsMessageVariables = new Array();\r\n                if (m.smsMessageTemplate.smsMessageVariables && m.smsMessageTemplate.smsMessageVariables.length > 0) {\r\n                    for (const v of m.smsMessageTemplate.smsMessageVariables) {\r\n                        const variable: any = new Object;\r\n                        variable.id = WfDesignerUtils.createNM();\r\n                        variable.code = v.code;\r\n                        variable.value = v.value;\r\n                        variable.tag = v.tag;\r\n                        smsTemplate.smsMessageVariables.push(variable);\r\n                    }\r\n                }\r\n                message.smsMessageTemplate = smsTemplate;\r\n            }\r\n            const receiverExpressions = new Array<MessageReceiver>();\r\n            if (m.receiver) {\r\n                const receivers = m.receiver.split(',');\r\n                const receiverTexts = m.receiverText.split(',');\r\n                let userReceiver = new MessageReceiver();\r\n                userReceiver.type = 'userParticipant';\r\n                userReceiver.userIds = '';\r\n                userReceiver.userNames = '';\r\n                for (const i in receivers) {\r\n                    if (receivers[i] === 'procInstCreator') {\r\n                        let procInstCreator = new MessageReceiver()\r\n                        procInstCreator.type = 'processParticipant';\r\n                        procInstCreator.processParticipant = 'procInstCreator';\r\n                        receiverExpressions.push(procInstCreator);\r\n                    } else if (receivers[i] === 'workItemParticipant') {\r\n                        let workItemParticipant = new MessageReceiver()\r\n                        workItemParticipant.type = 'processParticipant';\r\n                        workItemParticipant.processParticipant = 'workItemParticipant';\r\n                        receiverExpressions.push(workItemParticipant);\r\n                    } else {\r\n                        userReceiver.userIds += (receivers[i] + ',');\r\n                        userReceiver.userNames += (receiverTexts[i] + ',');\r\n                    }\r\n                }\r\n                if (userReceiver.userIds) {\r\n                    userReceiver.userIds = userReceiver.userIds.substring(0, userReceiver.userIds.length - 1);\r\n                    userReceiver.userNames = userReceiver.userNames.substring(0, userReceiver.userNames.length - 1);\r\n                    receiverExpressions.push(userReceiver);\r\n                }\r\n            }\r\n            if (m.receiverExpressions && m.receiverExpressions.length > 0) {\r\n                for (const e of m.receiverExpressions) {\r\n                    if (e instanceof ActivityExecutorParticipantExpression) {\r\n                        let activityExecutorParticipant = new MessageReceiver();\r\n                        activityExecutorParticipant.type = 'processParticipant';\r\n                        activityExecutorParticipant.processParticipant = 'activityExecutorParticipant';\r\n                        activityExecutorParticipant.activityDefId = e.activityDefId;\r\n                        activityExecutorParticipant.activityDefName = e.activityDefName;\r\n\r\n                        receiverExpressions.push(activityExecutorParticipant);\r\n                    } else if (e instanceof UserParticipantExpression) {\r\n                        let variableReceiver = new MessageReceiver();\r\n                        variableReceiver.type = 'variableParticipant';\r\n                        variableReceiver.variableParticipant = e.UserId;\r\n                        variableReceiver.variableName = e.name;\r\n                        variableReceiver.orgType = e.OrgType;\r\n                        receiverExpressions.push(variableReceiver);\r\n                    } else if (e instanceof PositionParticipantExpression) {\r\n                        let positionReceiver = new MessageReceiver();\r\n                        positionReceiver.type = 'positionParticipant';\r\n                        positionReceiver.positionId = e.PositionId;\r\n                        positionReceiver.positionName = e.PositionName;\r\n                        positionReceiver.positionType = e.PositionType;\r\n                        if (positionReceiver.positionType === '1') {\r\n                            positionReceiver.orgId = e.OrgId;\r\n                            positionReceiver.orgType = e.OrgType;\r\n                        }\r\n\r\n                        receiverExpressions.push(positionReceiver);\r\n                    }\r\n                }\r\n            }\r\n            if (receiverExpressions.length > 0) {\r\n                message.receivers = receiverExpressions;\r\n            }\r\n            return message;\r\n        });\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param components\r\n     * @returns\r\n     */\r\n    public static getBizComponentList(components: Array<Component>): Array<BizComponent> {\r\n        const bizComponentList = new Array();\r\n        if (components && components.length > 0) {\r\n            for (const component of components) {\r\n                const bizComponent = new BizComponent();\r\n                bizComponent.id = component.Id;\r\n                bizComponent.name = component.Name;\r\n                bizComponent.metadataId = component.MetadataId;\r\n                bizComponent.methodCode = component.MethodCode;\r\n                bizComponent.executionTime = component.Time;\r\n                bizComponent.isForCompensation = component.isForCompensation;\r\n                bizComponent.scopeType = component.ScopeType || null;\r\n                bizComponent.actualParameters = new Array();\r\n                if (component.ActualParameters && component.ActualParameters.length > 0) {\r\n                    for (const param of component.ActualParameters) {\r\n                        const bizParam = new BizParameter();\r\n                        bizParam.code = param.Name;\r\n                        bizParam.name = param.Name;\r\n                        bizParam.value = param.Value;\r\n                        bizComponent.actualParameters.push(bizParam);\r\n                    }\r\n                }\r\n                bizComponentList.push(bizComponent);\r\n            }\r\n        }\r\n        return bizComponentList;\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param roles\r\n     * @param type\r\n     * @returns\r\n     */\r\n    public static getPerformerList(roles: (HumanPerformerImpl | PotentialOwnerImpl)[]): Participant[] {\r\n        const performers = new Array<Participant>();\r\n\r\n        roles.forEach((role: HumanPerformerImpl | PotentialOwnerImpl) => {\r\n            if (role == null) {\r\n                return;\r\n            }\r\n            if (role.participantExpression instanceof UserParticipantExpression) {\r\n                const user = role.participantExpression as UserParticipantExpression;\r\n                if (user) {\r\n                    const userPerformer = new UserParticipant();\r\n                    userPerformer.id = user.id;\r\n                    userPerformer.performerId = user.UserId;\r\n                    userPerformer.performerName = user.name;\r\n                    userPerformer.type = user.ClrTypeID;\r\n                    userPerformer.orgId = user.OrgId;\r\n                    userPerformer.orgName = user.OrgName;\r\n                    userPerformer.orgType = user.OrgType;\r\n                    userPerformer.condition = role.condition ? role.condition.Value : '';\r\n                    userPerformer.tag = user.Tag;\r\n                    userPerformer.order = role.order;\r\n                    performers.push(userPerformer);\r\n                }\r\n            } else if (role.participantExpression instanceof VariableParticipantExpression) {\r\n                const variable = role.participantExpression as VariableParticipantExpression;\r\n                if (variable) {\r\n                    const variablePerformer = new VariablePerformer();\r\n                    variablePerformer.id = variable.id,\r\n                        variablePerformer.name = variable.Name,\r\n                        variablePerformer.type = variable.ClrTypeID,\r\n                        variablePerformer.condition = role.condition ? role.condition.Value : '',\r\n                        variablePerformer.tag = variable.Tag\r\n                    variablePerformer.relation = variable.Relation;\r\n                    variablePerformer.varType = variable.VarType;\r\n                    variablePerformer.varValue = variable.VarValue;\r\n                    variablePerformer.order = role.order;\r\n                    performers.push(variablePerformer);\r\n                }\r\n            } else if (role.participantExpression instanceof PositionParticipantExpression) {\r\n                const position = role.participantExpression as PositionParticipantExpression;\r\n                if (position) {\r\n                    const positionPerformer = new PositionParticipant();\r\n                    positionPerformer.id = position.id;\r\n                    positionPerformer.performerId = position.PositionId;\r\n                    positionPerformer.positionType = position.PositionType;\r\n                    positionPerformer.performerName = position.PositionName;\r\n                    positionPerformer.type = position.ClrTypeID;\r\n                    positionPerformer.orgId = position.OrgId || '';\r\n                    positionPerformer.orgName = position.OrgName || '';\r\n                    positionPerformer.orgType = position.OrgType || '';\r\n                    positionPerformer.condition = role.condition ? role.condition.Value : '';\r\n                    positionPerformer.order = role.order;\r\n                    performers.push(positionPerformer);\r\n                }\r\n            } else if (role.participantExpression instanceof ComponentParticipantExpression) {\r\n                const cmp = role.participantExpression as ComponentParticipantExpression;\r\n                if (cmp) {\r\n                    const componentPerformer = new ComponentParticipant();\r\n                    componentPerformer.id = cmp.id;\r\n                    componentPerformer.name = cmp.componentName;\r\n                    componentPerformer.metadataId = cmp.componentId;\r\n                    componentPerformer.methodCode = cmp.methodCode;\r\n                    componentPerformer.methodName = cmp.methodName;\r\n                    componentPerformer.type = cmp.ClrTypeID;\r\n                    componentPerformer.actualParameters = new Array();\r\n\r\n                    if (cmp.actualParameters && cmp.actualParameters.length > 0) {\r\n                        let paramters: any = [];\r\n                        cmp.actualParameters.forEach(p => paramters.push({ code: p.Name, value: p.Value, valueText: p.ValueText, tag: p.Tag }));\r\n                        componentPerformer.actualParameters = paramters;\r\n                    }\r\n                    if (role.condition) {\r\n                        componentPerformer.condition = role.condition.Value;\r\n                    }\r\n                    componentPerformer.order = role.order;\r\n                    performers.push(componentPerformer);\r\n                }\r\n            } else if (role.participantExpression instanceof ReportingLineParticipantExpression) {\r\n                const r = role.participantExpression as ReportingLineParticipantExpression;\r\n                if (r) {\r\n                    const reportingLine = new ReportingLineParticipant();\r\n                    reportingLine.id = r.id;\r\n                    reportingLine.reportingLineDefId = r.ReportingLineDefId;\r\n                    reportingLine.reportingLineDefName = r.ReportingLineDefName;\r\n                    reportingLine.refOrgId = r.RefOrgId;\r\n                    reportingLine.refUserId = r.RefUserId;\r\n                    reportingLine.refEmployeeId = r.RefEmployeeId;\r\n                    reportingLine.dimension = r.Dimension;\r\n                    reportingLine.performerName = r.RefUserId;\r\n                    reportingLine.tag = r.Tag;\r\n                    reportingLine.type = r.ClrTypeID;\r\n                    if (role.condition) {\r\n                        reportingLine.condition = role.condition.Value;\r\n                    }\r\n                    reportingLine.order = role.order;\r\n                    performers.push(reportingLine);\r\n                }\r\n            } else if (role.participantExpression instanceof ActivityExecutorParticipantExpression) {\r\n                const r = role.participantExpression as ActivityExecutorParticipantExpression;\r\n                if (r) {\r\n                    const activityExecutor = new ActivityExecutorParticipant();\r\n                    activityExecutor.id = r.id;\r\n                    activityExecutor.type = r.ClrTypeID;\r\n                    activityExecutor.activityDefId = r.activityDefId;\r\n                    activityExecutor.activityDefName = r.activityDefName;\r\n                    activityExecutor.performerName = '<' + r.activityDefName + mxResources.get('eventHandler');\r\n                    if (role.condition) {\r\n                        activityExecutor.condition = role.condition.Value;\r\n                    }\r\n                    activityExecutor.order = role.order;\r\n                    performers.push(activityExecutor);\r\n                }\r\n            } else if (role.participantExpression instanceof MatrixParticipantExpression) {\r\n                const r = role.participantExpression as MatrixParticipantExpression;\r\n                if (r) {\r\n                    const matrix = new MatrixParticipant();\r\n                    matrix.id = r.id;\r\n                    matrix.matrixDefId = r.matrixDefId;\r\n                    matrix.matrixDefName = r.matrixDefName;\r\n                    matrix.conditionField1 = r.conditionField1;\r\n                    matrix.conditionFieldText1 = r.conditionFieldText1;\r\n                    matrix.conditionField2 = r.conditionField2;\r\n                    matrix.conditionFieldText2 = r.conditionFieldText2;\r\n                    matrix.conditionField3 = r.conditionField3;\r\n                    matrix.conditionFieldText3 = r.conditionFieldText3;\r\n                    matrix.multivaluedCondition = r.multivaluedCondition;\r\n                    matrix.dataFieldAlias = r.dataFieldAlias;\r\n                    matrix.type = r.ClrTypeID;\r\n                    matrix.order = role.order;\r\n                    if (role.condition) {\r\n                        matrix.condition = role.condition.Value;\r\n                    }\r\n\r\n                    performers.push(matrix);\r\n                }\r\n            } else if (role.participantExpression instanceof OrganizationParticipantExpression) {\r\n                const r = role.participantExpression as OrganizationParticipantExpression;\r\n                if (r) {\r\n                    const organization = new OrganizationParticipant;\r\n                    organization.id = r.id;\r\n                    organization.type = r.ClrTypeID;\r\n                    organization.name = r.name;\r\n                    organization.actionScope = r.actionScope as any;\r\n                    organization.organizationLevel = r.organizationLevel;\r\n                    organization.organizationId = r.organizationId;\r\n                    organization.organizationCode = r.organizationCode;\r\n                    organization.organizationName = r.organizationName;\r\n                    organization.includeChildren = r.includeChildren;\r\n                    organization.parentsUntil = r.parentsUntil;\r\n                    organization.tag = r.tag;\r\n                    organization.order = role.order;\r\n                    if (role.condition) {\r\n                        organization.condition = role.condition.Value;\r\n                    }\r\n\r\n                    performers.push(organization);\r\n                }\r\n            }\r\n        });\r\n        return performers;\r\n    }\r\n\r\n    /**\r\n     * 移交等的范围，与上个方法比这里传入的是具体的参与者类型（用户参与者、岗位参与者，balbala）\r\n     * @param roles\r\n     * @param type\r\n     * @returns\r\n     */\r\n    public static getPerformerListTest(roles: ParticipantExpression[]): Participant[] {\r\n        const performers = new Array<Participant>();\r\n\r\n        roles.forEach((role: ParticipantExpression) => {\r\n            if (role == null) {\r\n                return;\r\n            }\r\n            if (role instanceof UserParticipantExpression) {\r\n                const user = role as UserParticipantExpression;\r\n                if (user) {\r\n                    const userPerformer = new UserParticipant();\r\n                    userPerformer.id = user.id;\r\n                    userPerformer.performerId = user.UserId;\r\n                    userPerformer.performerName = user.name;\r\n                    userPerformer.type = user.ClrTypeID;\r\n                    userPerformer.orgId = user.OrgId;\r\n                    userPerformer.orgName = user.OrgName;\r\n                    userPerformer.orgType = user.OrgType;\r\n                    userPerformer.condition = role.condition ? role.condition.Value : '';\r\n                    userPerformer.tag = user.Tag;\r\n                    userPerformer.order = role.order;\r\n                    performers.push(userPerformer);\r\n                }\r\n            } else if (role instanceof VariableParticipantExpression) {\r\n                const variable = role as VariableParticipantExpression;\r\n                if (variable) {\r\n                    const variablePerformer = new VariablePerformer();\r\n                    variablePerformer.id = variable.id,\r\n                        variablePerformer.name = variable.Name,\r\n                        variablePerformer.type = variable.ClrTypeID,\r\n                        variablePerformer.condition = role.condition ? role.condition.Value : '',\r\n                        variablePerformer.tag = variable.Tag\r\n                    variablePerformer.relation = variable.Relation;\r\n                    variablePerformer.varType = variable.VarType;\r\n                    variablePerformer.varValue = variable.VarValue;\r\n                    variablePerformer.order = role.order;\r\n                    performers.push(variablePerformer);\r\n                }\r\n            } else if (role instanceof PositionParticipantExpression) {\r\n                const position = role as PositionParticipantExpression;\r\n                if (position) {\r\n                    const positionPerformer = new PositionParticipant();\r\n                    positionPerformer.id = position.id;\r\n                    positionPerformer.performerId = position.PositionId;\r\n                    positionPerformer.positionType = position.PositionType;\r\n                    positionPerformer.performerName = position.PositionName;\r\n                    positionPerformer.type = position.ClrTypeID;\r\n                    positionPerformer.orgId = position.OrgId || '';\r\n                    positionPerformer.orgName = position.OrgName || '';\r\n                    positionPerformer.orgType = position.OrgType || '';\r\n                    positionPerformer.condition = role.condition ? role.condition.Value : '';\r\n                    positionPerformer.order = role.order;\r\n                    performers.push(positionPerformer);\r\n                }\r\n            } else if (role instanceof ComponentParticipantExpression) {\r\n                const cmp = role as ComponentParticipantExpression;\r\n                if (cmp) {\r\n                    const componentPerformer = new ComponentParticipant();\r\n                    componentPerformer.id = cmp.id;\r\n                    componentPerformer.name = cmp.componentName;\r\n                    componentPerformer.metadataId = cmp.componentId;\r\n                    componentPerformer.methodCode = cmp.methodCode;\r\n                    componentPerformer.methodName = cmp.methodName;\r\n                    componentPerformer.type = cmp.ClrTypeID;\r\n                    componentPerformer.actualParameters = new Array();\r\n\r\n                    if (cmp.actualParameters && cmp.actualParameters.length > 0) {\r\n                        let paramters: any = [];\r\n                        cmp.actualParameters.forEach(p => paramters.push({ code: p.Name, value: p.Value, valueText: p.ValueText, tag: p.Tag }));\r\n                        componentPerformer.actualParameters = paramters;\r\n                    }\r\n                    if (role.condition) {\r\n                        componentPerformer.condition = role.condition.Value;\r\n                    }\r\n                    componentPerformer.order = role.order;\r\n                    performers.push(componentPerformer);\r\n                }\r\n            } else if (role instanceof ReportingLineParticipantExpression) {\r\n                const r = role as ReportingLineParticipantExpression;\r\n                if (r) {\r\n                    const reportingLine = new ReportingLineParticipant();\r\n                    reportingLine.id = r.id;\r\n                    reportingLine.reportingLineDefId = r.ReportingLineDefId;\r\n                    reportingLine.reportingLineDefName = r.ReportingLineDefName;\r\n                    reportingLine.refOrgId = r.RefOrgId;\r\n                    reportingLine.refUserId = r.RefUserId;\r\n                    reportingLine.refEmployeeId = r.RefEmployeeId;\r\n                    reportingLine.dimension = r.Dimension;\r\n                    reportingLine.performerName = r.RefUserId;\r\n                    reportingLine.tag = r.Tag;\r\n                    reportingLine.type = r.ClrTypeID;\r\n                    if (role.condition) {\r\n                        reportingLine.condition = role.condition.Value;\r\n                    }\r\n                    reportingLine.order = role.order;\r\n                    performers.push(reportingLine);\r\n                }\r\n            } else if (role instanceof ActivityExecutorParticipantExpression) {\r\n                const r = role as ActivityExecutorParticipantExpression;\r\n                if (r) {\r\n                    const activityExecutor = new ActivityExecutorParticipant();\r\n                    activityExecutor.id = r.id;\r\n                    activityExecutor.type = r.ClrTypeID;\r\n                    activityExecutor.activityDefId = r.activityDefId;\r\n                    activityExecutor.activityDefName = r.activityDefName;\r\n                    activityExecutor.performerName = '<' + r.activityDefName + mxResources.get('eventHandler');\r\n                    if (role.condition) {\r\n                        activityExecutor.condition = role.condition.Value;\r\n                    }\r\n                    activityExecutor.order = role.order;\r\n                    performers.push(activityExecutor);\r\n                }\r\n            } else if (role instanceof MatrixParticipantExpression) {\r\n                const r = role as MatrixParticipantExpression;\r\n                if (r) {\r\n                    const matrix = new MatrixParticipant();\r\n                    matrix.id = r.id;\r\n                    matrix.matrixDefId = r.matrixDefId;\r\n                    matrix.matrixDefName = r.matrixDefName;\r\n                    matrix.conditionField1 = r.conditionField1;\r\n                    matrix.conditionFieldText1 = r.conditionFieldText1;\r\n                    matrix.conditionField2 = r.conditionField2;\r\n                    matrix.conditionFieldText2 = r.conditionFieldText2;\r\n                    matrix.conditionField3 = r.conditionField3;\r\n                    matrix.conditionFieldText3 = r.conditionFieldText3;\r\n                    matrix.multivaluedCondition = r.multivaluedCondition;\r\n                    matrix.dataFieldAlias = r.dataFieldAlias;\r\n                    matrix.type = r.ClrTypeID;\r\n                    matrix.order = role.order;\r\n                    if (role.condition) {\r\n                        matrix.condition = role.condition.Value;\r\n                    }\r\n\r\n                    performers.push(matrix);\r\n                }\r\n            } else if (role instanceof OrganizationParticipantExpression) {\r\n                const r = role as OrganizationParticipantExpression;\r\n                if (r) {\r\n                    const organization = new OrganizationParticipant;\r\n                    organization.id = r.id;\r\n                    organization.type = r.ClrTypeID;\r\n                    organization.name = r.name;\r\n                    organization.actionScope = r.actionScope as any;\r\n                    organization.organizationLevel = r.organizationLevel;\r\n                    organization.organizationId = r.organizationId;\r\n                    organization.organizationCode = r.organizationCode;\r\n                    organization.organizationName = r.organizationName;\r\n                    organization.includeChildren = r.includeChildren;\r\n                    organization.parentsUntil = r.parentsUntil;\r\n                    organization.tag = r.tag;\r\n                    organization.order = role.order;\r\n                    if (role.condition) {\r\n                        organization.condition = role.condition.Value;\r\n                    }\r\n\r\n                    performers.push(organization);\r\n                }\r\n            }\r\n        });\r\n        return performers;\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param act\r\n     * @returns\r\n     */\r\n    public static getNotifyAble(notifyAble: boolean, dynamicParticipants: ParticipantExpression[]) {\r\n        const notifyScope = new ActionOrganizationScope();\r\n        notifyScope.action = ActionScope.Notify;\r\n        notifyScope.enable = notifyAble;\r\n\r\n        if (notifyAble) {       \r\n            const roles = dynamicParticipants.filter(r => r.actionScope === ActionScope.Notify);\r\n            let res = roles.find(r => (r as any).organizationLevel && !(r as any).order);\r\n            let list : Participant[] = [];\r\n            if(res) {\r\n                const organization = new OrganizationParticipant;\r\n                organization.id = res.id;\r\n                organization.type = res.ClrTypeID;\r\n                organization.name = res.name;\r\n                organization.actionScope = res.actionScope as any;\r\n                organization.organizationLevel = (res as any).organizationLevel;\r\n                organization.organizationId = (res as any).organizationId;\r\n                organization.organizationCode = (res as any).organizationCode;\r\n                organization.organizationName = (res as any).organizationName;\r\n                organization.includeChildren = (res as any).includeChildren;\r\n                organization.parentsUntil = (res as any).parentsUntil;\r\n                organization.tag = (res as any).tag;\r\n                organization.order = 1;\r\n                list.push(organization);\r\n            }else {\r\n                list = PropertyHelper.getPerformerListTest(roles);\r\n            }\r\n            notifyScope.scope = new OrganizationPotentialOwner();\r\n            if(list && list.length > 0) {\r\n                notifyScope.scope.participantInfo = new ParticipantInfo();\r\n                notifyScope.scope.participantInfo.potentialOwnerList = list;\r\n                notifyScope.scope.participantInfo.isAllScope = true;\r\n            }else {\r\n                notifyScope.scope.participantInfo = new ParticipantInfo();\r\n                notifyScope.scope.participantInfo.isAllScope = false;\r\n            }\r\n        }\r\n        return notifyScope;\r\n    }\r\n\r\n    public static updateFormalParameters(process: Process, parameters: any[]) {\r\n        if (!parameters) {\r\n            parameters = [];\r\n        }\r\n        let objects = process.GetDataObjects();\r\n        if (parameters !== null && parameters.length > 0) {\r\n            for (const p of parameters) {\r\n                const dataType = new DataType(process.Model);\r\n                // 先移除code相同的dataObject\r\n                for (const o of objects) {\r\n                    if (o instanceof DataObject && o.Name === p.code) {\r\n                        process.RemoveDataObject(o.Id);\r\n                    }\r\n                }\r\n                dataType.Category = DataTypes.BasicType;\r\n                dataType.BasicType = p.dataType;\r\n                dataType.Description = p.description;\r\n                // dataType.InitialValue = p.initialValue;\r\n                if (p.parameterMode === 0) {\r\n                    const dataObject = new ValuedDataObject(process.Model);\r\n                    dataObject.Name = p.code;\r\n                    dataObject.Documentation = p.name;\r\n                    dataObject.DataType = dataType;\r\n                    dataObject.IsAllowNull = p.allowNull;\r\n                    if (p.initialValue || p.initialValueType) {\r\n                        const variableSetting = new VariableSetting(process.Model);\r\n                        variableSetting.variableCode = p.code;\r\n                        variableSetting.variableName = p.name;\r\n                        variableSetting.tag = p.initialValueType;\r\n                        variableSetting.value = p.initialValue;\r\n                        variableSetting.valueText = p.initialValue;\r\n\r\n                        dataObject.variableSetting = variableSetting;\r\n                    }\r\n\r\n                    process.AddDataObject(dataObject);\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n","import { FarrisPropConfigWithData, ElementPropertyConfig, IFarrisPropertyPanelOperation, PmfEvents, ProcessCell } from \"@edp-pmf/grapheditor\";\r\nimport { BpmnModel, Process, BPMNPlane, BpmnModelHelper, ExtensionElement, DataTypes, DataType, DataObject } from \"@edp-pmf/bpmn-model\";\r\nimport { ProcessHeader, StartMode, Component, ParticipantExpression, DurationType, CDTSchemaType, ToolTime, ExecuteForm, VariableSetting, ActualParameter, TitleExpression, CustomizeAction, MessageNotice, TimeLimitControl, ExtendProperty, ImageSettings, PositionParticipantExpression, UserParticipantExpression, ValuedDataObject, TimeLimitControlInfo, SendMessageExpireOperationInfo, SendMessageExpireOperation, AutoHandleExpireOperation, AutoHandleExpireOperationInfo, ActivityExecutorParticipantExpression, SmsMessageTemplate, SmsMessageVariable, } from \"@gsp-wf/wf-process-model\";\r\nimport { mxEventObject, mxResources } from \"@edp-pmf/mxgraph-ts\";\r\nimport { WfEditorUi } from \"../WfEditorUi\";\r\nimport { MessageReceiver } from \"../entity/MessageReceiver\";\r\nimport { BizComponent } from \"../entity/BizComponent\";\r\nimport { BizParameter } from \"../entity/BizParameter\";\r\nimport { WfDesignerUtils } from \"../WfDesignerUtils\";\r\nimport { WfEvents } from \"../WfEvents\";\r\nimport { ProcessPropertyKeys } from \"./property-keys/ProcessPropertyKeys\";\r\nimport { PropertyHelper } from \"./PropertyHelper\";\r\nimport { ProcessDesignerUIState } from \"../../app/process-designer.uistate\";\r\nimport { WfLocalePipe } from \"../../i18n/pipe/wf-process-editor-locale.pipe\";\r\n\r\n/**\r\n * 流程元素类。\r\n * 取名虽然Cell，但实际上不需要继承mxCell以及Cell类，仅持有流程与画布实例，方法属性获取与修改操作。\r\n */\r\nexport class WfProcessCell extends ProcessCell {\r\n    process: Process;\r\n    plane: BPMNPlane;\r\n    editorUi: WfEditorUi;\r\n    uiState: ProcessDesignerUIState;\r\n\r\n    getFarrisPropConfig(): FarrisPropConfigWithData {\r\n        let extendList = [];\r\n        if (this.editorUi.procExtProps && this.editorUi.procExtProps.length > 0) {\r\n            extendList = JSON.parse(JSON.stringify(this.editorUi.procExtProps)).sort((a, b) => {\r\n                return a.sortOrder - b.sortOrder;\r\n            });\r\n        }\r\n        extendList = extendList.sort((a, b) => {\r\n            return a.sortOrder - b.sortOrder;\r\n        });\r\n\r\n        let propertyData = {};\r\n        let usual = new ElementPropertyConfig();\r\n        usual.categoryId = 'usual';\r\n        usual.categoryName =  mxResources.get(\"basicInfo\");\r\n        usual.tabId = 'basic';\r\n        usual.tabName =  mxResources.get(\"basic\");\r\n        usual.properties = [\r\n            { propertyID: ProcessPropertyKeys.Name, propertyName:  mxResources.get(\"name\"), propertyType: 'string', visible: !this.editorUi.multiLangEnabled },\r\n            { propertyID: ProcessPropertyKeys.NameLanguage, propertyName:  mxResources.get(\"nameLanguage\"), propertyType: 'multiLanguage', visible: this.editorUi.multiLangEnabled },\r\n            { propertyID: ProcessPropertyKeys.Key, propertyName:  mxResources.get(\"key\"), propertyType: 'string', readonly: true },\r\n            { propertyID: ProcessPropertyKeys.EntryForm, propertyName:  mxResources.get(\"entryForm\"), propertyType: 'modal' },\r\n            { propertyID: ProcessPropertyKeys.startMode, propertyName:  mxResources.get(\"startMode\"), propertyType: 'select' },\r\n            { propertyID: ProcessPropertyKeys.wf_TitleExpression, propertyName:  mxResources.get(\"wfTitle\"), propertyType: 'modal' },\r\n        ];\r\n\r\n        let formDef = new ElementPropertyConfig();\r\n        formDef.categoryId = 'formDef';\r\n        formDef.categoryName =  mxResources.get(\"formDef\");\r\n        formDef.tabId = 'basic';\r\n        formDef.tabName =  mxResources.get(\"basic\");\r\n        formDef.properties = [\r\n            { propertyID: ProcessPropertyKeys.wf_ExecuteForms_PC, propertyName:  mxResources.get(\"formsPC\"), propertyType: 'modal' },\r\n            { propertyID: ProcessPropertyKeys.wf_ExecuteForms_Mobile, propertyName:  mxResources.get(\"formsMobile\"), propertyType: 'modal' },\r\n        ];\r\n\r\n        let process = new ElementPropertyConfig();\r\n        process.categoryId = 'process';\r\n        process.categoryName =  mxResources.get(\"process\");\r\n        process.tabId = 'advanced';\r\n        process.tabName =  mxResources.get(\"advanced\");\r\n        process.properties = [\r\n            { propertyID: ProcessPropertyKeys.wf_Component, propertyName:  mxResources.get(\"wfComponent\"), propertyType: 'modal' },\r\n        ];\r\n\r\n        let advanced = new ElementPropertyConfig();\r\n        advanced.categoryId = 'advanced';\r\n        advanced.categoryName =  mxResources.get(\"otherConfig\");\r\n        advanced.tabId = 'advanced';\r\n        advanced.tabName =  mxResources.get(\"advanced\");\r\n        advanced.properties = [\r\n            { propertyID: ProcessPropertyKeys.processVariables, propertyName:  mxResources.get(\"processVariables\"), propertyType: 'modal' },\r\n            { propertyID: ProcessPropertyKeys.wf_CustomizeAction, propertyName:  mxResources.get(\"customizeAction\"), propertyType: 'modal' },\r\n            { propertyID: ProcessPropertyKeys.enablePriority, propertyName:  mxResources.get(\"enablePriority\"), propertyType: 'select' },\r\n            { propertyID: ProcessPropertyKeys.enableWholeOrderRetrieve, propertyName:  mxResources.get(\"enableWholeOrderRetrieve\"), propertyType: 'select', description: mxResources.get(\"description\") },\r\n            { propertyID: ProcessPropertyKeys.imageSettings, propertyName:  mxResources.get(\"messageProperty\"), propertyType: 'modal' },\r\n        ];\r\n\r\n        const time = new ElementPropertyConfig();\r\n        time.categoryId = 'messageProperty';                                                             // 消息属性\r\n        time.categoryName =  mxResources.get(\"timelinessInfo\");\r\n        time.tabId = 'advanced';\r\n        time.tabName =  mxResources.get(\"advanced\");\r\n        time.properties = [\r\n            { propertyID: ProcessPropertyKeys.timeLimitControl, propertyName:  mxResources.get(\"timeLimitControl\"), propertyType: 'modal' },\r\n            { propertyID: ProcessPropertyKeys.messageNotice, propertyName:  mxResources.get(\"messageNotice\"), propertyType: 'modal' },\r\n        ];\r\n\r\n        // 扩展属性分group处理，每个group包含父级属性和属于它的子扩展属性\r\n        const groupList = new Array();\r\n        for (const extend of extendList) {\r\n            if (!extend.parentId) {\r\n                const group = { parent: extend, childs: new Array() };\r\n                for (const e of extendList) {\r\n                    if (e.parentId === extend.id) {\r\n                        group.childs.push(e);\r\n                    }\r\n                }\r\n                groupList.push(group);\r\n            }\r\n        }\r\n        // 没有扩展属性值的时候不显示扩展属性一栏\r\n        if (groupList && groupList.length > 0) {\r\n            const extendProperty = new ElementPropertyConfig();\r\n            extendProperty.categoryId = 'extendProperty';\r\n            extendProperty.categoryName =  mxResources.get(\"extendProperty\");\r\n            extendProperty.tabId = 'advanced';\r\n            extendProperty.tabName =  mxResources.get(\"advanced\");\r\n            extendProperty.properties = new Array();\r\n            // 组织扩展属性的二级list\r\n            for (const g of groupList) {\r\n                extendProperty.properties.push(\r\n                    { propertyID: g.parent.id, propertyName: g.parent.propertyTitle, propertyType: 'modal' },\r\n                );\r\n            }\r\n            this.setProcessPropertyValue(propertyData, groupList);\r\n            return {\r\n                propertyConfig: [usual, formDef, process, time, advanced, extendProperty],\r\n                propertyData: propertyData\r\n            };\r\n        } else {\r\n            this.setProcessPropertyValue(propertyData, groupList);\r\n            return {\r\n                propertyConfig: [usual, formDef, process, time, advanced],\r\n                propertyData: propertyData\r\n            };\r\n        }\r\n    }\r\n\r\n    updateProps(obj: any) {\r\n        const propertyID = obj.propertyID;\r\n        if (propertyID) {\r\n            switch (propertyID) {\r\n                case 'EntryForm'://流程分类\r\n                    // 更新流程分类名称（流程分类名称可能修改）\r\n                    this.updateProcessHeader(obj.propertyValue.name, obj.propertyValue.businessObjectId, obj.propertyValue.id);\r\n                    this.updateFlowFormInfo(obj.formalParameters, obj.processBizComponnets, obj.executeForms, obj.customizeActions, obj.bizCmps);\r\n                    this.bindProcessTitleExpression(obj.flowForm.processDescription);\r\n                    break;\r\n                case ProcessPropertyKeys.wf_Component: // 流程构件\r\n                    this.updateProcessComponents(obj.propertyValue);\r\n                    break;\r\n                case ProcessPropertyKeys.wf_ExecuteForms_PC:\r\n                    this.updateExecuteForm(obj.propertyValue, 'PC');\r\n                    if (obj.parameters && obj.parameters.length > 0) {\r\n                        PropertyHelper.updateFormalParameters(this.process, obj.parameters);\r\n                    }\r\n                    break;\r\n                case ProcessPropertyKeys.wf_ExecuteForms_Mobile:\r\n                    this.updateExecuteForm(obj.propertyValue, 'MOBILE');\r\n                    if (obj.parameters && obj.parameters.length > 0) {\r\n                        PropertyHelper.updateFormalParameters(this.process, obj.parameters);\r\n                    }\r\n                    break;\r\n                case ProcessPropertyKeys.wf_CustomizeAction:\r\n                    this.updateCustomizeActions(obj.propertyValue);\r\n                    break;\r\n                case ProcessPropertyKeys.wf_TitleExpression:\r\n                    this.modifyProcessTitleExpression(obj.propertyValue);\r\n                    break;\r\n                case ProcessPropertyKeys.allowPreAssign:\r\n                    this.updateAllowPreAssign(obj.propertyValue);\r\n                    break;\r\n                case ProcessPropertyKeys.startMode:\r\n                    this.updateStartMode(obj.propertyValue, obj.allBizCmps, obj.bizCmps);\r\n                    break;\r\n                case ProcessPropertyKeys.enablePriority:\r\n                    this.updateEnablePriority(obj.propertyValue);\r\n                    break;\r\n                case ProcessPropertyKeys.enableWholeOrderRetrieve:\r\n                    this.updateEnableWholeOrderRetrieve(obj.propertyValue);\r\n                    break;\r\n                case ProcessPropertyKeys.processVariables:\r\n                    this.updateProcessVariables(obj.propertyValue);\r\n                    break;\r\n                case ProcessPropertyKeys.timeLimitControl:\r\n                    this.updateProcessTimeLimitControl(obj.propertyValue);\r\n                    break;\r\n                case ProcessPropertyKeys.messageNotice:\r\n                    this.updateProcessMessageNotices(obj.propertyValue);\r\n                    break;\r\n                case ProcessPropertyKeys.imageSettings:\r\n                    this.updateImageSettings(obj.propertyValue);\r\n                    break;\r\n                default:\r\n                    // 判断ResourceKeys是不是groupid,是就走resetExtendProperty\r\n                    if (this.editorUi.procExtProps.findIndex(p => p.id === propertyID) > -1) {\r\n                        this.resetExtendProperty(obj.propertyValue);\r\n                    } else {\r\n                        super.updateProps(obj);\r\n                    }\r\n                    break;\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n    * 设置流程属性值\r\n    * @param bpmnModel\r\n    * @param propertyData\r\n    * @param groupList\r\n    */\r\n    setProcessPropertyValue(propertyData: any, groupList?: any): void {\r\n        let process = this.process;\r\n        if (process) {\r\n            if (!process.Name)\r\n                process.Name = '默认流程';\r\n            if (!process.Key)\r\n                process.Key = BpmnModelHelper.GenerateElementId();\r\n\r\n            propertyData[ProcessPropertyKeys.Id] = process.Id;\r\n            propertyData[ProcessPropertyKeys.ClrTypeID] = process.ClrTypeID;\r\n            propertyData[ProcessPropertyKeys.Name] = process.Name;\r\n            propertyData[ProcessPropertyKeys.NameLanguage] = process.NameLanguage || {\r\n                \"zh-CHS\": process.Name,\r\n            };\r\n            propertyData[ProcessPropertyKeys.Key] = process.Key;\r\n            propertyData[ProcessPropertyKeys.wf_TitleExpression] = '';\r\n\r\n            let extendElements: ExtensionElement[] = process.GetExtensionElements();\r\n            let component = [];\r\n            let webForm;\r\n            let mobileForm;\r\n            let customizeActions = [];\r\n            let proExtendProperties = [];\r\n            let imageSettings;\r\n            const messagesNotices = new Array();\r\n            // tslint:disable-next-line: forin\r\n            for (let i in extendElements) {\r\n                if (extendElements[i] instanceof ProcessHeader) {\r\n                    propertyData[ProcessPropertyKeys.EntryForm] = {\r\n                        id: (extendElements[i] as ProcessHeader).BizDefKey,\r\n                        name: (extendElements[i] as ProcessHeader).BizDefName\r\n                    };\r\n                    propertyData[ProcessPropertyKeys.allowPreAssign] = (extendElements[i] as ProcessHeader).allowPreAssign;\r\n                    propertyData[ProcessPropertyKeys.startMode] = (extendElements[i] as ProcessHeader).startMode;\r\n                    propertyData[ProcessPropertyKeys.enablePriority] = (extendElements[i] as ProcessHeader).enablePriority ? (extendElements[i] as ProcessHeader).enablePriority : false;\r\n                    propertyData[ProcessPropertyKeys.enableWholeOrderRetrieve] = (extendElements[i] as ProcessHeader).enableWholeOrderRetrieve ? (extendElements[i] as ProcessHeader).enableWholeOrderRetrieve : false;\r\n                }\r\n                if (extendElements[i] instanceof Component\r\n                    && (extendElements[i] as Component).Time !== ToolTime.UNDEFINITION) {\r\n                    component.push(this.convert2Component(extendElements[i] as Component));\r\n                }\r\n                if (extendElements[i] instanceof ExecuteForm) {\r\n                    const form = extendElements[i] as ExecuteForm;\r\n                    if (form.TerminalType === 'PC') {\r\n                        webForm = form;\r\n                    } else if (form.TerminalType === 'MOBILE') {\r\n                        mobileForm = form;\r\n                    }\r\n                }\r\n                if (extendElements[i] instanceof TitleExpression) {\r\n                    propertyData[ProcessPropertyKeys.wf_TitleExpression] =\r\n                        (extendElements[i] as TitleExpression).valueLanguage ? (extendElements[i] as TitleExpression).valueLanguage : (extendElements[i] as TitleExpression).value;\r\n                }\r\n                if (extendElements[i] instanceof CustomizeAction) {\r\n                    customizeActions.push(extendElements[i]);\r\n                }\r\n                if (extendElements[i] instanceof MessageNotice) {\r\n                    messagesNotices.push(this.getMessageNotice(extendElements[i] as MessageNotice));\r\n                }\r\n                if (extendElements[i] instanceof TimeLimitControl) {\r\n                    propertyData[ProcessPropertyKeys.timeLimitControl] = this.getPrcocessTimeLimitInfo(extendElements[i] as TimeLimitControl);\r\n                }\r\n                if (extendElements[i] instanceof ExtendProperty) {\r\n                    proExtendProperties.push(extendElements[i]);\r\n                }\r\n                if (extendElements[i] instanceof ImageSettings) {\r\n                    // imageSettings.push(extendElements[i]);\r\n                    propertyData[ProcessPropertyKeys.imageSettings] = extendElements[i];\r\n                }\r\n            }\r\n            const processVariables = this.getProcessVariables(process);\r\n            propertyData[ProcessPropertyKeys.processVariables] = processVariables;\r\n            propertyData[ProcessPropertyKeys.wf_Component] = component;\r\n            propertyData[ProcessPropertyKeys.wf_ExecuteForms_PC] = webForm;\r\n            propertyData[ProcessPropertyKeys.wf_ExecuteForms_Mobile] = mobileForm;\r\n            propertyData[ProcessPropertyKeys.wf_CustomizeAction] = customizeActions;\r\n            propertyData[ProcessPropertyKeys.messageNotice] = messagesNotices;\r\n            for (const g of groupList) {\r\n                // 取回模型上的value值给到扩展属性组件里\r\n                if (proExtendProperties && proExtendProperties.length > 0) {\r\n                    g.childs.sort((a, b) => {\r\n                        return a.sortOrder - b.sortOrder;\r\n                    }).forEach(d => {\r\n                        proExtendProperties.forEach(e => {\r\n                            if (e.key == d.code) {\r\n                                d.value = e.value;\r\n                            }\r\n                        });\r\n                    });\r\n                }\r\n                propertyData[g.parent.id] = g.childs;\r\n            }\r\n        }\r\n    }\r\n\r\n    getProcessVariables(process: Process): any[] {\r\n        let processVariables = new Array();\r\n        const extendElements: ExtensionElement[] = process.GetExtensionElements();\r\n        const dataObjects = process.GetDataObjects();\r\n        if (dataObjects !== null && dataObjects.length > 0) {\r\n            for (const obj of dataObjects) {\r\n                if (obj instanceof ValuedDataObject && obj.DataType.Category !== DataTypes.CustomType) {\r\n                    const variable: any = {\r\n                        id: obj.Id,\r\n                        name: obj.Name,\r\n                        documentation: obj.Documentation,\r\n                        basicType: obj.DataType.BasicType,\r\n                        tag: obj.variableSetting ? obj.variableSetting.tag : '',\r\n                        value: obj.variableSetting ? obj.variableSetting.value : '',\r\n                        valueText: obj.variableSetting ? obj.variableSetting.valueText : '',\r\n                        description: obj.DataType.Description\r\n                    };\r\n                    if (obj.variableSetting && obj.variableSetting.tag === 'component') {\r\n                        if (extendElements.length > 0) {\r\n                            for (const e of extendElements) {\r\n                                if (e instanceof Component && e.Id === obj.variableSetting.value) {\r\n                                    const component: any = {\r\n                                        Id: e.Id,\r\n                                        Name: e.Name,\r\n                                        MetadataId: e.MetadataId,\r\n                                        MethodCode: e.MethodCode,\r\n                                        ActualParameters: []\r\n                                    };\r\n                                    if (e.ActualParameters && e.ActualParameters.length > 0) {\r\n                                        for (const p of e.ActualParameters) {\r\n                                            const parameter = {\r\n                                                Name: p.Name,\r\n                                                Value: p.Value,\r\n                                                Tag: p.Tag,\r\n                                            };\r\n                                            component.ActualParameters.push(parameter);\r\n                                        }\r\n                                    }\r\n                                    variable.component = component;\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                    processVariables.push(variable);\r\n                }\r\n            }\r\n        }\r\n        return processVariables;\r\n    }\r\n\r\n    getPrcocessTimeLimitInfo(timeLimitControl: TimeLimitControl): TimeLimitControlInfo {\r\n        let timeLimit;\r\n        if (timeLimitControl) {\r\n            timeLimit = new TimeLimitControlInfo();\r\n            timeLimit.enable = timeLimitControl.enable;\r\n            timeLimit.tag = timeLimitControl.tag;\r\n            timeLimit.dueTime = timeLimitControl.dueTime;\r\n            timeLimit.timeUnit = timeLimitControl.timeUnit;\r\n            timeLimit.expireOperations = new Array();\r\n            if (timeLimitControl.expireOperations && timeLimitControl.expireOperations.length > 0) {\r\n                const operations = timeLimitControl.expireOperations;\r\n                for (const o of operations) {\r\n                    if (o.ClrTypeID.indexOf('SendMessageExpireOperation') > 0) {\r\n                        const operation = o as SendMessageExpireOperation;\r\n                        const sendMessage = new SendMessageExpireOperationInfo();\r\n                        sendMessage.timeDuration = operation.timeDuration;\r\n                        sendMessage.durationType = operation.durationType;\r\n                        sendMessage.timeUnit = operation.timeUnit;\r\n                        sendMessage.message = operation.message;\r\n                        sendMessage.sendType = operation.sendType;\r\n                        sendMessage.subject = operation.subject;\r\n                        sendMessage.id = operation.id;\r\n                        sendMessage.receiver = operation.receiver;\r\n                        sendMessage.receiverText = operation.receiverText;\r\n                        sendMessage.cycleEnable = operation.cycleEnable;\r\n                        sendMessage.cycleTime = operation.cycleTime;\r\n                        sendMessage.cycleTimeUnit = operation.cycleTimeUnit;\r\n                        sendMessage.operationTypeName = operation.operationTypeName ? operation.operationTypeName : 'SendMessageExpireOperation';\r\n                        if (operation.smsMessageTemplate) {\r\n                            const smsTemplate: any = new Object;\r\n                            smsTemplate.code = operation.smsMessageTemplate.code;\r\n                            smsTemplate.content = operation.smsMessageTemplate.content;\r\n                            smsTemplate.smsMessageVariables = new Array();\r\n                            if (operation.smsMessageTemplate.smsMessageVariables && operation.smsMessageTemplate.smsMessageVariables.length > 0) {\r\n                                for (const v of operation.smsMessageTemplate.smsMessageVariables) {\r\n                                    const variable: any = new Object;\r\n                                    variable.id = WfDesignerUtils.createNM();\r\n                                    variable.code = v.code;\r\n                                    variable.value = v.value;\r\n                                    variable.tag = v.tag;\r\n                                    smsTemplate.smsMessageVariables.push(variable);\r\n                                }\r\n                            }\r\n                            sendMessage.smsMessageTemplate = smsTemplate;\r\n                        }\r\n                        timeLimit.expireOperations.push(sendMessage);\r\n                    } else if (o.ClrTypeID.indexOf('AutoHandleExpireOperation') > 0) {\r\n                        const operation = o as AutoHandleExpireOperation;\r\n                        const autoHandle = new AutoHandleExpireOperationInfo;\r\n                        autoHandle.id = operation.id;\r\n                        autoHandle.durationType = operation.durationType;\r\n                        autoHandle.timeDuration = operation.timeDuration;\r\n                        autoHandle.timeUnit = operation.timeUnit;\r\n                        autoHandle.operationTypeName = operation.operationTypeName ? operation.operationTypeName : 'AutoHandleExpireOperation';\r\n                        autoHandle.autoHandleType = operation.autoHandleType;\r\n                        autoHandle.message = operation.message;\r\n                        timeLimit.expireOperations.push(autoHandle);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return timeLimit;\r\n    }\r\n\r\n    getMessageNotice(messageNotice: MessageNotice) {\r\n        const message: any = new Object;\r\n        message.content = messageNotice.content;\r\n        message.sendTime = messageNotice.sendTime;\r\n        message.sendType = messageNotice.sendType;\r\n        message.subject = messageNotice.subject;\r\n        if (messageNotice.smsMessageTemplate) {\r\n            const smsTemplate: any = new Object;\r\n            smsTemplate.code = messageNotice.smsMessageTemplate.code;\r\n            smsTemplate.content = messageNotice.smsMessageTemplate.content;\r\n            smsTemplate.smsMessageVariables = new Array();\r\n            if (messageNotice.smsMessageTemplate.smsMessageVariables && messageNotice.smsMessageTemplate.smsMessageVariables.length > 0) {\r\n                for (const v of messageNotice.smsMessageTemplate.smsMessageVariables) {\r\n                    const variable: any = new Object;\r\n                    variable.id = WfDesignerUtils.createNM();\r\n                    variable.code = v.code;\r\n                    variable.value = v.value;\r\n                    variable.tag = v.tag;\r\n                    smsTemplate.smsMessageVariables.push(variable);\r\n                }\r\n            }\r\n            message.smsMessageTemplate = smsTemplate;\r\n        }\r\n        const receiverExpressions = new Array<MessageReceiver>();\r\n        if (messageNotice.receiver) {\r\n            const receivers = messageNotice.receiver.split(',');\r\n            const receiverTexts = messageNotice.receiverText.split(',');\r\n            let userReceiver = new MessageReceiver();\r\n            userReceiver.type = 'userParticipant';\r\n            userReceiver.userIds = '';\r\n            userReceiver.userNames = '';\r\n            for (const i in receivers) {\r\n                if (receivers[i] === 'procInstCreator') {\r\n                    let procInstCreator = new MessageReceiver()\r\n                    procInstCreator.type = 'processParticipant';\r\n                    procInstCreator.processParticipant = 'procInstCreator';\r\n                    receiverExpressions.push(procInstCreator);\r\n                } else if (receivers[i] === 'workItemParticipant') {\r\n                    let workItemParticipant = new MessageReceiver()\r\n                    workItemParticipant.type = 'processParticipant';\r\n                    workItemParticipant.processParticipant = 'workItemParticipant';\r\n                    receiverExpressions.push(workItemParticipant);\r\n                } else {\r\n                    userReceiver.userIds += (receivers[i] + ',');\r\n                    userReceiver.userNames += (receiverTexts[i] + ',');\r\n                }\r\n            }\r\n            if (userReceiver.userIds) {\r\n                userReceiver.userIds = userReceiver.userIds.substring(0, userReceiver.userIds.length - 1);\r\n                userReceiver.userNames = userReceiver.userNames.substring(0, userReceiver.userNames.length - 1);\r\n                receiverExpressions.push(userReceiver);\r\n            }\r\n        }\r\n        if (messageNotice.receiverExpressions && messageNotice.receiverExpressions.length > 0) {\r\n            for (const e of messageNotice.receiverExpressions) {\r\n                if (e instanceof ActivityExecutorParticipantExpression) {\r\n                    let activityExecutorParticipant = new MessageReceiver();\r\n                    activityExecutorParticipant.type = 'processParticipant';\r\n                    activityExecutorParticipant.processParticipant = 'activityExecutorParticipant';\r\n                    activityExecutorParticipant.activityDefId = (e as ActivityExecutorParticipantExpression).activityDefId;\r\n                    activityExecutorParticipant.activityDefName = (e as ActivityExecutorParticipantExpression).activityDefName;\r\n\r\n                    receiverExpressions.push(activityExecutorParticipant);\r\n                } else if (e instanceof UserParticipantExpression) {\r\n                    let variableReceiver = new MessageReceiver();\r\n                    variableReceiver.type = 'variableParticipant';\r\n                    variableReceiver.variableParticipant = (e as UserParticipantExpression).UserId;\r\n                    variableReceiver.variableName = (e as UserParticipantExpression).name;\r\n                    variableReceiver.orgType = (e as UserParticipantExpression).OrgType;\r\n                    receiverExpressions.push(variableReceiver);\r\n                } else if (e instanceof PositionParticipantExpression) {\r\n                    let positionReceiver = new MessageReceiver();\r\n                    positionReceiver.type = 'positionParticipant';\r\n                    positionReceiver.positionId = (e as PositionParticipantExpression).PositionId;\r\n                    positionReceiver.positionName = (e as PositionParticipantExpression).PositionName;\r\n                    positionReceiver.positionType = (e as PositionParticipantExpression).PositionType;\r\n                    if (positionReceiver.positionType === '1') {\r\n                        positionReceiver.orgId = (e as PositionParticipantExpression).OrgId;\r\n                        positionReceiver.orgType = (e as PositionParticipantExpression).OrgType;\r\n                    }\r\n\r\n                    receiverExpressions.push(positionReceiver);\r\n                }\r\n            }\r\n        }\r\n        if (receiverExpressions.length > 0) {\r\n            message.receivers = receiverExpressions;\r\n        }\r\n        return message;\r\n\r\n    }\r\n\r\n    convert2Component(component: Component): BizComponent {\r\n        const bizComponent = new BizComponent();\r\n        bizComponent.id = component.Id;\r\n        bizComponent.name = component.Name;\r\n        bizComponent.metadataId = component.MetadataId;\r\n        bizComponent.methodCode = component.MethodCode;\r\n        bizComponent.executionTime = component.Time;\r\n        bizComponent.isForCompensation = component.isForCompensation;\r\n        bizComponent.scopeType = component.ScopeType || null;\r\n        bizComponent.actualParameters = new Array();\r\n        if (component.ActualParameters && component.ActualParameters.length > 0) {\r\n            for (const param of component.ActualParameters) {\r\n                const bizParam = new BizParameter();\r\n                bizParam.code = param.Name;\r\n                bizParam.name = param.Name;\r\n                bizParam.value = param.Value;\r\n                bizComponent.actualParameters.push(bizParam);\r\n            }\r\n        }\r\n        return bizComponent;\r\n    }\r\n\r\n    /**\r\n     * 设置ProcessHeader\r\n     * @param ffId\r\n     * @param bizObjId\r\n     * @param ffName\r\n     * @param startMode\r\n     */\r\n    setProcessHeader(ffId: string, bizObjId: string, ffName: string, startMode: StartMode) {\r\n        const process = this.process;\r\n        let extendElements = process.GetExtensionElements();\r\n        const processHeader = new ProcessHeader(process.Model, ffId, bizObjId, ffName, startMode);\r\n        extendElements.push(processHeader);\r\n    }\r\n\r\n    /**\r\n     * 更新流程分类绑定的参数，流程组件，表单信息\r\n     * @param params 参数列表\r\n     * @param cpts 流程组件\r\n     * @param form 流程表单\r\n     */\r\n    updateFlowFormInfo(params: any[], cpts: any[], forms: any[], customizeActions: any[], bizCmps: any) {\r\n        this.updateFormalParameters(params, cpts.filter(cpt => cpt.ownerType === 'Schema'));\r\n        this.setProcessComponents(cpts, bizCmps);\r\n        this.updateExecuteForms(forms);\r\n        this.updateCustomizeActions(customizeActions);\r\n    }\r\n\r\n    updateFormalParameters(parameters: any[], cmps: any[] = new Array()) {\r\n        if (!parameters) {\r\n            parameters = [];\r\n        }\r\n        let process = this.process;\r\n        let objects = process.GetDataObjects();\r\n        if (parameters !== null && parameters.length > 0) {\r\n            for (const p of parameters) {\r\n                const dataType = new DataType(process.Model);\r\n                if (p.dataType === 'CDTSchema') {\r\n                    // 先清理CDTSchema类型的dataObject\r\n                    for (const o of objects) {\r\n                        //TODO:数据类型为customType暂时默认为参数预制\r\n                        if (o instanceof DataObject && o.DataType.Category === DataTypes.CustomType) {\r\n                            process.RemoveDataObject(o.Id);\r\n                        }\r\n                    }\r\n                    // 重新绑定流程分类支持精简be\r\n                    const customType = new CDTSchemaType(process.Model);\r\n                    if (p.newSchemaId && p.newSchemaMetadataId) {\r\n                      customType.SchemaId = p.newSchemaId;\r\n                      customType.MetadataId = p.newSchemaMetadataId;\r\n                    } else {\r\n                      customType.SchemaId = p.schemaId;\r\n                      customType.MetadataId = p.schemaMetadataId;\r\n                    }\r\n                    customType.ComponentId = cmps.filter(cmp => cmp.owner === p.schemaId)[0].id;\r\n                    dataType.Category = DataTypes.CustomType;\r\n                    dataType.CustomType = customType;\r\n                } else {\r\n                    // 先清理code相同的dataObject\r\n                    for (const o of objects) {\r\n                        if (o instanceof DataObject && o.Name === p.code) {\r\n                            process.RemoveDataObject(o.Id);\r\n                        }\r\n                    }\r\n                    dataType.Category = DataTypes.BasicType;\r\n                    dataType.BasicType = p.dataType;\r\n                }\r\n                dataType.Description = p.description;\r\n                // dataType.InitialValue = p.initialValue;\r\n                if (p.parameterMode === 0) {\r\n                    const dataObject = new ValuedDataObject(process.Model);\r\n                    dataObject.Name = p.code;\r\n                    dataObject.Documentation = p.name;\r\n                    dataObject.DataType = dataType;\r\n                    dataObject.IsAllowNull = p.allowNull;\r\n                    if (p.initialValue || p.initialValueType) {\r\n                        const variableSetting = new VariableSetting(process.Model);\r\n                        variableSetting.variableCode = p.code;\r\n                        variableSetting.variableName = p.name;\r\n                        variableSetting.tag = p.initialValueType;\r\n                        variableSetting.value = p.initialValue;\r\n                        variableSetting.valueText = p.initialValue;\r\n\r\n                        dataObject.variableSetting = variableSetting;\r\n                    }\r\n\r\n                    process.AddDataObject(dataObject);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    /**\r\n     * 基于流程分类的切换更新流程构件\r\n     */\r\n    setProcessComponents(procCpts: any[], bizCmps: any) {\r\n        const process = this.process;\r\n        let processHeader: ProcessHeader;\r\n        let extendElements = process.GetExtensionElements();\r\n        //删除流程构件\r\n        if (extendElements.length > 0) {\r\n            for (let i = extendElements.length; i > 0; i--) {\r\n                if (extendElements[i - 1] instanceof Component\r\n                    && (extendElements[i - 1] as Component).Time !== ToolTime.UNDEFINITION) {\r\n                    extendElements.splice(i - 1, 1);\r\n                }\r\n                if (extendElements[i - 1] instanceof ProcessHeader) {\r\n                    processHeader = extendElements[i - 1] as ProcessHeader;\r\n                }\r\n            }\r\n        }\r\n        // 子流程和外部流程的情况先需要绑定取数构件\r\n        if (processHeader.startMode !== StartMode.DIRECT) {\r\n            const loadDataComponent = procCpts.find(p => p.executionTime === ToolTime.LOADDATA);\r\n            if (loadDataComponent) {\r\n                let ldCpt = new Component(process.Model);\r\n                ldCpt.Time = loadDataComponent.executionTime as ToolTime;\r\n                ldCpt.MetadataId = loadDataComponent.metadataId;\r\n                ldCpt.MethodCode = loadDataComponent.methodCode;\r\n                ldCpt.Id = loadDataComponent.id;\r\n                ldCpt.Name = loadDataComponent.name;\r\n                ldCpt.isForCompensation = loadDataComponent.isForCompensation;\r\n                ldCpt.ActualParameters = [];\r\n                if (loadDataComponent.scopeType) {\r\n                    ldCpt.ScopeType = loadDataComponent.scopeType;\r\n                } else {\r\n                    ldCpt.ScopeType = \"Undefined\"\r\n                }\r\n                if (loadDataComponent.actualParameters && loadDataComponent.actualParameters.length > 0) {\r\n                    for (let item of loadDataComponent.actualParameters) {\r\n                        let parameter = new ActualParameter(process.Model, item.code, item.value);\r\n\r\n                        ldCpt.ActualParameters.push(parameter);\r\n                    }\r\n                }\r\n                // 把取数构件放进去\r\n                extendElements.push(ldCpt);\r\n                // 如果是外部流程，校验是否集成统一预制的外部流程构件\r\n                if (processHeader.startMode == StartMode.EXTERNAL_PROCESS) {\r\n                    let externalCmps = false;\r\n                    const cmps = bizCmps;\r\n                    if (cmps && cmps.length > 0) {\r\n                        // 此处标记有外部流程通用构件\r\n                        for (const c of cmps) {\r\n                            if (c.scopeType === 'ExternalProcess') {\r\n                                externalCmps = true;\r\n                                break;\r\n                            }\r\n                        }\r\n                    }\r\n                    // 如果没有外部流程构件\r\n                    if (!externalCmps) {\r\n                        if (procCpts && procCpts.length > 0) {\r\n                            for (let procCpt of procCpts) {\r\n                                let cpt = new Component(process.Model);\r\n                                cpt.Time = procCpt.executionTime as ToolTime;\r\n                                cpt.MetadataId = procCpt.metadataId;\r\n                                cpt.MethodCode = procCpt.methodCode;\r\n                                cpt.Id = procCpt.id;\r\n                                cpt.Name = procCpt.name;\r\n                                cpt.isForCompensation = procCpt.isForCompensation;\r\n                                cpt.ActualParameters = [];\r\n                                if (procCpt.scopeType) {\r\n                                    cpt.ScopeType = procCpt.scopeType;\r\n                                } else {\r\n                                    cpt.ScopeType = \"Undefined\"\r\n                                }\r\n                                if (procCpt.actualParameters && procCpt.actualParameters.length > 0) {\r\n                                    for (let item of procCpt.actualParameters) {\r\n                                        let parameter = new ActualParameter(process.Model, item.code, item.value);\r\n                                        cpt.ActualParameters.push(parameter);\r\n                                    }\r\n                                }\r\n                                // 避免重复的放入取数构件,不要取数，子流程和直接流程的构件，要未定义，外部，全量的\r\n                                if (cpt.Time !== ToolTime.LOADDATA\r\n                                    && cpt.ScopeType !== StartMode.DIRECT\r\n                                    && cpt.ScopeType !== StartMode.SUB_PROCESS\r\n                                ) {\r\n                                    extendElements.push(cpt);\r\n                                }\r\n                            }\r\n                        }\r\n                    } else {\r\n                        for (let procCpt of procCpts) {\r\n                            let cpt = new Component(process.Model);\r\n                            cpt.Time = procCpt.executionTime as ToolTime;\r\n                            cpt.MetadataId = procCpt.metadataId;\r\n                            cpt.MethodCode = procCpt.methodCode;\r\n                            cpt.Id = procCpt.id;\r\n                            cpt.Name = procCpt.name;\r\n                            cpt.isForCompensation = procCpt.isForCompensation;\r\n                            cpt.ActualParameters = [];\r\n                            if (procCpt.scopeType) {\r\n                                cpt.ScopeType = procCpt.scopeType;\r\n                            } else {\r\n                                cpt.ScopeType = \"Undefined\"\r\n                            }\r\n                            if (procCpt.actualParameters && procCpt.actualParameters.length > 0) {\r\n                                for (let item of procCpt.actualParameters) {\r\n                                    let parameter = new ActualParameter(process.Model, item.code, item.value);\r\n                                    cpt.ActualParameters.push(parameter);\r\n                                }\r\n                            }\r\n                            // 避免重复的放入取数构件,不要取数，子流程和直接流程,未知的构件，外部，全量的\r\n                            if (cpt.Time !== ToolTime.LOADDATA\r\n                                && cpt.ScopeType !== StartMode.DIRECT\r\n                                && cpt.ScopeType !== StartMode.SUB_PROCESS\r\n                                && cpt.ScopeType !== \"Undefined\"\r\n                            ) {\r\n                                extendElements.push(cpt);\r\n                            }\r\n                        }\r\n                    }\r\n                    // 如果有外部流程构件，同样只保留取数构件，不需要其他处理(取数构件已经放进去了)\r\n                    // 刷新一下属性框\r\n                    this.editorUi.fireEvent(new mxEventObject(PmfEvents.ShowProperty));\r\n                } else if (processHeader.startMode == StartMode.SUB_PROCESS) {\r\n                    if (procCpts && procCpts.length > 0) {\r\n                        for (let procCpt of procCpts) {\r\n                            let cpt = new Component(process.Model);\r\n                            cpt.Time = procCpt.executionTime as ToolTime;\r\n                            cpt.MetadataId = procCpt.metadataId;\r\n                            cpt.MethodCode = procCpt.methodCode;\r\n                            cpt.Id = procCpt.id;\r\n                            cpt.Name = procCpt.name;\r\n                            cpt.isForCompensation = procCpt.isForCompensation;\r\n                            cpt.ActualParameters = [];\r\n                            if (procCpt.scopeType) {\r\n                                cpt.ScopeType = procCpt.scopeType;\r\n                            } else {\r\n                                cpt.ScopeType = \"Undefined\"\r\n                            }\r\n                            if (procCpt.actualParameters && procCpt.actualParameters.length > 0) {\r\n                                for (let item of procCpt.actualParameters) {\r\n                                    let parameter = new ActualParameter(process.Model, item.code, item.value);\r\n                                    cpt.ActualParameters.push(parameter);\r\n                                }\r\n                            }\r\n                            // 避免重复的放入取数构件,不要取数，直接流程和外部流程，未定义的构件，要子流程，全量的\r\n                            if (cpt.Time !== ToolTime.LOADDATA\r\n                                && cpt.ScopeType !== StartMode.DIRECT\r\n                                && cpt.ScopeType !== StartMode.EXTERNAL_PROCESS\r\n                                && cpt.ScopeType !== \"Undefined\") {\r\n                                extendElements.push(cpt);\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                // 如果是子流程则不需要其他处理(取数构件已经放进去了)\r\n            }\r\n        } else { // 直接流程\r\n            // 直接流程过滤掉共享的构件\r\n            const actualCmps = procCpts.filter(p => WfDesignerUtils.isPfComponent(p.metadataId) === false);\r\n            if (actualCmps && actualCmps.length > 0) {\r\n                for (let procCpt of actualCmps) {\r\n                    let cpt = new Component(process.Model);\r\n                    cpt.Time = procCpt.executionTime as ToolTime;\r\n                    cpt.MetadataId = procCpt.metadataId;\r\n                    cpt.MethodCode = procCpt.methodCode;\r\n                    cpt.Id = procCpt.id;\r\n                    cpt.Name = procCpt.name;\r\n                    cpt.isForCompensation = procCpt.isForCompensation;\r\n                    if (procCpt.scopeType) {\r\n                        cpt.ScopeType = procCpt.scopeType;\r\n                    } else {\r\n                        cpt.ScopeType = \"Undefined\"\r\n                    }\r\n                    cpt.ActualParameters = [];\r\n                    if (procCpt.actualParameters && procCpt.actualParameters.length > 0) {\r\n                        for (let item of procCpt.actualParameters) {\r\n                            let parameter = new ActualParameter(process.Model, item.code, item.value);\r\n\r\n                            cpt.ActualParameters.push(parameter);\r\n                        }\r\n                    }\r\n                    // 避免重复的放入取数构件,子流程和外部流程的构件，要未定义，直接，全量的\r\n                    if (cpt.ScopeType !== StartMode.EXTERNAL_PROCESS\r\n                        && cpt.ScopeType !== StartMode.SUB_PROCESS) {\r\n                        extendElements.push(cpt);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    updateExecuteForms(forms: any[]) {\r\n        const process = this.process;\r\n        let extendElements = process.GetExtensionElements();\r\n        //删除表单构件\r\n        if (extendElements.length > 0) {\r\n            for (let i = extendElements.length; i > 0; i--) {\r\n                if (extendElements[i - 1] instanceof ExecuteForm) {\r\n                    extendElements.splice(i - 1, 1);\r\n                }\r\n            }\r\n        }\r\n        for (const f of forms) {\r\n            this.updateExecuteForm(f);\r\n        }\r\n    }\r\n    updateExecuteForm(form: any, terminal?: string) {\r\n        const process = this.process;\r\n        let extendElements = process.GetExtensionElements();\r\n        //删除表单构件\r\n        if (extendElements.length > 0) {\r\n            for (let i = extendElements.length; i > 0; i--) {\r\n                if (extendElements[i - 1] instanceof ExecuteForm) {\r\n                    const f = extendElements[i - 1] as ExecuteForm;\r\n                    if (f.TerminalType === (terminal ? terminal : form.TerminalType)) {\r\n                        extendElements.splice(i - 1, 1);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        if (form) {\r\n            let params = form.ActualParameters as any[];\r\n            let actParas = new Array<ActualParameter>();\r\n            if (params && params.length > 0) {\r\n                for (let para of params) {\r\n                    let actPara = new ActualParameter(process.Model, para.Name, para.Value);\r\n                    if (para.Tag) {\r\n                        actPara.Tag = para.Tag;\r\n                    } else {\r\n                        if (para.Value) {\r\n                            if (para.Value.length >= 8 && para.Value.slice(0, 8) === `{\"expr\":`) {\r\n                                actPara.Tag = 'expression';\r\n                            } else {\r\n                                actPara.Tag = 'constant';\r\n                            }\r\n                        } else {\r\n                            actPara.Tag = 'variable';\r\n                        }\r\n\r\n                    }\r\n                    actParas.push(actPara);\r\n                }\r\n            }\r\n            const id = BpmnModelHelper.GenerateElementId();\r\n            let item = new ExecuteForm(process.Model, id, form.Name, actParas);\r\n            item.ComponentId = form.ComponentId;\r\n            item.FormType = form.FormType;\r\n            item.formFormatId = form.formFormatId;\r\n            item.formatConfigId = form.formatConfigId;\r\n            item.TerminalType = form.TerminalType;\r\n            extendElements.push(item);\r\n        }\r\n    }\r\n\r\n    updateCustomizeActions(customizeActions: any[]) {\r\n        const process = this.process;\r\n        let extendElements = process.GetExtensionElements();\r\n        //删除流程构件\r\n        if (extendElements.length > 0) {\r\n            for (let i = extendElements.length; i > 0; i--) {\r\n                if (extendElements[i - 1] instanceof CustomizeAction) {\r\n\r\n                    extendElements.splice(i - 1, 1);\r\n                }\r\n            }\r\n        }\r\n        //重新绑定\r\n        if (customizeActions && customizeActions.length > 0) {\r\n            for (let a of customizeActions) {\r\n                let action = new CustomizeAction(process.Model);\r\n                action.id = BpmnModelHelper.GenerateElementId();\r\n                action.code = a.code;\r\n                action.name = a.name;\r\n                action.terminalType = a.terminalType;\r\n                // action.enable = a.enable;\r\n                action.actualParameters = [];\r\n                if (a.actualParameters && a.actualParameters.length > 0) {\r\n                    for (let p of a.actualParameters) {\r\n                        let parameter = new ActualParameter(process.Model, p.Name, p.Value, p.ValueText, p.Tag || 'expression');\r\n                        action.actualParameters.push(parameter);\r\n                    }\r\n                }\r\n\r\n                extendElements.push(action);\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 更新流程备注\r\n     * @param bpmnModel\r\n     * @param value\r\n     */\r\n    modifyProcessTitleExpression(value: any) {\r\n        const process = this.process;\r\n        let extendElements = process.GetExtensionElements();\r\n        if (extendElements.length > 0) {\r\n            for (let i = extendElements.length; i > 0; i--) {\r\n                if (extendElements[i - 1] instanceof TitleExpression) {\r\n\r\n                    extendElements.splice(i - 1, 1);\r\n                }\r\n            }\r\n        }\r\n        let title = new TitleExpression(process.Model);\r\n        if(typeof(value) === 'string'|| value == null) {\r\n          title = new TitleExpression(process.Model, value);\r\n        } else {\r\n          title = new TitleExpression(process.Model, value['zh-CHS'], value);\r\n        }\r\n        extendElements.push(title);\r\n    }\r\n\r\n    updateProcessHeader(ffName: string, bizObjId?: string, ffId?: string) {\r\n        const process = this.process;\r\n        let extendElements = process.GetExtensionElements();\r\n        if (extendElements !== null && extendElements.length > 0) {\r\n            for (let i in extendElements) {\r\n                if (extendElements[i] instanceof ProcessHeader) {\r\n                    (extendElements[i] as ProcessHeader).BizDefName = ffName;\r\n                    (extendElements[i] as ProcessHeader).BizObjId = bizObjId;\r\n                    (extendElements[i] as ProcessHeader).BizDefKey = ffId;\r\n                    return;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    bindProcessTitleExpression(value: string) {\r\n        const process = this.process;\r\n        let extendElements = process.GetExtensionElements();\r\n        const titleExpression = extendElements.find(e => e.ClrTypeID === TitleExpression.Clr_Type_ID) as TitleExpression;\r\n        if (titleExpression && titleExpression.value) {\r\n            return;\r\n        }\r\n        const title = new TitleExpression(process.Model, value);\r\n        extendElements.push(title);\r\n    }\r\n\r\n    /**\r\n     * 基于流程分类的切换更新流程构件\r\n     */\r\n    updateProcessComponents(procCpts: any[]) {\r\n        const process = this.process;\r\n        let extendElements = process.GetExtensionElements();\r\n        //删除流程构件\r\n        if (extendElements.length > 0) {\r\n            for (let i = extendElements.length; i > 0; i--) {\r\n                if (extendElements[i - 1] instanceof Component\r\n                    && (extendElements[i - 1] as Component).Time !== ToolTime.UNDEFINITION) {\r\n                    extendElements.splice(i - 1, 1);\r\n                }\r\n            }\r\n        }\r\n        //重新绑定\r\n        if (procCpts && procCpts.length > 0) {\r\n            for (let procCpt of procCpts) {\r\n                let cpt = new Component(process.Model);\r\n                cpt.Time = procCpt.executionTime as ToolTime;\r\n                cpt.MetadataId = procCpt.metadataId;\r\n                cpt.MethodCode = procCpt.methodCode;\r\n                cpt.Id = procCpt.id;\r\n                cpt.Name = procCpt.name;\r\n                cpt.isForCompensation = procCpt.isForCompensation;\r\n                cpt.ActualParameters = [];\r\n                if (procCpt.actualParameters && procCpt.actualParameters.length > 0) {\r\n                    for (let item of procCpt.actualParameters) {\r\n                        let parameter = new ActualParameter(process.Model, item.code, item.value);\r\n\r\n                        cpt.ActualParameters.push(parameter);\r\n                    }\r\n                }\r\n\r\n                extendElements.push(cpt);\r\n            }\r\n        }\r\n    }\r\n\r\n    updateAllowPreAssign(assign: boolean) {\r\n        const process = this.process;\r\n        let extendElements = process.GetExtensionElements();\r\n        if (extendElements !== null && extendElements.length > 0) {\r\n            for (let i in extendElements) {\r\n                if (extendElements[i] instanceof ProcessHeader) {\r\n                    (extendElements[i] as ProcessHeader).allowPreAssign = assign;\r\n                    return;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    updateEnablePriority(priority: boolean) {\r\n        const process = this.process;\r\n        let extendElements = process.GetExtensionElements();\r\n        if (extendElements !== null && extendElements.length > 0) {\r\n            for (let i in extendElements) {\r\n                if (extendElements[i] instanceof ProcessHeader) {\r\n                    (extendElements[i] as ProcessHeader).enablePriority = priority;\r\n                    return;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    updateStartMode(startMode: StartMode, allCmps: any, bizCmps: any) {\r\n        // 对于启动方式的提示信息\r\n        switch (startMode) {\r\n            case StartMode.DIRECT:\r\n                this.editorUi.fireEvent(new mxEventObject(WfEvents.ShowTips, \"data\", {\r\n                    type: 'message',\r\n                    level: 'info',\r\n                    message:  mxResources.get(\"directTips\"),\r\n                }));\r\n                break;\r\n            case StartMode.EXTERNAL_PROCESS:\r\n                this.editorUi.fireEvent(new mxEventObject(WfEvents.ShowTips, \"data\", {\r\n                    type: 'message',\r\n                    level: 'info',\r\n                    message:  mxResources.get(\"externalTips\"),\r\n                }));\r\n                break;\r\n            case StartMode.SUB_PROCESS:\r\n                this.editorUi.fireEvent(new mxEventObject(WfEvents.ShowTips, \"data\", {\r\n                    type: 'message',\r\n                    level: 'info',\r\n                    message:  mxResources.get(\"subprocessTips\"),\r\n                }));\r\n                break;\r\n        }\r\n        const process = this.process;\r\n        let extendElements = process.GetExtensionElements();\r\n        if (extendElements !== null && extendElements.length > 0) {\r\n            const procHeader = extendElements.filter(e => e instanceof ProcessHeader) as ProcessHeader[];\r\n            // 修改启动方式\r\n            procHeader[0].startMode = startMode;\r\n\r\n            const procCpts = allCmps;\r\n            //删除流程构件\r\n            if (extendElements.length > 0) {\r\n                for (let i = extendElements.length; i > 0; i--) {\r\n                    if (extendElements[i - 1] instanceof Component\r\n                        && (extendElements[i - 1] as Component).Time !== ToolTime.UNDEFINITION\r\n                        && (extendElements[i - 1] as Component).Time !== ToolTime.LOADDATA) {\r\n                        extendElements.splice(i - 1, 1);\r\n                    }\r\n                }\r\n            }\r\n\r\n            allCmps && allCmps.forEach(procCpt => {\r\n                const cpt = new Component(process.Model);\r\n                cpt.Time = procCpt.executionTime as ToolTime;\r\n                cpt.MetadataId = procCpt.metadataId;\r\n                cpt.MethodCode = procCpt.methodCode;\r\n                cpt.Id = procCpt.id;\r\n                cpt.Name = procCpt.name;\r\n                cpt.isForCompensation = procCpt.isForCompensation;\r\n                cpt.ActualParameters = [];\r\n                if (procCpt.scopeType) {\r\n                    cpt.ScopeType = procCpt.scopeType;\r\n                } else {\r\n                    cpt.ScopeType = \"Undefined\"\r\n                }\r\n\r\n                procCpt.actualParameters && procCpt.actualParameters.forEach((item) => {\r\n                    let parameter = new ActualParameter(process.Model, item.code, item.value);\r\n                    cpt.ActualParameters.push(parameter);\r\n                });\r\n\r\n                extendElements.push(cpt);\r\n            });\r\n\r\n            const procCmps = extendElements.filter(e => e instanceof Component) as Component[];\r\n            // 如果启动方式是子流程,只保留取数构件\r\n            if (startMode === StartMode.SUB_PROCESS) {\r\n                // Utils.postMessage(ResourceKeys.wf_showTip, {\r\n                //     type: 'message',\r\n                //     level: 'info',\r\n                //     message: `启动方式为子流程，需要移除取数构件以外的流程构件`,\r\n                // });\r\n                for (let i = extendElements.length; i > 0; i--) {\r\n                    if (extendElements[i - 1] instanceof Component) {\r\n                        const cmp = extendElements[i - 1] as Component;\r\n                        if (\r\n                            cmp.Time !== ToolTime.UNDEFINITION\r\n                            && cmp.Time !== ToolTime.LOADDATA\r\n                            && (cmp.ScopeType !== StartMode.SUB_PROCESS && cmp.ScopeType !== \"All_Process\")\r\n                        ) {\r\n                            extendElements.splice(i - 1, 1);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            // 如果启动方式是直接启动,不允许存在共享的构件\r\n            if (startMode === StartMode.DIRECT) {\r\n                // 判断有没有共享（PF）的流程构件\r\n                const pfCmps = procCmps.filter((p: Component) => WfDesignerUtils.isPfComponent(p.MetadataId));\r\n                if (pfCmps && pfCmps.length > 0) {\r\n                    // 删掉共享的构件和启动方式\r\n                    for (let i = extendElements.length; i > 0; i--) {\r\n                        if (extendElements[i - 1] instanceof Component) {\r\n                            const cmp = extendElements[i - 1] as Component;\r\n                            if (\r\n                                WfDesignerUtils.isPfComponent(cmp.MetadataId)\r\n                                || cmp.ScopeType === StartMode.EXTERNAL_PROCESS\r\n                                || cmp.ScopeType === StartMode.SUB_PROCESS\r\n                            ) {\r\n                                extendElements.splice(i - 1, 1);\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                // 如果启动方式是外部流程\r\n            } else if (startMode === StartMode.EXTERNAL_PROCESS) {\r\n                // const otherCmps = procCmps.filter((p: Component) => (p.MetadataId !== ResourceKeys.pf_Cmp_Id1\r\n                //     && p.MetadataId !== ResourceKeys.pf_Cmp_Id2\r\n                //     && p.MetadataId !== ResourceKeys.pf_Cmp_Id3\r\n                //     && p.MetadataId !== ResourceKeys.pf_Cmp_Id4\r\n                //     && p.Time !== ToolTime.LOADDATA\r\n                // ));\r\n                // 判断有没有预制外部流程通用构件\r\n                let externalCmps = false;\r\n                const cmps = bizCmps;\r\n                if (cmps && cmps.length > 0) {\r\n                    // 此处标记是外部流程通用构件\r\n                    for (const c of cmps) {\r\n                        if (c.scopeType === 'ExternalProcess') {\r\n                            externalCmps = true;\r\n                            break;\r\n                        }\r\n                    }\r\n                    // 如果预制了外部流程通用构件,只保留取数构件，没有则不处理\r\n                    if (externalCmps) {\r\n                        for (let i = extendElements.length; i > 0; i--) {\r\n                            if (extendElements[i - 1] instanceof Component) {\r\n                                const cmp = extendElements[i - 1] as Component;\r\n                                if (cmp.Time !== ToolTime.UNDEFINITION\r\n                                    && cmp.Time !== ToolTime.LOADDATA\r\n                                    && (cmp.ScopeType === StartMode.DIRECT\r\n                                        || cmp.ScopeType === StartMode.SUB_PROCESS\r\n                                        || cmp.ScopeType === \"Undefined\")) {\r\n                                    extendElements.splice(i - 1, 1);\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        this.editorUi.fireEvent(new mxEventObject(PmfEvents.ShowProperty));\r\n    }\r\n\r\n    updateProcessVariables(variables: any[]) {\r\n        let process = this.process;\r\n        let objects = process.GetDataObjects();\r\n        const extendElements = process.GetExtensionElements();\r\n        if (objects && objects.length > 0) {\r\n            for (const o of objects) {\r\n                if (o instanceof ValuedDataObject && o.DataType.Category !== DataTypes.CustomType) {\r\n                    if (o.variableSetting && o.variableSetting.tag === 'component') {\r\n                        const i = extendElements.findIndex(e => (e instanceof Component && e.Id === o.variableSetting.value));\r\n                        extendElements.splice(i, 1);\r\n                    }\r\n                    process.RemoveDataObject(o.Id);\r\n                }\r\n\r\n            }\r\n        }\r\n\r\n        if (variables !== null && variables.length > 0) {\r\n            for (const v of variables) {\r\n                const dataType = new DataType(process.Model);\r\n                dataType.Category = DataTypes.BasicType;\r\n                dataType.BasicType = v.basicType;\r\n                dataType.Description = v.description;\r\n                const dataObject = new ValuedDataObject(process.Model);\r\n                dataObject.Id = v.id;\r\n                dataObject.Name = v.name;\r\n                dataObject.Documentation = v.documentation;\r\n                dataObject.DataType = dataType;\r\n\r\n                if (v.tag && v.value) {\r\n                    const variableSetting = new VariableSetting(process.Model);\r\n                    variableSetting.variableCode = v.name;\r\n                    variableSetting.variableName = v.documentation;\r\n                    variableSetting.tag = v.tag;\r\n                    variableSetting.value = v.value;\r\n                    variableSetting.valueText = v.valueText;\r\n\r\n                    dataObject.variableSetting = variableSetting;\r\n\r\n                    if (variableSetting.tag === 'component') {\r\n                        const c = v.component;\r\n                        if (c) {\r\n                            let cpt = new Component(process.Model);\r\n                            cpt.MetadataId = c.MetadataId;\r\n                            cpt.MethodCode = c.MethodCode;\r\n                            cpt.Id = c.Id;\r\n                            cpt.Name = c.Name;\r\n                            cpt.ActualParameters = new Array();\r\n                            if (c.ActualParameters && c.ActualParameters.length > 0) {\r\n                                for (let a of c.ActualParameters) {\r\n                                    let parameter = new ActualParameter(process.Model, a.Name, a.Value);\r\n                                    parameter.Tag = a.Tag;\r\n                                    cpt.ActualParameters.push(parameter);\r\n                                }\r\n                            }\r\n\r\n                            extendElements.push(cpt);\r\n                        }\r\n                    }\r\n                }\r\n\r\n                process.AddDataObject(dataObject);\r\n            }\r\n        }\r\n    }\r\n\r\n    updateProcessTimeLimitControl(timeLimit: any) {\r\n        const process = this.process;\r\n        let extendElements = process.GetExtensionElements();\r\n        if (extendElements.length > 0) {\r\n            for (let i = extendElements.length; i > 0; i--) {\r\n                if (extendElements[i - 1] instanceof TimeLimitControl) {\r\n                    extendElements.splice(i - 1, 1);\r\n                }\r\n            }\r\n        }\r\n        const timeLimitInfo = timeLimit as TimeLimitControlInfo;\r\n        if (timeLimitInfo) {\r\n            const control = new TimeLimitControl(process.Model);\r\n            control.enable = timeLimitInfo.enable;\r\n            control.tag = timeLimitInfo.tag;\r\n            control.dueTime = timeLimitInfo.dueTime;\r\n            control.timeUnit = timeLimitInfo.timeUnit;\r\n            control.expireOperations = new Array<SendMessageExpireOperation>();\r\n            if (timeLimitInfo.expireOperations && timeLimitInfo.expireOperations.length > 0) {\r\n                for (const o of timeLimitInfo.expireOperations) {\r\n                    if (o.operationTypeName === 'SendMessageExpireOperation' || !o.operationTypeName) {\r\n                        const operation = o as SendMessageExpireOperation;\r\n                        const sendMessage = new SendMessageExpireOperation(process.Model);\r\n                        sendMessage.id = BpmnModelHelper.GenerateElementId();\r\n                        sendMessage.durationType = operation.durationType as DurationType;\r\n                        sendMessage.timeDuration = operation.timeDuration;\r\n                        sendMessage.timeUnit = operation.timeUnit;\r\n                        sendMessage.operationTypeName = operation.operationTypeName ? operation.operationTypeName : 'SendMessageExpireOperation';\r\n                        sendMessage.message = operation.message;\r\n                        sendMessage.subject = operation.subject;\r\n                        sendMessage.sendType = operation.sendType;\r\n                        sendMessage.receiver = operation.receiver;\r\n                        sendMessage.receiverText = operation.receiverText;\r\n                        sendMessage.cycleEnable = operation.cycleEnable;\r\n                        sendMessage.cycleTime = operation.cycleTime;\r\n                        sendMessage.cycleTimeUnit = operation.cycleTimeUnit;\r\n                        if (operation.smsMessageTemplate) {\r\n                            const smsMessageTemplate = new SmsMessageTemplate(process.Model);\r\n                            smsMessageTemplate.code = operation.smsMessageTemplate.code;\r\n                            smsMessageTemplate.content = operation.smsMessageTemplate.content;\r\n                            smsMessageTemplate.smsMessageVariables = new Array();\r\n                            if (operation.smsMessageTemplate.smsMessageVariables && operation.smsMessageTemplate.smsMessageVariables.length > 0) {\r\n                                for (const v of operation.smsMessageTemplate.smsMessageVariables) {\r\n                                    const variable = new SmsMessageVariable(process.Model);\r\n                                    variable.code = v.code;\r\n                                    variable.value = v.value;\r\n                                    variable.tag = v.tag;\r\n                                    smsMessageTemplate.smsMessageVariables.push(variable);\r\n                                }\r\n                            }\r\n                            sendMessage.smsMessageTemplate = smsMessageTemplate;\r\n                        }\r\n                        control.expireOperations.push(sendMessage);\r\n                    } else if (o.operationTypeName === 'AutoHandleExpireOperation') {\r\n                        const operation = o as AutoHandleExpireOperation;\r\n                        const autoHandle = new AutoHandleExpireOperation(process.Model);\r\n                        autoHandle.id = BpmnModelHelper.GenerateElementId();\r\n                        autoHandle.durationType = operation.durationType as DurationType;\r\n                        autoHandle.timeDuration = operation.timeDuration;\r\n                        autoHandle.timeUnit = operation.timeUnit;\r\n                        autoHandle.operationTypeName = operation.operationTypeName ? operation.operationTypeName : 'AutoHandleExpireOperation';\r\n                        autoHandle.autoHandleType = operation.autoHandleType;\r\n                        autoHandle.message = operation.message;\r\n                        control.expireOperations.push(autoHandle);\r\n                    }\r\n                }\r\n            }\r\n            extendElements.push(control);\r\n        }\r\n    }\r\n\r\n    updateProcessMessageNotices(notices: any[]) {\r\n        const process = this.process;\r\n        let extendElements = process.GetExtensionElements();\r\n        if (extendElements.length > 0) {\r\n            for (let i = extendElements.length; i > 0; i--) {\r\n                if (extendElements[i - 1] instanceof MessageNotice) {\r\n                    extendElements.splice(i - 1, 1);\r\n                }\r\n            }\r\n        }\r\n        if (notices && notices.length > 0) {\r\n            for (let n of notices) {\r\n                const messageNotice = new MessageNotice(process.Model);\r\n                messageNotice.sendType = n.sendType;\r\n                messageNotice.sendTime = n.sendTime;\r\n                messageNotice.subject = n.subject;\r\n                messageNotice.content = n.content;\r\n                // messageNotice.receiver = n.receiver;\r\n                // messageNotice.receiverText = n.receiverText;\r\n                n.receivers = n.receivers.filter(r => r.type);\r\n                if (n.receivers && n.receivers.length > 0) {\r\n                    const receivers = n.receivers.filter(r => r.type === 'userParticipant'\r\n                        || (r.type === 'processParticipant' && r.processParticipant !== 'activityExecutorParticipant'));\r\n                    const participants = n.receivers.filter(r => r.type === 'variableParticipant' || r.type === 'positionParticipant'\r\n                        || (r.type === 'processParticipant' && r.processParticipant === 'activityExecutorParticipant'));\r\n                    if (receivers && receivers.length > 0) {\r\n                        let receiver = '';\r\n                        let receiverName = '';\r\n                        for (const r of receivers) {\r\n                            if (r.type === 'processParticipant') {\r\n                                receiver += (r.processParticipant + ',');\r\n                                if (r.processParticipant === 'procInstCreator') {\r\n                                    receiverName += '流程发起人,'\r\n                                } else if (r.processParticipant === 'workItemParticipant') {\r\n                                    receiverName += '任务接收人,'\r\n                                }\r\n                            } else if (r.type === 'userParticipant') {\r\n                                receiver += (r.userIds + ',');\r\n                                receiverName += (r.userNames + ',');\r\n                            }\r\n                        }\r\n                        if (receiver) {\r\n                            receiver = receiver.substring(0, receiver.length - 1);\r\n                        }\r\n                        if (receiverName) {\r\n                            receiverName = receiverName.substring(0, receiverName.length - 1);\r\n                        }\r\n                        messageNotice.receiver = receiver;\r\n                        messageNotice.receiverText = receiverName;\r\n                    }\r\n                    if (participants && participants.length > 0) {\r\n                        const receiverExpressions = new Array<ParticipantExpression>();\r\n                        for (const p of participants) {\r\n                            if (p.type === 'processParticipant') {\r\n                                let activityExecutor = new ActivityExecutorParticipantExpression(process.Model);\r\n                                activityExecutor.id = BpmnModelHelper.GenerateElementId();\r\n                                activityExecutor.activityDefId = p.activityDefId;\r\n                                activityExecutor.activityDefName = p.activityDefName;\r\n                                receiverExpressions.push(activityExecutor);\r\n                            }\r\n                            if (p.type === 'variableParticipant') {\r\n                                let variableParticipant = new UserParticipantExpression(process.Model, p.variableParticipant, p.variableName, p.orgType);\r\n                                variableParticipant.id = BpmnModelHelper.GenerateElementId();\r\n                                variableParticipant.Tag = 'expression';\r\n                                variableParticipant.OrgType = p.orgType;\r\n                                receiverExpressions.push(variableParticipant);\r\n                            }\r\n                            if (p.type === 'positionParticipant') {\r\n                                let posiParticipant = new PositionParticipantExpression(process.Model, p.positionId, p.positionName);\r\n                                posiParticipant.id = BpmnModelHelper.GenerateElementId();\r\n                                posiParticipant.PositionType = p.positionType;\r\n                                if (p.positionType === '1') {\r\n                                    posiParticipant.OrgId = p.orgId;\r\n                                    posiParticipant.OrgType = p.orgType;\r\n                                }\r\n                                receiverExpressions.push(posiParticipant);\r\n                            }\r\n                        }\r\n                        messageNotice.receiverExpressions = receiverExpressions;\r\n                    }\r\n                }\r\n\r\n                if (n.smsMessageTemplate) {\r\n                    const smsMessageTemplate = new SmsMessageTemplate(process.Model);\r\n                    smsMessageTemplate.code = n.smsMessageTemplate.code;\r\n                    smsMessageTemplate.content = n.smsMessageTemplate.content;\r\n                    smsMessageTemplate.smsMessageVariables = new Array();\r\n                    if (n.smsMessageTemplate.smsMessageVariables && n.smsMessageTemplate.smsMessageVariables.length > 0) {\r\n                        for (const v of n.smsMessageTemplate.smsMessageVariables) {\r\n                            const variable = new SmsMessageVariable(process.Model);\r\n                            variable.code = v.code;\r\n                            variable.value = v.value;\r\n                            variable.tag = v.tag;\r\n                            smsMessageTemplate.smsMessageVariables.push(variable);\r\n                        }\r\n                    }\r\n                    messageNotice.smsMessageTemplate = smsMessageTemplate;\r\n                }\r\n\r\n                extendElements.push(messageNotice);\r\n            }\r\n        }\r\n    }\r\n\r\n    updateImageSettings(imageSettings: any) {\r\n        const process = this.process;\r\n        let extendElements = process.GetExtensionElements();\r\n        if (extendElements.length > 0) {\r\n            for (let i = extendElements.length; i > 0; i--) {\r\n                if (extendElements[i - 1] instanceof ImageSettings) {\r\n                    extendElements.splice(i - 1, 1);\r\n                }\r\n            }\r\n        }\r\n        if (imageSettings) {\r\n            const imageSetting = new ImageSettings(process.Model);\r\n            imageSetting.imageOperation = imageSettings.imageOperation;\r\n            extendElements.push(imageSetting);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 更新扩展属性\r\n     * @param bpmnModel\r\n     * @param value\r\n     */\r\n    resetExtendProperty(value: any[]) {\r\n        const process = this.process;\r\n        let extendElements = process.GetExtensionElements();\r\n        for (const o of value) {\r\n            for (const e of extendElements) {\r\n                if (e instanceof ExtendProperty && e.key === o.code) {\r\n                    const index = extendElements.indexOf(e);\r\n                    if (index > -1) {\r\n                        extendElements.splice(index, 1);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        let attributes = value as any;\r\n        if (attributes) {\r\n            attributes.forEach(a => {\r\n                let item = new ExtendProperty(process.Model);\r\n                item.key = a.code;\r\n                item.value = a.value;\r\n                extendElements.push(item);\r\n            });\r\n        }\r\n    }\r\n\r\n    updateEnableWholeOrderRetrieve(wholeOrderRetrieve: boolean) {\r\n        let extendElements = this.process.GetExtensionElements();\r\n        if (extendElements !== null && extendElements.length > 0) {\r\n            for (let i in extendElements) {\r\n                if (extendElements[i] instanceof ProcessHeader) {\r\n                    (extendElements[i] as ProcessHeader).enableWholeOrderRetrieve = wholeOrderRetrieve;\r\n                    return;\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n","import { Graph, Cell, NodeCell } from \"@edp-pmf/grapheditor\";\r\nimport { FlowNodeState, BpmnModel } from \"@edp-pmf/bpmn-model\";\r\nimport { StartMode } from \"@gsp-wf/wf-process-model\";\r\nimport { WfEditorUi } from \"./WfEditorUi\";\r\nimport { MxGraphNS, mxConstants, mxUtils } from \"@edp-pmf/mxgraph-ts\";\r\nimport { WfProcessCell } from \"./wf-cell/WfProcessCell\";\r\nimport { WfLocalePipe } from \"../i18n/pipe/wf-process-editor-locale.pipe\";\r\n\r\n/**\r\n * 工作流画布类\r\n */\r\nexport class WfGraph extends Graph {\r\n    localePipe: WfLocalePipe = null;\r\n    editorUi: WfEditorUi;\r\n    /**\r\n     * 流程元素实例\r\n     */\r\n    processCell: WfProcessCell = new WfProcessCell();\r\n    constructor(editorUi: WfEditorUi, container?: HTMLDivElement, model?: MxGraphNS.mxGraphModel, renderHint?: MxGraphNS.renderingHint, stylesheet?: MxGraphNS.mxStylesheet, themes?: Element) {\r\n        super(editorUi, container, model, renderHint, stylesheet, themes);\r\n    }\r\n\r\n    bpmnCellsSelectionChanged(cells: Cell[], sender: MxGraphNS.mxEventSource, eventObject: MxGraphNS.mxEventObject): void {\r\n      super.bpmnCellsSelectionChanged(cells, sender, eventObject);\r\n      // 修改选中节点样式\r\n      const selected = this.getSelectionCells() as NodeCell[];\r\n      const all = this.getChildVertices(this.getDefaultParent()) as NodeCell[];\r\n      all.forEach(c => {\r\n          if (selected.includes(c) && c.imgUrls && c.imgUrls[FlowNodeState.Selected]) {\r\n              c.setStyle(mxUtils.setStyle(c.getStyle(), mxConstants.STYLE_IMAGE, c.imgUrls[FlowNodeState.Selected]));\r\n          } else {\r\n              c.setStyle(mxUtils.setStyle(c.getStyle(), mxConstants.STYLE_IMAGE, c.imgUrls[FlowNodeState.Default]));\r\n          }\r\n          this.refresh(c);\r\n      });\r\n  }\r\n\r\n    /**\r\n     * 重写创建流程元素实例方法\r\n     * @param bpmnModel\r\n     * @returns\r\n     */\r\n    createProcessCell(bpmnModel: BpmnModel) {\r\n        const processCell = new WfProcessCell();\r\n        processCell.process = bpmnModel.DefaultProcess;\r\n        processCell.plane = bpmnModel.DefaultDiagram.BpmnPlane;\r\n        processCell.editorUi = this.editorUi;\r\n        return processCell;\r\n    }\r\n\r\n    /**\r\n     * 给定新流程信息创建BpmnModel\r\n     * @param newProcInfo\r\n     * @param bizCmps\r\n     */\r\n    createBpmnModelWithProcInfo(newProcInfo: any, bizCmps: any) {\r\n        const bpmnModel = this.createBpmnModel();\r\n        this.bpmnModel = bpmnModel;\r\n        this.processCell = this.createProcessCell(this.bpmnModel);\r\n        if (this.editorUi.langCode === 'zh-CHS') {\r\n          this.bpmnModel.DefaultProcess.Name = newProcInfo.name || bpmnModel.DefaultProcess.Name;\r\n        }\r\n        this.bpmnModel.DefaultProcess.NameLanguage = {\r\n          [this.editorUi.langCode]: newProcInfo.name || bpmnModel.DefaultProcess.Name,\r\n        }\r\n        //设置流程Header(业务对象ID、流程分类ID)\r\n        this.processCell.setProcessHeader(newProcInfo.ffId, newProcInfo.bizObjId, newProcInfo.ffName, newProcInfo.startMode as StartMode);\r\n\r\n        // 基于流程分类绑定参数，流程构件，流程表单\r\n        this.processCell.updateFlowFormInfo(newProcInfo.formalParameters, newProcInfo.processBizComponnets, newProcInfo.executeForms, newProcInfo.customizeActions, bizCmps);\r\n        this.processCell.modifyProcessTitleExpression(newProcInfo.processDescription);\r\n    }\r\n    setDefaultStyles(): void {\r\n      super.setDefaultStyles();\r\n\r\n      const styleSheet = this.getStylesheet();\r\n      // 连线样式默认为正交\r\n      const edgeStyle = styleSheet.getDefaultEdgeStyle();\r\n      edgeStyle[mxConstants.STYLE_ROUNDED] = 1;\r\n  }\r\n}\r\n","import { Sidebar, BpmnCellHelper, Graph, PmfEvents, IEditorUi } from \"@edp-pmf/grapheditor\";\r\nimport { BizActivity, UserActivity } from \"@gsp-wf/wf-process-model\";\r\nimport { mxGeometry, MxGraphNS, mxEvent, mxEventObject, mxResources } from \"@edp-pmf/mxgraph-ts\";\r\nimport { UserActivityCell } from \"./wf-cell/UserActivityCell\";\r\nimport { WfConstants } from \"./WfConstants\";\r\n\r\nexport class WfSidebar extends Sidebar {\r\n    bizActivities: BizActivity[] = [];\r\n    /**\r\n     * 添加业务活动面板\r\n     * @param bizActivities \r\n     */\r\n    addBizActPalette(bizActivities: BizActivity[]): void {\r\n        //如果添加了业务活动面板，需要先移除\r\n        if (this.palettes[\"bizactivitylib\"]) {\r\n            this.container.removeChild(this.palettes[\"bizactivitylib\"][0]);\r\n            this.container.removeChild(this.palettes[\"bizactivitylib\"][1]);\r\n            delete this.palettes[\"bizactivitylib\"];\r\n        }\r\n        this.bizActivities = bizActivities;\r\n        let bizActFactories = new Array<() => HTMLAnchorElement>();\r\n        //添加业务活动\r\n        this.bizActivities && this.bizActivities.forEach((activity: BizActivity) => {\r\n            const style = 'image=' + WfConstants.IMAGE_PATH + '/bizActivity.png;';\r\n            const cell = BpmnCellHelper.generate(UserActivity.Clr_Type_ID, undefined, new mxGeometry(0, 0, this.defaultImageWidth, this.defaultImageHeight), style) as UserActivityCell;\r\n            cell.name = activity.name;\r\n            cell.bizActivity = activity;\r\n\r\n            bizActFactories.push(this.createItemFactory([cell], cell.name, this.defaultImageWidth, this.defaultImageHeight));\r\n        });\r\n\r\n        if (bizActFactories.length > 0) {\r\n            this.addPaletteFunctions('bizactivitylib',  mxResources.get('bizactivitylib'), true, bizActFactories);\r\n        }\r\n    }\r\n}","import { ExclusiveGateway, BpmnModelHelper, FlowNodeState } from \"@edp-pmf/bpmn-model\";\r\nimport { ExclusiveGatewayCell } from \"@edp-pmf/grapheditor\";\r\nimport { WfConstants } from \"../WfConstants\";\r\n\r\n/**\r\n * 排他网关节点，增加状态图片信息\r\n */\r\nexport class WfExclusiveGatewayCell extends ExclusiveGatewayCell {\r\n    imgUrls = {\r\n        [FlowNodeState.Default]: WfConstants.IMAGE_PATH + \"/ExclusiveGateway.png\",\r\n        [FlowNodeState.Selected]: WfConstants.IMAGE_PATH + \"/ExclusiveGateway_select.svg\",\r\n    };\r\n\r\n    createFlowElement(flowElt?: ExclusiveGateway) {\r\n        const flowNode = super.createFlowElement(flowElt) as ExclusiveGateway;\r\n        flowNode.Id = \"ExclusiveGateway\" + BpmnModelHelper.GenerateElementId();\r\n\r\n        return flowNode;\r\n    }\r\n}","import { NodeCell, ElementPropertyConfig, FarrisPropConfigWithData } from \"@edp-pmf/grapheditor\";\r\nimport { MxGraphNS, mxResources } from \"@edp-pmf/mxgraph-ts\";\r\nimport { AifCreationBillActivity } from \"@gsp-wf/wf-process-model\";\r\nimport { BpmnModelHelper, FlowNodeState } from \"@edp-pmf/bpmn-model\";\r\nimport { WfConstants } from \"../WfConstants\";\r\nimport { AifCreationBillActivityPropertyKeys } from \"./property-keys/AifCreationBillActivityPropertyKeys\";\r\n\r\n/**\r\n * 自动生单活动节点\r\n */\r\nexport class AifCreationBillActivityCell extends NodeCell {\r\n    clrTypeId: string = AifCreationBillActivityCell.CLR_TYPE_ID;\r\n    name: string = \"自动生单\";\r\n    nameLanguage: { [lang: string]: string; } = {\r\n      \"zh-CHS\": \"自动生单\",\r\n      \"zh-CHT\": \"自動生單\",\r\n      \"en\": \"Creation Bill \",\r\n  };\r\n    static CLR_TYPE_ID: string = AifCreationBillActivity.Clr_Type_ID;\r\n    flowElement: AifCreationBillActivity;\r\n\r\n    imgUrls = {\r\n        [FlowNodeState.Default]: WfConstants.IMAGE_PATH + \"/aifCreationActivity.png\",\r\n        [FlowNodeState.Selected]: WfConstants.IMAGE_PATH + \"/aifCreationActivity_select.svg\",\r\n    };\r\n\r\n    constructor(value?: any, geometry?: MxGraphNS.mxGeometry, style?: string) {\r\n        super(value, geometry, style);\r\n    }\r\n\r\n    createFlowElement(flowElt?: AifCreationBillActivity): AifCreationBillActivity {\r\n        const flowNode = super.createFlowElement(flowElt) as AifCreationBillActivity;\r\n        flowNode.Id = \"AifCreationBillActivity\" + BpmnModelHelper.GenerateElementId();\r\n        return flowNode;\r\n    }\r\n\r\n    getFarrisPropConfig(): FarrisPropConfigWithData {\r\n        let act = this.flowElement;\r\n\r\n        let PropertyConfig: ElementPropertyConfig = new ElementPropertyConfig();\r\n        let propertyData: any = new Object();\r\n        PropertyConfig.categoryId = 'general';\r\n        PropertyConfig.categoryName = mxResources.get('basicInformation');\r\n        PropertyConfig.tabId = 'basic';\r\n        PropertyConfig.tabName = mxResources.get('basicAttributes');\r\n        PropertyConfig.properties = [\r\n            { propertyID: AifCreationBillActivityPropertyKeys.Name, propertyName: mxResources.get('name'), propertyType: 'string', visible: !this.editorUi.multiLangEnabled },\r\n            { propertyID: AifCreationBillActivityPropertyKeys.NameLanguage, propertyName: mxResources.get('nameLanguage'), propertyType: 'multiLanguage', visible: this.editorUi.multiLangEnabled },\r\n            { propertyID: AifCreationBillActivityPropertyKeys.Id, propertyName: mxResources.get('id'), propertyType: 'string', readonly: true }\r\n        ];\r\n\r\n        let bifDef = new ElementPropertyConfig();\r\n        bifDef.categoryId = 'bifDef';\r\n        bifDef.categoryName = mxResources.get('bifDef');\r\n        bifDef.tabId = 'basic';\r\n        bifDef.tabName = mxResources.get('basicAttributes')\r\n        bifDef.properties = [\r\n            { propertyID: AifCreationBillActivityPropertyKeys.aifProcessCode, propertyName: mxResources.get('aifProcess'), propertyType: 'modal' },\r\n            // { propertyID: AifCreationBillActivityResourceKeys.isRelied, propertyName: '后续依赖', propertyType: 'boolean' },\r\n        ];\r\n\r\n        propertyData[AifCreationBillActivityPropertyKeys.Id] = act.Id;\r\n        propertyData[AifCreationBillActivityPropertyKeys.ClrTypeID] = act.ClrTypeID;\r\n\r\n        propertyData[AifCreationBillActivityPropertyKeys.Name] = act.Name || mxResources.get('autoAif');\r\n        propertyData[AifCreationBillActivityPropertyKeys.NameLanguage] = act.NameLanguage || {\r\n            \"zh-CHS\": act.Name,\r\n        };\r\n        propertyData[AifCreationBillActivityPropertyKeys.aifProcessCode] = act.aifProcessCode\r\n        propertyData[AifCreationBillActivityPropertyKeys.isRelied] = act.isRelied\r\n\r\n        return {\r\n            propertyConfig: [PropertyConfig, bifDef],\r\n            propertyData: propertyData\r\n        }\r\n    }\r\n\r\n    updateProps(obj: any) {\r\n        const propertyId: string = obj.propertyID;\r\n        switch (propertyId) {\r\n            case AifCreationBillActivityPropertyKeys.aifProcessCode:\r\n                this.resetProcessCode(this.flowElement, obj);\r\n                break;\r\n            default:\r\n                super.updateProps(obj);\r\n                break;\r\n        }\r\n    }\r\n\r\n    resetProcessCode(startActivity: AifCreationBillActivity, obj: any) {\r\n        const data = obj.propertyValue;\r\n        if (data) {\r\n            startActivity.aifProcessCode = data;\r\n        } else {\r\n            startActivity.aifProcessCode = null;\r\n        }\r\n    }\r\n}\r\n","import { NodeCell, ElementPropertyConfig, FarrisPropConfigWithData } from \"@edp-pmf/grapheditor\";\r\nimport { MxGraphNS, mxResources } from \"@edp-pmf/mxgraph-ts\";\r\nimport { AutoActivity, Component, Tool, ActualParameter, VariableSetting } from \"@gsp-wf/wf-process-model\";\r\nimport { PropertyHelper } from \"./PropertyHelper\";\r\nimport { BpmnModelHelper, FlowNodeState } from \"@edp-pmf/bpmn-model\";\r\nimport { WfConstants } from \"../WfConstants\";\r\nimport { AutoActivityPropertyKeys } from \"./property-keys/AutoActivityPropertyKeys\";\r\n\r\n/**\r\n * 服务活动节点\r\n */\r\nexport class AutoActivityCell extends NodeCell {\r\n    clrTypeId: string = AutoActivityCell.CLR_TYPE_ID;\r\n    name: string = \"服务\";\r\n    nameLanguage: { [lang: string]: string; } = {\r\n      \"zh-CHS\": \"服务\",\r\n      \"zh-CHT\": \"服務\",\r\n      \"en\": \"Service \",\r\n  };\r\n    static CLR_TYPE_ID: string = AutoActivity.Clr_Type_ID;\r\n    flowElement: AutoActivity;\r\n\r\n    imgUrls = {\r\n        [FlowNodeState.Default]: WfConstants.IMAGE_PATH + \"/auto.png\",\r\n        [FlowNodeState.Selected]: WfConstants.IMAGE_PATH + \"/auto_select.svg\",\r\n    };\r\n\r\n    constructor(value?: any, geometry?: MxGraphNS.mxGeometry, style?: string) {\r\n        super(value, geometry, style);\r\n    }\r\n\r\n    createFlowElement(flowElt?: AutoActivity) {\r\n        const flowNode = super.createFlowElement(flowElt) as AutoActivity;\r\n        flowNode.Id = \"autoActivity\" + BpmnModelHelper.GenerateElementId();\r\n\r\n        return flowNode;\r\n    }\r\n\r\n    getFarrisPropConfig(): FarrisPropConfigWithData {\r\n        let act = this.flowElement;\r\n\r\n        // 组织属性框\r\n        let basicProperty: ElementPropertyConfig = new ElementPropertyConfig();\r\n        let activityProperty: ElementPropertyConfig = new ElementPropertyConfig();\r\n        let propertyData: any = {};\r\n\r\n        basicProperty.categoryId = 'basicProperty';\r\n        basicProperty.categoryName = mxResources.get('basicInformation');\r\n        basicProperty.tabId = 'basic';\r\n        basicProperty.tabName = mxResources.get('basicAttributes');\r\n        basicProperty.properties = [\r\n            { propertyID: AutoActivityPropertyKeys.Name, propertyName: mxResources.get('name'), propertyType: 'string', visible: !this.editorUi.multiLangEnabled },\r\n            { propertyID: AutoActivityPropertyKeys.NameLanguage, propertyName: mxResources.get('nameLanguage'), propertyType: 'multiLanguage', visible: this.editorUi.multiLangEnabled },\r\n            { propertyID: AutoActivityPropertyKeys.Id, propertyName: mxResources.get('id'), propertyType: 'string', readonly: true }\r\n        ];\r\n\r\n\r\n        activityProperty.categoryId = 'activityProperty';\r\n        activityProperty.categoryName = mxResources.get('activityProperty');\r\n        activityProperty.tabId = 'basic';\r\n        activityProperty.tabName = mxResources.get('basicAttributes');\r\n        activityProperty.properties = [\r\n            { propertyID: AutoActivityPropertyKeys.Tools, propertyName: mxResources.get('tools'), propertyType: 'modal' },\r\n            { propertyID: AutoActivityPropertyKeys.variableSettings, propertyName: mxResources.get('variableSettings'), propertyType: 'modal' },\r\n        ];\r\n\r\n        propertyData[AutoActivityPropertyKeys.Id] = act.Id;\r\n        propertyData[AutoActivityPropertyKeys.ClrTypeID] = act.ClrTypeID;\r\n        propertyData[AutoActivityPropertyKeys.Name] = act.Name;\r\n        propertyData[AutoActivityPropertyKeys.NameLanguage] = act.NameLanguage || {\r\n            \"zh-CHS\": act.Name,\r\n        };\r\n        propertyData[AutoActivityPropertyKeys.Tools] = PropertyHelper.getBizComponentList(act.tools as Array<Component>);\r\n        propertyData[AutoActivityPropertyKeys.variableSettings] = PropertyHelper.getVariableSettings(act.Model, act.variableSettings);\r\n\r\n        return {\r\n            propertyConfig: [basicProperty, activityProperty],\r\n            propertyData: propertyData\r\n        }\r\n    }\r\n\r\n    updateProps(obj: any) {\r\n        const autoActivity = this.flowElement;\r\n        const propertyId: string = obj.propertyID;\r\n        switch (propertyId) {\r\n            case AutoActivityPropertyKeys.Tools:\r\n                this.updateAutoActivityTools(autoActivity, obj);\r\n                break;\r\n            case AutoActivityPropertyKeys.variableSettings:\r\n                this.updateVariableSettings(autoActivity, obj);\r\n                break;\r\n            default:\r\n                super.updateProps(obj);\r\n                break;\r\n        }\r\n    }\r\n\r\n    updateAutoActivityTools(autoActivity: AutoActivity, obj: any) {\r\n        let tools = obj.propertyValue as any[];\r\n        autoActivity.tools = new Array<Tool>();\r\n        if (tools && tools.length > 0) {\r\n            for (const tool of tools) {\r\n                let component = new Component(autoActivity.Model);\r\n                component.Id = tool.id;\r\n                component.Name = tool.name;\r\n                // component.Time = tool.executionTime;\r\n                // TODO 写死了构件类型\r\n                component.ComponentType = 'WebServiceComponent';\r\n                component.MetadataId = tool.metadataId;\r\n                component.MethodCode = tool.methodCode;\r\n                component.isForCompensation = tool.isForCompensation;\r\n                component.ActualParameters = [];\r\n                if (tool.actualParameters && (tool.actualParameters as any[]).length > 0) {\r\n                    for (let a of (tool.actualParameters as any[])) {\r\n                        let parameter = new ActualParameter(autoActivity.Model, a.code, a.value);\r\n                        component.ActualParameters.push(parameter);\r\n                    }\r\n                }\r\n                autoActivity.tools.push(component);\r\n            }\r\n        }\r\n    }\r\n\r\n    updateVariableSettings(autoActivity: AutoActivity, obj: any) {\r\n        const bpmnModel = autoActivity.Model;\r\n        const extendElements = bpmnModel.DefaultProcess.GetExtensionElements();\r\n        if (autoActivity.variableSettings && autoActivity.variableSettings.length > 0) {\r\n            for (const v of autoActivity.variableSettings) {\r\n                if (v.tag === 'component') {\r\n                    const i = extendElements.findIndex(e => (e instanceof Component && e.Id === v.value));\r\n                    extendElements.splice(i, 1);\r\n                }\r\n            }\r\n        }\r\n        autoActivity.variableSettings = new Array();\r\n\r\n        const variables = obj.propertyValue as any[];\r\n        if (variables && variables.length > 0) {\r\n            for (const v of variables) {\r\n                const variableSetting = new VariableSetting(bpmnModel);\r\n                variableSetting.variableCode = v.variableCode;\r\n                variableSetting.variableName = v.variableName;\r\n                variableSetting.tag = v.tag;\r\n                variableSetting.executionTime = v.executionTime;\r\n                variableSetting.value = v.value;\r\n                variableSetting.valueText = v.valueText;\r\n\r\n                autoActivity.variableSettings.push(variableSetting);\r\n                if (variableSetting.tag === 'component') {\r\n                    const c = v.component;\r\n                    if (c) {\r\n                        let cpt = new Component(bpmnModel);\r\n                        cpt.MetadataId = c.MetadataId;\r\n                        cpt.MethodCode = c.MethodCode;\r\n                        cpt.Id = c.Id;\r\n                        cpt.Name = c.Name;\r\n                        cpt.ActualParameters = new Array();\r\n                        if (c.ActualParameters && c.ActualParameters.length > 0) {\r\n                            for (let a of c.ActualParameters) {\r\n                                let parameter = new ActualParameter(bpmnModel, a.Name, a.Value);\r\n                                parameter.Tag = a.Tag;\r\n                                cpt.ActualParameters.push(parameter);\r\n                            }\r\n                        }\r\n\r\n                        extendElements.push(cpt);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n","import { NodeCell, ElementPropertyConfig, FarrisPropConfigWithData } from \"@edp-pmf/grapheditor\";\r\nimport { MxGraphNS, mxResources } from \"@edp-pmf/mxgraph-ts\";\r\nimport { CallActivitySubProcess, Component, BackWardRule, ActualParameter, VariableSetting, SemanticExpression, CounterSignRule, Condition } from \"@gsp-wf/wf-process-model\";\r\nimport { PropertyHelper } from \"./PropertyHelper\";\r\nimport { BpmnModelHelper, Expression, FlowNodeState, MultiInstanceLoopCharacteristics } from \"@edp-pmf/bpmn-model\";\r\nimport { WfConstants } from \"../WfConstants\";\r\nimport { CallActivitySubProcessPropertyKeys } from \"./property-keys/CallActivitySubProcessPropertyKeys\";\r\n\r\n/**\r\n * 子流程活动节点\r\n */\r\nexport class CallActivitySubProcessCell extends NodeCell {\r\n    clrTypeId: string = CallActivitySubProcessCell.CLR_TYPE_ID;\r\n    name: string = \"子流程\";\r\n    nameLanguage: { [lang: string]: string; } = {\r\n      \"zh-CHS\": \"子流程\",\r\n      \"zh-CHT\": \"子流程\",\r\n      \"en\": \"Sub-Process\",\r\n  };\r\n    static CLR_TYPE_ID: string = CallActivitySubProcess.Clr_Type_ID;\r\n    flowElement: CallActivitySubProcess;\r\n\r\n    imgUrls = {\r\n        [FlowNodeState.Default]: WfConstants.IMAGE_PATH + \"/sub.png\",\r\n        [FlowNodeState.Selected]: WfConstants.IMAGE_PATH + \"/sub_select.svg\",\r\n    };\r\n\r\n    constructor(value?: any, geometry?: MxGraphNS.mxGeometry, style?: string) {\r\n        super(value, geometry, style);\r\n    }\r\n\r\n    createFlowElement(flowElt?: CallActivitySubProcess) {\r\n        const flowNode = super.createFlowElement(flowElt) as CallActivitySubProcess;\r\n        flowNode.Id = \"CallActivitySubProcess\" + BpmnModelHelper.GenerateElementId();\r\n\r\n        return flowNode;\r\n    }\r\n\r\n    getFarrisPropConfig(): FarrisPropConfigWithData {\r\n        let act = this.flowElement;\r\n        // 组织属性框\r\n        let basicProperty: ElementPropertyConfig = new ElementPropertyConfig();\r\n        let activityProperty: ElementPropertyConfig = new ElementPropertyConfig();\r\n        let propertyData: any = {};\r\n\r\n        // 基本属性（名称）\r\n        basicProperty.categoryId = 'basicProperty';\r\n        basicProperty.categoryName = mxResources.get('basicInformation');\r\n        basicProperty.tabId = 'basic';\r\n        basicProperty.tabName = mxResources.get('basicAttributes')\r\n        basicProperty.properties = [\r\n            { propertyID: CallActivitySubProcessPropertyKeys.Name, propertyName: mxResources.get('name'), propertyType: 'string', visible: !this.editorUi.multiLangEnabled },\r\n            { propertyID: CallActivitySubProcessPropertyKeys.NameLanguage, propertyName: mxResources.get('nameLanguage'), propertyType: 'multiLanguage', visible: this.editorUi.multiLangEnabled },\r\n            { propertyID: CallActivitySubProcessPropertyKeys.Id, propertyName: mxResources.get('id'), propertyType: 'string', readonly: true }\r\n        ];\r\n\r\n        // 活动选项（表单定义+活动构件）\r\n        activityProperty.categoryId = 'activityProperty';\r\n        activityProperty.categoryName = mxResources.get('activityProperty');\r\n        activityProperty.tabId = 'basic';\r\n        activityProperty.tabName = mxResources.get('basicAttributes')\r\n        activityProperty.properties = [\r\n            { propertyID: CallActivitySubProcessPropertyKeys.callActivitySubProcess, propertyName: mxResources.get('callActivitySubProcess'), propertyType: 'modal' },\r\n            { propertyID: CallActivitySubProcessPropertyKeys.variableSettings, propertyName: mxResources.get('variableSettings'), propertyType: 'modal' },\r\n            { propertyID: CallActivitySubProcessPropertyKeys.BackWardRule, propertyName: mxResources.get('backWardRule'), propertyType: 'modal' },\r\n            { propertyID: CallActivitySubProcessPropertyKeys.MultiInstanceLoopCharacteristics, propertyName: mxResources.get('multiInstanceLoopCharacteristics'), propertyType: 'modal' }\r\n        ];\r\n\r\n        propertyData[CallActivitySubProcessPropertyKeys.Id] = act.Id;\r\n        propertyData[CallActivitySubProcessPropertyKeys.ClrTypeID] = act.ClrTypeID;\r\n        propertyData[CallActivitySubProcessPropertyKeys.Name] = act.Name;\r\n        propertyData[CallActivitySubProcessPropertyKeys.NameLanguage] = act.NameLanguage || {\r\n            \"zh-CHS\": act.Name,\r\n        };\r\n        propertyData[CallActivitySubProcessPropertyKeys.callActivitySubProcess] = {\r\n            calledBizDefKey: act.calledBizDefKey,\r\n            calledElement: act.CalledElement,\r\n            inheritVariables: act.inheritVariables,\r\n            inheritBizDataId: act.inheritBizDataId,\r\n            bizDataId: act.bizDataId,\r\n            aifProcessCode: act.aifProcessCode,\r\n            useAutoCreationData: act.useAutoCreationData,\r\n        };\r\n        propertyData[CallActivitySubProcessPropertyKeys.BackWardRule] = act.backWardRule;\r\n        propertyData[CallActivitySubProcessPropertyKeys.variableSettings] = PropertyHelper.getVariableSettings(act.Model, act.variableSettings);\r\n        propertyData[CallActivitySubProcessPropertyKeys.MultiInstanceLoopCharacteristics] = act.LoopCharacteristics;\r\n        \r\n        return {\r\n            propertyConfig: [basicProperty, activityProperty],\r\n            propertyData: propertyData\r\n        }\r\n    }\r\n\r\n    updateProps(obj: any) {\r\n        const subProcess = this.flowElement;\r\n        const propertyId: string = obj.propertyID;\r\n        switch (propertyId) {\r\n            case CallActivitySubProcessPropertyKeys.callActivitySubProcess:\r\n                this.updateSubProcessConfig(subProcess, obj);\r\n                break;\r\n            case CallActivitySubProcessPropertyKeys.BackWardRule:\r\n                this.updateBackWardRule(subProcess, obj);\r\n                break;\r\n            case CallActivitySubProcessPropertyKeys.variableSettings:\r\n                this.updateVariableSettings(subProcess, obj);\r\n                break;\r\n            case CallActivitySubProcessPropertyKeys.MultiInstanceLoopCharacteristics:\r\n                this.updateMultiInstanceLoopCharacteristic(subProcess, obj);\r\n                break;\r\n            default:\r\n                super.updateProps(obj);\r\n                break;\r\n        }\r\n    }\r\n\r\n    updateSubProcessConfig(subProcess: CallActivitySubProcess, obj: any) {\r\n        const config: any = obj.propertyValue;\r\n        if (subProcess) {\r\n            subProcess.calledBizDefKey = config.calledBizDefKey;\r\n            subProcess.CalledElement = config.calledElement;\r\n            subProcess.inheritBizDataId = config.inheritBizDataId;\r\n            subProcess.inheritVariables = config.inheritVariables;\r\n            subProcess.bizDataId = config.bizDataId;\r\n            subProcess.aifProcessCode = config.aifProcessCode;\r\n            subProcess.useAutoCreationData = config.useAutoCreationData;\r\n        }\r\n    }\r\n\r\n    updateBackWardRule(subProcess: CallActivitySubProcess, obj: any) {\r\n        const data = obj.propertyValue;\r\n        let backWardRule = new BackWardRule(subProcess.Model);\r\n        backWardRule.TargetRef = data.TargetRef;\r\n        backWardRule.SelectTargetAble = data.SelectTargetAble;\r\n        backWardRule.WaitReturn = data.WaitReturn;\r\n        backWardRule.ResubmitEffect = data.ResubmitEffect;\r\n        backWardRule.DynamicBackWardRuleAble = data.DynamicBackWardRuleAble;\r\n        backWardRule.SelectTargetList = data.SelectTargetList;\r\n\r\n        subProcess.backWardRule = backWardRule;\r\n    }\r\n\r\n    updateVariableSettings(subProcess: CallActivitySubProcess, obj: any) {\r\n        const bpmnModel = this.flowElement.Model;\r\n        const extendElements = bpmnModel.DefaultProcess.GetExtensionElements();\r\n        if (subProcess.variableSettings && subProcess.variableSettings.length > 0) {\r\n            for (const v of subProcess.variableSettings) {\r\n                if (v.tag === 'component') {\r\n                    const i = extendElements.findIndex(e => (e instanceof Component && e.Id === v.value));\r\n                    extendElements.splice(i, 1);\r\n                }\r\n            }\r\n        }\r\n        subProcess.variableSettings = new Array();\r\n\r\n        const variables = obj.propertyValue as any[];\r\n        if (variables && variables.length > 0) {\r\n            for (const v of variables) {\r\n                const variableSetting = new VariableSetting(bpmnModel);\r\n                // variableSetting.variableId = v.variableId;\r\n                variableSetting.variableCode = v.variableCode;\r\n                variableSetting.variableName = v.variableName;\r\n                variableSetting.tag = v.tag;\r\n                variableSetting.executionTime = v.executionTime;\r\n                variableSetting.value = v.value;\r\n                variableSetting.valueText = v.valueText;\r\n\r\n                subProcess.variableSettings.push(variableSetting);\r\n                if (variableSetting.tag === 'component') {\r\n                    const c = v.component;\r\n                    if (c) {\r\n                        let cpt = new Component(bpmnModel);\r\n                        cpt.MetadataId = c.MetadataId;\r\n                        cpt.MethodCode = c.MethodCode;\r\n                        cpt.Id = c.Id;\r\n                        cpt.Name = c.Name;\r\n                        cpt.ActualParameters = new Array();\r\n                        if (c.ActualParameters && c.ActualParameters.length > 0) {\r\n                            for (let a of c.ActualParameters) {\r\n                                let parameter = new ActualParameter(bpmnModel, a.Name, a.Value);\r\n                                parameter.Tag = a.Tag;\r\n                                cpt.ActualParameters.push(parameter);\r\n                            }\r\n                        }\r\n\r\n                        extendElements.push(cpt);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    updateMultiInstanceLoopCharacteristic(subProcess: CallActivitySubProcess, obj: any) {\r\n        const data = obj.propertyValue;\r\n        let loopCharacteristics = new MultiInstanceLoopCharacteristics(subProcess.Model);\r\n        loopCharacteristics.enable = data.enable;\r\n        loopCharacteristics.sequential = data.sequential;\r\n        loopCharacteristics.loopCardinality = data.loopCardinality;\r\n        loopCharacteristics.completionCondition = data.completionCondition;\r\n        loopCharacteristics.completionConditionRules = data.completionConditionRules;\r\n\r\n        subProcess.LoopCharacteristics = loopCharacteristics;\r\n        if(obj.propertyValue) {\r\n            const data = obj.propertyValue;\r\n            let loopCharacteristics = new MultiInstanceLoopCharacteristics(subProcess.Model);\r\n            loopCharacteristics.enable = data.enable;\r\n            loopCharacteristics.sequential = data.sequential;\r\n            loopCharacteristics.loopCardinality = new Expression(subProcess.Model);\r\n            if(data.loopCardinality) {\r\n                let variableExpression = new SemanticExpression(subProcess.Model);\r\n                variableExpression.Value = data.loopCardinality;\r\n                loopCharacteristics.loopCardinality.MexExpression = variableExpression;\r\n            }\r\n            loopCharacteristics.completionCondition = data.completionCondition;\r\n            let rules = data.completionConditionRules as any[];\r\n            loopCharacteristics.completionConditionRules = null;\r\n            if(rules && rules.length > 0) {\r\n                loopCharacteristics.completionConditionRules = new Array<CounterSignRule>();\r\n                for(let rule of rules) {\r\n                    let counterSignRule = new CounterSignRule(subProcess.Model);\r\n                    let condition = new Condition(subProcess.Model);\r\n                    condition.Value = rule.CompletionCondition.Value;\r\n                    counterSignRule.ConclusionValue = rule.ConclusionValue;\r\n                    counterSignRule.CalculateType = rule.CalculateType;\r\n                    counterSignRule.ConditionValue = rule.ConditionValue;\r\n                    counterSignRule.WaitAllVotes = rule.WaitAllVotes;\r\n                    counterSignRule.CompletionCondition = condition;\r\n                    loopCharacteristics.completionConditionRules.push(counterSignRule);\r\n                }\r\n            }\r\n            subProcess.LoopCharacteristics = loopCharacteristics;\r\n        }\r\n    }\r\n}\r\n","import { NodeCell, ElementPropertyConfig, FarrisPropConfigWithData } from \"@edp-pmf/grapheditor\";\r\nimport { Signal, EventDefinition, BPMNShape } from \"@edp-pmf/bpmn-model\";\r\nimport { MxGraphNS, mxResources } from \"@edp-pmf/mxgraph-ts\";\r\nimport { IntermediateCatchEventImpl, Component, BackWardRule, ActualParameter, VariableSetting, SignalEventDefinitionImpl } from \"@gsp-wf/wf-process-model\";\r\nimport { PropertyHelper } from \"./PropertyHelper\";\r\nimport { BpmnModelHelper, FlowNodeState } from \"@edp-pmf/bpmn-model\";\r\nimport { WfConstants } from \"../WfConstants\";\r\nimport { IntermediateCatchEventImplPropertyKeys } from \"./property-keys/IntermediateCatchEventImplPropertyKeys\";\r\n\r\n/**\r\n * 信号捕获活动节点\r\n */\r\nexport class IntermediateCatchEventImplCell extends NodeCell {\r\n    clrTypeId: string = IntermediateCatchEventImplCell.CLR_TYPE_ID;\r\n    name: string = \"信号捕获\";\r\n    nameLanguage: { [lang: string]: string; } = {\r\n      \"zh-CHS\": \"信号捕获\",\r\n      \"zh-CHT\": \"訊號捕獲\",\r\n      \"en\": \"Acquisition\",\r\n  };\r\n    static CLR_TYPE_ID: string = IntermediateCatchEventImpl.Clr_Type_ID;\r\n    flowElement: IntermediateCatchEventImpl;\r\n\r\n    imgUrls = {\r\n        [FlowNodeState.Default]: WfConstants.IMAGE_PATH + \"/catchEvent.png\",\r\n        [FlowNodeState.Selected]: WfConstants.IMAGE_PATH + \"/catchEvent_select.svg\",\r\n    };\r\n\r\n    constructor(value?: any, geometry?: MxGraphNS.mxGeometry, style?: string) {\r\n        super(value, geometry, style);\r\n    }\r\n\r\n    createFlowElement(flowElt?: IntermediateCatchEventImpl) {\r\n        const flowNode = super.createFlowElement(flowElt) as IntermediateCatchEventImpl;\r\n        flowNode.Id = \"IntermediateCatchEvent\" + BpmnModelHelper.GenerateElementId();\r\n        // 创建而非复制时执行\r\n        if (flowElt == null) {\r\n            flowNode.initEventDefinitions();\r\n        }\r\n\r\n        return flowNode;\r\n    }\r\n\r\n    bindBpmnModel(flowElt?: IntermediateCatchEventImpl, diagElt?: BPMNShape): void {\r\n        super.bindBpmnModel(flowElt, diagElt);\r\n\r\n        const bpmnModel = this.editorUi.graph.bpmnModel;\r\n        this.addSignals(this.flowElement);\r\n    }\r\n\r\n    addSignals(catchEvent: IntermediateCatchEventImpl) {\r\n        const bpmnModel = catchEvent.Model;\r\n        if (catchEvent.EventDefinitions && catchEvent.EventDefinitions.length > 0) {\r\n            if (!bpmnModel.signals) {\r\n                bpmnModel.signals = [];\r\n            }\r\n            for (const e of catchEvent.EventDefinitions) {\r\n                const event = e as SignalEventDefinitionImpl;\r\n                if (bpmnModel.signals.findIndex(s => s.Name === event.SignalRef) === -1) {\r\n                    const signal = new Signal(bpmnModel);\r\n                    signal.Name = event.SignalRef;\r\n                    bpmnModel.signals.push(signal);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    getFarrisPropConfig(): FarrisPropConfigWithData {\r\n        let act = this.flowElement;\r\n\r\n        let basicProperty: ElementPropertyConfig = new ElementPropertyConfig();\r\n        let activityProperty: ElementPropertyConfig = new ElementPropertyConfig();\r\n        let propertyData: any = {};\r\n\r\n        basicProperty.categoryId = 'basicProperty';\r\n        basicProperty.categoryName = mxResources.get('basicInformation');\r\n        basicProperty.tabId = 'basic';\r\n        basicProperty.tabName = mxResources.get('basicAttributes');\r\n        basicProperty.properties = [\r\n            { propertyID: IntermediateCatchEventImplPropertyKeys.Name, propertyName: mxResources.get('name'), propertyType: 'string', visible: !this.editorUi.multiLangEnabled },\r\n            { propertyID: IntermediateCatchEventImplPropertyKeys.NameLanguage, propertyName: mxResources.get('nameLanguage'), propertyType: 'multiLanguage', visible: this.editorUi.multiLangEnabled },\r\n            { propertyID: IntermediateCatchEventImplPropertyKeys.Id, propertyName: mxResources.get('id'), propertyType: 'string', readonly: true }\r\n        ];\r\n\r\n\r\n        activityProperty.categoryId = 'activityProperty';\r\n        activityProperty.categoryName = mxResources.get('activityProperty');\r\n        activityProperty.tabId = 'basic';\r\n        activityProperty.tabName = mxResources.get('basicAttributes');\r\n        activityProperty.properties = [\r\n            { propertyID: IntermediateCatchEventImplPropertyKeys.EventDefinitions, propertyName: mxResources.get('eventDefinitions'), propertyType: 'modal' },\r\n            { propertyID: IntermediateCatchEventImplPropertyKeys.variableSettings, propertyName: mxResources.get('variableSettings'), propertyType: 'modal' }\r\n        ];\r\n        if (act.EventDefinitions && this.isBackEventExist(act.EventDefinitions)) {\r\n            activityProperty.properties.push(\r\n                { propertyID: IntermediateCatchEventImplPropertyKeys.BackWardRule, propertyName: mxResources.get('backWardRule'), propertyType: 'modal' }\r\n            );\r\n            propertyData[IntermediateCatchEventImplPropertyKeys.BackWardRule] = act.backWardRule;\r\n        }\r\n\r\n        propertyData[IntermediateCatchEventImplPropertyKeys.Id] = act.Id;\r\n        propertyData[IntermediateCatchEventImplPropertyKeys.ClrTypeID] = act.ClrTypeID;\r\n        propertyData[IntermediateCatchEventImplPropertyKeys.Name] = act.Name;\r\n        propertyData[IntermediateCatchEventImplPropertyKeys.NameLanguage] = act.NameLanguage || {\r\n            \"zh-CHS\": act.Name,\r\n        };\r\n        propertyData[IntermediateCatchEventImplPropertyKeys.EventDefinitions] = act.EventDefinitions;\r\n        propertyData[IntermediateCatchEventImplPropertyKeys.variableSettings] = PropertyHelper.getVariableSettings(act.Model, act.variableSettings);\r\n\r\n        return {\r\n            propertyConfig: [basicProperty, activityProperty],\r\n            propertyData: propertyData\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 判断是否存在反向事件\r\n     * @param\r\n     */\r\n    isBackEventExist(events: EventDefinition[]) {\r\n        for (let e of events) {\r\n            const event = e as SignalEventDefinitionImpl;\r\n            if (event.triggerAction === 'Back') {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n    updateProps(obj: any) {\r\n        const catchEvent = this.flowElement;\r\n        const propertyId: string = obj.propertyID;\r\n        switch (propertyId) {\r\n            case IntermediateCatchEventImplPropertyKeys.EventDefinitions:\r\n                this.updateEventDefinitions(catchEvent, obj);\r\n                break;\r\n            case IntermediateCatchEventImplPropertyKeys.BackWardRule:\r\n                this.updateBackWardRule(catchEvent, obj);\r\n                break;\r\n            case IntermediateCatchEventImplPropertyKeys.variableSettings:\r\n                this.updateVariableSettings(catchEvent, obj);\r\n                break;\r\n            default:\r\n                super.updateProps(obj);\r\n                break;\r\n        }\r\n    }\r\n\r\n    updateEventDefinitions(catchEvent: IntermediateCatchEventImpl, obj: any) {\r\n        if (catchEvent) {\r\n            this.removeSignals(catchEvent);\r\n            let events = obj.propertyValue as any[];\r\n            catchEvent.EventDefinitions = new Array<EventDefinition>();\r\n            for (let e of events) {\r\n                let item = new SignalEventDefinitionImpl(catchEvent.Model);\r\n                item.name = e.name;\r\n                item.triggerAction = e.triggerAction\r\n                item.Async = false;\r\n                item.SignalRef = e.SignalRef;\r\n\r\n                catchEvent.EventDefinitions.push(item);\r\n            }\r\n            this.addSignals(catchEvent);\r\n        }\r\n        // 判断审批项是否包含驳回？不包含时，驳回规则清空\r\n        if (!this.isBackEventExist(catchEvent.EventDefinitions)) {\r\n            catchEvent.backWardRule = null;\r\n        } else if (!catchEvent.backWardRule) {\r\n            catchEvent.backWardRule = new BackWardRule(catchEvent.Model);\r\n        }\r\n        // 更新属性框\r\n        // Utils.postMessage(ResourceKeys.wf_showProperty, this.getPropConfig());\r\n    }\r\n\r\n    updateBackWardRule(catchEvent: IntermediateCatchEventImpl, obj: any) {\r\n        const data = obj.propertyValue;\r\n        let backWardRule = new BackWardRule(catchEvent.Model);\r\n        backWardRule.TargetRef = data.TargetRef;\r\n        backWardRule.SelectTargetAble = data.SelectTargetAble;\r\n        backWardRule.WaitReturn = data.WaitReturn;\r\n        backWardRule.ResubmitEffect = data.ResubmitEffect;\r\n        backWardRule.DynamicBackWardRuleAble = data.DynamicBackWardRuleAble;\r\n        backWardRule.SelectTargetList = data.SelectTargetList;\r\n\r\n        catchEvent.backWardRule = backWardRule;\r\n    }\r\n\r\n    updateVariableSettings(catchEvent: IntermediateCatchEventImpl, obj: any) {\r\n        const bpmnModel = catchEvent.Model;\r\n        const extendElements = bpmnModel.DefaultProcess.GetExtensionElements();\r\n        if (catchEvent.variableSettings && catchEvent.variableSettings.length > 0) {\r\n            for (const v of catchEvent.variableSettings) {\r\n                if (v.tag === 'component') {\r\n                    const i = extendElements.findIndex(e => (e instanceof Component && e.Id === v.value));\r\n                    extendElements.splice(i, 1);\r\n                }\r\n            }\r\n        }\r\n        catchEvent.variableSettings = new Array();\r\n\r\n        const variables = obj.propertyValue as any[];\r\n        if (variables && variables.length > 0) {\r\n            for (const v of variables) {\r\n                const variableSetting = new VariableSetting(bpmnModel);\r\n                // variableSetting.variableId = v.variableId;\r\n                variableSetting.variableCode = v.variableCode;\r\n                variableSetting.variableName = v.variableName;\r\n                variableSetting.tag = v.tag;\r\n                variableSetting.executionTime = v.executionTime;\r\n                variableSetting.value = v.value;\r\n                variableSetting.valueText = v.valueText;\r\n\r\n                catchEvent.variableSettings.push(variableSetting);\r\n                if (variableSetting.tag === 'component') {\r\n                    const c = v.component;\r\n                    if (c) {\r\n                        let cpt = new Component(bpmnModel);\r\n                        cpt.MetadataId = c.MetadataId;\r\n                        cpt.MethodCode = c.MethodCode;\r\n                        cpt.Id = c.Id;\r\n                        cpt.Name = c.Name;\r\n                        cpt.ActualParameters = new Array();\r\n                        if (c.ActualParameters && c.ActualParameters.length > 0) {\r\n                            for (let a of c.ActualParameters) {\r\n                                let parameter = new ActualParameter(bpmnModel, a.Name, a.Value);\r\n                                parameter.Tag = a.Tag;\r\n                                cpt.ActualParameters.push(parameter);\r\n                            }\r\n                        }\r\n\r\n                        extendElements.push(cpt);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    removeSignals(catchEvent: IntermediateCatchEventImpl) {\r\n        const bpmnModel = catchEvent.Model;\r\n        if (catchEvent.EventDefinitions && catchEvent.EventDefinitions.length > 0) {\r\n            const flowElements = bpmnModel.DefaultProcess.GetFlowElements();\r\n            const eventDefs = new Map<string, SignalEventDefinitionImpl>();\r\n            for (const key in flowElements) {\r\n                if (flowElements[key] instanceof IntermediateCatchEventImpl && flowElements[key].Id !== catchEvent.Id) {\r\n                    const catchEvent = flowElements[key] as IntermediateCatchEventImpl;\r\n                    for (const e of catchEvent.EventDefinitions) {\r\n                        const event = e as SignalEventDefinitionImpl;\r\n                        if (!eventDefs.get(event.SignalRef)) {\r\n                            eventDefs.set(event.SignalRef, event);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            for (const e of catchEvent.EventDefinitions) {\r\n                const eventDef = e as SignalEventDefinitionImpl;\r\n                if (!eventDefs.get(eventDef.SignalRef)) {\r\n                    const i = bpmnModel.signals.findIndex(s => s.Name === eventDef.SignalRef);\r\n                    if (i > -1) {\r\n                        bpmnModel.signals.splice(i, 1);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n","import { NodeCell, ElementPropertyConfig, FarrisPropConfigWithData } from \"@edp-pmf/grapheditor\";\r\nimport { MxGraphNS, mxResources } from \"@edp-pmf/mxgraph-ts\";\r\nimport { BpmnModelHelper, FlowNodeState } from \"@edp-pmf/bpmn-model\";\r\nimport { MessageActivity, MessageNotice, Component, ParticipantExpression, ActivityExecutorParticipantExpression, UserParticipantExpression, PositionParticipantExpression, VariableSetting, ActualParameter, SmsMessageTemplate, SmsMessageVariable, } from \"@gsp-wf/wf-process-model\";\r\nimport { PropertyHelper } from \"./PropertyHelper\";\r\nimport { WfConstants } from \"../WfConstants\";\r\nimport { MessageActivityPropertyKeys } from \"./property-keys/MessageActivityPropertyKeys\";\r\n\r\n/**\r\n * 消息活动节点\r\n */\r\nexport class MessageActivityCell extends NodeCell {\r\n    clrTypeId: string = MessageActivityCell.CLR_TYPE_ID;\r\n    name: string = \"消息\";\r\n    nameLanguage: { [lang: string]: string; } = {\r\n      \"zh-CHS\": \"消息\",\r\n      \"zh-CHT\": \"消息\",\r\n      \"en\": \"Message\",\r\n  };\r\n    static CLR_TYPE_ID: string = MessageActivity.Clr_Type_ID;\r\n    flowElement: MessageActivity;\r\n\r\n    imgUrls = {\r\n        [FlowNodeState.Default]: WfConstants.IMAGE_PATH + \"/message.png\",\r\n        [FlowNodeState.Selected]: WfConstants.IMAGE_PATH + \"/message_select.svg\",\r\n    };\r\n\r\n    constructor(value?: any, geometry?: MxGraphNS.mxGeometry, style?: string) {\r\n        super(value, geometry, style);\r\n    }\r\n\r\n    createFlowElement(flowElt?: MessageActivity) {\r\n        const flowNode = super.createFlowElement(flowElt) as MessageActivity;\r\n        flowNode.Id = \"MessageActivity\" + BpmnModelHelper.GenerateElementId();\r\n\r\n        return flowNode;\r\n    }\r\n\r\n    getFarrisPropConfig(): FarrisPropConfigWithData {\r\n        let act = this.flowElement;\r\n\r\n        let basicProperty: ElementPropertyConfig = new ElementPropertyConfig();\r\n        let activityProperty: ElementPropertyConfig = new ElementPropertyConfig();\r\n        let propertyData: any = {};\r\n\r\n        basicProperty.categoryId = 'basicProperty';\r\n        basicProperty.categoryName = mxResources.get('basicInformation');\r\n        basicProperty.tabId = 'basic';\r\n        basicProperty.tabName = mxResources.get('basicAttributes')\r\n        basicProperty.properties = [\r\n            { propertyID: MessageActivityPropertyKeys.Name, propertyName: mxResources.get('name'), propertyType: 'string', visible: !this.editorUi.multiLangEnabled },\r\n            { propertyID: MessageActivityPropertyKeys.NameLanguage, propertyName: mxResources.get('nameLanguage'), propertyType: 'multiLanguage', visible: this.editorUi.multiLangEnabled },\r\n            { propertyID: MessageActivityPropertyKeys.Id, propertyName: mxResources.get('id'), propertyType: 'string', readonly: true }\r\n        ];\r\n\r\n\r\n        activityProperty.categoryId = 'activityProperty';\r\n        activityProperty.categoryName = mxResources.get('activityProperty');\r\n        activityProperty.tabId = 'basic';\r\n        activityProperty.tabName = mxResources.get('basicAttributes')\r\n        activityProperty.properties = [\r\n            { propertyID: MessageActivityPropertyKeys.messageNotice, propertyName: mxResources.get('messageNotice'), propertyType: 'modal' },\r\n            { propertyID: MessageActivityPropertyKeys.variableSettings, propertyName: mxResources.get('variableSettings'), propertyType: 'modal' }\r\n        ];\r\n\r\n        propertyData[MessageActivityPropertyKeys.Id] = act.Id;\r\n        propertyData[MessageActivityPropertyKeys.ClrTypeID] = act.ClrTypeID;\r\n        propertyData[MessageActivityPropertyKeys.Name] = act.Name;\r\n        propertyData[MessageActivityPropertyKeys.NameLanguage] = act.NameLanguage || {\r\n            \"zh-CHS\": act.Name,\r\n        };\r\n        propertyData[MessageActivityPropertyKeys.messageNotice] = PropertyHelper.getMessageNotices(act.messageNotices);\r\n        propertyData[MessageActivityPropertyKeys.variableSettings] = PropertyHelper.getVariableSettings(act.Model, act.variableSettings);\r\n\r\n        return {\r\n            propertyConfig: [basicProperty, activityProperty],\r\n            propertyData: propertyData\r\n        }\r\n    }\r\n\r\n    updateProps(obj: any) {\r\n        const messageActivity = this.flowElement;\r\n        const propertyId: string = obj.propertyID;\r\n        switch (propertyId) {\r\n            case MessageActivityPropertyKeys.messageNotice:\r\n                this.updateMessageNotices(messageActivity, obj);\r\n                break;\r\n            case MessageActivityPropertyKeys.variableSettings:\r\n                this.updateVariableSettings(messageActivity, obj);\r\n                break;\r\n            default:\r\n                super.updateProps(obj);\r\n                break;\r\n        }\r\n    }\r\n\r\n    updateMessageNotices(messageActivity: MessageActivity, obj: any) {\r\n        const bpmnModel = messageActivity.Model;\r\n        let notices = obj.propertyValue as any[];\r\n        messageActivity.messageNotices = new Array();\r\n        if (notices && notices.length > 0) {\r\n            for (let n of notices) {\r\n                const messageNotice = new MessageNotice(bpmnModel);\r\n                messageNotice.sendType = n.sendType;\r\n                messageNotice.sendTime = n.sendTime;\r\n                messageNotice.subject = n.subject;\r\n                messageNotice.content = n.content;\r\n                if (n.smsMessageTemplate) {\r\n                    const smsMessageTemplate = new SmsMessageTemplate(bpmnModel);\r\n                    smsMessageTemplate.code = n.smsMessageTemplate.code;\r\n                    smsMessageTemplate.content = n.smsMessageTemplate.content;\r\n                    smsMessageTemplate.smsMessageVariables = new Array();\r\n                    if (n.smsMessageTemplate.smsMessageVariables && n.smsMessageTemplate.smsMessageVariables.length > 0) {\r\n                        for (const v of n.smsMessageTemplate.smsMessageVariables) {\r\n                            const variable = new SmsMessageVariable(bpmnModel);\r\n                            variable.code = v.code;\r\n                            variable.value = v.value;\r\n                            variable.tag = v.tag;\r\n                            smsMessageTemplate.smsMessageVariables.push(variable);\r\n                        }\r\n                    }\r\n                    messageNotice.smsMessageTemplate = smsMessageTemplate;\r\n                }\r\n                // messageNotice.receiver = n.receiver;\r\n                // messageNotice.receiverText = n.receiverText;\r\n                if (n.receivers && n.receivers.length > 0) {\r\n                    const receivers = n.receivers.filter((r: any) => r.type === 'userParticipant'\r\n                        || (r.type === 'processParticipant' && r.processParticipant !== 'activityExecutorParticipant'));\r\n                    const participants = n.receivers.filter((r: any) => r.type === 'variableParticipant' || r.type === 'positionParticipant'\r\n                        || (r.type === 'processParticipant' && r.processParticipant === 'activityExecutorParticipant'));\r\n                    if (receivers && receivers.length > 0) {\r\n                        let receiver = '';\r\n                        let receiverName = '';\r\n                        for (const r of receivers) {\r\n                            if (r.type === 'processParticipant') {\r\n                                receiver += (r.processParticipant + ',');\r\n                                if (r.processParticipant === 'procInstCreator') {\r\n                                    receiverName += '流程发起人,'\r\n                                } else if (r.processParticipant === 'workItemParticipant') {\r\n                                    receiverName += '任务接收人,'\r\n                                }\r\n                            } else if (r.type === 'userParticipant') {\r\n                                receiver += (r.userIds + ',');\r\n                                receiverName += (r.userNames + ',');\r\n                            }\r\n                        }\r\n                        if (receiver) {\r\n                            receiver = receiver.substring(0, receiver.length - 1);\r\n                        }\r\n                        if (receiverName) {\r\n                            receiverName = receiverName.substring(0, receiverName.length - 1);\r\n                        }\r\n                        messageNotice.receiver = receiver;\r\n                        messageNotice.receiverText = receiverName;\r\n                    }\r\n                    if (participants && participants.length > 0) {\r\n                        const receiverExpressions = new Array<ParticipantExpression>();\r\n                        for (const p of participants) {\r\n                            if (p.type === 'processParticipant') {\r\n                                let activityExecutor = new ActivityExecutorParticipantExpression(messageActivity.Model);\r\n                                activityExecutor.id = BpmnModelHelper.GenerateElementId();\r\n                                activityExecutor.activityDefId = p.activityDefId;\r\n                                activityExecutor.activityDefName = p.activityDefName;\r\n                                receiverExpressions.push(activityExecutor);\r\n                            }\r\n                            if (p.type === 'variableParticipant') {\r\n                                let variableParticipant = new UserParticipantExpression(messageActivity.Model, p.variableParticipant, p.variableName, p.orgType);\r\n                                variableParticipant.id = BpmnModelHelper.GenerateElementId();\r\n                                variableParticipant.Tag = 'expression';\r\n                                variableParticipant.OrgType = p.orgType;\r\n                                receiverExpressions.push(variableParticipant);\r\n                            }\r\n                            if (p.type === 'positionParticipant') {\r\n                                let posiParticipant = new PositionParticipantExpression(messageActivity.Model, p.positionId, p.positionName);\r\n                                posiParticipant.id = BpmnModelHelper.GenerateElementId();\r\n                                posiParticipant.PositionType = p.positionType;\r\n                                if (p.positionType === '1') {\r\n                                    posiParticipant.OrgId = p.orgId;\r\n                                    posiParticipant.OrgType = p.orgType;\r\n                                }\r\n                                receiverExpressions.push(posiParticipant);\r\n                            }\r\n                        }\r\n                        messageNotice.receiverExpressions = receiverExpressions;\r\n                    }\r\n                }\r\n\r\n                messageActivity.messageNotices.push(messageNotice);\r\n            }\r\n        }\r\n    }\r\n\r\n    updateVariableSettings(messageActivity: MessageActivity, obj: any) {\r\n        const bpmnModel = messageActivity.Model;\r\n        const extendElements = bpmnModel.DefaultProcess.GetExtensionElements();\r\n        if (messageActivity.variableSettings && messageActivity.variableSettings.length > 0) {\r\n            for (const v of messageActivity.variableSettings) {\r\n                if (v.tag === 'component') {\r\n                    const i = extendElements.findIndex(e => (e instanceof Component && e.Id === v.value));\r\n                    extendElements.splice(i, 1);\r\n                }\r\n            }\r\n        }\r\n        messageActivity.variableSettings = new Array();\r\n\r\n        const variables = obj.propertyValue as any[];\r\n        if (variables && variables.length > 0) {\r\n            for (const v of variables) {\r\n                const variableSetting = new VariableSetting(bpmnModel);\r\n                // variableSetting.variableId = v.variableId;\r\n                variableSetting.variableCode = v.variableCode;\r\n                variableSetting.variableName = v.variableName;\r\n                variableSetting.tag = v.tag;\r\n                variableSetting.executionTime = v.executionTime;\r\n                variableSetting.value = v.value;\r\n                variableSetting.valueText = v.valueText;\r\n\r\n                messageActivity.variableSettings.push(variableSetting);\r\n                if (variableSetting.tag === 'component') {\r\n                    const c = v.component;\r\n                    if (c) {\r\n                        let cpt = new Component(bpmnModel);\r\n                        cpt.MetadataId = c.MetadataId;\r\n                        cpt.MethodCode = c.MethodCode;\r\n                        cpt.Id = c.Id;\r\n                        cpt.Name = c.Name;\r\n                        cpt.ActualParameters = new Array();\r\n                        if (c.ActualParameters && c.ActualParameters.length > 0) {\r\n                            for (let a of c.ActualParameters) {\r\n                                let parameter = new ActualParameter(bpmnModel, a.Name, a.Value);\r\n                                parameter.Tag = a.Tag;\r\n                                cpt.ActualParameters.push(parameter);\r\n                            }\r\n                        }\r\n\r\n                        extendElements.push(cpt);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n","export class ActualParameter {\r\n    code: string;\r\n    value: string;\r\n    valueText: string;\r\n    tag: string;\r\n    fetchValueMode?: any;\r\n    fetchValueSetting?: any;\r\n}","export class AssignConfig {\r\n    operator: string;\r\n    multiSelect: boolean;\r\n    necessary: boolean;\r\n    allowGlobalAssign?: boolean;\r\n    assignScope?: any;\r\n}","import { AssignmentStrategy } from \"@gsp-wf/wf-process-model\";\r\nimport { AssignConfig } from \"./AssignConfig\";\r\n\r\nexport class AssignStrategy {\r\n    assignStrategy: AssignmentStrategy;\r\n    assignConfig: AssignConfig;\r\n}","export enum OrganizationLevel {\r\n    /**\r\n     * 部门\r\n     */\r\n    DEPARTMENT = 'DEPARTMENT',\r\n    /**\r\n     * 单位\r\n     */\r\n    UNIT = 'UNIT',\r\n    /**\r\n     * 表单上的变量单位\r\n     */\r\n    EXPRESSION = 'EXPRESSION',\r\n    /**\r\n     * 默认\r\n     */\r\n    DEFAULT = 'DEFAULT'\r\n}","import { AssignStrategy } from \"./AssignStrategy\";\r\nimport { Participant } from \"./Participant\";\r\n\r\nexport class ParticipantInfo {\r\n    constructor() {\r\n        this.assignStrategy = new AssignStrategy();\r\n        this.humanPerformerList = new Array();\r\n        this.potentialOwnerList = new Array();\r\n        this.isAllScope = false;\r\n    }\r\n    assignStrategy: AssignStrategy;\r\n    humanPerformerList: Array<Participant>;\r\n    potentialOwnerList: Array<Participant>;\r\n    isAllScope: boolean;\r\n}","export class ProcExtendProperty {\r\n    /**\r\n     * 设计器扩展属性Id\r\n     */\r\n    id: string;\r\n    /**\r\n     * 扩展属性code\r\n     */\r\n    code: string;\r\n    /**\r\n     * 父级id\r\n     */\r\n    parentId?: string;\r\n    /**\r\n     * 在当前层级的排序\r\n     */\r\n    sortOrder: number;\r\n    /**\r\n     * 扩展属性备注\r\n     */\r\n    propertyNote?: string;\r\n    /**\r\n     * 扩展属性标题\r\n     */\r\n    propertyTitle: string;\r\n    /**\r\n     * 扩展属性位置\r\n     */\r\n    propertyLocation: string;\r\n    /**\r\n     * 扩展属性类型\r\n     */\r\n    propertyType: string;\r\n    /**\r\n     * 枚举型扩展属性的枚举值\r\n     */\r\n    enumValue?: string;\r\n    /**\r\n     * 流程分类id\r\n     */\r\n    bizDefKey?: string;\r\n    /**\r\n     * 业务种类id\r\n     */\r\n    bizCategoryId?: string;\r\n    /**\r\n     * 流程启动方式\r\n     */\r\n    startMode: string;\r\n    /**\r\n     * 扩展属性value\r\n     */\r\n    value?: string;\r\n}","import { NodeCell, ElementPropertyConfig, FarrisPropConfigWithData } from \"@edp-pmf/grapheditor\";\r\nimport { MxGraphNS, mxResources } from \"@edp-pmf/mxgraph-ts\";\r\nimport { BpmnModelHelper, FlowNodeState } from \"@edp-pmf/bpmn-model\";\r\nimport { NotifyActivity, ExtendProperty, MessageNotice, ActionScope, Condition, ExecuteForm, PotentialOwnerImpl, HumanPerformerImpl, OrganizationParticipantExpression, VariableParticipantExpression, ComponentParticipantExpression, ReportingLineParticipantExpression, MatrixParticipantExpression, ParticipantExpression, ActivityExecutorParticipantExpression, UserParticipantExpression, PositionParticipantExpression, ActualParameter, ActionOrganizationScope, SmsMessageTemplate, SmsMessageVariable, OrganizationLevel, } from \"@gsp-wf/wf-process-model\";\r\nimport { PropertyHelper } from \"./PropertyHelper\";\r\nimport { WfEditorUi } from \"../WfEditorUi\";\r\nimport { UserParticipant } from \"../entity/UserParticipant\";\r\nimport { PositionParticipant } from \"../entity/PositionParticipant\";\r\nimport { VariablePerformer } from \"../entity/VariablePerformer\";\r\nimport { ComponentParticipant } from \"../entity/ComponentParticipant\";\r\nimport { ReportingLineParticipant } from \"../entity/ReportingLineParticipant\";\r\nimport { ActivityExecutorParticipant } from \"../entity/ActivityExecutorParticipant\";\r\nimport { MatrixParticipant } from \"../entity/MatrixParticipant\";\r\nimport { WfConstants } from \"../WfConstants\";\r\nimport { NotifyActivityPropertyKeys } from \"./property-keys/NotifyActivityPropertyKeys\";\r\nimport { ActionOrganizationScopeDesign } from \"../../views/organization-potential-owner/actionOrganizationScope\";\r\n// import { ParticipantInfo } from \"../../views/participant/participant.info\";\r\nimport { OrganizationParticipant, ParticipantInfo } from \"../entity\";\r\n\r\n/**\r\n * 知会活动节点\r\n */\r\nexport class NotifyActivityCell extends NodeCell {\r\n    clrTypeId: string = NotifyActivityCell.CLR_TYPE_ID;\r\n    name: string = \"知会\";\r\n    nameLanguage: { [lang: string]: string; } = {\r\n      \"zh-CHS\": \"知会\",\r\n      \"zh-CHT\": \"知會\",\r\n      \"en\": \"Notify\",\r\n  };\r\n    static CLR_TYPE_ID: string = NotifyActivity.Clr_Type_ID;\r\n    flowElement: NotifyActivity;\r\n    editorUi: WfEditorUi;\r\n\r\n    imgUrls = {\r\n        [FlowNodeState.Default]: WfConstants.IMAGE_PATH + \"/notify.png\",\r\n        [FlowNodeState.Selected]: WfConstants.IMAGE_PATH + \"/notify_backup.png\",\r\n    };\r\n\r\n    constructor(value?: any, geometry?: MxGraphNS.mxGeometry, style?: string) {\r\n        super(value, geometry, style);\r\n    }\r\n\r\n    createFlowElement(flowElt?: NotifyActivity) {\r\n        const flowNode = super.createFlowElement(flowElt) as NotifyActivity;\r\n        flowNode.Id = \"NotifyActivity\" + BpmnModelHelper.GenerateElementId();\r\n\r\n        // 创建而非复制时执行\r\n        if (flowElt == null) {\r\n            flowNode.notifyAble = this.editorUi.generalConfig.enableNotify;\r\n        }\r\n        return flowNode;\r\n    }\r\n\r\n    getFarrisPropConfig(): FarrisPropConfigWithData {\r\n        const editorUi = this.editorUi;\r\n        // const graph = editorUi.graph;\r\n        let act = this.flowElement;\r\n        // 过滤配置位置为节点的扩展属性，分离一级和二级属性：知会节点\r\n        // 一级节点List\r\n        let generalExtendList: any = [];\r\n        // 二级节点List\r\n        let detailExtendList = [];\r\n        if (editorUi.procExtProps && editorUi.procExtProps.length > 0) {\r\n            JSON.parse(JSON.stringify(editorUi.procExtProps)).forEach((p: any) => {\r\n                if (p.propertyLocation && p.propertyLocation.indexOf('activity') != -1 && !p.parentId) {\r\n                    generalExtendList.push(p);\r\n                } else if (p.propertyLocation && p.propertyLocation.indexOf('activity') != -1 && p.parentId) {\r\n                    detailExtendList.push(p);\r\n                }\r\n            })\r\n        }\r\n        generalExtendList = generalExtendList.sort((a, b) => {\r\n            return a.sortOrder - b.sortOrder;\r\n        });\r\n\r\n        let extendList = [];\r\n        if (editorUi.procExtProps && editorUi.procExtProps.length > 0) {\r\n            extendList = JSON.parse(JSON.stringify(editorUi.procExtProps)).sort((a, b) => {\r\n                return a.sortOrder - b.sortOrder;\r\n            });\r\n        }\r\n        extendList = extendList.sort((a, b) => {\r\n            return a.sortOrder - b.sortOrder;\r\n        })\r\n\r\n        let basicProperty: ElementPropertyConfig = new ElementPropertyConfig();\r\n        let activityProperty: ElementPropertyConfig = new ElementPropertyConfig();\r\n        let propertyData: any = {};\r\n\r\n        basicProperty.categoryId = 'basicProperty';\r\n        basicProperty.categoryName = mxResources.get('basicInformation');\r\n        basicProperty.tabId = 'basic';\r\n        basicProperty.tabName = mxResources.get('basicAttributes')\r\n        basicProperty.properties = [\r\n            { propertyID: NotifyActivityPropertyKeys.Name, propertyName: mxResources.get('name'), propertyType: 'string', visible: !this.editorUi.multiLangEnabled },\r\n            { propertyID: NotifyActivityPropertyKeys.NameLanguage, propertyName: mxResources.get('nameLanguage'), propertyType: 'multiLanguage', visible: this.editorUi.multiLangEnabled },\r\n            { propertyID: NotifyActivityPropertyKeys.Id, propertyName: mxResources.get('id'), propertyType: 'string', readonly: true }\r\n        ];\r\n\r\n        let performerProperty: ElementPropertyConfig = new ElementPropertyConfig();\r\n        performerProperty.categoryId = 'performerProperty';\r\n        performerProperty.categoryName = mxResources.get('performerProperty');\r\n        performerProperty.tabId = 'basic';\r\n        performerProperty.tabName = mxResources.get('basicAttributes');\r\n        performerProperty.properties = [\r\n            { propertyID: NotifyActivityPropertyKeys.ParticipantSchemes, propertyName: mxResources.get('notifyRecipient'), propertyType: 'modal' }\r\n        ];\r\n\r\n        let formDef = new ElementPropertyConfig();\r\n        formDef.categoryId = 'formDef';\r\n        formDef.categoryName = mxResources.get('formDef');\r\n        formDef.tabId = 'basic';\r\n        formDef.tabName = mxResources.get('basicAttributes')\r\n        formDef.properties = [\r\n            { propertyID: NotifyActivityPropertyKeys.wf_ExecuteForms_PC, propertyName: mxResources.get('pcForm'), propertyType: 'modal' },\r\n            { propertyID: NotifyActivityPropertyKeys.wf_ExecuteForms_Mobile, propertyName: mxResources.get('webForm'), propertyType: 'modal' },\r\n        ];\r\n\r\n        let approvalProperty = new ElementPropertyConfig();\r\n        approvalProperty.categoryId = 'activityProperty';\r\n        approvalProperty.categoryName = mxResources.get('activityProperty');\r\n        approvalProperty.tabId = 'basic';\r\n        approvalProperty.tabName = mxResources.get('basicAttributes');\r\n        approvalProperty.properties = [\r\n            { propertyID: NotifyActivityPropertyKeys.NotifyAble, propertyName: mxResources.get('notifyAble'), propertyType: 'modal' },\r\n        ];\r\n\r\n        activityProperty.categoryId = 'advanced';\r\n        activityProperty.categoryName = mxResources.get('otherConfigurations');\r\n        activityProperty.tabId = 'advanced';\r\n        activityProperty.tabName = mxResources.get('advancedAttributes');\r\n        activityProperty.properties = [\r\n            { propertyID: NotifyActivityPropertyKeys.messageNotice, propertyName: mxResources.get('messageNotice'), propertyType: 'modal' },\r\n        ];\r\n\r\n        // 扩展属性分group处理，每个group包含父级属性和属于它的子扩展属性\r\n        const groupList = new Array();\r\n        for (const extend of extendList) {\r\n            if (!extend.parentId) {\r\n                const group = { parent: extend, childs: new Array() };\r\n                for (const e of extendList) {\r\n                    if (e.parentId === extend.id) {\r\n                        group.childs.push(e);\r\n                    }\r\n                }\r\n                groupList.push(group)\r\n            }\r\n        }\r\n        // 没有扩展属性值的时候不显示扩展属性一栏\r\n        if (groupList && groupList.length > 0) {\r\n            let ExtendPropertyConfig: ElementPropertyConfig = new ElementPropertyConfig();\r\n            ExtendPropertyConfig.categoryId = 'extendPropertyConfig';\r\n            ExtendPropertyConfig.categoryName = mxResources.get('extendPropertyConfig');\r\n            ExtendPropertyConfig.tabId = 'advanced';\r\n            ExtendPropertyConfig.tabName = mxResources.get('advancedAttributes');\r\n            ExtendPropertyConfig.properties = new Array();\r\n            for (const g of groupList) {\r\n                ExtendPropertyConfig.properties.push(\r\n                    { propertyID: g.parent.id, propertyName: g.parent.propertyTitle, propertyType: 'modal' });\r\n            }\r\n            this.setPropertyData(act, propertyData, groupList);\r\n            return {\r\n                propertyConfig: [basicProperty, performerProperty, formDef, approvalProperty, activityProperty, ExtendPropertyConfig],\r\n                propertyData: propertyData\r\n            }\r\n        } else {\r\n            this.setPropertyData(act, propertyData, groupList);\r\n            return {\r\n                propertyConfig: [basicProperty, performerProperty, formDef, approvalProperty, activityProperty],\r\n                propertyData: propertyData\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 组织UserActivity的属性值propertyData\r\n     * @param act\r\n     * @param propertyData\r\n     */\r\n    setPropertyData(act: NotifyActivity, propertyData: any, groupList?: any): void {\r\n        propertyData[NotifyActivityPropertyKeys.Id] = act.Id;\r\n        propertyData[NotifyActivityPropertyKeys.ClrTypeID] = act.ClrTypeID;\r\n        propertyData[NotifyActivityPropertyKeys.Name] = act.Name;\r\n        propertyData[NotifyActivityPropertyKeys.NameLanguage] = act.NameLanguage || {\r\n            \"zh-CHS\": act.Name,\r\n        };\r\n\r\n        propertyData[NotifyActivityPropertyKeys.ParticipantSchemes] = this.getParticipantInfo(act);\r\n\r\n        propertyData[NotifyActivityPropertyKeys.messageNotice] = PropertyHelper.getMessageNotices(act.messageNotices);;\r\n        propertyData[NotifyActivityPropertyKeys.wf_ExecuteForms_PC] =\r\n            act.executeForms ? act.executeForms.find(e => e.TerminalType === 'PC') : null;\r\n        propertyData[NotifyActivityPropertyKeys.wf_ExecuteForms_Mobile] =\r\n            act.executeForms ? act.executeForms.find(e => e.TerminalType === 'MOBILE') : null;\r\n        propertyData[NotifyActivityPropertyKeys.NotifyAble] = PropertyHelper.getNotifyAble(act.notifyAble, act.dynamicParticipants);\r\n\r\n        for (const g of groupList) {\r\n            // 取回模型上的value值给到扩展属性组件里\r\n            if (act.extendProperties && act.extendProperties.length > 0) {\r\n                g.childs.sort((a, b) => {\r\n                    return a.sortOrder - b.sortOrder;\r\n                }).forEach((d: any) => {\r\n                    act.extendProperties.forEach(e => {\r\n                        if (e.key == d.code) {\r\n                            d.value = e.value;\r\n                        }\r\n                    });\r\n                });\r\n            }\r\n            propertyData[g.parent.id] = g.childs;\r\n        }\r\n    }\r\n\r\n    getParticipantInfo(notifyActivity: NotifyActivity): ParticipantInfo {\r\n        const partiInfo = new ParticipantInfo();\r\n        const roles = notifyActivity.GetResourceRoles().filter(role => role instanceof HumanPerformerImpl) as Array<HumanPerformerImpl>;\r\n        partiInfo.humanPerformerList = PropertyHelper.getPerformerList(roles);\r\n        return partiInfo;\r\n    }\r\n\r\n    updateProps(obj: any) {\r\n        const notifyActivity = this.flowElement;\r\n        const editorUi = this.editorUi;\r\n        const propertyId: string = obj.propertyID;\r\n        switch (propertyId) {\r\n            // 参与者属性\r\n            case NotifyActivityPropertyKeys.ParticipantSchemes:\r\n                this.updateParticipant(notifyActivity, obj);\r\n                break;\r\n            case NotifyActivityPropertyKeys.messageNotice:\r\n                this.updateMessageNotices(notifyActivity, obj);\r\n                break;\r\n            case NotifyActivityPropertyKeys.wf_ExecuteForms_PC:\r\n                this.updateStartActivityForm(notifyActivity, obj, 'PC');\r\n                if (obj.parameters && obj.parameters.length > 0) {\r\n                    PropertyHelper.updateFormalParameters(editorUi.graph.bpmnModel.DefaultProcess, obj.parameters);\r\n                }\r\n                break;\r\n            case NotifyActivityPropertyKeys.wf_ExecuteForms_Mobile:\r\n                this.updateStartActivityForm(notifyActivity, obj, 'MOBILE');\r\n                if (obj.parameters && obj.parameters.length > 0) {\r\n                    PropertyHelper.updateFormalParameters(editorUi.graph.bpmnModel.DefaultProcess, obj.parameters);\r\n                }\r\n                break;\r\n            case NotifyActivityPropertyKeys.NotifyAble:\r\n                this.updateNotifySet(notifyActivity, obj);\r\n                break;\r\n            default:\r\n                // 判断ResourceKeys是不是groupid,是就走resetExtendProperty\r\n                if (this.editorUi.procExtProps.findIndex(p => p.id === propertyId) > -1) {\r\n                    this.resetExtendProperty(notifyActivity, obj);\r\n                } else {\r\n                    super.updateProps(obj);\r\n                }\r\n                break;\r\n        }\r\n    }\r\n\r\n    updateParticipant(notifyActivity: NotifyActivity, obj: any) {\r\n        const performerInfo: ParticipantInfo = obj.propertyValue;\r\n\r\n        const resourceRoles = notifyActivity.GetResourceRoles();\r\n        if (resourceRoles && resourceRoles.length > 0) {\r\n            resourceRoles.forEach(r => {\r\n                if (r instanceof HumanPerformerImpl) {\r\n                    notifyActivity.RemoveResourceRole(r.Id);\r\n                }\r\n            });\r\n        }\r\n        if (performerInfo.humanPerformerList && performerInfo.humanPerformerList.length > 0) {\r\n            for (const humanPerformer of performerInfo.humanPerformerList) {\r\n                switch (humanPerformer.type) {\r\n                    case UserParticipantExpression.Clr_Type_ID:\r\n                        this.addUserParticipant(notifyActivity, humanPerformer as UserParticipant, 'humanPerformer', null);\r\n                        break;\r\n                    case PositionParticipantExpression.Clr_Type_ID:\r\n                        this.addPositionParticipant(notifyActivity, humanPerformer as PositionParticipant, 'humanPerformer', null);\r\n                        break;\r\n                    case VariableParticipantExpression.Clr_Type_ID:\r\n                        this.addVariableParticipant(notifyActivity, humanPerformer as VariablePerformer, 'humanPerformer', null)\r\n                        break;\r\n                    case ComponentParticipantExpression.Clr_Type_ID:\r\n                        this.addComponentParticipant(notifyActivity, humanPerformer as ComponentParticipant, 'humanPerformer', null);\r\n                        break;\r\n                    case ReportingLineParticipantExpression.Clr_Type_ID:\r\n                        this.addReportingLineParticipant(notifyActivity, humanPerformer as ReportingLineParticipant, 'humanPerformer', null);\r\n                        break;\r\n                    case ActivityExecutorParticipantExpression.Clr_Type_ID:\r\n                        this.addActivityExecutorParticipant(notifyActivity, humanPerformer as ActivityExecutorParticipant, 'humanPerformer', null);\r\n                        break;\r\n                    case MatrixParticipantExpression.Clr_Type_ID:\r\n                        this.addMatrixParticipant(notifyActivity, humanPerformer as MatrixParticipant, 'humanPerformer', null);\r\n                        break;\r\n                }\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    addUserParticipant(notifyActivity: NotifyActivity, performer: UserParticipant, type: string,  scope: ActionScope) {\r\n        let userParticipant = new UserParticipantExpression(notifyActivity.Model, performer.performerId, performer.performerName, performer.orgType);\r\n        userParticipant.id = performer.id;\r\n        userParticipant.OrgId = performer.orgId;\r\n        userParticipant.OrgName = performer.orgName;\r\n        userParticipant.Tag = performer.tag;\r\n        userParticipant.OrgType = performer.orgType;\r\n        userParticipant.order = performer.order;\r\n        if (type === 'humanPerformer') {\r\n            let humanPerformerImpl = new HumanPerformerImpl(notifyActivity.Model);\r\n            humanPerformerImpl.participantExpression = userParticipant;\r\n            if (performer.condition) {\r\n                const condition = new Condition(notifyActivity.Model);\r\n                condition.Value = performer.condition;\r\n                humanPerformerImpl.condition = condition;\r\n            }\r\n            humanPerformerImpl.order = performer.order;\r\n            notifyActivity.AddResourceRole(humanPerformerImpl);\r\n        }\r\n        else if (type === 'potentialOwner') {\r\n            let otentialOwnerImpl = new PotentialOwnerImpl(notifyActivity.Model);\r\n            otentialOwnerImpl.participantExpression = userParticipant;\r\n            if (performer.condition) {\r\n                const condition = new Condition(notifyActivity.Model);\r\n                condition.Value = performer.condition;\r\n                otentialOwnerImpl.condition = condition;\r\n            }\r\n            otentialOwnerImpl.order = performer.order;\r\n            if(scope) {\r\n                userParticipant.actionScope = scope;\r\n                notifyActivity.dynamicParticipants.push(userParticipant);\r\n            }else {\r\n                notifyActivity.AddResourceRole(otentialOwnerImpl);\r\n            }\r\n        }\r\n    }\r\n\r\n    addVariableParticipant(notifyActivity: NotifyActivity, performer: VariablePerformer, type: string, scope: ActionScope) {\r\n        let variablePerformer = new VariableParticipantExpression(notifyActivity.Model, performer.performerId, performer.performerName, performer.orgType);\r\n        variablePerformer.id = performer.id;\r\n        variablePerformer.Name = performer.performerName ? performer.performerName : performer.name;;\r\n        variablePerformer.Tag = performer.tag;\r\n        variablePerformer.VarValue = performer.varValue;\r\n        variablePerformer.VarType = performer.varType;\r\n        variablePerformer.Relation = performer.relation;\r\n        variablePerformer.order = performer.order;\r\n        if (type === 'humanPerformer') {\r\n            let humanPerformerImpl = new HumanPerformerImpl(notifyActivity.Model);\r\n            humanPerformerImpl.participantExpression = variablePerformer;\r\n            if (performer.condition) {\r\n                const condition = new Condition(notifyActivity.Model);\r\n                condition.Value = performer.condition;\r\n                humanPerformerImpl.condition = condition;\r\n            }\r\n            humanPerformerImpl.order = performer.order;\r\n            notifyActivity.AddResourceRole(humanPerformerImpl);\r\n        } else if (type === 'potentialOwner') {\r\n            let otentialOwnerImpl = new PotentialOwnerImpl(notifyActivity.Model);\r\n            otentialOwnerImpl.participantExpression = variablePerformer;\r\n            if (performer.condition) {\r\n                const condition = new Condition(notifyActivity.Model);\r\n                condition.Value = performer.condition;\r\n                otentialOwnerImpl.condition = condition;\r\n            }\r\n            otentialOwnerImpl.order = performer.order;\r\n            if(scope) {\r\n                variablePerformer.actionScope = scope;\r\n                notifyActivity.dynamicParticipants.push(variablePerformer);\r\n            }else {\r\n                notifyActivity.AddResourceRole(otentialOwnerImpl);\r\n            }\r\n        }\r\n    }\r\n\r\n    addPositionParticipant(notifyActivity: NotifyActivity, performer: PositionParticipant, type: string , scope: ActionScope) {\r\n        let posiParticipant = new PositionParticipantExpression(notifyActivity.Model, performer.performerId, performer.performerName);\r\n        posiParticipant.id = performer.id;\r\n        posiParticipant.PositionType = performer.positionType;\r\n        posiParticipant.order = performer.order;\r\n        if (performer.positionType === '1') {\r\n            posiParticipant.OrgId = performer.orgId;\r\n            posiParticipant.OrgName = performer.orgName;\r\n            posiParticipant.OrgType = performer.orgType;\r\n        }\r\n        if (type === 'humanPerformer') {\r\n            let humanPerformerImpl = new HumanPerformerImpl(notifyActivity.Model);\r\n            humanPerformerImpl.participantExpression = posiParticipant;\r\n            if (performer.condition) {\r\n                const condition = new Condition(notifyActivity.Model);\r\n                condition.Value = performer.condition;\r\n                humanPerformerImpl.condition = condition;\r\n            }\r\n            humanPerformerImpl.order = performer.order;\r\n            notifyActivity.AddResourceRole(humanPerformerImpl);\r\n        } else if (type === 'potentialOwner') {\r\n            let otentialOwnerImpl = new PotentialOwnerImpl(notifyActivity.Model);\r\n            otentialOwnerImpl.participantExpression = posiParticipant;\r\n            if (performer.condition) {\r\n                const condition = new Condition(notifyActivity.Model);\r\n                condition.Value = performer.condition;\r\n                otentialOwnerImpl.condition = condition;\r\n            }\r\n            otentialOwnerImpl.order = performer.order;\r\n            if(scope) {\r\n                posiParticipant.actionScope = scope;\r\n                notifyActivity.dynamicParticipants.push(posiParticipant);\r\n            }else {\r\n                notifyActivity.AddResourceRole(otentialOwnerImpl);\r\n            }\r\n        }\r\n    }\r\n\r\n    addComponentParticipant(notifyActivity: NotifyActivity, component: ComponentParticipant, type: string , scope: ActionScope) {\r\n        let componentParticipant = new ComponentParticipantExpression(notifyActivity.Model);\r\n        componentParticipant.id = component.id;\r\n        componentParticipant.componentId = component.metadataId;\r\n        componentParticipant.componentName = component.name;\r\n        componentParticipant.methodName = component.methodName;\r\n        componentParticipant.methodCode = component.methodCode;\r\n        componentParticipant.order = component.order;\r\n\r\n        if (component.actualParameters && component.actualParameters.length > 0) {\r\n            let actParas = new Array<ActualParameter>();\r\n            for (let para of component.actualParameters) {\r\n                let actPara = new ActualParameter(notifyActivity.Model, para.code, para.value, para.valueText);\r\n\r\n                // TODO:更新参与者会默认把构件参数属性改为contant，临时修复，后续代码优化\r\n                actPara.Tag = para.tag;\r\n                if (para.fetchValueMode) {\r\n                    switch (para.fetchValueMode) {\r\n                        case 'express':\r\n                            actPara.Tag = 'expression';\r\n                            break;\r\n                        case 'none':\r\n                            actPara.Tag = 'expression';\r\n                            break;\r\n                        default:\r\n                            actPara.Tag = 'constant';\r\n                            break;\r\n                    }\r\n                }\r\n                actParas.push(actPara);\r\n            }\r\n            componentParticipant.actualParameters = actParas;\r\n        }\r\n        if (type === 'humanPerformer') {\r\n            let humanPerformerImpl = new HumanPerformerImpl(notifyActivity.Model);\r\n            humanPerformerImpl.participantExpression = componentParticipant;\r\n            if (component.condition) {\r\n                const condition = new Condition(notifyActivity.Model);\r\n                condition.Value = component.condition;\r\n                humanPerformerImpl.condition = condition;\r\n            }\r\n            humanPerformerImpl.order = component.order;\r\n            notifyActivity.AddResourceRole(humanPerformerImpl);\r\n        } else if (type === 'potentialOwner') {\r\n            let otentialOwnerImpl = new PotentialOwnerImpl(notifyActivity.Model);\r\n            otentialOwnerImpl.participantExpression = componentParticipant;\r\n            if (component.condition) {\r\n                const condition = new Condition(notifyActivity.Model);\r\n                condition.Value = component.condition;\r\n                otentialOwnerImpl.condition = condition;\r\n            }\r\n            otentialOwnerImpl.order = component.order;\r\n            if(scope) {\r\n                componentParticipant.actionScope = scope;\r\n                notifyActivity.dynamicParticipants.push(componentParticipant);\r\n            }else {\r\n                notifyActivity.AddResourceRole(otentialOwnerImpl);\r\n            }\r\n        }\r\n    }\r\n\r\n    addReportingLineParticipant(notifyActivity: NotifyActivity, participant: ReportingLineParticipant, type: string , scope: ActionScope) {\r\n        let reportingLine = new ReportingLineParticipantExpression(notifyActivity.Model);\r\n        reportingLine.id = participant.id;\r\n        reportingLine.ReportingLineDefId = participant.reportingLineDefId;\r\n        reportingLine.ReportingLineDefName = participant.reportingLineDefName;\r\n        reportingLine.RefOrgId = participant.refOrgId;\r\n        reportingLine.RefUserId = participant.refUserId;\r\n        reportingLine.RefEmployeeId = participant.refEmployeeId;\r\n        reportingLine.order = participant.order;\r\n        reportingLine.Dimension = participant.dimension;\r\n        reportingLine.Tag = participant.tag;\r\n\r\n        if (type === 'humanPerformer') {\r\n            let humanPerformerImpl = new HumanPerformerImpl(notifyActivity.Model);\r\n            humanPerformerImpl.participantExpression = reportingLine;\r\n            if (participant.condition) {\r\n                const condition = new Condition(notifyActivity.Model);\r\n                condition.Value = participant.condition;\r\n                humanPerformerImpl.condition = condition;\r\n            }\r\n            humanPerformerImpl.order = participant.order;\r\n            notifyActivity.AddResourceRole(humanPerformerImpl);\r\n        } else if (type === 'potentialOwner') {\r\n            let otentialOwnerImpl = new PotentialOwnerImpl(notifyActivity.Model);\r\n            otentialOwnerImpl.participantExpression = reportingLine;\r\n            if (participant.condition) {\r\n                const condition = new Condition(notifyActivity.Model);\r\n                condition.Value = participant.condition;\r\n                otentialOwnerImpl.condition = condition;\r\n            }\r\n            otentialOwnerImpl.order = participant.order;\r\n            if(scope) {\r\n                reportingLine.actionScope = scope;\r\n                notifyActivity.dynamicParticipants.push(reportingLine);\r\n            }else {\r\n                notifyActivity.AddResourceRole(otentialOwnerImpl);\r\n            }\r\n        }\r\n    }\r\n\r\n    addActivityExecutorParticipant(notifyActivity: NotifyActivity, participant: ActivityExecutorParticipant, type: string , scope: ActionScope) {\r\n        let activityExecutor = new ActivityExecutorParticipantExpression(notifyActivity.Model);\r\n        activityExecutor.id = participant.id;\r\n        activityExecutor.activityDefId = participant.activityDefId;\r\n        activityExecutor.order = participant.order;\r\n        activityExecutor.activityDefName = participant.activityDefName;\r\n\r\n        if (type === 'humanPerformer') {\r\n            let humanPerformerImpl = new HumanPerformerImpl(notifyActivity.Model);\r\n            humanPerformerImpl.participantExpression = activityExecutor;\r\n            if (participant.condition) {\r\n                const condition = new Condition(notifyActivity.Model);\r\n                condition.Value = participant.condition;\r\n                humanPerformerImpl.condition = condition;\r\n            }\r\n            humanPerformerImpl.order = participant.order;\r\n            notifyActivity.AddResourceRole(humanPerformerImpl);\r\n        } else if (type === 'potentialOwner') {\r\n            let otentialOwnerImpl = new PotentialOwnerImpl(notifyActivity.Model);\r\n            otentialOwnerImpl.participantExpression = activityExecutor;\r\n            if (participant.condition) {\r\n                const condition = new Condition(notifyActivity.Model);\r\n                condition.Value = participant.condition;\r\n                otentialOwnerImpl.condition = condition;\r\n            }\r\n            otentialOwnerImpl.order = participant.order;\r\n            if(scope) {\r\n                activityExecutor.actionScope = scope;\r\n                notifyActivity.dynamicParticipants.push(activityExecutor);\r\n            }else {\r\n                notifyActivity.AddResourceRole(otentialOwnerImpl);\r\n            }\r\n        }\r\n    }\r\n\r\n    addMatrixParticipant(notifyActivity: NotifyActivity, participant: MatrixParticipant, type: string , scope: ActionScope) {\r\n        let matrix = new MatrixParticipantExpression(notifyActivity.Model);\r\n        matrix.order = participant.order;\r\n        matrix.id = participant.id;\r\n        matrix.matrixDefId = participant.matrixDefId;\r\n        matrix.matrixDefName = participant.matrixDefName;\r\n        matrix.conditionField1 = participant.conditionField1;\r\n        matrix.conditionFieldText1 = participant.conditionFieldText1;\r\n        matrix.conditionField2 = participant.conditionField2;\r\n        matrix.conditionFieldText2 = participant.conditionFieldText2;\r\n        matrix.conditionField3 = participant.conditionField3;\r\n        matrix.conditionFieldText3 = participant.conditionFieldText3;\r\n        matrix.multivaluedCondition = participant.multivaluedCondition;\r\n        matrix.dataFieldAlias = participant.dataFieldAlias;\r\n\r\n        if (type === 'humanPerformer') {\r\n            let humanPerformerImpl = new HumanPerformerImpl(notifyActivity.Model);\r\n            humanPerformerImpl.participantExpression = matrix;\r\n            if (participant.condition) {\r\n                const condition = new Condition(notifyActivity.Model);\r\n                condition.Value = participant.condition;\r\n                humanPerformerImpl.condition = condition;\r\n            }\r\n            humanPerformerImpl.order = participant.order;\r\n            notifyActivity.AddResourceRole(humanPerformerImpl);\r\n        } else if (type === 'potentialOwner') {\r\n            let otentialOwnerImpl = new PotentialOwnerImpl(notifyActivity.Model);\r\n            otentialOwnerImpl.participantExpression = matrix;\r\n            if (participant.condition) {\r\n                const condition = new Condition(notifyActivity.Model);\r\n                condition.Value = participant.condition;\r\n                otentialOwnerImpl.condition = condition;\r\n            }\r\n            otentialOwnerImpl.order = participant.order;\r\n            if(scope) {\r\n                matrix.actionScope = scope;\r\n                notifyActivity.dynamicParticipants.push(matrix);\r\n            }else {\r\n            notifyActivity.AddResourceRole(otentialOwnerImpl);\r\n            }\r\n        }\r\n    }\r\n\r\n        /**\r\n     *\r\n     * @param userActivity\r\n     * @param participant\r\n     * @param type\r\n     */\r\n        addOrganizationParticipant(notifyActivity: NotifyActivity, participant: OrganizationParticipant, type: string, scope: ActionScope) {\r\n            let potential = new OrganizationParticipantExpression(notifyActivity.Model);\r\n            potential.id = participant.id;\r\n            potential.order = participant.order;\r\n            potential.actionScope = ActionScope.AssignUser;\r\n            potential.organizationLevel = participant.organizationLevel as any;\r\n            potential.organizationId = participant.organizationId;\r\n            potential.organizationName = participant.organizationName;\r\n            potential.includeChildren = participant.includeChildren;\r\n            potential.tag = participant.tag;\r\n    \r\n            if (participant.condition) {\r\n                const condition = new Condition(notifyActivity.Model);\r\n                condition.Value = participant.condition;\r\n                potential.condition = condition;\r\n            }\r\n    \r\n            if (type === 'humanPerformer') {\r\n                let humanPerformerImpl = new HumanPerformerImpl(notifyActivity.Model);\r\n                humanPerformerImpl.participantExpression = potential;\r\n                if (participant.condition) {\r\n                    const condition = new Condition(notifyActivity.Model);\r\n                    condition.Value = participant.condition;\r\n                    humanPerformerImpl.condition = condition;\r\n                }\r\n                humanPerformerImpl.order = participant.order;\r\n                notifyActivity.AddResourceRole(humanPerformerImpl);\r\n            } else if (type === 'potentialOwner') {\r\n                let otentialOwnerImpl = new PotentialOwnerImpl(notifyActivity.Model);\r\n                otentialOwnerImpl.participantExpression = potential;\r\n                if (participant.condition) {\r\n                    const condition = new Condition(notifyActivity.Model);\r\n                    condition.Value = participant.condition;\r\n                    otentialOwnerImpl.condition = condition;\r\n                }\r\n                otentialOwnerImpl.order = participant.order;\r\n                if(scope) {\r\n                    potential.actionScope = scope;\r\n                    notifyActivity.dynamicParticipants.push(potential);\r\n                }else {\r\n                    notifyActivity.AddResourceRole(otentialOwnerImpl);\r\n                }\r\n            }\r\n        }\r\n\r\n\r\n    updateStartActivityForm(notifyActivity: NotifyActivity, obj: any, terminal: string) {\r\n        if (notifyActivity) {\r\n            let form = obj.propertyValue as any;\r\n            if (!notifyActivity.executeForms) {\r\n                notifyActivity.executeForms = new Array<ExecuteForm>();\r\n            }\r\n            notifyActivity.executeForms = notifyActivity.executeForms.filter(e => e.TerminalType !== terminal);\r\n            if (form) {\r\n                let params = form.ActualParameters as any[];\r\n                let actParas = new Array<ActualParameter>();\r\n                if (params && params.length > 0) {\r\n                    for (let para of params) {\r\n                        let actPara = new ActualParameter(notifyActivity.Model, para.Name, para.Value);\r\n                        if (para.Tag) {\r\n                            actPara.Tag = para.Tag;\r\n                        } else {\r\n                            if (para.Value) {\r\n                                if (para.Value.length >= 8 && para.Value.slice(0, 8) === `{\"expr\":`) {\r\n                                    actPara.Tag = 'expression';\r\n                                } else {\r\n                                    actPara.Tag = 'constant';\r\n                                }\r\n                            } else {\r\n                                actPara.Tag = 'variable';\r\n                            }\r\n\r\n                        }\r\n                        actParas.push(actPara);\r\n                    }\r\n                }\r\n                const id = BpmnModelHelper.GenerateElementId();\r\n                let item = new ExecuteForm(notifyActivity.Model, id, form.Name, actParas);\r\n                item.ComponentId = form.ComponentId;\r\n                item.FormType = form.FormType;\r\n                item.formFormatId = form.formFormatId;\r\n                item.formatConfigId = form.formatConfigId;\r\n                item.TerminalType = form.TerminalType;\r\n                notifyActivity.executeForms.push(item);\r\n            }\r\n        }\r\n    }\r\n\r\n    updateNotifySet(notifyActivity: NotifyActivity, obj: any) {\r\n        const scope = obj.propertyValue as ActionOrganizationScopeDesign;\r\n\r\n        notifyActivity.dynamicParticipants = notifyActivity.dynamicParticipants.filter(p => (p as OrganizationParticipantExpression).actionScope !== ActionScope.Notify);\r\n        notifyActivity.notifyAble = scope.enable;\r\n        if (scope.scope) {\r\n            if(scope.scope.organizationLevel) {\r\n                const organizationParticipantExpression = new OrganizationParticipantExpression(notifyActivity.Model);\r\n                organizationParticipantExpression.id = BpmnModelHelper.GenerateElementId();\r\n                organizationParticipantExpression.actionScope = ActionScope.Notify;\r\n                organizationParticipantExpression.organizationLevel = scope.scope.organizationLevel as any;\r\n                organizationParticipantExpression.organizationId = scope.scope.organizationId;\r\n                organizationParticipantExpression.organizationName = scope.scope.organizationName;\r\n                organizationParticipantExpression.includeChildren = scope.scope.includeChildren;\r\n                organizationParticipantExpression.tag = scope.scope.tag;\r\n                notifyActivity.dynamicParticipants.push(organizationParticipantExpression);\r\n            }else {\r\n                const performerInfo: ParticipantInfo = scope.scope.participantInfo as any;\r\n                if (performerInfo.isAllScope && performerInfo.potentialOwnerList && performerInfo.potentialOwnerList.length > 0) {\r\n                    for (const potentialOwner of performerInfo.potentialOwnerList) {\r\n                        switch (potentialOwner.type) {\r\n                            case UserParticipantExpression.Clr_Type_ID:\r\n                                this.addUserParticipant(notifyActivity, potentialOwner as UserParticipant, 'potentialOwner', ActionScope.Notify);\r\n                                break;\r\n                            case VariableParticipantExpression.Clr_Type_ID:\r\n                                this.addVariableParticipant(notifyActivity, potentialOwner as VariablePerformer, 'potentialOwner', ActionScope.Notify)\r\n                                break;\r\n                            case PositionParticipantExpression.Clr_Type_ID:\r\n                                this.addPositionParticipant(notifyActivity, potentialOwner as PositionParticipant, 'potentialOwner', ActionScope.Notify);\r\n                                break;\r\n                            case ComponentParticipantExpression.Clr_Type_ID:\r\n                                this.addComponentParticipant(notifyActivity, potentialOwner as ComponentParticipant, 'potentialOwner', ActionScope.Notify);\r\n                                break;\r\n                            case ReportingLineParticipantExpression.Clr_Type_ID:\r\n                                this.addReportingLineParticipant(notifyActivity, potentialOwner as ReportingLineParticipant, 'potentialOwner', ActionScope.Notify);\r\n                                break;\r\n                            case ActivityExecutorParticipantExpression.Clr_Type_ID:\r\n                                this.addActivityExecutorParticipant(notifyActivity, potentialOwner as ActivityExecutorParticipant, 'potentialOwner', ActionScope.Notify);\r\n                                break;notifyActivity\r\n                            case MatrixParticipantExpression.Clr_Type_ID:\r\n                                this.addMatrixParticipant(notifyActivity, potentialOwner as MatrixParticipant, 'potentialOwner', ActionScope.Notify);\r\n                                break;\r\n                            case OrganizationParticipantExpression.Clr_Type_ID:\r\n                                this.addOrganizationParticipant(notifyActivity, potentialOwner as OrganizationParticipant, 'potentialOwner' , ActionScope.Notify);\r\n                                break;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 更新知会活动扩展属性\r\n     * @param notifyActivity\r\n     * @param obj\r\n     */\r\n    resetExtendProperty(notifyActivity: NotifyActivity, obj: any) {\r\n        if (notifyActivity) {\r\n            let attributes = obj.propertyValue as any;\r\n            if (!notifyActivity.extendProperties) {\r\n                notifyActivity.extendProperties = new Array<ExtendProperty>();\r\n            }\r\n            for (const o of obj.propertyValue) {\r\n                const index = notifyActivity.extendProperties.findIndex(e => e.key === o.code);\r\n                if (index > -1) {\r\n                    notifyActivity.extendProperties.splice(index, 1);\r\n                }\r\n            }\r\n            if (attributes) {\r\n                attributes.forEach((a: any) => {\r\n                    let item = new ExtendProperty(notifyActivity.Model);\r\n                    item.key = a.code;\r\n                    item.value = a.value;\r\n                    notifyActivity.extendProperties.push(item);\r\n                });\r\n            }\r\n        }\r\n    }\r\n\r\n    updateMessageNotices(notifyActivity: NotifyActivity, obj: any) {\r\n        const bpmnModel = notifyActivity.Model;\r\n        let notices = obj.propertyValue as any[];\r\n        notifyActivity.messageNotices = new Array();\r\n        if (notices && notices.length > 0) {\r\n            for (let n of notices) {\r\n                const messageNotice = new MessageNotice(bpmnModel);\r\n                messageNotice.sendType = n.sendType;\r\n                messageNotice.sendTime = n.sendTime;\r\n                messageNotice.subject = n.subject;\r\n                messageNotice.content = n.content;\r\n\r\n                if (n.smsMessageTemplate) {\r\n                    const smsMessageTemplate = new SmsMessageTemplate(bpmnModel);\r\n                    smsMessageTemplate.code = n.smsMessageTemplate.code;\r\n                    smsMessageTemplate.content = n.smsMessageTemplate.content;\r\n                    smsMessageTemplate.smsMessageVariables = new Array();\r\n                    if (n.smsMessageTemplate.smsMessageVariables && n.smsMessageTemplate.smsMessageVariables.length > 0) {\r\n                        for (const v of n.smsMessageTemplate.smsMessageVariables) {\r\n                            const variable = new SmsMessageVariable(bpmnModel);\r\n                            variable.code = v.code;\r\n                            variable.value = v.value;\r\n                            variable.tag = v.tag;\r\n                            smsMessageTemplate.smsMessageVariables.push(variable);\r\n                        }\r\n                    }\r\n                    messageNotice.smsMessageTemplate = smsMessageTemplate;\r\n                }\r\n                // messageNotice.receiver = n.receiver;\r\n                // messageNotice.receiverText = n.receiverText;\r\n                n.receivers = n.receivers.filter((r: any) => r.type);\r\n                if (n.receivers && n.receivers.length > 0) {\r\n                    const receivers = n.receivers.filter((r: any) => r.type === 'userParticipant'\r\n                        || (r.type === 'processParticipant' && r.processParticipant !== 'activityExecutorParticipant'));\r\n                    const participants = n.receivers.filter((r: any) => r.type === 'variableParticipant' || r.type === 'positionParticipant'\r\n                        || (r.type === 'processParticipant' && r.processParticipant === 'activityExecutorParticipant'));\r\n                    if (receivers && receivers.length > 0) {\r\n                        let receiver = '';\r\n                        let receiverName = '';\r\n                        for (const r of receivers) {\r\n                            if (r.type === 'processParticipant') {\r\n                                receiver += (r.processParticipant + ',');\r\n                                if (r.processParticipant === 'procInstCreator') {\r\n                                    receiverName += '流程发起人,'\r\n                                } else if (r.processParticipant === 'workItemParticipant') {\r\n                                    receiverName += '任务接收人,'\r\n                                }\r\n                            } else if (r.type === 'userParticipant') {\r\n                                receiver += (r.userIds + ',');\r\n                                receiverName += (r.userNames + ',');\r\n                            }\r\n                        }\r\n                        if (receiver) {\r\n                            receiver = receiver.substring(0, receiver.length - 1);\r\n                        }\r\n                        if (receiverName) {\r\n                            receiverName = receiverName.substring(0, receiverName.length - 1);\r\n                        }\r\n                        messageNotice.receiver = receiver;\r\n                        messageNotice.receiverText = receiverName;\r\n                    }\r\n                    if (participants && participants.length > 0) {\r\n                        const receiverExpressions = new Array<ParticipantExpression>();\r\n                        for (const p of participants) {\r\n                            if (p.type === 'processParticipant') {\r\n                                let activityExecutor = new ActivityExecutorParticipantExpression(notifyActivity.Model);\r\n                                activityExecutor.id = BpmnModelHelper.GenerateElementId();\r\n                                activityExecutor.activityDefId = p.activityDefId;\r\n                                activityExecutor.activityDefName = p.activityDefName;\r\n                                receiverExpressions.push(activityExecutor);\r\n                            }\r\n                            if (p.type === 'variableParticipant') {\r\n                                let variableParticipant = new UserParticipantExpression(notifyActivity.Model, p.variableParticipant, p.variableName, p.orgType);\r\n                                variableParticipant.id = BpmnModelHelper.GenerateElementId();\r\n                                variableParticipant.Tag = 'expression';\r\n                                variableParticipant.OrgType = p.orgType;\r\n                                receiverExpressions.push(variableParticipant);\r\n                            }\r\n                            if (p.type === 'positionParticipant') {\r\n                                let posiParticipant = new PositionParticipantExpression(notifyActivity.Model, p.positionId, p.positionName);\r\n                                posiParticipant.id = BpmnModelHelper.GenerateElementId();\r\n                                posiParticipant.PositionType = p.positionType;\r\n                                if (p.positionType === '1') {\r\n                                    posiParticipant.OrgId = p.orgId;\r\n                                    posiParticipant.OrgType = p.orgType;\r\n                                }\r\n                                receiverExpressions.push(posiParticipant);\r\n                            }\r\n                        }\r\n                        messageNotice.receiverExpressions = receiverExpressions;\r\n                    }\r\n                }\r\n\r\n                notifyActivity.messageNotices.push(messageNotice);\r\n            }\r\n        }\r\n    }\r\n}\r\n","import { NodeCell, ElementPropertyConfig, FarrisPropConfigWithData } from \"@edp-pmf/grapheditor\";\r\nimport { MxGraphNS, mxResources } from \"@edp-pmf/mxgraph-ts\";\r\nimport { BpmnModelHelper, BPMNShape, Expression, FlowNodeState, MultiInstanceLoopCharacteristics } from \"@edp-pmf/bpmn-model\";\r\nimport { BizActivity, OtherAssignNodes, UserActivity, OperationActivity, StartActivity, UrgeHandleRule, ApprovalPivot, ApprovalPivotConfig, ImageSettings, CheckCondition, VariableSetting, CustomizeAction, DurationType, TimeLimitControl, Tool, TitleExpression, JumpScope, BackWardRule, CounterSignRule, ParticipantSetting, AssignPerformerConfig, Component, ConclusionItem, ExecuteWorkItemMode, WorkFlowAction, DisplayTerminal, AssignmentStrategy, TimeLimitControlInfo, SendMessageExpireOperation, SendMessageExpireOperationInfo, AutoHandleExpireOperation, AutoHandleExpireOperationInfo, ExtendProperty, MessageNotice, ActionScope, Condition, ExecuteForm, PotentialOwnerImpl, HumanPerformerImpl, OrganizationParticipantExpression, VariableParticipantExpression, ComponentParticipantExpression, ReportingLineParticipantExpression, MatrixParticipantExpression, ParticipantExpression, ActivityExecutorParticipantExpression, UserParticipantExpression, PositionParticipantExpression, ActualParameter, ActionOrganizationScope, SmsMessageTemplate, SmsMessageVariable, OtherAssignActivityNodeInfo, OrganizationLevel, SemanticExpression} from \"@gsp-wf/wf-process-model\";\r\nimport { PropertyHelper } from \"./PropertyHelper\";\r\nimport { WfEditorUi } from \"../WfEditorUi\";\r\nimport { UserParticipant } from \"../entity/UserParticipant\";\r\nimport { PositionParticipant } from \"../entity/PositionParticipant\";\r\nimport { VariablePerformer } from \"../entity/VariablePerformer\";\r\nimport { ComponentParticipant } from \"../entity/ComponentParticipant\";\r\nimport { ReportingLineParticipant } from \"../entity/ReportingLineParticipant\";\r\nimport { ActivityExecutorParticipant } from \"../entity/ActivityExecutorParticipant\";\r\nimport { MatrixParticipant } from \"../entity/MatrixParticipant\";\r\nimport { AssignConfig } from \"../entity/AssignConfig\";\r\nimport { AssignStrategy } from \"../entity/AssignStrategy\";\r\nimport { OrganizationParticipant } from \"../entity/OrganizationParticipant\";\r\nimport { WfConstants } from \"../WfConstants\";\r\nimport { UserActivityPropertyKeys } from \"./property-keys/UserActivityPropertyKeys\";\r\nimport { WfDesignerUtils } from \"../WfDesignerUtils\";\r\nimport { MessagerService } from '@farris/ui-messager';\r\nimport { ActionOrganizationScopeDesign, OrganizationPotentialOwner } from \"../../views/organization-potential-owner/actionOrganizationScope\";\r\n// import { ParticipantInfo } from \"../../views/participant/participant.info\";\r\nimport { Participant, ParticipantInfo } from \"../entity\";\r\n\r\n/**\r\n * 审批活动节点\r\n */\r\nexport class UserActivityCell extends NodeCell {\r\n    clrTypeId: string = UserActivityCell.CLR_TYPE_ID;\r\n    name: string = \"审批\";\r\n    nameLanguage: { [lang: string]: string; } = {\r\n      \"zh-CHS\": \"审批\",\r\n      \"zh-CHT\": \"審批\",\r\n      \"en\": \"Approve\",\r\n  };\r\n    static CLR_TYPE_ID: string = UserActivity.Clr_Type_ID;\r\n    flowElement: UserActivity;\r\n    editorUi: WfEditorUi;\r\n\r\n    imgUrls = {\r\n        [FlowNodeState.Default]: WfConstants.IMAGE_PATH + \"/approval.png\",\r\n        [FlowNodeState.Selected]: WfConstants.IMAGE_PATH + \"/approval_select.svg\",\r\n    };\r\n\r\n    bizActivity: BizActivity;\r\n\r\n    constructor(value?: any, geometry?: MxGraphNS.mxGeometry, style?: string) {\r\n        super(value, geometry, style);\r\n    }\r\n\r\n    createFlowElement(flowElt?: UserActivity) {\r\n        const flowNode = super.createFlowElement(flowElt) as UserActivity;\r\n        const editorUi = this.editorUi;\r\n        const bpmnModel = editorUi.graph.bpmnModel;\r\n        flowNode.Id = \"UserActivity\" + BpmnModelHelper.GenerateElementId();\r\n\r\n        // 创建而非复制时执行\r\n        if (flowElt == null) {\r\n            flowNode.transferAble = editorUi.generalConfig.enableTransfer;\r\n            flowNode.AddSignBehindAble = editorUi.generalConfig.enableAddSignBehind;\r\n            flowNode.AddSignFrontAble = editorUi.generalConfig.enableAddSignFront;\r\n            flowNode.NotifyAble = editorUi.generalConfig.enableNotify;\r\n\r\n            if (this.bizActivity) {\r\n                const bizActivity = this.bizActivity;\r\n                flowNode.BizActivityID = bizActivity.id;\r\n                flowNode.BizActivityName = bizActivity.name;\r\n                flowNode.Tools = [];\r\n                for (let c of bizActivity.bizComponents) {\r\n                    let tool = new Component(flowNode.Model);\r\n                    tool.Id = c.id\r\n                    tool.Name = c.name;\r\n                    tool.Time = c.executionTime;\r\n                    // TODO 写死了构件类型\r\n                    tool.ComponentType = 'CommonComponent';\r\n                    tool.MetadataId = c.metadataId;\r\n                    tool.MethodCode = c.methodCode;\r\n                    tool.ActualParameters = [];\r\n                    if (c.actualParameters && (c.actualParameters as any[]).length > 0) {\r\n                        for (let a of (c.actualParameters as any[])) {\r\n                            let parameter = new ActualParameter(bpmnModel, a.code, a.value);\r\n                            tool.ActualParameters.push(parameter);\r\n                        }\r\n                    }\r\n                    flowNode.Tools.push(tool);\r\n                }\r\n                flowNode.setBizConclusions(bpmnModel, bizActivity.bizActions);\r\n            } else {\r\n                flowNode.BizActivityID = \"\";\r\n                flowNode.initConclusions(bpmnModel);\r\n            }\r\n        }\r\n\r\n        return flowNode;\r\n    }\r\n\r\n    createDiagramElement(): BPMNShape {\r\n        if (this.bizActivity != null) {\r\n            this.imgUrls = {\r\n                [FlowNodeState.Default]: WfConstants.IMAGE_PATH + \"/bizActivity.png\",\r\n                [FlowNodeState.Selected]: WfConstants.IMAGE_PATH + \"/bizActivity_select.svg\",\r\n            };\r\n        }\r\n\r\n        const shape = super.createDiagramElement();\r\n        return shape;\r\n    }\r\n\r\n    getFarrisPropConfig(): FarrisPropConfigWithData {\r\n        return this.getFarrisPropConfigByIsOperation();\r\n    }\r\n\r\n    getFarrisPropConfigByIsOperation(isOperation: boolean = false) {\r\n        const editorUi = this.editorUi;\r\n        let extendList = [];\r\n        if (editorUi.procExtProps && editorUi.procExtProps.length > 0) {\r\n            extendList = JSON.parse(JSON.stringify(editorUi.procExtProps)).sort((a, b) => {\r\n                return a.sortOrder - b.sortOrder;\r\n            });\r\n        }\r\n        extendList = extendList.sort((a, b) => {\r\n            return a.sortOrder - b.sortOrder;\r\n        })\r\n\r\n        let userAct = this.flowElement;\r\n        let basicProperty: ElementPropertyConfig = new ElementPropertyConfig();\r\n        let propertyData: any = {};\r\n\r\n        basicProperty.categoryId = 'basicProperty';\r\n        basicProperty.categoryName = mxResources.get('basicInformation');\r\n        basicProperty.tabId = 'basic';\r\n        basicProperty.tabName = mxResources.get('basicAttributes')\r\n        basicProperty.properties = [\r\n            { propertyID: UserActivityPropertyKeys.Name, propertyName: mxResources.get('name'), propertyType: 'string', visible: !this.editorUi.multiLangEnabled },\r\n            { propertyID: UserActivityPropertyKeys.NameLanguage, propertyName: mxResources.get('nameLanguage'), propertyType: 'multiLanguage', visible: this.editorUi.multiLangEnabled },\r\n            { propertyID: UserActivityPropertyKeys.Id, propertyName: mxResources.get('id'), propertyType: 'string', readonly: true },\r\n            { propertyID: UserActivityPropertyKeys.wf_TitleExpression, propertyName: mxResources.get('wfTitleExpression'), propertyType: 'modal' },\r\n        ];\r\n\r\n        let performerProperty: ElementPropertyConfig = new ElementPropertyConfig();\r\n        performerProperty.categoryId = 'performerProperty';\r\n        performerProperty.categoryName = mxResources.get('participant');\r\n        performerProperty.tabId = 'basic';\r\n        performerProperty.tabName = mxResources.get('basicAttributes')\r\n        performerProperty.properties = [\r\n            { propertyID: UserActivityPropertyKeys.ParticipantSchemes, propertyName: mxResources.get('participantSchemes'), propertyType: 'modal' },\r\n            { propertyID: UserActivityPropertyKeys.ParticipantOptions, propertyName: mxResources.get('participantOptions'), propertyType: 'modal' },\r\n        ];\r\n        // if (userAct.AssignmentStrategy !== AssignmentStrategy.ASSIGN) {\r\n        //     performerProperty.properties.push(\r\n        //         { propertyID: UserActivityPropertyKeys.AssignStrategy, propertyName: '分配策略', propertyType: 'modal' }\r\n        //     );\r\n        // } else {\r\n        //     performerProperty.properties = performerProperty.properties.concat(\r\n        //         [{ propertyID: UserActivityPropertyKeys.AssignStrategy, propertyName: '分配策略', propertyType: 'modal' },\r\n        //         { propertyID: UserActivityPropertyKeys.AssignPerformer, propertyName: '备选办理人', propertyType: 'modal' }]);\r\n        // }\r\n        if (!isOperation) {\r\n            if (userAct.ExecuteWorkItemMode === ExecuteWorkItemMode.Preempt) {\r\n                performerProperty.properties.push(\r\n                    { propertyID: UserActivityPropertyKeys.CompleteStrategy, propertyName: mxResources.get('completeStrategy'), propertyType: 'select' },\r\n                );\r\n                propertyData[UserActivityPropertyKeys.CompleteStrategy] = userAct.ExecuteWorkItemMode;\r\n            } else {\r\n                performerProperty.properties = performerProperty.properties.concat([\r\n                    { propertyID: UserActivityPropertyKeys.CompleteStrategy, propertyName: mxResources.get('completeStrategy'), propertyType: 'select' },\r\n                    { propertyID: UserActivityPropertyKeys.SignRule, propertyName: mxResources.get('signRule'), propertyType: 'modal' },\r\n                ]);\r\n                propertyData[UserActivityPropertyKeys.CompleteStrategy] = userAct.ExecuteWorkItemMode;\r\n                propertyData[UserActivityPropertyKeys.SignRule] = userAct.CounterSignRules;\r\n            }\r\n        }\r\n\r\n        let approvalProperty: ElementPropertyConfig = new ElementPropertyConfig();\r\n        approvalProperty.categoryId = 'approvalProperty';\r\n        approvalProperty.categoryName = mxResources.get('operationsManage');\r\n        approvalProperty.tabId = 'approvalProperty';\r\n        approvalProperty.tabName = mxResources.get('operationsConfig');\r\n        approvalProperty.properties = [\r\n            { propertyID: UserActivityPropertyKeys.ApprovalItems, propertyName: mxResources.get('approvalItems'), propertyType: 'modal' },\r\n            { propertyID: UserActivityPropertyKeys.wf_CustomizeAction, propertyName: mxResources.get('wfCustomizeAction'), propertyType: 'modal' },\r\n        ];\r\n        // 审批活动节点含“驳回”审批动作时，属性框支持驳回规则属性\r\n        if (userAct.Conclusions && this.isBackConclusionExist(userAct.Conclusions)) {\r\n            approvalProperty.properties.push(\r\n                { propertyID: UserActivityPropertyKeys.BackWardRule, propertyName: mxResources.get('backWardRule'), propertyType: 'modal' },\r\n            );\r\n            propertyData[UserActivityPropertyKeys.BackWardRule] = userAct.BackWardRule;\r\n        }\r\n        approvalProperty.properties = approvalProperty.properties.concat([\r\n            { propertyID: UserActivityPropertyKeys.Retrievable, propertyName: mxResources.get('retrievable'), propertyType: 'select' },\r\n        ]);\r\n        if (!isOperation) {\r\n            approvalProperty.properties = approvalProperty.properties.concat([\r\n                { propertyID: UserActivityPropertyKeys.AddSignFrontAble, propertyName: mxResources.get('addSignFrontAble'), propertyType: 'modal' },\r\n                { propertyID: UserActivityPropertyKeys.AddSignBehindAble, propertyName: mxResources.get('addSignBehindAble'), propertyType: 'modal' },\r\n            ]);\r\n        }\r\n        if (editorUi.generalConfig.enableTransfer) {\r\n            approvalProperty.properties = approvalProperty.properties.concat([\r\n                { propertyID: UserActivityPropertyKeys.transferScope, propertyName: mxResources.get('transferScope'), propertyType: 'modal' },\r\n            ]);\r\n        }\r\n        approvalProperty.properties = approvalProperty.properties.concat([\r\n            { propertyID: UserActivityPropertyKeys.NotifyAble, propertyName: mxResources.get('notifyAble'), propertyType: 'modal' },\r\n            { propertyID: UserActivityPropertyKeys.urgeHandleRule, propertyName: mxResources.get('urgeHandleRule'), propertyType: 'modal' }\r\n        ]);\r\n        if (userAct.SelectTargetAble) {\r\n            approvalProperty.properties = approvalProperty.properties.concat([\r\n                { propertyID: UserActivityPropertyKeys.SelectTargetAble, propertyName: mxResources.get('selectTargetAble'), propertyType: 'select' },\r\n                { propertyID: UserActivityPropertyKeys.JumpScope, propertyName: mxResources.get('jumpScope'), propertyType: 'modal' },\r\n            ]);\r\n            propertyData[UserActivityPropertyKeys.SelectTargetAble] = userAct.SelectTargetAble;\r\n            propertyData[UserActivityPropertyKeys.JumpScope] = userAct.JumpScope;\r\n        } else {\r\n            approvalProperty.properties = approvalProperty.properties.concat([\r\n                { propertyID: UserActivityPropertyKeys.SelectTargetAble, propertyName: mxResources.get('selectTargetAble'), propertyType: 'select' },\r\n            ]);\r\n            propertyData[UserActivityPropertyKeys.SelectTargetAble] = userAct.SelectTargetAble;\r\n        }\r\n\r\n        if (userAct.otherAssignNodes) {\r\n            approvalProperty.properties = approvalProperty.properties.concat([\r\n                { propertyID: UserActivityPropertyKeys.otherAssignNodes, propertyName: mxResources.get('otherAssignNodes'), propertyType: 'select' },\r\n                // { propertyID: UserActivityPropertyKeys.otherAssignActivities, propertyName: mxResources.get('otherAssignActivities'), propertyType: 'modal' },\r\n                { propertyID: UserActivityPropertyKeys.otherAssignActivityNodeInfos, propertyName: mxResources.get('otherAssignActivityNodeInfos'), propertyType: 'modal' },\r\n            ]);\r\n            propertyData[UserActivityPropertyKeys.otherAssignNodes] = true;\r\n            // propertyData[UserActivityPropertyKeys.otherAssignActivities] = userAct.otherAssignNodes.otherAssignActivities;\r\n            propertyData[UserActivityPropertyKeys.otherAssignActivityNodeInfos] = userAct.otherAssignNodes.otherAssignActivityNodeInfos || userAct.otherAssignNodes.otherAssignActivityNodeInfos;\r\n            if(userAct.otherAssignNodes.otherAssignActivities){\r\n                userAct.otherAssignNodes.otherAssignActivities = null;\r\n            }\r\n\r\n        } else {\r\n            approvalProperty.properties = approvalProperty.properties.concat([\r\n                { propertyID: UserActivityPropertyKeys.otherAssignNodes, propertyName: mxResources.get('otherAssignNodes'), propertyType: 'select' }\r\n            ]);\r\n            propertyData[UserActivityPropertyKeys.otherAssignNodes] = false;\r\n        }\r\n\r\n        let eventListeners: ElementPropertyConfig = new ElementPropertyConfig();\r\n        eventListeners.categoryId = 'eventListeners';                                                      // 活动选项（表单定义+活动构件）\r\n        eventListeners.categoryName = mxResources.get('eventListeners');\r\n        eventListeners.tabId = 'advanced';\r\n        eventListeners.tabName = mxResources.get('advancedAttributes');\r\n        eventListeners.properties = [\r\n            { propertyID: UserActivityPropertyKeys.Tools, propertyName: mxResources.get('tools'), propertyType: 'modal' },\r\n            { propertyID: UserActivityPropertyKeys.checkConditions, propertyName: mxResources.get('checkConditions'), propertyType: 'modal' },\r\n            { propertyID: UserActivityPropertyKeys.variableSettings, propertyName: mxResources.get('variableSettings'), propertyType: 'modal' }\r\n        ];\r\n\r\n        let ApprovalSettings: ElementPropertyConfig = new ElementPropertyConfig();\r\n        ApprovalSettings.categoryId = 'ApprovalSettings';                                                      // 活动选项（表单定义+活动构件）\r\n        ApprovalSettings.categoryName = mxResources.get('approvalSettings');\r\n        ApprovalSettings.tabId = 'advanced';\r\n        ApprovalSettings.tabName = mxResources.get('advancedAttributes');\r\n        ApprovalSettings.properties = [\r\n            { propertyID: UserActivityPropertyKeys.anonymousSet, propertyName: mxResources.get('anonymousSet'), propertyType: 'modal' },\r\n            { propertyID: UserActivityPropertyKeys.approvalPivotConfig, propertyName: mxResources.get('approvalPivotConfig'), propertyType: 'modal' },\r\n            { propertyID: UserActivityPropertyKeys.imageSettings, propertyName: mxResources.get('imageSettings'), propertyType: 'modal' },\r\n            { propertyID: UserActivityPropertyKeys.MultiInstanceLoopCharacteristics, propertyName: mxResources.get('multiInstanceLoopCharacteristics'), propertyType: 'modal' }\r\n        ];\r\n        propertyData[UserActivityPropertyKeys.MultiInstanceLoopCharacteristics] = userAct.LoopCharacteristics;\r\n\r\n        let taskTimeliness: ElementPropertyConfig = new ElementPropertyConfig();\r\n        taskTimeliness.categoryId = 'taskTimeliness';                                                      // 活动选项（表单定义+活动构件）\r\n        taskTimeliness.categoryName = mxResources.get('taskTimeliness');\r\n        taskTimeliness.tabId = 'advanced';\r\n        taskTimeliness.tabName = mxResources.get('advancedAttributes');\r\n        taskTimeliness.properties = [\r\n            { propertyID: UserActivityPropertyKeys.timeLimitControl, propertyName: mxResources.get('timeLimitControl'), propertyType: 'modal' },\r\n            { propertyID: UserActivityPropertyKeys.messageNotice, propertyName: mxResources.get('messageNotice'), propertyType: 'modal' },\r\n        ];\r\n\r\n        let formDef = new ElementPropertyConfig();\r\n        formDef.categoryId = 'formDef';\r\n        formDef.categoryName = mxResources.get('formDef');\r\n        formDef.tabId = 'basic';\r\n        formDef.tabName = mxResources.get('basicAttributes');\r\n        formDef.properties = [\r\n            { propertyID: UserActivityPropertyKeys.DisplayTerminal, propertyName: mxResources.get('displayTerminal'), propertyType: 'select' },\r\n            { propertyID: UserActivityPropertyKeys.wf_ExecuteForms_PC, propertyName: mxResources.get('pcForm'), propertyType: 'modal' },\r\n            { propertyID: UserActivityPropertyKeys.wf_ExecuteForms_Mobile, propertyName: mxResources.get('webForm'), propertyType: 'modal' },\r\n        ];\r\n\r\n        // 扩展属性分group处理，每个group包含父级属性和属于它的子扩展属性\r\n        const groupList = new Array();\r\n        for (const extend of extendList) {\r\n            if (!extend.parentId) {\r\n                const group = { parent: extend, childs: new Array() };\r\n                for (const e of extendList) {\r\n                    if (e.parentId === extend.id) {\r\n                        group.childs.push(e);\r\n                    }\r\n                }\r\n                groupList.push(group)\r\n            }\r\n        }\r\n        // 没有扩展属性值的时候不显示扩展属性一栏\r\n        if (groupList && groupList.length > 0) {\r\n            let ExtendPropertyConfig: ElementPropertyConfig = new ElementPropertyConfig();\r\n            ExtendPropertyConfig.categoryId = 'extendPropertyConfig';\r\n            ExtendPropertyConfig.categoryName = mxResources.get('extendPropertyConfig');\r\n            ExtendPropertyConfig.tabId = 'advanced';\r\n            ExtendPropertyConfig.tabName = mxResources.get('advancedAttributes');\r\n            ExtendPropertyConfig.properties = new Array();\r\n            for (const g of groupList) {\r\n                ExtendPropertyConfig.properties.push(\r\n                    { propertyID: g.parent.id, propertyName: g.parent.propertyTitle, propertyType: 'modal' },\r\n                );\r\n            }\r\n            this.setPropertyData(userAct, propertyData, groupList);\r\n\r\n            return {\r\n                propertyConfig: [basicProperty, performerProperty, formDef, approvalProperty, eventListeners, taskTimeliness, ApprovalSettings, ExtendPropertyConfig],\r\n                propertyData: propertyData\r\n            }\r\n        } else {\r\n            this.setPropertyData(userAct, propertyData, groupList);\r\n            return {\r\n                propertyConfig: [basicProperty, performerProperty, formDef, approvalProperty, eventListeners, taskTimeliness, ApprovalSettings],\r\n                propertyData: propertyData\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 判断是否存在反向流程动作\r\n     * @param conclusions\r\n     */\r\n    isBackConclusionExist(conclusions: ConclusionItem[]) {\r\n        for (let conclusion of conclusions) {\r\n            if (conclusion.WorkFlowAction === WorkFlowAction.Backward) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n    /**\r\n     * 组织UserActivity的属性值propertyData\r\n     * @param act\r\n     * @param propertyData\r\n     */\r\n    setPropertyData(act: UserActivity, propertyData: any, groupList: any): void {\r\n        propertyData[UserActivityPropertyKeys.Id] = act.Id;\r\n        propertyData[UserActivityPropertyKeys.ClrTypeID] = act.ClrTypeID;\r\n        propertyData[UserActivityPropertyKeys.Name] = act.Name;\r\n        propertyData[UserActivityPropertyKeys.NameLanguage] = act.NameLanguage || {\r\n            \"zh-CHS\": act.Name,\r\n        };\r\n\r\n        //活动传递bizActivityId\r\n        propertyData[UserActivityPropertyKeys.BizActivityID] = act.BizActivityID;\r\n\r\n        // 变量设置+流程变量\r\n        propertyData[UserActivityPropertyKeys.variableSettings] = PropertyHelper.getVariableSettings(act.Model, act.variableSettings);\r\n\r\n        propertyData[UserActivityPropertyKeys.ParticipantSchemes] = this.getParticipantInfo(act);\r\n        propertyData[UserActivityPropertyKeys.ParticipantOptions] = this.getParticipantOptions(act);\r\n        // if (userAct.AssignmentStrategy === AssignmentStrategy.ASSIGN) {\r\n        //     propertyData[UserActivityPropertyKeys.AssignPerformer] = this.getPotentialOwnerImpl(userAct);\r\n        // }\r\n\r\n        propertyData[UserActivityPropertyKeys.ApprovalItems] = act.Conclusions;\r\n        propertyData[UserActivityPropertyKeys.Tools] = PropertyHelper.getBizComponentList(act.Tools as Array<Component>);\r\n        propertyData[UserActivityPropertyKeys.wf_CustomizeAction] = act.customizeActions || [];\r\n\r\n        propertyData[UserActivityPropertyKeys.AssignStrategy] = this.getAssignStrategy(act);\r\n\r\n        propertyData[UserActivityPropertyKeys.Retrievable] = act.Retrievable;\r\n        propertyData[UserActivityPropertyKeys.SelectBranch] = act.SelectBranch;\r\n        propertyData[UserActivityPropertyKeys.AddSignFrontAble] = this.getSignFrontInfo(act);\r\n        propertyData[UserActivityPropertyKeys.AddSignBehindAble] = this.getSignBehindInfo(act);\r\n        propertyData[UserActivityPropertyKeys.transferScope] = this.getTransferScopeInfo(act);\r\n        propertyData[UserActivityPropertyKeys.NotifyAble] = this.getNotifyAble(act);\r\n        propertyData[UserActivityPropertyKeys.timeLimitControl] = this.getTimeLimitInfo(act);\r\n\r\n        propertyData[UserActivityPropertyKeys.wf_TitleExpression] = act.taskTitle ? (act.taskTitle.valueLanguage ? act.taskTitle.valueLanguage : act.taskTitle.value) : '';\r\n        propertyData[UserActivityPropertyKeys.anonymousSet] = {\r\n            isAnonymity: act.anonymous,\r\n            anonymous: act.anonymousText\r\n        };\r\n        propertyData[UserActivityPropertyKeys.messageNotice] = PropertyHelper.getMessageNotices(act.messageNotices);\r\n        // 影像设置\r\n        propertyData[UserActivityPropertyKeys.imageSettings] = act.imageSettings;\r\n        propertyData[UserActivityPropertyKeys.wf_ExecuteForms_PC] =\r\n            act.ExecuteForms ? act.ExecuteForms.find(e => e.TerminalType === 'PC') : null;\r\n        propertyData[UserActivityPropertyKeys.wf_ExecuteForms_Mobile] =\r\n            act.ExecuteForms ? act.ExecuteForms.find(e => e.TerminalType === 'MOBILE') : null;\r\n        propertyData[UserActivityPropertyKeys.approvalPivotConfig] = act.approvalPivotConfig;\r\n        propertyData[UserActivityPropertyKeys.DisplayTerminal] = act.DisplayTerminal ? act.DisplayTerminal : DisplayTerminal.ALL;\r\n        propertyData[UserActivityPropertyKeys.urgeHandleRule] = this.getUrgeHandleRule(act);\r\n        for (const g of groupList) {\r\n            // 取回模型上的value值给到扩展属性组件里\r\n            if (act.extendProperties && act.extendProperties.length > 0) {\r\n                g.childs.sort((a, b) => {\r\n                    return a.sortOrder - b.sortOrder;\r\n                }).forEach((d: any) => {\r\n                    act.extendProperties.forEach(e => {\r\n                        if (e.key == d.code) {\r\n                            d.value = e.value;\r\n                        }\r\n                    });\r\n                });\r\n            }\r\n            propertyData[g.parent.id] = g.childs;\r\n        }\r\n        propertyData[UserActivityPropertyKeys.checkConditions] = this.getCheckConditions(act);\r\n\r\n    }\r\n\r\n    getParticipantInfo(userActivity: UserActivity): ParticipantInfo {\r\n        const partiInfo = new ParticipantInfo();\r\n        partiInfo.assignStrategy.assignStrategy = userActivity.AssignmentStrategy;\r\n        const roles = userActivity.GetResourceRoles().filter(role => role instanceof HumanPerformerImpl) as Array<HumanPerformerImpl>;\r\n        partiInfo.humanPerformerList = PropertyHelper.getPerformerList(roles);\r\n        if (userActivity.AssignmentStrategy === AssignmentStrategy.ASSIGN) {\r\n            if (userActivity.AssignPerformerConfig) {\r\n                const assignConfig = new AssignConfig();\r\n                assignConfig.operator = userActivity.AssignPerformerConfig.Operator;\r\n                assignConfig.multiSelect = userActivity.AssignPerformerConfig.MultiSelect;\r\n                assignConfig.necessary = userActivity.AssignPerformerConfig.Necessary;\r\n                partiInfo.assignStrategy.assignConfig = assignConfig;\r\n                partiInfo.isAllScope = userActivity.AssignPerformerConfig.AllowGlobalAssign;\r\n            }\r\n            const roles = userActivity.GetResourceRoles().filter(role => role instanceof PotentialOwnerImpl) as Array<PotentialOwnerImpl>;\r\n            partiInfo.potentialOwnerList = PropertyHelper.getPerformerList(roles);\r\n        }\r\n\r\n        return partiInfo;\r\n    }\r\n\r\n    getParticipantOptions(userActivity: UserActivity) {\r\n        const options: any = {};\r\n        if (userActivity.ParticipantSetting != null) {\r\n            options.ExclusionPerformers = userActivity.ParticipantSetting.ExclusionPerformers;\r\n            options.NoPerformerStrategy = userActivity.ParticipantSetting.NoPerformerStrategy;\r\n            options.HistoricFirst = userActivity.ParticipantSetting.HistoricFirst;\r\n            options.automaticPerformers = userActivity.ParticipantSetting.automaticPerformers;\r\n        }\r\n        return options;\r\n    }\r\n\r\n    getAssignStrategy(userActivity: UserActivity): AssignStrategy {\r\n        const assignStrategy = new AssignStrategy();\r\n        assignStrategy.assignStrategy = userActivity.AssignmentStrategy;\r\n        if (userActivity.AssignPerformerConfig) {\r\n            const assignConfig = new AssignConfig();\r\n            assignConfig.operator = userActivity.AssignPerformerConfig.Operator;\r\n            assignConfig.multiSelect = userActivity.AssignPerformerConfig.MultiSelect;\r\n            assignConfig.necessary = userActivity.AssignPerformerConfig.Necessary;\r\n            assignStrategy.assignConfig = assignConfig;\r\n        }\r\n        return assignStrategy;\r\n    }\r\n\r\n\r\n    getSignFrontInfo(userActivity: UserActivity): ActionOrganizationScopeDesign {\r\n        const signFrontTest = new ActionOrganizationScopeDesign();\r\n        signFrontTest.action = ActionScope.AddSignFront as any;\r\n        if (userActivity.AddSignFrontAble) {\r\n            signFrontTest.enable = true;\r\n            const roles = userActivity.dynamicParticipants.filter(r => r.actionScope === ActionScope.AddSignFront);\r\n            let res = roles.find(r => (r as any).organizationLevel && !(r as any).order);\r\n            let list : Participant[] = [];\r\n            if(res) {\r\n                const organization = new OrganizationParticipant;\r\n                organization.id = res.id;\r\n                organization.type = res.ClrTypeID;\r\n                organization.name = res.name;\r\n                organization.actionScope = res.actionScope as any;\r\n                organization.organizationLevel = (res as any).organizationLevel;\r\n                organization.organizationId = (res as any).organizationId;\r\n                organization.organizationCode = (res as any).organizationCode;\r\n                organization.organizationName = (res as any).organizationName;\r\n                organization.includeChildren = (res as any).includeChildren;\r\n                organization.parentsUntil = (res as any).parentsUntil;\r\n                organization.tag = (res as any).tag;\r\n                organization.order = 1;\r\n                list.push(organization);\r\n            }else {\r\n                list = PropertyHelper.getPerformerListTest(roles);\r\n            }\r\n            signFrontTest.scope = new OrganizationPotentialOwner();\r\n            if(list && list.length > 0) {\r\n                signFrontTest.scope.participantInfo = new ParticipantInfo();\r\n                signFrontTest.scope.participantInfo.potentialOwnerList = list;\r\n                signFrontTest.scope.participantInfo.isAllScope = true;\r\n            }else {\r\n                signFrontTest.scope.participantInfo = new ParticipantInfo();\r\n                signFrontTest.scope.participantInfo.isAllScope = false;\r\n            }\r\n        } else {\r\n            signFrontTest.enable = false;\r\n        }\r\n        return signFrontTest;\r\n    }\r\n    getSignBehindInfo(userActivity: UserActivity): ActionOrganizationScopeDesign {\r\n        const signBehindTest = new ActionOrganizationScopeDesign();\r\n        signBehindTest.action = ActionScope.AddSignBehind as any;\r\n        if (userActivity.AddSignBehindAble) {\r\n            signBehindTest.enable = true;\r\n            const roles = userActivity.dynamicParticipants.filter(r => r.actionScope === ActionScope.AddSignBehind);\r\n            let res = roles.find(r => (r as any).organizationLevel && !(r as any).order);\r\n            let list : Participant[] = [];\r\n            if(res) {\r\n                const organization = new OrganizationParticipant;\r\n                organization.id = res.id;\r\n                organization.type = res.ClrTypeID;\r\n                organization.name = res.name;\r\n                organization.actionScope = res.actionScope as any;\r\n                organization.organizationLevel = (res as any).organizationLevel;\r\n                organization.organizationId = (res as any).organizationId;\r\n                organization.organizationCode = (res as any).organizationCode;\r\n                organization.organizationName = (res as any).organizationName;\r\n                organization.includeChildren = (res as any).includeChildren;\r\n                organization.parentsUntil = (res as any).parentsUntil;\r\n                organization.tag = (res as any).tag;\r\n                organization.order = 1;\r\n                list.push(organization);\r\n            }else {\r\n                list = PropertyHelper.getPerformerListTest(roles);\r\n            }\r\n            signBehindTest.scope = new OrganizationPotentialOwner();\r\n            if(list && list.length > 0) {\r\n                signBehindTest.scope.participantInfo = new ParticipantInfo();\r\n                signBehindTest.scope.participantInfo.potentialOwnerList = list;\r\n                signBehindTest.scope.participantInfo.isAllScope = true;\r\n            }else {\r\n                signBehindTest.scope.participantInfo = new ParticipantInfo();\r\n                signBehindTest.scope.participantInfo.isAllScope = false;\r\n            }\r\n        } else {\r\n            signBehindTest.enable = false;\r\n        }\r\n        return signBehindTest;\r\n    }\r\n    getTransferScopeInfo(userActivity: UserActivity): ActionOrganizationScopeDesign {\r\n        const transferScopeTest = new ActionOrganizationScopeDesign();\r\n        transferScopeTest.action = ActionScope.Transfer as any;\r\n\r\n        if (userActivity.transferAble) {\r\n            transferScopeTest.enable = true;\r\n            const roles = userActivity.dynamicParticipants.filter(r => r.actionScope === ActionScope.Transfer);\r\n            let res = roles.find(r => (r as any).organizationLevel && !(r as any).order);\r\n            let list : Participant[] = [];\r\n            if(res) {\r\n                const organization = new OrganizationParticipant;\r\n                organization.id = res.id;\r\n                organization.type = res.ClrTypeID;\r\n                organization.name = res.name;\r\n                organization.actionScope = res.actionScope as any;\r\n                organization.organizationLevel = (res as any).organizationLevel;\r\n                organization.organizationId = (res as any).organizationId;\r\n                organization.organizationCode = (res as any).organizationCode;\r\n                organization.organizationName = (res as any).organizationName;\r\n                organization.includeChildren = (res as any).includeChildren;\r\n                organization.parentsUntil = (res as any).parentsUntil;\r\n                organization.tag = (res as any).tag;\r\n                organization.order = 1;\r\n                list.push(organization);\r\n            }else {\r\n                list = PropertyHelper.getPerformerListTest(roles);\r\n            }\r\n            transferScopeTest.scope = new OrganizationPotentialOwner();\r\n            if(list && list.length > 0) {\r\n                transferScopeTest.scope.participantInfo = new ParticipantInfo();\r\n                transferScopeTest.scope.participantInfo.potentialOwnerList = list;\r\n                transferScopeTest.scope.participantInfo.isAllScope = true;\r\n            }else {\r\n                transferScopeTest.scope.participantInfo = new ParticipantInfo();\r\n                transferScopeTest.scope.participantInfo.isAllScope = false;\r\n            }\r\n        } else {\r\n            transferScopeTest.enable = userActivity.transferAble;\r\n        }\r\n        return transferScopeTest;\r\n    }\r\n    getNotifyAble(userActivity: UserActivity): ActionOrganizationScopeDesign {\r\n        const notifyScopeTest = new ActionOrganizationScopeDesign();\r\n        notifyScopeTest.action = ActionScope.Notify as any;\r\n\r\n        if (userActivity.NotifyAble) {\r\n            notifyScopeTest.enable = true;\r\n            const roles = userActivity.dynamicParticipants.filter(r => r.actionScope === ActionScope.Notify);\r\n            let res = roles.find(r => (r as any).organizationLevel && !(r as any).order);\r\n            let list : Participant[] = [];\r\n            if(res) {\r\n                const organization = new OrganizationParticipant;\r\n                organization.id = res.id;\r\n                organization.type = res.ClrTypeID;\r\n                organization.name = res.name;\r\n                organization.actionScope = res.actionScope as any;\r\n                organization.organizationLevel = (res as any).organizationLevel;\r\n                organization.organizationId = (res as any).organizationId;\r\n                organization.organizationCode = (res as any).organizationCode;\r\n                organization.organizationName = (res as any).organizationName;\r\n                organization.includeChildren = (res as any).includeChildren;\r\n                organization.parentsUntil = (res as any).parentsUntil;\r\n                organization.tag = (res as any).tag;\r\n                organization.order = 1;\r\n                list.push(organization);\r\n            }else {\r\n                list = PropertyHelper.getPerformerListTest(roles);\r\n            }\r\n            notifyScopeTest.scope = new OrganizationPotentialOwner();\r\n            if(list && list.length > 0) {\r\n                notifyScopeTest.scope.participantInfo = new ParticipantInfo();\r\n                notifyScopeTest.scope.participantInfo.potentialOwnerList = list;\r\n                notifyScopeTest.scope.participantInfo.isAllScope = true;\r\n            }else {\r\n                notifyScopeTest.scope.participantInfo = new ParticipantInfo();\r\n                notifyScopeTest.scope.participantInfo.isAllScope = false;\r\n            }\r\n        } else {\r\n            notifyScopeTest.enable = userActivity.NotifyAble;\r\n        }\r\n        return notifyScopeTest;\r\n    }\r\n    getTimeLimitInfo(userActivity: UserActivity): TimeLimitControlInfo {\r\n        if (userActivity.timeLimitControl) {\r\n            const timeLimit = new TimeLimitControlInfo();\r\n            timeLimit.enable = userActivity.timeLimitControl.enable;\r\n            timeLimit.tag = userActivity.timeLimitControl.tag;\r\n            timeLimit.dueTime = userActivity.timeLimitControl.dueTime;\r\n            timeLimit.timeUnit = userActivity.timeLimitControl.timeUnit;\r\n            timeLimit.expireOperations = new Array();\r\n            if (userActivity.timeLimitControl.expireOperations && userActivity.timeLimitControl.expireOperations.length > 0) {\r\n                const operations = userActivity.timeLimitControl.expireOperations;\r\n                for (const o of operations) {\r\n                    if (o.ClrTypeID.indexOf('SendMessageExpireOperation') > 0) {\r\n                        const operation = o as SendMessageExpireOperation;\r\n                        const sendMessage = new SendMessageExpireOperationInfo();\r\n                        sendMessage.timeDuration = operation.timeDuration;\r\n                        sendMessage.durationType = operation.durationType;\r\n                        sendMessage.timeUnit = operation.timeUnit;\r\n                        sendMessage.message = operation.message;\r\n                        sendMessage.sendType = operation.sendType;\r\n                        sendMessage.subject = operation.subject;\r\n                        sendMessage.id = operation.id;\r\n                        sendMessage.receiver = operation.receiver;\r\n                        sendMessage.cycleEnable = operation.cycleEnable;\r\n                        sendMessage.cycleTime = operation.cycleTime;\r\n                        sendMessage.cycleTimeUnit = operation.cycleTimeUnit;\r\n                        sendMessage.operationTypeName = operation.operationTypeName ? operation.operationTypeName : 'SendMessageExpireOperation';\r\n                        if (operation.smsMessageTemplate) {\r\n                            const smsTemplate: any = new Object;\r\n                            smsTemplate.code = operation.smsMessageTemplate.code;\r\n                            smsTemplate.content = operation.smsMessageTemplate.content;\r\n                            smsTemplate.smsMessageVariables = new Array();\r\n                            if (operation.smsMessageTemplate.smsMessageVariables && operation.smsMessageTemplate.smsMessageVariables.length > 0) {\r\n                                for (const v of operation.smsMessageTemplate.smsMessageVariables) {\r\n                                    const variable: any = new Object;\r\n                                    variable.id = WfDesignerUtils.createNM();\r\n                                    variable.code = v.code;\r\n                                    variable.value = v.value;\r\n                                    variable.tag = v.tag;\r\n                                    smsTemplate.smsMessageVariables.push(variable);\r\n                                }\r\n                            }\r\n                            sendMessage.smsMessageTemplate = smsTemplate;\r\n                        }\r\n                        timeLimit.expireOperations.push(sendMessage);\r\n                    } else if (o.ClrTypeID.indexOf('AutoHandleExpireOperation') > 0) {\r\n                        const operation = o as AutoHandleExpireOperation;\r\n                        const autoHandle = new AutoHandleExpireOperationInfo();\r\n                        autoHandle.id = operation.id;\r\n                        autoHandle.durationType = operation.durationType;\r\n                        autoHandle.timeDuration = operation.timeDuration;\r\n                        autoHandle.timeUnit = operation.timeUnit;\r\n                        autoHandle.operationTypeName = operation.operationTypeName ? operation.operationTypeName : 'AutoHandleExpireOperation';\r\n                        autoHandle.autoHandleType = operation.autoHandleType;\r\n                        autoHandle.message = operation.message;\r\n                        timeLimit.expireOperations.push(autoHandle);\r\n                    }\r\n\r\n                }\r\n            }\r\n            return timeLimit;\r\n        }\r\n        return null;\r\n    }\r\n\r\n    getUrgeHandleRule(userActivity: UserActivity) {\r\n        if (!userActivity.urgeHandleRule) {\r\n            return null;\r\n        }\r\n        const rule = userActivity.urgeHandleRule;\r\n        let urgeHandleRule: any = {\r\n            urgeHandleAble: rule.urgeHandleAble,\r\n            sendType: rule.sendType,\r\n            earlyTime: rule.earlyTime,\r\n            intervalTime: rule.intervalTime,\r\n            urgeMessageSubject: rule.urgeMessageSubject,\r\n            urgeMessageContent: rule.urgeMessageContent,\r\n            addReminder: rule.addReminder,\r\n            subjectEditable: rule.subjectEditable,\r\n            contentEditable: rule.contentEditable\r\n        }\r\n        if (rule.smsMessageTemplate) {\r\n            const smsTemplate: any = new Object;\r\n            smsTemplate.code = rule.smsMessageTemplate.code;\r\n            smsTemplate.content = rule.smsMessageTemplate.content;\r\n            smsTemplate.smsMessageVariables = new Array();\r\n            if (rule.smsMessageTemplate.smsMessageVariables && rule.smsMessageTemplate.smsMessageVariables.length > 0) {\r\n                for (const v of rule.smsMessageTemplate.smsMessageVariables) {\r\n                    const variable: any = new Object;\r\n                    variable.id = WfDesignerUtils.createNM();\r\n                    variable.code = v.code;\r\n                    variable.value = v.value;\r\n                    variable.tag = v.tag;\r\n                    smsTemplate.smsMessageVariables.push(variable);\r\n                }\r\n            }\r\n            urgeHandleRule.smsMessageTemplate = smsTemplate;\r\n        }\r\n        return urgeHandleRule;\r\n    }\r\n\r\n    getCheckConditions(userActivity: UserActivity): Array<any> {\r\n        if (userActivity.checkConditions && userActivity.checkConditions.length > 0) {\r\n            return userActivity.checkConditions.map(c => ({\r\n                value: c.value,\r\n                checkTime: c.checkTime,\r\n                errorTips: c.errorTips ? Array.from(c.errorTips).reduce((obj, [key, value]) => Object.assign(obj, { [key]: value }), {}) : null\r\n            }));\r\n        }\r\n        return null;\r\n    }\r\n\r\n    updateProps(obj: any): void {\r\n        this.updatePropsByIsOperation(obj);\r\n    }\r\n\r\n    updatePropsByIsOperation(obj: any, isOperation: boolean = false) {\r\n        const editorUi = this.editorUi;\r\n        const userActivity = this.flowElement;\r\n        const propertyId: string = obj.propertyID;\r\n        switch (propertyId) {\r\n            case UserActivityPropertyKeys.ParticipantSchemes: // 参与者属性\r\n                this.updateParticipant(userActivity, obj, isOperation);\r\n                break;\r\n            case UserActivityPropertyKeys.ParticipantOptions: // 参与者选项\r\n                this.updateParticipantOptions(userActivity, obj);\r\n                break;\r\n            // case UserActivityPropertyKeys.AssignPerformer:\r\n            //     this.updatePotentialOwnerImpl(graph.bpmnModel, userActivity, obj);\r\n            //     break;\r\n            // case UserActivityPropertyKeys.AssignStrategy:\r\n            //     this.updateAssignStrategy(graph, userActivity, obj, isOperation);\r\n            //     break;\r\n            // case UserActivityPropertyKeys.OperatorConfig:\r\n            //     this.updateOperatorConfig(userActivity, obj);\r\n            //     break;\r\n            case UserActivityPropertyKeys.CompleteStrategy:\r\n                this.resetExecuteWorkItemMode(userActivity, obj, isOperation);\r\n                break;\r\n            case UserActivityPropertyKeys.DisplayTerminal:\r\n                this.resetDisplayTerminal(userActivity, obj);\r\n                break;\r\n            case UserActivityPropertyKeys.SignRule:\r\n                this.resetSignRules(userActivity, obj, isOperation);\r\n                break;\r\n            case UserActivityPropertyKeys.ApprovalItems:\r\n                this.resetApprovalItems(userActivity, obj, isOperation);\r\n                break;\r\n            case UserActivityPropertyKeys.wf_ExecuteForms_PC:\r\n                this.resetExecuteForm(userActivity, obj, 'PC');\r\n                if (obj.parameters && obj.parameters.length > 0) {\r\n                    PropertyHelper.updateFormalParameters(editorUi.graph.bpmnModel.DefaultProcess, obj.parameters);\r\n                }\r\n                break;\r\n            case UserActivityPropertyKeys.wf_ExecuteForms_Mobile:\r\n                this.resetExecuteForm(userActivity, obj, 'MOBILE');\r\n                if (obj.parameters && obj.parameters.length > 0) {\r\n                    PropertyHelper.updateFormalParameters(editorUi.graph.bpmnModel.DefaultProcess, obj.parameters);\r\n                }\r\n                break;\r\n            case UserActivityPropertyKeys.SelectTargetAble:\r\n                this.resetSelectTargetAble(userActivity, obj, isOperation);\r\n                break;\r\n            case UserActivityPropertyKeys.JumpScope:\r\n                this.resetJumpScope(userActivity, obj);\r\n                break;\r\n            case UserActivityPropertyKeys.BackWardRule:\r\n                this.resetBackWardRule(userActivity, obj);\r\n                break;\r\n            case UserActivityPropertyKeys.MultiInstanceLoopCharacteristics:\r\n                this.resetMultiInstanceLoopCharacteristics(userActivity, obj);\r\n                break;\r\n            case UserActivityPropertyKeys.Tools:\r\n                this.resetTools(userActivity, obj);\r\n                break;\r\n            case UserActivityPropertyKeys.wf_TitleExpression:\r\n                this.modifyTitleExpression(userActivity, obj);\r\n                break;\r\n            case UserActivityPropertyKeys.AddSignFrontAble:\r\n                this.updateSignFrontSet(userActivity, obj);\r\n                break;\r\n            case UserActivityPropertyKeys.AddSignBehindAble:\r\n                this.updateSignBehindsSet(userActivity, obj);\r\n                break;\r\n            case UserActivityPropertyKeys.NotifyAble:\r\n                this.updateNotifySet(userActivity, obj);\r\n                break;\r\n            case UserActivityPropertyKeys.transferScope:\r\n                this.updateTransferScope(userActivity, obj);\r\n                break;\r\n            case UserActivityPropertyKeys.wf_CustomizeAction:\r\n                this.updateCustomizeActions(userActivity, obj);\r\n                break;\r\n            case UserActivityPropertyKeys.timeLimitControl:\r\n                this.updateTimeLimitControl(userActivity, obj);\r\n                break;\r\n            case UserActivityPropertyKeys.anonymousSet:\r\n                this.updateAnonymousSet(userActivity, obj);\r\n                break;\r\n            case UserActivityPropertyKeys.variableSettings:\r\n                this.updateVariableSettings(userActivity, obj);\r\n                break;\r\n            case UserActivityPropertyKeys.messageNotice:\r\n                this.updateMessageNotices(userActivity, obj);\r\n                break;\r\n            case UserActivityPropertyKeys.approvalPivotConfig:\r\n                this.updateApprovalPivotConfig(userActivity, obj);\r\n                break;\r\n            case UserActivityPropertyKeys.urgeHandleRule:\r\n                this.updateUrgeHandleRule(userActivity, obj);\r\n                break;\r\n            case UserActivityPropertyKeys.imageSettings: // 更新变量设置属性\r\n                this.updateImageSettings(userActivity, obj);\r\n                break;\r\n            case UserActivityPropertyKeys.checkConditions:\r\n                this.updateCheckConditions(userActivity, obj, isOperation);\r\n                break;\r\n            case UserActivityPropertyKeys.otherAssignActivities:\r\n                this.updateOtherAssignActivities(userActivity, obj);\r\n                break;\r\n            case UserActivityPropertyKeys.otherAssignActivityNodeInfos:\r\n                this.updateOtherAssignActivities(userActivity, obj);\r\n                break;\r\n            case UserActivityPropertyKeys.otherAssignNodes:\r\n                this.updateOtherAssignNodes(userActivity, obj);\r\n                break;\r\n            default:\r\n                // 判断ResourceKeys是不是groupid,是就走resetExtendProperty\r\n                if (editorUi.procExtProps.findIndex(p => p.id === propertyId) > -1) {\r\n                    this.resetExtendProperty(userActivity, obj);\r\n                } else {\r\n                    super.updateProps(obj);\r\n                }\r\n                break;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 修改参与者\r\n     * @param graph\r\n     * @param userActivity\r\n     * @param obj\r\n     * @param isOperation\r\n     */\r\n    updateParticipant(userActivity: UserActivity, obj: any, isOperation = false) {\r\n        const performerInfo: ParticipantInfo = obj.propertyValue;\r\n\r\n        if (performerInfo.assignStrategy.assignStrategy === AssignmentStrategy.CLAIM\r\n            && userActivity.ParticipantSetting\r\n            && userActivity.ParticipantSetting.automaticPerformers\r\n            && userActivity.ParticipantSetting.automaticPerformers.length > 0) {\r\n            // Utils.postMessage(ResourceKeys.wf_showTip, {\r\n            //     type: 'message',\r\n            //     level: 'warning',\r\n            //     message: '当前节点【参与者选项】已设置自动审批，【分配策略】不允许设置为【领用】'\r\n            // });\r\n        } else {\r\n            this.checkOtherAssignNodes(userActivity, performerInfo);\r\n            userActivity.AssignPerformerConfig = null;\r\n            userActivity.AssignmentStrategy = performerInfo.assignStrategy.assignStrategy;\r\n            const resourceRoles = userActivity.GetResourceRoles();\r\n            if (resourceRoles && resourceRoles.length > 0) {\r\n                resourceRoles.forEach(r => {\r\n                    if (r instanceof HumanPerformerImpl) {\r\n                        userActivity.RemoveResourceRole(r.Id);\r\n                    } else if (r instanceof PotentialOwnerImpl) {\r\n                        userActivity.RemoveResourceRole(r.Id);\r\n                    }\r\n                });\r\n            }\r\n            if (performerInfo.humanPerformerList && performerInfo.humanPerformerList.length > 0) {\r\n                for (const humanPerformer of performerInfo.humanPerformerList) {\r\n                    switch (humanPerformer.type) {\r\n                        case UserParticipantExpression.Clr_Type_ID:\r\n                            this.addUserParticipant(userActivity, humanPerformer as UserParticipant, 'humanPerformer', null);\r\n                            break;\r\n                        case VariableParticipantExpression.Clr_Type_ID:\r\n                            this.addVariableParticipant(userActivity, humanPerformer as VariablePerformer, 'humanPerformer', null)\r\n                            break;\r\n                        case PositionParticipantExpression.Clr_Type_ID:\r\n                            this.addPositionParticipant(userActivity, humanPerformer as PositionParticipant, 'humanPerformer', null);\r\n                            break;\r\n                        case ComponentParticipantExpression.Clr_Type_ID:\r\n                            this.addComponentParticipant(userActivity, humanPerformer as ComponentParticipant, 'humanPerformer', null);\r\n                            break;\r\n                        case ReportingLineParticipantExpression.Clr_Type_ID:\r\n                            this.addReportingLineParticipant(userActivity, humanPerformer as ReportingLineParticipant, 'humanPerformer', null);\r\n                            break;\r\n                        case ActivityExecutorParticipantExpression.Clr_Type_ID:\r\n                            this.addActivityExecutorParticipant(userActivity, humanPerformer as ActivityExecutorParticipant, 'humanPerformer', null);\r\n                            break;\r\n                        case MatrixParticipantExpression.Clr_Type_ID:\r\n                            this.addMatrixParticipant(userActivity, humanPerformer as MatrixParticipant, 'humanPerformer', null);\r\n                            break;\r\n                    }\r\n                }\r\n            }\r\n            if (performerInfo.assignStrategy.assignStrategy === AssignmentStrategy.ASSIGN) {\r\n\r\n                const assignPerformerConfig = new AssignPerformerConfig(userActivity.Model);\r\n                assignPerformerConfig.Operator = performerInfo.assignStrategy.assignConfig.operator;\r\n                assignPerformerConfig.MultiSelect = performerInfo.assignStrategy.assignConfig.multiSelect;\r\n                assignPerformerConfig.Necessary = performerInfo.assignStrategy.assignConfig.necessary;\r\n                assignPerformerConfig.AllowGlobalAssign = performerInfo.isAllScope;\r\n\r\n                userActivity.AssignPerformerConfig = assignPerformerConfig;\r\n                if (!performerInfo.isAllScope && performerInfo.potentialOwnerList && performerInfo.potentialOwnerList.length > 0) {\r\n                    for (const potentialOwner of performerInfo.potentialOwnerList) {\r\n                        switch (potentialOwner.type) {\r\n                            case UserParticipantExpression.Clr_Type_ID:\r\n                                this.addUserParticipant(userActivity, potentialOwner as UserParticipant, 'potentialOwner', null);\r\n                                break;\r\n                            case VariableParticipantExpression.Clr_Type_ID:\r\n                                this.addVariableParticipant(userActivity, potentialOwner as VariablePerformer, 'potentialOwner', null)\r\n                                break;\r\n                            case PositionParticipantExpression.Clr_Type_ID:\r\n                                this.addPositionParticipant(userActivity, potentialOwner as PositionParticipant, 'potentialOwner', null);\r\n                                break;\r\n                            case ComponentParticipantExpression.Clr_Type_ID:\r\n                                this.addComponentParticipant(userActivity, potentialOwner as ComponentParticipant, 'potentialOwner', null);\r\n                                break;\r\n                            case ReportingLineParticipantExpression.Clr_Type_ID:\r\n                                this.addReportingLineParticipant(userActivity, potentialOwner as ReportingLineParticipant, 'potentialOwner', null);\r\n                                break;\r\n                            case ActivityExecutorParticipantExpression.Clr_Type_ID:\r\n                                this.addActivityExecutorParticipant(userActivity, potentialOwner as ActivityExecutorParticipant, 'potentialOwner', null);\r\n                                break;\r\n                            case MatrixParticipantExpression.Clr_Type_ID:\r\n                                this.addMatrixParticipant(userActivity, potentialOwner as MatrixParticipant, 'potentialOwner', null);\r\n                                break;\r\n                            case OrganizationParticipantExpression.Clr_Type_ID:\r\n                                this.addOrganizationParticipant(userActivity, potentialOwner as OrganizationParticipant, 'potentialOwner', null);\r\n                                break;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            // 分配策略为领用时，完成策略自动修改为抢占模式\r\n            if (userActivity.AssignmentStrategy === AssignmentStrategy.CLAIM) {\r\n                userActivity.ExecuteWorkItemMode = ExecuteWorkItemMode.Preempt;\r\n                userActivity.CounterSignRules = null;\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    checkOtherAssignNodes(userActivity: UserActivity, performerInfo: ParticipantInfo) {\r\n        if (userActivity.AssignmentStrategy !== AssignmentStrategy.ASSIGN) {\r\n            return;\r\n        }\r\n        const bpmnModel = userActivity.Model;\r\n        const flowElements = bpmnModel.DefaultProcess.GetFlowElements();\r\n        if (performerInfo.assignStrategy.assignStrategy !== AssignmentStrategy.ASSIGN) {\r\n            for (const k in flowElements) {\r\n                if (flowElements[k] instanceof UserActivity) {\r\n                    const activity = flowElements[k] as UserActivity;\r\n                    if (activity.otherAssignNodes && activity.otherAssignNodes.otherAssignActivities\r\n                        && activity.otherAssignNodes.otherAssignActivities.length > 0\r\n                        && activity.otherAssignNodes.otherAssignActivities.findIndex(id => id === userActivity.Id) > -1\r\n                    ) {\r\n                        activity.otherAssignNodes.otherAssignActivities = activity.otherAssignNodes.otherAssignActivities.filter(id => id !== userActivity.Id);\r\n                    }\r\n                } else if (flowElements[k] instanceof OperationActivity) {\r\n                    const operationActivity = flowElements[k] as OperationActivity;\r\n                    if (operationActivity.otherAssignNodes && operationActivity.otherAssignNodes.otherAssignActivities\r\n                        && operationActivity.otherAssignNodes.otherAssignActivities.length > 0\r\n                        && operationActivity.otherAssignNodes.otherAssignActivities.findIndex(id => id === userActivity.Id) > -1\r\n                    ) {\r\n                        operationActivity.otherAssignNodes.otherAssignActivities = operationActivity.otherAssignNodes.otherAssignActivities.filter(id => id !== userActivity.Id);\r\n                    }\r\n                } else if (flowElements[k] instanceof StartActivity) {\r\n                    const startActivity = flowElements[k] as StartActivity;\r\n                    if (startActivity.otherAssignNodes && startActivity.otherAssignNodes.otherAssignActivities\r\n                        && startActivity.otherAssignNodes.otherAssignActivities.length > 0\r\n                        && startActivity.otherAssignNodes.otherAssignActivities.findIndex(id => id === userActivity.Id) > -1\r\n                    ) {\r\n                        startActivity.otherAssignNodes.otherAssignActivities = startActivity.otherAssignNodes.otherAssignActivities.filter(id => id !== userActivity.Id);\r\n                    }\r\n                }\r\n            }\r\n        } else {\r\n            if (userActivity.AssignPerformerConfig.Operator === 'currentUser'\r\n                && performerInfo.assignStrategy.assignConfig.operator !== 'currentUser'\r\n            ) {\r\n                for (const k in flowElements) {\r\n                    if (flowElements[k] instanceof UserActivity) {\r\n                        const activity = flowElements[k] as UserActivity;\r\n                        if (activity.otherAssignNodes && activity.otherAssignNodes.otherAssignActivities\r\n                            && activity.otherAssignNodes.otherAssignActivities.length > 0\r\n                            && activity.otherAssignNodes.otherAssignActivities.findIndex(id => id === userActivity.Id) > -1\r\n                        ) {\r\n                            activity.otherAssignNodes.otherAssignActivities = activity.otherAssignNodes.otherAssignActivities.filter(id => id !== userActivity.Id);\r\n                        }\r\n                    } else if (flowElements[k] instanceof OperationActivity) {\r\n                        const operationActivity = flowElements[k] as OperationActivity;\r\n                        if (operationActivity.otherAssignNodes && operationActivity.otherAssignNodes.otherAssignActivities\r\n                            && operationActivity.otherAssignNodes.otherAssignActivities.length > 0\r\n                            && operationActivity.otherAssignNodes.otherAssignActivities.findIndex(id => id === userActivity.Id) > -1\r\n                        ) {\r\n                            operationActivity.otherAssignNodes.otherAssignActivities = operationActivity.otherAssignNodes.otherAssignActivities.filter(id => id !== userActivity.Id);\r\n                        }\r\n                    }\r\n                }\r\n            } else if (userActivity.AssignPerformerConfig.Operator === 'procInstCreator'\r\n                && performerInfo.assignStrategy.assignConfig.operator !== 'procInstCreator'\r\n            ) {\r\n                for (const k in flowElements) {\r\n                    if (flowElements[k] instanceof StartActivity) {\r\n                        const startActivity = flowElements[k] as StartActivity;\r\n                        if (startActivity.otherAssignNodes && startActivity.otherAssignNodes.otherAssignActivities\r\n                            && startActivity.otherAssignNodes.otherAssignActivities.length > 0\r\n                            && startActivity.otherAssignNodes.otherAssignActivities.findIndex(id => id === userActivity.Id) > -1\r\n                        ) {\r\n                            startActivity.otherAssignNodes.otherAssignActivities = startActivity.otherAssignNodes.otherAssignActivities.filter(id => id !== userActivity.Id);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 添加用户参与者\r\n     * @param userActivity\r\n     * @param performer\r\n     * @param type\r\n     */\r\n    addUserParticipant(userActivity: UserActivity, performer, type: string , scope: ActionScope) {\r\n        let userParticipant : UserParticipantExpression;\r\n        if(performer instanceof UserParticipantExpression) {\r\n            userParticipant = performer;\r\n        }else{\r\n            performer = performer as UserParticipant\r\n            userParticipant = new UserParticipantExpression(userActivity.Model, performer.performerId, performer.performerName, performer.orgType);\r\n            userParticipant.id = performer.id;\r\n            userParticipant.OrgId = performer.orgId;\r\n            userParticipant.actionScope = ActionScope.Default;\r\n            userParticipant.OrgName = performer.orgName;\r\n            userParticipant.Tag = performer.tag;\r\n            userParticipant.OrgType = performer.orgType;\r\n            userParticipant.order = performer.order;\r\n            if (performer.condition) {\r\n                const condition = new Condition(userActivity.Model);\r\n                condition.Value = performer.condition;\r\n                userParticipant.condition = condition;\r\n            }\r\n        }\r\n        if (type === 'humanPerformer') {\r\n            let humanPerformerImpl = new HumanPerformerImpl(userActivity.Model);\r\n            humanPerformerImpl.participantExpression = userParticipant;\r\n            if (performer.condition) {\r\n                const condition = new Condition(userActivity.Model);\r\n                condition.Value = performer.condition;\r\n                humanPerformerImpl.condition = condition;\r\n            }\r\n            humanPerformerImpl.order = performer.order;\r\n            userActivity.AddResourceRole(humanPerformerImpl);\r\n        } else if (type === 'potentialOwner') {\r\n            let otentialOwnerImpl = new PotentialOwnerImpl(userActivity.Model);\r\n            otentialOwnerImpl.participantExpression = userParticipant;\r\n            if (performer.condition) {\r\n                const condition = new Condition(userActivity.Model);\r\n                condition.Value = performer.condition;\r\n                otentialOwnerImpl.condition = condition;\r\n            }\r\n            otentialOwnerImpl.order = performer.order;\r\n            if(scope) {\r\n                userParticipant.actionScope = scope;\r\n                userActivity.dynamicParticipants.push(userParticipant);\r\n            }else {\r\n                userActivity.AddResourceRole(otentialOwnerImpl);\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 添加变量参与者\r\n     * @param userActivity\r\n     * @param performer\r\n     * @param type\r\n     */\r\n    addVariableParticipant(userActivity: UserActivity, performer, type: string, scope: ActionScope) {\r\n        let variablePerformer: VariableParticipantExpression;\r\n        if(performer instanceof VariableParticipantExpression) {\r\n            variablePerformer = performer;\r\n        }else{\r\n            performer = performer as VariablePerformer;\r\n            variablePerformer = new VariableParticipantExpression(userActivity.Model, performer.performerId, performer.performerName, performer.orgType);\r\n            variablePerformer.id = performer.id;\r\n            variablePerformer.actionScope = ActionScope.Default;\r\n            variablePerformer.Name = performer.performerName ? performer.performerName : performer.name;\r\n            variablePerformer.Tag = performer.tag;\r\n            variablePerformer.VarValue = performer.varValue;\r\n            variablePerformer.VarType = performer.varType;\r\n            variablePerformer.order = performer.order;\r\n            variablePerformer.Relation = performer.relation;\r\n            if (performer.condition) {\r\n                const condition = new Condition(userActivity.Model);\r\n                condition.Value = performer.condition;\r\n                variablePerformer.condition = condition;\r\n            }\r\n        }\r\n        if (type === 'humanPerformer') {\r\n            let humanPerformerImpl = new HumanPerformerImpl(userActivity.Model);\r\n            humanPerformerImpl.participantExpression = variablePerformer;\r\n            if (performer.condition) {\r\n                const condition = new Condition(userActivity.Model);\r\n                condition.Value = performer.condition;\r\n                humanPerformerImpl.condition = condition;\r\n            }\r\n            humanPerformerImpl.order = performer.order;\r\n            userActivity.AddResourceRole(humanPerformerImpl);\r\n        } else if (type === 'potentialOwner') {\r\n            let otentialOwnerImpl = new PotentialOwnerImpl(userActivity.Model);\r\n            otentialOwnerImpl.participantExpression = variablePerformer;\r\n            if (performer.condition) {\r\n                const condition = new Condition(userActivity.Model);\r\n                condition.Value = performer.condition;\r\n                otentialOwnerImpl.condition = condition;\r\n            }\r\n            otentialOwnerImpl.order = performer.order;\r\n            if(scope) {\r\n                variablePerformer.actionScope = scope;\r\n                userActivity.dynamicParticipants.push(variablePerformer);\r\n            }else {\r\n                userActivity.AddResourceRole(otentialOwnerImpl);\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 添加岗位参与者\r\n     * @param userActivity\r\n     * @param performer\r\n     * @param type\r\n     */\r\n    addPositionParticipant(userActivity: UserActivity, performer, type: string, scope: ActionScope) {\r\n        let posiParticipant : PositionParticipantExpression;\r\n        if(performer instanceof PositionParticipantExpression) {\r\n            posiParticipant = performer;\r\n        }else{\r\n            performer = performer as PositionParticipant;\r\n            posiParticipant = new PositionParticipantExpression(userActivity.Model, performer.performerId, performer.performerName);\r\n            posiParticipant.id = performer.id;\r\n            posiParticipant.actionScope = ActionScope.Default;\r\n            posiParticipant.PositionType = performer.positionType;\r\n            posiParticipant.order = performer.order;\r\n            if (performer.positionType === '1') {\r\n                posiParticipant.OrgId = performer.orgId;\r\n                posiParticipant.OrgName = performer.orgName;\r\n                posiParticipant.OrgType = performer.orgType;\r\n            }\r\n            if (performer.condition) {\r\n                const condition = new Condition(userActivity.Model);\r\n                condition.Value = performer.condition;\r\n                posiParticipant.condition = condition;\r\n            }\r\n        }\r\n        if (type === 'humanPerformer') {\r\n            let humanPerformerImpl = new HumanPerformerImpl(userActivity.Model);\r\n            humanPerformerImpl.participantExpression = posiParticipant;\r\n            if (performer.condition) {\r\n                const condition = new Condition(userActivity.Model);\r\n                condition.Value = performer.condition;\r\n                humanPerformerImpl.condition = condition;\r\n            }\r\n            humanPerformerImpl.order = performer.order;\r\n            userActivity.AddResourceRole(humanPerformerImpl);\r\n        } else if (type === 'potentialOwner') {\r\n            let otentialOwnerImpl = new PotentialOwnerImpl(userActivity.Model);\r\n            otentialOwnerImpl.participantExpression = posiParticipant;\r\n            if (performer.condition) {\r\n                const condition = new Condition(userActivity.Model);\r\n                condition.Value = performer.condition;\r\n                otentialOwnerImpl.condition = condition;\r\n            }\r\n            otentialOwnerImpl.order = performer.order;\r\n            if(scope) {\r\n                posiParticipant.actionScope = scope;\r\n                userActivity.dynamicParticipants.push(posiParticipant);\r\n            }else {\r\n                userActivity.AddResourceRole(otentialOwnerImpl);\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 添加构件参与者\r\n     * @param userActivity\r\n     * @param component\r\n     * @param type\r\n     */\r\n    addComponentParticipant(userActivity: UserActivity, component, type: string, scope: ActionScope) {\r\n        let componentParticipant:ComponentParticipantExpression;\r\n        if(component instanceof ComponentParticipantExpression) {\r\n            componentParticipant = component;\r\n        }else {\r\n            component = component as ComponentParticipant;\r\n            componentParticipant = new ComponentParticipantExpression(userActivity.Model);\r\n            componentParticipant.id = component.id;\r\n            componentParticipant.componentId = component.metadataId;\r\n            componentParticipant.actionScope = ActionScope.Default;\r\n            componentParticipant.componentName = component.name;\r\n            componentParticipant.methodName = component.methodName;\r\n            componentParticipant.order = component.order;\r\n            componentParticipant.methodCode = component.methodCode;\r\n\r\n            if (component.actualParameters && component.actualParameters.length > 0) {\r\n                let actParas = new Array<ActualParameter>();\r\n                for (let para of component.actualParameters) {\r\n                    let actPara = new ActualParameter(userActivity.Model, para.code, para.value, para.valueText);\r\n\r\n                    // TODO:更新参与者会默认把构件参数属性改为contant，临时修复，后续代码优化\r\n                    actPara.Tag = para.tag;\r\n                    if (para.fetchValueMode) {\r\n                        switch (para.fetchValueMode) {\r\n                            case 'express':\r\n                                actPara.Tag = 'expression';\r\n                                break;\r\n                            case 'none':\r\n                                actPara.Tag = 'expression';\r\n                                break;\r\n                            default:\r\n                                actPara.Tag = 'constant';\r\n                                break;\r\n                        }\r\n                    }\r\n                    actParas.push(actPara);\r\n                }\r\n                componentParticipant.actualParameters = actParas;\r\n            }\r\n            if (component.condition) {\r\n                const condition = new Condition(userActivity.Model);\r\n                condition.Value = component.condition;\r\n                componentParticipant.condition = condition;\r\n            }\r\n        }\r\n\r\n        if (type === 'humanPerformer') {\r\n            let humanPerformerImpl = new HumanPerformerImpl(userActivity.Model);\r\n            humanPerformerImpl.participantExpression = componentParticipant;\r\n            if (component.condition) {\r\n                const condition = new Condition(userActivity.Model);\r\n                condition.Value = component.condition;\r\n                humanPerformerImpl.condition = condition;\r\n            }\r\n            humanPerformerImpl.order = component.order;\r\n            userActivity.AddResourceRole(humanPerformerImpl);\r\n        } else if (type === 'potentialOwner') {\r\n            let otentialOwnerImpl = new PotentialOwnerImpl(userActivity.Model);\r\n            otentialOwnerImpl.participantExpression = componentParticipant;\r\n            if (component.condition) {\r\n                const condition = new Condition(userActivity.Model);\r\n                condition.Value = component.condition;\r\n                otentialOwnerImpl.condition = condition;\r\n            }\r\n            otentialOwnerImpl.order = component.order;\r\n            if(scope) {\r\n                componentParticipant.actionScope = scope;\r\n                userActivity.dynamicParticipants.push(componentParticipant);\r\n            }else {\r\n                userActivity.AddResourceRole(otentialOwnerImpl);\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param userActivity\r\n     * @param participant\r\n     * @param type\r\n     */\r\n    addReportingLineParticipant(userActivity: UserActivity, participant, type: string, scope: ActionScope) {\r\n        let reportingLine : ReportingLineParticipantExpression;\r\n        if(participant instanceof ReportingLineParticipantExpression) {\r\n            reportingLine = participant;\r\n        }else {\r\n            participant = participant as ReportingLineParticipant;\r\n            reportingLine = new ReportingLineParticipantExpression(userActivity.Model);\r\n            reportingLine.id = participant.id;\r\n            reportingLine.actionScope = ActionScope.Default;\r\n            reportingLine.ReportingLineDefId = participant.reportingLineDefId;\r\n            reportingLine.ReportingLineDefName = participant.reportingLineDefName;\r\n            reportingLine.RefOrgId = participant.refOrgId;\r\n            reportingLine.RefUserId = participant.refUserId;\r\n            reportingLine.RefEmployeeId = participant.refEmployeeId;\r\n            reportingLine.order = participant.order;\r\n            reportingLine.Dimension = participant.dimension;\r\n            reportingLine.Tag = participant.tag;\r\n            if (participant.condition) {\r\n                const condition = new Condition(userActivity.Model);\r\n                condition.Value = participant.condition;\r\n                reportingLine.condition = condition;\r\n            }\r\n        }\r\n\r\n        if (type === 'humanPerformer') {\r\n            let humanPerformerImpl = new HumanPerformerImpl(userActivity.Model);\r\n            humanPerformerImpl.participantExpression = reportingLine;\r\n            if (participant.condition) {\r\n                const condition = new Condition(userActivity.Model);\r\n                condition.Value = participant.condition;\r\n                humanPerformerImpl.condition = condition;\r\n            }\r\n            humanPerformerImpl.order = participant.order;\r\n            userActivity.AddResourceRole(humanPerformerImpl);\r\n        } else if (type === 'potentialOwner') {\r\n            let otentialOwnerImpl = new PotentialOwnerImpl(userActivity.Model);\r\n            otentialOwnerImpl.participantExpression = reportingLine;\r\n            if (participant.condition) {\r\n                const condition = new Condition(userActivity.Model);\r\n                condition.Value = participant.condition;\r\n                otentialOwnerImpl.condition = condition;\r\n            }\r\n            otentialOwnerImpl.order = participant.order;\r\n            if(scope) {\r\n                reportingLine.actionScope = scope;\r\n                userActivity.dynamicParticipants.push(reportingLine);\r\n            }else {\r\n                userActivity.AddResourceRole(otentialOwnerImpl);\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param userActivity\r\n     * @param participant\r\n     * @param type\r\n     */\r\n    addActivityExecutorParticipant(userActivity: UserActivity, participant, type: string, scope: ActionScope) {\r\n        let activityExecutor : ActivityExecutorParticipantExpression;\r\n        if(participant instanceof ActivityExecutorParticipantExpression) {\r\n            activityExecutor = participant;\r\n        }else {\r\n            participant = participant as ActivityExecutorParticipant;\r\n            activityExecutor = new ActivityExecutorParticipantExpression(userActivity.Model);\r\n            activityExecutor.id = participant.id;\r\n            activityExecutor.activityDefId = participant.activityDefId;\r\n            activityExecutor.actionScope = ActionScope.Default;\r\n            activityExecutor.order = participant.order;\r\n            activityExecutor.activityDefName = participant.activityDefName;\r\n            if (participant.condition) {\r\n                const condition = new Condition(userActivity.Model);\r\n                condition.Value = participant.condition;\r\n                activityExecutor.condition = condition;\r\n            }\r\n        }\r\n\r\n        if (type === 'humanPerformer') {\r\n            let humanPerformerImpl = new HumanPerformerImpl(userActivity.Model);\r\n            humanPerformerImpl.participantExpression = activityExecutor;\r\n            if (participant.condition) {\r\n                const condition = new Condition(userActivity.Model);\r\n                condition.Value = participant.condition;\r\n                humanPerformerImpl.condition = condition;\r\n            }\r\n            humanPerformerImpl.order = participant.order;\r\n            userActivity.AddResourceRole(humanPerformerImpl);\r\n        } else if (type === 'potentialOwner') {\r\n            let otentialOwnerImpl = new PotentialOwnerImpl(userActivity.Model);\r\n            otentialOwnerImpl.participantExpression = activityExecutor;\r\n            if (participant.condition) {\r\n                const condition = new Condition(userActivity.Model);\r\n                condition.Value = participant.condition;\r\n                otentialOwnerImpl.condition = condition;\r\n            }\r\n            otentialOwnerImpl.order = participant.order;\r\n            if(scope) {\r\n                activityExecutor.actionScope = scope;\r\n                userActivity.dynamicParticipants.push(activityExecutor);\r\n            }else {\r\n                userActivity.AddResourceRole(otentialOwnerImpl);\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param userActivity\r\n     * @param participant\r\n     * @param type\r\n     */\r\n    addMatrixParticipant(userActivity: UserActivity, participant, type: string, scope: ActionScope) {\r\n        let matrix : MatrixParticipantExpression;\r\n        matrix = new MatrixParticipantExpression(userActivity.Model);\r\n        if(participant instanceof MatrixParticipantExpression) {\r\n            matrix = participant;\r\n        }else {\r\n            participant = participant as MatrixParticipant;\r\n            matrix = new MatrixParticipantExpression(userActivity.Model);\r\n            matrix.order = participant.order;\r\n            matrix.id = participant.id;\r\n            matrix.actionScope = ActionScope.Default;\r\n            matrix.matrixDefId = participant.matrixDefId;\r\n            matrix.matrixDefName = participant.matrixDefName;\r\n            matrix.conditionField1 = participant.conditionField1;\r\n            matrix.conditionFieldText1 = participant.conditionFieldText1;\r\n            matrix.conditionField2 = participant.conditionField2;\r\n            matrix.conditionFieldText2 = participant.conditionFieldText2;\r\n            matrix.conditionField3 = participant.conditionField3;\r\n            matrix.conditionFieldText3 = participant.conditionFieldText3;\r\n            matrix.multivaluedCondition = participant.multivaluedCondition;\r\n            matrix.dataFieldAlias = participant.dataFieldAlias;\r\n            if (participant.condition) {\r\n                const condition = new Condition(userActivity.Model);\r\n                condition.Value = participant.condition;\r\n                matrix.condition = condition;\r\n            }\r\n        }\r\n\r\n        if (type === 'humanPerformer') {\r\n            let humanPerformerImpl = new HumanPerformerImpl(userActivity.Model);\r\n            humanPerformerImpl.participantExpression = matrix;\r\n            if (participant.condition) {\r\n                const condition = new Condition(userActivity.Model);\r\n                condition.Value = participant.condition;\r\n                humanPerformerImpl.condition = condition;\r\n            }\r\n            humanPerformerImpl.order = participant.order;\r\n            userActivity.AddResourceRole(humanPerformerImpl);\r\n        } else if (type === 'potentialOwner') {\r\n            let otentialOwnerImpl = new PotentialOwnerImpl(userActivity.Model);\r\n            otentialOwnerImpl.participantExpression = matrix;\r\n            if (participant.condition) {\r\n                const condition = new Condition(userActivity.Model);\r\n                condition.Value = participant.condition;\r\n                otentialOwnerImpl.condition = condition;\r\n            }\r\n            otentialOwnerImpl.order = participant.order;\r\n            if(scope) {\r\n                matrix.actionScope = scope;\r\n                userActivity.dynamicParticipants.push(matrix);\r\n            }else {\r\n                userActivity.AddResourceRole(otentialOwnerImpl);\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param userActivity\r\n     * @param participant\r\n     * @param type\r\n     */\r\n    addOrganizationParticipant(userActivity: UserActivity, participant, type: string, scope: ActionScope) {\r\n        let potential : OrganizationParticipantExpression;\r\n        if(participant instanceof OrganizationParticipantExpression) {\r\n            potential = participant;\r\n        }else {\r\n            participant = participant as OrganizationParticipant;\r\n            potential = new OrganizationParticipantExpression(userActivity.Model);\r\n            potential.id = participant.id;\r\n            potential.order = participant.order;\r\n            potential.actionScope = ActionScope.AssignUser;\r\n            // potential.organizationLevel = participant.organizationLevel;\r\n            if(participant.organizationLevel === 'DEPARTMENT') {\r\n                potential.organizationLevel = OrganizationLevel.DEPARTMENT;\r\n            }else if(participant.organizationLevel === 'UNIT') {\r\n                potential.organizationLevel = OrganizationLevel.UNIT;\r\n            }else if(participant.organizationLevel === 'DEFAULT'){\r\n                potential.organizationLevel = OrganizationLevel.DEFAULT;\r\n            }\r\n            potential.organizationId = participant.organizationId;\r\n            potential.organizationName = participant.organizationName;\r\n            potential.includeChildren = participant.includeChildren;\r\n            potential.tag = participant.tag;\r\n\r\n            if (participant.condition) {\r\n                const condition = new Condition(userActivity.Model);\r\n                condition.Value = participant.condition;\r\n                potential.condition = condition;\r\n            }\r\n        }\r\n\r\n        if (type === 'humanPerformer') {\r\n            let humanPerformerImpl = new HumanPerformerImpl(userActivity.Model);\r\n            humanPerformerImpl.participantExpression = potential;\r\n            if (participant.condition) {\r\n                const condition = new Condition(userActivity.Model);\r\n                condition.Value = participant.condition;\r\n                humanPerformerImpl.condition = condition;\r\n            }\r\n            humanPerformerImpl.order = participant.order;\r\n            userActivity.AddResourceRole(humanPerformerImpl);\r\n        } else if (type === 'potentialOwner') {\r\n            let otentialOwnerImpl = new PotentialOwnerImpl(userActivity.Model);\r\n            otentialOwnerImpl.participantExpression = potential;\r\n            if (participant.condition) {\r\n                const condition = new Condition(userActivity.Model);\r\n                condition.Value = participant.condition;\r\n                otentialOwnerImpl.condition = condition;\r\n            }\r\n            otentialOwnerImpl.order = participant.order;\r\n            if(scope) {\r\n                potential.actionScope = scope;\r\n                userActivity.dynamicParticipants.push(potential);\r\n            }else {\r\n                userActivity.AddResourceRole(otentialOwnerImpl);\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 修改参与者选项\r\n     * @param userActivity\r\n     * @param obj\r\n     */\r\n    updateParticipantOptions(userActivity: UserActivity, obj: any) {\r\n        const options = obj.propertyValue;\r\n        if (userActivity.ParticipantSetting != null) {\r\n            userActivity.ParticipantSetting.ExclusionPerformers = options.ExclusionPerformers;\r\n            userActivity.ParticipantSetting.NoPerformerStrategy = options.NoPerformerStrategy;\r\n            userActivity.ParticipantSetting.HistoricFirst = options.HistoricFirst;\r\n            userActivity.ParticipantSetting.automaticPerformers = options.automaticPerformers;\r\n        } else {\r\n            let participantSetting = new ParticipantSetting(userActivity.Model);\r\n            participantSetting.ExclusionPerformers = options.ExclusionPerformers;\r\n            participantSetting.NoPerformerStrategy = options.NoPerformerStrategy;\r\n            participantSetting.HistoricFirst = options.HistoricFirst;\r\n            participantSetting.automaticPerformers = options.automaticPerformers;\r\n            userActivity.ParticipantSetting = participantSetting;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 修改完成策略属性\r\n     * @param graph\r\n     * @param userActivity\r\n     * @param obj\r\n     * @param isOperation\r\n     */\r\n    resetExecuteWorkItemMode(userActivity: UserActivity, obj: any, isOperation = false) {\r\n        if (userActivity) {\r\n            userActivity.ExecuteWorkItemMode = obj.propertyValue;\r\n            //抢占模式下清空会签规则\r\n            if (userActivity.ExecuteWorkItemMode === ExecuteWorkItemMode.Preempt) {\r\n                userActivity.CounterSignRules = null;\r\n            } else {\r\n\r\n                // 会签规则不存在时，即由抢占变为会签时，初始化会签规则\r\n                // 并行会签和串行会签之间切换时，不刷新会签规则\r\n                if (!userActivity.CounterSignRules) {\r\n                    userActivity.CounterSignRules = new Array<CounterSignRule>();\r\n                }\r\n                //会签策略时,不允许跳转；且驳回规则不允许动态选择驳回级次(驳回规则目前需要在流程设计器调整)\r\n                userActivity.SelectTargetAble = false;\r\n                userActivity.JumpScope = null;\r\n                // 切换会签策略时，分配策略不能是领用,自动切换为所有\r\n                // 2023-2-9 修复：由于新增了备选办理人，直接指派导致切换时时备选办理人丢失，修改为只有是领用才切到指所有\r\n                if (userActivity.AssignmentStrategy === AssignmentStrategy.CLAIM) {\r\n                    userActivity.AssignmentStrategy = AssignmentStrategy.ALL;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    resetDisplayTerminal(userActivity: UserActivity, obj: any, isOperation = false) {\r\n        if (userActivity) {\r\n            userActivity.DisplayTerminal = obj.propertyValue;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 更新会签规则属性\r\n     * @param graph\r\n     * @param userActivity\r\n     * @param obj\r\n     * @param isOperation\r\n     */\r\n    resetSignRules(userActivity: UserActivity, obj: any, isOperation = false) {\r\n        if (userActivity) {\r\n            let rules = obj.propertyValue as any[];\r\n            userActivity.CounterSignRules = null;\r\n            if (rules && rules.length > 0) {\r\n                userActivity.CounterSignRules = new Array<CounterSignRule>();\r\n                for (let rule of rules) {\r\n                    let counterSignRule = new CounterSignRule(userActivity.Model);\r\n                    let condition = new Condition(userActivity.Model);\r\n                    condition.Value = rule.completionCondition;\r\n                    counterSignRule.ConclusionValue = rule.conclusionValue;\r\n                    counterSignRule.CalculateType = rule.calculateType;\r\n                    counterSignRule.ConditionValue = rule.conditionValue;\r\n                    counterSignRule.WaitAllVotes = rule.waitAllVotes;\r\n                    counterSignRule.CompletionCondition = condition;\r\n                    userActivity.CounterSignRules.push(counterSignRule);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 更新自定义项属性\r\n     * @param graph\r\n     * @param userActivity\r\n     * @param obj\r\n     * @param isOperation\r\n     */\r\n    resetApprovalItems(userActivity: UserActivity, obj: any, isOperation = false) {\r\n        if (userActivity) {\r\n            let conclusions = obj.propertyValue as any[];\r\n            userActivity.Conclusions = new Array<ConclusionItem>();\r\n            for (let conclusion of conclusions) {\r\n                let item = new ConclusionItem(userActivity.Model);\r\n                item.Value = conclusion.value;\r\n                item.Text = conclusion.text;\r\n                item.WorkFlowAction = conclusion.workFlowAction;\r\n                item.IsDefault = conclusion.isDefault;\r\n                item.commentNecessary = conclusion.commentNecessary;\r\n                item.certification = conclusion.certification;\r\n                item.attachmentNecessary = conclusion.attachmentNecessary;\r\n                item.signatureNecessary = conclusion.signatureNecessary;\r\n                item.defaultComment = conclusion.defaultComment;\r\n                userActivity.Conclusions.push(item);\r\n            }\r\n        }\r\n        // 判断审批项是否包含驳回？不包含时，驳回规则清空\r\n        if (!this.isBackConclusionExist(userActivity.Conclusions)) {\r\n            userActivity.BackWardRule = null;\r\n        } else if (!userActivity.BackWardRule) {\r\n            userActivity.BackWardRule = new BackWardRule(userActivity.Model);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 更新审批活动表单定义属性\r\n     * @param userActivity\r\n     * @param obj\r\n     * @param terminal\r\n     */\r\n    resetExecuteForm(userActivity: UserActivity, obj: any, terminal: string) {\r\n        if (userActivity) {\r\n            let form = obj.propertyValue as any;\r\n            if (!userActivity.ExecuteForms) {\r\n                userActivity.ExecuteForms = new Array<ExecuteForm>();\r\n            }\r\n            userActivity.ExecuteForms = userActivity.ExecuteForms.filter(e => e.TerminalType !== terminal);\r\n            if (form) {\r\n                let params = form.ActualParameters as any[];\r\n                let actParas = new Array<ActualParameter>();\r\n                if (params && params.length > 0) {\r\n                    for (let para of params) {\r\n                        let actPara = new ActualParameter(userActivity.Model, para.Name, para.Value);\r\n                        if (para.Tag) {\r\n                            actPara.Tag = para.Tag;\r\n                        } else {\r\n                            if (para.Value) {\r\n                                if (para.Value.length >= 8 && para.Value.slice(0, 8) === `{\"expr\":`) {\r\n                                    actPara.Tag = 'expression';\r\n                                } else {\r\n                                    actPara.Tag = 'constant';\r\n                                }\r\n                            } else {\r\n                                actPara.Tag = 'variable';\r\n                            }\r\n\r\n                        }\r\n                        actParas.push(actPara);\r\n                    }\r\n                }\r\n                const id = BpmnModelHelper.GenerateElementId();\r\n                let item = new ExecuteForm(userActivity.Model, id, form.Name, actParas);\r\n                item.ComponentId = form.ComponentId;\r\n                item.FormType = form.FormType;\r\n                item.formFormatId = form.formFormatId;\r\n                item.formatConfigId = form.formatConfigId;\r\n                item.TerminalType = form.TerminalType;\r\n                userActivity.ExecuteForms.push(item);\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 更新是否允许跳转属性\r\n     * @param graph\r\n     * @param userActivity\r\n     * @param obj\r\n     * @param isOperation\r\n     */\r\n    resetSelectTargetAble(userActivity: UserActivity, obj: any, isOperation = false) {\r\n        const SelectTargetAble = obj.propertyValue as boolean;\r\n        userActivity.SelectTargetAble = SelectTargetAble;\r\n        if (userActivity.SelectTargetAble) {\r\n        } else {\r\n            userActivity.JumpScope = null;\r\n        }\r\n    }\r\n\r\n    resetJumpScope(userActivity: UserActivity, obj: any) {\r\n        const data = obj.propertyValue;\r\n        if (data) {\r\n            let jumpScope = new JumpScope(userActivity.Model);\r\n            jumpScope.Category = data.Category;\r\n            jumpScope.DefaultType = data.DefaultType;\r\n            jumpScope.DestinationActivities = data.DestinationActivities;\r\n            jumpScope.DefaultActivity = data.DefaultActivity;\r\n            userActivity.JumpScope = jumpScope;\r\n        } else {\r\n            userActivity.JumpScope = null;\r\n        }\r\n    }\r\n\r\n    resetBackWardRule(userActivity: UserActivity, obj: any) {\r\n        const data = obj.propertyValue;\r\n        let backWardRule = new BackWardRule(userActivity.Model);\r\n        backWardRule.TargetRef = data.TargetRef;\r\n        backWardRule.SelectTargetAble = data.SelectTargetAble;\r\n        backWardRule.WaitReturn = data.WaitReturn;\r\n        backWardRule.ResubmitEffect = data.ResubmitEffect;\r\n        backWardRule.DynamicBackWardRuleAble = data.DynamicBackWardRuleAble;\r\n        backWardRule.SelectTargetList = data.SelectTargetList;\r\n\r\n        userActivity.BackWardRule = backWardRule;\r\n    }\r\n\r\n    resetMultiInstanceLoopCharacteristics(userActivity: UserActivity, obj: any) {\r\n        if(obj.propertyValue) {\r\n            const data = obj.propertyValue;\r\n            let loopCharacteristics = new MultiInstanceLoopCharacteristics(userActivity.Model);\r\n            loopCharacteristics.enable = data.enable;\r\n            loopCharacteristics.sequential = data.sequential;\r\n            loopCharacteristics.loopCardinality = new Expression(userActivity.Model);\r\n            if(data.loopCardinality) {\r\n                let variableExpression = new SemanticExpression(userActivity.Model);\r\n                variableExpression.Value = data.loopCardinality;\r\n                loopCharacteristics.loopCardinality.MexExpression = variableExpression;\r\n            }\r\n            loopCharacteristics.completionCondition = data.completionCondition;\r\n            let rules = data.completionConditionRules as any[];\r\n            loopCharacteristics.completionConditionRules = null;\r\n            if(rules && rules.length > 0) {\r\n                loopCharacteristics.completionConditionRules = new Array<CounterSignRule>();\r\n                for(let rule of rules) {\r\n                    let counterSignRule = new CounterSignRule(userActivity.Model);\r\n                    let condition = new Condition(userActivity.Model);\r\n                    condition.Value = rule.CompletionCondition.Value;\r\n                    counterSignRule.ConclusionValue = rule.ConclusionValue;\r\n                    counterSignRule.CalculateType = rule.CalculateType;\r\n                    counterSignRule.ConditionValue = rule.ConditionValue;\r\n                    counterSignRule.WaitAllVotes = rule.WaitAllVotes;\r\n                    counterSignRule.CompletionCondition = condition;\r\n                    loopCharacteristics.completionConditionRules.push(counterSignRule);\r\n                }\r\n            }\r\n            userActivity.LoopCharacteristics = loopCharacteristics;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 更新活动节点标题\r\n     * @param userActivity\r\n     * @param obj\r\n     */\r\n    modifyTitleExpression(userActivity: UserActivity, obj: any) {\r\n        if (userActivity.taskTitle) {\r\n            userActivity.taskTitle.valueLanguage = obj.propertyValue;\r\n            userActivity.taskTitle.value = obj.propertyValue['zh-CHS'];\r\n        } else {\r\n            const title = new TitleExpression(userActivity.Model, obj.propertyValue['zh-CHS'], obj.propertyValue);\r\n            userActivity.taskTitle = title;\r\n        }\r\n    }\r\n\r\n    resetTools(userActivity: UserActivity, obj: any) {\r\n        let tools = obj.propertyValue as any[];\r\n        userActivity.Tools = new Array<Tool>();\r\n        if (tools && tools.length > 0) {\r\n            for (let tool of tools) {\r\n                let component = new Component(userActivity.Model);\r\n                component.Id = tool.id;\r\n                component.Name = tool.name;\r\n                component.Time = tool.executionTime;\r\n                // TODO 写死了构件类型\r\n                component.ComponentType = 'WebServiceComponent';\r\n                component.MetadataId = tool.metadataId;\r\n                component.MethodCode = tool.methodCode;\r\n                component.isForCompensation = tool.isForCompensation;\r\n                component.ActualParameters = [];\r\n                if (tool.actualParameters && (tool.actualParameters as any[]).length > 0) {\r\n                    for (let a of (tool.actualParameters as any[])) {\r\n                        let parameter = new ActualParameter(userActivity.Model, a.code, a.value);\r\n                        component.ActualParameters.push(parameter);\r\n                    }\r\n                }\r\n                userActivity.Tools.push(component);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    updateSignFrontSet(userActivity: UserActivity, obj: any) {\r\n        const scope = obj.propertyValue as ActionOrganizationScopeDesign;\r\n        userActivity.dynamicParticipants = userActivity.dynamicParticipants.filter(p => (p as OrganizationParticipantExpression).actionScope !== ActionScope.AddSignFront);\r\n        userActivity.AddSignFrontAble = scope.enable;\r\n\r\n        if (scope.scope) {\r\n            if(scope.scope.organizationLevel) {\r\n                const organizationParticipantExpression = new OrganizationParticipantExpression(userActivity.Model);\r\n                organizationParticipantExpression.id = BpmnModelHelper.GenerateElementId();\r\n                organizationParticipantExpression.actionScope = ActionScope.AddSignFront;\r\n                organizationParticipantExpression.organizationLevel = scope.scope.organizationLevel as any;\r\n                organizationParticipantExpression.organizationId = scope.scope.organizationId;\r\n                organizationParticipantExpression.organizationName = scope.scope.organizationName;\r\n                organizationParticipantExpression.includeChildren = scope.scope.includeChildren;\r\n                organizationParticipantExpression.tag = scope.scope.tag;\r\n                userActivity.dynamicParticipants.push(organizationParticipantExpression);\r\n            }else {\r\n                const performerInfo: ParticipantInfo = scope.scope.participantInfo as any;\r\n                if (performerInfo.isAllScope && performerInfo.potentialOwnerList && performerInfo.potentialOwnerList.length > 0) {\r\n                    for (const potentialOwner of performerInfo.potentialOwnerList) {\r\n                        switch (potentialOwner.type ? potentialOwner.type : ((potentialOwner instanceof ParticipantExpression) ? potentialOwner.ClrTypeID : null)) {\r\n                            case UserParticipantExpression.Clr_Type_ID:\r\n                                this.addUserParticipant(userActivity, (potentialOwner instanceof ParticipantExpression ? potentialOwner : potentialOwner as UserParticipant), 'potentialOwner', ActionScope.AddSignFront);\r\n                                break;\r\n                            case VariableParticipantExpression.Clr_Type_ID:\r\n                                this.addVariableParticipant(userActivity, (potentialOwner instanceof ParticipantExpression ? potentialOwner : potentialOwner as VariablePerformer), 'potentialOwner', ActionScope.AddSignFront)\r\n                                break;\r\n                            case PositionParticipantExpression.Clr_Type_ID:\r\n                                this.addPositionParticipant(userActivity, (potentialOwner instanceof ParticipantExpression ? potentialOwner : potentialOwner as PositionParticipant), 'potentialOwner', ActionScope.AddSignFront);\r\n                                break;\r\n                            case ComponentParticipantExpression.Clr_Type_ID:\r\n                                this.addComponentParticipant(userActivity, (potentialOwner instanceof ParticipantExpression ? potentialOwner : potentialOwner as ComponentParticipant), 'potentialOwner', ActionScope.AddSignFront);\r\n                                break;\r\n                            case ReportingLineParticipantExpression.Clr_Type_ID:\r\n                                this.addReportingLineParticipant(userActivity, (potentialOwner instanceof ParticipantExpression ? potentialOwner : potentialOwner as ReportingLineParticipant), 'potentialOwner', ActionScope.AddSignFront);\r\n                                break;\r\n                            case ActivityExecutorParticipantExpression.Clr_Type_ID:\r\n                                this.addActivityExecutorParticipant(userActivity, (potentialOwner instanceof ParticipantExpression ? potentialOwner : potentialOwner as ActivityExecutorParticipant), 'potentialOwner', ActionScope.AddSignFront);\r\n                                break;\r\n                            case MatrixParticipantExpression.Clr_Type_ID:\r\n                                this.addMatrixParticipant(userActivity, (potentialOwner instanceof ParticipantExpression ? potentialOwner : potentialOwner as MatrixParticipant), 'potentialOwner', ActionScope.AddSignFront);\r\n                                break;\r\n                            case OrganizationParticipantExpression.Clr_Type_ID:\r\n                                this.addOrganizationParticipant(userActivity, (potentialOwner instanceof ParticipantExpression ? potentialOwner : potentialOwner as OrganizationParticipant), 'potentialOwner' , ActionScope.AddSignFront);\r\n                                break;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    updateSignBehindsSet(userActivity: UserActivity, obj: any) {\r\n        const scope = obj.propertyValue as ActionOrganizationScopeDesign;\r\n        userActivity.dynamicParticipants = userActivity.dynamicParticipants.filter(p => (p as OrganizationParticipantExpression).actionScope !== ActionScope.AddSignBehind);\r\n        userActivity.AddSignBehindAble = scope.enable;\r\n\r\n        if (scope.scope) {\r\n            if(scope.scope.organizationLevel) {\r\n                const organizationParticipantExpression = new OrganizationParticipantExpression(userActivity.Model);\r\n                organizationParticipantExpression.id = BpmnModelHelper.GenerateElementId();\r\n                organizationParticipantExpression.actionScope = ActionScope.AddSignBehind;\r\n                organizationParticipantExpression.organizationLevel = scope.scope.organizationLevel as any;\r\n                organizationParticipantExpression.organizationId = scope.scope.organizationId;\r\n                organizationParticipantExpression.organizationName = scope.scope.organizationName;\r\n                organizationParticipantExpression.includeChildren = scope.scope.includeChildren;\r\n                organizationParticipantExpression.tag = scope.scope.tag;\r\n                userActivity.dynamicParticipants.push(organizationParticipantExpression);\r\n            }else {\r\n                const performerInfo: ParticipantInfo = scope.scope.participantInfo as any;\r\n                if (performerInfo.isAllScope && performerInfo.potentialOwnerList && performerInfo.potentialOwnerList.length > 0) {\r\n                    for (const potentialOwner of performerInfo.potentialOwnerList) {\r\n                        switch (potentialOwner.type ? potentialOwner.type : ((potentialOwner instanceof ParticipantExpression) ? potentialOwner.ClrTypeID : null)) {\r\n                            case UserParticipantExpression.Clr_Type_ID:\r\n                                this.addUserParticipant(userActivity, potentialOwner instanceof ParticipantExpression ? potentialOwner : potentialOwner as UserParticipant, 'potentialOwner', ActionScope.AddSignBehind);\r\n                                break;\r\n                            case VariableParticipantExpression.Clr_Type_ID:\r\n                                this.addVariableParticipant(userActivity, potentialOwner instanceof ParticipantExpression ? potentialOwner : potentialOwner as VariablePerformer, 'potentialOwner', ActionScope.AddSignBehind)\r\n                                break;\r\n                            case PositionParticipantExpression.Clr_Type_ID:\r\n                                this.addPositionParticipant(userActivity, potentialOwner instanceof ParticipantExpression ? potentialOwner : potentialOwner as PositionParticipant, 'potentialOwner', ActionScope.AddSignBehind);\r\n                                break;\r\n                            case ComponentParticipantExpression.Clr_Type_ID:\r\n                                this.addComponentParticipant(userActivity, potentialOwner instanceof ParticipantExpression ? potentialOwner : potentialOwner as ComponentParticipant, 'potentialOwner', ActionScope.AddSignBehind);\r\n                                break;\r\n                            case ReportingLineParticipantExpression.Clr_Type_ID:\r\n                                this.addReportingLineParticipant(userActivity, potentialOwner instanceof ParticipantExpression ? potentialOwner : potentialOwner as ReportingLineParticipant, 'potentialOwner', ActionScope.AddSignBehind);\r\n                                break;\r\n                            case ActivityExecutorParticipantExpression.Clr_Type_ID:\r\n                                this.addActivityExecutorParticipant(userActivity, potentialOwner instanceof ParticipantExpression ? potentialOwner : potentialOwner as ActivityExecutorParticipant, 'potentialOwner', ActionScope.AddSignBehind);\r\n                                break;\r\n                            case MatrixParticipantExpression.Clr_Type_ID:\r\n                                this.addMatrixParticipant(userActivity, potentialOwner instanceof ParticipantExpression ? potentialOwner : potentialOwner as MatrixParticipant, 'potentialOwner', ActionScope.AddSignBehind);\r\n                                break;\r\n                            case OrganizationParticipantExpression.Clr_Type_ID:\r\n                                this.addOrganizationParticipant(userActivity, potentialOwner instanceof ParticipantExpression ? potentialOwner : potentialOwner as OrganizationParticipant, 'potentialOwner' , ActionScope.AddSignBehind);\r\n                                break;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    updateNotifySet(userActivity: UserActivity, obj: any) {\r\n        const scope = obj.propertyValue as ActionOrganizationScopeDesign;\r\n\r\n        userActivity.dynamicParticipants = userActivity.dynamicParticipants.filter(p => (p as OrganizationParticipantExpression).actionScope !== ActionScope.Notify);\r\n        userActivity.NotifyAble = scope.enable;\r\n\r\n        if (scope.scope) {\r\n            if(scope.scope.organizationLevel) {\r\n                const organizationParticipantExpression = new OrganizationParticipantExpression(userActivity.Model);\r\n                organizationParticipantExpression.id = BpmnModelHelper.GenerateElementId();\r\n                organizationParticipantExpression.actionScope = ActionScope.Notify;\r\n                organizationParticipantExpression.organizationLevel = scope.scope.organizationLevel as any;\r\n                organizationParticipantExpression.organizationId = scope.scope.organizationId;\r\n                organizationParticipantExpression.organizationName = scope.scope.organizationName;\r\n                organizationParticipantExpression.includeChildren = scope.scope.includeChildren;\r\n                organizationParticipantExpression.tag = scope.scope.tag;\r\n                userActivity.dynamicParticipants.push(organizationParticipantExpression);\r\n            }else {\r\n                const performerInfo: ParticipantInfo = scope.scope.participantInfo as any;\r\n                if (performerInfo.isAllScope && performerInfo.potentialOwnerList && performerInfo.potentialOwnerList.length > 0) {\r\n                    for (const potentialOwner of performerInfo.potentialOwnerList) {\r\n                        switch (potentialOwner.type ? potentialOwner.type : ((potentialOwner instanceof ParticipantExpression) ? potentialOwner.ClrTypeID : null)) {\r\n                            case UserParticipantExpression.Clr_Type_ID:\r\n                                this.addUserParticipant(userActivity, potentialOwner instanceof ParticipantExpression ? potentialOwner : potentialOwner as UserParticipant, 'potentialOwner', ActionScope.Notify);\r\n                                break;\r\n                            case VariableParticipantExpression.Clr_Type_ID:\r\n                                this.addVariableParticipant(userActivity, potentialOwner instanceof ParticipantExpression ? potentialOwner : potentialOwner as VariablePerformer, 'potentialOwner', ActionScope.Notify)\r\n                                break;\r\n                            case PositionParticipantExpression.Clr_Type_ID:\r\n                                this.addPositionParticipant(userActivity, potentialOwner instanceof ParticipantExpression ? potentialOwner : potentialOwner as PositionParticipant, 'potentialOwner', ActionScope.Notify);\r\n                                break;\r\n                            case ComponentParticipantExpression.Clr_Type_ID:\r\n                                this.addComponentParticipant(userActivity, potentialOwner instanceof ParticipantExpression ? potentialOwner : potentialOwner as ComponentParticipant, 'potentialOwner', ActionScope.Notify);\r\n                                break;\r\n                            case ReportingLineParticipantExpression.Clr_Type_ID:\r\n                                this.addReportingLineParticipant(userActivity, potentialOwner instanceof ParticipantExpression ? potentialOwner : potentialOwner as ReportingLineParticipant, 'potentialOwner', ActionScope.Notify);\r\n                                break;\r\n                            case ActivityExecutorParticipantExpression.Clr_Type_ID:\r\n                                this.addActivityExecutorParticipant(userActivity, potentialOwner instanceof ParticipantExpression ? potentialOwner : potentialOwner as ActivityExecutorParticipant, 'potentialOwner', ActionScope.Notify);\r\n                                break;\r\n                            case MatrixParticipantExpression.Clr_Type_ID:\r\n                                this.addMatrixParticipant(userActivity, potentialOwner instanceof ParticipantExpression ? potentialOwner : potentialOwner as MatrixParticipant, 'potentialOwner', ActionScope.Notify);\r\n                                break;\r\n                            case OrganizationParticipantExpression.Clr_Type_ID:\r\n                                this.addOrganizationParticipant(userActivity, potentialOwner instanceof ParticipantExpression ? potentialOwner : potentialOwner as OrganizationParticipant, 'potentialOwner' , ActionScope.Notify);\r\n                                break;\r\n                        }\r\n                    }\r\n                }\r\n            } \r\n        }\r\n    }\r\n    updateTransferScope(userActivity: UserActivity, obj: any) {\r\n        const scope = obj.propertyValue as ActionOrganizationScopeDesign;\r\n\r\n        userActivity.dynamicParticipants = userActivity.dynamicParticipants.filter(p => (p as OrganizationParticipantExpression).actionScope !== ActionScope.Transfer);\r\n        userActivity.transferAble = scope.enable;\r\n\r\n        if (scope.scope) {\r\n            if(scope.scope.organizationLevel) {\r\n                const organizationParticipantExpression = new OrganizationParticipantExpression(userActivity.Model);\r\n                organizationParticipantExpression.id = BpmnModelHelper.GenerateElementId();\r\n                organizationParticipantExpression.actionScope = ActionScope.Transfer;\r\n                organizationParticipantExpression.organizationLevel = scope.scope.organizationLevel as any;\r\n                organizationParticipantExpression.organizationId = scope.scope.organizationId;\r\n                organizationParticipantExpression.organizationName = scope.scope.organizationName;\r\n                organizationParticipantExpression.includeChildren = scope.scope.includeChildren;\r\n                organizationParticipantExpression.tag = scope.scope.tag;\r\n                userActivity.dynamicParticipants.push(organizationParticipantExpression);\r\n            }else {\r\n                const performerInfo: ParticipantInfo = scope.scope.participantInfo as any;\r\n                if (performerInfo.isAllScope && performerInfo.potentialOwnerList && performerInfo.potentialOwnerList.length > 0) {\r\n                    for (const potentialOwner of performerInfo.potentialOwnerList) {\r\n                        switch (potentialOwner.type ? potentialOwner.type : ((potentialOwner instanceof ParticipantExpression) ? potentialOwner.ClrTypeID : null)) {\r\n                            case UserParticipantExpression.Clr_Type_ID:\r\n                                this.addUserParticipant(userActivity, potentialOwner instanceof ParticipantExpression ? potentialOwner : potentialOwner as UserParticipant, 'potentialOwner', ActionScope.Transfer);\r\n                                break;\r\n                            case VariableParticipantExpression.Clr_Type_ID:\r\n                                this.addVariableParticipant(userActivity, potentialOwner instanceof ParticipantExpression ? potentialOwner : potentialOwner as VariablePerformer, 'potentialOwner', ActionScope.Transfer)\r\n                                break;\r\n                            case PositionParticipantExpression.Clr_Type_ID:\r\n                                this.addPositionParticipant(userActivity, potentialOwner instanceof ParticipantExpression ? potentialOwner : potentialOwner as PositionParticipant, 'potentialOwner', ActionScope.Transfer);\r\n                                break;\r\n                            case ComponentParticipantExpression.Clr_Type_ID:\r\n                                this.addComponentParticipant(userActivity, potentialOwner instanceof ParticipantExpression ? potentialOwner : potentialOwner as ComponentParticipant, 'potentialOwner', ActionScope.Transfer);\r\n                                break;\r\n                            case ReportingLineParticipantExpression.Clr_Type_ID:\r\n                                this.addReportingLineParticipant(userActivity, potentialOwner instanceof ParticipantExpression ? potentialOwner : potentialOwner as ReportingLineParticipant, 'potentialOwner', ActionScope.Transfer);\r\n                                break;\r\n                            case ActivityExecutorParticipantExpression.Clr_Type_ID:\r\n                                this.addActivityExecutorParticipant(userActivity, potentialOwner instanceof ParticipantExpression ? potentialOwner : potentialOwner as ActivityExecutorParticipant, 'potentialOwner', ActionScope.Transfer);\r\n                                break;\r\n                            case MatrixParticipantExpression.Clr_Type_ID:\r\n                                this.addMatrixParticipant(userActivity, potentialOwner instanceof ParticipantExpression ? potentialOwner : potentialOwner as MatrixParticipant, 'potentialOwner', ActionScope.Transfer);\r\n                                break;\r\n                            case OrganizationParticipantExpression.Clr_Type_ID:\r\n                                this.addOrganizationParticipant(userActivity, potentialOwner instanceof ParticipantExpression ? potentialOwner : potentialOwner as OrganizationParticipant, 'potentialOwner' , ActionScope.Transfer);\r\n                                break;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    updateTimeLimitControl(userActivity: UserActivity, obj: any) {\r\n        const timeLimitInfo = obj.propertyValue as TimeLimitControlInfo;\r\n        userActivity.timeLimitControl = null;\r\n        if (timeLimitInfo) {\r\n            const control = new TimeLimitControl(userActivity.Model);\r\n            control.enable = timeLimitInfo.enable;\r\n            control.tag = timeLimitInfo.tag;\r\n            control.dueTime = timeLimitInfo.dueTime;\r\n            control.timeUnit = timeLimitInfo.timeUnit;\r\n            control.expireOperations = new Array<SendMessageExpireOperation>();\r\n            if (timeLimitInfo.expireOperations && timeLimitInfo.expireOperations.length > 0) {\r\n                for (const o of timeLimitInfo.expireOperations) {\r\n                    if (o.operationTypeName === 'SendMessageExpireOperation' || !o.operationTypeName) {\r\n                        const entity = o as SendMessageExpireOperation;\r\n                        const sendMessage = new SendMessageExpireOperation(userActivity.Model);\r\n                        sendMessage.id = BpmnModelHelper.GenerateElementId();\r\n                        sendMessage.durationType = entity.durationType as DurationType;\r\n                        sendMessage.timeDuration = entity.timeDuration;\r\n                        sendMessage.timeUnit = entity.timeUnit;\r\n                        sendMessage.message = entity.message;\r\n                        sendMessage.subject = entity.subject;\r\n                        sendMessage.sendType = entity.sendType;\r\n                        sendMessage.receiver = entity.receiver;\r\n                        sendMessage.cycleEnable = entity.cycleEnable;\r\n                        sendMessage.cycleTime = entity.cycleTime;\r\n                        sendMessage.cycleTimeUnit = entity.cycleTimeUnit;\r\n                        sendMessage.operationTypeName = entity.operationTypeName ? entity.operationTypeName : 'SendMessageExpireOperation';\r\n                        if (entity.smsMessageTemplate) {\r\n                            const smsMessageTemplate = new SmsMessageTemplate(userActivity.Model);\r\n                            smsMessageTemplate.code = entity.smsMessageTemplate.code;\r\n                            smsMessageTemplate.content = entity.smsMessageTemplate.content;\r\n                            smsMessageTemplate.smsMessageVariables = new Array();\r\n                            if (entity.smsMessageTemplate.smsMessageVariables && entity.smsMessageTemplate.smsMessageVariables.length > 0) {\r\n                                for (const v of entity.smsMessageTemplate.smsMessageVariables) {\r\n                                    const variable = new SmsMessageVariable(userActivity.Model);\r\n                                    variable.code = v.code;\r\n                                    variable.value = v.value;\r\n                                    variable.tag = v.tag;\r\n                                    smsMessageTemplate.smsMessageVariables.push(variable);\r\n                                }\r\n                            }\r\n                            sendMessage.smsMessageTemplate = smsMessageTemplate;\r\n                        }\r\n                        control.expireOperations.push(sendMessage);\r\n                    } else if (o.operationTypeName === 'AutoHandleExpireOperation') {\r\n                        const operation = o as AutoHandleExpireOperation;\r\n                        const autoHandle = new AutoHandleExpireOperation(userActivity.Model);\r\n                        autoHandle.id = o.id;\r\n                        autoHandle.durationType = operation.durationType;\r\n                        autoHandle.timeDuration = operation.timeDuration;\r\n                        autoHandle.timeUnit = operation.timeUnit;\r\n                        autoHandle.operationTypeName = operation.operationTypeName ? operation.operationTypeName : 'AutoHandleExpireOperation';\r\n                        autoHandle.autoHandleType = operation.autoHandleType;\r\n                        autoHandle.message = operation.message;\r\n                        control.expireOperations.push(autoHandle);\r\n                    }\r\n                }\r\n            }\r\n            userActivity.timeLimitControl = control;\r\n        }\r\n    }\r\n\r\n    updateAnonymousSet(userActivity: UserActivity, obj: any) {\r\n        const anonymousSet = obj.propertyValue;\r\n        if (anonymousSet) {\r\n            userActivity.anonymous = anonymousSet.isAnonymity;\r\n            userActivity.anonymousText = anonymousSet.anonymous;\r\n        }\r\n    }\r\n\r\n    updateCustomizeActions(userActivity: UserActivity, obj: any) {\r\n        let actions = obj.propertyValue as any[];\r\n        userActivity.customizeActions = new Array<CustomizeAction>();\r\n        if (actions && actions.length > 0) {\r\n            for (let a of actions) {\r\n                let action = new CustomizeAction(userActivity.Model);\r\n                action.id = BpmnModelHelper.GenerateElementId();\r\n                action.code = a.code;\r\n                action.name = a.name;\r\n                action.terminalType = a.terminalType;\r\n                action.actualParameters = [];\r\n                if (a.actualParameters && a.actualParameters.length > 0) {\r\n                    for (let p of a.actualParameters) {\r\n                        let parameter = new ActualParameter(userActivity.Model, p.Name, p.Value, p.ValueText, p.Tag || 'expression');\r\n                        action.actualParameters.push(parameter);\r\n                    }\r\n                }\r\n\r\n                userActivity.customizeActions.push(action);\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    updateVariableSettings(userActivity: UserActivity, obj: any) {\r\n        const bpmnModel = userActivity.Model;\r\n        const extendElements = bpmnModel.DefaultProcess.GetExtensionElements();\r\n        if (userActivity.variableSettings && userActivity.variableSettings.length > 0) {\r\n            for (const v of userActivity.variableSettings) {\r\n                if (v.tag === 'component') {\r\n                    const i = extendElements.findIndex(e => (e instanceof Component && e.Id === v.value));\r\n                    extendElements.splice(i, 1);\r\n                }\r\n            }\r\n        }\r\n        userActivity.variableSettings = new Array();\r\n\r\n        const variables = obj.propertyValue as any[];\r\n        if (variables && variables.length > 0) {\r\n            for (const v of variables) {\r\n                const variableSetting = new VariableSetting(bpmnModel);\r\n                variableSetting.variableCode = v.variableCode;\r\n                variableSetting.variableName = v.variableName;\r\n                variableSetting.tag = v.tag;\r\n                variableSetting.executionTime = v.executionTime;\r\n                variableSetting.value = v.value;\r\n                variableSetting.valueText = v.valueText;\r\n\r\n                userActivity.variableSettings.push(variableSetting);\r\n                if (variableSetting.tag === 'component') {\r\n                    const c = v.component;\r\n                    if (c) {\r\n                        let cpt = new Component(bpmnModel);\r\n                        cpt.MetadataId = c.MetadataId;\r\n                        cpt.MethodCode = c.MethodCode;\r\n                        cpt.Id = c.Id;\r\n                        cpt.Name = c.Name;\r\n                        cpt.ActualParameters = new Array();\r\n                        if (c.ActualParameters && c.ActualParameters.length > 0) {\r\n                            for (let a of c.ActualParameters) {\r\n                                let parameter = new ActualParameter(bpmnModel, a.Name, a.Value);\r\n                                parameter.Tag = a.Tag;\r\n                                cpt.ActualParameters.push(parameter);\r\n                            }\r\n                        }\r\n\r\n                        extendElements.push(cpt);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    updateImageSettings(userActivity: UserActivity, obj: any) {\r\n        let Settings = obj.propertyValue as any;\r\n        if (userActivity.imageSettings) {\r\n            userActivity.imageSettings = new ImageSettings(userActivity.Model);\r\n        }\r\n        if (Settings && Settings.imageOperation) {\r\n            const imageSettings = new ImageSettings(userActivity.Model);\r\n            imageSettings.imageOperation = Settings.imageOperation;\r\n            userActivity.imageSettings = imageSettings;\r\n        }\r\n    }\r\n\r\n    updateCheckConditions(userActivity: UserActivity, obj: any, isOperation = false) {\r\n        const checkConditions = obj.propertyValue as Array<any>;\r\n        userActivity.checkConditions = new Array();\r\n        for (const c of checkConditions) {\r\n            if (c.value) {\r\n                const condition = new CheckCondition(userActivity.Model);\r\n                condition.value = c.value;\r\n                condition.checkTime = c.checkTime;\r\n                condition.errorTips = new Map<string, string>();\r\n                if (c.errorTips) {\r\n                    for (let key in c.errorTips) {\r\n                        condition.errorTips.set(key, c.errorTips[key]);\r\n                    }\r\n                }\r\n                userActivity.checkConditions.push(condition);\r\n            }\r\n        }\r\n    }\r\n\r\n    updateOtherAssignNodes(userActivity: UserActivity, obj: any) {\r\n        const data: boolean = obj.propertyValue;\r\n        if (data) {\r\n            // const otherAssignNodes = new OtherAssignNodes(userActivity.Model);\r\n            // otherAssignNodes.otherAssignActivities = new Array();\r\n            // userActivity.otherAssignNodes = otherAssignNodes;\r\n            userActivity.otherAssignNodes = new OtherAssignNodes(userActivity.Model);\r\n        } else {\r\n            userActivity.otherAssignNodes = null;\r\n        }\r\n    }\r\n\r\n    updateOtherAssignActivities(userActivity: UserActivity, obj: any) {\r\n        const data:any[] = obj.propertyValue;\r\n        if (data && data.length > 0) {\r\n            if (typeof data[0] === \"string\") {\r\n                userActivity.otherAssignNodes.otherAssignActivityNodeInfos = new Array<OtherAssignActivityNodeInfo>();\r\n                data.forEach(d => {\r\n                    let other = new OtherAssignActivityNodeInfo(userActivity.Model);\r\n                    other.activityDefinitionId = d;\r\n                    other.required = false;\r\n                    other.condition = new Condition(userActivity.Model);\r\n                    userActivity.otherAssignNodes.otherAssignActivityNodeInfos.push(other);\r\n                });\r\n            } else {\r\n                userActivity.otherAssignNodes.otherAssignActivityNodeInfos = new Array<OtherAssignActivityNodeInfo>();\r\n                data.forEach(d => {\r\n                    let other = new OtherAssignActivityNodeInfo(userActivity.Model);\r\n                    other.activityDefinitionId = d.activityDefinitionId;\r\n                    other.required = d.required;\r\n                    other.condition = new Condition(userActivity.Model);\r\n                    other.condition.Value = d.condition.Value;                    \r\n                    userActivity.otherAssignNodes.otherAssignActivityNodeInfos.push(other);\r\n                });\r\n            }\r\n            // userActivity.otherAssignNodes.otherAssignActivities = [...data];\r\n        } else {\r\n            userActivity.otherAssignNodes.otherAssignActivityNodeInfos = new Array();\r\n        }\r\n    }\r\n\r\n    updateMessageNotices(userActivity: UserActivity, obj: any) {\r\n        let notices = obj.propertyValue as any[];\r\n        userActivity.messageNotices = new Array();\r\n        if (notices && notices.length > 0) {\r\n            for (let n of notices) {\r\n                const messageNotice = new MessageNotice(userActivity.Model);\r\n                messageNotice.sendType = n.sendType;\r\n                messageNotice.sendTime = n.sendTime;\r\n                messageNotice.subject = n.subject;\r\n                messageNotice.content = n.content;\r\n                n.receivers = n.receivers.filter((r: any) => r.type);\r\n                if (n.receivers && n.receivers.length > 0) {\r\n                    const receivers = n.receivers.filter((r: any) => r.type === 'userParticipant'\r\n                        || (r.type === 'processParticipant' && r.processParticipant !== 'activityExecutorParticipant'));\r\n                    const participants = n.receivers.filter((r: any) => r.type === 'variableParticipant' || r.type === 'positionParticipant'\r\n                        || (r.type === 'processParticipant' && r.processParticipant === 'activityExecutorParticipant'));\r\n                    if (receivers && receivers.length > 0) {\r\n                        let receiver = '';\r\n                        let receiverName = '';\r\n                        for (const r of receivers) {\r\n                            if (r.type === 'processParticipant') {\r\n                                receiver += (r.processParticipant + ',');\r\n                                if (r.processParticipant === 'procInstCreator') {\r\n                                    receiverName += '流程发起人,'\r\n                                } else if (r.processParticipant === 'workItemParticipant') {\r\n                                    receiverName += '任务接收人,'\r\n                                }\r\n                            } else if (r.type === 'userParticipant') {\r\n                                receiver += (r.userIds + ',');\r\n                                receiverName += (r.userNames + ',');\r\n                            }\r\n                        }\r\n                        if (receiver) {\r\n                            receiver = receiver.substring(0, receiver.length - 1);\r\n                        }\r\n                        if (receiverName) {\r\n                            receiverName = receiverName.substring(0, receiverName.length - 1);\r\n                        }\r\n                        messageNotice.receiver = receiver;\r\n                        messageNotice.receiverText = receiverName;\r\n                    }\r\n                    if (participants && participants.length > 0) {\r\n                        const receiverExpressions = new Array<ParticipantExpression>();\r\n                        for (const p of participants) {\r\n                            if (p.type === 'processParticipant') {\r\n                                let activityExecutor = new ActivityExecutorParticipantExpression(userActivity.Model);\r\n                                activityExecutor.id = BpmnModelHelper.GenerateElementId();\r\n                                activityExecutor.activityDefId = p.activityDefId;\r\n                                activityExecutor.activityDefName = p.activityDefName;\r\n                                receiverExpressions.push(activityExecutor);\r\n                            }\r\n                            if (p.type === 'variableParticipant') {\r\n                                let variableParticipant = new UserParticipantExpression(userActivity.Model, p.variableParticipant, p.variableName, p.orgType);\r\n                                variableParticipant.id = BpmnModelHelper.GenerateElementId();\r\n                                variableParticipant.Tag = 'expression';\r\n                                variableParticipant.OrgType = p.orgType;\r\n                                receiverExpressions.push(variableParticipant);\r\n                            }\r\n                            if (p.type === 'positionParticipant') {\r\n                                let posiParticipant = new PositionParticipantExpression(userActivity.Model, p.positionId, p.positionName);\r\n                                posiParticipant.id = BpmnModelHelper.GenerateElementId();\r\n                                posiParticipant.PositionType = p.positionType;\r\n                                if (p.positionType === '1') {\r\n                                    posiParticipant.OrgId = p.orgId;\r\n                                    posiParticipant.OrgType = p.orgType;\r\n                                }\r\n                                receiverExpressions.push(posiParticipant);\r\n                            }\r\n                        }\r\n                        messageNotice.receiverExpressions = receiverExpressions;\r\n                    }\r\n                }\r\n\r\n                if (n.smsMessageTemplate) {\r\n                    const smsMessageTemplate = new SmsMessageTemplate(userActivity.Model);\r\n                    smsMessageTemplate.code = n.smsMessageTemplate.code;\r\n                    smsMessageTemplate.content = n.smsMessageTemplate.content;\r\n                    smsMessageTemplate.smsMessageVariables = new Array();\r\n                    if (n.smsMessageTemplate.smsMessageVariables && n.smsMessageTemplate.smsMessageVariables.length > 0) {\r\n                        for (const v of n.smsMessageTemplate.smsMessageVariables) {\r\n                            const variable = new SmsMessageVariable(userActivity.Model);\r\n                            variable.code = v.code;\r\n                            variable.value = v.value;\r\n                            variable.tag = v.tag;\r\n                            smsMessageTemplate.smsMessageVariables.push(variable);\r\n                        }\r\n                    }\r\n                    messageNotice.smsMessageTemplate = smsMessageTemplate;\r\n                }\r\n\r\n                userActivity.messageNotices.push(messageNotice);\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    updateApprovalPivotConfig(userActivity: UserActivity, obj: any) {\r\n        let config = obj.propertyValue;\r\n        const approvalPivotConfig = new ApprovalPivotConfig(userActivity.Model);\r\n        approvalPivotConfig.enable = config.enable;\r\n        approvalPivotConfig.expand = config.expand;\r\n        approvalPivotConfig.title = config.title;\r\n        approvalPivotConfig.approvalPivots = new Array();\r\n        if (config.approvalPivots && config.approvalPivots.length > 0) {\r\n            for (const a of config.approvalPivots) {\r\n                const approvalPivot = new ApprovalPivot(userActivity.Model);\r\n                approvalPivot.type = a.type;\r\n                approvalPivot.title = a.title;\r\n                approvalPivot.description = a.description;\r\n                if (a.condition) {\r\n                    const condition = new Condition(userActivity.Model);\r\n                    condition.Value = a.condition;\r\n                    approvalPivot.condition = condition;\r\n                }\r\n                approvalPivotConfig.approvalPivots.push(approvalPivot);\r\n            }\r\n        }\r\n        userActivity.approvalPivotConfig = approvalPivotConfig;\r\n    }\r\n\r\n    updateUrgeHandleRule(userActivity: UserActivity, obj: any) {\r\n        const rule = obj.propertyValue;\r\n        const urgeHandleRule = new UrgeHandleRule(userActivity.Model);\r\n        urgeHandleRule.urgeHandleAble = rule.urgeHandleAble;\r\n        urgeHandleRule.sendType = rule.sendType;\r\n        urgeHandleRule.earlyTime = rule.earlyTime;\r\n        urgeHandleRule.intervalTime = rule.intervalTime;\r\n        urgeHandleRule.urgeMessageSubject = rule.urgeMessageSubject;\r\n        urgeHandleRule.urgeMessageContent = rule.urgeMessageContent;\r\n        urgeHandleRule.addReminder = rule.addReminder;\r\n        urgeHandleRule.subjectEditable = rule.subjectEditable;\r\n        urgeHandleRule.contentEditable = rule.contentEditable;\r\n\r\n        if (rule.smsMessageTemplate) {\r\n            const smsMessageTemplate = new SmsMessageTemplate(userActivity.Model);\r\n            smsMessageTemplate.code = rule.smsMessageTemplate.code;\r\n            smsMessageTemplate.content = rule.smsMessageTemplate.content;\r\n            smsMessageTemplate.smsMessageVariables = new Array();\r\n            if (rule.smsMessageTemplate.smsMessageVariables && rule.smsMessageTemplate.smsMessageVariables.length > 0) {\r\n                for (const v of rule.smsMessageTemplate.smsMessageVariables) {\r\n                    const variable = new SmsMessageVariable(userActivity.Model);\r\n                    variable.code = v.code;\r\n                    variable.value = v.value;\r\n                    variable.tag = v.tag;\r\n                    smsMessageTemplate.smsMessageVariables.push(variable);\r\n                }\r\n            }\r\n            urgeHandleRule.smsMessageTemplate = smsMessageTemplate;\r\n        }\r\n\r\n        userActivity.urgeHandleRule = urgeHandleRule;\r\n    }\r\n\r\n    /**\r\n     * 删除节点或参与者时，对应删除HumanResourceRoles\r\n     * @param bpmnModel\r\n     * @param ids\r\n     */\r\n    removeHumanResourceRoles(ids: string[]) {\r\n        const bpmnModel = this.flowElement.Model;\r\n        if (ids && ids.length > 0) {\r\n            const userActivitys = bpmnModel.DefaultProcess.GetFlowElements();\r\n            let perfIds = '';\r\n            for (let key in userActivitys) {\r\n                if (userActivitys[key] instanceof UserActivity) {\r\n                    const userAct = userActivitys[key] as UserActivity;\r\n                    if (userAct.ParticipantSchemes && userAct.ParticipantSchemes.length > 0 && userAct.ParticipantSchemes[0].Performers) {\r\n                        perfIds += (userAct.ParticipantSchemes[0].Performers + ',');\r\n                    }\r\n                }\r\n            }\r\n            const removeIds = ids.filter(id => perfIds.indexOf(id) < 0);\r\n            removeIds.forEach(reId => {\r\n                bpmnModel.DefaultProcess.RemoveResourceRole(reId);\r\n            });\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 更新审批活动扩展属性\r\n     * @param userActivity\r\n     * @param obj\r\n     */\r\n    resetExtendProperty(userActivity: UserActivity, obj: any) {\r\n        if (userActivity) {\r\n            let attributes = obj.propertyValue as any;\r\n            if (!userActivity.extendProperties) {\r\n                userActivity.extendProperties = new Array<ExtendProperty>();\r\n            }\r\n            for (const o of obj.propertyValue) {\r\n                const index = userActivity.extendProperties.findIndex(e => e.key === o.code);\r\n                if (index > -1) {\r\n                    userActivity.extendProperties.splice(index, 1);\r\n                }\r\n            }\r\n            if (attributes) {\r\n                attributes.forEach((a: any) => {\r\n                    let item = new ExtendProperty(userActivity.Model);\r\n                    item.key = a.code;\r\n                    item.value = a.value;\r\n                    userActivity.extendProperties.push(item);\r\n                });\r\n            }\r\n        }\r\n    }\r\n}\r\n","import { FarrisPropConfigWithData } from \"@edp-pmf/grapheditor\";\r\nimport { MxGraphNS } from \"@edp-pmf/mxgraph-ts\";\r\nimport { OperationActivity } from \"@gsp-wf/wf-process-model\";\r\nimport { UserActivityCell } from \"./UserActivityCell\";\r\nimport { BpmnModelHelper, FlowNodeState } from \"@edp-pmf/bpmn-model\";\r\nimport { WfConstants } from \"../WfConstants\";\r\n\r\n/**\r\n * 人工操作活动节点\r\n */\r\nexport class OperationActivityCell extends UserActivityCell {\r\n    clrTypeId: string = OperationActivityCell.CLR_TYPE_ID;\r\n    name: string = \"人工操作\";\r\n    nameLanguage: { [lang: string]: string; } = {\r\n      \"zh-CHS\": \"人工操作\",\r\n      \"zh-CHT\": \"人工操作\",\r\n      \"en\": \"Operation\",\r\n  };\r\n    static CLR_TYPE_ID: string = OperationActivity.Clr_Type_ID;\r\n    flowElement: OperationActivity;\r\n\r\n    imgUrls = {\r\n        [FlowNodeState.Default]: WfConstants.IMAGE_PATH + \"/bizActivity.png\",\r\n        [FlowNodeState.Selected]: WfConstants.IMAGE_PATH + \"/bizActivity_select.svg\",\r\n    };\r\n\r\n    constructor(value?: any, geometry?: MxGraphNS.mxGeometry, style?: string) {\r\n        super(value, geometry, style);\r\n    }\r\n\r\n    createFlowElement(flowElt?: OperationActivity) {\r\n        const flowNode = super.createFlowElement(flowElt) as OperationActivity;\r\n        return flowNode;\r\n    }\r\n\r\n    getFarrisPropConfig(): FarrisPropConfigWithData {\r\n        return this.getFarrisPropConfigByIsOperation(true);\r\n    }\r\n\r\n    updateProps(obj: any): void {\r\n        this.updatePropsByIsOperation(obj, true);\r\n    }\r\n}\r\n","export enum StartActivityPropertyKeys {\r\n    Id = \"Id\",\r\n    Name = \"Name\",\r\n    NameLanguage = \"NameLanguage\",\r\n    ClrTypeID = \"ClrTypeID\",\r\n    /**\r\n     * 是否允许选择目标节点\r\n     */\r\n    SelectTargetAble = 'SelectTargetAble',\r\n    /**\r\n     * 跳转范围\r\n     */\r\n    JumpScope = 'JumpScope',\r\n    ExecuteForms = 'ExecuteForms',\r\n    wf_ExecuteForms_PC = 'wf_ExecuteForms_PC',\r\n    wf_ExecuteForms_Mobile = 'wf_ExecuteForms_Mobile',\r\n    otherAssignNodes = 'otherAssignNodes',\r\n    otherAssignActivities = 'otherAssignActivities',\r\n    otherAssignActivityNodeInfos = 'OtherAssignActivityNodeInfos',\r\n    sendBackedTask = \"sendBackedTask\"\r\n}","import { NodeCell, ElementPropertyConfig, FarrisPropConfigWithData } from \"@edp-pmf/grapheditor\";\r\nimport { MxGraphNS, mxResources } from \"@edp-pmf/mxgraph-ts\";\r\nimport { BpmnModelHelper, FlowNodeState } from \"@edp-pmf/bpmn-model\";\r\nimport { StartActivity, ExtendProperty, JumpScope, ExecuteForm, ActualParameter, OtherAssignNodes, OtherAssignActivityNodeInfo, Condition } from \"@gsp-wf/wf-process-model\";\r\nimport { WfEditorUi } from \"../WfEditorUi\";\r\nimport { WfConstants } from \"../WfConstants\";\r\nimport { StartActivityPropertyKeys } from \"./property-keys/StartActivityPropertyKeys\";\r\nimport { PropertyHelper } from \"./PropertyHelper\";\r\n\r\n/**\r\n * 开始活动节点\r\n */\r\nexport class StartActivityCell extends NodeCell {\r\n    clrTypeId: string = StartActivityCell.CLR_TYPE_ID;\r\n    name: string = \"开始\";\r\n    nameLanguage: { [lang: string]: string; } = {\r\n      \"zh-CHS\": \"开始\",\r\n      \"zh-CHT\": \"開始\",\r\n      \"en\": \"Start\",\r\n  };\r\n    static CLR_TYPE_ID: string = StartActivity.Clr_Type_ID;\r\n    flowElement: StartActivity;\r\n    editorUi: WfEditorUi;\r\n\r\n    imgUrls = {\r\n        [FlowNodeState.Default]: WfConstants.IMAGE_PATH + \"/start.png\",\r\n        [FlowNodeState.Selected]: WfConstants.IMAGE_PATH + \"/start_select.svg\",\r\n    };\r\n\r\n    constructor(value?: any, geometry?: MxGraphNS.mxGeometry, style?: string) {\r\n        super(value, geometry, style);\r\n    }\r\n\r\n    createFlowElement(flowElt?: StartActivity) {\r\n        const flowNode = super.createFlowElement(flowElt) as StartActivity;\r\n        const editorUi = this.editorUi;\r\n        flowNode.Id = \"startActivity\" + BpmnModelHelper.GenerateElementId();\r\n        // 创建而非复制时执行\r\n        if (flowElt == null) {\r\n            // 设置默认表单\r\n            if (editorUi && editorUi.formFormats) {\r\n                const formFormats = editorUi.formFormats;\r\n                const startActivityForms = new Array();\r\n                const pcForm = formFormats.filter(f => f.terminal === 'PC' && f.status === 1)[0];\r\n                if (pcForm) {\r\n                    startActivityForms.push(pcForm);\r\n                }\r\n                const mobileForm = formFormats.filter(f => f.terminal === 'Mobile' && f.status === 1)[0];\r\n                if (mobileForm) {\r\n                    startActivityForms.push(mobileForm);\r\n                }\r\n\r\n                if (startActivityForms && startActivityForms.length > 0) {\r\n                    flowNode.setDefaultForms(startActivityForms);\r\n                }\r\n            }\r\n        }\r\n\r\n        return flowNode;\r\n    }\r\n\r\n    getFarrisPropConfig(): FarrisPropConfigWithData {\r\n        const editorUi = this.editorUi;\r\n        const act = this.flowElement as StartActivity;\r\n        let extendList = [];\r\n        if (editorUi.procExtProps && editorUi.procExtProps.length > 0) {\r\n            extendList = JSON.parse(JSON.stringify(editorUi.procExtProps)).sort((a, b) => {\r\n                return a.sortOrder - b.sortOrder;\r\n            });\r\n        }\r\n        extendList = extendList.sort((a, b) => {\r\n            return a.sortOrder - b.sortOrder;\r\n        })\r\n\r\n        let PropertyConfig: ElementPropertyConfig = new ElementPropertyConfig();\r\n        let propertyData: any = new Object();\r\n        PropertyConfig.categoryId = 'general';\r\n        PropertyConfig.categoryName = mxResources.get('basicInformation');\r\n        PropertyConfig.tabId = 'basic';\r\n        PropertyConfig.tabName = mxResources.get('basicAttributes');\r\n        PropertyConfig.properties = [\r\n            { propertyID: StartActivityPropertyKeys.Name, propertyName: mxResources.get('name'), propertyType: 'string', visible: !this.editorUi.multiLangEnabled },\r\n            { propertyID: StartActivityPropertyKeys.NameLanguage, propertyName: mxResources.get('nameLanguage'), propertyType: 'multiLanguage', visible: this.editorUi.multiLangEnabled },\r\n            { propertyID: StartActivityPropertyKeys.Id, propertyName: mxResources.get('id'), propertyType: 'string', readonly: true }\r\n        ];\r\n\r\n        let formDef = new ElementPropertyConfig();\r\n        formDef.categoryId = 'formDef';\r\n        formDef.categoryName = mxResources.get('formDef');\r\n        formDef.tabId = 'basic';\r\n        formDef.tabName = mxResources.get('basicAttributes');\r\n        formDef.properties = [\r\n            { propertyID: StartActivityPropertyKeys.wf_ExecuteForms_PC, propertyName: mxResources.get('pcForm'), propertyType: 'modal' },\r\n            { propertyID: StartActivityPropertyKeys.wf_ExecuteForms_Mobile, propertyName: mxResources.get('webForm'), propertyType: 'modal' },\r\n        ];\r\n\r\n        let ActivityConfig: ElementPropertyConfig = new ElementPropertyConfig();\r\n        ActivityConfig.categoryId = 'activityConfig';\r\n        ActivityConfig.categoryName = mxResources.get('activityProperty');\r\n        ActivityConfig.tabId = 'basic';\r\n        ActivityConfig.tabName = mxResources.get('basicAttributes');\r\n        ActivityConfig.properties = [\r\n            // { propertyID: StartActivityPropertyKeys.ExecuteForms, propertyName: mxResources.get('formDef'), propertyType: 'modal' },\r\n            { propertyID: 'sendBackedTask', propertyName: mxResources.get('sendBackedTask'), propertyType: 'select' }\r\n        ];\r\n\r\n        if (act.selectTargetAble) {\r\n            ActivityConfig.properties = ActivityConfig.properties.concat([\r\n                { propertyID: StartActivityPropertyKeys.SelectTargetAble, propertyName: mxResources.get('selectTargetAble'), propertyType: 'select' },\r\n                { propertyID: StartActivityPropertyKeys.JumpScope, propertyName: mxResources.get('jumpScope'), propertyType: 'modal' }]);\r\n            propertyData.SelectTargetAble = act.selectTargetAble || false;\r\n            propertyData.JumpScope = act.jumpScope;\r\n        } else {\r\n            ActivityConfig.properties = ActivityConfig.properties.concat([\r\n                { propertyID: StartActivityPropertyKeys.SelectTargetAble, propertyName: mxResources.get('selectTargetAble'), propertyType: 'select' }]);\r\n            propertyData.SelectTargetAble = act.selectTargetAble || false;\r\n        }\r\n\r\n        if (act.otherAssignNodes) {\r\n            ActivityConfig.properties = ActivityConfig.properties.concat([\r\n                { propertyID: StartActivityPropertyKeys.otherAssignNodes, propertyName: mxResources.get('otherAssignNodes'), propertyType: 'select' },\r\n                // { propertyID: StartActivityPropertyKeys.otherAssignActivities, propertyName: mxResources.get('otherAssignActivities'), propertyType: 'modal' }\r\n                { propertyID: StartActivityPropertyKeys.otherAssignActivityNodeInfos, propertyName: mxResources.get('otherAssignActivityNodeInfos'), propertyType: 'modal' }\r\n            ]);\r\n            propertyData[StartActivityPropertyKeys.otherAssignNodes] = true;\r\n            // propertyData[StartActivityPropertyKeys.otherAssignActivities] = act.otherAssignNodes.otherAssignActivities;\r\n            propertyData[StartActivityPropertyKeys.otherAssignActivityNodeInfos] = act.otherAssignNodes.otherAssignActivities || act.otherAssignNodes.otherAssignActivityNodeInfos;\r\n            if(act.otherAssignNodes.otherAssignActivities){\r\n                act.otherAssignNodes.otherAssignActivities = null;\r\n            }\r\n\r\n        } else {\r\n            ActivityConfig.properties = ActivityConfig.properties.concat([\r\n                { propertyID: StartActivityPropertyKeys.otherAssignNodes, propertyName: mxResources.get('otherAssignNodes'), propertyType: 'select' }\r\n            ]);\r\n            propertyData[StartActivityPropertyKeys.otherAssignNodes] = false;\r\n        }\r\n\r\n        const groupList = new Array();\r\n        for (const extend of extendList) {\r\n            if (!extend.parentId) {\r\n                const group = { parent: extend, childs: new Array() };\r\n                for (const e of extendList) {\r\n                    if (e.parentId === extend.id) {\r\n                        group.childs.push(e);\r\n                    }\r\n                }\r\n                groupList.push(group)\r\n            }\r\n        }\r\n        // 没有扩展属性值的时候不显示扩展属性一栏\r\n        if (groupList && groupList.length > 0) {\r\n            let ExtendPropertyConfig: ElementPropertyConfig = new ElementPropertyConfig();\r\n            ExtendPropertyConfig.categoryId = 'extendPropertyConfig';\r\n            ExtendPropertyConfig.categoryName = mxResources.get('extendPropertyConfig');\r\n            ExtendPropertyConfig.tabId = 'advanced';\r\n            ExtendPropertyConfig.tabName = mxResources.get('advancedAttributes');\r\n            ExtendPropertyConfig.properties = new Array();\r\n            for (const g of groupList) {\r\n                ExtendPropertyConfig.properties.push(\r\n                    { propertyID: g.parent.id, propertyName: g.parent.propertyTitle, propertyType: 'modal' });\r\n                // 取回模型上的value值给到扩展属性组件里\r\n                if (act.extendProperties && act.extendProperties.length > 0) {\r\n                    g.childs.sort((a, b) => {\r\n                        return a.sortOrder - b.sortOrder;\r\n                    }).forEach((d: any) => {\r\n                        act.extendProperties.forEach(e => {\r\n                            if (e.key == d.code) {\r\n                                d.value = e.value;\r\n                            }\r\n                        });\r\n                    });\r\n                }\r\n                propertyData[g.parent.id] = g.childs;\r\n            }\r\n            // todo：与else分支代码重复，可提取至if语句外，本次修改仅针对名称多语，故暂不修改\r\n            propertyData[StartActivityPropertyKeys.Id] = act.Id;\r\n            propertyData[StartActivityPropertyKeys.ClrTypeID] = act.ClrTypeID;\r\n            propertyData[StartActivityPropertyKeys.Name] = act.Name || mxResources.get('start');\r\n            propertyData[StartActivityPropertyKeys.NameLanguage] = act.NameLanguage || {\r\n                \"zh-CHS\": act.Name,\r\n            };\r\n\r\n            propertyData[StartActivityPropertyKeys.sendBackedTask] = act.sendBackedTask;\r\n\r\n            propertyData[StartActivityPropertyKeys.wf_ExecuteForms_PC] =\r\n                act.ExecuteForms ? act.ExecuteForms.find(e => e.TerminalType === 'PC') : null;\r\n            propertyData[StartActivityPropertyKeys.wf_ExecuteForms_Mobile] =\r\n                act.ExecuteForms ? act.ExecuteForms.find(e => e.TerminalType === 'MOBILE') : null;\r\n            return {\r\n                propertyConfig: [PropertyConfig, formDef, ActivityConfig, ExtendPropertyConfig],\r\n                propertyData: propertyData\r\n            }\r\n        } else {\r\n            propertyData[StartActivityPropertyKeys.Id] = act.Id;\r\n            propertyData[StartActivityPropertyKeys.ClrTypeID] = act.ClrTypeID;\r\n            propertyData[StartActivityPropertyKeys.Name] = act.Name || mxResources.get('start');\r\n            propertyData[StartActivityPropertyKeys.NameLanguage] = act.NameLanguage || {\r\n                \"zh-CHS\": act.Name,\r\n            };\r\n\r\n            propertyData[StartActivityPropertyKeys.sendBackedTask] = act.sendBackedTask;\r\n\r\n            propertyData[StartActivityPropertyKeys.wf_ExecuteForms_PC] =\r\n                act.ExecuteForms ? act.ExecuteForms.find(e => e.TerminalType === 'PC') : null;\r\n            propertyData[StartActivityPropertyKeys.wf_ExecuteForms_Mobile] =\r\n                act.ExecuteForms ? act.ExecuteForms.find(e => e.TerminalType === 'MOBILE') : null;\r\n\r\n            return {\r\n                propertyConfig: [PropertyConfig, formDef, ActivityConfig],\r\n                propertyData: propertyData\r\n            }\r\n        }\r\n    }\r\n\r\n    updateProps(obj: any) {\r\n        const editorUi = this.editorUi;\r\n        const startActivity = this.flowElement;\r\n        const propertyId: string = obj.propertyID;\r\n        switch (propertyId) {\r\n            case StartActivityPropertyKeys.wf_ExecuteForms_PC:\r\n                this.updateStartActivityForm(startActivity, obj, 'PC');\r\n                if (obj.parameters && obj.parameters.length > 0) {\r\n                    PropertyHelper.updateFormalParameters(editorUi.graph.bpmnModel.DefaultProcess, obj.parameters);\r\n                }\r\n                break;\r\n            case StartActivityPropertyKeys.wf_ExecuteForms_Mobile:\r\n                this.updateStartActivityForm(startActivity, obj, 'MOBILE');\r\n                if (obj.parameters && obj.parameters.length > 0) {\r\n                    PropertyHelper.updateFormalParameters(editorUi.graph.bpmnModel.DefaultProcess, obj.parameters);\r\n                }\r\n                break;\r\n            case StartActivityPropertyKeys.SelectTargetAble:\r\n                this.resetSelectTargetAble(startActivity, obj);\r\n                break;\r\n            case StartActivityPropertyKeys.JumpScope:\r\n                this.resetJumpScope(startActivity, obj);\r\n                break;\r\n            case StartActivityPropertyKeys.otherAssignNodes:\r\n                this.updateOtherAssignNodes(startActivity, obj);\r\n                break;\r\n            case StartActivityPropertyKeys.otherAssignActivities:\r\n                this.updateOtherAssignActivities(startActivity, obj);\r\n                break;\r\n            case StartActivityPropertyKeys.otherAssignActivityNodeInfos:\r\n                this.updateOtherAssignActivities(startActivity, obj);\r\n                break;\r\n            default:\r\n                // 判断ResourceKeys是不是groupid,是就走resetExtendProperty\r\n                if (editorUi.procExtProps.findIndex(p => p.id === propertyId) > -1) {\r\n                    this.resetExtendProperty(startActivity, obj);\r\n                } else {\r\n                    super.updateProps(obj);\r\n                }\r\n                break;\r\n        }\r\n    }\r\n\r\n    updateStartActivityForm(start: StartActivity, obj: any, terminal: string) {\r\n        if (start) {\r\n            let form = obj.propertyValue as any;\r\n            if (!start.ExecuteForms) {\r\n                start.ExecuteForms = new Array<ExecuteForm>();\r\n            }\r\n            start.ExecuteForms = start.ExecuteForms.filter(e => e.TerminalType !== terminal);\r\n            if (form) {\r\n                let params = form.ActualParameters as any[];\r\n                let actParas = new Array<ActualParameter>();\r\n                if (params && params.length > 0) {\r\n                    for (let para of params) {\r\n                        let actPara = new ActualParameter(start.Model, para.Name, para.Value);\r\n                        if (para.Tag) {\r\n                            actPara.Tag = para.Tag;\r\n                        } else {\r\n                            if (para.Value) {\r\n                                if (para.Value.length >= 8 && para.Value.slice(0, 8) === `{\"expr\":`) {\r\n                                    actPara.Tag = 'expression';\r\n                                } else {\r\n                                    actPara.Tag = 'constant';\r\n                                }\r\n                            } else {\r\n                                actPara.Tag = 'variable';\r\n                            }\r\n\r\n                        }\r\n                        actParas.push(actPara);\r\n                    }\r\n                }\r\n                const id = BpmnModelHelper.GenerateElementId();\r\n                let item = new ExecuteForm(start.Model, id, form.Name, actParas);\r\n                item.ComponentId = form.ComponentId;\r\n                item.FormType = form.FormType;\r\n                item.formFormatId = form.formFormatId;\r\n                item.formatConfigId = form.formatConfigId;\r\n                item.TerminalType = form.TerminalType;\r\n                start.ExecuteForms.push(item);\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 更新是否允许跳转属性\r\n     * @param startActivity\r\n     * @param obj\r\n     */\r\n    resetSelectTargetAble(startActivity: StartActivity, obj: any) {\r\n        const selectTargetAble = obj.propertyValue as boolean;\r\n        startActivity.selectTargetAble = selectTargetAble;\r\n        if (startActivity.selectTargetAble) {\r\n            startActivity.jumpScope = new JumpScope(startActivity.Model);\r\n        } else {\r\n            startActivity.jumpScope = null;\r\n        }\r\n    }\r\n\r\n    resetJumpScope(startActivity: StartActivity, obj: any) {\r\n        const data = obj.propertyValue;\r\n        if (data) {\r\n            let jumpScope = new JumpScope(startActivity.Model);\r\n            jumpScope.Category = data.Category;\r\n            jumpScope.DefaultType = data.DefaultType;\r\n            jumpScope.DefaultActivity = data.DefaultActivity;\r\n            jumpScope.DestinationActivities = data.DestinationActivities;\r\n            startActivity.jumpScope = jumpScope;\r\n        } else {\r\n            startActivity.jumpScope = null;\r\n        }\r\n    }\r\n\r\n    updateOtherAssignNodes(startActivity: StartActivity, obj: any) {\r\n        const data: boolean = obj.propertyValue;\r\n        if (data) {\r\n            // const otherAssignNodes = new OtherAssignNodes(startActivity.Model);\r\n            // otherAssignNodes.otherAssignActivities = new Array();\r\n            // startActivity.otherAssignNodes = otherAssignNodes;\r\n            startActivity.otherAssignNodes = new OtherAssignNodes(startActivity.Model);\r\n        } else {\r\n            startActivity.otherAssignNodes = null;\r\n        }\r\n    }\r\n\r\n    updateOtherAssignActivities(startActivity: StartActivity, obj: any) {\r\n        const data:any[] = obj.propertyValue;\r\n        if (data && data.length > 0) {\r\n            if (typeof data[0] === \"string\") {\r\n                startActivity.otherAssignNodes.otherAssignActivityNodeInfos = new Array<OtherAssignActivityNodeInfo>();\r\n                data.forEach(d => {\r\n                    let other = new OtherAssignActivityNodeInfo(startActivity.Model);\r\n                    other.activityDefinitionId = d;\r\n                    other.required = false;\r\n                    other.condition = new Condition(startActivity.Model);\r\n                    startActivity.otherAssignNodes.otherAssignActivityNodeInfos.push(other);\r\n                })\r\n            } else {\r\n                // startActivity.otherAssignNodes.otherAssignActivityNodeInfos = [...data];  \r\n                startActivity.otherAssignNodes.otherAssignActivityNodeInfos = new Array<OtherAssignActivityNodeInfo>();\r\n                data.forEach(d => {\r\n                    let other = new OtherAssignActivityNodeInfo(startActivity.Model);\r\n                    other.activityDefinitionId = d.activityDefinitionId;\r\n                    other.required = d.required;\r\n                    other.condition = new Condition(startActivity.Model);\r\n                    other.condition.Value = d.condition.Value;                    \r\n                    startActivity.otherAssignNodes.otherAssignActivityNodeInfos.push(other);\r\n                }); \r\n            }\r\n        } else {\r\n            startActivity.otherAssignNodes.otherAssignActivityNodeInfos = new Array();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 更新开始节点扩展属性\r\n     * @param startActivity\r\n     * @param obj\r\n     */\r\n    resetExtendProperty(startActivity: StartActivity, obj: any) {\r\n        if (startActivity) {\r\n            let attributes = obj.propertyValue as any;\r\n            if (!startActivity.extendProperties) {\r\n                startActivity.extendProperties = new Array<ExtendProperty>();\r\n            }\r\n            for (const o of obj.propertyValue) {\r\n                const index = startActivity.extendProperties.findIndex(e => e.key === o.code);\r\n                if (index > -1) {\r\n                    startActivity.extendProperties.splice(index, 1);\r\n                }\r\n            }\r\n            if (attributes) {\r\n                attributes.forEach((a: any) => {\r\n                    let item = new ExtendProperty(startActivity.Model);\r\n                    item.key = a.code;\r\n                    item.value = a.value;\r\n                    startActivity.extendProperties.push(item);\r\n                });\r\n            }\r\n        }\r\n    }\r\n}\r\n","import { ParallelGateway, BpmnModelHelper, FlowNodeState } from \"@edp-pmf/bpmn-model\";\r\nimport { ParallelGatewayCell } from \"@edp-pmf/grapheditor\";\r\nimport { WfConstants } from \"../WfConstants\";\r\n\r\n/**\r\n * 并行事件节点，增加状态图片信息\r\n */\r\nexport class WfParallelGatewayCell extends ParallelGatewayCell {\r\n    imgUrls = {\r\n        [FlowNodeState.Default]: WfConstants.IMAGE_PATH + \"/ParallelGateway.png\",\r\n        [FlowNodeState.Selected]: WfConstants.IMAGE_PATH + \"/ParallelGateway_select.svg\",\r\n    };\r\n\r\n    createFlowElement(flowElt?: ParallelGateway) {\r\n        const flowNode = super.createFlowElement(flowElt) as ParallelGateway;\r\n        flowNode.Id = \"ParallelGateway\" + BpmnModelHelper.GenerateElementId();\r\n\r\n        return flowNode;\r\n    }\r\n}","import { EndEventCell } from \"@edp-pmf/grapheditor\";\r\nimport { BpmnModelHelper, EndEvent, FlowNodeState } from \"@edp-pmf/bpmn-model\";\r\nimport { WfConstants } from \"../WfConstants\";\r\n\r\n/**\r\n * 结束事件节点，增加状态图片信息\r\n */\r\nexport class WfEndEventCell extends EndEventCell {\r\n    imgUrls = {\r\n        [FlowNodeState.Default]: WfConstants.IMAGE_PATH + \"/end.png\",\r\n        [FlowNodeState.Selected]: WfConstants.IMAGE_PATH + \"/end_select.svg\",\r\n    };\r\n\r\n    createFlowElement(flowElt?: EndEvent) {\r\n        const flowNode = super.createFlowElement(flowElt) as EndEvent;\r\n        flowNode.Id = \"EndEvent\" + BpmnModelHelper.GenerateElementId();\r\n\r\n        return flowNode;\r\n    }\r\n}","import { InclusiveGateway, BpmnModelHelper, FlowNodeState } from \"@edp-pmf/bpmn-model\";\r\nimport { InclusiveGatewayCell } from \"@edp-pmf/grapheditor\";\r\nimport { WfConstants } from \"../WfConstants\";\r\n\r\n/**\r\n * 排他网关节点，增加状态图片信息\r\n */\r\nexport class WfInclusiveGatewayCell extends InclusiveGatewayCell {\r\n  imgUrls = {\r\n    [FlowNodeState.Default]: WfConstants.IMAGE_PATH + \"/InclusiveGateway.png\",\r\n    [FlowNodeState.Selected]: WfConstants.IMAGE_PATH + \"/InclusiveGateway_select.png\",\r\n  };\r\n\r\n  createFlowElement(flowElt?: InclusiveGateway) {\r\n    const flowNode = super.createFlowElement(flowElt) as InclusiveGateway;\r\n    flowNode.Id = \"InclusiveGateway\" + BpmnModelHelper.GenerateElementId();\r\n\r\n    return flowNode;\r\n  }\r\n}\r\n","import { Component, ComponentFactoryResolver, ComponentRef, Inject, Injector, LOCALE_ID, OnInit, Optional, TemplateRef, ViewChild } from '@angular/core';\r\nimport { PickedResult } from '@farris/ui-lookup';\r\nimport { Observable, Subject, of } from 'rxjs';\r\nimport { WF_LANG_RESOURCES, WfLocalePipe } from '../../i18n/pipe/wf-process-editor-locale.pipe';\r\nimport { ProcessDesignerUIState } from '../../app/process-designer.uistate';\r\nimport { ActionScope, OrganizationPotentialOwner } from '../organization-potential-owner/actionOrganizationScope';\r\nimport { BackwardRuleComponent } from '../backward-rule/backward-rule.component';\r\nimport { BsModalService } from '@farris/ui-modal';\r\nimport { OrganizationPotentialOwnerComponent } from '../organization-potential-owner/organization-potential-owner.component';\r\nimport { ProcessDesignerViewModel } from '../../app/process-designer.viewmodel';\r\nimport { UserActivity } from '@gsp-wf/wf-process-model';\r\nimport { ParticipantInfo } from '../participant/participant.info';\r\n\r\n@Component({\r\n  selector: 'lib-batch-set-properties',\r\n  templateUrl: './batch-set-properties.component.html',\r\n  styleUrls: ['./batch-set-properties.component.css'],\r\n  providers: [\r\n    WfLocalePipe,\r\n  ]\r\n})\r\nexport class BatchSetPropertiesComponent implements OnInit {\r\n\r\n  groupIcon2 = '<i class=\"f-icon f-icon-lookup\"></i>';\r\n  submit = new Subject<string>();\r\n  cancel = new Subject<any>();\r\n  @ViewChild('footer') footer: TemplateRef<any>;\r\n  @ViewChild('iconSelectFooter') modalFooter: TemplateRef<any>;\r\n  cols = [\r\n    { title: this.localePipe.transform('component.batchSet.name'), field: 'Name', width: 60, searchField: 'Name' },\r\n    { title: 'ID', field: 'Id', width: 90, searchField: 'Id' }];\r\n  activityModel: any;\r\n  useractivities = [];\r\n  useroperationnotifyactivities = [];\r\n  useroperationsubcatchactivities = [];\r\n  actis1 = [];\r\n  actis2 = [];\r\n  actis3 = [];\r\n  actis4 = [];\r\n  actis5= [];\r\n  addSignFrontActis = [];\r\n  addSignBehindActis = [];\r\n  transferActis = [];\r\n  notifyActis = [];\r\n  backWardRuleActis = [];\r\n  nullActis = [];\r\n  addSignFrontEnable = false;\r\n  addSignBehindEnable = false;\r\n  transferEnable = false;\r\n  notifyEnable = false;\r\n  backWardRuleEnable = false;\r\n  backWardRule = {};\r\n  addSignFrontScope = {};\r\n  addSignBehindScope = {};\r\n  transferScope = {};\r\n  notifyScope = {};\r\n  pageInfo = {\r\n    pageIndex: 1,\r\n    pageList: [10, 20, 30, 50],\r\n    pageSize: 20\r\n  };\r\n  total: number;\r\n  constructor(\r\n    public uistate: ProcessDesignerUIState,\r\n    @Inject(LOCALE_ID) private localeId: string,\r\n    @Inject(WF_LANG_RESOURCES) private resources: any,\r\n    @Optional() private localePipe: WfLocalePipe,\r\n    private resolver: ComponentFactoryResolver,\r\n    private injector: Injector,\r\n    private modalService: BsModalService,\r\n    private viewModel: ProcessDesignerViewModel,\r\n  ) {\r\n    // 过滤只有审批节点的\r\n    this.useractivities = this.uistate.userActList.filter(function(item) {\r\n      return item.ClrTypeID === UserActivity.Clr_Type_ID;\r\n  })\r\n    // 拼接审批+人工+知会\r\n    this.useroperationnotifyactivities = [...this.uistate.userActList, ...this.uistate.NotifyActKist];\r\n    // 拼接审批人工子流程信号捕获\r\n    this.useroperationsubcatchactivities = [...this.uistate.userActList, ...this.uistate.SubAndCatchActList];\r\n    this.localePipe = this.localePipe || new WfLocalePipe(localeId, resources);\r\n  }\r\n\r\n  ngOnInit() {\r\n    const addSignFront = this.activityModel.dynamicParticipants.filter(function(participant) {\r\n      return participant.actionScope === \"AddSignFront\";\r\n    });\r\n    const addSignBehind = this.activityModel.dynamicParticipants.filter(function(participant) {\r\n      return participant.actionScope === \"AddSignBehind\";\r\n    });\r\n    const transfer = this.activityModel.dynamicParticipants.filter(function(participant) {\r\n      return participant.actionScope === \"Transfer\";\r\n    });\r\n    const notify = this.activityModel.dynamicParticipants.filter(function(participant) {\r\n      return participant.actionScope === \"Notify\";\r\n    });\r\n    if(!addSignFront[0] || addSignFront[0].organizationLevel) {  \r\n      this.addSignFrontScope = {\r\n        enable: this.activityModel.AddSignFrontAble,\r\n        action: \"AddSignFront\",\r\n        scope: addSignFront[0]\r\n      }\r\n    } else {\r\n      let scope = new OrganizationPotentialOwner();\r\n      let participant = new ParticipantInfo();\r\n      participant.potentialOwnerList = addSignFront;\r\n      participant.isAllScope = true;//反的\r\n      scope.participantInfo = participant;\r\n      this.addSignFrontScope = {\r\n        enable: this.activityModel.AddSignFrontAble,\r\n        action: \"AddSignFront\",\r\n        scope: scope\r\n      }\r\n    };\r\n    if(!addSignBehind[0] || addSignBehind[0].organizationLevel) {  \r\n      this.addSignBehindScope = {\r\n        enable: this.activityModel.AddSignBehindAble,\r\n        action: \"AddSignBehind\",\r\n        scope: addSignBehind[0]\r\n      }\r\n    } else {\r\n      let scope = new OrganizationPotentialOwner();\r\n      let participant = new ParticipantInfo();\r\n      participant.potentialOwnerList = addSignBehind;\r\n      participant.isAllScope = true;//反的\r\n      scope.participantInfo = participant;\r\n      this.addSignBehindScope = {\r\n        enable: this.activityModel.AddSignBehindAble,\r\n        action: \"AddSignBehind\",\r\n        scope: scope\r\n      };\r\n    }\r\n    if(!transfer[0] || transfer[0].organizationLevel) {  \r\n      this.transferScope = {\r\n        enable: this.activityModel.transferAble,\r\n        action: \"Transfer\",\r\n        scope: transfer[0]\r\n      };\r\n    } else {\r\n      let scope = new OrganizationPotentialOwner();\r\n      let participant = new ParticipantInfo();\r\n      participant.potentialOwnerList = transfer;\r\n      participant.isAllScope = true;//反的\r\n      scope.participantInfo = participant;\r\n      this.transferScope = {\r\n        enable: this.activityModel.transferAble,\r\n        action: \"Transfer\",\r\n        scope: scope\r\n      };\r\n    }\r\n    if(!notify[0] || notify[0].organizationLevel) {  \r\n      this.notifyScope = {\r\n        enable: this.activityModel.NotifyAble,\r\n        action: \"Notify\",\r\n        scope: notify[0]\r\n      };\r\n    } else {\r\n      let scope = new OrganizationPotentialOwner();\r\n      let participant = new ParticipantInfo();\r\n      participant.potentialOwnerList = notify;\r\n      participant.isAllScope = true;//反的\r\n      scope.participantInfo = participant;\r\n      this.notifyScope = {\r\n        enable: this.activityModel.NotifyAble,\r\n        action: \"Notify\",\r\n        scope: scope\r\n      };\r\n    }\r\n    this.backWardRule = this.activityModel.BackWardRule;\r\n  }\r\n\r\n  frontActisSelect = (rowData): Observable<PickedResult> => {\r\n    this.addSignFrontActis = rowData;\r\n    return of({\r\n      closeDialog: true\r\n    });\r\n  }\r\n\r\n  behindActisSelect = (rowData): Observable<PickedResult> => {\r\n    this.addSignBehindActis = rowData;\r\n    return of({\r\n      closeDialog: true\r\n    });\r\n  }\r\n\r\n  notifyActisSelect = (rowData): Observable<PickedResult> => {\r\n    this.notifyActis = rowData;\r\n    return of({\r\n      closeDialog: true\r\n    });\r\n  }\r\n\r\n  transferActisSelect = (rowData): Observable<PickedResult> => {\r\n    this.transferActis = rowData;\r\n    return of({\r\n      closeDialog: true\r\n    });\r\n  }\r\n\r\n  backWardRuleActisSelect = (rowData): Observable<PickedResult> => {\r\n    this.backWardRuleActis = rowData;\r\n    return of({\r\n      closeDialog: true\r\n    });\r\n  }\r\n\r\n  actisSelect = (rowData): Observable<PickedResult> => {\r\n    return of({\r\n      closeDialog: true\r\n    });\r\n  }\r\n\r\n  // addSignFrontConfig() {\r\n  //   const compFactory = this.resolver.resolveComponentFactory(OrganizationPotentialOwnerComponent);\r\n  //   const compRef = compFactory.create(this.injector);\r\n  //   compRef.instance.action = ActionScope.AddSignFront\r\n  //   const orgModalConfig = {\r\n  //     title: this.localePipe.transform('component.orgPotentialOwner.optionSettings'),\r\n  //     width: 517,\r\n  //     height: 382,\r\n  //     showButtons: true,\r\n  //     buttons: compRef.instance.modalFooter\r\n  //   };\r\n  //   const dialog = this.modalService.show(compRef, orgModalConfig);\r\n  //   compRef.instance.closeModal.subscribe($event => dialog.close());\r\n  //   compRef.instance.submitModal.subscribe((data: any) => {\r\n  //     this.addSignFrontScope = data.value;\r\n  //     this.frontPlaceholder = '（已设置）'\r\n  //     dialog.close();\r\n  //   });\r\n  // }\r\n\r\n  // addSignBehindConfig() {\r\n  //   const compFactory = this.resolver.resolveComponentFactory(OrganizationPotentialOwnerComponent);\r\n  //   const compRef = compFactory.create(this.injector);\r\n  //   compRef.instance.action = ActionScope.AddSignBehind\r\n  //   const orgModalConfig = {\r\n  //     title: this.localePipe.transform('component.orgPotentialOwner.optionSettings'),\r\n  //     width: 517,\r\n  //     height: 382,\r\n  //     showButtons: true,\r\n  //     buttons: compRef.instance.modalFooter\r\n  //   };\r\n  //   const dialog = this.modalService.show(compRef, orgModalConfig); compRef.instance.closeModal.subscribe($event => dialog.close());\r\n  //   compRef.instance.submitModal.subscribe((data: any) => {\r\n  //     this.addSignBehindScope = data.value;\r\n  //     this.behindPlaceholder = '（已设置）'\r\n  //     dialog.close();\r\n  //   });\r\n  // }\r\n\r\n  // transferConfig() {\r\n  //   const compFactory = this.resolver.resolveComponentFactory(OrganizationPotentialOwnerComponent);\r\n  //   const compRef = compFactory.create(this.injector);\r\n  //   compRef.instance.action = ActionScope.Transfer\r\n  //   const orgModalConfig = {\r\n  //     title: this.localePipe.transform('component.orgPotentialOwner.optionSettings'),\r\n  //     width: 517,\r\n  //     height: 382,\r\n  //     showButtons: true,\r\n  //     buttons: compRef.instance.modalFooter\r\n  //   };\r\n  //   const dialog = this.modalService.show(compRef, orgModalConfig); compRef.instance.closeModal.subscribe($event => dialog.close());\r\n  //   compRef.instance.submitModal.subscribe((data: any) => {\r\n  //     this.transferScope = data.value;\r\n  //     this.transferPlaceholder = '（已设置）'\r\n  //     dialog.close();\r\n  //   });\r\n  // }\r\n\r\n  // notifyConfig() {\r\n  //   const compFactory = this.resolver.resolveComponentFactory(OrganizationPotentialOwnerComponent);\r\n  //   const compRef = compFactory.create(this.injector);\r\n  //   compRef.instance.action = ActionScope.Notify\r\n  //   const orgModalConfig = {\r\n  //     title: this.localePipe.transform('component.orgPotentialOwner.optionSettings'),\r\n  //     width: 517,\r\n  //     height: 382,\r\n  //     showButtons: true,\r\n  //     buttons: compRef.instance.modalFooter\r\n  //   };\r\n  //   const dialog = this.modalService.show(compRef, orgModalConfig);\r\n  //   compRef.instance.closeModal.subscribe($event => dialog.close());\r\n  //   compRef.instance.submitModal.subscribe((data: any) => {\r\n  //     this.notifyScope = data.value;\r\n  //     this.notifyPlaceholder = '（已设置）'\r\n  //     dialog.close();\r\n  //   });\r\n  // }\r\n\r\n  // backWardRuleConfig() {\r\n  //   const compFactory = this.resolver.resolveComponentFactory(BackwardRuleComponent);\r\n  //   const compRef = compFactory.create(this.injector);\r\n  //   compRef.instance.editorParams.nodeType = 'UserActivity';\r\n  //   const modalConfig = {\r\n  //     title: this.localePipe.transform('component.backwardRule.backwardRule'),\r\n  //     width: 760,\r\n  //     height: 505,\r\n  //     buttons: compRef.instance.modalFooter\r\n  //   };\r\n  //   const dialog = this.modalService.show(compRef, modalConfig);\r\n  //   compRef.instance.closeModal.subscribe($event => dialog.close());\r\n  //   compRef.instance.submitModal.subscribe((data: any) => {\r\n  //     this.backWardRule = data.value;\r\n  //     this.backWardPlaceholder = '（已设置）'\r\n  //     dialog.close();\r\n  //   });\r\n  // }\r\n\r\n  clickOK() {\r\n    const value = [];\r\n    if (this.addSignFrontEnable) {\r\n      const frontData = {\r\n        type: 'addSignfront',\r\n        actis: this.addSignFrontActis,\r\n        config: this.addSignFrontScope\r\n      }\r\n      value.push(frontData)\r\n    }\r\n    if (this.addSignBehindEnable) {\r\n      const behindData = {\r\n        type: 'addSignBehind',\r\n        actis: this.addSignFrontActis,\r\n        config: this.addSignBehindScope\r\n      }\r\n      value.push(behindData)\r\n    }\r\n    if (this.transferEnable) {\r\n      const transferData = {\r\n        type: 'transfer',\r\n        actis: this.addSignFrontActis,\r\n        config: this.transferScope\r\n      }\r\n      value.push(transferData)\r\n    }\r\n    if (this.notifyEnable) {\r\n      const notifyData = {\r\n        type: 'notify',\r\n        actis: this.addSignFrontActis,\r\n        config: this.notifyScope\r\n      }\r\n      value.push(notifyData)\r\n    }\r\n    if (this.backWardRuleEnable) {\r\n      const backWardRuleData = {\r\n        type: 'backWardRule',\r\n        actis: this.addSignFrontActis,\r\n        config: this.backWardRule\r\n      }\r\n      value.push(backWardRuleData)\r\n    }\r\n    if (value && value.length > 0) {\r\n      this.batchSet(value);\r\n    }\r\n    this.submit.next();\r\n  }\r\n\r\n  clickCancel() {\r\n    this.cancel.next();\r\n  }\r\n\r\n  batchSet(value: any) {\r\n    this.viewModel.batchSet(ResourceKeys.batchSetProperty, value);\r\n  }\r\n\r\n}\r\n\r\nexport enum ResourceKeys {\r\n  batchSetProperty = 'batchSetProperty'\r\n}\r\n","import { Cell, EditorUi, Graph, ActionKeys, ToolboxGroup, ToolboxItem } from \"@edp-pmf/grapheditor\";\r\nimport { WfGraph } from \"./WfGraph\";\r\nimport { ProcessHeader, BizActivity, UserActivity, OperationActivity } from \"@gsp-wf/wf-process-model\";\r\nimport { WfSidebar } from \"./WfSidebar\";\r\nimport { WfConstants } from \"./WfConstants\";\r\nimport { mxEvent, mxResources } from \"@edp-pmf/mxgraph-ts\";\r\nimport { UserActivityPropertyKeys } from \"./wf-cell/property-keys/UserActivityPropertyKeys\";\r\nimport { WfExclusiveGatewayCell } from \"./wf-cell/WfExclusiveGatewayCell\";\r\nimport { AifCreationBillActivityCell } from \"./wf-cell/AifCreationBillActivityCell\";\r\nimport { AutoActivityCell } from \"./wf-cell/AutoActivityCell\";\r\nimport { CallActivitySubProcessCell } from \"./wf-cell/CallActivitySubProcessCell\";\r\nimport { IntermediateCatchEventImplCell } from \"./wf-cell/IntermediateCatchEventImplCell\";\r\nimport { MessageActivityCell } from \"./wf-cell/MessageActivityCell\";\r\nimport { NotifyActivityCell } from \"./wf-cell/NotifyActivityCell\";\r\nimport { OperationActivityCell } from \"./wf-cell/OperationActivityCell\";\r\nimport { StartActivityCell } from \"./wf-cell/StartActivityCell\";\r\nimport { UserActivityCell } from \"./wf-cell/UserActivityCell\";\r\nimport { WfParallelGatewayCell } from \"./wf-cell/WfParallelGatewayCell\";\r\nimport { WfEndEventCell } from \"./wf-cell/WfEndEventCell\";\r\nimport { WfInclusiveGatewayCell } from \"./wf-cell/WfInclusiveGatewayCell\";\r\nimport { WfProcessEditorComponent } from \"../wf-process-editor.component\";\r\nimport { BatchSetPropertiesComponent } from \"../views/batch-set-properties/batch-set-properties.component\";\r\nimport { BsModalService, ModalOptions } from \"@farris/ui-modal\";\r\nimport { ComponentFactoryResolver, Injector } from \"@angular/core\";\r\n\r\nexport class WfEditorUi extends EditorUi {\r\n  editor: WfProcessEditorComponent;\r\n  graph: WfGraph;\r\n  sidebar: WfSidebar;\r\n  time: string;\r\n  bizCategoryId: string;\r\n  action: string;\r\n  mode: string;\r\n  scene: string;\r\n  procType: string;\r\n  procExtProps: any;\r\n  formFormats: any;\r\n  generalConfig: { enableTransfer: boolean; enableNotify: boolean; enableAddSignBehind: boolean; enableAddSignFront: boolean; } = {\r\n    enableTransfer: true,\r\n    enableNotify: false,\r\n    enableAddSignBehind: false,\r\n    enableAddSignFront: false,\r\n  };\r\n\r\n  zoomBar: HTMLDivElement;\r\n\r\n  constructor(time: string, action: string, container?: HTMLElement, private injector?: Injector,\r\n    private modalService?: BsModalService,\r\n    private resolver?: ComponentFactoryResolver, eventSource?: any, importLinks: boolean = true,) {\r\n    super(container, eventSource, importLinks);\r\n    let rootPath = '';\r\n    try {\r\n      rootPath = (window as any).gspframeworkService.common.getBasePath.get();\r\n    } catch (error) {\r\n    }\r\n    mxResources.add(rootPath + \"/platform/runtime/common/web/@gsp-wf/wf-process-editor/resources/wf-process-editor\");\r\n    this.showToolbar = false;\r\n    this.time = time;\r\n    this.action = action;\r\n  }\r\n\r\n  createActions() {\r\n    const actions = super.createActions();\r\n\r\n    // 只有设计时编辑状态下才启用删除动作\r\n    if (!(this.action === 'edit' && this.time !== 'rt')) {\r\n      const deleteAction = actions.getAction(ActionKeys.pmf_delete);\r\n\r\n      deleteAction.isEnabled = () => false;\r\n    }\r\n\r\n    return actions;\r\n  }\r\n\r\n  createToolbox() {\r\n    const toolbox = super.createToolbox();\r\n\r\n    const g1 = new ToolboxGroup();\r\n    g1.name = mxResources.get('basicElements');\r\n    g1.items.push(\r\n      new ToolboxItem(StartActivityCell.CLR_TYPE_ID),\r\n      new ToolboxItem(WfExclusiveGatewayCell.CLR_TYPE_ID),\r\n      new ToolboxItem(WfParallelGatewayCell.CLR_TYPE_ID),\r\n      // 暂时隐藏包容网关\r\n      new ToolboxItem(WfInclusiveGatewayCell.CLR_TYPE_ID),\r\n      new ToolboxItem(UserActivityCell.CLR_TYPE_ID),\r\n      new ToolboxItem(OperationActivityCell.CLR_TYPE_ID),\r\n      new ToolboxItem(NotifyActivityCell.CLR_TYPE_ID),\r\n      new ToolboxItem(CallActivitySubProcessCell.CLR_TYPE_ID),\r\n      new ToolboxItem(AutoActivityCell.CLR_TYPE_ID),\r\n      new ToolboxItem(IntermediateCatchEventImplCell.CLR_TYPE_ID),\r\n      new ToolboxItem(MessageActivityCell.CLR_TYPE_ID),\r\n      new ToolboxItem(AifCreationBillActivityCell.CLR_TYPE_ID),\r\n      new ToolboxItem(WfEndEventCell.CLR_TYPE_ID),\r\n    );\r\n\r\n    toolbox.groups = [g1];\r\n\r\n    return toolbox;\r\n  }\r\n\r\n  createGraphInstance(): Graph {\r\n    const graph = new WfGraph(this, this.diagramContainer);\r\n\r\n    if (this.action === 'view' || this.time === 'rt' || this.action === 'assignView') {\r\n      graph.setCellsLocked(true);\r\n    } else {\r\n      graph.setDropEnabled(true);\r\n      graph.setConnectable(true);\r\n    }\r\n    //TODO：右键查看只显示在审批节点上\r\n    graph.popupMenuHandler.autoExpand = true;\r\n    graph.popupMenuHandler.factoryMethod = (menu, cell, evt) => {\r\n      const actList = graph.getChildCells(graph.getDefaultParent())\r\n      if (cell != null\r\n        && cell.clrTypeId.indexOf('wf.UserActivity') > -1\r\n        && actList.findIndex(a => a.id === cell.getId()) > -1) {\r\n        menu.addItem('批量复制属性', null, () => {\r\n          const compFactory = this.resolver.resolveComponentFactory(BatchSetPropertiesComponent);\r\n          const compRef = compFactory.create(this.injector);\r\n          compRef.instance.activityModel = cell.flowElement;\r\n          const modalConfig: ModalOptions = {\r\n            title: '批量复制属性',\r\n            width: 512,\r\n            height: 465,\r\n            showButtons: true,\r\n            buttons: compRef.instance.footer\r\n          };\r\n          const dialog = this.modalService.show(compRef, modalConfig);\r\n          compRef.instance.cancel.subscribe($event => dialog.close());\r\n          compRef.instance.submit.subscribe((data: string) => {\r\n            dialog.close();\r\n          });\r\n        });\r\n      }\r\n    };\r\n    return graph;\r\n  }\r\n\r\n  createSidebar(): WfSidebar {\r\n    return new WfSidebar(this, this.sidebarContainer);\r\n  }\r\n\r\n  show(): void {\r\n    super.show();\r\n\r\n    if (this.action === 'view' || this.action === 'assignView') {\r\n      const span = this.createSpan('');\r\n      span.style.fontSize = '14px';\r\n      span.style.color = 'white';\r\n      span.style.borderRadius = '20px';\r\n      span.style.padding = '4px 20px';\r\n      span.style.background = 'rgb(199, 194, 187)';\r\n      const v = document.createTextNode(mxResources.get('readOnly'));\r\n      span.appendChild(v);\r\n      const d = this.createDiv('');\r\n      d.style.position = 'absolute';\r\n      d.style.top = '10px';\r\n      d.style.right = '10px';\r\n      d.style.zIndex = \"2\";\r\n      d.appendChild(span);\r\n      this.container.appendChild(d);\r\n    }\r\n\r\n    const buttonIn = document.createElement('a');\r\n    buttonIn.setAttribute('href', 'javascript:void(0);');\r\n    let buttonInImg = document.createElement('img');\r\n    buttonIn.style.marginRight = '10px';\r\n    buttonInImg.src = WfConstants.IMAGE_PATH + '/zoomIn.svg';\r\n    buttonInImg.style.display = \"inline-block\";\r\n    buttonInImg.style.verticalAlign = \"middle\";\r\n    buttonIn.appendChild(buttonInImg);\r\n    mxEvent.addListener(buttonIn, 'click', (evt: PointerEvent) => {\r\n      this.actions.getAction(ActionKeys.pmf_zoomIn).execute(evt);\r\n    });\r\n\r\n    const buttonOut = document.createElement('a');\r\n    buttonOut.setAttribute('href', 'javascript:void(0);');\r\n    let buttonOutImg = document.createElement('img');\r\n    buttonOutImg.src = WfConstants.IMAGE_PATH + '/zoomOut.svg';\r\n    buttonOutImg.style.display = \"inline-block\";\r\n    buttonOutImg.style.verticalAlign = \"middle\";\r\n    buttonOut.appendChild(buttonOutImg);\r\n    mxEvent.addListener(buttonOut, 'click', (evt: PointerEvent) => {\r\n      this.actions.getAction(ActionKeys.pmf_zoomOut).execute(evt);\r\n    });\r\n\r\n    const zoomBar = this.createDiv('zoomBar');\r\n    zoomBar.style.position = 'absolute';\r\n    zoomBar.style.zIndex = \"2\";\r\n    let t = 10;\r\n    if (this.showMenubar) {\r\n      t += this.menubarHeight;\r\n    }\r\n    if (this.showToolbar) {\r\n      t += this.toolbarHeight;\r\n    }\r\n    zoomBar.style.top = t + 'px';\r\n    zoomBar.style.left = (this.showSidebar ? this.sidebarSplitPosition + this.sidebarSplitSize : 0) + 10 + \"px\";\r\n\r\n    zoomBar.appendChild(buttonIn);\r\n    zoomBar.appendChild(buttonOut);\r\n    this.container.appendChild(zoomBar);\r\n    this.zoomBar = zoomBar;\r\n  }\r\n\r\n  sidebarSplitOnChange(value: number): void {\r\n    super.sidebarSplitOnChange(value);\r\n\r\n    // 分割条移动后更新缩放条位置\r\n    if (this.zoomBar) {\r\n      this.zoomBar.style.left = (this.showSidebar ? this.sidebarSplitPosition + this.sidebarSplitSize : 0) + 10 + \"px\";\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 创建带指定样式类的span\r\n   * @param classname\r\n   * @returns\r\n   */\r\n  createSpan(classname: string): HTMLSpanElement {\r\n    let elt = document.createElement('span');\r\n    elt.className = classname;\r\n\r\n    return elt;\r\n  }\r\n\r\n  /**\r\n   * 加载业务活动\r\n   * @param bizActivities\r\n   */\r\n  loadBizActivities(bizActivities: BizActivity[]) {\r\n    this.sidebar && this.sidebar.addBizActPalette(bizActivities);\r\n  }\r\n\r\n  /**\r\n   * 批量复制属性\r\n   * @param obj\r\n   */\r\n  batchCopyProperty(obj: any) {\r\n    // 放弃不需要的参数\r\n    const ids = obj.value.targetNodeID;\r\n    obj.propertyValue = obj.value.messageNotice;\r\n    // todo：多个活动具有同名属性时，如何更合理定义PropertyKey？\r\n    obj.propertyID = UserActivityPropertyKeys.messageNotice;\r\n    for (const id of ids) {\r\n      const cell = this.graph.getCellByFlowElementId(id);\r\n      if (cell) {\r\n        cell.updateProps(obj);\r\n        this.graph.refresh();\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n * 批量设置属性\r\n * @param obj\r\n */\r\n  batchSetProperty(obj: any) {\r\n    for (const v of obj) {\r\n      switch (v.type) {\r\n        case 'addSignfront':\r\n          const afId = v.actis;\r\n          obj.propertyValue = v.config;\r\n          obj.propertyID = UserActivityPropertyKeys.AddSignFrontAble;\r\n          for (const id of afId) {\r\n            const cell = this.graph.getCellByFlowElementId(id.Id);\r\n            if (cell) {\r\n              cell.updateProps(obj);\r\n              this.graph.refresh();\r\n            }\r\n          }\r\n          break;\r\n        case 'addSignBehind':\r\n          const abId = v.actis;\r\n          obj.propertyValue = v.config;\r\n          obj.propertyID = UserActivityPropertyKeys.AddSignBehindAble;\r\n          for (const id of abId) {\r\n            const cell = this.graph.getCellByFlowElementId(id.Id);\r\n            if (cell) {\r\n              cell.updateProps(obj);\r\n              this.graph.refresh();\r\n            }\r\n          }\r\n          break;\r\n        case 'transfer':\r\n          const trId = v.actis;\r\n          obj.propertyValue = v.config;\r\n          obj.propertyID = UserActivityPropertyKeys.transferScope;\r\n          for (const id of trId) {\r\n            const cell = this.graph.getCellByFlowElementId(id.Id);\r\n            if (cell) {\r\n              cell.updateProps(obj);\r\n              this.graph.refresh();\r\n            }\r\n          }\r\n          break;\r\n        case 'notify':\r\n          const ntId = v.actis;\r\n          obj.propertyValue = v.config;\r\n          obj.propertyID = UserActivityPropertyKeys.NotifyAble;\r\n          for (const id of ntId) {\r\n            const cell = this.graph.getCellByFlowElementId(id.Id);\r\n            if (cell) {\r\n              cell.updateProps(obj);\r\n              this.graph.refresh();\r\n            }\r\n          }\r\n          break;\r\n        // 驳回规则需要特殊处理：子流程和信号的赋简版\r\n        case 'backWardRule':\r\n          const bwId = v.actis;\r\n          obj.propertyValue = v.config;\r\n          obj.propertyID = UserActivityPropertyKeys.BackWardRule;\r\n          for (const id of bwId) {\r\n            const cell = this.graph.getCellByFlowElementId(id.Id);\r\n            if (cell) {\r\n              cell.updateProps(obj);\r\n              this.graph.refresh();\r\n            }\r\n          }\r\n          break;\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 创建新流程\r\n   * @param newProcInfo\r\n   * @param bizCmps\r\n   */\r\n  createBpmnModel(newProcInfo: any, bizCmps?: any) {\r\n    this.graph.createBpmnModelWithProcInfo(newProcInfo, bizCmps);\r\n\r\n  }\r\n\r\n  /**\r\n   * 打开流程\r\n   * @param content\r\n   */\r\n  openBpmnModel(content: string) {\r\n    this.graph.loadBpmnModel(content);\r\n  }\r\n\r\n  /**\r\n   * 获取属性配置，刷新属性框\r\n   * @param obj\r\n   * @returns\r\n   */\r\n  refreshProperty(obj: any) {\r\n    const cell = this.graph.getCellByFlowElementId(obj.Id);\r\n    return this.getFarrisPropConfig([cell]);\r\n  }\r\n\r\n  /**\r\n   * 获取用户活动\r\n   * @returns\r\n   */\r\n  getActivities() {\r\n    const list = [];\r\n    const bpmnModel = this.graph.bpmnModel;\r\n    const flowDict = bpmnModel.DefaultProcess.GetFlowElements();\r\n    Object.keys(flowDict).forEach((key) => {\r\n      const flowElt = flowDict[key];\r\n      if (flowElt.ClrTypeID === UserActivity.Clr_Type_ID\r\n        || flowElt.ClrTypeID === OperationActivity.Clr_Type_ID) {\r\n        list.push(flowElt);\r\n      }\r\n    });\r\n    return list;\r\n  }\r\n\r\n  /**\r\n   * 获取结束事件\r\n   * @returns\r\n   */\r\n  getEndEvents() {\r\n    const userActArray = [];\r\n    const bpmnModel = this.graph.bpmnModel;\r\n    const flowDict = bpmnModel.DefaultProcess.GetFlowElements();\r\n    Object.keys(flowDict).forEach((key) => {\r\n      const flowElt = flowDict[key];\r\n      if (flowElt.ClrTypeID === 'bpmn.EndEvent' || flowElt.ClrTypeID === UserActivity.Clr_Type_ID\r\n        || flowElt.ClrTypeID === OperationActivity.Clr_Type_ID) {\r\n        userActArray.push(flowElt);\r\n      }\r\n    });\r\n    return userActArray;\r\n  }\r\n\r\n  /**\r\n   * 获取知会事件\r\n   * @returns\r\n   */\r\n  getNotifyEvents() {\r\n    const list = [];\r\n    const bpmnModel = this.graph.bpmnModel;\r\n    const flowDict = bpmnModel.DefaultProcess.GetFlowElements();\r\n    Object.keys(flowDict).forEach((key) => {\r\n      const flowElt = flowDict[key];\r\n      if (flowElt.ClrTypeID === 'wf.NotifyActivity') {\r\n        list.push(flowElt);\r\n      }\r\n    });\r\n    return list;\r\n  }\r\n\r\n  /**\r\n   * 获取消息事件\r\n   * @returns\r\n   */\r\n  getMessageEvents() {\r\n    const list = [];\r\n    const bpmnModel = this.graph.bpmnModel;\r\n    const flowDict = bpmnModel.DefaultProcess.GetFlowElements();\r\n    Object.keys(flowDict).forEach((key) => {\r\n      const flowElt = flowDict[key];\r\n      if (flowElt.ClrTypeID === 'bpmn.MessageEvent') {\r\n        list.push(flowElt);\r\n      }\r\n    });\r\n    return list;\r\n  }\r\n  /**\r\n   * 获取子流程和信号捕获节点\r\n   * @returns\r\n   */\r\n  getSubAndCatchEvents() {\r\n    const list = [];\r\n    const bpmnModel = this.graph.bpmnModel;\r\n    const flowDict = bpmnModel.DefaultProcess.GetFlowElements();\r\n    Object.keys(flowDict).forEach((key) => {\r\n      const flowElt = flowDict[key];\r\n      if (flowElt.ClrTypeID === 'wf.CallActivitySubProcess' ||\r\n      flowElt.ClrTypeID === 'wf.IntermediateCatchEventImpl') {\r\n        list.push(flowElt);\r\n      }\r\n    });\r\n    return list;\r\n  }\r\n  /**\r\n   * 获取启动方式\r\n   * @returns\r\n   */\r\n  getStartMode() {\r\n    let startMode = null;\r\n    const bpmnModel = this.graph.bpmnModel;\r\n    const extendElements = bpmnModel.DefaultProcess.GetExtensionElements();\r\n    if (extendElements.length > 0) {\r\n      for (const e of extendElements) {\r\n        if (e instanceof ProcessHeader) {\r\n          startMode = e.startMode;\r\n        }\r\n      }\r\n    }\r\n    return startMode;\r\n  }\r\n}\r\n","import { BpmnModel, ExclusiveGateway, ParallelGateway, EndEvent } from \"@edp-pmf/bpmn-model\";\r\nimport { ProcessHeader, Component, StartMode, ToolTime, StartActivity, UserActivity, OperationActivity, AutoActivity, MessageActivity, CallActivitySubProcess, IntermediateCatchEventImpl, NotifyActivity, AifCreationBillActivity } from \"@gsp-wf/wf-process-model\";\r\nimport { WfDesignerUtils } from \"./WfDesignerUtils\";\r\nimport { WfValidationResult } from \"./WfValidationResult\";\r\nimport { WfLocalePipe } from \"../i18n/pipe/wf-process-editor-locale.pipe\";\r\n\r\nexport class WfValidatorAdapter {\r\n  public static localePipe: WfLocalePipe = null;\r\n\r\n  constructor() {\r\n    \r\n  }\r\n    static validator(bpmnModel: BpmnModel, scene: string): WfValidationResult {\r\n        // 校验节点标识是否合规\r\n        const resActList = this.validateActivityList(bpmnModel);\r\n        if (!resActList.valid) {\r\n            return resActList;\r\n        }\r\n        // 校验流程变量\r\n        const resProcVars = this.validatePrcoessVaris(bpmnModel);\r\n        if (!resProcVars.valid) {\r\n            return resProcVars;\r\n        }\r\n        const warningList = this.warningValidator(bpmnModel, scene)\r\n        return {\r\n            valid: true,\r\n            warningList: warningList,\r\n        };\r\n    }\r\n\r\n  private static warningValidator(bpmnModel: BpmnModel, scene: string) {\r\n    let warningList = new Array();\r\n    // 校验并行网关是否成对出现\r\n    this.validateParallelGateway(bpmnModel, warningList);\r\n    // 校验流程构件\r\n    this.validateProcCmps(bpmnModel, scene, warningList);\r\n    // 校验审批活动、人工操作参与者\r\n    this.validateApprovalPerformers(bpmnModel, warningList);\r\n\r\n    return warningList;\r\n  }\r\n\r\n  private static validateProcCmps(bpmnModel: BpmnModel, scene: string, warningList: Array<any>) {\r\n    if (scene === 'inSuite') {\r\n      return;\r\n    }\r\n    const extendElements = bpmnModel.DefaultProcess.GetExtensionElements();\r\n    const processHeader = extendElements.find(e => e instanceof ProcessHeader);\r\n    if (!processHeader) {\r\n      console.error(this.localePipe.instant('validate.noProcessHeader'))\r\n      return;\r\n    }\r\n    const procCmps = extendElements.filter(e => e instanceof Component);\r\n    if (!procCmps || procCmps.length === 0) {\r\n      const tip = {\r\n        id: 'lackCmp',\r\n        title: this.localePipe.instant('validate.cmpsEmpty'),\r\n        msg: this.localePipe.instant('validate.cmpsEmptyMsg'),\r\n        type: 'processWarning'\r\n      };\r\n      warningList.push(tip);\r\n      return;\r\n    }\r\n    // 启用方式为直接方式时\r\n    if ((processHeader as ProcessHeader).startMode === StartMode.DIRECT) {\r\n      // 直接启用方式时不允许存在共享的构件\r\n      const pfCmps = procCmps.filter((p: Component) => WfDesignerUtils.isPfComponent(p.MetadataId));\r\n      if (pfCmps && pfCmps.length > 0) {\r\n        let pfCmpsName = '';\r\n        for (const cmp of pfCmps) {\r\n          pfCmpsName = pfCmpsName.concat(`${(cmp as Component).Name}, `);\r\n        }\r\n        pfCmpsName = pfCmpsName.slice(0, pfCmpsName.length - 1);\r\n        const tip = {\r\n          id: 'directProcessWithPFCmp',\r\n          title: this.localePipe.instant('validate.directNoPf'),\r\n          msg: this.localePipe.instant('validate.directNoPfMsg')+`${pfCmpsName} `,\r\n          type: 'processWarning'\r\n        };\r\n        warningList.push(tip);\r\n      }\r\n      if (!procCmps.some((c: Component) => c.Time === ToolTime.LOADDATA)) {\r\n        const tip = {\r\n          id: 'lackLoadDataCmp',\r\n          title: this.localePipe.instant('validate.noLoadDataCmp'),\r\n          msg: this.localePipe.instant('validate.noLoadDataCmpMsg'),\r\n          type: 'processWarning'\r\n        };\r\n        warningList.push(tip);\r\n      }\r\n      if (!procCmps.some((c: Component) => c.Time === ToolTime.PROCESSINSTANCE_STARTED)) {\r\n        const tip = {\r\n          id: 'lackProcessStartCmp',\r\n          title: this.localePipe.instant('validate.noStartCmp'),\r\n          msg: this.localePipe.instant('validate.noStartCmpMsg'),\r\n          type: 'processWarning'\r\n        };\r\n        warningList.push(tip);\r\n      }\r\n      if (!procCmps.some((c: Component) => c.Time === ToolTime.PROCESSINSTANCE_COMPLETED)) {\r\n        const tip = {\r\n          id: 'lackProcessCompleteCmp',\r\n          title: this.localePipe.instant('validate.lackProcessCompleteCmp'),\r\n          msg: this.localePipe.instant('validate.lackProcessCompleteCmpMsg'),\r\n          type: 'processWarning'\r\n        };\r\n        warningList.push(tip);\r\n      }\r\n      if (!procCmps.some((c: Component) => (c.Time as any) === 'PROCESSINSTANCE_ABORTED')) {\r\n        const tip = {\r\n          id: 'lackProcessAbortCmp',\r\n          title: this.localePipe.instant('validate.lackProcessAbortCmp'),\r\n          msg: this.localePipe.instant('validate.lackProcessAbortCmpMsg'),\r\n          type: 'processWarning'\r\n        };\r\n        warningList.push(tip);\r\n      }\r\n      if (!procCmps.some((c: Component) => c.Time === 'PROCESSINSTANCE_CANCELED')) {\r\n        const tip = {\r\n          id: 'lackProcessCancelCmp',\r\n          title: this.localePipe.instant('validate.lackProcessCancelCmp'),\r\n          msg: this.localePipe.instant('validate.lackProcessCancelCmpMsg'),\r\n          type: 'processWarning'\r\n        };\r\n        warningList.push(tip);\r\n      }\r\n      if (!procCmps.some((c: Component) => c.Time === 'PROCESSINSTANCE_ROLLBACK')) {\r\n        const tip = {\r\n          id: 'lackProcessBackCmp',\r\n          title: this.localePipe.instant('validate.lackProcessBackCmp'),\r\n          msg: this.localePipe.instant('validate.lackProcessBackCmpMsg'),\r\n          type: 'processWarning'\r\n        };\r\n        warningList.push(tip);\r\n      }\r\n      if (!procCmps.some((c: Component) => c.Time === 'PROCESSINSTANCE_RESUBMIT')) {\r\n        const tip = {\r\n          id: 'lackProcessReStartCmp',\r\n          title: this.localePipe.instant('validate.lackProcessReStartCmp'),\r\n          msg: this.localePipe.instant('validate.lackProcessReStartCmpMsg'),\r\n          type: 'processWarning'\r\n        };\r\n        warningList.push(tip);\r\n      }\r\n    }\r\n  }\r\n\r\n  private static validateParallelGateway(bpmnModel: BpmnModel, warningList: Array<any>) {\r\n    const flowElements = bpmnModel.DefaultProcess.GetFlowElements();\r\n    let parallelGatewayCount = 0;\r\n    for (const k in flowElements) {\r\n      if (flowElements[k] instanceof ParallelGateway) {\r\n        parallelGatewayCount++;\r\n      }\r\n    }\r\n    if (parallelGatewayCount % 2 !== 0) {\r\n      const tip = {\r\n        id: 'parallelGatewayCheck',\r\n        title: this.localePipe.instant('validate.parallelGatewayCheck'),\r\n        msg: this.localePipe.instant('validate.parallelGatewayCheckMsg'),\r\n        type: 'processWarning'\r\n      };\r\n      warningList.push(tip);\r\n    }\r\n  }\r\n\r\n  private static validateApprovalPerformers(bpmnModel: BpmnModel, warningList: any[]) {\r\n    const flowElements = bpmnModel.DefaultProcess.GetFlowElements();\r\n    let count = 0;\r\n    for (const k in flowElements) {\r\n      const act = flowElements[k];\r\n      if (act instanceof UserActivity || act instanceof OperationActivity) {\r\n        const roles = act.GetResourceRoles();\r\n        if (roles.length == 0 && (!act.AssignPerformerConfig || !act.AssignPerformerConfig.AllowGlobalAssign)) {\r\n          const tip = {\r\n            id: 'approvalPerformerCheck' + count,\r\n            title: `【${flowElements[k].Name}】` +  this.localePipe.instant('validate.approvalPerformerCheck'),\r\n            msg: ``,\r\n            type: 'processWarning'\r\n          };\r\n          warningList.push(tip);\r\n\r\n          count++;\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  private static validatePrcoessVaris(bpmnModel: BpmnModel) {\r\n    const objects = bpmnModel.DefaultProcess.GetDataObjects();\r\n    let procVaris = new Array();\r\n    if (objects && objects.length > 0) {\r\n      procVaris = objects.filter(o => o.DataType.Category !== 'CustomType').map(o => o.Name);\r\n    }\r\n    const flowElements = bpmnModel.DefaultProcess.GetFlowElements();\r\n    for (const k in flowElements) {\r\n      if (flowElements[k] instanceof UserActivity ||\r\n        flowElements[k] instanceof OperationActivity ||\r\n        flowElements[k] instanceof AutoActivity ||\r\n        flowElements[k] instanceof MessageActivity ||\r\n        flowElements[k] instanceof CallActivitySubProcess ||\r\n        flowElements[k] instanceof IntermediateCatchEventImpl ||\r\n        flowElements[k] instanceof NotifyActivity) {\r\n        const variSets = (flowElements[k] as any).variableSettings;\r\n        if (variSets) {\r\n          for (const v of variSets) {\r\n            if (!procVaris.some(p => p === v.variableCode)) {\r\n              return {\r\n                valid: false,\r\n                type: 'message',\r\n                level: 'warning',\r\n                message: `【${flowElements[k].Name}】`+  this.localePipe.instant('validate.noVariable1')\r\n                +`【${v.variableName}】`+ this.localePipe.instant('validate.noVariable2')\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n    return {\r\n      valid: true,\r\n    };\r\n  }\r\n\r\n  private static validateActivityList(bpmnModel: BpmnModel) {\r\n    const flowElements = bpmnModel.DefaultProcess.GetFlowElements();\r\n    const resActId = this.validateActivityId(flowElements);\r\n    if (!resActId.valid) {\r\n      return resActId;\r\n    }\r\n    const resActName = this.validateActivityName(flowElements);\r\n    if (!resActName.valid) {\r\n      return resActName;\r\n    }\r\n    return {\r\n      valid: true,\r\n    };\r\n  }\r\n\r\n  private static validateActivityId(flowElements: any) {\r\n    for (const k in flowElements) {\r\n      switch (flowElements[k].ClrTypeID) {\r\n        case 'wf.StartActivity':\r\n          const startActivity = flowElements[k] as StartActivity;\r\n          if (!startActivity.Id.startsWith('startActivity')) {\r\n            return {\r\n              valid: false,\r\n              type: 'message',\r\n              level: 'error',\r\n              message: this.localePipe.instant('validate.activity') +\r\n              `${startActivity.Name}`+ this.localePipe.instant('validate.noStartActivity')\r\n            };\r\n          }\r\n          break;\r\n        case 'bpmn.ExclusiveGateway':\r\n          const exclusiveGateway = flowElements[k] as ExclusiveGateway;\r\n          if (!exclusiveGateway.Id.startsWith('ExclusiveGateway')) {\r\n            return {\r\n              valid: false,\r\n              type: 'message',\r\n              level: 'error',\r\n              message: this.localePipe.instant('validate.activity') +\r\n              `${exclusiveGateway.Name}`+ this.localePipe.instant('validate.noExclusiveGateway')\r\n            }\r\n          }\r\n          break;\r\n        case 'bpmn.ParallelGateway':\r\n          const parallelGateway = flowElements[k] as ParallelGateway;\r\n          if (!parallelGateway.Id.startsWith('ParallelGateway')) {\r\n            return {\r\n              valid: false,\r\n              type: 'message',\r\n              level: 'error',\r\n              message: this.localePipe.instant('validate.activity') +\r\n              `${parallelGateway.Name}`+ this.localePipe.instant('validate.noParallelGateway')\r\n            };\r\n          }\r\n          break;\r\n        case 'wf.UserActivity':\r\n          const userActivity = flowElements[k] as UserActivity;\r\n          if (!userActivity.Id.startsWith('UserActivity')) {\r\n            return {\r\n              valid: false,\r\n              type: 'message',\r\n              level: 'error',\r\n              message: this.localePipe.instant('validate.activity') +\r\n              `${userActivity.Name}`+ this.localePipe.instant('validate.noUserActivity')\r\n            };\r\n          }\r\n          break;\r\n        case 'wf.OperationActivity':\r\n          const operationActivity = flowElements[k] as OperationActivity;\r\n          if (!operationActivity.Id.startsWith('UserActivity')) {\r\n            return {\r\n              valid: false,\r\n              type: 'message',\r\n              level: 'error',\r\n              message: this.localePipe.instant('validate.activity') +\r\n              `${operationActivity.Name}`+ this.localePipe.instant('validate.noOperationActivity')\r\n            };\r\n          }\r\n          break;\r\n        case 'wf.NotifyActivity':\r\n          const notifyActivity = flowElements[k] as NotifyActivity;\r\n          if (!notifyActivity.Id.startsWith('NotifyActivity')) {\r\n            return {\r\n              valid: false,\r\n              type: 'message',\r\n              level: 'error',\r\n              message: this.localePipe.instant('validate.activity') +\r\n              `${notifyActivity.Name}`+ this.localePipe.instant('validate.noNotifyActivity')\r\n            };\r\n          }\r\n          break;\r\n        case 'wf.CallActivitySubProcess':\r\n          const callActivitySubProcess = flowElements[k] as CallActivitySubProcess;\r\n          if (!callActivitySubProcess.Id.startsWith('CallActivitySubProcess')) {\r\n            return {\r\n              valid: false,\r\n              type: 'message',\r\n              level: 'error',\r\n              message: this.localePipe.instant('validate.activity') +\r\n              `${callActivitySubProcess.Name}`+ this.localePipe.instant('validate.noCallActivitySubProcess')\r\n            };\r\n          }\r\n          break;\r\n        case 'wf.AutoActivity':\r\n          const autoActivity = flowElements[k] as AutoActivity;\r\n          if (!autoActivity.Id.startsWith('autoActivity')) {\r\n            return {\r\n              valid: false,\r\n              type: 'message',\r\n              level: 'error',\r\n              message: this.localePipe.instant('validate.activity') +\r\n              `${autoActivity.Name}`+ this.localePipe.instant('validate.noAutoActivity')\r\n           };\r\n          }\r\n          break;\r\n        case 'wf.IntermediateCatchEventImpl':\r\n          const intermediateCatchEventImpl = flowElements[k] as IntermediateCatchEventImpl;\r\n          if (!intermediateCatchEventImpl.Id.startsWith('IntermediateCatchEvent')) {\r\n            return {\r\n              valid: false,\r\n              type: 'message',\r\n              level: 'error',\r\n              message: this.localePipe.instant('validate.activity') +\r\n              `${intermediateCatchEventImpl.Name}`+ this.localePipe.instant('validate.noIntermediateCatchEvent')\r\n            };\r\n          }\r\n          break;\r\n        case 'wf.MessageActivity':\r\n          const messageActivity = flowElements[k] as MessageActivity;\r\n          if (!messageActivity.Id.startsWith('MessageActivity')) {\r\n            return {\r\n              valid: false,\r\n              type: 'message',\r\n              level: 'error',\r\n              message: this.localePipe.instant('validate.activity') +\r\n              `${messageActivity.Name}`+ this.localePipe.instant('validate.noMessageActivity')\r\n            };\r\n          }\r\n          break;\r\n        case 'wf.AifCreationBillActivity':\r\n          const aifCreationBillActivity = flowElements[k] as AifCreationBillActivity;\r\n          if (!aifCreationBillActivity.Id.startsWith('AifCreationBillActivity')) {\r\n            return {\r\n              valid: false,\r\n              type: 'message',\r\n              level: 'error',\r\n              message: this.localePipe.instant('validate.activity') +\r\n              `${aifCreationBillActivity.Name}`+ this.localePipe.instant('validate.noAifCreationBillActivity')\r\n            };\r\n          }\r\n          break;\r\n        case 'bpmn.EndEvent':\r\n          const endEvent = flowElements[k] as EndEvent;\r\n          if (!endEvent.Id.startsWith('EndEvent')) {\r\n            return {\r\n              valid: false,\r\n              type: 'message',\r\n              level: 'error',\r\n              message: this.localePipe.instant('validate.activity') +\r\n              `${endEvent.Name}`+ this.localePipe.instant('validate.noEndEvent')\r\n            };\r\n          }\r\n          break;\r\n      }\r\n    }\r\n    return {\r\n      valid: true,\r\n    };\r\n  }\r\n\r\n  private static validateActivityName(flowElements: any) {\r\n    for (const k in flowElements) {\r\n      const flowNode = flowElements[k];\r\n      switch (flowNode.ClrTypeID) {\r\n        case \"wf.StartActivity\":\r\n        case \"bpmn.ExclusiveGateway\":\r\n        case \"bpmn.ParallelGateway\":\r\n        case \"wf.UserActivity\":\r\n        case \"wf.OperationActivity\":\r\n        case \"wf.NotifyActivity\":\r\n        case \"wf.CallActivitySubProcess\":\r\n        case \"wf.AutoActivity\":\r\n        case \"wf.IntermediateCatchEventImpl\":\r\n        case \"wf.MessageActivity\":\r\n        case \"wf.AifCreationBillActivity\":\r\n        case \"bpmn.EndEvent\":\r\n          if (flowNode.Name == null || flowNode.Name == \"\") {\r\n            return {\r\n              valid: false,\r\n              type: 'message',\r\n              level: 'error',\r\n              message: this.localePipe.instant('validate.mark') +\r\n               `${flowNode.Id}` + this.localePipe.instant('validate.noFlowNodeChsName')\r\n            };\r\n          }\r\n          if (new Blob([flowNode.Name]).size > 128) {\r\n            return {\r\n              valid: false,\r\n              type: 'message',\r\n              level: 'error',\r\n              message: this.localePipe.instant('validate.activity') +\r\n              `${flowNode.Name}` + this.localePipe.instant('validate.nameExceedsLengthLimit')\r\n            };\r\n          }\r\n          break;\r\n      };\r\n    }\r\n    return {\r\n      valid: true,\r\n    };\r\n  }\r\n\r\n}\r\n","export enum EventBusKeys {\r\n    new = \"new\",\r\n    batchCopyProperty = \"batchCopyProperty\",\r\n    batchSetProperty = 'batchSetProperty'\r\n}","export const WF_PROCESS_EDITOR_LANG_RESOURCES = {\r\n  \"zh-CHS\": {\r\n    \"validate\": {\r\n      \"noProcessHeader\": \"模型不存在processHeader属性\",\r\n      \"cmpsEmpty\": \"流程构件为空\",\r\n      \"cmpsEmptyMsg\": \"流程构件不允许为空，请联系表单开发确认问题\",\r\n      \"directNoPf\": \"启动方式为【直接】的流程不应该包含共享（PF）的流程构件\",\r\n      \"directNoPfMsg\": \"请移除以下共享（PF）的流程构件：\",\r\n      \"noLoadDataCmp\": \"缺少执行时机为[获取数据]的流程构件\",\r\n      \"noLoadDataCmpMsg\": \"流程定义不能缺少取数构件，请联系表单开发确认问题\",\r\n      \"noStartCmp\": \"缺少执行时机为[流程启动]的流程构件\",\r\n      \"noStartCmpMsg\": \"会导致流程启动时无法修改单据状态，请联系表单开发确认问题\",\r\n      \"lackProcessCompleteCmp\": \"缺少执行时机为[流程完成]的流程构件\",\r\n      \"lackProcessCompleteCmpMsg\": \"会导致流程完成时无法修改单据状态，请联系表单开发确认问题\",\r\n      \"lackProcessAbortCmp\": \"缺少执行时机为[流程终止]的流程构件\",\r\n      \"lackProcessAbortCmpMsg\": \"会导致流程终止时无法修改单据状态，请联系表单开发确认问题\",\r\n      \"lackProcessCancelCmp\": \"缺少执行时机为[流程终止]的流程构件\",\r\n      \"lackProcessCancelCmpMsg\": \"会导致流程终止时无法修改单据状态，请联系表单开发确认问题\",\r\n      \"lackProcessBackCmp\": \"缺少执行时机为[流程驳回]的流程构件\",\r\n      \"lackProcessBackCmpMsg\": \"会导致流程驳回时无法修改单据状态，请联系表单开发确认问题\",\r\n      \"lackProcessReStartCmp\": \"缺少执行时机为[重新提交]的流程构件\",\r\n      \"lackProcessReStartCmpMsg\": \"会导致流程重新提交时无法修改单据状态，请联系表单开发确认问题\",\r\n      \"parallelGatewayCheck\": \"【并行网关】没有成对出现\",\r\n      \"parallelGatewayCheckMsg\": \"【并行网关】需作为一条流程分支的拆分节点和汇聚节点成对出现，请修改\",\r\n      \"approvalPerformerCheck\": \"活动，未设置参与者\",\r\n      \"noVariable1\": \"活动【变量设置】属性中已设置变量\",\r\n      \"noVariable2\": \"在流程属性【流程变量】中已不存在，请修改！\",\r\n      \"activity\": \"活动【\",\r\n      \"noStartActivity\": \"】的标识不合法，不是以[startActivity]开头\",\r\n      \"noExclusiveGateway\": \"】的标识不合法，不是以[ExclusiveGateway]开头\",\r\n      \"noParallelGateway\": \"】的标识不合法，不是以[ParallelGateway]开头\",\r\n      \"noUserActivity\": \"】的标识不合法，不是以[UserActivity]开头\",\r\n      \"noOperationActivity\": \"】的标识不合法，不是以[OperationActivity]开头\",\r\n      \"noNotifyActivity\": \"】的标识不合法，不是以[NotifyActivity]开头\",\r\n      \"noCallActivitySubProcess\": \"】的标识不合法，不是以[CallActivitySubProcess]开头\",\r\n      \"noAutoActivity\": \"】的标识不合法，不是以[AutoActivity]开头\",\r\n      \"noIntermediateCatchEvent\": \"】的标识不合法，不是以[IntermediateCatchEventImpl]开头\",\r\n      \"noMessageActivity\": \"】的标识不合法，不是以[MessageActivity]开头\",\r\n      \"noAifCreationBillActivity\": \"】的标识不合法，不是以[AifCreationBillActivity]开头\",\r\n      \"noEndEvent\": \"】的标识不合法，不是以[EndEvent]开头\",\r\n      \"mark\": \"标识为【\",\r\n      \"noFlowNodeChsName\": \"】的活动简体中文名称为空，请修改\",\r\n      \"nameExceedsLengthLimit\": \"】的名称超长，不能超过40个字符，请修改\"\r\n    },\r\n    \"processEditor\": {\r\n      \"tip\": \"提示\",\r\n      \"showButton\": \"显示查看模型按钮\",\r\n      \"changeRecord\": \"流程变更记录\",\r\n      \"noDtInfo\": \"不存在设计时流程信息！请先赋值！\",\r\n      \"noRtInfo\": \"不存在运行时流程信息！请先赋值！\",\r\n      \"wrongMoment\": \"设计器运行时机错误！\",\r\n      \"prompted\": \"系统提示\",\r\n      \"saveSuccess\": \"保存成功\",\r\n      \"waitReview\": \"保存成功，等待发起审核\",\r\n      \"successPublish\": \"发布成功\",\r\n      \"publishFail\": \"发布失败，\",\r\n      \"policyConflict\": \"会签策略下,“驳回规则”不允许“动态选择驳回级次”，请修改！\",\r\n      \"noPermissionToSave\": \"当前用户不具备另存流程的权限\",\r\n      \"closeProc1\": \"关闭此页面？\",\r\n      \"closeProc2\": \"系统可能不会保存您所做的更改。\",\r\n      \"viewModel\": \"查看模型\",\r\n      \"copied\": \"模型已经复制到剪贴板\",\r\n      \"button\": {\r\n        \"saveProc\": \"保存\",\r\n        \"releaseProc\": \"发布\",\r\n        \"sync\": \"同步设计时包\",\r\n        \"saveAs\": \"另存为\",\r\n        \"procRecord\": \"流程记录\",\r\n        \"viewProcModel\": \"查看模型\",\r\n        \"closeProc\": \"关闭\"\r\n      }\r\n    },\r\n    \"designer\": {\r\n      \"wfEditorUi\": {\r\n        \"basicElements\": \"基本元素\",\r\n        \"readOnly\": \"只读\"\r\n      },\r\n      \"wfProcessCell\": {\r\n        \"basicInfo\": \"基本信息\",\r\n        \"name\": \"名称\",\r\n        \"nameLanguage\": \"名称\",\r\n        \"key\": \"标识\",\r\n        \"entryForm\": \"流程分类\",\r\n        \"startMode\": \"启动方式\",\r\n        \"wfTitle\": \"流程摘要\",\r\n        \"formDef\": \"表单定义\",\r\n        \"formsPC\": \"PC表单\",\r\n        \"formsMobile\": \"移动表单\",\r\n        \"process\": \"事件监听\",\r\n        \"advanced\": \"高级属性\",\r\n        \"basic\": \"基础属性\",\r\n        \"wfComponent\": \"流程构件\",\r\n        \"otherConfig\": \"其他配置\",\r\n        \"processVariables\": \"流程变量\",\r\n        \"basicElements\": \"基本元素\",\r\n        \"customizeAction\": \"自定义动作\",\r\n        \"timelinessInfo\": \"时效信息\",\r\n        \"enablePriority\": \"启用紧急程度\",\r\n        \"enableWholeOrderRetrieve\": \"撤回在审单据\",\r\n        \"messageProperty\": \"影像设置\",\r\n        \"timeLimitControl\": \"超时操作\",\r\n        \"messageNotice\": \"消息通知\",\r\n        \"extendProperty\": \"扩展属性\",\r\n        \"directTips\": \"提示：启动方式切换为直接，直接启动是默认的流程启动方式，切换后会移除共享(PF)相关构件，请知悉！\",\r\n        \"externalTips\": \"提示：启动方式切换为外部流程，适用于作为共享流程的外部流程相关场景，切换后保留流程上的共享（PF)相关构件，请知悉！\",\r\n        \"subprocessTips\": \"提示：启动方式切换为子流程，适用于调用式子流程的场景，切换后会移除除取数构件外的其他流程构件，请知悉！\"\r\n      },\r\n      \"WfSequenceFlowEdge\": {\r\n        \"basicInfo\": \"基本信息\",\r\n        \"basic\": \"基础属性\",\r\n        \"name\": \"名称\",\r\n        \"nameLanguage\": \"名称\",\r\n        \"id\": \"标识\",\r\n        \"condition\": \"条件选项\",\r\n        \"ConditionExpression\": \"条件\",\r\n        \"default\": \"缺省转移线\"\r\n      },\r\n      \"wfSidebar\": {\r\n        \"bizactivitylib\": \"业务活动\"\r\n      }\r\n    },\r\n    \"app\": {\r\n      \"processDesigner\": {\r\n        \"all\": \"所有\",\r\n        \"assign\": \"指派\",\r\n        \"claim\": \"领用\",\r\n        \"preempt\": \"抢占模式\",\r\n        \"parallel\": \"并行会签\",\r\n        \"sequential\": \"串行会签\",\r\n        \"true\": \"是\",\r\n        \"false\": \"否\",\r\n        \"dataId\": \"单据内码\",\r\n        \"procInstId\": \"流程实例ID\",\r\n        \"bizDefKey\": \"入口单据ID\",\r\n        \"processDefinitionKey\": \"流程定义KEY\",\r\n        \"procInstCreator\": \"流程发起人\",\r\n        \"businessCreator\": \"业务发起人\",\r\n        \"procInstDescription\": \"流程摘要\",\r\n        \"comment\": \"审批意见\",\r\n        \"bizDefName\": \"流程分类名称\",\r\n        \"curLoginUsername\": \"当前登录人名称\",\r\n        \"procInstCreatorName\": \"流程发起人名称\",\r\n        \"currentParticipantId\": \"当前办理人ID\",\r\n        \"currentParticipantName\": \"当前办理人名称\",\r\n        \"currentUser\": \"当前登录用户\",\r\n        \"preActExecutors\": \"上一个活动的执行人\",\r\n        \"collectionElementVariable\": \"多实例子活动元素变量\",\r\n        \"subCollectionElementVariable\": \"多实例子流程元素变量\",\r\n        \"nrOfInstances\": \"多实例总数量\",\r\n        \"nrOfCompletedInstances\": \"多实例已完成数量\",\r\n        \"nrOfActiveInstances\": \"多实例正在运行中的数量\",\r\n        \"nrOfForward\": \"通过实例数量\",\r\n        \"nrOfBackward\": \"驳回实例数量\",\r\n        \"nrOfAbort\": \"终止实例数量\",\r\n        \"conclusionType\": \"结论类型\",\r\n        \"conclusionValue\": \"结论值\",\r\n        \"directSuperior\": \"直接上级\",\r\n        \"higherSuperior\": \"间接上级\",\r\n        \"DIRECT\": \"直接\",\r\n        \"EXTERNAL_PROCESS\": \"外部流程\",\r\n        \"SUB_PROCESS\": \"子流程\",\r\n        \"ALL\": \"电脑端和移动端\",\r\n        \"WEB\": \"电脑端\",\r\n        \"APP\": \"移动端\",\r\n        \"conclusionTypeTips\": \"审批项流转方向，1正向，2反向，3终止\",\r\n        \"conclusionValueTips\": `审批项编号，例如，\"Pass\"、\"Back\"、\"Refuse\"`,\r\n        \"copy\": \"_副本\",\r\n        \"saveAs\": \"另存为\",\r\n        \"tips\": \"系统提示\",\r\n        \"saveAsSuccess\": \"另存为成功\",\r\n        \"saveAsFail\": \"另存为失败，请检查流程是否正确！\",\r\n        \"syncDt\": \"是否将当前版本流程定义同步到设计时流程定义包\",\r\n        \"syncSuccess\": \"同步成功\",\r\n        \"beforeCompleteStrategyChange\": \"当前节点存在运行中的活动实例，不允许调整完成策略，请了解！\",\r\n        \"releaseProcess\": \"发布前审核\",\r\n        \"auto\": \"自动生单\",\r\n        \"push\": \"推式生单\",\r\n        \"pull\": \"拉式生单\",\r\n        \"creation\": \"通过生单流程生成目标单\"\r\n      }\r\n    },\r\n    \"multiInstanceLoopCharacteristics\": {\r\n      \"loopCharacteristics\": \"多实例设置\",\r\n      \"set\": \"（已设置）\",\r\n      \"notSet\": \"（未设置）\",\r\n      \"isEnable\": \"是否启用\",\r\n      \"isSequential\": \"是否串行\",\r\n      \"loopCardinality\": \"元素集合\",\r\n      \"completionConditionRules\": \"完成条件\",\r\n      \"promptAct1\": \"1、[集合]中的元素个数为子活动启动实例数量。\",\r\n      \"promptAct2\": \"2、子活动启动时系统会将[集合]中的元素拆分映射到各个子活动实例的[元素变量]。\",\r\n      \"promptProc1\": \"1、[集合]中的元素个数为子流程启动实例数量。\",\r\n      \"promptProc2\": \"2、子流程启动时系统会将[集合]中的元素拆分映射到各个子流程实例的[元素变量]。\",\r\n      \"checkPrompt\": \"当前节点存在运行中的活动实例，不允许调整\",\r\n      \"conditionRulesSet\": \"（已设置）\",\r\n      \"completionConditionRulesList\": {\r\n        \"forward\": \"正向\",\r\n        \"backward\": \"反向\",\r\n        \"abort\": \"终止\"\r\n      }\r\n    },\r\n    \"component\": {\r\n      \"optins\": {\r\n        \"wfOptions\": \"工作流选项\",\r\n        \"specified\": \"指定子流程\",\r\n        \"dynamic\": \"动态子流程\",\r\n        \"set\": \"（已设置）\",\r\n        \"notSet\": \"（未设置）\",\r\n        \"subProcessType\": \"子流程类型\",\r\n        \"processType\": \"流程类型\",\r\n        \"bizDef\": \"流程分类\",\r\n        \"procDef\": \"流程定义\",\r\n        \"clickCancel\": \"取消\",\r\n        \"clickOk\": \"确定\"\r\n      },\r\n      \"voConfig\": {\r\n        \"documentInfo\": \"单据信息\",\r\n        \"viewModelSelection\": \"视图模型选择\",\r\n        \"cancel\": \"取消\",\r\n        \"clickOk\": \"确定\",\r\n        \"selectOne\": \"确定\",\r\n        \"documentTypeSelect\": \"单据类型选择\",\r\n        \"set\": \"（已设置）\",\r\n        \"notSet\": \"（未设置）\",\r\n        \"viewModel\": \"视图模型\",\r\n        \"documenttype\": \"单据类型\",\r\n        \"placeholder\": \"请选择\"\r\n      },\r\n      \"variableSetting\": {\r\n        \"constant\": \"常量\",\r\n        \"expression\": \"表达式\",\r\n        \"component\": \"构件\",\r\n        \"ACTIVITY_STARTED\": \"活动开始\",\r\n        \"ACTIVITY_COMPLETED\": \"活动结束\",\r\n        \"varAssign\": \"变量赋值\",\r\n        \"varNumber\": \"变量编号\",\r\n        \"REQUIRED\": \"必填\",\r\n        \"varName\": \"变量名称\",\r\n        \"valueType\": \"值类型\",\r\n        \"executionTime\": \"执行时机\",\r\n        \"valueText\": \"变量值\",\r\n        \"processVariables\": \"流程变量\",\r\n        \"notSelectedVar\": \"尚未选中变量！\",\r\n        \"valueCannotEmpty\": \"变量值不允许为空！\",\r\n        \"set\": \"（已设置）\",\r\n        \"notSet\": \"（未设置）\",\r\n        \"add\": \"新增\",\r\n        \"delete\": \"删除\",\r\n        \"serialNumber\": \"序号\",\r\n        \"clickCancel\": \"取消\",\r\n        \"clickOK\": \"确定\",\r\n        \"inconsistentParameters\": \"当前构件方法参数不一致，请更新！\",\r\n        \"methodNotExist\": \"当前构件已不存在此方法，请更新！\",\r\n        \"parameterName\": \"参数名\",\r\n        \"parameterValue\": \"参数值\",\r\n        \"methodnotSelected\": \"尚未选择构件方法\",\r\n        \"metadataNotExist\": \"帮助元数据不存在，请联系系统管理员查看原因！\",\r\n        \"errorObtainComponent\": \"获取解析构件出错\",\r\n        \"componentSelection\": \"构件选择\",\r\n        \"componentName\": \"构件名称\",\r\n        \"parameterList\": \"参数列表\",\r\n        \"lineNumber\": \"序号\"\r\n      },\r\n      \"urgeHandleRule\": {\r\n        \"urgentApproval\": \"催办审批：\",\r\n        \"pleaseApprove\": \"请您尽快审批\",\r\n        \"soOn\": \"的\",\r\n        \"urgeHandle\": \"催办\",\r\n        \"noSendingMethod\": \"尚未选择发送方式！\",\r\n        \"setMessageTemplate\": \"消息渠道启用短信时需设置消息模板\",\r\n        \"codeEmpty\": \"短信模板编号不允许为空\",\r\n        \"noMessageSubject\": \"尚未配置消息主题！\",\r\n        \"noMessageContent\": \"尚未选择消息内容！\",\r\n        \"earliestTimeNotEmpty\": \"最早允许催办时间不允许为空\",\r\n        \"minimumTimeNotEmpty\": \"最小允许催办间隔不允许为空\",\r\n        \"set\": \"（已设置）\",\r\n        \"notSet\": \"（未设置）\",\r\n        \"enableUrgeHandle\": \"启用催办\",\r\n        \"timeSetting\": \"时间设置\",\r\n        \"earliestTime\": \"最早允许催办时间（小时）\",\r\n        \"minimumInterval\": \"最小允许催办间隔（小时）\",\r\n        \"sendingMethod\": \"发送方式\",\r\n        \"messageSubject\": \"消息主题\",\r\n        \"supportEditing\": \"支持编辑\",\r\n        \"messageContent\": \"消息内容\",\r\n        \"displayReminder\": \"显示催办人\",\r\n        \"clickCancel\": \"取消\",\r\n        \"clickOK\": \"确定\"\r\n      },\r\n      \"titleExpression\": {\r\n        \"zh-CHS\": \"中文简体\",\r\n        \"zh-CHT\": \"中文繁体\",\r\n        \"en\": \"英文\",\r\n        \"taskDescription\": \"任务描述\",\r\n        \"set\": \"（已设置）\",\r\n        \"notSet\": \"（未设置）\",\r\n        \"currentLanguage\": \"当前摘要语言:\",\r\n        \"clickCancel\": \"取消\",\r\n        \"clickOK\": \"确定\"\r\n      },\r\n      \"timeLimitControl\": {\r\n        \"timedOutOperation\": \"超时操作\",\r\n        \"constant\": \"固定值\",\r\n        \"scope\": \"时间范围\",\r\n        \"day\": \"天\",\r\n        \"hour\": \"时\",\r\n        \"minute\": \"分\",\r\n        \"BeforeDuration\": \"到期之前\",\r\n        \"OnDuration\": \"到期时\",\r\n        \"AfterDuration\": \"到期之后\",\r\n        \"SendMessageExpireOperation\": \"超时预警\",\r\n        \"AutoHandleExpireOperation\": \"自动办理\",\r\n        \"curDay\": \"当天\",\r\n        \"durationType\": \"期限类型\",\r\n        \"required\": \"必填\",\r\n        \"timeDuration\": \"时长\",\r\n        \"timeUnit\": \"单位\",\r\n        \"operationTypeName\": \"操作类型名称\",\r\n        \"sendType\": \"操作\",\r\n        \"onlyBeInteger\": \"任务期限只能是整数！\",\r\n        \"setOperation\": \"请设置超时操作！\",\r\n        \"setType\": \"请设置自动办理类型！\",\r\n        \"setComments\": \"请设置自动办理意见！\",\r\n        \"selectedOperation\": \"尚未选中预警操作！\",\r\n        \"notSupportAutomatic\": \"下一节点是由当前办理人指派的话，当前节点不支持任务自动办理\",\r\n        \"warningMessage\": \"预警消息\",\r\n        \"automaticProcessing\": \"自动办理\",\r\n        \"set\": \"（已设置）\",\r\n        \"notSet\": \"（未设置）\",\r\n        \"timelinessControl\": \"任务处理时效控制\",\r\n        \"isEnable\": \"是否启用\",\r\n        \"taskDeadline\": \"任务期限\",\r\n        \"timelyOperation\": \"时效预警操作\",\r\n        \"actionList\": \"操作列表\",\r\n        \"add\": \"新增\",\r\n        \"remove\": \"删除\",\r\n        \"clickCancel\": \"取消\",\r\n        \"clickOK\": \"确定\",\r\n        \"workItemParticipant\": \"当前节点办理人\",\r\n        \"procInstCreator\": \"流程发起人\",\r\n        \"to-doMessageTimeOut\": \"您有一条待办消息即将超时。\",\r\n        \"messageTimeOut\": \"您有一条消息即将超时\",\r\n        \"agree\": \"同意\"\r\n      },\r\n      \"sendMessageOperation\": {\r\n        \"procInstCreator\": \"流程发起人\",\r\n        \"workItemParticipant\": \"当前节点办理人\",\r\n        \"preActExecutors\": \"上一节点办理人\",\r\n        \"day\": \"天\",\r\n        \"hour\": \"时\",\r\n        \"minute\": \"分\",\r\n        \"cycleTimeNotEmpty\": \"循环时间间隔不允许为空！\",\r\n        \"sendMethodNotEmpty\": \"发送方式不允许为空！\",\r\n        \"subjectNotEmpty\": \"消息主题不允许为空！\",\r\n        \"contentNotEmpty\": \"消息内容不允许为空！\",\r\n        \"recipientNotEmpty\": \"接收人不允许为空！\",\r\n        \"messageTemplate\": \"消息渠道启用短信时需设置消息模板\",\r\n        \"smsTemplateNumberNotEmpty\": \"短信模板编号不允许为空\",\r\n        \"cycleEnable\": \"启用循环预警\",\r\n        \"cycleTime\": \"循环时间间隔\",\r\n        \"sendType\": \"发送方式\",\r\n        \"subject\": \"消息主题\",\r\n        \"message\": \"消息内容\",\r\n        \"receiverVari\": \"接收人\",\r\n        \"sysUsers\": \"系统用户\",\r\n        \"clickCancel\": \"取消\",\r\n        \"clickOK\": \"确定\",\r\n        \"opinionsNotEmpty\": \"自动办理意见不允许为空！\",\r\n        \"processingNotEmpty\": \"自动办理不允许为空！\",\r\n        \"automaticProcessSet\": \"自动办理设置\",\r\n        \"automaticProcessMethod\": \"自动办理方式\",\r\n        \"automaticOpinionHandle\": \"自动办理意见\"\r\n      },\r\n      \"smsMessageTemplate\": {\r\n        \"smsTemplateContent\": \"第三方短信服务商里定义的模板原文，例如:阿里云您的管控大数据平台账号已开通,用户名为:${username}，初始密码为:${code}，请及时登录系统\",\r\n        \"code\": \"变量\",\r\n        \"value\": \"值\",\r\n        \"noRowsSelected\": \"尚未选中行\",\r\n        \"smsMessageTemplate\": \"短信服务模板\",\r\n        \"tips1\": \"消息模板是指已经在第三方短信服务商定义模板后，需要在GS Cloud里将短信服务商的模板变量和GS Cloud变量关联\",\r\n        \"tips2\": \"第三方短信服务商里定义的模板编号，例如: 阿里云 SMS_220626324\",\r\n        \"tips3\": \"将第三方短信服务商模板里的变量和GSCloud里的变量配置关联\",\r\n        \"smsTemplateNumber\": \"短信模板编号\",\r\n        \"smsVariableBinding\": \"短信变量绑定\",\r\n        \"addSmsVariable\": \"新增\",\r\n        \"deleteSmsVariable\": \"删除\"\r\n      },\r\n      \"signRule\": {\r\n        \"countersignRules\": \"会签规则\",\r\n        \"byNumber\": \"按数量\",\r\n        \"byProportion\": \"按比例(%)\",\r\n        \"customConditions\": \"自定义条件\",\r\n        \"value\": \"编号\",\r\n        \"text\": \"名称\",\r\n        \"conclusionName\": \"结论名称\",\r\n        \"conclusionValue\": \"结论值\",\r\n        \"calculateType\": \"计算方式\",\r\n        \"conditionValue\": \"条件值\",\r\n        \"waitAllVotes\": \"等待全员办结\",\r\n        \"yes\": \"是\",\r\n        \"no\": \"否\",\r\n        \"notEmpty\": \"完成策略为会签时，会签规则不允许为空，请了解！\",\r\n        \"pleaseSelect\": \"请首先选中一条审批项！\",\r\n        \"maxConditionValue\": \"条件值最大值是100\",\r\n        \"minConditionValue\": \"条件值最小值是0\",\r\n        \"noConditional\": \"结论执行方式为全票或一票时不需要条件值\",\r\n        \"set\": \"（已设置）\",\r\n        \"ruleList\": \"规则列表\",\r\n        \"approvalOptions\": \"审批选项\",\r\n        \"clickCancel\": \"取消\",\r\n        \"deleteRow\": \"重置\",\r\n        \"clickOK\": \"确定\",\r\n      },\r\n      \"saveAsEdit\": {\r\n        \"public\": \"公有\",\r\n        \"private\": \"私有\",\r\n        \"code\": \"编号\",\r\n        \"name\": \"名称\",\r\n        \"nameNotEmpty\": \"流程名称不能为空\",\r\n        \"organizationNotEmpty\": \"维护组织不能为空\",\r\n        \"organization\": \"组织\",\r\n        \"basicAttributes\": \"基础属性\",\r\n        \"processName\": \"流程名称\",\r\n        \"processKeyValue\": \"流程Key值\",\r\n        \"maintenanceOrg\": \"维护组织\",\r\n        \"accessLevel\": \"访问级别\",\r\n        \"saveAsCancel\": \"取消\",\r\n        \"saveAsOK\": \"确定\"\r\n      },\r\n      \"release\": {\r\n        \"release\": \"流程发布\",\r\n        \"update\": \"流程更新\",\r\n        \"applicantName\": \"申请人名称\",\r\n        \"applicantDepartment\": \"申请人部门\",\r\n        \"procName\": \"流程名称\",\r\n        \"procVersion\": \"流程版本\",\r\n        \"releaseType\": \"发布类型\",\r\n        \"textDetail\": \"说明\",\r\n        \"saveAsCancel\": \"取消\",\r\n        \"saveAsOK\": \"确定\"\r\n      },\r\n      \"processVariables\": {\r\n        \"string\": \"字符\",\r\n        \"integer\": \"整形\",\r\n        \"decimal\": \"小数\",\r\n        \"boolean\": \"布尔\",\r\n        \"constant\": \"常量\",\r\n        \"expression\": \"表达式\",\r\n        \"component\": \"构件\",\r\n        \"name\": \"变量编号\",\r\n        \"required\": \"必填\",\r\n        \"documentation\": \"变量名称\",\r\n        \"basicType\": \"变量类型\",\r\n        \"description\": \"描述\",\r\n        \"tag\": \"初始值类型\",\r\n        \"valueText\": \"初始值\",\r\n        \"processVariables\": \"流程变量\",\r\n        \"notSelected\": \"尚未选中流程变量！\",\r\n        \"variableNumberEmpty\": \"变量编号不允许为空！\",\r\n        \"variableNameEmpty\": \"变量名称不允许为空！\",\r\n        \"variableNumberNotStandard\": \"变量编号只能包含字母、数字和下划线，且不能以数字开头！\",\r\n        \"tagNotEmpty\": \"初始值类型不允许为空！\",\r\n        \"codeDuplicates\": \"流程变量编号不允许重复！\",\r\n        \"alreadyExists\": \"新增的变量已存在！\",\r\n        \"set\": \"（已设置）\",\r\n        \"notSet\": \"（未设置）\",\r\n        \"add\": \"新增\",\r\n        \"delete\": \"删除\",\r\n        \"number\": \"序号\",\r\n        \"clickCancel\": \"取消\",\r\n        \"clickOK\": \"确定\"\r\n      },\r\n      \"participant\": {\r\n        \"user\": \"用户\",\r\n        \"variable\": \"变量参与者\",\r\n        \"position\": \"岗位\",\r\n        \"role\": \"角色\",\r\n        \"component\": \"构件参与者\",\r\n        \"reportingLine\": \"汇报关系\",\r\n        \"matrix\": \"矩阵\",\r\n        \"activityExecutor\": \"历史活动办理人\",\r\n        \"organization\": \"单位/部门\",\r\n        \"all\": \"所有\",\r\n        \"assign\": \"指派\",\r\n        \"claim\": \"领用\",\r\n        \"currentUser\": \"当前办理人\",\r\n        \"procInstCreator\": \"流程发起人\",\r\n        \"participantSet\": \"参与者设置\",\r\n        \"order\": \"序号\",\r\n        \"type\": \"类型\",\r\n        \"performerName\": \"名称\",\r\n        \"description\": \"描述\",\r\n        \"condition\": \"启用条件\",\r\n        \"dataMovement1\": \"是否将默认办理人数据移动到到备选办理人？\",\r\n        \"dataMovement2\": \"是否将备选办理人数据移动到默认办理人？\",\r\n        \"participantSelection\": \"参与者选择\",\r\n        \"selectProcessVariables\": \"尚未选择流程变量！\",\r\n        \"selectVariableValueType\": \"尚未选择变量值类型！\",\r\n        \"selectRelation\": \"尚未选择关系！\",\r\n        \"selectPosition\": \"尚未选择岗位！\",\r\n        \"selectOrgType\": \"尚未选择组织类型！\",\r\n        \"orgFill\": \"尚未填写组织！\",\r\n        \"refOrgIdNotNull\": \"参照类型为组织时，参照组织字段不能为空\",\r\n        \"refUserIdNotNull\": \"参照类型为系统用户/员工时，参照人字段不能为空\",\r\n        \"repDefConfigured\": \"该汇报关系已经进行过配置\",\r\n        \"atLeastOneCondition\": \"条件字段至少要存在一个\",\r\n        \"dataFieldAliasNotNull\": \"数据字段不能为空\",\r\n        \"matrixConfigured\": \"该矩阵已经进行过配置\",\r\n        \"selectPerformer\": \"尚未选择参与者\",\r\n        \"definitionDeleted\": \"该条汇报关系数据的定义已删除，该条数据将删除\",\r\n        \"matrixDeleted\": \"该条矩阵数据的定义已删除，该条数据将删除\",\r\n        \"selectParticipantInfo\": \"请先选中一条参与者信息！\",\r\n        \"noRowSelected\": \"尚未选中行！\",\r\n        \"selectDefaultHandler\": \"请先选中一条默认办理人\",\r\n        \"selectpotentialtHandler\": \"请先选中一条备选办理人\",\r\n        \"org\": \"组织：\",\r\n        \"positionType1\": \"岗位类型：通用岗位，组织：\",\r\n        \"positionType2\": \"岗位类型：通用岗位\",\r\n        \"positionType3\": \"岗位类型：组织岗位\",\r\n        \"comp\": \"构件：\",\r\n        \"parameters:\": \",参数：{\",\r\n        \"referencePerson:\": \"参照人：\",\r\n        \"referenceOrganization:\": \"参照组织：\",\r\n        \"condition1\": \"条件1：\",\r\n        \"condition2\": \"条件2：\",\r\n        \"condition3\": \"条件3：\",\r\n        \"data\": \"数据：\",\r\n        \"set\": \"（已设置）\",\r\n        \"notSet\": \"（未设置）\",\r\n        \"allocationPolicy\": \"分配策略\",\r\n        \"operator\": \"指派操作人\",\r\n        \"multiSelect\": \"允许多选\",\r\n        \"necessary\": \"只有一个待选用户时，仍需手工选择\",\r\n        \"notifyRecipient\": \"知会接收人\",\r\n        \"defaultHandler\": \"默认办理人\",\r\n        \"new\": \"新增\",\r\n        \"editPerformer\": \"编辑\",\r\n        \"removePerformer\": \"移除\",\r\n        \"clearPerformer\": \"清空\",\r\n        \"moveUp\": \"上移\",\r\n        \"moveDown\": \"下移\",\r\n        \"alternativeHandler\": \"备选办理人\",\r\n        \"isAllScope\": \"指定参与人时不限范围，从全员用户中选择\",\r\n        \"clickCancel\": \"取消\",\r\n        \"clickOK\": \"确定\",\r\n        \"alternativeScope\": \"备选范围\",\r\n        \"orgId\": \"组织ID\",\r\n        \"includeChildren\": \"包含下级\",\r\n        \"conditon\": \"启用条件\",\r\n        \"currentUnit\": \"本单位\",\r\n        \"currentDepartment\": \"本部门\",\r\n        \"variableOrganization\": \"变量组织\"\r\n      },\r\n      \"activityExecutor\": {\r\n        \"name\": \"名称\",\r\n        \"eventHandler\": \">活动办理人\",\r\n        \"nodeName\": \"节点名称\",\r\n        \"enablingConditions\": \"启用条件\",\r\n        \"activityList\": \"活动列表\",\r\n        \"clickCancel\": \"取消\",\r\n        \"clickOK\": \"确定\"\r\n      },\r\n      \"componentPerformer\": {\r\n        \"componentMethod\": \"当前构件方法参数不一致，请更新！\",\r\n        \"methodNotExist\": \"当前构件已不存在此方法，请更新！\",\r\n        \"code\": \"编号\",\r\n        \"name\": \"名称\",\r\n        \"description\": \"描述\",\r\n        \"valueText\": \"参数值\",\r\n        \"help\": \"帮助\",\r\n        \"errorObtaining\": \"获取解析构件出错\",\r\n        \"componentSelection\": \"构件选择\",\r\n        \"metadataNotExist\": \"帮助元数据不存在！\",\r\n        \"serverSideNotFound\": \"服务器端未找到帮助元数据，请检查元数据是否已经部署到环境中\",\r\n        \"componentName\": \"构件名称\",\r\n        \"componentSelect\": \"构件选择\",\r\n        \"parameterList\": \"参数列表\"\r\n      },\r\n      \"matrixPerformer\": {\r\n        \"code\": \"编号\",\r\n        \"name\": \"名称\",\r\n        \"help\": \"帮助\",\r\n        \"multivalue\": \"多值\",\r\n        \"enumSelection\": \"枚举选择\",\r\n        \"refMatrixTable\": \"引用矩阵表\",\r\n        \"matrixTable\": \"矩阵表\",\r\n        \"curDataFieldValue\": \"结果列\",\r\n        \"conditionFields\": \"条件字段\",\r\n        \"condition\": \"启用条件\",\r\n        \"key\": \"键\",\r\n        \"value\": \"值\",\r\n        \"notSelectEnum\": \"尚未选中枚举值\",\r\n        \"cancel\": \"取消\",\r\n        \"onConfirm\": \"确定\",\r\n        \"lineNumber\": \"序号\"\r\n      },\r\n      \"performerOptions\": {\r\n        \"leave\": \"向下流转\",\r\n        \"throwException\": \"异常提示\",\r\n        \"sys\": \"用户ID\",\r\n        \"administrative_staff\": \"员工ID\",\r\n        \"procInstCreator\": \"流程发起人\",\r\n        \"preActExecutors\": \"上一节点办理人\",\r\n        \"allPassExecutors\": \"所有已办理人员\",\r\n        \"performerOptions\": \"参与者选项\",\r\n        \"exclusionNotAllowed\": \"所有已办理人员已设置自动审批，上个节点已办理人员默认不允许排除！\",\r\n        \"approvalNotAllowed\": \"【分配策略】为【领用】时，不允许设置自动审批，请了解！\",\r\n        \"approvalNotAllowedAsSet\": \"所有已办理人员已设置不允许审批，所以上个节点已办理人员默认不允许自动审批！\",\r\n        \"allocationStrategyIsCollect\": \"【分配策略】为【领用】时，不允许设置自动审批，请了解！\",\r\n        \"set\": \"（已设置）\",\r\n        \"advancedOptions\": \"参与者高级选项\",\r\n        \"historicFirst\": \"再次进入节点时，办理人是节点的已办人员\",\r\n        \"noPerformerStrategy\": \"办理人为空策略：\",\r\n        \"excludeProcInstCreator\": \"排除办理人选项\",\r\n        \"defaultNotParticipate\": \"流程发起人默认不参与审批\",\r\n        \"excludePreActExecutors\": \"上个节点已办理人员默认不参与审批\",\r\n        \"excludeAllPassExecutors\": \"所有已办理人员默认不参与审批\",\r\n        \"excludeExprPerformer\": \"流程变量：\",\r\n        \"variableOrgTypes\": \"变量值类型：\",\r\n        \"automaticApprovalOptions\": \"自动审批选项\",\r\n        \"autoProcInstCreator\": \"流程发起人默认自动审批通过\",\r\n        \"autoPreActExecutors\": \"上一节点办理人员默认自动审批通过\",\r\n        \"autoAllPassExecutors\": \"所有已办理人员默认自动审批通过\",\r\n        \"cancel\": \"取消\",\r\n        \"clickOK\": \"确定\"\r\n      },\r\n      \"positionPerformer\": {\r\n        \"orgPosition\": \"组织岗\",\r\n        \"generalPosition\": \"通用岗\",\r\n        \"sysPositions\": \"系统岗位\",\r\n        \"positionType\": \"岗位类型\",\r\n        \"role\": \"角色\",\r\n        \"position\": \"岗位\",\r\n        \"sysType\": \"组织类型\",\r\n        \"placeholder\": \"请选择\",\r\n        \"orgId\": \"组织ID\",\r\n        \"condition\": \"启用条件\",\r\n        \"clickCancel\": \"取消\",\r\n        \"clickOK\": \"确定\"\r\n      },\r\n      \"reportingLine\": {\r\n        \"higherSuperior\": \"间接上级\",\r\n        \"directSuperior\": \"直接上级\",\r\n        \"code\": \"编号\",\r\n        \"name\": \"名称\",\r\n        \"dept\": \"组织\",\r\n        \"sysUser\": \"系统用户\",\r\n        \"employee\": \"员工\",\r\n        \"businessFields\": \"业务字段\",\r\n        \"defName\": \"汇报定义\",\r\n        \"dimension\": \"汇报级别\",\r\n        \"curReportingRefer\": \"参照类型\",\r\n        \"usersName\": \"参照人\",\r\n        \"refOrgId\": \"参照组织\",\r\n        \"condition\": \"启用条件\",\r\n        \"definitionOfReport\": \"汇报关系定义\"\r\n      },\r\n      \"userPerformer\": {\r\n        \"regularUser\": \"固定用户\",\r\n        \"variablePart\": \"变量参与者\",\r\n        \"sys\": \"系统用户\",\r\n        \"administrative_organization\": \"员工\",\r\n        \"cantUseContext\": \"行政人员类型不能使用此上下文变量\",\r\n        \"user\": \"用户\",\r\n        \"variable\": \"变量\",\r\n        \"condition\": \"启用条件\"\r\n      },\r\n      \"variablePerformer\": {\r\n        \"sys\": \"用户ID\",\r\n        \"administrative_staff\": \"员工ID\",\r\n        \"oneself\": \"本人\",\r\n        \"administrative_organization\": \"部门ID\",\r\n        \"cantUseContext\": \"行政人员类型不能使用此上下文变量\",\r\n        \"processVariables\": \"流程变量\",\r\n        \"variableOrgTypes\": \"变量值类型\",\r\n        \"relationShipType\": \"关系\",\r\n        \"condition\": \"启用条件\",\r\n      },\r\n      \"orgPotentialOwner\": {\r\n        \"optionSettings\": \"选项设置\",\r\n        \"global\": \"全员\",\r\n        \"currentUnit\": \"本单位\",\r\n        \"currentDepartment\": \"本部门\",\r\n        \"addSignBehind\": \"加签\",\r\n        \"addSignFront\": \"征询\",\r\n        \"transfer\": \"移交\",\r\n        \"notify\": \"知会\",\r\n        \"set\": \"（已设置）\",\r\n        \"notSet\": \"（未设置）\",\r\n        \"option\": \"选项\",\r\n        \"enable\": \"是否启用\",\r\n        \"range\": \"范围\",\r\n        \"orgId\": \"组织ID\",\r\n        \"variableOrganization\": \"变量组织\",\r\n        \"includeChildren\": \"包含下级\",\r\n        \"clickCancel\": \"取消\",\r\n        \"clickOK\": \"确定\",\r\n        \"limit\": \"限定人员范围\",\r\n        \"turnOffPrompt\": \"请关闭限定人员范围选项\"\r\n      },\r\n      \"note\": {\r\n        \"placeholder\": \"请输入流程变更记录\",\r\n        \"clickCancel\": \"取消\",\r\n        \"clickOK\": \"确定\"\r\n      },\r\n      \"MessageNotice\": {\r\n        \"notify\": \"消息通知\",\r\n        \"subject\": \"消息主题\",\r\n        \"content\": \"消息内容\",\r\n        \"sendTime\": \"发送时机\",\r\n        \"sendType\": \"发送方式\",\r\n        \"receiverText\": \"消息接收人\",\r\n        \"procInstCreator\": \"流程发起人，\",\r\n        \"workItemParticipant\": \"任务接收人，\",\r\n        \"messageSet\": \"消息设置\",\r\n        \"selectedRow\": \"尚未选中消息通知！\",\r\n        \"noCopy\": \"没有待复制的消息通知属性！\",\r\n        \"batchCopy\": \"批量复制\",\r\n        \"set\": \"（已设置）\",\r\n        \"notSet\": \"（未设置）\",\r\n        \"add\": \"新增\",\r\n        \"edit\": \"编辑\",\r\n        \"delete\": \"删除\",\r\n        \"lineNumber\": \"序号\",\r\n        \"clickCancel\": \"取消\",\r\n        \"clickOK\": \"确定\",\r\n        \"messContent\": `{\"expr\":\"\\'您有一条消息通知。\\'\",\"sexpr\":\"\"}`,\r\n        \"procComplete\": \"流程完成\",\r\n        \"procAborted\": \"流程终止\",\r\n        \"procRollBack\": \"流程驳回\",\r\n        \"workCreated\": \"任务创建\",\r\n        \"actComplete\": \"活动完成\",\r\n        \"actAborted\": \"活动终止\",\r\n        \"email\": \"邮件\",\r\n        \"sms\": \"短信\",\r\n        \"cloudplus\": \"云\",\r\n        \"processParticipant\": \"流程参与人\",\r\n        \"variableParticipant\": \"变量参与者\",\r\n        \"userParticipant\": \"指定用户\",\r\n        \"positionParticipant\": \"岗位\",\r\n        \"activityExecutorParticipant\": \"历史办理人\",\r\n        \"sys\": \"系统用户\",\r\n        \"administrative_organization\": \"员工\",\r\n        \"name\": \"名称\",\r\n        \"noTargetNode\": \"尚未选中节点！\",\r\n        \"noMessageNotifyAttribute!\": \"没有消息通知属性！\"\r\n      },\r\n      \"messageNoticeEdit\": {\r\n        \"procInstCreator\": \"流程发起人\",\r\n        \"activityExecutorParticipant\": \"历史办理人\",\r\n        \"workItemParticipant\": \"任务办理人\",\r\n        \"sys\": \"系统用户\",\r\n        \"administrative_organization\": \"员工\",\r\n        \"processParticipant\": \"流程参与人\",\r\n        \"workItemReceiveParticipant\": \"任务接收人\",\r\n        \"variableParticipant\": \"变量参与者\",\r\n        \"userParticipant\": \"指定用户\",\r\n        \"positionParticipant\": \"岗位\",\r\n        \"sendType\": \"发送方式不允许为空\",\r\n        \"smsMessageTemplate\": \"消息渠道启用短信时需设置消息模板\",\r\n        \"smsMessageTemplateCode\": \"短信模板编号不允许为空\",\r\n        \"sendTime\": \"发送时机不允许为空\",\r\n        \"subject\": \"消息主题不允许为空\",\r\n        \"content\": \"消息内容不允许为空\",\r\n        \"receivers\": \"接收人不允许为空！\",\r\n        \"processParticipantNotNull\": \"流程参与人不允许为空\",\r\n        \"activityDefIdNotNull\": \"流程参与人为历史办理人时，办理节点不允许为空\",\r\n        \"variableParticipantNotNull\": \"变量参与者不允许为空\",\r\n        \"orgType\": \"变量参与者组织类型不允许为空\",\r\n        \"userIds\": \"指定用户不允许为空\",\r\n        \"positionId\": \"岗位不允许为空\",\r\n        \"activityList\": \"活动列表\",\r\n        \"position\": \"岗位\",\r\n        \"optionalNodes\": \"可选节点\",\r\n        \"targetNodeList\": \"目标节点列表\",\r\n        \"placeholder\": \"请选择目标节点\",\r\n        \"optionalAttribute\": \"可选属性\",\r\n        \"lineNumber\": \"序号\",\r\n        \"clickCancel\": \"取消\",\r\n        \"clickOK\": \"确定\",\r\n        \"messSendType\": \"消息渠道\",\r\n        \"messSubject\": \"消息主题\",\r\n        \"enable\": \"启用表达式\",\r\n        \"messContent\": \"消息内容\",\r\n        \"recipient\": \"接收人\",\r\n        \"addReceiver\": \"添加\",\r\n        \"organization\": \"组织：\",\r\n        \"posi\": \"岗位：\"\r\n      },\r\n      \"jumpScope\": {\r\n        \"targetNodeOptions\": \"目标节点选项\",\r\n        \"name\": \"名称\",\r\n        \"outConnectNode\": \"流程图连线节点\",\r\n        \"global\": \"流程内所有节点\",\r\n        \"afterNodes\": \"所有后继节点\",\r\n        \"specifiedSet\": \"流程图连线节点+附加节点\",\r\n        \"firstNode\": \"条件为true的连线节点，当有多条时默认选中首条\",\r\n        \"nullNode\": \"默认为空，每次都手动选择\",\r\n        \"specifyNode\": \"指定默认节点\",\r\n        \"noSetTargetNode\": \"尚未设置目标节点选项，请了解！\",\r\n        \"noSetSpecifyNode\": \"尚未指定默认节点，请了解！\",\r\n        \"selectedRow\": \"请首先选中一条选项！\",\r\n        \"optionalNodes\": \"可选节点\",\r\n        \"listOfAdditional\": \"附加节点列表\",\r\n        \"pleaseSelect1\": \"请选择附加节点\",\r\n        \"defaultNode\": \"默认节点\",\r\n        \"pleaseSelect2\": \"请选择默认节点\",\r\n        \"defaultNodeList\": \"默认节点列表\",\r\n        \"clickCancel\": \"取消\",\r\n        \"clickOK\": \"确定\",\r\n        \"set\": \"（已设置）\"\r\n      },\r\n      \"imageSet\": {\r\n        \"imageSet\": \"影像设置\",\r\n        \"onlyView\": \"仅可查看\",\r\n        \"edit\": \"编辑\",\r\n        \"reScanStart\": \"发起重扫\",\r\n        \"reScanComplete\": \"重扫完成\",\r\n        \"mutualExclusion\": \"【仅可查看】选项与其他选项互斥，请了解！\",\r\n        \"set\": \"（已设置）\",\r\n        \"notSet\": \"（未设置）\",\r\n        \"imageOperation\": \"影像操作权限\",\r\n        \"clickCancel\": \"取消\",\r\n        \"clickOK\": \"确定\"\r\n      },\r\n      \"extendProperty\": {\r\n        \"extendProperty\": \"扩展属性\",\r\n        \"true\": \"是\",\r\n        \"false\": \"否\",\r\n        \"set\": \"（已设置）\",\r\n        \"notSet\": \"（未设置）\",\r\n        \"illustrate\": \"说明\",\r\n        \"placeholder\": \"请选择\",\r\n        \"cancel\": \"取消\",\r\n        \"clickOK\": \"确定\"\r\n      },\r\n      \"expressionEditor\": {\r\n        \"expressionEditor\": \"条件编辑\",\r\n        \"notSet\": \"（未设置）\",\r\n        \"clickCancel\": \"取消\",\r\n        \"changeType\": \"切换类型\",\r\n        \"clickOK\": \"确定\"\r\n      },\r\n      \"executeForms\": {\r\n        \"executeForms\": \"表单定义\",\r\n        \"parameters\": \"参数【\",\r\n        \"typeAsvariable\": \"】类型为变量，但在流程变量里不存在\",\r\n        \"parameterSettings\": \"参数设置\",\r\n        \"formDefinitionList\": \"表单定义列表\",\r\n        \"notSet\": \"（未设置）\",\r\n        \"default\": \"流程默认表单\",\r\n        \"processEmbeddedForm\": \"流程嵌表单\",\r\n        \"formEmbedProcess\": \"表单嵌流程\",\r\n        \"clickCancel\": \"取消\",\r\n        \"clickOK\": \"确定\",\r\n        \"noForm\": \"暂无表单格式\",\r\n        \"form\": \"选择表单\",\r\n        \"placeholder\": \"请选择\",\r\n        \"parametersSet\": \"参数\",\r\n        \"key\": \"变量编号\",\r\n        \"name\": \"变量名称\",\r\n        \"lineNumber\": \"序号\",\r\n        \"code\": \"编号\",\r\n        \"tag\": \"类型\",\r\n        \"value\": \"参数值\",\r\n        \"variable\": \"变量\",\r\n        \"constant\": \"常量\",\r\n        \"expression\": \"表达式\",\r\n        \"method\": \"方法标识\",\r\n        \"methodName\": \"方法名称\",\r\n        \"description\": \"描述\",\r\n        \"workFlowAction\": \"流转方向\",\r\n        \"formOperations\": \"表单操作\",\r\n        \"executionTime\": \"执行时机\",\r\n        \"sortOrder\": \"执行顺序\",\r\n        \"methodParameters\": \"参数\",\r\n        \"selectFormActionConfig\": \"尚未选中表单操作配置！\",\r\n        \"selectFormAction\": \"尚未选中表单操作！\",\r\n        \"editParam\": \"设置\",\r\n        \"formEvents\": \"表单事件\",\r\n        \"buttonName\": \"按钮名称\",\r\n        \"enable\": \"是否可用\",\r\n        \"disabled\": \"是否禁用\",\r\n        \"hidden\": \"是否隐藏\",\r\n        \"fieldName\": \"字段名称\",\r\n        \"editable\": \"是否可写\",\r\n        \"readonly\": \"是否只读\",\r\n        \"required\": \"是否必填\",\r\n        \"saveFail\": \"保存配置失败，请联系管理员查看原因！\",\r\n        \"checkedRows\": \"尚未选择按钮集合\",\r\n        \"checkeds\": \"尚未选择字段集合\",\r\n        \"enableBtn\": \"可用\",\r\n        \"disabledBtn\": \"禁用\",\r\n        \"hiddenBtn\": \"隐藏\",\r\n        \"btnBatchReset\": \"重置\",\r\n        \"editableBtn\": \"可写\",\r\n        \"readonlyBtn\": \"只读\",\r\n        \"requiredBtn\": \"必填\",\r\n        \"add\": \"新增\",\r\n        \"delete\": \"删除\",\r\n        \"other\": \"其他\",\r\n        \"formBtn\": \"表单按钮\",\r\n        \"formfield\": \"表单字段\",\r\n        \"apptag\": \"单据类型\",\r\n        \"functionMenu\": \"功能菜单\",\r\n        \"formFormat\": \"表单格式\",\r\n        \"docFormatNumber\": \"单据格式编号\",\r\n        \"docFormatName\": \"单据格式名称\",\r\n        \"selectedRow\": \"尚未选择表单定义！\",\r\n        \"set\": \"（已设置）\"\r\n      },\r\n      \"eventDefinition\": {\r\n        \"eventDefinition\": \"信号定义\",\r\n        \"pass\": \"正向\",\r\n        \"back\": \"反向\",\r\n        \"abort\": \"终止\",\r\n        \"signalRef\": \"信号编号\",\r\n        \"name\": \"信号名称\",\r\n        \"triggerAction\": \"流转方向\",\r\n        \"selectedRow\": \"尚未选中一条触发事件！\",\r\n        \"dataLength\": \"至少需要一个信号定义，请了解！\",\r\n        \"codeNotNull\": \"信号编号不允许为空！\",\r\n        \"nameNotNull\": \"信号名称不允许为空！\",\r\n        \"codeNotNumber\": \"信号编号不允许为纯数字！\",\r\n        \"codeRepeat\": \"信号编号不允许重复！\",\r\n        \"set\": \"（已设置）\",\r\n        \"notSet\": \"（未设置）\",\r\n        \"add\": \"新增\",\r\n        \"delete\": \"删除\",\r\n        \"clickCancel\": \"取消\",\r\n        \"clickOK\": \"确定\"\r\n      },\r\n      \"entryFormEditor\": {\r\n        \"flowForm\": \"流程分类\",\r\n        \"code\": \"编号\",\r\n        \"name\": \"名称\",\r\n        \"base\": \"类型\",\r\n        \"foundation\": \"基础\",\r\n        \"extend\": \"扩展\",\r\n        \"selectedRow\": \"尚未选择流程分类\",\r\n        \"absent\": \"流程分类已经不存在\",\r\n        \"lineNumber\": \"序号\",\r\n        \"clickCancel\": \"取消\",\r\n        \"clickOK\": \"重新绑定\"\r\n      },\r\n      \"editComponentParameter\": {\r\n        \"code\": \"编号\",\r\n        \"name\": \"名称\",\r\n        \"required\": \"必填\",\r\n        \"yes\": \"是\",\r\n        \"no\": \"否\",\r\n        \"value\": \"参数值\",\r\n        \"openComponentFail\": \"获取解析构件出错\",\r\n        \"componentSelection\": \"构件选择\",\r\n        \"curComponent\": \"请选择流程构件\",\r\n        \"executionTime\": \"请选择执行时机\",\r\n        \"para\": \"参数\",\r\n        \"paraRequired\": \"】必填\",\r\n        \"execuTime\": \"执行时机\",\r\n        \"parameterList\": \"参数列表\",\r\n        \"clickCancel\": \"取消\",\r\n        \"clickOK\": \"确定\"\r\n      },\r\n      \"customizeAction\": {\r\n        \"customizeAction\": \"自定义动作\",\r\n        \"app\": \"移动\",\r\n        \"web\": \"web\",\r\n        \"all\": \"web,移动\",\r\n        \"name\": \"名称\",\r\n        \"code\": \"编号\",\r\n        \"terminalType\": \"适用终端\",\r\n        \"isAll\": \"是否默认\",\r\n        \"yes\": \"是\",\r\n        \"no\": \"否\",\r\n        \"paramName\": \"编号\",\r\n        \"valueText\": \"名称\",\r\n        \"value\": \"参数值\",\r\n        \"addActions\": \"自定义动作选择\",\r\n        \"actionExisted\": \"新增的自定义动作已经存在！\",\r\n        \"selectedRow\": \"请首先选中一条选项！\",\r\n        \"set\": \"（已设置）\",\r\n        \"notSet\": \"（未设置）\",\r\n        \"add\": \"新增\",\r\n        \"delete\": \"删除\",\r\n        \"parameterList\": \"参数列表\",\r\n        \"clickCancel\": \"取消\",\r\n        \"clickOK\": \"确定\"\r\n      },\r\n      \"checkCondition\": {\r\n        \"zhChs\": \"简体中文\",\r\n        \"zhCht\": \"繁体中文\",\r\n        \"en\": \"英文\",\r\n        \"checkCondition\": \"活动校验规则\",\r\n        \"set\": \"（已设置）\",\r\n        \"notSet\": \"（未设置）\",\r\n        \"nodeEntry\": \"节点进入\",\r\n        \"activityBeforeStarted\": \"节点进入条件\",\r\n        \"enterErrorTips\": \"进入条件不匹配提示语\",\r\n        \"activityBeforeCompleted\": \"节点离开\",\r\n        \"activityBeforeCompletedValue\": \"节点离开条件\",\r\n        \"leaveErrorTips\": \"离开条件不匹配提示语\",\r\n        \"clickCancel\": \"取消\",\r\n        \"clickOK\": \"确定\"\r\n      },\r\n      \"batchSet\": {\r\n        \"targetNode\": \"目标节点\",\r\n        \"addSignFront\": \"征询\",\r\n        \"addSignBehind\": \"加签\",\r\n        \"transfer\": \"移交\",\r\n        \"notify\": \"知会\",\r\n        \"backWardRule\": \"驳回规则\",\r\n        \"name\": \"名称\"\r\n      },\r\n      \"subProcess\": {\r\n        \"subProcessSet\": \"子流程设置\",\r\n        \"specified\": \"指定子流程\",\r\n        \"dynamic\": \"动态子流程\",\r\n        \"inheritParent\": \"与父流程相同\",\r\n        \"autoCreation\": \"自动生成下游单据\",\r\n        \"variablesExpression\": \"变量表达式\",\r\n        \"rteNull\": \"请选中一条生单流程\",\r\n        \"orderProcess\": \"生单流程\",\r\n        \"clickOk\": \"确定\",\r\n        \"clickCancel\": \"取消\",\r\n        \"inheritBizDataId\": \"当子流程与父流程单据不一致时，请设置子流程单据内码！\",\r\n        \"set\": \"（已设置）\",\r\n        \"notSet\": \"（未设置）\",\r\n        \"radioGroupProcessType\": \"子流程类型\",\r\n        \"flowForm\": \"流程分类\",\r\n        \"processDef\": \"流程定义\",\r\n        \"radioGroupBillSource\": \"单据来源\",\r\n        \"autoCreationProcess\": \"生单流程\",\r\n        \"bizDataId\": \"单据内码\",\r\n        \"setOption\": \"设置选项\",\r\n        \"SameParentProcess\": \"与父流程同一张业务单据\",\r\n        \"setBizDataId\": \"设置单据内码\",\r\n        \"subProcessOpt\": \"子流程选项\"\r\n      },\r\n      \"backwardRule\": {\r\n        \"reEdit\": \"驳回活动节点已不存在，请重新编辑\",\r\n        \"backwardRule\": \"驳回规则\",\r\n        \"initialActityId\": \"开始节点\",\r\n        \"precursorActivityId\": \"前置节点\",\r\n        \"empty\": \"空\",\r\n        \"name\": \"名称\",\r\n        \"id\": \"标识\",\r\n        \"sequence\": \"顺序流转\",\r\n        \"backToMe\": \"返回我\",\r\n        \"backToCurrentNode\": \"返回本节点\",\r\n        \"popover\": \"1.顺序流转:按照流转线顺序进行流转; 2.返回我:完成策略为抢占：只给驳回人创建任务,完成策略为会签：驳回人与未审批人收到新任务，已审批人员自动审批通过; 3.返回本节点:实际效果受“再次进入节点时，办理人是否是节点已办人员影响”选项的影响\",\r\n        \"selectAbleClick\": \"会签策略下，不允许动态选择驳回目标节点!\",\r\n        \"dictPicked\": \"“驳回至空”选项请搭配“允许动态选择驳回目标节点”使用\",\r\n        \"set\": \"（已设置）\",\r\n        \"notSet\": \"（未设置）\",\r\n        \"rejectedTo:\": \"驳回至：\",\r\n        \"backScope\": \"驳回范围\",\r\n        \"defaultPrompt\": \"默认选取全部历史驳回节点\",\r\n        \"title\": \"活动列表\",\r\n        \"dynamicSelection\": \"允许动态选择驳回目标节点\",\r\n        \"resubmitEffectOptions\": \"返回设置\",\r\n        \"popover1\": \"1.顺序流转:按照流转线顺序进行流转; \",\r\n        \"popover2\": \"2.返回我:完成策略为抢占：只给驳回人创建任务,完成策略为会签：驳回人与未审批人收到新任务，已审批人员自动审批通过;\",\r\n        \"popover3\": \"3.返回本节点:实际效果受“再次进入节点时，办理人是否是节点已办人员影响”选项的影响\",\r\n        \"allowModification\": \"允许修改返回设置\",\r\n        \"clickCancel\": \"取消\",\r\n        \"clickOk\": \"确定\"\r\n      },\r\n      \"assignStrategy\": {\r\n        \"all\": \"所有\",\r\n        \"assign\": \"指派\",\r\n        \"claim\": \"领用\",\r\n        \"currentUser\": \"当前办理人\",\r\n        \"procInstCreator\": \"流程发起人\",\r\n        \"assignStrategy\": \"分配策略\",\r\n        \"option\": \"选项\",\r\n        \"assignmentRules\": \"指派规则\",\r\n        \"operator\": \"指派操作人\",\r\n        \"multiSelect\": \"允许选择多个待选用户\",\r\n        \"necessary\": \"只有一个待选用户时，仍需手工选择\",\r\n        \"clickCancel\": \"取消\",\r\n        \"clickOK\": \"确定\"\r\n      },\r\n      \"assignScope\": {\r\n        \"assignScopeList\": \"指派节点列表\",\r\n        \"required\": \"必填\",\r\n        \"yes\": \"是\",\r\n        \"no\": \"否\",\r\n        \"condition\": \"条件\",\r\n        \"add\": \"增加\",\r\n        \"delete\": \"删除\",\r\n        \"name\": \"名称\",\r\n        \"deleteRow\": \"请首先选中一条选项！\",\r\n        \"curActivity\": \"尚未选中行\",\r\n        \"set\": \"（已设置）\",\r\n        \"notSet\": \"（未设置）\",\r\n        \"nodeList\": \"节点列表\",\r\n        \"moveUp\": \"上移\",\r\n        \"moveDown\": \"下移\",\r\n        \"clickCancel\": \"取消\",\r\n        \"clickOK\": \"确定\"\r\n      },\r\n      \"assignPerformer\": {\r\n        \"currentUser\": \"当前办理人\",\r\n        \"procInstCreator\": \"流程发起人\",\r\n        \"global\": \"全员\",\r\n        \"currentUnit\": \"本单位\",\r\n        \"currentDepartment\": \"本部门\",\r\n        \"assignPerformer\": \"指派规则\",\r\n        \"set\": \"（已设置）\",\r\n        \"operator\": \"指派操作人\",\r\n        \"multiSelect\": \"允许选择多个待选用户\",\r\n        \"necessary\": \"只有一个待选用户时，仍需手工选择\",\r\n        \"clickCancel\": \"取消\",\r\n        \"clickOK\": \"确定\"\r\n      },\r\n      \"approvelItems\": {\r\n        \"approvalOptions\": \"审批选项\",\r\n        \"forward\": \"正向\",\r\n        \"backward\": \"反向\",\r\n        \"abort\": \"终止\",\r\n        \"value\": \"编号\",\r\n        \"text\": \"名称\",\r\n        \"workFlowAction\": \"流转方向\",\r\n        \"isDefault\": \"默认\",\r\n        \"no\": \"否\",\r\n        \"yes\": \"是\",\r\n        \"commentNecessary\": \"意见必填\",\r\n        \"attachmentNecessary\": \"附件上传\",\r\n        \"certification\": \"数字签名\",\r\n        \"signatureNecessary\": \"手写签名必填\",\r\n        \"defaultComment\": \"默认意见\",\r\n        \"zh-CHS\": \"中文简体\",\r\n        \"zh-CHT\": \"中文繁体\",\r\n        \"en\": \"英文\",\r\n        \"workFlowActionNotNull\": \"审批项流转方向不允许为空，请修改！\",\r\n        \"deleteRow\": \"请首先选中一条选项！\",\r\n        \"set\": \"（已设置）\",\r\n        \"notSet\": \"（未设置）\",\r\n        \"add\": \"新增\",\r\n        \"delete\": \"删除\",\r\n        \"clickCancel\": \"取消\",\r\n        \"clickOK\": \"确定\",\r\n        \"approvalAction\": \"审批动作\",\r\n        \"lineNumber\": \"序号\"\r\n      },\r\n      \"approvalPivot\": {\r\n        \"remind\": \"文字提示\",\r\n        \"type\": \"类型\",\r\n        \"condition\": \"条件\",\r\n        \"title\": \"显示名称\",\r\n        \"description\": \"详细说明\",\r\n        \"approvalPivot\": \"审批要点\",\r\n        \"selectedRow\": \"尚未选中审批要点！\",\r\n        \"configTitle\": \"尚未填写显示标题！\",\r\n        \"set\": \"（已设置）\",\r\n        \"notSet\": \"（未设置）\",\r\n        \"enable\": \"是否启用\",\r\n        \"expand\": \"是否展开\",\r\n        \"showTitle\": \"显示标题\",\r\n        \"list\": \"列表\",\r\n        \"add\": \"新增\",\r\n        \"delete\": \"删除\",\r\n        \"clickCancel\": \"取消\",\r\n        \"clickOK\": \"确定\"\r\n      },\r\n      \"anonymousSet\": {\r\n        \"anonymousOpt\": \"匿名选项\",\r\n        \"approver\": \"审批人\",\r\n        \"set\": \"（已设置）\",\r\n        \"notSet\": \"（未设置）\",\r\n        \"anonymousSet\": \"匿名设置\",\r\n        \"isAnonymity\": \"是否启用\",\r\n        \"anonymous\": \"匿名代称\",\r\n        \"clickCancel\": \"取消\",\r\n        \"clickOK\": \"确定\"\r\n      },\r\n      \"activityList\": {\r\n        \"name\": \"名称\",\r\n        \"checkeds\": \"尚未选择活动节点\",\r\n        \"lineNumber\": \"序号\",\r\n        \"clickCancel\": \"取消\",\r\n        \"clickOK\": \"确定\"\r\n      },\r\n      \"activityComponent\": {\r\n        \"component\": \"构件\",\r\n        \"method\": \"构件方法\",\r\n        \"inconsistentParameters\": \"参数不一致，请检查\",\r\n        \"longerExists\": \"构件已不存在此构件方法\",\r\n        \"absent\": \"取消\",\r\n        \"pleaseCheck\": \"，请检查\",\r\n        \"edit\": \"编辑\",\r\n        \"deleteRow\": \"删除\",\r\n        \"executionTime\": \"执行时机\",\r\n        \"cmpName\": \"构件名称\",\r\n        \"metadataId\": \"构件ID\",\r\n        \"methodCode\": \"构件方法\",\r\n        \"isForCompensation\": \"补偿操作\",\r\n        \"yes\": \"是\",\r\n        \"no\": \"否\",\r\n        \"operate\": \"操作\",\r\n        \"code\": \"编号\",\r\n        \"name\": \"名称\",\r\n        \"value\": \"参数值\",\r\n        \"editComponent\": \"编辑构件\",\r\n        \"confirmDelete\": \"确认是否删除构件？\",\r\n        \"curComponent\": \"尚未选中构件！\",\r\n        \"newComponent\": \"新建构件\",\r\n        \"sameCmp\": \"存在相同的流程构件\",\r\n        \"cmpMethod\": \"构件方法：\",\r\n        \"executionTimeNotNull\": \"构件执行时机不允许为空！\",\r\n        \"param\": \"的参数\",\r\n        \"required\": \"必填\",\r\n        \"set\": \"（已设置）\",\r\n        \"notSet\": \"（未设置）\",\r\n        \"PROCESSINSTANCE_STARTED\": \"流程启动\",\r\n        \"PROCESSINSTANCE_SUSPENDED\": \"流程挂起\",\r\n        \"PROCESSINSTANCE_RESUMED\": \"流程恢复\",\r\n        \"PROCESSINSTANCE_COMPLETED\": \"流程完成\",\r\n        \"PROCESSINSTANCE_ABORTED\": \"流程终止\",\r\n        \"PROCESSINSTANCE_CANCELED\": \"流程取消\",\r\n        \"PROCESSINSTANCE_REACTIVATED\": \"流程复活\",\r\n        \"PROCESSINSTANCE_ROLLBACK\": \"流程驳回\",\r\n        \"PROCESSINSTANCE_RESUBMIT\": \"重新提交\",\r\n        \"ACTIVITY_AND_PARTICIPANT_UPDATED\": \"环节办理人变更\",\r\n        \"PROCESSINSTANCE_ABORTED_BY_ADMIN\": \"管理员终止\",\r\n        \"PROCESSINSTANCE_BEFORE_START\": \"流程启动前\",\r\n        \"WORKITEM_BEFORE_COMPLETE\": \"任务完成前\",\r\n        \"WORKITEM_AFTER_COMPLETE\": \"任务完成后\",\r\n        \"LOADDATA\": \"获取数据\",\r\n        \"ACTIVITY_STARTED\": \"活动启动\",\r\n        \"ACTIVITY_COMPLETED\": \"活动完成\",\r\n        \"ACTIVITY_ABORTED\": \"活动终止\",\r\n        \"WORKITEM_CREATED\": \"工作项创建\",\r\n        \"WORKITEM_COMPLETED\": \"工作项完成\",\r\n        \"WORKITEM_SUSPENDED\": \"工作项挂起\",\r\n        \"WORKITEM_RESUMED\": \"工作项恢复\",\r\n        \"WORKITEM_ABORTED\": \"工作项终止\",\r\n        \"WORKITEM_RETRIEVED\": \"工作项取回\",\r\n        \"WORKITEM_CLAIMED\": \"工作项领用\",\r\n        \"WORKITEM_UNCLAIMED\": \"工作项反领用\",\r\n        \"ACTIVITY_ASSIGNMENT\": \"任务分配前\",\r\n        \"deleteNotAllowed\": \"取数构件不允许删除，请了解！\",\r\n        \"tips\": \"提示：\",\r\n        \"prefabricated\": \"已经预制外部流程构件，此处只保留取数构件\",\r\n        \"add\": \"新增\",\r\n        \"moveUp\": \"上移\",\r\n        \"moveDown\": \"下移\",\r\n        \"clickCancel\": \"取消\",\r\n        \"clickOK\": \"确定\"\r\n      }\r\n    }\r\n  },\r\n  \"en\": {\r\n    \"validate\": {\r\n      \"noProcessHeader\": \"processHeader attribute does not exist in the model\",\r\n      \"cmpsEmpty\": \"Process component is empty\",\r\n      \"cmpsEmptyMsg\": \"The process component cannot be empty, please contact the form development to confirm the problem\",\r\n      \"directNoPf\": \"A process whose startup mode is [direct] should not contain shared (PF) process components\",\r\n      \"directNoPfMsg\": \"Please remove the following process components of sharing (PF):\",\r\n      \"noLoadDataCmp\": \"There is no process component whose execution opportunity is [get data]\",\r\n      \"noLoadDataCmpMsg\": \"The process definition cannot be short of fetching components, please contact the form development to confirm the problem\",\r\n      \"noStartCmp\": \"The process component whose execution opportunity is [Process Start] is missing\",\r\n      \"noStartCmpMsg\": \"The document status cannot be modified when the process is started, please contact the form development to confirm the problem\",\r\n      \"lackProcessCompleteCmp\": \"There is no process component whose execution opportunity is [Process Completion]\",\r\n      \"lackProcessCompleteCmpMsg\": \"The document status cannot be modified when the process is completed, please contact the form development to confirm the problem\",\r\n      \"lackProcessAbortCmp\": \"Lack of process component with execution timing of [process termination]\",\r\n      \"lackProcessAbortCmpMsg\": \"The document status cannot be modified when the process is terminated, please contact the form development to confirm the problem\",\r\n      \"lackProcessCancelCmp\": \"The process component with execution opportunity of [Process Termination] is missing\",\r\n      \"lackProcessCancelCmpMsg\": \"The document status cannot be modified when the process is terminated, please contact the form development to confirm the problem\",\r\n      \"lackProcessBackCmp\": \"Lack of process component with execution opportunity of [Process Rejection]\",\r\n      \"lackProcessBackCmpMsg\": \"The document status cannot be modified when the process is rejected, please contact the form development to confirm the problem\",\r\n      \"lackProcessReStartCmp\": \"Lack of process component with execution opportunity of [resubmit]\",\r\n      \"lackProcessReStartCmpMsg\": \"It will lead to the failure to modify the document status when the process is resubmitted, please contact the form development to confirm the problem\",\r\n      \"parallelGatewayCheck\": \"[Parallel Gateway] does not appear in pairs\",\r\n      \"parallelGatewayCheckMsg\": \"Parallel Gateway needs to appear as a split node and a sink node of a process branch in pairs, please modify it\",\r\n      \"approvalPerformerCheck\": \"activity, no participant set\",\r\n      \"noVariable1\": \"A variable has been set in the variable setting attribute of the activity\",\r\n      \"noVariable2\": \"It no longer exists in the process attribute Process Variable. Please modify it!\",\r\n      \"activity\": \"activity [\",\r\n      \"noStartActivity\": \"] is illegal and does not start with [startActivity]\",\r\n      \"noExclusiveGateway\": \"] is illegal and does not start with [ExclusiveGateway]\",\r\n      \"noParallelGateway\": \"] is illegal and does not start with [ParallelGateway]\",\r\n      \"noUserActivity\": \"] is illegal and does not start with [UserActivity]\",\r\n      \"noOperationActivity\": \"] is illegal and does not start with [OperationActivity]\",\r\n      \"noNotifyActivity\": \"] is illegal and does not start with [NotifyActivity]\",\r\n      \"noCallActivitySubProcess\": \"] is illegal and does not start with [CallActivitySubProcess]\",\r\n      \"noAutoActivity\": \"] is illegal and does not start with [AutoActivity]\",\r\n      \"noIntermediateCatchEvent\": \"] is illegal and does not start with [MediaTechEventTimpl]\",\r\n      \"noMessageActivity\": \"] is illegal and does not start with [MessageActivity]\",\r\n      \"noAifCreationBillActivity\": \"] is illegal and does not start with [AifCreationBillActivity]\",\r\n      \"noEndEvent\": \"] is illegal and does not start with [EndEvent]\",\r\n      \"mark\": \"The logo is [\",\r\n      \"noFlowNodeChsName\": \"] is empty, please modify it\",\r\n      \"nameExceedsLengthLimit\": \"] is too long and cannot exceed 40 characters. Please modify it.\"\r\n    },\r\n    \"processEditor\": {\r\n      \"tip\": \"Tip\",\r\n      \"showButton\": \"Show Model View Button\",\r\n      \"changeRecord\": \"Process Change Record\",\r\n      \"noDtInfo\": \"No design time process information exists! Please assign it first!\",\r\n      \"noRtInfo\": \"No runtime process information exists! Please assign it first!\",\r\n      \"wrongMoment\": \"Wrong moment for the editor!\",\r\n      \"prompted\": \"System Prompt\",\r\n      \"saveSuccess\": \"Save successful\",\r\n      \"waitReview\": \"Save successful, awaiting review initiation\",\r\n      \"successPublish\": \"Publish successful\",\r\n      \"publishFail\": \"Publish failed,\",\r\n      \"policyConflict\": \"In countersign strategy, 'Rejection Rule' does not allow 'Dynamically Select Rejection Levels', please modify!\",\r\n      \"noPermissionToSave\": \"The current user does not have permission to save the process\",\r\n      \"closeProc1\": \"Close this page?\",\r\n      \"closeProc2\": \"The system may not save the changes you made.\",\r\n      \"viewModel\": \"View Model\",\r\n      \"copied\": \"The model has been copied to the clipboard\",\r\n      \"button\": {\r\n        \"saveProc\": \"Save\",\r\n        \"releaseProc\": \"Publish\",\r\n        \"sync\": \"Synchronize Design Time Package\",\r\n        \"saveAs\": \"Save As\",\r\n        \"procRecord\": \"Process Record\",\r\n        \"viewProcModel\": \"View Model\",\r\n        \"closeProc\": \"Close\"\r\n      }\r\n    },\r\n    \"designer\": {\r\n      \"wfEditorUi\": {\r\n        \"basicElements\": \"Basic Elements\",\r\n        \"readOnly\": \"Read-only\"\r\n      },\r\n      \"wfProcessCell\": {\r\n        \"basicInfo\": \"Basic Information\",\r\n        \"name\": \"Name\",\r\n        \"nameLanguage\": \"Name\",\r\n        \"key\": \"Identifier\",\r\n        \"entryForm\": \"Process Category\",\r\n        \"startMode\": \"Start Mode\",\r\n        \"wfTitle\": \"Process Summary\",\r\n        \"formDef\": \"Form Definition\",\r\n        \"formsPC\": \"PC Form\",\r\n        \"formsMobile\": \"Mobile Form\",\r\n        \"process\": \"Event Listener\",\r\n        \"advanced\": \"Advanced Properties\",\r\n        \"basic\": \"Basic Properties\",\r\n        \"wfComponent\": \"Process Component\",\r\n        \"otherConfig\": \"Other Configuration\",\r\n        \"processVariables\": \"Process Variables\",\r\n        \"basicElements\": \"Basic Elements\",\r\n        \"customizeAction\": \"Custom Actions\",\r\n        \"timelinessInfo\": \"Timeliness Information\",\r\n        \"enablePriority\": \"Enable Priority\",\r\n        \"enableWholeOrderRetrieve\": \"Withdraw Documents Under Review\",\r\n        \"messageProperty\": \"Image Setting\",\r\n        \"timeLimitControl\": \"Timeout Operation\",\r\n        \"messageNotice\": \"Message Notification\",\r\n        \"extendProperty\": \"Extended Properties\",\r\n        \"directTips\": \"Tip: Switching start mode to 'Direct' will remove shared (PF) related components as it is the default start mode. Please be aware of this!\",\r\n        \"externalTips\": \"Tip: Switching start mode to 'External Process' is suitable for scenarios where the process serves as an external process for sharing. After switching, shared (PF) related components on the process will be retained. Please be aware of this!\",\r\n        \"subprocessTips\": \"Tip: Switching start mode to 'Subprocess' is suitable for invoking sub-processes. After switching, all process components except those for data extraction will be removed. Please be aware of this!\"\r\n      },\r\n      \"WfSequenceFlowEdge\": {\r\n        \"basicInfo\": \"Basic Information\",\r\n        \"basic\": \"Basic Properties\",\r\n        \"name\": \"Name\",\r\n        \"nameLanguage\": \"Name\",\r\n        \"id\": \"Identifier\",\r\n        \"condition\": \"Condition Options\",\r\n        \"ConditionExpression\": \"Condition Expression\",\r\n        \"default\": \"Default Transition\"\r\n      },\r\n      \"wfSidebar\": {\r\n        \"bizactivitylib\": \"Business Activity Library\"\r\n      }\r\n    },\r\n    \"app\": {\r\n      \"processDesigner\": {\r\n        \"all\": \"All\",\r\n        \"assign\": \"Assign\",\r\n        \"claim\": \"Claim\",\r\n        \"preempt\": \"Preempt Mode\",\r\n        \"parallel\": \"Parallel Countersignature\",\r\n        \"sequential\": \"Sequential Countersignature\",\r\n        \"true\": \"Yes\",\r\n        \"false\": \"No\",\r\n        \"dataId\": \"Document ID\",\r\n        \"procInstId\": \"Process Instance ID\",\r\n        \"bizDefKey\": \"Entrance Document ID\",\r\n        \"processDefinitionKey\": \"Process Definition Key\",\r\n        \"procInstCreator\": \"Process Initiator\",\r\n        \"businessCreator\": \"Business Initiator\",\r\n        \"procInstDescription\": \"Process Summary\",\r\n        \"comment\": \"Approval Comment\",\r\n        \"bizDefName\": \"Process Category Name\",\r\n        \"curLoginUsername\": \"Current Login User Name\",\r\n        \"procInstCreatorName\": \"Process Initiator Name\",\r\n        \"currentParticipantId\": \"Current Participant ID\",\r\n        \"currentParticipantName\": \"Current Participant Name\",\r\n        \"currentUser\": \"Current Login User\",\r\n        \"preActExecutors\": \"Executors of the Previous Activity\",\r\n        \"collectionElementVariable\": \"MultiInstance Child activity element variables\",\r\n        \"subCollectionElementVariable\": \"MultiInstance Sub-process element variables\",\r\n        \"nrOfInstances\": \"Total number of multiple instances\",\r\n        \"nrOfCompletedInstances\": \"Number of multi-instance completed\",\r\n        \"nrOfActiveInstances\": \"The number of multiple instances running\",\r\n        \"nrOfForward\": \"Number of Passed Instances\",\r\n        \"nrOfBackward\": \"Number of rejected instances\",\r\n        \"nrOfAbort\": \"Number of terminated instances\",\r\n        \"conclusionType\": \"Conclusion Type\",\r\n        \"conclusionValue\": \"Conclusion Value\",\r\n        \"directSuperior\": \"Direct Superior\",\r\n        \"higherSuperior\": \"Indirect Superior\",\r\n        \"DIRECT\": \"Direct\",\r\n        \"EXTERNAL_PROCESS\": \"External Process\",\r\n        \"SUB_PROCESS\": \"Subprocess\",\r\n        \"ALL\": \"PC and Mobile\",\r\n        \"WEB\": \"PC\",\r\n        \"APP\": \"Mobile\",\r\n        \"conclusionTypeTips\": \"The direction of item circulation, 1 for forward, 2 for backward, 3 for termination\",\r\n        \"conclusionValueTips\": \"Item number, for example, 'Pass', 'Back', 'Refuse'\",\r\n        \"copy\": \"_Copy\",\r\n        \"saveAs\": \"Save As\",\r\n        \"tips\": \"System Tips\",\r\n        \"saveAsSuccess\": \"Save As Successful\",\r\n        \"saveAsFail\": \"Save As Failed, please check if the process is correct!\",\r\n        \"syncDt\": \"Whether to synchronize the current version of the process definition to the design-time process definition package\",\r\n        \"syncSuccess\": \"Synchronization Successful\",\r\n        \"beforeCompleteStrategyChange\": \"There are running activity instances in the current node, adjusting the completion strategy is not allowed, please be aware!\",\r\n        \"releaseProcess\": \"Review before Release\",\r\n        \"auto\": \"Auto-generated Form\",\r\n        \"push\": \"Push-generated Form\",\r\n        \"pull\": \"Pull-generated Form\",\r\n        \"creation\": \"Generate the target form through the form generation process\"\r\n      }\r\n    },\r\n    \"multiInstanceLoopCharacteristics\": {\r\n      \"loopCharacteristics\": \"Multi-instance Setup\",\r\n      \"set\": \"(Set)\",\r\n      \"notSet\": \"(Not Set)\",\r\n      \"isEnable\": \"Enable\",\r\n      \"isSequential\": \"Sequential\",\r\n      \"loopCardinality\": \"Elements Collections\",\r\n      \"completionConditionRules\": \"Completion COnditions\",\r\n      \"promptAct1\": \"1. The number of elements in [Collection] is the number of instances of the sub-activity start.\",\r\n      \"promptAct2\": \"2. When the sub-activity starts, the system will split and map the elements in the [Collection] to the [Element Variables] of each sub-activity instance.\",\r\n      \"promptProc1\": \"1. The number of elements in [Collection] is the number of instances of the sub-process start.\",\r\n      \"promptProc2\": \"2. When the sub-process starts, the system will split and map the elements in the [Collection] to the [Element Variables] of each sub-process instance.\",\r\n      \"checkPrompt\": \"There are running activity instances in the current node, adjusting is not allowed\",\r\n      \"conditionRulesSet\": \"(Set)\",\r\n      \"completionConditionRulesList\": {\r\n        \"forward\": \"Forward\",\r\n        \"backward\": \"BackWard\",\r\n        \"abort\": \"Abort\"\r\n      }\r\n    },\r\n    \"component\": {\r\n      \"optins\": {\r\n        \"wfOptions\": \"Workflow Options\",\r\n        \"specified\": \"Specified Subprocess\",\r\n        \"dynamic\": \"Dynamic Subprocess\",\r\n        \"set\": \"(Set)\",\r\n        \"notSet\": \"(Not Set)\",\r\n        \"subProcessType\": \"Subprocess Type\",\r\n        \"processType\": \"Process Type\",\r\n        \"bizDef\": \"Process Category\",\r\n        \"procDef\": \"Process Definition\",\r\n        \"clickCancel\": \"Cancel\",\r\n        \"clickOk\": \"OK\"\r\n      },\r\n      \"voConfig\": {\r\n        \"documentInfo\": \"Document Information\",\r\n        \"viewModelSelection\": \"View Model Selection\",\r\n        \"cancel\": \"Cancel\",\r\n        \"clickOk\": \"OK\",\r\n        \"selectOne\": \"Select One\",\r\n        \"documentTypeSelect\": \"Document Type Selection\",\r\n        \"set\": \"(Set)\",\r\n        \"notSet\": \"(Not Set)\",\r\n        \"viewModel\": \"View Model\",\r\n        \"documenttype\": \"Document Type\",\r\n        \"placeholder\": \"Please Select\"\r\n      },\r\n      \"variableSetting\": {\r\n        \"constant\": \"Constant\",\r\n        \"expression\": \"Expression\",\r\n        \"component\": \"Component\",\r\n        \"ACTIVITY_STARTED\": \"Activity Started\",\r\n        \"ACTIVITY_COMPLETED\": \"Activity Completed\",\r\n        \"varAssign\": \"Variable Assignment\",\r\n        \"varNumber\": \"Variable Number\",\r\n        \"REQUIRED\": \"Required\",\r\n        \"varName\": \"Variable Name\",\r\n        \"valueType\": \"Value Type\",\r\n        \"executionTime\": \"Execution Time\",\r\n        \"valueText\": \"Variable Value\",\r\n        \"processVariables\": \"Process Variables\",\r\n        \"notSelectedVar\": \"Variable Not Selected!\",\r\n        \"valueCannotEmpty\": \"Variable Value Cannot be Empty!\",\r\n        \"set\": \"(Set)\",\r\n        \"notSet\": \"(Not Set)\",\r\n        \"add\": \"Add\",\r\n        \"delete\": \"Delete\",\r\n        \"serialNumber\": \"Serial Number\",\r\n        \"clickCancel\": \"Cancel\",\r\n        \"clickOK\": \"OK\",\r\n        \"inconsistentParameters\": \"Inconsistent Method Parameters for the Current Component, Please Update!\",\r\n        \"methodNotExist\": \"The Current Component No Longer Exists This Method, Please Update!\",\r\n        \"parameterName\": \"Parameter Name\",\r\n        \"parameterValue\": \"Parameter Value\",\r\n        \"methodnotSelected\": \"Component Method Not Selected Yet\",\r\n        \"metadataNotExist\": \"Help Metadata Does Not Exist, Please Contact the System Administrator for Details!\",\r\n        \"errorObtainComponent\": \"Error Obtaining Parsed Component\",\r\n        \"componentSelection\": \"Component Selection\",\r\n        \"componentName\": \"Component Name\",\r\n        \"parameterList\": \"Parameter List\",\r\n        \"lineNumber\": \"No.\"\r\n      },\r\n      \"urgeHandleRule\": {\r\n        \"urgentApproval\": \"Urge Approval:\",\r\n        \"pleaseApprove\": \"Please Approve\",\r\n        \"soOn\": \" \",\r\n        \"urgeHandle\": \"Urge Handle\",\r\n        \"noSendingMethod\": \"No Sending Method Selected Yet!\",\r\n        \"setMessageTemplate\": \"Message Template Needs to be Set When Using SMS as the Message Channel\",\r\n        \"codeEmpty\": \"SMS Template Number Cannot be Empty\",\r\n        \"noMessageSubject\": \"No Message Subject Configured Yet!\",\r\n        \"noMessageContent\": \"No Message Content Selected Yet!\",\r\n        \"earliestTimeNotEmpty\": \"Earliest Urge Time Cannot be Empty\",\r\n        \"minimumTimeNotEmpty\": \"Minimum Urge Interval Cannot be Empty\",\r\n        \"set\": \"(Set)\",\r\n        \"notSet\": \"(Not Set)\",\r\n        \"enableUrgeHandle\": \"Enable Urgent Handling\",\r\n        \"timeSetting\": \"Time Setting\",\r\n        \"earliestTime\": \"Earliest Urge Time (Hours)\",\r\n        \"minimumInterval\": \"Minimum Urge Interval (Hours)\",\r\n        \"sendingMethod\": \"Sending Method\",\r\n        \"messageSubject\": \"Message Subject\",\r\n        \"supportEditing\": \"Support Editing\",\r\n        \"messageContent\": \"Message Content\",\r\n        \"displayReminder\": \"Display Urgent Reminder\",\r\n        \"clickCancel\": \"Cancel\",\r\n        \"clickOK\": \"OK\"\r\n      },\r\n      \"titleExpression\": {\r\n        \"zh-CHS\": \"Simplified Chinese\",\r\n        \"zh-CHT\": \"Traditional Chinese\",\r\n        \"en\": \"English\",\r\n        \"taskDescription\": \"Task Description\",\r\n        \"set\": \"(Set)\",\r\n        \"notSet\": \"(Not Set)\",\r\n        \"currentLanguage\": \"Current Summary Language:\",\r\n        \"clickCancel\": \"Cancel\",\r\n        \"clickOK\": \"OK\"\r\n      },\r\n      \"timeLimitControl\": {\r\n        \"timedOutOperation\": \"Timed Out Operation\",\r\n        \"constant\": \"Constant\",\r\n        \"scope\": \"Time Scope\",\r\n        \"day\": \"Day(s)\",\r\n        \"hour\": \"Hour(s)\",\r\n        \"minute\": \"Minute(s)\",\r\n        \"BeforeDuration\": \"Before Due\",\r\n        \"OnDuration\": \"On Due\",\r\n        \"AfterDuration\": \"After Due\",\r\n        \"SendMessageExpireOperation\": \"Expiring Alert\",\r\n        \"AutoHandleExpireOperation\": \"Automatic Processing\",\r\n        \"curDay\": \"Current Day\",\r\n        \"durationType\": \"Duration Type\",\r\n        \"required\": \"Required\",\r\n        \"timeDuration\": \"Duration\",\r\n        \"timeUnit\": \"Unit\",\r\n        \"operationTypeName\": \"Operation Type Name\",\r\n        \"sendType\": \"Operation\",\r\n        \"onlyBeInteger\": \"Task Duration Can Only Be an Integer!\",\r\n        \"setOperation\": \"Please Set Timeout Operation!\",\r\n        \"setType\": \"Please Set Automatic Processing Type!\",\r\n        \"setComments\": \"Please Set Automatic Processing Opinion!\",\r\n        \"selectedOperation\": \"No Expiring Operation Selected Yet!\",\r\n        \"notSupportAutomatic\": \"If the Next Node is Assigned by the Current Operator, the Current Node Does Not Support Automatic Task Processing\",\r\n        \"warningMessage\": \"Warning Message\",\r\n        \"automaticProcessing\": \"Automatic Processing\",\r\n        \"set\": \"(Set)\",\r\n        \"notSet\": \"(Not Set)\",\r\n        \"timelinessControl\": \"Task Processing Timeliness Control\",\r\n        \"isEnable\": \"Enable or Not\",\r\n        \"taskDeadline\": \"Task Deadline\",\r\n        \"timelyOperation\": \"Timely Alert Operation\",\r\n        \"actionList\": \"Action List\",\r\n        \"add\": \"Add\",\r\n        \"remove\": \"Remove\",\r\n        \"clickCancel\": \"Cancel\",\r\n        \"clickOK\": \"OK\",\r\n        \"workItemParticipant\": \"Current Node Operator\",\r\n        \"procInstCreator\": \"Process Initiator\",\r\n        \"to-doMessageTimeOut\": \"You Have a Pending Task Message About to Time Out.\",\r\n        \"messageTimeOut\": \"You Have a Message About to Time Out\",\r\n        \"agree\": \"Agree\"\r\n      },\r\n      \"sendMessageOperation\": {\r\n        \"procInstCreator\": \"Process Initiator\",\r\n        \"workItemParticipant\": \"Current Node Handler\",\r\n        \"preActExecutors\": \"Previous Node Handlers\",\r\n        \"day\": \"Day\",\r\n        \"hour\": \"Hour\",\r\n        \"minute\": \"Minute\",\r\n        \"cycleTimeNotEmpty\": \"Cycle time interval cannot be empty!\",\r\n        \"sendMethodNotEmpty\": \"Send method cannot be empty!\",\r\n        \"subjectNotEmpty\": \"Message subject cannot be empty!\",\r\n        \"contentNotEmpty\": \"Message content cannot be empty!\",\r\n        \"recipientNotEmpty\": \"Recipient cannot be empty!\",\r\n        \"messageTemplate\": \"Message template needs to be set when SMS channel is enabled\",\r\n        \"smsTemplateNumberNotEmpty\": \"SMS template number cannot be empty\",\r\n        \"cycleEnable\": \"Enable cycle warning\",\r\n        \"cycleTime\": \"Cycle time interval\",\r\n        \"sendType\": \"Send method\",\r\n        \"subject\": \"Message subject\",\r\n        \"message\": \"Message content\",\r\n        \"receiverVari\": \"Recipient\",\r\n        \"sysUsers\": \"System users\",\r\n        \"clickCancel\": \"Cancel\",\r\n        \"clickOK\": \"OK\",\r\n        \"opinionsNotEmpty\": \"Automatic handling opinion cannot be empty!\",\r\n        \"processingNotEmpty\": \"Automatic handling cannot be empty!\",\r\n        \"automaticProcessSet\": \"Automatic handling settings\",\r\n        \"automaticProcessMethod\": \"Automatic handling method\",\r\n        \"automaticOpinionHandle\": \"Automatic handling opinion\"\r\n      },\r\n      \"smsMessageTemplate\": {\r\n        \"smsTemplateContent\": \"Template text defined in third-party SMS service provider, for example: Your GS Cloud data platform account has been activated. Username: ${username}, initial password: ${code}. Please log in to the system in time.\",\r\n        \"code\": \"Variable\",\r\n        \"value\": \"Value\",\r\n        \"noRowsSelected\": \"No rows selected\",\r\n        \"smsMessageTemplate\": \"SMS Service Template\",\r\n        \"tips1\": \"Message template refers to the association of template variables defined by third-party SMS service provider with GS Cloud variables after the template has been defined.\",\r\n        \"tips2\": \"Template number defined in the third-party SMS service provider, for example: Aliyun SMS_220626324\",\r\n        \"tips3\": \"Configure the association between variables in the third-party SMS service provider's template and variables in GSCloud\",\r\n        \"smsTemplateNumber\": \"SMS template number\",\r\n        \"smsVariableBinding\": \"SMS variable binding\",\r\n        \"addSmsVariable\": \"Add\",\r\n        \"deleteSmsVariable\": \"Delete\"\r\n      },\r\n      \"signRule\": {\r\n        \"countersignRules\": \"Countersign rules\",\r\n        \"byNumber\": \"By Quantity\",\r\n        \"byProportion\": \"By Percentage (%)\",\r\n        \"customConditions\": \"Custom Conditions\",\r\n        \"value\": \"Number\",\r\n        \"text\": \"Name\",\r\n        \"conclusionName\": \"Conclusion Name\",\r\n        \"conclusionValue\": \"Conclusion Value\",\r\n        \"calculateType\": \"Calculation Method\",\r\n        \"conditionValue\": \"Condition Value\",\r\n        \"waitAllVotes\": \"Wait for all members to complete\",\r\n        \"yes\": \"Yes\",\r\n        \"no\": \"No\",\r\n        \"notEmpty\": \"When the completion strategy is countersignature, the countersign rules cannot be empty. Please understand!\",\r\n        \"pleaseSelect\": \"Please select an item first!\",\r\n        \"maxConditionValue\": \"The maximum value of the condition must be 100\",\r\n        \"minConditionValue\": \"The minimum value of the condition must be 0\",\r\n        \"noConditional\": \"No conditional value is required when the execution mode is unanimous or one vote\",\r\n        \"set\": \"(Set)\",\r\n        \"ruleList\": \"Rule List\",\r\n        \"approvalOptions\": \"Approval Options\",\r\n        \"clickCancel\": \"Cancel\",\r\n        \"deleteRow\": \"Reset\",\r\n        \"clickOK\": \"OK\"\r\n      },\r\n      \"saveAsEdit\": {\r\n        \"public\": \"Public\",\r\n        \"private\": \"Private\",\r\n        \"code\": \"Number\",\r\n        \"name\": \"Name\",\r\n        \"nameNotEmpty\": \"Process name cannot be empty\",\r\n        \"organizationNotEmpty\": \"Maintenance organization cannot be empty\",\r\n        \"organization\": \"Organization\",\r\n        \"basicAttributes\": \"Basic Attributes\",\r\n        \"processName\": \"Process name\",\r\n        \"processKeyValue\": \"Process Key value\",\r\n        \"maintenanceOrg\": \"Maintenance organization\",\r\n        \"accessLevel\": \"Access level\",\r\n        \"saveAsCancel\": \"Cancel\",\r\n        \"saveAsOK\": \"OK\"\r\n      },\r\n      \"release\": {\r\n        \"release\": \"Process Release\",\r\n        \"update\": \"Process Update\",\r\n        \"applicantName\": \"Applicant Name\",\r\n        \"applicantDepartment\": \"Applicant Department\",\r\n        \"procName\": \"Process name\",\r\n        \"procVersion\": \"Process version\",\r\n        \"releaseType\": \"Release type\",\r\n        \"textDetail\": \"Description\",\r\n        \"saveAsCancel\": \"Cancel\",\r\n        \"saveAsOK\": \"OK\"\r\n      },\r\n      \"processVariables\": {\r\n        \"string\": \"String\",\r\n        \"integer\": \"Integer\",\r\n        \"decimal\": \"Decimal\",\r\n        \"boolean\": \"Boolean\",\r\n        \"constant\": \"Constant\",\r\n        \"expression\": \"Expression\",\r\n        \"component\": \"Component\",\r\n        \"name\": \"Variable number\",\r\n        \"required\": \"Required\",\r\n        \"documentation\": \"Variable name\",\r\n        \"basicType\": \"Variable type\",\r\n        \"description\": \"Description\",\r\n        \"tag\": \"Initial value type\",\r\n        \"valueText\": \"Initial value\",\r\n        \"processVariables\": \"Process variables\",\r\n        \"notSelected\": \"No process variables selected!\",\r\n        \"variableNumberEmpty\": \"Variable number cannot be empty!\",\r\n        \"variableNameEmpty\": \"Variable name cannot be empty!\",\r\n        \"variableNumberNotStandard\": \"Variable number can only contain letters, numbers, and underscores, and cannot start with a number!\",\r\n        \"tagNotEmpty\": \"Initial value type cannot be empty!\",\r\n        \"codeDuplicates\": \"Process variable number cannot be duplicated!\",\r\n        \"alreadyExists\": \"The added variable already exists!\",\r\n        \"set\": \"(Set)\",\r\n        \"notSet\": \"(Not Set)\",\r\n        \"add\": \"Add\",\r\n        \"delete\": \"Delete\",\r\n        \"number\": \"Number\",\r\n        \"clickCancel\": \"Cancel\",\r\n        \"clickOK\": \"OK\"\r\n      },\r\n      \"participant\": {\r\n        \"user\": \"User\",\r\n        \"variable\": \"Variable Participant\",\r\n        \"position\": \"Position\",\r\n        \"role\": \"Role\",\r\n        \"component\": \"Component Participant\",\r\n        \"reportingLine\": \"Reporting Line\",\r\n        \"matrix\": \"Matrix\",\r\n        \"activityExecutor\": \"Historical Activity Executor\",\r\n        \"organization\": \"Organization/Department\",\r\n        \"all\": \"All\",\r\n        \"assign\": \"Assign\",\r\n        \"claim\": \"Claim\",\r\n        \"currentUser\": \"Current Handler\",\r\n        \"procInstCreator\": \"Process Initiator\",\r\n        \"participantSet\": \"Participant Set\",\r\n        \"order\": \"Order\",\r\n        \"type\": \"Type\",\r\n        \"performerName\": \"Name\",\r\n        \"description\": \"Description\",\r\n        \"condition\": \"Enable Condition\",\r\n        \"dataMovement1\": \"Move default handler data to alternative handlers?\",\r\n        \"dataMovement2\": \"Move alternative handler data to default handler?\",\r\n        \"participantSelection\": \"Participant Selection\",\r\n        \"selectProcessVariables\": \"Process variables not selected yet!\",\r\n        \"selectVariableValueType\": \"Variable value type not selected yet!\",\r\n        \"selectRelation\": \"Relation not selected yet!\",\r\n        \"selectPosition\": \"Position not selected yet!\",\r\n        \"selectOrgType\": \"Organization type not selected yet!\",\r\n        \"orgFill\": \"Organization not filled yet!\",\r\n        \"refOrgIdNotNull\": \"When reference type is organization, the reference organization field cannot be empty\",\r\n        \"refUserIdNotNull\": \"When reference type is system user/employee, the reference person field cannot be empty\",\r\n        \"repDefConfigured\": \"The reporting line has already been configured\",\r\n        \"atLeastOneCondition\": \"At least one condition field must exist\",\r\n        \"dataFieldAliasNotNull\": \"Data field cannot be empty\",\r\n        \"matrixConfigured\": \"The matrix has already been configured\",\r\n        \"selectPerformer\": \"Performer not selected yet\",\r\n        \"definitionDeleted\": \"The definition of this reporting line data has been deleted, this data will be deleted\",\r\n        \"matrixDeleted\": \"The definition of this matrix data has been deleted, this data will be deleted\",\r\n        \"selectParticipantInfo\": \"Please select a participant information first!\",\r\n        \"noRowSelected\": \"No row selected yet!\",\r\n        \"selectDefaultHandler\": \"Please select a default handler first\",\r\n        \"selectpotentialtHandler\": \"Please select an alternative handler first\",\r\n        \"org\": \"Organization:\",\r\n        \"positionType1\": \"Position type: General position, Organization:\",\r\n        \"positionType2\": \"Position type: General position\",\r\n        \"positionType3\": \"Position type: Organization position\",\r\n        \"comp\": \"Component:\",\r\n        \"parameters:\": \", Parameters: {\",\r\n        \"referencePerson:\": \"Reference person: \",\r\n        \"referenceOrganization:\": \"Reference organization: \",\r\n        \"condition1\": \"Condition 1: \",\r\n        \"condition2\": \"Condition 2: \",\r\n        \"condition3\": \"Condition 3: \",\r\n        \"data\": \"Data: \",\r\n        \"set\": \"(Set)\",\r\n        \"notSet\": \"(Not set)\",\r\n        \"allocationPolicy\": \"Allocation Policy\",\r\n        \"operator\": \"Assign Operator\",\r\n        \"multiSelect\": \"Allow Multiple Selection\",\r\n        \"necessary\": \"Only one candidate user, still requires manual selection\",\r\n        \"notifyRecipient\": \"Notify Recipient\",\r\n        \"defaultHandler\": \"Default Handler\",\r\n        \"new\": \"Add\",\r\n        \"editPerformer\": \"Edit\",\r\n        \"removePerformer\": \"Remove\",\r\n        \"clearPerformer\": \"Clear\",\r\n        \"moveUp\": \"Move Up\",\r\n        \"moveDown\": \"Move Down\",\r\n        \"alternativeHandler\": \"Alternative Handler\",\r\n        \"isAllScope\": \"When specifying participants, there is no restriction, select from all users\",\r\n        \"clickCancel\": \"Cancel\",\r\n        \"clickOK\": \"OK\",\r\n        \"alternativeScope\": \"Alternative Scope\",\r\n        \"orgId\": \"OrgID\",\r\n        \"includeChildren\": \"Include Children\",\r\n        \"conditon\": \"Conditon\",\r\n        \"currentUnit\": \"Current Unit\",\r\n        \"currentDepartment\": \"Current Department\",\r\n        \"variableOrganization\": \"Variable Org\"\r\n      },\r\n      \"activityExecutor\": {\r\n        \"name\": \"Name\",\r\n        \"eventHandler\": \">Activity Executor\",\r\n        \"nodeName\": \"Node Name\",\r\n        \"enablingConditions\": \"Enable Conditions\",\r\n        \"activityList\": \"Activity List\",\r\n        \"clickCancel\": \"Cancel\",\r\n        \"clickOK\": \"OK\"\r\n      },\r\n      \"componentPerformer\": {\r\n        \"componentMethod\": \"Current component method parameters are inconsistent, please update!\",\r\n        \"methodNotExist\": \"This method does not exist in the current component, please update!\",\r\n        \"code\": \"Code\",\r\n        \"name\": \"Name\",\r\n        \"description\": \"Description\",\r\n        \"valueText\": \"Parameter Value\",\r\n        \"help\": \"Help\",\r\n        \"errorObtaining\": \"Error obtaining parsing component\",\r\n        \"componentSelection\": \"Component Selection\",\r\n        \"metadataNotExist\": \"Help metadata does not exist!\",\r\n        \"serverSideNotFound\": \"Server side did not find help metadata, please check if the metadata has been deployed to the environment\",\r\n        \"componentName\": \"Component Name\",\r\n        \"componentSelect\": \"Component Selection\",\r\n        \"parameterList\": \"Parameter List\"\r\n      },\r\n      \"matrixPerformer\": {\r\n        \"code\": \"Code\",\r\n        \"name\": \"Name\",\r\n        \"help\": \"Help\",\r\n        \"multivalue\": \"Multi\",\r\n        \"enumSelection\": \"Enum Selection\",\r\n        \"refMatrixTable\": \"Reference Matrix Table\",\r\n        \"matrixTable\": \"Matrix Table\",\r\n        \"curDataFieldValue\": \"Result Column\",\r\n        \"conditionFields\": \"Condition Fields\",\r\n        \"condition\": \"Enable Condition\",\r\n        \"key\": \"Key\",\r\n        \"value\": \"Value\",\r\n        \"notSelectEnum\": \"Enum value not selected yet\",\r\n        \"cancel\": \"Cancel\",\r\n        \"onConfirm\": \"Confirm\",\r\n        \"lineNumber\": \"Line Number\"\r\n      },\r\n      \"performerOptions\": {\r\n        \"leave\": \"Flow Down\",\r\n        \"throwException\": \"Exception Prompt\",\r\n        \"sys\": \"User ID\",\r\n        \"administrative_staff\": \"Employee ID\",\r\n        \"procInstCreator\": \"Process Initiator\",\r\n        \"preActExecutors\": \"Previous Node Executors\",\r\n        \"allPassExecutors\": \"All Approved Personnel\",\r\n        \"performerOptions\": \"Performer Options\",\r\n        \"exclusionNotAllowed\": \"All Approved Personnel have set automatic approval, previous node executors are not allowed to be excluded by default!\",\r\n        \"approvalNotAllowed\": \"When [Allocation Policy] is [Claim], automatic approval is not allowed to be set, please be aware!\",\r\n        \"approvalNotAllowedAsSet\": \"All Approved Personnel have set not allowed for approval, previous node executors are not allowed to be automatically approved by default!\",\r\n        \"allocationStrategyIsCollect\": \"When [Allocation Policy] is [Claim], automatic approval is not allowed to be set, please be aware!\",\r\n        \"set\": \"(Set)\",\r\n        \"advancedOptions\": \"Advanced Performer Options\",\r\n        \"historicFirst\": \"When entering the node again, the handler is the previously handled personnel of the node\",\r\n        \"noPerformerStrategy\": \"Handler is Empty Strategy:\",\r\n        \"excludeProcInstCreator\": \"Exclude Handler Options\",\r\n        \"defaultNotParticipate\": \"Process Initiator does not participate in approval by default\",\r\n        \"excludePreActExecutors\": \"Previous node executors do not participate in approval by default\",\r\n        \"excludeAllPassExecutors\": \"All Approved Personnel do not participate in approval by default\",\r\n        \"excludeExprPerformer\": \"Process Variable:\",\r\n        \"variableOrgTypes\": \"Variable Value Types:\",\r\n        \"automaticApprovalOptions\": \"Automatic Approval Options\",\r\n        \"autoProcInstCreator\": \"Process Initiator is automatically approved by default\",\r\n        \"autoPreActExecutors\": \"Previous node executors are automatically approved by default\",\r\n        \"autoAllPassExecutors\": \"All Approved Personnel are automatically approved by default\",\r\n        \"cancel\": \"Cancel\",\r\n        \"clickOK\": \"OK\"\r\n      },\r\n      \"positionPerformer\": {\r\n        \"orgPosition\": \"Organization Position\",\r\n        \"generalPosition\": \"General Position\",\r\n        \"sysPositions\": \"System Positions\",\r\n        \"positionType\": \"Position Type\",\r\n        \"role\": \"Role\",\r\n        \"position\": \"Position\",\r\n        \"sysType\": \"Organization Type\",\r\n        \"placeholder\": \"Please select\",\r\n        \"orgId\": \"Organization ID\",\r\n        \"condition\": \"Enable Condition\",\r\n        \"clickCancel\": \"Cancel\",\r\n        \"clickOK\": \"OK\"\r\n      },\r\n      \"reportingLine\": {\r\n        \"higherSuperior\": \"Indirect Supervisor\",\r\n        \"directSuperior\": \"Direct Supervisor\",\r\n        \"code\": \"Code\",\r\n        \"name\": \"Name\",\r\n        \"dept\": \"Organization\",\r\n        \"sysUser\": \"System User\",\r\n        \"employee\": \"Employee\",\r\n        \"businessFields\": \"Business Fields\",\r\n        \"defName\": \"Reporting Definition\",\r\n        \"dimension\": \"Reporting Level\",\r\n        \"curReportingRefer\": \"Reference Type\",\r\n        \"usersName\": \"Reference Person\",\r\n        \"refOrgId\": \"Reference Organization\",\r\n        \"condition\": \"Enable Condition\",\r\n        \"definitionOfReport\": \"Definition of Reporting Relationship\"\r\n      },\r\n      \"userPerformer\": {\r\n        \"regularUser\": \"Regular User\",\r\n        \"variablePart\": \"Variable Participant\",\r\n        \"sys\": \"System User\",\r\n        \"administrative_organization\": \"Employee\",\r\n        \"cantUseContext\": \"Administrative staff type cannot use this context variable\",\r\n        \"user\": \"User\",\r\n        \"variable\": \"Variable\",\r\n        \"condition\": \"Enable Condition\"\r\n      },\r\n      \"variablePerformer\": {\r\n        \"sys\": \"User ID\",\r\n        \"administrative_staff\": \"Employee ID\",\r\n        \"oneself\": \"Self\",\r\n        \"administrative_organization\": \"Department ID\",\r\n        \"cantUseContext\": \"Administrative staff type cannot use this context variable\",\r\n        \"processVariables\": \"Process Variables\",\r\n        \"variableOrgTypes\": \"Variable Value Types\",\r\n        \"relationShipType\": \"Relationship\",\r\n        \"condition\": \"Enable Condition\",\r\n      },\r\n      \"orgPotentialOwner\": {\r\n        \"optionSettings\": \"Option Settings\",\r\n        \"global\": \"All Members\",\r\n        \"currentUnit\": \"Current Unit\",\r\n        \"currentDepartment\": \"Current Department\",\r\n        \"addSignBehind\": \"Add Signature\",\r\n        \"addSignFront\": \"Consult\",\r\n        \"transfer\": \"Transfer\",\r\n        \"notify\": \"Notify\",\r\n        \"set\": \"(Set)\",\r\n        \"notSet\": \"(Not Set)\",\r\n        \"option\": \"Option\",\r\n        \"enable\": \"Enable or Not\",\r\n        \"range\": \"Range\",\r\n        \"OrgId\": \"Org Id\",\r\n        \"variableOrganization\": \"Variable Org\",\r\n        \"includeChildren\": \"Include Subordinates\",\r\n        \"clickCancel\": \"Cancel\",\r\n        \"clickOK\": \"OK\",\r\n        \"limit\": \"Limit Scope\",\r\n        \"turnOffPrompt\": \"Please Turn off the Scope of People option!\"\r\n      },\r\n      \"note\": {\r\n        \"placeholder\": \"Please enter process change record\",\r\n        \"clickCancel\": \"Cancel\",\r\n        \"clickOK\": \"OK\"\r\n      },\r\n      \"MessageNotice\": {\r\n        \"notify\": \"Message Notice\",\r\n        \"subject\": \"Message Subject\",\r\n        \"content\": \"Message Content\",\r\n        \"sendTime\": \"Sending Time\",\r\n        \"sendType\": \"Send Method\",\r\n        \"receiverText\": \"Message Receiver\",\r\n        \"procInstCreator\": \"Process Initiator,\",\r\n        \"workItemParticipant\": \"Task Receiver,\",\r\n        \"messageSet\": \"Message Settings\",\r\n        \"selectedRow\": \"No message notification selected yet!\",\r\n        \"noCopy\": \"No message notification attributes to copy!\",\r\n        \"batchCopy\": \"Batch Copy\",\r\n        \"set\": \"(Set)\",\r\n        \"notSet\": \"(Not Set)\",\r\n        \"add\": \"Add\",\r\n        \"edit\": \"Edit\",\r\n        \"delete\": \"Delete\",\r\n        \"lineNumber\": \"Number\",\r\n        \"clickCancel\": \"Cancel\",\r\n        \"clickOK\": \"OK\",\r\n        \"messContent\": { \"expr\": \"\\'You have a message notification.\\'\", \"sexpr\": \"\" },\r\n        \"procComplete\": \"Process Completed\",\r\n        \"procAborted\": \"Process Aborted\",\r\n        \"procRollBack\": \"Process Rejected\",\r\n        \"workCreated\": \"Task Created\",\r\n        \"actComplete\": \"Activity Completed\",\r\n        \"actAborted\": \"Activity Aborted\",\r\n        \"email\": \"Email\",\r\n        \"sms\": \"SMS\",\r\n        \"cloudplus\": \"Cloud\",\r\n        \"processParticipant\": \"Process Participant\",\r\n        \"variableParticipant\": \"Variable Participant\",\r\n        \"userParticipant\": \"Designated User\",\r\n        \"positionParticipant\": \"Position\",\r\n        \"activityExecutorParticipant\": \"Historical Handler\",\r\n        \"sys\": \"System User\",\r\n        \"administrative_organization\": \"Employee\",\r\n        \"name\": \"Name\",\r\n        \"noTargetNode\": \"No node selected yet!\",\r\n        \"noMessageNotifyAttribute!\": \"No message notification attribute!\"\r\n      },\r\n      \"messageNoticeEdit\": {\r\n        \"procInstCreator\": \"Process Initiator\",\r\n        \"activityExecutorParticipant\": \"Historical Handler\",\r\n        \"workItemParticipant\": \"Task Handler\",\r\n        \"sys\": \"System User\",\r\n        \"administrative_organization\": \"Employee\",\r\n        \"processParticipant\": \"Process Participant\",\r\n        \"workItemReceiveParticipant\": \"Task Receiver\",\r\n        \"variableParticipant\": \"Variable Participant\",\r\n        \"userParticipant\": \"Designated User\",\r\n        \"positionParticipant\": \"Position\",\r\n        \"sendType\": \"Send method cannot be empty\",\r\n        \"smsMessageTemplate\": \"Message channel requires SMS, please set the message template\",\r\n        \"smsMessageTemplateCode\": \"SMS template code cannot be empty\",\r\n        \"sendTime\": \"Sending time cannot be empty\",\r\n        \"subject\": \"Message subject cannot be empty\",\r\n        \"content\": \"Message content cannot be empty\",\r\n        \"receivers\": \"Receiver cannot be empty!\",\r\n        \"processParticipantNotNull\": \"Process participant cannot be empty\",\r\n        \"activityDefIdNotNull\": \"When process participant is historical handler, the handling node cannot be empty\",\r\n        \"variableParticipantNotNull\": \"Variable participant cannot be empty\",\r\n        \"orgType\": \"Organization type of variable participant cannot be empty\",\r\n        \"userIds\": \"Designated user cannot be empty\",\r\n        \"positionId\": \"Position cannot be empty\",\r\n        \"activityList\": \"Activity List\",\r\n        \"position\": \"Position\",\r\n        \"optionalNodes\": \"Optional Nodes\",\r\n        \"targetNodeList\": \"Target Node List\",\r\n        \"placeholder\": \"Please select target node\",\r\n        \"optionalAttribute\": \"Optional Attributes\",\r\n        \"lineNumber\": \"Number\",\r\n        \"clickCancel\": \"Cancel\",\r\n        \"clickOK\": \"OK\",\r\n        \"messSendType\": \"Message Channel\",\r\n        \"messSubject\": \"Message Subject\",\r\n        \"enable\": \"Enable Expression\",\r\n        \"messContent\": \"Message Content\",\r\n        \"recipient\": \"Receiver\",\r\n        \"addReceiver\": \"Add\",\r\n        \"organization\": \"Organization:\",\r\n        \"posi\": \"Position:\"\r\n      },\r\n      \"jumpScope\": {\r\n        \"targetNodeOptions\": \"Target Node Options\",\r\n        \"name\": \"Name\",\r\n        \"outConnectNode\": \"Process Diagram Connection Node\",\r\n        \"global\": \"All Nodes within the Process\",\r\n        \"afterNodes\": \"All Successor Nodes\",\r\n        \"specifiedSet\": \"Process Diagram Connection Node + Additional Nodes\",\r\n        \"firstNode\": \"Conditional true connection node, when there are multiple options, the first one is selected by default\",\r\n        \"nullNode\": \"Default is empty, manual selection every time\",\r\n        \"specifyNode\": \"Specify the default node\",\r\n        \"noSetTargetNode\": \"Target node options not set yet, please understand!\",\r\n        \"noSetSpecifyNode\": \"Default node not specified yet, please understand!\",\r\n        \"selectedRow\": \"Please select an option first!\",\r\n        \"optionalNodes\": \"Optional Nodes\",\r\n        \"listOfAdditional\": \"List of Additional Nodes\",\r\n        \"pleaseSelect1\": \"Please select additional nodes\",\r\n        \"defaultNode\": \"Default Node\",\r\n        \"pleaseSelect2\": \"Please select default node\",\r\n        \"defaultNodeList\": \"Default Node List\",\r\n        \"clickCancel\": \"Cancel\",\r\n        \"clickOK\": \"OK\",\r\n        \"set\": \"(Set)\"\r\n      },\r\n      \"imageSet\": {\r\n        \"imageSet\": \"Image Setting\",\r\n        \"onlyView\": \"View Only\",\r\n        \"edit\": \"Edit\",\r\n        \"reScanStart\": \"Initiate Re-scan\",\r\n        \"reScanComplete\": \"Re-scan Complete\",\r\n        \"mutualExclusion\": \"[View Only] option is exclusive with other options, please understand!\",\r\n        \"set\": \"(Set)\",\r\n        \"notSet\": \"(Not Set)\",\r\n        \"imageOperation\": \"Image Operation Permission\",\r\n        \"clickCancel\": \"Cancel\",\r\n        \"clickOK\": \"OK\"\r\n      },\r\n      \"extendProperty\": {\r\n        \"extendProperty\": \"Extended Property\",\r\n        \"true\": \"Yes\",\r\n        \"false\": \"No\",\r\n        \"set\": \"(Set)\",\r\n        \"notSet\": \"(Not Set)\",\r\n        \"illustrate\": \"Illustrate\",\r\n        \"placeholder\": \"Please select\",\r\n        \"cancel\": \"Cancel\",\r\n        \"clickOK\": \"OK\"\r\n      },\r\n      \"expressionEditor\": {\r\n        \"expressionEditor\": \"Expression Editor\",\r\n        \"notSet\": \"(Not Set)\",\r\n        \"clickCancel\": \"Cancel\",\r\n        \"changeType\": \"Switch Type\",\r\n        \"clickOK\": \"OK\"\r\n      },\r\n      \"executeForms\": {\r\n        \"executeForms\": \"Form Definition\",\r\n        \"parameters\": \"Parameters [\",\r\n        \"typeAsvariable\": \"] is of variable type, but does not exist in process variables\",\r\n        \"parameterSettings\": \"Parameter Settings\",\r\n        \"formDefinitionList\": \"Form Definition List\",\r\n        \"notSet\": \"(Not Set)\",\r\n        \"default\": \"Process Default Form\",\r\n        \"processEmbeddedForm\": \"Process-Embedded Form\",\r\n        \"formEmbedProcess\": \"Form-Embedded Process\",\r\n        \"clickCancel\": \"Cancel\",\r\n        \"clickOK\": \"OK\",\r\n        \"noForm\": \"No Form Format\",\r\n        \"form\": \"Select Form\",\r\n        \"placeholder\": \"Please select\",\r\n        \"parametersSet\": \"Parameters\",\r\n        \"key\": \"Variable ID\",\r\n        \"name\": \"Variable Name\",\r\n        \"lineNumber\": \"Serial Number\",\r\n        \"code\": \"Code\",\r\n        \"tag\": \"Type\",\r\n        \"value\": \"Parameter Value\",\r\n        \"variable\": \"Variable\",\r\n        \"constant\": \"Constant\",\r\n        \"expression\": \"Expression\",\r\n        \"method\": \"Method Identifier\",\r\n        \"methodName\": \"Method Name\",\r\n        \"description\": \"Description\",\r\n        \"workFlowAction\": \"Workflow Direction\",\r\n        \"formOperations\": \"Form Operations\",\r\n        \"executionTime\": \"Execution Time\",\r\n        \"sortOrder\": \"Execution Order\",\r\n        \"methodParameters\": \"Parameters\",\r\n        \"selectFormActionConfig\": \"Form Action Configuration not selected!\",\r\n        \"selectFormAction\": \"Form Action not selected!\",\r\n        \"editParam\": \"Settings\",\r\n        \"formEvents\": \"Form Events\",\r\n        \"buttonName\": \"Button Name\",\r\n        \"enable\": \"Enabled\",\r\n        \"disabled\": \"Disabled\",\r\n        \"hidden\": \"Hidden\",\r\n        \"fieldName\": \"Field Name\",\r\n        \"editable\": \"Editable\",\r\n        \"readonly\": \"Read-only\",\r\n        \"required\": \"Required\",\r\n        \"saveFail\": \"Failed to save configuration. Please contact the administrator for details!\",\r\n        \"checkedRows\": \"No button collection selected\",\r\n        \"checkeds\": \"No field collection selected\",\r\n        \"enableBtn\": \"Enabled\",\r\n        \"disabledBtn\": \"Disabled\",\r\n        \"hiddenBtn\": \"Hidden\",\r\n        \"btnBatchReset\": \"Reset\",\r\n        \"editableBtn\": \"Editable\",\r\n        \"readonlyBtn\": \"Read-only\",\r\n        \"requiredBtn\": \"Required\",\r\n        \"add\": \"Add\",\r\n        \"delete\": \"Delete\",\r\n        \"other\": \"Other\",\r\n        \"formBtn\": \"Form Button\",\r\n        \"formfield\": \"Form Field\",\r\n        \"apptag\": \"Document Type\",\r\n        \"functionMenu\": \"Function Menu\",\r\n        \"formFormat\": \"Form Format\",\r\n        \"docFormatNumber\": \"Document Format Number\",\r\n        \"docFormatName\": \"Document Format Name\",\r\n        \"selectedRow\": \"No form definition selected!\",\r\n        \"set\": \"(Set)\"\r\n      },\r\n      \"eventDefinition\": {\r\n        \"eventDefinition\": \"Signal Definition\",\r\n        \"pass\": \"Forward\",\r\n        \"back\": \"Backward\",\r\n        \"abort\": \"Abort\",\r\n        \"signalRef\": \"Signal ID\",\r\n        \"name\": \"Signal Name\",\r\n        \"triggerAction\": \"Workflow Direction\",\r\n        \"selectedRow\": \"No trigger event selected!\",\r\n        \"dataLength\": \"At least one signal definition is required!\",\r\n        \"codeNotNull\": \"Signal ID cannot be empty!\",\r\n        \"nameNotNull\": \"Signal Name cannot be empty!\",\r\n        \"codeNotNumber\": \"Signal ID cannot be pure numbers!\",\r\n        \"codeRepeat\": \"Signal ID cannot be repeated!\",\r\n        \"set\": \"(Set)\",\r\n        \"notSet\": \"(Not Set)\",\r\n        \"add\": \"Add\",\r\n        \"delete\": \"Delete\",\r\n        \"clickCancel\": \"Cancel\",\r\n        \"clickOK\": \"OK\"\r\n      },\r\n      \"entryFormEditor\": {\r\n        \"flowForm\": \"Process Category\",\r\n        \"code\": \"Code\",\r\n        \"name\": \"Name\",\r\n        \"base\": \"Base\",\r\n        \"foundation\": \"Foundation\",\r\n        \"extend\": \"Extended\",\r\n        \"selectedRow\": \"No process category selected\",\r\n        \"absent\": \"Process category no longer exists\",\r\n        \"lineNumber\": \"Serial Number\",\r\n        \"clickCancel\": \"Cancel\",\r\n        \"clickOK\": \"Rebind\"\r\n      },\r\n      \"editComponentParameter\": {\r\n        \"code\": \"Code\",\r\n        \"name\": \"Name\",\r\n        \"required\": \"Required\",\r\n        \"yes\": \"Yes\",\r\n        \"no\": \"No\",\r\n        \"value\": \"Parameter Value\",\r\n        \"openComponentFail\": \"Failed to parse component\",\r\n        \"componentSelection\": \"Component Selection\",\r\n        \"curComponent\": \"Please select a process component\",\r\n        \"executionTime\": \"Please select execution time\",\r\n        \"para\": \"Parameter\",\r\n        \"paraRequired\": \"] is required\",\r\n        \"execuTime\": \"Execution Time\",\r\n        \"parameterList\": \"Parameter List\",\r\n        \"clickCancel\": \"Cancel\",\r\n        \"clickOK\": \"OK\"\r\n      },\r\n      \"customizeAction\": {\r\n        \"customizeAction\": \"Customize Action\",\r\n        \"app\": \"Mobile\",\r\n        \"web\": \"Web\",\r\n        \"all\": \"Web, Mobile\",\r\n        \"name\": \"Name\",\r\n        \"code\": \"Code\",\r\n        \"terminalType\": \"Terminal Type\",\r\n        \"isAll\": \"Default\",\r\n        \"yes\": \"Yes\",\r\n        \"no\": \"No\",\r\n        \"paramName\": \"Code\",\r\n        \"valueText\": \"Name\",\r\n        \"value\": \"Parameter Value\",\r\n        \"addActions\": \"Select Custom Actions\",\r\n        \"actionExisted\": \"The added custom action already exists!\",\r\n        \"selectedRow\": \"Please select an option first!\",\r\n        \"set\": \"(Set)\",\r\n        \"notSet\": \"(Not set)\",\r\n        \"add\": \"Add\",\r\n        \"delete\": \"Delete\",\r\n        \"parameterList\": \"Parameter List\",\r\n        \"clickCancel\": \"Cancel\",\r\n        \"clickOK\": \"OK\"\r\n      },\r\n      \"checkCondition\": {\r\n        \"zhChs\": \"Simplified Chinese\",\r\n        \"zhCht\": \"Traditional Chinese\",\r\n        \"en\": \"English\",\r\n        \"checkCondition\": \"Activity Validation Rule\",\r\n        \"set\": \"(Set)\",\r\n        \"notSet\": \"(Not set)\",\r\n        \"nodeEntry\": \"Node Entry\",\r\n        \"activityBeforeStarted\": \"Node Entry Condition\",\r\n        \"enterErrorTips\": \"Enter Condition Mismatch Tips\",\r\n        \"activityBeforeCompleted\": \"Node Exit\",\r\n        \"activityBeforeCompletedValue\": \"Node Exit Condition\",\r\n        \"leaveErrorTips\": \"Leave Condition Mismatch Tips\",\r\n        \"clickCancel\": \"Cancel\",\r\n        \"clickOK\": \"OK\"\r\n      },\r\n      \"batchSet\": {\r\n        \"targetNode\": \"target Node\",\r\n        \"addSignFront\": \"addSign Front\",\r\n        \"addSignBehind\": \"addSign Behind\",\r\n        \"transfer\": \"transfer\",\r\n        \"notify\": \"notify\",\r\n        \"backWardRule\": \"backWard Rule\",\r\n        \"name\": \"name\"\r\n      },\r\n      \"subProcess\": {\r\n        \"subProcessSet\": \"Subprocess Settings\",\r\n        \"specified\": \"Specify Subprocess\",\r\n        \"dynamic\": \"Dynamic Subprocess\",\r\n        \"inheritParent\": \"Same as Parent Process\",\r\n        \"autoCreation\": \"Auto Generate Downstream Documents\",\r\n        \"variablesExpression\": \"Variable Expression\",\r\n        \"rteNull\": \"Please select a document workflow\",\r\n        \"orderProcess\": \"Document Workflow\",\r\n        \"clickOk\": \"OK\",\r\n        \"clickCancel\": \"Cancel\",\r\n        \"inheritBizDataId\": \"When the subprocess is inconsistent with the parent process document, please set the subprocess document ID!\",\r\n        \"set\": \"(Set)\",\r\n        \"notSet\": \"(Not set)\",\r\n        \"radioGroupProcessType\": \"Sub Type\",\r\n        \"flowForm\": \"Flow Category\",\r\n        \"processDef\": \"Process Definition\",\r\n        \"radioGroupBillSource\": \"Source\",\r\n        \"autoCreationProcess\": \"Auto Process\",\r\n        \"bizDataId\": \"Document ID\",\r\n        \"setOption\": \"Set options\",\r\n        \"SameParentProcess\": \"The same business document as the parent process\",\r\n        \"setBizDataId\": \"Set document ID\",\r\n        \"subProcessOpt\": \"Subprocess Options\"\r\n      },\r\n      \"backwardRule\": {\r\n        \"reEdit\": \"The rejected activity node no longer exists. Please re-edit.\",\r\n        \"backwardRule\": \"Rejection Rule\",\r\n        \"initialActityId\": \"Start Node\",\r\n        \"precursorActivityId\": \"Predecessor Node\",\r\n        \"empty\": \"Empty\",\r\n        \"name\": \"Name\",\r\n        \"id\": \"Identifier\",\r\n        \"sequence\": \"Sequential Transition\",\r\n        \"backToMe\": \"Return to Me\",\r\n        \"backToCurrentNode\": \"Return to Current Node\",\r\n        \"popover\": \"1. Sequential Transition: Transition according to the order of the flow lines; 2. Return to Me: If the completion strategy is Preemptive, only create tasks for the person who rejected it. If the completion strategy is Countersignature, the person who rejected it and the unapproved person will receive new tasks, and the approved personnel will automatically approve them; 3. Return to Current Node: The actual effect is affected by the option 'Is the executor a person who has already processed the node when entering the node again'\",\r\n        \"selectAbleClick\": \"Under the Countersignature strategy, dynamic selection of rejection target nodes is not allowed!\",\r\n        \"dictPicked\": \"Please use the 'Revert to Empty' option with the 'Allow dynamic selection of rejection target nodes' option\",\r\n        \"set\": \"(Set)\",\r\n        \"notSet\": \"(Not set)\",\r\n        \"rejectedTo:\": \"Reverted to:\",\r\n        \"backScope\": \"Scope of rejection\",\r\n        \"defaultPrompt\": \"All historical rejection nodes are selected by default\",\r\n        \"title\": \"Activity List\",\r\n        \"dynamicSelection\": \"Allow dynamic selection of rejection target nodes\",\r\n        \"resubmitEffectOptions\": \"Return Settings\",\r\n        \"popover1\": \"1. Sequential Transition: Transition according to the order of the flow lines;\",\r\n        \"popover2\": \"2. Return to Me: If the completion strategy is Preemptive, only create tasks for the person who rejected it. If the completion strategy is Countersignature, the person who rejected it and the unapproved person will receive new tasks, and the approved personnel will automatically approve them;\",\r\n        \"popover3\": \"3. Return to Current Node: The actual effect is affected by the option 'Is the executor a person who has already processed the node when entering the node again'\",\r\n        \"allowModification\": \"Allow modification of return settings\",\r\n        \"clickCancel\": \"Cancel\",\r\n        \"clickOk\": \"OK\"\r\n      },\r\n      \"assignStrategy\": {\r\n        \"all\": \"All\",\r\n        \"assign\": \"Assign\",\r\n        \"claim\": \"Claim\",\r\n        \"currentUser\": \"Current Executor\",\r\n        \"procInstCreator\": \"Process Initiator\",\r\n        \"assignStrategy\": \"Assignment Strategy\",\r\n        \"option\": \"Option\",\r\n        \"assignmentRules\": \"Assignment Rules\",\r\n        \"operator\": \"Assign Operator\",\r\n        \"multiSelect\": \"Multiple candidate users can be selected\",\r\n        \"necessary\": \"Only one candidate user, still requires manual selection\",\r\n        \"clickCancel\": \"Cancel\",\r\n        \"clickOK\": \"OK\"\r\n      },\r\n      \"assignScope\": {\r\n        \"assignScopeList\": \"Assigned Node List\",\r\n        \"required\": \"Required\",\r\n        \"yes\": \"Yes\",\r\n        \"no\": \"No\",\r\n        \"condition\": \"Condition\",\r\n        \"add\": \"Add\",\r\n        \"delete\": \"Delete\",\r\n        \"name\": \"Name\",\r\n        \"deleteRow\": \"Please select an option first!\",\r\n        \"curActivity\": \"No row selected\",\r\n        \"set\": \"(Set)\",\r\n        \"notSet\": \"(Not set)\",\r\n        \"nodeList\": \"Node List\",\r\n        \"moveUp\": \"Move Up\",\r\n        \"moveDown\": \"Move Down\",\r\n        \"clickCancel\": \"Cancel\",\r\n        \"clickOK\": \"OK\"\r\n      },\r\n      \"assignPerformer\": {\r\n        \"currentUser\": \"Current User\",\r\n        \"procInstCreator\": \"Process Initiator\",\r\n        \"global\": \"Global\",\r\n        \"currentUnit\": \"Current Unit\",\r\n        \"currentDepartment\": \"Current Department\",\r\n        \"assignPerformer\": \"Assign Rule\",\r\n        \"set\": \"(Set)\",\r\n        \"operator\": \"Assign Operator\",\r\n        \"multiSelect\": \"Allow Selecting Multiple Candidates\",\r\n        \"necessary\": \"When there is only one candidate, manual selection is still required\",\r\n        \"clickCancel\": \"Cancel\",\r\n        \"clickOK\": \"OK\"\r\n      },\r\n      \"approvelItems\": {\r\n        \"approvalOptions\": \"Approval Options\",\r\n        \"forward\": \"Forward\",\r\n        \"backward\": \"Backward\",\r\n        \"abort\": \"Abort\",\r\n        \"value\": \"Number\",\r\n        \"text\": \"Name\",\r\n        \"workFlowAction\": \"Workflow Direction\",\r\n        \"isDefault\": \"Default\",\r\n        \"no\": \"No\",\r\n        \"yes\": \"Yes\",\r\n        \"commentNecessary\": \"Comment Required\",\r\n        \"attachmentNecessary\": \"Attachment Upload\",\r\n        \"certification\": \"Digital Signature\",\r\n        \"signatureNecessary\": \"Manual Signature Required\",\r\n        \"defaultComment\": \"Default Comment\",\r\n        \"zh-CHS\": \"Simplified Chinese\",\r\n        \"zh-CHT\": \"Traditional Chinese\",\r\n        \"en\": \"English\",\r\n        \"workFlowActionNotNull\": \"Approval item workflow direction cannot be empty, please modify!\",\r\n        \"deleteRow\": \"Please select an option first!\",\r\n        \"set\": \"(Set)\",\r\n        \"notSet\": \"(Not Set)\",\r\n        \"add\": \"Add\",\r\n        \"delete\": \"Delete\",\r\n        \"clickCancel\": \"Cancel\",\r\n        \"clickOK\": \"OK\",\r\n        \"approvalAction\": \"Approval Action\",\r\n        \"lineNumber\": \"Number\"\r\n      },\r\n      \"approvalPivot\": {\r\n        \"remind\": \"Text Prompt\",\r\n        \"type\": \"Type\",\r\n        \"condition\": \"Condition\",\r\n        \"title\": \"Display Name\",\r\n        \"description\": \"Detailed Description\",\r\n        \"approvalPivot\": \"Approval Key Point\",\r\n        \"selectedRow\": \"Approval key point not selected!\",\r\n        \"configTitle\": \"Display title not filled!\",\r\n        \"set\": \"(Set)\",\r\n        \"notSet\": \"(Not Set)\",\r\n        \"enable\": \"Enable\",\r\n        \"expand\": \"Expand\",\r\n        \"showTitle\": \"Display Title\",\r\n        \"list\": \"List\",\r\n        \"add\": \"Add\",\r\n        \"delete\": \"Delete\",\r\n        \"clickCancel\": \"Cancel\",\r\n        \"clickOK\": \"OK\"\r\n      },\r\n      \"anonymousSet\": {\r\n        \"anonymousOpt\": \"Anonymous Option\",\r\n        \"approver\": \"Approver\",\r\n        \"set\": \"(Set)\",\r\n        \"notSet\": \"(Not Set)\",\r\n        \"anonymousSet\": \"Anonymous Settings\",\r\n        \"isAnonymity\": \"Enable\",\r\n        \"anonymous\": \"Anonymous Alias\",\r\n        \"clickCancel\": \"Cancel\",\r\n        \"clickOK\": \"OK\"\r\n      },\r\n      \"activityList\": {\r\n        \"name\": \"Name\",\r\n        \"checkeds\": \"No activity nodes selected\",\r\n        \"lineNumber\": \"Number\",\r\n        \"clickCancel\": \"Cancel\",\r\n        \"clickOK\": \"OK\"\r\n      },\r\n      \"activityComponent\": {\r\n        \"component\": \"Component\",\r\n        \"method\": \"Component Method\",\r\n        \"inconsistentParameters\": \"Inconsistent parameters, please check\",\r\n        \"longerExists\": \"The component no longer exists in this method\",\r\n        \"absent\": \"Cancel\",\r\n        \"pleaseCheck\": \", please check\",\r\n        \"edit\": \"Edit\",\r\n        \"deleteRow\": \"Delete\",\r\n        \"executionTime\": \"Execution Time\",\r\n        \"cmpName\": \"Component Name\",\r\n        \"metadataId\": \"Component ID\",\r\n        \"methodCode\": \"Component Method\",\r\n        \"isForCompensation\": \"Compensation Operation\",\r\n        \"yes\": \"Yes\",\r\n        \"no\": \"No\",\r\n        \"operate\": \"Operate\",\r\n        \"code\": \"Code\",\r\n        \"name\": \"Name\",\r\n        \"value\": \"Parameter Value\",\r\n        \"editComponent\": \"Edit Component\",\r\n        \"confirmDelete\": \"Confirm whether to delete the component?\",\r\n        \"curComponent\": \"No component selected!\",\r\n        \"newComponent\": \"New Component\",\r\n        \"sameCmp\": \"There are duplicate process components\",\r\n        \"cmpMethod\": \"Component Method:\",\r\n        \"executionTimeNotNull\": \"Component execution time cannot be empty!\",\r\n        \"param\": \" parameter\",\r\n        \"required\": \"Required\",\r\n        \"set\": \"(Set)\",\r\n        \"notSet\": \"(Not Set)\",\r\n        \"PROCESSINSTANCE_STARTED\": \"Process Started\",\r\n        \"PROCESSINSTANCE_SUSPENDED\": \"Process Suspended\",\r\n        \"PROCESSINSTANCE_RESUMED\": \"Process Resumed\",\r\n        \"PROCESSINSTANCE_COMPLETED\": \"Process Completed\",\r\n        \"PROCESSINSTANCE_ABORTED\": \"Process Aborted\",\r\n        \"PROCESSINSTANCE_CANCELED\": \"Process Canceled\",\r\n        \"PROCESSINSTANCE_REACTIVATED\": \"Process Reactivated\",\r\n        \"PROCESSINSTANCE_ROLLBACK\": \"Process Rolled Back\",\r\n        \"PROCESSINSTANCE_RESUBMIT\": \"Resubmit Process\",\r\n        \"ACTIVITY_AND_PARTICIPANT_UPDATED\": \"Activity Participants Changed\",\r\n        \"PROCESSINSTANCE_ABORTED_BY_ADMIN\": \"Terminated by Administrator\",\r\n        \"PROCESSINSTANCE_BEFORE_START\": \"Before Process Start\",\r\n        \"WORKITEM_BEFORE_COMPLETE\": \"Before Task Completion\",\r\n        \"WORKITEM_AFTER_COMPLETE\": \"After Task Completion\",\r\n        \"LOADDATA\": \"Retrieve Data\",\r\n        \"ACTIVITY_STARTED\": \"Activity Started\",\r\n        \"ACTIVITY_COMPLETED\": \"Activity Completed\",\r\n        \"ACTIVITY_ABORTED\": \"Activity Aborted\",\r\n        \"WORKITEM_CREATED\": \"Work Item Created\",\r\n        \"WORKITEM_COMPLETED\": \"Work Item Completed\",\r\n        \"WORKITEM_SUSPENDED\": \"Work Item Suspended\",\r\n        \"WORKITEM_RESUMED\": \"Work Item Resumed\",\r\n        \"WORKITEM_ABORTED\": \"Work Item Aborted\",\r\n        \"WORKITEM_RETRIEVED\": \"Work Item Retrieved\",\r\n        \"WORKITEM_CLAIMED\": \"Work Item Claimed\",\r\n        \"WORKITEM_UNCLAIMED\": \"Work Item Unclaimed\",\r\n        \"ACTIVITY_ASSIGNMENT\": \"Task Assignment\",\r\n        \"deleteNotAllowed\": \"The data retrieval component cannot be deleted, please understand!\",\r\n        \"tips\": \"Tips:\",\r\n        \"prefabricated\": \"External process components have been prefabricated, only data retrieval components are retained here\",\r\n        \"add\": \"Add\",\r\n        \"moveUp\": \"Move Up\",\r\n        \"moveDown\": \"Move Down\",\r\n        \"clickCancel\": \"Cancel\",\r\n        \"clickOK\": \"OK\"\r\n      }\r\n    }\r\n  },\r\n  \"zh-CHT\": {\r\n    \"validate\": {\r\n      \"noProcessHeader\": \"模型不存在processHeader内容\",\r\n      \"cmpsEmpty\": \"流程構件為空\",\r\n      \"cmpsEmptyMsg\": \"流程構件不允許為空,請聯系表單開發確認問題\",\r\n      \"directNoPf\": \"啟動管道為【直接】的流程不應該包含共亯（PF）的流程構件\",\r\n      \"directNoPfMsg\": \"請移除以下共亯（PF）的流程構件:\",\r\n      \"noLoadDataCmp\": \"缺少執行時機為[獲取數據]的流程構件\",\r\n      \"noLoadDataCmpMsg\": \"流程定義不能缺少取數構件,請聯系表單開發確認問題\",\r\n      \"noStartCmp\": \"缺少執行時機為[流程啟動]的流程構件\",\r\n      \"noStartCmpMsg\": \"會導致流程啟動時無法修改單據狀態,請聯系表單開發確認問題\",\r\n      \"lackProcessCompleteCmp\": \"缺少執行時機為[流程完成]的流程構件\",\r\n      \"lackProcessCompleteCmpMsg\": \"會導致流程完成時無法修改單據狀態,請聯系表單開發確認問題\",\r\n      \"lackProcessAbortCmp\": \"缺少執行時機為[流程終止]的流程構件\",\r\n      \"lackProcessAbortCmpMsg\": \"會導致流程終止時無法修改單據狀態,請聯系表單開發確認問題\",\r\n      \"lackProcessCancelCmp\": \"缺少執行時機為[流程終止]的流程構件\",\r\n      \"lackProcessCancelCmpMsg\": \"會導致流程終止時無法修改單據狀態,請聯系表單開發確認問題\",\r\n      \"lackProcessBackCmp\": \"缺少執行時機為[流程駁回]的流程構件\",\r\n      \"lackProcessBackCmpMsg\": \"會導致流程駁回時無法修改單據狀態,請聯系表單開發確認問題\",\r\n      \"lackProcessReStartCmp\": \"缺少執行時機為[重新提交]的流程構件\",\r\n      \"lackProcessReStartCmpMsg\": \"會導致流程重新提交時無法修改單據狀態,請聯系表單開發確認問題\",\r\n      \"parallelGatewayCheck\": \"【並行閘道】沒有成對出現\",\r\n      \"parallelGatewayCheckMsg\": \"【並行閘道】需作為一條流程分支的折開節點和彙聚節點成對出現,請修改\",\r\n      \"approvalPerformerCheck\": \"活動,未設定參與者\",\r\n      \"noVariable1\": \"活動【變數設定】内容中已設定變數\",\r\n      \"noVariable2\": \"在流程内容【流程變數】中已不存在,請修改！\",\r\n      \"activity\": \"活動【\",\r\n      \"noStartActivity\": \"】的標識不合法,不是以[startActivity]開頭\",\r\n      \"noExclusiveGateway\": \"】的標識不合法,不是以[ExclusiveGateway]開頭\",\r\n      \"noParallelGateway\": \"】的標識不合法,不是以[ParallelGateway]開頭\",\r\n      \"noUserActivity\": \"】的標識不合法,不是以[UserActivity]開頭\",\r\n      \"noOperationActivity\": \"】的標識不合法,不是以[OperationActivity]開頭\",\r\n      \"noNotifyActivity\": \"】的標識不合法,不是以[NotifyActivity]開頭\",\r\n      \"noCallActivitySubProcess\": \"】的標識不合法,不是以[CallActivitySubProcess]開頭\",\r\n      \"noAutoActivity\": \"】的標識不合法,不是以[AutoActivity]開頭\",\r\n      \"noIntermediateCatchEvent\": \"】的標識不合法,不是以[IntermediateCatchEventImpl]開頭\",\r\n      \"noMessageActivity\": \"】的標識不合法,不是以[MessageActivity]開頭\",\r\n      \"noAifCreationBillActivity\": \"】的標識不合法,不是以[AifCreationBillActivity]開頭\",\r\n      \"noEndEvent\": \"】的標識不合法,不是以[EndEvent]開頭\",\r\n      \"mark\": \"標識為【\",\r\n      \"noFlowNodeChsName\": \"】的活動簡體中文名稱為空，請修改\",\r\n      \"nameExceedsLengthLimit\": \"】的名稱超長，不能超過40個字元，請修改\"\r\n    },\r\n    \"processEditor\": {\r\n      \"tip\": \"提示\",\r\n      \"showButton\": \"顯示查看模型按鈕\",\r\n      \"changeRecord\": \"流程變更記錄\",\r\n      \"noDtInfo\": \"不存在設計時流程信息！請先賦值！\",\r\n      \"noRtInfo\": \"不存在運行時流程信息！請先賦值！\",\r\n      \"wrongMoment\": \"設計者運行時機錯誤！\",\r\n      \"prompted\": \"系統提示\",\r\n      \"saveSuccess\": \"保存成功\",\r\n      \"waitReview\": \"保存成功，等待發起審核\",\r\n      \"successPublish\": \"發布成功\",\r\n      \"publishFail\": \"發布失敗，\",\r\n      \"policyConflict\": \"會簽策略下，“駁回規則”不允許“動態選擇駁回級次”，請修改！\",\r\n      \"noPermissionToSave\": \"當前用戶不具備另存流程的權限\",\r\n      \"closeProc1\": \"關閉此頁面？\",\r\n      \"closeProc2\": \"系統可能不會保存您所做的更改。\",\r\n      \"viewModel\": \"查看模型\",\r\n      \"copied\": \"模型已經復制到剪貼板\",\r\n      \"button\": {\r\n        \"saveProc\": \"保存\",\r\n        \"releaseProc\": \"發布\",\r\n        \"sync\": \"同步設計時包\",\r\n        \"saveAs\": \"另存為\",\r\n        \"procRecord\": \"流程記錄\",\r\n        \"viewProcModel\": \"查看模型\",\r\n        \"closeProc\": \"關閉\"\r\n      }\r\n    },\r\n    \"designer\": {\r\n      \"wfEditorUi\": {\r\n        \"basicElements\": \"基本元素\",\r\n        \"readOnly\": \"只讀\"\r\n      },\r\n      \"wfProcessCell\": {\r\n        \"basicInfo\": \"基本信息\",\r\n        \"name\": \"名稱\",\r\n        \"nameLanguage\": \"名稱\",\r\n        \"key\": \"標識\",\r\n        \"entryForm\": \"流程分類\",\r\n        \"startMode\": \"啟動方式\",\r\n        \"wfTitle\": \"流程摘要\",\r\n        \"formDef\": \"表單定義\",\r\n        \"formsPC\": \"PC表單\",\r\n        \"formsMobile\": \"移動表單\",\r\n        \"process\": \"事件監聽\",\r\n        \"advanced\": \"高級屬性\",\r\n        \"basic\": \"基礎屬性\",\r\n        \"wfComponent\": \"流程構件\",\r\n        \"otherConfig\": \"其他配置\",\r\n        \"processVariables\": \"流程變量\",\r\n        \"basicElements\": \"基本元素\",\r\n        \"customizeAction\": \"自定義動作\",\r\n        \"timelinessInfo\": \"時效信息\",\r\n        \"enablePriority\": \"啟用緊急程度\",\r\n        \"enableWholeOrderRetrieve\": \"撤回在審單據\",\r\n        \"messageProperty\": \"影像設置\",\r\n        \"timeLimitControl\": \"超時操作\",\r\n        \"messageNotice\": \"消息通知\",\r\n        \"extendProperty\": \"擴展屬性\",\r\n        \"directTips\": \"提示：啟動方式切換為直接，直接啟動是默認的流程啟動方式，切換後會移除共享(PF)相關構件，請知悉！\",\r\n        \"externalTips\": \"提示：啟動方式切換為外部流程，適用於作為共享流程的外部流程相關場景，切換後保留流程上的共享（PF)相關構件，請知悉！\",\r\n        \"subprocessTips\": \"提示：啟動方式切換為子流程，適用於調用式子流程的場景，切換後會移除除取數構件外的其他流程構件，請知悉！\"\r\n      },\r\n      \"WfSequenceFlowEdge\": {\r\n        \"basicInfo\": \"基本信息\",\r\n        \"basic\": \"基礎屬性\",\r\n        \"name\": \"名稱\",\r\n        \"nameLanguage\": \"名稱\",\r\n        \"id\": \"標識\",\r\n        \"condition\": \"條件選項\",\r\n        \"ConditionExpression\": \"條件\",\r\n        \"default\": \"缺省轉移線\"\r\n      },\r\n      \"wfSidebar\": {\r\n        \"bizactivitylib\": \"業務活動\"\r\n      }\r\n    },\r\n    \"app\": {\r\n      \"processDesigner\": {\r\n        \"all\": \"所有\",\r\n        \"assign\": \"指派\",\r\n        \"claim\": \"領用\",\r\n        \"preempt\": \"搶占模式\",\r\n        \"parallel\": \"並行會簽\",\r\n        \"sequential\": \"串行會簽\",\r\n        \"true\": \"是\",\r\n        \"false\": \"否\",\r\n        \"dataId\": \"單據內碼\",\r\n        \"procInstId\": \"流程實例ID\",\r\n        \"bizDefKey\": \"入口單據ID\",\r\n        \"processDefinitionKey\": \"流程定義KEY\",\r\n        \"procInstCreator\": \"流程發起人\",\r\n        \"businessCreator\": \"業務發起人\",\r\n        \"procInstDescription\": \"流程摘要\",\r\n        \"comment\": \"審批意見\",\r\n        \"bizDefName\": \"流程分類名稱\",\r\n        \"curLoginUsername\": \"當前登錄人名稱\",\r\n        \"procInstCreatorName\": \"流程發起人名稱\",\r\n        \"currentParticipantId\": \"當前辦理人ID\",\r\n        \"currentParticipantName\": \"當前辦理人名稱\",\r\n        \"currentUser\": \"當前登錄用戶\",\r\n        \"preActExecutors\": \"上一個活動的執行人\",\r\n        \"collectionElementVariable\": \"多實例子活動元素變數\",\r\n        \"subCollectionElementVariable\": \"多實例子流程元素變數\",\r\n        \"nrOfInstances\": \"多實例總數量\",\r\n        \"nrOfCompletedInstances\": \"多實例已完成數量\",\r\n        \"nrOfActiveInstances\": \"多實例正在運行中的數量\",\r\n        \"nrOfForward\": \"通過實例數量\",\r\n        \"nrOfBackward\": \"駁回實例數量\",\r\n        \"nrOfAbort\": \"終止實例數量\",\r\n        \"conclusionType\": \"結論類型\",\r\n        \"conclusionValue\": \"結論值\",\r\n        \"directSuperior\": \"直接上級\",\r\n        \"higherSuperior\": \"間接上級\",\r\n        \"DIRECT\": \"直接\",\r\n        \"EXTERNAL_PROCESS\": \"外部流程\",\r\n        \"SUB_PROCESS\": \"子流程\",\r\n        \"ALL\": \"電腦端和移動端\",\r\n        \"WEB\": \"電腦端\",\r\n        \"APP\": \"移動端\",\r\n        \"conclusionTypeTips\": \"審批項流轉方向，1正向，2反向，3終止\",\r\n        \"conclusionValueTips\": \"審批項編號，例如，Pass、Back、Refuse\",\r\n        \"copy\": \"_副本\",\r\n        \"saveAs\": \"另存為\",\r\n        \"tips\": \"系統提示\",\r\n        \"saveAsSuccess\": \"另存為成功\",\r\n        \"saveAsFail\": \"另存為失敗，請檢查流程是否正確！\",\r\n        \"syncDt\": \"是否將當前版本流程定義同步到設計時流程定義包\",\r\n        \"syncSuccess\": \"同步成功\",\r\n        \"beforeCompleteStrategyChange\": \"當前節點存在運行中的活動實例，不允許調整完成策略，請了解！\",\r\n        \"releaseProcess\": \"發布前審核\",\r\n        \"auto\": \"自動生單\",\r\n        \"push\": \"推式生單\",\r\n        \"pull\": \"拉式生單\",\r\n        \"creation\": \"通過生單流程生成目標單\"\r\n      }\r\n    },\r\n    \"multiInstanceLoopCharacteristics\": {\r\n      \"loopCharacteristics\": \"多實例設置\",\r\n      \"set\": \"（已設置）\",\r\n      \"notSet\": \"（未設置）\",\r\n      \"isEnable\": \"是否啟用\",\r\n      \"isSequential\": \"是否串行\",\r\n      \"loopCardinality\": \"元素集合\",\r\n      \"completionConditionRules\": \"完成條件\",\r\n      \"promptAct1\": \"1、[集合]中的元素個數為子活動啟動實例數量。\",\r\n      \"promptAct2\": \"2、子活動啟動時系統會將[集合]中的元素拆分映射到各個子活動實例的[元素變數]。\",\r\n      \"promptProc1\": \"1、[集合]中的元素個數為子流程啟動實例數量。\",\r\n      \"promptProc2\": \"2、子流程啟動時系統會將[集合]中的元素拆分映射到各個子流程實例的[元素變數]。\",\r\n      \"checkPrompt\": \"當前節點存在運行中的活動實例，不允許調整\",\r\n      \"conditionRulesSet\": \"（已設置）\",\r\n      \"completionConditionRulesList\": {\r\n        \"forward\": \"正向\",\r\n        \"backward\": \"反向\",\r\n        \"abort\": \"終止\"\r\n      }\r\n    },\r\n    \"component\": {\r\n      \"optins\": {\r\n        \"wfOptions\": \"工作流選項\",\r\n        \"specified\": \"指定子流程\",\r\n        \"dynamic\": \"動態子流程\",\r\n        \"set\": \"（已設置）\",\r\n        \"notSet\": \"（未設置）\",\r\n        \"subProcessType\": \"子流程類型\",\r\n        \"processType\": \"流程類型\",\r\n        \"bizDef\": \"流程分類\",\r\n        \"procDef\": \"流程定義\",\r\n        \"clickCancel\": \"取消\",\r\n        \"clickOk\": \"確定\"\r\n      },\r\n      \"voConfig\": {\r\n        \"documentInfo\": \"單據信息\",\r\n        \"viewModelSelection\": \"視圖模型選擇\",\r\n        \"cancel\": \"取消\",\r\n        \"clickOk\": \"確定\",\r\n        \"selectOne\": \"確定\",\r\n        \"documentTypeSelect\": \"單據類型選擇\",\r\n        \"set\": \"（已設置）\",\r\n        \"notSet\": \"（未設置）\",\r\n        \"viewModel\": \"視圖模型\",\r\n        \"documenttype\": \"單據類型\",\r\n        \"placeholder\": \"請選擇\"\r\n      },\r\n      \"variableSetting\": {\r\n        \"constant\": \"常數\",\r\n        \"expression\": \"表達式\",\r\n        \"component\": \"構件\",\r\n        \"ACTIVITY_STARTED\": \"活動開始\",\r\n        \"ACTIVITY_COMPLETED\": \"活動結束\",\r\n        \"varAssign\": \"變量賦值\",\r\n        \"varNumber\": \"變量編號\",\r\n        \"REQUIRED\": \"必填\",\r\n        \"varName\": \"變量名稱\",\r\n        \"valueType\": \"值類型\",\r\n        \"executionTime\": \"執行時機\",\r\n        \"valueText\": \"變量值\",\r\n        \"processVariables\": \"流程變量\",\r\n        \"notSelectedVar\": \"尚未選中變量！\",\r\n        \"valueCannotEmpty\": \"變量值不允許為空！\",\r\n        \"set\": \"（已設置）\",\r\n        \"notSet\": \"（未設置）\",\r\n        \"add\": \"新增\",\r\n        \"delete\": \"刪除\",\r\n        \"serialNumber\": \"序號\",\r\n        \"clickCancel\": \"取消\",\r\n        \"clickOK\": \"確定\",\r\n        \"inconsistentParameters\": \"當前構件方法參數不一致，請更新！\",\r\n        \"methodNotExist\": \"當前構件已不存在此方法，請更新！\",\r\n        \"parameterName\": \"參數名\",\r\n        \"parameterValue\": \"參數值\",\r\n        \"methodnotSelected\": \"尚未選擇構件方法\",\r\n        \"metadataNotExist\": \"幫助元數據不存在，請聯繫系統管理員查看原因！\",\r\n        \"errorObtainComponent\": \"獲取解析構件錯誤\",\r\n        \"componentSelection\": \"構件選擇\",\r\n        \"componentName\": \"構件名稱\",\r\n        \"parameterList\": \"參數列表\",\r\n        \"lineNumber\": \"序號\"\r\n      },\r\n      \"urgeHandleRule\": {\r\n        \"urgentApproval\": \"催辦審批：\",\r\n        \"pleaseApprove\": \"請您儘快審批\",\r\n        \"soOn\": \"的\",\r\n        \"urgeHandle\": \"催辦\",\r\n        \"noSendingMethod\": \"尚未選擇發送方式！\",\r\n        \"setMessageTemplate\": \"消息渠道啟用簡訊時需設置消息模板\",\r\n        \"codeEmpty\": \"簡訊模板編號不允許為空\",\r\n        \"noMessageSubject\": \"尚未配置消息主題！\",\r\n        \"noMessageContent\": \"尚未選擇消息內容！\",\r\n        \"earliestTimeNotEmpty\": \"最早允許催辦時間不允許為空\",\r\n        \"minimumTimeNotEmpty\": \"最小允許催辦間隔不允許為空\",\r\n        \"set\": \"（已設置）\",\r\n        \"notSet\": \"（未設置）\",\r\n        \"enableUrgeHandle\": \"啟用催辦\",\r\n        \"timeSetting\": \"時間設置\",\r\n        \"earliestTime\": \"最早允許催辦時間（小時）\",\r\n        \"minimumInterval\": \"最小允許催辦間隔（小時）\",\r\n        \"sendingMethod\": \"發送方式\",\r\n        \"messageSubject\": \"消息主題\",\r\n        \"supportEditing\": \"支持編輯\",\r\n        \"messageContent\": \"消息內容\",\r\n        \"displayReminder\": \"顯示催辦人\",\r\n        \"clickCancel\": \"取消\",\r\n        \"clickOK\": \"確定\"\r\n      },\r\n      \"titleExpression\": {\r\n        \"zh-CHS\": \"中文简体\",\r\n        \"zh-CHT\": \"中文繁體\",\r\n        \"en\": \"英文\",\r\n        \"taskDescription\": \"任務描述\",\r\n        \"set\": \"（已設置）\",\r\n        \"notSet\": \"（未設置）\",\r\n        \"currentLanguage\": \"當前摘要語言:\",\r\n        \"clickCancel\": \"取消\",\r\n        \"clickOK\": \"確定\"\r\n      },\r\n      \"timeLimitControl\": {\r\n        \"timedOutOperation\": \"超時操作\",\r\n        \"constant\": \"固定值\",\r\n        \"scope\": \"時間範圍\",\r\n        \"day\": \"天\",\r\n        \"hour\": \"時\",\r\n        \"minute\": \"分\",\r\n        \"BeforeDuration\": \"到期之前\",\r\n        \"OnDuration\": \"到期時\",\r\n        \"AfterDuration\": \"到期之後\",\r\n        \"SendMessageExpireOperation\": \"超時預警\",\r\n        \"AutoHandleExpireOperation\": \"自動辦理\",\r\n        \"curDay\": \"當天\",\r\n        \"durationType\": \"期限類型\",\r\n        \"required\": \"必填\",\r\n        \"timeDuration\": \"時長\",\r\n        \"timeUnit\": \"單位\",\r\n        \"operationTypeName\": \"操作類型名稱\",\r\n        \"sendType\": \"操作\",\r\n        \"onlyBeInteger\": \"任務期限只能是整數！\",\r\n        \"setOperation\": \"請設置超時操作！\",\r\n        \"setType\": \"請設置自動辦理類型！\",\r\n        \"setComments\": \"請設置自動辦理意見！\",\r\n        \"selectedOperation\": \"尚未選中預警操作！\",\r\n        \"notSupportAutomatic\": \"下一節點是由當前辦理人指派的話，當前節點不支持任務自動辦理\",\r\n        \"warningMessage\": \"預警消息\",\r\n        \"automaticProcessing\": \"自動辦理\",\r\n        \"set\": \"（已設置）\",\r\n        \"notSet\": \"（未設置）\",\r\n        \"timelinessControl\": \"任務處理時效控制\",\r\n        \"isEnable\": \"是否啟用\",\r\n        \"taskDeadline\": \"任務期限\",\r\n        \"timelyOperation\": \"時效預警操作\",\r\n        \"actionList\": \"操作列表\",\r\n        \"add\": \"新增\",\r\n        \"remove\": \"刪除\",\r\n        \"clickCancel\": \"取消\",\r\n        \"clickOK\": \"確定\",\r\n        \"workItemParticipant\": \"當前節點辦理人\",\r\n        \"procInstCreator\": \"流程發起人\",\r\n        \"to-doMessageTimeOut\": \"您有一條待辦消息即將超時。\",\r\n        \"messageTimeOut\": \"您有一條消息即將超時\",\r\n        \"agree\": \"同意\"\r\n      },\r\n      \"sendMessageOperation\": {\r\n        \"procInstCreator\": \"流程發起人\",\r\n        \"workItemParticipant\": \"當前節點辦理人\",\r\n        \"preActExecutors\": \"上一節點辦理人\",\r\n        \"day\": \"天\",\r\n        \"hour\": \"時\",\r\n        \"minute\": \"分\",\r\n        \"cycleTimeNotEmpty\": \"循環時間間隔不允許為空！\",\r\n        \"sendMethodNotEmpty\": \"發送方式不允許為空！\",\r\n        \"subjectNotEmpty\": \"消息主題不允許為空！\",\r\n        \"contentNotEmpty\": \"消息內容不允許為空！\",\r\n        \"recipientNotEmpty\": \"接收人不允許為空！\",\r\n        \"messageTemplate\": \"消息渠道啟用短信時需設置消息模板\",\r\n        \"smsTemplateNumberNotEmpty\": \"短信模板編號不允許為空\",\r\n        \"cycleEnable\": \"啟用循環預警\",\r\n        \"cycleTime\": \"循環時間間隔\",\r\n        \"sendType\": \"發送方式\",\r\n        \"subject\": \"消息主題\",\r\n        \"message\": \"消息內容\",\r\n        \"receiverVari\": \"接收人\",\r\n        \"sysUsers\": \"系統用戶\",\r\n        \"clickCancel\": \"取消\",\r\n        \"clickOK\": \"確定\",\r\n        \"opinionsNotEmpty\": \"自動辦理意見不允許為空！\",\r\n        \"processingNotEmpty\": \"自動辦理不允許為空！\",\r\n        \"automaticProcessSet\": \"自動辦理設置\",\r\n        \"automaticProcessMethod\": \"自動辦理方式\",\r\n        \"automaticOpinionHandle\": \"自動辦理意見\"\r\n      },\r\n      \"smsMessageTemplate\": {\r\n        \"smsTemplateContent\": \"協力廠商簡訊服務商裏定義的範本原文，例如：阿裡雲您的管控大數據平臺帳號已開通，用戶名為：${username}，初始密碼為：${code}，請及時登入系統\",\r\n        \"code\": \"變量\",\r\n        \"value\": \"值\",\r\n        \"noRowsSelected\": \"尚未選中行\",\r\n        \"smsMessageTemplate\": \"短信服務模板\",\r\n        \"tips1\": \"消息模板是指已經在第三方短信服務商定義模板後，需要在GS Cloud裡將短信服務商的模板變量和GS Cloud變量關聯\",\r\n        \"tips2\": \"第三方短信服務商裡定義的模板編號，例如: 阿里雲 SMS_220626324\",\r\n        \"tips3\": \"將第三方短信服務商模板裡的變量和GSCloud裡的變量配置關聯\",\r\n        \"smsTemplateNumber\": \"短信模板編號\",\r\n        \"smsVariableBinding\": \"短信變量綁定\",\r\n        \"addSmsVariable\": \"新增\",\r\n        \"deleteSmsVariable\": \"刪除\"\r\n      },\r\n      \"signRule\": {\r\n        \"countersignRules\": \"會簽規則\",\r\n        \"byNumber\": \"按數量\",\r\n        \"byProportion\": \"按比例(%)\",\r\n        \"customConditions\": \"自定義條件\",\r\n        \"value\": \"編號\",\r\n        \"text\": \"名稱\",\r\n        \"conclusionName\": \"結論名稱\",\r\n        \"conclusionValue\": \"結論值\",\r\n        \"calculateType\": \"計算方式\",\r\n        \"conditionValue\": \"條件值\",\r\n        \"waitAllVotes\": \"等待全員辦結\",\r\n        \"yes\": \"是\",\r\n        \"no\": \"否\",\r\n        \"notEmpty\": \"完成策略為會簽時，會簽規則不允許為空，請了解！\",\r\n        \"pleaseSelect\": \"請首先選中一條審批項！\",\r\n        \"maxConditionValue\": \"條件值最大值是100\",\r\n        \"minConditionValue\": \"條件值最小值是0\",\r\n        \"noConditional\": \"結論執行方式為全票或一票時不需要條件值\",\r\n        \"set\": \"（已設置）\",\r\n        \"ruleList\": \"規則列表\",\r\n        \"approvalOptions\": \"審批選項\",\r\n        \"clickCancel\": \"取消\",\r\n        \"deleteRow\": \"重置\",\r\n        \"clickOK\": \"確定\",\r\n      },\r\n      \"saveAsEdit\": {\r\n        \"public\": \"公有\",\r\n        \"private\": \"私有\",\r\n        \"code\": \"編號\",\r\n        \"name\": \"名稱\",\r\n        \"nameNotEmpty\": \"流程名稱不能為空\",\r\n        \"organizationNotEmpty\": \"維護組織不能為空\",\r\n        \"organization\": \"組織\",\r\n        \"basicAttributes\": \"基礎屬性\",\r\n        \"processName\": \"流程名稱\",\r\n        \"processKeyValue\": \"流程Key值\",\r\n        \"maintenanceOrg\": \"維護組織\",\r\n        \"accessLevel\": \"訪問級別\",\r\n        \"saveAsCancel\": \"取消\",\r\n        \"saveAsOK\": \"確定\"\r\n      },\r\n      \"release\": {\r\n        \"release\": \"流程發布\",\r\n        \"update\": \"流程更新\",\r\n        \"applicantName\": \"申請人名稱\",\r\n        \"applicantDepartment\": \"申請人部門\",\r\n        \"procName\": \"流程名稱\",\r\n        \"procVersion\": \"流程版本\",\r\n        \"releaseType\": \"發布類型\",\r\n        \"textDetail\": \"說明\",\r\n        \"saveAsCancel\": \"取消\",\r\n        \"saveAsOK\": \"確定\"\r\n      },\r\n      \"processVariables\": {\r\n        \"string\": \"字符\",\r\n        \"integer\": \"整型\",\r\n        \"decimal\": \"小數\",\r\n        \"boolean\": \"布爾\",\r\n        \"constant\": \"常量\",\r\n        \"expression\": \"表達式\",\r\n        \"component\": \"構件\",\r\n        \"name\": \"變量編號\",\r\n        \"required\": \"必填\",\r\n        \"documentation\": \"變量名稱\",\r\n        \"basicType\": \"變量類型\",\r\n        \"description\": \"描述\",\r\n        \"tag\": \"初始值類型\",\r\n        \"valueText\": \"初始值\",\r\n        \"processVariables\": \"流程變量\",\r\n        \"notSelected\": \"尚未選中流程變量！\",\r\n        \"variableNumberEmpty\": \"變量編號不允許為空！\",\r\n        \"variableNameEmpty\": \"變量名稱不允許為空！\",\r\n        \"variableNumberNotStandard\": \"變量編號只能包含字母、數字和下劃線，且不能以數字開頭！\",\r\n        \"tagNotEmpty\": \"初始值類型不允許為空！\",\r\n        \"codeDuplicates\": \"流程變量編號不允許重複！\",\r\n        \"alreadyExists\": \"新增的變量已存在！\",\r\n        \"set\": \"（已設置）\",\r\n        \"notSet\": \"（未設置）\",\r\n        \"add\": \"新增\",\r\n        \"delete\": \"刪除\",\r\n        \"number\": \"序號\",\r\n        \"clickCancel\": \"取消\",\r\n        \"clickOK\": \"確定\"\r\n      },\r\n      \"participant\": {\r\n        \"user\": \"用戶\",\r\n        \"variable\": \"變量參與者\",\r\n        \"position\": \"崗位\",\r\n        \"role\": \"角色\",\r\n        \"component\": \"構件參與者\",\r\n        \"reportingLine\": \"匯報關係\",\r\n        \"matrix\": \"矩陣\",\r\n        \"activityExecutor\": \"歷史活動辦理人\",\r\n        \"organization\": \"單位/部門\",\r\n        \"all\": \"所有\",\r\n        \"assign\": \"指派\",\r\n        \"claim\": \"領用\",\r\n        \"currentUser\": \"當前辦理人\",\r\n        \"procInstCreator\": \"流程發起人\",\r\n        \"participantSet\": \"參與者設置\",\r\n        \"order\": \"序號\",\r\n        \"type\": \"類型\",\r\n        \"performerName\": \"名稱\",\r\n        \"description\": \"描述\",\r\n        \"condition\": \"啟用條件\",\r\n        \"dataMovement1\": \"是否將默認辦理人數據移動到到備選辦理人？\",\r\n        \"dataMovement2\": \"是否將備選辦理人數據移動到默認辦理人？\",\r\n        \"participantSelection\": \"參與者選擇\",\r\n        \"selectProcessVariables\": \"尚未選擇流程變量！\",\r\n        \"selectVariableValueType\": \"尚未選擇變量值類型！\",\r\n        \"selectRelation\": \"尚未選擇關係！\",\r\n        \"selectPosition\": \"尚未選擇崗位！\",\r\n        \"selectOrgType\": \"尚未選擇組織類型！\",\r\n        \"orgFill\": \"尚未填寫組織！\",\r\n        \"refOrgIdNotNull\": \"參照類型為組織時，參照組織欄位不能為空\",\r\n        \"refUserIdNotNull\": \"參照類型為系統用戶/員工時，參照人欄位不能為空\",\r\n        \"repDefConfigured\": \"該匯報關係已經進行過配置\",\r\n        \"atLeastOneCondition\": \"條件欄位至少要存在一個\",\r\n        \"dataFieldAliasNotNull\": \"數據欄位不能為空\",\r\n        \"matrixConfigured\": \"該矩陣已經進行過配置\",\r\n        \"selectPerformer\": \"尚未選擇參與者\",\r\n        \"definitionDeleted\": \"該條匯報關係數據的定義已刪除，該條數據將刪除\",\r\n        \"matrixDeleted\": \"該條矩陣數據的定義已刪除，該條數據將刪除\",\r\n        \"selectParticipantInfo\": \"請先選中一條參與者信息！\",\r\n        \"noRowSelected\": \"尚未選中行！\",\r\n        \"selectDefaultHandler\": \"請先選中一條默認辦理人\",\r\n        \"selectpotentialtHandler\": \"請先選中一條備選辦理人\",\r\n        \"org\": \"組織：\",\r\n        \"positionType1\": \"崗位類型：通用崗位，組織：\",\r\n        \"positionType2\": \"崗位類型：通用崗位\",\r\n        \"positionType3\": \"崗位類型：組織崗位\",\r\n        \"comp\": \"構件：\",\r\n        \"parameters:\": \"，參數：{\",\r\n        \"referencePerson:\": \"參照人：\",\r\n        \"referenceOrganization:\": \"參照組織：\",\r\n        \"condition1\": \"條件1：\",\r\n        \"condition2\": \"條件2：\",\r\n        \"condition3\": \"條件3：\",\r\n        \"data\": \"數據：\",\r\n        \"set\": \"（已設置）\",\r\n        \"notSet\": \"（未設置）\",\r\n        \"allocationPolicy\": \"分配策略\",\r\n        \"operator\": \"指派操作人\",\r\n        \"multiSelect\": \"允許多選\",\r\n        \"necessary\": \"只有一個待選用戶時，仍需手工選擇\",\r\n        \"notifyRecipient\": \"知會接收人\",\r\n        \"defaultHandler\": \"默認辦理人\",\r\n        \"new\": \"新增\",\r\n        \"editPerformer\": \"編輯\",\r\n        \"removePerformer\": \"移除\",\r\n        \"clearPerformer\": \"清空\",\r\n        \"moveUp\": \"上移\",\r\n        \"moveDown\": \"下移\",\r\n        \"alternativeHandler\": \"備選辦理人\",\r\n        \"isAllScope\": \"指定參與人時不限範圍，從全員用戶中選擇\",\r\n        \"clickCancel\": \"取消\",\r\n        \"clickOK\": \"確定\",\r\n        \"alternativeScope\": \"備選範圍\",\r\n        \"orgId\": \"組織ID\",\r\n        \"includeChildren\": \"包含下級\",\r\n        \"conditon\": \"啟用條件\",\r\n        \"currentUnit\": \"本組織\",\r\n        \"currentDepartment\": \"本部門\",\r\n        \"variableOrganization\": \"變量組織\"\r\n      },\r\n      \"activityExecutor\": {\r\n        \"name\": \"名稱\",\r\n        \"eventHandler\": \">活動辦理人\",\r\n        \"nodeName\": \"節點名稱\",\r\n        \"enablingConditions\": \"啟用條件\",\r\n        \"activityList\": \"活動列表\",\r\n        \"clickCancel\": \"取消\",\r\n        \"clickOK\": \"確定\"\r\n      },\r\n      \"componentPerformer\": {\r\n        \"componentMethod\": \"當前構件方法參數不一致，請更新！\",\r\n        \"methodNotExist\": \"當前構件已不存在此方法，請更新！\",\r\n        \"code\": \"編號\",\r\n        \"name\": \"名稱\",\r\n        \"description\": \"描述\",\r\n        \"valueText\": \"參數值\",\r\n        \"help\": \"幫助\",\r\n        \"errorObtaining\": \"獲取解析構件出錯\",\r\n        \"componentSelection\": \"構件選擇\",\r\n        \"metadataNotExist\": \"幫助元數據不存在！\",\r\n        \"serverSideNotFound\": \"服務器端未找到幫助元數據，請檢查元數據是否已經部署到環境中\",\r\n        \"componentName\": \"構件名稱\",\r\n        \"componentSelect\": \"構件選擇\",\r\n        \"parameterList\": \"參數列表\"\r\n      },\r\n      \"matrixPerformer\": {\r\n        \"code\": \"編號\",\r\n        \"name\": \"名稱\",\r\n        \"help\": \"幫助\",\r\n        \"multivalue\": \"多值\",\r\n        \"enumSelection\": \"枚舉選擇\",\r\n        \"refMatrixTable\": \"引用矩陣表\",\r\n        \"matrixTable\": \"矩陣表\",\r\n        \"curDataFieldValue\": \"結果列\",\r\n        \"conditionFields\": \"條件字段\",\r\n        \"condition\": \"啟用條件\",\r\n        \"key\": \"鍵\",\r\n        \"value\": \"值\",\r\n        \"notSelectEnum\": \"尚未選中枚舉值\",\r\n        \"cancel\": \"取消\",\r\n        \"onConfirm\": \"確定\",\r\n        \"lineNumber\": \"序號\"\r\n      },\r\n      \"performerOptions\": {\r\n        \"leave\": \"向下流轉\",\r\n        \"throwException\": \"異常提示\",\r\n        \"sys\": \"用戶ID\",\r\n        \"administrative_staff\": \"員工ID\",\r\n        \"procInstCreator\": \"流程發起人\",\r\n        \"preActExecutors\": \"上一節點辦理人\",\r\n        \"allPassExecutors\": \"所有已辦理人員\",\r\n        \"performerOptions\": \"參與者選項\",\r\n        \"exclusionNotAllowed\": \"所有已辦理人員已設置自動審批，上個節點已辦理人員默認不允許排除！\",\r\n        \"approvalNotAllowed\": \"【分配策略】為【領用】時，不允許設置自動審批，請了解！\",\r\n        \"approvalNotAllowedAsSet\": \"所有已辦理人員已設置不允許審批，所以上個節點已辦理人員默認不允許自動審批！\",\r\n        \"allocationStrategyIsCollect\": \"【分配策略】為【領用】時，不允許設置自動審批，請了解！\",\r\n        \"set\": \"（已設置）\",\r\n        \"advancedOptions\": \"參與者高級選項\",\r\n        \"historicFirst\": \"再次進入節點時，辦理人是節點的已辦人員\",\r\n        \"noPerformerStrategy\": \"辦理人為空策略：\",\r\n        \"excludeProcInstCreator\": \"排除辦理人選項\",\r\n        \"defaultNotParticipate\": \"流程發起人默認不參與審批\",\r\n        \"excludePreActExecutors\": \"上個節點已辦理人員默認不參與審批\",\r\n        \"excludeAllPassExecutors\": \"所有已辦理人員默認不參與審批\",\r\n        \"excludeExprPerformer\": \"流程變量：\",\r\n        \"variableOrgTypes\": \"變量值類型：\",\r\n        \"automaticApprovalOptions\": \"自動審批選項\",\r\n        \"autoProcInstCreator\": \"流程發起人默認自動審批通過\",\r\n        \"autoPreActExecutors\": \"上一節點辦理人員默認自動審批通過\",\r\n        \"autoAllPassExecutors\": \"所有已辦理人員默認自動審批通過\",\r\n        \"cancel\": \"取消\",\r\n        \"clickOK\": \"確定\"\r\n      },\r\n      \"positionPerformer\": {\r\n        \"orgPosition\": \"組織岗\",\r\n        \"generalPosition\": \"通用岗\",\r\n        \"sysPositions\": \"系統岗位\",\r\n        \"positionType\": \"岗位類型\",\r\n        \"role\": \"角色\",\r\n        \"position\": \"岗位\",\r\n        \"sysType\": \"組織類型\",\r\n        \"placeholder\": \"請選擇\",\r\n        \"orgId\": \"組織ID\",\r\n        \"condition\": \"啟用條件\",\r\n        \"clickCancel\": \"取消\",\r\n        \"clickOK\": \"確定\"\r\n      },\r\n      \"reportingLine\": {\r\n        \"higherSuperior\": \"間接上級\",\r\n        \"directSuperior\": \"直接上級\",\r\n        \"code\": \"編號\",\r\n        \"name\": \"名稱\",\r\n        \"dept\": \"組織\",\r\n        \"sysUser\": \"系統用戶\",\r\n        \"employee\": \"員工\",\r\n        \"businessFields\": \"業務字段\",\r\n        \"defName\": \"匯報定義\",\r\n        \"dimension\": \"匯報級別\",\r\n        \"curReportingRefer\": \"參照類型\",\r\n        \"usersName\": \"參照人\",\r\n        \"refOrgId\": \"參照組織\",\r\n        \"condition\": \"啟用條件\",\r\n        \"definitionOfReport\": \"匯報關係定義\"\r\n      },\r\n      \"userPerformer\": {\r\n        \"regularUser\": \"固定使用者\",\r\n        \"variablePart\": \"變數參與者\",\r\n        \"sys\": \"系統使用者\",\r\n        \"administrative_organization\": \"員工\",\r\n        \"cantUseContext\": \"行政人員類型不能使用此上下文變數\",\r\n        \"user\": \"使用者\",\r\n        \"variable\": \"變數\",\r\n        \"condition\": \"啟用條件\"\r\n      },\r\n      \"variablePerformer\": {\r\n        \"sys\": \"使用者ID\",\r\n        \"administrative_staff\": \"員工ID\",\r\n        \"oneself\": \"本人\",\r\n        \"administrative_organization\": \"部門ID\",\r\n        \"cantUseContext\": \"行政人員類型不能使用此上下文變數\",\r\n        \"processVariables\": \"流程變數\",\r\n        \"variableOrgTypes\": \"變數值類型\",\r\n        \"relationShipType\": \"關係\",\r\n        \"condition\": \"啟用條件\",\r\n      },\r\n      \"orgPotentialOwner\": {\r\n        \"optionSettings\": \"選項設置\",\r\n        \"global\": \"全體成員\",\r\n        \"currentUnit\": \"本單位\",\r\n        \"currentDepartment\": \"本部門\",\r\n        \"addSignBehind\": \"加簽\",\r\n        \"addSignFront\": \"徵詢\",\r\n        \"transfer\": \"移交\",\r\n        \"notify\": \"知會\",\r\n        \"set\": \"（已設置）\",\r\n        \"notSet\": \"（未設置）\",\r\n        \"option\": \"選項\",\r\n        \"enable\": \"是否啟用\",\r\n        \"range\": \"範圍\",\r\n        \"OrgId\": \"組織ID\",\r\n        \"variableOrganization\": \"變數組織\",\r\n        \"includeChildren\": \"包含下級\",\r\n        \"clickCancel\": \"取消\",\r\n        \"clickOK\": \"確定\",\r\n        \"limit\": \"限定人員範圍\",\r\n        \"turnOffPrompt\": \"請關閉限定人員範圍選項\"\r\n      },\r\n      \"note\": {\r\n        \"placeholder\": \"請輸入流程變更記錄\",\r\n        \"clickCancel\": \"取消\",\r\n        \"clickOK\": \"確定\"\r\n      },\r\n      \"MessageNotice\": {\r\n        \"notify\": \"消息通知\",\r\n        \"subject\": \"消息主題\",\r\n        \"content\": \"消息內容\",\r\n        \"sendTime\": \"發送時機\",\r\n        \"sendType\": \"發送方式\",\r\n        \"receiverText\": \"消息接收人\",\r\n        \"procInstCreator\": \"流程發起人，\",\r\n        \"workItemParticipant\": \"任務接收人，\",\r\n        \"messageSet\": \"消息設置\",\r\n        \"selectedRow\": \"尚未選中消息通知！\",\r\n        \"noCopy\": \"沒有待複製的消息通知屬性！\",\r\n        \"batchCopy\": \"批量複製\",\r\n        \"set\": \"（已設置）\",\r\n        \"notSet\": \"（未設置）\",\r\n        \"add\": \"新增\",\r\n        \"edit\": \"編輯\",\r\n        \"delete\": \"刪除\",\r\n        \"lineNumber\": \"序號\",\r\n        \"clickCancel\": \"取消\",\r\n        \"clickOK\": \"確定\",\r\n        \"messContent\": `{\"expr\":\"\\'您有一條消息通知。\\'\",\"sexpr\":\"\"}`,\r\n        \"procComplete\": \"流程完成\",\r\n        \"procAborted\": \"流程終止\",\r\n        \"procRollBack\": \"流程驳回\",\r\n        \"workCreated\": \"任務創建\",\r\n        \"actComplete\": \"活動完成\",\r\n        \"actAborted\": \"活動終止\",\r\n        \"email\": \"郵件\",\r\n        \"sms\": \"短信\",\r\n        \"cloudplus\": \"雲\",\r\n        \"processParticipant\": \"流程參與人\",\r\n        \"variableParticipant\": \"變數參與者\",\r\n        \"userParticipant\": \"指定使用者\",\r\n        \"positionParticipant\": \"崗位\",\r\n        \"activityExecutorParticipant\": \"歷史辦理人\",\r\n        \"sys\": \"系統使用者\",\r\n        \"administrative_organization\": \"員工\",\r\n        \"name\": \"名稱\",\r\n        \"noTargetNode\": \"尚未選中節點！\",\r\n        \"noMessageNotifyAttribute!\": \"沒有消息通知屬性！\"\r\n      },\r\n      \"messageNoticeEdit\": {\r\n        \"procInstCreator\": \"流程發起人\",\r\n        \"activityExecutorParticipant\": \"歷史辦理人\",\r\n        \"workItemParticipant\": \"任務辦理人\",\r\n        \"sys\": \"系統使用者\",\r\n        \"administrative_organization\": \"員工\",\r\n        \"processParticipant\": \"流程參與人\",\r\n        \"workItemReceiveParticipant\": \"任務接收人\",\r\n        \"variableParticipant\": \"變數參與者\",\r\n        \"userParticipant\": \"指定使用者\",\r\n        \"positionParticipant\": \"崗位\",\r\n        \"sendType\": \"發送方式不允許為空\",\r\n        \"smsMessageTemplate\": \"消息渠道啟用短信時需設置消息模板\",\r\n        \"smsMessageTemplateCode\": \"短信模板編號不允許為空\",\r\n        \"sendTime\": \"發送時機不允許為空\",\r\n        \"subject\": \"消息主題不允許為空\",\r\n        \"content\": \"消息內容不允許為空\",\r\n        \"receivers\": \"接收人不允許為空！\",\r\n        \"processParticipantNotNull\": \"流程參與人不允許為空\",\r\n        \"activityDefIdNotNull\": \"流程參與人為歷史辦理人時，辦理節點不允許為空\",\r\n        \"variableParticipantNotNull\": \"變數參與者不允許為空\",\r\n        \"orgType\": \"變數參與者組織類型不允許為空\",\r\n        \"userIds\": \"指定使用者不允許為空\",\r\n        \"positionId\": \"崗位不允許為空\",\r\n        \"activityList\": \"活動列表\",\r\n        \"position\": \"崗位\",\r\n        \"optionalNodes\": \"可選節點\",\r\n        \"targetNodeList\": \"目標節點列表\",\r\n        \"placeholder\": \"請選擇目標節點\",\r\n        \"optionalAttribute\": \"可選屬性\",\r\n        \"lineNumber\": \"序號\",\r\n        \"clickCancel\": \"取消\",\r\n        \"clickOK\": \"確定\",\r\n        \"messSendType\": \"消息渠道\",\r\n        \"messSubject\": \"消息主題\",\r\n        \"enable\": \"啟用表達式\",\r\n        \"messContent\": \"消息內容\",\r\n        \"recipient\": \"接收人\",\r\n        \"addReceiver\": \"添加\",\r\n        \"organization\": \"組織：\",\r\n        \"posi\": \"崗位：\"\r\n      },\r\n      \"jumpScope\": {\r\n        \"targetNodeOptions\": \"目標節點選項\",\r\n        \"name\": \"名稱\",\r\n        \"outConnectNode\": \"流程圖連線節點\",\r\n        \"global\": \"流程內所有節點\",\r\n        \"afterNodes\": \"所有後繼節點\",\r\n        \"specifiedSet\": \"流程圖連線節點+附加節點\",\r\n        \"firstNode\": \"條件為true的連線節點，當有多條時默認選中首條\",\r\n        \"nullNode\": \"默認為空，每次都手動選擇\",\r\n        \"specifyNode\": \"指定默認節點\",\r\n        \"noSetTargetNode\": \"尚未設置目標節點選項，請了解！\",\r\n        \"noSetSpecifyNode\": \"尚未指定默認節點，請了解！\",\r\n        \"selectedRow\": \"請首先選中一條選項！\",\r\n        \"optionalNodes\": \"可選節點\",\r\n        \"listOfAdditional\": \"附加節點列表\",\r\n        \"pleaseSelect1\": \"請選擇附加節點\",\r\n        \"defaultNode\": \"默認節點\",\r\n        \"pleaseSelect2\": \"請選擇默認節點\",\r\n        \"defaultNodeList\": \"默認節點列表\",\r\n        \"clickCancel\": \"取消\",\r\n        \"clickOK\": \"確定\",\r\n        \"set\": \"（已設置）\"\r\n      },\r\n      \"imageSet\": {\r\n        \"imageSet\": \"影像設置\",\r\n        \"onlyView\": \"僅可查看\",\r\n        \"edit\": \"編輯\",\r\n        \"reScanStart\": \"發起重掃\",\r\n        \"reScanComplete\": \"重掃完成\",\r\n        \"mutualExclusion\": \"【僅可查看】選項與其他選項互斥，請了解！\",\r\n        \"set\": \"（已設置）\",\r\n        \"notSet\": \"（未設置）\",\r\n        \"imageOperation\": \"影像操作權限\",\r\n        \"clickCancel\": \"取消\",\r\n        \"clickOK\": \"確定\"\r\n      },\r\n      \"extendProperty\": {\r\n        \"extendProperty\": \"擴展屬性\",\r\n        \"true\": \"是\",\r\n        \"false\": \"否\",\r\n        \"set\": \"（已設置）\",\r\n        \"notSet\": \"（未設置）\",\r\n        \"illustrate\": \"說明\",\r\n        \"placeholder\": \"請選擇\",\r\n        \"cancel\": \"取消\",\r\n        \"clickOK\": \"確定\"\r\n      },\r\n      \"expressionEditor\": {\r\n        \"expressionEditor\": \"條件編輯\",\r\n        \"notSet\": \"（未設置）\",\r\n        \"clickCancel\": \"取消\",\r\n        \"changeType\": \"切換類型\",\r\n        \"clickOK\": \"確定\"\r\n      },\r\n      \"executeForms\": {\r\n        \"executeForms\": \"表單定義\",\r\n        \"parameters\": \"參數【\",\r\n        \"typeAsvariable\": \"】類型為變量，但在流程變量裡不存在\",\r\n        \"parameterSettings\": \"參數設置\",\r\n        \"formDefinitionList\": \"表單定義列表\",\r\n        \"notSet\": \"（未設置）\",\r\n        \"default\": \"流程默認表單\",\r\n        \"processEmbeddedForm\": \"流程嵌表單\",\r\n        \"formEmbedProcess\": \"表單嵌流程\",\r\n        \"clickCancel\": \"取消\",\r\n        \"clickOK\": \"確定\",\r\n        \"noForm\": \"暫無表單格式\",\r\n        \"form\": \"選擇表單\",\r\n        \"placeholder\": \"請選擇\",\r\n        \"parametersSet\": \"參數\",\r\n        \"key\": \"變量編號\",\r\n        \"name\": \"變量名稱\",\r\n        \"lineNumber\": \"序號\",\r\n        \"code\": \"編號\",\r\n        \"tag\": \"類型\",\r\n        \"value\": \"參數值\",\r\n        \"variable\": \"變量\",\r\n        \"constant\": \"常量\",\r\n        \"expression\": \"表達式\",\r\n        \"method\": \"方法標識\",\r\n        \"methodName\": \"方法名稱\",\r\n        \"description\": \"描述\",\r\n        \"workFlowAction\": \"流轉方向\",\r\n        \"formOperations\": \"表單操作\",\r\n        \"executionTime\": \"執行時機\",\r\n        \"sortOrder\": \"執行順序\",\r\n        \"methodParameters\": \"參數\",\r\n        \"selectFormActionConfig\": \"尚未選中表單操作配置！\",\r\n        \"selectFormAction\": \"尚未選中表單操作！\",\r\n        \"editParam\": \"設置\",\r\n        \"formEvents\": \"表單事件\",\r\n        \"buttonName\": \"按鈕名稱\",\r\n        \"enable\": \"是否可用\",\r\n        \"disabled\": \"是否禁用\",\r\n        \"hidden\": \"是否隱藏\",\r\n        \"fieldName\": \"字段名稱\",\r\n        \"editable\": \"是否可寫\",\r\n        \"readonly\": \"是否只讀\",\r\n        \"required\": \"是否必填\",\r\n        \"saveFail\": \"保存配置失敗，請聯繫管理員查看原因！\",\r\n        \"checkedRows\": \"尚未選擇按鈕集合\",\r\n        \"checkeds\": \"尚未選擇字段集合\",\r\n        \"enableBtn\": \"可用\",\r\n        \"disabledBtn\": \"禁用\",\r\n        \"hiddenBtn\": \"隱藏\",\r\n        \"btnBatchReset\": \"重置\",\r\n        \"editableBtn\": \"可寫\",\r\n        \"readonlyBtn\": \"只讀\",\r\n        \"requiredBtn\": \"必填\",\r\n        \"add\": \"新增\",\r\n        \"delete\": \"刪除\",\r\n        \"other\": \"其他\",\r\n        \"formBtn\": \"表單按鈕\",\r\n        \"formfield\": \"表單字段\",\r\n        \"apptag\": \"單據類型\",\r\n        \"functionMenu\": \"功能菜單\",\r\n        \"formFormat\": \"表單格式\",\r\n        \"docFormatNumber\": \"單據格式編號\",\r\n        \"docFormatName\": \"單據格式名稱\",\r\n        \"selectedRow\": \"尚未選擇表單定義！\",\r\n        \"set\": \"（已設置）\"\r\n      },\r\n      \"eventDefinition\": {\r\n        \"eventDefinition\": \"信號定義\",\r\n        \"pass\": \"正向\",\r\n        \"back\": \"反向\",\r\n        \"abort\": \"終止\",\r\n        \"signalRef\": \"信號編號\",\r\n        \"name\": \"信號名稱\",\r\n        \"triggerAction\": \"流轉方向\",\r\n        \"selectedRow\": \"尚未選中一條觸發事件！\",\r\n        \"dataLength\": \"至少需要一個信號定義，請了解！\",\r\n        \"codeNotNull\": \"信號編號不允許為空！\",\r\n        \"nameNotNull\": \"信號名稱不允許為空！\",\r\n        \"codeNotNumber\": \"信號編號不允許為純數字！\",\r\n        \"codeRepeat\": \"信號編號不允許重複！\",\r\n        \"set\": \"（已設置）\",\r\n        \"notSet\": \"（未設置）\",\r\n        \"add\": \"新增\",\r\n        \"delete\": \"刪除\",\r\n        \"clickCancel\": \"取消\",\r\n        \"clickOK\": \"確定\"\r\n      },\r\n      \"entryFormEditor\": {\r\n        \"flowForm\": \"流程分類\",\r\n        \"code\": \"編號\",\r\n        \"name\": \"名稱\",\r\n        \"base\": \"類型\",\r\n        \"foundation\": \"基礎\",\r\n        \"extend\": \"擴展\",\r\n        \"selectedRow\": \"尚未選擇流程分類\",\r\n        \"absent\": \"流程分類已經不存在\",\r\n        \"lineNumber\": \"序號\",\r\n        \"clickCancel\": \"取消\",\r\n        \"clickOK\": \"重新綁定\"\r\n      },\r\n      \"editComponentParameter\": {\r\n        \"code\": \"編號\",\r\n        \"name\": \"名稱\",\r\n        \"required\": \"必填\",\r\n        \"yes\": \"是\",\r\n        \"no\": \"否\",\r\n        \"value\": \"參數值\",\r\n        \"openComponentFail\": \"獲取解析構件出錯\",\r\n        \"componentSelection\": \"構件選擇\",\r\n        \"curComponent\": \"請選擇流程構件\",\r\n        \"executionTime\": \"請選擇執行時機\",\r\n        \"para\": \"參數\",\r\n        \"paraRequired\": \"】必填\",\r\n        \"execuTime\": \"執行時機\",\r\n        \"parameterList\": \"參數列表\",\r\n        \"clickCancel\": \"取消\",\r\n        \"clickOK\": \"確定\"\r\n      },\r\n      \"customizeAction\": {\r\n        \"customizeAction\": \"自定義動作\",\r\n        \"app\": \"移動\",\r\n        \"web\": \"web\",\r\n        \"all\": \"web,移動\",\r\n        \"name\": \"名稱\",\r\n        \"code\": \"編號\",\r\n        \"terminalType\": \"適用終端\",\r\n        \"isAll\": \"是否默認\",\r\n        \"yes\": \"是\",\r\n        \"no\": \"否\",\r\n        \"paramName\": \"編號\",\r\n        \"valueText\": \"名稱\",\r\n        \"value\": \"參數值\",\r\n        \"addActions\": \"自定義動作選擇\",\r\n        \"actionExisted\": \"新增的自定義動作已經存在！\",\r\n        \"selectedRow\": \"請首先選中一條選項！\",\r\n        \"set\": \"（已設置）\",\r\n        \"notSet\": \"（未設置）\",\r\n        \"add\": \"新增\",\r\n        \"delete\": \"刪除\",\r\n        \"parameterList\": \"參數列表\",\r\n        \"clickCancel\": \"取消\",\r\n        \"clickOK\": \"確定\"\r\n      },\r\n      \"checkCondition\": {\r\n        \"zhChs\": \"簡體中文\",\r\n        \"zhCht\": \"繁體中文\",\r\n        \"en\": \"英文\",\r\n        \"checkCondition\": \"活動校驗規則\",\r\n        \"set\": \"（已設置）\",\r\n        \"notSet\": \"（未設置）\",\r\n        \"nodeEntry\": \"節點進入\",\r\n        \"activityBeforeStarted\": \"節點進入條件\",\r\n        \"enterErrorTips\": \"進入條件不匹配提示語\",\r\n        \"activityBeforeCompleted\": \"節點離開\",\r\n        \"activityBeforeCompletedValue\": \"節點離開條件\",\r\n        \"leaveErrorTips\": \"離開條件不匹配提示語\",\r\n        \"clickCancel\": \"取消\",\r\n        \"clickOK\": \"確定\"\r\n      },\r\n      \"batchSet\": {\r\n        \"targetNode\": \"目標節點\",\r\n        \"addSignFront\": \"徵詢\",\r\n        \"addSignBehind\": \"加簽\",\r\n        \"transfer\": \"移交\",\r\n        \"notify\": \"知會\",\r\n        \"backWardRule\": \"駁回規則\",\r\n        \"name\": \"名稱\"\r\n      },\r\n      \"subProcess\": {\r\n        \"subProcessSet\": \"子流程設置\",\r\n        \"specified\": \"指定子流程\",\r\n        \"dynamic\": \"動態子流程\",\r\n        \"inheritParent\": \"與父流程相同\",\r\n        \"autoCreation\": \"自动生成下游單據\",\r\n        \"variablesExpression\": \"變量表達式\",\r\n        \"rteNull\": \"請選中一條生單流程\",\r\n        \"orderProcess\": \"生單流程\",\r\n        \"clickOk\": \"確定\",\r\n        \"clickCancel\": \"取消\",\r\n        \"inheritBizDataId\": \"當子流程與父流程單據不一致時，請設置子流程單據內碼！\",\r\n        \"set\": \"（已設置）\",\r\n        \"notSet\": \"（未設置）\",\r\n        \"radioGroupProcessType\": \"子流程類型\",\r\n        \"flowForm\": \"流程分類\",\r\n        \"processDef\": \"流程定義\",\r\n        \"radioGroupBillSource\": \"單據來源\",\r\n        \"autoCreationProcess\": \"生單流程\",\r\n        \"bizDataId\": \"單據內碼\",\r\n        \"setOption\": \"設置選項\",\r\n        \"SameParentProcess\": \"與父流程同一張業務單據\",\r\n        \"setBizDataId\": \"設置單據內碼\",\r\n        \"subProcessOpt\": \"子流程選項\"\r\n      },\r\n      \"backwardRule\": {\r\n        \"reEdit\": \"駁回活動節點已不存在，請重新編輯\",\r\n        \"backwardRule\": \"駁回規則\",\r\n        \"initialActityId\": \"開始節點\",\r\n        \"precursorActivityId\": \"前置節點\",\r\n        \"empty\": \"空\",\r\n        \"name\": \"名稱\",\r\n        \"id\": \"標識\",\r\n        \"sequence\": \"順序流轉\",\r\n        \"backToMe\": \"返回我\",\r\n        \"backToCurrentNode\": \"返回本節點\",\r\n        \"popover\": \"1.順序流轉:按照流轉線順序進行流轉; 2.返回我:完成策略為搶佔：只給駁回人創建任務,完成策略為會簽：駁回人與未審批人收到新任務，已審批人員自動審批通過; 3.返回本節點:實際效果受“再次進入節點時，辦理人是否是節點已辦人員影響”選項的影響\",\r\n        \"selectAbleClick\": \"會簽策略下，不允許動態選擇駁回目標節點!\",\r\n        \"dictPicked\": \"“駁回至空”選項請搭配“允許動態選擇駁回目標節點”使用\",\r\n        \"set\": \"（已設置）\",\r\n        \"notSet\": \"（未設置）\",\r\n        \"rejectedTo:\": \"駁回至：\",\r\n        \"backScope\": \"駁回範圍\",\r\n        \"defaultPrompt\": \"默認選取全部歷史駁回節點\",\r\n        \"title\": \"活動列表\",\r\n        \"dynamicSelection\": \"允許修改返回設置\",\r\n        \"resubmitEffectOptions\": \"返回設置\",\r\n        \"popover1\": \"1.順序流轉:按照流轉線順序進行流轉; \",\r\n        \"popover2\": \"2.返回我:完成策略為搶佔：只給駁回人創建任務,完成策略為會簽：駁回人與未審批人收到新任務，已審批人員自動審批通過;\",\r\n        \"popover3\": \"3.返回本節點:實際效果受“再次進入節點時，辦理人是否是節點已辦人員影響”選項的影響\",\r\n        \"allowModification\": \"允許修改返回設置\",\r\n        \"clickCancel\": \"取消\",\r\n        \"clickOk\": \"確定\"\r\n      },\r\n      \"assignStrategy\": {\r\n        \"all\": \"所有\",\r\n        \"assign\": \"指派\",\r\n        \"claim\": \"領用\",\r\n        \"currentUser\": \"當前辦理人\",\r\n        \"procInstCreator\": \"流程發起人\",\r\n        \"assignStrategy\": \"分配策略\",\r\n        \"option\": \"選項\",\r\n        \"assignmentRules\": \"指派規則\",\r\n        \"operator\": \"指派操作人\",\r\n        \"multiSelect\": \"允許選擇多個待選用戶\",\r\n        \"necessary\": \"只有一個待選用戶時，仍需手工選擇\",\r\n        \"clickCancel\": \"取消\",\r\n        \"clickOK\": \"確定\"\r\n      },\r\n      \"assignScope\": {\r\n        \"assignScopeList\": \"指派節點列表\",\r\n        \"required\": \"必填\",\r\n        \"yes\": \"是\",\r\n        \"no\": \"否\",\r\n        \"condition\": \"條件\",\r\n        \"add\": \"增加\",\r\n        \"delete\": \"刪除\",\r\n        \"name\": \"名稱\",\r\n        \"deleteRow\": \"請首先選中壹條選項！\",\r\n        \"curActivity\": \"尚未選中行\",\r\n        \"set\": \"（已設置）\",\r\n        \"notSet\": \"（未設置）\",\r\n        \"nodeList\": \"節點列表\",\r\n        \"moveUp\": \"上移\",\r\n        \"moveDown\": \"下移\",\r\n        \"clickCancel\": \"取消\",\r\n        \"clickOK\": \"確定\"\r\n      },\r\n      \"assignPerformer\": {\r\n        \"currentUser\": \"當前辦理人\",\r\n        \"procInstCreator\": \"流程發起人\",\r\n        \"global\": \"全員\",\r\n        \"currentUnit\": \"本單位\",\r\n        \"currentDepartment\": \"本部門\",\r\n        \"assignPerformer\": \"指派規則\",\r\n        \"set\": \"（已設置）\",\r\n        \"operator\": \"指派操作人\",\r\n        \"multiSelect\": \"允許選擇多個待選用戶\",\r\n        \"necessary\": \"只有一個待選用戶時，仍需手工選擇\",\r\n        \"clickCancel\": \"取消\",\r\n        \"clickOK\": \"確定\"\r\n      },\r\n      \"approvelItems\": {\r\n        \"approvalOptions\": \"審批選項\",\r\n        \"forward\": \"正向\",\r\n        \"backward\": \"反向\",\r\n        \"abort\": \"終止\",\r\n        \"value\": \"編號\",\r\n        \"text\": \"名稱\",\r\n        \"workFlowAction\": \"流轉方向\",\r\n        \"isDefault\": \"默認\",\r\n        \"no\": \"否\",\r\n        \"yes\": \"是\",\r\n        \"commentNecessary\": \"意見必填\",\r\n        \"attachmentNecessary\": \"附件上傳\",\r\n        \"certification\": \"數字簽名\",\r\n        \"signatureNecessary\": \"手寫簽名必填\",\r\n        \"defaultComment\": \"默認意見\",\r\n        \"zh-CHS\": \"中文簡體\",\r\n        \"zh-CHT\": \"中文繁體\",\r\n        \"en\": \"英文\",\r\n        \"workFlowActionNotNull\": \"審批項流轉方向不允許為空，請修改！\",\r\n        \"deleteRow\": \"請首先選中壹條選項！\",\r\n        \"set\": \"（已設置）\",\r\n        \"notSet\": \"（未設置）\",\r\n        \"add\": \"新增\",\r\n        \"delete\": \"刪除\",\r\n        \"clickCancel\": \"取消\",\r\n        \"clickOK\": \"確定\",\r\n        \"approvalAction\": \"審批動作\",\r\n        \"lineNumber\": \"序號\"\r\n      },\r\n      \"approvalPivot\": {\r\n        \"remind\": \"文字提示\",\r\n        \"type\": \"類型\",\r\n        \"condition\": \"條件\",\r\n        \"title\": \"顯示名稱\",\r\n        \"description\": \"詳細說明\",\r\n        \"approvalPivot\": \"審批要點\",\r\n        \"selectedRow\": \"尚未選中審批要點！\",\r\n        \"configTitle\": \"尚未填寫顯示標題！\",\r\n        \"set\": \"（已設置）\",\r\n        \"notSet\": \"（未設置）\",\r\n        \"enable\": \"是否啟用\",\r\n        \"expand\": \"是否展開\",\r\n        \"showTitle\": \"顯示標題\",\r\n        \"list\": \"列表\",\r\n        \"add\": \"新增\",\r\n        \"delete\": \"刪除\",\r\n        \"clickCancel\": \"取消\",\r\n        \"clickOK\": \"確定\"\r\n      },\r\n      \"anonymousSet\": {\r\n        \"anonymousOpt\": \"匿名選項\",\r\n        \"approver\": \"審批人\",\r\n        \"set\": \"（已設置）\",\r\n        \"notSet\": \"（未設置）\",\r\n        \"anonymousSet\": \"匿名設置\",\r\n        \"isAnonymity\": \"是否啟用\",\r\n        \"anonymous\": \"匿名代稱\",\r\n        \"clickCancel\": \"取消\",\r\n        \"clickOK\": \"確定\"\r\n      },\r\n      \"activityList\": {\r\n        \"name\": \"名稱\",\r\n        \"checkeds\": \"尚未選擇活動節點\",\r\n        \"lineNumber\": \"序號\",\r\n        \"clickCancel\": \"取消\",\r\n        \"clickOK\": \"確定\"\r\n      },\r\n      \"activityComponent\": {\r\n        \"component\": \"構件\",\r\n        \"method\": \"構件方法\",\r\n        \"inconsistentParameters\": \"參數不壹致，請檢查\",\r\n        \"longerExists\": \"構件已不存在此構件方法\",\r\n        \"absent\": \"取消\",\r\n        \"pleaseCheck\": \"，請檢查\",\r\n        \"edit\": \"編輯\",\r\n        \"deleteRow\": \"刪除\",\r\n        \"executionTime\": \"執行時機\",\r\n        \"cmpName\": \"構件名稱\",\r\n        \"metadataId\": \"構件ID\",\r\n        \"methodCode\": \"構件方法\",\r\n        \"isForCompensation\": \"補償操作\",\r\n        \"yes\": \"是\",\r\n        \"no\": \"否\",\r\n        \"operate\": \"操作\",\r\n        \"code\": \"編號\",\r\n        \"name\": \"名稱\",\r\n        \"value\": \"參數值\",\r\n        \"editComponent\": \"編輯構件\",\r\n        \"confirmDelete\": \"確認是否刪除構件？\",\r\n        \"curComponent\": \"尚未選中構件！\",\r\n        \"newComponent\": \"新建構件\",\r\n        \"sameCmp\": \"存在相同的流程構件\",\r\n        \"cmpMethod\": \"構件方法：\",\r\n        \"executionTimeNotNull\": \"構件執行時機不允許為空！\",\r\n        \"param\": \"的參數\",\r\n        \"required\": \"必填\",\r\n        \"set\": \"（已設置）\",\r\n        \"notSet\": \"（未設置）\",\r\n        \"PROCESSINSTANCE_STARTED\": \"流程啟動\",\r\n        \"PROCESSINSTANCE_SUSPENDED\": \"流程挂起\",\r\n        \"PROCESSINSTANCE_RESUMED\": \"流程恢復\",\r\n        \"PROCESSINSTANCE_COMPLETED\": \"流程完成\",\r\n        \"PROCESSINSTANCE_ABORTED\": \"流程終止\",\r\n        \"PROCESSINSTANCE_CANCELED\": \"流程取消\",\r\n        \"PROCESSINSTANCE_REACTIVATED\": \"流程復活\",\r\n        \"PROCESSINSTANCE_ROLLBACK\": \"流程驳回\",\r\n        \"PROCESSINSTANCE_RESUBMIT\": \"重新提交\",\r\n        \"ACTIVITY_AND_PARTICIPANT_UPDATED\": \"環節辦理人變更\",\r\n        \"PROCESSINSTANCE_ABORTED_BY_ADMIN\": \"管理員終止\",\r\n        \"PROCESSINSTANCE_BEFORE_START\": \"流程啟動前\",\r\n        \"WORKITEM_BEFORE_COMPLETE\": \"任務完成前\",\r\n        \"WORKITEM_AFTER_COMPLETE\": \"任務完成後\",\r\n        \"LOADDATA\": \"獲取數據\",\r\n        \"ACTIVITY_STARTED\": \"活動啟動\",\r\n        \"ACTIVITY_COMPLETED\": \"活動完成\",\r\n        \"ACTIVITY_ABORTED\": \"活動終止\",\r\n        \"WORKITEM_CREATED\": \"工作項創建\",\r\n        \"WORKITEM_COMPLETED\": \"工作項完成\",\r\n        \"WORKITEM_SUSPENDED\": \"工作項挂起\",\r\n        \"WORKITEM_RESUMED\": \"工作項恢復\",\r\n        \"WORKITEM_ABORTED\": \"工作項終止\",\r\n        \"WORKITEM_RETRIEVED\": \"工作項取回\",\r\n        \"WORKITEM_CLAIMED\": \"工作項領用\",\r\n        \"WORKITEM_UNCLAIMED\": \"工作項反領用\",\r\n        \"ACTIVITY_ASSIGNMENT\": \"任務分配前\",\r\n        \"deleteNotAllowed\": \"取數構件不允許刪除，請了解！\",\r\n        \"tips\": \"提示：\",\r\n        \"prefabricated\": \"已經預製外部流程構件，此處只保留取數構件\",\r\n        \"add\": \"新增\",\r\n        \"moveUp\": \"上移\",\r\n        \"moveDown\": \"下移\",\r\n        \"clickCancel\": \"取消\",\r\n        \"clickOK\": \"確定\"\r\n      }\r\n    }\r\n  }\r\n}\r\n","import { Component, OnInit, Input, ViewChild, ElementRef, Injector, ComponentFactoryResolver, HostBinding, Output, EventEmitter, TemplateRef, ViewContainerRef, ChangeDetectorRef, Optional, LOCALE_ID, Inject } from '@angular/core';\r\nimport { ProcessTime } from './model/process-time';\r\nimport { ProcessDesignerUIState } from './app/process-designer.uistate';\r\nimport { FlowFormInfo } from './domain/entities/flowform-info';\r\nimport { ProcessDesignerViewModel } from './app/process-designer.viewmodel';\r\nimport { BizComponentEntity } from './domain/entities/biz-component.entity';\r\nimport { ExecuteFormModel, TerminalType } from './views/execute-forms/entities/execute-form.entity';\r\nimport { ExcuteFormEntity } from './domain/entities/excute-form.entity';\r\nimport { ModalOptions, BsModalService } from '@farris/ui-modal';\r\nimport { BackWardRule } from './views/backward-rule/backward-rule.entity';\r\nimport { ProcessDesignerDataService } from './domain/process-designer.dataservice';\r\nimport { LoadingService } from '@farris/ui-loading';\r\nimport { NotifyService, NotifyOptions } from '@farris/ui-notify';\r\nimport { MessagerService } from '@farris/ui-messager';\r\nimport { WFFlowElementsViewModel } from './app/wf-flowElements.viewModel';\r\nimport { HttpErrorResponse } from '@angular/common/http';\r\nimport { PropertyPanelComponent, ShowMode } from '@farris/ide-property-panel';\r\nimport { SignRuleComponent } from './views/sign-rule/sign-rule.component';\r\nimport { ProcessInfo } from './model/process-info';\r\nimport { RTProcessInfo } from './model/rt-process-info';\r\nimport { forkJoin, Observable, of } from 'rxjs';\r\nimport { AuditEvent } from './domain/entities/audit-processDef-info';\r\nimport { NoteComponent } from './views/note/note.component';\r\nimport { ProcessDeUtil } from './domain/process-de-util';\r\nimport { FlowFormEntity } from './domain/entities/flowform.entity';\r\nimport { EventBusService } from './views/shared/event-bus.service';\r\nimport { VerifyDetailService } from '@farris/ui-verify-detail';\r\nimport { AssignScopeComponent } from './views/assign-scope/assign-scope.component';\r\nimport { WfEditorUi } from './designer/WfEditorUi';\r\nimport { PmfEvents, Cell } from \"@edp-pmf/grapheditor\";\r\nimport { BpmnModel } from \"@edp-pmf/bpmn-model\";\r\nimport { MxGraphNS, mxEvent } from \"@edp-pmf/mxgraph-ts\";\r\nimport { WfValidatorAdapter } from \"./designer/WfValidatorAdapter\";\r\nimport { ProcessHeader, StartMode } from \"@gsp-wf/wf-process-model\";\r\nimport { EventBusKeys } from './model/event-bus-keys';\r\nimport { ProcessPropertyKeys } from './designer/wf-cell/property-keys/ProcessPropertyKeys';\r\nimport { UserActivityPropertyKeys } from './designer/wf-cell/property-keys/UserActivityPropertyKeys';\r\nimport { MessageActivityPropertyKeys } from './designer/wf-cell/property-keys/MessageActivityPropertyKeys';\r\nimport { StartActivityPropertyKeys } from './designer/wf-cell/property-keys/StartActivityPropertyKeys';\r\nimport { NotifyActivityPropertyKeys } from './designer/wf-cell/property-keys/NotifyActivityPropertyKeys';\r\nimport { delay, switchMap } from 'rxjs/operators';\r\nimport { WF_LANG_RESOURCES, WfLocalePipe } from './i18n/pipe/wf-process-editor-locale.pipe';\r\nimport { WF_PROCESS_EDITOR_LANG_RESOURCES } from './i18n/assets/lang.resource';\r\nimport { BatchSetPropertiesComponent } from './views/batch-set-properties/batch-set-properties.component';\r\n@Component({\r\n  selector: 'wf-process-editor',\r\n  templateUrl: './wf-process-editor.component.html',\r\n  styles: [`\r\n    .bpmn-designer {\r\n      height: 100%;\r\n      min-height: 400px;\r\n      width: 100%;\r\n    }`\r\n  ],\r\n  providers: [\r\n    { provide: WF_LANG_RESOURCES, useValue: WF_PROCESS_EDITOR_LANG_RESOURCES },\r\n    WfLocalePipe,\r\n  ]\r\n})\r\n\r\nexport class WfProcessEditorComponent implements OnInit {\r\n  private flag = true;\r\n\r\n  @HostBinding('class')\r\n  cls = 'farris-main-area flex-column';\r\n\r\n  private _time: ProcessTime;\r\n  @Input()\r\n  set time(t: ProcessTime) {\r\n    this._time = t;\r\n    this.uiState.time = t;\r\n  }\r\n  get time(): ProcessTime {\r\n    return this._time;\r\n  }\r\n\r\n  @Input()\r\n  processInfo: ProcessInfo;\r\n\r\n  @Input()\r\n  rtProcessInfo: RTProcessInfo;\r\n\r\n  @Input()\r\n  action: 'view' | 'edit' | 'assignView' = 'edit';\r\n\r\n  @Input()\r\n  mode: 'general' | 'simplify' = 'general';\r\n\r\n  @Input()\r\n  set scene(v: string) {\r\n    this.uiState.scene = v;\r\n  }\r\n  get scene() {\r\n    return this.uiState.scene;\r\n  }\r\n\r\n  @Input()\r\n  procType: \"wf\" | \"whole\" = \"wf\";\r\n\r\n  @Output() close = new EventEmitter<any>();\r\n\r\n  @ViewChild('propertyPanel')\r\n  propertyPanel: PropertyPanelComponent;\r\n  @ViewChild('tipsTmpl')\r\n  tipsTmpl: TemplateRef<any>;\r\n  @ViewChild('iframe')\r\n  iframe: ElementRef;\r\n  errorList = [];\r\n  tabTypeList = [\r\n    {\r\n      id: 'processWarning',\r\n      type: 'processWarning',\r\n      title: this.localePipe.instant(\"processEditor.tip\"),\r\n      iconCls: 'f-icon-default',\r\n      iconStyle: 'color:#f49730;'\r\n    }\r\n  ];\r\n  @ViewChild('content') contentEl;\r\n  verifyContainer;\r\n  listclick;\r\n  showchange;\r\n  panelWidth = 330;\r\n  propertyPanelResizable = true;\r\n  rightPanelWidth = 330; // 右侧面板宽度\r\n  clientWidth: number; // 界面总宽度\r\n  widthAfterResized: number; // 用户调整后的宽度（比例，如0.3）\r\n  private verifySer: VerifyDetailService;\r\n  procNameTitle: string;\r\n  @ViewChild(\"editorUiContainer\")\r\n  editorUiContainerER: ElementRef<HTMLDivElement>;\r\n  @ViewChild(\"editorUiContainer\", { read: ViewContainerRef })\r\n  editorUiContainerVCR: ElementRef<HTMLDivElement>;\r\n  editorUi: WfEditorUi;\r\n  // localeId: string = \"zh-CHS\";\r\n\r\n  /**\r\n   * 界面是否发生变化标志，修改属性、移动节点等均会将此值设为true\r\n   */\r\n  changedFlag = false;\r\n\r\n  constructor(\r\n    public uiState: ProcessDesignerUIState,\r\n    private viewModel: ProcessDesignerViewModel,\r\n    public service: ProcessDesignerDataService,\r\n    private loadService: LoadingService,\r\n    private notify: NotifyService,\r\n    private message: MessagerService,\r\n    private activity: WFFlowElementsViewModel,\r\n    private injector: Injector,\r\n    private modalService: BsModalService,\r\n    private resolver: ComponentFactoryResolver,\r\n    private eventBus: EventBusService,\r\n    @Optional() private cdr: ChangeDetectorRef,\r\n    @Inject(LOCALE_ID) private localeId: string,\r\n    @Inject(WF_LANG_RESOURCES) private resources: any,\r\n    @Optional() private localePipe: WfLocalePipe,\r\n  ) {\r\n    this.localePipe = this.localePipe || new WfLocalePipe(localeId, resources);\r\n    this.cdr = this.cdr || this.injector.get(ChangeDetectorRef, null);\r\n    this.verifySer = this.injector.get(VerifyDetailService);\r\n    this.localeId = this.injector.get(LOCALE_ID, null) || this.localeId;\r\n    WfValidatorAdapter.localePipe = this.localePipe;\r\n    forkJoin(this.uiState.getEnableAdminOrgAut(), this.uiState.getEnableFlowFormAut()).subscribe(re => {\r\n      this.uiState.enableAdminOrgAut = re[0];\r\n      this.uiState.enableFlowFormAut = re[1];\r\n      if (!this.uiState.enableAdminOrgAut) {\r\n        this.uiState.getAdministratorInfo();\r\n      }\r\n    });\r\n  }\r\n  showModelButton = false;\r\n  ngOnInit() {\r\n    this.procNameTitle = this.processInfo?this.processInfo.processName:this.rtProcessInfo.procName;\r\n    if(this.rtProcessInfo && this.rtProcessInfo.rtProcDefId) {\r\n      this.uiState.procDefId = this.rtProcessInfo.rtProcDefId;\r\n    }\r\n    this.addEventBusListener();\r\n    this.uiState.initUIState();\r\n    this.showLoading();\r\n    this.addPropertyChangedHandler();\r\n    // 获取消息列表\r\n    this.uiState.getMessageChannels();\r\n    focus();\r\n    document.body.addEventListener('keydown', (n) => {\r\n      if (!this.showModelButton && n.shiftKey && 'Slash' === n.code) {\r\n        this.showModelButton = true;\r\n        this.notify.success(this.localePipe.transform(\"processEditor.showButton\"));\r\n        this.viewProcModel();\r\n      }\r\n    });\r\n    this.cdr && this.cdr.detectChanges();\r\n    this.createEditorUi();\r\n  }\r\n\r\n  createEditorUi() {\r\n    this.service.getGeneralConfig().subscribe(\r\n      (generalConfig) => {\r\n        const processCategoryId: string = this._time === ProcessTime.rt ? this.rtProcessInfo.flowFormId : this.processInfo.flowFormId;\r\n        this.viewModel.getProcessCategory(processCategoryId).subscribe(\r\n          (procCategory: FlowFormEntity) => {\r\n            const bizCategoryId = this._time === ProcessTime.dt ? procCategory.businessObjectId : undefined;\r\n            this.service.getFormFormat(bizCategoryId).pipe(\r\n              switchMap(\r\n                (formFormats) => {\r\n                  this.cdr && this.cdr.detectChanges();\r\n                  this.editorUi = new WfEditorUi(this._time, this.action, this.editorUiContainerER.nativeElement,\r\n                  this.injector, this.modalService, this.resolver);\r\n                  this.editorUi.multiLangEnabled = true;\r\n                  this.editorUi.langCode = this.localeId;\r\n                  this.editorUi.bizCategoryId = bizCategoryId;\r\n                  this.editorUi.mode = this.mode;\r\n                  this.editorUi.scene = this.uiState.scene;\r\n                  this.editorUi.procType = this.procType;\r\n                  this.editorUi.generalConfig = generalConfig;\r\n                  this.editorUi.formFormats = formFormats;\r\n                  return of({});\r\n                }\r\n              )\r\n            )\r\n              // 2023-5-30 为了解决网络较差场景下的加载问题修改了加载顺序\r\n              .pipe(delay(200))\r\n              .subscribe(() => {\r\n                this.openProcContent();\r\n              });\r\n          }\r\n        );\r\n      }\r\n    );\r\n  }\r\n\r\n  addEditorUiListeners(editorUi: WfEditorUi) {\r\n    editorUi.addListener(PmfEvents.ShowProperty, (sender, evt: MxGraphNS.mxEventObject) => {\r\n      const cells: Cell[] = evt.getProperty(\"cells\");\r\n      this.viewModel.setProperty(this.editorUi.getFarrisPropConfig(cells));\r\n    });\r\n    // 工具箱节点拖动至画布后更新\r\n    editorUi.graph.addListener(PmfEvents.CellsInserted, (sender, evt: MxGraphNS.mxEventObject) => {\r\n      this.uiState.getUserActList(this.editorUi.getActivities());\r\n      this.uiState.getNotifyEventList(this.editorUi.getNotifyEvents());\r\n      this.uiState.getEndEventList(this.editorUi.getEndEvents());\r\n    });\r\n    // 删除节点时触发更新\r\n    editorUi.graph.addListener(mxEvent.CELLS_REMOVED, () => {\r\n      this.uiState.getUserActList(this.editorUi.getActivities());\r\n      this.uiState.getNotifyEventList(this.editorUi.getNotifyEvents());\r\n      this.uiState.getEndEventList(this.editorUi.getEndEvents());\r\n    });\r\n  }\r\n\r\n  /**\r\n   * 添加事件总线监听\r\n   */\r\n  private addEventBusListener() {\r\n    this.eventBus.on(EventBusKeys.batchCopyProperty, data => {\r\n      if (data) {\r\n        this.editorUi.batchCopyProperty(data);\r\n      }\r\n    });\r\n    this.eventBus.on(EventBusKeys.batchSetProperty, data => {\r\n      if (data) {\r\n        this.editorUi.batchSetProperty(data);\r\n      }\r\n    });\r\n  }\r\n\r\n  private addPropertyChangedHandler(): boolean {\r\n    this.propertyPanel.propertyChanged.subscribe((data: any) => {\r\n      this.updateChangeProperty(data);\r\n    });\r\n    this.propertyPanel.submitModal.subscribe((data: any) => {\r\n      this.updateChangeProperty(data.changeObject, data.parameters);\r\n    });\r\n\r\n    return false; // 防止冒泡\r\n  }\r\n\r\n  /**\r\n   * 更新属性\r\n   */\r\n  private updateChangeProperty(data, parameters = null): any {\r\n    // 更新界面变更状态\r\n    this.changedFlag = false;\r\n\r\n    data.Id = this.uiState.propertyData.Id;\r\n    if (parameters) {\r\n      data.parameters = parameters;\r\n    }\r\n    switch (data.propertyID) {\r\n      case ProcessPropertyKeys.EntryForm:\r\n        this.bindEntryFormInfo(data);\r\n        break;\r\n      case UserActivityPropertyKeys.ApprovalItems:\r\n        this.editorUi.updateProperty(data);\r\n        this.activity.buildCounterSignVariables(data.propertyValue);\r\n        break;\r\n      case UserActivityPropertyKeys.CompleteStrategy:\r\n        this.beforeCompleteStrategyChange(data).subscribe(b => {\r\n          if (b) {\r\n            this.editorUi.updateProperty(data);\r\n            this.completeStrategyChanged(data.propertyValue);\r\n          }\r\n          this.viewModel.setProperty(this.editorUi.refreshProperty(data));\r\n        });\r\n        break;\r\n      // todo：多个活动具有同名属性时，如何更合理定义PropertyKey？\r\n      // case UserActivityPropertyKeys.otherAssignNodes:\r\n      // case StartActivityPropertyKeys.otherAssignNodes:\r\n      //   if (data.propertyValue) {\r\n      //     this.editorUi.updateProperty(data);\r\n      //     this.OtherAssignNodesChanged(data);\r\n      //   } else {\r\n      //     this.editorUi.updateProperty(data);\r\n      //   }\r\n      //   break;\r\n      case UserActivityPropertyKeys.SignRule:\r\n        this.editorUi.updateProperty(data);\r\n        break;\r\n      // todo：多个活动具有同名属性时，如何更合理定义PropertyKey？\r\n      case ProcessPropertyKeys.messageNotice: // 消息通知\r\n      case UserActivityPropertyKeys.messageNotice: // 消息通知\r\n      case MessageActivityPropertyKeys.messageNotice: // 消息通知\r\n      case NotifyActivityPropertyKeys.messageNotice: // 消息通知\r\n        if (data.propertyValue.isBatchCopy) { // 是否是消息通知属性批量复制\r\n          this.editorUi.batchCopyProperty(data);\r\n          break;\r\n        }\r\n        this.editorUi.updateProperty(data);\r\n        break;\r\n      case ProcessPropertyKeys.startMode:\r\n        this.updateStartMode(data);\r\n        break;\r\n      default:\r\n        this.editorUi.updateProperty(data);\r\n        break;\r\n    }\r\n    this.uiState.getUserActList(this.editorUi.getActivities());\r\n    this.uiState.getEndEventList(this.editorUi.getEndEvents());\r\n    this.uiState.getNotifyEventList(this.editorUi.getNotifyEvents());\r\n    this.uiState.getStartMode(this.editorUi.getStartMode());\r\n    if(this.editorUi.getStartMode() == StartMode.SUB_PROCESS) {\r\n      this.uiState.subActivityContext = this.uiState.subActivityContext.concat(this.uiState.subProcessElementContext);\r\n    }else {\r\n      this.uiState.subActivityContext = this.uiState.subActivityContext.filter(x => this.uiState.subProcessElementContext.some(y => y.key != x.key))\r\n    }\r\n    this.viewModel.setProperty(this.editorUi.refreshProperty(data));\r\n  }\r\n\r\n  /**\r\n   * 绑定流程分类的参数列表，流程构件，表单赋值\r\n   * @param data\r\n   */\r\n  private bindEntryFormInfo(data) {\r\n    const flowformId: string = data.propertyValue.id;\r\n    if (flowformId) {\r\n      this.viewModel.getFlowFormInfoById(flowformId).subscribe((info: FlowFormInfo) => {\r\n        data.flowForm = info.flowForm;\r\n        data.formalParameters = info.formalParameters;\r\n        data.processBizComponnets = info.bizComponents;\r\n        data.executeForms = [];\r\n        info.excuteForms.forEach(form => {\r\n          if (form.isDefault) {\r\n            // 流程绑定默认单据\r\n            const executeForms = this.ConvertExecuteForm(form);\r\n            data.executeForms = data.executeForms.concat(executeForms);\r\n          }\r\n        });\r\n        data.customizeActions = info.customizeActions.filter(a => a.isAll === true).map(a => ({\r\n          id: a.id, code: a.code, name: a.name, terminalType: a.terminal,\r\n          actualParameters: a.actualParameters.map(p => ({\r\n            Name: p.code, Value: p.value, ValueText: p.name, Tag: 'expression'\r\n          }))\r\n        }));\r\n        // 加载业务活动面板\r\n        this.editorUi.loadBizActivities(info.bizActivities || []);\r\n        this.service.getBizCmp().subscribe((cmps) => {\r\n          data.bizCmps = cmps;\r\n          this.editorUi.updateProperty(data);\r\n\r\n          this.uiState.getUserActList(this.editorUi.getActivities());\r\n          this.uiState.getEndEventList(this.editorUi.getEndEvents());\r\n          this.uiState.getNotifyEventList(this.editorUi.getNotifyEvents());\r\n          this.uiState.getStartMode(this.editorUi.getStartMode());\r\n          if(this.editorUi.getStartMode() == StartMode.SUB_PROCESS) {\r\n            this.uiState.subActivityContext = this.uiState.subActivityContext.concat(this.uiState.subProcessElementContext);\r\n          }else {\r\n            this.uiState.subActivityContext = this.uiState.subActivityContext.filter(x => this.uiState.subProcessElementContext.some(y => y.key != x.key))\r\n          }\r\n          this.viewModel.setProperty(this.editorUi.refreshProperty(data));\r\n        });\r\n      });\r\n    }\r\n  }\r\n\r\n  updateStartMode(data: any) {\r\n    const bpmnModel = this.editorUi.graph.bpmnModel;\r\n    const extendElements = bpmnModel.DefaultProcess.GetExtensionElements();\r\n    if (extendElements !== null && extendElements.length > 0) {\r\n      const procHeader = extendElements.filter(e => e instanceof ProcessHeader) as ProcessHeader[];\r\n      let flowFormKey = procHeader[0].BizDefKey;\r\n      this.service.getAllBizCmp(flowFormKey).subscribe((allBizCmps) => {\r\n        this.service.getBizCmp().subscribe((bizCmps) => {\r\n          data.allBizCmps = allBizCmps;\r\n          data.bizCmps = bizCmps;\r\n\r\n          this.editorUi.updateProperty(data);\r\n\r\n          this.uiState.getUserActList(this.editorUi.getActivities());\r\n          this.uiState.getEndEventList(this.editorUi.getEndEvents());\r\n          this.uiState.getStartMode(this.editorUi.getStartMode());\r\n          if(this.editorUi.getStartMode() == StartMode.SUB_PROCESS) {\r\n            this.uiState.subActivityContext = this.uiState.subActivityContext.concat(this.uiState.subProcessElementContext);\r\n          }else {\r\n            this.uiState.subActivityContext = this.uiState.subActivityContext.filter(x => this.uiState.subProcessElementContext.some(y => y.key != x.key))\r\n          }\r\n          this.viewModel.setProperty(this.editorUi.refreshProperty(data));\r\n        });\r\n      });\r\n    }\r\n  }\r\n\r\n  private note(record: string) {\r\n    const compFactory = this.resolver.resolveComponentFactory(NoteComponent);\r\n    const compRef = compFactory.create(this.injector);\r\n\r\n    compRef.instance.record = record;\r\n\r\n    const modalConfig: ModalOptions = {\r\n      title: this.localePipe.transform(\"processEditor.changeRecord\"),\r\n      width: 800,\r\n      height: 520,\r\n      showButtons: true,\r\n      buttons: compRef.instance.footer\r\n    };\r\n    const dialog = this.modalService.show(compRef, modalConfig);\r\n    compRef.instance.cancel.subscribe($event => dialog.close());\r\n    compRef.instance.submit.subscribe((data: string) => {\r\n      // 更新流程记录\r\n      this.editorUi.graph.bpmnModel.DefaultProcess.Documentation = data;\r\n      dialog.close();\r\n    });\r\n  }\r\n\r\n  private openProcContent() {\r\n    if (this.time === ProcessTime.dt) {\r\n      if (this.processInfo) {\r\n        if (this.processInfo.processKey === EventBusKeys.new && this.processInfo.flowFormId) {\r\n          this.openNewProcess(this.processInfo.flowFormId);\r\n        } else {\r\n          // TODO：首先获取流程分类信息，确保流程分类和流程构件获取到（会稍微影响设计器打开速度）\r\n          this.viewModel.getFlowFormInfoById(this.processInfo.flowFormId).subscribe((info: FlowFormInfo) => {\r\n            this.editorUi.loadBizActivities(info.bizActivities || []);\r\n            this.getProcContent(this.processInfo.processKey).subscribe(re => {\r\n              this.uiState.content = this.checkModelContent(JSON.stringify(re));\r\n              this.openProcess(this.uiState.content);\r\n            });\r\n          });\r\n        }\r\n      } else {\r\n        throw new Error(this.localePipe.transform(\"processEditor.noDtInfo\"));\r\n      }\r\n    } else if (this.time === ProcessTime.rt) {\r\n      if (this.rtProcessInfo) {\r\n        this.viewModel.getFlowFormInfoById(this.rtProcessInfo.flowFormId).subscribe((info: FlowFormInfo) => {\r\n          this.editorUi.loadBizActivities(info.bizActivities || []);\r\n          this.getProcContent(this.rtProcessInfo.rtProcDefId).subscribe(re => {\r\n            this.uiState.content = this.checkModelContent(JSON.stringify(re));\r\n            this.openProcess(this.uiState.content);\r\n          });\r\n        });\r\n      } else {\r\n        throw new Error(this.localePipe.transform(\"processEditor.noRtInfo\"));\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 新增流程，基于流程分类获取参数列表，构件和表单\r\n   * @param ffId 流程分类ID\r\n   */\r\n  openNewProcess(ffId: string) {\r\n    this.viewModel.getFlowFormInfoById(ffId).subscribe(\r\n      (info: FlowFormInfo) => {\r\n        const processBizComponnets: BizComponentEntity[] = info.bizComponents;\r\n        const customizeActions = info.customizeActions.filter(a => a.isAll === true).map(a => ({\r\n          id: a.id, code: a.code, name: a.name, terminalType: a.terminal,\r\n          actualParameters: a.actualParameters.map(p => ({\r\n            Name: p.code, Value: p.value, ValueText: p.name, Tag: 'expression'\r\n          }))\r\n        }));\r\n        let executeForms: ExecuteFormModel[] = [];\r\n        info.excuteForms.forEach(form => {\r\n          if (form.isDefault) {\r\n            // 流程绑定默认单据\r\n            const forms = this.ConvertExecuteForm(form);\r\n            executeForms = executeForms.concat(forms);\r\n          }\r\n        });\r\n        // 如果不存在表单定义，需要去表单格式列表取一下\r\n        if (executeForms.length === 0\r\n          || executeForms.findIndex(e => e.TerminalType === TerminalType.PC) === -1\r\n          || executeForms.findIndex(e => e.TerminalType === TerminalType.MOBILE) === -1) {\r\n          this.viewModel.getFormFormatsByBizCategory().subscribe(\r\n            (formFormats: any[]) => {\r\n              if (formFormats && formFormats.length > 0) {\r\n                if (executeForms.findIndex(e => e.TerminalType === TerminalType.PC) === -1) {\r\n                  const formFormat = formFormats.filter(f => f.terminal === 'PC' && f.status === 0)[0];\r\n                  if (formFormat) {\r\n                    executeForms.push(this.formFormat2ExecuteForm(formFormat));\r\n                  }\r\n                }\r\n                if (executeForms.findIndex(e => e.TerminalType === TerminalType.MOBILE) === -1) {\r\n                  const formFormat = formFormats.filter(f => f.terminal === 'Mobile' && f.status === 0)[0];\r\n                  if (formFormat) {\r\n                    executeForms.push(this.formFormat2ExecuteForm(formFormat));\r\n                  }\r\n                }\r\n              }\r\n              const newProcInfo = {\r\n                name: this.processInfo.processName,\r\n                bizObjId: this.processInfo.bizObjId,\r\n                ffId: ffId,\r\n                ffName: this.processInfo.flowFormName,\r\n                startMode: this.processInfo.startMode,\r\n                formalParameters: info.formalParameters,\r\n                processBizComponnets: processBizComponnets,\r\n                executeForms: executeForms,\r\n                customizeActions: customizeActions,\r\n                processDescription: info.flowForm.processDescription,\r\n              };\r\n              this.createBpmnModel(info.bizActivities || [], newProcInfo);\r\n            }\r\n          );\r\n        } else {\r\n          const newProcInfo = {\r\n            name: this.processInfo.processName,\r\n            bizObjId: this.processInfo.bizObjId,\r\n            ffId: ffId,\r\n            ffName: this.processInfo.flowFormName,\r\n            startMode: this.processInfo.startMode,\r\n            formalParameters: info.formalParameters,\r\n            processBizComponnets: processBizComponnets,\r\n            executeForms: executeForms,\r\n            customizeActions: customizeActions,\r\n            processDescription: info.flowForm.processDescription,\r\n          };\r\n          this.createBpmnModel(info.bizActivities || [], newProcInfo);\r\n        }\r\n      }\r\n    );\r\n  }\r\n\r\n  createBpmnModel(bizActivities, newProcInfo) {\r\n    this.service.getBizCmp().subscribe(\r\n      (cmps: any) => {\r\n        // 2023-5-30 为了解决网络较差场景下的加载问题修改了加载顺序 先加载数据再showeditorUi\r\n        this.editorUi.show();\r\n        this.addEditorUiListeners(this.editorUi);\r\n        this.editorUi.loadBizActivities(bizActivities || []);\r\n        this.editorUi.createBpmnModel(newProcInfo, cmps);\r\n\r\n        this.service.getProcExtendProperty(newProcInfo.BizDefKey, newProcInfo.startMode, this.editorUi.bizCategoryId).subscribe(\r\n          (property: any) => {\r\n            const props = [];\r\n            property.forEach(p => {\r\n              if ((p.bizCategoryId || p.bizDefKey) && ((p.bizCategoryId.indexOf(this.editorUi.bizCategoryId) != -1 || p.bizCategoryId === '*') ||\r\n                (p.bizDefKey.indexOf(newProcInfo.BizDefKey) != -1 || p.bizDefKey === '*')) &&\r\n                (p.startMode.indexOf(newProcInfo.startMode) != -1 || p.startMode === '*')) {\r\n                props.push(p);\r\n              }\r\n            });\r\n            this.editorUi.procExtProps = props;\r\n\r\n\r\n            if (this.flag) {\r\n              this.flag = false;\r\n              this.closeLoading();\r\n            }\r\n            // 显示流程属性\r\n            this.viewModel.initProcessProperty(this.editorUi.getFarrisPropConfig());\r\n            // 获取启动方式\r\n            this.uiState.getStartMode(this.editorUi.getStartMode());\r\n            if(this.editorUi.getStartMode() == StartMode.SUB_PROCESS) {\r\n              this.uiState.subActivityContext = this.uiState.subActivityContext.concat(this.uiState.subProcessElementContext);\r\n            }else {\r\n              this.uiState.subActivityContext = this.uiState.subActivityContext.filter(x => this.uiState.subProcessElementContext.some(y => y.key != x.key))\r\n            }\r\n            this.uiState.bpmnModel = this.editorUi.graph.bpmnModel;\r\n\r\n            this.addGraphModelChangedListener();\r\n          }\r\n        );\r\n      }\r\n    );\r\n  }\r\n\r\n  openProcess(content: string) {\r\n    // 取ProcessHeader\r\n    const model = new BpmnModel();\r\n    model.LoadFromJson(content);\r\n    const processHeader = (model.DefaultProcess.GetExtensionElements().filter(e => e instanceof ProcessHeader)[0] as ProcessHeader);\r\n    this.service.getProcExtendProperty(processHeader.BizDefKey, processHeader.startMode, this.editorUi.bizCategoryId).subscribe(\r\n      (property: any) => {\r\n        const props = [];\r\n        property.forEach(p => {\r\n          if ((p.bizCategoryId || p.bizDefKey) && ((p.bizCategoryId.indexOf(this.editorUi.bizCategoryId) != -1 || p.bizCategoryId === '*') ||\r\n            (p.bizDefKey.indexOf(processHeader.BizDefKey) != -1 || p.bizDefKey === '*')) &&\r\n            (p.startMode.indexOf(processHeader.startMode) != -1 || p.startMode === '*')) {\r\n            props.push(p);\r\n          }\r\n        });\r\n        this.editorUi.procExtProps = props;\r\n        // 2023-5-30 为了解决网络较差场景下的加载问题修改了加载顺序 先加载数据再showeditorUi\r\n        this.editorUi.show();\r\n        this.addEditorUiListeners(this.editorUi);\r\n        this.editorUi.openBpmnModel(content);\r\n\r\n\r\n        if (this.flag) {\r\n          this.flag = false;\r\n          this.closeLoading();\r\n        }\r\n        // 显示流程属性\r\n        this.viewModel.initProcessProperty(this.editorUi.getFarrisPropConfig());\r\n        // 打开时获取所有活动节点信息\r\n        this.uiState.getUserActList(this.editorUi.getActivities());\r\n        // 打开时获取所有结束节点信息\r\n        this.uiState.getEndEventList(this.editorUi.getEndEvents());\r\n        // 打开时获取所有知会节点信息\r\n        this.uiState.getNotifyEventList(this.editorUi.getNotifyEvents());\r\n        // 打开时获取所有消息节点信息\r\n        this.uiState.getMessageEventList(this.editorUi.getMessageEvents());\r\n        // 打开时获取所有子流程和信号捕获节点信息\r\n        this.uiState.getSubAndCatchEventsList(this.editorUi.getSubAndCatchEvents());\r\n\r\n        this.uiState.bpmnModel = this.editorUi.graph.bpmnModel;\r\n\r\n        // 获取启动方式\r\n        this.uiState.getStartMode(this.editorUi.getStartMode());\r\n        if(this.editorUi.getStartMode() == StartMode.SUB_PROCESS) {\r\n          this.uiState.subActivityContext = this.uiState.subActivityContext.concat(this.uiState.subProcessElementContext);\r\n        }else {\r\n          this.uiState.subActivityContext = this.uiState.subActivityContext.filter(x => this.uiState.subProcessElementContext.some(y => y.key != x.key))\r\n        }\r\n\r\n        this.addGraphModelChangedListener();\r\n      }\r\n    );\r\n  }\r\n\r\n  /**\r\n   * 添加graph model监听器，有变化则将changedFlag\r\n   */\r\n  addGraphModelChangedListener() {\r\n    // 监听画布变化，更新界面变更状态\r\n    const changedListener = () => {\r\n      this.changedFlag = false;\r\n    }\r\n    this.editorUi.graph.model.addListener(mxEvent.CHANGE, changedListener);\r\n  }\r\n\r\n  private showTip(data: any) {\r\n    if (data.type === 'message') {\r\n      switch (data.level) {\r\n        case 'warning':\r\n          this.message.warning(data.message);\r\n          break;\r\n        case 'error':\r\n          this.message.error(data.message);\r\n          break;\r\n        case 'question':\r\n          this.message.question(data.message, () => {\r\n            this.questionOKHandle(data);\r\n          });\r\n          break;\r\n        default:\r\n          this.message.info(data.message);\r\n          break;\r\n      }\r\n    } else if (data.type === 'notify') {\r\n      switch (data.level) {\r\n        case 'warning':\r\n          this.notify.warning(data.message);\r\n          break;\r\n        case 'error':\r\n          this.notify.error(data.message);\r\n          break;\r\n        default:\r\n          this.notify.info(data.message);\r\n          break;\r\n      }\r\n    }\r\n  }\r\n\r\n  private showVerify(data: any) {\r\n    this.errorList = data;\r\n    this.createValidationTips();\r\n  }\r\n\r\n  private questionOKHandle(data: any) {\r\n    switch (data.action) {\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取流程上下文\r\n   * @param id 流程定义ID（设计时使用流程定义Key，运行时使用流程定义ID）\r\n   */\r\n  getProcContent(id: string): Observable<any> {\r\n    if (id) {\r\n      if (this.time === ProcessTime.dt) {\r\n        return this.service.getProcContentbyKey(id);\r\n      } else if (this.time === ProcessTime.rt) {\r\n        return this.service.getRTProcContentbyId(id);\r\n      } else {\r\n        throw new Error(this.localePipe.transform(\"processEditor.wrongMoment\"));\r\n      }\r\n    }\r\n  }\r\n\r\n  private save(content: string) {\r\n    this.uiState.content = content;\r\n    this.showLoading();\r\n    const process = JSON.parse(this.uiState.content);\r\n    this.saveHttp().subscribe((data) => {\r\n      this.closeLoading();\r\n      // 2023-6-13 保存后同步流程名称到标题栏\r\n      this.procNameTitle = process.DefaultProcess.Name;\r\n      this.notify.success({\r\n        title: this.localePipe.transform(\"processEditor.prompted\"),\r\n        msg: this.localePipe.transform(\"processEditor.saveSuccess\"),\r\n        timeout: 3000\r\n      } as NotifyOptions);\r\n      if (this.time === ProcessTime.dt) {\r\n        this.viewModel.auditProcessDef(AuditEvent.WF_ProcessDef_SaveDT, true, process.DefaultProcess.Key);\r\n      } else if (this.time === ProcessTime.rt) {\r\n        this.viewModel.auditProcessDef(AuditEvent.WF_ProcessDef_SaveRT, true, process.DefaultProcess.Key);\r\n      }\r\n      // 重置界面变更状态\r\n      this.changedFlag = false;\r\n    },\r\n      (error: HttpErrorResponse) => {\r\n        this.closeLoading();\r\n        this.notify.error({\r\n          title: this.localePipe.transform(\"processEditor.prompted\"),\r\n          msg: error.error.Message,\r\n          timeout: 3000\r\n        } as NotifyOptions);\r\n        if (this.time === ProcessTime.dt) {\r\n          this.viewModel.auditProcessDef(AuditEvent.WF_ProcessDef_SaveDT, false, process.DefaultProcess.Key);\r\n        } else if (this.time === ProcessTime.rt) {\r\n          this.viewModel.auditProcessDef(AuditEvent.WF_ProcessDef_SaveRT, false, process.DefaultProcess.Key);\r\n        }\r\n      });\r\n  }\r\n\r\n  private release(content: string) {\r\n    this.uiState.content = content;\r\n    this.showLoading();\r\n    this.uiState.getReleaseConfig().subscribe((config) => {\r\n      if (config.currentValue === 'true') {\r\n        // 展示发布前审批页面，同时保存，记审计\r\n        this.viewModel.saveProcess(this.uiState.content, this.processInfo, 1).subscribe((re) => {\r\n          this.viewModel.getProcDefsByKey(JSON.parse(content).DefaultProcess.Key).subscribe((ProcDefs) => {\r\n            const maxVersion = Math.max.apply(Math, ProcDefs.map(function (item) {\r\n              return item.version << 0\r\n            }));\r\n            // 展示发布前审批页面，同时保存，记审计\r\n            this.viewModel.releaseProcess(content, maxVersion === -Infinity ? 1 : maxVersion);\r\n            this.closeLoading();\r\n          });\r\n        });\r\n        this.notify.success({\r\n          title: this.localePipe.transform(\"processEditor.prompted\"),\r\n          msg: this.localePipe.transform(\"processEditor.waitReview\"),\r\n          timeout: 3000\r\n        } as NotifyOptions);\r\n        const process = JSON.parse(this.uiState.content);\r\n        this.viewModel.auditProcessDef(AuditEvent.WF_ProcessDef_Deploy, true, process.DefaultProcess.Key);\r\n      } else {\r\n        this.viewModel.deployProcess(this.uiState.content).subscribe((data) => {\r\n          this.closeLoading();\r\n          this.viewModel.saveProcess(this.uiState.content, this.processInfo, 0).subscribe((r) => { });\r\n          this.notify.success({\r\n            title: this.localePipe.transform(\"processEditor.prompted\"),\r\n            msg: this.localePipe.transform(\"processEditor.successPublish\"),\r\n            timeout: 3000\r\n          } as NotifyOptions);\r\n          const process = JSON.parse(this.uiState.content);\r\n          this.viewModel.auditProcessDef(AuditEvent.WF_ProcessDef_Deploy, true, process.DefaultProcess.Key);\r\n        },\r\n          (e: any) => {\r\n            this.closeLoading();\r\n            this.notify.error({\r\n              title: this.localePipe.transform(\"processEditor.prompted\"),\r\n              msg: this.localePipe.transform(\"processEditor.publishFail\") + `${e.error.Message}`,\r\n              timeout: 3000\r\n            } as NotifyOptions);\r\n            const process = JSON.parse(this.uiState.content);\r\n            this.viewModel.auditProcessDef(AuditEvent.WF_ProcessDef_Deploy, false, process.DefaultProcess.Key);\r\n          });\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * 保存流程定义（设计时+运行时）\r\n   */\r\n  private saveHttp(): Observable<any> {\r\n    if (this.uiState.content) {\r\n      if (this.time === ProcessTime.dt) {\r\n        return this.viewModel.saveProcess(this.uiState.content, this.processInfo, 1);\r\n      } else if (this.time === ProcessTime.rt) {\r\n        return this.viewModel.saveRTProcess(this.uiState.content, this.rtProcessInfo.rtProcDefId);\r\n      } else {\r\n        throw new Error(this.localePipe.transform(\"processEditor.wrongMoment\"));\r\n      }\r\n    }\r\n  }\r\n\r\n  showLoading() {\r\n    this.loadService.show({ container: 'body', message: '', type: 1 });\r\n  }\r\n  closeLoading() {\r\n    this.loadService.close();\r\n  }\r\n\r\n  private ConvertExecuteForm(form: ExcuteFormEntity): ExecuteFormModel[] {\r\n    const executeForms = new Array();\r\n    if (form.terminal === 'web,app') {\r\n      const webForm = new ExecuteFormModel();\r\n      webForm.ComponentId = form.appId;\r\n      webForm.formFormatId = form.formFormatId;\r\n      webForm.FormType = form.formType;\r\n      webForm.Name = form.name;\r\n      webForm.TerminalType = TerminalType.PC;\r\n      if (form.actualParameters && form.actualParameters.length > 0) {\r\n        webForm.ActualParameters = form.actualParameters.map(p => ({\r\n          Name: p.code,\r\n          Value: p.value\r\n        }));\r\n      }\r\n      executeForms.push(webForm);\r\n      const appForm = new ExecuteFormModel();\r\n      appForm.ComponentId = form.appId;\r\n      appForm.formFormatId = form.formFormatId;\r\n      appForm.FormType = form.formType;\r\n      appForm.Name = form.name;\r\n      appForm.TerminalType = TerminalType.MOBILE;\r\n      if (form.actualParameters && form.actualParameters.length > 0) {\r\n        appForm.ActualParameters = form.actualParameters.map((p: any) => ({\r\n          Name: p.code,\r\n          Tag: p.valueType ? p.valueType : ProcessDeUtil.initVariableType(p.value),\r\n          Value: p.value\r\n        }));\r\n      }\r\n      executeForms.push(appForm);\r\n    } else {\r\n      const executeForm = new ExecuteFormModel();\r\n      executeForm.ComponentId = form.appId;\r\n      executeForm.formFormatId = form.formFormatId;\r\n      executeForm.FormType = form.formType;\r\n      executeForm.Name = form.name;\r\n      switch (form.terminal) {\r\n        case 'web':\r\n          executeForm.TerminalType = TerminalType.PC;\r\n          break;\r\n        case 'app':\r\n          executeForm.TerminalType = TerminalType.MOBILE;\r\n          break;\r\n      }\r\n      if (form.actualParameters && form.actualParameters.length > 0) {\r\n        executeForm.ActualParameters = form.actualParameters.map((p: any) => ({\r\n          Name: p.code,\r\n          Tag: p.valueType ? p.valueType : ProcessDeUtil.initVariableType(p.value),\r\n          Value: p.value\r\n        }));\r\n      }\r\n      executeForms.push(executeForm);\r\n    }\r\n    return executeForms;\r\n  }\r\n  private formFormat2ExecuteForm(formformat): ExecuteFormModel {\r\n    const form = new ExecuteFormModel();\r\n    form.Id = ProcessDeUtil.GenerateElementId();\r\n    form.ComponentId = null;\r\n    form.formFormatId = formformat.id;\r\n    form.FormType = '0';\r\n    form.Name = formformat.name;\r\n    switch (formformat.terminal) {\r\n      case 'PC':\r\n        form.TerminalType = TerminalType.PC;\r\n        break;\r\n      case 'Mobile':\r\n        form.TerminalType = TerminalType.MOBILE;\r\n        break;\r\n    }\r\n    if (formformat.urlParameters && formformat.urlParameters.length > 0) {\r\n      form.ActualParameters = formformat.urlParameters.map(p => ({\r\n        Name: p.code,\r\n        Tag: p.valueType ? p.valueType : ProcessDeUtil.initVariableType(p.value),\r\n        Value: p.value\r\n      }));\r\n    }\r\n    return form;\r\n  }\r\n\r\n  private completeStrategyChanged(strategy: string) {\r\n\r\n    if (strategy !== this.uiState.completeIterator[0].key) {\r\n\r\n      // 参与者存在自动审批的情况下，不允许修改完成策略为会签规则\r\n      // if (this.uiState.propertyData.ParticipantSchemes\r\n      //   && this.uiState.propertyData.ParticipantSchemes.options\r\n      //   && this.uiState.propertyData.ParticipantSchemes.options.automaticPerformers\r\n      //   && this.uiState.propertyData.ParticipantSchemes.options.automaticPerformers.length > 0) {\r\n      //   return;\r\n      // } else {\r\n      // 会签规则不存在，即由抢占模式，变为会签时\r\n      if (!this.uiState.propertyData.SignRule) {\r\n        // 会签是自动弹出会签规则编辑\r\n        const compFactory = this.resolver.resolveComponentFactory(SignRuleComponent);\r\n        const compRef = compFactory.create(this.injector);\r\n\r\n        compRef.instance.value = [];\r\n        // compRef.instance.counterSignVariables = this.uiState.counterSignVariables || [];\r\n        // compRef.instance.approvalItems = this.uiState.approvalItems || [];\r\n\r\n        const modalConfig: ModalOptions = Object.assign(compRef.instance.modalConfig,\r\n          { buttons: compRef.instance.modalFooter });\r\n        const dialog = this.modalService.show(compRef, modalConfig);\r\n        compRef.instance.closeModal.subscribe($event => dialog.close());\r\n        compRef.instance.submitModal.subscribe((data: any) => {\r\n          this.updateChangeProperty({\r\n            categoryId: 'performerProperty',\r\n            propertyID: UserActivityPropertyKeys.SignRule,\r\n            propertyValue: data.value\r\n          });\r\n          dialog.close();\r\n        });\r\n      }\r\n      // 会签规则下，驳回规则约束\r\n      if ((this.uiState.propertyData.BackWardRule as BackWardRule).SelectTargetAble === true) {\r\n        setTimeout(() => {\r\n          this.message.warning(this.localePipe.transform(\"processEditor.policyConflict\"));\r\n        }, 500);\r\n      }\r\n      // }\r\n    }\r\n  }\r\n\r\n  private OtherAssignNodesChanged(data: any) {\r\n    const compFactory = this.resolver.resolveComponentFactory(AssignScopeComponent);\r\n    const compRef = compFactory.create(this.injector);\r\n    let location;\r\n    if (data.Id.indexOf('startActivity') > -1) {\r\n      location = 'startActivity';\r\n    } else {\r\n      location = 'userActivity';\r\n    }\r\n    if (location === 'startActivity') {\r\n      compRef.instance.value = [];\r\n      const activities = this.uiState.userActList.filter(a => a.Id !== this.uiState.propertyData.Id\r\n        && a.AssignmentStrategy === 'ASSIGN'\r\n        && a.AssignPerformerConfig\r\n        && a.AssignPerformerConfig.Operator === 'procInstCreator');\r\n      if (activities && activities.length > 0) {\r\n        compRef.instance.value = activities.map(a => a.Id);\r\n      } else {\r\n        compRef.instance.value = new Array();\r\n      }\r\n    } else {\r\n      compRef.instance.value = [];\r\n    }\r\n    compRef.instance.location = location;\r\n    const modalConfig: ModalOptions = Object.assign(compRef.instance.modalConfig,\r\n      { buttons: compRef.instance.modalFooter });\r\n    const dialog = this.modalService.show(compRef, modalConfig);\r\n    compRef.instance.closeModal.subscribe($event => dialog.close());\r\n    compRef.instance.submitModal.subscribe((data: any) => {\r\n      this.updateChangeProperty({\r\n        categoryId: location = 'startActivity' ? 'activityConfig' : 'approvalProperty',\r\n        // todo：多个活动具有同名属性时，如何更合理定义PropertyKey？\r\n        propertyID: UserActivityPropertyKeys.otherAssignActivities,\r\n        propertyValue: data.value\r\n      });\r\n      dialog.close();\r\n    });\r\n  }\r\n\r\n  /**\r\n   * 完成策略调整校验\r\n   */\r\n  private beforeCompleteStrategyChange(data: any): Observable<boolean> {\r\n    if (this.time === ProcessTime.rt) {\r\n      return this.viewModel.beforeCompleteStrategyChange(data, this.rtProcessInfo);\r\n    } else {\r\n      return of(true);\r\n    }\r\n  }\r\n\r\n\r\n  /**\r\n   * 保存，发布，另存，同步操作时\r\n   * 校验模型的流程分类ID与列表存储是否一致，不一致时，以列表为准\r\n   */\r\n  private checkModelContent(content: string): string {\r\n    const process = JSON.parse(content);\r\n    const modelBizDefKey = process.DefaultProcess.extensionElements.find(e => e.ClrTypeID === 'wf.ProcessHeader').BizDefKey;\r\n    if (this.time === ProcessTime.dt) {\r\n      if (modelBizDefKey === this.processInfo.flowFormId) {\r\n        return content;\r\n      } else {\r\n        process.DefaultProcess.extensionElements.find(e => e.ClrTypeID === 'wf.ProcessHeader').BizDefKey = this.processInfo.flowFormId;\r\n        process.DefaultProcess.extensionElements.find(e => e.ClrTypeID === 'wf.ProcessHeader').BizDefName = this.uiState.flowFormInfo.flowForm.name;\r\n        return JSON.stringify(process);\r\n      }\r\n    } else if (this.time === ProcessTime.rt) {\r\n      if (modelBizDefKey === this.rtProcessInfo.flowFormId) {\r\n        return content;\r\n      } else {\r\n        process.DefaultProcess.extensionElements.find(e => e.ClrTypeID === 'wf.ProcessHeader').BizDefKey = this.rtProcessInfo.flowFormId;\r\n        process.DefaultProcess.extensionElements.find(e => e.ClrTypeID === 'wf.ProcessHeader').BizDefName = this.uiState.flowFormInfo.flowForm.name;\r\n        return JSON.stringify(process);\r\n      }\r\n    }\r\n  }\r\n\r\n  public showModeChange(event: any) {\r\n    const { mode = ShowMode.panel, wideWidth = 330, smallWidth = 41 } = event || {};\r\n    if (mode === ShowMode.panel) {\r\n      this.panelWidth = wideWidth;\r\n      this.rightPanelWidth = wideWidth;\r\n    } else if (mode === ShowMode.sidebar) {\r\n      this.panelWidth = smallWidth;\r\n      this.rightPanelWidth = smallWidth;\r\n    }\r\n  }\r\n\r\n  saveProc() {\r\n    const model = this.editorUi.graph.bpmnModel;\r\n    const res = WfValidatorAdapter.validator(model, this.scene);\r\n    if (res.valid == false) {\r\n      this.showTip(res);\r\n      return;\r\n    }\r\n    if (res.warningList && res.warningList.length > 0) {\r\n      this.showVerify(res.warningList);\r\n    } else {\r\n      this.clearValidationTips();\r\n    }\r\n    this.save(model.ConvertToJson());\r\n  }\r\n  saveAs() {\r\n    if (!(this.uiState.enableAdminOrgAut || ((this.uiState.isAdministratorConfig &&\r\n      this.uiState.administrator !== null) || (!this.uiState.isAdministratorConfig)))) {\r\n      this.message.info(this.localePipe.transform(\"processEditor.noPermissionToSave\"));\r\n      return;\r\n    }\r\n    const model = this.editorUi.graph.bpmnModel;\r\n    const res = WfValidatorAdapter.validator(model, this.scene);\r\n    if (res.valid == false) {\r\n      this.showTip(res);\r\n      return;\r\n    }\r\n    if (res.warningList && res.warningList.length > 0) {\r\n      this.showVerify(res.warningList);\r\n    } else {\r\n      this.clearValidationTips();\r\n    }\r\n    const process = new BpmnModel();\r\n    process.LoadFromJson(model.ConvertToJson());\r\n    process.DefaultProcess.Key = ProcessDeUtil.GenerateElementId();\r\n    process.DefaultProcess.Id = ProcessDeUtil.GenerateElementId();\r\n    process.DefaultDiagram.BpmnPlane.BpmnElementId = process.DefaultProcess.Id;\r\n    this.viewModel.saveAsProcess(process, this.processInfo);\r\n  }\r\n  releaseProc() {\r\n    const model = this.editorUi.graph.bpmnModel;\r\n    const res = WfValidatorAdapter.validator(model, this.scene);\r\n    if (res.valid == false) {\r\n      this.showTip(res);\r\n      return;\r\n    }\r\n    if (res.warningList && res.warningList.length > 0) {\r\n      this.showVerify(res.warningList);\r\n    } else {\r\n      this.clearValidationTips();\r\n    }\r\n    this.release(model.ConvertToJson());\r\n  }\r\n  sync() {\r\n    const model = this.editorUi.graph.bpmnModel;\r\n    const res = WfValidatorAdapter.validator(model, this.scene);\r\n    if (res.valid == false) {\r\n      this.showTip(res);\r\n      return;\r\n    }\r\n    if (res.warningList && res.warningList.length > 0) {\r\n      this.showVerify(res.warningList);\r\n    } else {\r\n      this.clearValidationTips();\r\n    }\r\n    this.viewModel.syncDtProcess(model.ConvertToJson(), this.rtProcessInfo);\r\n  }\r\n  procRecord() {\r\n    const record = this.editorUi.graph.bpmnModel.DefaultProcess.Documentation;\r\n    this.note(record);\r\n  }\r\n  batchSet() {\r\n    const compFactory = this.resolver.resolveComponentFactory(BatchSetPropertiesComponent);\r\n    const compRef = compFactory.create(this.injector);\r\n    const modalConfig: ModalOptions = {\r\n      title: '批量设置',\r\n      width: 512,\r\n      height: 565,\r\n      showButtons: true,\r\n      buttons: compRef.instance.footer\r\n    };\r\n    const dialog = this.modalService.show(compRef, modalConfig);\r\n    compRef.instance.cancel.subscribe($event => dialog.close());\r\n    compRef.instance.submit.subscribe((data: string) => {\r\n      dialog.close();\r\n    });\r\n  }\r\n  closeProc() {\r\n    // 如果界面发生变化，增加确认框提示，无变化则直接关闭\r\n    if (this.changedFlag) {\r\n      this.message.confirm(this.localePipe.transform(\"processEditor.closeProc1\"),\r\n      this.localePipe.transform(\"processEditor.closeProc2\")).subscribe(\r\n        (f) => {\r\n          if (f) {\r\n            this.close.emit();\r\n          }\r\n        }\r\n      );\r\n    } else {\r\n      this.close.emit();\r\n    }\r\n  }\r\n  viewProcModel() {\r\n    const modalConfig: ModalOptions = {\r\n      title: this.localePipe.transform(\"processEditor.viewModel\"),\r\n      width: 800,\r\n      height: 520,\r\n      showButtons: false\r\n    };\r\n    // 模型自动复制到剪贴板\r\n    this.notify.success(this.localePipe.transform(\"processEditor.copied\"));\r\n    this.copy(this.editorUi.graph.bpmnModel.ConvertToJson());\r\n    this.modalService.show(this.editorUi.graph.bpmnModel.ConvertToJson(), modalConfig);\r\n  }\r\n  /**\r\n   * 左右拖动后事件，event.size.width是左侧面板的宽度\r\n   */\r\n  rzStop(event) {\r\n    this.panelWidth = event.size.width;\r\n\r\n    this.editorUi && this.editorUi.graph.refresh();\r\n  }\r\n\r\n  // 展示表单验证组件，用于构件校验\r\n  createValidationTips() {\r\n    this.verifySer.clear();\r\n    this.verifyContainer = this.verifySer.createVerify({\r\n      parent: this.contentEl,\r\n      verifyList: this.errorList,\r\n      verifyType: this.tabTypeList,\r\n      showList: true,\r\n      showType: 'processWarning',\r\n      verifyResultTipsTmpl: this.tipsTmpl // 提示模板\r\n    });\r\n    this.listclick = this.verifyContainer.validatorClick.subscribe(e => {\r\n      console.log(e);\r\n    });\r\n    this.showchange = this.verifyContainer.listshowChange.subscribe(e => {\r\n      console.log(e);\r\n    });\r\n  }\r\n\r\n  public clearValidationTips() {\r\n    this.errorList = [];\r\n    if (this.verifySer) {\r\n      this.verifySer.clear();\r\n    }\r\n  }\r\n\r\n  copy(text) {\r\n    const el = document.createElement('input')\r\n    el.setAttribute('value', text)\r\n    document.body.appendChild(el)\r\n    el.select()\r\n    document.execCommand('copy')\r\n    document.body.removeChild(el)\r\n  }\r\n}\r\n","import { Component, OnInit, Output, Input, ViewChild, EventEmitter, TemplateRef, HostBinding, Optional, ChangeDetectorRef, Inject, LOCALE_ID } from '@angular/core';\r\nimport { TypeConverter } from '@farris/ide-property-panel';\r\nimport { FormGroup, FormControl } from '@angular/forms';\r\nimport { AssignPerformerConfig } from './assign-performer-config.entity';\r\nimport { OrganizationPotentialOwner, ActionScope, OrganizationLevel } from '../organization-potential-owner/actionOrganizationScope';\r\nimport { WF_LANG_RESOURCES, WfLocalePipe } from '../../i18n/pipe/wf-process-editor-locale.pipe';\r\nimport { WF_PROCESS_EDITOR_LANG_RESOURCES } from '../../i18n/assets/lang.resource';\r\n\r\n@Component({\r\n  selector: 'app-assign-performer-config',\r\n  templateUrl: './assign-performer-config.component.html',\r\n  styleUrls: ['./assign-performer-config.component.css'],\r\n  providers: [\r\n     WfLocalePipe,\r\n  ]\r\n})\r\nexport class AssignPerformerConfigComponent implements OnInit {\r\n  @HostBinding('class')\r\n  cls = 'farris-main-area flex-column';\r\n  @Output() closeModal = new EventEmitter<any>();\r\n  @Output() submitModal = new EventEmitter<any>();\r\n  assingPerformerConfigForm: FormGroup;\r\n  private config: AssignPerformerConfig;\r\n\r\n  @Input()\r\n  set value(v: AssignPerformerConfig) {\r\n    this.assingPerformerConfigForm = new FormGroup({\r\n      multiSelect: new FormControl(v.multiSelect),\r\n      necessary: new FormControl(v.necessary)\r\n    });\r\n    this.operator = v.operator || 'currentUser';\r\n    this.allowGlobalAssign = v.allowGlobalAssign || false;\r\n    if (v.assignScope) {\r\n      this.organizationLevel = v.assignScope.organizationLevel;\r\n      this.includeChildren = v.assignScope.includeChildren;\r\n    }\r\n  }\r\n\r\n  @ViewChild('iconSelectFooter') modalFooter: TemplateRef<any>;\r\n\r\n  allowGlobalAssign = false;\r\n\r\n  operatorCollection = [\r\n    { text: this.localePipe.transform('component.assignPerformer.currentUser'), value: 'currentUser' },\r\n    { text: this.localePipe.transform('component.assignPerformer.procInstCreator'), value: 'procInstCreator' }];\r\n  operator = 'currentUser';\r\n\r\n  organizationLevelCollection = [\r\n    { value: 'GLOBAL', text: this.localePipe.transform('component.assignPerformer.global'), orgId: 'global' },\r\n    { value: 'UNIT', text: this.localePipe.transform('component.assignPerformer.currentUnit'), orgId: 'currentUnit' },\r\n    { value: 'DEPARTMENT', text: this.localePipe.transform('component.assignPerformer.currentDepartment'), orgId: 'currentDepartment' }];\r\n  organizationLevel = this.organizationLevelCollection[0].value;\r\n  includeChildren = false;\r\n\r\n  modalConfig = {\r\n    title: this.localePipe.transform('component.assignPerformer.assignPerformer'),\r\n    width: 720,\r\n    height: 490,\r\n    showButtons: true\r\n  };\r\n  constructor(\r\n    @Optional() private cdr: ChangeDetectorRef,\r\n    @Inject(LOCALE_ID) private localeId: string,\r\n    @Inject(WF_LANG_RESOURCES) private resources: any,\r\n    @Optional() private localePipe: WfLocalePipe\r\n  ) {\r\n    this.localePipe = this.localePipe || new WfLocalePipe(localeId, resources);\r\n   }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  clickOK() {\r\n    this.config = {\r\n      operator: this.operator,\r\n      multiSelect: this.assingPerformerConfigForm.get('multiSelect').value,\r\n      necessary: this.assingPerformerConfigForm.get('necessary').value,\r\n      allowGlobalAssign: this.allowGlobalAssign\r\n    };\r\n    if (this.allowGlobalAssign && this.organizationLevel !== this.organizationLevelCollection[0].value) {\r\n      const potential = new OrganizationPotentialOwner();\r\n      potential.actionScope = ActionScope.AssignUser;\r\n      potential.organizationLevel = this.organizationLevel as OrganizationLevel;\r\n      potential.organizationId = this.organizationLevelCollection.find(o => o.value === this.organizationLevel).orgId;\r\n      potential.organizationName = this.organizationLevelCollection.find(o => o.value === this.organizationLevel).text;\r\n      potential.includeChildren = this.includeChildren;\r\n      potential.tag = 'variable';\r\n      this.config.assignScope = potential;\r\n    }\r\n    const object = { value: this.config, parameters: null };\r\n    this.submitModal.emit(object);\r\n  }\r\n\r\n  clickCancel() {\r\n    this.closeModal.emit();\r\n  }\r\n\r\n  valueChange(event: any) {\r\n    switch (event.value) {\r\n      case this.organizationLevelCollection[0].value:\r\n        this.includeChildren = false;\r\n        break;\r\n      case this.organizationLevelCollection[1].value:\r\n        this.includeChildren = true;\r\n        break;\r\n      case this.organizationLevelCollection[2].value:\r\n        this.includeChildren = false;\r\n        break;\r\n    }\r\n  }\r\n}\r\nexport class AssignConfigConverter implements TypeConverter {\r\n  constructor(\r\n    private localePipe: WfLocalePipe\r\n  ) { }\r\n\r\n  convertTo(data): string {\r\n    return this.localePipe.transform('component.assignPerformer.set');\r\n  }\r\n}\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\n\r\n@Pipe({name: 'jumpScopePipe'})\r\nexport class JumpScopePipe implements PipeTransform {\r\n    transform(value: any[], nodeId: string): any[] {\r\n        return value.filter(item => item.Id !== nodeId);\r\n    }\r\n}\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\nimport { PerformerEntity } from '../../entities/performer.entity';\r\n\r\n@Pipe({ name: 'usersName' })\r\nexport class UsersNamePipe implements PipeTransform {\r\n    constructor() { }\r\n    transform(users: PerformerEntity[], defaultVal = ''): string {\r\n        let r = '';\r\n        users.forEach(u => {\r\n            r += u.performerName + '，';\r\n        });\r\n        if (r) {\r\n            r = r.substring(0, r.length - 1);\r\n        }\r\n        return r ? r : defaultVal;\r\n    }\r\n}\r\n@Pipe({ name: 'usersId' })\r\nexport class UsersIdPipe implements PipeTransform {\r\n    constructor() { }\r\n    transform(users: PerformerEntity[], defaultVal = ''): string {\r\n        let r = '';\r\n        users.forEach(u => {\r\n            r += u.performerId + ',';\r\n        });\r\n        if (r) {\r\n            r = r.substring(0, r.length - 1);\r\n        }\r\n        return r ? r : defaultVal;\r\n    }\r\n}\r\n","import { Provider } from '@angular/core';\r\nimport { ProcessDesignerUIState } from './app/process-designer.uistate';\r\nimport { ProcessDesignerViewModel } from './app/process-designer.viewmodel';\r\nimport { ProcessDesignerDataService } from './domain/process-designer.dataservice';\r\nimport { BpmnProcessViewModel } from './app/bpmn-process.viewmodel';\r\nimport { WFFlowElementsViewModel } from './app/wf-flowElements.viewModel';\r\nimport { SubProcessViewModel } from './app/sub-process.viewmodel';\r\nimport { AutoActivityAdapter } from './app/auto-activity.adapter';\r\nimport { CatchEventAdapter } from './app/catch-event.adapter';\r\nimport { MessageActivityAdapter } from './app/message-activity.adapter';\r\nimport { NotifyActivityAdapter } from './app/notify-activity.adapter';\r\nimport { AifCreationBillActivityAdapter } from './app/aif-creation-bill-activity.adapter';\r\nimport { BillNodeActivityAdapter } from './app/bill-node-activity.adapter';\r\nimport { SequenceActivityAdapter } from './app/sequecne-activity.adapter';\r\n\r\nconst PROCESS_DESIGNER_APP_PROVIDERS: Provider[] = [\r\n    ProcessDesignerUIState,\r\n    ProcessDesignerViewModel,\r\n    BpmnProcessViewModel,\r\n    WFFlowElementsViewModel,\r\n    SubProcessViewModel,\r\n    AutoActivityAdapter,\r\n    CatchEventAdapter,\r\n    MessageActivityAdapter,\r\n    NotifyActivityAdapter,\r\n    AifCreationBillActivityAdapter,\r\n    BillNodeActivityAdapter,\r\n    SequenceActivityAdapter,\r\n];\r\nexport {\r\n    ProcessDesignerUIState,\r\n    ProcessDesignerViewModel,\r\n    BpmnProcessViewModel,\r\n    WFFlowElementsViewModel,\r\n    SubProcessViewModel,\r\n    AutoActivityAdapter,\r\n    CatchEventAdapter,\r\n    MessageActivityAdapter,\r\n    NotifyActivityAdapter,\r\n    AifCreationBillActivityAdapter,\r\n    BillNodeActivityAdapter,\r\n    SequenceActivityAdapter,\r\n    PROCESS_DESIGNER_APP_PROVIDERS,\r\n};\r\nconst PROCESS_DESIGNER_DOMAIN_PROVIDERS: Provider[] = [\r\n    ProcessDesignerDataService\r\n];\r\nexport {\r\n    ProcessDesignerDataService,\r\n    PROCESS_DESIGNER_DOMAIN_PROVIDERS\r\n};\r\nconst PROCESS_DESIGNER_PART_PROVIDERS: Provider[] = [\r\n];\r\nexport {\r\n    PROCESS_DESIGNER_PART_PROVIDERS\r\n};\r\n","import { Component, OnInit, HostBinding, Input, Output, EventEmitter, ViewChild, TemplateRef, ChangeDetectorRef, Optional, Inject, LOCALE_ID } from '@angular/core';\r\nimport { TypeConverter } from '@farris/ide-property-panel';\r\nimport { CallActivitySubProcess } from './call-activity-sub-process.entity';\r\nimport { MessagerService } from '@farris/ui-messager';\r\nimport { ProcessDeUtil } from '../../domain/process-de-util';\r\nimport { HttpService } from '@ecp-caf/caf-common';\r\nimport { Observable } from 'rxjs';\r\nimport { ProcessDesignerUIState } from '../../app/process-designer.uistate';\r\nimport { ExpressionService, InjectedType, VarEntity } from '@gsp-svc/expression';\r\nimport { WF_LANG_RESOURCES, WfLocalePipe } from '../../i18n/pipe/wf-process-editor-locale.pipe';\r\nimport { WF_PROCESS_EDITOR_LANG_RESOURCES } from '../../i18n/assets/lang.resource';\r\n\r\n@Component({\r\n  selector: 'lib-call-activity-sub-process',\r\n  templateUrl: './call-activity-sub-process.component.html',\r\n  styleUrls: ['./call-activity-sub-process.component.scss'],\r\n  providers: [\r\n     WfLocalePipe,\r\n  ]\r\n})\r\nexport class CallActivitySubProcessComponent implements OnInit {\r\n  @HostBinding('class')\r\n  cls = 'farris-main-area flex-column';\r\n\r\n  @Input() set value(v: CallActivitySubProcess) {\r\n    if (v) {\r\n      this.callActivitySubProcess = v;\r\n      this.getProcessDefKey(this.callActivitySubProcess.calledElement);\r\n      this.getFlowForm(this.callActivitySubProcess.calledBizDefKey);\r\n    }\r\n  }\r\n  @Output() closeModal = new EventEmitter<any>();\r\n  @Output() submitModal = new EventEmitter<any>();\r\n\r\n  @ViewChild('iconSelectFooter') modalFooter: TemplateRef<any>;\r\n  modalConfig = {\r\n    title: this.localePipe.transform(\"component.subProcess.subProcessOpt\"),\r\n    width: 500,\r\n    height: 380,\r\n    showButtons: true\r\n  };\r\n\r\n  callActivitySubProcess: CallActivitySubProcess = new CallActivitySubProcess();\r\n\r\n  groupIcon = '<i class=\"f-icon f-icon-lookup\"></i>';\r\n  constructor(\r\n    private message: MessagerService,\r\n    private util: ProcessDeUtil,\r\n    private http: HttpService,\r\n    private designerState: ProcessDesignerUIState,\r\n    private expr: ExpressionService,\r\n    @Optional() private cdr: ChangeDetectorRef,\r\n    @Inject(LOCALE_ID) private localeId: string,\r\n    @Inject(WF_LANG_RESOURCES) private resources: any,\r\n    @Optional() private localePipe: WfLocalePipe\r\n  ) {\r\n    this.localePipe = this.localePipe || new WfLocalePipe(localeId, resources);\r\n   }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n\r\n  clickOK() {\r\n    if (this.validator()) {\r\n      const object = { value: this.callActivitySubProcess, parameters: null };\r\n      this.submitModal.emit(object);\r\n    }\r\n  }\r\n\r\n  clickCancel() {\r\n    this.closeModal.emit();\r\n  }\r\n\r\n  processConfirm(args: any) {\r\n    if (args) {\r\n      this.callActivitySubProcess.calledElement = args.procDefKey;\r\n      this.callActivitySubProcess.calledElementName = args.name;\r\n    }\r\n  }\r\n  clearProcessDef(args: any) {\r\n    this.callActivitySubProcess.calledElement = '';\r\n    this.callActivitySubProcess.calledElementName = '';\r\n  }\r\n\r\n  flowFormConfirm(args: any) {\r\n    if (args) {\r\n      this.callActivitySubProcess.calledBizDefKey = args.id;\r\n      this.callActivitySubProcess.calledBizDefName = args.name;\r\n    }\r\n  }\r\n  clearFlowForm(args: any) {\r\n    this.callActivitySubProcess.calledBizDefKey = '';\r\n    this.callActivitySubProcess.calledBizDefName = '';\r\n  }\r\n\r\n  setBizDataId() {\r\n    this.showExprHelp();\r\n  }\r\n\r\n  private showExprHelp() {\r\n    let context = new Array<VarEntity>();\r\n    // if(this.expr.exprEntity.contextEntities.find(x => x.key === 'CurrentLanguage')) {\r\n    //   context.push(this.expr.exprEntity.contextEntities.find(x => x.key === 'CurrentLanguage'));\r\n    // }\r\n    // this.expr.clearContext();\r\n    if (this.designerState.schemas.length > 0) {\r\n      for (const schema of this.designerState.schemas) {\r\n        this.expr.addSchema('Schema', schema);\r\n      }\r\n      if (this.designerState.schemas[0].entityTypes && this.designerState.schemas[0].entityTypes.length > 0) {\r\n        const entityType = this.designerState.schemas[0].entityTypes[0];\r\n        this.expr.addInjectedEntity(entityType.name, 'Schema',\r\n          entityType.name, InjectedType.EntityType);\r\n      }\r\n    }\r\n    context = this.designerState.addContext(context);\r\n    if (this.designerState.subActivityContext.length > 0) {\r\n      for (const variable of this.designerState.subActivityContext) {\r\n        context.push(variable);\r\n        // this.expr.addContext(variable);\r\n      }\r\n    }\r\n    if (context.length > 0) {\r\n      for (const v of context) {\r\n        this.expr.addContext(v);\r\n      }\r\n    }\r\n    this.expr.addExpressionText(this.callActivitySubProcess.bizDataId);\r\n    this.expr.buildExpression().then((expressioninfo: string) => {\r\n      this.callActivitySubProcess.bizDataId = expressioninfo;\r\n      //点击确定后，去除表达式里面的新增的上下文变量\r\n      if(context.length > 0) {\r\n        this.expr.exprEntity.contextEntities = this.expr.exprEntity.contextEntities.filter(x => !context.some(y => y.key === x.key));\r\n      }\r\n    });\r\n  }\r\n\r\n  valueChange(bool: boolean) {\r\n    if (bool) {\r\n      this.callActivitySubProcess.bizDataId = null;\r\n    }\r\n  }\r\n\r\n  private validator(): boolean {\r\n    if (!this.callActivitySubProcess.inheritBizDataId && !this.callActivitySubProcess.bizDataId) {\r\n      this.message.warning(this.localePipe.transform(\"component.subProcess.inheritBizDataId\"));\r\n      return false;\r\n    }\r\n    return true;\r\n  }\r\n\r\n  private getProcessDefKey(key: string){\r\n    let url = this.util.getProcessDefinitionWebApi();\r\n    if (key) {\r\n      url += `/procDefKey/${key}`;\r\n      this.http.get(url).subscribe((re: any) => {\r\n        this.callActivitySubProcess.calledElementName = re.name;\r\n      });\r\n    }\r\n  }\r\n  private getFlowForm(id: string) {\r\n    let url = this.util.getFlowFormWebApi();\r\n    if (id) {\r\n      url += `/${id}`;\r\n      this.http.get(url).subscribe((re: any) => {\r\n        this.callActivitySubProcess.calledBizDefName = re.name;\r\n      });\r\n    }\r\n  }\r\n}\r\n\r\n\r\nexport class CallActivitySubProcessConverter implements TypeConverter {\r\n  constructor(\r\n    private localePipe: WfLocalePipe\r\n  ) { }\r\n\r\n  convertTo(data: any): string {\r\n    if (data && (data.calledBizDefKey || data.calledElement)) {\r\n      return this.localePipe.transform(\"component.subProcess.set\");\r\n    }\r\n    return this.localePipe.transform(\"component.subProcess.notSet\");\r\n  }\r\n}\r\n","export enum VOTemplateType {\r\n    /**来自于BE的VO */\r\n    FromBE,\r\n    /**来自于VO的VO，即VO代理 */\r\n    FromVO,\r\n    /**没有来源的VO，即虚拟VO */\r\n    FromNone,\r\n}","import { GSPBusinessEntity } from '@gsp-bef/gsp-be-metadata';\r\nimport { GSPViewModel } from '@gsp-bef/gsp-vo-metadata';\r\nimport { CommonModelUtil } from '@gsp-bef/gsp-cm-metadata';\r\nimport { VOTemplateType } from '../entity/VOTemplateType';\r\n\r\nexport class CommonModelTypeHelper {\r\n    public static getCommonModelType(cm: GSPBusinessEntity | GSPViewModel): string {\r\n        let type = CommonModelUtil.GetGeneratedConfigID(cm as any);\r\n        type = \"com.\" + type;\r\n        return type;\r\n    }\r\n\r\n    /**\r\n     * 判断VO来源于BE还是VO或者完全虚拟\r\n     * @param gspViewModel\r\n     */\r\n    public static judgeVoTemplateType(gspViewModel: GSPViewModel): VOTemplateType {\r\n        if (gspViewModel.IsVirtual === true) {\r\n            if (gspViewModel.TemplateVoInfo && gspViewModel.TemplateVoInfo.TemplateVoId != null) {\r\n                return VOTemplateType.FromVO;\r\n            } else {\r\n                return VOTemplateType.FromNone\r\n            }\r\n        } else {\r\n            return VOTemplateType.FromBE;\r\n        }\r\n    }\r\n}\r\n","import { Component, OnInit, Output, EventEmitter, ViewChild, Input, Injector, ComponentFactoryResolver, Inject, LOCALE_ID } from '@angular/core';\r\nimport { ComboListComponent } from '@farris/ui-combo-list';\r\nimport { ProcessListHelpService } from '../../services/process-list-help.service';\r\nimport { MessagerService } from '@farris/ui-messager';\r\nimport { NotifyService } from '@farris/ui-notify';\r\nimport { GSPMetadataRTService, SelectMetadataRTComponent, Metadata4RefDto } from '@gsp-lcm/metadatart-selector';\r\nimport { BsModalService } from '@farris/ui-modal';\r\nimport { GSPViewModel } from '@gsp-bef/gsp-vo-metadata';\r\nimport { IRtProcQueryParam } from '../../entity/IProcQueryParam';\r\nimport { TextValue } from '@edp-bif/common-api';\r\nimport { BifMetadataType } from '../../entity/BifMetadataType';\r\nimport { CommonModelTypeHelper } from '../../utils/common-model-type-helper';\r\nimport { VOTemplateType } from '../../entity/VOTemplateType';\r\nimport { AifLocalePipe } from '../../../aif-ui-common/pipe/aif-ui-common-locale.pipe';\r\n\r\n@Component({\r\n  selector: 'app-proc-help-query-solution',\r\n  templateUrl: './proc-help-query-solution.component.html',\r\n  styleUrls: ['./proc-help-query-solution.component.css'],\r\n})\r\nexport class ProcHelpQuerySolutionComponent implements OnInit {\r\n  readonly groupIcon = '<i class=\"f-icon f-icon-lookup\"></i>';\r\n\r\n  @Input(\"queryParam\")\r\n  queryParam: IRtProcQueryParam;\r\n  @Output(\"queryParamChange\")\r\n  queryParamChange = new EventEmitter<IRtProcQueryParam>();\r\n\r\n  @Output(\"onSearch\")\r\n  onSearchEmitter = new EventEmitter();\r\n\r\n  // //流程类型配置\r\n  // @ViewChild(\"comboProcessType\")\r\n  // comboProcessType: ComboListComponent;\r\n  // comboProcessTypeIdField = \"value\";\r\n  // comboProcessTypeValueField = \"value\";\r\n  // comboProcessTypeTextField = \"text\";\r\n  // comboProcessTypeData = [\r\n  //   { value: \"\", text: this.localePipe.transform(\"all\") },\r\n  //   { value: BifMetadataType.BifCreationProcess, text: this.localePipe.transform(\"creation\") },\r\n  //   { value: BifMetadataType.BifWritebackProcess, text: this.localePipe.transform(\"writeback\") },\r\n  // ];\r\n\r\n  // //启用状态配置\r\n  // @ViewChild(\"comboEnabledState\")\r\n  // comboEnabledState: ComboListComponent;\r\n  // comboEnabledStateIdField = \"value\";\r\n  // comboEnabledStateValueField = \"value\";\r\n  // comboEnabledStateTextField = \"text\";\r\n  // comboEnabledStateData = [\r\n  //   { value: \"\", text: this.localePipe.transform(\"all\") },\r\n  //   { value: \"true\", text: this.localePipe.transform(\"enabled\") },\r\n  //   { value: \"false\", text: this.localePipe.transform(\"disabled\") },\r\n  // ];\r\n\r\n  //系统预置配置\r\n  @ViewChild(\"comboSysInit\")\r\n  comboSysInit: ComboListComponent;\r\n  comboSysInitIdField = \"value\";\r\n  comboSysInitValueField = \"value\";\r\n  comboSysInitTextField = \"text\";\r\n  comboSysInitData = [\r\n    { value: \"\", text: this.localePipe.transform(\"all\") },\r\n    { value: \"true\", text: this.localePipe.transform(\"yes\") },\r\n    { value: \"false\", text: this.localePipe.transform(\"no\") },\r\n  ];\r\n\r\n  constructor(\r\n    private procHelpService: ProcessListHelpService,\r\n    private messager: MessagerService,\r\n    private notify: NotifyService,\r\n    private metadataService: GSPMetadataRTService,\r\n    private modalService: BsModalService,\r\n    private injector: Injector,\r\n    private resolver: ComponentFactoryResolver,\r\n    private localePipe: AifLocalePipe,\r\n  ) {\r\n  }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  processNameChange(name: string) {\r\n    this.queryParam.filterArgs.name = new TextValue();\r\n    this.queryParam.filterArgs.name.hasValue = true;\r\n    this.queryParam.filterArgs.name.value = name;\r\n    this.queryParam.filterArgsExt.name = name;\r\n  }\r\n\r\n  processTypeChange({ selections }) {\r\n    const item = selections[0];\r\n    this.queryParam.filterArgs.billProcessType = new TextValue();\r\n    if (item != null) {\r\n      if (item.value != \"\") {\r\n        this.queryParam.filterArgs.billProcessType.hasValue = true;\r\n      }\r\n      this.queryParam.filterArgs.billProcessType.value = item.value;\r\n    }\r\n  }\r\n\r\n  enabledStateChange({ selections }) {\r\n    const item = selections[0];\r\n    this.queryParam.filterArgs.isEnabled = new TextValue();\r\n    if (item != null) {\r\n      if (item.value != \"\") {\r\n        this.queryParam.filterArgs.isEnabled.hasValue = true;\r\n      }\r\n      this.queryParam.filterArgs.isEnabled.value = String(item.value);\r\n    }\r\n  }\r\n\r\n  sysInitChange({ selections }) {\r\n    const item = selections[0];\r\n    this.queryParam.filterArgs.sysInit = new TextValue();\r\n    if (item != null) {\r\n      if (item.value != \"\") {\r\n        this.queryParam.filterArgs.sysInit.hasValue = true;\r\n      }\r\n      this.queryParam.filterArgs.sysInit.value = String(item.value);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 打开上游单据VO选择器\r\n   */\r\n  selectUpBill() {\r\n    const compFactory = this.resolver.resolveComponentFactory(SelectMetadataRTComponent);\r\n    const compRef = compFactory.create(this.injector);\r\n    compRef.instance.typeList = \"GSPViewModel\";\r\n\r\n    compRef.instance.selectedMetadata.subscribe(\r\n      (metadata4RefDto: Metadata4RefDto) => {\r\n        this.clearUpBill();\r\n        let upVODto = metadata4RefDto.metadata;\r\n        let upVO: GSPViewModel = JSON.parse(upVODto.content);\r\n\r\n        switch (CommonModelTypeHelper.judgeVoTemplateType(upVO)) {\r\n          //非代理VO\r\n          case VOTemplateType.FromBE:\r\n            {\r\n              this.queryParam.filterArgs.upBillVoId = new TextValue();\r\n              this.queryParam.filterArgs.upBillVoId.hasValue = true;\r\n              this.queryParam.filterArgs.upBillVoId.value = upVO.ID;\r\n              this.queryParam.filterArgsExt.upBillVoName = upVO.MainObject.Name;\r\n            }\r\n            break;\r\n          default:\r\n            this.notify.error(this.localePipe.transform(\"pleaseSelectNonVirtualVO\"));\r\n            break;\r\n        };\r\n      },\r\n      (err) => {\r\n        console.error(err);\r\n        //todo 确定异常结构, 目前采用兼容取值方式\r\n        this.messager.error(err.error == null ? err.message : (err.error.Message || err.error.message || err.message));\r\n        this.clearUpBill();\r\n      }\r\n    );\r\n\r\n    const modalConfig = {\r\n      title: this.localePipe.transform(\"billSelector\"),\r\n      width: 930,\r\n      height: 573,\r\n      showButtons: false\r\n    };\r\n    const dialog = this.modalService.show(compRef, modalConfig);\r\n    compRef.instance.closeModalEmitter.subscribe($event => dialog.close());\r\n  }\r\n\r\n  /**\r\n   * 打开下游单据VO选择器\r\n   */\r\n  selectDownBill() {\r\n    const compFactory = this.resolver.resolveComponentFactory(SelectMetadataRTComponent);\r\n    const compRef = compFactory.create(this.injector);\r\n    compRef.instance.typeList = \"GSPViewModel\";\r\n\r\n    compRef.instance.selectedMetadata.subscribe(\r\n      (metadata4RefDto: Metadata4RefDto) => {\r\n        this.clearDownBill();\r\n        let downVODto = metadata4RefDto.metadata;\r\n        let downVO: GSPViewModel = JSON.parse(downVODto.content);\r\n\r\n        switch (CommonModelTypeHelper.judgeVoTemplateType(downVO)) {\r\n          //非代理VO\r\n          case VOTemplateType.FromBE:\r\n            {\r\n              this.queryParam.filterArgs.downBillVoId = new TextValue();\r\n              this.queryParam.filterArgs.downBillVoId.hasValue = true;\r\n              this.queryParam.filterArgs.downBillVoId.value = downVO.ID;\r\n              this.queryParam.filterArgsExt.downBillVoName = downVO.MainObject.Name;\r\n            }\r\n            break;\r\n          default:\r\n            this.notify.error(this.localePipe.transform(\"pleaseSelectNonVirtualVO\"));\r\n            break;\r\n        };\r\n      },\r\n      (err) => {\r\n        console.error(err);\r\n        //todo 确定异常结构, 目前采用兼容取值方式\r\n        this.messager.error(err.error == null ? err.message : (err.error.Message || err.error.message || err.message));\r\n        this.clearUpBill();\r\n      }\r\n    );\r\n\r\n    const modalConfig = {\r\n      title: this.localePipe.transform(\"billSelector\"),\r\n      width: 930,\r\n      height: 573,\r\n      showButtons: false\r\n    };\r\n    const dialog = this.modalService.show(compRef, modalConfig);\r\n    compRef.instance.closeModalEmitter.subscribe($event => dialog.close());\r\n  }\r\n\r\n  /**\r\n   * 清除流程名称\r\n   */\r\n  clearProcessName() {\r\n    delete this.queryParam.filterArgs.name;\r\n    this.queryParam.filterArgsExt.name = null;\r\n  }\r\n\r\n  /**\r\n   * 清除选中的流程类型\r\n   */\r\n  clearProcessType() {\r\n    delete this.queryParam.filterArgs.billProcessType;\r\n  }\r\n\r\n  /**\r\n   * 清除选中的上游单据信息\r\n   */\r\n  clearUpBill() {\r\n    delete this.queryParam.filterArgs.upBillVoId;\r\n    this.queryParam.filterArgsExt.upBillVoName = null;\r\n  }\r\n\r\n  /**\r\n   * 清除选中的下游单据信息\r\n   */\r\n  clearDownBill() {\r\n    delete this.queryParam.filterArgs.downBillVoId;\r\n    this.queryParam.filterArgsExt.downBillVoName = null;\r\n  }\r\n\r\n  /**\r\n   * 清除选中的启用状态\r\n   */\r\n  clearIsEnabled() {\r\n    delete this.queryParam.filterArgs.isEnabled;\r\n  }\r\n\r\n  /**\r\n   * 清除选中的发布状态\r\n   */\r\n  clearIsPublished() {\r\n    // delete this.queryParam.filterArgs.isPublished;\r\n  }\r\n\r\n  /**\r\n   * 清除选中的发布状态\r\n   */\r\n  clearSysInit() {\r\n    delete this.queryParam.filterArgs.sysInit;\r\n  }\r\n\r\n  /**\r\n   * 点击筛选按钮\r\n   */\r\n  clickBtnFilter() {\r\n    this.queryParam.filterArgs.pageIndex = 0;\r\n    this.onSearchEmitter.emit(this.queryParam);\r\n  }\r\n\r\n  /**\r\n   * 点击清空按钮\r\n   */\r\n  clickBtnClear() {\r\n    //重置下拉框\r\n    // this.comboProcessType.onClear();\r\n    // this.comboProcessTypeData = this.comboProcessTypeData.map(item => ({ ...item }));\r\n\r\n    // this.comboEnabledState.onClear();\r\n    // this.comboEnabledStateData = this.comboEnabledStateData.map(item => ({ ...item }));\r\n\r\n    // this.comboSysInit.onClear();\r\n    // this.comboSysInitData = this.comboSysInitData.map(item => ({ ...item }));\r\n\r\n    // this.comboPublishedState.onClear();\r\n    // this.comboPublishedStateData = this.comboPublishedStateData.map(item => ({ ...item }));\r\n\r\n    //重置查询参数\r\n    // const queryParam = {\r\n    //   filterArgs: new ProcessFilterConditionArgs(),\r\n    //   filterArgsExt: {}\r\n    // };\r\n    // queryParam.filterArgs.LoadFromJsonObject(this.queryParam.filterArgs.ConvertToJsonObject());\r\n\r\n    const queryParam = this.queryParam;\r\n    queryParam.filterArgsExt = {};\r\n\r\n    queryParam.filterArgs.upBillVoId = null;\r\n    queryParam.filterArgs.downBillVoId = null;\r\n    queryParam.filterArgs.sysInit = null;\r\n    queryParam.filterArgs.name = null;\r\n\r\n    // queryParam.filterArgs.pageSize = this.queryParam.filterArgs.pageSize;\r\n    // queryParam.filterArgs.pageIndex = this.queryParam.filterArgs.pageIndex;\r\n    // queryParam.filterArgs.orderByCode = this.queryParam.filterArgs.orderByCode;\r\n    // queryParam.filterArgs.orderByName = this.queryParam.filterArgs.orderByName;\r\n    // queryParam.filterArgs.OrderByLastModifiedTime = this.queryParam.filterArgs.OrderByLastModifiedTime;\r\n\r\n    this.queryParam = queryParam;\r\n  }\r\n}\r\n","import { ModuleWithProviders, NgModule } from \"@angular/core\";\r\nimport { AifLocalePipe, BIF_LANG_RESOURCES } from \"./pipe/aif-ui-common-locale.pipe\";\r\n\r\n@NgModule({\r\n    declarations: [\r\n        AifLocalePipe\r\n    ],\r\n    exports: [\r\n        AifLocalePipe\r\n    ]\r\n})\r\nexport class AifUiCommonModule {\r\n    static forRoot(resources?: any): ModuleWithProviders {\r\n        return {\r\n            ngModule: AifUiCommonModule,\r\n            providers: [\r\n                { provide: BIF_LANG_RESOURCES, useValue: resources || {} },\r\n            ],\r\n        };\r\n    }\r\n}","import { NgModule, LOCALE_ID } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { HttpClientModule } from '@angular/common/http';\r\n\r\nimport { CacheService, SessionService, HttpService } from '@ecp-caf/caf-common';\r\nimport { FrmEventBus, FuncsService, AppService, FrameworkService } from '@gsp-sys/rtf-common';\r\nimport { BusinessObjectRtService } from '@gsp-lcm/bo-rt-service';\r\nimport { MetadataRTSelectModule, GSPMetadataRTServiceModule, GSPMetadataRTService } from '@gsp-lcm/metadatart-selector';\r\nimport { FResponseToolbarModule } from '@farris/ui-response-toolbar';\r\nimport { ListFilterModule } from '@farris/ui-list-filter';\r\nimport { AngularDraggableModule } from '@farris/ui-draggable';\r\nimport { FarrisCommonModule } from '@farris/ui-common';\r\nimport { FarrisFormsModule } from '@farris/ui-forms';\r\nimport { FarrisSectionModule } from '@farris/ui-section';\r\nimport { DatagridEditorsModule, EditorProviders } from '@farris/ui-datagrid-editors';\r\nimport { DatagridModule } from '@farris/ui-datagrid';\r\nimport { ComboListModule } from '@farris/ui-combo-list';\r\nimport { InputGroupModule } from '@farris/ui-input-group';\r\nimport { FarrisDialogModule } from '@farris/ui-dialog';\r\nimport { SwitchModule } from '@farris/ui-switch';\r\nimport { FarrisTabsModule } from '@farris/ui-tabs';\r\nimport { LookupModule } from '@farris/ui-lookup';\r\nimport { LoadingModule, LoadingService } from '@farris/ui-loading';\r\nimport { NotifyModule } from '@farris/ui-notify';\r\nimport { MessagerModule } from '@farris/ui-messager';\r\nimport { ModalModule } from '@farris/ui-modal';\r\n\r\nimport { ProcessListHelpComponent } from './components/process-list-help/process-list-help.component';\r\nimport { ProcHelpQuerySolutionComponent } from './components/proc-help-query-solution/proc-help-query-solution.component';\r\nimport { ProcessListHelpService } from './services/process-list-help.service';\r\nimport { AifUiCommonModule } from '../aif-ui-common/aif-ui-common.module';\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    HttpClientModule,\r\n    MetadataRTSelectModule,\r\n    GSPMetadataRTServiceModule.forRoot(\"\"),\r\n    FResponseToolbarModule,\r\n    ListFilterModule,\r\n    AngularDraggableModule,\r\n    FarrisCommonModule.forRoot(),\r\n    FarrisFormsModule,\r\n    FarrisSectionModule,\r\n    DatagridEditorsModule,\r\n    DatagridModule.forRoot([\r\n      ...EditorProviders\r\n    ]),\r\n    ComboListModule,\r\n    InputGroupModule,\r\n    FarrisDialogModule,\r\n    SwitchModule,\r\n    FarrisTabsModule,\r\n    LookupModule,\r\n    LoadingModule.forRoot({\r\n      message: 'Loading...'\r\n    }),\r\n    NotifyModule.forRoot(),\r\n    MessagerModule.forRoot({\r\n      width: 550,\r\n      height: 450\r\n    }),\r\n    ModalModule.forRoot(),\r\n    AifUiCommonModule,\r\n  ],\r\n  providers: [\r\n    CacheService,\r\n    SessionService,\r\n    HttpService,\r\n    FrmEventBus,\r\n    FuncsService,\r\n    LoadingService,\r\n    AppService,\r\n    FrameworkService,\r\n    GSPMetadataRTService,\r\n    BusinessObjectRtService,\r\n    ProcessListHelpService,\r\n  ],\r\n  declarations: [\r\n    ProcessListHelpComponent,\r\n    ProcHelpQuerySolutionComponent,\r\n  ],\r\n  entryComponents: [\r\n    ProcessListHelpComponent,\r\n    ProcHelpQuerySolutionComponent,\r\n  ]\r\n})\r\nexport class ProcessListHelpModule {\r\n\r\n}\r\n","import {Pipe, PipeTransform} from \"@angular/core\";\r\nimport {ActivityExecutorParticipant} from \"./activity-executor.participant\";\r\n\r\n@Pipe({ name: 'activityExecutor' })\r\nexport class ActivityExecutorPipe implements PipeTransform {\r\n  constructor() { }\r\n\r\n  transform(activityExecutors: ActivityExecutorParticipant[], defaultVal = ''): string {\r\n    let r = '';\r\n    activityExecutors.forEach(u => {\r\n      r += u.activityDefName + '，';\r\n    });\r\n    if (r) {\r\n      r = r.substring(0, r.length - 1);\r\n    }\r\n    return r ? r : defaultVal;\r\n  }\r\n}\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\nimport { VariablePerformerEntity } from '../../entities/variable-performer.entity';\r\n\r\n@Pipe({ name: 'variableName' })\r\nexport class VariableNamePipe implements PipeTransform {\r\n    constructor() { }\r\n    transform(users: VariablePerformerEntity[], defaultVal = ''): string {\r\n        let r = '';\r\n        users.forEach(u => {\r\n            r += u.name + '，';\r\n        });\r\n        if (r) {\r\n            r = r.substring(0, r.length - 1);\r\n        }\r\n        return r ? r : defaultVal;\r\n    }\r\n}\r\n","import { CommonModule } from \"@angular/common\";\r\nimport { HttpClientModule } from \"@angular/common/http\";\r\nimport { LOCALE_ID, NgModule } from \"@angular/core\";\r\nimport { FormsModule, ReactiveFormsModule } from \"@angular/forms\";\r\nimport { CacheService, HttpService, SessionService } from \"@ecp-caf/caf-common\";\r\nimport { ComboListModule } from \"@farris/ui-combo-list\";\r\nimport { FarrisCommonModule } from \"@farris/ui-common\";\r\nimport { DatagridModule } from \"@farris/ui-datagrid\";\r\nimport { DatagridEditorsModule, EditorProviders } from \"@farris/ui-datagrid-editors\";\r\nimport { FarrisDialogModule } from \"@farris/ui-dialog\";\r\nimport { AngularDraggableModule } from \"@farris/ui-draggable\";\r\nimport { FarrisFormsModule } from \"@farris/ui-forms\";\r\nimport { InputGroupModule } from \"@farris/ui-input-group\";\r\nimport { LanguageTextboxModule } from \"@farris/ui-language-textbox\";\r\nimport { ListFilterModule } from \"@farris/ui-list-filter\";\r\nimport { LoadingModule } from \"@farris/ui-loading\";\r\nimport { LookupModule } from \"@farris/ui-lookup\";\r\nimport { MessagerModule } from \"@farris/ui-messager\";\r\nimport { ModalModule } from \"@farris/ui-modal\";\r\nimport { NotifyModule } from \"@farris/ui-notify\";\r\nimport { PaginationModule } from \"@farris/ui-pagination\";\r\nimport { FResponseToolbarModule } from \"@farris/ui-response-toolbar\";\r\nimport { FarrisSectionModule } from \"@farris/ui-section\";\r\nimport { SplitterModule } from \"@farris/ui-splitter\";\r\nimport { SwitchModule } from \"@farris/ui-switch\";\r\nimport { FarrisTabsModule } from \"@farris/ui-tabs\";\r\nimport { TreeTableModule } from \"@farris/ui-treetable\";\r\nimport { BusinessObjectRtService } from \"@gsp-lcm/bo-rt-service\";\r\nimport { GSPMetadataRTService, GSPMetadataRTServiceModule, MetadataRTSelectModule } from \"@gsp-lcm/metadatart-selector\";\r\nimport { AppService, FrameworkService, FrmEventBus, FuncsService, LoadingService } from \"@gsp-sys/rtf-common\";\r\nimport { AifUiCommonModule } from \"../aif-ui-common/aif-ui-common.module\";\r\nimport { BillTypeHelpService } from \"./bill-type-help.service\";\r\nimport { BillTypeHelpComponent } from \"./bill-type-help/bill-type-help.component\";\r\n\r\n@NgModule({\r\n    imports: [\r\n        CommonModule,\r\n        HttpClientModule,\r\n        FormsModule,\r\n        ReactiveFormsModule,\r\n        MetadataRTSelectModule,\r\n        GSPMetadataRTServiceModule.forRoot(\"\"),\r\n        FResponseToolbarModule,\r\n        ListFilterModule,\r\n        AngularDraggableModule,\r\n        FarrisCommonModule.forRoot(),\r\n        FarrisFormsModule,\r\n        FarrisSectionModule,\r\n        DatagridEditorsModule,\r\n        DatagridModule.forRoot([\r\n            ...EditorProviders\r\n        ]),\r\n        ComboListModule,\r\n        InputGroupModule,\r\n        FarrisDialogModule,\r\n        SwitchModule,\r\n        FarrisTabsModule,\r\n        LookupModule,\r\n        TreeTableModule,\r\n        LoadingModule.forRoot({\r\n            message: 'Loading...'\r\n        }),\r\n        NotifyModule.forRoot(),\r\n        MessagerModule.forRoot({\r\n            width: 550,\r\n            height: 450\r\n        }),\r\n        ModalModule.forRoot(),\r\n        PaginationModule,\r\n        SplitterModule,\r\n        LanguageTextboxModule,\r\n        AifUiCommonModule,\r\n    ],\r\n    providers: [\r\n        CacheService,\r\n        SessionService,\r\n        HttpService,\r\n        FrmEventBus,\r\n        FuncsService,\r\n        LoadingService,\r\n        AppService,\r\n        FrameworkService,\r\n        { provide: LOCALE_ID, useValue: localStorage.getItem('languageCode') || 'zh-CHS' },\r\n        GSPMetadataRTService,\r\n        BusinessObjectRtService,\r\n        BillTypeHelpService,\r\n    ],\r\n    declarations: [\r\n        BillTypeHelpComponent,\r\n    ],\r\n    entryComponents: [\r\n        BillTypeHelpComponent,\r\n    ],\r\n})\r\nexport class BillTypeHelpModule {\r\n\r\n}","import { Injectable, Inject, LOCALE_ID } from '@angular/core';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { Resolve } from '@angular/router';\r\n\r\n@Injectable()\r\nexport class TranslateResolveService implements Resolve<any> {\r\n\r\n  constructor(\r\n    private translate: TranslateService,\r\n    @Inject(LOCALE_ID) private curLanguage: string\r\n  ) { }\r\n  resolve(route: import ('@angular/router').ActivatedRouteSnapshot, state: import ('@angular/router').RouterStateSnapshot) {\r\n    this.translate.defaultLang = this.curLanguage;\r\n    return this.translate.getTranslation(this.curLanguage);\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { TranslateResolveService } from './service/translate-resolve.service';\r\nimport { WfProcessEditorComponent } from './wf-process-editor.component';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: 'WfProcessEditor', component: WfProcessEditorComponent,\r\n    children: [],\r\n    resolve: {\r\n      'translate': TranslateResolveService\r\n    }\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    RouterModule.forChild(routes)\r\n  ],\r\n  exports: [\r\n    RouterModule\r\n  ]\r\n})\r\nexport class WfProcessEditorRoutingModule { }\r\n","import { ModuleWithProviders, NgModule } from \"@angular/core\";\r\nimport { WfLocalePipe, WF_LANG_RESOURCES } from \"./pipe/wf-process-editor-locale.pipe\";\r\n\r\n@NgModule({\r\n  declarations: [\r\n    WfLocalePipe\r\n  ],\r\n  exports: [\r\n    WfLocalePipe\r\n  ]\r\n})\r\nexport class WfLocaleModule {\r\n  static forRoot(resources?: any): ModuleWithProviders {\r\n    return {\r\n      ngModule: WfLocaleModule,\r\n      providers: [\r\n        { provide: WF_LANG_RESOURCES, useValue: resources || {} },\r\n      ],\r\n    };\r\n  }\r\n}\r\n","import { NgModule, LOCALE_ID } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { ReactiveFormsModule, FormsModule } from '@angular/forms';\r\nimport { HttpClient, HttpClientModule } from '@angular/common/http';\r\nimport { WfProcessEditorComponent } from './wf-process-editor.component';\r\nimport { PerformerConfigService } from './views/performer/performer-config.service';\r\nimport { EntryFormEditorComponent } from './views/entryForm/entry-form-editor.component';\r\nimport { ExpressionEditorComponent } from './views/expressionEditor/expression-editor.component';\r\nimport { AssignPerformerConfigComponent } from './views/assign-performer-config/assign-performer-config.component';\r\nimport { SignRuleComponent } from './views/sign-rule/sign-rule.component';\r\nimport { ApprovelItemsComponent } from './views/approvel-items/approvel-items.component';\r\nimport { ExecuteFormsComponent } from './views/execute-forms/execute-forms.component';\r\nimport { JumpScopeComponent } from './views/jump-scope/jump-scope.component';\r\nimport { BackwardRuleComponent } from './views/backward-rule/backward-rule.component';\r\nimport { ActivityComponentComponent } from './views/activity-component/activity-component.component';\r\nimport { PerformerComponent } from './views/performer/performer.component';\r\nimport { PerformerEditComponent } from './views/performer/views/performer-edit/performer-edit.component';\r\nimport { UserPerformerComponent } from './views/performer/views/user-performer/user-performer.component';\r\nimport { ComponentPerformerComponent } from './views/performer/views/component-performer/component-performer.component';\r\nimport { PositionPerformerComponent } from './views/performer/views/position-performer/position-performer.component';\r\nimport { PerformerOptionsComponent } from './views/performer/views/performer-options/performer-options.component';\r\nimport { ReportingLineComponent } from './views/performer/views/reporting-line/reporting-line.component';\r\nimport { TitleExpressionComponent } from './views/title-expression/title-expression.component';\r\nimport { SaveAsEditComponent } from './views/save-as-edit/save-as-edit.component';\r\nimport { OrganizationPotentialOwnerComponent } from './views/organization-potential-owner/organization-potential-owner.component';\r\nimport { CustomizeActionComponent } from './views/customize-action/customize-action.component';\r\nimport { CustomizeActionListComponent } from './views/customize-action/views/customize-action-list/customize-action-list.component';\r\nimport { JumpScopePipe } from './views/jump-scope/jump-scope.pipe';\r\nimport { UsersIdPipe, UsersNamePipe } from './views/performer/views/user-performer/users-name.pipe';\r\nimport { PROCESS_DESIGNER_APP_PROVIDERS, PROCESS_DESIGNER_DOMAIN_PROVIDERS, PROCESS_DESIGNER_PART_PROVIDERS } from './index';\r\nimport { SessionService, HttpService } from '@ecp-caf/caf-common';\r\nimport { ExpressionService, ExpressionModule } from '@gsp-svc/expression';\r\nimport { CommonComponentUiRTService, CommonComponentUiModule } from '@gsp-cmp/ccmp-ui';\r\nimport { SelectMetadataRTComponent, GSPMetadataRTServiceModule, MetadataRTSelectModule } from '@gsp-lcm/metadatart-selector';\r\nimport { SysManagerUIModule } from '@gsp-sys/sysmgr-ui';\r\nimport { RtfAppHelpModule } from '@gsp-sys/rtf-ui';\r\nimport { TreeTableModule } from '@farris/ui-treetable';\r\nimport { PropertyPanelModule } from '@farris/ide-property-panel';\r\nimport { DataTableModule } from '@farris/ui-datatable';\r\nimport { LayoutModule } from '@farris/ui-layout';\r\nimport { NotifyModule } from '@farris/ui-notify';\r\nimport { FarrisDialogModule } from '@farris/ui-dialog';\r\nimport { SplitterModule } from '@farris/ui-splitter';\r\nimport { InputGroupModule } from '@farris/ui-input-group';\r\nimport { LookupModule } from '@farris/ui-lookup';\r\nimport { FlexLayoutModule } from '@farris/ui-flex-layout';\r\nimport { FarrisPanelModule } from '@farris/ui-panel';\r\nimport { FarrisResponsiveModule } from '@farris/ui-responsive';\r\nimport { FarrisTabsModule } from '@farris/ui-tabs';\r\nimport { LoadingModule } from '@farris/ui-loading';\r\nimport { MessagerModule } from '@farris/ui-messager';\r\nimport { ModalModule } from '@farris/ui-modal';\r\nimport { PopoverModule } from '@farris/ui-popover';\r\nimport { PaginationModule } from '@farris/ui-pagination';\r\nimport { DatagridFilterRowModule } from '@farris/ui-datagrid-filter';\r\nimport { FarrisDropdownModule, FDropdownDirectiveTypeModule } from '@farris/ui-dropdown';\r\nimport { DatagridEditorsModule, EditorProviders } from '@farris/ui-datagrid-editors';\r\nimport { DatagridModule } from '@farris/ui-datagrid';\r\nimport { ComboListModule } from '@farris/ui-combo-list';\r\nimport { FarrisFormsModule } from '@farris/ui-forms';\r\nimport { SwitchModule } from '@farris/ui-switch';\r\nimport { WizardModule } from '@farris/ui-wizard';\r\nimport { FarrisSectionModule } from '@farris/ui-section';\r\nimport { PerfectScrollbarModule } from '@farris/ui-perfect-scrollbar';\r\nimport { ProcessDeUtil } from './domain/process-de-util';\r\nimport { CallActivitySubProcessComponent } from './views/call-activity-sub-process/call-activity-sub-process.component';\r\nimport { WfBizprocessLookupModule } from '@gsp-wf/wf-bizprocess-lookup';\r\nimport { TimeLimitControlComponent } from './views/time-limit-control/time-limit-control.component';\r\nimport { SendMessageOperationComponent } from './views/time-limit-control/send-message-operation/send-message-operation.component';\r\nimport { NumberSpinnerModule } from '@farris/ui-number-spinner';\r\nimport { EventDefinitionComponent } from './views/event-definition/event-definition.component';\r\nimport { AnonymousSetComponent } from './views/anonymous-set/anonymous-set.component';\r\nimport { ProcessVariablesComponent } from './views/process-variables/process-variables.component';\r\nimport { VariableSettingComponent } from './views/variable-setting/variable-setting.component';\r\nimport { ConstantEditComponent } from './views/variable-setting/views/constant-edit/constant-edit.component';\r\nimport { ComponentEditComponent } from './views/variable-setting/views/component-edit/component-edit.component';\r\nimport { MessageNoticeComponent } from './views/message-notice/message-notice.component';\r\nimport { MessageNoticeEditComponent } from './views/message-notice/message-notice-edit/message-notice-edit.component';\r\nimport { AddExecuteFormComponent } from './views/execute-forms/add-execute-form/add-execute-form.component';\r\nimport { FormFormatConfigComponent } from './views/execute-forms/form-format-config/form-format-config.component';\r\nimport { FormConfigContainerComponent } from './views/execute-forms/form-config-container/form-config-container.component';\r\nimport { FarrisButtonModule } from '@farris/ui-button';\r\nimport { ParameterSettingComponent } from './views/execute-forms/parameter-setting/parameter-setting.component';\r\nimport { FormOperationConfigComponent } from './views/execute-forms/form-operation-config/form-operation-config.component';\r\nimport { NoteComponent } from './views/note/note.component';\r\nimport { ApprovalPivotComponent } from './views/approval-pivot/approval-pivot.component';\r\nimport { WfReportDefHelpComponent } from './views/performer/views/reporting-line/service/wf-report-def-help.component';\r\nimport { WfReportDefHelpService } from './views/performer/views/reporting-line/service/wf-report-def-help.service';\r\nimport { UrgeHandleRuleComponent } from './views/urge-handle-rule/urge-handle-rule.component';\r\nimport { MatrixPerformerComponent } from './views/performer/views/matrix-performer/matrix-performer.component';\r\nimport { EnumListComponent } from './views/performer/views/matrix-performer/enum-list/enum-list.component';\r\nimport { AutoHandleOperationComponent } from './views/time-limit-control/auto-handle-operation/auto-handle-operation.component';\r\nimport { ProcessListHelpModule } from './views/aif-process-list-help/process-list-help.module';\r\nimport { ProcessListHelpComponent } from './views/aif-process-list-help/components/process-list-help/process-list-help.component';\r\nimport { ExtendPropertyComponent } from './views/extend-property/extend-property.component';\r\nimport { CallActivitySubProcess2Component } from './views/call-activity-sub-process2/call-activity-sub-process2.component';\r\nimport { ComboLookupModule } from '@farris/ui-combo-lookup';\r\nimport { ActivityExecutorPipe } from './views/performer/views/activity-executor-performer/entities/activity-executor.pipe';\r\nimport { ActivityExecutorPerformerComponent } from './views/performer/views/activity-executor-performer/activity-executor-performer.component';\r\nimport { SysmgrLookupModule } from '@gsp-sys/sysmgr-lookup';\r\nimport { ImageSetComponent } from './views/image-set/image-set.component';\r\nimport { MessageNoticeCopyComponent } from './views/message-notice/message-notice-copy/message-notice-copy.component';\r\nimport { EventBusService } from './views/shared/event-bus.service';\r\nimport { CheckConditionComponent } from './views/check-condition/check-condition.component';\r\nimport { LanguageTextboxModule } from '@farris/ui-language-textbox';\r\nimport { AssignStrategyComponent } from './views/assign-strategy/assign-strategy.component';\r\nimport { VerifyDetailModule } from '@farris/ui-verify-detail';\r\nimport { ActivityListComponent } from './views/activity-list/activity-list.component';\r\nimport { EditComponentParameterComponent } from './views/edit-component-parameter/edit-component-parameter.component';\r\nimport { VariablePerformerComponent } from './views/performer/views/variable-performer/variable-performer.component';\r\nimport { ReleaseComponent } from './views/release-component/release-component.component';\r\nimport { FarrisHtmlEditorModule } from '@farris/ui-html-editor';\r\nimport { WfTaskHandlerModule } from '@gsp-wf/wf-task-handler';\r\nimport { ParticipantComponent } from './views/participant/participant.component';\r\nimport { MatrixDefHelpService } from './views/performer/views/matrix-performer/service/matrix-performer.component.service';\r\nimport { VariableGridComponent } from './views/execute-forms/variable-grid/variable-grid.component';\r\nimport { VariableNamePipe } from './views/performer/views/variable-performer/variable-name.pipe';\r\nimport { AssignScopeComponent } from './views/assign-scope/assign-scope.component';\r\nimport { SmsMessageTemplateComponent } from './views/sms-message-template/sms-message-template.component';\r\nimport { VoConfigComponent } from './views/vo-config/vo-config.component';\r\nimport { WfOptionsComponent } from './views/wf-options/wf-options.component';\r\nimport { BillTypeHelpModule } from './views/bill-type-help/bill-type-help.module';\r\nimport { StartConditionComponent } from './views/start-condition/start-condition.component';\r\nimport { FResponseToolbarModule } from '@farris/ui-response-toolbar';\r\nimport { AifUiCommonModule } from './views/aif-ui-common/aif-ui-common.module';\r\nimport { DataEntityModule } from '@gsp-svc/data-entity-adapter';\r\nimport { BizProcessApiModule } from '@gsp-wf/biz-process-api';\r\nimport { PersonnelSelectorModule, PersonnelSelectorDataGridEditorProvider } from '@farris/ui-personnel-selector';\r\nimport { PositionsNamePipe } from './views/performer/views/position-performer/positions-name.pipe';\r\nimport { TranslateHttpLoader } from '@ngx-translate/http-loader';\r\nimport { TranslateLoader, TranslateModule } from '@ngx-translate/core';\r\nimport { TranslateResolveService } from './service/translate-resolve.service';\r\nimport { WfProcessEditorRoutingModule } from './wf-process-editor-routing.module';\r\nimport { WfLocaleModule } from './i18n/wf-process-editor-locale.module';\r\nimport { WF_LANG_RESOURCES, WfLocalePipe } from './i18n/pipe/wf-process-editor-locale.pipe';\r\nimport { WF_PROCESS_EDITOR_LANG_RESOURCES } from './i18n/assets/lang.resource';\r\nimport { AifLocalePipe, BIF_LANG_RESOURCES } from './views/aif-ui-common/pipe/aif-ui-common-locale.pipe';\r\nimport { AIF_PROCESS_LIST_HELP_LANG_RESOURCES } from './views/aif-process-list-help/i18n/lang.resource';\r\nimport { BatchSetPropertiesComponent } from './views/batch-set-properties/batch-set-properties.component';\r\nimport { MultiInstanceLoopCharacteristicsComponent } from './views/multi-instance-loop-characteristics/multi-instance-loop-characteristics.component';\r\nimport { AlternativeParticipantComponent } from './views/participant/alternative-participant/alternative-participant.component';\r\n\r\n\r\n// 国际化相关\r\nexport function HttpLoaderFactory(httpClient: HttpClient) {\r\n  const languagePath = 'platform/runtime/common/web/@gsp-wf/wf-process-editor/i18n/';\r\n  return new TranslateHttpLoader(httpClient, languagePath, '.json?v=' + new Date().getTime());\r\n}\r\n\r\n@NgModule({\r\n  declarations: [\r\n    WfProcessEditorComponent,\r\n    EntryFormEditorComponent,\r\n    ExpressionEditorComponent,\r\n    AssignPerformerConfigComponent,\r\n    SignRuleComponent,\r\n    ApprovelItemsComponent,\r\n    ExecuteFormsComponent,\r\n    JumpScopeComponent,\r\n    BackwardRuleComponent,\r\n    JumpScopePipe,\r\n    ActivityComponentComponent,\r\n    PerformerComponent,\r\n    PerformerEditComponent,\r\n    UserPerformerComponent,\r\n    ComponentPerformerComponent,\r\n    PositionPerformerComponent,\r\n    PerformerOptionsComponent,\r\n    UsersNamePipe,\r\n    UsersIdPipe,\r\n    VariableNamePipe,\r\n    ActivityExecutorPipe,\r\n    ReportingLineComponent,\r\n    TitleExpressionComponent,\r\n    SaveAsEditComponent,\r\n    OrganizationPotentialOwnerComponent,\r\n    CustomizeActionComponent,\r\n    CustomizeActionListComponent,\r\n    CallActivitySubProcessComponent,\r\n    TimeLimitControlComponent,\r\n    SendMessageOperationComponent,\r\n    EventDefinitionComponent,\r\n    AnonymousSetComponent,\r\n    ProcessVariablesComponent,\r\n    VariableSettingComponent,\r\n    ConstantEditComponent,\r\n    ComponentEditComponent,\r\n    MessageNoticeComponent,\r\n    MessageNoticeEditComponent,\r\n    AddExecuteFormComponent,\r\n    FormFormatConfigComponent,\r\n    FormConfigContainerComponent,\r\n    ParameterSettingComponent,\r\n    FormOperationConfigComponent,\r\n    ApprovalPivotComponent,\r\n    WfReportDefHelpComponent,\r\n    UrgeHandleRuleComponent,\r\n    NoteComponent,\r\n    MatrixPerformerComponent,\r\n    EnumListComponent,\r\n    AutoHandleOperationComponent,\r\n    ExtendPropertyComponent,\r\n    CallActivitySubProcess2Component,\r\n    ActivityExecutorPerformerComponent,\r\n    ImageSetComponent,\r\n    MessageNoticeCopyComponent,\r\n    CheckConditionComponent,\r\n    AssignStrategyComponent,\r\n    ActivityListComponent,\r\n    EditComponentParameterComponent,\r\n    VariablePerformerComponent,\r\n    ReleaseComponent,\r\n    ParticipantComponent,\r\n    VariableGridComponent,\r\n    VoConfigComponent,\r\n    WfOptionsComponent,\r\n    AssignScopeComponent,\r\n    SmsMessageTemplateComponent,\r\n    StartConditionComponent,\r\n    PositionsNamePipe,\r\n    BatchSetPropertiesComponent,\r\n    MultiInstanceLoopCharacteristicsComponent,\r\n    AlternativeParticipantComponent\r\n  ],\r\n  imports: [\r\n    TranslateModule.forRoot({\r\n      loader: {\r\n        provide: TranslateLoader,\r\n        useFactory: HttpLoaderFactory,\r\n        deps: [HttpClient]\r\n      }\r\n    }),\r\n    CommonModule,\r\n    ReactiveFormsModule,\r\n    FormsModule,\r\n    HttpClientModule,\r\n    SysManagerUIModule,\r\n    RtfAppHelpModule,\r\n    CommonComponentUiModule,\r\n    GSPMetadataRTServiceModule.forRoot(''),\r\n    MetadataRTSelectModule,\r\n    TreeTableModule,\r\n    DataTableModule,\r\n    LayoutModule,\r\n    NotifyModule,\r\n    FarrisDialogModule,\r\n    SplitterModule,\r\n    InputGroupModule,\r\n    LookupModule,\r\n    FlexLayoutModule,\r\n    FarrisPanelModule,\r\n    FarrisResponsiveModule,\r\n    FResponseToolbarModule,\r\n    ExpressionModule,\r\n    PropertyPanelModule,\r\n    FarrisTabsModule,\r\n    LoadingModule.forRoot({\r\n      message: '加载中...'\r\n    }),\r\n    MessagerModule.forRoot({\r\n      width: 500\r\n    }),\r\n    ModalModule,\r\n    PopoverModule,\r\n    PaginationModule,\r\n    FarrisDropdownModule,\r\n    DatagridEditorsModule,\r\n    DatagridModule.forRoot([\r\n      ...EditorProviders,\r\n      PersonnelSelectorDataGridEditorProvider\r\n    ]),\r\n    ComboListModule,\r\n    WizardModule,\r\n    FarrisFormsModule,\r\n    SwitchModule,\r\n    WfBizprocessLookupModule,\r\n    NumberSpinnerModule,\r\n    PerfectScrollbarModule,\r\n    FarrisSectionModule,\r\n    FarrisButtonModule,\r\n    ProcessListHelpModule,\r\n    BillTypeHelpModule,\r\n    FarrisButtonModule,\r\n    ComboLookupModule,\r\n    SysmgrLookupModule,\r\n    FDropdownDirectiveTypeModule,\r\n    LanguageTextboxModule,\r\n    VerifyDetailModule,\r\n    FarrisHtmlEditorModule,\r\n    WfTaskHandlerModule,\r\n    DatagridFilterRowModule.forRoot(),\r\n    AifUiCommonModule,\r\n    DataEntityModule,\r\n    BizProcessApiModule,\r\n    PersonnelSelectorModule,\r\n    WfProcessEditorRoutingModule,\r\n    WfLocaleModule,\r\n  ],\r\n  providers: [\r\n    SessionService,\r\n    HttpService,\r\n    ExpressionService,\r\n    CommonComponentUiRTService,\r\n    PROCESS_DESIGNER_APP_PROVIDERS,\r\n    PROCESS_DESIGNER_DOMAIN_PROVIDERS,\r\n    PROCESS_DESIGNER_PART_PROVIDERS,\r\n    PerformerConfigService,\r\n    ProcessDeUtil,\r\n    WfReportDefHelpService,\r\n    EventBusService,\r\n    MatrixDefHelpService,\r\n    { provide: LOCALE_ID, useValue: localStorage.getItem('languageCode') || 'zh-CHS' },\r\n    { provide: WF_LANG_RESOURCES, useValue: WF_PROCESS_EDITOR_LANG_RESOURCES },\r\n    WfLocalePipe,\r\n    TranslateResolveService,\r\n    PositionsNamePipe,\r\n    AifLocalePipe,\r\n    { provide: BIF_LANG_RESOURCES, useValue: AIF_PROCESS_LIST_HELP_LANG_RESOURCES },\r\n  ],\r\n  exports: [WfProcessEditorComponent, AlternativeParticipantComponent],\r\n  entryComponents: [\r\n    EntryFormEditorComponent,\r\n    ExpressionEditorComponent,\r\n    AssignPerformerConfigComponent,\r\n    SignRuleComponent,\r\n    ApprovelItemsComponent,\r\n    ExecuteFormsComponent,\r\n    JumpScopeComponent,\r\n    BackwardRuleComponent,\r\n    ActivityComponentComponent,\r\n    SelectMetadataRTComponent,\r\n    PerformerComponent,\r\n    PerformerEditComponent,\r\n    UserPerformerComponent,\r\n    ComponentPerformerComponent,\r\n    PositionPerformerComponent,\r\n    PerformerOptionsComponent,\r\n    ReportingLineComponent,\r\n    TitleExpressionComponent,\r\n    SaveAsEditComponent,\r\n    OrganizationPotentialOwnerComponent,\r\n    CustomizeActionComponent,\r\n    CustomizeActionListComponent,\r\n    CallActivitySubProcessComponent,\r\n    TimeLimitControlComponent,\r\n    SendMessageOperationComponent,\r\n    EventDefinitionComponent,\r\n    AnonymousSetComponent,\r\n    ProcessVariablesComponent,\r\n    VariableSettingComponent,\r\n    ConstantEditComponent,\r\n    ComponentEditComponent,\r\n    MessageNoticeComponent,\r\n    MessageNoticeEditComponent,\r\n    MessageNoticeCopyComponent,\r\n    AddExecuteFormComponent,\r\n    FormFormatConfigComponent,\r\n    FormConfigContainerComponent,\r\n    ParameterSettingComponent,\r\n    FormOperationConfigComponent,\r\n    ApprovalPivotComponent,\r\n    UrgeHandleRuleComponent,\r\n    NoteComponent,\r\n    MatrixPerformerComponent,\r\n    EnumListComponent,\r\n    AutoHandleOperationComponent,\r\n    ProcessListHelpComponent,\r\n    ExtendPropertyComponent,\r\n    CallActivitySubProcess2Component,\r\n    ActivityExecutorPerformerComponent,\r\n    ImageSetComponent,\r\n    CheckConditionComponent,\r\n    AssignStrategyComponent,\r\n    ActivityListComponent,\r\n    EditComponentParameterComponent,\r\n    VariablePerformerComponent,\r\n    ReleaseComponent,\r\n    ParticipantComponent,\r\n    VariableGridComponent,\r\n    VoConfigComponent,\r\n    WfOptionsComponent,\r\n    AssignScopeComponent,\r\n    StartConditionComponent,\r\n    BatchSetPropertiesComponent,\r\n    MultiInstanceLoopCharacteristicsComponent,\r\n    AlternativeParticipantComponent\r\n  ],\r\n})\r\nexport class WfProcessEditorModule { }\r\n","import { SequenceFlowState, SequenceFlow, FlowElement, ExclusiveGateway, Expression, FlowNode, InclusiveGateway } from \"@edp-pmf/bpmn-model\";\r\nimport { SequenceFlowEdge, FarrisPropConfigWithData, ElementPropertyConfig } from \"@edp-pmf/grapheditor\";\r\nimport { UserActivity, Condition } from \"@gsp-wf/wf-process-model\";\r\nimport { SequenceFlowPropertyKeys } from \"./property-keys/SequenceFlowPropertyKeys\";\r\nimport { WfLocalePipe } from \"../../i18n/pipe/wf-process-editor-locale.pipe\";\r\nimport { mxResources } from \"@edp-pmf/mxgraph-ts\";\r\n\r\n/**\r\n * 事件流连线，增加状态颜色信息\r\n */\r\nexport class WfSequenceFlowEdge extends SequenceFlowEdge {\r\n    localePipe: WfLocalePipe = null;\r\n    strokeColors = {\r\n        [SequenceFlowState.Default]: \"#6482b9\",\r\n    };\r\n\r\n    getFarrisPropConfig(): FarrisPropConfigWithData {\r\n        const sequenceFlow = this.flowElement;\r\n        const sourceNode = sequenceFlow.Model.DefaultProcess.GetFlowElement(sequenceFlow.SourceRef);\r\n        let conditionConfig: ElementPropertyConfig = new ElementPropertyConfig();\r\n        let basicConfig: ElementPropertyConfig = new ElementPropertyConfig();\r\n        let propertyData = {};\r\n\r\n        basicConfig.categoryId = 'basic';\r\n        basicConfig.categoryName =  mxResources.get('basicInfo');\r\n        basicConfig.tabId = 'basic';\r\n        basicConfig.tabName =  mxResources.get('basic')\r\n        basicConfig.properties = [\r\n            { propertyID: SequenceFlowPropertyKeys.Name, propertyName:  mxResources.get('name'), propertyType: 'string', visible: !this.editorUi.multiLangEnabled },\r\n            { propertyID: SequenceFlowPropertyKeys.NameLanguage, propertyName:  mxResources.get('nameLanguage'), propertyType: 'multiLanguage', visible: this.editorUi.multiLangEnabled },\r\n            { propertyID: SequenceFlowPropertyKeys.Id, propertyName:  mxResources.get('id'), propertyType: 'string', readonly: true }\r\n        ];\r\n        conditionConfig.categoryId = 'condition';\r\n        conditionConfig.categoryName =  mxResources.get('basicInfo');\r\n        conditionConfig.tabId = 'basic';\r\n        conditionConfig.tabName =  mxResources.get('basic');\r\n        conditionConfig.properties = [\r\n            { propertyID: SequenceFlowPropertyKeys.ConditionExpression, propertyName:  mxResources.get('ConditionExpression'), propertyType: 'modal' }\r\n        ];\r\n        // 源节点为排他网关和UserActivity时\r\n        if (sourceNode.ClrTypeID === UserActivity.Clr_Type_ID || sourceNode.ClrTypeID === 'bpmn.ExclusiveGateway' || sourceNode.ClrTypeID === 'bpmn.InclusiveGateway') {\r\n            conditionConfig.properties.push(\r\n                { propertyID: SequenceFlowPropertyKeys.Default, propertyName:  mxResources.get('default'), propertyType: 'select' }\r\n            );\r\n        }\r\n\r\n        this.setSequenceFlowValue(sequenceFlow, sourceNode, propertyData);\r\n        return {\r\n            propertyConfig: [basicConfig, conditionConfig],\r\n            propertyData: propertyData\r\n        };\r\n    }\r\n\r\n    updateProps(obj: any): void {\r\n        const sequenceFlow = this.flowElement;\r\n        let propertyId: string = obj.propertyID;\r\n        switch (propertyId) {\r\n            case SequenceFlowPropertyKeys.ConditionExpression:                                         // 更新条件\r\n                this.updateConditionExpr(sequenceFlow, obj.propertyValue);\r\n                break;\r\n            case SequenceFlowPropertyKeys.Default:\r\n                this.modifyDefaultSequenceFlow(sequenceFlow, obj.propertyValue);\r\n                break;\r\n            default:\r\n                super.updateProps(obj);\r\n                break;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 设置连接线属性值\r\n     * @param sequence\r\n     * @param propertyData\r\n     */\r\n    setSequenceFlowValue(sequenceFlow: SequenceFlow, sourceNode: FlowElement, propertyData: Object) {\r\n        propertyData[SequenceFlowPropertyKeys.Id] = sequenceFlow.Id;\r\n        propertyData[SequenceFlowPropertyKeys.ClrTypeID] = sequenceFlow.ClrTypeID;\r\n        propertyData[SequenceFlowPropertyKeys.Name] = sequenceFlow.Name;\r\n        propertyData[SequenceFlowPropertyKeys.NameLanguage] = sequenceFlow.NameLanguage || {\r\n            \"zh-CHS\": sequenceFlow.Name,\r\n        };\r\n        if (!sequenceFlow.ConditionExpression || !sequenceFlow.ConditionExpression.MexExpression)\r\n            propertyData[SequenceFlowPropertyKeys.ConditionExpression] = '';\r\n        else\r\n            propertyData[SequenceFlowPropertyKeys.ConditionExpression] =\r\n                (sequenceFlow.ConditionExpression.MexExpression as Condition).Value;\r\n\r\n        if (sourceNode.ClrTypeID === UserActivity.Clr_Type_ID) {\r\n            const userActivity = sourceNode as UserActivity;\r\n            if (userActivity.Default === sequenceFlow.Id) {\r\n                propertyData[SequenceFlowPropertyKeys.Default] = true;\r\n            } else {\r\n                propertyData[SequenceFlowPropertyKeys.Default] = false;\r\n            }\r\n        }\r\n        if (sourceNode.ClrTypeID === 'bpmn.ExclusiveGateway') {\r\n            const gateway = sourceNode as ExclusiveGateway;\r\n            if (gateway.Default === sequenceFlow.Id) {\r\n                propertyData[SequenceFlowPropertyKeys.Default] = true;\r\n            } else {\r\n                propertyData[SequenceFlowPropertyKeys.Default] = false;\r\n            }\r\n        }\r\n        if (sourceNode.ClrTypeID === 'bpmn.InclusiveGateway') {\r\n            const gateway = sourceNode as InclusiveGateway;\r\n            if (gateway.Default === sequenceFlow.Id) {\r\n                propertyData[SequenceFlowPropertyKeys.Default] = true;\r\n            } else {\r\n                propertyData[SequenceFlowPropertyKeys.Default] = false;\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 更新分支条件\r\n     * @param seqFlow\r\n     * @param val\r\n     */\r\n    updateConditionExpr(seqFlow: SequenceFlow, val: string) {\r\n        seqFlow.ConditionExpression = null;\r\n        if (val) {\r\n            let expression = new Expression(seqFlow.Model);\r\n            let condition = new Condition(seqFlow.Model);\r\n            condition.Value = val;\r\n            expression.MexExpression = condition;\r\n            seqFlow.ConditionExpression = expression;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 更新默认分支(当前适用：排他网关+活动节点)\r\n     * @param seqFlow\r\n     * @param val\r\n     */\r\n    modifyDefaultSequenceFlow(seqFlow: SequenceFlow, val: boolean) {\r\n        // 获取流转线源节点\r\n        const node = seqFlow.Model.DefaultProcess.GetFlowElement(seqFlow.SourceRef) as FlowNode;\r\n        if (node.ClrTypeID === UserActivity.Clr_Type_ID) {\r\n            // 节点为UserActivity类型\r\n            const userActivity = node as UserActivity;\r\n            if (val === true) {\r\n                userActivity.Default = seqFlow.Id;\r\n            } else if (val === false) {\r\n                // 源节点的默认分支===流转分支ID\r\n                if (userActivity.Default === seqFlow.Id) {\r\n                    userActivity.Default = null;\r\n                }\r\n            }\r\n        } else if (node.ClrTypeID === 'bpmn.ExclusiveGateway') {\r\n            // 排他网关\r\n            const gateway = node as ExclusiveGateway;\r\n            if (val === true) {\r\n                gateway.Default = seqFlow.Id;\r\n            } else if (val === false) {\r\n                // 源节点的默认分支===流转分支ID\r\n                if (gateway.Default === seqFlow.Id) {\r\n                    gateway.Default = null;\r\n                }\r\n            }\r\n        } else if (node.ClrTypeID === 'bpmn.InclusiveGateway') {\r\n            // 包容网关\r\n            const gateway = node as InclusiveGateway;\r\n            if (val === true) {\r\n                gateway.Default = seqFlow.Id;\r\n            } else if (val === false) {\r\n                // 源节点的默认分支===流转分支ID\r\n                if (gateway.Default === seqFlow.Id) {\r\n                    gateway.Default = null;\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n","import { BpmnCellHelper } from \"@edp-pmf/grapheditor\";\r\nimport { AifCreationBillActivityCell } from \"./AifCreationBillActivityCell\";\r\nimport { AutoActivityCell } from \"./AutoActivityCell\";\r\nimport { CallActivitySubProcessCell } from \"./CallActivitySubProcessCell\";\r\nimport { IntermediateCatchEventImplCell } from \"./IntermediateCatchEventImplCell\";\r\nimport { MessageActivityCell } from \"./MessageActivityCell\";\r\nimport { NotifyActivityCell } from \"./NotifyActivityCell\";\r\nimport { OperationActivityCell } from \"./OperationActivityCell\";\r\nimport { StartActivityCell } from \"./StartActivityCell\";\r\nimport { UserActivityCell } from \"./UserActivityCell\";\r\nimport { WfEndEventCell } from \"./WfEndEventCell\";\r\nimport { WfExclusiveGatewayCell } from \"./WfExclusiveGatewayCell\";\r\nimport { WfParallelGatewayCell } from \"./WfParallelGatewayCell\";\r\nimport { WfSequenceFlowEdge } from \"./WfSequenceFlowEdge\";\r\nimport { WfInclusiveGatewayCell } from \"./WfInclusiveGatewayCell\";\r\n\r\nBpmnCellHelper.register(AifCreationBillActivityCell.CLR_TYPE_ID, AifCreationBillActivityCell);\r\nBpmnCellHelper.register(AutoActivityCell.CLR_TYPE_ID, AutoActivityCell);\r\nBpmnCellHelper.register(CallActivitySubProcessCell.CLR_TYPE_ID, CallActivitySubProcessCell);\r\nBpmnCellHelper.register(IntermediateCatchEventImplCell.CLR_TYPE_ID, IntermediateCatchEventImplCell);\r\nBpmnCellHelper.register(MessageActivityCell.CLR_TYPE_ID, MessageActivityCell);\r\nBpmnCellHelper.register(NotifyActivityCell.CLR_TYPE_ID, NotifyActivityCell);\r\nBpmnCellHelper.register(OperationActivityCell.CLR_TYPE_ID, OperationActivityCell);\r\nBpmnCellHelper.register(StartActivityCell.CLR_TYPE_ID, StartActivityCell);\r\nBpmnCellHelper.register(UserActivityCell.CLR_TYPE_ID, UserActivityCell);\r\nBpmnCellHelper.register(WfEndEventCell.CLR_TYPE_ID, WfEndEventCell);\r\nBpmnCellHelper.register(WfExclusiveGatewayCell.CLR_TYPE_ID, WfExclusiveGatewayCell);\r\n// 暂时隐藏包容网关\r\nBpmnCellHelper.register(WfInclusiveGatewayCell.CLR_TYPE_ID, WfInclusiveGatewayCell);\r\nBpmnCellHelper.register(WfParallelGatewayCell.CLR_TYPE_ID, WfParallelGatewayCell);\r\nBpmnCellHelper.register(WfSequenceFlowEdge.CLR_TYPE_ID, WfSequenceFlowEdge);\r\n"],"names":["of","ActualParameter","ExecuteForm","map","SmsMessageTemplate","SmsMessageVariable","MessageNotice","Subject","OrganizationParticipantExpression","ActionScope","OrganizationLevel","VariableSetting","ApprovalPivotConfig","ApprovalPivot","UrgeHandleRule","CheckCondition","AssignConfig","Condition","OtherAssignActivityNodeInfo","MultiInstanceLoopCharacteristics","CallActivitySubProcess","JsonConvertableImpl","BpmnModelJsonHelper","forkJoin","MessageReceiver","Participant","UserParticipant","PositionParticipant","ComponentParticipant","ReportingLineParticipant","ActivityExecutorParticipant","MatrixParticipant","OrganizationParticipant","Component","AssignStrategy","ParticipantInfo","ResourceKeys","LoadingService"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,MAKa,sBAAsB;IAEjC,iBAAiB;;;YALlB,UAAU,SAAC;gBACV,UAAU,EAAE,MAAM;aACnB;;;;;;;;;;;;ICHG,IAAK,IAAI;IACT,IAAK,IAAI;;;;;;;ACGb,MAAa,YAAY;CAOxB;;;;;;ACZD;AAEA,MAAa,iBAAiB,GAAG,IAAI,cAAc,CAAC,mBAAmB,CAAC;AAGxE,MAAa,YAAY;;;;;IAKrB,YACmC,QAAgB,EACR,SAAc;QANxC,gBAAW,GAAW,QAAQ,CAAC;QAQ5C,IAAI,CAAC,QAAQ,GAAG,QAAQ,IAAI,IAAI,CAAC,WAAW,CAAC;QAC7C,IAAI,CAAC,SAAS,GAAG,SAAS,IAAI,EAAE,CAAC;QACjC,IAAI,CAAC,IAAI,GAAG,SAAS,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,SAAS,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,EAAE,CAAC;KAC7E;;;;;IACD,SAAS,CAAC,IAAY;;cACZ,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC;;YACxB,IAAI,GAAG,IAAI,CAAC,IAAI;QACpB,KAAK,IAAI,GAAG,IAAI,IAAI,EAAE;YAClB,IAAI,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC;YACjB,IAAI,IAAI,IAAI,IAAI,EAAE;gBACd,MAAM;aACT;SACJ;QACD,OAAO,IAAI,IAAI,IAAI,CAAC;KACvB;;;;;IAED,OAAO,CAAC,IAAY;QAChB,OAAO,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;KAC/B;;;YA5BJ,IAAI,SAAC,EAAE,IAAI,EAAE,UAAU,EAAE;;;;yCAOjB,QAAQ,YAAI,MAAM,SAAC,SAAS;4CAC5B,QAAQ,YAAI,MAAM,SAAC,iBAAiB;;;;;;;ACZ7C,MAaa,sBAAsB;;;;;IAGjC,YACU,IAAiB,EACjB,UAAwB;QADxB,SAAI,GAAJ,IAAI,CAAa;QACjB,eAAU,GAAV,UAAU,CAAc;QAHlC,aAAQ,GAAG,EAAE,CAAC;;QAYd,iBAAY,GAAiB,IAAI,YAAY,EAAE,CAAC;;QAGhD,YAAO,GAAG,EAAE,CAAC;;QAGb,mBAAc,GAAU,EAAE,CAAC;QAC3B,iBAAY,GAAQ,EAAE,CAAC;;QAGvB,wBAAmB,GAAG,MAAM,CAAC,QAAQ,CAAC,QAAQ,CAAC,MAAM,GAAG,IAAI,CAAC,QAAQ,GAAE,8CAA8C,CAAC;QAGtH,YAAO,GAAU,EAAE,CAAC;;QAGpB,yBAAoB,GAAU,EAAE,CAAC;QACjC,kBAAa,GAAU,EAAE,CAAC;;QAG1B,gBAAW,GAAG,EAAE,CAAC;;QAEjB,eAAU,GAAG,EAAE,CAAC;;QAEhB,mBAAc,GAAG,EAAE,CAAC;QACpB,kBAAa,GAAG,EAAE,CAAC;QACnB,uBAAkB,GAAG,EAAE,CAAC;QAIxB,sBAAiB,GAAG,KAAK,CAAC;QAC1B,sBAAiB,GAAG,KAAK,CAAC;;QAM1B,0BAAqB,GAAG,KAAK,CAAC;;QASvB,mBAAc,GAAa,CAAC,EAAC,GAAG,EAAE,KAAK,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,yBAAyB,CAAC,EAAC;YAC1G,EAAC,GAAG,EAAE,QAAQ,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,4BAA4B,CAAC,EAAC;YAC/E,EAAC,GAAG,EAAE,OAAO,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,2BAA2B,CAAC,EAAC,CAAC,CAAC;QAC1E,qBAAgB,GAAa,CAAC,EAAC,GAAG,EAAE,SAAS,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,6BAA6B,CAAC,EAAC;YACpH,EAAC,GAAG,EAAE,UAAU,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,8BAA8B,CAAC,EAAC;YACnF,EAAC,GAAG,EAAE,YAAY,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,gCAAgC,CAAC,EAAC,CAAC,CAAC;QACpF,2BAAsB,GAAa,CAAC,EAAC,GAAG,EAAE,SAAS,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,6BAA6B,CAAC,EAAC,CAAC,CAAC;QACvH,iBAAY,GAAa,CAAC,EAAC,GAAG,EAAE,IAAI,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,0BAA0B,CAAC,EAAC;YACxG,EAAC,GAAG,EAAE,KAAK,EAAE,KAAK,EAAG,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,2BAA2B,CAAC,EAAC,CAAC,CAAC;;QAEzE,gBAAW,GAAa,CAAC,EAAC,GAAG,EAAE,KAAK,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,2BAA2B,CAAC,EAAC,CAAC,CAAC;;;QAI7G,oBAAe,GAAgB;YAC7B,EAAC,GAAG,EAAE,QAAQ,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,4BAA4B,CAAC,EAAE,WAAW,EAAE,yDAAyD,EAAC;YACtJ,EAAC,GAAG,EAAE,YAAY,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,gCAAgC,CAAC,EAAE,WAAW,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,gCAAgC,CAAC,EAAC;YAChK,EAAC,GAAG,EAAE,WAAW,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,+BAA+B,CAAC,EAAE,WAAW,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,+BAA+B,CAAC,EAAC;YAC7J,EAAC,GAAG,EAAE,sBAAsB,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,0CAA0C,CAAC,EAAE,WAAW,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,0CAA0C,CAAC,EAAC;YAC9L,EAAC,GAAG,EAAE,iBAAiB,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,qCAAqC,CAAC,EAAE,WAAW,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,qCAAqC,CAAC,EAAC;YAC/K,EAAC,GAAG,EAAE,iBAAiB,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,qCAAqC,CAAC,EAAE,WAAW,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,qCAAqC,CAAC,EAAC;YAC/K,EAAC,GAAG,EAAE,qBAAqB,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,yCAAyC,CAAC,EAAE,WAAW,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,yCAAyC,CAAC,EAAC;YAC3L,EAAC,GAAG,EAAE,SAAS,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,6BAA6B,CAAC,EAAE,WAAW,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,6BAA6B,CAAC,EAAE;YACxJ,EAAC,GAAG,EAAE,YAAY,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,gCAAgC,CAAC,EAAE,WAAW,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,gCAAgC,CAAC,EAAC;YAChK,EAAC,GAAG,EAAE,kBAAkB,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,sCAAsC,CAAC,EAAE,WAAW,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,sCAAsC,CAAC,EAAC;YAClL,EAAC,GAAG,EAAE,qBAAqB,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,yCAAyC,CAAC,EAAE,WAAW,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,yCAAyC,CAAC,EAAE;YAC5L,EAAC,GAAG,EAAE,sBAAsB,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,0CAA0C,CAAC,EAAE,WAAW,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,0CAA0C,CAAC,EAAC;YAC9L,EAAC,GAAG,EAAE,wBAAwB,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,4CAA4C,CAAC,EAAE,WAAW,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,4CAA4C,CAAC,EAAC;SACrM,CAAC;;QAGF,gBAAW,GAAgB;YACzB,EAAC,GAAG,EAAE,QAAQ,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,4BAA4B,CAAC,EAAE,WAAW,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,4BAA4B,CAAC,EAAC;YACpJ,EAAC,GAAG,EAAE,YAAY,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,gCAAgC,CAAC,EAAE,WAAW,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,gCAAgC,CAAC,EAAC;YAChK,EAAC,GAAG,EAAE,WAAW,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,+BAA+B,CAAC,EAAE,WAAW,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,+BAA+B,CAAC,EAAC;YAC7J,EAAC,GAAG,EAAE,sBAAsB,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,0CAA0C,CAAC,EAAE,WAAW,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,0CAA0C,CAAC,EAAC;YAC9L,EAAC,GAAG,EAAE,iBAAiB,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,qCAAqC,CAAC,EAAE,WAAW,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,qCAAqC,CAAC,EAAC;YAC/K,EAAC,GAAG,EAAE,iBAAiB,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,qCAAqC,CAAC,EAAE,WAAW,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,qCAAqC,CAAC,EAAC;YAC/K,EAAC,GAAG,EAAE,qBAAqB,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,yCAAyC,CAAC,EAAE,WAAW,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,yCAAyC,CAAC,EAAC;YAC3L,EAAC,GAAG,EAAE,SAAS,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,6BAA6B,CAAC,EAAE,WAAW,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,6BAA6B,CAAC,EAAC;YACvJ,EAAC,GAAG,EAAE,YAAY,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,gCAAgC,CAAC,EAAE,WAAW,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,gCAAgC,CAAC,EAAC;YAChK,EAAC,GAAG,EAAE,kBAAkB,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,sCAAsC,CAAC,EAAE,WAAW,EAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,sCAAsC,CAAC,EAAC;YACjL,EAAC,GAAG,EAAE,qBAAqB,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,yCAAyC,CAAC,EAAE,WAAW,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,yCAAyC,CAAC,EAAC;SAC5L,CAAC;;;;QAIF,2BAAsB,GAAgB,EAAE,CAAC;;;;QAKzC,uBAAkB,GAAgB;YAChC;gBACE,GAAG,EAAE,iBAAiB;gBACtB,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,qCAAqC,CAAC;gBACtE,WAAW,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,qCAAqC,CAAC;aAC9E,EAAE;gBACD,GAAG,EAAE,iBAAiB;gBACtB,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,qCAAqC,CAAC;gBACtE,WAAW,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,qCAAqC,CAAC;aAC9E,EAAE;gBACD,GAAG,EAAE,aAAa;gBAClB,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,iCAAiC,CAAC;gBAClE,WAAW,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,iCAAiC,CAAC;aAC1E,EAAE;gBACD,GAAG,EAAE,iBAAiB;gBACtB,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,qCAAqC,CAAC;gBACtE,WAAW,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,qCAAqC,CAAC;aAC9E;SAAC,CAAC;;;;QAKL,uBAAkB,GAAgB;YAChC;gBACE,GAAG,EAAE,2BAA2B;gBAChC,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,+CAA+C,CAAC;gBAChF,WAAW,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,+CAA+C,CAAC;aACxF;SAAC,CAAC;;;;QAKL,6BAAwB,GAAgB;YACtC;gBACE,GAAG,EAAE,8BAA8B;gBACnC,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,kDAAkD,CAAC;gBACnF,WAAW,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,kDAAkD,CAAC;aAC3F;SAAC,CAAC;;;;QAKL,8BAAyB,GAAgB;YACvC,EAAC,GAAG,EAAE,eAAe,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,mCAAmC,CAAC,EAAE,WAAW,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,mCAAmC,CAAC,EAAC;YACzK,EAAC,GAAG,EAAE,wBAAwB,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,4CAA4C,CAAC,EAAE,WAAW,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,4CAA4C,CAAC,EAAC;YACpM,EAAC,GAAG,EAAE,qBAAqB,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,yCAAyC,CAAC,EAAE,WAAW,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,yCAAyC,CAAC,EAAC;YAC3L,EAAC,GAAG,EAAE,aAAa,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,iCAAiC,CAAC,EAAE,WAAW,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,iCAAiC,CAAC,EAAC;YACnK,EAAC,GAAG,EAAE,cAAc,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,kCAAkC,CAAC,EAAE,WAAW,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,kCAAkC,CAAC,EAAC;YACtK,EAAC,GAAG,EAAE,WAAW,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,+BAA+B,CAAC,EAAE,WAAW,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,+BAA+B,CAAC,EAAC;SAC5J,CAAC;;;;QAKJ,6BAAwB,GAAgB;YACtC;gBACE,GAAG,EAAE,gBAAgB;gBACrB,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,oCAAoC,CAAC;gBACrE,WAAW,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,wCAAwC,CAAC;aACjF,EAAE;gBACD,GAAG,EAAE,iBAAiB;gBACtB,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,qCAAqC,CAAC;gBACtE,WAAW,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,yCAAyC,CAAC;aAClF;SAAC,CAAC;QACL,2BAAsB,GAAgB,IAAI,KAAK,EAAE,CAAC;QAE1C,qBAAgB,GAAG,IAAI,KAAK,EAAE,CAAC;;;;QAcvC,eAAU,GAAG;YACX,EAAC,KAAK,EAAE,gBAAgB,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,oCAAoC,CAAC,EAAC;YAChG,EAAC,KAAK,EAAE,gBAAgB,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,oCAAoC,CAAC,EAAC;SACjG,CAAC;;;;QAKF,sBAAiB,GAAa;YAC5B,EAAC,GAAG,EAAE,QAAQ,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,4BAA4B,CAAC,EAAC;YAC/E,EAAC,GAAG,EAAE,kBAAkB,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,sCAAsC,CAAC,EAAC;YACnG,EAAC,GAAG,EAAE,aAAa,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,iCAAiC,CAAC,EAAC;SAC1F,CAAC;;;;QAKF,oBAAe,GAAa;YAC1B,EAAC,GAAG,EAAE,KAAK,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,yBAAyB,CAAC,EAAC;YACzE,EAAC,GAAG,EAAE,KAAK,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,yBAAyB,CAAC,EAAC;YACzE,EAAC,GAAG,EAAE,KAAK,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,yBAAyB,CAAC,EAAC;SAC1E,CAAC;;;;QAKF,oBAAe,GAAG,IAAI,KAAK,EAAE,CAAC;QAE9B,sBAAiB,GAAsB,EAAE,CAAC;QArNxC,IAAI;YACF,IAAI,CAAC,QAAQ,GAAG,oBAAC,MAAM,IAAS,mBAAmB,CAAC,MAAM,CAAC,WAAW,CAAC,GAAG,EAAE,CAAC;SAC9E;QAAC,OAAO,KAAK,EAAE;SACf;KACF;;;;;IAyKD,IAAI,gBAAgB,CAAC,SAAgB;QACnC,IAAI,CAAC,gBAAgB,GAAG,SAAS,CAAC;QAClC,IAAI,CAAC,yBAAyB,EAAE,CAAC;KAClC;;;;IAED,IAAI,gBAAgB;QAClB,OAAO,IAAI,CAAC,gBAAgB,CAAC;KAC9B;;;;;IAmCD,mBAAmB,CAAC,GAAW;QAC7B,OAAO,IAAI,CAAC,kBAAkB,CAAC,IAAI;;;;QAAC,CAAC,IAAI,CAAC,CAAC,GAAG,KAAK,GAAG,EAAC,CAAC,IAAI,CAAC;KAC9D;;;;;IAED,SAAS,CAAC,KAAa;QACrB,OAAO,IAAI,CAAC,UAAU,CAAC,IAAI;;;;QAAC,CAAC,IAAI,CAAC,CAAC,KAAK,KAAK,KAAK,EAAC,CAAC,IAAI,CAAC;KAC1D;;;;IAED,kBAAkB;;cACV,GAAG,GAAG,kEAAkE;QAC9E,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,SAAS;;;;QAAC,CAAC,EAAO;YACnC,IAAI,CAAC,eAAe,GAAG,EAAE,CAAC;SAC3B,EAAC,CAAC;KACJ;;;;IAED,oBAAoB;QAClB,IAAI,CAAC,cAAc,EAAE,CAAC,SAAS;;;;QAAC,IAAI;;kBAC5B,MAAM,GAAG,IAAI,CAAC,MAAM;YAC1B,QAAQ,CAAC,IAAI,CAAC,sBAAsB,EAAE,EAAE,IAAI,CAAC,gBAAgB,CAAC,MAAM,CAAC,CAAC,CAAC,SAAS;;;;YAAC,EAAE;gBACjF,IAAI,CAAC,qBAAqB,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC,YAAY,KAAK,MAAM,GAAG,IAAI,GAAG,KAAK,CAAC;gBAC1E,IAAI,CAAC,aAAa,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC;aAC5B,EAAC,CAAC;SACJ,EAAC,CAAC;KACJ;;;;IAED,oBAAoB;QAClB,OAAO,IAAI,CAAC,+BAA+B,CAAC,aAAa,CAAC,CAAC;KAC5D;;;;IAED,oBAAoB;QAChB,OAAO,IAAI,CAAC,+BAA+B,CAAC,aAAa,CAAC,CAAC;KAC9D;;;;;;IAEO,+BAA+B,CAAC,SAAiB;;cACjD,GAAG,GAAG,+DAA+D,GAAG,SAAS;QACvF,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;KAC3B;;;;;IAEO,cAAc;;cACd,GAAG,GAAG,+CAA+C;QAC3D,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;KAC3B;;;;;;IAEO,gBAAgB,CAAC,MAAc;;cAC/B,GAAG,GAAG,6CAA6C,MAAM,EAAE;QACjE,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;KAC3B;;;;IAEM,gBAAgB;;cACf,GAAG,GAAG,sDAAsD;QAClE,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;KAC3B;;;;;IACO,sBAAsB;;cACtB,GAAG,GAAG,2DAA2D;QACvE,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;KAC3B;;;;;;IACO,aAAa,CAAC,KAAa;;cAC3B,GAAG,GAAG,iCAAiC,KAAK,EAAE;QACpD,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;KAC3B;;;;;;IAEO,wBAAwB,CAAC,KAAa;;cACtC,GAAG,GAAG,sCAAsC,GAAG,kBAAkB,CAAC,gBAAgB,KAAK,sBAAsB,CAAC;QACpH,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;KAC3B;;;;;;IAEO,cAAc,CAAC,MAAc;;cAC7B,GAAG,GAAG,+BAA+B,MAAM,EAAE;QACnD,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;KAC3B;;;;IAED,YAAY;;cACJ,GAAG,GAAG,6DAA6D;QACzE,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;KAC3B;;;;;IAID,WAAW;;cACH,GAAG,GAAG,+CAA+C;QAC3D,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;KAC3B;;;;;IAID,UAAU;;cACF,GAAG,GAAG,sCAAsC;;cAC5C,WAAW,GAAG;YAClB,UAAU,EAAE,EAAE;YACd,cAAc,EAAE,IAAI;SACrB;QACD,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE,WAAW,CAAC,CAAC;KACzC;;;;;;IAID,WAAW,CAAC,IAAS;;cACb,WAAW,GAAG;YAClB,UAAU,EAAE,CAAC,IAAI,CAAC;YAClB,cAAc,EAAE,IAAI;SACrB;;cACK,GAAG,GAAG,sCAAsC;QAClD,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,EAAE,WAAW,CAAC,CAAC;KACxC;;;;;IACO,yBAAyB;QAC/B,IAAI,CAAC,sBAAsB,GAAG,IAAI,KAAK,EAAE,CAAC;QAC1C,IAAI,IAAI,CAAC,gBAAgB,IAAI,IAAI,CAAC,gBAAgB,CAAC,MAAM,GAAG,CAAC,EAAE;YAC7D,KAAK,MAAM,CAAC,IAAI,IAAI,CAAC,gBAAgB,EAAE;;sBAC/B,SAAS,GAAG;oBAChB,GAAG,EAAE,CAAC,CAAC,IAAI;oBACX,IAAI,EAAE,CAAC,CAAC,aAAa;oBACrB,WAAW,EAAE,CAAC,CAAC,WAAW;iBAC3B;gBACD,IAAI,CAAC,sBAAsB,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;aAC7C;SACF;KACF;;;;;;IAGD,eAAe,CAAC,MAAc,EAAE,EAAU;;cAClC,GAAG,GAAG,sCAAsC,MAAM,EAAE;QAC1D,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;KAC3B;;;;;;;IAMO,YAAY;;YACd,MAAM,GAAW,MAAM,CAAC,IAAI;QAChC,IAAI;YACA,OAAO,MAAM,CAAC,QAAQ,CAAC,MAAM,KAAK,MAAM,CAAC,MAAM,CAAC,QAAQ,CAAC,MAAM,EAAE;gBAC7D,IAAI,MAAM,KAAK,MAAM,CAAC,MAAM,IAAI,CAAC,oBAAC,MAAM,IAAS,WAAW,EAAE;oBAC1D,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC;iBAC1B;qBAAM;oBACH,MAAM;iBACT;aACJ;SACJ;QAAC,OAAO,CAAC,EAAE,GAAG;QACf,OAAO,MAAM,CAAC;KACf;;;;;;IAKD,WAAW;QACT,IAAI,CAAC,cAAc,GAAG,EAAE,CAAC;QACzB,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;QACzB,IAAI,CAAC,OAAO,GAAG,EAAE,CAAC;QAClB,IAAI,CAAC,OAAO,GAAG,EAAE,CAAC;KACnB;;;;;;IAMD,cAAc,CAAC,IAAW;QACxB,IAAI,CAAC,WAAW,GAAG,EAAE,CAAC;QACtB,IAAI,IAAI,IAAI,IAAI,CAAC,MAAM,GAAG,CAAC,EAAE;YAC3B,KAAK,MAAM,OAAO,IAAI,IAAI,EAAE;;sBACpB,WAAW,GAAQ;oBACvB,EAAE,EAAE,OAAO,CAAC,EAAE;oBACd,IAAI,EAAE,OAAO,CAAC,YAAY,IAAI,OAAO,CAAC,YAAY,CAAC,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC,GAAG,OAAO,CAAC,YAAY,CAAC,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC,GAAG,OAAO,CAAC,IAAI,IAAI,OAAO,CAAC,IAAI;oBAC5J,SAAS,EAAE,OAAO,CAAC,SAAS;oBAC5B,kBAAkB,EAAE,OAAO,CAAC,kBAAkB;iBAC/C;gBACD,IAAI,OAAO,CAAC,kBAAkB,KAAK,QAAQ,EAAE;oBAC3C,WAAW,CAAC,qBAAqB,GAAG,OAAO,CAAC,qBAAqB,CAAC;iBACnE;gBACD,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;aACpC;SACF;KACF;;;;;;IAME,eAAe,CAAC,IAAW;QAC1B,IAAI,CAAC,UAAU,GAAG,EAAE,CAAC;QACrB,IAAI,IAAI,IAAI,IAAI,CAAC,MAAM,GAAG,CAAC,EAAE;YAC3B,KAAK,MAAM,QAAQ,IAAI,IAAI,EAAE;;sBACrB,YAAY,GAAG;oBACnB,EAAE,EAAE,QAAQ,CAAC,EAAE;oBACf,IAAI,EAAE,QAAQ,CAAC,IAAI;iBACpB;;gBAED,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;aACpC;SACF;;;KAGF;;;;;;IAMF,kBAAkB,CAAC,IAAW;QAC7B,IAAI,CAAC,aAAa,GAAG,EAAE,CAAC;QACxB,IAAI,IAAI,IAAI,IAAI,CAAC,MAAM,GAAG,CAAC,EAAE;YAC3B,KAAK,MAAM,WAAW,IAAI,IAAI,EAAE;;sBACxB,eAAe,GAAG;oBACtB,EAAE,EAAE,WAAW,CAAC,EAAE;oBAClB,IAAI,EAAE,WAAW,CAAC,IAAI;iBACvB;;gBAED,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;aAC1C;SACF;KACF;;;;;;;IAMA,mBAAmB,CAAC,IAAW;QAC9B,IAAI,CAAC,cAAc,GAAG,EAAE,CAAC;QACzB,IAAI,IAAI,IAAI,IAAI,CAAC,MAAM,GAAG,CAAC,EAAE;YAC3B,KAAK,MAAM,YAAY,IAAI,IAAI,EAAE;;sBACzB,gBAAgB,GAAG;oBACvB,EAAE,EAAE,YAAY,CAAC,EAAE;oBACnB,IAAI,EAAE,YAAY,CAAC,IAAI;iBACxB;;gBAED,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC;aAC5C;SACF;;QAED,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;;QAErE,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;KACpE;;;;;IAID,wBAAwB,CAAC,IAAW;QAClC,IAAI,CAAC,kBAAkB,GAAG,EAAE,CAAC;QAC7B,IAAI,IAAI,IAAI,IAAI,CAAC,MAAM,GAAG,CAAC,EAAE;YAC3B,KAAK,MAAM,gBAAgB,IAAI,IAAI,EAAE;;sBAC7B,kBAAkB,GAAG;oBACzB,EAAE,EAAE,gBAAgB,CAAC,EAAE;oBACvB,IAAI,EAAE,gBAAgB,CAAC,IAAI;iBAC5B;;gBAED,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,kBAAkB,CAAC,CAAC;aAClD;SACF;KACF;;;;;;IAMD,YAAY,CAAC,IAAS;QACpB,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;KACvB;;;;;;IAKD,UAAU,CAAC,OAAc;QACvB,IAAI,IAAI,CAAC,eAAe,CAAC,MAAM,GAAG,CAAC,EAAE;YACnC,KAAK,MAAM,QAAQ,IAAI,IAAI,CAAC,eAAe,EAAE;gBAC3C,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;aACxB;SACF;QACD,IAAI,IAAI,CAAC,sBAAsB,CAAC,MAAM,GAAG,CAAC,EAAE;YAC1C,KAAK,MAAM,QAAQ,IAAI,IAAI,CAAC,sBAAsB,EAAE;gBAClD,IAAI,CAAC,OAAO,CAAC,IAAI;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,GAAG,KAAK,QAAQ,CAAC,GAAG,EAAC,EAAE;oBAC9C,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;iBACxB;aACF;SACF;QACD,IAAI,IAAI,CAAC,kBAAkB,CAAC,MAAM,GAAG,CAAC,EAAE;YACtC,KAAK,MAAM,QAAQ,IAAI,IAAI,CAAC,kBAAkB,EAAE;gBAC9C,IAAI,CAAC,OAAO,CAAC,IAAI;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,GAAG,KAAK,QAAQ,CAAC,GAAG,EAAC,EAAE;oBAC9C,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;iBACxB;aACF;SACF;QACD,IAAI,IAAI,CAAC,sBAAsB,CAAC,MAAM,GAAG,CAAC,EAAE;YAC1C,KAAK,MAAM,QAAQ,IAAI,IAAI,CAAC,sBAAsB,EAAE;gBAClD,IAAI,CAAC,OAAO,CAAC,IAAI;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,GAAG,KAAK,QAAQ,CAAC,GAAG,EAAC,EAAE;oBAC9C,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;iBACxB;aACF;SACF;QACD,OAAO,OAAO,CAAC;KAChB;;;YAjgBF,UAAU;;;;YANH,WAAW;YAEV,YAAY;;;;;;;ACPrB,MAKa,aAAa;IAGtB,iBAAiB;;;;IAEjB,OAAO,iBAAiB;QACtB,OAAO,eAAe,CAAC,iBAAiB,EAAE,CAAC;KAC5C;;;;;IAID,OAAO,QAAQ;;;;QACX,SAAS,EAAE;YACP,OAAO,CAAC,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,MAAM,EAAE,IAAI,OAAO,IAAI,CAAC,EAAE,QAAQ,CAAC,EAAE,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;SAC1E;QACD,QAAQ,EAAE,EAAE,GAAG,EAAE,EAAE,GAAG,GAAG,GAAG,EAAE,EAAE,GAAG,GAAG,GAAG,EAAE,EAAE,GAAG,GAAG,GAAG,EAAE,EAAE,GAAG,GAAG,GAAG,EAAE,EAAE,GAAG,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE;KAC1F;;;;;IAED,OAAO,gBAAgB,CAAC,KAAK;QACzB,IAAI,KAAK,EAAE;YACP,IAAI,KAAK,CAAC,MAAM,IAAI,CAAC,IAAI,KAAK,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,KAAK,UAAU,EAAE;gBACvD,OAAO,YAAY,CAAC;aACvB;iBAAM;gBACH,OAAO,UAAU,CAAC;aACrB;SACJ;aAAM;YACH,OAAO,UAAU,CAAC;SACrB;KACJ;;;;IAED,wBAAwB;;cACd,GAAG,GAAG,aAAa;QACzB,OAAO,GAAG,CAAC;KACd;;;;;IAED,iBAAiB;QACb,OAAO,+BAA+B,CAAC;KAC1C;;;;;IAED,yBAAyB;QACrB,OAAO,sCAAsC,CAAC;KACjD;;;;;IAED,mBAAmB;QACf,OAAO,qCAAqC,CAAC;KAChD;;;;;IAED,sBAAsB;QAClB,OAAO,mCAAmC,CAAC;KAC9C;;;;;IAED,oBAAoB;QAChB,OAAO,iCAAiC,CAAC;KAC5C;;;;;IAED,0BAA0B;QACtB,OAAO,iCAAiC,CAAC;KAC5C;;;;;IAGD,6BAA6B;QACzB,OAAO,uDAAuD,CAAC;KAClE;;;;;;IAID,oBAAoB,CAAC,IAAY;QAC7B,OAAO,gDAAgD,IAAI,EAAE,CAAC;KACjE;;;;IAED,mBAAmB;QACf,OAAO,qDAAqD,CAAC;KAChE;;;;;IAID,YAAY;QACR,OAAO,sCAAsC,CAAC;KACjD;;;;;IAID,UAAU;QACN,OAAO,yDAAyD,CAAC;KACpE;;;;;IAID,uBAAuB;QACnB,OAAO,qCAAqC,CAAC;KAChD;;;;;IAKD,4BAA4B;QACxB,OAAO,+BAA+B,CAAC;KAC1C;;;;;;IAED,QAAQ,CAAC,IAAS,EAAE,IAAY;QAC5B,IAAI,CAAC,IAAI,EAAE;YACP,OAAO,EAAE,CAAC;SACb;;YACG,SAAS,GAAG,EAAE;QAClB,IAAI,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,EAAE;YAC1B,SAAS,GAAG,IAAI,CAAC,IAAI,CAAC,CAAC;SAC1B;aAAM;YACH,SAAS,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,MAAM;;;;;YAAC,CAAC,GAAG,EAAE,GAAG;gBACxC,IAAI,GAAG,EAAE;oBACL,OAAO,GAAG,CAAC,GAAG,CAAC,CAAC;iBACnB;qBAAM;oBACH,OAAO,IAAI,CAAC;iBACf;aACJ,GAAE,IAAI,CAAC,CAAC;SACZ;QACD,OAAO,SAAS,CAAC;KACpB;;;;;;IAKD,WAAW,CAAC,OAAe;QACvB,IAAI,QAAQ,OAAO,CAAC,KAAK,QAAQ,EAAE;YAC/B,KAAK,MAAM,GAAG,IAAI,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,EAAE;gBACpC,OAAO,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,WAAW,EAAE,GAAG,GAAG,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,GAAG,OAAO,CAAC,GAAG,CAAC,CAAC;gBAC7E,QAAQ,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC;aACzB;SACJ;QACD,OAAO,OAAO,CAAC;KAClB;;;;;IACD,SAAS,CAAC,OAAe;QACrB,IAAI,QAAQ,OAAO,CAAC,KAAK,QAAQ,EAAE;YAC/B,KAAK,MAAM,GAAG,IAAI,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,EAAE;gBACpC,IAAI,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,WAAW,EAAE,GAAG,GAAG,CAAC,SAAS,CAAC,CAAC,CAAC,MAAM,GAAG,EAAE;oBAChE,OAAO,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,WAAW,EAAE,GAAG,GAAG,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,GAAG,OAAO,CAAC,GAAG,CAAC,CAAC;oBAC7E,QAAQ,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC;iBACzB;aACJ;SACJ;QACD,OAAO,OAAO,CAAC;KAClB;;;YA9IJ,UAAU;;;;;;;;;ACHX,MAYa,0BAA0B;;;;;IACnC,YACY,IAAiB,EACjB,IAAmB;QADnB,SAAI,GAAJ,IAAI,CAAa;QACjB,SAAI,GAAJ,IAAI,CAAe;KAAK;;;;;;IAGpC,eAAe,CAAC,EAAU;QACtB,IAAI,EAAE,EAAE;;gBACA,GAAG,GAAG,IAAI,CAAC,IAAI,CAAC,iBAAiB,EAAE,GAAG,cAAc;YACxD,GAAG,IAAI,IAAI,EAAE,EAAE,CAAC;YAChB,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;SAC7B;KACJ;;;;;;IAED,0BAA0B,CAAC,EAAU;QACjC,IAAI,EAAE,EAAE;;gBACA,GAAG,GAAG,IAAI,CAAC,IAAI,CAAC,yBAAyB,EAAE;YAC/C,GAAG,IAAI,gBAAgB,EAAE,EAAE,CAAC;YAC5B,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;SAC7B;KACJ;;;;;;IAED,0BAA0B,CAAC,EAAU;QACjC,IAAI,EAAE,EAAE;;gBACA,GAAG,GAAG,IAAI,CAAC,IAAI,CAAC,sBAAsB,EAAE;YAC5C,GAAG,IAAI,eAAe,GAAG,kBAAkB,CAAC,mBAAmB,EAAE,IAAI,CAAC,CAAC;YACvE,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;SAC7B;KACJ;;;;;;IAED,2BAA2B,CAAC,EAAU;QAClC,IAAI,EAAE,EAAE;;gBACA,GAAG,GAAG,IAAI,CAAC,IAAI,CAAC,oBAAoB,EAAE;YAC1C,GAAG,IAAI,gBAAgB,EAAE,EAAE,CAAC;YAC5B,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;SAC7B;KACJ;;;;;;IAKD,gBAAgB,CAAC,IAAY;QACzB,IAAI,IAAI,EAAE;;kBACA,GAAG,GAAG,IAAI,CAAC,IAAI,CAAC,oBAAoB,CAAC,IAAI,CAAC;YAChD,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;;;;;;;;;;;;;;;;;;;;SAoB7B;KACJ;;;;;;IAMD,mBAAmB,CAAC,MAAc;QAC9B,IAAI,MAAM,EAAE;;kBACF,GAAG,GAAG,oDAAoD,MAAM,EAAE;YACxE,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;SAC7B;KACJ;;;;;;;;IAKO,wBAAwB,CAAC,UAAkB,EAAE,EAAU;QAC3D,IAAI,EAAE,EAAE;;gBACA,GAAG,GAAG,IAAI,CAAC,IAAI,CAAC,sBAAsB,EAAE;YAC5C,GAAG,IAAI,eAAe,GAAG,kBAAkB,CAAC,mBAAmB,UAAU,cAAc,EAAE,2BAA2B,CAAC,CAAC;YACtH,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;SAC7B;KACJ;;;;;;IACO,qBAAqB,CAAC,EAAU;QACpC,IAAI,EAAE,EAAE;;gBACA,GAAG,GAAG,IAAI,CAAC,IAAI,CAAC,uBAAuB,EAAE;YAC7C,GAAG,IAAI,kBAAkB,EAAE,EAAE,CAAC;YAE9B,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;SAC7B;KACJ;;;;;;IAED,qBAAqB,CAAC,EAAU;QAC5B,IAAI,EAAE,EAAE;;;;;kBAIE,GAAG,GAAG,6CAA6C,EAAE,EAAE;YAC7D,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;SAC7B;KACJ;;;;;;IAKD,mBAAmB,CAAC,GAAW;QAC3B,IAAI,GAAG,EAAE;;gBACD,GAAG,GAAG,IAAI,CAAC,IAAI,CAAC,0BAA0B,EAAE;YAChD,GAAG,IAAI,yBAAyB,GAAG,EAAE,CAAC;YACtC,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;SAC7B;KACJ;;;;;;IAKD,oBAAoB,CAAC,EAAU;QAC3B,IAAI,EAAE,EAAE;;gBACA,GAAG,GAAG,IAAI,CAAC,IAAI,CAAC,4BAA4B,EAAE;YAClD,GAAG,IAAI,IAAI,EAAE,YAAY,CAAC;YAC1B,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;SAC7B;KACJ;;;;;;;;IAKD,WAAW,CAAC,OAAe,EAAE,WAAwB,EAAE,KAAa;QAChE,IAAI,OAAO,EAAE;;kBACH,QAAQ,GAAG;gBACb,YAAY,EAAE,WAAW,CAAC,OAAO,GAAG,WAAW,CAAC,OAAO,CAAC,KAAK,GAAG,EAAE;gBAClE,gBAAgB,EAAE,WAAW,CAAC,OAAO,GAAG,WAAW,CAAC,OAAO,CAAC,OAAO,GAAG,EAAE;gBACxE,WAAW,EAAE,WAAW,CAAC,WAAW;gBACpC,WAAW,EAAE,OAAO;gBACpB,KAAK;aACR;;kBACK,GAAG,GAAG,IAAI,CAAC,IAAI,CAAC,0BAA0B,EAAE;YAClD,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC,CAAC;SACxD;KACJ;;;;;IAED,eAAe,CAAC,IAAyB;;cAC/B,GAAG,GAAG,iDAAiD;QAC7D,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE,IAAI,CAAC,CAAC,SAAS;;;;QAAC,EAAE,OAAO,EAAC,CAAC;KAClD;;;;;;IAMD,aAAa,CAAC,OAAe;QACzB,IAAI,OAAO,EAAE;;kBACH,QAAQ,GAAG;gBACb,cAAc,EAAE,OAAO;aAC1B;;kBACK,GAAG,GAAG,IAAI,CAAC,IAAI,CAAC,YAAY,EAAE;YACpC,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC,CAAC;SACxD;KACJ;;;;;;IAED,aAAa,CAAC,OAAe,EAAE,SAAiB;QAC5C,IAAI,OAAO,EAAE;;kBACH,QAAQ,GAAG;gBACb,cAAc,EAAE,OAAO;aAC1B;;gBACG,GAAG,GAAG,IAAI,CAAC,IAAI,CAAC,4BAA4B,EAAE;YAClD,GAAG,IAAI,IAAI,SAAS,SAAS,CAAC;YAC9B,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC,CAAC;SACxD;KACJ;;;;;;IAED,aAAa,CAAC,OAAe,EAAE,aAA4B;QACvD,IAAI,OAAO,EAAE;;kBACH,QAAQ,GAAG;gBACb,YAAY,EAAE,aAAa,CAAC,OAAO,GAAG,aAAa,CAAC,OAAO,CAAC,KAAK,GAAG,EAAE;gBACtE,gBAAgB,EAAE,aAAa,CAAC,OAAO,GAAG,aAAa,CAAC,OAAO,CAAC,OAAO,GAAG,EAAE;gBAC5E,WAAW,EAAE,aAAa,CAAC,WAAW,IAAI,QAAQ;gBAClD,WAAW,EAAE,OAAO;gBACpB,KAAK,EAAE,CAAC;aACX;;kBACK,GAAG,GAAG,iCAAiC;YAC7C,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC,CAAC;SACxD;KACJ;;;;;;;;IASD,qBAAqB,CAAC,SAAiB,EAAE,SAAiB,EAAE,aAAqB;;YACzE,MAAM,GAAG,GAAG;QAChB,MAAM,IAAI,gBAAgB,SAAS,IAAI,CAAC;QACxC,MAAM,IAAI,oBAAoB,aAAa,IAAI,CAAC;QAChD,MAAM,IAAI,gBAAgB,SAAS,GAAG,CAAC;QACvC,MAAM,IAAI,GAAG,CAAC;QACd,MAAM,GAAG,kBAAkB,CAAC,MAAM,CAAC,CAAC;;cAC9B,GAAG,GAAG,iDAAiD,MAAM,EAAE;QACrE,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;KAC7B;;;;;IAMD,SAAS;;cACC,GAAG,GAAG,2EAA2E;QACvF,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;KAC7B;;;;;;IAOD,YAAY,CAAC,WAAW;;cACd,GAAG,GAAG,iDAAiD,WAAW,UAAU,WAAW,oBAAoB;QACjH,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;KAC7B;;;;;;IAKD,aAAa,CAAC,aAAqB;QAC/B,IAAI,aAAa,IAAI,IAAI,EAAE;YACvB,OAAO,EAAE,CAAC,IAAI,CAAC,CAAC;SACnB;;cACK,GAAG,GAAG,yEAAyE,aAAa,QAAQ;QAC1G,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;KAC7B;;;;;IAMD,gBAAgB;QACZ,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,sDAAsD,CAAC,CAAC,IAAI,CAC7E,SAAS;;;;QAAC,CAAC,cAAmB;YAC1B,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,oDAAoD,CAAC,CAAC,IAAI,CAC3E,SAAS;;;;YAAC,CAAC,YAAiB;gBACxB,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,2DAA2D,CAAC,CAAC,IAAI,CAClF,SAAS;;;;gBAAC,CAAC,mBAAwB;oBAC/B,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,0DAA0D,CAAC,CAAC,IAAI,CACjF,SAAS;;;;oBAAC,CAAC,kBAAuB;;8BACxB,GAAG,GAAG;4BACR,cAAc,EAAE,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC,YAAY,CAAC;4BACvD,YAAY,EAAE,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,YAAY,CAAC;4BACnD,mBAAmB,EAAE,IAAI,CAAC,KAAK,CAAC,mBAAmB,CAAC,YAAY,CAAC;4BACjE,kBAAkB,EAAE,IAAI,CAAC,KAAK,CAAC,kBAAkB,CAAC,YAAY,CAAC;yBAClE;wBACD,OAAO,EAAE,CAAC,GAAG,CAAC,CAAC;qBAClB,EAAC,CACL,CAAC;iBACL,EAAC,CACL,CAAC;aACL,EAAC,CACL,CAAC;SACL,EAAC,CACL,CAAC;KACL;;;YA3QJ,UAAU;;;;YAVF,WAAW;YAKX,aAAa;;;;;;;;;;;;ICFlB,SAAU,cAAc;;;;IAIxB,eAAgB,kBAAkB;;;;IAIlC,cAAe,iBAAiB;;;;IAIhC,mBAAoB,sBAAsB;;;;IAI1C,UAAW,eAAe;;;;IAI1B,cAAe,mBAAmB;;;;IAIlC,kBAAmB,uBAAuB;;;;IAI1C,iBAAkB,sBAAsB;;;;IAKxC,YAAa,2BAA2B;;;;IAKxC,cAAe,iBAAiB;;;;IAKhC,YAAa,+BAA+B;;;;IAK5C,iBAAkB,oBAAoB;;;;IAKtC,gBAAiB,mBAAmB;;;;IAKpC,yBAA0B,4BAA4B;IAEtD,kBAAmB,wBAAwB;IAE3C,kBAAmB,wBAAwB;;;;;;;AClE/C,MAiBa,wBAAwB;;;;;;;;;IAmCnC,YACU,IAAiB,EACjB,OAAwB,EACZ,GAAsB,EACf,QAAgB,EACR,SAAc,EAC7B,UAAwB;QALpC,SAAI,GAAJ,IAAI,CAAa;QACjB,YAAO,GAAP,OAAO,CAAiB;QACZ,QAAG,GAAH,GAAG,CAAmB;QACf,aAAQ,GAAR,QAAQ,CAAQ;QACR,cAAS,GAAT,SAAS,CAAK;QAC7B,eAAU,GAAV,UAAU,CAAc;QAvCpC,eAAU,GAAG,IAAI,YAAY,EAAO,CAAC;QACrC,gBAAW,GAAG,IAAI,YAAY,EAAO,CAAC;QAavC,iBAAY,GAAQ,EAAE,CAAC;QAGhC,gBAAW,GAAG;YACZ,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,oCAAoC,CAAC;YACtE,KAAK,EAAE,GAAG;YACV,MAAM,EAAE,GAAG;YACX,WAAW,EAAE,IAAI;SAClB,CAAC;QAEF,YAAO,GAAG;YACR,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,gCAAgC,CAAC,EAAE,KAAK,EAAE,MAAM,EAAE,KAAK,EAAE,GAAG,EAAE,QAAQ,EAAE,IAAI,EAAE;YACjH,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,gCAAgC,CAAC,EAAE,KAAK,EAAE,MAAM,EAAE,KAAK,EAAE,GAAG,EAAE,QAAQ,EAAE,IAAI,EAAE;YACjH,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,gCAAgC,CAAC,EAAE,KAAK,EAAE,MAAM,EAAE,KAAK,EAAE,EAAE;gBAC9F,SAAS,EAAE,EAAE,IAAI,EAAE,SAAS,EAAE,OAAO,EAAE,EAAE,QAAQ,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,kCAAkC,CAAC,EAAE,SAAS,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,sCAAsC,CAAC,EAAE,EAAE,EAAC;SACpM,CAAC;QAEF,SAAI,GAAG,EAAE,CAAC;QAUR,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,IAAI,IAAI,YAAY,CAAC,QAAQ,EAAE,SAAS,CAAC,CAAC;KAC3E;;;;;IAvCF,IACI,KAAK,CAAC,IAAS;QACjB,IAAI,IAAI,EAAE;YACR,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,EAAE,CAAC;SAC3B;KACF;;;;IAoCD,QAAQ;QACN,IAAI,CAAC,wBAAwB,EAAE,CAAC;KACjC;;;;IACD,eAAe;KACd;;;;IAED,OAAO;QACL,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE;YAC1B,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,uCAAuC,CAAC,CAAC,CAAC;YACtF,OAAO;SACR;;cACK,MAAM,GAAG,EAAE,KAAK,EAAE,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,EAAE,UAAU,EAAE,IAAI,EAAE;QACtE,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;KAC/B;;;;IAED,WAAW;QACT,IAAI,CAAC,UAAU,CAAC,IAAI,EAAE,CAAC;KACxB;;;;;IAEO,wBAAwB;QAC9B,IAAI,IAAI,CAAC,UAAU,EAAE;;kBACb,GAAG,GAAG,iCAAiC,IAAI,CAAC,UAAU,gBAAgB;YAC5E,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,SAAS;;;;YAAC,CAAC,EAAO;gBACnC,IAAI,EAAE,IAAI,EAAE,CAAC,MAAM,GAAG,CAAC,EAAE;oBACvB,IAAI,CAAC,IAAI,GAAG,EAAE,CAAC;oBACf,UAAU;;;oBAAC;wBACT,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,UAAU,EAAE,IAAI,CAAC,CAAC;qBAC5C,GAAE,CAAC,CAAC,CAAC;iBACP;qBAAM;oBACL,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,kCAAkC,CAAC,CAAC,CAAC;iBAClF;aACF,EAAC,CAAC;SACJ;KACF;;;YAvFF,SAAS,SAAC;gBACT,QAAQ,EAAE,uBAAuB;gBACjC,siCAAiD;gBAEjD,SAAS,EAAE;oBACR,YAAY;iBACd;;aACF;;;;YAbQ,WAAW;YAEX,eAAe;YALwE,iBAAiB,uBAuD5G,QAAQ;yCACR,MAAM,SAAC,SAAS;4CAChB,MAAM,SAAC,iBAAiB;YAnDD,YAAY,uBAoDnC,QAAQ;;;yBAvCV,MAAM;0BACN,MAAM;oBAEN,KAAK;0BAOL,SAAS,SAAC,kBAAkB;mBAE5B,SAAS,SAAC,MAAM;2BAEhB,KAAK;;MAkEK,iBAAiB;IAC5B,iBAAiB;;;;;IAEjB,SAAS,CAAC,IAAI;QACZ,IAAI,IAAI,EAAE;YACR,OAAO,IAAI,CAAC,IAAI,CAAC;SAClB;KACF;CACF;;;;;;AC3GD,MAOa,wBAAwB;;;;IACjC,YACY,UAAwB;QAAxB,eAAU,GAAV,UAAU,CAAc;;;;QAKpC,eAAU,GAAyB,EAAE,CAAC;;;;QAQtC,kBAAa,GAAyB,EAAE,CAAC;;;;QAIlC,wBAAmB,GAAG;;YAEzB,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,qDAAqD,CAAC,EAAE,KAAK,EAAE,yBAAyB,EAAE;YAC5H,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,uDAAuD,CAAC,EAAE,KAAK,EAAE,2BAA2B,EAAE;YAChI,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,qDAAqD,CAAC,EAAE,KAAK,EAAE,yBAAyB,EAAE;YAC5H,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,uDAAuD,CAAC,EAAE,KAAK,EAAE,2BAA2B,EAAE;YAChI,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,qDAAqD,CAAC,EAAE,KAAK,EAAE,yBAAyB,EAAE;;;;YAI5H,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,sDAAsD,CAAC,EAAE,KAAK,EAAE,0BAA0B,EAAE;YAC9H,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,yDAAyD,CAAC,EAAE,KAAK,EAAE,6BAA6B,EAAE;YACpI,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,sDAAsD,CAAC,EAAE,KAAK,EAAE,0BAA0B,EAAE;YAC9H,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,sDAAsD,CAAC,EAAE,KAAK,EAAE,0BAA0B,EAAE;YAC9H,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,8DAA8D,CAAC,EAAE,KAAK,EAAE,kCAAkC,EAAE;YAC9I,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,8DAA8D,CAAC,EAAE,KAAK,EAAE,kCAAkC,EAAE;YAC9I,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,0DAA0D,CAAC,EAAE,KAAK,EAAE,8BAA8B,EAAE;YACtI,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,sDAAsD,CAAC,EAAE,KAAK,EAAE,0BAA0B,EAAE;YAC9H,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,qDAAqD,CAAC,EAAE,KAAK,EAAE,yBAAyB,EAAE;YAC5H,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,sCAAsC,CAAC,EAAE,KAAK,EAAE,UAAU,EAAE;SACjG,CAAC;QACF,uBAAkB,GAAG;;YAEjB,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,8CAA8C,CAAC,EAAE,KAAK,EAAE,kBAAkB,EAAE;;;YAG9G,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,gDAAgD,CAAC,EAAE,KAAK,EAAE,oBAAoB,EAAE;YAClH,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,8CAA8C,CAAC,EAAE,KAAK,EAAE,kBAAkB,EAAE;YAC9G,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,8CAA8C,CAAC,EAAE,KAAK,EAAE,kBAAkB,EAAE;YAC9G,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,gDAAgD,CAAC,EAAE,KAAK,EAAE,oBAAoB,EAAE;YAClH,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,gDAAgD,CAAC,EAAE,KAAK,EAAE,oBAAoB,EAAE;YAClH,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,8CAA8C,CAAC,EAAE,KAAK,EAAE,kBAAkB,EAAE;YAC9G,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,8CAA8C,CAAC,EAAE,KAAK,EAAE,kBAAkB,EAAE;YAC9G,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,gDAAgD,CAAC,EAAE,KAAK,EAAE,oBAAoB,EAAE;YAClH,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,8CAA8C,CAAC,EAAE,KAAK,EAAE,kBAAkB,EAAE;YAC9G,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,gDAAgD,CAAC,EAAE,KAAK,EAAE,oBAAoB,EAAE;YAClH,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,iDAAiD,CAAC,EAAE,KAAK,EAAE,qBAAqB,EAAE;SACvH,CAAC;KArDG;;;YALR,UAAU;;;;YAFF,YAAY;;;;;;;ACFrB,MAEa,kBAAkB;;;;;;IAC3B,YAAY,IAAa,EAAE,UAAmB,EAAE,MAAe;QAC3D,IAAI,CAAC,EAAE,GAAG,aAAa,CAAC,iBAAiB,EAAE,CAAC;QAC5C,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,UAAU,GAAG,UAAU,CAAC;QAC7B,IAAI,CAAC,UAAU,GAAG,MAAM,CAAC;QACzB,IAAI,CAAC,iBAAiB,GAAG,KAAK,CAAC;KAClC;CAgBJ;;;IAMG,SAAU,SAAS;IACnB,UAAW,UAAU;IACrB,QAAS,QAAQ;;;;;;;AClCrB,MAaa,2BAA2B;;;;;;;IAIpC,YACY,OAAiC,EACjC,IAAmB,EACnB,IAAiB,EACjB,aAAqC;QAHrC,YAAO,GAAP,OAAO,CAA0B;QACjC,SAAI,GAAJ,IAAI,CAAe;QACnB,SAAI,GAAJ,IAAI,CAAa;QACjB,kBAAa,GAAb,aAAa,CAAwB;QAPzC,+BAA0B,GAAG,CAAC,sCAAsC,EAAE,sCAAsC,CAAC,CAAC;QAEtH,YAAO,GAAgC,IAAI,OAAO,EAAsB,CAAC;KAMpE;;;;;;IAEL,cAAc,CAAC,UAAkB,EAAE,QAAgB;;YAC3C,GAAG,GAAG,IAAI,CAAC,IAAI,CAAC,sBAAsB,EAAE;QAC5C,IAAI,QAAQ,EAAE;YACV,GAAG,IAAI,eAAe,GAAG,kBAAkB,CAAC,mBAAmB,UAAU,cAAc,QAAQ,2BAA2B,CAAC,CAAC;SAC/H;aAAM;YACH,IAAI,CAAC,OAAO,CAAC,aAAa,GAAG,EAAE,CAAC;YAChC,OAAO;SACV;QACD,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,SAAS;;;;QAAC,CAAC,IAAS;YACnC,IAAI,CAAC,OAAO,CAAC,aAAa,GAAG,IAAI,CAAC,MAAM;;;;YAAC,CAAC,CAAqB,KAAK,CAAC,CAAC,SAAS,KAAK,SAAS,CAAC,QAAQ,EAAC,CAAC;SAC3G,EAAC,CAAC;KACN;;;;;IACD,eAAe,CAAC,EAAU;QACtB,IAAI,EAAE,EAAE;YACJ,IAAI,CAAC,OAAO,CAAC,UAAU,GAAG,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC,MAAM;;;;YAAC,CAAC,IAAI,CAAC,CAAC,EAAE,KAAK,EAAE,EAAC,CAAC;SAC9E;KACJ;;;;;IACD,YAAY,CAAC,GAAiB;QAC1B,IAAI,GAAG,EAAE;;kBACC,SAAS,GAAG,IAAI,kBAAkB,CAAC,GAAG,CAAC,IAAI,EAAE,GAAG,CAAC,EAAE,EAAE,GAAG,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC;YAClF,SAAS,CAAC,EAAE,GAAG,aAAa,CAAC,iBAAiB,EAAE,CAAC;YACjD,SAAS,CAAC,gBAAgB,GAAG,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC;YACjD,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;YACjB,OAAO,CAAC,GAAG,CAAC,SAAS,CAAC,gBAAgB,CAAC,CAAC;YACxC,IAAI,SAAS,CAAC,UAAU,KAAK,sCAAsC;gBACnE,SAAS,CAAC,UAAU,KAAK,sCAAsC;gBAC/D,SAAS,CAAC,UAAU,KAAK,sCAAsC;gBAC/D,SAAS,CAAC,UAAU,KAAK,sCAAsC,EAAG;gBAChE,SAAS,CAAC,SAAS,GAAG,iBAAiB,CAAC;aACzC;iBAAM;gBACL,SAAS,CAAC,SAAS,GAAG,aAAa,CAAC;aACrC;YACD,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;YACxC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;SAChC;KACJ;;;;;;IACO,SAAS,CAAC,SAAuB;;YACjC,UAAU,GAAG,EAAE;QAEnB,IAAI,SAAS,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,UAAU,IAAI,SAAS,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC,MAAM,GAAG,CAAC,EAAE;YACrF,IAAI,IAAI,CAAC,0BAA0B,CAAC,OAAO,CAAC,SAAS,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,EAAE;gBAC5D,UAAU,GAAG,IAAI,CAAC,oBAAoB,CAAC,SAAS,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC;aAC9E;iBAAM;gBACH,UAAU,GAAG,SAAS,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC,GAAG;;;;gBAAC,CAAC,KAAK,EAAE,IAAI,EAAE,CAAC,CAAC,IAAI,EAAE,IAAI,EAAE,CAAC,CAAC,IAAI,EAAE,KAAK,EAAE,EAAE,EAAE,CAAC,EAAC,CAAC;aACzG;SACJ;QACD,OAAO,UAAU,CAAC;KACrB;;;;;;IACO,oBAAoB,CAAC,MAAmB;QAC5C,OAAO,MAAM,CAAC,GAAG;;;;QAAC,CAAC;YACf,IAAI,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,EAAE;;sBACvB,CAAC,GAAG,IAAI,CAAC,aAAa,CAAC,sBAAsB,CAAC,MAAM;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,OAAO,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC,EAAC,CAAC,CAAC,CAAC,CAAC,GAAG;gBACxG,OAAO,EAAE,IAAI,EAAE,CAAC,CAAC,IAAI,EAAE,IAAI,EAAE,CAAC,CAAC,IAAI,EAAE,KAAK,EAAE,mDAAmD,CAAC,QAAQ,EAAE,CAAC;aAC9G;iBAAM,IAAI,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,EAAE;;sBAChC,CAAC,GAAG,IAAI,CAAC,aAAa,CAAC,sBAAsB,CAAC,MAAM;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,OAAO,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC,EAAC,CAAC,CAAC,CAAC,CAAC,GAAG;gBACtG,OAAO,EAAE,IAAI,EAAE,CAAC,CAAC,IAAI,EAAE,IAAI,EAAE,CAAC,CAAC,IAAI,EAAE,KAAK,EAAE,mDAAmD,CAAC,QAAQ,EAAE,CAAC;aAC9G;iBAAM,IAAI,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,EAAE;gBACtC,OAAO,EAAE,IAAI,EAAE,CAAC,CAAC,IAAI,EAAE,IAAI,EAAE,CAAC,CAAC,IAAI,EAAE,KAAK,EAAE,8DAA8D,EAAE,CAAC;aAChH;iBAAM,IAAI,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC,EAAE;gBAC1C,OAAO,EAAE,IAAI,EAAE,CAAC,CAAC,IAAI,EAAE,IAAI,EAAE,CAAC,CAAC,IAAI,EAAE,KAAK,EAAE,kEAAkE,EAAE,CAAC;aACpH;iBAAM;gBACH,OAAO,EAAE,IAAI,EAAE,CAAC,CAAC,IAAI,EAAE,IAAI,EAAE,CAAC,CAAC,IAAI,EAAE,KAAK,EAAE,EAAE,EAAE,CAAC;aACpD;SACJ,EAAC,CAAC;KACN;;;;;;;IAED,SAAS,CAAC,GAAe,EAAE,EAAU,EAAE,EAAU;QAC7C,GAAG,CAAC,EAAE,CAAC,GAAG,GAAG,CAAC,MAAM,CAAC,EAAE,EAAE,CAAC,EAAE,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACxC,OAAO,GAAG,CAAC;KACd;;;;;;IAGH,SAAS,CAAC,MAAW;;cACb,GAAG,GAAG,2EAA2E;QACvF,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,SAAS;;;;QAAC,CAAC,IAAS;YACrC,MAAM,CAAC,IAAI,CAAC,CAAC;SACd,EAAC,CAAC;KACJ;;;YA1FF,UAAU;;;;YAVF,wBAAwB;YASxB,aAAa;YARb,WAAW;YAMX,sBAAsB;;;;;;;ACR/B,MAUa,0BAA0B;;;;;;;IAEnC,YACY,OAAiC,EACjC,UAAuC,EACvC,QAAyB,EACzB,UAAwB;QAHxB,YAAO,GAAP,OAAO,CAA0B;QACjC,eAAU,GAAV,UAAU,CAA6B;QACvC,aAAQ,GAAR,QAAQ,CAAiB;QACzB,eAAU,GAAV,UAAU,CAAc;KAC/B;;;;IAEL,SAAS;QACL,IAAI,IAAI,CAAC,OAAO,CAAC,YAAY,EAAE;YAC3B,IAAI,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,aAAa,KAAK,UAAU,EAAE;gBACxD,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,6BAA6B,CAAC,CAAC,CAAC;aAChF;iBAAM;gBACH,IAAI,CAAC,UAAU,CAAC,eAAe,CAAC,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,EAAE,CAAC,CAAC;aACjE;SACJ;aAAM;YACH,OAAO;SACV;KACJ;;;;;IACD,eAAe,CAAC,GAAiB;QAC7B,IAAI,GAAG,EAAE;YACL,IAAI,CAAC,UAAU,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC;SACrC;KACJ;;;;;;IAED,cAAc,CAAC,UAAkB,EAAE,QAAgB;QAC/C,IAAI,CAAC,UAAU,CAAC,cAAc,CAAC,UAAU,EAAE,QAAQ,CAAC,CAAC;KACxD;;;YA9BJ,UAAU;;;;YAPF,wBAAwB;YACxB,2BAA2B;YAG3B,eAAe;YACf,YAAY;;;;;;;ACNrB,MA0Ba,+BAA+B;;;;;;;;;;;;;;;;IAe1C,YACU,aAAqC,EACrC,IAAuB,EACvB,QAAkC,EAClC,QAAkB,EAClB,UAA0B,EAC1B,gBAA4C,EAC5C,YAA4B,EAC5B,OAAwB,EACzB,EAAqB,EACR,GAAsB,EACf,QAAgB,EACR,SAAc,EAC7B,UAAwB;QAZpC,kBAAa,GAAb,aAAa,CAAwB;QACrC,SAAI,GAAJ,IAAI,CAAmB;QACvB,aAAQ,GAAR,QAAQ,CAA0B;QAClC,aAAQ,GAAR,QAAQ,CAAU;QAClB,eAAU,GAAV,UAAU,CAAgB;QAC1B,qBAAgB,GAAhB,gBAAgB,CAA4B;QAC5C,iBAAY,GAAZ,YAAY,CAAgB;QAC5B,YAAO,GAAP,OAAO,CAAiB;QACzB,OAAE,GAAF,EAAE,CAAmB;QACR,QAAG,GAAH,GAAG,CAAmB;QACf,aAAQ,GAAR,QAAQ,CAAQ;QACR,cAAS,GAAT,SAAS,CAAK;QAC7B,eAAU,GAAV,UAAU,CAAc;QA3BtC,+BAA0B,GAAG,CAAC,sCAAsC,EAAE,sCAAsC,CAAC,CAAC;QAE5G,iBAAY,GAAG,IAAI,YAAY,EAAO,CAAC;QACvC,kBAAa,GAAG,IAAI,YAAY,EAAO,CAAC;QAGlD,iBAAY,GAAG,EAAE,CAAC;QAGlB,cAAS,GAAG,sCAAsC,CAAC;QACnD,wBAAmB,GAAG,IAAI,KAAK,EAAE,CAAC;QAuLlC,mBAAc;;;;;;QAAG,CAAC,QAAgB,EAAE,OAAY,EAAE,MAAmB;YACnE,OAAOA,IAAE,CAAC,IAAI,CAAC,CAAC;SACjB,EAAA;QAtKC,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,IAAI,IAAI,YAAY,CAAC,QAAQ,EAAE,SAAS,CAAC,CAAC;KAC3E;;;;;IACF,eAAe;KACd;;;;IACD,QAAQ;QACN,IAAI,CAAC,YAAY,GAAG;YAClB,EAAE,KAAK,EAAE,MAAM,EAAE,KAAK,EAAE,EAAE,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,uCAAuC,CAAC,EAAE;YACvG,EAAE,KAAK,EAAE,MAAM,EAAE,KAAK,EAAE,EAAE,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,uCAAuC,CAAC,EAAE;YACvG;gBACE,KAAK,EAAE,UAAU,EAAE,KAAK,EAAE,EAAE,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,2CAA2C,CAAC,EAAE,SAAS;;;;;;gBAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC;oBAC9H,IAAI,CAAC,EAAE;wBACL,OAAO,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,sCAAsC,CAAC,CAAC;qBAC1E;yBAAM;wBACL,OAAO,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,qCAAqC,CAAC,CAAC;qBACzE;iBACF,CAAA;aACF;YACD;gBACE,KAAK,EAAE,OAAO,EAAE,KAAK,EAAE,GAAG,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,wCAAwC,CAAC;gBACtG,MAAM,EAAE;oBACN,IAAI,EAAE,aAAa;oBACnB,OAAO,EAAE;wBACP,SAAS,EAAE,sCAAsC;wBACjD,QAAQ,EAAE,KAAK;wBACf,WAAW;;;;wBAAE,CAAC,CAAC;4BACb,CAAC,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC,CAAC,QAAQ,CAAC,KAAK,GAAG,CAAC,CAAC,QAAQ,CAAC,KAAK,GAAG,EAAE,CAAC,CAAC;4BACjE,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC;yBACtB,CAAA;wBACD,KAAK;;;;wBAAE,CAAC,CAAC;4BACP,OAAO,CAAC,GAAG,CAAC,OAAO,EAAE,CAAC,CAAC,CAAC;yBACzB,CAAA;qBACF;iBACF;aACF;SACF,CAAC;;;;KAKH;;;;;IACD,YAAY,CAAC,CAAM;;YACb,OAAO,GAAG,IAAI,KAAK,EAAa;;;;;QAKpC,IAAI,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE;YACzC,KAAK,MAAM,MAAM,IAAI,IAAI,CAAC,aAAa,CAAC,OAAO,EAAE;gBAC/C,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,QAAQ,EAAE,MAAM,CAAC,CAAC;aACvC;YACD,IAAI,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,WAAW,IAAI,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC,MAAM,GAAG,CAAC,EAAE;;sBAC/F,UAAU,GAAG,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC;gBAC/D,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,UAAU,CAAC,IAAI,EAAE,QAAQ,EACnD,UAAU,CAAC,IAAI,EAAE,YAAY,CAAC,UAAU,CAAC,CAAC;aAC7C;SACF;QACD,OAAO,GAAG,IAAI,CAAC,aAAa,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC;QACjD,IAAI,IAAI,CAAC,aAAa,CAAC,kBAAkB,CAAC,MAAM,GAAG,CAAC,EAAE;YACpD,KAAK,MAAM,QAAQ,IAAI,IAAI,CAAC,aAAa,CAAC,kBAAkB,EAAE;gBAC5D,IAAI,CAAC,OAAO,CAAC,IAAI;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,GAAG,KAAK,QAAQ,CAAC,GAAG,EAAC,EAAE;oBAC9C,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;iBACxB;aACF;SACF;QACD,IAAI,IAAI,CAAC,QAAQ,KAAK,UAAU,EAAE;YAChC,KAAK,MAAM,QAAQ,IAAI,IAAI,CAAC,aAAa,CAAC,wBAAwB,EAAE;gBAClE,IAAI,CAAC,OAAO,CAAC,IAAI;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,GAAG,KAAK,QAAQ,CAAC,GAAG,EAAC,EAAE;oBAC9C,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;iBACxB;aACF;SACF;QACD,IAAI,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE;YACtB,KAAK,MAAM,CAAC,IAAI,OAAO,EAAE;gBACvB,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;aACzB;SACF;QACD,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,YAAY,CAAC,QAAQ,CAAC,CAAC;QAChD,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;QAC9C,IAAI,CAAC,IAAI,CAAC,eAAe,EAAE,CAAC,IAAI;;;;QAAC,CAAC,cAAsB;YACtD,CAAC,CAAC,WAAW,CAAC,QAAQ,CAAC,cAAc,CAAC,CAAC;YACvC,CAAC,CAAC,QAAQ,CAAC,EAAE,CAAC,aAAa,EAAE,CAAC;;YAE9B,IAAG,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE;gBACrB,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,eAAe,GAAG,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,eAAe,CAAC,MAAM;;;;gBAAC,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,GAAG,KAAK,CAAC,CAAC,GAAG,EAAC,EAAC,CAAC;aAC9H;SACF,EAAC,CAAC;KACJ;;;;;;;IAID,wBAAwB,CAAC,UAAkB,EAAE,SAAiB;QAC5D,IAAI,CAAC,gBAAgB,CAAC,YAAY,CAAC,UAAU,EAAE,SAAS,CAAC,CAAC,SAAS;;;;QACjE,CAAC,cAA8B;YAC7B,cAAc,CAAC,YAAY,CAAC,SAAS;;;;YACnC,CAAC,MAAoB;gBACnB,IAAI,MAAM,EAAE;;0BACJ,SAAS,GAAG,IAAI,kBAAkB,CAAC,MAAM,CAAC,IAAI,EAAE,MAAM,CAAC,EAAE,EAAE,MAAM,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC;oBAC3F,SAAS,CAAC,EAAE,GAAG,aAAa,CAAC,iBAAiB,EAAE,CAAC;oBACjD,SAAS,CAAC,gBAAgB,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;oBACpD,IAAI,SAAS,CAAC,UAAU,KAAK,sCAAsC;wBACjE,SAAS,CAAC,UAAU,KAAK,sCAAsC;wBAC/D,SAAS,CAAC,UAAU,KAAK,sCAAsC;wBAC/D,SAAS,CAAC,UAAU,KAAK,sCAAsC,EAAE;wBACjE,SAAS,CAAC,SAAS,GAAG,iBAAiB,CAAC;qBACzC;yBAAM;wBACL,SAAS,CAAC,SAAS,GAAG,aAAa,CAAC;qBACrC;oBACD,IAAI,CAAC,YAAY,GAAG,SAAS,CAAC;oBAC9B,IAAI,CAAC,EAAE,CAAC,aAAa,EAAE,CAAC;iBACzB;aACF,EAAC,CAAC;SACN,EAAC,CAAC;KACN;;;;;;IACO,SAAS,CAAC,SAAuB;;YACnC,UAAU,GAAG,EAAE;QAEnB,IAAI,SAAS,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,UAAU,IAAI,SAAS,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC,MAAM,GAAG,CAAC,EAAE;YACvF,IAAI,IAAI,CAAC,0BAA0B,CAAC,OAAO,CAAC,SAAS,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,EAAE;gBAC9D,UAAU,GAAG,IAAI,CAAC,oBAAoB,CAAC,SAAS,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC;aAC5E;iBAAM;gBACL,UAAU,GAAG,SAAS,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC,GAAG;;;;gBAAC,CAAC,KAAK,EAAE,IAAI,EAAE,CAAC,CAAC,IAAI,EAAE,IAAI,EAAE,CAAC,CAAC,IAAI,EAAE,KAAK,EAAE,EAAE,EAAE,QAAQ,EAAE,CAAC,CAAC,IAAI,CAAC,WAAW,EAAE,KAAI,WAAW,GAAE,KAAK,GAAG,CAAC,CAAC,QAAQ,EAAE,CAAC,EAAC,CAAC;aAC1K;SACF;QACD,OAAO,UAAU,CAAC;KACnB;;;;;;IACO,oBAAoB,CAAC,MAAmB;QAC9C,OAAO,MAAM,CAAC,GAAG;;;;QAAC,CAAC;YACjB,IAAI,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,EAAE;;sBACzB,CAAC,GAAG,IAAI,CAAC,aAAa,CAAC,sBAAsB,CAAC,MAAM;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,OAAO,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC,EAAC,CAAC,CAAC,CAAC,CAAC,GAAG;gBACxG,OAAO,EAAE,IAAI,EAAE,CAAC,CAAC,IAAI,EAAE,IAAI,EAAE,CAAC,CAAC,IAAI,EAAE,KAAK,EAAE,mDAAmD,CAAC,QAAQ,EAAE,QAAQ,EAAE,IAAI,EAAC,CAAC;aAC3H;iBAAM,IAAI,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,EAAE;;sBAClC,CAAC,GAAG,IAAI,CAAC,aAAa,CAAC,sBAAsB,CAAC,MAAM;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,OAAO,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC,EAAC,CAAC,CAAC,CAAC,CAAC,GAAG;gBACtG,OAAO,EAAE,IAAI,EAAE,CAAC,CAAC,IAAI,EAAE,IAAI,EAAE,CAAC,CAAC,IAAI,EAAE,KAAK,EAAE,mDAAmD,CAAC,QAAQ,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;aAC5H;iBAAM,IAAI,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,EAAE;gBACxC,OAAO,EAAE,IAAI,EAAE,CAAC,CAAC,IAAI,EAAE,IAAI,EAAE,CAAC,CAAC,IAAI,EAAE,KAAK,EAAE,8DAA8D,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;aAC9H;iBAAM,IAAI,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC,EAAE;gBAC5C,OAAO,EAAE,IAAI,EAAE,CAAC,CAAC,IAAI,EAAE,IAAI,EAAE,CAAC,CAAC,IAAI,EAAE,KAAK,EAAE,kEAAkE,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;aAClI;iBAAM;gBACL,OAAO,EAAE,IAAI,EAAE,CAAC,CAAC,IAAI,EAAE,IAAI,EAAE,CAAC,CAAC,IAAI,EAAE,KAAK,EAAE,EAAE,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;aAClE;SACF,EAAC,CAAC;KACJ;;;;IACD,eAAe;;cACP,WAAW,GAAG,IAAI,CAAC,QAAQ,CAAC,uBAAuB,CAAC,yBAAyB,CAAC;;cAC9E,OAAO,GAAG,WAAW,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC;QACjD,OAAO,CAAC,QAAQ,CAAC,QAAQ,GAAG,qBAAqB,CAAC;QAClD,OAAO,CAAC,QAAQ,CAAC,gBAAgB,CAAC,SAAS;;;;QAAC,CAAC,MAAuB;YAClE,IAAI;;sBACI,IAAI,GAAgB,MAAM,CAAC,QAAQ;gBACzC,IAAI,CAAC,wBAAwB,CAAC,IAAI,CAAC,EAAE,EAAE,IAAI,CAAC,UAAU,CAAC,gBAAgB,EAAE,CAAC,CAAC;aAC5E;YAAC,WAAM;gBACN,OAAO,CAAC,GAAG,CAAC,QAAQ,EAAE,MAAM,CAAC,CAAC;gBAC9B,MAAM,IAAI,KAAK,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,oDAAoD,CAAC,GAAG,MAAM,CAAC,CAAC;aAC3G;SACF,EAAC,CAAC;;cACG,WAAW,GAAG;YAClB,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,qDAAqD,CAAC;YACvF,KAAK,EAAE,GAAG;YACV,MAAM,EAAE,GAAG;YACX,WAAW,EAAE,KAAK;SACnB;;cACK,MAAM,GAAG,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,OAAO,EAAE,WAAW,CAAC;QAC3D,OAAO,CAAC,QAAQ,CAAC,iBAAiB,CAAC,SAAS;;;;QAAC,MAAM,IAAI,MAAM,CAAC,KAAK,EAAE,EAAC,CAAC;KACxE;;;;IAID,WAAW;QACT,IAAI,CAAC,SAAS,CAAC,WAAW,EAAE,CAAC;KAC9B;;;;IAED,MAAM;;QAEJ,IAAI,CAAC,WAAW,EAAE,CAAC;QACnB,IAAI,IAAI,CAAC,SAAS,EAAE,EAAE;YACpB,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;SAC5C;KACF;;;;IAED,UAAU;QACR,IAAI,CAAC,YAAY,CAAC,IAAI,EAAE,CAAC;KAC1B;;;;IAED,SAAS;QACP,IAAI,CAAC,IAAI,CAAC,YAAY,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,UAAU,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,UAAU,EAAE;YACxF,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,+CAA+C,CAAC,CAAC,CAAC;YAC9F,OAAO,KAAK,CAAA;SACb;aAAM,IAAI,IAAI,CAAC,QAAQ,KAAK,cAAc,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,aAAa,EAAE;YAC/E,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,gDAAgD,CAAC,CAAC,CAAC;YAC/F,OAAO,KAAK,CAAC;SACd;aAAM;;gBACD,QAAQ,GAAG,EAAE;YACjB,KAAK,MAAM,KAAK,IAAI,IAAI,CAAC,YAAY,CAAC,gBAAgB,EAAE;gBACtD,IAAI,KAAK,CAAC,QAAQ,IAAI,CAAC,KAAK,CAAC,KAAK,EAAE;oBAClC,QAAQ,GAAG,QAAQ,GAAG,IAAI,KAAK,CAAC,IAAI,EAAE,CAAC;iBACxC;aACF;YACD,IAAI,QAAQ,CAAC,MAAM,GAAG,CAAC,EAAE;gBACvB,QAAQ,GAAG,QAAQ,CAAC,KAAK,CAAC,CAAC,EAAE,QAAQ,CAAC,MAAM,CAAC,CAAA;gBAC7C,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,uCAAuC,CAAC,GAAG,GAAG,GAAG,QAAQ,GAAG,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,+CAA+C,CAAC,CAAC,CAAC;gBACpL,OAAO,KAAK,CAAC;aACd;SACF;QACD,OAAO,IAAI,CAAC;KACb;;;YAlPF,SAAS,SAAC;gBACT,QAAQ,EAAE,8BAA8B;gBACxC,8kHAAwD;gBAExD,SAAS,EAAE;oBACR,YAAY;iBACd;;aACF;;;;YAtBQ,sBAAsB;YACR,iBAAiB;YAJc,wBAAwB;YAAwB,QAAQ;YAMrG,cAAc;YACd,0BAA0B;YAE1B,cAAc;YAKd,eAAe;YAdA,iBAAiB;YAAjB,iBAAiB,uBAmDpC,QAAQ;yCACR,MAAM,SAAC,SAAS;4CAChB,MAAM,SAAC,iBAAiB;YAtCD,YAAY,uBAuCnC,QAAQ;;;wBA1BV,KAAK;2BACL,MAAM;4BACN,MAAM;wBACN,SAAS,SAAC,WAAW;yBACrB,SAAS,SAAC,YAAY;2BAOtB,KAAK;;;;;;;ACvCR,MA2Ba,0BAA0B;;;;;;;;;;;;;;;;;IAoFrC,YACS,OAAiC,EACjC,SAAqC,EACpC,aAAqC,EACrC,IAAuB,EACvB,QAAkC,EAClC,QAAkB,EAClB,YAA4B,EAC5B,gBAA4C,EAC5C,UAAuC,EACvC,OAAwB,EACZ,GAAsB,EACf,QAAgB,EACR,SAAc,EAC7B,UAAwB;QAbrC,YAAO,GAAP,OAAO,CAA0B;QACjC,cAAS,GAAT,SAAS,CAA4B;QACpC,kBAAa,GAAb,aAAa,CAAwB;QACrC,SAAI,GAAJ,IAAI,CAAmB;QACvB,aAAQ,GAAR,QAAQ,CAA0B;QAClC,aAAQ,GAAR,QAAQ,CAAU;QAClB,iBAAY,GAAZ,YAAY,CAAgB;QAC5B,qBAAgB,GAAhB,gBAAgB,CAA4B;QAC5C,eAAU,GAAV,UAAU,CAA6B;QACvC,YAAO,GAAP,OAAO,CAAiB;QACZ,QAAG,GAAH,GAAG,CAAmB;QACf,aAAQ,GAAR,QAAQ,CAAQ;QACR,cAAS,GAAT,SAAS,CAAK;QAC7B,eAAU,GAAV,UAAU,CAAc;QAhG9C,QAAG,GAAG,8BAA8B,CAAC;QAC3B,eAAU,GAAG,IAAI,YAAY,EAAO,CAAC;QACrC,gBAAW,GAAG,IAAI,YAAY,EAAO,CAAC;QACvC,iBAAY,GAAQ,EAAE,CAAC;QAKhC,cAAS,GAAG,KAAK,CAAC;QAClB,gBAAW,GAAG;YACZ,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,uCAAuC,CAAC;YACzE,KAAK,EAAE,GAAG;YACV,MAAM,EAAE,GAAG;YACX,WAAW,EAAE,IAAI;SAClB,CAAC;QAqDF,oBAAe,GAAG;YAChB;gBACE,EAAE,EAAE,MAAM;gBACV,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,kCAAkC,CAAC;aACpE;YACD;gBACE,EAAE,EAAE,WAAW;gBACf,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,uCAAuC,CAAC;aACzE;SACF,CAAC;QACF,cAAS,GAAG,KAAK,CAAC;;QAClB,6BAAwB,GAAG,KAAK,CAAC;QAEjC,YAAO,GAAG,EAAE,CAAC;QACb,iBAAY,GAAG,EAAE,CAAC;QAwVlB,mBAAc;;;;;;QAAG,CAAC,QAAgB,EAAE,OAAY,EAAE,MAAmB;YACnE,OAAOA,IAAE,CAAC,IAAI,CAAC,CAAC;SACjB,EAAA;QAzUC,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,IAAI,IAAI,YAAY,CAAC,QAAQ,EAAE,SAAS,CAAC,CAAC;KAC5E;;;;;IApFD,IACI,KAAK,CAAC,IAAW;QACnB,IAAI,IAAI,IAAI,IAAI,CAAC,MAAM,GAAG,CAAC,EAAE;;gBACvB,cAAc,GAAG,IAAI,KAAK,EAAE;YAChC,KAAK,MAAM,GAAG,IAAI,IAAI,EAAE;gBACtB,IAAI,cAAc,CAAC,OAAO,CAAC,GAAG,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC,EAAE;oBAChD,cAAc,CAAC,IAAI,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;iBACrC;aACF;YACD,IAAI,cAAc,CAAC,MAAM,GAAG,CAAC,EAAE;gBAC7B,QAAQ,CAAC,cAAc,CAAC,GAAG;;;;gBAAC,CAAC,UAAkB,KAAK,IAAI,CAAC,aAAa,CAAC,eAAe,CAAC,UAAU,EAAE,EAAE,CAAC,EAAC,CAAC,CAAC,SAAS;;;;gBAAC,QAAQ;oBACzH,KAAK,MAAM,GAAG,IAAI,IAAI,EAAE;;8BAChB,YAAY,GAAG,IAAI,kBAAkB,CAAC,GAAG,CAAC,IAAI,EAAE,GAAG,CAAC,UAAU,EAAE,GAAG,CAAC,UAAU,CAAC;wBACrF,YAAY,CAAC,aAAa,GAAG,GAAG,CAAC,aAAa;4BAC9C,YAAY,CAAC,EAAE,GAAG,GAAG,CAAC,EAAE,CAAC;wBACzB,YAAY,CAAC,iBAAiB,GAAG,GAAG,CAAC,iBAAiB,CAAC;wBACvD,YAAY,CAAC,gBAAgB,GAAG,IAAI,KAAK,EAAE,CAAC;wBAC5C,YAAY,CAAC,SAAS,GAAG,GAAG,CAAC,SAAS,IAAI,IAAI,CAAC;;8BAEzC,IAAI,GAAG,QAAQ,CAAC,IAAI;;;;wBAAC,CAAC,IAAI,CAAC,CAAC,EAAE,KAAK,GAAG,CAAC,UAAU,EAAC;;8BAClD,OAAO,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,OAAO,CAAC;;8BAClC,SAAS,GAAG,OAAO,CAAC,UAAU,CAAC,IAAI;;;;wBAAC,CAAC,IAAI,CAAC,CAAC,IAAI,KAAK,GAAG,CAAC,UAAU,EAAC;wBACzE,IAAI,SAAS,EAAE;4BACb,YAAY,CAAC,gBAAgB,GAAG,GAAG,CAAC,gBAAgB,CAAC,GAAG;;;;4BAAC,CAAC;;sCAClD,CAAC,GAAG,SAAS,CAAC,UAAU,CAAC,IAAI;;;;gCAAC,CAAC,IAAI,CAAC,CAAC,IAAI,KAAK,CAAC,CAAC,IAAI,EAAC;gCAC3D,IAAI,CAAC,EAAE;oCACL,OAAO;wCACL,IAAI,EAAE,CAAC,CAAC,IAAI;wCACZ,IAAI,EAAE,CAAC,CAAC,IAAI;wCACZ,KAAK,EAAE,CAAC,CAAC,KAAK;wCACd,QAAQ,EAAE,CAAC,CAAC,IAAI,CAAC,WAAW,EAAE,KAAI,WAAW,GAAE,KAAK,GAAG,CAAC,CAAC,QAAQ;qCAClE,CAAC;iCACH;qCAAM;oCACL,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,oCAAoC,CAAC,GAAG,GAAG,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,oDAAoD,CAAC,CAAC,CAAC;oCAClL,OAAO;wCACL,IAAI,EAAE,CAAC,CAAC,IAAI;wCACZ,IAAI,EAAE,CAAC,CAAC,IAAI;wCACZ,KAAK,EAAE,CAAC,CAAC,KAAK;wCACd,QAAQ,EAAE,KAAK;qCAChB,CAAC;iCACH;6BACF,EAAC,CAAC;yBACJ;6BAAM;4BACL,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,0CAA0C,CAAC,GAAG,GAAG,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,yCAAyC,CAAC,CAAC,CAAC;yBAC9K;wBACD,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;qBAC5C;iBACF,EAAC,CAAC;aACJ;SACF;KACF;;;;IAoCD,QAAQ;;QAEN,UAAU;;;QAAC;YACT,IAAI,CAAC,OAAO,EAAE,CAAC;SAChB,GAAE,GAAG,CAAC,CAAA;KACR;;;;IAED,OAAO;QACL,IAAI,IAAI,CAAC,aAAa,CAAC,SAAS,KAAK,kBAAkB,EAAE;YACvD,IAAI,CAAC,UAAU,CAAC,SAAS;;;;YAAC,CAAC,IAAI;gBAC7B,IAAI,IAAI,IAAI,IAAI,CAAC,MAAM,GAAG,CAAC,EAAE;;oBAE3B,KAAK,MAAM,CAAC,IAAI,IAAI,EAAE;wBACpB,IAAI,CAAC,CAAC,SAAS,KAAK,iBAAiB,EAAE;4BACrC,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;4BACtB,MAAM;yBACP;qBACF;iBACF;aACF,EAAC,CAAC;SACJ;QACD,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC;QAC3C,IAAI,IAAI,CAAC,QAAQ,KAAK,UAAU,EAAE;YAChC,IAAI,CAAC,OAAO,CAAC,mBAAmB,GAAG,IAAI,CAAC,OAAO,CAAC,kBAAkB,CAAC;YACnE,IAAI,CAAC,OAAO,GAAG;gBACb;oBACE,KAAK,EAAE,eAAe,EAAE,KAAK,EAAE,GAAG,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,2CAA2C,CAAC;oBACjH,MAAM,EAAE;wBACN,IAAI,EAAE,WAAW,CAAC,SAAS;wBAC3B,OAAO,EAAE,EAAE,IAAI,EAAE,IAAI,CAAC,OAAO,CAAC,mBAAmB,EAAE,UAAU,EAAE,MAAM,EAAE,UAAU,EAAE,OAAO,EAAE,SAAS,EAAE,MAAM,EAAE,OAAO,EAAE,OAAO,EAAE,WAAW,EAAE,MAAM,EAAE;qBACvJ;oBACD,SAAS;;;;;;oBAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC;wBACjB,IAAI,CAAC,EAAE;4BACL,OAAO,IAAI,CAAC,OAAO,CAAC,mBAAmB,CAAC,IAAI;;;;4BAAC,IAAI,IAAI,IAAI,CAAC,KAAK,KAAK,CAAC,EAAC,CAAC,IAAI,CAAC;yBAC7E;6BAAM;4BACL,OAAO,EAAE,CAAC;yBACX;qBACF,CAAA;oBACD,UAAU,EAAE;wBACV,EAAE,IAAI,EAAE,UAAU,EAAE,QAAQ,EAAE,IAAI,EAAE;qBACrC;iBACF;gBACD;oBACE,KAAK,EAAE,MAAM,EAAE,KAAK,EAAE,GAAG,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,qCAAqC,CAAC;iBACnG;gBACD,EAAE,KAAK,EAAE,YAAY,EAAE,KAAK,EAAE,GAAG,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,wCAAwC,CAAC,EAAE;gBAC/G,EAAE,KAAK,EAAE,YAAY,EAAE,KAAK,EAAE,GAAG,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,wCAAwC,CAAC,EAAE;gBAC/G;oBACE,KAAK,EAAE,mBAAmB,EAAE,KAAK,EAAE,EAAE,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,+CAA+C,CAAC;oBACxH,MAAM,EAAE,EAAE,IAAI,EAAE,WAAW,CAAC,MAAM,EAAE,OAAO,EAAE,EAAE,EAAE;oBACjD,SAAS,EAAE,EAAE,IAAI,EAAE,SAAS,EAAE,OAAO,EAAE,EAAE,QAAQ,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,iCAAiC,CAAC,EAAE,SAAS,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,gCAAgC,CAAC,EAAE,EAAE;iBAC5L;gBACD,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,qCAAqC,CAAC,EAAE,KAAK,EAAE,EAAE,EAAE,QAAQ,EAAE,IAAI,CAAC,WAAW,EAAE;aACnH,CAAC;SACH;aAAM,IAAI,IAAI,CAAC,QAAQ,KAAK,cAAc,EAAE;YAC3C,IAAI,CAAC,OAAO,GAAG;gBACb;oBACE,KAAK,EAAE,MAAM,EAAE,KAAK,EAAE,GAAG,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,qCAAqC,CAAC;iBACnG;gBACD,EAAE,KAAK,EAAE,YAAY,EAAE,KAAK,EAAE,GAAG,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,wCAAwC,CAAC,EAAE;gBAC/G,EAAE,KAAK,EAAE,YAAY,EAAE,KAAK,EAAE,GAAG,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,wCAAwC,CAAC,EAAE;gBAC/G;oBACE,KAAK,EAAE,mBAAmB,EAAE,KAAK,EAAE,EAAE,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,+CAA+C,CAAC;oBACxH,MAAM,EAAE,EAAE,IAAI,EAAE,WAAW,CAAC,MAAM,EAAE,OAAO,EAAE,EAAE,EAAE;oBACjD,SAAS,EAAE,EAAE,IAAI,EAAE,SAAS,EAAE,OAAO,EAAE,EAAE,QAAQ,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,iCAAiC,CAAC,EAAE,SAAS,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,gCAAgC,CAAC,EAAE,EAAE;iBAC5L;gBACD,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,qCAAqC,CAAC,EAAE,KAAK,EAAE,EAAE,EAAE,QAAQ,EAAE,IAAI,CAAC,WAAW,EAAE;aACnH,CAAC;SACH;aAAM;YACL,IAAI,CAAC,OAAO,GAAG;gBACb;oBACE,KAAK,EAAE,eAAe,EAAE,KAAK,EAAE,GAAG,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,2CAA2C,CAAC;oBACjH,MAAM,EAAE;wBACN,IAAI,EAAE,WAAW,CAAC,SAAS;wBAC3B,OAAO,EAAE,EAAE,IAAI,EAAE,IAAI,CAAC,OAAO,CAAC,mBAAmB,EAAE,UAAU,EAAE,MAAM,EAAE,UAAU,EAAE,OAAO,EAAE,SAAS,EAAE,MAAM,EAAE,OAAO,EAAE,OAAO,EAAE,WAAW,EAAE,MAAM,EAAE;qBACvJ;oBACD,SAAS;;;;;;oBAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC;wBACjB,IAAI,CAAC,EAAE;4BACL,OAAO,IAAI,CAAC,OAAO,CAAC,mBAAmB,CAAC,IAAI;;;;4BAAC,IAAI,IAAI,IAAI,CAAC,KAAK,KAAK,CAAC,EAAC,CAAC,IAAI,CAAC;yBAC7E;6BAAM;4BACL,OAAO,EAAE,CAAC;yBACX;qBACF,CAAA;oBACD,UAAU,EAAE;wBACV,EAAE,IAAI,EAAE,UAAU,EAAE,QAAQ,EAAE,IAAI,EAAE;qBACrC;iBACF;gBACD;oBACE,KAAK,EAAE,MAAM,EAAE,KAAK,EAAE,GAAG,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,qCAAqC,CAAC;iBACnG;gBACD,EAAE,KAAK,EAAE,YAAY,EAAE,KAAK,EAAE,GAAG,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,wCAAwC,CAAC,EAAE;gBAC/G,EAAE,KAAK,EAAE,YAAY,EAAE,KAAK,EAAE,GAAG,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,wCAAwC,CAAC,EAAE;gBAC/G,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,qCAAqC,CAAC,EAAE,KAAK,EAAE,EAAE,EAAE,QAAQ,EAAE,IAAI,CAAC,WAAW,EAAE;aACnH,CAAC;SACH;QACD,IAAI,IAAI,CAAC,OAAO,CAAC,UAAU,IAAI,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC,MAAM,GAAG,CAAC,EAAE;YACjE,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,IAAI,CAAC,CAAC;SAC7D;QAED,IAAI,CAAC,YAAY,GAAG;YAClB,EAAE,KAAK,EAAE,MAAM,EAAE,KAAK,EAAE,EAAE,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,kCAAkC,CAAC,EAAE;YAClG,EAAE,KAAK,EAAE,MAAM,EAAE,KAAK,EAAE,EAAE,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,kCAAkC,CAAC,EAAE;YAClG;gBACE,KAAK,EAAE,OAAO,EAAE,KAAK,EAAE,GAAG,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,mCAAmC,CAAC;gBACjG,MAAM,EAAE;oBACN,IAAI,EAAE,aAAa;oBACnB,OAAO,EAAE;wBACP,SAAS,EAAE,sCAAsC;wBACjD,QAAQ,EAAE,KAAK;wBACf,WAAW;;;;wBAAE,CAAC,CAAC;4BACb,CAAC,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC,CAAC,QAAQ,CAAC,KAAK,GAAG,CAAC,CAAC,QAAQ,CAAC,KAAK,GAAG,EAAE,CAAC,CAAC;4BACjE,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC;yBACtB,CAAA;wBACD,KAAK;;;;wBAAE,CAAC,CAAC;4BACP,OAAO,CAAC,GAAG,CAAC,OAAO,EAAE,CAAC,CAAC,CAAC;yBACzB,CAAA;qBACF;iBACF;aACF;SACF,CAAC;;QAEF,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,SAAS;;;;QAAC,GAAG;YACnC,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC;YAC/C,IAAI,GAAG,EAAE;gBACP,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,GAAG,CAAC,EAAE,EAAE,IAAI,CAAC,CAAC;aACtC;iBAAM;gBACL,IAAI,CAAC,OAAO,CAAC,YAAY,GAAG,IAAI,CAAC;aAClC;SACF,EAAC,CAAC;KACJ;;;;IAED,eAAe;QACb,IAAI,IAAI,CAAC,OAAO,CAAC,UAAU,IAAI,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC,MAAM,GAAG,CAAC,EAAE;YACjE,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,IAAI,CAAC,CAAC;SAC7D;KACF;;;;IACD,IAAI;QACF,IAAI,CAAC,SAAS,GAAG,MAAM,CAAC;;cAClB,WAAW,GAAG,IAAI,CAAC,QAAQ,CAAC,uBAAuB,CAAC,+BAA+B,CAAC;;cACpF,OAAO,GAAG,WAAW,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC;;cAC3C,WAAW,GAAG;YAClB,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,2CAA2C,CAAC;YAC7E,KAAK,EAAE,GAAG;YACV,MAAM,EAAE,GAAG;YACX,OAAO,EAAE,OAAO,CAAC,QAAQ,CAAC,UAAU;YACpC,WAAW,EAAE,IAAI;YACjB,YAAY,EAAE;gBACZ,YAAY,EAAE,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,CAAC;aACpE;SACF;;cACK,UAAU,GAAG,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,OAAO,EAAE,WAAW,CAAC;QAC/D,OAAO,CAAC,QAAQ,CAAC,OAAO,GAAG,KAAK,CAAC;QACjC,OAAO,CAAC,QAAQ,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC;QAC5C,OAAO,CAAC,QAAQ,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC;QAC1C,OAAO,CAAC,QAAQ,CAAC,mBAAmB,GAAG,IAAI,CAAC,OAAO,CAAC,mBAAmB,CAAC;;QAExE,OAAO,CAAC,QAAQ,CAAC,aAAa,CAAC,SAAS;;;;QAAC,GAAG;;kBACpC,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC,SAAS;;;;YAAC,IAAI,IAAI,IAAI,CAAC,EAAE,KAAK,GAAG,CAAC,EAAE,EAAC;YACvE,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC;YACjC,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC;YAC/C,UAAU,CAAC,KAAK,EAAE,CAAA;SACnB,EAAC,CAAC;QACH,OAAO,CAAC,QAAQ,CAAC,YAAY,CAAC,SAAS;;;;QAAC,EAAE;YACxC,UAAU,CAAC,KAAK,EAAE,CAAA;SACnB,EAAC,CAAC;QACH,UAAU;;;QAAC;YACT,OAAO,CAAC,QAAQ,CAAC,EAAE,CAAC,aAAa,EAAE,CAAC;SACrC,EAAC,CAAA;KACH;;;;IACD,SAAS;QACP,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,2CAA2C,CAAC,CAAC,CAAC,SAAS;;;;QAAC,CAAC,CAAC;YACvG,IAAI,CAAC,EAAE;gBACL,IAAI,CAAC,aAAa,EAAE,CAAC;gBACrB,IAAI,CAAC,SAAS,CAAC,SAAS,EAAE,CAAC;gBAC3B,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC;aAChD;SACF,EAAC,CAAC;KACJ;;;;IACD,MAAM;QACJ,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,YAAY,EAAE;YAC9B,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,0CAA0C,CAAC,CAAC,CAAC;YACzF,OAAO;SACR;;cACK,QAAQ,GAAW,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,EAAE;;cAC/C,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC,SAAS;;;;QAAC,CAAC,IAAI,CAAC,CAAC,EAAE,KAAK,QAAQ,EAAC;QACnE,IAAI,CAAC,KAAK,CAAC,EAAE;YACX,OAAO;SACR;QACD,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,IAAI,CAAC,OAAO,CAAC,UAAU,EAAE,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC;QAE7D,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC;QAC/C,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,QAAQ,EAAE,IAAI,CAAC,CAAC;KACxC;;;;IAED,QAAQ;QACN,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,YAAY,EAAE;YAC9B,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,0CAA0C,CAAC,CAAC,CAAC;YACzF,OAAO;SACR;;cACK,QAAQ,GAAW,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,EAAE;;cAC/C,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC,SAAS;;;;QAAC,CAAC,IAAI,CAAC,CAAC,EAAE,KAAK,QAAQ,EAAC;QACnE,IAAI,CAAC,KAAK,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC,MAAM,GAAG,CAAC,EAAE;YAC5C,OAAO;SACR;QACD,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,IAAI,CAAC,OAAO,CAAC,UAAU,EAAE,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC;QAE7D,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC;QAC/C,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,QAAQ,EAAE,IAAI,CAAC,CAAC;KACxC;;;;;;IAED,WAAW,CAAC,QAAgB,EAAE,GAAQ;QACpC,IAAI,CAAC,OAAO,CAAC,YAAY,GAAG,GAAG,CAAC,OAAO,CAAC;QACxC,QAAQ,QAAQ;YACd,KAAK,MAAM;gBACT,IAAI,CAAC,IAAI,EAAE,CAAC;gBACZ,MAAM;YACR,KAAK,WAAW;gBACd,IAAI,CAAC,SAAS,EAAE,CAAC;gBACjB,MAAM;SACT;KACF;;;;IAED,OAAO;QACL,IAAI,CAAC,aAAa,EAAE,CAAC;QACrB,IAAI,IAAI,CAAC,SAAS,EAAE,EAAE;;kBACd,MAAM,GAAG,EAAE,KAAK,EAAE,IAAI,CAAC,OAAO,CAAC,UAAU,EAAE,UAAU,EAAE,IAAI,EAAE;YACnE,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;SAC/B;KACF;;;;IAED,WAAW;QACT,IAAI,CAAC,UAAU,CAAC,IAAI,EAAE,CAAC;KACxB;;;;IACD,eAAe;QACb,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;;cACjB,WAAW,GAAG,IAAI,CAAC,QAAQ,CAAC,uBAAuB,CAAC,+BAA+B,CAAC;;cACpF,OAAO,GAAG,WAAW,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC;;cAC3C,WAAW,GAAG;YAClB,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,0CAA0C,CAAC;YAC5E,KAAK,EAAE,GAAG;YACV,MAAM,EAAE,GAAG;YACX,OAAO,EAAE,OAAO,CAAC,QAAQ,CAAC,UAAU;YACpC,WAAW,EAAE,IAAI;SAClB;;cACK,UAAU,GAAG,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,OAAO,EAAE,WAAW,CAAC;QAC/D,OAAO,CAAC,QAAQ,CAAC,OAAO,GAAG,IAAI,CAAC;QAChC,OAAO,CAAC,QAAQ,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC;QAC5C,OAAO,CAAC,QAAQ,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC;QAC1C,OAAO,CAAC,QAAQ,CAAC,mBAAmB,GAAG,IAAI,CAAC,OAAO,CAAC,mBAAmB,CAAC;QACxE,OAAO,CAAC,QAAQ,CAAC,YAAY,GAAG,IAAI,kBAAkB,EAAE,CAAC;QACzD,OAAO,CAAC,QAAQ,CAAC,aAAa,CAAC,SAAS;;;;QAAC,GAAG;YAC1C,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;YAClC,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC;YAC/C,UAAU,CAAC,KAAK,EAAE,CAAA;SACnB,EAAC,CAAC;QACH,OAAO,CAAC,QAAQ,CAAC,YAAY,CAAC,SAAS;;;;QAAC,EAAE;YACxC,UAAU,CAAC,KAAK,EAAE,CAAA;SACnB,EAAC,CAAC;QACH,UAAU;;;QAAC;YACT,OAAO,CAAC,QAAQ,CAAC,EAAE,CAAC,aAAa,EAAE,CAAC;SACrC,EAAC,CAAA;KACH;;;;;;;IAID,wBAAwB,CAAC,UAAkB,EAAE,SAAiB;QAC5D,IAAI,CAAC,gBAAgB,CAAC,YAAY,CAAC,UAAU,EAAE,SAAS,CAAC,CAAC,SAAS;;;;QACjE,CAAC,cAA8B;YAC7B,cAAc,CAAC,YAAY,CAAC,SAAS;;;;YACnC,CAAC,MAAoB;gBACnB,IAAI,CAAC,SAAS,CAAC,eAAe,CAAC,MAAM,CAAC,CAAC;aACxC,EAAC,CAAC;SACN,EAAC,CAAC;KACN;;;;;IACD,YAAY,CAAC,CAAM;;YACb,OAAO,GAAG,IAAI,KAAK,EAAa;;;;;QAKpC,IAAI,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE;YACzC,KAAK,MAAM,MAAM,IAAI,IAAI,CAAC,aAAa,CAAC,OAAO,EAAE;gBAC/C,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,QAAQ,EAAE,MAAM,CAAC,CAAC;aACvC;YACD,IAAI,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,WAAW,IAAI,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC,MAAM,GAAG,CAAC,EAAE;;sBAC/F,UAAU,GAAG,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC;gBAC/D,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,UAAU,CAAC,IAAI,EAAE,QAAQ,EACnD,UAAU,CAAC,IAAI,EAAE,YAAY,CAAC,UAAU,CAAC,CAAC;aAC7C;SACF;QACD,OAAO,GAAG,IAAI,CAAC,aAAa,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC;QACjD,IAAI,IAAI,CAAC,QAAQ,KAAK,UAAU,EAAE;YAChC,KAAK,MAAM,QAAQ,IAAI,IAAI,CAAC,aAAa,CAAC,wBAAwB,EAAE;gBAClE,IAAI,CAAC,OAAO,CAAC,IAAI;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,GAAG,KAAK,QAAQ,CAAC,GAAG,EAAC,EAAE;oBAC9C,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;iBACxB;aACF;SACF;QACD,IAAI,IAAI,CAAC,QAAQ,KAAK,UAAU,EAAE;YAChC,KAAK,MAAM,QAAQ,IAAI,IAAI,CAAC,aAAa,CAAC,kBAAkB,EAAE;gBAC5D,IAAI,CAAC,OAAO,CAAC,IAAI;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,GAAG,KAAK,QAAQ,CAAC,GAAG,EAAC,EAAE;oBAC9C,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;iBACxB;aACF;SACF;QACD,IAAI,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE;YACtB,KAAK,MAAM,CAAC,IAAI,OAAO,EAAE;gBACvB,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;aACzB;SACF;QACD,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,YAAY,CAAC,QAAQ,CAAC,CAAC;QAChD,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;QAC9C,IAAI,CAAC,IAAI,CAAC,eAAe,EAAE,CAAC,IAAI;;;;QAAC,CAAC,cAAsB;YACtD,CAAC,CAAC,WAAW,CAAC,QAAQ,CAAC,cAAc,CAAC,CAAC;YACvC,CAAC,CAAC,QAAQ,CAAC,EAAE,CAAC,aAAa,EAAE,CAAC;;YAE9B,IAAG,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE;gBACrB,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,eAAe,GAAG,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,eAAe,CAAC,MAAM;;;;gBAAC,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,GAAG,KAAK,CAAC,CAAC,GAAG,EAAC,EAAC,CAAC;aAC9H;SACF,EAAC,CAAC;KACJ;;;;;IACD,eAAe,CAAC,IAAS;QACvB,IAAI,CAAC,OAAO,CAAC,YAAY,GAAG,IAAI,CAAC,IAAI,CAAC;KACvC;;;;;IAKO,aAAa;QACnB,IAAI,CAAC,OAAO,CAAC,WAAW,EAAE,CAAC;QAC3B,IAAI,IAAI,CAAC,SAAS,EAAE;YAClB,IAAI,CAAC,SAAS,CAAC,WAAW,EAAE,CAAC;SAC9B;KACF;;;;;IAEO,SAAS;;;cAET,KAAK,GAAG,EAAE;QAChB,KAAK,MAAM,GAAG,IAAI,IAAI,CAAC,OAAO,CAAC,UAAU,EAAE;YACzC,IAAI,KAAK,CAAC,IAAI;;;;YAAC,CAAC,IAAI,CAAC,CAAC,UAAU,KAAK,GAAG,CAAC,UAAU,IAAI,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,gBAAgB,CAAC,KAAK,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,gBAAgB,CAAC;gBAChI,CAAC,CAAC,aAAa,KAAK,GAAG,CAAC,aAAa,EAAC,EAAE;gBACxC,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,gBAAgB,CAAC,CAAC;gBAClC,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,qCAAqC,CAAC,GAAG,GAAG,GAAG,CAAC,IAAI,EAAE,GAAG,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,uCAAuC,CAAC,GAAE,GAAG,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,yCAAyC,CAAC,CAAC,CAAC;gBACnQ,OAAO,KAAK,CAAC;aACd;YACD,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;YAChB,IAAI,CAAC,GAAG,CAAC,aAAa,IAAI,IAAI,CAAC,QAAQ,KAAK,cAAc,EAAE;gBAC1D,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,kDAAkD,CAAC,CAAC,CAAC;gBACpG,OAAO,KAAK,CAAC;aACd;YACD,KAAK,MAAM,KAAK,IAAI,GAAG,CAAC,gBAAgB,EAAE;gBACxC,IAAI,KAAK,CAAC,QAAQ,IAAI,CAAC,KAAK,CAAC,KAAK,EAAE;oBAClC,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,uCAAuC,CAAC,GAAG,IAAI,GAAG,CAAC,IAAI,GAAG,GAAG,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,mCAAmC,CAAC,GAAG,IAAI,KAAK,CAAC,IAAI,GAAG,GAAG,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,sCAAsC,CAAC,CAAC,CAAC;oBACpQ,OAAO,KAAK,CAAC;iBACd;aACF;SACF;QACD,OAAO,IAAI,CAAC;KACb;;;YArdF,SAAS,SAAC;gBACT,QAAQ,EAAE,wBAAwB;gBAClC,m8FAAkD;gBAElD,SAAS,EAAE,CAAC,2BAA2B,EAAE,wBAAwB,EAAE,0BAA0B;oBAC1F,YAAY;iBACd;;aACF;;;;YAvBQ,wBAAwB;YACxB,0BAA0B;YAE1B,sBAAsB;YACR,iBAAiB;YAPsD,wBAAwB;YAAE,QAAQ;YAQvH,cAAc;YACE,0BAA0B;YAP1C,2BAA2B;YAY3B,eAAe;YAd2I,iBAAiB,uBA0H/K,QAAQ;yCACR,MAAM,SAAC,SAAS;4CAChB,MAAM,SAAC,iBAAiB;YA5GD,YAAY,uBA6GnC,QAAQ;;;kBAjGV,WAAW,SAAC,OAAO;yBAEnB,MAAM;0BACN,MAAM;2BACN,KAAK;0BACL,SAAS,SAAC,kBAAkB;0BAC5B,SAAS,SAAC,iBAAiB;sBAC3B,SAAS,SAAC,SAAS;wBACnB,SAAS,SAAC,WAAW;oBAQrB,KAAK;;MA+bK,0BAA0B;;;;IACrC,YACU,UAAwB;QAAxB,eAAU,GAAV,UAAU,CAAc;KAC7B;;;;;IAEL,SAAS,CAAC,IAAW;QACnB,IAAI,IAAI,IAAI,IAAI,CAAC,MAAM,GAAG,CAAC,EAAE;YAC3B,OAAO,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,iCAAiC,CAAC,CAAC;SACrE;aAAM;YACL,OAAO,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,oCAAoC,CAAC,CAAC;SACxE;KACF;CACF;;;;;;ACvfD,MAKa,mBAAmB;;;;IAC9B,YACU,UAAwB;QAAxB,eAAU,GAAV,UAAU,CAAc;QAEzB,uBAAkB,GAAG;YACxB,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,4CAA4C,CAAC,EAAE,KAAK,EAAE,GAAG,EAAE;YAC7F,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,yCAAyC,CAAC,EAAE,KAAK,EAAE,GAAG,EAAE;SAC7F,CAAC;KAJD;;;YALJ,UAAU;;;;YAFF,YAAY;;;;;;;ACDrB,MAIa,qBAAqB;;;YAFjC,UAAU;;;;;;;ACFX,MAIa,sBAAsB;;;YAFlC,UAAU;;;;;;;ACDX,MAAa,gBAAgB;CAS5B;MACYC,iBAAe;CAK3B;;;IAEG,IAAK,IAAI;IACT,QAAS,QAAQ;IACjB,KAAM,KAAK;;;;;;;ACnBf,MAMa,iBAAiB;;;;IAC1B,YACY,IAAiB;QAAjB,SAAI,GAAJ,IAAI,CAAa;KAE5B;;;;;;IACD,OAAO,CAAC,GAAW,EAAE,MAAqB;;cAChC,UAAU,GAAG,MAAM,CAAC,UAAU;;cAC9B,KAAK,GAAG,MAAM,CAAC,SAAS,IAAI,CAAC;;cAC7B,IAAI,GAAG,MAAM,CAAC,QAAQ,IAAI,EAAE;;cAC5B,WAAW,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,WAAW,CAAC;;cAC5C,QAAQ,GAAG,UAAU,CAAC,GAAG,KAAK,KAAK,GAAG,IAAI,GAAG,QAAQ;;YACvD,KAAK,GAAG,SAAS;;YACjB,MAAM,GAAG,gBAAgB,QAAQ,GAAG;QACxC,IAAI,WAAW,CAAC,WAAW,EAAE;YACzB,IAAI,WAAW,CAAC,WAAW,KAAK,GAAG,EAAE;gBACjC,MAAM,IAAI,kBAAkB,WAAW,CAAC,WAAW,GAAG,CAAC;aAC1D;iBAAM;gBACH,MAAM,IAAI,KAAK,WAAW,CAAC,WAAW,MAAM,WAAW,CAAC,WAAW,GAAG,CAAC;aAC1E;SACJ;QACD,MAAM,IAAI,GAAG,CAAC;QACd,MAAM,GAAG,kBAAkB,CAAC,MAAM,CAAC,CAAC;QACpC,KAAK,KAAK,MAAM,GAAG,YAAY,KAAK,aAAa,IAAI,EAAE,CAAC,CAAC;QACzD,GAAG,IAAI,KAAK,CAAC;QACb,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,IAAI,CAC1B,GAAG;;;;QAAC,CAAC,EAAO,MAAM;YACd,KAAK,EAAE,EAAE,CAAC,OAAO;YACjB,KAAK,EAAE,EAAE,CAAC,aAAa;YACvB,QAAQ,EAAE;gBACN,SAAS,EAAE,EAAE,CAAC,QAAQ,CAAC,UAAU,GAAG,CAAC;gBACrC,QAAQ,EAAE,EAAE,CAAC,QAAQ,CAAC,QAAQ;gBAC9B,QAAQ,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,CAAC;gBAC/B,WAAW,EAAE,IAAI;aACpB;SACJ,CAAC,EAAC,CACN,CAAC;KACL;;;YArCJ,UAAU;;;;YAJF,WAAW;;;;;;;ACFpB,MAAaC,aAAW;CAavB;;;;;;ACbD,MA2Ba,uBAAuB;;;;;;;;;;;IAqDlC,YACU,KAA6B,EAC7B,IAAiB,EACjB,OAAuB,EACvB,OAAwB,EACZ,GAAsB,EACf,QAAgB,EACR,SAAc,EAC7B,UAAwB;QAPpC,UAAK,GAAL,KAAK,CAAwB;QAC7B,SAAI,GAAJ,IAAI,CAAa;QACjB,YAAO,GAAP,OAAO,CAAgB;QACvB,YAAO,GAAP,OAAO,CAAiB;QACZ,QAAG,GAAH,GAAG,CAAmB;QACf,aAAQ,GAAR,QAAQ,CAAQ;QACR,cAAS,GAAT,SAAS,CAAK;QAC7B,eAAU,GAAV,UAAU,CAAc;QAtD9C,WAAM,GAAG,IAAI,OAAO,EAAoB,CAAC;QACzC,WAAM,GAAG,IAAI,OAAO,EAAE,CAAC;QAIvB,UAAK,GAAG,IAAI,KAAK,EAAe,CAAC;;;;;QAOjC,YAAO,GAAG;YACR,EAAE,KAAK,EAAE,MAAM,EAAE,KAAK,EAAE,GAAG,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,6BAA6B,CAAC,EAAE;YAC9F;gBACE,KAAK,EAAE,MAAM,EAAE,KAAK,EAAE,GAAG,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,6BAA6B,CAAC;aAC3F;YACD;gBACE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,EAAE,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,+BAA+B,CAAC;gBAC1F,SAAS;;;;;;gBAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC;oBACjB,IAAI,CAAC,CAAC,KAAK,EAAE;wBACX,OAAO,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,qCAAqC,CAAC,CAAC;qBACzE;yBAAM,IAAI,CAAC,CAAC,YAAY,EAAE;wBACzB,OAAO,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,mCAAmC,CAAC,CAAC;qBACvE;iBACF,CAAA;aACF;;;;;;;;SAQF,CAAC;;QAGF,SAAI,GAAG;YACL;gBACE,KAAK,EAAE,MAAM,EAAE,KAAK,EAAE,GAAG,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,wCAAwC,CAAC,EAAE,WAAW,EAAE,MAAM;aAC3H,EAAE;gBACD,KAAK,EAAE,MAAM,EAAE,KAAK,EAAE,GAAG,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,sCAAsC,CAAC,EAAE,WAAW,EAAE,MAAM;aACzH;SACF,CAAC;QAEF,YAAO,GAAG,sCAAsC,CAAC;QAW/C,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,IAAI,IAAI,YAAY,CAAC,QAAQ,EAAE,SAAS,CAAC,CAAC;KAC3E;;;;IAEF,QAAQ;QACN,IAAI,CAAC,kBAAkB,EAAE,CAAC;KAC3B;;;;IAED,OAAO;QACL,IAAI,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE;;kBACnB,IAAI,GAAgB,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI;;kBAC9C,KAAK,GAAG,IAAI,gBAAgB,EAAE;YACpC,KAAK,CAAC,EAAE,GAAG,aAAa,CAAC,iBAAiB,EAAE,CAAC;YAC7C,KAAK,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC;YACvB,KAAK,CAAC,WAAW,GAAG,IAAI,CAAC,KAAK,CAAC;YAC/B,KAAK,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC;YAC/B,KAAK,CAAC,YAAY,GAAG,IAAI,CAAC,YAAY,CAAC;YACvC,KAAK,CAAC,YAAY,GAAG,IAAI,CAAC,GAAG,KAAK,KAAK,GAAG,YAAY,CAAC,EAAE,GAAG,YAAY,CAAC,MAAM,CAAC;YAChF,KAAK,CAAC,gBAAgB,GAAG,IAAI,CAAC,gBAAgB,CAAC,GAAG;;;;YAAC,CAAC;;sBAC5C,CAAC,GAAG,IAAID,iBAAe,EAAE;gBAC/B,CAAC,CAAC,IAAI,GAAG,CAAC,CAAC,IAAI,CAAC;gBAChB,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC,SAAS,GAAG,CAAC,CAAC,SAAS,GAAG,IAAI,CAAC,gBAAgB,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;gBACnE,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC,KAAK,CAAC;gBAClB,OAAO,CAAC,CAAC;aACV,EAAC,CAAC;YACH,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;SACzB;aAAM;YACL,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,oCAAoC,CAAC,CAAC,CAAC;SACpF;KACF;;;;IAED,WAAW;QACT,IAAI,CAAC,MAAM,CAAC,IAAI,EAAE,CAAC;KACpB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IA2DO,kBAAkB;QACxB,QAAQ,CAAC,IAAI,CAAC,eAAe,EAAE,EAAE,IAAI,CAAC,cAAc,EAAE,CAAC,CAAC,SAAS;;;;QAAC,EAAE;YAClE,IAAI,EAAE,CAAC,CAAC,CAAC,EAAE;gBACT,IAAI,CAAC,KAAK,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC;aACpB;YACD,IAAI,EAAE,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC,CAAC,MAAM,GAAG,CAAC,EAAE;;sBACvB,WAAW,GAAG,EAAE,CAAC,CAAC,CAAC;gBACzB,KAAK,MAAM,MAAM,IAAI,WAAW,EAAE;oBAChC,IAAI,IAAI,CAAC,KAAK,CAAC,SAAS;;;;oBAAC,CAAC,IAAI,CAAC,CAAC,YAAY,IAAI,CAAC,CAAC,YAAY,KAAK,MAAM,CAAC,EAAE,EAAC,KAAK,CAAC,CAAC,EAAE;;8BAC9E,WAAW,GAAG,IAAIC,aAAW,EAAE;wBACrC,WAAW,CAAC,EAAE,GAAG,aAAa,CAAC,QAAQ,EAAE,CAAC;wBAC1C,WAAW,CAAC,WAAW,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,QAAQ,CAAC,EAAE,CAAC;wBAC9D,WAAW,CAAC,KAAK,GAAG,IAAI,CAAC;wBACzB,WAAW,CAAC,IAAI,GAAG,MAAM,CAAC,IAAI,CAAC;wBAC/B,WAAW,CAAC,IAAI,GAAG,MAAM,CAAC,IAAI,CAAC;wBAC/B,WAAW,CAAC,gBAAgB,GAAG,EAAE,CAAC;wBAClC,WAAW,CAAC,SAAS,GAAG,KAAK,CAAC;wBAC9B,WAAW,CAAC,QAAQ,GAAG,GAAG,CAAC;wBAC3B,WAAW,CAAC,QAAQ,GAAG,KAAK,CAAC;wBAC7B,WAAW,CAAC,YAAY,GAAG,MAAM,CAAC,EAAE,CAAC;wBACrC,WAAW,CAAC,OAAO,GAAG,CAAC,CAAC;wBACxB,WAAW,CAAC,OAAO,GAAG,EAAE,CAAC;wBACzB,IAAI,MAAM,CAAC,aAAa,IAAI,MAAM,CAAC,aAAa,CAAC,MAAM,GAAG,CAAC,EAAE;;kCACrD,QAAQ,GAAG,MAAM,CAAC,aAAa,CAAC,GAAG;;;;4BAAC,CAAC,KAAK;gCAC9C,IAAI,EAAE,CAAC,CAAC,IAAI;gCACZ,IAAI,EAAE,CAAC,CAAC,IAAI;gCACZ,SAAS,EAAE,CAAC,CAAC,SAAS,GAAG,CAAC,CAAC,SAAS,GAAG,IAAI,CAAC,gBAAgB,CAAC,CAAC,CAAC,KAAK,CAAC;gCACrE,KAAK,EAAE,CAAC,CAAC,KAAK;6BACf,CAAC,EAAC;4BACH,WAAW,CAAC,gBAAgB,GAAG,QAAQ,CAAC;yBACzC;wBACD,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;qBAC9B;iBACF;aACF;SACF,EAAC,CAAC;KACJ;;;;;IAED,gBAAgB,CAAC,KAAK;QACpB,IAAI,KAAK,EAAE;YACP,IAAI,KAAK,CAAC,MAAM,IAAI,CAAC,IAAI,KAAK,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,KAAK,UAAU,EAAE;gBACvD,OAAO,YAAY,CAAC;aACvB;iBAAM;gBACH,OAAO,UAAU,CAAC;aACrB;SACJ;aAAM;YACH,OAAO,UAAU,CAAC;SACrB;KACF;;;;;IAEO,eAAe;QACrB,IAAI,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,QAAQ,CAAC,EAAE,IAAI,IAAI,CAAC,GAAG,EAAE;;kBAC7C,GAAG,GAAG,+CAA+C,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,QAAQ,CAAC,EAAE,EAAE;YAChG,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,IAAI,CAC5B,GAAG;;;;YAAC,CAAC,EAAO;gBACV,IAAI,IAAI,CAAC,GAAG,KAAK,KAAK,EAAE;oBACtB,OAAO,EAAE,CAAC,MAAM;;;;oBAAC,CAAC,IAAI,CAAC,CAAC,QAAQ,CAAC,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,EAAC,CAAC;iBACvD;qBAAM,IAAI,IAAI,CAAC,GAAG,KAAK,QAAQ,EAAE;oBAChC,OAAO,EAAE,CAAC,MAAM;;;;oBAAC,CAAC,IAAI,CAAC,CAAC,QAAQ,CAAC,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,EAAC,CAAC;iBACvD;aACF,EAAC,CACH,CAAC;SACH;aAAM;YACL,OAAO,IAAI,CAAC,IAAI,KAAK,EAAE,CAAC,CAAC;SAC1B;KACF;;;;;IAEO,cAAc;QACpB,IAAI,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,QAAQ,CAAC,gBAAgB,IAAI,IAAI,CAAC,GAAG,EAAE;;kBAC3D,QAAQ,GAAG,IAAI,CAAC,GAAG,KAAK,KAAK,GAAG,IAAI,GAAG,QAAQ;;gBACjD,GAAG,GAAG,8CAA8C;;gBACpD,KAAK,GAAG,mBAAmB,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,QAAQ,CAAC,gBAAgB,iBAAiB,QAAQ,IAAI;YAC7G,KAAK,GAAG,kBAAkB,CAAC,KAAK,CAAC,CAAC;YAClC,GAAG,IAAI,KAAK,CAAC;YACb,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;SAC3B;aAAM;YACL,OAAO,IAAI,CAAC,IAAI,KAAK,EAAE,CAAC,CAAC;SAC1B;KACF;;;YAjPF,SAAS,SAAC;gBACT,QAAQ,EAAE,sBAAsB;gBAChC,0jDAAgD;gBAEhD,SAAS,EAAE,CAAC;wBACV,OAAO,EAAE,eAAe,EAAE,QAAQ,EAAE,iBAAiB;qBAAE;oBACtD,YAAY;iBACd;;aACF;;;;YAxBQ,sBAAsB;YACtB,WAAW;YAAE,cAAc;YAQ3B,eAAe;YAX0E,iBAAiB,uBAqF9G,QAAQ;yCACR,MAAM,SAAC,SAAS;4CAChB,MAAM,SAAC,iBAAiB;YAxED,YAAY,uBAyEnC,QAAQ;;;0BA3DV,SAAS,SAAC,kBAAkB;mBAG5B,SAAS,SAAC,MAAM;;;;;;;AChCnB,MAAa,UAAU;CAYtB;;;;;;ACZD,MAGa,gBAAgB;IACzB;QACI,IAAI,CAAC,EAAE,GAAG,aAAa,CAAC,QAAQ,EAAE,CAAC;QACnC,IAAI,CAAC,iBAAiB,GAAG,IAAI,KAAK,EAAE,CAAC;KACxC;CASJ;MAEY,gBAAgB;CAG5B;MAEY,eAAe;CAG3B;;;;;;AC1BD;AAEA,MAAa,eAAe,GAAU;IAClC,EAAE,IAAI,EAAE,IAAI,EAAE,KAAK,EAAE,SAAS,EAAE;IAChC,EAAE,IAAI,EAAE,IAAI,EAAE,KAAK,EAAE,UAAU,EAAE;IACjC,EAAE,IAAI,EAAE,IAAI,EAAE,KAAK,EAAE,OAAO,EAAE;CACjC;;AACD,MAAa,aAAa,GAAG;IACzB,EAAE,IAAI,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE;IAC7B,EAAE,IAAI,EAAE,KAAK,EAAE,KAAK,EAAE,MAAM,EAAE;CACjC;AAED,MAAa,gBAAgB;IACzB;QACI,IAAI,CAAC,EAAE,GAAG,aAAa,CAAC,QAAQ,EAAE,CAAC;QACnC,IAAI,CAAC,cAAc,GAAG,eAAe,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC;QAC/C,IAAI,CAAC,aAAa,GAAG,aAAa,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC;QAC5C,IAAI,CAAC,SAAS,GAAG,CAAC,CAAC;KACtB;CAQJ;;;;;;AC1BD,MAaa,qBAAqB;;;;;;;IAchC,YACsB,GAAsB,EACf,QAAgB,EACR,SAAc,EAC7B,UAAwB;QAHxB,QAAG,GAAH,GAAG,CAAmB;QACf,aAAQ,GAAR,QAAQ,CAAQ;QACR,cAAS,GAAT,SAAS,CAAK;QAC7B,eAAU,GAAV,UAAU,CAAc;QAdpC,WAAM,GAAG,IAAI,YAAY,EAAO,CAAC;QACjC,WAAM,GAAG,IAAI,YAAY,EAAO,CAAC;QAE3C,SAAI,GAAG,EAAE,CAAC;QAEV,YAAO,GAAG;YACR,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,EAAE,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,4BAA4B,CAAC,EAAC;YAC1F,EAAE,KAAK,EAAE,MAAM,EAAE,KAAK,EAAE,EAAE,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,6BAA6B,CAAC,EAAC;SAC7F,CAAC;QAQA,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,IAAI,IAAI,YAAY,CAAC,QAAQ,EAAE,SAAS,CAAC,CAAC;KAC3E;;;;IAEF,QAAQ;KACP;;;;IAED,OAAO;;cACC,WAAW,GAAG,IAAI,CAAC,IAAI,CAAC,WAAW;QACzC,OAAO,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC;QACzB,IAAI,CAAC,WAAW,EAAE;YAChB,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;SACxB;aAAM;YACL,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;SACpC;KACF;;;;IAED,WAAW;QACT,IAAI,CAAC,MAAM,CAAC,IAAI,EAAE,CAAC;KACpB;;;YA9CF,SAAS,SAAC;gBACT,QAAQ,EAAE,mBAAmB;gBAC7B,s7BAA6C;gBAE7C,SAAS,EAAE;oBACR,YAAY;iBACd;;aACF;;;;YAZQ,iBAAiB,uBA4BrB,QAAQ;yCACR,MAAM,SAAC,SAAS;4CAChB,MAAM,SAAC,iBAAiB;YA5BD,YAAY,uBA6BnC,QAAQ;;;mBAhBV,SAAS,SAAC,iBAAiB;wBAC3B,SAAS,SAAC,WAAW;qBACrB,MAAM;qBACN,MAAM;;;;;;;AClBT,MAmBa,yBAAyB;;;;;;;;;;;;IAiGpC,YACU,IAAuB,EACvB,aAAqC,EACrC,QAAkC,EAClC,YAA4B,EAC7B,QAAkB,EACL,GAAsB,EACf,QAAgB,EACR,SAAc,EAC7B,UAAwB;QARpC,SAAI,GAAJ,IAAI,CAAmB;QACvB,kBAAa,GAAb,aAAa,CAAwB;QACrC,aAAQ,GAAR,QAAQ,CAA0B;QAClC,iBAAY,GAAZ,YAAY,CAAgB;QAC7B,aAAQ,GAAR,QAAQ,CAAU;QACL,QAAG,GAAH,GAAG,CAAmB;QACf,aAAQ,GAAR,QAAQ,CAAQ;QACR,cAAS,GAAT,SAAS,CAAK;QAC7B,eAAU,GAAV,UAAU,CAAc;QArG9C,YAAO,GAAoB,MAAM,CAAC;QAE1B,UAAK,GAAqB,MAAM,CAAC;QAkEzC,WAAM,GAAG,IAAI,OAAO,EAAO,CAAC;QAC5B,WAAM,GAAG,IAAI,OAAO,EAAE,CAAC;QACvB,uBAAkB,GAAG;YACnB,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,4CAA4C,CAAC,EAAE,KAAK,EAAE,GAAG,EAAE;YAC7F,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,yCAAyC,CAAC,EAAE,KAAK,EAAE,GAAG,EAAE;SAC3F,CAAC;QAEK,wBAAmB,GAAG;YAC3B,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,iCAAiC,CAAC,EAAE,KAAK,EAAE,UAAU,EAAE;YACzF,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,iCAAiC,CAAC,EAAE,KAAK,EAAE,UAAU,EAAE;YACzF,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,mCAAmC,CAAC,EAAE,KAAK,EAAE,YAAY,EAAE;SAC9F,CAAC;QAGF,SAAI,GAAG,IAAI,KAAK,EAAE,CAAC;QAEnB,eAAU,GAAG,IAAI,KAAK,EAAE,CAAC;QAEzB,aAAQ,GAAG,IAAI,CAAC,kBAAkB,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC;QAE5C,iBAAY,GAAG,KAAK,CAAC;QAErB,kBAAa,GAAG,IAAI,KAAK,EAAE,CAAC;QA8E5B,eAAU;;;;QAAG,CAAC,KAAU;YACtB,IAAI,IAAI,CAAC,IAAI,KAAK,OAAO,EAAE;gBACzB,OAAOF,IAAE,CAAC,IAAI,CAAC,CAAC;aACjB;iBAAM;gBACL,IAAI,KAAK,CAAC,MAAM,CAAC,KAAK,KAAK,OAAO,EAAE;;0BAC5B,OAAO,sBAAG,KAAK,CAAC,OAAO,EAAO;oBACpC,QAAQ,OAAO,CAAC,GAAG;wBACjB,KAAK,YAAY;4BACf,KAAK,CAAC,MAAM,CAAC,MAAM,GAAI;gCACrB,IAAI,EAAE,aAAa;gCACnB,OAAO,EAAE;oCACP,SAAS,EAAE,sCAAsC;oCACjD,QAAQ,EAAE,KAAK;oCACf,WAAW;;;;oCAAE,CAAC,CAAC;wCACb,CAAC,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC,CAAC,QAAQ,CAAC,KAAK,GAAG,CAAC,CAAC,QAAQ,CAAC,KAAK,GAAG,EAAE,CAAC,CAAC;wCACjE,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC;qCACtB,CAAA;oCACD,KAAK;;;;oCAAE,CAAC,CAAC;wCACP,OAAO,CAAC,GAAG,CAAC,OAAO,EAAE,CAAC,CAAC,CAAC;qCACzB,CAAA;iCACF;6BACF,CAAC;4BACF,MAAM;wBACR,KAAK,UAAU;4BACb,KAAK,CAAC,MAAM,CAAC,MAAM,GAAI;gCACrB,IAAI,EAAE,aAAa;gCACnB,OAAO,EAAE;oCACP,SAAS,EAAE,sCAAsC;oCACjD,QAAQ,EAAE,IAAI;oCACd,WAAW;;;;oCAAE,CAAC,CAAC;wCACb,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC;qCACxB,CAAA;oCACD,KAAK;;;;oCAAE,CAAC,CAAC;wCACP,OAAO,CAAC,GAAG,CAAC,OAAO,EAAE,CAAC,CAAC,CAAC;qCACzB,CAAA;iCACF;6BACF,CAAC;4BACF,MAAM;wBACR,KAAK,UAAU;4BACb,KAAK,CAAC,MAAM,CAAC,MAAM,GAAG,EAAE,IAAI,EAAE,WAAW,CAAC,OAAO,EAAE,OAAO,EAAE,EAAE,EAAE,CAAC;4BACjE,MAAM;qBACT;iBACF;gBACD,OAAOA,IAAE,CAAC,IAAI,CAAC,CAAC;aACjB;SACF,EAAA;QA9GC,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,IAAI,IAAI,YAAY,CAAC,QAAQ,EAAE,SAAS,CAAC,CAAC;KAC3E;;;;;IArGF,IAAI,IAAI,CAAC,CAAmB;QAC1B,IAAI,CAAC,KAAK,GAAG,CAAC,CAAC;QACf,IAAI,CAAC,KAAK,MAAM,EAAE;YAChB,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC;YACtB,IAAI,CAAC,IAAI,GAAG;gBACV,EAAE,KAAK,EAAE,MAAM,EAAE,KAAK,EAAE,EAAE,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,6BAA6B,CAAC,EAAE;gBAC7F,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,EAAE,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,4BAA4B,CAAC,EAAG,SAAS,EAAE;wBACrG,IAAI,EAAE,MAAM;wBACZ,OAAO,EAAE,EAAE,UAAU,EAAE,OAAO,EAAE,SAAS,EAAE,MAAM,EAAE,IAAI,EAAE,IAAI,CAAC,mBAAmB,EAAE;qBACpF;oBACD,MAAM,EAAE;wBACN,IAAI,EAAE,WAAW,CAAC,SAAS;wBAC3B,OAAO,EAAE;4BACP,UAAU,EAAE,OAAO,EAAE,SAAS,EAAE,MAAM,EAAE,IAAI,EAAE,IAAI,CAAC,mBAAmB,EAAE,OAAO,EAAE,OAAO,EAAE,WAAW,EAAE,MAAM,EAAE,WAAW,EAAE,KAAK;4BACjI,YAAY;;;;4BAAE,CAAC,CAAC;gCACd,IAAI,CAAC,eAAe,CAAC,CAAC,CAAC,CAAC;6BACzB,CAAA;yBAAC;qBACL,EAAE;gBACH;oBACE,KAAK,EAAE,OAAO,EAAE,KAAK,EAAE,GAAG,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,8BAA8B,CAAC;oBAC5F,MAAM,EAAE;wBACN,IAAI,EAAE,aAAa;wBACnB,OAAO,EAAE;4BACP,SAAS,EAAE,sCAAsC;4BACjD,QAAQ,EAAE,KAAK;4BACf,WAAW;;;;4BAAE,CAAC,CAAC;gCACb,CAAC,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC,CAAC,QAAQ,CAAC,KAAK,GAAG,CAAC,CAAC,QAAQ,CAAC,KAAK,GAAG,EAAE,CAAC,CAAC;gCACjE,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC;6BACtB,CAAA;4BACD,KAAK;;;;4BAAE,CAAC,CAAC;gCACP,OAAO,CAAC,GAAG,CAAC,OAAO,EAAE,CAAC,CAAC,CAAC;6BACzB,CAAA;yBACF;qBACF;iBACF;aACF,CAAC;SACH;aAAM;YACL,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC;YACtB,IAAI,CAAC,IAAI,GAAG;gBACV,EAAE,KAAK,EAAE,MAAM,EAAE,KAAK,EAAE,EAAE,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,6BAA6B,CAAC,EAAE;gBAC7F,EAAE,KAAK,EAAE,MAAM,EAAE,KAAK,EAAE,EAAE,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,6BAA6B,CAAC,EAAE;gBAC7F;oBACE,KAAK,EAAE,OAAO,EAAE,KAAK,EAAE,GAAG,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,8BAA8B,CAAC;oBAC5F,MAAM,EAAE;wBACN,IAAI,EAAE,aAAa;wBACnB,OAAO,EAAE;4BACP,SAAS,EAAE,sCAAsC;4BACjD,QAAQ,EAAE,KAAK;4BACf,WAAW;;;;4BAAE,CAAC,CAAC;gCACb,CAAC,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC,CAAC,QAAQ,CAAC,KAAK,GAAG,CAAC,CAAC,QAAQ,CAAC,KAAK,GAAG,EAAE,CAAC,CAAC;gCACjE,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC;6BACtB,CAAA;4BACD,KAAK;;;;4BAAE,CAAC,CAAC;gCACP,OAAO,CAAC,GAAG,CAAC,OAAO,EAAE,CAAC,CAAC,CAAC;6BACzB,CAAA;yBACF;qBACF;iBACF;aACF,CAAC;SACH;KACF;;;;IAED,IAAI,IAAI;QACN,OAAO,IAAI,CAAC,KAAK,CAAC;KACnB;;;;IAuCD,QAAQ;KACP;;;;;IAED,YAAY,CAAC,CAAM;;YACb,OAAO,GAAG,IAAI,KAAK,EAAa;;;;;QAKpC,IAAI,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE;YACzC,KAAK,MAAM,MAAM,IAAI,IAAI,CAAC,aAAa,CAAC,OAAO,EAAE;gBAC/C,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,QAAQ,EAAE,MAAM,CAAC,CAAC;aACvC;YACD,IAAI,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,WAAW,IAAI,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC,MAAM,GAAG,CAAC,EAAE;;sBAC/F,UAAU,GAAG,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC;gBAC/D,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,UAAU,CAAC,IAAI,EAAE,QAAQ,EACnD,UAAU,CAAC,IAAI,EAAE,YAAY,CAAC,UAAU,CAAC,CAAC;aAC7C;SACF;QACD,OAAO,GAAG,IAAI,CAAC,aAAa,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC;QACjD,IAAI,IAAI,CAAC,aAAa,CAAC,kBAAkB,CAAC,MAAM,GAAG,CAAC,EAAE;YACpD,KAAK,MAAM,QAAQ,IAAI,IAAI,CAAC,aAAa,CAAC,kBAAkB,EAAE;gBAC5D,IAAI,CAAC,OAAO,CAAC,IAAI;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,GAAG,KAAK,QAAQ,CAAC,GAAG,EAAC,EAAE;oBAC9C,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;iBACxB;;aAEF;SACF;QACD,IAAI,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE;YACtB,KAAK,MAAM,CAAC,IAAI,OAAO,EAAE;gBACvB,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;aACzB;SACF;QAED,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;QAE9C,IAAI,CAAC,IAAI,CAAC,eAAe,EAAE,CAAC,IAAI;;;;QAAC,CAAC,CAAS;YACzC,IAAI,CAAC,EAAE;gBACL,CAAC,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;gBAC1B,CAAC,CAAC,QAAQ,CAAC,EAAE,CAAC,aAAa,EAAE,CAAC;aAC/B;;YAED,IAAG,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE;gBACrB,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,eAAe,GAAG,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,eAAe,CAAC,MAAM;;;;gBAAC,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,GAAG,KAAK,CAAC,CAAC,GAAG,EAAC,EAAC,CAAC;aAC9H;SACF,EAAC,CAAC;KACJ;;;;IAED,OAAO;QACL,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC;QACxB,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,EAAE,UAAU,EAAE,IAAI,CAAC,UAAU,EAAE,QAAQ,EAAE,IAAI,CAAC,QAAQ,EAAE,CAAC,CAAC;KAC5E;;;;IAED,WAAW;QACT,IAAI,CAAC,MAAM,CAAC,IAAI,EAAE,CAAC;KACpB;;;;;IAED,eAAe,CAAC,CAAM;;cACd,KAAK,GAAG,IAAI,CAAC,UAAU,CAAC,IAAI;;;;QAAC,CAAC,IAAI,CAAC,CAAC,IAAI,KAAK,CAAC,CAAC,OAAO,CAAC,IAAI,EAAC;QAClE,KAAK,CAAC,KAAK,GAAG,EAAE,CAAC;KAClB;;;;;IAiDD,cAAc,CAAC,CAAM;;cACb,WAAW,GAAG,IAAI,CAAC,QAAQ,CAAC,uBAAuB,CAAC,qBAAqB,CAAC;;cAC1E,OAAO,GAAG,WAAW,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC;QACjD,OAAO,CAAC,QAAQ,CAAC,IAAI,GAAG,IAAI,CAAC,aAAa,CAAC;;;cACrC,WAAW,GAAG;YAClB,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,iCAAiC,CAAC;YACnE,KAAK,EAAE,GAAG;YACV,MAAM,EAAE,GAAG;YACX,WAAW,EAAE,IAAI;YACjB,OAAO,EAAE,OAAO,CAAC,QAAQ,CAAC,SAAS;SACpC;;cACK,MAAM,GAAG,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,OAAO,EAAE,WAAW,CAAC;QAC3D,OAAO,CAAC,QAAQ,CAAC,MAAM,CAAC,SAAS;;;;QAAC,IAAI;YACpC,IAAI,IAAI,EAAE;gBACR,CAAC,CAAC,WAAW,CAAC,QAAQ,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;gBACjC,CAAC,CAAC,QAAQ,CAAC,EAAE,CAAC,aAAa,EAAE,CAAC;aAC/B;YACD,MAAM,CAAC,KAAK,EAAE,CAAC;SAChB,EAAC,CAAC;QACH,OAAO,CAAC,QAAQ,CAAC,MAAM,CAAC,SAAS;;;;QAAE,IAAI,IAAI,MAAM,CAAC,KAAK,EAAE,EAAC,CAAC;KAC5D;;;YAxPF,SAAS,SAAC;gBACT,QAAQ,EAAE,uBAAuB;gBACjC,mmDAAiD;gBAEjD,SAAS,EAAE;oBACR,YAAY;iBACd;;aACF;;;;YAjBQ,iBAAiB;YACjB,sBAAsB;YAFqB,wBAAwB;YAMnE,cAAc;YANuD,QAAQ;YAAE,iBAAiB,uBA0HpG,QAAQ;yCACR,MAAM,SAAC,SAAS;4CAChB,MAAM,SAAC,iBAAiB;YApHD,YAAY,uBAqHnC,QAAQ;;;0BAxGV,SAAS,SAAC,kBAAkB;mBAC5B,SAAS,SAAC,MAAM;;;;;;;ACtBnB,MAqBa,4BAA4B;;;;;;;;;;;;IAiCvC,YACU,IAAiB,EACjB,OAAwB,EACxB,QAAkC,EAClC,QAAkB,EAClB,YAA4B,EAChB,GAAsB,EACf,QAAgB,EACR,SAAc,EAC7B,UAAwB;QARpC,SAAI,GAAJ,IAAI,CAAa;QACjB,YAAO,GAAP,OAAO,CAAiB;QACxB,aAAQ,GAAR,QAAQ,CAA0B;QAClC,aAAQ,GAAR,QAAQ,CAAU;QAClB,iBAAY,GAAZ,YAAY,CAAgB;QAChB,QAAG,GAAH,GAAG,CAAmB;QACf,aAAQ,GAAR,QAAQ,CAAQ;QACR,cAAS,GAAT,SAAS,CAAK;QAC7B,eAAU,GAAV,UAAU,CAAc;QA5BrC,eAAU,GAAG,IAAI,KAAK,EAAoB,CAAC;QAOpD,SAAI,GAAG,IAAI,KAAK,EAAE,CAAC;QAEnB,eAAU,GAAG;YACX,EAAE,KAAK,EAAE,QAAQ,EAAE,KAAK,EAAE,GAAG,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,+BAA+B,CAAC,EAAE,QAAQ,EAAE,IAAI,EAAE;YAClH,EAAE,KAAK,EAAE,YAAY,EAAE,KAAK,EAAE,EAAE,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,mCAAmC,CAAC,EAAE,QAAQ,EAAE,IAAI,EAAE;YACzH,EAAE,KAAK,EAAE,aAAa,EAAE,KAAK,EAAE,GAAG,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,oCAAoC,CAAC,EAAE,QAAQ,EAAE,IAAI,EAAE;SAC7H,CAAC;QAGF,gBAAW,GAAG,IAAI,KAAK,EAAc,CAAC;QACtC,UAAK,GAAmB,KAAK,CAAC;KAYzB;;;;;IAzCL,IACI,YAAY,CAAC,CAAS;QACxB,IAAI,CAAC,aAAa,GAAG,CAAC,CAAC;QACvB,IAAI,IAAI,CAAC,aAAa,EAAE;YACtB,IAAI,CAAC,cAAc,EAAE,CAAC;SACvB;KACF;;;;IACD,IAAI,YAAY;QACd,OAAO,IAAI,CAAC,aAAa,CAAC;KAC3B;;;;IAkCD,QAAQ;QACN,IAAI,CAAC,IAAI,GAAG;YACZ;gBACE,KAAK,EAAE,gBAAgB,EAAE,KAAK,EAAE,EAAE,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,uCAAuC,CAAC;gBAC7G,SAAS,EAAE;oBACT,IAAI,EAAE,MAAM;oBACZ,OAAO,EAAE,EAAE,UAAU,EAAE,OAAO,EAAE,SAAS,EAAE,MAAM,EAAE,IAAI,EAAE,eAAe,EAAE;iBAC3E;gBACD,MAAM,EAAE;oBACN,IAAI,EAAE,WAAW,CAAC,SAAS;oBAC3B,OAAO,EAAE,EAAE,UAAU,EAAE,OAAO,EAAE,SAAS,EAAE,MAAM,EAAE,IAAI,EAAE,eAAe,EAAE,OAAO,EAAE,OAAO,EAAE,WAAW,EAAE,MAAM,EAAE,WAAW,EAAE,KAAK,EAAE;iBACtI;gBACD,UAAU,EAAE;oBACV,EAAE,IAAI,EAAE,UAAU,EAAE,QAAQ,EAAE,IAAI,EAAE;iBACrC;aACF,EAAE;gBACD,KAAK,EAAE,QAAQ,EAAE,KAAK,EAAE,GAAG,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,uCAAuC,CAAC;gBACtG,MAAM,EAAE;oBACN,IAAI,EAAE,aAAa;oBACnB,OAAO,EAAE;wBACP,SAAS,EAAE,sCAAsC;wBACjD,QAAQ,EAAE,KAAK;wBACf,WAAW;;;;wBAAE,CAAC,CAAC;4BACb,CAAC,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC,CAAC,QAAQ,CAAC,KAAK,GAAG,CAAC,CAAC,QAAQ,CAAC,KAAK,GAAG,EAAE,CAAC,CAAC;4BACjE,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC;4BACX,IAAI,CAAC,aAAa,CAAC,IAAI,EAAE,CAAC;4BAC1B,IAAI,CAAC,KAAK,GAAG,MAAM,CAAC;yBACrB,CAAA;wBACD,KAAK;;;;wBAAE,CAAC,CAAC;4BACP,OAAO,CAAC,GAAG,CAAC,OAAO,EAAE,CAAC,CAAC,CAAC;yBACzB,CAAA;qBACF;iBACF;gBACD,SAAS;;;;;;gBAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC;oBACjB,IAAI,CAAC,EAAE;;8BACC,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC,IAAI;;;;wBAAC,IAAI,IAAI,IAAI,CAAC,MAAM,KAAK,CAAC,EAAC;wBAC1D,IAAI,CAAC,EAAE;4BACL,OAAO,CAAC,CAAC,UAAU,CAAC;yBACrB;6BAAM;4BACL,OAAO,EAAE,CAAC;yBACX;qBACF;yBAAM;wBACL,OAAO,EAAE,CAAC;qBACX;iBACF,CAAA;gBACD,UAAU,EAAE;oBACV,EAAE,IAAI,EAAE,UAAU,EAAE,QAAQ,EAAE,IAAI,EAAE;iBACrC;aACF;YACD;gBACE,KAAK,EAAE,eAAe,EAAE,KAAK,EAAE,EAAE,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,sCAAsC,CAAC;gBAC3G,SAAS,EAAE;oBACT,IAAI,EAAE,MAAM;oBACZ,OAAO,EAAE,EAAE,UAAU,EAAE,OAAO,EAAE,SAAS,EAAE,MAAM,EAAE,IAAI,EAAE,aAAa,EAAE;iBACzE;gBACD,MAAM,EAAE;oBACN,IAAI,EAAE,WAAW,CAAC,SAAS;oBAC3B,OAAO,EAAE,EAAE,UAAU,EAAE,OAAO,EAAE,SAAS,EAAE,MAAM,EAAE,IAAI,EAAE,aAAa,EAAE,OAAO,EAAE,OAAO,EAAE,WAAW,EAAE,MAAM,EAAE,WAAW,EAAE,KAAK,EAAE;iBACpI;gBACD,UAAU,EAAE;oBACV,EAAE,IAAI,EAAE,UAAU,EAAE,QAAQ,EAAE,IAAI,EAAE;iBACrC;aACF;YACD;gBACE,KAAK,EAAE,WAAW,EAAE,KAAK,EAAE,EAAE,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,kCAAkC,CAAC;gBACnG,MAAM,EAAE;oBACN,IAAI,EAAE,WAAW,CAAC,SAAS,EAAE,OAAO,EAAE,EACrC;iBACF;gBACD,SAAS,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,OAAO,EAAE,EAAE,SAAS,EAAE,CAAC,EAAE,EAAE;gBACxD,UAAU,EAAE;oBACV,EAAE,IAAI,EAAE,UAAU,EAAE,QAAQ,EAAE,IAAI,EAAE;iBACrC;aACF;YACD;gBACE,KAAK,EAAE,kBAAkB,EAAE,KAAK,EAAE,EAAE,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,yCAAyC,CAAC;gBACjH,QAAQ,EAAE,IAAI,CAAC,IAAI;gBACnB,MAAM,EAAE,QAAQ,EAAE,KAAK,EAAE,QAAQ;aAClC;SACF,CAAC;KACD;;;;IAED,GAAG;QACD,IAAI,CAAC,aAAa,CAAC,IAAI,EAAE,CAAC;QAC1B,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;KACpB;;;;IAED,MAAM;QACJ,IAAI,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE;YACzB,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC,MAAM;;;;YAAC,CAAC,IAAI,CAAC,CAAC,EAAE,KAAK,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,EAAE,EAAC,CAAC;SAClF;aAAM;YACL,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,+CAA+C,CAAC,CAAC,CAAC;SAC/F;KACF;;;;;IAED,SAAS,CAAC,GAAQ;;cACV,WAAW,GAAG,IAAI,CAAC,QAAQ,CAAC,uBAAuB,CAAC,yBAAyB,CAAC;;cAC9E,OAAO,GAAG,WAAW,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC;QACjD,OAAO,CAAC,QAAQ,CAAC,IAAI,GAAG,OAAO,CAAC;QAChC,OAAO,CAAC,QAAQ,CAAC,YAAY,GAAG,KAAK,CAAC;QACtC,IAAI,GAAG,CAAC,OAAO,CAAC,gBAAgB,EAAE;YAChC,OAAO,CAAC,QAAQ,CAAC,UAAU,GAAG,CAAC,GAAG,GAAG,CAAC,OAAO,CAAC,gBAAgB,CAAC,GAAG;;;;gBAAC,CAAC,IAAI,MAAM,CAAC,MAAM,CAAC,EAAE,EAAE,CAAC,CAAC,EAAC,CAAC,CAAC;SAChG;aAAM;YACL,OAAO,CAAC,QAAQ,CAAC,UAAU,GAAG,IAAI,KAAK,EAAE,CAAC;SAC3C;;cAEK,WAAW,GAAG;YAClB,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,0CAA0C,CAAC;YAC5E,KAAK,EAAE,GAAG;YACV,MAAM,EAAE,GAAG;YACX,WAAW,EAAE,IAAI;YACjB,OAAO,EAAE,OAAO,CAAC,QAAQ,CAAC,WAAW;SACtC;;cACK,MAAM,GAAG,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,OAAO,EAAE,WAAW,CAAC;QAE3D,OAAO,CAAC,QAAQ,CAAC,MAAM,CAAC,SAAS;;;;QAAC,EAAE;YAClC,KAAK,MAAM,CAAC,IAAI,IAAI,CAAC,UAAU,EAAE;gBAC/B,IAAI,CAAC,CAAC,EAAE,KAAK,GAAG,CAAC,OAAO,CAAC,EAAE,EAAE;oBAC3B,CAAC,CAAC,gBAAgB,GAAG,EAAE,CAAC,UAAU,CAAC;iBACpC;aACF;YACD,MAAM,CAAC,KAAK,EAAE,CAAC;SAChB,EAAC,CAAC;QACH,OAAO,CAAC,QAAQ,CAAC,MAAM,CAAC,SAAS;;;;QAAC,EAAE;YAClC,MAAM,CAAC,KAAK,EAAE,CAAC;SAChB,EAAC,CAAC;KACJ;;;;IAED,cAAc;QACZ,IAAI,IAAI,CAAC,UAAU,CAAC,WAAW,EAAE;;kBACzB,IAAI,GAAG,IAAI,CAAC,UAAU,CAAC,WAAW,CAAC,IAAI;YAC7C,IAAI,IAAI,CAAC,KAAK,KAAK,MAAM,EAAE;gBACzB,IAAI,IAAI,CAAC,CAAC,EAAE;oBACV,IAAI,CAAC,CAAC,CAAC,WAAW,CAAC,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;oBACzC,IAAI,CAAC,CAAC,CAAC,QAAQ,CAAC,EAAE,CAAC,aAAa,EAAE,CAAC;oBACnC,KAAK,MAAM,CAAC,IAAI,IAAI,CAAC,UAAU,EAAE;wBAC/B,IAAI,CAAC,CAAC,EAAE,KAAK,IAAI,CAAC,EAAE,EAAE;4BACpB,CAAC,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC;4BACvB,CAAC,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC;4BAC7B,CAAC,CAAC,gBAAgB,GAAG,IAAI,CAAC,gBAAgB,CAAC;yBAC5C;qBACF;iBACF;aACF;iBAAM;;sBACC,SAAS,GAAG,IAAI,gBAAgB,EAAE;gBACxC,SAAS,CAAC,kBAAkB,GAAG,IAAI,CAAC,kBAAkB,CAAC;gBACvD,SAAS,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC;gBAC/B,SAAS,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC;gBACrC,SAAS,CAAC,gBAAgB,GAAG,IAAI,CAAC,gBAAgB,CAAC;gBACnD,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC;aACvD;YACD,IAAI,CAAC,aAAa,CAAC,KAAK,EAAE,CAAC;SAC5B;aAAM;YACL,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,yCAAyC,CAAC,CAAC,CAAC;SACzF;KACF;;;;IAED,SAAS;QACP,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC;QACxB,KAAK,MAAM,CAAC,IAAI,IAAI,CAAC,UAAU,EAAE;YAC/B,IAAI,CAAC,CAAC,CAAC,MAAM,EAAE;gBACb,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,yCAAyC,CAAC,CAAC,CAAC;gBACxF,OAAO,KAAK,CAAC;aACd;SACF;QACD,OAAO,IAAI,CAAC;KACb;;;;;IAEO,cAAc;QACpB,IAAI,IAAI,CAAC,YAAY,EAAE;;kBACf,GAAG,GAAG,mDAAmD,IAAI,CAAC,YAAY,EAAE;YAClF,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,SAAS;;;;YAAC,CAAC,EAAO;gBACnC,IAAI,EAAE,EAAE;oBACN,IAAI,CAAC,WAAW,GAAG,EAAE,CAAC;iBACvB;aACF,EAAC,CAAC;SACJ;KACF;;;YAtOF,SAAS,SAAC;gBACT,QAAQ,EAAE,2BAA2B;gBACrC,u3DAAqD;gBAErD,SAAS,EAAE;oBACR,YAAY;iBACd;;aACF;;;;YAjBQ,WAAW;YAIX,eAAe;YAPmC,wBAAwB;YAAE,QAAQ;YAQpF,cAAc;YARwE,iBAAiB,uBA4D3G,QAAQ;yCACR,MAAM,SAAC,SAAS;4CAChB,MAAM,SAAC,iBAAiB;YApDD,YAAY,uBAqDnC,QAAQ;;;2BAxCV,KAAK;iCAWL,KAAK;yBACL,KAAK;4BAEL,SAAS,SAAC,eAAe;mBACzB,SAAS,SAAC,MAAM;yBAChB,SAAS,SAAC,YAAY;mBACtB,SAAS,SAAC,MAAM;;;;;;;ACxCnB,MA4Ba,yBAAyB;;;;;;;;;;;IA0DpC,YACU,IAAiB,EACjB,OAAwB,EACxB,MAAqB,EACrB,QAAkB,EACN,GAAsB,EACf,QAAgB,EACR,SAAc,EAC7B,UAAwB;QAPpC,SAAI,GAAJ,IAAI,CAAa;QACjB,YAAO,GAAP,OAAO,CAAiB;QACxB,WAAM,GAAN,MAAM,CAAe;QACrB,aAAQ,GAAR,QAAQ,CAAU;QACN,QAAG,GAAH,GAAG,CAAmB;QACf,aAAQ,GAAR,QAAQ,CAAQ;QACR,cAAS,GAAT,SAAS,CAAK;QAC7B,eAAU,GAAV,UAAU,CAAc;QAjD9C,WAAM,GAAqB,IAAI,gBAAgB,EAAE,CAAC;QAClD,eAAU,GAAe,IAAI,UAAU,EAAE,CAAC;QAG1C,UAAK,GAAmB,MAAM,CAAC;QAEtB,kBAAa,GAAG,IAAI,CAAC;QAuB9B,eAAU,GAAG,EAAE,CAAC;QAChB,kBAAa,GAAG,IAAI,KAAK,EAAE,CAAC;QAE5B,cAAS,GAAG,EAAE,CAAC;QACf,iBAAY,GAAG,IAAI,KAAK,EAAE,CAAC;QAE3B,oBAAe,GAAqB,IAAI,KAAK,EAAE,CAAC;QAEhD,kBAAa,GAAG,KAAK,CAAC;QAcpB,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,IAAI,IAAI,YAAY,CAAC,QAAQ,EAAE,SAAS,CAAC,CAAC;;YACvE,WAAW,GAAG;YAChB,KAAK,EAAG,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,kCAAkC,CAAC;YACrE,KAAK,EAAG,WAAW;SACpB;QACD,IAAG,IAAI,CAAC,YAAY,EAAE;YACpB,IAAG,CAAC,IAAI,CAAC,YAAY,CAAC,IAAI;;;;YAAC,CAAC,IAAI,CAAC,CAAC,KAAK,KAAK,WAAW,CAAC,KAAK,EAAC,EAAE;gBAC9D,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,WAAW,CAAC,CAAC;aAC3D;SACF;aAAK;YACJ,IAAI,CAAC,YAAY,GAAG,EAAE,CAAC;YACvB,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,WAAW,CAAC,CAAC;SAC3D;KAED;;;;;IAxDF,IAAI,YAAY,CAAC,CAAS;QACxB,IAAI,CAAC,aAAa,GAAG,CAAC,CAAC;QACvB,IAAI,CAAC,MAAM,CAAC,YAAY,GAAG,CAAC,CAAC;KAC9B;;;;IAED,IAAI,YAAY;QACd,OAAO,IAAI,CAAC,aAAa,CAAC;KAC3B;;;;;IAGD,IAAI,cAAc,CAAC,CAAS;QAC1B,IAAI,CAAC,eAAe,GAAG,CAAC,CAAC;QACzB,IAAI,CAAC,CAAC,EAAE;YACN,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;SACpB;KACF;;;;IACD,IAAI,cAAc;QAChB,OAAO,IAAI,CAAC,eAAe,CAAC;KAC7B;;;;IAwCD,QAAQ;QACN,IAAI,CAAC,UAAU,GAAG;YAChB,EAAE,KAAK,EAAE,YAAY,EAAE,KAAK,EAAE,GAAG,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,mCAAmC,CAAC,EAAE,MAAM,EAAE,IAAI,EAAE;;YAExH;gBACE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,+BAA+B,CAAC;gBACjE,KAAK,EAAE,QAAQ;gBACf,KAAK,EAAE,EAAE;gBACT,QAAQ,EAAE,IAAI,CAAC,SAAS;gBACxB,KAAK,EAAE,QAAQ;gBACf,MAAM,EAAE,QAAQ;aACjB;YACD;gBACE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,iCAAiC,CAAC;gBACnE,KAAK,EAAE,UAAU;gBACjB,KAAK,EAAE,EAAE;gBACT,QAAQ,EAAE,IAAI,CAAC,WAAW;gBAC1B,KAAK,EAAE,QAAQ;gBACf,MAAM,EAAE,QAAQ;aACjB;YACD;gBACE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,+BAA+B,CAAC;gBACjE,KAAK,EAAE,QAAQ;gBACf,KAAK,EAAE,EAAE;gBACT,QAAQ,EAAE,IAAI,CAAC,SAAS;gBACxB,KAAK,EAAE,QAAQ;gBACf,MAAM,EAAE,QAAQ;aACjB;SAAC,CAAC;QACL,IAAI,CAAC,SAAS,GAAG;YACf,EAAE,KAAK,EAAE,WAAW,EAAE,KAAK,EAAE,GAAG,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,kCAAkC,CAAC,EAAC;;YAEvG;gBACE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,iCAAiC,CAAC;gBACnE,KAAK,EAAE,UAAU;gBACjB,KAAK,EAAE,EAAE;gBACT,QAAQ,EAAE,IAAI,CAAC,aAAa;gBAC5B,KAAK,EAAE,QAAQ;gBACf,MAAM,EAAE,QAAQ;aACjB;YACD;gBACE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,iCAAiC,CAAC;gBACnE,KAAK,EAAE,UAAU;gBACjB,KAAK,EAAE,EAAE;gBACT,QAAQ,EAAE,IAAI,CAAC,aAAa;gBAC5B,KAAK,EAAE,QAAQ;gBACf,MAAM,EAAE,QAAQ;aACjB;YACD;gBACE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,+BAA+B,CAAC;gBACjE,KAAK,EAAE,QAAQ;gBACf,KAAK,EAAE,EAAE;gBACT,QAAQ,EAAE,IAAI,CAAC,WAAW;gBAC1B,KAAK,EAAE,QAAQ;gBACf,MAAM,EAAE,QAAQ;aACjB;YACD;gBACE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,iCAAiC,CAAC;gBACnE,KAAK,EAAE,UAAU;gBACjB,KAAK,EAAE,EAAE;gBACT,QAAQ,EAAE,IAAI,CAAC,aAAa;gBAC5B,KAAK,EAAE,QAAQ;gBACf,MAAM,EAAE,QAAQ;aACjB;SAAC,CAAC;QACL,IAAI,CAAC,SAAS,EAAE,CAAC;KAClB;;;;IAED,MAAM;;cACE,OAAO,GAAG,IAAI,OAAO,EAAO;QAClC,IAAI,CAAC,SAAS,EAAE,CAAC,SAAS;;;;QAAC,EAAE;YAC3B,IAAI,EAAE,EAAE;gBACN,IAAI,CAAC,qBAAqB,EAAE,CAAC;gBAC7B,IAAI,IAAI,CAAC,kBAAkB,EAAE;oBAC3B,IAAI,CAAC,kBAAkB,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC,SAAS;;;;oBAAC,QAAQ;wBAC1D,IAAI,QAAQ,EAAE;4BACZ,IAAI,CAAC,MAAM,CAAC,EAAE,GAAG,QAAQ,CAAC;4BAC1B,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,SAAS;;;;4BAAC,EAAE;gCACvC,OAAO,CAAC,IAAI,CAAC,EAAE,MAAM,EAAE,IAAI,EAAE,QAAQ,EAAE,IAAI,CAAC,MAAM,CAAC,EAAE,EAAE,CAAC,CAAC;6BAC1D;;;;4BAAE,GAAG;gCACJ,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,iCAAiC,CAAC,CAAC,CAAC;gCACjF,OAAO,CAAC,IAAI,CAAC,EAAE,MAAM,EAAE,KAAK,EAAE,QAAQ,EAAE,IAAI,CAAC,MAAM,CAAC,EAAE,EAAE,CAAC,CAAC;6BAC3D,EAAC,CAAC;yBACJ;6BAAM;4BACL,IAAI,IAAI,CAAC,KAAK,KAAK,KAAK;gCACtB,IAAI,CAAC,MAAM,CAAC,iBAAiB,CAAC,MAAM,KAAK,CAAC;gCAC1C,IAAI,CAAC,MAAM,CAAC,gBAAgB,CAAC,MAAM,KAAK,CAAC;gCACzC,IAAI,CAAC,eAAe,CAAC,UAAU,CAAC,MAAM,KAAK,CAAC,EAC5C;gCACA,UAAU;;;gCAAC;oCACT,OAAO,CAAC,IAAI,CAAC,EAAE,MAAM,EAAE,IAAI,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC,CAAC;iCAChD,GAAE,EAAE,CAAC,CAAC;6BACR;iCAAM;gCACL,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,SAAS;;;;gCAAC,EAAE;oCACvC,OAAO,CAAC,IAAI,CAAC,EAAE,MAAM,EAAE,IAAI,EAAE,QAAQ,EAAE,IAAI,CAAC,MAAM,CAAC,EAAE,EAAE,CAAC,CAAC;iCAC1D;;;;gCAAE,GAAG;oCACJ,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,iCAAiC,CAAC,CAAC,CAAC;oCACjF,OAAO,CAAC,IAAI,CAAC,EAAE,MAAM,EAAE,KAAK,EAAE,QAAQ,EAAE,IAAI,CAAC,MAAM,CAAC,EAAE,EAAE,CAAC,CAAC;iCAC3D,EAAC,CAAC;6BACJ;yBACF;qBACF,EAAC,CAAA;iBACH;qBAAM;oBACL,IAAI,IAAI,CAAC,KAAK,KAAK,KAAK;wBACxB,IAAI,CAAC,MAAM,CAAC,iBAAiB,CAAC,MAAM,KAAK,CAAC;wBAC1C,IAAI,CAAC,MAAM,CAAC,gBAAgB,CAAC,MAAM,KAAK,CAAC;wBACzC,IAAI,CAAC,eAAe,CAAC,UAAU,CAAC,MAAM,KAAK,CAAC,EAC1C;wBACA,UAAU;;;wBAAC;4BACT,OAAO,CAAC,IAAI,CAAC,EAAE,MAAM,EAAE,IAAI,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC,CAAC;yBAChD,GAAE,EAAE,CAAC,CAAC;qBACR;yBAAM;wBACL,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,SAAS;;;;wBAAC,EAAE;4BACvC,OAAO,CAAC,IAAI,CAAC,EAAE,MAAM,EAAE,IAAI,EAAE,QAAQ,EAAE,IAAI,CAAC,MAAM,CAAC,EAAE,EAAE,CAAC,CAAC;yBAC1D;;;;wBAAE,GAAG;4BACJ,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,iCAAiC,CAAC,CAAC,CAAC;4BACjF,OAAO,CAAC,IAAI,CAAC,EAAE,MAAM,EAAE,KAAK,EAAE,QAAQ,EAAE,IAAI,CAAC,MAAM,CAAC,EAAE,EAAE,CAAC,CAAC;yBAC3D,EAAC,CAAC;qBACJ;iBACF;aACF;iBAAM;gBACL,UAAU;;;gBAAC;oBACT,OAAO,CAAC,IAAI,CAAC,EAAE,MAAM,EAAE,KAAK,EAAC,CAAC,CAAA;iBAC/B,GAAE,EAAE,CAAC,CAAC;aACR;SACF,EAAC,CAAA;QACF,OAAO,OAAO,CAAC,YAAY,EAAE,CAAC;KAC/B;;;;;IAID,WAAW,CAAC,IAAI;QACd,IAAI,CAAC,KAAK,GAAG,WAAW,CAAC;;YACrB,UAAU,GAAG;YACf,KAAK,EAAG,WAAW;YACnB,KAAK,EAAG,IAAI,CAAC,KAAK;SACnB;QACD,IAAI,CAAC,SAAS,CAAC,UAAU,GAAG,UAAU,CAAC;;;YAEnC,WAAW,GAAG;YAChB,KAAK,EAAG,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,kCAAkC,CAAC;YACrE,KAAK,EAAG,WAAW;SACpB;QACD,IAAG,IAAI,CAAC,SAAS,CAAC,YAAY,EAAE;YAC9B,IAAG,CAAC,IAAI,CAAC,SAAS,CAAC,YAAY,CAAC,IAAI;;;;YAAC,CAAC,IAAI,CAAC,CAAC,KAAK,KAAK,WAAW,CAAC,KAAK,EAAC,EAAE;gBACxE,IAAI,CAAC,SAAS,CAAC,YAAY,GAAG,IAAI,CAAC,SAAS,CAAC,YAAY,CAAC,MAAM,CAAC,WAAW,CAAC,CAAC;aAC/E;SACF;aAAK;YACJ,IAAI,CAAC,SAAS,CAAC,YAAY,GAAG,EAAE,CAAC;YACjC,IAAI,CAAC,SAAS,CAAC,YAAY,GAAG,IAAI,CAAC,SAAS,CAAC,YAAY,CAAC,MAAM,CAAC,WAAW,CAAC,CAAC;SAC/E;QACD,IAAI,CAAC,SAAS,CAAC,YAAY,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,KAAK,EAAE,QAAQ,CAAC,CAAC;KACtE;;;;;;;IAED,eAAe,CAAC,IAAa,EAAE,KAAa,EAAE,EAAU;QACtD,IAAI,IAAI,EAAE;YACR,KAAK,MAAM,CAAC,IAAI,IAAI,CAAC,aAAa,EAAE;gBAClC,IAAI,CAAC,CAAC,EAAE,KAAK,EAAE,EAAE;oBACf,QAAQ,KAAK;wBACX,KAAK,QAAQ;4BACX,CAAC,CAAC,MAAM,GAAG,IAAI,CAAC;4BAChB,CAAC,CAAC,QAAQ,GAAG,KAAK,CAAC;4BACnB,CAAC,CAAC,MAAM,GAAG,KAAK,CAAC;4BACjB,MAAM;wBACR,KAAK,UAAU;4BACb,CAAC,CAAC,QAAQ,GAAG,IAAI,CAAC;4BAClB,CAAC,CAAC,MAAM,GAAG,KAAK,CAAC;4BACjB,CAAC,CAAC,MAAM,GAAG,KAAK,CAAC;4BACjB,MAAM;wBACR,KAAK,QAAQ;4BACX,CAAC,CAAC,MAAM,GAAG,IAAI,CAAC;4BAChB,CAAC,CAAC,QAAQ,GAAG,KAAK,CAAC;4BACnB,CAAC,CAAC,MAAM,GAAG,KAAK,CAAC;4BACjB,MAAM;qBACT;oBACD,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC;iBAC/B;aACF;SACF;QACD,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,aAAa,EAAE,CAAC;KACjC;;;;;IAED,eAAe,CAAC,SAAiB;;cACzB,QAAQ,GAAG,IAAI,CAAC,OAAO,CAAC,WAAW;QACzC,IAAI,QAAQ,IAAI,QAAQ,CAAC,MAAM,GAAG,CAAC,EAAE;YACnC,KAAK,MAAM,CAAC,IAAI,QAAQ,EAAE;gBACxB,IAAI,CAAC,eAAe,CAAC,IAAI,EAAE,SAAS,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;aAC7C;YACD,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,aAAa,EAAE,CAAC;SACjC;aAAM;YACL,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,oCAAoC,CAAC,CAAC,CAAA;SACnF;KACF;;;;IAED,aAAa;;cACL,QAAQ,GAAG,IAAI,CAAC,OAAO,CAAC,WAAW;QACzC,IAAI,QAAQ,IAAI,QAAQ,CAAC,MAAM,GAAG,CAAC,EAAE;YACnC,KAAK,MAAM,CAAC,IAAI,QAAQ,EAAE;;sBAClB,MAAM,GAAG,IAAI,CAAC,UAAU,CAAC,WAAW,CAAC,IAAI;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC,EAAE,EAAC;gBACnE,KAAK,MAAM,CAAC,IAAI,IAAI,CAAC,aAAa,EAAE;oBAClC,IAAI,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC,EAAE,EAAE;wBACjB,CAAC,CAAC,MAAM,GAAG,MAAM,CAAC,WAAW,KAAK,QAAQ,GAAG,IAAI,GAAG,KAAK,CAAC;wBAC1D,CAAC,CAAC,QAAQ,GAAG,MAAM,CAAC,WAAW,KAAK,UAAU,GAAG,IAAI,GAAG,KAAK,CAAC;wBAC9D,CAAC,CAAC,MAAM,GAAG,MAAM,CAAC,WAAW,KAAK,QAAQ,GAAG,IAAI,GAAG,KAAK,CAAC;qBAC3D;oBACD,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC;iBACjC;aACF;YACD,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,aAAa,EAAE,CAAC;SACjC;aAAM;YACL,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,oCAAoC,CAAC,CAAC,CAAA;SACnF;KACF;;;;;;;;IAED,iBAAiB,CAAC,IAAa,EAAE,KAAa,EAAE,EAAU,EAAE,MAAM,GAAC,IAAI;QACrE,IAAI,IAAI,EAAE;YACR,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,YAAY,EAAE,KAAK,EAAE,EAAE,CAAC,CAAC;SACtD;QACD,IAAI,MAAM,EAAE;YACV,IAAI,CAAC,SAAS,CAAC,YAAY,CAAC,UAAU,CAAC,EAAE,CAAC;SAC3C;KACF;;;;;;;;IACO,iBAAiB,CAAC,YAAwB,EAAE,KAAa,EAAE,EAAU;QAC3E,IAAI,YAAY,CAAC,MAAM,GAAG,CAAC,EAAE;YAC3B,KAAK,MAAM,CAAC,IAAI,YAAY,EAAE;gBAC5B,IAAI,CAAC,CAAC,IAAI,CAAC,EAAE,KAAK,EAAE,EAAE;oBACpB,QAAQ,KAAK;wBACX,KAAK,UAAU;4BACb,CAAC,CAAC,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;4BACvB,CAAC,CAAC,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;4BACxB,CAAC,CAAC,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;4BACtB,CAAC,CAAC,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;4BACxB,MAAM;wBACR,KAAK,UAAU;4BACb,CAAC,CAAC,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;4BACxB,CAAC,CAAC,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;4BACvB,CAAC,CAAC,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;4BACtB,CAAC,CAAC,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;4BACxB,MAAM;wBACR,KAAK,QAAQ;4BACX,CAAC,CAAC,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;4BACxB,CAAC,CAAC,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;4BACxB,CAAC,CAAC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;4BACrB,CAAC,CAAC,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;4BACxB,MAAM;wBACR,KAAK,UAAU;4BACb,CAAC,CAAC,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;4BACxB,CAAC,CAAC,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;4BACxB,CAAC,CAAC,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;4BACtB,CAAC,CAAC,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;4BACvB,MAAM;qBACT;oBACD,OAAO;iBACR;qBAAM;oBACL,IAAI,CAAC,CAAC,QAAQ,IAAI,CAAC,CAAC,QAAQ,CAAC,MAAM,GAAG,CAAC,EAAE;wBACvC,IAAI,CAAC,iBAAiB,CAAC,CAAC,CAAC,QAAQ,EAAE,KAAK,EAAE,EAAE,CAAC,CAAC;qBAC/C;iBACF;aACF;SACF;KACF;;;;;IAED,iBAAiB,CAAC,SAAiB;;cAC3B,QAAQ,GAAG,IAAI,CAAC,SAAS,CAAC,QAAQ;QACxC,IAAI,QAAQ,IAAI,QAAQ,CAAC,MAAM,GAAG,CAAC,EAAE;YACnC,KAAK,MAAM,CAAC,IAAI,QAAQ,EAAE;gBACxB,IAAI,CAAC,iBAAiB,CAAC,IAAI,EAAE,SAAS,EAAE,CAAC,CAAC,IAAI,CAAC,EAAE,EAAE,KAAK,CAAC,CAAC;aAC3D;YACD,IAAI,CAAC,SAAS,CAAC,YAAY,CAAC,UAAU,CAAC,EAAE,CAAC;SAC3C;aAAM;YACL,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,iCAAiC,CAAC,CAAC,CAAA;SAChF;KACF;;;;IAED,eAAe;;cACP,QAAQ,GAAG,IAAI,CAAC,SAAS,CAAC,QAAQ;QACxC,IAAI,QAAQ,IAAI,QAAQ,CAAC,MAAM,GAAG,CAAC,EAAE;YACnC,KAAK,MAAM,CAAC,IAAI,QAAQ,EAAE;;sBAClB,KAAK,GAAG,IAAI,CAAC,eAAe,CAAC,IAAI;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC,IAAI,CAAC,EAAE,EAAC;gBAChE,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,YAAY,EAAE,CAAC,CAAC,IAAI,CAAC,EAAE,EAAE,KAAK,CAAC,CAAC;aAC5D;YACD,IAAI,CAAC,SAAS,CAAC,YAAY,CAAC,UAAU,CAAC,EAAE,CAAC;SAC3C;aAAM;YACL,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,iCAAiC,CAAC,CAAC,CAAA;SAChF;KACF;;;;;;;IACD,gBAAgB,CAAC,YAAwB,EAAE,EAAU,EAAE,KAAgB;QACrE,IAAI,YAAY,CAAC,MAAM,GAAG,CAAC,EAAE;YAC3B,KAAK,MAAM,CAAC,IAAI,YAAY,EAAE;gBAC5B,IAAI,CAAC,CAAC,IAAI,KAAK,IAAI,IAAI,CAAC,CAAC,IAAI,CAAC,EAAE,KAAK,EAAE,EAAE;oBACvC,CAAC,CAAC,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC,UAAU,KAAK,UAAU,GAAG,IAAI,GAAG,KAAK,CAAC;oBACjE,CAAC,CAAC,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC,UAAU,KAAK,UAAU,GAAG,IAAI,GAAG,KAAK,CAAC;oBACjE,CAAC,CAAC,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC,UAAU,KAAK,QAAQ,GAAG,IAAI,GAAG,KAAK,CAAC;oBAC7D,CAAC,CAAC,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC,UAAU,KAAK,UAAU,GAAG,IAAI,GAAG,KAAK,CAAC;oBACjE,OAAO;iBACR;qBAAM;oBACL,IAAI,CAAC,CAAC,QAAQ,IAAI,CAAC,CAAC,QAAQ,CAAC,MAAM,GAAG,CAAC,EAAE;wBACvC,IAAI,CAAC,gBAAgB,CAAC,CAAC,CAAC,QAAQ,EAAE,EAAE,EAAE,KAAK,CAAC,CAAC;qBAC9C;iBACF;aACF;SACF;KACF;;;;;IAEO,SAAS;QACf,IAAI,IAAI,CAAC,kBAAkB,EAAE;;kBACrB,OAAO,GAAG,IAAI,CAAC,kBAAkB,CAAC,QAAQ,CAAC,SAAS,EAAE;YAC5D,IAAI,OAAO,YAAY,UAAU,EAAE;gBACjC,OAAO,OAAO,CAAC,IAAI,CACjB,SAAS;;;;gBAAC,CAAC,CAAU;oBACnB,IAAI,CAAC,IAAI,IAAI,CAAC,cAAc,EAAE,EAAE;wBAC9B,OAAOA,IAAE,CAAC,IAAI,CAAC,CAAC;qBACjB;yBAAM;wBACL,OAAOA,IAAE,CAAC,KAAK,CAAC,CAAC;qBAClB;iBACF,EAAC,CAAC,CAAC;aACP;iBAAM;gBACL,IAAI,OAAO,EAAE;oBACX,OAAOA,IAAE,CAAC,IAAI,CAAC,cAAc,EAAE,CAAC,CAAC;iBAClC;qBAAM;oBACL,OAAOA,IAAE,CAAC,KAAK,CAAC,CAAC;iBAClB;aACF;SACF;aAAM;YACL,OAAOA,IAAE,CAAC,IAAI,CAAC,cAAc,EAAE,CAAC,CAAC;SAClC;KACF;;;;;IAEO,cAAc;QACpB,OAAO,IAAI,CAAC,eAAe,CAAC,SAAS,EAAE,CAAC;KACzC;;;;;IAGO,qBAAqB;QAC3B,IAAI,CAAC,MAAM,CAAC,iBAAiB,GAAG,IAAI,KAAK,EAAoB,CAAC;QAC9D,KAAK,MAAM,GAAG,IAAI,IAAI,CAAC,aAAa,EAAE;;kBAC9B,MAAM,GAAG,IAAI,CAAC,UAAU,CAAC,WAAW,CAAC,IAAI;;;;YAAC,CAAC,IAAI,CAAC,CAAC,QAAQ,KAAK,GAAG,CAAC,QAAQ,EAAC;;kBAC3E,SAAS,GAAG,IAAI,gBAAgB,EAAE;YACxC,SAAS,CAAC,QAAQ,GAAG,GAAG,CAAC,QAAQ,CAAC;YAClC,IAAI,GAAG,CAAC,MAAM,EAAE;gBACd,SAAS,CAAC,WAAW,GAAG,QAAQ,CAAC;aAClC;iBAAM,IAAI,GAAG,CAAC,QAAQ,EAAE;gBACvB,SAAS,CAAC,WAAW,GAAG,UAAU,CAAC;aACpC;iBAAM,IAAI,GAAG,CAAC,MAAM,EAAE;gBACrB,SAAS,CAAC,WAAW,GAAG,QAAQ,CAAC;aAClC;iBAAM;gBACL,SAAS;aACV;YACD,IAAI,CAAC,MAAM,CAAC,WAAW,IAAI,SAAS,CAAC,WAAW,EAAE;gBAChD,IAAI,CAAC,MAAM,CAAC,iBAAiB,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;aAC/C;YACD,IAAI,MAAM,CAAC,WAAW,IAAI,MAAM,CAAC,WAAW,KAAK,SAAS,CAAC,WAAW,EAAE;gBACtE,IAAI,CAAC,MAAM,CAAC,iBAAiB,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;aAC/C;SACF;QACD,IAAI,CAAC,MAAM,CAAC,gBAAgB,GAAG,IAAI,KAAK,EAAmB,CAAC;QAC5D,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;QAExC,IAAI,CAAC,MAAM,CAAC,iBAAiB,GAAG,IAAI,CAAC,eAAe,CAAC,UAAU,IAAI,IAAI,KAAK,EAAE,CAAC;KAChF;;;;;;IAEO,eAAe,CAAC,YAAwB;QAC9C,IAAI,YAAY,IAAI,YAAY,CAAC,MAAM,GAAG,CAAC,EAAE;YAC3C,KAAK,MAAM,CAAC,IAAI,YAAY,EAAE;gBAC5B,IAAI,CAAC,CAAC,QAAQ,IAAI,CAAC,CAAC,QAAQ,CAAC,MAAM,GAAG,CAAC,EAAE;oBACvC,IAAI,CAAC,eAAe,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC;iBAClC;gBACD,IAAI,CAAC,CAAC,IAAI,KAAK,KAAK,EAAE;oBACpB,SAAS;iBACV;;sBACK,KAAK,GAAG,IAAI,CAAC,eAAe,CAAC,IAAI;;;;gBAAC,EAAE,IAAI,EAAE,CAAC,OAAO,KAAK,CAAC,CAAC,IAAI,CAAC,OAAO,EAAC;;sBACtE,WAAW,GAAG,IAAI,eAAe,EAAE;gBACzC,WAAW,CAAC,OAAO,GAAG,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC;gBACrC,IAAI,CAAC,CAAC,IAAI,CAAC,QAAQ,EAAE;oBACnB,WAAW,CAAC,UAAU,GAAG,UAAU,CAAC;iBACrC;qBAAM,IAAI,CAAC,CAAC,IAAI,CAAC,QAAQ,EAAE;oBAC1B,WAAW,CAAC,UAAU,GAAG,UAAU,CAAC;iBACrC;qBAAM,IAAI,CAAC,CAAC,IAAI,CAAC,MAAM,EAAE;oBACxB,WAAW,CAAC,UAAU,GAAG,QAAQ,CAAC;iBACnC;qBAAM,IAAI,CAAC,CAAC,IAAI,CAAC,QAAQ,EAAE;oBAC1B,WAAW,CAAC,UAAU,GAAG,UAAU,CAAC;iBACrC;qBAAM;oBACL,SAAS;iBACV;gBAED,IAAI,CAAC,KAAK,CAAC,UAAU,IAAI,WAAW,CAAC,UAAU,EAAE;oBAC/C,IAAI,CAAC,MAAM,CAAC,gBAAgB,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;iBAChD;gBAED,IAAI,KAAK,CAAC,UAAU,IAAI,KAAK,CAAC,UAAU,KAAK,WAAW,CAAC,UAAU,EAAE;oBACnE,IAAI,CAAC,MAAM,CAAC,gBAAgB,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;iBAChD;aACF;SACF;KACF;;;;;IAEO,SAAS;QACf,IAAI,IAAI,CAAC,YAAY,EAAE;YACrB,QAAQ,CAAC,IAAI,CAAC,iBAAiB,EAAE,EAAE,IAAI,CAAC,aAAa,EAAE,EAAE,IAAI,CAAC,mBAAmB,EAAE,CAAC,CAAC,SAAS;;;;YAAC,CAAC,EAAS;;sBACjG,cAAc,sBAAG,EAAE,CAAC,CAAC,CAAC,EAAkB;gBAC9C,IAAI,cAAc,EAAE;oBAClB,IAAI,CAAC,cAAc,GAAG,cAAc,CAAC;oBACrC,IAAI,IAAI,CAAC,cAAc,CAAC,UAAU,EAAE;wBAClC,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC;wBAC1B,IAAI,CAAC,qBAAqB,CAAC,IAAI,CAAC,cAAc,CAAC,UAAU,CAAC,CAAC;qBAC5D;yBAAM;wBACL,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC;qBAC5B;iBACF;;sBACK,UAAU,sBAAG,EAAE,CAAC,CAAC,CAAC,EAAc;gBACtC,IAAI,UAAU,EAAE;oBACd,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,iBAAiB,CAAC,UAAU,CAAC,CAAC;iBACtD;;sBACK,MAAM,sBAAG,EAAE,CAAC,CAAC,CAAC,EAAoB;gBACxC,IAAI,MAAM,EAAE;oBACV,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;iBACtB;gBACD,IAAI,IAAI,CAAC,UAAU,CAAC,WAAW,EAAE;oBAC/B,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,UAAU,CAAC,WAAW,CAAC,GAAG;;;;oBAAC,CAAC,IAAI,MAAM,CAAC,MAAM,CAAC,EAAE,EAAE,CAAC,EAAE;wBAC7E,MAAM,EAAE,CAAC,CAAC,WAAW,KAAK,QAAQ,GAAG,IAAI,GAAG,KAAK;wBACjD,QAAQ,EAAE,CAAC,CAAC,WAAW,KAAK,UAAU,GAAG,IAAI,GAAG,KAAK;wBACrD,MAAM,EAAE,CAAC,CAAC,WAAW,KAAK,QAAQ,GAAG,IAAI,GAAG,KAAK;qBAClD,CAAC,EAAC,CAAC;;wBACA,UAAU,GAAG,IAAI,KAAK,EAAoB;oBAC9C,IAAI,MAAM,IAAI,MAAM,CAAC,iBAAiB,EAAE;wBACtC,UAAU,GAAG,MAAM,CAAC,iBAAiB,CAAC;qBACvC;oBACD,KAAK,MAAM,CAAC,IAAI,UAAU,EAAE;wBAC1B,KAAK,MAAM,GAAG,IAAI,IAAI,CAAC,aAAa,EAAE;4BACpC,IAAI,GAAG,CAAC,QAAQ,KAAK,CAAC,CAAC,QAAQ,EAAE;gCAC/B,QAAQ,CAAC,CAAC,WAAW;oCACnB,KAAK,QAAQ;wCACX,GAAG,CAAC,MAAM,GAAG,IAAI,CAAC;wCAClB,GAAG,CAAC,QAAQ,GAAG,KAAK,CAAC;wCACrB,GAAG,CAAC,MAAM,GAAG,KAAK,CAAC;wCACnB,MAAM;oCACR,KAAK,UAAU;wCACb,GAAG,CAAC,MAAM,GAAG,KAAK,CAAC;wCACnB,GAAG,CAAC,QAAQ,GAAG,IAAI,CAAC;wCACpB,GAAG,CAAC,MAAM,GAAG,KAAK,CAAC;wCACnB,MAAM;oCACR,KAAK,QAAQ;wCACX,GAAG,CAAC,MAAM,GAAG,KAAK,CAAC;wCACnB,GAAG,CAAC,QAAQ,GAAG,KAAK,CAAC;wCACrB,GAAG,CAAC,MAAM,GAAG,IAAI,CAAC;wCAClB,MAAM;iCACT;gCACD,MAAM;6BACP;yBACF;qBACF;iBACF;gBACD,IAAI,IAAI,CAAC,UAAU,CAAC,UAAU,EAAE;oBAC9B,IAAI,CAAC,YAAY,GAAG,CAAC,GAAG,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC,CAAC;oBACpD,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;;wBACpC,OAAO,GAAG,IAAI,KAAK,EAAmB;oBAC1C,IAAI,MAAM,IAAI,MAAM,CAAC,gBAAgB,EAAE;wBACrC,OAAO,GAAG,MAAM,CAAC,gBAAgB,CAAC;qBACnC;oBACD,KAAK,MAAM,CAAC,IAAI,OAAO,EAAE;wBACvB,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,YAAY,EAAE,CAAC,CAAC,CAAC;qBAC3C;iBACF;aACF,EAAC,CAAC;SACJ;KACF;;;;;IAED,qBAAqB,CAAC,UAAkB;;cAChC,GAAG,GAAG,UAAU,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;;cAC9B,WAAW,GAAG,UAAU,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;QAC5C,MAAM,CAAC,MAAM,CAAC,GAAG,CAAC;aACf,IAAI;;;;QAAC,CAAC,cAAmB;;kBAClB,aAAa,GAAQ,MAAM,CAAC,MAAM,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC;;kBACrD,SAAS,GAAG,aAAa,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC;YACrD,IAAI,WAAW,EAAE;;oBACX,MAAM,GAAkB,SAAS,CAAC,wBAAwB,CAAC,YAAY,CAAC;gBAC5E,MAAM,CAAC,OAAO;;;;;;gBAAC,CAAC,KAAU,EAAE,GAAa,EAAEG,MAAkB;;0BACnD,QAAQ,GAAG,KAAK,CAAC,QAAQ;oBAC/B,IAAI,WAAW,IAAI,QAAQ,EAAE;;8BACrB,UAAU,GAAG,SAAS,CAAC,wBAAwB,CAAC,uBAAuB,oBAAC,GAAG,GAAQ;wBACzF,IAAI,CAAC,kBAAkB,GAAG,UAAU,CAAC,MAAM,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC;wBAChE,IAAI,CAAC,kBAAkB,CAAC,QAAQ,CAAC,YAAY,GAAG,IAAI,CAAC,YAAY,CAAC;wBAClE,IAAI,CAAC,kBAAkB,CAAC,QAAQ,CAAC,cAAc,GAAG,IAAI,CAAC,cAAc,CAAC;wBACtE,IAAI,CAAC,SAAS,CAAC,KAAK,EAAE,CAAC;wBACvB,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,IAAI,CAAC,kBAAkB,CAAC,QAAQ,CAAC,CAAC;qBACzD;iBACJ,EAAC,CAAC;aACJ;iBAAM;;sBACC,kBAAkB,GAAG,SAAS,CAAC,sBAAsB,CAAC,CAAC,CAAC,CAAC;gBAC/D,IAAI,kBAAkB;iBACtB;;0BACQ,UAAU,GAAG,SAAS,CAAC,wBAAwB,CAAC,uBAAuB,CAAC,kBAAkB,CAAC;oBACjG,IAAI,CAAC,kBAAkB,GAAG,UAAU,CAAC,MAAM,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC;oBAChE,IAAI,CAAC,kBAAkB,CAAC,QAAQ,CAAC,YAAY,GAAG,IAAI,CAAC,YAAY,CAAC;oBAClE,IAAI,CAAC,kBAAkB,CAAC,QAAQ,CAAC,cAAc,GAAG,IAAI,CAAC,cAAc,CAAC;oBACtE,IAAI,CAAC,SAAS,CAAC,KAAK,EAAE,CAAC;oBACvB,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,IAAI,CAAC,kBAAkB,CAAC,QAAQ,CAAC,CAAC;iBACzD;aACF;SACJ,EAAC,CAAC;KACJ;;;;;;IAEO,eAAe,CAAC,UAAgC;QACtD,IAAI,UAAU,CAAC,MAAM,GAAG,CAAC,EAAE;YACzB,KAAK,MAAM,CAAC,IAAI,UAAU,EAAE;gBAC1B,CAAC,CAAC,IAAI,GAAG,MAAM,CAAC,MAAM,CAAC,EAAE,EAAE,CAAC,CAAC,IAAI,EAAE;oBACjC,QAAQ,EAAE,CAAC,CAAC,IAAI,CAAC,UAAU,KAAK,UAAU,GAAG,IAAI,GAAG,KAAK;oBACzD,QAAQ,EAAE,CAAC,CAAC,IAAI,CAAC,UAAU,KAAK,UAAU,GAAG,IAAI,GAAG,KAAK;oBACzD,MAAM,EAAE,CAAC,CAAC,IAAI,CAAC,UAAU,KAAK,QAAQ,GAAG,IAAI,GAAG,KAAK;oBACrD,QAAQ,EAAE,CAAC,CAAC,IAAI,CAAC,UAAU,KAAK,UAAU,GAAG,IAAI,GAAG,KAAK;iBAC1D,CAAC,CAAC;gBACH,IAAI,CAAC,CAAC,QAAQ,IAAI,CAAC,CAAC,QAAQ,EAAE;oBAC5B,IAAI,CAAC,eAAe,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC;iBAClC;aACF;SACF;KACF;;;;;;;IAEO,cAAc,CAAC,YAAwB,EAAE,MAAuB;QACtE,IAAI,YAAY,CAAC,MAAM,GAAG,CAAC,EAAE;YAC3B,KAAK,MAAM,CAAC,IAAI,YAAY,EAAE;gBAC5B,IAAI,CAAC,CAAC,IAAI,CAAC,OAAO,KAAK,MAAM,CAAC,OAAO,EAAE;oBACrC,QAAQ,MAAM,CAAC,UAAU;wBACvB,KAAK,UAAU;4BACb,CAAC,CAAC,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;4BACvB,CAAC,CAAC,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;4BACxB,CAAC,CAAC,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;4BACtB,CAAC,CAAC,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;4BACxB,MAAM;wBACR,KAAK,UAAU;4BACb,CAAC,CAAC,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;4BACxB,CAAC,CAAC,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;4BACvB,CAAC,CAAC,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;4BACtB,CAAC,CAAC,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;4BACxB,MAAM;wBACR,KAAK,QAAQ;4BACX,CAAC,CAAC,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;4BACxB,CAAC,CAAC,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;4BACxB,CAAC,CAAC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;4BACrB,CAAC,CAAC,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;4BACxB,MAAM;wBACR,KAAK,UAAU;4BACb,CAAC,CAAC,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;4BACxB,CAAC,CAAC,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;4BACxB,CAAC,CAAC,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;4BACtB,CAAC,CAAC,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;4BACvB,MAAM;qBACT;oBACD,OAAO;iBACR;qBAAM;oBACL,IAAI,CAAC,CAAC,QAAQ,IAAI,CAAC,CAAC,QAAQ,CAAC,MAAM,GAAG,CAAC,EAAE;wBACvC,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC,QAAQ,EAAE,MAAM,CAAC,CAAC;qBACzC;iBACF;aACF;SACF;KACF;;;;;;IAEO,UAAU,CAAC,MAAwB;;cACnC,GAAG,GAAG,uCAAuC;QACnD,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE,MAAM,CAAC,CAAC;KACpC;;;;;IAEO,aAAa;QACnB,IAAI,IAAI,CAAC,YAAY,EAAE;;gBACjB,GAAG,GAAG,mCAAmC,IAAI,CAAC,YAAY,EAAE;YAChE,GAAG,GAAG,SAAS,CAAC,GAAG,CAAC,CAAC;YACrB,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;SAC3B;aAAM;YACL,OAAOH,IAAE,CAAC,IAAI,CAAC,CAAC;SACjB;KACF;;;;;IAEO,iBAAiB;QACvB,IAAI,IAAI,CAAC,YAAY,EAAE;;kBACf,GAAG,GAAG,6DAA6D,IAAI,CAAC,YAAY,EAAE;YAC5F,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;SAC3B;KACF;;;;;IAEO,mBAAmB;QACzB,IAAI,IAAI,CAAC,cAAc,EAAE;;gBACnB,GAAG,GAAG,yCAAyC,IAAI,CAAC,cAAc,EAAE;YACxE,GAAG,GAAG,SAAS,CAAC,GAAG,CAAC,CAAC;YACrB,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;SAC3B;aAAM;YACL,OAAOA,IAAE,CAAC,IAAI,CAAC,CAAC;SACjB;KACF;;;;;;IAEO,iBAAiB,CAAC,UAAsB;QAC9C,IAAI,CAAC,UAAU,CAAC,MAAM,EAAE;YACtB,UAAU,CAAC,MAAM,GAAG,CAAC,CAAC;SACvB;QACD,IAAI,CAAC,iBAAiB,CAAC,UAAU,CAAC,UAAU,CAAC,CAAC;QAC9C,IAAI,CAAC,kBAAkB,CAAC,UAAU,CAAC,UAAU,EAAE,IAAI,CAAC,eAAe,CAAC,CAAC;QACrE,OAAO,UAAU,CAAC;KACnB;;;;;;IAEO,iBAAiB,CAAC,UAAgC;QACxD,IAAI,UAAU,IAAI,UAAU,CAAC,MAAM,GAAG,CAAC,EAAE;YACvC,KAAK,MAAM,CAAC,IAAI,UAAU,EAAE;gBAC1B,IAAI,QAAO,CAAC,CAAC,IAAI,CAAC,KAAK,SAAS,KAAK,CAAC,CAAC,IAAI,IAAI,IAAI,IAAI,CAAC,CAAC,IAAI,KAAK,SAAS,CAAC,EAAE;oBAC5E,CAAC,CAAC,IAAI,GAAG,IAAI,CAAC;iBACf;gBACD,IAAI,CAAC,CAAC,QAAQ,IAAI,CAAC,CAAC,QAAQ,EAAE;oBAC5B,IAAI,CAAC,eAAe,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC;iBAClC;aACF;SACF;KACF;;;;;;;IAEO,kBAAkB,CAAC,UAAgC,EAAE,KAAuB;QAClF,IAAI,UAAU,IAAI,UAAU,CAAC,MAAM,GAAG,CAAC,EAAE;YACvC,KAAK,MAAM,CAAC,IAAI,UAAU,EAAE;gBAC1B,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC;gBACnB,IAAI,CAAC,CAAC,QAAQ,IAAI,CAAC,CAAC,QAAQ,EAAE;oBAC5B,IAAI,CAAC,kBAAkB,CAAC,CAAC,CAAC,QAAQ,EAAE,KAAK,CAAC,CAAC;iBAC5C;aACF;SACF;KACF;;;;;;;IAEO,cAAc,CAAC,UAAgC,EAAE,OAAe;QACtE,KAAK,MAAM,CAAC,IAAI,UAAU,EAAE;YAC1B,IAAI,CAAC,CAAC,IAAI,CAAC,OAAO,KAAK,OAAO,EAAE;gBAC9B,OAAO,CAAC,CAAC;aACV;YACD,IAAI,CAAC,CAAC,QAAQ,IAAI,CAAC,CAAC,QAAQ,CAAC,MAAM,GAAG,CAAC,EAAE;gBACvC,OAAO,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC,QAAQ,EAAE,OAAO,CAAC,CAAC;aACjD;SACF;KAEF;;;YAntBF,SAAS,SAAC;gBACT,QAAQ,EAAE,wBAAwB;gBAClC,o/LAAkD;gBAElD,SAAS,EAAE;oBACR,YAAY;iBACd;;aACF;;;;YA1BQ,WAAW;YAOX,eAAe;YACf,aAAa;YATkF,QAAQ;YAAE,iBAAiB,uBA2F9H,QAAQ;yCACR,MAAM,SAAC,SAAS;4CAChB,MAAM,SAAC,iBAAiB;YA7ED,YAAY,uBA8EnC,QAAQ;;;wBAhEV,SAAS,SAAC,WAAW;0BACrB,SAAS,SAAC,aAAa;wBACvB,SAAS,SAAC,WAAW;4BACrB,SAAS,SAAC,eAAe;4BACzB,SAAS,SAAC,eAAe;0BACzB,SAAS,SAAC,aAAa;4BACvB,SAAS,SAAC,eAAe;sBAEzB,SAAS,SAAC,SAAS;wBACnB,SAAS,SAAC,WAAW;8BACrB,SAAS,SAAC,4BAA4B;wBAEtC,SAAS,SAAC,WAAW,EAAE,EAAE,IAAI,EAAE,gBAAgB,EAAE;4BASjD,KAAK;;;;;;;ACnDR,MAca,4BAA4B;;;;;;IAYvC,YACU,QAAkB,EAClB,GAA6B,EAC7B,IAAiB;QAFjB,aAAQ,GAAR,QAAQ,CAAU;QAClB,QAAG,GAAH,GAAG,CAA0B;QAC7B,SAAI,GAAJ,IAAI,CAAa;QAJlB,kBAAa,GAAG,IAAI,CAAC;KAKzB;;;;IAEL,QAAQ;;KAEP;;;;;IAED,WAAW,CAAC,OAAsB;QAChC,IAAI,OAAO,CAAC,cAAc,CAAC,IAAI,OAAO,CAAC,cAAc,CAAC,CAAC,YAAY,EAAE;YACnE,IAAI,CAAC,gBAAgB,EAAE,CAAC;SACzB;aAAM;YACL,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,oBAAoB,EAAE,CAAC;YAChD,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,YAAY,GAAG,IAAI,CAAC;YAC/C,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,cAAc,GAAG,IAAI,CAAC;YACjD,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,aAAa,GAAG,IAAI,CAAC,aAAa,CAAC;YAC9D,IAAI,CAAC,SAAS,CAAC,KAAK,EAAE,CAAC;YACvB,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,CAAC;SACnD;KACF;;;;IAED,MAAM;QACJ,OAAO,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC;KAC5C;;;;;IAEO,gBAAgB;QACtB,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,oBAAoB,EAAE,CAAC;QAChD,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,YAAY,GAAG,IAAI,CAAC,YAAY,CAAC;QAC5D,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,cAAc,GAAG,IAAI,CAAC,cAAc,CAAC;QAChE,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,aAAa,GAAG,IAAI,CAAC,aAAa,CAAC;QAC9D,IAAI,CAAC,SAAS,CAAC,KAAK,EAAE,CAAC;QACvB,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,CAAC;;;;;;;;;;;;;;;;;;;KAoBnD;;;;;IAEO,oBAAoB;;cACpB,IAAI,GAAG,IAAI,CAAC,GAAG,CAAC,uBAAuB,CAAC,yBAAyB,CAAC;;cAClE,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC;QACvC,OAAO,IAAI,CAAC;KACb;;;;;IAEO,iBAAiB;QACvB,IAAI,IAAI,CAAC,YAAY,EAAE;;kBACf,GAAG,GAAG,6DAA6D,IAAI,CAAC,YAAY,EAAE;YAC5F,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;SAC3B;KACF;;;YAnFF,SAAS,SAAC;gBACT,QAAQ,EAAE,2BAA2B;gBACrC,wDAAqD;;aAEtD;;;;YAbwD,QAAQ;YAAE,wBAAwB;YAGlF,WAAW;;;wBAcjB,SAAS,SAAC,WAAW,EAAE,EAAE,IAAI,EAAE,gBAAgB,EAAE;0BACjD,SAAS,SAAC,kBAAkB;2BAE5B,KAAK;6BAEL,KAAK;4BAGL,KAAK;;;;;;;ACzBR,MA4Ba,qBAAqB;;;;;;;;;;;;;;;;IAwDhC,YACU,WAAwB,EACzB,OAA4B,EAC5B,SAAgC,EAC/B,QAAkC,EAClC,QAAkB,EAClB,YAA4B,EAC5B,aAAqC,EACrC,OAAwB,EACZ,GAAsB,EACf,QAAgB,EACR,SAAc,EAC7B,UAAwB;QAXpC,gBAAW,GAAX,WAAW,CAAa;QACzB,YAAO,GAAP,OAAO,CAAqB;QAC5B,cAAS,GAAT,SAAS,CAAuB;QAC/B,aAAQ,GAAR,QAAQ,CAA0B;QAClC,aAAQ,GAAR,QAAQ,CAAU;QAClB,iBAAY,GAAZ,YAAY,CAAgB;QAC5B,kBAAa,GAAb,aAAa,CAAwB;QACrC,YAAO,GAAP,OAAO,CAAiB;QACZ,QAAG,GAAH,GAAG,CAAmB;QACf,aAAQ,GAAR,QAAQ,CAAQ;QACR,cAAS,GAAT,SAAS,CAAK;QAC7B,eAAU,GAAV,UAAU,CAAc;QAnE9C,gBAAW,GAAG;YACZ,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,qCAAqC,CAAC;YACvE,KAAK,EAAE,GAAG;YACV,MAAM,EAAE,GAAG;YACX,WAAW,EAAE,IAAI;SAClB,CAAC;QAGF,QAAG,GAAG,8BAA8B,CAAC;QACJ,UAAK,GAAG,MAAM,CAAC;QACtC,eAAU,GAAG,IAAI,YAAY,EAAO,CAAC;QACrC,gBAAW,GAAG,IAAI,YAAY,EAAO,CAAC;QAuBvC,iBAAY,GAAQ,EAAE,CAAC;QAQhC,QAAG,GAAqB,KAAK,CAAC;QAE9B,cAAS,GAAG,sCAAsC,CAAC;QAEnD,SAAI,GAAG,EAAE,CAAC;QAIV,kBAAa,GAAG,IAAI,CAAC;QAErB,kBAAa,GAAG,IAAI,KAAK,EAAE,CAAC;QAiB1B,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,IAAI,IAAI,YAAY,CAAC,QAAQ,EAAE,SAAS,CAAC,CAAC;QAC3E,IAAI,CAAC,IAAI,GAAG,IAAI,gBAAgB,EAAE,CAAC;QACnC,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,eAAe,EAAE,CAAC;KAC7C;;;;;IA3DD,IACI,KAAK,CAAC,IAAsB;QAC9B,IAAI,IAAI,EAAE;;kBACF,UAAU,GAAG,IAAI,KAAK,EAAmB;YAC/C,IAAI,CAAC,gBAAgB,CAAC,OAAO;;;;YAAC,CAAC;;sBACvB,IAAI,GAAG,IAAIC,iBAAe,EAAE;gBAClC,IAAI,CAAC,IAAI,GAAG,CAAC,CAAC,IAAI,CAAC;gBACnB,IAAI,CAAC,GAAG,GAAG,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC,GAAG,GAAG,IAAI,CAAC,gBAAgB,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;gBAC1D,IAAI,CAAC,KAAK,GAAG,CAAC,CAAC,KAAK,CAAC;gBACrB,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;aACvB,EAAC,CAAC;YACH,IAAI,CAAC,IAAI,CAAC,gBAAgB,GAAG,UAAU,CAAC;YACxC,IAAI,CAAC,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC,EAAE,CAAC;YACvB,IAAI,CAAC,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC;YAC3B,IAAI,CAAC,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,WAAW,CAAC;YACzC,IAAI,CAAC,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,YAAY,CAAC;YAC3C,IAAI,CAAC,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,cAAc,CAAC;YAC/C,IAAI,CAAC,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC;YACnC,IAAI,CAAC,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,YAAY,CAAC;SAC5C;KACF;;;;IAwCD,eAAe;KAEd;;;;IAED,QAAQ;QACN,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC;QAC3C,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC;QACjC,IAAI,IAAI,CAAC,QAAQ,KAAK,cAAc,EAAE;YACpC,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC;SAC3B;aAAM;YACL,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC;SAC5B;KACF;;;;IACD,OAAO;;YACD,IAAI,GAAG,IAAI,gBAAgB,EAAE;QACjC,IAAI,CAAC,OAAO,EAAE,CAAC,SAAS;;;;QAAC,CAAC,EAAO;YAC/B,IAAI,CAAC,EAAE,CAAC,MAAM,EAAE;gBACd,OAAO;aACR;YACD,IAAI,GAAG,EAAE,CAAC,IAAI,CAAC;YACf,IAAI,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,EAAE;;oBACpB,UAAU,GAAG,IAAI;;gBAErB,IAAI,IAAI,IAAI,IAAI,CAAC,gBAAgB,IAAI,IAAI,CAAC,gBAAgB,CAAC,MAAM,GAAG,CAAC,EAAE;;0BAC/D,gBAAgB,GAAG,IAAI,CAAC,aAAa,CAAC,YAAY,CAAC,gBAAgB,CAAC,MAAM;;;;oBAAC,CAAC,IAAI,CAAC,CAAC,QAAQ,KAAK,WAAW,EAAC;oBACjH,KAAK,MAAM,SAAS,IAAI,IAAI,CAAC,gBAAgB,EAAE;wBAC7C,IAAI,SAAS,CAAC,GAAG,KAAI,UAAU,IAAI,SAAS,CAAC,KAAK,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,IAAI;;;;wBAAC,CAAC,IAAI,CAAC,CAAC,GAAG,KAAK,SAAS,CAAC,KAAK,EAAC,IAAI,gBAAgB,CAAC,IAAI;;;;wBAAC,CAAC,IAAI,CAAC,CAAC,IAAI,KAAK,SAAS,CAAC,KAAK,EAAC,EAAE;4BACxK,UAAU,GAAG,gBAAgB,CAAC;4BAC9B,MAAM;yBACP;qBACF;iBACF;;sBACK,MAAM,GAAG,EAAE,KAAK,EAAE,IAAI,EAAE,UAAU,EAAE;gBAC1C,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;aAC/B;SACF,EAAC,CAAC;KACJ;;;;IAED,WAAW;QACT,IAAI,CAAC,UAAU,CAAC,IAAI,EAAE,CAAC;KACxB;;;;;IAED,SAAS,CAAC,IAAsB;QAC9B,IAAI,IAAI,IAAI,IAAI,CAAC,gBAAgB,IAAI,IAAI,CAAC,gBAAgB,CAAC,MAAM,GAAG,CAAC,EAAE;;kBAC/D,gBAAgB,GAAG,IAAI,CAAC,aAAa,CAAC,YAAY,CAAC,gBAAgB,CAAC,MAAM;;;;YAAC,CAAC,IAAI,CAAC,CAAC,QAAQ,KAAK,WAAW,EAAC;YACjH,KAAK,MAAM,SAAS,IAAI,IAAI,CAAC,gBAAgB,EAAE;gBAC7C,IAAI,SAAS,CAAC,GAAG,KAAI,UAAU,IAAI,SAAS,CAAC,KAAK,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,IAAI;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,GAAG,KAAK,SAAS,CAAC,KAAK,EAAC,IAAI,CAAC,gBAAgB,CAAC,IAAI;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,IAAI,KAAK,SAAS,CAAC,KAAK,EAAC,EAAE;oBACzK,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,mCAAmC,CAAC,GAAG,SAAS,CAAC,IAAI,GAAG,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,uCAAuC,CAAC,CAAC,CAAC;oBACzK,OAAO,KAAK,CAAC;iBACd;aACF;SACF;QACD,OAAO,IAAI,CAAC;KACb;;;;;;;;;;;IASO,OAAO;QACb,IAAI,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE;YACzB,OAAO,EAAE,CAAC,EAAE,MAAM,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC,IAAI,EAAE,CAAC,CAAC;SAC9C;aAAM,IAAI,IAAI,CAAC,IAAI,CAAC,YAAY,EAAE;YACjC,OAAO,IAAI,CAAC,eAAe,CAAC,MAAM,EAAE,CAAC,IAAI,CACvC,SAAS;;;;YAAC,CAAC,EAAO;gBAChB,IAAI,EAAE,CAAC,MAAM,EAAE;oBACb,IAAI,CAAC,IAAI,CAAC,cAAc,GAAG,EAAE,CAAC,QAAQ,CAAC;oBACvC,OAAO,EAAE,CAAC,EAAE,MAAM,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC,IAAI,EAAE,CAAC,CAAC;iBAC9C;qBAAM;oBACL,OAAO,EAAE,CAAC,EAAE,MAAM,EAAE,KAAK,EAAE,IAAI,EAAE,IAAI,CAAC,IAAI,EAAE,CAAC,CAAC;iBAC/C;aACF,EAAC,CACH,CAAC;SACH;aAAM;YACL,OAAO,EAAE,CAAC,EAAE,MAAM,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,CAAC,CAAC;SACzC;KACF;;;;;IAKD,aAAa;;cACL,WAAW,GAAG,IAAI,CAAC,QAAQ,CAAC,uBAAuB,CAAC,yBAAyB,CAAC;;cAC9E,OAAO,GAAG,WAAW,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC;QACjD,OAAO,CAAC,QAAQ,CAAC,IAAI,GAAG,MAAM,CAAC;QAC/B,OAAO,CAAC,QAAQ,CAAC,aAAa,GAAG,IAAI,CAAC,aAAa,CAAC;QACpD,IAAI,IAAI,CAAC,GAAG,KAAK,KAAK,EAAE;YACtB,IAAI,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE;gBACzB,OAAO,CAAC,QAAQ,CAAC,YAAY,GAAG,IAAI,CAAC;gBACrC,OAAO,CAAC,QAAQ,CAAC,QAAQ,GAAG,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC;aAChD;YACD,OAAO,CAAC,QAAQ,CAAC,UAAU,GAAG,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,gBAAgB,CAAC,GAAG;;;;gBAAC,CAAC,IAAI,MAAM,CAAC,MAAM,CAAC,EAAE,EAAE,CAAC,CAAC,EAAC,CAAC,CAAC;SAC9F;aAAM;YACL,OAAO,CAAC,QAAQ,CAAC,UAAU,GAAG,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,gBAAgB,CAAC,GAAG;;;;gBAAC,CAAC,IAAI,MAAM,CAAC,MAAM,CAAC,EAAE,EAAE,CAAC,CAAC,EAAC,CAAC,CAAC;SAC9F;;cAEK,WAAW,GAAG;YAClB,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,0CAA0C,CAAC;YAC5E,KAAK,EAAE,GAAG;YACV,MAAM,EAAE,GAAG;YACX,WAAW,EAAE,IAAI;YACjB,OAAO,EAAE,OAAO,CAAC,QAAQ,CAAC,WAAW;SACtC;;cACK,MAAM,GAAG,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,OAAO,EAAE,WAAW,CAAC;QAE3D,OAAO,CAAC,QAAQ,CAAC,MAAM,CAAC,SAAS;;;;QAAC,EAAE;YAClC,IAAI,IAAI,CAAC,GAAG,KAAK,KAAK,EAAE;gBACtB,IAAI,CAAC,IAAI,CAAC,gBAAgB,GAAG,EAAE,CAAC,UAAU,CAAC;gBAC3C,IAAI,CAAC,IAAI,CAAC,QAAQ,GAAG,EAAE,CAAC,QAAQ,CAAC;aAClC;iBAAM;gBACL,IAAI,CAAC,IAAI,CAAC,gBAAgB,GAAG,EAAE,CAAC,UAAU,CAAC;aAC5C;YACD,MAAM,CAAC,KAAK,EAAE,CAAC;SAChB,EAAC,CAAC;QACH,OAAO,CAAC,QAAQ,CAAC,MAAM,CAAC,SAAS;;;;QAAC,EAAE;YAClC,MAAM,CAAC,KAAK,EAAE,CAAC;SAChB,EAAC,CAAC;KACJ;;;;;IAID,iBAAiB;;cACT,WAAW,GAAG,IAAI,CAAC,QAAQ,CAAC,uBAAuB,CAAC,uBAAuB,CAAC;;cAC5E,OAAO,GAAG,WAAW,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC;QACjD,OAAO,CAAC,QAAQ,CAAC,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC;;cAE1B,WAAW,GAAG;YAClB,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,2CAA2C,CAAC;YAC7E,KAAK,EAAE,GAAG;YACV,MAAM,EAAE,GAAG;YACX,WAAW,EAAE,IAAI;YACjB,OAAO,EAAE,OAAO,CAAC,QAAQ,CAAC,WAAW;SACtC;;cACK,MAAM,GAAG,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,OAAO,EAAE,WAAW,CAAC;QAC3D,OAAO,CAAC,QAAQ,CAAC,MAAM,CAAC,SAAS;;;;QAAC,CAAC,EAAoB;YACrD,IAAI,CAAC,IAAI,GAAG,EAAE,CAAC;YACf,MAAM,CAAC,KAAK,EAAE,CAAC;SAChB,EAAC,CAAC;QACH,OAAO,CAAC,QAAQ,CAAC,MAAM,CAAC,SAAS;;;;QAAC,EAAE;YAClC,MAAM,CAAC,KAAK,EAAE,CAAC;SAChB,EAAC,CAAC;KACJ;;;;IACD,KAAK;QACH,IAAI,CAAC,IAAI,GAAG,IAAI,gBAAgB,EAAE,CAAC;KACpC;;;;;IAED,gBAAgB,CAAC,KAAK;QACpB,IAAI,KAAK,EAAE;YACP,IAAI,KAAK,CAAC,MAAM,IAAI,CAAC,IAAI,KAAK,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,KAAK,UAAU,EAAE;gBACvD,OAAO,YAAY,CAAC;aACvB;iBAAM;gBACH,OAAO,UAAU,CAAC;aACrB;SACJ;aAAM;YACH,OAAO,UAAU,CAAC;SACrB;KACF;;;;;IAEO,eAAe;;cACf,OAAO,GAAG,IAAI,KAAK,EAAE;QAC3B,IAAI,IAAI,CAAC,aAAa,CAAC,eAAe,CAAC,MAAM,GAAG,CAAC,EAAE;YACjD,KAAK,MAAM,QAAQ,IAAI,IAAI,CAAC,aAAa,CAAC,eAAe,EAAE;gBACzD,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;aACxB;SACF;QACD,IAAI,IAAI,CAAC,aAAa,CAAC,kBAAkB,CAAC,MAAM,GAAG,CAAC,EAAE;YACpD,KAAK,MAAM,QAAQ,IAAI,IAAI,CAAC,aAAa,CAAC,kBAAkB,EAAE;gBAC5D,IAAI,CAAC,OAAO,CAAC,IAAI;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,GAAG,KAAK,QAAQ,CAAC,GAAG,EAAC,EAAE;oBAC9C,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;iBACxB;aACF;SACF;QACD,IAAI,IAAI,CAAC,aAAa,CAAC,sBAAsB,CAAC,MAAM,GAAG,CAAC,EAAE;YACxD,KAAK,MAAM,QAAQ,IAAI,IAAI,CAAC,aAAa,CAAC,sBAAsB,EAAE;gBAChE,IAAI,CAAC,OAAO,CAAC,IAAI;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,GAAG,KAAK,QAAQ,CAAC,GAAG,EAAC,EAAE;oBAC9C,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;iBACxB;aACF;SACF;QACD,IAAI,IAAI,CAAC,aAAa,CAAC,kBAAkB,CAAC,MAAM,GAAG,CAAC,EAAE;YACpD,KAAK,MAAM,QAAQ,IAAI,IAAI,CAAC,aAAa,CAAC,kBAAkB,EAAE;gBAC5D,IAAI,CAAC,OAAO,CAAC,IAAI;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,GAAG,KAAK,QAAQ,CAAC,GAAG,EAAC,EAAE;oBAC9C,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;iBACxB;aACF;SACF;QACD,IAAI,IAAI,CAAC,aAAa,CAAC,sBAAsB,CAAC,MAAM,GAAG,CAAC,EAAE;YACxD,KAAK,MAAM,QAAQ,IAAI,IAAI,CAAC,aAAa,CAAC,sBAAsB,EAAE;gBAChE,IAAI,CAAC,OAAO,CAAC,IAAI;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,GAAG,KAAK,QAAQ,CAAC,GAAG,EAAC,EAAE;oBAC9C,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;iBACxB;aACF;SACF;QACD,OAAO,OAAO,CAAC;KAChB;;;YAxRF,SAAS,SAAC;gBACT,QAAQ,EAAE,mBAAmB;gBAC7B,8vFAA6C;gBAE7C,SAAS,EAAE;oBACT,mBAAmB,EAAE,qBAAqB,EAAE,sBAAsB;oBAClE,YAAY;iBACb;;aACF;;;;YAxBQ,WAAW;YACX,mBAAmB;YACnB,qBAAqB;YAL4E,wBAAwB;YAAE,QAAQ;YAQnI,cAAc;YAMd,sBAAsB;YACtB,eAAe;YAfuJ,iBAAiB,uBA6F3L,QAAQ;yCACR,MAAM,SAAC,SAAS;4CAChB,MAAM,SAAC,iBAAiB;YA/ED,YAAY,uBAgFnC,QAAQ;;;kBA5DV,WAAW,SAAC,OAAO;oBAEnB,WAAW,SAAC,kBAAkB;yBAC9B,MAAM;0BACN,MAAM;oBAEN,KAAK;2BAqBL,KAAK;0BACL,SAAS,SAAC,kBAAkB;8BAC5B,SAAS,SAAC,iBAAiB;4BAE3B,SAAS,SAAC,eAAe,EAAE,EAAE,IAAI,EAAE,UAAU,EAAE;;MA0OrC,qBAAqB;;;;;IAEhC,YACE,MAAW,EACH,UAAwB;QAAxB,eAAU,GAAV,UAAU,CAAc;QAEhC,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;KACtB;;;;;IACD,SAAS,CAAC,IAAI;QACZ,IAAI,IAAI,EAAE;YACR,OAAO,IAAI,CAAC,IAAI,CAAC;SAClB;aAAM;YACL,IAAI,IAAI,CAAC,MAAM,CAAC,QAAQ,KAAK,SAAS,EAAE;gBACtC,OAAO,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,+BAA+B,CAAC,CAAC;aACnE;iBAAM;gBACL,OAAO,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,gCAAgC,CAAC,CAAC;aACpE;SACF;KACF;CACF;;;;;;AChUD,MAea,wBAAwB;;;;;;;;;;IA8BnC,YACU,IAAuB,EACvB,QAAkB,EACnB,aAAqC,EACxB,GAAsB,EACf,QAAgB,EACR,SAAc,EAC7B,UAAwB;QANpC,SAAI,GAAJ,IAAI,CAAmB;QACvB,aAAQ,GAAR,QAAQ,CAAU;QACnB,kBAAa,GAAb,aAAa,CAAwB;QACxB,QAAG,GAAH,GAAG,CAAmB;QACf,aAAQ,GAAR,QAAQ,CAAQ;QACR,cAAS,GAAT,SAAS,CAAK;QAC7B,eAAU,GAAV,UAAU,CAAc;QAnCpC,eAAU,GAAG,IAAI,YAAY,EAAO,CAAC;QACrC,gBAAW,GAAG,IAAI,YAAY,EAAO,CAAC;QAGhD,0BAAqB,GAAwB,IAAI,GAAG,EAAkB,CAAC;QAI9D,iBAAY,GAAQ,EAAE,CAAC;QAChC,aAAQ,GAAG,QAAQ,CAAC;QAEpB,oBAAe,GAAG;YAChB,EAAE,KAAK,EAAE,QAAQ,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,kCAAkC,CAAC,EAAE;YACxF,EAAE,KAAK,EAAE,QAAQ,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,kCAAkC,CAAC,EAAE;YACxF,EAAE,KAAK,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,8BAA8B,CAAC,EAAE;SACjF,CAAC;QACF,oBAAe,GAAG,EAAE,CAAC;QAErB,WAAM,GAAQ,EAAE,CAAC;QACjB,eAAU,GAAG,EAAE,CAAC;QAEhB,gBAAW,GAAG;YACZ,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,2CAA2C,CAAC;YAC7E,KAAK,EAAE,IAAI;YACX,MAAM,EAAE,GAAG;YACX,WAAW,EAAE,IAAI;SAClB,CAAC;QAWA,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,IAAI,IAAI,YAAY,CAAC,QAAQ,EAAE,SAAS,CAAC,CAAC;QAC3E,IAAI,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE;YACjC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;YAC5C,IAAI,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,WAAW,IAAI,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC,MAAM,GAAG,CAAC,EAAE;gBACrG,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC;aACrE;SACF;QACD,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,SAAS,EAAE,IAAI,CAAC,IAAI,IAAI,CAAC,QAAQ,CAAC;KACrE;;;;IAED,QAAQ;;QAEN,IAAI,IAAI,CAAC,KAAK,IAAI,IAAI,EAAE;YACtB,IAAI,QAAO,IAAI,CAAC,KAAK,CAAC,KAAK,QAAQ,EAAE;gBACnC,IAAI,CAAC,qBAAqB,CAAC,GAAG,CAAC,QAAQ,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC;aACtD;iBAAM;gBACL,IAAI,CAAC,qBAAqB,GAAG,IAAI,GAAG,CAAC,MAAM,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC;aAClE;SACF;QACD,IAAI,CAAC,eAAe,GAAG,IAAI,KAAK,EAAE,CAAC;QACnC,IAAI,IAAI,CAAC,aAAa,CAAC,eAAe,CAAC,MAAM,GAAG,CAAC,EAAE;YACjD,KAAK,MAAM,QAAQ,IAAI,IAAI,CAAC,aAAa,CAAC,eAAe,EAAE;gBACzD,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC;aAChE;SACF;QACD,IAAI,IAAI,CAAC,aAAa,CAAC,sBAAsB,CAAC,MAAM,GAAG,CAAC,EAAE;YACxD,KAAK,MAAM,QAAQ,IAAI,IAAI,CAAC,aAAa,CAAC,sBAAsB,EAAE;gBAChE,IAAI,CAAC,IAAI,CAAC,eAAe,CAAC,IAAI;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,GAAG,KAAK,QAAQ,CAAC,GAAG,EAAC,EAAE;oBAC3D,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC;iBAChE;aACF;SACF;QACD,IAAI,IAAI,CAAC,aAAa,CAAC,kBAAkB,CAAC,MAAM,GAAG,CAAC,EAAE;YACpD,KAAK,MAAM,QAAQ,IAAI,IAAI,CAAC,aAAa,CAAC,kBAAkB,EAAE;gBAC5D,IAAI,CAAC,IAAI,CAAC,eAAe,CAAC,IAAI;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,GAAG,KAAK,QAAQ,CAAC,GAAG,EAAC,EAAE;oBAC3D,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC;iBAChE;aACF;SACF;QACD,IAAI,IAAI,CAAC,aAAa,CAAC,kBAAkB,CAAC,MAAM,GAAG,CAAC,EAAE;YACpD,KAAK,MAAM,QAAQ,IAAI,IAAI,CAAC,aAAa,CAAC,kBAAkB,EAAE;gBAC5D,IAAI,CAAC,IAAI,CAAC,eAAe,CAAC,IAAI;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,GAAG,KAAK,QAAQ,CAAC,GAAG,EAAC,EAAE;oBAC3D,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC;iBAChE;aACF;SACF;QACD,IAAI,IAAI,CAAC,aAAa,CAAC,sBAAsB,CAAC,MAAM,GAAG,CAAC,EAAE;YACxD,KAAK,MAAM,QAAQ,IAAI,IAAI,CAAC,aAAa,CAAC,sBAAsB,EAAE;gBAChE,IAAI,CAAC,IAAI,CAAC,eAAe,CAAC,IAAI;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,GAAG,KAAK,QAAQ,CAAC,GAAG,EAAC,EAAE;oBAC3D,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC;iBAChE;aACF;SACF;KACF;;;;IAED,OAAO;QACL,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,wBAAwB,EAAE,CAAC;;cAC9C,GAAG,GAAG,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,OAAO,EAAE,CAAC,CAAC,MAAM;;;;;QAAC,CAAC,GAAG,EAAE,CAAC,GAAG,EAAE,KAAK,CAAC,MAAM,GAAG,CAAC,GAAG,CAAC,GAAG,KAAK,IAAE,IAAI,GAAC,EAAE,GAAC,KAAK,EAAE,GAAG,CAAC,GAAE,EAAE,CAAC;;cACzG,MAAM,GAAG,EAAE,KAAK,EAAE,GAAG,EAAE,UAAU,EAAE,IAAI,EAAE;QAC/C,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;KAC/B;;;;IAED,WAAW;QACT,IAAI,CAAC,UAAU,CAAC,IAAI,EAAE,CAAC;KACxB;;;;;;IAEO,cAAc,CAAC,GAAW;QAChC,IAAI,GAAG,EAAE;YACP,IAAI,GAAG,CAAC,SAAS,CAAC,CAAC,EAAE,GAAG,CAAC,MAAM,GAAG,CAAC,CAAC,EAAE;gBACpC,OAAO,GAAG,CAAC;aACZ;iBAAM;gBACL,OAAO,EAAE,CAAC;aACX;SACF;aAAM;YACL,OAAO,EAAE,CAAC;SACX;KACF;;;YA3HF,SAAS,SAAC;gBACT,QAAQ,EAAE,sBAAsB;gBAChC,4+DAAgD;gBAEhD,SAAS,EAAE;oBACR,YAAY;iBACd;;aACF;;;;YAZQ,iBAAiB;YAFuD,QAAQ;YAGhF,sBAAsB;YAHuE,iBAAiB,uBAiDlH,QAAQ;yCACR,MAAM,SAAC,SAAS;4CAChB,MAAM,SAAC,iBAAiB;YA/CD,YAAY,uBAgDnC,QAAQ;;;yBAnCV,MAAM;0BACN,MAAM;oBAEN,KAAK;0BAGL,SAAS,SAAC,kBAAkB;2BAE5B,KAAK;qBAEL,SAAS,SAAC,yBAAyB;;MA0GzB,wBAAwB;;;;IACnC,YACU,UAAwB;QAAxB,eAAU,GAAV,UAAU,CAAc;KAC7B;;;;;IAEL,SAAS,CAAC,IAAS;QACjB,IAAI,IAAI,IAAI,OAAO,IAAI,KAAK,QAAQ,EAAE;YACpC,OAAO,IAAI,CAAC;SACb;aAAM,IAAI,IAAI,IAAI,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,MAAM,GAAG,CAAC,EAAE;YAC/C,OAAO,IAAI,CAAC,qBAAqB,CAAC,IAAI,CAAC;kBACnC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,kCAAkC,CAAC;kBAC7D,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,+BAA+B,CAAC,CAAC;SAChE;aAAM;YACL,OAAO,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,kCAAkC,CAAC,CAAC;SACtE;KACF;;;;;IAED,qBAAqB,CAAC,GAAG;QACvB,KAAK,IAAI,GAAG,IAAI,GAAG,EAAE;YACnB,IAAI,GAAG,CAAC,cAAc,CAAC,GAAG,CAAC,IAAI,GAAG,CAAC,GAAG,CAAC,KAAK,EAAE,EAAE;gBAC9C,OAAO,KAAK,CAAC;aACd;SACF;QACD,OAAO,IAAI,CAAC;KACb;CAEF;;;;;;AC7JD,MAAa,eAAe;;;;;;IAOxB,YAAY,EAAW,EAAE,IAAa,EAAE,IAAa;QACjD,IAAI,CAAC,EAAE,GAAG,EAAE,CAAC;QACb,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;KACpB;CACJ;;;;;;ACdD,MAgBa,4BAA4B;;;;;;;;IA6BvC,YACU,eAAuC,EAC3B,GAAsB,EACf,QAAgB,EACR,SAAc,EAC7B,UAAwB;QAJpC,oBAAe,GAAf,eAAe,CAAwB;QAC3B,QAAG,GAAH,GAAG,CAAmB;QACf,aAAQ,GAAR,QAAQ,CAAQ;QACR,cAAS,GAAT,SAAS,CAAK;QAC7B,eAAU,GAAV,UAAU,CAAc;QA7BpC,WAAM,GAAG,IAAI,YAAY,EAAS,CAAC;QACnC,WAAM,GAAG,IAAI,YAAY,EAAO,CAAC;QAInC,iBAAY,GAAG;YACrB,EAAE,KAAK,EAAE,KAAK,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,+BAA+B,CAAC,EAAE;YAClF,EAAE,KAAK,EAAE,KAAK,EAAE,IAAI,EAAE,KAAK,EAAE;YAC7B,EAAE,KAAK,EAAE,SAAS,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,+BAA+B,CAAC,EAAE;SACvF,CAAC;QAEF,SAAI,GAAG;YACL,EAAE,KAAK,EAAE,MAAM,EAAE,KAAK,EAAE,GAAG,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,gCAAgC,CAAC,EAAE;YACjG,EAAE,KAAK,EAAE,MAAM,EAAE,KAAK,EAAE,GAAG,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,gCAAgC,CAAC,EAAE;YACjG;gBACE,KAAK,EAAE,UAAU,EAAE,KAAK,EAAE,GAAG,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,wCAAwC,CAAC;gBACzG,SAAS,EAAE;oBACT,IAAI,EAAE,MAAM;oBACZ,OAAO,EAAE,EAAE,UAAU,EAAE,OAAO,EAAE,SAAS,EAAE,MAAM,EAAE,IAAI,EAAE,IAAI,CAAC,YAAY,EAAE;iBAC7E;aAAG;YACN;gBACE,KAAK,EAAE,OAAO,EAAE,KAAK,EAAE,GAAG,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,iCAAiC,CAAC;gBAC/F,SAAS,EAAE,EAAE,IAAI,EAAE,SAAS,EAAE,OAAO,EAAE,EAAE,QAAQ,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,+BAA+B,CAAC,EAAE,SAAS,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,8BAA8B,CAAC,EAAE,EAAE;aAAG;SAC7L,CAAC;QAOA,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,IAAI,IAAI,YAAY,CAAC,QAAQ,EAAE,SAAS,CAAC,CAAC;QAC3E,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,eAAe,CAAC,YAAY,CAAC,gBAAgB,IAAI,EAAE,CAAC;KAClF;;;;IAED,QAAQ;KACP;;;;IACD,OAAO;;cACC,UAAU,GAAG,EAAE;;cACf,QAAQ,GAAU,IAAI,CAAC,IAAI,CAAC,QAAQ;QAC1C,IAAI,QAAQ,IAAI,QAAQ,CAAC,MAAM,GAAG,CAAC,EAAE;YACnC,QAAQ,CAAC,OAAO;;;;YAAC,MAAM;;sBACf,IAAI,GAAG,IAAI,eAAe,CAAC,MAAM,CAAC,IAAI,CAAC,EAAE,EAAE,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC;gBACpF,IAAI,CAAC,YAAY,GAAG,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC;;gBAEzC,IAAI,CAAC,gBAAgB,GAAG,EAAE,CAAC;gBAC3B,IAAI,MAAM,CAAC,IAAI,CAAC,gBAAgB,IAAI,MAAM,CAAC,IAAI,CAAC,gBAAgB,CAAC,MAAM,GAAG,CAAC,EAAE;oBAC3E,KAAK,MAAM,CAAC,IAAI,MAAM,CAAC,IAAI,CAAC,gBAAgB,EAAE;;8BACtC,KAAK,sBAAG;4BACZ,IAAI,EAAE,CAAC,CAAC,IAAI;4BACZ,KAAK,EAAE,CAAC,CAAC,KAAK;4BACd,SAAS,EAAE,CAAC,CAAC,IAAI;4BACjB,GAAG,EAAE,YAAY;yBAClB,EAAmB;wBACpB,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;qBACnC;iBACF;gBACD,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;aACvB,EAAC,CAAC;SACJ;QACD,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;KAC9B;;;;IACD,WAAW;QACT,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;KACxB;;;YA5EF,SAAS,SAAC;gBACT,QAAQ,EAAE,2BAA2B;gBACrC,kwBAAqD;gBAErD,SAAS,EAAE;oBACR,YAAY;iBACd;;aACF;;;;YAdQ,sBAAsB;YAD2C,iBAAiB,uBA+CtF,QAAQ;yCACR,MAAM,SAAC,SAAS;4CAChB,MAAM,SAAC,iBAAiB;YA5CD,YAAY,uBA6CnC,QAAQ;;;mBAhCV,SAAS,SAAC,MAAM;qBAChB,SAAS,SAAC,QAAQ;qBAElB,MAAM;qBACN,MAAM;;;;;;;ACtBT,MAsBa,wBAAwB;;;;;;;;;;;;;IAkFnC,YACU,aAAqC,EACrC,IAAuB,EACvB,QAAkC,EAClC,QAAkB,EAClB,YAA4B,EAC5B,OAAwB,EACZ,GAAsB,EACf,QAAgB,EACR,SAAc,EAC7B,UAAwB;QATpC,kBAAa,GAAb,aAAa,CAAwB;QACrC,SAAI,GAAJ,IAAI,CAAmB;QACvB,aAAQ,GAAR,QAAQ,CAA0B;QAClC,aAAQ,GAAR,QAAQ,CAAU;QAClB,iBAAY,GAAZ,YAAY,CAAgB;QAC5B,YAAO,GAAP,OAAO,CAAiB;QACZ,QAAG,GAAH,GAAG,CAAmB;QACf,aAAQ,GAAR,QAAQ,CAAQ;QACR,cAAS,GAAT,SAAS,CAAK;QAC7B,eAAU,GAAV,UAAU,CAAc;QA1F9C,QAAG,GAAG,8BAA8B,CAAC;QAC3B,eAAU,GAAG,IAAI,YAAY,EAAO,CAAC;QACrC,gBAAW,GAAG,IAAI,YAAY,EAAO,CAAC;QAEvC,iBAAY,GAAQ,EAAE,CAAC;QAEhC,gBAAW,GAAG;YACZ,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,2CAA2C,CAAC;YAC7E,KAAK,EAAE,GAAG;YACV,MAAM,EAAE,GAAG;YACX,WAAW,EAAE,IAAI;SAClB,CAAC;QAyBM,iBAAY,GAAG;YACrB,EAAE,KAAK,EAAE,KAAK,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,+BAA+B,CAAC,EAAE;YAClF,EAAE,KAAK,EAAE,KAAK,EAAE,IAAI,EAAE,KAAK,EAAE;YAC7B,EAAE,KAAK,EAAE,SAAS,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,4BAA4B,CAAC,EAAE;SACpF,CAAC;QACF,YAAO,GAAsB,EAAE,CAAC;QAEhC,YAAO,GAAG;YACR,EAAE,KAAK,EAAE,MAAM,EAAE,KAAK,EAAE,GAAG,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,gCAAgC,CAAC,EAAE;YACjG,EAAE,KAAK,EAAE,MAAM,EAAE,KAAK,EAAE,GAAG,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,gCAAgC,CAAC,EAAE;YACjG;gBACE,KAAK,EAAE,cAAc,EAAE,KAAK,EAAE,GAAG,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,wCAAwC,CAAC;gBAC7G,SAAS,EAAE;oBACT,IAAI,EAAE,MAAM;oBACZ,OAAO,EAAE,EAAE,UAAU,EAAE,OAAO,EAAE,SAAS,EAAE,MAAM,EAAE,IAAI,EAAE,IAAI,CAAC,YAAY,EAAE;iBAC7E;aACF;SAMF,CAAC;QACF,iBAAY,GAAG;YACb,EAAE,KAAK,EAAE,MAAM,EAAE,KAAK,EAAE,EAAE,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,qCAAqC,CAAC,EAAE;YACrG,EAAE,KAAK,EAAE,WAAW,EAAE,KAAK,EAAE,EAAE,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,qCAAqC,CAAC,EAAE;YAC1G;gBACE,KAAK,EAAE,OAAO,EAAE,KAAK,EAAE,GAAG,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,iCAAiC,CAAC;gBAC/F,MAAM,EAAE;oBACN,IAAI,EAAE,aAAa;oBACnB,OAAO,EAAE;wBACP,SAAS,EAAE,sCAAsC;wBACjD,QAAQ,EAAE,KAAK;wBACf,WAAW;;;;wBAAE,CAAC,CAAC;4BACb,CAAC,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC,CAAC,QAAQ,CAAC,KAAK,GAAG,CAAC,CAAC,QAAQ,CAAC,KAAK,GAAG,EAAE,CAAC,CAAC;4BACjE,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC;yBACtB,CAAA;wBACD,KAAK;;;;wBAAE,CAAC,CAAC;4BACP,OAAO,CAAC,GAAG,CAAC,OAAO,EAAE,CAAC,CAAC,CAAC;yBACzB,CAAA;qBACF;iBACF;aACF;SACF,CAAC;QAaA,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,IAAI,IAAI,YAAY,CAAC,QAAQ,EAAE,SAAS,CAAC,CAAC;KAC3E;;;;;IAjFF,IAAa,KAAK,CAAC,IAAW;QAC5B,IAAI,IAAI,IAAI,IAAI,CAAC,MAAM,GAAG,CAAC,EAAE;YAC3B,KAAK,MAAM,CAAC,IAAI,IAAI,EAAE;;sBACd,MAAM,GAAG,IAAI,eAAe,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC,IAAI,CAAC;gBACxD,MAAM,CAAC,YAAY,GAAG,CAAC,CAAC,YAAY,CAAC;gBACrC,MAAM,CAAC,gBAAgB,GAAG,EAAE,CAAC;gBAC7B,IAAI,CAAC,CAAC,gBAAgB,IAAI,CAAC,CAAC,gBAAgB,CAAC,MAAM,GAAG,CAAC,EAAE;oBACvD,KAAK,MAAM,CAAC,IAAI,CAAC,CAAC,gBAAgB,EAAE;;8BAC5B,CAAC,GAAG,IAAIA,iBAAe,EAAE;wBAC/B,CAAC,CAAC,IAAI,GAAG,CAAC,CAAC,IAAI,CAAC;wBAChB,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC,KAAK,CAAC;wBAClB,CAAC,CAAC,SAAS,GAAG,CAAC,CAAC,SAAS,CAAC;wBAC1B,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC,GAAG,CAAC;wBACd,MAAM,CAAC,gBAAgB,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;qBACjC;iBACF;gBACD,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;aAC3B;SACF;KACF;;;;IAgED,QAAQ;KAEP;;;;IACD,eAAe;QACb,IAAI,CAAC,QAAQ,EAAE,CAAC;;;;;KAKjB;;;;IACD,UAAU;;cACF,WAAW,GAAG,IAAI,CAAC,QAAQ,CAAC,uBAAuB,CAAC,4BAA4B,CAAC;;cACjF,OAAO,GAAG,WAAW,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC;;cAC3C,WAAW,GAAiB;YAChC,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,sCAAsC,CAAC;YACxE,KAAK,EAAE,GAAG;YACV,MAAM,EAAE,GAAG;YACX,WAAW,EAAE,IAAI;YACjB,OAAO,EAAE,OAAO,CAAC,QAAQ,CAAC,MAAM;SACjC;;cACK,MAAM,GAAG,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,OAAO,EAAE,WAAW,CAAC;QAC3D,OAAO,CAAC,QAAQ,CAAC,MAAM,CAAC,SAAS;;;;QAAC,CAAC,IAAuB;YACxD,IAAI,IAAI,IAAI,IAAI,CAAC,MAAM,GAAG,CAAC,EAAE;gBAC3B,KAAK,MAAM,CAAC,IAAI,IAAI,EAAE;;0BACd,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC,SAAS;;;;oBAAC,GAAG,IAAI,GAAG,CAAC,IAAI,KAAK,CAAC,CAAC,IAAI,EAAC;oBAChE,IAAI,KAAK,GAAG,CAAC,CAAC,EAAE;wBACd,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,yCAAyC,CAAC,CAAC,CAAC;wBACxF,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;qBAC/B;oBACD,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;iBACtB;gBACD,IAAI,CAAC,QAAQ,EAAE,CAAC;aACjB;YACD,MAAM,CAAC,KAAK,EAAE,CAAC;SAChB,EAAC,CAAC;QACH,OAAO,CAAC,QAAQ,CAAC,MAAM,CAAC,SAAS;;;;QAAC,MAAM,IAAI,MAAM,CAAC,KAAK,EAAE,EAAC,CAAC;KAC7D;;;;IACD,MAAM;QACJ,IAAI,CAAC,UAAU,CAAC,WAAW,EAAE,CAAC;QAC9B,IAAI,IAAI,CAAC,UAAU,CAAC,WAAW,IAAI,IAAI,CAAC,UAAU,CAAC,WAAW,CAAC,IAAI,EAAE;;kBAC7D,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC,SAAS;;;;YAAC,CAAC,IAAI,CAAC,CAAC,IAAI,KAAK,IAAI,CAAC,UAAU,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,EAAC;YACvF,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;YAC1B,IAAI,CAAC,QAAQ,EAAE,CAAC;;;;;;;SAOjB;aAAM;YACL,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,uCAAuC,CAAC,CAAC,CAAC;SACvF;KACF;;;;IAED,OAAO;QACL,IAAI,CAAC,UAAU,CAAC,WAAW,EAAE,CAAC;QAC9B,IAAI,CAAC,SAAS,IAAI,IAAI,CAAC,SAAS,CAAC,WAAW,EAAE,CAAC;;cAEzC,MAAM,GAAG,EAAE,KAAK,EAAE,IAAI,CAAC,OAAO,EAAE,UAAU,EAAE,IAAI,EAAE;QACxD,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;KAC/B;;;;IAED,WAAW;QACT,IAAI,CAAC,UAAU,CAAC,IAAI,EAAE,CAAC;KACxB;;;;IACD,QAAQ;QACN,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;QACvC,IAAI,IAAI,CAAC,OAAO,CAAC,MAAM,GAAG,CAAC,KAAK,CAAC,IAAI,CAAC,UAAU,CAAC,WAAW,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,WAAW,CAAC,IAAI,CAAC,EAAE;YAClG,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,IAAI,CAAC,CAAC;SACrD;aAAM;YACL,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;SACvB;KACF;;;;;IAED,aAAa,CAAC,IAAS;QACrB,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,IAAI,CAAC;KAC5B;;;;;IAED,YAAY,CAAC,CAAM;;YACb,OAAO,GAAG,IAAI,KAAK,EAAa;;;;;QAKpC,IAAI,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE;YACzC,KAAK,MAAM,MAAM,IAAI,IAAI,CAAC,aAAa,CAAC,OAAO,EAAE;gBAC/C,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,QAAQ,EAAE,MAAM,CAAC,CAAC;aACvC;YACD,IAAI,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,WAAW,IAAI,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC,MAAM,GAAG,CAAC,EAAE;;sBAC/F,UAAU,GAAG,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC;gBAC/D,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,UAAU,CAAC,IAAI,EAAE,QAAQ,EACnD,UAAU,CAAC,IAAI,EAAE,YAAY,CAAC,UAAU,CAAC,CAAC;aAC7C;SACF;QACD,OAAO,GAAG,IAAI,CAAC,aAAa,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC;QACjD,IAAI,IAAI,CAAC,aAAa,CAAC,kBAAkB,CAAC,MAAM,GAAG,CAAC,EAAE;YACpD,KAAK,MAAM,QAAQ,IAAI,IAAI,CAAC,aAAa,CAAC,kBAAkB,EAAE;gBAC5D,IAAI,CAAC,OAAO,CAAC,IAAI;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,GAAG,KAAK,QAAQ,CAAC,GAAG,EAAC,EAAE;oBAC9C,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;iBACxB;;aAEF;SACF;QACD,IAAI,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE;YACtB,KAAK,MAAM,CAAC,IAAI,OAAO,EAAE;gBACvB,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;aACzB;SACF;;QAED,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;;QAE9C,IAAI,CAAC,IAAI,CAAC,eAAe,EAAE,CAAC,IAAI;;;;QAAC,CAAC,cAAsB;YACtD,CAAC,CAAC,WAAW,CAAC,QAAQ,CAAC,cAAc,CAAC,CAAC;YACvC,CAAC,CAAC,QAAQ,CAAC,EAAE,CAAC,aAAa,EAAE,CAAC;;YAE9B,IAAG,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE;gBACrB,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,eAAe,GAAG,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,eAAe,CAAC,MAAM;;;;gBAAC,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,GAAG,KAAK,CAAC,CAAC,GAAG,EAAC,EAAC,CAAC;aAC9H;SACF,EAAC,CAAC;KACJ;;;YAhOF,SAAS,SAAC;gBACT,QAAQ,EAAE,sBAAsB;gBAChC,imFAAgD;gBAEhD,SAAS,EAAE;oBACR,YAAY;iBACd;;aACF;;;;YAjBQ,sBAAsB;YACtB,iBAAiB;YALoE,wBAAwB;YAAE,QAAQ;YAMvH,cAAc;YAGd,eAAe;YATyH,iBAAiB,uBA+G7J,QAAQ;yCACR,MAAM,SAAC,SAAS;4CAChB,MAAM,SAAC,iBAAiB;YAtGD,YAAY,uBAuGnC,QAAQ;;;kBA3FV,WAAW,SAAC,OAAO;yBAEnB,MAAM;0BACN,MAAM;2BAEN,KAAK;0BACL,SAAS,SAAC,kBAAkB;oBAO5B,KAAK;yBAqBL,SAAS,SAAC,YAAY;wBACtB,SAAS,SAAC,WAAW;;MAuLX,wBAAwB;;;;IACnC,YACU,UAAwB;QAAxB,eAAU,GAAV,UAAU,CAAc;KAC7B;;;;;IAEL,SAAS,CAAC,IAAW;QACnB,IAAI,IAAI,IAAI,IAAI,CAAC,MAAM,GAAG,CAAC,EAAE;YAC3B,OAAO,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,+BAA+B,CAAC,CAAC;SACnE;aAAM;YACL,OAAO,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,kCAAkC,CAAC,CAAC;SACtE;KACF;CACF;;;;;;AC7PD,MAEa,eAAe;IAWxB;QACI,IAAI,CAAC,EAAE,GAAG,aAAa,CAAC,iBAAiB,EAAE,CAAC;QAC5C,IAAI,CAAC,SAAS,GAAG,QAAQ,CAAC;KAC7B;CACJ;;;;;;ACjBD,MAWa,qBAAqB;;;;;;;IAShC,YACsB,GAAsB,EACf,QAAgB,EACR,SAAc,EAC7B,UAAwB;QAHxB,QAAG,GAAH,GAAG,CAAmB;QACf,aAAQ,GAAR,QAAQ,CAAQ;QACR,cAAS,GAAT,SAAS,CAAK;QAC7B,eAAU,GAAV,UAAU,CAAc;QATpC,iBAAY,GAAG,IAAI,YAAY,EAAO,CAAC;QACvC,kBAAa,GAAG,IAAI,YAAY,EAAU,CAAC;KAShD;;;;IAEL,QAAQ;KACP;;;;IAED,OAAO;QACL,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;KACrC;;;;IAED,WAAW;QACT,IAAI,CAAC,YAAY,CAAC,IAAI,EAAE,CAAC;KAC1B;;;YAjCF,SAAS,SAAC;gBACT,QAAQ,EAAE,mBAAmB;gBAC7B,+vBAA6C;gBAE7C,SAAS,EAAE;oBACR,YAAY;iBACd;;aACF;;;;YAVgF,iBAAiB,uBAqB7F,QAAQ;yCACR,MAAM,SAAC,SAAS;4CAChB,MAAM,SAAC,iBAAiB;YAtBD,YAAY,uBAuBnC,QAAQ;;;qBAXV,SAAS,SAAC,QAAQ;2BAElB,MAAM;4BACN,MAAM;oBACN,KAAK;;;;;;;ACjBR,MAOa,0BAA0B;;;;IACnC,YACY,IAAiB;QAAjB,SAAI,GAAJ,IAAI,CAAa;KAE5B;;;;;;IAED,OAAO,CAAC,GAAW,EAAE,MAAqB;;cAChC,UAAU,GAAG,MAAM,CAAC,UAAU;;cAC9B,KAAK,GAAG,MAAM,CAAC,SAAS,IAAI,CAAC;;cAC7B,IAAI,GAAG,MAAM,CAAC,QAAQ,IAAI,EAAE;;cAC5B,WAAW,GAAG,MAAM,CAAC,WAAW;QACtC,IAAI,UAAU,CAAC,MAAM,EAAE;;gBACf,KAAK,GAAG,WAAW,UAAU,CAAC,MAAM,cAAc,KAAK,aAAa,IAAI,EAAE;YAC9E,IAAI,WAAW,EAAE;gBACb,KAAK,IAAI,gBAAgB,WAAW,EAAE,CAAC;aAC1C;YACD,GAAG,IAAI,KAAK,CAAC;YACb,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;SAC7B;KACJ;;;YApBJ,UAAU;;;;YAJF,WAAW;;;;;;;ACFpB,MAKa,oBAAoB;;;;IAC7B,YACY,IAAiB;QAAjB,SAAI,GAAJ,IAAI,CAAa;KAE5B;;;;;;IAED,eAAe,CAAC,MAAc,EAAE,EAAU;;cAChC,GAAG,GAAG,sCAAsC,MAAM,EAAE;QAC1D,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;KAC7B;;;YAVJ,UAAU;;;;YAHF,WAAW;;;;;;;ACDpB,MACa,eAAe;IAWxB;QACI,IAAI,CAAC,EAAE,GAAG,aAAa,CAAC,iBAAiB,EAAE,CAAC;QAC5C,IAAI,CAAC,gBAAgB,GAAG,IAAI,KAAK,EAAE,CAAC;KACvC;CACJ;;;;;;AChBD,MAiCa,sBAAsB;;;;;;;;;;;;;;;;;;;IAoFjC,YACU,WAAwB,EACxB,aAAqC,EACrC,IAAuB,EACvB,QAAkC,EAClC,QAAkB,EAClB,UAA0B,EAC1B,YAA4B,EAC5B,gBAA4C,EAC5C,MAAc,EACd,OAA6B,EAC7B,IAAmB,EACnB,OAAwB,EACZ,GAAsB,EACf,QAAgB,EACR,SAAc,EAC7B,UAAwB;QAfpC,gBAAW,GAAX,WAAW,CAAa;QACxB,kBAAa,GAAb,aAAa,CAAwB;QACrC,SAAI,GAAJ,IAAI,CAAmB;QACvB,aAAQ,GAAR,QAAQ,CAA0B;QAClC,aAAQ,GAAR,QAAQ,CAAU;QAClB,eAAU,GAAV,UAAU,CAAgB;QAC1B,iBAAY,GAAZ,YAAY,CAAgB;QAC5B,qBAAgB,GAAhB,gBAAgB,CAA4B;QAC5C,WAAM,GAAN,MAAM,CAAQ;QACd,YAAO,GAAP,OAAO,CAAsB;QAC7B,SAAI,GAAJ,IAAI,CAAe;QACnB,YAAO,GAAP,OAAO,CAAiB;QACZ,QAAG,GAAH,GAAG,CAAmB;QACf,aAAQ,GAAR,QAAQ,CAAQ;QACR,cAAS,GAAT,SAAS,CAAK;QAC7B,eAAU,GAAV,UAAU,CAAc;QAlG9C,QAAG,GAAG,8BAA8B,CAAC;QAO3B,iBAAY,GAAG,IAAI,YAAY,EAAO,CAAC;QACvC,kBAAa,GAAG,IAAI,YAAY,EAAO,CAAC;QAGlD,oBAAe,GAAG,KAAK,CAAC;QAEhB,eAAU,GAAQ,IAAI,eAAe,EAAE,CAAC;QAkChD,YAAO,GAAG;YACR,EAAE,KAAK,EAAE,MAAM,EAAE,KAAK,EAAE,GAAG,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,yCAAyC,CAAC,EAAE;YAC1G;gBACE,KAAK,EAAE,OAAO,EAAE,KAAK,EAAE,GAAG,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,0CAA0C,CAAC;gBACxG,MAAM,EAAE;oBACN,IAAI,EAAE,aAAa;oBACnB,OAAO,EAAE;wBACP,SAAS,EAAE,sCAAsC;wBACjD,QAAQ,EAAE,KAAK;wBACf,WAAW;;;;wBAAE,CAAC,CAAC;4BACb,CAAC,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC,CAAC,QAAQ,CAAC,KAAK,GAAG,CAAC,CAAC,QAAQ,CAAC,KAAK,GAAG,EAAE,CAAC,CAAC;4BACjE,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC;yBACtB,CAAA;wBACD,KAAK;;;;wBAAE,CAAC,CAAC;4BACP,OAAO,CAAC,GAAG,CAAC,OAAO,EAAE,CAAC,CAAC,CAAC;yBACzB,CAAA;qBACF;iBACF;aACF;SACF,CAAC;QAEF,eAAU,GAA+D;YACvE,OAAO,EAAE,EAAE;YACX,UAAU,EAAE,EAAE;YACd,SAAS,EAAE,EAAE;SACd,CAAC;QACF,YAAO,GAAG,6CAA6C,CAAC;QAGxD,aAAQ,GAAG,EAAE,CAAC;QACd,gBAAW,GAAG,MAAM,CAAC;QACrB,UAAK,GAAG,EAAE,CAAC;QA+EX,eAAU;;;;QAAG,CAAC,KAAmB;;kBACzB,OAAO,sBAAG,KAAK,CAAC,OAAO,EAAO;YACpC,QAAQ,OAAO,CAAC,cAAc;gBAC5B,KAAK,uBAAuB,CAAC,OAAO;oBAClC,KAAK,CAAC,MAAM,CAAC,MAAM,GAAG;wBACpB,IAAI,EAAE,aAAa;wBACnB,OAAO,EAAE;4BACP,SAAS,EAAE,sCAAsC;4BACjD,QAAQ,EAAE,KAAK;4BACf,WAAW;;;;4BAAE,CAAC,CAAC;gCACb,CAAC,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC,CAAC,QAAQ,CAAC,KAAK,GAAG,CAAC,CAAC,QAAQ,CAAC,KAAK,GAAG,EAAE,CAAC,CAAC;gCACjE,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC;6BACtB,CAAA;4BACD,KAAK;;;;4BAAE,CAAC,CAAC;gCACP,OAAO,CAAC,GAAG,CAAC,OAAO,EAAE,CAAC,CAAC,CAAC;6BACzB,CAAA;yBACF;qBACF,CAAC;oBACF,MAAM;gBACR,KAAK,uBAAuB,CAAC,IAAI;oBAC/B,KAAK,CAAC,MAAM,CAAC,MAAM,GAAG;wBACpB,IAAI,EAAE,aAAa;wBACnB,OAAO,EAAE;4BACP,SAAS,EAAE,sCAAsC;4BACjD,QAAQ,EAAE,KAAK;4BACf,WAAW;;;;4BAAE,CAAC,CAAC;gCACb,CAAC,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC,CAAC,QAAQ,CAAC,KAAK,GAAG,CAAC,CAAC,QAAQ,CAAC,KAAK,GAAG,EAAE,CAAC,CAAC;gCACjE,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC;6BACtB,CAAA;4BACD,KAAK;;;;4BAAE,CAAC,CAAC;gCACP,OAAO,CAAC,GAAG,CAAC,OAAO,EAAE,CAAC,CAAC,CAAC;6BACzB,CAAA;yBACF;qBACF,CAAC;oBACF,MAAM;gBACR,KAAK,uBAAuB,CAAC,KAAK;oBAChC,KAAK,CAAC,MAAM,CAAC,MAAM,GAAG,EAAE,IAAI,EAAE,WAAW,CAAC,OAAO,EAAE,OAAO,EAAE,EAAE,EAAE,CAAC;oBACjE,MAAM;gBACR,KAAK,uBAAuB,CAAC,IAAI;oBAC/B,KAAK,CAAC,MAAM,CAAC,MAAM,GAAG,EAAE,IAAI,EAAE,WAAW,CAAC,OAAO,EAAE,OAAO,EAAE,EAAE,EAAE,CAAC;oBACjE,MAAM;gBACR,KAAK,uBAAuB,CAAC,IAAI;oBAC/B,KAAK,CAAC,MAAM,CAAC,MAAM,GAAG;wBACpB,IAAI,EAAE,aAAa;wBACnB,OAAO,EAAE;4BACP,SAAS,EAAE,sCAAsC;4BACjD,QAAQ,EAAE,KAAK;4BACf,WAAW;;;;4BAAE,CAAC,CAAC;gCACb,IAAI,CAAC,IAAI,GAAG,CAAC,CAAC;gCACd,IAAI,CAAC,MAAM,GAAG,oBAAC,OAAO,CAAC,iBAAiB,IAA2B,MAAM,CAAC;gCAC1E,IAAI,CAAC,EAAE,GAAG,oBAAC,OAAO,CAAC,iBAAiB,IAA2B,WAAW,CAAC;gCAC3E,IAAI,CAAC,WAAW,EAAE,CAAC,SAAS;;;;gCAAC,EAAE;oCAC7B,OAAO,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC;;0CACV,IAAI,GAAG,EAAE;;0CACT,IAAI,sBAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,OAAO,CAAC,EAAO;oCAC5C,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC;oCACxC,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,WAAW,CAAC;oCACpC,IAAI,CAAC,UAAU,GAAG;wCAChB,OAAO,EAAE,IAAI,CAAC,OAAO;wCACrB,UAAU,EAAE,IAAI,CAAC,UAAU;wCAC3B,SAAS,EAAE,IAAI,CAAC,SAAS;qCAC1B,CAAC;oCACF,IAAI,CAAC,MAAM,CAAC,OAAO,EAAE,CAAC;oCACtB,IAAI,CAAC,MAAM,CAAC,UAAU,EAAE,CAAC;iCAC1B;;;;gCAAE,GAAG;oCACF,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,4CAA4C,CAAC,CAAC,CAAC;iCAC/F,EAAC,CAAC;6BACJ,CAAA;4BACD,KAAK;;;;4BAAE,CAAC,CAAC;gCACP,OAAO,CAAC,GAAG,CAAC,OAAO,EAAE,CAAC,CAAC,CAAC;6BACzB,CAAA;yBACF;qBACF,CAAC;oBACF,MAAM;aACT;YACD,OAAOD,IAAE,CAAC,IAAI,CAAC,CAAC;SACjB,EAAA;QACD,cAAS;;;;;;QAAG,CAAC,QAAgB,EAAE,OAAY,EAAE,MAAmB;YAC9D,OAAOA,IAAE,CAAC,IAAI,CAAC,CAAC;SACjB,EAAA;QA+FD,gBAAW;;;QAAG;YACZ,OAAOA,IAAE,CAAC;gBACR,UAAU,EAAE,IAAI,EAAE,IAAI,EAAE;oBACtB,MAAM,EAAE,IAAI,CAAC,MAAM;iBACpB;aACF,CAAC,CAAC;SACJ,EAAA;QACD,eAAU;;;;QAAG,CAAC,OAAO;YACnB,IAAI,IAAI,CAAC,IAAI,EAAE;gBACb,OAAO,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;gBACrB,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,OAAO,EAAE,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC,CAAC,CAAC;gBACxF,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,aAAa,EAAE,CAAC;gBACtC,OAAOA,IAAE,CAAC,IAAI,CAAC,CAAC;aACjB;SACF,EAAA;QArPC,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,IAAI,IAAI,YAAY,CAAC,QAAQ,EAAE,SAAS,CAAC,CAAC;KAC5E;;;;;IAvFD,IACI,SAAS,CAAC,GAAoB;QAChC,IAAI,GAAG,IAAI,GAAG,CAAC,UAAU,EAAE;YACzB,IAAI,CAAC,OAAO,CAAC,eAAe,CAAC,GAAG,CAAC,UAAU,EAAE,EAAE,CAAC,CAAC,SAAS;;;;YAAC,EAAE;;sBACrD,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,OAAO,CAAC;;sBAC1B,SAAS,GAAG,CAAC,CAAC,UAAU,CAAC,IAAI;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,IAAI,KAAK,GAAG,CAAC,UAAU,EAAC;gBACnE,IAAI,SAAS,EAAE;oBACb,GAAG,CAAC,gBAAgB,GAAG,GAAG,CAAC,gBAAgB,CAAC,GAAG;;;;oBAAC,CAAC;;8BACzC,CAAC,GAAG,SAAS,CAAC,UAAU,CAAC,IAAI;;;;wBAAC,CAAC,IAAI,CAAC,CAAC,IAAI,KAAK,CAAC,CAAC,IAAI,EAAC;wBAC3D,IAAI,CAAC,EAAE;4BACL,yBACK,CAAC,IACJ,cAAc,EAAE,CAAC,CAAC,cAAc,EAChC,iBAAiB,EAAE,CAAC,CAAC,iBAAiB,IACtC;yBACH;6BAAM;4BACL,MAAM,IAAI,KAAK,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,kDAAkD,CAAC,CAAC,CAAC;yBAChG;qBACF,EAAC,CAAC;oBACH,IAAI,CAAC,UAAU,GAAG,GAAG,CAAC;iBACvB;qBAAM;oBACL,MAAM,IAAI,KAAK,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,0CAA0C,CAAC,CAAC,CAAC;iBACxF;aACF,EAAC,CAAC;SACJ;aAAM;YACL,IAAI,CAAC,UAAU,GAAG,IAAI,eAAe,EAAE,CAAC;SACzC;KACF;;;;IACD,IAAI,SAAS;QACX,OAAO,IAAI,CAAC,UAAU,CAAC;KACxB;;;;IA2DD,QAAQ;KACP;;;;IACD,eAAe;QACb,IAAI,CAAC,MAAM,CAAC,iBAAiB;;;QAAC;YAC5B,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC,gBAAgB,CAC5C,YAAY,EACZ,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,CAC7B,CAAC;YACF,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC,gBAAgB,CAC5C,YAAY,EACZ,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,CAC7B,CAAC;SACH,EAAC,CAAC;KACJ;;;;;IAED,YAAY,CAAC,KAAK;QAChB,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;QAC5B,IAAI,IAAI,CAAC,eAAe,EAAE;YACxB,IAAI,CAAC,eAAe,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC;SACnC;KACF;;;;;IACD,YAAY,CAAC,KAAK;QAChB,IAAI,CAAC,eAAe,GAAG,KAAK,CAAC;QAC7B,IAAI,CAAC,eAAe,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC;KACpC;;;;;;;IAEO,eAAe,CAAC,KAAU,EAAE,MAAM,GAAG,KAAK;;cAC1C,GAAG,GAAG,MAAM,GAAG,EAAE,GAAG,MAAM;;cAC1B,SAAS,GAAG,KAAK,CAAC,MAAM,CAAC,aAAa,CAAC,oBAAoB,CAAC;QAClE,IAAI,SAAS,EAAE;YACb,SAAS,CAAC,KAAK,CAAC,OAAO,GAAG,GAAG,CAAC;SAC/B;KACF;;;;IAGD,OAAO;QACL,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC;QACxB,IAAI,IAAI,CAAC,SAAS,EAAE,EAAE;YACpB,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;SACzC;aAAM;YACL,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,6CAA6C,CAAC,CAAC,CAAC;SAC7F;KACF;;;;IAED,WAAW;QACT,IAAI,CAAC,YAAY,CAAC,IAAI,EAAE,CAAC;KAC1B;;;;;IAEO,SAAS;QACf,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,UAAU,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,UAAU,EAAE;YAC5D,OAAO,KAAK,CAAC;SACd;QACD,OAAO,IAAI,CAAC;KACb;;;;IAkFD,KAAK;QACH,IAAI,CAAC,SAAS,GAAG,IAAI,eAAe,EAAE,CAAC;KACxC;;;;IACD,eAAe;;cACP,WAAW,GAAG,IAAI,CAAC,QAAQ,CAAC,uBAAuB,CAAC,yBAAyB,CAAC;;cAC9E,OAAO,GAAG,WAAW,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC;QACjD,OAAO,CAAC,QAAQ,CAAC,QAAQ,GAAG,qBAAqB,CAAC;QAClD,OAAO,CAAC,QAAQ,CAAC,gBAAgB,CAAC,SAAS;;;;QAAC,CAAC,MAAuB;YAClE,IAAI;;sBACI,IAAI,GAAgB,MAAM,CAAC,QAAQ;gBACzC,IAAI,CAAC,wBAAwB,CAAC,IAAI,CAAC,EAAE,EAAE,IAAI,CAAC,UAAU,CAAC,gBAAgB,EAAE,CAAC,CAAC;aAC5E;YAAC,WAAM;gBACN,OAAO,CAAC,GAAG,CAAC,QAAQ,EAAE,MAAM,CAAC,CAAC;gBAC9B,MAAM,IAAI,KAAK,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,gDAAgD,CAAC,GAAG,MAAM,CAAC,CAAC;aACvG;SACF,EAAC,CAAC;;cAEG,WAAW,GAAG;YAClB,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,8CAA8C,CAAC;YAChF,KAAK,EAAE,GAAG;YACV,MAAM,EAAE,GAAG;YACX,WAAW,EAAE,KAAK;SACnB;;cACK,MAAM,GAAG,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,OAAO,EAAE,WAAW,CAAC;QAC3D,OAAO,CAAC,QAAQ,CAAC,iBAAiB,CAAC,SAAS;;;;QAAC,MAAM,IAAI,MAAM,CAAC,KAAK,EAAE,EAAC,CAAC;KACxE;;;;;;;IACO,wBAAwB,CAAC,UAAkB,EAAE,SAAiB;QACpE,IAAI,CAAC,gBAAgB,CAAC,YAAY,CAAC,UAAU,EAAE,SAAS,CAAC,CAAC,SAAS;;;;QACjE,CAAC,cAA8B;YAC7B,cAAc,CAAC,YAAY,CAAC,SAAS;;;;YACnC,CAAC,MAAoB;gBACnB,IAAI,MAAM,EAAE;oBACV,IAAI,CAAC,SAAS,CAAC,IAAI,GAAG,MAAM,CAAC,IAAI,CAAC;oBAClC,IAAI,CAAC,SAAS,CAAC,UAAU,GAAG,MAAM,CAAC,EAAE,CAAC;oBACtC,IAAI,CAAC,SAAS,CAAC,UAAU,GAAG,MAAM,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC;;oBAEtD,IAAI,CAAC,SAAS,CAAC,gBAAgB,GAAG,EAAE,CAAC;oBAErC,IAAI,MAAM,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,UAAU,IAAI,MAAM,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC,MAAM,GAAG,CAAC,EAAE;wBACjF,IAAI,CAAC,SAAS,CAAC,gBAAgB,GAAG,MAAM,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,UAAU;6BAC9D,GAAG;;;;wBAAC,CAAC,CAAsB,MAC1B;4BACE,IAAI,EAAE,CAAC,CAAC,IAAI,EAAE,KAAK,EAAE,EAAE,EAAE,GAAG,EAAE,CAAC,CAAC,cAAc,CAAC,OAAO,CAAC,cAAc,CAAC,GAAG,CAAC,CAAC,GAAG,YAAY,GAAG,UAAU;4BACvG,cAAc,EAAE,CAAC,CAAC,cAAc;4BAChC,iBAAiB,EAAE,CAAC,CAAC,iBAAiB;yBACvC,CAAC,EAAC,CAAC;qBACT;iBACF;aACF,EAAC,CAAC;SACN,EAAC,CAAC;KACN;;;;;IACD,YAAY,CAAC,CAAM;;QAEjB,IAAI,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE;YACzC,KAAK,MAAM,MAAM,IAAI,IAAI,CAAC,aAAa,CAAC,OAAO,EAAE;gBAC/C,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,QAAQ,EAAE,MAAM,CAAC,CAAC;aACvC;YACD,IAAI,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,WAAW,IAAI,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC,MAAM,GAAG,CAAC,EAAE;;sBAC/F,UAAU,GAAG,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC;gBAC/D,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,UAAU,CAAC,IAAI,EAAE,QAAQ,EACnD,UAAU,CAAC,IAAI,EAAE,YAAY,CAAC,UAAU,CAAC,CAAC;aAC7C;SACF;;YACG,OAAO,GAAG,IAAI,KAAK,EAAE;QACzB,OAAO,GAAG,IAAI,CAAC,aAAa,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC;QACjD,IAAI,IAAI,CAAC,aAAa,CAAC,kBAAkB,CAAC,MAAM,GAAG,CAAC,EAAE;YACpD,KAAK,MAAM,QAAQ,IAAI,IAAI,CAAC,aAAa,CAAC,kBAAkB,EAAE;gBAC5D,IAAI,CAAC,OAAO,CAAC,IAAI;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,GAAG,KAAK,QAAQ,CAAC,GAAG,EAAC,EAAE;oBAC9C,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;iBACxB;;aAEF;SACF;QACD,IAAI,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE;YACtB,KAAK,MAAM,CAAC,IAAI,OAAO,EAAE;gBACvB,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;aACzB;SACF;QACD,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;QAC9C,IAAI,CAAC,IAAI,CAAC,eAAe,EAAE,CAAC,IAAI;;;;QAAC,CAAC,CAAS;YACvC,CAAC,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;YAC1B,CAAC,CAAC,QAAQ,CAAC,EAAE,CAAC,aAAa,EAAE,CAAC;;YAE9B,IAAG,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE;gBACrB,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,eAAe,GAAG,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,eAAe,CAAC,MAAM;;;;gBAAC,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,GAAG,KAAK,CAAC,CAAC,GAAG,EAAC,EAAC,CAAC;aAC9H;SACJ,EAAC,CAAC;KACJ;;;;;IAEO,WAAW;QACjB,OAAO,IAAI,CAAC,OAAO,CAAC,eAAe,CAAC,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC,EAAE,CAAC,CAAC;KAC3D;;;YArVF,SAAS,SAAC;gBACT,QAAQ,EAAE,oBAAoB;gBAC9B,w6HAA8C;gBAE9C,SAAS,EAAE;oBACT,oBAAoB;oBACpB,EAAE,OAAO,EAAE,eAAe,EAAE,QAAQ,EAAE,0BAA0B,EAAE;oBACjE,YAAY;iBACd;;aACF;;;;YA/BmB,WAAW;YACtB,sBAAsB;YACtB,iBAAiB;YAHE,wBAAwB;YAAE,QAAQ;YAIrD,cAAc;YACd,cAAc;YACd,0BAA0B;YANuF,MAAM;YAgBvH,oBAAoB;YAEpB,aAAa;YACb,eAAe;YAnB6I,iBAAiB,uBAkIjL,QAAQ;yCACR,MAAM,SAAC,SAAS;4CAChB,MAAM,SAAC,iBAAiB;YAhHD,YAAY,uBAiHnC,QAAQ;;;kBAnGV,WAAW,SAAC,OAAO;mBAGnB,SAAS,SAAC,iBAAiB;qBAC3B,SAAS,SAAC,mBAAmB;qBAE7B,SAAS,SAAC,QAAQ;2BAElB,MAAM;4BACN,MAAM;yBAEN,SAAS,SAAC,YAAY;wBAItB,KAAK;;;;;;;ACjDR,MAyBa,yBAAyB;;;;;;;;;;;;;IAiHpC,YACU,OAAwB,EACxB,QAAkC,EAClC,QAAkB,EAClB,YAA4B,EAC5B,OAA+B,EAC/B,IAAuB,EACX,GAAsB,EACf,QAAgB,EACR,SAAc,EAC7B,UAAwB;QATpC,YAAO,GAAP,OAAO,CAAiB;QACxB,aAAQ,GAAR,QAAQ,CAA0B;QAClC,aAAQ,GAAR,QAAQ,CAAU;QAClB,iBAAY,GAAZ,YAAY,CAAgB;QAC5B,YAAO,GAAP,OAAO,CAAwB;QAC/B,SAAI,GAAJ,IAAI,CAAmB;QACX,QAAG,GAAH,GAAG,CAAmB;QACf,aAAQ,GAAR,QAAQ,CAAQ;QACR,cAAS,GAAT,SAAS,CAAK;QAC7B,eAAU,GAAV,UAAU,CAAc;QAzH9C,QAAG,GAAG,8BAA8B,CAAC;QAE5B,oBAAe,GAAG,KAAK,CAAC;QACvB,eAAU,GAAG,IAAI,YAAY,EAAO,CAAC;QACrC,gBAAW,GAAG,IAAI,YAAY,EAAO,CAAC;QACtC,uBAAkB,GAAG,IAAI,YAAY,EAAO,CAAC;QAE9C,UAAK,GAA2B,IAAI,KAAK,EAAE,CAAC;QAC5C,kBAAa,GAA2B,IAAI,KAAK,EAAE,CAAC;QACpD,iBAAY,GAAQ,EAAE,CAAC;QAIxB,eAAU,GAAG;YACnB,EAAE,KAAK,EAAE,QAAQ,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,mCAAmC,CAAC,EAAE;YACzF,EAAE,KAAK,EAAE,SAAS,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,oCAAoC,CAAC,EAAE;YAC3F,EAAE,KAAK,EAAE,SAAS,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,oCAAoC,CAAC,EAAE;YAC3F,EAAE,KAAK,EAAE,SAAS,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,oCAAoC,CAAC,EAAE;SAE5F,CAAC;QAEM,SAAI,GAAG;YACb,EAAE,KAAK,EAAE,UAAU,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,qCAAqC,CAAC,EAAE;YAC7F,EAAE,KAAK,EAAE,YAAY,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,uCAAuC,CAAC,EAAE;YACjG,EAAE,KAAK,EAAE,WAAW,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,sCAAsC,CAAC,EAAE;SAChG,CAAC;QAEF,YAAO,GAAG;YACR;gBACE,KAAK,EAAE,MAAM,EAAE,KAAK,EAAE,EAAE,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,iCAAiC,CAAC,EAAE,QAAQ,EAAE,IAAI;gBAC7G,MAAM,EAAE,EAAE,IAAI,EAAE,WAAW,CAAC,OAAO,EAAE,OAAO,EAAE,EAAE,EAAE;gBAClD,UAAU,EAAE;oBACV,EAAE,IAAI,EAAE,UAAU,EAAE,QAAQ,EAAE,IAAI,EAAE;iBACrC;aACF;YACD;gBACE,KAAK,EAAE,eAAe,EAAE,KAAK,EAAE,EAAE,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,0CAA0C,CAAC,EAAE,QAAQ,EAAE,IAAI;gBAC/H,MAAM,EAAE,EAAE,IAAI,EAAE,WAAW,CAAC,OAAO,EAAE,OAAO,EAAE,EAAE,EAAE;gBAClD,UAAU,EAAE;oBACV,EAAE,IAAI,EAAE,UAAU,EAAE,QAAQ,EAAE,IAAI,EAAE;iBACrC;aACF;YACD;gBACE,KAAK,EAAE,WAAW,EAAE,KAAK,EAAE,EAAE,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,sCAAsC,CAAC,EAAE,QAAQ,EAAE,IAAI;gBACvH,SAAS,EAAE;oBACT,IAAI,EAAE,MAAM;oBACZ,OAAO,EAAE,EAAE,UAAU,EAAE,OAAO,EAAE,SAAS,EAAE,MAAM,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,EAAE;iBAC3E;gBACD,MAAM,EAAE;oBACN,IAAI,EAAE,WAAW,CAAC,SAAS;oBAC3B,OAAO,EAAE,EAAE,UAAU,EAAE,OAAO,EAAE,SAAS,EAAE,MAAM,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,EAAE,OAAO,EAAE,OAAO,EAAE,WAAW,EAAE,MAAM,EAAE,SAAS,EAAE,KAAK,EAAE;iBACpI;gBACD,UAAU,EAAE;oBACV,EAAE,IAAI,EAAE,UAAU,EAAE,QAAQ,EAAE,IAAI,EAAE;iBACrC;aACF,EAAE;gBACD,KAAK,EAAE,aAAa,EAAE,KAAK,EAAE,GAAG,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,wCAAwC,CAAC,EAAE,QAAQ,EAAE,IAAI;gBAC5H,MAAM,EAAE,EAAE,IAAI,EAAE,WAAW,CAAC,OAAO,EAAE,OAAO,EAAE,EAAE,EAAE;aACnD,EAAE;gBACD,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,EAAE,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,gCAAgC,CAAC,EAAE,QAAQ,EAAE,IAAI;gBAC3G,SAAS,EAAE;oBACT,IAAI,EAAE,MAAM;oBACZ,OAAO,EAAE,EAAE,UAAU,EAAE,OAAO,EAAE,SAAS,EAAE,MAAM,EAAE,IAAI,EAAE,IAAI,CAAC,IAAI,EAAE;iBACrE;gBACD,MAAM,EAAE;oBACN,IAAI,EAAE,WAAW,CAAC,SAAS;oBAC3B,OAAO,EAAE;wBACP,UAAU,EAAE,OAAO,EAAE,SAAS,EAAE,MAAM,EAAE,IAAI,EAAE,IAAI,CAAC,IAAI,EAAE,OAAO,EAAE,OAAO,EAAE,WAAW,EAAE,MAAM;wBAC9F,YAAY;;;;wBAAE,CAAC,CAAC;4BACd,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG;;;;4BAAC,CAAC;gCAC3B,IAAI,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC,KAAK,EAAE;oCACpB,CAAC,CAAC,KAAK,GAAG,IAAI,CAAC;oCACf,CAAC,CAAC,SAAS,GAAG,IAAI,CAAC;oCACnB,IAAI,CAAC,CAAC,SAAS,EAAE;wCACf,CAAC,CAAC,SAAS,GAAG,IAAI,CAAC;qCACpB;oCACD,OAAO,CAAC,CAAC;iCACV;qCAAM;oCACL,OAAO,CAAC,CAAC;iCACV;6BACF,EAAC,CAAC;yBACJ,CAAA;wBACD,KAAK;;;;wBAAE,CAAC,CAAC;4BACP,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG;;;;4BAAC,CAAC;gCAC3B,IAAI,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC,KAAK,EAAE;oCACpB,CAAC,CAAC,KAAK,GAAG,IAAI,CAAC;oCACf,CAAC,CAAC,SAAS,GAAG,IAAI,CAAC;oCACnB,IAAI,CAAC,CAAC,SAAS,EAAE;wCACf,CAAC,CAAC,SAAS,GAAG,IAAI,CAAC;qCACpB;oCACD,OAAO,CAAC,CAAC;iCACV;qCAAM;oCACL,OAAO,CAAC,CAAC;iCACV;6BACF,EAAC,CAAC;yBACJ,CAAA;qBACF;iBACF;aACF,EAAE;gBACD,KAAK,EAAE,WAAW,EAAE,KAAK,EAAE,GAAG,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,sCAAsC,CAAC,EAAE,QAAQ,EAAE,IAAI;gBACxH,MAAM,EAAE,EAAE,IAAI,EAAE,WAAW,CAAC,OAAO,EAAE,OAAO,EAAE,EAAE,EAAE;aACnD;SACF,CAAC;QAEF,gBAAW,GAAG;YACZ,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,6CAA6C,CAAC;YAC/E,KAAK,EAAE,IAAI;YACX,MAAM,EAAE,GAAG;YACX,WAAW,EAAE,IAAI;SAClB,CAAC;QA8DF,eAAU;;;;QAAG,CAAC,KAAmB;;kBACzB,OAAO,sBAAG,KAAK,CAAC,OAAO,EAAO;;kBAC9B,MAAM,GAAG,KAAK,CAAC,MAAM;YAC3B,IAAI,MAAM,CAAC,KAAK,KAAK,WAAW,EAAE;gBAChC,IAAI,CAAC,oBAAC,OAAO,IAAqB,GAAG,EAAE;oBACrC,OAAOA,IAAE,CAAC,KAAK,CAAC,CAAC;iBAClB;gBACD,IAAI,oBAAC,OAAO,IAAqB,GAAG,KAAK,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,KAAK,EAAE;oBAC3D,KAAK,CAAC,MAAM,CAAC,MAAM,GAAG,EAAE,IAAI,EAAE,WAAW,CAAC,OAAO,EAAE,OAAO,EAAE,EAAE,EAAE,CAAC;iBAClE;qBAAM;oBACL,KAAK,CAAC,MAAM,CAAC,MAAM,GAAG;wBACpB,IAAI,EAAE,aAAa;wBACnB,OAAO,EAAE;4BACP,SAAS,EAAE,sCAAsC;4BACjD,QAAQ,EAAE,KAAK;4BACf,SAAS,EAAE,KAAK;4BAChB,WAAW;;;;4BAAE,CAAC,CAAC;gCACb,CAAC,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC,CAAC,QAAQ,CAAC,KAAK,GAAG,CAAC,CAAC,QAAQ,CAAC,KAAK,GAAG,EAAE,CAAC,CAAC;gCACjE,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;6BACnB,CAAA;4BACD,KAAK;;;;4BAAE,CAAC,CAAC;gCACP,OAAO,CAAC,GAAG,CAAC,OAAO,EAAE,CAAC,CAAC,CAAC;6BACzB,CAAA;yBACF;qBACF,CAAC;iBACH;aACF;YACD,OAAOA,IAAE,CAAC,IAAI,CAAC,CAAC;SACjB,EAAA;QA5EC,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,IAAI,IAAI,YAAY,CAAC,QAAQ,EAAE,SAAS,CAAC,CAAC;KAC5E;;;;IAED,QAAQ;QACN,IAAI,IAAI,CAAC,eAAe,EAAE;YACxB,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC,MAAM;;;;YAAC,CAAC,IAAI,CAAC,CAAC,KAAK,KAAK,KAAK;mBACpD,CAAC,CAAC,KAAK,KAAK,WAAW,IAAI,CAAC,CAAC,KAAK,KAAK,aAAa,EACxD,CAAC;SACH;KACF;;;;IAED,GAAG;;cACK,QAAQ,GAAG,IAAI,eAAe,EAAE;QACtC,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC;KAC5C;;;;IAED,MAAM;QACJ,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC;;cAClB,QAAQ,GAAG,IAAI,CAAC,IAAI,CAAC,WAAW;QACtC,IAAI,CAAC,QAAQ,EAAE;YACb,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,wCAAwC,CAAC,CAAC,CAAC;YACvF,OAAO;SACR;QACD,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM;;;;QAAC,CAAC,IAAI,CAAC,CAAC,EAAE,KAAK,QAAQ,CAAC,IAAI,CAAC,EAAE,EAAC,CAAC;KAChE;;;;IAED,OAAO;QACL,IAAI,IAAI,CAAC,eAAe,EAAE;;kBAClB,SAAS,GAAG,IAAI,CAAC,IAAI,CAAC,QAAQ;YACpC,IAAI,SAAS,CAAC,MAAM,GAAG,CAAC,EAAG;gBACzB,IAAI,IAAI,CAAC,YAAY,EAAE,EAAE;oBACvB,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;iBACzC;aACF;iBAAM;gBACL,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,wCAAwC,CAAC,CAAC,CAAC;aACxF;SACF;aAAM;YACL,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC;YACxB,IAAI,IAAI,CAAC,SAAS,EAAE,EAAE;;sBACd,MAAM,GAAG,EAAE,KAAK,EAAE,IAAI,CAAC,KAAK,EAAE,UAAU,EAAE,IAAI,EAAE;gBACtD,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;aAC/B;SACF;KACF;;;;IAED,WAAW;QACT,IAAI,CAAC,UAAU,CAAC,IAAI,EAAE,CAAC;KACxB;;;;;IA+BD,OAAO,CAAC,IAAS;QACf,IAAI,IAAI,CAAC,MAAM,CAAC,KAAK,KAAK,WAAW,IAAI,IAAI,CAAC,OAAO,CAAC,GAAG,KAAK,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,KAAK,EAAE;YAChF,IAAI,CAAC,OAAO,CAAC,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC;SAC7C;KACF;;;;;IACD,SAAS,CAAC,CAAM;;cACR,OAAO,GAAoB,CAAC,CAAC,OAAO;QAC1C,QAAQ,OAAO,CAAC,GAAG;YACjB,KAAK,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,KAAK;gBACrB,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC;gBACrB,MAAM;YACR,KAAK,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,KAAK;gBACrB,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC;gBACvB,MAAM;YACR,KAAK,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,KAAK;gBACrB,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC;gBACtB,MAAM;SACT;KACF;;;;;;IACO,YAAY,CAAC,CAAM;;cACnB,IAAI,GAAoB,CAAC,CAAC,OAAO;;YACnC,MAAW;;cACT,WAAW,GAAG,IAAI,CAAC,QAAQ,CAAC,uBAAuB,CAAC,qBAAqB,CAAC;;cAC1E,OAAO,GAAG,WAAW,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC;QACjD,OAAO,CAAC,QAAQ,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC;QACpC,OAAO,CAAC,QAAQ,CAAC,aAAa,CAAC,SAAS;;;;QAAC,CAAC,EAAU;YAClD,CAAC,CAAC,WAAW,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC;YAC3B,CAAC,CAAC,QAAQ,CAAC,EAAE,CAAC,aAAa,EAAE,CAAC;YAC9B,IAAI,CAAC,KAAK,GAAG,EAAE,CAAC;YAChB,MAAM,CAAC,KAAK,EAAE,CAAC;SAChB,EAAC,CAAC;QACH,OAAO,CAAC,QAAQ,CAAC,YAAY,CAAC,SAAS;;;;QAAC,EAAE;YACxC,MAAM,CAAC,KAAK,EAAE,CAAC;SAChB,EAAC,CAAC;;cACG,WAAW,GAAG;YAClB,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,qCAAqC,CAAC;YACvE,KAAK,EAAE,GAAG;YACV,MAAM,EAAE,GAAG;YACX,WAAW,EAAE,IAAI;YACjB,OAAO,EAAE,OAAO,CAAC,QAAQ,CAAC,MAAM;SACjC;QACD,MAAM,GAAG,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,OAAO,EAAE,WAAW,CAAC,CAAC;KACvD;;;;;;IAEO,cAAc,CAAC,CAAM;;;cAErB,IAAI,GAAoB,CAAC,CAAC,OAAO;QACvC,IAAI,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE;YACnC,KAAK,MAAM,MAAM,IAAI,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE;gBACzC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,QAAQ,EAAE,MAAM,CAAC,CAAC;aACvC;YACD,IAAI,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,WAAW,IAAI,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC,MAAM,GAAG,CAAC,EAAE;;sBACnF,UAAU,GAAG,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC;gBACzD,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,UAAU,CAAC,IAAI,EAAE,QAAQ,EACnD,UAAU,CAAC,IAAI,EAAE,YAAY,CAAC,UAAU,CAAC,CAAC;aAC7C;SACF;;YACG,OAAO,GAAG,IAAI,KAAK,EAAE;QACzB,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC;QAC3C,IAAI,IAAI,CAAC,OAAO,CAAC,kBAAkB,CAAC,MAAM,GAAG,CAAC,EAAE;YAC9C,KAAK,MAAM,QAAQ,IAAI,IAAI,CAAC,OAAO,CAAC,kBAAkB,EAAE;gBACtD,IAAI,CAAC,OAAO,CAAC,IAAI;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,GAAG,KAAK,QAAQ,CAAC,GAAG,EAAC,EAAE;oBAC9C,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;iBACxB;aACF;SACF;QACD,IAAI,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE;YACtB,KAAK,MAAM,CAAC,IAAI,OAAO,EAAE;gBACvB,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;aACzB;SACF;QACD,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,YAAY,CAAC,QAAQ,CAAC,CAAC;QAChD,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QACxC,IAAI,CAAC,IAAI,CAAC,eAAe,EAAE,CAAC,IAAI;;;;QAAC,CAAC,EAAU;YAC1C,CAAC,CAAC,WAAW,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC;YAC3B,CAAC,CAAC,QAAQ,CAAC,EAAE,CAAC,aAAa,EAAE,CAAC;YAC9B,IAAI,CAAC,KAAK,GAAG,EAAE,CAAC;YAChB,CAAC,CAAC,IAAI,CAAC,WAAW,CAAC,KAAK,GAAG,EAAE,CAAC;YAC9B,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK,GAAG,EAAE,CAAC;;YAExB,IAAG,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE;gBACrB,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,eAAe,GAAG,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,eAAe,CAAC,MAAM;;;;gBAAC,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,GAAG,KAAK,CAAC,CAAC,GAAG,EAAC,EAAC,CAAC;aAC9H;SACF,EAAC,CAAC;KACJ;;;;;;IAEO,aAAa,CAAC,CAAM;;cACpB,IAAI,GAAoB,CAAC,CAAC,OAAO;;YACnC,MAAW;;cACT,WAAW,GAAG,IAAI,CAAC,QAAQ,CAAC,uBAAuB,CAAC,sBAAsB,CAAC;;cAC3E,OAAO,GAAG,WAAW,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC;QACjD,OAAO,CAAC,QAAQ,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC;QAC5C,OAAO,CAAC,QAAQ,CAAC,aAAa,CAAC,SAAS;;;;QAAC,CAAC,EAAO;YAC/C,CAAC,CAAC,WAAW,CAAC,QAAQ,CAAC,EAAE,CAAC,IAAI,GAAG,GAAG,GAAG,EAAE,CAAC,UAAU,CAAC,CAAC;YACtD,CAAC,CAAC,QAAQ,CAAC,EAAE,CAAC,aAAa,EAAE,CAAC;YAC9B,IAAI,CAAC,KAAK,GAAG,EAAE,CAAC,EAAE,CAAC;YACnB,IAAI,CAAC,SAAS,GAAG,EAAE,CAAC;YACpB,CAAC,CAAC,IAAI,CAAC,WAAW,CAAC,KAAK,GAAG,EAAE,CAAC,EAAE,CAAC;YACjC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK,GAAG,EAAE,CAAC,EAAE,CAAC;YAC3B,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,SAAS,GAAG,EAAE,CAAC;YAC5B,CAAC,CAAC,IAAI,CAAC,WAAW,CAAC,SAAS,GAAG,EAAE,CAAC;YAClC,MAAM,CAAC,KAAK,EAAE,CAAC;SAChB,EAAC,CAAC;QACH,OAAO,CAAC,QAAQ,CAAC,YAAY,CAAC,SAAS;;;;QAAC,EAAE;YACxC,MAAM,CAAC,KAAK,EAAE,CAAC;SAChB,EAAC,CAAC;;cACG,WAAW,GAAG;YAClB,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,sCAAsC,CAAC;YACxE,KAAK,EAAE,GAAG;YACV,MAAM,EAAE,GAAG;YACX,WAAW,EAAE,IAAI;YACjB,OAAO,EAAE,OAAO,CAAC,QAAQ,CAAC,MAAM;SACjC;QACD,MAAM,GAAG,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,OAAO,EAAE,WAAW,CAAC,CAAC;KACvD;;;;;IAEO,SAAS;QACf,KAAK,MAAM,IAAI,IAAI,IAAI,CAAC,KAAK,EAAE;YAC7B,IAAI,CAAC,IAAI,CAAC,IAAI,EAAE;gBACd,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,gDAAgD,CAAC,CAAC,CAAC;gBAClG,OAAO,KAAK,CAAC;aACd;YACD,IAAI,CAAC,IAAI,CAAC,aAAa,EAAE;gBACvB,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,8CAA8C,CAAC,CAAC,CAAC;gBAChG,OAAO,KAAK,CAAC;aACd;YACD,IAAI,CAAC,IAAI,CAAC,wBAAwB,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE;gBAC7C,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,sDAAsD,CAAC,CAAC,CAAC;gBACxG,OAAO,KAAK,CAAC;aACd;YACD,IAAI,IAAI,CAAC,KAAK,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE;gBAC3B,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,wCAAwC,CAAC,CAAC,CAAC;gBAC1F,OAAO,KAAK,CAAC;aACd;SACF;QACD,IAAI,IAAI,CAAC,KAAK,CAAC,MAAM,GAAG,CAAC,EAAE;YACzB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;;sBACpC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,IAAI;gBAChC,KAAK,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;;0BACxC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,IAAI;oBAEhC,IAAI,KAAK,KAAK,KAAK,EAAE;wBACnB,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,2CAA2C,CAAC,CAAC,CAAC;wBAC7F,OAAO,KAAK,CAAC;qBACd;iBACF;aACF;SACF;QACD,OAAO,IAAI,CAAC;KACb;;;;;;IACO,wBAAwB,CAAC,GAAW;;cACpC,IAAI,GAAG,4BAA4B;QACzC,IAAI,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE;YAClB,OAAO,IAAI,CAAC;SACb;aAAM;YACL,OAAO,KAAK,CAAC;SACd;KACF;;;;;;IAGO,YAAY;QAClB,KAAK,MAAM,IAAI,IAAI,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE;YACrC,IAAI,IAAI,CAAC,aAAa,CAAC,MAAM,IAAI,IAAI,CAAC,aAAa,CAAC,MAAM,GAAG,CAAC,EAAE;gBAC9D,IAAI,IAAI,CAAC,aAAa,CAAC,MAAM;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,YAAY,KAAK,IAAI,CAAC,IAAI,CAAC,IAAI,EAAC,CAAC,MAAM,GAAG,CAAC,EAAC;oBAC/E,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,0CAA0C,CAAC,CAAC,CAAC;oBAC5F,OAAO,KAAK,CAAC;iBACd;aACF;SACF;QACD,OAAO,IAAI,CAAC;KACb;;;YA7XF,SAAS,SAAC;gBACT,QAAQ,EAAE,uBAAuB;gBACjC,grDAAiD;gBAEjD,SAAS,EAAE;oBACR,YAAY;iBACd;;aACF;;;;YAnBQ,eAAe;YALgF,wBAAwB;YAAlC,QAAQ;YAM7F,cAAc;YAEd,sBAAsB;YACR,iBAAiB;YAToG,iBAAiB,uBAiJxJ,QAAQ;yCACR,MAAM,SAAC,SAAS;4CAChB,MAAM,SAAC,iBAAiB;YArID,YAAY,uBAsInC,QAAQ;;;kBA1HV,WAAW,SAAC,OAAO;8BAGnB,KAAK;yBACL,MAAM;0BACN,MAAM;iCACN,MAAM;oBAEN,KAAK;4BACL,KAAK;2BACL,KAAK;0BACL,SAAS,SAAC,kBAAkB;mBAC5B,SAAS,SAAC,MAAM;;MA2WN,yBAAyB;;;;IACpC,YACU,UAAwB;QAAxB,eAAU,GAAV,UAAU,CAAc;KAC7B;;;;;IAEL,SAAS,CAAC,IAAW;QACnB,IAAI,IAAI,IAAI,IAAI,CAAC,MAAM,GAAG,CAAC,EAAE;YAC3B,OAAO,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,gCAAgC,CAAC,CAAC;SACpE;aAAM;YACL,OAAO,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,mCAAmC,CAAC,CAAC;SACvE;KACF;CACF;;;;;;AC7ZD,MAIa,aAAa;IAoBtB;QACI,IAAI,CAAC,GAAG,GAAG,UAAU,CAAC;QACtB,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;QACpB,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;QACtB,IAAI,CAAC,gBAAgB,GAAG,IAAI,KAAK,EAAE,CAAC;KACvC;CACJ;MAEY,eAAe;IAsBxB;QACI,IAAI,CAAC,EAAE,GAAG,aAAa,CAAC,iBAAiB,EAAE,CAAC;QAC5C,IAAI,CAAC,YAAY,GAAG,gBAAgB,CAAC;QACrC,IAAI,CAAC,YAAY,GAAG,CAAC,CAAC;QACtB,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;;QAEtB,IAAI,CAAC,iBAAiB,GAAG,4BAA4B,CAAC;KACzD;CACJ;;;;AAKD,MAAa,WAAY,SAAQ,eAAe;;;;;IA+C5C,YACE,QAAQ,EACA,UAAwB;QAEhC,KAAK,EAAE,CAAC;QAFA,eAAU,GAAV,UAAU,CAAc;QAGhC,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC;QACzB,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC;QAC3B,IAAI,CAAC,QAAQ,GAAG,QAAQ,KAAK,UAAU,GAAG,qBAAqB,GAAG,iBAAiB,CAAC;QACpF,IAAI,CAAC,YAAY,GAAG,QAAQ,KAAK,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,gDAAgD,CAAC,GAAG,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,4CAA4C,CAAC,CAAC;QACpM,IAAI,CAAC,OAAO,GAAG,aAAa,GAAG,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,uDAAuD,CAAC,GAAG,iBAAiB,CAAC;QACtI,IAAI,CAAC,OAAO,GAAG,aAAa,IAAI,QAAQ,KAAK,UAAU,GAAI,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,gDAAgD,CAAC,GAAI,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,2CAA2C,CAAC,CAAC,GAAG,iBAAiB,CAAC;KACvO;CACJ;MAEY,UAAW,SAAQ,eAAe;;;;;IAW7C,YACE,IAAY,EACJ,UAAwB;QAEhC,KAAK,EAAE,CAAC;QAFA,eAAU,GAAV,UAAU,CAAc;QAGhC,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;QAC3B,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,kCAAkC,CAAC,CAAC;KAC9E;CACF;;;;;;ACnJD,MAEaI,oBAAkB;IAM3B;QACI,IAAI,CAAC,mBAAmB,GAAG,IAAI,KAAK,EAAE,CAAC;KAC1C;CACJ;MAEYC,oBAAkB;IAC3B;QAMA,QAAG,GAAG,YAAY,CAAC;QALf,IAAI,CAAC,EAAE,GAAG,aAAa,CAAC,QAAQ,EAAE,CAAC;KACtC;CAKJ;;;;;;ACrBD,MAkBa,2BAA2B;;;;;;;;;;IAWtC,YACU,aAAqC,EACrC,IAAuB,EACvB,OAAwB,EACZ,GAAsB,EACf,QAAgB,EACR,SAAc,EAC7B,UAAwB;QANpC,kBAAa,GAAb,aAAa,CAAwB;QACrC,SAAI,GAAJ,IAAI,CAAmB;QACvB,YAAO,GAAP,OAAO,CAAiB;QACZ,QAAG,GAAH,GAAG,CAAmB;QACf,aAAQ,GAAR,QAAQ,CAAQ;QACR,cAAS,GAAT,SAAS,CAAK;QAC7B,eAAU,GAAV,UAAU,CAAc;QAd9C,oBAAe,GAAG,IAAI,KAAK,EAAE,CAAC;QAC9B,oBAAe,GAAG,IAAI,KAAK,EAAE,CAAC;QAC9B,uBAAkB,GAAG,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,iDAAiD,CAAC,CAAA;QAc/F,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,IAAI,IAAI,YAAY,CAAC,QAAQ,EAAE,SAAS,CAAC,CAAC;QAC3E,IAAI,CAAC,kBAAkB,GAAG,IAAID,oBAAkB,EAAE,CAAC;KACpD;;;;IAED,QAAQ;QACN,IAAI,CAAC,eAAe,GAAC,CAAC;gBACpB,KAAK,EAAE,MAAM,EAAE,KAAK,EAAE,EAAE,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,mCAAmC,CAAC,EAAE,MAAM,EAAE,EAAE,IAAI,EAAE,WAAW,CAAC,OAAO,EAAE,OAAO,EAAE,EAAE,EAAE;aACpJ,EAAE;gBACD,KAAK,EAAE,OAAO,EAAE,KAAK,EAAE,GAAG,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,oCAAoC,CAAC,EAAE,QAAQ,EAAE,IAAI,EAAC,MAAM,EAAE;oBACzH,IAAI,EAAE,aAAa;oBACnB,OAAO,EAAE;wBACP,SAAS,EAAE,sCAAsC;wBACjD,QAAQ,EAAE,KAAK;wBACf,WAAW;;;;wBAAE,CAAC,CAAC;4BACb,CAAC,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC,CAAC,QAAQ,CAAC,KAAK,GAAG,CAAC,CAAC,QAAQ,CAAC,KAAK,GAAG,EAAE,CAAC,CAAC;4BACjE,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC;yBACtB,CAAA;wBACD,KAAK;;;;wBAAE,CAAC,CAAC;4BACP,OAAO,CAAC,GAAG,CAAC,OAAO,EAAE,CAAC,CAAC,CAAC;yBACzB,CAAA;qBACF;iBACF;aACA,CAAC,CAAA;QACJ,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,kBAAkB,CAAC,CAAC;KACtC;;;;IAED,cAAc;;cACN,QAAQ,GAAG,IAAIC,oBAAkB,EAAE;QACzC,IAAI,CAAC,kBAAkB,CAAC,mBAAmB,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;QAC3D,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,kBAAkB,CAAC,mBAAmB,CAAC,CAAC;KACjE;;;;IAED,iBAAiB;QACf,IAAI,CAAC,WAAW,EAAE,CAAC;;cACb,gBAAgB,GAAG,IAAI,CAAC,IAAI,CAAC,WAAW;QAC9C,IAAI,CAAC,gBAAgB,EAAE;YACrB,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,6CAA6C,CAAC,CAAC,CAAC;YAC5F,OAAO;SACR;;cACK,KAAK,GAAG,IAAI,CAAC,kBAAkB,CAAC,mBAAmB,CAAC,SAAS;;;;QAAC,QAAQ,IAAI,QAAQ,CAAC,EAAE,KAAK,gBAAgB,CAAC,EAAE,EAAC;QACpH,IAAI,KAAK,GAAG,CAAC,CAAC,EAAE;YACd,IAAI,CAAC,kBAAkB,CAAC,mBAAmB,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;YAC7D,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,kBAAkB,CAAC,mBAAmB,CAAC,CAAC;SACjE;KACF;;;;IAED,WAAW;QACT,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC;KACzB;;;;;;IAEO,YAAY,CAAC,CAAM;;QAEzB,IAAI,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE;YACzC,KAAK,MAAM,MAAM,IAAI,IAAI,CAAC,aAAa,CAAC,OAAO,EAAE;gBAC/C,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,QAAQ,EAAE,MAAM,CAAC,CAAC;aACvC;YACD,IAAI,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,WAAW,IAAI,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC,MAAM,GAAG,CAAC,EAAE;;sBAC/F,UAAU,GAAG,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC;gBAC/D,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,UAAU,CAAC,IAAI,EAAE,QAAQ,EACnD,UAAU,CAAC,IAAI,EAAE,YAAY,CAAC,UAAU,CAAC,CAAC;aAC7C;SACF;;YACG,OAAO,GAAG,IAAI,KAAK,EAAa;QACpC,OAAO,GAAG,IAAI,CAAC,aAAa,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC;QACjD,IAAI,IAAI,CAAC,aAAa,CAAC,kBAAkB,CAAC,MAAM,GAAG,CAAC,EAAE;YACpD,KAAK,MAAM,QAAQ,IAAI,IAAI,CAAC,aAAa,CAAC,kBAAkB,EAAE;gBAC5D,IAAI,CAAC,OAAO,CAAC,IAAI;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,GAAG,KAAK,QAAQ,CAAC,GAAG,EAAC,EAAE;oBAC9C,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;iBACxB;aACF;SACF;QACD,IAAI,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE;YACtB,KAAK,MAAM,CAAC,IAAI,OAAO,EAAE;gBACvB,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;aACzB;SACF;QACD,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,YAAY,CAAC,QAAQ,CAAC,CAAC;QAChD,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;QAC9C,IAAI,CAAC,IAAI,CAAC,eAAe,EAAE,CAAC,IAAI;;;;QAAC,CAAC,cAAsB;YACtD,CAAC,CAAC,WAAW,CAAC,QAAQ,CAAC,cAAc,CAAC,CAAC;YACvC,CAAC,CAAC,QAAQ,CAAC,EAAE,CAAC,aAAa,EAAE,CAAC;;YAE9B,IAAG,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE;gBACrB,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,eAAe,GAAG,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,eAAe,CAAC,MAAM;;;;gBAAC,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,GAAG,KAAK,CAAC,CAAC,GAAG,EAAC,EAAC,CAAC;aAC9H;SACF,EAAC,CAAC;KACJ;;;YAlHF,SAAS,SAAC;gBACT,QAAQ,EAAE,0BAA0B;gBACpC,y8IAAoD;gBAEpD,SAAS,EAAE;oBACR,YAAY;iBACd;;aACF;;;;YAZQ,sBAAsB;YADR,iBAAiB;YAD/B,eAAe;YAHf,iBAAiB,uBAiCrB,QAAQ;yCACR,MAAM,SAAC,SAAS;4CAChB,MAAM,SAAC,iBAAiB;YA5BD,YAAY,uBA6BnC,QAAQ;;;mBAhBV,SAAS,SAAC,MAAM;iCAMhB,KAAK;;;;;;;AC1BR,MAkBa,6BAA6B;;;;;;;;;;;IA4GxC,YACU,QAAkB,EAClB,OAAwB,EACxB,OAA+B,EACnB,GAAsB,EACf,QAAgB,EACR,SAAc,EAC7B,UAAwB,EACpC,IAAuB;QAPvB,aAAQ,GAAR,QAAQ,CAAU;QAClB,YAAO,GAAP,OAAO,CAAiB;QACxB,YAAO,GAAP,OAAO,CAAwB;QACnB,QAAG,GAAH,GAAG,CAAmB;QACf,aAAQ,GAAR,QAAQ,CAAQ;QACR,cAAS,GAAT,SAAS,CAAK;QAC7B,eAAU,GAAV,UAAU,CAAc;QACpC,SAAI,GAAJ,IAAI,CAAmB;QAlHjC,eAAU,GAAG,sCAAsC,CAAC;;QAmEpD,cAAS,GAAgB,IAAI,WAAW,CAAC,UAAU,EAAC,IAAI,CAAC,UAAU,CAAC,CAAC;QAC3D,iBAAY,GAAG,IAAI,YAAY,EAAO,CAAC;QACvC,kBAAa,GAAG,IAAI,YAAY,EAAmB,CAAC;QAE9D,cAAS,GAAG,IAAI,CAAC,OAAO,CAAC,eAAe,CAAC,GAAG;;;;QAAC,CAAC,KAAK,EAAE,KAAK,EAAE,CAAC,CAAC,IAAI,EAAE,IAAI,EAAE,CAAC,CAAC,IAAI,EAAE,CAAC,EAAC,CAAC;QAErF,sBAAiB,GAAG;YAClB,EAAE,KAAK,EAAE,iBAAiB,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,gDAAgD,CAAC,EAAE;SAChH,CAAC;QACF,8BAAyB,GAAG;YAC1B,EAAE,KAAK,EAAE,qBAAqB,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,oDAAoD,CAAC,EAAG;YACxH,EAAE,KAAK,EAAE,iBAAiB,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,gDAAgD,CAAC,EAAG;YAChH,EAAE,KAAK,EAAE,iBAAiB,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,gDAAgD,CAAC,EAAE;SAChH,CAAC;QAEF,gBAAW,GAAG,EAAE,CAAC;QACjB,iBAAY,GAAG,EAAE,CAAC;QAElB,mBAAc,GAAG,KAAK,CAAC;QAEvB,WAAM;;;;QAAG,CAAC,GAAoB;;YAE5B,OAAO,MAAM,CAAC,GAAG,CAAC,CAAC;SACpB,EAAA;QAED,uBAAkB,GAAG;YACnB,EAAE,KAAK,EAAE,KAAK,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,oCAAoC,CAAC,EAAE;YACvF,EAAE,KAAK,EAAE,MAAM,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,qCAAqC,CAAC,EAAE;YACzF,EAAE,KAAK,EAAE,QAAQ,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,uCAAuC,CAAC,EAAE;SAC9F,CAAC;QAEF,aAAQ,GAA2B,UAAU,CAAC;QAI9C,wBAAmB,GAAW,EAAE,CAAC;QAEjC,gBAAW,GAAkB,EAAE,CAAC;KAW3B;;;;;IAhHL,IACI,KAAK,CAAC,IAAiB;QACzB,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,CAAC;QAClD,IAAI,IAAI,CAAC,SAAS,CAAC,QAAQ,KAAK,SAAS,EAAE;;kBACnC,WAAW,GAAG,IAAI,WAAW,CAAC,IAAI,CAAC,QAAQ,EAAC,IAAI,CAAC,UAAU,CAAC;YAClE,IAAI,CAAC,SAAS,CAAC,WAAW,GAAG,WAAW,CAAC,WAAW,CAAC;YACrD,IAAI,CAAC,SAAS,CAAC,aAAa,GAAG,WAAW,CAAC,aAAa,CAAC;YACzD,IAAI,CAAC,SAAS,CAAC,QAAQ,GAAG,WAAW,CAAC,QAAQ,CAAC;YAC/C,IAAI,CAAC,SAAS,CAAC,OAAO,GAAG,WAAW,CAAC,OAAO,CAAC;YAC7C,IAAI,CAAC,SAAS,CAAC,OAAO,GAAG,WAAW,CAAC,OAAO,CAAC;SAC9C;QACD,IAAI,IAAI,CAAC,SAAS,CAAC,QAAQ,IAAI,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,MAAM,GAAG,CAAC,EAAE;;gBAC7D,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,KAAK,CAAC,GAAG,CAAC;YAC9C,IAAI,KAAK,CAAC,OAAO,CAAC,qBAAqB,CAAC,GAAG,CAAC,CAAC,EAAE;gBAC7C,IAAI,CAAC,YAAY,GAAG,qBAAqB,CAAC;gBAC1C,IAAI,CAAC,mBAAmB,IAAI,sBAAsB,CAAC;aACpD;YACD,IAAI,KAAK,CAAC,OAAO,CAAC,iBAAiB,CAAC,GAAG,CAAC,CAAC,EAAE;gBACzC,IAAI,CAAC,YAAY,GAAG,iBAAiB,CAAC;gBACtC,IAAI,CAAC,mBAAmB,IAAI,kBAAkB,CAAC;aAChD;YACD,IAAI,KAAK,CAAC,OAAO,CAAC,iBAAiB,CAAC,GAAG,CAAC,CAAC,EAAC;gBACxC,IAAI,CAAC,mBAAmB,IAAI,kBAAkB,CAAC;aAChD;YACD,IAAG,IAAI,CAAC,mBAAmB,CAAC,MAAM,GAAG,CAAC,EAAC;gBACrC,IAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC,mBAAmB,CAAC,SAAS,CAAC,CAAC,EAAC,IAAI,CAAC,mBAAmB,CAAC,MAAM,GAAC,CAAC,CAAC,CAAC;aACpG;YACD,IAAI,KAAK,CAAC,MAAM,GAAG,CAAC,EAAE;gBACpB,KAAK,GAAG,KAAK,CAAC,MAAM;;;;gBAAC,CAAC,IAAI,CAAC,KAAK,iBAAiB,EAAC,CAAC;gBACnD,IAAI,CAAC,WAAW,CAAC,EAAE,GAAG,EAAE,CAAC;gBACzB,KAAK,MAAM,CAAC,IAAI,KAAK,EAAE;oBACrB,IAAI,CAAC,WAAW,CAAC,EAAE,IAAI,CAAC,GAAG,GAAG,CAAC;iBAChC;gBACD,IAAI,IAAI,CAAC,WAAW,CAAC,EAAE,EAAE;oBACvB,IAAI,CAAC,WAAW,CAAC,EAAE,GAAG,IAAI,CAAC,WAAW,CAAC,EAAE,CAAC,SAAS,CAAC,CAAC,EAAE,IAAI,CAAC,WAAW,CAAC,EAAE,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;iBACxF;aACF;SACF;QACD,IAAI,IAAI,CAAC,SAAS,CAAC,YAAY,IAAI,IAAI,CAAC,SAAS,CAAC,YAAY,CAAC,MAAM,GAAG,CAAC,EAAE;;gBACrE,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC,YAAY,CAAC,KAAK,CAAC,GAAG,CAAC;YAClD,IAAI,KAAK,CAAC,MAAM,GAAG,CAAC,EAAE;gBACpB,KAAK,GAAG,KAAK,CAAC,MAAM;;;;gBAAC,CAAC,IAAI,CAAC,KAAK,OAAO,EAAC,CAAC;gBACzC,IAAI,CAAC,WAAW,CAAC,IAAI,GAAG,EAAE,CAAC;gBAC3B,KAAK,MAAM,CAAC,IAAI,KAAK,EAAE;oBACrB,IAAI,CAAC,WAAW,CAAC,IAAI,IAAI,CAAC,GAAG,GAAG,CAAC;iBAClC;gBACD,IAAI,IAAI,CAAC,WAAW,CAAC,IAAI,EAAE;oBACzB,IAAI,CAAC,WAAW,CAAC,IAAI,GAAG,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,EAAE,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;iBAC9F;aACF;SACF;QACD,IAAI,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,EAAE;YAC/C,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;YAC3B,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,kBAAkB,EAAE;gBACtC,IAAI,CAAC,SAAS,CAAC,kBAAkB,GAAG,IAAID,oBAAkB,EAAE,CAAC;aAC9D;SACF;KACF;;;;IAED,IAAI,KAAK;QACP,OAAO,IAAI,CAAC,SAAS,CAAC;KACvB;;;;IAqDD,QAAQ;KACP;;;;;IAED,WAAW,CAAC,IAAS;QACnB,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC;KAC5B;;;;;IAED,SAAS,CAAC,IAAS;QACjB,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;KAC1B;;;;;IAED,eAAe,CAAC,IAAY;;cACpB,OAAO,GAAG,IAAI,CAAC,QAAQ,EAAE;QAC/B,IAAI,IAAI,CAAC,SAAS,CAAC,OAAO,IAAI,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE;YAC/D,IAAG,CAAC,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,UAAU,CAAC,KAAK,GAAG,QAAQ,GAAG,KAAK,CAAC,EAAE;gBAC7D,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC,OAAO,GAAG,IAAI,CAAC,CAAC;aACrE;iBAAK;gBACJ,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC;aACrD;SACF;aAAM;YACL,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,EAAE,CAAC,CAAC;SACjC;QACD,IAAI,CAAC,IAAI,CAAC,eAAe,EAAE,CAAC,IAAI;;;;QAAC,CAAC,cAAsB;YACtD,IAAI,CAAC,SAAS,CAAC,OAAO,GAAG,cAAc,CAAC;;YAExC,IAAG,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE;gBACrB,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,eAAe,GAAG,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,eAAe,CAAC,MAAM;;;;gBAAC,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,GAAG,KAAK,CAAC,CAAC,GAAG,EAAC,EAAC,CAAC;aAC9H;SACF,EAAC,CAAC;KACJ;;;;;IAED,aAAa,CAAC,IAAY;;cAClB,OAAO,GAAG,IAAI,CAAC,QAAQ,EAAE;QAC/B,IAAI,IAAI,CAAC,SAAS,CAAC,OAAO,IAAI,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE;YAC/D,IAAG,CAAC,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,UAAU,CAAC,KAAK,GAAG,QAAQ,GAAG,KAAK,CAAC,EAAE;gBAC/D,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC,OAAO,GAAG,IAAI,CAAC,CAAC;aACnE;iBAAK;gBACJ,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC;aACrD;SACF;aAAM;YACL,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,EAAE,CAAC,CAAC;SACjC;QACD,IAAI,CAAC,IAAI,CAAC,eAAe,EAAE,CAAC,IAAI;;;;QAAC,CAAC,cAAsB;YACtD,IAAI,CAAC,SAAS,CAAC,OAAO,GAAG,cAAc,CAAC;;YAExC,IAAG,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE;gBACrB,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,eAAe,GAAG,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,eAAe,CAAC,MAAM;;;;gBAAC,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,GAAG,KAAK,CAAC,CAAC,GAAG,EAAC,EAAC,CAAC;aAC9H;SACF,EAAC,CAAC;KACJ;;;;IAED,OAAO;QACL,IAAI,IAAI,CAAC,WAAW,EAAE;YACpB,IAAI,CAAC,WAAW,CAAC,WAAW,EAAE,CAAC;SAChC;QACD,IAAI,CAAC,SAAS,CAAC,SAAS,IAAI,EAAE,CAAC;QAC/B,IAAI,IAAI,CAAC,QAAQ,KAAK,SAAS,EAAE;YAC/B,IAAI,CAAC,WAAW,EAAE,CAAC;SACpB;QACD,IAAG,IAAI,CAAC,QAAQ,KAAK,UAAU,EAAE;YAC/B,IAAI,CAAC,mBAAmB,EAAE,CAAA;SAC3B;QACD,IAAI,IAAI,CAAC,cAAc,EAAE;YACvB,IAAI,CAAC,SAAS,CAAC,kBAAkB,GAAG,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC;YACxE,IAAI,IAAI,CAAC,SAAS,CAAC,kBAAkB,CAAC,mBAAmB,IAAI,IAAI,CAAC,SAAS,CAAC,kBAAkB,CAAC,mBAAmB,CAAC,MAAM,GAAG,CAAC,EAAE;gBAC7H,IAAI,CAAC,SAAS,CAAC,kBAAkB,CAAC,mBAAmB,GAAG,IAAI,CAAC,SAAS,CAAC,kBAAkB,CAAC,mBAAmB,CAAC,MAAM;;;;gBAAC,QAAQ,IAAI,QAAQ,CAAC,IAAI,EAAC,CAAC;aACjJ;SACF;aAAM;YACL,IAAI,CAAC,SAAS,CAAC,kBAAkB,GAAG,IAAI,CAAC;SAC1C;QACD,IAAI,IAAI,CAAC,SAAS,EAAE,EAAE;YACpB,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;SACzC;KACF;;;;IAED,WAAW;QACT,IAAI,CAAC,YAAY,CAAC,IAAI,EAAE,CAAC;KAC1B;;;;IAED,KAAK;QACH,IAAI,CAAC,WAAW,GAAG,EAAE,CAAC;KACvB;;;;;IAED,cAAc,CAAC,QAAgB;QAC7B,IAAI,IAAI,CAAC,aAAa,CAAC,QAAQ,CAAC,EAAE;YAChC,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;YAC3B,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,kBAAkB,EAAE;gBACtC,IAAI,CAAC,SAAS,CAAC,kBAAkB,GAAG,IAAIA,oBAAkB,EAAE,CAAC;aAC9D;SACF;aAAM;YACL,IAAI,CAAC,cAAc,GAAG,KAAK,CAAC;YAC5B,IAAI,CAAC,SAAS,CAAC,kBAAkB,GAAG,IAAI,CAAC;SAC1C;KACF;;;;;IAEO,WAAW;;YACb,QAAQ,GAAG,EAAE;;YACb,YAAY,GAAG,EAAE;QACrB,IAAI,IAAI,CAAC,YAAY,EAAE;YACrB,QAAQ,IAAI,IAAI,CAAC,YAAY,GAAG,GAAG,CAAC;;kBAC9B,KAAK,GAAG,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,GAAG,CAAC;YAC1C,IAAI,KAAK,CAAC,MAAM,GAAG,CAAC,EAAE;gBACpB,KAAK,MAAM,CAAC,IAAI,KAAK,EAAE;;0BACf,CAAC,GAAG,IAAI,CAAC,iBAAiB,CAAC,IAAI;;;;oBAAC,CAAC,IAAI,CAAC,CAAC,KAAK,KAAK,CAAC,EAAC,CAAC,IAAI;oBAC9D,YAAY,IAAI,CAAC,GAAG,GAAG,CAAC;iBACzB;aACF;SACF;QACD,IAAI,IAAI,CAAC,WAAW,CAAC,EAAE,EAAE;YACvB,QAAQ,IAAI,IAAI,CAAC,WAAW,CAAC,EAAE,GAAG,GAAG,CAAC;YACtC,YAAY,IAAI,IAAI,CAAC,WAAW,CAAC,IAAI,GAAG,GAAG,CAAC;SAC7C;QACD,IAAI,QAAQ,EAAE;YACZ,QAAQ,GAAG,QAAQ,CAAC,SAAS,CAAC,CAAC,EAAE,QAAQ,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;SACvD;QACD,IAAI,YAAY,EAAE;YAChB,YAAY,GAAG,YAAY,CAAC,SAAS,CAAC,CAAC,EAAE,YAAY,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;SACnE;QACD,IAAI,CAAC,SAAS,CAAC,QAAQ,GAAG,QAAQ,CAAC;QACnC,IAAI,CAAC,SAAS,CAAC,YAAY,GAAG,YAAY,CAAC;KAC5C;;;;IAED,mBAAmB;;YACb,QAAQ,GAAG,EAAE;QACjB,IAAI,IAAI,CAAC,mBAAmB,EAAE;YAC5B,QAAQ,IAAI,IAAI,CAAC,mBAAmB,GAAG,GAAG,CAAC;SAC5C;QACD,IAAI,QAAQ,EAAE;YACZ,QAAQ,GAAG,QAAQ,CAAC,SAAS,CAAC,CAAC,EAAE,QAAQ,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;SACvD;QACD,IAAI,CAAC,SAAS,CAAC,QAAQ,GAAG,QAAQ,CAAC;KACpC;;;;;IACO,SAAS;;QAEf,IAAI,IAAI,CAAC,SAAS,CAAC,WAAW,EAAE;YAC9B,IAAI,IAAI,CAAC,SAAS,CAAC,SAAS,KAAK,WAAW,EAAE;gBAC5C,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,kDAAkD,CAAC,CAAC,CAAC;gBACjG,OAAO,KAAK,CAAC;aACd;SACF;QACD,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,QAAQ,EAAE;YAC5B,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,mDAAmD,CAAC,CAAC,CAAC;YAClG,OAAO,KAAK,CAAC;SACd;QACD,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,OAAO,EAAE;YAC3B,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,gDAAgD,CAAC,CAAC,CAAC;YAC/F,OAAO,KAAK,CAAC;SACd;QACD,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,OAAO,EAAE;YAC3B,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,gDAAgD,CAAC,CAAC,CAAC;YAC/F,OAAO,KAAK,CAAC;SACd;QACD,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,QAAQ,EAAE;YAC5B,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,kDAAkD,CAAC,CAAC,CAAC;YACjG,OAAO,KAAK,CAAC;SACd;;;;;;;;;;;;QAYD,OAAO,IAAI,CAAC;KACb;;;;;;IAEO,aAAa,CAAC,QAAgB;QACpC,IAAI,QAAQ,EAAE;;kBACN,YAAY,GAAG,QAAQ,CAAC,KAAK,CAAC,GAAG,CAAC;;gBACpC,cAAc,GAAG,YAAY,CAAC,IAAI;;;;YAAC,GAAG,IAAI,IAAI,CAAC,OAAO,CAAC,eAAe,CAAC,IAAI;;;;YAAC,OAAO,IAAI,OAAO,CAAC,IAAI,IAAI,GAAG,IAAI,OAAO,CAAC,WAAW,IAAI,KAAK,EAAC,EAAC;YAChJ,IAAI,cAAc,EAAE;gBAClB,OAAO,IAAI,CAAC;aACb;iBAAM;gBACL,OAAO,KAAK,CAAC;aACd;SACF;aAAM;YACL,OAAO,KAAK,CAAA;SACb;KACF;;;;IAED,QAAQ;;QAEN,IAAI,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE;YACnC,KAAK,MAAM,MAAM,IAAI,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE;;gBAEzC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,QAAQ,EAAE,MAAM,CAAC,CAAC;aACvC;YACD,IAAI,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,WAAW,IAAI,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC,MAAM,GAAG,CAAC,EAAE;;sBACnF,UAAU,GAAG,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC;gBACzD,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,UAAU,CAAC,IAAI,EAAE,QAAQ,EACnD,UAAU,CAAC,IAAI,EAAE,YAAY,CAAC,UAAU,CAAC,CAAC;aAC7C;SACF;;cACK,OAAO,GAAG,IAAI,KAAK,EAAE;QAC3B,IAAI,IAAI,CAAC,OAAO,CAAC,eAAe,CAAC,MAAM,GAAG,CAAC,EAAE;YAC3C,KAAK,MAAM,QAAQ,IAAI,IAAI,CAAC,OAAO,CAAC,eAAe,EAAE;gBACnD,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;;aAExB;SACF;QACD,IAAI,IAAI,CAAC,OAAO,CAAC,sBAAsB,CAAC,MAAM,GAAG,CAAC,EAAE;YAClD,KAAK,MAAM,QAAQ,IAAI,IAAI,CAAC,OAAO,CAAC,sBAAsB,EAAE;gBAC1D,IAAI,CAAC,OAAO,CAAC,IAAI;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,GAAG,KAAK,QAAQ,CAAC,GAAG,EAAC,EAAE;oBAC9C,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;iBACxB;;aAEF;SACF;QACD,IAAI,IAAI,CAAC,OAAO,CAAC,kBAAkB,CAAC,MAAM,GAAG,CAAC,EAAE;YAC9C,KAAK,MAAM,QAAQ,IAAI,IAAI,CAAC,OAAO,CAAC,kBAAkB,EAAE;gBACtD,IAAI,CAAC,OAAO,CAAC,IAAI;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,GAAG,KAAK,QAAQ,CAAC,GAAG,EAAC,EAAE;oBAC9C,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;iBACxB;;aAEF;SACF;QACD,IAAI,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE;YACtB,KAAK,MAAM,CAAC,IAAI,OAAO,EAAE;gBACvB,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;aACzB;SACF;QACD,OAAO,OAAO,CAAC;KAChB;;;YAjWF,SAAS,SAAC;gBACT,QAAQ,EAAE,4BAA4B;gBACtC,4yQAAsD;gBAEtD,SAAS,EAAE;oBACR,YAAY;iBACd;;aACF;;;;YAjB2B,QAAQ;YAG3B,eAAe;YACf,sBAAsB;YAJsE,iBAAiB,uBAkIjH,QAAQ;yCACR,MAAM,SAAC,SAAS;4CAChB,MAAM,SAAC,iBAAiB;YA7HD,YAAY,uBA8HnC,QAAQ;YAnIU,iBAAiB;;;qBAmBrC,SAAS,SAAC,QAAQ;0BAClB,SAAS,SAAC,2BAA2B;oBACrC,KAAK;2BAiEL,MAAM;4BACN,MAAM;;;;;;;ACzFT,MAea,4BAA4B;;;;;;;;;IA2BvC,YACU,OAAwB,EACzB,OAA+B,EAClB,GAAsB,EACf,QAAgB,EACR,SAAc,EAC7B,UAAwB;QALpC,YAAO,GAAP,OAAO,CAAiB;QACzB,YAAO,GAAP,OAAO,CAAwB;QAClB,QAAG,GAAH,GAAG,CAAmB;QACf,aAAQ,GAAR,QAAQ,CAAQ;QACR,cAAS,GAAT,SAAS,CAAK;QAC7B,eAAU,GAAV,UAAU,CAAc;QAhB9C,gBAAW,GAAG,EAAE,CAAC;QACjB,cAAS,GAAe,IAAI,UAAU,CAAC,MAAM,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC;QACtD,kBAAa,GAAG,IAAI,YAAY,EAAmB,CAAC;QACpD,iBAAY,GAAG,IAAI,YAAY,EAAO,CAAC;QAEjD,mBAAc,GAAG;;;SAGhB,CAAC;QAUA,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,IAAI,IAAI,YAAY,CAAC,QAAQ,EAAE,SAAS,CAAC,CAAC;QAC3E,KAAI,MAAM,IAAI,IAAI,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,aAAa,EAAE;YACzD,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,EAAC,KAAK,EAAE,IAAI,CAAC,KAAK,EAAC,IAAI,EAAE,IAAI,CAAC,IAAI,EAAC,CAAC,CAAC;SAC/D;KACF;;;;;IApCD,IACI,KAAK,CAAC,IAAgB;QACxB,IAAI,CAAC,SAAS,GAAG,MAAM,CAAC,MAAM,CAAC,EAAE,EAAE,IAAI,CAAC,CAAC;QACzC,IAAI,IAAI,CAAC,SAAS,CAAC,cAAc,KAAK,SAAS,EAAE;;kBACzC,UAAU,GAAG,IAAI,UAAU,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC;YAChF,IAAI,CAAC,SAAS,CAAC,cAAc,GAAG,UAAU,CAAC,cAAc,CAAC;YAC1D,IAAI,CAAC,SAAS,CAAC,OAAO,GAAG,UAAU,CAAC,OAAO,CAAC;SAC7C;KACF;;;;IAED,IAAI,KAAK;QACP,OAAO,IAAI,CAAC,SAAS,CAAC;KACvB;;;;IA0BD,QAAQ;KACP;;;;IAED,OAAO;QACL,IAAI,IAAI,CAAC,SAAS,EAAE,EAAE;YACpB,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;SACzC;KACF;;;;IAED,WAAW;QACT,IAAI,CAAC,YAAY,CAAC,IAAI,EAAE,CAAC;KAC1B;;;;;IAEO,SAAS;QACf,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,OAAO,EAAE;YAC3B,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,iDAAiD,CAAC,CAAC,CAAC;YAChG,OAAO,KAAK,CAAC;SACd;QACD,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,cAAc,EAAE;YAClC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,mDAAmD,CAAC,CAAC,CAAC;YAClG,OAAO,KAAK,CAAC;SACd;QACD,OAAO,IAAI,CAAC;KACb;;;YAxEF,SAAS,SAAC;gBACT,QAAQ,EAAE,2BAA2B;gBACrC,q8FAAqD;gBAErD,SAAS,EAAE;oBACR,YAAY;iBACd;;aACF;;;;YAZQ,eAAe;YACf,sBAAsB;YAHtB,iBAAiB,uBA6CrB,QAAQ;yCACR,MAAM,SAAC,SAAS;4CAChB,MAAM,SAAC,iBAAiB;YA3CD,YAAY,uBA4CnC,QAAQ;;;qBA/BV,SAAS,SAAC,QAAQ;oBAClB,KAAK;4BAgBL,MAAM;2BACN,MAAM;;;;;;;ACnCT,MAoBa,yBAAyB;;;;;;;;;;;IAkFpC,YACU,QAAkC,EAClC,QAAkB,EAClB,YAA4B,EAC5B,OAAwB,EACZ,GAAsB,EACf,QAAgB,EACR,SAAc,EAC7B,UAAwB;QAPpC,aAAQ,GAAR,QAAQ,CAA0B;QAClC,aAAQ,GAAR,QAAQ,CAAU;QAClB,iBAAY,GAAZ,YAAY,CAAgB;QAC5B,YAAO,GAAP,OAAO,CAAiB;QACZ,QAAG,GAAH,GAAG,CAAmB;QACf,aAAQ,GAAR,QAAQ,CAAQ;QACR,cAAS,GAAT,SAAS,CAAK;QAC7B,eAAU,GAAV,UAAU,CAAc;QAxF9C,QAAG,GAAG,8BAA8B,CAAC;QAE3B,eAAU,GAAG,IAAI,YAAY,EAAO,CAAC;QACrC,gBAAW,GAAG,IAAI,YAAY,EAAO,CAAC;QAgBvC,iBAAY,GAAQ,EAAE,CAAC;QAKhC,gBAAW,GAAG;YACZ,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,8CAA8C,CAAC;YAChF,KAAK,EAAE,GAAG;YACV,MAAM,EAAE,GAAG;YACX,WAAW,EAAE,IAAI;SAClB,CAAC;QAEF,kBAAa,GAAkB,IAAI,aAAa,EAAE,CAAC;QAEnD,kBAAa,GAAG;YACd,EAAE,KAAK,EAAE,UAAU,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,qCAAqC,CAAC,EAAE;YAC7F,EAAE,KAAK,EAAE,OAAO,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,kCAAkC,CAAC,EAAE;SACxF,CAAC;QAEF,uBAAkB,GAAG;YACnB,EAAE,KAAK,EAAE,KAAK,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,gCAAgC,CAAC,EAAE;YACnF,EAAE,KAAK,EAAE,MAAM,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,iCAAiC,CAAC,EAAE;YACrF,EAAE,KAAK,EAAE,QAAQ,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,mCAAmC,CAAC,EAAE;SAC1F,CAAC;QAEF,2BAAsB,GAAG;YACvB,EAAE,KAAK,EAAE,gBAAgB,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,2CAA2C,CAAC,EAAE;YACzG,EAAE,KAAK,EAAE,YAAY,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,uCAAuC,CAAC,EAAE;YACjG,EAAE,KAAK,EAAE,eAAe,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,0CAA0C,CAAC,EAAE;SACxG,CAAC;QAEF,8BAAyB,GAAG;YAC1B,EAAE,KAAK,EAAG,4BAA4B,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,uDAAuD,CAAC,EAAC;YACjI,EAAE,KAAK,EAAG,2BAA2B,EAAE,IAAI,EAAG,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,sDAAsD,CAAC,EAAE;SAClI,CAAC;QAEF,6BAAwB,GAAG;YACzB,EAAE,KAAK,EAAG,4BAA4B,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,uDAAuD,CAAC,EAAC;SAClI,CAAC;QAEF,sBAAiB,GAAG,EAAE,CAAC;QAEvB,wBAAmB,GAAG;YACpB,EAAC,KAAK,EAAC,QAAQ,EAAC,IAAI,EAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,mCAAmC,CAAC,EAAC;SACrF,CAAA;QACD,mBAAc,GAAG,IAAI,CAAC,mBAAmB,CAAC,CAAC,CAAC,CAAC,KAAK,CAAA;QAClD,SAAI,GAAG,EAAE,CAAC;QAEV,aAAQ,GAA2B,UAAU,CAAC;QAE9C,WAAM;;;;QAAG,CAAC,GAAoB;YAC5B,OAAO,MAAM,CAAC,GAAG,CAAC,CAAC;SACpB,EAAA;QAED,uBAAkB;;;;QAAG,CAAC,IAAI;YACxB,IAAI,IAAI,IAAI,IAAI,CAAC,KAAK,IAAI,IAAI,CAAC,KAAK,CAAC,KAAK,KAAK,IAAI,CAAC,sBAAsB,CAAC,CAAC,CAAC,CAAC,KAAK,EAAE;;sBAC7E,SAAS,GAAG,IAAI,CAAC,aAAa,CAAC,gBAAgB,CAAC,IAAI;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,EAAE,KAAK,IAAI,CAAC,OAAO,CAAC,EAAE,EAAC;gBACzF,SAAS,CAAC,YAAY,GAAG,CAAC,CAAC;aAC9B;SACF,EAAA;QAYG,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,IAAI,IAAI,YAAY,CAAC,QAAQ,EAAE,SAAS,CAAC,CAAC;KAC5E;;;;;IArFD,IAAa,KAAK,CAAC,CAAgB;QACjC,IAAI,CAAC,EAAE;YACL,IAAI,CAAC,aAAa,GAAG,CAAC,CAAC;SACxB;aAAM;YACL,IAAI,CAAC,aAAa,GAAG,IAAI,aAAa,EAAE,CAAC;SAC1C;;QAED,KAAK,MAAM,SAAS,IAAI,IAAI,CAAC,aAAa,CAAC,gBAAgB,EAAE;YAC3D,IAAI,SAAS,CAAC,iBAAiB,KAAK,SAAS,EAAE;gBAC7C,SAAS,CAAC,iBAAiB,GAAG,4BAA4B,CAAC;aAC5D;SACF;KACF;;;;IA2ED,QAAQ;QACN,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC;QAC3C,IAAI,IAAI,CAAC,QAAQ,KAAK,UAAU,EAAE;YAChC,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC,yBAAyB,CAAC;SACzD;aAAM;YACL,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC,wBAAwB,CAAC;SACxD;QACD,IAAI,CAAC,IAAI,GAAG;YACV;gBACE,KAAK,EAAE,cAAc,EAAE,KAAK,EAAE,EAAE,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,yCAAyC,CAAC;gBAC7G,SAAS,EAAE;oBACT,IAAI,EAAE,MAAM;oBACZ,OAAO,EAAE,EAAE,UAAU,EAAE,OAAO,EAAE,SAAS,EAAE,MAAM,EAAE,IAAI,EAAE,IAAI,CAAC,sBAAsB,EAAE;iBACvF;gBACD,MAAM,EAAE;oBACN,IAAI,EAAE,WAAW,CAAC,SAAS;oBAC3B,OAAO,EAAE;wBACP,UAAU,EAAE,OAAO,EAAE,SAAS,EAAE,MAAM,EAAE,IAAI,EAAE,IAAI,CAAC,sBAAsB,EAAE,OAAO,EAAE,OAAO,EAAE,WAAW,EAAE,MAAM;wBAChH,WAAW,EAAE,IAAI,CAAC,kBAAkB,EAAE,SAAS,EAAE,KAAK;qBACvD;iBACF;gBACD,UAAU,EAAE;oBACV,EAAE,IAAI,EAAE,UAAU,EAAE,QAAQ,EAAE,IAAI,EAAE;iBACrC;aACF;YACD;gBACE,KAAK,EAAE,cAAc,EAAE,KAAK,EAAE,EAAE,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,yCAAyC,CAAC;gBAC7G,MAAM,EAAE;oBACN,IAAI,EAAE,WAAW,CAAC,SAAS,EAAE,OAAO,EAAE,EAAE,GAAG,EAAE,CAAC,EAAC;iBAChD;gBACD,UAAU,EAAE;oBACV,EAAE,IAAI,EAAE,UAAU,EAAE,QAAQ,EAAE,IAAI,EAAE;iBACrC;aACF;YACD;gBACE,KAAK,EAAE,UAAU,EAAE,KAAK,EAAE,EAAE,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,qCAAqC,CAAC;gBACrG,SAAS,EAAE;oBACT,IAAI,EAAE,MAAM;oBACZ,OAAO,EAAE,EAAE,UAAU,EAAE,OAAO,EAAE,SAAS,EAAE,MAAM,EAAE,IAAI,EAAE,IAAI,CAAC,kBAAkB,EAAE;iBACnF;gBACD,MAAM,EAAE;oBACN,IAAI,EAAE,WAAW,CAAC,SAAS;oBAC3B,OAAO,EAAE,EAAE,UAAU,EAAE,OAAO,EAAE,SAAS,EAAE,MAAM,EAAE,IAAI,EAAE,IAAI,CAAC,kBAAkB,EAAE,OAAO,EAAE,OAAO,EAAE,WAAW,EAAE,MAAM,EAAE;iBAC1H;gBACD,UAAU,EAAE;oBACV,EAAE,IAAI,EAAE,UAAU,EAAE,QAAQ,EAAE,IAAI,EAAE;iBACrC;aACF;YACD;gBACE,KAAK,EAAE,mBAAmB,EAAE,KAAK,EAAE,GAAG,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,8CAA8C,CAAC;gBACxH,SAAS,EAAE;oBACT,IAAI,EAAE,MAAM;oBACZ,OAAO,EAAE,EAAE,UAAU,EAAE,OAAO,EAAE,SAAS,EAAE,MAAM,EAAE,IAAI,EAAE,IAAI,CAAC,iBAAiB,EAAE;iBAClF;gBACD,MAAM,EAAE;oBACN,IAAI,EAAE,WAAW,CAAC,SAAS;oBAC3B,OAAO,EAAE,EAAE,UAAU,EAAE,OAAO,EAAE,SAAS,EAAE,MAAM,EAAE,IAAI,EAAE,IAAI,CAAC,iBAAiB,EAAE,OAAO,EAAE,OAAO,EAAE,WAAW,EAAE,MAAM,EAAE;iBACzH;gBACD,UAAU,EAAE;oBACV,EAAE,IAAI,EAAE,UAAU,EAAE,QAAQ,EAAE,IAAI,EAAE;iBACrC;aACF;YACD;gBACE,KAAK,EAAE,UAAU,EAAE,KAAK,EAAE,EAAE,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,qCAAqC,CAAC,EAAE,QAAQ,EAAE,IAAI,CAAC,IAAI;gBAC1H,UAAU,EAAE;oBACV,EAAE,IAAI,EAAE,UAAU,EAAE,QAAQ,EAAE,IAAI,EAAE;iBACrC;aACF;SACF,CAAC;KACH;;;;IAED,OAAO;QACL,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC;QACxB,IAAI,CAAC,aAAa,CAAC,OAAO,IAAI,EAAE,CAAC;QACjC,IAAI,IAAI,CAAC,SAAS,EAAE,EAAE;;kBACd,MAAM,GAAG,EAAE,KAAK,EAAE,IAAI,CAAC,aAAa,EAAE,UAAU,EAAE,IAAI,EAAE;YAC9D,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;SAC/B;KACF;;;;IAED,WAAW;QACT,IAAI,CAAC,UAAU,CAAC,IAAI,EAAE,CAAC;KACxB;;;;;IAEO,SAAS;QACf,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,OAAO,EAAE,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,EAAE;YAClD,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;YACxC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,0CAA0C,CAAC,CAAC,CAAC;YACzF,OAAO,KAAK,CAAC;SACd;QACD,IAAI,IAAI,CAAC,aAAa,CAAC,gBAAgB;eAClC,IAAI,CAAC,aAAa,CAAC,gBAAgB,CAAC,MAAM,GAAG,CAAC,EAAE;YACnD,KAAK,MAAM,CAAC,IAAI,IAAI,CAAC,aAAa,CAAC,gBAAgB,EAAE;gBACnD,IAAI,CAAC,CAAC,iBAAiB,KAAK,4BAA4B,EAAE;;0BAClD,CAAC,sBAAgB,CAAC,EAAA;oBACxB,IAAI,CAAC,CAAC,CAAC,QAAQ,EAAE;wBACf,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,yCAAyC,CAAC,CAAC,CAAC;wBACxF,OAAO,KAAK,CAAC;qBACd;iBACF;gBACD,IAAI,CAAC,CAAC,iBAAiB,KAAK,2BAA2B,EAAE;;0BACjD,CAAC,sBAAe,CAAC,EAAA;oBACvB,IAAI,CAAC,CAAC,CAAC,cAAc,EAAE;wBACrB,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,oCAAoC,CAAC,CAAC,CAAC;wBACnF,OAAO,KAAK,CAAC;qBACd;oBACD,IAAI,CAAC,CAAC,CAAC,OAAO,EAAE;wBACd,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,wCAAwC,CAAC,CAAC,CAAC;wBACvF,OAAO,KAAK,CAAC;qBACd;iBACF;gBACD,IAAI,CAAC,CAAC,YAAY,KAAK,YAAY,IAAI,CAAC,CAAC,YAAY,KAAK,CAAC,EAAE;oBAC3D,CAAC,CAAC,YAAY,GAAG,CAAC,CAAC;iBACpB;aACF;SACF;QACD,OAAO,IAAI,CAAC;KACb;;;;IAED,GAAG;;YACG,SAAS,GAAG,IAAI,eAAe,EAAE;QACrC,IAAI,CAAC,aAAa,CAAC,gBAAgB,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;QACpD,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,aAAa,CAAC,gBAAgB,CAAC,CAAC;QACxD,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,EAAE,CAAC,CAAC;KACnC;;;;IAED,MAAM;QACJ,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC;;cAClB,OAAO,GAAG,IAAI,CAAC,IAAI,CAAC,WAAW;QACrC,IAAI,CAAC,OAAO,EAAE;YACZ,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,8CAA8C,CAAC,CAAC,CAAC;YAC7F,OAAO;SACR;;cACK,CAAC,GAAG,IAAI,CAAC,aAAa,CAAC,gBAAgB,CAAC,SAAS;;;;QAAC,CAAC,IAAI,CAAC,CAAC,EAAE,KAAK,OAAO,CAAC,IAAI,CAAC,EAAE,EAAC;QACtF,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE;YACV,IAAI,CAAC,aAAa,CAAC,gBAAgB,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;YACjD,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,aAAa,CAAC,gBAAgB,CAAC,CAAC;SACzD;KACF;;;;;IAED,aAAa,CAAC,GAAQ;QACpB,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC;QACxB,IAAI,GAAG,CAAC,OAAO,CAAC,iBAAiB,KAAK,4BAA4B,EAAC;YACjE,IAAI,CAAC,oBAAoB,CAAC,GAAG,CAAC,CAAC;SAChC;QACD,IAAI,GAAG,CAAC,OAAO,CAAC,iBAAiB,KAAK,2BAA2B,EAAC;YAChE,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,gDAAgD,CAAC,CAAC,CAAC,SAAS;;;;YAAC,EAAE,IAAI,EAAE,KAAK,IAAI,GAAG,IAAI,CAAC,mBAAmB,CAAC,GAAG,CAAC,GAAG,IAAI,EAAC,CAAC;SACvK;KACF;;;;;IACD,oBAAoB,CAAC,GAAQ;;YACvB,MAAW;;cACT,WAAW,GAAG,IAAI,CAAC,QAAQ,CAAC,uBAAuB,CAAC,6BAA6B,CAAC;;cAClF,OAAO,GAAG,WAAW,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC;QACjD,OAAO,CAAC,QAAQ,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC;QAC1C,OAAO,CAAC,QAAQ,CAAC,KAAK,GAAG,MAAM,CAAC,MAAM,CAAC,EAAE,EAAE,GAAG,CAAC,OAAO,CAAC,CAAC;QACxD,OAAO,CAAC,QAAQ,CAAC,aAAa,CAAC,SAAS;;;;QAAC,CAAC,EAAmB;;gBACvD,SAAS,GAAG,IAAI,CAAC,aAAa,CAAC,gBAAgB,CAAC,IAAI;;;;YAAC,CAAC,IAAI,CAAC,CAAC,EAAE,KAAK,EAAE,CAAC,EAAE,EAAC;YAC7E,SAAS,GAAG,MAAM,CAAC,MAAM,CAAC,SAAS,EAAE,EAAE,CAAC,CAAC;YACzC,MAAM,CAAC,KAAK,EAAE,CAAC;SAChB,EAAC,CAAC;QACH,OAAO,CAAC,QAAQ,CAAC,YAAY,CAAC,SAAS;;;;QAAC,CAAC,EAAO;YAC9C,MAAM,CAAC,KAAK,EAAE,CAAC;SAChB,EAAC,CAAC;;cACG,WAAW,GAAG;YAClB,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,2CAA2C,CAAC;YAC7E,KAAK,EAAE,GAAG;YACV,MAAM,EAAE,GAAG;YACX,OAAO,EAAE,OAAO,CAAC,QAAQ,CAAC,MAAM;YAChC,WAAW,EAAE,IAAI;SAClB;QACD,MAAM,GAAG,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,OAAO,EAAE,WAAW,CAAC,CAAC;KACvD;;;;;IAED,mBAAmB,CAAC,GAAQ;;YACtB,MAAW;;cACT,WAAW,GAAG,IAAI,CAAC,QAAQ,CAAC,uBAAuB,CAAC,4BAA4B,CAAC;;cACjF,OAAO,GAAG,WAAW,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC;QACjD,OAAO,CAAC,QAAQ,CAAC,KAAK,GAAG,MAAM,CAAC,MAAM,CAAC,EAAE,EAAE,GAAG,CAAC,OAAO,CAAC,CAAC;QACxD,OAAO,CAAC,QAAQ,CAAC,aAAa,CAAC,SAAS;;;;QAAC,CAAC,EAAmB;;gBACvD,SAAS,GAAG,IAAI,CAAC,aAAa,CAAC,gBAAgB,CAAC,IAAI;;;;YAAC,CAAC,IAAI,CAAC,CAAC,EAAE,KAAK,EAAE,CAAC,EAAE,EAAC;YAC7E,SAAS,GAAG,MAAM,CAAC,MAAM,CAAC,SAAS,EAAE,EAAE,CAAC,CAAC;YACzC,MAAM,CAAC,KAAK,EAAE,CAAC;SAChB,EAAC,CAAC;QACH,OAAO,CAAC,QAAQ,CAAC,YAAY,CAAC,SAAS;;;;QAAC,CAAC,EAAO;YAC9C,MAAM,CAAC,KAAK,EAAE,CAAC;SAChB,EAAC,CAAC;;cACG,WAAW,GAAG;YAClB,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,gDAAgD,CAAC;YAClF,KAAK,EAAE,GAAG;YACV,MAAM,EAAE,IAAI,CAAC,QAAQ,KAAK,UAAU,GAAG,GAAG,GAAG,GAAG;YAChD,OAAO,EAAE,OAAO,CAAC,QAAQ,CAAC,MAAM;YAChC,WAAW,EAAE,IAAI;SAClB;QACD,MAAM,GAAG,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,OAAO,EAAE,WAAW,CAAC,CAAC;KACvD;;;;;IAED,eAAe,CAAC,IAAI;QAClB,IAAG,IAAI,CAAC,IAAI,CAAC,KAAK,KAAK,UAAU,EAAC;YAChC,IAAI,CAAC,aAAa,CAAC,QAAQ,GAAG,KAAK,CAAC;SACrC;aAAK,IAAG,IAAI,CAAC,IAAI,CAAC,KAAK,KAAK,OAAO,EAAC;YACnC,IAAI,CAAC,aAAa,CAAC,QAAQ,GAAG,EAAE,CAAC;YACjC,IAAI,CAAC,aAAa,CAAC,OAAO,GAAG,IAAI,CAAC,cAAc,CAAC;SAClD;KACF;;;;;IACD,eAAe,CAAC,IAAI;QAClB,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;QAC3B,IAAI,CAAC,aAAa,CAAC,OAAO,GAAG,IAAI,CAAC,cAAc,CAAC;KAClD;;;YAtTF,SAAS,SAAC;gBACT,QAAQ,EAAE,wBAAwB;gBAClC,4zNAAkD;gBAElD,SAAS,EAAE;oBACR,YAAY;iBACd;;aACF;;;;YAnBuG,wBAAwB;YAAlC,QAAQ;YAE7F,cAAc;YAMd,eAAe;YAR0G,iBAAiB,uBA2G9I,QAAQ;yCACR,MAAM,SAAC,SAAS;4CAChB,MAAM,SAAC,iBAAiB;YApGD,YAAY,uBAqGnC,QAAQ;;;kBAzFV,WAAW,SAAC,OAAO;yBAGnB,MAAM;0BACN,MAAM;oBAGN,KAAK;2BAaL,KAAK;0BACL,SAAS,SAAC,kBAAkB;mBAC5B,SAAS,SAAC,MAAM;mBAChB,SAAS,SAAC,MAAM;;MAyRN,yBAAyB;;;;IACpC,YACU,UAAwB;QAAxB,eAAU,GAAV,UAAU,CAAc;KAC7B;;;;;IAEL,SAAS,CAAC,IAAS;QACjB,IAAI,IAAI,IAAI,IAAI,CAAC,MAAM,EAAE;YACvB,OAAO,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,gCAAgC,CAAC,CAAC;SACpE;aAAM;YACL,OAAO,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,mCAAmC,CAAC,CAAC;SACvE;KACF;CACF;;;;;;ACjVD,MAKaE,eAAa;IAwCtB;;;;QAJA,cAAS,GAA2B,IAAI,KAAK,EAAE,CAAC;QAK5C,IAAI,CAAC,EAAE,GAAG,aAAa,CAAC,iBAAiB,EAAE,CAAC;QAC5C,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC;;QAEtB,IAAI,CAAC,OAAO,GAAG,qCAAqC,CAAC;KACxD;CACJ;;;;;;AClDD,MAAa,eAAe;CAc3B;;;;;;ACfD,MAea,qBAAqB;;;;;;;;;IAehC,YACU,eAAuC,EACvC,OAAwB,EACZ,GAAsB,EACf,QAAgB,EACR,SAAc,EAC7B,UAAwB;QALpC,oBAAe,GAAf,eAAe,CAAwB;QACvC,YAAO,GAAP,OAAO,CAAiB;QACZ,QAAG,GAAH,GAAG,CAAmB;QACf,aAAQ,GAAR,QAAQ,CAAQ;QACR,cAAS,GAAT,SAAS,CAAK;QAC7B,eAAU,GAAV,UAAU,CAAc;QAnBpC,iBAAY,GAAG,IAAI,YAAY,EAAO,CAAC;QACvC,kBAAa,GAAG,IAAI,YAAY,EAAO,CAAC;QAIlD,gBAAW,GAAG,IAAI,CAAC;QACnB,iBAAY,GAAG,IAAI,CAAC;QACpB,SAAI,GAAG,IAAI,KAAK,EAAE,CAAC;QACnB,YAAO,GAAG;YACR,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,6BAA6B,CAAC,EAAE,KAAK,EAAE,MAAM,EAAE,KAAK,EAAE,EAAE,EAAE;YAC7F,EAAE,KAAK,EAAE,IAAI,EAAE,KAAK,EAAE,IAAI,EAAE,KAAK,EAAE,EAAE,EAAE;SACxC,CAAC;QAUA,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,IAAI,IAAI,YAAY,CAAC,QAAQ,EAAE,SAAS,CAAC,CAAC;KAC5E;;;;IAED,QAAQ;QACN,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,eAAe,CAAC,WAAW,CAAC;KAC9C;;;;IAED,OAAO;;cACC,MAAM,GAAG,IAAI,CAAC,IAAI,CAAC,QAAQ;QACjC,IAAI,CAAC,MAAM,IAAI,MAAM,CAAC,MAAM,KAAK,CAAC,EAAE;YAClC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,iCAAiC,CAAC,CAAC,CAAC;YAChF,OAAO;SACR;QACD,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;KACjC;;;;IAED,WAAW;QACT,IAAI,CAAC,YAAY,CAAC,IAAI,EAAE,CAAC;KAC1B;;;YAjDF,SAAS,SAAC;gBACT,QAAQ,EAAE,mBAAmB;gBAC7B,k/BAA6C;gBAE7C,SAAS,EAAE;oBACR,YAAY;iBACd;;aACF;;;;YAXQ,sBAAsB;YADtB,eAAe;YAFf,iBAAiB,uBAiCrB,QAAQ;yCACR,MAAM,SAAC,SAAS;4CAChB,MAAM,SAAC,iBAAiB;YA/BD,YAAY,uBAgCnC,QAAQ;;;2BAnBV,MAAM;4BACN,MAAM;wBACN,SAAS,SAAC,WAAW;mBACrB,SAAS,SAAC,MAAM;;;;;;;ACpBnB,MAEa,eAAe;;;;;;IACxB,YAAY,EAAW,EAAE,IAAa,EAAE,IAAa;QACjD,IAAI,CAAC,EAAE,GAAG,GAAG,GAAG,aAAa,CAAC,iBAAiB,EAAE,CAAC;QAClD,IAAI,CAAC,WAAW,GAAG,EAAE,CAAC;QACtB,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC;QAC1B,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;KACpB;CAUJ;;;;;;AClBD,MAEa,uBAAwB,SAAQ,eAAe;IAGxD;QACI,KAAK,EAAE,CAAC;KACX;CACJ;;;;;;ACRD,MAIa,iBAAiB;IAC1B,iBAAiB;;;;;;IACjB,SAAS,CAAC,SAAoC,EAAE,UAAU,GAAG,EAAE;;YACvD,CAAC,GAAG,EAAE;QACV,OAAO,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;QACvB,SAAS,CAAC,OAAO;;;;QAAC,CAAC;YACf,CAAC,IAAI,CAAC,CAAC,aAAa,GAAG,GAAG,CAAC;SAC9B,EAAC,CAAC;QACH,IAAI,CAAC,EAAE;YACH,CAAC,GAAG,CAAC,CAAC,SAAS,CAAC,CAAC,EAAE,CAAC,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;SACpC;QACD,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;QACf,OAAO,CAAC,GAAG,CAAC,GAAG,UAAU,CAAC;KAC7B;;;YAdJ,IAAI,SAAC,EAAE,IAAI,EAAE,eAAe,EAAE;;;;;;;;;ACH/B,MA4Ba,0BAA0B;;;;;;;;;;;;;;IA+BrC,YACS,eAAuC,EACtC,IAAuB,EACvB,MAAc,EACd,QAAkC,EAClC,QAAkB,EAClB,YAA4B,EAChB,GAAsB,EACf,QAAgB,EACR,SAAc,EAC7B,UAAwB,EACpC,iBAAoC;QAVrC,oBAAe,GAAf,eAAe,CAAwB;QACtC,SAAI,GAAJ,IAAI,CAAmB;QACvB,WAAM,GAAN,MAAM,CAAQ;QACd,aAAQ,GAAR,QAAQ,CAA0B;QAClC,aAAQ,GAAR,QAAQ,CAAU;QAClB,iBAAY,GAAZ,YAAY,CAAgB;QAChB,QAAG,GAAH,GAAG,CAAmB;QACf,aAAQ,GAAR,QAAQ,CAAQ;QACR,cAAS,GAAT,SAAS,CAAK;QAC7B,eAAU,GAAV,UAAU,CAAc;QACpC,sBAAiB,GAAjB,iBAAiB,CAAmB;QAxC9C,QAAG,GAAG,wBAAwB,CAAC;QAErB,iBAAY,GAAG,IAAI,YAAY,EAAO,CAAC;QACvC,kBAAa,GAAG,IAAI,YAAY,EAAO,CAAC;QAKlD,oBAAe,GAAG,KAAK,CAAC;QACxB,eAAU,GAAG,KAAK,CAAC;QACnB,cAAS,GAAG,sCAAsC,CAAC;QAEnD,kBAAa,GAAG;YACd,EAAE,KAAK,EAAE,GAAG,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,yCAAyC,CAAC,EAAE;YAC1F,EAAE,KAAK,EAAE,GAAG,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,6CAA6C,CAAC,EAAE;SAC/F,CAAC;QACF,kBAAa,GAAG,EAAE,CAAC;QACnB,UAAK,GAAQ,EAAE,UAAU,EAAE,MAAM,EAAE,CAAC;QAIpC,cAAS,GAAsB,EAAE,CAAC;QAClC,eAAU,GAAe,EAAE,CAAC;QAC5B,iBAAY,GAAU,EAAE,CAAC;QACzB,cAAS,GAAG,IAAI,CAAC;QACjB,kBAAa,GAAG,IAAI,CAAC;QAGrB,cAAS,GAA8B,EAAE,CAAC;QAcxC,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,IAAI,IAAI,YAAY,CAAC,QAAQ,EAAE,SAAS,CAAC,CAAC;QAC3E,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,IAAI,IAAI,uBAAuB,EAAE,CAAC;QAC/D,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,aAAa,KAAK,IAAI,CAAC,SAAS,IAAI,IAAI,CAAC,SAAS,CAAC,MAAM,GAAG,IAAI,CAAC,iBAAiB,CAAC,SAAS,CAAC,IAAI,CAAC,SAAS,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC,aAAa,IAAI,EAAE,CAAC,CAAC;QAC5K,IAAI,IAAI,CAAC,eAAe,CAAC,KAAK,KAAK,SAAS,EAAE;YAC5C,IAAI,CAAC,QAAQ,CAAC,YAAY,GAAG,GAAG,CAAC;YACjC,IAAI,CAAC,SAAS,GAAG,EAAE,YAAY,EAAE,GAAG,EAAE,CAAC;YACvC,IAAI,CAAC,KAAK,GAAG,EAAE,UAAU,EAAE,MAAM,EAAE,MAAM,EAAE,OAAO,EAAE,CAAC;SACtD;KACF;;;;IAED,QAAQ;QACN,IAAI,CAAC,eAAe,CAAC,YAAY,EAAE,CAAC,SAAS;;;;QAAC,EAAE;YAC9C,IAAI,EAAE,IAAI,EAAE,CAAC,YAAY,KAAK,MAAM,EAAE;gBACpC,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;aACxB;SACF,EAAC,CAAC;KACJ;;;;IAED,eAAe;QACb,IAAI,CAAC,MAAM,CAAC,iBAAiB;;;QAAC;YAC5B,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC,gBAAgB,CAC5C,YAAY,EACZ,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,CAC7B,CAAC;YACF,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC,gBAAgB,CAC5C,YAAY,EACZ,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,CAC7B,CAAC;SACH,EAAC,CAAC;KACJ;;;;;IAED,YAAY,CAAC,KAAK;QAChB,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;QAC5B,IAAI,IAAI,CAAC,eAAe,EAAE;YACxB,IAAI,CAAC,eAAe,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC;SACnC;KACF;;;;;IACD,YAAY,CAAC,KAAK;QAChB,IAAI,CAAC,eAAe,GAAG,KAAK,CAAC;QAC7B,IAAI,CAAC,eAAe,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC;KACpC;;;;;;;IACO,eAAe,CAAC,KAAU,EAAE,MAAM,GAAG,KAAK;;cAC1C,GAAG,GAAG,MAAM,GAAG,EAAE,GAAG,MAAM;;cAC1B,SAAS,GAAG,KAAK,CAAC,MAAM,CAAC,aAAa,CAAC,oBAAoB,CAAC;QAClE,IAAI,SAAS,EAAE;YACb,SAAS,CAAC,KAAK,CAAC,OAAO,GAAG,GAAG,CAAC;SAC/B;KACF;;;;IAED,OAAO;QACL,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;KACxC;;;;IAED,WAAW;QACT,IAAI,CAAC,YAAY,CAAC,IAAI,EAAE,CAAC;KAC1B;;;;IAED,KAAK;QACH,IAAI,CAAC,QAAQ,CAAC,WAAW,GAAG,IAAI,CAAC;QACjC,IAAI,CAAC,QAAQ,CAAC,aAAa,GAAG,IAAI,CAAC;QACnC,IAAI,CAAC,aAAa,GAAG,EAAE,CAAC;KACzB;;;;;IAED,kBAAkB,CAAC,IAAI;QACrB,IAAI,IAAI,CAAC,KAAK,KAAK,GAAG,EAAE;YACtB,IAAI,CAAC,SAAS,GAAG,EAAE,YAAY,EAAE,GAAG,EAAE,CAAC;YACvC,IAAI,CAAC,YAAY,GAAG,GAAG,CAAC;SACzB;aAAM;YACL,IAAI,CAAC,SAAS,GAAG,EAAE,YAAY,EAAE,GAAG,EAAE,CAAC;YACvC,IAAI,CAAC,YAAY,GAAG,GAAG,CAAC;SACzB;QACD,IAAI,CAAC,KAAK,EAAE,CAAC;QACb,IAAI,CAAC,QAAQ,CAAC,OAAO,GAAG,IAAI,CAAC;QAC7B,IAAI,CAAC,QAAQ,CAAC,KAAK,GAAG,IAAI,CAAC;KAC5B;;;;IAED,gBAAgB;;QAEd,IAAI,IAAI,CAAC,QAAQ,CAAC,YAAY,KAAK,GAAG,EAAE;YACtC,IAAI,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE;gBAC3C,KAAK,MAAM,MAAM,IAAI,IAAI,CAAC,eAAe,CAAC,OAAO,EAAE;oBACjD,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,QAAQ,EAAE,MAAM,CAAC,CAAC;iBACvC;gBACD,IAAI,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,WAAW,IAAI,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC,MAAM,GAAG,CAAC,EAAE;;0BACnG,UAAU,GAAG,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC;oBACjE,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,UAAU,CAAC,IAAI,EAAE,QAAQ,EACnD,UAAU,CAAC,IAAI,EAAE,YAAY,CAAC,UAAU,CAAC,CAAC;iBAC7C;aACF;;kBACK,OAAO,GAAG,IAAI,KAAK,EAAE;YAC3B,IAAI,IAAI,CAAC,eAAe,CAAC,kBAAkB,CAAC,MAAM,GAAG,CAAC,EAAE;gBACtD,KAAK,MAAM,QAAQ,IAAI,IAAI,CAAC,eAAe,CAAC,kBAAkB,EAAE;oBAC9D,IAAI,CAAC,OAAO,CAAC,IAAI;;;;oBAAC,CAAC,IAAI,CAAC,CAAC,GAAG,KAAK,QAAQ,CAAC,GAAG,EAAC,EAAE;wBAC9C,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;qBACxB;iBACF;aACF;YACD,IAAI,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE;gBACtB,KAAK,MAAM,CAAC,IAAI,OAAO,EAAE;oBACvB,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;iBACzB;aACF;YACD,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,YAAY,CAAC,QAAQ,CAAC,CAAC;YAChD,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;YACjD,IAAI,CAAC,IAAI,CAAC,eAAe,EAAE,CAAC,IAAI;;;;YAAC,CAAC,IAAY;gBAC5C,IAAI,CAAC,QAAQ,CAAC,KAAK,GAAG,IAAI,CAAC;;gBAE3B,IAAG,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE;oBACrB,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,eAAe,GAAG,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,eAAe,CAAC,MAAM;;;;oBAAC,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI;;;;oBAAC,CAAC,IAAI,CAAC,CAAC,GAAG,KAAK,CAAC,CAAC,GAAG,EAAC,EAAC,CAAC;iBAC9H;aACF,EAAC,CAAC;SACJ;KACF;;;;IACD,cAAc;QACZ,IAAI,CAAC,WAAW,EAAE,CAAC;KACpB;;;;IACD,aAAa;;QAEX,IAAI,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE;YAC3C,KAAK,MAAM,MAAM,IAAI,IAAI,CAAC,eAAe,CAAC,OAAO,EAAE;gBACjD,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,QAAQ,EAAE,MAAM,CAAC,CAAC;aACvC;YACD,IAAI,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,WAAW,IAAI,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC,MAAM,GAAG,CAAC,EAAE;;sBACnG,UAAU,GAAG,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC;gBACjE,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,UAAU,CAAC,IAAI,EAAE,QAAQ,EACnD,UAAU,CAAC,IAAI,EAAE,YAAY,CAAC,UAAU,CAAC,CAAC;aAC7C;SACF;;YACG,OAAO,GAAG,IAAI,KAAK,EAAE;QACzB,OAAO,GAAG,IAAI,CAAC,eAAe,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC;QACnD,IAAI,IAAI,CAAC,eAAe,CAAC,kBAAkB,CAAC,MAAM,GAAG,CAAC,EAAE;YACtD,KAAK,MAAM,QAAQ,IAAI,IAAI,CAAC,eAAe,CAAC,kBAAkB,EAAE;gBAC9D,IAAI,CAAC,OAAO,CAAC,IAAI;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,GAAG,KAAK,QAAQ,CAAC,GAAG,EAAC,EAAE;oBAC9C,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;iBACxB;aACF;SACF;QACD,IAAI,IAAI,CAAC,eAAe,CAAC,wBAAwB,CAAC,MAAM,GAAG,CAAC,EAAE;YAC5D,KAAK,MAAM,QAAQ,IAAI,IAAI,CAAC,eAAe,CAAC,wBAAwB,EAAE;gBACpE,IAAI,CAAC,OAAO,CAAC,IAAI;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,GAAG,KAAK,QAAQ,CAAC,GAAG,EAAC,EAAE;oBAC9C,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;iBACxB;aACF;SACF;QACD,IAAI,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE;YACtB,KAAK,MAAM,CAAC,IAAI,OAAO,EAAE;gBACvB,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;aACzB;SACF;QACD,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,YAAY,CAAC,WAAW,CAAC,CAAC;QACnD,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,CAAC;QACrD,IAAI,CAAC,IAAI,CAAC,eAAe,EAAE,CAAC,IAAI;;;;QAAC,CAAC,cAAsB;YACtD,IAAI,CAAC,QAAQ,CAAC,SAAS,GAAG,cAAc,CAAC;YACzC,KAAK,MAAM,CAAC,IAAI,IAAI,CAAC,SAAS,EAAE;gBAC9B,CAAC,CAAC,SAAS,GAAG,cAAc,CAAC;aAC9B;;YAED,IAAG,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE;gBACrB,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,eAAe,GAAG,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,eAAe,CAAC,MAAM;;;;gBAAC,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,GAAG,KAAK,CAAC,CAAC,GAAG,EAAC,EAAC,CAAC;aAC9H;SACF,EAAC,CAAC;KACJ;;;;;IAED,aAAa,CAAC,EAAO;QACnB,IAAI,CAAC,QAAQ,CAAC,OAAO,GAAG,EAAE,CAAC,IAAI,CAAC,KAAK,CAAC;KACvC;;;;IACD,YAAY;QACV,IAAI,CAAC,QAAQ,CAAC,OAAO,GAAG,IAAI,CAAC;KAC9B;;;;;IACD,iBAAiB,CAAC,IAAI;QACpB,IAAI,CAAC,SAAS,GAAG,EAAE,CAAC;QACpB,IAAI,IAAI,IAAI,IAAI,CAAC,IAAI,CAAC,MAAM,GAAG,CAAC,EAAE;;kBAC1B,SAAS,GAAG,EAAE;YACpB,KAAI,MAAM,YAAY,IAAI,IAAI,CAAC,IAAI,EAAE;gBACnC,IAAI,IAAI,CAAC,SAAS,EAAE;oBAClB,IAAI,CAAC,QAAQ,GAAE,IAAI,uBAAuB,EAAE,CAAC;oBAC7C,IAAI,CAAC,QAAQ,CAAC,WAAW,GAAG,YAAY,CAAC,EAAE,CAAC;oBAC5C,IAAI,CAAC,QAAQ,CAAC,aAAa,GAAG,YAAY,CAAC,IAAI,CAAC;oBAChD,IAAI,CAAC,QAAQ,CAAC,IAAI,GAAG,kCAAkC,CAAC;oBACxD,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,YAAY,EAAE;wBAC/B,IAAI,CAAC,QAAQ,CAAC,YAAY,GAAG,YAAY,CAAC,OAAO,GAAG,EAAE,CAAC;wBACvD,IAAI,CAAC,SAAS,GAAG;4BACf,YAAY,EAAE,YAAY,CAAC,OAAO;yBACnC,CAAC;qBACH;oBACD,IAAI,CAAC,QAAQ,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC;oBAC3C,IAAI,CAAC,QAAQ,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,GAAC,EAAE,CAAC;oBAC7D,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;iBAC/B;qBAAM;oBACL,IAAI,CAAC,QAAQ,CAAC,WAAW,GAAG,YAAY,CAAC,EAAE,CAAC;oBAC5C,IAAI,CAAC,QAAQ,CAAC,aAAa,GAAG,YAAY,CAAC,IAAI,CAAC;oBAChD,IAAI,CAAC,QAAQ,CAAC,IAAI,GAAG,kCAAkC,CAAC;oBACxD,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,YAAY,EAAE;wBAC/B,IAAI,CAAC,QAAQ,CAAC,YAAY,GAAG,YAAY,CAAC,OAAO,GAAG,EAAE,CAAC;wBACvD,IAAI,CAAC,SAAS,GAAG;4BACf,YAAY,EAAE,YAAY,CAAC,OAAO;yBACnC,CAAC;qBACH;oBACD,IAAI,CAAC,QAAQ,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC;oBAC3C,IAAI,CAAC,QAAQ,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,GAAC,EAAE,CAAC;oBAC7D,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;iBAC/B;aACF;YACD,IAAI,CAAC,SAAS,GAAG,CAAC,GAAG,SAAS,CAAC,CAAC;YAChC,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,SAAS,IAAE,IAAI,CAAC,SAAS,CAAC,MAAM,IAAE,IAAI,CAAC,iBAAiB,CAAC,SAAS,CAAC,IAAI,CAAC,SAAS,CAAC,KAAG,IAAI,CAAC,QAAQ,CAAC,aAAa,GAAC,IAAI,CAAC,QAAQ,CAAC,aAAa,GAAC,EAAE,CAAC,CAAA;SAC3K;KACF;;;;IACD,WAAW;QACT,IAAI,CAAC,SAAS,GAAG,EAAE,CAAC;;cACd,WAAW,GAAG,IAAI,CAAC,QAAQ,CAAC,uBAAuB,CAAC,wBAAwB,CAAC;;cAC7E,OAAO,GAAG,WAAW,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC;QACjD,OAAO,CAAC,QAAQ,CAAC,cAAc,GAAG,IAAI,CAAC,YAAY,CAAE;QACrD,OAAO,CAAC,QAAQ,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC;QAC9C,OAAO,CAAC,QAAQ,CAAC,UAAU,GAAG,IAAI,CAAC,SAAS,CAAC;QAC7C,OAAO,CAAC,QAAQ,CAAC,UAAU,GAAG,UAAU,CAAC;QACzC,OAAO,CAAC,QAAQ,CAAC,WAAW,GAAG,KAAK,CAAC;;QAErC,IAAG,IAAI,CAAC,YAAY,KAAK,GAAG,IAAI,IAAI,CAAC,SAAS,EAAE;YAC9C,OAAO,CAAC,QAAQ,CAAC,WAAW,GAAG,IAAI,CAAC;SACrC;;cACK,WAAW,GAAG;YAClB,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,0CAA0C,CAAC;YAC5E,KAAK,EAAE,IAAI;YACX,MAAM,EAAE,GAAG;YACX,WAAW,EAAE,IAAI;YACjB,OAAO,EAAE,OAAO,CAAC,QAAQ,CAAC,cAAc;YACxC,aAAa,EAAE,IAAI;YACnB,SAAS,EAAE,KAAK;SACjB;;cACK,MAAM,GAAG,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,OAAO,EAAE,WAAW,CAAC;;QAE3D,OAAO,CAAC,QAAQ,CAAC,WAAW,CAAC,SAAS;;;;QAAC,GAAG;;YAExC,MAAM,CAAC,KAAK,EAAE,CAAC;SAChB,EAAC,CAAC;;QAEH,OAAO,CAAC,QAAQ,CAAC,YAAY,CAAC,SAAS;;;;QAAC,GAAG;YACzC,IAAI,CAAC,iBAAiB,CAAC,GAAG,CAAC,CAAC;SAC7B,EAAC,CAAC;KACJ;;;;IAED,aAAa;QACX,IAAG,CAAC,IAAI,CAAC,SAAS,EAAE;YAClB,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAA;SACnC;QACD,OAAO,IAAI,CAAC,SAAS,CAAC;KACvB;;;YA1SF,SAAS,SAAC;gBACT,QAAQ,EAAE,wBAAwB;gBAClC,k5OAAkD;gBAElD,SAAS,EAAE;oBACR,YAAY;iBACd;;aACF;;;;YAhBQ,sBAAsB;YACR,iBAAiB;YANtC,MAAM;YAEN,wBAAwB;YAAE,QAAQ;YAO5B,cAAc;YAPmD,iBAAiB,uBA0DrF,QAAQ;yCACR,MAAM,SAAC,SAAS;4CAChB,MAAM,SAAC,iBAAiB;YApDD,YAAY,uBAqDnC,QAAQ;YAnDJ,iBAAiB;;;kBAWvB,WAAW,SAAC,OAAO;2BAGnB,MAAM;4BACN,MAAM;uBACN,SAAS,SAAC,wBAAwB;wBAClC,SAAS,SAAC,WAAW;yBAErB,SAAS,SAAC,YAAY;;;;;;;ACpCzB,MAwBa,0BAA0B;;;;;;;;;;;;;;;IAyErC,YACU,OAAwB,EACxB,OAA+B,EAC/B,IAAuB,EACvB,QAAkC,EAClC,QAAkB,EAClB,YAA4B,EAC5B,eAAuC,EACvC,IAAiB,EACL,GAAsB,EACf,QAAgB,EACR,SAAc,EAC7B,UAAwB;QAXpC,YAAO,GAAP,OAAO,CAAiB;QACxB,YAAO,GAAP,OAAO,CAAwB;QAC/B,SAAI,GAAJ,IAAI,CAAmB;QACvB,aAAQ,GAAR,QAAQ,CAA0B;QAClC,aAAQ,GAAR,QAAQ,CAAU;QAClB,iBAAY,GAAZ,YAAY,CAAgB;QAC5B,oBAAe,GAAf,eAAe,CAAwB;QACvC,SAAI,GAAJ,IAAI,CAAa;QACL,QAAG,GAAH,GAAG,CAAmB;QACf,aAAQ,GAAR,QAAQ,CAAQ;QACR,cAAS,GAAT,SAAS,CAAK;QAC7B,eAAU,GAAV,UAAU,CAAc;QAnF9C,eAAU,GAAG,sCAAsC,CAAC;QACpD,aAAQ,GAAG,KAAK,CAAC;QAIP,iBAAY,GAAG,IAAI,YAAY,EAAO,CAAC;QACvC,kBAAa,GAAG,IAAI,YAAY,EAAiB,CAAC;QAGpD,cAAS,GAA+C,UAAU,CAAC;QAe3E,kBAAa,GAAG,IAAIA,eAAa,EAAE,CAAC;QAkBpC,cAAS,GAAG,IAAI,CAAC,OAAO,CAAC,eAAe,CAAC,GAAG;;;;QAAC,CAAC,KAAK,EAAE,KAAK,EAAE,CAAC,CAAC,IAAI,EAAE,IAAI,EAAE,CAAC,CAAC,IAAI,EAAE,CAAC,EAAC,CAAC;QAErF,sBAAiB,GAAG;YAClB,EAAE,KAAK,EAAE,qBAAqB,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,iDAAiD,CAAC,EAAE;SACrH,CAAC;QAEF,qBAAgB,GAAG;YACjB,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,iCAAiC,CAAC,EAAE,KAAK,EAAE,KAAK,EAAE;YACpF,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,yDAAyD,CAAC,EAAE,KAAK,EAAE,6BAA6B,EAAE;SACrI,CAAC;QACF,cAAS,GAAG,EAAE,CAAC;QAEf,gBAAW,GAAkB,EAAE,CAAC;QAEhC,kBAAa,GAAG;YACd,EAAE,KAAK,EAAE,oBAAoB,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,4CAA4C,CAAC,EAAE;YAC9G,EAAE,KAAK,EAAE,qBAAqB,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,6CAA6C,CAAC,EAAE;YAChH,EAAE,KAAK,EAAE,iBAAiB,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,yCAAyC,CAAC,EAAE;YACxG,EAAE,KAAK,EAAE,qBAAqB,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,6CAA6C,CAAC,EAAE;SACjH,CAAC;QACF,4BAAuB,GAAG;YACxB,EAAE,KAAK,EAAE,iBAAiB,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,yCAAyC,CAAC,EAAE;YACxG,EAAE,KAAK,EAAE,qBAAqB,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,6CAA6C,CAAC,EAAE;YAChH,EAAE,KAAK,EAAE,6BAA6B,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,qDAAqD,CAAC,EAAE;SACjI,CAAC;QACF,2BAAsB,GAAG,KAAK,CAAC;QAE/B,mBAAc,GAAG,KAAK,CAAC;QAqQvB,eAAU;;;QAAG;YACX,IAAI,IAAI,CAAC,aAAa,CAAC,QAAQ,KAAK,kBAAkB,IAAI,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,MAAM;;;;YAAC,CAAC,IAAI,CAAC,CAAC,IAAI,EAAC,CAAC,MAAM,GAAG,CAAC,EAAE;gBACrH,OAAO,IAAI,CAAC;aACb;iBAAM;gBACL,OAAO,KAAK,CAAC;aACd;SACF,EAAA;;QA4QD,oBAAe,GAAG;YAChB,EAAE,KAAK,EAAE,2BAA2B,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,sCAAsC,CAAC,EAAE;YAC/G,EAAE,KAAK,EAAE,yBAAyB,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,qCAAqC,CAAC,EAAE;YAC5G,EAAE,KAAK,EAAE,0BAA0B,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,sCAAsC,CAAC,EAAE;SAC/G,CAAC;QACF,iBAAY,GAAG;YACb,EAAE,KAAK,EAAE,oBAAoB,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,4CAA4C,CAAC,EAAE;YAC9G,EAAE,KAAK,EAAE,qBAAqB,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,6CAA6C,CAAC,EAAE;YAChH,EAAE,KAAK,EAAE,iBAAiB,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,yCAAyC,CAAC,EAAE;YACxG,EAAE,KAAK,EAAE,qBAAqB,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,6CAA6C,CAAC,EAAE;SACjH,CAAC;QACF,qBAAgB,GAAG;YACjB,EAAE,KAAK,EAAE,kBAAkB,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,qCAAqC,CAAC,EAAE;YACrG,EAAE,KAAK,EAAE,oBAAoB,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,qCAAqC,CAAC,EAAE;YACvG,EAAE,KAAK,EAAE,kBAAkB,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,oCAAoC,CAAC,EAAE;SACrG,CAAC;QAthBA,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,IAAI,IAAI,YAAY,CAAC,QAAQ,EAAE,SAAS,CAAC,CAAC;KAC5E;;;;;IA5ED,IACI,QAAQ,CAAC,CAA6C;QACxD,IAAI,CAAC,SAAS,GAAG,CAAC,CAAC;QACnB,IAAI,IAAI,CAAC,QAAQ,KAAK,UAAU,EAAE;YAChC,IAAI,CAAC,uBAAuB,GAAG;gBAC7B,EAAE,KAAK,EAAE,iBAAiB,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,6CAA6C,CAAC,EAAE;gBAC5G,EAAE,KAAK,EAAE,6BAA6B,EAAE,IAAI,EAAG,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,yDAAyD,CAAC,EAAE;aAAC,CAAC;SAC1I;KACF;;;;IAED,IAAI,QAAQ;QACV,OAAO,IAAI,CAAC,SAAS,CAAC;KACvB;;;;;IAGD,IACI,KAAK,CAAC,CAAgB;;;cAElB,iBAAiB,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,MAAM,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC;QAC9D,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,KAAK,CAAC,iBAAiB,CAAC,CAAC;QACnD,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC,CAAC,KAAK,GAAG,CAAC;QAC7D,IAAI,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,aAAa,CAAC,QAAQ,CAAC,EAAE;YACnD,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;YAC3B,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,kBAAkB,EAAE;gBAC1C,IAAI,CAAC,aAAa,CAAC,kBAAkB,GAAG,IAAIF,oBAAkB,EAAE,CAAC;aAClE;SACF;KACF;;;;IAED,IAAI,KAAK;QACP,OAAO,IAAI,CAAC,aAAa,CAAC;KAC3B;;;;IA+CD,QAAQ;QACN,IAAI,IAAI,CAAC,QAAQ,KAAK,UAAU,EAAE;YAChC,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,gBAAgB,CAAC;YACvC,IAAI,IAAI,CAAC,aAAa,CAAC,QAAQ,KAAK,IAAI,CAAC,gBAAgB,CAAC,CAAC,CAAC,CAAC,KAAK,EAAE;gBAClE,IAAI,CAAC,aAAa,GAAG;oBACnB,EAAE,KAAK,EAAE,oBAAoB,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,gDAAgD,CAAC,EAAE;iBACnH,CAAC;gBACF,IAAI,CAAC,uBAAuB,GAAG;oBAC7B,EAAE,KAAK,EAAE,qBAAqB,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,wDAAwD,CAAC,EAAE;iBAC5H,CAAC;aACH;iBAAM;gBACL,IAAI,CAAC,aAAa,GAAG;oBACnB,EAAE,KAAK,EAAE,oBAAoB,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,gDAAgD,CAAC,EAAE;oBAClH,EAAE,KAAK,EAAE,qBAAqB,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,iDAAiD,CAAC,EAAE;oBACpH,EAAE,KAAK,EAAE,iBAAiB,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,6CAA6C,CAAC,EAAE;oBAC5G,EAAE,KAAK,EAAE,qBAAqB,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,iDAAiD,CAAC,EAAE;iBACrH,CAAC;gBACF,IAAI,CAAC,uBAAuB,GAAG;oBAC7B,EAAE,KAAK,EAAE,iBAAiB,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,6CAA6C,CAAC,EAAE;oBAC5G,EAAE,KAAK,EAAE,6BAA6B,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,yDAAyD,CAAC,EAAE;iBACrI,CAAC;aACH;SACF;aAAM;YACL,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,eAAe,CAAC;SACvC;;cAEK,GAAG,GAAG,mDAAmD;QAC/D,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,SAAS;;;;QAAC,CAAC,IAAS;YACrC,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;;YAExB,IAAI,IAAI,CAAC,eAAe,CAAC,KAAK,KAAK,SAAS,EAAE;gBAC5C,IAAI,CAAC,sBAAsB,GAAG,IAAI,CAAC;aACpC;iBAAM;gBACL,IAAI,CAAC,sBAAsB,GAAG,IAAI,CAAC;aACpC;YACD,IAAI,CAAC,IAAI,CAAC,sBAAsB,EAAE;gBAChC,IAAI,CAAC,gBAAgB,GAAG,CAAC,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,iCAAiC,CAAC,EAAE,KAAK,EAAE,KAAK,EAAE,CAAC,CAAC;aAChH;SACF,EAAC,CAAC;KACJ;;;;IAED,OAAO;QACL,IAAI,IAAI,CAAC,WAAW,EAAE;YACpB,IAAI,CAAC,WAAW,CAAC,WAAW,EAAE,CAAC;SAChC;QACD,IAAI,CAAC,WAAW,EAAE,CAAC;QACnB,IAAI,IAAI,CAAC,cAAc,EAAE;YACvB,IAAI,CAAC,aAAa,CAAC,kBAAkB,GAAG,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC;YAC5E,IAAI,IAAI,CAAC,aAAa,CAAC,kBAAkB,CAAC,mBAAmB,IAAI,IAAI,CAAC,aAAa,CAAC,kBAAkB,CAAC,mBAAmB,CAAC,MAAM,GAAG,CAAC,EAAE;gBACrI,IAAI,CAAC,aAAa,CAAC,kBAAkB,CAAC,mBAAmB,GAAG,IAAI,CAAC,aAAa,CAAC,kBAAkB,CAAC,mBAAmB,CAAC,MAAM;;;;gBAAC,QAAQ,IAAI,QAAQ,CAAC,IAAI,EAAC,CAAC;aACzJ;SACF;aAAM;YACL,IAAI,CAAC,aAAa,CAAC,kBAAkB,GAAG,IAAI,CAAC;SAC9C;QACD,IAAI,IAAI,CAAC,SAAS,EAAE,EAAE;YACpB,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;SAC7C;KACF;;;;IACD,WAAW;QACT,IAAI,CAAC,YAAY,CAAC,IAAI,EAAE,CAAC;KAC1B;;;;;IAED,cAAc,CAAC,IAAS;QACtB,IAAI,IAAI,CAAC,IAAI,CAAC,KAAK,KAAK,IAAI,CAAC,gBAAgB,CAAC,CAAC,CAAC,CAAC,KAAK,EAAE;;kBAChD,eAAe,GAAG,IAAI,eAAe,EAAE;YAC7C,eAAe,CAAC,IAAI,GAAG,oBAAoB,CAAC;YAC5C,eAAe,CAAC,kBAAkB,GAAG,qBAAqB,CAAC;YAC3D,IAAI,CAAC,aAAa,CAAC,SAAS,GAAG,CAAC,eAAe,CAAC,CAAC;YACjD,IAAI,CAAC,aAAa,GAAG;gBACnB,EAAE,KAAK,EAAE,oBAAoB,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,gDAAgD,CAAC,EAAE;aACnH,CAAC;YACF,IAAI,CAAC,uBAAuB,GAAG;gBAC7B,EAAE,KAAK,EAAE,qBAAqB,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,iDAAiD,CAAC,EAAE;aACrH,CAAC;SACH;aAAM;YACL,KAAK,MAAM,CAAC,IAAI,IAAI,CAAC,aAAa,CAAC,SAAS,EAAE;gBAC5C,IAAI,CAAC,CAAC,IAAI,KAAK,oBAAoB,IAAI,CAAC,CAAC,kBAAkB,KAAK,qBAAqB,EAAE;oBACrF,CAAC,CAAC,kBAAkB,GAAG,iBAAiB,CAAC;iBAC1C;aACF;YACD,IAAI,CAAC,aAAa,GAAG;gBACnB,EAAE,KAAK,EAAE,oBAAoB,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,gDAAgD,CAAC,EAAE;gBAClH,EAAE,KAAK,EAAE,qBAAqB,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,iDAAiD,CAAC,EAAE;gBACpH,EAAE,KAAK,EAAE,iBAAiB,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,6CAA6C,CAAC,EAAE;gBAC5G,EAAE,KAAK,EAAE,qBAAqB,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,iDAAiD,CAAC,EAAE;aACrH,CAAC;YACF,IAAI,CAAC,uBAAuB,GAAG;gBAC7B,EAAE,KAAK,EAAE,iBAAiB,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,6CAA6C,CAAC,EAAE;gBAC5G,EAAE,KAAK,EAAE,6BAA6B,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,yDAAyD,CAAC,EAAE;aACrI,CAAC;SACH;KACF;;;;;IAED,cAAc,CAAC,QAAgB;QAC7B,IAAI,IAAI,CAAC,aAAa,CAAC,QAAQ,CAAC,EAAE;YAChC,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;YAC3B,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,kBAAkB,EAAE;gBAC1C,IAAI,CAAC,aAAa,CAAC,kBAAkB,GAAG,IAAIA,oBAAkB,EAAE,CAAC;aAClE;SACF;aAAM;YACL,IAAI,CAAC,cAAc,GAAG,KAAK,CAAC;YAC5B,IAAI,CAAC,aAAa,CAAC,kBAAkB,GAAG,IAAI,CAAC;SAC9C;KACF;;;;;;IACO,aAAa,CAAC,QAAgB;QACpC,IAAI,QAAQ,EAAE;;kBACN,YAAY,GAAG,QAAQ,CAAC,KAAK,CAAC,GAAG,CAAC;;gBACpC,cAAc,GAAG,YAAY,CAAC,IAAI;;;;YAAC,GAAG,IAAI,IAAI,CAAC,OAAO,CAAC,eAAe,CAAC,IAAI;;;;YAAC,OAAO,IAAI,OAAO,CAAC,IAAI,IAAI,GAAG,IAAI,OAAO,CAAC,WAAW,IAAI,KAAK,EAAC,EAAC;YAChJ,IAAI,cAAc,EAAE;gBAClB,OAAO,IAAI,CAAC;aACb;iBAAM;gBACL,OAAO,KAAK,CAAC;aACd;SACF;aAAM;YACL,OAAO,KAAK,CAAA;SACb;KACF;;;;;IAED,WAAW,CAAC,IAAW;QACrB,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,OAAO,GAAG,EAAE,CAAC;QACtD,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,SAAS,GAAG,EAAE,CAAC;QACxD,IAAI,IAAI,IAAI,IAAI,CAAC,MAAM,GAAG,CAAC,EAAE;;gBACvB,OAAO,GAAG,EAAE;YAChB,KAAK,MAAM,CAAC,IAAI,IAAI,EAAE;gBACpB,OAAO,IAAI,CAAC,CAAC,EAAE,GAAG,GAAG,CAAC;aACvB;YACD,IAAI,OAAO,EAAE;gBACX,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,OAAO,GAAG,OAAO,CAAC,SAAS,CAAC,CAAC,EAAE,OAAO,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;aAC7F;;gBACG,SAAS,GAAG,EAAE;YAClB,KAAK,MAAM,CAAC,IAAI,IAAI,EAAE;gBACpB,SAAS,IAAI,CAAC,CAAC,IAAI,GAAG,GAAG,CAAC;aAC3B;YACD,IAAI,SAAS,EAAE;gBACb,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,SAAS,GAAG,SAAS,CAAC,SAAS,CAAC,CAAC,EAAE,SAAS,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;aACnG;SACF;KACF;;;;;IAED,UAAU,CAAC,KAAU;QACnB,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,OAAO,GAAG,EAAE,CAAC;QACjD,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,SAAS,GAAG,EAAE,CAAC;KACpD;;;;;IAED,aAAa,CAAC,KAAU;QACtB,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,UAAU,GAAG,EAAE,CAAC;QACpD,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,YAAY,GAAG,EAAE,CAAC;QACtD,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,YAAY,GAAG,EAAE,CAAC;QACtD,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,KAAK,GAAG,EAAE,CAAC;QAC/C,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,OAAO,GAAG,EAAE,CAAC;KAClD;;;;;IAED,qBAAqB,CAAC,KAAU;QAC9B,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,aAAa,GAAG,EAAE,CAAC;QACvD,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,eAAe,GAAG,EAAE,CAAC;KAC1D;;;;;IAED,wBAAwB,CAAC,KAAU;QACjC,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,mBAAmB,GAAG,EAAE,CAAC;QAC7D,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,YAAY,GAAG,EAAE,CAAC;KACvD;;;;;IAED,WAAW,CAAC,IAAI;KACf;;;;IACD,KAAK;QACH,IAAI,CAAC,WAAW,GAAG,EAAE,CAAC;KACvB;;;;;IACO,WAAW;KAClB;;;;;IAEO,SAAS;QACf,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,QAAQ,EAAE;YAChC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,sCAAsC,CAAC,CAAC,CAAC;YACrF,OAAO,KAAK,CAAC;SACd;;;;;;;;;;;;QAYD,IAAI,IAAI,CAAC,QAAQ,KAAK,iBAAiB,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,QAAQ,EAAE;YACvE,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,sCAAsC,CAAC,CAAC,CAAC;YACrF,OAAO,KAAK,CAAC;SACd;QACD,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,OAAO,EAAE;YAC/B,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,qCAAqC,CAAC,CAAC,CAAC;YACpF,OAAO,KAAK,CAAC;SACd;QACD,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,OAAO,EAAE;YAC/B,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,qCAAqC,CAAC,CAAC,CAAC;YACpF,OAAO,KAAK,CAAC;SACd;QACD,IAAI,CAAC,aAAa,CAAC,SAAS,GAAG,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,MAAM;;;;QAAC,CAAC,IAAI,CAAC,CAAC,IAAI,EAAC,CAAC;QAChF,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,SAAS,IAAI,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,MAAM,KAAK,CAAC,EAAE;YAC9E,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,uCAAuC,CAAC,CAAC,CAAC;YACtF,OAAO,KAAK,CAAC;SACd;aAAM;YACL,KAAK,MAAM,CAAC,IAAI,IAAI,CAAC,aAAa,CAAC,SAAS,EAAE;gBAC5C,QAAQ,CAAC,CAAC,IAAI;oBACZ,KAAK,oBAAoB;wBACvB,IAAI,CAAC,CAAC,CAAC,kBAAkB,EAAE;4BACzB,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,uDAAuD,CAAC,CAAC,CAAC;4BACtG,OAAO,KAAK,CAAC;yBACd;6BAAM,IAAI,CAAC,CAAC,kBAAkB,KAAK,6BAA6B,IAAI,CAAC,CAAC,CAAC,aAAa,EAAE;4BACrF,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,kDAAkD,CAAC,CAAC,CAAC;4BACjG,OAAO,KAAK,CAAC;yBACd;wBACD,MAAM;oBACR,KAAK,qBAAqB;wBACxB,IAAI,CAAC,CAAC,CAAC,mBAAmB,EAAE;4BAC1B,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,wDAAwD,CAAC,CAAC,CAAC;4BACvG,OAAO,KAAK,CAAC;yBACd;wBACD,IAAI,CAAC,CAAC,CAAC,OAAO,EAAE;4BACd,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,qCAAqC,CAAC,CAAC,CAAC;4BACpF,OAAO,KAAK,CAAC;yBACd;wBACD,MAAM;oBACR,KAAK,iBAAiB;wBACpB,IAAI,CAAC,CAAC,CAAC,OAAO,EAAE;4BACd,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,qCAAqC,CAAC,CAAC,CAAC;4BACpF,OAAO,KAAK,CAAC;yBACd;wBACD,MAAM;oBACR,KAAK,qBAAqB;wBACxB,IAAI,CAAC,CAAC,CAAC,UAAU,EAAE;4BACjB,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,wCAAwC,CAAC,CAAC,CAAC;4BACvF,OAAO,KAAK,CAAC;yBACd;wBACD,MAAM;iBACT;aACF;SACF;QACD,OAAO,IAAI,CAAC;KACb;;;;IAUD,WAAW;QACT,IAAI,IAAI,CAAC,UAAU,EAAE,EAAE;YACrB,OAAO;SACR;;cACK,SAAS,GAAG,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,MAAM;;;;QAAC,CAAC,IAAI,CAAC,CAAC,IAAI,EAAC;QAClE,IAAI,SAAS,IAAI,SAAS,CAAC,MAAM,GAAG,CAAC,EAAE;;kBAC/B,eAAe,GAAG,IAAI,eAAe,EAAE;YAC7C,eAAe,CAAC,IAAI,GAAG,iBAAiB,CAAC;YACzC,IAAI,CAAC,aAAa,CAAC,SAAS,GAAG,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC,eAAe,CAAC,CAAC,CAAC;SACvF;aAAM;YACL,IAAI,IAAI,CAAC,QAAQ,KAAK,UAAU,EAAE;;sBAC1B,eAAe,GAAG,IAAI,eAAe,EAAE;gBAC7C,eAAe,CAAC,IAAI,GAAG,oBAAoB,CAAC;gBAC5C,eAAe,CAAC,kBAAkB,GAAG,iBAAiB,CAAC;gBACvD,IAAI,CAAC,aAAa,CAAC,SAAS,GAAG,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC,eAAe,CAAC,CAAC,CAAC;aACvF;iBAAM;;sBACC,mBAAmB,GAAG,IAAI,eAAe,EAAE;gBACjD,mBAAmB,CAAC,IAAI,GAAG,oBAAoB,CAAC;gBAChD,mBAAmB,CAAC,kBAAkB,GAAG,qBAAqB,CAAC;gBAC/D,IAAI,CAAC,aAAa,CAAC,SAAS,GAAG,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC,mBAAmB,CAAC,CAAC,CAAC;aAC3F;SACF;KACF;;;;;;IACD,iCAAiC,CAAC,aAAqB,EAAE,KAAU;;YAC7D,MAAW;;cACT,WAAW,GAAG,IAAI,CAAC,QAAQ,CAAC,uBAAuB,CAAC,qBAAqB,CAAC;;cAC1E,OAAO,GAAG,WAAW,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC;QACjD,OAAO,CAAC,QAAQ,CAAC,aAAa,CAAC,SAAS;;;;QAAC,CAAC,EAAS;;kBAC3C,QAAQ,GAAG,EAAE,CAAC,KAAK,EAAE;YAC3B,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,aAAa,GAAG,QAAQ,CAAC,EAAE,CAAC;YAChE,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,eAAe,GAAG,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC;YACzE,IAAI,EAAE,IAAI,EAAE,CAAC,MAAM,GAAG,CAAC,EAAE;gBACvB,KAAK,MAAM,CAAC,IAAI,EAAE,EAAE;;0BACZ,QAAQ,GAAG,IAAI,eAAe,EAAE;oBACtC,QAAQ,CAAC,IAAI,GAAG,oBAAoB,CAAC;oBACrC,QAAQ,CAAC,kBAAkB,GAAG,6BAA6B,CAAC;oBAC5D,QAAQ,CAAC,aAAa,GAAG,CAAC,CAAC,EAAE,CAAC;oBAC9B,QAAQ,CAAC,eAAe,GAAG,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC;oBACvC,IAAI,CAAC,aAAa,CAAC,SAAS,GAAG,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC;iBAChF;aACF;YACD,MAAM,CAAC,KAAK,EAAE,CAAC;SAChB,EAAC,CAAC;QACH,OAAO,CAAC,QAAQ,CAAC,YAAY,CAAC,SAAS;;;;QAAC,CAAC;YACvC,MAAM,CAAC,KAAK,EAAE,CAAC;SAChB,EAAC,CAAC;;cACG,WAAW,GAAG;YAClB,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,0CAA0C,CAAC;YAC5E,KAAK,EAAE,GAAG;YACV,MAAM,EAAE,GAAG;YACX,WAAW,EAAE,IAAI;YACjB,OAAO,EAAE,OAAO,CAAC,QAAQ,CAAC,SAAS;SACpC;QACD,MAAM,GAAG,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,OAAO,EAAE,WAAW,CAAC,CAAC;KACvD;;;;;;IACD,yBAAyB,CAAC,mBAA2B,EAAE,KAAU;;cACzD,OAAO,GAAG,IAAI,KAAK,EAAa;;;;;QAKtC,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,YAAY,CAAC,QAAQ,CAAC,CAAC;QAChD,IAAI,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE;YAC3C,KAAK,MAAM,MAAM,IAAI,IAAI,CAAC,eAAe,CAAC,OAAO,EAAE;gBACjD,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,QAAQ,EAAE,MAAM,CAAC,CAAC;aACvC;YACD,IAAI,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,WAAW,IAAI,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC,MAAM,GAAG,CAAC,EAAE;;sBACnG,UAAU,GAAG,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC;gBACjE,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,UAAU,CAAC,IAAI,EAAE,QAAQ,EACnD,UAAU,CAAC,IAAI,EAAE,YAAY,CAAC,UAAU,CAAC,CAAC;aAC7C;SACF;QACD,IAAI,IAAI,CAAC,eAAe,CAAC,kBAAkB,CAAC,MAAM,GAAG,CAAC,EAAE;YACtD,KAAK,MAAM,QAAQ,IAAI,IAAI,CAAC,eAAe,CAAC,kBAAkB,EAAE;gBAC9D,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;aACxB;SACF;QACD,IAAI,IAAI,CAAC,eAAe,CAAC,sBAAsB,CAAC,MAAM,GAAG,CAAC,EAAE;YAC1D,KAAK,MAAM,QAAQ,IAAI,IAAI,CAAC,eAAe,CAAC,sBAAsB,EAAE;gBAClE,IAAI,CAAC,OAAO,CAAC,IAAI;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,GAAG,KAAK,QAAQ,CAAC,GAAG,EAAC,EAAE;oBAC9C,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;iBACxB;aACF;SACF;QACD,IAAI,IAAI,CAAC,eAAe,CAAC,kBAAkB,CAAC,MAAM,GAAG,CAAC,EAAE;YACtD,KAAK,MAAM,QAAQ,IAAI,IAAI,CAAC,eAAe,CAAC,kBAAkB,EAAE;gBAC9D,IAAI,CAAC,OAAO,CAAC,IAAI;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,GAAG,KAAK,QAAQ,CAAC,GAAG,EAAC,EAAE;oBAC9C,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;iBACxB;aACF;SACF;QACD,IAAI,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE;YACtB,KAAK,MAAM,CAAC,IAAI,OAAO,EAAE;gBACvB,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;aACzB;SACF;QACD,IAAI,mBAAmB,EAAE;YACvB,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,mBAAmB,CAAC,CAAC;SAClD;aAAM;YACL,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,EAAE,CAAC,CAAC;SACjC;QACD,IAAI,CAAC,IAAI,CAAC,eAAe,EAAE,CAAC,IAAI;;;;QAAC,CAAC,cAAsB;YACtD,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,mBAAmB,GAAG,cAAc,CAAC;YACzE,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,YAAY,GAAG,IAAI,CAAC,uBAAuB,CAAC,cAAc,CAAC,CAAC;;YAEhG,IAAG,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE;gBACrB,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,eAAe,GAAG,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,eAAe,CAAC,MAAM;;;;gBAAC,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,GAAG,KAAK,CAAC,CAAC,GAAG,EAAC,EAAC,CAAC;aAC9H;SACF,EAAC,CAAC;KACJ;;;;;;IACD,qBAAqB,CAAC,QAAyB,EAAE,KAAU;QACzD,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;QACnB,IAAI,CAAC,WAAW,GAAG,EAAE,CAAC;QACtB,IAAI,QAAQ,CAAC,OAAO,IAAI,QAAQ,CAAC,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE;YACnD,IAAI,CAAC,WAAW,CAAC,EAAE,GAAG,QAAQ,CAAC,OAAO,CAAC;YACvC,IAAI,CAAC,WAAW,CAAC,IAAI,GAAG,QAAQ,CAAC,SAAS,CAAC;SAC5C;QACD,UAAU;;;QAAC;YACT,IAAI,CAAC,QAAQ,CAAC,QAAQ,EAAE,CAAC;SAC1B,GAAE,CAAC,CAAC,CAAC;KACP;;;;;;IAED,yBAAyB,CAAC,QAAyB,EAAE,KAAU;;YACzD,MAAW;;cACT,WAAW,GAAG,IAAI,CAAC,QAAQ,CAAC,uBAAuB,CAAC,0BAA0B,CAAC;;cAC/E,OAAO,GAAG,WAAW,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC;QACjD,OAAO,CAAC,QAAQ,CAAC,aAAa,GAAG,KAAK,CAAC;QACvC,OAAO,CAAC,QAAQ,CAAC,QAAQ,CAAC,WAAW,GAAG,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,UAAU,CAAC;QACvF,OAAO,CAAC,QAAQ,CAAC,QAAQ,CAAC,aAAa,GAAG,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,YAAY,CAAC;QAC3F,OAAO,CAAC,QAAQ,CAAC,QAAQ,CAAC,YAAY,GAAG,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,YAAY,CAAC;QAC1F,OAAO,CAAC,QAAQ,CAAC,QAAQ,CAAC,KAAK,GAAG,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,KAAK,CAAC;QAC5E,OAAO,CAAC,QAAQ,CAAC,QAAQ,CAAC,OAAO,GAAG,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,OAAO,CAAC;QAChF,IAAI,OAAO,CAAC,QAAQ,CAAC,QAAQ,CAAC,YAAY,KAAK,GAAG,EAAE;YAClD,OAAO,CAAC,QAAQ,CAAC,SAAS,GAAG,EAAE,YAAY,EAAE,GAAG,EAAE,CAAC;SACpD;aAAM;YACL,OAAO,CAAC,QAAQ,CAAC,SAAS,GAAG,EAAE,YAAY,EAAE,GAAG,EAAE,CAAC;SACpD;QACD,OAAO,CAAC,QAAQ,CAAC,aAAa,CAAC,SAAS;;;;QAAC,CAAC,EAAO;YAC/C,IAAI,EAAE,CAAC,WAAW,EAAE;gBAClB,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,UAAU,GAAG,EAAE,CAAC,WAAW,CAAC;gBAChE,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,YAAY,GAAG,EAAE,CAAC,aAAa,CAAC;gBACpE,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,YAAY,GAAG,EAAE,CAAC,YAAY,CAAC;gBACnE,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,KAAK,GAAG,EAAE,CAAC,KAAK,CAAC;gBACrD,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,OAAO,GAAG,EAAE,CAAC,OAAO,CAAC;aAC1D;YACD,MAAM,CAAC,KAAK,EAAE,CAAC;SAChB,EAAC,CAAC;QACH,OAAO,CAAC,QAAQ,CAAC,YAAY,CAAC,SAAS;;;;QAAC,CAAC;YACvC,MAAM,CAAC,KAAK,EAAE,CAAC;SAChB,EAAC,CAAC;;cACG,WAAW,GAAG;YAClB,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,sCAAsC,CAAC;YACxE,KAAK,EAAE,GAAG;YACV,MAAM,EAAE,GAAG;YACX,WAAW,EAAE,IAAI;YACjB,OAAO,EAAE,OAAO,CAAC,QAAQ,CAAC,SAAS;SACpC;QACD,MAAM,GAAG,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,OAAO,EAAE,WAAW,CAAC,CAAC;KACvD;;;;;IAED,SAAS,CAAC,IAAS;QACjB,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;KAC1B;;;;;IACD,WAAW,CAAC,IAAS;QACnB,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC;KAC5B;;;;;IAED,eAAe,CAAC,IAAY;;cACpB,OAAO,GAAG,IAAI,CAAC,QAAQ,EAAE;QAC/B,IAAI,IAAI,CAAC,aAAa,CAAC,OAAO,IAAI,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE;YACvE,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;SACzD;aAAM;YACL,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,EAAE,CAAC,CAAC;SACjC;QACD,IAAI,CAAC,IAAI,CAAC,eAAe,EAAE,CAAC,IAAI;;;;QAAC,CAAC,cAAsB;YACtD,IAAI,CAAC,aAAa,CAAC,OAAO,GAAG,cAAc,CAAC;;YAE5C,IAAG,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE;gBACrB,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,eAAe,GAAG,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,eAAe,CAAC,MAAM;;;;gBAAC,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,GAAG,KAAK,CAAC,CAAC,GAAG,EAAC,EAAC,CAAC;aAC9H;SACF,EAAC,CAAC;KACJ;;;;;IAED,aAAa,CAAC,IAAY;QACxB,IAAG,IAAI,CAAC,aAAa,CAAC,OAAO,IAAI,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC,CAAC,KAAK,GAAG,EAAC;YAC5E,IAAI,CAAC,aAAa,CAAC,OAAO,GAAG,EAAE,CAAC;SACjC;;cACK,OAAO,GAAG,IAAI,CAAC,QAAQ,EAAE;QAC/B,IAAI,IAAI,CAAC,aAAa,CAAC,OAAO,IAAI,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE;YACvE,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;SACzD;aAAM;YACL,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,EAAE,CAAC,CAAC;SACjC;QACD,IAAI,CAAC,IAAI,CAAC,eAAe,EAAE,CAAC,IAAI;;;;QAAC,CAAC,cAAsB;YACtD,IAAI,CAAC,aAAa,CAAC,OAAO,GAAG,cAAc,CAAC;;YAE5C,IAAG,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE;gBACrB,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,eAAe,GAAG,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,eAAe,CAAC,MAAM;;;;gBAAC,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,GAAG,KAAK,CAAC,CAAC,GAAG,EAAC,EAAC,CAAC;aAC9H;SACF,EAAC,CAAC;KACJ;;;;IACD,QAAQ;;cACA,OAAO,GAAG,IAAI,KAAK,EAAa;;;;;QAKtC,IAAI,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE;YACnC,KAAK,MAAM,MAAM,IAAI,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE;;gBAEzC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,QAAQ,EAAE,MAAM,CAAC,CAAC;aACvC;YACD,IAAI,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,WAAW,IAAI,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC,MAAM,GAAG,CAAC,EAAE;;sBACnF,UAAU,GAAG,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC;gBACzD,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,UAAU,CAAC,IAAI,EAAE,QAAQ,EACnD,UAAU,CAAC,IAAI,EAAE,YAAY,CAAC,UAAU,CAAC,CAAC;aAC7C;SACF;QACD,IAAI,IAAI,CAAC,OAAO,CAAC,eAAe,CAAC,MAAM,GAAG,CAAC,EAAE;YAC3C,KAAK,MAAM,QAAQ,IAAI,IAAI,CAAC,OAAO,CAAC,eAAe,EAAE;gBACnD,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;;aAExB;SACF;QACD,IAAI,IAAI,CAAC,OAAO,CAAC,kBAAkB,CAAC,MAAM,GAAG,CAAC,EAAE;YAC9C,KAAK,MAAM,QAAQ,IAAI,IAAI,CAAC,OAAO,CAAC,kBAAkB,EAAE;gBACtD,IAAI,CAAC,OAAO,CAAC,IAAI;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,GAAG,KAAK,QAAQ,CAAC,GAAG,EAAC,EAAE;oBAC9C,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;iBACxB;;aAEF;SACF;QACD,IAAI,IAAI,CAAC,OAAO,CAAC,sBAAsB,CAAC,MAAM,GAAG,CAAC,EAAE;YAClD,KAAK,MAAM,QAAQ,IAAI,IAAI,CAAC,OAAO,CAAC,sBAAsB,EAAE;gBAC1D,IAAI,CAAC,OAAO,CAAC,IAAI;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,GAAG,KAAK,QAAQ,CAAC,GAAG,EAAC,EAAE;oBAC9C,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;iBACxB;;aAEF;SACF;QACD,IAAI,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE;YACtB,KAAK,MAAM,CAAC,IAAI,OAAO,EAAE;gBACvB,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;aACzB;SACF;QAED,OAAO,OAAO,CAAC;KAChB;;;;IACD,QAAQ;QACN,IAAI,CAAC,aAAa,CAAC,OAAO,GAAG,EAAE,CAAC;KACjC;;;;;;IAEO,uBAAuB,CAAC,IAAY;QAC1C,KAAK,MAAM,CAAC,IAAI,IAAI,CAAC,eAAe,CAAC,kBAAkB,EAAE;YACvD,IAAI,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,EAAE;gBAC5B,OAAO,CAAC,CAAC,IAAI,CAAC;aACf;SACF;QACD,KAAK,MAAM,CAAC,IAAI,IAAI,CAAC,eAAe,CAAC,sBAAsB,EAAE;YAC3D,IAAI,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,EAAE;gBAC5B,OAAO,CAAC,CAAC,IAAI,CAAC;aACf;SACF;QACD,OAAO,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC;KAC9B;;;YApmBF,SAAS,SAAC;gBACT,QAAQ,EAAE,yBAAyB;gBACnC,uwaAAmD;gBAEnD,SAAS,EAAE;oBACR,YAAY;iBACd;;aACF;;;;YArBQ,eAAe;YACf,sBAAsB;YACR,iBAAiB;YAJyC,wBAAwB;YAAE,QAAQ;YAM1G,cAAc;YAHd,sBAAsB;YAKtB,WAAW;YARiG,iBAAiB,uBA0GjI,QAAQ;yCACR,MAAM,SAAC,SAAS;4CAChB,MAAM,SAAC,iBAAiB;YA9FD,YAAY,uBA+FnC,QAAQ;;;qBAjFV,SAAS,SAAC,QAAQ;0BAClB,SAAS,SAAC,2BAA2B;2BAErC,MAAM;4BACN,MAAM;uBACN,SAAS,SAAC,wBAAwB;uBAGlC,KAAK;oBAeL,KAAK;;;;;;;AClDR,MAAa,qBAAqB;CAQjC;;;;;;ACVD,MAmBa,0BAA0B;;;;;;;;;IAkDrC,YACS,OAA+B,EAC9B,OAAwB,EACZ,GAAsB,EACf,QAAgB,EACR,SAAc,EAC7B,UAAwB;QALrC,YAAO,GAAP,OAAO,CAAwB;QAC9B,YAAO,GAAP,OAAO,CAAiB;QACZ,QAAG,GAAH,GAAG,CAAmB;QACf,aAAQ,GAAR,QAAQ,CAAQ;QACR,cAAS,GAAT,SAAS,CAAK;QAC7B,eAAU,GAAV,UAAU,CAAc;QAtDpC,iBAAY,GAAG,IAAI,YAAY,EAAO,CAAC;QACvC,kBAAa,GAAG,IAAI,YAAY,EAAO,CAAC;QAMlD,SAAI,GAAG;YACL,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,8BAA8B,CAAC,EAAE,KAAK,EAAE,MAAM,EAAE,KAAK,EAAE,EAAE,EAAE,WAAW,EAAE,MAAM,EAAE;YACnH,EAAE,KAAK,EAAE,IAAI,EAAE,KAAK,EAAE,IAAI,EAAE,KAAK,EAAE,EAAE,EAAE,WAAW,EAAE,IAAI,EAAE;SAAC,CAAC;;QAE9D,UAAK,GAAG,EAAE,CAAC;QACX,cAAS,GAAG,EAAE,CAAC;QACf,aAAQ,GAAG;YACT,SAAS,EAAE,CAAC;YACZ,QAAQ,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC;YAC1B,QAAQ,EAAE,EAAE;SACb,CAAC;QAEF,kBAAa,GAAG,EAAE,CAAC;QACnB,uBAAkB,GAAG,EAAE,CAAC;QACxB,iBAAY,GAAG,EAAE,CAAC;QAClB,qBAAgB,GAAG;YACjB,EAAE,KAAK,EAAE,kBAAkB,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,qCAAqC,CAAC,EAAE;YACrG,EAAE,KAAK,EAAE,oBAAoB,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,qCAAqC,CAAC,EAAE;YACvG,EAAE,KAAK,EAAE,kBAAkB,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,oCAAoC,CAAC,EAAE;SACvG,CAAC;QACA,YAAO,GAAG;YACR;gBACE,KAAK,EAAE,SAAS,EAAE,KAAK,EAAE,GAAG,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,iCAAiC,CAAC;aAClG,EAAE;gBACD,KAAK,EAAE,SAAS,EAAE,KAAK,EAAE,GAAG,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,iCAAiC,CAAC,EAAE,QAAQ,EAAE,IAAI;aAClH,EAAE;gBACD,KAAK,EAAE,UAAU,EAAE,KAAK,EAAE,GAAG,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,kCAAkC,CAAC;gBACnG,SAAS,EAAE;oBACT,IAAI,EAAE,MAAM;oBACZ,OAAO,EAAE,EAAE,UAAU,EAAE,OAAO,EAAE,SAAS,EAAE,MAAM,EAAE,IAAI,EAAE,IAAI,CAAC,gBAAgB,EAAE;iBACjF;aACF,EAAE;gBACD,KAAK,EAAE,UAAU,EAAE,KAAK,EAAE,GAAG,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,kCAAkC,CAAC;gBACnG,SAAS,EAAE;oBACT,IAAI,EAAE,MAAM;oBACZ,OAAO,EAAE,EAAE,UAAU,EAAE,OAAO,EAAE,SAAS,EAAE,MAAM,EAAE,IAAI,EAAE,IAAI,CAAC,OAAO,CAAC,eAAe,CAAC,GAAG;;;;wBAAC,CAAC,KAAK,EAAE,KAAK,EAAE,CAAC,CAAC,IAAI,EAAE,IAAI,EAAE,CAAC,CAAC,IAAI,EAAE,CAAC,EAAC,EAAE;iBACpI;aACF,EAAE;gBACD,KAAK,EAAE,cAAc,EAAE,KAAK,EAAE,GAAG,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,sCAAsC,CAAC,EAAE,QAAQ,EAAE,IAAI;aAC5H;SAAC,CAAC;QAmBL,gBAAW;;;;QAAG,CAAC,OAAO;YACpB,KAAK,MAAM,CAAC,IAAI,OAAO,EAAE;gBACvB,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;aAC9B;YACD,OAAOJ,IAAE,CAAC;gBACR,WAAW,EAAE,IAAI;aAClB,CAAC,CAAC;SACJ,EAAA;QAED,mBAAc;;;;;;QAAG,CAAC,QAAgB,EAAE,OAAY,EAAE,MAAmB;YACnE,OAAO,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;YACrB,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;YACtB,OAAOA,IAAE,CAAC,IAAI,CAAC,CAAC;SACjB,EAAA;QAtBC,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,IAAI,IAAI,YAAY,CAAC,QAAQ,EAAE,SAAS,CAAC,CAAC;KAC5E;;;;IAED,QAAQ,MAAK;;;;;IAEb,OAAO,CAAC,CAAM;QACZ,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;KAChB;;;;IAiBD,IAAI,cAAc;QAChB,OAAO,IAAI,CAAC,aAAa,CAAC;KAC3B;;;;;IAED,IAAI,cAAc,CAAC,CAAC;QAClB,IAAI,CAAC,aAAa,GAAG,CAAC,CAAC;KACxB;;;;IAED,OAAO;QACL,IAAI,CAAC,IAAI,CAAC,YAAY,IAAI,IAAI,CAAC,YAAY,CAAC,MAAM,KAAK,CAAC,EAAE;YACxD,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,sCAAsC,CAAC,CAAC,CAAC;YACrF,OAAO;SACR;QACD,IAAI,CAAC,IAAI,CAAC,aAAa,IAAI,IAAI,CAAC,aAAa,CAAC,MAAM,KAAK,CAAC,EAAE;YAC1D,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,kDAAkD,CAAC,CAAC,CAAC;YACjG,OAAO;SACR;;cACK,aAAa,GAAG,IAAI,qBAAqB,EAAE;QACjD,aAAa,CAAC,aAAa,GAAG,IAAI,CAAC,aAAa,CAAC;QACjD,aAAa,CAAC,YAAY,GAAG,IAAI,CAAC,YAAY,CAAC;QAC/C,aAAa,CAAC,WAAW,GAAG,IAAI,CAAC;;cAC3B,MAAM,GAAG,EAAE,KAAK,EAAE,aAAa,EAAE,UAAU,EAAE,IAAI,EAAE;QACzD,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;KACjC;;;;IAED,WAAW;QACT,IAAI,CAAC,YAAY,CAAC,IAAI,EAAE,CAAC;KAC1B;;;YArHF,SAAS,SAAC;gBACT,QAAQ,EAAE,yBAAyB;gBACnC,y2GAAmD;gBAEnD,SAAS,EAAE;oBACR,YAAY;iBACd;;aACF;;;;YAZQ,sBAAsB;YAFtB,eAAe;YAJkD,iBAAiB,uBAwEtF,QAAQ;yCACR,MAAM,SAAC,SAAS;4CAChB,MAAM,SAAC,iBAAiB;YAjED,YAAY,uBAkEnC,QAAQ;;;0BAvDV,SAAS,SAAC,kBAAkB;2BAC5B,MAAM;4BACN,MAAM;4BAEN,SAAS,SAAC,eAAe;6BACzB,SAAS,SAAC,gBAAgB;uBAC1B,SAAS,SAAC,UAAU;qBACpB,SAAS,SAAC,QAAQ;;;;;;;AC3BrB,MAwBa,sBAAsB;;;;;;;;;;;;;;IAuCjC,YACU,QAAkC,EAClC,QAAkB,EAClB,YAA4B,EAC5B,OAAwB,EACxB,OAA+B,EAC/B,SAAmC,EACnC,IAAiB,EACL,GAAsB,EACf,QAAgB,EACR,SAAc,EAC7B,UAAwB;QAVpC,aAAQ,GAAR,QAAQ,CAA0B;QAClC,aAAQ,GAAR,QAAQ,CAAU;QAClB,iBAAY,GAAZ,YAAY,CAAgB;QAC5B,YAAO,GAAP,OAAO,CAAiB;QACxB,YAAO,GAAP,OAAO,CAAwB;QAC/B,cAAS,GAAT,SAAS,CAA0B;QACnC,SAAI,GAAJ,IAAI,CAAa;QACL,QAAG,GAAH,GAAG,CAAmB;QACf,aAAQ,GAAR,QAAQ,CAAQ;QACR,cAAS,GAAT,SAAS,CAAK;QAC7B,eAAU,GAAV,UAAU,CAAc;QAhD9C,QAAG,GAAG,8BAA8B,CAAC;QAE3B,eAAU,GAAG,IAAI,YAAY,EAAO,CAAC;QACrC,gBAAW,GAAG,IAAI,YAAY,EAAO,CAAC;QAkBvC,iBAAY,GAAQ,EAAE,CAAC;QAIhC,gBAAW,GAAG;YACZ,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,gCAAgC,CAAC;YAClE,KAAK,EAAE,GAAG;YACV,MAAM,EAAE,GAAG;YACX,WAAW,EAAE,IAAI;SAClB,CAAC;QAEF,mBAAc,GAAyB,IAAI,KAAK,EAAE,CAAC;QACnD,YAAO,GAAG,EAAE,CAAC;QAEb,aAAQ,GAA+C,UAAU,CAAC;QA+LlE,oBAAe,GAAG;YAChB,EAAE,KAAK,EAAE,2BAA2B,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,sCAAsC,CAAC,EAAE;YAC/G,EAAE,KAAK,EAAE,yBAAyB,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,qCAAqC,CAAC,EAAE;YAC5G,EAAE,KAAK,EAAE,0BAA0B,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,sCAAsC,CAAC,EAAE;SAC/G,CAAC;QAEF,qBAAgB,GAAG;YACjB,EAAE,KAAK,EAAE,kBAAkB,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,qCAAqC,CAAC,EAAE;YACrG,EAAE,KAAK,EAAE,oBAAoB,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,qCAAqC,CAAC,EAAE;YACvG,EAAE,KAAK,EAAE,kBAAkB,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,oCAAoC,CAAC,EAAE;SACrG,CAAC;QA1LA,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,IAAI,IAAI,YAAY,CAAC,QAAQ,EAAE,SAAS,CAAC,CAAC;QAC3E,IAAI,CAAC,mBAAmB,EAAE,CAAC;KAC5B;;;;;IA/CD,IACI,KAAK,CAAC,OAAc;QACtB,IAAI,OAAO,IAAI,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE;YACjC,IAAI,CAAC,cAAc,GAAG,OAAO,CAAC,GAAG;;;;YAAC,CAAC,KAAK;gBACtC,EAAE,EAAE,aAAa,CAAC,iBAAiB,EAAE;gBACrC,OAAO,EAAE,CAAC,CAAC,OAAO;gBAClB,QAAQ,EAAE,CAAC,CAAC,QAAQ;gBACpB,QAAQ,EAAE,CAAC,CAAC,QAAQ;gBACpB,OAAO,EAAE,CAAC,CAAC,OAAO;gBAClB,QAAQ,EAAE,CAAC,CAAC,QAAQ;gBACpB,YAAY,EAAE,CAAC,CAAC,YAAY;gBAC5B,SAAS,EAAE,CAAC,CAAC,SAAS,GAAG,CAAC,CAAC,SAAS,GAAG,IAAI,KAAK,EAAE;gBAClD,kBAAkB,EAAE,CAAC,CAAC,kBAAkB;aACzC,CAAC,EAAC,CAAC;SACL;KACF;;;;IAkCD,QAAQ;QACN,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC;QAC3C,IAAI,CAAC,OAAO,GAAG;YACb;gBACE,KAAK,EAAE,SAAS,EAAE,KAAK,EAAE,GAAG,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,iCAAiC,CAAC;aAClG,EAAE;gBACD,KAAK,EAAE,SAAS,EAAE,KAAK,EAAE,GAAG,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,iCAAiC,CAAC,EAAE,QAAQ,EAAE,IAAI;aAClH,EAAE;gBACD,KAAK,EAAE,UAAU,EAAE,KAAK,EAAE,GAAG,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,kCAAkC,CAAC;gBACnG,SAAS,EAAE;oBACT,IAAI,EAAE,MAAM;oBACZ,OAAO,EAAE,EAAE,UAAU,EAAE,OAAO,EAAE,SAAS,EAAE,MAAM,EAAE,IAAI,EAAE,IAAI,CAAC,QAAQ,KAAK,SAAS,GAAG,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,gBAAgB,EAAE;iBACtI;aACF,EAAE;gBACD,KAAK,EAAE,UAAU,EAAE,KAAK,EAAE,GAAG,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,kCAAkC,CAAC;gBACnG,SAAS,EAAE;oBACT,IAAI,EAAE,MAAM;oBACZ,OAAO,EAAE,EAAE,UAAU,EAAE,OAAO,EAAE,SAAS,EAAE,MAAM,EAAE,IAAI,EAAE,IAAI,CAAC,OAAO,CAAC,eAAe,CAAC,GAAG;;;;wBAAC,CAAC,KAAK,EAAE,KAAK,EAAE,CAAC,CAAC,IAAI,EAAE,IAAI,EAAE,CAAC,CAAC,IAAI,EAAE,CAAC,EAAC,EAAE;iBACpI;aACF,EAAE;gBACD,KAAK,EAAE,cAAc,EAAE,KAAK,EAAE,GAAG,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,sCAAsC,CAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,SAAS;;;;;;gBAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC;;wBAC1I,YAAY,GAAG,EAAE;oBACrB,IAAI,CAAC,CAAC,SAAS,IAAI,CAAC,CAAC,SAAS,CAAC,MAAM,GAAG,CAAC,EAAE;wBACzC,KAAK,MAAM,QAAQ,IAAI,CAAC,CAAC,SAAS,EAAE;4BAClC,IAAI,QAAQ,CAAC,IAAI,KAAK,oBAAoB,EAAE;gCAC1C,IAAI,QAAQ,CAAC,kBAAkB,KAAK,iBAAiB,EAAE;oCACrD,YAAY,IAAI,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,yCAAyC,CAAC,CAAC;iCACtF;qCAAM,IAAI,QAAQ,CAAC,kBAAkB,KAAK,qBAAqB,EAAE;oCAChE,YAAY,IAAI,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,6CAA6C,CAAC,CAAC;iCAC1F;qCAAM,IAAI,QAAQ,CAAC,kBAAkB,KAAK,6BAA6B,EAAE;oCACxE,YAAY,KAAK,QAAQ,CAAC,eAAe,GAAG,GAAG,CAAC,CAAC;iCAClD;6BACF;iCAAM,IAAI,QAAQ,CAAC,IAAI,KAAK,iBAAiB,EAAE;gCAC9C,YAAY,KAAK,QAAQ,CAAC,SAAS,GAAG,GAAG,CAAC,CAAC;6BAC5C;iCAAM,IAAI,QAAQ,CAAC,IAAI,KAAK,qBAAqB,EAAE;gCAClD,YAAY,KAAK,QAAQ,CAAC,YAAY,GAAG,GAAG,CAAC,CAAC;6BAC/C;iCAAM,IAAI,QAAQ,CAAC,IAAI,KAAK,qBAAqB,EAAE;gCAClD,YAAY,KAAK,QAAQ,CAAC,YAAY,GAAG,GAAG,CAAC,CAAC;6BAC/C;yBACF;qBACF;oBACD,IAAI,YAAY,EAAE;wBAChB,YAAY,GAAG,YAAY,CAAC,SAAS,CAAC,CAAC,EAAE,YAAY,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;qBACnE;oBACD,OAAO,YAAY,CAAC;iBACrB,CAAA;aACF;SAAC,CAAC;QACL,IAAI,IAAI,CAAC,QAAQ,KAAK,iBAAiB,EAAE;YACvC,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC,MAAM;;;;YAAC,CAAC,IAAI,CAAC,CAAC,KAAK,KAAK,UAAU,EAAC,CAAC;SACjE;KACF;;;;IAED,GAAG;;YACG,MAAW;;cACT,WAAW,GAAG,IAAI,CAAC,QAAQ,CAAC,uBAAuB,CAAC,0BAA0B,CAAC;;cAC/E,OAAO,GAAG,WAAW,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC;QACjD,OAAO,CAAC,QAAQ,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC;;cACpC,aAAa,GAAG,IAAIM,eAAa,EAAE;QACzC,IAAI,IAAI,CAAC,QAAQ,KAAK,UAAU,EAAE;YAChC,aAAa,CAAC,QAAQ,GAAG,kBAAkB,CAAC;;kBACtC,eAAe,GAAG,IAAI,eAAe,EAAE;YAC7C,eAAe,CAAC,IAAI,GAAG,oBAAoB,CAAC;YAC5C,eAAe,CAAC,kBAAkB,GAAG,qBAAqB,CAAC;YAC3D,aAAa,CAAC,SAAS,GAAG,CAAC,eAAe,CAAC,CAAC;SAC7C;aAAM,IAAI,IAAI,CAAC,QAAQ,KAAK,SAAS,EAAE;YACtC,aAAa,CAAC,QAAQ,GAAG,2BAA2B,CAAC;;kBAC/C,eAAe,GAAG,IAAI,eAAe,EAAE;YAC7C,eAAe,CAAC,IAAI,GAAG,oBAAoB,CAAC;YAC5C,eAAe,CAAC,kBAAkB,GAAG,iBAAiB,CAAC;YACvD,aAAa,CAAC,SAAS,GAAG,CAAC,eAAe,CAAC,CAAC;SAC7C;aAAM,IAAI,IAAI,CAAC,QAAQ,KAAK,iBAAiB,EAAE;;kBACxC,eAAe,GAAG,IAAI,eAAe,EAAE;YAC7C,eAAe,CAAC,IAAI,GAAG,oBAAoB,CAAC;YAC5C,eAAe,CAAC,kBAAkB,GAAG,iBAAiB,CAAC;YACvD,aAAa,CAAC,SAAS,GAAG,CAAC,eAAe,CAAC,CAAC;SAC7C;QACD,OAAO,CAAC,QAAQ,CAAC,KAAK,GAAG,aAAa,CAAC;QACvC,OAAO,CAAC,QAAQ,CAAC,aAAa,CAAC,SAAS;;;;QAAC,CAAC,EAAiB;YACzD,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;YACvD,MAAM,CAAC,KAAK,EAAE,CAAC;SAChB,EAAC,CAAC;QACH,OAAO,CAAC,QAAQ,CAAC,YAAY,CAAC,SAAS;;;;QAAC,EAAE;YACxC,MAAM,CAAC,KAAK,EAAE,CAAC;SAChB,EAAC,CAAC;;cACG,WAAW,GAAG;YAClB,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,oCAAoC,CAAC;YACtE,KAAK,EAAE,GAAG;YACV,MAAM,EAAE,GAAG;YACX,WAAW,EAAE,IAAI;YACjB,OAAO,EAAE,OAAO,CAAC,QAAQ,CAAC,MAAM;SACjC;QACD,MAAM,GAAG,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,OAAO,EAAE,WAAW,CAAC,CAAC;KACvD;;;;IACD,IAAI;QACF,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE;YAC1B,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,qCAAqC,CAAC,CAAC,CAAC;YACpF,OAAO;SACR;;YACG,MAAW;;cACT,WAAW,GAAG,IAAI,CAAC,QAAQ,CAAC,uBAAuB,CAAC,0BAA0B,CAAC;;cAC/E,OAAO,GAAG,WAAW,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC;QACjD,OAAO,CAAC,QAAQ,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC;QAC1C,OAAO,CAAC,QAAQ,CAAC,KAAK,GAAG,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC;QACpD,OAAO,CAAC,QAAQ,CAAC,aAAa,CAAC,SAAS;;;;QAAC,CAAC,EAAiB;YACzD,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,cAAc,CAAC,GAAG;;;;YAAC,CAAC;gBAC7C,IAAI,CAAC,CAAC,EAAE,KAAK,EAAE,CAAC,EAAE,EAAE;oBAClB,OAAO,EAAE,CAAC;iBACX;gBACD,OAAO,CAAC,CAAC;aACV,EAAC,CAAC;YACH,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,EAAE,EAAE,IAAI,CAAC,CAAC;YAC3D,MAAM,CAAC,KAAK,EAAE,CAAC;SAChB,EAAC,CAAC;QACH,OAAO,CAAC,QAAQ,CAAC,YAAY,CAAC,SAAS;;;;QAAC,EAAE;YACxC,MAAM,CAAC,KAAK,EAAE,CAAC;SAChB,EAAC,CAAC;;cACG,WAAW,GAAG;YAClB,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,oCAAoC,CAAC;YACtE,KAAK,EAAE,GAAG;YACV,MAAM,EAAE,GAAG;YACX,WAAW,EAAE,IAAI;YACjB,OAAO,EAAE,OAAO,CAAC,QAAQ,CAAC,MAAM;SACjC;QACD,MAAM,GAAG,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,OAAO,EAAE,WAAW,CAAC,CAAC;KACvD;;;;IACD,SAAS;QACP,IAAI,CAAC,IAAI,CAAC,cAAc,EAAE;YACxB,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,gCAAgC,CAAC,CAAC,CAAC;YAC/E,OAAO;SACR;;YACG,MAAW;;cACT,WAAW,GAAG,IAAI,CAAC,QAAQ,CAAC,uBAAuB,CAAC,0BAA0B,CAAC;;cAC/E,OAAO,GAAG,WAAW,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC;QACjD,OAAO,CAAC,QAAQ,CAAC,cAAc,GAAG,IAAI,CAAC,cAAc,CAAC;QACtD,OAAO,CAAC,QAAQ,CAAC,aAAa,CAAC,SAAS;;;;QAAC,CAAC,IAAS;YACjD,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,YAAY,CAAC,iBAAiB,EAAE,IAAI,CAAC,CAAC;YAC1D,MAAM,CAAC,KAAK,EAAE,CAAC;SAChB,EAAC,CAAC;QACH,OAAO,CAAC,QAAQ,CAAC,YAAY,CAAC,SAAS;;;;QAAC,EAAE;YACxC,MAAM,CAAC,KAAK,EAAE,CAAC;SAChB,EAAC,CAAC;;cACG,WAAW,GAAG;YAClB,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,mCAAmC,CAAC;YACrE,KAAK,EAAE,GAAG;YACV,MAAM,EAAE,GAAG;YACX,WAAW,EAAE,IAAI;YACjB,OAAO,EAAE,OAAO,CAAC,QAAQ,CAAC,WAAW;SACtC;QACD,MAAM,GAAG,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,OAAO,EAAE,WAAW,CAAC,CAAC;KACvD;;;;IACD,MAAM;;cACE,QAAQ,GAAG,IAAI,CAAC,IAAI,CAAC,WAAW;QACtC,IAAI,CAAC,QAAQ,EAAE;YACb,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,qCAAqC,CAAC,CAAC,CAAC;YACpF,OAAO;SACR;QACD,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,cAAc,CAAC,MAAM;;;;QAAC,CAAC,IAAI,CAAC,CAAC,EAAE,KAAK,QAAQ,CAAC,EAAE,EAAC,CAAC;KAC7E;;;;IACD,OAAO;;cACC,MAAM,GAAG,EAAE,KAAK,EAAE,IAAI,CAAC,cAAc,EAAE,UAAU,EAAE,IAAI,EAAE;QAC/D,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;KAC/B;;;;IACD,WAAW;QACT,IAAI,CAAC,UAAU,CAAC,IAAI,EAAE,CAAC;KACxB;;;;;IAEO,mBAAmB;;cACnB,GAAG,GAAG,mDAAmD;QAC/D,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC;aACf,SAAS;;;;QAAC,CAAC,IAAS,KAAK,IAAI,CAAC,OAAO,CAAC,iBAAiB,GAAG,IAAI,CAAC,GAAG;;;;QAAC,CAAC,KAAK,EAAE,KAAK,EAAE,CAAC,CAAC,EAAE,EAAE,IAAI,EAAE,CAAC,CAAC,IAAI,EAAE,CAAC,EAAC,EAAC,CAAC;KAC9G;;;YA1OF,SAAS,SAAC;gBACT,QAAQ,EAAE,oBAAoB;gBAC9B,+yDAA8C;gBAE9C,SAAS,EAAE;oBACR,YAAY;iBACd;;aACF;;;;YAvB6F,wBAAwB;YAAE,QAAQ;YAGvH,cAAc;YACd,eAAe;YAIf,sBAAsB;YAEtB,wBAAwB;YACxB,WAAW;YAX0H,iBAAiB,uBAuE1J,QAAQ;yCACR,MAAM,SAAC,SAAS;4CAChB,MAAM,SAAC,iBAAiB;YA5DD,YAAY,uBA6DnC,QAAQ;;;kBAjDV,WAAW,SAAC,OAAO;yBAGnB,MAAM;0BACN,MAAM;oBAEN,KAAK;2BAgBL,KAAK;0BACL,SAAS,SAAC,kBAAkB;mBAC5B,SAAS,SAAC,MAAM;;;;IAyNjB,mBAAoB,mBAAmB;;MAG5B,sBAAsB;;;;IACjC,YACU,UAAwB;QAAxB,eAAU,GAAV,UAAU,CAAc;KAC7B;;;;;IAEL,SAAS,CAAC,IAAW;QACnB,IAAI,IAAI,IAAI,IAAI,CAAC,MAAM,GAAG,CAAC,EAAE;YAC3B,OAAO,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,6BAA6B,CAAC,CAAC;SACjE;aAAM;YACL,OAAO,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,gCAAgC,CAAC,CAAC;SACpE;KACF;CACF;;;;;;ACzRD,MAea,uBAAuB;;;;;;;;IAyClC,YACU,OAA+B,EACnB,GAAsB,EACf,QAAgB,EACR,SAAc,EAC7B,UAAwB;QAJpC,YAAO,GAAP,OAAO,CAAwB;QACnB,QAAG,GAAH,GAAG,CAAmB;QACf,aAAQ,GAAR,QAAQ,CAAQ;QACR,cAAS,GAAT,SAAS,CAAK;QAC7B,eAAU,GAAV,UAAU,CAAc;QA5CpC,eAAU,GAAG,IAAI,YAAY,EAAO,CAAC;QACrC,gBAAW,GAAG,IAAI,YAAY,EAAO,CAAC;QAuBhD,gBAAW,GAAG;YACZ,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,yCAAyC,CAAC;YAC3E,KAAK,EAAE,GAAG;YACV,MAAM,EAAE,GAAG;YACX,WAAW,EAAE,IAAI;SAClB,CAAC;QACF,uBAAkB,GAA8B,IAAI,KAAK,EAAE,CAAC;QAC5D,gBAAW,GAAG;YACZ,EAAE,GAAG,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,+BAA+B,CAAC,EAAE,KAAK,EAAE,MAAM,EAAE;YAClF,EAAE,GAAG,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,gCAAgC,CAAC,EAAE,KAAK,EAAE,OAAO,EAAE;SACrF,CAAC;QACF,uBAAkB,GAAG;YACnB,GAAG,EAAE,EAAE;YACP,KAAK,EAAE,EAAE;SACV,CAAC;QAQA,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,IAAI,IAAI,YAAY,CAAC,QAAQ,EAAE,SAAS,CAAC,CAAC;KAC5E;;;;;IA3CD,IACI,KAAK,CAAC,QAAe;QACvB,IAAI,QAAQ,IAAI,QAAQ,CAAC,MAAM,GAAG,CAAC,EAAE;YACnC,IAAI,CAAC,kBAAkB,GAAG,QAAQ,CAAC,GAAG;;;;YAAC,CAAC,KAAK;gBAC3C,EAAE,EAAE,CAAC,CAAC,EAAE;gBACR,IAAI,EAAE,CAAC,CAAC,IAAI;gBACZ,QAAQ,EAAE,CAAC,CAAC,QAAQ;gBACpB,SAAS,EAAE,CAAC,CAAC,SAAS;gBACtB,YAAY,EAAE,CAAC,CAAC,YAAY;gBAC5B,aAAa,EAAE,CAAC,CAAC,aAAa;gBAC9B,gBAAgB,EAAE,CAAC,CAAC,gBAAgB;gBACpC,YAAY,EAAE,CAAC,CAAC,YAAY;gBAC5B,SAAS,EAAE,CAAC,CAAC,SAAS;gBACtB,SAAS,EAAE,CAAC,CAAC,SAAS;gBACtB,aAAa,EAAE,CAAC,CAAC,aAAa;gBAC9B,SAAS,EAAE,CAAC,CAAC,SAAS;gBACtB,KAAK,EAAE,CAAC,CAAC,KAAK;aACf,CAAC,EAAC,CAAC;SACL;KACF;;;;;IA0BD,WAAW,CAAC,GAAQ;QAClB,IAAI,CAAC,OAAO,CAAC,YAAY,GAAG,GAAG,CAAC,YAAY,CAAC;QAC7C,IAAI,CAAC,OAAO,CAAC,cAAc,GAAG,GAAG,CAAC,cAAc,CAAC;KAClD;;;;IAED,QAAQ;KACP;;;;IAED,OAAO;;cACC,KAAK,GAAG,IAAI,CAAC,kBAAkB;;cAC/B,MAAM,GAAG,EAAE,KAAK,EAAE,UAAU,EAAE,IAAI,EAAE;QAC1C,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;KAC/B;;;;IAED,MAAM;QACJ,IAAI,CAAC,UAAU,CAAC,IAAI,EAAE,CAAC;KACxB;;;YA3EF,SAAS,SAAC;gBACT,QAAQ,EAAE,qBAAqB;gBAC/B,ylKAA+C;gBAE/C,SAAS,EAAE;oBACR,YAAY;iBACd;;aACF;;;;YAZQ,sBAAsB;YAFkD,iBAAiB,uBA0D7F,QAAQ;yCACR,MAAM,SAAC,SAAS;4CAChB,MAAM,SAAC,iBAAiB;YAxDD,YAAY,uBAyDnC,QAAQ;;;yBA5CV,MAAM;0BACN,MAAM;0BACN,SAAS,SAAC,kBAAkB;oBAE5B,KAAK;;MA+DK,uBAAuB;;;;IAClC,YACU,UAAwB;QAAxB,eAAU,GAAV,UAAU,CAAc;KAC7B;;;;;IAEL,SAAS,CAAC,IAAW;QACnB,IAAI,IAAI,IAAI,IAAI,YAAY,KAAK,IAAI,IAAI,CAAC,IAAI;;;;QAAC,IAAI,IAAI,IAAI,CAAC,KAAK,EAAC,EAAE;YAClE,OAAO,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,8BAA8B,CAAC,CAAC;SAClE;QACD,OAAO,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,iCAAiC,CAAC,CAAC;KACrE;CACF;;;;;;AC/FD,MAAa,YAAY;CAExB;;;;;;ACFD,MAea,iBAAiB;;;;;;;;IA2B5B,YACU,OAAwB,EACZ,GAAsB,EACf,QAAgB,EACR,SAAc,EAC7B,UAAwB;QAJpC,YAAO,GAAP,OAAO,CAAiB;QACZ,QAAG,GAAH,GAAG,CAAmB;QACf,aAAQ,GAAR,QAAQ,CAAQ;QACR,cAAS,GAAT,SAAS,CAAK;QAC7B,eAAU,GAAV,UAAU,CAAc;QA9BpC,eAAU,GAAG,IAAI,YAAY,EAAO,CAAC;QACrC,gBAAW,GAAG,IAAI,YAAY,EAAO,CAAC;QAUhD,gBAAW,GAAG;YACZ,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,6BAA6B,CAAC;YAC/D,KAAK,EAAE,GAAG;YACV,MAAM,EAAE,GAAG;YACX,WAAW,EAAE,IAAI;SAClB,CAAC;;QAEF,kBAAa,GAAG;YACd,EAAE,KAAK,EAAE,UAAU,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,6BAA6B,CAAC,EAAC;YACpF,EAAE,KAAK,EAAE,MAAM,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,yBAAyB,CAAC,EAAC;YAC5E,EAAE,KAAK,EAAE,aAAa,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,gCAAgC,CAAC,EAAC;YAC1F,EAAE,KAAK,EAAE,gBAAgB,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,mCAAmC,CAAC,EAAE;SAAC,CAAC;;QAErG,iBAAY,GAAiB,IAAI,YAAY,EAAE,CAAC;QAQ9C,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,IAAI,IAAI,YAAY,CAAC,QAAQ,EAAE,SAAS,CAAC,CAAC;KAC3E;;;;;IA9BF,IACI,KAAK,CAAC,QAAa;QACrB,IAAI,QAAQ,EAAE;YACZ,IAAI,CAAC,YAAY,CAAC,cAAc,GAAG,QAAQ,CAAC,cAAc,CAAC;SAC1D;KACF;;;;IA2BH,QAAQ;KACP;;;;;IAED,WAAW,CAAC,IAAS;;QAEnB,IAAI,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC,EAAE;YACjC,UAAU;;;YAAC;gBACT,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,oCAAoC,CAAC,CAAC,CAAC;gBACnF,IAAI,CAAC,YAAY,CAAC,cAAc,GAAG,UAAU,CAAC;aAC/C,GAAE,GAAG,CAAC,CAAC;SACT;KACF;;;;IAED,OAAO;;cACC,KAAK,GAAG,IAAI,CAAC,YAAY;;cACzB,MAAM,GAAG,EAAE,KAAK,EAAE,UAAU,EAAE,IAAI,EAAE;QAC1C,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;KAC/B;;;;IAED,WAAW;QACT,IAAI,CAAC,UAAU,CAAC,IAAI,EAAE,CAAC;KACxB;;;YAlEF,SAAS,SAAC;gBACT,QAAQ,EAAE,eAAe;gBACzB,oqDAAyC;gBAEzC,SAAS,EAAE;oBACR,YAAY;iBACd;;aACF;;;;YAXQ,eAAe;YAHyD,iBAAiB,uBA4C7F,QAAQ;yCACR,MAAM,SAAC,SAAS;4CAChB,MAAM,SAAC,iBAAiB;YA1CD,YAAY,uBA2CnC,QAAQ;;;yBA9BV,MAAM;0BACN,MAAM;oBAEN,KAAK;0BAOL,SAAS,SAAC,kBAAkB;;MAiDlB,iBAAiB;;;;IAE5B,YACU,UAAwB;QAAxB,eAAU,GAAV,UAAU,CAAc;KAC7B;;;;;IAEL,SAAS,CAAC,IAAS;QACjB,IAAI,IAAI,IAAI,IAAI,CAAC,cAAc,EAAE;YAC/B,OAAO,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,wBAAwB,CAAC,CAAC;SAC5D;QACD,OAAO,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,2BAA2B,CAAC,CAAC;KAC/D;CACF;;;;;;ACxFD;AAEA,MAAa,kBAAkB,GAAG,IAAI,cAAc,CAAC,oBAAoB,CAAC;AAG1E,MAAa,aAAa;;;;;IAKtB,YACuB,QAAgB,EACP,SAAc;QAN7B,gBAAW,GAAW,QAAQ,CAAC;QAQ5C,IAAI,CAAC,QAAQ,GAAG,QAAQ,IAAI,IAAI,CAAC,WAAW,CAAC;QAC7C,IAAI,CAAC,SAAS,GAAG,SAAS,IAAI,EAAE,CAAC;QACjC,IAAI,CAAC,IAAI,GAAG,SAAS,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,SAAS,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,EAAE,CAAC;KAC7E;;;;;IACD,SAAS,CAAC,IAAY;QAClB,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,IAAI,CAAC;KAClC;;;;;IAED,OAAO,CAAC,IAAY;QAChB,OAAO,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;KAC/B;;;YApBJ,IAAI,SAAC,EAAE,IAAI,EAAE,WAAW,EAAE;;;;yCAOlB,MAAM,SAAC,SAAS;4CAChB,MAAM,SAAC,kBAAkB;;;;;;;ACZlC,MAIa,qBAAqB;;;;IAC9B,qBAAqB;;cACX,MAAM,GAAG,IAAI,eAAe,EAAE;QACpC,MAAM,CAAC,EAAE,GAAG,IAAI,CAAC,YAAY,EAAE,CAAC;QAChC,MAAM,CAAC,SAAS,GAAG,IAAI,CAAC;QACxB,MAAM,CAAC,IAAI,GAAG,aAAa,CAAC,SAAS,CAAC;QACtC,OAAO,MAAM,CAAC;KACjB;;;;IAED,YAAY;;YACJ,CAAC,GAAG,IAAI,IAAI,EAAE,CAAC,OAAO,EAAE;;YACxB,IAAI,GAAG,sCAAsC,CAAC,OAAO,CAAC,OAAO;;;;QAAE,CAAC,CAAC;;gBAC7D,CAAC,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,MAAM,EAAE,GAAG,EAAE,IAAI,EAAE,GAAG,CAAC;YACzC,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC;YACvB,OAAO,CAAC,CAAC,IAAI,GAAG,GAAG,CAAC,IAAI,CAAC,GAAG,GAAG,GAAG,GAAG,CAAC,EAAE,QAAQ,CAAC,EAAE,CAAC,CAAC;SACxD,EAAC;QAEF,OAAO,IAAI,CAAC;KACf;;;YAnBJ,UAAU;;;;;;;;;;ACOX,MAAsB,yBAAyB;;;;;;;;;;;IAgC3C,YACc,QAAyB,EACzB,MAAqB,EACrB,eAAqC,EACrC,YAA4B,EAC5B,UAAyB,EACzB,QAAkB,EAClB,QAAkC,EAClC,GAAsB;QAPtB,aAAQ,GAAR,QAAQ,CAAiB;QACzB,WAAM,GAAN,MAAM,CAAe;QACrB,oBAAe,GAAf,eAAe,CAAsB;QACrC,iBAAY,GAAZ,YAAY,CAAgB;QAC5B,eAAU,GAAV,UAAU,CAAe;QACzB,aAAQ,GAAR,QAAQ,CAAU;QAClB,aAAQ,GAAR,QAAQ,CAA0B;QAClC,QAAG,GAAH,GAAG,CAAmB;QAvC3B,cAAS,GAAG,sCAAsC,CAAC;QAGnD,gBAAW,GAAG;YACnB;gBACI,EAAE,EAAE,SAAS;gBACb,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,KAAK,CAAC;gBACpC,KAAK,EAAE,mBAAmB;gBAC1B,QAAQ,EAAE,KAAK;aAClB;YACD;gBACI,EAAE,EAAE,YAAY;gBAChB,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,QAAQ,CAAC;gBACvC,KAAK,EAAE,mBAAmB;gBAC1B,QAAQ,EAAE,KAAK;aAClB;SACJ,CAAC;QAGF,cAAS,GAAW,IAAI,CAAC;QAUzB,iBAAY,GAAW,IAAI,CAAC;KAa3B;;;;IAnBD,IAAI,OAAO;QACP,OAAO,IAAI,CAAC,MAAM,CAAC,MAAM,IAAI,CAAC,CAAC;KAClC;;;;;IAqBD,mBAAmB,CAAC,IAA+B;QAC/C,QAAQ,IAAI,CAAC,EAAE;YACX,KAAK,SAAS;gBACV,IAAI,CAAC,GAAG,EAAE,CAAC;gBACX,MAAM;YACV,KAAK,YAAY;gBACb,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;gBAClB,MAAM;SACb;KACJ;;;;;;IAWD,YAAY,CAAC,GAAsE;QAC/E,IAAI,CAAC,EAAE,CAAC,OAAO,CAAC,GAAG,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC;QAChC,IAAI,CAAC,YAAY,GAAG,GAAG,CAAC,OAAO,CAAC,EAAE,CAAC;QACnC,IAAI,CAAC,GAAG,CAAC,aAAa,EAAE,CAAC;QACzB,OAAO,KAAK,CAAC;KAChB;;;;;;IAMD,aAAa,CAAC,GAAsE;QAChF,IAAI,CAAC,EAAE,CAAC,UAAU,CAAC,GAAG,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC;QACnC,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;QACzB,IAAI,CAAC,GAAG,CAAC,aAAa,EAAE,CAAC;QACzB,OAAO,KAAK,CAAC;KAChB;;;;;;IAMD,UAAU,CAAC,GAAsE;QAC7E,IAAI,CAAC,EAAE,CAAC,UAAU,EAAE,CAAC;QACrB,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;QACzB,IAAI,CAAC,GAAG,CAAC,aAAa,EAAE,CAAC;QACzB,OAAO,KAAK,CAAC;KAChB;;;;;;;IAMD,MAAM,CAAC,GAAU,EAAE,GAA8D;;cACvE,GAAG,GAAa,EAAE;QACxB,IAAI,GAAG,IAAI,IAAI,EAAE;;YAEb,IAAI,CAAC,EAAE,CAAC,QAAQ,CAAC,OAAO;;;;YAAC,EAAE;gBACvB,GAAG,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;aACnB,EAAC,CAAC;SACN;aAAM;;YAEH,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC;SAC5B;QACD,IAAI,GAAG,CAAC,MAAM,IAAI,CAAC,EAAE;YACjB,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,4BAA4B,CAAC,CAAC,CAAC;YAC3E,IAAI,GAAG,IAAI,IAAI,EAAE;gBACb,GAAG,CAAC,eAAe,EAAE,CAAC;aACzB;YACD,OAAO,KAAK,CAAC;SAChB;QACD,KAAK,IAAI,EAAE,IAAI,GAAG,EAAE;YAChB,IAAI,CAAC,EAAE,CAAC,SAAS,CAAC,EAAE,CAAC,CAAC;SACzB;QACD,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC;QAC3B,IAAI,IAAI,CAAC,YAAY,IAAI,IAAI,EAAE;YAC3B,IAAI,GAAG,CAAC,QAAQ,CAAC,IAAI,CAAC,YAAY,CAAC,EAAE;gBACjC,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;aAC5B;iBAAM;gBACH,IAAI,CAAC,EAAE,CAAC,OAAO,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;aACtC;SACJ;QACD,IAAI,CAAC,GAAG,CAAC,aAAa,EAAE,CAAC;QACzB,IAAI,GAAG,IAAI,IAAI,EAAE;YACb,GAAG,CAAC,eAAe,EAAE,CAAC;SACzB;QACD,OAAO,KAAK,CAAC;KAChB;;;;;;;;IAOD,OAAO,CAAC,GAAU,EAAE,GAA6D,EAAE,SAAiB;;;cAE1F,GAAG,GAAG,IAAI,CAAC,MAAM;;cACjB,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC,GAAG,EAAE,GAAG,CAAC,OAAO,CAAC,EAAE,CAAC;QAEjD,IAAI,KAAK,IAAI,CAAC,CAAC,KAAK,SAAS,IAAI,CAAC,IAAI,KAAK,IAAI,GAAG,CAAC,MAAM,GAAG,CAAC,CAAC,KAAK,SAAS,IAAI,CAAC,CAAC,IAAI,KAAK,IAAI,CAAC,CAAC,EAAE;YAC/F,OAAO;SACV;QACD,GAAG,CAAC,KAAK,CAAC,GAAG,CAAC,GAAG,CAAC,KAAK,GAAG,SAAS,CAAC,EAAE,GAAG,CAAC,KAAK,GAAG,SAAS,CAAC,GAAG,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAC9E,IAAI,CAAC,MAAM,GAAG,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC;QAC/B,IAAI,CAAC,GAAG,CAAC,aAAa,EAAE,CAAC;QACzB,IAAI,GAAG,IAAI,IAAI,EAAE;YACb,GAAG,CAAC,eAAe,EAAE,CAAC;SACzB;QACD,OAAO,KAAK,CAAC;KAChB;;;;;;;;IAQS,SAAS,CAAC,GAAU,EAAE,EAAE;;YAC1B,KAAK,GAAG,CAAC,CAAC;QACd,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,GAAG,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;;kBAC3B,GAAG,GAAG,GAAG,CAAC,CAAC,CAAC;YAClB,IAAI,GAAG,CAAC,EAAE,IAAI,EAAE,EAAE;gBACd,KAAK,GAAG,CAAC,CAAC;gBACV,MAAM;aACT;SACJ;QACD,OAAO,KAAK,CAAC;KAChB;CAKJ;;;;;;;AC7LD,MAAa,cAAc,GAAG;IAC1B,QAAQ,EAAE;QACN,gBAAgB,EAAE,MAAM;QACxB,KAAK,EAAE,GAAG;QACV,IAAI,EAAE,GAAG;QACT,SAAS,EAAE,IAAI;QACf,MAAM,EAAE,IAAI;QACZ,QAAQ,EAAE,IAAI;QACd,UAAU,EAAE,IAAI;QAChB,KAAK,EAAE,IAAI;QACX,QAAQ,EAAE,IAAI;QACd,WAAW,EAAE,MAAM;QACnB,MAAM,EAAE,IAAI;QACZ,iBAAiB,EAAE,MAAM;QACzB,YAAY,EAAE,KAAK;QACnB,YAAY,EAAE,MAAM;QACpB,SAAS,EAAE,IAAI;QACf,aAAa,EAAE,IAAI;QACnB,WAAW,EAAE,IAAI;QACjB,mBAAmB,EAAE,QAAQ;QAC7B,sBAAsB,EAAE,QAAQ;QAChC,iCAAiC,EAAE,QAAQ;QAC3C,4BAA4B,EAAE,WAAW;QACzC,4BAA4B,EAAE,WAAW;KAC5C;IACD,IAAI,EAAE;QACF,gBAAgB,EAAE,iBAAiB;QACnC,KAAK,EAAE,KAAK;QACZ,IAAI,EAAE,IAAI;QACV,SAAS,EAAE,SAAS;QACpB,MAAM,EAAE,MAAM;QACd,QAAQ,EAAE,SAAS;QACnB,UAAU,EAAE,WAAW;QACvB,KAAK,EAAE,KAAK;QACZ,QAAQ,EAAE,QAAQ;QAClB,WAAW,EAAE,YAAY;QACzB,MAAM,EAAE,MAAM;QACd,iBAAiB,EAAE,kBAAkB;QACrC,YAAY,EAAE,YAAY;QAC1B,YAAY,EAAE,aAAa;QAC3B,SAAS,EAAE,SAAS;QACpB,aAAa,EAAE,aAAa;QAC5B,WAAW,EAAE,WAAW;QACxB,mBAAmB,EAAE,uBAAuB;QAC5C,sBAAsB,EAAE,0BAA0B;QAClD,iCAAiC,EAAE,2BAA2B;QAC9D,4BAA4B,EAAE,iCAAiC;QAC/D,4BAA4B,EAAE,gCAAgC;KACjE;IACD,QAAQ,EAAE;QACN,gBAAgB,EAAE,MAAM;QACxB,KAAK,EAAE,GAAG;QACV,IAAI,EAAE,GAAG;QACT,SAAS,EAAE,IAAI;QACf,MAAM,EAAE,IAAI;QACZ,QAAQ,EAAE,IAAI;QACd,UAAU,EAAE,IAAI;QAChB,KAAK,EAAE,IAAI;QACX,QAAQ,EAAE,IAAI;QACd,WAAW,EAAE,MAAM;QACnB,MAAM,EAAE,IAAI;QACZ,iBAAiB,EAAE,MAAM;QACzB,YAAY,EAAE,KAAK;QACnB,YAAY,EAAE,MAAM;QACpB,SAAS,EAAE,IAAI;QACf,aAAa,EAAE,IAAI;QACnB,WAAW,EAAE,IAAI;QACjB,mBAAmB,EAAE,QAAQ;QAC7B,sBAAsB,EAAE,QAAQ;QAChC,iCAAiC,EAAE,QAAQ;QAC3C,4BAA4B,EAAE,WAAW;QACzC,4BAA4B,EAAE,WAAW;KAC5C;CACJ;;;;;;ACzED,WA6B6C,cAAc;AAK3D,MAAa,uBAAwB,SAAQ,yBAAyB;;;;;;;;;;;;;;;;;;;;IAgFpE,YACS,qBAA4C,EAC3C,aAAqC,EACtC,QAA8B,EAC9B,IAAuB,EACvB,GAAsB,EACtB,QAAyB,EACzB,MAAqB,EACrB,KAAqB,EACrB,SAA2B,EAC3B,MAAc,EACd,cAA8B,EAC9B,OAAuB,EACX,QAAgB,EAC5B,UAAyB,EACzB,GAA6B,EAC7B,GAAsB,EACtB,GAAa;QAEpB,KAAK,CAAC,QAAQ,EAAE,MAAM,EAAE,QAAQ,EAAE,KAAK,EAAE,UAAU,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC,CAAA;QAlB5D,0BAAqB,GAArB,qBAAqB,CAAuB;QAC3C,kBAAa,GAAb,aAAa,CAAwB;QACtC,aAAQ,GAAR,QAAQ,CAAsB;QAC9B,SAAI,GAAJ,IAAI,CAAmB;QACvB,QAAG,GAAH,GAAG,CAAmB;QACtB,aAAQ,GAAR,QAAQ,CAAiB;QACzB,WAAM,GAAN,MAAM,CAAe;QACrB,UAAK,GAAL,KAAK,CAAgB;QACrB,cAAS,GAAT,SAAS,CAAkB;QAC3B,WAAM,GAAN,MAAM,CAAQ;QACd,mBAAc,GAAd,cAAc,CAAgB;QAC9B,YAAO,GAAP,OAAO,CAAgB;QAEvB,eAAU,GAAV,UAAU,CAAe;QACzB,QAAG,GAAH,GAAG,CAA0B;QAC7B,QAAG,GAAH,GAAG,CAAmB;QACtB,QAAG,GAAH,GAAG,CAAU;QAhGb,cAAS,GAAG,sCAAsC,CAAC;QAElD,eAAU,GAAG,IAAI,YAAY,EAAO,CAAC;QACrC,gBAAW,GAAG,IAAI,YAAY,EAAO,CAAC;QAuCvC,iBAAY,GAGjB,EAAE,CAAC;QAGP,gBAAW,GAAG;YACZ,KAAK,EAAE,MAAM;YACb,KAAK,EAAE,GAAG;YACV,MAAM,EAAE,GAAG;YACX,WAAW,EAAE,IAAI;YACjB,UAAU,EAAE,KAAK;SAClB,CAAC;QAIF,cAAS,GAAW,IAAI,CAAC;QAWzB,8BAAyB,GAA+B,IAAI,KAAK,EAAE,CAAC;QAOpE,iBAAY,GAAW,IAAI,CAAC;QAC5B,YAAO,GAAQ,IAAI,CAAC;QAwVpB,eAAU;;;;QAAG,CAAC,GAAG,IAAI;;YAEnB,OAAON,IAAE,CAAC,IAAI,CAAC,CAAC;SACjB,EAAA;QAmBD,cAAS;;;;;;QAAG,CAAC,QAAQ,EAAE,OAA4B,EAAE,GAAG,IAAI;YAC1D,IAAI,OAAO,CAAC,SAAS,IAAI,OAAO,CAAC,SAAS,CAAC,cAAc,EAAE;gBACzD,OAAOA,IAAE,CAAC,IAAI,CAAC,CAAC;aACjB;iBAAM,IAAI,OAAO,CAAC,UAAU,IAAI,OAAO,CAAC,UAAU,CAAC,WAAW,EAAE;gBAC/D,OAAOA,IAAE,CAAC,IAAI,CAAC,CAAC;aACjB;iBAAM;gBACL,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,yCAAyC,CAAC,CAAC,CAAC;gBACxF,OAAOA,IAAE,CAAC,KAAK,CAAC,CAAC;aAClB;SACF,EAAA;KAjWA;;;;;IA9FD,IACI,KAAK,CAAC,IAAY;QACpB,IAAI,GAAG,IAAI,GAAG,IAAI,GAAG,IAAI,CAAC;;cACpB,iBAAiB,GAAsB,IAAI,GAAG,EAAE,GAAG,mBAAmB,CAAC,QAAQ,CAAC,IAAI,EAAE,eAAe,CAAC;QAC5G,IAAI,CAAC,yBAAyB,GAAG,iBAAiB,CAAC,GAAG;;;;QAAC,CAAC,IAAI;;kBACpD,MAAM,GAAwB;gBAClC,EAAE,EAAE,IAAI,CAAC,EAAE;gBACX,SAAS,EAAE,IAAI,CAAC,SAAS;gBACzB,IAAI,EAAE,IAAI,CAAC,IAAI;gBACf,IAAI,EAAE,IAAI,CAAC,IAAI;gBACf,OAAO,EAAE,IAAI,CAAC,OAAO;gBACrB,SAAS,EAAE,EAAE;gBACb,UAAU,EAAE,EAAE;aACf;YAED,IAAI,MAAM,CAAC,IAAI,IAAI,aAAa,CAAC,SAAS,EAAE;;sBACpC,YAAY,GAAG,IAAI,yBAAyB,EAAE;gBACpD,YAAY,CAAC,YAAY,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;gBAExC,MAAM,CAAC,SAAS,CAAC,MAAM,GAAG,YAAY,CAAC,WAAW,CAAC;gBACnD,MAAM,CAAC,SAAS,CAAC,cAAc,GAAG,YAAY,CAAC,mBAAmB,CAAC;gBACnE,MAAM,CAAC,SAAS,CAAC,QAAQ,GAAG,YAAY,CAAC,IAAI,CAAC;gBAE9C,MAAM,CAAC,gBAAgB,GAAG,MAAM,CAAC,SAAS,CAAC,QAAQ,CAAC;aACrD;iBAAM,IAAI,MAAM,CAAC,IAAI,IAAI,aAAa,CAAC,UAAU,EAAE;;sBAC5C,WAAW,GAAG,IAAI,0BAA0B,EAAE;gBACpD,WAAW,CAAC,YAAY,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;gBAEvC,MAAM,CAAC,UAAU,CAAC,WAAW,GAAG,WAAW,CAAC,iBAAiB,CAAC;gBAC9D,MAAM,CAAC,gBAAgB,GAAG,MAAM,CAAC,UAAU,CAAC,WAAW,CAAC;aACzD,AAEA;YACD,OAAO,MAAM,CAAC;SACf,EAAC,CAAC;KACJ;;;;IAoBD,IAAI,MAAM;QACR,OAAO,IAAI,CAAC,yBAAyB,CAAC;KACvC;;;;;IACD,IAAI,MAAM,CAAC,GAA0B;QACnC,IAAI,CAAC,yBAAyB,GAAG,GAAG,CAAC;KACtC;;;;IACD,IAAI,OAAO;QACT,OAAO,IAAI,CAAC,MAAM,CAAC,MAAM,IAAI,CAAC,CAAC;KAChC;;;;IAiCD,QAAQ;QACN,IAAI,CAAC,eAAe,EAAE,CAAC;KACxB;;;;IAED,OAAO;QACL,IAAI,IAAI,CAAC,EAAE,CAAC,SAAS,EAAE,IAAI,IAAI,CAAC,YAAY,IAAI,IAAI,EAAE;YACpD,OAAO;SACR;;cACK,iBAAiB,GAAG,IAAI,CAAC,yBAAyB,CAAC,GAAG;;;;QAAC,CAAC,MAAM;;kBAC5D,IAAI,GAAoB,IAAI,eAAe,EAAE;YACnD,IAAI,CAAC,EAAE,GAAG,MAAM,CAAC,EAAE,CAAC;YACpB,IAAI,CAAC,SAAS,GAAG,MAAM,CAAC,SAAS,CAAC;YAClC,IAAI,CAAC,IAAI,GAAG,MAAM,CAAC,IAAI,CAAC;YACxB,IAAI,CAAC,IAAI,GAAG,MAAM,CAAC,IAAI,CAAC;YACxB,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC,OAAO,CAAC;YAE9B,IAAI,MAAM,CAAC,IAAI,IAAI,aAAa,CAAC,SAAS,EAAE;;sBACpC,YAAY,GAAG,IAAI,yBAAyB,EAAE;gBACpD,YAAY,CAAC,IAAI,GAAG,MAAM,CAAC,SAAS,CAAC,QAAQ,CAAC;gBAC9C,YAAY,CAAC,WAAW,GAAG,MAAM,CAAC,SAAS,CAAC,MAAM,CAAC;gBACnD,YAAY,CAAC,mBAAmB,GAAG,MAAM,CAAC,SAAS,CAAC,cAAc,CAAC;gBAEnE,IAAI,CAAC,OAAO,GAAG,YAAY,CAAC,aAAa,EAAE,CAAC;aAC7C;iBAAM,IAAI,MAAM,CAAC,IAAI,IAAI,aAAa,CAAC,UAAU,EAAE;;sBAC5C,WAAW,GAAG,IAAI,0BAA0B,EAAE;gBACpD,WAAW,CAAC,iBAAiB,GAAG,MAAM,CAAC,UAAU,CAAC,WAAW,CAAC;gBAE9D,IAAI,CAAC,OAAO,GAAG,WAAW,CAAC,aAAa,EAAE,CAAC;aAC5C,AAEA;YAED,OAAO,IAAI,CAAC;SACb,EAAC;;cAEI,GAAG,GAAG,mBAAmB,CAAC,MAAM,CAAC,iBAAiB,CAAC;;cACnD,GAAG,GAAG,EAAE,KAAK,EAAE,GAAG,EAAE,UAAU,EAAE,IAAI,EAAE;QAC5C,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;KAC5B;;;;IAED,WAAW;QACT,IAAI,CAAC,UAAU,CAAC,IAAI,EAAE,CAAC;KACxB;;;;IAED,IAAI;QACF,MAAM,IAAI,KAAK,CAAC,yBAAyB,CAAC,CAAC;KAC5C;;;;;IAED,mBAAmB,CAAC,IAA+B;QACjD,QAAQ,IAAI,CAAC,EAAE;YACb,KAAK,SAAS;gBACZ,IAAI,CAAC,GAAG,EAAE,CAAC;gBACX,MAAM;YACR,KAAK,YAAY;gBACf,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;gBAClB,MAAM;SACT;KACF;;;;IAED,GAAG;QACD,IAAI,IAAI,CAAC,EAAE,CAAC,SAAS,EAAE,IAAI,KAAK,IAAI,IAAI,CAAC,EAAE,CAAC,SAAS,EAAE,IAAI,IAAI,EAAE;;kBACzD,OAAO,GAAG,IAAI,CAAC,qBAAqB,CAAC,qBAAqB,EAAE;;kBAC5D,SAAS,GAAwB;gBACrC,EAAE,EAAE,OAAO,CAAC,EAAE;gBACd,IAAI,EAAE,OAAO,CAAC,IAAI;gBAClB,IAAI,EAAE,OAAO,CAAC,IAAI;gBAClB,SAAS,EAAE,OAAO,CAAC,SAAS;gBAC5B,OAAO,EAAE,OAAO,CAAC,OAAO;gBACxB,SAAS,EAAE,EAAE;gBACb,UAAU,EAAE,EAAE;aACf;YAED,IAAI,CAAC,MAAM,GAAG,CAAC,GAAG,IAAI,CAAC,MAAM,EAAE,SAAS,CAAC,CAAC;YAC1C,IAAI,CAAC,GAAG,CAAC,aAAa,EAAE,CAAC;YACzB,UAAU;;;YAAC;gBACT,IAAI,CAAC,EAAE,CAAC,OAAO,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC;gBAC5B,IAAI,CAAC,YAAY,GAAG,OAAO,CAAC,EAAE,CAAC;aAChC,GAAE,CAAC,CAAC,CAAC;SACP;aAAM;YACL,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,4BAA4B,CAAC,CAAC,CAAC;SAC5E;KACF;;;;;;;IAMD,MAAM,CAAC,GAAU,EAAE,GAA8D;;cACzE,GAAG,GAAa,EAAE;QACxB,IAAI,GAAG,IAAI,IAAI,EAAE;;YAEf,IAAI,CAAC,EAAE,CAAC,QAAQ,CAAC,OAAO;;;;YAAC,EAAE;gBACzB,GAAG,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;aACjB,EAAC,CAAC;SACJ;aAAM;;YAEL,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC;SAC1B;QACD,IAAI,GAAG,CAAC,MAAM,IAAI,CAAC,EAAE;YACnB,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,4BAA4B,CAAC,CAAC,CAAC;YAC3E,IAAI,GAAG,IAAI,IAAI,EAAE;gBACf,GAAG,CAAC,eAAe,EAAE,CAAC;aACvB;YACD,OAAO,KAAK,CAAC;SACd;QACD,KAAK,IAAI,EAAE,IAAI,GAAG,EAAE;YAClB,IAAI,CAAC,EAAE,CAAC,SAAS,CAAC,EAAE,CAAC,CAAC;SACvB;QACD,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC;QAC3B,IAAI,IAAI,CAAC,YAAY,IAAI,IAAI,EAAE;YAC7B,IAAI,GAAG,CAAC,QAAQ,CAAC,IAAI,CAAC,YAAY,CAAC,EAAE;gBACnC,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;aAC1B;iBAAM;gBACL,IAAI,CAAC,EAAE,CAAC,OAAO,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;aACpC;SACF;QACD,IAAI,CAAC,GAAG,CAAC,aAAa,EAAE,CAAC;QACzB,IAAI,GAAG,IAAI,IAAI,EAAE;YACf,GAAG,CAAC,eAAe,EAAE,CAAC;SACvB;QACD,OAAO,KAAK,CAAC;KACd;;;;;IAED,aAAa,CAAC,CAA0C;QACtD,QAAQ,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI;YACvB,KAAK,aAAa,CAAC,SAAS;gBAC1B,IAAI,CAAC,gBAAgB,CAAC,CAAC,CAAC,CAAC;gBACzB,MAAM;YACR,KAAK,aAAa,CAAC,UAAU;gBAC3B,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC;gBACvB,MAAM;;;;;;;YAOR,KAAK,aAAa,CAAC,QAAQ;gBACzB,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC;gBACvB,MAAM;SACT;KACF;;;;;IAEM,gBAAgB,CAAC,CAA0C;;cAC1D,WAAW,GAAG,IAAI,CAAC,GAAG,CAAC,uBAAuB,CAAC,yBAAyB,CAAC;;cACzE,OAAO,GAAG,WAAW,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC;QAC5C,OAAO,CAAC,QAAQ,CAAC,QAAQ,GAAG,iBAAiB,CAAC;;QAE9C,OAAO,CAAC,QAAQ,CAAC,gBAAgB,CAAC,SAAS;;;;QACzC,CAAC,eAAgC;;kBACzB,OAAO,GAAG,IAAI,yBAAyB,EAAE;;kBAEzC,QAAQ,GAAG,eAAe,CAAC,QAAQ;;kBACnC,MAAM,GAAwB,CAAC,CAAC,IAAI,CAAC,WAAW;YACtD,MAAM,CAAC,SAAS,CAAC,QAAQ,GAAG,QAAQ,CAAC,IAAI,CAAC;YAC1C,MAAM,CAAC,SAAS,CAAC,cAAc,GAAG,QAAQ,CAAC,EAAE,CAAC;;kBACxC,eAAe,GAAG,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,OAAO,CAAC;YACpD,MAAM,CAAC,SAAS,CAAC,MAAM,GAAG,eAAe,CAAC,EAAE,IAAI,eAAe,CAAC,EAAE,IAAI,eAAe,CAAC,EAAE,IAAI,QAAQ,CAAC,EAAE,CAAC;YACxG,MAAM,CAAC,gBAAgB,GAAG,MAAM,CAAC,SAAS,CAAC,QAAQ,CAAC;YAEpD,CAAC,CAAC,WAAW,CAAC,QAAQ,CAAC,MAAM,CAAC,gBAAgB,CAAC,CAAC;YAChD,CAAC,CAAC,QAAQ,CAAC,EAAE,CAAC,aAAa,EAAE,CAAC;SAC/B,EACF,CAAC;;cACI,WAAW,GAAG;YAClB,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,iCAAiC,CAAC;YACjE,KAAK,EAAE,GAAG;YACV,MAAM,EAAE,GAAG;YACX,WAAW,EAAE,KAAK;SACnB;;cACK,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,OAAO,EAAE,WAAW,CAAC;QACpD,OAAO,CAAC,QAAQ,CAAC,iBAAiB,CAAC,SAAS;;;;QAAC,MAAM,IAAI,MAAM,CAAC,KAAK,EAAE,EAAC,CAAC;KACxE;;;;;IAEM,cAAc,CAAC,CAA0C;KAE/D;;;;;IAEM,cAAc,CAAC,CAA0C;;;cAExD,OAAO,GAAG,IAAI,KAAK,EAAa;QACtC,IAAI,IAAI,CAAC,aAAa,CAAC,kBAAkB,CAAC,MAAM,GAAG,CAAC,EAAE;YACpD,KAAK,MAAM,QAAQ,IAAI,IAAI,CAAC,aAAa,CAAC,kBAAkB,EAAE;gBAC5D,IAAI,CAAC,OAAO,CAAC,IAAI;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,GAAG,KAAK,QAAQ,CAAC,GAAG,EAAC,EAAE;oBAC9C,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;iBACxB;aACF;SACF;QACD,IAAI,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE;YACtB,KAAK,MAAM,CAAC,IAAI,OAAO,EAAE;gBACvB,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;aACzB;SACF;QAED,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;QACjD,IAAI,CAAC,2BAA2B,EAAE,CAAC;;YAE/B,OAAO,GAAoB,IAAI,CAAC,GAAG,CAAC,aAAa,CAAC,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC;QAC7E,OAAO,CAAC,SAAS;;;;QACf,CAAC,MAAM;YACL,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC;YAC5C,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,MAAM,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,IAAI,EAAE,MAAM,CAAC,IAAI,EAAE,MAAM,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,IAAI,EAAE,YAAY,CAAC,UAAU,CAAC,CAAC;YAE1H,IAAI,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,IAAI;;;;YAC3C,cAAc;;sBACN,OAAO,GAA+B,IAAI,0BAA0B,EAAE;;oBAExE,IAAI,GAAQ,cAAc;;sBACxB,MAAM,GAAwB,CAAC,CAAC,IAAI,CAAC,WAAW;gBACtD,MAAM,CAAC,UAAU,CAAC,WAAW,GAAG,IAAI,CAAC;gBACrC,MAAM,CAAC,gBAAgB,GAAG,MAAM,CAAC,UAAU,CAAC,WAAW,CAAC;gBAExD,CAAC,CAAC,WAAW,CAAC,QAAQ,CAAC,MAAM,CAAC,gBAAgB,CAAC,CAAC;gBAChD,CAAC,CAAC,QAAQ,CAAC,EAAE,CAAC,aAAa,EAAE,CAAC;;gBAE9B,IAAG,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE;oBACrB,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,eAAe,GAAG,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,eAAe,CAAC,MAAM;;;;oBAAC,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI;;;;oBAAC,CAAC,IAAI,CAAC,CAAC,GAAG,KAAK,CAAC,CAAC,GAAG,EAAC,EAAC,CAAC;iBAC9H;aACF,EACF,CAAC;SACH,EACF,CAAC;KACH;;;;;IAED,YAAY,CAAC,CAA0C;;cAC/C,MAAM,GAAwB,CAAC,CAAC,IAAI,CAAC,WAAW;QACtD,MAAM,CAAC,gBAAgB,GAAG,IAAI,CAAC;;QAG/B,MAAM,CAAC,SAAS,CAAC,QAAQ,GAAG,IAAI,CAAC;QACjC,MAAM,CAAC,SAAS,CAAC,cAAc,GAAG,IAAI,CAAC;QACvC,MAAM,CAAC,SAAS,CAAC,MAAM,GAAG,IAAI,CAAC;;QAG/B,MAAM,CAAC,UAAU,CAAC,WAAW,GAAG,IAAI,CAAC;;QAIrC,CAAC,CAAC,WAAW,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;QAC7B,CAAC,CAAC,QAAQ,CAAC,EAAE,CAAC,aAAa,EAAE,CAAC;KAC/B;;;;IAED,eAAe;QACb,IAAI,CAAC,SAAS,GAAG;;YAEf;gBACE,KAAK,EAAE,WAAW,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,WAAW,CAAC,EAAE,KAAK,EAAE,GAAG,EAAE,QAAQ,EAAE,IAAI,CAAC,oBAAoB;aACjH;YACD;gBACE,KAAK,EAAE,MAAM,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,MAAM,CAAC,EAAE,KAAK,EAAE,GAAG;gBACjE,MAAM,EAAE;oBACN,IAAI,EAAE,WAAW,CAAC,MAAM;oBACxB,OAAO,EAAE;wBACP,OAAO,EAAE,OAAO;wBAChB,UAAU,EAAE,OAAO;wBACnB,SAAS,EAAE,MAAM;wBACjB,IAAI,EAAE;;;4BAGJ,EAAE,KAAK,EAAE,aAAa,CAAC,SAAS,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,iBAAiB,CAAC,EAAE;yBAGrF;qBACF;oBACD,UAAU,EAAE;wBACV,EAAE,IAAI,EAAE,UAAU,EAAE,QAAQ,EAAE,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,mBAAmB,CAAC,EAAE;qBAC7E;iBACF;gBACD,UAAU,EAAE;oBACV,EAAE,IAAI,EAAE,UAAU,EAAE;iBACrB;gBACD,SAAS;;;;;;gBAAE,CAAC,KAAoB,EAAE,OAAY,EAAE,QAAa;oBAC3D,QAAQ,KAAK;wBACX,KAAK,aAAa,CAAC,SAAS;4BAC1B,OAAO,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,iBAAiB,CAAC,CAAC;wBACpD,KAAK,aAAa,CAAC,UAAU;4BAC3B,OAAO,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,YAAY,CAAC,CAAC;;;;;wBAK/C,KAAK,aAAa,CAAC,QAAQ;4BACzB,OAAO,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,YAAY,CAAC,CAAC;wBAC/C;4BACE,OAAO,SAAS,CAAC;qBACpB;iBACF,CAAA;aACF;YACD;gBACE,KAAK,EAAE,kBAAkB,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,SAAS,CAAC,EAAE,KAAK,EAAE,GAAG;gBAChF,MAAM,EAAE;oBACN,IAAI,EAAE,WAAW,CAAC,UAAU;oBAC5B,OAAO,EAAE;wBACP,SAAS,EAAE,IAAI,CAAC,SAAS;wBACzB,QAAQ,EAAE,KAAK;wBACf,WAAW;;;;wBAAE,CAAC,CAA0C;4BACtD,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC;yBACvB,CAAA;wBACD,KAAK;;;;wBAAE,CAAC,CAA0C;4BAChD,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC;yBACtB,CAAA;qBACF;oBACD,UAAU,EAAE;wBACV,EAAE,IAAI,EAAE,UAAU,EAAE,QAAQ,EAAE,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,sBAAsB,CAAC,EAAE;qBAChF;iBACF;gBACD,UAAU,EAAE;oBACV,EAAE,IAAI,EAAE,UAAU,EAAE;iBACrB;aACF;YACD;gBACE,KAAK,EAAE,SAAS,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,aAAa,CAAC,EAAE,KAAK,EAAE,GAAG;gBAC3E,MAAM,EAAE;oBACN,IAAI,EAAE,WAAW,CAAC,QAAQ,EAAE,OAAO,EAAE,EAAE;iBACxC;aACF;YACD,EAAE,KAAK,EAAE,IAAI,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,WAAW,CAAC,EAAE,KAAK,EAAE,GAAG,EAAE,QAAQ,EAAE,IAAI,CAAC,QAAQ,EAAE,MAAM,EAAE,QAAQ,EAAE,KAAK,EAAE,QAAQ,EAAE;SACrI,CAAC;KACH;;;;;IAOD,SAAS,CAAC,KAAuF;;QAE/F,IAAI,CAAC,YAAY,GAAG,KAAK,CAAC,OAAO,CAAC,EAAE,CAAC;;cAC/B,OAAO,GAAG,KAAK,CAAC,YAAY,CAAC,UAAU,EAAE;;cACzC,MAAM,GAAG,OAAO,CAAC,CAAC,CAAC;QACzB,MAAM,CAAC,QAAQ,CAAC,WAAW,CAAC,YAAY,CAAC,SAAS;;;;QAAC,CAAC,GAAG;YACrD,IAAI,MAAM,CAAC,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,IAAI,GAAG,EAAE;gBACnD,MAAM,CAAC,QAAQ,CAAC,KAAK,CAAC,WAAW,CAAC,gBAAgB,GAAG,IAAI,CAAC;gBAC1D,MAAM,CAAC,QAAQ,CAAC,KAAK,CAAC,QAAQ,CAAC,gBAAgB,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;gBAE/D,MAAM,CAAC,QAAQ,CAAC,KAAK,CAAC,WAAW,CAAC,OAAO,GAAG,IAAI,CAAC;gBACjD,MAAM,CAAC,QAAQ,CAAC,KAAK,CAAC,QAAQ,CAAC,OAAO,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;gBACtD,MAAM,CAAC,QAAQ,CAAC,EAAE,CAAC,EAAE,CAAC,aAAa,EAAE,CAAC;aACvC;SACF,EAAC,CAAC;KACJ;;;;;IAaD,OAAO,CAAC,GAAG,IAAI;;QAEb,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;KAC1B;;;;;IAED,YAAY,CAAC,GAAG,IAAI;;QAElB,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;KAC1B;;;;IAEM,2BAA2B;;;;;;;;KAQjC;;;YAneF,SAAS,SAAC;gBACT,QAAQ,EAAE,qBAAqB;gBAC/B,43HAA+C;gBAE/C,SAAS,EAAE;oBACT,EAAE,OAAO,EAAE,kBAAkB,EAAE,QAAQ,IAAgB,EAAE;oBACzD,aAAa;oBACb,qBAAqB;iBACtB;;aACF;;;;YAjBQ,qBAAqB;YAKrB,sBAAsB;YAXtB,oBAAoB;YACpB,iBAAiB;YAMjB,iBAAiB;YAXjB,eAAe;YAEf,aAAa;YADb,cAAc;YAKd,gBAAgB;YAXA,MAAM;YAAtB,cAAc;YAId,cAAc;yCA0HlB,MAAM,SAAC,SAAS;YAjHZ,aAAa;YAdiB,wBAAwB;YAAtD,iBAAiB;YAA6D,QAAQ;;;yBAqC5F,MAAM;0BACN,MAAM;oBAEN,KAAK;2BAqCL,KAAK;0BAKL,SAAS,SAAC,kBAAkB;iBAS5B,SAAS,SAAC,IAAI;mCAed,SAAS,SAAC,sBAAsB;uBAEhC,SAAS,SAAC,UAAU;;MAkZV,uBAAuB;IAElC,iBAAiB;;;;;IAEjB,SAAS,CAAC,IAAS;QACjB,IAAI,IAAI,IAAI,IAAI,CAAC,cAAc,EAAE;YAC/B,OAAO,OAAO,CAAC;SAChB;QACD,OAAO,OAAO,CAAC;KAChB;CACF;;;;;;;;ICvgBG,IAAK,IAAI;IACT,MAAO,MAAM;IACb,cAAe,cAAc;IAC7B,WAAY,WAAW;IACvB,KAAM,KAAK;;;;IAIX,qBAAsB,qBAAqB;;;;IAI3C,oBAAqB,oBAAoB;;;;IAIzC,SAAU,SAAS;IACnB,WAAY,WAAW;IACvB,oBAAqB,oBAAoB;IACzC,wBAAyB,wBAAwB;IACjD,cAAe,cAAc;IAC7B,kBAAmB,kBAAkB;IACrC,oBAAqB,oBAAoB;IACzC,gBAAiB,gBAAgB;IACjC,eAAgB,eAAe;IAC/B,kBAAmB,kBAAkB;IACrC,eAAgB,eAAe;IAC/B,gBAAiB,gBAAgB;IACjC,WAAY,WAAW;IACvB,iBAAkB,iBAAiB;IACnC,gBAAiB,gBAAgB;;;;IAIjC,0BAA2B,0BAA0B;;;;;;;ACnCzD,MA4Ba,oBAAoB;;;;;IAC/B,YACU,OAA+B,EAC/B,SAAuB;QADvB,YAAO,GAAP,OAAO,CAAwB;QAC/B,cAAS,GAAT,SAAS,CAAc;KAEhC;;;;;IAED,kBAAkB,CAAC,GAAQ;QACzB,IAAI,CAAC,OAAO,CAAC,YAAY,GAAG,GAAG,CAAC,YAAY,CAAC;QAC7C,IAAI,CAAC,OAAO,CAAC,gBAAgB,GAAG,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,mBAAmB,CAAC,gBAAgB,CAAC,CAAC;QAChG,IAAI,CAAC,OAAO,CAAC,cAAc,GAAG,IAAI,CAAC,gBAAgB,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC;KACzE;;;;;IAED,gBAAgB,CAAC,GAAU;;cACnB,cAAc,GAA4B,EAAE;QAClD,IAAI,GAAG,EAAE;YACP,GAAG,CAAC,OAAO;;;;YAAC,CAAC,OAA8B;gBACzC,IAAI,CAAC,gBAAgB,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC;gBAC1C,cAAc,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;aAC9B,EAAC,CAAC;SACJ;QACD,OAAO,cAAc,CAAC;KACvB;;;;;;IAEO,gBAAgB,CAAC,GAAqB;QAC5C,IAAI,GAAG,CAAC,MAAM,GAAG,CAAC,EAAE;YAClB,GAAG,CAAC,OAAO;;;;YAAC,CAAC,IAAoB;gBAC/B,QAAQ,IAAI,CAAC,UAAU;oBACrB,KAAK,mBAAmB,CAAC,GAAG;wBAC1B,MAAM;oBACR,KAAK,mBAAmB,CAAC,SAAS;wBAChC,IAAI,CAAC,MAAM,GAAG,wBAAwB,CAAC;wBACvC,IAAI,CAAC,SAAS,GAAG,IAAI,iBAAiB,EAAE,CAAC;;;;wBAIzC,MAAM;oBACR,KAAK,mBAAmB,CAAC,YAAY;wBACnC,IAAI,CAAC,MAAM,GAAG,0BAA0B,CAAC;wBACzC,IAAI,CAAC,SAAS,GAAG,IAAI,0BAA0B,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;wBAChE,IAAI,CAAC,YAAY,GAAG;4BAClB,QAAQ,EAAE,SAAS;yBACpB,CAAC;wBACF,MAAM;oBACR,KAAK,mBAAmB,CAAC,kBAAkB;wBACzC,IAAI,CAAC,MAAM,GAAG,qBAAqB,CAAC;;8BAC9B,MAAM,GAAG;4BACb,QAAQ,EAAE,SAAS;4BACnB,GAAG,EAAE,KAAK;yBACX;wBACD,IAAI,CAAC,SAAS,GAAG,IAAI,qBAAqB,CAAC,MAAM,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC;wBACnE,IAAI,CAAC,YAAY,GAAG,MAAM,CAAC;wBAC3B,MAAM;oBACR,KAAK,mBAAmB,CAAC,sBAAsB;wBAC7C,IAAI,CAAC,MAAM,GAAG,qBAAqB,CAAC;;8BAC9B,YAAY,GAAG;4BACnB,QAAQ,EAAE,SAAS;4BACnB,GAAG,EAAE,QAAQ;yBACd;wBACD,IAAI,CAAC,SAAS,GAAG,IAAI,qBAAqB,CAAC,YAAY,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC;wBACzE,IAAI,CAAC,YAAY,GAAG,YAAY,CAAC;wBACjC,MAAM;oBACR,KAAK,mBAAmB,CAAC,kBAAkB;wBACzC,IAAI,CAAC,MAAM,GAAG,wBAAwB,CAAC;wBACvC,IAAI,CAAC,SAAS,GAAG,IAAI,wBAAwB,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;wBAC9D,MAAM;oBACR,KAAK,mBAAmB,CAAC,cAAc;wBACrC,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC;wBAC1C,MAAM;oBACR,KAAK,mBAAmB,CAAC,cAAc;wBACrC,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC;wBAC1C,MAAM;oBACR,KAAK,mBAAmB,CAAC,wBAAwB;wBAC/C,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC;wBAC1C,MAAM;oBACR,KAAK,mBAAmB,CAAC,SAAS;wBAChC,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,OAAO,CAAC,iBAAiB,CAAC;wBAC/C,MAAM;oBACR,KAAK,mBAAmB,CAAC,eAAe;wBACtC,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,OAAO,CAAC,eAAe,CAAC;wBAC7C,MAAM;oBACR,KAAK,mBAAmB,CAAC,kBAAkB;wBACzC,IAAI,CAAC,MAAM,GAAG,wBAAwB,CAAC;wBACvC,IAAI,CAAC,SAAS,GAAG,IAAI,wBAAwB,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;wBAC9D,MAAM;oBACR,KAAK,mBAAmB,CAAC,gBAAgB;wBACvC,IAAI,CAAC,MAAM,GAAG,yBAAyB,CAAC;wBACxC,IAAI,CAAC,SAAS,GAAG,IAAI,yBAAyB,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;wBAC/D,MAAM;oBACR,KAAK,mBAAmB,CAAC,gBAAgB;wBACvC,IAAI,CAAC,MAAM,GAAG,yBAAyB,CAAC;wBACxC,IAAI,CAAC,SAAS,GAAG,IAAI,yBAAyB,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;wBAC/D,IAAI,CAAC,YAAY,GAAG;4BAClB,QAAQ,EAAE,SAAS;yBACpB,CAAC;wBACF,MAAM;oBACR,KAAK,mBAAmB,CAAC,aAAa;wBACpC,IAAI,CAAC,MAAM,GAAG,sBAAsB,CAAC;wBACrC,IAAI,CAAC,SAAS,GAAG,IAAI,sBAAsB,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;wBAC5D,IAAI,CAAC,YAAY,GAAG;4BAClB,QAAQ,EAAE,SAAS;yBACpB,CAAC;wBACF,MAAM;oBACR,KAAK,mBAAmB,CAAC,aAAa;wBACpC,IAAI,CAAC,MAAM,GAAG,iBAAiB,CAAC;wBAChC,IAAI,CAAC,SAAS,GAAG,IAAI,iBAAiB,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;wBACvD,MAAM;oBACR,KAAK,mBAAmB,CAAC,cAAc;wBACrC,IAAI,CAAC,MAAM,GAAG,uBAAuB,CAAC;wBACtC,IAAI,CAAC,YAAY,GAAG,EAAE,CAAC;wBACvB,IAAI,CAAC,SAAS,GAAG,IAAI,uBAAuB,EAAE,CAAC;wBAC/C,MAAM;oBACR;wBACE,IAAI,CAAC,MAAM,GAAG,uBAAuB,CAAC;wBACtC,IAAI,CAAC,SAAS,GAAG,IAAI,uBAAuB,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;wBAC7D,MAAM;iBACT;aACF,EAAC,CAAC;SACJ;KACF;;;YAzHF,UAAU;;;;YAzBF,sBAAsB;YAuBtB,YAAY;;;;;;;ACxBrB,MAAa,kBAAkB;;;;;;IAW3B,YAAY,KAAc,EAAE,IAAa,EAAE,QAAiB;QAP5D,cAAS,GAAG,KAAK,CAAC;QAClB,qBAAgB,GAAG,KAAK,CAAC;QACzB,kBAAa,GAAG,KAAK,CAAC;QACtB,wBAAmB,GAAG,KAAK,CAAC;QAC5B,uBAAkB,GAAG,KAAK,CAAC;QAIvB,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;QACnB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,cAAc,GAAG,QAAQ,CAAC;KAClC;CACJ;;;;;;AChBD,MAAa,cAAc;CAQ1B;;;;;;ACRD,MAyBa,iBAAiB;;;;;;;;;;;IAmH5B,YACU,WAAwB,EACxB,OAAwB,EACxB,WAA8B,EAC9B,eAAuC,EAC3B,GAAsB,EACf,QAAgB,EACR,SAAc,EAC7B,UAAwB;QAPpC,gBAAW,GAAX,WAAW,CAAa;QACxB,YAAO,GAAP,OAAO,CAAiB;QACxB,gBAAW,GAAX,WAAW,CAAmB;QAC9B,oBAAe,GAAf,eAAe,CAAwB;QAC3B,QAAG,GAAH,GAAG,CAAmB;QACf,aAAQ,GAAR,QAAQ,CAAQ;QACR,cAAS,GAAT,SAAS,CAAK;QAC7B,eAAU,GAAV,UAAU,CAAc;QAzH9C,QAAG,GAAG,8BAA8B,CAAC;QAC3B,eAAU,GAAG,IAAI,YAAY,EAAO,CAAC;QACrC,gBAAW,GAAG,IAAI,YAAY,EAAO,CAAC;QA4CvC,iBAAY,GAAQ,EAAE,CAAC;QAOhC,gBAAW,GAAG;YACZ,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,qCAAqC,CAAC;YACvE,KAAK,EAAE,GAAG;YACV,MAAM,EAAE,GAAG;YACX,WAAW,EAAE,IAAI;SAClB,CAAC;QACF,kBAAa,GAAY,KAAK,CAAC;QAC/B,SAAI,GAAqB,EAAE,CAAC;QAC5B,uBAAkB,GAAU;YAC1B,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,6BAA6B,CAAC,EAAE,KAAK,EAAE,UAAU,EAAE;YACrF,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,iCAAiC,CAAC,EAAE,KAAK,EAAE,cAAc,EAAE;YAC7F,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,qCAAqC,CAAC,EAAE,KAAK,EAAE,MAAM,EAAE;SAC1F,CAAC;QACF,yBAAoB,GAAgB,EAAE,CAAC;QAEvC,cAAS,GAAc,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC;;;;QAEtD,iBAAY,GAAG,CAAC,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,0BAA0B,CAAC,EAAE,KAAK,EAAE,OAAO,EAAE,KAAK,EAAE,EAAE,EAAE;YAC3G,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,yBAAyB,CAAC,EAAE,KAAK,EAAE,MAAM,EAAE,KAAK,EAAE,EAAE,EAAE,CAAC,CAAC;QAC3F,kBAAa,GAAU,EAAE,CAAC;QAE1B,mBAAc,GAAU;YACtB,EAAE,KAAK,EAAE,SAAS,EAAG,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,uEAAuE,CAAC,EAAE;YAC/H,EAAE,KAAK,EAAE,UAAU,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,wEAAwE,CAAC,EAAE;YAChI,EAAE,KAAK,EAAE,OAAO,EAAG,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,qEAAqE,CAAC,EAAE;SAC5H,CAAC;;;;QAEF,YAAO,GAAG;YACR,EAAE,KAAK,EAAE,gBAAgB,EAAE,KAAK,EAAE,EAAE,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,mCAAmC,CAAC,EAAE;YAC7G,EAAE,KAAK,EAAE,iBAAiB,EAAE,KAAK,EAAE,EAAE,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,oCAAoC,CAAC,EAAE;YAC/G,EAAE,KAAK,EAAE,eAAe,EAAE,KAAK,EAAE,EAAE,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,kCAAkC,CAAC;gBACvG,SAAS,EAAE,EAAC,IAAI,EAAE,MAAM,EAAC,OAAO,EAAE,EAAE,UAAU,EAAE,OAAO,EAAE,SAAS,EAAE,MAAM,EAAE,IAAI,EAAE,IAAI,CAAC,kBAAkB,EAAE,EAAC;gBAC5G,MAAM,EAAE,EAAC,IAAI,EAAE,WAAW,CAAC,SAAS,EAAC,OAAO,EAAE,EAAE,UAAU,EAAE,OAAO,EAAE,SAAS,EAAE,MAAM,EAAE,IAAI,EAAE,IAAI,CAAC,kBAAkB,EAAE,OAAO,EAAE,OAAO,EAAE,WAAW,EAAE,MAAM,EAAE,EAAC;aAChK;YACD,EAAE,KAAK,EAAE,gBAAgB,EAAE,KAAK,EAAE,EAAE,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,mCAAmC,CAAC;gBACzG,MAAM,EAAE,EAAE,IAAI,EAAE,WAAW,CAAC,SAAS,EAAE,OAAO,EAAE,EAAE,EAAE;gBACpD,SAAS,EAAC,EAAC,IAAI,EAAE,QAAQ,EAAE,OAAO,EAAE,EAAE,SAAS,EAAE,CAAC,EAAE,GAAG,EAAE,CAAC,EAAE,EAAE;aAC/D;YACD,EAAE,KAAK,EAAE,cAAc,EAAE,KAAK,EAAE,EAAE,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,iCAAiC,CAAC;gBACrG,MAAM,EAAE,EAAE,IAAI,EAAE,WAAW,CAAC,MAAM,EAAE,OAAO,EAAE,EAAE,EAAE;gBACjD,SAAS,EAAE,EAAE,IAAI,EAAE,SAAS,EAAE,OAAO,EAAE,EAAE,QAAQ,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,wBAAwB,CAAC,EAAE,SAAS,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,uBAAuB,CAAC,EAAE,EAAC;aACzK;YACD,EAAE,KAAK,EAAE,qBAAqB,EAAE,KAAK,EAAE,EAAE,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,qCAAqC,CAAC;gBAChH,MAAM,EAAE;oBACN,IAAI,EAAE,aAAa;oBACnB,OAAO,EAAE;wBACP,SAAS,EAAE,sCAAsC;wBACjD,QAAQ,EAAE,KAAK;wBACf,WAAW;;;;wBAAE,CAAC,CAAC;4BACb,CAAC,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC,CAAC,QAAQ,CAAC,KAAK,GAAG,CAAC,CAAC,QAAQ,CAAC,KAAK,GAAG,EAAE,CAAC,CAAC;4BACjE,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC;yBACtB,CAAA;wBACD,KAAK;;;;wBAAE,CAAC,CAAC;4BACP,OAAO,CAAC,GAAG,CAAC,OAAO,EAAE,CAAC,CAAC,CAAC;yBACzB,CAAA;qBACF;iBACF;aACF;SACF,CAAC;;;;QAqNF,cAAS;;;;;;QAAG,CAAC,QAAgB,EAAE,OAAY,EAAE,MAAmB;YAC9D,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC,CAAC;YACpD,OAAOA,IAAE,CAAC,IAAI,CAAC,CAAC;SACjB,EAAA;QA5MC,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,IAAI,IAAI,YAAY,CAAC,QAAQ,EAAE,SAAS,CAAC,CAAC;KAC3E;;;;;;IAtHF,IACI,KAAK,CAAC,KAAY;QACpB,IAAI,KAAK,IAAI,KAAK,CAAC,MAAM,GAAG,CAAC,EAAE;YAC7B,KAAK,MAAM,IAAI,IAAI,KAAK,EAAE;;sBAClB,GAAG,GAAG,IAAI,cAAc,EAAE;gBAChC,GAAG,CAAC,EAAE,GAAG,aAAa,CAAC,iBAAiB,EAAE,CAAC;gBAC3C,GAAG,CAAC,eAAe,GAAG,IAAI,CAAC,eAAe,CAAC;gBAC3C,GAAG,CAAC,cAAc,GAAG,IAAI,CAAC,cAAc,CAAC;gBACzC,GAAG,CAAC,aAAa,GAAG,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,aAAa,GAAG,MAAM,CAAC;gBACrE,GAAG,CAAC,cAAc,GAAG,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,cAAc,GAAG,CAAC,CAAC;gBACnE,GAAG,CAAC,YAAY,GAAG,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,YAAY,GAAG,KAAK,CAAC;gBACjE,GAAG,CAAC,mBAAmB,GAAG,IAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC,mBAAmB,CAAC,MAAM,GAAG,IAAI,CAAC;gBAC5F,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;aACrB;SACF;aAAM;YACL,IAAI,CAAC,SAAS,EAAE,CAAC;SAClB;KACF;;;;;;IAGD,IACI,MAAM,CAAC,KAAY;QACrB,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC;QAC1B,IAAI,KAAK,IAAI,KAAK,CAAC,MAAM,GAAG,CAAC,EAAE;YAC7B,KAAK,MAAM,IAAI,IAAI,KAAK,EAAE;;sBAClB,GAAG,GAAG,IAAI,cAAc,EAAE;gBAChC,GAAG,CAAC,EAAE,GAAG,eAAe,CAAC,iBAAiB,EAAE,CAAC;gBAC7C,GAAG,CAAC,eAAe,GAAG,IAAI,CAAC,eAAe,CAAC;;gBAE3C,GAAG,CAAC,aAAa,GAAG,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,aAAa,GAAG,MAAM,CAAC;gBACrE,GAAG,CAAC,cAAc,GAAG,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,cAAc,GAAG,CAAC,CAAC;gBACnE,GAAG,CAAC,YAAY,GAAG,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,YAAY,GAAG,KAAK,CAAC;gBACjE,GAAG,CAAC,mBAAmB,GAAG,IAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC,mBAAmB,CAAC,KAAK,GAAG,IAAI,CAAC;gBAC3F,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;aACrB;YACD,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;SACtC;aAAM;YACL,IAAI,CAAC,UAAU,EAAE,CAAC;SACnB;KACF;;;;IAiFD,QAAQ;QACN,IAAI,CAAC,oBAAoB,GAAG,IAAI,CAAC,eAAe,CAAC,oBAAoB,IAAI,EAAE,CAAC;QAC5E,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,eAAe,CAAC,aAAa,IAAI,EAAE,CAAC;KAC/D;;;;;IAED,SAAS;QACP,IAAI,CAAC,IAAI,GAAG,EAAE,CAAC;;cACT,SAAS,GAAG,IAAI,CAAC,eAAe,CAAC,aAAa,IAAI,EAAE;QAC1D,IAAI,SAAS,IAAI,SAAS,CAAC,MAAM,GAAG,CAAC,EAAE;YACrC,KAAK,MAAM,QAAQ,IAAI,SAAS,EAAE;;sBAC1B,GAAG,GAAG,IAAI,cAAc,EAAE;gBAChC,IAAI,QAAQ,CAAC,KAAK,KAAK,MAAM,EAAE;oBAC7B,GAAG,CAAC,EAAE,GAAG,aAAa,CAAC,iBAAiB,EAAE,CAAC;oBAC3C,GAAG,CAAC,eAAe,GAAG,QAAQ,CAAC,KAAK,CAAC;oBACrC,GAAG,CAAC,cAAc,GAAG,QAAQ,CAAC,IAAI,CAAC;oBACnC,GAAG,CAAC,aAAa,GAAG,cAAc,CAAC;oBACnC,GAAG,CAAC,cAAc,GAAG,KAAK,CAAC;oBAC3B,GAAG,CAAC,YAAY,GAAG,IAAI,CAAC;iBACzB;qBAAM,IAAI,QAAQ,CAAC,KAAK,KAAK,MAAM,EAAE;oBACpC,GAAG,CAAC,EAAE,GAAG,aAAa,CAAC,iBAAiB,EAAE,CAAC;oBAC3C,GAAG,CAAC,eAAe,GAAG,QAAQ,CAAC,KAAK,CAAC;oBACrC,GAAG,CAAC,cAAc,GAAG,QAAQ,CAAC,IAAI,CAAC;oBACnC,GAAG,CAAC,aAAa,GAAG,UAAU,CAAC;oBAC/B,GAAG,CAAC,cAAc,GAAG,GAAG,CAAC;oBACzB,GAAG,CAAC,YAAY,GAAG,IAAI,CAAC;iBACzB;qBAAM;oBACL,GAAG,CAAC,EAAE,GAAG,aAAa,CAAC,iBAAiB,EAAE,CAAC;oBAC3C,GAAG,CAAC,eAAe,GAAG,QAAQ,CAAC,KAAK,CAAC;oBACrC,GAAG,CAAC,cAAc,GAAG,QAAQ,CAAC,IAAI,CAAC;oBACnC,GAAG,CAAC,aAAa,GAAG,MAAM,CAAC;oBAC3B,GAAG,CAAC,cAAc,GAAG,GAAG,CAAC;oBACzB,GAAG,CAAC,YAAY,GAAG,IAAI,CAAC;iBACzB;gBACD,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;aACrB;SACF;KACF;;;;;IAGC,UAAU;QACR,IAAI,CAAC,IAAI,GAAG,EAAE,CAAC;QACf,IAAI,IAAI,CAAC,cAAc,IAAI,IAAI,CAAC,cAAc,CAAC,MAAM,GAAG,CAAC,EAAE;YACzD,KAAK,MAAM,QAAQ,IAAI,IAAI,CAAC,cAAc,EAAE;;sBACpC,GAAG,GAAG,IAAI,cAAc,EAAE;gBAChC,IAAI,QAAQ,CAAC,KAAK,KAAK,SAAS,EAAE;oBAChC,GAAG,CAAC,EAAE,GAAG,aAAa,CAAC,iBAAiB,EAAE,CAAC;oBAC3C,GAAG,CAAC,eAAe,GAAG,QAAQ,CAAC,KAAK,CAAC;oBACrC,GAAG,CAAC,cAAc,GAAG,QAAQ,CAAC,IAAI,CAAC;oBACnC,GAAG,CAAC,aAAa,GAAG,cAAc,CAAC;oBACnC,GAAG,CAAC,cAAc,GAAG,KAAK,CAAC;oBAC3B,GAAG,CAAC,YAAY,GAAG,IAAI,CAAC;iBACzB;qBAAM,IAAI,QAAQ,CAAC,KAAK,KAAK,UAAU,IAAI,QAAQ,CAAC,KAAK,KAAK,OAAO,EAAE;oBACtE,GAAG,CAAC,EAAE,GAAG,aAAa,CAAC,iBAAiB,EAAE,CAAC;oBAC3C,GAAG,CAAC,eAAe,GAAG,QAAQ,CAAC,KAAK,CAAC;oBACrC,GAAG,CAAC,cAAc,GAAG,QAAQ,CAAC,IAAI,CAAC;oBACnC,GAAG,CAAC,aAAa,GAAG,UAAU,CAAC;oBAC/B,GAAG,CAAC,cAAc,GAAG,GAAG,CAAC;oBACzB,GAAG,CAAC,YAAY,GAAG,IAAI,CAAC;iBACzB;qBAAM;oBACL,GAAG,CAAC,EAAE,GAAG,aAAa,CAAC,iBAAiB,EAAE,CAAC;oBAC3C,GAAG,CAAC,eAAe,GAAG,QAAQ,CAAC,KAAK,CAAC;oBACrC,GAAG,CAAC,cAAc,GAAG,QAAQ,CAAC,IAAI,CAAC;oBACnC,GAAG,CAAC,aAAa,GAAG,MAAM,CAAC;oBAC3B,GAAG,CAAC,cAAc,GAAG,GAAG,CAAC;oBACzB,GAAG,CAAC,YAAY,GAAG,IAAI,CAAC;iBACzB;gBACD,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;aACrB;SACF;KACF;;;;;;IAGA,QAAQ,CAAC,cAA+B;QACvC,IAAI,cAAc,IAAI,cAAc,CAAC,MAAM,GAAG,CAAC,EAAE;YAC/C,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,cAAc,CAAC,MAAM,EAAC,CAAC,EAAE,EAAE;gBAC7C,IAAI,cAAc,CAAC,CAAC,CAAC,CAAC,eAAe,KAAK,SAAS,EAAE;oBACnD,cAAc,CAAC,CAAC,CAAC,CAAC,cAAc,GAAG,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,uEAAuE,CAAC,CAAC;iBACvI;qBAAM,IAAI,cAAc,CAAC,CAAC,CAAC,CAAC,eAAe,KAAK,UAAU,EAAE;oBAC3D,cAAc,CAAC,CAAC,CAAC,CAAC,cAAc,GAAG,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,wEAAwE,CAAC,CAAC;iBACxI;qBAAM,IAAI,cAAc,CAAC,CAAC,CAAC,CAAC,eAAe,KAAK,OAAO,EAAC;oBACvD,cAAc,CAAC,CAAC,CAAC,CAAC,cAAc,GAAG,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,qEAAqE,CAAC,CAAC;iBACrI;aACF;SACF;QACD,OAAO,cAAc,CAAC;KACvB;;;;IAEH,OAAO;QACL,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC;QACxB,IAAI,IAAI,CAAC,IAAI,CAAC,MAAM,KAAK,CAAC,EAAE;YAC1B,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,6BAA6B,CAAC,CAAC,CAAC;SAChF;aAAM;;kBACC,MAAM,GAAG,EAAE,KAAK,EAAE,IAAI,CAAC,IAAI,EAAE,UAAU,EAAE,IAAI,EAAE;YACrD,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;SAC/B;KACF;;;;IAED,QAAQ;QACN,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC;QACxB,IAAI,IAAI,CAAC,IAAI,CAAC,MAAM,KAAK,CAAC,EAAE;YAC1B,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,6BAA6B,CAAC,CAAC,CAAC;SAChF;aAAM;;gBACD,gBAAgB,GAAG,IAAI,KAAK,EAAmB;YACnD,IAAI,CAAC,IAAI,CAAC,OAAO;;;;YAAC,CAAC;;oBACb,eAAe,GAAG,IAAI,eAAe,CAAC,IAAI,CAAC,SAAS,CAAC;gBACzD,eAAe,CAAC,aAAa,GAAG,CAAC,CAAC,aAAa,CAAC;gBAChD,eAAe,CAAC,eAAe,GAAG,CAAC,CAAC,eAAe,CAAC;gBACpD,eAAe,CAAC,cAAc,GAAG,CAAC,CAAC,cAAc,CAAA;gBACjD,eAAe,CAAC,YAAY,GAAG,CAAC,CAAC,YAAY,CAAC;gBAC9C,eAAe,CAAC,mBAAmB,GAAG,IAAI,SAAS,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;gBACpE,eAAe,CAAC,mBAAmB,CAAC,KAAK,GAAG,CAAC,CAAC,mBAAmB,CAAC;gBAClE,gBAAgB,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;aACxC,EAAC,CAAA;;YAGF,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC;SACzC;KACF;;;;IAED,WAAW;QACT,IAAI,CAAC,UAAU,CAAC,IAAI,EAAE,CAAC;KACxB;;;;;IAED,YAAY,CAAC,CAAM;;;cAEX,OAAO,GAAG,IAAI,KAAK,EAAE;QAC3B,IAAG,IAAI,CAAC,aAAa,EAAE;YACrB,IAAI,IAAI,CAAC,eAAe,CAAC,yBAAyB,CAAC,MAAM,GAAG,CAAC,EAAE;gBAC7D,KAAK,MAAM,QAAQ,IAAI,IAAI,CAAC,eAAe,CAAC,yBAAyB,EAAE;oBACrE,IAAI,CAAC,OAAO,CAAC,IAAI;;;;oBAAC,CAAC,IAAI,CAAC,CAAC,GAAG,KAAK,QAAQ,CAAC,GAAG,EAAC,EAAE;wBAC9C,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;qBACxB;iBACF;aACF;YACD,IAAI,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE;gBACtB,KAAK,MAAM,CAAC,IAAI,OAAO,EAAE;oBACvB,IAAI,CAAC,WAAW,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;iBAChC;aACF;SACF;aAAK;YACJ,IAAI,IAAI,CAAC,oBAAoB,IAAI,IAAI,CAAC,oBAAoB,CAAC,MAAM,GAAG,CAAC,EAAE;gBACrE,KAAK,MAAM,QAAQ,IAAI,IAAI,CAAC,oBAAoB,EAAE;oBAChD,IAAI,CAAC,OAAO,CAAC,IAAI;;;;oBAAC,CAAC,IAAI,CAAC,CAAC,GAAG,KAAK,QAAQ,CAAC,GAAG,EAAC,EAAE;wBAC9C,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;qBACxB;iBACF;aACF;YACD,IAAI,IAAI,CAAC,eAAe,CAAC,kBAAkB,CAAC,MAAM,GAAG,CAAC,EAAE;gBACtD,KAAK,MAAM,QAAQ,IAAI,IAAI,CAAC,eAAe,CAAC,kBAAkB,EAAE;oBAC9D,IAAI,CAAC,OAAO,CAAC,IAAI;;;;oBAAC,CAAC,IAAI,CAAC,CAAC,GAAG,KAAK,QAAQ,CAAC,GAAG,EAAC,EAAE;wBAC9C,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;qBACxB;iBACF;aACF;YACD,IAAI,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE;gBACtB,KAAK,MAAM,CAAC,IAAI,OAAO,EAAE;oBACvB,IAAI,CAAC,WAAW,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;iBAChC;aACF;SACF;QACD,IAAI,CAAC,WAAW,CAAC,cAAc,CAAC,YAAY,CAAC,QAAQ,CAAC,CAAC;QACvD,IAAI,CAAC,WAAW,CAAC,iBAAiB,CAAC,CAAC,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;QACrD,IAAI,CAAC,WAAW,CAAC,eAAe,EAAE,CAAC,IAAI;;;;QAAC,CAAC,IAAY;YACnD,CAAC,CAAC,WAAW,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;YAC7B,CAAC,CAAC,QAAQ,CAAC,EAAE,CAAC,aAAa,EAAE,CAAC;;YAE9B,IAAG,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE;gBACrB,IAAI,CAAC,WAAW,CAAC,UAAU,CAAC,eAAe,GAAG,IAAI,CAAC,WAAW,CAAC,UAAU,CAAC,eAAe,CAAC,MAAM;;;;gBAAC,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,GAAG,KAAK,CAAC,CAAC,GAAG,EAAC,EAAC,CAAC;aAC5I;SACF,EAAC,CAAC;KACJ;;;;;IAKD,cAAc;;cACN,UAAU,GAAU,IAAI,CAAC,aAAa,CAAC,QAAQ;QACrD,IAAI,UAAU,IAAI,UAAU,CAAC,MAAM,GAAG,CAAC,EAAE;YACvC,KAAK,MAAM,SAAS,IAAI,UAAU,EAAE;;sBAC5B,QAAQ,GAAG,IAAI,cAAc,EAAE;gBACrC,QAAQ,CAAC,EAAE,GAAG,aAAa,CAAC,iBAAiB,EAAE,CAAC;gBAChD,QAAQ,CAAC,eAAe,GAAG,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC;gBAChD,QAAQ,CAAC,cAAc,GAAG,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC;gBAC9C,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;aAC1B;YACD,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YAC9B,IAAI,CAAC,cAAc,CAAC,KAAK,EAAE,CAAC;SAC7B;aAAM;YACL,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,iCAAiC,CAAC,CAAC,CAAC;SACjF;KACF;;;;;IAaD,OAAO,CAAC,CAAM;QACZ,IAAI,CAAC,QAAQ,GAAG,CAAC,CAAC,OAAO,CAAC;;QAE1B,IAAG,IAAI,CAAC,QAAQ,CAAC,mBAAmB,KAAK,IAAI,CAAC,QAAQ,CAAC,mBAAmB;YACxE,EAAE,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,mBAAmB,CAAC,IAAI,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,mBAAmB,CAAC,CAAC,EAAE;YACvG,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,aAAa,GAAG,MAAM;gBAC5C,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,cAAc,GAAG,GAAG,CAAC;YAC3C,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,YAAY,GAAG,KAAK,CAAC;SAC5C;aAAM,IAAI,IAAI,CAAC,QAAQ,CAAC,aAAa,KAAK,IAAI,CAAC,QAAQ,CAAC,aAAa;YACpE,IAAI,CAAC,QAAQ,CAAC,cAAc,KAAK,IAAI,CAAC,QAAQ,CAAC,cAAc;YAC7D,IAAI,CAAC,QAAQ,CAAC,YAAY,KAAK,IAAI,CAAC,QAAQ,CAAC,YAAY,EAAE;YACzD,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,mBAAmB,GAAG,IAAI,CAAC;SACpD;QAED,IAAG,CAAC,CAAC,MAAM,CAAC,KAAK,KAAK,gBAAgB,IAAI,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,aAAa,KAAK,cAAc;eAC7F,MAAM,CAAC,QAAQ,CAAC,CAAC,CAAC,KAAK,CAAC,GAAG,GAAG,EAAE;YACjC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,sCAAsC,CAAC,CAAC,CAAC;YACrF,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,cAAc,GAAG,KAAK,CAAC;SAC9C;aAAM,IAAI,CAAC,CAAC,MAAM,CAAC,KAAK,KAAK,gBAAgB,IAAI,MAAM,CAAC,QAAQ,CAAC,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,EAAE;YAC9E,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,sCAAsC,CAAC,CAAC,CAAC;YACrF,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,cAAc,GAAG,GAAG,CAAC;SAC5C;aAAM,IAAI,CAAC,CAAC,CAAC,MAAM,CAAC,KAAK,KAAK,eAAe,IAAI,CAAC,CAAC,MAAM,CAAC,KAAK,KAAK,gBAAgB,MAAM,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,aAAa,KAAK,SAAS;YAC5I,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,aAAa,KAAK,UAAU,CAAC,IAAI,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,cAAc,CAAC,KAAK,CAAC,EAAE;YAClH,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,kCAAkC,CAAC,CAAC,CAAC;YACjF,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,cAAc,GAAG,GAAG,CAAC;SAC5C;aAAM,IAAI,CAAC,CAAC,MAAM,CAAC,KAAK,KAAK,eAAe,IAAI,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,aAAa,KAAK,cAAc;YACvG,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,cAAc,CAAC,GAAG,GAAG,EAAE;YAC3D,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,sCAAsC,CAAC,CAAC,CAAC;YACrF,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,cAAc,GAAG,KAAK,CAAC;SAC5C;KACJ;;;;;IAED,OAAO,CAAC,CAAS;QACf,IAAG,CAAC,CAAC,IAAI,CAAC,CAAC,MAAM,IAAI,CAAC,EAAE;YACtB,OAAO,IAAI,CAAC;SACb;aAAK;YACJ,OAAO,KAAK,CAAC;SACd;KACF;;;YAzXF,SAAS,SAAC;gBACT,QAAQ,EAAE,eAAe;gBACzB,qgFAAyC;gBAEzC,SAAS,EAAE;oBACR,YAAY;iBACd;;aACF;;;;YAtBQ,WAAW;YAIX,eAAe;YADD,iBAAiB;YAE/B,sBAAsB;YAPyE,iBAAiB,uBAiJpH,QAAQ;yCACR,MAAM,SAAC,SAAS;4CAChB,MAAM,SAAC,iBAAiB;YAvID,YAAY,uBAwInC,QAAQ;;;kBA1HV,WAAW,SAAC,OAAO;yBAEnB,MAAM;0BACN,MAAM;oBAIN,KAAK;qBAoBL,KAAK;2BAoBL,KAAK;0BACL,SAAS,SAAC,kBAAkB;2BAC5B,SAAS,SAAC,mBAAmB;4BAC7B,SAAS,SAAC,eAAe;6BACzB,SAAS,SAAC,oBAAoB;mBAC9B,SAAS,SAAC,MAAM;;MAgUN,iBAAiB;;;;IAC5B,YACU,UAAwB;QAAxB,eAAU,GAAV,UAAU,CAAc;KAC7B;;;;;IAEL,SAAS,CAAC,IAAW;;QAEjB,OAAO,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,wBAAwB,CAAC,CAAC;KAC9D;CACF;;;;;;ACvZD,MAwBa,sBAAsB;;;;;;;;;;;;IAgJjC,YACU,OAAwB,EACxB,IAAmB,EACnB,IAAiB,EACjB,OAA+B,EAC/B,QAAkC,EACtB,GAAsB,EACf,QAAgB,EACR,SAAc,EAC7B,UAAwB;QARpC,YAAO,GAAP,OAAO,CAAiB;QACxB,SAAI,GAAJ,IAAI,CAAe;QACnB,SAAI,GAAJ,IAAI,CAAa;QACjB,YAAO,GAAP,OAAO,CAAwB;QAC/B,aAAQ,GAAR,QAAQ,CAA0B;QACtB,QAAG,GAAH,GAAG,CAAmB;QACf,aAAQ,GAAR,QAAQ,CAAQ;QACR,cAAS,GAAT,SAAS,CAAK;QAC7B,eAAU,GAAV,UAAU,CAAc;QAvJ9C,QAAG,GAAG,8BAA8B,CAAC;QAE3B,eAAU,GAAG,IAAI,YAAY,EAAO,CAAC;QACrC,gBAAW,GAAG,IAAI,YAAY,EAAO,CAAC;QAgChD,gBAAW,GAAG;YACZ,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,yCAAyC,CAAC;YAC3E,KAAK,EAAE,IAAI;YACX,MAAM,EAAE,GAAG;YACX,WAAW,EAAE,IAAI;SAClB,CAAC;QAEF,oBAAe,GAAU;YACvB,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,iCAAiC,CAAC,EAAE,KAAK,EAAE,SAAS,EAAE;YACxF,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,kCAAkC,CAAC,EAAE,KAAK,EAAE,UAAU,EAAE;YAC1F,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,+BAA+B,CAAC,EAAE,KAAK,EAAE,OAAO,EAAE;SAAC,CAAC;QAExF,YAAO,GAAG;YACR;gBACE,KAAK,EAAE,OAAO,EAAE,KAAK,EAAE,EAAE,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,+BAA+B,CAAC;aAC7F;YACD,EAAE,KAAK,EAAE,MAAM,EAAE,KAAK,EAAE,EAAE,EAAE,KAAK,EAAG,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,8BAA8B,CAAC,EAAC;YAC9F;gBACE,KAAK,EAAE,gBAAgB,EAAE,KAAK,EAAE,EAAE,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,wCAAwC,CAAC;gBAC9G,SAAS,EAAE;oBACT,IAAI,EAAE,MAAM;oBACZ,OAAO,EAAE,EAAE,UAAU,EAAE,OAAO,EAAE,SAAS,EAAE,MAAM,EAAE,IAAI,EAAE,IAAI,CAAC,eAAe,EAAC;iBAC/E;gBACD,MAAM,EAAE;oBACN,IAAI,EAAE,WAAW,CAAC,SAAS;oBAC3B,OAAO,EAAE,EAAE,UAAU,EAAE,OAAO,EAAE,SAAS,EAAE,MAAM,EAAE,IAAI,EAAE,IAAI,CAAC,eAAe,EAAE,OAAO,EAAE,OAAO,EAAE,WAAW,EAAE,MAAM,EAAE;iBACvH;gBACD,UAAU,EAAE;oBACV,EAAE,IAAI,EAAE,UAAU,EAAE,QAAQ,EAAE,IAAI,EAAE;iBACrC;aACF;YACD;gBACE,KAAK,EAAE,WAAW,EAAE,KAAK,EAAE,EAAE,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,mCAAmC,CAAC;gBACpG,MAAM,EAAE;oBACN,IAAI,EAAE,WAAW,CAAC,MAAM;oBACxB,OAAO,EAAE,EAAE;iBACZ;gBACD,SAAS,EAAE,EAAE,IAAI,EAAE,SAAS,EAAE,OAAO,EAAE,EAAE,QAAQ,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,6BAA6B,CAAC,EAAE,SAAS,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,4BAA4B,CAAC,EAAE,EAAE;gBACnL,UAAU,EAAE;oBACV,EAAE,IAAI,EAAE,UAAU,EAAE,QAAQ,EAAE,IAAI,EAAE;iBACrC;aACF;YACD;gBACE,KAAK,EAAE,kBAAkB,EAAE,KAAK,EAAE,EAAE,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,0CAA0C,CAAC;gBAClH,MAAM,EAAE;oBACN,IAAI,EAAE,WAAW,CAAC,MAAM;oBACxB,OAAO,EAAE,EAAE;iBACZ;gBACD,SAAS,EAAE,EAAE,IAAI,EAAE,SAAS,EAAE,OAAO,EAAE,EAAE,QAAQ,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,6BAA6B,CAAC,EAAE,SAAS,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,4BAA4B,CAAC,EAAE,EAAE;gBACnL,UAAU,EAAE;oBACV,EAAE,IAAI,EAAE,UAAU,EAAE,QAAQ,EAAE,IAAI,EAAE;iBACrC;aACF;YACD;gBACE,KAAK,EAAE,qBAAqB,EAAE,KAAK,EAAE,EAAE,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,6CAA6C,CAAC;gBACxH,MAAM,EAAE;oBACN,IAAI,EAAE,WAAW,CAAC,MAAM;oBACxB,OAAO,EAAE,EAAE;iBACZ;gBACD,SAAS,EAAE,EAAE,IAAI,EAAE,SAAS,EAAE,OAAO,EAAE,EAAE,QAAQ,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,6BAA6B,CAAC,EAAE,SAAS,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,4BAA4B,CAAC,EAAE,EAAE;gBACnL,UAAU,EAAE;oBACV,EAAE,IAAI,EAAE,UAAU,EAAE,QAAQ,EAAE,IAAI,EAAE;iBACrC;aACF;YACD;gBACE,KAAK,EAAE,eAAe,EAAE,KAAK,EAAE,EAAE,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,uCAAuC,CAAC;gBAC5G,MAAM,EAAE;oBACN,IAAI,EAAE,WAAW,CAAC,MAAM;oBACxB,OAAO,EAAE,EAAE;iBACZ;gBACD,SAAS,EAAE,EAAE,IAAI,EAAE,SAAS,EAAE,OAAO,EAAE,EAAE,QAAQ,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,6BAA6B,CAAC,EAAE,SAAS,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,4BAA4B,CAAC,EAAE,EAAE;gBACnL,UAAU,EAAE;oBACV,EAAE,IAAI,EAAE,UAAU,EAAE,QAAQ,EAAE,IAAI,EAAE;iBACrC;aACF;YACD;gBACE,KAAK,EAAE,oBAAoB,EAAE,KAAK,EAAE,EAAE,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,4CAA4C,CAAC;gBACtH,MAAM,EAAE;oBACN,IAAI,EAAE,WAAW,CAAC,MAAM;oBACxB,OAAO,EAAE,EAAE;iBACZ;gBACD,SAAS,EAAE,EAAE,IAAI,EAAE,SAAS,EAAE,OAAO,EAAE,EAAE,QAAQ,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,6BAA6B,CAAC,EAAE,SAAS,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,4BAA4B,CAAC,EAAE,EAAE;gBACnL,UAAU,EAAE,EACX;aACF;YACD;gBACE,KAAK,EAAE,gBAAgB,EAAE,mBAAmB,EAAE,IAAI,EAAE,KAAK,EAAE,EAAE,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,wCAAwC,CAAC;gBACzI,MAAM,EAAE;oBACN,IAAI,EAAE,WAAW,CAAC,eAAe,EAAE,OAAO,EAAE;wBACxC,SAAS,EAAE;4BACP,EAAE,IAAI,EAAE,QAAQ,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,gCAAgC,CAAC,EAAE;4BACrF,EAAE,IAAI,EAAE,QAAQ,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,gCAAgC,CAAC,EAAE;4BACrF,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,4BAA4B,CAAC,EAAE;yBAChF;qBACJ;iBACF;aACF;SACF,CAAC;QAEF,SAAI,GAAyB,EAAE,CAAC;QAIhC,gBAAW,GAAG;YACZ,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,+BAA+B,CAAC,EAAE,KAAK,EAAE,MAAM,EAAE,KAAK,EAAE,EAAE,EAAE;YAC/F,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,8BAA8B,CAAC,EAAE,KAAK,EAAE,MAAM,EAAE,KAAK,EAAE,EAAE,EAAE;SAAC,CAAC;QAahG,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,IAAI,IAAI,YAAY,CAAC,QAAQ,EAAE,SAAS,CAAC,CAAC;KAC3E;;;;;IArJF,IACI,KAAK,CAAC,KAAY;QACpB,IAAI,KAAK,IAAI,KAAK,CAAC,MAAM,GAAG,CAAC,EAAE;YAC7B,KAAK,MAAM,IAAI,IAAI,KAAK,EAAE;;sBAClB,QAAQ,GAAG,IAAI,kBAAkB,EAAE;gBACzC,QAAQ,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC;gBAC5B,QAAQ,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC;gBAC1B,QAAQ,CAAC,cAAc,GAAG,IAAI,CAAC,cAAc,CAAC;gBAC9C,QAAQ,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC;gBAEpC,IAAI,IAAI,CAAC,gBAAgB,KAAK,IAAI,IAAI,IAAI,CAAC,gBAAgB,KAAK,SAAS,EAAE;oBACzE,QAAQ,CAAC,gBAAgB,IAAI,IAAI,CAAC,KAAK,KAAK,MAAM,GAAG,IAAI,GAAG,KAAK,CAAC,CAAC;iBACpE;qBAAM;oBACL,QAAQ,CAAC,gBAAgB,GAAG,IAAI,CAAC,gBAAgB,CAAC;iBACnD;gBAED,QAAQ,CAAC,aAAa,GAAG,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC;gBACzE,QAAQ,CAAC,mBAAmB,GAAG,IAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC,mBAAmB,GAAG,KAAK,CAAC;gBAC3F,QAAQ,CAAC,kBAAkB,GAAG,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC,kBAAkB,GAAG,KAAK,CAAC;gBACxF,QAAQ,CAAC,cAAc,GAAG,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,cAAc,CAAC,GAAG,IAAI,CAAC;gBACvF,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;aAC1B;SACF;KACF;;;;IAgID,QAAQ;QACN,IAAI,CAAC,cAAc,EAAE,CAAC;KACvB;;;;IAED,OAAO;QACL,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC;QACxB,IAAI,IAAI,CAAC,SAAS,EAAE,EAAE;;kBACd,UAAU,GAAG,EAAE;;YAErB,KAAK,MAAM,MAAM,IAAI,IAAI,CAAC,IAAI,EAAE;gBAC9B,IAAI,MAAM,CAAC,cAAc,IAAI,IAAI,EAAE;oBACjC,MAAM,CAAC,cAAc,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,cAAc,CAAC,CAAC;iBAC/D;gBACD,UAAU,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;aACzB;YACD,OAAO,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;;kBAClB,MAAM,GAAG,EAAE,KAAK,EAAE,UAAU,EAAE,UAAU,EAAE,IAAI,EAAE;YACtD,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;SAC/B;KACF;;;;IAED,WAAW;QACT,IAAI,CAAC,UAAU,CAAC,IAAI,EAAE,CAAC;KACxB;;;;;IAEO,SAAS;QACf,IAAI,IAAI,CAAC,IAAI,CAAC,SAAS;;;;QAAC,CAAC,IAAI,CAAC,CAAC,CAAC,cAAc,EAAC,GAAG,CAAC,CAAC,EAAE;YACpD,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,+CAA+C,CAAC,CAAC,CAAC;YACjG,OAAO,KAAK,CAAC;SACd;QACD,OAAO,IAAI,CAAC;KACb;;;;;IAED,aAAa,CAAC,IAAS,KAAK;;;;IAE5B,SAAS;QACP,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC;QACxB,IAAI,IAAI,CAAC,IAAI,CAAC,WAAW,IAAI,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,EAAE;;kBACjD,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,SAAS;;;;YAAC,CAAC,IAAI,CAAC,CAAC,KAAK,KAAK,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,KAAK,EAAC;YAChF,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;YACvB,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;SAC/B;aAAM;YACL,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,mCAAmC,CAAC,CAAC,CAAC;SACnF;KACF;;;;;IAEO,cAAc;;YAChB,GAAG,GAAG,IAAI,CAAC,IAAI,CAAC,uBAAuB,EAAE,GAAG,GAAG;QACnD,IAAI,IAAI,CAAC,OAAO,CAAC,aAAa,EAAE;YAC9B,GAAG,IAAI,iBAAiB,IAAI,CAAC,OAAO,CAAC,aAAa,EAAE,CAAC;SACtD;aAAM;YACL,GAAG,IAAI,gBAAgB,CAAC;SACzB;QAED,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,SAAS;;;;QAAC,CAAC,IAAS;YACnC,IAAI,GAAG,IAAI,CAAC,MAAM;;;;YAAC,CAAC,IAAI,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC,EAAC,CAAC;YAChD,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;SACrB,EAAC,CAAC;KACN;;;;IAED,aAAa;;cACL,UAAU,GAAU,IAAI,CAAC,YAAY,CAAC,QAAQ;QACpD,IAAI,UAAU,IAAI,UAAU,CAAC,MAAM,GAAG,CAAC,EAAE;YACvC,UAAU,CAAC,OAAO;;;;YAAC,MAAM;;sBACjB,IAAI,GAAG,IAAI,kBAAkB,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE,MAAM,CAAC,IAAI,CAAC,cAAc,CAAC;;sBAC7F,KAAK,GAAG,IAAI,CAAC,IAAI,CAAC,SAAS;;;;gBAAC,GAAG,IAAI,GAAG,CAAC,KAAK,KAAK,MAAM,CAAC,IAAI,CAAC,IAAI,EAAC;gBACxE,IAAI,KAAK,GAAG,CAAC,CAAC,EAAE;oBACd,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;iBAC5B;gBACD,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;aACtB,EAAC,CAAC;YACH,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;SAC/B;;QAED,IAAI,CAAC,YAAY,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;QACtC,IAAI,CAAC,aAAa,CAAC,KAAK,EAAE,CAAC;KAC5B;;;;IAED,YAAY;;QAEV,IAAI,CAAC,YAAY,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;QACtC,IAAI,CAAC,aAAa,CAAC,KAAK,EAAE,CAAC;KAC5B;;;;;;IAEO,cAAc,CAAC,MAAW;;cAC1B,GAAG,GAAG,CAAC,YAAY,EAAE,eAAe,EAAE,YAAY,EAAE,OAAO,EAAE,SAAS,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,cAAc,EAAE,iBAAiB,CAAC;QAChK,OAAO,GAAG,CAAC,OAAO,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC;KAC/C;;;YA7PF,SAAS,SAAC;gBACT,QAAQ,EAAE,oBAAoB;gBAC9B,0kFAA8C;gBAE9C,SAAS,EAAE;oBACR,YAAY;iBACd;;aACF;;;;YAhBQ,eAAe;YAKf,aAAa;YANb,WAAW;YAGX,sBAAsB;YAT+D,wBAAwB;YAAY,iBAAiB,uBA8K9I,QAAQ;yCACR,MAAM,SAAC,SAAS;4CAChB,MAAM,SAAC,iBAAiB;YAnKD,YAAY,uBAoKnC,QAAQ;;;kBAxJV,WAAW,SAAC,OAAO;yBAGnB,MAAM;0BACN,MAAM;oBAEN,KAAK;0BAyBL,SAAS,SAAC,kBAAkB;2BAC5B,SAAS,SAAC,cAAc;4BACxB,SAAS,SAAC,eAAe;mBACzB,SAAS,SAAC,MAAM;;MAqNN,sBAAsB;;;;IACjC,YACU,UAAwB;QAAxB,eAAU,GAAV,UAAU,CAAc;KAC7B;;;;;IAEL,SAAS,CAAC,IAAW;QACnB,IAAI,IAAI,IAAI,IAAI,CAAC,MAAM,GAAG,CAAC,EAAE;YAC3B,OAAO,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,6BAA6B,CAAC,CAAC;SACjE;aAAM;YACL,OAAO,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,gCAAgC,CAAC,CAAC;SACpE;KACF;CACF;;;;;;AC5RD,MAea,yBAAyB;;;;;;;;;IAwBpC,YACU,IAAuB,EACxB,aAAqC,EACxB,GAAsB,EACf,QAAgB,EACR,SAAc,EAC7B,UAAwB;QALpC,SAAI,GAAJ,IAAI,CAAmB;QACxB,kBAAa,GAAb,aAAa,CAAwB;QACxB,QAAG,GAAH,GAAG,CAAmB;QACf,aAAQ,GAAR,QAAQ,CAAQ;QACR,cAAS,GAAT,SAAS,CAAK;QAC7B,eAAU,GAAV,UAAU,CAAc;QA7BpC,eAAU,GAAG,IAAI,YAAY,EAAO,CAAC;QACrC,gBAAW,GAAG,IAAI,YAAY,EAAO,CAAC;QAMvC,iBAAY,GAAQ,EAAE,CAAC;QAKhC,oBAAe,GAAG,EAAE,CAAC;QAErB,WAAM,GAAQ,EAAE,CAAC;QACjB,eAAU,GAAG,EAAE,CAAC;QAChB,gBAAW,GAAG;YACZ,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,6CAA6C,CAAC;YAC/E,KAAK,EAAE,IAAI;YACX,MAAM,EAAE,GAAG;YACX,WAAW,EAAE,IAAI;SAClB,CAAC;QAUA,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,IAAI,IAAI,YAAY,CAAC,QAAQ,EAAE,SAAS,CAAC,CAAC;QAC3E,IAAI,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE;YACjC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;YAC5C,IAAI,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,WAAW,IAAI,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC,MAAM,GAAG,CAAC,EAAE;gBACrG,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC;aACrE;SACF;KACF;;;;IAED,QAAQ;QACN,IAAI,CAAC,eAAe,GAAG,IAAI,KAAK,EAAE,CAAC;QACnC,IAAI,IAAI,CAAC,aAAa,CAAC,eAAe,CAAC,MAAM,GAAG,CAAC,EAAE;YACjD,KAAK,MAAM,QAAQ,IAAI,IAAI,CAAC,aAAa,CAAC,eAAe,EAAE;gBACzD,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC;aAChE;SACF;QACD,IAAI,IAAI,CAAC,aAAa,CAAC,kBAAkB,CAAC,MAAM,GAAG,CAAC,EAAE;YACpD,KAAK,MAAM,QAAQ,IAAI,IAAI,CAAC,aAAa,CAAC,kBAAkB,EAAE;gBAC5D,IAAI,CAAC,IAAI,CAAC,eAAe,CAAC,IAAI;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,GAAG,KAAK,QAAQ,CAAC,GAAG,EAAC,EAAE;oBAC3D,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC;iBAChE;aACF;SACF;QACD,IAAI,IAAI,CAAC,aAAa,CAAC,sBAAsB,CAAC,MAAM,GAAG,CAAC,EAAE;YACxD,KAAK,MAAM,QAAQ,IAAI,IAAI,CAAC,aAAa,CAAC,sBAAsB,EAAE;gBAChE,IAAI,CAAC,IAAI,CAAC,eAAe,CAAC,IAAI;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,GAAG,KAAK,QAAQ,CAAC,GAAG,EAAC,EAAE;oBAC3D,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC;iBAChE;aACF;SACF;QACD,IAAI,IAAI,CAAC,aAAa,CAAC,kBAAkB,CAAC,MAAM,GAAG,CAAC,EAAE;YACpD,KAAK,MAAM,QAAQ,IAAI,IAAI,CAAC,aAAa,CAAC,kBAAkB,EAAE;gBAC5D,IAAI,CAAC,IAAI,CAAC,eAAe,CAAC,IAAI;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,GAAG,KAAK,QAAQ,CAAC,GAAG,EAAC,EAAE;oBAC3D,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC;iBAChE;aACF;SACF;QACD,IAAI,IAAI,CAAC,aAAa,CAAC,wBAAwB,CAAC,MAAM,GAAG,CAAC,EAAE;YAC1D,KAAK,MAAM,QAAQ,IAAI,IAAI,CAAC,aAAa,CAAC,wBAAwB,EAAE;gBAClE,IAAI,CAAC,IAAI,CAAC,eAAe,CAAC,IAAI;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,GAAG,KAAK,QAAQ,CAAC,GAAG,EAAC,EAAE;oBAC3D,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC;iBAChE;aACF;SACF;QACD,IAAI,IAAI,CAAC,aAAa,CAAC,sBAAsB,CAAC,MAAM,GAAG,CAAC,EAAE;YACxD,KAAK,MAAM,QAAQ,IAAI,IAAI,CAAC,aAAa,CAAC,sBAAsB,EAAE;gBAChE,IAAI,CAAC,IAAI,CAAC,eAAe,CAAC,IAAI;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,GAAG,KAAK,QAAQ,CAAC,GAAG,EAAC,EAAE;oBAC3D,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC;iBAChE;aACF;SACF;KACF;;;;IAED,OAAO;;cACC,MAAM,GAAG,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE;QACrC,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;;cACxC,MAAM,GAAG,EAAE,KAAK,EAAE,IAAI,CAAC,KAAK,EAAE,UAAU,EAAE,IAAI,EAAE;QACtD,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;KAC/B;;;;;IAKD,UAAU;QACR,IAAI,CAAC,OAAO,CAAC,UAAU,EAAE,CAAC;KAC3B;;;;IAED,WAAW;QACT,IAAI,CAAC,UAAU,CAAC,IAAI,EAAE,CAAC;KACxB;;;;;;IAEO,cAAc,CAAC,GAAW;QAChC,IAAI,GAAG,EAAE;YACP,IAAI,GAAG,CAAC,SAAS,CAAC,CAAC,EAAE,GAAG,CAAC,MAAM,GAAG,CAAC,CAAC,EAAE;gBACpC,OAAO,GAAG,CAAC;aACZ;iBAAM;gBACL,OAAO,EAAE,CAAC;aACX;SACF;aAAM;YACL,OAAO,EAAE,CAAC;SACX;KACF;;;YAzHF,SAAS,SAAC;gBACT,QAAQ,EAAE,uBAAuB;gBACjC,i9BAAiD;gBAEjD,SAAS,EAAE;oBACR,YAAY;iBACd;;aACF;;;;YAbQ,iBAAiB;YACjB,sBAAsB;YAFkD,iBAAiB,uBA0C7F,QAAQ;yCACR,MAAM,SAAC,SAAS;4CAChB,MAAM,SAAC,iBAAiB;YAxCD,YAAY,uBAyCnC,QAAQ;;;yBA7BV,MAAM;0BACN,MAAM;oBAEN,KAAK;0BAEL,SAAS,SAAC,kBAAkB;2BAE5B,KAAK;qBAEL,SAAS,SAAC,yBAAyB;sBACnC,SAAS,SAAC,SAAS;;MAwGT,yBAAyB;;;;IACpC,YACU,UAAwB;QAAxB,eAAU,GAAV,UAAU,CAAc;KAC7B;;;;;IAEL,SAAS,CAAC,IAAS;QACjB,IAAI,IAAI,EAAE;YACR,OAAO,IAAI,CAAC;SACb;aAAM;YACL,OAAO,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,mCAAmC,CAAC,CAAC;SACvE;KACF;CACF;;;;;;AC9ID,MAmBa,kBAAkB;;;;;;;;;IA4E7B,YACS,OAA+B,EAC9B,OAAwB,EACZ,GAAsB,EACf,QAAgB,EACR,SAAc,EAC7B,UAAwB;QALrC,YAAO,GAAP,OAAO,CAAwB;QAC9B,YAAO,GAAP,OAAO,CAAiB;QACZ,QAAG,GAAH,GAAG,CAAmB;QACf,aAAQ,GAAR,QAAQ,CAAQ;QACR,cAAS,GAAT,SAAS,CAAK;QAC7B,eAAU,GAAV,UAAU,CAAc;QAhF9C,QAAG,GAAG,8BAA8B,CAAC;QAE3B,eAAU,GAAG,IAAI,YAAY,EAAO,CAAC;QACrC,gBAAW,GAAG,IAAI,YAAY,EAAO,CAAC;QAgChD,gBAAW,GAAG;YACZ,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,uCAAuC,CAAC;YACzE,KAAK,EAAE,GAAG;YACV,MAAM,EAAE,GAAG;YACX,WAAW,EAAE,IAAI;SAClB,CAAC;QAQF,SAAI,GAAG;YACL,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,0BAA0B,CAAC,EAAE,KAAK,EAAE,MAAM,EAAE,KAAK,EAAE,EAAE,EAAE,WAAW,EAAE,MAAM,EAAE;YAC/G,EAAE,KAAK,EAAE,IAAI,EAAE,KAAK,EAAE,IAAI,EAAE,KAAK,EAAE,EAAE,EAAE,WAAW,EAAE,IAAI,EAAE;SAAC,CAAC;;QAE9D,UAAK,GAAG,EAAE,CAAC;QACX,cAAS,GAAG,EAAE,CAAC;QACf,gBAAW,GAAG,EAAE,CAAC;QACjB,sBAAiB,GAAG;YAClB,EAAE,KAAK,EAAE,gBAAgB,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,oCAAoC,CAAC,EAAC;YACjG,EAAE,KAAK,EAAE,QAAQ,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,4BAA4B,CAAC,EAAC;YACjF,EAAE,KAAK,EAAE,YAAY,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,gCAAgC,CAAC,EAAC;YACzF,EAAE,KAAK,EAAE,cAAc,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,kCAAkC,CAAC,EAAE;SAAC,CAAC;QAClG,aAAQ,GAAG,EAAE,CAAC;QACd,gBAAW,GAAG,EAAE,CAAC;QACjB,yBAAoB,GAAG;YACrB,EAAE,KAAK,EAAE,WAAW,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,+BAA+B,CAAC,EAAC;YACvF,EAAE,KAAK,EAAE,UAAU,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,8BAA8B,CAAC,EAAC;YACrF,EAAE,KAAK,EAAE,aAAa,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,iCAAiC,CAAC,EAAE;SAAC,CAAC;QAChG,oBAAe,GAAG,EAAE,CAAC;QACrB,aAAQ,GAAG;YACT,SAAS,EAAE,CAAC;YACZ,QAAQ,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC;YAC1B,QAAQ,EAAE,EAAE;SACb,CAAC;QAqIF,gBAAW;;;;QAAG,CAAC,OAAO;;;YAGpB,IAAI,CAAC,SAAS,GAAG,OAAO,CAAC;YACzB,OAAOA,IAAE,CAAC;gBACR,WAAW,EAAE,IAAI;aAClB,CAAC,CAAC;SACJ,EAAA;QAED,0BAAqB;;;;QAAG,CAAC,OAAO;;YAE9B,IAAI,CAAC,eAAe,GAAG,OAAO,CAAC,EAAE,CAAC;YAClC,OAAOA,IAAE,CAAC;gBACR,WAAW,EAAE,IAAI;aAClB,CAAC,CAAC;SACJ,EAAA;QAzIG,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,IAAI,IAAI,YAAY,CAAC,QAAQ,EAAE,SAAS,CAAC,CAAC;KAC3E;;;;;IA9EJ,IACI,KAAK,CAAC,IAAS;QACjB,IAAI,IAAI,EAAE;YACR,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC;YAC9B,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,WAAW,CAAC;;;kBAE9B,IAAI,GAAW,IAAI,CAAC,eAAe;YACzC,IAAI,IAAI,IAAI,IAAI,EAAE;gBAChB,KAAK,MAAM,GAAG,IAAI,IAAI,CAAC,OAAO,CAAC,UAAU,EAAE;oBACzC,IAAI,GAAG,CAAC,EAAE,KAAK,IAAI,EAAE;wBACnB,IAAI,CAAC,WAAW,GAAG,GAAG,CAAC,IAAI,CAAC;qBAC7B;iBACF;aACF;;;kBAEK,IAAI,GAAa,IAAI,CAAC,qBAAqB;YACjD,IAAI,IAAI,IAAI,IAAI,CAAC,MAAM,GAAG,CAAC,EAAE;gBAC3B,KAAK,MAAM,GAAG,IAAI,IAAI,EAAE;;0BAChB,IAAI,GAAG,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC,MAAM;;;;oBAAC,GAAG,IAAI,GAAG,CAAC,EAAE,KAAK,GAAG,EAAC,CAAC,CAAC,CAAC,CAAC,IAAI;;oBAE1E,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;iBACvB;aACF;SACF;aAAM;YACL,IAAI,CAAC,QAAQ,GAAG,gBAAgB,CAAC;YACjC,IAAI,CAAC,WAAW,GAAG,WAAW,CAAC;SAChC;KACF;;;;IAqDD,QAAQ;KACP;;;;IAED,OAAO;QACL,IAAI,IAAI,CAAC,SAAS,EAAE,EAAE;;gBAChB,KAAK;;kBACH,IAAI,GAAG,EAAE;;YAEf,IAAK,IAAI,CAAC,eAAe,KAAK,EAAE,IAAI,IAAI,CAAC,WAAW,KAAK,EAAE,EAAE;gBAC3D,KAAK,MAAM,MAAM,IAAI,IAAI,CAAC,OAAO,CAAC,UAAU,EAAE;oBAC5C,IAAI,MAAM,CAAC,IAAI,KAAK,IAAI,CAAC,WAAW,EAAE;wBACpC,IAAI,CAAC,eAAe,GAAG,MAAM,CAAC,EAAE,CAAC;qBAClC;iBACF;aACF;;YAED,IAAI,IAAI,CAAC,SAAS,CAAC,MAAM,KAAK,CAAC,IAAI,IAAI,CAAC,KAAK,CAAC,MAAM,GAAG,CAAC,EAAE;gBACxD,KAAK,MAAM,GAAG,IAAI,IAAI,CAAC,KAAK,EAAE;oBAC5B,KAAK,MAAM,MAAM,IAAI,IAAI,CAAC,OAAO,CAAC,UAAU,EAAE;wBAC5C,IAAI,GAAG,KAAK,MAAM,CAAC,IAAI,EAAE;4BACvB,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC;yBACtB;qBACF;iBACF;aACF;iBAAM,IAAI,IAAI,CAAC,QAAQ,KAAK,cAAc,IAAI,IAAI,CAAC,SAAS,IAAI,IAAI,CAAC,SAAS,CAAC,MAAM,GAAG,CAAC,EAAE;;gBAE1F,IAAI,CAAC,SAAS,CAAC,OAAO;;;;gBAAC,GAAG,IAAI,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,EAAC,CAAC;aAClD;YACD,KAAK,GAAG;gBACN,QAAQ,EAAE,IAAI,CAAC,QAAQ;gBACvB,WAAW,EAAE,IAAI,CAAC,WAAW;gBAC7B,eAAe,EAAE,IAAI,CAAC,eAAe;gBACrC,qBAAqB,EAAE,IAAI;aAC5B,CAAC;;kBACI,MAAM,GAAG,EAAE,KAAK,EAAE,UAAU,EAAE,IAAI,EAAE;YAC1C,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;SAC/B;KACF;;;;IAED,WAAW;QACT,IAAI,CAAC,UAAU,CAAC,IAAI,EAAE,CAAC;KACxB;;;;;IAEO,SAAS;QACf,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE;YAClB,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,qCAAqC,CAAC,CAAC,CAAC;YACvF,OAAO,KAAK,CAAC;SACd;;;;;QAKD,IAAI,IAAI,CAAC,WAAW,KAAK,aAAa,IAAI,IAAI,CAAC,WAAW,KAAK,EAAE,EAAE;YACjE,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,sCAAsC,CAAC,CAAC,CAAC;YACxF,OAAO,KAAK,CAAC;SACd;QACD,OAAO,IAAI,CAAC;KACb;;;;;IAED,aAAa,CAAC,GAAQ;QACpB,IAAI,CAAC,QAAQ,CAAC,SAAS,GAAG,GAAG,CAAC,QAAQ,CAAC,SAAS,CAAC;QACjD,IAAI,CAAC,QAAQ,CAAC,QAAQ,GAAG,GAAG,CAAC,QAAQ,CAAC,QAAQ,CAAC;;cACzC,MAAM,GAAG,GAAG,CAAC,MAAM;QAEzB,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;KAC1B;;;;;IAED,WAAW,CAAC,MAAwC;;cAC5C,KAAK,GAAG,CAAC,IAAI,CAAC,QAAQ,CAAC,SAAS,GAAG,CAAC,IAAI,IAAI,CAAC,QAAQ,CAAC,QAAQ;;cAC9D,GAAG,GAAG,KAAK,GAAG,IAAI,CAAC,QAAQ,CAAC,QAAQ;;YACtC,KAAK,GAAG,EAAE;QACd,IAAI,MAAM,IAAI,MAAM,CAAC,KAAK,EAAE;YAC1B,IAAI,MAAM,CAAC,KAAK,KAAK,GAAG,EAAE;gBACxB,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC,MAAM;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,OAAO,CAAC,MAAM,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,EAAC,CAAC;aACnH;iBAAM;gBACL,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC,MAAM;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,OAAO,CAAC,MAAM,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,EAAC,CAAC;aACzF;SACF;aAAM;YACL,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC;SACjC;QACD,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC,MAAM,CAAC;;QAE1B,IAAG,KAAK,EAAC;YACP,IAAI,CAAC,aAAa,CAAC,YAAY,CAAC,QAAQ,CAAC,QAAQ,CAAC;gBAChD,IAAI,EAAE,KAAK;aACZ,CAAC,CAAC;SACJ;KACF;;;;;IAED,YAAY,CAAC,GAAQ;QACnB,IAAI,CAAC,QAAQ,CAAC,SAAS,GAAG,GAAG,CAAC,QAAQ,CAAC,SAAS,CAAC;QACjD,IAAI,CAAC,QAAQ,CAAC,QAAQ,GAAG,GAAG,CAAC,QAAQ,CAAC,QAAQ,CAAC;;cACzC,MAAM,GAAG,GAAG,CAAC,MAAM;QAEzB,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC;KACzB;;;;;IAED,UAAU,CAAC,MAAwC;;cAC3C,KAAK,GAAG,CAAC,IAAI,CAAC,QAAQ,CAAC,SAAS,GAAG,CAAC,IAAI,IAAI,CAAC,QAAQ,CAAC,QAAQ;;cAC9D,GAAG,GAAG,KAAK,GAAG,IAAI,CAAC,QAAQ,CAAC,QAAQ;;YACtC,KAAK,GAAG,EAAE;QACd,IAAI,MAAM,IAAI,MAAM,CAAC,KAAK,EAAE;YAC1B,IAAI,MAAM,CAAC,KAAK,KAAK,GAAG,EAAE;gBACxB,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC,MAAM;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,OAAO,CAAC,MAAM,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,EAAC,CAAC;aACnH;iBAAM;gBACL,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC,MAAM;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,OAAO,CAAC,MAAM,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,EAAC,CAAC;aACzF;SACF;aAAM;YACL,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC;SACjC;QACD,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC,MAAM,CAAC;;QAE1B,IAAG,KAAK,EAAC;YACP,IAAI,CAAC,SAAS,CAAC,YAAY,CAAC,QAAQ,CAAC,QAAQ,CAAC;gBAC5C,IAAI,EAAE,KAAK;aACZ,CAAC,CAAC;SACJ;KACF;;;;IAmBD,SAAS;QACP,IAAI,IAAI,CAAC,QAAQ,CAAC,WAAW,IAAI,IAAI,CAAC,QAAQ,CAAC,WAAW,CAAC,IAAI,EAAE;;kBACzD,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,SAAS;;;;YAAC,CAAC,IAAI,CAAC,CAAC,EAAE,KAAK,IAAI,CAAC,QAAQ,CAAC,WAAW,CAAC,IAAI,CAAC,EAAE,EAAC;YAC/E,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;YACxB,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;SACpC;aAAM;YACL,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,iCAAiC,CAAC,CAAC,CAAC;SACjF;KACF;;;YA/OF,SAAS,SAAC;gBACT,QAAQ,EAAE,gBAAgB;gBAC1B,0lMAA0C;gBAE1C,SAAS,EAAE;oBACR,YAAY;iBACd;;aACF;;;;YAhBQ,sBAAsB;YAEtB,eAAe;YAJgF,iBAAiB,uBAkGpH,QAAQ;yCACR,MAAM,SAAC,SAAS;4CAChB,MAAM,SAAC,iBAAiB;YA5FD,YAAY,uBA6FnC,QAAQ;;;kBAjFV,WAAW,SAAC,OAAO;yBAGnB,MAAM;0BACN,MAAM;oBAEN,KAAK;0BA6BL,SAAS,SAAC,kBAAkB;4BAQ5B,SAAS,SAAC,eAAe;6BACzB,SAAS,SAAC,gBAAgB;uBAC1B,SAAS,SAAC,UAAU;qBACpB,SAAS,SAAC,QAAQ;wBAClB,SAAS,SAAC,iBAAiB;;MAyLjB,kBAAkB;;;;IAC7B,YACU,UAAwB;QAAxB,eAAU,GAAV,UAAU,CAAc;KAC7B;;;;IAEL,SAAS;QACP,OAAO,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,yBAAyB,CAAC,CAAC;KAC7D;CACF;;;;;;ACpQD;;IAaE,UAAW,UAAU;IAErB,UAAW,UAAU;IAErB,mBAAoB,mBAAmB;;;;;;;ACjBzC,MAmBa,qBAAqB;;;;;;;;;;IAkGhC,YACU,OAA+B,EAC/B,OAAwB,EACxB,MAAqB,EACT,GAAsB,EACf,QAAgB,EACR,SAAc,EAC7B,UAAwB;QANpC,YAAO,GAAP,OAAO,CAAwB;QAC/B,YAAO,GAAP,OAAO,CAAiB;QACxB,WAAM,GAAN,MAAM,CAAe;QACT,QAAG,GAAH,GAAG,CAAmB;QACf,aAAQ,GAAR,QAAQ,CAAQ;QACR,cAAS,GAAT,SAAS,CAAK;QAC7B,eAAU,GAAV,UAAU,CAAc;QAvG9C,QAAG,GAAG,8BAA8B,CAAC;QAC5B,iBAAY,GAAQ,EAAE,CAAC;QA0CvB,aAAQ,GAA8C,cAAc,CAAC;QAEpE,eAAU,GAAG,IAAI,YAAY,EAAO,CAAC;QACrC,gBAAW,GAAG,IAAI,YAAY,EAAO,CAAC;QAKhD,gBAAW,GAAG;YACZ,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,qCAAqC,CAAC;YACvE,KAAK,EAAE,GAAG;YACV,MAAM,EAAE,GAAG;YACX,WAAW,EAAE,IAAI;SAClB,CAAC;QAEF,oBAAe,GAAG,EAAE,CAAC;QACrB,aAAQ,GAAG,EAAE,CAAC;QACd,cAAS,GAAG;YACV,EAAE,EAAE,EAAE,iBAAiB,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,wCAAwC,CAAC,EAAE;YACpG,EAAE,EAAE,EAAE,qBAAqB,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,4CAA4C,CAAC,EAAE;YAC5G,EAAE,EAAE,EAAE,OAAO,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,8BAA8B,CAAC,EAAE;SACjF,CAAC;QAEF,UAAK,GAAG,EAAE,CAAC;QACX,cAAS,GAAG,EAAE,CAAC;QACf,mBAAc,GAAG,EAAE,CAAC;QACpB,uBAAkB,GAAG,EAAE,CAAC;QAExB,YAAO,GAAG;YACR,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,6BAA6B,CAAC,EAAE,KAAK,EAAE,MAAM,EAAE,KAAK,EAAE,GAAG,EAAE,WAAW,EAAE,MAAM,EAAE;YACnH,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,2BAA2B,CAAC,EAAE,KAAK,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,EAAE,WAAW,EAAE,IAAI,EAAE;SAC9G,CAAC;QACF,sBAAiB,GAAG,KAAK,CAAC;QAC1B,sBAAiB,GAAG,KAAK,CAAC;QAE1B,0BAAqB,GAAG;YACtB,EAAE,KAAK,EAAE,cAAc,CAAC,QAAQ,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,iCAAiC,CAAC,EAAE;YACtG,EAAE,KAAK,EAAE,cAAc,CAAC,QAAQ,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,iCAAiC,CAAC,EAAE;YACtG,EAAE,KAAK,EAAE,cAAc,CAAC,iBAAiB,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,0CAA0C,CAAC,EAAE;SACzH,CAAC;QACF,mCAA8B,GAAG,KAAK,CAAC;QACvC,cAAS,GAAG,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;QACjC,qBAAgB,GAAG,IAAI,KAAK,EAAU,CAAC;QACvC,YAAO,GAAG,2HAA2H,CAAC;QACtI,aAAQ,GAAG;YACT,SAAS,EAAE,CAAC;YACZ,QAAQ,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC;YAC1B,QAAQ,EAAE,EAAE;SACb,CAAC;QAyDF,eAAU;;;;QAAG,CAAC,GAAQ;YACpB,IAAI,CAAC,SAAS,GAAG,GAAG,CAAC,EAAE,CAAC;YACxB,IAAI,CAAC,WAAW,GAAG,GAAG,CAAC,IAAI,CAAC;YAC5B,IAAI,GAAG,CAAC,EAAE,KAAK,OAAO,IAAI,CAAC,IAAI,CAAC,iBAAiB,EAAE;gBACjD,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC;gBAC9B,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,mCAAmC,CAAC,CAAC,CAAC;aAClF;YACD,OAAOA,IAAE,CAAC,EAAE,WAAW,EAAE,IAAI,EAAE,CAAC,CAAC;SAClC,EAAA;QACD,mBAAc;;;;QAAG,CAAC,GAAQ;YACxB,IAAI,CAAC,QAAQ,GAAG,GAAG,CAAC;YACpB,OAAOA,IAAE,CAAC,EAAE,WAAW,EAAE,IAAI,EAAE,CAAC,CAAC;SAClC,EAAA;QAED,eAAU;;;QAAG;YACX,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;YACtD,OAAOA,IAAE,CAAC,IAAI,CAAC,CAAC;SACjB,EAAA;QAED,mBAAc;;;QAAG;YACf,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,kBAAkB,CAAC,CAAC;YACxE,OAAOA,IAAE,CAAC,IAAI,CAAC,CAAC;SACjB,EAAA;QAjEC,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,IAAI,IAAI,YAAY,CAAC,QAAQ,EAAE,SAAS,CAAC,CAAC;QAC3E,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC;QACjE,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC;QAC5B,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,SAAS,CAAC;QACrC,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC;QACnC,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC;KAC3C;;;;;IA7GH,IACI,KAAK,CAAC,IAAS;QACjB,IAAI,IAAI,EAAE;YACR,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC,gBAAgB,CAAC;YAC/C,IAAG,CAAC,IAAI,CAAC,gBAAgB,EAAE;gBACzB,IAAI,CAAC,gBAAgB,GAAG,IAAI,KAAK,EAAU,CAAC;aAC7C;iBAAK;gBACJ,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,gBAAgB,CAAC;aAC/C;YACD,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC,UAAU,CAAC;YACzC,IAAI,CAAC,8BAA8B,GAAG,IAAI,CAAC,uBAAuB,CAAC;YACnE,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,cAAc,CAAC;YAC1C,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE;gBACnB,IAAI,CAAC,SAAS,GAAG,OAAO,CAAC;aAC1B;iBAAM;gBACL,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC;aACjC;YACD,IAAI,IAAI,CAAC,cAAc,KAAK,IAAI,EAAE;gBAChC,IAAI,CAAC,cAAc,GAAG,cAAc,CAAC,QAAQ,CAAC;aAC/C;;kBACK,IAAI,GAAa,IAAI,CAAC,gBAAgB;YAC5C,IAAI,IAAI,IAAI,IAAI,CAAC,MAAM,GAAG,CAAC,EAAE;gBAC3B,KAAK,MAAM,GAAG,IAAI,IAAI,EAAE;oBACtB,IAAG,IAAI,CAAC,SAAS,CAAC,MAAM;;;;oBAAC,GAAG,IAAI,GAAG,CAAC,EAAE,KAAK,GAAG,EAAC,CAAC,CAAC,CAAC,EAAE;;8BAC5C,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM;;;;wBAAC,GAAG,IAAI,GAAG,CAAC,EAAE,KAAK,GAAG,EAAC,CAAC,CAAC,CAAC,CAAC,IAAI;wBACjE,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;qBACjC;;iBAEF;aACF;;kBACK,GAAG,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI;;;;YAAC,IAAI,IAAI,IAAI,CAAC,EAAE,KAAK,IAAI,CAAC,SAAS,EAAC;YACnE,IAAI,GAAG,EAAE;gBACP,IAAI,CAAC,WAAW,GAAG,GAAG,CAAC,IAAI,CAAC;aAC7B;iBAAM;gBACL,IAAI,CAAC,WAAW,GAAG,EAAE,CAAC;gBACtB,UAAU;;;gBAAC;oBACT,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,+BAA+B,CAAC,CAAC,CAAC;iBAClF,GAAE,GAAG,CAAC,CAAC;aACT;SACF;KACF;;;;IAuED,QAAQ;QACN,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC;QAC3C,IAAI,IAAI,CAAC,QAAQ,KAAK,cAAc,EAAE;YACpC,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM;;;;YAAC,CAAC,IAAI,CAAC,CAAC,EAAE,KAAK,OAAO,EAAC,CAAC;YAC9D,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC;YAC5B,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC;SACpC;QACD,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM;;;;QAAC,CAAC,IAAI,CAAC,CAAC,EAAE,KAAK,OAAO,IAAI,CAAC,CAAC,EAAE,KAAK,qBAAqB,EAAC,CAAC;QACrG,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC;QACjD,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QAClD,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;KAErE;;;;IAED,eAAe;KACd;;;;IAED,eAAe;QACb,IAAI,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,SAAS,KAAK,iBAAiB;eACxD,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,gBAAgB,KAAK,IAAI,CAAC,OAAO,CAAC,gBAAgB,CAAC,CAAC,CAAC,CAAC,GAAG;eACnF,IAAI,CAAC,iBAAiB,KAAK,IAAI,EAAE;YACpC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,wCAAwC,CAAC;;;YAAE;gBACrF,IAAI,CAAC,iBAAiB,GAAG,KAAK,CAAC;aAChC,EAAC,CAAC;SACJ;QACD,IAAG,IAAI,CAAC,iBAAiB,IAAI,KAAK,EAAE;YAClC,IAAI,CAAC,eAAe,GAAG,EAAE,CAAC;SAC3B;KACF;;;;IACD,eAAe;QACb,IAAI,CAAC,iBAAiB,GAAG,CAAC,IAAI,CAAC,iBAAiB,CAAC;KAClD;;;;IACD,4BAA4B;QAC1B,IAAI,CAAC,8BAA8B,GAAG,CAAC,IAAI,CAAC,8BAA8B,CAAC;KAC5E;;;;IAyBD,OAAO;;cACC,IAAI,GAAG,EAAE;;QAEf,IAAI,IAAI,CAAC,QAAQ,CAAC,MAAM,KAAK,CAAC,IAAI,IAAI,CAAC,eAAe,CAAC,MAAM,GAAG,CAAC,EAAE;YACjE,KAAK,MAAM,GAAG,IAAI,IAAI,CAAC,eAAe,EAAE;gBACtC,KAAK,MAAM,MAAM,IAAI,IAAI,CAAC,SAAS,EAAE;oBACnC,IAAI,GAAG,KAAK,MAAM,CAAC,IAAI,EAAE;wBACvB,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC;qBACtB;iBACF;aACF;SACF;aAAM,IAAI,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,QAAQ,CAAC,MAAM,GAAG,CAAC,EAAE;;YAEpD,IAAI,CAAC,QAAQ,CAAC,OAAO;;;;YAAC,GAAG;gBACvB,IAAG,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,IAAI;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,GAAG,CAAC,EAAE,EAAC,EAAE;oBACrD,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,CAAA;iBAClB;aACF,EAAC,CAAC;SACJ;;cACK,YAAY,GAAG;YACnB,SAAS,EAAE,IAAI,CAAC,YAAY,EAAE;YAC9B,gBAAgB,EAAE,IAAI,CAAC,iBAAiB;YACxC,UAAU,EAAE,IAAI,CAAC,iBAAiB;YAClC,uBAAuB,EAAE,IAAI,CAAC,8BAA8B;YAC5D,gBAAgB,EAAE,IAAI;YACtB,cAAc,EAAE,IAAI,CAAC,cAAc;SACpC;;cACK,MAAM,GAAG,EAAE,KAAK,EAAE,YAAY,EAAE,UAAU,EAAE,IAAI,EAAE;QACxD,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;KAC/B;;;;IAED,WAAW;QACT,IAAI,CAAC,UAAU,CAAC,IAAI,EAAE,CAAC;KACxB;;;;;IAED,YAAY,CAAC,GAAQ;QACnB,IAAI,CAAC,QAAQ,CAAC,SAAS,GAAG,GAAG,CAAC,SAAS,CAAC;QACxC,IAAI,CAAC,QAAQ,CAAC,QAAQ,GAAG,GAAG,CAAC,QAAQ,CAAC;;cAChC,MAAM,GAAG;YACb,KAAK,EAAE,GAAG,CAAC,WAAW,CAAC,WAAW;YAClC,KAAK,EAAE,GAAG,CAAC,WAAW,CAAC,WAAW;SACnC;QACD,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;KACnB;;;;;IAED,qBAAqB,CAAC,GAAQ;QAC5B,IAAI,CAAC,QAAQ,CAAC,SAAS,GAAG,GAAG,CAAC,SAAS,CAAC;QACxC,IAAI,CAAC,QAAQ,CAAC,QAAQ,GAAG,GAAG,CAAC,QAAQ,CAAC;;cAChC,MAAM,GAAG;YACb,KAAK,EAAE,GAAG,CAAC,WAAW,CAAC,WAAW;YAClC,KAAK,EAAE,GAAG,CAAC,WAAW,CAAC,WAAW;SACnC;QACD,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC;KAC5B;;;;;IAED,cAAc,CAAC,GAAQ;QACrB,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;QACjB,IAAI,CAAC,QAAQ,CAAC,SAAS,GAAG,GAAG,CAAC,SAAS,CAAC;QACxC,IAAI,CAAC,QAAQ,CAAC,QAAQ,GAAG,GAAG,CAAC,QAAQ,CAAC;;cAChC,MAAM,GAAG;YACb,KAAK,EAAE,GAAG,CAAC,WAAW,CAAC,WAAW;YAClC,KAAK,EAAE,GAAG,CAAC,WAAW,CAAC,WAAW;SACnC;QACD,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;KACnB;;;;;IAED,uBAAuB,CAAC,GAAQ;QAC9B,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;QACjB,IAAI,CAAC,QAAQ,CAAC,SAAS,GAAG,GAAG,CAAC,SAAS,CAAC;QACxC,IAAI,CAAC,QAAQ,CAAC,QAAQ,GAAG,GAAG,CAAC,QAAQ,CAAC;;cAChC,MAAM,GAAG;YACb,KAAK,EAAE,GAAG,CAAC,WAAW,CAAC,WAAW;YAClC,KAAK,EAAE,GAAG,CAAC,WAAW,CAAC,WAAW;SACnC;QACD,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC;KAC5B;;;;;IAED,MAAM,CAAC,GAAQ;QACb,IAAI,CAAC,QAAQ,CAAC,SAAS,GAAG,GAAG,CAAC,QAAQ,CAAC,SAAS,CAAC;QACjD,IAAI,CAAC,QAAQ,CAAC,QAAQ,GAAG,GAAG,CAAC,QAAQ,CAAC,QAAQ,CAAC;;cACzC,MAAM,GAAG,GAAG,CAAC,MAAM;QAEzB,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;KACnB;;;;;IAED,eAAe,CAAC,GAAQ;QACtB,IAAI,CAAC,QAAQ,CAAC,SAAS,GAAG,GAAG,CAAC,QAAQ,CAAC,SAAS,CAAC;QACjD,IAAI,CAAC,QAAQ,CAAC,QAAQ,GAAG,GAAG,CAAC,QAAQ,CAAC,QAAQ,CAAC;;cACzC,MAAM,GAAG,GAAG,CAAC,MAAM;QAEzB,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC;KAC5B;;;;;IAED,IAAI,CAAC,MAAwC;;cACrC,KAAK,GAAG,CAAC,IAAI,CAAC,QAAQ,CAAC,SAAS,GAAG,CAAC,IAAI,IAAI,CAAC,QAAQ,CAAC,QAAQ;;cAC9D,GAAG,GAAG,KAAK,GAAG,IAAI,CAAC,QAAQ,CAAC,QAAQ;;YACtC,KAAK,GAAG,EAAE;QACd,IAAI,MAAM,EAAE;YACV,IAAI,MAAM,CAAC,KAAK,KAAK,GAAG,EAAE;gBACxB,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,OAAO,CAAC,MAAM,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,EAAC,CAAC;aAC1G;iBAAM;gBACL,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,OAAO,CAAC,MAAM,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,EAAC,CAAC;aAChF;SACF;aAAM;YACL,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC;SACxB;QACD,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC,MAAM,CAAC;QAC1B,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;QACnB,IAAI,CAAC,GAAG,CAAC,YAAY,CAAC,QAAQ,CAAC,QAAQ,CAAC;YACtC,IAAI,EAAE,IAAI,CAAC,KAAK;SACjB,CAAC,CAAC;KACJ;;;;;IAED,aAAa,CAAC,MAAwC;;cAC9C,KAAK,GAAG,CAAC,IAAI,CAAC,QAAQ,CAAC,SAAS,GAAG,CAAC,IAAI,IAAI,CAAC,QAAQ,CAAC,QAAQ;;cAC9D,GAAG,GAAG,KAAK,GAAG,IAAI,CAAC,QAAQ,CAAC,QAAQ;;YACtC,cAAc,GAAG,EAAE;QACvB,IAAI,MAAM,EAAE;YACV,IAAI,MAAM,CAAC,KAAK,KAAK,GAAG,EAAE;gBACxB,cAAc,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,OAAO,CAAC,MAAM,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,EAAC,CAAC;aACnH;iBAAM;gBACL,cAAc,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,OAAO,CAAC,MAAM,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,EAAC,CAAC;aACzF;SACF;aAAM;YACL,cAAc,GAAG,IAAI,CAAC,SAAS,CAAC;SACjC;QACD,IAAI,CAAC,cAAc,GAAG,cAAc,CAAC,MAAM,CAAC;QAC5C,IAAI,CAAC,cAAc,GAAG,cAAc,CAAC;QACrC,IAAI,CAAC,QAAQ,CAAC,YAAY,CAAC,QAAQ,CAAC,QAAQ,CAAC;YAC3C,IAAI,EAAE,IAAI,CAAC,cAAc;SAC1B,CAAC,CAAC;KACJ;;;;;IAEO,YAAY;QAClB,IAAI,IAAI,CAAC,SAAS,KAAK,OAAO,EAAE;YAC9B,OAAO,EAAE,CAAC;SACX;aAAM;YACL,OAAO,IAAI,CAAC,SAAS,CAAC;SACvB;KACF;;;;;;IAGD,eAAe,CAAC,MAAa;;YACvB,MAAM,GAAG,EAAE;QACf,MAAM,CAAC,OAAO;;;;QAAC,CAAC,IAAI,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,EAAC,CAAC;QACpD,OAAO,MAAM,CAAC;KACf;;;;;IAED,mBAAmB,CAAC,MAAa;;YAC3B,MAAM,GAAG,EAAE;QACf,MAAM,CAAC,OAAO;;;;QAAC,CAAC,IAAI,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,EAAC,CAAC;QAChD,OAAO,MAAM,CAAC;KACf;;;YA9UF,SAAS,SAAC;gBACT,QAAQ,EAAE,4BAA4B;gBACtC,6jQAA6C;gBAE7C,SAAS,EAAE;oBACR,YAAY;iBACd;;aACF;;;;YAhBQ,sBAAsB;YACtB,eAAe;YAIf,aAAa;YAPuF,iBAAiB,uBAyHzH,QAAQ;yCACR,MAAM,SAAC,SAAS;4CAChB,MAAM,SAAC,iBAAiB;YAnHD,YAAY,uBAoHnC,QAAQ;;;kBAxGV,WAAW,SAAC,OAAO;2BAEnB,KAAK;oBACL,KAAK;uBAyCL,KAAK;yBAEL,MAAM;0BACN,MAAM;0BAEN,SAAS,SAAC,kBAAkB;kBAC5B,SAAS,SAAC,KAAK;uBACf,SAAS,SAAC,UAAU;;MAqRV,qBAAqB;;;;IAChC,YACU,UAAwB;QAAxB,eAAU,GAAV,UAAU,CAAc;KAC7B;;;;;IAEL,SAAS,CAAC,IAAS;QACjB,IAAI,IAAI,EAAE;YACR,OAAO,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,4BAA4B,CAAC,CAAC;SAChE;QACD,OAAO,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,+BAA+B,CAAC,CAAC;KACnE;CACF;;;;;;ACvWD,MASa,gBAAgB;;;;IA0BzB,YAAoB,OAA+B;QAA/B,YAAO,GAAP,OAAO,CAAwB;QAzBnD,mBAAc,GAA2B,EAAE,CAAC;QAE5C,mBAAc,GAAG;YACb,EAAE,IAAI,EAAE,IAAI,EAAE,KAAK,EAAE,8BAA8B,EAAE;YACrD,EAAE,IAAI,EAAE,OAAO,EAAE,KAAK,EAAE,kCAAkC,EAAE;YAC5D,EAAE,IAAI,EAAE,IAAI,EAAE,KAAK,EAAE,kCAAkC,EAAE;YACzD,EAAE,IAAI,EAAE,OAAO,EAAE,KAAK,EAAE,mCAAmC,EAAE;YAC7D,EAAE,IAAI,EAAE,MAAM,EAAE,KAAK,EAAE,uCAAuC,EAAC;YAC/D,EAAE,IAAI,EAAE,IAAI,EAAE,KAAK,EAAE,gCAAgC,EAAC;YACtD,EAAE,IAAI,EAAE,SAAS,EAAE,KAAK,EAAE,0CAA0C,EAAE;YACtE,EAAE,IAAI,EAAE,OAAO,EAAE,KAAK,EAAE,sCAAsC,EAAC;SAClE,CAAC;QAEF,kBAAa,GAAkB;YAC3B,UAAU,EAAE,EAAE;YACd,kBAAkB,EAAE,EAAE;YACtB,UAAU,EAAE,EAAE;YACd,cAAc,EAAE,EAAE;YAClB,kBAAkB,EAAE,EAAE;YACtB,iBAAiB,EAAE,EAAE;YACrB,wBAAwB,EAAE,EAAE;YAC5B,OAAO,EAAE,IAAI;YACb,UAAU,EAAE,KAAK;SACpB,CAAC;QAGE,IAAI,IAAI,CAAC,OAAO,CAAC,KAAK,KAAK,SAAS,EAAE;YAClC,IAAI,CAAC,cAAc,GAAG;gBAClB,EAAE,IAAI,EAAE,IAAI,EAAE,KAAK,EAAE,8BAA8B,EAAE;gBACrD,EAAE,IAAI,EAAE,OAAO,EAAE,KAAK,EAAE,kCAAkC,EAAE;gBAC5D,EAAE,IAAI,EAAE,IAAI,EAAE,KAAK,EAAE,kCAAkC,EAAE;gBACzD,EAAE,IAAI,EAAE,OAAO,EAAE,KAAK,EAAE,mCAAmC,EAAE;gBAC7D,EAAE,IAAI,EAAE,MAAM,EAAE,KAAK,EAAE,uCAAuC,EAAE;gBAChE,EAAE,IAAI,EAAE,IAAI,EAAE,KAAK,EAAE,gCAAgC,EAAE;gBACvD,EAAE,IAAI,EAAE,SAAS,EAAE,KAAK,EAAE,0CAA0C,EAAE;gBACtE,EAAE,IAAI,EAAE,OAAO,EAAE,KAAK,EAAE,sCAAsC,EAAE;aACnE,CAAC;SACL;aAAM;YACH,IAAI,CAAC,cAAc,GAAG;gBAClB,EAAE,IAAI,EAAE,IAAI,EAAE,KAAK,EAAE,8BAA8B,EAAE;gBACrD,EAAE,IAAI,EAAE,OAAO,EAAE,KAAK,EAAE,kCAAkC,EAAE;gBAC5D,EAAE,IAAI,EAAE,IAAI,EAAE,KAAK,EAAE,kCAAkC,EAAE;gBACzD,EAAE,IAAI,EAAE,OAAO,EAAE,KAAK,EAAE,mCAAmC,EAAE;gBAC7D,EAAE,IAAI,EAAE,MAAM,EAAE,KAAK,EAAE,uCAAuC,EAAE;gBAChE,EAAE,IAAI,EAAE,IAAI,EAAE,KAAK,EAAE,gCAAgC,EAAE;gBACvD,EAAE,IAAI,EAAE,SAAS,EAAE,KAAK,EAAE,0CAA0C,EAAE;gBACtE,EAAE,IAAI,EAAE,OAAO,EAAE,KAAK,EAAE,sCAAsC,EAAE;aACnE,CAAC;SACL;KACJ;;;;IAED,cAAc;QACV,IAAI,CAAC,aAAa,CAAC,UAAU,GAAG,IAAI,KAAK,EAAE,CAAC;QAC5C,IAAI,CAAC,aAAa,CAAC,UAAU,GAAG,IAAI,KAAK,EAAE,CAAC;QAC5C,IAAI,CAAC,aAAa,CAAC,cAAc,GAAG,IAAI,KAAK,EAAE,CAAC;QAChD,IAAI,CAAC,aAAa,CAAC,kBAAkB,GAAG,IAAI,KAAK,EAAE,CAAC;QACpD,IAAI,CAAC,aAAa,CAAC,iBAAiB,GAAG,IAAI,KAAK,EAAE,CAAC;QACnD,IAAI,CAAC,aAAa,CAAC,wBAAwB,GAAG,IAAI,KAAK,EAAE,CAAC;QAE1D,IAAI,CAAC,cAAc,GAAG,IAAI,KAAK,EAAE,CAAC;KACrC;;;YA9DJ,UAAU;;;;YAFF,sBAAsB;;;;;;;ACN/B,MAGa,mBAAmB;;;YAD/B,UAAU;;;;;;;ACFX,MAKa,kBAAkB;;;;;;IAC3B,YACY,QAAkC,EAClC,QAAkB,EAClB,YAA4B;QAF5B,aAAQ,GAAR,QAAQ,CAA0B;QAClC,aAAQ,GAAR,QAAQ,CAAU;QAClB,iBAAY,GAAZ,YAAY,CAAgB;KACnC;;;YANR,UAAU;;;;YAJoB,wBAAwB;YAAlC,QAAQ;YAEpB,cAAc;;;;;;;ACFvB,MAEa,mBAAoB,SAAQ,eAAe;;;;;;;IAEtD,YAAY,EAAW,EAAE,IAAa,EAAE,IAAa;QACnD,KAAK,CAAC,EAAE,EAAC,IAAI,EAAC,IAAI,CAAC,CAAC;KACrB;CACF;;;;;;ACPD,MAMa,sBAAsB;;;;IAE/B,YAAoB,IAAiB;QAAjB,SAAI,GAAJ,IAAI,CAAa;QAD7B,iBAAY,GAAG,IAAI,aAAa,EAAO,CAAC;;;;;;;QAQ5C,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,oFAAoF,CAAC,CAAC,SAAS;;;;QAAC,CAAC,IAAI;YAC/G,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;SAChC,EAAC,CAAC;KACN;;;;IAED,eAAe;QACX,OAAO,IAAI,CAAC,YAAY,CAAC,YAAY,EAAE,CAAC;KAC3C;;;YAjBJ,UAAU;;;;YAJF,WAAW;;;;;;;ACDpB,MAoBa,sBAAsB;;;;;;;;;;;;;;IA4BjC,YACU,eAAuC,EACvC,IAAuB,EACvB,QAAkB,EAClB,YAAoC,EACpC,MAAc,EACF,GAAsB,EACf,QAAgB,EACR,SAAc,EAC7B,UAAwB,EACpC,IAAkB,EAClB,OAAyB;QAVzB,oBAAe,GAAf,eAAe,CAAwB;QACvC,SAAI,GAAJ,IAAI,CAAmB;QACvB,aAAQ,GAAR,QAAQ,CAAU;QAClB,iBAAY,GAAZ,YAAY,CAAwB;QACpC,WAAM,GAAN,MAAM,CAAQ;QACF,QAAG,GAAH,GAAG,CAAmB;QACf,aAAQ,GAAR,QAAQ,CAAQ;QACR,cAAS,GAAT,SAAS,CAAK;QAC7B,eAAU,GAAV,UAAU,CAAc;QACpC,SAAI,GAAJ,IAAI,CAAc;QAClB,YAAO,GAAP,OAAO,CAAkB;QArCnC,QAAG,GAAG,wBAAwB,CAAC;QAK/B,oBAAe,GAAG,KAAK,CAAC;QAExB,gBAAW,GAAkB,EAAE,CAAC;QAChC,6BAAwB,GAAG,qBAAqB,CAAC;QACjD,gBAAW,GAAG,cAAc,CAAC;QAC7B,oBAAe,GAAI,EAAE,CAAC;QACtB,uBAAkB,GAAG;YACnB,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,qCAAqC,CAAC,EAAE,KAAK,EAAE,MAAM,EAAE;YACzF,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,sCAAsC,CAAC,EAAE,KAAK,EAAE,UAAU,EAAE;SAC/F,CAAC;QACF,aAAQ,GAAG,IAAI,CAAC,kBAAkB,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC;QAC5C,qBAAgB,GAAG;YACjB,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,6BAA6B,CAAC,EAAE,KAAK,EAAE,KAAK,EAAE;YAChF,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,qDAAqD,CAAC,EAAE,KAAK,EAAE,6BAA6B,EAAE;SACjI,CAAC;QACF,eAAU,GAAG,IAAI,CAAC,gBAAgB,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC;QAC5C,gBAAW,GAAG,KAAK,CAAC;QACpB,2BAAsB,GAAG,KAAK,CAAC;;QAC/B,gBAAW,GAAG,IAAI,CAAC;QAEnB,UAAK,GAA0B,EAAE,CAAC;QAchC,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,IAAI,IAAI,YAAY,CAAC,QAAQ,EAAE,SAAS,CAAC,CAAC;KAC3E;;;;IAEF,QAAQ;;cACA,GAAG,GAAG,mDAAmD;QAC/D,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,SAAS;;;;QAAC,CAAC,IAAS;YACrC,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;;YAExB,IAAI,IAAI,CAAC,eAAe,CAAC,KAAK,KAAK,SAAS,IAAI,IAAI,CAAC,QAAQ,KAAK,UAAU,EAAE;gBAC5E,IAAI,CAAC,sBAAsB,GAAG,IAAI,CAAC;aACpC;iBAAM;gBACL,IAAI,CAAC,sBAAsB,GAAG,IAAI,KAAK,IAAI,CAAC,QAAQ,KAAK,UAAU,IAAI,IAAI,CAAC,QAAQ,KAAK,IAAI,CAAC,CAAC;aAChG;SACF,EAAC,CAAC;KACJ;;;;IAED,eAAe;QACb,IAAI,CAAC,MAAM,CAAC,iBAAiB;;;QAAC;YAC5B,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC,gBAAgB,CAC5C,YAAY,EACZ,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,CAC7B,CAAC;YACF,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC,gBAAgB,CAC5C,YAAY,EACZ,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,CAC7B,CAAC;SACH,EAAC,CAAC;KACJ;;;;;IAED,YAAY,CAAC,KAAK;QAChB,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;QAC5B,IAAI,IAAI,CAAC,eAAe,EAAE;YACxB,IAAI,CAAC,eAAe,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC;SACnC;KACF;;;;;IACD,YAAY,CAAC,KAAK;QAChB,IAAI,CAAC,eAAe,GAAG,KAAK,CAAC;QAC7B,IAAI,CAAC,eAAe,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC;KACpC;;;;;;;IACO,eAAe,CAAC,KAAU,EAAE,MAAM,GAAG,KAAK;;cAC1C,GAAG,GAAG,MAAM,GAAG,EAAE,GAAG,MAAM;;cAC1B,SAAS,GAAG,KAAK,CAAC,MAAM,CAAC,aAAa,CAAC,oBAAoB,CAAC;QAClE,IAAI,SAAS,EAAE;YACb,SAAS,CAAC,KAAK,CAAC,OAAO,GAAG,GAAG,CAAC;SAC/B;KACF;;;;;IACD,KAAK,CAAC,IAAS;QACb,IAAI,CAAC,WAAW,GAAG,EAAE,CAAC;QACtB,IAAI,CAAC,KAAK,GAAG,EAAE,CAAC;QAChB,IAAI,CAAC,eAAe,GAAG,EAAE,CAAC;QAC1B,IAAI,CAAC,gBAAgB,GAAG;YACtB,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,6BAA6B,CAAC,EAAE,KAAK,EAAE,KAAK,EAAE;YAChF,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,qDAAqD,CAAC,EAAE,KAAK,EAAE,6BAA6B,EAAE;SACjI,CAAC;KACH;;;;;IACD,WAAW,CAAC,IAAS;;QAEnB,IAAI,IAAI,CAAC,QAAQ,KAAK,IAAI,CAAC,kBAAkB,CAAC,CAAC,CAAC,CAAC,KAAK,EAAE;YACtD,IAAI,CAAC,YAAY,CAAC,eAAe,EAAE,CAAC,SAAS;;;;YAAC,EAAE;;gBAE9C,IAAI,EAAE,CAAC,IAAI,IAAI,EAAE,CAAC,IAAI,CAAC,IAAI,EAAE;oBAC3B,MAAM,CAAC,MAAM,CAAC,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC;yBACxB,IAAI;;;;oBAAC,CAAC,cAAmB;;8BAClB,aAAa,GAAQ,MAAM,CAAC,MAAM,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC;;8BACrD,SAAS,GAAG,aAAa,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC;wBACrD,SAAS,CAAC,QAAQ,CAAC,QAAQ,EAAE,CAAC,SAAS;;;;wBAAC,IAAI;4BAC1C,IAAI,IAAI,IAAI,IAAI,CAAC,MAAM,GAAG,CAAC,EAAE;gCAC3B,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,GAAG;;;;gCAAC,CAAC;;0CACf,IAAI,GAAG,IAAI,mBAAmB,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,IAAI,EAAE,8BAA8B,CAAC;oCAClF,IAAI,CAAC,KAAK,GAAG,CAAC,CAAC,KAAK,CAAC;oCACrB,IAAI,CAAC,OAAO,GAAG,CAAC,CAAC,OAAO,CAAC;oCACzB,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,kBAAkB,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC;oCACjD,OAAO,IAAI,CAAC;iCACb,EAAC,CAAC;6BACJ;yBACF,EAAC,CAAC;qBACJ,EAAC,CAAC;iBACN;qBAAM;oBACL,IAAI,CAAC,QAAQ,CAAC,gBAAgB,EAAE,CAAC;iBAClC;aACF,EAAC,CAAC;SACJ;aAAM;YACL,IAAI,CAAC,YAAY,EAAE,CAAC;SACrB;KACF;;;;IACD,YAAY;;QAEV,IAAI,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE;YAC3C,KAAK,MAAM,MAAM,IAAI,IAAI,CAAC,eAAe,CAAC,OAAO,EAAE;gBACjD,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,QAAQ,EAAE,MAAM,CAAC,CAAC;aACvC;YACD,IAAI,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,WAAW,IAAI,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC,MAAM,GAAG,CAAC,EAAE;;sBACnG,UAAU,GAAG,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC;gBACjE,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,UAAU,CAAC,IAAI,EAAE,QAAQ,EACnD,UAAU,CAAC,IAAI,EAAE,YAAY,CAAC,UAAU,CAAC,CAAC;aAC7C;SACF;;YACG,OAAO,GAAG,IAAI,KAAK,EAAE;QACzB,OAAO,GAAG,IAAI,CAAC,eAAe,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC;QACnD,IAAI,IAAI,CAAC,eAAe,CAAC,kBAAkB,CAAC,MAAM,GAAG,CAAC,EAAE;YACtD,KAAK,MAAM,QAAQ,IAAI,IAAI,CAAC,eAAe,CAAC,kBAAkB,EAAE;gBAC9D,IAAI,CAAC,OAAO,CAAC,IAAI;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,GAAG,KAAK,QAAQ,CAAC,GAAG,EAAC,EAAE;oBAC9C,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;iBACxB;aACF;SACF;QACD,IAAI,IAAI,CAAC,eAAe,CAAC,wBAAwB,CAAC,MAAM,GAAG,CAAC,EAAE;YAC5D,KAAK,MAAM,QAAQ,IAAI,IAAI,CAAC,eAAe,CAAC,wBAAwB,EAAE;gBACpE,IAAI,CAAC,OAAO,CAAC,IAAI;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,GAAG,KAAK,QAAQ,CAAC,GAAG,EAAC,EAAE;oBAC9C,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;iBACxB;aACF;SACF;QACD,IAAI,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE;YACtB,KAAK,MAAM,CAAC,IAAI,OAAO,EAAE;gBACvB,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;aACzB;SACF;QACD,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,YAAY,CAAC,WAAW,CAAC,CAAC;QACnD,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;QAC5C,IAAI,CAAC,IAAI,CAAC,eAAe,EAAE,CAAC,IAAI;;;;QAAC,CAAC,cAAsB;YACtD,IAAI,CAAC,SAAS,GAAG,cAAc,CAAC;;YAEhC,IAAG,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE;gBACrB,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,eAAe,GAAG,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,eAAe,CAAC,MAAM;;;;gBAAC,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,GAAG,KAAK,CAAC,CAAC,GAAG,EAAC,EAAC,CAAC;aAC9H;SACF,EAAC,CAAC;KACJ;;;;;IACD,WAAW,CAAC,KAAU;QACpB,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC,IAAI,CAAC,GAAG;;;;QAAC,CAAC;;kBACrB,IAAI,GAAG,IAAI,mBAAmB,CAAC,CAAC,CAAC,MAAM,EAAE,CAAC,CAAC,IAAI,EAAE,8BAA8B,CAAC;YACtF,IAAI,CAAC,KAAK,GAAG,CAAC,CAAC,YAAY,CAAC;YAC5B,IAAI,CAAC,OAAO,GAAG,CAAC,CAAC,UAAU,CAAC;YAC5B,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,kBAAkB,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC;YAEjD,OAAO,IAAI,CAAC;SACb,EAAC,CAAC;KACJ;;;;IACD,YAAY;;QAEV,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,YAAY,CAAC,QAAQ,CAAC,CAAC;QAChD,IAAI,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE;YAC3C,KAAK,MAAM,MAAM,IAAI,IAAI,CAAC,eAAe,CAAC,OAAO,EAAE;gBACjD,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,QAAQ,EAAE,MAAM,CAAC,CAAC;aACvC;YACD,IAAI,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,WAAW,IAAI,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC,MAAM,GAAG,CAAC,EAAE;;sBACnG,UAAU,GAAG,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC;gBACjE,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,UAAU,CAAC,IAAI,EAAE,QAAQ,EACnD,UAAU,CAAC,IAAI,EAAE,YAAY,CAAC,UAAU,CAAC,CAAC;aAC7C;SACF;;cACK,OAAO,GAAG,IAAI,KAAK,EAAE;QAC3B,IAAI,IAAI,CAAC,eAAe,CAAC,kBAAkB,CAAC,MAAM,GAAG,CAAC,EAAE;YACtD,KAAK,MAAM,QAAQ,IAAI,IAAI,CAAC,eAAe,CAAC,kBAAkB,EAAE;gBAC9D,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;aACxB;SACF;QACD,IAAI,IAAI,CAAC,eAAe,CAAC,kBAAkB,CAAC,MAAM,GAAG,CAAC,EAAE;YACtD,KAAK,MAAM,QAAQ,IAAI,IAAI,CAAC,eAAe,CAAC,kBAAkB,EAAE;gBAC9D,IAAI,CAAC,OAAO,CAAC,IAAI;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,GAAG,KAAK,QAAQ,CAAC,GAAG,EAAC,EAAE;oBAC9C,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;iBACxB;aACF;SACF;QACD,IAAI,IAAI,CAAC,eAAe,CAAC,sBAAsB,CAAC,MAAM,GAAG,CAAC,EAAE;YAC1D,KAAK,MAAM,QAAQ,IAAI,IAAI,CAAC,eAAe,CAAC,sBAAsB,EAAE;gBAClE,IAAI,CAAC,OAAO,CAAC,IAAI;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,GAAG,KAAK,QAAQ,CAAC,GAAG,EAAC,EAAE;oBAC9C,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;iBACxB;aACF;SACF;QACD,IAAI,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE;YACtB,KAAK,MAAM,CAAC,IAAI,OAAO,EAAE;gBACvB,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;aACzB;SACF;QACD,IAAI,IAAI,CAAC,KAAK,CAAC,MAAM,GAAG,CAAC,EAAE;YACzB,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC;SACxD;aAAM;YACL,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,EAAE,CAAC,CAAC;SACjC;QACD,IAAI,CAAC,IAAI,CAAC,eAAe,EAAE,CAAC,IAAI;;;;QAAC,CAAC,cAAsB;;kBAChD,IAAI,GAAG,IAAI,mBAAmB,CAAC,cAAc,EAAE,EAAE,EAAE,8BAA8B,CAAC;YACxF,IAAI,CAAC,GAAG,GAAG,YAAY,CAAC;YACxB,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,uBAAuB,CAAC,cAAc,CAAC,CAAC;YAClE,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,kBAAkB,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC;YACjD,IAAI,IAAI,CAAC,uBAAuB,CAAC,cAAc,CAAC,KAAK,EAAE,EAAE;gBACvD,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,wCAAwC,CAAC,CAAC,CAAC;gBACxF,IAAI,CAAC,KAAK,GAAG,EAAE,CAAC;aACjB;iBAAM;gBACL,IAAI,CAAC,KAAK,GAAG,CAAC,IAAI,CAAC,CAAC;aACrB;YACD,KAAK,MAAM,CAAC,IAAI,IAAI,CAAC,eAAe,CAAC,kBAAkB,EAAE;gBACvD,IAAI,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE;oBACxC,IAAI,CAAC,gBAAgB,GAAG;wBACtB,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,6BAA6B,CAAC,EAAE,KAAK,EAAE,KAAK,EAAE;qBAAC,CAAC;oBACpF,MAAM;iBACP;qBAAM;oBACL,IAAI,CAAC,gBAAgB,GAAG;wBACtB,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,6BAA6B,CAAC,EAAE,KAAK,EAAE,KAAK,EAAE;wBAChF,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,qDAAqD,CAAC,EAAE,KAAK,EAAE,6BAA6B,EAAE;qBACjI,CAAC;iBACH;aACF;;YAED,IAAG,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE;gBACrB,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,eAAe,GAAG,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,eAAe,CAAC,MAAM;;;;gBAAC,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,GAAG,KAAK,CAAC,CAAC,GAAG,EAAC,EAAC,CAAC;aAC9H;SACF,EAAC,CAAC;KACJ;;;;IACD,aAAa;QACX,IAAI,CAAC,KAAK,CAAC,GAAG;;;;QAAC,IAAI;YACjB,IAAI,IAAI,CAAC,KAAK,KAAK,SAAS,EAAE;gBAC5B,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,UAAU,CAAC;gBAC/B,OAAO,IAAI,CAAC;aACb;SACF,EAAC,CAAC;QACH,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE;YACnB,IAAI,CAAC,SAAS,GAAG,EAAE,CAAC;SACrB;QACD,IAAI,IAAI,CAAC,SAAS,IAAI,IAAI,CAAC,SAAS,KAAK,EAAE,EAAE;YAC3C,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG;;;;YAAC,IAAI;gBAC9B,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC;gBAChC,OAAO,IAAI,CAAC;aACb,EAAC,CAAC;SACJ;QACD,OAAO,IAAI,CAAC,KAAK,CAAC;KACnB;;;;;;IACO,uBAAuB,CAAC,IAAY;QAC1C,KAAK,MAAM,CAAC,IAAI,IAAI,CAAC,eAAe,CAAC,kBAAkB,EAAE;YACvD,IAAI,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,EAAE;gBAC5B,IAAI,IAAI,CAAC,UAAU,KAAK,KAAK,EAAE;oBAC7B,OAAO,EAAE,CAAC;iBACX;gBACD,OAAO,CAAC,CAAC,IAAI,CAAC;aACf;SACF;QACD,KAAK,MAAM,CAAC,IAAI,IAAI,CAAC,eAAe,CAAC,sBAAsB,EAAE;YAC3D,IAAI,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,EAAE;gBAC5B,OAAO,CAAC,CAAC,IAAI,CAAC;aACf;SACF;QACD,OAAO,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC;KAC9B;;;;;IACD,aAAa,CAAC,IAAS;QACrB,IAAI,IAAI,KAAK,KAAK,EAAE;YAClB,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,gBAAgB,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC;SAClD;aAAM;YACH,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,gBAAgB,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC;SACpD;KACF;;;YA3SF,SAAS,SAAC;gBACT,QAAQ,EAAE,oBAAoB;gBAC9B,05HAA8C;gBAE9C,SAAS,EAAE;oBACR,YAAY;iBACd;;aACF;;;;YAlBQ,sBAAsB;YACR,iBAAiB;YAFY,QAAQ;YAInD,sBAAsB;YAJ+B,MAAM;YAA6B,iBAAiB,uBAsD7G,QAAQ;yCACR,MAAM,SAAC,SAAS;4CAChB,MAAM,SAAC,iBAAiB;YAhDD,YAAY,uBAiDnC,QAAQ;YApDJ,WAAW;YACX,eAAe;;;kBAerB,WAAW,SAAC,OAAO;uBAGnB,SAAS,SAAC,0BAA0B;yBAEpC,SAAS,SAAC,YAAY;;;;;;;AC1BzB,MAKa,yBAAyB;;;;IAClC,YAAoB,IAAiB;QAAjB,SAAI,GAAJ,IAAI,CAAa;KAEpC;;;;;;;;;IACD,aAAa,CAAC,MAAc,EAAE,EAAU,EAAE,SAAiB,EAAE,QAAgB,EAAE,MAAY;;YACnF,GAAG,GAAG,sDAAsD,MAAM,cAAc,SAAS,aAAa,QAAQ,EAAE;QACpH,IAAI,MAAM,EAAE;YACR,GAAG,IAAI,gBAAgB,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,EAAE,CAAC;SACnD;QACD,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;KAC7B;;;;;;IACD,eAAe,CAAC,MAAc,EAAE,EAAU;;cAChC,GAAG,GAAG,sCAAsC,MAAM,EAAE;QAC1D,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;KAC7B;;;YAfJ,UAAU;;;;YAHF,WAAW;;;;;;;ACDpB,MAEa,kBAAkB;IAC3B;QACI,IAAI,CAAC,EAAE,GAAG,aAAa,CAAC,iBAAiB,EAAE,CAAC;KAC/C;CAQJ;;;;;;ACbD,MA8Ba,2BAA2B;;;;;;;;;;;;;;;;;;IAiGtC,YACU,aAAqC,EACrC,IAAuB,EACvB,QAAkC,EAClC,QAAkB,EAClB,UAA0B,EAC1B,YAA4B,EAC5B,gBAA4C,EAC5C,MAAc,EACd,OAAkC,EAClC,IAAmB,EACnB,IAAiB,EACL,GAAsB,EACf,QAAgB,EACR,SAAc,EAC7B,UAAwB;QAdpC,kBAAa,GAAb,aAAa,CAAwB;QACrC,SAAI,GAAJ,IAAI,CAAmB;QACvB,aAAQ,GAAR,QAAQ,CAA0B;QAClC,aAAQ,GAAR,QAAQ,CAAU;QAClB,eAAU,GAAV,UAAU,CAAgB;QAC1B,iBAAY,GAAZ,YAAY,CAAgB;QAC5B,qBAAgB,GAAhB,gBAAgB,CAA4B;QAC5C,WAAM,GAAN,MAAM,CAAQ;QACd,YAAO,GAAP,OAAO,CAA2B;QAClC,SAAI,GAAJ,IAAI,CAAe;QACnB,SAAI,GAAJ,IAAI,CAAa;QACL,QAAG,GAAH,GAAG,CAAmB;QACf,aAAQ,GAAR,QAAQ,CAAQ;QACR,cAAS,GAAT,SAAS,CAAK;QAC7B,eAAU,GAAV,UAAU,CAAc;QA9G9C,QAAG,GAAG,8BAA8B,CAAC;QAKrC,oBAAe,GAAG,KAAK,CAAC;QACxB,WAAM,GAAC,EAAE,CAAC;QACV,sBAAiB,GAAC,EAAE,CAAC;QAuCrB,YAAO,GAAG;YACR,EAAE,KAAK,EAAE,MAAM,EAAE,KAAK,EAAE,EAAE,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,mCAAmC,CAAC,EAAE;YACnG,EAAE,KAAK,EAAE,MAAM,EAAE,KAAK,EAAE,EAAE,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,mCAAmC,CAAC,EAAE;YACnG,EAAE,KAAK,EAAE,aAAa,EAAE,KAAK,EAAE,EAAE,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,0CAA0C,CAAC,EAAE,QAAQ,EAAE,IAAI,EAAE;YACjI;gBACE,KAAK,EAAE,WAAW,EAAE,KAAK,EAAE,GAAG,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,wCAAwC,CAAC;gBAC1G,MAAM,EAAE;oBACN,IAAI,EAAE,aAAa;oBACnB,OAAO,EAAE;wBACP,SAAS,EAAE,sCAAsC;wBACjD,QAAQ,EAAE,KAAK;wBACf,WAAW;;;;wBAAE,CAAC,CAAC;4BACb,CAAC,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC,CAAC,QAAQ,CAAC,KAAK,GAAG,CAAC,CAAC,QAAQ,CAAC,KAAK,GAAG,EAAE,CAAC,CAAC;4BACjE,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC;yBACtB,CAAA;wBACD,KAAK;;;;wBAAE,CAAC,CAAC;;4BAEP,CAAC,CAAC,OAAO,CAAC,KAAK,GAAG,EAAE,CAAC;4BACrB,KAAK,MAAM,CAAC,IAAI,IAAI,CAAC,SAAS,CAAC,gBAAgB,EAAE;gCAC/C,IAAI,CAAC,CAAC,IAAI,KAAK,CAAC,CAAC,KAAK,EAAE;oCACtB,CAAC,CAAC,KAAK,GAAG,EAAE,CAAC;iCACd;6BACF;yBACF,CAAA;qBACF;iBACF;aACF;SACF,CAAC;QACF,aAAQ,GAAG;YACT,MAAM,EAAE,EAAE;YACV,EAAE,EAAE,EAAE;YACN,OAAO,EAAE,EAAE;YACX,WAAW,EAAE,MAAM;YACnB,KAAK,EAAE,EAAE;YACT,QAAQ,EAAE;gBACR,SAAS,EAAE,CAAC;gBACZ,QAAQ,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC;gBAC1B,QAAQ,EAAE,EAAE;aACb;YACD,MAAM,EAAE,EAAE,QAAQ,EAAE,KAAK,EAAC;YAC1B,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,mCAAmC,CAAC;YACrE,KAAK,EAAE,GAAG;YACV,SAAS,EAAE;gBACT,OAAO,EAAE,IAAI;gBACb,SAAS,EAAE,MAAM;gBACjB,UAAU,EAAE,IAAI;aACjB;SACF,CAAC;QA0DF,eAAU;;;;QAAG,CAAC,KAAmB;;kBACzB,OAAO,sBAAG,KAAK,CAAC,OAAO,EAAO;YACpC,IAAI,CAAC,YAAY,GAAG,OAAO,CAAC;YAC5B,QAAQ,OAAO,CAAC,cAAc;gBAC5B,KAAK,uBAAuB,CAAC,OAAO;oBAClC,KAAK,CAAC,MAAM,CAAC,MAAM,GAAG;wBACpB,IAAI,EAAE,aAAa;wBACnB,OAAO,EAAE;4BACP,SAAS,EAAE,sCAAsC;4BACjD,QAAQ,EAAE,KAAK;4BACf,WAAW;;;;4BAAE,CAAC,CAAC;gCACb,CAAC,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC,CAAC,QAAQ,CAAC,KAAK,GAAG,CAAC,CAAC,QAAQ,CAAC,KAAK,GAAG,EAAE,CAAC,CAAC;gCACjE,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC;6BACtB,CAAA;4BACD,KAAK;;;;4BAAE,CAAC,CAAC;;gCAEP,CAAC,CAAC,OAAO,CAAC,KAAK,GAAG,EAAE,CAAC;gCACrB,KAAK,MAAM,CAAC,IAAI,IAAI,CAAC,SAAS,CAAC,gBAAgB,EAAE;oCAC/C,IAAI,CAAC,CAAC,IAAI,KAAK,CAAC,CAAC,KAAK,EAAE;wCACtB,CAAC,CAAC,KAAK,GAAG,EAAE,CAAC;qCACd;iCACF;6BACF,CAAA;yBACF;qBACF,CAAC;oBACF,MAAM;gBACR,KAAK,uBAAuB,CAAC,IAAI;oBAC/B,KAAK,CAAC,MAAM,CAAC,MAAM,GAAG;wBACpB,IAAI,EAAE,aAAa;wBACnB,OAAO,EAAE;4BACP,SAAS,EAAE,sCAAsC;4BACjD,QAAQ,EAAE,KAAK;4BACf,WAAW;;;;4BAAE,CAAC,CAAC;gCACb,CAAC,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC,CAAC,QAAQ,CAAC,KAAK,GAAG,CAAC,CAAC,QAAQ,CAAC,KAAK,GAAG,EAAE,CAAC,CAAC;gCACjE,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC;6BACtB,CAAA;4BACD,KAAK;;;;4BAAE,CAAC,CAAC;;gCAEP,CAAC,CAAC,OAAO,CAAC,KAAK,GAAG,EAAE,CAAC;gCACrB,KAAK,MAAM,CAAC,IAAI,IAAI,CAAC,SAAS,CAAC,gBAAgB,EAAE;oCAC/C,IAAI,CAAC,CAAC,IAAI,KAAK,CAAC,CAAC,KAAK,EAAE;wCACtB,CAAC,CAAC,KAAK,GAAG,EAAE,CAAC;qCACd;iCACF;6BACF,CAAA;yBACF;qBACF,CAAC;oBACF,MAAM;gBACR,KAAK,uBAAuB,CAAC,KAAK;oBAChC,KAAK,CAAC,MAAM,CAAC,MAAM,GAAG,EAAE,IAAI,EAAE,WAAW,CAAC,OAAO,EAAE,OAAO,EAAE,EAAE,EAAE,CAAC;oBACjE,MAAM;gBACR,KAAK,uBAAuB,CAAC,IAAI;oBAC/B,KAAK,CAAC,MAAM,CAAC,MAAM,GAAG,EAAE,IAAI,EAAE,WAAW,CAAC,OAAO,EAAE,OAAO,EAAE,EAAE,EAAE,CAAC;oBACjE,MAAM;gBACR,KAAK,uBAAuB,CAAC,IAAI;oBAC/B,KAAK,CAAC,MAAM,CAAC,MAAM,GAAG;wBACpB,IAAI,EAAE,aAAa;wBACnB,OAAO,EAAE;4BACP,SAAS,EAAE,sCAAsC;4BACjD,QAAQ,EAAE,KAAK;4BACf,WAAW;;;;4BAAE,CAAC,CAAC;gCACb,IAAI,CAAC,IAAI,GAAG,CAAC,CAAC;gCACd,IAAI,CAAC,QAAQ,CAAC,MAAM,GAAG,oBAAC,OAAO,CAAC,iBAAiB,IAA2B,MAAM,CAAC;gCACnF,IAAI,CAAC,QAAQ,CAAC,EAAE,GAAG,oBAAC,OAAO,CAAC,iBAAiB,IAA2B,WAAW,CAAC;gCACpF,IAAI,CAAC,QAAQ,CAAC,QAAQ,GAAG;oCACvB,SAAS,EAAE,CAAC;oCACZ,QAAQ,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC;oCAC1B,QAAQ,EAAE,EAAE;iCACb,CAAC;gCACF,IAAI,CAAC,QAAQ,CAAC,MAAM,GAAG,EAAE,QAAQ,EAAE,KAAK,EAAE,CAAC;gCAC3C,IAAI,CAAC,WAAW,EAAE,CAAC;6BACpB,CAAA;4BACD,KAAK;;;;4BAAE,CAAC,CAAC;;gCAEP,CAAC,CAAC,OAAO,CAAC,KAAK,GAAG,EAAE,CAAC;gCACrB,KAAK,MAAM,CAAC,IAAI,IAAI,CAAC,SAAS,CAAC,gBAAgB,EAAE;oCAC/C,IAAI,CAAC,CAAC,IAAI,KAAK,CAAC,CAAC,KAAK,EAAE;wCACtB,CAAC,CAAC,KAAK,GAAG,EAAE,CAAC;qCACd;iCACF;6BACF,CAAA;yBACF;qBACF,CAAC;oBACF,MAAM;aACT;YACD,OAAOA,IAAE,CAAC,IAAI,CAAC,CAAC;SACjB,EAAA;QACD,cAAS;;;;;;QAAG,CAAC,QAAgB,EAAE,OAAY,EAAE,MAAmB;YAC9D,OAAOA,IAAE,CAAC,IAAI,CAAC,CAAC;SACjB,EAAA;;;;;;QAoJD,kBAAa;;;;QAAG,CAAC,CAAC;YAChB,CAAC,CAAC,QAAQ,CAAC,IAAI,GAAG;gBAChB,OAAO;;;;;gBAAE,CAAC,GAAU,EAAE,MAAW;;0BACzB,IAAI,GAAG,mCAAmC,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE;oBACtE,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC,MAAM,IAAI,EAAE,EAAE,EAAE,iBAAiB,EAAE,IAAI,EAAE,CAAC,CAAC;oBAClE,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC,IAAI,CACnC,UAAU;;;;oBAAC,CAAC,CAAC;wBACT,IAAI,CAAC,CAAC,KAAK,IAAI,CAAC,CAAC,KAAK,CAAC,YAAY,IAAI,CAAC,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,yBAAyB,CAAC,GAAG,CAAC,CAAC,EAAE;4BACjG,CAAC,CAAC,KAAK,CAAC,OAAO,GAAG,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,iDAAiD,CAAC,CAAC;yBAClG;wBACD,OAAO,UAAU,CAAC,CAAC,CAAC,CAAC;qBACxB,EAAC,CACL,CAAA;iBACF,CAAA;aACF,CAAA;YACD,OAAOA,IAAE,CAAC,IAAI,CAAC,CAAC;SACjB,EAAA;QAED,eAAU;;;;QAAG,CAAC,OAAO;YACnB,IAAI,IAAI,CAAC,IAAI,EAAE;gBACb,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,OAAO,EAAE,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC,CAAC;gBAC/F,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,aAAa,EAAE,CAAC;gBACtC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,KAAK,GAAG,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,OAAO,EAAE,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,UAAU,CAAC,CAAC;gBAC1F,KAAK,MAAM,CAAC,IAAI,IAAI,CAAC,SAAS,CAAC,gBAAgB,EAAE;oBAC/C,IAAI,CAAC,CAAC,IAAI,KAAK,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE;wBAC9B,CAAC,CAAC,KAAK,GAAG,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,OAAO,EAAE,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,UAAU,CAAC,CAAC;qBAC3E;iBACF;gBACD,OAAOA,IAAE,CAAC,IAAI,CAAC,CAAC;aACjB;SACF,EAAA;QAlTC,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,IAAI,IAAI,YAAY,CAAC,QAAQ,EAAE,SAAS,CAAC,CAAC;KAC3E;;;;;IAzGF,IACI,SAAS,CAAC,GAAuB;QACnC,IAAI,GAAG,IAAI,GAAG,CAAC,UAAU,EAAE;YACzB,IAAI,CAAC,OAAO,CAAC,eAAe,CAAC,GAAG,CAAC,UAAU,EAAE,EAAE,CAAC,CAAC,SAAS;;;;YAAC,EAAE;;sBACrD,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,OAAO,CAAC;;sBAC1B,SAAS,GAAG,CAAC,CAAC,UAAU,CAAC,IAAI;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,IAAI,KAAK,GAAG,CAAC,UAAU,EAAC;gBACnE,IAAI,SAAS,EAAE;oBACb,GAAG,CAAC,gBAAgB,GAAG,GAAG,CAAC,gBAAgB,CAAC,GAAG;;;;oBAAC,CAAC;;8BACzC,CAAC,GAAG,SAAS,CAAC,UAAU,CAAC,IAAI;;;;wBAAC,CAAC,IAAI,CAAC,CAAC,IAAI,KAAK,CAAC,CAAC,IAAI,EAAC;wBAC3D,IAAI,CAAC,EAAE;4BACL,OAAO;gCACL,IAAI,EAAE,CAAC,CAAC,IAAI;gCACZ,IAAI,EAAE,CAAC,CAAC,IAAI;gCACZ,KAAK,EAAE,CAAC,CAAC,KAAK;gCACd,SAAS,EAAE,CAAC,CAAC,SAAS,GAAG,CAAC,CAAC,SAAS,GAAG,CAAC,CAAC,KAAK;gCAC9C,WAAW,EAAE,CAAC,CAAC,WAAW;gCAC1B,GAAG,EAAE,CAAC,CAAC,GAAG;gCACV,cAAc,EAAE,CAAC,CAAC,cAAc;gCAChC,iBAAiB,EAAE,CAAC,CAAC,iBAAiB;6BACvC,CAAC;yBACH;6BAAM;4BACL,MAAM,IAAI,KAAK,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,8CAA8C,CAAC,CAAC,CAAC;yBAC5F;qBACF,EAAC,CAAC;oBACH,IAAI,CAAC,kBAAkB,GAAG,GAAG,CAAC;iBAC/B;qBAAM;oBACL,MAAM,IAAI,KAAK,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,6CAA6C,CAAC,CAAC,CAAC;iBAC3F;aACF,EAAC,CAAC;SACJ;aAAM;YACL,IAAI,CAAC,kBAAkB,GAAG,IAAI,kBAAkB,EAAE,CAAC;SACpD;KACF;;;;IACD,IAAI,SAAS;QACX,OAAO,IAAI,CAAC,kBAAkB,CAAC;KAChC;;;;IAwED,QAAQ;KACP;;;;IACD,eAAe;QACb,IAAI,CAAC,MAAM,CAAC,iBAAiB;;;QAAC;YAC5B,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC,gBAAgB,CAC5C,YAAY,EACZ,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,CAC7B,CAAC;YACF,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC,gBAAgB,CAC5C,YAAY,EACZ,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,CAC7B,CAAC;SACH,EAAC,CAAC;KACJ;;;;;IAED,YAAY,CAAC,KAAK;QAChB,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;QAC5B,IAAI,IAAI,CAAC,eAAe,EAAE;YACxB,IAAI,CAAC,eAAe,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC;SACnC;KACF;;;;;IACD,YAAY,CAAC,KAAK;QAChB,IAAI,CAAC,eAAe,GAAG,KAAK,CAAC;QAC7B,IAAI,CAAC,eAAe,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC;KACpC;;;;;;;IACO,eAAe,CAAC,KAAU,EAAE,MAAM,GAAG,KAAK;;cAC1C,GAAG,GAAG,MAAM,GAAG,EAAE,GAAG,MAAM;;cAC1B,SAAS,GAAG,KAAK,CAAC,MAAM,CAAC,aAAa,CAAC,oBAAoB,CAAC;QAClE,IAAI,SAAS,EAAE;YACb,SAAS,CAAC,KAAK,CAAC,OAAO,GAAG,GAAG,CAAC;SAC/B;KACF;;;;;IAED,aAAa,CAAC,KAAK;QACjB,IAAI,CAAC,YAAY,GAAG,KAAK,CAAC,IAAI,CAAC;KAChC;;;;;IA4FD,OAAO,CAAC,CAAM;;QAEZ,IAAI,CAAC,CAAC,OAAO,CAAC,cAAc,KAAK,uBAAuB,CAAC,KAAK,IAAI,CAAC,CAAC,OAAO,CAAC,cAAc,KAAK,uBAAuB,CAAC,IAAI,EAAE;YAC3H,IAAI,CAAC,SAAS,CAAC,gBAAgB,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC,gBAAgB,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,SAAS,CAAC;SAC3G;KACF;;;;IAED,KAAK;QACH,IAAI,CAAC,kBAAkB,CAAC,IAAI,GAAG,EAAE,CAAC;QAClC,IAAI,CAAC,kBAAkB,CAAC,UAAU,GAAG,EAAE,CAAC;QACxC,IAAI,CAAC,kBAAkB,CAAC,UAAU,GAAG,EAAE,CAAC;QACxC,IAAI,CAAC,kBAAkB,CAAC,UAAU,GAAG,EAAE,CAAC;QACxC,IAAI,CAAC,kBAAkB,CAAC,SAAS,GAAG,EAAE,CAAC;QACvC,IAAI,CAAC,kBAAkB,CAAC,gBAAgB,GAAG,IAAI,KAAK,EAAE,CAAC;KACxD;;;;IAED,eAAe;;cACP,WAAW,GAAG,IAAI,CAAC,QAAQ,CAAC,uBAAuB,CAAC,yBAAyB,CAAC;;cAC9E,OAAO,GAAG,WAAW,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC;QACjD,OAAO,CAAC,QAAQ,CAAC,QAAQ,GAAG,qBAAqB,CAAC;QAClD,OAAO,CAAC,QAAQ,CAAC,gBAAgB,CAAC,SAAS;;;;QAAC,CAAC,MAAuB;YAClE,IAAI;;sBACI,IAAI,GAAgB,MAAM,CAAC,QAAQ;gBACzC,IAAI,CAAC,wBAAwB,CAAC,IAAI,CAAC,EAAE,EAAE,IAAI,CAAC,UAAU,CAAC,gBAAgB,EAAE,CAAC,CAAC;aAC5E;YAAC,WAAM;gBACN,OAAO,CAAC,GAAG,CAAC,QAAQ,EAAE,MAAM,CAAC,CAAC;gBAC9B,MAAM,IAAI,KAAK,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,6CAA6C,CAAC,GAAG,MAAM,CAAC,CAAC;aACpG;SACF,EAAC,CAAC;;cAEG,WAAW,GAAG;YAClB,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,iDAAiD,CAAC;YACnF,KAAK,EAAE,GAAG;YACV,MAAM,EAAE,GAAG;YACX,WAAW,EAAE,KAAK;SACnB;;cACK,MAAM,GAAG,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,OAAO,EAAE,WAAW,CAAC;QAC3D,OAAO,CAAC,QAAQ,CAAC,iBAAiB,CAAC,SAAS;;;;QAAC,MAAM,IAAI,MAAM,CAAC,KAAK,EAAE,EAAC,CAAC;KACxE;;;;;;;IACO,wBAAwB,CAAC,UAAkB,EAAE,SAAiB;QACpE,IAAI,CAAC,gBAAgB,CAAC,YAAY,CAAC,UAAU,EAAE,SAAS,CAAC,CAAC,SAAS;;;;QACjE,CAAC,cAA8B;YAC7B,cAAc,CAAC,YAAY,CAAC,SAAS;;;;YACnC,CAAC,MAAoB;gBACnB,IAAI,MAAM,EAAE;oBACV,IAAI,CAAC,SAAS,CAAC,IAAI,GAAG,MAAM,CAAC,IAAI,CAAC;oBAClC,IAAI,CAAC,SAAS,CAAC,UAAU,GAAG,MAAM,CAAC,EAAE,CAAC;oBACtC,IAAI,CAAC,SAAS,CAAC,UAAU,GAAG,MAAM,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC;oBACtD,IAAI,CAAC,SAAS,CAAC,UAAU,GAAG,MAAM,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC;oBACtD,IAAI,CAAC,SAAS,CAAC,gBAAgB,GAAG,EAAE,CAAC;oBAErC,IAAI,MAAM,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,UAAU,IAAI,MAAM,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC,MAAM,GAAG,CAAC,EAAE;wBACjF,IAAI,CAAC,SAAS,CAAC,gBAAgB,GAAG,MAAM,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,UAAU;6BAC9D,GAAG;;;;wBAAC,CAAC,CAAsB,yBAC1B;4BACE,IAAI,EAAE,CAAC,CAAC,IAAI;4BACZ,IAAI,EAAE,CAAC,CAAC,IAAI;4BACZ,KAAK,EAAE,EAAE;4BACT,SAAS,EAAE,EAAE;4BACb,WAAW,EAAE,CAAC,CAAC,WAAW;4BAC1B,cAAc,EAAE,CAAC,CAAC,cAAc;4BAChC,iBAAiB,EAAE,CAAC,CAAC,iBAAiB;yBACvC,GAAQ,EAAC,CAAC;qBAChB;iBACF;aACF,EAAC,CAAC;SACN,EAAC,CAAC;KACN;;;;;IACD,YAAY,CAAC,CAAM;;QAEjB,IAAI,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE;YACzC,KAAK,MAAM,MAAM,IAAI,IAAI,CAAC,aAAa,CAAC,OAAO,EAAE;gBAC/C,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,QAAQ,EAAE,MAAM,CAAC,CAAC;aACvC;YACD,IAAI,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,WAAW,IAAI,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC,MAAM,GAAG,CAAC,EAAE;;sBAC/F,UAAU,GAAG,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC;gBAC/D,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,UAAU,CAAC,IAAI,EAAE,QAAQ,EACnD,UAAU,CAAC,IAAI,EAAE,YAAY,CAAC,UAAU,CAAC,CAAC;aAC7C;SACF;;YACG,OAAO,GAAG,IAAI,KAAK,EAAE;QACzB,OAAO,GAAG,IAAI,CAAC,aAAa,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC;QACjD,IAAI,IAAI,CAAC,aAAa,CAAC,kBAAkB,CAAC,MAAM,GAAG,CAAC,EAAE;YACpD,KAAK,MAAM,QAAQ,IAAI,IAAI,CAAC,aAAa,CAAC,kBAAkB,EAAE;gBAC5D,IAAI,CAAC,OAAO,CAAC,IAAI;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,GAAG,KAAK,QAAQ,CAAC,GAAG,EAAC,EAAE;oBAC9C,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;iBACxB;aACF;SACF;QACD,IAAI,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE;YACtB,KAAK,MAAM,CAAC,IAAI,OAAO,EAAE;gBACvB,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;aACzB;SACF;QACD,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,YAAY,CAAC,QAAQ,CAAC,CAAC;QAChD,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;QAC9C,IAAI,CAAC,IAAI,CAAC,eAAe,EAAE,CAAC,IAAI;;;;QAAC,CAAC,CAAS;YACzC,IAAI,CAAC,EAAE;gBACL,CAAC,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;gBAC1B,CAAC,CAAC,QAAQ,CAAC,EAAE,CAAC,aAAa,EAAE,CAAC;gBAC9B,CAAC,CAAC,OAAO,CAAC,KAAK,GAAG,CAAC,CAAC;gBACpB,KAAK,MAAM,CAAC,IAAI,IAAI,CAAC,SAAS,CAAC,gBAAgB,EAAE;oBAC/C,IAAI,CAAC,CAAC,IAAI,KAAK,CAAC,CAAC,KAAK,EAAE;wBACtB,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC;qBACb;iBACF;aACF;;YAED,IAAG,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE;gBACrB,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,eAAe,GAAG,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,eAAe,CAAC,MAAM;;;;gBAAC,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,GAAG,KAAK,CAAC,CAAC,GAAG,EAAC,EAAC,CAAC;aAC9H;SACF,EAAC,CAAC;KACJ;;;;IAED,aAAa;QACX,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC;QACxB,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;QAC5B,OAAO,IAAI,CAAC,SAAS,CAAC;KACvB;;;;;IAEO,WAAW;;QAEjB,IAAI,CAAC,OAAO,CAAC,eAAe,CAAC,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC,SAAS;;;;QAAC,EAAE;YAC/E,IAAI,EAAE,EAAE;;sBACA,IAAI,GAAG,EAAE;;sBACT,IAAI,sBAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,OAAO,CAAC,EAAO;gBAC5C,IAAI,CAAC,QAAQ,CAAC,OAAO,GAAG,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC;gBAChD,IAAI,CAAC,QAAQ,CAAC,WAAW,GAAG,IAAI,CAAC,WAAW,CAAC;gBAC7C,IAAI,CAAC,QAAQ,CAAC,SAAS,GAAG;oBACxB,OAAO,EAAE,IAAI,CAAC,OAAO;oBACrB,UAAU,EAAE,IAAI,CAAC,UAAU;oBAC3B,SAAS,EAAE,IAAI,CAAC,SAAS;iBAC1B,CAAC;aACH;iBAAM;gBACL,MAAM,IAAI,KAAK,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,+CAA+C,CAAC,CAAC,CAAC;aAC7F;SACF,EAAC,CAAA;;QAEF,IAAI,CAAC,MAAM,CAAC,UAAU,EAAE,CAAC;KAC1B;;;;;IAsCD,YAAY,CAAC,IAAS;QACpB,IAAI,IAAI,EAAE;YACR,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC;YAClD,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC;YAChD,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,IAAI,CAAC,QAAQ,CAAC,EAAE,EAC/D,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,SAAS,EAAE,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,QAAQ,EAAE,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC;iBACvF,SAAS;;;;YAAC,EAAE;gBACX,IAAI,CAAC,QAAQ,CAAC,KAAK,GAAG,EAAE,CAAC,KAAK,CAAC;gBAC/B,IAAI,CAAC,QAAQ,CAAC,KAAK,GAAG,EAAE,CAAC,KAAK,CAAC;gBAC/B,IAAI,CAAC,QAAQ,CAAC,KAAK,GAAG,EAAE,CAAC,KAAK,CAAC;gBAC/B,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC;aAC1B,EAAC,CAAC;SACN;KACF;;;;;IACD,MAAM,CAAC,IAAI;QACT,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;QAClB,IAAI,CAAC,QAAQ,CAAC,MAAM,GAAG,EAAE,QAAQ,EAAE,QAAQ,EAAE,CAAC;QAC9C,IAAI,IAAI,EAAE;;kBACF,UAAU,GAAG;gBACjB,WAAW,EAAE,IAAI,CAAC,KAAK,IAAI,IAAI,CAAC,MAAM,CAAC,KAAK;gBAC5C,WAAW,EAAE,IAAI,CAAC,KAAK,IAAI,IAAI,CAAC,MAAM,CAAC,KAAK;aAC7C;YACD,IAAI,CAAC,QAAQ,CAAC,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,UAAU,CAAC,CAAC;YACvE,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,IAAI,CAAC,QAAQ,CAAC,EAAE,EAC/D,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,SAAS,EAAE,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,QAAQ,EAAE,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC;iBACvF,SAAS;;;;YAAC,EAAE;gBACX,IAAI,CAAC,QAAQ,CAAC,KAAK,GAAG,EAAE,CAAC,KAAK,CAAC;gBAC/B,IAAI,CAAC,QAAQ,CAAC,KAAK,GAAG,EAAE,CAAC,KAAK,CAAC;gBAC/B,IAAI,CAAC,QAAQ,CAAC,KAAK,GAAG,EAAE,CAAC,KAAK,CAAC;gBAC/B,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC;aAC1B,EAAC,CAAC;SACN;KACF;;;YA9cF,SAAS,SAAC;gBACT,QAAQ,EAAE,yBAAyB;gBACnC,gvJAAmD;gBAEnD,SAAS,EAAE;oBACT,yBAAyB;oBACxB,YAAY;iBACd;;aACF;;;;YA3BQ,sBAAsB;YACtB,iBAAiB;YAHE,wBAAwB;YAAE,QAAQ;YAIxC,cAAc;YAC3B,cAAc;YACd,0BAA0B;YANuF,MAAM;YAcvH,yBAAyB;YAGzB,aAAa;YAbb,WAAW;YAJwH,iBAAiB,uBA2IxJ,QAAQ;yCACR,MAAM,SAAC,SAAS;4CAChB,MAAM,SAAC,iBAAiB;YA1HD,YAAY,uBA2HnC,QAAQ;;;kBA/GV,WAAW,SAAC,OAAO;mBAGnB,SAAS,SAAC,iBAAiB;qBAC3B,SAAS,SAAC,mBAAmB;yBAC7B,SAAS,SAAC,YAAY;wBAItB,KAAK;;;;;;;ACvCR,MAKa,uBAAwB,SAAQ,eAAe;;;;;;IAC1D,YAAY,EAAW,EAAE,IAAa,EAAE,IAAa;QACnD,KAAK,CAAC,EAAE,EAAC,IAAI,EAAC,IAAI,CAAC,CAAC;KACrB;CAUF;;;;;;AClBD,MAMa,sBAAsB;;;;IAEjC,YACU,IAAiB;QAAjB,SAAI,GAAJ,IAAI,CAAa;KAE1B;;;;;;IAED,OAAO,CAAC,GAAW,EAAE,MAAqB;;cAClC,UAAU,GAAG,MAAM,CAAC,UAAU;;cAC9B,KAAK,GAAG,MAAM,CAAC,SAAS,IAAI,CAAC;;cAC7B,IAAI,GAAG,MAAM,CAAC,QAAQ,IAAI,EAAE;;cAC5B,WAAW,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,WAAW,CAAC;QAClD,IAAI,WAAW,CAAC,WAAW,IAAI,UAAU,CAAC,MAAM,EAAE;;gBAC5C,KAAK,GAAG,GAAG;YACf,IAAI,WAAW,CAAC,WAAW,EAAE;gBAC3B,IAAI,WAAW,CAAC,WAAW,KAAK,GAAG,EAAE;oBACnC,KAAK,IAAI,qBAAqB,WAAW,CAAC,WAAW,IAAI,CAAC;iBAC3D;qBAAM;oBACL,KAAK,IAAI,IAAI,WAAW,CAAC,WAAW,MAAM,WAAW,CAAC,WAAW,IAAI,CAAC;iBACvE;aACF;YACD,IAAI,UAAU,CAAC,MAAM,EAAE;;sBACf,IAAI,GAAG,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC;gBAC3C,IAAI,IAAI,IAAI,IAAI,CAAC,MAAM,GAAG,CAAC,EAAE;oBAC3B,KAAK,MAAM,GAAG,IAAI,IAAI,EAAE;wBACtB,IAAI,UAAU,CAAC,MAAM,CAAC,GAAG,CAAC,EAAE;4BAC1B,KAAK,IAAI,IAAI,GAAG,MAAM,UAAU,CAAC,MAAM,CAAC,GAAG,CAAC,IAAI,CAAC;yBAClD;qBACF;iBACF;aACF;YACD,IAAI,KAAK,CAAC,MAAM,CAAC,KAAK,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC,CAAC,KAAK,GAAG,EAAE;gBAC7C,KAAK,GAAG,KAAK,CAAC,SAAS,CAAC,CAAC,EAAE,KAAK,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;aAC9C;YACD,KAAK,IAAI,GAAG,CAAC;YACb,KAAK,GAAG,kBAAkB,CAAC,KAAK,CAAC,CAAC;YAClC,KAAK,IAAI,cAAc,KAAK,aAAa,IAAI,EAAE,CAAC;YAChD,GAAG,IAAI,cAAc,GAAG,KAAK,CAAC;SAC/B;aAAM;YACL,GAAG,IAAI,cAAc,KAAK,aAAa,IAAI,EAAE,CAAC;SAC/C;QACD,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,IAAI,CAC5B,GAAG;;;;QAAC,CAAC,EAAO,MAAM;YAChB,KAAK,EAAE,EAAE,CAAC,OAAO;YACjB,KAAK,EAAE,EAAE,CAAC,aAAa;YACvB,QAAQ,EAAE;gBACR,SAAS,EAAE,EAAE,CAAC,QAAQ,CAAC,UAAU,GAAG,CAAC;gBACrC,QAAQ,EAAE,EAAE,CAAC,QAAQ,CAAC,QAAQ;gBAC9B,QAAQ,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,CAAC;gBAC/B,WAAW,EAAE,IAAI;aAClB;SACF,CAAC,EAAC,CACJ,CAAC;KACH;;;YAtDF,UAAU;;;;YAJF,WAAW;;;;;;;ACFpB,MAkCa,wBAAwB;;;;IAkCnC,YACU,UAAwB;QAAxB,eAAU,GAAV,UAAU,CAAc;;;;QA/BzB,UAAK,GAAG,GAAG,CAAC;;;;QAIZ,aAAQ,GAAG,KAAK,CAAC;;;;QAEjB,iBAAY,GAAG,IAAI,CAAC;;;;QAEpB,eAAU,GAAG,IAAI,CAAC;;;;QAElB,cAAS,GAAG,CAAC,CAAC;;;;QAEd,aAAQ,GAAG,EAAE,CAAC;;;;QAMd,WAAM,GAAQ,EAAE,CAAC;;;;;QAIhB,iBAAY,GAAsB,IAAI,YAAY,EAAO,CAAC;QAC1D,iBAAY,GAAsB,IAAI,YAAY,EAAO,CAAC;QAC1D,UAAK,GAAsB,IAAI,YAAY,EAAO,CAAC;QAE7D,YAAO,GAAU,EAAE,CAAC;;;;QAwBpB,eAAU;;;;QAAG,CAAC,GAAG;;YAEf,OAAOA,IAAE,CAAC;gBACR,UAAU,EAAE,IAAI,EAAE,IAAI,EAAE;oBACtB,MAAM,EAAE,IAAI,CAAC,MAAM;iBACpB;aACF,CAAC,CAAC;SACJ,EAAA;QACD,eAAU;;;;QAAG,CAAC,GAAQ;YACpB,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;YAC5B,OAAOA,IAAE,CAAC,EAAE,WAAW,EAAE,IAAI,EAAE,CAAC,CAAC;SAClC,EAAA;KA7BI;;;;IAEL,QAAQ;QACN,IAAI,CAAC,OAAO,GAAG;YACb,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,8BAA8B,CAAC,EAAE,KAAK,EAAE,MAAM,EAAE,KAAK,EAAE,IAAI,EAAE,WAAW,EAAE,MAAM,GAAG;YACtH,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,8BAA8B,CAAC,EAAE,KAAK,EAAE,MAAM,EAAE,KAAK,EAAE,KAAK,EAAE,WAAW,EAAE,MAAM,GAAG;SACxH,CAAC;;QAEF,IAAI,CAAC,OAAO,GAAG,qDAAqD,CAAC;;QAErE,IAAI,CAAC,MAAM,CAAC,SAAS,GAAG,EAAE,EAAE,EAAE,IAAI,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;KACpD;;;;;IAED,UAAU,CAAC,GAAQ;QACjB,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;KACtB;;;;;IAkBM,QAAQ;QACb,IAAI,CAAC,MAAM,CAAC,UAAU,EAAE,CAAC;KAC1B;;;YAnGF,SAAS,SAAC;gBACT,QAAQ,EAAE,wBAAwB;gBAClC,QAAQ,EAAE;;;;;;;;;;;;;;;;;;;;;;GAsBT;gBAED,SAAS,EAAE,CAAC,EAAE,OAAO,EAAE,eAAe,EAAE,QAAQ,EAAE,sBAAsB,EAAE,CAAC;aAC5E;;;;YA7BQ,YAAY;;;oBAgClB,KAAK;oBAEL,KAAK;yBAEL,KAAK;uBAEL,KAAK;2BAEL,KAAK;yBAEL,KAAK;wBAEL,KAAK;uBAEL,KAAK;yBAEL,KAAK;0BAEL,KAAK;qBAEL,KAAK;2BAIL,MAAM;2BACN,MAAM;oBACN,MAAM;qBAIN,SAAS,SAAC,QAAQ;;;;;;;AClErB,MAwBa,sBAAsB;;;;;;;;;;;IAmGjC,YACU,IAAiB,EAClB,eAAuC,EACtC,IAAuB,EACvB,MAAc,EACF,GAAsB,EACf,QAAgB,EACR,SAAc,EAC7B,UAAwB;QAPpC,SAAI,GAAJ,IAAI,CAAa;QAClB,oBAAe,GAAf,eAAe,CAAwB;QACtC,SAAI,GAAJ,IAAI,CAAmB;QACvB,WAAM,GAAN,MAAM,CAAQ;QACF,QAAG,GAAH,GAAG,CAAmB;QACf,aAAQ,GAAR,QAAQ,CAAQ;QACR,cAAS,GAAT,SAAS,CAAK;QAC7B,eAAU,GAAV,UAAU,CAAc;QAzG9C,QAAG,GAAG,wBAAwB,CAAC;QAC/B,eAAU,GAAG,EAAE,CAAC;QAChB,YAAO,GAAW,MAAM,CAAC;QACzB,iBAAY,GAAG,KAAK,CAAC;QACrB,eAAU,GAAG,sCAAsC,CAAC;QACpD,YAAO,GAAG,EAAE,CAAC;;;;QAKb,4BAAuB,GAA4B,IAAI,uBAAuB,EAAE,CAAC;;;;QAKjF,gCAA2B,GAAoC,EAAE,CAAC;QAGlE,2BAAsB,GAAmC,EAAE,CAAC;QAkD5D,oBAAe,GAAG,KAAK,CAAC;QAExB,UAAK,GAAoC,EAAE,CAAC;QAC5C,UAAK,GAAsB,EAAE,CAAC;QAC9B,gBAAW,GAAsB,EAAE,CAAC;QACpC,cAAS,GAAG,CAAC,CAAC;QACd,aAAQ,GAAG,EAAE,CAAC;QACd,aAAQ,GAAG,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,CAAC,CAAC;QACjC,UAAK,GAAG,CAAC,CAAC;;;;QAKV,YAAO,GAAG;YACR,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,8BAA8B,CAAC,EAAE,KAAK,EAAE,MAAM,EAAE,KAAK,EAAE,GAAG,EAAE;YAC/F,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,8BAA8B,CAAC,EAAE,KAAK,EAAE,MAAM,EAAE,KAAK,EAAE,GAAG,EAAE;SAChG,CAAC;;;;QAKF,0BAAqB,GAAG;YACtB,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,8BAA8B,CAAC,EAAE,KAAK,EAAE,MAAM,EAAE;YAClF,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,iCAAiC,CAAC,EAAE,KAAK,EAAE,SAAS,EAAE;YACxF,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,kCAAkC,CAAC,EAAE,KAAK,EAAE,UAAU,EAAE;SAC3F,CAAC;QACF,sBAAiB,GAAG,IAAI,CAAC,qBAAqB,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC;QAatD,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,IAAI,IAAI,YAAY,CAAC,QAAQ,EAAE,SAAS,CAAC,CAAC;QAC3E,IAAI,CAAC,oBAAoB,EAAE,CAAC;KAC7B;;;;;IAxFD,IACI,0BAA0B,CAAC,UAAmC;QAChE,IAAI,CAAC,OAAO,GAAG,UAAU,CAAC,oBAAoB,CAAC;QAC/C,IAAI,CAAC,uBAAuB,GAAG,UAAU,CAAC;;cACpC,MAAM,GAAG,gDAAgD,GAAG,UAAU,CAAC,kBAAkB;QAC/F,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,SAAS;;;;QAAC,CAAC,EAAO;YACtC,IAAI,CAAC,uBAAuB,GAAG,EAAE,CAAC;YAClC,IAAI,CAAC,eAAe,CAAC,UAAU,GAAG;gBAChC,EAAE,KAAK,EAAE,gBAAgB,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,wCAAwC,CAAC,EAAE;aACvG,CAAC;;YAEF,IAAI,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,uBAAuB,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,KAAK,gBAAgB,EAAE;;sBAC9E,EAAE,GAAG;oBACT,KAAK,EAAE,gBAAgB;oBACvB,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,wCAAwC,CAAC;iBAC1E;gBACD,IAAI,CAAC,eAAe,CAAC,UAAU,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;aAC1C;YACD,KAAK,MAAM,SAAS,IAAI,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,uBAAuB,CAAC,UAAU,CAAC,EAAE;;sBACrE,EAAE,GAAG;oBACT,KAAK,EAAE,SAAS,CAAC,IAAI;oBACrB,IAAI,EAAE,SAAS,CAAC,IAAI;iBACrB;gBACD,IAAI,CAAC,eAAe,CAAC,UAAU,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;aAC1C;SACF,EAAC,CAAC;QACH,IAAI,CAAC,KAAK,GAAG,CAAC,UAAU,CAAC,CAAC;QAC1B,IAAI,UAAU,CAAC,SAAS,EAAE;YACxB,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,aAAa,GAAG,IAAI,CAAC,uBAAuB,CAAC,UAAU,CAAC,SAAS,CAAC,CAAC;YACjF,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC,qBAAqB,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC;YAC7D,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;SACxB;aAAM,IAAI,UAAU,CAAC,aAAa,EAAE;YACnC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,aAAa,GAAG,UAAU,CAAC,aAAa,CAAC;YACvD,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC,qBAAqB,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC;YAC7D,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;SACxB;aAAM;YACL,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC,qBAAqB,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC;SAC9D;QACD,IAAI,UAAU,CAAC,kBAAkB,EAAE;YACjC,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;SAC1B;KACF;;;;IAiDD,QAAQ;KACP;;;;;IAKD,oBAAoB;;cACZ,GAAG,GAAG,+CAA+C;QAC3D,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,SAAS;;;;QAAC,CAAC,EAAO;YACnC,IAAI,CAAC,2BAA2B,GAAG,EAAE,CAAC;YACtC,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,2BAA2B,CAAC,KAAK,CAAC,CAAC,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC;YACtE,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,2BAA2B,CAAC,MAAM,CAAC;SACtD,EAAC,CAAC;KACJ;;;;IAED,OAAO;QACL,IAAI,CAAC,uBAAuB,GAAG,IAAI,uBAAuB,EAAE,CAAC;KAC9D;;;;;;IAGD,iBAAiB,CAAC,IAAS;QACzB,IAAI,IAAI,KAAK,MAAM,EAAE;YACnB,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC;YACtB,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC,qBAAqB,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC;YAC7D,IAAI,CAAC,uBAAuB,CAAC,SAAS,GAAG,IAAI,CAAC;YAC9C,IAAI,CAAC,uBAAuB,CAAC,aAAa,GAAG,IAAI,CAAC;SACnD;aAAM,IAAI,IAAI,KAAK,SAAS,EAAE;YAC7B,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;YACvB,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC,qBAAqB,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC;YAC7D,IAAI,CAAC,uBAAuB,CAAC,QAAQ,GAAG,IAAI,CAAC;YAC7C,IAAI,CAAC,uBAAuB,CAAC,UAAU,GAAG,IAAI,CAAC;YAC/C,IAAI,CAAC,uBAAuB,CAAC,aAAa,GAAG,IAAI,CAAC;SACnD;aAAM;YACL,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;YACvB,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC,qBAAqB,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC;YAC7D,IAAI,CAAC,uBAAuB,CAAC,QAAQ,GAAG,IAAI,CAAC;YAC7C,IAAI,CAAC,uBAAuB,CAAC,UAAU,GAAG,IAAI,CAAC;YAC/C,IAAI,CAAC,uBAAuB,CAAC,SAAS,GAAG,IAAI,CAAC;SAC/C;;QAED,IAAI,CAAC,KAAK,GAAG,EAAE,CAAC;QAChB,IAAI,CAAC,WAAW,GAAG,EAAE,CAAC;KACvB;;;;;;IAKD,eAAe,CAAC,IAAS;QACvB,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;KACnB;;;;;;IAKD,wBAAwB,CAAC,IAAS;KACjC;;;;;;IAKD,WAAW,CAAC,GAAQ;QAClB,IAAI,CAAC,uBAAuB,CAAC,QAAQ,GAAG,GAAG,CAAC,EAAE,CAAC;QAC/C,IAAI,CAAC,uBAAuB,CAAC,UAAU,GAAG,GAAG,CAAC,IAAI,CAAC;KACpD;;;;;IAKD,aAAa;;QAEX,IAAI,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE;YAC3C,KAAK,MAAM,MAAM,IAAI,IAAI,CAAC,eAAe,CAAC,OAAO,EAAE;gBACjD,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,QAAQ,EAAE,MAAM,CAAC,CAAC;aACvC;YACD,IAAI,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,WAAW,IAAI,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC,MAAM,GAAG,CAAC,EAAE;;sBACnG,UAAU,GAAG,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC;gBACjE,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,UAAU,CAAC,IAAI,EAAE,QAAQ,EACnD,UAAU,CAAC,IAAI,EAAE,YAAY,CAAC,UAAU,CAAC,CAAC;aAC7C;SACF;;YACG,OAAO,GAAG,IAAI,KAAK,EAAE;QACzB,OAAO,GAAG,IAAI,CAAC,eAAe,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC;QACnD,IAAI,IAAI,CAAC,eAAe,CAAC,kBAAkB,CAAC,MAAM,GAAG,CAAC,EAAE;YACtD,KAAK,MAAM,QAAQ,IAAI,IAAI,CAAC,eAAe,CAAC,kBAAkB,EAAE;gBAC9D,IAAI,CAAC,OAAO,CAAC,IAAI;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,GAAG,KAAK,QAAQ,CAAC,GAAG,EAAC,EAAE;oBAC9C,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;iBACxB;aACF;SACF;QACD,IAAI,IAAI,CAAC,eAAe,CAAC,wBAAwB,CAAC,MAAM,GAAG,CAAC,EAAE;YAC5D,KAAK,MAAM,QAAQ,IAAI,IAAI,CAAC,eAAe,CAAC,wBAAwB,EAAE;gBACpE,IAAI,CAAC,OAAO,CAAC,IAAI;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,GAAG,KAAK,QAAQ,CAAC,GAAG,EAAC,EAAE;oBAC9C,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;iBACxB;aACF;SACF;QACD,IAAI,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE;YACtB,KAAK,MAAM,CAAC,IAAI,OAAO,EAAE;gBACvB,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;aACzB;SACF;QACD,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,YAAY,CAAC,WAAW,CAAC,CAAC;QACnD,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,uBAAuB,CAAC,SAAS,CAAC,CAAC;QACpE,IAAI,CAAC,IAAI,CAAC,eAAe,EAAE,CAAC,IAAI;;;;QAAC,CAAC,cAAsB;YACtD,IAAI,CAAC,uBAAuB,CAAC,SAAS,GAAG,cAAc,CAAC;;YAExD,IAAG,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE;gBACrB,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,eAAe,GAAG,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,eAAe,CAAC,MAAM;;;;gBAAC,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,GAAG,KAAK,CAAC,CAAC,GAAG,EAAC,EAAC,CAAC;aAC9H;SACF,EAAC,CAAC;KACJ;;;;;IAED,iBAAiB,CAAC,KAAc;;cACxB,KAAK,GAAG,CAAC,IAAI,CAAC,SAAS,GAAG,CAAC,IAAI,IAAI,CAAC,QAAQ;;cAC5C,GAAG,GAAG,KAAK,GAAG,IAAI,CAAC,QAAQ;;YAC7B,KAAK,GAAG,EAAE;QACd,IAAI,KAAK,EAAE;YACT,KAAK,GAAG,IAAI,CAAC,2BAA2B,CAAC,MAAM;;;;YAAC,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,EAAC,CAAC;SAChH;aAAM;YACL,KAAK,GAAG,IAAI,CAAC,2BAA2B,CAAC;SAC1C;QACD,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC,MAAM,CAAC;QAC1B,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC,KAAK,CAAC,KAAK,EAAE,GAAG,CAAC,CAAC;QACrC,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,QAAQ,CAAC,QAAQ,CAAC;YACzC,KAAK,EAAE,IAAI,CAAC,KAAK;YACjB,QAAQ,EAAE,IAAI,CAAC,QAAQ;YACvB,SAAS,EAAE,IAAI,CAAC,SAAS;YACzB,IAAI,EAAE,IAAI,CAAC,KAAK;SACjB,CAAC,CAAC;KACJ;;;;IAED,eAAe;QACb,IAAI,CAAC,MAAM,CAAC,iBAAiB;;;QAAC;YAC5B,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC,gBAAgB,CAC5C,YAAY,EACZ,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,CAC7B,CAAC;YACF,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC,gBAAgB,CAC5C,YAAY,EACZ,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,CAC7B,CAAC;YACF,IAAI,CAAC,WAAW,CAAC,aAAa,CAAC,gBAAgB,CAC7C,YAAY,EACZ,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,CAC7B,CAAC;YACF,IAAI,CAAC,WAAW,CAAC,aAAa,CAAC,gBAAgB,CAC7C,YAAY,EACZ,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,CAC7B,CAAC;SACH,EAAC,CAAC;KACJ;;;;;IACD,YAAY,CAAC,KAAK;QAChB,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;QAC5B,IAAI,IAAI,CAAC,eAAe,EAAE;YACxB,IAAI,CAAC,eAAe,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC;SACnC;KACF;;;;;IACD,YAAY,CAAC,KAAK;QAChB,IAAI,CAAC,eAAe,GAAG,KAAK,CAAC;QAC7B,IAAI,CAAC,eAAe,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC;KACpC;;;;;;;IACO,eAAe,CAAC,KAAU,EAAE,MAAM,GAAG,KAAK;;cAC1C,GAAG,GAAG,MAAM,GAAG,EAAE,GAAG,MAAM;;cAC1B,SAAS,GAAG,KAAK,CAAC,MAAM,CAAC,aAAa,CAAC,oBAAoB,CAAC;QAClE,IAAI,SAAS,EAAE;YACb,SAAS,CAAC,KAAK,CAAC,OAAO,GAAG,GAAG,CAAC;SAC/B;KACF;;;;;IAED,KAAK,CAAC,IAAS;QACb,IAAI,CAAC,uBAAuB,CAAC,QAAQ,GAAG,EAAE,CAAC;QAC3C,IAAI,CAAC,uBAAuB,CAAC,UAAU,GAAG,EAAE,CAAC;KAC9C;;;;IACD,SAAS;QACP,IAAI,CAAC,KAAK,GAAG,EAAE,CAAC;QAChB,IAAI,CAAC,uBAAuB,CAAC,SAAS,GAAG,EAAE,CAAC;QAC5C,IAAI,CAAC,uBAAuB,CAAC,aAAa,GAAG,EAAE,CAAC;KACjD;;;;IACD,QAAQ;QACN,IAAI,CAAC,WAAW,GAAG,EAAE,CAAC;QACtB,IAAI,CAAC,uBAAuB,CAAC,QAAQ,GAAG,EAAE,CAAC;KAC5C;;;;;IAED,SAAS,CAAC,IAAY;QACpB,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC;KACzB;;;;;IAED,WAAW,CAAC,IAAY;QACtB,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC;KACzB;;;;;IACD,YAAY,CAAC,IAAY;;QAEvB,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,YAAY,CAAC,QAAQ,CAAC,CAAC;QAChD,IAAI,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE;YAC3C,KAAK,MAAM,MAAM,IAAI,IAAI,CAAC,eAAe,CAAC,OAAO,EAAE;gBACjD,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,QAAQ,EAAE,MAAM,CAAC,CAAC;aACvC;YACD,IAAI,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,WAAW,IAAI,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC,MAAM,GAAG,CAAC,EAAE;;sBACnG,UAAU,GAAG,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC;gBACjE,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,UAAU,CAAC,IAAI,EAAE,QAAQ,EACnD,UAAU,CAAC,IAAI,EAAE,YAAY,CAAC,UAAU,CAAC,CAAC;aAC7C;SACF;;cACK,OAAO,GAAG,IAAI,KAAK,EAAE;QAC3B,IAAI,IAAI,CAAC,eAAe,CAAC,kBAAkB,CAAC,MAAM,GAAG,CAAC,EAAE;YACtD,KAAK,MAAM,QAAQ,IAAI,IAAI,CAAC,eAAe,CAAC,kBAAkB,EAAE;gBAC9D,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;aACxB;SACF;QACD,IAAI,IAAI,CAAC,eAAe,CAAC,kBAAkB,CAAC,MAAM,GAAG,CAAC,EAAE;YACtD,KAAK,MAAM,QAAQ,IAAI,IAAI,CAAC,eAAe,CAAC,kBAAkB,EAAE;gBAC9D,IAAI,CAAC,OAAO,CAAC,IAAI;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,GAAG,KAAK,QAAQ,CAAC,GAAG,EAAC,EAAE;oBAC9C,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;iBACxB;aACF;SACF;QACD,IAAI,IAAI,CAAC,eAAe,CAAC,sBAAsB,CAAC,MAAM,GAAG,CAAC,EAAE;YAC1D,KAAK,MAAM,QAAQ,IAAI,IAAI,CAAC,eAAe,CAAC,sBAAsB,EAAE;gBAClE,IAAI,CAAC,OAAO,CAAC,IAAI;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,GAAG,KAAK,QAAQ,CAAC,GAAG,EAAC,EAAE;oBAC9C,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;iBACxB;aACF;SACF;QACD,IAAI,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE;YACtB,KAAK,MAAM,CAAC,IAAI,OAAO,EAAE;gBACvB,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;aACzB;SACF;QACD,IAAI,IAAI,KAAK,SAAS,EAAE;YACtB,IAAI,IAAI,CAAC,uBAAuB,CAAC,SAAS,IAAI,IAAI,CAAC,uBAAuB,CAAC,SAAS,CAAC,MAAM,GAAG,CAAC,EAAE;gBAC/F,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,uBAAuB,CAAC,SAAS,CAAC,CAAC;aACrE;iBAAM;gBACL,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,EAAE,CAAC,CAAC;aACjC;SACF;aAAM,IAAI,IAAI,KAAK,KAAK,EAAE;YACzB,IAAI,IAAI,CAAC,uBAAuB,CAAC,QAAQ,IAAI,IAAI,CAAC,uBAAuB,CAAC,QAAQ,CAAC,MAAM,GAAG,CAAC,EAAE;gBAC7F,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,uBAAuB,CAAC,QAAQ,CAAC,CAAC;aACpE;iBAAM;gBACL,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,EAAE,CAAC,CAAC;aACjC;SACF;aAAM;YACL,IAAI,IAAI,CAAC,uBAAuB,CAAC,aAAa,IAAI,IAAI,CAAC,uBAAuB,CAAC,aAAa,CAAC,MAAM,GAAG,CAAC,EAAE;gBACvG,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,uBAAuB,CAAC,aAAa,CAAC,CAAC;aACzE;iBAAM;gBACL,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,EAAE,CAAC,CAAC;aACjC;SACF;QACD,IAAI,CAAC,IAAI,CAAC,eAAe,EAAE,CAAC,IAAI;;;;QAAC,CAAC,cAAsB;YACtD,IAAI,IAAI,KAAK,SAAS,EAAE;;sBAChB,IAAI,GAAG,IAAI,eAAe,CAAC,cAAc,EAAE,EAAE,EAAE,uCAAuC,CAAC;gBAC7F,IAAI,CAAC,GAAG,GAAG,YAAY,CAAC;gBACxB,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,uBAAuB,CAAC,cAAc,CAAC,CAAC;gBAClE,IAAI,CAAC,uBAAuB,CAAC,SAAS,GAAG,IAAI,CAAC,WAAW,CAAC;gBAC1D,IAAI,CAAC,uBAAuB,CAAC,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC;gBAC5C,IAAI,CAAC,uBAAuB,CAAC,aAAa,GAAG,IAAI,CAAC,aAAa,CAAC;gBAChE,IAAI,CAAC,KAAK,GAAG,CAAC,IAAI,CAAC,uBAAuB,CAAC,CAAC;aAC7C;iBAAM,IAAI,IAAI,KAAK,KAAK,EAAE;;sBACnB,IAAI,GAAG,IAAI,eAAe,CAAC,cAAc,EAAE,EAAE,EAAE,uCAAuC,CAAC;gBAC7F,IAAI,CAAC,GAAG,GAAG,YAAY,CAAC;gBACxB,IAAI,CAAC,uBAAuB,CAAC,UAAU,GAAG,cAAc,CAAC;gBACzD,IAAI,CAAC,uBAAuB,CAAC,QAAQ,GAAG,cAAc,CAAC;gBACvD,IAAI,CAAC,WAAW,GAAG,CAAC,IAAI,CAAC,uBAAuB,CAAC,CAAC;aACnD;iBAAM;;sBACC,QAAQ,GAAG,IAAI,eAAe,CAAC,cAAc,EAAE,EAAE,EAAE,uCAAuC,CAAC;gBACjG,QAAQ,CAAC,aAAa,GAAG,cAAc,CAAC;gBACxC,QAAQ,CAAC,GAAG,GAAG,YAAY,CAAC;gBAC5B,IAAI,CAAC,uBAAuB,CAAC,aAAa,GAAG,cAAc,CAAC;gBAC5D,IAAI,CAAC,uBAAuB,CAAC,aAAa,GAAG,QAAQ,CAAC,aAAa,CAAC;gBACpE,IAAI,CAAC,KAAK,GAAG,CAAC,IAAI,CAAC,uBAAuB,CAAC,CAAC;aAC7C;;YAED,IAAG,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE;gBACrB,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,eAAe,GAAG,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,eAAe,CAAC,MAAM;;;;gBAAC,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,GAAG,KAAK,CAAC,CAAC,GAAG,EAAC,EAAC,CAAC;aAC9H;SACF,EAAC,CAAC;KACJ;;;;;;IACO,uBAAuB,CAAC,IAAY;QAC1C,KAAK,MAAM,CAAC,IAAI,IAAI,CAAC,eAAe,CAAC,kBAAkB,EAAE;YACvD,IAAI,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,EAAE;gBAC5B,OAAO,CAAC,CAAC,IAAI,CAAC;aACf;SACF;QACD,KAAK,MAAM,CAAC,IAAI,IAAI,CAAC,eAAe,CAAC,sBAAsB,EAAE;YAC3D,IAAI,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,EAAE;gBAC5B,OAAO,CAAC,CAAC,IAAI,CAAC;aACf;SACF;QACD,OAAO,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,wCAAwC,CAAC,CAAC;KAC5E;;;;IAED,UAAU;QACR,MAAM,CAAC,MAAM,CAAC,+EAA+E,CAAC,CAAC,IAAI;;;QAAC;YAClG,oBAAC,MAAM,IAAS,qBAAqB,CAAC,wBAAwB,CAAC,oBAAoB,EAAE,CAAC,IAAI;;;;YAAC,IAAI;gBAC7F,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;aACxB,EAAC,CAAC;SACJ,EAAC,CAAC;KACJ;;;;;IAED,WAAW,CAAC,IAAI;QACd,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,IAAI,CAAC;QACzB,IAAI,CAAC,uBAAuB,CAAC,kBAAkB,GAAG,IAAI,CAAC,EAAE,CAAC;QAC1D,IAAI,CAAC,uBAAuB,CAAC,oBAAoB,GAAG,IAAI,CAAC,IAAI,CAAC;QAE9D,IAAI,CAAC,sBAAsB,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;QAC1D,IAAI,CAAC,eAAe,CAAC,UAAU,GAAG;YAChC,EAAE,KAAK,EAAE,gBAAgB,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,wCAAwC,CAAC,EAAE;SACvG,CAAC;;QAEF,IAAI,IAAI,CAAC,sBAAsB,CAAC,CAAC,CAAC,CAAC,IAAI,KAAK,gBAAgB,EAAE;;kBACtD,EAAE,GAAG;gBACT,KAAK,EAAE,gBAAgB;gBACvB,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,wCAAwC,CAAC;aAC1E;YACD,IAAI,CAAC,eAAe,CAAC,UAAU,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;SAC1C;QACD,KAAK,MAAM,SAAS,IAAI,IAAI,CAAC,sBAAsB,EAAE;;kBAC7C,EAAE,GAAG;gBACT,KAAK,EAAE,SAAS,CAAC,IAAI;gBACrB,IAAI,EAAE,SAAS,CAAC,IAAI;aACrB;YACD,IAAI,CAAC,eAAe,CAAC,UAAU,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;SAC1C;;QAED,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC,qBAAqB,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC;;QAE7D,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC;QACtB,IAAI,CAAC,uBAAuB,CAAC,SAAS,GAAG,IAAI,CAAC;QAC9C,IAAI,CAAC,uBAAuB,CAAC,aAAa,GAAG,IAAI,CAAC;QAClD,OAAOA,IAAE,CAAC,IAAI,CAAC,CAAC;KACjB;;;;IAED,aAAa;QACX,IAAI,CAAC,uBAAuB,CAAC,IAAI,GAAG,uCAAuC,CAAC;QAC5E,IAAI,CAAC,uBAAuB,CAAC,oBAAoB,GAAG,IAAI,CAAC,iBAAiB,CAAC;QAC3E,OAAO,IAAI,CAAC,uBAAuB,CAAC;KACrC;;;YAxcF,SAAS,SAAC;gBACT,QAAQ,EAAE,oBAAoB;gBAC9B,oiRAA8C;gBAE9C,SAAS,EAAE;oBACR,YAAY;iBACd;;aACF;;;;YAtBQ,WAAW;YAKX,sBAAsB;YACR,iBAAiB;YAPwB,MAAM;YAAS,iBAAiB,uBAgI3F,QAAQ;yCACR,MAAM,SAAC,SAAS;4CAChB,MAAM,SAAC,iBAAiB;YAtHD,YAAY,uBAuHnC,QAAQ;;;kBA1GV,WAAW,SAAC,OAAO;mCAoBnB,SAAS,SAAC,wBAAwB;yCAElC,KAAK;qBA2CL,SAAS,SAAC,mBAAmB;sBAC7B,SAAS,SAAC,0BAA0B;yBACpC,SAAS,SAAC,YAAY;0BACtB,SAAS,SAAC,aAAa;;;;;;;AC3F1B,MAAa,mBAAmB;CAM/B;;;;;;ACRD,MAEa,oBAAqB,SAAQ,eAAe;;;;;;IAEvD,YAAY,EAAW,EAAE,IAAa,EAAE,IAAa;QACnD,KAAK,CAAC,EAAE,EAAC,IAAI,EAAC,IAAI,CAAC,CAAC;KACrB;CAcF;;;;;;ACpBD,MAea,iBAAiB;;;;;;;;;IAqB5B,YACU,cAA+B,EAC/B,QAAkB,EACN,GAAsB,EACf,QAAgB,EACR,SAAc,EAC7B,UAAwB;QALpC,mBAAc,GAAd,cAAc,CAAiB;QAC/B,aAAQ,GAAR,QAAQ,CAAU;QACN,QAAG,GAAH,GAAG,CAAmB;QACf,aAAQ,GAAR,QAAQ,CAAQ;QACR,cAAS,GAAT,SAAS,CAAK;QAC7B,eAAU,GAAV,UAAU,CAAc;QAxB9C,QAAG,GAAG,8BAA8B,CAAC;QAErC,YAAO,GAAG;YACR,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,GAAG,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,+BAA+B,CAAC,EAAE;YAC/F,EAAE,KAAK,EAAE,OAAO,EAAE,KAAK,EAAE,GAAG,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,iCAAiC,CAAC,EAAC;SAAC,CAAC;QAItG,YAAO,GAAG,IAAIO,SAAO,EAAO,CAAC;QAC7B,sBAAiB,GAAG,IAAIA,SAAO,EAAO,CAAC;;;;QAKvC,SAAI,GAAG,IAAI,KAAK,EAAE,CAAC;QAEnB,gBAAW,GAAG,IAAI,KAAK,EAAE,CAAC;QAUxB,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,IAAI,IAAI,YAAY,CAAC,QAAQ,EAAE,SAAS,CAAC,CAAC;KAC3E;;;;IAEF,QAAQ;KAEP;;;;;;IAKD,IAAI,CAAC,UAAU;QACb,IAAI,CAAC,IAAI,GAAG,CAAC,GAAG,UAAU,CAAC,CAAC;KAC7B;;;;;IAKD,SAAS;QACP,IAAI,IAAI,CAAC,WAAW,CAAC,MAAM,KAAK,CAAC,EAAG;YAClC,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,yCAAyC,CAAC,CAAC,CAAC;SACnG;;cACK,UAAU,GAAG,IAAI,CAAC,IAAI,CAAC,MAAM;;;;QAAC,CAAC,IAAI,IAAI,CAAC,WAAW,CAAC,SAAS;;;;QAAC,EAAE,IAAI,EAAE,KAAK,CAAC,CAAC,GAAG,EAAC,GAAG,CAAC,CAAC,EAAC;QAC7F,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;QAC9B,IAAI,CAAC,iBAAiB,CAAC,IAAI,EAAE,CAAC;KAC/B;;;;;IAKD,MAAM;QACJ,IAAI,CAAC,iBAAiB,CAAC,IAAI,EAAE,CAAC;KAC/B;;;YApEF,SAAS,SAAC;gBACT,QAAQ,EAAE,eAAe;gBACzB,2kCAAyC;gBAEzC,SAAS,EAAE;oBACR,YAAY;iBACd;;aACF;;;;YAXQ,eAAe;YAHyC,QAAQ;YAAY,iBAAiB,uBAuCjG,QAAQ;yCACR,MAAM,SAAC,SAAS;4CAChB,MAAM,SAAC,iBAAiB;YArCD,YAAY,uBAsCnC,QAAQ;;;kBAzBV,WAAW,SAAC,OAAO;iBAMnB,SAAS,SAAC,IAAI;qBACd,SAAS,SAAC,SAAS;;;;;;;ACvBtB,MAMa,oBAAoB;;;;IAE/B,YACU,IAAiB;QAAjB,SAAI,GAAJ,IAAI,CAAa;KAE1B;;;;;;IAED,OAAO,CAAC,GAAW,EAAE,MAAqB;QACxC,IAAI,GAAG,CAAC,OAAO,CAAC,cAAc,CAAC,GAAG,CAAC,CAAC,EAAE;;kBAC9B,KAAK,GAAG,MAAM,CAAC,SAAS,IAAI,CAAC;;kBAC7B,IAAI,GAAG,MAAM,CAAC,QAAQ,IAAI,EAAE;;kBAC5B,WAAW,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,WAAW,CAAC;YAClD,IAAI,WAAW,CAAC,WAAW,EAAE;;oBACvB,KAAK,GAAG,GAAG;gBACf,IAAI,WAAW,CAAC,WAAW,EAAE;oBAC3B,IAAI,WAAW,CAAC,WAAW,KAAK,GAAG,EAAE;wBACnC,KAAK,IAAI,qBAAqB,WAAW,CAAC,WAAW,IAAI,CAAC;qBAC3D;yBAAM;wBACL,KAAK,IAAI,IAAI,WAAW,CAAC,WAAW,MAAM,WAAW,CAAC,WAAW,IAAI,CAAC;qBACvE;iBACF;gBACD,IAAI,KAAK,CAAC,MAAM,CAAC,KAAK,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC,CAAC,KAAK,GAAG,EAAE;oBAC7C,KAAK,GAAG,KAAK,CAAC,SAAS,CAAC,CAAC,EAAE,KAAK,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;iBAC9C;gBACD,KAAK,IAAI,GAAG,CAAC;gBACb,KAAK,GAAG,kBAAkB,CAAC,KAAK,CAAC,CAAC;gBAClC,KAAK,IAAI,cAAc,KAAK,aAAa,IAAI,EAAE,CAAC;gBAChD,GAAG,IAAI,eAAe,GAAG,KAAK,CAAC;aAChC;iBAAM;gBACL,GAAG,IAAI,cAAc,KAAK,aAAa,IAAI,EAAE,CAAC;aAC/C;YACD,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,IAAI,CAC5B,GAAG;;;;YAAC,CAAC,EAAO,MAAM;gBAChB,KAAK,EAAE,EAAE,CAAC,OAAO;gBACjB,KAAK,EAAE,EAAE,CAAC,aAAa;gBACvB,QAAQ,EAAE;oBACR,SAAS,EAAE,EAAE,CAAC,QAAQ,CAAC,UAAU,GAAG,CAAC;oBACrC,QAAQ,EAAE,EAAE,CAAC,QAAQ,CAAC,QAAQ;oBAC9B,QAAQ,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,CAAC;oBAC/B,WAAW,EAAE,IAAI;iBAClB;aACF,CAAC,EAAC,CACJ,CAAC;SACH;KACF;;;YA7CF,UAAU;;;;YAJF,WAAW;;;;;;;ACFpB,MA0Ba,wBAAwB;;;;;;;;;;;;;;IAyInC,YACU,IAAiB,EAClB,eAAuC,EACtC,IAAuB,EACvB,YAA4B,EAC5B,QAAkC,EAClC,QAAkB,EAClB,aAAmC,EACvB,GAAsB,EACf,QAAgB,EACR,SAAc,EAC7B,UAAwB;QAVpC,SAAI,GAAJ,IAAI,CAAa;QAClB,oBAAe,GAAf,eAAe,CAAwB;QACtC,SAAI,GAAJ,IAAI,CAAmB;QACvB,iBAAY,GAAZ,YAAY,CAAgB;QAC5B,aAAQ,GAAR,QAAQ,CAA0B;QAClC,aAAQ,GAAR,QAAQ,CAAU;QAClB,kBAAa,GAAb,aAAa,CAAsB;QACvB,QAAG,GAAH,GAAG,CAAmB;QACf,aAAQ,GAAR,QAAQ,CAAQ;QACR,cAAS,GAAT,SAAS,CAAK;QAC7B,eAAU,GAAV,UAAU,CAAc;QAlJ9C,QAAG,GAAG,wBAAwB,CAAC;QAC/B,YAAO,GAAW,MAAM,CAAC;QACzB,iBAAY,GAAG,KAAK,CAAC;QACrB,UAAK,GAA0B,EAAE,CAAC;QAClC,cAAS,GAAG,CAAC,CAAC;QACd,aAAQ,GAAG,EAAE,CAAC;QACd,aAAQ,GAAG,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,CAAC,CAAC;QACjC,UAAK,GAAG,CAAC,CAAC;QACV,eAAU,GAAG,sCAAsC,CAAC;QAIpD,YAAO,GAAG,EAAE,CAAC;;;;QAOb,YAAO,GAAG;YACR,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,gCAAgC,CAAC,EAAE,KAAK,EAAE,MAAM,EAAE,KAAK,EAAE,GAAG,EAAE;YACjG,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,gCAAgC,CAAC,EAAE,KAAK,EAAE,MAAM,EAAE,KAAK,EAAE,GAAG,EAAE;SAClG,CAAC;QACF,UAAK,GAAsB,EAAE,CAAC;QAE9B,uBAAkB,GAAG,EAAE,CAAC;;QACxB,sBAAiB,GAAG,EAAE,CAAC;QAEvB,wBAAmB,GAA0B,EAAE,CAAC;QAChD,uBAAkB,GAAwB,IAAI,mBAAmB,EAAE,CAAC;QACpE,wBAAmB,GAAyB,IAAI,oBAAoB,EAAE,CAAC;QAEvE,oBAAe,GAA4B,EAAE,CAAC;QAC9C,cAAS,GAAG;YACV,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,gCAAgC,CAAC,EAAE,KAAK,EAAE,MAAM,EAAE;SACrF,CAAC;QACF,aAAQ,GAAG;YACT,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,sCAAsC,CAAC,EAAE,KAAK,EAAE,YAAY,EAAE;SACjG,CAAC;QAKF,uBAAkB,GAAG,IAAI,CAAC;QAE1B,uBAAkB,GAAG,IAAI,CAAC;QAE1B,uBAAkB,GAAG,IAAI,CAAC;QAK1B,yBAAoB,GAAG,KAAK,CAAC;QAE7B,yBAAoB,GAAG,KAAK,CAAC;QAE7B,yBAAoB,GAAG,KAAK,CAAC;;;;QAI7B,mBAAc,GAAG,EAAE,CAAC;QACpB,oBAAe,GAAG,EAAE,CAAC;QACrB,mBAAc,GAAG,EAAE,CAAC;QACpB,oBAAe,GAAG,EAAE,CAAC;QACrB,mBAAc,GAAG,EAAE,CAAC;QACpB,oBAAe,GAAG,EAAE,CAAC;QAqIrB,eAAU;;;;QAAG,CAAC,OAAO;;YAEnB,IAAI,CAAC,mBAAmB,GAAG,IAAI,oBAAoB,EAAE,CAAC;YACtD,IAAI,CAAC,iBAAiB,GAAG,EAAE,CAAC;YAC5B,IAAI,CAAC,kBAAkB,GAAG,OAAO,CAAC;YAClC,IAAI,CAAC,mBAAmB,CAAC,WAAW,GAAG,OAAO,CAAC,EAAE,CAAC;YAClD,IAAI,CAAC,mBAAmB,CAAC,aAAa,GAAG,OAAO,CAAC,IAAI,CAAC;YACtD,IAAI,CAAC,SAAS,EAAE,CAAC;YACjB,OAAOP,IAAE,CAAC,IAAI,CAAC,CAAC;SACjB,EAAA;QA8HD,mBAAc;;;;QAAG,CAAC,IAAS;YACzB,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC;YAClB,OAAOA,IAAE,CAAC,EAAE,WAAW,EAAE,IAAI,EAAE,CAAC,CAAC;SAClC,EAAA;QAsID,iBAAY;;;;QAAG,CAAC,CAAC;;kBACT,SAAS,GAAG,CAAC,CAAC,QAAQ;YAC5B,IAAI,SAAS,EAAE;;sBACP,SAAS,GAAG,SAAS,CAAC,IAAI,CAAC,OAAO;gBACxC,SAAS,CAAC,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC;gBAEpD,SAAS,CAAC,YAAY,CAAC,SAAS;;;gBAAC;oBAC/B,SAAS,CAAC,IAAI,CAAC,OAAO,GAAG,SAAS,CAAC;iBACpC,EAAC,CAAC;aAEJ;YACD,OAAOA,IAAE,CAAC,IAAI,CAAC,CAAC;SACjB,EAAA;QA9UC,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,IAAI,IAAI,YAAY,CAAC,QAAQ,EAAE,SAAS,CAAC,CAAC;;KAE5E;;;;;IAnFD,IACI,mBAAmB,CAAC,UAAgC;QACtD,IAAI,CAAC,mBAAmB,GAAG,UAAU,CAAC;;cAChC,GAAG,GAAG,wCAAwC,GAAG,UAAU,CAAC,WAAW;QAC7E,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,SAAS;;;;QAAC,CAAC,EAAO;YACnC,IAAI,CAAC,kBAAkB,GAAG,EAAE,CAAC;YAC7B,IAAI,CAAC,SAAS,EAAE,CAAC;YACjB,IAAI,CAAC,iBAAiB,GAAG,UAAU,CAAC,cAAc,CAAC;SACpD,EAAC,CAAA;QACF,IAAI,UAAU,CAAC,WAAW,EAAE;YAC1B,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;SAC1B;QAED,IAAI,CAAC,IAAI,CAAC,mBAAmB,CAAC,eAAe,EAAE;YAC7C,IAAI,CAAC,UAAU,GAAG,MAAM,CAAC;YACzB,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC;SAChC;aAAM,IAAI,IAAI,CAAC,mBAAmB,CAAC,eAAe,CAAC,MAAM,CAAC,CAAC,CAAC,KAAK,GAAG,EAAE;YACrE,IAAI,CAAC,UAAU,GAAG,MAAM,CAAC;YACzB,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC;SAChC;aAAM;YACL,IAAI,CAAC,UAAU,GAAG,MAAM,CAAC;YACzB,IAAI,CAAC,kBAAkB,GAAG,KAAK,CAAC;SACjC;QAED,IAAI,CAAC,IAAI,CAAC,mBAAmB,CAAC,eAAe,EAAE;YAC7C,IAAI,CAAC,UAAU,GAAG,MAAM,CAAC;YACzB,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC;SAChC;aAAM,IAAI,IAAI,CAAC,mBAAmB,CAAC,eAAe,CAAC,MAAM,CAAC,CAAC,CAAC,KAAK,GAAG,EAAE;YACrE,IAAI,CAAC,UAAU,GAAG,MAAM,CAAC;YACzB,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC;SAChC;aAAM;YACL,IAAI,CAAC,UAAU,GAAG,MAAM,CAAC;YACzB,IAAI,CAAC,kBAAkB,GAAG,KAAK,CAAC;SACjC;QAED,IAAI,CAAC,IAAI,CAAC,mBAAmB,CAAC,eAAe,EAAE;YAC7C,IAAI,CAAC,UAAU,GAAG,MAAM,CAAC;YACzB,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC;SAChC;aAAM,IAAI,IAAI,CAAC,mBAAmB,CAAC,eAAe,CAAC,MAAM,CAAC,CAAC,CAAC,KAAK,GAAG,EAAE;YACrE,IAAI,CAAC,UAAU,GAAG,MAAM,CAAC;YACzB,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC;SAChC;aAAM;YACL,IAAI,CAAC,UAAU,GAAG,MAAM,CAAC;YACzB,IAAI,CAAC,kBAAkB,GAAG,KAAK,CAAC;SACjC;QAED,IAAI,IAAI,CAAC,mBAAmB,CAAC,oBAAoB,KAAK,YAAY,EAAE;YAClE,IAAI,CAAC,iBAAiB,GAAG,YAAY,CAAC;YACtC,IAAI,CAAC,oBAAoB,GAAG,IAAI,CAAC;SAClC;aAAM,IAAI,IAAI,CAAC,mBAAmB,CAAC,oBAAoB,KAAK,YAAY,EAAE;YACzE,IAAI,CAAC,iBAAiB,GAAG,YAAY,CAAC;YACtC,IAAI,CAAC,oBAAoB,GAAG,IAAI,CAAC;SAClC;aAAM,IAAI,IAAI,CAAC,mBAAmB,CAAC,oBAAoB,KAAK,YAAY,EAAE;YACzE,IAAI,CAAC,iBAAiB,GAAG,YAAY,CAAC;YACtC,IAAI,CAAC,oBAAoB,GAAG,IAAI,CAAC;SAClC;QAED,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,mBAAmB,CAAC,mBAAmB,GAAG,IAAI,CAAC,mBAAmB,CAAC,mBAAmB,GAAG,EAAE,CAAC;QACvH,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,mBAAmB,CAAC,eAAe,GAAG,IAAI,CAAC,mBAAmB,CAAC,eAAe,GAAG,EAAE,CAAC;QAChH,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,mBAAmB,CAAC,mBAAmB,GAAG,IAAI,CAAC,mBAAmB,CAAC,mBAAmB,GAAG,EAAE,CAAC;QACvH,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,mBAAmB,CAAC,eAAe,GAAG,IAAI,CAAC,mBAAmB,CAAC,eAAe,GAAG,EAAE,CAAC;QAChH,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,mBAAmB,CAAC,mBAAmB,GAAG,IAAI,CAAC,mBAAmB,CAAC,mBAAmB,GAAG,EAAE,CAAC;QACvH,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,mBAAmB,CAAC,eAAe,GAAG,IAAI,CAAC,mBAAmB,CAAC,eAAe,GAAG,EAAE,CAAC;KACjH;;;;IAsBD,QAAQ;;YACF,QAAQ,GAAG,EAAE;QACjB,IAAI;YACF,QAAQ,GAAG,oBAAC,MAAM,IAAS,mBAAmB,CAAC,MAAM,CAAC,WAAW,CAAC,GAAG,EAAE,CAAC;SACzE;QAAC,OAAO,KAAK,EAAE;SACf;QACD,IAAI,CAAC,OAAO,GAAG,QAAQ,GAAG,oDAAoD,CAAC;KAChF;;;;;IAKD,iBAAiB;;cACT,GAAG,GAAG,uCAAuC;QACnD,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,SAAS;;;;QAAC,CAAC,EAAO;YACnC,IAAI,CAAC,mBAAmB,GAAG,EAAE,CAAC;YAC9B,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC,CAAC,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC;YAC9D,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,mBAAmB,CAAC,MAAM,CAAC;SAC9C,EAAC,CAAC;KACJ;;;;;IAEO,SAAS;QACf,IAAI,CAAC,eAAe,GAAG,EAAE,CAAC;QAC1B,IAAI,CAAC,kBAAkB,GAAG,EAAE,CAAC;;QAE7B,IAAI,CAAC,kBAAkB,CAAC,cAAc,CAAC,IAAI;;;;;QAAC,CAAC,CAAC,EAAE,CAAC;YAC/C,OAAO,CAAC,CAAC,SAAS,GAAG,CAAC,CAAC,SAAS,CAAC;SAClC,EAAC,CAAC;;QAEH,KAAK,MAAM,SAAS,IAAI,IAAI,CAAC,kBAAkB,CAAC,cAAc,EAAE;YAC9D,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;SACtC;;QAED,IAAI,CAAC,kBAAkB,CAAC,SAAS,CAAC,IAAI;;;;;QAAC,CAAC,CAAC,EAAE,CAAC;YAC1C,OAAO,CAAC,CAAC,SAAS,GAAG,CAAC,CAAC,SAAS,CAAC;SAClC,EAAC,CAAC;;QAEH,KAAK,MAAM,IAAI,IAAI,IAAI,CAAC,kBAAkB,CAAC,SAAS,EAAE;;kBAC9C,IAAI,GAAG;gBACX,IAAI,EAAE,IAAI,CAAC,KAAK;gBAChB,KAAK,EAAE,IAAI,CAAC,KAAK;aAClB;YACD,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;SACpC;KACF;;;;IAaD,OAAO;QACL,IAAI,CAAC,mBAAmB,GAAG,IAAI,oBAAoB,EAAE,CAAC;KACvD;;;;;IAKD,aAAa;;QAEX,IAAI,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE;YAC3C,KAAK,MAAM,MAAM,IAAI,IAAI,CAAC,eAAe,CAAC,OAAO,EAAE;gBACjD,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,QAAQ,EAAE,MAAM,CAAC,CAAC;aACvC;YACD,IAAI,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,WAAW,IAAI,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC,MAAM,GAAG,CAAC,EAAE;;sBACnG,UAAU,GAAG,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC;gBACjE,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,UAAU,CAAC,IAAI,EAAE,QAAQ,EACnD,UAAU,CAAC,IAAI,EAAE,YAAY,CAAC,UAAU,CAAC,CAAC;aAC7C;SACF;;YACG,OAAO,GAAG,IAAI,KAAK,EAAE;QACzB,OAAO,GAAG,IAAI,CAAC,eAAe,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC;QACnD,IAAI,IAAI,CAAC,eAAe,CAAC,kBAAkB,CAAC,MAAM,GAAG,CAAC,EAAE;YACtD,KAAK,MAAM,QAAQ,IAAI,IAAI,CAAC,eAAe,CAAC,kBAAkB,EAAE;gBAC9D,IAAI,CAAC,OAAO,CAAC,IAAI;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,GAAG,KAAK,QAAQ,CAAC,GAAG,EAAC,EAAE;oBAC9C,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;iBACxB;aACF;SACF;QACD,IAAI,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE;YACtB,KAAK,MAAM,CAAC,IAAI,OAAO,EAAE;gBACvB,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;aACzB;SACF;QACD,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,YAAY,CAAC,WAAW,CAAC,CAAC;QACnD,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,mBAAmB,CAAC,SAAS,CAAC,CAAC;QAChE,IAAI,CAAC,IAAI,CAAC,eAAe,EAAE,CAAC,IAAI;;;;QAAC,CAAC,cAAsB;YACtD,IAAI,CAAC,mBAAmB,CAAC,SAAS,GAAG,cAAc,CAAC;;YAEpD,IAAG,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE;gBACrB,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,eAAe,GAAG,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,eAAe,CAAC,MAAM;;;;gBAAC,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,GAAG,KAAK,CAAC,CAAC,GAAG,EAAC,EAAC,CAAC;aAC9H;SACF,EAAC,CAAC;KACJ;;;;;;;IAED,YAAY,CAAC,IAAI,EAAE,KAAK,EAAE,EAAE;QAC1B,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;QACnB,IAAI,CAAC,OAAO,GAAG,EAAE,CAAC;QAClB,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,kBAAkB,CAAC,cAAc,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,SAAS,CAAC;QAC3E,IAAI,CAAC,MAAM,CAAC,OAAO,EAAE,CAAC;QACtB,IAAI,CAAC,MAAM,CAAC,UAAU,EAAE,CAAC;KAC1B;;;;;;IAED,aAAa,CAAC,KAAK,EAAE,EAAE;QACrB,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;QACnB,IAAI,CAAC,OAAO,GAAG,EAAE,CAAC;QAClB,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,kBAAkB,CAAC,cAAc,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC;KAC5F;;;;;;IAEO,YAAY,CAAC,QAAe;;cAC5B,WAAW,GAAG,IAAI,CAAC,QAAQ,CAAC,uBAAuB,CAAC,iBAAiB,CAAC;;cACtE,OAAO,GAAG,WAAW,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC;;cAC3C,WAAW,GAAG;YAClB,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,yCAAyC,CAAC;YAC3E,KAAK,EAAE,GAAG;YACV,MAAM,EAAE,GAAG;YACX,WAAW,EAAE,IAAI;YACjB,OAAO,EAAE,OAAO,CAAC,QAAQ,CAAC,MAAM;SACjC;QACD,IAAI,QAAQ,IAAI,QAAQ,CAAC,MAAM,GAAG,CAAC,EAAE;YACnC,OAAO,CAAC,QAAQ,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;SACjC;QACD,OAAO,CAAC,QAAQ,CAAC,OAAO,CAAC,SAAS;;;;QAAC,CAAC,EAAS;YAC3C,IAAI,IAAI,CAAC,KAAK,KAAK,CAAC,EAAE;gBACpB,IAAI,CAAC,cAAc,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC;gBAClC,IAAI,CAAC,eAAe,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC;aACpC;iBAAM,IAAI,IAAI,CAAC,KAAK,KAAK,CAAC,EAAE;gBAC3B,IAAI,CAAC,cAAc,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC;gBAClC,IAAI,CAAC,eAAe,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC;aACpC;iBAAM,IAAI,IAAI,CAAC,KAAK,KAAK,CAAC,EAAE;gBAC3B,IAAI,CAAC,cAAc,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC;gBAClC,IAAI,CAAC,eAAe,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC;aACpC;SACF,EAAC,CAAC;;cACG,MAAM,GAAG,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,OAAO,EAAE,WAAW,CAAC;QAC3D,OAAO,CAAC,QAAQ,CAAC,iBAAiB,CAAC,SAAS;;;QAAC;YAC3C,MAAM,CAAC,KAAK,EAAE,CAAC;SAChB,EAAC,CAAC;KACJ;;;;;IAED,eAAe,CAAC,IAAI;QAClB,IAAI,CAAC,mBAAmB,CAAC,cAAc,GAAG,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC;KAC3D;;;;;IAED,mBAAmB,CAAC,IAAI;QACtB,IAAI,IAAI,CAAC,KAAK,KAAK,CAAC,EAAE;YACpB,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,IAAI,CAAC;YAChC,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,EAAE,CAAC;SAChC;aAAM,IAAI,IAAI,CAAC,KAAK,KAAK,CAAC,EAAE;YAC3B,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,IAAI,CAAC;YAChC,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,EAAE,CAAC;SAChC;aAAM,IAAI,IAAI,CAAC,KAAK,KAAK,CAAC,EAAE;YAC3B,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,IAAI,CAAC;YAChC,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,EAAE,CAAC;SAChC;KACF;;;;IAED,aAAa;QACX,IAAI,CAAC,mBAAmB,CAAC,IAAI,GAAG,gCAAgC,CAAC;QACjE,IAAI,CAAC,mBAAmB,CAAC,mBAAmB,GAAG,IAAI,CAAC,cAAc,CAAC;QACnE,IAAI,CAAC,mBAAmB,CAAC,eAAe,GAAG,IAAI,CAAC,cAAc,KAAK,EAAE,GAAG,EAAE,GAAG,IAAI,CAAC,eAAe,CAAC;QAClG,IAAI,CAAC,mBAAmB,CAAC,mBAAmB,GAAG,IAAI,CAAC,cAAc,CAAC;QACnE,IAAI,CAAC,mBAAmB,CAAC,eAAe,GAAG,IAAI,CAAC,cAAc,KAAK,EAAE,GAAG,EAAE,GAAG,IAAI,CAAC,eAAe,CAAC;QAClG,IAAI,CAAC,mBAAmB,CAAC,mBAAmB,GAAG,IAAI,CAAC,cAAc,CAAC;QACnE,IAAI,CAAC,mBAAmB,CAAC,eAAe,GAAG,IAAI,CAAC,cAAc,KAAK,EAAE,GAAG,EAAE,GAAG,IAAI,CAAC,eAAe,CAAC;QAClG,IAAI,IAAI,CAAC,oBAAoB,EAAE;YAC7B,IAAI,CAAC,mBAAmB,CAAC,oBAAoB,GAAG,YAAY,CAAC;SAC9D;aAAM,IAAI,IAAI,CAAC,oBAAoB,EAAE;YACpC,IAAI,CAAC,mBAAmB,CAAC,oBAAoB,GAAG,YAAY,CAAC;SAC9D;aAAM,IAAI,IAAI,CAAC,oBAAoB,EAAE;YACpC,IAAI,CAAC,mBAAmB,CAAC,oBAAoB,GAAG,YAAY,CAAC;SAC9D;QACD,OAAO,IAAI,CAAC,mBAAmB,CAAC;KACjC;;;;;;IAWD,YAAY,CAAC,IAAY;;QAEvB,IAAI,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE;YAC3C,KAAK,MAAM,MAAM,IAAI,IAAI,CAAC,eAAe,CAAC,OAAO,EAAE;;gBAEjD,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,QAAQ,EAAE,MAAM,CAAC,CAAC;aACvC;YACD,IAAI,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,WAAW,IAAI,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC,MAAM,GAAG,CAAC,EAAE;;sBACnG,UAAU,GAAG,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC;gBACjE,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,UAAU,CAAC,IAAI,EAAE,QAAQ,EACnD,UAAU,CAAC,IAAI,EAAE,YAAY,CAAC,UAAU,CAAC,CAAC;aAC7C;SACF;;cACK,OAAO,GAAG,IAAI,KAAK,EAAE;QAC3B,IAAI,IAAI,CAAC,eAAe,CAAC,kBAAkB,CAAC,MAAM,GAAG,CAAC,EAAE;YACtD,KAAK,MAAM,QAAQ,IAAI,IAAI,CAAC,eAAe,CAAC,kBAAkB,EAAE;gBAC9D,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;;aAExB;SACF;QACD,IAAI,IAAI,CAAC,eAAe,CAAC,sBAAsB,CAAC,MAAM,GAAG,CAAC,EAAE;YAC1D,KAAK,MAAM,QAAQ,IAAI,IAAI,CAAC,eAAe,CAAC,sBAAsB,EAAE;gBAClE,IAAI,CAAC,OAAO,CAAC,IAAI;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,GAAG,KAAK,QAAQ,CAAC,GAAG,EAAC,EAAE;oBAC9C,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;iBACxB;;aAEF;SACF;QACD,IAAI,IAAI,CAAC,eAAe,CAAC,kBAAkB,CAAC,MAAM,GAAG,CAAC,EAAE;YACtD,KAAK,MAAM,QAAQ,IAAI,IAAI,CAAC,eAAe,CAAC,kBAAkB,EAAE;gBAC9D,IAAI,CAAC,OAAO,CAAC,IAAI;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,GAAG,KAAK,QAAQ,CAAC,GAAG,EAAC,EAAE;oBAC9C,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;iBACxB;aACF;SACF;QACD,IAAI,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE;YACtB,KAAK,MAAM,CAAC,IAAI,OAAO,EAAE;gBACvB,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;aACzB;SACF;QACD,IAAI,IAAI,KAAK,YAAY,EAAE;YACzB,IAAI,IAAI,CAAC,mBAAmB,CAAC,eAAe,EAAE;gBAC5C,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,mBAAmB,CAAC,eAAe,CAAC,CAAC;aACvE;iBAAM;gBACL,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,EAAE,CAAC,CAAC;aACjC;SACF;aAAM,IAAI,IAAI,KAAK,YAAY,EAAE;YAChC,IAAI,IAAI,CAAC,mBAAmB,CAAC,eAAe,EAAE;gBAC5C,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,mBAAmB,CAAC,eAAe,CAAC,CAAC;aACvE;iBAAM;gBACL,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,EAAE,CAAC,CAAC;aACjC;SACF;aAAM,IAAI,IAAI,KAAK,YAAY,EAAE;YAChC,IAAI,IAAI,CAAC,mBAAmB,CAAC,eAAe,EAAE;gBAC5C,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,mBAAmB,CAAC,eAAe,CAAC,CAAC;aACvE;iBAAM;gBACL,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,EAAE,CAAC,CAAC;aACjC;SACF;QACD,IAAI,CAAC,IAAI,CAAC,eAAe,EAAE,CAAC,IAAI;;;;QAAC,CAAC,cAAsB;YACtD,IAAI,IAAI,KAAK,YAAY,EAAE;gBACzB,IAAI,CAAC,cAAc,GAAG,cAAc,CAAC;gBACrC,IAAI,CAAC,eAAe,GAAG,cAAc,CAAC;aACvC;iBAAM,IAAI,IAAI,KAAK,YAAY,EAAE;gBAChC,IAAI,CAAC,cAAc,GAAG,cAAc,CAAC;gBACrC,IAAI,CAAC,eAAe,GAAG,cAAc,CAAC;aACvC;iBAAM;gBACL,IAAI,CAAC,cAAc,GAAG,cAAc,CAAC;gBACrC,IAAI,CAAC,eAAe,GAAG,cAAc,CAAC;aACvC;;YAED,IAAG,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE;gBACrB,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,eAAe,GAAG,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,eAAe,CAAC,MAAM;;;;gBAAC,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,GAAG,KAAK,CAAC,CAAC,GAAG,EAAC,EAAC,CAAC;aAC9H;SACF,EAAC,CAAC;KACJ;;;;;IACD,cAAc,CAAC,IAAI;QACjB,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC;KACzB;;;;IACD,mBAAmB;QACjB,IAAI,CAAC,kBAAkB,GAAG,CAAC,IAAI,CAAC,kBAAkB,CAAC;QACnD,IAAI,CAAC,oBAAoB,GAAG,KAAK,CAAC;QAClC,IAAI,CAAC,iBAAiB,GAAG,EAAE,CAAC;QAC5B,IAAI,CAAC,cAAc,GAAG,EAAE,CAAC;QACzB,IAAI,CAAC,eAAe,GAAG,EAAE,CAAC;KAC3B;;;;IACD,kBAAkB;QAChB,IAAI,CAAC,iBAAiB,GAAG,EAAE,CAAC;QAC5B,IAAI,CAAC,iBAAiB,GAAG,EAAE,CAAC;QAC5B,IAAI,CAAC,oBAAoB,GAAG,KAAK,CAAC;QAClC,IAAI,CAAC,oBAAoB,GAAG,KAAK,CAAC;QAClC,IAAI,CAAC,oBAAoB,GAAG,CAAC,IAAI,CAAC,oBAAoB,CAAC;KACxD;;;;;IACD,cAAc,CAAC,IAAI;QACjB,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC;KACzB;;;;IACD,mBAAmB;QACjB,IAAI,CAAC,kBAAkB,GAAG,CAAC,IAAI,CAAC,kBAAkB,CAAC;QACnD,IAAI,CAAC,oBAAoB,GAAG,KAAK,CAAC;QAClC,IAAI,CAAC,iBAAiB,GAAG,EAAE,CAAC;QAC5B,IAAI,CAAC,cAAc,GAAG,EAAE,CAAC;QACzB,IAAI,CAAC,eAAe,GAAG,EAAE,CAAC;KAC3B;;;;IACD,kBAAkB;QAChB,IAAI,CAAC,iBAAiB,GAAG,EAAE,CAAC;QAC5B,IAAI,CAAC,iBAAiB,GAAG,EAAE,CAAC;QAC5B,IAAI,CAAC,oBAAoB,GAAG,KAAK,CAAC;QAClC,IAAI,CAAC,oBAAoB,GAAG,KAAK,CAAC;QAClC,IAAI,CAAC,oBAAoB,GAAG,CAAC,IAAI,CAAC,oBAAoB,CAAC;KACxD;;;;;IACD,cAAc,CAAC,IAAI;QACjB,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC;KACzB;;;;IACD,mBAAmB;QACjB,IAAI,CAAC,kBAAkB,GAAG,CAAC,IAAI,CAAC,kBAAkB,CAAC;QACnD,IAAI,CAAC,oBAAoB,GAAG,KAAK,CAAC;QAClC,IAAI,CAAC,iBAAiB,GAAG,EAAE,CAAC;QAC5B,IAAI,CAAC,cAAc,GAAG,EAAE,CAAC;QACzB,IAAI,CAAC,eAAe,GAAG,EAAE,CAAC;KAC3B;;;;IACD,kBAAkB;QAChB,IAAI,CAAC,iBAAiB,GAAG,EAAE,CAAC;QAC5B,IAAI,CAAC,iBAAiB,GAAG,EAAE,CAAC;QAC5B,IAAI,CAAC,oBAAoB,GAAG,KAAK,CAAC;QAClC,IAAI,CAAC,oBAAoB,GAAG,KAAK,CAAC;QAClC,IAAI,CAAC,oBAAoB,GAAG,CAAC,IAAI,CAAC,oBAAoB,CAAC;KACxD;;;YA/dF,SAAS,SAAC;gBACT,QAAQ,EAAE,sBAAsB;gBAChC,uvYAAgD;gBAEhD,SAAS,EAAE;oBACT,EAAE,OAAO,EAAE,eAAe,EAAE,QAAQ,EAAE,iBAAiB,EAAE;oBACxD,YAAY;iBACd;;aACF;;;;YAtBQ,WAAW;YAGX,sBAAsB;YADR,iBAAiB;YAG/B,cAAc;YARgB,wBAAwB;YAAuB,QAAQ;YAYrF,oBAAoB;YAZpB,iBAAiB,uBA2KrB,QAAQ;yCACR,MAAM,SAAC,SAAS;4CAChB,MAAM,SAAC,iBAAiB;YA/JD,YAAY,uBAgKnC,QAAQ;;;kBAnJV,WAAW,SAAC,OAAO;kCAoEnB,KAAK;qBAkEL,SAAS,SAAC,QAAQ;;;;;;;ACjKrB,MAEa,2BAA4B,SAAQ,eAAe;;;;;;IAE9D,YAAY,EAAW,EAAE,IAAa,EAAE,IAAa;QACnD,KAAK,CAAC,EAAE,EAAC,IAAI,EAAC,IAAI,CAAC,CAAC;KACrB;CAIF;;;;;;ACVD,MAiBa,kCAAkC;;;;;;;;;;IAe7C,YACU,MAAc,EACf,eAAuC,EACtC,IAAuB,EACX,GAAsB,EACf,QAAgB,EACR,SAAc,EAC7B,UAAwB;QANpC,WAAM,GAAN,MAAM,CAAQ;QACf,oBAAe,GAAf,eAAe,CAAwB;QACtC,SAAI,GAAJ,IAAI,CAAmB;QACX,QAAG,GAAH,GAAG,CAAmB;QACf,aAAQ,GAAR,QAAQ,CAAQ;QACR,cAAS,GAAT,SAAS,CAAK;QAC7B,eAAU,GAAV,UAAU,CAAc;QApB9C,QAAG,GAAG,wBAAwB,CAAC;QAC/B,oBAAe,GAAG,KAAK,CAAC;QACxB,sBAAiB,GAAkC,EAAE,CAAC;QAEtD,SAAI,GAAG;YACL,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,iCAAiC,CAAC,EAAE,KAAK,EAAE,MAAM,EAAE,KAAK,EAAE,EAAE,EAAE;YACjG,EAAE,KAAK,EAAE,IAAI,EAAE,KAAK,EAAE,IAAI,EAAE,KAAK,EAAE,EAAE,EAAE;SACxC,CAAC;QAeA,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,IAAI,IAAI,YAAY,CAAC,QAAQ,EAAE,SAAS,CAAC,CAAC;KAC3E;;;;IAEF,QAAQ;KACP;;;;IAED,eAAe;QACb,IAAI,CAAC,MAAM,CAAC,iBAAiB;;;QAAC;YAC5B,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC,gBAAgB,CAC5C,YAAY,EACZ,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,CAC7B,CAAC;YACF,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC,gBAAgB,CAC5C,YAAY,EACZ,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,CAC7B,CAAC;SACH,EAAC,CAAC;KACJ;;;;;IAED,YAAY,CAAC,KAAK;QAChB,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;QAC5B,IAAI,IAAI,CAAC,eAAe,EAAE;YACxB,IAAI,CAAC,eAAe,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC;SACnC;KACF;;;;;IACD,YAAY,CAAC,KAAK;QAChB,IAAI,CAAC,eAAe,GAAG,KAAK,CAAC;QAC7B,IAAI,CAAC,eAAe,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC;KACpC;;;;;;;IACO,eAAe,CAAC,KAAU,EAAE,MAAM,GAAG,KAAK;;cAC1C,GAAG,GAAG,MAAM,GAAG,EAAE,GAAG,MAAM;;cAC1B,SAAS,GAAG,KAAK,CAAC,MAAM,CAAC,aAAa,CAAC,oBAAoB,CAAC;QAClE,IAAI,SAAS,EAAE;YACb,SAAS,CAAC,KAAK,CAAC,OAAO,GAAG,GAAG,CAAC;SAC/B;KACF;;;;;IACD,KAAK,CAAC,IAAS;QACb,IAAI,CAAC,iBAAiB,GAAG,EAAE,CAAC;KAC7B;;;;;IACD,WAAW,CAAC,IAAS;;;cAEb,YAAY,GAAG,EAAE;QACvB,IAAG,IAAI,CAAC,iBAAiB,IAAI,IAAI,CAAC,iBAAiB,CAAC,MAAM,GAAG,CAAC,EAAC;YAC7D,KAAI,MAAM,OAAO,IAAI,IAAI,CAAC,iBAAiB,EAAE;;sBACrC,IAAI,GAAG;oBACX,IAAI,EAAE;wBACJ,EAAE,EAAE,OAAO,CAAC,aAAa;wBACzB,IAAI,EAAE,OAAO,CAAC,eAAe;qBAC9B;oBACD,EAAE,EAAE,OAAO,CAAC,aAAa;iBAC1B;gBACD,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;aACzB;SACF;QACD,IAAI,CAAC,gBAAgB,CAAC,mBAAmB,CAAC,YAAY,CAAC,CAAC;QACxD,IAAI,CAAC,iBAAiB,CAAC,IAAI,EAAE,CAAC;KAC/B;;;;IACD,YAAY;;QAEV,IAAI,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE;YAC3C,KAAK,MAAM,MAAM,IAAI,IAAI,CAAC,eAAe,CAAC,OAAO,EAAE;gBACjD,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,QAAQ,EAAE,MAAM,CAAC,CAAC;aACvC;YACD,IAAI,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,WAAW,IAAI,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC,MAAM,GAAG,CAAC,EAAE;;sBACnG,UAAU,GAAG,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC;gBACjE,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,UAAU,CAAC,IAAI,EAAE,QAAQ,EACnD,UAAU,CAAC,IAAI,EAAE,YAAY,CAAC,UAAU,CAAC,CAAC;aAC7C;SACF;;YACG,OAAO,GAAG,IAAI,KAAK,EAAE;QACzB,OAAO,GAAG,IAAI,CAAC,eAAe,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC;QACnD,IAAI,IAAI,CAAC,eAAe,CAAC,kBAAkB,CAAC,MAAM,GAAG,CAAC,EAAE;YACtD,KAAK,MAAM,QAAQ,IAAI,IAAI,CAAC,eAAe,CAAC,kBAAkB,EAAE;gBAC9D,IAAI,CAAC,OAAO,CAAC,IAAI;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,GAAG,KAAK,QAAQ,CAAC,GAAG,EAAC,EAAE;oBAC9C,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;iBACxB;aACF;SACF;QACD,IAAI,IAAI,CAAC,eAAe,CAAC,wBAAwB,CAAC,MAAM,GAAG,CAAC,EAAE;YAC5D,KAAK,MAAM,QAAQ,IAAI,IAAI,CAAC,eAAe,CAAC,wBAAwB,EAAE;gBACpE,IAAI,CAAC,OAAO,CAAC,IAAI;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,GAAG,KAAK,QAAQ,CAAC,GAAG,EAAC,EAAE;oBAC9C,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;iBACxB;aACF;SACF;QACD,IAAI,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE;YACtB,KAAK,MAAM,CAAC,IAAI,OAAO,EAAE;gBACvB,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;aACzB;SACF;QACD,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,YAAY,CAAC,WAAW,CAAC,CAAC;QACnD,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;QAC5C,IAAI,CAAC,IAAI,CAAC,eAAe,EAAE,CAAC,IAAI;;;;QAAC,CAAC,cAAsB;YACtD,IAAI,CAAC,SAAS,GAAG,cAAc,CAAC;;YAEhC,IAAG,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE;gBACrB,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,eAAe,GAAG,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,eAAe,CAAC,MAAM;;;;gBAAC,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,GAAG,KAAK,CAAC,CAAC,GAAG,EAAC,EAAC,CAAC;aAC9H;SACF,EAAC,CAAC;KACJ;;;;IAED,gBAAgB;;cACR,kBAAkB,GAAG,IAAI,CAAC,gBAAgB,CAAC,QAAQ;QACzD,IAAI,CAAC,iBAAiB,GAAG,kBAAkB,CAAC,GAAG;;;;QAAC,QAAQ;;kBAChD,OAAO,GAAG,IAAI,2BAA2B,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE,EAAE,QAAQ,CAAC,IAAI,CAAC,IAAI,EAAE,0CAA0C,CAAC;YACjI,OAAO,CAAC,aAAa,GAAG,GAAG,GAAG,QAAQ,CAAC,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,yCAAyC,CAAC,CAAC;YACxH,OAAO,CAAC,aAAa,GAAG,QAAQ,CAAC,IAAI,CAAC,EAAE,CAAC;YACzC,OAAO,CAAC,eAAe,GAAG,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC;YAC7C,OAAO,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC;YACnC,OAAO,OAAO,CAAC;SAChB,EAAC,CAAC;QACH,IAAI,CAAC,iBAAiB,CAAC,KAAK,EAAE,CAAC;KAChC;;;;IACD,aAAa;QACX,IAAI,CAAC,iBAAiB,CAAC,GAAG;;;;QAAC,CAAC,IAAI,CAAC,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,EAAC,CAAC;QAC9D,OAAO,IAAI,CAAC,iBAAiB,CAAC;KAC/B;;;YApJF,SAAS,SAAC;gBACT,QAAQ,EAAE,gCAAgC;gBAC1C,0oIAA2D;gBAE3D,SAAS,EAAE;oBACR,YAAY;iBACd;;aACF;;;;YAhB0B,MAAM;YAIzB,sBAAsB;YADR,iBAAiB;YAHgC,iBAAiB,uBAoCnF,QAAQ;yCACR,MAAM,SAAC,SAAS;4CAChB,MAAM,SAAC,iBAAiB;YAhCD,YAAY,uBAiCnC,QAAQ;;;kBArBV,WAAW,SAAC,OAAO;yBAUnB,SAAS,SAAC,YAAY;gCACtB,SAAS,SAAC,mBAAmB;+BAC7B,SAAS,SAAC,kBAAkB;;;;;;;AC9B/B,MAAaQ,mCAAiC;CAY7C;;;;;;IAMG,YAAa,YAAY;;;;IAIzB,UAAW,UAAU;;;;IAIrB,cAAe,cAAc;;;;IAI7B,eAAgB,eAAe;;;;IAI/B,QAAS,QAAQ;;;;;;;IAMjB,YAAa,YAAY;;;;IAIzB,MAAO,MAAM;;;;IAIb,SAAU,SAAS;IAEnB,iBAAkB,iBAAiB;;;;;;;AClDvC,MAEa,uBAAwB,SAAQ,eAAe;;;;;;IAM1D,YAAY,EAAW,EAAE,IAAa,EAAE,IAAa;QACnD,KAAK,CAAC,EAAE,EAAC,IAAI,EAAC,IAAI,CAAC,CAAC;KACrB;CACF;;;;;;ACXD,MAkBa,0BAA0B;;;;;;;;;;;;IAsBrC,YACU,eAAuC,EACvC,IAAuB,EACvB,MAAc,EACF,GAAsB,EACf,QAAgB,EACR,SAAc,EAC7B,UAAwB,EACpC,IAAkB,EAClB,OAAyB;QARzB,oBAAe,GAAf,eAAe,CAAwB;QACvC,SAAI,GAAJ,IAAI,CAAmB;QACvB,WAAM,GAAN,MAAM,CAAQ;QACF,QAAG,GAAH,GAAG,CAAmB;QACf,aAAQ,GAAR,QAAQ,CAAQ;QACR,cAAS,GAAT,SAAS,CAAK;QAC7B,eAAU,GAAV,UAAU,CAAc;QACpC,SAAI,GAAJ,IAAI,CAAc;QAClB,YAAO,GAAP,OAAO,CAAkB;QA7BnC,QAAG,GAAG,wBAAwB,CAAC;QAE/B,oBAAe,GAAG,KAAK,CAAC;QACxB,cAAS,GAAG,IAAI,CAAC;QACjB,gBAAW,GAAkB,EAAE,CAAC;QAChC,iBAAY,GAAsC,EAAE,CAAC;QACrD,qBAAgB,GAAG;YACjB,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,iCAAiC,CAAC,EAAE,KAAK,EAAE,KAAK,EAAE;YACpF,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,kDAAkD,CAAC,EAAE,KAAK,EAAE,sBAAsB,EAAE;SACvH,CAAC;QACF,2BAAsB,GAAG,KAAK,CAAC;QAC/B,+BAA0B,GAAG;YAC3B,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,qCAAqC,CAAC,EAAE,KAAK,EAAE,SAAS,EAAE;SAC7F,CAAC;QACF,eAAU,GAAG,IAAI,CAAC,gBAAgB,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC;QAC5C,qBAAgB,GAAG,IAAI,CAAC,eAAe,CAAC,KAAK,KAAK,SAAS,GAAG,IAAI,CAAC,0BAA0B,CAAC,CAAC,CAAC,CAAC,KAAK,GAAG,IAAI,CAAC;QAC9G,UAAK,GAAG,IAAI,CAAC,eAAe,CAAC,KAAK,CAAC;QAEnC,UAAK,GAA8B,EAAE,CAAC;QACtC,SAAI,GAA4B,IAAI,uBAAuB,EAAE,CAAC;QAY5D,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,IAAI,IAAI,YAAY,CAAC,QAAQ,EAAE,SAAS,CAAC,CAAC;KAC5E;;;;IAED,QAAQ;;cACA,GAAG,GAAG,mDAAmD;QAC/D,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,SAAS;;;;QAAC,CAAC,IAAS;YACrC,IAAI,CAAC,sBAAsB,GAAG,IAAI,CAAC;YACnC,IAAI,IAAI,CAAC,eAAe,CAAC,KAAK,KAAK,SAAS,EAAE;gBAC5C,IAAI,CAAC,sBAAsB,GAAG,IAAI,CAAC;gBACnC,IAAI,CAAC,gBAAgB,GAAG;oBACtB,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,iCAAiC,CAAC,EAAE,KAAK,EAAE,KAAK,EAAE;oBACpF,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,kDAAkD,CAAC,EAAE,KAAK,EAAE,sBAAsB,EAAE;oBACtH,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,yDAAyD,CAAC,EAAE,KAAK,EAAE,6BAA6B,EAAE;iBACrI,CAAC;gBACF,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC,CAAC;aACrE;SACF,EAAC,CAAC;KACJ;;;;IAED,eAAe;QACb,IAAI,CAAC,MAAM,CAAC,iBAAiB;;;QAAC;YAC5B,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC,gBAAgB,CAC5C,YAAY,EACZ,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,CAC7B,CAAC;YACF,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC,gBAAgB,CAC5C,YAAY,EACZ,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,CAC7B,CAAC;SACH,EAAC,CAAC;KACJ;;;;;IACD,YAAY,CAAC,KAAK;QAChB,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;QAC5B,IAAI,IAAI,CAAC,eAAe,EAAE;YACxB,IAAI,CAAC,eAAe,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC;SACnC;KACF;;;;;IACD,YAAY,CAAC,KAAK;QAChB,IAAI,CAAC,eAAe,GAAG,KAAK,CAAC;QAC7B,IAAI,CAAC,eAAe,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC;KACpC;;;;;;;IACO,eAAe,CAAC,KAAU,EAAE,MAAM,GAAG,KAAK;;cAC1C,GAAG,GAAG,MAAM,GAAG,EAAE,GAAG,MAAM;;cAC1B,SAAS,GAAG,KAAK,CAAC,MAAM,CAAC,aAAa,CAAC,oBAAoB,CAAC;QAClE,IAAI,SAAS,EAAE;YACb,SAAS,CAAC,KAAK,CAAC,OAAO,GAAG,GAAG,CAAC;SAC/B;KACF;;;;;IACD,KAAK,CAAC,IAAS;;QAEb,IAAI,CAAC,WAAW,GAAG,EAAE,CAAC;QACtB,IAAI,CAAC,KAAK,GAAG,EAAE,CAAC;QAChB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,gBAAgB,GAAG;YACtB,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,iCAAiC,CAAC,EAAE,KAAK,EAAE,KAAK,EAAE;YACpF,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,kDAAkD,CAAC,EAAE,KAAK,EAAE,sBAAsB,EAAE;SACvH,CAAC;QACF,IAAI,IAAI,CAAC,eAAe,CAAC,KAAK,KAAK,SAAS,EAAE;YAC5C,IAAI,CAAC,gBAAgB,GAAG;gBACtB,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,iCAAiC,CAAC,EAAE,KAAK,EAAE,KAAK,EAAE;gBACpF,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,kDAAkD,CAAC,EAAE,KAAK,EAAE,sBAAsB,EAAE;gBACtH,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,yDAAyD,CAAC,EAAE,KAAK,EAAE,6BAA6B,EAAE;aACrI,CAAC;SACH;KACF;;;;;IACD,WAAW,CAAC,IAAS;QACjB,IAAI,CAAC,YAAY,EAAE,CAAC;KACvB;;;;IACD,YAAY;;QAEV,IAAI,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE;YAC3C,KAAK,MAAM,MAAM,IAAI,IAAI,CAAC,eAAe,CAAC,OAAO,EAAE;gBACjD,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,QAAQ,EAAE,MAAM,CAAC,CAAC;aACvC;YACD,IAAI,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,WAAW,IAAI,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC,MAAM,GAAG,CAAC,EAAE;;sBACnG,UAAU,GAAG,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC;gBACjE,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,UAAU,CAAC,IAAI,EAAE,QAAQ,EACnD,UAAU,CAAC,IAAI,EAAE,YAAY,CAAC,UAAU,CAAC,CAAC;aAC7C;SACF;;YACG,OAAO,GAAG,IAAI,KAAK,EAAE;QACzB,OAAO,GAAG,IAAI,CAAC,eAAe,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC;QACnD,IAAI,IAAI,CAAC,eAAe,CAAC,kBAAkB,CAAC,MAAM,GAAG,CAAC,EAAE;YACtD,KAAK,MAAM,QAAQ,IAAI,IAAI,CAAC,eAAe,CAAC,kBAAkB,EAAE;gBAC9D,IAAI,CAAC,OAAO,CAAC,IAAI;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,GAAG,KAAK,QAAQ,CAAC,GAAG,EAAC,EAAE;oBAC9C,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;iBACxB;aACF;SACF;QACD,IAAI,IAAI,CAAC,eAAe,CAAC,wBAAwB,CAAC,MAAM,GAAG,CAAC,EAAE;YAC5D,KAAK,MAAM,QAAQ,IAAI,IAAI,CAAC,eAAe,CAAC,wBAAwB,EAAE;gBACpE,IAAI,CAAC,OAAO,CAAC,IAAI;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,GAAG,KAAK,QAAQ,CAAC,GAAG,EAAC,EAAE;oBAC9C,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;iBACxB;aACF;SACF;QACD,IAAI,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE;YACtB,KAAK,MAAM,CAAC,IAAI,OAAO,EAAE;gBACvB,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;aACzB;SACF;QACD,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,YAAY,CAAC,WAAW,CAAC,CAAC;QACnD,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;QAC5C,IAAI,CAAC,IAAI,CAAC,eAAe,EAAE,CAAC,IAAI;;;;QAAC,CAAC,cAAsB;YACtD,IAAI,CAAC,SAAS,GAAG,cAAc,CAAC;;YAEhC,IAAG,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE;gBACrB,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,eAAe,GAAG,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,eAAe,CAAC,MAAM;;;;gBAAC,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,GAAG,KAAK,CAAC,CAAC,GAAG,EAAC,EAAC,CAAC;aAC9H;SACF,EAAC,CAAC;KACJ;;;;IACD,YAAY;;QAEV,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,YAAY,CAAC,QAAQ,CAAC,CAAC;QAChD,IAAI,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE;YAC3C,KAAK,MAAM,MAAM,IAAI,IAAI,CAAC,eAAe,CAAC,OAAO,EAAE;gBACjD,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,QAAQ,EAAE,MAAM,CAAC,CAAC;aACvC;YACD,IAAI,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,WAAW,IAAI,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC,MAAM,GAAG,CAAC,EAAE;;sBACnG,UAAU,GAAG,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC;gBACjE,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,UAAU,CAAC,IAAI,EAAE,QAAQ,EACnD,UAAU,CAAC,IAAI,EAAE,YAAY,CAAC,UAAU,CAAC,CAAC;aAC7C;SACF;;cACK,OAAO,GAAG,IAAI,KAAK,EAAE;QAC3B,IAAI,IAAI,CAAC,eAAe,CAAC,kBAAkB,CAAC,MAAM,GAAG,CAAC,EAAE;YACtD,KAAK,MAAM,QAAQ,IAAI,IAAI,CAAC,eAAe,CAAC,kBAAkB,EAAE;gBAC9D,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;aACxB;SACF;QACD,IAAI,IAAI,CAAC,eAAe,CAAC,kBAAkB,CAAC,MAAM,GAAG,CAAC,EAAE;YACtD,KAAK,MAAM,QAAQ,IAAI,IAAI,CAAC,eAAe,CAAC,kBAAkB,EAAE;gBAC9D,IAAI,CAAC,OAAO,CAAC,IAAI;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,GAAG,KAAK,QAAQ,CAAC,GAAG,EAAC,EAAE;oBAC9C,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;iBACxB;aACF;SACF;QACD,IAAI,IAAI,CAAC,eAAe,CAAC,sBAAsB,CAAC,MAAM,GAAG,CAAC,EAAE;YAC1D,KAAK,MAAM,QAAQ,IAAI,IAAI,CAAC,eAAe,CAAC,sBAAsB,EAAE;gBAClE,IAAI,CAAC,OAAO,CAAC,IAAI;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,GAAG,KAAK,QAAQ,CAAC,GAAG,EAAC,EAAE;oBAC9C,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;iBACxB;aACF;SACF;QACD,IAAI,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE;YACtB,KAAK,MAAM,CAAC,IAAI,OAAO,EAAE;gBACvB,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;aACzB;SACF;QACD,IAAI,IAAI,CAAC,KAAK,CAAC,MAAM,GAAG,CAAC,EAAE;YACzB,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,QAAQ,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,QAAQ,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC;SAC1G;aAAM;YACL,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,EAAE,CAAC,CAAC;SACjC;;QAED,IAAI,CAAC,IAAI,CAAC,eAAe,EAAE,CAAC,IAAI;;;;QAAC,CAAC,cAAsB;YACtD,IAAI,cAAc,EAAE;;sBACZ,IAAI,GAAG,IAAI,uBAAuB,CAAC,cAAc,EAAE,EAAE,EAAE,kCAAkC,CAAC;gBAChG,IAAI,CAAC,GAAG,GAAG,YAAY,CAAC;gBACxB,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,uBAAuB,CAAC,cAAc,CAAC,CAAC;gBAClE,IAAI,CAAC,IAAI,GAAI,IAAI,CAAC,uBAAuB,CAAC,cAAc,CAAC,CAAC;gBAC1D,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,UAAU,CAAC;gBAC/B,IAAI,IAAI,CAAC,eAAe,CAAC,KAAK,KAAK,SAAS,EAAE;oBAC5C,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,gBAAgB,CAAC;iBACvC;qBAAM;oBACL,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,0BAA0B,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC;iBAC1D;gBACD,IAAI,IAAI,CAAC,uBAAuB,CAAC,cAAc,CAAC,KAAK,EAAE,EAAE;;oBAEvD,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,4CAA4C,CAAC,CAAC,CAAC;oBAC3F,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,gBAAgB,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC;iBAClD;qBAAM;oBACL,IAAI,CAAC,KAAK,GAAG,CAAC,IAAI,CAAC,CAAC;oBACpB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;iBAClB;gBACD,KAAK,MAAM,CAAC,IAAI,IAAI,CAAC,eAAe,CAAC,kBAAkB,EAAE;;oBAEvD,IAAI,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE;wBACxC,IAAI,CAAC,gBAAgB,GAAG;4BACtB,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,iCAAiC,CAAC,EAAE,KAAK,EAAE,KAAK,EAAE;yBAAC,CAAC;wBACxF,MAAM;qBACP;yBAAM;wBACL,IAAI,CAAC,gBAAgB,GAAG;4BACtB,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,iCAAiC,CAAC,EAAE,KAAK,EAAE,KAAK,EAAE;4BACpF,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,kDAAkD,CAAC,EAAE,KAAK,EAAE,sBAAsB,EAAE;yBACvH,CAAC;wBACF,IAAI,IAAI,CAAC,eAAe,CAAC,KAAK,KAAK,SAAS,EAAE;4BAC5C,IAAI,CAAC,gBAAgB,GAAG;gCACtB,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,iCAAiC,CAAC,EAAE,KAAK,EAAE,KAAK,EAAE;gCACpF,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,kDAAkD,CAAC,EAAE,KAAK,EAAE,sBAAsB,EAAE;gCACtH,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,yDAAyD,CAAC,EAAE,KAAK,EAAE,6BAA6B,EAAE;6BACrI,CAAC;yBACH;qBACF;iBACF;aACF;iBAAM;gBACL,IAAI,CAAC,KAAK,GAAG,EAAE,CAAC;gBAChB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;gBACjB,IAAI,CAAC,gBAAgB,GAAG;oBACtB,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,iCAAiC,CAAC,EAAE,KAAK,EAAE,KAAK,EAAE;oBACpF,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,kDAAkD,CAAC,EAAE,KAAK,EAAE,sBAAsB,EAAE;iBACvH,CAAC;gBACF,IAAI,IAAI,CAAC,eAAe,CAAC,KAAK,KAAK,SAAS,EAAE;oBAC5C,IAAI,CAAC,gBAAgB,GAAG;wBACtB,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,iCAAiC,CAAC,EAAE,KAAK,EAAE,KAAK,EAAE;wBACpF,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,kDAAkD,CAAC,EAAE,KAAK,EAAE,sBAAsB,EAAE;wBACtH,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,yDAAyD,CAAC,EAAE,KAAK,EAAE,6BAA6B,EAAE;qBACrI,CAAC;iBACH;aACF;;YAED,IAAG,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE;gBACrB,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,eAAe,GAAG,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,eAAe,CAAC,MAAM;;;;gBAAC,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,GAAG,KAAK,CAAC,CAAC,GAAG,EAAC,EAAC,CAAC;aAC9H;SACF,EAAC,CAAC;KACJ;;;;IACD,aAAa;QACX,IAAI,IAAI,CAAC,IAAI,EAAE;YACb,IAAI,CAAC,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC;YACxF,IAAI,CAAC,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC;;YAEpF,IAAI,CAAC,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,UAAU,CAAC;YACpC,IAAI,CAAC,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,gBAAgB,CAAC;YAC3C,IAAI,CAAC,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,GAAG,EAAE,CAAC;SAC5D;QACD,OAAO,IAAI,CAAC,IAAI,CAAC;KAClB;;;;;;;;;;;;;;;;;;IAcO,uBAAuB,CAAC,IAAY;QAC1C,KAAK,MAAM,CAAC,IAAI,IAAI,CAAC,eAAe,CAAC,kBAAkB,EAAE;YACvD,IAAI,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,EAAE;gBAC5B,IAAI,IAAI,CAAC,UAAU,KAAK,KAAK,EAAE;oBAC7B,OAAO,EAAE,CAAC;iBACX;gBACD,OAAO,CAAC,CAAC,IAAI,CAAC;aACf;SACF;QACD,KAAK,MAAM,CAAC,IAAI,IAAI,CAAC,eAAe,CAAC,sBAAsB,EAAE;YAC3D,IAAI,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,EAAE;gBAC5B,OAAO,CAAC,CAAC,IAAI,CAAC;aACf;SACF;QACD,OAAO,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC;KAC9B;;;;;IACD,aAAa,CAAC,IAAS;QACrB,IAAI,IAAI,KAAK,KAAK,EAAE;YAClB,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,gBAAgB,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC;SAClD;aAAM,IAAI,IAAI,KAAK,sBAAsB,EAAE;YAC1C,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,gBAAgB,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC;SAClD;aAAM;YACL,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,gBAAgB,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC;SAClD;;QAED,IAAI,IAAI,CAAC,eAAe,CAAC,KAAK,KAAK,SAAS,EAAE;YAC5C,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC;YAC3B,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC;SAC9B;aAAM;YACL,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,0BAA0B,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC;SAClE;KACF;;;;;IACD,kBAAkB,CAAC,IAAS;QAC1B,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,KAAK,CAAC;KACpC;;;;;IACD,eAAe,CAAC,SAAiB;;cACzB,GAAG,GAAG,oDAAoD,SAAS,EAAE;QAC3E,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,SAAS;;;;QAAC,CAAC,KAAU;YACtC,IAAI,CAAC,YAAY,GAAG,EAAE,CAAC;YACvB,KAAK,MAAM,CAAC,IAAI,KAAK,EAAE;;sBACf,IAAI,GAAG;oBACX,IAAI,EAAE,CAAC,CAAC,iBAAiB;oBACzB,KAAK,EAAE,CAAC,CAAC,KAAK;iBACf;;gBAED,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;aAC9B;SACF,EAAC,CAAC;KACJ;;;YAzUF,SAAS,SAAC;gBACT,QAAQ,EAAE,wBAAwB;gBAClC,k3KAAkD;gBAElD,SAAS,EAAE;oBACR,YAAY;iBACd;;aACF;;;;YAhBQ,sBAAsB;YACR,iBAAiB;YAFY,MAAM;YAA6B,iBAAiB,uBA4CnG,QAAQ;yCACR,MAAM,SAAC,SAAS;4CAChB,MAAM,SAAC,iBAAiB;YAxCD,YAAY,uBAyCnC,QAAQ;YA5CJ,WAAW;YACX,eAAe;;;kBAerB,WAAW,SAAC,OAAO;yBAEnB,SAAS,SAAC,YAAY;;;;;;;ACrBzB,MAwBa,sBAAsB;;;;;;;;;IAqCjC,YACU,eAAuC,EACvC,IAAuB,EACvB,IAAiB,EACE,QAAgB,EACR,SAAc,EAC7B,UAAwB;QALpC,oBAAe,GAAf,eAAe,CAAwB;QACvC,SAAI,GAAJ,IAAI,CAAmB;QACvB,SAAI,GAAJ,IAAI,CAAa;QACE,aAAQ,GAAR,QAAQ,CAAQ;QACR,cAAS,GAAT,SAAS,CAAK;QAC7B,eAAU,GAAV,UAAU,CAAc;QAzC9C,QAAG,GAAG,8BAA8B,CAAC;QAMrC,QAAG,GAAG,MAAM,CAAC;QACJ,YAAO,GAAG,IAAI,CAAC;QAExB,gCAA2B,GAAG;YAC5B;gBACE,KAAK,EAAE,MAAM;gBACb,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,mCAAmC,CAAC;gBACpE,KAAK,EAAE,aAAa;aACrB,EAAE;gBACD,KAAK,EAAE,YAAY;gBACnB,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,yCAAyC,CAAC;gBAC1E,KAAK,EAAE,mBAAmB;aAC3B,EAAE;gBACD,KAAK,EAAE,iBAAiB;gBACxB,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,4CAA4C,CAAC;gBAC7E,KAAK,EAAE,EAAE;aACV;SACF,CAAC;QAoBA,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,IAAI,IAAI,YAAY,CAAC,QAAQ,EAAE,SAAS,CAAC,CAAC;QAC3E,IAAI,CAAC,uBAAuB,GAAG,IAAIA,mCAAiC,EAAE,CAAC;QACvE,IAAI,CAAC,uBAAuB,CAAC,WAAW,GAAGC,aAAW,CAAC,UAAU,CAAC;QAClE,IAAI,CAAC,uBAAuB,CAAC,iBAAiB,GAAGC,mBAAiB,CAAC,UAAU,CAAC;QAC9E,IAAI,CAAC,uBAAuB,CAAC,cAAc,GAAG,mBAAmB,CAAC;QAClE,IAAI,CAAC,uBAAuB,CAAC,gBAAgB,GAAG,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,yCAAyC,CAAC,CAAC;QACrH,IAAI,CAAC,uBAAuB,CAAC,eAAe,GAAG,KAAK,CAAC;QACrD,IAAI,CAAC,uBAAuB,CAAC,GAAG,GAAG,UAAU,CAAC;KAC/C;;;;IAED,QAAQ;KACP;;;;IAED,eAAe;QACb,IAAI,IAAI,CAAC,SAAS,EAAE;YAClB,QAAQ,IAAI,CAAC,SAAS,CAAC,IAAI;gBACzB,KAAK,8BAA8B;oBACjC,IAAI,CAAC,QAAQ,CAAC,KAAK,GAAG,EAAE,CAAC;oBACzB,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC;;oBAE/C,IAAI,CAAC,QAAQ,CAAC,WAAW,GAAG,IAAI,CAAC,SAAS,KAAK,MAAM,GAAG,KAAK,GAAG,IAAI,CAAC;;oBAErE,IAAI,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,WAAW,IAAI,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC,CAAC,KAAK,GAAG,EAAE;;8BACpF,GAAG,GAAG,mDAAmD;wBAC/D,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,SAAS;;;;wBAAC,CAAC,IAAS;4BACrC,IAAI,CAAC,QAAQ,CAAC,sBAAsB,GAAG,IAAI,CAAC;4BAC5C,IAAI,CAAC,QAAQ,CAAC,QAAQ,GAAG,UAAU,CAAC;4BACpC,IAAI,CAAC,QAAQ,CAAC,UAAU,GAAG,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,OAAO,KAAK,KAAK,GAAG,KAAK,GAAG,6BAA6B,CAAC;4BAC1G,IAAI,CAAC,QAAQ,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,SAAS,CAAC;;;kCAEnD,iBAAiB,GAAG,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,WAAW,CAAC,OAAO,CAAC,qBAAqB,CAAC,IAAI,CAAC;4BAC9F,IAAI,CAAC,QAAQ,CAAC,gBAAgB,GAAG,iBAAiB,GAAG;gCACnD,EAAE,IAAI,EAAE,MAAM,EAAE,KAAK,EAAE,KAAK,EAAE;6BAC/B,GAAG;gCACF,EAAE,IAAI,EAAE,MAAM,EAAE,KAAK,EAAE,KAAK,EAAE;gCAC9B,EAAE,IAAI,EAAE,IAAI,EAAE,KAAK,EAAE,6BAA6B,EAAE;6BACrD,CAAC;yBACH,EAAC,CAAC;qBACJ;yBAAM;wBACL,IAAI,CAAC,QAAQ,CAAC,QAAQ,GAAG,MAAM,CAAC;wBAChC,IAAI,CAAC,QAAQ,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,SAAS,CAAC;qBAC1D;oBACD,MAAM;gBACR,KAAK,kCAAkC;;oBAErC,IAAI,CAAC,MAAM,CAAC,KAAK,GAAG,EAAE,CAAC;oBACvB,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC;oBAC7C,IAAI,CAAC,MAAM,CAAC,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC;oBACxC,IAAI,CAAC,MAAM,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,KAAK,MAAM,GAAG,KAAK,GAAG,IAAI,CAAC;;oBAEjE,IAAI,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,QAAQ,IAAI,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,CAAC,KAAK,GAAG,EAAE;;;8BAE9E,iBAAiB,GAAG,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,QAAQ,CAAC,OAAO,CAAC,qBAAqB,CAAC,IAAI,CAAC;;wBAE3F,IAAI,CAAC,MAAM,CAAC,gBAAgB,GAAG,iBAAiB,GAAG;4BACjD,EAAE,IAAI,EAAE,MAAM,EAAE,KAAK,EAAE,KAAK,EAAE;yBAC/B,GAAG;4BACF,EAAE,IAAI,EAAE,MAAM,EAAE,KAAK,EAAE,KAAK,EAAE;4BAC9B,EAAE,IAAI,EAAE,MAAM,EAAE,KAAK,EAAE,sBAAsB,EAAE;yBAChD,CAAC;;wBAEF,IAAI,CAAC,MAAM,CAAC,UAAU,GAAG,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,OAAO,CAAC;wBACtD,IAAI,CAAC,MAAM,CAAC,gBAAgB,GAAG,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,QAAQ,CAAC;wBAC7D,IAAI,CAAC,MAAM,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,SAAS,CAAC;qBACxD;oBACD,MAAM;gBACR,KAAK,kCAAkC;oBACrC,IAAI,CAAC,OAAO,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,KAAK,MAAM,GAAG,KAAK,GAAG,IAAI,CAAC;oBAClE,IAAI,CAAC,OAAO,CAAC,QAAQ,GAAG,MAAM,CAAC,MAAM,CAAC,EAAE,EAAE,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC;oBAChE,IAAI,CAAC,OAAO,CAAC,aAAa,GAAG,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,aAAa,CAAC;oBACjE,IAAI,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,YAAY,KAAK,GAAG,EAAE;wBAC9C,IAAI,CAAC,OAAO,CAAC,SAAS,GAAG,EAAE,YAAY,EAAE,GAAG,EAAE,CAAC;qBAChD;yBAAM;wBACL,IAAI,CAAC,OAAO,CAAC,SAAS,GAAG,EAAE,YAAY,EAAE,GAAG,EAAE,CAAC;qBAChD;oBACD,MAAM;gBACR,KAAK,uCAAuC;;oBAE1C,IAAI,CAAC,gBAAgB,CAAC,0BAA0B,GAAG,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC;oBACxE,MAAM;gBACR,KAAK,mCAAmC;;oBAEtC,IAAI,CAAC,MAAM,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC;oBAC7C,MAAM;gBACR,KAAK,gCAAgC;;oBAEnC,IAAI,CAAC,SAAS,CAAC,mBAAmB,GAAG,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC;oBAC1D,MAAM;gBACR,KAAK,0CAA0C;;oBAE7C,IAAI,CAAC,mBAAmB,CAAC,iBAAiB,GAAG,EAAE,CAAC;oBAChD,IAAI,CAAC,mBAAmB,CAAC,iBAAiB,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC;oBACtE,IAAI,CAAC,mBAAmB,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,SAAS,CAAC;oBACpE,MAAM;gBACR,KAAK,sCAAsC;oBACzC,IAAI,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,iBAAiB,KAAKA,mBAAiB,CAAC,OAAO,IAAI,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,GAAG,KAAK,YAAY,EAAE;wBACrH,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,iBAAiB,GAAGA,mBAAiB,CAAC,eAAe,CAAC;qBAC5E;oBACD,IAAI,CAAC,uBAAuB,GAAG,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC;oBACpD,IAAI,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,iBAAiB,KAAKA,mBAAiB,CAAC,UAAU,IAAI,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,GAAG,KAAK,YAAY,EAAE;wBACxH,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,iBAAiB,KAAKA,mBAAiB,CAAC,eAAe,CAAC;qBAC9E;oBACD,MAAM;aACT;SACF;QACD,IAAI,IAAI,CAAC,aAAa,EAAE;YACtB,QAAQ,IAAI,CAAC,aAAa;gBACxB,KAAK,8BAA8B;oBACjC,IAAI,CAAC,QAAQ,CAAC,QAAQ,GAAG,MAAM,CAAC;oBAChC,MAAM;aACT;SACF;KACF;;;;;IAED,WAAW,CAAC,KAAU;QACpB,QAAQ,KAAK,CAAC,KAAK;YACjB,KAAK,IAAI,CAAC,2BAA2B,CAAC,CAAC,CAAC,CAAC,KAAK;gBAC5C,IAAI,CAAC,uBAAuB,CAAC,cAAc,GAAG,IAAI,CAAC,2BAA2B,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC;gBACxF,IAAI,CAAC,uBAAuB,CAAC,gBAAgB,GAAG,IAAI,CAAC,2BAA2B,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC;gBACzF,IAAI,CAAC,uBAAuB,CAAC,eAAe,GAAG,IAAI,CAAC;gBACpD,MAAM;YACR,KAAK,IAAI,CAAC,2BAA2B,CAAC,CAAC,CAAC,CAAC,KAAK;gBAC5C,IAAI,CAAC,uBAAuB,CAAC,cAAc,GAAG,IAAI,CAAC,2BAA2B,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC;gBACxF,IAAI,CAAC,uBAAuB,CAAC,gBAAgB,GAAG,IAAI,CAAC,2BAA2B,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC;gBACzF,MAAM;YACR,KAAK,IAAI,CAAC,2BAA2B,CAAC,CAAC,CAAC,CAAC,KAAK;gBAC5C,IAAI,CAAC,uBAAuB,CAAC,cAAc,GAAG,IAAI,CAAC,2BAA2B,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC;gBACxF,IAAI,CAAC,uBAAuB,CAAC,gBAAgB,GAAG,IAAI,CAAC,2BAA2B,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC;gBACzF,IAAI,CAAC,uBAAuB,CAAC,eAAe,GAAG,IAAI,CAAC;gBACpD,IAAI,CAAC,uBAAuB,CAAC,GAAG,GAAG,YAAY,CAAA;gBAC/C,MAAM;SACT;KACF;;;;IACD,aAAa;;cACL,KAAK,GAAG,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC,aAAa,EAAE,GAAG,EAAE;;cAC1D,QAAQ,GAAG,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC,aAAa,EAAE,GAAG,IAAI;;cAC3D,SAAS,GAAG,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC,aAAa,EAAE,GAAG,EAAE;;cAC5D,SAAS,GAAG,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC,aAAa,EAAE,GAAG,IAAI;;cAC5D,aAAa,GAAG,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,gBAAgB,CAAC,aAAa,EAAE,GAAG,IAAI;;cACpF,MAAM,GAAG,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC,aAAa,EAAE,GAAG,IAAI;;cAC/D,iBAAiB,GAAG,IAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC,mBAAmB,CAAC,aAAa,EAAE,GAAG,EAAE;;YAE9F,cAAc,GAAG,EAAE;;;YACnB,0BAA0B,GAAG,EAAE;QAEnC,KAAK,KAAK,IAAI,KAAK,CAAC,MAAM,GAAG,CAAC,GAAG;YAC/B,cAAc,GAAG,cAAc,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;SAC/C;QACD,IAAI,iBAAiB,IAAI,iBAAiB,CAAC,MAAM,GAAG,CAAC,EAAE;YACrD,0BAA0B,GAAG,0BAA0B,CAAC,MAAM,CAAC,iBAAiB,CAAC,CAAC;SACnF;;YACG,uBAA0D;QAC9D,IAAI,IAAI,CAAC,aAAa,KAAK,sCAAsC,EAAE;YACjE,IAAI,IAAI,CAAC,uBAAuB,CAAC,iBAAiB,KAAKA,mBAAiB,CAAC,eAAe,IAAI,IAAI,CAAC,uBAAuB,CAAC,GAAG,KAAK,YAAY,EAAE;gBAC7I,IAAI,CAAC,uBAAuB,CAAC,iBAAiB,GAAGA,mBAAiB,CAAC,OAAO,CAAC;aAC5E;YACD,uBAAuB,GAAG,IAAI,CAAC,uBAAuB,CAAC;SACxD;QACD,OAAO,EAAE,cAAc,EAAE,QAAQ,EAAE,SAAS,EAAE,SAAS,EAAE,aAAa,EAAE,MAAM,EAAE,0BAA0B,EAAE,uBAAuB,EAAE,CAAC;KACvI;;;;IAED,YAAY;;QAEV,IAAI,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE;YAC3C,KAAK,MAAM,MAAM,IAAI,IAAI,CAAC,eAAe,CAAC,OAAO,EAAE;gBACjD,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,QAAQ,EAAE,MAAM,CAAC,CAAC;aACvC;YACD,IAAI,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,WAAW,IAAI,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC,MAAM,GAAG,CAAC,EAAE;;sBACnG,UAAU,GAAG,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC;gBACjE,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,UAAU,CAAC,IAAI,EAAE,QAAQ,EACnD,UAAU,CAAC,IAAI,EAAE,YAAY,CAAC,UAAU,CAAC,CAAC;aAC7C;SACF;;YACG,OAAO,GAAG,IAAI,KAAK,EAAE;QACzB,OAAO,GAAG,IAAI,CAAC,eAAe,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC;QACnD,IAAI,IAAI,CAAC,eAAe,CAAC,kBAAkB,CAAC,MAAM,GAAG,CAAC,EAAE;YACtD,KAAK,MAAM,QAAQ,IAAI,IAAI,CAAC,eAAe,CAAC,kBAAkB,EAAE;gBAC9D,IAAI,CAAC,OAAO,CAAC,IAAI;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,GAAG,KAAK,QAAQ,CAAC,GAAG,EAAC,EAAE;oBAC9C,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;iBACxB;aACF;SACF;QACD,IAAI,IAAI,CAAC,eAAe,CAAC,wBAAwB,CAAC,MAAM,GAAG,CAAC,EAAE;YAC5D,KAAK,MAAM,QAAQ,IAAI,IAAI,CAAC,eAAe,CAAC,wBAAwB,EAAE;gBACpE,IAAI,CAAC,OAAO,CAAC,IAAI;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,GAAG,KAAK,QAAQ,CAAC,GAAG,EAAC,EAAE;oBAC9C,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;iBACxB;aACF;SACF;QACD,IAAI,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE;YACtB,KAAK,MAAM,CAAC,IAAI,OAAO,EAAE;gBACvB,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;aACzB;SACF;QACD,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,YAAY,CAAC,WAAW,CAAC,CAAC;QACnD,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,uBAAuB,CAAC,SAAS,CAAC,CAAC;QACpE,IAAI,CAAC,IAAI,CAAC,eAAe,EAAE,CAAC,IAAI;;;;QAAC,CAAC,cAAsB;YACtD,IAAI,CAAC,uBAAuB,CAAC,SAAS,GAAG,cAAc,CAAC;;YAExD,IAAG,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE;gBACrB,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,eAAe,GAAG,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,eAAe,CAAC,MAAM;;;;gBAAC,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,GAAG,KAAK,CAAC,CAAC,GAAG,EAAC,EAAC,CAAC;aAC9H;SACF,EAAC,CAAC;KACJ;;;;IACD,kBAAkB;;QAEhB,IAAI,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE;YAC3C,KAAK,MAAM,MAAM,IAAI,IAAI,CAAC,eAAe,CAAC,OAAO,EAAE;gBACjD,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,QAAQ,EAAE,MAAM,CAAC,CAAC;aACvC;YACD,IAAI,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,WAAW,IAAI,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC,MAAM,GAAG,CAAC,EAAE;;sBACnG,UAAU,GAAG,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC;gBACjE,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,UAAU,CAAC,IAAI,EAAE,QAAQ,EACnD,UAAU,CAAC,IAAI,EAAE,YAAY,CAAC,UAAU,CAAC,CAAC;aAC7C;SACF;;YACG,OAAO,GAAG,IAAI,KAAK,EAAE;QACzB,OAAO,GAAG,IAAI,CAAC,eAAe,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC;QACnD,IAAI,IAAI,CAAC,eAAe,CAAC,kBAAkB,CAAC,MAAM,GAAG,CAAC,EAAE;YACtD,KAAK,MAAM,QAAQ,IAAI,IAAI,CAAC,eAAe,CAAC,kBAAkB,EAAE;gBAC9D,IAAI,CAAC,OAAO,CAAC,IAAI;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,GAAG,KAAK,QAAQ,CAAC,GAAG,EAAC,EAAE;oBAC9C,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;iBACxB;aACF;SACF;QACD,IAAI,IAAI,CAAC,eAAe,CAAC,wBAAwB,CAAC,MAAM,GAAG,CAAC,EAAE;YAC5D,KAAK,MAAM,QAAQ,IAAI,IAAI,CAAC,eAAe,CAAC,wBAAwB,EAAE;gBACpE,IAAI,CAAC,OAAO,CAAC,IAAI;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,GAAG,KAAK,QAAQ,CAAC,GAAG,EAAC,EAAE;oBAC9C,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;iBACxB;aACF;SACF;QACD,IAAI,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE;YACtB,KAAK,MAAM,CAAC,IAAI,OAAO,EAAE;gBACvB,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;aACzB;SACF;QACD,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,YAAY,CAAC,QAAQ,CAAC,CAAC;QAChD,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,uBAAuB,CAAC,cAAc,CAAC,CAAC;QACzE,IAAI,CAAC,IAAI,CAAC,eAAe,EAAE,CAAC,IAAI;;;;QAAC,CAAC,cAAsB;YACtD,IAAI,CAAC,uBAAuB,CAAC,cAAc,GAAG,cAAc,CAAC;;YAE7D,IAAG,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE;gBACrB,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,eAAe,GAAG,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,eAAe,CAAC,MAAM;;;;gBAAC,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,GAAG,KAAK,CAAC,CAAC,GAAG,EAAC,EAAC,CAAC;aAC9H;SACF,EAAC,CAAC;KACJ;;;YA3SF,SAAS,SAAC;gBACT,QAAQ,EAAE,oBAAoB;gBAC9B,44MAA8C;gBAE9C,SAAS,EAAE;oBACT,YAAY;iBACd;;aACD;;;;YAdQ,sBAAsB;YACR,iBAAiB;YAH/B,WAAW;yCA0Df,MAAM,SAAC,SAAS;4CAChB,MAAM,SAAC,iBAAiB;YArDD,YAAY,uBAsDnC,QAAQ;;;kBA1CV,WAAW,SAAC,OAAO;sBAQnB,KAAK;uBAoBL,SAAS,SAAC,sBAAsB;qBAChC,SAAS,SAAC,0BAA0B;sBACpC,SAAS,SAAC,0BAA0B;qBACpC,SAAS,SAAC,2BAA2B;+BACrC,SAAS,SAAC,sBAAsB;wBAChC,SAAS,SAAC,wBAAwB;kCAClC,SAAS,SAAC,kCAAkC;;;;;;;;;;;;AC3D/C,MAiBa,yBAAyB;;;;;;;;;;;IAuFpC,YACU,MAAc,EACd,aAAqC,EACrC,IAAuB,EACvB,OAAwB,EACZ,GAAsB,EACf,QAAgB,EACR,SAAc,EAC7B,UAAwB;QAPpC,WAAM,GAAN,MAAM,CAAQ;QACd,kBAAa,GAAb,aAAa,CAAwB;QACrC,SAAI,GAAJ,IAAI,CAAmB;QACvB,YAAO,GAAP,OAAO,CAAiB;QACZ,QAAG,GAAH,GAAG,CAAmB;QACf,aAAQ,GAAR,QAAQ,CAAQ;QACR,cAAS,GAAT,SAAS,CAAK;QAC7B,eAAU,GAAV,UAAU,CAAc;QA7F9C,QAAG,GAAG,8BAA8B,CAAC;QAC5B,iBAAY,GAAQ,EAAE,CAAC;QACtB,eAAU,GAAG,IAAI,YAAY,EAAO,CAAC;QACrC,gBAAW,GAAG,IAAI,YAAY,EAAO,CAAC;QAEhD,6BAAwB,GAAG,EAAE,CAAC;QA0C9B,oBAAe,GAAG,KAAK,CAAC;QAExB,kBAAa,GAAG,KAAK,CAAC;QAKtB,2BAAsB,GAAG,KAAK,CAAC;QAC/B,2BAAsB,GAAG,KAAK,CAAC;QAC/B,4BAAuB,GAAG,KAAK,CAAC;QAEhC,wBAAmB,GAAG,KAAK,CAAC;QAC5B,wBAAmB,GAAG,KAAK,CAAC;QAC5B,yBAAoB,GAAG,KAAK,CAAC;QAE7B,4BAAuB,GAAG;YACxB,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,kCAAkC,CAAC,EAAE,KAAK,EAAE,OAAO,EAAE;YACvF,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,2CAA2C,CAAC,EAAE,KAAK,EAAE,gBAAgB,EAAE;SAAC,CAAC;QAC7G,qBAAgB,GAAG;YACjB,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,gCAAgC,CAAC,EAAE,KAAK,EAAE,KAAK,EAAE;YACnF,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,iDAAiD,CAAC,EAAE,KAAK,EAAE,sBAAsB,EAAE;SACtH,CAAC;QACF,+BAA0B,GAAG;YAC3B,EAAE,KAAK,EAAE,iBAAiB,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,4CAA4C,CAAC,EAAE;YAC3G,EAAE,KAAK,EAAE,iBAAiB,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,4CAA4C,CAAC,EAAE;YAC3G,EAAE,KAAK,EAAE,kBAAkB,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,6CAA6C,CAAC,EAAE;SAC9G,CAAC;QACF,sBAAiB,GAAG,IAAI,CAAC,gBAAgB,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC;QACnD,wBAAmB,GAAW,IAAI,CAAC,uBAAuB,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC;QAGpE,gBAAW,GAAG;YACZ,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,6CAA6C,CAAC;YAC/E,KAAK,EAAE,GAAG;YACV,MAAM,EAAE,GAAG;YACX,WAAW,EAAE,IAAI;SAClB,CAAC;QAYA,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,IAAI,IAAI,YAAY,CAAC,QAAQ,EAAE,SAAS,CAAC,CAAC;KAC3E;;;;;IA1FF,IACI,KAAK,CAAC,OAAyB;QACjC,IAAI,OAAO,EAAE;YACX,IAAI,CAAC,mBAAmB,GAAG,OAAO,CAAC,mBAAmB,CAAC;YACvD,IAAI,CAAC,mBAAmB,GAAG,OAAO,CAAC,mBAAmB,CAAC;YACvD,IAAI,CAAC,aAAa,GAAG,OAAO,CAAC,aAAa,CAAC;YAC3C,IAAI,CAAC,mBAAmB,GAAG,OAAO,CAAC,mBAAmB,CAAC;SACxD;KACF;;;;;IAED,IACI,mBAAmB,CAAC,CAAyB;QAC/C,IAAI,CAAC,EAAE;YACL,IAAI,OAAO,CAAC,KAAK,QAAQ,EAAE;gBACzB,IAAI,CAAC,sBAAsB,GAAG,CAAC,CAAC,OAAO,CAAC,iBAAiB,CAAC,GAAG,CAAC,CAAC,CAAC;gBAChE,IAAI,CAAC,sBAAsB,GAAG,CAAC,CAAC,OAAO,CAAC,iBAAiB,CAAC,GAAG,CAAC,CAAC,CAAC;aACjE;iBAAM;gBACL,IAAI,CAAC,sBAAsB,GAAG,CAAC,CAAC,SAAS;;;;gBAAC,CAAC,IAAI,CAAC,KAAK,iBAAiB,EAAC,GAAG,CAAC,CAAC,CAAC;gBAC7E,IAAI,CAAC,sBAAsB,GAAG,CAAC,CAAC,SAAS;;;;gBAAC,CAAC,IAAI,CAAC,KAAK,iBAAiB,EAAC,GAAG,CAAC,CAAC,CAAC;gBAC7E,IAAI,CAAC,uBAAuB,GAAG,CAAC,CAAC,SAAS;;;;gBAAC,CAAC,IAAI,CAAC,KAAK,kBAAkB,EAAC,GAAG,CAAC,CAAC,CAAC;gBAC/E,IAAI,CAAC,oBAAoB,GAAG,CAAC,CAAC,IAAI;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,OAAO,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,EAAC,CAAC;gBAChE,IAAI,IAAI,CAAC,oBAAoB,IAAI,IAAI,KAAK,IAAI,CAAC,oBAAoB,CAAC,UAAU,CAAC,MAAM,CAAC;oBACpF,IAAI,CAAC,oBAAoB,CAAC,UAAU,CAAC,uBAAuB,CAAC,CAAC,EAAE;;0BAC1D,YAAY,GAAG,IAAI,CAAC,oBAAoB,CAAC,KAAK,CAAC,GAAG,CAAC;oBACzD,IAAI,CAAC,iBAAiB,GAAG,YAAY,CAAC,CAAC,CAAC,CAAC;oBACzC,IAAI,CAAC,oBAAoB,GAAG,YAAY,CAAC,CAAC,CAAC,CAAC;iBAC7C;aACF;SACF;KACF;;;;;IAED,IAAI,mBAAmB,CAAC,CAAgB;QACtC,IAAI,CAAC,IAAI,CAAC,CAAC,MAAM,GAAG,CAAC,EAAE;YACrB,IAAI,CAAC,mBAAmB,GAAG,CAAC,CAAC,SAAS;;;;YAAC,CAAC,IAAI,CAAC,KAAK,iBAAiB,EAAC,GAAG,CAAC,CAAC,CAAC;YAC1E,IAAI,CAAC,mBAAmB,GAAG,CAAC,CAAC,SAAS;;;;YAAC,CAAC,IAAI,CAAC,KAAK,iBAAiB,EAAC,GAAG,CAAC,CAAC,CAAC;YAC1E,IAAI,CAAC,oBAAoB,GAAG,CAAC,CAAC,SAAS;;;;YAAC,CAAC,IAAI,CAAC,KAAK,kBAAkB,EAAC,GAAG,CAAC,CAAC,CAAC;SAC7E;KAEF;;;;IAsDD,QAAQ;QACN,IAAI,CAAC,wBAAwB,GAAG,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC;KAC5D;;;;IAED,eAAe;QACb,IAAI,CAAC,MAAM,CAAC,iBAAiB;;;QAAC;YAC5B,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC,gBAAgB,CAC5C,YAAY,EACZ,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,CAC7B,CAAC;YACF,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC,gBAAgB,CAC5C,YAAY,EACZ,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,CAC7B,CAAC;SACH,EAAC,CAAC;KACJ;;;;;IAED,YAAY,CAAC,KAAK;QAChB,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;QAC5B,IAAI,IAAI,CAAC,eAAe,EAAE;YACxB,IAAI,CAAC,eAAe,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC;SACnC;KACF;;;;;IACD,YAAY,CAAC,KAAK;QAChB,IAAI,CAAC,eAAe,GAAG,KAAK,CAAC;QAC7B,IAAI,CAAC,eAAe,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC;KACpC;;;;;;;IACO,eAAe,CAAC,KAAU,EAAE,MAAM,GAAG,KAAK;;cAC1C,GAAG,GAAG,MAAM,GAAG,EAAE,GAAG,MAAM;;cAC1B,SAAS,GAAG,KAAK,CAAC,MAAM,CAAC,aAAa,CAAC,oBAAoB,CAAC;QAClE,IAAI,SAAS,EAAE;YACb,SAAS,CAAC,KAAK,CAAC,OAAO,GAAG,GAAG,CAAC;SAC/B;KACF;;;;IAGD,OAAO;;cACC,OAAO,GAAG;YACd,mBAAmB,EAAE,IAAI,CAAC,sBAAsB,EAAE;YAClD,mBAAmB,EAAE,IAAI,CAAC,mBAAmB;YAC7C,aAAa,EAAE,IAAI,CAAC,aAAa;YACjC,mBAAmB,EAAE,IAAI,CAAC,iBAAiB,EAAE;SAC9C;;cACK,MAAM,GAAG;YACb,KAAK,EAAE,OAAO,EAAE,UAAU,EAAE,IAAI;SACjC;QACD,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;KAC/B;;;;IAED,MAAM;QACJ,IAAI,CAAC,UAAU,CAAC,IAAI,EAAE,CAAC;KACxB;;;;;IAED,2BAA2B,CAAC,KAAU;;QAEpC,IAAI,IAAI,CAAC,sBAAsB,IAAI,IAAI,CAAC,mBAAmB,EAAE;YAC3D,IAAI,CAAC,mBAAmB,GAAG,KAAK,CAAC;SAClC;KACF;;;;;IAED,2BAA2B,CAAC,KAAU;;QAEpC,IAAI,IAAI,CAAC,oBAAoB,KAAK,IAAI,IAAI,IAAI,CAAC,sBAAsB,KAAK,IAAI,EAAE;YAC9E,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,gDAAgD,CAAC;;;YAAE;gBAC7F,IAAI,CAAC,sBAAsB,GAAG,KAAK,CAAC;aACrC,EAAC,CAAC;YACH,OAAO;SACR;QACD,IAAI,IAAI,CAAC,sBAAsB,IAAI,IAAI,CAAC,mBAAmB,EAAE;YAC3D,IAAI,CAAC,mBAAmB,GAAG,KAAK,CAAC;SAClC;KACF;;;;;IAED,4BAA4B,CAAC,KAAU;;QAErC,IAAI,IAAI,CAAC,uBAAuB,EAAE;YAChC,IAAI,IAAI,CAAC,mBAAmB,EAAE;gBAC5B,IAAI,CAAC,mBAAmB,GAAG,KAAK,CAAC;aAClC;YACD,IAAI,IAAI,CAAC,oBAAoB,EAAE;gBAC7B,IAAI,CAAC,oBAAoB,GAAG,KAAK,CAAC;aACnC;SACF;KAEF;;;;;IAED,wBAAwB,CAAC,KAAU;;;;;;;;QAQjC,IAAI,IAAI,CAAC,aAAa,CAAC,YAAY,CAAC,cAAc,KAAK,IAAI,CAAC,aAAa,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,GAAG;eAC1F,IAAI,CAAC,mBAAmB,KAAK,IAAI,EAAG;YACvC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,oDAAoD,CAAC;;;YAAE;gBACjG,IAAI,CAAC,mBAAmB,GAAG,KAAK,CAAC;aAClC,EAAC,CAAC;YACH,OAAO;SACR;;QAED,IAAI,IAAI,CAAC,mBAAmB,IAAI,IAAI,CAAC,sBAAsB,EAAE;YAC3D,IAAI,CAAC,sBAAsB,GAAG,KAAK,CAAC;SACrC;KACF;;;;;IAED,wBAAwB,CAAC,KAAU;;;;;;;;QAQjC,IAAI,IAAI,CAAC,aAAa,CAAC,YAAY,CAAC,cAAc,KAAK,IAAI,CAAC,aAAa,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,GAAG;eAC1F,IAAI,CAAC,mBAAmB,KAAK,IAAI,EAAE;YACtC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,+CAA+C,CAAC;;;YAAE;gBAC5F,IAAI,CAAC,mBAAmB,GAAG,KAAK,CAAC;aAClC,EAAC,CAAC;YACH,OAAO;SACR;QACD,IAAI,IAAI,CAAC,uBAAuB,KAAK,IAAI,IAAI,IAAI,CAAC,mBAAmB,KAAK,IAAI,EAAE;YAC9E,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,oDAAoD,CAAC;;;YAAE;gBACjG,IAAI,CAAC,mBAAmB,GAAG,KAAK,CAAC;aAClC,EAAC,CAAC;YACH,OAAO;SACR;;QAED,IAAI,IAAI,CAAC,mBAAmB,IAAI,IAAI,CAAC,sBAAsB,EAAE;YAC3D,IAAI,CAAC,sBAAsB,GAAG,KAAK,CAAC;SACrC;KACF;;;;;IAED,yBAAyB,CAAC,KAAU;;;;;;;;QAQlC,IAAI,IAAI,CAAC,aAAa,CAAC,YAAY,CAAC,cAAc,KAAK,IAAI,CAAC,aAAa,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,GAAG;eAC1F,IAAI,CAAC,oBAAoB,KAAK,IAAI,EAAE;YACvC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,wDAAwD,CAAC;;;YAAE;gBACrG,IAAI,CAAC,oBAAoB,GAAG,KAAK,CAAC;aACnC,EAAC,CAAC;YACH,OAAO;SACR;;QAED,IAAI,IAAI,CAAC,oBAAoB,EAAE;YAC7B,IAAI,IAAI,CAAC,uBAAuB,EAAE;gBAChC,IAAI,CAAC,uBAAuB,GAAG,KAAK,CAAC;aACtC;YACD,IAAI,IAAI,CAAC,sBAAsB,EAAE;gBAC/B,IAAI,CAAC,sBAAsB,GAAG,KAAK,CAAC;aACrC;SACF;KACF;;;;IAED,mBAAmB;QACjB,OAAO;YACL,mBAAmB,EAAE,IAAI,CAAC,sBAAsB,EAAE;YAClD,mBAAmB,EAAE,IAAI,CAAC,mBAAmB;YAC7C,aAAa,EAAE,IAAI,CAAC,aAAa;YACjC,mBAAmB,EAAE,IAAI,CAAC,iBAAiB,EAAE;SAC9C,CAAC;KACH;;;;;IACO,sBAAsB;;cACtB,aAAa,GAAkB,EAAE;QACvC,IAAI,IAAI,CAAC,sBAAsB,EAAE;YAC/B,aAAa,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC;SACvC;QACD,IAAI,IAAI,CAAC,sBAAsB,EAAE;YAC/B,aAAa,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC;SACvC;QACD,IAAI,IAAI,CAAC,uBAAuB,EAAE;YAChC,aAAa,CAAC,IAAI,CAAC,kBAAkB,CAAC,CAAC;SACxC;QACD,IAAI,IAAI,CAAC,oBAAoB,EAAE;YAC7B,aAAa,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC,iBAAiB,IAAI,IAAI,CAAC,oBAAoB,EAAE,CAAC,CAAC;SAC9E;QAED,OAAO,aAAa,CAAC;KACtB;;;;;IAEO,iBAAiB;;cACjB,QAAQ,GAAkB,IAAI,KAAK,EAAE;QAC3C,IAAI,IAAI,CAAC,mBAAmB,EAAE;YAC5B,QAAQ,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC;SAClC;QACD,IAAI,IAAI,CAAC,mBAAmB,EAAE;YAC5B,QAAQ,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC;SAClC;QACD,IAAI,IAAI,CAAC,oBAAoB,EAAE;YAC7B,QAAQ,CAAC,IAAI,CAAC,kBAAkB,CAAC,CAAC;SACnC;QAED,OAAO,QAAQ,CAAC;KACjB;;;;IAED,cAAc;;QAEZ,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,YAAY,CAAC,QAAQ,CAAC,CAAC;QAChD,IAAI,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE;YACzC,KAAK,MAAM,MAAM,IAAI,IAAI,CAAC,aAAa,CAAC,OAAO,EAAE;gBAC/C,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,QAAQ,EAAE,MAAM,CAAC,CAAC;aACvC;YACD,IAAI,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,WAAW,IAAI,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC,MAAM,GAAG,CAAC,EAAE;;sBAC/F,UAAU,GAAG,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC;gBAC/D,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,UAAU,CAAC,IAAI,EAAE,QAAQ,EACnD,UAAU,CAAC,IAAI,EAAE,YAAY,CAAC,UAAU,CAAC,CAAC;aAC7C;SACF;;YACG,OAAO,GAAG,IAAI,KAAK,EAAE;QACzB,OAAO,GAAG,IAAI,CAAC,aAAa,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC;QACjD,IAAI,IAAI,CAAC,aAAa,CAAC,kBAAkB,CAAC,MAAM,GAAG,CAAC,EAAE;YACpD,KAAK,MAAM,QAAQ,IAAI,IAAI,CAAC,aAAa,CAAC,kBAAkB,EAAE;gBAC5D,IAAI,CAAC,OAAO,CAAC,IAAI;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,GAAG,KAAK,QAAQ,CAAC,GAAG,EAAC,EAAE;oBAC9C,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;iBACxB;;aAEF;SACF;QACD,IAAI,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE;YACtB,KAAK,MAAM,CAAC,IAAI,OAAO,EAAE;gBACvB,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;aACzB;SACF;;QAED,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,oBAAoB,CAAC,CAAC;;QAEvD,IAAI,CAAC,IAAI,CAAC,eAAe,EAAE,CAAC,IAAI;;;;QAAC,CAAC,CAAS;YACzC,IAAI,CAAC,oBAAoB,GAAG,CAAC,CAAC;;YAE9B,IAAG,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE;gBACrB,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,eAAe,GAAG,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,eAAe,CAAC,MAAM;;;;gBAAC,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,GAAG,KAAK,CAAC,CAAC,GAAG,EAAC,EAAC,CAAC;aAC9H;SACF,EAAC,CAAC;KACJ;;;;;IACD,aAAa,CAAC,IAAS;QACrB,IAAI,IAAI,KAAK,KAAK,EAAE;YAClB,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC,gBAAgB,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC;SACzD;aAAM,IAAI,IAAI,KAAK,sBAAsB,EAAE;YAC1C,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC,gBAAgB,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC;SACzD;KACF;;;;IACD,KAAK;QACH,IAAI,CAAC,oBAAoB,GAAG,EAAE,CAAC;KAChC;;;YArWF,SAAS,SAAC;gBACT,QAAQ,EAAE,uBAAuB;gBACjC,kgYAAiD;gBAEjD,SAAS,EAAE;oBACR,YAAY;iBACd;;aACF;;;;YAhB+C,MAAM;YAE7C,sBAAsB;YACtB,iBAAiB;YACjB,eAAe;YAJyG,iBAAiB,uBA6G7I,QAAQ;yCACR,MAAM,SAAC,SAAS;4CAChB,MAAM,SAAC,iBAAiB;YAzGD,YAAY,uBA0GnC,QAAQ;;;kBA9FV,WAAW,SAAC,OAAO;2BAEnB,KAAK;yBACL,MAAM;0BACN,MAAM;0BACN,SAAS,SAAC,kBAAkB;oBAE5B,KAAK;kCAUL,KAAK;yBA8BL,SAAS,SAAC,YAAY;;MAiTZ,yBAAyB;;;;IACpC,YACU,UAAwB;QAAxB,eAAU,GAAV,UAAU,CAAc;KAC7B;;;;;IAEL,SAAS,CAAC,IAAW;QACnB,OAAO,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,gCAAgC,CAAC,CAAC;KACpE;CACF;;;;;;;;;;;AC1XD,MAgCa,kBAAkB;;;;;;;;;;;;;;IAyJ7B,YACS,SAA6B,EAC7B,OAAyB,EACxB,WAAwB,EACxB,QAAkC,EAClC,QAAkB,EAClB,YAA4B,EAC5B,OAAwB,EACzB,eAAuC,EACtC,IAAuB,EACvB,IAAiB;QATlB,cAAS,GAAT,SAAS,CAAoB;QAC7B,YAAO,GAAP,OAAO,CAAkB;QACxB,gBAAW,GAAX,WAAW,CAAa;QACxB,aAAQ,GAAR,QAAQ,CAA0B;QAClC,aAAQ,GAAR,QAAQ,CAAU;QAClB,iBAAY,GAAZ,YAAY,CAAgB;QAC5B,YAAO,GAAP,OAAO,CAAiB;QACzB,oBAAe,GAAf,eAAe,CAAwB;QACtC,SAAI,GAAJ,IAAI,CAAmB;QACvB,SAAI,GAAJ,IAAI,CAAa;QAjK3B,YAAO,GAAG,IAAI,CAAC;;QAEf,SAAI,GAA2C,kBAAkB,CAAC;QAClE,aAAQ,GAAuC,cAAc,CAAC;;QASpD,eAAU,GAAG,IAAI,YAAY,EAAO,CAAC;QACrC,gBAAW,GAAG,IAAI,YAAY,EAAO,CAAC;QAgFvC,iBAAY,GAAQ,EAAE,CAAC;QAIhC,YAAO,GAAG,IAAI,CAAC;QAEf,gBAAW,GAAG;YACZ,KAAK,EAAE,KAAK;YACZ,KAAK,EAAE,GAAG;YACV,MAAM,EAAE,GAAG;YACX,WAAW,EAAE,IAAI;SAClB,CAAC;QACF,YAAO,GAAG;YACR;gBACE,KAAK,EAAE,MAAM,EAAE,KAAK,EAAE,EAAE,EAAE,KAAK,EAAE,IAAI;gBACrC,SAAS,EAAE;oBACT,IAAI,EAAE,MAAM;oBACZ,OAAO,EAAE,EAAE,UAAU,EAAE,OAAO,EAAE,SAAS,EAAE,MAAM,EAAE,IAAI,EAAE,IAAI,CAAC,OAAO,CAAC,cAAc,EAAE;iBACvF;aACD;YACF,EAAE,KAAK,EAAE,eAAe,EAAE,KAAK,EAAE,EAAE,EAAE,KAAK,EAAE,IAAI,EAAE;YAClD,EAAE,KAAK,EAAE,aAAa,EAAE,KAAK,EAAE,GAAG,EAAE,KAAK,EAAE,IAAI,EAAE,QAAQ,EAAE,IAAI,EAAE;YACjE;gBACE,KAAK,EAAE,WAAW,EAAE,KAAK,EAAE,EAAE,EAAE,KAAK,EAAE,MAAM,EAAE,QAAQ,EAAE,IAAI;gBAC5D,MAAM,EAAE;oBACN,IAAI,EAAE,aAAa;oBACnB,OAAO,EAAE;wBACP,SAAS,EAAE,sCAAsC;wBACjD,QAAQ,EAAE,KAAK;wBACf,WAAW;;;;wBAAE,CAAC,CAAC;4BACb,CAAC,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC,CAAC,QAAQ,CAAC,KAAK,GAAG,CAAC,CAAC,QAAQ,CAAC,KAAK,GAAG,EAAE,CAAC,CAAC;4BACjE,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC;yBACtB,CAAA;wBACD,KAAK;;;;wBAAE,CAAC,CAAC;4BACP,IAAI,CAAC,CAAC,OAAO,CAAC,IAAI,KAAK,mCAAmC,EAAE;;sCACpD,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,UAAU,CAAC,SAAS;;;;gCAAC,IAAI,IAAI,IAAI,CAAC,EAAE,KAAK,CAAC,CAAC,OAAO,CAAC,EAAE,EAAC;gCAC3F,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,SAAS,GAAG,EAAE,CAAC;6BACzD;iCAAM,IAAI,CAAC,CAAC,OAAO,CAAC,IAAI,KAAK,uCAAuC,EAAE;;sCAC/D,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,cAAc,CAAC,SAAS;;;;gCAAC,IAAI,IAAI,IAAI,CAAC,EAAE,KAAK,CAAC,CAAC,OAAO,CAAC,EAAE,EAAC;gCAC/F,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,SAAS,GAAG,EAAE,CAAC;6BAC7D;iCAAM,IAAI,CAAC,CAAC,OAAO,CAAC,IAAI,KAAK,gCAAgC,EAAE;;sCACxD,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,kBAAkB,CAAC,SAAS;;;;gCAAC,IAAI,IAAI,IAAI,CAAC,EAAE,KAAK,CAAC,CAAC,OAAO,CAAC,EAAE,EAAC;gCACnG,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,kBAAkB,CAAC,CAAC,CAAC,CAAC,SAAS,GAAG,EAAE,CAAC;6BACjE;iCAAM,IAAI,CAAC,CAAC,OAAO,CAAC,IAAI,KAAK,0CAA0C,EAAE;;sCAClE,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,iBAAiB,CAAC,SAAS;;;;gCAAC,IAAI,IAAI,IAAI,CAAC,EAAE,KAAK,CAAC,CAAC,OAAO,CAAC,EAAE,EAAC;gCAClG,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,iBAAiB,CAAC,CAAC,CAAC,CAAC,SAAS,GAAG,EAAE,CAAC;6BAChE;iCAAM,IAAI,CAAC,CAAC,OAAO,CAAC,IAAI,KAAK,sCAAsC,EAAC;gCACnE,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,wBAAwB,CAAC,CAAC,CAAC,CAAC,SAAS,GAAG,EAAE,CAAC;6BACvE;yBACF,CAAA;qBACF;iBACF;aACF;SACF,CAAC;QAGF,cAAS,GAAG,KAAK,CAAC;QAqjBlB,cAAS;;;;;;QAAG,CAAC,QAAgB,EAAE,OAAY,EAAE,MAAmB;YAC9D,OAAOV,IAAE,CAAC,IAAI,CAAC,CAAC;SACjB,EAAA;QAziBC,IAAI,CAAC,mBAAmB,EAAE,CAAC;KAC5B;;;;;IArJD,IACI,KAAK,CAAC,QAAuB;QAC/B,IAAI,QAAQ,CAAC,UAAU,IAAI,QAAQ,CAAC,UAAU,CAAC,MAAM,GAAG,CAAC,EAAE;YACzD,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,UAAU,GAAG,QAAQ,CAAC,UAAU,CAAC;YAC5D,IAAI,CAAC,OAAO,CAAC,cAAc,GAAG,IAAI,CAAC,OAAO,CAAC,cAAc,CAAC,MAAM,oBAAC,QAAQ,CAAC,UAAU,GAAU,CAAC;YAC/F,IAAI,CAAC,OAAO,CAAC,cAAc,CAAC,GAAG;;;;YAAC,SAAS,IAAI,SAAS,CAAC,WAAW,GAAG,IAAI,CAAC,oBAAoB,oBAAC,SAAS,GAAQ,EAAC,CAAC;SACnH;QACD,IAAI,QAAQ,CAAC,kBAAkB,IAAI,QAAQ,CAAC,kBAAkB,CAAC,MAAM,GAAG,CAAC,EAAE;YACzE,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,kBAAkB,GAAG,QAAQ,CAAC,kBAAkB,CAAC;YAC5E,IAAI,CAAC,OAAO,CAAC,cAAc,GAAG,IAAI,CAAC,OAAO,CAAC,cAAc,CAAC,MAAM,oBAAC,QAAQ,CAAC,kBAAkB,GAAU,CAAC;YACvG,IAAI,CAAC,OAAO,CAAC,cAAc,CAAC,GAAG;;;;YAAC,kBAAkB,IAAI,kBAAkB,CAAC,WAAW,GAAG,IAAI,CAAC,oBAAoB,oBAAC,kBAAkB,GAAQ,EAAC,CAAC;SAC9I;QACD,IAAI,QAAQ,CAAC,UAAU,IAAI,QAAQ,CAAC,UAAU,CAAC,MAAM,GAAG,CAAC,EAAE;YACzD,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,UAAU,GAAG,QAAQ,CAAC,UAAU,CAAC;YAC5D,QAAQ,CAAC,UAAU,CAAC,OAAO;;;;YAAC,GAAG;gBAC7B,IAAI,CAAC,OAAO,CAAC,cAAc,CAAC,IAAI,CAAC;oBAC/B,EAAE,EAAE,GAAG,CAAC,EAAE;oBACV,IAAI,EAAE,mCAAmC;oBACzC,aAAa,EAAE,GAAG,CAAC,IAAI;oBACvB,WAAW,EAAE,IAAI,CAAC,oBAAoB,CAAC,GAAG,CAAC;oBAC3C,SAAS,EAAE,GAAG,CAAC,SAAS;iBACzB,CAAC,CAAC;aACJ,EAAC,CAAC;SACJ;QACD,IAAI,QAAQ,CAAC,cAAc,IAAI,QAAQ,CAAC,cAAc,CAAC,MAAM,GAAG,CAAC,EAAE;YACjE,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,cAAc,GAAG,QAAQ,CAAC,cAAc,CAAC;YACpE,QAAQ,CAAC,cAAc,CAAC,OAAO;;;;YAAC,CAAC;gBAC/B,IAAI,CAAC,OAAO,CAAC,cAAc,CAAC,IAAI,CAAC;oBAC/B,EAAE,EAAE,CAAC,CAAC,EAAE;oBACR,IAAI,EAAE,uCAAuC;oBAC7C,aAAa,EAAE,CAAC,CAAC,oBAAoB,GAAG,GAAG,GAAG,CAAC,CAAC,SAAS;oBACzD,WAAW,EAAE,IAAI,CAAC,wBAAwB,CAAC,CAAC,CAAC;oBAC7C,SAAS,EAAE,CAAC,CAAC,SAAS;iBACvB,CAAC,CAAC;aACJ,EAAC,CAAC;SACJ;QACD,IAAG,QAAQ,CAAC,iBAAiB,IAAI,QAAQ,CAAC,iBAAiB,CAAC,MAAM,GAAG,CAAC,EAAE;YACtE,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,iBAAiB,GAAG,QAAQ,CAAC,iBAAiB,CAAC;YAC1E,QAAQ,CAAC,iBAAiB,CAAC,OAAO;;;;YAAC,OAAO;gBACxC,IAAI,CAAC,OAAO,CAAC,cAAc,CAAC,IAAI,CAAC;oBAC/B,EAAE,EAAE,OAAO,CAAC,EAAE;oBACd,IAAI,EAAE,0CAA0C;oBAChD,aAAa,EAAE,GAAG,GAAG,OAAO,CAAC,eAAe,GAAG,QAAQ;oBACvD,WAAW,EAAE,GAAG,GAAG,OAAO,CAAC,eAAe,GAAG,QAAQ;oBACrD,SAAS,EAAE,OAAO,CAAC,SAAS;iBAC7B,CAAC,CAAC;aACJ,EAAC,CAAA;SACH;QACD,IAAI,QAAQ,CAAC,kBAAkB,IAAI,QAAQ,CAAC,kBAAkB,CAAC,MAAM,GAAG,CAAC,EAAE;YACzE,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,kBAAkB,GAAG,QAAQ,CAAC,kBAAkB,CAAC;YAC5E,QAAQ,CAAC,kBAAkB,CAAC,OAAO;;;;YAAC,CAAC;gBACnC,IAAI,CAAC,OAAO,CAAC,cAAc,CAAC,IAAI,CAAC;oBAC/B,EAAE,EAAE,CAAC,CAAC,EAAE;oBACR,IAAI,EAAE,gCAAgC;oBACtC,aAAa,EAAE,CAAC,CAAC,aAAa,GAAG,GAAG,GAAG,CAAC,CAAC,cAAc;oBACvD,WAAW,EAAE,IAAI,CAAC,iBAAiB,CAAC,CAAC,CAAC;oBACtC,SAAS,EAAE,CAAC,CAAC,SAAS;iBACvB,CAAC,CAAC;aACJ,EAAC,CAAC;SACJ;QACD,IAAI,QAAQ,CAAC,wBAAwB,IAAI,QAAQ,CAAC,wBAAwB,CAAC,MAAM,GAAG,CAAC,EAAE;YACrF,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,wBAAwB,GAAG,QAAQ,CAAC,wBAAwB,CAAC;YACxF,QAAQ,CAAC,wBAAwB,CAAC,OAAO;;;;YAAC,CAAC;gBACzC,IAAI,CAAC,OAAO,CAAC,cAAc,CAAC,IAAI,CAAC;oBAC/B,EAAE,EAAE,CAAC,CAAC,EAAE;oBACR,IAAI,EAAE,sCAAsC;oBAC5C,aAAa,EAAE,CAAC,CAAC,gBAAgB;oBACjC,WAAW,EAAE,CAAC,CAAC,gBAAgB,GAAE,GAAG,IAAG,CAAC,CAAC,eAAe,GAAG,MAAM,GAAC,OAAO,CAAC;oBAC1E,SAAS,EAAE,CAAC,CAAC,SAAS;iBACvB,CAAC,CAAC;aACJ,EAAC,CAAA;SACH;QACD,IAAI,QAAQ,CAAC,OAAO,EAAE;YACpB,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,OAAO,GAAG,QAAQ,CAAC,OAAO,CAAC;SACvD;QACD,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,UAAU,GAAG,QAAQ,CAAC,UAAU,CAAC;KAC7D;;;;IA2ED,QAAQ;QACN,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC;QACnC,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC;QAC3C,IAAI,CAAC,eAAe,EAAE,CAAC,SAAS;;;;QAAC,EAAE;YACjC,IAAI,EAAE,IAAI,EAAE,CAAC,YAAY,KAAK,OAAO,EAAE;gBACrC,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;aACtB;SACF,EAAC,CAAC;KACJ;;;;;IACD,YAAY,CAAC,IAAa;QACxB,IAAI,IAAI,EAAE;YACR,IAAI,CAAC,OAAO,CAAC,cAAc,EAAE,CAAC;SAC/B;KACF;;;;;;;;;;;;;;;;;;;IAgBD,YAAY,CAAC,aAAqB;QAChC,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;;cACjB,WAAW,GAAG,IAAI,CAAC,QAAQ,CAAC,uBAAuB,CAAC,sBAAsB,CAAC;QACjF,IAAI,CAAC,OAAO,GAAG,WAAW,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;QACjD,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC;QAC7C,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,aAAa,GAAG,aAAa,CAAC;;cAE9C,WAAW,GAAG;YAClB,KAAK,EAAE,OAAO;YACd,KAAK,EAAE,GAAG;YACV,MAAM,EAAE,GAAG;YACX,OAAO,EAAE,IAAI,CAAC,UAAU;YACxB,WAAW,EAAE,IAAI;SAClB;QACD,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,WAAW,CAAC,CAAC;QACpE,IAAI,CAAC,UAAU,CAAC,KAAK,EAAE,CAAC;KACzB;;;;IACD,IAAI;QACF,IAAI,CAAC,SAAS,GAAG,MAAM,CAAC;QACxB,IAAI,IAAI,CAAC,OAAO,CAAC,YAAY,EAAE;;kBACvB,WAAW,GAAG;gBAClB,KAAK,EAAE,OAAO;gBACd,KAAK,EAAE,GAAG;gBACV,MAAM,EAAE,GAAG;gBACX,OAAO,EAAE,IAAI,CAAC,UAAU;gBACxB,WAAW,EAAE,IAAI;aAClB;;kBACK,WAAW,GAAG,IAAI,CAAC,QAAQ,CAAC,uBAAuB,CAAC,sBAAsB,CAAC;YACjF,IAAI,CAAC,OAAO,GAAG,WAAW,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;YACjD,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,aAAa,GAAG,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,IAAI,CAAC;YACrE,QAAQ,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,IAAI;gBACpC,KAAK,kCAAkC;oBACrC,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,SAAS,GAAG;wBAChC,IAAI,EAAE,kCAAkC;wBACxC,KAAK,EAAE,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,UAAU,CAAC,IAAI;;;;wBAAC,CAAC,IAAI,CAAC,CAAC,EAAE,KAAK,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,EAAE,EAAC;qBAC9F,CAAC;oBACF,MAAM;gBACR,KAAK,8BAA8B;oBACjC,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,SAAS,GAAG;wBAChC,IAAI,EAAE,8BAA8B;wBACpC,KAAK,EAAE,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,UAAU,CAAC,IAAI;;;;wBAAC,CAAC,IAAI,CAAC,CAAC,EAAE,KAAK,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,EAAE,EAAC;qBAC9F,CAAC;oBACF,MAAM;gBACR,KAAK,kCAAkC;oBACrC,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,SAAS,GAAG;wBAChC,IAAI,EAAE,kCAAkC;wBACxC,KAAK,EAAE,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,kBAAkB,CAAC,IAAI;;;;wBAAC,CAAC,IAAI,CAAC,CAAC,EAAE,KAAK,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,EAAE,EAAC;qBACtG,CAAC;oBACF,MAAM;gBACR,KAAK,uCAAuC;;0BACpC,aAAa,GAAG,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,cAAc,CAAC,IAAI;;;;oBAAC,CAAC;wBACpE,OAAO,CAAC,CAAC,EAAE,KAAK,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,EAAE,CAAC;qBAC9C,EAAC;oBACF,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,SAAS,GAAG;wBAChC,IAAI,EAAE,uCAAuC;wBAC7C,KAAK,EAAE,aAAa;qBACrB,CAAC;;0BACI,GAAG,GAAG,gDAAgD,GAAG,aAAa,CAAC,kBAAkB;oBAC/F,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,SAAS;;;;oBAAC,CAAC,GAAQ;wBACpC,IAAI,CAAC,GAAG,EAAE;4BACR,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,wBAAwB,CAAC,CAAA;4BAC5C,IAAI,CAAC,MAAM,EAAE,CAAC;yBACf;6BAAM;4BACL,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,WAAW,CAAC,CAAC;yBACrE;qBACF,EAAC,CAAC;oBACH,MAAM;gBACR,KAAK,gCAAgC;;0BAC7B,MAAM,GAAG,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,kBAAkB,CAAC,IAAI;;;;oBAAC,CAAC;wBACjE,OAAO,CAAC,CAAC,EAAE,KAAK,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,EAAE,CAAC;qBAC9C,EAAC;oBACF,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,SAAS,GAAG;wBAChC,IAAI,EAAE,gCAAgC;wBACtC,KAAK,EAAE,MAAM;qBACd,CAAC;;0BACI,SAAS,GAAG,wCAAwC,GAAG,MAAM,CAAC,WAAW;oBAC/E,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC,SAAS;;;;oBAAC,CAAC,GAAQ;wBAC1C,IAAI,CAAC,GAAG,EAAE;4BACR,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,sBAAsB,CAAC,CAAA;4BAC1C,IAAI,CAAC,MAAM,EAAE,CAAC;yBACf;6BAAM;4BACL,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,WAAW,CAAC,CAAC;yBACrE;qBACF,EAAC,CAAC;oBACH,MAAM;gBACR,KAAK,mCAAmC;oBACtC,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,SAAS,GAAG;wBAChC,IAAI,EAAE,mCAAmC;wBACzC,KAAK,EAAE,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,UAAU,CAAC,IAAI;;;;wBAAC,CAAC;4BACjD,OAAO,CAAC,CAAC,EAAE,KAAK,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,EAAE,CAAC;yBAC9C,EAAC;qBACH,CAAC;oBACF,MAAM;gBACR,KAAK,0CAA0C;oBAC7C,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,SAAS,GAAG;wBAChC,IAAI,EAAE,0CAA0C;wBAChD,KAAK,EAAE,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,iBAAiB,CAAC,IAAI;;;;wBAAE,CAAC;4BACzD,OAAO,CAAC,CAAC,EAAE,KAAK,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,EAAE,CAAC;yBAC9C,EAAC;qBACH,CAAC;oBACF,MAAM;gBACR,KAAK,sCAAsC;oBACzC,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,SAAS,GAAG;wBAChC,IAAI,EAAE,sCAAsC;wBAC5C,KAAK,EAAE,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,wBAAwB,CAAC,CAAC,CAAC;qBAC9D,CAAC;oBACF,MAAM;aACT;YACD,IAAG,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,IAAI,KAAK,uCAAuC;gBAC3E,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,IAAI,KAAK,gCAAgC,EAAC;gBACpE,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,WAAW,CAAC,CAAC;aACrE;SACF;KACF;;;;IACD,MAAM;QACJ,IAAI,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE;YACzB,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC;YACxB,IAAI,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,KAAK,mCAAmC,EAAE;;sBACrE,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,UAAU,CAAC,SAAS;;;;gBAAC,IAAI,IAAI,IAAI,CAAC,EAAE,KAAK,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,EAAE,EAAC;gBAC5G,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;aACpD;iBAAM,IAAI,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,KAAK,uCAAuC,EAAE;;sBAChF,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,cAAc,CAAC,SAAS;;;;gBAAC,IAAI,IAAI,IAAI,CAAC,EAAE,KAAK,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,EAAE,EAAC;gBAChH,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,cAAc,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;aACxD;iBAAM,IAAI,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,KAAK,gCAAgC,EAAE;;sBACzE,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,kBAAkB,CAAC,SAAS;;;;gBAAC,IAAI,IAAI,IAAI,CAAC,EAAE,KAAK,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,EAAE,EAAC;gBACpH,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,kBAAkB,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;aAC5D;iBAAM,IAAI,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,KAAK,0CAA0C,EAAE;;sBACnF,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,iBAAiB,CAAC,SAAS;;;;gBAAC,IAAI,IAAI,IAAI,CAAC,EAAE,KAAK,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,EAAE,EAAC;gBACnH,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,iBAAiB,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;aAC3D;iBAAM,IAAI,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,KAAK,sCAAsC,EAAE;;sBAC/E,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,wBAAwB,GAAG,IAAI,KAAK,EAAE;aAC5E;iBAAM,IAAI,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,KAAK,kCAAkC,EAAE;;sBAC3E,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,kBAAkB,CAAC,SAAS;;;;gBAAC,IAAI,IAAI,IAAI,CAAC,EAAE,KAAK,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,EAAE,EAAC;gBACpH,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,kBAAkB,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;aAC5D;iBAAM;;sBACC,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,UAAU,CAAC,SAAS;;;;gBAAC,IAAI,IAAI,IAAI,CAAC,EAAE,KAAK,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,EAAE,EAAC;gBAC5G,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;aACpD;;kBACK,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC,cAAc,CAAC,SAAS;;;;YAAC,CAAC,IAAI,CAAC,CAAC,EAAE,KAAK,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,EAAE,EAAC;YAChG,IAAI,CAAC,OAAO,CAAC,cAAc,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;YAE7C,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,cAAc,CAAC,CAAC;SACjD;aAAM;YACL,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;SACnC;KACF;;;;IACD,KAAK;QACH,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,UAAU,GAAG,EAAE,CAAC;QAC3C,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,kBAAkB,GAAG,EAAE,CAAC;QACnD,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,UAAU,GAAG,EAAE,CAAC;QAC3C,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,cAAc,GAAG,EAAE,CAAC;QAC/C,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,kBAAkB,GAAG,EAAE,CAAC;QACnD,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,iBAAiB,GAAG,EAAE,CAAC;QAClD,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,wBAAwB,GAAG,IAAI,KAAK,EAAE,CAAC;QAClE,IAAI,CAAC,OAAO,CAAC,cAAc,GAAG,EAAE,CAAC;QACjC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,cAAc,CAAC,CAAC;KACjD;;;;IAED,OAAO;QACL,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC;;cAClB,MAAM,GAAG;YACb,KAAK,EAAE,IAAI,CAAC,OAAO,CAAC,aAAa,EAAE,UAAU,EAAE,IAAI;SACpD;QACD,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;KAC/B;;;;IACD,WAAW;QACT,IAAI,CAAC,UAAU,CAAC,IAAI,EAAE,CAAC;KACxB;;;;IACD,MAAM;QACJ,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;QACpB,IAAI,IAAI,CAAC,OAAO,EAAE;;kBACV,EAAE,GAAG,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,aAAa,EAAE;YAChD,IAAI,EAAE,CAAC,cAAc,IAAI,EAAE,CAAC,cAAc,CAAC,MAAM,GAAG,CAAC,EAAE;gBACrD,EAAE,CAAC,cAAc,CAAC,OAAO;;;;gBAAC,CAAC;;0BACnB,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,UAAU,CAAC,SAAS;;;;oBAAC,CAAC,KAAK,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,WAAW,KAAK,CAAC,CAAC,WAAW,CAAC,EAAC;oBAClH,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE;;8BACJ,EAAE,GAAG,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,EAAE;wBACtD,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,UAAU,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;;8BACvC,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC,cAAc,CAAC,SAAS;;;;wBAAC,CAAC,IAAI,CAAC,CAAC,EAAE,KAAK,EAAE,EAAC;wBACrE,IAAI,CAAC,OAAO,CAAC,cAAc,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;qBACxC;yBAAM;wBACL,IAAI,IAAI,CAAC,SAAS,KAAK,MAAM,EAAE;4BAC7B,IAAI,CAAC,MAAM,EAAE,CAAC;yBACf;wBACD,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;wBAC9C,IAAI,CAAC,OAAO,CAAC,cAAc,GAAG,IAAI,CAAC,OAAO,CAAC,cAAc,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;qBACvE;iBACF,EAAC,CAAC;gBACH,IAAI,CAAC,OAAO,CAAC,cAAc;qBACxB,MAAM;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,IAAI,KAAK,IAAI,CAAC,OAAO,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,KAAK,IAAI,CAAC,CAAC,IAAI,KAAK,IAAI,CAAC,OAAO,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,KAAK,EAAE;qBAChH,GAAG;;;;gBAAC,SAAS,IAAI,SAAS,CAAC,WAAW;oBACrC,IAAI,CAAC,oBAAoB,oBAAC,SAAS,GAAQ,EAAC,CAAC;aAClD;YACD,IAAI,EAAE,CAAC,SAAS,IAAI,EAAE,CAAC,SAAS,CAAC,MAAM,GAAG,CAAC,EAAE;gBAC3C,KAAK,MAAM,QAAQ,IAAI,EAAE,CAAC,SAAS,EAAE;oBACnC,IAAI,QAAQ,IAAI,QAAQ,KAAK,IAAI,IAAI,QAAQ,CAAC,EAAE,EAAE;;8BAC1C,CAAC,GAAG,QAAQ;wBAClB,IAAI,CAAC,CAAC,CAAC,WAAW,EAAE;4BAClB,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;4BAC7B,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;yBACtB;6BAAM;4BACL,IAAI,CAAC,CAAC,CAAC,CAAC,OAAO,IAAI,CAAC,CAAC,OAAO,IAAI,IAAI,MAAM,CAAC,CAAC,UAAU,IAAI,CAAC,CAAC,YAAY,KAAK,GAAG,CAAC,EAAE;gCACjF,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;gCAC/B,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;6BACtB;iCAAM,IAAI,CAAC,CAAC,CAAC,CAAC,KAAK,IAAI,CAAC,CAAC,KAAK,IAAI,IAAI,MAAM,CAAC,CAAC,UAAU,IAAI,CAAC,CAAC,YAAY,KAAK,GAAG,CAAC,EAAE;gCACpF,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;gCAC7B,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;6BACtB;iCAAM;;;sCAEC,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,UAAU,CAAC,SAAS;;;;gCAAC,CAAC,KAAK,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC,WAAW,KAAK,CAAC,CAAC,WAAW,IAAI,CAAC,CAAC,KAAK,KAAK,CAAC,CAAC,KAAK,CAAC,CAAC,EAAC;gCAC3I,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE;;0CACJ,EAAE,GAAG,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,EAAE;oCACtD,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,UAAU,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;;0CACvC,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC,cAAc,CAAC,SAAS;;;;oCAAC,CAAC,IAAI,CAAC,CAAC,EAAE,KAAK,EAAE,EAAC;oCACrE,IAAI,CAAC,OAAO,CAAC,cAAc,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;iCACxC;qCAAM;oCACL,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;oCAC9C,IAAI,CAAC,OAAO,CAAC,cAAc,GAAG,IAAI,CAAC,OAAO,CAAC,cAAc,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;iCACvE;gCACD,IAAI,CAAC,OAAO,CAAC,cAAc;qCACxB,MAAM;;;;gCAAC,CAAC,IAAI,CAAC,CAAC,IAAI,KAAK,IAAI,CAAC,OAAO,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,KAAK,IAAI,CAAC,CAAC,IAAI,KAAK,IAAI,CAAC,OAAO,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,KAAK,EAAC;qCAC/G,GAAG;;;;gCAAC,SAAS,IAAI,SAAS,CAAC,WAAW;oCACrC,IAAI,CAAC,oBAAoB,oBAAC,SAAS,GAAQ,EAAC,CAAC;6BAClD;yBACF;qBACF;iBACF;aACF;YAED,IAAI,EAAE,CAAC,SAAS,IAAI,EAAE,CAAC,SAAS,CAAC,UAAU,IAAI,EAAE,CAAC,SAAS,CAAC,UAAU,EAAE;;sBAChE,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,UAAU,CAAC,SAAS;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,EAAE,KAAK,EAAE,CAAC,SAAS,CAAC,EAAE,EAAC;gBACxF,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE;oBACV,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,UAAU,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,SAAS,CAAC;;0BAClD,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC,cAAc,CAAC,SAAS;;;;oBAAC,CAAC,IAAI,CAAC,CAAC,EAAE,KAAK,EAAE,CAAC,SAAS,CAAC,EAAE,EAAC;oBAClF,IAAI,CAAC,OAAO,CAAC,cAAc,CAAC,KAAK,CAAC,GAAG;wBACnC,EAAE,EAAE,EAAE,CAAC,SAAS,CAAC,EAAE;wBACnB,IAAI,EAAE,mCAAmC;wBACzC,aAAa,EAAE,EAAE,CAAC,SAAS,CAAC,IAAI;wBAChC,WAAW,EAAE,IAAI,CAAC,oBAAoB,CAAC,EAAE,CAAC,SAAS,CAAC;wBACpD,SAAS,EAAE,EAAE,CAAC,SAAS,CAAC,SAAS;qBAClC,CAAC;iBACH;qBAAM;oBACL,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,UAAU,CAAC,IAAI,CAAC,EAAE,CAAC,SAAS,CAAC,CAAC;oBACzD,IAAI,CAAC,OAAO,CAAC,cAAc,CAAC,IAAI,CAAC;wBAC/B,EAAE,EAAE,EAAE,CAAC,SAAS,CAAC,EAAE;wBACnB,IAAI,EAAE,mCAAmC;wBACzC,aAAa,EAAE,EAAE,CAAC,SAAS,CAAC,IAAI;wBAChC,WAAW,EAAE,IAAI,CAAC,oBAAoB,CAAC,EAAE,CAAC,SAAS,CAAC;wBACpD,SAAS,EAAE,EAAE;qBACd,CAAC,CAAC;iBACJ;aACF;YACD,IAAI,EAAE,CAAC,aAAa,IAAI,EAAE,CAAC,aAAa,CAAC,kBAAkB,IAAI,EAAE,CAAC,aAAa,CAAC,SAAS,EAAE;gBACzF,IAAG,EAAE,CAAC,aAAa,CAAC,oBAAoB,KAAK,MAAM,IAAI,CAAC,EAAE,CAAC,aAAa,CAAC,QAAQ,EAAC;oBAChF,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;oBACrB,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,yBAAyB,CAAC,CAAC;iBAC9C;qBAAM,IAAI,EAAE,CAAC,aAAa,CAAC,oBAAoB,KAAK,MAAM,IAAI,CAAC,EAAE,CAAC,aAAa,CAAC,SAAS,IAAI,CAAC,EAAE,CAAC,aAAa,CAAC,aAAa,EAAE;oBAC7H,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;oBACrB,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,qBAAqB,CAAC,CAAC;iBAC1C;qBAAM;oBACL,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;oBACpB,IAAI,CAAC,oBAAoB,CAAC,EAAE,CAAC,CAAC;iBAC/B;aACF;YACD,IAAI,EAAE,CAAC,MAAM,IAAI,EAAE,CAAC,MAAM,CAAC,WAAW,EAAE;gBACtC,IAAG,CAAC,EAAE,CAAC,MAAM,CAAC,eAAe,IAAI,CAAC,EAAE,CAAC,MAAM,CAAC,eAAe,IAAI,CAAC,EAAE,CAAC,MAAM,CAAC,eAAe,EAAC;oBACxF,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;oBACrB,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;iBAClC;qBAAM,IAAG,CAAC,EAAE,CAAC,MAAM,CAAC,cAAc,EAAC;oBAClC,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;oBACrB,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;iBAC/B;qBAAM;oBACL,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;oBACpB,IAAI,CAAC,aAAa,CAAC,EAAE,CAAC,CAAC;iBACxB;aACF;YACD,IAAI,EAAE,CAAC,0BAA0B,IAAI,EAAE,CAAC,0BAA0B,CAAC,MAAM,GAAG,CAAC,EAAE;gBAC7E,EAAE,CAAC,0BAA0B,CAAC,OAAO;;;;gBAAC,CAAC;;0BAC/B,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,iBAAiB,CAAC,SAAS;;;;oBAAC,CAAC,KAAK,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,aAAa,KAAK,CAAC,CAAC,aAAa,CAAC,EAAC;oBAC7H,IAAI,CAAC,GAAG,CAAC,EAAE;wBACT,IAAI,IAAI,CAAC,SAAS,KAAK,MAAM,EAAE;4BAC7B,IAAI,CAAC,MAAM,EAAE,CAAC;yBACf;wBACD,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,iBAAiB,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;wBACrD,IAAI,CAAC,OAAO,CAAC,cAAc,GAAG,IAAI,CAAC,OAAO,CAAC,cAAc,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;qBACvE;iBACF,EAAC,CAAC;gBACH,IAAI,CAAC,OAAO,CAAC,cAAc;qBACxB,MAAM;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,IAAI,KAAK,IAAI,CAAC,OAAO,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,KAAK,EAAE;qBAC7D,GAAG;;;;gBAAC,SAAS,IAAI,SAAS,CAAC,WAAW;oBACrC,IAAI,CAAC,oBAAoB,oBAAC,SAAS,GAAQ,EAAC,CAAC;aAClD;YACD,IAAI,EAAE,CAAC,uBAAuB,EAAE;gBAC9B,OAAO,CAAC,GAAG,CAAC,EAAE,CAAC,uBAAuB,CAAC,CAAC;gBACxC,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,wBAAwB,GAAG,CAAC,EAAE,CAAC,uBAAuB,CAAC,CAAC;gBACnF,IAAI,CAAC,OAAO,CAAC,cAAc,GAAG,IAAI,CAAC,OAAO,CAAC,cAAc,CAAC,MAAM;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,IAAI,KAAK,sCAAsC,EAAC,CAAC;gBACzH,IAAI,CAAC,OAAO,CAAC,cAAc,GAAG,IAAI,CAAC,OAAO,CAAC,cAAc,CAAC,MAAM,CAAC;oBAC/D,EAAE,EAAE,EAAE,CAAC,uBAAuB,CAAC,EAAE,IAAI,aAAa,CAAC,iBAAiB,EAAE;oBACtE,IAAI,EAAE,sCAAsC;oBAC5C,aAAa,EAAE,EAAE,CAAC,uBAAuB,CAAC,gBAAgB;oBAC1D,WAAW,EAAE,EAAE,CAAC,uBAAuB,CAAC,gBAAgB,GAAE,IAAI,IAAG,EAAE,CAAC,uBAAuB,CAAC,eAAe,GAAG,MAAM,GAAC,OAAO,CAAC;oBAC7H,SAAS,EAAE,EAAE,CAAC,uBAAuB,CAAC,SAAS;iBAChD,CAAC,CAAC;aACJ;YACD,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,cAAc,CAAC,CAAC;SACjD;QACD,IAAI,IAAI,CAAC,UAAU,IAAI,IAAI,CAAC,OAAO,EAAE;YACnC,IAAI,CAAC,UAAU,CAAC,KAAK,EAAE,CAAC;SACzB;KACF;;;;;;IACO,oBAAoB,CAAC,EAAO;;cAC5B,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,cAAc,CAAC,SAAS;;;;QAAC,CAAC,IAAI,CAAC,CAAC,EAAE,KAAK,EAAE,CAAC,aAAa,CAAC,EAAE,EAAC;QAChG,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE;YACV,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,cAAc,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,aAAa,CAAC;;kBAC1D,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC,cAAc,CAAC,SAAS;;;;YAAC,CAAC,IAAI,CAAC,CAAC,EAAE,KAAK,EAAE,CAAC,aAAa,CAAC,EAAE,EAAC;YACtF,IAAI,CAAC,OAAO,CAAC,cAAc,CAAC,KAAK,CAAC,GAAG;gBACnC,EAAE,EAAE,EAAE,CAAC,aAAa,CAAC,EAAE;gBACvB,IAAI,EAAE,uCAAuC;gBAC7C,aAAa,EAAE,EAAE,CAAC,aAAa,CAAC,oBAAoB,GAAG,GAAG,GAAG,EAAE,CAAC,aAAa,CAAC,SAAS;gBACvF,WAAW,EAAE,IAAI,CAAC,wBAAwB,CAAC,EAAE,CAAC,aAAa,CAAC;gBAC5D,SAAS,EAAE,EAAE,CAAC,aAAa,CAAC,SAAS;aACtC,CAAC;SACH;aAAM;YACL,KAAI,MAAM,iBAAiB,IAAI,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,cAAc,EAAC;gBACvE,IAAG,iBAAiB,CAAC,kBAAkB,KAAK,EAAE,CAAC,aAAa,CAAC,YAAY;oBACvE,iBAAiB,CAAC,SAAS,KAAK,EAAE,CAAC,aAAa,CAAC,SAAS;oBAC1D,iBAAiB,CAAC,SAAS,KAAK,EAAE,CAAC,aAAa,CAAC,WAAW;oBAC5D,iBAAiB,CAAC,aAAa,KAAK,EAAE,CAAC,aAAa,CAAC,aAAa;oBAClE,iBAAiB,CAAC,QAAQ,KAAK,EAAE,CAAC,aAAa,CAAC,WAAW,EAC5D;oBACC,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,cAAc,CAAC,CAAC;oBACnC,OAAO;iBACR;aACF;YACD,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,cAAc,CAAC,IAAI,CAAC,EAAE,CAAC,aAAa,CAAC,CAAC;YACjE,IAAI,CAAC,OAAO,CAAC,cAAc,CAAC,IAAI,CAAC;gBAC/B,EAAE,EAAE,EAAE,CAAC,aAAa,CAAC,EAAE;gBACvB,IAAI,EAAE,uCAAuC;gBAC7C,aAAa,EAAE,EAAE,CAAC,aAAa,CAAC,oBAAoB,GAAG,GAAG,GAAG,EAAE,CAAC,aAAa,CAAC,SAAS;gBACvF,WAAW,EAAE,IAAI,CAAC,wBAAwB,CAAC,EAAE,CAAC,aAAa,CAAC;gBAC5D,SAAS,EAAE,EAAE,CAAC,aAAa,CAAC,SAAS;aACtC,CAAC,CAAC;SACJ;KACF;;;;;;IACO,aAAa,CAAC,EAAO;;cACrB,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,kBAAkB,CAAC,SAAS;;;;QAAC,CAAC,IAAI,CAAC,CAAC,EAAE,KAAK,EAAE,CAAC,MAAM,CAAC,EAAE,EAAC;QAC7F,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE;YACV,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,kBAAkB,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,MAAM,CAAC;;kBACvD,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC,cAAc,CAAC,SAAS;;;;YAAC,CAAC,IAAI,CAAC,CAAC,EAAE,KAAK,EAAE,CAAC,MAAM,CAAC,EAAE,EAAC;YAC/E,IAAI,CAAC,OAAO,CAAC,cAAc,CAAC,KAAK,CAAC,GAAG;gBACnC,EAAE,EAAE,EAAE,CAAC,MAAM,CAAC,EAAE;gBAChB,IAAI,EAAE,gCAAgC;gBACtC,aAAa,EAAE,EAAE,CAAC,MAAM,CAAC,aAAa,GAAG,GAAG,GAAG,EAAE,CAAC,MAAM,CAAC,cAAc;gBACvE,WAAW,EAAE,IAAI,CAAC,iBAAiB,CAAC,EAAE,CAAC,MAAM,CAAC;gBAC9C,SAAS,EAAE,EAAE,CAAC,MAAM,CAAC,SAAS;aAC/B,CAAC;SACH;aAAM;YACL,KAAI,MAAM,UAAU,IAAI,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,kBAAkB,EAAC;gBACpE,IAAG,UAAU,CAAC,WAAW,KAAK,EAAE,CAAC,MAAM,CAAC,WAAW;oBACjD,UAAU,CAAC,eAAe,KAAK,EAAE,CAAC,MAAM,CAAC,eAAe;oBACxD,UAAU,CAAC,eAAe,KAAK,EAAE,CAAC,MAAM,CAAC,eAAe;oBACxD,UAAU,CAAC,eAAe,KAAK,EAAE,CAAC,MAAM,CAAC,eAAe;oBACxD,UAAU,CAAC,cAAc,KAAK,EAAE,CAAC,MAAM,CAAC,cAAc,EACvD;oBACC,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC;oBACjC,OAAO;iBACR;aACF;YACD,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,kBAAkB,CAAC,IAAI,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC;YAC9D,IAAI,CAAC,OAAO,CAAC,cAAc,CAAC,IAAI,CAAC;gBAC/B,EAAE,EAAE,EAAE,CAAC,MAAM,CAAC,EAAE;gBAChB,IAAI,EAAE,gCAAgC;gBACtC,aAAa,EAAE,EAAE,CAAC,MAAM,CAAC,aAAa,GAAG,GAAG,GAAG,EAAE,CAAC,MAAM,CAAC,cAAc;gBACvE,WAAW,EAAE,IAAI,CAAC,iBAAiB,CAAC,EAAE,CAAC,MAAM,CAAC;gBAC9C,SAAS,EAAE,EAAE,CAAC,MAAM,CAAC,SAAS;aAC/B,CAAC,CAAC;SACJ;KACF;;;;IACD,UAAU;QACR,IAAI,IAAI,CAAC,UAAU,EAAE;YACnB,IAAI,CAAC,UAAU,CAAC,KAAK,EAAE,CAAC;SACzB;KACF;;;;IACD,qBAAqB;QACnB,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC,mBAAmB,EAAE,CAAC;QACxE,IAAI,CAAC,aAAa,CAAC,KAAK,EAAE,CAAC;KAC5B;;;;;;IAEO,oBAAoB,CAAC,SAA0B;QACrD,IAAI,SAAS,CAAC,IAAI,KAAK,8BAA8B,IAAI,SAAS,CAAC,IAAI,KAAK,kCAAkC,EAAE;YAC9G,IAAI,SAAS,CAAC,GAAG,KAAK,YAAY,EAAE;gBAClC,OAAO,SAAS,CAAC,WAAW,CAAC;aAC9B;iBAAM;gBACL,IAAI,SAAS,CAAC,OAAO,EAAE;oBACrB,OAAO,MAAM,SAAS,CAAC,OAAO,EAAE,CAAC;iBAClC;qBAAM;oBACL,OAAO,EAAE,CAAC;iBACX;aACF;SACF;aAAM,IAAI,SAAS,CAAC,IAAI,KAAK,kCAAkC,EAAE;YAChE,IAAI,IAAI,CAAC,eAAe,CAAC,KAAK,KAAK,SAAS,EAAE;gBAC5C,OAAO,IAAI,CAAC;aACb;YACD,IAAI,oBAAC,SAAS,IAA6B,YAAY,KAAK,GAAG,EAAE;gBAC/D,IAAI,SAAS,CAAC,KAAK,EAAE;oBACnB,OAAO,gBAAgB,SAAS,CAAC,KAAK,EAAE,CAAC;iBAC1C;qBAAM;oBACL,OAAO,WAAW,CAAC;iBACpB;aACF;iBAAM,IAAI,oBAAC,SAAS,IAA6B,YAAY,KAAK,GAAG,EAAE;gBACtE,OAAO,WAAW,CAAC;aACpB;SACF;aAAM,IAAG,SAAS,CAAC,IAAI,KAAK,0CAA0C,EAAE;YACvE,OAAO,SAAS,CAAC,aAAa,CAAC;SAChC;KACF;;;;;;IACO,oBAAoB,CAAC,SAA6B;;YACpD,GAAG,GAAG,MAAM,SAAS,CAAC,IAAI,OAAO;QACrC,IAAI,SAAS,CAAC,gBAAgB,IAAI,SAAS,CAAC,gBAAgB,CAAC,MAAM,GAAG,CAAC,EAAE;YACvE,SAAS,CAAC,gBAAgB,CAAC,OAAO;;;;YAAC,CAAC;gBAClC,GAAG,IAAI,GAAG,CAAC,CAAC,IAAI,IAAI,CAAC,CAAC,KAAK,GAAG,CAAC;aAChC,EAAC,CAAC;YACH,GAAG,GAAG,GAAG,CAAC,SAAS,CAAC,CAAC,EAAE,GAAG,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;SACxC;QACD,GAAG,IAAI,GAAG,CAAC;QACX,OAAO,GAAG,CAAC;KACZ;;;;;;IACO,wBAAwB,CAAC,aAAsC;;YACjE,WAAW,GAAG,EAAE;QACpB,IAAG,aAAa,CAAC,SAAS,EAAC;YACzB,WAAW,IAAI,OAAO,aAAa,CAAC,SAAS,EAAE,CAAC;SACjD;QACD,IAAG,aAAa,CAAC,aAAa,EAAC;YAC7B,WAAW,IAAI,OAAO,aAAa,CAAC,aAAa,EAAE,CAAC;SACrD;QACD,IAAG,aAAa,CAAC,QAAQ,EAAC;YACxB,IAAG,aAAa,CAAC,SAAS,EAAC;gBACzB,WAAW,IAAI,GAAG,CAAC;aACpB;YACD,IAAG,aAAa,CAAC,aAAa,EAAC;gBAC7B,WAAW,IAAI,GAAG,CAAC;aACpB;YACD,WAAW,IAAI,QAAQ,aAAa,CAAC,QAAQ,EAAE,CAAC;SACjD;QACD,OAAO,WAAW,CAAC;KACpB;;;;;;IACO,iBAAiB,CAAC,MAA4B;;YAChD,WAAW,GAAG,EAAE;QACpB,IAAG,MAAM,CAAC,eAAe,EAAC;YACxB,WAAW,IAAI,OAAO,MAAM,CAAC,mBAAmB,GAAG,CAAC;SACrD;QACD,IAAG,MAAM,CAAC,eAAe,EAAC;YACxB,WAAW,IAAI,OAAO,MAAM,CAAC,mBAAmB,GAAG,CAAC;SACrD;QACD,IAAG,MAAM,CAAC,eAAe,EAAC;YACxB,WAAW,IAAI,OAAO,MAAM,CAAC,mBAAmB,GAAG,CAAC;SACrD;QACD,IAAG,MAAM,CAAC,cAAc,EAAC;YACvB,WAAW,IAAI,MAAM,MAAM,CAAC,cAAc,GAAG,CAAC;SAC/C;QACD,OAAO,WAAW,CAAC,KAAK,CAAC,CAAC,EAAE,WAAW,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;KACrD;;;;;IAED,YAAY,CAAC,CAAM;;QAEjB,IAAI,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE;YAC3C,KAAK,MAAM,MAAM,IAAI,IAAI,CAAC,eAAe,CAAC,OAAO,EAAE;gBACjD,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,QAAQ,EAAE,MAAM,CAAC,CAAC;aACvC;YACD,IAAI,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,WAAW,IAAI,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC,MAAM,GAAG,CAAC,EAAE;;sBACnG,UAAU,GAAG,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC;gBACjE,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,UAAU,CAAC,IAAI,EAAE,QAAQ,EACnD,UAAU,CAAC,IAAI,EAAE,YAAY,CAAC,UAAU,CAAC,CAAC;aAC7C;SACF;;YACG,OAAO,GAAG,IAAI,KAAK,EAAE;QACzB,OAAO,GAAG,IAAI,CAAC,eAAe,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC;QACnD,IAAI,IAAI,CAAC,eAAe,CAAC,kBAAkB,CAAC,MAAM,GAAG,CAAC,EAAE;YACtD,KAAK,MAAM,QAAQ,IAAI,IAAI,CAAC,eAAe,CAAC,kBAAkB,EAAE;gBAC9D,IAAI,CAAC,OAAO,CAAC,IAAI;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,GAAG,KAAK,QAAQ,CAAC,GAAG,EAAC,EAAE;oBAC9C,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;iBACxB;aACF;SACF;QACD,IAAI,IAAI,CAAC,eAAe,CAAC,wBAAwB,CAAC,MAAM,GAAG,CAAC,EAAE;YAC5D,KAAK,MAAM,QAAQ,IAAI,IAAI,CAAC,eAAe,CAAC,wBAAwB,EAAE;gBACpE,IAAI,CAAC,OAAO,CAAC,IAAI;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,GAAG,KAAK,QAAQ,CAAC,GAAG,EAAC,EAAE;oBAC9C,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;iBACxB;aACF;SACF;QACD,IAAI,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE;YACtB,KAAK,MAAM,CAAC,IAAI,OAAO,EAAE;gBACvB,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;aACzB;SACF;QACD,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;QAC9C,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,YAAY,CAAC,WAAW,CAAC,CAAC;QACnD,IAAI,CAAC,IAAI,CAAC,eAAe,EAAE,CAAC,IAAI;;;;QAAC,CAAC,IAAY;YAC5C,IAAI,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,KAAK,mCAAmC,EAAE;gBAC3E,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,UAAU,CAAC,IAAI;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,EAAE,KAAK,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,EAAE,EAAC,CAAC,SAAS,GAAG,IAAI,CAAC;aAC1G;iBAAM,IAAI,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,KAAK,uCAAuC,EAAE;gBACtF,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,cAAc,CAAC,IAAI;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,EAAE,KAAK,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,EAAE,EAAC,CAAC,SAAS,GAAG,IAAI,CAAC;aAC9G;iBAAM,IAAI,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,KAAK,gCAAgC,EAAC;gBAC9E,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,kBAAkB,CAAC,IAAI;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,EAAE,KAAK,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,EAAE,EAAC,CAAC,SAAS,GAAG,IAAI,CAAC;aAClH;iBAAM,IAAI,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,KAAK,0CAA0C,EAAC;gBACxF,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,iBAAiB,CAAC,IAAI;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,EAAE,KAAK,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,EAAE,EAAC,CAAC,SAAS,GAAG,IAAI,CAAC;aACjH;iBAAM;gBACL,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,UAAU,CAAC,IAAI;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,EAAE,KAAK,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,EAAE,EAAC,CAAC,SAAS,GAAG,IAAI,CAAC;aAC1G;YACD,CAAC,CAAC,WAAW,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;YAC7B,CAAC,CAAC,QAAQ,CAAC,EAAE,CAAC,aAAa,EAAE,CAAC;;YAE9B,IAAG,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE;gBACrB,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,eAAe,GAAG,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,eAAe,CAAC,MAAM;;;;gBAAC,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,GAAG,KAAK,CAAC,CAAC,GAAG,EAAC,EAAC,CAAC;aAC9H;SACF,EAAC,CAAC;KACJ;;;;;IAMD,aAAa,CAAC,IAAS;QACrB,IAAI,CAAC,OAAO,CAAC,YAAY,GAAG,IAAI,CAAC,IAAI,CAAC;KACvC;;;;;IAEO,mBAAmB;;cACnB,GAAG,GAAG,mDAAmD;QAC/D,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC;aACf,SAAS;;;;QAAC,CAAC,IAAS,KAAK,IAAI,CAAC,eAAe,CAAC,iBAAiB,GAAG,IAAI,CAAC,GAAG;;;;QAAC,CAAC,KAAK,EAAE,KAAK,EAAE,CAAC,CAAC,EAAE,EAAE,IAAI,EAAE,CAAC,CAAC,IAAI,EAAE,CAAC,EAAC,EAAC,CAAC;KACtH;;;;;IAEO,eAAe;;cACf,GAAG,GAAG,oDAAoD;QAChE,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;KAC3B;;;YAnuBF,SAAS,SAAC;gBACT,QAAQ,EAAE,eAAe;gBACzB,s+JAAyC;gBAEzC,SAAS,EAAE,CAAC,kBAAkB,EAAE,mBAAmB,EAAE,gBAAgB,CAAC;;aACvE;;;;YA3BQ,kBAAkB;YAFlB,gBAAgB;YAGhB,WAAW;YAL0E,wBAAwB;YAAE,QAAQ;YAMvH,cAAc;YAEd,eAAe;YAIf,sBAAsB;YACtB,iBAAiB;YAMjB,WAAW;;;0BAoBjB,SAAS,SAAC,kBAAkB;yBAC5B,SAAS,SAAC,YAAY;sBACtB,SAAS,SAAC,yBAAyB;4BACnC,SAAS,SAAC,oBAAoB;mBAC9B,SAAS,SAAC,iBAAiB;yBAC3B,SAAS,SAAC,YAAY;yBAEtB,MAAM;0BACN,MAAM;oBAEN,KAAK;2BA8EL,KAAK;;MAioBK,kBAAkB;IAC7B,iBAAiB;;;;;IAEjB,SAAS,CAAC,IAAS;QACjB,IAAI,CAAC,IAAI,CAAC,UAAU,IAAI,IAAI,CAAC,UAAU,CAAC,MAAM,GAAG,CAAC;gBAC5C,IAAI,CAAC,kBAAkB,IAAI,IAAI,CAAC,kBAAkB,CAAC,MAAM,GAAG,CAAC,CAAC;gBAC9D,IAAI,CAAC,UAAU,IAAI,IAAI,CAAC,UAAU,CAAC,MAAM,GAAG,CAAC,CAAC;gBAC9C,IAAI,CAAC,cAAc,IAAI,IAAI,CAAC,cAAc,CAAC,MAAM,GAAG,CAAC,CAAC;gBACtD,IAAI,CAAC,kBAAkB,IAAI,IAAI,CAAC,kBAAkB,CAAC,MAAM,GAAG,CAAC,CAAC;gBAC9D,IAAI,CAAC,iBAAiB,IAAI,IAAI,CAAC,iBAAiB,CAAC,MAAM,GAAG,CAAC,CAAC;gBAC5D,IAAI,CAAC,wBAAwB,IAAI,IAAI,CAAC,wBAAwB,CAAC,MAAM,GAAG,CAAC,CAAC;eAC3E,IAAI,CAAC,UAAU,EAClB;YACA,OAAO,OAAO,CAAC;SAChB;aAAM;YACL,OAAO,OAAO,CAAC;SAChB;KACF;CACF;;;;;;AChxBD,MAAa,uBAAuB;CAInC;MAEY,6BAA6B;CAIzC;MACY,0BAA0B;CAwCtC;;;;;;IAMG,YAAa,YAAY;;;;IAIzB,UAAW,UAAU;;;;IAIrB,cAAe,cAAc;;;;IAI7B,eAAgB,eAAe;;;;IAI/B,QAAS,QAAQ;;;;;;;IAOjB,YAAa,YAAY;;;;IAIzB,MAAO,MAAM;;;;IAIb,SAAU,SAAS;IAEnB,iBAAkB,iBAAiB;;;;;;;AC5FvC,MAAa,YAAY;IACrB;QACI,IAAI,CAAC,QAAQ,GAAG,aAAa,CAAC;QAC9B,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;QACxB,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;KAC1B;CAIJ;;;;;;ACTD,MAEa,cAAc;IACvB;QACI,IAAI,CAAC,cAAc,GAAG,KAAK,CAAC;QAC5B,IAAI,CAAC,YAAY,GAAG,IAAI,YAAY,EAAE,CAAC;KAC1C;CAGJ;;;;;;ACTD,MAGa,eAAe;IACxB;QACI,IAAI,CAAC,cAAc,GAAG,IAAI,cAAc,EAAE,CAAC;QAC3C,IAAI,CAAC,kBAAkB,GAAG,IAAI,KAAK,EAAE,CAAC;QACtC,IAAI,CAAC,kBAAkB,GAAG,IAAI,KAAK,EAAE,CAAC;QACtC,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;KAC3B;CAKJ;MAEY,WAAW;CAKvB;MAwBY,oBAAqB,SAAQ,WAAW;CAMpD;MA+BY,uBAAwB,SAAQ,WAAW;CAUvD;;;;;;AC5FD,MAIa,kBAAkB;;;;IAC7B,YACU,UAAwB;QAAxB,eAAU,GAAV,UAAU,CAAc;QAElC,mBAAc,GAAG;YACf,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,4BAA4B,CAAC,EAAE,KAAK,EAAE,8BAA8B,EAAE;YACxG,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,gCAAgC,CAAC,EAAE,KAAK,EAAE,kCAAkC,EAAE;YAChH,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,gCAAgC,CAAC,EAAE,KAAK,EAAE,kCAAkC,EAAE;YAChH,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,iCAAiC,CAAC,EAAE,KAAK,EAAE,mCAAmC,EAAE;YAClH,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,qCAAqC,CAAC,EAAE,KAAK,EAAE,uCAAuC,EAAE;YAC1H,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,8BAA8B,CAAC,EAAE,KAAK,EAAE,gCAAgC,EAAE;YAC5G,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,wCAAwC,CAAC,EAAE,KAAK,EAAE,0CAA0C,EAAE;YAChI,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,oCAAoC,CAAC,EAAE,KAAK,EAAE,sCAAsC,EAAE;SACzH,CAAC;KAVE;;;YAJL,UAAU;;;;YAFF,YAAY;;;;;;;ACDrB,MA6Ba,+BAA+B;;;;;;;;;;;;;;;IA2G1C,YACS,eAAuC,EACtC,OAA2B,EAC3B,QAAkC,EAClC,QAAkB,EAClB,YAA4B,EAC5B,OAAwB,EACxB,IAAuB,EACvB,IAAiB,EACL,GAAsB,EACf,QAAgB,EACR,SAAc,EAC7B,UAAwB;QAXrC,oBAAe,GAAf,eAAe,CAAwB;QACtC,YAAO,GAAP,OAAO,CAAoB;QAC3B,aAAQ,GAAR,QAAQ,CAA0B;QAClC,aAAQ,GAAR,QAAQ,CAAU;QAClB,iBAAY,GAAZ,YAAY,CAAgB;QAC5B,YAAO,GAAP,OAAO,CAAiB;QACxB,SAAI,GAAJ,IAAI,CAAmB;QACvB,SAAI,GAAJ,IAAI,CAAa;QACL,QAAG,GAAH,GAAG,CAAmB;QACf,aAAQ,GAAR,QAAQ,CAAQ;QACR,cAAS,GAAT,SAAS,CAAK;QAC7B,eAAU,GAAV,UAAU,CAAc;QArHpC,eAAU,GAAG,IAAI,YAAY,EAAO,CAAC;QACrC,gBAAW,GAAG,IAAI,YAAY,EAAO,CAAC;QASvC,iBAAY,GAAQ,EAAE,CAAC;QAEhC,aAAQ,GAAuC,gBAAgB,CAAC;QAIhE,YAAO,GAAG,IAAI,CAAC;QAEf,gBAAW,GAAoB,IAAI,eAAe,EAAE,CAAC;QACrD,cAAS,GAAG,KAAK,CAAC;;QAElB,SAAI,GAAG,gBAAgB,CAAC;QAExB,uBAAkB,GAAG;YACnB,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,mCAAmC,CAAC,EAAE,KAAK,EAAE,aAAa,EAAE;YAC9F,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,uCAAuC,CAAC,EAAE,KAAK,EAAE,iBAAiB,EAAE;SACvG,CAAC;QAEF,YAAO,GAAG;YACR;gBACE,KAAK,EAAE,OAAO,EAAE,KAAK,EAAE,EAAE,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,6BAA6B,CAAC;gBAC1F,MAAM,EAAE;oBACN,IAAI,EAAE,WAAW,CAAC,SAAS,EAAE,OAAO,EAAE,EACrC;iBACF;aACF,EAAE;gBACH,KAAK,EAAE,MAAM,EAAE,KAAK,EAAE,EAAE,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,4BAA4B,CAAC;gBACxF,SAAS,EAAE;oBACT,IAAI,EAAE,MAAM;oBACZ,OAAO,EAAE,EAAE,UAAU,EAAE,OAAO,EAAE,SAAS,EAAE,MAAM,EAAE,IAAI,EAAE,IAAI,CAAC,OAAO,CAAC,cAAc,EAAE;iBACvF;aACA,EAAE;gBACH,KAAK,EAAE,eAAe,EAAE,KAAK,EAAE,EAAE,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,qCAAqC,CAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,SAAS;;;;;;gBAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC;oBAC7I,QAAQ,CAAC,CAAC,IAAI;wBACZ,KAAK,8BAA8B;4BACjC,OAAO,CAAC,CAAC,aAAa,CAAC;wBACzB,KAAK,kCAAkC;4BACrC,OAAO,oBAAC,CAAC,IAAyB,IAAI,CAAC;wBACzC,KAAK,kCAAkC;4BACrC,OAAO,oBAAC,CAAC,IAAyB,aAAa,CAAC;wBAClD,KAAK,mCAAmC;4BACtC,OAAO,oBAAC,CAAC,IAA0B,IAAI,CAAC;wBAC1C,KAAK,uCAAuC;4BAC1C,OAAO,oBAAC,CAAC,IAA8B,oBAAoB,GAAG,GAAG,GAAG,oBAAC,CAAC,IAA8B,SAAS,CAAC;wBAChH,KAAK,gCAAgC;4BACnC,OAAO,oBAAC,CAAC,IAAuB,aAAa,GAAG,GAAG,GAAG,oBAAC,CAAC,IAAuB,cAAc,CAAC;wBAChG,KAAK,0CAA0C;4BAC7C,OAAO,oBAAC,CAAC,IAAiC,aAAa,CAAC;wBAC1D,KAAK,sCAAsC;4BACzC,OAAO,oBAAC,CAAC,IAA6B,gBAAgB,CAAC;wBACzD;4BACE,OAAO,EAAE,CAAC;qBACb;iBACF,CAAA;aACF;YACD;gBACE,KAAK,EAAE,aAAa,EAAE,KAAK,EAAE,GAAG,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,mCAAmC,CAAC,EAAE,QAAQ,EAAE,IAAI;gBACvH,SAAS;;;;;;gBAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC;oBACjB,QAAQ,CAAC,CAAC,IAAI;wBACZ,KAAK,8BAA8B;4BACjC,OAAO,IAAI,CAAC,2BAA2B,CAAC,CAAC,CAAC,CAAC;wBAC7C,KAAK,kCAAkC;4BACrC,OAAO,IAAI,CAAC,+BAA+B,CAAC,CAAC,CAAC,CAAC;wBACjD,KAAK,kCAAkC;4BACrC,OAAO,IAAI,CAAC,+BAA+B,CAAC,CAAC,CAAC,CAAC;wBACjD,KAAK,mCAAmC;4BACtC,OAAO,IAAI,CAAC,gCAAgC,CAAC,CAAC,CAAC,CAAC;wBAClD,KAAK,uCAAuC;4BAC1C,OAAO,IAAI,CAAC,oCAAoC,CAAC,CAAC,CAAC,CAAC;wBACtD,KAAK,gCAAgC;4BACnC,OAAO,IAAI,CAAC,6BAA6B,CAAC,CAAC,CAAC,CAAC;wBAC/C,KAAK,0CAA0C;4BAC7C,OAAO,oBAAC,CAAC,IAAiC,aAAa,CAAC;wBAC1D,KAAK,sCAAsC;4BACzC,OAAO,oBAAC,CAAC,IAA6B,gBAAgB,GAAG,IAAI,IAAI,oBAAC,CAAC,IAA6B,eAAe,GAAG,MAAM,GAAG,OAAO,CAAC,CAAC;wBACtI;4BACE,OAAO,EAAE,CAAC;qBACb;iBACF,CAAA;aACF;YACD;gBACE,KAAK,EAAE,WAAW,EAAE,KAAK,EAAE,EAAE,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,iCAAiC,CAAC,EAAE,QAAQ,EAAE,IAAI;gBAClH,MAAM,EAAE;oBACN,IAAI,EAAE,aAAa;oBACnB,OAAO,EAAE;wBACP,SAAS,EAAE,sCAAsC;wBACjD,QAAQ,EAAE,KAAK;wBACf,WAAW;;;;wBAAE,CAAC,CAAC;4BACb,CAAC,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC,CAAC,QAAQ,CAAC,KAAK,GAAG,CAAC,CAAC,QAAQ,CAAC,KAAK,GAAG,EAAE,CAAC,CAAC;4BACjE,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC;yBACtB,CAAA;qBACF;iBACF;aACA;SAAC,CAAC;QAgBH,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,IAAI,IAAI,YAAY,CAAC,QAAQ,EAAE,SAAS,CAAC,CAAC;QAC3E,IAAI,CAAC,mBAAmB,EAAE,CAAC;KAC5B;;;;IAED,QAAQ;QACN,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC;KAC5C;;;;;IAED,YAAY,CAAC,IAAa;QACxB,IAAI,IAAI,EAAE;YACR,IAAI,CAAC,cAAc,CAAC,gBAAgB,CAAC,CAAC;SACvC;KACF;;;;;IAED,oBAAoB,CAAC,IAAI;;QAEvB,IAAG,IAAI,KAAK,KAAK,EAAE;YACjB,IAAI,CAAC,WAAW,CAAC,UAAU,GAAG,IAAI,CAAC;YACnC,IAAI,CAAC,cAAc,CAAC,gBAAgB,CAAC,CAAC;SACvC;aAAK;YACJ,IAAI,CAAC,WAAW,CAAC,UAAU,GAAG,KAAK,CAAC;SACrC;KACF;;;;;IAED,QAAQ,CAAC,IAAI;QACX,IAAG,IAAI,EAAE;YACP,IAAI,CAAC,WAAW,CAAC,UAAU,GAAG,IAAI,CAAC;YACnC,IAAI,CAAC,cAAc,CAAC,gBAAgB,CAAC,CAAC;SACvC;aAAK;YACJ,IAAI,CAAC,WAAW,CAAC,UAAU,GAAG,KAAK,CAAC;SACrC;KACF;;;;;;IAED,YAAY,CAAC,aAAqB,EAAE,IAAY;QAC9C,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;QACvB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;;cACX,WAAW,GAAG,IAAI,CAAC,QAAQ,CAAC,uBAAuB,CAAC,sBAAsB,CAAC;QACjF,IAAI,CAAC,OAAO,GAAG,WAAW,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;QACjD,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,aAAa,GAAG,aAAa,CAAC;;cAC9C,OAAO,GAAG,IAAI,CAAC,gBAAgB,CAAC,aAAa,CAAC;;cAC9C,WAAW,GAAG;YAClB,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,4CAA4C,CAAC;YAC9E,KAAK,EAAE,OAAO,CAAC,KAAK;YACpB,MAAM,EAAE,OAAO,CAAC,MAAM;YACtB,OAAO,EAAE,IAAI,CAAC,UAAU;YACxB,WAAW,EAAE,IAAI;SAClB;QACD,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,WAAW,CAAC,CAAC;;QAEpE,IAAI,IAAI,CAAC,UAAU,EAAE;YACnB,IAAI,CAAC,UAAU,CAAC,KAAK,EAAE,CAAC;SACzB;KACF;;;;IAED,MAAM;QACJ,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;QACpB,IAAI,IAAI,CAAC,OAAO,EAAE;;kBACV,EAAE,GAAG,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,aAAa,EAAE;YAChD,IAAI,EAAE,CAAC,cAAc,IAAI,EAAE,CAAC,cAAc,CAAC,MAAM,GAAG,CAAC,EAAE;gBACrD,KAAK,MAAM,CAAC,IAAI,EAAE,CAAC,cAAc,EAAE;oBACjC,IAAI,CAAC,gBAAgB,CAAC,CAAC,CAAC,CAAC;iBAC1B;aACF;YACD,IAAI,EAAE,CAAC,QAAQ,IAAI,EAAE,CAAC,QAAQ,KAAK,IAAI,IAAI,EAAE,CAAC,QAAQ,CAAC,WAAW,EAAE;gBAClE,IAAI,CAAC,oBAAoB,CAAC,EAAE,CAAC,QAAQ,CAAC,CAAC;aACxC;;YAED,IAAI,EAAE,CAAC,SAAS,IAAI,EAAE,CAAC,SAAS,CAAC,MAAM,GAAG,CAAC,EAAE;gBAC3C,IAAI,CAAC,oBAAoB,CAAC,EAAE,CAAC,SAAS,CAAC,CAAC;aACzC;YACD,IAAI,EAAE,CAAC,SAAS,IAAI,EAAE,CAAC,SAAS,CAAC,UAAU,IAAI,EAAE,CAAC,SAAS,CAAC,UAAU,EAAE;gBACtE,IAAI,CAAC,qBAAqB,CAAC,EAAE,CAAC,SAAS,CAAC,CAAC;aAC1C;YACD,IAAI,EAAE,CAAC,aAAa,IAAI,EAAE,CAAC,aAAa,CAAC,kBAAkB,IAAI,EAAE,CAAC,aAAa,CAAC,SAAS,EAAE;gBACzF,IAAI,CAAC,yBAAyB,CAAC,EAAE,CAAC,aAAa,CAAC,CAAC;aAClD;YACD,IAAI,EAAE,CAAC,MAAM,IAAI,EAAE,CAAC,MAAM,CAAC,WAAW,EAAE;gBACtC,IAAI,CAAC,kBAAkB,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC;aACpC;YACD,IAAI,EAAE,CAAC,0BAA0B,IAAI,EAAE,CAAC,0BAA0B,CAAC,MAAM,GAAG,CAAC,EAAE;gBAC7E,KAAK,MAAM,CAAC,IAAI,EAAE,CAAC,0BAA0B,EAAE;oBAC7C,IAAI,CAAC,4BAA4B,CAAC,CAAC,CAAC,CAAC;iBACtC;aACF;YACD,IAAI,EAAE,CAAC,uBAAuB,EAAE;gBAC9B,IAAI,CAAC,0BAA0B,CAAC,EAAE,CAAC,uBAAuB,CAAC,CAAC;aAC7D;SACF;QACD,IAAI,IAAI,CAAC,UAAU,IAAI,IAAI,CAAC,OAAO,EAAE;YACnC,IAAI,CAAC,UAAU,CAAC,KAAK,EAAE,CAAC;SACzB;;;QAGD,IAAI,CAAC,kBAAkB,CAAC,OAAO,EAAE,CAAC;KACnC;;;;;;IAEO,gBAAgB,CAAC,aAA8B;QACrD,IAAI,IAAI,CAAC,IAAI,KAAK,gBAAgB,EAAE;;kBAC5B,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,SAAS;;;;YAAC,CAAC,KAAK,CAAC,CAAC,EAAE,KAAK,aAAa,CAAC,EAAE,KAAK,oBAAC,CAAC,IAAqB,WAAW,IAAI,oBAAC,CAAC,IAAqB,WAAW,KAAK,aAAa,CAAC,WAAW,CAAC,CAAC,EAAC;YACrM,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,CAEX;iBAAM;gBACL,IAAI,IAAI,CAAC,SAAS,KAAK,MAAM,EAAE;oBAC7B,IAAI,CAAC,oBAAoB,EAAE,CAAC;iBAC7B;;oBACG,KAAK;gBACT,IAAI,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,MAAM,GAAG,CAAC,EAAE;oBAClD,KAAK,GAAG,IAAI,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,GAAG;;;;oBAAC,CAAC,IAAI,CAAC,CAAC,KAAK,EAAC,CAAC,GAAC,CAAC,CAAC;iBAC9E;qBAAM;oBACL,KAAK,GAAG,CAAC,CAAC;iBACX;gBACD,aAAa,CAAC,KAAK,GAAG,KAAK,CAAC;gBAC5B,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;aACzD;YACD,IAAI,CAAC,kBAAkB,CAAC,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,CAAC;SACvE;KACF;;;;;;IAEO,oBAAoB,CAAC,QAA6B;;cAClD,CAAC,GAAG,QAAQ;QAClB,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,QAAQ,EAAE;YACrB,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,8CAA8C,CAAC,CAAC,CAAC;YAC7F,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;SACtB;aAAM,IAAI,CAAC,CAAC,CAAC,OAAO,EAAE;YACrB,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,+CAA+C,CAAC,CAAC,CAAC;YAC9F,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;SACtB;aAAM,IAAI,CAAC,CAAC,CAAC,QAAQ,EAAE;YACtB,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,sCAAsC,CAAC,CAAC,CAAC;YACrF,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;SACtB;aAAM;YACL,IAAI,IAAI,CAAC,IAAI,KAAK,gBAAgB,EAAE;;sBAC5B,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,SAAS;;;;gBAAC,CAAC,KAAK,CAAC,CAAC,EAAE,KAAK,QAAQ,CAAC,EAAE,KAAK,oBAAC,CAAC,IAAyB,WAAW,IAAI,oBAAC,CAAC,IAAyB,WAAW,KAAK,QAAQ,CAAC,WAAW,CAAC,CAAC,EAAC;gBACnM,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE;oBACV,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,CAAC,CAAC,GAAG,QAAQ,CAAC;iBACnD;qBAAM;oBACL,IAAI,IAAI,CAAC,SAAS,KAAK,MAAM,EAAE;wBAC7B,IAAI,CAAC,oBAAoB,EAAE,CAAC;qBAC7B;;wBACG,KAAK;oBACT,IAAI,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,MAAM,GAAG,CAAC,EAAE;wBAClD,KAAK,GAAG,IAAI,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,GAAG;;;;wBAAC,CAAC,IAAI,CAAC,CAAC,KAAK,EAAC,CAAC,GAAC,CAAC,CAAC;qBAC9E;yBAAM;wBACL,KAAK,GAAG,CAAC,CAAC;qBACX;oBACD,QAAQ,CAAC,KAAK,GAAG,KAAK,CAAC;oBACvB,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;iBACpD;gBACD,IAAI,CAAC,kBAAkB,CAAC,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,CAAC;aACvE;SACF;KACF;;;;;;IAEO,oBAAoB,CAAC,SAAgC;QAC3D,KAAK,MAAM,QAAQ,IAAI,SAAS,EAAE;YAChC,IAAI,CAAC,QAAQ,CAAC,WAAW,EAAE;gBACzB,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,sCAAsC,CAAC,CAAC,CAAC;gBACrF,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;aACtB;iBAAM;gBACL,IAAI,CAAC,CAAC,QAAQ,CAAC,OAAO,IAAI,QAAQ,CAAC,OAAO,IAAI,IAAI,MAAM,QAAQ,CAAC,UAAU,IAAI,QAAQ,CAAC,YAAY,KAAK,GAAG,CAAC,EAAE;oBAC7G,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,qCAAqC,CAAC,CAAC,CAAC;oBACpF,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;iBACtB;qBAAM,IAAI,CAAC,CAAC,QAAQ,CAAC,KAAK,IAAI,QAAQ,CAAC,KAAK,IAAI,IAAI,MAAM,QAAQ,CAAC,UAAU,IAAI,QAAQ,CAAC,YAAY,KAAK,GAAG,CAAC,EAAE;oBAChH,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,+BAA+B,CAAC,CAAC,CAAC;oBAC9E,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;iBACtB;qBAAM;;oBAEL,IAAI,IAAI,CAAC,IAAI,KAAK,gBAAgB,EAAE;;8BAC5B,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,SAAS;;;;wBAAC,CAAC;4BACvD,IAAI,CAAC,CAAC,IAAI,KAAK,kCAAkC,EAAE;gCACjD,OAAO,KAAK,CAAC;6BACd;;kCACK,CAAC,sBAAG,CAAC,EAAuB;4BAClC,QAAQ,CAAC,CAAC,EAAE,KAAK,QAAQ,CAAC,EAAE,EAAE;yBAC/B,EAAC;wBACF,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE;4BACV,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,CAAC,CAAC,GAAG,QAAQ,CAAC;yBACnD;6BAAM;;gCACD,KAAK;4BACT,IAAI,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,MAAM,GAAG,CAAC,EAAE;gCAClD,KAAK,GAAG,IAAI,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,GAAG;;;;gCAAC,CAAC,IAAI,CAAC,CAAC,KAAK,EAAC,CAAC,GAAC,CAAC,CAAC;6BAC9E;iCAAM;gCACL,KAAK,GAAG,CAAC,CAAC;6BACX;4BACD,QAAQ,CAAC,KAAK,GAAG,KAAK,CAAC;4BACvB,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;yBACpD;wBACD,IAAI,CAAC,kBAAkB,CAAC,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,CAAC;qBACvE;iBACF;aACF;SACF;KACF;;;;;;IAEO,qBAAqB,CAAC,SAA6B;;cACnD,GAAG,GAAG,IAAI,oBAAoB,EAAE;QACtC,GAAG,CAAC,EAAE,GAAG,SAAS,CAAC,EAAE,CAAC;QACtB,GAAG,CAAC,UAAU,GAAG,SAAS,CAAC,UAAU,CAAC;QACtC,GAAG,CAAC,UAAU,GAAG,SAAS,CAAC,UAAU,CAAC;QACtC,GAAG,CAAC,UAAU,GAAG,SAAS,CAAC,UAAU,CAAC;QACtC,GAAG,CAAC,IAAI,GAAG,SAAS,CAAC,IAAI,CAAC;QAC1B,GAAG,CAAC,gBAAgB,GAAG,SAAS,CAAC,gBAAgB,CAAC;QAClD,GAAG,CAAC,IAAI,GAAG,mCAAmC,CAAC;QAC/C,GAAG,CAAC,SAAS,GAAG,SAAS,CAAC,SAAS,CAAC;QACpC,IAAI,IAAI,CAAC,IAAI,KAAK,gBAAgB,EAAE;;kBAC5B,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,SAAS;;;;YAAC,CAAC,IAAI,CAAC,CAAC,EAAE,KAAK,GAAG,CAAC,EAAE,EAAC;YAC7E,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE;gBACV,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC;aAC9C;iBAAM;;oBACD,KAAK;gBACT,IAAI,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,MAAM,GAAG,CAAC,EAAE;oBAClD,KAAK,GAAG,IAAI,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,GAAG;;;;oBAAC,CAAC,IAAI,CAAC,CAAC,KAAK,EAAC,CAAC,GAAC,CAAC,CAAC;iBAC9E;qBAAM;oBACL,KAAK,GAAG,CAAC,CAAC;iBACX;gBACD,GAAG,CAAC,KAAK,GAAG,KAAK,CAAC;gBAClB,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;aAC/C;YACD,IAAI,CAAC,kBAAkB,CAAC,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,CAAC;SACvE;KACF;;;;;;IAEO,yBAAyB,CAAC,aAAuC;QACvE,IAAI,aAAa,CAAC,oBAAoB,KAAK,MAAM,IAAI,CAAC,aAAa,CAAC,QAAQ,EAAE;YAC5E,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;YACrB,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,uCAAuC,CAAC,CAAC,CAAC;SACvF;aAAM,IAAI,aAAa,CAAC,oBAAoB,KAAK,MAAM,IAAI,CAAC,aAAa,CAAC,SAAS,IAAI,CAAC,aAAa,CAAC,aAAa,EAAE;YACpH,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;YACrB,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,wCAAwC,CAAC,CAAC,CAAC;SACxF;aAAM;YACL,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;YACpB,IAAI,IAAI,CAAC,IAAI,KAAK,gBAAgB,EAAE;;sBAC5B,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,SAAS;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,EAAE,KAAK,aAAa,CAAC,EAAE,EAAC;gBACvF,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE;oBACV,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,CAAC,CAAC,GAAG,aAAa,CAAC;iBACxD;qBAAM;;0BACC,cAAc,GAAG,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,MAAM;;;;oBAAC,CAAC,IAAI,CAAC,CAAC,IAAI,KAAK,uCAAuC,EAAC;oBAC1H,KAAK,MAAM,CAAC,IAAI,cAAc,EAAE;;8BACxB,iBAAiB,sBAAG,CAAC,EAA4B;wBACvD,IAAI,iBAAiB,CAAC,kBAAkB,KAAK,aAAa,CAAC,kBAAkB;4BAC3E,iBAAiB,CAAC,SAAS,KAAK,aAAa,CAAC,SAAS;4BACvD,iBAAiB,CAAC,SAAS,KAAK,aAAa,CAAC,SAAS;4BACvD,iBAAiB,CAAC,aAAa,KAAK,aAAa,CAAC,aAAa;4BAC/D,iBAAiB,CAAC,QAAQ,KAAK,aAAa,CAAC,QAAQ,EACrD;4BACA,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,wCAAwC,CAAC,CAAC,CAAC;4BACxF,OAAO;yBACR;qBACF;;wBACG,KAAK;oBACT,IAAI,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,MAAM,GAAG,CAAC,EAAE;wBAClD,KAAK,GAAG,IAAI,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,GAAG;;;;wBAAC,CAAC,IAAI,CAAC,CAAC,KAAK,EAAC,CAAC,GAAC,CAAC,CAAC;qBAC9E;yBAAM;wBACL,KAAK,GAAG,CAAC,CAAC;qBACX;oBACD,aAAa,CAAC,KAAK,GAAG,KAAK,CAAC;oBAC5B,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;iBACzD;gBACD,IAAI,CAAC,kBAAkB,CAAC,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,CAAC;aACvE;SACF;KACF;;;;;;IAEO,kBAAkB,CAAC,MAAyB;QAClD,IAAI,CAAC,MAAM,CAAC,eAAe,IAAI,CAAC,MAAM,CAAC,eAAe,IAAI,CAAC,MAAM,CAAC,eAAe,EAAE;YACjF,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;YACrB,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,2CAA2C,CAAC,CAAC,CAAC;SAC3F;aAAM,IAAI,CAAC,MAAM,CAAC,cAAc,EAAE;YACjC,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;YACrB,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,6CAA6C,CAAC,CAAC,CAAC;SAC7F;aAAM;YACL,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;YACpB,IAAI,IAAI,CAAC,IAAI,KAAK,gBAAgB,EAAE;;sBAC5B,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,SAAS;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,EAAE,KAAK,MAAM,CAAC,EAAE,EAAC;gBAChF,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE;oBACV,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,CAAC,CAAC,GAAG,MAAM,CAAC;iBACjD;qBAAM;;0BACC,kBAAkB,GAAG,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,MAAM;;;;oBAAC,CAAC,IAAI,CAAC,CAAC,IAAI,KAAK,gCAAgC,EAAC;oBACvH,KAAK,MAAM,CAAC,IAAI,kBAAkB,EAAE;;8BAC5B,UAAU,sBAAG,CAAC,EAAqB;wBACzC,IAAI,UAAU,CAAC,WAAW,KAAK,MAAM,CAAC,WAAW;4BAC/C,UAAU,CAAC,eAAe,KAAK,MAAM,CAAC,eAAe;4BACrD,UAAU,CAAC,eAAe,KAAK,MAAM,CAAC,eAAe;4BACrD,UAAU,CAAC,eAAe,KAAK,MAAM,CAAC,eAAe;4BACrD,UAAU,CAAC,cAAc,KAAK,MAAM,CAAC,cAAc,EACnD;4BACA,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,wCAAwC,CAAC,CAAC,CAAC;4BACxF,OAAO;yBACR;qBACF;;wBACG,KAAK;oBACT,IAAI,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,MAAM,GAAG,CAAC,EAAE;wBAClD,KAAK,GAAG,IAAI,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,GAAG;;;;wBAAC,CAAC,IAAI,CAAC,CAAC,KAAK,EAAC,CAAC,GAAC,CAAC,CAAC;qBAC9E;yBAAM;wBACL,KAAK,GAAG,CAAC,CAAC;qBACX;oBACD,MAAM,CAAC,KAAK,GAAG,KAAK,CAAC;oBACrB,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;iBAClD;gBACD,IAAI,CAAC,kBAAkB,CAAC,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,CAAC;aACvE;SACF;KACF;;;;;;IAEO,4BAA4B,CAAC,gBAA6C;QAChF,IAAI,IAAI,CAAC,IAAI,KAAK,gBAAgB,EAAE;;kBAC5B,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,SAAS;;;;YAAC,CAAC,KAAK,CAAC,CAAC,EAAE,KAAK,gBAAgB,CAAC,EAAE;iBACvF,oBAAC,CAAC,IAAiC,aAAa,IAAI,oBAAC,CAAC,IAAiC,aAAa,KAAK,gBAAgB,CAAC,aAAa,CAAC,CAAC,EAAC;YAC7I,IAAI,CAAC,GAAG,CAAC,EAAE;gBACT,IAAI,IAAI,CAAC,SAAS,KAAK,MAAM,EAAE;oBAC7B,IAAI,CAAC,oBAAoB,EAAE,CAAC;iBAC7B;;oBACG,KAAK;gBACT,IAAI,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,MAAM,GAAG,CAAC,EAAE;oBAClD,KAAK,GAAG,IAAI,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,GAAG;;;;oBAAC,CAAC,IAAI,CAAC,CAAC,KAAK,EAAC,CAAC,GAAC,CAAC,CAAC;iBAC9E;qBAAM;oBACL,KAAK,GAAG,CAAC,CAAC;iBACX;gBACD,gBAAgB,CAAC,KAAK,GAAG,KAAK,CAAC;gBAC/B,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC;aAC5D;YACD,IAAI,CAAC,kBAAkB,CAAC,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,CAAC;SACvE;KACF;;;;;IAGD,0BAA0B,CAAC,YAA+C;;cAClE,uBAAuB,GAAG,IAAI,uBAAuB,EAAE;QAC7D,uBAAuB,CAAC,EAAE,GAAG,YAAY,CAAC,EAAE,IAAI,aAAa,CAAC,iBAAiB,EAAE,CAAC;QAClF,uBAAuB,CAAC,IAAI,GAAG,sCAAsC,CAAC;QACtE,uBAAuB,CAAC,SAAS,GAAG,YAAY,CAAC,SAAS,CAAC;QAC3D,uBAAuB,CAAC,IAAI,GAAG,YAAY,CAAC,IAAI,CAAC;QACjD,uBAAuB,CAAC,WAAW,GAAG,YAAY,CAAC,WAAW,CAAC;QAC/D,uBAAuB,CAAC,iBAAiB,GAAG,YAAY,CAAC,iBAAiB,CAAC;QAC3E,uBAAuB,CAAC,cAAc,GAAG,YAAY,CAAC,cAAc,CAAC;QACrE,uBAAuB,CAAC,gBAAgB,GAAG,YAAY,CAAC,gBAAgB,CAAC;QACzE,uBAAuB,CAAC,gBAAgB,GAAG,YAAY,CAAC,gBAAgB,CAAC;QACzE,uBAAuB,CAAC,eAAe,GAAG,YAAY,CAAC,eAAe,CAAC;QACvE,uBAAuB,CAAC,YAAY,GAAG,YAAY,CAAC,YAAY,CAAC;QACjE,uBAAuB,CAAC,GAAG,GAAG,YAAY,CAAC,GAAG,CAAC;QAE/C,IAAI,IAAI,CAAC,IAAI,KAAK,gBAAgB,EAAE;YAClC,IAAI,CAAC,WAAW,CAAC,kBAAkB,GAAG,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,MAAM;;;;YAAC,CAAC,IAAI,CAAC,CAAC,IAAI,KAAK,sCAAsC,EAAC,CAAC;;gBACrI,KAAK;YACT,IAAI,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,MAAM,GAAG,CAAC,EAAE;gBAClD,KAAK,GAAG,IAAI,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,GAAG;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,KAAK,EAAC,CAAC,GAAC,CAAC,CAAC;aAC9E;iBAAM;gBACL,KAAK,GAAG,CAAC,CAAC;aACX;YACD,uBAAuB,CAAC,KAAK,GAAG,KAAK,CAAC;YACtC,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,IAAI,CAAC,uBAAuB,CAAC,CAAC;YAClE,IAAI,CAAC,kBAAkB,CAAC,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,CAAC;SACvE;KACF;;;;IAED,UAAU;QACR,IAAI,IAAI,CAAC,UAAU,EAAE;YACnB,IAAI,CAAC,UAAU,CAAC,KAAK,EAAE,CAAC;SACzB;KACF;;;;;IAED,aAAa,CAAC,IAAY;QACxB,IAAI,CAAC,SAAS,GAAG,MAAM,CAAC;QACxB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;;YACb,WAAW;QACf,IAAI,IAAI,KAAK,gBAAgB,EAAE;YAC7B,WAAW,GAAG,IAAI,CAAC,kBAAkB,CAAC,WAAW,CAAC;SACnD;QACD,IAAI,CAAC,WAAW,EAAE;YAChB,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,uCAAuC,CAAC,CAAC,CAAC;YACtF,OAAO;SACR;;cACK,YAAY,GAAG,WAAW,CAAC,IAAI;QACrC,IAAI,YAAY,EAAE;;kBACV,OAAO,GAAG,IAAI,CAAC,gBAAgB,CAAC,YAAY,CAAC,IAAI,CAAC;;kBAClD,WAAW,GAAG;gBAClB,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,4CAA4C,CAAC;gBAC9E,KAAK,EAAE,OAAO,CAAC,KAAK;gBACpB,MAAM,EAAE,OAAO,CAAC,MAAM;gBACtB,OAAO,EAAE,IAAI,CAAC,UAAU;gBACxB,WAAW,EAAE,IAAI;aAClB;;kBACK,WAAW,GAAG,IAAI,CAAC,QAAQ,CAAC,uBAAuB,CAAC,sBAAsB,CAAC;YACjF,IAAI,CAAC,OAAO,GAAG,WAAW,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;YACjD,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,aAAa,GAAG,YAAY,CAAC,IAAI,CAAC;YACxD,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,SAAS,GAAI,IAAI,CAAC,SAAS,CAAC;YAClD,QAAQ,YAAY,CAAC,IAAI;gBACvB,KAAK,kCAAkC;oBACrC,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,SAAS,GAAG;wBAChC,IAAI,EAAE,kCAAkC;wBACxC,KAAK,EAAE,YAAY;qBACpB,CAAC;oBACF,MAAM;gBACR,KAAK,8BAA8B;oBACjC,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,SAAS,GAAG;wBAChC,IAAI,EAAE,8BAA8B;wBACpC,KAAK,EAAE,YAAY;qBACpB,CAAC;oBACF,MAAM;gBACR,KAAK,kCAAkC;oBACrC,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,SAAS,GAAG;wBAChC,IAAI,EAAE,kCAAkC;wBACxC,KAAK,EAAE,YAAY;qBACpB,CAAC;oBACF,MAAM;gBACR,KAAK,uCAAuC;oBAC1C,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,SAAS,GAAG;wBAChC,IAAI,EAAE,uCAAuC;wBAC7C,KAAK,EAAE,YAAY;qBACpB,CAAC;;0BACI,GAAG,GAAG,gDAAgD,GAAG,oBAAC,YAAY,IAA8B,kBAAkB;oBAC5H,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,SAAS;;;;oBAAC,CAAC,GAAQ;wBACpC,IAAI,CAAC,GAAG,EAAE;4BACR,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,yCAAyC,CAAC,CAAC,CAAC;4BACzF,IAAI,IAAI,KAAK,gBAAgB,EAAE;gCAC7B,IAAI,CAAC,oBAAoB,EAAE,CAAC;6BAC7B;yBACF;6BAAM;4BACL,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,WAAW,CAAC,CAAC;yBACrE;qBACF,EAAC,CAAC;oBACH,MAAM;gBACR,KAAK,gCAAgC;oBACnC,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,SAAS,GAAG;wBAChC,IAAI,EAAE,gCAAgC;wBACtC,KAAK,EAAE,YAAY;qBACpB,CAAC;;0BACI,SAAS,GAAG,wCAAwC,GAAG,oBAAC,YAAY,IAAuB,WAAW;oBAC5G,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC,SAAS;;;;oBAAC,CAAC,GAAQ;wBAC1C,IAAI,CAAC,GAAG,EAAE;4BACR,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,qCAAqC,CAAC,CAAC,CAAC;4BACrF,IAAI,IAAI,KAAK,gBAAgB,EAAE;gCAC7B,IAAI,CAAC,oBAAoB,EAAE,CAAC;6BAC7B;yBACF;6BAAM;4BACL,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,WAAW,CAAC,CAAC;yBACrE;qBACF,EAAC,CAAC;oBACH,MAAM;gBACR,KAAK,mCAAmC;oBACtC,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,SAAS,GAAG;wBAChC,IAAI,EAAE,mCAAmC;wBACzC,KAAK,EAAE,YAAY;qBACpB,CAAC;oBACF,MAAM;gBACR,KAAK,0CAA0C;oBAC7C,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,SAAS,GAAG;wBAChC,IAAI,EAAE,0CAA0C;wBAChD,KAAK,EAAE,YAAY;qBACpB,CAAC;oBACF,MAAM;gBACR,KAAK,sCAAsC;oBACzC,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,SAAS,GAAG;wBAChC,IAAI,EAAE,sCAAsC;wBAC5C,KAAK,EAAE,YAAY;qBACpB,CAAC;oBACF,MAAM;aACT;YACD,IAAI,YAAY,CAAC,IAAI,KAAK,uCAAuC;gBAC/D,YAAY,CAAC,IAAI,KAAK,gCAAgC,EAAE;gBACxD,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,WAAW,CAAC,CAAC;aACrE;SACF;KACF;;;;;IACD,eAAe,CAAC,IAAY;QAC1B,IAAI,IAAI,KAAK,gBAAgB,EAAE;YAC7B,IAAI,IAAI,CAAC,kBAAkB,CAAC,WAAW,EAAE;gBACvC,IAAI,CAAC,kBAAkB,CAAC,WAAW,EAAE,CAAC;;sBAChC,KAAK,GAAG,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,SAAS;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,EAAE,KAAK,IAAI,CAAC,kBAAkB,CAAC,WAAW,CAAC,IAAI,CAAC,EAAE,EAAC;gBACtH,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;gBACrD,IAAI,CAAC,kBAAkB,CAAC,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,CAAC;aACvE;iBAAM;gBACL,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,6CAA6C,CAAC,CAAC,CAAC;aAC7F;SACF;KACF;;;;;IAED,cAAc,CAAC,IAAY;QACzB,IAAI,IAAI,KAAK,gBAAgB,EAAE;YAC7B,IAAI,CAAC,WAAW,CAAC,kBAAkB,GAAG,IAAI,KAAK,EAAE,CAAC;SACnD;;QAED,IAAI,IAAI,CAAC,kBAAkB,EAAE;YAC3B,IAAI,CAAC,kBAAkB,CAAC,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,CAAC;SACvE;KACF;;;;;IAED,MAAM,CAAC,IAAY;QACjB,IAAI,IAAI,KAAK,gBAAgB,EAAE;;kBACvB,WAAW,GAAG,IAAI,CAAC,kBAAkB,CAAC,WAAW;YACvD,IAAI,CAAC,WAAW,EAAE;gBAChB,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,qCAAqC,CAAC,CAAC,CAAC;gBACpF,OAAO;aACR;;kBACK,SAAS,GAAG,WAAW,CAAC,IAAI;;kBAC5B,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,SAAS;;;;YAAC,CAAC,IAAI,CAAC,CAAC,EAAE,KAAK,SAAS,CAAC,EAAE,EAAC;YACnF,IAAI,CAAC,KAAK,CAAC,EAAE;gBACX,OAAO;aACR;;kBACK,KAAK,GAAG,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,CAAC,CAAC,CAAC,KAAK;YAC1D,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,CAAC,CAAC,CAAC,KAAK,GAAG,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,KAAK,CAAC;YAChG,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,CAAC,GAAC,CAAC,CAAC,CAAC,KAAK,GAAG,KAAK,CAAC;YACvD,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,WAAW,CAAC,kBAAkB,EAAE,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC;YAC9D,IAAI,CAAC,kBAAkB,CAAC,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,CAAC;YACtE,IAAI,CAAC,kBAAkB,CAAC,SAAS,CAAC,SAAS,CAAC,EAAE,EAAE,IAAI,CAAC,CAAC;SACvD;KAEF;;;;;IAED,QAAQ,CAAC,IAAY;QACnB,IAAI,IAAI,KAAK,gBAAgB,EAAE;;kBACvB,WAAW,GAAG,IAAI,CAAC,kBAAkB,CAAC,WAAW;YACvD,IAAI,CAAC,WAAW,EAAE;gBAChB,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,qCAAqC,CAAC,CAAC,CAAC;gBACpF,OAAO;aACR;;kBACK,SAAS,GAAG,WAAW,CAAC,IAAI;;kBAC5B,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,SAAS;;;;YAAC,CAAC,IAAI,CAAC,CAAC,EAAE,KAAK,SAAS,CAAC,EAAE,EAAC;YACnF,IAAI,CAAC,KAAK,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,MAAM,GAAC,CAAC,EAAE;gBACtD,OAAO;aACR;;kBACK,KAAK,GAAG,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,CAAC,CAAC,CAAC,KAAK;YAC1D,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,CAAC,CAAC,CAAC,KAAK,GAAG,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,KAAK,CAAC;YAChG,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,CAAC,GAAC,CAAC,CAAC,CAAC,KAAK,GAAG,KAAK,CAAC;YACvD,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,WAAW,CAAC,kBAAkB,EAAE,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC;YAC9D,IAAI,CAAC,kBAAkB,CAAC,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,CAAC;YACtE,IAAI,CAAC,kBAAkB,CAAC,SAAS,CAAC,SAAS,CAAC,EAAE,EAAE,IAAI,CAAC,CAAC;SACvD;KACF;;;;;;;;IAEO,SAAS,CAAC,GAAe,EAAE,EAAU,EAAE,EAAU;QACvD,GAAG,CAAC,EAAE,CAAC,GAAG,GAAG,CAAC,MAAM,CAAC,EAAE,EAAE,CAAC,EAAE,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACxC,OAAO,GAAG,CAAC;KACZ;;;;IAED,oBAAoB;QAClB,IAAI,IAAI,CAAC,kBAAkB,CAAC,WAAW,EAAE;YACvC,IAAI,CAAC,kBAAkB,CAAC,WAAW,EAAE,CAAC;;kBAChC,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,SAAS;;;;YAAC,IAAI,IAAI,IAAI,CAAC,EAAE,KAAK,IAAI,CAAC,kBAAkB,CAAC,WAAW,CAAC,IAAI,CAAC,EAAE,EAAC;YACxH,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;SAClD;aAAM;YACL,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,+CAA+C,CAAC,CAAC,CAAC;SAC/F;KACF;;;;;;IAEO,2BAA2B,CAAC,aAA8B;QAChE,IAAI,aAAa,CAAC,GAAG,KAAK,YAAY,EAAE;YACtC,OAAO,aAAa,CAAC,WAAW,CAAC;SAClC;aAAM;YACL,IAAI,aAAa,CAAC,OAAO,EAAE;gBACzB,OAAO,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,2BAA2B,CAAC,GAAG,aAAa,CAAC,OAAO,CAAC;aACvF;iBAAM;gBACL,OAAO,EAAE,CAAC;aACX;SACF;KACF;;;;;;IAEO,+BAA+B,CAAC,iBAAsC;QAC5E,IAAI,iBAAiB,CAAC,GAAG,KAAK,YAAY,EAAE;YAC1C,OAAO,iBAAiB,CAAC,QAAQ,CAAC;SACnC;KACF;;;;;;IAEO,+BAA+B,CAAC,QAA6B;QACnE,IAAI,IAAI,CAAC,eAAe,CAAC,KAAK,KAAK,SAAS,EAAE;YAC5C,OAAO,IAAI,CAAC;SACb;QACD,IAAI,QAAQ,CAAC,YAAY,KAAK,GAAG,EAAE;YACjC,IAAI,QAAQ,CAAC,KAAK,EAAE;gBAClB,OAAO,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,qCAAqC,CAAC,GAAG,QAAQ,CAAC,KAAK,CAAC;aAC1F;iBAAM;gBACL,OAAO,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,qCAAqC,CAAC,CAAC;aACzE;SACF;aAAM,IAAI,QAAQ,CAAC,YAAY,KAAK,GAAG,EAAE;YACxC,OAAO,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,qCAAqC,CAAC,CAAC;SACzE;KACF;;;;;;IAEO,gCAAgC,CAAC,QAA8B;;YACjE,GAAG,GAAG,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,4BAA4B,CAAC,GAAG,QAAQ,CAAC,IAAI;cAC/E,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,kCAAkC,CAAC;QAC/D,IAAI,QAAQ,CAAC,gBAAgB,IAAI,QAAQ,CAAC,gBAAgB,CAAC,MAAM,GAAG,CAAC,EAAE;YACrE,QAAQ,CAAC,gBAAgB,CAAC,OAAO;;;;YAAC,CAAC;gBACjC,GAAG,IAAI,GAAG,CAAC,CAAC,IAAI,IAAI,CAAC,CAAC,KAAK,GAAG,CAAC;aAChC,EAAC,CAAC;YACH,GAAG,GAAG,GAAG,CAAC,SAAS,CAAC,CAAC,EAAE,GAAG,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;SACxC;QACD,GAAG,IAAI,GAAG,CAAC;QACX,OAAO,GAAG,CAAC;KACZ;;;;;;IAEO,oCAAoC,CAAC,aAAuC;;YAC9E,WAAW,GAAG,EAAE;QACpB,IAAI,aAAa,CAAC,SAAS,EAAE;YAC3B,WAAW,IAAI,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,uCAAuC,CAAC,GAAG,aAAa,CAAC,SAAS,CAAC;SAC7G;QACD,IAAI,aAAa,CAAC,aAAa,EAAE;YAC/B,WAAW,IAAI,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,uCAAuC,CAAC,GAAG,aAAa,CAAC,aAAa,CAAC;SACjH;QACD,IAAI,aAAa,CAAC,QAAQ,EAAE;YAC1B,IAAI,aAAa,CAAC,SAAS,EAAE;gBAC3B,WAAW,IAAI,GAAG,CAAC;aACpB;YACD,IAAI,aAAa,CAAC,aAAa,EAAE;gBAC/B,WAAW,IAAI,GAAG,CAAC;aACpB;YACD,WAAW,IAAI,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,6CAA6C,CAAC,GAAG,aAAa,CAAC,QAAQ,CAAC;SAClH;QACD,OAAO,WAAW,CAAC;KACpB;;;;;;IAEO,6BAA6B,CAAC,MAAyB;;YACzD,WAAW,GAAG,EAAE;QACpB,IAAI,MAAM,CAAC,eAAe,EAAE;YAC1B,WAAW,IAAI,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,kCAAkC,CAAC,GAAG,MAAM,CAAC,mBAAmB,GAAG,GAAG,CAAC;SACjH;QACD,IAAI,MAAM,CAAC,eAAe,EAAE;YAC1B,WAAW,IAAI,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,kCAAkC,CAAC,GAAG,MAAM,CAAC,mBAAmB,GAAG,GAAG,CAAC;SACjH;QACD,IAAI,MAAM,CAAC,eAAe,EAAE;YAC1B,WAAW,IAAI,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,kCAAkC,CAAC,GAAG,MAAM,CAAC,mBAAmB,GAAG,GAAG,CAAC;SACjH;QACD,IAAI,MAAM,CAAC,cAAc,EAAE;YACzB,WAAW,IAAI,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,4BAA4B,CAAC,GAAG,MAAM,CAAC,cAAc,GAAG,GAAG,CAAC;SACtG;QACD,OAAO,WAAW,CAAC,KAAK,CAAC,CAAC,EAAE,WAAW,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;KACrD;;;;;;IAEO,YAAY,CAAC,CAAM;;QAEzB,IAAI,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE;YAC3C,KAAK,MAAM,MAAM,IAAI,IAAI,CAAC,eAAe,CAAC,OAAO,EAAE;gBACjD,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,QAAQ,EAAE,MAAM,CAAC,CAAC;aACvC;YACD,IAAI,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,WAAW,IAAI,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC,MAAM,GAAG,CAAC,EAAE;;sBACnG,UAAU,GAAG,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC;gBACjE,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,UAAU,CAAC,IAAI,EAAE,QAAQ,EACnD,UAAU,CAAC,IAAI,EAAE,YAAY,CAAC,UAAU,CAAC,CAAC;aAC7C;SACF;;YACG,OAAO,GAAG,IAAI,KAAK,EAAE;QACzB,OAAO,GAAG,IAAI,CAAC,eAAe,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC;QACnD,IAAI,IAAI,CAAC,eAAe,CAAC,kBAAkB,CAAC,MAAM,GAAG,CAAC,EAAE;YACtD,KAAK,MAAM,QAAQ,IAAI,IAAI,CAAC,eAAe,CAAC,kBAAkB,EAAE;gBAC9D,IAAI,CAAC,OAAO,CAAC,IAAI;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,GAAG,KAAK,QAAQ,CAAC,GAAG,EAAC,EAAE;oBAC9C,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;iBACxB;aACF;SACF;QACD,IAAI,IAAI,CAAC,eAAe,CAAC,wBAAwB,CAAC,MAAM,GAAG,CAAC,EAAE;YAC5D,KAAK,MAAM,QAAQ,IAAI,IAAI,CAAC,eAAe,CAAC,wBAAwB,EAAE;gBACpE,IAAI,CAAC,OAAO,CAAC,IAAI;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,GAAG,KAAK,QAAQ,CAAC,GAAG,EAAC,EAAE;oBAC9C,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;iBACxB;aACF;SACF;QACD,IAAI,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE;YACtB,KAAK,MAAM,CAAC,IAAI,OAAO,EAAE;gBACvB,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;aACzB;SACF;QACD,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;QAC9C,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,YAAY,CAAC,WAAW,CAAC,CAAC;QACnD,IAAI,CAAC,IAAI,CAAC,eAAe,EAAE,CAAC,IAAI;;;;QAAC,CAAC,IAAY;YAC5C,IAAG,IAAI,CAAC,kBAAkB,IAAI,IAAI,CAAC,kBAAkB,CAAC,WAAW,IAAI,IAAI,CAAC,kBAAkB,CAAC,WAAW,CAAC,IAAI,EAAE;;oBACzG,IAAI,GAAG,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,IAAI;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,EAAE,KAAK,IAAI,CAAC,kBAAkB,CAAC,WAAW,CAAC,IAAI,CAAC,EAAE,EAAC;gBAC9G,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;aACvB;YACD,CAAC,CAAC,WAAW,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;YAC7B,CAAC,CAAC,QAAQ,CAAC,EAAE,CAAC,aAAa,EAAE,CAAC;;YAE9B,IAAG,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE;gBACrB,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,eAAe,GAAG,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,eAAe,CAAC,MAAM;;;;gBAAC,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,GAAG,KAAK,CAAC,CAAC,GAAG,EAAC,EAAC,CAAC;aAC9H;SACF,EAAC,CAAC;KACJ;;;;;IAEO,mBAAmB;;cACnB,GAAG,GAAG,mDAAmD;QAC/D,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC;aACf,SAAS;;;;QAAC,CAAC,IAAS,KAAK,IAAI,CAAC,eAAe,CAAC,iBAAiB,GAAG,IAAI,CAAC,GAAG;;;;QAAC,CAAC,KAAK,EAAE,KAAK,EAAE,CAAC,CAAC,EAAE,EAAE,IAAI,EAAE,CAAC,CAAC,IAAI,EAAE,CAAC,EAAC,EAAC,CAAC;KACtH;;;;;;;IAGO,gBAAgB,CAAC,OAAe;;cAChC,OAAO,GAAG;YACd,KAAK,EAAE,GAAG;YACV,MAAM,EAAE,GAAG;SACZ;QACD,QAAQ,OAAO;YACb,KAAK,kCAAkC;gBACrC,OAAO,CAAC,KAAK,GAAG,GAAG,CAAC;gBACpB,OAAO,CAAC,MAAM,GAAG,GAAG,CAAC;gBACrB,OAAO,OAAO,CAAC;YACjB,KAAK,8BAA8B;gBACjC,OAAO,CAAC,KAAK,GAAG,GAAG,CAAC;gBACpB,OAAO,CAAC,MAAM,GAAG,GAAG,CAAC;gBACrB,OAAO,OAAO,CAAC;YACjB,KAAK,kCAAkC;gBACrC,OAAO,CAAC,KAAK,GAAG,GAAG,CAAC;gBACpB,OAAO,CAAC,MAAM,GAAG,GAAG,CAAC;gBACrB,OAAO,OAAO,CAAC;AAAC;YAClB,KAAK,uCAAuC;gBAC1C,OAAO,CAAC,KAAK,GAAG,GAAG,CAAC;gBACpB,OAAO,CAAC,MAAM,GAAG,GAAG,CAAC;gBACrB,OAAO,OAAO,CAAC;AAAC;YAClB,KAAK,gCAAgC;gBACnC,OAAO,CAAC,KAAK,GAAG,GAAG,CAAC;gBACpB,OAAO,CAAC,MAAM,GAAG,GAAG,CAAC;gBACrB,OAAO,OAAO,CAAC;AAAC;YAClB,KAAK,mCAAmC;gBACtC,OAAO,CAAC,KAAK,GAAG,GAAG,CAAC;gBACpB,OAAO,CAAC,MAAM,GAAG,GAAG,CAAC;gBACrB,OAAO,OAAO,CAAC;AAAC;YAClB,KAAK,0CAA0C;gBAC7C,OAAO,CAAC,KAAK,GAAG,GAAG,CAAC;gBACpB,OAAO,CAAC,MAAM,GAAG,GAAG,CAAC;gBACrB,OAAO,OAAO,CAAC;AAAC;YAClB,KAAK,sCAAsC;gBACzC,OAAO,CAAC,KAAK,GAAG,GAAG,CAAC;gBACpB,OAAO,CAAC,MAAM,GAAG,GAAG,CAAC;gBACrB,OAAO,OAAO,CAAC;AAAC;SACnB;KACF;;;YAp1BF,SAAS,SAAC;gBACT,QAAQ,EAAE,4BAA4B;gBACtC,64IAAuD;gBAEvD,SAAS,EAAE;oBACT,kBAAkB;oBACjB,YAAY;iBACd;;aACF;;;;YApBQ,sBAAsB;YAOtB,kBAAkB;YAfY,wBAAwB;YAAsC,QAAQ;YAKxF,cAAc;YAD1B,eAAe;YAGD,iBAAiB;YAN/B,WAAW;YADX,iBAAiB,uBAiJrB,QAAQ;yCACR,MAAM,SAAC,SAAS;4CAChB,MAAM,SAAC,iBAAiB;YAlID,YAAY,uBAmInC,QAAQ;;;yBArHV,MAAM;0BACN,MAAM;0BAEN,SAAS,SAAC,kBAAkB;yBAE5B,SAAS,SAAC,YAAY;yBACtB,SAAS,SAAC,YAAY;iCAEtB,SAAS,SAAC,oBAAoB;2BAE9B,KAAK;;;;;;;ACzCR,MAmBa,mCAAmC;;;;;;;;;;IAsF9C,YACsB,GAAsB,EACf,QAAgB,EACR,SAAc,EAC7B,UAAwB,EACpC,IAAuB,EACvB,OAAwB,EACxB,eAAuC;QAN3B,QAAG,GAAH,GAAG,CAAmB;QACf,aAAQ,GAAR,QAAQ,CAAQ;QACR,cAAS,GAAT,SAAS,CAAK;QAC7B,eAAU,GAAV,UAAU,CAAc;QACpC,SAAI,GAAJ,IAAI,CAAmB;QACvB,YAAO,GAAP,OAAO,CAAiB;QACxB,oBAAe,GAAf,eAAe,CAAwB;QA3FjD,QAAG,GAAG,8BAA8B,CAAC;QAE3B,eAAU,GAAG,IAAI,YAAY,EAAO,CAAC;QACrC,gBAAW,GAAG,IAAI,YAAY,EAAO,CAAC;QAEvC,iBAAY,GAAQ,EAAE,CAAC;QA6ChC,gCAA2B,GAAG,CAAC;gBAC7B,KAAK,EAAE,QAAQ;gBACf,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,oCAAoC,CAAC;gBACrE,KAAK,EAAE,QAAQ;aAChB,EAAE;gBACD,KAAK,EAAE,MAAM;gBACb,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,yCAAyC,CAAC;gBAC1E,KAAK,EAAE,aAAa;aACrB,EAAE;gBACD,KAAK,EAAE,YAAY;gBACnB,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,+CAA+C,CAAC;gBAChF,KAAK,EAAE,mBAAmB;aAC3B;YACD;gBACE,KAAK,EAAE,iBAAiB;gBACxB,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,kDAAkD,CAAC;gBACnF,KAAK,EAAE,EAAE;aACV,CAAC,CAAC;QACH,qBAAgB,GAAG,CAAC;gBAChB,KAAK,EAAES,aAAW,CAAC,aAAa,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,2CAA2C,CAAC;aACjH,EAAE;gBACC,KAAK,EAAEA,aAAW,CAAC,YAAY,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,0CAA0C,CAAC;aAC/G,EAAE;gBACC,KAAK,EAAEA,aAAW,CAAC,QAAQ,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,sCAAsC,CAAC;aACvG,EAAE;gBACD,KAAK,EAAEA,aAAW,CAAC,MAAM,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,oCAAoC,CAAC;aACnG,CAAC,CAAC;QACD,WAAM,GAAG,KAAK,CAAC;QACf,sBAAiB,GAAG,IAAI,CAAC,2BAA2B,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC;QAC9D,WAAM,GAAG,IAAI,CAAC,gBAAgB,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC;QACxC,oBAAe,GAAG,KAAK,CAAC;QACxB,mBAAc,GAAG,EAAE,CAAC;QACpB,oBAAe,GAAG,KAAK,CAAC;QAwExB,eAAU;;;QAAG;YACX,OAAO,IAAI,CAAC,gBAAgB,CAAC,IAAI;;;;YAAC,CAAC,IAAI,CAAC,CAAC,KAAK,KAAK,IAAI,CAAC,MAAM,EAAC,CAAC,IAAI,CAAC;SACtE,EAAA;QAmED,gBAAW,GAAG;YACZ,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,4CAA4C,CAAC;YAC9E,KAAK,EAAE,GAAG;YACV,MAAM,EAAE,GAAG;YACX,WAAW,EAAE,IAAI;SAClB,CAAC;QAvIA,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,IAAI,IAAI,YAAY,CAAC,QAAQ,EAAE,SAAS,CAAC,CAAC;KAC3E;;;;;IArFF,IACI,KAAK,CAAC,CAAgC;QACxC,IAAI,CAAC,MAAM,sBAAG,CAAC,CAAC,MAAM,EAAO,CAAC;QAC9B,IAAI,IAAI,CAAC,MAAM,KAAK,IAAI,CAAC,gBAAgB,CAAC,CAAC,CAAC,CAAC,KAAK,EAAE;YAClD,IAAI,CAAC,CAAC,MAAM,KAAK,IAAI,IAAI,CAAC,CAAC,MAAM,KAAK,SAAS,EAAE;gBAC/C,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;aACpB;iBAAM;gBACL,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC,MAAM,CAAC;aACxB;SACF;aAAM;YACL,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC,MAAM,CAAC;SACxB;QACD,IAAI,CAAC,CAAC,KAAK,EAAE;YACX,IAAI,CAAC,sBAAsB,CAAC,WAAW,CAAC,UAAU,GAAG,IAAI,CAAC;;gBACtD,iCAAiC,GAAG,IAAID,mCAAiC,EAAE;YAC/E,iCAAiC,CAAC,WAAW,sBAAG,CAAC,CAAC,MAAM,EAAO,CAAC;YAChE,IAAI,CAAC,CAAC,KAAK,CAAC,iBAAiB,KAAKE,mBAAiB,CAAC,OAAO,IAAI,CAAC,CAAC,KAAK,CAAC,GAAG,KAAK,YAAY,EAAE;gBAC3F,iCAAiC,CAAC,iBAAiB,GAAGA,mBAAiB,CAAC,eAAe,CAAC;gBACxF,iCAAiC,CAAC,GAAG,GAAG,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC;gBACpD,IAAI,CAAC,iBAAiB,GAAGA,mBAAiB,CAAC,eAAe,CAAC;aAC5D;iBAAM,IAAG,CAAC,CAAC,KAAK,CAAC,iBAAiB,EAAC;gBAClC,IAAI,CAAC,iBAAiB,GAAG,CAAC,CAAC,KAAK,CAAC,iBAAiB,CAAC;aACpD;YACD,IAAI,CAAC,eAAe,GAAG,CAAC,CAAC,KAAK,CAAC,eAAe,CAAC;YAC/C,iCAAiC,CAAC,eAAe,GAAG,CAAC,CAAC,KAAK,CAAC,eAAe,CAAC;YAC5E,IAAI,CAAC,cAAc,GAAG,CAAC,CAAC,KAAK,CAAC,cAAc,CAAC;YAC7C,iCAAiC,CAAC,cAAc,GAAG,CAAC,CAAC,KAAK,CAAC,cAAc,CAAC;YAC1E,iCAAiC,CAAC,gBAAgB,GAAG,IAAI,CAAC,2BAA2B,CAAC,IAAI;;;;YAAC,CAAC,IAAI,CAAC,CAAC,KAAK,KAAK,IAAI,CAAC,iBAAiB,EAAC,CAAC,IAAI,CAAC;YACzI,IAAI,CAAC,sBAAsB,CAAC,0BAA0B,CAAC,iCAAiC,CAAC,CAAC;YAC1F,IAAG,CAAC,CAAC,KAAK,CAAC,eAAe,EAAC;gBACzB,IAAI,CAAC,sBAAsB,CAAC,WAAW,GAAG,CAAC,CAAC,KAAK,CAAC,eAAe,CAAC;aACnE;iBAAK;gBACJ,IAAI,CAAC,sBAAsB,CAAC,WAAW,GAAG,IAAI,eAAe,EAAE,CAAC;aACjE;SACF;aAAK;YACJ,IAAI,CAAC,sBAAsB,CAAC,WAAW,CAAC,UAAU,GAAG,KAAK,CAAC;SAC5D;KACF;;;;IAkDD,QAAQ;KACP;;;;IAED,OAAO;QACL,IAAG,IAAI,CAAC,QAAQ,EAAE,EAAC;;kBACX,KAAK,GAAG,IAAI,6BAA6B,EAAE;YACjD,KAAK,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC;YAC3B,KAAK,CAAC,MAAM,sBAAG,IAAI,CAAC,MAAM,EAAO,CAAC;YAClC,IAAI,IAAI,CAAC,sBAAsB,CAAC,WAAW,CAAC,UAAU,EAAE;;sBAChD,SAAS,GAAG,IAAI,0BAA0B,EAAE;gBAClD,SAAS,CAAC,WAAW,GAAG,IAAI,CAAC,MAAM,CAAC;;;;;;;;;;;gBAWpC,KAAK,CAAC,KAAK,sBAAG,SAAS,EAAO,CAAC;gBAC/B,KAAK,CAAC,KAAK,CAAC,eAAe,GAAG,IAAI,CAAC,sBAAsB,CAAC,WAAW,CAAC;aACvE;;kBACK,MAAM,GAAG,EAAE,KAAK,EAAE,KAAK,EAAE,UAAU,EAAE,IAAI,EAAE;YACjD,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;SAC/B;KACF;;;;IACD,WAAW;QACT,IAAI,CAAC,UAAU,CAAC,IAAI,EAAE,CAAC;KACxB;;;;IAED,QAAQ;QACN,IAAG,IAAI,CAAC,sBAAsB,CAAC,WAAW,CAAC,UAAU;aAClD,CAAC,IAAI,CAAC,sBAAsB,CAAC,WAAW,CAAC,kBAAkB,IAAI,IAAI,CAAC,sBAAsB,CAAC,WAAW,CAAC,kBAAkB,CAAC,MAAM,IAAI,CAAC,CAAC,EAAE;YACvI,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,2CAA2C,CAAC,CAAC,CAAC;YAC1F,OAAO,KAAK,CAAC;SACd;aAAK;YACJ,OAAO,IAAI,CAAC;SACb;KACJ;;;;;IACD,WAAW,CAAC,KAAU;QACpB,QAAQ,KAAK,CAAC,KAAK;YACjB,KAAK,IAAI,CAAC,2BAA2B,CAAC,CAAC,CAAC,CAAC,KAAK;gBAC5C,IAAI,CAAC,eAAe,GAAG,KAAK,CAAC;gBAC7B,MAAM;YACR,KAAK,IAAI,CAAC,2BAA2B,CAAC,CAAC,CAAC,CAAC,KAAK;gBAC5C,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;gBAC5B,MAAM;YACR,KAAK,IAAI,CAAC,2BAA2B,CAAC,CAAC,CAAC,CAAC,KAAK;gBAC5C,IAAI,CAAC,eAAe,GAAG,KAAK,CAAC;gBAC7B,MAAM;YACR,KAAK,IAAI,CAAC,2BAA2B,CAAC,CAAC,CAAC,CAAC,KAAK;gBAC5C,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;gBAC5B,IAAI,CAAC,cAAc,GAAG,EAAE,CAAC;gBACzB,MAAM;SACT;KACF;;;;;IAID,KAAK,CAAC,MAAM;QACV,IAAI,CAAC,cAAc,GAAG,EAAE,CAAC;KAC1B;;;;;IACD,WAAW,CAAC,IAAS;QACnB,IAAI,CAAC,YAAY,EAAE,CAAC;KACrB;;;;IAED,YAAY;;cACJ,OAAO,GAAG,IAAI,KAAK,EAAa;;;;;QAKtC,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,YAAY,CAAC,QAAQ,CAAC,CAAC;QAChD,IAAI,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE;YAC3C,KAAK,MAAM,MAAM,IAAI,IAAI,CAAC,eAAe,CAAC,OAAO,EAAE;gBACjD,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,QAAQ,EAAE,MAAM,CAAC,CAAC;aACvC;YACD,IAAI,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,WAAW,IAAI,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC,MAAM,GAAG,CAAC,EAAE;;sBACnG,UAAU,GAAG,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC;gBACjE,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,UAAU,CAAC,IAAI,EAAE,QAAQ,EACnD,UAAU,CAAC,IAAI,EAAE,YAAY,CAAC,UAAU,CAAC,CAAC;aAC7C;SACF;QACD,IAAI,IAAI,CAAC,eAAe,CAAC,kBAAkB,CAAC,MAAM,GAAG,CAAC,EAAE;YACtD,KAAK,MAAM,QAAQ,IAAI,IAAI,CAAC,eAAe,CAAC,kBAAkB,EAAE;gBAC9D,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;aACxB;SACF;QACD,IAAI,IAAI,CAAC,eAAe,CAAC,sBAAsB,CAAC,MAAM,GAAG,CAAC,EAAE;YAC1D,KAAK,MAAM,QAAQ,IAAI,IAAI,CAAC,eAAe,CAAC,sBAAsB,EAAE;gBAClE,IAAI,CAAC,OAAO,CAAC,IAAI;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,GAAG,KAAK,QAAQ,CAAC,GAAG,EAAC,EAAE;oBAC9C,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;iBACxB;aACF;SACF;QACD,IAAI,IAAI,CAAC,eAAe,CAAC,kBAAkB,CAAC,MAAM,GAAG,CAAC,EAAE;YACtD,KAAK,MAAM,QAAQ,IAAI,IAAI,CAAC,eAAe,CAAC,kBAAkB,EAAE;gBAC9D,IAAI,CAAC,OAAO,CAAC,IAAI;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,GAAG,KAAK,QAAQ,CAAC,GAAG,EAAC,EAAE;oBAC9C,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;iBACxB;aACF;SACF;QACD,IAAI,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE;YACtB,KAAK,MAAM,CAAC,IAAI,OAAO,EAAE;gBACvB,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;aACzB;SACF;;QAED,IAAI,IAAI,CAAC,cAAc,EAAE;YACvB,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;SAClD;aAAM;YACL,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,EAAE,CAAC,CAAC;SACjC;QACD,IAAI,CAAC,IAAI,CAAC,eAAe,EAAE,CAAC,IAAI;;;;QAAC,CAAC,cAAsB;YACtD,IAAI,cAAc,EAAE;gBAClB,IAAI,CAAC,cAAc,GAAG,cAAc,CAAC;gBACrC,IAAI,CAAC,2BAA2B,CAAC,CAAC,CAAC,CAAC,KAAK,GAAG,cAAc,CAAC;aAC5D;;YAED,IAAG,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE;gBACrB,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,eAAe,GAAG,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,eAAe,CAAC,MAAM;;;;gBAAC,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,GAAG,KAAK,CAAC,CAAC,GAAG,EAAC,EAAC,CAAC;aAC9H;SACF,EAAC,CAAC;KACJ;;;YAvOF,SAAS,SAAC;gBACT,QAAQ,EAAE,kCAAkC;gBAC5C,6wDAA4D;gBAE5D,SAAS,EAAE;oBACR,YAAY;iBACd;;aACF;;;;YAlB6F,iBAAiB,uBA0G1G,QAAQ;yCACR,MAAM,SAAC,SAAS;4CAChB,MAAM,SAAC,iBAAiB;YAzGD,YAAY,uBA0GnC,QAAQ;YAzGU,iBAAiB;YAK/B,eAAe;YAJf,sBAAsB;;;kBAe5B,WAAW,SAAC,OAAO;yBAGnB,MAAM;0BACN,MAAM;2BAEN,KAAK;qCAEL,SAAS,SAAC,+BAA+B;oBAEzC,KAAK;0BAuCL,SAAS,SAAC,kBAAkB;;MAsLlB,mCAAmC;;;;IAC9C,YACU,UAAwB;QAAxB,eAAU,GAAV,UAAU,CAAc;KAC7B;;;;;IAEL,SAAS,CAAC,IAAmC;QAC3C,IAAI,IAAI,IAAI,IAAI,CAAC,MAAM,wBAAKD,aAAW,CAAC,QAAQ,EAAO,KAAK,IAAI,CAAC,MAAM,KAAK,IAAI,IAAI,IAAI,CAAC,MAAM,KAAK,SAAS,CAAC,EAAE;YAC9G,OAAO,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,iCAAiC,CAAC,CAAC;SACrE;aAAM;YACL,IAAI,IAAI,IAAI,IAAI,CAAC,MAAM,EAAE;gBACvB,OAAO,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,iCAAiC,CAAC,CAAC;aACrE;iBAAM;gBACL,OAAO,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,oCAAoC,CAAC,CAAC;aACxE;SACF;KACF;CACF;;;;;;AC3QD,MAAa,YAAY;IAAzB;QACI,gBAAW,GAAG,KAAK,CAAC;QACpB,cAAS,GAAG,KAAK,CAAC;KACrB;CAAA;;;;;;ACHD,MAca,qBAAqB;;;;;;;;IAqBhC,YACU,QAAkB,EACN,GAAsB,EACf,QAAgB,EACR,SAAc,EAC7B,UAAwB;QAJpC,aAAQ,GAAR,QAAQ,CAAU;QACN,QAAG,GAAH,GAAG,CAAmB;QACf,aAAQ,GAAR,QAAQ,CAAQ;QACR,cAAS,GAAT,SAAS,CAAK;QAC7B,eAAU,GAAV,UAAU,CAAc;QAxB9C,QAAG,GAAG,8BAA8B,CAAC;QAE3B,eAAU,GAAG,IAAI,YAAY,EAAO,CAAC;QACrC,gBAAW,GAAG,IAAI,YAAY,EAAO,CAAC;QAShD,iBAAY,GAAiB,IAAI,YAAY,EAAE,CAAC;QAChD,gBAAW,GAAG;YACZ,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,qCAAqC,CAAC;YACvE,KAAK,EAAE,GAAG;YACV,MAAM,EAAE,GAAG;YACX,WAAW,EAAE,IAAI;SAClB,CAAC;QAQA,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,IAAI,IAAI,YAAY,CAAC,QAAQ,EAAE,SAAS,CAAC,CAAC;KAC3E;;;;;IAtBF,IAAa,KAAK,CAAC,IAAkB;QACnC,IAAI,CAAC,YAAY,CAAC,WAAW,GAAG,IAAI,CAAC,WAAW,IAAI,KAAK,CAAC;QAC1D,IAAI,CAAC,YAAY,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,IAAI,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,iCAAiC,CAAC,CAAC;KAC9G;;;;IAqBD,QAAQ;KACP;;;;IACD,OAAO;;cACC,MAAM,GAAG,EAAE,KAAK,EAAE,IAAI,CAAC,YAAY,EAAE,UAAU,EAAE,IAAI,EAAE;QAC7D,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;KAC/B;;;;IAED,WAAW;QACT,IAAI,CAAC,UAAU,CAAC,IAAI,EAAE,CAAC;KACxB;;;YAhDF,SAAS,SAAC;gBACT,QAAQ,EAAE,mBAAmB;gBAC7B,o7EAA6C;gBAE7C,SAAS,EAAE;oBACR,YAAY;iBACd;;aACF;;;;YAbqG,QAAQ;YAAY,iBAAiB,uBAqCtI,QAAQ;yCACR,MAAM,SAAC,SAAS;4CAChB,MAAM,SAAC,iBAAiB;YAnCD,YAAY,uBAoCnC,QAAQ;;;kBAzBV,WAAW,SAAC,OAAO;yBAGnB,MAAM;0BACN,MAAM;oBAEN,KAAK;0BAKL,SAAS,SAAC,kBAAkB;;MA+BlB,qBAAqB;;;;IAChC,YACU,UAAwB;QAAxB,eAAU,GAAV,UAAU,CAAc;KAC7B;;;;;IAEL,SAAS,CAAC,IAAS;QACjB,IAAI,IAAI,IAAI,IAAI,CAAC,WAAW,EAAE;YAC5B,OAAO,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,4BAA4B,CAAC,CAAC;SAChE;aAAM;YACL,OAAO,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,+BAA+B,CAAC,CAAC;SACnE;KACF;CACF;;;;;;ACrED,MAAaE,iBAAe;CAuC3B;;;;;;ACvCD,MAwBa,wBAAwB;;;;;;;;;;;;;IAgCnC,YACU,QAAkC,EAClC,QAAkB,EAClB,YAA4B,EAC5B,OAAwB,EACxB,OAA+B,EAC/B,IAAuB,EACX,GAAsB,EACf,QAAgB,EACR,SAAc,EAC7B,UAAwB;QATpC,aAAQ,GAAR,QAAQ,CAA0B;QAClC,aAAQ,GAAR,QAAQ,CAAU;QAClB,iBAAY,GAAZ,YAAY,CAAgB;QAC5B,YAAO,GAAP,OAAO,CAAiB;QACxB,YAAO,GAAP,OAAO,CAAwB;QAC/B,SAAI,GAAJ,IAAI,CAAmB;QACX,QAAG,GAAH,GAAG,CAAmB;QACf,aAAQ,GAAR,QAAQ,CAAQ;QACR,cAAS,GAAT,SAAS,CAAK;QAC7B,eAAU,GAAV,UAAU,CAAc;QAxC9C,QAAG,GAAG,8BAA8B,CAAC;QAC3B,eAAU,GAAG,IAAI,YAAY,EAAO,CAAC;QACrC,gBAAW,GAAG,IAAI,YAAY,EAAO,CAAC;QAEvC,UAAK,GAA2B,IAAI,KAAK,EAAE,CAAC;QAC5C,iBAAY,GAAQ,EAAE,CAAC;QAKhC,YAAO,GAAG,EAAE,CAAC;QAEL,SAAI,GAAG;YACb,EAAE,KAAK,EAAE,UAAU,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,oCAAoC,CAAC,EAAE;YAC5F,EAAE,KAAK,EAAE,YAAY,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,sCAAsC,CAAC,EAAE;YAChG,EAAE,KAAK,EAAE,WAAW,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,qCAAqC,CAAC,EAAE;SAC/F,CAAC;QAEM,kBAAa,GAAG;YACtB,EAAE,KAAK,EAAE,kBAAkB,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,4CAA4C,CAAC,EAAE;YAC5G,EAAE,KAAK,EAAE,oBAAoB,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,8CAA8C,CAAC,EAAE;SACjH,CAAC;QAEF,gBAAW,GAAG;YACZ,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,qCAAqC,CAAC;YACvE,KAAK,EAAE,GAAG;YACV,MAAM,EAAE,GAAG;YACX,WAAW,EAAE,IAAI;SAClB,CAAC;QAyJF,eAAU;;;;QAAG,CAAC,KAAmB;;kBACzB,OAAO,sBAAG,KAAK,CAAC,OAAO,EAAO;;kBAC9B,MAAM,GAAG,KAAK,CAAC,MAAM;YAC3B,IAAI,MAAM,CAAC,KAAK,KAAK,WAAW,EAAE;gBAChC,IAAI,oBAAC,OAAO,IAAqB,GAAG,KAAK,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,KAAK,EAAE;oBAC3D,KAAK,CAAC,MAAM,CAAC,MAAM,GAAG,EAAE,IAAI,EAAE,WAAW,CAAC,OAAO,EAAE,OAAO,EAAE,EAAE,EAAE,CAAC;iBAClE;qBAAM;oBACL,KAAK,CAAC,MAAM,CAAC,MAAM,GAAG;wBACpB,IAAI,EAAE,aAAa;wBACnB,OAAO,EAAE;4BACP,SAAS,EAAE,sCAAsC;4BACjD,QAAQ,EAAE,KAAK;4BACf,SAAS,EAAE,KAAK;4BAChB,WAAW;;;;4BAAE,CAAC,CAAC;gCACb,CAAC,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC,CAAC,QAAQ,CAAC,KAAK,GAAG,CAAC,CAAC,QAAQ,CAAC,KAAK,GAAG,EAAE,CAAC,CAAC;gCACjE,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;6BACnB,CAAA;4BACD,KAAK;;;;4BAAE,CAAC,CAAC;gCACP,OAAO,CAAC,GAAG,CAAC,OAAO,EAAE,CAAC,CAAC,CAAC;6BACzB,CAAA;yBACF;qBACF,CAAC;iBACH;aACF;YACD,OAAOX,IAAE,CAAC,IAAI,CAAC,CAAC;SACjB,EAAA;QApKC,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,IAAI,IAAI,YAAY,CAAC,QAAQ,EAAE,SAAS,CAAC,CAAC;KAC5E;;;;IAED,QAAQ;QACN,IAAI,CAAC,OAAO,GAAG;YACb;gBACE,KAAK,EAAE,cAAc,EAAE,KAAK,EAAE,EAAE,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,qCAAqC,CAAC,EAAE,QAAQ,EAAE,IAAI;gBACzH,UAAU,EAAE;oBACV,EAAE,IAAI,EAAE,UAAU,EAAE,QAAQ,EAAE,IAAI,EAAE;iBACrC;aACF;YACD;gBACE,KAAK,EAAE,cAAc,EAAE,KAAK,EAAE,EAAE,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,mCAAmC,CAAC,EAAE,QAAQ,EAAE,IAAI;gBACvH,UAAU,EAAE;oBACV,EAAE,IAAI,EAAE,UAAU,EAAE,QAAQ,EAAE,IAAI,EAAE;iBACrC;aACF,EAAE;gBACD,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,EAAE,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,qCAAqC,CAAC,EAAE,QAAQ,EAAE,IAAI;gBAChH,SAAS,EAAE;oBACT,IAAI,EAAE,MAAM;oBACZ,OAAO,EAAE,EAAE,UAAU,EAAE,OAAO,EAAE,SAAS,EAAE,MAAM,EAAE,IAAI,EAAE,IAAI,CAAC,IAAI,EAAE;iBACrE;gBACD,MAAM,EAAE;oBACN,IAAI,EAAE,WAAW,CAAC,SAAS;oBAC3B,OAAO,EAAE;wBACP,UAAU,EAAE,OAAO,EAAE,SAAS,EAAE,MAAM,EAAE,IAAI,EAAE,IAAI,CAAC,IAAI,EAAE,OAAO,EAAE,OAAO,EAAE,WAAW,EAAE,MAAM,EAAE,SAAS,EAAE,KAAK;wBAChH,YAAY;;;;wBAAE,CAAC,CAAC;4BACd,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG;;;;4BAAC,CAAC;gCAC3B,IAAI,CAAC,CAAC,YAAY,KAAK,CAAC,CAAC,KAAK,EAAE;oCAC9B,CAAC,CAAC,KAAK,GAAG,IAAI,CAAC;oCACf,CAAC,CAAC,SAAS,GAAG,IAAI,CAAC;oCACnB,IAAI,CAAC,CAAC,SAAS,EAAE;wCACf,CAAC,CAAC,SAAS,GAAG,IAAI,CAAC;qCACpB;oCACD,OAAO,CAAC,CAAC;iCACV;qCAAM;oCACL,OAAO,CAAC,CAAC;iCACV;6BACF,EAAC,CAAC;yBACJ,CAAA;qBACF;iBACF;gBACD,UAAU,EAAE;oBACV,EAAE,IAAI,EAAE,UAAU,EAAE,QAAQ,EAAE,IAAI,EAAE;iBACrC;aACF,EAAE;gBACD,KAAK,EAAE,eAAe,EAAE,KAAK,EAAE,EAAE,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,yCAAyC,CAAC,EAAE,QAAQ,EAAE,IAAI;gBAC9H,SAAS,EAAE;oBACT,IAAI,EAAE,MAAM;oBACZ,OAAO,EAAE,EAAE,UAAU,EAAE,OAAO,EAAE,SAAS,EAAE,MAAM,EAAE,IAAI,EAAE,IAAI,CAAC,aAAa,EAAE;iBAC9E;gBACD,MAAM,EAAE;oBACN,IAAI,EAAE,WAAW,CAAC,SAAS;oBAC3B,OAAO,EAAE;wBACP,UAAU,EAAE,OAAO,EAAE,SAAS,EAAE,MAAM,EAAE,IAAI,EAAE,IAAI,CAAC,aAAa,EAAE,OAAO,EAAE,OAAO,EAAE,WAAW,EAAE,MAAM,EAAE,SAAS,EAAE,KAAK;qBAC1H;iBACF;gBACD,UAAU,EAAE;oBACV,EAAE,IAAI,EAAE,UAAU,EAAE,QAAQ,EAAE,IAAI,EAAE;iBACrC;aACF;YACD;gBACE,KAAK,EAAE,WAAW,EAAE,KAAK,EAAE,GAAG,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,qCAAqC,CAAC,EAAE,QAAQ,EAAE,IAAI;gBACvH,MAAM,EAAE,EAAE,IAAI,EAAE,WAAW,CAAC,OAAO,EAAE,OAAO,EAAE,EAAE,EAAE;gBAClD,UAAU,EAAE;oBACV,EAAE,IAAI,EAAE,UAAU,EAAE,QAAQ,EAAE,IAAI,EAAE;iBACrC;aACF;SACF,CAAC;KACH;;;;IAED,GAAG;;YACG,MAAW;;cACT,WAAW,GAAG,IAAI,CAAC,QAAQ,CAAC,uBAAuB,CAAC,yBAAyB,CAAC;;cAC9E,OAAO,GAAG,WAAW,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC;QACjD,OAAO,CAAC,QAAQ,CAAC,eAAe,GAAG,IAAI,CAAC;QACxC,OAAO,CAAC,QAAQ,CAAC,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC,gBAAgB,CAAC;QACvD,OAAO,CAAC,QAAQ,CAAC,aAAa,GAAG,IAAI,CAAC,KAAK,CAAC;QAC5C,OAAO,CAAC,QAAQ,CAAC,kBAAkB,CAAC,SAAS;;;;QAAC,CAAC,EAAS;YACtD,KAAK,MAAM,CAAC,IAAI,EAAE,EAAE;;sBACZ,WAAW,GAAG,IAAIW,iBAAe,EAAE;gBACzC,WAAW,CAAC,YAAY,GAAG,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC;gBACvC,WAAW,CAAC,YAAY,GAAG,CAAC,CAAC,IAAI,CAAC,aAAa,CAAC;gBAChD,WAAW,CAAC,GAAG,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,IAAI,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC;gBACnD,WAAW,CAAC,aAAa,GAAG,CAAC,CAAC,IAAI,CAAC,aAAa,IAAI,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC;gBAChF,IAAI,IAAI,CAAC,KAAK,CAAC,SAAS;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,YAAY,KAAK,WAAW,CAAC,YAAY,EAAC,KAAK,CAAC,CAAC,EAAE;oBACjF,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC;iBAC/C;aACF;YACD,MAAM,CAAC,KAAK,EAAE,CAAC;SAChB,EAAC,CAAC;QACH,OAAO,CAAC,QAAQ,CAAC,UAAU,CAAC,SAAS;;;;QAAC,EAAE;YACtC,MAAM,CAAC,KAAK,EAAE,CAAC;SAChB,EAAC,CAAC;;cACG,WAAW,GAAG;YAClB,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,4CAA4C,CAAC;YAC9E,KAAK,EAAE,GAAG;YACV,MAAM,EAAE,GAAG;YACX,WAAW,EAAE,IAAI;YACjB,OAAO,EAAE,OAAO,CAAC,QAAQ,CAAC,WAAW;SACtC;QACD,MAAM,GAAG,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,OAAO,EAAE,WAAW,CAAC,CAAC;KACvD;;;;IAED,MAAM;QACJ,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC;;cAClB,QAAQ,GAAG,IAAI,CAAC,IAAI,CAAC,WAAW;QACtC,IAAI,CAAC,QAAQ,EAAE;YACb,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,0CAA0C,CAAC,CAAC,CAAC;YACzF,OAAO;SACR;QACD,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM;;;;QAAC,CAAC,IAAI,CAAC,CAAC,YAAY,KAAK,QAAQ,CAAC,IAAI,CAAC,YAAY,EAAC,CAAC;KACpF;;;;IAED,OAAO;;QAEL,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC;;QAExB,UAAU;;;QAAC;YACT,IAAI,IAAI,CAAC,SAAS,EAAE,EAAE;;sBACd,MAAM,GAAG,EAAE,KAAK,EAAE,IAAI,CAAC,KAAK,EAAE,UAAU,EAAE,IAAI,EAAE;gBACtD,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;aAC/B;SACF,GAAE,GAAG,CAAC,CAAC;KACT;;;;IAED,WAAW;QACT,IAAI,CAAC,UAAU,CAAC,IAAI,EAAE,CAAC;KACxB;;;;IAED,SAAS;QACP,KAAK,MAAM,IAAI,IAAI,IAAI,CAAC,KAAK,EAAE;YAC7B,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE;gBACf,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,4CAA4C,CAAC,CAAC,CAAC;gBAC9F,OAAO,KAAK,CAAC;aACd;SACF;QACD,OAAO,IAAI,CAAC;KACb;;;;;IA4BD,OAAO,CAAC,IAAS;QACf,IAAI,IAAI,CAAC,MAAM,CAAC,KAAK,KAAK,WAAW,IAAI,IAAI,CAAC,OAAO,CAAC,GAAG,KAAK,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,KAAK,EAAE;YAChF,IAAI,CAAC,OAAO,CAAC,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC;SAC7C;KACF;;;;;IAED,SAAS,CAAC,CAAM;;cACR,OAAO,GAAoB,CAAC,CAAC,OAAO;QAC1C,QAAQ,OAAO,CAAC,GAAG;YACjB,KAAK,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,KAAK;gBACrB,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC;gBACvB,MAAM;YACR,KAAK,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,KAAK;gBACrB,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC;gBACtB,MAAM;SACT;KACF;;;;;;IAEO,cAAc,CAAC,CAAM;;;cAErB,IAAI,GAAoB,CAAC,CAAC,OAAO;QACvC,IAAI,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE;YACnC,KAAK,MAAM,MAAM,IAAI,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE;gBACzC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,QAAQ,EAAE,MAAM,CAAC,CAAC;aACvC;YACD,IAAI,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,WAAW,IAAI,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC,MAAM,GAAG,CAAC,EAAE;;sBACnF,UAAU,GAAG,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC;gBACzD,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,UAAU,CAAC,IAAI,EAAE,QAAQ,EACnD,UAAU,CAAC,IAAI,EAAE,YAAY,CAAC,UAAU,CAAC,CAAC;aAC7C;SACF;;YACG,OAAO,GAAG,IAAI,KAAK,EAAE;QACzB,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC;QAC3C,IAAI,IAAI,CAAC,OAAO,CAAC,kBAAkB,CAAC,MAAM,GAAG,CAAC,EAAE;YAC9C,KAAK,MAAM,QAAQ,IAAI,IAAI,CAAC,OAAO,CAAC,kBAAkB,EAAE;gBACtD,IAAI,CAAC,OAAO,CAAC,IAAI;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,GAAG,KAAK,QAAQ,CAAC,GAAG,EAAC,EAAE;oBAC9C,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;iBACxB;aACF;SACF;QACD,IAAI,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE;YACtB,KAAK,MAAM,CAAC,IAAI,OAAO,EAAE;gBACvB,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;aACzB;SACF;QACD,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,YAAY,CAAC,QAAQ,CAAC,CAAC;QAChD,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QACxC,IAAI,CAAC,IAAI,CAAC,eAAe,EAAE,CAAC,IAAI;;;;QAAC,CAAC,EAAU;YAC1C,CAAC,CAAC,WAAW,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC;YAC3B,CAAC,CAAC,QAAQ,CAAC,EAAE,CAAC,aAAa,EAAE,CAAC;YAC9B,IAAI,CAAC,KAAK,GAAG,EAAE,CAAC;YAChB,CAAC,CAAC,IAAI,CAAC,WAAW,CAAC,KAAK,GAAG,EAAE,CAAC;YAC9B,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK,GAAG,EAAE,CAAC;;YAExB,IAAG,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE;gBACrB,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,eAAe,GAAG,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,eAAe,CAAC,MAAM;;;;gBAAC,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,GAAG,KAAK,CAAC,CAAC,GAAG,EAAC,EAAC,CAAC;aAC9H;SACF,EAAC,CAAC;KACJ;;;;;;IAEO,aAAa,CAAC,CAAM;;cACpB,IAAI,GAAoB,CAAC,CAAC,OAAO;;YACnC,MAAW;;cACT,WAAW,GAAG,IAAI,CAAC,QAAQ,CAAC,uBAAuB,CAAC,sBAAsB,CAAC;;cAC3E,OAAO,GAAG,WAAW,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC;QACjD,OAAO,CAAC,QAAQ,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC;QAC5C,OAAO,CAAC,QAAQ,CAAC,aAAa,CAAC,SAAS;;;;QAAC,CAAC,EAAO;YAC/C,CAAC,CAAC,WAAW,CAAC,QAAQ,CAAC,EAAE,CAAC,IAAI,GAAG,GAAG,GAAG,EAAE,CAAC,UAAU,CAAC,CAAC;YACtD,CAAC,CAAC,QAAQ,CAAC,EAAE,CAAC,aAAa,EAAE,CAAC;YAC9B,IAAI,CAAC,KAAK,GAAG,EAAE,CAAC,EAAE,CAAC;YACnB,IAAI,CAAC,SAAS,GAAG,EAAE,CAAC;YACpB,CAAC,CAAC,IAAI,CAAC,WAAW,CAAC,KAAK,GAAG,EAAE,CAAC,EAAE,CAAC;YACjC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK,GAAG,EAAE,CAAC,EAAE,CAAC;YAC3B,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,SAAS,GAAG,EAAE,CAAC;YAC5B,CAAC,CAAC,IAAI,CAAC,WAAW,CAAC,SAAS,GAAG,EAAE,CAAC;YAClC,MAAM,CAAC,KAAK,EAAE,CAAC;SAChB,EAAC,CAAC;QACH,OAAO,CAAC,QAAQ,CAAC,YAAY,CAAC,SAAS;;;;QAAC,EAAE;YACxC,MAAM,CAAC,KAAK,EAAE,CAAC;SAChB,EAAC,CAAC;;cACG,WAAW,GAAG;YAClB,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,qCAAqC,CAAC;YACvE,KAAK,EAAE,GAAG;YACV,MAAM,EAAE,GAAG;YACX,WAAW,EAAE,IAAI;YACjB,OAAO,EAAE,OAAO,CAAC,QAAQ,CAAC,MAAM;SACjC;QACD,MAAM,GAAG,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,OAAO,EAAE,WAAW,CAAC,CAAC;KACvD;;;YAlTF,SAAS,SAAC;gBACT,QAAQ,EAAE,sBAAsB;gBAChC,8xDAAgD;gBAEhD,SAAS,EAAE;oBACR,YAAY;iBACd;;aACF;;;;YAvBuG,wBAAwB;YAAlC,QAAQ;YAI7F,cAAc;YAFd,eAAe;YAIf,sBAAsB;YAGR,iBAAiB;YAToG,iBAAiB,uBA+DxJ,QAAQ;yCACR,MAAM,SAAC,SAAS;4CAChB,MAAM,SAAC,iBAAiB;YApDD,YAAY,uBAqDnC,QAAQ;;;kBAzCV,WAAW,SAAC,OAAO;yBAEnB,MAAM;0BACN,MAAM;oBAEN,KAAK;2BACL,KAAK;0BACL,SAAS,SAAC,kBAAkB;mBAC5B,SAAS,SAAC,MAAM;mBAChB,SAAS,SAAC,MAAM;;MAmSN,wBAAwB;;;;IACnC,YACU,UAAwB;QAAxB,eAAU,GAAV,UAAU,CAAc;KAC7B;;;;;IAEL,SAAS,CAAC,IAAW;QACnB,IAAI,IAAI,IAAI,IAAI,CAAC,MAAM,GAAG,CAAC,EAAE;YAC3B,OAAO,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,+BAA+B,CAAC,CAAC;SACnE;aAAM;YACL,OAAO,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,kCAAkC,CAAC,CAAC;SACtE;KACF;CACF;;;;;;AC9UD,MAAaC,qBAAmB;IAG5B;QAFA,eAAU,GAAiB,IAAI,CAAC;QAG5B,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;QACpB,IAAI,CAAC,KAAK,GAAG,MAAM,CAAC;QACpB,IAAI,CAAC,cAAc,GAAG,IAAI,KAAK,EAAE,CAAC;KACrC;CAKJ;;;;;;ACfD,MAEaC,eAAa;IACtB;QACI,IAAI,CAAC,EAAE,GAAG,aAAa,CAAC,iBAAiB,EAAE,CAAC;QAC5C,IAAI,CAAC,IAAI,GAAG,QAAQ,CAAC;KACxB;CAMJ;;;;;;ACZD,MAoBa,sBAAsB;;;;;;;;;;IA4FjC,YACU,eAAuC,EACvC,IAAuB,EACvB,OAAwB,EACZ,GAAsB,EACf,QAAgB,EACR,SAAc,EAC7B,UAAwB;QANpC,oBAAe,GAAf,eAAe,CAAwB;QACvC,SAAI,GAAJ,IAAI,CAAmB;QACvB,YAAO,GAAP,OAAO,CAAiB;QACZ,QAAG,GAAH,GAAG,CAAmB;QACf,aAAQ,GAAR,QAAQ,CAAQ;QACR,cAAS,GAAT,SAAS,CAAK;QAC7B,eAAU,GAAV,UAAU,CAAc;QAjG9C,QAAG,GAAG,8BAA8B,CAAC;QAE3B,eAAU,GAAG,IAAI,YAAY,EAAO,CAAC;QACrC,gBAAW,GAAG,IAAI,YAAY,EAAO,CAAC;QAiChD,WAAM,GAAG,IAAID,qBAAmB,EAAE,CAAC;QAEnC,aAAQ,GAAG;YACT,EAAE,KAAK,EAAE,QAAQ,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,gCAAgC,CAAC,EAAE;SAAC,CAAC;QAE1F,YAAO,GAAG;YACR;gBACE,KAAK,EAAE,MAAM,EAAE,KAAK,EAAE,EAAE,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,8BAA8B,CAAC;gBAC1F,SAAS,EAAE;oBACT,IAAI,EAAE,MAAM;oBACZ,OAAO,EAAE,EAAE,UAAU,EAAE,OAAO,EAAE,SAAS,EAAE,MAAM,EAAE,IAAI,EAAE,IAAI,CAAC,QAAQ,EAAE;iBACzE;gBACD,MAAM,EAAE;oBACN,IAAI,EAAE,WAAW,CAAC,SAAS;oBAC3B,OAAO,EAAE,EAAE,UAAU,EAAE,OAAO,EAAE,SAAS,EAAE,MAAM,EAAE,IAAI,EAAE,IAAI,CAAC,QAAQ,EAAE,OAAO,EAAE,OAAO,EAAE,WAAW,EAAE,MAAM,EAAE,WAAW,EAAE,KAAK,EAAE;iBACpI;gBACD,UAAU,EAAE;oBACV,EAAE,IAAI,EAAE,UAAU,EAAE,QAAQ,EAAE,IAAI,EAAE;iBACrC;aACF;YACD;gBACE,KAAK,EAAE,WAAW,EAAE,KAAK,EAAE,GAAG,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,mCAAmC,CAAC,EAAE,QAAQ,EAAE,IAAI;gBACrH,MAAM,EAAE;oBACN,IAAI,EAAE,aAAa;oBACnB,OAAO,EAAE;wBACP,SAAS,EAAE,sCAAsC;wBACjD,QAAQ,EAAE,KAAK;wBACf,WAAW;;;;wBAAE,CAAC,CAAC;4BACb,CAAC,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC,CAAC,QAAQ,CAAC,KAAK,GAAG,CAAC,CAAC,QAAQ,CAAC,KAAK,GAAG,EAAE,CAAC,CAAC;4BACjE,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC;yBACtB,CAAA;wBACD,KAAK;;;;wBAAE,CAAC,CAAC;4BACP,OAAO,CAAC,GAAG,CAAC,OAAO,EAAE,CAAC,CAAC,CAAC;yBACzB,CAAA;qBACF;iBACF;aACF;YACD;gBACE,KAAK,EAAE,OAAO,EAAE,KAAK,EAAE,EAAE,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,+BAA+B,CAAC;gBAC5F,MAAM,EAAE,EAAE,IAAI,EAAE,WAAW,CAAC,OAAO,EAAE,OAAO,EAAE,EAAE,EAAE;aACnD,EAAE;gBACD,KAAK,EAAE,aAAa,EAAE,KAAK,EAAE,GAAG,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,qCAAqC,CAAC,EAAE,QAAQ,EAAE,IAAI;gBACzH,MAAM,EAAE,EAAE,IAAI,EAAE,WAAW,CAAC,OAAO,EAAE,OAAO,EAAE,EAAE,EAAE;aACnD;SACF,CAAC;QAEF,gBAAW,GAAG;YACZ,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,uCAAuC,CAAC;YACzE,KAAK,EAAE,GAAG;YACV,MAAM,EAAE,GAAG;YACX,WAAW,EAAE,IAAI;SAClB,CAAC;QAYA,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,IAAI,IAAI,YAAY,CAAC,QAAQ,EAAE,SAAS,CAAC,CAAC;KAC3E;;;;;IA5FF,IACI,KAAK,CAAC,IAAS;QACjB,IAAI,CAAC,MAAM,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC;QACzC,IAAI,IAAI,EAAE;YACR,IAAI,CAAC,MAAM,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC;YACjC,IAAI,CAAC,MAAM,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC;YAC/B,IAAI,CAAC,MAAM,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC;YACjC,IAAI,IAAI,CAAC,cAAc,IAAI,IAAI,CAAC,cAAc,CAAC,MAAM,GAAG,CAAC,EAAE;gBACzD,KAAK,MAAM,CAAC,IAAI,IAAI,CAAC,cAAc,EAAE;;0BAC7B,aAAa,GAAG,IAAIC,eAAa,EAAE;oBACzC,aAAa,CAAC,IAAI,GAAG,CAAC,CAAC,IAAI,CAAC;oBAC5B,aAAa,CAAC,KAAK,GAAG,CAAC,CAAC,KAAK,CAAC;oBAC9B,aAAa,CAAC,WAAW,GAAG,CAAC,CAAC,WAAW,CAAC;oBAC1C,IAAI,CAAC,CAAC,SAAS,EAAE;wBACf,IAAI,QAAQ,CAAC,CAAC,SAAS,CAAC,KAAK,QAAQ,EAAE;4BACrC,aAAa,CAAC,SAAS,GAAG,CAAC,CAAC,SAAS,CAAC;yBACvC;6BAAM;4BACL,aAAa,CAAC,SAAS,GAAG,CAAC,CAAC,SAAS,CAAC,MAAM,CAAC;yBAC9C;qBACF;oBAGD,IAAI,CAAC,MAAM,CAAC,cAAc,GAAG,IAAI,CAAC,MAAM,CAAC,cAAc,CAAC,MAAM,CAAC,CAAC,aAAa,CAAC,CAAC,CAAC;iBACjF;aACF;SACF;KACF;;;;IAoED,QAAQ;KACP;;;;IAED,GAAG;;cACK,aAAa,GAAG,IAAIA,eAAa,EAAE;QACzC,IAAI,CAAC,MAAM,CAAC,cAAc,GAAG,IAAI,CAAC,MAAM,CAAC,cAAc,CAAC,MAAM,CAAC,CAAC,aAAa,CAAC,CAAC,CAAC;KACjF;;;;IAED,MAAM;;cACE,WAAW,GAAG,IAAI,CAAC,IAAI,CAAC,WAAW;QACzC,IAAI,CAAC,WAAW,EAAE;YAChB,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,qCAAqC,CAAC,CAAC,CAAC;YACpF,OAAO;SACR;QACD,IAAI,CAAC,MAAM,CAAC,cAAc,GAAG,IAAI,CAAC,MAAM,CAAC,cAAc,CAAC,MAAM;;;;QAAC,CAAC,IAAI,CAAC,CAAC,EAAE,KAAK,WAAW,CAAC,EAAE,EAAC,CAAC;KAC9F;;;;IAED,OAAO;QACL,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,IAAI,IAAI,CAAC,MAAM,CAAC,MAAM,EAAE;YAC5C,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,qCAAqC,CAAC,CAAC,CAAC;YACpF,OAAO;SACR;QACD,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC;QACxB,IAAI,IAAI,CAAC,SAAS,EAAE,EAAE;;kBACd,MAAM,GAAG,EAAE,KAAK,EAAE,IAAI,CAAC,MAAM,EAAE,UAAU,EAAE,IAAI,EAAE;YACvD,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;SAC/B;KACF;;;;IAED,WAAW;QACT,IAAI,CAAC,UAAU,CAAC,IAAI,EAAE,CAAC;KACxB;;;;;IAEO,SAAS;QACf,OAAO,IAAI,CAAC;KACb;;;;;IAGD,YAAY,CAAC,CAAM;;YACb,OAAO,GAAG,IAAI,KAAK,EAAa;;;;;QAKpC,IAAI,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE;YAC3C,KAAK,MAAM,MAAM,IAAI,IAAI,CAAC,eAAe,CAAC,OAAO,EAAE;gBACjD,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,QAAQ,EAAE,MAAM,CAAC,CAAC;aACvC;YACD,IAAI,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,WAAW,IAAI,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC,MAAM,GAAG,CAAC,EAAE;;sBACnG,UAAU,GAAG,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC;gBACjE,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,UAAU,CAAC,IAAI,EAAE,QAAQ,EACnD,UAAU,CAAC,IAAI,EAAE,YAAY,CAAC,UAAU,CAAC,CAAC;aAC7C;SACF;QACD,OAAO,GAAG,IAAI,CAAC,eAAe,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC;QACnD,IAAI,IAAI,CAAC,eAAe,CAAC,kBAAkB,CAAC,MAAM,GAAG,CAAC,EAAE;YACtD,KAAK,MAAM,QAAQ,IAAI,IAAI,CAAC,eAAe,CAAC,kBAAkB,EAAE;gBAC9D,IAAI,CAAC,OAAO,CAAC,IAAI;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,GAAG,KAAK,QAAQ,CAAC,GAAG,EAAC,EAAE;oBAC9C,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;iBACxB;aACF;SACF;QACD,IAAI,IAAI,CAAC,eAAe,CAAC,wBAAwB,CAAC,MAAM,GAAG,CAAC,EAAE;YAC5D,KAAK,MAAM,QAAQ,IAAI,IAAI,CAAC,eAAe,CAAC,wBAAwB,EAAE;gBACpE,IAAI,CAAC,OAAO,CAAC,IAAI;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,GAAG,KAAK,QAAQ,CAAC,GAAG,EAAC,EAAE;oBAC9C,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;iBACxB;aACF;SACF;QACD,IAAI,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE;YACtB,KAAK,MAAM,CAAC,IAAI,OAAO,EAAE;gBACvB,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;aACzB;SACF;QAED,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;QAC9C,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,YAAY,CAAC,WAAW,CAAC,CAAC;QACnD,IAAI,CAAC,IAAI,CAAC,eAAe,EAAE,CAAC,IAAI;;;;QAAC,CAAC,IAAY;YAC5C,CAAC,CAAC,WAAW,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;YAC7B,CAAC,CAAC,QAAQ,CAAC,EAAE,CAAC,aAAa,EAAE,CAAC;;YAE9B,IAAG,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE;gBACrB,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,eAAe,GAAG,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,eAAe,CAAC,MAAM;;;;gBAAC,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,GAAG,KAAK,CAAC,CAAC,GAAG,EAAC,EAAC,CAAC;aAC9H;SACF,EAAC,CAAC;KACJ;;;YArMF,SAAS,SAAC;gBACT,QAAQ,EAAE,oBAAoB;gBAC9B,+wFAA8C;gBAE9C,SAAS,EAAE;oBACR,YAAY;iBACd;;aACF;;;;YAdQ,sBAAsB;YACtB,iBAAiB;YAEjB,eAAe;YARsE,iBAAiB,uBAoH1G,QAAQ;yCACR,MAAM,SAAC,SAAS;4CAChB,MAAM,SAAC,iBAAiB;YA7GD,YAAY,uBA8GnC,QAAQ;;;kBAlGV,WAAW,SAAC,OAAO;yBAGnB,MAAM;0BACN,MAAM;0BAEN,SAAS,SAAC,kBAAkB;mBAC5B,SAAS,SAAC,MAAM;oBAEhB,KAAK;;MAsLK,sBAAsB;;;;IACjC,YACU,UAAwB;QAAxB,eAAU,GAAV,UAAU,CAAc;KAC7B;;;;;IAEL,SAAS,CAAC,IAAS;QACjB,IAAI,IAAI,IAAI,IAAI,CAAC,MAAM,EAAE;YACvB,OAAO,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,6BAA6B,CAAC,CAAC;SACjE;aAAM;YACL,OAAO,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,gCAAgC,CAAC,CAAC;SACpE;KACF;CACF;;;;;;AC9ND,MAAaC,gBAAc;;;;IACzB,YAAY;QACV,IAAI,CAAC,cAAc,GAAG,KAAK,CAAC;QAC5B,IAAI,CAAC,SAAS,GAAG,CAAC,CAAC;QACnB,IAAI,CAAC,YAAY,GAAG,CAAC,CAAC;QACtB,IAAI,CAAC,kBAAkB,GAAG,iGAAiG,CAAC;QAC5H,IAAI,CAAC,kBAAkB,GAAG,iLAAiL,CAAC;QAC5M,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC;QACzB,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;QAC5B,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;KAC7B;CAiBF;;;;;;AC7BD,MAmBa,uBAAuB;;;;;;;;;;IA2ClC,YACU,eAAuC,EACvC,IAAuB,EACvB,OAAwB,EACZ,GAAsB,EACf,QAAgB,EACR,SAAc,EAC7B,UAAwB;QANpC,oBAAe,GAAf,eAAe,CAAwB;QACvC,SAAI,GAAJ,IAAI,CAAmB;QACvB,YAAO,GAAP,OAAO,CAAiB;QACZ,QAAG,GAAH,GAAG,CAAmB;QACf,aAAQ,GAAR,QAAQ,CAAQ;QACR,cAAS,GAAT,SAAS,CAAK;QAC7B,eAAU,GAAV,UAAU,CAAc;QAhD9C,eAAU,GAAG,sCAAsC,CAAC;QAC1C,eAAU,GAAG,IAAI,YAAY,EAAO,CAAC;QACrC,gBAAW,GAAG,IAAI,YAAY,EAAO,CAAC;QAyBhD,mBAAc,GAAmB,IAAIA,gBAAc,EAAE,CAAC;QAGtD,cAAS,GAAG,IAAI,CAAC,eAAe,CAAC,eAAe,CAAC,GAAG;;;;QAAC,CAAC,KAAK,EAAE,KAAK,EAAE,CAAC,CAAC,IAAI,EAAE,IAAI,EAAE,CAAC,CAAC,IAAI,EAAE,CAAC,EAAC,CAAC;QAE7F,gBAAW,GAAG;YACZ,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,qCAAqC,CAAC;YACvE,KAAK,EAAE,GAAG;YACV,MAAM,EAAE,GAAG;YACX,WAAW,EAAE,IAAI;SAClB,CAAC;QAEF,mBAAc,GAAG,KAAK,CAAC;QAoFvB,WAAM;;;;QAAG,CAAC,GAAoB;YAC5B,OAAO,MAAM,CAAC,GAAG,CAAC,CAAC;SACpB,EAAA;QA5EG,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,IAAI,IAAI,YAAY,CAAC,QAAQ,EAAE,SAAS,CAAC,CAAC;KAC5E;;;;;IA3CH,IACI,KAAK,CAAC,IAAS;QACjB,IAAI,CAAC,IAAI,EAAE;YACT,IAAI,CAAC,cAAc,CAAC,cAAc,GAAG,IAAI,CAAC;YAC1C,IAAI,CAAC,cAAc,CAAC,SAAS,GAAG,CAAC,CAAC;YAClC,IAAI,CAAC,cAAc,CAAC,YAAY,GAAG,CAAC,CAAC;YACrC,IAAI,CAAC,cAAc,CAAC,QAAQ,GAAG,kBAAkB,CAAC;YAClD,IAAI,CAAC,cAAc,CAAC,kBAAkB,GAAG,gBAAgB,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,yCAAyC,CAAC,+EAA+E,CAAC;YAC7M,IAAI,CAAC,cAAc,CAAC,kBAAkB,GAAG,gBAAgB,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,wCAAwC,CAAC,2EAA2E,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,+BAA+B,CAAC,qFAAqF,CAAC;SACxV;aAAM;YACL,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;YAC3B,IAAI,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,EAAE;gBACpD,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;gBAC3B,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,kBAAkB,EAAE;oBAC3C,IAAI,CAAC,cAAc,CAAC,kBAAkB,GAAG,IAAIV,oBAAkB,EAAE,CAAC;iBACnE;aACF;SACF;KACF;;;;IA0BD,QAAQ;KACP;;;;IAED,OAAO;QACL,IAAI,IAAI,CAAC,WAAW,EAAE;YACpB,IAAI,CAAC,WAAW,CAAC,WAAW,EAAE,CAAC;SAChC;QACD,IAAI,IAAI,CAAC,cAAc,EAAE;YACvB,IAAI,CAAC,cAAc,CAAC,kBAAkB,GAAG,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC;YAC7E,IAAI,IAAI,CAAC,cAAc,CAAC,kBAAkB,CAAC,mBAAmB,IAAI,IAAI,CAAC,cAAc,CAAC,kBAAkB,CAAC,mBAAmB,CAAC,MAAM,GAAG,CAAC,EAAE;gBACvI,IAAI,CAAC,cAAc,CAAC,kBAAkB,CAAC,mBAAmB,GAAG,IAAI,CAAC,cAAc,CAAC,kBAAkB,CAAC,mBAAmB,CAAC,MAAM;;;;gBAAC,QAAQ,IAAI,QAAQ,CAAC,IAAI,EAAC,CAAC;aAC3J;SACF;aAAM;YACL,IAAI,CAAC,cAAc,CAAC,kBAAkB,GAAG,IAAI,CAAC;SAC/C;QACD,IAAI,IAAI,CAAC,SAAS,EAAE,EAAE;;kBACd,MAAM,GAAG,EAAE,KAAK,EAAE,IAAI,CAAC,cAAc,EAAE,UAAU,EAAE,IAAI,EAAE;YAC/D,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;SAC/B;KACF;;;;IAED,WAAW;QACT,IAAI,CAAC,UAAU,CAAC,IAAI,EAAE,CAAC;KACxB;;;;;IAEO,SAAS;QACf,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,QAAQ,EAAE;YACjC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,0CAA0C,CAAC,CAAC,CAAC;YACzF,OAAO,KAAK,CAAC;SACd;;;;;;;;;;;;QAYD,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,kBAAkB,EAAE;YAC3C,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,2CAA2C,CAAC,CAAC,CAAC;YAC1F,OAAO,KAAK,CAAC;SACd;QACD,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,kBAAkB,EAAE;YAC3C,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,2CAA2C,CAAC,CAAC,CAAC;YAC1F,OAAO,KAAK,CAAC;SACd;QACD,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,SAAS,IAAI,IAAI,CAAC,cAAc,CAAC,SAAS,KAAG,CAAC,EAAG;YACxE,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,+CAA+C,CAAC,CAAC,CAAC;YAC9F,OAAO,KAAK,CAAC;SACd;QACD,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,YAAY,IAAI,IAAI,CAAC,cAAc,CAAC,YAAY,KAAG,CAAC,EAAG;YAC9E,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,8CAA8C,CAAC,CAAC,CAAC;YAC7F,OAAO,KAAK,CAAC;SACd;QACD,OAAO,IAAI,CAAC;KACb;;;;;IAED,cAAc,CAAC,QAAgB;QAC7B,IAAI,IAAI,CAAC,aAAa,CAAC,QAAQ,CAAC,EAAE;YAChC,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;YAC3B,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,kBAAkB,EAAE;gBAC3C,IAAI,CAAC,cAAc,CAAC,kBAAkB,GAAG,IAAIA,oBAAkB,EAAE,CAAC;aACnE;SACF;aAAM;YACL,IAAI,CAAC,cAAc,GAAG,KAAK,CAAC;YAC5B,IAAI,CAAC,cAAc,CAAC,kBAAkB,GAAG,IAAI,CAAC;SAC/C;KACF;;;;;IAMD,SAAS,CAAC,IAAS;QACjB,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;KAC1B;;;;;IAED,WAAW,CAAC,IAAS;QACnB,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC;KAC5B;;;;;IAED,aAAa,CAAC,IAAY;;cAClB,OAAO,GAAG,IAAI,CAAC,QAAQ,EAAE;QAC/B,IAAI,IAAI,CAAC,cAAc,CAAC,kBAAkB,IAAI,IAAI,CAAC,cAAc,CAAC,kBAAkB,CAAC,MAAM,GAAG,CAAC,EAAE;YAC/F,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,cAAc,CAAC,kBAAkB,CAAC,CAAC;SACrE;aAAM;YACL,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,EAAE,CAAC,CAAC;SACjC;QACD,IAAI,CAAC,IAAI,CAAC,eAAe,EAAE,CAAC,IAAI;;;;QAAC,CAAC,cAAsB;YACtD,IAAI,CAAC,cAAc,CAAC,kBAAkB,GAAG,cAAc,CAAC;;YAExD,IAAG,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE;gBACrB,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,eAAe,GAAG,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,eAAe,CAAC,MAAM;;;;gBAAC,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,GAAG,KAAK,CAAC,CAAC,GAAG,EAAC,EAAC,CAAC;aAC9H;SACF,EAAC,CAAC;KACJ;;;;;IAED,eAAe,CAAC,IAAY;;cACpB,OAAO,GAAG,IAAI,CAAC,QAAQ,EAAE;QAC/B,IAAI,IAAI,CAAC,cAAc,CAAC,kBAAkB,IAAI,IAAI,CAAC,cAAc,CAAC,kBAAkB,CAAC,MAAM,GAAG,CAAC,EAAE;YAC/F,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,cAAc,CAAC,kBAAkB,CAAC,CAAC;SACrE;aAAM;YACL,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,EAAE,CAAC,CAAC;SACjC;QACD,IAAI,CAAC,IAAI,CAAC,eAAe,EAAE,CAAC,IAAI;;;;QAAC,CAAC,cAAsB;YACtD,IAAI,CAAC,cAAc,CAAC,kBAAkB,GAAG,cAAc,CAAC;;YAExD,IAAG,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE;gBACrB,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,eAAe,GAAG,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,eAAe,CAAC,MAAM;;;;gBAAC,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,GAAG,KAAK,CAAC,CAAC,GAAG,EAAC,EAAC,CAAC;aAC9H;SACF,EAAC,CAAC;KACJ;;;;IAED,QAAQ;;QAEN,IAAI,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE;YAC3C,KAAK,MAAM,MAAM,IAAI,IAAI,CAAC,eAAe,CAAC,OAAO,EAAE;;gBAEjD,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,QAAQ,EAAE,MAAM,CAAC,CAAC;aACvC;YACD,IAAI,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,WAAW,IAAI,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC,MAAM,GAAG,CAAC,EAAE;;sBACnG,UAAU,GAAG,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC;gBACjE,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,UAAU,CAAC,IAAI,EAAE,QAAQ,EACnD,UAAU,CAAC,IAAI,EAAE,YAAY,CAAC,UAAU,CAAC,CAAC;aAC7C;SACF;;cACK,OAAO,GAAG,IAAI,KAAK,EAAE;QAC3B,IAAI,IAAI,CAAC,eAAe,CAAC,WAAW,CAAC,MAAM,GAAG,CAAC,EAAE;YAC/C,KAAK,MAAM,QAAQ,IAAI,IAAI,CAAC,eAAe,CAAC,WAAW,EAAE;gBACvD,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;;aAExB;SACF;QACD,IAAI,IAAI,CAAC,eAAe,CAAC,sBAAsB,CAAC,MAAM,GAAG,CAAC,EAAE;YAC1D,KAAK,MAAM,QAAQ,IAAI,IAAI,CAAC,eAAe,CAAC,sBAAsB,EAAE;gBAClE,IAAI,CAAC,OAAO,CAAC,IAAI;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,GAAG,KAAK,QAAQ,CAAC,GAAG,EAAC,EAAE;oBAC9C,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;iBACxB;;aAEF;SACF;QACD,IAAI,IAAI,CAAC,eAAe,CAAC,kBAAkB,CAAC,MAAM,GAAG,CAAC,EAAE;YACtD,KAAK,MAAM,QAAQ,IAAI,IAAI,CAAC,eAAe,CAAC,kBAAkB,EAAE;gBAC9D,IAAI,CAAC,OAAO,CAAC,IAAI;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,GAAG,KAAK,QAAQ,CAAC,GAAG,EAAC,EAAE;oBAC9C,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;iBACxB;;aAEF;SACF;QACD,IAAI,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE;YACtB,KAAK,MAAM,CAAC,IAAI,OAAO,EAAE;gBACvB,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;aACzB;SACF;QACD,OAAO,OAAO,CAAC;KAChB;;;;;;IAEO,aAAa,CAAC,QAAgB;QACpC,IAAI,QAAQ,EAAE;;kBACN,YAAY,GAAG,QAAQ,CAAC,KAAK,CAAC,GAAG,CAAC;;gBACpC,cAAc,GAAG,YAAY,CAAC,IAAI;;;;YAAC,GAAG,IAAI,IAAI,CAAC,eAAe,CAAC,eAAe,CAAC,IAAI;;;;YAAC,OAAO,IAAI,OAAO,CAAC,IAAI,IAAI,GAAG,IAAI,OAAO,CAAC,WAAW,IAAI,KAAK,EAAC,EAAC;YACxJ,IAAI,cAAc,EAAE;gBAClB,OAAO,IAAI,CAAC;aACb;iBAAM;gBACL,OAAO,KAAK,CAAC;aACd;SACF;aAAM;YACL,OAAO,KAAK,CAAA;SACb;KACF;;;YAzOF,SAAS,SAAC;gBACT,QAAQ,EAAE,sBAAsB;gBAChC,woRAAgD;gBAEhD,SAAS,EAAE;oBACR,YAAY;iBACd;;aACF;;;;YAfQ,sBAAsB;YACvB,iBAAiB;YAChB,eAAe;YALsE,iBAAiB,uBAkE1G,QAAQ;yCACR,MAAM,SAAC,SAAS;4CAChB,MAAM,SAAC,iBAAiB;YA3DD,YAAY,uBA4DnC,QAAQ;;;yBA/CV,MAAM;0BACN,MAAM;0BAEN,SAAS,SAAC,kBAAkB;0BAC5B,SAAS,SAAC,2BAA2B;oBAErC,KAAK;;MA4NK,uBAAuB;;;;IAClC,YACU,UAAwB;QAAxB,eAAU,GAAV,UAAU,CAAc;KAC7B;;;;;IAEL,SAAS,CAAC,IAAS;QACjB,IAAI,CAAC,IAAI,EAAE;YACT,OAAO,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,8BAA8B,CAAC,CAAC;SAClE;aAAM,IAAI,IAAI,CAAC,cAAc,EAAE;YAC9B,OAAO,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,8BAA8B,CAAC,CAAC;SAClE;aAAM;YACL,OAAO,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,iCAAiC,CAAC,CAAC;SACrE;KACF;CACF;;;;;;ACtQD,MAAaW,gBAAc;;;;IACvB,YAAY,SAAiB;QACzB,IAAI,CAAC,SAAS,GAAG,SAAS,CAAC;KAC9B;CAIJ;;;;;;ACPD,MAkBa,uBAAuB;;;;;;;;;;;;IAkClC,YACU,QAAkB,EAClB,OAAwB,EACxB,eAAuC,EACvC,IAAuB,EACvB,IAAiB,EACL,GAAsB,EACf,QAAgB,EACR,SAAc,EAC7B,UAAwB;QARpC,aAAQ,GAAR,QAAQ,CAAU;QAClB,YAAO,GAAP,OAAO,CAAiB;QACxB,oBAAe,GAAf,eAAe,CAAwB;QACvC,SAAI,GAAJ,IAAI,CAAmB;QACvB,SAAI,GAAJ,IAAI,CAAa;QACL,QAAG,GAAH,GAAG,CAAmB;QACf,aAAQ,GAAR,QAAQ,CAAQ;QACR,cAAS,GAAT,SAAS,CAAK;QAC7B,eAAU,GAAV,UAAU,CAAc;QAzCrC,cAAS,GAAG,sCAAsC,CAAC;QAElD,eAAU,GAAG,IAAI,YAAY,EAAO,CAAC;QACrC,gBAAW,GAAG,IAAI,YAAY,EAAO,CAAC;QAWhD,cAAS,GAAG;YACV,EAAE,IAAI,EAAE,QAAQ,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,gCAAgC,CAAC,EAAE;YACrF,EAAE,IAAI,EAAE,QAAQ,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,gCAAgC,CAAC,EAAE;YACrF,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,6BAA6B,CAAC,EAAE;SAC/E,CAAC;QAIF,0BAAqB,GAAmB,IAAIA,gBAAc,CAAC,yBAAyB,CAAC,CAAC;QACtF,4BAAuB,GAAmB,IAAIA,gBAAc,CAAC,2BAA2B,CAAC,CAAC;QAE1F,gBAAW,GAAG;YACZ,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,yCAAyC,CAAC;YAC3E,KAAK,EAAE,GAAG;YACV,MAAM,EAAE,GAAG;YACX,WAAW,EAAE,IAAI;SAClB,CAAC;QAaA,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,IAAI,IAAI,YAAY,CAAC,QAAQ,EAAE,SAAS,CAAC,CAAC;KAC3E;;;;;IAvCF,IACI,KAAK,CAAC,IAAsB;QAC9B,IAAI,IAAI,IAAI,IAAI,CAAC,MAAM,GAAG,CAAC,EAAE;YAC3B,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;YAClB,IAAI,CAAC,qBAAqB,GAAG,IAAI,CAAC,IAAI;;;;YAAC,CAAC,IAAI,CAAC,CAAC,SAAS,KAAK,yBAAyB,EAAC,IAAI,IAAIA,gBAAc,CAAC,yBAAyB,CAAC,CAAC;YACxI,IAAI,CAAC,uBAAuB,GAAG,IAAI,CAAC,IAAI;;;;YAAC,CAAC,IAAI,CAAC,CAAC,SAAS,KAAK,2BAA2B,EAAC,IAAI,IAAIA,gBAAc,CAAC,2BAA2B,CAAC,CAAC;SAC/I;KACF;;;;IAkCD,QAAQ;KACP;;;;;IAED,aAAa,CAAC,SAAiB;;YACzB,OAAO,GAAG,IAAI,KAAK,EAAa;;;;;QAKpC,IAAI,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE;YAC3C,KAAK,MAAM,MAAM,IAAI,IAAI,CAAC,eAAe,CAAC,OAAO,EAAE;gBACjD,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,QAAQ,EAAE,MAAM,CAAC,CAAC;aACvC;YACD,IAAI,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,WAAW,IAAI,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC,MAAM,GAAG,CAAC,EAAE;;sBACnG,UAAU,GAAG,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC;gBACjE,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,UAAU,CAAC,IAAI,EAAE,QAAQ,EACnD,UAAU,CAAC,IAAI,EAAE,YAAY,CAAC,UAAU,CAAC,CAAC;aAC7C;SACF;QACD,OAAO,GAAG,IAAI,CAAC,eAAe,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC;QACnD,IAAI,IAAI,CAAC,eAAe,CAAC,kBAAkB,CAAC,MAAM,GAAG,CAAC,EAAE;YACtD,KAAK,MAAM,QAAQ,IAAI,IAAI,CAAC,eAAe,CAAC,kBAAkB,EAAE;gBAC9D,IAAI,CAAC,OAAO,CAAC,IAAI;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,GAAG,KAAK,QAAQ,CAAC,GAAG,EAAC,EAAE;oBAC9C,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;iBACxB;aACF;SACF;QACD,IAAI,IAAI,CAAC,eAAe,CAAC,wBAAwB,CAAC,MAAM,GAAG,CAAC,EAAE;YAC5D,KAAK,MAAM,QAAQ,IAAI,IAAI,CAAC,eAAe,CAAC,wBAAwB,EAAE;gBACpE,IAAI,CAAC,OAAO,CAAC,IAAI;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,GAAG,KAAK,QAAQ,CAAC,GAAG,EAAC,EAAE;oBAC9C,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;iBACxB;aACF;SACF;QACD,IAAI,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE;YACtB,KAAK,MAAM,CAAC,IAAI,OAAO,EAAE;gBACvB,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;aACzB;SACF;;cACK,IAAI,GAAG,SAAS,KAAK,yBAAyB,GAAG,IAAI,CAAC,qBAAqB,CAAC,KAAK,GAAG,IAAI,CAAC,uBAAuB,CAAC,KAAK;QAC5H,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,CAAC;QAClC,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,YAAY,CAAC,WAAW,CAAC,CAAC;QACnD,IAAI,CAAC,IAAI,CAAC,eAAe,EAAE,CAAC,IAAI;;;;QAAC,CAAC,IAAY;YAC5C,IAAI,SAAS,KAAK,yBAAyB,EAAE;gBAC3C,IAAI,CAAC,qBAAqB,CAAC,KAAK,GAAG,IAAI,CAAC;aACzC;iBAAM;gBACL,IAAI,CAAC,uBAAuB,CAAC,KAAK,GAAG,IAAI,CAAC;aAC3C;;YAED,IAAG,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE;gBACrB,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,eAAe,GAAG,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,eAAe,CAAC,MAAM;;;;gBAAC,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,GAAG,KAAK,CAAC,CAAC,GAAG,EAAC,EAAC,CAAC;aAC9H;SACF,EAAC,CAAC;KACJ;;;;;IAED,cAAc,CAAC,SAAiB;QAC9B,IAAI,SAAS,KAAK,yBAAyB,EAAE;YAC3C,IAAI,CAAC,qBAAqB,CAAC,KAAK,GAAG,IAAI,CAAC;SACzC;aAAM;YACL,IAAI,CAAC,uBAAuB,CAAC,KAAK,GAAG,IAAI,CAAC;SAC3C;KACF;;;;IAED,OAAO;;cACC,eAAe,GAAG,IAAI,KAAK,EAAE;QACnC,IAAI,IAAI,CAAC,qBAAqB,CAAC,KAAK,IAAI,IAAI,CAAC,qBAAqB,CAAC,SAAS,EAAE;YAC5E,eAAe,CAAC,IAAI,CAAC,IAAI,CAAC,qBAAqB,CAAC,CAAC;SAClD;QACD,IAAI,IAAI,CAAC,uBAAuB,CAAC,KAAK,IAAI,IAAI,CAAC,uBAAuB,CAAC,SAAS,EAAE;YAChF,eAAe,CAAC,IAAI,CAAC,IAAI,CAAC,uBAAuB,CAAC,CAAC;SACpD;;cACK,MAAM,GAAG,EAAE,KAAK,EAAE,eAAe,EAAE,UAAU,EAAE,IAAI,EAAE;QAC3D,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;KAC/B;;;;IAED,WAAW;QACT,IAAI,CAAC,UAAU,CAAC,IAAI,EAAE,CAAC;KACxB;;;;IAED,SAAS;KAER;;;YAzIF,SAAS,SAAC;gBACT,QAAQ,EAAE,qBAAqB;gBAC/B,kyJAA+C;gBAE/C,SAAS,EAAE;oBACR,YAAY;iBACd;;aACF;;;;YAjB4D,QAAQ;YAE5D,eAAe;YAGf,sBAAsB;YADR,iBAAiB;YAH/B,WAAW;YADX,iBAAiB,uBA0DrB,QAAQ;yCACR,MAAM,SAAC,SAAS;4CAChB,MAAM,SAAC,iBAAiB;YArDD,YAAY,uBAsDnC,QAAQ;;;yBAvCV,MAAM;0BACN,MAAM;oBAEN,KAAK;0BAeL,SAAS,SAAC,kBAAkB;;MA6GlB,uBAAuB;;;;IAClC,YACU,UAAwB;QAAxB,eAAU,GAAV,UAAU,CAAc;KAC7B;;;;;IAEL,SAAS,CAAC,IAAS;QACjB,IAAI,IAAI,IAAI,IAAI,CAAC,MAAM,GAAG,CAAC,EAAE;YAC3B,OAAO,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,8BAA8B,CAAC,CAAC;SAClE;QACD,OAAO,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,iCAAiC,CAAC,CAAC;KACrE;CACF;;;;;;AChKD,MAmBa,uBAAuB;;;;;;;;;;;IA2ClC,YACU,QAAkB,EAClB,OAAwB,EACxB,eAAuC,EACvC,IAAiB,EACL,GAAsB,EACf,QAAgB,EACR,SAAc,EAC7B,UAAwB;QAPpC,aAAQ,GAAR,QAAQ,CAAU;QAClB,YAAO,GAAP,OAAO,CAAiB;QACxB,oBAAe,GAAf,eAAe,CAAwB;QACvC,SAAI,GAAJ,IAAI,CAAa;QACL,QAAG,GAAH,GAAG,CAAmB;QACf,aAAQ,GAAR,QAAQ,CAAQ;QACR,cAAS,GAAT,SAAS,CAAK;QAC7B,eAAU,GAAV,UAAU,CAAc;QAjDpC,eAAU,GAAG,IAAI,YAAY,EAAO,CAAC;QACrC,gBAAW,GAAG,IAAI,YAAY,EAAO,CAAC;QAgBhD,8BAAyB,GAAc,IAAI,SAAS,CAAC;YACnD,WAAW,EAAE,IAAI,WAAW,CAAC,IAAI,CAAC;YAClC,SAAS,EAAE,IAAI,WAAW,CAAC,KAAK,CAAC;SAClC,CAAC,CAAC;QAEH,mBAAc,GAAG,IAAI,cAAc,EAAE,CAAC;QACtC,uBAAkB,GAAG;YACnB,EAAE,KAAK,EAAE,KAAK,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,8BAA8B,CAAC,EAAE;YACjF,EAAE,KAAK,EAAE,QAAQ,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,iCAAiC,CAAC,EAAE;YACvF,EAAE,KAAK,EAAE,OAAO,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,gCAAgC,CAAC,EAAE;SACtF,CAAC;QAEF,uBAAkB,GAAG;YACnB,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,sCAAsC,CAAC,EAAE,KAAK,EAAE,aAAa,EAAE;YACjG,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,0CAA0C,CAAC,EAAE,KAAK,EAAE,iBAAiB,EAAE;SAAC,CAAC;QAE7G,gBAAW,GAAG;YACZ,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,yCAAyC,CAAC;YAC3E,KAAK,EAAE,GAAG;YACV,MAAM,EAAE,GAAG;YACX,WAAW,EAAE,IAAI;SAClB,CAAC;QAaA,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,IAAI,IAAI,YAAY,CAAC,QAAQ,EAAE,SAAS,CAAC,CAAC;KAC3E;;;;;IAjDF,IACI,KAAK,CAAC,cAA8B;QACtC,IAAI,CAAC,cAAc,GAAG,cAAc,IAAI,IAAI,cAAc,EAAE,CAAC;QAC7D,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,YAAY,EAAE;YACrC,IAAI,CAAC,cAAc,CAAC,YAAY,GAAG,IAAI,YAAY,EAAE,CAAC;SACvD;QACD,IAAI,CAAC,yBAAyB,CAAC,QAAQ,CAAC;YACtC,WAAW,EAAE,IAAI,CAAC,cAAc,CAAC,YAAY,CAAC,WAAW;YACzD,SAAS,EAAE,IAAI,CAAC,cAAc,CAAC,YAAY,CAAC,SAAS;SACtD,CAAC,CAAC;KACJ;;;;IAyCD,QAAQ;KACP;;;;;IAED,WAAW,CAAC,KAAU;QACpB,IAAI,KAAK,KAAK,QAAQ,EAAE;YACtB,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,YAAY,EAAE;gBACrC,IAAI,CAAC,cAAc,CAAC,YAAY,GAAG,IAAI,YAAY,EAAE,CAAC;aACvD;YACD,IAAI,CAAC,yBAAyB,CAAC,QAAQ,CAAC;gBACtC,WAAW,EAAE,IAAI,CAAC,cAAc,CAAC,YAAY,CAAC,WAAW;gBACzD,SAAS,EAAE,IAAI,CAAC,cAAc,CAAC,YAAY,CAAC,SAAS;aACtD,CAAC,CAAC;SACJ;KACF;;;;IAED,OAAO;QACL,IAAI,CAAC,cAAc,CAAC,YAAY,CAAC,WAAW,GAAG,IAAI,CAAC,yBAAyB,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC,KAAK,CAAC;QACvG,IAAI,CAAC,cAAc,CAAC,YAAY,CAAC,SAAS,GAAG,IAAI,CAAC,yBAAyB,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC,KAAK,CAAC;QACnG,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;;cAC3B,MAAM,GAAG,EAAE,KAAK,EAAE,IAAI,CAAC,cAAc,EAAE,UAAU,EAAE,IAAI,EAAE;QAC/D,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;KAC/B;;;;IAED,WAAW;QACT,IAAI,CAAC,UAAU,CAAC,IAAI,EAAE,CAAC;KACxB;;;YAzFF,SAAS,SAAC;gBACT,QAAQ,EAAE,qBAAqB;gBAC/B,qnJAA+C;gBAE/C,SAAS,EAAE;oBACR,YAAY;iBACd;;aACF;;;;YAlB4D,QAAQ;YAG5D,eAAe;YAEf,sBAAsB;YAHtB,WAAW;YAFX,iBAAiB,uBAmErB,QAAQ;yCACR,MAAM,SAAC,SAAS;4CAChB,MAAM,SAAC,iBAAiB;YA7DD,YAAY,uBA8DnC,QAAQ;;;yBAjDV,MAAM;0BACN,MAAM;oBAEN,KAAK;0BAYL,SAAS,SAAC,kBAAkB;;MAmElB,uBAAuB;;;;IAClC,YACU,UAAwB;QAAxB,eAAU,GAAV,UAAU,CAAc;KAC7B;;;;;IAEL,SAAS,CAAC,IAAoB;QAC5B,QAAQ,IAAI,CAAC,cAAc;YACzB,KAAK,KAAK;gBACR,OAAO,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,8BAA8B,CAAC,CAAC;YACnE,KAAK,QAAQ;gBACX,OAAO,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,iCAAiC,CAAC,CAAC;YACtE,KAAK,OAAO;gBACV,OAAO,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,gCAAgC,CAAC,CAAC;YACrE;gBACE,OAAO,EAAE,CAAC;SACb;KACF;CACF;;;;;;ACxHD,MAAaC,cAAY;IACrB;QACI,IAAI,CAAC,QAAQ,GAAG,aAAa,CAAC;QAC9B,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;QACxB,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;KAC1B;CAIJ;;;;;;ACTD,MA6Ba,oBAAoB;;;;;;;;;;;;;;;IA0J/B,YACS,eAAuC,EACtC,OAA2B,EAC3B,QAAkC,EAClC,QAAkB,EAClB,YAA4B,EAC5B,OAAwB,EACxB,IAAuB,EACvB,IAAiB,EACL,GAAsB,EACf,QAAgB,EACR,SAAc,EAC7B,UAAwB;QAXrC,oBAAe,GAAf,eAAe,CAAwB;QACtC,YAAO,GAAP,OAAO,CAAoB;QAC3B,aAAQ,GAAR,QAAQ,CAA0B;QAClC,aAAQ,GAAR,QAAQ,CAAU;QAClB,iBAAY,GAAZ,YAAY,CAAgB;QAC5B,YAAO,GAAP,OAAO,CAAiB;QACxB,SAAI,GAAJ,IAAI,CAAmB;QACvB,SAAI,GAAJ,IAAI,CAAa;QACL,QAAG,GAAH,GAAG,CAAmB;QACf,aAAQ,GAAR,QAAQ,CAAQ;QACR,cAAS,GAAT,SAAS,CAAK;QAC7B,eAAU,GAAV,UAAU,CAAc;QApKpC,eAAU,GAAG,IAAI,YAAY,EAAO,CAAC;QACrC,gBAAW,GAAG,IAAI,YAAY,EAAO,CAAC;QASvC,iBAAY,GAAQ,EAAE,CAAC;QAmChC,aAAQ,GAAuC,gBAAgB,CAAC;QAIhE,YAAO,GAAG,IAAI,CAAC;QAEf,gBAAW,GAAoB,IAAI,eAAe,EAAE,CAAC;QACrD,cAAS,GAAG,KAAK,CAAC;;QAElB,SAAI,GAAG,gBAAgB,CAAC;QAExB,uBAAkB,GAAG;YACnB,EAAE,KAAK,EAAE,KAAK,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,2BAA2B,CAAC,EAAE;YAC9E,EAAE,KAAK,EAAE,QAAQ,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,8BAA8B,CAAC,EAAE;YACpF,EAAE,KAAK,EAAE,OAAO,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,6BAA6B,CAAC,EAAE;SACnF,CAAC;QAGF,uBAAkB,GAAG;YACnB,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,mCAAmC,CAAC,EAAE,KAAK,EAAE,aAAa,EAAE;YAC9F,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,uCAAuC,CAAC,EAAE,KAAK,EAAE,iBAAiB,EAAE;SACvG,CAAC;QAEF,gBAAW,GAAG;YACZ,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,sCAAsC,CAAC;YACxE,KAAK,EAAE,GAAG;YACV,MAAM,EAAE,GAAG;YACX,WAAW,EAAE,IAAI;SAClB,CAAC;QAEF,YAAO,GAAG;YACR;gBACE,KAAK,EAAE,OAAO,EAAE,KAAK,EAAE,EAAE,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,6BAA6B,CAAC;gBAC1F,MAAM,EAAE;oBACN,IAAI,EAAE,WAAW,CAAC,SAAS,EAAE,OAAO,EAAE,EACrC;iBACF;aACF,EAAE;gBACH,KAAK,EAAE,MAAM,EAAE,KAAK,EAAE,EAAE,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,4BAA4B,CAAC;gBACxF,SAAS,EAAE;oBACT,IAAI,EAAE,MAAM;oBACZ,OAAO,EAAE,EAAE,UAAU,EAAE,OAAO,EAAE,SAAS,EAAE,MAAM,EAAE,IAAI,EAAE,IAAI,CAAC,OAAO,CAAC,cAAc,EAAE;iBACvF;aACA,EAAE;gBACH,KAAK,EAAE,eAAe,EAAE,KAAK,EAAE,EAAE,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,qCAAqC,CAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,SAAS;;;;;;gBAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC;oBAC7I,QAAQ,CAAC,CAAC,IAAI;wBACZ,KAAK,8BAA8B;4BACjC,OAAO,CAAC,CAAC,aAAa,CAAC;wBACzB,KAAK,kCAAkC;4BACrC,OAAO,oBAAC,CAAC,IAAyB,IAAI,CAAC;wBACzC,KAAK,kCAAkC;4BACrC,OAAO,oBAAC,CAAC,IAAyB,aAAa,CAAC;wBAClD,KAAK,mCAAmC;4BACtC,OAAO,oBAAC,CAAC,IAA0B,IAAI,CAAC;wBAC1C,KAAK,uCAAuC;4BAC1C,OAAO,oBAAC,CAAC,IAA8B,oBAAoB,GAAG,GAAG,GAAG,oBAAC,CAAC,IAA8B,SAAS,CAAC;wBAChH,KAAK,gCAAgC;4BACnC,OAAO,oBAAC,CAAC,IAAuB,aAAa,GAAG,GAAG,GAAG,oBAAC,CAAC,IAAuB,cAAc,CAAC;wBAChG,KAAK,0CAA0C;4BAC7C,OAAO,oBAAC,CAAC,IAAiC,aAAa,CAAC;wBAC1D,KAAK,sCAAsC;4BACzC,OAAO,oBAAC,CAAC,IAA6B,gBAAgB,CAAC;wBACzD;4BACE,OAAO,EAAE,CAAC;qBACb;iBACF,CAAA;aACF;YACD;gBACE,KAAK,EAAE,aAAa,EAAE,KAAK,EAAE,GAAG,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,mCAAmC,CAAC,EAAE,QAAQ,EAAE,IAAI;gBACvH,SAAS;;;;;;gBAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC;oBACjB,QAAQ,CAAC,CAAC,IAAI;wBACZ,KAAK,8BAA8B;4BACjC,OAAO,IAAI,CAAC,2BAA2B,CAAC,CAAC,CAAC,CAAC;wBAC7C,KAAK,kCAAkC;4BACrC,OAAO,IAAI,CAAC,+BAA+B,CAAC,CAAC,CAAC,CAAC;wBACjD,KAAK,kCAAkC;4BACrC,OAAO,IAAI,CAAC,+BAA+B,CAAC,CAAC,CAAC,CAAC;wBACjD,KAAK,mCAAmC;4BACtC,OAAO,IAAI,CAAC,gCAAgC,CAAC,CAAC,CAAC,CAAC;wBAClD,KAAK,uCAAuC;4BAC1C,OAAO,IAAI,CAAC,oCAAoC,CAAC,CAAC,CAAC,CAAC;wBACtD,KAAK,gCAAgC;4BACnC,OAAO,IAAI,CAAC,6BAA6B,CAAC,CAAC,CAAC,CAAC;wBAC/C,KAAK,0CAA0C;4BAC7C,OAAO,oBAAC,CAAC,IAAiC,aAAa,CAAC;wBAC1D,KAAK,sCAAsC;4BACzC,OAAO,oBAAC,CAAC,IAA6B,gBAAgB,GAAG,IAAI,IAAI,oBAAC,CAAC,IAA6B,eAAe,GAAG,MAAM,GAAG,OAAO,CAAC,CAAC;wBACtI;4BACE,OAAO,EAAE,CAAC;qBACb;iBACF,CAAA;aACF;YACD;gBACE,KAAK,EAAE,WAAW,EAAE,KAAK,EAAE,EAAE,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,iCAAiC,CAAC,EAAE,QAAQ,EAAE,IAAI;gBAClH,MAAM,EAAE;oBACN,IAAI,EAAE,aAAa;oBACnB,OAAO,EAAE;wBACP,SAAS,EAAE,sCAAsC;wBACjD,QAAQ,EAAE,KAAK;wBACf,WAAW;;;;wBAAE,CAAC,CAAC;4BACb,CAAC,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC,CAAC,QAAQ,CAAC,KAAK,GAAG,CAAC,CAAC,QAAQ,CAAC,KAAK,GAAG,EAAE,CAAC,CAAC;4BACjE,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC;yBACtB,CAAA;qBACF;iBACF;aACA;SAAC,CAAC;QAgBH,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,IAAI,IAAI,YAAY,CAAC,QAAQ,EAAE,SAAS,CAAC,CAAC;QAC3E,IAAI,CAAC,mBAAmB,EAAE,CAAC;KAC5B;;;;;IA5JD,IAAa,KAAK,CAAC,WAA4B;QAC7C,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,CAAC,CAAC;QAC3D,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,cAAc,CAAC,YAAY,EAAE;YACjD,IAAI,CAAC,WAAW,CAAC,cAAc,CAAC,YAAY,GAAG,IAAIA,cAAY,EAAE,CAAC;SACnE;QACD,IAAI,CAAC,iBAAiB,GAAG,WAAW,CAAC,cAAc,CAAC,cAAc,CAAC;QACnE,IAAI,IAAI,CAAC,WAAW,CAAC,kBAAkB;eAClC,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,MAAM,GAAG,CAAC,EACjD;YACA,IAAI,IAAI,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,GAAG;;;;YAAC,CAAC,IAAI,CAAC,CAAC,KAAK,EAAC,CAAC,KAAK,CAAC,EAAE;;oBACxE,KAAK,GAAG,CAAC;gBACb,KAAK,MAAM,cAAc,IAAI,IAAI,CAAC,WAAW,CAAC,kBAAkB,EAAE;oBAChE,cAAc,CAAC,KAAK,GAAG,KAAK,CAAC;oBAC7B,KAAK,EAAE,CAAC;iBACT;aACF;YACD,IAAI,CAAC,WAAW,CAAC,kBAAkB,GAAG,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,IAAI;;;;;YAAC,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC,KAAK,EAAC,CAAC;SAC7G;QACD,IAAI,IAAI,CAAC,WAAW,CAAC,kBAAkB;eAClC,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,MAAM,GAAG,CAAC,EAAE;YACnD,IAAI,IAAI,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,GAAG;;;;YAAC,CAAC,IAAI,CAAC,CAAC,KAAK,EAAC,CAAC,KAAK,CAAC,EAAE;;oBACxE,KAAK,GAAG,CAAC;gBACb,KAAK,MAAM,cAAc,IAAI,IAAI,CAAC,WAAW,CAAC,kBAAkB,EAAE;oBAChE,cAAc,CAAC,KAAK,GAAG,KAAK,CAAC;oBAC7B,KAAK,EAAE,CAAC;iBACT;aACF;YACD,IAAI,CAAC,WAAW,CAAC,kBAAkB,GAAG,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,IAAI;;;;;YAAC,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC,KAAK,EAAC,CAAC;SAC7G;KACF;;;;IAiID,QAAQ;QACN,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC;KAC5C;;;;IAGD,OAAO;QACL,IAAI,CAAC,kBAAkB,CAAC,WAAW,EAAE,CAAC;QACtC,IAAI,IAAI,CAAC,kBAAkB,EAAE;YAC3B,IAAI,CAAC,kBAAkB,CAAC,WAAW,EAAE,CAAC;SACvC;;cACK,MAAM,GAAG;YACb,KAAK,EAAE,IAAI,CAAC,WAAW,EAAE,UAAU,EAAE,IAAI;SAC1C;QACD,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;KAC/B;;;;IAED,WAAW;QACT,IAAI,CAAC,UAAU,CAAC,IAAI,EAAE,CAAC;KACxB;;;;;IAED,oBAAoB,CAAC,IAAI;QACvB,IAAI,IAAI,CAAC,iBAAiB,KAAK,QAAQ,IAAI,IAAI,KAAK,QAAQ,IAAI,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,MAAM,GAAG,CAAC,EAAE;YAC9G,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,cAAc,CAAC,YAAY,EAAE;gBACjD,IAAI,CAAC,WAAW,CAAC,cAAc,CAAC,YAAY,GAAG,IAAIA,cAAY,EAAE,CAAC;aACnE;YACD,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,qCAAqC,CAAC;;;YAAE;gBACtF,IAAI,CAAC,kCAAkC,EAAE,CAAC;aAC3C,EAAC,CAAC;SACJ;aAAM,IAAI,IAAI,CAAC,iBAAiB,KAAK,QAAQ,IAAI,IAAI,KAAK,QAAQ,IAAI,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,MAAM,GAAG,CAAC,EAAE;YACrH,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,qCAAqC,CAAC;;;YAAE;gBACtF,IAAI,CAAC,kCAAkC,EAAE,CAAC;aAC3C,EAAC,CAAC;SACJ;QACD,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC;KAC/B;;;;;IAED,YAAY,CAAC,IAAa;QACxB,IAAI,IAAI,EAAE;YACR,IAAI,CAAC,cAAc,CAAC,gBAAgB,CAAC,CAAC;SACvC;KACF;;;;;;IAED,YAAY,CAAC,aAAqB,EAAE,IAAY;QAC9C,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;QACvB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;;cACX,WAAW,GAAG,IAAI,CAAC,QAAQ,CAAC,uBAAuB,CAAC,sBAAsB,CAAC;QACjF,IAAI,CAAC,OAAO,GAAG,WAAW,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;QACjD,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,aAAa,GAAG,aAAa,CAAC;;cAC9C,OAAO,GAAG,IAAI,CAAC,gBAAgB,CAAC,aAAa,CAAC;;cAC9C,WAAW,GAAG;YAClB,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,4CAA4C,CAAC;YAC9E,KAAK,EAAE,OAAO,CAAC,KAAK;YACpB,MAAM,EAAE,OAAO,CAAC,MAAM;YACtB,OAAO,EAAE,IAAI,CAAC,UAAU;YACxB,WAAW,EAAE,IAAI;SAClB;QACD,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,WAAW,CAAC,CAAC;QACpE,IAAI,CAAC,UAAU,CAAC,KAAK,EAAE,CAAC;QACxB,IAAI,IAAI,CAAC,UAAU,EAAE;YACnB,IAAI,CAAC,UAAU,CAAC,KAAK,EAAE,CAAC;SACzB;KACF;;;;IAED,MAAM;QACJ,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;QACpB,IAAI,IAAI,CAAC,OAAO,EAAE;;kBACV,EAAE,GAAG,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,aAAa,EAAE;YAChD,IAAI,EAAE,CAAC,cAAc,IAAI,EAAE,CAAC,cAAc,CAAC,MAAM,GAAG,CAAC,EAAE;gBACrD,KAAK,MAAM,CAAC,IAAI,EAAE,CAAC,cAAc,EAAE;oBACjC,IAAI,CAAC,gBAAgB,CAAC,CAAC,CAAC,CAAC;iBAC1B;aACF;YACD,IAAI,EAAE,CAAC,QAAQ,IAAI,EAAE,CAAC,QAAQ,KAAK,IAAI,IAAI,EAAE,CAAC,QAAQ,CAAC,WAAW,EAAE;gBAClE,IAAI,CAAC,oBAAoB,CAAC,EAAE,CAAC,QAAQ,CAAC,CAAC;aACxC;;YAED,IAAI,EAAE,CAAC,SAAS,IAAI,EAAE,CAAC,SAAS,CAAC,MAAM,GAAG,CAAC,EAAE;gBAC3C,IAAI,CAAC,oBAAoB,CAAC,EAAE,CAAC,SAAS,CAAC,CAAC;aACzC;YACD,IAAI,EAAE,CAAC,SAAS,IAAI,EAAE,CAAC,SAAS,CAAC,UAAU,IAAI,EAAE,CAAC,SAAS,CAAC,UAAU,EAAE;gBACtE,IAAI,CAAC,qBAAqB,CAAC,EAAE,CAAC,SAAS,CAAC,CAAC;aAC1C;YACD,IAAI,EAAE,CAAC,aAAa,IAAI,EAAE,CAAC,aAAa,CAAC,kBAAkB,IAAI,EAAE,CAAC,aAAa,CAAC,SAAS,EAAE;gBACzF,IAAI,CAAC,yBAAyB,CAAC,EAAE,CAAC,aAAa,CAAC,CAAC;aAClD;YACD,IAAI,EAAE,CAAC,MAAM,IAAI,EAAE,CAAC,MAAM,CAAC,WAAW,EAAE;gBACtC,IAAI,CAAC,kBAAkB,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC;aACpC;YACD,IAAI,EAAE,CAAC,0BAA0B,IAAI,EAAE,CAAC,0BAA0B,CAAC,MAAM,GAAG,CAAC,EAAE;gBAC7E,KAAK,MAAM,CAAC,IAAI,EAAE,CAAC,0BAA0B,EAAE;oBAC7C,IAAI,CAAC,4BAA4B,CAAC,CAAC,CAAC,CAAC;iBACtC;aACF;YACD,IAAI,EAAE,CAAC,uBAAuB,EAAE;gBAC9B,IAAI,CAAC,0BAA0B,CAAC,EAAE,CAAC,uBAAuB,CAAC,CAAC;aAC7D;SACF;QACD,IAAI,IAAI,CAAC,UAAU,IAAI,IAAI,CAAC,OAAO,EAAE;YACnC,IAAI,CAAC,UAAU,CAAC,KAAK,EAAE,CAAC;SACzB;;QAED,IAAI,CAAC,kBAAkB,CAAC,OAAO,EAAE,CAAC;QAClC,IAAI,CAAC,kBAAkB,CAAC,OAAO,EAAE,CAAC;KACnC;;;;;;IAEO,gBAAgB,CAAC,aAA8B;QACrD,IAAI,IAAI,CAAC,IAAI,KAAK,gBAAgB,EAAE;;kBAC5B,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,SAAS;;;;YAAC,CAAC,KAAK,CAAC,CAAC,EAAE,KAAK,aAAa,CAAC,EAAE,KAAK,oBAAC,CAAC,IAAqB,WAAW,IAAI,oBAAC,CAAC,IAAqB,WAAW,KAAK,aAAa,CAAC,WAAW,CAAC,CAAC,EAAC;YACrM,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,CAEX;iBAAM;gBACL,IAAI,IAAI,CAAC,SAAS,KAAK,MAAM,EAAE;oBAC7B,IAAI,CAAC,oBAAoB,EAAE,CAAC;iBAC7B;;oBACG,KAAK;gBACT,IAAI,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,MAAM,GAAG,CAAC,EAAE;oBAClD,KAAK,GAAG,IAAI,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,GAAG;;;;oBAAC,CAAC,IAAI,CAAC,CAAC,KAAK,EAAC,CAAC,GAAC,CAAC,CAAC;iBAC9E;qBAAM;oBACL,KAAK,GAAG,CAAC,CAAC;iBACX;gBACD,aAAa,CAAC,KAAK,GAAG,KAAK,CAAC;gBAC5B,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;aACzD;YACD,IAAI,CAAC,kBAAkB,CAAC,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,CAAC;SACvE;aAAM,IAAI,IAAI,CAAC,IAAI,KAAK,gBAAgB,EAAE;;kBACnC,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,SAAS;;;;YAAC,CAAC,KAAK,CAAC,CAAC,EAAE,KAAK,aAAa,CAAC,EAAE,KAAK,oBAAC,CAAC,IAAqB,WAAW,IAAI,oBAAC,CAAC,IAAqB,WAAW,KAAK,aAAa,CAAC,WAAW,CAAC,CAAC,EAAC;YACrM,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,CAEX;iBAAM;gBACL,IAAI,IAAI,CAAC,SAAS,KAAK,MAAM,EAAE;oBAC7B,IAAI,CAAC,oBAAoB,EAAE,CAAC;iBAC7B;;oBACG,KAAK;gBACT,IAAI,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,MAAM,GAAG,CAAC,EAAE;oBAClD,KAAK,GAAG,IAAI,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,GAAG;;;;oBAAC,CAAC,IAAI,CAAC,CAAC,KAAK,EAAC,CAAC,GAAC,CAAC,CAAC;iBAC9E;qBAAM;oBACL,KAAK,GAAG,CAAC,CAAC;iBACX;gBACD,aAAa,CAAC,KAAK,GAAG,KAAK,CAAC;gBAC5B,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;aACzD;YACD,IAAI,CAAC,kBAAkB,CAAC,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,CAAC;SACvE;KACF;;;;;;IAEO,oBAAoB,CAAC,QAA6B;;cAClD,CAAC,GAAG,QAAQ;QAClB,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,QAAQ,EAAE;YACrB,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,8CAA8C,CAAC,CAAC,CAAC;YAC7F,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;SACtB;aAAM,IAAI,CAAC,CAAC,CAAC,OAAO,EAAE;YACrB,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,+CAA+C,CAAC,CAAC,CAAC;YAC9F,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;SACtB;aAAM,IAAI,CAAC,CAAC,CAAC,QAAQ,EAAE;YACtB,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,sCAAsC,CAAC,CAAC,CAAC;YACrF,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;SACtB;aAAM;YACL,IAAI,IAAI,CAAC,IAAI,KAAK,gBAAgB,EAAE;;sBAC5B,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,SAAS;;;;gBAAC,CAAC,KAAK,CAAC,CAAC,EAAE,KAAK,QAAQ,CAAC,EAAE,KAAK,oBAAC,CAAC,IAAyB,WAAW,IAAI,oBAAC,CAAC,IAAyB,WAAW,KAAK,QAAQ,CAAC,WAAW,CAAC,CAAC,EAAC;gBACnM,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE;oBACV,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,CAAC,CAAC,GAAG,QAAQ,CAAC;iBACnD;qBAAM;oBACL,IAAI,IAAI,CAAC,SAAS,KAAK,MAAM,EAAE;wBAC7B,IAAI,CAAC,oBAAoB,EAAE,CAAC;qBAC7B;;wBACG,KAAK;oBACT,IAAI,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,MAAM,GAAG,CAAC,EAAE;wBAClD,KAAK,GAAG,IAAI,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,GAAG;;;;wBAAC,CAAC,IAAI,CAAC,CAAC,KAAK,EAAC,CAAC,GAAC,CAAC,CAAC;qBAC9E;yBAAM;wBACL,KAAK,GAAG,CAAC,CAAC;qBACX;oBACD,QAAQ,CAAC,KAAK,GAAG,KAAK,CAAC;oBACvB,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;iBACpD;gBACD,IAAI,CAAC,kBAAkB,CAAC,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,CAAC;aACvE;iBAAM,IAAI,IAAI,CAAC,IAAI,KAAK,gBAAgB,EAAE;;sBACnC,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,SAAS;;;;gBAAC,CAAC,KAAK,CAAC,CAAC,EAAE,KAAK,QAAQ,CAAC,EAAE,KAAK,oBAAC,CAAC,IAAyB,WAAW,IAAI,oBAAC,CAAC,IAAyB,WAAW,KAAK,QAAQ,CAAC,WAAW,CAAC,CAAC,EAAC;gBACnM,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE;oBACV,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,CAAC,CAAC,GAAG,QAAQ,CAAC;iBACnD;qBAAM;oBACL,IAAI,IAAI,CAAC,SAAS,KAAK,MAAM,EAAE;wBAC7B,IAAI,CAAC,oBAAoB,EAAE,CAAC;qBAC7B;;wBACG,KAAK;oBACT,IAAI,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,MAAM,GAAG,CAAC,EAAE;wBAClD,KAAK,GAAG,IAAI,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,GAAG;;;;wBAAC,CAAC,IAAI,CAAC,CAAC,KAAK,EAAC,CAAC,GAAC,CAAC,CAAC;qBAC9E;yBAAM;wBACL,KAAK,GAAG,CAAC,CAAC;qBACX;oBACD,QAAQ,CAAC,KAAK,GAAG,KAAK,CAAC;oBACvB,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;iBACpD;gBACD,IAAI,CAAC,kBAAkB,CAAC,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,CAAC;aACvE;SACF;KACF;;;;;;IAEO,oBAAoB,CAAC,SAAgC;QAC3D,KAAK,MAAM,QAAQ,IAAI,SAAS,EAAE;YAChC,IAAI,CAAC,QAAQ,CAAC,WAAW,EAAE;gBACzB,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,sCAAsC,CAAC,CAAC,CAAC;gBACrF,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;aACtB;iBAAM;gBACL,IAAI,CAAC,CAAC,QAAQ,CAAC,OAAO,IAAI,QAAQ,CAAC,OAAO,IAAI,IAAI,MAAM,QAAQ,CAAC,UAAU,IAAI,QAAQ,CAAC,YAAY,KAAK,GAAG,CAAC,EAAE;oBAC7G,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,qCAAqC,CAAC,CAAC,CAAC;oBACpF,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;iBACtB;qBAAM,IAAI,CAAC,CAAC,QAAQ,CAAC,KAAK,IAAI,QAAQ,CAAC,KAAK,IAAI,IAAI,MAAM,QAAQ,CAAC,UAAU,IAAI,QAAQ,CAAC,YAAY,KAAK,GAAG,CAAC,EAAE;oBAChH,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,+BAA+B,CAAC,CAAC,CAAC;oBAC9E,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;iBACtB;qBAAM;;oBAEL,IAAI,IAAI,CAAC,IAAI,KAAK,gBAAgB,EAAE;;8BAC5B,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,SAAS;;;;wBAAC,CAAC;4BACvD,IAAI,CAAC,CAAC,IAAI,KAAK,kCAAkC,EAAE;gCACjD,OAAO,KAAK,CAAC;6BACd;;kCACK,CAAC,sBAAG,CAAC,EAAuB;4BAClC,QAAQ,CAAC,CAAC,EAAE,KAAK,QAAQ,CAAC,EAAE,EAAE;yBAC/B,EAAC;wBACF,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE;4BACV,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,CAAC,CAAC,GAAG,QAAQ,CAAC;yBACnD;6BAAM;;gCACD,KAAK;4BACT,IAAI,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,MAAM,GAAG,CAAC,EAAE;gCAClD,KAAK,GAAG,IAAI,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,GAAG;;;;gCAAC,CAAC,IAAI,CAAC,CAAC,KAAK,EAAC,CAAC,GAAC,CAAC,CAAC;6BAC9E;iCAAM;gCACL,KAAK,GAAG,CAAC,CAAC;6BACX;4BACD,QAAQ,CAAC,KAAK,GAAG,KAAK,CAAC;4BACvB,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;yBACpD;wBACD,IAAI,CAAC,kBAAkB,CAAC,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,CAAC;qBACvE;yBAAM,IAAI,IAAI,CAAC,IAAI,KAAK,gBAAgB,EAAE;;8BACnC,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,SAAS;;;;wBAAC,CAAC;4BACvD,IAAI,CAAC,CAAC,IAAI,KAAK,kCAAkC,EAAE;gCACjD,OAAO,KAAK,CAAC;6BACd;;kCACK,CAAC,sBAAG,CAAC,EAAuB;4BAClC,QAAQ,CAAC,CAAC,EAAE,KAAK,QAAQ,CAAC,EAAE,EAAE;yBAC/B,EAAC;wBACF,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE;4BACV,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,CAAC,CAAC,GAAG,QAAQ,CAAC;yBACnD;6BAAM;;gCACD,KAAK;4BACT,IAAI,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,MAAM,GAAG,CAAC,EAAE;gCAClD,KAAK,GAAG,IAAI,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,GAAG;;;;gCAAC,CAAC,IAAI,CAAC,CAAC,KAAK,EAAC,CAAC,GAAC,CAAC,CAAC;6BAC9E;iCAAM;gCACL,KAAK,GAAG,CAAC,CAAC;6BACX;4BACD,QAAQ,CAAC,KAAK,GAAG,KAAK,CAAC;4BACvB,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;yBACpD;wBACD,IAAI,CAAC,kBAAkB,CAAC,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,CAAC;qBACvE;iBACF;aACF;SACF;KACF;;;;;;IAEO,qBAAqB,CAAC,SAA6B;;cACnD,GAAG,GAAG,IAAI,oBAAoB,EAAE;QACtC,GAAG,CAAC,EAAE,GAAG,SAAS,CAAC,EAAE,CAAC;QACtB,GAAG,CAAC,UAAU,GAAG,SAAS,CAAC,UAAU,CAAC;QACtC,GAAG,CAAC,UAAU,GAAG,SAAS,CAAC,UAAU,CAAC;QACtC,GAAG,CAAC,UAAU,GAAG,SAAS,CAAC,UAAU,CAAC;QACtC,GAAG,CAAC,IAAI,GAAG,SAAS,CAAC,IAAI,CAAC;QAC1B,GAAG,CAAC,gBAAgB,GAAG,SAAS,CAAC,gBAAgB,CAAC;QAClD,GAAG,CAAC,IAAI,GAAG,mCAAmC,CAAC;QAC/C,GAAG,CAAC,SAAS,GAAG,SAAS,CAAC,SAAS,CAAC;QACpC,IAAI,IAAI,CAAC,IAAI,KAAK,gBAAgB,EAAE;;kBAC5B,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,SAAS;;;;YAAC,CAAC,IAAI,CAAC,CAAC,EAAE,KAAK,GAAG,CAAC,EAAE,EAAC;YAC7E,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE;gBACV,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC;aAC9C;iBAAM;;oBACD,KAAK;gBACT,IAAI,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,MAAM,GAAG,CAAC,EAAE;oBAClD,KAAK,GAAG,IAAI,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,GAAG;;;;oBAAC,CAAC,IAAI,CAAC,CAAC,KAAK,EAAC,CAAC,GAAC,CAAC,CAAC;iBAC9E;qBAAM;oBACL,KAAK,GAAG,CAAC,CAAC;iBACX;gBACD,GAAG,CAAC,KAAK,GAAG,KAAK,CAAC;gBAClB,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;aAC/C;YACD,IAAI,CAAC,kBAAkB,CAAC,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,CAAC;SACvE;aAAM,IAAI,IAAI,CAAC,IAAI,KAAK,gBAAgB,EAAE;;kBACnC,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,SAAS;;;;YAAC,CAAC,IAAI,CAAC,CAAC,EAAE,KAAK,GAAG,CAAC,EAAE,EAAC;YAC7E,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE;gBACV,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC;aAC9C;iBAAM;;oBACD,KAAK;gBACT,IAAI,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,MAAM,GAAG,CAAC,EAAE;oBAClD,KAAK,GAAG,IAAI,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,GAAG;;;;oBAAC,CAAC,IAAI,CAAC,CAAC,KAAK,EAAC,CAAC,GAAC,CAAC,CAAC;iBAC9E;qBAAM;oBACL,KAAK,GAAG,CAAC,CAAC;iBACX;gBACD,GAAG,CAAC,KAAK,GAAG,KAAK,CAAC;gBAClB,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;aAC/C;YACD,IAAI,CAAC,kBAAkB,CAAC,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,CAAC;SACvE;KACF;;;;;;IAEO,yBAAyB,CAAC,aAAuC;QACvE,IAAI,aAAa,CAAC,oBAAoB,KAAK,MAAM,IAAI,CAAC,aAAa,CAAC,QAAQ,EAAE;YAC5E,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;YACrB,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,uCAAuC,CAAC,CAAC,CAAC;SACvF;aAAM,IAAI,aAAa,CAAC,oBAAoB,KAAK,MAAM,IAAI,CAAC,aAAa,CAAC,SAAS,IAAI,CAAC,aAAa,CAAC,aAAa,EAAE;YACpH,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;YACrB,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,wCAAwC,CAAC,CAAC,CAAC;SACxF;aAAM;YACL,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;YACpB,IAAI,IAAI,CAAC,IAAI,KAAK,gBAAgB,EAAE;;sBAC5B,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,SAAS;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,EAAE,KAAK,aAAa,CAAC,EAAE,EAAC;gBACvF,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE;oBACV,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,CAAC,CAAC,GAAG,aAAa,CAAC;iBACxD;qBAAM;;0BACC,cAAc,GAAG,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,MAAM;;;;oBAAC,CAAC,IAAI,CAAC,CAAC,IAAI,KAAK,uCAAuC,EAAC;oBAC1H,KAAK,MAAM,CAAC,IAAI,cAAc,EAAE;;8BACxB,iBAAiB,sBAAG,CAAC,EAA4B;wBACvD,IAAI,iBAAiB,CAAC,kBAAkB,KAAK,aAAa,CAAC,kBAAkB;4BAC3E,iBAAiB,CAAC,SAAS,KAAK,aAAa,CAAC,SAAS;4BACvD,iBAAiB,CAAC,SAAS,KAAK,aAAa,CAAC,SAAS;4BACvD,iBAAiB,CAAC,aAAa,KAAK,aAAa,CAAC,aAAa;4BAC/D,iBAAiB,CAAC,QAAQ,KAAK,aAAa,CAAC,QAAQ,EACrD;4BACA,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,wCAAwC,CAAC,CAAC,CAAC;4BACxF,OAAO;yBACR;qBACF;;wBACG,KAAK;oBACT,IAAI,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,MAAM,GAAG,CAAC,EAAE;wBAClD,KAAK,GAAG,IAAI,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,GAAG;;;;wBAAC,CAAC,IAAI,CAAC,CAAC,KAAK,EAAC,CAAC,GAAC,CAAC,CAAC;qBAC9E;yBAAM;wBACL,KAAK,GAAG,CAAC,CAAC;qBACX;oBACD,aAAa,CAAC,KAAK,GAAG,KAAK,CAAC;oBAC5B,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;iBACzD;gBACD,IAAI,CAAC,kBAAkB,CAAC,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,CAAC;aACvE;iBAAM,IAAI,IAAI,CAAC,IAAI,KAAK,gBAAgB,EAAE;;sBACnC,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,SAAS;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,EAAE,KAAK,aAAa,CAAC,EAAE,EAAC;gBACvF,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE;oBACV,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,CAAC,CAAC,GAAG,aAAa,CAAC;iBACxD;qBAAM;;0BACC,cAAc,GAAG,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,MAAM;;;;oBAAC,CAAC,IAAI,CAAC,CAAC,IAAI,KAAK,uCAAuC,EAAC;oBAC1H,KAAK,MAAM,CAAC,IAAI,cAAc,EAAE;;8BACxB,iBAAiB,sBAAG,CAAC,EAA4B;wBACvD,IAAI,iBAAiB,CAAC,kBAAkB,KAAK,aAAa,CAAC,kBAAkB;4BAC3E,iBAAiB,CAAC,SAAS,KAAK,aAAa,CAAC,SAAS;4BACvD,iBAAiB,CAAC,SAAS,KAAK,aAAa,CAAC,SAAS;4BACvD,iBAAiB,CAAC,aAAa,KAAK,aAAa,CAAC,aAAa;4BAC/D,iBAAiB,CAAC,QAAQ,KAAK,aAAa,CAAC,QAAQ,EACrD;4BACA,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,wCAAwC,CAAC,CAAC,CAAC;4BACxF,OAAO;yBACR;qBACF;;wBACG,KAAK;oBACT,IAAI,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,MAAM,GAAG,CAAC,EAAE;wBAClD,KAAK,GAAG,IAAI,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,GAAG;;;;wBAAC,CAAC,IAAI,CAAC,CAAC,KAAK,EAAC,CAAC,GAAC,CAAC,CAAC;qBAC9E;yBAAM;wBACL,KAAK,GAAG,CAAC,CAAC;qBACX;oBACD,aAAa,CAAC,KAAK,GAAG,KAAK,CAAC;oBAC5B,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;iBACzD;gBACD,IAAI,CAAC,kBAAkB,CAAC,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,CAAC;aACvE;SACF;KACF;;;;;;IAEO,kBAAkB,CAAC,MAAyB;QAClD,IAAI,CAAC,MAAM,CAAC,eAAe,IAAI,CAAC,MAAM,CAAC,eAAe,IAAI,CAAC,MAAM,CAAC,eAAe,EAAE;YACjF,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;YACrB,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,2CAA2C,CAAC,CAAC,CAAC;SAC3F;aAAM,IAAI,CAAC,MAAM,CAAC,cAAc,EAAE;YACjC,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;YACrB,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,6CAA6C,CAAC,CAAC,CAAC;SAC7F;aAAM;YACL,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;YACpB,IAAI,IAAI,CAAC,IAAI,KAAK,gBAAgB,EAAE;;sBAC5B,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,SAAS;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,EAAE,KAAK,MAAM,CAAC,EAAE,EAAC;gBAChF,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE;oBACV,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,CAAC,CAAC,GAAG,MAAM,CAAC;iBACjD;qBAAM;;0BACC,kBAAkB,GAAG,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,MAAM;;;;oBAAC,CAAC,IAAI,CAAC,CAAC,IAAI,KAAK,gCAAgC,EAAC;oBACvH,KAAK,MAAM,CAAC,IAAI,kBAAkB,EAAE;;8BAC5B,UAAU,sBAAG,CAAC,EAAqB;wBACzC,IAAI,UAAU,CAAC,WAAW,KAAK,MAAM,CAAC,WAAW;4BAC/C,UAAU,CAAC,eAAe,KAAK,MAAM,CAAC,eAAe;4BACrD,UAAU,CAAC,eAAe,KAAK,MAAM,CAAC,eAAe;4BACrD,UAAU,CAAC,eAAe,KAAK,MAAM,CAAC,eAAe;4BACrD,UAAU,CAAC,cAAc,KAAK,MAAM,CAAC,cAAc,EACnD;4BACA,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,wCAAwC,CAAC,CAAC,CAAC;4BACxF,OAAO;yBACR;qBACF;;wBACG,KAAK;oBACT,IAAI,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,MAAM,GAAG,CAAC,EAAE;wBAClD,KAAK,GAAG,IAAI,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,GAAG;;;;wBAAC,CAAC,IAAI,CAAC,CAAC,KAAK,EAAC,CAAC,GAAC,CAAC,CAAC;qBAC9E;yBAAM;wBACL,KAAK,GAAG,CAAC,CAAC;qBACX;oBACD,MAAM,CAAC,KAAK,GAAG,KAAK,CAAC;oBACrB,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;iBAClD;gBACD,IAAI,CAAC,kBAAkB,CAAC,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,CAAC;aACvE;iBAAM,IAAI,IAAI,CAAC,IAAI,KAAK,gBAAgB,EAAE;;sBACnC,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,SAAS;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,EAAE,KAAK,MAAM,CAAC,EAAE,EAAC;gBAChF,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE;oBACV,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,CAAC,CAAC,GAAG,MAAM,CAAC;iBACjD;qBAAM;;0BACC,kBAAkB,GAAG,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,MAAM;;;;oBAAC,CAAC,IAAI,CAAC,CAAC,IAAI,KAAK,gCAAgC,EAAC;oBACvH,KAAK,MAAM,CAAC,IAAI,kBAAkB,EAAE;;8BAC5B,UAAU,sBAAG,CAAC,EAAqB;wBACzC,IAAI,UAAU,CAAC,WAAW,KAAK,MAAM,CAAC,WAAW;4BAC/C,UAAU,CAAC,eAAe,KAAK,MAAM,CAAC,eAAe;4BACrD,UAAU,CAAC,eAAe,KAAK,MAAM,CAAC,eAAe;4BACrD,UAAU,CAAC,eAAe,KAAK,MAAM,CAAC,eAAe;4BACrD,UAAU,CAAC,cAAc,KAAK,MAAM,CAAC,cAAc,EACnD;4BACA,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,wCAAwC,CAAC,CAAC,CAAC;4BACxF,OAAO;yBACR;qBACF;;wBACG,KAAK;oBACT,IAAI,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,MAAM,GAAG,CAAC,EAAE;wBAClD,KAAK,GAAG,IAAI,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,GAAG;;;;wBAAC,CAAC,IAAI,CAAC,CAAC,KAAK,EAAC,CAAC,GAAC,CAAC,CAAC;qBAC9E;yBAAM;wBACL,KAAK,GAAG,CAAC,CAAC;qBACX;oBACD,MAAM,CAAC,KAAK,GAAG,KAAK,CAAC;oBACrB,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;iBAClD;gBACD,IAAI,CAAC,kBAAkB,CAAC,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,CAAC;aACvE;SACF;KACF;;;;;;IAEO,4BAA4B,CAAC,gBAA6C;QAChF,IAAI,IAAI,CAAC,IAAI,KAAK,gBAAgB,EAAE;;kBAC5B,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,SAAS;;;;YAAC,CAAC,KAAK,CAAC,CAAC,EAAE,KAAK,gBAAgB,CAAC,EAAE;iBACvF,oBAAC,CAAC,IAAiC,aAAa,IAAI,oBAAC,CAAC,IAAiC,aAAa,KAAK,gBAAgB,CAAC,aAAa,CAAC,CAAC,EAAC;YAC7I,IAAI,CAAC,GAAG,CAAC,EAAE;gBACT,IAAI,IAAI,CAAC,SAAS,KAAK,MAAM,EAAE;oBAC7B,IAAI,CAAC,oBAAoB,EAAE,CAAC;iBAC7B;;oBACG,KAAK;gBACT,IAAI,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,MAAM,GAAG,CAAC,EAAE;oBAClD,KAAK,GAAG,IAAI,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,GAAG;;;;oBAAC,CAAC,IAAI,CAAC,CAAC,KAAK,EAAC,CAAC,GAAC,CAAC,CAAC;iBAC9E;qBAAM;oBACL,KAAK,GAAG,CAAC,CAAC;iBACX;gBACD,gBAAgB,CAAC,KAAK,GAAG,KAAK,CAAC;gBAC/B,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC;aAC5D;YACD,IAAI,CAAC,kBAAkB,CAAC,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,CAAC;SACvE;aAAM,IAAI,IAAI,CAAC,IAAI,KAAK,gBAAgB,EAAE;;kBACnC,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,SAAS;;;;YAAC,CAAC,KAAK,CAAC,CAAC,EAAE,KAAK,gBAAgB,CAAC,EAAE;iBACvF,oBAAC,CAAC,IAAiC,aAAa,IAAI,oBAAC,CAAC,IAAiC,aAAa,KAAK,gBAAgB,CAAC,aAAa,CAAC,CAAC,EAAC;YAC7I,IAAI,CAAC,GAAG,CAAC,EAAE;gBACT,IAAI,IAAI,CAAC,SAAS,KAAK,MAAM,EAAE;oBAC7B,IAAI,CAAC,oBAAoB,EAAE,CAAC;iBAC7B;;oBACG,KAAK;gBACT,IAAI,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,MAAM,GAAG,CAAC,EAAE;oBAClD,KAAK,GAAG,IAAI,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,GAAG;;;;oBAAC,CAAC,IAAI,CAAC,CAAC,KAAK,EAAC,CAAC,GAAC,CAAC,CAAC;iBAC9E;qBAAM;oBACL,KAAK,GAAG,CAAC,CAAC;iBACX;gBACD,gBAAgB,CAAC,KAAK,GAAG,KAAK,CAAC;gBAC/B,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC;aAC5D;YACD,IAAI,CAAC,kBAAkB,CAAC,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,CAAC;SACvE;KACF;;;;;;IAGO,0BAA0B,CAAC,YAA+C;;cAC1E,uBAAuB,GAAG,IAAI,uBAAuB,EAAE;QAC7D,uBAAuB,CAAC,EAAE,GAAG,YAAY,CAAC,EAAE,IAAI,aAAa,CAAC,iBAAiB,EAAE,CAAC;QAClF,uBAAuB,CAAC,IAAI,GAAG,sCAAsC,CAAC;QACtE,uBAAuB,CAAC,SAAS,GAAG,YAAY,CAAC,SAAS,CAAC;QAC3D,uBAAuB,CAAC,IAAI,GAAG,YAAY,CAAC,IAAI,CAAC;QACjD,uBAAuB,CAAC,WAAW,GAAG,YAAY,CAAC,WAAW,CAAC;QAC/D,uBAAuB,CAAC,iBAAiB,GAAG,YAAY,CAAC,iBAAiB,CAAC;QAC3E,uBAAuB,CAAC,cAAc,GAAG,YAAY,CAAC,cAAc,CAAC;QACrE,uBAAuB,CAAC,gBAAgB,GAAG,YAAY,CAAC,gBAAgB,CAAC;QACzE,uBAAuB,CAAC,gBAAgB,GAAG,YAAY,CAAC,gBAAgB,CAAC;QACzE,uBAAuB,CAAC,eAAe,GAAG,YAAY,CAAC,eAAe,CAAC;QACvE,uBAAuB,CAAC,YAAY,GAAG,YAAY,CAAC,YAAY,CAAC;QACjE,uBAAuB,CAAC,GAAG,GAAG,YAAY,CAAC,GAAG,CAAC;QAE/C,IAAI,IAAI,CAAC,IAAI,KAAK,gBAAgB,EAAE;YAClC,IAAI,CAAC,WAAW,CAAC,kBAAkB,GAAG,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,MAAM;;;;YAAC,CAAC,IAAI,CAAC,CAAC,IAAI,KAAK,sCAAsC,EAAC,CAAC;;gBACrI,KAAK;YACT,IAAI,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,MAAM,GAAG,CAAC,EAAE;gBAClD,KAAK,GAAG,IAAI,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,GAAG;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,KAAK,EAAC,CAAC,GAAC,CAAC,CAAC;aAC9E;iBAAM;gBACL,KAAK,GAAG,CAAC,CAAC;aACX;YACD,uBAAuB,CAAC,KAAK,GAAG,KAAK,CAAC;YACtC,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,IAAI,CAAC,uBAAuB,CAAC,CAAC;YAClE,IAAI,CAAC,kBAAkB,CAAC,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,CAAC;SACvE;aAAM,IAAI,IAAI,CAAC,IAAI,KAAK,gBAAgB,EAAE;YACzC,IAAI,CAAC,WAAW,CAAC,kBAAkB,GAAG,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,MAAM;;;;YAAC,CAAC,IAAI,CAAC,CAAC,IAAI,KAAK,sCAAsC,EAAC,CAAC;;gBACrI,KAAK;YACT,IAAI,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,MAAM,GAAG,CAAC,EAAE;gBAClD,KAAK,GAAG,IAAI,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,GAAG;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,KAAK,EAAC,CAAC,GAAC,CAAC,CAAC;aAC9E;iBAAM;gBACL,KAAK,GAAG,CAAC,CAAC;aACX;YACD,uBAAuB,CAAC,KAAK,GAAG,KAAK,CAAC;YACtC,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,IAAI,CAAC,uBAAuB,CAAC,CAAC;YAClE,IAAI,CAAC,kBAAkB,CAAC,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,CAAC;SACvE;KACF;;;;IAED,UAAU;QACR,IAAI,IAAI,CAAC,UAAU,EAAE;YACnB,IAAI,CAAC,UAAU,CAAC,KAAK,EAAE,CAAC;SACzB;KACF;;;;;IAED,aAAa,CAAC,IAAY;QACxB,IAAI,CAAC,SAAS,GAAG,MAAM,CAAC;QACxB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;;YACb,WAAW;QACf,IAAI,IAAI,KAAK,gBAAgB,EAAE;YAC7B,WAAW,GAAG,IAAI,CAAC,kBAAkB,CAAC,WAAW,CAAC;SACnD;aAAM,IAAI,IAAI,KAAK,gBAAgB,EAAE;YACpC,WAAW,GAAG,IAAI,CAAC,kBAAkB,CAAC,WAAW,CAAC;SACnD;QACD,IAAI,CAAC,WAAW,EAAE;YAChB,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,uCAAuC,CAAC,CAAC,CAAC;YACtF,OAAO;SACR;;cACK,YAAY,GAAG,WAAW,CAAC,IAAI;QACrC,IAAI,YAAY,EAAE;;kBACV,OAAO,GAAG,IAAI,CAAC,gBAAgB,CAAC,YAAY,CAAC,IAAI,CAAC;;kBAClD,WAAW,GAAG;gBAClB,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,4CAA4C,CAAC;gBAC9E,KAAK,EAAE,OAAO,CAAC,KAAK;gBACpB,MAAM,EAAE,OAAO,CAAC,MAAM;gBACtB,OAAO,EAAE,IAAI,CAAC,UAAU;gBACxB,WAAW,EAAE,IAAI;aAClB;;kBACK,WAAW,GAAG,IAAI,CAAC,QAAQ,CAAC,uBAAuB,CAAC,sBAAsB,CAAC;YACjF,IAAI,CAAC,OAAO,GAAG,WAAW,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;YACjD,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,aAAa,GAAG,YAAY,CAAC,IAAI,CAAC;YACxD,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,SAAS,GAAI,IAAI,CAAC,SAAS,CAAC;YAClD,QAAQ,YAAY,CAAC,IAAI;gBACvB,KAAK,kCAAkC;oBACrC,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,SAAS,GAAG;wBAChC,IAAI,EAAE,kCAAkC;wBACxC,KAAK,EAAE,YAAY;qBACpB,CAAC;oBACF,MAAM;gBACR,KAAK,8BAA8B;oBACjC,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,SAAS,GAAG;wBAChC,IAAI,EAAE,8BAA8B;wBACpC,KAAK,EAAE,YAAY;qBACpB,CAAC;oBACF,MAAM;gBACR,KAAK,kCAAkC;oBACrC,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,SAAS,GAAG;wBAChC,IAAI,EAAE,kCAAkC;wBACxC,KAAK,EAAE,YAAY;qBACpB,CAAC;oBACF,MAAM;gBACR,KAAK,uCAAuC;oBAC1C,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,SAAS,GAAG;wBAChC,IAAI,EAAE,uCAAuC;wBAC7C,KAAK,EAAE,YAAY;qBACpB,CAAC;;0BACI,GAAG,GAAG,gDAAgD,GAAG,oBAAC,YAAY,IAA8B,kBAAkB;oBAC5H,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,SAAS;;;;oBAAC,CAAC,GAAQ;wBACpC,IAAI,CAAC,GAAG,EAAE;4BACR,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,yCAAyC,CAAC,CAAC,CAAC;4BACzF,IAAI,IAAI,KAAK,gBAAgB,EAAE;gCAC7B,IAAI,CAAC,oBAAoB,EAAE,CAAC;6BAC7B;iCAAM,IAAI,IAAI,KAAK,gBAAgB,EAAE;gCACpC,IAAI,CAAC,oBAAoB,EAAE,CAAC;6BAC7B;yBACF;6BAAM;4BACL,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,WAAW,CAAC,CAAC;yBACrE;qBACF,EAAC,CAAC;oBACH,MAAM;gBACR,KAAK,gCAAgC;oBACnC,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,SAAS,GAAG;wBAChC,IAAI,EAAE,gCAAgC;wBACtC,KAAK,EAAE,YAAY;qBACpB,CAAC;;0BACI,SAAS,GAAG,wCAAwC,GAAG,oBAAC,YAAY,IAAuB,WAAW;oBAC5G,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC,SAAS;;;;oBAAC,CAAC,GAAQ;wBAC1C,IAAI,CAAC,GAAG,EAAE;4BACR,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,qCAAqC,CAAC,CAAC,CAAC;4BACrF,IAAI,IAAI,KAAK,gBAAgB,EAAE;gCAC7B,IAAI,CAAC,oBAAoB,EAAE,CAAC;6BAC7B;iCAAM,IAAI,IAAI,KAAK,gBAAgB,EAAE;gCACpC,IAAI,CAAC,oBAAoB,EAAE,CAAC;6BAC7B;yBACF;6BAAM;4BACL,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,WAAW,CAAC,CAAC;yBACrE;qBACF,EAAC,CAAC;oBACH,MAAM;gBACR,KAAK,mCAAmC;oBACtC,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,SAAS,GAAG;wBAChC,IAAI,EAAE,mCAAmC;wBACzC,KAAK,EAAE,YAAY;qBACpB,CAAC;oBACF,MAAM;gBACR,KAAK,0CAA0C;oBAC7C,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,SAAS,GAAG;wBAChC,IAAI,EAAE,0CAA0C;wBAChD,KAAK,EAAE,YAAY;qBACpB,CAAC;oBACF,MAAM;gBACR,KAAK,sCAAsC;oBACzC,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,SAAS,GAAG;wBAChC,IAAI,EAAE,sCAAsC;wBAC5C,KAAK,EAAE,YAAY;qBACpB,CAAC;oBACF,MAAM;aACT;YACD,IAAI,YAAY,CAAC,IAAI,KAAK,uCAAuC;gBAC/D,YAAY,CAAC,IAAI,KAAK,gCAAgC,EAAE;gBACxD,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,WAAW,CAAC,CAAC;aACrE;SACF;KACF;;;;;IACD,eAAe,CAAC,IAAY;QAC1B,IAAI,IAAI,KAAK,gBAAgB,EAAE;YAC7B,IAAI,IAAI,CAAC,kBAAkB,CAAC,WAAW,EAAE;gBACvC,IAAI,CAAC,kBAAkB,CAAC,WAAW,EAAE,CAAC;;sBAChC,KAAK,GAAG,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,SAAS;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,EAAE,KAAK,IAAI,CAAC,kBAAkB,CAAC,WAAW,CAAC,IAAI,CAAC,EAAE,EAAC;gBACtH,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;gBACrD,IAAI,CAAC,kBAAkB,CAAC,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,CAAC;aACvE;iBAAM;gBACL,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,6CAA6C,CAAC,CAAC,CAAC;aAC7F;SACF;aAAM,IAAI,IAAI,KAAK,gBAAgB,EAAE;YACpC,IAAI,IAAI,CAAC,kBAAkB,CAAC,WAAW,EAAE;gBACvC,IAAI,CAAC,kBAAkB,CAAC,WAAW,EAAE,CAAC;;sBAChC,KAAK,GAAG,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,SAAS;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,EAAE,KAAK,IAAI,CAAC,kBAAkB,CAAC,WAAW,CAAC,IAAI,CAAC,EAAE,EAAC;gBACtH,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;gBACrD,IAAI,CAAC,kBAAkB,CAAC,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,CAAC;aACvE;iBAAM;gBACL,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,6CAA6C,CAAC,CAAC,CAAC;aAC7F;SACF;KACF;;;;;IAED,cAAc,CAAC,IAAY;QACzB,IAAI,IAAI,KAAK,gBAAgB,EAAE;YAC7B,IAAI,CAAC,WAAW,CAAC,kBAAkB,GAAG,IAAI,KAAK,EAAE,CAAC;SACnD;aAAM,IAAI,IAAI,KAAK,gBAAgB,EAAE;YACpC,IAAI,CAAC,WAAW,CAAC,kBAAkB,GAAG,IAAI,KAAK,EAAE,CAAC;SACnD;QACD,IAAI,CAAC,kBAAkB,CAAC,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,CAAC;QACtE,IAAI,IAAI,CAAC,kBAAkB,EAAE;YAC3B,IAAI,CAAC,kBAAkB,CAAC,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,CAAC;SACvE;KACF;;;;;IAED,MAAM,CAAC,IAAY;QACjB,IAAI,IAAI,KAAK,gBAAgB,EAAE;;kBACvB,WAAW,GAAG,IAAI,CAAC,kBAAkB,CAAC,WAAW;YACvD,IAAI,CAAC,WAAW,EAAE;gBAChB,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,qCAAqC,CAAC,CAAC,CAAC;gBACpF,OAAO;aACR;;kBACK,SAAS,GAAG,WAAW,CAAC,IAAI;;kBAC5B,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,SAAS;;;;YAAC,CAAC,IAAI,CAAC,CAAC,EAAE,KAAK,SAAS,CAAC,EAAE,EAAC;YACnF,IAAI,CAAC,KAAK,CAAC,EAAE;gBACX,OAAO;aACR;;kBACK,KAAK,GAAG,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,CAAC,CAAC,CAAC,KAAK;YAC1D,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,CAAC,CAAC,CAAC,KAAK,GAAG,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,KAAK,CAAC;YAChG,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,CAAC,GAAC,CAAC,CAAC,CAAC,KAAK,GAAG,KAAK,CAAC;YACvD,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,WAAW,CAAC,kBAAkB,EAAE,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC;YAC9D,IAAI,CAAC,kBAAkB,CAAC,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,CAAC;YACtE,IAAI,CAAC,kBAAkB,CAAC,SAAS,CAAC,SAAS,CAAC,EAAE,EAAE,IAAI,CAAC,CAAC;SACvD;aAAM,IAAI,IAAI,KAAK,gBAAgB,EAAE;;kBAC9B,WAAW,GAAG,IAAI,CAAC,kBAAkB,CAAC,WAAW;YACvD,IAAI,CAAC,WAAW,EAAE;gBAChB,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,qCAAqC,CAAC,CAAC,CAAC;gBACpF,OAAO;aACR;;kBACK,SAAS,GAAG,WAAW,CAAC,IAAI;;kBAC5B,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,SAAS;;;;YAAC,CAAC,IAAI,CAAC,CAAC,EAAE,KAAK,SAAS,CAAC,EAAE,EAAC;YACnF,IAAI,CAAC,KAAK,CAAC,EAAE;gBACX,OAAO;aACR;;kBACK,KAAK,GAAG,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,CAAC,CAAC,CAAC,KAAK;YAC1D,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,CAAC,CAAC,CAAC,KAAK,GAAG,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,KAAK,CAAC;YAChG,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,CAAC,GAAC,CAAC,CAAC,CAAC,KAAK,GAAG,KAAK,CAAC;YACvD,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,WAAW,CAAC,kBAAkB,EAAE,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC;YAC9D,IAAI,CAAC,kBAAkB,CAAC,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,CAAC;YACtE,IAAI,CAAC,kBAAkB,CAAC,SAAS,CAAC,SAAS,CAAC,EAAE,EAAE,IAAI,CAAC,CAAC;SACvD;KAEF;;;;;IAED,QAAQ,CAAC,IAAY;QACnB,IAAI,IAAI,KAAK,gBAAgB,EAAE;;kBACvB,WAAW,GAAG,IAAI,CAAC,kBAAkB,CAAC,WAAW;YACvD,IAAI,CAAC,WAAW,EAAE;gBAChB,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,qCAAqC,CAAC,CAAC,CAAC;gBACpF,OAAO;aACR;;kBACK,SAAS,GAAG,WAAW,CAAC,IAAI;;kBAC5B,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,SAAS;;;;YAAC,CAAC,IAAI,CAAC,CAAC,EAAE,KAAK,SAAS,CAAC,EAAE,EAAC;YACnF,IAAI,CAAC,KAAK,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,MAAM,GAAC,CAAC,EAAE;gBACtD,OAAO;aACR;;kBACK,KAAK,GAAG,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,CAAC,CAAC,CAAC,KAAK;YAC1D,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,CAAC,CAAC,CAAC,KAAK,GAAG,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,KAAK,CAAC;YAChG,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,CAAC,GAAC,CAAC,CAAC,CAAC,KAAK,GAAG,KAAK,CAAC;YACvD,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,WAAW,CAAC,kBAAkB,EAAE,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC;YAC9D,IAAI,CAAC,kBAAkB,CAAC,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,CAAC;YACtE,IAAI,CAAC,kBAAkB,CAAC,SAAS,CAAC,SAAS,CAAC,EAAE,EAAE,IAAI,CAAC,CAAC;SACvD;aAAM,IAAI,IAAI,KAAK,gBAAgB,EAAE;;kBAC9B,WAAW,GAAG,IAAI,CAAC,kBAAkB,CAAC,WAAW;YACvD,IAAI,CAAC,WAAW,EAAE;gBAChB,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,qCAAqC,CAAC,CAAC,CAAC;gBACpF,OAAO;aACR;;kBACK,SAAS,GAAG,WAAW,CAAC,IAAI;;kBAC5B,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,SAAS;;;;YAAC,CAAC,IAAI,CAAC,CAAC,EAAE,KAAK,SAAS,CAAC,EAAE,EAAC;YACnF,IAAI,CAAC,KAAK,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,MAAM,GAAC,CAAC,EAAE;gBACtD,OAAO;aACR;;kBACK,KAAK,GAAG,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,CAAC,CAAC,CAAC,KAAK;YAC1D,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,CAAC,CAAC,CAAC,KAAK,GAAG,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,KAAK,CAAC;YAChG,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,CAAC,GAAC,CAAC,CAAC,CAAC,KAAK,GAAG,KAAK,CAAC;YACvD,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,WAAW,CAAC,kBAAkB,EAAE,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC;YAC9D,IAAI,CAAC,kBAAkB,CAAC,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,CAAC;YACtE,IAAI,CAAC,kBAAkB,CAAC,SAAS,CAAC,SAAS,CAAC,EAAE,EAAE,IAAI,CAAC,CAAC;SACvD;KACF;;;;;;;;IAEO,SAAS,CAAC,GAAe,EAAE,EAAU,EAAE,EAAU;QACvD,GAAG,CAAC,EAAE,CAAC,GAAG,GAAG,CAAC,MAAM,CAAC,EAAE,EAAE,CAAC,EAAE,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACxC,OAAO,GAAG,CAAC;KACZ;;;;IAED,oBAAoB;QAClB,IAAI,IAAI,CAAC,kBAAkB,CAAC,WAAW,EAAE;YACvC,IAAI,CAAC,kBAAkB,CAAC,WAAW,EAAE,CAAC;;kBAChC,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,SAAS;;;;YAAC,IAAI,IAAI,IAAI,CAAC,EAAE,KAAK,IAAI,CAAC,kBAAkB,CAAC,WAAW,CAAC,IAAI,CAAC,EAAE,EAAC;YACxH,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;SAClD;aAAM;YACL,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,4CAA4C,CAAC,CAAC,CAAC;SAC5F;KACF;;;;IAED,oBAAoB;QAClB,IAAI,IAAI,CAAC,kBAAkB,CAAC,WAAW,EAAE;YACvC,IAAI,CAAC,kBAAkB,CAAC,WAAW,EAAE,CAAC;;kBAChC,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,SAAS;;;;YAAC,IAAI,IAAI,IAAI,CAAC,EAAE,KAAK,IAAI,CAAC,kBAAkB,CAAC,WAAW,CAAC,IAAI,CAAC,EAAE,EAAC;YACxH,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;SAClD;aAAM;YACL,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,+CAA+C,CAAC,CAAC,CAAC;SAC/F;KACF;;;;;;IAEO,2BAA2B,CAAC,aAA8B;QAChE,IAAI,aAAa,CAAC,GAAG,KAAK,YAAY,EAAE;YACtC,OAAO,aAAa,CAAC,WAAW,CAAC;SAClC;aAAM;YACL,IAAI,aAAa,CAAC,OAAO,EAAE;gBACzB,OAAO,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,2BAA2B,CAAC,GAAG,aAAa,CAAC,OAAO,CAAC;aACvF;iBAAM;gBACL,OAAO,EAAE,CAAC;aACX;SACF;KACF;;;;;;IAEO,+BAA+B,CAAC,iBAAsC;QAC5E,IAAI,iBAAiB,CAAC,GAAG,KAAK,YAAY,EAAE;YAC1C,OAAO,iBAAiB,CAAC,QAAQ,CAAC;SACnC;KACF;;;;;;IAEO,+BAA+B,CAAC,QAA6B;QACnE,IAAI,IAAI,CAAC,eAAe,CAAC,KAAK,KAAK,SAAS,EAAE;YAC5C,OAAO,IAAI,CAAC;SACb;QACD,IAAI,QAAQ,CAAC,YAAY,KAAK,GAAG,EAAE;YACjC,IAAI,QAAQ,CAAC,KAAK,EAAE;gBAClB,OAAO,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,qCAAqC,CAAC,GAAG,QAAQ,CAAC,KAAK,CAAC;aAC1F;iBAAM;gBACL,OAAO,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,qCAAqC,CAAC,CAAC;aACzE;SACF;aAAM,IAAI,QAAQ,CAAC,YAAY,KAAK,GAAG,EAAE;YACxC,OAAO,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,qCAAqC,CAAC,CAAC;SACzE;KACF;;;;;;IAEO,gCAAgC,CAAC,QAA8B;;YACjE,GAAG,GAAG,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,4BAA4B,CAAC,GAAG,QAAQ,CAAC,IAAI;cAC/E,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,kCAAkC,CAAC;QAC/D,IAAI,QAAQ,CAAC,gBAAgB,IAAI,QAAQ,CAAC,gBAAgB,CAAC,MAAM,GAAG,CAAC,EAAE;YACrE,QAAQ,CAAC,gBAAgB,CAAC,OAAO;;;;YAAC,CAAC;gBACjC,GAAG,IAAI,GAAG,CAAC,CAAC,IAAI,IAAI,CAAC,CAAC,KAAK,GAAG,CAAC;aAChC,EAAC,CAAC;YACH,GAAG,GAAG,GAAG,CAAC,SAAS,CAAC,CAAC,EAAE,GAAG,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;SACxC;QACD,GAAG,IAAI,GAAG,CAAC;QACX,OAAO,GAAG,CAAC;KACZ;;;;;;IAEO,oCAAoC,CAAC,aAAuC;;YAC9E,WAAW,GAAG,EAAE;QACpB,IAAI,aAAa,CAAC,SAAS,EAAE;YAC3B,WAAW,IAAI,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,uCAAuC,CAAC,GAAG,aAAa,CAAC,SAAS,CAAC;SAC7G;QACD,IAAI,aAAa,CAAC,aAAa,EAAE;YAC/B,WAAW,IAAI,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,uCAAuC,CAAC,GAAG,aAAa,CAAC,aAAa,CAAC;SACjH;QACD,IAAI,aAAa,CAAC,QAAQ,EAAE;YAC1B,IAAI,aAAa,CAAC,SAAS,EAAE;gBAC3B,WAAW,IAAI,GAAG,CAAC;aACpB;YACD,IAAI,aAAa,CAAC,aAAa,EAAE;gBAC/B,WAAW,IAAI,GAAG,CAAC;aACpB;YACD,WAAW,IAAI,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,6CAA6C,CAAC,GAAG,aAAa,CAAC,QAAQ,CAAC;SAClH;QACD,OAAO,WAAW,CAAC;KACpB;;;;;;IAEO,6BAA6B,CAAC,MAAyB;;YACzD,WAAW,GAAG,EAAE;QACpB,IAAI,MAAM,CAAC,eAAe,EAAE;YAC1B,WAAW,IAAI,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,kCAAkC,CAAC,GAAG,MAAM,CAAC,mBAAmB,GAAG,GAAG,CAAC;SACjH;QACD,IAAI,MAAM,CAAC,eAAe,EAAE;YAC1B,WAAW,IAAI,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,kCAAkC,CAAC,GAAG,MAAM,CAAC,mBAAmB,GAAG,GAAG,CAAC;SACjH;QACD,IAAI,MAAM,CAAC,eAAe,EAAE;YAC1B,WAAW,IAAI,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,kCAAkC,CAAC,GAAG,MAAM,CAAC,mBAAmB,GAAG,GAAG,CAAC;SACjH;QACD,IAAI,MAAM,CAAC,cAAc,EAAE;YACzB,WAAW,IAAI,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,4BAA4B,CAAC,GAAG,MAAM,CAAC,cAAc,GAAG,GAAG,CAAC;SACtG;QACD,OAAO,WAAW,CAAC,KAAK,CAAC,CAAC,EAAE,WAAW,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;KACrD;;;;;;IAEO,YAAY,CAAC,CAAM;;QAGzB,IAAI,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE;YAC3C,KAAK,MAAM,MAAM,IAAI,IAAI,CAAC,eAAe,CAAC,OAAO,EAAE;gBACjD,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,QAAQ,EAAE,MAAM,CAAC,CAAC;aACvC;YACD,IAAI,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,WAAW,IAAI,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC,MAAM,GAAG,CAAC,EAAE;;sBACnG,UAAU,GAAG,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC;gBACjE,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,UAAU,CAAC,IAAI,EAAE,QAAQ,EACnD,UAAU,CAAC,IAAI,EAAE,YAAY,CAAC,UAAU,CAAC,CAAC;aAC7C;SACF;;YACG,OAAO,GAAG,IAAI,KAAK,EAAE;QACzB,OAAO,GAAG,IAAI,CAAC,eAAe,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC;QACnD,IAAI,IAAI,CAAC,eAAe,CAAC,kBAAkB,CAAC,MAAM,GAAG,CAAC,EAAE;YACtD,KAAK,MAAM,QAAQ,IAAI,IAAI,CAAC,eAAe,CAAC,kBAAkB,EAAE;gBAC9D,IAAI,CAAC,OAAO,CAAC,IAAI;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,GAAG,KAAK,QAAQ,CAAC,GAAG,EAAC,EAAE;oBAC9C,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;iBACxB;aACF;SACF;QACD,IAAI,IAAI,CAAC,eAAe,CAAC,wBAAwB,CAAC,MAAM,GAAG,CAAC,EAAE;YAC5D,KAAK,MAAM,QAAQ,IAAI,IAAI,CAAC,eAAe,CAAC,wBAAwB,EAAE;gBACpE,IAAI,CAAC,OAAO,CAAC,IAAI;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,GAAG,KAAK,QAAQ,CAAC,GAAG,EAAC,EAAE;oBAC9C,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;iBACxB;aACF;SACF;QACD,IAAI,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE;YACtB,KAAK,MAAM,CAAC,IAAI,OAAO,EAAE;gBACvB,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;aACzB;SACF;QACD,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;QAC9C,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,YAAY,CAAC,WAAW,CAAC,CAAC;QACnD,IAAI,CAAC,IAAI,CAAC,eAAe,EAAE,CAAC,IAAI;;;;QAAC,CAAC,IAAY;YAC5C,IAAG,IAAI,CAAC,kBAAkB,IAAI,IAAI,CAAC,kBAAkB,CAAC,WAAW,IAAI,IAAI,CAAC,kBAAkB,CAAC,WAAW,CAAC,IAAI,EAAE;;oBACzG,IAAI,GAAG,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,IAAI;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,EAAE,KAAK,IAAI,CAAC,kBAAkB,CAAC,WAAW,CAAC,IAAI,CAAC,EAAE,EAAC;gBAC9G,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;aACvB;YACD,IAAG,IAAI,CAAC,kBAAkB,IAAI,IAAI,CAAC,kBAAkB,CAAC,WAAW,IAAI,IAAI,CAAC,kBAAkB,CAAC,WAAW,CAAC,IAAI,EAAE;;oBACzG,IAAI,GAAG,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,IAAI;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,EAAE,KAAK,IAAI,CAAC,kBAAkB,CAAC,WAAW,CAAC,IAAI,CAAC,EAAE,EAAC;gBAC9G,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;aACvB;YAED,CAAC,CAAC,WAAW,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;YAC7B,CAAC,CAAC,QAAQ,CAAC,EAAE,CAAC,aAAa,EAAE,CAAC;;YAE9B,IAAG,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE;gBACrB,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,eAAe,GAAG,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,eAAe,CAAC,MAAM;;;;gBAAC,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,GAAG,KAAK,CAAC,CAAC,GAAG,EAAC,EAAC,CAAC;aAC9H;SACF,EAAC,CAAC;KACJ;;;;;IAEO,kCAAkC;QACxC,IAAI,IAAI,CAAC,WAAW,CAAC,kBAAkB,IAAI,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,MAAM,GAAG,CAAC,EAAE;YACzF,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,kBAAkB,EAAE;gBACxC,IAAI,CAAC,WAAW,CAAC,kBAAkB,GAAG,IAAI,KAAK,EAAE,CAAC;aACnD;YACD,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,CAAC;YACjF,IAAI,CAAC,WAAW,CAAC,kBAAkB,GAAG,IAAI,KAAK,EAAE,CAAC;YAElD,IAAI,CAAC,kBAAkB,CAAC,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,CAAC;YACtE,IAAI,IAAI,CAAC,kBAAkB,EAAE;gBAC3B,IAAI,CAAC,kBAAkB,CAAC,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,CAAC;aACvE;SACF;KACF;;;;;IAEO,kCAAkC;QACxC,IAAI,IAAI,CAAC,WAAW,CAAC,kBAAkB,IAAI,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,MAAM,GAAG,CAAC,EAAE;YACzF,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,kBAAkB,EAAE;gBACxC,IAAI,CAAC,WAAW,CAAC,kBAAkB,GAAG,IAAI,KAAK,EAAE,CAAC;aACnD;;kBACK,UAAU,GAAG,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,MAAM;;;;YAAC,CAAC,IAAI,CAAC,CAAC,IAAI,KAAK,sCAAsC,EAAC;YACrH,IAAI,UAAU,IAAI,UAAU,CAAC,MAAM,GAAG,CAAC,EAAE;;gBAEvC,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,IAAI,CAAC,GAAG,UAAU,CAAC,CAAC;gBACxD,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,OAAO;;;;;gBAAC,CAAC,KAAK,EAAE,KAAK;oBACvD,KAAK,CAAC,KAAK,GAAG,KAAK,GAAG,CAAC,CAAC;iBACzB,EAAC,CAAC;gBACH,IAAI,CAAC,WAAW,CAAC,kBAAkB,GAAG,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,MAAM;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,IAAI,KAAK,sCAAsC,EAAC,CAAC;gBACzI,IAAI,CAAC,kBAAkB,CAAC,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,CAAC;gBACtE,IAAI,IAAI,CAAC,kBAAkB,EAAE;oBAC3B,IAAI,CAAC,kBAAkB,CAAC,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,CAAC;iBACvE;aACF;SACF;KACF;;;;;IAEO,mBAAmB;;cACnB,GAAG,GAAG,mDAAmD;QAC/D,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC;aACf,SAAS;;;;QAAC,CAAC,IAAS,KAAK,IAAI,CAAC,eAAe,CAAC,iBAAiB,GAAG,IAAI,CAAC,GAAG;;;;QAAC,CAAC,KAAK,EAAE,KAAK,EAAE,CAAC,CAAC,EAAE,EAAE,IAAI,EAAE,CAAC,CAAC,IAAI,EAAE,CAAC,EAAC,EAAC,CAAC;KACtH;;;;;;;IAGO,gBAAgB,CAAC,OAAe;;cAChC,OAAO,GAAG;YACd,KAAK,EAAE,GAAG;YACV,MAAM,EAAE,GAAG;SACZ;QACD,QAAQ,OAAO;YACb,KAAK,kCAAkC;gBACrC,OAAO,CAAC,KAAK,GAAG,GAAG,CAAC;gBACpB,OAAO,CAAC,MAAM,GAAG,GAAG,CAAC;gBACrB,OAAO,OAAO,CAAC;YACjB,KAAK,8BAA8B;gBACjC,OAAO,CAAC,KAAK,GAAG,GAAG,CAAC;gBACpB,OAAO,CAAC,MAAM,GAAG,GAAG,CAAC;gBACrB,OAAO,OAAO,CAAC;YACjB,KAAK,kCAAkC;gBACrC,OAAO,CAAC,KAAK,GAAG,GAAG,CAAC;gBACpB,OAAO,CAAC,MAAM,GAAG,GAAG,CAAC;gBACrB,OAAO,OAAO,CAAC;AAAC;YAClB,KAAK,uCAAuC;gBAC1C,OAAO,CAAC,KAAK,GAAG,GAAG,CAAC;gBACpB,OAAO,CAAC,MAAM,GAAG,GAAG,CAAC;gBACrB,OAAO,OAAO,CAAC;AAAC;YAClB,KAAK,gCAAgC;gBACnC,OAAO,CAAC,KAAK,GAAG,GAAG,CAAC;gBACpB,OAAO,CAAC,MAAM,GAAG,GAAG,CAAC;gBACrB,OAAO,OAAO,CAAC;AAAC;YAClB,KAAK,mCAAmC;gBACtC,OAAO,CAAC,KAAK,GAAG,GAAG,CAAC;gBACpB,OAAO,CAAC,MAAM,GAAG,GAAG,CAAC;gBACrB,OAAO,OAAO,CAAC;AAAC;YAClB,KAAK,0CAA0C;gBAC7C,OAAO,CAAC,KAAK,GAAG,GAAG,CAAC;gBACpB,OAAO,CAAC,MAAM,GAAG,GAAG,CAAC;gBACrB,OAAO,OAAO,CAAC;AAAC;YAClB,KAAK,sCAAsC;gBACzC,OAAO,CAAC,KAAK,GAAG,GAAG,CAAC;gBACpB,OAAO,CAAC,MAAM,GAAG,GAAG,CAAC;gBACrB,OAAO,OAAO,CAAC;AAAC;SACnB;KACF;;;YAnpCF,SAAS,SAAC;gBACT,QAAQ,EAAE,iBAAiB;gBAC3B,qlYAA2C;gBAE3C,SAAS,EAAE;oBACT,kBAAkB;oBACjB,YAAY;iBACd;;aACF;;;;YApBQ,sBAAsB;YAOtB,kBAAkB;YAfY,wBAAwB;YAAsC,QAAQ;YAKxF,cAAc;YAD1B,eAAe;YAGD,iBAAiB;YAN/B,WAAW;YADX,iBAAiB,uBAgMrB,QAAQ;yCACR,MAAM,SAAC,SAAS;4CAChB,MAAM,SAAC,iBAAiB;YAjLD,YAAY,uBAkLnC,QAAQ;;;yBApKV,MAAM;0BACN,MAAM;0BAEN,SAAS,SAAC,kBAAkB;yBAC5B,SAAS,SAAC,YAAY;yBACtB,SAAS,SAAC,YAAY;yBACtB,SAAS,SAAC,YAAY;iCACtB,SAAS,SAAC,oBAAoB;iCAC9B,SAAS,SAAC,oBAAoB;2BAE9B,KAAK;oBAEL,KAAK;;MA+nCK,oBAAoB;;;;IAC/B,YACU,UAAwB;QAAxB,eAAU,GAAV,UAAU,CAAc;KAC7B;;;;;IAEL,SAAS,CAAC,IAAqB;QAC7B,IAAI,IAAI,IAAI,IAAI,CAAC,kBAAkB,IAAI,IAAI,CAAC,kBAAkB,CAAC,MAAM,GAAG,CAAC,EAAE;YACzE,OAAO,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,2BAA2B,CAAC,CAAC;SAC/D;QACD,IAAI,IAAI,IAAI,IAAI,CAAC,kBAAkB,IAAI,IAAI,CAAC,kBAAkB,CAAC,MAAM,GAAG,CAAC,EAAE;YACzE,OAAO,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,2BAA2B,CAAC,CAAC;SAC/D;QACD,IAAI,IAAI,IAAI,IAAI,CAAC,UAAU,EAAE;YAC3B,OAAO,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,2BAA2B,CAAC,CAAC;SAC/D;QACD,OAAO,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,8BAA8B,CAAC,CAAC;KAClE;CACF;;;;;;AC1rCD,MAAaC,WAAS;IAOlB;KAEC;CACJ;;;;;;ACXD,MAEa,YAAY;;;;;IACrB,YAAY,IAAW,EAAE,EAAU;QAC/B,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,oBAAoB,GAAG,EAAE,CAAC;QAC/B,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;KACzB;CAKJ;MAEYC,6BAA2B;;;;;;IAKpC,YAAY,EAAU,EAAE,SAAiB,EAAE,QAAiB;QACxD,IAAI,CAAC,oBAAoB,GAAG,EAAE,CAAC;QAC/B,IAAI,CAAC,SAAS,GAAG,IAAID,WAAS,EAAE,CAAC;QACjC,IAAI,CAAC,SAAS,CAAC,KAAK,GAAG,SAAS,CAAC;QACjC,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;KAC5B;CACJ;;;;;;ACzBD,MAsBa,oBAAoB;;;;;;;;;;IAoF/B,YACU,OAA+B,EAC/B,OAAwB,EACxB,WAA8B,EAClB,GAAsB,EACf,QAAgB,EACR,SAAc,EAC7B,UAAwB;QANpC,YAAO,GAAP,OAAO,CAAwB;QAC/B,YAAO,GAAP,OAAO,CAAiB;QACxB,gBAAW,GAAX,WAAW,CAAmB;QAClB,QAAG,GAAH,GAAG,CAAmB;QACf,aAAQ,GAAR,QAAQ,CAAQ;QACR,cAAS,GAAT,SAAS,CAAK;QAC7B,eAAU,GAAV,UAAU,CAAc;QAzFpC,eAAU,GAAG,IAAI,YAAY,EAAO,CAAC;QACrC,gBAAW,GAAG,IAAI,YAAY,EAAO,CAAC;QAMvC,iBAAY,GAAQ,EAAE,CAAC;QAsBhC,UAAK,GAAG,IAAI,KAAK,EAAE,CAAC;QAEpB,cAAS,GAAG,IAAI,KAAK,EAAgB,CAAC;QAEtC,gBAAW,GAAG;YACZ,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,uCAAuC,CAAC;YACzE,KAAK,EAAE,GAAG;YACV,MAAM,EAAE,GAAG;YACX,WAAW,EAAE,IAAI;SAClB,CAAC;QAEF,SAAI,GAAG;YACL,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,4BAA4B,CAAC,EAAE,KAAK,EAAE,MAAM,EAAE,KAAK,EAAE,EAAE,EAAC;YAC3F,EAAE,KAAK,EAAE,IAAI,EAAE,KAAK,EAAE,sBAAsB,EAAE,KAAK,EAAE,GAAG,EAAC;YACzD,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,gCAAgC,CAAC,EAAE,KAAK,EAAE,UAAU,EAAE,KAAK,EAAE,EAAE;gBAChG,MAAM,EAAE;oBACN,IAAI,EAAE,WAAW,CAAC,MAAM;oBACxB,OAAO,EAAE,EAAE;iBACZ;gBACD,SAAS,EAAE,EAAE,IAAI,EAAE,SAAS,EAAE,OAAO,EAAE,EAAE,QAAQ,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,2BAA2B,CAAC,EAAE,SAAS,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,0BAA0B,CAAC,EAAE,EAAE;gBAC/K,UAAU,EAAE;oBACV,EAAE,IAAI,EAAE,UAAU,EAAE,QAAQ,EAAE,IAAI,EAAE;iBACrC;aACF;YACD,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,iCAAiC,CAAC,EAAE,KAAK,EAAE,WAAW,EAAE,KAAK,EAAE,EAAE;gBAClG,MAAM,EAAE;oBACN,IAAI,EAAE,aAAa;oBACnB,OAAO,EAAE;wBACP,SAAS,EAAE,sCAAsC;wBACjD,QAAQ,EAAE,KAAK;wBACf,WAAW;;;;wBAAE,CAAC,CAAC;4BACb,CAAC,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC,CAAC,QAAQ,CAAC,KAAK,GAAG,CAAC,CAAC,QAAQ,CAAC,KAAK,GAAG,EAAE,CAAC,CAAC;4BACjE,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC;yBACtB,CAAA;wBACD,KAAK;;;;wBAAE,CAAC,CAAC;4BACP,OAAO,CAAC,GAAG,CAAC,OAAO,EAAE,CAAC,CAAC,CAAC;yBACzB,CAAA;qBACF;iBACF;aACF;SACF,CAAC;QAEF,aAAQ,GAAG;YACT,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,4BAA4B,CAAC,EAAE,KAAK,EAAE,MAAM,EAAE,KAAK,EAAE,GAAG,EAAE,MAAM,EAAE,IAAI,EAAE;YAC3G,EAAE,KAAK,EAAE,IAAI,EAAE,KAAK,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,EAAE,MAAM,EAAE,IAAI,EAAE;SACvD,CAAA;;QAID,iCAA4B,GAAG,IAAI,KAAK,EAA+B,CAAC;QAatE,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,IAAI,IAAI,YAAY,CAAC,QAAQ,EAAE,SAAS,CAAC,CAAC;KAC3E;;;;;IApFF,IAAa,KAAK,CAAC,IAAI;QACrB,IAAI,IAAI,IAAI,IAAI,CAAC,MAAM,GAAG,CAAC,EAAE;;YAE3B,IAAI,CAAC,OAAO;;;;YAAC,KAAK;;oBACZ,2BAA2B,GAAG,IAAIC,6BAA2B,CAAC,KAAK,CAAC,oBAAoB,EAAE,KAAK,CAAC,SAAS,GAAG,KAAK,CAAC,SAAS,CAAC,KAAK,GAAG,KAAK,CAAC,SAAS,EAAE,KAAK,CAAC,QAAQ,CAAC;gBACxK,IAAI,CAAC,4BAA4B,CAAC,IAAI,CAAC,2BAA2B,CAAC,CAAC;aACrE,EAAE,CAAC;YACJ,IAAI,CAAC,4BAA4B,CAAC,OAAO;;;;YAAC,KAAK;;oBACzC,WAAW,GAAG,IAAI,YAAY,CAAC,IAAI,EAAC,KAAK,CAAC,oBAAoB,CAAC;gBACnE,WAAW,CAAC,QAAQ,GAAG,KAAK,CAAC,QAAQ,CAAC;gBACtC,IAAG,KAAK,CAAC,SAAS,EAAC;oBACjB,WAAW,CAAC,SAAS,GAAG,KAAK,CAAC,SAAS,CAAC,KAAK,CAAC;iBAC/C;;gBAED,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;aAClC,EAAE,CAAC;SACL;KACF;;;;IAqED,QAAQ;QACN,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE;YAClB,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC;SAC5C;;YACG,UAAU,GAAG,IAAI,KAAK,EAAE;QAC5B,IAAI,IAAI,CAAC,QAAQ,KAAK,eAAe,EAAE;YACrC,UAAU,GAAG,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,MAAM;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,EAAE,KAAK,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,EAAE;uBACtF,CAAC,CAAC,kBAAkB,KAAK,QAAQ;uBACjC,CAAC,CAAC,qBAAqB;uBACvB,CAAC,CAAC,qBAAqB,CAAC,QAAQ,KAAK,iBAAiB,EAAC,CAAC,CAAC;SAC/D;aAAM;YACL,UAAU,GAAG,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,MAAM;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,EAAE,KAAK,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,EAAE,IAAI,CAAC,CAAC,kBAAkB,KAAK,QAAQ,EAAC,CAAC,CAAC;SACpI;QACD,IAAI,IAAI,CAAC,4BAA4B,IAAI,IAAI,CAAC,4BAA4B,CAAC,MAAM,GAAG,CAAC,EAAE;YACrF,KAAK,MAAM,KAAK,IAAI,IAAI,CAAC,4BAA4B,EAAE;;sBAC/C,QAAQ,GAAG,UAAU,CAAC,IAAI;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,EAAE,KAAK,KAAK,CAAC,oBAAoB,EAAC;gBAC1E,IAAI,QAAQ,EAAE;oBACZ,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC;iBAC5C;aACF;YACD,KAAK,MAAM,QAAQ,IAAI,UAAU,EAAE;gBACjC,IAAI,IAAI,CAAC,KAAK,CAAC,SAAS;;;;gBAAC,IAAI,IAAI,IAAI,CAAC,EAAE,KAAK,QAAQ,CAAC,EAAE,EAAC,KAAK,CAAC,CAAC,EAAE;oBAChE,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC;iBAC5C;aACF;SACF;aAAM;YACL,IAAI,CAAC,KAAK,GAAG,UAAU,CAAC;SACzB;QAED,IAAI,CAAC,SAAS,CAAC,OAAO;;;;QAAC,QAAQ;YAC7B,QAAQ,CAAC,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI;;;;YAAC,IAAI,IAAI,IAAI,CAAC,EAAE,KAAK,QAAQ,CAAC,oBAAoB,EAAC,CAAC,IAAI,CAAC;SACzF,EAAC,CAAA;KACH;;;;IAGD,eAAe;QACb,IAAI,IAAI,CAAC,4BAA4B,IAAI,IAAI,CAAC,4BAA4B,CAAC,MAAM,GAAG,CAAC,EAAE;YACrF,KAAK,MAAM,KAAK,IAAI,IAAI,CAAC,4BAA4B,EAAE;gBACrD,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,oBAAoB,CAAC,CAAC;aAChD;SACF;KACF;;;;IAED,MAAM;QACJ,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC;QACxB,IAAI,IAAI,CAAC,IAAI,CAAC,WAAW,IAAI,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,EAAE;;kBACjD,CAAC,GAAG,IAAI,CAAC,SAAS,CAAC,SAAS;;;;YAAC,CAAC,IAAI,CAAC,CAAC,oBAAoB,KAAK,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,oBAAoB,EAAC;YACnH,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;YAC5B,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;SACpC;aAAM;YACL,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,iCAAiC,CAAC,CAAC,CAAC;SACjF;KACF;;;;IAED,MAAM;QACJ,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE;YACrB,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,mCAAmC,CAAC,CAAC,CAAC;YAClF,OAAO;SACR;;cACK,QAAQ,GAAW,IAAI,CAAC,WAAW,CAAC,oBAAoB;;cACxD,CAAC,GAAG,IAAI,CAAC,SAAS,CAAC,SAAS;;;;QAAC,CAAC,IAAI,CAAC,CAAC,oBAAoB,KAAK,QAAQ,EAAC;QAC5E,IAAI,CAAC,KAAK,CAAC,EAAE;YACX,OAAO;SACR;QACD,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,SAAS,EAAE,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC;QAEzC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;QACnC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,QAAQ,EAAE,IAAI,CAAC,CAAC;;;;;;;;;;;;;KAerC;;;;IAED,QAAQ;QACN,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE;YACrB,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,mCAAmC,CAAC,CAAC,CAAC;YAClF,OAAO;SACR;;cACK,QAAQ,GAAW,IAAI,CAAC,WAAW,CAAC,oBAAoB;;cACxD,CAAC,GAAG,IAAI,CAAC,SAAS,CAAC,SAAS;;;;QAAC,CAAC,IAAI,CAAC,CAAC,oBAAoB,KAAK,QAAQ,EAAC;QAC5E,IAAI,CAAC,KAAK,IAAI,CAAC,SAAS,CAAC,MAAM,GAAG,CAAC,EAAE;YACnC,OAAO;SACR;QACD,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,SAAS,EAAE,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC;QAEzC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;QACnC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,QAAQ,EAAE,IAAI,CAAC,CAAC;;;;;;;;;;;;KAerC;;;;;IAED,eAAe,CAAC,IAAS;QACvB,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,IAAI,CAAC;KAC9B;;;;;;;;IAEO,SAAS,CAAC,GAAe,EAAE,EAAU,EAAE,EAAU;QACvD,GAAG,CAAC,EAAE,CAAC,GAAG,GAAG,CAAC,MAAM,CAAC,EAAE,EAAE,CAAC,EAAE,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACxC,OAAO,GAAG,CAAC;KACZ;;;;IAED,OAAO;QACL,IAAI,CAAC,4BAA4B,GAAG,IAAI,KAAK,EAAE,CAAC;QAChD,KAAK,MAAM,IAAI,IAAI,IAAI,CAAC,SAAS,EAAE;YACjC,IAAI,CAAC,4BAA4B,CAAC,IAAI,CAAC,IAAIA,6BAA2B,CACpE,IAAI,CAAC,oBAAoB,EAAE,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;SAC9D;;cACK,MAAM,GAAG,EAAE,KAAK,EAAE,IAAI,CAAC,4BAA4B,EAAE,UAAU,EAAE,IAAI,EAAE;QAC7E,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;KAC/B;;;;IAED,WAAW;QACT,IAAI,CAAC,UAAU,CAAC,IAAI,EAAE,CAAC;KACxB;;;;IAED,aAAa;;cACL,UAAU,GAAU,IAAI,CAAC,aAAa,CAAC,QAAQ;QACrD,IAAI,UAAU,IAAI,UAAU,CAAC,MAAM,GAAG,CAAC,EAAE;YACvC,UAAU,CAAC,OAAO;;;;YAAC,MAAM;;oBACnB,IAAI,GAAG,IAAI,YAAY,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE,MAAM,CAAC,IAAI,CAAC,EAAE,CAAC;;sBACvD,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC,SAAS;;;;gBAAC,GAAG,IAAI,GAAG,CAAC,oBAAoB,KAAK,MAAM,CAAC,IAAI,CAAC,EAAE,EAAC;gBAC1F,IAAI,KAAK,GAAG,CAAC,CAAC,EAAE;oBACd,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;iBACjC;gBACD,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;aAC3B,EAAC,CAAC;YACH,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;SACpC;;QAED,IAAI,CAAC,aAAa,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;QACvC,IAAI,CAAC,cAAc,CAAC,KAAK,EAAE,CAAC;KAC7B;;;;IAED,YAAY;;QAEV,IAAI,CAAC,aAAa,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;QACvC,IAAI,CAAC,cAAc,CAAC,KAAK,EAAE,CAAC;KAC7B;;;;;IAED,YAAY,CAAC,CAAM;;YACb,OAAO,GAAG,IAAI,KAAK,EAAa;;;;;QAKpC,IAAI,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE;YACnC,KAAK,MAAM,MAAM,IAAI,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE;gBACzC,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,QAAQ,EAAE,MAAM,CAAC,CAAC;aAC9C;YACD,IAAI,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,WAAW,IAAI,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC,MAAM,GAAG,CAAC,EAAE;;sBACnF,UAAU,GAAG,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC;gBACzD,IAAI,CAAC,WAAW,CAAC,iBAAiB,CAAC,UAAU,CAAC,IAAI,EAAE,QAAQ,EAC1D,UAAU,CAAC,IAAI,EAAE,YAAY,CAAC,UAAU,CAAC,CAAC;aAC7C;SACF;QACD,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC;QAC3C,IAAI,IAAI,CAAC,OAAO,CAAC,kBAAkB,CAAC,MAAM,GAAG,CAAC,EAAE;YAC9C,KAAK,MAAM,QAAQ,IAAI,IAAI,CAAC,OAAO,CAAC,kBAAkB,EAAE;gBACtD,IAAI,CAAC,OAAO,CAAC,IAAI;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,GAAG,KAAK,QAAQ,CAAC,GAAG,EAAC,EAAE;oBAC9C,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;iBACxB;aACF;SACF;QACD,IAAI,IAAI,CAAC,OAAO,CAAC,wBAAwB,CAAC,MAAM,GAAG,CAAC,EAAE;YACpD,KAAK,MAAM,QAAQ,IAAI,IAAI,CAAC,OAAO,CAAC,wBAAwB,EAAE;gBAC5D,IAAI,CAAC,OAAO,CAAC,IAAI;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,GAAG,KAAK,QAAQ,CAAC,GAAG,EAAC,EAAE;oBAC9C,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;iBACxB;aACF;SACF;QACD,IAAI,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE;YACtB,KAAK,MAAM,CAAC,IAAI,OAAO,EAAE;gBACvB,IAAI,CAAC,WAAW,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;aAChC;SACF;QACD,IAAI,CAAC,WAAW,CAAC,cAAc,CAAC,YAAY,CAAC,WAAW,CAAC,CAAC;QAC1D,IAAI,CAAC,WAAW,CAAC,iBAAiB,CAAC,CAAC,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;QACrD,IAAI,CAAC,WAAW,CAAC,eAAe,EAAE,CAAC,IAAI;;;;QAAC,CAAC,IAAY;YACnD,CAAC,CAAC,WAAW,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;YAC7B,CAAC,CAAC,QAAQ,CAAC,EAAE,CAAC,aAAa,EAAE,CAAC;;YAE9B,IAAG,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE;gBACrB,IAAI,CAAC,WAAW,CAAC,UAAU,CAAC,eAAe,GAAG,IAAI,CAAC,WAAW,CAAC,UAAU,CAAC,eAAe,CAAC,MAAM;;;;gBAAC,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,GAAG,KAAK,CAAC,CAAC,GAAG,EAAC,EAAC,CAAC;aAC5I;SACF,EAAC,CAAC;KACJ;;;YAvTF,SAAS,SAAC;gBACT,QAAQ,EAAE,kBAAkB;gBAC5B,86FAA4C;gBAE5C,SAAS,EAAE;oBACR,YAAY;iBACd;;aACF;;;;YAfQ,sBAAsB;YAFtB,eAAe;YAQD,iBAAiB;YAZhB,iBAAiB,uBA8GpC,QAAQ;yCACR,MAAM,SAAC,SAAS;4CAChB,MAAM,SAAC,iBAAiB;YAzGD,YAAY,uBA0GnC,QAAQ;;;yBAzFV,MAAM;0BACN,MAAM;0BACN,SAAS,SAAC,kBAAkB;mBAC5B,SAAS,SAAC,MAAM;4BAChB,SAAS,SAAC,eAAe;6BACzB,SAAS,SAAC,gBAAgB;2BAE1B,KAAK;oBACL,KAAK;;MAySK,oBAAoB;;;;;IAE/B,YACU,OAA+B,EAC/B,UAAwB;QADxB,YAAO,GAAP,OAAO,CAAwB;QAC/B,eAAU,GAAV,UAAU,CAAc;QAHlC,YAAO,GAAG,IAAI,KAAK,EAAE,CAAC;QAKpB,IAAI,CAAC,OAAO,GAAG,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,MAAM;;;;YAAC,CAAC,IAAI,CAAC,CAAC,kBAAkB,KAAK,QAAQ,EAAC,CAAC,CAAC;KAC7F;;;;;IAED,SAAS,CAAC,IAAI;QACZ,IAAI,IAAI,IAAI,IAAI,CAAC,MAAM,GAAG,CAAC,EAAE;YAC3B,OAAO,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,2BAA2B,CAAC,CAAC;SAC/D;aAAM;YACL,OAAO,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,8BAA8B,CAAC,CAAC;SAClE;KAEF;CACF;;;;;;;;ICzVG,IAAK,IAAI;IACT,MAAO,MAAM;IACb,cAAe,cAAc;IAC7B,WAAY,WAAW;;;;IAIvB,oBAAqB,oBAAoB;;;;IAIzC,oBAAqB,oBAAoB;;;;IAIzC,eAAgB,eAAe;;;;IAI/B,gBAAiB,gBAAgB;;;;IAIjC,gBAAiB,gBAAgB;;;;IAIjC,kBAAmB,kBAAkB;;;;IAIrC,UAAW,UAAU;;;;IAIrB,kCAAmC,kCAAkC;;;;IAIrE,aAAc,aAAa;;;;IAI3B,kBAAmB,kBAAkB;;;;IAIrC,mBAAoB,mBAAmB;;;;IAIvC,YAAa,YAAY;;;;IAIzB,cAAe,cAAc;;;;IAI7B,kBAAmB,kBAAkB;;;;IAIrC,WAAY,WAAW;;;;IAIvB,cAAe,cAAc;;;;IAI7B,OAAQ,OAAO;;;;IAIf,cAAe,cAAc;;;;IAI7B,oBAAqB,oBAAoB;;;;IAIzC,SAAU,SAAS;;;;IAInB,eAAgB,eAAe;;;;IAI/B,iBAAkB,iBAAiB;IACnC,kBAAmB,kBAAkB;IACrC,cAAe,cAAc;IAC7B,kBAAmB,kBAAkB;IACrC,eAAgB,eAAe;IAC/B,oBAAqB,oBAAoB;IACzC,wBAAyB,wBAAwB;;;;IAIjD,qBAAsB,qBAAqB;IAC3C,gBAAiB,gBAAgB;;;;IAIjC,eAAgB,eAAe;IAC/B,iBAAkB,iBAAiB;IACnC,iBAAkB,iBAAiB;IACnC,oBAAqB,oBAAoB;IACzC,kBAAmB,kBAAkB;IACrC,uBAAwB,uBAAuB;IAC/C,8BAA+B,8BAA8B;IAC7D,qBAAsB,qBAAqB;IAC3C,gBAAiB,gBAAgB;IACjC,eAAgB,eAAe;;;;;;;ACjHnC,MAAaC,kCAAgC;IAWzC;QARS,cAAS,GAAWA,kCAAgC,CAAC,WAAW,CAAC;QAStE,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;QACpB,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;QACxB,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;QAC5B,IAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC;QAChC,IAAI,CAAC,wBAAwB,GAAG,IAAI,KAAK,EAAqC,CAAC;KAClF;;AAhBMA,8CAAW,GAAG,qCAAqC,CAAC;;;;;;ACJ/D,MA6Ba,yCAAyC;;;;;;;;;;;;;;IAkEpD,YACU,QAAkC,EAClC,QAAkB,EAClB,OAA+B,EAC/B,IAAuB,EACvB,YAA4B,EAC5B,OAAwB,EACxB,IAAiB,EACL,GAAsB,EACf,QAAgB,EACR,SAAc,EAC7B,UAAwB;QAVpC,aAAQ,GAAR,QAAQ,CAA0B;QAClC,aAAQ,GAAR,QAAQ,CAAU;QAClB,YAAO,GAAP,OAAO,CAAwB;QAC/B,SAAI,GAAJ,IAAI,CAAmB;QACvB,iBAAY,GAAZ,YAAY,CAAgB;QAC5B,YAAO,GAAP,OAAO,CAAiB;QACxB,SAAI,GAAJ,IAAI,CAAa;QACL,QAAG,GAAH,GAAG,CAAmB;QACf,aAAQ,GAAR,QAAQ,CAAQ;QACR,cAAS,GAAT,SAAS,CAAK;QAC7B,eAAU,GAAV,UAAU,CAAc;QA3E9C,QAAG,GAAG,8BAA8B,CAAC;QACrC,eAAU,GAAG,sCAAsC,CAAC;QAE1C,eAAU,GAAG,IAAI,YAAY,EAAO,CAAC;QACrC,gBAAW,GAAG,IAAI,YAAY,EAAO,CAAC;QAgCvC,iBAAY,GAAQ,EAAE,CAAC;QAKhC,cAAS,GAAY,KAAK,CAAC;QAE3B,kBAAa,GAAY,KAAK,CAAC;QAE/B,wBAAmB,GAAqC,IAAIA,kCAAgC,EAAE,CAAC;QAE/F,4BAAuB,GAAqC,IAAI,CAAC;;QAIjE,wBAAmB,GAAW,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,oDAAoD,CAAC,CAAC;QAI9G,cAAS,GAAc,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC;QAE9C,gBAAW,GAAG;YACZ,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,sDAAsD,CAAC;YACxF,KAAK,EAAE,GAAG;YACV,MAAM,EAAE,GAAG;YACX,WAAW,EAAE,IAAI;SAClB,CAAC;QAcE,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,IAAI,IAAI,YAAY,CAAC,QAAQ,EAAE,SAAS,CAAC,CAAC;KAC5E;;;;;IAtEH,IAAa,KAAK,CAAC,CAAC;QAClB,IAAI,CAAC,mBAAmB,GAAG,IAAIA,kCAAgC,EAAE,CAAC;QAClE,IAAI,CAAC,EAAE;YACL,IAAI,CAAC,mBAAmB,CAAC,MAAM,GAAG,CAAC,CAAC,MAAM,CAAC;YAC3C,IAAI,CAAC,mBAAmB,CAAC,UAAU,GAAG,CAAC,CAAC,UAAU,CAAC;YACnD,IAAI,CAAC,SAAS,GAAG,CAAC,CAAC,MAAM,CAAC;YAC1B,IAAI,CAAC,aAAa,GAAG,CAAC,CAAC,UAAU,CAAC;YAClC,IAAG,CAAC,CAAC,eAAe,KAAK,CAAC,CAAC,eAAe,YAAY,UAAU,CAAC,KAAK,CAAC,CAAC,CAAC,eAAe,EAAE,aAAa,CAAC,EAAE;gBACxG,IAAI,CAAC,mBAAmB,CAAC,eAAe,GAAG,oBAAC,CAAC,CAAC,CAAC,eAAe,EAAE,aAAa,IAAwB,KAAK,CAAC;;aAE5G;YACD,IAAG,CAAC,CAAC,wBAAwB,IAAI,CAAC,CAAC,wBAAwB,CAAC,MAAM,GAAG,CAAC,EAAE;;oBAClE,mBAAmB,GAAuC,IAAI,KAAK,EAAmB;gBAC1F,KAAI,IAAI,IAAI,IAAI,CAAC,CAAC,wBAAwB,EAAE;;wBACpC,QAAQ,GAAG,IAAI,eAAe,CAAC,IAAI,CAAC,SAAS,CAAC;oBAClD,QAAQ,CAAC,eAAe,GAAG,IAAI,CAAC,eAAe,CAAC;oBAChD,QAAQ,CAAC,aAAa,GAAG,IAAI,CAAC,aAAa,CAAC;oBAC5C,QAAQ,CAAC,cAAc,GAAG,IAAI,CAAC,cAAc,CAAC;oBAC9C,QAAQ,CAAC,YAAY,GAAG,IAAI,CAAC,YAAY,CAAC;oBAC1C,IAAG,CAAC,QAAQ,CAAC,mBAAmB,EAAE;wBAChC,QAAQ,CAAC,mBAAmB,GAAG,IAAI,SAAS,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;qBAC9D;oBACD,QAAQ,CAAC,mBAAmB,CAAC,KAAK,GAAG,IAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC,mBAAmB,CAAC,KAAK,GAAG,IAAI,CAAC;oBACtG,mBAAmB,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;iBACtC;gBACD,IAAI,CAAC,mBAAmB,CAAC,wBAAwB,GAAG,mBAAmB,CAAC;aACzE;SACF;KACF;;;;IA4CD,QAAQ;QACN,IAAG,IAAI,CAAC,YAAY,CAAC,QAAQ,IAAI,IAAI,CAAC,YAAY,CAAC,QAAQ,IAAI,UAAU,EAAE;YACzE,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;SACvB;aAAK;YACJ,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;SACxB;KACF;;;;;IAED,mBAAmB,CAAC,IAAS;QAC3B,IAAI,CAAC,uBAAuB,CAAC,IAAI,CAAC,CAAC;KACpC;;;;;IAED,uBAAuB,CAAC,IAAY;QAClC,IAAI,CAAC,QAAQ,EAAE,CAAC;QAChB,IAAI,IAAI,CAAC,mBAAmB,CAAC,eAAe,EAAE;YAC5C,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,mBAAmB,CAAC,eAAe,CAAC,CAAC;SACvE;aAAM;YACL,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,EAAE,CAAC,CAAC;SACjC;QACD,IAAI,CAAC,IAAI,CAAC,eAAe,EAAE,CAAC,IAAI;;;;QAAC,CAAC,cAAsB;;YAEtD,IAAI,CAAC,mBAAmB,CAAC,eAAe,GAAG,cAAc,CAAC;SAC3D,EAAC,CAAC;KACJ;;;;IAED,QAAQ;;QAEN,IAAI,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE;YACnC,KAAK,MAAM,MAAM,IAAI,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE;;gBAEzC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,QAAQ,EAAE,MAAM,CAAC,CAAC;aACvC;YACD,IAAI,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,WAAW,IAAI,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC,MAAM,GAAG,CAAC,EAAE;;sBACnF,UAAU,GAAG,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC;gBACzD,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,UAAU,CAAC,IAAI,EAAE,QAAQ,EACnD,UAAU,CAAC,IAAI,EAAE,YAAY,CAAC,UAAU,CAAC,CAAC;aAC7C;SACF;;cACK,OAAO,GAAG,IAAI,KAAK,EAAE;QAC3B,IAAI,IAAI,CAAC,OAAO,CAAC,eAAe,CAAC,MAAM,GAAG,CAAC,EAAE;YAC3C,KAAK,MAAM,QAAQ,IAAI,IAAI,CAAC,OAAO,CAAC,eAAe,EAAE;gBACnD,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;;aAExB;SACF;QACD,IAAI,IAAI,CAAC,OAAO,CAAC,sBAAsB,CAAC,MAAM,GAAG,CAAC,EAAE;YAClD,KAAK,MAAM,QAAQ,IAAI,IAAI,CAAC,OAAO,CAAC,sBAAsB,EAAE;gBAC1D,IAAI,CAAC,OAAO,CAAC,IAAI;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,GAAG,KAAK,QAAQ,CAAC,GAAG,EAAC,EAAE;oBAC9C,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;iBACxB;;aAEF;SACF;QACD,IAAI,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE;YACtB,KAAK,MAAM,CAAC,IAAI,OAAO,EAAE;gBACvB,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;aACzB;SACF;KACF;;;;;IAED,QAAQ,CAAC,IAAS;QAChB,IAAG,CAAC,IAAI,EAAE;YACR,IAAI,CAAC,uBAAuB,GAAG,IAAIA,kCAAgC,EAAE,CAAC;YACtE,IAAI,CAAC,uBAAuB,CAAC,MAAM,GAAG,IAAI,CAAC;YAC3C,IAAI,CAAC,uBAAuB,CAAC,UAAU,GAAG,IAAI,CAAC,mBAAmB,CAAC,UAAU,CAAC;YAC9E,IAAI,CAAC,uBAAuB,CAAC,eAAe,GAAG,IAAI,CAAC,mBAAmB,CAAC,eAAe,CAAC;YACxF,IAAI,CAAC,uBAAuB,CAAC,wBAAwB,GAAG,IAAI,KAAK,EAAmB,CAAC;YACrF,IAAG,IAAI,CAAC,mBAAmB,IAAI,IAAI,CAAC,mBAAmB,CAAC,wBAAwB,EAAE;gBAChF,IAAI,CAAC,mBAAmB,CAAC,wBAAwB,CAAC,OAAO;;;;gBAAC,GAAG,IAAI,IAAI,CAAC,uBAAuB,CAAC,wBAAwB,CAAC,IAAI,oBAAC,GAAG,CAAC,KAAK,EAAE,GAAQ,EAAC,CAAC;aAClJ;YACD,IAAI,CAAC,mBAAmB,GAAG,IAAIA,kCAAgC,EAAE,CAAC;SACnE;aAAK;YACJ,IAAG,IAAI,CAAC,uBAAuB,EAAE;gBAC/B,IAAI,CAAC,mBAAmB,CAAC,MAAM,GAAG,IAAI,CAAC;gBACvC,IAAI,CAAC,mBAAmB,CAAC,UAAU,GAAG,IAAI,CAAC,uBAAuB,CAAC,UAAU,CAAC;gBAC9E,IAAI,CAAC,mBAAmB,CAAC,eAAe,GAAG,IAAI,CAAC,uBAAuB,CAAC,eAAe,CAAC;gBACxF,IAAI,CAAC,mBAAmB,CAAC,wBAAwB,GAAG,IAAI,KAAK,EAAmB,CAAC;gBACjF,IAAG,IAAI,CAAC,uBAAuB,CAAC,wBAAwB,EAAE;oBACxD,IAAI,CAAC,uBAAuB,CAAC,wBAAwB,CAAC,OAAO;;;;oBAAC,GAAG,IAAI,IAAI,CAAC,mBAAmB,CAAC,wBAAwB,CAAC,IAAI,oBAAC,GAAG,CAAC,KAAK,EAAE,GAAQ,EAAC,CAAC;iBAClJ;gBACD,IAAI,CAAC,uBAAuB,GAAG,IAAI,CAAC;aACrC;SACF;QACD,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;KACrB;;;;;IAED,QAAQ,CAAC,IAAS;QAChB,IAAG,IAAI,IAAI,IAAI,EAAE;YACf,IAAG,CAAC,IAAI,CAAC,mBAAmB,CAAC,wBAAwB,IAAI,IAAI,CAAC,mBAAmB,CAAC,wBAAwB,CAAC,MAAM,GAAG,CAAC,EAAE;gBACrH,IAAI,CAAC,2BAA2B,CAAC,IAAI,CAAC,mBAAmB,CAAC,wBAAwB,CAAC,CAAC;aACrF;SACF;KACF;;;;;IAED,2BAA2B,CAAC,wBAA6D;;YACnF,MAAW;;cACT,WAAW,GAAG,IAAI,CAAC,QAAQ,CAAC,uBAAuB,CAAC,iBAAiB,CAAC;;cACtE,OAAO,GAAG,WAAW,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC;QACjD,OAAO,CAAC,QAAQ,CAAC,MAAM,GAAG,wBAAwB,CAAC;;QAEnD,OAAO,CAAC,QAAQ,CAAC,WAAW,CAAC,SAAS;;;;QAAC,CAAC,EAAuC;YAC7E,IAAI,CAAC,mBAAmB,CAAC,wBAAwB,GAAG,EAAE,CAAC;YACvD,MAAM,CAAC,KAAK,EAAE,CAAC;SAChB,EAAC,CAAC;QACH,OAAO,CAAC,QAAQ,CAAC,UAAU,CAAC,SAAS;;;;QAAC,CAAC,EAAO;YAC5C,MAAM,CAAC,KAAK,EAAE,CAAC;SAChB,EAAC,CAAC;;cACG,WAAW,GAAG;YAClB,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,2DAA2D,CAAC;YAC7F,KAAK,EAAE,GAAG;YACV,MAAM,EAAE,GAAG;YACX,OAAO,EAAE,OAAO,CAAC,QAAQ,CAAC,YAAY;YACtC,WAAW,EAAE,IAAI;SAClB;QACD,MAAM,GAAG,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,OAAO,EAAE,WAAW,CAAC,CAAC;KACvD;;;;IAED,OAAO;;cACC,MAAM,GAAG,EAAE,KAAK,EAAE,IAAI,CAAC,mBAAmB,EAAE,UAAU,EAAE,IAAI,EAAE;QACpE,IAAG,IAAI,CAAC,SAAS,IAAI,IAAI,CAAC,mBAAmB,CAAC,MAAM,IAAI,IAAI,CAAC,aAAa,IAAI,IAAI,CAAC,mBAAmB,CAAC,UAAU,EAAE;;kBAC3G,GAAG,GAAG,4EAA4E,IAAI,CAAC,OAAO,CAAC,SAAS,yBAAyB,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,EAAE,EAAE;YACrK,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,SAAS;;;;YAAC,CAAC,EAAO;gBACjC,IAAI,IAAI,CAAC,OAAO,CAAC,IAAI,KAAK,WAAW,CAAC,EAAE,IAAI,EAAE,IAAI,EAAE,CAAC,MAAM,GAAG,CAAC,EAAE;oBAC/D,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,8CAA8C,CAAC,CAAC,CAAC;iBAC9F;qBAAK;oBACJ,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;iBAC/B;aACF,EAAC,CAAC;SACN;aAAK;YACJ,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;SAC/B;KACF;;;;IACD,WAAW;QACT,IAAI,CAAC,UAAU,CAAC,IAAI,EAAE,CAAC;KACxB;;;YA/NF,SAAS,SAAC;gBACT,QAAQ,EAAE,yCAAyC;gBACnD,imLAAmE;gBAEnE,SAAS,EAAE;oBACT,YAAY;iBACd;;aACD;;;;YA3BuG,wBAAwB;YAAlC,QAAQ;YAO7F,sBAAsB;YADtB,iBAAiB;YAHjB,cAAc;YAEd,eAAe;YAWf,WAAW;YAhB8G,iBAAiB,uBAsG9I,QAAQ;yCACR,MAAM,SAAC,SAAS;4CAChB,MAAM,SAAC,iBAAiB;YAvGD,YAAY,uBAwGnC,QAAQ;;;kBA5EV,WAAW,SAAC,OAAO;yBAInB,MAAM;0BACN,MAAM;oBAGN,KAAK;2BA6BL,KAAK;0BACL,SAAS,SAAC,kBAAkB;mBAC5B,SAAS,SAAC,MAAM;mBAChB,SAAS,SAAC,MAAM;;MAkLN,yCAAyC;;;;IACpD,YACU,UAAwB;QAAxB,eAAU,GAAV,UAAU,CAAc;KAC7B;;;;;IAEL,SAAS,CAAC,IAAS;QACjB,IAAI,IAAI,IAAI,oBAAC,IAAI,IAAsC,MAAM,EAAE;YAC7D,OAAO,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,sCAAsC,CAAC,CAAC;SAC1E;QACD,OAAO,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,yCAAyC,CAAC,CAAC;KAC7E;CACF;;;;;;ACnQD,MAuCa,uBAAuB;;;;;;;;;IAElC,YACU,OAA+B,EAC/B,OAAwB,EACxB,QAAkB,EAClB,YAA4B,EAC5B,QAAkC,EAClC,SAAuB;QALvB,YAAO,GAAP,OAAO,CAAwB;QAC/B,YAAO,GAAP,OAAO,CAAiB;QACxB,aAAQ,GAAR,QAAQ,CAAU;QAClB,iBAAY,GAAZ,YAAY,CAAgB;QAC5B,aAAQ,GAAR,QAAQ,CAA0B;QAClC,cAAS,GAAT,SAAS,CAAc;KAEhC;;;;;;IAMD,sBAAsB,CAAC,GAAQ;QAC7B,IAAI,CAAC,OAAO,CAAC,YAAY,GAAG,GAAG,CAAC,YAAY,CAAC;QAC7C,IAAI,CAAC,OAAO,CAAC,cAAc,GAAG,IAAI,CAAC,gBAAgB,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC;KACzE;;;;;;IAEO,gBAAgB,CAAC,GAAU;;cAC3B,cAAc,GAA4B,EAAE;QAClD,IAAI,GAAG,EAAE;YACP,GAAG,CAAC,OAAO;;;;YAAC,CAAC,OAA8B;gBACzC,IAAI,CAAC,gBAAgB,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC;gBAC1C,cAAc,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;aAC9B,EAAC,CAAC;SACJ;QACD,OAAO,cAAc,CAAC;KACvB;;;;;;IAEO,gBAAgB,CAAC,GAAqB;QAC5C,IAAI,GAAG,IAAI,GAAG,CAAC,MAAM,GAAG,CAAC,EAAE;YACzB,GAAG,CAAC,OAAO;;;;YAAC,CAAC,IAAoB;gBAC/B,QAAQ,IAAI,CAAC,UAAU;oBACrB,KAAK,wBAAwB,CAAC,EAAE;wBAC9B,MAAM;oBACR,KAAK,wBAAwB,CAAC,mBAAmB;wBAC/C,IAAI,CAAC,MAAM,GAAG,yBAAyB,CAAC;wBACxC,IAAI,CAAC,SAAS,GAAG,IAAI,yBAAyB,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;wBAC/D,IAAI,CAAC,YAAY,GAAG,EAAE,CAAC;wBACvB,MAAM;oBACR,KAAK,wBAAwB,CAAC,kBAAkB;wBAC9C,IAAI,CAAC,MAAM,GAAG,qBAAqB,CAAC;;8BAC9B,MAAM,GAAG;4BACb,QAAQ,EAAE,eAAe;4BACzB,GAAG,EAAE,KAAK;yBACX;wBACD,IAAI,CAAC,SAAS,GAAG,IAAI,qBAAqB,CAAC,MAAM,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC;wBACnE,IAAI,CAAC,YAAY,GAAG,MAAM,CAAC;wBAC3B,MAAM;oBACR,KAAK,wBAAwB,CAAC,sBAAsB;wBAClD,IAAI,CAAC,MAAM,GAAG,qBAAqB,CAAC;;8BAC9B,YAAY,GAAG;4BACnB,QAAQ,EAAE,eAAe;4BACzB,GAAG,EAAE,QAAQ;yBACd;wBACD,IAAI,CAAC,SAAS,GAAG,IAAI,qBAAqB,CAAC,YAAY,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC;wBACzE,IAAI,CAAC,YAAY,GAAG,YAAY,CAAA;wBAChC,MAAM;oBACR,KAAK,wBAAwB,CAAC,cAAc;wBAC1C,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC;wBAC1C,MAAM;oBACR,KAAK,wBAAwB,CAAC,gBAAgB;wBAC5C,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC;wBAC1C,MAAM;oBACR,KAAK,wBAAwB,CAAC,SAAS;wBACrC,IAAI,CAAC,MAAM,GAAG,kBAAkB,CAAC;wBACjC,IAAI,CAAC,SAAS,GAAG,IAAI,kBAAkB,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;wBACxD,MAAM;oBACR,KAAK,wBAAwB,CAAC,OAAO;wBACnC,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC;wBAC1C,MAAM;oBACR,KAAK,wBAAwB,CAAC,gBAAgB;wBAC5C,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC;wBAC1C,MAAM;oBACR,KAAK,wBAAwB,CAAC,4BAA4B;;8BAClD,iBAAiB,GAAG;4BACxB,QAAQ,EAAE,eAAe;yBAC1B;wBACD,IAAI,CAAC,MAAM,GAAG,oBAAoB,CAAC;wBACnC,IAAI,CAAC,SAAS,GAAG,IAAI,oBAAoB,CAAC,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC;wBACxE,IAAI,CAAC,YAAY,GAAG,iBAAiB,CAAC;wBACtC,MAAM;oBACR;wBACE,IAAI,CAAC,MAAM,GAAG,uBAAuB,CAAC;wBACtC,IAAI,CAAC,SAAS,GAAG,IAAI,uBAAuB,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;wBAC7D,MAAM;iBACT;aACF,EAAC,CAAC;SACJ;KACF;;;;;;;IAMD,uBAAuB,CAAC,GAAQ,EAAE,YAAoB;QACpD,IAAI,GAAG,CAAC,YAAY,CAAC,aAAa,EAAE;YAClC,IAAI,CAAC,kBAAkB,CAAC,GAAG,CAAC,YAAY,CAAC,aAAa,CAAC,CAAC;YACxD,IAAI,CAAC,yBAAyB,CAAC,GAAG,CAAC,YAAY,CAAC,aAAa,CAAC,CAAC;YAC/D,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,YAAY,CAAC,QAAQ,CAAC,CAAC;SAChD;QACD,IAAI,CAAC,OAAO,CAAC,YAAY,GAAG,GAAG,CAAC,YAAY,CAAC;QAC7C,IAAI,CAAC,OAAO,CAAC,aAAa,GAAG,GAAG,CAAC,YAAY,CAAC,aAAa,CAAC;QAC5D,IAAI,CAAC,OAAO,CAAC,cAAc,GAAG,IAAI,CAAC,gBAAgB,CAAC,GAAG,CAAC,cAAc,EAAE,YAAY,CAAC,CAAC;KACvF;;;;;;;IAEO,gBAAgB,CAAC,GAAU,EAAE,YAAoB;;cACjD,cAAc,GAA4B,EAAE;QAClD,IAAI,GAAG,EAAE;YACP,GAAG,CAAC,OAAO;;;;YAAC,CAAC,OAA8B;gBACzC,IAAI,CAAC,gBAAgB,CAAC,OAAO,CAAC,UAAU,EAAE,YAAY,CAAC,CAAC;gBACxD,cAAc,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;aAC9B,EAAC,CAAC;SACJ;QACD,OAAO,cAAc,CAAC;KACvB;;;;;;;IAEO,gBAAgB,CAAC,GAAqB,EAAE,YAAoB;QAClE,IAAI,GAAG,IAAI,GAAG,CAAC,MAAM,GAAG,CAAC,EAAE;YACzB,GAAG,CAAC,OAAO;;;;YAAC,CAAC,IAAoB;gBAC/B,QAAQ,IAAI,CAAC,UAAU;oBACrB,KAAK,wBAAwB,CAAC,EAAE;wBAC9B,MAAM;oBACR,KAAK,wBAAwB,CAAC,kBAAkB;wBAC9C,IAAI,CAAC,MAAM,GAAG,oBAAoB,CAAC;wBACnC,IAAI,CAAC,SAAS,GAAG,IAAI,oBAAoB,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;wBAC1D,IAAI,CAAC,YAAY,GAAG;4BAClB,QAAQ,EAAE,cAAc;yBACzB,CAAC;wBACF,MAAM;oBACR,KAAK,wBAAwB,CAAC,kBAAkB;wBAC9C,IAAI,CAAC,MAAM,GAAG,yBAAyB,CAAC;wBACxC,IAAI,CAAC,SAAS,GAAG,IAAI,yBAAyB,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;wBAC/D,IAAI,CAAC,YAAY,GAAG;4BAClB,QAAQ,EAAE,YAAY;yBACvB,CAAC;wBACF,MAAM;oBACR,KAAK,wBAAwB,CAAC,eAAe;wBAC3C,IAAI,CAAC,MAAM,GAAG,kBAAkB,CAAC;wBACjC,IAAI,CAAC,SAAS,GAAG,IAAI,kBAAkB,EAAE,CAAC;wBAC1C,IAAI,CAAC,YAAY,GAAG;4BAClB,QAAQ,EAAE,cAAc;4BACxB,IAAI,EAAE,iBAAiB;yBACxB,CAAC;wBACF,MAAM;oBACR,KAAK,wBAAwB,CAAC,kBAAkB;wBAC9C,IAAI,CAAC,MAAM,GAAG,qBAAqB,CAAC;;8BAC9B,MAAM,GAAG;4BACb,QAAQ,EAAE,cAAc;4BACxB,GAAG,EAAE,KAAK;yBACX;wBACD,IAAI,CAAC,SAAS,GAAG,IAAI,qBAAqB,CAAC,MAAM,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC;wBACnE,IAAI,CAAC,YAAY,GAAG,MAAM,CAAC;wBAC3B,MAAM;oBACR,KAAK,wBAAwB,CAAC,sBAAsB;wBAClD,IAAI,CAAC,MAAM,GAAG,qBAAqB,CAAC;;8BAC9B,YAAY,GAAG;4BACnB,QAAQ,EAAE,cAAc;4BACxB,GAAG,EAAE,QAAQ;yBACd;wBACD,IAAI,CAAC,SAAS,GAAG,IAAI,qBAAqB,CAAC,YAAY,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC;wBACzE,IAAI,CAAC,YAAY,GAAG,YAAY,CAAC;wBACjC,MAAM;oBACR,KAAK,wBAAwB,CAAC,cAAc;wBAC1C,IAAI,CAAC,MAAM,GAAG,uBAAuB,CAAC;wBACtC,IAAI,CAAC,SAAS,GAAG,IAAI,uBAAuB,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;wBAC7D,MAAM;;;;;oBAKR,KAAK,wBAAwB,CAAC,gBAAgB;wBAC5C,IAAI,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,cAAc,KAAK,IAAI,CAAC,OAAO,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,GAAG,EAAE;4BACnF,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,OAAO,CAAC,sBAAsB,CAAC;yBACrD;6BAAM;4BACL,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,OAAO,CAAC,gBAAgB,CAAC;yBAC/C;wBACD,MAAM;oBACR,KAAK,wBAAwB,CAAC,QAAQ;wBACpC,IAAI,CAAC,MAAM,GAAG,iBAAiB,CAAC;wBAChC,IAAI,CAAC,SAAS,GAAG,IAAI,iBAAiB,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;wBACvD,IAAI,CAAC,YAAY,GAAG;4BAClB,SAAS,EAAE,IAAI,CAAC,OAAO,CAAC,oBAAoB;4BAC5C,aAAa,EAAE,IAAI,CAAC,OAAO,CAAC,aAAa;yBAC1C,CAAC;wBACF,MAAM;oBACR,KAAK,wBAAwB,CAAC,aAAa;wBACzC,IAAI,CAAC,MAAM,GAAG,sBAAsB,CAAC;wBACrC,IAAI,CAAC,SAAS,GAAG,IAAI,sBAAsB,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;wBAC5D,MAAM;oBACR,KAAK,wBAAwB,CAAC,WAAW;wBACvC,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC;wBAC1C,MAAM;oBACR,KAAK,wBAAwB,CAAC,gBAAgB;wBAC5C,IAAI,CAAC,MAAM,GAAG,mCAAmC,CAAC;wBAClD,IAAI,CAAC,SAAS,GAAG,IAAI,mCAAmC,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;wBACzE,IAAI,CAAC,YAAY,GAAG;4BAClB,QAAQ,EAAE,cAAc;4BACxB,KAAK,EAAG,kBAAkB;yBAC3B,CAAC;wBACF,MAAM;oBACR,KAAK,wBAAwB,CAAC,iBAAiB;wBAC7C,IAAI,CAAC,MAAM,GAAG,mCAAmC,CAAC;wBAClD,IAAI,CAAC,SAAS,GAAG,IAAI,mCAAmC,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;wBACzE,IAAI,CAAC,YAAY,GAAG;4BAClB,QAAQ,EAAE,cAAc;4BACxB,KAAK,EAAG,kBAAkB;yBAC3B,CAAC;wBACF,MAAM;oBACR,KAAK,wBAAwB,CAAC,UAAU;wBACtC,IAAI,CAAC,MAAM,GAAG,mCAAmC,CAAC;wBAClD,IAAI,CAAC,SAAS,GAAG,IAAI,mCAAmC,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;wBACzE,IAAI,CAAC,YAAY,GAAG;4BAClB,QAAQ,EAAE,cAAc;4BACxB,KAAK,EAAG,kBAAkB;yBAC3B,CAAC;wBACF,MAAM;oBACR,KAAK,wBAAwB,CAAC,aAAa;wBACzC,IAAI,CAAC,MAAM,GAAG,mCAAmC,CAAC;wBAClD,IAAI,CAAC,SAAS,GAAG,IAAI,mCAAmC,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;wBACzE,IAAI,CAAC,YAAY,GAAG;4BAClB,QAAQ,EAAE,cAAc;4BACxB,KAAK,EAAG,kBAAkB;yBAC3B,CAAC;wBACF,MAAM;oBACR,KAAK,wBAAwB,CAAC,YAAY;wBACxC,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC;wBAC1C,MAAM;oBACR,KAAK,wBAAwB,CAAC,gBAAgB;wBAC5C,IAAI,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,gBAAgB;+BACzC,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,gBAAgB,KAAK,IAAI,CAAC,OAAO,CAAC,gBAAgB,CAAC,CAAC,CAAC,CAAC,GAAG,EAAE;4BACxF,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC;yBAC1C;6BAAM;4BACL,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC;yBAC3C;wBACD,MAAM;oBACR,KAAK,wBAAwB,CAAC,SAAS;wBACrC,IAAI,CAAC,MAAM,GAAG,kBAAkB,CAAC;wBACjC,IAAI,CAAC,SAAS,GAAG,IAAI,kBAAkB,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;wBACxD,MAAM;oBACR,KAAK,wBAAwB,CAAC,YAAY;wBACxC,IAAI,CAAC,MAAM,GAAG,qBAAqB,CAAC;wBACpC,IAAI,CAAC,SAAS,GAAG,IAAI,qBAAqB,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;wBAC3D,IAAI,CAAC,YAAY,GAAG;4BAClB,QAAQ,EAAE,cAAc;yBACzB,CAAC;wBACF,MAAM;oBACR,KAAK,wBAAwB,CAAC,kBAAkB;wBAC9C,IAAI,CAAC,MAAM,GAAG,wBAAwB,CAAC;wBACvC,IAAI,CAAC,SAAS,GAAG,IAAI,wBAAwB,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;wBAC9D,MAAM;oBACR,KAAK,wBAAwB,CAAC,KAAK;wBACjC,IAAI,CAAC,MAAM,GAAG,0BAA0B,CAAC;wBACzC,IAAI,CAAC,SAAS,GAAG,IAAI,0BAA0B,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;wBAChE,IAAI,CAAC,YAAY,GAAG;4BAClB,QAAQ,EAAE,UAAU;yBACrB,CAAC;wBACF,MAAM;oBACR,KAAK,wBAAwB,CAAC,kBAAkB;wBAC9C,IAAI,CAAC,MAAM,GAAG,wBAAwB,CAAC;wBACvC,IAAI,CAAC,SAAS,GAAG,IAAI,wBAAwB,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;wBAC9D,MAAM;oBACR,KAAK,wBAAwB,CAAC,gBAAgB;wBAC5C,IAAI,CAAC,MAAM,GAAG,yBAAyB,CAAC;wBACxC,IAAI,CAAC,SAAS,GAAG,IAAI,yBAAyB,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;wBAC/D,IAAI,CAAC,YAAY,GAAG;4BAClB,QAAQ,EAAE,UAAU;yBACrB,CAAC;wBACF,MAAM;oBACR,KAAK,wBAAwB,CAAC,gCAAgC;wBAC5D,IAAI,CAAC,MAAM,GAAG,yCAAyC,CAAC;wBACxD,IAAI,CAAC,SAAS,GAAG,IAAI,yCAAyC,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;wBAC/E,IAAI,CAAC,YAAY,GAAG;4BAClB,QAAQ,EAAE,UAAU;yBACrB,CAAC;wBACF,MAAM;oBACR,KAAK,wBAAwB,CAAC,YAAY;wBACxC,IAAI,CAAC,MAAM,GAAG,qBAAqB,CAAC;wBACpC,IAAI,CAAC,SAAS,GAAG,IAAI,qBAAqB,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;wBAC3D,MAAM;oBACR,KAAK,wBAAwB,CAAC,gBAAgB;wBAC5C,IAAI,CAAC,MAAM,GAAG,wBAAwB,CAAC;wBACvC,IAAI,CAAC,SAAS,GAAG,IAAI,wBAAwB,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;wBAC9D,MAAM;oBACR,KAAK,wBAAwB,CAAC,aAAa;wBACzC,IAAI,CAAC,MAAM,GAAG,sBAAsB,CAAC;wBACrC,IAAI,CAAC,SAAS,GAAG,IAAI,sBAAsB,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;wBAC5D,IAAI,CAAC,YAAY,GAAG;4BAClB,QAAQ,EAAE,UAAU;yBACrB,CAAC;wBACF,MAAM;oBACR,KAAK,wBAAwB,CAAC,mBAAmB;wBAC/C,IAAI,CAAC,MAAM,GAAG,sBAAsB,CAAC;wBACrC,IAAI,CAAC,SAAS,GAAG,IAAI,sBAAsB,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;wBAC5D,MAAM;oBACR,KAAK,wBAAwB,CAAC,eAAe;wBAC3C,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,OAAO,CAAC,eAAe,CAAC;wBAC7C,MAAM;oBACR,KAAK,wBAAwB,CAAC,cAAc;wBAC1C,IAAI,CAAC,MAAM,GAAG,uBAAuB,CAAC;wBACtC,IAAI,CAAC,SAAS,GAAG,IAAI,uBAAuB,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;wBAC7D,MAAM;oBACR,KAAK,wBAAwB,CAAC,aAAa;wBACzC,IAAI,CAAC,MAAM,GAAG,iBAAiB,CAAC;wBAChC,IAAI,CAAC,SAAS,GAAG,IAAI,iBAAiB,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;wBACvD,MAAM;oBACR,KAAK,wBAAwB,CAAC,eAAe;wBAC3C,IAAI,CAAC,MAAM,GAAG,uBAAuB,CAAC;wBACtC,IAAI,CAAC,SAAS,GAAG,IAAI,uBAAuB,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;wBAC7D,MAAM;oBACR,KAAK,wBAAwB,CAAC,gBAAgB;wBAC5C,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC;wBAC1C,MAAM;oBACR,KAAK,wBAAwB,CAAC,qBAAqB,CAAC;oBACpD,KAAK,wBAAwB,CAAC,4BAA4B;wBACxD,IAAI,CAAC,MAAM,GAAG,oBAAoB,CAAC;;8BAC7B,iBAAiB,GAAG;4BACxB,QAAQ,EAAE,cAAc;yBACzB;wBACD,IAAI,CAAC,YAAY,GAAG,iBAAiB,CAAC;wBACtC,IAAI,CAAC,SAAS,GAAG,IAAI,oBAAoB,CAAC,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC;wBACxE,MAAM;oBACR;wBACE,IAAI,CAAC,MAAM,GAAG,uBAAuB,CAAC;wBACtC,IAAI,CAAC,SAAS,GAAG,IAAI,uBAAuB,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;wBAC7D,MAAM;iBACT;aACF,EAAC,CAAC;SACJ;KACF;;;;;;IAKD,yBAAyB,CAAC,WAAkB;QAC1C,IAAI,CAAC,OAAO,CAAC,oBAAoB,GAAG,EAAE,CAAC;QACvC,IAAI,CAAC,OAAO,CAAC,oBAAoB,GAAG,IAAI,CAAC,OAAO,CAAC,oBAAoB,CAAC,MAAM,CAAC,CAAC;gBAC5E,GAAG,EAAE,eAAe;gBACpB,IAAI,EAAE,MAAM;gBACZ,WAAW,EAAE,MAAM;aACpB,EAAE;gBACD,GAAG,EAAE,wBAAwB;gBAC7B,IAAI,EAAE,QAAQ;gBACd,WAAW,EAAE,QAAQ;aACtB;SACA,CAAC,CAAC;QACH,IAAI,WAAW,IAAI,WAAW,CAAC,MAAM,GAAG,CAAC,EAAE;YACzC,KAAK,MAAM,UAAU,IAAI,WAAW,EAAE;;sBAC9B,QAAQ,GAAG,IAAI,SAAS,EAAE;gBAChC,QAAQ,CAAC,GAAG,GAAG,OAAO,UAAU,CAAC,KAAK,EAAE,CAAC;gBACzC,QAAQ,CAAC,IAAI,GAAG,GAAG,UAAU,CAAC,IAAI,MAAM,CAAC;gBACzC,QAAQ,CAAC,WAAW,GAAG,GAAG,UAAU,CAAC,IAAI,MAAM,CAAC;gBAChD,IAAI,CAAC,OAAO,CAAC,oBAAoB,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;aAClD;SACF;KACF;;;;;;IAMD,kBAAkB,CAAC,WAAkB;QACnC,IAAI,CAAC,OAAO,CAAC,aAAa,GAAG,EAAE,CAAC;QAChC,IAAI,WAAW,IAAI,WAAW,CAAC,MAAM,GAAG,CAAC,EAAE;YACzC,KAAK,MAAM,IAAI,IAAI,WAAW,EAAE;;sBACxB,UAAU,GAAG,IAAI,kBAAkB,EAAE;gBAC3C,UAAU,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC;gBAC9B,UAAU,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC;gBAC5B,UAAU,CAAC,cAAc,GAAG,IAAI,CAAC,cAAc,CAAC;gBAChD,UAAU,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC;gBACtC,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;aAC7C;SACF;KACF;;;;;;;IAMO,cAAc,CAAC,SAAgB;QACrC,IAAI,SAAS,IAAI,SAAS,CAAC,MAAM,GAAG,CAAC,EAAE;;YAErC,KAAK,MAAM,QAAQ,IAAI,SAAS,EAAE;;sBAC1B,YAAY,GAAuB,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,IAAI;;;;gBAAC,IAAI,IAAI,IAAI,CAAC,KAAK,KAAK,QAAQ,CAAC,eAAe,EAAC;gBACzH,IAAI,CAAC,YAAY,EAAE;;;;;oBAKjB,QAAQ,CAAC,cAAc,GAAG,KAAK,CAAC;iBACjC;qBAAM;oBACL,QAAQ,CAAC,cAAc,GAAG,YAAY,CAAC,IAAI,CAAC;iBAC7C;aACF;SACF;KACF;;;YAhZF,UAAU;;;;YApCF,sBAAsB;YAYtB,eAAe;YAbH,QAAQ;YAkBpB,cAAc;YAlBQ,wBAAwB;YAmC9C,YAAY;;;;;;;ACnCrB,MAmBa,mBAAmB;;;;;;;;;;IAqD9B,YACU,QAAkB,EAClB,IAAiB,EACjB,OAAwB,EACZ,GAAsB,EACf,QAAgB,EACR,SAAc,EAC7B,UAAwB;QANpC,aAAQ,GAAR,QAAQ,CAAU;QAClB,SAAI,GAAJ,IAAI,CAAa;QACjB,YAAO,GAAP,OAAO,CAAiB;QACZ,QAAG,GAAH,GAAG,CAAmB;QACf,aAAQ,GAAR,QAAQ,CAAQ;QACR,cAAS,GAAT,SAAS,CAAK;QAC7B,eAAU,GAAV,UAAU,CAAc;QAjDpC,WAAM,GAAG,IAAI,YAAY,EAAO,CAAC;QACjC,WAAM,GAAG,IAAI,YAAY,EAAO,CAAC;QAE3C,gBAAW,GAAG,QAAQ,CAAC;QAIvB,0BAAqB,GAAG,KAAK,CAAC;QAC9B,sBAAiB,GAAG,KAAK,CAAC;QAG1B,YAAO,GAAG,+BAA+B,CAAC;QAE1C,aAAQ,GAAG,WAAW,CAAC;QAEvB,aAAQ,GAAG,KAAK,CAAC;;;;;;;;;;;;;QAcjB,UAAK,GAAG,IAAI,KAAK,EAAE,CAAC;QAEpB,0BAAqB,GAAG;YACtB,EAAE,KAAK,EAAE,QAAQ,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,6BAA6B,CAAC,EAAE;YACnF,EAAE,KAAK,EAAE,SAAS,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,8BAA8B,CAAC,EAAE;SACtF,CAAC;QAEF,YAAO,GAAG;YACR,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,2BAA2B,CAAC,EAAE,KAAK,EAAE,MAAM,EAAE,KAAK,EAAE,KAAK,EAAE,WAAW,EAAE,MAAM,EAAE;YACnH,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,2BAA2B,CAAC,EAAE,KAAK,EAAE,MAAM,EAAE,KAAK,EAAE,KAAK,EAAE,WAAW,EAAE,MAAM,EAAE;SACpH,CAAC;QAmDF,gBAAW;;;;QAAG,CAAC,IAAS;YACtB,IAAI,CAAC,MAAM,CAAC,IAAI,GAAG;gBACjB,OAAO;;;;;gBAAE,CAAC,GAAG,EAAE,MAAM;oBACnB,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;;0BACd,WAAW,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,WAAW,CAAC;;0BAC5C,MAAM,GAAG,WAAW,CAAC,QAAQ;;wBAC/B,KAAK;oBAET,IAAI,IAAI,CAAC,MAAM,CAAC,YAAY,IAAI,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,KAAK,IAAI,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,KAAK,EAAE;wBAChG,IAAI,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,KAAK,KAAK,GAAG,EAAE;4BAC1C,KAAK,GAAG,EAAE,UAAU,EAAE,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,KAAK,EAAE,CAAC;yBACxD;6BAAM,IAAI,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,KAAK,KAAK,MAAM,EAAE;4BACpD,KAAK,GAAG,EAAE,IAAI,EAAE,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,KAAK,EAAE,CAAC;yBAClD;6BAAM;4BACL,KAAK,GAAG,EAAE,IAAI,EAAE,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,KAAK,EAAE,CAAC;yBAClD;qBACF;;wBACG,MAAM;oBACV,IAAI,IAAI,CAAC,qBAAqB,EAAE;wBAC9B,MAAM,GAAG,IAAI,CAAC,aAAa,CAAC,wBAAwB,CAAC,GAAG;;;;wBAAC,CAAC,KAAK;4BAC7D,EAAE,EAAE,CAAC,CAAC,YAAY,EAAE,IAAI,EAAE,CAAC,CAAC,kBAAkB,GAAG,kBAAkB,GAAG,UAAU;yBACjF,CAAC,EAAC,CAAC;qBACL;oBACD,OAAO,IAAI,CAAC,UAAU,CAAC,MAAM,EAAE,KAAK,EAAE,MAAM,CAAC,CAAC,IAAI,CAChD,SAAS;;;;oBAAC,CAAC,EAAO;wBAChB,OAAO,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC;wBAChB,OAAOnB,IAAE,oBAAC;4BACR,OAAO,EAAE,IAAI,CAAC,OAAO;4BACrB,WAAW,EAAE,EAAE,OAAO,EAAE,IAAI,EAAE,UAAU,EAAE,IAAI,EAAE,SAAS,EAAE,MAAM,EAAE;4BACnE,WAAW,EAAE,UAAU;4BACvB,OAAO,EAAE,IAAI;4BACb,UAAU,EAAE,IAAI;4BAChB,SAAS,EAAE,MAAM;4BACjB,YAAY,EAAE;gCACZ,EAAE,KAAK,EAAE,MAAM,EAAE,KAAK,EAAE,MAAM,EAAE,EAAE,EAAE,KAAK,EAAE,MAAM,EAAE,KAAK,EAAE,MAAM,EAAE;6BACnE;4BACD,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,mCAAmC,CAAC;4BACrE,KAAK,EAAE,CAAC;4BACR,QAAQ,EAAE;gCACR,SAAS,EAAE,UAAU;gCACrB,aAAa,EAAE,UAAU;gCACzB,UAAU,EAAE,OAAO;gCACnB,SAAS,EAAE,UAAU;gCACrB,YAAY,EAAE,OAAO;gCACrB,cAAc,EAAE,KAAK;gCACrB,WAAW,EAAE,eAAe;gCAC5B,SAAS,EAAE,MAAM;gCACjB,cAAc,EAAE,IAAI;6BACrB;4BACD,KAAK,EAAE,IAAI,CAAC,WAAW,CAAC,EAAE,EAAE,KAAK,CAAC;yBACnC,GAAQ,CAAC;qBACX,EAAC,CACH,CAAC;iBACH,CAAA;aACF,CAAC;YACF,OAAOA,IAAE,CAAC,IAAI,CAAC,CAAC;SACjB,EAAA;QAED,eAAU;;;;QAAG,CAAC,IAAS;YACrB,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,IAAI,CAAC;YAClC,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,EAAE,CAAC;YAC5B,OAAOA,IAAE,CAAC,IAAI,CAAC,CAAC;SACjB,EAAA;QArGC,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,IAAI,IAAI,YAAY,CAAC,QAAQ,EAAE,SAAS,CAAC,CAAC;KAC3E;;;;IAEF,QAAQ;KACP;;;;IACD,QAAQ;QACN,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;QACrB,IAAI,IAAI,CAAC,SAAS,EAAE,EAAE;YACpB,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC;gBACf,QAAQ,EAAE,IAAI,CAAC,QAAQ;gBACvB,WAAW,EAAE,IAAI,CAAC,WAAW;gBAC7B,YAAY,EAAE,IAAI,CAAC,YAAY;gBAC/B,gBAAgB,EAAE,IAAI,CAAC,gBAAgB;aACxC,CAAC,CAAC;SACJ;KACF;;;;IACD,YAAY;QACV,IAAI,CAAC,MAAM,CAAC,IAAI,EAAE,CAAC;KACpB;;;;IAED,SAAS;QACP,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE;YAClB,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,mCAAmC,CAAC,CAAC,CAAC;YACrF,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;YACtB,OAAO,KAAK,CAAC;SACd;QACD,IAAI,CAAC,IAAI,CAAC,YAAY,EAAE;YACtB,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,2CAA2C,CAAC,CAAC,CAAC;YAC7F,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;YACtB,OAAO,KAAK,CAAC;SACd;QACD,OAAO,IAAI,CAAC;KACb;;;;;IAED,MAAM,CAAC,IAAS;;cACR,EAAE,sBAAG,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,QAAQ,EAAsB;QAClE,EAAE,CAAC,YAAY,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,KAAK,EAAE,QAAQ,CAAC,CAAC;KAC1D;;;;;IAkED,mBAAmB,CAAC,IAAI;QACtB,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,EAAE,CAAC;QAC5B,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,IAAI,CAAC;KACnC;;;;;;;IAEO,WAAW,CAAC,IAAW,EAAE,WAAgB;;cACzC,MAAM,GAAG,IAAI,KAAK,EAAE;;cACpB,QAAQ,GAAG,IAAI,KAAK,EAAE;QAC5B,KAAK,MAAM,GAAG,IAAI,IAAI,EAAE;;kBAChB,MAAM,GAAQ,EAAE;YACtB,MAAM,CAAC,IAAI,GAAG,GAAG,CAAC;YAClB,MAAM,CAAC,QAAQ,GAAG,EAAE,CAAC;YACrB,MAAM,CAAC,EAAE,GAAG,GAAG,CAAC,EAAE,CAAC;YACnB,MAAM,CAAC,IAAI,GAAG,GAAG,CAAC,QAAQ,CAAC;YAC3B,MAAM,CAAC,UAAU,GAAG,GAAG,CAAC,iBAAiB,CAAC;YAE1C,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;SACvB;;cAEK,GAAG,GAAG,EAAE;;;cACR,GAAG,GAAG,QAAQ,CAAC,MAAM;QAC3B,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE,EAAE;YAE5B,GAAG,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC;SACnC;;QAED,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE,EAAE;;kBACtB,IAAI,GAAG,QAAQ,CAAC,CAAC,CAAC;;kBAElB,UAAU,GAAG,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC;YAE1C,IAAI,UAAU,EAAE;gBACd,IAAI,CAAC,UAAU,CAAC,QAAQ,EAAE;oBACxB,UAAU,CAAC,QAAQ,GAAG,IAAI,KAAK,EAAE,CAAC;iBACnC;gBACD,UAAU,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;aAChC;iBAAM;gBACL,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;aACnB;SACF;;QAED,IAAI,WAAW,EAAE;YACf,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,CAAC;SAC3B;QACD,OAAO,MAAM,CAAC;KACf;;;;;;IAEO,YAAY,CAAC,QAAe;QAClC,IAAI,QAAQ,IAAI,QAAQ,CAAC,MAAM,GAAG,CAAC,EAAE;YACnC,KAAK,MAAM,CAAC,IAAI,QAAQ,EAAE;gBACxB,IAAI,CAAC,CAAC,QAAQ,IAAI,CAAC,CAAC,QAAQ,CAAC,MAAM,GAAG,CAAC,EAAE;oBACvC,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC;iBAC/B;qBAAM;oBACL,CAAC,CAAC,IAAI,GAAG,IAAI,CAAC;iBACf;aACF;SACF;KACF;;;;;;;IAEO,SAAS,CAAC,IAAI,EAAE,IAAI;;cACpB,SAAS,GAAG,IAAI,CAAC,MAAM;;;;QAAC,SAAS;YACrC,IAAI,SAAS,CAAC,QAAQ,KAAK,IAAI,CAAC,EAAE,EAAE;gBAClC,OAAO,IAAI,CAAC;aACb;SACF,EAAC;QACF,IAAI,SAAS,IAAI,SAAS,CAAC,MAAM,GAAG,CAAC,EAAE;YACrC,SAAS,CAAC,OAAO;;;;YAAC,KAAK;;sBACf,WAAW,GAAQ,EAAE;gBAC3B,WAAW,CAAC,IAAI,GAAG,KAAK,CAAC;gBACzB,WAAW,CAAC,QAAQ,GAAG,EAAE,CAAC;gBAC1B,WAAW,CAAC,EAAE,GAAG,KAAK,CAAC,EAAE,CAAC;gBAC1B,WAAW,CAAC,IAAI,GAAG,KAAK,CAAC,QAAQ,CAAC;gBAClC,WAAW,CAAC,UAAU,GAAG,KAAK,CAAC,iBAAiB,CAAC;gBACjD,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;gBAChC,IAAI,CAAC,SAAS,CAAC,WAAW,EAAE,IAAI,CAAC,CAAC;aACnC,EAAC,CAAC;SACJ;KACF;;;;;;;;;IAGO,gBAAgB,CAAC,KAAY,EAAE,WAAmB,EAAE,QAAgB;;;cAEpE,aAAa,GAAG,KAAK,CAAC,MAAM;;;;QAAC,CAAC;YAClC,IAAI,CAAC,CAAC,CAAC,WAAW,CAAC,EAAE;gBACnB,OAAO,IAAI,CAAC;aACb;;kBACK,CAAC,GAAG,KAAK,CAAC,IAAI;;;;YAAC,MAAM,IAAI,MAAM,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,WAAW,CAAC,EAAC;YACnE,IAAI,CAAC,CAAC,EAAE;gBACN,OAAO,IAAI,CAAC;aACb;SACF,EAAC;;cACI,QAAQ,GAAG,EAAE;QACnB,aAAa,CAAC,OAAO;;;;QAAC,CAAC;;kBACf,MAAM,GAAQ,EAAE;YACtB,MAAM,CAAC,IAAI,GAAG,CAAC,CAAC;YAChB,MAAM,CAAC,QAAQ,GAAG,EAAE,CAAC;YACrB,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;;SAEvB,EAAC,CAAC;QACH,QAAQ,CAAC,OAAO;;;;QAAC,IAAI;YACnB,IAAI,CAAC,oBAAoB,CAAC,IAAI,EAAE,KAAK,EAAE,WAAW,EAAE,QAAQ,CAAC,CAAC;SAC/D,EACA,CAAC;QACF,OAAO,QAAQ,CAAC;KACjB;;;;;;;;;;IAGO,oBAAoB,CAAC,MAAW,EAAE,KAAY,EAAE,WAAmB,EAAE,QAAgB;;cACrF,SAAS,GAAG,KAAK,CAAC,MAAM;;;;QAAC,SAAS;YACtC,IAAI,SAAS,CAAC,WAAW,CAAC,KAAK,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,EAAE;gBACpD,OAAO,IAAI,CAAC;aACb;SACF,EAAC;QACF,IAAI,SAAS,IAAI,SAAS,CAAC,MAAM,GAAG,CAAC,EAAE;YACrC,SAAS,CAAC,OAAO;;;;YAAC,KAAK;;sBACf,WAAW,GAAQ,EAAE;gBAC3B,WAAW,CAAC,IAAI,GAAG,KAAK,CAAC;gBACzB,WAAW,CAAC,QAAQ,GAAG,EAAE,CAAC;gBAC1B,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;gBAClC,IAAI,CAAC,oBAAoB,CAAC,WAAW,EAAE,KAAK,EAAE,WAAW,EAAE,QAAQ,CAAC,CAAC;aACtE,EAAC,CAAC;SACJ;KACF;;;;;;;;IAGO,UAAU,CAAC,MAAc,EAAE,WAAgB,EAAE,MAAa;;YAC5D,GAAG,GAAG,+BAA+B;;YACrC,KAAK;QACT,IAAI,WAAW,EAAE;YACb,KAAK,GAAG,MAAM,CAAC,MAAM,CAAC,WAAW,EAAE;gBAC/B,YAAY,EAAE,IAAI;gBAClB,cAAc,EAAE,IAAI;gBACpB,UAAU,EAAE,MAAM;aACrB,CAAC,CAAC;SACN;aAAM;YACH,IAAI,MAAM,EAAE;gBACR,KAAK,GAAG,MAAM,CAAC,MAAM,CAAC,EAAE,EAAE;oBACtB,QAAQ,EAAE,MAAM;oBAChB,cAAc,EAAE,IAAI;oBACpB,UAAU,EAAE,MAAM;iBACrB,CAAC,CAAC;aACN;iBAAM;gBACH,KAAK,GAAG,MAAM,CAAC,MAAM,CAAC,EAAE,EAAE;oBACtB,QAAQ,EAAE,EAAE;oBACZ,KAAK,EAAE,CAAC;oBACR,cAAc,EAAE,IAAI;oBACpB,UAAU,EAAE,MAAM;iBACrB,CAAC,CAAC;aACN;SACJ;QACD,GAAG,IAAI,UAAU,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,EAAE,CAAC;QAEzC,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;KAC7B;;;YAvUA,SAAS,SAAC;gBACT,QAAQ,EAAE,kBAAkB;gBAC5B,01MAA4C;gBAE5C,SAAS,EAAE;oBACT,EAAE,OAAO,EAAE,eAAe,EAAE,QAAQ,EAAE,iBAAiB,EAAE;oBACxD,YAAY;iBACd;;aACF;;;;YAlBgF,QAAQ;YAIhF,WAAW;YAGX,eAAe;YAP6E,iBAAiB,uBA4EjH,QAAQ;yCACR,MAAM,SAAC,SAAS;4CAChB,MAAM,SAAC,iBAAiB;YAtED,YAAY,uBAuEnC,QAAQ;;;qBA1DV,SAAS,SAAC,WAAW;uBAErB,KAAK;sBAEL,KAAK;qBAGL,SAAS,SAAC,QAAQ;qBAElB,MAAM;qBACN,MAAM;;;;;;;;;IC9BL,eAAgB,gBAAgB;IAChC,qBAAsB,qBAAqB;IAC3C,cAAe,sBAAsB;;;;;;;;;ICFrC,SAAU,SAAS;IACnB,WAAY,WAAW;;;;;;;ACF3B,MAGaoB,wBAAsB;IAAnC;QAWI,mBAAc,GAAmB,cAAc,CAAC,SAAS,CAAC;QAC1D,mBAAc,GAAmB,cAAc,CAAC,aAAa,CAAC;KACjE;CAAA;;;;;;AChBD,MAAa,kBAAkB;;AACX,kCAAe,GAAW,4BAA4B,CAAC;AACvD,wCAAqB,GAAW,aAAa,CAAC;AAE9C,sCAAmB,GAAW,eAAe,CAAC;AAC9C,mCAAgB,GAAW,YAAY,CAAC;;;;;;;;ICJxD,oBAAqB,oBAAoB;IACzC,qBAAsB,qBAAqB;;;;;;;ACF/C;;;AAIA,MAAsB,kBAAmB,SAAQ,mBAAmB;IAApE;;QASI,YAAO,GAAY,KAAK,CAAC;KAqD5B;;;;;IAjDa,mBAAmB;QACzB,KAAK,CAAC,mBAAmB,EAAE,CAAC;QAE5B,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC;QACf,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;QACzB,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;QAC3B,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;QACrB,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;QAC5B,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC;QAC7B,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;QACrB,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;QACrB,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;KACtB;;;;IAEM,mBAAmB;;YAClB,GAAG,GAAG,KAAK,CAAC,mBAAmB,EAAE;QAErC,mBAAmB,CAAC,iBAAiB,CAAC,GAAG,EAAE,IAAI,EAAE,IAAI,CAAC,EAAE,CAAC,CAAC;QAC1D,mBAAmB,CAAC,iBAAiB,CAAC,GAAG,EAAE,MAAM,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC;QAC9D,mBAAmB,CAAC,iBAAiB,CAAC,GAAG,EAAE,MAAM,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC;QAC9D,mBAAmB,CAAC,iBAAiB,CAAC,GAAG,EAAE,cAAc,EAAE,IAAI,CAAC,YAAY,CAAC,CAAC;QAC9E,mBAAmB,CAAC,iBAAiB,CAAC,GAAG,EAAE,gBAAgB,EAAE,IAAI,CAAC,cAAc,CAAC,CAAC;QAClF,mBAAmB,CAAC,iBAAiB,CAAC,GAAG,EAAE,UAAU,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC;QACtE,mBAAmB,CAAC,iBAAiB,CAAC,GAAG,EAAE,iBAAiB,EAAE,IAAI,CAAC,eAAe,CAAC,CAAC;QACpF,mBAAmB,CAAC,iBAAiB,CAAC,GAAG,EAAE,kBAAkB,EAAE,IAAI,CAAC,gBAAgB,CAAC,CAAC;QACtF,mBAAmB,CAAC,iBAAiB,CAAC,GAAG,EAAE,SAAS,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC;QACpE,mBAAmB,CAAC,iBAAiB,CAAC,GAAG,EAAE,UAAU,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC;QACtE,mBAAmB,CAAC,iBAAiB,CAAC,GAAG,EAAE,QAAQ,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC;QAElE,OAAO,GAAG,CAAC;KACd;;;;;IAEM,kBAAkB,CAAC,GAAO;QAC7B,KAAK,CAAC,kBAAkB,CAAC,GAAG,CAAC,CAAC;QAE9B,IAAI,CAAC,EAAE,GAAG,mBAAmB,CAAC,yBAAyB,CAAC,GAAG,EAAE,IAAI,CAAC,CAAC;QACnE,IAAI,CAAC,IAAI,GAAG,mBAAmB,CAAC,yBAAyB,CAAC,GAAG,EAAE,MAAM,CAAC,CAAC;QACvE,IAAI,CAAC,IAAI,GAAG,mBAAmB,CAAC,yBAAyB,CAAC,GAAG,EAAE,MAAM,CAAC,CAAC;QACvE,IAAI,CAAC,YAAY,GAAG,mBAAmB,CAAC,yBAAyB,CAAC,GAAG,EAAE,cAAc,CAAC,CAAC;QACvF,IAAI,CAAC,cAAc,GAAG,mBAAmB,CAAC,yBAAyB,CAAC,GAAG,EAAE,gBAAgB,CAAC,CAAC;QAC3F,IAAI,CAAC,QAAQ,GAAG,mBAAmB,CAAC,yBAAyB,CAAC,GAAG,EAAE,UAAU,CAAC,CAAC;QAC/E,IAAI,CAAC,eAAe,GAAG,eAAe,CAAC,mBAAmB,CAAC,yBAAyB,CAAC,GAAG,EAAE,iBAAiB,CAAC,CAAC,CAAC;QAC9G,IAAI,CAAC,gBAAgB,GAAG,mBAAmB,CAAC,2BAA2B,CAAC,GAAG,EAAE,kBAAkB,CAAC,CAAC;QACjG,IAAI,CAAC,OAAO,GAAG,mBAAmB,CAAC,0BAA0B,CAAC,GAAG,EAAE,SAAS,CAAC,CAAC;QAC9E,IAAI,CAAC,QAAQ,GAAG,mBAAmB,CAAC,yBAAyB,CAAC,GAAG,EAAE,UAAU,CAAC,CAAC;QAC/E,IAAI,CAAC,MAAM,GAAG,mBAAmB,CAAC,yBAAyB,CAAC,GAAG,EAAE,QAAQ,CAAC,CAAC;KAC9E;CACJ;;;;;;AClED,MAIa,YAAa,SAAQ,kBAAkB;;;;;IAGtC,mBAAmB;QACzB,KAAK,CAAC,mBAAmB,EAAE,CAAC;QAE5B,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;KAC1B;;;;IAEM,mBAAmB;;YAClB,GAAG,GAAG,KAAK,CAAC,mBAAmB,EAAE;QAErC,mBAAmB,CAAC,iBAAiB,CAAC,GAAG,EAAE,WAAW,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC;QAExE,OAAO,GAAG,CAAC;KACd;;;;;IAEM,kBAAkB,CAAC,GAAO;QAC7B,KAAK,CAAC,kBAAkB,CAAC,GAAG,CAAC,CAAC;QAE9B,IAAI,CAAC,SAAS,GAAG,mBAAmB,CAAC,0BAA0B,CAAC,GAAG,EAAE,WAAW,CAAC,CAAC;KACrF;CACJ;;;;;;AC1BD,MAGa,+BAAgC,SAAQ,YAAY;IAAjE;;QAEI,0BAAqB,GAA2C,IAAI,KAAK,EAAE,CAAC;KA4B/E;;;;;IA1Ba,mBAAmB;QACzB,KAAK,CAAC,mBAAmB,EAAE,CAAC;QAE5B,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;QACvB,IAAI,CAAC,qBAAqB,CAAC,MAAM,GAAG,CAAC,CAAC;KACzC;;;;IAEM,mBAAmB;;YAClB,GAAG,GAAG,KAAK,CAAC,mBAAmB,EAAE;QAErC,mBAAmB,CAAC,iBAAiB,CAAC,GAAG,EAAE,WAAW,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC;QACxE,mBAAmB,CAAC,iBAAiB,CAAC,GAAG,EAAE,uBAAuB,EAAE,IAAI,CAAC,qBAAqB,CAAC,CAAC;QAEhG,OAAO,GAAG,CAAC;KACd;;;;;IAEM,kBAAkB,CAAC,GAAO;QAC7B,KAAK,CAAC,kBAAkB,CAAC,GAAG,CAAC,CAAC;QAE9B,IAAI,CAAC,SAAS,GAAG,mBAAmB,CAAC,0BAA0B,CAAC,GAAG,EAAE,WAAW,CAAC,CAAC;QAClF,IAAI,CAAC,qBAAqB,GAAG,mBAAmB,CAAC,uBAAuB,CAAC,GAAG,EAAE,uBAAuB,EAAE,+BAA+B,CAAC,CAAC;KAC3I;;;;;IAES,SAAS;QACf,OAAO,+BAA+B,CAAC;KAC1C;CACJ;;;;;;ACjCD,MAGa,uBAAwB,SAAQ,mBAAmB;IAAhE;;QAMI,aAAQ,GAA2C,IAAI,KAAK,EAAE,CAAC;KAiClE;;;;;IA/Ba,mBAAmB;QACzB,KAAK,CAAC,mBAAmB,EAAE,CAAC;QAE5B,IAAI,CAAC,UAAU,GAAG,CAAC,CAAC;QACpB,IAAI,CAAC,SAAS,GAAG,CAAC,CAAC;QACnB,IAAI,CAAC,SAAS,GAAG,CAAC,CAAC;QACnB,IAAI,CAAC,QAAQ,GAAG,CAAC,CAAC;QAClB,IAAI,CAAC,QAAQ,CAAC,MAAM,GAAG,CAAC,CAAC;KAC5B;;;;IAEM,mBAAmB;;YAClB,GAAG,GAAG,KAAK,CAAC,mBAAmB,EAAE;QAErC,mBAAmB,CAAC,iBAAiB,CAAC,GAAG,EAAE,YAAY,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC;QAC1E,mBAAmB,CAAC,iBAAiB,CAAC,GAAG,EAAE,WAAW,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC;QACxE,mBAAmB,CAAC,iBAAiB,CAAC,GAAG,EAAE,WAAW,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC;QACxE,mBAAmB,CAAC,iBAAiB,CAAC,GAAG,EAAE,UAAU,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC;QACtE,mBAAmB,CAAC,iBAAiB,CAAC,GAAG,EAAE,UAAU,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC;QAEtE,OAAO,GAAG,CAAC;KACd;;;;;IAEM,kBAAkB,CAAC,GAAO;QAC7B,KAAK,CAAC,kBAAkB,CAAC,GAAG,CAAC,CAAC;QAE9B,IAAI,CAAC,UAAU,GAAG,mBAAmB,CAAC,yBAAyB,CAAC,GAAG,EAAE,YAAY,CAAC,CAAC;QACnF,IAAI,CAAC,SAAS,GAAG,mBAAmB,CAAC,yBAAyB,CAAC,GAAG,EAAE,WAAW,CAAC,CAAC;QACjF,IAAI,CAAC,SAAS,GAAG,mBAAmB,CAAC,yBAAyB,CAAC,GAAG,EAAE,WAAW,CAAC,CAAC;QACjF,IAAI,CAAC,QAAQ,GAAG,mBAAmB,CAAC,yBAAyB,CAAC,GAAG,EAAE,UAAU,CAAC,CAAC;QAC/E,IAAI,CAAC,QAAQ,GAAG,mBAAmB,CAAC,uBAAuB,CAAC,GAAG,EAAE,UAAU,EAAE,+BAA+B,CAAC,CAAC;KACjH;CACJ;;;;;;AC1CD,MAYa,sBAAsB;;;;;;IAGjC,YACU,UAAsB,EACtB,gBAAkC,EAClC,WAAwB;QAFxB,eAAU,GAAV,UAAU,CAAY;QACtB,qBAAgB,GAAhB,gBAAgB,CAAkB;QAClC,gBAAW,GAAX,WAAW,CAAa;QALjB,YAAO,GAAG,qCAAqC,CAAC;KAOhE;;;;;IAEM,iBAAiB,CAAC,MAAqB;;cACtCjB,MAAG,GAAG,IAAI,GAAG,EAAE;QACrBA,MAAG,CAAC,GAAG,CAAC,IAAI,EAAE,MAAM,CAAC,EAAE,CAAC,CAAC;QACzBA,MAAG,CAAC,GAAG,CAAC,MAAM,EAAE,MAAM,CAAC,eAAe,CAAC,CAAC;QACxCA,MAAG,CAAC,GAAG,CAAC,WAAW,EAAE,kBAAkB,CAAC,mBAAmB,CAAC,CAAC;;cACvD,GAAG,GAAe;YACtB,MAAM,EAAE,kBAAkB,CAAC,gBAAgB;YAC3C,KAAK,EAAE,kBAAkB,CAAC,eAAe;YACzC,WAAW,EAAE,kBAAkB,CAAC,qBAAqB;YACrD,OAAO,EAAE,MAAM;YACf,YAAY,EAAE,EAAE;YAChB,iBAAiB,EAAEA,MAAG;YACtB,KAAK,EAAE,MAAM,CAAC,EAAE;YAChB,OAAO,EAAE,MAAM,CAAC,IAAI;SACrB;QACD,IAAI,CAAC,gBAAgB,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC;KACrC;;;;;IAEM,eAAe,CAAC,IAAgC;;cAC/C,IAAI,GAAG,IAAI,CAAC,aAAa,EAAE;;YAC7B,KAAK,GAAoB,IAAI;;QAEjC,IAAI,IAAI,CAAC,OAAO,IAAI,IAAI,EAAE;YACxB,KAAK,GAAG,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC,OAAO,WAAW,EAAE,IAAI,CAAC,CAAC;YAChE,OAAO,KAAK,CAAC,IAAI,CACf,GAAG;;;;YACD,CAAC,GAAQ;;sBACD,OAAO,GAAG,IAAI,uBAAuB,EAAE;gBAC7C,OAAO,CAAC,QAAQ,GAAG,GAAG,CAAC,GAAG;;;;gBAAC,GAAG;;0BACtB,CAAC,GAAG,IAAI,YAAY,EAAE;oBAC5B,CAAC,CAAC,kBAAkB,CAAC,GAAG,CAAC,CAAC;oBAC1B,OAAO,CAAC,CAAC;iBACV,EAAC,CAAC;gBACH,OAAO,OAAO,CAAC;aAChB,EACF,CACF,CAAC;SACH;aAAM;YACL,KAAK,GAAG,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC,OAAO,gBAAgB,EAAE,IAAI,CAAC,CAAC;YACrE,OAAO,KAAK,CAAC,IAAI,CACf,GAAG;;;;YACD,CAAC,GAAQ;;sBACD,OAAO,GAAG,IAAI,uBAAuB,EAAE;gBAC7C,OAAO,CAAC,kBAAkB,CAAC,GAAG,CAAC,CAAC;gBAChC,OAAO,OAAO,CAAC;aAChB,EACF,CACF,CAAC;SACH;KACF;;;;;;IAOM,oBAAoB,CAAC,IAAY;QACtC,OAAO,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,KAAK,EAAE,uDAAuD,IAAI,EAAE,EAAE,EAAE,YAAY,EAAE,MAAM,EAAE,CAAC,CAAC;KACjI;;;YArEF,UAAU;;;;YAP4B,UAAU;YAA5B,gBAAgB;YAH5B,WAAW;;;;;;;ACDpB,MAEa,0BAA2B,SAAQ,mBAAmB;;;;;IAcrD,mBAAmB;QACzB,KAAK,CAAC,mBAAmB,EAAE,CAAC;QAE5B,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;QACvB,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;QACzB,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;QACtB,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;QAC5B,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;QACpB,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;QACpB,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;QACxB,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;QACxB,IAAI,CAAC,uBAAuB,GAAG,IAAI,CAAC;QACpC,IAAI,CAAC,QAAQ,GAAG,CAAC,CAAC;QAClB,IAAI,CAAC,SAAS,GAAG,CAAC,CAAC;KACtB;;;;IAEM,mBAAmB;;YAClB,GAAG,GAAG,KAAK,CAAC,mBAAmB,EAAE;QAErC,mBAAmB,CAAC,iBAAiB,CAAC,GAAG,EAAE,MAAM,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC;QAC9D,mBAAmB,CAAC,iBAAiB,CAAC,GAAG,EAAE,YAAY,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC;QAC1E,mBAAmB,CAAC,iBAAiB,CAAC,GAAG,EAAE,cAAc,EAAE,IAAI,CAAC,YAAY,CAAC,CAAC;QAC9E,mBAAmB,CAAC,iBAAiB,CAAC,GAAG,EAAE,WAAW,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC;QACxE,mBAAmB,CAAC,iBAAiB,CAAC,GAAG,EAAE,iBAAiB,EAAE,IAAI,CAAC,eAAe,CAAC,CAAC;QACpF,mBAAmB,CAAC,iBAAiB,CAAC,GAAG,EAAE,SAAS,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC;QACpE,mBAAmB,CAAC,iBAAiB,CAAC,GAAG,EAAE,SAAS,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC;QACpE,mBAAmB,CAAC,iBAAiB,CAAC,GAAG,EAAE,aAAa,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;QAC5E,mBAAmB,CAAC,iBAAiB,CAAC,GAAG,EAAE,aAAa,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;QAC5E,mBAAmB,CAAC,iBAAiB,CAAC,GAAG,EAAE,yBAAyB,EAAE,IAAI,CAAC,uBAAuB,CAAC,CAAC;QACpG,mBAAmB,CAAC,iBAAiB,CAAC,GAAG,EAAE,UAAU,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC;QACtE,mBAAmB,CAAC,iBAAiB,CAAC,GAAG,EAAE,WAAW,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC;QAExE,OAAO,GAAG,CAAC;KACd;;;;;IAEM,kBAAkB,CAAC,GAAO;QAC7B,KAAK,CAAC,kBAAkB,CAAC,GAAG,CAAC,CAAC;QAE9B,IAAI,CAAC,IAAI,GAAG,mBAAmB,CAAC,mCAAmC,CAAC,GAAG,EAAE,MAAM,EAAE,SAAS,CAAC,CAAC;QAC5F,IAAI,CAAC,UAAU,GAAG,mBAAmB,CAAC,mCAAmC,CAAC,GAAG,EAAE,YAAY,EAAE,SAAS,CAAC,CAAC;QACxG,IAAI,CAAC,YAAY,GAAG,mBAAmB,CAAC,mCAAmC,CAAC,GAAG,EAAE,cAAc,EAAE,SAAS,CAAC,CAAC;QAC5G,IAAI,CAAC,SAAS,GAAG,mBAAmB,CAAC,mCAAmC,CAAC,GAAG,EAAE,WAAW,EAAE,SAAS,CAAC,CAAC;QACtG,IAAI,CAAC,eAAe,GAAG,mBAAmB,CAAC,mCAAmC,CAAC,GAAG,EAAE,iBAAiB,EAAE,SAAS,CAAC,CAAC;QAClH,IAAI,CAAC,OAAO,GAAG,mBAAmB,CAAC,mCAAmC,CAAC,GAAG,EAAE,SAAS,EAAE,SAAS,CAAC,CAAC;QAClG,IAAI,CAAC,OAAO,GAAG,mBAAmB,CAAC,mCAAmC,CAAC,GAAG,EAAE,SAAS,EAAE,SAAS,CAAC,CAAC;QAClG,IAAI,CAAC,WAAW,GAAG,mBAAmB,CAAC,mCAAmC,CAAC,GAAG,EAAE,aAAa,EAAE,SAAS,CAAC,CAAC;QAC1G,IAAI,CAAC,WAAW,GAAG,mBAAmB,CAAC,mCAAmC,CAAC,GAAG,EAAE,aAAa,EAAE,SAAS,CAAC,CAAC;QAC1G,IAAI,CAAC,uBAAuB,GAAG,mBAAmB,CAAC,mCAAmC,CAAC,GAAG,EAAE,yBAAyB,EAAE,SAAS,CAAC,CAAC;QAClI,IAAI,CAAC,QAAQ,GAAG,mBAAmB,CAAC,yBAAyB,CAAC,GAAG,EAAE,UAAU,CAAC,CAAC;QAC/E,IAAI,CAAC,SAAS,GAAG,mBAAmB,CAAC,yBAAyB,CAAC,GAAG,EAAE,WAAW,CAAC,CAAC;KACpF;CACJ;;;;;;;;ICnEG,KAAM,KAAK;IACX,MAAO,MAAM;;;;;;;;ACFjB,MAAa,oCAAoC,GAAG;IAClD,QAAQ,EAAE;QACR,MAAM,EAAE,IAAI;QACZ,MAAM,EAAE,IAAI;QACZ,kBAAkB,EAAE,QAAQ;QAC5B,QAAQ,EAAE,MAAM;QAChB,UAAU,EAAE,MAAM;QAClB,aAAa,EAAE,MAAM;QACrB,aAAa,EAAE,MAAM;QACrB,UAAU,EAAE,IAAI;QAChB,WAAW,EAAE,IAAI;QACjB,cAAc,EAAE,MAAM;QACtB,SAAS,EAAE,MAAM;QACjB,QAAQ,EAAE,IAAI;QACd,KAAK,EAAE,IAAI;QACX,SAAS,EAAE,KAAK;QAChB,UAAU,EAAE,KAAK;QACjB,KAAK,EAAE,GAAG;QACV,IAAI,EAAE,GAAG;QACT,cAAc,EAAE,MAAM;QACtB,eAAe,EAAE,MAAM;QACvB,UAAU,EAAE,IAAI;QAChB,QAAQ,EAAE,IAAI;QACd,SAAS,EAAE,KAAK;QAChB,0BAA0B,EAAE,UAAU;QACtC,yBAAyB,EAAE,SAAS;QACpC,iBAAiB,EAAE,MAAM;QACzB,iBAAiB,EAAE,MAAM;QACzB,aAAa,EAAE,IAAI;QACnB,SAAS,EAAE,IAAI;QACf,KAAK,EAAE,OAAO;QACd,QAAQ,EAAE,OAAO;QACjB,YAAY,EAAE,MAAM;KACrB;IACD,IAAI,EAAE;QACJ,MAAM,EAAE,MAAM;QACd,MAAM,EAAE,MAAM;QACd,kBAAkB,EAAE,oBAAoB;QACxC,QAAQ,EAAE,eAAe;QACzB,UAAU,EAAE,iBAAiB;QAC7B,aAAa,EAAE,cAAc;QAC7B,aAAa,EAAE,cAAc;QAC7B,UAAU,EAAE,UAAU;QACtB,WAAW,EAAE,WAAW;QACxB,cAAc,EAAE,eAAe;QAC/B,SAAS,EAAE,aAAa;QACxB,QAAQ,EAAE,QAAQ;QAClB,KAAK,EAAE,KAAK;QACZ,SAAS,EAAE,SAAS;QACpB,UAAU,EAAE,UAAU;QACtB,KAAK,EAAE,KAAK;QACZ,IAAI,EAAE,IAAI;QACV,cAAc,EAAE,eAAe;QAC/B,eAAe,EAAE,gBAAgB;QACjC,UAAU,EAAE,UAAU;QACtB,QAAQ,EAAE,QAAQ;QAClB,SAAS,EAAE,YAAY;QACvB,0BAA0B,EAAE,8BAA8B;QAC1D,yBAAyB,EAAE,6BAA6B;QACxD,iBAAiB,EAAE,gBAAgB;QACnC,iBAAiB,EAAE,kBAAkB;QACrC,aAAa,EAAE,QAAQ;QACvB,SAAS,EAAE,IAAI;QACf,KAAK,EAAE,OAAO;QACd,QAAQ,EAAE,WAAW;QACrB,YAAY,EAAE,OAAO;KACtB;IACD,QAAQ,EAAE;QACR,MAAM,EAAE,IAAI;QACZ,MAAM,EAAE,IAAI;QACZ,kBAAkB,EAAE,QAAQ;QAC5B,QAAQ,EAAE,MAAM;QAChB,UAAU,EAAE,MAAM;QAClB,aAAa,EAAE,MAAM;QACrB,aAAa,EAAE,MAAM;QACrB,UAAU,EAAE,IAAI;QAChB,WAAW,EAAE,IAAI;QACjB,cAAc,EAAE,MAAM;QACtB,SAAS,EAAE,MAAM;QACjB,QAAQ,EAAE,IAAI;QACd,KAAK,EAAE,IAAI;QACX,SAAS,EAAE,KAAK;QAChB,UAAU,EAAE,KAAK;QACjB,KAAK,EAAE,GAAG;QACV,IAAI,EAAE,GAAG;QACT,cAAc,EAAE,MAAM;QACtB,eAAe,EAAE,MAAM;QACvB,UAAU,EAAE,IAAI;QAChB,QAAQ,EAAE,IAAI;QACd,SAAS,EAAE,KAAK;QAChB,0BAA0B,EAAE,UAAU;QACtC,yBAAyB,EAAE,SAAS;QACpC,iBAAiB,EAAE,MAAM;QACzB,iBAAiB,EAAE,MAAM;QACzB,aAAa,EAAE,IAAI;QACnB,SAAS,EAAE,IAAI;QACf,KAAK,EAAE,OAAO;QACd,QAAQ,EAAE,OAAO;QACjB,YAAY,EAAE,MAAM;KACrB;CACF;;;;;;ACpGD,aA0B6C,oCAAoC;AAIjF,MAAa,wBAAwB;;;;;;;;;;;;;IA0DnC,YACU,eAAuC,EACvC,QAAyB,EACzB,MAAqB,EACrB,YAA4B,EAC5B,gBAAkC,EAClC,MAAc,EACd,cAA8B,EAC9B,OAAuB,EACZ,QAAgB,EAC3B,UAAyB;QATzB,oBAAe,GAAf,eAAe,CAAwB;QACvC,aAAQ,GAAR,QAAQ,CAAiB;QACzB,WAAM,GAAN,MAAM,CAAe;QACrB,iBAAY,GAAZ,YAAY,CAAgB;QAC5B,qBAAgB,GAAhB,gBAAgB,CAAkB;QAClC,WAAM,GAAN,MAAM,CAAQ;QACd,mBAAc,GAAd,cAAc,CAAgB;QAC9B,YAAO,GAAP,OAAO,CAAgB;QAEvB,eAAU,GAAV,UAAU,CAAe;QAnEzB,eAAU,GAAG,IAAI,YAAY,EAAO,CAAC;QACrC,gBAAW,GAAG,IAAI,YAAY,EAAO,CAAC;QAWvC,iBAAY,GAEjB,EAAE,CAAC;QAGP,gBAAW,GAAG;YACZ,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,iBAAiB,CAAC;YACnD,KAAK,EAAE,IAAI;YACX,MAAM,EAAE,GAAG;YACX,WAAW,EAAE,IAAI;SAClB,CAAC;QAEF,gBAAW,GAAG,IAAI,YAAY,EAAO,CAAC;QAKtC,cAAS,GAAW,IAAI,CAAC;QACzB,WAAM,GAAU,EAAE,CAAC;QACnB,cAAS,GAAU,EAAE,CAAC;QACtB,iBAAY,GAAG,KAAK,CAAC;QACrB,gBAAW,GAAG,KAAK,CAAC;QACpB,cAAS,GAAG,KAAK,CAAC;QAST,oBAAe,GAAW,EAAE,CAAC;QACtC,aAAQ,GAAG,CAAC,IAAI,CAAC,eAAe,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC,CAAC;;;;QAKrD,eAAU,GAIN;YACA,QAAQ,EAAE,EAAE;SACb,CAAC;QAcF,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,uBAAuB,EAAE,CAAC;KAClD;;;;;IAnED,IACI,KAAK,CAAC,IAAS;QACjB,IAAI,IAAI,EAAE;YACR,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;YACxB,IAAI,CAAC,UAAU,CAAC,IAAI,GAAG,IAAI,CAAC,WAAW,CAAC;YACxC,IAAI,CAAC,UAAU,CAAC,QAAQ,GAAG,IAAI,CAAC,WAAW,CAAC;SAC7C;KACF;;;;IA8DD,QAAQ;QACN,IAAI,CAAC,eAAe,EAAE,CAAC;;;;;;QAMvB,IAAI,IAAI,CAAC,WAAW,IAAI,IAAI,EAAE;YAC5B,IAAI,CAAC,eAAe,CAAC,oBAAoB,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,SAAS;;;;YACnE,CAAC,WAAW;gBACV,IAAI,CAAC,UAAU,CAAC,IAAI,GAAG,WAAW,CAAC;gBACnC,IAAI,IAAI,CAAC,UAAU,CAAC,IAAI,EAAE;oBACxB,IAAI,CAAC,UAAU,CAAC,QAAQ,GAAG,GAAG,IAAI,CAAC,UAAU,CAAC,IAAI,IAAI,IAAI,CAAC,UAAU,CAAC,IAAI,GAAG,CAAC;iBAC/E;qBAAM;oBACL,IAAI,CAAC,UAAU,CAAC,QAAQ,GAAG,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC;iBACjD;aACF,EACF,CAAC;SACH;QACD,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC,CAAC,SAAS;;;QAAC;YACnD,UAAU;;;YAAC;gBACT,IAAI,IAAI,CAAC,MAAM,IAAI,IAAI,CAAC,MAAM,CAAC,MAAM,GAAG,CAAC,EAAE;;0BACnC,IAAI,GAAG,IAAI,CAAC,WAAW,IAAI,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,IAAI;;;;oBAAC,CAAC,EAAE,KAAK,EAAE,CAAC,IAAI,IAAI,IAAI,CAAC,WAAW,EAAC,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC;oBAC9G,IAAI,IAAI,IAAI,CAAC,EAAE,CAAC,SAAS,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;iBACpC;aACF,GAAE,GAAG,CAAC,CAAC;SACT,EAAC,CAAC;KACJ;;;;;IAED,OAAO,CAAC,GAAI;QACV,IAAI,IAAI,CAAC,EAAE,CAAC,WAAW,IAAI,IAAI,EAAE;YAC/B,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,yBAAyB,CAAC,CAAC,CAAC;YAC1E,OAAO;SACR;QACD,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;;cAC1C,MAAM,GAAG,EAAE,KAAK,EAAE,IAAI,CAAC,EAAE,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,EAAE,UAAU,EAAE,IAAI,EAAE;QACzE,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;QAC9B,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,QAAQ,CAAC,KAAK,EAAE,CAAC;KACxC;;;;;IAED,WAAW,CAAC,GAAI;QACd,IAAI,CAAC,WAAW,CAAC,QAAQ,EAAE,CAAC;QAC5B,IAAI,CAAC,UAAU,CAAC,IAAI,EAAE,CAAC;QACvB,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,QAAQ,CAAC,KAAK,EAAE,CAAC;KACxC;;;;;IAED,QAAQ,CAAC,KAAU;QACjB,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;QACxB,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;QAC7B,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC,CAAC,SAAS;;;QAClD;YACE,IAAI,CAAC,EAAE,CAAC,aAAa,EAAE,CAAC;YACxB,IAAI,CAAC,EAAE,CAAC,eAAe,EAAE,CAAC;SAC3B,EACF,CAAC;KACH;;;;;IAED,aAAa,CAAC,GAAG;QACf,IAAI,CAAC,eAAe,CAAC,iBAAiB,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;KACrD;;;;;IAED,iBAAiB,CAAC,MAA+C;;;YAE3D,UAAU,GAAG,IAAI,CAAC,EAAE,CAAC,QAAQ,CAAC,GAAG;;;;QAAC,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,EAAE,EAAC;QAErD,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC,QAAQ,GAAG,MAAM,CAAC,QAAQ,CAAC;QACtD,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC,CAAC,SAAS;;;QAClD;YACE,UAAU;;;YAAC;gBACT,IAAI,CAAC,EAAE,CAAC,SAAS,CAAC,UAAU,EAAE,IAAI,CAAC,CAAC;gBACpC,IAAI,CAAC,EAAE,CAAC,OAAO,EAAE,CAAC;aACnB,GAAE,CAAC,CAAC,CAAC;SACP,EACF,CAAC;KACH;;;;;IAED,aAAa,CAAC,MAA+C;;;YAEvD,UAAU,GAAG,IAAI,CAAC,EAAE,CAAC,QAAQ,CAAC,GAAG;;;;QAAC,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,EAAE,EAAC;QAErD,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC,SAAS,GAAG,MAAM,CAAC,SAAS,GAAG,CAAC,CAAC;QAC5D,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC,QAAQ,GAAG,MAAM,CAAC,QAAQ,CAAC;QACtD,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC,CAAC,SAAS;;;QAClD;YACE,UAAU;;;YAAC;gBACT,IAAI,CAAC,EAAE,CAAC,SAAS,CAAC,UAAU,EAAE,IAAI,CAAC,CAAC;gBACpC,IAAI,CAAC,EAAE,CAAC,OAAO,EAAE,CAAC;aACnB,GAAE,CAAC,CAAC,CAAC;SACP,EACF,CAAC;KACH;;;;;IAED,iBAAiB,CAAC,QAAiD;;YAC7D,UAAU,GAAG,IAAI,CAAC,EAAE,CAAC,QAAQ,CAAC,GAAG;;;;QAAC,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,EAAE,EAAC;QAErD,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC,SAAS,GAAG,QAAQ,CAAC,SAAS,GAAG,CAAC,CAAC;QAC9D,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC,QAAQ,GAAG,QAAQ,CAAC,QAAQ,CAAC;QACxD,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC,CAAC,SAAS;;;QAClD;YACE,UAAU;;;YAAC;gBACT,IAAI,CAAC,EAAE,CAAC,SAAS,CAAC,UAAU,EAAE,IAAI,CAAC,CAAC;gBACpC,IAAI,CAAC,EAAE,CAAC,OAAO,EAAE,CAAC;aACnB,GAAE,CAAC,CAAC,CAAC;SACP,EACF,CAAC;KACH;;;;;IAED,qBAAqB,CAAC,IAAY;;YAC5B,UAAU,GAAG,IAAI,CAAC,EAAE,CAAC,QAAQ,CAAC,GAAG;;;;QAAC,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,EAAE,EAAC;QAErD,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC,QAAQ,GAAG,IAAI,CAAC;QAC3C,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC,CAAC,SAAS;;;QAClD;YACE,UAAU;;;YAAC;gBACT,IAAI,CAAC,EAAE,CAAC,SAAS,CAAC,UAAU,EAAE,IAAI,CAAC,CAAC;gBACpC,IAAI,CAAC,EAAE,CAAC,OAAO,EAAE,CAAC;aACnB,GAAE,CAAC,CAAC,CAAC;SACP,EACF,CAAC;KACH;;;;IAED,gBAAgB;KAEf;;;;;;IAEO,SAAS,CAAC,IAAgC;;cAC1C,WAAW,GAAG,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE,OAAO,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,SAAS,CAAC,EAAE,CAAC;QACxF,OAAO,IAAI,CAAC,eAAe,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC,IAAI,CACpD,SAAS;;;;QACP,CAAC,OAAgC;YAC/B,IAAI,CAAC,MAAM,GAAG,CAAC,GAAG,OAAO,CAAC,QAAQ,CAAC,CAAC;;YAEpC,IAAI,CAAC,EAAE,CAAC,YAAY,CAAC,OAAO,CAAC,SAAS,GAAG,CAAC,CAAC,CAAC;YAC5C,IAAI,CAAC,EAAE,CAAC,KAAK,GAAG,OAAO,CAAC,UAAU,CAAC;YACnC,IAAI,CAAC,EAAE,CAAC,QAAQ,GAAG,OAAO,CAAC,QAAQ,CAAC;;;;YAKpC,WAAW,CAAC,KAAK,EAAE,CAAC;YACpB,OAAOH,IAAE,CAAC,OAAO,CAAC,CAAC;SACpB,EACF,EACD,UAAU;;;;QACR,CAAC,GAAG;YACF,WAAW,CAAC,KAAK,EAAE,CAAC;YACpB,UAAU;;;YAAC;;gBAET,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,GAAG,CAAC,KAAK,IAAI,IAAI,GAAG,GAAG,CAAC,OAAO,IAAI,GAAG,CAAC,KAAK,CAAC,OAAO,IAAI,GAAG,CAAC,KAAK,CAAC,OAAO,IAAI,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC;aAChH,GAAE,GAAG,CAAC,CAAC;YACR,MAAM,GAAG,CAAC;SACX,EACF,CACF,CAAC;KACH;;;;;IAEO,eAAe;QACrB,IAAI,CAAC,SAAS,GAAG;;;;;;;;;;;;;YAaf,EAAE,KAAK,EAAE,MAAM,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,MAAM,CAAC,EAAE,KAAK,EAAE,GAAG,EAAE,QAAQ,EAAE,IAAI,EAAE;YACvF;gBACE,KAAK,EAAE,MAAM,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,MAAM,CAAC,EAAE,KAAK,EAAE,GAAG,EAAE,QAAQ,EAAE,IAAI;gBACnF,QAAQ,EAAE,IAAI,CAAC,YAAY;aAC5B;YACD,EAAE,KAAK,EAAE,cAAc,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,QAAQ,CAAC,EAAE,KAAK,EAAE,GAAG,EAAE,QAAQ,EAAE,IAAI,EAAE;YACjG,EAAE,KAAK,EAAE,gBAAgB,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,UAAU,CAAC,EAAE,KAAK,EAAE,GAAG,EAAE,QAAQ,EAAE,IAAI,EAAE;;;;;;;;;;;;;YAarG;gBACE,KAAK,EAAE,SAAS,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,SAAS,CAAC,EAAE,KAAK,EAAE,EAAE,EAAE,QAAQ,EAAE,KAAK;gBACzF,SAAS;;;;;;gBAAE,CAAC,KAAc,EAAE,OAAO,EAAE,QAAQ;oBAC3C,IAAI,KAAK,IAAI,IAAI,EAAE;wBACjB,OAAO,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC;qBACzC;yBAAM,IAAI,KAAK,IAAI,KAAK,EAAE;wBACzB,OAAO,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;qBACxC;yBAAM;wBACL,OAAO,GAAG,CAAC;qBACZ;iBACF,CAAA;aACF;SAwBF,CAAC;KACH;;;;;IAEO,uBAAuB;;cACvB,UAAU,GAAG;YACjB,UAAU,EAAE,IAAI,0BAA0B,EAAE;YAC5C,aAAa,EAAE,EAAE;SAClB;QAED,UAAU,CAAC,UAAU,CAAC,QAAQ,GAAG,IAAI,CAAC,eAAe,CAAC;QACtD,UAAU,CAAC,UAAU,CAAC,SAAS,GAAG,CAAC,CAAC;QACpC,UAAU,CAAC,UAAU,CAAC,uBAAuB,GAAG,IAAI,SAAS,EAAE,CAAC;QAChE,UAAU,CAAC,UAAU,CAAC,uBAAuB,CAAC,KAAK,GAAG,gBAAgB,CAAC,IAAI,CAAC;QAC5E,UAAU,CAAC,UAAU,CAAC,uBAAuB,CAAC,QAAQ,GAAG,IAAI,CAAC;QAC9D,UAAU,CAAC,UAAU,CAAC,eAAe,GAAG,IAAI,SAAS,EAAE,CAAC;QACxD,UAAU,CAAC,UAAU,CAAC,eAAe,CAAC,KAAK,GAAG,eAAe,CAAC,kBAAkB,CAAC;QACjF,UAAU,CAAC,UAAU,CAAC,eAAe,CAAC,QAAQ,GAAG,IAAI,CAAC;QACtD,UAAU,CAAC,UAAU,CAAC,SAAS,GAAG,IAAI,SAAS,EAAE,CAAC;QAClD,UAAU,CAAC,UAAU,CAAC,SAAS,CAAC,KAAK,GAAG,MAAM,CAAC;QAC/C,UAAU,CAAC,UAAU,CAAC,SAAS,CAAC,QAAQ,GAAG,IAAI,CAAC;QAGhD,OAAO,UAAU,CAAC;KACnB;;;YAzUF,SAAS,SAAC;gBACT,QAAQ,EAAE,uBAAuB;gBACjC,qrEAAiD;gBAEjD,SAAS,EAAE;oBACT,EAAE,OAAO,EAAE,kBAAkB,EAAE,QAAQ,MAAsC,EAAE;oBAC/E,aAAa;iBACd;;aACF;;;;YA3BQ,sBAAsB;YACtB,eAAe;YACf,aAAa;YACb,cAAc;YACd,gBAAgB;YAChB,MAAM;YAAE,cAAc;YACtB,cAAc;yCAyFlB,MAAM,SAAC,SAAS;YA/EZ,aAAa;;;yBAanB,MAAM;0BACN,MAAM;oBAEN,KAAK;2BASL,KAAK;iBAeL,SAAS,SAAC,IAAI;2BAQd,SAAS,SAAC,cAAc;0BAGxB,SAAS,SAAC,kBAAkB;;;;;;;ACrE/B,MA2Ba,gCAAgC;;;;;;;;;;;;;;;;IAuF3C,YACU,MAAqB,EACrB,YAA4B,EAC5B,OAAwB,EACxB,IAAmB,EACnB,IAAiB,EACjB,aAAqC,EACrC,IAAuB,EACvB,GAA6B,EAC7B,GAAa,EACD,GAAsB,EACf,QAAgB,EACR,SAAc,EAC7B,UAAwB;QAZpC,WAAM,GAAN,MAAM,CAAe;QACrB,iBAAY,GAAZ,YAAY,CAAgB;QAC5B,YAAO,GAAP,OAAO,CAAiB;QACxB,SAAI,GAAJ,IAAI,CAAe;QACnB,SAAI,GAAJ,IAAI,CAAa;QACjB,kBAAa,GAAb,aAAa,CAAwB;QACrC,SAAI,GAAJ,IAAI,CAAmB;QACvB,QAAG,GAAH,GAAG,CAA0B;QAC7B,QAAG,GAAH,GAAG,CAAU;QACD,QAAG,GAAH,GAAG,CAAmB;QACf,aAAQ,GAAR,QAAQ,CAAQ;QACR,cAAS,GAAT,SAAS,CAAK;QAC7B,eAAU,GAAV,UAAU,CAAc;QAlG9C,QAAG,GAAG,8BAA8B,CAAC;QAE5B,iBAAY,GAEjB,EAAE,CAAC;QA4BG,eAAU,GAAG,IAAI,YAAY,EAAO,CAAC;QACrC,gBAAW,GAAG,IAAI,YAAY,EAAO,CAAC;QAGhD,gBAAW,GAAG;YACZ,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,oCAAoC,CAAC;YACtE,KAAK,EAAE,GAAG;YACV,MAAM,EAAE,GAAG;YACX,WAAW,EAAE,IAAI;SAClB,CAAC;QAEF,2BAAsB,GAA2B,IAAIoB,wBAAsB,EAAE,CAAC;QAE9E,cAAS,GAAG,sCAAsC,CAAC;QAE1C,mBAAc,GAAG,cAAc,CAAC;QAChC,mBAAc,GAAG,cAAc,CAAC;QAwBzC,8BAAyB,GAAG;YAC1B,EAAE,KAAK,EAAE,WAAW,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,gCAAgC,CAAC,EAAE;YACzF,EAAE,KAAK,EAAE,SAAS,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,8BAA8B,CAAC,EAAE;SACtF,CAAC;QAIF,6BAAwB,GAAG;YACzB,EAAE,KAAK,EAAE,cAAc,CAAC,aAAa,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,oCAAoC,CAAC,EAAE;YAC9G,EAAE,KAAK,EAAE,cAAc,CAAC,YAAY,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,mCAAmC,CAAC,EAAE;YAC5G,EAAE,KAAK,EAAE,cAAc,CAAC,mBAAmB,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,0CAA0C,CAAC,EAAE;SAC3H,CAAC;QAiBA,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,IAAI,IAAI,YAAY,CAAC,QAAQ,EAAE,SAAS,CAAC,CAAC;KAC3E;;;;;IA/FF,IAAa,KAAK,CAAC,CAAyB;QAC1C,IAAI,CAAC,EAAE;YACL,IAAI,CAAC,sBAAsB,GAAG,CAAC,CAAC;;YAEhC,IAAI,IAAI,CAAC,sBAAsB,CAAC,aAAa,IAAI,IAAI,IAAI,IAAI,CAAC,sBAAsB,CAAC,aAAa,IAAI,EAAE,EAAE;gBACxG,IAAI,IAAI,CAAC,sBAAsB,CAAC,eAAe,IAAI,IAAI,IAAI,IAAI,CAAC,sBAAsB,CAAC,eAAe,IAAI,EAAE,EAAE;oBAC5G,IAAI,CAAC,sBAAsB,CAAC,cAAc,GAAG,cAAc,CAAC,SAAS,CAAC;iBACvE;qBAAM;oBACL,IAAI,CAAC,sBAAsB,CAAC,cAAc,GAAG,cAAc,CAAC,OAAO,CAAC;iBACrE;aACF;iBAAM;gBACL,IAAI,CAAC,sBAAsB,CAAC,cAAc,GAAG,cAAc,CAAC,SAAS,CAAC;aACvE;;YAED,IAAI,IAAI,CAAC,sBAAsB,CAAC,gBAAgB,KAAK,IAAI,EAAE;gBACzD,IAAI,CAAC,sBAAsB,CAAC,cAAc,GAAG,cAAc,CAAC,aAAa,CAAC;aAC3E;iBAAM,IAAI,IAAI,CAAC,sBAAsB,CAAC,gBAAgB,KAAK,KAAK,IAAI,IAAI,CAAC,sBAAsB,CAAC,mBAAmB,KAAK,KAAK,EAAE;gBAC9H,IAAI,CAAC,sBAAsB,CAAC,cAAc,GAAG,cAAc,CAAC,mBAAmB,CAAC;aACjF;iBAAM,IAAI,IAAI,CAAC,sBAAsB,CAAC,gBAAgB,KAAK,KAAK,IAAI,IAAI,CAAC,sBAAsB,CAAC,mBAAmB,KAAK,IAAI,EAAE;gBAC7H,IAAI,CAAC,sBAAsB,CAAC,cAAc,GAAG,cAAc,CAAC,YAAY,CAAC;aAC1E;YACD,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,sBAAsB,CAAC,aAAa,CAAC,CAAC;YACjE,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,sBAAsB,CAAC,eAAe,CAAC,CAAC;YAC9D,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,sBAAsB,CAAC,cAAc,CAAC,CAAC;SACpE;KACF;;;;IAwED,QAAQ;KACP;;;;IAGD,OAAO;QACL,IAAI,IAAI,CAAC,SAAS,EAAE,EAAE;;kBACd,MAAM,GAAG,EAAE,KAAK,EAAE,IAAI,CAAC,sBAAsB,EAAE,UAAU,EAAE,IAAI,EAAE;YACvE,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;SAC/B;KACF;;;;IAED,WAAW;QACT,IAAI,CAAC,UAAU,CAAC,IAAI,EAAE,CAAC;KACxB;;;;;IAED,cAAc,CAAC,IAAS;QACtB,IAAI,IAAI,EAAE;YACR,IAAI,CAAC,sBAAsB,CAAC,aAAa,GAAG,IAAI,CAAC,UAAU,CAAC;YAC5D,IAAI,CAAC,sBAAsB,CAAC,iBAAiB,GAAG,IAAI,CAAC,IAAI,CAAC;SAC3D;KACF;;;;;IAED,iBAAiB,CAAC,GAAG;QACnB,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;QACjB,IAAI,GAAG,IAAI,cAAc,CAAC,SAAS,EAAE;YACnC,IAAI,CAAC,sBAAsB,CAAC,eAAe,GAAG,IAAI,CAAC;YACnD,IAAI,CAAC,sBAAsB,CAAC,gBAAgB,GAAG,IAAI,CAAC;SACrD;aAAM,IAAI,GAAG,IAAI,cAAc,CAAC,OAAO,EAAE;YACxC,IAAI,CAAC,sBAAsB,CAAC,aAAa,GAAG,IAAI,CAAC;YACjD,IAAI,CAAC,sBAAsB,CAAC,iBAAiB,GAAG,IAAI,CAAC;SACtD;KACF;;;;;IAED,gBAAgB,CAAC,GAAG;QAClB,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;QACjB,IAAI,GAAG,IAAI,cAAc,CAAC,aAAa,EAAE;YACvC,IAAI,CAAC,sBAAsB,CAAC,gBAAgB,GAAG,IAAI,CAAC;YACpD,IAAI,CAAC,sBAAsB,CAAC,mBAAmB,GAAG,KAAK,CAAC;SACzD;aAAM,IAAI,GAAG,IAAI,cAAc,CAAC,YAAY,EAAE;YAC7C,IAAI,CAAC,sBAAsB,CAAC,gBAAgB,GAAG,KAAK,CAAC;YACrD,IAAI,CAAC,sBAAsB,CAAC,mBAAmB,GAAG,IAAI,CAAC;SACxD;aAAM,IAAI,GAAG,IAAI,cAAc,CAAC,mBAAmB,EAAE;YACpD,IAAI,CAAC,sBAAsB,CAAC,gBAAgB,GAAG,KAAK,CAAC;YACrD,IAAI,CAAC,sBAAsB,CAAC,mBAAmB,GAAG,KAAK,CAAC;SACzD;KACF;;;;IAED,aAAa;QACX,IAAI,CAAC,YAAY,EAAE,CAAC,SAAS;;;;QAC3B,CAAC,GAAkB;YACjB,IAAI,GAAG,IAAI,IAAI,EAAE;gBACf,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,8BAA8B,CAAC,CAAC,CAAC;gBAC/E,OAAO;aACR;YACD,IAAI,CAAC,sBAAsB,CAAC,cAAc,GAAG,GAAG,CAAC,IAAI,CAAC;YACtD,IAAI,CAAC,sBAAsB,CAAC,cAAc,GAAG,GAAG,CAAC,IAAI,CAAC;SACvD,EACF,CAAC;KACH;;;;IAED,YAAY;QACV,IAAI,CAAC,sBAAsB,CAAC,cAAc,GAAG,IAAI,CAAC;QAClD,IAAI,CAAC,sBAAsB,CAAC,cAAc,GAAG,IAAI,CAAC;KACnD;;;;IAED,YAAY;;cACJ,IAAI,GAAG,IAAI,CAAC,GAAG,CAAC,uBAAuB,CAAC,wBAAwB,CAAC;;cACjE,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,EAAE,EAAE,CAAC;QACtC,IAAI,CAAC,QAAQ,CAAC,YAAY,GAAG,IAAI,CAAC,YAAY,CAAC;;cACzC,QAAQ,GAAG,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,EAAE;YAC5C,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,mCAAmC,CAAC;YACrE,KAAK,EAAE,IAAI;YACX,MAAM,EAAE,GAAG;YACX,SAAS,EAAE,IAAI;YACf,OAAO,EAAE;gBACP;oBACE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,8BAA8B,CAAC;oBAC/D,GAAG,EAAE,iBAAiB;oBACtB,MAAM;;;;oBAAE,CAAC,GAAG;wBACV,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;wBAC3B,QAAQ,CAAC,KAAK,EAAE,CAAC;qBAClB,CAAA;iBACF;gBACD;oBACE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,kCAAkC,CAAC;oBACnE,GAAG,EAAE,mBAAmB;oBACxB,MAAM;;;;oBAAE,CAAC,GAAG;wBACV,IAAI,CAAC,QAAQ,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC;wBAC/B,QAAQ,CAAC,KAAK,EAAE,CAAC;qBAClB,CAAA;iBACF;aACF;YACD,MAAM;;;YAAE;gBACN,QAAQ,CAAC,MAAM,CAAC,OAAO,EAAE,CAAC;aAC3B,CAAA;SACF,CAAC;QACF,IAAI,CAAC,QAAQ,CAAC,QAAQ,GAAG,QAAQ,CAAC;QAElC,OAAO,IAAI,CAAC,QAAQ,CAAC,WAAW,CAAC,YAAY,EAAE,CAAC;KACjD;;;;;IAED,eAAe,CAAC,IAAS;QACvB,IAAI,CAAC,sBAAsB,CAAC,aAAa,GAAG,EAAE,CAAC;QAC/C,IAAI,CAAC,sBAAsB,CAAC,iBAAiB,GAAG,EAAE,CAAC;KACpD;;;;;IAED,eAAe,CAAC,IAAS;QACvB,IAAI,IAAI,EAAE;YACR,IAAI,CAAC,sBAAsB,CAAC,eAAe,GAAG,IAAI,CAAC,EAAE,CAAC;YACtD,IAAI,CAAC,sBAAsB,CAAC,gBAAgB,GAAG,IAAI,CAAC,IAAI,CAAC;SAC1D;KACF;;;;;IACD,aAAa,CAAC,IAAS;QACrB,IAAI,CAAC,sBAAsB,CAAC,eAAe,GAAG,EAAE,CAAC;QACjD,IAAI,CAAC,sBAAsB,CAAC,gBAAgB,GAAG,EAAE,CAAC;KACnD;;;;IAED,YAAY;QACV,IAAI,CAAC,YAAY,EAAE,CAAC;KACrB;;;;;IAEO,YAAY;;YACd,OAAO,GAAG,IAAI,KAAK,EAAa;;;;;QAKpC,IAAI,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE;YACzC,KAAK,MAAM,MAAM,IAAI,IAAI,CAAC,aAAa,CAAC,OAAO,EAAE;gBAC/C,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,QAAQ,EAAE,MAAM,CAAC,CAAC;aACvC;YACD,IAAI,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,WAAW,IAAI,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC,MAAM,GAAG,CAAC,EAAE;;sBAC/F,UAAU,GAAG,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC;gBAC/D,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,UAAU,CAAC,IAAI,EAAE,QAAQ,EACnD,UAAU,CAAC,IAAI,EAAE,YAAY,CAAC,UAAU,CAAC,CAAC;aAC7C;SACF;QACD,OAAO,GAAG,IAAI,CAAC,aAAa,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC;QACjD,IAAI,IAAI,CAAC,aAAa,CAAC,kBAAkB,CAAC,MAAM,GAAG,CAAC,EAAE;YACpD,KAAK,MAAM,QAAQ,IAAI,IAAI,CAAC,aAAa,CAAC,kBAAkB,EAAE;gBAC5D,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;;aAExB;SACF;QACD,IAAI,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE;YACtB,KAAK,MAAM,CAAC,IAAI,OAAO,EAAE;gBACvB,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;aACzB;SACF;QACD,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,sBAAsB,CAAC,SAAS,CAAC,CAAC;QACnE,IAAI,CAAC,IAAI,CAAC,eAAe,EAAE,CAAC,IAAI;;;;QAAC,CAAC,cAAsB;YACtD,IAAI,CAAC,sBAAsB,CAAC,SAAS,GAAG,cAAc,CAAC;;YAEvD,IAAG,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE;gBACrB,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,eAAe,GAAG,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,eAAe,CAAC,MAAM;;;;gBAAC,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,GAAG,KAAK,CAAC,CAAC,GAAG,EAAC,EAAC,CAAC;aAC9H;SACF,EAAC,CAAC;KACJ;;;;;IAED,WAAW,CAAC,IAAa;QACvB,IAAI,IAAI,EAAE;YACR,IAAI,CAAC,sBAAsB,CAAC,SAAS,GAAG,IAAI,CAAC;SAC9C;KACF;;;;;IAEO,SAAS;QACf,IAAI,CAAC,IAAI,CAAC,sBAAsB,CAAC,gBAAgB,IAAI,CAAC,IAAI,CAAC,sBAAsB,CAAC,mBAAmB,IAAI,CAAC,IAAI,CAAC,sBAAsB,CAAC,SAAS,EAAE;YAC/I,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,uCAAuC,CAAC,CAAC,CAAC;YACzF,OAAO,KAAK,CAAC;SACd;QACD,OAAO,IAAI,CAAC;KACb;;;;;;IAEO,gBAAgB,CAAC,GAAW;;YAC9B,GAAG,GAAG,IAAI,CAAC,IAAI,CAAC,0BAA0B,EAAE;QAChD,IAAI,GAAG,EAAE;YACP,GAAG,IAAI,eAAe,GAAG,EAAE,CAAC;YAC5B,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,SAAS;;;;YAAC,CAAC,EAAO;gBACnC,IAAI,CAAC,sBAAsB,CAAC,iBAAiB,GAAG,EAAE,CAAC,IAAI,CAAC;aACzD,EAAC,CAAC;SACJ;KACF;;;;;;IACO,WAAW,CAAC,EAAU;;YACxB,GAAG,GAAG,IAAI,CAAC,IAAI,CAAC,iBAAiB,EAAE;QACvC,IAAI,EAAE,EAAE;YACN,GAAG,IAAI,IAAI,EAAE,EAAE,CAAC;YAChB,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,SAAS;;;;YAAC,CAAC,EAAO;gBACnC,IAAI,CAAC,sBAAsB,CAAC,gBAAgB,GAAG,EAAE,CAAC,IAAI,CAAC;aACxD,EAAC,CAAC;SACJ;KACF;;;;;IAED,iBAAiB,CAAC,IAAY;QAC5B,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,EAAE,EAAE;YAC9B,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,KAAK,EAAE,uDAAuD,IAAI,EAAE,EAAE,EAAE,YAAY,EAAE,MAAM,EAAE,CAAC,CAAC,SAAS;;;;YACzH,CAAC,GAAQ;gBACP,IAAI,CAAC,sBAAsB,CAAC,cAAc,GAAG,GAAG,CAAC;aAClD;;;;YACD,CAAC,GAAG;gBACF,IAAI,GAAG,CAAC,KAAK,IAAI,OAAO,GAAG,CAAC,KAAK,IAAI,QAAQ,EAAE;oBAC7C,GAAG,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;iBACnC;gBACD,UAAU;;;gBAAC;;oBAET,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,KAAK,IAAI,IAAI,GAAG,GAAG,CAAC,OAAO,IAAI,GAAG,CAAC,KAAK,CAAC,OAAO,IAAI,GAAG,CAAC,KAAK,CAAC,OAAO,IAAI,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC;iBAC/G,GAAE,GAAG,CAAC,CAAC;gBACR,MAAM,GAAG,CAAC;aACX,EAAC,CAAC;SACN;KACF;;;YAjUF,SAAS,SAAC;gBACT,QAAQ,EAAE,gCAAgC;gBAC1C,q1MAA0D;gBAC1D,SAAS,EAAE;oBACR,YAAY;iBACd;aACF;;;;YAbQ,aAAa;YACb,cAAc;YAXd,eAAe;YACf,aAAa;YACb,WAAW;YAEX,sBAAsB;YACtB,iBAAiB;YARoE,wBAAwB;YAAE,QAAQ;YAAY,iBAAiB,uBA4HxJ,QAAQ;yCACR,MAAM,SAAC,SAAS;4CAChB,MAAM,SAAC,iBAAiB;YA7GD,YAAY,uBA8GnC,QAAQ;;;kBAnGV,WAAW,SAAC,OAAO;2BAGnB,KAAK;oBAIL,KAAK;yBA0BL,MAAM;0BACN,MAAM;0BAEN,SAAS,SAAC,kBAAkB;oCAmC5B,SAAS,SAAC,uBAAuB;mCAOjC,SAAS,SAAC,sBAAsB;;MA+OtB,gCAAgC;;;;IAC3C,YACU,UAAwB;QAAxB,eAAU,GAAV,UAAU,CAAc;KAC7B;;;;;IAEL,SAAS,CAAC,IAAS;QACjB,IAAI,IAAI,KAAK,IAAI,CAAC,eAAe,IAAI,IAAI,CAAC,aAAa,CAAC,EAAE;YACxD,OAAO,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,0BAA0B,CAAC,CAAC;SAC9D;QACD,OAAO,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,6BAA6B,CAAC,CAAC;KACjE;CACF;;;;;;;;ICnWG,IAAK,IAAI;IACT,MAAO,MAAM;IACb,cAAe,cAAc;IAC7B,WAAY,WAAW;IACvB,wBAAyB,wBAAwB;;;;IAIjD,cAAe,cAAc;IAC7B,kBAAmB,kBAAkB;;;;IAIrC,kCAAmC,kCAAkC;;;;;;;ACdzE,MAaa,mBAAmB;;;;;IAC5B,YACY,OAA+B,EAC/B,SAAuB;QADvB,YAAO,GAAP,OAAO,CAAwB;QAC/B,cAAS,GAAT,SAAS,CAAc;KAElC;;;;;IACD,WAAW,CAAC,GAAQ;QAChB,IAAI,CAAC,OAAO,CAAC,YAAY,GAAG,GAAG,CAAC,YAAY,CAAC;QAC7C,IAAI,CAAC,OAAO,CAAC,cAAc,GAAG,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC;KACpE;;;;;;IAEO,SAAS,CAAC,GAAU;;cAClB,cAAc,GAA4B,EAAE;QAClD,IAAI,GAAG,EAAE;YACL,GAAG,CAAC,OAAO;;;;YAAC,CAAC,OAA8B;gBACvC,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC;gBACnC,cAAc,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;aAChC,EAAC,CAAC;SACN;QACD,OAAO,cAAc,CAAC;KACzB;;;;;;IACO,SAAS,CAAC,GAAqB;QACnC,IAAI,GAAG,IAAI,GAAG,CAAC,MAAM,GAAG,CAAC,EAAE;YACvB,GAAG,CAAC,OAAO;;;;YAAC,CAAC,IAAoB;gBAC7B,QAAQ,IAAI,CAAC,UAAU;oBACnB,KAAK,kCAAkC,CAAC,sBAAsB;;;wBAG1D,IAAI,CAAC,MAAM,GAAG,gCAAgC,CAAC;wBAC/C,IAAI,CAAC,SAAS,GAAG,IAAI,gCAAgC,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;wBACtE,IAAI,CAAC,YAAY,GAAG;4BAChB,SAAS,EAAE,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,QAAQ,CAAC,gBAAgB;yBACjE,CAAC;wBACF,MAAM;oBACV,KAAK,kCAAkC,CAAC,YAAY;wBAChD,IAAI,CAAC,MAAM,GAAG,qBAAqB,CAAC;wBACpC,IAAI,CAAC,SAAS,GAAG,IAAI,qBAAqB,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;wBAC3D,IAAI,CAAC,YAAY,GAAG;4BAChB,QAAQ,EAAE,wBAAwB;yBACrC,CAAC;wBACF,MAAM;oBACV,KAAK,kCAAkC,CAAC,gCAAgC;wBAChE,IAAI,CAAC,MAAM,GAAG,yCAAyC,CAAC;wBACxD,IAAI,CAAC,SAAS,GAAG,IAAI,yCAAyC,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;wBAC/E,IAAI,CAAC,YAAY,GAAG;4BAChB,QAAQ,EAAE,wBAAwB;yBACrC,CAAC;wBACF,MAAM;oBACd,KAAK,kCAAkC,CAAC,gBAAgB;wBACpD,IAAI,CAAC,MAAM,GAAG,wBAAwB,CAAC;wBACvC,IAAI,CAAC,SAAS,GAAG,IAAI,wBAAwB,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;wBAC9D,MAAM;oBACV;wBACI,MAAM;iBACb;aACJ,EAAC,CAAC;SACN;KACJ;;;YA3DJ,UAAU;;;;YAVF,sBAAsB;YAOtB,YAAY;;;;;;;;;ICPjB,IAAK,IAAI;IACT,MAAO,MAAM;IACb,cAAe,cAAc;IAC7B,WAAY,WAAW;IACvB,OAAQ,OAAO;IACf,kBAAmB,kBAAkB;IACrC,oBAAqB,oBAAoB;;;;;;;ACP7C,MAWa,mBAAmB;;;;;IAE9B,YACU,OAA+B,EAC/B,SAAuB;QADvB,YAAO,GAAP,OAAO,CAAwB;QAC/B,cAAS,GAAT,SAAS,CAAc;KAEhC;;;;;IAED,WAAW,CAAC,GAAQ;QAClB,IAAI,CAAC,OAAO,CAAC,YAAY,GAAG,GAAG,CAAC,YAAY,CAAC;QAC7C,IAAI,CAAC,OAAO,CAAC,cAAc,GAAG,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC;KAClE;;;;;;IAEO,SAAS,CAAC,GAAU;;cACpB,cAAc,GAA4B,EAAE;QAClD,IAAI,GAAG,EAAE;YACP,GAAG,CAAC,OAAO;;;;YAAC,CAAC,OAA8B;gBACzC,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC;gBACnC,cAAc,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;aAC9B,EAAC,CAAC;SACJ;QACD,OAAO,cAAc,CAAC;KACvB;;;;;;IACO,SAAS,CAAC,GAAqB;QACrC,IAAI,GAAG,IAAI,GAAG,CAAC,MAAM,GAAG,CAAC,EAAE;YACzB,GAAG,CAAC,OAAO;;;;YAAC,CAAC,IAAoB;gBAC/B,QAAQ,IAAI,CAAC,UAAU;oBACrB,KAAK,wBAAwB,CAAC,KAAK;wBACjC,IAAI,CAAC,MAAM,GAAG,0BAA0B,CAAC;wBACzC,IAAI,CAAC,SAAS,GAAG,IAAI,0BAA0B,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;wBAChE,IAAI,CAAC,YAAY,GAAG;4BAClB,QAAQ,EAAE,cAAc;yBACzB,CAAC;wBACF,MAAM;oBACR,KAAK,wBAAwB,CAAC,gBAAgB;wBAC5C,IAAI,CAAC,MAAM,GAAG,wBAAwB,CAAC;wBACvC,IAAI,CAAC,SAAS,GAAG,IAAI,wBAAwB,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;wBAC9D,MAAM;oBACR,KAAK,wBAAwB,CAAC,kBAAkB;wBAC9C,IAAI,CAAC,MAAM,GAAG,yBAAyB,CAAC;wBACxC,IAAI,CAAC,SAAS,GAAG,IAAI,yBAAyB,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;wBAC/D,IAAI,CAAC,YAAY,GAAG;4BAClB,QAAQ,EAAE,cAAc;yBACzB,CAAC;wBACF,MAAM;oBACR;wBACE,MAAM;iBACT;aACF,EAAC,CAAC;SACJ;KACF;;;YApDF,UAAU;;;;YARF,sBAAsB;YAMtB,YAAY;;;;;;;ACNrB,MAAa,eAAe;IAMxB;QAHA,kBAAa,GAAG,MAAM,CAAC;QACvB,UAAK,GAAG,KAAK,CAAC;KAEG;CACpB;;;;;;ACRD,MAkBa,wBAAwB;;;;;;;;;;IAuCnC,YACU,OAAwB,EACxB,IAAmB,EACnB,QAAkB,EACN,GAAsB,EACf,QAAgB,EACR,SAAc,EAC7B,UAAwB;QANpC,YAAO,GAAP,OAAO,CAAiB;QACxB,SAAI,GAAJ,IAAI,CAAe;QACnB,aAAQ,GAAR,QAAQ,CAAU;QACN,QAAG,GAAH,GAAG,CAAmB;QACf,aAAQ,GAAR,QAAQ,CAAQ;QACR,cAAS,GAAT,SAAS,CAAK;QAC7B,eAAU,GAAV,UAAU,CAAc;QA5C9C,QAAG,GAAG,8BAA8B,CAAC;QAE3B,eAAU,GAAG,IAAI,YAAY,EAAO,CAAC;QACrC,gBAAW,GAAG,IAAI,YAAY,EAAO,CAAC;QAmBhD,gBAAW,GAAG;YACZ,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,2CAA2C,CAAC;YAC7E,KAAK,EAAE,GAAG;YACV,MAAM,EAAE,GAAG;YACX,WAAW,EAAE,IAAI;SAClB,CAAC;QAEF,4BAAuB,GAAU;YAC/B,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,gCAAgC,CAAC,EAAE,KAAK,EAAE,MAAM,EAAE;YACpF,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,gCAAgC,CAAC,EAAE,KAAK,EAAE,MAAM,EAAE;YACpF,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,iCAAiC,CAAC,EAAE,KAAK,EAAE,OAAO,EAAE;SAAC,CAAC;QAE1F,YAAO,GAAG,IAAI,KAAK,EAAE,CAAC;QACtB,SAAI,GAAG,IAAI,KAAK,EAAmB,CAAC;QAWlC,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,IAAI,IAAI,YAAY,CAAC,QAAQ,EAAE,SAAS,CAAC,CAAC;KAC3E;;;;;IA1CF,IACI,KAAK,CAAC,KAAY;QACpB,IAAI,KAAK,IAAI,KAAK,CAAC,MAAM,GAAG,CAAC,EAAE;YAC7B,KAAK,MAAM,IAAI,IAAI,KAAK,EAAE;;sBAClB,KAAK,GAAG,IAAI,eAAe,EAAE;gBACnC,KAAK,CAAC,EAAE,GAAG,IAAI,CAAC,EAAE,CAAC;gBACnB,KAAK,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC;gBACvB,KAAK,CAAC,aAAa,GAAG,IAAI,CAAC,aAAa,CAAC;gBACzC,KAAK,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC;gBACzB,KAAK,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC;gBACjC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;aACvB;SACF;KACF;;;;IA+BD,QAAQ;QACN,IAAI,CAAC,OAAO,GAAG,CAAC;gBACd,KAAK,EAAE,WAAW,EAAE,KAAK,EAAE,GAAG,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,qCAAqC,CAAC;gBACvG,MAAM,EAAE,EAAE,IAAI,EAAE,WAAW,CAAC,OAAO,EAAE,OAAO,EAAE,EAAE,EAAE;gBAClD,UAAU,EAAE;oBACV,EAAE,IAAI,EAAE,UAAU,EAAE,QAAQ,EAAE,IAAI,EAAE;iBACrC;aACF;YACD;gBACE,KAAK,EAAE,MAAM,EAAE,KAAK,EAAE,GAAG,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,gCAAgC,CAAC;gBAC7F,MAAM,EAAE,EAAE,IAAI,EAAE,WAAW,CAAC,OAAO,EAAE,OAAO,EAAE,EAAE,EAAE;gBAClD,UAAU,EAAE;oBACV,EAAE,IAAI,EAAE,UAAU,EAAE,QAAQ,EAAE,IAAI,EAAE;iBACrC;aACF;YACD;gBACE,KAAK,EAAE,eAAe,EAAE,KAAK,EAAE,GAAG,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,yCAAyC,CAAC;gBAC/G,SAAS,EAAE;oBACT,IAAI,EAAE,MAAM;oBACZ,OAAO,EAAE,EAAE,UAAU,EAAE,OAAO,EAAE,SAAS,EAAE,MAAM,EAAE,IAAI,EAAE,IAAI,CAAC,uBAAuB,EAAE;iBACxF;gBACD,MAAM,EAAE;oBACN,IAAI,EAAE,WAAW,CAAC,SAAS;oBAC3B,OAAO,EAAE,EAAE,UAAU,EAAE,OAAO,EAAE,SAAS,EAAE,MAAM,EAAE,IAAI,EAAE,IAAI,CAAC,uBAAuB,EAAE,OAAO,EAAE,OAAO,EAAE,WAAW,EAAE,MAAM,EAAE,SAAS,EAAE,KAAK,EAAE;iBACjJ;gBACD,UAAU,EAAE;oBACV,EAAE,IAAI,EAAE,UAAU,EAAE,QAAQ,EAAE,IAAI,EAAE;iBACrC;aACF,CAAC,CAAC;KACJ;;;;IACD,GAAG;;cACK,KAAK,GAAG,IAAI,eAAe,EAAE;QACnC,KAAK,CAAC,EAAE,GAAG,aAAa,CAAC,iBAAiB,EAAE,CAAC;QAC7C,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QACtB,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;KAC/B;;;;IACD,MAAM;QACJ,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC;QACxB,IAAI,IAAI,CAAC,IAAI,CAAC,WAAW,IAAI,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,EAAE;;kBACjD,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,SAAS;;;;YAAC,CAAC,IAAI,CAAC,CAAC,EAAE,KAAK,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,EAAE,EAAC;YAC1E,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;YACvB,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;SAC/B;aAAM;YACL,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,uCAAuC,CAAC,CAAC,CAAC;SACvF;KACF;;;;IAED,OAAO;QACL,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC;QACxB,IAAI,IAAI,CAAC,SAAS,EAAE,EAAE;;kBACd,MAAM,GAAG,EAAE,KAAK,EAAE,IAAI,CAAC,IAAI,EAAE,UAAU,EAAE,IAAI,EAAE;YACrD,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;SAC/B;KAEF;;;;IAED,WAAW;QACT,IAAI,CAAC,UAAU,CAAC,IAAI,EAAE,CAAC;KACxB;;;;;IAEO,SAAS;QACf,IAAI,IAAI,CAAC,IAAI,CAAC,MAAM,KAAK,CAAC,EAAE;YAC1B,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,sCAAsC,CAAC,CAAC,CAAC;YACrF,OAAO,KAAK,CAAC;SACd;aAAM;YACL,KAAK,MAAM,CAAC,IAAI,IAAI,CAAC,IAAI,EAAE;gBACzB,IAAI,CAAC,CAAC,CAAC,SAAS,EAAE;oBAChB,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,uCAAuC,CAAC,CAAC,CAAC;oBACtF,OAAO,KAAK,CAAC;iBACd;qBAAM,IAAI,CAAC,CAAC,CAAC,IAAI,EAAE;oBAClB,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,uCAAuC,CAAC,CAAC,CAAC;oBACtF,OAAO,KAAK,CAAC;iBACd;qBAAM,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,EAAE;oBACtC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,yCAAyC,CAAC,CAAC,CAAC;oBACxF,OAAO,KAAK,CAAC;iBACd;aACF;YACD,IAAI,IAAI,CAAC,IAAI,CAAC,MAAM,GAAG,CAAC,EAAE;gBACxB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;;0BACnC,KAAK,GAAG,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,SAAS;oBACpC,KAAK,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;;8BACvC,KAAK,GAAG,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,SAAS;wBAEpC,IAAI,KAAK,KAAK,KAAK,EAAE;4BACnB,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,sCAAsC,CAAC,CAAC,CAAC;4BACxF,OAAO,KAAK,CAAC;yBACd;qBACF;iBACF;aACF;SACF;QACD,OAAO,IAAI,CAAC;KACb;;;YAvJF,SAAS,SAAC;gBACT,QAAQ,EAAE,sBAAsB;gBAChC,qhDAAgD;gBAEhD,SAAS,EAAE;oBACR,YAAY;iBACd;;aACF;;;;YAfQ,eAAe;YACf,aAAa;YAHwE,QAAQ;YAAE,iBAAiB,uBA6DpH,QAAQ;yCACR,MAAM,SAAC,SAAS;4CAChB,MAAM,SAAC,iBAAiB;YAxDD,YAAY,uBAyDnC,QAAQ;;;kBA7CV,WAAW,SAAC,OAAO;yBAGnB,MAAM;0BACN,MAAM;oBAEN,KAAK;0BAcL,SAAS,SAAC,kBAAkB;mBAC5B,SAAS,SAAC,MAAM;;MA4HN,wBAAwB;;;;IACnC,YACU,UAAwB;QAAxB,eAAU,GAAV,UAAU,CAAc;KAC7B;;;;;IAEL,SAAS,CAAC,IAAW;QACnB,IAAI,IAAI,IAAI,IAAI,CAAC,MAAM,GAAG,CAAC,EAAE;YAC3B,OAAO,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,+BAA+B,CAAC,CAAC;SACnE;aAAM;YACL,OAAO,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,kCAAkC,CAAC,CAAC;SACtE;KACF;CACF;;;;;;;;IC/KG,IAAK,IAAI;IACT,MAAO,MAAM;IACb,cAAe,cAAc;IAC7B,WAAY,WAAW;;;;IAIvB,cAAe,cAAc;IAC7B,kBAAmB,kBAAkB;IACrC,kBAAmB,kBAAkB;;;;;;;ACVzC,MAWa,iBAAiB;;;;;;IAC1B,YACY,OAA+B,EAC/B,QAAkB,EAClB,SAAuB;QAFvB,YAAO,GAAP,OAAO,CAAwB;QAC/B,aAAQ,GAAR,QAAQ,CAAU;QAClB,cAAS,GAAT,SAAS,CAAc;KAC9B;;;;;IACL,WAAW,CAAC,GAAQ;QAChB,IAAI,CAAC,OAAO,CAAC,YAAY,GAAG,GAAG,CAAC,YAAY,CAAC;QAC7C,IAAI,CAAC,OAAO,CAAC,cAAc,GAAG,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC;KACpE;;;;;;IAEO,SAAS,CAAC,GAAU;;cAClB,cAAc,GAA4B,EAAE;QAClD,IAAI,GAAG,EAAE;YACL,GAAG,CAAC,OAAO;;;;YAAC,CAAC,OAA8B;gBACvC,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC;gBACnC,cAAc,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;aAChC,EAAC,CAAC;SACN;QACD,OAAO,cAAc,CAAC;KACzB;;;;;;IACO,SAAS,CAAC,GAAqB;QACnC,IAAI,GAAG,IAAI,GAAG,CAAC,MAAM,GAAG,CAAC,EAAE;YACvB,GAAG,CAAC,OAAO;;;;YAAC,CAAC,IAAoB;gBAC7B,QAAQ,IAAI,CAAC,UAAU;oBACnB,KAAK,sCAAsC,CAAC,YAAY;wBACpD,IAAI,CAAC,MAAM,GAAG,qBAAqB,CAAC;wBACpC,IAAI,CAAC,SAAS,GAAG,IAAI,qBAAqB,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;wBAC3D,IAAI,CAAC,YAAY,GAAG;4BAChB,QAAQ,EAAE,wBAAwB;yBACrC,CAAC;wBACF,MAAM;oBACV,KAAK,sCAAsC,CAAC,gBAAgB;wBACxD,IAAI,CAAC,MAAM,GAAG,wBAAwB,CAAC;wBACvC,IAAI,CAAC,SAAS,GAAG,IAAI,wBAAwB,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;wBAC9D,MAAM;oBACV,KAAK,sCAAsC,CAAC,gBAAgB;wBACxD,IAAI,CAAC,MAAM,GAAG,wBAAwB,CAAC;wBACvC,IAAI,CAAC,SAAS,GAAG,IAAI,wBAAwB,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;wBAC9D,MAAM;oBACV;wBACI,MAAM;iBACb;aACJ,EAAC,CAAC;SACN;KACJ;;;YA/CJ,UAAU;;;;YATF,sBAAsB;YACV,QAAQ;YAMpB,YAAY;;;;;;;;;ICNjB,IAAK,IAAI;IACT,MAAO,MAAM;IACb,cAAe,cAAc;IAC7B,WAAY,WAAW;IACvB,eAAgB,eAAe;IAC/B,kBAAmB,kBAAkB;;;;;;;ACNzC,MAUa,sBAAsB;;;;;IAC/B,YACY,OAA+B,EAC/B,SAAuB;QADvB,YAAO,GAAP,OAAO,CAAwB;QAC/B,cAAS,GAAT,SAAS,CAAc;KAElC;;;;;IACD,WAAW,CAAC,GAAQ;QAChB,IAAI,CAAC,OAAO,CAAC,YAAY,GAAG,GAAG,CAAC,YAAY,CAAC;QAC7C,IAAI,CAAC,OAAO,CAAC,cAAc,GAAG,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC;KACpE;;;;;;IAEO,SAAS,CAAC,GAAU;;cAClB,cAAc,GAA4B,EAAE;QAClD,IAAI,GAAG,EAAE;YACL,GAAG,CAAC,OAAO;;;;YAAC,CAAC,OAA8B;gBACvC,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC;gBACnC,cAAc,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;aAChC,EAAC,CAAC;SACN;QACD,OAAO,cAAc,CAAC;KACzB;;;;;;IACO,SAAS,CAAC,GAAqB;QACnC,IAAI,GAAG,IAAI,GAAG,CAAC,MAAM,GAAG,CAAC,EAAE;YACvB,GAAG,CAAC,OAAO;;;;YAAC,CAAC,IAAoB;gBAC7B,QAAQ,IAAI,CAAC,UAAU;oBACnB,KAAK,2BAA2B,CAAC,aAAa;wBAC1C,IAAI,CAAC,MAAM,GAAG,sBAAsB,CAAC;wBACrC,IAAI,CAAC,SAAS,GAAG,IAAI,sBAAsB,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;wBAC5D,IAAI,CAAC,YAAY,GAAG;4BAChB,QAAQ,EAAE,iBAAiB;yBAC9B,CAAC;wBACF,MAAM;oBACV,KAAK,2BAA2B,CAAC,gBAAgB;wBAC7C,IAAI,CAAC,MAAM,GAAG,wBAAwB,CAAC;wBACvC,IAAI,CAAC,SAAS,GAAG,IAAI,wBAAwB,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;wBAC9D,MAAM;oBACV;wBACI,MAAM;iBACb;aACJ,EAAC,CAAC;SACN;KACJ;;;YA3CJ,UAAU;;;;YAPF,sBAAsB;YAKtB,YAAY;;;;;;;ACNrB,MAAa,mBAAmB;CAI/B;;;IAGG,sBAAuB,sBAAsB;IAC7C,sBAAuB,sBAAsB;IAC7C,sBAAuB,sBAAsB;IAC7C,sBAAuB,sBAAsB;IAC7C,sBAAuB,sBAAsB;IAC7C,sBAAuB,sBAAsB;;;;;;;ACZjD,MAAa,WAAW;CAqCvB;MAGY,mBAAmB;CAG/B;;;;;;;;IC1CG,IAAK,IAAI;IACT,MAAO,MAAM;IACb,cAAe,cAAc;IAC7B,WAAY,WAAW;;;;IAIvB,oBAAqB,oBAAoB;;;;IAIzC,oBAAqB,oBAAoB;;;;IAIzC,wBAAyB,wBAAwB;;;;IAIjD,eAAgB,eAAe;IAC/B,YAAa,YAAY;;;;;;;ACrB7B,MAaa,qBAAqB;;;;;IAC9B,YACY,OAA+B,EAC/B,SAAuB;QADvB,YAAO,GAAP,OAAO,CAAwB;QAC/B,cAAS,GAAT,SAAS,CAAc;KAElC;;;;;IACD,WAAW,CAAC,GAAQ;QAChB,IAAI,CAAC,OAAO,CAAC,YAAY,GAAG,GAAG,CAAC,YAAY,CAAC;QAC7C,IAAI,CAAC,OAAO,CAAC,cAAc,GAAG,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC;KACpE;;;;;;IAEO,SAAS,CAAC,GAAU;;cAClB,cAAc,GAA4B,EAAE;QAClD,IAAI,GAAG,EAAE;YACL,GAAG,CAAC,OAAO;;;;YAAC,CAAC,OAA8B;gBACvC,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC;gBACnC,cAAc,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;aAChC,EAAC,CAAC;SACN;QACD,OAAO,cAAc,CAAC;KACzB;;;;;;IACO,SAAS,CAAC,GAAqB;QACnC,IAAI,GAAG,IAAI,GAAG,CAAC,MAAM,GAAG,CAAC,EAAE;YACvB,GAAG,CAAC,OAAO;;;;YAAC,CAAC,IAAoB;gBAC7B,QAAQ,IAAI,CAAC,UAAU;oBACnB,KAAK,0BAA0B,CAAC,EAAE;wBAC9B,MAAM;oBACV,KAAK,0BAA0B,CAAC,kBAAkB;wBAC9C,IAAI,CAAC,MAAM,GAAG,oBAAoB,CAAC;wBACnC,IAAI,CAAC,SAAS,GAAG,IAAI,oBAAoB,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;wBAC1D,IAAI,CAAC,YAAY,GAAG;4BAChB,QAAQ,EAAE,gBAAgB;yBAC7B,CAAC;wBACF,MAAM;oBACV,KAAK,0BAA0B,CAAC,kBAAkB;wBAC9C,IAAI,CAAC,MAAM,GAAG,qBAAqB,CAAC;;8BAC9B,MAAM,GAAG;4BACX,QAAQ,EAAE,gBAAgB;4BAC1B,GAAG,EAAE,KAAK;yBACb;wBACD,IAAI,CAAC,SAAS,GAAG,IAAI,qBAAqB,CAAC,MAAM,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC;wBACnE,IAAI,CAAC,YAAY,GAAG,MAAM,CAAC;wBAC3B,MAAM;oBACV,KAAK,0BAA0B,CAAC,sBAAsB;wBAClD,IAAI,CAAC,MAAM,GAAG,qBAAqB,CAAC;;8BAC9B,YAAY,GAAG;4BACjB,QAAQ,EAAE,gBAAgB;4BAC1B,GAAG,EAAE,QAAQ;yBAChB;wBACD,IAAI,CAAC,SAAS,GAAG,IAAI,qBAAqB,CAAC,YAAY,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC;wBACzE,IAAI,CAAC,YAAY,GAAG,YAAY,CAAC;wBACjC,MAAM;oBACV,KAAK,0BAA0B,CAAC,aAAa;wBACzC,IAAI,CAAC,MAAM,GAAG,sBAAsB,CAAC;wBACrC,IAAI,CAAC,SAAS,GAAG,IAAI,sBAAsB,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;wBAC5D,IAAI,CAAC,YAAY,GAAG;4BAChB,QAAQ,EAAE,UAAU;yBACvB,CAAC;wBACF,MAAM;oBACV,KAAK,0BAA0B,CAAC,UAAU;wBACtC,IAAI,CAAC,MAAM,GAAG,mCAAmC,CAAC;wBAClD,IAAI,CAAC,SAAS,GAAG,IAAI,mCAAmC,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;wBACzE,IAAI,CAAC,YAAY,GAAG;4BAChB,QAAQ,EAAE,gBAAgB;yBAC3B,CAAC;wBACJ,MAAM;oBACV;wBACI,IAAI,CAAC,MAAM,GAAG,uBAAuB,CAAC;wBACtC,IAAI,CAAC,SAAS,GAAG,IAAI,uBAAuB,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;wBAC7D,MAAM;iBACb;aACJ,EAAC,CAAC;SACN;KACJ;;;YA1EJ,UAAU;;;;YAXF,sBAAsB;YAStB,YAAY;;;;;;;ACPrB,MAAa,+BAA+B;;;;IACxC,YACW,UAAyB;QAAzB,eAAU,GAAV,UAAU,CAAe;KAC/B;;;;;IAEL,SAAS,CAAC,IAAI;QACV,IAAI,IAAI,EAAE;YACN,OAAO,IAAI,CAAC,IAAI,IAAI,IAAI,CAAC,IAAI,IAAI,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC;SACrE;aAAM;YACH,OAAO,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC;SAC9C;KACJ;CACJ;;;;;;;;ICdG,IAAK,IAAI;IACT,MAAO,MAAM;IACb,cAAe,cAAc;IAC7B,WAAY,WAAW;;;;IAIvB,gBAAiB,gBAAgB;;;;IAIjC,YAAa,YAAY;;;;IAIzB,UAAW,UAAU;;;;;;;AChBzB,MASa,8BAA8B;;;;;IACvC,YACY,OAA+B,EAChC,SAAwB;QADvB,YAAO,GAAP,OAAO,CAAwB;QAChC,cAAS,GAAT,SAAS,CAAe;KAGlC;;;;;IACD,WAAW,CAAC,GAAQ;QAChB,IAAI,CAAC,OAAO,CAAC,YAAY,GAAG,GAAG,CAAC,YAAY,CAAC;QAC7C,IAAI,CAAC,OAAO,CAAC,cAAc,GAAG,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC;KACpE;;;;;;IAEO,SAAS,CAAC,GAAU;;cAClB,cAAc,GAA4B,EAAE;QAClD,IAAI,GAAG,EAAE;YACL,GAAG,CAAC,OAAO;;;;YAAC,CAAC,OAA8B;gBACvC,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC;gBACnC,cAAc,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;aAChC,EAAC,CAAC;SACN;QACD,OAAO,cAAc,CAAC;KACzB;;;;;;IACO,SAAS,CAAC,GAAqB;QACnC,IAAI,GAAG,IAAI,GAAG,CAAC,MAAM,GAAG,CAAC,EAAE;YACvB,GAAG,CAAC,OAAO;;;;YAAC,CAAC,IAAoB;gBAC7B,QAAQ,IAAI,CAAC,UAAU;oBACnB,KAAK,mCAAmC,CAAC,cAAc;wBACnD,IAAI,CAAC,MAAM,GAAG,wBAAwB,CAAC;wBACvC,IAAI,CAAC,SAAS,GAAG,IAAI,+BAA+B,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;wBACrE,IAAI,CAAC,YAAY,GAAG;4BAChB,SAAS,EAAE,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,QAAQ,CAAC,gBAAgB;yBACjE,CAAC;wBACF,MAAM;oBACV;wBACI,MAAM;iBACb;aACJ,EAAC,CAAC;SACN;KACJ;;;YAvCJ,UAAU;;;;YAPF,sBAAsB;YAKtB,aAAa;;;;;;;ACNtB;;;;AAoDA,MAAa,eAAe;IAD5B;;;;QAGY,cAAS,GAAG,IAAI,GAAG,EAAwB,CAAC;KA4CvD;;;;;;;IApCG,EAAE,CAAC,SAAiB,EAAE,OAA2B;QAC7C,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,SAAS,CAAC,EAAE;YAChC,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,SAAS,EAAE,IAAIb,SAAO,EAAE,CAAC,CAAC;SAChD;;cACK,QAAQ,GAAG,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,SAAS,CAAC;;cACxC,YAAY,GAAG,QAAQ,CAAC,SAAS,CAAC,OAAO,CAAC;QAChD,OAAO;YACH,WAAW;;;YAAE;gBACT,YAAY,CAAC,WAAW,EAAE,CAAC;gBAC3B,IAAI,QAAQ,CAAC,SAAS,CAAC,MAAM,GAAG,CAAC,EAAE;oBAC/B,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC;iBACpC;aACJ,CAAA;SACJ,CAAC;KACL;;;;;;;IAOD,IAAI,CAAC,SAAiB,EAAE,IAAI;QACxB,IAAI,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,SAAS,CAAC,EAAE;YAC/B,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;SAC5C;KACJ;;;;;IAKD,OAAO;QACH,IAAI,CAAC,SAAS,CAAC,OAAO;;;;;QAAC,CAAC,OAAO,EAAE,CAAC;YAC9B,OAAO,CAAC,WAAW,EAAE,CAAC;SACzB,EAAC,CAAC;QACH,IAAI,CAAC,SAAS,CAAC,KAAK,EAAE,CAAC;KAC1B;;;YA9CJ,UAAU;;;;;;;ACnDX,MAgBa,gBAAgB;;;;;;;;;IAiC3B,YACU,OAA+B,EAC/B,aAAmC,EACvB,GAAsB,EACf,QAAgB,EACR,SAAc,EAC7B,UAAwB;QALpC,YAAO,GAAP,OAAO,CAAwB;QAC/B,kBAAa,GAAb,aAAa,CAAsB;QACvB,QAAG,GAAH,GAAG,CAAmB;QACf,aAAQ,GAAR,QAAQ,CAAQ;QACR,cAAS,GAAT,SAAS,CAAK;QAC7B,eAAU,GAAV,UAAU,CAAc;QA1BpC,WAAM,GAAG,IAAI,YAAY,EAAO,CAAC;QACjC,WAAM,GAAG,IAAI,YAAY,EAAO,CAAC;QAE3C,gBAAW,GAAG,QAAQ,CAAC;QAIvB,0BAAqB,GAAG,KAAK,CAAC;QAI9B,YAAO,GAAG,+BAA+B,CAAC;QAE1C,aAAQ,GAAG,WAAW,CAAC;QACvB,gBAAW,GAAG,SAAS,CAAC;QACxB,UAAK,GAAG,IAAI,KAAK,EAAE,CAAC;QACpB,oBAAe,GAAG;YAChB,EAAE,KAAK,EAAE,SAAS,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,2BAA2B,CAAC,EAAE;YAClF,EAAE,KAAK,EAAE,QAAQ,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,0BAA0B,CAAC,EAAE;SACjF,CAAC;QASA,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,IAAI,IAAI,YAAY,CAAC,QAAQ,EAAE,SAAS,CAAC,CAAC;KAC5E;;;;IAED,QAAQ;QACN,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,WAAW,KAAK,CAAC,GAAG,SAAS,GAAG,QAAQ,CAAC;QACjE,IAAI,CAAC,OAAO,CAAC,WAAW,EAAE,CAAC,SAAS;;;;QAAC,EAAE;YACrC,IAAI,CAAC,aAAa,GAAG,EAAE,CAAC,IAAI,CAAC;YAC7B,IAAI,CAAC,mBAAmB,GAAG,EAAE,CAAC,OAAO,CAAC;YACtC,IAAI,CAAC,WAAW,GAAG,EAAE,CAAC,EAAE,CAAC;SAC1B,EAAC,CAAC;KACJ;;;;IAED,QAAQ;QACN,IAAI,CAAC,OAAO,CAAC,UAAU,EAAE,CAAC,SAAS;;;;QAAC,CAAC,QAAQ;;kBACrC,MAAM,GAAG,QAAQ,CAAC,WAAW,CAAC,EAAE;;kBAChC,IAAI,GAAG;gBACX,MAAM,EAAE,MAAM;gBACd,aAAa,EAAE,IAAI,CAAC,aAAa;gBACjC,mBAAmB,EAAE,IAAI,CAAC,mBAAmB;gBAC7C,QAAQ,EAAE,IAAI,CAAC,QAAQ;gBACvB,WAAW,EAAE,IAAI,CAAC,WAAW;gBAC7B,WAAW,EAAE,IAAI,CAAC,WAAW;gBAC7B,UAAU,EAAE,IAAI,CAAC,UAAU;gBAC3B,oBAAoB,EAAE,IAAI,CAAC,oBAAoB;gBAC/C,WAAW,EAAE,IAAI,CAAC,WAAW;aAC9B;;kBACK,IAAI,GAAG;gBACX,UAAU,EAAE,QAAQ;gBACpB,UAAU,EAAE,IAAI;aACjB;YACD,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC,SAAS;;;;YAAC,CAAC,EAAE;gBAC1C,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,sCAAsC,CAAC,CAAC;gBAC9D,IAAI,CAAC,MAAM,CAAC,IAAI,EAAE,CAAC;aACpB,EAAC,CAAC;SACJ,EAAC,CAAC;KACJ;;;;IACD,YAAY;QACV,IAAI,CAAC,MAAM,CAAC,IAAI,EAAE,CAAC;KACpB;;;;;IACD,aAAa,CAAC,KAAK;;cACX,OAAO,GAAG,KAAK,CAAC,SAAS,CAAC,SAAS,CAAC;QAC1C,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;KACrB;;;;;IAED,cAAc,CAAC,CAAC;QACd,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;KAChB;;;;IACD,SAAS;QACP,OAAO,IAAI,CAAC;KACb;;;;;IACD,WAAW,CAAC,IAAS;QACnB,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;KACzB;;;;;;;;IAIO,QAAQ,CAAC,MAAc,EAAE,SAAiB;QAChD,IAAI,CAAC,aAAa,CAAC,mBAAmB,CAAC,MAAM,EAAE,SAAS,CAAC,CAAC;KAC3D;;;YA3GF,SAAS,SAAC;gBACT,QAAQ,EAAE,uBAAuB;gBACjC,spKAAiD;gBAEjD,SAAS,EAAE;oBACR,YAAY;iBACd;;aACF;;;;YAXQ,sBAAsB;YADtB,oBAAoB;YAHoD,iBAAiB,uBAoD7F,QAAQ;yCACR,MAAM,SAAC,SAAS;4CAChB,MAAM,SAAC,iBAAiB;YAjDD,YAAY,uBAkDnC,QAAQ;;;qBAtCV,SAAS,SAAC,WAAW;uBAIrB,KAAK;0BAEL,KAAK;mCAEL,KAAK;qBAEL,SAAS,SAAC,QAAQ;qBAElB,MAAM;qBACN,MAAM;;;;;;;AC9BT,MAEa,oBAAqB,SAAQc,qBAAmB;IAQzD;QACI,KAAK,EAAE,CAAC;KACX;;;;;IAES,mBAAmB;QACzB,KAAK,CAAC,mBAAmB,EAAE,CAAC;QAE5B,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC;QACf,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;QACvB,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;QACxB,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;QACxB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;KACpB;;;;IAEM,mBAAmB;;YAClB,GAAG,GAAG,KAAK,CAAC,mBAAmB,EAAE;QAErCC,qBAAmB,CAAC,iBAAiB,CAAC,GAAG,EAAE,IAAI,EAAE,IAAI,CAAC,EAAE,CAAC,CAAC;QAC1DA,qBAAmB,CAAC,iBAAiB,CAAC,GAAG,EAAE,YAAY,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC;QAC1EA,qBAAmB,CAAC,iBAAiB,CAAC,GAAG,EAAE,aAAa,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;QAC5EA,qBAAmB,CAAC,iBAAiB,CAAC,GAAG,EAAE,aAAa,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;QAC5EA,qBAAmB,CAAC,iBAAiB,CAAC,GAAG,EAAE,MAAM,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC;QAC9DA,qBAAmB,CAAC,iBAAiB,CAAC,GAAG,EAAE,MAAM,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC;QAE9D,OAAO,GAAG,CAAC;KACd;;;;;IAEM,kBAAkB,CAAC,GAAO;QAC7B,KAAK,CAAC,kBAAkB,CAAC,GAAG,CAAC,CAAC;QAE9B,IAAI,CAAC,EAAE,GAAGA,qBAAmB,CAAC,yBAAyB,CAAC,GAAG,EAAE,IAAI,CAAC,CAAC;QACnE,IAAI,CAAC,UAAU,GAAGA,qBAAmB,CAAC,yBAAyB,CAAC,GAAG,EAAE,YAAY,CAAC,CAAC;QACnF,IAAI,CAAC,WAAW,GAAGA,qBAAmB,CAAC,yBAAyB,CAAC,GAAG,EAAE,aAAa,CAAC,CAAC;QACrF,IAAI,CAAC,WAAW,GAAGA,qBAAmB,CAAC,yBAAyB,CAAC,GAAG,EAAE,aAAa,CAAC,CAAC;QACrF,IAAI,CAAC,IAAI,GAAGA,qBAAmB,CAAC,yBAAyB,CAAC,GAAG,EAAE,MAAM,CAAC,CAAC;QACvE,IAAI,CAAC,IAAI,GAAGA,qBAAmB,CAAC,yBAAyB,CAAC,GAAG,EAAE,MAAM,CAAC,CAAC;KAC1E;CACJ;;;;;;AChDD,MASa,mBAAmB;;;;;;;;;IAG5B,YACW,WAAoC,EACpC,UAAuB,EACvB,WAAwB,EACxB,cAA8B,EAC9B,MAAqB,EACrB,SAA2B;QAL3B,gBAAW,GAAX,WAAW,CAAyB;QACpC,eAAU,GAAV,UAAU,CAAa;QACvB,gBAAW,GAAX,WAAW,CAAa;QACxB,mBAAc,GAAd,cAAc,CAAgB;QAC9B,WAAM,GAAN,MAAM,CAAe;QACrB,cAAS,GAAT,SAAS,CAAkB;QARtC,oBAAe,GAAG,oCAAoC,CAAC;KAUtD;;;;IAED,uBAAuB;;cACb,IAAI,GAAG,EAAE;QACf,OAAO,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC,eAAe,iBAAiB,EAAE,IAAI,CAAC,CAAC,IAAI,CAC7E,GAAG;;;;QACC,CAAC,GAAQ;YACL,OAAO,GAAG,CAAC,GAAG;;;;YAAC,EAAE;;sBACP,CAAC,GAAG,IAAI,oBAAoB,EAAE;gBACpC,CAAC,CAAC,kBAAkB,CAAC,EAAE,CAAC,CAAC;gBACzB,OAAO,CAAC,CAAC;aACZ,EAAC,CAAC;SACN,EACJ,CACJ,CAAC;KACL;;;YA3BJ,UAAU;;;;YALF,uBAAuB;YAFvB,WAAW;YAAX,WAAW;YAAE,cAAc;YAC3B,aAAa;YAEb,gBAAgB;;;;;;;;ACJzB,MAAa,6BAA6B,GAAG;IACzC,QAAQ,EAAE;QACN,MAAM,EAAE,IAAI;QACZ,MAAM,EAAE,IAAI;QACZ,kBAAkB,EAAE,MAAM;QAC1B,QAAQ,EAAE,IAAI;QACd,cAAc,EAAE,MAAM;QACtB,UAAU,EAAE,IAAI;QAChB,QAAQ,EAAE,IAAI;QACd,SAAS,EAAE,KAAK;QAChB,YAAY,EAAE,KAAK;KACtB;IACD,IAAI,EAAE;QACF,MAAM,EAAE,MAAM;QACd,MAAM,EAAE,MAAM;QACd,kBAAkB,EAAE,mBAAmB;QACvC,QAAQ,EAAE,QAAQ;QAClB,cAAc,EAAE,eAAe;QAC/B,UAAU,EAAE,UAAU;QACtB,QAAQ,EAAE,QAAQ;QAClB,SAAS,EAAE,SAAS;QACpB,YAAY,EAAE,aAAa;KAC9B;IACD,QAAQ,EAAE;QACN,MAAM,EAAE,IAAI;QACZ,MAAM,EAAE,IAAI;QACZ,kBAAkB,EAAE,MAAM;QAC1B,QAAQ,EAAE,IAAI;QACd,cAAc,EAAE,MAAM;QACtB,UAAU,EAAE,IAAI;QAChB,QAAQ,EAAE,IAAI;QACd,SAAS,EAAE,KAAK;QAChB,YAAY,EAAE,KAAK;KACtB;CACJ;;;;;;AClCD,aAoB6C,6BAA6B;AAI1E,MAAa,qBAAqB;;;;;;;;;;;IAoBhC,YACU,aAAkC,EAClC,QAAyB,EACzB,MAAqB,EACrB,KAAqB,EACrB,OAAuB,EACvB,UAAyB,EACzB,MAAc,EACd,cAA8B;QAP9B,kBAAa,GAAb,aAAa,CAAqB;QAClC,aAAQ,GAAR,QAAQ,CAAiB;QACzB,WAAM,GAAN,MAAM,CAAe;QACrB,UAAK,GAAL,KAAK,CAAgB;QACrB,YAAO,GAAP,OAAO,CAAgB;QACvB,eAAU,GAAV,UAAU,CAAe;QACzB,WAAM,GAAN,MAAM,CAAQ;QACd,mBAAc,GAAd,cAAc,CAAgB;QA1BxC,eAAU,GAAG,IAAI,YAAY,EAAwB,CAAC;QAMtD,cAAS,GAAG,IAAI,CAAC;QACjB,mBAAc,GAGR,EAAE,CAAC;QAET,sBAAiB,GAAW,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,YAAY,CAAC,CAAC;QAElE,iBAAY,GAA2B,EAAE,CAAC;KAarC;;;;IAEL,QAAQ;QACN,IAAI,CAAC,mBAAmB,EAAE,CAAC;QAC3B,IAAI,CAAC,SAAS,EAAE,CAAC;KAClB;;;;IAED,mBAAmB;QACjB,OAAO,IAAI,CAAC,EAAE,CAAC,WAAW,IAAI,IAAI,CAAC,EAAE,CAAC,WAAW,CAAC,IAAI,CAAC;KACxD;;;;;;IAKD,QAAQ,CAAC,GAAqC;QAC5C,IAAI,CAAC,WAAW,GAAG,GAAG,CAAC;QACvB,IAAI,CAAC,WAAW,IAAI,IAAI,CAAC,EAAE,CAAC,YAAY,CAAC,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC,KAAK,EAAE,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;KACjG;;;;IAGD,SAAS;;YACH,SAAS,GAAuC,IAAI;QACxD,SAAS,GAAG,IAAI,CAAC,aAAa,CAAC,uBAAuB,EAAE,CAAC;;cACnD,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE,OAAO,EAAE,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,SAAS,CAAC,EAAE,CAAC;QAC5E,SAAS,CAAC,SAAS;;;;QACjB,CAAC,QAAgC;YAC/B,CAAC,CAAC,KAAK,EAAE,CAAC;YACV,IAAI,CAAC,MAAM,GAAG,CAAC,GAAG,IAAI,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC,CAAC;YAChD,IAAI,CAAC,YAAY,GAAG,QAAQ,CAAC;YAC7B,UAAU;;;YAAC;gBACT,IAAI,CAAC,EAAE,CAAC,SAAS,EAAE,CAAC;gBACpB,IAAI,IAAI,CAAC,UAAU,EAAE;oBACnB,IAAI,CAAC,EAAE,CAAC,UAAU,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;iBACrC;qBAAM;;oBAEL,IAAI,CAAC,YAAY,IAAI,IAAI,CAAC,YAAY,CAAC,MAAM,GAAG,CAAC,IAAI,IAAI,CAAC,EAAE,CAAC,UAAU,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;iBAClG;aACF,GAAE,GAAG,CAAC,CAAC;SACT;;;;QACD,CAAC,GAAG;YACF,CAAC,CAAC,KAAK,EAAE,CAAC;;YAEV,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,GAAG,CAAC,KAAK,IAAI,IAAI,GAAG,GAAG,CAAC,OAAO,IAAI,GAAG,CAAC,KAAK,CAAC,OAAO,IAAI,GAAG,CAAC,KAAK,CAAC,OAAO,IAAI,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC;YAC/G,MAAM,GAAG,CAAC;SACX,EACF,CAAC;KACH;;;;;IAED,cAAc,CAAC,GAAsB;;YAC/B,IAAI,GAAe,EAAE;QACzB,IAAI,KAAK,CAAC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE;;kBACrB,GAAG,GAAe,GAAG,CAAC,IAAI;YAChC,GAAG,CAAC,OAAO;;;;YAAC,EAAE;gBACZ,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;aACf,EAAC,CAAC;SACJ;aAAM;YACL,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;SACrB;QACD,IAAI,IAAI,CAAC,MAAM,IAAI,CAAC,EAAE;YACpB,OAAO;SACR;;YACG,GAAG,GAAG,IAAI,CAAC,CAAC,CAAC;QACjB,IAAI,CAAC,UAAU,GAAG,GAAG,CAAC,EAAE,CAAC;KAC1B;;;;;IAED,aAAa,CAAC,QAAgC;;cACtC,KAAK,GAAe,EAAE;;cACtBnB,MAAG,GAEL,EAAE;QACN,QAAQ,IAAI,QAAQ,CAAC,OAAO;;;;QAAC,EAAE;YAC7B,IAAIA,MAAG,CAAC,EAAE,CAAC,WAAW,CAAC,IAAI,IAAI,EAAE;gBAC/BA,MAAG,CAAC,EAAE,CAAC,WAAW,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC;aAC5B;iBAAM;gBACLA,MAAG,CAAC,EAAE,CAAC,WAAW,CAAC,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;aAC9B;SACF,EAAC,CAAC;QAEH,MAAM,CAAC,IAAI,CAACA,MAAG,CAAC,CAAC,OAAO;;;;QAAC,GAAG;;kBACpB,IAAI,GAAa;gBACrB,EAAE,EAAE,GAAG;gBACP,IAAI,EAAE;oBACJ,EAAE,EAAE,GAAG;oBACP,WAAW,EAAE,GAAG;oBAChB,QAAQ,EAAE;wBACR,KAAK,EAAE,CAAC;qBACT;iBACF;gBACD,UAAU,EAAE,KAAK;gBACjB,IAAI,EAAE,KAAK;aACZ;;kBAEK,QAAQ,GAAGA,MAAG,CAAC,GAAG,CAAC,CAAC,GAAG;;;;YAAC,EAAE;;sBACxB,IAAI,GAAa;oBACrB,EAAE,EAAE,EAAE,CAAC,EAAE;oBACT,IAAI,oBACC,EAAE,IACL,QAAQ,EAAE;4BACR,KAAK,EAAE,CAAC;4BACR,QAAQ,EAAE,GAAG;yBACd,GACF;oBACD,UAAU,EAAE,IAAI;oBAChB,IAAI,EAAE,IAAI;iBACX;gBAED,OAAO,IAAI,CAAC;aACb,EAAC;YAEF,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;YAEzB,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;SAClB,EAAC,CAAC;QAEH,OAAO,KAAK,CAAC;KACd;;;;;IAEO,mBAAmB;QACzB,IAAI,CAAC,MAAM,GAAG;YACZ,EAAE,KAAK,EAAE,aAAa,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,kBAAkB,CAAC,EAAE,KAAK,EAAE,GAAG,EAAE;YACxF,EAAE,KAAK,EAAE,MAAM,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,MAAM,CAAC,EAAE,KAAK,EAAE,EAAE,EAAE;YACpE,EAAE,KAAK,EAAE,MAAM,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,MAAM,CAAC,EAAE,KAAK,EAAE,EAAE,EAAE;YACpE,EAAE,KAAK,EAAE,YAAY,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,QAAQ,CAAC,EAAE,KAAK,EAAE,GAAG,EAAE;YAC7E,EAAE,KAAK,EAAE,aAAa,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,cAAc,CAAC,EAAE,KAAK,EAAE,GAAG,EAAE;SACrF,CAAC;KACH;;;YAnKF,SAAS,SAAC;gBACT,QAAQ,EAAE,oBAAoB;gBAC9B,yyBAA8C;gBAE9C,SAAS,EAAE;oBACT,EAAE,OAAO,EAAE,kBAAkB,EAAE,QAAQ,MAA+B,EAAE;oBACxE,aAAa;iBACd;;aACF;;;;YAbQ,mBAAmB;YALnB,eAAe;YAEf,aAAa;YADb,cAAc;YAFd,cAAc;YAQd,aAAa;YAXG,MAAM;YAAtB,cAAc;;;yBAwBpB,MAAM,SAAC,YAAY;iBAGnB,SAAS,SAAC,IAAI;;;;;;;AC5BjB,MA6Ba,iBAAiB;;;;;;;;;;;;;;;;IA2B5B,YACU,QAAyB,EACzB,MAAqB,EACrB,KAAqB,EACrB,SAA2B,EAC3B,MAAc,EACd,cAA8B,EAC9B,OAAuB,EACvB,GAA6B,EAC7B,GAAa,EACD,GAAsB,EACf,QAAgB,EACR,SAAc,EAC7B,UAAwB;QAZpC,aAAQ,GAAR,QAAQ,CAAiB;QACzB,WAAM,GAAN,MAAM,CAAe;QACrB,UAAK,GAAL,KAAK,CAAgB;QACrB,cAAS,GAAT,SAAS,CAAkB;QAC3B,WAAM,GAAN,MAAM,CAAQ;QACd,mBAAc,GAAd,cAAc,CAAgB;QAC9B,YAAO,GAAP,OAAO,CAAgB;QACvB,QAAG,GAAH,GAAG,CAA0B;QAC7B,QAAG,GAAH,GAAG,CAAU;QACD,QAAG,GAAH,GAAG,CAAmB;QACf,aAAQ,GAAR,QAAQ,CAAQ;QACR,cAAS,GAAT,SAAS,CAAK;QAC7B,eAAU,GAAV,UAAU,CAAc;QAvCrC,cAAS,GAAG,sCAAsC,CAAC;QAElD,eAAU,GAAG,IAAI,YAAY,EAAO,CAAC;QACrC,gBAAW,GAAG,IAAI,YAAY,EAAO,CAAC;QASvC,iBAAY,GAEjB,EAAE,CAAC;QAGP,gBAAW,GAAG;YACZ,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,iCAAiC,CAAC;YACnE,KAAK,EAAE,GAAG;YACV,MAAM,EAAE,GAAG;YACX,WAAW,EAAE,IAAI;SAClB,CAAC;QAEF,WAAM,GAAa,EAAE,CAAC;QAiBpB,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,IAAI,IAAI,YAAY,CAAC,QAAQ,EAAE,SAAS,CAAC,CAAC;KAC5E;;;;;IArCD,IACI,KAAK,CAAC,IAAc;QACtB,IAAI,IAAI,EAAE;YACR,IAAI,CAAC,MAAM,GAAG,IAAI,IAAI,EAAE,CAAC;SAC1B;KACF;;;;IAkCD,QAAQ;KACP;;;;IAED,OAAO;;cACC,GAAG,GAAG,EAAE,KAAK,EAAE,IAAI,CAAC,MAAM,EAAE,UAAU,EAAE,IAAI,EAAE;QACpD,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;KAC5B;;;;IAED,WAAW;QACT,IAAI,CAAC,UAAU,CAAC,IAAI,EAAE,CAAC;KACxB;;;;IAED,QAAQ;;cACA,WAAW,GAAG,IAAI,CAAC,GAAG,CAAC,uBAAuB,CAAC,yBAAyB,CAAC;;cACzE,OAAO,GAAG,WAAW,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC;QAC5C,OAAO,CAAC,QAAQ,CAAC,QAAQ,GAAG,cAAc,CAAC;;QAE3C,OAAO,CAAC,QAAQ,CAAC,SAAS,GAAG,IAAI,CAAC,YAAY,IAAI,IAAI,CAAC,YAAY,CAAC,SAAS,CAAC;QAE9E,OAAO,CAAC,QAAQ,CAAC,gBAAgB,CAAC,SAAS;;;;QACzC,CAAC,eAAgC;YAC/B,IAAI,CAAC,OAAO,EAAE,CAAC;;kBACT,KAAK,GAAG,eAAe,CAAC,QAAQ;;kBAChC,EAAE,GAAiB,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,OAAO,CAAC;YAElD,IAAI,CAAC,MAAM,CAAC,WAAW,GAAG,EAAE,CAAC,EAAE,CAAC;YAChC,IAAI,CAAC,MAAM,CAAC,aAAa,GAAG,EAAE,CAAC,IAAI,CAAC;SACrC;;;;QACD,CAAC,GAAG;YACF,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;;YAEnB,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,GAAG,CAAC,KAAK,IAAI,IAAI,GAAG,GAAG,CAAC,OAAO,IAAI,GAAG,CAAC,KAAK,CAAC,OAAO,IAAI,GAAG,CAAC,KAAK,CAAC,OAAO,IAAI,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC;YAC/G,IAAI,CAAC,OAAO,EAAE,CAAC;SAChB,EACF,CAAC;;cAEI,WAAW,GAAG;YAClB,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,uCAAuC,CAAC;YACzE,KAAK,EAAE,GAAG;YACV,MAAM,EAAE,GAAG;YACX,WAAW,EAAE,KAAK;SACnB;;cACK,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,OAAO,EAAE,WAAW,CAAC;QACpD,OAAO,CAAC,QAAQ,CAAC,iBAAiB,CAAC,SAAS;;;;QAAC,MAAM,IAAI,MAAM,CAAC,KAAK,EAAE,EAAC,CAAC;KACxE;;;;IAED,OAAO;QACL,IAAI,CAAC,MAAM,CAAC,WAAW,GAAG,SAAS,CAAC;QACpC,IAAI,CAAC,MAAM,CAAC,aAAa,GAAG,SAAS,CAAC;KACvC;;;;IAED,cAAc;;cACN,IAAI,GAAG,IAAI,CAAC,GAAG,CAAC,uBAAuB,CAAC,qBAAqB,CAAC;;cAC9D,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,EAAE,EAAE,CAAC;QACtC,IAAI,CAAC,QAAQ,CAAC,UAAU,GAAG,IAAI,CAAC,MAAM,CAAC,qBAAqB,CAAC;;cAEvD,OAAO,GAAG,EAAE;QAClB,OAAO,CAAC,IAAI,CACV;YACE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,2BAA2B,CAAC;YAC5D,GAAG,EAAE,mBAAmB;YACxB,MAAM;;;YAAE;gBACN,OAAO,IAAI,OAAO,CAAC,KAAK,EAAE,CAAC;aAC5B,CAAA;SACF,CACF,CAAC;QAEF,OAAO,CAAC,IAAI,CACV;YACE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,4BAA4B,CAAC;YAC7D,GAAG,EAAE,iBAAiB;YACtB,MAAM;;;YAAE;;sBACA,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC,mBAAmB,EAAE;gBACpD,IAAI,QAAQ,IAAI,IAAI,EAAE;oBACpB,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,8BAA8B,CAAC,CAAC,CAAC;oBAC/E,OAAO;iBACR;gBACD,IAAI,CAAC,MAAM,CAAC,qBAAqB,GAAG,QAAQ,CAAC,EAAE,CAAC;gBAChD,IAAI,CAAC,MAAM,CAAC,uBAAuB,GAAG,QAAQ,CAAC,IAAI,CAAC;gBACpD,OAAO,IAAI,OAAO,CAAC,KAAK,EAAE,CAAC;aAC5B,CAAA;SACF,CACF,CAAC;;cAEI,OAAO,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,EAAE;YACpC,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,uCAAuC,CAAC;YACzE,MAAM,EAAE,GAAG;YACX,KAAK,EAAE,GAAG;YACV,OAAO,EAAE,OAAO;YAChB,aAAa,EAAE,KAAK;SACrB,CAAC;KACH;;;;IAED,aAAa;QACX,IAAI,CAAC,MAAM,CAAC,qBAAqB,GAAG,SAAS,CAAC;QAC9C,IAAI,CAAC,MAAM,CAAC,uBAAuB,GAAG,SAAS,CAAC;KACjD;;;YArJF,SAAS,SAAC;gBACT,QAAQ,EAAE,eAAe;gBACzB,syEAAyC;gBAEzC,SAAS,EAAE;oBACR,YAAY;iBACd;aACF;;;;YAxBQ,eAAe;YAEf,aAAa;YADb,cAAc;YAId,gBAAgB;YARA,MAAM;YAAtB,cAAc;YAEd,cAAc;YAHgB,wBAAwB;YAAwB,QAAQ;YAAtF,iBAAiB,uBAkErB,QAAQ;yCACR,MAAM,SAAC,SAAS;4CAChB,MAAM,SAAC,iBAAiB;YAzDD,YAAY,uBA0DnC,QAAQ;;;yBArCV,MAAM;0BACN,MAAM;oBAEN,KAAK;2BAOL,KAAK;0BAIL,SAAS,SAAC,kBAAkB;;MA+HlB,iBAAiB;;;;IAC5B,YACU,UAAwB;QAAxB,eAAU,GAAV,UAAU,CAAc;KAC7B;;;;;IAEL,SAAS,CAAC,IAAc;QACtB,IAAI,IAAI,IAAI,IAAI,CAAC,WAAW,EAAE;YAC5B,OAAO,IAAI,CAAC,aAAa,IAAI,IAAI,CAAC,WAAW,IAAI,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,wBAAwB,CAAC,CAAC;SACtG;QACD,OAAO,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,2BAA2B,CAAC,CAAC;KAC/D;CACF;;;;;;ACxLD,MA8Ba,kBAAkB;;;;;;;;;;;;;;;;IA6C7B,YACU,MAAqB,EACrB,YAA4B,EAC5B,OAAwB,EACxB,IAAmB,EACnB,IAAiB,EACjB,aAAqC,EACrC,IAAuB,EACvB,GAA6B,EAC7B,GAAa,EACD,GAAsB,EACf,QAAgB,EACR,SAAc,EAC7B,UAAwB;QAZpC,WAAM,GAAN,MAAM,CAAe;QACrB,iBAAY,GAAZ,YAAY,CAAgB;QAC5B,YAAO,GAAP,OAAO,CAAiB;QACxB,SAAI,GAAJ,IAAI,CAAe;QACnB,SAAI,GAAJ,IAAI,CAAa;QACjB,kBAAa,GAAb,aAAa,CAAwB;QACrC,SAAI,GAAJ,IAAI,CAAmB;QACvB,QAAG,GAAH,GAAG,CAA0B;QAC7B,QAAG,GAAH,GAAG,CAAU;QACD,QAAG,GAAH,GAAG,CAAmB;QACf,aAAQ,GAAR,QAAQ,CAAQ;QACR,cAAS,GAAT,SAAS,CAAK;QAC7B,eAAU,GAAV,UAAU,CAAc;QAzDrC,iBAAY,GAEjB,EAAE,CAAC;QAoBG,eAAU,GAAG,IAAI,YAAY,EAAO,CAAC;QACrC,gBAAW,GAAG,IAAI,YAAY,EAAO,CAAC;QAGhD,gBAAW,GAAG;YACZ,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,4BAA4B,CAAC;YAC9D,KAAK,EAAE,GAAG;YACV,MAAM,EAAE,GAAG;YACX,WAAW,EAAE,IAAI;SAClB,CAAC;QAEO,mBAAc,GAAG,cAAc,CAAC;QAMzC,8BAAyB,GAAG;YAC1B,EAAE,KAAK,EAAE,WAAW,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,4BAA4B,CAAC,EAAE;YACrF,EAAE,KAAK,EAAE,SAAS,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,0BAA0B,CAAC,EAAE;SAClF,CAAC;QAiBA,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,IAAI,IAAI,YAAY,CAAC,QAAQ,EAAE,SAAS,CAAC,CAAC;KAC3E;;;;;IAxDF,IAAa,KAAK,CAAC,CAAW;QAC5B,IAAI,CAAC,EAAE;YACL,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC;;YAEhB,IAAI,IAAI,CAAC,MAAM,CAAC,aAAa,IAAI,IAAI,IAAI,IAAI,CAAC,MAAM,CAAC,aAAa,IAAI,EAAE,EAAE;gBACxE,IAAI,IAAI,CAAC,MAAM,CAAC,eAAe,IAAI,IAAI,IAAI,IAAI,CAAC,MAAM,CAAC,eAAe,IAAI,EAAE,EAAE;oBAC5E,IAAI,CAAC,MAAM,CAAC,cAAc,GAAG,cAAc,CAAC,SAAS,CAAC;iBACvD;qBAAM;oBACL,IAAI,CAAC,MAAM,CAAC,cAAc,GAAG,cAAc,CAAC,OAAO,CAAC;iBACrD;aACF;iBAAM;gBACL,IAAI,CAAC,MAAM,CAAC,cAAc,GAAG,cAAc,CAAC,SAAS,CAAC;aACvD;YAED,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,CAAC;YACjD,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,MAAM,CAAC,eAAe,CAAC,CAAC;SAC/C;KACF;;;;IAyCD,QAAQ;KACP;;;;IAED,OAAO;;cACC,GAAG,GAAG,EAAE,KAAK,EAAE,IAAI,CAAC,MAAM,EAAE,UAAU,EAAE,IAAI,EAAE;QACpD,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;KAC5B;;;;IAED,WAAW;QACT,IAAI,CAAC,UAAU,CAAC,IAAI,EAAE,CAAC;KACxB;;;;;IAED,iBAAiB,CAAC,GAAG;QACnB,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;QACjB,IAAI,GAAG,IAAI,cAAc,CAAC,SAAS,EAAE;YACnC,IAAI,CAAC,MAAM,CAAC,eAAe,GAAG,IAAI,CAAC;YACnC,IAAI,CAAC,MAAM,CAAC,gBAAgB,GAAG,IAAI,CAAC;SACrC;aAAM,IAAI,GAAG,IAAI,cAAc,CAAC,OAAO,EAAE;YACxC,IAAI,CAAC,MAAM,CAAC,aAAa,GAAG,IAAI,CAAC;YACjC,IAAI,CAAC,MAAM,CAAC,iBAAiB,GAAG,IAAI,CAAC;SACtC;KACF;;;;;IAGD,cAAc,CAAC,IAAS;QACtB,IAAI,IAAI,EAAE;YACR,IAAI,CAAC,MAAM,CAAC,aAAa,GAAG,IAAI,CAAC,UAAU,CAAC;YAC5C,IAAI,CAAC,MAAM,CAAC,iBAAiB,GAAG,IAAI,CAAC,IAAI,CAAC;SAC3C;KACF;;;;;IAED,eAAe,CAAC,IAAS;QACvB,IAAI,CAAC,MAAM,CAAC,aAAa,GAAG,EAAE,CAAC;QAC/B,IAAI,CAAC,MAAM,CAAC,iBAAiB,GAAG,EAAE,CAAC;KACpC;;;;;IAED,eAAe,CAAC,IAAS;QACvB,IAAI,IAAI,EAAE;YACR,IAAI,CAAC,MAAM,CAAC,eAAe,GAAG,IAAI,CAAC,EAAE,CAAC;YACtC,IAAI,CAAC,MAAM,CAAC,gBAAgB,GAAG,IAAI,CAAC,IAAI,CAAC;SAC1C;KACF;;;;;IAED,aAAa,CAAC,IAAS;QACrB,IAAI,CAAC,MAAM,CAAC,eAAe,GAAG,EAAE,CAAC;QACjC,IAAI,CAAC,MAAM,CAAC,gBAAgB,GAAG,EAAE,CAAC;KACnC;;;;;IAED,gBAAgB,CAAC,GAAW;;YACtB,GAAG,GAAG,IAAI,CAAC,IAAI,CAAC,0BAA0B,EAAE;QAChD,IAAI,GAAG,EAAE;YACP,GAAG,IAAI,eAAe,GAAG,EAAE,CAAC;YAC5B,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,SAAS;;;;YAAC,CAAC,EAAO;gBACnC,IAAI,CAAC,MAAM,CAAC,iBAAiB,GAAG,EAAE,CAAC,IAAI,CAAC;aACzC,EAAC,CAAC;SACJ;KACF;;;;;IAED,WAAW,CAAC,EAAU;;YAChB,GAAG,GAAG,IAAI,CAAC,IAAI,CAAC,iBAAiB,EAAE;QACvC,IAAI,EAAE,EAAE;YACN,GAAG,IAAI,IAAI,EAAE,EAAE,CAAC;YAChB,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,SAAS;;;;YAAC,CAAC,EAAO;gBACnC,IAAI,CAAC,MAAM,CAAC,gBAAgB,GAAG,EAAE,CAAC,IAAI,CAAC;aACxC,EAAC,CAAC;SACJ;KACF;;;YAzIF,SAAS,SAAC;gBACT,QAAQ,EAAE,gBAAgB;gBAC1B,unGAA0C;gBAE1C,SAAS,EAAE;oBACR,YAAY;iBACd;aACF;;;;YAvBQ,aAAa;YADb,cAAc;YADd,eAAe;YAKf,aAAa;YARb,WAAW;YAOX,sBAAsB;YADtB,iBAAiB;YAPa,wBAAwB;YAAwB,QAAQ;YAAtF,iBAAiB,uBAqFrB,QAAQ;yCACR,MAAM,SAAC,SAAS;4CAChB,MAAM,SAAC,iBAAiB;YA5ED,YAAY,uBA6EnC,QAAQ;;;2BAzDV,KAAK;oBAIL,KAAK;yBAkBL,MAAM;0BACN,MAAM;0BAEN,SAAS,SAAC,kBAAkB;oCAY5B,SAAS,SAAC,uBAAuB;;MA+FvB,kBAAkB;;;;IAC7B,YACU,UAAwB;QAAxB,eAAU,GAAV,UAAU,CAAc;KAC7B;;;;;IAEL,SAAS,CAAC,IAAS;QACjB,IAAI,IAAI,KAAK,IAAI,CAAC,eAAe,IAAI,IAAI,CAAC,aAAa,CAAC,EAAE;YACxD,OAAO,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,sBAAsB,CAAC,CAAC;SAC1D;QACD,OAAO,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,yBAAyB,CAAC,CAAC;KAC7D;CACF;;;;;;AC9KD,MAQa,uBAAuB;;;;;IAChC,YACY,OAA+B,EAC/B,SAAuB;QADvB,YAAO,GAAP,OAAO,CAAwB;QAC/B,cAAS,GAAT,SAAS,CAAc;KAElC;;;;;IACD,WAAW,CAAC,GAAQ;QAChB,IAAI,CAAC,OAAO,CAAC,YAAY,GAAG,GAAG,CAAC,YAAY,CAAC;QAC7C,IAAI,CAAC,OAAO,CAAC,cAAc,GAAG,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC;KACpE;;;;;;IAEO,SAAS,CAAC,GAAU;;cAClB,cAAc,GAA4B,EAAE;QAClD,IAAI,GAAG,EAAE;YACL,GAAG,CAAC,OAAO;;;;YAAC,CAAC,OAA8B;gBACvC,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC;gBACnC,cAAc,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;aAChC,EAAC,CAAC;SACN;QACD,OAAO,cAAc,CAAC;KACzB;;;;;;IACO,SAAS,CAAC,GAAqB;QACnC,IAAI,GAAG,IAAI,GAAG,CAAC,MAAM,GAAG,CAAC,EAAE;YACvB,GAAG,CAAC,OAAO;;;;YAAC,CAAC,IAAoB;gBAC7B,QAAQ,IAAI,CAAC,UAAU;oBACnB,KAAK,UAAU;wBACX,IAAI,CAAC,SAAS,GAAG,IAAI,iBAAiB,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;wBACvD,IAAI,CAAC,MAAM,GAAG,iBAAiB,CAAC;wBAChC,IAAI,CAAC,YAAY,GAAG;4BAChB,SAAS,EAAE,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,QAAQ,CAAC,gBAAgB;yBACjE,CAAC;wBACF,MAAM;oBACV,KAAK,QAAQ;wBACT,IAAI,CAAC,SAAS,GAAG,IAAI,kBAAkB,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;wBACxD,IAAI,CAAC,MAAM,GAAG,kBAAkB,CAAC;wBACjC,IAAI,CAAC,YAAY,GAAG;4BAChB,SAAS,EAAE,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,QAAQ,CAAC,gBAAgB;yBACjE,CAAC;wBACF,MAAM;oBACV,KAAK,UAAU;wBACX,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC;wBAC1C,MAAM;oBACV;wBACI,MAAM;iBACb;aACJ,EAAC,CAAC;SACN;KACJ;;;YAhDJ,UAAU;;;;YANF,sBAAsB;YAItB,YAAY;;;;;;;;;ICJjB,IAAK,IAAI;IACT,MAAO,MAAM;IACb,cAAe,cAAc;IAC7B,WAAY,WAAW;IACvB,qBAAsB,qBAAqB;IAC3C,SAAU,SAAS;IACnB,kBAAmB,kBAAkB;IACrC,kBAAmB,kBAAkB;IACrC,oBAAqB,oBAAoB;IACzC,oBAAqB,oBAAoB;IACzC,oBAAqB,oBAAoB;;;;;;;ACX7C,MAUa,uBAAuB;;;;;IAChC,YACY,OAA+B,EAChC,UAAyB;QADxB,YAAO,GAAP,OAAO,CAAwB;QAChC,eAAU,GAAV,UAAU,CAAe;KAGnC;;;;;IACD,WAAW,CAAC,GAAQ;QAChB,IAAI,CAAC,OAAO,CAAC,YAAY,GAAG,GAAG,CAAC,YAAY,CAAC;QAC7C,IAAI,CAAC,OAAO,CAAC,cAAc,GAAG,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC;KACpE;;;;;;IAEO,SAAS,CAAC,GAAU;;cAClB,cAAc,GAA4B,EAAE;QAClD,IAAI,GAAG,EAAE;YACL,GAAG,CAAC,OAAO;;;;YAAC,CAAC,OAA8B;gBACvC,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC;gBACnC,cAAc,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;aAChC,EAAC,CAAC;SACN;QACD,OAAO,cAAc,CAAC;KACzB;;;;;;IACO,SAAS,CAAC,GAAqB;QACnC,IAAI,GAAG,IAAI,GAAG,CAAC,MAAM,GAAG,CAAC,EAAE;YACvB,GAAG,CAAC,OAAO;;;;YAAC,CAAC,IAAoB;gBAC7B,QAAQ,IAAI,CAAC,UAAU;oBACnB,KAAK,wBAAwB,CAAC,gBAAgB;wBAC1C,IAAI,CAAC,QAAQ,GAAG,sBAAsB,CAAC;wBACvC,MAAM;oBACV,KAAK,wBAAwB,CAAC,gBAAgB;wBAC1C,IAAI,CAAC,QAAQ,GAAG,sBAAsB,CAAC;wBACvC,MAAM;oBACV,KAAK,wBAAwB,CAAC,kBAAkB;wBAC5C,IAAI,CAAC,MAAM,GAAG,wBAAwB,CAAC;wBACvC,IAAI,CAAC,SAAS,GAAG,IAAI,+BAA+B,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;wBACtE,IAAI,CAAC,YAAY,GAAG;4BAChB,SAAS,EAAE,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,QAAQ,CAAC,gBAAgB;yBACjE,CAAC;wBACF,MAAM;oBACV,KAAK,wBAAwB,CAAC,kBAAkB;wBAC5C,IAAI,CAAC,MAAM,GAAG,wBAAwB,CAAC;wBACvC,IAAI,CAAC,SAAS,GAAG,IAAI,+BAA+B,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;wBACtE,IAAI,CAAC,YAAY,GAAG;4BAChB,SAAS,EAAE,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,QAAQ,CAAC,gBAAgB;yBACjE,CAAC;wBACF,MAAM;oBACV,KAAK,wBAAwB,CAAC,kBAAkB;wBAC5C,IAAI,CAAC,MAAM,GAAG,wBAAwB,CAAC;wBACvC,IAAI,CAAC,SAAS,GAAG,IAAI,+BAA+B,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;wBACtE,IAAI,CAAC,YAAY,GAAG;4BAChB,SAAS,EAAE,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,QAAQ,CAAC,gBAAgB;yBACjE,CAAC;wBACF,MAAM;oBACV;wBACI,MAAM;iBACb;aACJ,EAAC,CAAC;SACN;KACJ;;;YA3DJ,UAAU;;;;YARF,sBAAsB;YAMtB,aAAa;;;AAgEtB,MAAa,sBAAsB,GAAa;IAC5C,EAAE,GAAG,EAAE,MAAM,EAAE,KAAK,EAAE,MAAM,EAAE;IAC9B,EAAE,GAAG,EAAE,MAAM,EAAE,KAAK,EAAE,MAAM,EAAE;IAC9B,EAAE,GAAG,EAAE,MAAM,EAAE,KAAK,EAAE,MAAM,EAAE;CACjC;;AAED,MAAa,sBAAsB,GAAa;IAC5C,EAAE,GAAG,EAAE,UAAU,EAAE,KAAK,EAAE,aAAa,EAAE;CAE5C;;;;;;AChFD,MAqCa,wBAAwB;;;;;;;;;;;;;;;;;;;;;;;;IACnC,YACS,OAA+B,EAC9B,OAAmC,EACnC,IAAmB,EACnB,MAAqB,EACrB,OAAwB,EACxB,OAA6B,EAC7B,QAAiC,EACjC,UAA+B,EAC/B,cAAmC,EACnC,iBAAoC,EACpC,iBAAyC,EACzC,gBAAuC,EACvC,kBAAkD,EAClD,uBAAgD,EAChD,uBAAgD,EAChD,YAA4B,EAC5B,QAAkB,EAClB,QAAkC,EAClC,IAAiB,EACjB,QAAyB,EACzB,UAAwB;QApBzB,YAAO,GAAP,OAAO,CAAwB;QAC9B,YAAO,GAAP,OAAO,CAA4B;QACnC,SAAI,GAAJ,IAAI,CAAe;QACnB,WAAM,GAAN,MAAM,CAAe;QACrB,YAAO,GAAP,OAAO,CAAiB;QACxB,YAAO,GAAP,OAAO,CAAsB;QAC7B,aAAQ,GAAR,QAAQ,CAAyB;QACjC,eAAU,GAAV,UAAU,CAAqB;QAC/B,mBAAc,GAAd,cAAc,CAAqB;QACnC,sBAAiB,GAAjB,iBAAiB,CAAmB;QACpC,sBAAiB,GAAjB,iBAAiB,CAAwB;QACzC,qBAAgB,GAAhB,gBAAgB,CAAuB;QACvC,uBAAkB,GAAlB,kBAAkB,CAAgC;QAClD,4BAAuB,GAAvB,uBAAuB,CAAyB;QAChD,4BAAuB,GAAvB,uBAAuB,CAAyB;QAChD,iBAAY,GAAZ,YAAY,CAAgB;QAC5B,aAAQ,GAAR,QAAQ,CAAU;QAClB,aAAQ,GAAR,QAAQ,CAA0B;QAClC,SAAI,GAAJ,IAAI,CAAa;QACjB,aAAQ,GAAR,QAAQ,CAAiB;QACzB,eAAU,GAAV,UAAU,CAAc;KAEjC;;;;;;IAGD,mBAAmB,CAAC,GAAQ;;cACpB,OAAO,GAAG,GAAG,CAAC,YAAY;;cAC1B,IAAI,GAAG,OAAO,CAAC,SAAS;QAC9B,IAAI,IAAI,EAAE;YACR,OAAO,CAAC,SAAS,GAAG,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,QAAQ,CAAC;YACvD,IAAI,CAAC,OAAO,CAAC,cAAc,GAAG,IAAI,CAAC,OAAO,CAAC,gBAAgB,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC;YAChF,IAAI,CAAC,OAAO,CAAC,YAAY,GAAG,OAAO,CAAC;SACrC;aAAM;YACL,IAAI,CAAC,OAAO,CAAC,cAAc,GAAG,IAAI,CAAC,OAAO,CAAC,gBAAgB,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC;YAChF,IAAI,CAAC,OAAO,CAAC,YAAY,GAAG,OAAO,CAAC;SACrC;KACF;;;;;IACD,WAAW,CAAC,GAAQ;;;cAEZ,YAAY,GAAG,GAAG,CAAC,YAAY;QACrC,QAAQ,YAAY,CAAC,SAAS;YAC5B,KAAK,gBAAgB,CAAC,OAAO;gBAC3B,IAAI,CAAC,OAAO,CAAC,kBAAkB,CAAC,GAAG,CAAC,CAAC;gBACrC,MAAM;YACR,KAAK,gBAAgB,CAAC,YAAY;gBAChC,IAAI,CAAC,QAAQ,CAAC,uBAAuB,CAAC,GAAG,EAAE,cAAc,CAAC,CAAC;gBAC3D,MAAM;YACR,KAAK,gBAAgB,CAAC,UAAU;gBAC9B,IAAI,CAAC,UAAU,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC;gBACjC,MAAM;YACR,KAAK,gBAAgB,CAAC,YAAY;gBAChC,IAAI,CAAC,cAAc,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC;gBACrC,MAAM;YACR,KAAK,gBAAgB,CAAC,UAAU;gBAC9B,IAAI,CAAC,iBAAiB,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC;gBACxC,MAAM;YACR,KAAK,gBAAgB,CAAC,iBAAiB;gBACrC,IAAI,CAAC,QAAQ,CAAC,uBAAuB,CAAC,GAAG,EAAE,cAAc,CAAC,CAAC;gBAC3D,MAAM;YACR,KAAK,gBAAgB,CAAC,eAAe;gBACnC,IAAI,CAAC,iBAAiB,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC;gBACxC,MAAM;YACR,KAAK,gBAAgB,CAAC,cAAc;gBAClC,IAAI,CAAC,gBAAgB,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC;gBACvC,MAAM;YACR,KAAK,gBAAgB,CAAC,uBAAuB;gBAC3C,IAAI,CAAC,kBAAkB,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC;gBACzC,MAAM;YACR,KAAK,gBAAgB,CAAC,gBAAgB;gBACpC,IAAI,CAAC,uBAAuB,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC;gBAC9C,MAAM;YACR,KAAK,gBAAgB,CAAC,gBAAgB;gBACpC,IAAI,CAAC,uBAAuB,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC;gBAC9C,MAAM;YACR;gBACE,IAAI,CAAC,QAAQ,CAAC,sBAAsB,CAAC,GAAG,CAAC,CAAC;gBAC1C,MAAM;SACT;KACF;;;;IACM,aAAa;;cACZ,QAAQ,GAAG,IAAI,OAAO,EAAO;QACnC,IAAI,CAAC,OAAO,CAAC,OAAO,GAAG,EAAE,CAAC;;QAE1B,IAAI,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,gBAAgB,IAAI,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,gBAAgB,CAAC,MAAM,GAAG,CAAC,EAAE;;kBACjG,YAAY,GAAG,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,gBAAgB,CAAC,MAAM;;;;YAAC,CAAC,IAAI,CAAC,CAAC,QAAQ,KAAK,WAAW,IAAI,CAAC,CAAC,gBAAgB,EAAC;;kBACvH,SAAS,GAAG,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,QAAQ,CAAC,EAAE;YACvD,IAAI,CAAC,uBAAuB,CAAC,SAAS,CAAC,CAAC,SAAS;;;;YAAC,CAAC,EAAE;gBACnD,IAAI,EAAE,IAAI,EAAE,CAAC,MAAM,EAAE;oBACnB,OAAO,IAAI,CAAC,OAAO,CAAC,qBAAqB,CAAC,EAAE,CAAC,mBAAmB,CAAC,CAAC,SAAS;;;;oBACzE,CAAC;;4BACK,IAAI,GAAG,CAAC,CAAC,CAAC;wBACd,IAAI,IAAI,IAAI,IAAI,CAAC,MAAM,GAAG,CAAC,EAAE;4BAC3B,IAAI,CAAC,OAAO;;;;4BAAC,CAAC,CAAM;gCAClB,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;6BAC9B,EAAC,CAAC;yBACJ;wBACD,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;qBACrB;;;;oBAAE,GAAG;wBACJ,IAAI,CAAC,OAAO,CAAC,OAAO,GAAG,EAAE,CAAC;wBAC1B,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;qBACrB,EAAC,CAAA;iBACL;qBAAM;oBACLoB,UAAQ,CAAC,YAAY,CAAC,GAAG;;;;oBAAC,IAAI;wBAC5B,OAAO,IAAI,CAAC,OAAO,CAAC,qBAAqB,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC;qBAClE,EAAC,CAAC,CAAC,SAAS;;;;oBAAC,IAAI;wBAChB,IAAI,IAAI,IAAI,IAAI,CAAC,MAAM,GAAG,CAAC,EAAE;4BAC3B,IAAI,CAAC,OAAO;;;;4BAAC,CAAC,CAAM;gCAClB,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;6BAC9B,EAAC,CAAC;yBACJ;wBACD,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;qBACrB;;;;oBAAE,GAAG;wBACJ,IAAI,CAAC,OAAO,CAAC,OAAO,GAAG,EAAE,CAAC;wBAC1B,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;qBACrB,EAAC,CAAC;iBACJ;aACF,EAAC,CAAC;SACJ;aAAM;YACL,IAAI,CAAC,OAAO,CAAC,OAAO,GAAG,EAAE,CAAC;YAC1B,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;SACrB;QACD,OAAO,QAAQ,CAAC,YAAY,EAAE,CAAC;KAChC;;;;;IAEM,mBAAmB,CAAC,MAAc;;cACjC,SAAS,GAAG,IAAI,OAAO,EAAgB;QAC7C,IAAI,MAAM,EAAE;YACVA,UAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,eAAe,CAAC,MAAM,CAAC,EAC3C,IAAI,CAAC,OAAO,CAAC,0BAA0B,CAAC,MAAM,CAAC,CAAC,IAAI,CAClD,GAAG;;;;YAAC,CAAC,MAAa;gBAChB,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC,CAAC;gBAC7B,OAAO,MAAM,CAAC;aACf,EAAC,CACH,EACD,IAAI,CAAC,OAAO,CAAC,0BAA0B,CAAC,MAAM,CAAC,EAC/C,IAAI,CAAC,OAAO,CAAC,2BAA2B,CAAC,MAAM,CAAC,EAChD,IAAI,CAAC,OAAO,CAAC,gBAAgB,CAAC,MAAM,CAAC,EACrC,IAAI,CAAC,OAAO,CAAC,mBAAmB,CAAC,MAAM,CAAC,CACzC,CAAC,SAAS;;;;YAAC,CAAC,EAAS;;sBACd,QAAQ,GAAG,IAAI,YAAY,EAAE;gBACnC,QAAQ,CAAC,QAAQ,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC;gBAC1B,QAAQ,CAAC,gBAAgB,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC;gBAClC,QAAQ,CAAC,aAAa,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC,MAAM;;;;gBAAC,GAAG,IAAI,GAAG,CAAC,SAAS,KAAK,UAAU,EAAC,CAAC;gBAC3E,QAAQ,CAAC,WAAW,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC;gBAC7B,QAAQ,CAAC,aAAa,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC;gBAC/B,QAAQ,CAAC,gBAAgB,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC;gBAClC,IAAI,CAAC,OAAO,CAAC,YAAY,GAAG,QAAQ,CAAC;gBACrC,IAAI,CAAC,aAAa,EAAE,CAAC,SAAS;;;;gBAAC,CAAC,EAAE;oBAChC,SAAS,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;iBAC1B,EAAC,CAAC;aACJ,EAAC,CAAC;SACJ;QACD,OAAO,SAAS,CAAC,YAAY,EAAE,CAAC;KACjC;;;;IAEM,2BAA2B;QAChC,IAAI,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,QAAQ,CAAC,gBAAgB,EAAE;;gBACnD,GAAG,GAAG,8CAA8C;;gBACpD,KAAK,GAAG,mBAAmB,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,QAAQ,CAAC,gBAAgB,IAAI;YACtF,KAAK,GAAG,kBAAkB,CAAC,KAAK,CAAC,CAAC;YAClC,GAAG,IAAI,KAAK,CAAC;YACb,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;SAC3B;aAAM;YACL,OAAO,IAAI,CAAC,IAAI,KAAK,EAAE,CAAC,CAAC;SAC1B;KACF;;;;;;;;IAKD,WAAW,CAAC,OAAe,EAAE,WAAwB,EAAE,KAAa;QAClE,OAAO,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,OAAO,EAAE,WAAW,EAAE,KAAK,CAAC,CAAC;KAC9D;;;;;;IAKD,aAAa,CAAC,OAAe;QAC3B,OAAO,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;KAC5C;;;;;;;IAKD,cAAc,CAAC,OAAe,EAAE,OAAO;;cAC/B,OAAO,GAAG,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC;;cAC7B,WAAW,GAAG,IAAI,CAAC,QAAQ,CAAC,uBAAuB,CAAC,gBAAgB,CAAC;;cACrE,OAAO,GAAG,WAAW,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC;QACjD,OAAO,CAAC,QAAQ,CAAC,QAAQ,GAAG,OAAO,CAAC,cAAc,CAAC,IAAI,CAAC;QACxD,OAAO,CAAC,QAAQ,CAAC,WAAW,GAAG,OAAO,KAAK,CAAC,GAAG,CAAC,GAAG,OAAO,GAAG,CAAC,CAAC;QAC/D,OAAO,CAAC,QAAQ,CAAC,oBAAoB,GAAG,OAAO,CAAC,cAAc,CAAC,GAAG,CAAC;;cAC7D,YAAY,GAAG;YACnB,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,oCAAoC,CAAC;YACtE,KAAK,EAAE,GAAG,EAAE,MAAM,EAAE,GAAG;YACvB,OAAO,EAAE,OAAO,CAAC,QAAQ,CAAC,MAAM;YAChC,WAAW,EAAE,IAAI;SAClB;;cACK,GAAG,GAAG,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,OAAO,EAAE,YAAY,CAAC;QACzD,OAAO,CAAC,QAAQ,CAAC,MAAM,CAAC,SAAS;;;;QAAC,CAAC,EAAO;YACxC,GAAG,CAAC,KAAK,EAAE,CAAC;SACb,EAAC,CAAC;QACH,OAAO,CAAC,QAAQ,CAAC,MAAM,CAAC,SAAS;;;;QAAC,EAAE;YAClC,GAAG,CAAC,KAAK,EAAE,CAAC;SACb,EAAC,CAAC;KACJ;;;;;;;IAED,eAAe,CAAC,OAAmB,EAAE,OAAgB,EAAE,GAAW;;cAC1D,IAAI,GAAG,IAAI,mBAAmB,EAAE;QACtC,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;QACvB,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;QACvB,IAAI,CAAC,aAAa,GAAG,GAAG,CAAC;QAEzB,IAAI,CAAC,OAAO,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC;KACpC;;;;;;;IAMD,aAAa,CAAC,OAAe,EAAE,SAAiB;QAC9C,OAAO,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,OAAO,EAAE,SAAS,CAAC,CAAC;KACvD;;;;;;IAED,aAAa,CAAC,OAAkB,EAAE,WAAwB;;cAClD,WAAW,GAAG,IAAI,CAAC,QAAQ,CAAC,uBAAuB,CAAC,mBAAmB,CAAC;;cACxE,OAAO,GAAG,WAAW,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC;QACjD,OAAO,CAAC,QAAQ,CAAC,OAAO,GAAG,OAAO,CAAC,cAAc,CAAC,GAAG,CAAC;QACtD,OAAO,CAAC,QAAQ,CAAC,QAAQ,GAAG,OAAO,CAAC,cAAc,CAAC,IAAI,GAAG,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,0BAA0B,CAAC,CAAC;QAChH,OAAO,CAAC,QAAQ,CAAC,qBAAqB,GAAG,IAAI,CAAC,OAAO,CAAC,qBAAqB,CAAC;QAC5E,OAAO,CAAC,QAAQ,CAAC,iBAAiB,GAAG,IAAI,CAAC,OAAO,CAAC,iBAAiB,CAAC;QACpE,OAAO,CAAC,QAAQ,CAAC,aAAa,GAAG,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC;QAC5D,OAAO,CAAC,QAAQ,CAAC,WAAW,GAAG,WAAW,CAAC,WAAW,CAAC;QACvD,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,iBAAiB,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,qBAAqB,EAAE;YAC1E,OAAO,CAAC,QAAQ,CAAC,YAAY,GAAG,WAAW,CAAC,OAAO,CAAC,KAAK,CAAC;YAC1D,OAAO,CAAC,QAAQ,CAAC,gBAAgB,GAAG,WAAW,CAAC,OAAO,CAAC,OAAO,CAAC;SACjE;;cACK,YAAY,GAAG;YACnB,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,4BAA4B,CAAC;YAC9D,KAAK,EAAE,GAAG,EAAE,MAAM,EAAE,GAAG;YACvB,OAAO,EAAE,OAAO,CAAC,QAAQ,CAAC,MAAM;YAChC,WAAW,EAAE,IAAI;SAClB;;cACK,GAAG,GAAG,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,OAAO,EAAE,YAAY,CAAC;QACzD,OAAO,CAAC,QAAQ,CAAC,MAAM,CAAC,SAAS;;;;QAAC,CAAC,EAAO;YACxC,OAAO,CAAC,cAAc,CAAC,IAAI,GAAG,EAAE,CAAC,QAAQ,CAAC;;kBACpC,QAAQ,GAAG,IAAI,WAAW,EAAE;YAClC,QAAQ,CAAC,WAAW,GAAG,EAAE,CAAC,WAAW,CAAC;YACtC,QAAQ,CAAC,OAAO,GAAG;gBACjB,KAAK,EAAE,EAAE,CAAC,YAAY;gBACtB,OAAO,EAAE,EAAE,CAAC,gBAAgB;aAC7B,CAAC;YACF,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,aAAa,EAAE,EAAE,QAAQ,EAAE,CAAC,CAAC,CAAC,SAAS;;;;YAAC,CAAC;gBAChE,IAAI,CAAC,MAAM,CAAC,OAAO,oBAAC;oBAClB,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,0BAA0B,CAAC,EAAE,GAAG,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,mCAAmC,CAAC,EAAE,OAAO,EAAE,IAAI;iBACjJ,GAAkB,CAAC;aACrB;;;;YAAE,GAAG;gBACJ,IAAI,CAAC,MAAM,CAAC,KAAK,oBAAC;oBAChB,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,0BAA0B,CAAC,EAAE,GAAG,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,gCAAgC,CAAC,EAAE,OAAO,EAAE,IAAI;iBAC9I,GAAkB,CAAC;aACrB,EAAC,CAAC;YACH,GAAG,CAAC,KAAK,EAAE,CAAC;SACb,EAAC,CAAC;QACH,OAAO,CAAC,QAAQ,CAAC,MAAM,CAAC,SAAS;;;;QAAC,CAAC;YACjC,GAAG,CAAC,KAAK,EAAE,CAAC;SACb,EAAC,CAAC;KACJ;;;;;;;;IAMD,aAAa,CAAC,OAAe,EAAE,aAA4B,EAAE,OAAO,GAAG,IAAI;QACzE,IAAI,OAAO,EAAE;;kBACL,OAAO,GAAG,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC;YACnC,IAAI,OAAO,EAAE;gBACX,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,4BAA4B,CAAC;;;gBAAE;oBAC7E,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,OAAO,EAAE,aAAa,CAAC,CAAC,SAAS;;;;oBAAC,CAAC,IAAI;wBAChE,IAAI,CAAC,MAAM,CAAC,OAAO,oBAAC;4BAClB,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,0BAA0B,CAAC,EAAE,GAAG,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,iCAAiC,CAAC,EAAE,OAAO,EAAE,IAAI;yBAC/I,GAAkB,CAAC;wBACpB,IAAI,CAAC,eAAe,CAAC,UAAU,CAAC,oBAAoB,EAAE,IAAI,EAAE,OAAO,CAAC,cAAc,CAAC,GAAG,CAAC,CAAC;qBACzF;;;;oBACC,CAAC,KAAwB;wBACvB,IAAI,CAAC,MAAM,CAAC,KAAK,oBAAC;4BAChB,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,0BAA0B,CAAC,EAAE,GAAG,EAAE,KAAK,CAAC,KAAK,CAAC,OAAO,EAAE,OAAO,EAAE,IAAI;yBACtG,GAAkB,CAAC;wBACpB,IAAI,CAAC,eAAe,CAAC,UAAU,CAAC,oBAAoB,EAAE,KAAK,EAAE,OAAO,CAAC,cAAc,CAAC,GAAG,CAAC,CAAC;qBAC1F,EAAC,CAAC;iBACN,EAAC,CAAC;aACJ;iBAAM;gBACL,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,OAAO,EAAE,aAAa,CAAC,CAAC,SAAS;;;;gBAAC,CAAC,IAAI;oBAChE,IAAI,CAAC,MAAM,CAAC,OAAO,oBAAC;wBAClB,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,0BAA0B,CAAC,EAAE,GAAG,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,iCAAiC,CAAC,EAAE,OAAO,EAAE,IAAI;qBAC/I,GAAkB,CAAC;oBACpB,IAAI,CAAC,eAAe,CAAC,UAAU,CAAC,oBAAoB,EAAE,IAAI,EAAE,OAAO,CAAC,cAAc,CAAC,GAAG,CAAC,CAAC;iBACzF;;;;gBACC,CAAC,KAAwB;oBACvB,IAAI,CAAC,MAAM,CAAC,KAAK,oBAAC;wBAChB,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,0BAA0B,CAAC,EAAE,GAAG,EAAE,KAAK,CAAC,KAAK,CAAC,OAAO,EAAE,OAAO,EAAE,IAAI;qBACtG,GAAkB,CAAC;oBACpB,IAAI,CAAC,eAAe,CAAC,UAAU,CAAC,oBAAoB,EAAE,KAAK,EAAE,OAAO,CAAC,cAAc,CAAC,GAAG,CAAC,CAAC;iBAC1F,EAAC,CAAC;aACN;SACF;KACF;;;;;;IAED,4BAA4B,CAAC,IAAS,EAAE,WAA0B;;cAC1D,GAAG,GAAG,4EAA4E,WAAW,CAAC,WAAW,yBAAyB,IAAI,CAAC,EAAE,EAAE;QACjJ,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,IAAI,CAC5B,SAAS;;;;QAAC,CAAC,EAAO;YAChB,IAAI,EAAE,IAAI,EAAE,CAAC,MAAM,GAAG,CAAC,EAAE;gBACvB,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,kDAAkD,CAAC,CAAC,CAAC;gBACjG,OAAOvB,IAAE,CAAC,KAAK,CAAC,CAAC;aAClB;iBAAM;gBACL,OAAOA,IAAE,CAAC,IAAI,CAAC,CAAC;aACjB;SACF,EAAC,CACH,CAAC;KACH;;;;;IAEM,kBAAkB,CAAC,cAAsB;QAC9C,OAAO,IAAI,CAAC,OAAO,CAAC,eAAe,CAAC,cAAc,CAAC,CAAC;KACrD;;;;;;IAGO,eAAe,CAAC,MAAa;QACnC,IAAI,CAAC,OAAO,CAAC,sBAAsB,GAAG,EAAE,CAAC;QACzC,IAAI,MAAM,IAAI,MAAM,CAAC,MAAM,GAAG,CAAC,EAAE;YAC/B,MAAM,CAAC,OAAO;;;;YAAC,KAAK;gBAClB,IAAI,KAAK,CAAC,QAAQ,KAAK,WAAW,EAAE;;0BAC5B,sBAAsB,GAAG,CAAC;4BAC9B,GAAG,EAAE,YAAY,KAAK,CAAC,IAAI,EAAE;4BAC7B,IAAI,EAAE,YAAY,KAAK,CAAC,IAAI,EAAE;4BAC9B,WAAW,EAAE,YAAY,KAAK,CAAC,IAAI,EAAE;yBACtC,EAAE;4BACD,GAAG,EAAE,cAAc,KAAK,CAAC,IAAI,EAAE;4BAC/B,IAAI,EAAE,cAAc,KAAK,CAAC,IAAI,EAAE;4BAChC,WAAW,EAAE,cAAc,KAAK,CAAC,IAAI,EAAE;yBACxC,CAAC;oBACF,IAAI,CAAC,OAAO,CAAC,sBAAsB,GAAG,IAAI,CAAC,OAAO,CAAC,sBAAsB,CAAC,MAAM,CAAC,sBAAsB,CAAC,CAAC;iBAC1G;aACF,EAAC,CAAC;SACJ;KACF;;;;;;IACM,IAAI,CAAC,YAAY,EAAE,IAAI;QAC5B,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,YAAY,EAAE,IAAI,CAAC,CAAC;KACxC;;;;;;IACM,QAAQ,CAAC,YAAY,EAAE,IAAI;QAChC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,YAAY,EAAE,IAAI,CAAC,CAAC;KACxC;;;;;IACD,gBAAgB,CAAC,GAAW;QAC1B,IAAI,GAAG,EAAE;;kBACD,GAAG,GAAG,gDAAgD,GAAG,EAAE;YACjE,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;SAC3B;KACF;;;;;;IACD,yBAAyB,CAAC,SAAiB,EAAE,MAAW;;cAChD,uBAAuB,GAAG;YAC9B,SAAS,EAAE,SAAS;YACpB,MAAM,EAAE,MAAM;SACf;;cACK,GAAG,GAAG,yDAAyD;QACrE,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE,uBAAuB,CAAC,CAAC;KACrD;;;;;IACD,uBAAuB,CAAC,SAAiB;;cACjC,GAAG,GAAG,mEAAmE,SAAS,EAAE;QAC1F,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;KAC3B;;;YAnXF,UAAU;;;;YAlCF,sBAAsB;YACtB,0BAA0B;YAY1B,aAAa;YAPb,aAAa;YACb,eAAe;YAHf,oBAAoB;YACpB,uBAAuB;YAUvB,mBAAmB;YACnB,mBAAmB;YACnB,iBAAiB;YACjB,sBAAsB;YAKtB,qBAAqB;YAErB,8BAA8B;YAG9B,uBAAuB;YACvB,uBAAuB;YAlBvB,cAAc;YAZF,QAAQ;YAAE,wBAAwB;YAsB9C,WAAW;YAKX,eAAe;YAKf,YAAY;;;;;;;AC9BrB,MAAa,aAAa;CAezB;;;;;;ACjBD,MAaa,aAAa;;;;;;;IAWxB,YACoB,GAAsB,EACf,QAAgB,EACR,SAAc,EAC7B,UAAwB;QAHxB,QAAG,GAAH,GAAG,CAAmB;QACf,aAAQ,GAAR,QAAQ,CAAQ;QACR,cAAS,GAAT,SAAS,CAAK;QAC7B,eAAU,GAAV,UAAU,CAAc;QAT5C,WAAM,GAAG,IAAI,OAAO,EAAU,CAAC;QAC/B,WAAM,GAAG,IAAI,OAAO,EAAO,CAAC;QAE5B,gBAAW,GAAG,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,4BAA4B,CAAC,CAAC;QAQpE,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,IAAI,IAAI,YAAY,CAAC,QAAQ,EAAE,SAAS,CAAC,CAAC;KAC3E;;;;IAEF,QAAQ;KACP;;;;IAGD,OAAO;QACL,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;KAC/B;;;;IAED,WAAW;QACT,IAAI,CAAC,MAAM,CAAC,IAAI,EAAE,CAAC;KACpB;;;YAtCF,SAAS,SAAC;gBACT,QAAQ,EAAE,UAAU;gBACpB,mrBAAoC;gBAEpC,SAAS,EAAE;oBACR,YAAY;iBACd;;aACF;;;;YAZ6D,iBAAiB,uBAyB5E,QAAQ;yCACR,MAAM,SAAC,SAAS;4CAChB,MAAM,SAAC,iBAAiB;YAzBC,YAAY,uBA0BrC,QAAQ;;;qBAbR,SAAS,SAAC,QAAQ;;;;;;;ACfrB,MAAawB,iBAAe;CAc3B;;;;;;ACZD,MAAa,YAAY;CASxB;;;;;;ACXD,MAAa,YAAY;CAIxB;;;;;;;;;ACDD,MAAa,WAAW;;;;IACpB,OAAO,WAAW;QACd,IAAI;YACA,OAAO,oBAAC,MAAM,IAAS,mBAAmB,CAAC,MAAM,CAAC,WAAW,CAAC,GAAG,EAAE,CAAC;SACvE;QAAC,OAAO,KAAK,EAAE;SACf;KACJ;;AACM,sBAAU,GAAG,sCAAsC,CAAC;AACpD,sBAAU,GAAG,sCAAsC,CAAC;AACpD,sBAAU,GAAG,sCAAsC,CAAC;AACpD,sBAAU,GAAG,sCAAsC,CAAC;AACpD,sBAAU,GAAG,WAAW,CAAC,WAAW,EAAE,GAAG,+DAA+D,CAAC;;;;;;ACdpH,MAEa,eAAe;;;;;;IAMjB,OAAO,aAAa,CAAC,UAAkB;QAC1C,IAAI,UAAU,KAAK,WAAW,CAAC,UAAU;eAClC,UAAU,KAAK,WAAW,CAAC,UAAU;eACrC,UAAU,KAAK,WAAW,CAAC,UAAU;eACrC,UAAU,KAAK,WAAW,CAAC,UAAU,EAAE;YAC1C,OAAO,IAAI,CAAC;SACf;QACD,OAAO,KAAK,CAAC;KAChB;;;;;IAKM,OAAO,QAAQ;;;;QAClB,SAAS,EAAE;YACP,OAAO,CAAC,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,MAAM,EAAE,IAAI,OAAO,IAAI,CAAC,EAAE,QAAQ,CAAC,EAAE,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;SAC1E;QACD,QAAQ,EAAE,EAAE,GAAG,EAAE,EAAE,GAAG,GAAG,GAAG,EAAE,EAAE,GAAG,GAAG,GAAG,EAAE,EAAE,GAAG,GAAG,GAAG,EAAE,EAAE,GAAG,GAAG,GAAG,EAAE,EAAE,GAAG,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE;KAC1F;CACJ;;;;;;;;ICvBG,UAAW,UAAU;;;;;;;ACJzB,MAAaC,aAAW;CAKvB;;;;;;ACLD,MAEaC,iBAAgB,SAAQD,aAAW;CAO/C;;;;;;ACTD,MAEa,iBAAkB,SAAQC,iBAAe;CAKrD;;;;;;ACPD,MAEaC,qBAAoB,SAAQD,iBAAe;CAGvD;;;;;;ACJD,MAEaE,sBAAqB,SAAQH,aAAW;CAMpD;;;;;;ACTD,MAEaI,0BAAyB,SAAQH,iBAAe;CAS5D;;;;;;ACXD,MAEaI,6BAA4B,SAAQJ,iBAAe;CAG7D;;;;;;ACLH,MAEaK,mBAAkB,SAAQL,iBAAe;CAcrD;;;;;;ACdD,MAEaM,yBAAwB,SAAQP,aAAW;CAUvD;;;;;;;;;;;ICVG,YAAa,YAAY;;;;IAIzB,UAAW,UAAU;;;;IAIrB,cAAe,cAAc;;;;IAI7B,eAAgB,eAAe;;;;IAI/B,QAAS,QAAQ;;;;;;;ACpBrB;;;AAuBA,MAAa,cAAc;;;;;;;IAOhB,OAAO,mBAAmB,CAAC,SAAoB,EAAE,gBAAmC;;cACjF,SAAS,GAAG,IAAI,KAAK,EAAE;;cACvB,cAAc,GAAuB,SAAS,CAAC,cAAc,CAAC,oBAAoB,EAAE;QAC1F,IAAI,gBAAgB,IAAI,gBAAgB,CAAC,MAAM,GAAG,CAAC,EAAE;YACjD,KAAK,MAAM,CAAC,IAAI,gBAAgB,EAAE;;sBACxB,QAAQ,GAAQ;oBAClB,YAAY,EAAE,CAAC,CAAC,YAAY;oBAC5B,YAAY,EAAE,CAAC,CAAC,YAAY;oBAC5B,GAAG,EAAE,CAAC,CAAC,GAAG;oBACV,aAAa,EAAE,CAAC,CAAC,aAAa;oBAC9B,KAAK,EAAE,CAAC,CAAC,KAAK;oBACd,SAAS,EAAE,CAAC,CAAC,SAAS;iBACzB;gBACD,IAAI,CAAC,CAAC,GAAG,KAAK,WAAW,EAAE;oBACvB,IAAI,cAAc,CAAC,MAAM,GAAG,CAAC,EAAE;wBAC3B,KAAK,MAAM,CAAC,IAAI,cAAc,EAAE;4BAC5B,IAAI,CAAC,YAAYQ,WAAS,IAAI,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC,KAAK,EAAE;;sCACtC,SAAS,GAAQ;oCACnB,EAAE,EAAE,CAAC,CAAC,EAAE;oCACR,IAAI,EAAE,CAAC,CAAC,IAAI;oCACZ,UAAU,EAAE,CAAC,CAAC,UAAU;oCACxB,UAAU,EAAE,CAAC,CAAC,UAAU;oCACxB,gBAAgB,EAAE,EAAE;iCACvB;gCACD,IAAI,CAAC,CAAC,gBAAgB,IAAI,CAAC,CAAC,gBAAgB,CAAC,MAAM,GAAG,CAAC,EAAE;oCACrD,KAAK,MAAM,CAAC,IAAI,CAAC,CAAC,gBAAgB,EAAE;;8CAC1B,SAAS,GAAG;4CACd,IAAI,EAAE,CAAC,CAAC,IAAI;4CACZ,KAAK,EAAE,CAAC,CAAC,KAAK;4CACd,GAAG,EAAE,CAAC,CAAC,GAAG;yCACb;wCACD,SAAS,CAAC,gBAAgB,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;qCAC9C;iCACJ;gCACD,QAAQ,CAAC,SAAS,GAAG,SAAS,CAAC;6BAClC;yBACJ;qBACJ;iBACJ;gBACD,SAAS,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;aAC5B;SACJ;QAED,OAAO,SAAS,CAAC;KACpB;;;;;;IAOM,OAAO,iBAAiB,CAAC,cAA+B;QAC3D,IAAI,CAAC,cAAc,IAAI,cAAc,CAAC,MAAM,IAAI,CAAC,EAAE;YAC/C,OAAO,IAAI,CAAC;SACf;QACD,OAAO,cAAc,CAAC,GAAG;;;;QAAC,CAAC;;kBACjB,OAAO,GAAQ,IAAI,MAAM;YAC/B,OAAO,CAAC,OAAO,GAAG,CAAC,CAAC,OAAO,CAAC;YAC5B,OAAO,CAAC,QAAQ,GAAG,CAAC,CAAC,QAAQ,CAAC;YAC9B,OAAO,CAAC,QAAQ,GAAG,CAAC,CAAC,QAAQ,CAAC;YAC9B,OAAO,CAAC,OAAO,GAAG,CAAC,CAAC,OAAO,CAAC;YAC5B,IAAI,CAAC,CAAC,kBAAkB,EAAE;;sBAChB,WAAW,GAAQ,IAAI,MAAM;gBACnC,WAAW,CAAC,IAAI,GAAG,CAAC,CAAC,kBAAkB,CAAC,IAAI,CAAC;gBAC7C,WAAW,CAAC,OAAO,GAAG,CAAC,CAAC,kBAAkB,CAAC,OAAO,CAAC;gBACnD,WAAW,CAAC,mBAAmB,GAAG,IAAI,KAAK,EAAE,CAAC;gBAC9C,IAAI,CAAC,CAAC,kBAAkB,CAAC,mBAAmB,IAAI,CAAC,CAAC,kBAAkB,CAAC,mBAAmB,CAAC,MAAM,GAAG,CAAC,EAAE;oBACjG,KAAK,MAAM,CAAC,IAAI,CAAC,CAAC,kBAAkB,CAAC,mBAAmB,EAAE;;8BAChD,QAAQ,GAAQ,IAAI,MAAM;wBAChC,QAAQ,CAAC,EAAE,GAAG,eAAe,CAAC,QAAQ,EAAE,CAAC;wBACzC,QAAQ,CAAC,IAAI,GAAG,CAAC,CAAC,IAAI,CAAC;wBACvB,QAAQ,CAAC,KAAK,GAAG,CAAC,CAAC,KAAK,CAAC;wBACzB,QAAQ,CAAC,GAAG,GAAG,CAAC,CAAC,GAAG,CAAC;wBACrB,WAAW,CAAC,mBAAmB,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;qBAClD;iBACJ;gBACD,OAAO,CAAC,kBAAkB,GAAG,WAAW,CAAC;aAC5C;;kBACK,mBAAmB,GAAG,IAAI,KAAK,EAAmB;YACxD,IAAI,CAAC,CAAC,QAAQ,EAAE;;sBACN,SAAS,GAAG,CAAC,CAAC,QAAQ,CAAC,KAAK,CAAC,GAAG,CAAC;;sBACjC,aAAa,GAAG,CAAC,CAAC,YAAY,CAAC,KAAK,CAAC,GAAG,CAAC;;oBAC3C,YAAY,GAAG,IAAIT,iBAAe,EAAE;gBACxC,YAAY,CAAC,IAAI,GAAG,iBAAiB,CAAC;gBACtC,YAAY,CAAC,OAAO,GAAG,EAAE,CAAC;gBAC1B,YAAY,CAAC,SAAS,GAAG,EAAE,CAAC;gBAC5B,KAAK,MAAM,CAAC,IAAI,SAAS,EAAE;oBACvB,IAAI,SAAS,CAAC,CAAC,CAAC,KAAK,iBAAiB,EAAE;;4BAChC,eAAe,GAAG,IAAIA,iBAAe,EAAE;wBAC3C,eAAe,CAAC,IAAI,GAAG,oBAAoB,CAAC;wBAC5C,eAAe,CAAC,kBAAkB,GAAG,iBAAiB,CAAC;wBACvD,mBAAmB,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;qBAC7C;yBAAM,IAAI,SAAS,CAAC,CAAC,CAAC,KAAK,qBAAqB,EAAE;;4BAC3C,mBAAmB,GAAG,IAAIA,iBAAe,EAAE;wBAC/C,mBAAmB,CAAC,IAAI,GAAG,oBAAoB,CAAC;wBAChD,mBAAmB,CAAC,kBAAkB,GAAG,qBAAqB,CAAC;wBAC/D,mBAAmB,CAAC,IAAI,CAAC,mBAAmB,CAAC,CAAC;qBACjD;yBAAM;wBACH,YAAY,CAAC,OAAO,KAAK,SAAS,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC;wBAC7C,YAAY,CAAC,SAAS,KAAK,aAAa,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC;qBACtD;iBACJ;gBACD,IAAI,YAAY,CAAC,OAAO,EAAE;oBACtB,YAAY,CAAC,OAAO,GAAG,YAAY,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC,EAAE,YAAY,CAAC,OAAO,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;oBAC1F,YAAY,CAAC,SAAS,GAAG,YAAY,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC,EAAE,YAAY,CAAC,SAAS,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;oBAChG,mBAAmB,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;iBAC1C;aACJ;YACD,IAAI,CAAC,CAAC,mBAAmB,IAAI,CAAC,CAAC,mBAAmB,CAAC,MAAM,GAAG,CAAC,EAAE;gBAC3D,KAAK,MAAM,CAAC,IAAI,CAAC,CAAC,mBAAmB,EAAE;oBACnC,IAAI,CAAC,YAAY,qCAAqC,EAAE;;4BAChD,2BAA2B,GAAG,IAAIA,iBAAe,EAAE;wBACvD,2BAA2B,CAAC,IAAI,GAAG,oBAAoB,CAAC;wBACxD,2BAA2B,CAAC,kBAAkB,GAAG,6BAA6B,CAAC;wBAC/E,2BAA2B,CAAC,aAAa,GAAG,CAAC,CAAC,aAAa,CAAC;wBAC5D,2BAA2B,CAAC,eAAe,GAAG,CAAC,CAAC,eAAe,CAAC;wBAEhE,mBAAmB,CAAC,IAAI,CAAC,2BAA2B,CAAC,CAAC;qBACzD;yBAAM,IAAI,CAAC,YAAY,yBAAyB,EAAE;;4BAC3C,gBAAgB,GAAG,IAAIA,iBAAe,EAAE;wBAC5C,gBAAgB,CAAC,IAAI,GAAG,qBAAqB,CAAC;wBAC9C,gBAAgB,CAAC,mBAAmB,GAAG,CAAC,CAAC,MAAM,CAAC;wBAChD,gBAAgB,CAAC,YAAY,GAAG,CAAC,CAAC,IAAI,CAAC;wBACvC,gBAAgB,CAAC,OAAO,GAAG,CAAC,CAAC,OAAO,CAAC;wBACrC,mBAAmB,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC;qBAC9C;yBAAM,IAAI,CAAC,YAAY,6BAA6B,EAAE;;4BAC/C,gBAAgB,GAAG,IAAIA,iBAAe,EAAE;wBAC5C,gBAAgB,CAAC,IAAI,GAAG,qBAAqB,CAAC;wBAC9C,gBAAgB,CAAC,UAAU,GAAG,CAAC,CAAC,UAAU,CAAC;wBAC3C,gBAAgB,CAAC,YAAY,GAAG,CAAC,CAAC,YAAY,CAAC;wBAC/C,gBAAgB,CAAC,YAAY,GAAG,CAAC,CAAC,YAAY,CAAC;wBAC/C,IAAI,gBAAgB,CAAC,YAAY,KAAK,GAAG,EAAE;4BACvC,gBAAgB,CAAC,KAAK,GAAG,CAAC,CAAC,KAAK,CAAC;4BACjC,gBAAgB,CAAC,OAAO,GAAG,CAAC,CAAC,OAAO,CAAC;yBACxC;wBAED,mBAAmB,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC;qBAC9C;iBACJ;aACJ;YACD,IAAI,mBAAmB,CAAC,MAAM,GAAG,CAAC,EAAE;gBAChC,OAAO,CAAC,SAAS,GAAG,mBAAmB,CAAC;aAC3C;YACD,OAAO,OAAO,CAAC;SAClB,EAAC,CAAC;KACN;;;;;;IAOM,OAAO,mBAAmB,CAAC,UAA4B;;cACpD,gBAAgB,GAAG,IAAI,KAAK,EAAE;QACpC,IAAI,UAAU,IAAI,UAAU,CAAC,MAAM,GAAG,CAAC,EAAE;YACrC,KAAK,MAAM,SAAS,IAAI,UAAU,EAAE;;sBAC1B,YAAY,GAAG,IAAI,YAAY,EAAE;gBACvC,YAAY,CAAC,EAAE,GAAG,SAAS,CAAC,EAAE,CAAC;gBAC/B,YAAY,CAAC,IAAI,GAAG,SAAS,CAAC,IAAI,CAAC;gBACnC,YAAY,CAAC,UAAU,GAAG,SAAS,CAAC,UAAU,CAAC;gBAC/C,YAAY,CAAC,UAAU,GAAG,SAAS,CAAC,UAAU,CAAC;gBAC/C,YAAY,CAAC,aAAa,GAAG,SAAS,CAAC,IAAI,CAAC;gBAC5C,YAAY,CAAC,iBAAiB,GAAG,SAAS,CAAC,iBAAiB,CAAC;gBAC7D,YAAY,CAAC,SAAS,GAAG,SAAS,CAAC,SAAS,IAAI,IAAI,CAAC;gBACrD,YAAY,CAAC,gBAAgB,GAAG,IAAI,KAAK,EAAE,CAAC;gBAC5C,IAAI,SAAS,CAAC,gBAAgB,IAAI,SAAS,CAAC,gBAAgB,CAAC,MAAM,GAAG,CAAC,EAAE;oBACrE,KAAK,MAAM,KAAK,IAAI,SAAS,CAAC,gBAAgB,EAAE;;8BACtC,QAAQ,GAAG,IAAI,YAAY,EAAE;wBACnC,QAAQ,CAAC,IAAI,GAAG,KAAK,CAAC,IAAI,CAAC;wBAC3B,QAAQ,CAAC,IAAI,GAAG,KAAK,CAAC,IAAI,CAAC;wBAC3B,QAAQ,CAAC,KAAK,GAAG,KAAK,CAAC,KAAK,CAAC;wBAC7B,YAAY,CAAC,gBAAgB,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;qBAChD;iBACJ;gBACD,gBAAgB,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;aACvC;SACJ;QACD,OAAO,gBAAgB,CAAC;KAC3B;;;;;;IAQM,OAAO,gBAAgB,CAAC,KAAkD;;cACvE,UAAU,GAAG,IAAI,KAAK,EAAe;QAE3C,KAAK,CAAC,OAAO;;;;QAAC,CAAC,IAA6C;YACxD,IAAI,IAAI,IAAI,IAAI,EAAE;gBACd,OAAO;aACV;YACD,IAAI,IAAI,CAAC,qBAAqB,YAAY,yBAAyB,EAAE;;sBAC3D,IAAI,sBAAG,IAAI,CAAC,qBAAqB,EAA6B;gBACpE,IAAI,IAAI,EAAE;;0BACA,aAAa,GAAG,IAAIE,iBAAe,EAAE;oBAC3C,aAAa,CAAC,EAAE,GAAG,IAAI,CAAC,EAAE,CAAC;oBAC3B,aAAa,CAAC,WAAW,GAAG,IAAI,CAAC,MAAM,CAAC;oBACxC,aAAa,CAAC,aAAa,GAAG,IAAI,CAAC,IAAI,CAAC;oBACxC,aAAa,CAAC,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC;oBACpC,aAAa,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC;oBACjC,aAAa,CAAC,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC;oBACrC,aAAa,CAAC,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC;oBACrC,aAAa,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC,KAAK,GAAG,EAAE,CAAC;oBACrE,aAAa,CAAC,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC;oBAC7B,aAAa,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC;oBACjC,UAAU,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;iBAClC;aACJ;iBAAM,IAAI,IAAI,CAAC,qBAAqB,YAAY,6BAA6B,EAAE;;sBACtE,QAAQ,sBAAG,IAAI,CAAC,qBAAqB,EAAiC;gBAC5E,IAAI,QAAQ,EAAE;;0BACJ,iBAAiB,GAAG,IAAI,iBAAiB,EAAE;oBACjD,iBAAiB,CAAC,EAAE,GAAG,QAAQ,CAAC,EAAE;wBAC9B,iBAAiB,CAAC,IAAI,GAAG,QAAQ,CAAC,IAAI;wBACtC,iBAAiB,CAAC,IAAI,GAAG,QAAQ,CAAC,SAAS;wBAC3C,iBAAiB,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC,KAAK,GAAG,EAAE;wBACxE,iBAAiB,CAAC,GAAG,GAAG,QAAQ,CAAC,GAAG,CAAA;oBACxC,iBAAiB,CAAC,QAAQ,GAAG,QAAQ,CAAC,QAAQ,CAAC;oBAC/C,iBAAiB,CAAC,OAAO,GAAG,QAAQ,CAAC,OAAO,CAAC;oBAC7C,iBAAiB,CAAC,QAAQ,GAAG,QAAQ,CAAC,QAAQ,CAAC;oBAC/C,iBAAiB,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC;oBACrC,UAAU,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC;iBACtC;aACJ;iBAAM,IAAI,IAAI,CAAC,qBAAqB,YAAY,6BAA6B,EAAE;;sBACtE,QAAQ,sBAAG,IAAI,CAAC,qBAAqB,EAAiC;gBAC5E,IAAI,QAAQ,EAAE;;0BACJ,iBAAiB,GAAG,IAAIC,qBAAmB,EAAE;oBACnD,iBAAiB,CAAC,EAAE,GAAG,QAAQ,CAAC,EAAE,CAAC;oBACnC,iBAAiB,CAAC,WAAW,GAAG,QAAQ,CAAC,UAAU,CAAC;oBACpD,iBAAiB,CAAC,YAAY,GAAG,QAAQ,CAAC,YAAY,CAAC;oBACvD,iBAAiB,CAAC,aAAa,GAAG,QAAQ,CAAC,YAAY,CAAC;oBACxD,iBAAiB,CAAC,IAAI,GAAG,QAAQ,CAAC,SAAS,CAAC;oBAC5C,iBAAiB,CAAC,KAAK,GAAG,QAAQ,CAAC,KAAK,IAAI,EAAE,CAAC;oBAC/C,iBAAiB,CAAC,OAAO,GAAG,QAAQ,CAAC,OAAO,IAAI,EAAE,CAAC;oBACnD,iBAAiB,CAAC,OAAO,GAAG,QAAQ,CAAC,OAAO,IAAI,EAAE,CAAC;oBACnD,iBAAiB,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC,KAAK,GAAG,EAAE,CAAC;oBACzE,iBAAiB,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC;oBACrC,UAAU,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC;iBACtC;aACJ;iBAAM,IAAI,IAAI,CAAC,qBAAqB,YAAY,8BAA8B,EAAE;;sBACvE,GAAG,sBAAG,IAAI,CAAC,qBAAqB,EAAkC;gBACxE,IAAI,GAAG,EAAE;;0BACC,kBAAkB,GAAG,IAAIC,sBAAoB,EAAE;oBACrD,kBAAkB,CAAC,EAAE,GAAG,GAAG,CAAC,EAAE,CAAC;oBAC/B,kBAAkB,CAAC,IAAI,GAAG,GAAG,CAAC,aAAa,CAAC;oBAC5C,kBAAkB,CAAC,UAAU,GAAG,GAAG,CAAC,WAAW,CAAC;oBAChD,kBAAkB,CAAC,UAAU,GAAG,GAAG,CAAC,UAAU,CAAC;oBAC/C,kBAAkB,CAAC,UAAU,GAAG,GAAG,CAAC,UAAU,CAAC;oBAC/C,kBAAkB,CAAC,IAAI,GAAG,GAAG,CAAC,SAAS,CAAC;oBACxC,kBAAkB,CAAC,gBAAgB,GAAG,IAAI,KAAK,EAAE,CAAC;oBAElD,IAAI,GAAG,CAAC,gBAAgB,IAAI,GAAG,CAAC,gBAAgB,CAAC,MAAM,GAAG,CAAC,EAAE;;4BACrD,SAAS,GAAQ,EAAE;wBACvB,GAAG,CAAC,gBAAgB,CAAC,OAAO;;;;wBAAC,CAAC,IAAI,SAAS,CAAC,IAAI,CAAC,EAAE,IAAI,EAAE,CAAC,CAAC,IAAI,EAAE,KAAK,EAAE,CAAC,CAAC,KAAK,EAAE,SAAS,EAAE,CAAC,CAAC,SAAS,EAAE,GAAG,EAAE,CAAC,CAAC,GAAG,EAAE,CAAC,EAAC,CAAC;wBACxH,kBAAkB,CAAC,gBAAgB,GAAG,SAAS,CAAC;qBACnD;oBACD,IAAI,IAAI,CAAC,SAAS,EAAE;wBAChB,kBAAkB,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC;qBACvD;oBACD,kBAAkB,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC;oBACtC,UAAU,CAAC,IAAI,CAAC,kBAAkB,CAAC,CAAC;iBACvC;aACJ;iBAAM,IAAI,IAAI,CAAC,qBAAqB,YAAY,kCAAkC,EAAE;;sBAC3E,CAAC,sBAAG,IAAI,CAAC,qBAAqB,EAAsC;gBAC1E,IAAI,CAAC,EAAE;;0BACG,aAAa,GAAG,IAAIC,0BAAwB,EAAE;oBACpD,aAAa,CAAC,EAAE,GAAG,CAAC,CAAC,EAAE,CAAC;oBACxB,aAAa,CAAC,kBAAkB,GAAG,CAAC,CAAC,kBAAkB,CAAC;oBACxD,aAAa,CAAC,oBAAoB,GAAG,CAAC,CAAC,oBAAoB,CAAC;oBAC5D,aAAa,CAAC,QAAQ,GAAG,CAAC,CAAC,QAAQ,CAAC;oBACpC,aAAa,CAAC,SAAS,GAAG,CAAC,CAAC,SAAS,CAAC;oBACtC,aAAa,CAAC,aAAa,GAAG,CAAC,CAAC,aAAa,CAAC;oBAC9C,aAAa,CAAC,SAAS,GAAG,CAAC,CAAC,SAAS,CAAC;oBACtC,aAAa,CAAC,aAAa,GAAG,CAAC,CAAC,SAAS,CAAC;oBAC1C,aAAa,CAAC,GAAG,GAAG,CAAC,CAAC,GAAG,CAAC;oBAC1B,aAAa,CAAC,IAAI,GAAG,CAAC,CAAC,SAAS,CAAC;oBACjC,IAAI,IAAI,CAAC,SAAS,EAAE;wBAChB,aAAa,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC;qBAClD;oBACD,aAAa,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC;oBACjC,UAAU,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;iBAClC;aACJ;iBAAM,IAAI,IAAI,CAAC,qBAAqB,YAAY,qCAAqC,EAAE;;sBAC9E,CAAC,sBAAG,IAAI,CAAC,qBAAqB,EAAyC;gBAC7E,IAAI,CAAC,EAAE;;0BACG,gBAAgB,GAAG,IAAIC,6BAA2B,EAAE;oBAC1D,gBAAgB,CAAC,EAAE,GAAG,CAAC,CAAC,EAAE,CAAC;oBAC3B,gBAAgB,CAAC,IAAI,GAAG,CAAC,CAAC,SAAS,CAAC;oBACpC,gBAAgB,CAAC,aAAa,GAAG,CAAC,CAAC,aAAa,CAAC;oBACjD,gBAAgB,CAAC,eAAe,GAAG,CAAC,CAAC,eAAe,CAAC;oBACrD,gBAAgB,CAAC,aAAa,GAAG,GAAG,GAAG,CAAC,CAAC,eAAe,GAAG,WAAW,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC;oBAC3F,IAAI,IAAI,CAAC,SAAS,EAAE;wBAChB,gBAAgB,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC;qBACrD;oBACD,gBAAgB,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC;oBACpC,UAAU,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC;iBACrC;aACJ;iBAAM,IAAI,IAAI,CAAC,qBAAqB,YAAY,2BAA2B,EAAE;;sBACpE,CAAC,sBAAG,IAAI,CAAC,qBAAqB,EAA+B;gBACnE,IAAI,CAAC,EAAE;;0BACG,MAAM,GAAG,IAAIC,mBAAiB,EAAE;oBACtC,MAAM,CAAC,EAAE,GAAG,CAAC,CAAC,EAAE,CAAC;oBACjB,MAAM,CAAC,WAAW,GAAG,CAAC,CAAC,WAAW,CAAC;oBACnC,MAAM,CAAC,aAAa,GAAG,CAAC,CAAC,aAAa,CAAC;oBACvC,MAAM,CAAC,eAAe,GAAG,CAAC,CAAC,eAAe,CAAC;oBAC3C,MAAM,CAAC,mBAAmB,GAAG,CAAC,CAAC,mBAAmB,CAAC;oBACnD,MAAM,CAAC,eAAe,GAAG,CAAC,CAAC,eAAe,CAAC;oBAC3C,MAAM,CAAC,mBAAmB,GAAG,CAAC,CAAC,mBAAmB,CAAC;oBACnD,MAAM,CAAC,eAAe,GAAG,CAAC,CAAC,eAAe,CAAC;oBAC3C,MAAM,CAAC,mBAAmB,GAAG,CAAC,CAAC,mBAAmB,CAAC;oBACnD,MAAM,CAAC,oBAAoB,GAAG,CAAC,CAAC,oBAAoB,CAAC;oBACrD,MAAM,CAAC,cAAc,GAAG,CAAC,CAAC,cAAc,CAAC;oBACzC,MAAM,CAAC,IAAI,GAAG,CAAC,CAAC,SAAS,CAAC;oBAC1B,MAAM,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC;oBAC1B,IAAI,IAAI,CAAC,SAAS,EAAE;wBAChB,MAAM,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC;qBAC3C;oBAED,UAAU,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;iBAC3B;aACJ;iBAAM,IAAI,IAAI,CAAC,qBAAqB,YAAY,iCAAiC,EAAE;;sBAC1E,CAAC,sBAAG,IAAI,CAAC,qBAAqB,EAAqC;gBACzE,IAAI,CAAC,EAAE;;0BACG,YAAY,GAAG,IAAIC,yBAAuB;oBAChD,YAAY,CAAC,EAAE,GAAG,CAAC,CAAC,EAAE,CAAC;oBACvB,YAAY,CAAC,IAAI,GAAG,CAAC,CAAC,SAAS,CAAC;oBAChC,YAAY,CAAC,IAAI,GAAG,CAAC,CAAC,IAAI,CAAC;oBAC3B,YAAY,CAAC,WAAW,sBAAG,CAAC,CAAC,WAAW,EAAO,CAAC;oBAChD,YAAY,CAAC,iBAAiB,GAAG,CAAC,CAAC,iBAAiB,CAAC;oBACrD,YAAY,CAAC,cAAc,GAAG,CAAC,CAAC,cAAc,CAAC;oBAC/C,YAAY,CAAC,gBAAgB,GAAG,CAAC,CAAC,gBAAgB,CAAC;oBACnD,YAAY,CAAC,gBAAgB,GAAG,CAAC,CAAC,gBAAgB,CAAC;oBACnD,YAAY,CAAC,eAAe,GAAG,CAAC,CAAC,eAAe,CAAC;oBACjD,YAAY,CAAC,YAAY,GAAG,CAAC,CAAC,YAAY,CAAC;oBAC3C,YAAY,CAAC,GAAG,GAAG,CAAC,CAAC,GAAG,CAAC;oBACzB,YAAY,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC;oBAChC,IAAI,IAAI,CAAC,SAAS,EAAE;wBAChB,YAAY,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC;qBACjD;oBAED,UAAU,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;iBACjC;aACJ;SACJ,EAAC,CAAC;QACH,OAAO,UAAU,CAAC;KACrB;;;;;;IAQM,OAAO,oBAAoB,CAAC,KAA8B;;cACvD,UAAU,GAAG,IAAI,KAAK,EAAe;QAE3C,KAAK,CAAC,OAAO;;;;QAAC,CAAC,IAA2B;YACtC,IAAI,IAAI,IAAI,IAAI,EAAE;gBACd,OAAO;aACV;YACD,IAAI,IAAI,YAAY,yBAAyB,EAAE;;sBACrC,IAAI,sBAAG,IAAI,EAA6B;gBAC9C,IAAI,IAAI,EAAE;;0BACA,aAAa,GAAG,IAAIN,iBAAe,EAAE;oBAC3C,aAAa,CAAC,EAAE,GAAG,IAAI,CAAC,EAAE,CAAC;oBAC3B,aAAa,CAAC,WAAW,GAAG,IAAI,CAAC,MAAM,CAAC;oBACxC,aAAa,CAAC,aAAa,GAAG,IAAI,CAAC,IAAI,CAAC;oBACxC,aAAa,CAAC,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC;oBACpC,aAAa,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC;oBACjC,aAAa,CAAC,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC;oBACrC,aAAa,CAAC,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC;oBACrC,aAAa,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC,KAAK,GAAG,EAAE,CAAC;oBACrE,aAAa,CAAC,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC;oBAC7B,aAAa,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC;oBACjC,UAAU,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;iBAClC;aACJ;iBAAM,IAAI,IAAI,YAAY,6BAA6B,EAAE;;sBAChD,QAAQ,sBAAG,IAAI,EAAiC;gBACtD,IAAI,QAAQ,EAAE;;0BACJ,iBAAiB,GAAG,IAAI,iBAAiB,EAAE;oBACjD,iBAAiB,CAAC,EAAE,GAAG,QAAQ,CAAC,EAAE;wBAC9B,iBAAiB,CAAC,IAAI,GAAG,QAAQ,CAAC,IAAI;wBACtC,iBAAiB,CAAC,IAAI,GAAG,QAAQ,CAAC,SAAS;wBAC3C,iBAAiB,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC,KAAK,GAAG,EAAE;wBACxE,iBAAiB,CAAC,GAAG,GAAG,QAAQ,CAAC,GAAG,CAAA;oBACxC,iBAAiB,CAAC,QAAQ,GAAG,QAAQ,CAAC,QAAQ,CAAC;oBAC/C,iBAAiB,CAAC,OAAO,GAAG,QAAQ,CAAC,OAAO,CAAC;oBAC7C,iBAAiB,CAAC,QAAQ,GAAG,QAAQ,CAAC,QAAQ,CAAC;oBAC/C,iBAAiB,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC;oBACrC,UAAU,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC;iBACtC;aACJ;iBAAM,IAAI,IAAI,YAAY,6BAA6B,EAAE;;sBAChD,QAAQ,sBAAG,IAAI,EAAiC;gBACtD,IAAI,QAAQ,EAAE;;0BACJ,iBAAiB,GAAG,IAAIC,qBAAmB,EAAE;oBACnD,iBAAiB,CAAC,EAAE,GAAG,QAAQ,CAAC,EAAE,CAAC;oBACnC,iBAAiB,CAAC,WAAW,GAAG,QAAQ,CAAC,UAAU,CAAC;oBACpD,iBAAiB,CAAC,YAAY,GAAG,QAAQ,CAAC,YAAY,CAAC;oBACvD,iBAAiB,CAAC,aAAa,GAAG,QAAQ,CAAC,YAAY,CAAC;oBACxD,iBAAiB,CAAC,IAAI,GAAG,QAAQ,CAAC,SAAS,CAAC;oBAC5C,iBAAiB,CAAC,KAAK,GAAG,QAAQ,CAAC,KAAK,IAAI,EAAE,CAAC;oBAC/C,iBAAiB,CAAC,OAAO,GAAG,QAAQ,CAAC,OAAO,IAAI,EAAE,CAAC;oBACnD,iBAAiB,CAAC,OAAO,GAAG,QAAQ,CAAC,OAAO,IAAI,EAAE,CAAC;oBACnD,iBAAiB,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC,KAAK,GAAG,EAAE,CAAC;oBACzE,iBAAiB,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC;oBACrC,UAAU,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC;iBACtC;aACJ;iBAAM,IAAI,IAAI,YAAY,8BAA8B,EAAE;;sBACjD,GAAG,sBAAG,IAAI,EAAkC;gBAClD,IAAI,GAAG,EAAE;;0BACC,kBAAkB,GAAG,IAAIC,sBAAoB,EAAE;oBACrD,kBAAkB,CAAC,EAAE,GAAG,GAAG,CAAC,EAAE,CAAC;oBAC/B,kBAAkB,CAAC,IAAI,GAAG,GAAG,CAAC,aAAa,CAAC;oBAC5C,kBAAkB,CAAC,UAAU,GAAG,GAAG,CAAC,WAAW,CAAC;oBAChD,kBAAkB,CAAC,UAAU,GAAG,GAAG,CAAC,UAAU,CAAC;oBAC/C,kBAAkB,CAAC,UAAU,GAAG,GAAG,CAAC,UAAU,CAAC;oBAC/C,kBAAkB,CAAC,IAAI,GAAG,GAAG,CAAC,SAAS,CAAC;oBACxC,kBAAkB,CAAC,gBAAgB,GAAG,IAAI,KAAK,EAAE,CAAC;oBAElD,IAAI,GAAG,CAAC,gBAAgB,IAAI,GAAG,CAAC,gBAAgB,CAAC,MAAM,GAAG,CAAC,EAAE;;4BACrD,SAAS,GAAQ,EAAE;wBACvB,GAAG,CAAC,gBAAgB,CAAC,OAAO;;;;wBAAC,CAAC,IAAI,SAAS,CAAC,IAAI,CAAC,EAAE,IAAI,EAAE,CAAC,CAAC,IAAI,EAAE,KAAK,EAAE,CAAC,CAAC,KAAK,EAAE,SAAS,EAAE,CAAC,CAAC,SAAS,EAAE,GAAG,EAAE,CAAC,CAAC,GAAG,EAAE,CAAC,EAAC,CAAC;wBACxH,kBAAkB,CAAC,gBAAgB,GAAG,SAAS,CAAC;qBACnD;oBACD,IAAI,IAAI,CAAC,SAAS,EAAE;wBAChB,kBAAkB,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC;qBACvD;oBACD,kBAAkB,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC;oBACtC,UAAU,CAAC,IAAI,CAAC,kBAAkB,CAAC,CAAC;iBACvC;aACJ;iBAAM,IAAI,IAAI,YAAY,kCAAkC,EAAE;;sBACrD,CAAC,sBAAG,IAAI,EAAsC;gBACpD,IAAI,CAAC,EAAE;;0BACG,aAAa,GAAG,IAAIC,0BAAwB,EAAE;oBACpD,aAAa,CAAC,EAAE,GAAG,CAAC,CAAC,EAAE,CAAC;oBACxB,aAAa,CAAC,kBAAkB,GAAG,CAAC,CAAC,kBAAkB,CAAC;oBACxD,aAAa,CAAC,oBAAoB,GAAG,CAAC,CAAC,oBAAoB,CAAC;oBAC5D,aAAa,CAAC,QAAQ,GAAG,CAAC,CAAC,QAAQ,CAAC;oBACpC,aAAa,CAAC,SAAS,GAAG,CAAC,CAAC,SAAS,CAAC;oBACtC,aAAa,CAAC,aAAa,GAAG,CAAC,CAAC,aAAa,CAAC;oBAC9C,aAAa,CAAC,SAAS,GAAG,CAAC,CAAC,SAAS,CAAC;oBACtC,aAAa,CAAC,aAAa,GAAG,CAAC,CAAC,SAAS,CAAC;oBAC1C,aAAa,CAAC,GAAG,GAAG,CAAC,CAAC,GAAG,CAAC;oBAC1B,aAAa,CAAC,IAAI,GAAG,CAAC,CAAC,SAAS,CAAC;oBACjC,IAAI,IAAI,CAAC,SAAS,EAAE;wBAChB,aAAa,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC;qBAClD;oBACD,aAAa,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC;oBACjC,UAAU,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;iBAClC;aACJ;iBAAM,IAAI,IAAI,YAAY,qCAAqC,EAAE;;sBACxD,CAAC,sBAAG,IAAI,EAAyC;gBACvD,IAAI,CAAC,EAAE;;0BACG,gBAAgB,GAAG,IAAIC,6BAA2B,EAAE;oBAC1D,gBAAgB,CAAC,EAAE,GAAG,CAAC,CAAC,EAAE,CAAC;oBAC3B,gBAAgB,CAAC,IAAI,GAAG,CAAC,CAAC,SAAS,CAAC;oBACpC,gBAAgB,CAAC,aAAa,GAAG,CAAC,CAAC,aAAa,CAAC;oBACjD,gBAAgB,CAAC,eAAe,GAAG,CAAC,CAAC,eAAe,CAAC;oBACrD,gBAAgB,CAAC,aAAa,GAAG,GAAG,GAAG,CAAC,CAAC,eAAe,GAAG,WAAW,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC;oBAC3F,IAAI,IAAI,CAAC,SAAS,EAAE;wBAChB,gBAAgB,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC;qBACrD;oBACD,gBAAgB,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC;oBACpC,UAAU,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC;iBACrC;aACJ;iBAAM,IAAI,IAAI,YAAY,2BAA2B,EAAE;;sBAC9C,CAAC,sBAAG,IAAI,EAA+B;gBAC7C,IAAI,CAAC,EAAE;;0BACG,MAAM,GAAG,IAAIC,mBAAiB,EAAE;oBACtC,MAAM,CAAC,EAAE,GAAG,CAAC,CAAC,EAAE,CAAC;oBACjB,MAAM,CAAC,WAAW,GAAG,CAAC,CAAC,WAAW,CAAC;oBACnC,MAAM,CAAC,aAAa,GAAG,CAAC,CAAC,aAAa,CAAC;oBACvC,MAAM,CAAC,eAAe,GAAG,CAAC,CAAC,eAAe,CAAC;oBAC3C,MAAM,CAAC,mBAAmB,GAAG,CAAC,CAAC,mBAAmB,CAAC;oBACnD,MAAM,CAAC,eAAe,GAAG,CAAC,CAAC,eAAe,CAAC;oBAC3C,MAAM,CAAC,mBAAmB,GAAG,CAAC,CAAC,mBAAmB,CAAC;oBACnD,MAAM,CAAC,eAAe,GAAG,CAAC,CAAC,eAAe,CAAC;oBAC3C,MAAM,CAAC,mBAAmB,GAAG,CAAC,CAAC,mBAAmB,CAAC;oBACnD,MAAM,CAAC,oBAAoB,GAAG,CAAC,CAAC,oBAAoB,CAAC;oBACrD,MAAM,CAAC,cAAc,GAAG,CAAC,CAAC,cAAc,CAAC;oBACzC,MAAM,CAAC,IAAI,GAAG,CAAC,CAAC,SAAS,CAAC;oBAC1B,MAAM,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC;oBAC1B,IAAI,IAAI,CAAC,SAAS,EAAE;wBAChB,MAAM,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC;qBAC3C;oBAED,UAAU,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;iBAC3B;aACJ;iBAAM,IAAI,IAAI,YAAY,iCAAiC,EAAE;;sBACpD,CAAC,sBAAG,IAAI,EAAqC;gBACnD,IAAI,CAAC,EAAE;;0BACG,YAAY,GAAG,IAAIC,yBAAuB;oBAChD,YAAY,CAAC,EAAE,GAAG,CAAC,CAAC,EAAE,CAAC;oBACvB,YAAY,CAAC,IAAI,GAAG,CAAC,CAAC,SAAS,CAAC;oBAChC,YAAY,CAAC,IAAI,GAAG,CAAC,CAAC,IAAI,CAAC;oBAC3B,YAAY,CAAC,WAAW,sBAAG,CAAC,CAAC,WAAW,EAAO,CAAC;oBAChD,YAAY,CAAC,iBAAiB,GAAG,CAAC,CAAC,iBAAiB,CAAC;oBACrD,YAAY,CAAC,cAAc,GAAG,CAAC,CAAC,cAAc,CAAC;oBAC/C,YAAY,CAAC,gBAAgB,GAAG,CAAC,CAAC,gBAAgB,CAAC;oBACnD,YAAY,CAAC,gBAAgB,GAAG,CAAC,CAAC,gBAAgB,CAAC;oBACnD,YAAY,CAAC,eAAe,GAAG,CAAC,CAAC,eAAe,CAAC;oBACjD,YAAY,CAAC,YAAY,GAAG,CAAC,CAAC,YAAY,CAAC;oBAC3C,YAAY,CAAC,GAAG,GAAG,CAAC,CAAC,GAAG,CAAC;oBACzB,YAAY,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC;oBAChC,IAAI,IAAI,CAAC,SAAS,EAAE;wBAChB,YAAY,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC;qBACjD;oBAED,UAAU,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;iBACjC;aACJ;SACJ,EAAC,CAAC;QACH,OAAO,UAAU,CAAC;KACrB;;;;;;;IAOM,OAAO,aAAa,CAAC,UAAmB,EAAE,mBAA4C;;cACnF,WAAW,GAAG,IAAI,uBAAuB,EAAE;QACjD,WAAW,CAAC,MAAM,GAAGvB,aAAW,CAAC,MAAM,CAAC;QACxC,WAAW,CAAC,MAAM,GAAG,UAAU,CAAC;QAEhC,IAAI,UAAU,EAAE;;kBACN,KAAK,GAAG,mBAAmB,CAAC,MAAM;;;;YAAC,CAAC,IAAI,CAAC,CAAC,WAAW,KAAKA,aAAW,CAAC,MAAM,EAAC;;gBAC/E,GAAG,GAAG,KAAK,CAAC,IAAI;;;;YAAC,CAAC,IAAI,oBAAC,CAAC,IAAS,iBAAiB,IAAI,CAAC,oBAAC,CAAC,IAAS,KAAK,EAAC;;gBACxE,IAAI,GAAmB,EAAE;YAC7B,IAAG,GAAG,EAAE;;sBACE,YAAY,GAAG,IAAIuB,yBAAuB;gBAChD,YAAY,CAAC,EAAE,GAAG,GAAG,CAAC,EAAE,CAAC;gBACzB,YAAY,CAAC,IAAI,GAAG,GAAG,CAAC,SAAS,CAAC;gBAClC,YAAY,CAAC,IAAI,GAAG,GAAG,CAAC,IAAI,CAAC;gBAC7B,YAAY,CAAC,WAAW,sBAAG,GAAG,CAAC,WAAW,EAAO,CAAC;gBAClD,YAAY,CAAC,iBAAiB,GAAG,oBAAC,GAAG,IAAS,iBAAiB,CAAC;gBAChE,YAAY,CAAC,cAAc,GAAG,oBAAC,GAAG,IAAS,cAAc,CAAC;gBAC1D,YAAY,CAAC,gBAAgB,GAAG,oBAAC,GAAG,IAAS,gBAAgB,CAAC;gBAC9D,YAAY,CAAC,gBAAgB,GAAG,oBAAC,GAAG,IAAS,gBAAgB,CAAC;gBAC9D,YAAY,CAAC,eAAe,GAAG,oBAAC,GAAG,IAAS,eAAe,CAAC;gBAC5D,YAAY,CAAC,YAAY,GAAG,oBAAC,GAAG,IAAS,YAAY,CAAC;gBACtD,YAAY,CAAC,GAAG,GAAG,oBAAC,GAAG,IAAS,GAAG,CAAC;gBACpC,YAAY,CAAC,KAAK,GAAG,CAAC,CAAC;gBACvB,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;aAC3B;iBAAK;gBACF,IAAI,GAAG,cAAc,CAAC,oBAAoB,CAAC,KAAK,CAAC,CAAC;aACrD;YACD,WAAW,CAAC,KAAK,GAAG,IAAI,0BAA0B,EAAE,CAAC;YACrD,IAAG,IAAI,IAAI,IAAI,CAAC,MAAM,GAAG,CAAC,EAAE;gBACxB,WAAW,CAAC,KAAK,CAAC,eAAe,GAAG,IAAI,eAAe,EAAE,CAAC;gBAC1D,WAAW,CAAC,KAAK,CAAC,eAAe,CAAC,kBAAkB,GAAG,IAAI,CAAC;gBAC5D,WAAW,CAAC,KAAK,CAAC,eAAe,CAAC,UAAU,GAAG,IAAI,CAAC;aACvD;iBAAK;gBACF,WAAW,CAAC,KAAK,CAAC,eAAe,GAAG,IAAI,eAAe,EAAE,CAAC;gBAC1D,WAAW,CAAC,KAAK,CAAC,eAAe,CAAC,UAAU,GAAG,KAAK,CAAC;aACxD;SACJ;QACD,OAAO,WAAW,CAAC;KACtB;;;;;;IAEM,OAAO,sBAAsB,CAAC,OAAgB,EAAE,UAAiB;QACpE,IAAI,CAAC,UAAU,EAAE;YACb,UAAU,GAAG,EAAE,CAAC;SACnB;;YACG,OAAO,GAAG,OAAO,CAAC,cAAc,EAAE;QACtC,IAAI,UAAU,KAAK,IAAI,IAAI,UAAU,CAAC,MAAM,GAAG,CAAC,EAAE;YAC9C,KAAK,MAAM,CAAC,IAAI,UAAU,EAAE;;sBAClB,QAAQ,GAAG,IAAI,QAAQ,CAAC,OAAO,CAAC,KAAK,CAAC;;gBAE5C,KAAK,MAAM,CAAC,IAAI,OAAO,EAAE;oBACrB,IAAI,CAAC,YAAY,UAAU,IAAI,CAAC,CAAC,IAAI,KAAK,CAAC,CAAC,IAAI,EAAE;wBAC9C,OAAO,CAAC,gBAAgB,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;qBAClC;iBACJ;gBACD,QAAQ,CAAC,QAAQ,GAAG,SAAS,CAAC,SAAS,CAAC;gBACxC,QAAQ,CAAC,SAAS,GAAG,CAAC,CAAC,QAAQ,CAAC;gBAChC,QAAQ,CAAC,WAAW,GAAG,CAAC,CAAC,WAAW,CAAC;;gBAErC,IAAI,CAAC,CAAC,aAAa,KAAK,CAAC,EAAE;;0BACjB,UAAU,GAAG,IAAI,gBAAgB,CAAC,OAAO,CAAC,KAAK,CAAC;oBACtD,UAAU,CAAC,IAAI,GAAG,CAAC,CAAC,IAAI,CAAC;oBACzB,UAAU,CAAC,aAAa,GAAG,CAAC,CAAC,IAAI,CAAC;oBAClC,UAAU,CAAC,QAAQ,GAAG,QAAQ,CAAC;oBAC/B,UAAU,CAAC,WAAW,GAAG,CAAC,CAAC,SAAS,CAAC;oBACrC,IAAI,CAAC,CAAC,YAAY,IAAI,CAAC,CAAC,gBAAgB,EAAE;;8BAChC,eAAe,GAAG,IAAI,eAAe,CAAC,OAAO,CAAC,KAAK,CAAC;wBAC1D,eAAe,CAAC,YAAY,GAAG,CAAC,CAAC,IAAI,CAAC;wBACtC,eAAe,CAAC,YAAY,GAAG,CAAC,CAAC,IAAI,CAAC;wBACtC,eAAe,CAAC,GAAG,GAAG,CAAC,CAAC,gBAAgB,CAAC;wBACzC,eAAe,CAAC,KAAK,GAAG,CAAC,CAAC,YAAY,CAAC;wBACvC,eAAe,CAAC,SAAS,GAAG,CAAC,CAAC,YAAY,CAAC;wBAE3C,UAAU,CAAC,eAAe,GAAG,eAAe,CAAC;qBAChD;oBAED,OAAO,CAAC,aAAa,CAAC,UAAU,CAAC,CAAC;iBACrC;aACJ;SACJ;KACJ;CACJ;;;;;;ACvnBD;;;;AAmBA,MAAa,aAAc,SAAQ,WAAW;;;;IAM1C,mBAAmB;;YACX,UAAU,GAAG,EAAE;QACnB,IAAI,IAAI,CAAC,QAAQ,CAAC,YAAY,IAAI,IAAI,CAAC,QAAQ,CAAC,YAAY,CAAC,MAAM,GAAG,CAAC,EAAE;YACrE,UAAU,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,QAAQ,CAAC,YAAY,CAAC,CAAC,CAAC,IAAI;;;;;YAAC,CAAC,CAAC,EAAE,CAAC;gBAC1E,OAAO,CAAC,CAAC,SAAS,GAAG,CAAC,CAAC,SAAS,CAAC;aACpC,EAAC,CAAC;SACN;QACD,UAAU,GAAG,UAAU,CAAC,IAAI;;;;;QAAC,CAAC,CAAC,EAAE,CAAC;YAC9B,OAAO,CAAC,CAAC,SAAS,GAAG,CAAC,CAAC,SAAS,CAAC;SACpC,EAAC,CAAC;;YAEC,YAAY,GAAG,EAAE;;YACjB,KAAK,GAAG,IAAI,qBAAqB,EAAE;QACvC,KAAK,CAAC,UAAU,GAAG,OAAO,CAAC;QAC3B,KAAK,CAAC,YAAY,GAAI,WAAW,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC;QACnD,KAAK,CAAC,KAAK,GAAG,OAAO,CAAC;QACtB,KAAK,CAAC,OAAO,GAAI,WAAW,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;QAC1C,KAAK,CAAC,UAAU,GAAG;YACf,EAAE,UAAU,EAAE,mBAAmB,CAAC,IAAI,EAAE,YAAY,EAAG,WAAW,CAAC,GAAG,CAAC,MAAM,CAAC,EAAE,YAAY,EAAE,QAAQ,EAAE,OAAO,EAAE,CAAC,IAAI,CAAC,QAAQ,CAAC,gBAAgB,EAAE;YAClJ,EAAE,UAAU,EAAE,mBAAmB,CAAC,YAAY,EAAE,YAAY,EAAG,WAAW,CAAC,GAAG,CAAC,cAAc,CAAC,EAAE,YAAY,EAAE,eAAe,EAAE,OAAO,EAAE,IAAI,CAAC,QAAQ,CAAC,gBAAgB,EAAE;YACxK,EAAE,UAAU,EAAE,mBAAmB,CAAC,GAAG,EAAE,YAAY,EAAG,WAAW,CAAC,GAAG,CAAC,KAAK,CAAC,EAAE,YAAY,EAAE,QAAQ,EAAE,QAAQ,EAAE,IAAI,EAAE;YACtH,EAAE,UAAU,EAAE,mBAAmB,CAAC,SAAS,EAAE,YAAY,EAAG,WAAW,CAAC,GAAG,CAAC,WAAW,CAAC,EAAE,YAAY,EAAE,OAAO,EAAE;YACjH,EAAE,UAAU,EAAE,mBAAmB,CAAC,SAAS,EAAE,YAAY,EAAG,WAAW,CAAC,GAAG,CAAC,WAAW,CAAC,EAAE,YAAY,EAAE,QAAQ,EAAE;YAClH,EAAE,UAAU,EAAE,mBAAmB,CAAC,kBAAkB,EAAE,YAAY,EAAG,WAAW,CAAC,GAAG,CAAC,SAAS,CAAC,EAAE,YAAY,EAAE,OAAO,EAAE;SAC3H,CAAC;;YAEE,OAAO,GAAG,IAAI,qBAAqB,EAAE;QACzC,OAAO,CAAC,UAAU,GAAG,SAAS,CAAC;QAC/B,OAAO,CAAC,YAAY,GAAI,WAAW,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;QACnD,OAAO,CAAC,KAAK,GAAG,OAAO,CAAC;QACxB,OAAO,CAAC,OAAO,GAAI,WAAW,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;QAC5C,OAAO,CAAC,UAAU,GAAG;YACjB,EAAE,UAAU,EAAE,mBAAmB,CAAC,kBAAkB,EAAE,YAAY,EAAG,WAAW,CAAC,GAAG,CAAC,SAAS,CAAC,EAAE,YAAY,EAAE,OAAO,EAAE;YACxH,EAAE,UAAU,EAAE,mBAAmB,CAAC,sBAAsB,EAAE,YAAY,EAAG,WAAW,CAAC,GAAG,CAAC,aAAa,CAAC,EAAE,YAAY,EAAE,OAAO,EAAE;SACnI,CAAC;;YAEE,OAAO,GAAG,IAAI,qBAAqB,EAAE;QACzC,OAAO,CAAC,UAAU,GAAG,SAAS,CAAC;QAC/B,OAAO,CAAC,YAAY,GAAI,WAAW,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;QACnD,OAAO,CAAC,KAAK,GAAG,UAAU,CAAC;QAC3B,OAAO,CAAC,OAAO,GAAI,WAAW,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;QAC/C,OAAO,CAAC,UAAU,GAAG;YACjB,EAAE,UAAU,EAAE,mBAAmB,CAAC,YAAY,EAAE,YAAY,EAAG,WAAW,CAAC,GAAG,CAAC,aAAa,CAAC,EAAE,YAAY,EAAE,OAAO,EAAE;SACzH,CAAC;;YAEE,QAAQ,GAAG,IAAI,qBAAqB,EAAE;QAC1C,QAAQ,CAAC,UAAU,GAAG,UAAU,CAAC;QACjC,QAAQ,CAAC,YAAY,GAAI,WAAW,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC;QACxD,QAAQ,CAAC,KAAK,GAAG,UAAU,CAAC;QAC5B,QAAQ,CAAC,OAAO,GAAI,WAAW,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;QAChD,QAAQ,CAAC,UAAU,GAAG;YAClB,EAAE,UAAU,EAAE,mBAAmB,CAAC,gBAAgB,EAAE,YAAY,EAAG,WAAW,CAAC,GAAG,CAAC,kBAAkB,CAAC,EAAE,YAAY,EAAE,OAAO,EAAE;YAC/H,EAAE,UAAU,EAAE,mBAAmB,CAAC,kBAAkB,EAAE,YAAY,EAAG,WAAW,CAAC,GAAG,CAAC,iBAAiB,CAAC,EAAE,YAAY,EAAE,OAAO,EAAE;YAChI,EAAE,UAAU,EAAE,mBAAmB,CAAC,cAAc,EAAE,YAAY,EAAG,WAAW,CAAC,GAAG,CAAC,gBAAgB,CAAC,EAAE,YAAY,EAAE,QAAQ,EAAE;YAC5H,EAAE,UAAU,EAAE,mBAAmB,CAAC,wBAAwB,EAAE,YAAY,EAAG,WAAW,CAAC,GAAG,CAAC,0BAA0B,CAAC,EAAE,YAAY,EAAE,QAAQ,EAAE,WAAW,EAAE,WAAW,CAAC,GAAG,CAAC,aAAa,CAAC,EAAE;YAC7L,EAAE,UAAU,EAAE,mBAAmB,CAAC,aAAa,EAAE,YAAY,EAAG,WAAW,CAAC,GAAG,CAAC,iBAAiB,CAAC,EAAE,YAAY,EAAE,OAAO,EAAE;SAC9H,CAAC;;cAEI,IAAI,GAAG,IAAI,qBAAqB,EAAE;QACxC,IAAI,CAAC,UAAU,GAAG,iBAAiB,CAAC;QACpC,IAAI,CAAC,YAAY,GAAI,WAAW,CAAC,GAAG,CAAC,gBAAgB,CAAC,CAAC;QACvD,IAAI,CAAC,KAAK,GAAG,UAAU,CAAC;QACxB,IAAI,CAAC,OAAO,GAAI,WAAW,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;QAC5C,IAAI,CAAC,UAAU,GAAG;YACd,EAAE,UAAU,EAAE,mBAAmB,CAAC,gBAAgB,EAAE,YAAY,EAAG,WAAW,CAAC,GAAG,CAAC,kBAAkB,CAAC,EAAE,YAAY,EAAE,OAAO,EAAE;YAC/H,EAAE,UAAU,EAAE,mBAAmB,CAAC,aAAa,EAAE,YAAY,EAAG,WAAW,CAAC,GAAG,CAAC,eAAe,CAAC,EAAE,YAAY,EAAE,OAAO,EAAE;SAC5H,CAAC;;;cAGI,SAAS,GAAG,IAAI,KAAK,EAAE;QAC7B,KAAK,MAAM,MAAM,IAAI,UAAU,EAAE;YAC7B,IAAI,CAAC,MAAM,CAAC,QAAQ,EAAE;;sBACZ,KAAK,GAAG,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,IAAI,KAAK,EAAE,EAAE;gBACrD,KAAK,MAAM,CAAC,IAAI,UAAU,EAAE;oBACxB,IAAI,CAAC,CAAC,QAAQ,KAAK,MAAM,CAAC,EAAE,EAAE;wBAC1B,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;qBACxB;iBACJ;gBACD,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;aACzB;SACJ;;QAED,IAAI,SAAS,IAAI,SAAS,CAAC,MAAM,GAAG,CAAC,EAAE;;kBAC7B,cAAc,GAAG,IAAI,qBAAqB,EAAE;YAClD,cAAc,CAAC,UAAU,GAAG,gBAAgB,CAAC;YAC7C,cAAc,CAAC,YAAY,GAAI,WAAW,CAAC,GAAG,CAAC,gBAAgB,CAAC,CAAC;YACjE,cAAc,CAAC,KAAK,GAAG,UAAU,CAAC;YAClC,cAAc,CAAC,OAAO,GAAI,WAAW,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;YACtD,cAAc,CAAC,UAAU,GAAG,IAAI,KAAK,EAAE,CAAC;;YAExC,KAAK,MAAM,CAAC,IAAI,SAAS,EAAE;gBACvB,cAAc,CAAC,UAAU,CAAC,IAAI,CAC1B,EAAE,UAAU,EAAE,CAAC,CAAC,MAAM,CAAC,EAAE,EAAE,YAAY,EAAE,CAAC,CAAC,MAAM,CAAC,aAAa,EAAE,YAAY,EAAE,OAAO,EAAE,CAC3F,CAAC;aACL;YACD,IAAI,CAAC,uBAAuB,CAAC,YAAY,EAAE,SAAS,CAAC,CAAC;YACtD,OAAO;gBACH,cAAc,EAAE,CAAC,KAAK,EAAE,OAAO,EAAE,OAAO,EAAE,IAAI,EAAE,QAAQ,EAAE,cAAc,CAAC;gBACzE,YAAY,EAAE,YAAY;aAC7B,CAAC;SACL;aAAM;YACH,IAAI,CAAC,uBAAuB,CAAC,YAAY,EAAE,SAAS,CAAC,CAAC;YACtD,OAAO;gBACH,cAAc,EAAE,CAAC,KAAK,EAAE,OAAO,EAAE,OAAO,EAAE,IAAI,EAAE,QAAQ,CAAC;gBACzD,YAAY,EAAE,YAAY;aAC7B,CAAC;SACL;KACJ;;;;;IAED,WAAW,CAAC,GAAQ;;cACV,UAAU,GAAG,GAAG,CAAC,UAAU;QACjC,IAAI,UAAU,EAAE;YACZ,QAAQ,UAAU;gBACd,KAAK,WAAW;;oBAEZ,IAAI,CAAC,mBAAmB,CAAC,GAAG,CAAC,aAAa,CAAC,IAAI,EAAE,GAAG,CAAC,aAAa,CAAC,gBAAgB,EAAE,GAAG,CAAC,aAAa,CAAC,EAAE,CAAC,CAAC;oBAC3G,IAAI,CAAC,kBAAkB,CAAC,GAAG,CAAC,gBAAgB,EAAE,GAAG,CAAC,oBAAoB,EAAE,GAAG,CAAC,YAAY,EAAE,GAAG,CAAC,gBAAgB,EAAE,GAAG,CAAC,OAAO,CAAC,CAAC;oBAC7H,IAAI,CAAC,0BAA0B,CAAC,GAAG,CAAC,QAAQ,CAAC,kBAAkB,CAAC,CAAC;oBACjE,MAAM;gBACV,KAAK,mBAAmB,CAAC,YAAY;oBACjC,IAAI,CAAC,uBAAuB,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC;oBAChD,MAAM;gBACV,KAAK,mBAAmB,CAAC,kBAAkB;oBACvC,IAAI,CAAC,iBAAiB,CAAC,GAAG,CAAC,aAAa,EAAE,IAAI,CAAC,CAAC;oBAChD,IAAI,GAAG,CAAC,UAAU,IAAI,GAAG,CAAC,UAAU,CAAC,MAAM,GAAG,CAAC,EAAE;wBAC7C,cAAc,CAAC,sBAAsB,CAAC,IAAI,CAAC,OAAO,EAAE,GAAG,CAAC,UAAU,CAAC,CAAC;qBACvE;oBACD,MAAM;gBACV,KAAK,mBAAmB,CAAC,sBAAsB;oBAC3C,IAAI,CAAC,iBAAiB,CAAC,GAAG,CAAC,aAAa,EAAE,QAAQ,CAAC,CAAC;oBACpD,IAAI,GAAG,CAAC,UAAU,IAAI,GAAG,CAAC,UAAU,CAAC,MAAM,GAAG,CAAC,EAAE;wBAC7C,cAAc,CAAC,sBAAsB,CAAC,IAAI,CAAC,OAAO,EAAE,GAAG,CAAC,UAAU,CAAC,CAAC;qBACvE;oBACD,MAAM;gBACV,KAAK,mBAAmB,CAAC,kBAAkB;oBACvC,IAAI,CAAC,sBAAsB,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC;oBAC/C,MAAM;gBACV,KAAK,mBAAmB,CAAC,kBAAkB;oBACvC,IAAI,CAAC,4BAA4B,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC;oBACrD,MAAM;gBACV,KAAK,mBAAmB,CAAC,cAAc;oBACnC,IAAI,CAAC,oBAAoB,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC;oBAC7C,MAAM;gBACV,KAAK,mBAAmB,CAAC,SAAS;oBAC9B,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC,aAAa,EAAE,GAAG,CAAC,UAAU,EAAE,GAAG,CAAC,OAAO,CAAC,CAAC;oBACrE,MAAM;gBACV,KAAK,mBAAmB,CAAC,cAAc;oBACnC,IAAI,CAAC,oBAAoB,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC;oBAC7C,MAAM;gBACV,KAAK,mBAAmB,CAAC,wBAAwB;oBAC7C,IAAI,CAAC,8BAA8B,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC;oBACvD,MAAM;gBACV,KAAK,mBAAmB,CAAC,gBAAgB;oBACrC,IAAI,CAAC,sBAAsB,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC;oBAC/C,MAAM;gBACV,KAAK,mBAAmB,CAAC,gBAAgB;oBACrC,IAAI,CAAC,6BAA6B,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC;oBACtD,MAAM;gBACV,KAAK,mBAAmB,CAAC,aAAa;oBAClC,IAAI,CAAC,2BAA2B,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC;oBACpD,MAAM;gBACV,KAAK,mBAAmB,CAAC,aAAa;oBAClC,IAAI,CAAC,mBAAmB,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC;oBAC5C,MAAM;gBACV;;oBAEI,IAAI,IAAI,CAAC,QAAQ,CAAC,YAAY,CAAC,SAAS;;;;oBAAC,CAAC,IAAI,CAAC,CAAC,EAAE,KAAK,UAAU,EAAC,GAAG,CAAC,CAAC,EAAE;wBACrE,IAAI,CAAC,mBAAmB,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC;qBAC/C;yBAAM;wBACH,KAAK,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC;qBAC1B;oBACD,MAAM;aACb;SACJ;KACJ;;;;;;;IAQD,uBAAuB,CAAC,YAAiB,EAAE,SAAe;;YAClD,OAAO,GAAG,IAAI,CAAC,OAAO;QAC1B,IAAI,OAAO,EAAE;YACT,IAAI,CAAC,OAAO,CAAC,IAAI;gBACb,OAAO,CAAC,IAAI,GAAG,MAAM,CAAC;YAC1B,IAAI,CAAC,OAAO,CAAC,GAAG;gBACZ,OAAO,CAAC,GAAG,GAAG,eAAe,CAAC,iBAAiB,EAAE,CAAC;YAEtD,YAAY,CAAC,mBAAmB,CAAC,EAAE,CAAC,GAAG,OAAO,CAAC,EAAE,CAAC;YAClD,YAAY,CAAC,mBAAmB,CAAC,SAAS,CAAC,GAAG,OAAO,CAAC,SAAS,CAAC;YAChE,YAAY,CAAC,mBAAmB,CAAC,IAAI,CAAC,GAAG,OAAO,CAAC,IAAI,CAAC;YACtD,YAAY,CAAC,mBAAmB,CAAC,YAAY,CAAC,GAAG,OAAO,CAAC,YAAY,IAAI;gBACrE,QAAQ,EAAE,OAAO,CAAC,IAAI;aACzB,CAAC;YACF,YAAY,CAAC,mBAAmB,CAAC,GAAG,CAAC,GAAG,OAAO,CAAC,GAAG,CAAC;YACpD,YAAY,CAAC,mBAAmB,CAAC,kBAAkB,CAAC,GAAG,EAAE,CAAC;;gBAEtD,cAAc,GAAuB,OAAO,CAAC,oBAAoB,EAAE;;gBACnE,SAAS,GAAG,EAAE;;gBACd,OAAO;;gBACP,UAAU;;gBACV,gBAAgB,GAAG,EAAE;;gBACrB,mBAAmB,GAAG,EAAE;;kBAEtB,eAAe,GAAG,IAAI,KAAK,EAAE;;YAEnC,KAAK,IAAI,CAAC,IAAI,cAAc,EAAE;gBAC1B,IAAI,cAAc,CAAC,CAAC,CAAC,YAAY,aAAa,EAAE;oBAC5C,YAAY,CAAC,mBAAmB,CAAC,SAAS,CAAC,GAAG;wBAC1C,EAAE,EAAE,oBAAC,cAAc,CAAC,CAAC,CAAC,IAAmB,SAAS;wBAClD,IAAI,EAAE,oBAAC,cAAc,CAAC,CAAC,CAAC,IAAmB,UAAU;qBACxD,CAAC;oBACF,YAAY,CAAC,mBAAmB,CAAC,cAAc,CAAC,GAAG,oBAAC,cAAc,CAAC,CAAC,CAAC,IAAmB,cAAc,CAAC;oBACvG,YAAY,CAAC,mBAAmB,CAAC,SAAS,CAAC,GAAG,oBAAC,cAAc,CAAC,CAAC,CAAC,IAAmB,SAAS,CAAC;oBAC7F,YAAY,CAAC,mBAAmB,CAAC,cAAc,CAAC,GAAG,oBAAC,cAAc,CAAC,CAAC,CAAC,IAAmB,cAAc,GAAG,oBAAC,cAAc,CAAC,CAAC,CAAC,IAAmB,cAAc,GAAG,KAAK,CAAC;oBACrK,YAAY,CAAC,mBAAmB,CAAC,wBAAwB,CAAC,GAAG,oBAAC,cAAc,CAAC,CAAC,CAAC,IAAmB,wBAAwB,GAAG,oBAAC,cAAc,CAAC,CAAC,CAAC,IAAmB,wBAAwB,GAAG,KAAK,CAAC;iBACtM;gBACD,IAAI,cAAc,CAAC,CAAC,CAAC,YAAYC,WAAS;uBACnC,oBAAC,cAAc,CAAC,CAAC,CAAC,IAAe,IAAI,KAAK,QAAQ,CAAC,YAAY,EAAE;oBACpE,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,iBAAiB,oBAAC,cAAc,CAAC,CAAC,CAAC,GAAc,CAAC,CAAC;iBAC1E;gBACD,IAAI,cAAc,CAAC,CAAC,CAAC,YAAY,WAAW,EAAE;;0BACpC,IAAI,sBAAG,cAAc,CAAC,CAAC,CAAC,EAAe;oBAC7C,IAAI,IAAI,CAAC,YAAY,KAAK,IAAI,EAAE;wBAC5B,OAAO,GAAG,IAAI,CAAC;qBAClB;yBAAM,IAAI,IAAI,CAAC,YAAY,KAAK,QAAQ,EAAE;wBACvC,UAAU,GAAG,IAAI,CAAC;qBACrB;iBACJ;gBACD,IAAI,cAAc,CAAC,CAAC,CAAC,YAAY,eAAe,EAAE;oBAC9C,YAAY,CAAC,mBAAmB,CAAC,kBAAkB,CAAC;wBAChD,oBAAC,cAAc,CAAC,CAAC,CAAC,IAAqB,aAAa,GAAG,oBAAC,cAAc,CAAC,CAAC,CAAC,IAAqB,aAAa,GAAG,oBAAC,cAAc,CAAC,CAAC,CAAC,IAAqB,KAAK,CAAC;iBAClK;gBACD,IAAI,cAAc,CAAC,CAAC,CAAC,YAAY,eAAe,EAAE;oBAC9C,gBAAgB,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,CAAC;iBAC5C;gBACD,IAAI,cAAc,CAAC,CAAC,CAAC,YAAY,aAAa,EAAE;oBAC5C,eAAe,CAAC,IAAI,CAAC,IAAI,CAAC,gBAAgB,oBAAC,cAAc,CAAC,CAAC,CAAC,GAAkB,CAAC,CAAC;iBACnF;gBACD,IAAI,cAAc,CAAC,CAAC,CAAC,YAAY,gBAAgB,EAAE;oBAC/C,YAAY,CAAC,mBAAmB,CAAC,gBAAgB,CAAC,GAAG,IAAI,CAAC,wBAAwB,oBAAC,cAAc,CAAC,CAAC,CAAC,GAAqB,CAAC;iBAC7H;gBACD,IAAI,cAAc,CAAC,CAAC,CAAC,YAAY,cAAc,EAAE;oBAC7C,mBAAmB,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,CAAC;iBAC/C;gBACD,IAAI,cAAc,CAAC,CAAC,CAAC,YAAY,aAAa,EAAE;;oBAE5C,YAAY,CAAC,mBAAmB,CAAC,aAAa,CAAC,GAAG,cAAc,CAAC,CAAC,CAAC,CAAC;iBACvE;aACJ;;kBACK,gBAAgB,GAAG,IAAI,CAAC,mBAAmB,CAAC,OAAO,CAAC;YAC1D,YAAY,CAAC,mBAAmB,CAAC,gBAAgB,CAAC,GAAG,gBAAgB,CAAC;YACtE,YAAY,CAAC,mBAAmB,CAAC,YAAY,CAAC,GAAG,SAAS,CAAC;YAC3D,YAAY,CAAC,mBAAmB,CAAC,kBAAkB,CAAC,GAAG,OAAO,CAAC;YAC/D,YAAY,CAAC,mBAAmB,CAAC,sBAAsB,CAAC,GAAG,UAAU,CAAC;YACtE,YAAY,CAAC,mBAAmB,CAAC,kBAAkB,CAAC,GAAG,gBAAgB,CAAC;YACxE,YAAY,CAAC,mBAAmB,CAAC,aAAa,CAAC,GAAG,eAAe,CAAC;YAClE,KAAK,MAAM,CAAC,IAAI,SAAS,EAAE;;gBAEvB,IAAI,mBAAmB,IAAI,mBAAmB,CAAC,MAAM,GAAG,CAAC,EAAE;oBACvD,CAAC,CAAC,MAAM,CAAC,IAAI;;;;;oBAAC,CAAC,CAAC,EAAE,CAAC;wBACf,OAAO,CAAC,CAAC,SAAS,GAAG,CAAC,CAAC,SAAS,CAAC;qBACpC,EAAC,CAAC,OAAO;;;;oBAAC,CAAC;wBACR,mBAAmB,CAAC,OAAO;;;;wBAAC,CAAC;4BACzB,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,IAAI,EAAE;gCACjB,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC,KAAK,CAAC;6BACrB;yBACJ,EAAC,CAAC;qBACN,EAAC,CAAC;iBACN;gBACD,YAAY,CAAC,CAAC,CAAC,MAAM,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,MAAM,CAAC;aACxC;SACJ;KACJ;;;;;IAED,mBAAmB,CAAC,OAAgB;;YAC5B,gBAAgB,GAAG,IAAI,KAAK,EAAE;;cAC5B,cAAc,GAAuB,OAAO,CAAC,oBAAoB,EAAE;;cACnE,WAAW,GAAG,OAAO,CAAC,cAAc,EAAE;QAC5C,IAAI,WAAW,KAAK,IAAI,IAAI,WAAW,CAAC,MAAM,GAAG,CAAC,EAAE;YAChD,KAAK,MAAM,GAAG,IAAI,WAAW,EAAE;gBAC3B,IAAI,GAAG,YAAY,gBAAgB,IAAI,GAAG,CAAC,QAAQ,CAAC,QAAQ,KAAK,SAAS,CAAC,UAAU,EAAE;;0BAC7E,QAAQ,GAAQ;wBAClB,EAAE,EAAE,GAAG,CAAC,EAAE;wBACV,IAAI,EAAE,GAAG,CAAC,IAAI;wBACd,aAAa,EAAE,GAAG,CAAC,aAAa;wBAChC,SAAS,EAAE,GAAG,CAAC,QAAQ,CAAC,SAAS;wBACjC,GAAG,EAAE,GAAG,CAAC,eAAe,GAAG,GAAG,CAAC,eAAe,CAAC,GAAG,GAAG,EAAE;wBACvD,KAAK,EAAE,GAAG,CAAC,eAAe,GAAG,GAAG,CAAC,eAAe,CAAC,KAAK,GAAG,EAAE;wBAC3D,SAAS,EAAE,GAAG,CAAC,eAAe,GAAG,GAAG,CAAC,eAAe,CAAC,SAAS,GAAG,EAAE;wBACnE,WAAW,EAAE,GAAG,CAAC,QAAQ,CAAC,WAAW;qBACxC;oBACD,IAAI,GAAG,CAAC,eAAe,IAAI,GAAG,CAAC,eAAe,CAAC,GAAG,KAAK,WAAW,EAAE;wBAChE,IAAI,cAAc,CAAC,MAAM,GAAG,CAAC,EAAE;4BAC3B,KAAK,MAAM,CAAC,IAAI,cAAc,EAAE;gCAC5B,IAAI,CAAC,YAAYA,WAAS,IAAI,CAAC,CAAC,EAAE,KAAK,GAAG,CAAC,eAAe,CAAC,KAAK,EAAE;;0CACxD,SAAS,GAAQ;wCACnB,EAAE,EAAE,CAAC,CAAC,EAAE;wCACR,IAAI,EAAE,CAAC,CAAC,IAAI;wCACZ,UAAU,EAAE,CAAC,CAAC,UAAU;wCACxB,UAAU,EAAE,CAAC,CAAC,UAAU;wCACxB,gBAAgB,EAAE,EAAE;qCACvB;oCACD,IAAI,CAAC,CAAC,gBAAgB,IAAI,CAAC,CAAC,gBAAgB,CAAC,MAAM,GAAG,CAAC,EAAE;wCACrD,KAAK,MAAM,CAAC,IAAI,CAAC,CAAC,gBAAgB,EAAE;;kDAC1B,SAAS,GAAG;gDACd,IAAI,EAAE,CAAC,CAAC,IAAI;gDACZ,KAAK,EAAE,CAAC,CAAC,KAAK;gDACd,GAAG,EAAE,CAAC,CAAC,GAAG;6CACb;4CACD,SAAS,CAAC,gBAAgB,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;yCAC9C;qCACJ;oCACD,QAAQ,CAAC,SAAS,GAAG,SAAS,CAAC;iCAClC;6BACJ;yBACJ;qBACJ;oBACD,gBAAgB,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;iBACnC;aACJ;SACJ;QACD,OAAO,gBAAgB,CAAC;KAC3B;;;;;IAED,wBAAwB,CAAC,gBAAkC;;YACnD,SAAS;QACb,IAAI,gBAAgB,EAAE;YAClB,SAAS,GAAG,IAAI,oBAAoB,EAAE,CAAC;YACvC,SAAS,CAAC,MAAM,GAAG,gBAAgB,CAAC,MAAM,CAAC;YAC3C,SAAS,CAAC,GAAG,GAAG,gBAAgB,CAAC,GAAG,CAAC;YACrC,SAAS,CAAC,OAAO,GAAG,gBAAgB,CAAC,OAAO,CAAC;YAC7C,SAAS,CAAC,QAAQ,GAAG,gBAAgB,CAAC,QAAQ,CAAC;YAC/C,SAAS,CAAC,gBAAgB,GAAG,IAAI,KAAK,EAAE,CAAC;YACzC,IAAI,gBAAgB,CAAC,gBAAgB,IAAI,gBAAgB,CAAC,gBAAgB,CAAC,MAAM,GAAG,CAAC,EAAE;;sBAC7E,UAAU,GAAG,gBAAgB,CAAC,gBAAgB;gBACpD,KAAK,MAAM,CAAC,IAAI,UAAU,EAAE;oBACxB,IAAI,CAAC,CAAC,SAAS,CAAC,OAAO,CAAC,4BAA4B,CAAC,GAAG,CAAC,EAAE;;8BACjD,SAAS,sBAAG,CAAC,EAA8B;;8BAC3C,WAAW,GAAG,IAAI,8BAA8B,EAAE;wBACxD,WAAW,CAAC,YAAY,GAAG,SAAS,CAAC,YAAY,CAAC;wBAClD,WAAW,CAAC,YAAY,GAAG,SAAS,CAAC,YAAY,CAAC;wBAClD,WAAW,CAAC,QAAQ,GAAG,SAAS,CAAC,QAAQ,CAAC;wBAC1C,WAAW,CAAC,OAAO,GAAG,SAAS,CAAC,OAAO,CAAC;wBACxC,WAAW,CAAC,QAAQ,GAAG,SAAS,CAAC,QAAQ,CAAC;wBAC1C,WAAW,CAAC,OAAO,GAAG,SAAS,CAAC,OAAO,CAAC;wBACxC,WAAW,CAAC,EAAE,GAAG,SAAS,CAAC,EAAE,CAAC;wBAC9B,WAAW,CAAC,QAAQ,GAAG,SAAS,CAAC,QAAQ,CAAC;wBAC1C,WAAW,CAAC,YAAY,GAAG,SAAS,CAAC,YAAY,CAAC;wBAClD,WAAW,CAAC,WAAW,GAAG,SAAS,CAAC,WAAW,CAAC;wBAChD,WAAW,CAAC,SAAS,GAAG,SAAS,CAAC,SAAS,CAAC;wBAC5C,WAAW,CAAC,aAAa,GAAG,SAAS,CAAC,aAAa,CAAC;wBACpD,WAAW,CAAC,iBAAiB,GAAG,SAAS,CAAC,iBAAiB,GAAG,SAAS,CAAC,iBAAiB,GAAG,4BAA4B,CAAC;wBACzH,IAAI,SAAS,CAAC,kBAAkB,EAAE;;kCACxB,WAAW,GAAQ,IAAI,MAAM;4BACnC,WAAW,CAAC,IAAI,GAAG,SAAS,CAAC,kBAAkB,CAAC,IAAI,CAAC;4BACrD,WAAW,CAAC,OAAO,GAAG,SAAS,CAAC,kBAAkB,CAAC,OAAO,CAAC;4BAC3D,WAAW,CAAC,mBAAmB,GAAG,IAAI,KAAK,EAAE,CAAC;4BAC9C,IAAI,SAAS,CAAC,kBAAkB,CAAC,mBAAmB,IAAI,SAAS,CAAC,kBAAkB,CAAC,mBAAmB,CAAC,MAAM,GAAG,CAAC,EAAE;gCACjH,KAAK,MAAM,CAAC,IAAI,SAAS,CAAC,kBAAkB,CAAC,mBAAmB,EAAE;;0CACxD,QAAQ,GAAQ,IAAI,MAAM;oCAChC,QAAQ,CAAC,EAAE,GAAG,eAAe,CAAC,QAAQ,EAAE,CAAC;oCACzC,QAAQ,CAAC,IAAI,GAAG,CAAC,CAAC,IAAI,CAAC;oCACvB,QAAQ,CAAC,KAAK,GAAG,CAAC,CAAC,KAAK,CAAC;oCACzB,QAAQ,CAAC,GAAG,GAAG,CAAC,CAAC,GAAG,CAAC;oCACrB,WAAW,CAAC,mBAAmB,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;iCAClD;6BACJ;4BACD,WAAW,CAAC,kBAAkB,GAAG,WAAW,CAAC;yBAChD;wBACD,SAAS,CAAC,gBAAgB,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;qBAChD;yBAAM,IAAI,CAAC,CAAC,SAAS,CAAC,OAAO,CAAC,2BAA2B,CAAC,GAAG,CAAC,EAAE;;8BACvD,SAAS,sBAAG,CAAC,EAA6B;;8BAC1C,UAAU,GAAG,IAAI,6BAA6B;wBACpD,UAAU,CAAC,EAAE,GAAG,SAAS,CAAC,EAAE,CAAC;wBAC7B,UAAU,CAAC,YAAY,GAAG,SAAS,CAAC,YAAY,CAAC;wBACjD,UAAU,CAAC,YAAY,GAAG,SAAS,CAAC,YAAY,CAAC;wBACjD,UAAU,CAAC,QAAQ,GAAG,SAAS,CAAC,QAAQ,CAAC;wBACzC,UAAU,CAAC,iBAAiB,GAAG,SAAS,CAAC,iBAAiB,GAAG,SAAS,CAAC,iBAAiB,GAAG,2BAA2B,CAAC;wBACvH,UAAU,CAAC,cAAc,GAAG,SAAS,CAAC,cAAc,CAAC;wBACrD,UAAU,CAAC,OAAO,GAAG,SAAS,CAAC,OAAO,CAAC;wBACvC,SAAS,CAAC,gBAAgB,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;qBAC/C;iBACJ;aACJ;SACJ;QACD,OAAO,SAAS,CAAC;KACpB;;;;;IAED,gBAAgB,CAAC,aAA4B;;cACnC,OAAO,GAAQ,IAAI,MAAM;QAC/B,OAAO,CAAC,OAAO,GAAG,aAAa,CAAC,OAAO,CAAC;QACxC,OAAO,CAAC,QAAQ,GAAG,aAAa,CAAC,QAAQ,CAAC;QAC1C,OAAO,CAAC,QAAQ,GAAG,aAAa,CAAC,QAAQ,CAAC;QAC1C,OAAO,CAAC,OAAO,GAAG,aAAa,CAAC,OAAO,CAAC;QACxC,IAAI,aAAa,CAAC,kBAAkB,EAAE;;kBAC5B,WAAW,GAAQ,IAAI,MAAM;YACnC,WAAW,CAAC,IAAI,GAAG,aAAa,CAAC,kBAAkB,CAAC,IAAI,CAAC;YACzD,WAAW,CAAC,OAAO,GAAG,aAAa,CAAC,kBAAkB,CAAC,OAAO,CAAC;YAC/D,WAAW,CAAC,mBAAmB,GAAG,IAAI,KAAK,EAAE,CAAC;YAC9C,IAAI,aAAa,CAAC,kBAAkB,CAAC,mBAAmB,IAAI,aAAa,CAAC,kBAAkB,CAAC,mBAAmB,CAAC,MAAM,GAAG,CAAC,EAAE;gBACzH,KAAK,MAAM,CAAC,IAAI,aAAa,CAAC,kBAAkB,CAAC,mBAAmB,EAAE;;0BAC5D,QAAQ,GAAQ,IAAI,MAAM;oBAChC,QAAQ,CAAC,EAAE,GAAG,eAAe,CAAC,QAAQ,EAAE,CAAC;oBACzC,QAAQ,CAAC,IAAI,GAAG,CAAC,CAAC,IAAI,CAAC;oBACvB,QAAQ,CAAC,KAAK,GAAG,CAAC,CAAC,KAAK,CAAC;oBACzB,QAAQ,CAAC,GAAG,GAAG,CAAC,CAAC,GAAG,CAAC;oBACrB,WAAW,CAAC,mBAAmB,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;iBAClD;aACJ;YACD,OAAO,CAAC,kBAAkB,GAAG,WAAW,CAAC;SAC5C;;cACK,mBAAmB,GAAG,IAAI,KAAK,EAAmB;QACxD,IAAI,aAAa,CAAC,QAAQ,EAAE;;kBAClB,SAAS,GAAG,aAAa,CAAC,QAAQ,CAAC,KAAK,CAAC,GAAG,CAAC;;kBAC7C,aAAa,GAAG,aAAa,CAAC,YAAY,CAAC,KAAK,CAAC,GAAG,CAAC;;gBACvD,YAAY,GAAG,IAAIT,iBAAe,EAAE;YACxC,YAAY,CAAC,IAAI,GAAG,iBAAiB,CAAC;YACtC,YAAY,CAAC,OAAO,GAAG,EAAE,CAAC;YAC1B,YAAY,CAAC,SAAS,GAAG,EAAE,CAAC;YAC5B,KAAK,MAAM,CAAC,IAAI,SAAS,EAAE;gBACvB,IAAI,SAAS,CAAC,CAAC,CAAC,KAAK,iBAAiB,EAAE;;wBAChC,eAAe,GAAG,IAAIA,iBAAe,EAAE;oBAC3C,eAAe,CAAC,IAAI,GAAG,oBAAoB,CAAC;oBAC5C,eAAe,CAAC,kBAAkB,GAAG,iBAAiB,CAAC;oBACvD,mBAAmB,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;iBAC7C;qBAAM,IAAI,SAAS,CAAC,CAAC,CAAC,KAAK,qBAAqB,EAAE;;wBAC3C,mBAAmB,GAAG,IAAIA,iBAAe,EAAE;oBAC/C,mBAAmB,CAAC,IAAI,GAAG,oBAAoB,CAAC;oBAChD,mBAAmB,CAAC,kBAAkB,GAAG,qBAAqB,CAAC;oBAC/D,mBAAmB,CAAC,IAAI,CAAC,mBAAmB,CAAC,CAAC;iBACjD;qBAAM;oBACH,YAAY,CAAC,OAAO,KAAK,SAAS,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC;oBAC7C,YAAY,CAAC,SAAS,KAAK,aAAa,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC;iBACtD;aACJ;YACD,IAAI,YAAY,CAAC,OAAO,EAAE;gBACtB,YAAY,CAAC,OAAO,GAAG,YAAY,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC,EAAE,YAAY,CAAC,OAAO,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;gBAC1F,YAAY,CAAC,SAAS,GAAG,YAAY,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC,EAAE,YAAY,CAAC,SAAS,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;gBAChG,mBAAmB,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;aAC1C;SACJ;QACD,IAAI,aAAa,CAAC,mBAAmB,IAAI,aAAa,CAAC,mBAAmB,CAAC,MAAM,GAAG,CAAC,EAAE;YACnF,KAAK,MAAM,CAAC,IAAI,aAAa,CAAC,mBAAmB,EAAE;gBAC/C,IAAI,CAAC,YAAY,qCAAqC,EAAE;;wBAChD,2BAA2B,GAAG,IAAIA,iBAAe,EAAE;oBACvD,2BAA2B,CAAC,IAAI,GAAG,oBAAoB,CAAC;oBACxD,2BAA2B,CAAC,kBAAkB,GAAG,6BAA6B,CAAC;oBAC/E,2BAA2B,CAAC,aAAa,GAAG,oBAAC,CAAC,IAA2C,aAAa,CAAC;oBACvG,2BAA2B,CAAC,eAAe,GAAG,oBAAC,CAAC,IAA2C,eAAe,CAAC;oBAE3G,mBAAmB,CAAC,IAAI,CAAC,2BAA2B,CAAC,CAAC;iBACzD;qBAAM,IAAI,CAAC,YAAY,yBAAyB,EAAE;;wBAC3C,gBAAgB,GAAG,IAAIA,iBAAe,EAAE;oBAC5C,gBAAgB,CAAC,IAAI,GAAG,qBAAqB,CAAC;oBAC9C,gBAAgB,CAAC,mBAAmB,GAAG,oBAAC,CAAC,IAA+B,MAAM,CAAC;oBAC/E,gBAAgB,CAAC,YAAY,GAAG,oBAAC,CAAC,IAA+B,IAAI,CAAC;oBACtE,gBAAgB,CAAC,OAAO,GAAG,oBAAC,CAAC,IAA+B,OAAO,CAAC;oBACpE,mBAAmB,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC;iBAC9C;qBAAM,IAAI,CAAC,YAAY,6BAA6B,EAAE;;wBAC/C,gBAAgB,GAAG,IAAIA,iBAAe,EAAE;oBAC5C,gBAAgB,CAAC,IAAI,GAAG,qBAAqB,CAAC;oBAC9C,gBAAgB,CAAC,UAAU,GAAG,oBAAC,CAAC,IAAmC,UAAU,CAAC;oBAC9E,gBAAgB,CAAC,YAAY,GAAG,oBAAC,CAAC,IAAmC,YAAY,CAAC;oBAClF,gBAAgB,CAAC,YAAY,GAAG,oBAAC,CAAC,IAAmC,YAAY,CAAC;oBAClF,IAAI,gBAAgB,CAAC,YAAY,KAAK,GAAG,EAAE;wBACvC,gBAAgB,CAAC,KAAK,GAAG,oBAAC,CAAC,IAAmC,KAAK,CAAC;wBACpE,gBAAgB,CAAC,OAAO,GAAG,oBAAC,CAAC,IAAmC,OAAO,CAAC;qBAC3E;oBAED,mBAAmB,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC;iBAC9C;aACJ;SACJ;QACD,IAAI,mBAAmB,CAAC,MAAM,GAAG,CAAC,EAAE;YAChC,OAAO,CAAC,SAAS,GAAG,mBAAmB,CAAC;SAC3C;QACD,OAAO,OAAO,CAAC;KAElB;;;;;IAED,iBAAiB,CAAC,SAAoB;;cAC5B,YAAY,GAAG,IAAI,YAAY,EAAE;QACvC,YAAY,CAAC,EAAE,GAAG,SAAS,CAAC,EAAE,CAAC;QAC/B,YAAY,CAAC,IAAI,GAAG,SAAS,CAAC,IAAI,CAAC;QACnC,YAAY,CAAC,UAAU,GAAG,SAAS,CAAC,UAAU,CAAC;QAC/C,YAAY,CAAC,UAAU,GAAG,SAAS,CAAC,UAAU,CAAC;QAC/C,YAAY,CAAC,aAAa,GAAG,SAAS,CAAC,IAAI,CAAC;QAC5C,YAAY,CAAC,iBAAiB,GAAG,SAAS,CAAC,iBAAiB,CAAC;QAC7D,YAAY,CAAC,SAAS,GAAG,SAAS,CAAC,SAAS,IAAI,IAAI,CAAC;QACrD,YAAY,CAAC,gBAAgB,GAAG,IAAI,KAAK,EAAE,CAAC;QAC5C,IAAI,SAAS,CAAC,gBAAgB,IAAI,SAAS,CAAC,gBAAgB,CAAC,MAAM,GAAG,CAAC,EAAE;YACrE,KAAK,MAAM,KAAK,IAAI,SAAS,CAAC,gBAAgB,EAAE;;sBACtC,QAAQ,GAAG,IAAI,YAAY,EAAE;gBACnC,QAAQ,CAAC,IAAI,GAAG,KAAK,CAAC,IAAI,CAAC;gBAC3B,QAAQ,CAAC,IAAI,GAAG,KAAK,CAAC,IAAI,CAAC;gBAC3B,QAAQ,CAAC,KAAK,GAAG,KAAK,CAAC,KAAK,CAAC;gBAC7B,YAAY,CAAC,gBAAgB,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;aAChD;SACJ;QACD,OAAO,YAAY,CAAC;KACvB;;;;;;;;;IASD,gBAAgB,CAAC,IAAY,EAAE,QAAgB,EAAE,MAAc,EAAE,SAAoB;;cAC3E,OAAO,GAAG,IAAI,CAAC,OAAO;;YACxB,cAAc,GAAG,OAAO,CAAC,oBAAoB,EAAE;;cAC7C,aAAa,GAAG,IAAI,aAAa,CAAC,OAAO,CAAC,KAAK,EAAE,IAAI,EAAE,QAAQ,EAAE,MAAM,EAAE,SAAS,CAAC;QACzF,cAAc,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;KACtC;;;;;;;;;;IAQD,kBAAkB,CAAC,MAAa,EAAE,IAAW,EAAE,KAAY,EAAE,gBAAuB,EAAE,OAAY;QAC9F,IAAI,CAAC,sBAAsB,CAAC,MAAM,EAAE,IAAI,CAAC,MAAM;;;;QAAC,GAAG,IAAI,GAAG,CAAC,SAAS,KAAK,QAAQ,EAAC,CAAC,CAAC;QACpF,IAAI,CAAC,oBAAoB,CAAC,IAAI,EAAE,OAAO,CAAC,CAAC;QACzC,IAAI,CAAC,kBAAkB,CAAC,KAAK,CAAC,CAAC;QAC/B,IAAI,CAAC,sBAAsB,CAAC,gBAAgB,CAAC,CAAC;KACjD;;;;;;IAED,sBAAsB,CAAC,UAAiB,EAAE,OAAc,IAAI,KAAK,EAAE;QAC/D,IAAI,CAAC,UAAU,EAAE;YACb,UAAU,GAAG,EAAE,CAAC;SACnB;;YACG,OAAO,GAAG,IAAI,CAAC,OAAO;;YACtB,OAAO,GAAG,OAAO,CAAC,cAAc,EAAE;QACtC,IAAI,UAAU,KAAK,IAAI,IAAI,UAAU,CAAC,MAAM,GAAG,CAAC,EAAE;YAC9C,KAAK,MAAM,CAAC,IAAI,UAAU,EAAE;;sBAClB,QAAQ,GAAG,IAAI,QAAQ,CAAC,OAAO,CAAC,KAAK,CAAC;gBAC5C,IAAI,CAAC,CAAC,QAAQ,KAAK,WAAW,EAAE;;oBAE5B,KAAK,MAAM,CAAC,IAAI,OAAO,EAAE;;wBAErB,IAAI,CAAC,YAAY,UAAU,IAAI,CAAC,CAAC,QAAQ,CAAC,QAAQ,KAAK,SAAS,CAAC,UAAU,EAAE;4BACzE,OAAO,CAAC,gBAAgB,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;yBAClC;qBACJ;;;0BAEK,UAAU,GAAG,IAAI,aAAa,CAAC,OAAO,CAAC,KAAK,CAAC;oBACnD,IAAI,CAAC,CAAC,WAAW,IAAI,CAAC,CAAC,mBAAmB,EAAE;wBAC1C,UAAU,CAAC,QAAQ,GAAG,CAAC,CAAC,WAAW,CAAC;wBACpC,UAAU,CAAC,UAAU,GAAG,CAAC,CAAC,mBAAmB,CAAC;qBAC/C;yBAAM;wBACL,UAAU,CAAC,QAAQ,GAAG,CAAC,CAAC,QAAQ,CAAC;wBACjC,UAAU,CAAC,UAAU,GAAG,CAAC,CAAC,gBAAgB,CAAC;qBAC5C;oBACD,UAAU,CAAC,WAAW,GAAG,IAAI,CAAC,MAAM;;;;oBAAC,GAAG,IAAI,GAAG,CAAC,KAAK,KAAK,CAAC,CAAC,QAAQ,EAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;oBAC5E,QAAQ,CAAC,QAAQ,GAAG,SAAS,CAAC,UAAU,CAAC;oBACzC,QAAQ,CAAC,UAAU,GAAG,UAAU,CAAC;iBACpC;qBAAM;;oBAEH,KAAK,MAAM,CAAC,IAAI,OAAO,EAAE;wBACrB,IAAI,CAAC,YAAY,UAAU,IAAI,CAAC,CAAC,IAAI,KAAK,CAAC,CAAC,IAAI,EAAE;4BAC9C,OAAO,CAAC,gBAAgB,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;yBAClC;qBACJ;oBACD,QAAQ,CAAC,QAAQ,GAAG,SAAS,CAAC,SAAS,CAAC;oBACxC,QAAQ,CAAC,SAAS,GAAG,CAAC,CAAC,QAAQ,CAAC;iBACnC;gBACD,QAAQ,CAAC,WAAW,GAAG,CAAC,CAAC,WAAW,CAAC;;gBAErC,IAAI,CAAC,CAAC,aAAa,KAAK,CAAC,EAAE;;0BACjB,UAAU,GAAG,IAAI,gBAAgB,CAAC,OAAO,CAAC,KAAK,CAAC;oBACtD,UAAU,CAAC,IAAI,GAAG,CAAC,CAAC,IAAI,CAAC;oBACzB,UAAU,CAAC,aAAa,GAAG,CAAC,CAAC,IAAI,CAAC;oBAClC,UAAU,CAAC,QAAQ,GAAG,QAAQ,CAAC;oBAC/B,UAAU,CAAC,WAAW,GAAG,CAAC,CAAC,SAAS,CAAC;oBACrC,IAAI,CAAC,CAAC,YAAY,IAAI,CAAC,CAAC,gBAAgB,EAAE;;8BAChC,eAAe,GAAG,IAAI,eAAe,CAAC,OAAO,CAAC,KAAK,CAAC;wBAC1D,eAAe,CAAC,YAAY,GAAG,CAAC,CAAC,IAAI,CAAC;wBACtC,eAAe,CAAC,YAAY,GAAG,CAAC,CAAC,IAAI,CAAC;wBACtC,eAAe,CAAC,GAAG,GAAG,CAAC,CAAC,gBAAgB,CAAC;wBACzC,eAAe,CAAC,KAAK,GAAG,CAAC,CAAC,YAAY,CAAC;wBACvC,eAAe,CAAC,SAAS,GAAG,CAAC,CAAC,YAAY,CAAC;wBAE3C,UAAU,CAAC,eAAe,GAAG,eAAe,CAAC;qBAChD;oBAED,OAAO,CAAC,aAAa,CAAC,UAAU,CAAC,CAAC;iBACrC;aACJ;SACJ;KACJ;;;;;;;IAMD,oBAAoB,CAAC,QAAe,EAAE,OAAY;;cACxC,OAAO,GAAG,IAAI,CAAC,OAAO;;YACxB,aAA4B;;YAC5B,cAAc,GAAG,OAAO,CAAC,oBAAoB,EAAE;;QAEnD,IAAI,cAAc,CAAC,MAAM,GAAG,CAAC,EAAE;YAC3B,KAAK,IAAI,CAAC,GAAG,cAAc,CAAC,MAAM,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,EAAE;gBAC5C,IAAI,cAAc,CAAC,CAAC,GAAG,CAAC,CAAC,YAAYS,WAAS;uBACvC,oBAAC,cAAc,CAAC,CAAC,GAAG,CAAC,CAAC,IAAe,IAAI,KAAK,QAAQ,CAAC,YAAY,EAAE;oBACxE,cAAc,CAAC,MAAM,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC;iBACnC;gBACD,IAAI,cAAc,CAAC,CAAC,GAAG,CAAC,CAAC,YAAY,aAAa,EAAE;oBAChD,aAAa,sBAAG,cAAc,CAAC,CAAC,GAAG,CAAC,CAAC,EAAiB,CAAC;iBAC1D;aACJ;SACJ;;QAED,IAAI,aAAa,CAAC,SAAS,KAAK,SAAS,CAAC,MAAM,EAAE;;kBACxC,iBAAiB,GAAG,QAAQ,CAAC,IAAI;;;;YAAC,CAAC,IAAI,CAAC,CAAC,aAAa,KAAK,QAAQ,CAAC,QAAQ,EAAC;YACnF,IAAI,iBAAiB,EAAE;;oBACf,KAAK,GAAG,IAAIA,WAAS,CAAC,OAAO,CAAC,KAAK,CAAC;gBACxC,KAAK,CAAC,IAAI,sBAAG,iBAAiB,CAAC,aAAa,EAAY,CAAC;gBACzD,KAAK,CAAC,UAAU,GAAG,iBAAiB,CAAC,UAAU,CAAC;gBAChD,KAAK,CAAC,UAAU,GAAG,iBAAiB,CAAC,UAAU,CAAC;gBAChD,KAAK,CAAC,EAAE,GAAG,iBAAiB,CAAC,EAAE,CAAC;gBAChC,KAAK,CAAC,IAAI,GAAG,iBAAiB,CAAC,IAAI,CAAC;gBACpC,KAAK,CAAC,iBAAiB,GAAG,iBAAiB,CAAC,iBAAiB,CAAC;gBAC9D,KAAK,CAAC,gBAAgB,GAAG,EAAE,CAAC;gBAC5B,IAAI,iBAAiB,CAAC,SAAS,EAAE;oBAC7B,KAAK,CAAC,SAAS,GAAG,iBAAiB,CAAC,SAAS,CAAC;iBACjD;qBAAM;oBACH,KAAK,CAAC,SAAS,GAAG,WAAW,CAAA;iBAChC;gBACD,IAAI,iBAAiB,CAAC,gBAAgB,IAAI,iBAAiB,CAAC,gBAAgB,CAAC,MAAM,GAAG,CAAC,EAAE;oBACrF,KAAK,IAAI,IAAI,IAAI,iBAAiB,CAAC,gBAAgB,EAAE;;4BAC7C,SAAS,GAAG,IAAI,eAAe,CAAC,OAAO,CAAC,KAAK,EAAE,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,KAAK,CAAC;wBAEzE,KAAK,CAAC,gBAAgB,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;qBAC1C;iBACJ;;gBAED,cAAc,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;;gBAE3B,IAAI,aAAa,CAAC,SAAS,IAAI,SAAS,CAAC,gBAAgB,EAAE;;wBACnD,YAAY,GAAG,KAAK;;0BAClB,IAAI,GAAG,OAAO;oBACpB,IAAI,IAAI,IAAI,IAAI,CAAC,MAAM,GAAG,CAAC,EAAE;;wBAEzB,KAAK,MAAM,CAAC,IAAI,IAAI,EAAE;4BAClB,IAAI,CAAC,CAAC,SAAS,KAAK,iBAAiB,EAAE;gCACnC,YAAY,GAAG,IAAI,CAAC;gCACpB,MAAM;6BACT;yBACJ;qBACJ;;oBAED,IAAI,CAAC,YAAY,EAAE;wBACf,IAAI,QAAQ,IAAI,QAAQ,CAAC,MAAM,GAAG,CAAC,EAAE;4BACjC,KAAK,IAAI,OAAO,IAAI,QAAQ,EAAE;;oCACtB,GAAG,GAAG,IAAIA,WAAS,CAAC,OAAO,CAAC,KAAK,CAAC;gCACtC,GAAG,CAAC,IAAI,sBAAG,OAAO,CAAC,aAAa,EAAY,CAAC;gCAC7C,GAAG,CAAC,UAAU,GAAG,OAAO,CAAC,UAAU,CAAC;gCACpC,GAAG,CAAC,UAAU,GAAG,OAAO,CAAC,UAAU,CAAC;gCACpC,GAAG,CAAC,EAAE,GAAG,OAAO,CAAC,EAAE,CAAC;gCACpB,GAAG,CAAC,IAAI,GAAG,OAAO,CAAC,IAAI,CAAC;gCACxB,GAAG,CAAC,iBAAiB,GAAG,OAAO,CAAC,iBAAiB,CAAC;gCAClD,GAAG,CAAC,gBAAgB,GAAG,EAAE,CAAC;gCAC1B,IAAI,OAAO,CAAC,SAAS,EAAE;oCACnB,GAAG,CAAC,SAAS,GAAG,OAAO,CAAC,SAAS,CAAC;iCACrC;qCAAM;oCACH,GAAG,CAAC,SAAS,GAAG,WAAW,CAAA;iCAC9B;gCACD,IAAI,OAAO,CAAC,gBAAgB,IAAI,OAAO,CAAC,gBAAgB,CAAC,MAAM,GAAG,CAAC,EAAE;oCACjE,KAAK,IAAI,IAAI,IAAI,OAAO,CAAC,gBAAgB,EAAE;;4CACnC,SAAS,GAAG,IAAI,eAAe,CAAC,OAAO,CAAC,KAAK,EAAE,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,KAAK,CAAC;wCACzE,GAAG,CAAC,gBAAgB,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;qCACxC;iCACJ;;gCAED,IAAI,GAAG,CAAC,IAAI,KAAK,QAAQ,CAAC,QAAQ;uCAC3B,GAAG,CAAC,SAAS,KAAK,SAAS,CAAC,MAAM;uCAClC,GAAG,CAAC,SAAS,KAAK,SAAS,CAAC,WAAW,EAC5C;oCACE,cAAc,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;iCAC5B;6BACJ;yBACJ;qBACJ;yBAAM;wBACH,KAAK,IAAI,OAAO,IAAI,QAAQ,EAAE;;gCACtB,GAAG,GAAG,IAAIA,WAAS,CAAC,OAAO,CAAC,KAAK,CAAC;4BACtC,GAAG,CAAC,IAAI,sBAAG,OAAO,CAAC,aAAa,EAAY,CAAC;4BAC7C,GAAG,CAAC,UAAU,GAAG,OAAO,CAAC,UAAU,CAAC;4BACpC,GAAG,CAAC,UAAU,GAAG,OAAO,CAAC,UAAU,CAAC;4BACpC,GAAG,CAAC,EAAE,GAAG,OAAO,CAAC,EAAE,CAAC;4BACpB,GAAG,CAAC,IAAI,GAAG,OAAO,CAAC,IAAI,CAAC;4BACxB,GAAG,CAAC,iBAAiB,GAAG,OAAO,CAAC,iBAAiB,CAAC;4BAClD,GAAG,CAAC,gBAAgB,GAAG,EAAE,CAAC;4BAC1B,IAAI,OAAO,CAAC,SAAS,EAAE;gCACnB,GAAG,CAAC,SAAS,GAAG,OAAO,CAAC,SAAS,CAAC;6BACrC;iCAAM;gCACH,GAAG,CAAC,SAAS,GAAG,WAAW,CAAA;6BAC9B;4BACD,IAAI,OAAO,CAAC,gBAAgB,IAAI,OAAO,CAAC,gBAAgB,CAAC,MAAM,GAAG,CAAC,EAAE;gCACjE,KAAK,IAAI,IAAI,IAAI,OAAO,CAAC,gBAAgB,EAAE;;wCACnC,SAAS,GAAG,IAAI,eAAe,CAAC,OAAO,CAAC,KAAK,EAAE,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,KAAK,CAAC;oCACzE,GAAG,CAAC,gBAAgB,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;iCACxC;6BACJ;;4BAED,IAAI,GAAG,CAAC,IAAI,KAAK,QAAQ,CAAC,QAAQ;mCAC3B,GAAG,CAAC,SAAS,KAAK,SAAS,CAAC,MAAM;mCAClC,GAAG,CAAC,SAAS,KAAK,SAAS,CAAC,WAAW;mCACvC,GAAG,CAAC,SAAS,KAAK,WAAW,EAClC;gCACE,cAAc,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;6BAC5B;yBACJ;qBACJ;;;oBAGD,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,IAAI,aAAa,CAAC,SAAS,CAAC,YAAY,CAAC,CAAC,CAAC;iBACtE;qBAAM,IAAI,aAAa,CAAC,SAAS,IAAI,SAAS,CAAC,WAAW,EAAE;oBACzD,IAAI,QAAQ,IAAI,QAAQ,CAAC,MAAM,GAAG,CAAC,EAAE;wBACjC,KAAK,IAAI,OAAO,IAAI,QAAQ,EAAE;;gCACtB,GAAG,GAAG,IAAIA,WAAS,CAAC,OAAO,CAAC,KAAK,CAAC;4BACtC,GAAG,CAAC,IAAI,sBAAG,OAAO,CAAC,aAAa,EAAY,CAAC;4BAC7C,GAAG,CAAC,UAAU,GAAG,OAAO,CAAC,UAAU,CAAC;4BACpC,GAAG,CAAC,UAAU,GAAG,OAAO,CAAC,UAAU,CAAC;4BACpC,GAAG,CAAC,EAAE,GAAG,OAAO,CAAC,EAAE,CAAC;4BACpB,GAAG,CAAC,IAAI,GAAG,OAAO,CAAC,IAAI,CAAC;4BACxB,GAAG,CAAC,iBAAiB,GAAG,OAAO,CAAC,iBAAiB,CAAC;4BAClD,GAAG,CAAC,gBAAgB,GAAG,EAAE,CAAC;4BAC1B,IAAI,OAAO,CAAC,SAAS,EAAE;gCACnB,GAAG,CAAC,SAAS,GAAG,OAAO,CAAC,SAAS,CAAC;6BACrC;iCAAM;gCACH,GAAG,CAAC,SAAS,GAAG,WAAW,CAAA;6BAC9B;4BACD,IAAI,OAAO,CAAC,gBAAgB,IAAI,OAAO,CAAC,gBAAgB,CAAC,MAAM,GAAG,CAAC,EAAE;gCACjE,KAAK,IAAI,IAAI,IAAI,OAAO,CAAC,gBAAgB,EAAE;;wCACnC,SAAS,GAAG,IAAI,eAAe,CAAC,OAAO,CAAC,KAAK,EAAE,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,KAAK,CAAC;oCACzE,GAAG,CAAC,gBAAgB,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;iCACxC;6BACJ;;4BAED,IAAI,GAAG,CAAC,IAAI,KAAK,QAAQ,CAAC,QAAQ;mCAC3B,GAAG,CAAC,SAAS,KAAK,SAAS,CAAC,MAAM;mCAClC,GAAG,CAAC,SAAS,KAAK,SAAS,CAAC,gBAAgB;mCAC5C,GAAG,CAAC,SAAS,KAAK,WAAW,EAAE;gCAClC,cAAc,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;6BAC5B;yBACJ;qBACJ;iBACJ;;aAEJ;SACJ;aAAM;;;;kBAEG,UAAU,GAAG,QAAQ,CAAC,MAAM;;;;YAAC,CAAC,IAAI,eAAe,CAAC,aAAa,CAAC,CAAC,CAAC,UAAU,CAAC,KAAK,KAAK,EAAC;YAC9F,IAAI,UAAU,IAAI,UAAU,CAAC,MAAM,GAAG,CAAC,EAAE;gBACrC,KAAK,IAAI,OAAO,IAAI,UAAU,EAAE;;wBACxB,GAAG,GAAG,IAAIA,WAAS,CAAC,OAAO,CAAC,KAAK,CAAC;oBACtC,GAAG,CAAC,IAAI,sBAAG,OAAO,CAAC,aAAa,EAAY,CAAC;oBAC7C,GAAG,CAAC,UAAU,GAAG,OAAO,CAAC,UAAU,CAAC;oBACpC,GAAG,CAAC,UAAU,GAAG,OAAO,CAAC,UAAU,CAAC;oBACpC,GAAG,CAAC,EAAE,GAAG,OAAO,CAAC,EAAE,CAAC;oBACpB,GAAG,CAAC,IAAI,GAAG,OAAO,CAAC,IAAI,CAAC;oBACxB,GAAG,CAAC,iBAAiB,GAAG,OAAO,CAAC,iBAAiB,CAAC;oBAClD,IAAI,OAAO,CAAC,SAAS,EAAE;wBACnB,GAAG,CAAC,SAAS,GAAG,OAAO,CAAC,SAAS,CAAC;qBACrC;yBAAM;wBACH,GAAG,CAAC,SAAS,GAAG,WAAW,CAAA;qBAC9B;oBACD,GAAG,CAAC,gBAAgB,GAAG,EAAE,CAAC;oBAC1B,IAAI,OAAO,CAAC,gBAAgB,IAAI,OAAO,CAAC,gBAAgB,CAAC,MAAM,GAAG,CAAC,EAAE;wBACjE,KAAK,IAAI,IAAI,IAAI,OAAO,CAAC,gBAAgB,EAAE;;gCACnC,SAAS,GAAG,IAAI,eAAe,CAAC,OAAO,CAAC,KAAK,EAAE,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,KAAK,CAAC;4BAEzE,GAAG,CAAC,gBAAgB,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;yBACxC;qBACJ;;oBAED,IAAI,GAAG,CAAC,SAAS,KAAK,SAAS,CAAC,gBAAgB;2BACzC,GAAG,CAAC,SAAS,KAAK,SAAS,CAAC,WAAW,EAAE;wBAC5C,cAAc,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;qBAC5B;iBACJ;aACJ;SACJ;KACJ;;;;;IAED,kBAAkB,CAAC,KAAY;;cACrB,OAAO,GAAG,IAAI,CAAC,OAAO;;YACxB,cAAc,GAAG,OAAO,CAAC,oBAAoB,EAAE;;QAEnD,IAAI,cAAc,CAAC,MAAM,GAAG,CAAC,EAAE;YAC3B,KAAK,IAAI,CAAC,GAAG,cAAc,CAAC,MAAM,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,EAAE;gBAC5C,IAAI,cAAc,CAAC,CAAC,GAAG,CAAC,CAAC,YAAY,WAAW,EAAE;oBAC9C,cAAc,CAAC,MAAM,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC;iBACnC;aACJ;SACJ;QACD,KAAK,MAAM,CAAC,IAAI,KAAK,EAAE;YACnB,IAAI,CAAC,iBAAiB,CAAC,CAAC,CAAC,CAAC;SAC7B;KACJ;;;;;;IACD,iBAAiB,CAAC,IAAS,EAAE,QAAiB;;cACpC,OAAO,GAAG,IAAI,CAAC,OAAO;;YACxB,cAAc,GAAG,OAAO,CAAC,oBAAoB,EAAE;;QAEnD,IAAI,cAAc,CAAC,MAAM,GAAG,CAAC,EAAE;YAC3B,KAAK,IAAI,CAAC,GAAG,cAAc,CAAC,MAAM,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,EAAE;gBAC5C,IAAI,cAAc,CAAC,CAAC,GAAG,CAAC,CAAC,YAAY,WAAW,EAAE;;0BACxC,CAAC,sBAAG,cAAc,CAAC,CAAC,GAAG,CAAC,CAAC,EAAe;oBAC9C,IAAI,CAAC,CAAC,YAAY,MAAM,QAAQ,GAAG,QAAQ,GAAG,IAAI,CAAC,YAAY,CAAC,EAAE;wBAC9D,cAAc,CAAC,MAAM,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC;qBACnC;iBACJ;aACJ;SACJ;QACD,IAAI,IAAI,EAAE;;gBACF,MAAM,sBAAG,IAAI,CAAC,gBAAgB,EAAS;;gBACvC,QAAQ,GAAG,IAAI,KAAK,EAAmB;YAC3C,IAAI,MAAM,IAAI,MAAM,CAAC,MAAM,GAAG,CAAC,EAAE;gBAC7B,KAAK,IAAI,IAAI,IAAI,MAAM,EAAE;;wBACjB,OAAO,GAAG,IAAI,eAAe,CAAC,OAAO,CAAC,KAAK,EAAE,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,KAAK,CAAC;oBACvE,IAAI,IAAI,CAAC,GAAG,EAAE;wBACV,OAAO,CAAC,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC;qBAC1B;yBAAM;wBACH,IAAI,IAAI,CAAC,KAAK,EAAE;4BACZ,IAAI,IAAI,CAAC,KAAK,CAAC,MAAM,IAAI,CAAC,IAAI,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,KAAK,UAAU,EAAE;gCACjE,OAAO,CAAC,GAAG,GAAG,YAAY,CAAC;6BAC9B;iCAAM;gCACH,OAAO,CAAC,GAAG,GAAG,UAAU,CAAC;6BAC5B;yBACJ;6BAAM;4BACH,OAAO,CAAC,GAAG,GAAG,UAAU,CAAC;yBAC5B;qBAEJ;oBACD,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;iBAC1B;aACJ;;kBACK,EAAE,GAAG,eAAe,CAAC,iBAAiB,EAAE;;gBAC1C,IAAI,GAAG,IAAI,WAAW,CAAC,OAAO,CAAC,KAAK,EAAE,EAAE,EAAE,IAAI,CAAC,IAAI,EAAE,QAAQ,CAAC;YAClE,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,WAAW,CAAC;YACpC,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC;YAC9B,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,YAAY,CAAC;YACtC,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,cAAc,CAAC;YAC1C,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,YAAY,CAAC;YACtC,cAAc,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;SAC7B;KACJ;;;;;IAED,sBAAsB,CAAC,gBAAuB;;cACpC,OAAO,GAAG,IAAI,CAAC,OAAO;;YACxB,cAAc,GAAG,OAAO,CAAC,oBAAoB,EAAE;;QAEnD,IAAI,cAAc,CAAC,MAAM,GAAG,CAAC,EAAE;YAC3B,KAAK,IAAI,CAAC,GAAG,cAAc,CAAC,MAAM,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,EAAE;gBAC5C,IAAI,cAAc,CAAC,CAAC,GAAG,CAAC,CAAC,YAAY,eAAe,EAAE;oBAElD,cAAc,CAAC,MAAM,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC;iBACnC;aACJ;SACJ;;QAED,IAAI,gBAAgB,IAAI,gBAAgB,CAAC,MAAM,GAAG,CAAC,EAAE;YACjD,KAAK,IAAI,CAAC,IAAI,gBAAgB,EAAE;;oBACxB,MAAM,GAAG,IAAI,eAAe,CAAC,OAAO,CAAC,KAAK,CAAC;gBAC/C,MAAM,CAAC,EAAE,GAAG,eAAe,CAAC,iBAAiB,EAAE,CAAC;gBAChD,MAAM,CAAC,IAAI,GAAG,CAAC,CAAC,IAAI,CAAC;gBACrB,MAAM,CAAC,IAAI,GAAG,CAAC,CAAC,IAAI,CAAC;gBACrB,MAAM,CAAC,YAAY,GAAG,CAAC,CAAC,YAAY,CAAC;;gBAErC,MAAM,CAAC,gBAAgB,GAAG,EAAE,CAAC;gBAC7B,IAAI,CAAC,CAAC,gBAAgB,IAAI,CAAC,CAAC,gBAAgB,CAAC,MAAM,GAAG,CAAC,EAAE;oBACrD,KAAK,IAAI,CAAC,IAAI,CAAC,CAAC,gBAAgB,EAAE;;4BAC1B,SAAS,GAAG,IAAI,eAAe,CAAC,OAAO,CAAC,KAAK,EAAE,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC,KAAK,EAAE,CAAC,CAAC,SAAS,EAAE,CAAC,CAAC,GAAG,IAAI,YAAY,CAAC;wBACvG,MAAM,CAAC,gBAAgB,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;qBAC3C;iBACJ;gBAED,cAAc,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;aAC/B;SACJ;KACJ;;;;;;IAOD,4BAA4B,CAAC,KAAU;;cAC7B,OAAO,GAAG,IAAI,CAAC,OAAO;;YACxB,cAAc,GAAG,OAAO,CAAC,oBAAoB,EAAE;QACnD,IAAI,cAAc,CAAC,MAAM,GAAG,CAAC,EAAE;YAC3B,KAAK,IAAI,CAAC,GAAG,cAAc,CAAC,MAAM,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,EAAE;gBAC5C,IAAI,cAAc,CAAC,CAAC,GAAG,CAAC,CAAC,YAAY,eAAe,EAAE;oBAElD,cAAc,CAAC,MAAM,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC;iBACnC;aACJ;SACJ;;YACG,KAAK,GAAG,IAAI,eAAe,CAAC,OAAO,CAAC,KAAK,CAAC;QAC9C,IAAG,QAAO,KAAK,CAAC,KAAK,QAAQ,IAAG,KAAK,IAAI,IAAI,EAAE;YAC7C,KAAK,GAAG,IAAI,eAAe,CAAC,OAAO,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC;SACnD;aAAM;YACL,KAAK,GAAG,IAAI,eAAe,CAAC,OAAO,CAAC,KAAK,EAAE,KAAK,CAAC,QAAQ,CAAC,EAAE,KAAK,CAAC,CAAC;SACpE;QACD,cAAc,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;KAC9B;;;;;;;IAED,mBAAmB,CAAC,MAAc,EAAE,QAAiB,EAAE,IAAa;;cAC1D,OAAO,GAAG,IAAI,CAAC,OAAO;;YACxB,cAAc,GAAG,OAAO,CAAC,oBAAoB,EAAE;QACnD,IAAI,cAAc,KAAK,IAAI,IAAI,cAAc,CAAC,MAAM,GAAG,CAAC,EAAE;YACtD,KAAK,IAAI,CAAC,IAAI,cAAc,EAAE;gBAC1B,IAAI,cAAc,CAAC,CAAC,CAAC,YAAY,aAAa,EAAE;oBAC5C,oBAAC,cAAc,CAAC,CAAC,CAAC,IAAmB,UAAU,GAAG,MAAM,CAAC;oBACzD,oBAAC,cAAc,CAAC,CAAC,CAAC,IAAmB,QAAQ,GAAG,QAAQ,CAAC;oBACzD,oBAAC,cAAc,CAAC,CAAC,CAAC,IAAmB,SAAS,GAAG,IAAI,CAAC;oBACtD,OAAO;iBACV;aACJ;SACJ;KACJ;;;;;IAED,0BAA0B,CAAC,KAAa;;cAC9B,OAAO,GAAG,IAAI,CAAC,OAAO;;YACxB,cAAc,GAAG,OAAO,CAAC,oBAAoB,EAAE;;cAC7C,eAAe,sBAAG,cAAc,CAAC,IAAI;;;;QAAC,CAAC,IAAI,CAAC,CAAC,SAAS,KAAK,eAAe,CAAC,WAAW,EAAC,EAAmB;QAChH,IAAI,eAAe,IAAI,eAAe,CAAC,KAAK,EAAE;YAC1C,OAAO;SACV;;cACK,KAAK,GAAG,IAAI,eAAe,CAAC,OAAO,CAAC,KAAK,EAAE,KAAK,CAAC;QACvD,cAAc,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;KAC9B;;;;;;IAKD,uBAAuB,CAAC,QAAe;;cAC7B,OAAO,GAAG,IAAI,CAAC,OAAO;;YACxB,cAAc,GAAG,OAAO,CAAC,oBAAoB,EAAE;;QAEnD,IAAI,cAAc,CAAC,MAAM,GAAG,CAAC,EAAE;YAC3B,KAAK,IAAI,CAAC,GAAG,cAAc,CAAC,MAAM,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,EAAE;gBAC5C,IAAI,cAAc,CAAC,CAAC,GAAG,CAAC,CAAC,YAAYA,WAAS;uBACvC,oBAAC,cAAc,CAAC,CAAC,GAAG,CAAC,CAAC,IAAe,IAAI,KAAK,QAAQ,CAAC,YAAY,EAAE;oBACxE,cAAc,CAAC,MAAM,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC;iBACnC;aACJ;SACJ;;QAED,IAAI,QAAQ,IAAI,QAAQ,CAAC,MAAM,GAAG,CAAC,EAAE;YACjC,KAAK,IAAI,OAAO,IAAI,QAAQ,EAAE;;oBACtB,GAAG,GAAG,IAAIA,WAAS,CAAC,OAAO,CAAC,KAAK,CAAC;gBACtC,GAAG,CAAC,IAAI,sBAAG,OAAO,CAAC,aAAa,EAAY,CAAC;gBAC7C,GAAG,CAAC,UAAU,GAAG,OAAO,CAAC,UAAU,CAAC;gBACpC,GAAG,CAAC,UAAU,GAAG,OAAO,CAAC,UAAU,CAAC;gBACpC,GAAG,CAAC,EAAE,GAAG,OAAO,CAAC,EAAE,CAAC;gBACpB,GAAG,CAAC,IAAI,GAAG,OAAO,CAAC,IAAI,CAAC;gBACxB,GAAG,CAAC,iBAAiB,GAAG,OAAO,CAAC,iBAAiB,CAAC;gBAClD,GAAG,CAAC,gBAAgB,GAAG,EAAE,CAAC;gBAC1B,IAAI,OAAO,CAAC,gBAAgB,IAAI,OAAO,CAAC,gBAAgB,CAAC,MAAM,GAAG,CAAC,EAAE;oBACjE,KAAK,IAAI,IAAI,IAAI,OAAO,CAAC,gBAAgB,EAAE;;4BACnC,SAAS,GAAG,IAAI,eAAe,CAAC,OAAO,CAAC,KAAK,EAAE,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,KAAK,CAAC;wBAEzE,GAAG,CAAC,gBAAgB,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;qBACxC;iBACJ;gBAED,cAAc,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;aAC5B;SACJ;KACJ;;;;;IAED,oBAAoB,CAAC,MAAe;;cAC1B,OAAO,GAAG,IAAI,CAAC,OAAO;;YACxB,cAAc,GAAG,OAAO,CAAC,oBAAoB,EAAE;QACnD,IAAI,cAAc,KAAK,IAAI,IAAI,cAAc,CAAC,MAAM,GAAG,CAAC,EAAE;YACtD,KAAK,IAAI,CAAC,IAAI,cAAc,EAAE;gBAC1B,IAAI,cAAc,CAAC,CAAC,CAAC,YAAY,aAAa,EAAE;oBAC5C,oBAAC,cAAc,CAAC,CAAC,CAAC,IAAmB,cAAc,GAAG,MAAM,CAAC;oBAC7D,OAAO;iBACV;aACJ;SACJ;KACJ;;;;;IAED,oBAAoB,CAAC,QAAiB;;cAC5B,OAAO,GAAG,IAAI,CAAC,OAAO;;YACxB,cAAc,GAAG,OAAO,CAAC,oBAAoB,EAAE;QACnD,IAAI,cAAc,KAAK,IAAI,IAAI,cAAc,CAAC,MAAM,GAAG,CAAC,EAAE;YACtD,KAAK,IAAI,CAAC,IAAI,cAAc,EAAE;gBAC1B,IAAI,cAAc,CAAC,CAAC,CAAC,YAAY,aAAa,EAAE;oBAC5C,oBAAC,cAAc,CAAC,CAAC,CAAC,IAAmB,cAAc,GAAG,QAAQ,CAAC;oBAC/D,OAAO;iBACV;aACJ;SACJ;KACJ;;;;;;;IAED,eAAe,CAAC,SAAoB,EAAE,OAAY,EAAE,OAAY;;QAE5D,QAAQ,SAAS;YACb,KAAK,SAAS,CAAC,MAAM;gBACjB,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,IAAI,aAAa,CAAC,QAAQ,CAAC,QAAQ,EAAE,MAAM,EAAE;oBACjE,IAAI,EAAE,SAAS;oBACf,KAAK,EAAE,MAAM;oBACb,OAAO,EAAG,WAAW,CAAC,GAAG,CAAC,YAAY,CAAC;iBAC1C,CAAC,CAAC,CAAC;gBACJ,MAAM;YACV,KAAK,SAAS,CAAC,gBAAgB;gBAC3B,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,IAAI,aAAa,CAAC,QAAQ,CAAC,QAAQ,EAAE,MAAM,EAAE;oBACjE,IAAI,EAAE,SAAS;oBACf,KAAK,EAAE,MAAM;oBACb,OAAO,EAAG,WAAW,CAAC,GAAG,CAAC,cAAc,CAAC;iBAC5C,CAAC,CAAC,CAAC;gBACJ,MAAM;YACV,KAAK,SAAS,CAAC,WAAW;gBACtB,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,IAAI,aAAa,CAAC,QAAQ,CAAC,QAAQ,EAAE,MAAM,EAAE;oBACjE,IAAI,EAAE,SAAS;oBACf,KAAK,EAAE,MAAM;oBACb,OAAO,EAAG,WAAW,CAAC,GAAG,CAAC,gBAAgB,CAAC;iBAC9C,CAAC,CAAC,CAAC;gBACJ,MAAM;SACb;;cACK,OAAO,GAAG,IAAI,CAAC,OAAO;;YACxB,cAAc,GAAG,OAAO,CAAC,oBAAoB,EAAE;QACnD,IAAI,cAAc,KAAK,IAAI,IAAI,cAAc,CAAC,MAAM,GAAG,CAAC,EAAE;;kBAChD,UAAU,sBAAG,cAAc,CAAC,MAAM;;;;YAAC,CAAC,IAAI,CAAC,YAAY,aAAa,EAAC,EAAmB;;YAE5F,UAAU,CAAC,CAAC,CAAC,CAAC,SAAS,GAAG,SAAS,CAAC;;YAIpC,IAAI,cAAc,CAAC,MAAM,GAAG,CAAC,EAAE;gBAC3B,KAAK,IAAI,CAAC,GAAG,cAAc,CAAC,MAAM,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,EAAE;oBAC5C,IAAI,cAAc,CAAC,CAAC,GAAG,CAAC,CAAC,YAAYA,WAAS;2BACvC,oBAAC,cAAc,CAAC,CAAC,GAAG,CAAC,CAAC,IAAe,IAAI,KAAK,QAAQ,CAAC,YAAY;2BACnE,oBAAC,cAAc,CAAC,CAAC,GAAG,CAAC,CAAC,IAAe,IAAI,KAAK,QAAQ,CAAC,QAAQ,EAAE;wBACpE,cAAc,CAAC,MAAM,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC;qBACnC;iBACJ;aACJ;YAED,OAAO,IAAI,OAAO,CAAC,OAAO;;;;YAAC,OAAO;;sBACxB,GAAG,GAAG,IAAIA,WAAS,CAAC,OAAO,CAAC,KAAK,CAAC;gBACxC,GAAG,CAAC,IAAI,sBAAG,OAAO,CAAC,aAAa,EAAY,CAAC;gBAC7C,GAAG,CAAC,UAAU,GAAG,OAAO,CAAC,UAAU,CAAC;gBACpC,GAAG,CAAC,UAAU,GAAG,OAAO,CAAC,UAAU,CAAC;gBACpC,GAAG,CAAC,EAAE,GAAG,OAAO,CAAC,EAAE,CAAC;gBACpB,GAAG,CAAC,IAAI,GAAG,OAAO,CAAC,IAAI,CAAC;gBACxB,GAAG,CAAC,iBAAiB,GAAG,OAAO,CAAC,iBAAiB,CAAC;gBAClD,GAAG,CAAC,gBAAgB,GAAG,EAAE,CAAC;gBAC1B,IAAI,OAAO,CAAC,SAAS,EAAE;oBACnB,GAAG,CAAC,SAAS,GAAG,OAAO,CAAC,SAAS,CAAC;iBACrC;qBAAM;oBACH,GAAG,CAAC,SAAS,GAAG,WAAW,CAAA;iBAC9B;gBAED,OAAO,CAAC,gBAAgB,IAAI,OAAO,CAAC,gBAAgB,CAAC,OAAO;;;;gBAAC,CAAC,IAAI;;wBAC1D,SAAS,GAAG,IAAI,eAAe,CAAC,OAAO,CAAC,KAAK,EAAE,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,KAAK,CAAC;oBACzE,GAAG,CAAC,gBAAgB,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;iBACxC,EAAC,CAAC;gBAEH,cAAc,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;aAC5B,EAAC,CAAC;;kBAEG,QAAQ,sBAAG,cAAc,CAAC,MAAM;;;;YAAC,CAAC,IAAI,CAAC,YAAYA,WAAS,EAAC,EAAe;;YAElF,IAAI,SAAS,KAAK,SAAS,CAAC,WAAW,EAAE;;;;;;gBAMrC,KAAK,IAAI,CAAC,GAAG,cAAc,CAAC,MAAM,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,EAAE;oBAC5C,IAAI,cAAc,CAAC,CAAC,GAAG,CAAC,CAAC,YAAYA,WAAS,EAAE;;8BACtC,GAAG,sBAAG,cAAc,CAAC,CAAC,GAAG,CAAC,CAAC,EAAa;wBAC9C,IACI,GAAG,CAAC,IAAI,KAAK,QAAQ,CAAC,YAAY;+BAC/B,GAAG,CAAC,IAAI,KAAK,QAAQ,CAAC,QAAQ;gCAC7B,GAAG,CAAC,SAAS,KAAK,SAAS,CAAC,WAAW,IAAI,GAAG,CAAC,SAAS,KAAK,aAAa,CAAC,EACjF;4BACE,cAAc,CAAC,MAAM,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC;yBACnC;qBACJ;iBACJ;aACJ;;YAED,IAAI,SAAS,KAAK,SAAS,CAAC,MAAM,EAAE;;;sBAE1B,MAAM,GAAG,QAAQ,CAAC,MAAM;;;;gBAAC,CAAC,CAAY,KAAK,eAAe,CAAC,aAAa,CAAC,CAAC,CAAC,UAAU,CAAC,EAAC;gBAC7F,IAAI,MAAM,IAAI,MAAM,CAAC,MAAM,GAAG,CAAC,EAAE;;oBAE7B,KAAK,IAAI,CAAC,GAAG,cAAc,CAAC,MAAM,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,EAAE;wBAC5C,IAAI,cAAc,CAAC,CAAC,GAAG,CAAC,CAAC,YAAYA,WAAS,EAAE;;kCACtC,GAAG,sBAAG,cAAc,CAAC,CAAC,GAAG,CAAC,CAAC,EAAa;4BAC9C,IACI,eAAe,CAAC,aAAa,CAAC,GAAG,CAAC,UAAU,CAAC;mCAC1C,GAAG,CAAC,SAAS,KAAK,SAAS,CAAC,gBAAgB;mCAC5C,GAAG,CAAC,SAAS,KAAK,SAAS,CAAC,WAAW,EAC5C;gCACE,cAAc,CAAC,MAAM,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC;6BACnC;yBACJ;qBACJ;iBACJ;;aAEJ;iBAAM,IAAI,SAAS,KAAK,SAAS,CAAC,gBAAgB,EAAE;;;;;;;;;oBAQ7C,YAAY,GAAG,KAAK;;sBAClB,IAAI,GAAG,OAAO;gBACpB,IAAI,IAAI,IAAI,IAAI,CAAC,MAAM,GAAG,CAAC,EAAE;;oBAEzB,KAAK,MAAM,CAAC,IAAI,IAAI,EAAE;wBAClB,IAAI,CAAC,CAAC,SAAS,KAAK,iBAAiB,EAAE;4BACnC,YAAY,GAAG,IAAI,CAAC;4BACpB,MAAM;yBACT;qBACJ;;oBAED,IAAI,YAAY,EAAE;wBACd,KAAK,IAAI,CAAC,GAAG,cAAc,CAAC,MAAM,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,EAAE;4BAC5C,IAAI,cAAc,CAAC,CAAC,GAAG,CAAC,CAAC,YAAYA,WAAS,EAAE;;sCACtC,GAAG,sBAAG,cAAc,CAAC,CAAC,GAAG,CAAC,CAAC,EAAa;gCAC9C,IAAI,GAAG,CAAC,IAAI,KAAK,QAAQ,CAAC,YAAY;uCAC/B,GAAG,CAAC,IAAI,KAAK,QAAQ,CAAC,QAAQ;wCAC7B,GAAG,CAAC,SAAS,KAAK,SAAS,CAAC,MAAM;2CAC/B,GAAG,CAAC,SAAS,KAAK,SAAS,CAAC,WAAW;2CACvC,GAAG,CAAC,SAAS,KAAK,WAAW,CAAC,EAAE;oCACvC,cAAc,CAAC,MAAM,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC;iCACnC;6BACJ;yBACJ;qBACJ;iBACJ;aACJ;SACJ;QACD,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,IAAI,aAAa,CAAC,SAAS,CAAC,YAAY,CAAC,CAAC,CAAC;KACtE;;;;;IAED,sBAAsB,CAAC,SAAgB;;YAC/B,OAAO,GAAG,IAAI,CAAC,OAAO;;YACtB,OAAO,GAAG,OAAO,CAAC,cAAc,EAAE;;cAChC,cAAc,GAAG,OAAO,CAAC,oBAAoB,EAAE;QACrD,IAAI,OAAO,IAAI,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE;YAC/B,KAAK,MAAM,CAAC,IAAI,OAAO,EAAE;gBACrB,IAAI,CAAC,YAAY,gBAAgB,IAAI,CAAC,CAAC,QAAQ,CAAC,QAAQ,KAAK,SAAS,CAAC,UAAU,EAAE;oBAC/E,IAAI,CAAC,CAAC,eAAe,IAAI,CAAC,CAAC,eAAe,CAAC,GAAG,KAAK,WAAW,EAAE;;8BACtD,CAAC,GAAG,cAAc,CAAC,SAAS;;;;wBAAC,CAAC,KAAK,CAAC,YAAYA,WAAS,IAAI,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC,eAAe,CAAC,KAAK,CAAC,EAAC;wBACrG,cAAc,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;qBAC/B;oBACD,OAAO,CAAC,gBAAgB,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;iBAClC;aAEJ;SACJ;QAED,IAAI,SAAS,KAAK,IAAI,IAAI,SAAS,CAAC,MAAM,GAAG,CAAC,EAAE;YAC5C,KAAK,MAAM,CAAC,IAAI,SAAS,EAAE;;sBACjB,QAAQ,GAAG,IAAI,QAAQ,CAAC,OAAO,CAAC,KAAK,CAAC;gBAC5C,QAAQ,CAAC,QAAQ,GAAG,SAAS,CAAC,SAAS,CAAC;gBACxC,QAAQ,CAAC,SAAS,GAAG,CAAC,CAAC,SAAS,CAAC;gBACjC,QAAQ,CAAC,WAAW,GAAG,CAAC,CAAC,WAAW,CAAC;;sBAC/B,UAAU,GAAG,IAAI,gBAAgB,CAAC,OAAO,CAAC,KAAK,CAAC;gBACtD,UAAU,CAAC,EAAE,GAAG,CAAC,CAAC,EAAE,CAAC;gBACrB,UAAU,CAAC,IAAI,GAAG,CAAC,CAAC,IAAI,CAAC;gBACzB,UAAU,CAAC,aAAa,GAAG,CAAC,CAAC,aAAa,CAAC;gBAC3C,UAAU,CAAC,QAAQ,GAAG,QAAQ,CAAC;gBAE/B,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,KAAK,EAAE;;0BACZ,eAAe,GAAG,IAAI,eAAe,CAAC,OAAO,CAAC,KAAK,CAAC;oBAC1D,eAAe,CAAC,YAAY,GAAG,CAAC,CAAC,IAAI,CAAC;oBACtC,eAAe,CAAC,YAAY,GAAG,CAAC,CAAC,aAAa,CAAC;oBAC/C,eAAe,CAAC,GAAG,GAAG,CAAC,CAAC,GAAG,CAAC;oBAC5B,eAAe,CAAC,KAAK,GAAG,CAAC,CAAC,KAAK,CAAC;oBAChC,eAAe,CAAC,SAAS,GAAG,CAAC,CAAC,SAAS,CAAC;oBAExC,UAAU,CAAC,eAAe,GAAG,eAAe,CAAC;oBAE7C,IAAI,eAAe,CAAC,GAAG,KAAK,WAAW,EAAE;;8BAC/B,CAAC,GAAG,CAAC,CAAC,SAAS;wBACrB,IAAI,CAAC,EAAE;;gCACC,GAAG,GAAG,IAAIA,WAAS,CAAC,OAAO,CAAC,KAAK,CAAC;4BACtC,GAAG,CAAC,UAAU,GAAG,CAAC,CAAC,UAAU,CAAC;4BAC9B,GAAG,CAAC,UAAU,GAAG,CAAC,CAAC,UAAU,CAAC;4BAC9B,GAAG,CAAC,EAAE,GAAG,CAAC,CAAC,EAAE,CAAC;4BACd,GAAG,CAAC,IAAI,GAAG,CAAC,CAAC,IAAI,CAAC;4BAClB,GAAG,CAAC,gBAAgB,GAAG,IAAI,KAAK,EAAE,CAAC;4BACnC,IAAI,CAAC,CAAC,gBAAgB,IAAI,CAAC,CAAC,gBAAgB,CAAC,MAAM,GAAG,CAAC,EAAE;gCACrD,KAAK,IAAI,CAAC,IAAI,CAAC,CAAC,gBAAgB,EAAE;;wCAC1B,SAAS,GAAG,IAAI,eAAe,CAAC,OAAO,CAAC,KAAK,EAAE,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC,KAAK,CAAC;oCACnE,SAAS,CAAC,GAAG,GAAG,CAAC,CAAC,GAAG,CAAC;oCACtB,GAAG,CAAC,gBAAgB,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;iCACxC;6BACJ;4BAED,cAAc,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;yBAC5B;qBACJ;iBACJ;gBAED,OAAO,CAAC,aAAa,CAAC,UAAU,CAAC,CAAC;aACrC;SACJ;KACJ;;;;;IAED,6BAA6B,CAAC,SAAc;;cAClC,OAAO,GAAG,IAAI,CAAC,OAAO;;YACxB,cAAc,GAAG,OAAO,CAAC,oBAAoB,EAAE;QACnD,IAAI,cAAc,CAAC,MAAM,GAAG,CAAC,EAAE;YAC3B,KAAK,IAAI,CAAC,GAAG,cAAc,CAAC,MAAM,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,EAAE;gBAC5C,IAAI,cAAc,CAAC,CAAC,GAAG,CAAC,CAAC,YAAY,gBAAgB,EAAE;oBACnD,cAAc,CAAC,MAAM,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC;iBACnC;aACJ;SACJ;;cACK,aAAa,sBAAG,SAAS,EAAwB;QACvD,IAAI,aAAa,EAAE;;kBACT,OAAO,GAAG,IAAI,gBAAgB,CAAC,OAAO,CAAC,KAAK,CAAC;YACnD,OAAO,CAAC,MAAM,GAAG,aAAa,CAAC,MAAM,CAAC;YACtC,OAAO,CAAC,GAAG,GAAG,aAAa,CAAC,GAAG,CAAC;YAChC,OAAO,CAAC,OAAO,GAAG,aAAa,CAAC,OAAO,CAAC;YACxC,OAAO,CAAC,QAAQ,GAAG,aAAa,CAAC,QAAQ,CAAC;YAC1C,OAAO,CAAC,gBAAgB,GAAG,IAAI,KAAK,EAA8B,CAAC;YACnE,IAAI,aAAa,CAAC,gBAAgB,IAAI,aAAa,CAAC,gBAAgB,CAAC,MAAM,GAAG,CAAC,EAAE;gBAC7E,KAAK,MAAM,CAAC,IAAI,aAAa,CAAC,gBAAgB,EAAE;oBAC5C,IAAI,CAAC,CAAC,iBAAiB,KAAK,4BAA4B,IAAI,CAAC,CAAC,CAAC,iBAAiB,EAAE;;8BACxE,SAAS,sBAAG,CAAC,EAA8B;;8BAC3C,WAAW,GAAG,IAAI,0BAA0B,CAAC,OAAO,CAAC,KAAK,CAAC;wBACjE,WAAW,CAAC,EAAE,GAAG,eAAe,CAAC,iBAAiB,EAAE,CAAC;wBACrD,WAAW,CAAC,YAAY,sBAAG,SAAS,CAAC,YAAY,EAAgB,CAAC;wBAClE,WAAW,CAAC,YAAY,GAAG,SAAS,CAAC,YAAY,CAAC;wBAClD,WAAW,CAAC,QAAQ,GAAG,SAAS,CAAC,QAAQ,CAAC;wBAC1C,WAAW,CAAC,iBAAiB,GAAG,SAAS,CAAC,iBAAiB,GAAG,SAAS,CAAC,iBAAiB,GAAG,4BAA4B,CAAC;wBACzH,WAAW,CAAC,OAAO,GAAG,SAAS,CAAC,OAAO,CAAC;wBACxC,WAAW,CAAC,OAAO,GAAG,SAAS,CAAC,OAAO,CAAC;wBACxC,WAAW,CAAC,QAAQ,GAAG,SAAS,CAAC,QAAQ,CAAC;wBAC1C,WAAW,CAAC,QAAQ,GAAG,SAAS,CAAC,QAAQ,CAAC;wBAC1C,WAAW,CAAC,YAAY,GAAG,SAAS,CAAC,YAAY,CAAC;wBAClD,WAAW,CAAC,WAAW,GAAG,SAAS,CAAC,WAAW,CAAC;wBAChD,WAAW,CAAC,SAAS,GAAG,SAAS,CAAC,SAAS,CAAC;wBAC5C,WAAW,CAAC,aAAa,GAAG,SAAS,CAAC,aAAa,CAAC;wBACpD,IAAI,SAAS,CAAC,kBAAkB,EAAE;;kCACxB,kBAAkB,GAAG,IAAI,kBAAkB,CAAC,OAAO,CAAC,KAAK,CAAC;4BAChE,kBAAkB,CAAC,IAAI,GAAG,SAAS,CAAC,kBAAkB,CAAC,IAAI,CAAC;4BAC5D,kBAAkB,CAAC,OAAO,GAAG,SAAS,CAAC,kBAAkB,CAAC,OAAO,CAAC;4BAClE,kBAAkB,CAAC,mBAAmB,GAAG,IAAI,KAAK,EAAE,CAAC;4BACrD,IAAI,SAAS,CAAC,kBAAkB,CAAC,mBAAmB,IAAI,SAAS,CAAC,kBAAkB,CAAC,mBAAmB,CAAC,MAAM,GAAG,CAAC,EAAE;gCACjH,KAAK,MAAM,CAAC,IAAI,SAAS,CAAC,kBAAkB,CAAC,mBAAmB,EAAE;;0CACxD,QAAQ,GAAG,IAAI,kBAAkB,CAAC,OAAO,CAAC,KAAK,CAAC;oCACtD,QAAQ,CAAC,IAAI,GAAG,CAAC,CAAC,IAAI,CAAC;oCACvB,QAAQ,CAAC,KAAK,GAAG,CAAC,CAAC,KAAK,CAAC;oCACzB,QAAQ,CAAC,GAAG,GAAG,CAAC,CAAC,GAAG,CAAC;oCACrB,kBAAkB,CAAC,mBAAmB,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;iCACzD;6BACJ;4BACD,WAAW,CAAC,kBAAkB,GAAG,kBAAkB,CAAC;yBACvD;wBACD,OAAO,CAAC,gBAAgB,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;qBAC9C;yBAAM,IAAI,CAAC,CAAC,iBAAiB,KAAK,2BAA2B,EAAE;;8BACtD,SAAS,sBAAG,CAAC,EAA6B;;8BAC1C,UAAU,GAAG,IAAI,yBAAyB,CAAC,OAAO,CAAC,KAAK,CAAC;wBAC/D,UAAU,CAAC,EAAE,GAAG,eAAe,CAAC,iBAAiB,EAAE,CAAC;wBACpD,UAAU,CAAC,YAAY,sBAAG,SAAS,CAAC,YAAY,EAAgB,CAAC;wBACjE,UAAU,CAAC,YAAY,GAAG,SAAS,CAAC,YAAY,CAAC;wBACjD,UAAU,CAAC,QAAQ,GAAG,SAAS,CAAC,QAAQ,CAAC;wBACzC,UAAU,CAAC,iBAAiB,GAAG,SAAS,CAAC,iBAAiB,GAAG,SAAS,CAAC,iBAAiB,GAAG,2BAA2B,CAAC;wBACvH,UAAU,CAAC,cAAc,GAAG,SAAS,CAAC,cAAc,CAAC;wBACrD,UAAU,CAAC,OAAO,GAAG,SAAS,CAAC,OAAO,CAAC;wBACvC,OAAO,CAAC,gBAAgB,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;qBAC7C;iBACJ;aACJ;YACD,cAAc,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;SAChC;KACJ;;;;;IAED,2BAA2B,CAAC,OAAc;;cAChC,OAAO,GAAG,IAAI,CAAC,OAAO;;YACxB,cAAc,GAAG,OAAO,CAAC,oBAAoB,EAAE;QACnD,IAAI,cAAc,CAAC,MAAM,GAAG,CAAC,EAAE;YAC3B,KAAK,IAAI,CAAC,GAAG,cAAc,CAAC,MAAM,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,EAAE;gBAC5C,IAAI,cAAc,CAAC,CAAC,GAAG,CAAC,CAAC,YAAY,aAAa,EAAE;oBAChD,cAAc,CAAC,MAAM,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC;iBACnC;aACJ;SACJ;QACD,IAAI,OAAO,IAAI,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE;YAC/B,KAAK,IAAI,CAAC,IAAI,OAAO,EAAE;;sBACb,aAAa,GAAG,IAAI,aAAa,CAAC,OAAO,CAAC,KAAK,CAAC;gBACtD,aAAa,CAAC,QAAQ,GAAG,CAAC,CAAC,QAAQ,CAAC;gBACpC,aAAa,CAAC,QAAQ,GAAG,CAAC,CAAC,QAAQ,CAAC;gBACpC,aAAa,CAAC,OAAO,GAAG,CAAC,CAAC,OAAO,CAAC;gBAClC,aAAa,CAAC,OAAO,GAAG,CAAC,CAAC,OAAO,CAAC;;;gBAGlC,CAAC,CAAC,SAAS,GAAG,CAAC,CAAC,SAAS,CAAC,MAAM;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,IAAI,EAAC,CAAC;gBAC9C,IAAI,CAAC,CAAC,SAAS,IAAI,CAAC,CAAC,SAAS,CAAC,MAAM,GAAG,CAAC,EAAE;;0BACjC,SAAS,GAAG,CAAC,CAAC,SAAS,CAAC,MAAM;;;;oBAAC,CAAC,IAAI,CAAC,CAAC,IAAI,KAAK,iBAAiB;4BAC9D,CAAC,CAAC,IAAI,KAAK,oBAAoB,IAAI,CAAC,CAAC,kBAAkB,KAAK,6BAA6B,CAAC,EAAC;;0BAC7F,YAAY,GAAG,CAAC,CAAC,SAAS,CAAC,MAAM;;;;oBAAC,CAAC,IAAI,CAAC,CAAC,IAAI,KAAK,qBAAqB,IAAI,CAAC,CAAC,IAAI,KAAK,qBAAqB;4BACzG,CAAC,CAAC,IAAI,KAAK,oBAAoB,IAAI,CAAC,CAAC,kBAAkB,KAAK,6BAA6B,CAAC,EAAC;oBACnG,IAAI,SAAS,IAAI,SAAS,CAAC,MAAM,GAAG,CAAC,EAAE;;4BAC/B,QAAQ,GAAG,EAAE;;4BACb,YAAY,GAAG,EAAE;wBACrB,KAAK,MAAM,CAAC,IAAI,SAAS,EAAE;4BACvB,IAAI,CAAC,CAAC,IAAI,KAAK,oBAAoB,EAAE;gCACjC,QAAQ,KAAK,CAAC,CAAC,kBAAkB,GAAG,GAAG,CAAC,CAAC;gCACzC,IAAI,CAAC,CAAC,kBAAkB,KAAK,iBAAiB,EAAE;oCAC5C,YAAY,IAAI,QAAQ,CAAA;iCAC3B;qCAAM,IAAI,CAAC,CAAC,kBAAkB,KAAK,qBAAqB,EAAE;oCACvD,YAAY,IAAI,QAAQ,CAAA;iCAC3B;6BACJ;iCAAM,IAAI,CAAC,CAAC,IAAI,KAAK,iBAAiB,EAAE;gCACrC,QAAQ,KAAK,CAAC,CAAC,OAAO,GAAG,GAAG,CAAC,CAAC;gCAC9B,YAAY,KAAK,CAAC,CAAC,SAAS,GAAG,GAAG,CAAC,CAAC;6BACvC;yBACJ;wBACD,IAAI,QAAQ,EAAE;4BACV,QAAQ,GAAG,QAAQ,CAAC,SAAS,CAAC,CAAC,EAAE,QAAQ,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;yBACzD;wBACD,IAAI,YAAY,EAAE;4BACd,YAAY,GAAG,YAAY,CAAC,SAAS,CAAC,CAAC,EAAE,YAAY,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;yBACrE;wBACD,aAAa,CAAC,QAAQ,GAAG,QAAQ,CAAC;wBAClC,aAAa,CAAC,YAAY,GAAG,YAAY,CAAC;qBAC7C;oBACD,IAAI,YAAY,IAAI,YAAY,CAAC,MAAM,GAAG,CAAC,EAAE;;8BACnC,mBAAmB,GAAG,IAAI,KAAK,EAAyB;wBAC9D,KAAK,MAAM,CAAC,IAAI,YAAY,EAAE;4BAC1B,IAAI,CAAC,CAAC,IAAI,KAAK,oBAAoB,EAAE;;oCAC7B,gBAAgB,GAAG,IAAI,qCAAqC,CAAC,OAAO,CAAC,KAAK,CAAC;gCAC/E,gBAAgB,CAAC,EAAE,GAAG,eAAe,CAAC,iBAAiB,EAAE,CAAC;gCAC1D,gBAAgB,CAAC,aAAa,GAAG,CAAC,CAAC,aAAa,CAAC;gCACjD,gBAAgB,CAAC,eAAe,GAAG,CAAC,CAAC,eAAe,CAAC;gCACrD,mBAAmB,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC;6BAC9C;4BACD,IAAI,CAAC,CAAC,IAAI,KAAK,qBAAqB,EAAE;;oCAC9B,mBAAmB,GAAG,IAAI,yBAAyB,CAAC,OAAO,CAAC,KAAK,EAAE,CAAC,CAAC,mBAAmB,EAAE,CAAC,CAAC,YAAY,EAAE,CAAC,CAAC,OAAO,CAAC;gCACxH,mBAAmB,CAAC,EAAE,GAAG,eAAe,CAAC,iBAAiB,EAAE,CAAC;gCAC7D,mBAAmB,CAAC,GAAG,GAAG,YAAY,CAAC;gCACvC,mBAAmB,CAAC,OAAO,GAAG,CAAC,CAAC,OAAO,CAAC;gCACxC,mBAAmB,CAAC,IAAI,CAAC,mBAAmB,CAAC,CAAC;6BACjD;4BACD,IAAI,CAAC,CAAC,IAAI,KAAK,qBAAqB,EAAE;;oCAC9B,eAAe,GAAG,IAAI,6BAA6B,CAAC,OAAO,CAAC,KAAK,EAAE,CAAC,CAAC,UAAU,EAAE,CAAC,CAAC,YAAY,CAAC;gCACpG,eAAe,CAAC,EAAE,GAAG,eAAe,CAAC,iBAAiB,EAAE,CAAC;gCACzD,eAAe,CAAC,YAAY,GAAG,CAAC,CAAC,YAAY,CAAC;gCAC9C,IAAI,CAAC,CAAC,YAAY,KAAK,GAAG,EAAE;oCACxB,eAAe,CAAC,KAAK,GAAG,CAAC,CAAC,KAAK,CAAC;oCAChC,eAAe,CAAC,OAAO,GAAG,CAAC,CAAC,OAAO,CAAC;iCACvC;gCACD,mBAAmB,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;6BAC7C;yBACJ;wBACD,aAAa,CAAC,mBAAmB,GAAG,mBAAmB,CAAC;qBAC3D;iBACJ;gBAED,IAAI,CAAC,CAAC,kBAAkB,EAAE;;0BAChB,kBAAkB,GAAG,IAAI,kBAAkB,CAAC,OAAO,CAAC,KAAK,CAAC;oBAChE,kBAAkB,CAAC,IAAI,GAAG,CAAC,CAAC,kBAAkB,CAAC,IAAI,CAAC;oBACpD,kBAAkB,CAAC,OAAO,GAAG,CAAC,CAAC,kBAAkB,CAAC,OAAO,CAAC;oBAC1D,kBAAkB,CAAC,mBAAmB,GAAG,IAAI,KAAK,EAAE,CAAC;oBACrD,IAAI,CAAC,CAAC,kBAAkB,CAAC,mBAAmB,IAAI,CAAC,CAAC,kBAAkB,CAAC,mBAAmB,CAAC,MAAM,GAAG,CAAC,EAAE;wBACjG,KAAK,MAAM,CAAC,IAAI,CAAC,CAAC,kBAAkB,CAAC,mBAAmB,EAAE;;kCAChD,QAAQ,GAAG,IAAI,kBAAkB,CAAC,OAAO,CAAC,KAAK,CAAC;4BACtD,QAAQ,CAAC,IAAI,GAAG,CAAC,CAAC,IAAI,CAAC;4BACvB,QAAQ,CAAC,KAAK,GAAG,CAAC,CAAC,KAAK,CAAC;4BACzB,QAAQ,CAAC,GAAG,GAAG,CAAC,CAAC,GAAG,CAAC;4BACrB,kBAAkB,CAAC,mBAAmB,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;yBACzD;qBACJ;oBACD,aAAa,CAAC,kBAAkB,GAAG,kBAAkB,CAAC;iBACzD;gBAED,cAAc,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;aACtC;SACJ;KACJ;;;;;IAED,mBAAmB,CAAC,aAAkB;;cAC5B,OAAO,GAAG,IAAI,CAAC,OAAO;;YACxB,cAAc,GAAG,OAAO,CAAC,oBAAoB,EAAE;QACnD,IAAI,cAAc,CAAC,MAAM,GAAG,CAAC,EAAE;YAC3B,KAAK,IAAI,CAAC,GAAG,cAAc,CAAC,MAAM,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,EAAE;gBAC5C,IAAI,cAAc,CAAC,CAAC,GAAG,CAAC,CAAC,YAAY,aAAa,EAAE;oBAChD,cAAc,CAAC,MAAM,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC;iBACnC;aACJ;SACJ;QACD,IAAI,aAAa,EAAE;;kBACT,YAAY,GAAG,IAAI,aAAa,CAAC,OAAO,CAAC,KAAK,CAAC;YACrD,YAAY,CAAC,cAAc,GAAG,aAAa,CAAC,cAAc,CAAC;YAC3D,cAAc,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;SACrC;KACJ;;;;;;IAOD,mBAAmB,CAAC,KAAY;;cACtB,OAAO,GAAG,IAAI,CAAC,OAAO;;YACxB,cAAc,GAAG,OAAO,CAAC,oBAAoB,EAAE;QACnD,KAAK,MAAM,CAAC,IAAI,KAAK,EAAE;YACnB,KAAK,MAAM,CAAC,IAAI,cAAc,EAAE;gBAC5B,IAAI,CAAC,YAAY,cAAc,IAAI,CAAC,CAAC,GAAG,KAAK,CAAC,CAAC,IAAI,EAAE;;0BAC3C,KAAK,GAAG,cAAc,CAAC,OAAO,CAAC,CAAC,CAAC;oBACvC,IAAI,KAAK,GAAG,CAAC,CAAC,EAAE;wBACZ,cAAc,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;qBACnC;iBACJ;aACJ;SACJ;;YACG,UAAU,sBAAG,KAAK,EAAO;QAC7B,IAAI,UAAU,EAAE;YACZ,UAAU,CAAC,OAAO;;;;YAAC,CAAC;;oBACZ,IAAI,GAAG,IAAI,cAAc,CAAC,OAAO,CAAC,KAAK,CAAC;gBAC5C,IAAI,CAAC,GAAG,GAAG,CAAC,CAAC,IAAI,CAAC;gBAClB,IAAI,CAAC,KAAK,GAAG,CAAC,CAAC,KAAK,CAAC;gBACrB,cAAc,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;aAC7B,EAAC,CAAC;SACN;KACJ;;;;;IAED,8BAA8B,CAAC,kBAA2B;;YAClD,cAAc,GAAG,IAAI,CAAC,OAAO,CAAC,oBAAoB,EAAE;QACxD,IAAI,cAAc,KAAK,IAAI,IAAI,cAAc,CAAC,MAAM,GAAG,CAAC,EAAE;YACtD,KAAK,IAAI,CAAC,IAAI,cAAc,EAAE;gBAC1B,IAAI,cAAc,CAAC,CAAC,CAAC,YAAY,aAAa,EAAE;oBAC5C,oBAAC,cAAc,CAAC,CAAC,CAAC,IAAmB,wBAAwB,GAAG,kBAAkB,CAAC;oBACnF,OAAO;iBACV;aACJ;SACJ;KACJ;CACJ;;;;;;ACj8CD;;;AAWA,MAAa,OAAQ,SAAQ,KAAK;;;;;;;;;IAO9B,YAAY,QAAoB,EAAE,SAA0B,EAAE,KAA8B,EAAE,UAAoC,EAAE,UAAmC,EAAE,MAAgB;QACrL,KAAK,CAAC,QAAQ,EAAE,SAAS,EAAE,KAAK,EAAE,UAAU,EAAE,UAAU,EAAE,MAAM,CAAC,CAAC;QAPtE,eAAU,GAAiB,IAAI,CAAC;;;;QAKhC,gBAAW,GAAkB,IAAI,aAAa,EAAE,CAAC;KAGhD;;;;;;;IAED,yBAAyB,CAAC,KAAa,EAAE,MAA+B,EAAE,WAAoC;QAC5G,KAAK,CAAC,yBAAyB,CAAC,KAAK,EAAE,MAAM,EAAE,WAAW,CAAC,CAAC;;;cAEtD,QAAQ,sBAAG,IAAI,CAAC,iBAAiB,EAAE,EAAc;;cACjD,GAAG,sBAAG,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,gBAAgB,EAAE,CAAC,EAAc;QACxE,GAAG,CAAC,OAAO;;;;QAAC,CAAC;YACT,IAAI,QAAQ,CAAC,QAAQ,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,OAAO,IAAI,CAAC,CAAC,OAAO,CAAC,aAAa,CAAC,QAAQ,CAAC,EAAE;gBACxE,CAAC,CAAC,QAAQ,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC,CAAC,QAAQ,EAAE,EAAE,WAAW,CAAC,WAAW,EAAE,CAAC,CAAC,OAAO,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;aAC1G;iBAAM;gBACH,CAAC,CAAC,QAAQ,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC,CAAC,QAAQ,EAAE,EAAE,WAAW,CAAC,WAAW,EAAE,CAAC,CAAC,OAAO,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;aACzG;YACD,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;SACnB,EAAC,CAAC;KACN;;;;;;IAOC,iBAAiB,CAAC,SAAoB;;cAC5B,WAAW,GAAG,IAAI,aAAa,EAAE;QACvC,WAAW,CAAC,OAAO,GAAG,SAAS,CAAC,cAAc,CAAC;QAC/C,WAAW,CAAC,KAAK,GAAG,SAAS,CAAC,cAAc,CAAC,SAAS,CAAC;QACvD,WAAW,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC;QACrC,OAAO,WAAW,CAAC;KACtB;;;;;;;IAOD,2BAA2B,CAAC,WAAgB,EAAE,OAAY;;cAChD,SAAS,GAAG,IAAI,CAAC,eAAe,EAAE;QACxC,IAAI,CAAC,SAAS,GAAG,SAAS,CAAC;QAC3B,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;QAC1D,IAAI,IAAI,CAAC,QAAQ,CAAC,QAAQ,KAAK,QAAQ,EAAE;YACvC,IAAI,CAAC,SAAS,CAAC,cAAc,CAAC,IAAI,GAAG,WAAW,CAAC,IAAI,IAAI,SAAS,CAAC,cAAc,CAAC,IAAI,CAAC;SACxF;QACD,IAAI,CAAC,SAAS,CAAC,cAAc,CAAC,YAAY,GAAG;YAC3C,CAAC,IAAI,CAAC,QAAQ,CAAC,QAAQ,GAAG,WAAW,CAAC,IAAI,IAAI,SAAS,CAAC,cAAc,CAAC,IAAI;SAC5E,CAAA;;QAED,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,WAAW,CAAC,IAAI,EAAE,WAAW,CAAC,QAAQ,EAAE,WAAW,CAAC,MAAM,qBAAE,WAAW,CAAC,SAAS,GAAc,CAAC;;QAGlI,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,WAAW,CAAC,gBAAgB,EAAE,WAAW,CAAC,oBAAoB,EAAE,WAAW,CAAC,YAAY,EAAE,WAAW,CAAC,gBAAgB,EAAE,OAAO,CAAC,CAAC;QACrK,IAAI,CAAC,WAAW,CAAC,4BAA4B,CAAC,WAAW,CAAC,kBAAkB,CAAC,CAAC;KACjF;;;;IACD,gBAAgB;QACd,KAAK,CAAC,gBAAgB,EAAE,CAAC;;cAEnB,UAAU,GAAG,IAAI,CAAC,aAAa,EAAE;;;cAEjC,SAAS,GAAG,UAAU,CAAC,mBAAmB,EAAE;QAClD,SAAS,CAAC,WAAW,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC;KAC5C;CACF;;;;;;AChFD,MAMa,SAAU,SAAQ,OAAO;IAAtC;;QACI,kBAAa,GAAkB,EAAE,CAAC;KA4BrC;;;;;;IAvBG,gBAAgB,CAAC,aAA4B;;QAEzC,IAAI,IAAI,CAAC,QAAQ,CAAC,gBAAgB,CAAC,EAAE;YACjC,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,IAAI,CAAC,QAAQ,CAAC,gBAAgB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YAC/D,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,IAAI,CAAC,QAAQ,CAAC,gBAAgB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YAC/D,OAAO,IAAI,CAAC,QAAQ,CAAC,gBAAgB,CAAC,CAAC;SAC1C;QACD,IAAI,CAAC,aAAa,GAAG,aAAa,CAAC;;YAC/B,eAAe,GAAG,IAAI,KAAK,EAA2B;;QAE1D,IAAI,CAAC,aAAa,IAAI,IAAI,CAAC,aAAa,CAAC,OAAO;;;;QAAC,CAAC,QAAqB;;kBAC7D,KAAK,GAAG,QAAQ,GAAG,WAAW,CAAC,UAAU,GAAG,mBAAmB;;kBAC/D,IAAI,sBAAG,cAAc,CAAC,QAAQ,CAAC,YAAY,CAAC,WAAW,EAAE,SAAS,EAAE,IAAI,UAAU,CAAC,CAAC,EAAE,CAAC,EAAE,IAAI,CAAC,iBAAiB,EAAE,IAAI,CAAC,kBAAkB,CAAC,EAAE,KAAK,CAAC,EAAoB;YAC3K,IAAI,CAAC,IAAI,GAAG,QAAQ,CAAC,IAAI,CAAC;YAC1B,IAAI,CAAC,WAAW,GAAG,QAAQ,CAAC;YAE5B,eAAe,CAAC,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC,IAAI,CAAC,EAAE,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,iBAAiB,EAAE,IAAI,CAAC,kBAAkB,CAAC,CAAC,CAAC;SACpH,EAAC,CAAC;QAEH,IAAI,eAAe,CAAC,MAAM,GAAG,CAAC,EAAE;YAC5B,IAAI,CAAC,mBAAmB,CAAC,gBAAgB,EAAG,WAAW,CAAC,GAAG,CAAC,gBAAgB,CAAC,EAAE,IAAI,EAAE,eAAe,CAAC,CAAC;SACzG;KACJ;CACJ;;;;;;ACnCD;;;AAOA,MAAa,sBAAuB,SAAQ,oBAAoB;IAAhE;;QACI,YAAO,GAAG;YACN,CAAC,aAAa,CAAC,OAAO,GAAG,WAAW,CAAC,UAAU,GAAG,uBAAuB;YACzE,CAAC,aAAa,CAAC,QAAQ,GAAG,WAAW,CAAC,UAAU,GAAG,8BAA8B;SACpF,CAAC;KAQL;;;;;IANG,iBAAiB,CAAC,OAA0B;;cAClC,QAAQ,sBAAG,KAAK,CAAC,iBAAiB,CAAC,OAAO,CAAC,EAAoB;QACrE,QAAQ,CAAC,EAAE,GAAG,kBAAkB,GAAG,eAAe,CAAC,iBAAiB,EAAE,CAAC;QAEvE,OAAO,QAAQ,CAAC;KACnB;CACJ;;;;;;ACnBD;;;AAUA,MAAa,2BAA4B,SAAQ,QAAQ;;;;;;IAgBrD,YAAY,KAAW,EAAE,QAA+B,EAAE,KAAc;QACpE,KAAK,CAAC,KAAK,EAAE,QAAQ,EAAE,KAAK,CAAC,CAAC;QAhBlC,cAAS,GAAW,2BAA2B,CAAC,WAAW,CAAC;QAC5D,SAAI,GAAW,MAAM,CAAC;QACtB,iBAAY,GAAgC;YAC1C,QAAQ,EAAE,MAAM;YAChB,QAAQ,EAAE,MAAM;YAChB,IAAI,EAAE,gBAAgB;SACzB,CAAC;QAIA,YAAO,GAAG;YACN,CAAC,aAAa,CAAC,OAAO,GAAG,WAAW,CAAC,UAAU,GAAG,0BAA0B;YAC5E,CAAC,aAAa,CAAC,QAAQ,GAAG,WAAW,CAAC,UAAU,GAAG,iCAAiC;SACvF,CAAC;KAID;;;;;IAED,iBAAiB,CAAC,OAAiC;;cACzC,QAAQ,sBAAG,KAAK,CAAC,iBAAiB,CAAC,OAAO,CAAC,EAA2B;QAC5E,QAAQ,CAAC,EAAE,GAAG,yBAAyB,GAAG,eAAe,CAAC,iBAAiB,EAAE,CAAC;QAC9E,OAAO,QAAQ,CAAC;KACnB;;;;IAED,mBAAmB;;YACX,GAAG,GAAG,IAAI,CAAC,WAAW;;YAEtB,cAAc,GAA0B,IAAI,qBAAqB,EAAE;;YACnE,YAAY,GAAQ,IAAI,MAAM,EAAE;QACpC,cAAc,CAAC,UAAU,GAAG,SAAS,CAAC;QACtC,cAAc,CAAC,YAAY,GAAG,WAAW,CAAC,GAAG,CAAC,kBAAkB,CAAC,CAAC;QAClE,cAAc,CAAC,KAAK,GAAG,OAAO,CAAC;QAC/B,cAAc,CAAC,OAAO,GAAG,WAAW,CAAC,GAAG,CAAC,iBAAiB,CAAC,CAAC;QAC5D,cAAc,CAAC,UAAU,GAAG;YACxB,EAAE,UAAU,EAAE,mCAAmC,CAAC,IAAI,EAAE,YAAY,EAAE,WAAW,CAAC,GAAG,CAAC,MAAM,CAAC,EAAE,YAAY,EAAE,QAAQ,EAAE,OAAO,EAAE,CAAC,IAAI,CAAC,QAAQ,CAAC,gBAAgB,EAAE;YACjK,EAAE,UAAU,EAAE,mCAAmC,CAAC,YAAY,EAAE,YAAY,EAAE,WAAW,CAAC,GAAG,CAAC,cAAc,CAAC,EAAE,YAAY,EAAE,eAAe,EAAE,OAAO,EAAE,IAAI,CAAC,QAAQ,CAAC,gBAAgB,EAAE;YACvL,EAAE,UAAU,EAAE,mCAAmC,CAAC,EAAE,EAAE,YAAY,EAAE,WAAW,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,YAAY,EAAE,QAAQ,EAAE,QAAQ,EAAE,IAAI,EAAE;SACtI,CAAC;;YAEE,MAAM,GAAG,IAAI,qBAAqB,EAAE;QACxC,MAAM,CAAC,UAAU,GAAG,QAAQ,CAAC;QAC7B,MAAM,CAAC,YAAY,GAAG,WAAW,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;QAChD,MAAM,CAAC,KAAK,GAAG,OAAO,CAAC;QACvB,MAAM,CAAC,OAAO,GAAG,WAAW,CAAC,GAAG,CAAC,iBAAiB,CAAC,CAAA;QACnD,MAAM,CAAC,UAAU,GAAG;YAChB,EAAE,UAAU,EAAE,mCAAmC,CAAC,cAAc,EAAE,YAAY,EAAE,WAAW,CAAC,GAAG,CAAC,YAAY,CAAC,EAAE,YAAY,EAAE,OAAO,EAAE;SAEzI,CAAC;QAEF,YAAY,CAAC,mCAAmC,CAAC,EAAE,CAAC,GAAG,GAAG,CAAC,EAAE,CAAC;QAC9D,YAAY,CAAC,mCAAmC,CAAC,SAAS,CAAC,GAAG,GAAG,CAAC,SAAS,CAAC;QAE5E,YAAY,CAAC,mCAAmC,CAAC,IAAI,CAAC,GAAG,GAAG,CAAC,IAAI,IAAI,WAAW,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;QAChG,YAAY,CAAC,mCAAmC,CAAC,YAAY,CAAC,GAAG,GAAG,CAAC,YAAY,IAAI;YACjF,QAAQ,EAAE,GAAG,CAAC,IAAI;SACrB,CAAC;QACF,YAAY,CAAC,mCAAmC,CAAC,cAAc,CAAC,GAAG,GAAG,CAAC,cAAc,CAAA;QACrF,YAAY,CAAC,mCAAmC,CAAC,QAAQ,CAAC,GAAG,GAAG,CAAC,QAAQ,CAAA;QAEzE,OAAO;YACH,cAAc,EAAE,CAAC,cAAc,EAAE,MAAM,CAAC;YACxC,YAAY,EAAE,YAAY;SAC7B,CAAA;KACJ;;;;;IAED,WAAW,CAAC,GAAQ;;cACV,UAAU,GAAW,GAAG,CAAC,UAAU;QACzC,QAAQ,UAAU;YACd,KAAK,mCAAmC,CAAC,cAAc;gBACnD,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,WAAW,EAAE,GAAG,CAAC,CAAC;gBAC7C,MAAM;YACV;gBACI,KAAK,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC;gBACvB,MAAM;SACb;KACJ;;;;;;IAED,gBAAgB,CAAC,aAAsC,EAAE,GAAQ;;cACvD,IAAI,GAAG,GAAG,CAAC,aAAa;QAC9B,IAAI,IAAI,EAAE;YACN,aAAa,CAAC,cAAc,GAAG,IAAI,CAAC;SACvC;aAAM;YACH,aAAa,CAAC,cAAc,GAAG,IAAI,CAAC;SACvC;KACJ;;AA9EM,uCAAW,GAAW,uBAAuB,CAAC,WAAW,CAAC;;;;;;AClBrE;;;AAWA,MAAa,gBAAiB,SAAQ,QAAQ;;;;;;IAgB1C,YAAY,KAAW,EAAE,QAA+B,EAAE,KAAc;QACpE,KAAK,CAAC,KAAK,EAAE,QAAQ,EAAE,KAAK,CAAC,CAAC;QAhBlC,cAAS,GAAW,gBAAgB,CAAC,WAAW,CAAC;QACjD,SAAI,GAAW,IAAI,CAAC;QACpB,iBAAY,GAAgC;YAC1C,QAAQ,EAAE,IAAI;YACd,QAAQ,EAAE,IAAI;YACd,IAAI,EAAE,UAAU;SACnB,CAAC;QAIA,YAAO,GAAG;YACN,CAAC,aAAa,CAAC,OAAO,GAAG,WAAW,CAAC,UAAU,GAAG,WAAW;YAC7D,CAAC,aAAa,CAAC,QAAQ,GAAG,WAAW,CAAC,UAAU,GAAG,kBAAkB;SACxE,CAAC;KAID;;;;;IAED,iBAAiB,CAAC,OAAsB;;cAC9B,QAAQ,sBAAG,KAAK,CAAC,iBAAiB,CAAC,OAAO,CAAC,EAAgB;QACjE,QAAQ,CAAC,EAAE,GAAG,cAAc,GAAG,eAAe,CAAC,iBAAiB,EAAE,CAAC;QAEnE,OAAO,QAAQ,CAAC;KACnB;;;;IAED,mBAAmB;;YACX,GAAG,GAAG,IAAI,CAAC,WAAW;;;YAGtB,aAAa,GAA0B,IAAI,qBAAqB,EAAE;;YAClE,gBAAgB,GAA0B,IAAI,qBAAqB,EAAE;;YACrE,YAAY,GAAQ,EAAE;QAE1B,aAAa,CAAC,UAAU,GAAG,eAAe,CAAC;QAC3C,aAAa,CAAC,YAAY,GAAG,WAAW,CAAC,GAAG,CAAC,kBAAkB,CAAC,CAAC;QACjE,aAAa,CAAC,KAAK,GAAG,OAAO,CAAC;QAC9B,aAAa,CAAC,OAAO,GAAG,WAAW,CAAC,GAAG,CAAC,iBAAiB,CAAC,CAAC;QAC3D,aAAa,CAAC,UAAU,GAAG;YACvB,EAAE,UAAU,EAAE,wBAAwB,CAAC,IAAI,EAAE,YAAY,EAAE,WAAW,CAAC,GAAG,CAAC,MAAM,CAAC,EAAE,YAAY,EAAE,QAAQ,EAAE,OAAO,EAAE,CAAC,IAAI,CAAC,QAAQ,CAAC,gBAAgB,EAAE;YACtJ,EAAE,UAAU,EAAE,wBAAwB,CAAC,YAAY,EAAE,YAAY,EAAE,WAAW,CAAC,GAAG,CAAC,cAAc,CAAC,EAAE,YAAY,EAAE,eAAe,EAAE,OAAO,EAAE,IAAI,CAAC,QAAQ,CAAC,gBAAgB,EAAE;YAC5K,EAAE,UAAU,EAAE,wBAAwB,CAAC,EAAE,EAAE,YAAY,EAAE,WAAW,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,YAAY,EAAE,QAAQ,EAAE,QAAQ,EAAE,IAAI,EAAE;SAC3H,CAAC;QAGF,gBAAgB,CAAC,UAAU,GAAG,kBAAkB,CAAC;QACjD,gBAAgB,CAAC,YAAY,GAAG,WAAW,CAAC,GAAG,CAAC,kBAAkB,CAAC,CAAC;QACpE,gBAAgB,CAAC,KAAK,GAAG,OAAO,CAAC;QACjC,gBAAgB,CAAC,OAAO,GAAG,WAAW,CAAC,GAAG,CAAC,iBAAiB,CAAC,CAAC;QAC9D,gBAAgB,CAAC,UAAU,GAAG;YAC1B,EAAE,UAAU,EAAE,wBAAwB,CAAC,KAAK,EAAE,YAAY,EAAE,WAAW,CAAC,GAAG,CAAC,OAAO,CAAC,EAAE,YAAY,EAAE,OAAO,EAAE;YAC7G,EAAE,UAAU,EAAE,wBAAwB,CAAC,gBAAgB,EAAE,YAAY,EAAE,WAAW,CAAC,GAAG,CAAC,kBAAkB,CAAC,EAAE,YAAY,EAAE,OAAO,EAAE;SACtI,CAAC;QAEF,YAAY,CAAC,wBAAwB,CAAC,EAAE,CAAC,GAAG,GAAG,CAAC,EAAE,CAAC;QACnD,YAAY,CAAC,wBAAwB,CAAC,SAAS,CAAC,GAAG,GAAG,CAAC,SAAS,CAAC;QACjE,YAAY,CAAC,wBAAwB,CAAC,IAAI,CAAC,GAAG,GAAG,CAAC,IAAI,CAAC;QACvD,YAAY,CAAC,wBAAwB,CAAC,YAAY,CAAC,GAAG,GAAG,CAAC,YAAY,IAAI;YACtE,QAAQ,EAAE,GAAG,CAAC,IAAI;SACrB,CAAC;QACF,YAAY,CAAC,wBAAwB,CAAC,KAAK,CAAC,GAAG,cAAc,CAAC,mBAAmB,oBAAC,GAAG,CAAC,KAAK,GAAqB,CAAC;QACjH,YAAY,CAAC,wBAAwB,CAAC,gBAAgB,CAAC,GAAG,cAAc,CAAC,mBAAmB,CAAC,GAAG,CAAC,KAAK,EAAE,GAAG,CAAC,gBAAgB,CAAC,CAAC;QAE9H,OAAO;YACH,cAAc,EAAE,CAAC,aAAa,EAAE,gBAAgB,CAAC;YACjD,YAAY,EAAE,YAAY;SAC7B,CAAA;KACJ;;;;;IAED,WAAW,CAAC,GAAQ;;cACV,YAAY,GAAG,IAAI,CAAC,WAAW;;cAC/B,UAAU,GAAW,GAAG,CAAC,UAAU;QACzC,QAAQ,UAAU;YACd,KAAK,wBAAwB,CAAC,KAAK;gBAC/B,IAAI,CAAC,uBAAuB,CAAC,YAAY,EAAE,GAAG,CAAC,CAAC;gBAChD,MAAM;YACV,KAAK,wBAAwB,CAAC,gBAAgB;gBAC1C,IAAI,CAAC,sBAAsB,CAAC,YAAY,EAAE,GAAG,CAAC,CAAC;gBAC/C,MAAM;YACV;gBACI,KAAK,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC;gBACvB,MAAM;SACb;KACJ;;;;;;IAED,uBAAuB,CAAC,YAA0B,EAAE,GAAQ;;YACpD,KAAK,sBAAG,GAAG,CAAC,aAAa,EAAS;QACtC,YAAY,CAAC,KAAK,GAAG,IAAI,KAAK,EAAQ,CAAC;QACvC,IAAI,KAAK,IAAI,KAAK,CAAC,MAAM,GAAG,CAAC,EAAE;YAC3B,KAAK,MAAM,IAAI,IAAI,KAAK,EAAE;;oBAClB,SAAS,GAAG,IAAIA,WAAS,CAAC,YAAY,CAAC,KAAK,CAAC;gBACjD,SAAS,CAAC,EAAE,GAAG,IAAI,CAAC,EAAE,CAAC;gBACvB,SAAS,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC;;;gBAG3B,SAAS,CAAC,aAAa,GAAG,qBAAqB,CAAC;gBAChD,SAAS,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC;gBACvC,SAAS,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC;gBACvC,SAAS,CAAC,iBAAiB,GAAG,IAAI,CAAC,iBAAiB,CAAC;gBACrD,SAAS,CAAC,gBAAgB,GAAG,EAAE,CAAC;gBAChC,IAAI,IAAI,CAAC,gBAAgB,IAAI,oBAAC,IAAI,CAAC,gBAAgB,IAAW,MAAM,GAAG,CAAC,EAAE;oBACtE,KAAK,IAAI,CAAC,wBAAK,IAAI,CAAC,gBAAgB,KAAY;;4BACxC,SAAS,GAAG,IAAI,eAAe,CAAC,YAAY,CAAC,KAAK,EAAE,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC,KAAK,CAAC;wBACxE,SAAS,CAAC,gBAAgB,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;qBAC9C;iBACJ;gBACD,YAAY,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;aACtC;SACJ;KACJ;;;;;;IAED,sBAAsB,CAAC,YAA0B,EAAE,GAAQ;;cACjD,SAAS,GAAG,YAAY,CAAC,KAAK;;cAC9B,cAAc,GAAG,SAAS,CAAC,cAAc,CAAC,oBAAoB,EAAE;QACtE,IAAI,YAAY,CAAC,gBAAgB,IAAI,YAAY,CAAC,gBAAgB,CAAC,MAAM,GAAG,CAAC,EAAE;YAC3E,KAAK,MAAM,CAAC,IAAI,YAAY,CAAC,gBAAgB,EAAE;gBAC3C,IAAI,CAAC,CAAC,GAAG,KAAK,WAAW,EAAE;;0BACjB,CAAC,GAAG,cAAc,CAAC,SAAS;;;;oBAAC,CAAC,KAAK,CAAC,YAAYA,WAAS,IAAI,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC,KAAK,CAAC,EAAC;oBACrF,cAAc,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;iBAC/B;aACJ;SACJ;QACD,YAAY,CAAC,gBAAgB,GAAG,IAAI,KAAK,EAAE,CAAC;;cAEtC,SAAS,sBAAG,GAAG,CAAC,aAAa,EAAS;QAC5C,IAAI,SAAS,IAAI,SAAS,CAAC,MAAM,GAAG,CAAC,EAAE;YACnC,KAAK,MAAM,CAAC,IAAI,SAAS,EAAE;;sBACjB,eAAe,GAAG,IAAI,eAAe,CAAC,SAAS,CAAC;gBACtD,eAAe,CAAC,YAAY,GAAG,CAAC,CAAC,YAAY,CAAC;gBAC9C,eAAe,CAAC,YAAY,GAAG,CAAC,CAAC,YAAY,CAAC;gBAC9C,eAAe,CAAC,GAAG,GAAG,CAAC,CAAC,GAAG,CAAC;gBAC5B,eAAe,CAAC,aAAa,GAAG,CAAC,CAAC,aAAa,CAAC;gBAChD,eAAe,CAAC,KAAK,GAAG,CAAC,CAAC,KAAK,CAAC;gBAChC,eAAe,CAAC,SAAS,GAAG,CAAC,CAAC,SAAS,CAAC;gBAExC,YAAY,CAAC,gBAAgB,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;gBACpD,IAAI,eAAe,CAAC,GAAG,KAAK,WAAW,EAAE;;0BAC/B,CAAC,GAAG,CAAC,CAAC,SAAS;oBACrB,IAAI,CAAC,EAAE;;4BACC,GAAG,GAAG,IAAIA,WAAS,CAAC,SAAS,CAAC;wBAClC,GAAG,CAAC,UAAU,GAAG,CAAC,CAAC,UAAU,CAAC;wBAC9B,GAAG,CAAC,UAAU,GAAG,CAAC,CAAC,UAAU,CAAC;wBAC9B,GAAG,CAAC,EAAE,GAAG,CAAC,CAAC,EAAE,CAAC;wBACd,GAAG,CAAC,IAAI,GAAG,CAAC,CAAC,IAAI,CAAC;wBAClB,GAAG,CAAC,gBAAgB,GAAG,IAAI,KAAK,EAAE,CAAC;wBACnC,IAAI,CAAC,CAAC,gBAAgB,IAAI,CAAC,CAAC,gBAAgB,CAAC,MAAM,GAAG,CAAC,EAAE;4BACrD,KAAK,IAAI,CAAC,IAAI,CAAC,CAAC,gBAAgB,EAAE;;oCAC1B,SAAS,GAAG,IAAI,eAAe,CAAC,SAAS,EAAE,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC,KAAK,CAAC;gCAC/D,SAAS,CAAC,GAAG,GAAG,CAAC,CAAC,GAAG,CAAC;gCACtB,GAAG,CAAC,gBAAgB,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;6BACxC;yBACJ;wBAED,cAAc,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;qBAC5B;iBACJ;aACJ;SACJ;KACJ;;AAvJM,4BAAW,GAAW,YAAY,CAAC,WAAW,CAAC;;;;;;ACnB1D;;;AAWA,MAAa,0BAA2B,SAAQ,QAAQ;;;;;;IAgBpD,YAAY,KAAW,EAAE,QAA+B,EAAE,KAAc;QACpE,KAAK,CAAC,KAAK,EAAE,QAAQ,EAAE,KAAK,CAAC,CAAC;QAhBlC,cAAS,GAAW,0BAA0B,CAAC,WAAW,CAAC;QAC3D,SAAI,GAAW,KAAK,CAAC;QACrB,iBAAY,GAAgC;YAC1C,QAAQ,EAAE,KAAK;YACf,QAAQ,EAAE,KAAK;YACf,IAAI,EAAE,aAAa;SACtB,CAAC;QAIA,YAAO,GAAG;YACN,CAAC,aAAa,CAAC,OAAO,GAAG,WAAW,CAAC,UAAU,GAAG,UAAU;YAC5D,CAAC,aAAa,CAAC,QAAQ,GAAG,WAAW,CAAC,UAAU,GAAG,iBAAiB;SACvE,CAAC;KAID;;;;;IAED,iBAAiB,CAAC,OAAgC;;cACxC,QAAQ,sBAAG,KAAK,CAAC,iBAAiB,CAAC,OAAO,CAAC,EAA0B;QAC3E,QAAQ,CAAC,EAAE,GAAG,wBAAwB,GAAG,eAAe,CAAC,iBAAiB,EAAE,CAAC;QAE7E,OAAO,QAAQ,CAAC;KACnB;;;;IAED,mBAAmB;;YACX,GAAG,GAAG,IAAI,CAAC,WAAW;;;YAEtB,aAAa,GAA0B,IAAI,qBAAqB,EAAE;;YAClE,gBAAgB,GAA0B,IAAI,qBAAqB,EAAE;;YACrE,YAAY,GAAQ,EAAE;;QAG1B,aAAa,CAAC,UAAU,GAAG,eAAe,CAAC;QAC3C,aAAa,CAAC,YAAY,GAAG,WAAW,CAAC,GAAG,CAAC,kBAAkB,CAAC,CAAC;QACjE,aAAa,CAAC,KAAK,GAAG,OAAO,CAAC;QAC9B,aAAa,CAAC,OAAO,GAAG,WAAW,CAAC,GAAG,CAAC,iBAAiB,CAAC,CAAA;QAC1D,aAAa,CAAC,UAAU,GAAG;YACvB,EAAE,UAAU,EAAE,kCAAkC,CAAC,IAAI,EAAE,YAAY,EAAE,WAAW,CAAC,GAAG,CAAC,MAAM,CAAC,EAAE,YAAY,EAAE,QAAQ,EAAE,OAAO,EAAE,CAAC,IAAI,CAAC,QAAQ,CAAC,gBAAgB,EAAE;YAChK,EAAE,UAAU,EAAE,kCAAkC,CAAC,YAAY,EAAE,YAAY,EAAE,WAAW,CAAC,GAAG,CAAC,cAAc,CAAC,EAAE,YAAY,EAAE,eAAe,EAAE,OAAO,EAAE,IAAI,CAAC,QAAQ,CAAC,gBAAgB,EAAE;YACtL,EAAE,UAAU,EAAE,kCAAkC,CAAC,EAAE,EAAE,YAAY,EAAE,WAAW,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,YAAY,EAAE,QAAQ,EAAE,QAAQ,EAAE,IAAI,EAAE;SACrI,CAAC;;QAGF,gBAAgB,CAAC,UAAU,GAAG,kBAAkB,CAAC;QACjD,gBAAgB,CAAC,YAAY,GAAG,WAAW,CAAC,GAAG,CAAC,kBAAkB,CAAC,CAAC;QACpE,gBAAgB,CAAC,KAAK,GAAG,OAAO,CAAC;QACjC,gBAAgB,CAAC,OAAO,GAAG,WAAW,CAAC,GAAG,CAAC,iBAAiB,CAAC,CAAA;QAC7D,gBAAgB,CAAC,UAAU,GAAG;YAC1B,EAAE,UAAU,EAAE,kCAAkC,CAAC,sBAAsB,EAAE,YAAY,EAAE,WAAW,CAAC,GAAG,CAAC,wBAAwB,CAAC,EAAE,YAAY,EAAE,OAAO,EAAE;YACzJ,EAAE,UAAU,EAAE,kCAAkC,CAAC,gBAAgB,EAAE,YAAY,EAAE,WAAW,CAAC,GAAG,CAAC,kBAAkB,CAAC,EAAE,YAAY,EAAE,OAAO,EAAE;YAC7I,EAAE,UAAU,EAAE,kCAAkC,CAAC,YAAY,EAAE,YAAY,EAAE,WAAW,CAAC,GAAG,CAAC,cAAc,CAAC,EAAE,YAAY,EAAE,OAAO,EAAE;YACrI,EAAE,UAAU,EAAE,kCAAkC,CAAC,gCAAgC,EAAE,YAAY,EAAE,WAAW,CAAC,GAAG,CAAC,kCAAkC,CAAC,EAAE,YAAY,EAAE,OAAO,EAAE;SAChL,CAAC;QAEF,YAAY,CAAC,kCAAkC,CAAC,EAAE,CAAC,GAAG,GAAG,CAAC,EAAE,CAAC;QAC7D,YAAY,CAAC,kCAAkC,CAAC,SAAS,CAAC,GAAG,GAAG,CAAC,SAAS,CAAC;QAC3E,YAAY,CAAC,kCAAkC,CAAC,IAAI,CAAC,GAAG,GAAG,CAAC,IAAI,CAAC;QACjE,YAAY,CAAC,kCAAkC,CAAC,YAAY,CAAC,GAAG,GAAG,CAAC,YAAY,IAAI;YAChF,QAAQ,EAAE,GAAG,CAAC,IAAI;SACrB,CAAC;QACF,YAAY,CAAC,kCAAkC,CAAC,sBAAsB,CAAC,GAAG;YACtE,eAAe,EAAE,GAAG,CAAC,eAAe;YACpC,aAAa,EAAE,GAAG,CAAC,aAAa;YAChC,gBAAgB,EAAE,GAAG,CAAC,gBAAgB;YACtC,gBAAgB,EAAE,GAAG,CAAC,gBAAgB;YACtC,SAAS,EAAE,GAAG,CAAC,SAAS;YACxB,cAAc,EAAE,GAAG,CAAC,cAAc;YAClC,mBAAmB,EAAE,GAAG,CAAC,mBAAmB;SAC/C,CAAC;QACF,YAAY,CAAC,kCAAkC,CAAC,YAAY,CAAC,GAAG,GAAG,CAAC,YAAY,CAAC;QACjF,YAAY,CAAC,kCAAkC,CAAC,gBAAgB,CAAC,GAAG,cAAc,CAAC,mBAAmB,CAAC,GAAG,CAAC,KAAK,EAAE,GAAG,CAAC,gBAAgB,CAAC,CAAC;QACxI,YAAY,CAAC,kCAAkC,CAAC,gCAAgC,CAAC,GAAG,GAAG,CAAC,mBAAmB,CAAC;QAE5G,OAAO;YACH,cAAc,EAAE,CAAC,aAAa,EAAE,gBAAgB,CAAC;YACjD,YAAY,EAAE,YAAY;SAC7B,CAAA;KACJ;;;;;IAED,WAAW,CAAC,GAAQ;;cACV,UAAU,GAAG,IAAI,CAAC,WAAW;;cAC7B,UAAU,GAAW,GAAG,CAAC,UAAU;QACzC,QAAQ,UAAU;YACd,KAAK,kCAAkC,CAAC,sBAAsB;gBAC1D,IAAI,CAAC,sBAAsB,CAAC,UAAU,EAAE,GAAG,CAAC,CAAC;gBAC7C,MAAM;YACV,KAAK,kCAAkC,CAAC,YAAY;gBAChD,IAAI,CAAC,kBAAkB,CAAC,UAAU,EAAE,GAAG,CAAC,CAAC;gBACzC,MAAM;YACV,KAAK,kCAAkC,CAAC,gBAAgB;gBACpD,IAAI,CAAC,sBAAsB,CAAC,UAAU,EAAE,GAAG,CAAC,CAAC;gBAC7C,MAAM;YACV,KAAK,kCAAkC,CAAC,gCAAgC;gBACpE,IAAI,CAAC,qCAAqC,CAAC,UAAU,EAAE,GAAG,CAAC,CAAC;gBAC5D,MAAM;YACV;gBACI,KAAK,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC;gBACvB,MAAM;SACb;KACJ;;;;;;IAED,sBAAsB,CAAC,UAAkC,EAAE,GAAQ;;cACzD,MAAM,GAAQ,GAAG,CAAC,aAAa;QACrC,IAAI,UAAU,EAAE;YACZ,UAAU,CAAC,eAAe,GAAG,MAAM,CAAC,eAAe,CAAC;YACpD,UAAU,CAAC,aAAa,GAAG,MAAM,CAAC,aAAa,CAAC;YAChD,UAAU,CAAC,gBAAgB,GAAG,MAAM,CAAC,gBAAgB,CAAC;YACtD,UAAU,CAAC,gBAAgB,GAAG,MAAM,CAAC,gBAAgB,CAAC;YACtD,UAAU,CAAC,SAAS,GAAG,MAAM,CAAC,SAAS,CAAC;YACxC,UAAU,CAAC,cAAc,GAAG,MAAM,CAAC,cAAc,CAAC;YAClD,UAAU,CAAC,mBAAmB,GAAG,MAAM,CAAC,mBAAmB,CAAC;SAC/D;KACJ;;;;;;IAED,kBAAkB,CAAC,UAAkC,EAAE,GAAQ;;cACrD,IAAI,GAAG,GAAG,CAAC,aAAa;;YAC1B,YAAY,GAAG,IAAI,YAAY,CAAC,UAAU,CAAC,KAAK,CAAC;QACrD,YAAY,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC;QACxC,YAAY,CAAC,gBAAgB,GAAG,IAAI,CAAC,gBAAgB,CAAC;QACtD,YAAY,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC;QAC1C,YAAY,CAAC,cAAc,GAAG,IAAI,CAAC,cAAc,CAAC;QAClD,YAAY,CAAC,uBAAuB,GAAG,IAAI,CAAC,uBAAuB,CAAC;QACpE,YAAY,CAAC,gBAAgB,GAAG,IAAI,CAAC,gBAAgB,CAAC;QAEtD,UAAU,CAAC,YAAY,GAAG,YAAY,CAAC;KAC1C;;;;;;IAED,sBAAsB,CAAC,UAAkC,EAAE,GAAQ;;cACzD,SAAS,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK;;cAClC,cAAc,GAAG,SAAS,CAAC,cAAc,CAAC,oBAAoB,EAAE;QACtE,IAAI,UAAU,CAAC,gBAAgB,IAAI,UAAU,CAAC,gBAAgB,CAAC,MAAM,GAAG,CAAC,EAAE;YACvE,KAAK,MAAM,CAAC,IAAI,UAAU,CAAC,gBAAgB,EAAE;gBACzC,IAAI,CAAC,CAAC,GAAG,KAAK,WAAW,EAAE;;0BACjB,CAAC,GAAG,cAAc,CAAC,SAAS;;;;oBAAC,CAAC,KAAK,CAAC,YAAYA,WAAS,IAAI,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC,KAAK,CAAC,EAAC;oBACrF,cAAc,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;iBAC/B;aACJ;SACJ;QACD,UAAU,CAAC,gBAAgB,GAAG,IAAI,KAAK,EAAE,CAAC;;cAEpC,SAAS,sBAAG,GAAG,CAAC,aAAa,EAAS;QAC5C,IAAI,SAAS,IAAI,SAAS,CAAC,MAAM,GAAG,CAAC,EAAE;YACnC,KAAK,MAAM,CAAC,IAAI,SAAS,EAAE;;sBACjB,eAAe,GAAG,IAAI,eAAe,CAAC,SAAS,CAAC;;gBAEtD,eAAe,CAAC,YAAY,GAAG,CAAC,CAAC,YAAY,CAAC;gBAC9C,eAAe,CAAC,YAAY,GAAG,CAAC,CAAC,YAAY,CAAC;gBAC9C,eAAe,CAAC,GAAG,GAAG,CAAC,CAAC,GAAG,CAAC;gBAC5B,eAAe,CAAC,aAAa,GAAG,CAAC,CAAC,aAAa,CAAC;gBAChD,eAAe,CAAC,KAAK,GAAG,CAAC,CAAC,KAAK,CAAC;gBAChC,eAAe,CAAC,SAAS,GAAG,CAAC,CAAC,SAAS,CAAC;gBAExC,UAAU,CAAC,gBAAgB,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;gBAClD,IAAI,eAAe,CAAC,GAAG,KAAK,WAAW,EAAE;;0BAC/B,CAAC,GAAG,CAAC,CAAC,SAAS;oBACrB,IAAI,CAAC,EAAE;;4BACC,GAAG,GAAG,IAAIA,WAAS,CAAC,SAAS,CAAC;wBAClC,GAAG,CAAC,UAAU,GAAG,CAAC,CAAC,UAAU,CAAC;wBAC9B,GAAG,CAAC,UAAU,GAAG,CAAC,CAAC,UAAU,CAAC;wBAC9B,GAAG,CAAC,EAAE,GAAG,CAAC,CAAC,EAAE,CAAC;wBACd,GAAG,CAAC,IAAI,GAAG,CAAC,CAAC,IAAI,CAAC;wBAClB,GAAG,CAAC,gBAAgB,GAAG,IAAI,KAAK,EAAE,CAAC;wBACnC,IAAI,CAAC,CAAC,gBAAgB,IAAI,CAAC,CAAC,gBAAgB,CAAC,MAAM,GAAG,CAAC,EAAE;4BACrD,KAAK,IAAI,CAAC,IAAI,CAAC,CAAC,gBAAgB,EAAE;;oCAC1B,SAAS,GAAG,IAAI,eAAe,CAAC,SAAS,EAAE,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC,KAAK,CAAC;gCAC/D,SAAS,CAAC,GAAG,GAAG,CAAC,CAAC,GAAG,CAAC;gCACtB,GAAG,CAAC,gBAAgB,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;6BACxC;yBACJ;wBAED,cAAc,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;qBAC5B;iBACJ;aACJ;SACJ;KACJ;;;;;;IAED,qCAAqC,CAAC,UAAkC,EAAE,GAAQ;;cACxE,IAAI,GAAG,GAAG,CAAC,aAAa;;YAC1B,mBAAmB,GAAG,IAAI,gCAAgC,CAAC,UAAU,CAAC,KAAK,CAAC;QAChF,mBAAmB,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC;QACzC,mBAAmB,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC;QACjD,mBAAmB,CAAC,eAAe,GAAG,IAAI,CAAC,eAAe,CAAC;QAC3D,mBAAmB,CAAC,mBAAmB,GAAG,IAAI,CAAC,mBAAmB,CAAC;QACnE,mBAAmB,CAAC,wBAAwB,GAAG,IAAI,CAAC,wBAAwB,CAAC;QAE7E,UAAU,CAAC,mBAAmB,GAAG,mBAAmB,CAAC;QACrD,IAAG,GAAG,CAAC,aAAa,EAAE;;kBACZ,IAAI,GAAG,GAAG,CAAC,aAAa;;gBAC1B,mBAAmB,GAAG,IAAI,gCAAgC,CAAC,UAAU,CAAC,KAAK,CAAC;YAChF,mBAAmB,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC;YACzC,mBAAmB,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC;YACjD,mBAAmB,CAAC,eAAe,GAAG,IAAI,UAAU,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC;YACvE,IAAG,IAAI,CAAC,eAAe,EAAE;;oBACjB,kBAAkB,GAAG,IAAI,kBAAkB,CAAC,UAAU,CAAC,KAAK,CAAC;gBACjE,kBAAkB,CAAC,KAAK,GAAG,IAAI,CAAC,eAAe,CAAC;gBAChD,mBAAmB,CAAC,eAAe,CAAC,aAAa,GAAG,kBAAkB,CAAC;aAC1E;YACD,mBAAmB,CAAC,mBAAmB,GAAG,IAAI,CAAC,mBAAmB,CAAC;;gBAC/D,KAAK,sBAAG,IAAI,CAAC,wBAAwB,EAAS;YAClD,mBAAmB,CAAC,wBAAwB,GAAG,IAAI,CAAC;YACpD,IAAG,KAAK,IAAI,KAAK,CAAC,MAAM,GAAG,CAAC,EAAE;gBAC1B,mBAAmB,CAAC,wBAAwB,GAAG,IAAI,KAAK,EAAmB,CAAC;gBAC5E,KAAI,IAAI,IAAI,IAAI,KAAK,EAAE;;wBACf,eAAe,GAAG,IAAI,eAAe,CAAC,UAAU,CAAC,KAAK,CAAC;;wBACvD,SAAS,GAAG,IAAI,SAAS,CAAC,UAAU,CAAC,KAAK,CAAC;oBAC/C,SAAS,CAAC,KAAK,GAAG,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC;oBACjD,eAAe,CAAC,eAAe,GAAG,IAAI,CAAC,eAAe,CAAC;oBACvD,eAAe,CAAC,aAAa,GAAG,IAAI,CAAC,aAAa,CAAC;oBACnD,eAAe,CAAC,cAAc,GAAG,IAAI,CAAC,cAAc,CAAC;oBACrD,eAAe,CAAC,YAAY,GAAG,IAAI,CAAC,YAAY,CAAC;oBACjD,eAAe,CAAC,mBAAmB,GAAG,SAAS,CAAC;oBAChD,mBAAmB,CAAC,wBAAwB,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;iBACtE;aACJ;YACD,UAAU,CAAC,mBAAmB,GAAG,mBAAmB,CAAC;SACxD;KACJ;;AApNM,sCAAW,GAAW,sBAAsB,CAAC,WAAW,CAAC;;;;;;ACnBpE;;;AAYA,MAAa,8BAA+B,SAAQ,QAAQ;;;;;;IAgBxD,YAAY,KAAW,EAAE,QAA+B,EAAE,KAAc;QACpE,KAAK,CAAC,KAAK,EAAE,QAAQ,EAAE,KAAK,CAAC,CAAC;QAhBlC,cAAS,GAAW,8BAA8B,CAAC,WAAW,CAAC;QAC/D,SAAI,GAAW,MAAM,CAAC;QACtB,iBAAY,GAAgC;YAC1C,QAAQ,EAAE,MAAM;YAChB,QAAQ,EAAE,MAAM;YAChB,IAAI,EAAE,aAAa;SACtB,CAAC;QAIA,YAAO,GAAG;YACN,CAAC,aAAa,CAAC,OAAO,GAAG,WAAW,CAAC,UAAU,GAAG,iBAAiB;YACnE,CAAC,aAAa,CAAC,QAAQ,GAAG,WAAW,CAAC,UAAU,GAAG,wBAAwB;SAC9E,CAAC;KAID;;;;;IAED,iBAAiB,CAAC,OAAoC;;cAC5C,QAAQ,sBAAG,KAAK,CAAC,iBAAiB,CAAC,OAAO,CAAC,EAA8B;QAC/E,QAAQ,CAAC,EAAE,GAAG,wBAAwB,GAAG,eAAe,CAAC,iBAAiB,EAAE,CAAC;;QAE7E,IAAI,OAAO,IAAI,IAAI,EAAE;YACjB,QAAQ,CAAC,oBAAoB,EAAE,CAAC;SACnC;QAED,OAAO,QAAQ,CAAC;KACnB;;;;;;IAED,aAAa,CAAC,OAAoC,EAAE,OAAmB;QACnE,KAAK,CAAC,aAAa,CAAC,OAAO,EAAE,OAAO,CAAC,CAAC;;cAEhC,SAAS,GAAG,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,SAAS;QAC/C,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;KACrC;;;;;IAED,UAAU,CAAC,UAAsC;;cACvC,SAAS,GAAG,UAAU,CAAC,KAAK;QAClC,IAAI,UAAU,CAAC,gBAAgB,IAAI,UAAU,CAAC,gBAAgB,CAAC,MAAM,GAAG,CAAC,EAAE;YACvE,IAAI,CAAC,SAAS,CAAC,OAAO,EAAE;gBACpB,SAAS,CAAC,OAAO,GAAG,EAAE,CAAC;aAC1B;YACD,KAAK,MAAM,CAAC,IAAI,UAAU,CAAC,gBAAgB,EAAE;;sBACnC,KAAK,sBAAG,CAAC,EAA6B;gBAC5C,IAAI,SAAS,CAAC,OAAO,CAAC,SAAS;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,IAAI,KAAK,KAAK,CAAC,SAAS,EAAC,KAAK,CAAC,CAAC,EAAE;;0BAC/D,MAAM,GAAG,IAAI,MAAM,CAAC,SAAS,CAAC;oBACpC,MAAM,CAAC,IAAI,GAAG,KAAK,CAAC,SAAS,CAAC;oBAC9B,SAAS,CAAC,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;iBAClC;aACJ;SACJ;KACJ;;;;IAED,mBAAmB;;YACX,GAAG,GAAG,IAAI,CAAC,WAAW;;YAEtB,aAAa,GAA0B,IAAI,qBAAqB,EAAE;;YAClE,gBAAgB,GAA0B,IAAI,qBAAqB,EAAE;;YACrE,YAAY,GAAQ,EAAE;QAE1B,aAAa,CAAC,UAAU,GAAG,eAAe,CAAC;QAC3C,aAAa,CAAC,YAAY,GAAG,WAAW,CAAC,GAAG,CAAC,kBAAkB,CAAC,CAAC;QACjE,aAAa,CAAC,KAAK,GAAG,OAAO,CAAC;QAC9B,aAAa,CAAC,OAAO,GAAG,WAAW,CAAC,GAAG,CAAC,iBAAiB,CAAC,CAAC;QAC3D,aAAa,CAAC,UAAU,GAAG;YACvB,EAAE,UAAU,EAAE,sCAAsC,CAAC,IAAI,EAAE,YAAY,EAAE,WAAW,CAAC,GAAG,CAAC,MAAM,CAAC,EAAE,YAAY,EAAE,QAAQ,EAAE,OAAO,EAAE,CAAC,IAAI,CAAC,QAAQ,CAAC,gBAAgB,EAAE;YACpK,EAAE,UAAU,EAAE,sCAAsC,CAAC,YAAY,EAAE,YAAY,EAAE,WAAW,CAAC,GAAG,CAAC,cAAc,CAAC,EAAE,YAAY,EAAE,eAAe,EAAE,OAAO,EAAE,IAAI,CAAC,QAAQ,CAAC,gBAAgB,EAAE;YAC1L,EAAE,UAAU,EAAE,sCAAsC,CAAC,EAAE,EAAE,YAAY,EAAE,WAAW,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,YAAY,EAAE,QAAQ,EAAE,QAAQ,EAAE,IAAI,EAAE;SACzI,CAAC;QAGF,gBAAgB,CAAC,UAAU,GAAG,kBAAkB,CAAC;QACjD,gBAAgB,CAAC,YAAY,GAAG,WAAW,CAAC,GAAG,CAAC,kBAAkB,CAAC,CAAC;QACpE,gBAAgB,CAAC,KAAK,GAAG,OAAO,CAAC;QACjC,gBAAgB,CAAC,OAAO,GAAG,WAAW,CAAC,GAAG,CAAC,iBAAiB,CAAC,CAAC;QAC9D,gBAAgB,CAAC,UAAU,GAAG;YAC1B,EAAE,UAAU,EAAE,sCAAsC,CAAC,gBAAgB,EAAE,YAAY,EAAE,WAAW,CAAC,GAAG,CAAC,kBAAkB,CAAC,EAAE,YAAY,EAAE,OAAO,EAAE;YACjJ,EAAE,UAAU,EAAE,sCAAsC,CAAC,gBAAgB,EAAE,YAAY,EAAE,WAAW,CAAC,GAAG,CAAC,kBAAkB,CAAC,EAAE,YAAY,EAAE,OAAO,EAAE;SACpJ,CAAC;QACF,IAAI,GAAG,CAAC,gBAAgB,IAAI,IAAI,CAAC,gBAAgB,CAAC,GAAG,CAAC,gBAAgB,CAAC,EAAE;YACrE,gBAAgB,CAAC,UAAU,CAAC,IAAI,CAC5B,EAAE,UAAU,EAAE,sCAAsC,CAAC,YAAY,EAAE,YAAY,EAAE,WAAW,CAAC,GAAG,CAAC,cAAc,CAAC,EAAE,YAAY,EAAE,OAAO,EAAE,CAC5I,CAAC;YACF,YAAY,CAAC,sCAAsC,CAAC,YAAY,CAAC,GAAG,GAAG,CAAC,YAAY,CAAC;SACxF;QAED,YAAY,CAAC,sCAAsC,CAAC,EAAE,CAAC,GAAG,GAAG,CAAC,EAAE,CAAC;QACjE,YAAY,CAAC,sCAAsC,CAAC,SAAS,CAAC,GAAG,GAAG,CAAC,SAAS,CAAC;QAC/E,YAAY,CAAC,sCAAsC,CAAC,IAAI,CAAC,GAAG,GAAG,CAAC,IAAI,CAAC;QACrE,YAAY,CAAC,sCAAsC,CAAC,YAAY,CAAC,GAAG,GAAG,CAAC,YAAY,IAAI;YACpF,QAAQ,EAAE,GAAG,CAAC,IAAI;SACrB,CAAC;QACF,YAAY,CAAC,sCAAsC,CAAC,gBAAgB,CAAC,GAAG,GAAG,CAAC,gBAAgB,CAAC;QAC7F,YAAY,CAAC,sCAAsC,CAAC,gBAAgB,CAAC,GAAG,cAAc,CAAC,mBAAmB,CAAC,GAAG,CAAC,KAAK,EAAE,GAAG,CAAC,gBAAgB,CAAC,CAAC;QAE5I,OAAO;YACH,cAAc,EAAE,CAAC,aAAa,EAAE,gBAAgB,CAAC;YACjD,YAAY,EAAE,YAAY;SAC7B,CAAA;KACJ;;;;;;IAMD,gBAAgB,CAAC,MAAyB;QACtC,KAAK,IAAI,CAAC,IAAI,MAAM,EAAE;;kBACZ,KAAK,sBAAG,CAAC,EAA6B;YAC5C,IAAI,KAAK,CAAC,aAAa,KAAK,MAAM,EAAE;gBAChC,OAAO,IAAI,CAAC;aACf;SACJ;QACD,OAAO,KAAK,CAAC;KAChB;;;;;IAED,WAAW,CAAC,GAAQ;;cACV,UAAU,GAAG,IAAI,CAAC,WAAW;;cAC7B,UAAU,GAAW,GAAG,CAAC,UAAU;QACzC,QAAQ,UAAU;YACd,KAAK,sCAAsC,CAAC,gBAAgB;gBACxD,IAAI,CAAC,sBAAsB,CAAC,UAAU,EAAE,GAAG,CAAC,CAAC;gBAC7C,MAAM;YACV,KAAK,sCAAsC,CAAC,YAAY;gBACpD,IAAI,CAAC,kBAAkB,CAAC,UAAU,EAAE,GAAG,CAAC,CAAC;gBACzC,MAAM;YACV,KAAK,sCAAsC,CAAC,gBAAgB;gBACxD,IAAI,CAAC,sBAAsB,CAAC,UAAU,EAAE,GAAG,CAAC,CAAC;gBAC7C,MAAM;YACV;gBACI,KAAK,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC;gBACvB,MAAM;SACb;KACJ;;;;;;IAED,sBAAsB,CAAC,UAAsC,EAAE,GAAQ;QACnE,IAAI,UAAU,EAAE;YACZ,IAAI,CAAC,aAAa,CAAC,UAAU,CAAC,CAAC;;gBAC3B,MAAM,sBAAG,GAAG,CAAC,aAAa,EAAS;YACvC,UAAU,CAAC,gBAAgB,GAAG,IAAI,KAAK,EAAmB,CAAC;YAC3D,KAAK,IAAI,CAAC,IAAI,MAAM,EAAE;;oBACd,IAAI,GAAG,IAAI,yBAAyB,CAAC,UAAU,CAAC,KAAK,CAAC;gBAC1D,IAAI,CAAC,IAAI,GAAG,CAAC,CAAC,IAAI,CAAC;gBACnB,IAAI,CAAC,aAAa,GAAG,CAAC,CAAC,aAAa,CAAA;gBACpC,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;gBACnB,IAAI,CAAC,SAAS,GAAG,CAAC,CAAC,SAAS,CAAC;gBAE7B,UAAU,CAAC,gBAAgB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;aAC1C;YACD,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC,CAAC;SAC/B;;QAED,IAAI,CAAC,IAAI,CAAC,gBAAgB,CAAC,UAAU,CAAC,gBAAgB,CAAC,EAAE;YACrD,UAAU,CAAC,YAAY,GAAG,IAAI,CAAC;SAClC;aAAM,IAAI,CAAC,UAAU,CAAC,YAAY,EAAE;YACjC,UAAU,CAAC,YAAY,GAAG,IAAI,YAAY,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC;SAChE;;;KAGJ;;;;;;IAED,kBAAkB,CAAC,UAAsC,EAAE,GAAQ;;cACzD,IAAI,GAAG,GAAG,CAAC,aAAa;;YAC1B,YAAY,GAAG,IAAI,YAAY,CAAC,UAAU,CAAC,KAAK,CAAC;QACrD,YAAY,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC;QACxC,YAAY,CAAC,gBAAgB,GAAG,IAAI,CAAC,gBAAgB,CAAC;QACtD,YAAY,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC;QAC1C,YAAY,CAAC,cAAc,GAAG,IAAI,CAAC,cAAc,CAAC;QAClD,YAAY,CAAC,uBAAuB,GAAG,IAAI,CAAC,uBAAuB,CAAC;QACpE,YAAY,CAAC,gBAAgB,GAAG,IAAI,CAAC,gBAAgB,CAAC;QAEtD,UAAU,CAAC,YAAY,GAAG,YAAY,CAAC;KAC1C;;;;;;IAED,sBAAsB,CAAC,UAAsC,EAAE,GAAQ;;cAC7D,SAAS,GAAG,UAAU,CAAC,KAAK;;cAC5B,cAAc,GAAG,SAAS,CAAC,cAAc,CAAC,oBAAoB,EAAE;QACtE,IAAI,UAAU,CAAC,gBAAgB,IAAI,UAAU,CAAC,gBAAgB,CAAC,MAAM,GAAG,CAAC,EAAE;YACvE,KAAK,MAAM,CAAC,IAAI,UAAU,CAAC,gBAAgB,EAAE;gBACzC,IAAI,CAAC,CAAC,GAAG,KAAK,WAAW,EAAE;;0BACjB,CAAC,GAAG,cAAc,CAAC,SAAS;;;;oBAAC,CAAC,KAAK,CAAC,YAAYA,WAAS,IAAI,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC,KAAK,CAAC,EAAC;oBACrF,cAAc,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;iBAC/B;aACJ;SACJ;QACD,UAAU,CAAC,gBAAgB,GAAG,IAAI,KAAK,EAAE,CAAC;;cAEpC,SAAS,sBAAG,GAAG,CAAC,aAAa,EAAS;QAC5C,IAAI,SAAS,IAAI,SAAS,CAAC,MAAM,GAAG,CAAC,EAAE;YACnC,KAAK,MAAM,CAAC,IAAI,SAAS,EAAE;;sBACjB,eAAe,GAAG,IAAI,eAAe,CAAC,SAAS,CAAC;;gBAEtD,eAAe,CAAC,YAAY,GAAG,CAAC,CAAC,YAAY,CAAC;gBAC9C,eAAe,CAAC,YAAY,GAAG,CAAC,CAAC,YAAY,CAAC;gBAC9C,eAAe,CAAC,GAAG,GAAG,CAAC,CAAC,GAAG,CAAC;gBAC5B,eAAe,CAAC,aAAa,GAAG,CAAC,CAAC,aAAa,CAAC;gBAChD,eAAe,CAAC,KAAK,GAAG,CAAC,CAAC,KAAK,CAAC;gBAChC,eAAe,CAAC,SAAS,GAAG,CAAC,CAAC,SAAS,CAAC;gBAExC,UAAU,CAAC,gBAAgB,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;gBAClD,IAAI,eAAe,CAAC,GAAG,KAAK,WAAW,EAAE;;0BAC/B,CAAC,GAAG,CAAC,CAAC,SAAS;oBACrB,IAAI,CAAC,EAAE;;4BACC,GAAG,GAAG,IAAIA,WAAS,CAAC,SAAS,CAAC;wBAClC,GAAG,CAAC,UAAU,GAAG,CAAC,CAAC,UAAU,CAAC;wBAC9B,GAAG,CAAC,UAAU,GAAG,CAAC,CAAC,UAAU,CAAC;wBAC9B,GAAG,CAAC,EAAE,GAAG,CAAC,CAAC,EAAE,CAAC;wBACd,GAAG,CAAC,IAAI,GAAG,CAAC,CAAC,IAAI,CAAC;wBAClB,GAAG,CAAC,gBAAgB,GAAG,IAAI,KAAK,EAAE,CAAC;wBACnC,IAAI,CAAC,CAAC,gBAAgB,IAAI,CAAC,CAAC,gBAAgB,CAAC,MAAM,GAAG,CAAC,EAAE;4BACrD,KAAK,IAAI,CAAC,IAAI,CAAC,CAAC,gBAAgB,EAAE;;oCAC1B,SAAS,GAAG,IAAI,eAAe,CAAC,SAAS,EAAE,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC,KAAK,CAAC;gCAC/D,SAAS,CAAC,GAAG,GAAG,CAAC,CAAC,GAAG,CAAC;gCACtB,GAAG,CAAC,gBAAgB,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;6BACxC;yBACJ;wBAED,cAAc,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;qBAC5B;iBACJ;aACJ;SACJ;KACJ;;;;;IAED,aAAa,CAAC,UAAsC;;cAC1C,SAAS,GAAG,UAAU,CAAC,KAAK;QAClC,IAAI,UAAU,CAAC,gBAAgB,IAAI,UAAU,CAAC,gBAAgB,CAAC,MAAM,GAAG,CAAC,EAAE;;kBACjE,YAAY,GAAG,SAAS,CAAC,cAAc,CAAC,eAAe,EAAE;;kBACzD,SAAS,GAAG,IAAI,GAAG,EAAqC;YAC9D,KAAK,MAAM,GAAG,IAAI,YAAY,EAAE;gBAC5B,IAAI,YAAY,CAAC,GAAG,CAAC,YAAY,0BAA0B,IAAI,YAAY,CAAC,GAAG,CAAC,CAAC,EAAE,KAAK,UAAU,CAAC,EAAE,EAAE;;0BAC7F,UAAU,sBAAG,YAAY,CAAC,GAAG,CAAC,EAA8B;oBAClE,KAAK,MAAM,CAAC,IAAI,UAAU,CAAC,gBAAgB,EAAE;;8BACnC,KAAK,sBAAG,CAAC,EAA6B;wBAC5C,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,KAAK,CAAC,SAAS,CAAC,EAAE;4BACjC,SAAS,CAAC,GAAG,CAAC,KAAK,CAAC,SAAS,EAAE,KAAK,CAAC,CAAC;yBACzC;qBACJ;iBACJ;aACJ;YACD,KAAK,MAAM,CAAC,IAAI,UAAU,CAAC,gBAAgB,EAAE;;sBACnC,QAAQ,sBAAG,CAAC,EAA6B;gBAC/C,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,QAAQ,CAAC,SAAS,CAAC,EAAE;;0BAC9B,CAAC,GAAG,SAAS,CAAC,OAAO,CAAC,SAAS;;;;oBAAC,CAAC,IAAI,CAAC,CAAC,IAAI,KAAK,QAAQ,CAAC,SAAS,EAAC;oBACzE,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE;wBACR,SAAS,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;qBAClC;iBACJ;aACJ;SACJ;KACJ;;AAnPM,0CAAW,GAAW,0BAA0B,CAAC,WAAW,CAAC;;;;;;ACpBxE;;;AAWA,MAAa,mBAAoB,SAAQ,QAAQ;;;;;;IAgB7C,YAAY,KAAW,EAAE,QAA+B,EAAE,KAAc;QACpE,KAAK,CAAC,KAAK,EAAE,QAAQ,EAAE,KAAK,CAAC,CAAC;QAhBlC,cAAS,GAAW,mBAAmB,CAAC,WAAW,CAAC;QACpD,SAAI,GAAW,IAAI,CAAC;QACpB,iBAAY,GAAgC;YAC1C,QAAQ,EAAE,IAAI;YACd,QAAQ,EAAE,IAAI;YACd,IAAI,EAAE,SAAS;SAClB,CAAC;QAIA,YAAO,GAAG;YACN,CAAC,aAAa,CAAC,OAAO,GAAG,WAAW,CAAC,UAAU,GAAG,cAAc;YAChE,CAAC,aAAa,CAAC,QAAQ,GAAG,WAAW,CAAC,UAAU,GAAG,qBAAqB;SAC3E,CAAC;KAID;;;;;IAED,iBAAiB,CAAC,OAAyB;;cACjC,QAAQ,sBAAG,KAAK,CAAC,iBAAiB,CAAC,OAAO,CAAC,EAAmB;QACpE,QAAQ,CAAC,EAAE,GAAG,iBAAiB,GAAG,eAAe,CAAC,iBAAiB,EAAE,CAAC;QAEtE,OAAO,QAAQ,CAAC;KACnB;;;;IAED,mBAAmB;;YACX,GAAG,GAAG,IAAI,CAAC,WAAW;;YAEtB,aAAa,GAA0B,IAAI,qBAAqB,EAAE;;YAClE,gBAAgB,GAA0B,IAAI,qBAAqB,EAAE;;YACrE,YAAY,GAAQ,EAAE;QAE1B,aAAa,CAAC,UAAU,GAAG,eAAe,CAAC;QAC3C,aAAa,CAAC,YAAY,GAAG,WAAW,CAAC,GAAG,CAAC,kBAAkB,CAAC,CAAC;QACjE,aAAa,CAAC,KAAK,GAAG,OAAO,CAAC;QAC9B,aAAa,CAAC,OAAO,GAAG,WAAW,CAAC,GAAG,CAAC,iBAAiB,CAAC,CAAA;QAC1D,aAAa,CAAC,UAAU,GAAG;YACvB,EAAE,UAAU,EAAE,2BAA2B,CAAC,IAAI,EAAE,YAAY,EAAE,WAAW,CAAC,GAAG,CAAC,MAAM,CAAC,EAAE,YAAY,EAAE,QAAQ,EAAE,OAAO,EAAE,CAAC,IAAI,CAAC,QAAQ,CAAC,gBAAgB,EAAE;YACzJ,EAAE,UAAU,EAAE,2BAA2B,CAAC,YAAY,EAAE,YAAY,EAAE,WAAW,CAAC,GAAG,CAAC,cAAc,CAAC,EAAE,YAAY,EAAE,eAAe,EAAE,OAAO,EAAE,IAAI,CAAC,QAAQ,CAAC,gBAAgB,EAAE;YAC/K,EAAE,UAAU,EAAE,2BAA2B,CAAC,EAAE,EAAE,YAAY,EAAE,WAAW,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,YAAY,EAAE,QAAQ,EAAE,QAAQ,EAAE,IAAI,EAAE;SAC9H,CAAC;QAGF,gBAAgB,CAAC,UAAU,GAAG,kBAAkB,CAAC;QACjD,gBAAgB,CAAC,YAAY,GAAG,WAAW,CAAC,GAAG,CAAC,kBAAkB,CAAC,CAAC;QACpE,gBAAgB,CAAC,KAAK,GAAG,OAAO,CAAC;QACjC,gBAAgB,CAAC,OAAO,GAAG,WAAW,CAAC,GAAG,CAAC,iBAAiB,CAAC,CAAA;QAC7D,gBAAgB,CAAC,UAAU,GAAG;YAC1B,EAAE,UAAU,EAAE,2BAA2B,CAAC,aAAa,EAAE,YAAY,EAAE,WAAW,CAAC,GAAG,CAAC,eAAe,CAAC,EAAE,YAAY,EAAE,OAAO,EAAE;YAChI,EAAE,UAAU,EAAE,2BAA2B,CAAC,gBAAgB,EAAE,YAAY,EAAE,WAAW,CAAC,GAAG,CAAC,kBAAkB,CAAC,EAAE,YAAY,EAAE,OAAO,EAAE;SACzI,CAAC;QAEF,YAAY,CAAC,2BAA2B,CAAC,EAAE,CAAC,GAAG,GAAG,CAAC,EAAE,CAAC;QACtD,YAAY,CAAC,2BAA2B,CAAC,SAAS,CAAC,GAAG,GAAG,CAAC,SAAS,CAAC;QACpE,YAAY,CAAC,2BAA2B,CAAC,IAAI,CAAC,GAAG,GAAG,CAAC,IAAI,CAAC;QAC1D,YAAY,CAAC,2BAA2B,CAAC,YAAY,CAAC,GAAG,GAAG,CAAC,YAAY,IAAI;YACzE,QAAQ,EAAE,GAAG,CAAC,IAAI;SACrB,CAAC;QACF,YAAY,CAAC,2BAA2B,CAAC,aAAa,CAAC,GAAG,cAAc,CAAC,iBAAiB,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC;QAC/G,YAAY,CAAC,2BAA2B,CAAC,gBAAgB,CAAC,GAAG,cAAc,CAAC,mBAAmB,CAAC,GAAG,CAAC,KAAK,EAAE,GAAG,CAAC,gBAAgB,CAAC,CAAC;QAEjI,OAAO;YACH,cAAc,EAAE,CAAC,aAAa,EAAE,gBAAgB,CAAC;YACjD,YAAY,EAAE,YAAY;SAC7B,CAAA;KACJ;;;;;IAED,WAAW,CAAC,GAAQ;;cACV,eAAe,GAAG,IAAI,CAAC,WAAW;;cAClC,UAAU,GAAW,GAAG,CAAC,UAAU;QACzC,QAAQ,UAAU;YACd,KAAK,2BAA2B,CAAC,aAAa;gBAC1C,IAAI,CAAC,oBAAoB,CAAC,eAAe,EAAE,GAAG,CAAC,CAAC;gBAChD,MAAM;YACV,KAAK,2BAA2B,CAAC,gBAAgB;gBAC7C,IAAI,CAAC,sBAAsB,CAAC,eAAe,EAAE,GAAG,CAAC,CAAC;gBAClD,MAAM;YACV;gBACI,KAAK,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC;gBACvB,MAAM;SACb;KACJ;;;;;;IAED,oBAAoB,CAAC,eAAgC,EAAE,GAAQ;;cACrD,SAAS,GAAG,eAAe,CAAC,KAAK;;YACnC,OAAO,sBAAG,GAAG,CAAC,aAAa,EAAS;QACxC,eAAe,CAAC,cAAc,GAAG,IAAI,KAAK,EAAE,CAAC;QAC7C,IAAI,OAAO,IAAI,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE;YAC/B,KAAK,IAAI,CAAC,IAAI,OAAO,EAAE;;sBACb,aAAa,GAAG,IAAI,aAAa,CAAC,SAAS,CAAC;gBAClD,aAAa,CAAC,QAAQ,GAAG,CAAC,CAAC,QAAQ,CAAC;gBACpC,aAAa,CAAC,QAAQ,GAAG,CAAC,CAAC,QAAQ,CAAC;gBACpC,aAAa,CAAC,OAAO,GAAG,CAAC,CAAC,OAAO,CAAC;gBAClC,aAAa,CAAC,OAAO,GAAG,CAAC,CAAC,OAAO,CAAC;gBAClC,IAAI,CAAC,CAAC,kBAAkB,EAAE;;0BAChB,kBAAkB,GAAG,IAAI,kBAAkB,CAAC,SAAS,CAAC;oBAC5D,kBAAkB,CAAC,IAAI,GAAG,CAAC,CAAC,kBAAkB,CAAC,IAAI,CAAC;oBACpD,kBAAkB,CAAC,OAAO,GAAG,CAAC,CAAC,kBAAkB,CAAC,OAAO,CAAC;oBAC1D,kBAAkB,CAAC,mBAAmB,GAAG,IAAI,KAAK,EAAE,CAAC;oBACrD,IAAI,CAAC,CAAC,kBAAkB,CAAC,mBAAmB,IAAI,CAAC,CAAC,kBAAkB,CAAC,mBAAmB,CAAC,MAAM,GAAG,CAAC,EAAE;wBACjG,KAAK,MAAM,CAAC,IAAI,CAAC,CAAC,kBAAkB,CAAC,mBAAmB,EAAE;;kCAChD,QAAQ,GAAG,IAAI,kBAAkB,CAAC,SAAS,CAAC;4BAClD,QAAQ,CAAC,IAAI,GAAG,CAAC,CAAC,IAAI,CAAC;4BACvB,QAAQ,CAAC,KAAK,GAAG,CAAC,CAAC,KAAK,CAAC;4BACzB,QAAQ,CAAC,GAAG,GAAG,CAAC,CAAC,GAAG,CAAC;4BACrB,kBAAkB,CAAC,mBAAmB,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;yBACzD;qBACJ;oBACD,aAAa,CAAC,kBAAkB,GAAG,kBAAkB,CAAC;iBACzD;;;gBAGD,IAAI,CAAC,CAAC,SAAS,IAAI,CAAC,CAAC,SAAS,CAAC,MAAM,GAAG,CAAC,EAAE;;0BACjC,SAAS,GAAG,CAAC,CAAC,SAAS,CAAC,MAAM;;;;oBAAC,CAAC,CAAM,KAAK,CAAC,CAAC,IAAI,KAAK,iBAAiB;4BACrE,CAAC,CAAC,IAAI,KAAK,oBAAoB,IAAI,CAAC,CAAC,kBAAkB,KAAK,6BAA6B,CAAC,EAAC;;0BAC7F,YAAY,GAAG,CAAC,CAAC,SAAS,CAAC,MAAM;;;;oBAAC,CAAC,CAAM,KAAK,CAAC,CAAC,IAAI,KAAK,qBAAqB,IAAI,CAAC,CAAC,IAAI,KAAK,qBAAqB;4BAChH,CAAC,CAAC,IAAI,KAAK,oBAAoB,IAAI,CAAC,CAAC,kBAAkB,KAAK,6BAA6B,CAAC,EAAC;oBACnG,IAAI,SAAS,IAAI,SAAS,CAAC,MAAM,GAAG,CAAC,EAAE;;4BAC/B,QAAQ,GAAG,EAAE;;4BACb,YAAY,GAAG,EAAE;wBACrB,KAAK,MAAM,CAAC,IAAI,SAAS,EAAE;4BACvB,IAAI,CAAC,CAAC,IAAI,KAAK,oBAAoB,EAAE;gCACjC,QAAQ,KAAK,CAAC,CAAC,kBAAkB,GAAG,GAAG,CAAC,CAAC;gCACzC,IAAI,CAAC,CAAC,kBAAkB,KAAK,iBAAiB,EAAE;oCAC5C,YAAY,IAAI,QAAQ,CAAA;iCAC3B;qCAAM,IAAI,CAAC,CAAC,kBAAkB,KAAK,qBAAqB,EAAE;oCACvD,YAAY,IAAI,QAAQ,CAAA;iCAC3B;6BACJ;iCAAM,IAAI,CAAC,CAAC,IAAI,KAAK,iBAAiB,EAAE;gCACrC,QAAQ,KAAK,CAAC,CAAC,OAAO,GAAG,GAAG,CAAC,CAAC;gCAC9B,YAAY,KAAK,CAAC,CAAC,SAAS,GAAG,GAAG,CAAC,CAAC;6BACvC;yBACJ;wBACD,IAAI,QAAQ,EAAE;4BACV,QAAQ,GAAG,QAAQ,CAAC,SAAS,CAAC,CAAC,EAAE,QAAQ,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;yBACzD;wBACD,IAAI,YAAY,EAAE;4BACd,YAAY,GAAG,YAAY,CAAC,SAAS,CAAC,CAAC,EAAE,YAAY,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;yBACrE;wBACD,aAAa,CAAC,QAAQ,GAAG,QAAQ,CAAC;wBAClC,aAAa,CAAC,YAAY,GAAG,YAAY,CAAC;qBAC7C;oBACD,IAAI,YAAY,IAAI,YAAY,CAAC,MAAM,GAAG,CAAC,EAAE;;8BACnC,mBAAmB,GAAG,IAAI,KAAK,EAAyB;wBAC9D,KAAK,MAAM,CAAC,IAAI,YAAY,EAAE;4BAC1B,IAAI,CAAC,CAAC,IAAI,KAAK,oBAAoB,EAAE;;oCAC7B,gBAAgB,GAAG,IAAI,qCAAqC,CAAC,eAAe,CAAC,KAAK,CAAC;gCACvF,gBAAgB,CAAC,EAAE,GAAG,eAAe,CAAC,iBAAiB,EAAE,CAAC;gCAC1D,gBAAgB,CAAC,aAAa,GAAG,CAAC,CAAC,aAAa,CAAC;gCACjD,gBAAgB,CAAC,eAAe,GAAG,CAAC,CAAC,eAAe,CAAC;gCACrD,mBAAmB,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC;6BAC9C;4BACD,IAAI,CAAC,CAAC,IAAI,KAAK,qBAAqB,EAAE;;oCAC9B,mBAAmB,GAAG,IAAI,yBAAyB,CAAC,eAAe,CAAC,KAAK,EAAE,CAAC,CAAC,mBAAmB,EAAE,CAAC,CAAC,YAAY,EAAE,CAAC,CAAC,OAAO,CAAC;gCAChI,mBAAmB,CAAC,EAAE,GAAG,eAAe,CAAC,iBAAiB,EAAE,CAAC;gCAC7D,mBAAmB,CAAC,GAAG,GAAG,YAAY,CAAC;gCACvC,mBAAmB,CAAC,OAAO,GAAG,CAAC,CAAC,OAAO,CAAC;gCACxC,mBAAmB,CAAC,IAAI,CAAC,mBAAmB,CAAC,CAAC;6BACjD;4BACD,IAAI,CAAC,CAAC,IAAI,KAAK,qBAAqB,EAAE;;oCAC9B,eAAe,GAAG,IAAI,6BAA6B,CAAC,eAAe,CAAC,KAAK,EAAE,CAAC,CAAC,UAAU,EAAE,CAAC,CAAC,YAAY,CAAC;gCAC5G,eAAe,CAAC,EAAE,GAAG,eAAe,CAAC,iBAAiB,EAAE,CAAC;gCACzD,eAAe,CAAC,YAAY,GAAG,CAAC,CAAC,YAAY,CAAC;gCAC9C,IAAI,CAAC,CAAC,YAAY,KAAK,GAAG,EAAE;oCACxB,eAAe,CAAC,KAAK,GAAG,CAAC,CAAC,KAAK,CAAC;oCAChC,eAAe,CAAC,OAAO,GAAG,CAAC,CAAC,OAAO,CAAC;iCACvC;gCACD,mBAAmB,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;6BAC7C;yBACJ;wBACD,aAAa,CAAC,mBAAmB,GAAG,mBAAmB,CAAC;qBAC3D;iBACJ;gBAED,eAAe,CAAC,cAAc,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;aACtD;SACJ;KACJ;;;;;;IAED,sBAAsB,CAAC,eAAgC,EAAE,GAAQ;;cACvD,SAAS,GAAG,eAAe,CAAC,KAAK;;cACjC,cAAc,GAAG,SAAS,CAAC,cAAc,CAAC,oBAAoB,EAAE;QACtE,IAAI,eAAe,CAAC,gBAAgB,IAAI,eAAe,CAAC,gBAAgB,CAAC,MAAM,GAAG,CAAC,EAAE;YACjF,KAAK,MAAM,CAAC,IAAI,eAAe,CAAC,gBAAgB,EAAE;gBAC9C,IAAI,CAAC,CAAC,GAAG,KAAK,WAAW,EAAE;;0BACjB,CAAC,GAAG,cAAc,CAAC,SAAS;;;;oBAAC,CAAC,KAAK,CAAC,YAAYA,WAAS,IAAI,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC,KAAK,CAAC,EAAC;oBACrF,cAAc,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;iBAC/B;aACJ;SACJ;QACD,eAAe,CAAC,gBAAgB,GAAG,IAAI,KAAK,EAAE,CAAC;;cAEzC,SAAS,sBAAG,GAAG,CAAC,aAAa,EAAS;QAC5C,IAAI,SAAS,IAAI,SAAS,CAAC,MAAM,GAAG,CAAC,EAAE;YACnC,KAAK,MAAM,CAAC,IAAI,SAAS,EAAE;;sBACjB,eAAe,GAAG,IAAI,eAAe,CAAC,SAAS,CAAC;;gBAEtD,eAAe,CAAC,YAAY,GAAG,CAAC,CAAC,YAAY,CAAC;gBAC9C,eAAe,CAAC,YAAY,GAAG,CAAC,CAAC,YAAY,CAAC;gBAC9C,eAAe,CAAC,GAAG,GAAG,CAAC,CAAC,GAAG,CAAC;gBAC5B,eAAe,CAAC,aAAa,GAAG,CAAC,CAAC,aAAa,CAAC;gBAChD,eAAe,CAAC,KAAK,GAAG,CAAC,CAAC,KAAK,CAAC;gBAChC,eAAe,CAAC,SAAS,GAAG,CAAC,CAAC,SAAS,CAAC;gBAExC,eAAe,CAAC,gBAAgB,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;gBACvD,IAAI,eAAe,CAAC,GAAG,KAAK,WAAW,EAAE;;0BAC/B,CAAC,GAAG,CAAC,CAAC,SAAS;oBACrB,IAAI,CAAC,EAAE;;4BACC,GAAG,GAAG,IAAIA,WAAS,CAAC,SAAS,CAAC;wBAClC,GAAG,CAAC,UAAU,GAAG,CAAC,CAAC,UAAU,CAAC;wBAC9B,GAAG,CAAC,UAAU,GAAG,CAAC,CAAC,UAAU,CAAC;wBAC9B,GAAG,CAAC,EAAE,GAAG,CAAC,CAAC,EAAE,CAAC;wBACd,GAAG,CAAC,IAAI,GAAG,CAAC,CAAC,IAAI,CAAC;wBAClB,GAAG,CAAC,gBAAgB,GAAG,IAAI,KAAK,EAAE,CAAC;wBACnC,IAAI,CAAC,CAAC,gBAAgB,IAAI,CAAC,CAAC,gBAAgB,CAAC,MAAM,GAAG,CAAC,EAAE;4BACrD,KAAK,IAAI,CAAC,IAAI,CAAC,CAAC,gBAAgB,EAAE;;oCAC1B,SAAS,GAAG,IAAI,eAAe,CAAC,SAAS,EAAE,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC,KAAK,CAAC;gCAC/D,SAAS,CAAC,GAAG,GAAG,CAAC,CAAC,GAAG,CAAC;gCACtB,GAAG,CAAC,gBAAgB,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;6BACxC;yBACJ;wBAED,cAAc,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;qBAC5B;iBACJ;aACJ;SACJ;KACJ;;AA7NM,+BAAW,GAAW,eAAe,CAAC,WAAW,CAAC;;;;;;ACnB7D,MAAahC,iBAAe;CAO3B;;;;;;ACPD,MAAae,cAAY;CAMxB;;;;;;ACHD,MAAakB,gBAAc;CAG1B;;;;;;;;;;;ICFG,YAAa,YAAY;;;;IAIzB,MAAO,MAAM;;;;IAIb,YAAa,YAAY;;;;IAIzB,SAAU,SAAS;;;;;;;AChBvB,MAGaC,iBAAe;IACxB;QACI,IAAI,CAAC,cAAc,GAAG,IAAID,gBAAc,EAAE,CAAC;QAC3C,IAAI,CAAC,kBAAkB,GAAG,IAAI,KAAK,EAAE,CAAC;QACtC,IAAI,CAAC,kBAAkB,GAAG,IAAI,KAAK,EAAE,CAAC;QACtC,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;KAC3B;CAKJ;;;;;;ACdD,MAAa,kBAAkB;CAqD9B;;;;;;;;;;;ACrDD;;;AAsBA,MAAa,kBAAmB,SAAQ,QAAQ;;;;;;IAiB5C,YAAY,KAAW,EAAE,QAA+B,EAAE,KAAc;QACpE,KAAK,CAAC,KAAK,EAAE,QAAQ,EAAE,KAAK,CAAC,CAAC;QAjBlC,cAAS,GAAW,kBAAkB,CAAC,WAAW,CAAC;QACnD,SAAI,GAAW,IAAI,CAAC;QACpB,iBAAY,GAAgC;YAC1C,QAAQ,EAAE,IAAI;YACd,QAAQ,EAAE,IAAI;YACd,IAAI,EAAE,QAAQ;SACjB,CAAC;QAKA,YAAO,GAAG;YACN,CAAC,aAAa,CAAC,OAAO,GAAG,WAAW,CAAC,UAAU,GAAG,aAAa;YAC/D,CAAC,aAAa,CAAC,QAAQ,GAAG,WAAW,CAAC,UAAU,GAAG,oBAAoB;SAC1E,CAAC;KAID;;;;;IAED,iBAAiB,CAAC,OAAwB;;cAChC,QAAQ,sBAAG,KAAK,CAAC,iBAAiB,CAAC,OAAO,CAAC,EAAkB;QACnE,QAAQ,CAAC,EAAE,GAAG,gBAAgB,GAAG,eAAe,CAAC,iBAAiB,EAAE,CAAC;;QAGrE,IAAI,OAAO,IAAI,IAAI,EAAE;YACjB,QAAQ,CAAC,UAAU,GAAG,IAAI,CAAC,QAAQ,CAAC,aAAa,CAAC,YAAY,CAAC;SAClE;QACD,OAAO,QAAQ,CAAC;KACnB;;;;IAED,mBAAmB;;cACT,QAAQ,GAAG,IAAI,CAAC,QAAQ;;;YAE1B,GAAG,GAAG,IAAI,CAAC,WAAW;;;;YAGtB,iBAAiB,GAAQ,EAAE;QAG/B,IAAI,QAAQ,CAAC,YAAY,IAAI,QAAQ,CAAC,YAAY,CAAC,MAAM,GAAG,CAAC,EAAE;YAC3D,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,YAAY,CAAC,CAAC,CAAC,OAAO;;;;YAAC,CAAC,CAAM;gBAC7D,IAAI,CAAC,CAAC,gBAAgB,IAAI,CAAC,CAAC,gBAAgB,CAAC,OAAO,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,QAAQ,EAAE;oBACnF,iBAAiB,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;iBAC7B;qBAAM,IAAI,CAAC,CAAC,gBAAgB,IAAI,CAAC,CAAC,gBAAgB,CAAC,OAAO,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,QAAQ,EAAE,CAE5F;aACJ,EAAC,CAAA;SACL;QACD,iBAAiB,GAAG,iBAAiB,CAAC,IAAI;;;;;QAAC,CAAC,CAAC,EAAE,CAAC;YAC5C,OAAO,CAAC,CAAC,SAAS,GAAG,CAAC,CAAC,SAAS,CAAC;SACpC,EAAC,CAAC;;YAEC,UAAU,GAAG,EAAE;QACnB,IAAI,QAAQ,CAAC,YAAY,IAAI,QAAQ,CAAC,YAAY,CAAC,MAAM,GAAG,CAAC,EAAE;YAC3D,UAAU,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,YAAY,CAAC,CAAC,CAAC,IAAI;;;;;YAAC,CAAC,CAAC,EAAE,CAAC;gBACrE,OAAO,CAAC,CAAC,SAAS,GAAG,CAAC,CAAC,SAAS,CAAC;aACpC,EAAC,CAAC;SACN;QACD,UAAU,GAAG,UAAU,CAAC,IAAI;;;;;QAAC,CAAC,CAAC,EAAE,CAAC;YAC9B,OAAO,CAAC,CAAC,SAAS,GAAG,CAAC,CAAC,SAAS,CAAC;SACpC,EAAC,CAAA;;YAEE,aAAa,GAA0B,IAAI,qBAAqB,EAAE;;YAClE,gBAAgB,GAA0B,IAAI,qBAAqB,EAAE;;YACrE,YAAY,GAAQ,EAAE;QAE1B,aAAa,CAAC,UAAU,GAAG,eAAe,CAAC;QAC3C,aAAa,CAAC,YAAY,GAAG,WAAW,CAAC,GAAG,CAAC,kBAAkB,CAAC,CAAC;QACjE,aAAa,CAAC,KAAK,GAAG,OAAO,CAAC;QAC9B,aAAa,CAAC,OAAO,GAAG,WAAW,CAAC,GAAG,CAAC,iBAAiB,CAAC,CAAA;QAC1D,aAAa,CAAC,UAAU,GAAG;YACvB,EAAE,UAAU,EAAE,0BAA0B,CAAC,IAAI,EAAE,YAAY,EAAE,WAAW,CAAC,GAAG,CAAC,MAAM,CAAC,EAAE,YAAY,EAAE,QAAQ,EAAE,OAAO,EAAE,CAAC,IAAI,CAAC,QAAQ,CAAC,gBAAgB,EAAE;YACxJ,EAAE,UAAU,EAAE,0BAA0B,CAAC,YAAY,EAAE,YAAY,EAAE,WAAW,CAAC,GAAG,CAAC,cAAc,CAAC,EAAE,YAAY,EAAE,eAAe,EAAE,OAAO,EAAE,IAAI,CAAC,QAAQ,CAAC,gBAAgB,EAAE;YAC9K,EAAE,UAAU,EAAE,0BAA0B,CAAC,EAAE,EAAE,YAAY,EAAE,WAAW,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,YAAY,EAAE,QAAQ,EAAE,QAAQ,EAAE,IAAI,EAAE;SAC7H,CAAC;;YAEE,iBAAiB,GAA0B,IAAI,qBAAqB,EAAE;QAC1E,iBAAiB,CAAC,UAAU,GAAG,mBAAmB,CAAC;QACnD,iBAAiB,CAAC,YAAY,GAAG,WAAW,CAAC,GAAG,CAAC,mBAAmB,CAAC,CAAC;QACtE,iBAAiB,CAAC,KAAK,GAAG,OAAO,CAAC;QAClC,iBAAiB,CAAC,OAAO,GAAG,WAAW,CAAC,GAAG,CAAC,iBAAiB,CAAC,CAAC;QAC/D,iBAAiB,CAAC,UAAU,GAAG;YAC3B,EAAE,UAAU,EAAE,0BAA0B,CAAC,kBAAkB,EAAE,YAAY,EAAE,WAAW,CAAC,GAAG,CAAC,iBAAiB,CAAC,EAAE,YAAY,EAAE,OAAO,EAAE;SACzI,CAAC;;YAEE,OAAO,GAAG,IAAI,qBAAqB,EAAE;QACzC,OAAO,CAAC,UAAU,GAAG,SAAS,CAAC;QAC/B,OAAO,CAAC,YAAY,GAAG,WAAW,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;QAClD,OAAO,CAAC,KAAK,GAAG,OAAO,CAAC;QACxB,OAAO,CAAC,OAAO,GAAG,WAAW,CAAC,GAAG,CAAC,iBAAiB,CAAC,CAAA;QACpD,OAAO,CAAC,UAAU,GAAG;YACjB,EAAE,UAAU,EAAE,0BAA0B,CAAC,kBAAkB,EAAE,YAAY,EAAE,WAAW,CAAC,GAAG,CAAC,QAAQ,CAAC,EAAE,YAAY,EAAE,OAAO,EAAE;YAC7H,EAAE,UAAU,EAAE,0BAA0B,CAAC,sBAAsB,EAAE,YAAY,EAAE,WAAW,CAAC,GAAG,CAAC,SAAS,CAAC,EAAE,YAAY,EAAE,OAAO,EAAE;SACrI,CAAC;;YAEE,gBAAgB,GAAG,IAAI,qBAAqB,EAAE;QAClD,gBAAgB,CAAC,UAAU,GAAG,kBAAkB,CAAC;QACjD,gBAAgB,CAAC,YAAY,GAAG,WAAW,CAAC,GAAG,CAAC,kBAAkB,CAAC,CAAC;QACpE,gBAAgB,CAAC,KAAK,GAAG,OAAO,CAAC;QACjC,gBAAgB,CAAC,OAAO,GAAG,WAAW,CAAC,GAAG,CAAC,iBAAiB,CAAC,CAAC;QAC9D,gBAAgB,CAAC,UAAU,GAAG;YAC1B,EAAE,UAAU,EAAE,0BAA0B,CAAC,UAAU,EAAE,YAAY,EAAE,WAAW,CAAC,GAAG,CAAC,YAAY,CAAC,EAAE,YAAY,EAAE,OAAO,EAAE;SAC5H,CAAC;QAEF,gBAAgB,CAAC,UAAU,GAAG,UAAU,CAAC;QACzC,gBAAgB,CAAC,YAAY,GAAG,WAAW,CAAC,GAAG,CAAC,qBAAqB,CAAC,CAAC;QACvE,gBAAgB,CAAC,KAAK,GAAG,UAAU,CAAC;QACpC,gBAAgB,CAAC,OAAO,GAAG,WAAW,CAAC,GAAG,CAAC,oBAAoB,CAAC,CAAC;QACjE,gBAAgB,CAAC,UAAU,GAAG;YAC1B,EAAE,UAAU,EAAE,0BAA0B,CAAC,aAAa,EAAE,YAAY,EAAE,WAAW,CAAC,GAAG,CAAC,eAAe,CAAC,EAAE,YAAY,EAAE,OAAO,EAAE;SAClI,CAAC;;;cAGI,SAAS,GAAG,IAAI,KAAK,EAAE;QAC7B,KAAK,MAAM,MAAM,IAAI,UAAU,EAAE;YAC7B,IAAI,CAAC,MAAM,CAAC,QAAQ,EAAE;;sBACZ,KAAK,GAAG,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,IAAI,KAAK,EAAE,EAAE;gBACrD,KAAK,MAAM,CAAC,IAAI,UAAU,EAAE;oBACxB,IAAI,CAAC,CAAC,QAAQ,KAAK,MAAM,CAAC,EAAE,EAAE;wBAC1B,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;qBACxB;iBACJ;gBACD,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC,CAAA;aACxB;SACJ;;QAED,IAAI,SAAS,IAAI,SAAS,CAAC,MAAM,GAAG,CAAC,EAAE;;gBAC/B,oBAAoB,GAA0B,IAAI,qBAAqB,EAAE;YAC7E,oBAAoB,CAAC,UAAU,GAAG,sBAAsB,CAAC;YACzD,oBAAoB,CAAC,YAAY,GAAG,WAAW,CAAC,GAAG,CAAC,sBAAsB,CAAC,CAAC;YAC5E,oBAAoB,CAAC,KAAK,GAAG,UAAU,CAAC;YACxC,oBAAoB,CAAC,OAAO,GAAG,WAAW,CAAC,GAAG,CAAC,oBAAoB,CAAC,CAAC;YACrE,oBAAoB,CAAC,UAAU,GAAG,IAAI,KAAK,EAAE,CAAC;YAC9C,KAAK,MAAM,CAAC,IAAI,SAAS,EAAE;gBACvB,oBAAoB,CAAC,UAAU,CAAC,IAAI,CAChC,EAAE,UAAU,EAAE,CAAC,CAAC,MAAM,CAAC,EAAE,EAAE,YAAY,EAAE,CAAC,CAAC,MAAM,CAAC,aAAa,EAAE,YAAY,EAAE,OAAO,EAAE,CAAC,CAAC;aACjG;YACD,IAAI,CAAC,eAAe,CAAC,GAAG,EAAE,YAAY,EAAE,SAAS,CAAC,CAAC;YACnD,OAAO;gBACH,cAAc,EAAE,CAAC,aAAa,EAAE,iBAAiB,EAAE,OAAO,EAAE,gBAAgB,EAAE,gBAAgB,EAAE,oBAAoB,CAAC;gBACrH,YAAY,EAAE,YAAY;aAC7B,CAAA;SACJ;aAAM;YACH,IAAI,CAAC,eAAe,CAAC,GAAG,EAAE,YAAY,EAAE,SAAS,CAAC,CAAC;YACnD,OAAO;gBACH,cAAc,EAAE,CAAC,aAAa,EAAE,iBAAiB,EAAE,OAAO,EAAE,gBAAgB,EAAE,gBAAgB,CAAC;gBAC/F,YAAY,EAAE,YAAY;aAC7B,CAAA;SACJ;KACJ;;;;;;;;IAOD,eAAe,CAAC,GAAmB,EAAE,YAAiB,EAAE,SAAe;QACnE,YAAY,CAAC,0BAA0B,CAAC,EAAE,CAAC,GAAG,GAAG,CAAC,EAAE,CAAC;QACrD,YAAY,CAAC,0BAA0B,CAAC,SAAS,CAAC,GAAG,GAAG,CAAC,SAAS,CAAC;QACnE,YAAY,CAAC,0BAA0B,CAAC,IAAI,CAAC,GAAG,GAAG,CAAC,IAAI,CAAC;QACzD,YAAY,CAAC,0BAA0B,CAAC,YAAY,CAAC,GAAG,GAAG,CAAC,YAAY,IAAI;YACxE,QAAQ,EAAE,GAAG,CAAC,IAAI;SACrB,CAAC;QAEF,YAAY,CAAC,0BAA0B,CAAC,kBAAkB,CAAC,GAAG,IAAI,CAAC,kBAAkB,CAAC,GAAG,CAAC,CAAC;QAE3F,YAAY,CAAC,0BAA0B,CAAC,aAAa,CAAC,GAAG,cAAc,CAAC,iBAAiB,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC;QAC9G,YAAY,CAAC,0BAA0B,CAAC,kBAAkB,CAAC;YACvD,GAAG,CAAC,YAAY,GAAG,GAAG,CAAC,YAAY,CAAC,IAAI;;;;YAAC,CAAC,IAAI,CAAC,CAAC,YAAY,KAAK,IAAI,EAAC,GAAG,IAAI,CAAC;QAClF,YAAY,CAAC,0BAA0B,CAAC,sBAAsB,CAAC;YAC3D,GAAG,CAAC,YAAY,GAAG,GAAG,CAAC,YAAY,CAAC,IAAI;;;;YAAC,CAAC,IAAI,CAAC,CAAC,YAAY,KAAK,QAAQ,EAAC,GAAG,IAAI,CAAC;QACtF,YAAY,CAAC,0BAA0B,CAAC,UAAU,CAAC,GAAG,cAAc,CAAC,aAAa,CAAC,GAAG,CAAC,UAAU,EAAE,GAAG,CAAC,mBAAmB,CAAC,CAAC;QAE5H,KAAK,MAAM,CAAC,IAAI,SAAS,EAAE;;YAEvB,IAAI,GAAG,CAAC,gBAAgB,IAAI,GAAG,CAAC,gBAAgB,CAAC,MAAM,GAAG,CAAC,EAAE;gBACzD,CAAC,CAAC,MAAM,CAAC,IAAI;;;;;gBAAC,CAAC,CAAC,EAAE,CAAC;oBACf,OAAO,CAAC,CAAC,SAAS,GAAG,CAAC,CAAC,SAAS,CAAC;iBACpC,EAAC,CAAC,OAAO;;;;gBAAC,CAAC,CAAM;oBACd,GAAG,CAAC,gBAAgB,CAAC,OAAO;;;;oBAAC,CAAC;wBAC1B,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,IAAI,EAAE;4BACjB,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC,KAAK,CAAC;yBACrB;qBACJ,EAAC,CAAC;iBACN,EAAC,CAAC;aACN;YACD,YAAY,CAAC,CAAC,CAAC,MAAM,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,MAAM,CAAC;SACxC;KACJ;;;;;IAED,kBAAkB,CAAC,cAA8B;;cACvC,SAAS,GAAG,IAAIC,iBAAe,EAAE;;cACjC,KAAK,sBAAG,cAAc,CAAC,gBAAgB,EAAE,CAAC,MAAM;;;;QAAC,IAAI,IAAI,IAAI,YAAY,kBAAkB,EAAC,EAA6B;QAC/H,SAAS,CAAC,kBAAkB,GAAG,cAAc,CAAC,gBAAgB,CAAC,KAAK,CAAC,CAAC;QACtE,OAAO,SAAS,CAAC;KACpB;;;;;IAED,WAAW,CAAC,GAAQ;;cACV,cAAc,GAAG,IAAI,CAAC,WAAW;;cACjC,QAAQ,GAAG,IAAI,CAAC,QAAQ;;cACxB,UAAU,GAAW,GAAG,CAAC,UAAU;QACzC,QAAQ,UAAU;;YAEd,KAAK,0BAA0B,CAAC,kBAAkB;gBAC9C,IAAI,CAAC,iBAAiB,CAAC,cAAc,EAAE,GAAG,CAAC,CAAC;gBAC5C,MAAM;YACV,KAAK,0BAA0B,CAAC,aAAa;gBACzC,IAAI,CAAC,oBAAoB,CAAC,cAAc,EAAE,GAAG,CAAC,CAAC;gBAC/C,MAAM;YACV,KAAK,0BAA0B,CAAC,kBAAkB;gBAC9C,IAAI,CAAC,uBAAuB,CAAC,cAAc,EAAE,GAAG,EAAE,IAAI,CAAC,CAAC;gBACxD,IAAI,GAAG,CAAC,UAAU,IAAI,GAAG,CAAC,UAAU,CAAC,MAAM,GAAG,CAAC,EAAE;oBAC7C,cAAc,CAAC,sBAAsB,CAAC,QAAQ,CAAC,KAAK,CAAC,SAAS,CAAC,cAAc,EAAE,GAAG,CAAC,UAAU,CAAC,CAAC;iBAClG;gBACD,MAAM;YACV,KAAK,0BAA0B,CAAC,sBAAsB;gBAClD,IAAI,CAAC,uBAAuB,CAAC,cAAc,EAAE,GAAG,EAAE,QAAQ,CAAC,CAAC;gBAC5D,IAAI,GAAG,CAAC,UAAU,IAAI,GAAG,CAAC,UAAU,CAAC,MAAM,GAAG,CAAC,EAAE;oBAC7C,cAAc,CAAC,sBAAsB,CAAC,QAAQ,CAAC,KAAK,CAAC,SAAS,CAAC,cAAc,EAAE,GAAG,CAAC,UAAU,CAAC,CAAC;iBAClG;gBACD,MAAM;YACV,KAAK,0BAA0B,CAAC,UAAU;gBACtC,IAAI,CAAC,eAAe,CAAC,cAAc,EAAE,GAAG,CAAC,CAAC;gBAC1C,MAAM;YACV;;gBAEI,IAAI,IAAI,CAAC,QAAQ,CAAC,YAAY,CAAC,SAAS;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,EAAE,KAAK,UAAU,EAAC,GAAG,CAAC,CAAC,EAAE;oBACrE,IAAI,CAAC,mBAAmB,CAAC,cAAc,EAAE,GAAG,CAAC,CAAC;iBACjD;qBAAM;oBACH,KAAK,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC;iBAC1B;gBACD,MAAM;SACb;KACJ;;;;;;IAED,iBAAiB,CAAC,cAA8B,EAAE,GAAQ;;cAChD,aAAa,GAAoB,GAAG,CAAC,aAAa;;cAElD,aAAa,GAAG,cAAc,CAAC,gBAAgB,EAAE;QACvD,IAAI,aAAa,IAAI,aAAa,CAAC,MAAM,GAAG,CAAC,EAAE;YAC3C,aAAa,CAAC,OAAO;;;;YAAC,CAAC;gBACnB,IAAI,CAAC,YAAY,kBAAkB,EAAE;oBACjC,cAAc,CAAC,kBAAkB,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;iBAC3C;aACJ,EAAC,CAAC;SACN;QACD,IAAI,aAAa,CAAC,kBAAkB,IAAI,aAAa,CAAC,kBAAkB,CAAC,MAAM,GAAG,CAAC,EAAE;YACjF,KAAK,MAAM,cAAc,IAAI,aAAa,CAAC,kBAAkB,EAAE;gBAC3D,QAAQ,cAAc,CAAC,IAAI;oBACvB,KAAK,yBAAyB,CAAC,WAAW;wBACtC,IAAI,CAAC,kBAAkB,CAAC,cAAc,qBAAE,cAAc,IAAqB,gBAAgB,EAAE,IAAI,CAAC,CAAC;wBACnG,MAAM;oBACV,KAAK,6BAA6B,CAAC,WAAW;wBAC1C,IAAI,CAAC,sBAAsB,CAAC,cAAc,qBAAE,cAAc,IAAyB,gBAAgB,EAAE,IAAI,CAAC,CAAC;wBAC3G,MAAM;oBACV,KAAK,6BAA6B,CAAC,WAAW;wBAC1C,IAAI,CAAC,sBAAsB,CAAC,cAAc,qBAAE,cAAc,IAAuB,gBAAgB,EAAE,IAAI,CAAC,CAAA;wBACxG,MAAM;oBACV,KAAK,8BAA8B,CAAC,WAAW;wBAC3C,IAAI,CAAC,uBAAuB,CAAC,cAAc,qBAAE,cAAc,IAA0B,gBAAgB,EAAE,IAAI,CAAC,CAAC;wBAC7G,MAAM;oBACV,KAAK,kCAAkC,CAAC,WAAW;wBAC/C,IAAI,CAAC,2BAA2B,CAAC,cAAc,qBAAE,cAAc,IAA8B,gBAAgB,EAAE,IAAI,CAAC,CAAC;wBACrH,MAAM;oBACV,KAAK,qCAAqC,CAAC,WAAW;wBAClD,IAAI,CAAC,8BAA8B,CAAC,cAAc,qBAAE,cAAc,IAAiC,gBAAgB,EAAE,IAAI,CAAC,CAAC;wBAC3H,MAAM;oBACV,KAAK,2BAA2B,CAAC,WAAW;wBACxC,IAAI,CAAC,oBAAoB,CAAC,cAAc,qBAAE,cAAc,IAAuB,gBAAgB,EAAE,IAAI,CAAC,CAAC;wBACvG,MAAM;iBACb;aACJ;SACJ;KAEJ;;;;;;;;IAED,kBAAkB,CAAC,cAA8B,EAAE,SAA0B,EAAE,IAAY,EAAG,KAAkB;;YACxG,eAAe,GAAG,IAAI,yBAAyB,CAAC,cAAc,CAAC,KAAK,EAAE,SAAS,CAAC,WAAW,EAAE,SAAS,CAAC,aAAa,EAAE,SAAS,CAAC,OAAO,CAAC;QAC5I,eAAe,CAAC,EAAE,GAAG,SAAS,CAAC,EAAE,CAAC;QAClC,eAAe,CAAC,KAAK,GAAG,SAAS,CAAC,KAAK,CAAC;QACxC,eAAe,CAAC,OAAO,GAAG,SAAS,CAAC,OAAO,CAAC;QAC5C,eAAe,CAAC,GAAG,GAAG,SAAS,CAAC,GAAG,CAAC;QACpC,eAAe,CAAC,OAAO,GAAG,SAAS,CAAC,OAAO,CAAC;QAC5C,eAAe,CAAC,KAAK,GAAG,SAAS,CAAC,KAAK,CAAC;QACxC,IAAI,IAAI,KAAK,gBAAgB,EAAE;;gBACvB,kBAAkB,GAAG,IAAI,kBAAkB,CAAC,cAAc,CAAC,KAAK,CAAC;YACrE,kBAAkB,CAAC,qBAAqB,GAAG,eAAe,CAAC;YAC3D,IAAI,SAAS,CAAC,SAAS,EAAE;;sBACf,SAAS,GAAG,IAAI,SAAS,CAAC,cAAc,CAAC,KAAK,CAAC;gBACrD,SAAS,CAAC,KAAK,GAAG,SAAS,CAAC,SAAS,CAAC;gBACtC,kBAAkB,CAAC,SAAS,GAAG,SAAS,CAAC;aAC5C;YACD,kBAAkB,CAAC,KAAK,GAAG,SAAS,CAAC,KAAK,CAAC;YAC3C,cAAc,CAAC,eAAe,CAAC,kBAAkB,CAAC,CAAC;SACtD;aACI,IAAI,IAAI,KAAK,gBAAgB,EAAE;;gBAC5B,iBAAiB,GAAG,IAAI,kBAAkB,CAAC,cAAc,CAAC,KAAK,CAAC;YACpE,iBAAiB,CAAC,qBAAqB,GAAG,eAAe,CAAC;YAC1D,IAAI,SAAS,CAAC,SAAS,EAAE;;sBACf,SAAS,GAAG,IAAI,SAAS,CAAC,cAAc,CAAC,KAAK,CAAC;gBACrD,SAAS,CAAC,KAAK,GAAG,SAAS,CAAC,SAAS,CAAC;gBACtC,iBAAiB,CAAC,SAAS,GAAG,SAAS,CAAC;aAC3C;YACD,iBAAiB,CAAC,KAAK,GAAG,SAAS,CAAC,KAAK,CAAC;YAC1C,IAAG,KAAK,EAAE;gBACN,eAAe,CAAC,WAAW,GAAG,KAAK,CAAC;gBACpC,cAAc,CAAC,mBAAmB,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;aAC5D;iBAAK;gBACF,cAAc,CAAC,eAAe,CAAC,iBAAiB,CAAC,CAAC;aACrD;SACJ;KACJ;;;;;;;;IAED,sBAAsB,CAAC,cAA8B,EAAE,SAA4B,EAAE,IAAY,EAAE,KAAkB;;YAC7G,iBAAiB,GAAG,IAAI,6BAA6B,CAAC,cAAc,CAAC,KAAK,EAAE,SAAS,CAAC,WAAW,EAAE,SAAS,CAAC,aAAa,EAAE,SAAS,CAAC,OAAO,CAAC;QAClJ,iBAAiB,CAAC,EAAE,GAAG,SAAS,CAAC,EAAE,CAAC;QACpC,iBAAiB,CAAC,IAAI,GAAG,SAAS,CAAC,aAAa,GAAG,SAAS,CAAC,aAAa,GAAG,SAAS,CAAC,IAAI,CAAC;QAC5F,iBAAiB,CAAC,GAAG,GAAG,SAAS,CAAC,GAAG,CAAC;QACtC,iBAAiB,CAAC,QAAQ,GAAG,SAAS,CAAC,QAAQ,CAAC;QAChD,iBAAiB,CAAC,OAAO,GAAG,SAAS,CAAC,OAAO,CAAC;QAC9C,iBAAiB,CAAC,QAAQ,GAAG,SAAS,CAAC,QAAQ,CAAC;QAChD,iBAAiB,CAAC,KAAK,GAAG,SAAS,CAAC,KAAK,CAAC;QAC1C,IAAI,IAAI,KAAK,gBAAgB,EAAE;;gBACvB,kBAAkB,GAAG,IAAI,kBAAkB,CAAC,cAAc,CAAC,KAAK,CAAC;YACrE,kBAAkB,CAAC,qBAAqB,GAAG,iBAAiB,CAAC;YAC7D,IAAI,SAAS,CAAC,SAAS,EAAE;;sBACf,SAAS,GAAG,IAAI,SAAS,CAAC,cAAc,CAAC,KAAK,CAAC;gBACrD,SAAS,CAAC,KAAK,GAAG,SAAS,CAAC,SAAS,CAAC;gBACtC,kBAAkB,CAAC,SAAS,GAAG,SAAS,CAAC;aAC5C;YACD,kBAAkB,CAAC,KAAK,GAAG,SAAS,CAAC,KAAK,CAAC;YAC3C,cAAc,CAAC,eAAe,CAAC,kBAAkB,CAAC,CAAC;SACtD;aAAM,IAAI,IAAI,KAAK,gBAAgB,EAAE;;gBAC9B,iBAAiB,GAAG,IAAI,kBAAkB,CAAC,cAAc,CAAC,KAAK,CAAC;YACpE,iBAAiB,CAAC,qBAAqB,GAAG,iBAAiB,CAAC;YAC5D,IAAI,SAAS,CAAC,SAAS,EAAE;;sBACf,SAAS,GAAG,IAAI,SAAS,CAAC,cAAc,CAAC,KAAK,CAAC;gBACrD,SAAS,CAAC,KAAK,GAAG,SAAS,CAAC,SAAS,CAAC;gBACtC,iBAAiB,CAAC,SAAS,GAAG,SAAS,CAAC;aAC3C;YACD,iBAAiB,CAAC,KAAK,GAAG,SAAS,CAAC,KAAK,CAAC;YAC1C,IAAG,KAAK,EAAE;gBACN,iBAAiB,CAAC,WAAW,GAAG,KAAK,CAAC;gBACtC,cAAc,CAAC,mBAAmB,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC;aAC9D;iBAAK;gBACF,cAAc,CAAC,eAAe,CAAC,iBAAiB,CAAC,CAAC;aACrD;SACJ;KACJ;;;;;;;;IAED,sBAAsB,CAAC,cAA8B,EAAE,SAA8B,EAAE,IAAY,EAAG,KAAkB;;YAChH,eAAe,GAAG,IAAI,6BAA6B,CAAC,cAAc,CAAC,KAAK,EAAE,SAAS,CAAC,WAAW,EAAE,SAAS,CAAC,aAAa,CAAC;QAC7H,eAAe,CAAC,EAAE,GAAG,SAAS,CAAC,EAAE,CAAC;QAClC,eAAe,CAAC,YAAY,GAAG,SAAS,CAAC,YAAY,CAAC;QACtD,eAAe,CAAC,KAAK,GAAG,SAAS,CAAC,KAAK,CAAC;QACxC,IAAI,SAAS,CAAC,YAAY,KAAK,GAAG,EAAE;YAChC,eAAe,CAAC,KAAK,GAAG,SAAS,CAAC,KAAK,CAAC;YACxC,eAAe,CAAC,OAAO,GAAG,SAAS,CAAC,OAAO,CAAC;YAC5C,eAAe,CAAC,OAAO,GAAG,SAAS,CAAC,OAAO,CAAC;SAC/C;QACD,IAAI,IAAI,KAAK,gBAAgB,EAAE;;gBACvB,kBAAkB,GAAG,IAAI,kBAAkB,CAAC,cAAc,CAAC,KAAK,CAAC;YACrE,kBAAkB,CAAC,qBAAqB,GAAG,eAAe,CAAC;YAC3D,IAAI,SAAS,CAAC,SAAS,EAAE;;sBACf,SAAS,GAAG,IAAI,SAAS,CAAC,cAAc,CAAC,KAAK,CAAC;gBACrD,SAAS,CAAC,KAAK,GAAG,SAAS,CAAC,SAAS,CAAC;gBACtC,kBAAkB,CAAC,SAAS,GAAG,SAAS,CAAC;aAC5C;YACD,kBAAkB,CAAC,KAAK,GAAG,SAAS,CAAC,KAAK,CAAC;YAC3C,cAAc,CAAC,eAAe,CAAC,kBAAkB,CAAC,CAAC;SACtD;aAAM,IAAI,IAAI,KAAK,gBAAgB,EAAE;;gBAC9B,iBAAiB,GAAG,IAAI,kBAAkB,CAAC,cAAc,CAAC,KAAK,CAAC;YACpE,iBAAiB,CAAC,qBAAqB,GAAG,eAAe,CAAC;YAC1D,IAAI,SAAS,CAAC,SAAS,EAAE;;sBACf,SAAS,GAAG,IAAI,SAAS,CAAC,cAAc,CAAC,KAAK,CAAC;gBACrD,SAAS,CAAC,KAAK,GAAG,SAAS,CAAC,SAAS,CAAC;gBACtC,iBAAiB,CAAC,SAAS,GAAG,SAAS,CAAC;aAC3C;YACD,iBAAiB,CAAC,KAAK,GAAG,SAAS,CAAC,KAAK,CAAC;YAC1C,IAAG,KAAK,EAAE;gBACN,eAAe,CAAC,WAAW,GAAG,KAAK,CAAC;gBACpC,cAAc,CAAC,mBAAmB,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;aAC5D;iBAAK;gBACF,cAAc,CAAC,eAAe,CAAC,iBAAiB,CAAC,CAAC;aACrD;SACJ;KACJ;;;;;;;;IAED,uBAAuB,CAAC,cAA8B,EAAE,SAA+B,EAAE,IAAY,EAAG,KAAkB;;YAClH,oBAAoB,GAAG,IAAI,8BAA8B,CAAC,cAAc,CAAC,KAAK,CAAC;QACnF,oBAAoB,CAAC,EAAE,GAAG,SAAS,CAAC,EAAE,CAAC;QACvC,oBAAoB,CAAC,WAAW,GAAG,SAAS,CAAC,UAAU,CAAC;QACxD,oBAAoB,CAAC,aAAa,GAAG,SAAS,CAAC,IAAI,CAAC;QACpD,oBAAoB,CAAC,UAAU,GAAG,SAAS,CAAC,UAAU,CAAC;QACvD,oBAAoB,CAAC,UAAU,GAAG,SAAS,CAAC,UAAU,CAAC;QACvD,oBAAoB,CAAC,KAAK,GAAG,SAAS,CAAC,KAAK,CAAC;QAE7C,IAAI,SAAS,CAAC,gBAAgB,IAAI,SAAS,CAAC,gBAAgB,CAAC,MAAM,GAAG,CAAC,EAAE;;gBACjE,QAAQ,GAAG,IAAI,KAAK,EAAmB;YAC3C,KAAK,IAAI,IAAI,IAAI,SAAS,CAAC,gBAAgB,EAAE;;oBACrC,OAAO,GAAG,IAAI,eAAe,CAAC,cAAc,CAAC,KAAK,EAAE,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,SAAS,CAAC;;gBAG9F,OAAO,CAAC,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC;gBACvB,IAAI,IAAI,CAAC,cAAc,EAAE;oBACrB,QAAQ,IAAI,CAAC,cAAc;wBACvB,KAAK,SAAS;4BACV,OAAO,CAAC,GAAG,GAAG,YAAY,CAAC;4BAC3B,MAAM;wBACV,KAAK,MAAM;4BACP,OAAO,CAAC,GAAG,GAAG,YAAY,CAAC;4BAC3B,MAAM;wBACV;4BACI,OAAO,CAAC,GAAG,GAAG,UAAU,CAAC;4BACzB,MAAM;qBACb;iBACJ;gBACD,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;aAC1B;YACD,oBAAoB,CAAC,gBAAgB,GAAG,QAAQ,CAAC;SACpD;QACD,IAAI,IAAI,KAAK,gBAAgB,EAAE;;gBACvB,kBAAkB,GAAG,IAAI,kBAAkB,CAAC,cAAc,CAAC,KAAK,CAAC;YACrE,kBAAkB,CAAC,qBAAqB,GAAG,oBAAoB,CAAC;YAChE,IAAI,SAAS,CAAC,SAAS,EAAE;;sBACf,SAAS,GAAG,IAAI,SAAS,CAAC,cAAc,CAAC,KAAK,CAAC;gBACrD,SAAS,CAAC,KAAK,GAAG,SAAS,CAAC,SAAS,CAAC;gBACtC,kBAAkB,CAAC,SAAS,GAAG,SAAS,CAAC;aAC5C;YACD,kBAAkB,CAAC,KAAK,GAAG,SAAS,CAAC,KAAK,CAAC;YAC3C,cAAc,CAAC,eAAe,CAAC,kBAAkB,CAAC,CAAC;SACtD;aAAM,IAAI,IAAI,KAAK,gBAAgB,EAAE;;gBAC9B,iBAAiB,GAAG,IAAI,kBAAkB,CAAC,cAAc,CAAC,KAAK,CAAC;YACpE,iBAAiB,CAAC,qBAAqB,GAAG,oBAAoB,CAAC;YAC/D,IAAI,SAAS,CAAC,SAAS,EAAE;;sBACf,SAAS,GAAG,IAAI,SAAS,CAAC,cAAc,CAAC,KAAK,CAAC;gBACrD,SAAS,CAAC,KAAK,GAAG,SAAS,CAAC,SAAS,CAAC;gBACtC,iBAAiB,CAAC,SAAS,GAAG,SAAS,CAAC;aAC3C;YACD,iBAAiB,CAAC,KAAK,GAAG,SAAS,CAAC,KAAK,CAAC;YAC1C,IAAG,KAAK,EAAE;gBACN,oBAAoB,CAAC,WAAW,GAAG,KAAK,CAAC;gBACzC,cAAc,CAAC,mBAAmB,CAAC,IAAI,CAAC,oBAAoB,CAAC,CAAC;aACjE;iBAAK;gBACF,cAAc,CAAC,eAAe,CAAC,iBAAiB,CAAC,CAAC;aACrD;SACJ;KACJ;;;;;;;;IAED,2BAA2B,CAAC,cAA8B,EAAE,WAAqC,EAAE,IAAY,EAAG,KAAkB;;YAC5H,aAAa,GAAG,IAAI,kCAAkC,CAAC,cAAc,CAAC,KAAK,CAAC;QAChF,aAAa,CAAC,EAAE,GAAG,WAAW,CAAC,EAAE,CAAC;QAClC,aAAa,CAAC,kBAAkB,GAAG,WAAW,CAAC,kBAAkB,CAAC;QAClE,aAAa,CAAC,oBAAoB,GAAG,WAAW,CAAC,oBAAoB,CAAC;QACtE,aAAa,CAAC,QAAQ,GAAG,WAAW,CAAC,QAAQ,CAAC;QAC9C,aAAa,CAAC,SAAS,GAAG,WAAW,CAAC,SAAS,CAAC;QAChD,aAAa,CAAC,aAAa,GAAG,WAAW,CAAC,aAAa,CAAC;QACxD,aAAa,CAAC,KAAK,GAAG,WAAW,CAAC,KAAK,CAAC;QACxC,aAAa,CAAC,SAAS,GAAG,WAAW,CAAC,SAAS,CAAC;QAChD,aAAa,CAAC,GAAG,GAAG,WAAW,CAAC,GAAG,CAAC;QAEpC,IAAI,IAAI,KAAK,gBAAgB,EAAE;;gBACvB,kBAAkB,GAAG,IAAI,kBAAkB,CAAC,cAAc,CAAC,KAAK,CAAC;YACrE,kBAAkB,CAAC,qBAAqB,GAAG,aAAa,CAAC;YACzD,IAAI,WAAW,CAAC,SAAS,EAAE;;sBACjB,SAAS,GAAG,IAAI,SAAS,CAAC,cAAc,CAAC,KAAK,CAAC;gBACrD,SAAS,CAAC,KAAK,GAAG,WAAW,CAAC,SAAS,CAAC;gBACxC,kBAAkB,CAAC,SAAS,GAAG,SAAS,CAAC;aAC5C;YACD,kBAAkB,CAAC,KAAK,GAAG,WAAW,CAAC,KAAK,CAAC;YAC7C,cAAc,CAAC,eAAe,CAAC,kBAAkB,CAAC,CAAC;SACtD;aAAM,IAAI,IAAI,KAAK,gBAAgB,EAAE;;gBAC9B,iBAAiB,GAAG,IAAI,kBAAkB,CAAC,cAAc,CAAC,KAAK,CAAC;YACpE,iBAAiB,CAAC,qBAAqB,GAAG,aAAa,CAAC;YACxD,IAAI,WAAW,CAAC,SAAS,EAAE;;sBACjB,SAAS,GAAG,IAAI,SAAS,CAAC,cAAc,CAAC,KAAK,CAAC;gBACrD,SAAS,CAAC,KAAK,GAAG,WAAW,CAAC,SAAS,CAAC;gBACxC,iBAAiB,CAAC,SAAS,GAAG,SAAS,CAAC;aAC3C;YACD,iBAAiB,CAAC,KAAK,GAAG,WAAW,CAAC,KAAK,CAAC;YAC5C,IAAG,KAAK,EAAE;gBACN,aAAa,CAAC,WAAW,GAAG,KAAK,CAAC;gBAClC,cAAc,CAAC,mBAAmB,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;aAC1D;iBAAK;gBACF,cAAc,CAAC,eAAe,CAAC,iBAAiB,CAAC,CAAC;aACrD;SACJ;KACJ;;;;;;;;IAED,8BAA8B,CAAC,cAA8B,EAAE,WAAwC,EAAE,IAAY,EAAG,KAAkB;;YAClI,gBAAgB,GAAG,IAAI,qCAAqC,CAAC,cAAc,CAAC,KAAK,CAAC;QACtF,gBAAgB,CAAC,EAAE,GAAG,WAAW,CAAC,EAAE,CAAC;QACrC,gBAAgB,CAAC,aAAa,GAAG,WAAW,CAAC,aAAa,CAAC;QAC3D,gBAAgB,CAAC,KAAK,GAAG,WAAW,CAAC,KAAK,CAAC;QAC3C,gBAAgB,CAAC,eAAe,GAAG,WAAW,CAAC,eAAe,CAAC;QAE/D,IAAI,IAAI,KAAK,gBAAgB,EAAE;;gBACvB,kBAAkB,GAAG,IAAI,kBAAkB,CAAC,cAAc,CAAC,KAAK,CAAC;YACrE,kBAAkB,CAAC,qBAAqB,GAAG,gBAAgB,CAAC;YAC5D,IAAI,WAAW,CAAC,SAAS,EAAE;;sBACjB,SAAS,GAAG,IAAI,SAAS,CAAC,cAAc,CAAC,KAAK,CAAC;gBACrD,SAAS,CAAC,KAAK,GAAG,WAAW,CAAC,SAAS,CAAC;gBACxC,kBAAkB,CAAC,SAAS,GAAG,SAAS,CAAC;aAC5C;YACD,kBAAkB,CAAC,KAAK,GAAG,WAAW,CAAC,KAAK,CAAC;YAC7C,cAAc,CAAC,eAAe,CAAC,kBAAkB,CAAC,CAAC;SACtD;aAAM,IAAI,IAAI,KAAK,gBAAgB,EAAE;;gBAC9B,iBAAiB,GAAG,IAAI,kBAAkB,CAAC,cAAc,CAAC,KAAK,CAAC;YACpE,iBAAiB,CAAC,qBAAqB,GAAG,gBAAgB,CAAC;YAC3D,IAAI,WAAW,CAAC,SAAS,EAAE;;sBACjB,SAAS,GAAG,IAAI,SAAS,CAAC,cAAc,CAAC,KAAK,CAAC;gBACrD,SAAS,CAAC,KAAK,GAAG,WAAW,CAAC,SAAS,CAAC;gBACxC,iBAAiB,CAAC,SAAS,GAAG,SAAS,CAAC;aAC3C;YACD,iBAAiB,CAAC,KAAK,GAAG,WAAW,CAAC,KAAK,CAAC;YAC5C,IAAG,KAAK,EAAE;gBACN,gBAAgB,CAAC,WAAW,GAAG,KAAK,CAAC;gBACrC,cAAc,CAAC,mBAAmB,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC;aAC7D;iBAAK;gBACF,cAAc,CAAC,eAAe,CAAC,iBAAiB,CAAC,CAAC;aACrD;SACJ;KACJ;;;;;;;;IAED,oBAAoB,CAAC,cAA8B,EAAE,WAA8B,EAAE,IAAY,EAAG,KAAkB;;YAC9G,MAAM,GAAG,IAAI,2BAA2B,CAAC,cAAc,CAAC,KAAK,CAAC;QAClE,MAAM,CAAC,KAAK,GAAG,WAAW,CAAC,KAAK,CAAC;QACjC,MAAM,CAAC,EAAE,GAAG,WAAW,CAAC,EAAE,CAAC;QAC3B,MAAM,CAAC,WAAW,GAAG,WAAW,CAAC,WAAW,CAAC;QAC7C,MAAM,CAAC,aAAa,GAAG,WAAW,CAAC,aAAa,CAAC;QACjD,MAAM,CAAC,eAAe,GAAG,WAAW,CAAC,eAAe,CAAC;QACrD,MAAM,CAAC,mBAAmB,GAAG,WAAW,CAAC,mBAAmB,CAAC;QAC7D,MAAM,CAAC,eAAe,GAAG,WAAW,CAAC,eAAe,CAAC;QACrD,MAAM,CAAC,mBAAmB,GAAG,WAAW,CAAC,mBAAmB,CAAC;QAC7D,MAAM,CAAC,eAAe,GAAG,WAAW,CAAC,eAAe,CAAC;QACrD,MAAM,CAAC,mBAAmB,GAAG,WAAW,CAAC,mBAAmB,CAAC;QAC7D,MAAM,CAAC,oBAAoB,GAAG,WAAW,CAAC,oBAAoB,CAAC;QAC/D,MAAM,CAAC,cAAc,GAAG,WAAW,CAAC,cAAc,CAAC;QAEnD,IAAI,IAAI,KAAK,gBAAgB,EAAE;;gBACvB,kBAAkB,GAAG,IAAI,kBAAkB,CAAC,cAAc,CAAC,KAAK,CAAC;YACrE,kBAAkB,CAAC,qBAAqB,GAAG,MAAM,CAAC;YAClD,IAAI,WAAW,CAAC,SAAS,EAAE;;sBACjB,SAAS,GAAG,IAAI,SAAS,CAAC,cAAc,CAAC,KAAK,CAAC;gBACrD,SAAS,CAAC,KAAK,GAAG,WAAW,CAAC,SAAS,CAAC;gBACxC,kBAAkB,CAAC,SAAS,GAAG,SAAS,CAAC;aAC5C;YACD,kBAAkB,CAAC,KAAK,GAAG,WAAW,CAAC,KAAK,CAAC;YAC7C,cAAc,CAAC,eAAe,CAAC,kBAAkB,CAAC,CAAC;SACtD;aAAM,IAAI,IAAI,KAAK,gBAAgB,EAAE;;gBAC9B,iBAAiB,GAAG,IAAI,kBAAkB,CAAC,cAAc,CAAC,KAAK,CAAC;YACpE,iBAAiB,CAAC,qBAAqB,GAAG,MAAM,CAAC;YACjD,IAAI,WAAW,CAAC,SAAS,EAAE;;sBACjB,SAAS,GAAG,IAAI,SAAS,CAAC,cAAc,CAAC,KAAK,CAAC;gBACrD,SAAS,CAAC,KAAK,GAAG,WAAW,CAAC,SAAS,CAAC;gBACxC,iBAAiB,CAAC,SAAS,GAAG,SAAS,CAAC;aAC3C;YACD,iBAAiB,CAAC,KAAK,GAAG,WAAW,CAAC,KAAK,CAAC;YAC5C,IAAG,KAAK,EAAE;gBACN,MAAM,CAAC,WAAW,GAAG,KAAK,CAAC;gBAC3B,cAAc,CAAC,mBAAmB,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;aACnD;iBAAK;gBACN,cAAc,CAAC,eAAe,CAAC,iBAAiB,CAAC,CAAC;aACjD;SACJ;KACJ;;;;;;;;;IAQG,0BAA0B,CAAC,cAA8B,EAAE,WAAoC,EAAE,IAAY,EAAE,KAAkB;;YACzH,SAAS,GAAG,IAAI,iCAAiC,CAAC,cAAc,CAAC,KAAK,CAAC;QAC3E,SAAS,CAAC,EAAE,GAAG,WAAW,CAAC,EAAE,CAAC;QAC9B,SAAS,CAAC,KAAK,GAAG,WAAW,CAAC,KAAK,CAAC;QACpC,SAAS,CAAC,WAAW,GAAG,WAAW,CAAC,UAAU,CAAC;QAC/C,SAAS,CAAC,iBAAiB,sBAAG,WAAW,CAAC,iBAAiB,EAAO,CAAC;QACnE,SAAS,CAAC,cAAc,GAAG,WAAW,CAAC,cAAc,CAAC;QACtD,SAAS,CAAC,gBAAgB,GAAG,WAAW,CAAC,gBAAgB,CAAC;QAC1D,SAAS,CAAC,eAAe,GAAG,WAAW,CAAC,eAAe,CAAC;QACxD,SAAS,CAAC,GAAG,GAAG,WAAW,CAAC,GAAG,CAAC;QAEhC,IAAI,WAAW,CAAC,SAAS,EAAE;;kBACjB,SAAS,GAAG,IAAI,SAAS,CAAC,cAAc,CAAC,KAAK,CAAC;YACrD,SAAS,CAAC,KAAK,GAAG,WAAW,CAAC,SAAS,CAAC;YACxC,SAAS,CAAC,SAAS,GAAG,SAAS,CAAC;SACnC;QAED,IAAI,IAAI,KAAK,gBAAgB,EAAE;;gBACvB,kBAAkB,GAAG,IAAI,kBAAkB,CAAC,cAAc,CAAC,KAAK,CAAC;YACrE,kBAAkB,CAAC,qBAAqB,GAAG,SAAS,CAAC;YACrD,IAAI,WAAW,CAAC,SAAS,EAAE;;sBACjB,SAAS,GAAG,IAAI,SAAS,CAAC,cAAc,CAAC,KAAK,CAAC;gBACrD,SAAS,CAAC,KAAK,GAAG,WAAW,CAAC,SAAS,CAAC;gBACxC,kBAAkB,CAAC,SAAS,GAAG,SAAS,CAAC;aAC5C;YACD,kBAAkB,CAAC,KAAK,GAAG,WAAW,CAAC,KAAK,CAAC;YAC7C,cAAc,CAAC,eAAe,CAAC,kBAAkB,CAAC,CAAC;SACtD;aAAM,IAAI,IAAI,KAAK,gBAAgB,EAAE;;gBAC9B,iBAAiB,GAAG,IAAI,kBAAkB,CAAC,cAAc,CAAC,KAAK,CAAC;YACpE,iBAAiB,CAAC,qBAAqB,GAAG,SAAS,CAAC;YACpD,IAAI,WAAW,CAAC,SAAS,EAAE;;sBACjB,SAAS,GAAG,IAAI,SAAS,CAAC,cAAc,CAAC,KAAK,CAAC;gBACrD,SAAS,CAAC,KAAK,GAAG,WAAW,CAAC,SAAS,CAAC;gBACxC,iBAAiB,CAAC,SAAS,GAAG,SAAS,CAAC;aAC3C;YACD,iBAAiB,CAAC,KAAK,GAAG,WAAW,CAAC,KAAK,CAAC;YAC5C,IAAG,KAAK,EAAE;gBACN,SAAS,CAAC,WAAW,GAAG,KAAK,CAAC;gBAC9B,cAAc,CAAC,mBAAmB,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;aACtD;iBAAK;gBACF,cAAc,CAAC,eAAe,CAAC,iBAAiB,CAAC,CAAC;aACrD;SACJ;KACJ;;;;;;;IAGL,uBAAuB,CAAC,cAA8B,EAAE,GAAQ,EAAE,QAAgB;QAC9E,IAAI,cAAc,EAAE;;gBACZ,IAAI,sBAAG,GAAG,CAAC,aAAa,EAAO;YACnC,IAAI,CAAC,cAAc,CAAC,YAAY,EAAE;gBAC9B,cAAc,CAAC,YAAY,GAAG,IAAI,KAAK,EAAe,CAAC;aAC1D;YACD,cAAc,CAAC,YAAY,GAAG,cAAc,CAAC,YAAY,CAAC,MAAM;;;;YAAC,CAAC,IAAI,CAAC,CAAC,YAAY,KAAK,QAAQ,EAAC,CAAC;YACnG,IAAI,IAAI,EAAE;;oBACF,MAAM,sBAAG,IAAI,CAAC,gBAAgB,EAAS;;oBACvC,QAAQ,GAAG,IAAI,KAAK,EAAmB;gBAC3C,IAAI,MAAM,IAAI,MAAM,CAAC,MAAM,GAAG,CAAC,EAAE;oBAC7B,KAAK,IAAI,IAAI,IAAI,MAAM,EAAE;;4BACjB,OAAO,GAAG,IAAI,eAAe,CAAC,cAAc,CAAC,KAAK,EAAE,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,KAAK,CAAC;wBAC9E,IAAI,IAAI,CAAC,GAAG,EAAE;4BACV,OAAO,CAAC,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC;yBAC1B;6BAAM;4BACH,IAAI,IAAI,CAAC,KAAK,EAAE;gCACZ,IAAI,IAAI,CAAC,KAAK,CAAC,MAAM,IAAI,CAAC,IAAI,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,KAAK,UAAU,EAAE;oCACjE,OAAO,CAAC,GAAG,GAAG,YAAY,CAAC;iCAC9B;qCAAM;oCACH,OAAO,CAAC,GAAG,GAAG,UAAU,CAAC;iCAC5B;6BACJ;iCAAM;gCACH,OAAO,CAAC,GAAG,GAAG,UAAU,CAAC;6BAC5B;yBAEJ;wBACD,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;qBAC1B;iBACJ;;sBACK,EAAE,GAAG,eAAe,CAAC,iBAAiB,EAAE;;oBAC1C,IAAI,GAAG,IAAI,WAAW,CAAC,cAAc,CAAC,KAAK,EAAE,EAAE,EAAE,IAAI,CAAC,IAAI,EAAE,QAAQ,CAAC;gBACzE,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,WAAW,CAAC;gBACpC,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC;gBAC9B,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,YAAY,CAAC;gBACtC,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,cAAc,CAAC;gBAC1C,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,YAAY,CAAC;gBACtC,cAAc,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;aAC1C;SACJ;KACJ;;;;;;IAED,eAAe,CAAC,cAA8B,EAAE,GAAQ;;cAC9C,KAAK,sBAAG,GAAG,CAAC,aAAa,EAAiC;QAEhE,cAAc,CAAC,mBAAmB,GAAG,cAAc,CAAC,mBAAmB,CAAC,MAAM;;;;QAAC,CAAC,IAAI,oBAAC,CAAC,IAAuC,WAAW,KAAK,WAAW,CAAC,MAAM,EAAC,CAAC;QACjK,cAAc,CAAC,UAAU,GAAG,KAAK,CAAC,MAAM,CAAC;QACzC,IAAI,KAAK,CAAC,KAAK,EAAE;YACb,IAAG,KAAK,CAAC,KAAK,CAAC,iBAAiB,EAAE;;sBACxB,iCAAiC,GAAG,IAAI,iCAAiC,CAAC,cAAc,CAAC,KAAK,CAAC;gBACrG,iCAAiC,CAAC,EAAE,GAAG,eAAe,CAAC,iBAAiB,EAAE,CAAC;gBAC3E,iCAAiC,CAAC,WAAW,GAAG,WAAW,CAAC,MAAM,CAAC;gBACnE,iCAAiC,CAAC,iBAAiB,sBAAG,KAAK,CAAC,KAAK,CAAC,iBAAiB,EAAO,CAAC;gBAC3F,iCAAiC,CAAC,cAAc,GAAG,KAAK,CAAC,KAAK,CAAC,cAAc,CAAC;gBAC9E,iCAAiC,CAAC,gBAAgB,GAAG,KAAK,CAAC,KAAK,CAAC,gBAAgB,CAAC;gBAClF,iCAAiC,CAAC,eAAe,GAAG,KAAK,CAAC,KAAK,CAAC,eAAe,CAAC;gBAChF,iCAAiC,CAAC,GAAG,GAAG,KAAK,CAAC,KAAK,CAAC,GAAG,CAAC;gBACxD,cAAc,CAAC,mBAAmB,CAAC,IAAI,CAAC,iCAAiC,CAAC,CAAC;aAC9E;iBAAK;;sBACI,aAAa,sBAAoB,KAAK,CAAC,KAAK,CAAC,eAAe,EAAO;gBACzE,IAAI,aAAa,CAAC,UAAU,IAAI,aAAa,CAAC,kBAAkB,IAAI,aAAa,CAAC,kBAAkB,CAAC,MAAM,GAAG,CAAC,EAAE;oBAC7G,KAAK,MAAM,cAAc,IAAI,aAAa,CAAC,kBAAkB,EAAE;wBAC3D,QAAQ,cAAc,CAAC,IAAI;4BACvB,KAAK,yBAAyB,CAAC,WAAW;gCACtC,IAAI,CAAC,kBAAkB,CAAC,cAAc,qBAAE,cAAc,IAAqB,gBAAgB,EAAE,WAAW,CAAC,MAAM,CAAC,CAAC;gCACjH,MAAM;4BACV,KAAK,6BAA6B,CAAC,WAAW;gCAC1C,IAAI,CAAC,sBAAsB,CAAC,cAAc,qBAAE,cAAc,IAAuB,gBAAgB,EAAE,WAAW,CAAC,MAAM,CAAC,CAAA;gCACtH,MAAM;4BACV,KAAK,6BAA6B,CAAC,WAAW;gCAC1C,IAAI,CAAC,sBAAsB,CAAC,cAAc,qBAAE,cAAc,IAAyB,gBAAgB,EAAE,WAAW,CAAC,MAAM,CAAC,CAAC;gCACzH,MAAM;4BACV,KAAK,8BAA8B,CAAC,WAAW;gCAC3C,IAAI,CAAC,uBAAuB,CAAC,cAAc,qBAAE,cAAc,IAA0B,gBAAgB,EAAE,WAAW,CAAC,MAAM,CAAC,CAAC;gCAC3H,MAAM;4BACV,KAAK,kCAAkC,CAAC,WAAW;gCAC/C,IAAI,CAAC,2BAA2B,CAAC,cAAc,qBAAE,cAAc,IAA8B,gBAAgB,EAAE,WAAW,CAAC,MAAM,CAAC,CAAC;gCACnI,MAAM;4BACV,KAAK,qCAAqC,CAAC,WAAW;gCAClD,IAAI,CAAC,8BAA8B,CAAC,cAAc,qBAAE,cAAc,IAAiC,gBAAgB,EAAE,WAAW,CAAC,MAAM,CAAC,CAAC;gCACzI,MAAM;AAAc;4BACxB,KAAK,2BAA2B,CAAC,WAAW;gCACxC,IAAI,CAAC,oBAAoB,CAAC,cAAc,qBAAE,cAAc,IAAuB,gBAAgB,EAAE,WAAW,CAAC,MAAM,CAAC,CAAC;gCACrH,MAAM;4BACV,KAAK,iCAAiC,CAAC,WAAW;gCAC9C,IAAI,CAAC,0BAA0B,CAAC,cAAc,qBAAE,cAAc,IAA6B,gBAAgB,EAAG,WAAW,CAAC,MAAM,CAAC,CAAC;gCAClI,MAAM;yBACb;qBACJ;iBACJ;aACJ;SACJ;KACJ;;;;;;;IAOD,mBAAmB,CAAC,cAA8B,EAAE,GAAQ;QACxD,IAAI,cAAc,EAAE;;gBACZ,UAAU,sBAAG,GAAG,CAAC,aAAa,EAAO;YACzC,IAAI,CAAC,cAAc,CAAC,gBAAgB,EAAE;gBAClC,cAAc,CAAC,gBAAgB,GAAG,IAAI,KAAK,EAAkB,CAAC;aACjE;YACD,KAAK,MAAM,CAAC,IAAI,GAAG,CAAC,aAAa,EAAE;;sBACzB,KAAK,GAAG,cAAc,CAAC,gBAAgB,CAAC,SAAS;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,GAAG,KAAK,CAAC,CAAC,IAAI,EAAC;gBAC9E,IAAI,KAAK,GAAG,CAAC,CAAC,EAAE;oBACZ,cAAc,CAAC,gBAAgB,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;iBACpD;aACJ;YACD,IAAI,UAAU,EAAE;gBACZ,UAAU,CAAC,OAAO;;;;gBAAC,CAAC,CAAM;;wBAClB,IAAI,GAAG,IAAI,cAAc,CAAC,cAAc,CAAC,KAAK,CAAC;oBACnD,IAAI,CAAC,GAAG,GAAG,CAAC,CAAC,IAAI,CAAC;oBAClB,IAAI,CAAC,KAAK,GAAG,CAAC,CAAC,KAAK,CAAC;oBACrB,cAAc,CAAC,gBAAgB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;iBAC9C,EAAC,CAAC;aACN;SACJ;KACJ;;;;;;IAED,oBAAoB,CAAC,cAA8B,EAAE,GAAQ;;cACnD,SAAS,GAAG,cAAc,CAAC,KAAK;;YAClC,OAAO,sBAAG,GAAG,CAAC,aAAa,EAAS;QACxC,cAAc,CAAC,cAAc,GAAG,IAAI,KAAK,EAAE,CAAC;QAC5C,IAAI,OAAO,IAAI,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE;YAC/B,KAAK,IAAI,CAAC,IAAI,OAAO,EAAE;;sBACb,aAAa,GAAG,IAAI,aAAa,CAAC,SAAS,CAAC;gBAClD,aAAa,CAAC,QAAQ,GAAG,CAAC,CAAC,QAAQ,CAAC;gBACpC,aAAa,CAAC,QAAQ,GAAG,CAAC,CAAC,QAAQ,CAAC;gBACpC,aAAa,CAAC,OAAO,GAAG,CAAC,CAAC,OAAO,CAAC;gBAClC,aAAa,CAAC,OAAO,GAAG,CAAC,CAAC,OAAO,CAAC;gBAElC,IAAI,CAAC,CAAC,kBAAkB,EAAE;;0BAChB,kBAAkB,GAAG,IAAI,kBAAkB,CAAC,SAAS,CAAC;oBAC5D,kBAAkB,CAAC,IAAI,GAAG,CAAC,CAAC,kBAAkB,CAAC,IAAI,CAAC;oBACpD,kBAAkB,CAAC,OAAO,GAAG,CAAC,CAAC,kBAAkB,CAAC,OAAO,CAAC;oBAC1D,kBAAkB,CAAC,mBAAmB,GAAG,IAAI,KAAK,EAAE,CAAC;oBACrD,IAAI,CAAC,CAAC,kBAAkB,CAAC,mBAAmB,IAAI,CAAC,CAAC,kBAAkB,CAAC,mBAAmB,CAAC,MAAM,GAAG,CAAC,EAAE;wBACjG,KAAK,MAAM,CAAC,IAAI,CAAC,CAAC,kBAAkB,CAAC,mBAAmB,EAAE;;kCAChD,QAAQ,GAAG,IAAI,kBAAkB,CAAC,SAAS,CAAC;4BAClD,QAAQ,CAAC,IAAI,GAAG,CAAC,CAAC,IAAI,CAAC;4BACvB,QAAQ,CAAC,KAAK,GAAG,CAAC,CAAC,KAAK,CAAC;4BACzB,QAAQ,CAAC,GAAG,GAAG,CAAC,CAAC,GAAG,CAAC;4BACrB,kBAAkB,CAAC,mBAAmB,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;yBACzD;qBACJ;oBACD,aAAa,CAAC,kBAAkB,GAAG,kBAAkB,CAAC;iBACzD;;;gBAGD,CAAC,CAAC,SAAS,GAAG,CAAC,CAAC,SAAS,CAAC,MAAM;;;;gBAAC,CAAC,CAAM,KAAK,CAAC,CAAC,IAAI,EAAC,CAAC;gBACrD,IAAI,CAAC,CAAC,SAAS,IAAI,CAAC,CAAC,SAAS,CAAC,MAAM,GAAG,CAAC,EAAE;;0BACjC,SAAS,GAAG,CAAC,CAAC,SAAS,CAAC,MAAM;;;;oBAAC,CAAC,CAAM,KAAK,CAAC,CAAC,IAAI,KAAK,iBAAiB;4BACrE,CAAC,CAAC,IAAI,KAAK,oBAAoB,IAAI,CAAC,CAAC,kBAAkB,KAAK,6BAA6B,CAAC,EAAC;;0BAC7F,YAAY,GAAG,CAAC,CAAC,SAAS,CAAC,MAAM;;;;oBAAC,CAAC,CAAM,KAAK,CAAC,CAAC,IAAI,KAAK,qBAAqB,IAAI,CAAC,CAAC,IAAI,KAAK,qBAAqB;4BAChH,CAAC,CAAC,IAAI,KAAK,oBAAoB,IAAI,CAAC,CAAC,kBAAkB,KAAK,6BAA6B,CAAC,EAAC;oBACnG,IAAI,SAAS,IAAI,SAAS,CAAC,MAAM,GAAG,CAAC,EAAE;;4BAC/B,QAAQ,GAAG,EAAE;;4BACb,YAAY,GAAG,EAAE;wBACrB,KAAK,MAAM,CAAC,IAAI,SAAS,EAAE;4BACvB,IAAI,CAAC,CAAC,IAAI,KAAK,oBAAoB,EAAE;gCACjC,QAAQ,KAAK,CAAC,CAAC,kBAAkB,GAAG,GAAG,CAAC,CAAC;gCACzC,IAAI,CAAC,CAAC,kBAAkB,KAAK,iBAAiB,EAAE;oCAC5C,YAAY,IAAI,QAAQ,CAAA;iCAC3B;qCAAM,IAAI,CAAC,CAAC,kBAAkB,KAAK,qBAAqB,EAAE;oCACvD,YAAY,IAAI,QAAQ,CAAA;iCAC3B;6BACJ;iCAAM,IAAI,CAAC,CAAC,IAAI,KAAK,iBAAiB,EAAE;gCACrC,QAAQ,KAAK,CAAC,CAAC,OAAO,GAAG,GAAG,CAAC,CAAC;gCAC9B,YAAY,KAAK,CAAC,CAAC,SAAS,GAAG,GAAG,CAAC,CAAC;6BACvC;yBACJ;wBACD,IAAI,QAAQ,EAAE;4BACV,QAAQ,GAAG,QAAQ,CAAC,SAAS,CAAC,CAAC,EAAE,QAAQ,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;yBACzD;wBACD,IAAI,YAAY,EAAE;4BACd,YAAY,GAAG,YAAY,CAAC,SAAS,CAAC,CAAC,EAAE,YAAY,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;yBACrE;wBACD,aAAa,CAAC,QAAQ,GAAG,QAAQ,CAAC;wBAClC,aAAa,CAAC,YAAY,GAAG,YAAY,CAAC;qBAC7C;oBACD,IAAI,YAAY,IAAI,YAAY,CAAC,MAAM,GAAG,CAAC,EAAE;;8BACnC,mBAAmB,GAAG,IAAI,KAAK,EAAyB;wBAC9D,KAAK,MAAM,CAAC,IAAI,YAAY,EAAE;4BAC1B,IAAI,CAAC,CAAC,IAAI,KAAK,oBAAoB,EAAE;;oCAC7B,gBAAgB,GAAG,IAAI,qCAAqC,CAAC,cAAc,CAAC,KAAK,CAAC;gCACtF,gBAAgB,CAAC,EAAE,GAAG,eAAe,CAAC,iBAAiB,EAAE,CAAC;gCAC1D,gBAAgB,CAAC,aAAa,GAAG,CAAC,CAAC,aAAa,CAAC;gCACjD,gBAAgB,CAAC,eAAe,GAAG,CAAC,CAAC,eAAe,CAAC;gCACrD,mBAAmB,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC;6BAC9C;4BACD,IAAI,CAAC,CAAC,IAAI,KAAK,qBAAqB,EAAE;;oCAC9B,mBAAmB,GAAG,IAAI,yBAAyB,CAAC,cAAc,CAAC,KAAK,EAAE,CAAC,CAAC,mBAAmB,EAAE,CAAC,CAAC,YAAY,EAAE,CAAC,CAAC,OAAO,CAAC;gCAC/H,mBAAmB,CAAC,EAAE,GAAG,eAAe,CAAC,iBAAiB,EAAE,CAAC;gCAC7D,mBAAmB,CAAC,GAAG,GAAG,YAAY,CAAC;gCACvC,mBAAmB,CAAC,OAAO,GAAG,CAAC,CAAC,OAAO,CAAC;gCACxC,mBAAmB,CAAC,IAAI,CAAC,mBAAmB,CAAC,CAAC;6BACjD;4BACD,IAAI,CAAC,CAAC,IAAI,KAAK,qBAAqB,EAAE;;oCAC9B,eAAe,GAAG,IAAI,6BAA6B,CAAC,cAAc,CAAC,KAAK,EAAE,CAAC,CAAC,UAAU,EAAE,CAAC,CAAC,YAAY,CAAC;gCAC3G,eAAe,CAAC,EAAE,GAAG,eAAe,CAAC,iBAAiB,EAAE,CAAC;gCACzD,eAAe,CAAC,YAAY,GAAG,CAAC,CAAC,YAAY,CAAC;gCAC9C,IAAI,CAAC,CAAC,YAAY,KAAK,GAAG,EAAE;oCACxB,eAAe,CAAC,KAAK,GAAG,CAAC,CAAC,KAAK,CAAC;oCAChC,eAAe,CAAC,OAAO,GAAG,CAAC,CAAC,OAAO,CAAC;iCACvC;gCACD,mBAAmB,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;6BAC7C;yBACJ;wBACD,aAAa,CAAC,mBAAmB,GAAG,mBAAmB,CAAC;qBAC3D;iBACJ;gBAED,cAAc,CAAC,cAAc,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;aACrD;SACJ;KACJ;;AA/zBM,8BAAW,GAAW,cAAc,CAAC,WAAW,CAAC;;;;;;AC9B5D;;;AA2BA,MAAa,gBAAiB,SAAQ,QAAQ;;;;;;IAmB1C,YAAY,KAAW,EAAE,QAA+B,EAAE,KAAc;QACpE,KAAK,CAAC,KAAK,EAAE,QAAQ,EAAE,KAAK,CAAC,CAAC;QAnBlC,cAAS,GAAW,gBAAgB,CAAC,WAAW,CAAC;QACjD,SAAI,GAAW,IAAI,CAAC;QACpB,iBAAY,GAAgC;YAC1C,QAAQ,EAAE,IAAI;YACd,QAAQ,EAAE,IAAI;YACd,IAAI,EAAE,SAAS;SAClB,CAAC;QAKA,YAAO,GAAG;YACN,CAAC,aAAa,CAAC,OAAO,GAAG,WAAW,CAAC,UAAU,GAAG,eAAe;YACjE,CAAC,aAAa,CAAC,QAAQ,GAAG,WAAW,CAAC,UAAU,GAAG,sBAAsB;SAC5E,CAAC;KAMD;;;;;IAED,iBAAiB,CAAC,OAAsB;;cAC9B,QAAQ,sBAAG,KAAK,CAAC,iBAAiB,CAAC,OAAO,CAAC,EAAgB;;cAC3D,QAAQ,GAAG,IAAI,CAAC,QAAQ;;cACxB,SAAS,GAAG,QAAQ,CAAC,KAAK,CAAC,SAAS;QAC1C,QAAQ,CAAC,EAAE,GAAG,cAAc,GAAG,eAAe,CAAC,iBAAiB,EAAE,CAAC;;QAGnE,IAAI,OAAO,IAAI,IAAI,EAAE;YACjB,QAAQ,CAAC,YAAY,GAAG,QAAQ,CAAC,aAAa,CAAC,cAAc,CAAC;YAC9D,QAAQ,CAAC,iBAAiB,GAAG,QAAQ,CAAC,aAAa,CAAC,mBAAmB,CAAC;YACxE,QAAQ,CAAC,gBAAgB,GAAG,QAAQ,CAAC,aAAa,CAAC,kBAAkB,CAAC;YACtE,QAAQ,CAAC,UAAU,GAAG,QAAQ,CAAC,aAAa,CAAC,YAAY,CAAC;YAE1D,IAAI,IAAI,CAAC,WAAW,EAAE;;sBACZ,WAAW,GAAG,IAAI,CAAC,WAAW;gBACpC,QAAQ,CAAC,aAAa,GAAG,WAAW,CAAC,EAAE,CAAC;gBACxC,QAAQ,CAAC,eAAe,GAAG,WAAW,CAAC,IAAI,CAAC;gBAC5C,QAAQ,CAAC,KAAK,GAAG,EAAE,CAAC;gBACpB,KAAK,IAAI,CAAC,IAAI,WAAW,CAAC,aAAa,EAAE;;wBACjC,IAAI,GAAG,IAAIF,WAAS,CAAC,QAAQ,CAAC,KAAK,CAAC;oBACxC,IAAI,CAAC,EAAE,GAAG,CAAC,CAAC,EAAE,CAAA;oBACd,IAAI,CAAC,IAAI,GAAG,CAAC,CAAC,IAAI,CAAC;oBACnB,IAAI,CAAC,IAAI,GAAG,CAAC,CAAC,aAAa,CAAC;;oBAE5B,IAAI,CAAC,aAAa,GAAG,iBAAiB,CAAC;oBACvC,IAAI,CAAC,UAAU,GAAG,CAAC,CAAC,UAAU,CAAC;oBAC/B,IAAI,CAAC,UAAU,GAAG,CAAC,CAAC,UAAU,CAAC;oBAC/B,IAAI,CAAC,gBAAgB,GAAG,EAAE,CAAC;oBAC3B,IAAI,CAAC,CAAC,gBAAgB,IAAI,oBAAC,CAAC,CAAC,gBAAgB,IAAW,MAAM,GAAG,CAAC,EAAE;wBAChE,KAAK,IAAI,CAAC,wBAAK,CAAC,CAAC,gBAAgB,KAAY;;gCACrC,SAAS,GAAG,IAAI,eAAe,CAAC,SAAS,EAAE,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC,KAAK,CAAC;4BAC/D,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;yBACzC;qBACJ;oBACD,QAAQ,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;iBAC7B;gBACD,QAAQ,CAAC,iBAAiB,CAAC,SAAS,EAAE,WAAW,CAAC,UAAU,CAAC,CAAC;aACjE;iBAAM;gBACH,QAAQ,CAAC,aAAa,GAAG,EAAE,CAAC;gBAC5B,QAAQ,CAAC,eAAe,CAAC,SAAS,CAAC,CAAC;aACvC;SACJ;QAED,OAAO,QAAQ,CAAC;KACnB;;;;IAED,oBAAoB;QAChB,IAAI,IAAI,CAAC,WAAW,IAAI,IAAI,EAAE;YAC1B,IAAI,CAAC,OAAO,GAAG;gBACX,CAAC,aAAa,CAAC,OAAO,GAAG,WAAW,CAAC,UAAU,GAAG,kBAAkB;gBACpE,CAAC,aAAa,CAAC,QAAQ,GAAG,WAAW,CAAC,UAAU,GAAG,yBAAyB;aAC/E,CAAC;SACL;;cAEK,KAAK,GAAG,KAAK,CAAC,oBAAoB,EAAE;QAC1C,OAAO,KAAK,CAAC;KAChB;;;;IAED,mBAAmB;QACf,OAAO,IAAI,CAAC,gCAAgC,EAAE,CAAC;KAClD;;;;;IAED,gCAAgC,CAAC,cAAuB,KAAK;;cACnD,QAAQ,GAAG,IAAI,CAAC,QAAQ;;YAC1B,UAAU,GAAG,EAAE;QACnB,IAAI,QAAQ,CAAC,YAAY,IAAI,QAAQ,CAAC,YAAY,CAAC,MAAM,GAAG,CAAC,EAAE;YAC3D,UAAU,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,YAAY,CAAC,CAAC,CAAC,IAAI;;;;;YAAC,CAAC,CAAC,EAAE,CAAC;gBACrE,OAAO,CAAC,CAAC,SAAS,GAAG,CAAC,CAAC,SAAS,CAAC;aACpC,EAAC,CAAC;SACN;QACD,UAAU,GAAG,UAAU,CAAC,IAAI;;;;;QAAC,CAAC,CAAC,EAAE,CAAC;YAC9B,OAAO,CAAC,CAAC,SAAS,GAAG,CAAC,CAAC,SAAS,CAAC;SACpC,EAAC,CAAA;;YAEE,OAAO,GAAG,IAAI,CAAC,WAAW;;YAC1B,aAAa,GAA0B,IAAI,qBAAqB,EAAE;;YAClE,YAAY,GAAQ,EAAE;QAE1B,aAAa,CAAC,UAAU,GAAG,eAAe,CAAC;QAC3C,aAAa,CAAC,YAAY,GAAG,WAAW,CAAC,GAAG,CAAC,kBAAkB,CAAC,CAAC;QACjE,aAAa,CAAC,KAAK,GAAG,OAAO,CAAC;QAC9B,aAAa,CAAC,OAAO,GAAG,WAAW,CAAC,GAAG,CAAC,iBAAiB,CAAC,CAAA;QAC1D,aAAa,CAAC,UAAU,GAAG;YACvB,EAAE,UAAU,EAAE,wBAAwB,CAAC,IAAI,EAAE,YAAY,EAAE,WAAW,CAAC,GAAG,CAAC,MAAM,CAAC,EAAE,YAAY,EAAE,QAAQ,EAAE,OAAO,EAAE,CAAC,IAAI,CAAC,QAAQ,CAAC,gBAAgB,EAAE;YACtJ,EAAE,UAAU,EAAE,wBAAwB,CAAC,YAAY,EAAE,YAAY,EAAE,WAAW,CAAC,GAAG,CAAC,cAAc,CAAC,EAAE,YAAY,EAAE,eAAe,EAAE,OAAO,EAAE,IAAI,CAAC,QAAQ,CAAC,gBAAgB,EAAE;YAC5K,EAAE,UAAU,EAAE,wBAAwB,CAAC,EAAE,EAAE,YAAY,EAAE,WAAW,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,YAAY,EAAE,QAAQ,EAAE,QAAQ,EAAE,IAAI,EAAE;YACxH,EAAE,UAAU,EAAE,wBAAwB,CAAC,kBAAkB,EAAE,YAAY,EAAE,WAAW,CAAC,GAAG,CAAC,mBAAmB,CAAC,EAAE,YAAY,EAAE,OAAO,EAAE;SACzI,CAAC;;YAEE,iBAAiB,GAA0B,IAAI,qBAAqB,EAAE;QAC1E,iBAAiB,CAAC,UAAU,GAAG,mBAAmB,CAAC;QACnD,iBAAiB,CAAC,YAAY,GAAG,WAAW,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC;QAChE,iBAAiB,CAAC,KAAK,GAAG,OAAO,CAAC;QAClC,iBAAiB,CAAC,OAAO,GAAG,WAAW,CAAC,GAAG,CAAC,iBAAiB,CAAC,CAAA;QAC9D,iBAAiB,CAAC,UAAU,GAAG;YAC3B,EAAE,UAAU,EAAE,wBAAwB,CAAC,kBAAkB,EAAE,YAAY,EAAE,WAAW,CAAC,GAAG,CAAC,oBAAoB,CAAC,EAAE,YAAY,EAAE,OAAO,EAAE;YACvI,EAAE,UAAU,EAAE,wBAAwB,CAAC,kBAAkB,EAAE,YAAY,EAAE,WAAW,CAAC,GAAG,CAAC,oBAAoB,CAAC,EAAE,YAAY,EAAE,OAAO,EAAE;SAC1I,CAAC;;;;;;;;;;QAUF,IAAI,CAAC,WAAW,EAAE;YACd,IAAI,OAAO,CAAC,mBAAmB,KAAK,mBAAmB,CAAC,OAAO,EAAE;gBAC7D,iBAAiB,CAAC,UAAU,CAAC,IAAI,CAC7B,EAAE,UAAU,EAAE,wBAAwB,CAAC,gBAAgB,EAAE,YAAY,EAAE,WAAW,CAAC,GAAG,CAAC,kBAAkB,CAAC,EAAE,YAAY,EAAE,QAAQ,EAAE,CACvI,CAAC;gBACF,YAAY,CAAC,wBAAwB,CAAC,gBAAgB,CAAC,GAAG,OAAO,CAAC,mBAAmB,CAAC;aACzF;iBAAM;gBACH,iBAAiB,CAAC,UAAU,GAAG,iBAAiB,CAAC,UAAU,CAAC,MAAM,CAAC;oBAC/D,EAAE,UAAU,EAAE,wBAAwB,CAAC,gBAAgB,EAAE,YAAY,EAAE,WAAW,CAAC,GAAG,CAAC,kBAAkB,CAAC,EAAE,YAAY,EAAE,QAAQ,EAAE;oBACpI,EAAE,UAAU,EAAE,wBAAwB,CAAC,QAAQ,EAAE,YAAY,EAAE,WAAW,CAAC,GAAG,CAAC,UAAU,CAAC,EAAE,YAAY,EAAE,OAAO,EAAE;iBACtH,CAAC,CAAC;gBACH,YAAY,CAAC,wBAAwB,CAAC,gBAAgB,CAAC,GAAG,OAAO,CAAC,mBAAmB,CAAC;gBACtF,YAAY,CAAC,wBAAwB,CAAC,QAAQ,CAAC,GAAG,OAAO,CAAC,gBAAgB,CAAC;aAC9E;SACJ;;YAEG,gBAAgB,GAA0B,IAAI,qBAAqB,EAAE;QACzE,gBAAgB,CAAC,UAAU,GAAG,kBAAkB,CAAC;QACjD,gBAAgB,CAAC,YAAY,GAAG,WAAW,CAAC,GAAG,CAAC,kBAAkB,CAAC,CAAC;QACpE,gBAAgB,CAAC,KAAK,GAAG,kBAAkB,CAAC;QAC5C,gBAAgB,CAAC,OAAO,GAAG,WAAW,CAAC,GAAG,CAAC,kBAAkB,CAAC,CAAC;QAC/D,gBAAgB,CAAC,UAAU,GAAG;YAC1B,EAAE,UAAU,EAAE,wBAAwB,CAAC,aAAa,EAAE,YAAY,EAAE,WAAW,CAAC,GAAG,CAAC,eAAe,CAAC,EAAE,YAAY,EAAE,OAAO,EAAE;YAC7H,EAAE,UAAU,EAAE,wBAAwB,CAAC,kBAAkB,EAAE,YAAY,EAAE,WAAW,CAAC,GAAG,CAAC,mBAAmB,CAAC,EAAE,YAAY,EAAE,OAAO,EAAE;SACzI,CAAC;;QAEF,IAAI,OAAO,CAAC,WAAW,IAAI,IAAI,CAAC,qBAAqB,CAAC,OAAO,CAAC,WAAW,CAAC,EAAE;YACxE,gBAAgB,CAAC,UAAU,CAAC,IAAI,CAC5B,EAAE,UAAU,EAAE,wBAAwB,CAAC,YAAY,EAAE,YAAY,EAAE,WAAW,CAAC,GAAG,CAAC,cAAc,CAAC,EAAE,YAAY,EAAE,OAAO,EAAE,CAC9H,CAAC;YACF,YAAY,CAAC,wBAAwB,CAAC,YAAY,CAAC,GAAG,OAAO,CAAC,YAAY,CAAC;SAC9E;QACD,gBAAgB,CAAC,UAAU,GAAG,gBAAgB,CAAC,UAAU,CAAC,MAAM,CAAC;YAC7D,EAAE,UAAU,EAAE,wBAAwB,CAAC,WAAW,EAAE,YAAY,EAAE,WAAW,CAAC,GAAG,CAAC,aAAa,CAAC,EAAE,YAAY,EAAE,QAAQ,EAAE;SAC7H,CAAC,CAAC;QACH,IAAI,CAAC,WAAW,EAAE;YACd,gBAAgB,CAAC,UAAU,GAAG,gBAAgB,CAAC,UAAU,CAAC,MAAM,CAAC;gBAC7D,EAAE,UAAU,EAAE,wBAAwB,CAAC,gBAAgB,EAAE,YAAY,EAAE,WAAW,CAAC,GAAG,CAAC,kBAAkB,CAAC,EAAE,YAAY,EAAE,OAAO,EAAE;gBACnI,EAAE,UAAU,EAAE,wBAAwB,CAAC,iBAAiB,EAAE,YAAY,EAAE,WAAW,CAAC,GAAG,CAAC,mBAAmB,CAAC,EAAE,YAAY,EAAE,OAAO,EAAE;aACxI,CAAC,CAAC;SACN;QACD,IAAI,QAAQ,CAAC,aAAa,CAAC,cAAc,EAAE;YACvC,gBAAgB,CAAC,UAAU,GAAG,gBAAgB,CAAC,UAAU,CAAC,MAAM,CAAC;gBAC7D,EAAE,UAAU,EAAE,wBAAwB,CAAC,aAAa,EAAE,YAAY,EAAE,WAAW,CAAC,GAAG,CAAC,eAAe,CAAC,EAAE,YAAY,EAAE,OAAO,EAAE;aAChI,CAAC,CAAC;SACN;QACD,gBAAgB,CAAC,UAAU,GAAG,gBAAgB,CAAC,UAAU,CAAC,MAAM,CAAC;YAC7D,EAAE,UAAU,EAAE,wBAAwB,CAAC,UAAU,EAAE,YAAY,EAAE,WAAW,CAAC,GAAG,CAAC,YAAY,CAAC,EAAE,YAAY,EAAE,OAAO,EAAE;YACvH,EAAE,UAAU,EAAE,wBAAwB,CAAC,cAAc,EAAE,YAAY,EAAE,WAAW,CAAC,GAAG,CAAC,gBAAgB,CAAC,EAAE,YAAY,EAAE,OAAO,EAAE;SAClI,CAAC,CAAC;QACH,IAAI,OAAO,CAAC,gBAAgB,EAAE;YAC1B,gBAAgB,CAAC,UAAU,GAAG,gBAAgB,CAAC,UAAU,CAAC,MAAM,CAAC;gBAC7D,EAAE,UAAU,EAAE,wBAAwB,CAAC,gBAAgB,EAAE,YAAY,EAAE,WAAW,CAAC,GAAG,CAAC,kBAAkB,CAAC,EAAE,YAAY,EAAE,QAAQ,EAAE;gBACpI,EAAE,UAAU,EAAE,wBAAwB,CAAC,SAAS,EAAE,YAAY,EAAE,WAAW,CAAC,GAAG,CAAC,WAAW,CAAC,EAAE,YAAY,EAAE,OAAO,EAAE;aACxH,CAAC,CAAC;YACH,YAAY,CAAC,wBAAwB,CAAC,gBAAgB,CAAC,GAAG,OAAO,CAAC,gBAAgB,CAAC;YACnF,YAAY,CAAC,wBAAwB,CAAC,SAAS,CAAC,GAAG,OAAO,CAAC,SAAS,CAAC;SACxE;aAAM;YACH,gBAAgB,CAAC,UAAU,GAAG,gBAAgB,CAAC,UAAU,CAAC,MAAM,CAAC;gBAC7D,EAAE,UAAU,EAAE,wBAAwB,CAAC,gBAAgB,EAAE,YAAY,EAAE,WAAW,CAAC,GAAG,CAAC,kBAAkB,CAAC,EAAE,YAAY,EAAE,QAAQ,EAAE;aACvI,CAAC,CAAC;YACH,YAAY,CAAC,wBAAwB,CAAC,gBAAgB,CAAC,GAAG,OAAO,CAAC,gBAAgB,CAAC;SACtF;QAED,IAAI,OAAO,CAAC,gBAAgB,EAAE;YAC1B,gBAAgB,CAAC,UAAU,GAAG,gBAAgB,CAAC,UAAU,CAAC,MAAM,CAAC;gBAC7D,EAAE,UAAU,EAAE,wBAAwB,CAAC,gBAAgB,EAAE,YAAY,EAAE,WAAW,CAAC,GAAG,CAAC,kBAAkB,CAAC,EAAE,YAAY,EAAE,QAAQ,EAAE;;gBAEpI,EAAE,UAAU,EAAE,wBAAwB,CAAC,4BAA4B,EAAE,YAAY,EAAE,WAAW,CAAC,GAAG,CAAC,8BAA8B,CAAC,EAAE,YAAY,EAAE,OAAO,EAAE;aAC9J,CAAC,CAAC;YACH,YAAY,CAAC,wBAAwB,CAAC,gBAAgB,CAAC,GAAG,IAAI,CAAC;;YAE/D,YAAY,CAAC,wBAAwB,CAAC,4BAA4B,CAAC,GAAG,OAAO,CAAC,gBAAgB,CAAC,4BAA4B,IAAI,OAAO,CAAC,gBAAgB,CAAC,4BAA4B,CAAC;YACrL,IAAG,OAAO,CAAC,gBAAgB,CAAC,qBAAqB,EAAC;gBAC9C,OAAO,CAAC,gBAAgB,CAAC,qBAAqB,GAAG,IAAI,CAAC;aACzD;SAEJ;aAAM;YACH,gBAAgB,CAAC,UAAU,GAAG,gBAAgB,CAAC,UAAU,CAAC,MAAM,CAAC;gBAC7D,EAAE,UAAU,EAAE,wBAAwB,CAAC,gBAAgB,EAAE,YAAY,EAAE,WAAW,CAAC,GAAG,CAAC,kBAAkB,CAAC,EAAE,YAAY,EAAE,QAAQ,EAAE;aACvI,CAAC,CAAC;YACH,YAAY,CAAC,wBAAwB,CAAC,gBAAgB,CAAC,GAAG,KAAK,CAAC;SACnE;;YAEG,cAAc,GAA0B,IAAI,qBAAqB,EAAE;QACvE,cAAc,CAAC,UAAU,GAAG,gBAAgB,CAAC;QAC7C,cAAc,CAAC,YAAY,GAAG,WAAW,CAAC,GAAG,CAAC,gBAAgB,CAAC,CAAC;QAChE,cAAc,CAAC,KAAK,GAAG,UAAU,CAAC;QAClC,cAAc,CAAC,OAAO,GAAG,WAAW,CAAC,GAAG,CAAC,oBAAoB,CAAC,CAAC;QAC/D,cAAc,CAAC,UAAU,GAAG;YACxB,EAAE,UAAU,EAAE,wBAAwB,CAAC,KAAK,EAAE,YAAY,EAAE,WAAW,CAAC,GAAG,CAAC,OAAO,CAAC,EAAE,YAAY,EAAE,OAAO,EAAE;YAC7G,EAAE,UAAU,EAAE,wBAAwB,CAAC,eAAe,EAAE,YAAY,EAAE,WAAW,CAAC,GAAG,CAAC,iBAAiB,CAAC,EAAE,YAAY,EAAE,OAAO,EAAE;YACjI,EAAE,UAAU,EAAE,wBAAwB,CAAC,gBAAgB,EAAE,YAAY,EAAE,WAAW,CAAC,GAAG,CAAC,kBAAkB,CAAC,EAAE,YAAY,EAAE,OAAO,EAAE;SACtI,CAAC;;YAEE,gBAAgB,GAA0B,IAAI,qBAAqB,EAAE;QACzE,gBAAgB,CAAC,UAAU,GAAG,kBAAkB,CAAC;QACjD,gBAAgB,CAAC,YAAY,GAAG,WAAW,CAAC,GAAG,CAAC,kBAAkB,CAAC,CAAC;QACpE,gBAAgB,CAAC,KAAK,GAAG,UAAU,CAAC;QACpC,gBAAgB,CAAC,OAAO,GAAG,WAAW,CAAC,GAAG,CAAC,oBAAoB,CAAC,CAAC;QACjE,gBAAgB,CAAC,UAAU,GAAG;YAC1B,EAAE,UAAU,EAAE,wBAAwB,CAAC,YAAY,EAAE,YAAY,EAAE,WAAW,CAAC,GAAG,CAAC,cAAc,CAAC,EAAE,YAAY,EAAE,OAAO,EAAE;YAC3H,EAAE,UAAU,EAAE,wBAAwB,CAAC,mBAAmB,EAAE,YAAY,EAAE,WAAW,CAAC,GAAG,CAAC,qBAAqB,CAAC,EAAE,YAAY,EAAE,OAAO,EAAE;YACzI,EAAE,UAAU,EAAE,wBAAwB,CAAC,aAAa,EAAE,YAAY,EAAE,WAAW,CAAC,GAAG,CAAC,eAAe,CAAC,EAAE,YAAY,EAAE,OAAO,EAAE;YAC7H,EAAE,UAAU,EAAE,wBAAwB,CAAC,gCAAgC,EAAE,YAAY,EAAE,WAAW,CAAC,GAAG,CAAC,kCAAkC,CAAC,EAAE,YAAY,EAAE,OAAO,EAAE;SACtK,CAAC;QACF,YAAY,CAAC,wBAAwB,CAAC,gCAAgC,CAAC,GAAG,OAAO,CAAC,mBAAmB,CAAC;;YAElG,cAAc,GAA0B,IAAI,qBAAqB,EAAE;QACvE,cAAc,CAAC,UAAU,GAAG,gBAAgB,CAAC;QAC7C,cAAc,CAAC,YAAY,GAAG,WAAW,CAAC,GAAG,CAAC,gBAAgB,CAAC,CAAC;QAChE,cAAc,CAAC,KAAK,GAAG,UAAU,CAAC;QAClC,cAAc,CAAC,OAAO,GAAG,WAAW,CAAC,GAAG,CAAC,oBAAoB,CAAC,CAAC;QAC/D,cAAc,CAAC,UAAU,GAAG;YACxB,EAAE,UAAU,EAAE,wBAAwB,CAAC,gBAAgB,EAAE,YAAY,EAAE,WAAW,CAAC,GAAG,CAAC,kBAAkB,CAAC,EAAE,YAAY,EAAE,OAAO,EAAE;YACnI,EAAE,UAAU,EAAE,wBAAwB,CAAC,aAAa,EAAE,YAAY,EAAE,WAAW,CAAC,GAAG,CAAC,eAAe,CAAC,EAAE,YAAY,EAAE,OAAO,EAAE;SAChI,CAAC;;YAEE,OAAO,GAAG,IAAI,qBAAqB,EAAE;QACzC,OAAO,CAAC,UAAU,GAAG,SAAS,CAAC;QAC/B,OAAO,CAAC,YAAY,GAAG,WAAW,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;QAClD,OAAO,CAAC,KAAK,GAAG,OAAO,CAAC;QACxB,OAAO,CAAC,OAAO,GAAG,WAAW,CAAC,GAAG,CAAC,iBAAiB,CAAC,CAAC;QACrD,OAAO,CAAC,UAAU,GAAG;YACjB,EAAE,UAAU,EAAE,wBAAwB,CAAC,eAAe,EAAE,YAAY,EAAE,WAAW,CAAC,GAAG,CAAC,iBAAiB,CAAC,EAAE,YAAY,EAAE,QAAQ,EAAE;YAClI,EAAE,UAAU,EAAE,wBAAwB,CAAC,kBAAkB,EAAE,YAAY,EAAE,WAAW,CAAC,GAAG,CAAC,QAAQ,CAAC,EAAE,YAAY,EAAE,OAAO,EAAE;YAC3H,EAAE,UAAU,EAAE,wBAAwB,CAAC,sBAAsB,EAAE,YAAY,EAAE,WAAW,CAAC,GAAG,CAAC,SAAS,CAAC,EAAE,YAAY,EAAE,OAAO,EAAE;SACnI,CAAC;;;cAGI,SAAS,GAAG,IAAI,KAAK,EAAE;QAC7B,KAAK,MAAM,MAAM,IAAI,UAAU,EAAE;YAC7B,IAAI,CAAC,MAAM,CAAC,QAAQ,EAAE;;sBACZ,KAAK,GAAG,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,IAAI,KAAK,EAAE,EAAE;gBACrD,KAAK,MAAM,CAAC,IAAI,UAAU,EAAE;oBACxB,IAAI,CAAC,CAAC,QAAQ,KAAK,MAAM,CAAC,EAAE,EAAE;wBAC1B,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;qBACxB;iBACJ;gBACD,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC,CAAA;aACxB;SACJ;;QAED,IAAI,SAAS,IAAI,SAAS,CAAC,MAAM,GAAG,CAAC,EAAE;;gBAC/B,oBAAoB,GAA0B,IAAI,qBAAqB,EAAE;YAC7E,oBAAoB,CAAC,UAAU,GAAG,sBAAsB,CAAC;YACzD,oBAAoB,CAAC,YAAY,GAAG,WAAW,CAAC,GAAG,CAAC,sBAAsB,CAAC,CAAC;YAC5E,oBAAoB,CAAC,KAAK,GAAG,UAAU,CAAC;YACxC,oBAAoB,CAAC,OAAO,GAAG,WAAW,CAAC,GAAG,CAAC,oBAAoB,CAAC,CAAC;YACrE,oBAAoB,CAAC,UAAU,GAAG,IAAI,KAAK,EAAE,CAAC;YAC9C,KAAK,MAAM,CAAC,IAAI,SAAS,EAAE;gBACvB,oBAAoB,CAAC,UAAU,CAAC,IAAI,CAChC,EAAE,UAAU,EAAE,CAAC,CAAC,MAAM,CAAC,EAAE,EAAE,YAAY,EAAE,CAAC,CAAC,MAAM,CAAC,aAAa,EAAE,YAAY,EAAE,OAAO,EAAE,CAC3F,CAAC;aACL;YACD,IAAI,CAAC,eAAe,CAAC,OAAO,EAAE,YAAY,EAAE,SAAS,CAAC,CAAC;YAEvD,OAAO;gBACH,cAAc,EAAE,CAAC,aAAa,EAAE,iBAAiB,EAAE,OAAO,EAAE,gBAAgB,EAAE,cAAc,EAAE,cAAc,EAAE,gBAAgB,EAAE,oBAAoB,CAAC;gBACrJ,YAAY,EAAE,YAAY;aAC7B,CAAA;SACJ;aAAM;YACH,IAAI,CAAC,eAAe,CAAC,OAAO,EAAE,YAAY,EAAE,SAAS,CAAC,CAAC;YACvD,OAAO;gBACH,cAAc,EAAE,CAAC,aAAa,EAAE,iBAAiB,EAAE,OAAO,EAAE,gBAAgB,EAAE,cAAc,EAAE,cAAc,EAAE,gBAAgB,CAAC;gBAC/H,YAAY,EAAE,YAAY;aAC7B,CAAA;SACJ;KACJ;;;;;;IAMD,qBAAqB,CAAC,WAA6B;QAC/C,KAAK,IAAI,UAAU,IAAI,WAAW,EAAE;YAChC,IAAI,UAAU,CAAC,cAAc,KAAK,cAAc,CAAC,QAAQ,EAAE;gBACvD,OAAO,IAAI,CAAC;aACf;SACJ;QACD,OAAO,KAAK,CAAC;KAChB;;;;;;;;IAOD,eAAe,CAAC,GAAiB,EAAE,YAAiB,EAAE,SAAc;QAChE,YAAY,CAAC,wBAAwB,CAAC,EAAE,CAAC,GAAG,GAAG,CAAC,EAAE,CAAC;QACnD,YAAY,CAAC,wBAAwB,CAAC,SAAS,CAAC,GAAG,GAAG,CAAC,SAAS,CAAC;QACjE,YAAY,CAAC,wBAAwB,CAAC,IAAI,CAAC,GAAG,GAAG,CAAC,IAAI,CAAC;QACvD,YAAY,CAAC,wBAAwB,CAAC,YAAY,CAAC,GAAG,GAAG,CAAC,YAAY,IAAI;YACtE,QAAQ,EAAE,GAAG,CAAC,IAAI;SACrB,CAAC;;QAGF,YAAY,CAAC,wBAAwB,CAAC,aAAa,CAAC,GAAG,GAAG,CAAC,aAAa,CAAC;;QAGzE,YAAY,CAAC,wBAAwB,CAAC,gBAAgB,CAAC,GAAG,cAAc,CAAC,mBAAmB,CAAC,GAAG,CAAC,KAAK,EAAE,GAAG,CAAC,gBAAgB,CAAC,CAAC;QAE9H,YAAY,CAAC,wBAAwB,CAAC,kBAAkB,CAAC,GAAG,IAAI,CAAC,kBAAkB,CAAC,GAAG,CAAC,CAAC;QACzF,YAAY,CAAC,wBAAwB,CAAC,kBAAkB,CAAC,GAAG,IAAI,CAAC,qBAAqB,CAAC,GAAG,CAAC,CAAC;;;;QAK5F,YAAY,CAAC,wBAAwB,CAAC,aAAa,CAAC,GAAG,GAAG,CAAC,WAAW,CAAC;QACvE,YAAY,CAAC,wBAAwB,CAAC,KAAK,CAAC,GAAG,cAAc,CAAC,mBAAmB,oBAAC,GAAG,CAAC,KAAK,GAAqB,CAAC;QACjH,YAAY,CAAC,wBAAwB,CAAC,kBAAkB,CAAC,GAAG,GAAG,CAAC,gBAAgB,IAAI,EAAE,CAAC;QAEvF,YAAY,CAAC,wBAAwB,CAAC,cAAc,CAAC,GAAG,IAAI,CAAC,iBAAiB,CAAC,GAAG,CAAC,CAAC;QAEpF,YAAY,CAAC,wBAAwB,CAAC,WAAW,CAAC,GAAG,GAAG,CAAC,WAAW,CAAC;QACrE,YAAY,CAAC,wBAAwB,CAAC,YAAY,CAAC,GAAG,GAAG,CAAC,YAAY,CAAC;QACvE,YAAY,CAAC,wBAAwB,CAAC,gBAAgB,CAAC,GAAG,IAAI,CAAC,gBAAgB,CAAC,GAAG,CAAC,CAAC;QACrF,YAAY,CAAC,wBAAwB,CAAC,iBAAiB,CAAC,GAAG,IAAI,CAAC,iBAAiB,CAAC,GAAG,CAAC,CAAC;QACvF,YAAY,CAAC,wBAAwB,CAAC,aAAa,CAAC,GAAG,IAAI,CAAC,oBAAoB,CAAC,GAAG,CAAC,CAAC;QACtF,YAAY,CAAC,wBAAwB,CAAC,UAAU,CAAC,GAAG,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC;QAC5E,YAAY,CAAC,wBAAwB,CAAC,gBAAgB,CAAC,GAAG,IAAI,CAAC,gBAAgB,CAAC,GAAG,CAAC,CAAC;QAErF,YAAY,CAAC,wBAAwB,CAAC,kBAAkB,CAAC,GAAG,GAAG,CAAC,SAAS,IAAI,GAAG,CAAC,SAAS,CAAC,aAAa,GAAG,GAAG,CAAC,SAAS,CAAC,aAAa,GAAG,GAAG,CAAC,SAAS,CAAC,KAAK,IAAI,EAAE,CAAC;QACnK,YAAY,CAAC,wBAAwB,CAAC,YAAY,CAAC,GAAG;YAClD,WAAW,EAAE,GAAG,CAAC,SAAS;YAC1B,SAAS,EAAE,GAAG,CAAC,aAAa;SAC/B,CAAC;QACF,YAAY,CAAC,wBAAwB,CAAC,aAAa,CAAC,GAAG,cAAc,CAAC,iBAAiB,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC;;QAE5G,YAAY,CAAC,wBAAwB,CAAC,aAAa,CAAC,GAAG,GAAG,CAAC,aAAa,CAAC;QACzE,YAAY,CAAC,wBAAwB,CAAC,kBAAkB,CAAC;YACrD,GAAG,CAAC,YAAY,GAAG,GAAG,CAAC,YAAY,CAAC,IAAI;;;;YAAC,CAAC,IAAI,CAAC,CAAC,YAAY,KAAK,IAAI,EAAC,GAAG,IAAI,CAAC;QAClF,YAAY,CAAC,wBAAwB,CAAC,sBAAsB,CAAC;YACzD,GAAG,CAAC,YAAY,GAAG,GAAG,CAAC,YAAY,CAAC,IAAI;;;;YAAC,CAAC,IAAI,CAAC,CAAC,YAAY,KAAK,QAAQ,EAAC,GAAG,IAAI,CAAC;QACtF,YAAY,CAAC,wBAAwB,CAAC,mBAAmB,CAAC,GAAG,GAAG,CAAC,mBAAmB,CAAC;QACrF,YAAY,CAAC,wBAAwB,CAAC,eAAe,CAAC,GAAG,GAAG,CAAC,eAAe,GAAG,GAAG,CAAC,eAAe,GAAG,eAAe,CAAC,GAAG,CAAC;QACzH,YAAY,CAAC,wBAAwB,CAAC,cAAc,CAAC,GAAG,IAAI,CAAC,iBAAiB,CAAC,GAAG,CAAC,CAAC;QACpF,KAAK,MAAM,CAAC,IAAI,SAAS,EAAE;;YAEvB,IAAI,GAAG,CAAC,gBAAgB,IAAI,GAAG,CAAC,gBAAgB,CAAC,MAAM,GAAG,CAAC,EAAE;gBACzD,CAAC,CAAC,MAAM,CAAC,IAAI;;;;;gBAAC,CAAC,CAAC,EAAE,CAAC;oBACf,OAAO,CAAC,CAAC,SAAS,GAAG,CAAC,CAAC,SAAS,CAAC;iBACpC,EAAC,CAAC,OAAO;;;;gBAAC,CAAC,CAAM;oBACd,GAAG,CAAC,gBAAgB,CAAC,OAAO;;;;oBAAC,CAAC;wBAC1B,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,IAAI,EAAE;4BACjB,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC,KAAK,CAAC;yBACrB;qBACJ,EAAC,CAAC;iBACN,EAAC,CAAC;aACN;YACD,YAAY,CAAC,CAAC,CAAC,MAAM,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,MAAM,CAAC;SACxC;QACD,YAAY,CAAC,wBAAwB,CAAC,eAAe,CAAC,GAAG,IAAI,CAAC,kBAAkB,CAAC,GAAG,CAAC,CAAC;KAEzF;;;;;IAED,kBAAkB,CAAC,YAA0B;;cACnC,SAAS,GAAG,IAAIE,iBAAe,EAAE;QACvC,SAAS,CAAC,cAAc,CAAC,cAAc,GAAG,YAAY,CAAC,kBAAkB,CAAC;;cACpE,KAAK,sBAAG,YAAY,CAAC,gBAAgB,EAAE,CAAC,MAAM;;;;QAAC,IAAI,IAAI,IAAI,YAAY,kBAAkB,EAAC,EAA6B;QAC7H,SAAS,CAAC,kBAAkB,GAAG,cAAc,CAAC,gBAAgB,CAAC,KAAK,CAAC,CAAC;QACtE,IAAI,YAAY,CAAC,kBAAkB,KAAK,kBAAkB,CAAC,MAAM,EAAE;YAC/D,IAAI,YAAY,CAAC,qBAAqB,EAAE;;sBAC9B,YAAY,GAAG,IAAInB,cAAY,EAAE;gBACvC,YAAY,CAAC,QAAQ,GAAG,YAAY,CAAC,qBAAqB,CAAC,QAAQ,CAAC;gBACpE,YAAY,CAAC,WAAW,GAAG,YAAY,CAAC,qBAAqB,CAAC,WAAW,CAAC;gBAC1E,YAAY,CAAC,SAAS,GAAG,YAAY,CAAC,qBAAqB,CAAC,SAAS,CAAC;gBACtE,SAAS,CAAC,cAAc,CAAC,YAAY,GAAG,YAAY,CAAC;gBACrD,SAAS,CAAC,UAAU,GAAG,YAAY,CAAC,qBAAqB,CAAC,iBAAiB,CAAC;aAC/E;;kBACK,KAAK,sBAAG,YAAY,CAAC,gBAAgB,EAAE,CAAC,MAAM;;;;YAAC,IAAI,IAAI,IAAI,YAAY,kBAAkB,EAAC,EAA6B;YAC7H,SAAS,CAAC,kBAAkB,GAAG,cAAc,CAAC,gBAAgB,CAAC,KAAK,CAAC,CAAC;SACzE;QAED,OAAO,SAAS,CAAC;KACpB;;;;;IAED,qBAAqB,CAAC,YAA0B;;cACtC,OAAO,GAAQ,EAAE;QACvB,IAAI,YAAY,CAAC,kBAAkB,IAAI,IAAI,EAAE;YACzC,OAAO,CAAC,mBAAmB,GAAG,YAAY,CAAC,kBAAkB,CAAC,mBAAmB,CAAC;YAClF,OAAO,CAAC,mBAAmB,GAAG,YAAY,CAAC,kBAAkB,CAAC,mBAAmB,CAAC;YAClF,OAAO,CAAC,aAAa,GAAG,YAAY,CAAC,kBAAkB,CAAC,aAAa,CAAC;YACtE,OAAO,CAAC,mBAAmB,GAAG,YAAY,CAAC,kBAAkB,CAAC,mBAAmB,CAAC;SACrF;QACD,OAAO,OAAO,CAAC;KAClB;;;;;IAED,iBAAiB,CAAC,YAA0B;;cAClC,cAAc,GAAG,IAAIkB,gBAAc,EAAE;QAC3C,cAAc,CAAC,cAAc,GAAG,YAAY,CAAC,kBAAkB,CAAC;QAChE,IAAI,YAAY,CAAC,qBAAqB,EAAE;;kBAC9B,YAAY,GAAG,IAAIlB,cAAY,EAAE;YACvC,YAAY,CAAC,QAAQ,GAAG,YAAY,CAAC,qBAAqB,CAAC,QAAQ,CAAC;YACpE,YAAY,CAAC,WAAW,GAAG,YAAY,CAAC,qBAAqB,CAAC,WAAW,CAAC;YAC1E,YAAY,CAAC,SAAS,GAAG,YAAY,CAAC,qBAAqB,CAAC,SAAS,CAAC;YACtE,cAAc,CAAC,YAAY,GAAG,YAAY,CAAC;SAC9C;QACD,OAAO,cAAc,CAAC;KACzB;;;;;IAGD,gBAAgB,CAAC,YAA0B;;cACjC,aAAa,GAAG,IAAI,6BAA6B,EAAE;QACzD,aAAa,CAAC,MAAM,sBAAG,WAAW,CAAC,YAAY,EAAO,CAAC;QACvD,IAAI,YAAY,CAAC,gBAAgB,EAAE;YAC/B,aAAa,CAAC,MAAM,GAAG,IAAI,CAAC;;kBACtB,KAAK,GAAG,YAAY,CAAC,mBAAmB,CAAC,MAAM;;;;YAAC,CAAC,IAAI,CAAC,CAAC,WAAW,KAAK,WAAW,CAAC,YAAY,EAAC;;gBAClG,GAAG,GAAG,KAAK,CAAC,IAAI;;;;YAAC,CAAC,IAAI,oBAAC,CAAC,IAAS,iBAAiB,IAAI,CAAC,oBAAC,CAAC,IAAS,KAAK,EAAC;;gBACxE,IAAI,GAAmB,EAAE;YAC7B,IAAG,GAAG,EAAE;;sBACE,YAAY,GAAG,IAAIgB,yBAAuB;gBAChD,YAAY,CAAC,EAAE,GAAG,GAAG,CAAC,EAAE,CAAC;gBACzB,YAAY,CAAC,IAAI,GAAG,GAAG,CAAC,SAAS,CAAC;gBAClC,YAAY,CAAC,IAAI,GAAG,GAAG,CAAC,IAAI,CAAC;gBAC7B,YAAY,CAAC,WAAW,sBAAG,GAAG,CAAC,WAAW,EAAO,CAAC;gBAClD,YAAY,CAAC,iBAAiB,GAAG,oBAAC,GAAG,IAAS,iBAAiB,CAAC;gBAChE,YAAY,CAAC,cAAc,GAAG,oBAAC,GAAG,IAAS,cAAc,CAAC;gBAC1D,YAAY,CAAC,gBAAgB,GAAG,oBAAC,GAAG,IAAS,gBAAgB,CAAC;gBAC9D,YAAY,CAAC,gBAAgB,GAAG,oBAAC,GAAG,IAAS,gBAAgB,CAAC;gBAC9D,YAAY,CAAC,eAAe,GAAG,oBAAC,GAAG,IAAS,eAAe,CAAC;gBAC5D,YAAY,CAAC,YAAY,GAAG,oBAAC,GAAG,IAAS,YAAY,CAAC;gBACtD,YAAY,CAAC,GAAG,GAAG,oBAAC,GAAG,IAAS,GAAG,CAAC;gBACpC,YAAY,CAAC,KAAK,GAAG,CAAC,CAAC;gBACvB,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;aAC3B;iBAAK;gBACF,IAAI,GAAG,cAAc,CAAC,oBAAoB,CAAC,KAAK,CAAC,CAAC;aACrD;YACD,aAAa,CAAC,KAAK,GAAG,IAAI,0BAA0B,EAAE,CAAC;YACvD,IAAG,IAAI,IAAI,IAAI,CAAC,MAAM,GAAG,CAAC,EAAE;gBACxB,aAAa,CAAC,KAAK,CAAC,eAAe,GAAG,IAAIG,iBAAe,EAAE,CAAC;gBAC5D,aAAa,CAAC,KAAK,CAAC,eAAe,CAAC,kBAAkB,GAAG,IAAI,CAAC;gBAC9D,aAAa,CAAC,KAAK,CAAC,eAAe,CAAC,UAAU,GAAG,IAAI,CAAC;aACzD;iBAAK;gBACF,aAAa,CAAC,KAAK,CAAC,eAAe,GAAG,IAAIA,iBAAe,EAAE,CAAC;gBAC5D,aAAa,CAAC,KAAK,CAAC,eAAe,CAAC,UAAU,GAAG,KAAK,CAAC;aAC1D;SACJ;aAAM;YACH,aAAa,CAAC,MAAM,GAAG,KAAK,CAAC;SAChC;QACD,OAAO,aAAa,CAAC;KACxB;;;;;IACD,iBAAiB,CAAC,YAA0B;;cAClC,cAAc,GAAG,IAAI,6BAA6B,EAAE;QAC1D,cAAc,CAAC,MAAM,sBAAG,WAAW,CAAC,aAAa,EAAO,CAAC;QACzD,IAAI,YAAY,CAAC,iBAAiB,EAAE;YAChC,cAAc,CAAC,MAAM,GAAG,IAAI,CAAC;;kBACvB,KAAK,GAAG,YAAY,CAAC,mBAAmB,CAAC,MAAM;;;;YAAC,CAAC,IAAI,CAAC,CAAC,WAAW,KAAK,WAAW,CAAC,aAAa,EAAC;;gBACnG,GAAG,GAAG,KAAK,CAAC,IAAI;;;;YAAC,CAAC,IAAI,oBAAC,CAAC,IAAS,iBAAiB,IAAI,CAAC,oBAAC,CAAC,IAAS,KAAK,EAAC;;gBACxE,IAAI,GAAmB,EAAE;YAC7B,IAAG,GAAG,EAAE;;sBACE,YAAY,GAAG,IAAIH,yBAAuB;gBAChD,YAAY,CAAC,EAAE,GAAG,GAAG,CAAC,EAAE,CAAC;gBACzB,YAAY,CAAC,IAAI,GAAG,GAAG,CAAC,SAAS,CAAC;gBAClC,YAAY,CAAC,IAAI,GAAG,GAAG,CAAC,IAAI,CAAC;gBAC7B,YAAY,CAAC,WAAW,sBAAG,GAAG,CAAC,WAAW,EAAO,CAAC;gBAClD,YAAY,CAAC,iBAAiB,GAAG,oBAAC,GAAG,IAAS,iBAAiB,CAAC;gBAChE,YAAY,CAAC,cAAc,GAAG,oBAAC,GAAG,IAAS,cAAc,CAAC;gBAC1D,YAAY,CAAC,gBAAgB,GAAG,oBAAC,GAAG,IAAS,gBAAgB,CAAC;gBAC9D,YAAY,CAAC,gBAAgB,GAAG,oBAAC,GAAG,IAAS,gBAAgB,CAAC;gBAC9D,YAAY,CAAC,eAAe,GAAG,oBAAC,GAAG,IAAS,eAAe,CAAC;gBAC5D,YAAY,CAAC,YAAY,GAAG,oBAAC,GAAG,IAAS,YAAY,CAAC;gBACtD,YAAY,CAAC,GAAG,GAAG,oBAAC,GAAG,IAAS,GAAG,CAAC;gBACpC,YAAY,CAAC,KAAK,GAAG,CAAC,CAAC;gBACvB,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;aAC3B;iBAAK;gBACF,IAAI,GAAG,cAAc,CAAC,oBAAoB,CAAC,KAAK,CAAC,CAAC;aACrD;YACD,cAAc,CAAC,KAAK,GAAG,IAAI,0BAA0B,EAAE,CAAC;YACxD,IAAG,IAAI,IAAI,IAAI,CAAC,MAAM,GAAG,CAAC,EAAE;gBACxB,cAAc,CAAC,KAAK,CAAC,eAAe,GAAG,IAAIG,iBAAe,EAAE,CAAC;gBAC7D,cAAc,CAAC,KAAK,CAAC,eAAe,CAAC,kBAAkB,GAAG,IAAI,CAAC;gBAC/D,cAAc,CAAC,KAAK,CAAC,eAAe,CAAC,UAAU,GAAG,IAAI,CAAC;aAC1D;iBAAK;gBACF,cAAc,CAAC,KAAK,CAAC,eAAe,GAAG,IAAIA,iBAAe,EAAE,CAAC;gBAC7D,cAAc,CAAC,KAAK,CAAC,eAAe,CAAC,UAAU,GAAG,KAAK,CAAC;aAC3D;SACJ;aAAM;YACH,cAAc,CAAC,MAAM,GAAG,KAAK,CAAC;SACjC;QACD,OAAO,cAAc,CAAC;KACzB;;;;;IACD,oBAAoB,CAAC,YAA0B;;cACrC,iBAAiB,GAAG,IAAI,6BAA6B,EAAE;QAC7D,iBAAiB,CAAC,MAAM,sBAAG,WAAW,CAAC,QAAQ,EAAO,CAAC;QAEvD,IAAI,YAAY,CAAC,YAAY,EAAE;YAC3B,iBAAiB,CAAC,MAAM,GAAG,IAAI,CAAC;;kBAC1B,KAAK,GAAG,YAAY,CAAC,mBAAmB,CAAC,MAAM;;;;YAAC,CAAC,IAAI,CAAC,CAAC,WAAW,KAAK,WAAW,CAAC,QAAQ,EAAC;;gBAC9F,GAAG,GAAG,KAAK,CAAC,IAAI;;;;YAAC,CAAC,IAAI,oBAAC,CAAC,IAAS,iBAAiB,IAAI,CAAC,oBAAC,CAAC,IAAS,KAAK,EAAC;;gBACxE,IAAI,GAAmB,EAAE;YAC7B,IAAG,GAAG,EAAE;;sBACE,YAAY,GAAG,IAAIH,yBAAuB;gBAChD,YAAY,CAAC,EAAE,GAAG,GAAG,CAAC,EAAE,CAAC;gBACzB,YAAY,CAAC,IAAI,GAAG,GAAG,CAAC,SAAS,CAAC;gBAClC,YAAY,CAAC,IAAI,GAAG,GAAG,CAAC,IAAI,CAAC;gBAC7B,YAAY,CAAC,WAAW,sBAAG,GAAG,CAAC,WAAW,EAAO,CAAC;gBAClD,YAAY,CAAC,iBAAiB,GAAG,oBAAC,GAAG,IAAS,iBAAiB,CAAC;gBAChE,YAAY,CAAC,cAAc,GAAG,oBAAC,GAAG,IAAS,cAAc,CAAC;gBAC1D,YAAY,CAAC,gBAAgB,GAAG,oBAAC,GAAG,IAAS,gBAAgB,CAAC;gBAC9D,YAAY,CAAC,gBAAgB,GAAG,oBAAC,GAAG,IAAS,gBAAgB,CAAC;gBAC9D,YAAY,CAAC,eAAe,GAAG,oBAAC,GAAG,IAAS,eAAe,CAAC;gBAC5D,YAAY,CAAC,YAAY,GAAG,oBAAC,GAAG,IAAS,YAAY,CAAC;gBACtD,YAAY,CAAC,GAAG,GAAG,oBAAC,GAAG,IAAS,GAAG,CAAC;gBACpC,YAAY,CAAC,KAAK,GAAG,CAAC,CAAC;gBACvB,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;aAC3B;iBAAK;gBACF,IAAI,GAAG,cAAc,CAAC,oBAAoB,CAAC,KAAK,CAAC,CAAC;aACrD;YACD,iBAAiB,CAAC,KAAK,GAAG,IAAI,0BAA0B,EAAE,CAAC;YAC3D,IAAG,IAAI,IAAI,IAAI,CAAC,MAAM,GAAG,CAAC,EAAE;gBACxB,iBAAiB,CAAC,KAAK,CAAC,eAAe,GAAG,IAAIG,iBAAe,EAAE,CAAC;gBAChE,iBAAiB,CAAC,KAAK,CAAC,eAAe,CAAC,kBAAkB,GAAG,IAAI,CAAC;gBAClE,iBAAiB,CAAC,KAAK,CAAC,eAAe,CAAC,UAAU,GAAG,IAAI,CAAC;aAC7D;iBAAK;gBACF,iBAAiB,CAAC,KAAK,CAAC,eAAe,GAAG,IAAIA,iBAAe,EAAE,CAAC;gBAChE,iBAAiB,CAAC,KAAK,CAAC,eAAe,CAAC,UAAU,GAAG,KAAK,CAAC;aAC9D;SACJ;aAAM;YACH,iBAAiB,CAAC,MAAM,GAAG,YAAY,CAAC,YAAY,CAAC;SACxD;QACD,OAAO,iBAAiB,CAAC;KAC5B;;;;;IACD,aAAa,CAAC,YAA0B;;cAC9B,eAAe,GAAG,IAAI,6BAA6B,EAAE;QAC3D,eAAe,CAAC,MAAM,sBAAG,WAAW,CAAC,MAAM,EAAO,CAAC;QAEnD,IAAI,YAAY,CAAC,UAAU,EAAE;YACzB,eAAe,CAAC,MAAM,GAAG,IAAI,CAAC;;kBACxB,KAAK,GAAG,YAAY,CAAC,mBAAmB,CAAC,MAAM;;;;YAAC,CAAC,IAAI,CAAC,CAAC,WAAW,KAAK,WAAW,CAAC,MAAM,EAAC;;gBAC5F,GAAG,GAAG,KAAK,CAAC,IAAI;;;;YAAC,CAAC,IAAI,oBAAC,CAAC,IAAS,iBAAiB,IAAI,CAAC,oBAAC,CAAC,IAAS,KAAK,EAAC;;gBACxE,IAAI,GAAmB,EAAE;YAC7B,IAAG,GAAG,EAAE;;sBACE,YAAY,GAAG,IAAIH,yBAAuB;gBAChD,YAAY,CAAC,EAAE,GAAG,GAAG,CAAC,EAAE,CAAC;gBACzB,YAAY,CAAC,IAAI,GAAG,GAAG,CAAC,SAAS,CAAC;gBAClC,YAAY,CAAC,IAAI,GAAG,GAAG,CAAC,IAAI,CAAC;gBAC7B,YAAY,CAAC,WAAW,sBAAG,GAAG,CAAC,WAAW,EAAO,CAAC;gBAClD,YAAY,CAAC,iBAAiB,GAAG,oBAAC,GAAG,IAAS,iBAAiB,CAAC;gBAChE,YAAY,CAAC,cAAc,GAAG,oBAAC,GAAG,IAAS,cAAc,CAAC;gBAC1D,YAAY,CAAC,gBAAgB,GAAG,oBAAC,GAAG,IAAS,gBAAgB,CAAC;gBAC9D,YAAY,CAAC,gBAAgB,GAAG,oBAAC,GAAG,IAAS,gBAAgB,CAAC;gBAC9D,YAAY,CAAC,eAAe,GAAG,oBAAC,GAAG,IAAS,eAAe,CAAC;gBAC5D,YAAY,CAAC,YAAY,GAAG,oBAAC,GAAG,IAAS,YAAY,CAAC;gBACtD,YAAY,CAAC,GAAG,GAAG,oBAAC,GAAG,IAAS,GAAG,CAAC;gBACpC,YAAY,CAAC,KAAK,GAAG,CAAC,CAAC;gBACvB,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;aAC3B;iBAAK;gBACF,IAAI,GAAG,cAAc,CAAC,oBAAoB,CAAC,KAAK,CAAC,CAAC;aACrD;YACD,eAAe,CAAC,KAAK,GAAG,IAAI,0BAA0B,EAAE,CAAC;YACzD,IAAG,IAAI,IAAI,IAAI,CAAC,MAAM,GAAG,CAAC,EAAE;gBACxB,eAAe,CAAC,KAAK,CAAC,eAAe,GAAG,IAAIG,iBAAe,EAAE,CAAC;gBAC9D,eAAe,CAAC,KAAK,CAAC,eAAe,CAAC,kBAAkB,GAAG,IAAI,CAAC;gBAChE,eAAe,CAAC,KAAK,CAAC,eAAe,CAAC,UAAU,GAAG,IAAI,CAAC;aAC3D;iBAAK;gBACF,eAAe,CAAC,KAAK,CAAC,eAAe,GAAG,IAAIA,iBAAe,EAAE,CAAC;gBAC9D,eAAe,CAAC,KAAK,CAAC,eAAe,CAAC,UAAU,GAAG,KAAK,CAAC;aAC5D;SACJ;aAAM;YACH,eAAe,CAAC,MAAM,GAAG,YAAY,CAAC,UAAU,CAAC;SACpD;QACD,OAAO,eAAe,CAAC;KAC1B;;;;;IACD,gBAAgB,CAAC,YAA0B;QACvC,IAAI,YAAY,CAAC,gBAAgB,EAAE;;kBACzB,SAAS,GAAG,IAAI,oBAAoB,EAAE;YAC5C,SAAS,CAAC,MAAM,GAAG,YAAY,CAAC,gBAAgB,CAAC,MAAM,CAAC;YACxD,SAAS,CAAC,GAAG,GAAG,YAAY,CAAC,gBAAgB,CAAC,GAAG,CAAC;YAClD,SAAS,CAAC,OAAO,GAAG,YAAY,CAAC,gBAAgB,CAAC,OAAO,CAAC;YAC1D,SAAS,CAAC,QAAQ,GAAG,YAAY,CAAC,gBAAgB,CAAC,QAAQ,CAAC;YAC5D,SAAS,CAAC,gBAAgB,GAAG,IAAI,KAAK,EAAE,CAAC;YACzC,IAAI,YAAY,CAAC,gBAAgB,CAAC,gBAAgB,IAAI,YAAY,CAAC,gBAAgB,CAAC,gBAAgB,CAAC,MAAM,GAAG,CAAC,EAAE;;sBACvG,UAAU,GAAG,YAAY,CAAC,gBAAgB,CAAC,gBAAgB;gBACjE,KAAK,MAAM,CAAC,IAAI,UAAU,EAAE;oBACxB,IAAI,CAAC,CAAC,SAAS,CAAC,OAAO,CAAC,4BAA4B,CAAC,GAAG,CAAC,EAAE;;8BACjD,SAAS,sBAAG,CAAC,EAA8B;;8BAC3C,WAAW,GAAG,IAAI,8BAA8B,EAAE;wBACxD,WAAW,CAAC,YAAY,GAAG,SAAS,CAAC,YAAY,CAAC;wBAClD,WAAW,CAAC,YAAY,GAAG,SAAS,CAAC,YAAY,CAAC;wBAClD,WAAW,CAAC,QAAQ,GAAG,SAAS,CAAC,QAAQ,CAAC;wBAC1C,WAAW,CAAC,OAAO,GAAG,SAAS,CAAC,OAAO,CAAC;wBACxC,WAAW,CAAC,QAAQ,GAAG,SAAS,CAAC,QAAQ,CAAC;wBAC1C,WAAW,CAAC,OAAO,GAAG,SAAS,CAAC,OAAO,CAAC;wBACxC,WAAW,CAAC,EAAE,GAAG,SAAS,CAAC,EAAE,CAAC;wBAC9B,WAAW,CAAC,QAAQ,GAAG,SAAS,CAAC,QAAQ,CAAC;wBAC1C,WAAW,CAAC,WAAW,GAAG,SAAS,CAAC,WAAW,CAAC;wBAChD,WAAW,CAAC,SAAS,GAAG,SAAS,CAAC,SAAS,CAAC;wBAC5C,WAAW,CAAC,aAAa,GAAG,SAAS,CAAC,aAAa,CAAC;wBACpD,WAAW,CAAC,iBAAiB,GAAG,SAAS,CAAC,iBAAiB,GAAG,SAAS,CAAC,iBAAiB,GAAG,4BAA4B,CAAC;wBACzH,IAAI,SAAS,CAAC,kBAAkB,EAAE;;kCACxB,WAAW,GAAQ,IAAI,MAAM;4BACnC,WAAW,CAAC,IAAI,GAAG,SAAS,CAAC,kBAAkB,CAAC,IAAI,CAAC;4BACrD,WAAW,CAAC,OAAO,GAAG,SAAS,CAAC,kBAAkB,CAAC,OAAO,CAAC;4BAC3D,WAAW,CAAC,mBAAmB,GAAG,IAAI,KAAK,EAAE,CAAC;4BAC9C,IAAI,SAAS,CAAC,kBAAkB,CAAC,mBAAmB,IAAI,SAAS,CAAC,kBAAkB,CAAC,mBAAmB,CAAC,MAAM,GAAG,CAAC,EAAE;gCACjH,KAAK,MAAM,CAAC,IAAI,SAAS,CAAC,kBAAkB,CAAC,mBAAmB,EAAE;;0CACxD,QAAQ,GAAQ,IAAI,MAAM;oCAChC,QAAQ,CAAC,EAAE,GAAG,eAAe,CAAC,QAAQ,EAAE,CAAC;oCACzC,QAAQ,CAAC,IAAI,GAAG,CAAC,CAAC,IAAI,CAAC;oCACvB,QAAQ,CAAC,KAAK,GAAG,CAAC,CAAC,KAAK,CAAC;oCACzB,QAAQ,CAAC,GAAG,GAAG,CAAC,CAAC,GAAG,CAAC;oCACrB,WAAW,CAAC,mBAAmB,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;iCAClD;6BACJ;4BACD,WAAW,CAAC,kBAAkB,GAAG,WAAW,CAAC;yBAChD;wBACD,SAAS,CAAC,gBAAgB,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;qBAChD;yBAAM,IAAI,CAAC,CAAC,SAAS,CAAC,OAAO,CAAC,2BAA2B,CAAC,GAAG,CAAC,EAAE;;8BACvD,SAAS,sBAAG,CAAC,EAA6B;;8BAC1C,UAAU,GAAG,IAAI,6BAA6B,EAAE;wBACtD,UAAU,CAAC,EAAE,GAAG,SAAS,CAAC,EAAE,CAAC;wBAC7B,UAAU,CAAC,YAAY,GAAG,SAAS,CAAC,YAAY,CAAC;wBACjD,UAAU,CAAC,YAAY,GAAG,SAAS,CAAC,YAAY,CAAC;wBACjD,UAAU,CAAC,QAAQ,GAAG,SAAS,CAAC,QAAQ,CAAC;wBACzC,UAAU,CAAC,iBAAiB,GAAG,SAAS,CAAC,iBAAiB,GAAG,SAAS,CAAC,iBAAiB,GAAG,2BAA2B,CAAC;wBACvH,UAAU,CAAC,cAAc,GAAG,SAAS,CAAC,cAAc,CAAC;wBACrD,UAAU,CAAC,OAAO,GAAG,SAAS,CAAC,OAAO,CAAC;wBACvC,SAAS,CAAC,gBAAgB,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;qBAC/C;iBAEJ;aACJ;YACD,OAAO,SAAS,CAAC;SACpB;QACD,OAAO,IAAI,CAAC;KACf;;;;;IAED,iBAAiB,CAAC,YAA0B;QACxC,IAAI,CAAC,YAAY,CAAC,cAAc,EAAE;YAC9B,OAAO,IAAI,CAAC;SACf;;cACK,IAAI,GAAG,YAAY,CAAC,cAAc;;YACpC,cAAc,GAAQ;YACtB,cAAc,EAAE,IAAI,CAAC,cAAc;YACnC,QAAQ,EAAE,IAAI,CAAC,QAAQ;YACvB,SAAS,EAAE,IAAI,CAAC,SAAS;YACzB,YAAY,EAAE,IAAI,CAAC,YAAY;YAC/B,kBAAkB,EAAE,IAAI,CAAC,kBAAkB;YAC3C,kBAAkB,EAAE,IAAI,CAAC,kBAAkB;YAC3C,WAAW,EAAE,IAAI,CAAC,WAAW;YAC7B,eAAe,EAAE,IAAI,CAAC,eAAe;YACrC,eAAe,EAAE,IAAI,CAAC,eAAe;SACxC;QACD,IAAI,IAAI,CAAC,kBAAkB,EAAE;;kBACnB,WAAW,GAAQ,IAAI,MAAM;YACnC,WAAW,CAAC,IAAI,GAAG,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC;YAChD,WAAW,CAAC,OAAO,GAAG,IAAI,CAAC,kBAAkB,CAAC,OAAO,CAAC;YACtD,WAAW,CAAC,mBAAmB,GAAG,IAAI,KAAK,EAAE,CAAC;YAC9C,IAAI,IAAI,CAAC,kBAAkB,CAAC,mBAAmB,IAAI,IAAI,CAAC,kBAAkB,CAAC,mBAAmB,CAAC,MAAM,GAAG,CAAC,EAAE;gBACvG,KAAK,MAAM,CAAC,IAAI,IAAI,CAAC,kBAAkB,CAAC,mBAAmB,EAAE;;0BACnD,QAAQ,GAAQ,IAAI,MAAM;oBAChC,QAAQ,CAAC,EAAE,GAAG,eAAe,CAAC,QAAQ,EAAE,CAAC;oBACzC,QAAQ,CAAC,IAAI,GAAG,CAAC,CAAC,IAAI,CAAC;oBACvB,QAAQ,CAAC,KAAK,GAAG,CAAC,CAAC,KAAK,CAAC;oBACzB,QAAQ,CAAC,GAAG,GAAG,CAAC,CAAC,GAAG,CAAC;oBACrB,WAAW,CAAC,mBAAmB,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;iBAClD;aACJ;YACD,cAAc,CAAC,kBAAkB,GAAG,WAAW,CAAC;SACnD;QACD,OAAO,cAAc,CAAC;KACzB;;;;;IAED,kBAAkB,CAAC,YAA0B;QACzC,IAAI,YAAY,CAAC,eAAe,IAAI,YAAY,CAAC,eAAe,CAAC,MAAM,GAAG,CAAC,EAAE;YACzE,OAAO,YAAY,CAAC,eAAe,CAAC,GAAG;;;;YAAC,CAAC,KAAK;gBAC1C,KAAK,EAAE,CAAC,CAAC,KAAK;gBACd,SAAS,EAAE,CAAC,CAAC,SAAS;gBACtB,SAAS,EAAE,CAAC,CAAC,SAAS,GAAG,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,MAAM;;;;;gBAAC,CAAC,GAAG,EAAE,CAAC,GAAG,EAAE,KAAK,CAAC,KAAK,MAAM,CAAC,MAAM,CAAC,GAAG,EAAE,EAAE,CAAC,GAAG,GAAG,KAAK,EAAE,CAAC,GAAE,EAAE,CAAC,GAAG,IAAI;aAClI,CAAC,EAAC,CAAC;SACP;QACD,OAAO,IAAI,CAAC;KACf;;;;;IAED,WAAW,CAAC,GAAQ;QAChB,IAAI,CAAC,wBAAwB,CAAC,GAAG,CAAC,CAAC;KACtC;;;;;;IAED,wBAAwB,CAAC,GAAQ,EAAE,cAAuB,KAAK;;cACrD,QAAQ,GAAG,IAAI,CAAC,QAAQ;;cACxB,YAAY,GAAG,IAAI,CAAC,WAAW;;cAC/B,UAAU,GAAW,GAAG,CAAC,UAAU;QACzC,QAAQ,UAAU;YACd,KAAK,wBAAwB,CAAC,kBAAkB;gBAC5C,IAAI,CAAC,iBAAiB,CAAC,YAAY,EAAE,GAAG,EAAE,WAAW,CAAC,CAAC;gBACvD,MAAM;YACV,KAAK,wBAAwB,CAAC,kBAAkB;gBAC5C,IAAI,CAAC,wBAAwB,CAAC,YAAY,EAAE,GAAG,CAAC,CAAC;gBACjD,MAAM;;;;;;;;;;YAUV,KAAK,wBAAwB,CAAC,gBAAgB;gBAC1C,IAAI,CAAC,wBAAwB,CAAC,YAAY,EAAE,GAAG,EAAE,WAAW,CAAC,CAAC;gBAC9D,MAAM;YACV,KAAK,wBAAwB,CAAC,eAAe;gBACzC,IAAI,CAAC,oBAAoB,CAAC,YAAY,EAAE,GAAG,CAAC,CAAC;gBAC7C,MAAM;YACV,KAAK,wBAAwB,CAAC,QAAQ;gBAClC,IAAI,CAAC,cAAc,CAAC,YAAY,EAAE,GAAG,EAAE,WAAW,CAAC,CAAC;gBACpD,MAAM;YACV,KAAK,wBAAwB,CAAC,aAAa;gBACvC,IAAI,CAAC,kBAAkB,CAAC,YAAY,EAAE,GAAG,EAAE,WAAW,CAAC,CAAC;gBACxD,MAAM;YACV,KAAK,wBAAwB,CAAC,kBAAkB;gBAC5C,IAAI,CAAC,gBAAgB,CAAC,YAAY,EAAE,GAAG,EAAE,IAAI,CAAC,CAAC;gBAC/C,IAAI,GAAG,CAAC,UAAU,IAAI,GAAG,CAAC,UAAU,CAAC,MAAM,GAAG,CAAC,EAAE;oBAC7C,cAAc,CAAC,sBAAsB,CAAC,QAAQ,CAAC,KAAK,CAAC,SAAS,CAAC,cAAc,EAAE,GAAG,CAAC,UAAU,CAAC,CAAC;iBAClG;gBACD,MAAM;YACV,KAAK,wBAAwB,CAAC,sBAAsB;gBAChD,IAAI,CAAC,gBAAgB,CAAC,YAAY,EAAE,GAAG,EAAE,QAAQ,CAAC,CAAC;gBACnD,IAAI,GAAG,CAAC,UAAU,IAAI,GAAG,CAAC,UAAU,CAAC,MAAM,GAAG,CAAC,EAAE;oBAC7C,cAAc,CAAC,sBAAsB,CAAC,QAAQ,CAAC,KAAK,CAAC,SAAS,CAAC,cAAc,EAAE,GAAG,CAAC,UAAU,CAAC,CAAC;iBAClG;gBACD,MAAM;YACV,KAAK,wBAAwB,CAAC,gBAAgB;gBAC1C,IAAI,CAAC,qBAAqB,CAAC,YAAY,EAAE,GAAG,EAAE,WAAW,CAAC,CAAC;gBAC3D,MAAM;YACV,KAAK,wBAAwB,CAAC,SAAS;gBACnC,IAAI,CAAC,cAAc,CAAC,YAAY,EAAE,GAAG,CAAC,CAAC;gBACvC,MAAM;YACV,KAAK,wBAAwB,CAAC,YAAY;gBACtC,IAAI,CAAC,iBAAiB,CAAC,YAAY,EAAE,GAAG,CAAC,CAAC;gBAC1C,MAAM;YACV,KAAK,wBAAwB,CAAC,gCAAgC;gBAC1D,IAAI,CAAC,qCAAqC,CAAC,YAAY,EAAE,GAAG,CAAC,CAAC;gBAC9D,MAAM;YACV,KAAK,wBAAwB,CAAC,KAAK;gBAC/B,IAAI,CAAC,UAAU,CAAC,YAAY,EAAE,GAAG,CAAC,CAAC;gBACnC,MAAM;YACV,KAAK,wBAAwB,CAAC,kBAAkB;gBAC5C,IAAI,CAAC,qBAAqB,CAAC,YAAY,EAAE,GAAG,CAAC,CAAC;gBAC9C,MAAM;YACV,KAAK,wBAAwB,CAAC,gBAAgB;gBAC1C,IAAI,CAAC,kBAAkB,CAAC,YAAY,EAAE,GAAG,CAAC,CAAC;gBAC3C,MAAM;YACV,KAAK,wBAAwB,CAAC,iBAAiB;gBAC3C,IAAI,CAAC,oBAAoB,CAAC,YAAY,EAAE,GAAG,CAAC,CAAC;gBAC7C,MAAM;YACV,KAAK,wBAAwB,CAAC,UAAU;gBACpC,IAAI,CAAC,eAAe,CAAC,YAAY,EAAE,GAAG,CAAC,CAAC;gBACxC,MAAM;YACV,KAAK,wBAAwB,CAAC,aAAa;gBACvC,IAAI,CAAC,mBAAmB,CAAC,YAAY,EAAE,GAAG,CAAC,CAAC;gBAC5C,MAAM;YACV,KAAK,wBAAwB,CAAC,kBAAkB;gBAC5C,IAAI,CAAC,sBAAsB,CAAC,YAAY,EAAE,GAAG,CAAC,CAAC;gBAC/C,MAAM;YACV,KAAK,wBAAwB,CAAC,gBAAgB;gBAC1C,IAAI,CAAC,sBAAsB,CAAC,YAAY,EAAE,GAAG,CAAC,CAAC;gBAC/C,MAAM;YACV,KAAK,wBAAwB,CAAC,YAAY;gBACtC,IAAI,CAAC,kBAAkB,CAAC,YAAY,EAAE,GAAG,CAAC,CAAC;gBAC3C,MAAM;YACV,KAAK,wBAAwB,CAAC,gBAAgB;gBAC1C,IAAI,CAAC,sBAAsB,CAAC,YAAY,EAAE,GAAG,CAAC,CAAC;gBAC/C,MAAM;YACV,KAAK,wBAAwB,CAAC,aAAa;gBACvC,IAAI,CAAC,oBAAoB,CAAC,YAAY,EAAE,GAAG,CAAC,CAAC;gBAC7C,MAAM;YACV,KAAK,wBAAwB,CAAC,mBAAmB;gBAC7C,IAAI,CAAC,yBAAyB,CAAC,YAAY,EAAE,GAAG,CAAC,CAAC;gBAClD,MAAM;YACV,KAAK,wBAAwB,CAAC,cAAc;gBACxC,IAAI,CAAC,oBAAoB,CAAC,YAAY,EAAE,GAAG,CAAC,CAAC;gBAC7C,MAAM;YACV,KAAK,wBAAwB,CAAC,aAAa;gBACvC,IAAI,CAAC,mBAAmB,CAAC,YAAY,EAAE,GAAG,CAAC,CAAC;gBAC5C,MAAM;YACV,KAAK,wBAAwB,CAAC,eAAe;gBACzC,IAAI,CAAC,qBAAqB,CAAC,YAAY,EAAE,GAAG,EAAE,WAAW,CAAC,CAAC;gBAC3D,MAAM;YACV,KAAK,wBAAwB,CAAC,qBAAqB;gBAC/C,IAAI,CAAC,2BAA2B,CAAC,YAAY,EAAE,GAAG,CAAC,CAAC;gBACpD,MAAM;YACV,KAAK,wBAAwB,CAAC,4BAA4B;gBACtD,IAAI,CAAC,2BAA2B,CAAC,YAAY,EAAE,GAAG,CAAC,CAAC;gBACpD,MAAM;YACV,KAAK,wBAAwB,CAAC,gBAAgB;gBAC1C,IAAI,CAAC,sBAAsB,CAAC,YAAY,EAAE,GAAG,CAAC,CAAC;gBAC/C,MAAM;YACV;;gBAEI,IAAI,QAAQ,CAAC,YAAY,CAAC,SAAS;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,EAAE,KAAK,UAAU,EAAC,GAAG,CAAC,CAAC,EAAE;oBAChE,IAAI,CAAC,mBAAmB,CAAC,YAAY,EAAE,GAAG,CAAC,CAAC;iBAC/C;qBAAM;oBACH,KAAK,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC;iBAC1B;gBACD,MAAM;SACb;KACJ;;;;;;;;IASD,iBAAiB,CAAC,YAA0B,EAAE,GAAQ,EAAE,WAAW,GAAG,KAAK;;cACjE,aAAa,GAAoB,GAAG,CAAC,aAAa;QAExD,IAAI,aAAa,CAAC,cAAc,CAAC,cAAc,KAAK,kBAAkB,CAAC,KAAK;eACrE,YAAY,CAAC,kBAAkB;eAC/B,YAAY,CAAC,kBAAkB,CAAC,mBAAmB;eACnD,YAAY,CAAC,kBAAkB,CAAC,mBAAmB,CAAC,MAAM,GAAG,CAAC,EAAE,CAMtE;aAAM;YACH,IAAI,CAAC,qBAAqB,CAAC,YAAY,EAAE,aAAa,CAAC,CAAC;YACxD,YAAY,CAAC,qBAAqB,GAAG,IAAI,CAAC;YAC1C,YAAY,CAAC,kBAAkB,GAAG,aAAa,CAAC,cAAc,CAAC,cAAc,CAAC;;kBACxE,aAAa,GAAG,YAAY,CAAC,gBAAgB,EAAE;YACrD,IAAI,aAAa,IAAI,aAAa,CAAC,MAAM,GAAG,CAAC,EAAE;gBAC3C,aAAa,CAAC,OAAO;;;;gBAAC,CAAC;oBACnB,IAAI,CAAC,YAAY,kBAAkB,EAAE;wBACjC,YAAY,CAAC,kBAAkB,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;qBACzC;yBAAM,IAAI,CAAC,YAAY,kBAAkB,EAAE;wBACxC,YAAY,CAAC,kBAAkB,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;qBACzC;iBACJ,EAAC,CAAC;aACN;YACD,IAAI,aAAa,CAAC,kBAAkB,IAAI,aAAa,CAAC,kBAAkB,CAAC,MAAM,GAAG,CAAC,EAAE;gBACjF,KAAK,MAAM,cAAc,IAAI,aAAa,CAAC,kBAAkB,EAAE;oBAC3D,QAAQ,cAAc,CAAC,IAAI;wBACvB,KAAK,yBAAyB,CAAC,WAAW;4BACtC,IAAI,CAAC,kBAAkB,CAAC,YAAY,qBAAE,cAAc,IAAqB,gBAAgB,EAAE,IAAI,CAAC,CAAC;4BACjG,MAAM;wBACV,KAAK,6BAA6B,CAAC,WAAW;4BAC1C,IAAI,CAAC,sBAAsB,CAAC,YAAY,qBAAE,cAAc,IAAuB,gBAAgB,EAAE,IAAI,CAAC,CAAA;4BACtG,MAAM;wBACV,KAAK,6BAA6B,CAAC,WAAW;4BAC1C,IAAI,CAAC,sBAAsB,CAAC,YAAY,qBAAE,cAAc,IAAyB,gBAAgB,EAAE,IAAI,CAAC,CAAC;4BACzG,MAAM;wBACV,KAAK,8BAA8B,CAAC,WAAW;4BAC3C,IAAI,CAAC,uBAAuB,CAAC,YAAY,qBAAE,cAAc,IAA0B,gBAAgB,EAAE,IAAI,CAAC,CAAC;4BAC3G,MAAM;wBACV,KAAK,kCAAkC,CAAC,WAAW;4BAC/C,IAAI,CAAC,2BAA2B,CAAC,YAAY,qBAAE,cAAc,IAA8B,gBAAgB,EAAE,IAAI,CAAC,CAAC;4BACnH,MAAM;wBACV,KAAK,qCAAqC,CAAC,WAAW;4BAClD,IAAI,CAAC,8BAA8B,CAAC,YAAY,qBAAE,cAAc,IAAiC,gBAAgB,EAAE,IAAI,CAAC,CAAC;4BACzH,MAAM;wBACV,KAAK,2BAA2B,CAAC,WAAW;4BACxC,IAAI,CAAC,oBAAoB,CAAC,YAAY,qBAAE,cAAc,IAAuB,gBAAgB,EAAE,IAAI,CAAC,CAAC;4BACrG,MAAM;qBACb;iBACJ;aACJ;YACD,IAAI,aAAa,CAAC,cAAc,CAAC,cAAc,KAAK,kBAAkB,CAAC,MAAM,EAAE;;sBAErE,qBAAqB,GAAG,IAAI,qBAAqB,CAAC,YAAY,CAAC,KAAK,CAAC;gBAC3E,qBAAqB,CAAC,QAAQ,GAAG,aAAa,CAAC,cAAc,CAAC,YAAY,CAAC,QAAQ,CAAC;gBACpF,qBAAqB,CAAC,WAAW,GAAG,aAAa,CAAC,cAAc,CAAC,YAAY,CAAC,WAAW,CAAC;gBAC1F,qBAAqB,CAAC,SAAS,GAAG,aAAa,CAAC,cAAc,CAAC,YAAY,CAAC,SAAS,CAAC;gBACtF,qBAAqB,CAAC,iBAAiB,GAAG,aAAa,CAAC,UAAU,CAAC;gBAEnE,YAAY,CAAC,qBAAqB,GAAG,qBAAqB,CAAC;gBAC3D,IAAI,CAAC,aAAa,CAAC,UAAU,IAAI,aAAa,CAAC,kBAAkB,IAAI,aAAa,CAAC,kBAAkB,CAAC,MAAM,GAAG,CAAC,EAAE;oBAC9G,KAAK,MAAM,cAAc,IAAI,aAAa,CAAC,kBAAkB,EAAE;wBAC3D,QAAQ,cAAc,CAAC,IAAI;4BACvB,KAAK,yBAAyB,CAAC,WAAW;gCACtC,IAAI,CAAC,kBAAkB,CAAC,YAAY,qBAAE,cAAc,IAAqB,gBAAgB,EAAE,IAAI,CAAC,CAAC;gCACjG,MAAM;4BACV,KAAK,6BAA6B,CAAC,WAAW;gCAC1C,IAAI,CAAC,sBAAsB,CAAC,YAAY,qBAAE,cAAc,IAAuB,gBAAgB,EAAE,IAAI,CAAC,CAAA;gCACtG,MAAM;4BACV,KAAK,6BAA6B,CAAC,WAAW;gCAC1C,IAAI,CAAC,sBAAsB,CAAC,YAAY,qBAAE,cAAc,IAAyB,gBAAgB,EAAE,IAAI,CAAC,CAAC;gCACzG,MAAM;4BACV,KAAK,8BAA8B,CAAC,WAAW;gCAC3C,IAAI,CAAC,uBAAuB,CAAC,YAAY,qBAAE,cAAc,IAA0B,gBAAgB,EAAE,IAAI,CAAC,CAAC;gCAC3G,MAAM;4BACV,KAAK,kCAAkC,CAAC,WAAW;gCAC/C,IAAI,CAAC,2BAA2B,CAAC,YAAY,qBAAE,cAAc,IAA8B,gBAAgB,EAAE,IAAI,CAAC,CAAC;gCACnH,MAAM;4BACV,KAAK,qCAAqC,CAAC,WAAW;gCAClD,IAAI,CAAC,8BAA8B,CAAC,YAAY,qBAAE,cAAc,IAAiC,gBAAgB,EAAE,IAAI,CAAC,CAAC;gCACzH,MAAM;4BACV,KAAK,2BAA2B,CAAC,WAAW;gCACxC,IAAI,CAAC,oBAAoB,CAAC,YAAY,qBAAE,cAAc,IAAuB,gBAAgB,EAAE,IAAI,CAAC,CAAC;gCACrG,MAAM;4BACV,KAAK,iCAAiC,CAAC,WAAW;gCAC9C,IAAI,CAAC,0BAA0B,CAAC,YAAY,qBAAE,cAAc,IAA6B,gBAAgB,EAAE,IAAI,CAAC,CAAC;gCACjH,MAAM;yBACb;qBACJ;iBACJ;aACJ;;YAED,IAAI,YAAY,CAAC,kBAAkB,KAAK,kBAAkB,CAAC,KAAK,EAAE;gBAC9D,YAAY,CAAC,mBAAmB,GAAG,mBAAmB,CAAC,OAAO,CAAC;gBAC/D,YAAY,CAAC,gBAAgB,GAAG,IAAI,CAAC;aACxC;SACJ;KAEJ;;;;;;IAED,qBAAqB,CAAC,YAA0B,EAAE,aAA8B;QAC5E,IAAI,YAAY,CAAC,kBAAkB,KAAK,kBAAkB,CAAC,MAAM,EAAE;YAC/D,OAAO;SACV;;cACK,SAAS,GAAG,YAAY,CAAC,KAAK;;cAC9B,YAAY,GAAG,SAAS,CAAC,cAAc,CAAC,eAAe,EAAE;QAC/D,IAAI,aAAa,CAAC,cAAc,CAAC,cAAc,KAAK,kBAAkB,CAAC,MAAM,EAAE;YAC3E,KAAK,MAAM,CAAC,IAAI,YAAY,EAAE;gBAC1B,IAAI,YAAY,CAAC,CAAC,CAAC,YAAY,YAAY,EAAE;;0BACnC,QAAQ,sBAAG,YAAY,CAAC,CAAC,CAAC,EAAgB;oBAChD,IAAI,QAAQ,CAAC,gBAAgB,IAAI,QAAQ,CAAC,gBAAgB,CAAC,qBAAqB;2BACzE,QAAQ,CAAC,gBAAgB,CAAC,qBAAqB,CAAC,MAAM,GAAG,CAAC;2BAC1D,QAAQ,CAAC,gBAAgB,CAAC,qBAAqB,CAAC,SAAS;;;;wBAAC,EAAE,IAAI,EAAE,KAAK,YAAY,CAAC,EAAE,EAAC,GAAG,CAAC,CAAC,EACjG;wBACE,QAAQ,CAAC,gBAAgB,CAAC,qBAAqB,GAAG,QAAQ,CAAC,gBAAgB,CAAC,qBAAqB,CAAC,MAAM;;;;wBAAC,EAAE,IAAI,EAAE,KAAK,YAAY,CAAC,EAAE,EAAC,CAAC;qBAC1I;iBACJ;qBAAM,IAAI,YAAY,CAAC,CAAC,CAAC,YAAY,iBAAiB,EAAE;;0BAC/C,iBAAiB,sBAAG,YAAY,CAAC,CAAC,CAAC,EAAqB;oBAC9D,IAAI,iBAAiB,CAAC,gBAAgB,IAAI,iBAAiB,CAAC,gBAAgB,CAAC,qBAAqB;2BAC3F,iBAAiB,CAAC,gBAAgB,CAAC,qBAAqB,CAAC,MAAM,GAAG,CAAC;2BACnE,iBAAiB,CAAC,gBAAgB,CAAC,qBAAqB,CAAC,SAAS;;;;wBAAC,EAAE,IAAI,EAAE,KAAK,YAAY,CAAC,EAAE,EAAC,GAAG,CAAC,CAAC,EAC1G;wBACE,iBAAiB,CAAC,gBAAgB,CAAC,qBAAqB,GAAG,iBAAiB,CAAC,gBAAgB,CAAC,qBAAqB,CAAC,MAAM;;;;wBAAC,EAAE,IAAI,EAAE,KAAK,YAAY,CAAC,EAAE,EAAC,CAAC;qBAC5J;iBACJ;qBAAM,IAAI,YAAY,CAAC,CAAC,CAAC,YAAY,aAAa,EAAE;;0BAC3C,aAAa,sBAAG,YAAY,CAAC,CAAC,CAAC,EAAiB;oBACtD,IAAI,aAAa,CAAC,gBAAgB,IAAI,aAAa,CAAC,gBAAgB,CAAC,qBAAqB;2BACnF,aAAa,CAAC,gBAAgB,CAAC,qBAAqB,CAAC,MAAM,GAAG,CAAC;2BAC/D,aAAa,CAAC,gBAAgB,CAAC,qBAAqB,CAAC,SAAS;;;;wBAAC,EAAE,IAAI,EAAE,KAAK,YAAY,CAAC,EAAE,EAAC,GAAG,CAAC,CAAC,EACtG;wBACE,aAAa,CAAC,gBAAgB,CAAC,qBAAqB,GAAG,aAAa,CAAC,gBAAgB,CAAC,qBAAqB,CAAC,MAAM;;;;wBAAC,EAAE,IAAI,EAAE,KAAK,YAAY,CAAC,EAAE,EAAC,CAAC;qBACpJ;iBACJ;aACJ;SACJ;aAAM;YACH,IAAI,YAAY,CAAC,qBAAqB,CAAC,QAAQ,KAAK,aAAa;mBAC1D,aAAa,CAAC,cAAc,CAAC,YAAY,CAAC,QAAQ,KAAK,aAAa,EACzE;gBACE,KAAK,MAAM,CAAC,IAAI,YAAY,EAAE;oBAC1B,IAAI,YAAY,CAAC,CAAC,CAAC,YAAY,YAAY,EAAE;;8BACnC,QAAQ,sBAAG,YAAY,CAAC,CAAC,CAAC,EAAgB;wBAChD,IAAI,QAAQ,CAAC,gBAAgB,IAAI,QAAQ,CAAC,gBAAgB,CAAC,qBAAqB;+BACzE,QAAQ,CAAC,gBAAgB,CAAC,qBAAqB,CAAC,MAAM,GAAG,CAAC;+BAC1D,QAAQ,CAAC,gBAAgB,CAAC,qBAAqB,CAAC,SAAS;;;;4BAAC,EAAE,IAAI,EAAE,KAAK,YAAY,CAAC,EAAE,EAAC,GAAG,CAAC,CAAC,EACjG;4BACE,QAAQ,CAAC,gBAAgB,CAAC,qBAAqB,GAAG,QAAQ,CAAC,gBAAgB,CAAC,qBAAqB,CAAC,MAAM;;;;4BAAC,EAAE,IAAI,EAAE,KAAK,YAAY,CAAC,EAAE,EAAC,CAAC;yBAC1I;qBACJ;yBAAM,IAAI,YAAY,CAAC,CAAC,CAAC,YAAY,iBAAiB,EAAE;;8BAC/C,iBAAiB,sBAAG,YAAY,CAAC,CAAC,CAAC,EAAqB;wBAC9D,IAAI,iBAAiB,CAAC,gBAAgB,IAAI,iBAAiB,CAAC,gBAAgB,CAAC,qBAAqB;+BAC3F,iBAAiB,CAAC,gBAAgB,CAAC,qBAAqB,CAAC,MAAM,GAAG,CAAC;+BACnE,iBAAiB,CAAC,gBAAgB,CAAC,qBAAqB,CAAC,SAAS;;;;4BAAC,EAAE,IAAI,EAAE,KAAK,YAAY,CAAC,EAAE,EAAC,GAAG,CAAC,CAAC,EAC1G;4BACE,iBAAiB,CAAC,gBAAgB,CAAC,qBAAqB,GAAG,iBAAiB,CAAC,gBAAgB,CAAC,qBAAqB,CAAC,MAAM;;;;4BAAC,EAAE,IAAI,EAAE,KAAK,YAAY,CAAC,EAAE,EAAC,CAAC;yBAC5J;qBACJ;iBACJ;aACJ;iBAAM,IAAI,YAAY,CAAC,qBAAqB,CAAC,QAAQ,KAAK,iBAAiB;mBACrE,aAAa,CAAC,cAAc,CAAC,YAAY,CAAC,QAAQ,KAAK,iBAAiB,EAC7E;gBACE,KAAK,MAAM,CAAC,IAAI,YAAY,EAAE;oBAC1B,IAAI,YAAY,CAAC,CAAC,CAAC,YAAY,aAAa,EAAE;;8BACpC,aAAa,sBAAG,YAAY,CAAC,CAAC,CAAC,EAAiB;wBACtD,IAAI,aAAa,CAAC,gBAAgB,IAAI,aAAa,CAAC,gBAAgB,CAAC,qBAAqB;+BACnF,aAAa,CAAC,gBAAgB,CAAC,qBAAqB,CAAC,MAAM,GAAG,CAAC;+BAC/D,aAAa,CAAC,gBAAgB,CAAC,qBAAqB,CAAC,SAAS;;;;4BAAC,EAAE,IAAI,EAAE,KAAK,YAAY,CAAC,EAAE,EAAC,GAAG,CAAC,CAAC,EACtG;4BACE,aAAa,CAAC,gBAAgB,CAAC,qBAAqB,GAAG,aAAa,CAAC,gBAAgB,CAAC,qBAAqB,CAAC,MAAM;;;;4BAAC,EAAE,IAAI,EAAE,KAAK,YAAY,CAAC,EAAE,EAAC,CAAC;yBACpJ;qBACJ;iBACJ;aACJ;SACJ;KACJ;;;;;;;;;IAQD,kBAAkB,CAAC,YAA0B,EAAE,SAAS,EAAE,IAAY,EAAG,KAAkB;;YACnF,eAA2C;QAC/C,IAAG,SAAS,YAAY,yBAAyB,EAAE;YAC/C,eAAe,GAAG,SAAS,CAAC;SAC/B;aAAI;YACD,SAAS,sBAAG,SAAS,EAAmB,CAAA;YACxC,eAAe,GAAG,IAAI,yBAAyB,CAAC,YAAY,CAAC,KAAK,EAAE,SAAS,CAAC,WAAW,EAAE,SAAS,CAAC,aAAa,EAAE,SAAS,CAAC,OAAO,CAAC,CAAC;YACvI,eAAe,CAAC,EAAE,GAAG,SAAS,CAAC,EAAE,CAAC;YAClC,eAAe,CAAC,KAAK,GAAG,SAAS,CAAC,KAAK,CAAC;YACxC,eAAe,CAAC,WAAW,GAAG,WAAW,CAAC,OAAO,CAAC;YAClD,eAAe,CAAC,OAAO,GAAG,SAAS,CAAC,OAAO,CAAC;YAC5C,eAAe,CAAC,GAAG,GAAG,SAAS,CAAC,GAAG,CAAC;YACpC,eAAe,CAAC,OAAO,GAAG,SAAS,CAAC,OAAO,CAAC;YAC5C,eAAe,CAAC,KAAK,GAAG,SAAS,CAAC,KAAK,CAAC;YACxC,IAAI,SAAS,CAAC,SAAS,EAAE;;sBACf,SAAS,GAAG,IAAI,SAAS,CAAC,YAAY,CAAC,KAAK,CAAC;gBACnD,SAAS,CAAC,KAAK,GAAG,SAAS,CAAC,SAAS,CAAC;gBACtC,eAAe,CAAC,SAAS,GAAG,SAAS,CAAC;aACzC;SACJ;QACD,IAAI,IAAI,KAAK,gBAAgB,EAAE;;gBACvB,kBAAkB,GAAG,IAAI,kBAAkB,CAAC,YAAY,CAAC,KAAK,CAAC;YACnE,kBAAkB,CAAC,qBAAqB,GAAG,eAAe,CAAC;YAC3D,IAAI,SAAS,CAAC,SAAS,EAAE;;sBACf,SAAS,GAAG,IAAI,SAAS,CAAC,YAAY,CAAC,KAAK,CAAC;gBACnD,SAAS,CAAC,KAAK,GAAG,SAAS,CAAC,SAAS,CAAC;gBACtC,kBAAkB,CAAC,SAAS,GAAG,SAAS,CAAC;aAC5C;YACD,kBAAkB,CAAC,KAAK,GAAG,SAAS,CAAC,KAAK,CAAC;YAC3C,YAAY,CAAC,eAAe,CAAC,kBAAkB,CAAC,CAAC;SACpD;aAAM,IAAI,IAAI,KAAK,gBAAgB,EAAE;;gBAC9B,iBAAiB,GAAG,IAAI,kBAAkB,CAAC,YAAY,CAAC,KAAK,CAAC;YAClE,iBAAiB,CAAC,qBAAqB,GAAG,eAAe,CAAC;YAC1D,IAAI,SAAS,CAAC,SAAS,EAAE;;sBACf,SAAS,GAAG,IAAI,SAAS,CAAC,YAAY,CAAC,KAAK,CAAC;gBACnD,SAAS,CAAC,KAAK,GAAG,SAAS,CAAC,SAAS,CAAC;gBACtC,iBAAiB,CAAC,SAAS,GAAG,SAAS,CAAC;aAC3C;YACD,iBAAiB,CAAC,KAAK,GAAG,SAAS,CAAC,KAAK,CAAC;YAC1C,IAAG,KAAK,EAAE;gBACN,eAAe,CAAC,WAAW,GAAG,KAAK,CAAC;gBACpC,YAAY,CAAC,mBAAmB,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;aAC1D;iBAAK;gBACF,YAAY,CAAC,eAAe,CAAC,iBAAiB,CAAC,CAAC;aACnD;SACJ;KACJ;;;;;;;;;IAQD,sBAAsB,CAAC,YAA0B,EAAE,SAAS,EAAE,IAAY,EAAE,KAAkB;;YACtF,iBAAgD;QACpD,IAAG,SAAS,YAAY,6BAA6B,EAAE;YACnD,iBAAiB,GAAG,SAAS,CAAC;SACjC;aAAI;YACD,SAAS,sBAAG,SAAS,EAAqB,CAAC;YAC3C,iBAAiB,GAAG,IAAI,6BAA6B,CAAC,YAAY,CAAC,KAAK,EAAE,SAAS,CAAC,WAAW,EAAE,SAAS,CAAC,aAAa,EAAE,SAAS,CAAC,OAAO,CAAC,CAAC;YAC7I,iBAAiB,CAAC,EAAE,GAAG,SAAS,CAAC,EAAE,CAAC;YACpC,iBAAiB,CAAC,WAAW,GAAG,WAAW,CAAC,OAAO,CAAC;YACpD,iBAAiB,CAAC,IAAI,GAAG,SAAS,CAAC,aAAa,GAAG,SAAS,CAAC,aAAa,GAAG,SAAS,CAAC,IAAI,CAAC;YAC5F,iBAAiB,CAAC,GAAG,GAAG,SAAS,CAAC,GAAG,CAAC;YACtC,iBAAiB,CAAC,QAAQ,GAAG,SAAS,CAAC,QAAQ,CAAC;YAChD,iBAAiB,CAAC,OAAO,GAAG,SAAS,CAAC,OAAO,CAAC;YAC9C,iBAAiB,CAAC,KAAK,GAAG,SAAS,CAAC,KAAK,CAAC;YAC1C,iBAAiB,CAAC,QAAQ,GAAG,SAAS,CAAC,QAAQ,CAAC;YAChD,IAAI,SAAS,CAAC,SAAS,EAAE;;sBACf,SAAS,GAAG,IAAI,SAAS,CAAC,YAAY,CAAC,KAAK,CAAC;gBACnD,SAAS,CAAC,KAAK,GAAG,SAAS,CAAC,SAAS,CAAC;gBACtC,iBAAiB,CAAC,SAAS,GAAG,SAAS,CAAC;aAC3C;SACJ;QACD,IAAI,IAAI,KAAK,gBAAgB,EAAE;;gBACvB,kBAAkB,GAAG,IAAI,kBAAkB,CAAC,YAAY,CAAC,KAAK,CAAC;YACnE,kBAAkB,CAAC,qBAAqB,GAAG,iBAAiB,CAAC;YAC7D,IAAI,SAAS,CAAC,SAAS,EAAE;;sBACf,SAAS,GAAG,IAAI,SAAS,CAAC,YAAY,CAAC,KAAK,CAAC;gBACnD,SAAS,CAAC,KAAK,GAAG,SAAS,CAAC,SAAS,CAAC;gBACtC,kBAAkB,CAAC,SAAS,GAAG,SAAS,CAAC;aAC5C;YACD,kBAAkB,CAAC,KAAK,GAAG,SAAS,CAAC,KAAK,CAAC;YAC3C,YAAY,CAAC,eAAe,CAAC,kBAAkB,CAAC,CAAC;SACpD;aAAM,IAAI,IAAI,KAAK,gBAAgB,EAAE;;gBAC9B,iBAAiB,GAAG,IAAI,kBAAkB,CAAC,YAAY,CAAC,KAAK,CAAC;YAClE,iBAAiB,CAAC,qBAAqB,GAAG,iBAAiB,CAAC;YAC5D,IAAI,SAAS,CAAC,SAAS,EAAE;;sBACf,SAAS,GAAG,IAAI,SAAS,CAAC,YAAY,CAAC,KAAK,CAAC;gBACnD,SAAS,CAAC,KAAK,GAAG,SAAS,CAAC,SAAS,CAAC;gBACtC,iBAAiB,CAAC,SAAS,GAAG,SAAS,CAAC;aAC3C;YACD,iBAAiB,CAAC,KAAK,GAAG,SAAS,CAAC,KAAK,CAAC;YAC1C,IAAG,KAAK,EAAE;gBACN,iBAAiB,CAAC,WAAW,GAAG,KAAK,CAAC;gBACtC,YAAY,CAAC,mBAAmB,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC;aAC5D;iBAAK;gBACF,YAAY,CAAC,eAAe,CAAC,iBAAiB,CAAC,CAAC;aACnD;SACJ;KACJ;;;;;;;;;IAQD,sBAAsB,CAAC,YAA0B,EAAE,SAAS,EAAE,IAAY,EAAE,KAAkB;;YACtF,eAA+C;QACnD,IAAG,SAAS,YAAY,6BAA6B,EAAE;YACnD,eAAe,GAAG,SAAS,CAAC;SAC/B;aAAI;YACD,SAAS,sBAAG,SAAS,EAAuB,CAAC;YAC7C,eAAe,GAAG,IAAI,6BAA6B,CAAC,YAAY,CAAC,KAAK,EAAE,SAAS,CAAC,WAAW,EAAE,SAAS,CAAC,aAAa,CAAC,CAAC;YACxH,eAAe,CAAC,EAAE,GAAG,SAAS,CAAC,EAAE,CAAC;YAClC,eAAe,CAAC,WAAW,GAAG,WAAW,CAAC,OAAO,CAAC;YAClD,eAAe,CAAC,YAAY,GAAG,SAAS,CAAC,YAAY,CAAC;YACtD,eAAe,CAAC,KAAK,GAAG,SAAS,CAAC,KAAK,CAAC;YACxC,IAAI,SAAS,CAAC,YAAY,KAAK,GAAG,EAAE;gBAChC,eAAe,CAAC,KAAK,GAAG,SAAS,CAAC,KAAK,CAAC;gBACxC,eAAe,CAAC,OAAO,GAAG,SAAS,CAAC,OAAO,CAAC;gBAC5C,eAAe,CAAC,OAAO,GAAG,SAAS,CAAC,OAAO,CAAC;aAC/C;YACD,IAAI,SAAS,CAAC,SAAS,EAAE;;sBACf,SAAS,GAAG,IAAI,SAAS,CAAC,YAAY,CAAC,KAAK,CAAC;gBACnD,SAAS,CAAC,KAAK,GAAG,SAAS,CAAC,SAAS,CAAC;gBACtC,eAAe,CAAC,SAAS,GAAG,SAAS,CAAC;aACzC;SACJ;QACD,IAAI,IAAI,KAAK,gBAAgB,EAAE;;gBACvB,kBAAkB,GAAG,IAAI,kBAAkB,CAAC,YAAY,CAAC,KAAK,CAAC;YACnE,kBAAkB,CAAC,qBAAqB,GAAG,eAAe,CAAC;YAC3D,IAAI,SAAS,CAAC,SAAS,EAAE;;sBACf,SAAS,GAAG,IAAI,SAAS,CAAC,YAAY,CAAC,KAAK,CAAC;gBACnD,SAAS,CAAC,KAAK,GAAG,SAAS,CAAC,SAAS,CAAC;gBACtC,kBAAkB,CAAC,SAAS,GAAG,SAAS,CAAC;aAC5C;YACD,kBAAkB,CAAC,KAAK,GAAG,SAAS,CAAC,KAAK,CAAC;YAC3C,YAAY,CAAC,eAAe,CAAC,kBAAkB,CAAC,CAAC;SACpD;aAAM,IAAI,IAAI,KAAK,gBAAgB,EAAE;;gBAC9B,iBAAiB,GAAG,IAAI,kBAAkB,CAAC,YAAY,CAAC,KAAK,CAAC;YAClE,iBAAiB,CAAC,qBAAqB,GAAG,eAAe,CAAC;YAC1D,IAAI,SAAS,CAAC,SAAS,EAAE;;sBACf,SAAS,GAAG,IAAI,SAAS,CAAC,YAAY,CAAC,KAAK,CAAC;gBACnD,SAAS,CAAC,KAAK,GAAG,SAAS,CAAC,SAAS,CAAC;gBACtC,iBAAiB,CAAC,SAAS,GAAG,SAAS,CAAC;aAC3C;YACD,iBAAiB,CAAC,KAAK,GAAG,SAAS,CAAC,KAAK,CAAC;YAC1C,IAAG,KAAK,EAAE;gBACN,eAAe,CAAC,WAAW,GAAG,KAAK,CAAC;gBACpC,YAAY,CAAC,mBAAmB,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;aAC1D;iBAAK;gBACF,YAAY,CAAC,eAAe,CAAC,iBAAiB,CAAC,CAAC;aACnD;SACJ;KACJ;;;;;;;;;IAQD,uBAAuB,CAAC,YAA0B,EAAE,SAAS,EAAE,IAAY,EAAE,KAAkB;;YACvF,oBAAmD;QACvD,IAAG,SAAS,YAAY,8BAA8B,EAAE;YACpD,oBAAoB,GAAG,SAAS,CAAC;SACpC;aAAK;YACF,SAAS,sBAAG,SAAS,EAAwB,CAAC;YAC9C,oBAAoB,GAAG,IAAI,8BAA8B,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC;YAC9E,oBAAoB,CAAC,EAAE,GAAG,SAAS,CAAC,EAAE,CAAC;YACvC,oBAAoB,CAAC,WAAW,GAAG,SAAS,CAAC,UAAU,CAAC;YACxD,oBAAoB,CAAC,WAAW,GAAG,WAAW,CAAC,OAAO,CAAC;YACvD,oBAAoB,CAAC,aAAa,GAAG,SAAS,CAAC,IAAI,CAAC;YACpD,oBAAoB,CAAC,UAAU,GAAG,SAAS,CAAC,UAAU,CAAC;YACvD,oBAAoB,CAAC,KAAK,GAAG,SAAS,CAAC,KAAK,CAAC;YAC7C,oBAAoB,CAAC,UAAU,GAAG,SAAS,CAAC,UAAU,CAAC;YAEvD,IAAI,SAAS,CAAC,gBAAgB,IAAI,SAAS,CAAC,gBAAgB,CAAC,MAAM,GAAG,CAAC,EAAE;;oBACjE,QAAQ,GAAG,IAAI,KAAK,EAAmB;gBAC3C,KAAK,IAAI,IAAI,IAAI,SAAS,CAAC,gBAAgB,EAAE;;wBACrC,OAAO,GAAG,IAAI,eAAe,CAAC,YAAY,CAAC,KAAK,EAAE,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,SAAS,CAAC;;oBAG5F,OAAO,CAAC,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC;oBACvB,IAAI,IAAI,CAAC,cAAc,EAAE;wBACrB,QAAQ,IAAI,CAAC,cAAc;4BACvB,KAAK,SAAS;gCACV,OAAO,CAAC,GAAG,GAAG,YAAY,CAAC;gCAC3B,MAAM;4BACV,KAAK,MAAM;gCACP,OAAO,CAAC,GAAG,GAAG,YAAY,CAAC;gCAC3B,MAAM;4BACV;gCACI,OAAO,CAAC,GAAG,GAAG,UAAU,CAAC;gCACzB,MAAM;yBACb;qBACJ;oBACD,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;iBAC1B;gBACD,oBAAoB,CAAC,gBAAgB,GAAG,QAAQ,CAAC;aACpD;YACD,IAAI,SAAS,CAAC,SAAS,EAAE;;sBACf,SAAS,GAAG,IAAI,SAAS,CAAC,YAAY,CAAC,KAAK,CAAC;gBACnD,SAAS,CAAC,KAAK,GAAG,SAAS,CAAC,SAAS,CAAC;gBACtC,oBAAoB,CAAC,SAAS,GAAG,SAAS,CAAC;aAC9C;SACJ;QAED,IAAI,IAAI,KAAK,gBAAgB,EAAE;;gBACvB,kBAAkB,GAAG,IAAI,kBAAkB,CAAC,YAAY,CAAC,KAAK,CAAC;YACnE,kBAAkB,CAAC,qBAAqB,GAAG,oBAAoB,CAAC;YAChE,IAAI,SAAS,CAAC,SAAS,EAAE;;sBACf,SAAS,GAAG,IAAI,SAAS,CAAC,YAAY,CAAC,KAAK,CAAC;gBACnD,SAAS,CAAC,KAAK,GAAG,SAAS,CAAC,SAAS,CAAC;gBACtC,kBAAkB,CAAC,SAAS,GAAG,SAAS,CAAC;aAC5C;YACD,kBAAkB,CAAC,KAAK,GAAG,SAAS,CAAC,KAAK,CAAC;YAC3C,YAAY,CAAC,eAAe,CAAC,kBAAkB,CAAC,CAAC;SACpD;aAAM,IAAI,IAAI,KAAK,gBAAgB,EAAE;;gBAC9B,iBAAiB,GAAG,IAAI,kBAAkB,CAAC,YAAY,CAAC,KAAK,CAAC;YAClE,iBAAiB,CAAC,qBAAqB,GAAG,oBAAoB,CAAC;YAC/D,IAAI,SAAS,CAAC,SAAS,EAAE;;sBACf,SAAS,GAAG,IAAI,SAAS,CAAC,YAAY,CAAC,KAAK,CAAC;gBACnD,SAAS,CAAC,KAAK,GAAG,SAAS,CAAC,SAAS,CAAC;gBACtC,iBAAiB,CAAC,SAAS,GAAG,SAAS,CAAC;aAC3C;YACD,iBAAiB,CAAC,KAAK,GAAG,SAAS,CAAC,KAAK,CAAC;YAC1C,IAAG,KAAK,EAAE;gBACN,oBAAoB,CAAC,WAAW,GAAG,KAAK,CAAC;gBACzC,YAAY,CAAC,mBAAmB,CAAC,IAAI,CAAC,oBAAoB,CAAC,CAAC;aAC/D;iBAAK;gBACF,YAAY,CAAC,eAAe,CAAC,iBAAiB,CAAC,CAAC;aACnD;SACJ;KACJ;;;;;;;;;IAQD,2BAA2B,CAAC,YAA0B,EAAE,WAAW,EAAE,IAAY,EAAE,KAAkB;;YAC7F,aAAkD;QACtD,IAAG,WAAW,YAAY,kCAAkC,EAAE;YAC1D,aAAa,GAAG,WAAW,CAAC;SAC/B;aAAK;YACF,WAAW,sBAAG,WAAW,EAA4B,CAAC;YACtD,aAAa,GAAG,IAAI,kCAAkC,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC;YAC3E,aAAa,CAAC,EAAE,GAAG,WAAW,CAAC,EAAE,CAAC;YAClC,aAAa,CAAC,WAAW,GAAG,WAAW,CAAC,OAAO,CAAC;YAChD,aAAa,CAAC,kBAAkB,GAAG,WAAW,CAAC,kBAAkB,CAAC;YAClE,aAAa,CAAC,oBAAoB,GAAG,WAAW,CAAC,oBAAoB,CAAC;YACtE,aAAa,CAAC,QAAQ,GAAG,WAAW,CAAC,QAAQ,CAAC;YAC9C,aAAa,CAAC,SAAS,GAAG,WAAW,CAAC,SAAS,CAAC;YAChD,aAAa,CAAC,aAAa,GAAG,WAAW,CAAC,aAAa,CAAC;YACxD,aAAa,CAAC,KAAK,GAAG,WAAW,CAAC,KAAK,CAAC;YACxC,aAAa,CAAC,SAAS,GAAG,WAAW,CAAC,SAAS,CAAC;YAChD,aAAa,CAAC,GAAG,GAAG,WAAW,CAAC,GAAG,CAAC;YACpC,IAAI,WAAW,CAAC,SAAS,EAAE;;sBACjB,SAAS,GAAG,IAAI,SAAS,CAAC,YAAY,CAAC,KAAK,CAAC;gBACnD,SAAS,CAAC,KAAK,GAAG,WAAW,CAAC,SAAS,CAAC;gBACxC,aAAa,CAAC,SAAS,GAAG,SAAS,CAAC;aACvC;SACJ;QAED,IAAI,IAAI,KAAK,gBAAgB,EAAE;;gBACvB,kBAAkB,GAAG,IAAI,kBAAkB,CAAC,YAAY,CAAC,KAAK,CAAC;YACnE,kBAAkB,CAAC,qBAAqB,GAAG,aAAa,CAAC;YACzD,IAAI,WAAW,CAAC,SAAS,EAAE;;sBACjB,SAAS,GAAG,IAAI,SAAS,CAAC,YAAY,CAAC,KAAK,CAAC;gBACnD,SAAS,CAAC,KAAK,GAAG,WAAW,CAAC,SAAS,CAAC;gBACxC,kBAAkB,CAAC,SAAS,GAAG,SAAS,CAAC;aAC5C;YACD,kBAAkB,CAAC,KAAK,GAAG,WAAW,CAAC,KAAK,CAAC;YAC7C,YAAY,CAAC,eAAe,CAAC,kBAAkB,CAAC,CAAC;SACpD;aAAM,IAAI,IAAI,KAAK,gBAAgB,EAAE;;gBAC9B,iBAAiB,GAAG,IAAI,kBAAkB,CAAC,YAAY,CAAC,KAAK,CAAC;YAClE,iBAAiB,CAAC,qBAAqB,GAAG,aAAa,CAAC;YACxD,IAAI,WAAW,CAAC,SAAS,EAAE;;sBACjB,SAAS,GAAG,IAAI,SAAS,CAAC,YAAY,CAAC,KAAK,CAAC;gBACnD,SAAS,CAAC,KAAK,GAAG,WAAW,CAAC,SAAS,CAAC;gBACxC,iBAAiB,CAAC,SAAS,GAAG,SAAS,CAAC;aAC3C;YACD,iBAAiB,CAAC,KAAK,GAAG,WAAW,CAAC,KAAK,CAAC;YAC5C,IAAG,KAAK,EAAE;gBACN,aAAa,CAAC,WAAW,GAAG,KAAK,CAAC;gBAClC,YAAY,CAAC,mBAAmB,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;aACxD;iBAAK;gBACF,YAAY,CAAC,eAAe,CAAC,iBAAiB,CAAC,CAAC;aACnD;SACJ;KACJ;;;;;;;;;IAQD,8BAA8B,CAAC,YAA0B,EAAE,WAAW,EAAE,IAAY,EAAE,KAAkB;;YAChG,gBAAwD;QAC5D,IAAG,WAAW,YAAY,qCAAqC,EAAE;YAC7D,gBAAgB,GAAG,WAAW,CAAC;SAClC;aAAK;YACF,WAAW,sBAAG,WAAW,EAA+B,CAAC;YACzD,gBAAgB,GAAG,IAAI,qCAAqC,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC;YACjF,gBAAgB,CAAC,EAAE,GAAG,WAAW,CAAC,EAAE,CAAC;YACrC,gBAAgB,CAAC,aAAa,GAAG,WAAW,CAAC,aAAa,CAAC;YAC3D,gBAAgB,CAAC,WAAW,GAAG,WAAW,CAAC,OAAO,CAAC;YACnD,gBAAgB,CAAC,KAAK,GAAG,WAAW,CAAC,KAAK,CAAC;YAC3C,gBAAgB,CAAC,eAAe,GAAG,WAAW,CAAC,eAAe,CAAC;YAC/D,IAAI,WAAW,CAAC,SAAS,EAAE;;sBACjB,SAAS,GAAG,IAAI,SAAS,CAAC,YAAY,CAAC,KAAK,CAAC;gBACnD,SAAS,CAAC,KAAK,GAAG,WAAW,CAAC,SAAS,CAAC;gBACxC,gBAAgB,CAAC,SAAS,GAAG,SAAS,CAAC;aAC1C;SACJ;QAED,IAAI,IAAI,KAAK,gBAAgB,EAAE;;gBACvB,kBAAkB,GAAG,IAAI,kBAAkB,CAAC,YAAY,CAAC,KAAK,CAAC;YACnE,kBAAkB,CAAC,qBAAqB,GAAG,gBAAgB,CAAC;YAC5D,IAAI,WAAW,CAAC,SAAS,EAAE;;sBACjB,SAAS,GAAG,IAAI,SAAS,CAAC,YAAY,CAAC,KAAK,CAAC;gBACnD,SAAS,CAAC,KAAK,GAAG,WAAW,CAAC,SAAS,CAAC;gBACxC,kBAAkB,CAAC,SAAS,GAAG,SAAS,CAAC;aAC5C;YACD,kBAAkB,CAAC,KAAK,GAAG,WAAW,CAAC,KAAK,CAAC;YAC7C,YAAY,CAAC,eAAe,CAAC,kBAAkB,CAAC,CAAC;SACpD;aAAM,IAAI,IAAI,KAAK,gBAAgB,EAAE;;gBAC9B,iBAAiB,GAAG,IAAI,kBAAkB,CAAC,YAAY,CAAC,KAAK,CAAC;YAClE,iBAAiB,CAAC,qBAAqB,GAAG,gBAAgB,CAAC;YAC3D,IAAI,WAAW,CAAC,SAAS,EAAE;;sBACjB,SAAS,GAAG,IAAI,SAAS,CAAC,YAAY,CAAC,KAAK,CAAC;gBACnD,SAAS,CAAC,KAAK,GAAG,WAAW,CAAC,SAAS,CAAC;gBACxC,iBAAiB,CAAC,SAAS,GAAG,SAAS,CAAC;aAC3C;YACD,iBAAiB,CAAC,KAAK,GAAG,WAAW,CAAC,KAAK,CAAC;YAC5C,IAAG,KAAK,EAAE;gBACN,gBAAgB,CAAC,WAAW,GAAG,KAAK,CAAC;gBACrC,YAAY,CAAC,mBAAmB,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC;aAC3D;iBAAK;gBACF,YAAY,CAAC,eAAe,CAAC,iBAAiB,CAAC,CAAC;aACnD;SACJ;KACJ;;;;;;;;;IAQD,oBAAoB,CAAC,YAA0B,EAAE,WAAW,EAAE,IAAY,EAAE,KAAkB;;YACtF,MAAoC;QACxC,MAAM,GAAG,IAAI,2BAA2B,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC;QAC7D,IAAG,WAAW,YAAY,2BAA2B,EAAE;YACnD,MAAM,GAAG,WAAW,CAAC;SACxB;aAAK;YACF,WAAW,sBAAG,WAAW,EAAqB,CAAC;YAC/C,MAAM,GAAG,IAAI,2BAA2B,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC;YAC7D,MAAM,CAAC,KAAK,GAAG,WAAW,CAAC,KAAK,CAAC;YACjC,MAAM,CAAC,EAAE,GAAG,WAAW,CAAC,EAAE,CAAC;YAC3B,MAAM,CAAC,WAAW,GAAG,WAAW,CAAC,OAAO,CAAC;YACzC,MAAM,CAAC,WAAW,GAAG,WAAW,CAAC,WAAW,CAAC;YAC7C,MAAM,CAAC,aAAa,GAAG,WAAW,CAAC,aAAa,CAAC;YACjD,MAAM,CAAC,eAAe,GAAG,WAAW,CAAC,eAAe,CAAC;YACrD,MAAM,CAAC,mBAAmB,GAAG,WAAW,CAAC,mBAAmB,CAAC;YAC7D,MAAM,CAAC,eAAe,GAAG,WAAW,CAAC,eAAe,CAAC;YACrD,MAAM,CAAC,mBAAmB,GAAG,WAAW,CAAC,mBAAmB,CAAC;YAC7D,MAAM,CAAC,eAAe,GAAG,WAAW,CAAC,eAAe,CAAC;YACrD,MAAM,CAAC,mBAAmB,GAAG,WAAW,CAAC,mBAAmB,CAAC;YAC7D,MAAM,CAAC,oBAAoB,GAAG,WAAW,CAAC,oBAAoB,CAAC;YAC/D,MAAM,CAAC,cAAc,GAAG,WAAW,CAAC,cAAc,CAAC;YACnD,IAAI,WAAW,CAAC,SAAS,EAAE;;sBACjB,SAAS,GAAG,IAAI,SAAS,CAAC,YAAY,CAAC,KAAK,CAAC;gBACnD,SAAS,CAAC,KAAK,GAAG,WAAW,CAAC,SAAS,CAAC;gBACxC,MAAM,CAAC,SAAS,GAAG,SAAS,CAAC;aAChC;SACJ;QAED,IAAI,IAAI,KAAK,gBAAgB,EAAE;;gBACvB,kBAAkB,GAAG,IAAI,kBAAkB,CAAC,YAAY,CAAC,KAAK,CAAC;YACnE,kBAAkB,CAAC,qBAAqB,GAAG,MAAM,CAAC;YAClD,IAAI,WAAW,CAAC,SAAS,EAAE;;sBACjB,SAAS,GAAG,IAAI,SAAS,CAAC,YAAY,CAAC,KAAK,CAAC;gBACnD,SAAS,CAAC,KAAK,GAAG,WAAW,CAAC,SAAS,CAAC;gBACxC,kBAAkB,CAAC,SAAS,GAAG,SAAS,CAAC;aAC5C;YACD,kBAAkB,CAAC,KAAK,GAAG,WAAW,CAAC,KAAK,CAAC;YAC7C,YAAY,CAAC,eAAe,CAAC,kBAAkB,CAAC,CAAC;SACpD;aAAM,IAAI,IAAI,KAAK,gBAAgB,EAAE;;gBAC9B,iBAAiB,GAAG,IAAI,kBAAkB,CAAC,YAAY,CAAC,KAAK,CAAC;YAClE,iBAAiB,CAAC,qBAAqB,GAAG,MAAM,CAAC;YACjD,IAAI,WAAW,CAAC,SAAS,EAAE;;sBACjB,SAAS,GAAG,IAAI,SAAS,CAAC,YAAY,CAAC,KAAK,CAAC;gBACnD,SAAS,CAAC,KAAK,GAAG,WAAW,CAAC,SAAS,CAAC;gBACxC,iBAAiB,CAAC,SAAS,GAAG,SAAS,CAAC;aAC3C;YACD,iBAAiB,CAAC,KAAK,GAAG,WAAW,CAAC,KAAK,CAAC;YAC5C,IAAG,KAAK,EAAE;gBACN,MAAM,CAAC,WAAW,GAAG,KAAK,CAAC;gBAC3B,YAAY,CAAC,mBAAmB,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;aACjD;iBAAK;gBACF,YAAY,CAAC,eAAe,CAAC,iBAAiB,CAAC,CAAC;aACnD;SACJ;KACJ;;;;;;;;;IAQD,0BAA0B,CAAC,YAA0B,EAAE,WAAW,EAAE,IAAY,EAAE,KAAkB;;YAC5F,SAA6C;QACjD,IAAG,WAAW,YAAY,iCAAiC,EAAE;YACzD,SAAS,GAAG,WAAW,CAAC;SAC3B;aAAK;YACF,WAAW,sBAAG,WAAW,EAA2B,CAAC;YACrD,SAAS,GAAG,IAAI,iCAAiC,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC;YACtE,SAAS,CAAC,EAAE,GAAG,WAAW,CAAC,EAAE,CAAC;YAC9B,SAAS,CAAC,KAAK,GAAG,WAAW,CAAC,KAAK,CAAC;YACpC,SAAS,CAAC,WAAW,GAAG,WAAW,CAAC,UAAU,CAAC;;YAE/C,IAAG,WAAW,CAAC,iBAAiB,KAAK,YAAY,EAAE;gBAC/C,SAAS,CAAC,iBAAiB,GAAG,iBAAiB,CAAC,UAAU,CAAC;aAC9D;iBAAK,IAAG,WAAW,CAAC,iBAAiB,KAAK,MAAM,EAAE;gBAC/C,SAAS,CAAC,iBAAiB,GAAG,iBAAiB,CAAC,IAAI,CAAC;aACxD;iBAAK,IAAG,WAAW,CAAC,iBAAiB,KAAK,SAAS,EAAC;gBACjD,SAAS,CAAC,iBAAiB,GAAG,iBAAiB,CAAC,OAAO,CAAC;aAC3D;YACD,SAAS,CAAC,cAAc,GAAG,WAAW,CAAC,cAAc,CAAC;YACtD,SAAS,CAAC,gBAAgB,GAAG,WAAW,CAAC,gBAAgB,CAAC;YAC1D,SAAS,CAAC,eAAe,GAAG,WAAW,CAAC,eAAe,CAAC;YACxD,SAAS,CAAC,GAAG,GAAG,WAAW,CAAC,GAAG,CAAC;YAEhC,IAAI,WAAW,CAAC,SAAS,EAAE;;sBACjB,SAAS,GAAG,IAAI,SAAS,CAAC,YAAY,CAAC,KAAK,CAAC;gBACnD,SAAS,CAAC,KAAK,GAAG,WAAW,CAAC,SAAS,CAAC;gBACxC,SAAS,CAAC,SAAS,GAAG,SAAS,CAAC;aACnC;SACJ;QAED,IAAI,IAAI,KAAK,gBAAgB,EAAE;;gBACvB,kBAAkB,GAAG,IAAI,kBAAkB,CAAC,YAAY,CAAC,KAAK,CAAC;YACnE,kBAAkB,CAAC,qBAAqB,GAAG,SAAS,CAAC;YACrD,IAAI,WAAW,CAAC,SAAS,EAAE;;sBACjB,SAAS,GAAG,IAAI,SAAS,CAAC,YAAY,CAAC,KAAK,CAAC;gBACnD,SAAS,CAAC,KAAK,GAAG,WAAW,CAAC,SAAS,CAAC;gBACxC,kBAAkB,CAAC,SAAS,GAAG,SAAS,CAAC;aAC5C;YACD,kBAAkB,CAAC,KAAK,GAAG,WAAW,CAAC,KAAK,CAAC;YAC7C,YAAY,CAAC,eAAe,CAAC,kBAAkB,CAAC,CAAC;SACpD;aAAM,IAAI,IAAI,KAAK,gBAAgB,EAAE;;gBAC9B,iBAAiB,GAAG,IAAI,kBAAkB,CAAC,YAAY,CAAC,KAAK,CAAC;YAClE,iBAAiB,CAAC,qBAAqB,GAAG,SAAS,CAAC;YACpD,IAAI,WAAW,CAAC,SAAS,EAAE;;sBACjB,SAAS,GAAG,IAAI,SAAS,CAAC,YAAY,CAAC,KAAK,CAAC;gBACnD,SAAS,CAAC,KAAK,GAAG,WAAW,CAAC,SAAS,CAAC;gBACxC,iBAAiB,CAAC,SAAS,GAAG,SAAS,CAAC;aAC3C;YACD,iBAAiB,CAAC,KAAK,GAAG,WAAW,CAAC,KAAK,CAAC;YAC5C,IAAG,KAAK,EAAE;gBACN,SAAS,CAAC,WAAW,GAAG,KAAK,CAAC;gBAC9B,YAAY,CAAC,mBAAmB,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;aACpD;iBAAK;gBACF,YAAY,CAAC,eAAe,CAAC,iBAAiB,CAAC,CAAC;aACnD;SACJ;KACJ;;;;;;;IAOD,wBAAwB,CAAC,YAA0B,EAAE,GAAQ;;cACnD,OAAO,GAAG,GAAG,CAAC,aAAa;QACjC,IAAI,YAAY,CAAC,kBAAkB,IAAI,IAAI,EAAE;YACzC,YAAY,CAAC,kBAAkB,CAAC,mBAAmB,GAAG,OAAO,CAAC,mBAAmB,CAAC;YAClF,YAAY,CAAC,kBAAkB,CAAC,mBAAmB,GAAG,OAAO,CAAC,mBAAmB,CAAC;YAClF,YAAY,CAAC,kBAAkB,CAAC,aAAa,GAAG,OAAO,CAAC,aAAa,CAAC;YACtE,YAAY,CAAC,kBAAkB,CAAC,mBAAmB,GAAG,OAAO,CAAC,mBAAmB,CAAC;SACrF;aAAM;;gBACC,kBAAkB,GAAG,IAAI,kBAAkB,CAAC,YAAY,CAAC,KAAK,CAAC;YACnE,kBAAkB,CAAC,mBAAmB,GAAG,OAAO,CAAC,mBAAmB,CAAC;YACrE,kBAAkB,CAAC,mBAAmB,GAAG,OAAO,CAAC,mBAAmB,CAAC;YACrE,kBAAkB,CAAC,aAAa,GAAG,OAAO,CAAC,aAAa,CAAC;YACzD,kBAAkB,CAAC,mBAAmB,GAAG,OAAO,CAAC,mBAAmB,CAAC;YACrE,YAAY,CAAC,kBAAkB,GAAG,kBAAkB,CAAC;SACxD;KACJ;;;;;;;;IASD,wBAAwB,CAAC,YAA0B,EAAE,GAAQ,EAAE,WAAW,GAAG,KAAK;QAC9E,IAAI,YAAY,EAAE;YACd,YAAY,CAAC,mBAAmB,GAAG,GAAG,CAAC,aAAa,CAAC;;YAErD,IAAI,YAAY,CAAC,mBAAmB,KAAK,mBAAmB,CAAC,OAAO,EAAE;gBAClE,YAAY,CAAC,gBAAgB,GAAG,IAAI,CAAC;aACxC;iBAAM;;;gBAIH,IAAI,CAAC,YAAY,CAAC,gBAAgB,EAAE;oBAChC,YAAY,CAAC,gBAAgB,GAAG,IAAI,KAAK,EAAmB,CAAC;iBAChE;;gBAED,YAAY,CAAC,gBAAgB,GAAG,KAAK,CAAC;gBACtC,YAAY,CAAC,SAAS,GAAG,IAAI,CAAC;;;gBAG9B,IAAI,YAAY,CAAC,kBAAkB,KAAK,kBAAkB,CAAC,KAAK,EAAE;oBAC9D,YAAY,CAAC,kBAAkB,GAAG,kBAAkB,CAAC,GAAG,CAAC;iBAC5D;aACJ;SACJ;KACJ;;;;;;;IAED,oBAAoB,CAAC,YAA0B,EAAE,GAAQ,EAAE,WAAW,GAAG,KAAK;QAC1E,IAAI,YAAY,EAAE;YACd,YAAY,CAAC,eAAe,GAAG,GAAG,CAAC,aAAa,CAAC;SACpD;KACJ;;;;;;;;IASD,cAAc,CAAC,YAA0B,EAAE,GAAQ,EAAE,WAAW,GAAG,KAAK;QACpE,IAAI,YAAY,EAAE;;gBACV,KAAK,sBAAG,GAAG,CAAC,aAAa,EAAS;YACtC,YAAY,CAAC,gBAAgB,GAAG,IAAI,CAAC;YACrC,IAAI,KAAK,IAAI,KAAK,CAAC,MAAM,GAAG,CAAC,EAAE;gBAC3B,YAAY,CAAC,gBAAgB,GAAG,IAAI,KAAK,EAAmB,CAAC;gBAC7D,KAAK,IAAI,IAAI,IAAI,KAAK,EAAE;;wBAChB,eAAe,GAAG,IAAI,eAAe,CAAC,YAAY,CAAC,KAAK,CAAC;;wBACzD,SAAS,GAAG,IAAI,SAAS,CAAC,YAAY,CAAC,KAAK,CAAC;oBACjD,SAAS,CAAC,KAAK,GAAG,IAAI,CAAC,mBAAmB,CAAC;oBAC3C,eAAe,CAAC,eAAe,GAAG,IAAI,CAAC,eAAe,CAAC;oBACvD,eAAe,CAAC,aAAa,GAAG,IAAI,CAAC,aAAa,CAAC;oBACnD,eAAe,CAAC,cAAc,GAAG,IAAI,CAAC,cAAc,CAAC;oBACrD,eAAe,CAAC,YAAY,GAAG,IAAI,CAAC,YAAY,CAAC;oBACjD,eAAe,CAAC,mBAAmB,GAAG,SAAS,CAAC;oBAChD,YAAY,CAAC,gBAAgB,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;iBACvD;aACJ;SACJ;KACJ;;;;;;;;IASD,kBAAkB,CAAC,YAA0B,EAAE,GAAQ,EAAE,WAAW,GAAG,KAAK;QACxE,IAAI,YAAY,EAAE;;gBACV,WAAW,sBAAG,GAAG,CAAC,aAAa,EAAS;YAC5C,YAAY,CAAC,WAAW,GAAG,IAAI,KAAK,EAAkB,CAAC;YACvD,KAAK,IAAI,UAAU,IAAI,WAAW,EAAE;;oBAC5B,IAAI,GAAG,IAAI,cAAc,CAAC,YAAY,CAAC,KAAK,CAAC;gBACjD,IAAI,CAAC,KAAK,GAAG,UAAU,CAAC,KAAK,CAAC;gBAC9B,IAAI,CAAC,IAAI,GAAG,UAAU,CAAC,IAAI,CAAC;gBAC5B,IAAI,CAAC,cAAc,GAAG,UAAU,CAAC,cAAc,CAAC;gBAChD,IAAI,CAAC,SAAS,GAAG,UAAU,CAAC,SAAS,CAAC;gBACtC,IAAI,CAAC,gBAAgB,GAAG,UAAU,CAAC,gBAAgB,CAAC;gBACpD,IAAI,CAAC,aAAa,GAAG,UAAU,CAAC,aAAa,CAAC;gBAC9C,IAAI,CAAC,mBAAmB,GAAG,UAAU,CAAC,mBAAmB,CAAC;gBAC1D,IAAI,CAAC,kBAAkB,GAAG,UAAU,CAAC,kBAAkB,CAAC;gBACxD,IAAI,CAAC,cAAc,GAAG,UAAU,CAAC,cAAc,CAAC;gBAChD,YAAY,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;aACvC;SACJ;;QAED,IAAI,CAAC,IAAI,CAAC,qBAAqB,CAAC,YAAY,CAAC,WAAW,CAAC,EAAE;YACvD,YAAY,CAAC,YAAY,GAAG,IAAI,CAAC;SACpC;aAAM,IAAI,CAAC,YAAY,CAAC,YAAY,EAAE;YACnC,YAAY,CAAC,YAAY,GAAG,IAAI,YAAY,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC;SACpE;KACJ;;;;;;;;IAQD,gBAAgB,CAAC,YAA0B,EAAE,GAAQ,EAAE,QAAgB;QACnE,IAAI,YAAY,EAAE;;gBACV,IAAI,sBAAG,GAAG,CAAC,aAAa,EAAO;YACnC,IAAI,CAAC,YAAY,CAAC,YAAY,EAAE;gBAC5B,YAAY,CAAC,YAAY,GAAG,IAAI,KAAK,EAAe,CAAC;aACxD;YACD,YAAY,CAAC,YAAY,GAAG,YAAY,CAAC,YAAY,CAAC,MAAM;;;;YAAC,CAAC,IAAI,CAAC,CAAC,YAAY,KAAK,QAAQ,EAAC,CAAC;YAC/F,IAAI,IAAI,EAAE;;oBACF,MAAM,sBAAG,IAAI,CAAC,gBAAgB,EAAS;;oBACvC,QAAQ,GAAG,IAAI,KAAK,EAAmB;gBAC3C,IAAI,MAAM,IAAI,MAAM,CAAC,MAAM,GAAG,CAAC,EAAE;oBAC7B,KAAK,IAAI,IAAI,IAAI,MAAM,EAAE;;4BACjB,OAAO,GAAG,IAAI,eAAe,CAAC,YAAY,CAAC,KAAK,EAAE,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,KAAK,CAAC;wBAC5E,IAAI,IAAI,CAAC,GAAG,EAAE;4BACV,OAAO,CAAC,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC;yBAC1B;6BAAM;4BACH,IAAI,IAAI,CAAC,KAAK,EAAE;gCACZ,IAAI,IAAI,CAAC,KAAK,CAAC,MAAM,IAAI,CAAC,IAAI,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,KAAK,UAAU,EAAE;oCACjE,OAAO,CAAC,GAAG,GAAG,YAAY,CAAC;iCAC9B;qCAAM;oCACH,OAAO,CAAC,GAAG,GAAG,UAAU,CAAC;iCAC5B;6BACJ;iCAAM;gCACH,OAAO,CAAC,GAAG,GAAG,UAAU,CAAC;6BAC5B;yBAEJ;wBACD,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;qBAC1B;iBACJ;;sBACK,EAAE,GAAG,eAAe,CAAC,iBAAiB,EAAE;;oBAC1C,IAAI,GAAG,IAAI,WAAW,CAAC,YAAY,CAAC,KAAK,EAAE,EAAE,EAAE,IAAI,CAAC,IAAI,EAAE,QAAQ,CAAC;gBACvE,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,WAAW,CAAC;gBACpC,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC;gBAC9B,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,YAAY,CAAC;gBACtC,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,cAAc,CAAC;gBAC1C,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,YAAY,CAAC;gBACtC,YAAY,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;aACxC;SACJ;KACJ;;;;;;;;IASD,qBAAqB,CAAC,YAA0B,EAAE,GAAQ,EAAE,WAAW,GAAG,KAAK;;cACrE,gBAAgB,sBAAG,GAAG,CAAC,aAAa,EAAW;QACrD,YAAY,CAAC,gBAAgB,GAAG,gBAAgB,CAAC;QACjD,IAAI,YAAY,CAAC,gBAAgB,EAAE,CAClC;aAAM;YACH,YAAY,CAAC,SAAS,GAAG,IAAI,CAAC;SACjC;KACJ;;;;;;IAED,cAAc,CAAC,YAA0B,EAAE,GAAQ;;cACzC,IAAI,GAAG,GAAG,CAAC,aAAa;QAC9B,IAAI,IAAI,EAAE;;gBACF,SAAS,GAAG,IAAI,SAAS,CAAC,YAAY,CAAC,KAAK,CAAC;YACjD,SAAS,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC;YACnC,SAAS,CAAC,WAAW,GAAG,IAAI,CAAC,WAAW,CAAC;YACzC,SAAS,CAAC,qBAAqB,GAAG,IAAI,CAAC,qBAAqB,CAAC;YAC7D,SAAS,CAAC,eAAe,GAAG,IAAI,CAAC,eAAe,CAAC;YACjD,YAAY,CAAC,SAAS,GAAG,SAAS,CAAC;SACtC;aAAM;YACH,YAAY,CAAC,SAAS,GAAG,IAAI,CAAC;SACjC;KACJ;;;;;;IAED,iBAAiB,CAAC,YAA0B,EAAE,GAAQ;;cAC5C,IAAI,GAAG,GAAG,CAAC,aAAa;;YAC1B,YAAY,GAAG,IAAI,YAAY,CAAC,YAAY,CAAC,KAAK,CAAC;QACvD,YAAY,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC;QACxC,YAAY,CAAC,gBAAgB,GAAG,IAAI,CAAC,gBAAgB,CAAC;QACtD,YAAY,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC;QAC1C,YAAY,CAAC,cAAc,GAAG,IAAI,CAAC,cAAc,CAAC;QAClD,YAAY,CAAC,uBAAuB,GAAG,IAAI,CAAC,uBAAuB,CAAC;QACpE,YAAY,CAAC,gBAAgB,GAAG,IAAI,CAAC,gBAAgB,CAAC;QAEtD,YAAY,CAAC,YAAY,GAAG,YAAY,CAAC;KAC5C;;;;;;IAED,qCAAqC,CAAC,YAA0B,EAAE,GAAQ;QACtE,IAAG,GAAG,CAAC,aAAa,EAAE;;kBACZ,IAAI,GAAG,GAAG,CAAC,aAAa;;gBAC1B,mBAAmB,GAAG,IAAI,gCAAgC,CAAC,YAAY,CAAC,KAAK,CAAC;YAClF,mBAAmB,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC;YACzC,mBAAmB,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC;YACjD,mBAAmB,CAAC,eAAe,GAAG,IAAI,UAAU,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC;YACzE,IAAG,IAAI,CAAC,eAAe,EAAE;;oBACjB,kBAAkB,GAAG,IAAI,kBAAkB,CAAC,YAAY,CAAC,KAAK,CAAC;gBACnE,kBAAkB,CAAC,KAAK,GAAG,IAAI,CAAC,eAAe,CAAC;gBAChD,mBAAmB,CAAC,eAAe,CAAC,aAAa,GAAG,kBAAkB,CAAC;aAC1E;YACD,mBAAmB,CAAC,mBAAmB,GAAG,IAAI,CAAC,mBAAmB,CAAC;;gBAC/D,KAAK,sBAAG,IAAI,CAAC,wBAAwB,EAAS;YAClD,mBAAmB,CAAC,wBAAwB,GAAG,IAAI,CAAC;YACpD,IAAG,KAAK,IAAI,KAAK,CAAC,MAAM,GAAG,CAAC,EAAE;gBAC1B,mBAAmB,CAAC,wBAAwB,GAAG,IAAI,KAAK,EAAmB,CAAC;gBAC5E,KAAI,IAAI,IAAI,IAAI,KAAK,EAAE;;wBACf,eAAe,GAAG,IAAI,eAAe,CAAC,YAAY,CAAC,KAAK,CAAC;;wBACzD,SAAS,GAAG,IAAI,SAAS,CAAC,YAAY,CAAC,KAAK,CAAC;oBACjD,SAAS,CAAC,KAAK,GAAG,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC;oBACjD,eAAe,CAAC,eAAe,GAAG,IAAI,CAAC,eAAe,CAAC;oBACvD,eAAe,CAAC,aAAa,GAAG,IAAI,CAAC,aAAa,CAAC;oBACnD,eAAe,CAAC,cAAc,GAAG,IAAI,CAAC,cAAc,CAAC;oBACrD,eAAe,CAAC,YAAY,GAAG,IAAI,CAAC,YAAY,CAAC;oBACjD,eAAe,CAAC,mBAAmB,GAAG,SAAS,CAAC;oBAChD,mBAAmB,CAAC,wBAAwB,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;iBACtE;aACJ;YACD,YAAY,CAAC,mBAAmB,GAAG,mBAAmB,CAAC;SAC1D;KACJ;;;;;;;IAOD,qBAAqB,CAAC,YAA0B,EAAE,GAAQ;QACtD,IAAI,YAAY,CAAC,SAAS,EAAE;YACxB,YAAY,CAAC,SAAS,CAAC,aAAa,GAAG,GAAG,CAAC,aAAa,CAAC;YACzD,YAAY,CAAC,SAAS,CAAC,KAAK,GAAG,GAAG,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;SAC9D;aAAM;;kBACG,KAAK,GAAG,IAAI,eAAe,CAAC,YAAY,CAAC,KAAK,EAAE,GAAG,CAAC,aAAa,CAAC,QAAQ,CAAC,EAAE,GAAG,CAAC,aAAa,CAAC;YACrG,YAAY,CAAC,SAAS,GAAG,KAAK,CAAC;SAClC;KACJ;;;;;;IAED,UAAU,CAAC,YAA0B,EAAE,GAAQ;;YACvC,KAAK,sBAAG,GAAG,CAAC,aAAa,EAAS;QACtC,YAAY,CAAC,KAAK,GAAG,IAAI,KAAK,EAAQ,CAAC;QACvC,IAAI,KAAK,IAAI,KAAK,CAAC,MAAM,GAAG,CAAC,EAAE;YAC3B,KAAK,IAAI,IAAI,IAAI,KAAK,EAAE;;oBAChB,SAAS,GAAG,IAAIF,WAAS,CAAC,YAAY,CAAC,KAAK,CAAC;gBACjD,SAAS,CAAC,EAAE,GAAG,IAAI,CAAC,EAAE,CAAC;gBACvB,SAAS,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC;gBAC3B,SAAS,CAAC,IAAI,GAAG,IAAI,CAAC,aAAa,CAAC;;gBAEpC,SAAS,CAAC,aAAa,GAAG,qBAAqB,CAAC;gBAChD,SAAS,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC;gBACvC,SAAS,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC;gBACvC,SAAS,CAAC,iBAAiB,GAAG,IAAI,CAAC,iBAAiB,CAAC;gBACrD,SAAS,CAAC,gBAAgB,GAAG,EAAE,CAAC;gBAChC,IAAI,IAAI,CAAC,gBAAgB,IAAI,oBAAC,IAAI,CAAC,gBAAgB,IAAW,MAAM,GAAG,CAAC,EAAE;oBACtE,KAAK,IAAI,CAAC,wBAAK,IAAI,CAAC,gBAAgB,KAAY;;4BACxC,SAAS,GAAG,IAAI,eAAe,CAAC,YAAY,CAAC,KAAK,EAAE,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC,KAAK,CAAC;wBACxE,SAAS,CAAC,gBAAgB,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;qBAC9C;iBACJ;gBACD,YAAY,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;aACtC;SACJ;KACJ;;;;;;IAGD,kBAAkB,CAAC,YAA0B,EAAE,GAAQ;;cAC7C,KAAK,sBAAG,GAAG,CAAC,aAAa,EAAiC;QAChE,YAAY,CAAC,mBAAmB,GAAG,YAAY,CAAC,mBAAmB,CAAC,MAAM;;;;QAAC,CAAC,IAAI,oBAAC,CAAC,IAAuC,WAAW,KAAK,WAAW,CAAC,YAAY,EAAC,CAAC;QACnK,YAAY,CAAC,gBAAgB,GAAG,KAAK,CAAC,MAAM,CAAC;QAE7C,IAAI,KAAK,CAAC,KAAK,EAAE;YACb,IAAG,KAAK,CAAC,KAAK,CAAC,iBAAiB,EAAE;;sBACxB,iCAAiC,GAAG,IAAI,iCAAiC,CAAC,YAAY,CAAC,KAAK,CAAC;gBACnG,iCAAiC,CAAC,EAAE,GAAG,eAAe,CAAC,iBAAiB,EAAE,CAAC;gBAC3E,iCAAiC,CAAC,WAAW,GAAG,WAAW,CAAC,YAAY,CAAC;gBACzE,iCAAiC,CAAC,iBAAiB,sBAAG,KAAK,CAAC,KAAK,CAAC,iBAAiB,EAAO,CAAC;gBAC3F,iCAAiC,CAAC,cAAc,GAAG,KAAK,CAAC,KAAK,CAAC,cAAc,CAAC;gBAC9E,iCAAiC,CAAC,gBAAgB,GAAG,KAAK,CAAC,KAAK,CAAC,gBAAgB,CAAC;gBAClF,iCAAiC,CAAC,eAAe,GAAG,KAAK,CAAC,KAAK,CAAC,eAAe,CAAC;gBAChF,iCAAiC,CAAC,GAAG,GAAG,KAAK,CAAC,KAAK,CAAC,GAAG,CAAC;gBACxD,YAAY,CAAC,mBAAmB,CAAC,IAAI,CAAC,iCAAiC,CAAC,CAAC;aAC5E;iBAAK;;sBACI,aAAa,sBAAoB,KAAK,CAAC,KAAK,CAAC,eAAe,EAAO;gBACzE,IAAI,aAAa,CAAC,UAAU,IAAI,aAAa,CAAC,kBAAkB,IAAI,aAAa,CAAC,kBAAkB,CAAC,MAAM,GAAG,CAAC,EAAE;oBAC7G,KAAK,MAAM,cAAc,IAAI,aAAa,CAAC,kBAAkB,EAAE;wBAC3D,QAAQ,cAAc,CAAC,IAAI,GAAG,cAAc,CAAC,IAAI,IAAI,CAAC,cAAc,YAAY,qBAAqB,IAAI,cAAc,CAAC,SAAS,GAAG,IAAI,CAAC;4BACrI,KAAK,yBAAyB,CAAC,WAAW;gCACtC,IAAI,CAAC,kBAAkB,CAAC,YAAY,GAAG,cAAc,YAAY,qBAAqB,GAAG,cAAc,sBAAG,cAAc,EAAmB,GAAG,gBAAgB,EAAE,WAAW,CAAC,YAAY,CAAC,CAAC;gCAC1L,MAAM;4BACV,KAAK,6BAA6B,CAAC,WAAW;gCAC1C,IAAI,CAAC,sBAAsB,CAAC,YAAY,GAAG,cAAc,YAAY,qBAAqB,GAAG,cAAc,sBAAG,cAAc,EAAqB,GAAG,gBAAgB,EAAE,WAAW,CAAC,YAAY,CAAC,CAAA;gCAC/L,MAAM;4BACV,KAAK,6BAA6B,CAAC,WAAW;gCAC1C,IAAI,CAAC,sBAAsB,CAAC,YAAY,GAAG,cAAc,YAAY,qBAAqB,GAAG,cAAc,sBAAG,cAAc,EAAuB,GAAG,gBAAgB,EAAE,WAAW,CAAC,YAAY,CAAC,CAAC;gCAClM,MAAM;4BACV,KAAK,8BAA8B,CAAC,WAAW;gCAC3C,IAAI,CAAC,uBAAuB,CAAC,YAAY,GAAG,cAAc,YAAY,qBAAqB,GAAG,cAAc,sBAAG,cAAc,EAAwB,GAAG,gBAAgB,EAAE,WAAW,CAAC,YAAY,CAAC,CAAC;gCACpM,MAAM;4BACV,KAAK,kCAAkC,CAAC,WAAW;gCAC/C,IAAI,CAAC,2BAA2B,CAAC,YAAY,GAAG,cAAc,YAAY,qBAAqB,GAAG,cAAc,sBAAG,cAAc,EAA4B,GAAG,gBAAgB,EAAE,WAAW,CAAC,YAAY,CAAC,CAAC;gCAC5M,MAAM;4BACV,KAAK,qCAAqC,CAAC,WAAW;gCAClD,IAAI,CAAC,8BAA8B,CAAC,YAAY,GAAG,cAAc,YAAY,qBAAqB,GAAG,cAAc,sBAAG,cAAc,EAA+B,GAAG,gBAAgB,EAAE,WAAW,CAAC,YAAY,CAAC,CAAC;gCAClN,MAAM;4BACV,KAAK,2BAA2B,CAAC,WAAW;gCACxC,IAAI,CAAC,oBAAoB,CAAC,YAAY,GAAG,cAAc,YAAY,qBAAqB,GAAG,cAAc,sBAAG,cAAc,EAAqB,GAAG,gBAAgB,EAAE,WAAW,CAAC,YAAY,CAAC,CAAC;gCAC9L,MAAM;4BACV,KAAK,iCAAiC,CAAC,WAAW;gCAC9C,IAAI,CAAC,0BAA0B,CAAC,YAAY,GAAG,cAAc,YAAY,qBAAqB,GAAG,cAAc,sBAAG,cAAc,EAA2B,GAAG,gBAAgB,EAAG,WAAW,CAAC,YAAY,CAAC,CAAC;gCAC3M,MAAM;yBACb;qBACJ;iBACJ;aACJ;SACJ;KACJ;;;;;;IAED,oBAAoB,CAAC,YAA0B,EAAE,GAAQ;;cAC/C,KAAK,sBAAG,GAAG,CAAC,aAAa,EAAiC;QAChE,YAAY,CAAC,mBAAmB,GAAG,YAAY,CAAC,mBAAmB,CAAC,MAAM;;;;QAAC,CAAC,IAAI,oBAAC,CAAC,IAAuC,WAAW,KAAK,WAAW,CAAC,aAAa,EAAC,CAAC;QACpK,YAAY,CAAC,iBAAiB,GAAG,KAAK,CAAC,MAAM,CAAC;QAE9C,IAAI,KAAK,CAAC,KAAK,EAAE;YACb,IAAG,KAAK,CAAC,KAAK,CAAC,iBAAiB,EAAE;;sBACxB,iCAAiC,GAAG,IAAI,iCAAiC,CAAC,YAAY,CAAC,KAAK,CAAC;gBACnG,iCAAiC,CAAC,EAAE,GAAG,eAAe,CAAC,iBAAiB,EAAE,CAAC;gBAC3E,iCAAiC,CAAC,WAAW,GAAG,WAAW,CAAC,aAAa,CAAC;gBAC1E,iCAAiC,CAAC,iBAAiB,sBAAG,KAAK,CAAC,KAAK,CAAC,iBAAiB,EAAO,CAAC;gBAC3F,iCAAiC,CAAC,cAAc,GAAG,KAAK,CAAC,KAAK,CAAC,cAAc,CAAC;gBAC9E,iCAAiC,CAAC,gBAAgB,GAAG,KAAK,CAAC,KAAK,CAAC,gBAAgB,CAAC;gBAClF,iCAAiC,CAAC,eAAe,GAAG,KAAK,CAAC,KAAK,CAAC,eAAe,CAAC;gBAChF,iCAAiC,CAAC,GAAG,GAAG,KAAK,CAAC,KAAK,CAAC,GAAG,CAAC;gBACxD,YAAY,CAAC,mBAAmB,CAAC,IAAI,CAAC,iCAAiC,CAAC,CAAC;aAC5E;iBAAK;;sBACI,aAAa,sBAAoB,KAAK,CAAC,KAAK,CAAC,eAAe,EAAO;gBACzE,IAAI,aAAa,CAAC,UAAU,IAAI,aAAa,CAAC,kBAAkB,IAAI,aAAa,CAAC,kBAAkB,CAAC,MAAM,GAAG,CAAC,EAAE;oBAC7G,KAAK,MAAM,cAAc,IAAI,aAAa,CAAC,kBAAkB,EAAE;wBAC3D,QAAQ,cAAc,CAAC,IAAI,GAAG,cAAc,CAAC,IAAI,IAAI,CAAC,cAAc,YAAY,qBAAqB,IAAI,cAAc,CAAC,SAAS,GAAG,IAAI,CAAC;4BACrI,KAAK,yBAAyB,CAAC,WAAW;gCACtC,IAAI,CAAC,kBAAkB,CAAC,YAAY,EAAE,cAAc,YAAY,qBAAqB,GAAG,cAAc,sBAAG,cAAc,EAAmB,EAAE,gBAAgB,EAAE,WAAW,CAAC,aAAa,CAAC,CAAC;gCACzL,MAAM;4BACV,KAAK,6BAA6B,CAAC,WAAW;gCAC1C,IAAI,CAAC,sBAAsB,CAAC,YAAY,EAAE,cAAc,YAAY,qBAAqB,GAAG,cAAc,sBAAG,cAAc,EAAqB,EAAE,gBAAgB,EAAE,WAAW,CAAC,aAAa,CAAC,CAAA;gCAC9L,MAAM;4BACV,KAAK,6BAA6B,CAAC,WAAW;gCAC1C,IAAI,CAAC,sBAAsB,CAAC,YAAY,EAAE,cAAc,YAAY,qBAAqB,GAAG,cAAc,sBAAG,cAAc,EAAuB,EAAE,gBAAgB,EAAE,WAAW,CAAC,aAAa,CAAC,CAAC;gCACjM,MAAM;4BACV,KAAK,8BAA8B,CAAC,WAAW;gCAC3C,IAAI,CAAC,uBAAuB,CAAC,YAAY,EAAE,cAAc,YAAY,qBAAqB,GAAG,cAAc,sBAAG,cAAc,EAAwB,EAAE,gBAAgB,EAAE,WAAW,CAAC,aAAa,CAAC,CAAC;gCACnM,MAAM;4BACV,KAAK,kCAAkC,CAAC,WAAW;gCAC/C,IAAI,CAAC,2BAA2B,CAAC,YAAY,EAAE,cAAc,YAAY,qBAAqB,GAAG,cAAc,sBAAG,cAAc,EAA4B,EAAE,gBAAgB,EAAE,WAAW,CAAC,aAAa,CAAC,CAAC;gCAC3M,MAAM;4BACV,KAAK,qCAAqC,CAAC,WAAW;gCAClD,IAAI,CAAC,8BAA8B,CAAC,YAAY,EAAE,cAAc,YAAY,qBAAqB,GAAG,cAAc,sBAAG,cAAc,EAA+B,EAAE,gBAAgB,EAAE,WAAW,CAAC,aAAa,CAAC,CAAC;gCACjN,MAAM;4BACV,KAAK,2BAA2B,CAAC,WAAW;gCACxC,IAAI,CAAC,oBAAoB,CAAC,YAAY,EAAE,cAAc,YAAY,qBAAqB,GAAG,cAAc,sBAAG,cAAc,EAAqB,EAAE,gBAAgB,EAAE,WAAW,CAAC,aAAa,CAAC,CAAC;gCAC7L,MAAM;4BACV,KAAK,iCAAiC,CAAC,WAAW;gCAC9C,IAAI,CAAC,0BAA0B,CAAC,YAAY,EAAE,cAAc,YAAY,qBAAqB,GAAG,cAAc,sBAAG,cAAc,EAA2B,EAAE,gBAAgB,EAAG,WAAW,CAAC,aAAa,CAAC,CAAC;gCAC1M,MAAM;yBACb;qBACJ;iBACJ;aACJ;SACJ;KACJ;;;;;;IAED,eAAe,CAAC,YAA0B,EAAE,GAAQ;;cAC1C,KAAK,sBAAG,GAAG,CAAC,aAAa,EAAiC;QAEhE,YAAY,CAAC,mBAAmB,GAAG,YAAY,CAAC,mBAAmB,CAAC,MAAM;;;;QAAC,CAAC,IAAI,oBAAC,CAAC,IAAuC,WAAW,KAAK,WAAW,CAAC,MAAM,EAAC,CAAC;QAC7J,YAAY,CAAC,UAAU,GAAG,KAAK,CAAC,MAAM,CAAC;QAEvC,IAAI,KAAK,CAAC,KAAK,EAAE;YACb,IAAG,KAAK,CAAC,KAAK,CAAC,iBAAiB,EAAE;;sBACxB,iCAAiC,GAAG,IAAI,iCAAiC,CAAC,YAAY,CAAC,KAAK,CAAC;gBACnG,iCAAiC,CAAC,EAAE,GAAG,eAAe,CAAC,iBAAiB,EAAE,CAAC;gBAC3E,iCAAiC,CAAC,WAAW,GAAG,WAAW,CAAC,MAAM,CAAC;gBACnE,iCAAiC,CAAC,iBAAiB,sBAAG,KAAK,CAAC,KAAK,CAAC,iBAAiB,EAAO,CAAC;gBAC3F,iCAAiC,CAAC,cAAc,GAAG,KAAK,CAAC,KAAK,CAAC,cAAc,CAAC;gBAC9E,iCAAiC,CAAC,gBAAgB,GAAG,KAAK,CAAC,KAAK,CAAC,gBAAgB,CAAC;gBAClF,iCAAiC,CAAC,eAAe,GAAG,KAAK,CAAC,KAAK,CAAC,eAAe,CAAC;gBAChF,iCAAiC,CAAC,GAAG,GAAG,KAAK,CAAC,KAAK,CAAC,GAAG,CAAC;gBACxD,YAAY,CAAC,mBAAmB,CAAC,IAAI,CAAC,iCAAiC,CAAC,CAAC;aAC5E;iBAAK;;sBACI,aAAa,sBAAoB,KAAK,CAAC,KAAK,CAAC,eAAe,EAAO;gBACzE,IAAI,aAAa,CAAC,UAAU,IAAI,aAAa,CAAC,kBAAkB,IAAI,aAAa,CAAC,kBAAkB,CAAC,MAAM,GAAG,CAAC,EAAE;oBAC7G,KAAK,MAAM,cAAc,IAAI,aAAa,CAAC,kBAAkB,EAAE;wBAC3D,QAAQ,cAAc,CAAC,IAAI,GAAG,cAAc,CAAC,IAAI,IAAI,CAAC,cAAc,YAAY,qBAAqB,IAAI,cAAc,CAAC,SAAS,GAAG,IAAI,CAAC;4BACrI,KAAK,yBAAyB,CAAC,WAAW;gCACtC,IAAI,CAAC,kBAAkB,CAAC,YAAY,EAAE,cAAc,YAAY,qBAAqB,GAAG,cAAc,sBAAG,cAAc,EAAmB,EAAE,gBAAgB,EAAE,WAAW,CAAC,MAAM,CAAC,CAAC;gCAClL,MAAM;4BACV,KAAK,6BAA6B,CAAC,WAAW;gCAC1C,IAAI,CAAC,sBAAsB,CAAC,YAAY,EAAE,cAAc,YAAY,qBAAqB,GAAG,cAAc,sBAAG,cAAc,EAAqB,EAAE,gBAAgB,EAAE,WAAW,CAAC,MAAM,CAAC,CAAA;gCACvL,MAAM;4BACV,KAAK,6BAA6B,CAAC,WAAW;gCAC1C,IAAI,CAAC,sBAAsB,CAAC,YAAY,EAAE,cAAc,YAAY,qBAAqB,GAAG,cAAc,sBAAG,cAAc,EAAuB,EAAE,gBAAgB,EAAE,WAAW,CAAC,MAAM,CAAC,CAAC;gCAC1L,MAAM;4BACV,KAAK,8BAA8B,CAAC,WAAW;gCAC3C,IAAI,CAAC,uBAAuB,CAAC,YAAY,EAAE,cAAc,YAAY,qBAAqB,GAAG,cAAc,sBAAG,cAAc,EAAwB,EAAE,gBAAgB,EAAE,WAAW,CAAC,MAAM,CAAC,CAAC;gCAC5L,MAAM;4BACV,KAAK,kCAAkC,CAAC,WAAW;gCAC/C,IAAI,CAAC,2BAA2B,CAAC,YAAY,EAAE,cAAc,YAAY,qBAAqB,GAAG,cAAc,sBAAG,cAAc,EAA4B,EAAE,gBAAgB,EAAE,WAAW,CAAC,MAAM,CAAC,CAAC;gCACpM,MAAM;4BACV,KAAK,qCAAqC,CAAC,WAAW;gCAClD,IAAI,CAAC,8BAA8B,CAAC,YAAY,EAAE,cAAc,YAAY,qBAAqB,GAAG,cAAc,sBAAG,cAAc,EAA+B,EAAE,gBAAgB,EAAE,WAAW,CAAC,MAAM,CAAC,CAAC;gCAC1M,MAAM;4BACV,KAAK,2BAA2B,CAAC,WAAW;gCACxC,IAAI,CAAC,oBAAoB,CAAC,YAAY,EAAE,cAAc,YAAY,qBAAqB,GAAG,cAAc,sBAAG,cAAc,EAAqB,EAAE,gBAAgB,EAAE,WAAW,CAAC,MAAM,CAAC,CAAC;gCACtL,MAAM;4BACV,KAAK,iCAAiC,CAAC,WAAW;gCAC9C,IAAI,CAAC,0BAA0B,CAAC,YAAY,EAAE,cAAc,YAAY,qBAAqB,GAAG,cAAc,sBAAG,cAAc,EAA2B,EAAE,gBAAgB,EAAG,WAAW,CAAC,MAAM,CAAC,CAAC;gCACnM,MAAM;yBACb;qBACJ;iBACJ;aACJ;SACJ;KACJ;;;;;;IACD,mBAAmB,CAAC,YAA0B,EAAE,GAAQ;;cAC9C,KAAK,sBAAG,GAAG,CAAC,aAAa,EAAiC;QAEhE,YAAY,CAAC,mBAAmB,GAAG,YAAY,CAAC,mBAAmB,CAAC,MAAM;;;;QAAC,CAAC,IAAI,oBAAC,CAAC,IAAuC,WAAW,KAAK,WAAW,CAAC,QAAQ,EAAC,CAAC;QAC/J,YAAY,CAAC,YAAY,GAAG,KAAK,CAAC,MAAM,CAAC;QAEzC,IAAI,KAAK,CAAC,KAAK,EAAE;YACb,IAAG,KAAK,CAAC,KAAK,CAAC,iBAAiB,EAAE;;sBACxB,iCAAiC,GAAG,IAAI,iCAAiC,CAAC,YAAY,CAAC,KAAK,CAAC;gBACnG,iCAAiC,CAAC,EAAE,GAAG,eAAe,CAAC,iBAAiB,EAAE,CAAC;gBAC3E,iCAAiC,CAAC,WAAW,GAAG,WAAW,CAAC,QAAQ,CAAC;gBACrE,iCAAiC,CAAC,iBAAiB,sBAAG,KAAK,CAAC,KAAK,CAAC,iBAAiB,EAAO,CAAC;gBAC3F,iCAAiC,CAAC,cAAc,GAAG,KAAK,CAAC,KAAK,CAAC,cAAc,CAAC;gBAC9E,iCAAiC,CAAC,gBAAgB,GAAG,KAAK,CAAC,KAAK,CAAC,gBAAgB,CAAC;gBAClF,iCAAiC,CAAC,eAAe,GAAG,KAAK,CAAC,KAAK,CAAC,eAAe,CAAC;gBAChF,iCAAiC,CAAC,GAAG,GAAG,KAAK,CAAC,KAAK,CAAC,GAAG,CAAC;gBACxD,YAAY,CAAC,mBAAmB,CAAC,IAAI,CAAC,iCAAiC,CAAC,CAAC;aAC5E;iBAAK;;sBACI,aAAa,sBAAoB,KAAK,CAAC,KAAK,CAAC,eAAe,EAAO;gBACzE,IAAI,aAAa,CAAC,UAAU,IAAI,aAAa,CAAC,kBAAkB,IAAI,aAAa,CAAC,kBAAkB,CAAC,MAAM,GAAG,CAAC,EAAE;oBAC7G,KAAK,MAAM,cAAc,IAAI,aAAa,CAAC,kBAAkB,EAAE;wBAC3D,QAAQ,cAAc,CAAC,IAAI,GAAG,cAAc,CAAC,IAAI,IAAI,CAAC,cAAc,YAAY,qBAAqB,IAAI,cAAc,CAAC,SAAS,GAAG,IAAI,CAAC;4BACrI,KAAK,yBAAyB,CAAC,WAAW;gCACtC,IAAI,CAAC,kBAAkB,CAAC,YAAY,EAAE,cAAc,YAAY,qBAAqB,GAAG,cAAc,sBAAG,cAAc,EAAmB,EAAE,gBAAgB,EAAE,WAAW,CAAC,QAAQ,CAAC,CAAC;gCACpL,MAAM;4BACV,KAAK,6BAA6B,CAAC,WAAW;gCAC1C,IAAI,CAAC,sBAAsB,CAAC,YAAY,EAAE,cAAc,YAAY,qBAAqB,GAAG,cAAc,sBAAG,cAAc,EAAqB,EAAE,gBAAgB,EAAE,WAAW,CAAC,QAAQ,CAAC,CAAA;gCACzL,MAAM;4BACV,KAAK,6BAA6B,CAAC,WAAW;gCAC1C,IAAI,CAAC,sBAAsB,CAAC,YAAY,EAAE,cAAc,YAAY,qBAAqB,GAAG,cAAc,sBAAG,cAAc,EAAuB,EAAE,gBAAgB,EAAE,WAAW,CAAC,QAAQ,CAAC,CAAC;gCAC5L,MAAM;4BACV,KAAK,8BAA8B,CAAC,WAAW;gCAC3C,IAAI,CAAC,uBAAuB,CAAC,YAAY,EAAE,cAAc,YAAY,qBAAqB,GAAG,cAAc,sBAAG,cAAc,EAAwB,EAAE,gBAAgB,EAAE,WAAW,CAAC,QAAQ,CAAC,CAAC;gCAC9L,MAAM;4BACV,KAAK,kCAAkC,CAAC,WAAW;gCAC/C,IAAI,CAAC,2BAA2B,CAAC,YAAY,EAAE,cAAc,YAAY,qBAAqB,GAAG,cAAc,sBAAG,cAAc,EAA4B,EAAE,gBAAgB,EAAE,WAAW,CAAC,QAAQ,CAAC,CAAC;gCACtM,MAAM;4BACV,KAAK,qCAAqC,CAAC,WAAW;gCAClD,IAAI,CAAC,8BAA8B,CAAC,YAAY,EAAE,cAAc,YAAY,qBAAqB,GAAG,cAAc,sBAAG,cAAc,EAA+B,EAAE,gBAAgB,EAAE,WAAW,CAAC,QAAQ,CAAC,CAAC;gCAC5M,MAAM;4BACV,KAAK,2BAA2B,CAAC,WAAW;gCACxC,IAAI,CAAC,oBAAoB,CAAC,YAAY,EAAE,cAAc,YAAY,qBAAqB,GAAG,cAAc,sBAAG,cAAc,EAAqB,EAAE,gBAAgB,EAAE,WAAW,CAAC,QAAQ,CAAC,CAAC;gCACxL,MAAM;4BACV,KAAK,iCAAiC,CAAC,WAAW;gCAC9C,IAAI,CAAC,0BAA0B,CAAC,YAAY,EAAE,cAAc,YAAY,qBAAqB,GAAG,cAAc,sBAAG,cAAc,EAA2B,EAAE,gBAAgB,EAAG,WAAW,CAAC,QAAQ,CAAC,CAAC;gCACrM,MAAM;yBACb;qBACJ;iBACJ;aACJ;SACJ;KACJ;;;;;;IAED,sBAAsB,CAAC,YAA0B,EAAE,GAAQ;;cACjD,aAAa,sBAAG,GAAG,CAAC,aAAa,EAAwB;QAC/D,YAAY,CAAC,gBAAgB,GAAG,IAAI,CAAC;QACrC,IAAI,aAAa,EAAE;;kBACT,OAAO,GAAG,IAAI,gBAAgB,CAAC,YAAY,CAAC,KAAK,CAAC;YACxD,OAAO,CAAC,MAAM,GAAG,aAAa,CAAC,MAAM,CAAC;YACtC,OAAO,CAAC,GAAG,GAAG,aAAa,CAAC,GAAG,CAAC;YAChC,OAAO,CAAC,OAAO,GAAG,aAAa,CAAC,OAAO,CAAC;YACxC,OAAO,CAAC,QAAQ,GAAG,aAAa,CAAC,QAAQ,CAAC;YAC1C,OAAO,CAAC,gBAAgB,GAAG,IAAI,KAAK,EAA8B,CAAC;YACnE,IAAI,aAAa,CAAC,gBAAgB,IAAI,aAAa,CAAC,gBAAgB,CAAC,MAAM,GAAG,CAAC,EAAE;gBAC7E,KAAK,MAAM,CAAC,IAAI,aAAa,CAAC,gBAAgB,EAAE;oBAC5C,IAAI,CAAC,CAAC,iBAAiB,KAAK,4BAA4B,IAAI,CAAC,CAAC,CAAC,iBAAiB,EAAE;;8BACxE,MAAM,sBAAG,CAAC,EAA8B;;8BACxC,WAAW,GAAG,IAAI,0BAA0B,CAAC,YAAY,CAAC,KAAK,CAAC;wBACtE,WAAW,CAAC,EAAE,GAAG,eAAe,CAAC,iBAAiB,EAAE,CAAC;wBACrD,WAAW,CAAC,YAAY,sBAAG,MAAM,CAAC,YAAY,EAAgB,CAAC;wBAC/D,WAAW,CAAC,YAAY,GAAG,MAAM,CAAC,YAAY,CAAC;wBAC/C,WAAW,CAAC,QAAQ,GAAG,MAAM,CAAC,QAAQ,CAAC;wBACvC,WAAW,CAAC,OAAO,GAAG,MAAM,CAAC,OAAO,CAAC;wBACrC,WAAW,CAAC,OAAO,GAAG,MAAM,CAAC,OAAO,CAAC;wBACrC,WAAW,CAAC,QAAQ,GAAG,MAAM,CAAC,QAAQ,CAAC;wBACvC,WAAW,CAAC,QAAQ,GAAG,MAAM,CAAC,QAAQ,CAAC;wBACvC,WAAW,CAAC,WAAW,GAAG,MAAM,CAAC,WAAW,CAAC;wBAC7C,WAAW,CAAC,SAAS,GAAG,MAAM,CAAC,SAAS,CAAC;wBACzC,WAAW,CAAC,aAAa,GAAG,MAAM,CAAC,aAAa,CAAC;wBACjD,WAAW,CAAC,iBAAiB,GAAG,MAAM,CAAC,iBAAiB,GAAG,MAAM,CAAC,iBAAiB,GAAG,4BAA4B,CAAC;wBACnH,IAAI,MAAM,CAAC,kBAAkB,EAAE;;kCACrB,kBAAkB,GAAG,IAAI,kBAAkB,CAAC,YAAY,CAAC,KAAK,CAAC;4BACrE,kBAAkB,CAAC,IAAI,GAAG,MAAM,CAAC,kBAAkB,CAAC,IAAI,CAAC;4BACzD,kBAAkB,CAAC,OAAO,GAAG,MAAM,CAAC,kBAAkB,CAAC,OAAO,CAAC;4BAC/D,kBAAkB,CAAC,mBAAmB,GAAG,IAAI,KAAK,EAAE,CAAC;4BACrD,IAAI,MAAM,CAAC,kBAAkB,CAAC,mBAAmB,IAAI,MAAM,CAAC,kBAAkB,CAAC,mBAAmB,CAAC,MAAM,GAAG,CAAC,EAAE;gCAC3G,KAAK,MAAM,CAAC,IAAI,MAAM,CAAC,kBAAkB,CAAC,mBAAmB,EAAE;;0CACrD,QAAQ,GAAG,IAAI,kBAAkB,CAAC,YAAY,CAAC,KAAK,CAAC;oCAC3D,QAAQ,CAAC,IAAI,GAAG,CAAC,CAAC,IAAI,CAAC;oCACvB,QAAQ,CAAC,KAAK,GAAG,CAAC,CAAC,KAAK,CAAC;oCACzB,QAAQ,CAAC,GAAG,GAAG,CAAC,CAAC,GAAG,CAAC;oCACrB,kBAAkB,CAAC,mBAAmB,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;iCACzD;6BACJ;4BACD,WAAW,CAAC,kBAAkB,GAAG,kBAAkB,CAAC;yBACvD;wBACD,OAAO,CAAC,gBAAgB,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;qBAC9C;yBAAM,IAAI,CAAC,CAAC,iBAAiB,KAAK,2BAA2B,EAAE;;8BACtD,SAAS,sBAAG,CAAC,EAA6B;;8BAC1C,UAAU,GAAG,IAAI,yBAAyB,CAAC,YAAY,CAAC,KAAK,CAAC;wBACpE,UAAU,CAAC,EAAE,GAAG,CAAC,CAAC,EAAE,CAAC;wBACrB,UAAU,CAAC,YAAY,GAAG,SAAS,CAAC,YAAY,CAAC;wBACjD,UAAU,CAAC,YAAY,GAAG,SAAS,CAAC,YAAY,CAAC;wBACjD,UAAU,CAAC,QAAQ,GAAG,SAAS,CAAC,QAAQ,CAAC;wBACzC,UAAU,CAAC,iBAAiB,GAAG,SAAS,CAAC,iBAAiB,GAAG,SAAS,CAAC,iBAAiB,GAAG,2BAA2B,CAAC;wBACvH,UAAU,CAAC,cAAc,GAAG,SAAS,CAAC,cAAc,CAAC;wBACrD,UAAU,CAAC,OAAO,GAAG,SAAS,CAAC,OAAO,CAAC;wBACvC,OAAO,CAAC,gBAAgB,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;qBAC7C;iBACJ;aACJ;YACD,YAAY,CAAC,gBAAgB,GAAG,OAAO,CAAC;SAC3C;KACJ;;;;;;IAED,kBAAkB,CAAC,YAA0B,EAAE,GAAQ;;cAC7C,YAAY,GAAG,GAAG,CAAC,aAAa;QACtC,IAAI,YAAY,EAAE;YACd,YAAY,CAAC,SAAS,GAAG,YAAY,CAAC,WAAW,CAAC;YAClD,YAAY,CAAC,aAAa,GAAG,YAAY,CAAC,SAAS,CAAC;SACvD;KACJ;;;;;;IAED,sBAAsB,CAAC,YAA0B,EAAE,GAAQ;;YACnD,OAAO,sBAAG,GAAG,CAAC,aAAa,EAAS;QACxC,YAAY,CAAC,gBAAgB,GAAG,IAAI,KAAK,EAAmB,CAAC;QAC7D,IAAI,OAAO,IAAI,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE;YAC/B,KAAK,IAAI,CAAC,IAAI,OAAO,EAAE;;oBACf,MAAM,GAAG,IAAI,eAAe,CAAC,YAAY,CAAC,KAAK,CAAC;gBACpD,MAAM,CAAC,EAAE,GAAG,eAAe,CAAC,iBAAiB,EAAE,CAAC;gBAChD,MAAM,CAAC,IAAI,GAAG,CAAC,CAAC,IAAI,CAAC;gBACrB,MAAM,CAAC,IAAI,GAAG,CAAC,CAAC,IAAI,CAAC;gBACrB,MAAM,CAAC,YAAY,GAAG,CAAC,CAAC,YAAY,CAAC;gBACrC,MAAM,CAAC,gBAAgB,GAAG,EAAE,CAAC;gBAC7B,IAAI,CAAC,CAAC,gBAAgB,IAAI,CAAC,CAAC,gBAAgB,CAAC,MAAM,GAAG,CAAC,EAAE;oBACrD,KAAK,IAAI,CAAC,IAAI,CAAC,CAAC,gBAAgB,EAAE;;4BAC1B,SAAS,GAAG,IAAI,eAAe,CAAC,YAAY,CAAC,KAAK,EAAE,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC,KAAK,EAAE,CAAC,CAAC,SAAS,EAAE,CAAC,CAAC,GAAG,IAAI,YAAY,CAAC;wBAC5G,MAAM,CAAC,gBAAgB,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;qBAC3C;iBACJ;gBAED,YAAY,CAAC,gBAAgB,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;aAC9C;SACJ;KAEJ;;;;;;IAED,sBAAsB,CAAC,YAA0B,EAAE,GAAQ;;cACjD,SAAS,GAAG,YAAY,CAAC,KAAK;;cAC9B,cAAc,GAAG,SAAS,CAAC,cAAc,CAAC,oBAAoB,EAAE;QACtE,IAAI,YAAY,CAAC,gBAAgB,IAAI,YAAY,CAAC,gBAAgB,CAAC,MAAM,GAAG,CAAC,EAAE;YAC3E,KAAK,MAAM,CAAC,IAAI,YAAY,CAAC,gBAAgB,EAAE;gBAC3C,IAAI,CAAC,CAAC,GAAG,KAAK,WAAW,EAAE;;0BACjB,CAAC,GAAG,cAAc,CAAC,SAAS;;;;oBAAC,CAAC,KAAK,CAAC,YAAYA,WAAS,IAAI,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC,KAAK,CAAC,EAAC;oBACrF,cAAc,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;iBAC/B;aACJ;SACJ;QACD,YAAY,CAAC,gBAAgB,GAAG,IAAI,KAAK,EAAE,CAAC;;cAEtC,SAAS,sBAAG,GAAG,CAAC,aAAa,EAAS;QAC5C,IAAI,SAAS,IAAI,SAAS,CAAC,MAAM,GAAG,CAAC,EAAE;YACnC,KAAK,MAAM,CAAC,IAAI,SAAS,EAAE;;sBACjB,eAAe,GAAG,IAAI,eAAe,CAAC,SAAS,CAAC;gBACtD,eAAe,CAAC,YAAY,GAAG,CAAC,CAAC,YAAY,CAAC;gBAC9C,eAAe,CAAC,YAAY,GAAG,CAAC,CAAC,YAAY,CAAC;gBAC9C,eAAe,CAAC,GAAG,GAAG,CAAC,CAAC,GAAG,CAAC;gBAC5B,eAAe,CAAC,aAAa,GAAG,CAAC,CAAC,aAAa,CAAC;gBAChD,eAAe,CAAC,KAAK,GAAG,CAAC,CAAC,KAAK,CAAC;gBAChC,eAAe,CAAC,SAAS,GAAG,CAAC,CAAC,SAAS,CAAC;gBAExC,YAAY,CAAC,gBAAgB,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;gBACpD,IAAI,eAAe,CAAC,GAAG,KAAK,WAAW,EAAE;;0BAC/B,CAAC,GAAG,CAAC,CAAC,SAAS;oBACrB,IAAI,CAAC,EAAE;;4BACC,GAAG,GAAG,IAAIA,WAAS,CAAC,SAAS,CAAC;wBAClC,GAAG,CAAC,UAAU,GAAG,CAAC,CAAC,UAAU,CAAC;wBAC9B,GAAG,CAAC,UAAU,GAAG,CAAC,CAAC,UAAU,CAAC;wBAC9B,GAAG,CAAC,EAAE,GAAG,CAAC,CAAC,EAAE,CAAC;wBACd,GAAG,CAAC,IAAI,GAAG,CAAC,CAAC,IAAI,CAAC;wBAClB,GAAG,CAAC,gBAAgB,GAAG,IAAI,KAAK,EAAE,CAAC;wBACnC,IAAI,CAAC,CAAC,gBAAgB,IAAI,CAAC,CAAC,gBAAgB,CAAC,MAAM,GAAG,CAAC,EAAE;4BACrD,KAAK,IAAI,CAAC,IAAI,CAAC,CAAC,gBAAgB,EAAE;;oCAC1B,SAAS,GAAG,IAAI,eAAe,CAAC,SAAS,EAAE,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC,KAAK,CAAC;gCAC/D,SAAS,CAAC,GAAG,GAAG,CAAC,CAAC,GAAG,CAAC;gCACtB,GAAG,CAAC,gBAAgB,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;6BACxC;yBACJ;wBAED,cAAc,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;qBAC5B;iBACJ;aACJ;SACJ;KACJ;;;;;;IAED,mBAAmB,CAAC,YAA0B,EAAE,GAAQ;;YAChD,QAAQ,sBAAG,GAAG,CAAC,aAAa,EAAO;QACvC,IAAI,YAAY,CAAC,aAAa,EAAE;YAC5B,YAAY,CAAC,aAAa,GAAG,IAAI,aAAa,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC;SACtE;QACD,IAAI,QAAQ,IAAI,QAAQ,CAAC,cAAc,EAAE;;kBAC/B,aAAa,GAAG,IAAI,aAAa,CAAC,YAAY,CAAC,KAAK,CAAC;YAC3D,aAAa,CAAC,cAAc,GAAG,QAAQ,CAAC,cAAc,CAAC;YACvD,YAAY,CAAC,aAAa,GAAG,aAAa,CAAC;SAC9C;KACJ;;;;;;;IAED,qBAAqB,CAAC,YAA0B,EAAE,GAAQ,EAAE,WAAW,GAAG,KAAK;;cACrE,eAAe,sBAAG,GAAG,CAAC,aAAa,EAAc;QACvD,YAAY,CAAC,eAAe,GAAG,IAAI,KAAK,EAAE,CAAC;QAC3C,KAAK,MAAM,CAAC,IAAI,eAAe,EAAE;YAC7B,IAAI,CAAC,CAAC,KAAK,EAAE;;sBACH,SAAS,GAAG,IAAI,cAAc,CAAC,YAAY,CAAC,KAAK,CAAC;gBACxD,SAAS,CAAC,KAAK,GAAG,CAAC,CAAC,KAAK,CAAC;gBAC1B,SAAS,CAAC,SAAS,GAAG,CAAC,CAAC,SAAS,CAAC;gBAClC,SAAS,CAAC,SAAS,GAAG,IAAI,GAAG,EAAkB,CAAC;gBAChD,IAAI,CAAC,CAAC,SAAS,EAAE;oBACb,KAAK,IAAI,GAAG,IAAI,CAAC,CAAC,SAAS,EAAE;wBACzB,SAAS,CAAC,SAAS,CAAC,GAAG,CAAC,GAAG,EAAE,CAAC,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,CAAC;qBAClD;iBACJ;gBACD,YAAY,CAAC,eAAe,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;aAChD;SACJ;KACJ;;;;;;IAED,sBAAsB,CAAC,YAA0B,EAAE,GAAQ;;cACjD,IAAI,GAAY,GAAG,CAAC,aAAa;QACvC,IAAI,IAAI,EAAE;;;;YAIN,YAAY,CAAC,gBAAgB,GAAG,IAAI,gBAAgB,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC;SAC5E;aAAM;YACH,YAAY,CAAC,gBAAgB,GAAG,IAAI,CAAC;SACxC;KACJ;;;;;;IAED,2BAA2B,CAAC,YAA0B,EAAE,GAAQ;;cACtD,IAAI,GAAS,GAAG,CAAC,aAAa;QACpC,IAAI,IAAI,IAAI,IAAI,CAAC,MAAM,GAAG,CAAC,EAAE;YACzB,IAAI,OAAO,IAAI,CAAC,CAAC,CAAC,KAAK,QAAQ,EAAE;gBAC7B,YAAY,CAAC,gBAAgB,CAAC,4BAA4B,GAAG,IAAI,KAAK,EAA+B,CAAC;gBACtG,IAAI,CAAC,OAAO;;;;gBAAC,CAAC;;wBACN,KAAK,GAAG,IAAI,2BAA2B,CAAC,YAAY,CAAC,KAAK,CAAC;oBAC/D,KAAK,CAAC,oBAAoB,GAAG,CAAC,CAAC;oBAC/B,KAAK,CAAC,QAAQ,GAAG,KAAK,CAAC;oBACvB,KAAK,CAAC,SAAS,GAAG,IAAI,SAAS,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC;oBACpD,YAAY,CAAC,gBAAgB,CAAC,4BAA4B,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;iBAC1E,EAAC,CAAC;aACN;iBAAM;gBACH,YAAY,CAAC,gBAAgB,CAAC,4BAA4B,GAAG,IAAI,KAAK,EAA+B,CAAC;gBACtG,IAAI,CAAC,OAAO;;;;gBAAC,CAAC;;wBACN,KAAK,GAAG,IAAI,2BAA2B,CAAC,YAAY,CAAC,KAAK,CAAC;oBAC/D,KAAK,CAAC,oBAAoB,GAAG,CAAC,CAAC,oBAAoB,CAAC;oBACpD,KAAK,CAAC,QAAQ,GAAG,CAAC,CAAC,QAAQ,CAAC;oBAC5B,KAAK,CAAC,SAAS,GAAG,IAAI,SAAS,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC;oBACpD,KAAK,CAAC,SAAS,CAAC,KAAK,GAAG,CAAC,CAAC,SAAS,CAAC,KAAK,CAAC;oBAC1C,YAAY,CAAC,gBAAgB,CAAC,4BAA4B,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;iBAC1E,EAAC,CAAC;aACN;;SAEJ;aAAM;YACH,YAAY,CAAC,gBAAgB,CAAC,4BAA4B,GAAG,IAAI,KAAK,EAAE,CAAC;SAC5E;KACJ;;;;;;IAED,oBAAoB,CAAC,YAA0B,EAAE,GAAQ;;YACjD,OAAO,sBAAG,GAAG,CAAC,aAAa,EAAS;QACxC,YAAY,CAAC,cAAc,GAAG,IAAI,KAAK,EAAE,CAAC;QAC1C,IAAI,OAAO,IAAI,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE;YAC/B,KAAK,IAAI,CAAC,IAAI,OAAO,EAAE;;sBACb,aAAa,GAAG,IAAI,aAAa,CAAC,YAAY,CAAC,KAAK,CAAC;gBAC3D,aAAa,CAAC,QAAQ,GAAG,CAAC,CAAC,QAAQ,CAAC;gBACpC,aAAa,CAAC,QAAQ,GAAG,CAAC,CAAC,QAAQ,CAAC;gBACpC,aAAa,CAAC,OAAO,GAAG,CAAC,CAAC,OAAO,CAAC;gBAClC,aAAa,CAAC,OAAO,GAAG,CAAC,CAAC,OAAO,CAAC;gBAClC,CAAC,CAAC,SAAS,GAAG,CAAC,CAAC,SAAS,CAAC,MAAM;;;;gBAAC,CAAC,CAAM,KAAK,CAAC,CAAC,IAAI,EAAC,CAAC;gBACrD,IAAI,CAAC,CAAC,SAAS,IAAI,CAAC,CAAC,SAAS,CAAC,MAAM,GAAG,CAAC,EAAE;;0BACjC,SAAS,GAAG,CAAC,CAAC,SAAS,CAAC,MAAM;;;;oBAAC,CAAC,CAAM,KAAK,CAAC,CAAC,IAAI,KAAK,iBAAiB;4BACrE,CAAC,CAAC,IAAI,KAAK,oBAAoB,IAAI,CAAC,CAAC,kBAAkB,KAAK,6BAA6B,CAAC,EAAC;;0BAC7F,YAAY,GAAG,CAAC,CAAC,SAAS,CAAC,MAAM;;;;oBAAC,CAAC,CAAM,KAAK,CAAC,CAAC,IAAI,KAAK,qBAAqB,IAAI,CAAC,CAAC,IAAI,KAAK,qBAAqB;4BAChH,CAAC,CAAC,IAAI,KAAK,oBAAoB,IAAI,CAAC,CAAC,kBAAkB,KAAK,6BAA6B,CAAC,EAAC;oBACnG,IAAI,SAAS,IAAI,SAAS,CAAC,MAAM,GAAG,CAAC,EAAE;;4BAC/B,QAAQ,GAAG,EAAE;;4BACb,YAAY,GAAG,EAAE;wBACrB,KAAK,MAAM,CAAC,IAAI,SAAS,EAAE;4BACvB,IAAI,CAAC,CAAC,IAAI,KAAK,oBAAoB,EAAE;gCACjC,QAAQ,KAAK,CAAC,CAAC,kBAAkB,GAAG,GAAG,CAAC,CAAC;gCACzC,IAAI,CAAC,CAAC,kBAAkB,KAAK,iBAAiB,EAAE;oCAC5C,YAAY,IAAI,QAAQ,CAAA;iCAC3B;qCAAM,IAAI,CAAC,CAAC,kBAAkB,KAAK,qBAAqB,EAAE;oCACvD,YAAY,IAAI,QAAQ,CAAA;iCAC3B;6BACJ;iCAAM,IAAI,CAAC,CAAC,IAAI,KAAK,iBAAiB,EAAE;gCACrC,QAAQ,KAAK,CAAC,CAAC,OAAO,GAAG,GAAG,CAAC,CAAC;gCAC9B,YAAY,KAAK,CAAC,CAAC,SAAS,GAAG,GAAG,CAAC,CAAC;6BACvC;yBACJ;wBACD,IAAI,QAAQ,EAAE;4BACV,QAAQ,GAAG,QAAQ,CAAC,SAAS,CAAC,CAAC,EAAE,QAAQ,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;yBACzD;wBACD,IAAI,YAAY,EAAE;4BACd,YAAY,GAAG,YAAY,CAAC,SAAS,CAAC,CAAC,EAAE,YAAY,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;yBACrE;wBACD,aAAa,CAAC,QAAQ,GAAG,QAAQ,CAAC;wBAClC,aAAa,CAAC,YAAY,GAAG,YAAY,CAAC;qBAC7C;oBACD,IAAI,YAAY,IAAI,YAAY,CAAC,MAAM,GAAG,CAAC,EAAE;;8BACnC,mBAAmB,GAAG,IAAI,KAAK,EAAyB;wBAC9D,KAAK,MAAM,CAAC,IAAI,YAAY,EAAE;4BAC1B,IAAI,CAAC,CAAC,IAAI,KAAK,oBAAoB,EAAE;;oCAC7B,gBAAgB,GAAG,IAAI,qCAAqC,CAAC,YAAY,CAAC,KAAK,CAAC;gCACpF,gBAAgB,CAAC,EAAE,GAAG,eAAe,CAAC,iBAAiB,EAAE,CAAC;gCAC1D,gBAAgB,CAAC,aAAa,GAAG,CAAC,CAAC,aAAa,CAAC;gCACjD,gBAAgB,CAAC,eAAe,GAAG,CAAC,CAAC,eAAe,CAAC;gCACrD,mBAAmB,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC;6BAC9C;4BACD,IAAI,CAAC,CAAC,IAAI,KAAK,qBAAqB,EAAE;;oCAC9B,mBAAmB,GAAG,IAAI,yBAAyB,CAAC,YAAY,CAAC,KAAK,EAAE,CAAC,CAAC,mBAAmB,EAAE,CAAC,CAAC,YAAY,EAAE,CAAC,CAAC,OAAO,CAAC;gCAC7H,mBAAmB,CAAC,EAAE,GAAG,eAAe,CAAC,iBAAiB,EAAE,CAAC;gCAC7D,mBAAmB,CAAC,GAAG,GAAG,YAAY,CAAC;gCACvC,mBAAmB,CAAC,OAAO,GAAG,CAAC,CAAC,OAAO,CAAC;gCACxC,mBAAmB,CAAC,IAAI,CAAC,mBAAmB,CAAC,CAAC;6BACjD;4BACD,IAAI,CAAC,CAAC,IAAI,KAAK,qBAAqB,EAAE;;oCAC9B,eAAe,GAAG,IAAI,6BAA6B,CAAC,YAAY,CAAC,KAAK,EAAE,CAAC,CAAC,UAAU,EAAE,CAAC,CAAC,YAAY,CAAC;gCACzG,eAAe,CAAC,EAAE,GAAG,eAAe,CAAC,iBAAiB,EAAE,CAAC;gCACzD,eAAe,CAAC,YAAY,GAAG,CAAC,CAAC,YAAY,CAAC;gCAC9C,IAAI,CAAC,CAAC,YAAY,KAAK,GAAG,EAAE;oCACxB,eAAe,CAAC,KAAK,GAAG,CAAC,CAAC,KAAK,CAAC;oCAChC,eAAe,CAAC,OAAO,GAAG,CAAC,CAAC,OAAO,CAAC;iCACvC;gCACD,mBAAmB,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;6BAC7C;yBACJ;wBACD,aAAa,CAAC,mBAAmB,GAAG,mBAAmB,CAAC;qBAC3D;iBACJ;gBAED,IAAI,CAAC,CAAC,kBAAkB,EAAE;;0BAChB,kBAAkB,GAAG,IAAI,kBAAkB,CAAC,YAAY,CAAC,KAAK,CAAC;oBACrE,kBAAkB,CAAC,IAAI,GAAG,CAAC,CAAC,kBAAkB,CAAC,IAAI,CAAC;oBACpD,kBAAkB,CAAC,OAAO,GAAG,CAAC,CAAC,kBAAkB,CAAC,OAAO,CAAC;oBAC1D,kBAAkB,CAAC,mBAAmB,GAAG,IAAI,KAAK,EAAE,CAAC;oBACrD,IAAI,CAAC,CAAC,kBAAkB,CAAC,mBAAmB,IAAI,CAAC,CAAC,kBAAkB,CAAC,mBAAmB,CAAC,MAAM,GAAG,CAAC,EAAE;wBACjG,KAAK,MAAM,CAAC,IAAI,CAAC,CAAC,kBAAkB,CAAC,mBAAmB,EAAE;;kCAChD,QAAQ,GAAG,IAAI,kBAAkB,CAAC,YAAY,CAAC,KAAK,CAAC;4BAC3D,QAAQ,CAAC,IAAI,GAAG,CAAC,CAAC,IAAI,CAAC;4BACvB,QAAQ,CAAC,KAAK,GAAG,CAAC,CAAC,KAAK,CAAC;4BACzB,QAAQ,CAAC,GAAG,GAAG,CAAC,CAAC,GAAG,CAAC;4BACrB,kBAAkB,CAAC,mBAAmB,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;yBACzD;qBACJ;oBACD,aAAa,CAAC,kBAAkB,GAAG,kBAAkB,CAAC;iBACzD;gBAED,YAAY,CAAC,cAAc,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;aACnD;SACJ;KAEJ;;;;;;IAED,yBAAyB,CAAC,YAA0B,EAAE,GAAQ;;YACtD,MAAM,GAAG,GAAG,CAAC,aAAa;;cACxB,mBAAmB,GAAG,IAAI,mBAAmB,CAAC,YAAY,CAAC,KAAK,CAAC;QACvE,mBAAmB,CAAC,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC;QAC3C,mBAAmB,CAAC,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC;QAC3C,mBAAmB,CAAC,KAAK,GAAG,MAAM,CAAC,KAAK,CAAC;QACzC,mBAAmB,CAAC,cAAc,GAAG,IAAI,KAAK,EAAE,CAAC;QACjD,IAAI,MAAM,CAAC,cAAc,IAAI,MAAM,CAAC,cAAc,CAAC,MAAM,GAAG,CAAC,EAAE;YAC3D,KAAK,MAAM,CAAC,IAAI,MAAM,CAAC,cAAc,EAAE;;sBAC7B,aAAa,GAAG,IAAI,aAAa,CAAC,YAAY,CAAC,KAAK,CAAC;gBAC3D,aAAa,CAAC,IAAI,GAAG,CAAC,CAAC,IAAI,CAAC;gBAC5B,aAAa,CAAC,KAAK,GAAG,CAAC,CAAC,KAAK,CAAC;gBAC9B,aAAa,CAAC,WAAW,GAAG,CAAC,CAAC,WAAW,CAAC;gBAC1C,IAAI,CAAC,CAAC,SAAS,EAAE;;0BACP,SAAS,GAAG,IAAI,SAAS,CAAC,YAAY,CAAC,KAAK,CAAC;oBACnD,SAAS,CAAC,KAAK,GAAG,CAAC,CAAC,SAAS,CAAC;oBAC9B,aAAa,CAAC,SAAS,GAAG,SAAS,CAAC;iBACvC;gBACD,mBAAmB,CAAC,cAAc,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;aAC1D;SACJ;QACD,YAAY,CAAC,mBAAmB,GAAG,mBAAmB,CAAC;KAC1D;;;;;;IAED,oBAAoB,CAAC,YAA0B,EAAE,GAAQ;;cAC/C,IAAI,GAAG,GAAG,CAAC,aAAa;;cACxB,cAAc,GAAG,IAAI,cAAc,CAAC,YAAY,CAAC,KAAK,CAAC;QAC7D,cAAc,CAAC,cAAc,GAAG,IAAI,CAAC,cAAc,CAAC;QACpD,cAAc,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC;QACxC,cAAc,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC;QAC1C,cAAc,CAAC,YAAY,GAAG,IAAI,CAAC,YAAY,CAAC;QAChD,cAAc,CAAC,kBAAkB,GAAG,IAAI,CAAC,kBAAkB,CAAC;QAC5D,cAAc,CAAC,kBAAkB,GAAG,IAAI,CAAC,kBAAkB,CAAC;QAC5D,cAAc,CAAC,WAAW,GAAG,IAAI,CAAC,WAAW,CAAC;QAC9C,cAAc,CAAC,eAAe,GAAG,IAAI,CAAC,eAAe,CAAC;QACtD,cAAc,CAAC,eAAe,GAAG,IAAI,CAAC,eAAe,CAAC;QAEtD,IAAI,IAAI,CAAC,kBAAkB,EAAE;;kBACnB,kBAAkB,GAAG,IAAI,kBAAkB,CAAC,YAAY,CAAC,KAAK,CAAC;YACrE,kBAAkB,CAAC,IAAI,GAAG,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC;YACvD,kBAAkB,CAAC,OAAO,GAAG,IAAI,CAAC,kBAAkB,CAAC,OAAO,CAAC;YAC7D,kBAAkB,CAAC,mBAAmB,GAAG,IAAI,KAAK,EAAE,CAAC;YACrD,IAAI,IAAI,CAAC,kBAAkB,CAAC,mBAAmB,IAAI,IAAI,CAAC,kBAAkB,CAAC,mBAAmB,CAAC,MAAM,GAAG,CAAC,EAAE;gBACvG,KAAK,MAAM,CAAC,IAAI,IAAI,CAAC,kBAAkB,CAAC,mBAAmB,EAAE;;0BACnD,QAAQ,GAAG,IAAI,kBAAkB,CAAC,YAAY,CAAC,KAAK,CAAC;oBAC3D,QAAQ,CAAC,IAAI,GAAG,CAAC,CAAC,IAAI,CAAC;oBACvB,QAAQ,CAAC,KAAK,GAAG,CAAC,CAAC,KAAK,CAAC;oBACzB,QAAQ,CAAC,GAAG,GAAG,CAAC,CAAC,GAAG,CAAC;oBACrB,kBAAkB,CAAC,mBAAmB,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;iBACzD;aACJ;YACD,cAAc,CAAC,kBAAkB,GAAG,kBAAkB,CAAC;SAC1D;QAED,YAAY,CAAC,cAAc,GAAG,cAAc,CAAC;KAChD;;;;;;IAOD,wBAAwB,CAAC,GAAa;;cAC5B,SAAS,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK;QACxC,IAAI,GAAG,IAAI,GAAG,CAAC,MAAM,GAAG,CAAC,EAAE;;kBACjB,aAAa,GAAG,SAAS,CAAC,cAAc,CAAC,eAAe,EAAE;;gBAC5D,OAAO,GAAG,EAAE;YAChB,KAAK,IAAI,GAAG,IAAI,aAAa,EAAE;gBAC3B,IAAI,aAAa,CAAC,GAAG,CAAC,YAAY,YAAY,EAAE;;0BACtC,OAAO,sBAAG,aAAa,CAAC,GAAG,CAAC,EAAgB;oBAClD,IAAI,OAAO,CAAC,kBAAkB,IAAI,OAAO,CAAC,kBAAkB,CAAC,MAAM,GAAG,CAAC,IAAI,OAAO,CAAC,kBAAkB,CAAC,CAAC,CAAC,CAAC,UAAU,EAAE;wBACjH,OAAO,KAAK,OAAO,CAAC,kBAAkB,CAAC,CAAC,CAAC,CAAC,UAAU,GAAG,GAAG,CAAC,CAAC;qBAC/D;iBACJ;aACJ;;kBACK,SAAS,GAAG,GAAG,CAAC,MAAM;;;;YAAC,EAAE,IAAI,OAAO,CAAC,OAAO,CAAC,EAAE,CAAC,GAAG,CAAC,EAAC;YAC3D,SAAS,CAAC,OAAO;;;;YAAC,IAAI;gBAClB,SAAS,CAAC,cAAc,CAAC,kBAAkB,CAAC,IAAI,CAAC,CAAC;aACrD,EAAC,CAAC;SACN;KACJ;;;;;;;IAOD,mBAAmB,CAAC,YAA0B,EAAE,GAAQ;QACpD,IAAI,YAAY,EAAE;;gBACV,UAAU,sBAAG,GAAG,CAAC,aAAa,EAAO;YACzC,IAAI,CAAC,YAAY,CAAC,gBAAgB,EAAE;gBAChC,YAAY,CAAC,gBAAgB,GAAG,IAAI,KAAK,EAAkB,CAAC;aAC/D;YACD,KAAK,MAAM,CAAC,IAAI,GAAG,CAAC,aAAa,EAAE;;sBACzB,KAAK,GAAG,YAAY,CAAC,gBAAgB,CAAC,SAAS;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,GAAG,KAAK,CAAC,CAAC,IAAI,EAAC;gBAC5E,IAAI,KAAK,GAAG,CAAC,CAAC,EAAE;oBACZ,YAAY,CAAC,gBAAgB,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;iBAClD;aACJ;YACD,IAAI,UAAU,EAAE;gBACZ,UAAU,CAAC,OAAO;;;;gBAAC,CAAC,CAAM;;wBAClB,IAAI,GAAG,IAAI,cAAc,CAAC,YAAY,CAAC,KAAK,CAAC;oBACjD,IAAI,CAAC,GAAG,GAAG,CAAC,CAAC,IAAI,CAAC;oBAClB,IAAI,CAAC,KAAK,GAAG,CAAC,CAAC,KAAK,CAAC;oBACrB,YAAY,CAAC,gBAAgB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;iBAC5C,EAAC,CAAC;aACN;SACJ;KACJ;;AAn2EM,4BAAW,GAAW,YAAY,CAAC,WAAW,CAAC;;;;;;ACjC1D;;;AAQA,MAAa,qBAAsB,SAAQ,gBAAgB;;;;;;IAgBvD,YAAY,KAAW,EAAE,QAA+B,EAAE,KAAc;QACpE,KAAK,CAAC,KAAK,EAAE,QAAQ,EAAE,KAAK,CAAC,CAAC;QAhBlC,cAAS,GAAW,qBAAqB,CAAC,WAAW,CAAC;QACtD,SAAI,GAAW,MAAM,CAAC;QACtB,iBAAY,GAAgC;YAC1C,QAAQ,EAAE,MAAM;YAChB,QAAQ,EAAE,MAAM;YAChB,IAAI,EAAE,WAAW;SACpB,CAAC;QAIA,YAAO,GAAG;YACN,CAAC,aAAa,CAAC,OAAO,GAAG,WAAW,CAAC,UAAU,GAAG,kBAAkB;YACpE,CAAC,aAAa,CAAC,QAAQ,GAAG,WAAW,CAAC,UAAU,GAAG,yBAAyB;SAC/E,CAAC;KAID;;;;;IAED,iBAAiB,CAAC,OAA2B;;cACnC,QAAQ,sBAAG,KAAK,CAAC,iBAAiB,CAAC,OAAO,CAAC,EAAqB;QACtE,OAAO,QAAQ,CAAC;KACnB;;;;IAED,mBAAmB;QACf,OAAO,IAAI,CAAC,gCAAgC,CAAC,IAAI,CAAC,CAAC;KACtD;;;;;IAED,WAAW,CAAC,GAAQ;QAChB,IAAI,CAAC,wBAAwB,CAAC,GAAG,EAAE,IAAI,CAAC,CAAC;KAC5C;;AAvBM,iCAAW,GAAW,iBAAiB,CAAC,WAAW,CAAC;;;;;;;;ICjB3D,IAAK,IAAI;IACT,MAAO,MAAM;IACb,cAAe,cAAc;IAC7B,WAAY,WAAW;;;;IAIvB,kBAAmB,kBAAkB;;;;IAIrC,WAAY,WAAW;IACvB,cAAe,cAAc;IAC7B,oBAAqB,oBAAoB;IACzC,wBAAyB,wBAAwB;IACjD,kBAAmB,kBAAkB;IACrC,uBAAwB,uBAAuB;IAC/C,8BAA+B,8BAA8B;IAC7D,gBAAiB,gBAAgB;;;;;;;ACnBrC;;;AAYA,MAAa,iBAAkB,SAAQ,QAAQ;;;;;;IAiB3C,YAAY,KAAW,EAAE,QAA+B,EAAE,KAAc;QACpE,KAAK,CAAC,KAAK,EAAE,QAAQ,EAAE,KAAK,CAAC,CAAC;QAjBlC,cAAS,GAAW,iBAAiB,CAAC,WAAW,CAAC;QAClD,SAAI,GAAW,IAAI,CAAC;QACpB,iBAAY,GAAgC;YAC1C,QAAQ,EAAE,IAAI;YACd,QAAQ,EAAE,IAAI;YACd,IAAI,EAAE,OAAO;SAChB,CAAC;QAKA,YAAO,GAAG;YACN,CAAC,aAAa,CAAC,OAAO,GAAG,WAAW,CAAC,UAAU,GAAG,YAAY;YAC9D,CAAC,aAAa,CAAC,QAAQ,GAAG,WAAW,CAAC,UAAU,GAAG,mBAAmB;SACzE,CAAC;KAID;;;;;IAED,iBAAiB,CAAC,OAAuB;;cAC/B,QAAQ,sBAAG,KAAK,CAAC,iBAAiB,CAAC,OAAO,CAAC,EAAiB;;cAC5D,QAAQ,GAAG,IAAI,CAAC,QAAQ;QAC9B,QAAQ,CAAC,EAAE,GAAG,eAAe,GAAG,eAAe,CAAC,iBAAiB,EAAE,CAAC;;QAEpE,IAAI,OAAO,IAAI,IAAI,EAAE;;YAEjB,IAAI,QAAQ,IAAI,QAAQ,CAAC,WAAW,EAAE;;sBAC5B,WAAW,GAAG,QAAQ,CAAC,WAAW;;sBAClC,kBAAkB,GAAG,IAAI,KAAK,EAAE;;sBAChC,MAAM,GAAG,WAAW,CAAC,MAAM;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,QAAQ,KAAK,IAAI,IAAI,CAAC,CAAC,MAAM,KAAK,CAAC,EAAC,CAAC,CAAC,CAAC;gBAChF,IAAI,MAAM,EAAE;oBACR,kBAAkB,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;iBACnC;;sBACK,UAAU,GAAG,WAAW,CAAC,MAAM;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,QAAQ,KAAK,QAAQ,IAAI,CAAC,CAAC,MAAM,KAAK,CAAC,EAAC,CAAC,CAAC,CAAC;gBACxF,IAAI,UAAU,EAAE;oBACZ,kBAAkB,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;iBACvC;gBAED,IAAI,kBAAkB,IAAI,kBAAkB,CAAC,MAAM,GAAG,CAAC,EAAE;oBACrD,QAAQ,CAAC,eAAe,CAAC,kBAAkB,CAAC,CAAC;iBAChD;aACJ;SACJ;QAED,OAAO,QAAQ,CAAC;KACnB;;;;IAED,mBAAmB;;cACT,QAAQ,GAAG,IAAI,CAAC,QAAQ;;cACxB,GAAG,sBAAG,IAAI,CAAC,WAAW,EAAiB;;YACzC,UAAU,GAAG,EAAE;QACnB,IAAI,QAAQ,CAAC,YAAY,IAAI,QAAQ,CAAC,YAAY,CAAC,MAAM,GAAG,CAAC,EAAE;YAC3D,UAAU,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,YAAY,CAAC,CAAC,CAAC,IAAI;;;;;YAAC,CAAC,CAAC,EAAE,CAAC;gBACrE,OAAO,CAAC,CAAC,SAAS,GAAG,CAAC,CAAC,SAAS,CAAC;aACpC,EAAC,CAAC;SACN;QACD,UAAU,GAAG,UAAU,CAAC,IAAI;;;;;QAAC,CAAC,CAAC,EAAE,CAAC;YAC9B,OAAO,CAAC,CAAC,SAAS,GAAG,CAAC,CAAC,SAAS,CAAC;SACpC,EAAC,CAAA;;YAEE,cAAc,GAA0B,IAAI,qBAAqB,EAAE;;YACnE,YAAY,GAAQ,IAAI,MAAM,EAAE;QACpC,cAAc,CAAC,UAAU,GAAG,SAAS,CAAC;QACtC,cAAc,CAAC,YAAY,GAAG,WAAW,CAAC,GAAG,CAAC,kBAAkB,CAAC,CAAC;QAClE,cAAc,CAAC,KAAK,GAAG,OAAO,CAAC;QAC/B,cAAc,CAAC,OAAO,GAAG,WAAW,CAAC,GAAG,CAAC,iBAAiB,CAAC,CAAC;QAC5D,cAAc,CAAC,UAAU,GAAG;YACxB,EAAE,UAAU,EAAE,yBAAyB,CAAC,IAAI,EAAE,YAAY,EAAE,WAAW,CAAC,GAAG,CAAC,MAAM,CAAC,EAAE,YAAY,EAAE,QAAQ,EAAE,OAAO,EAAE,CAAC,IAAI,CAAC,QAAQ,CAAC,gBAAgB,EAAE;YACvJ,EAAE,UAAU,EAAE,yBAAyB,CAAC,YAAY,EAAE,YAAY,EAAE,WAAW,CAAC,GAAG,CAAC,cAAc,CAAC,EAAE,YAAY,EAAE,eAAe,EAAE,OAAO,EAAE,IAAI,CAAC,QAAQ,CAAC,gBAAgB,EAAE;YAC7K,EAAE,UAAU,EAAE,yBAAyB,CAAC,EAAE,EAAE,YAAY,EAAE,WAAW,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,YAAY,EAAE,QAAQ,EAAE,QAAQ,EAAE,IAAI,EAAE;SAC5H,CAAC;;YAEE,OAAO,GAAG,IAAI,qBAAqB,EAAE;QACzC,OAAO,CAAC,UAAU,GAAG,SAAS,CAAC;QAC/B,OAAO,CAAC,YAAY,GAAG,WAAW,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;QAClD,OAAO,CAAC,KAAK,GAAG,OAAO,CAAC;QACxB,OAAO,CAAC,OAAO,GAAG,WAAW,CAAC,GAAG,CAAC,iBAAiB,CAAC,CAAC;QACrD,OAAO,CAAC,UAAU,GAAG;YACjB,EAAE,UAAU,EAAE,yBAAyB,CAAC,kBAAkB,EAAE,YAAY,EAAE,WAAW,CAAC,GAAG,CAAC,QAAQ,CAAC,EAAE,YAAY,EAAE,OAAO,EAAE;YAC5H,EAAE,UAAU,EAAE,yBAAyB,CAAC,sBAAsB,EAAE,YAAY,EAAE,WAAW,CAAC,GAAG,CAAC,SAAS,CAAC,EAAE,YAAY,EAAE,OAAO,EAAE;SACpI,CAAC;;YAEE,cAAc,GAA0B,IAAI,qBAAqB,EAAE;QACvE,cAAc,CAAC,UAAU,GAAG,gBAAgB,CAAC;QAC7C,cAAc,CAAC,YAAY,GAAG,WAAW,CAAC,GAAG,CAAC,kBAAkB,CAAC,CAAC;QAClE,cAAc,CAAC,KAAK,GAAG,OAAO,CAAC;QAC/B,cAAc,CAAC,OAAO,GAAG,WAAW,CAAC,GAAG,CAAC,iBAAiB,CAAC,CAAC;QAC5D,cAAc,CAAC,UAAU,GAAG;;YAExB,EAAE,UAAU,EAAE,gBAAgB,EAAE,YAAY,EAAE,WAAW,CAAC,GAAG,CAAC,gBAAgB,CAAC,EAAE,YAAY,EAAE,QAAQ,EAAE;SAC5G,CAAC;QAEF,IAAI,GAAG,CAAC,gBAAgB,EAAE;YACtB,cAAc,CAAC,UAAU,GAAG,cAAc,CAAC,UAAU,CAAC,MAAM,CAAC;gBACzD,EAAE,UAAU,EAAE,yBAAyB,CAAC,gBAAgB,EAAE,YAAY,EAAE,WAAW,CAAC,GAAG,CAAC,kBAAkB,CAAC,EAAE,YAAY,EAAE,QAAQ,EAAE;gBACrI,EAAE,UAAU,EAAE,yBAAyB,CAAC,SAAS,EAAE,YAAY,EAAE,WAAW,CAAC,GAAG,CAAC,WAAW,CAAC,EAAE,YAAY,EAAE,OAAO,EAAE;aAAC,CAAC,CAAC;YAC7H,YAAY,CAAC,gBAAgB,GAAG,GAAG,CAAC,gBAAgB,IAAI,KAAK,CAAC;YAC9D,YAAY,CAAC,SAAS,GAAG,GAAG,CAAC,SAAS,CAAC;SAC1C;aAAM;YACH,cAAc,CAAC,UAAU,GAAG,cAAc,CAAC,UAAU,CAAC,MAAM,CAAC;gBACzD,EAAE,UAAU,EAAE,yBAAyB,CAAC,gBAAgB,EAAE,YAAY,EAAE,WAAW,CAAC,GAAG,CAAC,kBAAkB,CAAC,EAAE,YAAY,EAAE,QAAQ,EAAE;aAAC,CAAC,CAAC;YAC5I,YAAY,CAAC,gBAAgB,GAAG,GAAG,CAAC,gBAAgB,IAAI,KAAK,CAAC;SACjE;QAED,IAAI,GAAG,CAAC,gBAAgB,EAAE;YACtB,cAAc,CAAC,UAAU,GAAG,cAAc,CAAC,UAAU,CAAC,MAAM,CAAC;gBACzD,EAAE,UAAU,EAAE,yBAAyB,CAAC,gBAAgB,EAAE,YAAY,EAAE,WAAW,CAAC,GAAG,CAAC,kBAAkB,CAAC,EAAE,YAAY,EAAE,QAAQ,EAAE;;gBAErI,EAAE,UAAU,EAAE,yBAAyB,CAAC,4BAA4B,EAAE,YAAY,EAAE,WAAW,CAAC,GAAG,CAAC,8BAA8B,CAAC,EAAE,YAAY,EAAE,OAAO,EAAE;aAC/J,CAAC,CAAC;YACH,YAAY,CAAC,yBAAyB,CAAC,gBAAgB,CAAC,GAAG,IAAI,CAAC;;YAEhE,YAAY,CAAC,yBAAyB,CAAC,4BAA4B,CAAC,GAAG,GAAG,CAAC,gBAAgB,CAAC,qBAAqB,IAAI,GAAG,CAAC,gBAAgB,CAAC,4BAA4B,CAAC;YACvK,IAAG,GAAG,CAAC,gBAAgB,CAAC,qBAAqB,EAAC;gBAC1C,GAAG,CAAC,gBAAgB,CAAC,qBAAqB,GAAG,IAAI,CAAC;aACrD;SAEJ;aAAM;YACH,cAAc,CAAC,UAAU,GAAG,cAAc,CAAC,UAAU,CAAC,MAAM,CAAC;gBACzD,EAAE,UAAU,EAAE,yBAAyB,CAAC,gBAAgB,EAAE,YAAY,EAAE,WAAW,CAAC,GAAG,CAAC,kBAAkB,CAAC,EAAE,YAAY,EAAE,QAAQ,EAAE;aACxI,CAAC,CAAC;YACH,YAAY,CAAC,yBAAyB,CAAC,gBAAgB,CAAC,GAAG,KAAK,CAAC;SACpE;;cAEK,SAAS,GAAG,IAAI,KAAK,EAAE;QAC7B,KAAK,MAAM,MAAM,IAAI,UAAU,EAAE;YAC7B,IAAI,CAAC,MAAM,CAAC,QAAQ,EAAE;;sBACZ,KAAK,GAAG,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,IAAI,KAAK,EAAE,EAAE;gBACrD,KAAK,MAAM,CAAC,IAAI,UAAU,EAAE;oBACxB,IAAI,CAAC,CAAC,QAAQ,KAAK,MAAM,CAAC,EAAE,EAAE;wBAC1B,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;qBACxB;iBACJ;gBACD,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC,CAAA;aACxB;SACJ;;QAED,IAAI,SAAS,IAAI,SAAS,CAAC,MAAM,GAAG,CAAC,EAAE;;gBAC/B,oBAAoB,GAA0B,IAAI,qBAAqB,EAAE;YAC7E,oBAAoB,CAAC,UAAU,GAAG,sBAAsB,CAAC;YACzD,oBAAoB,CAAC,YAAY,GAAG,WAAW,CAAC,GAAG,CAAC,sBAAsB,CAAC,CAAC;YAC5E,oBAAoB,CAAC,KAAK,GAAG,UAAU,CAAC;YACxC,oBAAoB,CAAC,OAAO,GAAG,WAAW,CAAC,GAAG,CAAC,oBAAoB,CAAC,CAAC;YACrE,oBAAoB,CAAC,UAAU,GAAG,IAAI,KAAK,EAAE,CAAC;YAC9C,KAAK,MAAM,CAAC,IAAI,SAAS,EAAE;gBACvB,oBAAoB,CAAC,UAAU,CAAC,IAAI,CAChC,EAAE,UAAU,EAAE,CAAC,CAAC,MAAM,CAAC,EAAE,EAAE,YAAY,EAAE,CAAC,CAAC,MAAM,CAAC,aAAa,EAAE,YAAY,EAAE,OAAO,EAAE,CAAC,CAAC;;gBAE9F,IAAI,GAAG,CAAC,gBAAgB,IAAI,GAAG,CAAC,gBAAgB,CAAC,MAAM,GAAG,CAAC,EAAE;oBACzD,CAAC,CAAC,MAAM,CAAC,IAAI;;;;;oBAAC,CAAC,CAAC,EAAE,CAAC;wBACf,OAAO,CAAC,CAAC,SAAS,GAAG,CAAC,CAAC,SAAS,CAAC;qBACpC,EAAC,CAAC,OAAO;;;;oBAAC,CAAC,CAAM;wBACd,GAAG,CAAC,gBAAgB,CAAC,OAAO;;;;wBAAC,CAAC;4BAC1B,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,IAAI,EAAE;gCACjB,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC,KAAK,CAAC;6BACrB;yBACJ,EAAC,CAAC;qBACN,EAAC,CAAC;iBACN;gBACD,YAAY,CAAC,CAAC,CAAC,MAAM,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,MAAM,CAAC;aACxC;;YAED,YAAY,CAAC,yBAAyB,CAAC,EAAE,CAAC,GAAG,GAAG,CAAC,EAAE,CAAC;YACpD,YAAY,CAAC,yBAAyB,CAAC,SAAS,CAAC,GAAG,GAAG,CAAC,SAAS,CAAC;YAClE,YAAY,CAAC,yBAAyB,CAAC,IAAI,CAAC,GAAG,GAAG,CAAC,IAAI,IAAI,WAAW,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;YACpF,YAAY,CAAC,yBAAyB,CAAC,YAAY,CAAC,GAAG,GAAG,CAAC,YAAY,IAAI;gBACvE,QAAQ,EAAE,GAAG,CAAC,IAAI;aACrB,CAAC;YAEF,YAAY,CAAC,yBAAyB,CAAC,cAAc,CAAC,GAAG,GAAG,CAAC,cAAc,CAAC;YAE5E,YAAY,CAAC,yBAAyB,CAAC,kBAAkB,CAAC;gBACtD,GAAG,CAAC,YAAY,GAAG,GAAG,CAAC,YAAY,CAAC,IAAI;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,YAAY,KAAK,IAAI,EAAC,GAAG,IAAI,CAAC;YAClF,YAAY,CAAC,yBAAyB,CAAC,sBAAsB,CAAC;gBAC1D,GAAG,CAAC,YAAY,GAAG,GAAG,CAAC,YAAY,CAAC,IAAI;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,YAAY,KAAK,QAAQ,EAAC,GAAG,IAAI,CAAC;YACtF,OAAO;gBACH,cAAc,EAAE,CAAC,cAAc,EAAE,OAAO,EAAE,cAAc,EAAE,oBAAoB,CAAC;gBAC/E,YAAY,EAAE,YAAY;aAC7B,CAAA;SACJ;aAAM;YACH,YAAY,CAAC,yBAAyB,CAAC,EAAE,CAAC,GAAG,GAAG,CAAC,EAAE,CAAC;YACpD,YAAY,CAAC,yBAAyB,CAAC,SAAS,CAAC,GAAG,GAAG,CAAC,SAAS,CAAC;YAClE,YAAY,CAAC,yBAAyB,CAAC,IAAI,CAAC,GAAG,GAAG,CAAC,IAAI,IAAI,WAAW,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;YACpF,YAAY,CAAC,yBAAyB,CAAC,YAAY,CAAC,GAAG,GAAG,CAAC,YAAY,IAAI;gBACvE,QAAQ,EAAE,GAAG,CAAC,IAAI;aACrB,CAAC;YAEF,YAAY,CAAC,yBAAyB,CAAC,cAAc,CAAC,GAAG,GAAG,CAAC,cAAc,CAAC;YAE5E,YAAY,CAAC,yBAAyB,CAAC,kBAAkB,CAAC;gBACtD,GAAG,CAAC,YAAY,GAAG,GAAG,CAAC,YAAY,CAAC,IAAI;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,YAAY,KAAK,IAAI,EAAC,GAAG,IAAI,CAAC;YAClF,YAAY,CAAC,yBAAyB,CAAC,sBAAsB,CAAC;gBAC1D,GAAG,CAAC,YAAY,GAAG,GAAG,CAAC,YAAY,CAAC,IAAI;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,YAAY,KAAK,QAAQ,EAAC,GAAG,IAAI,CAAC;YAEtF,OAAO;gBACH,cAAc,EAAE,CAAC,cAAc,EAAE,OAAO,EAAE,cAAc,CAAC;gBACzD,YAAY,EAAE,YAAY;aAC7B,CAAA;SACJ;KACJ;;;;;IAED,WAAW,CAAC,GAAQ;;cACV,QAAQ,GAAG,IAAI,CAAC,QAAQ;;cACxB,aAAa,GAAG,IAAI,CAAC,WAAW;;cAChC,UAAU,GAAW,GAAG,CAAC,UAAU;QACzC,QAAQ,UAAU;YACd,KAAK,yBAAyB,CAAC,kBAAkB;gBAC7C,IAAI,CAAC,uBAAuB,CAAC,aAAa,EAAE,GAAG,EAAE,IAAI,CAAC,CAAC;gBACvD,IAAI,GAAG,CAAC,UAAU,IAAI,GAAG,CAAC,UAAU,CAAC,MAAM,GAAG,CAAC,EAAE;oBAC7C,cAAc,CAAC,sBAAsB,CAAC,QAAQ,CAAC,KAAK,CAAC,SAAS,CAAC,cAAc,EAAE,GAAG,CAAC,UAAU,CAAC,CAAC;iBAClG;gBACD,MAAM;YACV,KAAK,yBAAyB,CAAC,sBAAsB;gBACjD,IAAI,CAAC,uBAAuB,CAAC,aAAa,EAAE,GAAG,EAAE,QAAQ,CAAC,CAAC;gBAC3D,IAAI,GAAG,CAAC,UAAU,IAAI,GAAG,CAAC,UAAU,CAAC,MAAM,GAAG,CAAC,EAAE;oBAC7C,cAAc,CAAC,sBAAsB,CAAC,QAAQ,CAAC,KAAK,CAAC,SAAS,CAAC,cAAc,EAAE,GAAG,CAAC,UAAU,CAAC,CAAC;iBAClG;gBACD,MAAM;YACV,KAAK,yBAAyB,CAAC,gBAAgB;gBAC3C,IAAI,CAAC,qBAAqB,CAAC,aAAa,EAAE,GAAG,CAAC,CAAC;gBAC/C,MAAM;YACV,KAAK,yBAAyB,CAAC,SAAS;gBACpC,IAAI,CAAC,cAAc,CAAC,aAAa,EAAE,GAAG,CAAC,CAAC;gBACxC,MAAM;YACV,KAAK,yBAAyB,CAAC,gBAAgB;gBAC3C,IAAI,CAAC,sBAAsB,CAAC,aAAa,EAAE,GAAG,CAAC,CAAC;gBAChD,MAAM;YACV,KAAK,yBAAyB,CAAC,qBAAqB;gBAChD,IAAI,CAAC,2BAA2B,CAAC,aAAa,EAAE,GAAG,CAAC,CAAC;gBACrD,MAAM;YACV,KAAK,yBAAyB,CAAC,4BAA4B;gBACvD,IAAI,CAAC,2BAA2B,CAAC,aAAa,EAAE,GAAG,CAAC,CAAC;gBACrD,MAAM;YACV;;gBAEI,IAAI,QAAQ,CAAC,YAAY,CAAC,SAAS;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,EAAE,KAAK,UAAU,EAAC,GAAG,CAAC,CAAC,EAAE;oBAChE,IAAI,CAAC,mBAAmB,CAAC,aAAa,EAAE,GAAG,CAAC,CAAC;iBAChD;qBAAM;oBACH,KAAK,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC;iBAC1B;gBACD,MAAM;SACb;KACJ;;;;;;;IAED,uBAAuB,CAAC,KAAoB,EAAE,GAAQ,EAAE,QAAgB;QACpE,IAAI,KAAK,EAAE;;gBACH,IAAI,sBAAG,GAAG,CAAC,aAAa,EAAO;YACnC,IAAI,CAAC,KAAK,CAAC,YAAY,EAAE;gBACrB,KAAK,CAAC,YAAY,GAAG,IAAI,KAAK,EAAe,CAAC;aACjD;YACD,KAAK,CAAC,YAAY,GAAG,KAAK,CAAC,YAAY,CAAC,MAAM;;;;YAAC,CAAC,IAAI,CAAC,CAAC,YAAY,KAAK,QAAQ,EAAC,CAAC;YACjF,IAAI,IAAI,EAAE;;oBACF,MAAM,sBAAG,IAAI,CAAC,gBAAgB,EAAS;;oBACvC,QAAQ,GAAG,IAAI,KAAK,EAAmB;gBAC3C,IAAI,MAAM,IAAI,MAAM,CAAC,MAAM,GAAG,CAAC,EAAE;oBAC7B,KAAK,IAAI,IAAI,IAAI,MAAM,EAAE;;4BACjB,OAAO,GAAG,IAAI,eAAe,CAAC,KAAK,CAAC,KAAK,EAAE,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,KAAK,CAAC;wBACrE,IAAI,IAAI,CAAC,GAAG,EAAE;4BACV,OAAO,CAAC,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC;yBAC1B;6BAAM;4BACH,IAAI,IAAI,CAAC,KAAK,EAAE;gCACZ,IAAI,IAAI,CAAC,KAAK,CAAC,MAAM,IAAI,CAAC,IAAI,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,KAAK,UAAU,EAAE;oCACjE,OAAO,CAAC,GAAG,GAAG,YAAY,CAAC;iCAC9B;qCAAM;oCACH,OAAO,CAAC,GAAG,GAAG,UAAU,CAAC;iCAC5B;6BACJ;iCAAM;gCACH,OAAO,CAAC,GAAG,GAAG,UAAU,CAAC;6BAC5B;yBAEJ;wBACD,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;qBAC1B;iBACJ;;sBACK,EAAE,GAAG,eAAe,CAAC,iBAAiB,EAAE;;oBAC1C,IAAI,GAAG,IAAI,WAAW,CAAC,KAAK,CAAC,KAAK,EAAE,EAAE,EAAE,IAAI,CAAC,IAAI,EAAE,QAAQ,CAAC;gBAChE,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,WAAW,CAAC;gBACpC,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC;gBAC9B,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,YAAY,CAAC;gBACtC,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,cAAc,CAAC;gBAC1C,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,YAAY,CAAC;gBACtC,KAAK,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;aACjC;SACJ;KACJ;;;;;;;IAOD,qBAAqB,CAAC,aAA4B,EAAE,GAAQ;;cAClD,gBAAgB,sBAAG,GAAG,CAAC,aAAa,EAAW;QACrD,aAAa,CAAC,gBAAgB,GAAG,gBAAgB,CAAC;QAClD,IAAI,aAAa,CAAC,gBAAgB,EAAE;YAChC,aAAa,CAAC,SAAS,GAAG,IAAI,SAAS,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;SAChE;aAAM;YACH,aAAa,CAAC,SAAS,GAAG,IAAI,CAAC;SAClC;KACJ;;;;;;IAED,cAAc,CAAC,aAA4B,EAAE,GAAQ;;cAC3C,IAAI,GAAG,GAAG,CAAC,aAAa;QAC9B,IAAI,IAAI,EAAE;;gBACF,SAAS,GAAG,IAAI,SAAS,CAAC,aAAa,CAAC,KAAK,CAAC;YAClD,SAAS,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC;YACnC,SAAS,CAAC,WAAW,GAAG,IAAI,CAAC,WAAW,CAAC;YACzC,SAAS,CAAC,eAAe,GAAG,IAAI,CAAC,eAAe,CAAC;YACjD,SAAS,CAAC,qBAAqB,GAAG,IAAI,CAAC,qBAAqB,CAAC;YAC7D,aAAa,CAAC,SAAS,GAAG,SAAS,CAAC;SACvC;aAAM;YACH,aAAa,CAAC,SAAS,GAAG,IAAI,CAAC;SAClC;KACJ;;;;;;IAED,sBAAsB,CAAC,aAA4B,EAAE,GAAQ;;cACnD,IAAI,GAAY,GAAG,CAAC,aAAa;QACvC,IAAI,IAAI,EAAE;;;;YAIN,aAAa,CAAC,gBAAgB,GAAG,IAAI,gBAAgB,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;SAC9E;aAAM;YACH,aAAa,CAAC,gBAAgB,GAAG,IAAI,CAAC;SACzC;KACJ;;;;;;IAED,2BAA2B,CAAC,aAA4B,EAAE,GAAQ;;cACxD,IAAI,GAAS,GAAG,CAAC,aAAa;QACpC,IAAI,IAAI,IAAI,IAAI,CAAC,MAAM,GAAG,CAAC,EAAE;YACzB,IAAI,OAAO,IAAI,CAAC,CAAC,CAAC,KAAK,QAAQ,EAAE;gBAC7B,aAAa,CAAC,gBAAgB,CAAC,4BAA4B,GAAG,IAAI,KAAK,EAA+B,CAAC;gBACvG,IAAI,CAAC,OAAO;;;;gBAAC,CAAC;;wBACN,KAAK,GAAG,IAAI,2BAA2B,CAAC,aAAa,CAAC,KAAK,CAAC;oBAChE,KAAK,CAAC,oBAAoB,GAAG,CAAC,CAAC;oBAC/B,KAAK,CAAC,QAAQ,GAAG,KAAK,CAAC;oBACvB,KAAK,CAAC,SAAS,GAAG,IAAI,SAAS,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;oBACrD,aAAa,CAAC,gBAAgB,CAAC,4BAA4B,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;iBAC3E,EAAC,CAAA;aACL;iBAAM;;gBAEH,aAAa,CAAC,gBAAgB,CAAC,4BAA4B,GAAG,IAAI,KAAK,EAA+B,CAAC;gBACvG,IAAI,CAAC,OAAO;;;;gBAAC,CAAC;;wBACN,KAAK,GAAG,IAAI,2BAA2B,CAAC,aAAa,CAAC,KAAK,CAAC;oBAChE,KAAK,CAAC,oBAAoB,GAAG,CAAC,CAAC,oBAAoB,CAAC;oBACpD,KAAK,CAAC,QAAQ,GAAG,CAAC,CAAC,QAAQ,CAAC;oBAC5B,KAAK,CAAC,SAAS,GAAG,IAAI,SAAS,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;oBACrD,KAAK,CAAC,SAAS,CAAC,KAAK,GAAG,CAAC,CAAC,SAAS,CAAC,KAAK,CAAC;oBAC1C,aAAa,CAAC,gBAAgB,CAAC,4BAA4B,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;iBAC3E,EAAC,CAAC;aACN;SACJ;aAAM;YACH,aAAa,CAAC,gBAAgB,CAAC,4BAA4B,GAAG,IAAI,KAAK,EAAE,CAAC;SAC7E;KACJ;;;;;;;IAOD,mBAAmB,CAAC,aAA4B,EAAE,GAAQ;QACtD,IAAI,aAAa,EAAE;;gBACX,UAAU,sBAAG,GAAG,CAAC,aAAa,EAAO;YACzC,IAAI,CAAC,aAAa,CAAC,gBAAgB,EAAE;gBACjC,aAAa,CAAC,gBAAgB,GAAG,IAAI,KAAK,EAAkB,CAAC;aAChE;YACD,KAAK,MAAM,CAAC,IAAI,GAAG,CAAC,aAAa,EAAE;;sBACzB,KAAK,GAAG,aAAa,CAAC,gBAAgB,CAAC,SAAS;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,GAAG,KAAK,CAAC,CAAC,IAAI,EAAC;gBAC7E,IAAI,KAAK,GAAG,CAAC,CAAC,EAAE;oBACZ,aAAa,CAAC,gBAAgB,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;iBACnD;aACJ;YACD,IAAI,UAAU,EAAE;gBACZ,UAAU,CAAC,OAAO;;;;gBAAC,CAAC,CAAM;;wBAClB,IAAI,GAAG,IAAI,cAAc,CAAC,aAAa,CAAC,KAAK,CAAC;oBAClD,IAAI,CAAC,GAAG,GAAG,CAAC,CAAC,IAAI,CAAC;oBAClB,IAAI,CAAC,KAAK,GAAG,CAAC,CAAC,KAAK,CAAC;oBACrB,aAAa,CAAC,gBAAgB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;iBAC7C,EAAC,CAAC;aACN;SACJ;KACJ;;AAxXM,6BAAW,GAAW,aAAa,CAAC,WAAW,CAAC;;;;;;ACpB3D;;;AAOA,MAAa,qBAAsB,SAAQ,mBAAmB;IAA9D;;QACI,YAAO,GAAG;YACN,CAAC,aAAa,CAAC,OAAO,GAAG,WAAW,CAAC,UAAU,GAAG,sBAAsB;YACxE,CAAC,aAAa,CAAC,QAAQ,GAAG,WAAW,CAAC,UAAU,GAAG,6BAA6B;SACnF,CAAC;KAQL;;;;;IANG,iBAAiB,CAAC,OAAyB;;cACjC,QAAQ,sBAAG,KAAK,CAAC,iBAAiB,CAAC,OAAO,CAAC,EAAmB;QACpE,QAAQ,CAAC,EAAE,GAAG,iBAAiB,GAAG,eAAe,CAAC,iBAAiB,EAAE,CAAC;QAEtE,OAAO,QAAQ,CAAC;KACnB;CACJ;;;;;;ACnBD;;;AAOA,MAAa,cAAe,SAAQ,YAAY;IAAhD;;QACI,YAAO,GAAG;YACN,CAAC,aAAa,CAAC,OAAO,GAAG,WAAW,CAAC,UAAU,GAAG,UAAU;YAC5D,CAAC,aAAa,CAAC,QAAQ,GAAG,WAAW,CAAC,UAAU,GAAG,iBAAiB;SACvE,CAAC;KAQL;;;;;IANG,iBAAiB,CAAC,OAAkB;;cAC1B,QAAQ,sBAAG,KAAK,CAAC,iBAAiB,CAAC,OAAO,CAAC,EAAY;QAC7D,QAAQ,CAAC,EAAE,GAAG,UAAU,GAAG,eAAe,CAAC,iBAAiB,EAAE,CAAC;QAE/D,OAAO,QAAQ,CAAC;KACnB;CACJ;;;;;;ACnBD;;;AAOA,MAAa,sBAAuB,SAAQ,oBAAoB;IAAhE;;QACE,YAAO,GAAG;YACR,CAAC,aAAa,CAAC,OAAO,GAAG,WAAW,CAAC,UAAU,GAAG,uBAAuB;YACzE,CAAC,aAAa,CAAC,QAAQ,GAAG,WAAW,CAAC,UAAU,GAAG,8BAA8B;SAClF,CAAC;KAQH;;;;;IANC,iBAAiB,CAAC,OAA0B;;cACpC,QAAQ,sBAAG,KAAK,CAAC,iBAAiB,CAAC,OAAO,CAAC,EAAoB;QACrE,QAAQ,CAAC,EAAE,GAAG,kBAAkB,GAAG,eAAe,CAAC,iBAAiB,EAAE,CAAC;QAEvE,OAAO,QAAQ,CAAC;KACjB;CACF;;;;;;ACnBD,MAqBa,2BAA2B;;;;;;;;;;;IAyCtC,YACS,OAA+B,EACX,QAAgB,EACR,SAAc,EAC7B,UAAwB,EACpC,QAAkC,EAClC,QAAkB,EAClB,YAA4B,EAC5B,SAAmC;QAPpC,YAAO,GAAP,OAAO,CAAwB;QACX,aAAQ,GAAR,QAAQ,CAAQ;QACR,cAAS,GAAT,SAAS,CAAK;QAC7B,eAAU,GAAV,UAAU,CAAc;QACpC,aAAQ,GAAR,QAAQ,CAA0B;QAClC,aAAQ,GAAR,QAAQ,CAAU;QAClB,iBAAY,GAAZ,YAAY,CAAgB;QAC5B,cAAS,GAAT,SAAS,CAA0B;QA/C7C,eAAU,GAAG,sCAAsC,CAAC;QACpD,WAAM,GAAG,IAAI,OAAO,EAAU,CAAC;QAC/B,WAAM,GAAG,IAAI,OAAO,EAAO,CAAC;QAG5B,SAAI,GAAG;YACL,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,yBAAyB,CAAC,EAAE,KAAK,EAAE,MAAM,EAAE,KAAK,EAAE,EAAE,EAAE,WAAW,EAAE,MAAM,EAAE;YAC9G,EAAE,KAAK,EAAE,IAAI,EAAE,KAAK,EAAE,IAAI,EAAE,KAAK,EAAE,EAAE,EAAE,WAAW,EAAE,IAAI,EAAE;SAAC,CAAC;QAE9D,mBAAc,GAAG,EAAE,CAAC;QACpB,kCAA6B,GAAG,EAAE,CAAC;QACnC,oCAA+B,GAAG,EAAE,CAAC;QACrC,WAAM,GAAG,EAAE,CAAC;QACZ,WAAM,GAAG,EAAE,CAAC;QACZ,WAAM,GAAG,EAAE,CAAC;QACZ,WAAM,GAAG,EAAE,CAAC;QACZ,WAAM,GAAE,EAAE,CAAC;QACX,sBAAiB,GAAG,EAAE,CAAC;QACvB,uBAAkB,GAAG,EAAE,CAAC;QACxB,kBAAa,GAAG,EAAE,CAAC;QACnB,gBAAW,GAAG,EAAE,CAAC;QACjB,sBAAiB,GAAG,EAAE,CAAC;QACvB,cAAS,GAAG,EAAE,CAAC;QACf,uBAAkB,GAAG,KAAK,CAAC;QAC3B,wBAAmB,GAAG,KAAK,CAAC;QAC5B,mBAAc,GAAG,KAAK,CAAC;QACvB,iBAAY,GAAG,KAAK,CAAC;QACrB,uBAAkB,GAAG,KAAK,CAAC;QAC3B,iBAAY,GAAG,EAAE,CAAC;QAClB,sBAAiB,GAAG,EAAE,CAAC;QACvB,uBAAkB,GAAG,EAAE,CAAC;QACxB,kBAAa,GAAG,EAAE,CAAC;QACnB,gBAAW,GAAG,EAAE,CAAC;QACjB,aAAQ,GAAG;YACT,SAAS,EAAE,CAAC;YACZ,QAAQ,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC;YAC1B,QAAQ,EAAE,EAAE;SACb,CAAC;QA+GF,qBAAgB;;;;QAAG,CAAC,OAAO;YACzB,IAAI,CAAC,iBAAiB,GAAG,OAAO,CAAC;YACjC,OAAOjC,IAAE,CAAC;gBACR,WAAW,EAAE,IAAI;aAClB,CAAC,CAAC;SACJ,EAAA;QAED,sBAAiB;;;;QAAG,CAAC,OAAO;YAC1B,IAAI,CAAC,kBAAkB,GAAG,OAAO,CAAC;YAClC,OAAOA,IAAE,CAAC;gBACR,WAAW,EAAE,IAAI;aAClB,CAAC,CAAC;SACJ,EAAA;QAED,sBAAiB;;;;QAAG,CAAC,OAAO;YAC1B,IAAI,CAAC,WAAW,GAAG,OAAO,CAAC;YAC3B,OAAOA,IAAE,CAAC;gBACR,WAAW,EAAE,IAAI;aAClB,CAAC,CAAC;SACJ,EAAA;QAED,wBAAmB;;;;QAAG,CAAC,OAAO;YAC5B,IAAI,CAAC,aAAa,GAAG,OAAO,CAAC;YAC7B,OAAOA,IAAE,CAAC;gBACR,WAAW,EAAE,IAAI;aAClB,CAAC,CAAC;SACJ,EAAA;QAED,4BAAuB;;;;QAAG,CAAC,OAAO;YAChC,IAAI,CAAC,iBAAiB,GAAG,OAAO,CAAC;YACjC,OAAOA,IAAE,CAAC;gBACR,WAAW,EAAE,IAAI;aAClB,CAAC,CAAC;SACJ,EAAA;QAED,gBAAW;;;;QAAG,CAAC,OAAO;YACpB,OAAOA,IAAE,CAAC;gBACR,WAAW,EAAE,IAAI;aAClB,CAAC,CAAC;SACJ,EAAA;;QAzIC,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,MAAM;;;;QAAC,UAAS,IAAI;YACjE,OAAO,IAAI,CAAC,SAAS,KAAK,YAAY,CAAC,WAAW,CAAC;SACtD,EAAC,CAAA;;QAEA,IAAI,CAAC,6BAA6B,GAAG,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC,WAAW,EAAE,GAAG,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,CAAC;;QAElG,IAAI,CAAC,+BAA+B,GAAG,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC,WAAW,EAAE,GAAG,IAAI,CAAC,OAAO,CAAC,kBAAkB,CAAC,CAAC;QACzG,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,IAAI,IAAI,YAAY,CAAC,QAAQ,EAAE,SAAS,CAAC,CAAC;KAC5E;;;;IAED,QAAQ;;cACA,YAAY,GAAG,IAAI,CAAC,aAAa,CAAC,mBAAmB,CAAC,MAAM;;;;QAAC,UAAS,WAAW;YACrF,OAAO,WAAW,CAAC,WAAW,KAAK,cAAc,CAAC;SACnD,EAAC;;cACI,aAAa,GAAG,IAAI,CAAC,aAAa,CAAC,mBAAmB,CAAC,MAAM;;;;QAAC,UAAS,WAAW;YACtF,OAAO,WAAW,CAAC,WAAW,KAAK,eAAe,CAAC;SACpD,EAAC;;cACI,QAAQ,GAAG,IAAI,CAAC,aAAa,CAAC,mBAAmB,CAAC,MAAM;;;;QAAC,UAAS,WAAW;YACjF,OAAO,WAAW,CAAC,WAAW,KAAK,UAAU,CAAC;SAC/C,EAAC;;cACI,MAAM,GAAG,IAAI,CAAC,aAAa,CAAC,mBAAmB,CAAC,MAAM;;;;QAAC,UAAS,WAAW;YAC/E,OAAO,WAAW,CAAC,WAAW,KAAK,QAAQ,CAAC;SAC7C,EAAC;QACF,IAAG,CAAC,YAAY,CAAC,CAAC,CAAC,IAAI,YAAY,CAAC,CAAC,CAAC,CAAC,iBAAiB,EAAE;YACxD,IAAI,CAAC,iBAAiB,GAAG;gBACvB,MAAM,EAAE,IAAI,CAAC,aAAa,CAAC,gBAAgB;gBAC3C,MAAM,EAAE,cAAc;gBACtB,KAAK,EAAE,YAAY,CAAC,CAAC,CAAC;aACvB,CAAA;SACF;aAAM;;gBACD,KAAK,GAAG,IAAI,0BAA0B,EAAE;;gBACxC,WAAW,GAAG,IAAI,eAAe,EAAE;YACvC,WAAW,CAAC,kBAAkB,GAAG,YAAY,CAAC;YAC9C,WAAW,CAAC,UAAU,GAAG,IAAI,CAAC;YAC9B,KAAK,CAAC,eAAe,GAAG,WAAW,CAAC;YACpC,IAAI,CAAC,iBAAiB,GAAG;gBACvB,MAAM,EAAE,IAAI,CAAC,aAAa,CAAC,gBAAgB;gBAC3C,MAAM,EAAE,cAAc;gBACtB,KAAK,EAAE,KAAK;aACb,CAAA;SACF;QACD,IAAG,CAAC,aAAa,CAAC,CAAC,CAAC,IAAI,aAAa,CAAC,CAAC,CAAC,CAAC,iBAAiB,EAAE;YAC1D,IAAI,CAAC,kBAAkB,GAAG;gBACxB,MAAM,EAAE,IAAI,CAAC,aAAa,CAAC,iBAAiB;gBAC5C,MAAM,EAAE,eAAe;gBACvB,KAAK,EAAE,aAAa,CAAC,CAAC,CAAC;aACxB,CAAA;SACF;aAAM;;gBACD,KAAK,GAAG,IAAI,0BAA0B,EAAE;;gBACxC,WAAW,GAAG,IAAI,eAAe,EAAE;YACvC,WAAW,CAAC,kBAAkB,GAAG,aAAa,CAAC;YAC/C,WAAW,CAAC,UAAU,GAAG,IAAI,CAAC;YAC9B,KAAK,CAAC,eAAe,GAAG,WAAW,CAAC;YACpC,IAAI,CAAC,kBAAkB,GAAG;gBACxB,MAAM,EAAE,IAAI,CAAC,aAAa,CAAC,iBAAiB;gBAC5C,MAAM,EAAE,eAAe;gBACvB,KAAK,EAAE,KAAK;aACb,CAAC;SACH;QACD,IAAG,CAAC,QAAQ,CAAC,CAAC,CAAC,IAAI,QAAQ,CAAC,CAAC,CAAC,CAAC,iBAAiB,EAAE;YAChD,IAAI,CAAC,aAAa,GAAG;gBACnB,MAAM,EAAE,IAAI,CAAC,aAAa,CAAC,YAAY;gBACvC,MAAM,EAAE,UAAU;gBAClB,KAAK,EAAE,QAAQ,CAAC,CAAC,CAAC;aACnB,CAAC;SACH;aAAM;;gBACD,KAAK,GAAG,IAAI,0BAA0B,EAAE;;gBACxC,WAAW,GAAG,IAAI,eAAe,EAAE;YACvC,WAAW,CAAC,kBAAkB,GAAG,QAAQ,CAAC;YAC1C,WAAW,CAAC,UAAU,GAAG,IAAI,CAAC;YAC9B,KAAK,CAAC,eAAe,GAAG,WAAW,CAAC;YACpC,IAAI,CAAC,aAAa,GAAG;gBACnB,MAAM,EAAE,IAAI,CAAC,aAAa,CAAC,YAAY;gBACvC,MAAM,EAAE,UAAU;gBAClB,KAAK,EAAE,KAAK;aACb,CAAC;SACH;QACD,IAAG,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,MAAM,CAAC,CAAC,CAAC,CAAC,iBAAiB,EAAE;YAC5C,IAAI,CAAC,WAAW,GAAG;gBACjB,MAAM,EAAE,IAAI,CAAC,aAAa,CAAC,UAAU;gBACrC,MAAM,EAAE,QAAQ;gBAChB,KAAK,EAAE,MAAM,CAAC,CAAC,CAAC;aACjB,CAAC;SACH;aAAM;;gBACD,KAAK,GAAG,IAAI,0BAA0B,EAAE;;gBACxC,WAAW,GAAG,IAAI,eAAe,EAAE;YACvC,WAAW,CAAC,kBAAkB,GAAG,MAAM,CAAC;YACxC,WAAW,CAAC,UAAU,GAAG,IAAI,CAAC;YAC9B,KAAK,CAAC,eAAe,GAAG,WAAW,CAAC;YACpC,IAAI,CAAC,WAAW,GAAG;gBACjB,MAAM,EAAE,IAAI,CAAC,aAAa,CAAC,UAAU;gBACrC,MAAM,EAAE,QAAQ;gBAChB,KAAK,EAAE,KAAK;aACb,CAAC;SACH;QACD,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,aAAa,CAAC,YAAY,CAAC;KACrD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IA4ID,OAAO;;cACC,KAAK,GAAG,EAAE;QAChB,IAAI,IAAI,CAAC,kBAAkB,EAAE;;kBACrB,SAAS,GAAG;gBAChB,IAAI,EAAE,cAAc;gBACpB,KAAK,EAAE,IAAI,CAAC,iBAAiB;gBAC7B,MAAM,EAAE,IAAI,CAAC,iBAAiB;aAC/B;YACD,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,CAAA;SACtB;QACD,IAAI,IAAI,CAAC,mBAAmB,EAAE;;kBACtB,UAAU,GAAG;gBACjB,IAAI,EAAE,eAAe;gBACrB,KAAK,EAAE,IAAI,CAAC,iBAAiB;gBAC7B,MAAM,EAAE,IAAI,CAAC,kBAAkB;aAChC;YACD,KAAK,CAAC,IAAI,CAAC,UAAU,CAAC,CAAA;SACvB;QACD,IAAI,IAAI,CAAC,cAAc,EAAE;;kBACjB,YAAY,GAAG;gBACnB,IAAI,EAAE,UAAU;gBAChB,KAAK,EAAE,IAAI,CAAC,iBAAiB;gBAC7B,MAAM,EAAE,IAAI,CAAC,aAAa;aAC3B;YACD,KAAK,CAAC,IAAI,CAAC,YAAY,CAAC,CAAA;SACzB;QACD,IAAI,IAAI,CAAC,YAAY,EAAE;;kBACf,UAAU,GAAG;gBACjB,IAAI,EAAE,QAAQ;gBACd,KAAK,EAAE,IAAI,CAAC,iBAAiB;gBAC7B,MAAM,EAAE,IAAI,CAAC,WAAW;aACzB;YACD,KAAK,CAAC,IAAI,CAAC,UAAU,CAAC,CAAA;SACvB;QACD,IAAI,IAAI,CAAC,kBAAkB,EAAE;;kBACrB,gBAAgB,GAAG;gBACvB,IAAI,EAAE,cAAc;gBACpB,KAAK,EAAE,IAAI,CAAC,iBAAiB;gBAC7B,MAAM,EAAE,IAAI,CAAC,YAAY;aAC1B;YACD,KAAK,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAA;SAC7B;QACD,IAAI,KAAK,IAAI,KAAK,CAAC,MAAM,GAAG,CAAC,EAAE;YAC7B,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;SACtB;QACD,IAAI,CAAC,MAAM,CAAC,IAAI,EAAE,CAAC;KACpB;;;;IAED,WAAW;QACT,IAAI,CAAC,MAAM,CAAC,IAAI,EAAE,CAAC;KACpB;;;;;IAED,QAAQ,CAAC,KAAU;QACjB,IAAI,CAAC,SAAS,CAAC,QAAQ,CAACoC,cAAY,CAAC,gBAAgB,EAAE,KAAK,CAAC,CAAC;KAC/D;;;YA9VF,SAAS,SAAC;gBACT,QAAQ,EAAE,0BAA0B;gBACpC,w0NAAoD;gBAEpD,SAAS,EAAE;oBACT,YAAY;iBACb;;aACF;;;;YAhBQ,sBAAsB;yCA4D1B,MAAM,SAAC,SAAS;4CAChB,MAAM,SAAC,iBAAiB;YA9DD,YAAY,uBA+DnC,QAAQ;YAlEO,wBAAwB;YAAwB,QAAQ;YAOnE,cAAc;YAEd,wBAAwB;;;qBAiB9B,SAAS,SAAC,QAAQ;0BAClB,SAAS,SAAC,kBAAkB;;;;IAqV7B,kBAAmB,kBAAkB;;;;;;;AChXvC,MAyBa,UAAW,SAAQ,QAAQ;;;;;;;;;;;IAqBtC,YAAY,IAAY,EAAE,MAAc,EAAE,SAAuB,EAAU,QAAmB,EACpF,YAA6B,EAC7B,QAAmC,EAAE,WAAiB,EAAE,cAAuB,IAAI;QAC3F,KAAK,CAAC,SAAS,EAAE,WAAW,EAAE,WAAW,CAAC,CAAC;QAH8B,aAAQ,GAAR,QAAQ,CAAW;QACpF,iBAAY,GAAZ,YAAY,CAAiB;QAC7B,aAAQ,GAAR,QAAQ,CAA2B;QAX7C,kBAAa,GAAmH;YAC9H,cAAc,EAAE,IAAI;YACpB,YAAY,EAAE,KAAK;YACnB,mBAAmB,EAAE,KAAK;YAC1B,kBAAkB,EAAE,KAAK;SAC1B,CAAC;;YAQI,QAAQ,GAAG,EAAE;QACjB,IAAI;YACF,QAAQ,GAAG,oBAAC,MAAM,IAAS,mBAAmB,CAAC,MAAM,CAAC,WAAW,CAAC,GAAG,EAAE,CAAC;SACzE;QAAC,OAAO,KAAK,EAAE;SACf;QACD,WAAW,CAAC,GAAG,CAAC,QAAQ,GAAG,oFAAoF,CAAC,CAAC;QACjH,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC;QACzB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;KACtB;;;;IAED,aAAa;;cACL,OAAO,GAAG,KAAK,CAAC,aAAa,EAAE;;QAGrC,IAAI,EAAE,IAAI,CAAC,MAAM,KAAK,MAAM,IAAI,IAAI,CAAC,IAAI,KAAK,IAAI,CAAC,EAAE;;kBAC7C,YAAY,GAAG,OAAO,CAAC,SAAS,CAAC,UAAU,CAAC,UAAU,CAAC;YAE7D,YAAY,CAAC,SAAS;;;YAAG,MAAM,KAAK,CAAA,CAAC;SACtC;QAED,OAAO,OAAO,CAAC;KAChB;;;;IAED,aAAa;;cACL,OAAO,GAAG,KAAK,CAAC,aAAa,EAAE;;cAE/B,EAAE,GAAG,IAAI,YAAY,EAAE;QAC7B,EAAE,CAAC,IAAI,GAAG,WAAW,CAAC,GAAG,CAAC,eAAe,CAAC,CAAC;QAC3C,EAAE,CAAC,KAAK,CAAC,IAAI,CACX,IAAI,WAAW,CAAC,iBAAiB,CAAC,WAAW,CAAC,EAC9C,IAAI,WAAW,CAAC,sBAAsB,CAAC,WAAW,CAAC,EACnD,IAAI,WAAW,CAAC,qBAAqB,CAAC,WAAW,CAAC;;QAElD,IAAI,WAAW,CAAC,sBAAsB,CAAC,WAAW,CAAC,EACnD,IAAI,WAAW,CAAC,gBAAgB,CAAC,WAAW,CAAC,EAC7C,IAAI,WAAW,CAAC,qBAAqB,CAAC,WAAW,CAAC,EAClD,IAAI,WAAW,CAAC,kBAAkB,CAAC,WAAW,CAAC,EAC/C,IAAI,WAAW,CAAC,0BAA0B,CAAC,WAAW,CAAC,EACvD,IAAI,WAAW,CAAC,gBAAgB,CAAC,WAAW,CAAC,EAC7C,IAAI,WAAW,CAAC,8BAA8B,CAAC,WAAW,CAAC,EAC3D,IAAI,WAAW,CAAC,mBAAmB,CAAC,WAAW,CAAC,EAChD,IAAI,WAAW,CAAC,2BAA2B,CAAC,WAAW,CAAC,EACxD,IAAI,WAAW,CAAC,cAAc,CAAC,WAAW,CAAC,CAC5C,CAAC;QAEF,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC,CAAC;QAEtB,OAAO,OAAO,CAAC;KAChB;;;;IAED,mBAAmB;;cACX,KAAK,GAAG,IAAI,OAAO,CAAC,IAAI,EAAE,IAAI,CAAC,gBAAgB,CAAC;QAEtD,IAAI,IAAI,CAAC,MAAM,KAAK,MAAM,IAAI,IAAI,CAAC,IAAI,KAAK,IAAI,IAAI,IAAI,CAAC,MAAM,KAAK,YAAY,EAAE;YAChF,KAAK,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC;SAC5B;aAAM;YACL,KAAK,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC;YAC3B,KAAK,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC;SAC5B;;QAED,KAAK,CAAC,gBAAgB,CAAC,UAAU,GAAG,IAAI,CAAC;QACzC,KAAK,CAAC,gBAAgB,CAAC,aAAa;;;;;;QAAG,CAAC,IAAI,EAAE,IAAI,EAAE,GAAG;;kBAC/C,OAAO,GAAG,KAAK,CAAC,aAAa,CAAC,KAAK,CAAC,gBAAgB,EAAE,CAAC;YAC7D,IAAI,IAAI,IAAI,IAAI;mBACX,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,iBAAiB,CAAC,GAAG,CAAC,CAAC;mBAC9C,OAAO,CAAC,SAAS;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,EAAE,KAAK,IAAI,CAAC,KAAK,EAAE,EAAC,GAAG,CAAC,CAAC,EAAE;gBACvD,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,IAAI;;;gBAAE;;0BACrB,WAAW,GAAG,IAAI,CAAC,QAAQ,CAAC,uBAAuB,CAAC,2BAA2B,CAAC;;0BAChF,OAAO,GAAG,WAAW,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC;oBACjD,OAAO,CAAC,QAAQ,CAAC,aAAa,GAAG,IAAI,CAAC,WAAW,CAAC;;0BAC5C,WAAW,GAAiB;wBAChC,KAAK,EAAE,QAAQ;wBACf,KAAK,EAAE,GAAG;wBACV,MAAM,EAAE,GAAG;wBACX,WAAW,EAAE,IAAI;wBACjB,OAAO,EAAE,OAAO,CAAC,QAAQ,CAAC,MAAM;qBACjC;;0BACK,MAAM,GAAG,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,OAAO,EAAE,WAAW,CAAC;oBAC3D,OAAO,CAAC,QAAQ,CAAC,MAAM,CAAC,SAAS;;;;oBAAC,MAAM,IAAI,MAAM,CAAC,KAAK,EAAE,EAAC,CAAC;oBAC5D,OAAO,CAAC,QAAQ,CAAC,MAAM,CAAC,SAAS;;;;oBAAC,CAAC,IAAY;wBAC7C,MAAM,CAAC,KAAK,EAAE,CAAC;qBAChB,EAAC,CAAC;iBACJ,EAAC,CAAC;aACJ;SACF,CAAA,CAAC;QACF,OAAO,KAAK,CAAC;KACd;;;;IAED,aAAa;QACX,OAAO,IAAI,SAAS,CAAC,IAAI,EAAE,IAAI,CAAC,gBAAgB,CAAC,CAAC;KACnD;;;;IAED,IAAI;QACF,KAAK,CAAC,IAAI,EAAE,CAAC;QAEb,IAAI,IAAI,CAAC,MAAM,KAAK,MAAM,IAAI,IAAI,CAAC,MAAM,KAAK,YAAY,EAAE;;kBACpD,IAAI,GAAG,IAAI,CAAC,UAAU,CAAC,EAAE,CAAC;YAChC,IAAI,CAAC,KAAK,CAAC,QAAQ,GAAG,MAAM,CAAC;YAC7B,IAAI,CAAC,KAAK,CAAC,KAAK,GAAG,OAAO,CAAC;YAC3B,IAAI,CAAC,KAAK,CAAC,YAAY,GAAG,MAAM,CAAC;YACjC,IAAI,CAAC,KAAK,CAAC,OAAO,GAAG,UAAU,CAAC;YAChC,IAAI,CAAC,KAAK,CAAC,UAAU,GAAG,oBAAoB,CAAC;;kBACvC,CAAC,GAAG,QAAQ,CAAC,cAAc,CAAC,WAAW,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;YAC9D,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC;;kBACd,CAAC,GAAG,IAAI,CAAC,SAAS,CAAC,EAAE,CAAC;YAC5B,CAAC,CAAC,KAAK,CAAC,QAAQ,GAAG,UAAU,CAAC;YAC9B,CAAC,CAAC,KAAK,CAAC,GAAG,GAAG,MAAM,CAAC;YACrB,CAAC,CAAC,KAAK,CAAC,KAAK,GAAG,MAAM,CAAC;YACvB,CAAC,CAAC,KAAK,CAAC,MAAM,GAAG,GAAG,CAAC;YACrB,CAAC,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;YACpB,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC;SAC/B;;cAEK,QAAQ,GAAG,QAAQ,CAAC,aAAa,CAAC,GAAG,CAAC;QAC5C,QAAQ,CAAC,YAAY,CAAC,MAAM,EAAE,qBAAqB,CAAC,CAAC;;YACjD,WAAW,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC;QAC/C,QAAQ,CAAC,KAAK,CAAC,WAAW,GAAG,MAAM,CAAC;QACpC,WAAW,CAAC,GAAG,GAAG,WAAW,CAAC,UAAU,GAAG,aAAa,CAAC;QACzD,WAAW,CAAC,KAAK,CAAC,OAAO,GAAG,cAAc,CAAC;QAC3C,WAAW,CAAC,KAAK,CAAC,aAAa,GAAG,QAAQ,CAAC;QAC3C,QAAQ,CAAC,WAAW,CAAC,WAAW,CAAC,CAAC;QAClC,OAAO,CAAC,WAAW,CAAC,QAAQ,EAAE,OAAO;;;;QAAE,CAAC,GAAiB;YACvD,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,UAAU,CAAC,UAAU,CAAC,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;SAC5D,EAAC,CAAC;;cAEG,SAAS,GAAG,QAAQ,CAAC,aAAa,CAAC,GAAG,CAAC;QAC7C,SAAS,CAAC,YAAY,CAAC,MAAM,EAAE,qBAAqB,CAAC,CAAC;;YAClD,YAAY,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC;QAChD,YAAY,CAAC,GAAG,GAAG,WAAW,CAAC,UAAU,GAAG,cAAc,CAAC;QAC3D,YAAY,CAAC,KAAK,CAAC,OAAO,GAAG,cAAc,CAAC;QAC5C,YAAY,CAAC,KAAK,CAAC,aAAa,GAAG,QAAQ,CAAC;QAC5C,SAAS,CAAC,WAAW,CAAC,YAAY,CAAC,CAAC;QACpC,OAAO,CAAC,WAAW,CAAC,SAAS,EAAE,OAAO;;;;QAAE,CAAC,GAAiB;YACxD,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,UAAU,CAAC,WAAW,CAAC,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;SAC7D,EAAC,CAAC;;cAEG,OAAO,GAAG,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC;QACzC,OAAO,CAAC,KAAK,CAAC,QAAQ,GAAG,UAAU,CAAC;QACpC,OAAO,CAAC,KAAK,CAAC,MAAM,GAAG,GAAG,CAAC;;YACvB,CAAC,GAAG,EAAE;QACV,IAAI,IAAI,CAAC,WAAW,EAAE;YACpB,CAAC,IAAI,IAAI,CAAC,aAAa,CAAC;SACzB;QACD,IAAI,IAAI,CAAC,WAAW,EAAE;YACpB,CAAC,IAAI,IAAI,CAAC,aAAa,CAAC;SACzB;QACD,OAAO,CAAC,KAAK,CAAC,GAAG,GAAG,CAAC,GAAG,IAAI,CAAC;QAC7B,OAAO,CAAC,KAAK,CAAC,IAAI,GAAG,CAAC,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,oBAAoB,GAAG,IAAI,CAAC,gBAAgB,GAAG,CAAC,IAAI,EAAE,GAAG,IAAI,CAAC;QAE5G,OAAO,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;QAC9B,OAAO,CAAC,WAAW,CAAC,SAAS,CAAC,CAAC;QAC/B,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC;QACpC,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;KACxB;;;;;IAED,oBAAoB,CAAC,KAAa;QAChC,KAAK,CAAC,oBAAoB,CAAC,KAAK,CAAC,CAAC;;QAGlC,IAAI,IAAI,CAAC,OAAO,EAAE;YAChB,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,GAAG,CAAC,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,oBAAoB,GAAG,IAAI,CAAC,gBAAgB,GAAG,CAAC,IAAI,EAAE,GAAG,IAAI,CAAC;SAClH;KACF;;;;;;IAOD,UAAU,CAAC,SAAiB;;YACtB,GAAG,GAAG,QAAQ,CAAC,aAAa,CAAC,MAAM,CAAC;QACxC,GAAG,CAAC,SAAS,GAAG,SAAS,CAAC;QAE1B,OAAO,GAAG,CAAC;KACZ;;;;;;IAMD,iBAAiB,CAAC,aAA4B;QAC5C,IAAI,CAAC,OAAO,IAAI,IAAI,CAAC,OAAO,CAAC,gBAAgB,CAAC,aAAa,CAAC,CAAC;KAC9D;;;;;;IAMD,iBAAiB,CAAC,GAAQ;;;cAElB,GAAG,GAAG,GAAG,CAAC,KAAK,CAAC,YAAY;QAClC,GAAG,CAAC,aAAa,GAAG,GAAG,CAAC,KAAK,CAAC,aAAa,CAAC;;QAE5C,GAAG,CAAC,UAAU,GAAG,wBAAwB,CAAC,aAAa,CAAC;QACxD,KAAK,MAAM,EAAE,IAAI,GAAG,EAAE;;kBACd,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,sBAAsB,CAAC,EAAE,CAAC;YAClD,IAAI,IAAI,EAAE;gBACR,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC;gBACtB,IAAI,CAAC,KAAK,CAAC,OAAO,EAAE,CAAC;aACtB;SACF;KACF;;;;;;IAMD,gBAAgB,CAAC,GAAQ;QACvB,KAAK,MAAM,CAAC,IAAI,GAAG,EAAE;YACnB,QAAQ,CAAC,CAAC,IAAI;gBACZ,KAAK,cAAc;;0BACX,IAAI,GAAG,CAAC,CAAC,KAAK;oBACpB,GAAG,CAAC,aAAa,GAAG,CAAC,CAAC,MAAM,CAAC;oBAC7B,GAAG,CAAC,UAAU,GAAG,wBAAwB,CAAC,gBAAgB,CAAC;oBAC3D,KAAK,MAAM,EAAE,IAAI,IAAI,EAAE;;8BACf,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,sBAAsB,CAAC,EAAE,CAAC,EAAE,CAAC;wBACrD,IAAI,IAAI,EAAE;4BACR,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC;4BACtB,IAAI,CAAC,KAAK,CAAC,OAAO,EAAE,CAAC;yBACtB;qBACF;oBACD,MAAM;gBACR,KAAK,eAAe;;0BACZ,IAAI,GAAG,CAAC,CAAC,KAAK;oBACpB,GAAG,CAAC,aAAa,GAAG,CAAC,CAAC,MAAM,CAAC;oBAC7B,GAAG,CAAC,UAAU,GAAG,wBAAwB,CAAC,iBAAiB,CAAC;oBAC5D,KAAK,MAAM,EAAE,IAAI,IAAI,EAAE;;8BACf,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,sBAAsB,CAAC,EAAE,CAAC,EAAE,CAAC;wBACrD,IAAI,IAAI,EAAE;4BACR,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC;4BACtB,IAAI,CAAC,KAAK,CAAC,OAAO,EAAE,CAAC;yBACtB;qBACF;oBACD,MAAM;gBACR,KAAK,UAAU;;0BACP,IAAI,GAAG,CAAC,CAAC,KAAK;oBACpB,GAAG,CAAC,aAAa,GAAG,CAAC,CAAC,MAAM,CAAC;oBAC7B,GAAG,CAAC,UAAU,GAAG,wBAAwB,CAAC,aAAa,CAAC;oBACxD,KAAK,MAAM,EAAE,IAAI,IAAI,EAAE;;8BACf,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,sBAAsB,CAAC,EAAE,CAAC,EAAE,CAAC;wBACrD,IAAI,IAAI,EAAE;4BACR,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC;4BACtB,IAAI,CAAC,KAAK,CAAC,OAAO,EAAE,CAAC;yBACtB;qBACF;oBACD,MAAM;gBACR,KAAK,QAAQ;;0BACL,IAAI,GAAG,CAAC,CAAC,KAAK;oBACpB,GAAG,CAAC,aAAa,GAAG,CAAC,CAAC,MAAM,CAAC;oBAC7B,GAAG,CAAC,UAAU,GAAG,wBAAwB,CAAC,UAAU,CAAC;oBACrD,KAAK,MAAM,EAAE,IAAI,IAAI,EAAE;;8BACf,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,sBAAsB,CAAC,EAAE,CAAC,EAAE,CAAC;wBACrD,IAAI,IAAI,EAAE;4BACR,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC;4BACtB,IAAI,CAAC,KAAK,CAAC,OAAO,EAAE,CAAC;yBACtB;qBACF;oBACD,MAAM;;gBAER,KAAK,cAAc;;0BACX,IAAI,GAAG,CAAC,CAAC,KAAK;oBACpB,GAAG,CAAC,aAAa,GAAG,CAAC,CAAC,MAAM,CAAC;oBAC7B,GAAG,CAAC,UAAU,GAAG,wBAAwB,CAAC,YAAY,CAAC;oBACvD,KAAK,MAAM,EAAE,IAAI,IAAI,EAAE;;8BACf,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,sBAAsB,CAAC,EAAE,CAAC,EAAE,CAAC;wBACrD,IAAI,IAAI,EAAE;4BACR,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC;4BACtB,IAAI,CAAC,KAAK,CAAC,OAAO,EAAE,CAAC;yBACtB;qBACF;oBACD,MAAM;aACT;SACF;KACF;;;;;;;IAOD,eAAe,CAAC,WAAgB,EAAE,OAAa;QAC7C,IAAI,CAAC,KAAK,CAAC,2BAA2B,CAAC,WAAW,EAAE,OAAO,CAAC,CAAC;KAE9D;;;;;;IAMD,aAAa,CAAC,OAAe;QAC3B,IAAI,CAAC,KAAK,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;KACnC;;;;;;IAOD,eAAe,CAAC,GAAQ;;cAChB,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,sBAAsB,CAAC,GAAG,CAAC,EAAE,CAAC;QACtD,OAAO,IAAI,CAAC,mBAAmB,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC;KACzC;;;;;IAMD,aAAa;;cACL,IAAI,GAAG,EAAE;;cACT,SAAS,GAAG,IAAI,CAAC,KAAK,CAAC,SAAS;;cAChC,QAAQ,GAAG,SAAS,CAAC,cAAc,CAAC,eAAe,EAAE;QAC3D,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,OAAO;;;;QAAC,CAAC,GAAG;;kBAC1B,OAAO,GAAG,QAAQ,CAAC,GAAG,CAAC;YAC7B,IAAI,OAAO,CAAC,SAAS,KAAK,YAAY,CAAC,WAAW;mBAC7C,OAAO,CAAC,SAAS,KAAK,iBAAiB,CAAC,WAAW,EAAE;gBACxD,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;aACpB;SACF,EAAC,CAAC;QACH,OAAO,IAAI,CAAC;KACb;;;;;IAMD,YAAY;;cACJ,YAAY,GAAG,EAAE;;cACjB,SAAS,GAAG,IAAI,CAAC,KAAK,CAAC,SAAS;;cAChC,QAAQ,GAAG,SAAS,CAAC,cAAc,CAAC,eAAe,EAAE;QAC3D,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,OAAO;;;;QAAC,CAAC,GAAG;;kBAC1B,OAAO,GAAG,QAAQ,CAAC,GAAG,CAAC;YAC7B,IAAI,OAAO,CAAC,SAAS,KAAK,eAAe,IAAI,OAAO,CAAC,SAAS,KAAK,YAAY,CAAC,WAAW;mBACtF,OAAO,CAAC,SAAS,KAAK,iBAAiB,CAAC,WAAW,EAAE;gBACxD,YAAY,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;aAC5B;SACF,EAAC,CAAC;QACH,OAAO,YAAY,CAAC;KACrB;;;;;IAMD,eAAe;;cACP,IAAI,GAAG,EAAE;;cACT,SAAS,GAAG,IAAI,CAAC,KAAK,CAAC,SAAS;;cAChC,QAAQ,GAAG,SAAS,CAAC,cAAc,CAAC,eAAe,EAAE;QAC3D,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,OAAO;;;;QAAC,CAAC,GAAG;;kBAC1B,OAAO,GAAG,QAAQ,CAAC,GAAG,CAAC;YAC7B,IAAI,OAAO,CAAC,SAAS,KAAK,mBAAmB,EAAE;gBAC7C,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;aACpB;SACF,EAAC,CAAC;QACH,OAAO,IAAI,CAAC;KACb;;;;;IAMD,gBAAgB;;cACR,IAAI,GAAG,EAAE;;cACT,SAAS,GAAG,IAAI,CAAC,KAAK,CAAC,SAAS;;cAChC,QAAQ,GAAG,SAAS,CAAC,cAAc,CAAC,eAAe,EAAE;QAC3D,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,OAAO;;;;QAAC,CAAC,GAAG;;kBAC1B,OAAO,GAAG,QAAQ,CAAC,GAAG,CAAC;YAC7B,IAAI,OAAO,CAAC,SAAS,KAAK,mBAAmB,EAAE;gBAC7C,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;aACpB;SACF,EAAC,CAAC;QACH,OAAO,IAAI,CAAC;KACb;;;;;IAKD,oBAAoB;;cACZ,IAAI,GAAG,EAAE;;cACT,SAAS,GAAG,IAAI,CAAC,KAAK,CAAC,SAAS;;cAChC,QAAQ,GAAG,SAAS,CAAC,cAAc,CAAC,eAAe,EAAE;QAC3D,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,OAAO;;;;QAAC,CAAC,GAAG;;kBAC1B,OAAO,GAAG,QAAQ,CAAC,GAAG,CAAC;YAC7B,IAAI,OAAO,CAAC,SAAS,KAAK,2BAA2B;gBACrD,OAAO,CAAC,SAAS,KAAK,+BAA+B,EAAE;gBACrD,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;aACpB;SACF,EAAC,CAAC;QACH,OAAO,IAAI,CAAC;KACb;;;;;IAKD,YAAY;;YACN,SAAS,GAAG,IAAI;;cACd,SAAS,GAAG,IAAI,CAAC,KAAK,CAAC,SAAS;;cAChC,cAAc,GAAG,SAAS,CAAC,cAAc,CAAC,oBAAoB,EAAE;QACtE,IAAI,cAAc,CAAC,MAAM,GAAG,CAAC,EAAE;YAC7B,KAAK,MAAM,CAAC,IAAI,cAAc,EAAE;gBAC9B,IAAI,CAAC,YAAY,aAAa,EAAE;oBAC9B,SAAS,GAAG,CAAC,CAAC,SAAS,CAAC;iBACzB;aACF;SACF;QACD,OAAO,SAAS,CAAC;KAClB;CACF;;;;;;ACzcD,MAMa,kBAAkB;IAG7B;KAEC;;;;;;IACC,OAAO,SAAS,CAAC,SAAoB,EAAE,KAAa;;;cAE1C,UAAU,GAAG,IAAI,CAAC,oBAAoB,CAAC,SAAS,CAAC;QACvD,IAAI,CAAC,UAAU,CAAC,KAAK,EAAE;YACnB,OAAO,UAAU,CAAC;SACrB;;;cAEK,WAAW,GAAG,IAAI,CAAC,oBAAoB,CAAC,SAAS,CAAC;QACxD,IAAI,CAAC,WAAW,CAAC,KAAK,EAAE;YACpB,OAAO,WAAW,CAAC;SACtB;;cACK,WAAW,GAAG,IAAI,CAAC,gBAAgB,CAAC,SAAS,EAAE,KAAK,CAAC;QAC3D,OAAO;YACH,KAAK,EAAE,IAAI;YACX,WAAW,EAAE,WAAW;SAC3B,CAAC;KACL;;;;;;;IAEK,OAAO,gBAAgB,CAAC,SAAoB,EAAE,KAAa;;YAC7D,WAAW,GAAG,IAAI,KAAK,EAAE;;QAE7B,IAAI,CAAC,uBAAuB,CAAC,SAAS,EAAE,WAAW,CAAC,CAAC;;QAErD,IAAI,CAAC,gBAAgB,CAAC,SAAS,EAAE,KAAK,EAAE,WAAW,CAAC,CAAC;;QAErD,IAAI,CAAC,0BAA0B,CAAC,SAAS,EAAE,WAAW,CAAC,CAAC;QAExD,OAAO,WAAW,CAAC;KACpB;;;;;;;;IAEO,OAAO,gBAAgB,CAAC,SAAoB,EAAE,KAAa,EAAE,WAAuB;QAC1F,IAAI,KAAK,KAAK,SAAS,EAAE;YACvB,OAAO;SACR;;cACK,cAAc,GAAG,SAAS,CAAC,cAAc,CAAC,oBAAoB,EAAE;;cAChE,aAAa,GAAG,cAAc,CAAC,IAAI;;;;QAAC,CAAC,IAAI,CAAC,YAAY,aAAa,EAAC;QAC1E,IAAI,CAAC,aAAa,EAAE;YAClB,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,0BAA0B,CAAC,CAAC,CAAA;YAClE,OAAO;SACR;;cACK,QAAQ,GAAG,cAAc,CAAC,MAAM;;;;QAAC,CAAC,IAAI,CAAC,YAAYH,WAAS,EAAC;QACnE,IAAI,CAAC,QAAQ,IAAI,QAAQ,CAAC,MAAM,KAAK,CAAC,EAAE;;kBAChC,GAAG,GAAG;gBACV,EAAE,EAAE,SAAS;gBACb,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,oBAAoB,CAAC;gBACpD,GAAG,EAAE,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,uBAAuB,CAAC;gBACrD,IAAI,EAAE,gBAAgB;aACvB;YACD,WAAW,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;YACtB,OAAO;SACR;;QAED,IAAI,oBAAC,aAAa,IAAmB,SAAS,KAAK,SAAS,CAAC,MAAM,EAAE;;;kBAE7D,MAAM,GAAG,QAAQ,CAAC,MAAM;;;;YAAC,CAAC,CAAY,KAAK,eAAe,CAAC,aAAa,CAAC,CAAC,CAAC,UAAU,CAAC,EAAC;YAC7F,IAAI,MAAM,IAAI,MAAM,CAAC,MAAM,GAAG,CAAC,EAAE;;oBAC3B,UAAU,GAAG,EAAE;gBACnB,KAAK,MAAM,GAAG,IAAI,MAAM,EAAE;oBACxB,UAAU,GAAG,UAAU,CAAC,MAAM,CAAC,GAAG,oBAAC,GAAG,IAAe,IAAI,IAAI,CAAC,CAAC;iBAChE;gBACD,UAAU,GAAG,UAAU,CAAC,KAAK,CAAC,CAAC,EAAE,UAAU,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;;sBAClD,GAAG,GAAG;oBACV,EAAE,EAAE,wBAAwB;oBAC5B,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,qBAAqB,CAAC;oBACrD,GAAG,EAAE,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,wBAAwB,CAAC,GAAC,GAAG,UAAU,GAAG;oBACvE,IAAI,EAAE,gBAAgB;iBACvB;gBACD,WAAW,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;aACvB;YACD,IAAI,CAAC,QAAQ,CAAC,IAAI;;;;YAAC,CAAC,CAAY,KAAK,CAAC,CAAC,IAAI,KAAK,QAAQ,CAAC,QAAQ,EAAC,EAAE;;sBAC5D,GAAG,GAAG;oBACV,EAAE,EAAE,iBAAiB;oBACrB,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,wBAAwB,CAAC;oBACxD,GAAG,EAAE,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,2BAA2B,CAAC;oBACzD,IAAI,EAAE,gBAAgB;iBACvB;gBACD,WAAW,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;aACvB;YACD,IAAI,CAAC,QAAQ,CAAC,IAAI;;;;YAAC,CAAC,CAAY,KAAK,CAAC,CAAC,IAAI,KAAK,QAAQ,CAAC,uBAAuB,EAAC,EAAE;;sBAC3E,GAAG,GAAG;oBACV,EAAE,EAAE,qBAAqB;oBACzB,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,qBAAqB,CAAC;oBACrD,GAAG,EAAE,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,wBAAwB,CAAC;oBACtD,IAAI,EAAE,gBAAgB;iBACvB;gBACD,WAAW,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;aACvB;YACD,IAAI,CAAC,QAAQ,CAAC,IAAI;;;;YAAC,CAAC,CAAY,KAAK,CAAC,CAAC,IAAI,KAAK,QAAQ,CAAC,yBAAyB,EAAC,EAAE;;sBAC7E,GAAG,GAAG;oBACV,EAAE,EAAE,wBAAwB;oBAC5B,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,iCAAiC,CAAC;oBACjE,GAAG,EAAE,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,oCAAoC,CAAC;oBAClE,IAAI,EAAE,gBAAgB;iBACvB;gBACD,WAAW,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;aACvB;YACD,IAAI,CAAC,QAAQ,CAAC,IAAI;;;;YAAC,CAAC,CAAY,KAAK,oBAAC,CAAC,CAAC,IAAI,QAAa,yBAAyB,EAAC,EAAE;;sBAC7E,GAAG,GAAG;oBACV,EAAE,EAAE,qBAAqB;oBACzB,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,8BAA8B,CAAC;oBAC9D,GAAG,EAAE,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,iCAAiC,CAAC;oBAC/D,IAAI,EAAE,gBAAgB;iBACvB;gBACD,WAAW,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;aACvB;YACD,IAAI,CAAC,QAAQ,CAAC,IAAI;;;;YAAC,CAAC,CAAY,KAAK,CAAC,CAAC,IAAI,KAAK,0BAA0B,EAAC,EAAE;;sBACrE,GAAG,GAAG;oBACV,EAAE,EAAE,sBAAsB;oBAC1B,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,+BAA+B,CAAC;oBAC/D,GAAG,EAAE,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,kCAAkC,CAAC;oBAChE,IAAI,EAAE,gBAAgB;iBACvB;gBACD,WAAW,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;aACvB;YACD,IAAI,CAAC,QAAQ,CAAC,IAAI;;;;YAAC,CAAC,CAAY,KAAK,CAAC,CAAC,IAAI,KAAK,0BAA0B,EAAC,EAAE;;sBACrE,GAAG,GAAG;oBACV,EAAE,EAAE,oBAAoB;oBACxB,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,6BAA6B,CAAC;oBAC7D,GAAG,EAAE,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,gCAAgC,CAAC;oBAC9D,IAAI,EAAE,gBAAgB;iBACvB;gBACD,WAAW,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;aACvB;YACD,IAAI,CAAC,QAAQ,CAAC,IAAI;;;;YAAC,CAAC,CAAY,KAAK,CAAC,CAAC,IAAI,KAAK,0BAA0B,EAAC,EAAE;;sBACrE,GAAG,GAAG;oBACV,EAAE,EAAE,uBAAuB;oBAC3B,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,gCAAgC,CAAC;oBAChE,GAAG,EAAE,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,mCAAmC,CAAC;oBACjE,IAAI,EAAE,gBAAgB;iBACvB;gBACD,WAAW,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;aACvB;SACF;KACF;;;;;;;IAEO,OAAO,uBAAuB,CAAC,SAAoB,EAAE,WAAuB;;cAC5E,YAAY,GAAG,SAAS,CAAC,cAAc,CAAC,eAAe,EAAE;;YAC3D,oBAAoB,GAAG,CAAC;QAC5B,KAAK,MAAM,CAAC,IAAI,YAAY,EAAE;YAC5B,IAAI,YAAY,CAAC,CAAC,CAAC,YAAY,eAAe,EAAE;gBAC9C,oBAAoB,EAAE,CAAC;aACxB;SACF;QACD,IAAI,oBAAoB,GAAG,CAAC,KAAK,CAAC,EAAE;;kBAC5B,GAAG,GAAG;gBACV,EAAE,EAAE,sBAAsB;gBAC1B,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,+BAA+B,CAAC;gBAC/D,GAAG,EAAE,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,kCAAkC,CAAC;gBAChE,IAAI,EAAE,gBAAgB;aACvB;YACD,WAAW,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;SACvB;KACF;;;;;;;IAEO,OAAO,0BAA0B,CAAC,SAAoB,EAAE,WAAkB;;cAC1E,YAAY,GAAG,SAAS,CAAC,cAAc,CAAC,eAAe,EAAE;;YAC3D,KAAK,GAAG,CAAC;QACb,KAAK,MAAM,CAAC,IAAI,YAAY,EAAE;;kBACtB,GAAG,GAAG,YAAY,CAAC,CAAC,CAAC;YAC3B,IAAI,GAAG,YAAY,YAAY,IAAI,GAAG,YAAY,iBAAiB,EAAE;;sBAC7D,KAAK,GAAG,GAAG,CAAC,gBAAgB,EAAE;gBACpC,IAAI,KAAK,CAAC,MAAM,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,qBAAqB,IAAI,CAAC,GAAG,CAAC,qBAAqB,CAAC,iBAAiB,CAAC,EAAE;;0BAC/F,GAAG,GAAG;wBACV,EAAE,EAAE,wBAAwB,GAAG,KAAK;wBACpC,KAAK,EAAE,IAAI,YAAY,CAAC,CAAC,CAAC,CAAC,IAAI,GAAG,GAAI,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,iCAAiC,CAAC;wBAChG,GAAG,EAAE,EAAE;wBACP,IAAI,EAAE,gBAAgB;qBACvB;oBACD,WAAW,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;oBAEtB,KAAK,EAAE,CAAC;iBACT;aACF;SACF;KACF;;;;;;IAEO,OAAO,oBAAoB,CAAC,SAAoB;;cAChD,OAAO,GAAG,SAAS,CAAC,cAAc,CAAC,cAAc,EAAE;;YACrD,SAAS,GAAG,IAAI,KAAK,EAAE;QAC3B,IAAI,OAAO,IAAI,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE;YACjC,SAAS,GAAG,OAAO,CAAC,MAAM;;;;YAAC,CAAC,IAAI,CAAC,CAAC,QAAQ,CAAC,QAAQ,KAAK,YAAY,EAAC,CAAC,GAAG;;;;YAAC,CAAC,IAAI,CAAC,CAAC,IAAI,EAAC,CAAC;SACxF;;cACK,YAAY,GAAG,SAAS,CAAC,cAAc,CAAC,eAAe,EAAE;QAC/D,KAAK,MAAM,CAAC,IAAI,YAAY,EAAE;YAC5B,IAAI,YAAY,CAAC,CAAC,CAAC,YAAY,YAAY;gBACzC,YAAY,CAAC,CAAC,CAAC,YAAY,iBAAiB;gBAC5C,YAAY,CAAC,CAAC,CAAC,YAAY,YAAY;gBACvC,YAAY,CAAC,CAAC,CAAC,YAAY,eAAe;gBAC1C,YAAY,CAAC,CAAC,CAAC,YAAY,sBAAsB;gBACjD,YAAY,CAAC,CAAC,CAAC,YAAY,0BAA0B;gBACrD,YAAY,CAAC,CAAC,CAAC,YAAY,cAAc,EAAE;;sBACrC,QAAQ,GAAG,oBAAC,YAAY,CAAC,CAAC,CAAC,IAAS,gBAAgB;gBAC1D,IAAI,QAAQ,EAAE;oBACZ,KAAK,MAAM,CAAC,IAAI,QAAQ,EAAE;wBACxB,IAAI,CAAC,SAAS,CAAC,IAAI;;;;wBAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,YAAY,EAAC,EAAE;4BAC9C,OAAO;gCACL,KAAK,EAAE,KAAK;gCACZ,IAAI,EAAE,SAAS;gCACf,KAAK,EAAE,SAAS;gCAChB,OAAO,EAAE,IAAI,YAAY,CAAC,CAAC,CAAC,CAAC,IAAI,GAAG,GAAG,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,sBAAsB,CAAC;sCACrF,IAAI,CAAC,CAAC,YAAY,GAAG,GAAE,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,sBAAsB,CAAC;6BACxE,CAAA;yBACF;qBACF;iBACF;aACF;SACF;QACD,OAAO;YACL,KAAK,EAAE,IAAI;SACZ,CAAC;KACH;;;;;;IAEO,OAAO,oBAAoB,CAAC,SAAoB;;cAChD,YAAY,GAAG,SAAS,CAAC,cAAc,CAAC,eAAe,EAAE;;cACzD,QAAQ,GAAG,IAAI,CAAC,kBAAkB,CAAC,YAAY,CAAC;QACtD,IAAI,CAAC,QAAQ,CAAC,KAAK,EAAE;YACnB,OAAO,QAAQ,CAAC;SACjB;;cACK,UAAU,GAAG,IAAI,CAAC,oBAAoB,CAAC,YAAY,CAAC;QAC1D,IAAI,CAAC,UAAU,CAAC,KAAK,EAAE;YACrB,OAAO,UAAU,CAAC;SACnB;QACD,OAAO;YACL,KAAK,EAAE,IAAI;SACZ,CAAC;KACH;;;;;;IAEO,OAAO,kBAAkB,CAAC,YAAiB;QACjD,KAAK,MAAM,CAAC,IAAI,YAAY,EAAE;YAC5B,QAAQ,YAAY,CAAC,CAAC,CAAC,CAAC,SAAS;gBAC/B,KAAK,kBAAkB;;0BACf,aAAa,sBAAG,YAAY,CAAC,CAAC,CAAC,EAAiB;oBACtD,IAAI,CAAC,aAAa,CAAC,EAAE,CAAC,UAAU,CAAC,eAAe,CAAC,EAAE;wBACjD,OAAO;4BACL,KAAK,EAAE,KAAK;4BACZ,IAAI,EAAE,SAAS;4BACf,KAAK,EAAE,OAAO;4BACd,OAAO,EAAE,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,mBAAmB,CAAC;gCACrD,GAAG,aAAa,CAAC,IAAI,EAAE,GAAE,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,0BAA0B,CAAC;yBAC7E,CAAC;qBACH;oBACD,MAAM;gBACR,KAAK,uBAAuB;;0BACpB,gBAAgB,sBAAG,YAAY,CAAC,CAAC,CAAC,EAAoB;oBAC5D,IAAI,CAAC,gBAAgB,CAAC,EAAE,CAAC,UAAU,CAAC,kBAAkB,CAAC,EAAE;wBACvD,OAAO;4BACL,KAAK,EAAE,KAAK;4BACZ,IAAI,EAAE,SAAS;4BACf,KAAK,EAAE,OAAO;4BACd,OAAO,EAAE,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,mBAAmB,CAAC;gCACrD,GAAG,gBAAgB,CAAC,IAAI,EAAE,GAAE,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,6BAA6B,CAAC;yBACnF,CAAA;qBACF;oBACD,MAAM;gBACR,KAAK,sBAAsB;;0BACnB,eAAe,sBAAG,YAAY,CAAC,CAAC,CAAC,EAAmB;oBAC1D,IAAI,CAAC,eAAe,CAAC,EAAE,CAAC,UAAU,CAAC,iBAAiB,CAAC,EAAE;wBACrD,OAAO;4BACL,KAAK,EAAE,KAAK;4BACZ,IAAI,EAAE,SAAS;4BACf,KAAK,EAAE,OAAO;4BACd,OAAO,EAAE,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,mBAAmB,CAAC;gCACrD,GAAG,eAAe,CAAC,IAAI,EAAE,GAAE,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,4BAA4B,CAAC;yBACjF,CAAC;qBACH;oBACD,MAAM;gBACR,KAAK,iBAAiB;;0BACd,YAAY,sBAAG,YAAY,CAAC,CAAC,CAAC,EAAgB;oBACpD,IAAI,CAAC,YAAY,CAAC,EAAE,CAAC,UAAU,CAAC,cAAc,CAAC,EAAE;wBAC/C,OAAO;4BACL,KAAK,EAAE,KAAK;4BACZ,IAAI,EAAE,SAAS;4BACf,KAAK,EAAE,OAAO;4BACd,OAAO,EAAE,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,mBAAmB,CAAC;gCACrD,GAAG,YAAY,CAAC,IAAI,EAAE,GAAE,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,yBAAyB,CAAC;yBAC3E,CAAC;qBACH;oBACD,MAAM;gBACR,KAAK,sBAAsB;;0BACnB,iBAAiB,sBAAG,YAAY,CAAC,CAAC,CAAC,EAAqB;oBAC9D,IAAI,CAAC,iBAAiB,CAAC,EAAE,CAAC,UAAU,CAAC,cAAc,CAAC,EAAE;wBACpD,OAAO;4BACL,KAAK,EAAE,KAAK;4BACZ,IAAI,EAAE,SAAS;4BACf,KAAK,EAAE,OAAO;4BACd,OAAO,EAAE,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,mBAAmB,CAAC;gCACrD,GAAG,iBAAiB,CAAC,IAAI,EAAE,GAAE,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,8BAA8B,CAAC;yBACrF,CAAC;qBACH;oBACD,MAAM;gBACR,KAAK,mBAAmB;;0BAChB,cAAc,sBAAG,YAAY,CAAC,CAAC,CAAC,EAAkB;oBACxD,IAAI,CAAC,cAAc,CAAC,EAAE,CAAC,UAAU,CAAC,gBAAgB,CAAC,EAAE;wBACnD,OAAO;4BACL,KAAK,EAAE,KAAK;4BACZ,IAAI,EAAE,SAAS;4BACf,KAAK,EAAE,OAAO;4BACd,OAAO,EAAE,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,mBAAmB,CAAC;gCACrD,GAAG,cAAc,CAAC,IAAI,EAAE,GAAE,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,2BAA2B,CAAC;yBAC/E,CAAC;qBACH;oBACD,MAAM;gBACR,KAAK,2BAA2B;;0BACxB,sBAAsB,sBAAG,YAAY,CAAC,CAAC,CAAC,EAA0B;oBACxE,IAAI,CAAC,sBAAsB,CAAC,EAAE,CAAC,UAAU,CAAC,wBAAwB,CAAC,EAAE;wBACnE,OAAO;4BACL,KAAK,EAAE,KAAK;4BACZ,IAAI,EAAE,SAAS;4BACf,KAAK,EAAE,OAAO;4BACd,OAAO,EAAE,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,mBAAmB,CAAC;gCACrD,GAAG,sBAAsB,CAAC,IAAI,EAAE,GAAE,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,mCAAmC,CAAC;yBAC/F,CAAC;qBACH;oBACD,MAAM;gBACR,KAAK,iBAAiB;;0BACd,YAAY,sBAAG,YAAY,CAAC,CAAC,CAAC,EAAgB;oBACpD,IAAI,CAAC,YAAY,CAAC,EAAE,CAAC,UAAU,CAAC,cAAc,CAAC,EAAE;wBAC/C,OAAO;4BACL,KAAK,EAAE,KAAK;4BACZ,IAAI,EAAE,SAAS;4BACf,KAAK,EAAE,OAAO;4BACd,OAAO,EAAE,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,mBAAmB,CAAC;gCACrD,GAAG,YAAY,CAAC,IAAI,EAAE,GAAE,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,yBAAyB,CAAC;yBAC5E,CAAC;qBACF;oBACD,MAAM;gBACR,KAAK,+BAA+B;;0BAC5B,0BAA0B,sBAAG,YAAY,CAAC,CAAC,CAAC,EAA8B;oBAChF,IAAI,CAAC,0BAA0B,CAAC,EAAE,CAAC,UAAU,CAAC,wBAAwB,CAAC,EAAE;wBACvE,OAAO;4BACL,KAAK,EAAE,KAAK;4BACZ,IAAI,EAAE,SAAS;4BACf,KAAK,EAAE,OAAO;4BACd,OAAO,EAAE,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,mBAAmB,CAAC;gCACrD,GAAG,0BAA0B,CAAC,IAAI,EAAE,GAAE,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,mCAAmC,CAAC;yBACnG,CAAC;qBACH;oBACD,MAAM;gBACR,KAAK,oBAAoB;;0BACjB,eAAe,sBAAG,YAAY,CAAC,CAAC,CAAC,EAAmB;oBAC1D,IAAI,CAAC,eAAe,CAAC,EAAE,CAAC,UAAU,CAAC,iBAAiB,CAAC,EAAE;wBACrD,OAAO;4BACL,KAAK,EAAE,KAAK;4BACZ,IAAI,EAAE,SAAS;4BACf,KAAK,EAAE,OAAO;4BACd,OAAO,EAAE,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,mBAAmB,CAAC;gCACrD,GAAG,eAAe,CAAC,IAAI,EAAE,GAAE,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,4BAA4B,CAAC;yBACjF,CAAC;qBACH;oBACD,MAAM;gBACR,KAAK,4BAA4B;;0BACzB,uBAAuB,sBAAG,YAAY,CAAC,CAAC,CAAC,EAA2B;oBAC1E,IAAI,CAAC,uBAAuB,CAAC,EAAE,CAAC,UAAU,CAAC,yBAAyB,CAAC,EAAE;wBACrE,OAAO;4BACL,KAAK,EAAE,KAAK;4BACZ,IAAI,EAAE,SAAS;4BACf,KAAK,EAAE,OAAO;4BACd,OAAO,EAAE,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,mBAAmB,CAAC;gCACrD,GAAG,uBAAuB,CAAC,IAAI,EAAE,GAAE,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,oCAAoC,CAAC;yBACjG,CAAC;qBACH;oBACD,MAAM;gBACR,KAAK,eAAe;;0BACZ,QAAQ,sBAAG,YAAY,CAAC,CAAC,CAAC,EAAY;oBAC5C,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,UAAU,CAAC,UAAU,CAAC,EAAE;wBACvC,OAAO;4BACL,KAAK,EAAE,KAAK;4BACZ,IAAI,EAAE,SAAS;4BACf,KAAK,EAAE,OAAO;4BACd,OAAO,EAAE,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,mBAAmB,CAAC;gCACrD,GAAG,QAAQ,CAAC,IAAI,EAAE,GAAE,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,qBAAqB,CAAC;yBACnE,CAAC;qBACH;oBACD,MAAM;aACT;SACF;QACD,OAAO;YACL,KAAK,EAAE,IAAI;SACZ,CAAC;KACH;;;;;;IAEO,OAAO,oBAAoB,CAAC,YAAiB;QACnD,KAAK,MAAM,CAAC,IAAI,YAAY,EAAE;;kBACtB,QAAQ,GAAG,YAAY,CAAC,CAAC,CAAC;YAChC,QAAQ,QAAQ,CAAC,SAAS;gBACxB,KAAK,kBAAkB,CAAC;gBACxB,KAAK,uBAAuB,CAAC;gBAC7B,KAAK,sBAAsB,CAAC;gBAC5B,KAAK,iBAAiB,CAAC;gBACvB,KAAK,sBAAsB,CAAC;gBAC5B,KAAK,mBAAmB,CAAC;gBACzB,KAAK,2BAA2B,CAAC;gBACjC,KAAK,iBAAiB,CAAC;gBACvB,KAAK,+BAA+B,CAAC;gBACrC,KAAK,oBAAoB,CAAC;gBAC1B,KAAK,4BAA4B,CAAC;gBAClC,KAAK,eAAe;oBAClB,IAAI,QAAQ,CAAC,IAAI,IAAI,IAAI,IAAI,QAAQ,CAAC,IAAI,IAAI,EAAE,EAAE;wBAChD,OAAO;4BACL,KAAK,EAAE,KAAK;4BACZ,IAAI,EAAE,SAAS;4BACf,KAAK,EAAE,OAAO;4BACd,OAAO,EAAE,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,eAAe,CAAC;gCAChD,GAAG,QAAQ,CAAC,EAAE,EAAE,GAAG,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,4BAA4B,CAAC;yBAC1E,CAAC;qBACH;oBACD,IAAI,IAAI,IAAI,CAAC,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAC,IAAI,GAAG,GAAG,EAAE;wBACxC,OAAO;4BACL,KAAK,EAAE,KAAK;4BACZ,IAAI,EAAE,SAAS;4BACf,KAAK,EAAE,OAAO;4BACd,OAAO,EAAE,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,mBAAmB,CAAC;gCACrD,GAAG,QAAQ,CAAC,IAAI,EAAE,GAAG,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,iCAAiC,CAAC;yBAChF,CAAC;qBACH;oBACD,MAAM;aACT;SACF;QACD,OAAO;YACL,KAAK,EAAE,IAAI;SACZ,CAAC;KACH;;AA1aa,6BAAU,GAAiB,IAAI,CAAC;;;;;;;;ICN5C,KAAM,KAAK;IACX,mBAAoB,mBAAmB;IACvC,kBAAmB,kBAAkB;;;;;;;;ACHzC,MAAa,gCAAgC,GAAG;IAC9C,QAAQ,EAAE;QACR,UAAU,EAAE;YACV,iBAAiB,EAAE,sBAAsB;YACzC,WAAW,EAAE,QAAQ;YACrB,cAAc,EAAE,uBAAuB;YACvC,YAAY,EAAE,8BAA8B;YAC5C,eAAe,EAAE,mBAAmB;YACpC,eAAe,EAAE,oBAAoB;YACrC,kBAAkB,EAAE,0BAA0B;YAC9C,YAAY,EAAE,oBAAoB;YAClC,eAAe,EAAE,8BAA8B;YAC/C,wBAAwB,EAAE,oBAAoB;YAC9C,2BAA2B,EAAE,8BAA8B;YAC3D,qBAAqB,EAAE,oBAAoB;YAC3C,wBAAwB,EAAE,8BAA8B;YACxD,sBAAsB,EAAE,oBAAoB;YAC5C,yBAAyB,EAAE,8BAA8B;YACzD,oBAAoB,EAAE,oBAAoB;YAC1C,uBAAuB,EAAE,8BAA8B;YACvD,uBAAuB,EAAE,oBAAoB;YAC7C,0BAA0B,EAAE,gCAAgC;YAC5D,sBAAsB,EAAE,cAAc;YACtC,yBAAyB,EAAE,mCAAmC;YAC9D,wBAAwB,EAAE,WAAW;YACrC,aAAa,EAAE,kBAAkB;YACjC,aAAa,EAAE,uBAAuB;YACtC,UAAU,EAAE,KAAK;YACjB,iBAAiB,EAAE,8BAA8B;YACjD,oBAAoB,EAAE,iCAAiC;YACvD,mBAAmB,EAAE,gCAAgC;YACrD,gBAAgB,EAAE,6BAA6B;YAC/C,qBAAqB,EAAE,kCAAkC;YACzD,kBAAkB,EAAE,+BAA+B;YACnD,0BAA0B,EAAE,uCAAuC;YACnE,gBAAgB,EAAE,6BAA6B;YAC/C,0BAA0B,EAAE,2CAA2C;YACvE,mBAAmB,EAAE,gCAAgC;YACrD,2BAA2B,EAAE,wCAAwC;YACrE,YAAY,EAAE,yBAAyB;YACvC,MAAM,EAAE,MAAM;YACd,mBAAmB,EAAE,kBAAkB;YACvC,wBAAwB,EAAE,sBAAsB;SACjD;QACD,eAAe,EAAE;YACf,KAAK,EAAE,IAAI;YACX,YAAY,EAAE,UAAU;YACxB,cAAc,EAAE,QAAQ;YACxB,UAAU,EAAE,kBAAkB;YAC9B,UAAU,EAAE,kBAAkB;YAC9B,aAAa,EAAE,YAAY;YAC3B,UAAU,EAAE,MAAM;YAClB,aAAa,EAAE,MAAM;YACrB,YAAY,EAAE,aAAa;YAC3B,gBAAgB,EAAE,MAAM;YACxB,aAAa,EAAE,OAAO;YACtB,gBAAgB,EAAE,gCAAgC;YAClD,oBAAoB,EAAE,gBAAgB;YACtC,YAAY,EAAE,QAAQ;YACtB,YAAY,EAAE,iBAAiB;YAC/B,WAAW,EAAE,MAAM;YACnB,QAAQ,EAAE,YAAY;YACtB,QAAQ,EAAE;gBACR,UAAU,EAAE,IAAI;gBAChB,aAAa,EAAE,IAAI;gBACnB,MAAM,EAAE,QAAQ;gBAChB,QAAQ,EAAE,KAAK;gBACf,YAAY,EAAE,MAAM;gBACpB,eAAe,EAAE,MAAM;gBACvB,WAAW,EAAE,IAAI;aAClB;SACF;QACD,UAAU,EAAE;YACV,YAAY,EAAE;gBACZ,eAAe,EAAE,MAAM;gBACvB,UAAU,EAAE,IAAI;aACjB;YACD,eAAe,EAAE;gBACf,WAAW,EAAE,MAAM;gBACnB,MAAM,EAAE,IAAI;gBACZ,cAAc,EAAE,IAAI;gBACpB,KAAK,EAAE,IAAI;gBACX,WAAW,EAAE,MAAM;gBACnB,WAAW,EAAE,MAAM;gBACnB,SAAS,EAAE,MAAM;gBACjB,SAAS,EAAE,MAAM;gBACjB,SAAS,EAAE,MAAM;gBACjB,aAAa,EAAE,MAAM;gBACrB,SAAS,EAAE,MAAM;gBACjB,UAAU,EAAE,MAAM;gBAClB,OAAO,EAAE,MAAM;gBACf,aAAa,EAAE,MAAM;gBACrB,aAAa,EAAE,MAAM;gBACrB,kBAAkB,EAAE,MAAM;gBAC1B,eAAe,EAAE,MAAM;gBACvB,iBAAiB,EAAE,OAAO;gBAC1B,gBAAgB,EAAE,MAAM;gBACxB,gBAAgB,EAAE,QAAQ;gBAC1B,0BAA0B,EAAE,QAAQ;gBACpC,iBAAiB,EAAE,MAAM;gBACzB,kBAAkB,EAAE,MAAM;gBAC1B,eAAe,EAAE,MAAM;gBACvB,gBAAgB,EAAE,MAAM;gBACxB,YAAY,EAAE,mDAAmD;gBACjE,cAAc,EAAE,4DAA4D;gBAC5E,gBAAgB,EAAE,qDAAqD;aACxE;YACD,oBAAoB,EAAE;gBACpB,WAAW,EAAE,MAAM;gBACnB,OAAO,EAAE,MAAM;gBACf,MAAM,EAAE,IAAI;gBACZ,cAAc,EAAE,IAAI;gBACpB,IAAI,EAAE,IAAI;gBACV,WAAW,EAAE,MAAM;gBACnB,qBAAqB,EAAE,IAAI;gBAC3B,SAAS,EAAE,OAAO;aACnB;YACD,WAAW,EAAE;gBACX,gBAAgB,EAAE,MAAM;aACzB;SACF;QACD,KAAK,EAAE;YACL,iBAAiB,EAAE;gBACjB,KAAK,EAAE,IAAI;gBACX,QAAQ,EAAE,IAAI;gBACd,OAAO,EAAE,IAAI;gBACb,SAAS,EAAE,MAAM;gBACjB,UAAU,EAAE,MAAM;gBAClB,YAAY,EAAE,MAAM;gBACpB,MAAM,EAAE,GAAG;gBACX,OAAO,EAAE,GAAG;gBACZ,QAAQ,EAAE,MAAM;gBAChB,YAAY,EAAE,QAAQ;gBACtB,WAAW,EAAE,QAAQ;gBACrB,sBAAsB,EAAE,SAAS;gBACjC,iBAAiB,EAAE,OAAO;gBAC1B,iBAAiB,EAAE,OAAO;gBAC1B,qBAAqB,EAAE,MAAM;gBAC7B,SAAS,EAAE,MAAM;gBACjB,YAAY,EAAE,QAAQ;gBACtB,kBAAkB,EAAE,SAAS;gBAC7B,qBAAqB,EAAE,SAAS;gBAChC,sBAAsB,EAAE,SAAS;gBACjC,wBAAwB,EAAE,SAAS;gBACnC,aAAa,EAAE,QAAQ;gBACvB,iBAAiB,EAAE,WAAW;gBAC9B,2BAA2B,EAAE,YAAY;gBACzC,8BAA8B,EAAE,YAAY;gBAC5C,eAAe,EAAE,QAAQ;gBACzB,wBAAwB,EAAE,UAAU;gBACpC,qBAAqB,EAAE,aAAa;gBACpC,aAAa,EAAE,QAAQ;gBACvB,cAAc,EAAE,QAAQ;gBACxB,WAAW,EAAE,QAAQ;gBACrB,gBAAgB,EAAE,MAAM;gBACxB,iBAAiB,EAAE,KAAK;gBACxB,gBAAgB,EAAE,MAAM;gBACxB,gBAAgB,EAAE,MAAM;gBACxB,QAAQ,EAAE,IAAI;gBACd,kBAAkB,EAAE,MAAM;gBAC1B,aAAa,EAAE,KAAK;gBACpB,KAAK,EAAE,SAAS;gBAChB,KAAK,EAAE,KAAK;gBACZ,KAAK,EAAE,KAAK;gBACZ,oBAAoB,EAAE,qBAAqB;gBAC3C,qBAAqB,EAAE,iCAAiC;gBACxD,MAAM,EAAE,KAAK;gBACb,QAAQ,EAAE,KAAK;gBACf,MAAM,EAAE,MAAM;gBACd,eAAe,EAAE,OAAO;gBACxB,YAAY,EAAE,kBAAkB;gBAChC,QAAQ,EAAE,wBAAwB;gBAClC,aAAa,EAAE,MAAM;gBACrB,8BAA8B,EAAE,+BAA+B;gBAC/D,gBAAgB,EAAE,OAAO;gBACzB,MAAM,EAAE,MAAM;gBACd,MAAM,EAAE,MAAM;gBACd,MAAM,EAAE,MAAM;gBACd,UAAU,EAAE,aAAa;aAC1B;SACF;QACD,kCAAkC,EAAE;YAClC,qBAAqB,EAAE,OAAO;YAC9B,KAAK,EAAE,OAAO;YACd,QAAQ,EAAE,OAAO;YACjB,UAAU,EAAE,MAAM;YAClB,cAAc,EAAE,MAAM;YACtB,iBAAiB,EAAE,MAAM;YACzB,0BAA0B,EAAE,MAAM;YAClC,YAAY,EAAE,yBAAyB;YACvC,YAAY,EAAE,0CAA0C;YACxD,aAAa,EAAE,yBAAyB;YACxC,aAAa,EAAE,0CAA0C;YACzD,aAAa,EAAE,sBAAsB;YACrC,mBAAmB,EAAE,OAAO;YAC5B,8BAA8B,EAAE;gBAC9B,SAAS,EAAE,IAAI;gBACf,UAAU,EAAE,IAAI;gBAChB,OAAO,EAAE,IAAI;aACd;SACF;QACD,WAAW,EAAE;YACX,QAAQ,EAAE;gBACR,WAAW,EAAE,OAAO;gBACpB,WAAW,EAAE,OAAO;gBACpB,SAAS,EAAE,OAAO;gBAClB,KAAK,EAAE,OAAO;gBACd,QAAQ,EAAE,OAAO;gBACjB,gBAAgB,EAAE,OAAO;gBACzB,aAAa,EAAE,MAAM;gBACrB,QAAQ,EAAE,MAAM;gBAChB,SAAS,EAAE,MAAM;gBACjB,aAAa,EAAE,IAAI;gBACnB,SAAS,EAAE,IAAI;aAChB;YACD,UAAU,EAAE;gBACV,cAAc,EAAE,MAAM;gBACtB,oBAAoB,EAAE,QAAQ;gBAC9B,QAAQ,EAAE,IAAI;gBACd,SAAS,EAAE,IAAI;gBACf,WAAW,EAAE,IAAI;gBACjB,oBAAoB,EAAE,QAAQ;gBAC9B,KAAK,EAAE,OAAO;gBACd,QAAQ,EAAE,OAAO;gBACjB,WAAW,EAAE,MAAM;gBACnB,cAAc,EAAE,MAAM;gBACtB,aAAa,EAAE,KAAK;aACrB;YACD,iBAAiB,EAAE;gBACjB,UAAU,EAAE,IAAI;gBAChB,YAAY,EAAE,KAAK;gBACnB,WAAW,EAAE,IAAI;gBACjB,kBAAkB,EAAE,MAAM;gBAC1B,oBAAoB,EAAE,MAAM;gBAC5B,WAAW,EAAE,MAAM;gBACnB,WAAW,EAAE,MAAM;gBACnB,UAAU,EAAE,IAAI;gBAChB,SAAS,EAAE,MAAM;gBACjB,WAAW,EAAE,KAAK;gBAClB,eAAe,EAAE,MAAM;gBACvB,WAAW,EAAE,KAAK;gBAClB,kBAAkB,EAAE,MAAM;gBAC1B,gBAAgB,EAAE,SAAS;gBAC3B,kBAAkB,EAAE,WAAW;gBAC/B,KAAK,EAAE,OAAO;gBACd,QAAQ,EAAE,OAAO;gBACjB,KAAK,EAAE,IAAI;gBACX,QAAQ,EAAE,IAAI;gBACd,cAAc,EAAE,IAAI;gBACpB,aAAa,EAAE,IAAI;gBACnB,SAAS,EAAE,IAAI;gBACf,wBAAwB,EAAE,kBAAkB;gBAC5C,gBAAgB,EAAE,kBAAkB;gBACpC,eAAe,EAAE,KAAK;gBACtB,gBAAgB,EAAE,KAAK;gBACvB,mBAAmB,EAAE,UAAU;gBAC/B,kBAAkB,EAAE,wBAAwB;gBAC5C,sBAAsB,EAAE,UAAU;gBAClC,oBAAoB,EAAE,MAAM;gBAC5B,eAAe,EAAE,MAAM;gBACvB,eAAe,EAAE,MAAM;gBACvB,YAAY,EAAE,IAAI;aACnB;YACD,gBAAgB,EAAE;gBAChB,gBAAgB,EAAE,OAAO;gBACzB,eAAe,EAAE,QAAQ;gBACzB,MAAM,EAAE,GAAG;gBACX,YAAY,EAAE,IAAI;gBAClB,iBAAiB,EAAE,WAAW;gBAC9B,oBAAoB,EAAE,kBAAkB;gBACxC,WAAW,EAAE,aAAa;gBAC1B,kBAAkB,EAAE,WAAW;gBAC/B,kBAAkB,EAAE,WAAW;gBAC/B,sBAAsB,EAAE,eAAe;gBACvC,qBAAqB,EAAE,eAAe;gBACtC,KAAK,EAAE,OAAO;gBACd,QAAQ,EAAE,OAAO;gBACjB,kBAAkB,EAAE,MAAM;gBAC1B,aAAa,EAAE,MAAM;gBACrB,cAAc,EAAE,cAAc;gBAC9B,iBAAiB,EAAE,cAAc;gBACjC,eAAe,EAAE,MAAM;gBACvB,gBAAgB,EAAE,MAAM;gBACxB,gBAAgB,EAAE,MAAM;gBACxB,gBAAgB,EAAE,MAAM;gBACxB,iBAAiB,EAAE,OAAO;gBAC1B,aAAa,EAAE,IAAI;gBACnB,SAAS,EAAE,IAAI;aAChB;YACD,iBAAiB,EAAE;gBACjB,QAAQ,EAAE,MAAM;gBAChB,QAAQ,EAAE,MAAM;gBAChB,IAAI,EAAE,IAAI;gBACV,iBAAiB,EAAE,MAAM;gBACzB,KAAK,EAAE,OAAO;gBACd,QAAQ,EAAE,OAAO;gBACjB,iBAAiB,EAAE,SAAS;gBAC5B,aAAa,EAAE,IAAI;gBACnB,SAAS,EAAE,IAAI;aAChB;YACD,kBAAkB,EAAE;gBAClB,mBAAmB,EAAE,MAAM;gBAC3B,UAAU,EAAE,KAAK;gBACjB,OAAO,EAAE,MAAM;gBACf,KAAK,EAAE,GAAG;gBACV,MAAM,EAAE,GAAG;gBACX,QAAQ,EAAE,GAAG;gBACb,gBAAgB,EAAE,MAAM;gBACxB,YAAY,EAAE,KAAK;gBACnB,eAAe,EAAE,MAAM;gBACvB,4BAA4B,EAAE,MAAM;gBACpC,2BAA2B,EAAE,MAAM;gBACnC,QAAQ,EAAE,IAAI;gBACd,cAAc,EAAE,MAAM;gBACtB,UAAU,EAAE,IAAI;gBAChB,cAAc,EAAE,IAAI;gBACpB,UAAU,EAAE,IAAI;gBAChB,mBAAmB,EAAE,QAAQ;gBAC7B,UAAU,EAAE,IAAI;gBAChB,eAAe,EAAE,YAAY;gBAC7B,cAAc,EAAE,UAAU;gBAC1B,SAAS,EAAE,YAAY;gBACvB,aAAa,EAAE,YAAY;gBAC3B,mBAAmB,EAAE,WAAW;gBAChC,qBAAqB,EAAE,+BAA+B;gBACtD,gBAAgB,EAAE,MAAM;gBACxB,qBAAqB,EAAE,MAAM;gBAC7B,KAAK,EAAE,OAAO;gBACd,QAAQ,EAAE,OAAO;gBACjB,mBAAmB,EAAE,UAAU;gBAC/B,UAAU,EAAE,MAAM;gBAClB,cAAc,EAAE,MAAM;gBACtB,iBAAiB,EAAE,QAAQ;gBAC3B,YAAY,EAAE,MAAM;gBACpB,KAAK,EAAE,IAAI;gBACX,QAAQ,EAAE,IAAI;gBACd,aAAa,EAAE,IAAI;gBACnB,SAAS,EAAE,IAAI;gBACf,qBAAqB,EAAE,SAAS;gBAChC,iBAAiB,EAAE,OAAO;gBAC1B,qBAAqB,EAAE,eAAe;gBACtC,gBAAgB,EAAE,YAAY;gBAC9B,OAAO,EAAE,IAAI;aACd;YACD,sBAAsB,EAAE;gBACtB,iBAAiB,EAAE,OAAO;gBAC1B,qBAAqB,EAAE,SAAS;gBAChC,iBAAiB,EAAE,SAAS;gBAC5B,KAAK,EAAE,GAAG;gBACV,MAAM,EAAE,GAAG;gBACX,QAAQ,EAAE,GAAG;gBACb,mBAAmB,EAAE,cAAc;gBACnC,oBAAoB,EAAE,YAAY;gBAClC,iBAAiB,EAAE,YAAY;gBAC/B,iBAAiB,EAAE,YAAY;gBAC/B,mBAAmB,EAAE,WAAW;gBAChC,iBAAiB,EAAE,kBAAkB;gBACrC,2BAA2B,EAAE,aAAa;gBAC1C,aAAa,EAAE,QAAQ;gBACvB,WAAW,EAAE,QAAQ;gBACrB,UAAU,EAAE,MAAM;gBAClB,SAAS,EAAE,MAAM;gBACjB,SAAS,EAAE,MAAM;gBACjB,cAAc,EAAE,KAAK;gBACrB,UAAU,EAAE,MAAM;gBAClB,aAAa,EAAE,IAAI;gBACnB,SAAS,EAAE,IAAI;gBACf,kBAAkB,EAAE,cAAc;gBAClC,oBAAoB,EAAE,YAAY;gBAClC,qBAAqB,EAAE,QAAQ;gBAC/B,wBAAwB,EAAE,QAAQ;gBAClC,wBAAwB,EAAE,QAAQ;aACnC;YACD,oBAAoB,EAAE;gBACpB,oBAAoB,EAAE,8EAA8E;gBACpG,MAAM,EAAE,IAAI;gBACZ,OAAO,EAAE,GAAG;gBACZ,gBAAgB,EAAE,OAAO;gBACzB,oBAAoB,EAAE,QAAQ;gBAC9B,OAAO,EAAE,6DAA6D;gBACtE,OAAO,EAAE,wCAAwC;gBACjD,OAAO,EAAE,iCAAiC;gBAC1C,mBAAmB,EAAE,QAAQ;gBAC7B,oBAAoB,EAAE,QAAQ;gBAC9B,gBAAgB,EAAE,IAAI;gBACtB,mBAAmB,EAAE,IAAI;aAC1B;YACD,UAAU,EAAE;gBACV,kBAAkB,EAAE,MAAM;gBAC1B,UAAU,EAAE,KAAK;gBACjB,cAAc,EAAE,QAAQ;gBACxB,kBAAkB,EAAE,OAAO;gBAC3B,OAAO,EAAE,IAAI;gBACb,MAAM,EAAE,IAAI;gBACZ,gBAAgB,EAAE,MAAM;gBACxB,iBAAiB,EAAE,KAAK;gBACxB,eAAe,EAAE,MAAM;gBACvB,gBAAgB,EAAE,KAAK;gBACvB,cAAc,EAAE,QAAQ;gBACxB,KAAK,EAAE,GAAG;gBACV,IAAI,EAAE,GAAG;gBACT,UAAU,EAAE,yBAAyB;gBACrC,cAAc,EAAE,aAAa;gBAC7B,mBAAmB,EAAE,YAAY;gBACjC,mBAAmB,EAAE,UAAU;gBAC/B,eAAe,EAAE,qBAAqB;gBACtC,KAAK,EAAE,OAAO;gBACd,UAAU,EAAE,MAAM;gBAClB,iBAAiB,EAAE,MAAM;gBACzB,aAAa,EAAE,IAAI;gBACnB,WAAW,EAAE,IAAI;gBACjB,SAAS,EAAE,IAAI;aAChB;YACD,YAAY,EAAE;gBACZ,QAAQ,EAAE,IAAI;gBACd,SAAS,EAAE,IAAI;gBACf,MAAM,EAAE,IAAI;gBACZ,MAAM,EAAE,IAAI;gBACZ,cAAc,EAAE,UAAU;gBAC1B,sBAAsB,EAAE,UAAU;gBAClC,cAAc,EAAE,IAAI;gBACpB,iBAAiB,EAAE,MAAM;gBACzB,aAAa,EAAE,MAAM;gBACrB,iBAAiB,EAAE,QAAQ;gBAC3B,gBAAgB,EAAE,MAAM;gBACxB,aAAa,EAAE,MAAM;gBACrB,cAAc,EAAE,IAAI;gBACpB,UAAU,EAAE,IAAI;aACjB;YACD,SAAS,EAAE;gBACT,SAAS,EAAE,MAAM;gBACjB,QAAQ,EAAE,MAAM;gBAChB,eAAe,EAAE,OAAO;gBACxB,qBAAqB,EAAE,OAAO;gBAC9B,UAAU,EAAE,MAAM;gBAClB,aAAa,EAAE,MAAM;gBACrB,aAAa,EAAE,MAAM;gBACrB,YAAY,EAAE,IAAI;gBAClB,cAAc,EAAE,IAAI;gBACpB,UAAU,EAAE,IAAI;aACjB;YACD,kBAAkB,EAAE;gBAClB,QAAQ,EAAE,IAAI;gBACd,SAAS,EAAE,IAAI;gBACf,SAAS,EAAE,IAAI;gBACf,SAAS,EAAE,IAAI;gBACf,UAAU,EAAE,IAAI;gBAChB,YAAY,EAAE,KAAK;gBACnB,WAAW,EAAE,IAAI;gBACjB,MAAM,EAAE,MAAM;gBACd,UAAU,EAAE,IAAI;gBAChB,eAAe,EAAE,MAAM;gBACvB,WAAW,EAAE,MAAM;gBACnB,aAAa,EAAE,IAAI;gBACnB,KAAK,EAAE,OAAO;gBACd,WAAW,EAAE,KAAK;gBAClB,kBAAkB,EAAE,MAAM;gBAC1B,aAAa,EAAE,WAAW;gBAC1B,qBAAqB,EAAE,YAAY;gBACnC,mBAAmB,EAAE,YAAY;gBACjC,2BAA2B,EAAE,6BAA6B;gBAC1D,aAAa,EAAE,aAAa;gBAC5B,gBAAgB,EAAE,cAAc;gBAChC,eAAe,EAAE,WAAW;gBAC5B,KAAK,EAAE,OAAO;gBACd,QAAQ,EAAE,OAAO;gBACjB,KAAK,EAAE,IAAI;gBACX,QAAQ,EAAE,IAAI;gBACd,QAAQ,EAAE,IAAI;gBACd,aAAa,EAAE,IAAI;gBACnB,SAAS,EAAE,IAAI;aAChB;YACD,aAAa,EAAE;gBACb,MAAM,EAAE,IAAI;gBACZ,UAAU,EAAE,OAAO;gBACnB,UAAU,EAAE,IAAI;gBAChB,MAAM,EAAE,IAAI;gBACZ,WAAW,EAAE,OAAO;gBACpB,eAAe,EAAE,MAAM;gBACvB,QAAQ,EAAE,IAAI;gBACd,kBAAkB,EAAE,SAAS;gBAC7B,cAAc,EAAE,OAAO;gBACvB,KAAK,EAAE,IAAI;gBACX,QAAQ,EAAE,IAAI;gBACd,OAAO,EAAE,IAAI;gBACb,aAAa,EAAE,OAAO;gBACtB,iBAAiB,EAAE,OAAO;gBAC1B,gBAAgB,EAAE,OAAO;gBACzB,OAAO,EAAE,IAAI;gBACb,MAAM,EAAE,IAAI;gBACZ,eAAe,EAAE,IAAI;gBACrB,aAAa,EAAE,IAAI;gBACnB,WAAW,EAAE,MAAM;gBACnB,eAAe,EAAE,sBAAsB;gBACvC,eAAe,EAAE,qBAAqB;gBACtC,sBAAsB,EAAE,OAAO;gBAC/B,wBAAwB,EAAE,WAAW;gBACrC,yBAAyB,EAAE,YAAY;gBACvC,gBAAgB,EAAE,SAAS;gBAC3B,gBAAgB,EAAE,SAAS;gBAC3B,eAAe,EAAE,WAAW;gBAC5B,SAAS,EAAE,SAAS;gBACpB,iBAAiB,EAAE,qBAAqB;gBACxC,kBAAkB,EAAE,yBAAyB;gBAC7C,kBAAkB,EAAE,cAAc;gBAClC,qBAAqB,EAAE,aAAa;gBACpC,uBAAuB,EAAE,UAAU;gBACnC,kBAAkB,EAAE,YAAY;gBAChC,iBAAiB,EAAE,SAAS;gBAC5B,mBAAmB,EAAE,wBAAwB;gBAC7C,eAAe,EAAE,sBAAsB;gBACvC,uBAAuB,EAAE,cAAc;gBACvC,eAAe,EAAE,QAAQ;gBACzB,sBAAsB,EAAE,aAAa;gBACrC,yBAAyB,EAAE,aAAa;gBACxC,KAAK,EAAE,KAAK;gBACZ,eAAe,EAAE,eAAe;gBAChC,eAAe,EAAE,WAAW;gBAC5B,eAAe,EAAE,WAAW;gBAC5B,MAAM,EAAE,KAAK;gBACb,aAAa,EAAE,OAAO;gBACtB,kBAAkB,EAAE,MAAM;gBAC1B,wBAAwB,EAAE,OAAO;gBACjC,YAAY,EAAE,MAAM;gBACpB,YAAY,EAAE,MAAM;gBACpB,YAAY,EAAE,MAAM;gBACpB,MAAM,EAAE,KAAK;gBACb,KAAK,EAAE,OAAO;gBACd,QAAQ,EAAE,OAAO;gBACjB,kBAAkB,EAAE,MAAM;gBAC1B,UAAU,EAAE,OAAO;gBACnB,aAAa,EAAE,MAAM;gBACrB,WAAW,EAAE,kBAAkB;gBAC/B,iBAAiB,EAAE,OAAO;gBAC1B,gBAAgB,EAAE,OAAO;gBACzB,KAAK,EAAE,IAAI;gBACX,eAAe,EAAE,IAAI;gBACrB,iBAAiB,EAAE,IAAI;gBACvB,gBAAgB,EAAE,IAAI;gBACtB,QAAQ,EAAE,IAAI;gBACd,UAAU,EAAE,IAAI;gBAChB,oBAAoB,EAAE,OAAO;gBAC7B,YAAY,EAAE,qBAAqB;gBACnC,aAAa,EAAE,IAAI;gBACnB,SAAS,EAAE,IAAI;gBACf,kBAAkB,EAAE,MAAM;gBAC1B,OAAO,EAAE,MAAM;gBACf,iBAAiB,EAAE,MAAM;gBACzB,UAAU,EAAE,MAAM;gBAClB,aAAa,EAAE,KAAK;gBACpB,mBAAmB,EAAE,KAAK;gBAC1B,sBAAsB,EAAE,MAAM;aAC/B;YACD,kBAAkB,EAAE;gBAClB,MAAM,EAAE,IAAI;gBACZ,cAAc,EAAE,QAAQ;gBACxB,UAAU,EAAE,MAAM;gBAClB,oBAAoB,EAAE,MAAM;gBAC5B,cAAc,EAAE,MAAM;gBACtB,aAAa,EAAE,IAAI;gBACnB,SAAS,EAAE,IAAI;aAChB;YACD,oBAAoB,EAAE;gBACpB,iBAAiB,EAAE,kBAAkB;gBACrC,gBAAgB,EAAE,kBAAkB;gBACpC,MAAM,EAAE,IAAI;gBACZ,MAAM,EAAE,IAAI;gBACZ,aAAa,EAAE,IAAI;gBACnB,WAAW,EAAE,KAAK;gBAClB,MAAM,EAAE,IAAI;gBACZ,gBAAgB,EAAE,UAAU;gBAC5B,oBAAoB,EAAE,MAAM;gBAC5B,kBAAkB,EAAE,WAAW;gBAC/B,oBAAoB,EAAE,+BAA+B;gBACrD,eAAe,EAAE,MAAM;gBACvB,iBAAiB,EAAE,MAAM;gBACzB,eAAe,EAAE,MAAM;aACxB;YACD,iBAAiB,EAAE;gBACjB,MAAM,EAAE,IAAI;gBACZ,MAAM,EAAE,IAAI;gBACZ,MAAM,EAAE,IAAI;gBACZ,YAAY,EAAE,IAAI;gBAClB,eAAe,EAAE,MAAM;gBACvB,gBAAgB,EAAE,OAAO;gBACzB,aAAa,EAAE,KAAK;gBACpB,mBAAmB,EAAE,KAAK;gBAC1B,iBAAiB,EAAE,MAAM;gBACzB,WAAW,EAAE,MAAM;gBACnB,KAAK,EAAE,GAAG;gBACV,OAAO,EAAE,GAAG;gBACZ,eAAe,EAAE,SAAS;gBAC1B,QAAQ,EAAE,IAAI;gBACd,WAAW,EAAE,IAAI;gBACjB,YAAY,EAAE,IAAI;aACnB;YACD,kBAAkB,EAAE;gBAClB,OAAO,EAAE,MAAM;gBACf,gBAAgB,EAAE,MAAM;gBACxB,KAAK,EAAE,MAAM;gBACb,sBAAsB,EAAE,MAAM;gBAC9B,iBAAiB,EAAE,OAAO;gBAC1B,iBAAiB,EAAE,SAAS;gBAC5B,kBAAkB,EAAE,SAAS;gBAC7B,kBAAkB,EAAE,OAAO;gBAC3B,qBAAqB,EAAE,kCAAkC;gBACzD,oBAAoB,EAAE,6BAA6B;gBACnD,yBAAyB,EAAE,uCAAuC;gBAClE,6BAA6B,EAAE,6BAA6B;gBAC5D,KAAK,EAAE,OAAO;gBACd,iBAAiB,EAAE,SAAS;gBAC5B,eAAe,EAAE,qBAAqB;gBACtC,qBAAqB,EAAE,UAAU;gBACjC,wBAAwB,EAAE,SAAS;gBACnC,uBAAuB,EAAE,cAAc;gBACvC,wBAAwB,EAAE,kBAAkB;gBAC5C,yBAAyB,EAAE,gBAAgB;gBAC3C,sBAAsB,EAAE,OAAO;gBAC/B,kBAAkB,EAAE,QAAQ;gBAC5B,0BAA0B,EAAE,QAAQ;gBACpC,qBAAqB,EAAE,eAAe;gBACtC,qBAAqB,EAAE,kBAAkB;gBACzC,sBAAsB,EAAE,iBAAiB;gBACzC,QAAQ,EAAE,IAAI;gBACd,SAAS,EAAE,IAAI;aAChB;YACD,mBAAmB,EAAE;gBACnB,aAAa,EAAE,KAAK;gBACpB,iBAAiB,EAAE,KAAK;gBACxB,cAAc,EAAE,MAAM;gBACtB,cAAc,EAAE,MAAM;gBACtB,MAAM,EAAE,IAAI;gBACZ,UAAU,EAAE,IAAI;gBAChB,SAAS,EAAE,MAAM;gBACjB,aAAa,EAAE,KAAK;gBACpB,OAAO,EAAE,MAAM;gBACf,WAAW,EAAE,MAAM;gBACnB,aAAa,EAAE,IAAI;gBACnB,SAAS,EAAE,IAAI;aAChB;YACD,eAAe,EAAE;gBACf,gBAAgB,EAAE,MAAM;gBACxB,gBAAgB,EAAE,MAAM;gBACxB,MAAM,EAAE,IAAI;gBACZ,MAAM,EAAE,IAAI;gBACZ,MAAM,EAAE,IAAI;gBACZ,SAAS,EAAE,MAAM;gBACjB,UAAU,EAAE,IAAI;gBAChB,gBAAgB,EAAE,MAAM;gBACxB,SAAS,EAAE,MAAM;gBACjB,WAAW,EAAE,MAAM;gBACnB,mBAAmB,EAAE,MAAM;gBAC3B,WAAW,EAAE,KAAK;gBAClB,UAAU,EAAE,MAAM;gBAClB,WAAW,EAAE,MAAM;gBACnB,oBAAoB,EAAE,QAAQ;aAC/B;YACD,eAAe,EAAE;gBACf,aAAa,EAAE,MAAM;gBACrB,cAAc,EAAE,OAAO;gBACvB,KAAK,EAAE,MAAM;gBACb,6BAA6B,EAAE,IAAI;gBACnC,gBAAgB,EAAE,kBAAkB;gBACpC,MAAM,EAAE,IAAI;gBACZ,UAAU,EAAE,IAAI;gBAChB,WAAW,EAAE,MAAM;aACpB;YACD,mBAAmB,EAAE;gBACnB,KAAK,EAAE,MAAM;gBACb,sBAAsB,EAAE,MAAM;gBAC9B,SAAS,EAAE,IAAI;gBACf,6BAA6B,EAAE,MAAM;gBACrC,gBAAgB,EAAE,kBAAkB;gBACpC,kBAAkB,EAAE,MAAM;gBAC1B,kBAAkB,EAAE,OAAO;gBAC3B,kBAAkB,EAAE,IAAI;gBACxB,WAAW,EAAE,MAAM;aACpB;YACD,mBAAmB,EAAE;gBACnB,gBAAgB,EAAE,MAAM;gBACxB,QAAQ,EAAE,IAAI;gBACd,aAAa,EAAE,KAAK;gBACpB,mBAAmB,EAAE,KAAK;gBAC1B,eAAe,EAAE,IAAI;gBACrB,cAAc,EAAE,IAAI;gBACpB,UAAU,EAAE,IAAI;gBAChB,QAAQ,EAAE,IAAI;gBACd,KAAK,EAAE,OAAO;gBACd,QAAQ,EAAE,OAAO;gBACjB,QAAQ,EAAE,IAAI;gBACd,QAAQ,EAAE,MAAM;gBAChB,OAAO,EAAE,IAAI;gBACb,OAAO,EAAE,MAAM;gBACf,sBAAsB,EAAE,MAAM;gBAC9B,iBAAiB,EAAE,MAAM;gBACzB,aAAa,EAAE,IAAI;gBACnB,SAAS,EAAE,IAAI;gBACf,OAAO,EAAE,QAAQ;gBACjB,eAAe,EAAE,aAAa;aAC/B;YACD,MAAM,EAAE;gBACN,aAAa,EAAE,WAAW;gBAC1B,aAAa,EAAE,IAAI;gBACnB,SAAS,EAAE,IAAI;aAChB;YACD,eAAe,EAAE;gBACf,QAAQ,EAAE,MAAM;gBAChB,SAAS,EAAE,MAAM;gBACjB,SAAS,EAAE,MAAM;gBACjB,UAAU,EAAE,MAAM;gBAClB,UAAU,EAAE,MAAM;gBAClB,cAAc,EAAE,OAAO;gBACvB,iBAAiB,EAAE,QAAQ;gBAC3B,qBAAqB,EAAE,QAAQ;gBAC/B,YAAY,EAAE,MAAM;gBACpB,aAAa,EAAE,WAAW;gBAC1B,QAAQ,EAAE,eAAe;gBACzB,WAAW,EAAE,MAAM;gBACnB,KAAK,EAAE,OAAO;gBACd,QAAQ,EAAE,OAAO;gBACjB,KAAK,EAAE,IAAI;gBACX,MAAM,EAAE,IAAI;gBACZ,QAAQ,EAAE,IAAI;gBACd,YAAY,EAAE,IAAI;gBAClB,aAAa,EAAE,IAAI;gBACnB,SAAS,EAAE,IAAI;gBACf,aAAa,EAAE,qCAAqC;gBACpD,cAAc,EAAE,MAAM;gBACtB,aAAa,EAAE,MAAM;gBACrB,cAAc,EAAE,MAAM;gBACtB,aAAa,EAAE,MAAM;gBACrB,aAAa,EAAE,MAAM;gBACrB,YAAY,EAAE,MAAM;gBACpB,OAAO,EAAE,IAAI;gBACb,KAAK,EAAE,IAAI;gBACX,WAAW,EAAE,GAAG;gBAChB,oBAAoB,EAAE,OAAO;gBAC7B,qBAAqB,EAAE,OAAO;gBAC9B,iBAAiB,EAAE,MAAM;gBACzB,qBAAqB,EAAE,IAAI;gBAC3B,6BAA6B,EAAE,OAAO;gBACtC,KAAK,EAAE,MAAM;gBACb,6BAA6B,EAAE,IAAI;gBACnC,MAAM,EAAE,IAAI;gBACZ,cAAc,EAAE,SAAS;gBACzB,2BAA2B,EAAE,WAAW;aACzC;YACD,mBAAmB,EAAE;gBACnB,iBAAiB,EAAE,OAAO;gBAC1B,6BAA6B,EAAE,OAAO;gBACtC,qBAAqB,EAAE,OAAO;gBAC9B,KAAK,EAAE,MAAM;gBACb,6BAA6B,EAAE,IAAI;gBACnC,oBAAoB,EAAE,OAAO;gBAC7B,4BAA4B,EAAE,OAAO;gBACrC,qBAAqB,EAAE,OAAO;gBAC9B,iBAAiB,EAAE,MAAM;gBACzB,qBAAqB,EAAE,IAAI;gBAC3B,UAAU,EAAE,WAAW;gBACvB,oBAAoB,EAAE,kBAAkB;gBACxC,wBAAwB,EAAE,aAAa;gBACvC,UAAU,EAAE,WAAW;gBACvB,SAAS,EAAE,WAAW;gBACtB,SAAS,EAAE,WAAW;gBACtB,WAAW,EAAE,WAAW;gBACxB,2BAA2B,EAAE,YAAY;gBACzC,sBAAsB,EAAE,wBAAwB;gBAChD,4BAA4B,EAAE,YAAY;gBAC1C,SAAS,EAAE,gBAAgB;gBAC3B,SAAS,EAAE,WAAW;gBACtB,YAAY,EAAE,SAAS;gBACvB,cAAc,EAAE,MAAM;gBACtB,UAAU,EAAE,IAAI;gBAChB,eAAe,EAAE,MAAM;gBACvB,gBAAgB,EAAE,QAAQ;gBAC1B,aAAa,EAAE,SAAS;gBACxB,mBAAmB,EAAE,MAAM;gBAC3B,YAAY,EAAE,IAAI;gBAClB,aAAa,EAAE,IAAI;gBACnB,SAAS,EAAE,IAAI;gBACf,cAAc,EAAE,MAAM;gBACtB,aAAa,EAAE,MAAM;gBACrB,QAAQ,EAAE,OAAO;gBACjB,aAAa,EAAE,MAAM;gBACrB,WAAW,EAAE,KAAK;gBAClB,aAAa,EAAE,IAAI;gBACnB,cAAc,EAAE,KAAK;gBACrB,MAAM,EAAE,KAAK;aACd;YACD,WAAW,EAAE;gBACX,mBAAmB,EAAE,QAAQ;gBAC7B,MAAM,EAAE,IAAI;gBACZ,gBAAgB,EAAE,SAAS;gBAC3B,QAAQ,EAAE,SAAS;gBACnB,YAAY,EAAE,QAAQ;gBACtB,cAAc,EAAE,cAAc;gBAC9B,WAAW,EAAE,0BAA0B;gBACvC,UAAU,EAAE,cAAc;gBAC1B,aAAa,EAAE,QAAQ;gBACvB,iBAAiB,EAAE,iBAAiB;gBACpC,kBAAkB,EAAE,eAAe;gBACnC,aAAa,EAAE,YAAY;gBAC3B,eAAe,EAAE,MAAM;gBACvB,kBAAkB,EAAE,QAAQ;gBAC5B,eAAe,EAAE,SAAS;gBAC1B,aAAa,EAAE,MAAM;gBACrB,eAAe,EAAE,SAAS;gBAC1B,iBAAiB,EAAE,QAAQ;gBAC3B,aAAa,EAAE,IAAI;gBACnB,SAAS,EAAE,IAAI;gBACf,KAAK,EAAE,OAAO;aACf;YACD,UAAU,EAAE;gBACV,UAAU,EAAE,MAAM;gBAClB,UAAU,EAAE,MAAM;gBAClB,MAAM,EAAE,IAAI;gBACZ,aAAa,EAAE,MAAM;gBACrB,gBAAgB,EAAE,MAAM;gBACxB,iBAAiB,EAAE,sBAAsB;gBACzC,KAAK,EAAE,OAAO;gBACd,QAAQ,EAAE,OAAO;gBACjB,gBAAgB,EAAE,QAAQ;gBAC1B,aAAa,EAAE,IAAI;gBACnB,SAAS,EAAE,IAAI;aAChB;YACD,gBAAgB,EAAE;gBAChB,gBAAgB,EAAE,MAAM;gBACxB,MAAM,EAAE,GAAG;gBACX,OAAO,EAAE,GAAG;gBACZ,KAAK,EAAE,OAAO;gBACd,QAAQ,EAAE,OAAO;gBACjB,YAAY,EAAE,IAAI;gBAClB,aAAa,EAAE,KAAK;gBACpB,QAAQ,EAAE,IAAI;gBACd,SAAS,EAAE,IAAI;aAChB;YACD,kBAAkB,EAAE;gBAClB,kBAAkB,EAAE,MAAM;gBAC1B,QAAQ,EAAE,OAAO;gBACjB,aAAa,EAAE,IAAI;gBACnB,YAAY,EAAE,MAAM;gBACpB,SAAS,EAAE,IAAI;aAChB;YACD,cAAc,EAAE;gBACd,cAAc,EAAE,MAAM;gBACtB,YAAY,EAAE,KAAK;gBACnB,gBAAgB,EAAE,mBAAmB;gBACrC,mBAAmB,EAAE,MAAM;gBAC3B,oBAAoB,EAAE,QAAQ;gBAC9B,QAAQ,EAAE,OAAO;gBACjB,SAAS,EAAE,QAAQ;gBACnB,qBAAqB,EAAE,OAAO;gBAC9B,kBAAkB,EAAE,OAAO;gBAC3B,aAAa,EAAE,IAAI;gBACnB,SAAS,EAAE,IAAI;gBACf,QAAQ,EAAE,QAAQ;gBAClB,MAAM,EAAE,MAAM;gBACd,aAAa,EAAE,KAAK;gBACpB,eAAe,EAAE,IAAI;gBACrB,KAAK,EAAE,MAAM;gBACb,MAAM,EAAE,MAAM;gBACd,YAAY,EAAE,IAAI;gBAClB,MAAM,EAAE,IAAI;gBACZ,KAAK,EAAE,IAAI;gBACX,OAAO,EAAE,KAAK;gBACd,UAAU,EAAE,IAAI;gBAChB,UAAU,EAAE,IAAI;gBAChB,YAAY,EAAE,KAAK;gBACnB,QAAQ,EAAE,MAAM;gBAChB,YAAY,EAAE,MAAM;gBACpB,aAAa,EAAE,IAAI;gBACnB,gBAAgB,EAAE,MAAM;gBACxB,gBAAgB,EAAE,MAAM;gBACxB,eAAe,EAAE,MAAM;gBACvB,WAAW,EAAE,MAAM;gBACnB,kBAAkB,EAAE,IAAI;gBACxB,wBAAwB,EAAE,aAAa;gBACvC,kBAAkB,EAAE,WAAW;gBAC/B,WAAW,EAAE,IAAI;gBACjB,YAAY,EAAE,MAAM;gBACpB,YAAY,EAAE,MAAM;gBACpB,QAAQ,EAAE,MAAM;gBAChB,UAAU,EAAE,MAAM;gBAClB,QAAQ,EAAE,MAAM;gBAChB,WAAW,EAAE,MAAM;gBACnB,UAAU,EAAE,MAAM;gBAClB,UAAU,EAAE,MAAM;gBAClB,UAAU,EAAE,MAAM;gBAClB,UAAU,EAAE,oBAAoB;gBAChC,aAAa,EAAE,UAAU;gBACzB,UAAU,EAAE,UAAU;gBACtB,WAAW,EAAE,IAAI;gBACjB,aAAa,EAAE,IAAI;gBACnB,WAAW,EAAE,IAAI;gBACjB,eAAe,EAAE,IAAI;gBACrB,aAAa,EAAE,IAAI;gBACnB,aAAa,EAAE,IAAI;gBACnB,aAAa,EAAE,IAAI;gBACnB,KAAK,EAAE,IAAI;gBACX,QAAQ,EAAE,IAAI;gBACd,OAAO,EAAE,IAAI;gBACb,SAAS,EAAE,MAAM;gBACjB,WAAW,EAAE,MAAM;gBACnB,QAAQ,EAAE,MAAM;gBAChB,cAAc,EAAE,MAAM;gBACtB,YAAY,EAAE,MAAM;gBACpB,iBAAiB,EAAE,QAAQ;gBAC3B,eAAe,EAAE,QAAQ;gBACzB,aAAa,EAAE,WAAW;gBAC1B,KAAK,EAAE,OAAO;aACf;YACD,iBAAiB,EAAE;gBACjB,iBAAiB,EAAE,MAAM;gBACzB,MAAM,EAAE,IAAI;gBACZ,MAAM,EAAE,IAAI;gBACZ,OAAO,EAAE,IAAI;gBACb,WAAW,EAAE,MAAM;gBACnB,MAAM,EAAE,MAAM;gBACd,eAAe,EAAE,MAAM;gBACvB,aAAa,EAAE,aAAa;gBAC5B,YAAY,EAAE,iBAAiB;gBAC/B,aAAa,EAAE,YAAY;gBAC3B,aAAa,EAAE,YAAY;gBAC3B,eAAe,EAAE,cAAc;gBAC/B,YAAY,EAAE,YAAY;gBAC1B,KAAK,EAAE,OAAO;gBACd,QAAQ,EAAE,OAAO;gBACjB,KAAK,EAAE,IAAI;gBACX,QAAQ,EAAE,IAAI;gBACd,aAAa,EAAE,IAAI;gBACnB,SAAS,EAAE,IAAI;aAChB;YACD,iBAAiB,EAAE;gBACjB,UAAU,EAAE,MAAM;gBAClB,MAAM,EAAE,IAAI;gBACZ,MAAM,EAAE,IAAI;gBACZ,MAAM,EAAE,IAAI;gBACZ,YAAY,EAAE,IAAI;gBAClB,QAAQ,EAAE,IAAI;gBACd,aAAa,EAAE,UAAU;gBACzB,QAAQ,EAAE,WAAW;gBACrB,YAAY,EAAE,IAAI;gBAClB,aAAa,EAAE,IAAI;gBACnB,SAAS,EAAE,MAAM;aAClB;YACD,wBAAwB,EAAE;gBACxB,MAAM,EAAE,IAAI;gBACZ,MAAM,EAAE,IAAI;gBACZ,UAAU,EAAE,IAAI;gBAChB,KAAK,EAAE,GAAG;gBACV,IAAI,EAAE,GAAG;gBACT,OAAO,EAAE,KAAK;gBACd,mBAAmB,EAAE,UAAU;gBAC/B,oBAAoB,EAAE,MAAM;gBAC5B,cAAc,EAAE,SAAS;gBACzB,eAAe,EAAE,SAAS;gBAC1B,MAAM,EAAE,IAAI;gBACZ,cAAc,EAAE,KAAK;gBACrB,WAAW,EAAE,MAAM;gBACnB,eAAe,EAAE,MAAM;gBACvB,aAAa,EAAE,IAAI;gBACnB,SAAS,EAAE,IAAI;aAChB;YACD,iBAAiB,EAAE;gBACjB,iBAAiB,EAAE,OAAO;gBAC1B,KAAK,EAAE,IAAI;gBACX,KAAK,EAAE,KAAK;gBACZ,KAAK,EAAE,QAAQ;gBACf,MAAM,EAAE,IAAI;gBACZ,MAAM,EAAE,IAAI;gBACZ,cAAc,EAAE,MAAM;gBACtB,OAAO,EAAE,MAAM;gBACf,KAAK,EAAE,GAAG;gBACV,IAAI,EAAE,GAAG;gBACT,WAAW,EAAE,IAAI;gBACjB,WAAW,EAAE,IAAI;gBACjB,OAAO,EAAE,KAAK;gBACd,YAAY,EAAE,SAAS;gBACvB,eAAe,EAAE,eAAe;gBAChC,aAAa,EAAE,YAAY;gBAC3B,KAAK,EAAE,OAAO;gBACd,QAAQ,EAAE,OAAO;gBACjB,KAAK,EAAE,IAAI;gBACX,QAAQ,EAAE,IAAI;gBACd,eAAe,EAAE,MAAM;gBACvB,aAAa,EAAE,IAAI;gBACnB,SAAS,EAAE,IAAI;aAChB;YACD,gBAAgB,EAAE;gBAChB,OAAO,EAAE,MAAM;gBACf,OAAO,EAAE,MAAM;gBACf,IAAI,EAAE,IAAI;gBACV,gBAAgB,EAAE,QAAQ;gBAC1B,KAAK,EAAE,OAAO;gBACd,QAAQ,EAAE,OAAO;gBACjB,WAAW,EAAE,MAAM;gBACnB,uBAAuB,EAAE,QAAQ;gBACjC,gBAAgB,EAAE,YAAY;gBAC9B,yBAAyB,EAAE,MAAM;gBACjC,8BAA8B,EAAE,QAAQ;gBACxC,gBAAgB,EAAE,YAAY;gBAC9B,aAAa,EAAE,IAAI;gBACnB,SAAS,EAAE,IAAI;aAChB;YACD,UAAU,EAAE;gBACV,YAAY,EAAE,MAAM;gBACpB,cAAc,EAAE,IAAI;gBACpB,eAAe,EAAE,IAAI;gBACrB,UAAU,EAAE,IAAI;gBAChB,QAAQ,EAAE,IAAI;gBACd,cAAc,EAAE,MAAM;gBACtB,MAAM,EAAE,IAAI;aACb;YACD,YAAY,EAAE;gBACZ,eAAe,EAAE,OAAO;gBACxB,WAAW,EAAE,OAAO;gBACpB,SAAS,EAAE,OAAO;gBAClB,eAAe,EAAE,QAAQ;gBACzB,cAAc,EAAE,UAAU;gBAC1B,qBAAqB,EAAE,OAAO;gBAC9B,SAAS,EAAE,WAAW;gBACtB,cAAc,EAAE,MAAM;gBACtB,SAAS,EAAE,IAAI;gBACf,aAAa,EAAE,IAAI;gBACnB,kBAAkB,EAAE,4BAA4B;gBAChD,KAAK,EAAE,OAAO;gBACd,QAAQ,EAAE,OAAO;gBACjB,uBAAuB,EAAE,OAAO;gBAChC,UAAU,EAAE,MAAM;gBAClB,YAAY,EAAE,MAAM;gBACpB,sBAAsB,EAAE,MAAM;gBAC9B,qBAAqB,EAAE,MAAM;gBAC7B,WAAW,EAAE,MAAM;gBACnB,WAAW,EAAE,MAAM;gBACnB,mBAAmB,EAAE,aAAa;gBAClC,cAAc,EAAE,QAAQ;gBACxB,eAAe,EAAE,OAAO;aACzB;YACD,cAAc,EAAE;gBACd,QAAQ,EAAE,kBAAkB;gBAC5B,cAAc,EAAE,MAAM;gBACtB,iBAAiB,EAAE,MAAM;gBACzB,qBAAqB,EAAE,MAAM;gBAC7B,OAAO,EAAE,GAAG;gBACZ,MAAM,EAAE,IAAI;gBACZ,IAAI,EAAE,IAAI;gBACV,UAAU,EAAE,MAAM;gBAClB,UAAU,EAAE,KAAK;gBACjB,mBAAmB,EAAE,OAAO;gBAC5B,SAAS,EAAE,2HAA2H;gBACtI,iBAAiB,EAAE,sBAAsB;gBACzC,YAAY,EAAE,6BAA6B;gBAC3C,KAAK,EAAE,OAAO;gBACd,QAAQ,EAAE,OAAO;gBACjB,aAAa,EAAE,MAAM;gBACrB,WAAW,EAAE,MAAM;gBACnB,eAAe,EAAE,cAAc;gBAC/B,OAAO,EAAE,MAAM;gBACf,kBAAkB,EAAE,cAAc;gBAClC,uBAAuB,EAAE,MAAM;gBAC/B,UAAU,EAAE,sBAAsB;gBAClC,UAAU,EAAE,4DAA4D;gBACxE,UAAU,EAAE,4CAA4C;gBACxD,mBAAmB,EAAE,UAAU;gBAC/B,aAAa,EAAE,IAAI;gBACnB,SAAS,EAAE,IAAI;aAChB;YACD,gBAAgB,EAAE;gBAChB,KAAK,EAAE,IAAI;gBACX,QAAQ,EAAE,IAAI;gBACd,OAAO,EAAE,IAAI;gBACb,aAAa,EAAE,OAAO;gBACtB,iBAAiB,EAAE,OAAO;gBAC1B,gBAAgB,EAAE,MAAM;gBACxB,QAAQ,EAAE,IAAI;gBACd,iBAAiB,EAAE,MAAM;gBACzB,UAAU,EAAE,OAAO;gBACnB,aAAa,EAAE,YAAY;gBAC3B,WAAW,EAAE,kBAAkB;gBAC/B,aAAa,EAAE,IAAI;gBACnB,SAAS,EAAE,IAAI;aAChB;YACD,aAAa,EAAE;gBACb,iBAAiB,EAAE,QAAQ;gBAC3B,UAAU,EAAE,IAAI;gBAChB,KAAK,EAAE,GAAG;gBACV,IAAI,EAAE,GAAG;gBACT,WAAW,EAAE,IAAI;gBACjB,KAAK,EAAE,IAAI;gBACX,QAAQ,EAAE,IAAI;gBACd,MAAM,EAAE,IAAI;gBACZ,WAAW,EAAE,YAAY;gBACzB,aAAa,EAAE,OAAO;gBACtB,KAAK,EAAE,OAAO;gBACd,QAAQ,EAAE,OAAO;gBACjB,UAAU,EAAE,MAAM;gBAClB,QAAQ,EAAE,IAAI;gBACd,UAAU,EAAE,IAAI;gBAChB,aAAa,EAAE,IAAI;gBACnB,SAAS,EAAE,IAAI;aAChB;YACD,iBAAiB,EAAE;gBACjB,aAAa,EAAE,OAAO;gBACtB,iBAAiB,EAAE,OAAO;gBAC1B,QAAQ,EAAE,IAAI;gBACd,aAAa,EAAE,KAAK;gBACpB,mBAAmB,EAAE,KAAK;gBAC1B,iBAAiB,EAAE,MAAM;gBACzB,KAAK,EAAE,OAAO;gBACd,UAAU,EAAE,OAAO;gBACnB,aAAa,EAAE,YAAY;gBAC3B,WAAW,EAAE,kBAAkB;gBAC/B,aAAa,EAAE,IAAI;gBACnB,SAAS,EAAE,IAAI;aAChB;YACD,eAAe,EAAE;gBACf,iBAAiB,EAAE,MAAM;gBACzB,SAAS,EAAE,IAAI;gBACf,UAAU,EAAE,IAAI;gBAChB,OAAO,EAAE,IAAI;gBACb,OAAO,EAAE,IAAI;gBACb,MAAM,EAAE,IAAI;gBACZ,gBAAgB,EAAE,MAAM;gBACxB,WAAW,EAAE,IAAI;gBACjB,IAAI,EAAE,GAAG;gBACT,KAAK,EAAE,GAAG;gBACV,kBAAkB,EAAE,MAAM;gBAC1B,qBAAqB,EAAE,MAAM;gBAC7B,eAAe,EAAE,MAAM;gBACvB,oBAAoB,EAAE,QAAQ;gBAC9B,gBAAgB,EAAE,MAAM;gBACxB,QAAQ,EAAE,MAAM;gBAChB,QAAQ,EAAE,MAAM;gBAChB,IAAI,EAAE,IAAI;gBACV,uBAAuB,EAAE,mBAAmB;gBAC5C,WAAW,EAAE,YAAY;gBACzB,KAAK,EAAE,OAAO;gBACd,QAAQ,EAAE,OAAO;gBACjB,KAAK,EAAE,IAAI;gBACX,QAAQ,EAAE,IAAI;gBACd,aAAa,EAAE,IAAI;gBACnB,SAAS,EAAE,IAAI;gBACf,gBAAgB,EAAE,MAAM;gBACxB,YAAY,EAAE,IAAI;aACnB;YACD,eAAe,EAAE;gBACf,QAAQ,EAAE,MAAM;gBAChB,MAAM,EAAE,IAAI;gBACZ,WAAW,EAAE,IAAI;gBACjB,OAAO,EAAE,MAAM;gBACf,aAAa,EAAE,MAAM;gBACrB,eAAe,EAAE,MAAM;gBACvB,aAAa,EAAE,WAAW;gBAC1B,aAAa,EAAE,WAAW;gBAC1B,KAAK,EAAE,OAAO;gBACd,QAAQ,EAAE,OAAO;gBACjB,QAAQ,EAAE,MAAM;gBAChB,QAAQ,EAAE,MAAM;gBAChB,WAAW,EAAE,MAAM;gBACnB,MAAM,EAAE,IAAI;gBACZ,KAAK,EAAE,IAAI;gBACX,QAAQ,EAAE,IAAI;gBACd,aAAa,EAAE,IAAI;gBACnB,SAAS,EAAE,IAAI;aAChB;YACD,cAAc,EAAE;gBACd,cAAc,EAAE,MAAM;gBACtB,UAAU,EAAE,KAAK;gBACjB,KAAK,EAAE,OAAO;gBACd,QAAQ,EAAE,OAAO;gBACjB,cAAc,EAAE,MAAM;gBACtB,aAAa,EAAE,MAAM;gBACrB,WAAW,EAAE,MAAM;gBACnB,aAAa,EAAE,IAAI;gBACnB,SAAS,EAAE,IAAI;aAChB;YACD,cAAc,EAAE;gBACd,MAAM,EAAE,IAAI;gBACZ,UAAU,EAAE,UAAU;gBACtB,YAAY,EAAE,IAAI;gBAClB,aAAa,EAAE,IAAI;gBACnB,SAAS,EAAE,IAAI;aAChB;YACD,mBAAmB,EAAE;gBACnB,WAAW,EAAE,IAAI;gBACjB,QAAQ,EAAE,MAAM;gBAChB,wBAAwB,EAAE,WAAW;gBACrC,cAAc,EAAE,aAAa;gBAC7B,QAAQ,EAAE,IAAI;gBACd,aAAa,EAAE,MAAM;gBACrB,MAAM,EAAE,IAAI;gBACZ,WAAW,EAAE,IAAI;gBACjB,eAAe,EAAE,MAAM;gBACvB,SAAS,EAAE,MAAM;gBACjB,YAAY,EAAE,MAAM;gBACpB,YAAY,EAAE,MAAM;gBACpB,mBAAmB,EAAE,MAAM;gBAC3B,KAAK,EAAE,GAAG;gBACV,IAAI,EAAE,GAAG;gBACT,SAAS,EAAE,IAAI;gBACf,MAAM,EAAE,IAAI;gBACZ,MAAM,EAAE,IAAI;gBACZ,OAAO,EAAE,KAAK;gBACd,eAAe,EAAE,MAAM;gBACvB,eAAe,EAAE,WAAW;gBAC5B,cAAc,EAAE,SAAS;gBACzB,cAAc,EAAE,MAAM;gBACtB,SAAS,EAAE,WAAW;gBACtB,WAAW,EAAE,OAAO;gBACpB,sBAAsB,EAAE,cAAc;gBACtC,OAAO,EAAE,KAAK;gBACd,UAAU,EAAE,IAAI;gBAChB,KAAK,EAAE,OAAO;gBACd,QAAQ,EAAE,OAAO;gBACjB,yBAAyB,EAAE,MAAM;gBACjC,2BAA2B,EAAE,MAAM;gBACnC,yBAAyB,EAAE,MAAM;gBACjC,2BAA2B,EAAE,MAAM;gBACnC,yBAAyB,EAAE,MAAM;gBACjC,0BAA0B,EAAE,MAAM;gBAClC,6BAA6B,EAAE,MAAM;gBACrC,0BAA0B,EAAE,MAAM;gBAClC,0BAA0B,EAAE,MAAM;gBAClC,kCAAkC,EAAE,SAAS;gBAC7C,kCAAkC,EAAE,OAAO;gBAC3C,8BAA8B,EAAE,OAAO;gBACvC,0BAA0B,EAAE,OAAO;gBACnC,yBAAyB,EAAE,OAAO;gBAClC,UAAU,EAAE,MAAM;gBAClB,kBAAkB,EAAE,MAAM;gBAC1B,oBAAoB,EAAE,MAAM;gBAC5B,kBAAkB,EAAE,MAAM;gBAC1B,kBAAkB,EAAE,OAAO;gBAC3B,oBAAoB,EAAE,OAAO;gBAC7B,oBAAoB,EAAE,OAAO;gBAC7B,kBAAkB,EAAE,OAAO;gBAC3B,kBAAkB,EAAE,OAAO;gBAC3B,oBAAoB,EAAE,OAAO;gBAC7B,kBAAkB,EAAE,OAAO;gBAC3B,oBAAoB,EAAE,QAAQ;gBAC9B,qBAAqB,EAAE,OAAO;gBAC9B,kBAAkB,EAAE,gBAAgB;gBACpC,MAAM,EAAE,KAAK;gBACb,eAAe,EAAE,sBAAsB;gBACvC,KAAK,EAAE,IAAI;gBACX,QAAQ,EAAE,IAAI;gBACd,UAAU,EAAE,IAAI;gBAChB,aAAa,EAAE,IAAI;gBACnB,SAAS,EAAE,IAAI;aAChB;SACF;KACF;IACD,IAAI,EAAE;QACJ,UAAU,EAAE;YACV,iBAAiB,EAAE,qDAAqD;YACxE,WAAW,EAAE,4BAA4B;YACzC,cAAc,EAAE,mGAAmG;YACnH,YAAY,EAAE,4FAA4F;YAC1G,eAAe,EAAE,iEAAiE;YAClF,eAAe,EAAE,yEAAyE;YAC1F,kBAAkB,EAAE,2HAA2H;YAC/I,YAAY,EAAE,iFAAiF;YAC/F,eAAe,EAAE,gIAAgI;YACjJ,wBAAwB,EAAE,mFAAmF;YAC7G,2BAA2B,EAAE,kIAAkI;YAC/J,qBAAqB,EAAE,0EAA0E;YACjG,wBAAwB,EAAE,mIAAmI;YAC7J,sBAAsB,EAAE,sFAAsF;YAC9G,yBAAyB,EAAE,mIAAmI;YAC9J,oBAAoB,EAAE,6EAA6E;YACnG,uBAAuB,EAAE,iIAAiI;YAC1J,uBAAuB,EAAE,oEAAoE;YAC7F,0BAA0B,EAAE,uJAAuJ;YACnL,sBAAsB,EAAE,6CAA6C;YACrE,yBAAyB,EAAE,iHAAiH;YAC5I,wBAAwB,EAAE,8BAA8B;YACxD,aAAa,EAAE,2EAA2E;YAC1F,aAAa,EAAE,kFAAkF;YACjG,UAAU,EAAE,YAAY;YACxB,iBAAiB,EAAE,sDAAsD;YACzE,oBAAoB,EAAE,yDAAyD;YAC/E,mBAAmB,EAAE,wDAAwD;YAC7E,gBAAgB,EAAE,qDAAqD;YACvE,qBAAqB,EAAE,0DAA0D;YACjF,kBAAkB,EAAE,uDAAuD;YAC3E,0BAA0B,EAAE,+DAA+D;YAC3F,gBAAgB,EAAE,qDAAqD;YACvE,0BAA0B,EAAE,4DAA4D;YACxF,mBAAmB,EAAE,wDAAwD;YAC7E,2BAA2B,EAAE,gEAAgE;YAC7F,YAAY,EAAE,iDAAiD;YAC/D,MAAM,EAAE,eAAe;YACvB,mBAAmB,EAAE,8BAA8B;YACnD,wBAAwB,EAAE,kEAAkE;SAC7F;QACD,eAAe,EAAE;YACf,KAAK,EAAE,KAAK;YACZ,YAAY,EAAE,wBAAwB;YACtC,cAAc,EAAE,uBAAuB;YACvC,UAAU,EAAE,oEAAoE;YAChF,UAAU,EAAE,gEAAgE;YAC5E,aAAa,EAAE,8BAA8B;YAC7C,UAAU,EAAE,eAAe;YAC3B,aAAa,EAAE,iBAAiB;YAChC,YAAY,EAAE,6CAA6C;YAC3D,gBAAgB,EAAE,oBAAoB;YACtC,aAAa,EAAE,iBAAiB;YAChC,gBAAgB,EAAE,gHAAgH;YAClI,oBAAoB,EAAE,+DAA+D;YACrF,YAAY,EAAE,kBAAkB;YAChC,YAAY,EAAE,+CAA+C;YAC7D,WAAW,EAAE,YAAY;YACzB,QAAQ,EAAE,4CAA4C;YACtD,QAAQ,EAAE;gBACR,UAAU,EAAE,MAAM;gBAClB,aAAa,EAAE,SAAS;gBACxB,MAAM,EAAE,iCAAiC;gBACzC,QAAQ,EAAE,SAAS;gBACnB,YAAY,EAAE,gBAAgB;gBAC9B,eAAe,EAAE,YAAY;gBAC7B,WAAW,EAAE,OAAO;aACrB;SACF;QACD,UAAU,EAAE;YACV,YAAY,EAAE;gBACZ,eAAe,EAAE,gBAAgB;gBACjC,UAAU,EAAE,WAAW;aACxB;YACD,eAAe,EAAE;gBACf,WAAW,EAAE,mBAAmB;gBAChC,MAAM,EAAE,MAAM;gBACd,cAAc,EAAE,MAAM;gBACtB,KAAK,EAAE,YAAY;gBACnB,WAAW,EAAE,kBAAkB;gBAC/B,WAAW,EAAE,YAAY;gBACzB,SAAS,EAAE,iBAAiB;gBAC5B,SAAS,EAAE,iBAAiB;gBAC5B,SAAS,EAAE,SAAS;gBACpB,aAAa,EAAE,aAAa;gBAC5B,SAAS,EAAE,gBAAgB;gBAC3B,UAAU,EAAE,qBAAqB;gBACjC,OAAO,EAAE,kBAAkB;gBAC3B,aAAa,EAAE,mBAAmB;gBAClC,aAAa,EAAE,qBAAqB;gBACpC,kBAAkB,EAAE,mBAAmB;gBACvC,eAAe,EAAE,gBAAgB;gBACjC,iBAAiB,EAAE,gBAAgB;gBACnC,gBAAgB,EAAE,wBAAwB;gBAC1C,gBAAgB,EAAE,iBAAiB;gBACnC,0BAA0B,EAAE,iCAAiC;gBAC7D,iBAAiB,EAAE,eAAe;gBAClC,kBAAkB,EAAE,mBAAmB;gBACvC,eAAe,EAAE,sBAAsB;gBACvC,gBAAgB,EAAE,qBAAqB;gBACvC,YAAY,EAAE,4IAA4I;gBAC1J,cAAc,EAAE,kPAAkP;gBAClQ,gBAAgB,EAAE,sMAAsM;aACzN;YACD,oBAAoB,EAAE;gBACpB,WAAW,EAAE,mBAAmB;gBAChC,OAAO,EAAE,kBAAkB;gBAC3B,MAAM,EAAE,MAAM;gBACd,cAAc,EAAE,MAAM;gBACtB,IAAI,EAAE,YAAY;gBAClB,WAAW,EAAE,mBAAmB;gBAChC,qBAAqB,EAAE,sBAAsB;gBAC7C,SAAS,EAAE,oBAAoB;aAChC;YACD,WAAW,EAAE;gBACX,gBAAgB,EAAE,2BAA2B;aAC9C;SACF;QACD,KAAK,EAAE;YACL,iBAAiB,EAAE;gBACjB,KAAK,EAAE,KAAK;gBACZ,QAAQ,EAAE,QAAQ;gBAClB,OAAO,EAAE,OAAO;gBAChB,SAAS,EAAE,cAAc;gBACzB,UAAU,EAAE,2BAA2B;gBACvC,YAAY,EAAE,6BAA6B;gBAC3C,MAAM,EAAE,KAAK;gBACb,OAAO,EAAE,IAAI;gBACb,QAAQ,EAAE,aAAa;gBACvB,YAAY,EAAE,qBAAqB;gBACnC,WAAW,EAAE,sBAAsB;gBACnC,sBAAsB,EAAE,wBAAwB;gBAChD,iBAAiB,EAAE,mBAAmB;gBACtC,iBAAiB,EAAE,oBAAoB;gBACvC,qBAAqB,EAAE,iBAAiB;gBACxC,SAAS,EAAE,kBAAkB;gBAC7B,YAAY,EAAE,uBAAuB;gBACrC,kBAAkB,EAAE,yBAAyB;gBAC7C,qBAAqB,EAAE,wBAAwB;gBAC/C,sBAAsB,EAAE,wBAAwB;gBAChD,wBAAwB,EAAE,0BAA0B;gBACpD,aAAa,EAAE,oBAAoB;gBACnC,iBAAiB,EAAE,oCAAoC;gBACvD,2BAA2B,EAAE,gDAAgD;gBAC7E,8BAA8B,EAAE,6CAA6C;gBAC7E,eAAe,EAAE,oCAAoC;gBACrD,wBAAwB,EAAE,oCAAoC;gBAC9D,qBAAqB,EAAE,0CAA0C;gBACjE,aAAa,EAAE,4BAA4B;gBAC3C,cAAc,EAAE,8BAA8B;gBAC9C,WAAW,EAAE,gCAAgC;gBAC7C,gBAAgB,EAAE,iBAAiB;gBACnC,iBAAiB,EAAE,kBAAkB;gBACrC,gBAAgB,EAAE,iBAAiB;gBACnC,gBAAgB,EAAE,mBAAmB;gBACrC,QAAQ,EAAE,QAAQ;gBAClB,kBAAkB,EAAE,kBAAkB;gBACtC,aAAa,EAAE,YAAY;gBAC3B,KAAK,EAAE,eAAe;gBACtB,KAAK,EAAE,IAAI;gBACX,KAAK,EAAE,QAAQ;gBACf,oBAAoB,EAAE,qFAAqF;gBAC3G,qBAAqB,EAAE,oDAAoD;gBAC3E,MAAM,EAAE,OAAO;gBACf,QAAQ,EAAE,SAAS;gBACnB,MAAM,EAAE,aAAa;gBACrB,eAAe,EAAE,oBAAoB;gBACrC,YAAY,EAAE,yDAAyD;gBACvE,QAAQ,EAAE,oHAAoH;gBAC9H,aAAa,EAAE,4BAA4B;gBAC3C,8BAA8B,EAAE,8HAA8H;gBAC9J,gBAAgB,EAAE,uBAAuB;gBACzC,MAAM,EAAE,qBAAqB;gBAC7B,MAAM,EAAE,qBAAqB;gBAC7B,MAAM,EAAE,qBAAqB;gBAC7B,UAAU,EAAE,8DAA8D;aAC3E;SACF;QACD,kCAAkC,EAAE;YAClC,qBAAqB,EAAE,sBAAsB;YAC7C,KAAK,EAAE,OAAO;YACd,QAAQ,EAAE,WAAW;YACrB,UAAU,EAAE,QAAQ;YACpB,cAAc,EAAE,YAAY;YAC5B,iBAAiB,EAAE,sBAAsB;YACzC,0BAA0B,EAAE,uBAAuB;YACnD,YAAY,EAAE,iGAAiG;YAC/G,YAAY,EAAE,2JAA2J;YACzK,aAAa,EAAE,gGAAgG;YAC/G,aAAa,EAAE,yJAAyJ;YACxK,aAAa,EAAE,oFAAoF;YACnG,mBAAmB,EAAE,OAAO;YAC5B,8BAA8B,EAAE;gBAC9B,SAAS,EAAE,SAAS;gBACpB,UAAU,EAAE,UAAU;gBACtB,OAAO,EAAE,OAAO;aACjB;SACF;QACD,WAAW,EAAE;YACX,QAAQ,EAAE;gBACR,WAAW,EAAE,kBAAkB;gBAC/B,WAAW,EAAE,sBAAsB;gBACnC,SAAS,EAAE,oBAAoB;gBAC/B,KAAK,EAAE,OAAO;gBACd,QAAQ,EAAE,WAAW;gBACrB,gBAAgB,EAAE,iBAAiB;gBACnC,aAAa,EAAE,cAAc;gBAC7B,QAAQ,EAAE,kBAAkB;gBAC5B,SAAS,EAAE,oBAAoB;gBAC/B,aAAa,EAAE,QAAQ;gBACvB,SAAS,EAAE,IAAI;aAChB;YACD,UAAU,EAAE;gBACV,cAAc,EAAE,sBAAsB;gBACtC,oBAAoB,EAAE,sBAAsB;gBAC5C,QAAQ,EAAE,QAAQ;gBAClB,SAAS,EAAE,IAAI;gBACf,WAAW,EAAE,YAAY;gBACzB,oBAAoB,EAAE,yBAAyB;gBAC/C,KAAK,EAAE,OAAO;gBACd,QAAQ,EAAE,WAAW;gBACrB,WAAW,EAAE,YAAY;gBACzB,cAAc,EAAE,eAAe;gBAC/B,aAAa,EAAE,eAAe;aAC/B;YACD,iBAAiB,EAAE;gBACjB,UAAU,EAAE,UAAU;gBACtB,YAAY,EAAE,YAAY;gBAC1B,WAAW,EAAE,WAAW;gBACxB,kBAAkB,EAAE,kBAAkB;gBACtC,oBAAoB,EAAE,oBAAoB;gBAC1C,WAAW,EAAE,qBAAqB;gBAClC,WAAW,EAAE,iBAAiB;gBAC9B,UAAU,EAAE,UAAU;gBACtB,SAAS,EAAE,eAAe;gBAC1B,WAAW,EAAE,YAAY;gBACzB,eAAe,EAAE,gBAAgB;gBACjC,WAAW,EAAE,gBAAgB;gBAC7B,kBAAkB,EAAE,mBAAmB;gBACvC,gBAAgB,EAAE,wBAAwB;gBAC1C,kBAAkB,EAAE,iCAAiC;gBACrD,KAAK,EAAE,OAAO;gBACd,QAAQ,EAAE,WAAW;gBACrB,KAAK,EAAE,KAAK;gBACZ,QAAQ,EAAE,QAAQ;gBAClB,cAAc,EAAE,eAAe;gBAC/B,aAAa,EAAE,QAAQ;gBACvB,SAAS,EAAE,IAAI;gBACf,wBAAwB,EAAE,0EAA0E;gBACpG,gBAAgB,EAAE,oEAAoE;gBACtF,eAAe,EAAE,gBAAgB;gBACjC,gBAAgB,EAAE,iBAAiB;gBACnC,mBAAmB,EAAE,mCAAmC;gBACxD,kBAAkB,EAAE,oFAAoF;gBACxG,sBAAsB,EAAE,kCAAkC;gBAC1D,oBAAoB,EAAE,qBAAqB;gBAC3C,eAAe,EAAE,gBAAgB;gBACjC,eAAe,EAAE,gBAAgB;gBACjC,YAAY,EAAE,KAAK;aACpB;YACD,gBAAgB,EAAE;gBAChB,gBAAgB,EAAE,gBAAgB;gBAClC,eAAe,EAAE,gBAAgB;gBACjC,MAAM,EAAE,GAAG;gBACX,YAAY,EAAE,aAAa;gBAC3B,iBAAiB,EAAE,iCAAiC;gBACpD,oBAAoB,EAAE,wEAAwE;gBAC9F,WAAW,EAAE,qCAAqC;gBAClD,kBAAkB,EAAE,oCAAoC;gBACxD,kBAAkB,EAAE,kCAAkC;gBACtD,sBAAsB,EAAE,oCAAoC;gBAC5D,qBAAqB,EAAE,uCAAuC;gBAC9D,KAAK,EAAE,OAAO;gBACd,QAAQ,EAAE,WAAW;gBACrB,kBAAkB,EAAE,wBAAwB;gBAC5C,aAAa,EAAE,cAAc;gBAC7B,cAAc,EAAE,4BAA4B;gBAC5C,iBAAiB,EAAE,+BAA+B;gBAClD,eAAe,EAAE,gBAAgB;gBACjC,gBAAgB,EAAE,iBAAiB;gBACnC,gBAAgB,EAAE,iBAAiB;gBACnC,gBAAgB,EAAE,iBAAiB;gBACnC,iBAAiB,EAAE,yBAAyB;gBAC5C,aAAa,EAAE,QAAQ;gBACvB,SAAS,EAAE,IAAI;aAChB;YACD,iBAAiB,EAAE;gBACjB,QAAQ,EAAE,oBAAoB;gBAC9B,QAAQ,EAAE,qBAAqB;gBAC/B,IAAI,EAAE,SAAS;gBACf,iBAAiB,EAAE,kBAAkB;gBACrC,KAAK,EAAE,OAAO;gBACd,QAAQ,EAAE,WAAW;gBACrB,iBAAiB,EAAE,2BAA2B;gBAC9C,aAAa,EAAE,QAAQ;gBACvB,SAAS,EAAE,IAAI;aAChB;YACD,kBAAkB,EAAE;gBAClB,mBAAmB,EAAE,qBAAqB;gBAC1C,UAAU,EAAE,UAAU;gBACtB,OAAO,EAAE,YAAY;gBACrB,KAAK,EAAE,QAAQ;gBACf,MAAM,EAAE,SAAS;gBACjB,QAAQ,EAAE,WAAW;gBACrB,gBAAgB,EAAE,YAAY;gBAC9B,YAAY,EAAE,QAAQ;gBACtB,eAAe,EAAE,WAAW;gBAC5B,4BAA4B,EAAE,gBAAgB;gBAC9C,2BAA2B,EAAE,sBAAsB;gBACnD,QAAQ,EAAE,aAAa;gBACvB,cAAc,EAAE,eAAe;gBAC/B,UAAU,EAAE,UAAU;gBACtB,cAAc,EAAE,UAAU;gBAC1B,UAAU,EAAE,MAAM;gBAClB,mBAAmB,EAAE,qBAAqB;gBAC1C,UAAU,EAAE,WAAW;gBACvB,eAAe,EAAE,uCAAuC;gBACxD,cAAc,EAAE,+BAA+B;gBAC/C,SAAS,EAAE,uCAAuC;gBAClD,aAAa,EAAE,0CAA0C;gBACzD,mBAAmB,EAAE,qCAAqC;gBAC1D,qBAAqB,EAAE,mHAAmH;gBAC1I,gBAAgB,EAAE,iBAAiB;gBACnC,qBAAqB,EAAE,sBAAsB;gBAC7C,KAAK,EAAE,OAAO;gBACd,QAAQ,EAAE,WAAW;gBACrB,mBAAmB,EAAE,oCAAoC;gBACzD,UAAU,EAAE,eAAe;gBAC3B,cAAc,EAAE,eAAe;gBAC/B,iBAAiB,EAAE,wBAAwB;gBAC3C,YAAY,EAAE,aAAa;gBAC3B,KAAK,EAAE,KAAK;gBACZ,QAAQ,EAAE,QAAQ;gBAClB,aAAa,EAAE,QAAQ;gBACvB,SAAS,EAAE,IAAI;gBACf,qBAAqB,EAAE,uBAAuB;gBAC9C,iBAAiB,EAAE,mBAAmB;gBACtC,qBAAqB,EAAE,oDAAoD;gBAC3E,gBAAgB,EAAE,sCAAsC;gBACxD,OAAO,EAAE,OAAO;aACjB;YACD,sBAAsB,EAAE;gBACtB,iBAAiB,EAAE,mBAAmB;gBACtC,qBAAqB,EAAE,sBAAsB;gBAC7C,iBAAiB,EAAE,wBAAwB;gBAC3C,KAAK,EAAE,KAAK;gBACZ,MAAM,EAAE,MAAM;gBACd,QAAQ,EAAE,QAAQ;gBAClB,mBAAmB,EAAE,sCAAsC;gBAC3D,oBAAoB,EAAE,8BAA8B;gBACpD,iBAAiB,EAAE,kCAAkC;gBACrD,iBAAiB,EAAE,kCAAkC;gBACrD,mBAAmB,EAAE,4BAA4B;gBACjD,iBAAiB,EAAE,8DAA8D;gBACjF,2BAA2B,EAAE,qCAAqC;gBAClE,aAAa,EAAE,sBAAsB;gBACrC,WAAW,EAAE,qBAAqB;gBAClC,UAAU,EAAE,aAAa;gBACzB,SAAS,EAAE,iBAAiB;gBAC5B,SAAS,EAAE,iBAAiB;gBAC5B,cAAc,EAAE,WAAW;gBAC3B,UAAU,EAAE,cAAc;gBAC1B,aAAa,EAAE,QAAQ;gBACvB,SAAS,EAAE,IAAI;gBACf,kBAAkB,EAAE,6CAA6C;gBACjE,oBAAoB,EAAE,qCAAqC;gBAC3D,qBAAqB,EAAE,6BAA6B;gBACpD,wBAAwB,EAAE,2BAA2B;gBACrD,wBAAwB,EAAE,4BAA4B;aACvD;YACD,oBAAoB,EAAE;gBACpB,oBAAoB,EAAE,wNAAwN;gBAC9O,MAAM,EAAE,UAAU;gBAClB,OAAO,EAAE,OAAO;gBAChB,gBAAgB,EAAE,kBAAkB;gBACpC,oBAAoB,EAAE,sBAAsB;gBAC5C,OAAO,EAAE,2KAA2K;gBACpL,OAAO,EAAE,oGAAoG;gBAC7G,OAAO,EAAE,yHAAyH;gBAClI,mBAAmB,EAAE,qBAAqB;gBAC1C,oBAAoB,EAAE,sBAAsB;gBAC5C,gBAAgB,EAAE,KAAK;gBACvB,mBAAmB,EAAE,QAAQ;aAC9B;YACD,UAAU,EAAE;gBACV,kBAAkB,EAAE,mBAAmB;gBACvC,UAAU,EAAE,aAAa;gBACzB,cAAc,EAAE,mBAAmB;gBACnC,kBAAkB,EAAE,mBAAmB;gBACvC,OAAO,EAAE,QAAQ;gBACjB,MAAM,EAAE,MAAM;gBACd,gBAAgB,EAAE,iBAAiB;gBACnC,iBAAiB,EAAE,kBAAkB;gBACrC,eAAe,EAAE,oBAAoB;gBACrC,gBAAgB,EAAE,iBAAiB;gBACnC,cAAc,EAAE,kCAAkC;gBAClD,KAAK,EAAE,KAAK;gBACZ,IAAI,EAAE,IAAI;gBACV,UAAU,EAAE,6GAA6G;gBACzH,cAAc,EAAE,8BAA8B;gBAC9C,mBAAmB,EAAE,gDAAgD;gBACrE,mBAAmB,EAAE,8CAA8C;gBACnE,eAAe,EAAE,mFAAmF;gBACpG,KAAK,EAAE,OAAO;gBACd,UAAU,EAAE,WAAW;gBACvB,iBAAiB,EAAE,kBAAkB;gBACrC,aAAa,EAAE,QAAQ;gBACvB,WAAW,EAAE,OAAO;gBACpB,SAAS,EAAE,IAAI;aAChB;YACD,YAAY,EAAE;gBACZ,QAAQ,EAAE,QAAQ;gBAClB,SAAS,EAAE,SAAS;gBACpB,MAAM,EAAE,QAAQ;gBAChB,MAAM,EAAE,MAAM;gBACd,cAAc,EAAE,8BAA8B;gBAC9C,sBAAsB,EAAE,0CAA0C;gBAClE,cAAc,EAAE,cAAc;gBAC9B,iBAAiB,EAAE,kBAAkB;gBACrC,aAAa,EAAE,cAAc;gBAC7B,iBAAiB,EAAE,mBAAmB;gBACtC,gBAAgB,EAAE,0BAA0B;gBAC5C,aAAa,EAAE,cAAc;gBAC7B,cAAc,EAAE,QAAQ;gBACxB,UAAU,EAAE,IAAI;aACjB;YACD,SAAS,EAAE;gBACT,SAAS,EAAE,iBAAiB;gBAC5B,QAAQ,EAAE,gBAAgB;gBAC1B,eAAe,EAAE,gBAAgB;gBACjC,qBAAqB,EAAE,sBAAsB;gBAC7C,UAAU,EAAE,cAAc;gBAC1B,aAAa,EAAE,iBAAiB;gBAChC,aAAa,EAAE,cAAc;gBAC7B,YAAY,EAAE,aAAa;gBAC3B,cAAc,EAAE,QAAQ;gBACxB,UAAU,EAAE,IAAI;aACjB;YACD,kBAAkB,EAAE;gBAClB,QAAQ,EAAE,QAAQ;gBAClB,SAAS,EAAE,SAAS;gBACpB,SAAS,EAAE,SAAS;gBACpB,SAAS,EAAE,SAAS;gBACpB,UAAU,EAAE,UAAU;gBACtB,YAAY,EAAE,YAAY;gBAC1B,WAAW,EAAE,WAAW;gBACxB,MAAM,EAAE,iBAAiB;gBACzB,UAAU,EAAE,UAAU;gBACtB,eAAe,EAAE,eAAe;gBAChC,WAAW,EAAE,eAAe;gBAC5B,aAAa,EAAE,aAAa;gBAC5B,KAAK,EAAE,oBAAoB;gBAC3B,WAAW,EAAE,eAAe;gBAC5B,kBAAkB,EAAE,mBAAmB;gBACvC,aAAa,EAAE,gCAAgC;gBAC/C,qBAAqB,EAAE,kCAAkC;gBACzD,mBAAmB,EAAE,gCAAgC;gBACrD,2BAA2B,EAAE,qGAAqG;gBAClI,aAAa,EAAE,qCAAqC;gBACpD,gBAAgB,EAAE,+CAA+C;gBACjE,eAAe,EAAE,oCAAoC;gBACrD,KAAK,EAAE,OAAO;gBACd,QAAQ,EAAE,WAAW;gBACrB,KAAK,EAAE,KAAK;gBACZ,QAAQ,EAAE,QAAQ;gBAClB,QAAQ,EAAE,QAAQ;gBAClB,aAAa,EAAE,QAAQ;gBACvB,SAAS,EAAE,IAAI;aAChB;YACD,aAAa,EAAE;gBACb,MAAM,EAAE,MAAM;gBACd,UAAU,EAAE,sBAAsB;gBAClC,UAAU,EAAE,UAAU;gBACtB,MAAM,EAAE,MAAM;gBACd,WAAW,EAAE,uBAAuB;gBACpC,eAAe,EAAE,gBAAgB;gBACjC,QAAQ,EAAE,QAAQ;gBAClB,kBAAkB,EAAE,8BAA8B;gBAClD,cAAc,EAAE,yBAAyB;gBACzC,KAAK,EAAE,KAAK;gBACZ,QAAQ,EAAE,QAAQ;gBAClB,OAAO,EAAE,OAAO;gBAChB,aAAa,EAAE,iBAAiB;gBAChC,iBAAiB,EAAE,mBAAmB;gBACtC,gBAAgB,EAAE,iBAAiB;gBACnC,OAAO,EAAE,OAAO;gBAChB,MAAM,EAAE,MAAM;gBACd,eAAe,EAAE,MAAM;gBACvB,aAAa,EAAE,aAAa;gBAC5B,WAAW,EAAE,kBAAkB;gBAC/B,eAAe,EAAE,oDAAoD;gBACrE,eAAe,EAAE,mDAAmD;gBACpE,sBAAsB,EAAE,uBAAuB;gBAC/C,wBAAwB,EAAE,qCAAqC;gBAC/D,yBAAyB,EAAE,uCAAuC;gBAClE,gBAAgB,EAAE,4BAA4B;gBAC9C,gBAAgB,EAAE,4BAA4B;gBAC9C,eAAe,EAAE,qCAAqC;gBACtD,SAAS,EAAE,8BAA8B;gBACzC,iBAAiB,EAAE,uFAAuF;gBAC1G,kBAAkB,EAAE,yFAAyF;gBAC7G,kBAAkB,EAAE,gDAAgD;gBACpE,qBAAqB,EAAE,yCAAyC;gBAChE,uBAAuB,EAAE,4BAA4B;gBACrD,kBAAkB,EAAE,wCAAwC;gBAC5D,iBAAiB,EAAE,4BAA4B;gBAC/C,mBAAmB,EAAE,wFAAwF;gBAC7G,eAAe,EAAE,gFAAgF;gBACjG,uBAAuB,EAAE,gDAAgD;gBACzE,eAAe,EAAE,sBAAsB;gBACvC,sBAAsB,EAAE,uCAAuC;gBAC/D,yBAAyB,EAAE,4CAA4C;gBACvE,KAAK,EAAE,eAAe;gBACtB,eAAe,EAAE,gDAAgD;gBACjE,eAAe,EAAE,iCAAiC;gBAClD,eAAe,EAAE,sCAAsC;gBACvD,MAAM,EAAE,YAAY;gBACpB,aAAa,EAAE,iBAAiB;gBAChC,kBAAkB,EAAE,oBAAoB;gBACxC,wBAAwB,EAAE,0BAA0B;gBACpD,YAAY,EAAE,eAAe;gBAC7B,YAAY,EAAE,eAAe;gBAC7B,YAAY,EAAE,eAAe;gBAC7B,MAAM,EAAE,QAAQ;gBAChB,KAAK,EAAE,OAAO;gBACd,QAAQ,EAAE,WAAW;gBACrB,kBAAkB,EAAE,mBAAmB;gBACvC,UAAU,EAAE,iBAAiB;gBAC7B,aAAa,EAAE,0BAA0B;gBACzC,WAAW,EAAE,0DAA0D;gBACvE,iBAAiB,EAAE,kBAAkB;gBACrC,gBAAgB,EAAE,iBAAiB;gBACnC,KAAK,EAAE,KAAK;gBACZ,eAAe,EAAE,MAAM;gBACvB,iBAAiB,EAAE,QAAQ;gBAC3B,gBAAgB,EAAE,OAAO;gBACzB,QAAQ,EAAE,SAAS;gBACnB,UAAU,EAAE,WAAW;gBACvB,oBAAoB,EAAE,qBAAqB;gBAC3C,YAAY,EAAE,8EAA8E;gBAC5F,aAAa,EAAE,QAAQ;gBACvB,SAAS,EAAE,IAAI;gBACf,kBAAkB,EAAE,mBAAmB;gBACvC,OAAO,EAAE,OAAO;gBAChB,iBAAiB,EAAE,kBAAkB;gBACrC,UAAU,EAAE,UAAU;gBACtB,aAAa,EAAE,cAAc;gBAC7B,mBAAmB,EAAE,oBAAoB;gBACzC,sBAAsB,EAAE,cAAc;aACvC;YACD,kBAAkB,EAAE;gBAClB,MAAM,EAAE,MAAM;gBACd,cAAc,EAAE,oBAAoB;gBACpC,UAAU,EAAE,WAAW;gBACvB,oBAAoB,EAAE,mBAAmB;gBACzC,cAAc,EAAE,eAAe;gBAC/B,aAAa,EAAE,QAAQ;gBACvB,SAAS,EAAE,IAAI;aAChB;YACD,oBAAoB,EAAE;gBACpB,iBAAiB,EAAE,sEAAsE;gBACzF,gBAAgB,EAAE,qEAAqE;gBACvF,MAAM,EAAE,MAAM;gBACd,MAAM,EAAE,MAAM;gBACd,aAAa,EAAE,aAAa;gBAC5B,WAAW,EAAE,iBAAiB;gBAC9B,MAAM,EAAE,MAAM;gBACd,gBAAgB,EAAE,mCAAmC;gBACrD,oBAAoB,EAAE,qBAAqB;gBAC3C,kBAAkB,EAAE,+BAA+B;gBACnD,oBAAoB,EAAE,2GAA2G;gBACjI,eAAe,EAAE,gBAAgB;gBACjC,iBAAiB,EAAE,qBAAqB;gBACxC,eAAe,EAAE,gBAAgB;aAClC;YACD,iBAAiB,EAAE;gBACjB,MAAM,EAAE,MAAM;gBACd,MAAM,EAAE,MAAM;gBACd,MAAM,EAAE,MAAM;gBACd,YAAY,EAAE,OAAO;gBACrB,eAAe,EAAE,gBAAgB;gBACjC,gBAAgB,EAAE,wBAAwB;gBAC1C,aAAa,EAAE,cAAc;gBAC7B,mBAAmB,EAAE,eAAe;gBACpC,iBAAiB,EAAE,kBAAkB;gBACrC,WAAW,EAAE,kBAAkB;gBAC/B,KAAK,EAAE,KAAK;gBACZ,OAAO,EAAE,OAAO;gBAChB,eAAe,EAAE,6BAA6B;gBAC9C,QAAQ,EAAE,QAAQ;gBAClB,WAAW,EAAE,SAAS;gBACtB,YAAY,EAAE,aAAa;aAC5B;YACD,kBAAkB,EAAE;gBAClB,OAAO,EAAE,WAAW;gBACpB,gBAAgB,EAAE,kBAAkB;gBACpC,KAAK,EAAE,SAAS;gBAChB,sBAAsB,EAAE,aAAa;gBACrC,iBAAiB,EAAE,mBAAmB;gBACtC,iBAAiB,EAAE,yBAAyB;gBAC5C,kBAAkB,EAAE,wBAAwB;gBAC5C,kBAAkB,EAAE,mBAAmB;gBACvC,qBAAqB,EAAE,wHAAwH;gBAC/I,oBAAoB,EAAE,oGAAoG;gBAC1H,yBAAyB,EAAE,4IAA4I;gBACvK,6BAA6B,EAAE,oGAAoG;gBACnI,KAAK,EAAE,OAAO;gBACd,iBAAiB,EAAE,4BAA4B;gBAC/C,eAAe,EAAE,2FAA2F;gBAC5G,qBAAqB,EAAE,4BAA4B;gBACnD,wBAAwB,EAAE,yBAAyB;gBACnD,uBAAuB,EAAE,+DAA+D;gBACxF,wBAAwB,EAAE,mEAAmE;gBAC7F,yBAAyB,EAAE,kEAAkE;gBAC7F,sBAAsB,EAAE,mBAAmB;gBAC3C,kBAAkB,EAAE,uBAAuB;gBAC3C,0BAA0B,EAAE,4BAA4B;gBACxD,qBAAqB,EAAE,wDAAwD;gBAC/E,qBAAqB,EAAE,+DAA+D;gBACtF,sBAAsB,EAAE,8DAA8D;gBACtF,QAAQ,EAAE,QAAQ;gBAClB,SAAS,EAAE,IAAI;aAChB;YACD,mBAAmB,EAAE;gBACnB,aAAa,EAAE,uBAAuB;gBACtC,iBAAiB,EAAE,kBAAkB;gBACrC,cAAc,EAAE,kBAAkB;gBAClC,cAAc,EAAE,eAAe;gBAC/B,MAAM,EAAE,MAAM;gBACd,UAAU,EAAE,UAAU;gBACtB,SAAS,EAAE,mBAAmB;gBAC9B,aAAa,EAAE,eAAe;gBAC9B,OAAO,EAAE,iBAAiB;gBAC1B,WAAW,EAAE,kBAAkB;gBAC/B,aAAa,EAAE,QAAQ;gBACvB,SAAS,EAAE,IAAI;aAChB;YACD,eAAe,EAAE;gBACf,gBAAgB,EAAE,qBAAqB;gBACvC,gBAAgB,EAAE,mBAAmB;gBACrC,MAAM,EAAE,MAAM;gBACd,MAAM,EAAE,MAAM;gBACd,MAAM,EAAE,cAAc;gBACtB,SAAS,EAAE,aAAa;gBACxB,UAAU,EAAE,UAAU;gBACtB,gBAAgB,EAAE,iBAAiB;gBACnC,SAAS,EAAE,sBAAsB;gBACjC,WAAW,EAAE,iBAAiB;gBAC9B,mBAAmB,EAAE,gBAAgB;gBACrC,WAAW,EAAE,kBAAkB;gBAC/B,UAAU,EAAE,wBAAwB;gBACpC,WAAW,EAAE,kBAAkB;gBAC/B,oBAAoB,EAAE,sCAAsC;aAC7D;YACD,eAAe,EAAE;gBACf,aAAa,EAAE,cAAc;gBAC7B,cAAc,EAAE,sBAAsB;gBACtC,KAAK,EAAE,aAAa;gBACpB,6BAA6B,EAAE,UAAU;gBACzC,gBAAgB,EAAE,4DAA4D;gBAC9E,MAAM,EAAE,MAAM;gBACd,UAAU,EAAE,UAAU;gBACtB,WAAW,EAAE,kBAAkB;aAChC;YACD,mBAAmB,EAAE;gBACnB,KAAK,EAAE,SAAS;gBAChB,sBAAsB,EAAE,aAAa;gBACrC,SAAS,EAAE,MAAM;gBACjB,6BAA6B,EAAE,eAAe;gBAC9C,gBAAgB,EAAE,4DAA4D;gBAC9E,kBAAkB,EAAE,mBAAmB;gBACvC,kBAAkB,EAAE,sBAAsB;gBAC1C,kBAAkB,EAAE,cAAc;gBAClC,WAAW,EAAE,kBAAkB;aAChC;YACD,mBAAmB,EAAE;gBACnB,gBAAgB,EAAE,iBAAiB;gBACnC,QAAQ,EAAE,aAAa;gBACvB,aAAa,EAAE,cAAc;gBAC7B,mBAAmB,EAAE,oBAAoB;gBACzC,eAAe,EAAE,eAAe;gBAChC,cAAc,EAAE,SAAS;gBACzB,UAAU,EAAE,UAAU;gBACtB,QAAQ,EAAE,QAAQ;gBAClB,KAAK,EAAE,OAAO;gBACd,QAAQ,EAAE,WAAW;gBACrB,QAAQ,EAAE,QAAQ;gBAClB,QAAQ,EAAE,eAAe;gBACzB,OAAO,EAAE,OAAO;gBAChB,OAAO,EAAE,QAAQ;gBACjB,sBAAsB,EAAE,cAAc;gBACtC,iBAAiB,EAAE,sBAAsB;gBACzC,aAAa,EAAE,QAAQ;gBACvB,SAAS,EAAE,IAAI;gBACf,OAAO,EAAE,aAAa;gBACtB,eAAe,EAAE,6CAA6C;aAC/D;YACD,MAAM,EAAE;gBACN,aAAa,EAAE,oCAAoC;gBACnD,aAAa,EAAE,QAAQ;gBACvB,SAAS,EAAE,IAAI;aAChB;YACD,eAAe,EAAE;gBACf,QAAQ,EAAE,gBAAgB;gBAC1B,SAAS,EAAE,iBAAiB;gBAC5B,SAAS,EAAE,iBAAiB;gBAC5B,UAAU,EAAE,cAAc;gBAC1B,UAAU,EAAE,aAAa;gBACzB,cAAc,EAAE,kBAAkB;gBAClC,iBAAiB,EAAE,oBAAoB;gBACvC,qBAAqB,EAAE,gBAAgB;gBACvC,YAAY,EAAE,kBAAkB;gBAChC,aAAa,EAAE,uCAAuC;gBACtD,QAAQ,EAAE,6CAA6C;gBACvD,WAAW,EAAE,YAAY;gBACzB,KAAK,EAAE,OAAO;gBACd,QAAQ,EAAE,WAAW;gBACrB,KAAK,EAAE,KAAK;gBACZ,MAAM,EAAE,MAAM;gBACd,QAAQ,EAAE,QAAQ;gBAClB,YAAY,EAAE,QAAQ;gBACtB,aAAa,EAAE,QAAQ;gBACvB,SAAS,EAAE,IAAI;gBACf,aAAa,EAAE,EAAE,MAAM,EAAE,sCAAsC,EAAE,OAAO,EAAE,EAAE,EAAE;gBAC9E,cAAc,EAAE,mBAAmB;gBACnC,aAAa,EAAE,iBAAiB;gBAChC,cAAc,EAAE,kBAAkB;gBAClC,aAAa,EAAE,cAAc;gBAC7B,aAAa,EAAE,oBAAoB;gBACnC,YAAY,EAAE,kBAAkB;gBAChC,OAAO,EAAE,OAAO;gBAChB,KAAK,EAAE,KAAK;gBACZ,WAAW,EAAE,OAAO;gBACpB,oBAAoB,EAAE,qBAAqB;gBAC3C,qBAAqB,EAAE,sBAAsB;gBAC7C,iBAAiB,EAAE,iBAAiB;gBACpC,qBAAqB,EAAE,UAAU;gBACjC,6BAA6B,EAAE,oBAAoB;gBACnD,KAAK,EAAE,aAAa;gBACpB,6BAA6B,EAAE,UAAU;gBACzC,MAAM,EAAE,MAAM;gBACd,cAAc,EAAE,uBAAuB;gBACvC,2BAA2B,EAAE,oCAAoC;aAClE;YACD,mBAAmB,EAAE;gBACnB,iBAAiB,EAAE,mBAAmB;gBACtC,6BAA6B,EAAE,oBAAoB;gBACnD,qBAAqB,EAAE,cAAc;gBACrC,KAAK,EAAE,aAAa;gBACpB,6BAA6B,EAAE,UAAU;gBACzC,oBAAoB,EAAE,qBAAqB;gBAC3C,4BAA4B,EAAE,eAAe;gBAC7C,qBAAqB,EAAE,sBAAsB;gBAC7C,iBAAiB,EAAE,iBAAiB;gBACpC,qBAAqB,EAAE,UAAU;gBACjC,UAAU,EAAE,6BAA6B;gBACzC,oBAAoB,EAAE,+DAA+D;gBACrF,wBAAwB,EAAE,mCAAmC;gBAC7D,UAAU,EAAE,8BAA8B;gBAC1C,SAAS,EAAE,iCAAiC;gBAC5C,SAAS,EAAE,iCAAiC;gBAC5C,WAAW,EAAE,2BAA2B;gBACxC,2BAA2B,EAAE,qCAAqC;gBAClE,sBAAsB,EAAE,mFAAmF;gBAC3G,4BAA4B,EAAE,sCAAsC;gBACpE,SAAS,EAAE,2DAA2D;gBACtE,SAAS,EAAE,iCAAiC;gBAC5C,YAAY,EAAE,0BAA0B;gBACxC,cAAc,EAAE,eAAe;gBAC/B,UAAU,EAAE,UAAU;gBACtB,eAAe,EAAE,gBAAgB;gBACjC,gBAAgB,EAAE,kBAAkB;gBACpC,aAAa,EAAE,2BAA2B;gBAC1C,mBAAmB,EAAE,qBAAqB;gBAC1C,YAAY,EAAE,QAAQ;gBACtB,aAAa,EAAE,QAAQ;gBACvB,SAAS,EAAE,IAAI;gBACf,cAAc,EAAE,iBAAiB;gBACjC,aAAa,EAAE,iBAAiB;gBAChC,QAAQ,EAAE,mBAAmB;gBAC7B,aAAa,EAAE,iBAAiB;gBAChC,WAAW,EAAE,UAAU;gBACvB,aAAa,EAAE,KAAK;gBACpB,cAAc,EAAE,eAAe;gBAC/B,MAAM,EAAE,WAAW;aACpB;YACD,WAAW,EAAE;gBACX,mBAAmB,EAAE,qBAAqB;gBAC1C,MAAM,EAAE,MAAM;gBACd,gBAAgB,EAAE,iCAAiC;gBACnD,QAAQ,EAAE,8BAA8B;gBACxC,YAAY,EAAE,qBAAqB;gBACnC,cAAc,EAAE,oDAAoD;gBACpE,WAAW,EAAE,yGAAyG;gBACtH,UAAU,EAAE,+CAA+C;gBAC3D,aAAa,EAAE,0BAA0B;gBACzC,iBAAiB,EAAE,qDAAqD;gBACxE,kBAAkB,EAAE,oDAAoD;gBACxE,aAAa,EAAE,gCAAgC;gBAC/C,eAAe,EAAE,gBAAgB;gBACjC,kBAAkB,EAAE,0BAA0B;gBAC9C,eAAe,EAAE,gCAAgC;gBACjD,aAAa,EAAE,cAAc;gBAC7B,eAAe,EAAE,4BAA4B;gBAC7C,iBAAiB,EAAE,mBAAmB;gBACtC,aAAa,EAAE,QAAQ;gBACvB,SAAS,EAAE,IAAI;gBACf,KAAK,EAAE,OAAO;aACf;YACD,UAAU,EAAE;gBACV,UAAU,EAAE,eAAe;gBAC3B,UAAU,EAAE,WAAW;gBACvB,MAAM,EAAE,MAAM;gBACd,aAAa,EAAE,kBAAkB;gBACjC,gBAAgB,EAAE,kBAAkB;gBACpC,iBAAiB,EAAE,wEAAwE;gBAC3F,KAAK,EAAE,OAAO;gBACd,QAAQ,EAAE,WAAW;gBACrB,gBAAgB,EAAE,4BAA4B;gBAC9C,aAAa,EAAE,QAAQ;gBACvB,SAAS,EAAE,IAAI;aAChB;YACD,gBAAgB,EAAE;gBAChB,gBAAgB,EAAE,mBAAmB;gBACrC,MAAM,EAAE,KAAK;gBACb,OAAO,EAAE,IAAI;gBACb,KAAK,EAAE,OAAO;gBACd,QAAQ,EAAE,WAAW;gBACrB,YAAY,EAAE,YAAY;gBAC1B,aAAa,EAAE,eAAe;gBAC9B,QAAQ,EAAE,QAAQ;gBAClB,SAAS,EAAE,IAAI;aAChB;YACD,kBAAkB,EAAE;gBAClB,kBAAkB,EAAE,mBAAmB;gBACvC,QAAQ,EAAE,WAAW;gBACrB,aAAa,EAAE,QAAQ;gBACvB,YAAY,EAAE,aAAa;gBAC3B,SAAS,EAAE,IAAI;aAChB;YACD,cAAc,EAAE;gBACd,cAAc,EAAE,iBAAiB;gBACjC,YAAY,EAAE,cAAc;gBAC5B,gBAAgB,EAAE,gEAAgE;gBAClF,mBAAmB,EAAE,oBAAoB;gBACzC,oBAAoB,EAAE,sBAAsB;gBAC5C,QAAQ,EAAE,WAAW;gBACrB,SAAS,EAAE,sBAAsB;gBACjC,qBAAqB,EAAE,uBAAuB;gBAC9C,kBAAkB,EAAE,uBAAuB;gBAC3C,aAAa,EAAE,QAAQ;gBACvB,SAAS,EAAE,IAAI;gBACf,QAAQ,EAAE,gBAAgB;gBAC1B,MAAM,EAAE,aAAa;gBACrB,aAAa,EAAE,eAAe;gBAC9B,eAAe,EAAE,YAAY;gBAC7B,KAAK,EAAE,aAAa;gBACpB,MAAM,EAAE,eAAe;gBACvB,YAAY,EAAE,eAAe;gBAC7B,MAAM,EAAE,MAAM;gBACd,KAAK,EAAE,MAAM;gBACb,OAAO,EAAE,iBAAiB;gBAC1B,UAAU,EAAE,UAAU;gBACtB,UAAU,EAAE,UAAU;gBACtB,YAAY,EAAE,YAAY;gBAC1B,QAAQ,EAAE,mBAAmB;gBAC7B,YAAY,EAAE,aAAa;gBAC3B,aAAa,EAAE,aAAa;gBAC5B,gBAAgB,EAAE,oBAAoB;gBACtC,gBAAgB,EAAE,iBAAiB;gBACnC,eAAe,EAAE,gBAAgB;gBACjC,WAAW,EAAE,iBAAiB;gBAC9B,kBAAkB,EAAE,YAAY;gBAChC,wBAAwB,EAAE,yCAAyC;gBACnE,kBAAkB,EAAE,2BAA2B;gBAC/C,WAAW,EAAE,UAAU;gBACvB,YAAY,EAAE,aAAa;gBAC3B,YAAY,EAAE,aAAa;gBAC3B,QAAQ,EAAE,SAAS;gBACnB,UAAU,EAAE,UAAU;gBACtB,QAAQ,EAAE,QAAQ;gBAClB,WAAW,EAAE,YAAY;gBACzB,UAAU,EAAE,UAAU;gBACtB,UAAU,EAAE,WAAW;gBACvB,UAAU,EAAE,UAAU;gBACtB,UAAU,EAAE,6EAA6E;gBACzF,aAAa,EAAE,+BAA+B;gBAC9C,UAAU,EAAE,8BAA8B;gBAC1C,WAAW,EAAE,SAAS;gBACtB,aAAa,EAAE,UAAU;gBACzB,WAAW,EAAE,QAAQ;gBACrB,eAAe,EAAE,OAAO;gBACxB,aAAa,EAAE,UAAU;gBACzB,aAAa,EAAE,WAAW;gBAC1B,aAAa,EAAE,UAAU;gBACzB,KAAK,EAAE,KAAK;gBACZ,QAAQ,EAAE,QAAQ;gBAClB,OAAO,EAAE,OAAO;gBAChB,SAAS,EAAE,aAAa;gBACxB,WAAW,EAAE,YAAY;gBACzB,QAAQ,EAAE,eAAe;gBACzB,cAAc,EAAE,eAAe;gBAC/B,YAAY,EAAE,aAAa;gBAC3B,iBAAiB,EAAE,wBAAwB;gBAC3C,eAAe,EAAE,sBAAsB;gBACvC,aAAa,EAAE,8BAA8B;gBAC7C,KAAK,EAAE,OAAO;aACf;YACD,iBAAiB,EAAE;gBACjB,iBAAiB,EAAE,mBAAmB;gBACtC,MAAM,EAAE,SAAS;gBACjB,MAAM,EAAE,UAAU;gBAClB,OAAO,EAAE,OAAO;gBAChB,WAAW,EAAE,WAAW;gBACxB,MAAM,EAAE,aAAa;gBACrB,eAAe,EAAE,oBAAoB;gBACrC,aAAa,EAAE,4BAA4B;gBAC3C,YAAY,EAAE,6CAA6C;gBAC3D,aAAa,EAAE,4BAA4B;gBAC3C,aAAa,EAAE,8BAA8B;gBAC7C,eAAe,EAAE,mCAAmC;gBACpD,YAAY,EAAE,+BAA+B;gBAC7C,KAAK,EAAE,OAAO;gBACd,QAAQ,EAAE,WAAW;gBACrB,KAAK,EAAE,KAAK;gBACZ,QAAQ,EAAE,QAAQ;gBAClB,aAAa,EAAE,QAAQ;gBACvB,SAAS,EAAE,IAAI;aAChB;YACD,iBAAiB,EAAE;gBACjB,UAAU,EAAE,kBAAkB;gBAC9B,MAAM,EAAE,MAAM;gBACd,MAAM,EAAE,MAAM;gBACd,MAAM,EAAE,MAAM;gBACd,YAAY,EAAE,YAAY;gBAC1B,QAAQ,EAAE,UAAU;gBACpB,aAAa,EAAE,8BAA8B;gBAC7C,QAAQ,EAAE,mCAAmC;gBAC7C,YAAY,EAAE,eAAe;gBAC7B,aAAa,EAAE,QAAQ;gBACvB,SAAS,EAAE,QAAQ;aACpB;YACD,wBAAwB,EAAE;gBACxB,MAAM,EAAE,MAAM;gBACd,MAAM,EAAE,MAAM;gBACd,UAAU,EAAE,UAAU;gBACtB,KAAK,EAAE,KAAK;gBACZ,IAAI,EAAE,IAAI;gBACV,OAAO,EAAE,iBAAiB;gBAC1B,mBAAmB,EAAE,2BAA2B;gBAChD,oBAAoB,EAAE,qBAAqB;gBAC3C,cAAc,EAAE,mCAAmC;gBACnD,eAAe,EAAE,8BAA8B;gBAC/C,MAAM,EAAE,WAAW;gBACnB,cAAc,EAAE,eAAe;gBAC/B,WAAW,EAAE,gBAAgB;gBAC7B,eAAe,EAAE,gBAAgB;gBACjC,aAAa,EAAE,QAAQ;gBACvB,SAAS,EAAE,IAAI;aAChB;YACD,iBAAiB,EAAE;gBACjB,iBAAiB,EAAE,kBAAkB;gBACrC,KAAK,EAAE,QAAQ;gBACf,KAAK,EAAE,KAAK;gBACZ,KAAK,EAAE,aAAa;gBACpB,MAAM,EAAE,MAAM;gBACd,MAAM,EAAE,MAAM;gBACd,cAAc,EAAE,eAAe;gBAC/B,OAAO,EAAE,SAAS;gBAClB,KAAK,EAAE,KAAK;gBACZ,IAAI,EAAE,IAAI;gBACV,WAAW,EAAE,MAAM;gBACnB,WAAW,EAAE,MAAM;gBACnB,OAAO,EAAE,iBAAiB;gBAC1B,YAAY,EAAE,uBAAuB;gBACrC,eAAe,EAAE,yCAAyC;gBAC1D,aAAa,EAAE,gCAAgC;gBAC/C,KAAK,EAAE,OAAO;gBACd,QAAQ,EAAE,WAAW;gBACrB,KAAK,EAAE,KAAK;gBACZ,QAAQ,EAAE,QAAQ;gBAClB,eAAe,EAAE,gBAAgB;gBACjC,aAAa,EAAE,QAAQ;gBACvB,SAAS,EAAE,IAAI;aAChB;YACD,gBAAgB,EAAE;gBAChB,OAAO,EAAE,oBAAoB;gBAC7B,OAAO,EAAE,qBAAqB;gBAC9B,IAAI,EAAE,SAAS;gBACf,gBAAgB,EAAE,0BAA0B;gBAC5C,KAAK,EAAE,OAAO;gBACd,QAAQ,EAAE,WAAW;gBACrB,WAAW,EAAE,YAAY;gBACzB,uBAAuB,EAAE,sBAAsB;gBAC/C,gBAAgB,EAAE,+BAA+B;gBACjD,yBAAyB,EAAE,WAAW;gBACtC,8BAA8B,EAAE,qBAAqB;gBACrD,gBAAgB,EAAE,+BAA+B;gBACjD,aAAa,EAAE,QAAQ;gBACvB,SAAS,EAAE,IAAI;aAChB;YACD,UAAU,EAAE;gBACV,YAAY,EAAE,aAAa;gBAC3B,cAAc,EAAE,eAAe;gBAC/B,eAAe,EAAE,gBAAgB;gBACjC,UAAU,EAAE,UAAU;gBACtB,QAAQ,EAAE,QAAQ;gBAClB,cAAc,EAAE,eAAe;gBAC/B,MAAM,EAAE,MAAM;aACf;YACD,YAAY,EAAE;gBACZ,eAAe,EAAE,qBAAqB;gBACtC,WAAW,EAAE,oBAAoB;gBACjC,SAAS,EAAE,oBAAoB;gBAC/B,eAAe,EAAE,wBAAwB;gBACzC,cAAc,EAAE,oCAAoC;gBACpD,qBAAqB,EAAE,qBAAqB;gBAC5C,SAAS,EAAE,mCAAmC;gBAC9C,cAAc,EAAE,mBAAmB;gBACnC,SAAS,EAAE,IAAI;gBACf,aAAa,EAAE,QAAQ;gBACvB,kBAAkB,EAAE,8GAA8G;gBAClI,KAAK,EAAE,OAAO;gBACd,QAAQ,EAAE,WAAW;gBACrB,uBAAuB,EAAE,UAAU;gBACnC,UAAU,EAAE,eAAe;gBAC3B,YAAY,EAAE,oBAAoB;gBAClC,sBAAsB,EAAE,QAAQ;gBAChC,qBAAqB,EAAE,cAAc;gBACrC,WAAW,EAAE,aAAa;gBAC1B,WAAW,EAAE,aAAa;gBAC1B,mBAAmB,EAAE,kDAAkD;gBACvE,cAAc,EAAE,iBAAiB;gBACjC,eAAe,EAAE,oBAAoB;aACtC;YACD,cAAc,EAAE;gBACd,QAAQ,EAAE,8DAA8D;gBACxE,cAAc,EAAE,gBAAgB;gBAChC,iBAAiB,EAAE,YAAY;gBAC/B,qBAAqB,EAAE,kBAAkB;gBACzC,OAAO,EAAE,OAAO;gBAChB,MAAM,EAAE,MAAM;gBACd,IAAI,EAAE,YAAY;gBAClB,UAAU,EAAE,uBAAuB;gBACnC,UAAU,EAAE,cAAc;gBAC1B,mBAAmB,EAAE,wBAAwB;gBAC7C,SAAS,EAAE,whBAAwhB;gBACniB,iBAAiB,EAAE,kGAAkG;gBACrH,YAAY,EAAE,6GAA6G;gBAC3H,KAAK,EAAE,OAAO;gBACd,QAAQ,EAAE,WAAW;gBACrB,aAAa,EAAE,cAAc;gBAC7B,WAAW,EAAE,oBAAoB;gBACjC,eAAe,EAAE,wDAAwD;gBACzE,OAAO,EAAE,eAAe;gBACxB,kBAAkB,EAAE,mDAAmD;gBACvE,uBAAuB,EAAE,iBAAiB;gBAC1C,UAAU,EAAE,gFAAgF;gBAC5F,UAAU,EAAE,uSAAuS;gBACnT,UAAU,EAAE,mKAAmK;gBAC/K,mBAAmB,EAAE,uCAAuC;gBAC5D,aAAa,EAAE,QAAQ;gBACvB,SAAS,EAAE,IAAI;aAChB;YACD,gBAAgB,EAAE;gBAChB,KAAK,EAAE,KAAK;gBACZ,QAAQ,EAAE,QAAQ;gBAClB,OAAO,EAAE,OAAO;gBAChB,aAAa,EAAE,kBAAkB;gBACjC,iBAAiB,EAAE,mBAAmB;gBACtC,gBAAgB,EAAE,qBAAqB;gBACvC,QAAQ,EAAE,QAAQ;gBAClB,iBAAiB,EAAE,kBAAkB;gBACrC,UAAU,EAAE,iBAAiB;gBAC7B,aAAa,EAAE,0CAA0C;gBACzD,WAAW,EAAE,0DAA0D;gBACvE,aAAa,EAAE,QAAQ;gBACvB,SAAS,EAAE,IAAI;aAChB;YACD,aAAa,EAAE;gBACb,iBAAiB,EAAE,oBAAoB;gBACvC,UAAU,EAAE,UAAU;gBACtB,KAAK,EAAE,KAAK;gBACZ,IAAI,EAAE,IAAI;gBACV,WAAW,EAAE,WAAW;gBACxB,KAAK,EAAE,KAAK;gBACZ,QAAQ,EAAE,QAAQ;gBAClB,MAAM,EAAE,MAAM;gBACd,WAAW,EAAE,gCAAgC;gBAC7C,aAAa,EAAE,iBAAiB;gBAChC,KAAK,EAAE,OAAO;gBACd,QAAQ,EAAE,WAAW;gBACrB,UAAU,EAAE,WAAW;gBACvB,QAAQ,EAAE,SAAS;gBACnB,UAAU,EAAE,WAAW;gBACvB,aAAa,EAAE,QAAQ;gBACvB,SAAS,EAAE,IAAI;aAChB;YACD,iBAAiB,EAAE;gBACjB,aAAa,EAAE,cAAc;gBAC7B,iBAAiB,EAAE,mBAAmB;gBACtC,QAAQ,EAAE,QAAQ;gBAClB,aAAa,EAAE,cAAc;gBAC7B,mBAAmB,EAAE,oBAAoB;gBACzC,iBAAiB,EAAE,aAAa;gBAChC,KAAK,EAAE,OAAO;gBACd,UAAU,EAAE,iBAAiB;gBAC7B,aAAa,EAAE,qCAAqC;gBACpD,WAAW,EAAE,sEAAsE;gBACnF,aAAa,EAAE,QAAQ;gBACvB,SAAS,EAAE,IAAI;aAChB;YACD,eAAe,EAAE;gBACf,iBAAiB,EAAE,kBAAkB;gBACrC,SAAS,EAAE,SAAS;gBACpB,UAAU,EAAE,UAAU;gBACtB,OAAO,EAAE,OAAO;gBAChB,OAAO,EAAE,QAAQ;gBACjB,MAAM,EAAE,MAAM;gBACd,gBAAgB,EAAE,oBAAoB;gBACtC,WAAW,EAAE,SAAS;gBACtB,IAAI,EAAE,IAAI;gBACV,KAAK,EAAE,KAAK;gBACZ,kBAAkB,EAAE,kBAAkB;gBACtC,qBAAqB,EAAE,mBAAmB;gBAC1C,eAAe,EAAE,mBAAmB;gBACpC,oBAAoB,EAAE,2BAA2B;gBACjD,gBAAgB,EAAE,iBAAiB;gBACnC,QAAQ,EAAE,oBAAoB;gBAC9B,QAAQ,EAAE,qBAAqB;gBAC/B,IAAI,EAAE,SAAS;gBACf,uBAAuB,EAAE,kEAAkE;gBAC3F,WAAW,EAAE,gCAAgC;gBAC7C,KAAK,EAAE,OAAO;gBACd,QAAQ,EAAE,WAAW;gBACrB,KAAK,EAAE,KAAK;gBACZ,QAAQ,EAAE,QAAQ;gBAClB,aAAa,EAAE,QAAQ;gBACvB,SAAS,EAAE,IAAI;gBACf,gBAAgB,EAAE,iBAAiB;gBACnC,YAAY,EAAE,QAAQ;aACvB;YACD,eAAe,EAAE;gBACf,QAAQ,EAAE,aAAa;gBACvB,MAAM,EAAE,MAAM;gBACd,WAAW,EAAE,WAAW;gBACxB,OAAO,EAAE,cAAc;gBACvB,aAAa,EAAE,sBAAsB;gBACrC,eAAe,EAAE,oBAAoB;gBACrC,aAAa,EAAE,kCAAkC;gBACjD,aAAa,EAAE,2BAA2B;gBAC1C,KAAK,EAAE,OAAO;gBACd,QAAQ,EAAE,WAAW;gBACrB,QAAQ,EAAE,QAAQ;gBAClB,QAAQ,EAAE,QAAQ;gBAClB,WAAW,EAAE,eAAe;gBAC5B,MAAM,EAAE,MAAM;gBACd,KAAK,EAAE,KAAK;gBACZ,QAAQ,EAAE,QAAQ;gBAClB,aAAa,EAAE,QAAQ;gBACvB,SAAS,EAAE,IAAI;aAChB;YACD,cAAc,EAAE;gBACd,cAAc,EAAE,kBAAkB;gBAClC,UAAU,EAAE,UAAU;gBACtB,KAAK,EAAE,OAAO;gBACd,QAAQ,EAAE,WAAW;gBACrB,cAAc,EAAE,oBAAoB;gBACpC,aAAa,EAAE,QAAQ;gBACvB,WAAW,EAAE,iBAAiB;gBAC9B,aAAa,EAAE,QAAQ;gBACvB,SAAS,EAAE,IAAI;aAChB;YACD,cAAc,EAAE;gBACd,MAAM,EAAE,MAAM;gBACd,UAAU,EAAE,4BAA4B;gBACxC,YAAY,EAAE,QAAQ;gBACtB,aAAa,EAAE,QAAQ;gBACvB,SAAS,EAAE,IAAI;aAChB;YACD,mBAAmB,EAAE;gBACnB,WAAW,EAAE,WAAW;gBACxB,QAAQ,EAAE,kBAAkB;gBAC5B,wBAAwB,EAAE,uCAAuC;gBACjE,cAAc,EAAE,+CAA+C;gBAC/D,QAAQ,EAAE,QAAQ;gBAClB,aAAa,EAAE,gBAAgB;gBAC/B,MAAM,EAAE,MAAM;gBACd,WAAW,EAAE,QAAQ;gBACrB,eAAe,EAAE,gBAAgB;gBACjC,SAAS,EAAE,gBAAgB;gBAC3B,YAAY,EAAE,cAAc;gBAC5B,YAAY,EAAE,kBAAkB;gBAChC,mBAAmB,EAAE,wBAAwB;gBAC7C,KAAK,EAAE,KAAK;gBACZ,IAAI,EAAE,IAAI;gBACV,SAAS,EAAE,SAAS;gBACpB,MAAM,EAAE,MAAM;gBACd,MAAM,EAAE,MAAM;gBACd,OAAO,EAAE,iBAAiB;gBAC1B,eAAe,EAAE,gBAAgB;gBACjC,eAAe,EAAE,0CAA0C;gBAC3D,cAAc,EAAE,wBAAwB;gBACxC,cAAc,EAAE,eAAe;gBAC/B,SAAS,EAAE,wCAAwC;gBACnD,WAAW,EAAE,mBAAmB;gBAChC,sBAAsB,EAAE,2CAA2C;gBACnE,OAAO,EAAE,YAAY;gBACrB,UAAU,EAAE,UAAU;gBACtB,KAAK,EAAE,OAAO;gBACd,QAAQ,EAAE,WAAW;gBACrB,yBAAyB,EAAE,iBAAiB;gBAC5C,2BAA2B,EAAE,mBAAmB;gBAChD,yBAAyB,EAAE,iBAAiB;gBAC5C,2BAA2B,EAAE,mBAAmB;gBAChD,yBAAyB,EAAE,iBAAiB;gBAC5C,0BAA0B,EAAE,kBAAkB;gBAC9C,6BAA6B,EAAE,qBAAqB;gBACpD,0BAA0B,EAAE,qBAAqB;gBACjD,0BAA0B,EAAE,kBAAkB;gBAC9C,kCAAkC,EAAE,+BAA+B;gBACnE,kCAAkC,EAAE,6BAA6B;gBACjE,8BAA8B,EAAE,sBAAsB;gBACtD,0BAA0B,EAAE,wBAAwB;gBACpD,yBAAyB,EAAE,uBAAuB;gBAClD,UAAU,EAAE,eAAe;gBAC3B,kBAAkB,EAAE,kBAAkB;gBACtC,oBAAoB,EAAE,oBAAoB;gBAC1C,kBAAkB,EAAE,kBAAkB;gBACtC,kBAAkB,EAAE,mBAAmB;gBACvC,oBAAoB,EAAE,qBAAqB;gBAC3C,oBAAoB,EAAE,qBAAqB;gBAC3C,kBAAkB,EAAE,mBAAmB;gBACvC,kBAAkB,EAAE,mBAAmB;gBACvC,oBAAoB,EAAE,qBAAqB;gBAC3C,kBAAkB,EAAE,mBAAmB;gBACvC,oBAAoB,EAAE,qBAAqB;gBAC3C,qBAAqB,EAAE,iBAAiB;gBACxC,kBAAkB,EAAE,oEAAoE;gBACxF,MAAM,EAAE,OAAO;gBACf,eAAe,EAAE,uGAAuG;gBACxH,KAAK,EAAE,KAAK;gBACZ,QAAQ,EAAE,SAAS;gBACnB,UAAU,EAAE,WAAW;gBACvB,aAAa,EAAE,QAAQ;gBACvB,SAAS,EAAE,IAAI;aAChB;SACF;KACF;IACD,QAAQ,EAAE;QACR,UAAU,EAAE;YACV,iBAAiB,EAAE,sBAAsB;YACzC,WAAW,EAAE,QAAQ;YACrB,cAAc,EAAE,uBAAuB;YACvC,YAAY,EAAE,8BAA8B;YAC5C,eAAe,EAAE,mBAAmB;YACpC,eAAe,EAAE,oBAAoB;YACrC,kBAAkB,EAAE,0BAA0B;YAC9C,YAAY,EAAE,oBAAoB;YAClC,eAAe,EAAE,8BAA8B;YAC/C,wBAAwB,EAAE,oBAAoB;YAC9C,2BAA2B,EAAE,8BAA8B;YAC3D,qBAAqB,EAAE,oBAAoB;YAC3C,wBAAwB,EAAE,8BAA8B;YACxD,sBAAsB,EAAE,oBAAoB;YAC5C,yBAAyB,EAAE,8BAA8B;YACzD,oBAAoB,EAAE,oBAAoB;YAC1C,uBAAuB,EAAE,8BAA8B;YACvD,uBAAuB,EAAE,oBAAoB;YAC7C,0BAA0B,EAAE,gCAAgC;YAC5D,sBAAsB,EAAE,cAAc;YACtC,yBAAyB,EAAE,mCAAmC;YAC9D,wBAAwB,EAAE,WAAW;YACrC,aAAa,EAAE,kBAAkB;YACjC,aAAa,EAAE,uBAAuB;YACtC,UAAU,EAAE,KAAK;YACjB,iBAAiB,EAAE,8BAA8B;YACjD,oBAAoB,EAAE,iCAAiC;YACvD,mBAAmB,EAAE,gCAAgC;YACrD,gBAAgB,EAAE,6BAA6B;YAC/C,qBAAqB,EAAE,kCAAkC;YACzD,kBAAkB,EAAE,+BAA+B;YACnD,0BAA0B,EAAE,uCAAuC;YACnE,gBAAgB,EAAE,6BAA6B;YAC/C,0BAA0B,EAAE,2CAA2C;YACvE,mBAAmB,EAAE,gCAAgC;YACrD,2BAA2B,EAAE,wCAAwC;YACrE,YAAY,EAAE,yBAAyB;YACvC,MAAM,EAAE,MAAM;YACd,mBAAmB,EAAE,kBAAkB;YACvC,wBAAwB,EAAE,sBAAsB;SACjD;QACD,eAAe,EAAE;YACf,KAAK,EAAE,IAAI;YACX,YAAY,EAAE,UAAU;YACxB,cAAc,EAAE,QAAQ;YACxB,UAAU,EAAE,kBAAkB;YAC9B,UAAU,EAAE,kBAAkB;YAC9B,aAAa,EAAE,YAAY;YAC3B,UAAU,EAAE,MAAM;YAClB,aAAa,EAAE,MAAM;YACrB,YAAY,EAAE,aAAa;YAC3B,gBAAgB,EAAE,MAAM;YACxB,aAAa,EAAE,OAAO;YACtB,gBAAgB,EAAE,gCAAgC;YAClD,oBAAoB,EAAE,gBAAgB;YACtC,YAAY,EAAE,QAAQ;YACtB,YAAY,EAAE,iBAAiB;YAC/B,WAAW,EAAE,MAAM;YACnB,QAAQ,EAAE,YAAY;YACtB,QAAQ,EAAE;gBACR,UAAU,EAAE,IAAI;gBAChB,aAAa,EAAE,IAAI;gBACnB,MAAM,EAAE,QAAQ;gBAChB,QAAQ,EAAE,KAAK;gBACf,YAAY,EAAE,MAAM;gBACpB,eAAe,EAAE,MAAM;gBACvB,WAAW,EAAE,IAAI;aAClB;SACF;QACD,UAAU,EAAE;YACV,YAAY,EAAE;gBACZ,eAAe,EAAE,MAAM;gBACvB,UAAU,EAAE,IAAI;aACjB;YACD,eAAe,EAAE;gBACf,WAAW,EAAE,MAAM;gBACnB,MAAM,EAAE,IAAI;gBACZ,cAAc,EAAE,IAAI;gBACpB,KAAK,EAAE,IAAI;gBACX,WAAW,EAAE,MAAM;gBACnB,WAAW,EAAE,MAAM;gBACnB,SAAS,EAAE,MAAM;gBACjB,SAAS,EAAE,MAAM;gBACjB,SAAS,EAAE,MAAM;gBACjB,aAAa,EAAE,MAAM;gBACrB,SAAS,EAAE,MAAM;gBACjB,UAAU,EAAE,MAAM;gBAClB,OAAO,EAAE,MAAM;gBACf,aAAa,EAAE,MAAM;gBACrB,aAAa,EAAE,MAAM;gBACrB,kBAAkB,EAAE,MAAM;gBAC1B,eAAe,EAAE,MAAM;gBACvB,iBAAiB,EAAE,OAAO;gBAC1B,gBAAgB,EAAE,MAAM;gBACxB,gBAAgB,EAAE,QAAQ;gBAC1B,0BAA0B,EAAE,QAAQ;gBACpC,iBAAiB,EAAE,MAAM;gBACzB,kBAAkB,EAAE,MAAM;gBAC1B,eAAe,EAAE,MAAM;gBACvB,gBAAgB,EAAE,MAAM;gBACxB,YAAY,EAAE,mDAAmD;gBACjE,cAAc,EAAE,4DAA4D;gBAC5E,gBAAgB,EAAE,qDAAqD;aACxE;YACD,oBAAoB,EAAE;gBACpB,WAAW,EAAE,MAAM;gBACnB,OAAO,EAAE,MAAM;gBACf,MAAM,EAAE,IAAI;gBACZ,cAAc,EAAE,IAAI;gBACpB,IAAI,EAAE,IAAI;gBACV,WAAW,EAAE,MAAM;gBACnB,qBAAqB,EAAE,IAAI;gBAC3B,SAAS,EAAE,OAAO;aACnB;YACD,WAAW,EAAE;gBACX,gBAAgB,EAAE,MAAM;aACzB;SACF;QACD,KAAK,EAAE;YACL,iBAAiB,EAAE;gBACjB,KAAK,EAAE,IAAI;gBACX,QAAQ,EAAE,IAAI;gBACd,OAAO,EAAE,IAAI;gBACb,SAAS,EAAE,MAAM;gBACjB,UAAU,EAAE,MAAM;gBAClB,YAAY,EAAE,MAAM;gBACpB,MAAM,EAAE,GAAG;gBACX,OAAO,EAAE,GAAG;gBACZ,QAAQ,EAAE,MAAM;gBAChB,YAAY,EAAE,QAAQ;gBACtB,WAAW,EAAE,QAAQ;gBACrB,sBAAsB,EAAE,SAAS;gBACjC,iBAAiB,EAAE,OAAO;gBAC1B,iBAAiB,EAAE,OAAO;gBAC1B,qBAAqB,EAAE,MAAM;gBAC7B,SAAS,EAAE,MAAM;gBACjB,YAAY,EAAE,QAAQ;gBACtB,kBAAkB,EAAE,SAAS;gBAC7B,qBAAqB,EAAE,SAAS;gBAChC,sBAAsB,EAAE,SAAS;gBACjC,wBAAwB,EAAE,SAAS;gBACnC,aAAa,EAAE,QAAQ;gBACvB,iBAAiB,EAAE,WAAW;gBAC9B,2BAA2B,EAAE,YAAY;gBACzC,8BAA8B,EAAE,YAAY;gBAC5C,eAAe,EAAE,QAAQ;gBACzB,wBAAwB,EAAE,UAAU;gBACpC,qBAAqB,EAAE,aAAa;gBACpC,aAAa,EAAE,QAAQ;gBACvB,cAAc,EAAE,QAAQ;gBACxB,WAAW,EAAE,QAAQ;gBACrB,gBAAgB,EAAE,MAAM;gBACxB,iBAAiB,EAAE,KAAK;gBACxB,gBAAgB,EAAE,MAAM;gBACxB,gBAAgB,EAAE,MAAM;gBACxB,QAAQ,EAAE,IAAI;gBACd,kBAAkB,EAAE,MAAM;gBAC1B,aAAa,EAAE,KAAK;gBACpB,KAAK,EAAE,SAAS;gBAChB,KAAK,EAAE,KAAK;gBACZ,KAAK,EAAE,KAAK;gBACZ,oBAAoB,EAAE,qBAAqB;gBAC3C,qBAAqB,EAAE,2BAA2B;gBAClD,MAAM,EAAE,KAAK;gBACb,QAAQ,EAAE,KAAK;gBACf,MAAM,EAAE,MAAM;gBACd,eAAe,EAAE,OAAO;gBACxB,YAAY,EAAE,kBAAkB;gBAChC,QAAQ,EAAE,wBAAwB;gBAClC,aAAa,EAAE,MAAM;gBACrB,8BAA8B,EAAE,+BAA+B;gBAC/D,gBAAgB,EAAE,OAAO;gBACzB,MAAM,EAAE,MAAM;gBACd,MAAM,EAAE,MAAM;gBACd,MAAM,EAAE,MAAM;gBACd,UAAU,EAAE,aAAa;aAC1B;SACF;QACD,kCAAkC,EAAE;YAClC,qBAAqB,EAAE,OAAO;YAC9B,KAAK,EAAE,OAAO;YACd,QAAQ,EAAE,OAAO;YACjB,UAAU,EAAE,MAAM;YAClB,cAAc,EAAE,MAAM;YACtB,iBAAiB,EAAE,MAAM;YACzB,0BAA0B,EAAE,MAAM;YAClC,YAAY,EAAE,yBAAyB;YACvC,YAAY,EAAE,0CAA0C;YACxD,aAAa,EAAE,yBAAyB;YACxC,aAAa,EAAE,0CAA0C;YACzD,aAAa,EAAE,sBAAsB;YACrC,mBAAmB,EAAE,OAAO;YAC5B,8BAA8B,EAAE;gBAC9B,SAAS,EAAE,IAAI;gBACf,UAAU,EAAE,IAAI;gBAChB,OAAO,EAAE,IAAI;aACd;SACF;QACD,WAAW,EAAE;YACX,QAAQ,EAAE;gBACR,WAAW,EAAE,OAAO;gBACpB,WAAW,EAAE,OAAO;gBACpB,SAAS,EAAE,OAAO;gBAClB,KAAK,EAAE,OAAO;gBACd,QAAQ,EAAE,OAAO;gBACjB,gBAAgB,EAAE,OAAO;gBACzB,aAAa,EAAE,MAAM;gBACrB,QAAQ,EAAE,MAAM;gBAChB,SAAS,EAAE,MAAM;gBACjB,aAAa,EAAE,IAAI;gBACnB,SAAS,EAAE,IAAI;aAChB;YACD,UAAU,EAAE;gBACV,cAAc,EAAE,MAAM;gBACtB,oBAAoB,EAAE,QAAQ;gBAC9B,QAAQ,EAAE,IAAI;gBACd,SAAS,EAAE,IAAI;gBACf,WAAW,EAAE,IAAI;gBACjB,oBAAoB,EAAE,QAAQ;gBAC9B,KAAK,EAAE,OAAO;gBACd,QAAQ,EAAE,OAAO;gBACjB,WAAW,EAAE,MAAM;gBACnB,cAAc,EAAE,MAAM;gBACtB,aAAa,EAAE,KAAK;aACrB;YACD,iBAAiB,EAAE;gBACjB,UAAU,EAAE,IAAI;gBAChB,YAAY,EAAE,KAAK;gBACnB,WAAW,EAAE,IAAI;gBACjB,kBAAkB,EAAE,MAAM;gBAC1B,oBAAoB,EAAE,MAAM;gBAC5B,WAAW,EAAE,MAAM;gBACnB,WAAW,EAAE,MAAM;gBACnB,UAAU,EAAE,IAAI;gBAChB,SAAS,EAAE,MAAM;gBACjB,WAAW,EAAE,KAAK;gBAClB,eAAe,EAAE,MAAM;gBACvB,WAAW,EAAE,KAAK;gBAClB,kBAAkB,EAAE,MAAM;gBAC1B,gBAAgB,EAAE,SAAS;gBAC3B,kBAAkB,EAAE,WAAW;gBAC/B,KAAK,EAAE,OAAO;gBACd,QAAQ,EAAE,OAAO;gBACjB,KAAK,EAAE,IAAI;gBACX,QAAQ,EAAE,IAAI;gBACd,cAAc,EAAE,IAAI;gBACpB,aAAa,EAAE,IAAI;gBACnB,SAAS,EAAE,IAAI;gBACf,wBAAwB,EAAE,kBAAkB;gBAC5C,gBAAgB,EAAE,kBAAkB;gBACpC,eAAe,EAAE,KAAK;gBACtB,gBAAgB,EAAE,KAAK;gBACvB,mBAAmB,EAAE,UAAU;gBAC/B,kBAAkB,EAAE,wBAAwB;gBAC5C,sBAAsB,EAAE,UAAU;gBAClC,oBAAoB,EAAE,MAAM;gBAC5B,eAAe,EAAE,MAAM;gBACvB,eAAe,EAAE,MAAM;gBACvB,YAAY,EAAE,IAAI;aACnB;YACD,gBAAgB,EAAE;gBAChB,gBAAgB,EAAE,OAAO;gBACzB,eAAe,EAAE,QAAQ;gBACzB,MAAM,EAAE,GAAG;gBACX,YAAY,EAAE,IAAI;gBAClB,iBAAiB,EAAE,WAAW;gBAC9B,oBAAoB,EAAE,kBAAkB;gBACxC,WAAW,EAAE,aAAa;gBAC1B,kBAAkB,EAAE,WAAW;gBAC/B,kBAAkB,EAAE,WAAW;gBAC/B,sBAAsB,EAAE,eAAe;gBACvC,qBAAqB,EAAE,eAAe;gBACtC,KAAK,EAAE,OAAO;gBACd,QAAQ,EAAE,OAAO;gBACjB,kBAAkB,EAAE,MAAM;gBAC1B,aAAa,EAAE,MAAM;gBACrB,cAAc,EAAE,cAAc;gBAC9B,iBAAiB,EAAE,cAAc;gBACjC,eAAe,EAAE,MAAM;gBACvB,gBAAgB,EAAE,MAAM;gBACxB,gBAAgB,EAAE,MAAM;gBACxB,gBAAgB,EAAE,MAAM;gBACxB,iBAAiB,EAAE,OAAO;gBAC1B,aAAa,EAAE,IAAI;gBACnB,SAAS,EAAE,IAAI;aAChB;YACD,iBAAiB,EAAE;gBACjB,QAAQ,EAAE,MAAM;gBAChB,QAAQ,EAAE,MAAM;gBAChB,IAAI,EAAE,IAAI;gBACV,iBAAiB,EAAE,MAAM;gBACzB,KAAK,EAAE,OAAO;gBACd,QAAQ,EAAE,OAAO;gBACjB,iBAAiB,EAAE,SAAS;gBAC5B,aAAa,EAAE,IAAI;gBACnB,SAAS,EAAE,IAAI;aAChB;YACD,kBAAkB,EAAE;gBAClB,mBAAmB,EAAE,MAAM;gBAC3B,UAAU,EAAE,KAAK;gBACjB,OAAO,EAAE,MAAM;gBACf,KAAK,EAAE,GAAG;gBACV,MAAM,EAAE,GAAG;gBACX,QAAQ,EAAE,GAAG;gBACb,gBAAgB,EAAE,MAAM;gBACxB,YAAY,EAAE,KAAK;gBACnB,eAAe,EAAE,MAAM;gBACvB,4BAA4B,EAAE,MAAM;gBACpC,2BAA2B,EAAE,MAAM;gBACnC,QAAQ,EAAE,IAAI;gBACd,cAAc,EAAE,MAAM;gBACtB,UAAU,EAAE,IAAI;gBAChB,cAAc,EAAE,IAAI;gBACpB,UAAU,EAAE,IAAI;gBAChB,mBAAmB,EAAE,QAAQ;gBAC7B,UAAU,EAAE,IAAI;gBAChB,eAAe,EAAE,YAAY;gBAC7B,cAAc,EAAE,UAAU;gBAC1B,SAAS,EAAE,YAAY;gBACvB,aAAa,EAAE,YAAY;gBAC3B,mBAAmB,EAAE,WAAW;gBAChC,qBAAqB,EAAE,+BAA+B;gBACtD,gBAAgB,EAAE,MAAM;gBACxB,qBAAqB,EAAE,MAAM;gBAC7B,KAAK,EAAE,OAAO;gBACd,QAAQ,EAAE,OAAO;gBACjB,mBAAmB,EAAE,UAAU;gBAC/B,UAAU,EAAE,MAAM;gBAClB,cAAc,EAAE,MAAM;gBACtB,iBAAiB,EAAE,QAAQ;gBAC3B,YAAY,EAAE,MAAM;gBACpB,KAAK,EAAE,IAAI;gBACX,QAAQ,EAAE,IAAI;gBACd,aAAa,EAAE,IAAI;gBACnB,SAAS,EAAE,IAAI;gBACf,qBAAqB,EAAE,SAAS;gBAChC,iBAAiB,EAAE,OAAO;gBAC1B,qBAAqB,EAAE,eAAe;gBACtC,gBAAgB,EAAE,YAAY;gBAC9B,OAAO,EAAE,IAAI;aACd;YACD,sBAAsB,EAAE;gBACtB,iBAAiB,EAAE,OAAO;gBAC1B,qBAAqB,EAAE,SAAS;gBAChC,iBAAiB,EAAE,SAAS;gBAC5B,KAAK,EAAE,GAAG;gBACV,MAAM,EAAE,GAAG;gBACX,QAAQ,EAAE,GAAG;gBACb,mBAAmB,EAAE,cAAc;gBACnC,oBAAoB,EAAE,YAAY;gBAClC,iBAAiB,EAAE,YAAY;gBAC/B,iBAAiB,EAAE,YAAY;gBAC/B,mBAAmB,EAAE,WAAW;gBAChC,iBAAiB,EAAE,kBAAkB;gBACrC,2BAA2B,EAAE,aAAa;gBAC1C,aAAa,EAAE,QAAQ;gBACvB,WAAW,EAAE,QAAQ;gBACrB,UAAU,EAAE,MAAM;gBAClB,SAAS,EAAE,MAAM;gBACjB,SAAS,EAAE,MAAM;gBACjB,cAAc,EAAE,KAAK;gBACrB,UAAU,EAAE,MAAM;gBAClB,aAAa,EAAE,IAAI;gBACnB,SAAS,EAAE,IAAI;gBACf,kBAAkB,EAAE,cAAc;gBAClC,oBAAoB,EAAE,YAAY;gBAClC,qBAAqB,EAAE,QAAQ;gBAC/B,wBAAwB,EAAE,QAAQ;gBAClC,wBAAwB,EAAE,QAAQ;aACnC;YACD,oBAAoB,EAAE;gBACpB,oBAAoB,EAAE,+EAA+E;gBACrG,MAAM,EAAE,IAAI;gBACZ,OAAO,EAAE,GAAG;gBACZ,gBAAgB,EAAE,OAAO;gBACzB,oBAAoB,EAAE,QAAQ;gBAC9B,OAAO,EAAE,6DAA6D;gBACtE,OAAO,EAAE,wCAAwC;gBACjD,OAAO,EAAE,iCAAiC;gBAC1C,mBAAmB,EAAE,QAAQ;gBAC7B,oBAAoB,EAAE,QAAQ;gBAC9B,gBAAgB,EAAE,IAAI;gBACtB,mBAAmB,EAAE,IAAI;aAC1B;YACD,UAAU,EAAE;gBACV,kBAAkB,EAAE,MAAM;gBAC1B,UAAU,EAAE,KAAK;gBACjB,cAAc,EAAE,QAAQ;gBACxB,kBAAkB,EAAE,OAAO;gBAC3B,OAAO,EAAE,IAAI;gBACb,MAAM,EAAE,IAAI;gBACZ,gBAAgB,EAAE,MAAM;gBACxB,iBAAiB,EAAE,KAAK;gBACxB,eAAe,EAAE,MAAM;gBACvB,gBAAgB,EAAE,KAAK;gBACvB,cAAc,EAAE,QAAQ;gBACxB,KAAK,EAAE,GAAG;gBACV,IAAI,EAAE,GAAG;gBACT,UAAU,EAAE,yBAAyB;gBACrC,cAAc,EAAE,aAAa;gBAC7B,mBAAmB,EAAE,YAAY;gBACjC,mBAAmB,EAAE,UAAU;gBAC/B,eAAe,EAAE,qBAAqB;gBACtC,KAAK,EAAE,OAAO;gBACd,UAAU,EAAE,MAAM;gBAClB,iBAAiB,EAAE,MAAM;gBACzB,aAAa,EAAE,IAAI;gBACnB,WAAW,EAAE,IAAI;gBACjB,SAAS,EAAE,IAAI;aAChB;YACD,YAAY,EAAE;gBACZ,QAAQ,EAAE,IAAI;gBACd,SAAS,EAAE,IAAI;gBACf,MAAM,EAAE,IAAI;gBACZ,MAAM,EAAE,IAAI;gBACZ,cAAc,EAAE,UAAU;gBAC1B,sBAAsB,EAAE,UAAU;gBAClC,cAAc,EAAE,IAAI;gBACpB,iBAAiB,EAAE,MAAM;gBACzB,aAAa,EAAE,MAAM;gBACrB,iBAAiB,EAAE,QAAQ;gBAC3B,gBAAgB,EAAE,MAAM;gBACxB,aAAa,EAAE,MAAM;gBACrB,cAAc,EAAE,IAAI;gBACpB,UAAU,EAAE,IAAI;aACjB;YACD,SAAS,EAAE;gBACT,SAAS,EAAE,MAAM;gBACjB,QAAQ,EAAE,MAAM;gBAChB,eAAe,EAAE,OAAO;gBACxB,qBAAqB,EAAE,OAAO;gBAC9B,UAAU,EAAE,MAAM;gBAClB,aAAa,EAAE,MAAM;gBACrB,aAAa,EAAE,MAAM;gBACrB,YAAY,EAAE,IAAI;gBAClB,cAAc,EAAE,IAAI;gBACpB,UAAU,EAAE,IAAI;aACjB;YACD,kBAAkB,EAAE;gBAClB,QAAQ,EAAE,IAAI;gBACd,SAAS,EAAE,IAAI;gBACf,SAAS,EAAE,IAAI;gBACf,SAAS,EAAE,IAAI;gBACf,UAAU,EAAE,IAAI;gBAChB,YAAY,EAAE,KAAK;gBACnB,WAAW,EAAE,IAAI;gBACjB,MAAM,EAAE,MAAM;gBACd,UAAU,EAAE,IAAI;gBAChB,eAAe,EAAE,MAAM;gBACvB,WAAW,EAAE,MAAM;gBACnB,aAAa,EAAE,IAAI;gBACnB,KAAK,EAAE,OAAO;gBACd,WAAW,EAAE,KAAK;gBAClB,kBAAkB,EAAE,MAAM;gBAC1B,aAAa,EAAE,WAAW;gBAC1B,qBAAqB,EAAE,YAAY;gBACnC,mBAAmB,EAAE,YAAY;gBACjC,2BAA2B,EAAE,6BAA6B;gBAC1D,aAAa,EAAE,aAAa;gBAC5B,gBAAgB,EAAE,cAAc;gBAChC,eAAe,EAAE,WAAW;gBAC5B,KAAK,EAAE,OAAO;gBACd,QAAQ,EAAE,OAAO;gBACjB,KAAK,EAAE,IAAI;gBACX,QAAQ,EAAE,IAAI;gBACd,QAAQ,EAAE,IAAI;gBACd,aAAa,EAAE,IAAI;gBACnB,SAAS,EAAE,IAAI;aAChB;YACD,aAAa,EAAE;gBACb,MAAM,EAAE,IAAI;gBACZ,UAAU,EAAE,OAAO;gBACnB,UAAU,EAAE,IAAI;gBAChB,MAAM,EAAE,IAAI;gBACZ,WAAW,EAAE,OAAO;gBACpB,eAAe,EAAE,MAAM;gBACvB,QAAQ,EAAE,IAAI;gBACd,kBAAkB,EAAE,SAAS;gBAC7B,cAAc,EAAE,OAAO;gBACvB,KAAK,EAAE,IAAI;gBACX,QAAQ,EAAE,IAAI;gBACd,OAAO,EAAE,IAAI;gBACb,aAAa,EAAE,OAAO;gBACtB,iBAAiB,EAAE,OAAO;gBAC1B,gBAAgB,EAAE,OAAO;gBACzB,OAAO,EAAE,IAAI;gBACb,MAAM,EAAE,IAAI;gBACZ,eAAe,EAAE,IAAI;gBACrB,aAAa,EAAE,IAAI;gBACnB,WAAW,EAAE,MAAM;gBACnB,eAAe,EAAE,sBAAsB;gBACvC,eAAe,EAAE,qBAAqB;gBACtC,sBAAsB,EAAE,OAAO;gBAC/B,wBAAwB,EAAE,WAAW;gBACrC,yBAAyB,EAAE,YAAY;gBACvC,gBAAgB,EAAE,SAAS;gBAC3B,gBAAgB,EAAE,SAAS;gBAC3B,eAAe,EAAE,WAAW;gBAC5B,SAAS,EAAE,SAAS;gBACpB,iBAAiB,EAAE,qBAAqB;gBACxC,kBAAkB,EAAE,yBAAyB;gBAC7C,kBAAkB,EAAE,cAAc;gBAClC,qBAAqB,EAAE,aAAa;gBACpC,uBAAuB,EAAE,UAAU;gBACnC,kBAAkB,EAAE,YAAY;gBAChC,iBAAiB,EAAE,SAAS;gBAC5B,mBAAmB,EAAE,wBAAwB;gBAC7C,eAAe,EAAE,sBAAsB;gBACvC,uBAAuB,EAAE,cAAc;gBACvC,eAAe,EAAE,QAAQ;gBACzB,sBAAsB,EAAE,aAAa;gBACrC,yBAAyB,EAAE,aAAa;gBACxC,KAAK,EAAE,KAAK;gBACZ,eAAe,EAAE,eAAe;gBAChC,eAAe,EAAE,WAAW;gBAC5B,eAAe,EAAE,WAAW;gBAC5B,MAAM,EAAE,KAAK;gBACb,aAAa,EAAE,OAAO;gBACtB,kBAAkB,EAAE,MAAM;gBAC1B,wBAAwB,EAAE,OAAO;gBACjC,YAAY,EAAE,MAAM;gBACpB,YAAY,EAAE,MAAM;gBACpB,YAAY,EAAE,MAAM;gBACpB,MAAM,EAAE,KAAK;gBACb,KAAK,EAAE,OAAO;gBACd,QAAQ,EAAE,OAAO;gBACjB,kBAAkB,EAAE,MAAM;gBAC1B,UAAU,EAAE,OAAO;gBACnB,aAAa,EAAE,MAAM;gBACrB,WAAW,EAAE,kBAAkB;gBAC/B,iBAAiB,EAAE,OAAO;gBAC1B,gBAAgB,EAAE,OAAO;gBACzB,KAAK,EAAE,IAAI;gBACX,eAAe,EAAE,IAAI;gBACrB,iBAAiB,EAAE,IAAI;gBACvB,gBAAgB,EAAE,IAAI;gBACtB,QAAQ,EAAE,IAAI;gBACd,UAAU,EAAE,IAAI;gBAChB,oBAAoB,EAAE,OAAO;gBAC7B,YAAY,EAAE,qBAAqB;gBACnC,aAAa,EAAE,IAAI;gBACnB,SAAS,EAAE,IAAI;gBACf,kBAAkB,EAAE,MAAM;gBAC1B,OAAO,EAAE,MAAM;gBACf,iBAAiB,EAAE,MAAM;gBACzB,UAAU,EAAE,MAAM;gBAClB,aAAa,EAAE,KAAK;gBACpB,mBAAmB,EAAE,KAAK;gBAC1B,sBAAsB,EAAE,MAAM;aAC/B;YACD,kBAAkB,EAAE;gBAClB,MAAM,EAAE,IAAI;gBACZ,cAAc,EAAE,QAAQ;gBACxB,UAAU,EAAE,MAAM;gBAClB,oBAAoB,EAAE,MAAM;gBAC5B,cAAc,EAAE,MAAM;gBACtB,aAAa,EAAE,IAAI;gBACnB,SAAS,EAAE,IAAI;aAChB;YACD,oBAAoB,EAAE;gBACpB,iBAAiB,EAAE,kBAAkB;gBACrC,gBAAgB,EAAE,kBAAkB;gBACpC,MAAM,EAAE,IAAI;gBACZ,MAAM,EAAE,IAAI;gBACZ,aAAa,EAAE,IAAI;gBACnB,WAAW,EAAE,KAAK;gBAClB,MAAM,EAAE,IAAI;gBACZ,gBAAgB,EAAE,UAAU;gBAC5B,oBAAoB,EAAE,MAAM;gBAC5B,kBAAkB,EAAE,WAAW;gBAC/B,oBAAoB,EAAE,+BAA+B;gBACrD,eAAe,EAAE,MAAM;gBACvB,iBAAiB,EAAE,MAAM;gBACzB,eAAe,EAAE,MAAM;aACxB;YACD,iBAAiB,EAAE;gBACjB,MAAM,EAAE,IAAI;gBACZ,MAAM,EAAE,IAAI;gBACZ,MAAM,EAAE,IAAI;gBACZ,YAAY,EAAE,IAAI;gBAClB,eAAe,EAAE,MAAM;gBACvB,gBAAgB,EAAE,OAAO;gBACzB,aAAa,EAAE,KAAK;gBACpB,mBAAmB,EAAE,KAAK;gBAC1B,iBAAiB,EAAE,MAAM;gBACzB,WAAW,EAAE,MAAM;gBACnB,KAAK,EAAE,GAAG;gBACV,OAAO,EAAE,GAAG;gBACZ,eAAe,EAAE,SAAS;gBAC1B,QAAQ,EAAE,IAAI;gBACd,WAAW,EAAE,IAAI;gBACjB,YAAY,EAAE,IAAI;aACnB;YACD,kBAAkB,EAAE;gBAClB,OAAO,EAAE,MAAM;gBACf,gBAAgB,EAAE,MAAM;gBACxB,KAAK,EAAE,MAAM;gBACb,sBAAsB,EAAE,MAAM;gBAC9B,iBAAiB,EAAE,OAAO;gBAC1B,iBAAiB,EAAE,SAAS;gBAC5B,kBAAkB,EAAE,SAAS;gBAC7B,kBAAkB,EAAE,OAAO;gBAC3B,qBAAqB,EAAE,kCAAkC;gBACzD,oBAAoB,EAAE,6BAA6B;gBACnD,yBAAyB,EAAE,uCAAuC;gBAClE,6BAA6B,EAAE,6BAA6B;gBAC5D,KAAK,EAAE,OAAO;gBACd,iBAAiB,EAAE,SAAS;gBAC5B,eAAe,EAAE,qBAAqB;gBACtC,qBAAqB,EAAE,UAAU;gBACjC,wBAAwB,EAAE,SAAS;gBACnC,uBAAuB,EAAE,cAAc;gBACvC,wBAAwB,EAAE,kBAAkB;gBAC5C,yBAAyB,EAAE,gBAAgB;gBAC3C,sBAAsB,EAAE,OAAO;gBAC/B,kBAAkB,EAAE,QAAQ;gBAC5B,0BAA0B,EAAE,QAAQ;gBACpC,qBAAqB,EAAE,eAAe;gBACtC,qBAAqB,EAAE,kBAAkB;gBACzC,sBAAsB,EAAE,iBAAiB;gBACzC,QAAQ,EAAE,IAAI;gBACd,SAAS,EAAE,IAAI;aAChB;YACD,mBAAmB,EAAE;gBACnB,aAAa,EAAE,KAAK;gBACpB,iBAAiB,EAAE,KAAK;gBACxB,cAAc,EAAE,MAAM;gBACtB,cAAc,EAAE,MAAM;gBACtB,MAAM,EAAE,IAAI;gBACZ,UAAU,EAAE,IAAI;gBAChB,SAAS,EAAE,MAAM;gBACjB,aAAa,EAAE,KAAK;gBACpB,OAAO,EAAE,MAAM;gBACf,WAAW,EAAE,MAAM;gBACnB,aAAa,EAAE,IAAI;gBACnB,SAAS,EAAE,IAAI;aAChB;YACD,eAAe,EAAE;gBACf,gBAAgB,EAAE,MAAM;gBACxB,gBAAgB,EAAE,MAAM;gBACxB,MAAM,EAAE,IAAI;gBACZ,MAAM,EAAE,IAAI;gBACZ,MAAM,EAAE,IAAI;gBACZ,SAAS,EAAE,MAAM;gBACjB,UAAU,EAAE,IAAI;gBAChB,gBAAgB,EAAE,MAAM;gBACxB,SAAS,EAAE,MAAM;gBACjB,WAAW,EAAE,MAAM;gBACnB,mBAAmB,EAAE,MAAM;gBAC3B,WAAW,EAAE,KAAK;gBAClB,UAAU,EAAE,MAAM;gBAClB,WAAW,EAAE,MAAM;gBACnB,oBAAoB,EAAE,QAAQ;aAC/B;YACD,eAAe,EAAE;gBACf,aAAa,EAAE,OAAO;gBACtB,cAAc,EAAE,OAAO;gBACvB,KAAK,EAAE,OAAO;gBACd,6BAA6B,EAAE,IAAI;gBACnC,gBAAgB,EAAE,kBAAkB;gBACpC,MAAM,EAAE,KAAK;gBACb,UAAU,EAAE,IAAI;gBAChB,WAAW,EAAE,MAAM;aACpB;YACD,mBAAmB,EAAE;gBACnB,KAAK,EAAE,OAAO;gBACd,sBAAsB,EAAE,MAAM;gBAC9B,SAAS,EAAE,IAAI;gBACf,6BAA6B,EAAE,MAAM;gBACrC,gBAAgB,EAAE,kBAAkB;gBACpC,kBAAkB,EAAE,MAAM;gBAC1B,kBAAkB,EAAE,OAAO;gBAC3B,kBAAkB,EAAE,IAAI;gBACxB,WAAW,EAAE,MAAM;aACpB;YACD,mBAAmB,EAAE;gBACnB,gBAAgB,EAAE,MAAM;gBACxB,QAAQ,EAAE,MAAM;gBAChB,aAAa,EAAE,KAAK;gBACpB,mBAAmB,EAAE,KAAK;gBAC1B,eAAe,EAAE,IAAI;gBACrB,cAAc,EAAE,IAAI;gBACpB,UAAU,EAAE,IAAI;gBAChB,QAAQ,EAAE,IAAI;gBACd,KAAK,EAAE,OAAO;gBACd,QAAQ,EAAE,OAAO;gBACjB,QAAQ,EAAE,IAAI;gBACd,QAAQ,EAAE,MAAM;gBAChB,OAAO,EAAE,IAAI;gBACb,OAAO,EAAE,MAAM;gBACf,sBAAsB,EAAE,MAAM;gBAC9B,iBAAiB,EAAE,MAAM;gBACzB,aAAa,EAAE,IAAI;gBACnB,SAAS,EAAE,IAAI;gBACf,OAAO,EAAE,QAAQ;gBACjB,eAAe,EAAE,aAAa;aAC/B;YACD,MAAM,EAAE;gBACN,aAAa,EAAE,WAAW;gBAC1B,aAAa,EAAE,IAAI;gBACnB,SAAS,EAAE,IAAI;aAChB;YACD,eAAe,EAAE;gBACf,QAAQ,EAAE,MAAM;gBAChB,SAAS,EAAE,MAAM;gBACjB,SAAS,EAAE,MAAM;gBACjB,UAAU,EAAE,MAAM;gBAClB,UAAU,EAAE,MAAM;gBAClB,cAAc,EAAE,OAAO;gBACvB,iBAAiB,EAAE,QAAQ;gBAC3B,qBAAqB,EAAE,QAAQ;gBAC/B,YAAY,EAAE,MAAM;gBACpB,aAAa,EAAE,WAAW;gBAC1B,QAAQ,EAAE,eAAe;gBACzB,WAAW,EAAE,MAAM;gBACnB,KAAK,EAAE,OAAO;gBACd,QAAQ,EAAE,OAAO;gBACjB,KAAK,EAAE,IAAI;gBACX,MAAM,EAAE,IAAI;gBACZ,QAAQ,EAAE,IAAI;gBACd,YAAY,EAAE,IAAI;gBAClB,aAAa,EAAE,IAAI;gBACnB,SAAS,EAAE,IAAI;gBACf,aAAa,EAAE,qCAAqC;gBACpD,cAAc,EAAE,MAAM;gBACtB,aAAa,EAAE,MAAM;gBACrB,cAAc,EAAE,MAAM;gBACtB,aAAa,EAAE,MAAM;gBACrB,aAAa,EAAE,MAAM;gBACrB,YAAY,EAAE,MAAM;gBACpB,OAAO,EAAE,IAAI;gBACb,KAAK,EAAE,IAAI;gBACX,WAAW,EAAE,GAAG;gBAChB,oBAAoB,EAAE,OAAO;gBAC7B,qBAAqB,EAAE,OAAO;gBAC9B,iBAAiB,EAAE,OAAO;gBAC1B,qBAAqB,EAAE,IAAI;gBAC3B,6BAA6B,EAAE,OAAO;gBACtC,KAAK,EAAE,OAAO;gBACd,6BAA6B,EAAE,IAAI;gBACnC,MAAM,EAAE,IAAI;gBACZ,cAAc,EAAE,SAAS;gBACzB,2BAA2B,EAAE,WAAW;aACzC;YACD,mBAAmB,EAAE;gBACnB,iBAAiB,EAAE,OAAO;gBAC1B,6BAA6B,EAAE,OAAO;gBACtC,qBAAqB,EAAE,OAAO;gBAC9B,KAAK,EAAE,OAAO;gBACd,6BAA6B,EAAE,IAAI;gBACnC,oBAAoB,EAAE,OAAO;gBAC7B,4BAA4B,EAAE,OAAO;gBACrC,qBAAqB,EAAE,OAAO;gBAC9B,iBAAiB,EAAE,OAAO;gBAC1B,qBAAqB,EAAE,IAAI;gBAC3B,UAAU,EAAE,WAAW;gBACvB,oBAAoB,EAAE,kBAAkB;gBACxC,wBAAwB,EAAE,aAAa;gBACvC,UAAU,EAAE,WAAW;gBACvB,SAAS,EAAE,WAAW;gBACtB,SAAS,EAAE,WAAW;gBACtB,WAAW,EAAE,WAAW;gBACxB,2BAA2B,EAAE,YAAY;gBACzC,sBAAsB,EAAE,wBAAwB;gBAChD,4BAA4B,EAAE,YAAY;gBAC1C,SAAS,EAAE,gBAAgB;gBAC3B,SAAS,EAAE,YAAY;gBACvB,YAAY,EAAE,SAAS;gBACvB,cAAc,EAAE,MAAM;gBACtB,UAAU,EAAE,IAAI;gBAChB,eAAe,EAAE,MAAM;gBACvB,gBAAgB,EAAE,QAAQ;gBAC1B,aAAa,EAAE,SAAS;gBACxB,mBAAmB,EAAE,MAAM;gBAC3B,YAAY,EAAE,IAAI;gBAClB,aAAa,EAAE,IAAI;gBACnB,SAAS,EAAE,IAAI;gBACf,cAAc,EAAE,MAAM;gBACtB,aAAa,EAAE,MAAM;gBACrB,QAAQ,EAAE,OAAO;gBACjB,aAAa,EAAE,MAAM;gBACrB,WAAW,EAAE,KAAK;gBAClB,aAAa,EAAE,IAAI;gBACnB,cAAc,EAAE,KAAK;gBACrB,MAAM,EAAE,KAAK;aACd;YACD,WAAW,EAAE;gBACX,mBAAmB,EAAE,QAAQ;gBAC7B,MAAM,EAAE,IAAI;gBACZ,gBAAgB,EAAE,SAAS;gBAC3B,QAAQ,EAAE,SAAS;gBACnB,YAAY,EAAE,QAAQ;gBACtB,cAAc,EAAE,cAAc;gBAC9B,WAAW,EAAE,0BAA0B;gBACvC,UAAU,EAAE,cAAc;gBAC1B,aAAa,EAAE,QAAQ;gBACvB,iBAAiB,EAAE,iBAAiB;gBACpC,kBAAkB,EAAE,eAAe;gBACnC,aAAa,EAAE,YAAY;gBAC3B,eAAe,EAAE,MAAM;gBACvB,kBAAkB,EAAE,QAAQ;gBAC5B,eAAe,EAAE,SAAS;gBAC1B,aAAa,EAAE,MAAM;gBACrB,eAAe,EAAE,SAAS;gBAC1B,iBAAiB,EAAE,QAAQ;gBAC3B,aAAa,EAAE,IAAI;gBACnB,SAAS,EAAE,IAAI;gBACf,KAAK,EAAE,OAAO;aACf;YACD,UAAU,EAAE;gBACV,UAAU,EAAE,MAAM;gBAClB,UAAU,EAAE,MAAM;gBAClB,MAAM,EAAE,IAAI;gBACZ,aAAa,EAAE,MAAM;gBACrB,gBAAgB,EAAE,MAAM;gBACxB,iBAAiB,EAAE,sBAAsB;gBACzC,KAAK,EAAE,OAAO;gBACd,QAAQ,EAAE,OAAO;gBACjB,gBAAgB,EAAE,QAAQ;gBAC1B,aAAa,EAAE,IAAI;gBACnB,SAAS,EAAE,IAAI;aAChB;YACD,gBAAgB,EAAE;gBAChB,gBAAgB,EAAE,MAAM;gBACxB,MAAM,EAAE,GAAG;gBACX,OAAO,EAAE,GAAG;gBACZ,KAAK,EAAE,OAAO;gBACd,QAAQ,EAAE,OAAO;gBACjB,YAAY,EAAE,IAAI;gBAClB,aAAa,EAAE,KAAK;gBACpB,QAAQ,EAAE,IAAI;gBACd,SAAS,EAAE,IAAI;aAChB;YACD,kBAAkB,EAAE;gBAClB,kBAAkB,EAAE,MAAM;gBAC1B,QAAQ,EAAE,OAAO;gBACjB,aAAa,EAAE,IAAI;gBACnB,YAAY,EAAE,MAAM;gBACpB,SAAS,EAAE,IAAI;aAChB;YACD,cAAc,EAAE;gBACd,cAAc,EAAE,MAAM;gBACtB,YAAY,EAAE,KAAK;gBACnB,gBAAgB,EAAE,mBAAmB;gBACrC,mBAAmB,EAAE,MAAM;gBAC3B,oBAAoB,EAAE,QAAQ;gBAC9B,QAAQ,EAAE,OAAO;gBACjB,SAAS,EAAE,QAAQ;gBACnB,qBAAqB,EAAE,OAAO;gBAC9B,kBAAkB,EAAE,OAAO;gBAC3B,aAAa,EAAE,IAAI;gBACnB,SAAS,EAAE,IAAI;gBACf,QAAQ,EAAE,QAAQ;gBAClB,MAAM,EAAE,MAAM;gBACd,aAAa,EAAE,KAAK;gBACpB,eAAe,EAAE,IAAI;gBACrB,KAAK,EAAE,MAAM;gBACb,MAAM,EAAE,MAAM;gBACd,YAAY,EAAE,IAAI;gBAClB,MAAM,EAAE,IAAI;gBACZ,KAAK,EAAE,IAAI;gBACX,OAAO,EAAE,KAAK;gBACd,UAAU,EAAE,IAAI;gBAChB,UAAU,EAAE,IAAI;gBAChB,YAAY,EAAE,KAAK;gBACnB,QAAQ,EAAE,MAAM;gBAChB,YAAY,EAAE,MAAM;gBACpB,aAAa,EAAE,IAAI;gBACnB,gBAAgB,EAAE,MAAM;gBACxB,gBAAgB,EAAE,MAAM;gBACxB,eAAe,EAAE,MAAM;gBACvB,WAAW,EAAE,MAAM;gBACnB,kBAAkB,EAAE,IAAI;gBACxB,wBAAwB,EAAE,aAAa;gBACvC,kBAAkB,EAAE,WAAW;gBAC/B,WAAW,EAAE,IAAI;gBACjB,YAAY,EAAE,MAAM;gBACpB,YAAY,EAAE,MAAM;gBACpB,QAAQ,EAAE,MAAM;gBAChB,UAAU,EAAE,MAAM;gBAClB,QAAQ,EAAE,MAAM;gBAChB,WAAW,EAAE,MAAM;gBACnB,UAAU,EAAE,MAAM;gBAClB,UAAU,EAAE,MAAM;gBAClB,UAAU,EAAE,MAAM;gBAClB,UAAU,EAAE,oBAAoB;gBAChC,aAAa,EAAE,UAAU;gBACzB,UAAU,EAAE,UAAU;gBACtB,WAAW,EAAE,IAAI;gBACjB,aAAa,EAAE,IAAI;gBACnB,WAAW,EAAE,IAAI;gBACjB,eAAe,EAAE,IAAI;gBACrB,aAAa,EAAE,IAAI;gBACnB,aAAa,EAAE,IAAI;gBACnB,aAAa,EAAE,IAAI;gBACnB,KAAK,EAAE,IAAI;gBACX,QAAQ,EAAE,IAAI;gBACd,OAAO,EAAE,IAAI;gBACb,SAAS,EAAE,MAAM;gBACjB,WAAW,EAAE,MAAM;gBACnB,QAAQ,EAAE,MAAM;gBAChB,cAAc,EAAE,MAAM;gBACtB,YAAY,EAAE,MAAM;gBACpB,iBAAiB,EAAE,QAAQ;gBAC3B,eAAe,EAAE,QAAQ;gBACzB,aAAa,EAAE,WAAW;gBAC1B,KAAK,EAAE,OAAO;aACf;YACD,iBAAiB,EAAE;gBACjB,iBAAiB,EAAE,MAAM;gBACzB,MAAM,EAAE,IAAI;gBACZ,MAAM,EAAE,IAAI;gBACZ,OAAO,EAAE,IAAI;gBACb,WAAW,EAAE,MAAM;gBACnB,MAAM,EAAE,MAAM;gBACd,eAAe,EAAE,MAAM;gBACvB,aAAa,EAAE,aAAa;gBAC5B,YAAY,EAAE,iBAAiB;gBAC/B,aAAa,EAAE,YAAY;gBAC3B,aAAa,EAAE,YAAY;gBAC3B,eAAe,EAAE,cAAc;gBAC/B,YAAY,EAAE,YAAY;gBAC1B,KAAK,EAAE,OAAO;gBACd,QAAQ,EAAE,OAAO;gBACjB,KAAK,EAAE,IAAI;gBACX,QAAQ,EAAE,IAAI;gBACd,aAAa,EAAE,IAAI;gBACnB,SAAS,EAAE,IAAI;aAChB;YACD,iBAAiB,EAAE;gBACjB,UAAU,EAAE,MAAM;gBAClB,MAAM,EAAE,IAAI;gBACZ,MAAM,EAAE,IAAI;gBACZ,MAAM,EAAE,IAAI;gBACZ,YAAY,EAAE,IAAI;gBAClB,QAAQ,EAAE,IAAI;gBACd,aAAa,EAAE,UAAU;gBACzB,QAAQ,EAAE,WAAW;gBACrB,YAAY,EAAE,IAAI;gBAClB,aAAa,EAAE,IAAI;gBACnB,SAAS,EAAE,MAAM;aAClB;YACD,wBAAwB,EAAE;gBACxB,MAAM,EAAE,IAAI;gBACZ,MAAM,EAAE,IAAI;gBACZ,UAAU,EAAE,IAAI;gBAChB,KAAK,EAAE,GAAG;gBACV,IAAI,EAAE,GAAG;gBACT,OAAO,EAAE,KAAK;gBACd,mBAAmB,EAAE,UAAU;gBAC/B,oBAAoB,EAAE,MAAM;gBAC5B,cAAc,EAAE,SAAS;gBACzB,eAAe,EAAE,SAAS;gBAC1B,MAAM,EAAE,IAAI;gBACZ,cAAc,EAAE,KAAK;gBACrB,WAAW,EAAE,MAAM;gBACnB,eAAe,EAAE,MAAM;gBACvB,aAAa,EAAE,IAAI;gBACnB,SAAS,EAAE,IAAI;aAChB;YACD,iBAAiB,EAAE;gBACjB,iBAAiB,EAAE,OAAO;gBAC1B,KAAK,EAAE,IAAI;gBACX,KAAK,EAAE,KAAK;gBACZ,KAAK,EAAE,QAAQ;gBACf,MAAM,EAAE,IAAI;gBACZ,MAAM,EAAE,IAAI;gBACZ,cAAc,EAAE,MAAM;gBACtB,OAAO,EAAE,MAAM;gBACf,KAAK,EAAE,GAAG;gBACV,IAAI,EAAE,GAAG;gBACT,WAAW,EAAE,IAAI;gBACjB,WAAW,EAAE,IAAI;gBACjB,OAAO,EAAE,KAAK;gBACd,YAAY,EAAE,SAAS;gBACvB,eAAe,EAAE,eAAe;gBAChC,aAAa,EAAE,YAAY;gBAC3B,KAAK,EAAE,OAAO;gBACd,QAAQ,EAAE,OAAO;gBACjB,KAAK,EAAE,IAAI;gBACX,QAAQ,EAAE,IAAI;gBACd,eAAe,EAAE,MAAM;gBACvB,aAAa,EAAE,IAAI;gBACnB,SAAS,EAAE,IAAI;aAChB;YACD,gBAAgB,EAAE;gBAChB,OAAO,EAAE,MAAM;gBACf,OAAO,EAAE,MAAM;gBACf,IAAI,EAAE,IAAI;gBACV,gBAAgB,EAAE,QAAQ;gBAC1B,KAAK,EAAE,OAAO;gBACd,QAAQ,EAAE,OAAO;gBACjB,WAAW,EAAE,MAAM;gBACnB,uBAAuB,EAAE,QAAQ;gBACjC,gBAAgB,EAAE,YAAY;gBAC9B,yBAAyB,EAAE,MAAM;gBACjC,8BAA8B,EAAE,QAAQ;gBACxC,gBAAgB,EAAE,YAAY;gBAC9B,aAAa,EAAE,IAAI;gBACnB,SAAS,EAAE,IAAI;aAChB;YACD,UAAU,EAAE;gBACV,YAAY,EAAE,MAAM;gBACpB,cAAc,EAAE,IAAI;gBACpB,eAAe,EAAE,IAAI;gBACrB,UAAU,EAAE,IAAI;gBAChB,QAAQ,EAAE,IAAI;gBACd,cAAc,EAAE,MAAM;gBACtB,MAAM,EAAE,IAAI;aACb;YACD,YAAY,EAAE;gBACZ,eAAe,EAAE,OAAO;gBACxB,WAAW,EAAE,OAAO;gBACpB,SAAS,EAAE,OAAO;gBAClB,eAAe,EAAE,QAAQ;gBACzB,cAAc,EAAE,UAAU;gBAC1B,qBAAqB,EAAE,OAAO;gBAC9B,SAAS,EAAE,WAAW;gBACtB,cAAc,EAAE,MAAM;gBACtB,SAAS,EAAE,IAAI;gBACf,aAAa,EAAE,IAAI;gBACnB,kBAAkB,EAAE,4BAA4B;gBAChD,KAAK,EAAE,OAAO;gBACd,QAAQ,EAAE,OAAO;gBACjB,uBAAuB,EAAE,OAAO;gBAChC,UAAU,EAAE,MAAM;gBAClB,YAAY,EAAE,MAAM;gBACpB,sBAAsB,EAAE,MAAM;gBAC9B,qBAAqB,EAAE,MAAM;gBAC7B,WAAW,EAAE,MAAM;gBACnB,WAAW,EAAE,MAAM;gBACnB,mBAAmB,EAAE,aAAa;gBAClC,cAAc,EAAE,QAAQ;gBACxB,eAAe,EAAE,OAAO;aACzB;YACD,cAAc,EAAE;gBACd,QAAQ,EAAE,kBAAkB;gBAC5B,cAAc,EAAE,MAAM;gBACtB,iBAAiB,EAAE,MAAM;gBACzB,qBAAqB,EAAE,MAAM;gBAC7B,OAAO,EAAE,GAAG;gBACZ,MAAM,EAAE,IAAI;gBACZ,IAAI,EAAE,IAAI;gBACV,UAAU,EAAE,MAAM;gBAClB,UAAU,EAAE,KAAK;gBACjB,mBAAmB,EAAE,OAAO;gBAC5B,SAAS,EAAE,2HAA2H;gBACtI,iBAAiB,EAAE,sBAAsB;gBACzC,YAAY,EAAE,6BAA6B;gBAC3C,KAAK,EAAE,OAAO;gBACd,QAAQ,EAAE,OAAO;gBACjB,aAAa,EAAE,MAAM;gBACrB,WAAW,EAAE,MAAM;gBACnB,eAAe,EAAE,cAAc;gBAC/B,OAAO,EAAE,MAAM;gBACf,kBAAkB,EAAE,UAAU;gBAC9B,uBAAuB,EAAE,MAAM;gBAC/B,UAAU,EAAE,sBAAsB;gBAClC,UAAU,EAAE,4DAA4D;gBACxE,UAAU,EAAE,4CAA4C;gBACxD,mBAAmB,EAAE,UAAU;gBAC/B,aAAa,EAAE,IAAI;gBACnB,SAAS,EAAE,IAAI;aAChB;YACD,gBAAgB,EAAE;gBAChB,KAAK,EAAE,IAAI;gBACX,QAAQ,EAAE,IAAI;gBACd,OAAO,EAAE,IAAI;gBACb,aAAa,EAAE,OAAO;gBACtB,iBAAiB,EAAE,OAAO;gBAC1B,gBAAgB,EAAE,MAAM;gBACxB,QAAQ,EAAE,IAAI;gBACd,iBAAiB,EAAE,MAAM;gBACzB,UAAU,EAAE,OAAO;gBACnB,aAAa,EAAE,YAAY;gBAC3B,WAAW,EAAE,kBAAkB;gBAC/B,aAAa,EAAE,IAAI;gBACnB,SAAS,EAAE,IAAI;aAChB;YACD,aAAa,EAAE;gBACb,iBAAiB,EAAE,QAAQ;gBAC3B,UAAU,EAAE,IAAI;gBAChB,KAAK,EAAE,GAAG;gBACV,IAAI,EAAE,GAAG;gBACT,WAAW,EAAE,IAAI;gBACjB,KAAK,EAAE,IAAI;gBACX,QAAQ,EAAE,IAAI;gBACd,MAAM,EAAE,IAAI;gBACZ,WAAW,EAAE,YAAY;gBACzB,aAAa,EAAE,OAAO;gBACtB,KAAK,EAAE,OAAO;gBACd,QAAQ,EAAE,OAAO;gBACjB,UAAU,EAAE,MAAM;gBAClB,QAAQ,EAAE,IAAI;gBACd,UAAU,EAAE,IAAI;gBAChB,aAAa,EAAE,IAAI;gBACnB,SAAS,EAAE,IAAI;aAChB;YACD,iBAAiB,EAAE;gBACjB,aAAa,EAAE,OAAO;gBACtB,iBAAiB,EAAE,OAAO;gBAC1B,QAAQ,EAAE,IAAI;gBACd,aAAa,EAAE,KAAK;gBACpB,mBAAmB,EAAE,KAAK;gBAC1B,iBAAiB,EAAE,MAAM;gBACzB,KAAK,EAAE,OAAO;gBACd,UAAU,EAAE,OAAO;gBACnB,aAAa,EAAE,YAAY;gBAC3B,WAAW,EAAE,kBAAkB;gBAC/B,aAAa,EAAE,IAAI;gBACnB,SAAS,EAAE,IAAI;aAChB;YACD,eAAe,EAAE;gBACf,iBAAiB,EAAE,MAAM;gBACzB,SAAS,EAAE,IAAI;gBACf,UAAU,EAAE,IAAI;gBAChB,OAAO,EAAE,IAAI;gBACb,OAAO,EAAE,IAAI;gBACb,MAAM,EAAE,IAAI;gBACZ,gBAAgB,EAAE,MAAM;gBACxB,WAAW,EAAE,IAAI;gBACjB,IAAI,EAAE,GAAG;gBACT,KAAK,EAAE,GAAG;gBACV,kBAAkB,EAAE,MAAM;gBAC1B,qBAAqB,EAAE,MAAM;gBAC7B,eAAe,EAAE,MAAM;gBACvB,oBAAoB,EAAE,QAAQ;gBAC9B,gBAAgB,EAAE,MAAM;gBACxB,QAAQ,EAAE,MAAM;gBAChB,QAAQ,EAAE,MAAM;gBAChB,IAAI,EAAE,IAAI;gBACV,uBAAuB,EAAE,mBAAmB;gBAC5C,WAAW,EAAE,YAAY;gBACzB,KAAK,EAAE,OAAO;gBACd,QAAQ,EAAE,OAAO;gBACjB,KAAK,EAAE,IAAI;gBACX,QAAQ,EAAE,IAAI;gBACd,aAAa,EAAE,IAAI;gBACnB,SAAS,EAAE,IAAI;gBACf,gBAAgB,EAAE,MAAM;gBACxB,YAAY,EAAE,IAAI;aACnB;YACD,eAAe,EAAE;gBACf,QAAQ,EAAE,MAAM;gBAChB,MAAM,EAAE,IAAI;gBACZ,WAAW,EAAE,IAAI;gBACjB,OAAO,EAAE,MAAM;gBACf,aAAa,EAAE,MAAM;gBACrB,eAAe,EAAE,MAAM;gBACvB,aAAa,EAAE,WAAW;gBAC1B,aAAa,EAAE,WAAW;gBAC1B,KAAK,EAAE,OAAO;gBACd,QAAQ,EAAE,OAAO;gBACjB,QAAQ,EAAE,MAAM;gBAChB,QAAQ,EAAE,MAAM;gBAChB,WAAW,EAAE,MAAM;gBACnB,MAAM,EAAE,IAAI;gBACZ,KAAK,EAAE,IAAI;gBACX,QAAQ,EAAE,IAAI;gBACd,aAAa,EAAE,IAAI;gBACnB,SAAS,EAAE,IAAI;aAChB;YACD,cAAc,EAAE;gBACd,cAAc,EAAE,MAAM;gBACtB,UAAU,EAAE,KAAK;gBACjB,KAAK,EAAE,OAAO;gBACd,QAAQ,EAAE,OAAO;gBACjB,cAAc,EAAE,MAAM;gBACtB,aAAa,EAAE,MAAM;gBACrB,WAAW,EAAE,MAAM;gBACnB,aAAa,EAAE,IAAI;gBACnB,SAAS,EAAE,IAAI;aAChB;YACD,cAAc,EAAE;gBACd,MAAM,EAAE,IAAI;gBACZ,UAAU,EAAE,UAAU;gBACtB,YAAY,EAAE,IAAI;gBAClB,aAAa,EAAE,IAAI;gBACnB,SAAS,EAAE,IAAI;aAChB;YACD,mBAAmB,EAAE;gBACnB,WAAW,EAAE,IAAI;gBACjB,QAAQ,EAAE,MAAM;gBAChB,wBAAwB,EAAE,WAAW;gBACrC,cAAc,EAAE,aAAa;gBAC7B,QAAQ,EAAE,IAAI;gBACd,aAAa,EAAE,MAAM;gBACrB,MAAM,EAAE,IAAI;gBACZ,WAAW,EAAE,IAAI;gBACjB,eAAe,EAAE,MAAM;gBACvB,SAAS,EAAE,MAAM;gBACjB,YAAY,EAAE,MAAM;gBACpB,YAAY,EAAE,MAAM;gBACpB,mBAAmB,EAAE,MAAM;gBAC3B,KAAK,EAAE,GAAG;gBACV,IAAI,EAAE,GAAG;gBACT,SAAS,EAAE,IAAI;gBACf,MAAM,EAAE,IAAI;gBACZ,MAAM,EAAE,IAAI;gBACZ,OAAO,EAAE,KAAK;gBACd,eAAe,EAAE,MAAM;gBACvB,eAAe,EAAE,WAAW;gBAC5B,cAAc,EAAE,SAAS;gBACzB,cAAc,EAAE,MAAM;gBACtB,SAAS,EAAE,WAAW;gBACtB,WAAW,EAAE,OAAO;gBACpB,sBAAsB,EAAE,cAAc;gBACtC,OAAO,EAAE,KAAK;gBACd,UAAU,EAAE,IAAI;gBAChB,KAAK,EAAE,OAAO;gBACd,QAAQ,EAAE,OAAO;gBACjB,yBAAyB,EAAE,MAAM;gBACjC,2BAA2B,EAAE,MAAM;gBACnC,yBAAyB,EAAE,MAAM;gBACjC,2BAA2B,EAAE,MAAM;gBACnC,yBAAyB,EAAE,MAAM;gBACjC,0BAA0B,EAAE,MAAM;gBAClC,6BAA6B,EAAE,MAAM;gBACrC,0BAA0B,EAAE,MAAM;gBAClC,0BAA0B,EAAE,MAAM;gBAClC,kCAAkC,EAAE,SAAS;gBAC7C,kCAAkC,EAAE,OAAO;gBAC3C,8BAA8B,EAAE,OAAO;gBACvC,0BAA0B,EAAE,OAAO;gBACnC,yBAAyB,EAAE,OAAO;gBAClC,UAAU,EAAE,MAAM;gBAClB,kBAAkB,EAAE,MAAM;gBAC1B,oBAAoB,EAAE,MAAM;gBAC5B,kBAAkB,EAAE,MAAM;gBAC1B,kBAAkB,EAAE,OAAO;gBAC3B,oBAAoB,EAAE,OAAO;gBAC7B,oBAAoB,EAAE,OAAO;gBAC7B,kBAAkB,EAAE,OAAO;gBAC3B,kBAAkB,EAAE,OAAO;gBAC3B,oBAAoB,EAAE,OAAO;gBAC7B,kBAAkB,EAAE,OAAO;gBAC3B,oBAAoB,EAAE,QAAQ;gBAC9B,qBAAqB,EAAE,OAAO;gBAC9B,kBAAkB,EAAE,gBAAgB;gBACpC,MAAM,EAAE,KAAK;gBACb,eAAe,EAAE,sBAAsB;gBACvC,KAAK,EAAE,IAAI;gBACX,QAAQ,EAAE,IAAI;gBACd,UAAU,EAAE,IAAI;gBAChB,aAAa,EAAE,IAAI;gBACnB,SAAS,EAAE,IAAI;aAChB;SACF;KACF;CACF;;;;;;AC1qHD,aAuD4C,gCAAgC;AAK5E,MAAa,wBAAwB;;;;;;;;;;;;;;;;;;IAgFnC,YACS,OAA+B,EAC9B,SAAmC,EACpC,OAAmC,EAClC,WAA2B,EAC3B,MAAqB,EACrB,OAAwB,EACxB,QAAiC,EACjC,QAAkB,EAClB,YAA4B,EAC5B,QAAkC,EAClC,QAAyB,EACb,GAAsB,EACf,QAAgB,EACR,SAAc,EAC7B,UAAwB;QAdrC,YAAO,GAAP,OAAO,CAAwB;QAC9B,cAAS,GAAT,SAAS,CAA0B;QACpC,YAAO,GAAP,OAAO,CAA4B;QAClC,gBAAW,GAAX,WAAW,CAAgB;QAC3B,WAAM,GAAN,MAAM,CAAe;QACrB,YAAO,GAAP,OAAO,CAAiB;QACxB,aAAQ,GAAR,QAAQ,CAAyB;QACjC,aAAQ,GAAR,QAAQ,CAAU;QAClB,iBAAY,GAAZ,YAAY,CAAgB;QAC5B,aAAQ,GAAR,QAAQ,CAA0B;QAClC,aAAQ,GAAR,QAAQ,CAAiB;QACb,QAAG,GAAH,GAAG,CAAmB;QACf,aAAQ,GAAR,QAAQ,CAAQ;QACR,cAAS,GAAT,SAAS,CAAK;QAC7B,eAAU,GAAV,UAAU,CAAc;QA9FtC,SAAI,GAAG,IAAI,CAAC;QAGpB,QAAG,GAAG,8BAA8B,CAAC;QAmBrC,WAAM,GAAmC,MAAM,CAAC;QAGhD,SAAI,GAA2B,SAAS,CAAC;QAWzC,aAAQ,GAAmB,IAAI,CAAC;QAEtB,UAAK,GAAG,IAAI,YAAY,EAAO,CAAC;QAQ1C,cAAS,GAAG,EAAE,CAAC;QACf,gBAAW,GAAG;YACZ;gBACE,EAAE,EAAE,gBAAgB;gBACpB,IAAI,EAAE,gBAAgB;gBACtB,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,mBAAmB,CAAC;gBACnD,OAAO,EAAE,gBAAgB;gBACzB,SAAS,EAAE,gBAAgB;aAC5B;SACF,CAAC;QAKF,eAAU,GAAG,GAAG,CAAC;QACjB,2BAAsB,GAAG,IAAI,CAAC;QAC9B,oBAAe,GAAG,GAAG,CAAC;;;;;QAetB,gBAAW,GAAG,KAAK,CAAC;QAgCpB,oBAAe,GAAG,KAAK,CAAC;QAbtB,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,IAAI,IAAI,YAAY,CAAC,QAAQ,EAAE,SAAS,CAAC,CAAC;QAC3E,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,GAAG,IAAI,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,iBAAiB,EAAE,IAAI,CAAC,CAAC;QAClE,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,mBAAmB,CAAC,CAAC;QACxD,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,SAAS,EAAE,IAAI,CAAC,IAAI,IAAI,CAAC,QAAQ,CAAC;QACpE,kBAAkB,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC;QAChD,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,oBAAoB,EAAE,EAAE,IAAI,CAAC,OAAO,CAAC,oBAAoB,EAAE,CAAC,CAAC,SAAS;;;;QAAC,EAAE;YAC7F,IAAI,CAAC,OAAO,CAAC,iBAAiB,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC;YACvC,IAAI,CAAC,OAAO,CAAC,iBAAiB,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC;YACvC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,iBAAiB,EAAE;gBACnC,IAAI,CAAC,OAAO,CAAC,oBAAoB,EAAE,CAAC;aACrC;SACF,EAAC,CAAC;KACJ;;;;;IAtGD,IACI,IAAI,CAAC,CAAc;QACrB,IAAI,CAAC,KAAK,GAAG,CAAC,CAAC;QACf,IAAI,CAAC,OAAO,CAAC,IAAI,GAAG,CAAC,CAAC;KACvB;;;;IACD,IAAI,IAAI;QACN,OAAO,IAAI,CAAC,KAAK,CAAC;KACnB;;;;;IAcD,IACI,KAAK,CAAC,CAAS;QACjB,IAAI,CAAC,OAAO,CAAC,KAAK,GAAG,CAAC,CAAC;KACxB;;;;IACD,IAAI,KAAK;QACP,OAAO,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC;KAC3B;;;;IA6ED,QAAQ;QACN,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,WAAW,GAAC,IAAI,CAAC,WAAW,CAAC,WAAW,GAAC,IAAI,CAAC,aAAa,CAAC,QAAQ,CAAC;QAC/F,IAAG,IAAI,CAAC,aAAa,IAAI,IAAI,CAAC,aAAa,CAAC,WAAW,EAAE;YACvD,IAAI,CAAC,OAAO,CAAC,SAAS,GAAG,IAAI,CAAC,aAAa,CAAC,WAAW,CAAC;SACzD;QACD,IAAI,CAAC,mBAAmB,EAAE,CAAC;QAC3B,IAAI,CAAC,OAAO,CAAC,WAAW,EAAE,CAAC;QAC3B,IAAI,CAAC,WAAW,EAAE,CAAC;QACnB,IAAI,CAAC,yBAAyB,EAAE,CAAC;;QAEjC,IAAI,CAAC,OAAO,CAAC,kBAAkB,EAAE,CAAC;QAClC,KAAK,EAAE,CAAC;QACR,QAAQ,CAAC,IAAI,CAAC,gBAAgB,CAAC,SAAS;;;;QAAE,CAAC,CAAC;YAC1C,IAAI,CAAC,IAAI,CAAC,eAAe,IAAI,CAAC,CAAC,QAAQ,IAAI,OAAO,KAAK,CAAC,CAAC,IAAI,EAAE;gBAC7D,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;gBAC5B,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,0BAA0B,CAAC,CAAC,CAAC;gBAC3E,IAAI,CAAC,aAAa,EAAE,CAAC;aACtB;SACF,EAAC,CAAC;QACH,IAAI,CAAC,GAAG,IAAI,IAAI,CAAC,GAAG,CAAC,aAAa,EAAE,CAAC;QACrC,IAAI,CAAC,cAAc,EAAE,CAAC;KACvB;;;;IAED,cAAc;QACZ,IAAI,CAAC,OAAO,CAAC,gBAAgB,EAAE,CAAC,SAAS;;;;QACvC,CAAC,aAAa;;kBACN,iBAAiB,GAAW,IAAI,CAAC,KAAK,KAAK,WAAW,CAAC,EAAE,GAAG,IAAI,CAAC,aAAa,CAAC,UAAU,GAAG,IAAI,CAAC,WAAW,CAAC,UAAU;YAC7H,IAAI,CAAC,SAAS,CAAC,kBAAkB,CAAC,iBAAiB,CAAC,CAAC,SAAS;;;;YAC5D,CAAC,YAA4B;;sBACrB,aAAa,GAAG,IAAI,CAAC,KAAK,KAAK,WAAW,CAAC,EAAE,GAAG,YAAY,CAAC,gBAAgB,GAAG,SAAS;gBAC/F,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,aAAa,CAAC,CAAC,IAAI,CAC5C,SAAS;;;;gBACP,CAAC,WAAW;oBACV,IAAI,CAAC,GAAG,IAAI,IAAI,CAAC,GAAG,CAAC,aAAa,EAAE,CAAC;oBACrC,IAAI,CAAC,QAAQ,GAAG,IAAI,UAAU,CAAC,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC,mBAAmB,CAAC,aAAa,EAC9F,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,YAAY,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC;oBACjD,IAAI,CAAC,QAAQ,CAAC,gBAAgB,GAAG,IAAI,CAAC;oBACtC,IAAI,CAAC,QAAQ,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC;oBACvC,IAAI,CAAC,QAAQ,CAAC,aAAa,GAAG,aAAa,CAAC;oBAC5C,IAAI,CAAC,QAAQ,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC;oBAC/B,IAAI,CAAC,QAAQ,CAAC,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC;oBACzC,IAAI,CAAC,QAAQ,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC;oBACvC,IAAI,CAAC,QAAQ,CAAC,aAAa,GAAG,aAAa,CAAC;oBAC5C,IAAI,CAAC,QAAQ,CAAC,WAAW,GAAG,WAAW,CAAC;oBACxC,OAAOjC,IAAE,CAAC,EAAE,CAAC,CAAC;iBACf,EACF,CACF;;qBAEE,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;qBAChB,SAAS;;;gBAAC;oBACT,IAAI,CAAC,eAAe,EAAE,CAAC;iBACxB,EAAC,CAAC;aACN,EACF,CAAC;SACH,EACF,CAAC;KACH;;;;;IAED,oBAAoB,CAAC,QAAoB;QACvC,QAAQ,CAAC,WAAW,CAAC,SAAS,CAAC,YAAY;;;;;QAAE,CAAC,MAAM,EAAE,GAA4B;;kBAC1E,KAAK,GAAW,GAAG,CAAC,WAAW,CAAC,OAAO,CAAC;YAC9C,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,IAAI,CAAC,QAAQ,CAAC,mBAAmB,CAAC,KAAK,CAAC,CAAC,CAAC;SACtE,EAAC,CAAC;;QAEH,QAAQ,CAAC,KAAK,CAAC,WAAW,CAAC,SAAS,CAAC,aAAa;;;;;QAAE,CAAC,MAAM,EAAE,GAA4B;YACvF,IAAI,CAAC,OAAO,CAAC,cAAc,CAAC,IAAI,CAAC,QAAQ,CAAC,aAAa,EAAE,CAAC,CAAC;YAC3D,IAAI,CAAC,OAAO,CAAC,kBAAkB,CAAC,IAAI,CAAC,QAAQ,CAAC,eAAe,EAAE,CAAC,CAAC;YACjE,IAAI,CAAC,OAAO,CAAC,eAAe,CAAC,IAAI,CAAC,QAAQ,CAAC,YAAY,EAAE,CAAC,CAAC;SAC5D,EAAC,CAAC;;QAEH,QAAQ,CAAC,KAAK,CAAC,WAAW,CAAC,OAAO,CAAC,aAAa;;;QAAE;YAChD,IAAI,CAAC,OAAO,CAAC,cAAc,CAAC,IAAI,CAAC,QAAQ,CAAC,aAAa,EAAE,CAAC,CAAC;YAC3D,IAAI,CAAC,OAAO,CAAC,kBAAkB,CAAC,IAAI,CAAC,QAAQ,CAAC,eAAe,EAAE,CAAC,CAAC;YACjE,IAAI,CAAC,OAAO,CAAC,eAAe,CAAC,IAAI,CAAC,QAAQ,CAAC,YAAY,EAAE,CAAC,CAAC;SAC5D,EAAC,CAAC;KACJ;;;;;;IAKO,mBAAmB;QACzB,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,YAAY,CAAC,iBAAiB;;;;QAAE,IAAI;YACnD,IAAI,IAAI,EAAE;gBACR,IAAI,CAAC,QAAQ,CAAC,iBAAiB,CAAC,IAAI,CAAC,CAAC;aACvC;SACF,EAAC,CAAC;QACH,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,YAAY,CAAC,gBAAgB;;;;QAAE,IAAI;YAClD,IAAI,IAAI,EAAE;gBACR,IAAI,CAAC,QAAQ,CAAC,gBAAgB,CAAC,IAAI,CAAC,CAAC;aACtC;SACF,EAAC,CAAC;KACJ;;;;;IAEO,yBAAyB;QAC/B,IAAI,CAAC,aAAa,CAAC,eAAe,CAAC,SAAS;;;;QAAC,CAAC,IAAS;YACrD,IAAI,CAAC,oBAAoB,CAAC,IAAI,CAAC,CAAC;SACjC,EAAC,CAAC;QACH,IAAI,CAAC,aAAa,CAAC,WAAW,CAAC,SAAS;;;;QAAC,CAAC,IAAS;YACjD,IAAI,CAAC,oBAAoB,CAAC,IAAI,CAAC,YAAY,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC;SAC/D,EAAC,CAAC;QAEH,OAAO,KAAK,CAAC;KACd;;;;;;;;IAKO,oBAAoB,CAAC,IAAI,EAAE,UAAU,GAAG,IAAI;;QAElD,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC;QAEzB,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,EAAE,CAAC;QACvC,IAAI,UAAU,EAAE;YACd,IAAI,CAAC,UAAU,GAAG,UAAU,CAAC;SAC9B;QACD,QAAQ,IAAI,CAAC,UAAU;YACrB,KAAK,mBAAmB,CAAC,SAAS;gBAChC,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,CAAC;gBAC7B,MAAM;YACR,KAAK,wBAAwB,CAAC,aAAa;gBACzC,IAAI,CAAC,QAAQ,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC;gBACnC,IAAI,CAAC,QAAQ,CAAC,yBAAyB,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;gBAC5D,MAAM;YACR,KAAK,wBAAwB,CAAC,gBAAgB;gBAC5C,IAAI,CAAC,4BAA4B,CAAC,IAAI,CAAC,CAAC,SAAS;;;;gBAAC,CAAC;oBACjD,IAAI,CAAC,EAAE;wBACL,IAAI,CAAC,QAAQ,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC;wBACnC,IAAI,CAAC,uBAAuB,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;qBAClD;oBACD,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,IAAI,CAAC,QAAQ,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC,CAAC;iBACjE,EAAC,CAAC;gBACH,MAAM;;;;;;;;;;;YAWR,KAAK,wBAAwB,CAAC,QAAQ;gBACpC,IAAI,CAAC,QAAQ,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC;gBACnC,MAAM;;YAER,KAAK,mBAAmB,CAAC,aAAa,CAAC;YACvC,KAAK,wBAAwB,CAAC,aAAa,CAAC;YAC5C,KAAK,2BAA2B,CAAC,aAAa,CAAC;YAC/C,KAAK,0BAA0B,CAAC,aAAa;gBAC3C,IAAI,IAAI,CAAC,aAAa,CAAC,WAAW,EAAE;oBAClC,IAAI,CAAC,QAAQ,CAAC,iBAAiB,CAAC,IAAI,CAAC,CAAC;oBACtC,MAAM;iBACP;gBACD,IAAI,CAAC,QAAQ,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC;gBACnC,MAAM;YACR,KAAK,mBAAmB,CAAC,SAAS;gBAChC,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC;gBAC3B,MAAM;YACR;gBACE,IAAI,CAAC,QAAQ,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC;gBACnC,MAAM;SACT;QACD,IAAI,CAAC,OAAO,CAAC,cAAc,CAAC,IAAI,CAAC,QAAQ,CAAC,aAAa,EAAE,CAAC,CAAC;QAC3D,IAAI,CAAC,OAAO,CAAC,eAAe,CAAC,IAAI,CAAC,QAAQ,CAAC,YAAY,EAAE,CAAC,CAAC;QAC3D,IAAI,CAAC,OAAO,CAAC,kBAAkB,CAAC,IAAI,CAAC,QAAQ,CAAC,eAAe,EAAE,CAAC,CAAC;QACjE,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,IAAI,CAAC,QAAQ,CAAC,YAAY,EAAE,CAAC,CAAC;QACxD,IAAG,IAAI,CAAC,QAAQ,CAAC,YAAY,EAAE,IAAI,SAAS,CAAC,WAAW,EAAE;YACxD,IAAI,CAAC,OAAO,CAAC,kBAAkB,GAAG,IAAI,CAAC,OAAO,CAAC,kBAAkB,CAAC,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,wBAAwB,CAAC,CAAC;SACjH;aAAK;YACJ,IAAI,CAAC,OAAO,CAAC,kBAAkB,GAAG,IAAI,CAAC,OAAO,CAAC,kBAAkB,CAAC,MAAM;;;;YAAC,CAAC,IAAI,IAAI,CAAC,OAAO,CAAC,wBAAwB,CAAC,IAAI;;;;YAAC,CAAC,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,GAAG,EAAC,EAAC,CAAA;SAC/I;QACD,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,IAAI,CAAC,QAAQ,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC,CAAC;KACjE;;;;;;;IAMO,iBAAiB,CAAC,IAAI;;cACtB,UAAU,GAAW,IAAI,CAAC,aAAa,CAAC,EAAE;QAChD,IAAI,UAAU,EAAE;YACd,IAAI,CAAC,SAAS,CAAC,mBAAmB,CAAC,UAAU,CAAC,CAAC,SAAS;;;;YAAC,CAAC,IAAkB;gBAC1E,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC;gBAC9B,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,gBAAgB,CAAC;gBAC9C,IAAI,CAAC,oBAAoB,GAAG,IAAI,CAAC,aAAa,CAAC;gBAC/C,IAAI,CAAC,YAAY,GAAG,EAAE,CAAC;gBACvB,IAAI,CAAC,WAAW,CAAC,OAAO;;;;gBAAC,IAAI;oBAC3B,IAAI,IAAI,CAAC,SAAS,EAAE;;;8BAEZ,YAAY,GAAG,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC;wBAClD,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC;qBAC5D;iBACF,EAAC,CAAC;gBACH,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,gBAAgB,CAAC,MAAM;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,KAAK,KAAK,IAAI,EAAC,CAAC,GAAG;;;;gBAAC,CAAC,KAAK;oBACpF,EAAE,EAAE,CAAC,CAAC,EAAE,EAAE,IAAI,EAAE,CAAC,CAAC,IAAI,EAAE,IAAI,EAAE,CAAC,CAAC,IAAI,EAAE,YAAY,EAAE,CAAC,CAAC,QAAQ;oBAC9D,gBAAgB,EAAE,CAAC,CAAC,gBAAgB,CAAC,GAAG;;;;oBAAC,CAAC,KAAK;wBAC7C,IAAI,EAAE,CAAC,CAAC,IAAI,EAAE,KAAK,EAAE,CAAC,CAAC,KAAK,EAAE,SAAS,EAAE,CAAC,CAAC,IAAI,EAAE,GAAG,EAAE,YAAY;qBACnE,CAAC,EAAC;iBACJ,CAAC,EAAC,CAAC;;gBAEJ,IAAI,CAAC,QAAQ,CAAC,iBAAiB,CAAC,IAAI,CAAC,aAAa,IAAI,EAAE,CAAC,CAAC;gBAC1D,IAAI,CAAC,OAAO,CAAC,SAAS,EAAE,CAAC,SAAS;;;;gBAAC,CAAC,IAAI;oBACtC,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;oBACpB,IAAI,CAAC,QAAQ,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC;oBAEnC,IAAI,CAAC,OAAO,CAAC,cAAc,CAAC,IAAI,CAAC,QAAQ,CAAC,aAAa,EAAE,CAAC,CAAC;oBAC3D,IAAI,CAAC,OAAO,CAAC,eAAe,CAAC,IAAI,CAAC,QAAQ,CAAC,YAAY,EAAE,CAAC,CAAC;oBAC3D,IAAI,CAAC,OAAO,CAAC,kBAAkB,CAAC,IAAI,CAAC,QAAQ,CAAC,eAAe,EAAE,CAAC,CAAC;oBACjE,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,IAAI,CAAC,QAAQ,CAAC,YAAY,EAAE,CAAC,CAAC;oBACxD,IAAG,IAAI,CAAC,QAAQ,CAAC,YAAY,EAAE,IAAI,SAAS,CAAC,WAAW,EAAE;wBACxD,IAAI,CAAC,OAAO,CAAC,kBAAkB,GAAG,IAAI,CAAC,OAAO,CAAC,kBAAkB,CAAC,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,wBAAwB,CAAC,CAAC;qBACjH;yBAAK;wBACJ,IAAI,CAAC,OAAO,CAAC,kBAAkB,GAAG,IAAI,CAAC,OAAO,CAAC,kBAAkB,CAAC,MAAM;;;;wBAAC,CAAC,IAAI,IAAI,CAAC,OAAO,CAAC,wBAAwB,CAAC,IAAI;;;;wBAAC,CAAC,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,GAAG,EAAC,EAAC,CAAA;qBAC/I;oBACD,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,IAAI,CAAC,QAAQ,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC,CAAC;iBACjE,EAAC,CAAC;aACJ,EAAC,CAAC;SACJ;KACF;;;;;IAED,eAAe,CAAC,IAAS;;cACjB,SAAS,GAAG,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,SAAS;;cACzC,cAAc,GAAG,SAAS,CAAC,cAAc,CAAC,oBAAoB,EAAE;QACtE,IAAI,cAAc,KAAK,IAAI,IAAI,cAAc,CAAC,MAAM,GAAG,CAAC,EAAE;;kBAClD,UAAU,sBAAG,cAAc,CAAC,MAAM;;;;YAAC,CAAC,IAAI,CAAC,YAAY,aAAa,EAAC,EAAmB;;gBACxF,WAAW,GAAG,UAAU,CAAC,CAAC,CAAC,CAAC,SAAS;YACzC,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,WAAW,CAAC,CAAC,SAAS;;;;YAAC,CAAC,UAAU;gBAC1D,IAAI,CAAC,OAAO,CAAC,SAAS,EAAE,CAAC,SAAS;;;;gBAAC,CAAC,OAAO;oBACzC,IAAI,CAAC,UAAU,GAAG,UAAU,CAAC;oBAC7B,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;oBAEvB,IAAI,CAAC,QAAQ,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC;oBAEnC,IAAI,CAAC,OAAO,CAAC,cAAc,CAAC,IAAI,CAAC,QAAQ,CAAC,aAAa,EAAE,CAAC,CAAC;oBAC3D,IAAI,CAAC,OAAO,CAAC,eAAe,CAAC,IAAI,CAAC,QAAQ,CAAC,YAAY,EAAE,CAAC,CAAC;oBAC3D,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,IAAI,CAAC,QAAQ,CAAC,YAAY,EAAE,CAAC,CAAC;oBACxD,IAAG,IAAI,CAAC,QAAQ,CAAC,YAAY,EAAE,IAAI,SAAS,CAAC,WAAW,EAAE;wBACxD,IAAI,CAAC,OAAO,CAAC,kBAAkB,GAAG,IAAI,CAAC,OAAO,CAAC,kBAAkB,CAAC,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,wBAAwB,CAAC,CAAC;qBACjH;yBAAK;wBACJ,IAAI,CAAC,OAAO,CAAC,kBAAkB,GAAG,IAAI,CAAC,OAAO,CAAC,kBAAkB,CAAC,MAAM;;;;wBAAC,CAAC,IAAI,IAAI,CAAC,OAAO,CAAC,wBAAwB,CAAC,IAAI;;;;wBAAC,CAAC,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,GAAG,EAAC,EAAC,CAAA;qBAC/I;oBACD,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,IAAI,CAAC,QAAQ,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC,CAAC;iBACjE,EAAC,CAAC;aACJ,EAAC,CAAC;SACJ;KACF;;;;;;IAEO,IAAI,CAAC,MAAc;;cACnB,WAAW,GAAG,IAAI,CAAC,QAAQ,CAAC,uBAAuB,CAAC,aAAa,CAAC;;cAClE,OAAO,GAAG,WAAW,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC;QAEjD,OAAO,CAAC,QAAQ,CAAC,MAAM,GAAG,MAAM,CAAC;;cAE3B,WAAW,GAAiB;YAChC,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,4BAA4B,CAAC;YAC9D,KAAK,EAAE,GAAG;YACV,MAAM,EAAE,GAAG;YACX,WAAW,EAAE,IAAI;YACjB,OAAO,EAAE,OAAO,CAAC,QAAQ,CAAC,MAAM;SACjC;;cACK,MAAM,GAAG,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,OAAO,EAAE,WAAW,CAAC;QAC3D,OAAO,CAAC,QAAQ,CAAC,MAAM,CAAC,SAAS;;;;QAAC,MAAM,IAAI,MAAM,CAAC,KAAK,EAAE,EAAC,CAAC;QAC5D,OAAO,CAAC,QAAQ,CAAC,MAAM,CAAC,SAAS;;;;QAAC,CAAC,IAAY;;YAE7C,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,SAAS,CAAC,cAAc,CAAC,aAAa,GAAG,IAAI,CAAC;YAClE,MAAM,CAAC,KAAK,EAAE,CAAC;SAChB,EAAC,CAAC;KACJ;;;;;IAEO,eAAe;QACrB,IAAI,IAAI,CAAC,IAAI,KAAK,WAAW,CAAC,EAAE,EAAE;YAChC,IAAI,IAAI,CAAC,WAAW,EAAE;gBACpB,IAAI,IAAI,CAAC,WAAW,CAAC,UAAU,KAAK,YAAY,CAAC,GAAG,IAAI,IAAI,CAAC,WAAW,CAAC,UAAU,EAAE;oBACnF,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,WAAW,CAAC,UAAU,CAAC,CAAC;iBAClD;qBAAM;;oBAEL,IAAI,CAAC,SAAS,CAAC,mBAAmB,CAAC,IAAI,CAAC,WAAW,CAAC,UAAU,CAAC,CAAC,SAAS;;;;oBAAC,CAAC,IAAkB;wBAC3F,IAAI,CAAC,QAAQ,CAAC,iBAAiB,CAAC,IAAI,CAAC,aAAa,IAAI,EAAE,CAAC,CAAC;wBAC1D,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,WAAW,CAAC,UAAU,CAAC,CAAC,SAAS;;;;wBAAC,EAAE;4BAC3D,IAAI,CAAC,OAAO,CAAC,OAAO,GAAG,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,SAAS,CAAC,EAAE,CAAC,CAAC,CAAC;4BAClE,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;yBACxC,EAAC,CAAC;qBACJ,EAAC,CAAC;iBACJ;aACF;iBAAM;gBACL,MAAM,IAAI,KAAK,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,wBAAwB,CAAC,CAAC,CAAC;aACtE;SACF;aAAM,IAAI,IAAI,CAAC,IAAI,KAAK,WAAW,CAAC,EAAE,EAAE;YACvC,IAAI,IAAI,CAAC,aAAa,EAAE;gBACtB,IAAI,CAAC,SAAS,CAAC,mBAAmB,CAAC,IAAI,CAAC,aAAa,CAAC,UAAU,CAAC,CAAC,SAAS;;;;gBAAC,CAAC,IAAkB;oBAC7F,IAAI,CAAC,QAAQ,CAAC,iBAAiB,CAAC,IAAI,CAAC,aAAa,IAAI,EAAE,CAAC,CAAC;oBAC1D,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,aAAa,CAAC,WAAW,CAAC,CAAC,SAAS;;;;oBAAC,EAAE;wBAC9D,IAAI,CAAC,OAAO,CAAC,OAAO,GAAG,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,SAAS,CAAC,EAAE,CAAC,CAAC,CAAC;wBAClE,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;qBACxC,EAAC,CAAC;iBACJ,EAAC,CAAC;aACJ;iBAAM;gBACL,MAAM,IAAI,KAAK,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,wBAAwB,CAAC,CAAC,CAAC;aACtE;SACF;KACF;;;;;;IAMD,cAAc,CAAC,IAAY;QACzB,IAAI,CAAC,SAAS,CAAC,mBAAmB,CAAC,IAAI,CAAC,CAAC,SAAS;;;;QAChD,CAAC,IAAkB;;kBACX,oBAAoB,GAAyB,IAAI,CAAC,aAAa;;kBAC/D,gBAAgB,GAAG,IAAI,CAAC,gBAAgB,CAAC,MAAM;;;;YAAC,CAAC,IAAI,CAAC,CAAC,KAAK,KAAK,IAAI,EAAC,CAAC,GAAG;;;;YAAC,CAAC,KAAK;gBACrF,EAAE,EAAE,CAAC,CAAC,EAAE,EAAE,IAAI,EAAE,CAAC,CAAC,IAAI,EAAE,IAAI,EAAE,CAAC,CAAC,IAAI,EAAE,YAAY,EAAE,CAAC,CAAC,QAAQ;gBAC9D,gBAAgB,EAAE,CAAC,CAAC,gBAAgB,CAAC,GAAG;;;;gBAAC,CAAC,KAAK;oBAC7C,IAAI,EAAE,CAAC,CAAC,IAAI,EAAE,KAAK,EAAE,CAAC,CAAC,KAAK,EAAE,SAAS,EAAE,CAAC,CAAC,IAAI,EAAE,GAAG,EAAE,YAAY;iBACnE,CAAC,EAAC;aACJ,CAAC,EAAC;;gBACC,YAAY,GAAuB,EAAE;YACzC,IAAI,CAAC,WAAW,CAAC,OAAO;;;;YAAC,IAAI;gBAC3B,IAAI,IAAI,CAAC,SAAS,EAAE;;;0BAEZ,KAAK,GAAG,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC;oBAC3C,YAAY,GAAG,YAAY,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;iBAC3C;aACF,EAAC,CAAC;;YAEH,IAAI,YAAY,CAAC,MAAM,KAAK,CAAC;mBACxB,YAAY,CAAC,SAAS;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,YAAY,KAAK,YAAY,CAAC,EAAE,EAAC,KAAK,CAAC,CAAC;mBACtE,YAAY,CAAC,SAAS;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,YAAY,KAAK,YAAY,CAAC,MAAM,EAAC,KAAK,CAAC,CAAC,EAAE;gBAC/E,IAAI,CAAC,SAAS,CAAC,2BAA2B,EAAE,CAAC,SAAS;;;;gBACpD,CAAC,WAAkB;oBACjB,IAAI,WAAW,IAAI,WAAW,CAAC,MAAM,GAAG,CAAC,EAAE;wBACzC,IAAI,YAAY,CAAC,SAAS;;;;wBAAC,CAAC,IAAI,CAAC,CAAC,YAAY,KAAK,YAAY,CAAC,EAAE,EAAC,KAAK,CAAC,CAAC,EAAE;;kCACpE,UAAU,GAAG,WAAW,CAAC,MAAM;;;;4BAAC,CAAC,IAAI,CAAC,CAAC,QAAQ,KAAK,IAAI,IAAI,CAAC,CAAC,MAAM,KAAK,CAAC,EAAC,CAAC,CAAC,CAAC;4BACpF,IAAI,UAAU,EAAE;gCACd,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,sBAAsB,CAAC,UAAU,CAAC,CAAC,CAAC;6BAC5D;yBACF;wBACD,IAAI,YAAY,CAAC,SAAS;;;;wBAAC,CAAC,IAAI,CAAC,CAAC,YAAY,KAAK,YAAY,CAAC,MAAM,EAAC,KAAK,CAAC,CAAC,EAAE;;kCACxE,UAAU,GAAG,WAAW,CAAC,MAAM;;;;4BAAC,CAAC,IAAI,CAAC,CAAC,QAAQ,KAAK,QAAQ,IAAI,CAAC,CAAC,MAAM,KAAK,CAAC,EAAC,CAAC,CAAC,CAAC;4BACxF,IAAI,UAAU,EAAE;gCACd,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,sBAAsB,CAAC,UAAU,CAAC,CAAC,CAAC;6BAC5D;yBACF;qBACF;;0BACK,WAAW,GAAG;wBAClB,IAAI,EAAE,IAAI,CAAC,WAAW,CAAC,WAAW;wBAClC,QAAQ,EAAE,IAAI,CAAC,WAAW,CAAC,QAAQ;wBACnC,IAAI,EAAE,IAAI;wBACV,MAAM,EAAE,IAAI,CAAC,WAAW,CAAC,YAAY;wBACrC,SAAS,EAAE,IAAI,CAAC,WAAW,CAAC,SAAS;wBACrC,gBAAgB,EAAE,IAAI,CAAC,gBAAgB;wBACvC,oBAAoB,EAAE,oBAAoB;wBAC1C,YAAY,EAAE,YAAY;wBAC1B,gBAAgB,EAAE,gBAAgB;wBAClC,kBAAkB,EAAE,IAAI,CAAC,QAAQ,CAAC,kBAAkB;qBACrD;oBACD,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,aAAa,IAAI,EAAE,EAAE,WAAW,CAAC,CAAC;iBAC7D,EACF,CAAC;aACH;iBAAM;;sBACC,WAAW,GAAG;oBAClB,IAAI,EAAE,IAAI,CAAC,WAAW,CAAC,WAAW;oBAClC,QAAQ,EAAE,IAAI,CAAC,WAAW,CAAC,QAAQ;oBACnC,IAAI,EAAE,IAAI;oBACV,MAAM,EAAE,IAAI,CAAC,WAAW,CAAC,YAAY;oBACrC,SAAS,EAAE,IAAI,CAAC,WAAW,CAAC,SAAS;oBACrC,gBAAgB,EAAE,IAAI,CAAC,gBAAgB;oBACvC,oBAAoB,EAAE,oBAAoB;oBAC1C,YAAY,EAAE,YAAY;oBAC1B,gBAAgB,EAAE,gBAAgB;oBAClC,kBAAkB,EAAE,IAAI,CAAC,QAAQ,CAAC,kBAAkB;iBACrD;gBACD,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,aAAa,IAAI,EAAE,EAAE,WAAW,CAAC,CAAC;aAC7D;SACF,EACF,CAAC;KACH;;;;;;IAED,eAAe,CAAC,aAAa,EAAE,WAAW;QACxC,IAAI,CAAC,OAAO,CAAC,SAAS,EAAE,CAAC,SAAS;;;;QAChC,CAAC,IAAS;;YAER,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE,CAAC;YACrB,IAAI,CAAC,oBAAoB,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;YACzC,IAAI,CAAC,QAAQ,CAAC,iBAAiB,CAAC,aAAa,IAAI,EAAE,CAAC,CAAC;YACrD,IAAI,CAAC,QAAQ,CAAC,eAAe,CAAC,WAAW,EAAE,IAAI,CAAC,CAAC;YAEjD,IAAI,CAAC,OAAO,CAAC,qBAAqB,CAAC,WAAW,CAAC,SAAS,EAAE,WAAW,CAAC,SAAS,EAAE,IAAI,CAAC,QAAQ,CAAC,aAAa,CAAC,CAAC,SAAS;;;;YACrH,CAAC,QAAa;;sBACN,KAAK,GAAG,EAAE;gBAChB,QAAQ,CAAC,OAAO;;;;gBAAC,CAAC;oBAChB,IAAI,CAAC,CAAC,CAAC,aAAa,IAAI,CAAC,CAAC,SAAS,MAAM,CAAC,CAAC,CAAC,aAAa,CAAC,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,aAAa,KAAK,GAAG;yBAC5H,CAAC,CAAC,SAAS,CAAC,OAAO,CAAC,WAAW,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,SAAS,KAAK,GAAG,CAAC,CAAC;yBACzE,CAAC,CAAC,SAAS,CAAC,OAAO,CAAC,WAAW,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,SAAS,KAAK,GAAG,CAAC,EAAE;wBAC3E,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;qBACf;iBACF,EAAC,CAAC;gBACH,IAAI,CAAC,QAAQ,CAAC,YAAY,GAAG,KAAK,CAAC;gBAGnC,IAAI,IAAI,CAAC,IAAI,EAAE;oBACb,IAAI,CAAC,IAAI,GAAG,KAAK,CAAC;oBAClB,IAAI,CAAC,YAAY,EAAE,CAAC;iBACrB;;gBAED,IAAI,CAAC,SAAS,CAAC,mBAAmB,CAAC,IAAI,CAAC,QAAQ,CAAC,mBAAmB,EAAE,CAAC,CAAC;;gBAExE,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,IAAI,CAAC,QAAQ,CAAC,YAAY,EAAE,CAAC,CAAC;gBACxD,IAAG,IAAI,CAAC,QAAQ,CAAC,YAAY,EAAE,IAAI,SAAS,CAAC,WAAW,EAAE;oBACxD,IAAI,CAAC,OAAO,CAAC,kBAAkB,GAAG,IAAI,CAAC,OAAO,CAAC,kBAAkB,CAAC,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,wBAAwB,CAAC,CAAC;iBACjH;qBAAK;oBACJ,IAAI,CAAC,OAAO,CAAC,kBAAkB,GAAG,IAAI,CAAC,OAAO,CAAC,kBAAkB,CAAC,MAAM;;;;oBAAC,CAAC,IAAI,IAAI,CAAC,OAAO,CAAC,wBAAwB,CAAC,IAAI;;;;oBAAC,CAAC,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,GAAG,EAAC,EAAC,CAAA;iBAC/I;gBACD,IAAI,CAAC,OAAO,CAAC,SAAS,GAAG,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,SAAS,CAAC;gBAEvD,IAAI,CAAC,4BAA4B,EAAE,CAAC;aACrC,EACF,CAAC;SACH,EACF,CAAC;KACH;;;;;IAED,WAAW,CAAC,OAAe;;;cAEnB,KAAK,GAAG,IAAI,SAAS,EAAE;QAC7B,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,CAAC;;cACtB,aAAa,uBAAI,KAAK,CAAC,cAAc,CAAC,oBAAoB,EAAE,CAAC,MAAM;;;;QAAC,CAAC,IAAI,CAAC,YAAY,aAAa,EAAC,CAAC,CAAC,CAAC,GAAkB;QAC/H,IAAI,CAAC,OAAO,CAAC,qBAAqB,CAAC,aAAa,CAAC,SAAS,EAAE,aAAa,CAAC,SAAS,EAAE,IAAI,CAAC,QAAQ,CAAC,aAAa,CAAC,CAAC,SAAS;;;;QACzH,CAAC,QAAa;;kBACN,KAAK,GAAG,EAAE;YAChB,QAAQ,CAAC,OAAO;;;;YAAC,CAAC;gBAChB,IAAI,CAAC,CAAC,CAAC,aAAa,IAAI,CAAC,CAAC,SAAS,MAAM,CAAC,CAAC,CAAC,aAAa,CAAC,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,aAAa,KAAK,GAAG;qBAC5H,CAAC,CAAC,SAAS,CAAC,OAAO,CAAC,aAAa,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,SAAS,KAAK,GAAG,CAAC,CAAC;qBAC3E,CAAC,CAAC,SAAS,CAAC,OAAO,CAAC,aAAa,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,SAAS,KAAK,GAAG,CAAC,EAAE;oBAC7E,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;iBACf;aACF,EAAC,CAAC;YACH,IAAI,CAAC,QAAQ,CAAC,YAAY,GAAG,KAAK,CAAC;;YAEnC,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE,CAAC;YACrB,IAAI,CAAC,oBAAoB,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;YACzC,IAAI,CAAC,QAAQ,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;YAGrC,IAAI,IAAI,CAAC,IAAI,EAAE;gBACb,IAAI,CAAC,IAAI,GAAG,KAAK,CAAC;gBAClB,IAAI,CAAC,YAAY,EAAE,CAAC;aACrB;;YAED,IAAI,CAAC,SAAS,CAAC,mBAAmB,CAAC,IAAI,CAAC,QAAQ,CAAC,mBAAmB,EAAE,CAAC,CAAC;;YAExE,IAAI,CAAC,OAAO,CAAC,cAAc,CAAC,IAAI,CAAC,QAAQ,CAAC,aAAa,EAAE,CAAC,CAAC;;YAE3D,IAAI,CAAC,OAAO,CAAC,eAAe,CAAC,IAAI,CAAC,QAAQ,CAAC,YAAY,EAAE,CAAC,CAAC;;YAE3D,IAAI,CAAC,OAAO,CAAC,kBAAkB,CAAC,IAAI,CAAC,QAAQ,CAAC,eAAe,EAAE,CAAC,CAAC;;YAEjE,IAAI,CAAC,OAAO,CAAC,mBAAmB,CAAC,IAAI,CAAC,QAAQ,CAAC,gBAAgB,EAAE,CAAC,CAAC;;YAEnE,IAAI,CAAC,OAAO,CAAC,wBAAwB,CAAC,IAAI,CAAC,QAAQ,CAAC,oBAAoB,EAAE,CAAC,CAAC;YAE5E,IAAI,CAAC,OAAO,CAAC,SAAS,GAAG,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,SAAS,CAAC;;YAGvD,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,IAAI,CAAC,QAAQ,CAAC,YAAY,EAAE,CAAC,CAAC;YACxD,IAAG,IAAI,CAAC,QAAQ,CAAC,YAAY,EAAE,IAAI,SAAS,CAAC,WAAW,EAAE;gBACxD,IAAI,CAAC,OAAO,CAAC,kBAAkB,GAAG,IAAI,CAAC,OAAO,CAAC,kBAAkB,CAAC,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,wBAAwB,CAAC,CAAC;aACjH;iBAAK;gBACJ,IAAI,CAAC,OAAO,CAAC,kBAAkB,GAAG,IAAI,CAAC,OAAO,CAAC,kBAAkB,CAAC,MAAM;;;;gBAAC,CAAC,IAAI,IAAI,CAAC,OAAO,CAAC,wBAAwB,CAAC,IAAI;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,GAAG,EAAC,EAAC,CAAA;aAC/I;YAED,IAAI,CAAC,4BAA4B,EAAE,CAAC;SACrC,EACF,CAAC;KACH;;;;;IAKD,4BAA4B;;;cAEpB,eAAe;;;QAAG;YACtB,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC;SAC1B,CAAA;QACD,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,KAAK,CAAC,WAAW,CAAC,OAAO,CAAC,MAAM,EAAE,eAAe,CAAC,CAAC;KACxE;;;;;;IAEO,OAAO,CAAC,IAAS;QACvB,IAAI,IAAI,CAAC,IAAI,KAAK,SAAS,EAAE;YAC3B,QAAQ,IAAI,CAAC,KAAK;gBAChB,KAAK,SAAS;oBACZ,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;oBACnC,MAAM;gBACR,KAAK,OAAO;oBACV,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;oBACjC,MAAM;gBACR,KAAK,UAAU;oBACb,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,IAAI,CAAC,OAAO;;;oBAAE;wBAClC,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,CAAC;qBAC7B,EAAC,CAAC;oBACH,MAAM;gBACR;oBACE,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;oBAChC,MAAM;aACT;SACF;aAAM,IAAI,IAAI,CAAC,IAAI,KAAK,QAAQ,EAAE;YACjC,QAAQ,IAAI,CAAC,KAAK;gBAChB,KAAK,SAAS;oBACZ,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;oBAClC,MAAM;gBACR,KAAK,OAAO;oBACV,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;oBAChC,MAAM;gBACR;oBACE,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;oBAC/B,MAAM;aACT;SACF;KACF;;;;;;IAEO,UAAU,CAAC,IAAS;QAC1B,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;QACtB,IAAI,CAAC,oBAAoB,EAAE,CAAC;KAC7B;;;;;;IAEO,gBAAgB,CAAC,IAAS;QAChC,QAAQ,IAAI,CAAC,MAAM;SAClB;KACF;;;;;;IAMD,cAAc,CAAC,EAAU;QACvB,IAAI,EAAE,EAAE;YACN,IAAI,IAAI,CAAC,IAAI,KAAK,WAAW,CAAC,EAAE,EAAE;gBAChC,OAAO,IAAI,CAAC,OAAO,CAAC,mBAAmB,CAAC,EAAE,CAAC,CAAC;aAC7C;iBAAM,IAAI,IAAI,CAAC,IAAI,KAAK,WAAW,CAAC,EAAE,EAAE;gBACvC,OAAO,IAAI,CAAC,OAAO,CAAC,oBAAoB,CAAC,EAAE,CAAC,CAAC;aAC9C;iBAAM;gBACL,MAAM,IAAI,KAAK,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,2BAA2B,CAAC,CAAC,CAAC;aACzE;SACF;KACF;;;;;;IAEO,IAAI,CAAC,OAAe;QAC1B,IAAI,CAAC,OAAO,CAAC,OAAO,GAAG,OAAO,CAAC;QAC/B,IAAI,CAAC,WAAW,EAAE,CAAC;;cACb,OAAO,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC;QAChD,IAAI,CAAC,QAAQ,EAAE,CAAC,SAAS;;;;QAAC,CAAC,IAAI;YAC7B,IAAI,CAAC,YAAY,EAAE,CAAC;;YAEpB,IAAI,CAAC,aAAa,GAAG,OAAO,CAAC,cAAc,CAAC,IAAI,CAAC;YACjD,IAAI,CAAC,MAAM,CAAC,OAAO,oBAAC;gBAClB,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,wBAAwB,CAAC;gBAC1D,GAAG,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,2BAA2B,CAAC;gBAC3D,OAAO,EAAE,IAAI;aACd,GAAkB,CAAC;YACpB,IAAI,IAAI,CAAC,IAAI,KAAK,WAAW,CAAC,EAAE,EAAE;gBAChC,IAAI,CAAC,SAAS,CAAC,eAAe,CAAC,UAAU,CAAC,oBAAoB,EAAE,IAAI,EAAE,OAAO,CAAC,cAAc,CAAC,GAAG,CAAC,CAAC;aACnG;iBAAM,IAAI,IAAI,CAAC,IAAI,KAAK,WAAW,CAAC,EAAE,EAAE;gBACvC,IAAI,CAAC,SAAS,CAAC,eAAe,CAAC,UAAU,CAAC,oBAAoB,EAAE,IAAI,EAAE,OAAO,CAAC,cAAc,CAAC,GAAG,CAAC,CAAC;aACnG;;YAED,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC;SAC1B;;;;QACC,CAAC,KAAwB;YACvB,IAAI,CAAC,YAAY,EAAE,CAAC;YACpB,IAAI,CAAC,MAAM,CAAC,KAAK,oBAAC;gBAChB,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,wBAAwB,CAAC;gBAC1D,GAAG,EAAE,KAAK,CAAC,KAAK,CAAC,OAAO;gBACxB,OAAO,EAAE,IAAI;aACd,GAAkB,CAAC;YACpB,IAAI,IAAI,CAAC,IAAI,KAAK,WAAW,CAAC,EAAE,EAAE;gBAChC,IAAI,CAAC,SAAS,CAAC,eAAe,CAAC,UAAU,CAAC,oBAAoB,EAAE,KAAK,EAAE,OAAO,CAAC,cAAc,CAAC,GAAG,CAAC,CAAC;aACpG;iBAAM,IAAI,IAAI,CAAC,IAAI,KAAK,WAAW,CAAC,EAAE,EAAE;gBACvC,IAAI,CAAC,SAAS,CAAC,eAAe,CAAC,UAAU,CAAC,oBAAoB,EAAE,KAAK,EAAE,OAAO,CAAC,cAAc,CAAC,GAAG,CAAC,CAAC;aACpG;SACF,EAAC,CAAC;KACN;;;;;;IAEO,OAAO,CAAC,OAAe;QAC7B,IAAI,CAAC,OAAO,CAAC,OAAO,GAAG,OAAO,CAAC;QAC/B,IAAI,CAAC,WAAW,EAAE,CAAC;QACnB,IAAI,CAAC,OAAO,CAAC,gBAAgB,EAAE,CAAC,SAAS;;;;QAAC,CAAC,MAAM;YAC/C,IAAI,MAAM,CAAC,YAAY,KAAK,MAAM,EAAE;;gBAElC,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE,IAAI,CAAC,WAAW,EAAE,CAAC,CAAC,CAAC,SAAS;;;;gBAAC,CAAC,EAAE;oBACjF,IAAI,CAAC,SAAS,CAAC,gBAAgB,CAAC,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,cAAc,CAAC,GAAG,CAAC,CAAC,SAAS;;;;oBAAC,CAAC,QAAQ;;8BACnF,UAAU,GAAG,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,IAAI,EAAE,QAAQ,CAAC,GAAG;;;;wBAAC,UAAU,IAAI;4BACjE,OAAO,IAAI,CAAC,OAAO,IAAI,CAAC,CAAA;yBACzB,EAAC,CAAC;;wBAEH,IAAI,CAAC,SAAS,CAAC,cAAc,CAAC,OAAO,EAAE,UAAU,KAAK,CAAC,QAAQ,GAAG,CAAC,GAAG,UAAU,CAAC,CAAC;wBAClF,IAAI,CAAC,YAAY,EAAE,CAAC;qBACrB,EAAC,CAAC;iBACJ,EAAC,CAAC;gBACH,IAAI,CAAC,MAAM,CAAC,OAAO,oBAAC;oBAClB,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,wBAAwB,CAAC;oBAC1D,GAAG,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,0BAA0B,CAAC;oBAC1D,OAAO,EAAE,IAAI;iBACd,GAAkB,CAAC;;sBACd,OAAO,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC;gBAChD,IAAI,CAAC,SAAS,CAAC,eAAe,CAAC,UAAU,CAAC,oBAAoB,EAAE,IAAI,EAAE,OAAO,CAAC,cAAc,CAAC,GAAG,CAAC,CAAC;aACnG;iBAAM;gBACL,IAAI,CAAC,SAAS,CAAC,aAAa,CAAC,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC,SAAS;;;;gBAAC,CAAC,IAAI;oBAChE,IAAI,CAAC,YAAY,EAAE,CAAC;oBACpB,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE,IAAI,CAAC,WAAW,EAAE,CAAC,CAAC,CAAC,SAAS;;;;oBAAC,CAAC,CAAC,QAAQ,EAAC,CAAC;oBAC5F,IAAI,CAAC,MAAM,CAAC,OAAO,oBAAC;wBAClB,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,wBAAwB,CAAC;wBAC1D,GAAG,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,8BAA8B,CAAC;wBAC9D,OAAO,EAAE,IAAI;qBACd,GAAkB,CAAC;;0BACd,OAAO,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC;oBAChD,IAAI,CAAC,SAAS,CAAC,eAAe,CAAC,UAAU,CAAC,oBAAoB,EAAE,IAAI,EAAE,OAAO,CAAC,cAAc,CAAC,GAAG,CAAC,CAAC;iBACnG;;;;gBACC,CAAC,CAAM;oBACL,IAAI,CAAC,YAAY,EAAE,CAAC;oBACpB,IAAI,CAAC,MAAM,CAAC,KAAK,oBAAC;wBAChB,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,wBAAwB,CAAC;wBAC1D,GAAG,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,2BAA2B,CAAC,GAAG,GAAG,CAAC,CAAC,KAAK,CAAC,OAAO,EAAE;wBAClF,OAAO,EAAE,IAAI;qBACd,GAAkB,CAAC;;0BACd,OAAO,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC;oBAChD,IAAI,CAAC,SAAS,CAAC,eAAe,CAAC,UAAU,CAAC,oBAAoB,EAAE,KAAK,EAAE,OAAO,CAAC,cAAc,CAAC,GAAG,CAAC,CAAC;iBACpG,EAAC,CAAC;aACN;SACF,EAAC,CAAC;KACJ;;;;;;IAKO,QAAQ;QACd,IAAI,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE;YACxB,IAAI,IAAI,CAAC,IAAI,KAAK,WAAW,CAAC,EAAE,EAAE;gBAChC,OAAO,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE,IAAI,CAAC,WAAW,EAAE,CAAC,CAAC,CAAC;aAC9E;iBAAM,IAAI,IAAI,CAAC,IAAI,KAAK,WAAW,CAAC,EAAE,EAAE;gBACvC,OAAO,IAAI,CAAC,SAAS,CAAC,aAAa,CAAC,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE,IAAI,CAAC,aAAa,CAAC,WAAW,CAAC,CAAC;aAC3F;iBAAM;gBACL,MAAM,IAAI,KAAK,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,2BAA2B,CAAC,CAAC,CAAC;aACzE;SACF;KACF;;;;IAED,WAAW;QACT,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,EAAE,SAAS,EAAE,MAAM,EAAE,OAAO,EAAE,EAAE,EAAE,IAAI,EAAE,CAAC,EAAE,CAAC,CAAC;KACpE;;;;IACD,YAAY;QACV,IAAI,CAAC,WAAW,CAAC,KAAK,EAAE,CAAC;KAC1B;;;;;;IAEO,kBAAkB,CAAC,IAAsB;;cACzC,YAAY,GAAG,IAAI,KAAK,EAAE;QAChC,IAAI,IAAI,CAAC,QAAQ,KAAK,SAAS,EAAE;;kBACzB,OAAO,GAAG,IAAI,gBAAgB,EAAE;YACtC,OAAO,CAAC,WAAW,GAAG,IAAI,CAAC,KAAK,CAAC;YACjC,OAAO,CAAC,YAAY,GAAG,IAAI,CAAC,YAAY,CAAC;YACzC,OAAO,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC;YACjC,OAAO,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC;YACzB,OAAO,CAAC,YAAY,GAAG,YAAY,CAAC,EAAE,CAAC;YACvC,IAAI,IAAI,CAAC,gBAAgB,IAAI,IAAI,CAAC,gBAAgB,CAAC,MAAM,GAAG,CAAC,EAAE;gBAC7D,OAAO,CAAC,gBAAgB,GAAG,IAAI,CAAC,gBAAgB,CAAC,GAAG;;;;gBAAC,CAAC,KAAK;oBACzD,IAAI,EAAE,CAAC,CAAC,IAAI;oBACZ,KAAK,EAAE,CAAC,CAAC,KAAK;iBACf,CAAC,EAAC,CAAC;aACL;YACD,YAAY,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;;kBACrB,OAAO,GAAG,IAAI,gBAAgB,EAAE;YACtC,OAAO,CAAC,WAAW,GAAG,IAAI,CAAC,KAAK,CAAC;YACjC,OAAO,CAAC,YAAY,GAAG,IAAI,CAAC,YAAY,CAAC;YACzC,OAAO,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC;YACjC,OAAO,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC;YACzB,OAAO,CAAC,YAAY,GAAG,YAAY,CAAC,MAAM,CAAC;YAC3C,IAAI,IAAI,CAAC,gBAAgB,IAAI,IAAI,CAAC,gBAAgB,CAAC,MAAM,GAAG,CAAC,EAAE;gBAC7D,OAAO,CAAC,gBAAgB,GAAG,IAAI,CAAC,gBAAgB,CAAC,GAAG;;;;gBAAC,CAAC,CAAM,MAAM;oBAChE,IAAI,EAAE,CAAC,CAAC,IAAI;oBACZ,GAAG,EAAE,CAAC,CAAC,SAAS,GAAG,CAAC,CAAC,SAAS,GAAG,aAAa,CAAC,gBAAgB,CAAC,CAAC,CAAC,KAAK,CAAC;oBACxE,KAAK,EAAE,CAAC,CAAC,KAAK;iBACf,CAAC,EAAC,CAAC;aACL;YACD,YAAY,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;SAC5B;aAAM;;kBACC,WAAW,GAAG,IAAI,gBAAgB,EAAE;YAC1C,WAAW,CAAC,WAAW,GAAG,IAAI,CAAC,KAAK,CAAC;YACrC,WAAW,CAAC,YAAY,GAAG,IAAI,CAAC,YAAY,CAAC;YAC7C,WAAW,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC;YACrC,WAAW,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC;YAC7B,QAAQ,IAAI,CAAC,QAAQ;gBACnB,KAAK,KAAK;oBACR,WAAW,CAAC,YAAY,GAAG,YAAY,CAAC,EAAE,CAAC;oBAC3C,MAAM;gBACR,KAAK,KAAK;oBACR,WAAW,CAAC,YAAY,GAAG,YAAY,CAAC,MAAM,CAAC;oBAC/C,MAAM;aACT;YACD,IAAI,IAAI,CAAC,gBAAgB,IAAI,IAAI,CAAC,gBAAgB,CAAC,MAAM,GAAG,CAAC,EAAE;gBAC7D,WAAW,CAAC,gBAAgB,GAAG,IAAI,CAAC,gBAAgB,CAAC,GAAG;;;;gBAAC,CAAC,CAAM,MAAM;oBACpE,IAAI,EAAE,CAAC,CAAC,IAAI;oBACZ,GAAG,EAAE,CAAC,CAAC,SAAS,GAAG,CAAC,CAAC,SAAS,GAAG,aAAa,CAAC,gBAAgB,CAAC,CAAC,CAAC,KAAK,CAAC;oBACxE,KAAK,EAAE,CAAC,CAAC,KAAK;iBACf,CAAC,EAAC,CAAC;aACL;YACD,YAAY,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;SAChC;QACD,OAAO,YAAY,CAAC;KACrB;;;;;;IACO,sBAAsB,CAAC,UAAU;;cACjC,IAAI,GAAG,IAAI,gBAAgB,EAAE;QACnC,IAAI,CAAC,EAAE,GAAG,aAAa,CAAC,iBAAiB,EAAE,CAAC;QAC5C,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;QACxB,IAAI,CAAC,YAAY,GAAG,UAAU,CAAC,EAAE,CAAC;QAClC,IAAI,CAAC,QAAQ,GAAG,GAAG,CAAC;QACpB,IAAI,CAAC,IAAI,GAAG,UAAU,CAAC,IAAI,CAAC;QAC5B,QAAQ,UAAU,CAAC,QAAQ;YACzB,KAAK,IAAI;gBACP,IAAI,CAAC,YAAY,GAAG,YAAY,CAAC,EAAE,CAAC;gBACpC,MAAM;YACR,KAAK,QAAQ;gBACX,IAAI,CAAC,YAAY,GAAG,YAAY,CAAC,MAAM,CAAC;gBACxC,MAAM;SACT;QACD,IAAI,UAAU,CAAC,aAAa,IAAI,UAAU,CAAC,aAAa,CAAC,MAAM,GAAG,CAAC,EAAE;YACnE,IAAI,CAAC,gBAAgB,GAAG,UAAU,CAAC,aAAa,CAAC,GAAG;;;;YAAC,CAAC,KAAK;gBACzD,IAAI,EAAE,CAAC,CAAC,IAAI;gBACZ,GAAG,EAAE,CAAC,CAAC,SAAS,GAAG,CAAC,CAAC,SAAS,GAAG,aAAa,CAAC,gBAAgB,CAAC,CAAC,CAAC,KAAK,CAAC;gBACxE,KAAK,EAAE,CAAC,CAAC,KAAK;aACf,CAAC,EAAC,CAAC;SACL;QACD,OAAO,IAAI,CAAC;KACb;;;;;;IAEO,uBAAuB,CAAC,QAAgB;QAE9C,IAAI,QAAQ,KAAK,IAAI,CAAC,OAAO,CAAC,gBAAgB,CAAC,CAAC,CAAC,CAAC,GAAG,EAAE;;;;;;;;;YAUrD,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,QAAQ,EAAE;;;sBAEjC,WAAW,GAAG,IAAI,CAAC,QAAQ,CAAC,uBAAuB,CAAC,iBAAiB,CAAC;;sBACtE,OAAO,GAAG,WAAW,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC;gBAEjD,OAAO,CAAC,QAAQ,CAAC,KAAK,GAAG,EAAE,CAAC;;;;sBAItB,WAAW,GAAiB,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC,QAAQ,CAAC,WAAW,EAC1E,EAAE,OAAO,EAAE,OAAO,CAAC,QAAQ,CAAC,WAAW,EAAE,CAAC;;sBACtC,MAAM,GAAG,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,OAAO,EAAE,WAAW,CAAC;gBAC3D,OAAO,CAAC,QAAQ,CAAC,UAAU,CAAC,SAAS;;;;gBAAC,MAAM,IAAI,MAAM,CAAC,KAAK,EAAE,EAAC,CAAC;gBAChE,OAAO,CAAC,QAAQ,CAAC,WAAW,CAAC,SAAS;;;;gBAAC,CAAC,IAAS;oBAC/C,IAAI,CAAC,oBAAoB,CAAC;wBACxB,UAAU,EAAE,mBAAmB;wBAC/B,UAAU,EAAE,wBAAwB,CAAC,QAAQ;wBAC7C,aAAa,EAAE,IAAI,CAAC,KAAK;qBAC1B,CAAC,CAAC;oBACH,MAAM,CAAC,KAAK,EAAE,CAAC;iBAChB,EAAC,CAAC;aACJ;;YAED,IAAI,oBAAC,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,YAAY,IAAkB,gBAAgB,KAAK,IAAI,EAAE;gBACtF,UAAU;;;gBAAC;oBACT,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,8BAA8B,CAAC,CAAC,CAAC;iBACjF,GAAE,GAAG,CAAC,CAAC;aACT;;SAEF;KACF;;;;;;IAEO,uBAAuB,CAAC,IAAS;;cACjC,WAAW,GAAG,IAAI,CAAC,QAAQ,CAAC,uBAAuB,CAAC,oBAAoB,CAAC;;cACzE,OAAO,GAAG,WAAW,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC;;YAC7C,QAAQ;QACZ,IAAI,IAAI,CAAC,EAAE,CAAC,OAAO,CAAC,eAAe,CAAC,GAAG,CAAC,CAAC,EAAE;YACzC,QAAQ,GAAG,eAAe,CAAC;SAC5B;aAAM;YACL,QAAQ,GAAG,cAAc,CAAC;SAC3B;QACD,IAAI,QAAQ,KAAK,eAAe,EAAE;YAChC,OAAO,CAAC,QAAQ,CAAC,KAAK,GAAG,EAAE,CAAC;;kBACtB,UAAU,GAAG,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,MAAM;;;;YAAC,CAAC,IAAI,CAAC,CAAC,EAAE,KAAK,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,EAAE;mBACxF,CAAC,CAAC,kBAAkB,KAAK,QAAQ;mBACjC,CAAC,CAAC,qBAAqB;mBACvB,CAAC,CAAC,qBAAqB,CAAC,QAAQ,KAAK,iBAAiB,EAAC;YAC5D,IAAI,UAAU,IAAI,UAAU,CAAC,MAAM,GAAG,CAAC,EAAE;gBACvC,OAAO,CAAC,QAAQ,CAAC,KAAK,GAAG,UAAU,CAAC,GAAG;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,EAAE,EAAC,CAAC;aACpD;iBAAM;gBACL,OAAO,CAAC,QAAQ,CAAC,KAAK,GAAG,IAAI,KAAK,EAAE,CAAC;aACtC;SACF;aAAM;YACL,OAAO,CAAC,QAAQ,CAAC,KAAK,GAAG,EAAE,CAAC;SAC7B;QACD,OAAO,CAAC,QAAQ,CAAC,QAAQ,GAAG,QAAQ,CAAC;;cAC/B,WAAW,GAAiB,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC,QAAQ,CAAC,WAAW,EAC1E,EAAE,OAAO,EAAE,OAAO,CAAC,QAAQ,CAAC,WAAW,EAAE,CAAC;;cACtC,MAAM,GAAG,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,OAAO,EAAE,WAAW,CAAC;QAC3D,OAAO,CAAC,QAAQ,CAAC,UAAU,CAAC,SAAS;;;;QAAC,MAAM,IAAI,MAAM,CAAC,KAAK,EAAE,EAAC,CAAC;QAChE,OAAO,CAAC,QAAQ,CAAC,WAAW,CAAC,SAAS;;;;QAAC,CAAC,IAAS;YAC/C,IAAI,CAAC,oBAAoB,CAAC;gBACxB,UAAU,EAAE,QAAQ,GAAG,AAAkB,gBAAgB,AAAqB;;gBAE9E,UAAU,EAAE,wBAAwB,CAAC,qBAAqB;gBAC1D,aAAa,EAAE,IAAI,CAAC,KAAK;aAC1B,CAAC,CAAC;YACH,MAAM,CAAC,KAAK,EAAE,CAAC;SAChB,EAAC,CAAC;KACJ;;;;;;;IAKO,4BAA4B,CAAC,IAAS;QAC5C,IAAI,IAAI,CAAC,IAAI,KAAK,WAAW,CAAC,EAAE,EAAE;YAChC,OAAO,IAAI,CAAC,SAAS,CAAC,4BAA4B,CAAC,IAAI,EAAE,IAAI,CAAC,aAAa,CAAC,CAAC;SAC9E;aAAM;YACL,OAAOA,IAAE,CAAC,IAAI,CAAC,CAAC;SACjB;KACF;;;;;;;;IAOO,iBAAiB,CAAC,OAAe;;cACjC,OAAO,GAAG,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC;;cAC7B,cAAc,GAAG,OAAO,CAAC,cAAc,CAAC,iBAAiB,CAAC,IAAI;;;;QAAC,CAAC,IAAI,CAAC,CAAC,SAAS,KAAK,kBAAkB,EAAC,CAAC,SAAS;QACvH,IAAI,IAAI,CAAC,IAAI,KAAK,WAAW,CAAC,EAAE,EAAE;YAChC,IAAI,cAAc,KAAK,IAAI,CAAC,WAAW,CAAC,UAAU,EAAE;gBAClD,OAAO,OAAO,CAAC;aAChB;iBAAM;gBACL,OAAO,CAAC,cAAc,CAAC,iBAAiB,CAAC,IAAI;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,SAAS,KAAK,kBAAkB,EAAC,CAAC,SAAS,GAAG,IAAI,CAAC,WAAW,CAAC,UAAU,CAAC;gBAC/H,OAAO,CAAC,cAAc,CAAC,iBAAiB,CAAC,IAAI;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,SAAS,KAAK,kBAAkB,EAAC,CAAC,UAAU,GAAG,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,QAAQ,CAAC,IAAI,CAAC;gBAC5I,OAAO,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC;aAChC;SACF;aAAM,IAAI,IAAI,CAAC,IAAI,KAAK,WAAW,CAAC,EAAE,EAAE;YACvC,IAAI,cAAc,KAAK,IAAI,CAAC,aAAa,CAAC,UAAU,EAAE;gBACpD,OAAO,OAAO,CAAC;aAChB;iBAAM;gBACL,OAAO,CAAC,cAAc,CAAC,iBAAiB,CAAC,IAAI;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,SAAS,KAAK,kBAAkB,EAAC,CAAC,SAAS,GAAG,IAAI,CAAC,aAAa,CAAC,UAAU,CAAC;gBACjI,OAAO,CAAC,cAAc,CAAC,iBAAiB,CAAC,IAAI;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,SAAS,KAAK,kBAAkB,EAAC,CAAC,UAAU,GAAG,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,QAAQ,CAAC,IAAI,CAAC;gBAC5I,OAAO,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC;aAChC;SACF;KACF;;;;;IAEM,cAAc,CAAC,KAAU;cACxB,EAAE,IAAI,GAAG,QAAQ,CAAC,KAAK,EAAE,SAAS,GAAG,GAAG,EAAE,UAAU,GAAG,EAAE,EAAE,GAAG,KAAK,IAAI,EAAE;QAC/E,IAAI,IAAI,KAAK,QAAQ,CAAC,KAAK,EAAE;YAC3B,IAAI,CAAC,UAAU,GAAG,SAAS,CAAC;YAC5B,IAAI,CAAC,eAAe,GAAG,SAAS,CAAC;SAClC;aAAM,IAAI,IAAI,KAAK,QAAQ,CAAC,OAAO,EAAE;YACpC,IAAI,CAAC,UAAU,GAAG,UAAU,CAAC;YAC7B,IAAI,CAAC,eAAe,GAAG,UAAU,CAAC;SACnC;KACF;;;;IAED,QAAQ;;cACA,KAAK,GAAG,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,SAAS;;cACrC,GAAG,GAAG,kBAAkB,CAAC,SAAS,CAAC,KAAK,EAAE,IAAI,CAAC,KAAK,CAAC;QAC3D,IAAI,GAAG,CAAC,KAAK,IAAI,KAAK,EAAE;YACtB,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;YAClB,OAAO;SACR;QACD,IAAI,GAAG,CAAC,WAAW,IAAI,GAAG,CAAC,WAAW,CAAC,MAAM,GAAG,CAAC,EAAE;YACjD,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC;SAClC;aAAM;YACL,IAAI,CAAC,mBAAmB,EAAE,CAAC;SAC5B;QACD,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,aAAa,EAAE,CAAC,CAAC;KAClC;;;;IACD,MAAM;QACJ,IAAI,EAAE,IAAI,CAAC,OAAO,CAAC,iBAAiB,KAAK,CAAC,IAAI,CAAC,OAAO,CAAC,qBAAqB;YAC1E,IAAI,CAAC,OAAO,CAAC,aAAa,KAAK,IAAI,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,qBAAqB,CAAC,CAAC,CAAC,EAAE;YACjF,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,kCAAkC,CAAC,CAAC,CAAC;YACjF,OAAO;SACR;;cACK,KAAK,GAAG,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,SAAS;;cACrC,GAAG,GAAG,kBAAkB,CAAC,SAAS,CAAC,KAAK,EAAE,IAAI,CAAC,KAAK,CAAC;QAC3D,IAAI,GAAG,CAAC,KAAK,IAAI,KAAK,EAAE;YACtB,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;YAClB,OAAO;SACR;QACD,IAAI,GAAG,CAAC,WAAW,IAAI,GAAG,CAAC,WAAW,CAAC,MAAM,GAAG,CAAC,EAAE;YACjD,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC;SAClC;aAAM;YACL,IAAI,CAAC,mBAAmB,EAAE,CAAC;SAC5B;;cACK,OAAO,GAAG,IAAI,SAAS,EAAE;QAC/B,OAAO,CAAC,YAAY,CAAC,KAAK,CAAC,aAAa,EAAE,CAAC,CAAC;QAC5C,OAAO,CAAC,cAAc,CAAC,GAAG,GAAG,aAAa,CAAC,iBAAiB,EAAE,CAAC;QAC/D,OAAO,CAAC,cAAc,CAAC,EAAE,GAAG,aAAa,CAAC,iBAAiB,EAAE,CAAC;QAC9D,OAAO,CAAC,cAAc,CAAC,SAAS,CAAC,aAAa,GAAG,OAAO,CAAC,cAAc,CAAC,EAAE,CAAC;QAC3E,IAAI,CAAC,SAAS,CAAC,aAAa,CAAC,OAAO,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;KACzD;;;;IACD,WAAW;;cACH,KAAK,GAAG,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,SAAS;;cACrC,GAAG,GAAG,kBAAkB,CAAC,SAAS,CAAC,KAAK,EAAE,IAAI,CAAC,KAAK,CAAC;QAC3D,IAAI,GAAG,CAAC,KAAK,IAAI,KAAK,EAAE;YACtB,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;YAClB,OAAO;SACR;QACD,IAAI,GAAG,CAAC,WAAW,IAAI,GAAG,CAAC,WAAW,CAAC,MAAM,GAAG,CAAC,EAAE;YACjD,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC;SAClC;aAAM;YACL,IAAI,CAAC,mBAAmB,EAAE,CAAC;SAC5B;QACD,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,aAAa,EAAE,CAAC,CAAC;KACrC;;;;IACD,IAAI;;cACI,KAAK,GAAG,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,SAAS;;cACrC,GAAG,GAAG,kBAAkB,CAAC,SAAS,CAAC,KAAK,EAAE,IAAI,CAAC,KAAK,CAAC;QAC3D,IAAI,GAAG,CAAC,KAAK,IAAI,KAAK,EAAE;YACtB,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;YAClB,OAAO;SACR;QACD,IAAI,GAAG,CAAC,WAAW,IAAI,GAAG,CAAC,WAAW,CAAC,MAAM,GAAG,CAAC,EAAE;YACjD,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC;SAClC;aAAM;YACL,IAAI,CAAC,mBAAmB,EAAE,CAAC;SAC5B;QACD,IAAI,CAAC,SAAS,CAAC,aAAa,CAAC,KAAK,CAAC,aAAa,EAAE,EAAE,IAAI,CAAC,aAAa,CAAC,CAAC;KACzE;;;;IACD,UAAU;;cACF,MAAM,GAAG,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,SAAS,CAAC,cAAc,CAAC,aAAa;QACzE,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;KACnB;;;;IACD,QAAQ;;cACA,WAAW,GAAG,IAAI,CAAC,QAAQ,CAAC,uBAAuB,CAAC,2BAA2B,CAAC;;cAChF,OAAO,GAAG,WAAW,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC;;cAC3C,WAAW,GAAiB;YAChC,KAAK,EAAE,MAAM;YACb,KAAK,EAAE,GAAG;YACV,MAAM,EAAE,GAAG;YACX,WAAW,EAAE,IAAI;YACjB,OAAO,EAAE,OAAO,CAAC,QAAQ,CAAC,MAAM;SACjC;;cACK,MAAM,GAAG,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,OAAO,EAAE,WAAW,CAAC;QAC3D,OAAO,CAAC,QAAQ,CAAC,MAAM,CAAC,SAAS;;;;QAAC,MAAM,IAAI,MAAM,CAAC,KAAK,EAAE,EAAC,CAAC;QAC5D,OAAO,CAAC,QAAQ,CAAC,MAAM,CAAC,SAAS;;;;QAAC,CAAC,IAAY;YAC7C,MAAM,CAAC,KAAK,EAAE,CAAC;SAChB,EAAC,CAAC;KACJ;;;;IACD,SAAS;;QAEP,IAAI,IAAI,CAAC,WAAW,EAAE;YACpB,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,0BAA0B,CAAC,EAC1E,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,0BAA0B,CAAC,CAAC,CAAC,SAAS;;;;YAC9D,CAAC,CAAC;gBACA,IAAI,CAAC,EAAE;oBACL,IAAI,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC;iBACnB;aACF,EACF,CAAC;SACH;aAAM;YACL,IAAI,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC;SACnB;KACF;;;;IACD,aAAa;;cACL,WAAW,GAAiB;YAChC,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,yBAAyB,CAAC;YAC3D,KAAK,EAAE,GAAG;YACV,MAAM,EAAE,GAAG;YACX,WAAW,EAAE,KAAK;SACnB;;QAED,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,sBAAsB,CAAC,CAAC,CAAC;QACvE,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,SAAS,CAAC,aAAa,EAAE,CAAC,CAAC;QACzD,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,SAAS,CAAC,aAAa,EAAE,EAAE,WAAW,CAAC,CAAC;KACpF;;;;;;IAID,MAAM,CAAC,KAAK;QACV,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC;QAEnC,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,OAAO,EAAE,CAAC;KAChD;;;;;IAGD,oBAAoB;QAClB,IAAI,CAAC,SAAS,CAAC,KAAK,EAAE,CAAC;QACvB,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,SAAS,CAAC,YAAY,CAAC;YACjD,MAAM,EAAE,IAAI,CAAC,SAAS;YACtB,UAAU,EAAE,IAAI,CAAC,SAAS;YAC1B,UAAU,EAAE,IAAI,CAAC,WAAW;YAC5B,QAAQ,EAAE,IAAI;YACd,QAAQ,EAAE,gBAAgB;YAC1B,oBAAoB,EAAE,IAAI,CAAC,QAAQ;SACpC,CAAC,CAAC;QACH,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,eAAe,CAAC,cAAc,CAAC,SAAS;;;;QAAC,CAAC;YAC9D,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;SAChB,EAAC,CAAC;QACH,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,eAAe,CAAC,cAAc,CAAC,SAAS;;;;QAAC,CAAC;YAC/D,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;SAChB,EAAC,CAAC;KACJ;;;;IAEM,mBAAmB;QACxB,IAAI,CAAC,SAAS,GAAG,EAAE,CAAC;QACpB,IAAI,IAAI,CAAC,SAAS,EAAE;YAClB,IAAI,CAAC,SAAS,CAAC,KAAK,EAAE,CAAC;SACxB;KACF;;;;;IAED,IAAI,CAAC,IAAI;;cACD,EAAE,GAAG,QAAQ,CAAC,aAAa,CAAC,OAAO,CAAC;QAC1C,EAAE,CAAC,YAAY,CAAC,OAAO,EAAE,IAAI,CAAC,CAAA;QAC9B,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,EAAE,CAAC,CAAA;QAC7B,EAAE,CAAC,MAAM,EAAE,CAAA;QACX,QAAQ,CAAC,WAAW,CAAC,MAAM,CAAC,CAAA;QAC5B,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,EAAE,CAAC,CAAA;KAC9B;;;YA7nCF,SAAS,SAAC;gBACT,QAAQ,EAAE,mBAAmB;gBAC7B,irHAAiD;gBAQjD,SAAS,EAAE;oBACT,EAAE,OAAO,EAAE,iBAAiB,EAAE,QAAQ,MAAkC,EAAE;oBAC1E,YAAY;iBACb;yBAVQ;;;;;MAKL;aAML;;;;YAxDQ,sBAAsB;YAEtB,wBAAwB;YAMxB,0BAA0B;YAC1B,cAAc;YACd,aAAa;YACb,eAAe;YACf,uBAAuB;YAd0B,QAAQ;YAQ3C,cAAc;YAR+B,wBAAwB;YAyBnF,eAAe;YAzBwI,iBAAiB,uBAwJ5K,QAAQ;yCACR,MAAM,SAAC,SAAS;4CAChB,MAAM,SAAC,iBAAiB;YAjHD,YAAY,uBAkHnC,QAAQ;;;kBA5FV,WAAW,SAAC,OAAO;mBAInB,KAAK;0BASL,KAAK;4BAGL,KAAK;qBAGL,KAAK;mBAGL,KAAK;oBAGL,KAAK;uBAQL,KAAK;oBAGL,MAAM;4BAEN,SAAS,SAAC,eAAe;uBAEzB,SAAS,SAAC,UAAU;qBAEpB,SAAS,SAAC,QAAQ;wBAYlB,SAAS,SAAC,SAAS;kCAWnB,SAAS,SAAC,mBAAmB;mCAE7B,SAAS,SAAC,mBAAmB,EAAE,EAAE,IAAI,EAAE,gBAAgB,EAAE;;;;;;;;;;;;AClI5D,MAgBa,8BAA8B;;;;;;;IA4CzC,YACsB,GAAsB,EACf,QAAgB,EACR,SAAc,EAC7B,UAAwB;QAHxB,QAAG,GAAH,GAAG,CAAmB;QACf,aAAQ,GAAR,QAAQ,CAAQ;QACR,cAAS,GAAT,SAAS,CAAK;QAC7B,eAAU,GAAV,UAAU,CAAc;QA9C9C,QAAG,GAAG,8BAA8B,CAAC;QAC3B,eAAU,GAAG,IAAI,YAAY,EAAO,CAAC;QACrC,gBAAW,GAAG,IAAI,YAAY,EAAO,CAAC;QAoBhD,sBAAiB,GAAG,KAAK,CAAC;QAE1B,uBAAkB,GAAG;YACnB,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,uCAAuC,CAAC,EAAE,KAAK,EAAE,aAAa,EAAE;YAClG,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,2CAA2C,CAAC,EAAE,KAAK,EAAE,iBAAiB,EAAE;SAAC,CAAC;QAC9G,aAAQ,GAAG,aAAa,CAAC;QAEzB,gCAA2B,GAAG;YAC5B,EAAE,KAAK,EAAE,QAAQ,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,kCAAkC,CAAC,EAAE,KAAK,EAAE,QAAQ,EAAE;YACzG,EAAE,KAAK,EAAE,MAAM,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,uCAAuC,CAAC,EAAE,KAAK,EAAE,aAAa,EAAE;YACjH,EAAE,KAAK,EAAE,YAAY,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,6CAA6C,CAAC,EAAE,KAAK,EAAE,mBAAmB,EAAE;SAAC,CAAC;QACvI,sBAAiB,GAAG,IAAI,CAAC,2BAA2B,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC;QAC9D,oBAAe,GAAG,KAAK,CAAC;QAExB,gBAAW,GAAG;YACZ,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,2CAA2C,CAAC;YAC7E,KAAK,EAAE,GAAG;YACV,MAAM,EAAE,GAAG;YACX,WAAW,EAAE,IAAI;SAClB,CAAC;QAOA,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,IAAI,IAAI,YAAY,CAAC,QAAQ,EAAE,SAAS,CAAC,CAAC;KAC3E;;;;;IA3CF,IACI,KAAK,CAAC,CAAwB;QAChC,IAAI,CAAC,yBAAyB,GAAG,IAAI,SAAS,CAAC;YAC7C,WAAW,EAAE,IAAI,WAAW,CAAC,CAAC,CAAC,WAAW,CAAC;YAC3C,SAAS,EAAE,IAAI,WAAW,CAAC,CAAC,CAAC,SAAS,CAAC;SACxC,CAAC,CAAC;QACH,IAAI,CAAC,QAAQ,GAAG,CAAC,CAAC,QAAQ,IAAI,aAAa,CAAC;QAC5C,IAAI,CAAC,iBAAiB,GAAG,CAAC,CAAC,iBAAiB,IAAI,KAAK,CAAC;QACtD,IAAI,CAAC,CAAC,WAAW,EAAE;YACjB,IAAI,CAAC,iBAAiB,GAAG,CAAC,CAAC,WAAW,CAAC,iBAAiB,CAAC;YACzD,IAAI,CAAC,eAAe,GAAG,CAAC,CAAC,WAAW,CAAC,eAAe,CAAC;SACtD;KACF;;;;IAiCD,QAAQ;KACP;;;;IAED,OAAO;QACL,IAAI,CAAC,MAAM,GAAG;YACZ,QAAQ,EAAE,IAAI,CAAC,QAAQ;YACvB,WAAW,EAAE,IAAI,CAAC,yBAAyB,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC,KAAK;YACpE,SAAS,EAAE,IAAI,CAAC,yBAAyB,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC,KAAK;YAChE,iBAAiB,EAAE,IAAI,CAAC,iBAAiB;SAC1C,CAAC;QACF,IAAI,IAAI,CAAC,iBAAiB,IAAI,IAAI,CAAC,iBAAiB,KAAK,IAAI,CAAC,2BAA2B,CAAC,CAAC,CAAC,CAAC,KAAK,EAAE;;kBAC5F,SAAS,GAAG,IAAI,0BAA0B,EAAE;YAClD,SAAS,CAAC,WAAW,GAAGS,aAAW,CAAC,UAAU,CAAC;YAC/C,SAAS,CAAC,iBAAiB,sBAAG,IAAI,CAAC,iBAAiB,EAAqB,CAAC;YAC1E,SAAS,CAAC,cAAc,GAAG,IAAI,CAAC,2BAA2B,CAAC,IAAI;;;;YAAC,CAAC,IAAI,CAAC,CAAC,KAAK,KAAK,IAAI,CAAC,iBAAiB,EAAC,CAAC,KAAK,CAAC;YAChH,SAAS,CAAC,gBAAgB,GAAG,IAAI,CAAC,2BAA2B,CAAC,IAAI;;;;YAAC,CAAC,IAAI,CAAC,CAAC,KAAK,KAAK,IAAI,CAAC,iBAAiB,EAAC,CAAC,IAAI,CAAC;YACjH,SAAS,CAAC,eAAe,GAAG,IAAI,CAAC,eAAe,CAAC;YACjD,SAAS,CAAC,GAAG,GAAG,UAAU,CAAC;YAC3B,IAAI,CAAC,MAAM,CAAC,WAAW,GAAG,SAAS,CAAC;SACrC;;cACK,MAAM,GAAG,EAAE,KAAK,EAAE,IAAI,CAAC,MAAM,EAAE,UAAU,EAAE,IAAI,EAAE;QACvD,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;KAC/B;;;;IAED,WAAW;QACT,IAAI,CAAC,UAAU,CAAC,IAAI,EAAE,CAAC;KACxB;;;;;IAED,WAAW,CAAC,KAAU;QACpB,QAAQ,KAAK,CAAC,KAAK;YACjB,KAAK,IAAI,CAAC,2BAA2B,CAAC,CAAC,CAAC,CAAC,KAAK;gBAC5C,IAAI,CAAC,eAAe,GAAG,KAAK,CAAC;gBAC7B,MAAM;YACR,KAAK,IAAI,CAAC,2BAA2B,CAAC,CAAC,CAAC,CAAC,KAAK;gBAC5C,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;gBAC5B,MAAM;YACR,KAAK,IAAI,CAAC,2BAA2B,CAAC,CAAC,CAAC,CAAC,KAAK;gBAC5C,IAAI,CAAC,eAAe,GAAG,KAAK,CAAC;gBAC7B,MAAM;SACT;KACF;;;YArGF,SAAS,SAAC;gBACT,QAAQ,EAAE,6BAA6B;gBACvC,6uUAAuD;gBAEvD,SAAS,EAAE;oBACR,YAAY;iBACd;;aACF;;;;YAfuG,iBAAiB,uBA6DpH,QAAQ;yCACR,MAAM,SAAC,SAAS;4CAChB,MAAM,SAAC,iBAAiB;YA1DD,YAAY,uBA2DnC,QAAQ;;;kBA/CV,WAAW,SAAC,OAAO;yBAEnB,MAAM;0BACN,MAAM;oBAIN,KAAK;0BAcL,SAAS,SAAC,kBAAkB;;;;;;;ACtC/B,MAGa,aAAa;;;;;;IACtB,SAAS,CAAC,KAAY,EAAE,MAAc;QAClC,OAAO,KAAK,CAAC,MAAM;;;;QAAC,IAAI,IAAI,IAAI,CAAC,EAAE,KAAK,MAAM,EAAC,CAAC;KACnD;;;YAJJ,IAAI,SAAC,EAAC,IAAI,EAAE,eAAe,EAAC;;;;;;;ACF7B,MAIa,aAAa;IACtB,iBAAiB;;;;;;IACjB,SAAS,CAAC,KAAwB,EAAE,UAAU,GAAG,EAAE;;YAC3C,CAAC,GAAG,EAAE;QACV,KAAK,CAAC,OAAO;;;;QAAC,CAAC;YACX,CAAC,IAAI,CAAC,CAAC,aAAa,GAAG,GAAG,CAAC;SAC9B,EAAC,CAAC;QACH,IAAI,CAAC,EAAE;YACH,CAAC,GAAG,CAAC,CAAC,SAAS,CAAC,CAAC,EAAE,CAAC,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;SACpC;QACD,OAAO,CAAC,GAAG,CAAC,GAAG,UAAU,CAAC;KAC7B;;;YAZJ,IAAI,SAAC,EAAE,IAAI,EAAE,WAAW,EAAE;;;;AAe3B,MAAa,WAAW;IACpB,iBAAiB;;;;;;IACjB,SAAS,CAAC,KAAwB,EAAE,UAAU,GAAG,EAAE;;YAC3C,CAAC,GAAG,EAAE;QACV,KAAK,CAAC,OAAO;;;;QAAC,CAAC;YACX,CAAC,IAAI,CAAC,CAAC,WAAW,GAAG,GAAG,CAAC;SAC5B,EAAC,CAAC;QACH,IAAI,CAAC,EAAE;YACH,CAAC,GAAG,CAAC,CAAC,SAAS,CAAC,CAAC,EAAE,CAAC,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;SACpC;QACD,OAAO,CAAC,GAAG,CAAC,GAAG,UAAU,CAAC;KAC7B;;;YAZJ,IAAI,SAAC,EAAE,IAAI,EAAE,SAAS,EAAE;;;;;;;;;AChBzB;MAcM,8BAA8B,GAAe;IAC/C,sBAAsB;IACtB,wBAAwB;IACxB,oBAAoB;IACpB,uBAAuB;IACvB,mBAAmB;IACnB,mBAAmB;IACnB,iBAAiB;IACjB,sBAAsB;IACtB,qBAAqB;IACrB,8BAA8B;IAC9B,uBAAuB;IACvB,uBAAuB;CAC1B;AACD;MAeM,iCAAiC,GAAe;IAClD,0BAA0B;CAC7B;AACD;MAIM,+BAA+B,GAAe,EACnD;;;;;;ACpDD,MAoBa,+BAA+B;;;;;;;;;;;;IAyB1C,YACU,OAAwB,EACxB,IAAmB,EACnB,IAAiB,EACjB,aAAqC,EACrC,IAAuB,EACX,GAAsB,EACf,QAAgB,EACR,SAAc,EAC7B,UAAwB;QARpC,YAAO,GAAP,OAAO,CAAiB;QACxB,SAAI,GAAJ,IAAI,CAAe;QACnB,SAAI,GAAJ,IAAI,CAAa;QACjB,kBAAa,GAAb,aAAa,CAAwB;QACrC,SAAI,GAAJ,IAAI,CAAmB;QACX,QAAG,GAAH,GAAG,CAAmB;QACf,aAAQ,GAAR,QAAQ,CAAQ;QACR,cAAS,GAAT,SAAS,CAAK;QAC7B,eAAU,GAAV,UAAU,CAAc;QAhC9C,QAAG,GAAG,8BAA8B,CAAC;QAS3B,eAAU,GAAG,IAAI,YAAY,EAAO,CAAC;QACrC,gBAAW,GAAG,IAAI,YAAY,EAAO,CAAC;QAGhD,gBAAW,GAAG;YACZ,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,oCAAoC,CAAC;YACtE,KAAK,EAAE,GAAG;YACV,MAAM,EAAE,GAAG;YACX,WAAW,EAAE,IAAI;SAClB,CAAC;QAEF,2BAAsB,GAA2B,IAAIW,wBAAsB,EAAE,CAAC;QAE9E,cAAS,GAAG,sCAAsC,CAAC;QAYjD,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,IAAI,IAAI,YAAY,CAAC,QAAQ,EAAE,SAAS,CAAC,CAAC;KAC3E;;;;;IAjCF,IAAa,KAAK,CAAC,CAAyB;QAC1C,IAAI,CAAC,EAAE;YACL,IAAI,CAAC,sBAAsB,GAAG,CAAC,CAAC;YAChC,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,sBAAsB,CAAC,aAAa,CAAC,CAAC;YACjE,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,sBAAsB,CAAC,eAAe,CAAC,CAAC;SAC/D;KACF;;;;IA6BD,QAAQ;KACP;;;;IAGD,OAAO;QACL,IAAI,IAAI,CAAC,SAAS,EAAE,EAAE;;kBACd,MAAM,GAAG,EAAE,KAAK,EAAE,IAAI,CAAC,sBAAsB,EAAE,UAAU,EAAE,IAAI,EAAE;YACvE,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;SAC/B;KACF;;;;IAED,WAAW;QACT,IAAI,CAAC,UAAU,CAAC,IAAI,EAAE,CAAC;KACxB;;;;;IAED,cAAc,CAAC,IAAS;QACtB,IAAI,IAAI,EAAE;YACR,IAAI,CAAC,sBAAsB,CAAC,aAAa,GAAG,IAAI,CAAC,UAAU,CAAC;YAC5D,IAAI,CAAC,sBAAsB,CAAC,iBAAiB,GAAG,IAAI,CAAC,IAAI,CAAC;SAC3D;KACF;;;;;IACD,eAAe,CAAC,IAAS;QACvB,IAAI,CAAC,sBAAsB,CAAC,aAAa,GAAG,EAAE,CAAC;QAC/C,IAAI,CAAC,sBAAsB,CAAC,iBAAiB,GAAG,EAAE,CAAC;KACpD;;;;;IAED,eAAe,CAAC,IAAS;QACvB,IAAI,IAAI,EAAE;YACR,IAAI,CAAC,sBAAsB,CAAC,eAAe,GAAG,IAAI,CAAC,EAAE,CAAC;YACtD,IAAI,CAAC,sBAAsB,CAAC,gBAAgB,GAAG,IAAI,CAAC,IAAI,CAAC;SAC1D;KACF;;;;;IACD,aAAa,CAAC,IAAS;QACrB,IAAI,CAAC,sBAAsB,CAAC,eAAe,GAAG,EAAE,CAAC;QACjD,IAAI,CAAC,sBAAsB,CAAC,gBAAgB,GAAG,EAAE,CAAC;KACnD;;;;IAED,YAAY;QACV,IAAI,CAAC,YAAY,EAAE,CAAC;KACrB;;;;;IAEO,YAAY;;YACd,OAAO,GAAG,IAAI,KAAK,EAAa;;;;;QAKpC,IAAI,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE;YACzC,KAAK,MAAM,MAAM,IAAI,IAAI,CAAC,aAAa,CAAC,OAAO,EAAE;gBAC/C,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,QAAQ,EAAE,MAAM,CAAC,CAAC;aACvC;YACD,IAAI,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,WAAW,IAAI,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC,MAAM,GAAG,CAAC,EAAE;;sBAC/F,UAAU,GAAG,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC;gBAC/D,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,UAAU,CAAC,IAAI,EAAE,QAAQ,EACnD,UAAU,CAAC,IAAI,EAAE,YAAY,CAAC,UAAU,CAAC,CAAC;aAC7C;SACF;QACD,OAAO,GAAG,IAAI,CAAC,aAAa,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC;QACjD,IAAI,IAAI,CAAC,aAAa,CAAC,kBAAkB,CAAC,MAAM,GAAG,CAAC,EAAE;YACpD,KAAK,MAAM,QAAQ,IAAI,IAAI,CAAC,aAAa,CAAC,kBAAkB,EAAE;gBAC5D,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;;aAExB;SACF;QACD,IAAI,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE;YACtB,KAAK,MAAM,CAAC,IAAI,OAAO,EAAE;gBACvB,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;aACzB;SACF;QACD,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,sBAAsB,CAAC,SAAS,CAAC,CAAC;QACnE,IAAI,CAAC,IAAI,CAAC,eAAe,EAAE,CAAC,IAAI;;;;QAAC,CAAC,cAAsB;YACtD,IAAI,CAAC,sBAAsB,CAAC,SAAS,GAAG,cAAc,CAAC;;YAEvD,IAAG,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE;gBACrB,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,eAAe,GAAG,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,eAAe,CAAC,MAAM;;;;gBAAC,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI;;;;gBAAC,CAAC,IAAI,CAAC,CAAC,GAAG,KAAK,CAAC,CAAC,GAAG,EAAC,EAAC,CAAC;aAC9H;SACF,EAAC,CAAC;KACJ;;;;;IAED,WAAW,CAAC,IAAa;QACvB,IAAI,IAAI,EAAE;YACR,IAAI,CAAC,sBAAsB,CAAC,SAAS,GAAG,IAAI,CAAC;SAC9C;KACF;;;;;IAEO,SAAS;QACf,IAAI,CAAC,IAAI,CAAC,sBAAsB,CAAC,gBAAgB,IAAI,CAAC,IAAI,CAAC,sBAAsB,CAAC,SAAS,EAAE;YAC3F,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,uCAAuC,CAAC,CAAC,CAAC;YACzF,OAAO,KAAK,CAAC;SACd;QACD,OAAO,IAAI,CAAC;KACb;;;;;;IAEO,gBAAgB,CAAC,GAAW;;YAC9B,GAAG,GAAG,IAAI,CAAC,IAAI,CAAC,0BAA0B,EAAE;QAChD,IAAI,GAAG,EAAE;YACP,GAAG,IAAI,eAAe,GAAG,EAAE,CAAC;YAC5B,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,SAAS;;;;YAAC,CAAC,EAAO;gBACnC,IAAI,CAAC,sBAAsB,CAAC,iBAAiB,GAAG,EAAE,CAAC,IAAI,CAAC;aACzD,EAAC,CAAC;SACJ;KACF;;;;;;IACO,WAAW,CAAC,EAAU;;YACxB,GAAG,GAAG,IAAI,CAAC,IAAI,CAAC,iBAAiB,EAAE;QACvC,IAAI,EAAE,EAAE;YACN,GAAG,IAAI,IAAI,EAAE,EAAE,CAAC;YAChB,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,SAAS;;;;YAAC,CAAC,EAAO;gBACnC,IAAI,CAAC,sBAAsB,CAAC,gBAAgB,GAAG,EAAE,CAAC,IAAI,CAAC;aACxD,EAAC,CAAC;SACJ;KACF;;;YA7JF,SAAS,SAAC;gBACT,QAAQ,EAAE,+BAA+B;gBACzC,24JAAyD;gBAEzD,SAAS,EAAE;oBACR,YAAY;iBACd;;aACF;;;;YAhBQ,eAAe;YACf,aAAa;YACb,WAAW;YAEX,sBAAsB;YACtB,iBAAiB;YARoE,iBAAiB,uBAmD1G,QAAQ;yCACR,MAAM,SAAC,SAAS;4CAChB,MAAM,SAAC,iBAAiB;YA5CD,YAAY,uBA6CnC,QAAQ;;;kBAjCV,WAAW,SAAC,OAAO;oBAGnB,KAAK;yBAOL,MAAM;0BACN,MAAM;0BAEN,SAAS,SAAC,kBAAkB;;;;;;;;;;IChC3B,SAAM;;IAEN,SAAM;;IAEN,WAAQ;;;;;;;;;;ACJZ,MAGa,qBAAqB;;;;;IACvB,OAAO,kBAAkB,CAAC,EAAoC;;YAC7D,IAAI,GAAG,eAAe,CAAC,oBAAoB,oBAAC,EAAE,GAAQ;QAC1D,IAAI,GAAG,MAAM,GAAG,IAAI,CAAC;QACrB,OAAO,IAAI,CAAC;KACf;;;;;;IAMM,OAAO,mBAAmB,CAAC,YAA0B;QACxD,IAAI,YAAY,CAAC,SAAS,KAAK,IAAI,EAAE;YACjC,IAAI,YAAY,CAAC,cAAc,IAAI,YAAY,CAAC,cAAc,CAAC,YAAY,IAAI,IAAI,EAAE;gBACjF,OAAO,cAAc,CAAC,MAAM,CAAC;aAChC;iBAAM;gBACH,OAAO,cAAc,CAAC,QAAQ,CAAA;aACjC;SACJ;aAAM;YACH,OAAO,cAAc,CAAC,MAAM,CAAC;SAChC;KACJ;CACJ;;;;;;AC3BD,MAoBa,8BAA8B;;;;;;;;;;;IA+CzC,YACU,eAAuC,EACvC,QAAyB,EACzB,MAAqB,EACrB,eAAqC,EACrC,YAA4B,EAC5B,QAAkB,EAClB,QAAkC,EAClC,UAAyB;QAPzB,oBAAe,GAAf,eAAe,CAAwB;QACvC,aAAQ,GAAR,QAAQ,CAAiB;QACzB,WAAM,GAAN,MAAM,CAAe;QACrB,oBAAe,GAAf,eAAe,CAAsB;QACrC,iBAAY,GAAZ,YAAY,CAAgB;QAC5B,aAAQ,GAAR,QAAQ,CAAU;QAClB,aAAQ,GAAR,QAAQ,CAA0B;QAClC,eAAU,GAAV,UAAU,CAAe;QAtD1B,cAAS,GAAG,sCAAsC,CAAC;QAK5D,qBAAgB,GAAG,IAAI,YAAY,EAAqB,CAAC;QAGzD,oBAAe,GAAG,IAAI,YAAY,EAAE,CAAC;QA6BrC,wBAAmB,GAAG,OAAO,CAAC;QAC9B,2BAAsB,GAAG,OAAO,CAAC;QACjC,0BAAqB,GAAG,MAAM,CAAC;QAC/B,qBAAgB,GAAG;YACjB,EAAE,KAAK,EAAE,EAAE,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,KAAK,CAAC,EAAE;YACrD,EAAE,KAAK,EAAE,MAAM,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,KAAK,CAAC,EAAE;YACzD,EAAE,KAAK,EAAE,OAAO,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,IAAI,CAAC,EAAE;SAC1D,CAAC;KAYD;;;;IAED,QAAQ;KACP;;;;;IAED,iBAAiB,CAAC,IAAY;QAC5B,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC,IAAI,GAAG,IAAI,SAAS,EAAE,CAAC;QAClD,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;QAChD,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC;QAC7C,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC,IAAI,GAAG,IAAI,CAAC;KAC3C;;;;;IAED,iBAAiB,CAAC,EAAE,UAAU,EAAE;;cACxB,IAAI,GAAG,UAAU,CAAC,CAAC,CAAC;QAC1B,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC,eAAe,GAAG,IAAI,SAAS,EAAE,CAAC;QAC7D,IAAI,IAAI,IAAI,IAAI,EAAE;YAChB,IAAI,IAAI,CAAC,KAAK,IAAI,EAAE,EAAE;gBACpB,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC,eAAe,CAAC,QAAQ,GAAG,IAAI,CAAC;aAC5D;YACD,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC,eAAe,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC;SAC/D;KACF;;;;;IAED,kBAAkB,CAAC,EAAE,UAAU,EAAE;;cACzB,IAAI,GAAG,UAAU,CAAC,CAAC,CAAC;QAC1B,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC,SAAS,GAAG,IAAI,SAAS,EAAE,CAAC;QACvD,IAAI,IAAI,IAAI,IAAI,EAAE;YAChB,IAAI,IAAI,CAAC,KAAK,IAAI,EAAE,EAAE;gBACpB,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC,SAAS,CAAC,QAAQ,GAAG,IAAI,CAAC;aACtD;YACD,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC,SAAS,CAAC,KAAK,GAAG,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;SACjE;KACF;;;;;IAED,aAAa,CAAC,EAAE,UAAU,EAAE;;cACpB,IAAI,GAAG,UAAU,CAAC,CAAC,CAAC;QAC1B,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC,OAAO,GAAG,IAAI,SAAS,EAAE,CAAC;QACrD,IAAI,IAAI,IAAI,IAAI,EAAE;YAChB,IAAI,IAAI,CAAC,KAAK,IAAI,EAAE,EAAE;gBACpB,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC,OAAO,CAAC,QAAQ,GAAG,IAAI,CAAC;aACpD;YACD,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC,OAAO,CAAC,KAAK,GAAG,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;SAC/D;KACF;;;;;IAKD,YAAY;;cACJ,WAAW,GAAG,IAAI,CAAC,QAAQ,CAAC,uBAAuB,CAAC,yBAAyB,CAAC;;cAC9E,OAAO,GAAG,WAAW,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC;QACjD,OAAO,CAAC,QAAQ,CAAC,QAAQ,GAAG,cAAc,CAAC;QAE3C,OAAO,CAAC,QAAQ,CAAC,gBAAgB,CAAC,SAAS;;;;QACzC,CAAC,eAAgC;YAC/B,IAAI,CAAC,WAAW,EAAE,CAAC;;gBACf,OAAO,GAAG,eAAe,CAAC,QAAQ;;gBAClC,IAAI,GAAiB,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,OAAO,CAAC;YAEpD,QAAQ,qBAAqB,CAAC,mBAAmB,CAAC,IAAI,CAAC;;gBAErD,KAAK,cAAc,CAAC,MAAM;oBACxB;wBACE,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC,UAAU,GAAG,IAAI,SAAS,EAAE,CAAC;wBACxD,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC,UAAU,CAAC,QAAQ,GAAG,IAAI,CAAC;wBACtD,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC,UAAU,CAAC,KAAK,GAAG,IAAI,CAAC,EAAE,CAAC;wBACtD,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC,YAAY,GAAG,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC;qBACnE;oBACD,MAAM;gBACR;oBACE,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,0BAA0B,CAAC,CAAC,CAAC;oBACzE,MAAM;aACT;SACF;;;;QACD,CAAC,GAAG;YACF,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;;YAEnB,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,GAAG,CAAC,KAAK,IAAI,IAAI,GAAG,GAAG,CAAC,OAAO,IAAI,GAAG,CAAC,KAAK,CAAC,OAAO,IAAI,GAAG,CAAC,KAAK,CAAC,OAAO,IAAI,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC;YAC/G,IAAI,CAAC,WAAW,EAAE,CAAC;SACpB,EACF,CAAC;;cAEI,WAAW,GAAG;YAClB,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,cAAc,CAAC;YAChD,KAAK,EAAE,GAAG;YACV,MAAM,EAAE,GAAG;YACX,WAAW,EAAE,KAAK;SACnB;;cACK,MAAM,GAAG,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,OAAO,EAAE,WAAW,CAAC;QAC3D,OAAO,CAAC,QAAQ,CAAC,iBAAiB,CAAC,SAAS;;;;QAAC,MAAM,IAAI,MAAM,CAAC,KAAK,EAAE,EAAC,CAAC;KACxE;;;;;IAKD,cAAc;;cACN,WAAW,GAAG,IAAI,CAAC,QAAQ,CAAC,uBAAuB,CAAC,yBAAyB,CAAC;;cAC9E,OAAO,GAAG,WAAW,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC;QACjD,OAAO,CAAC,QAAQ,CAAC,QAAQ,GAAG,cAAc,CAAC;QAE3C,OAAO,CAAC,QAAQ,CAAC,gBAAgB,CAAC,SAAS;;;;QACzC,CAAC,eAAgC;YAC/B,IAAI,CAAC,aAAa,EAAE,CAAC;;gBACjB,SAAS,GAAG,eAAe,CAAC,QAAQ;;gBACpC,MAAM,GAAiB,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,OAAO,CAAC;YAExD,QAAQ,qBAAqB,CAAC,mBAAmB,CAAC,MAAM,CAAC;;gBAEvD,KAAK,cAAc,CAAC,MAAM;oBACxB;wBACE,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC,YAAY,GAAG,IAAI,SAAS,EAAE,CAAC;wBAC1D,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC,YAAY,CAAC,QAAQ,GAAG,IAAI,CAAC;wBACxD,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC,YAAY,CAAC,KAAK,GAAG,MAAM,CAAC,EAAE,CAAC;wBAC1D,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC,cAAc,GAAG,MAAM,CAAC,UAAU,CAAC,IAAI,CAAC;qBACvE;oBACD,MAAM;gBACR;oBACE,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,0BAA0B,CAAC,CAAC,CAAC;oBACzE,MAAM;aACT;SACF;;;;QACD,CAAC,GAAG;YACF,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;;YAEnB,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,GAAG,CAAC,KAAK,IAAI,IAAI,GAAG,GAAG,CAAC,OAAO,IAAI,GAAG,CAAC,KAAK,CAAC,OAAO,IAAI,GAAG,CAAC,KAAK,CAAC,OAAO,IAAI,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC;YAC/G,IAAI,CAAC,WAAW,EAAE,CAAC;SACpB,EACF,CAAC;;cAEI,WAAW,GAAG;YAClB,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,cAAc,CAAC;YAChD,KAAK,EAAE,GAAG;YACV,MAAM,EAAE,GAAG;YACX,WAAW,EAAE,KAAK;SACnB;;cACK,MAAM,GAAG,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,OAAO,EAAE,WAAW,CAAC;QAC3D,OAAO,CAAC,QAAQ,CAAC,iBAAiB,CAAC,SAAS;;;;QAAC,MAAM,IAAI,MAAM,CAAC,KAAK,EAAE,EAAC,CAAC;KACxE;;;;;IAKD,gBAAgB;QACd,OAAO,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC,IAAI,CAAC;QACvC,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC,IAAI,GAAG,IAAI,CAAC;KAC3C;;;;;IAKD,gBAAgB;QACd,OAAO,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC,eAAe,CAAC;KACnD;;;;;IAKD,WAAW;QACT,OAAO,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC,UAAU,CAAC;QAC7C,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC,YAAY,GAAG,IAAI,CAAC;KACnD;;;;;IAKD,aAAa;QACX,OAAO,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC,YAAY,CAAC;QAC/C,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC,cAAc,GAAG,IAAI,CAAC;KACrD;;;;;IAKD,cAAc;QACZ,OAAO,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC,SAAS,CAAC;KAC7C;;;;;IAKD,gBAAgB;;KAEf;;;;;IAKD,YAAY;QACV,OAAO,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC,OAAO,CAAC;KAC3C;;;;;IAKD,cAAc;QACZ,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC,SAAS,GAAG,CAAC,CAAC;QACzC,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;KAC5C;;;;;IAKD,aAAa;;;;;;;;;;;;;;;;;;;;cAqBL,UAAU,GAAG,IAAI,CAAC,UAAU;QAClC,UAAU,CAAC,aAAa,GAAG,EAAE,CAAC;QAE9B,UAAU,CAAC,UAAU,CAAC,UAAU,GAAG,IAAI,CAAC;QACxC,UAAU,CAAC,UAAU,CAAC,YAAY,GAAG,IAAI,CAAC;QAC1C,UAAU,CAAC,UAAU,CAAC,OAAO,GAAG,IAAI,CAAC;QACrC,UAAU,CAAC,UAAU,CAAC,IAAI,GAAG,IAAI,CAAC;;;;;;QAQlC,IAAI,CAAC,UAAU,GAAG,UAAU,CAAC;KAC9B;;;YA5SF,SAAS,SAAC;gBACT,QAAQ,EAAE,8BAA8B;gBACxC,kxOAAwD;;aAEzD;;;;YAjBQ,sBAAsB;YACtB,eAAe;YACf,aAAa;YACb,oBAAoB;YACpB,cAAc;YAN6C,QAAQ;YAAE,wBAAwB;YAa7F,aAAa;;;yBAUnB,KAAK,SAAC,YAAY;+BAElB,MAAM,SAAC,kBAAkB;8BAGzB,MAAM,SAAC,UAAU;2BA4BjB,SAAS,SAAC,cAAc;;;;;;;ACxD3B,MAWa,iBAAiB;;;;;IAC1B,OAAO,OAAO,CAAC,SAAe;QAC1B,OAAO;YACH,QAAQ,EAAE,iBAAiB;YAC3B,SAAS,EAAE;gBACP,EAAE,OAAO,EAAE,kBAAkB,EAAE,QAAQ,EAAE,SAAS,IAAI,EAAE,EAAE;aAC7D;SACJ,CAAC;KACL;;;YAhBJ,QAAQ,SAAC;gBACN,YAAY,EAAE;oBACV,aAAa;iBAChB;gBACD,OAAO,EAAE;oBACL,aAAa;iBAChB;aACJ;;;;;;;ACVD,MAsFa,qBAAqB;;;YAvDjC,QAAQ,SAAC;gBACR,OAAO,EAAE;oBACP,YAAY;oBACZ,gBAAgB;oBAChB,sBAAsB;oBACtB,0BAA0B,CAAC,OAAO,CAAC,EAAE,CAAC;oBACtC,sBAAsB;oBACtB,gBAAgB;oBAChB,sBAAsB;oBACtB,kBAAkB,CAAC,OAAO,EAAE;oBAC5B,iBAAiB;oBACjB,mBAAmB;oBACnB,qBAAqB;oBACrB,cAAc,CAAC,OAAO,CAAC;wBACrB,GAAG,eAAe;qBACnB,CAAC;oBACF,eAAe;oBACf,gBAAgB;oBAChB,kBAAkB;oBAClB,YAAY;oBACZ,gBAAgB;oBAChB,YAAY;oBACZ,aAAa,CAAC,OAAO,CAAC;wBACpB,OAAO,EAAE,YAAY;qBACtB,CAAC;oBACF,YAAY,CAAC,OAAO,EAAE;oBACtB,cAAc,CAAC,OAAO,CAAC;wBACrB,KAAK,EAAE,GAAG;wBACV,MAAM,EAAE,GAAG;qBACZ,CAAC;oBACF,WAAW,CAAC,OAAO,EAAE;oBACrB,iBAAiB;iBAClB;gBACD,SAAS,EAAE;oBACT,YAAY;oBACZ,cAAc;oBACd,WAAW;oBACX,WAAW;oBACX,YAAY;oBACZ,cAAc;oBACd,UAAU;oBACV,gBAAgB;oBAChB,oBAAoB;oBACpB,uBAAuB;oBACvB,sBAAsB;iBACvB;gBACD,YAAY,EAAE;oBACZ,wBAAwB;oBACxB,8BAA8B;iBAC/B;gBACD,eAAe,EAAE;oBACf,wBAAwB;oBACxB,8BAA8B;iBAC/B;aACF;;;;;;;ACrFD,MAIa,oBAAoB;IAC/B,iBAAiB;;;;;;IAEjB,SAAS,CAAC,iBAAgD,EAAE,UAAU,GAAG,EAAE;;YACrE,CAAC,GAAG,EAAE;QACV,iBAAiB,CAAC,OAAO;;;;QAAC,CAAC;YACzB,CAAC,IAAI,CAAC,CAAC,eAAe,GAAG,GAAG,CAAC;SAC9B,EAAC,CAAC;QACH,IAAI,CAAC,EAAE;YACL,CAAC,GAAG,CAAC,CAAC,SAAS,CAAC,CAAC,EAAE,CAAC,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;SAClC;QACD,OAAO,CAAC,GAAG,CAAC,GAAG,UAAU,CAAC;KAC3B;;;YAbF,IAAI,SAAC,EAAE,IAAI,EAAE,kBAAkB,EAAE;;;;;;;;;ACHlC,MAIa,gBAAgB;IACzB,iBAAiB;;;;;;IACjB,SAAS,CAAC,KAAgC,EAAE,UAAU,GAAG,EAAE;;YACnD,CAAC,GAAG,EAAE;QACV,KAAK,CAAC,OAAO;;;;QAAC,CAAC;YACX,CAAC,IAAI,CAAC,CAAC,IAAI,GAAG,GAAG,CAAC;SACrB,EAAC,CAAC;QACH,IAAI,CAAC,EAAE;YACH,CAAC,GAAG,CAAC,CAAC,SAAS,CAAC,CAAC,EAAE,CAAC,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;SACpC;QACD,OAAO,CAAC,GAAG,CAAC,GAAG,UAAU,CAAC;KAC7B;;;YAZJ,IAAI,SAAC,EAAE,IAAI,EAAE,cAAc,EAAE;;;;;;;;;ACH9B,aAkFwC,YAAY,CAAC,OAAO,CAAC,cAAc,CAAC,IAAI,QAAQ;AAYxF,MAAa,kBAAkB;;;YA5D9B,QAAQ,SAAC;gBACN,OAAO,EAAE;oBACL,YAAY;oBACZ,gBAAgB;oBAChB,WAAW;oBACX,mBAAmB;oBACnB,sBAAsB;oBACtB,0BAA0B,CAAC,OAAO,CAAC,EAAE,CAAC;oBACtC,sBAAsB;oBACtB,gBAAgB;oBAChB,sBAAsB;oBACtB,kBAAkB,CAAC,OAAO,EAAE;oBAC5B,iBAAiB;oBACjB,mBAAmB;oBACnB,qBAAqB;oBACrB,cAAc,CAAC,OAAO,CAAC;wBACnB,GAAG,eAAe;qBACrB,CAAC;oBACF,eAAe;oBACf,gBAAgB;oBAChB,kBAAkB;oBAClB,YAAY;oBACZ,gBAAgB;oBAChB,YAAY;oBACZ,eAAe;oBACf,aAAa,CAAC,OAAO,CAAC;wBAClB,OAAO,EAAE,YAAY;qBACxB,CAAC;oBACF,YAAY,CAAC,OAAO,EAAE;oBACtB,cAAc,CAAC,OAAO,CAAC;wBACnB,KAAK,EAAE,GAAG;wBACV,MAAM,EAAE,GAAG;qBACd,CAAC;oBACF,WAAW,CAAC,OAAO,EAAE;oBACrB,gBAAgB;oBAChB,cAAc;oBACd,qBAAqB;oBACrB,iBAAiB;iBACpB;gBACD,SAAS,EAAE;oBACP,YAAY;oBACZ,cAAc;oBACd,WAAW;oBACX,WAAW;oBACX,YAAY;oBACZiB,gBAAc;oBACd,UAAU;oBACV,gBAAgB;oBAChB,EAAE,OAAO,EAAE,SAAS,EAAE,QAAQ,MAAkD,EAAE;oBAClF,oBAAoB;oBACpB,uBAAuB;oBACvB,mBAAmB;iBACtB;gBACD,YAAY,EAAE;oBACV,qBAAqB;iBACxB;gBACD,eAAe,EAAE;oBACb,qBAAqB;iBACxB;aACJ;;;;;;;AC7FD,MAKa,uBAAuB;;;;;IAElC,YACU,SAA2B,EACR,WAAmB;QADtC,cAAS,GAAT,SAAS,CAAkB;QACR,gBAAW,GAAX,WAAW,CAAQ;KAC3C;;;;;;IACL,OAAO,CAAC,KAAwD,EAAE,KAAqD;QACrH,IAAI,CAAC,SAAS,CAAC,WAAW,GAAG,IAAI,CAAC,WAAW,CAAC;QAC9C,OAAO,IAAI,CAAC,SAAS,CAAC,cAAc,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;KACxD;;;YAVF,UAAU;;;;YAHF,gBAAgB;yCAQpB,MAAM,SAAC,SAAS;;;;;;;ACTrB;MAMM,MAAM,GAAW;IACrB;QACE,IAAI,EAAE,iBAAiB,EAAE,SAAS,EAAE,wBAAwB;QAC5D,QAAQ,EAAE,EAAE;QACZ,OAAO,EAAE;YACP,WAAW,EAAE,uBAAuB;SACrC;KACF;CACF;AAWD,MAAa,4BAA4B;;;YATxC,QAAQ,SAAC;gBACR,OAAO,EAAE;oBACP,YAAY;oBACZ,YAAY,CAAC,QAAQ,CAAC,MAAM,CAAC;iBAC9B;gBACD,OAAO,EAAE;oBACP,YAAY;iBACb;aACF;;;;;;;ACxBD,MAWa,cAAc;;;;;IACzB,OAAO,OAAO,CAAC,SAAe;QAC5B,OAAO;YACL,QAAQ,EAAE,cAAc;YACxB,SAAS,EAAE;gBACT,EAAE,OAAO,EAAE,iBAAiB,EAAE,QAAQ,EAAE,SAAS,IAAI,EAAE,EAAE;aAC1D;SACF,CAAC;KACH;;;YAhBF,QAAQ,SAAC;gBACR,YAAY,EAAE;oBACZ,YAAY;iBACb;gBACD,OAAO,EAAE;oBACP,YAAY;iBACb;aACF;;;;;;;ACVD;;;;;AAgJA,SAAgB,iBAAiB,CAAC,UAAsB;;UAChD,YAAY,GAAG,6DAA6D;IAClF,OAAO,IAAI,mBAAmB,CAAC,UAAU,EAAE,YAAY,EAAE,UAAU,GAAG,IAAI,IAAI,EAAE,CAAC,OAAO,EAAE,CAAC,CAAC;CAC7F;aAoKmC,YAAY,CAAC,OAAO,CAAC,cAAc,CAAC,IAAI,QAAQ,OACxC,gCAAgC,OAK/B,oCAAoC;AAuEjF,MAAa,qBAAqB;;;YA/OjC,QAAQ,SAAC;gBACR,YAAY,EAAE;oBACZ,wBAAwB;oBACxB,wBAAwB;oBACxB,yBAAyB;oBACzB,8BAA8B;oBAC9B,iBAAiB;oBACjB,sBAAsB;oBACtB,qBAAqB;oBACrB,kBAAkB;oBAClB,qBAAqB;oBACrB,aAAa;oBACb,0BAA0B;oBAC1B,kBAAkB;oBAClB,sBAAsB;oBACtB,sBAAsB;oBACtB,2BAA2B;oBAC3B,0BAA0B;oBAC1B,yBAAyB;oBACzB,aAAa;oBACb,WAAW;oBACX,gBAAgB;oBAChB,oBAAoB;oBACpB,sBAAsB;oBACtB,wBAAwB;oBACxB,mBAAmB;oBACnB,mCAAmC;oBACnC,wBAAwB;oBACxB,4BAA4B;oBAC5B,+BAA+B;oBAC/B,yBAAyB;oBACzB,6BAA6B;oBAC7B,wBAAwB;oBACxB,qBAAqB;oBACrB,yBAAyB;oBACzB,wBAAwB;oBACxB,qBAAqB;oBACrB,sBAAsB;oBACtB,sBAAsB;oBACtB,0BAA0B;oBAC1B,uBAAuB;oBACvB,yBAAyB;oBACzB,4BAA4B;oBAC5B,yBAAyB;oBACzB,4BAA4B;oBAC5B,sBAAsB;oBACtB,wBAAwB;oBACxB,uBAAuB;oBACvB,aAAa;oBACb,wBAAwB;oBACxB,iBAAiB;oBACjB,4BAA4B;oBAC5B,uBAAuB;oBACvB,gCAAgC;oBAChC,kCAAkC;oBAClC,iBAAiB;oBACjB,0BAA0B;oBAC1B,uBAAuB;oBACvB,uBAAuB;oBACvB,qBAAqB;oBACrB,+BAA+B;oBAC/B,0BAA0B;oBAC1B,gBAAgB;oBAChB,oBAAoB;oBACpB,qBAAqB;oBACrB,iBAAiB;oBACjB,kBAAkB;oBAClB,oBAAoB;oBACpB,2BAA2B;oBAC3B,uBAAuB;oBACvB,iBAAiB;oBACjB,2BAA2B;oBAC3B,yCAAyC;oBACzC,+BAA+B;iBAChC;gBACD,OAAO,EAAE;oBACP,eAAe,CAAC,OAAO,CAAC;wBACtB,MAAM,EAAE;4BACN,OAAO,EAAE,eAAe;4BACxB,UAAU,EAAE,iBAAiB;4BAC7B,IAAI,EAAE,CAAC,UAAU,CAAC;yBACnB;qBACF,CAAC;oBACF,YAAY;oBACZ,mBAAmB;oBACnB,WAAW;oBACX,gBAAgB;oBAChB,kBAAkB;oBAClB,gBAAgB;oBAChB,uBAAuB;oBACvB,0BAA0B,CAAC,OAAO,CAAC,EAAE,CAAC;oBACtC,sBAAsB;oBACtB,eAAe;oBACf,eAAe;oBACf,YAAY;oBACZ,YAAY;oBACZ,kBAAkB;oBAClB,cAAc;oBACd,gBAAgB;oBAChB,YAAY;oBACZ,gBAAgB;oBAChB,iBAAiB;oBACjB,sBAAsB;oBACtB,sBAAsB;oBACtB,gBAAgB;oBAChB,mBAAmB;oBACnB,gBAAgB;oBAChB,aAAa,CAAC,OAAO,CAAC;wBACpB,OAAO,EAAE,QAAQ;qBAClB,CAAC;oBACF,cAAc,CAAC,OAAO,CAAC;wBACrB,KAAK,EAAE,GAAG;qBACX,CAAC;oBACF,WAAW;oBACX,aAAa;oBACb,gBAAgB;oBAChB,oBAAoB;oBACpB,qBAAqB;oBACrB,cAAc,CAAC,OAAO,CAAC;wBACrB,GAAG,eAAe;wBAClB,uCAAuC;qBACxC,CAAC;oBACF,eAAe;oBACf,YAAY;oBACZ,iBAAiB;oBACjB,YAAY;oBACZ,wBAAwB;oBACxB,mBAAmB;oBACnB,sBAAsB;oBACtB,mBAAmB;oBACnB,kBAAkB;oBAClB,qBAAqB;oBACrB,kBAAkB;oBAClB,kBAAkB;oBAClB,iBAAiB;oBACjB,kBAAkB;oBAClB,4BAA4B;oBAC5B,qBAAqB;oBACrB,kBAAkB;oBAClB,sBAAsB;oBACtB,mBAAmB;oBACnB,uBAAuB,CAAC,OAAO,EAAE;oBACjC,iBAAiB;oBACjB,gBAAgB;oBAChB,mBAAmB;oBACnB,uBAAuB;oBACvB,4BAA4B;oBAC5B,cAAc;iBACf;gBACD,SAAS,EAAE;oBACT,cAAc;oBACd,WAAW;oBACX,iBAAiB;oBACjB,0BAA0B;oBAC1B,8BAA8B;oBAC9B,iCAAiC;oBACjC,+BAA+B;oBAC/B,sBAAsB;oBACtB,aAAa;oBACb,sBAAsB;oBACtB,eAAe;oBACf,oBAAoB;oBACpB,EAAE,OAAO,EAAE,SAAS,EAAE,QAAQ,MAAkD,EAAE;oBAClF,EAAE,OAAO,EAAE,iBAAiB,EAAE,QAAQ,IAAkC,EAAE;oBAC1E,YAAY;oBACZ,uBAAuB;oBACvB,iBAAiB;oBACjB,aAAa;oBACb,EAAE,OAAO,EAAE,kBAAkB,EAAE,QAAQ,IAAsC,EAAE;iBAChF;gBACD,OAAO,EAAE,CAAC,wBAAwB,EAAE,+BAA+B,CAAC;gBACpE,eAAe,EAAE;oBACf,wBAAwB;oBACxB,yBAAyB;oBACzB,8BAA8B;oBAC9B,iBAAiB;oBACjB,sBAAsB;oBACtB,qBAAqB;oBACrB,kBAAkB;oBAClB,qBAAqB;oBACrB,0BAA0B;oBAC1B,yBAAyB;oBACzB,kBAAkB;oBAClB,sBAAsB;oBACtB,sBAAsB;oBACtB,2BAA2B;oBAC3B,0BAA0B;oBAC1B,yBAAyB;oBACzB,sBAAsB;oBACtB,wBAAwB;oBACxB,mBAAmB;oBACnB,mCAAmC;oBACnC,wBAAwB;oBACxB,4BAA4B;oBAC5B,+BAA+B;oBAC/B,yBAAyB;oBACzB,6BAA6B;oBAC7B,wBAAwB;oBACxB,qBAAqB;oBACrB,yBAAyB;oBACzB,wBAAwB;oBACxB,qBAAqB;oBACrB,sBAAsB;oBACtB,sBAAsB;oBACtB,0BAA0B;oBAC1B,0BAA0B;oBAC1B,uBAAuB;oBACvB,yBAAyB;oBACzB,4BAA4B;oBAC5B,yBAAyB;oBACzB,4BAA4B;oBAC5B,sBAAsB;oBACtB,uBAAuB;oBACvB,aAAa;oBACb,wBAAwB;oBACxB,iBAAiB;oBACjB,4BAA4B;oBAC5B,wBAAwB;oBACxB,uBAAuB;oBACvB,gCAAgC;oBAChC,kCAAkC;oBAClC,iBAAiB;oBACjB,uBAAuB;oBACvB,uBAAuB;oBACvB,qBAAqB;oBACrB,+BAA+B;oBAC/B,0BAA0B;oBAC1B,gBAAgB;oBAChB,oBAAoB;oBACpB,qBAAqB;oBACrB,iBAAiB;oBACjB,kBAAkB;oBAClB,oBAAoB;oBACpB,uBAAuB;oBACvB,2BAA2B;oBAC3B,yCAAyC;oBACzC,+BAA+B;iBAChC;aACF;;;;;;;ACnYD;;;AAUA,MAAa,kBAAmB,SAAQ,gBAAgB;IAAxD;;QACI,eAAU,GAAiB,IAAI,CAAC;QAChC,iBAAY,GAAG;YACX,CAAC,iBAAiB,CAAC,OAAO,GAAG,SAAS;SACzC,CAAC;KA8JL;;;;IA5JG,mBAAmB;;cACT,YAAY,GAAG,IAAI,CAAC,WAAW;;cAC/B,UAAU,GAAG,YAAY,CAAC,KAAK,CAAC,cAAc,CAAC,cAAc,CAAC,YAAY,CAAC,SAAS,CAAC;;YACvF,eAAe,GAA0B,IAAI,qBAAqB,EAAE;;YACpE,WAAW,GAA0B,IAAI,qBAAqB,EAAE;;YAChE,YAAY,GAAG,EAAE;QAErB,WAAW,CAAC,UAAU,GAAG,OAAO,CAAC;QACjC,WAAW,CAAC,YAAY,GAAI,WAAW,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC;QACzD,WAAW,CAAC,KAAK,GAAG,OAAO,CAAC;QAC5B,WAAW,CAAC,OAAO,GAAI,WAAW,CAAC,GAAG,CAAC,OAAO,CAAC,CAAA;QAC/C,WAAW,CAAC,UAAU,GAAG;YACrB,EAAE,UAAU,EAAE,wBAAwB,CAAC,IAAI,EAAE,YAAY,EAAG,WAAW,CAAC,GAAG,CAAC,MAAM,CAAC,EAAE,YAAY,EAAE,QAAQ,EAAE,OAAO,EAAE,CAAC,IAAI,CAAC,QAAQ,CAAC,gBAAgB,EAAE;YACvJ,EAAE,UAAU,EAAE,wBAAwB,CAAC,YAAY,EAAE,YAAY,EAAG,WAAW,CAAC,GAAG,CAAC,cAAc,CAAC,EAAE,YAAY,EAAE,eAAe,EAAE,OAAO,EAAE,IAAI,CAAC,QAAQ,CAAC,gBAAgB,EAAE;YAC7K,EAAE,UAAU,EAAE,wBAAwB,CAAC,EAAE,EAAE,YAAY,EAAG,WAAW,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,YAAY,EAAE,QAAQ,EAAE,QAAQ,EAAE,IAAI,EAAE;SAC5H,CAAC;QACF,eAAe,CAAC,UAAU,GAAG,WAAW,CAAC;QACzC,eAAe,CAAC,YAAY,GAAI,WAAW,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC;QAC7D,eAAe,CAAC,KAAK,GAAG,OAAO,CAAC;QAChC,eAAe,CAAC,OAAO,GAAI,WAAW,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;QACpD,eAAe,CAAC,UAAU,GAAG;YACzB,EAAE,UAAU,EAAE,wBAAwB,CAAC,mBAAmB,EAAE,YAAY,EAAG,WAAW,CAAC,GAAG,CAAC,qBAAqB,CAAC,EAAE,YAAY,EAAE,OAAO,EAAE;SAC7I,CAAC;;QAEF,IAAI,UAAU,CAAC,SAAS,KAAK,YAAY,CAAC,WAAW,IAAI,UAAU,CAAC,SAAS,KAAK,uBAAuB,IAAI,UAAU,CAAC,SAAS,KAAK,uBAAuB,EAAE;YAC3J,eAAe,CAAC,UAAU,CAAC,IAAI,CAC3B,EAAE,UAAU,EAAE,wBAAwB,CAAC,OAAO,EAAE,YAAY,EAAG,WAAW,CAAC,GAAG,CAAC,SAAS,CAAC,EAAE,YAAY,EAAE,QAAQ,EAAE,CACtH,CAAC;SACL;QAED,IAAI,CAAC,oBAAoB,CAAC,YAAY,EAAE,UAAU,EAAE,YAAY,CAAC,CAAC;QAClE,OAAO;YACH,cAAc,EAAE,CAAC,WAAW,EAAE,eAAe,CAAC;YAC9C,YAAY,EAAE,YAAY;SAC7B,CAAC;KACL;;;;;IAED,WAAW,CAAC,GAAQ;;cACV,YAAY,GAAG,IAAI,CAAC,WAAW;;YACjC,UAAU,GAAW,GAAG,CAAC,UAAU;QACvC,QAAQ,UAAU;YACd,KAAK,wBAAwB,CAAC,mBAAmB;gBAC7C,IAAI,CAAC,mBAAmB,CAAC,YAAY,EAAE,GAAG,CAAC,aAAa,CAAC,CAAC;gBAC1D,MAAM;YACV,KAAK,wBAAwB,CAAC,OAAO;gBACjC,IAAI,CAAC,yBAAyB,CAAC,YAAY,EAAE,GAAG,CAAC,aAAa,CAAC,CAAC;gBAChE,MAAM;YACV;gBACI,KAAK,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC;gBACvB,MAAM;SACb;KACJ;;;;;;;;IAOD,oBAAoB,CAAC,YAA0B,EAAE,UAAuB,EAAE,YAAoB;QAC1F,YAAY,CAAC,wBAAwB,CAAC,EAAE,CAAC,GAAG,YAAY,CAAC,EAAE,CAAC;QAC5D,YAAY,CAAC,wBAAwB,CAAC,SAAS,CAAC,GAAG,YAAY,CAAC,SAAS,CAAC;QAC1E,YAAY,CAAC,wBAAwB,CAAC,IAAI,CAAC,GAAG,YAAY,CAAC,IAAI,CAAC;QAChE,YAAY,CAAC,wBAAwB,CAAC,YAAY,CAAC,GAAG,YAAY,CAAC,YAAY,IAAI;YAC/E,QAAQ,EAAE,YAAY,CAAC,IAAI;SAC9B,CAAC;QACF,IAAI,CAAC,YAAY,CAAC,mBAAmB,IAAI,CAAC,YAAY,CAAC,mBAAmB,CAAC,aAAa;YACpF,YAAY,CAAC,wBAAwB,CAAC,mBAAmB,CAAC,GAAG,EAAE,CAAC;;YAEhE,YAAY,CAAC,wBAAwB,CAAC,mBAAmB,CAAC;gBACtD,oBAAC,YAAY,CAAC,mBAAmB,CAAC,aAAa,IAAe,KAAK,CAAC;QAE5E,IAAI,UAAU,CAAC,SAAS,KAAK,YAAY,CAAC,WAAW,EAAE;;kBAC7C,YAAY,sBAAG,UAAU,EAAgB;YAC/C,IAAI,YAAY,CAAC,OAAO,KAAK,YAAY,CAAC,EAAE,EAAE;gBAC1C,YAAY,CAAC,wBAAwB,CAAC,OAAO,CAAC,GAAG,IAAI,CAAC;aACzD;iBAAM;gBACH,YAAY,CAAC,wBAAwB,CAAC,OAAO,CAAC,GAAG,KAAK,CAAC;aAC1D;SACJ;QACD,IAAI,UAAU,CAAC,SAAS,KAAK,uBAAuB,EAAE;;kBAC5C,OAAO,sBAAG,UAAU,EAAoB;YAC9C,IAAI,OAAO,CAAC,OAAO,KAAK,YAAY,CAAC,EAAE,EAAE;gBACrC,YAAY,CAAC,wBAAwB,CAAC,OAAO,CAAC,GAAG,IAAI,CAAC;aACzD;iBAAM;gBACH,YAAY,CAAC,wBAAwB,CAAC,OAAO,CAAC,GAAG,KAAK,CAAC;aAC1D;SACJ;QACD,IAAI,UAAU,CAAC,SAAS,KAAK,uBAAuB,EAAE;;kBAC5C,OAAO,sBAAG,UAAU,EAAoB;YAC9C,IAAI,OAAO,CAAC,OAAO,KAAK,YAAY,CAAC,EAAE,EAAE;gBACrC,YAAY,CAAC,wBAAwB,CAAC,OAAO,CAAC,GAAG,IAAI,CAAC;aACzD;iBAAM;gBACH,YAAY,CAAC,wBAAwB,CAAC,OAAO,CAAC,GAAG,KAAK,CAAC;aAC1D;SACJ;KACJ;;;;;;;IAOD,mBAAmB,CAAC,OAAqB,EAAE,GAAW;QAClD,OAAO,CAAC,mBAAmB,GAAG,IAAI,CAAC;QACnC,IAAI,GAAG,EAAE;;gBACD,UAAU,GAAG,IAAI,UAAU,CAAC,OAAO,CAAC,KAAK,CAAC;;gBAC1C,SAAS,GAAG,IAAI,SAAS,CAAC,OAAO,CAAC,KAAK,CAAC;YAC5C,SAAS,CAAC,KAAK,GAAG,GAAG,CAAC;YACtB,UAAU,CAAC,aAAa,GAAG,SAAS,CAAC;YACrC,OAAO,CAAC,mBAAmB,GAAG,UAAU,CAAC;SAC5C;KACJ;;;;;;;IAOD,yBAAyB,CAAC,OAAqB,EAAE,GAAY;;;cAEnD,IAAI,sBAAG,OAAO,CAAC,KAAK,CAAC,cAAc,CAAC,cAAc,CAAC,OAAO,CAAC,SAAS,CAAC,EAAY;QACvF,IAAI,IAAI,CAAC,SAAS,KAAK,YAAY,CAAC,WAAW,EAAE;;;kBAEvC,YAAY,sBAAG,IAAI,EAAgB;YACzC,IAAI,GAAG,KAAK,IAAI,EAAE;gBACd,YAAY,CAAC,OAAO,GAAG,OAAO,CAAC,EAAE,CAAC;aACrC;iBAAM,IAAI,GAAG,KAAK,KAAK,EAAE;;gBAEtB,IAAI,YAAY,CAAC,OAAO,KAAK,OAAO,CAAC,EAAE,EAAE;oBACrC,YAAY,CAAC,OAAO,GAAG,IAAI,CAAC;iBAC/B;aACJ;SACJ;aAAM,IAAI,IAAI,CAAC,SAAS,KAAK,uBAAuB,EAAE;;;kBAE7C,OAAO,sBAAG,IAAI,EAAoB;YACxC,IAAI,GAAG,KAAK,IAAI,EAAE;gBACd,OAAO,CAAC,OAAO,GAAG,OAAO,CAAC,EAAE,CAAC;aAChC;iBAAM,IAAI,GAAG,KAAK,KAAK,EAAE;;gBAEtB,IAAI,OAAO,CAAC,OAAO,KAAK,OAAO,CAAC,EAAE,EAAE;oBAChC,OAAO,CAAC,OAAO,GAAG,IAAI,CAAC;iBAC1B;aACJ;SACJ;aAAM,IAAI,IAAI,CAAC,SAAS,KAAK,uBAAuB,EAAE;;;kBAE7C,OAAO,sBAAG,IAAI,EAAoB;YACxC,IAAI,GAAG,KAAK,IAAI,EAAE;gBACd,OAAO,CAAC,OAAO,GAAG,OAAO,CAAC,EAAE,CAAC;aAChC;iBAAM,IAAI,GAAG,KAAK,KAAK,EAAE;;gBAEtB,IAAI,OAAO,CAAC,OAAO,KAAK,OAAO,CAAC,EAAE,EAAE;oBAChC,OAAO,CAAC,OAAO,GAAG,IAAI,CAAC;iBAC1B;aACJ;SACJ;KACJ;CACJ;;;;;;AC5KD,AAgBA,cAAc,CAAC,QAAQ,CAAC,2BAA2B,CAAC,WAAW,EAAE,2BAA2B,CAAC,CAAC;AAC9F,cAAc,CAAC,QAAQ,CAAC,gBAAgB,CAAC,WAAW,EAAE,gBAAgB,CAAC,CAAC;AACxE,cAAc,CAAC,QAAQ,CAAC,0BAA0B,CAAC,WAAW,EAAE,0BAA0B,CAAC,CAAC;AAC5F,cAAc,CAAC,QAAQ,CAAC,8BAA8B,CAAC,WAAW,EAAE,8BAA8B,CAAC,CAAC;AACpG,cAAc,CAAC,QAAQ,CAAC,mBAAmB,CAAC,WAAW,EAAE,mBAAmB,CAAC,CAAC;AAC9E,cAAc,CAAC,QAAQ,CAAC,kBAAkB,CAAC,WAAW,EAAE,kBAAkB,CAAC,CAAC;AAC5E,cAAc,CAAC,QAAQ,CAAC,qBAAqB,CAAC,WAAW,EAAE,qBAAqB,CAAC,CAAC;AAClF,cAAc,CAAC,QAAQ,CAAC,iBAAiB,CAAC,WAAW,EAAE,iBAAiB,CAAC,CAAC;AAC1E,cAAc,CAAC,QAAQ,CAAC,gBAAgB,CAAC,WAAW,EAAE,gBAAgB,CAAC,CAAC;AACxE,cAAc,CAAC,QAAQ,CAAC,cAAc,CAAC,WAAW,EAAE,cAAc,CAAC,CAAC;AACpE,cAAc,CAAC,QAAQ,CAAC,sBAAsB,CAAC,WAAW,EAAE,sBAAsB,CAAC,CAAC;;AAEpF,cAAc,CAAC,QAAQ,CAAC,sBAAsB,CAAC,WAAW,EAAE,sBAAsB,CAAC,CAAC;AACpF,cAAc,CAAC,QAAQ,CAAC,qBAAqB,CAAC,WAAW,EAAE,qBAAqB,CAAC,CAAC;AAClF,cAAc,CAAC,QAAQ,CAAC,kBAAkB,CAAC,WAAW,EAAE,kBAAkB,CAAC,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}
