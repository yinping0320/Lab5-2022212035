{"__symbolic":"module","version":4,"metadata":{"TaskCommentService":{"__symbolic":"class","decorators":[{"__symbolic":"call","expression":{"__symbolic":"reference","module":"@angular/core","name":"Injectable","line":6,"character":1}}],"members":{"__ctor__":[{"__symbolic":"constructor","parameters":[{"__symbolic":"reference","module":"@ecp-caf/caf-common","name":"HttpService","line":10,"character":21}]}],"getCommentList":[{"__symbolic":"method"}],"addComment":[{"__symbolic":"method"}],"getTaskCenterConfigByCode":[{"__symbolic":"method"}],"uploadAttachment":[{"__symbolic":"method"}],"deleteAttachment":[{"__symbolic":"method"}]}},"TaskCommentComponent":{"__symbolic":"class","decorators":[{"__symbolic":"call","expression":{"__symbolic":"reference","module":"@angular/core","name":"Component","line":23,"character":1},"arguments":[{"selector":"wf-comment","providers":[{"provide":{"__symbolic":"reference","module":"@angular/forms","name":"NG_VALUE_ACCESSOR","line":28,"character":13},"useExisting":{"__symbolic":"reference","name":"TaskCommentComponent"},"multi":true}],"template":"<div class=\"fa-approve-comment fa-approve-common-gutter\">\r\n  <div class=\"fa-approve-comment--header\">\r\n    <div class=\"approve-comment--title\">\r\n      <div class=\"fa-btn-like-dropdown\">\r\n        <div class=\"btn-group\" fDropdown #dropdownEl=\"fDropdown\">\r\n          <button class=\"btn btn-secondary dropdown-toggle fa-dropdown-button\" fDropdownToggle type=\"button\">\r\n            {{ \"static.inputLabel\" | translate }}\r\n          </button>\r\n          <div *ngIf=\"uiState.commentList.length\" class=\"dropdown-menu\" fDropdownMenu>\r\n            <li class=\"dropdown-item\" *ngFor=\"let comment of uiState.commentList\" (click)=\"buttonClick(comment.message)\">\r\n              <span>{{ comment.message }}</span>\r\n            </li>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div class=\"fa-approve-comment--content\">\r\n    <textarea\r\n      class=\"form-control content-textarea\"\r\n      [(ngModel)]=\"value\"\r\n      [attr.placeholder]=\"placeholder\"\r\n      [style.height.px]=\"textAreaHeight\"\r\n    ></textarea>\r\n  </div>\r\n  <div class=\"fa-approve-comment--footer\">\r\n    <div class=\"approve-comment--text-btns\">\r\n      <div class=\"text-btns-item\">\r\n        <span class=\"f-icon f-icon-gear\"></span>\r\n        <span class=\"text-btns-item--text\" (click)=\"onEditComment()\">\r\n          {{\"static.manage\" | translate}}\r\n        </span>\r\n      </div>\r\n      <div class=\"text-btns-item\" *ngIf=\"ifShowAttachment && showUploadAttachment\">\r\n        <span  class=\"f-icon f-icon-attachment\"></span>\r\n        <span  class=\"text-btns-item--text\" (click)=\"uploadAttachment()\">\r\n          {{\"static.attachmentUpload\" | translate}}\r\n        </span>\r\n      </div>\r\n    </div>\r\n    <div *ngIf=\"attachmentList.length > 0\">\r\n      <li *ngFor=\"let attachment of attachmentList\">\r\n        <div class=\"wf-docFile\">\r\n          <div><img class=\"wf-docFileIcon\" [src]=\"imageUrl(attachment)\"></div>\r\n          <div class=\"wf-docFileInfo\" >\r\n            <div class=\"attachment-list\">\r\n              <a>{{attachment.fileName}}</a>\r\n            </div>\r\n            <div class=\"attachment-delete\" (click)=\"attachmentDelete(attachment)\">\r\n              <span class=\"f-icon f-icon-close-outline\"></span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </li>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<farris-dialog #commentDialog [buttons]=\"formButtonRef\" [width]=\"550\" [height]=\"360\" [title]=\"'static.title' | translate\">\r\n    <kendo-grid #commentGrid [data]=\"uiState.commentList\" [selectable]=\"true\" (cellClick)=\"cellClickHandler($event)\"\r\n        (cellClose)=\"cellCloseHandler($event)\" style=\"padding: 10px;\">\r\n        <kendo-grid-column field=\"message\" title=\"{{'static.content' | translate}}\" width=\"80%\"></kendo-grid-column>\r\n        <kendo-grid-column field=\"sortOrder\" title=\"{{'static.order' | translate}}\" width=\"20%\"></kendo-grid-column>\r\n    </kendo-grid>\r\n</farris-dialog>\r\n<ng-template #formButtonRef>\r\n    <button class=\"btn btn-primary mr-2\" (click)=\"viewModel.add()\">{{'static.add' | translate}}</button>\r\n    <button class=\"btn btn-secondary mr-2\" (click)=\"viewModel.delete()\">{{'static.delete' | translate}}</button>\r\n    <button class=\"btn btn-secondary mr-2\" (click)=\"save()\">{{'static.save' | translate}}</button>\r\n    <button class=\"btn btn-secondary\" (click)=\"commentDialog.close()\">{{'static.cancel' | translate}}</button>\r\n</ng-template>\r\n","styles":[".fa-approval-operate-list{display:flex;flex-direction:row;align-items:center}.fa-approval-operate-list .approval-operate--label{position:relative;margin-right:8px;padding:3px 16px;border:1px solid rgba(0,0,0,.15);border-radius:2px;overflow:hidden;cursor:pointer;margin-bottom:0;color:#595959}.fa-approval-operate-list .approval-operate--label .label-title{font-size:14px;line-height:20px;white-space:nowrap}.fa-approval-operate-list .approval-operate--label .label-tip{position:absolute;display:block;right:0;bottom:0;width:14px;height:14px;border:7px solid #dadada;border-top:7px solid transparent;border-left:7px solid transparent}.fa-approval-operate-list .approval-operate--label .label-icon{position:absolute;display:block;right:-3px;bottom:-2px;font-size:12px;color:#fff}.fa-approval-operate-list .approval-operate--label .label-icon::before{content:'\\e118'}.fa-approval-operate-list .approval-operate--radio{display:none}.fa-approval-operate-list .approval-operate--radio:checked~.approval-operate--label{color:#388fff;border-color:#388fff;background:rgba(23,145,255,.05)}.fa-approval-operate-list .approval-operate--radio:checked~.approval-operate--label .label-tip{border-right-color:#388fff;border-bottom-color:#388fff}.fa-dropdown-button{border-color:#f7f7f7;font-size:12px;color:#667580;background:#f7f7f7}.fa-btn-like-dropdown{display:flex;align-items:center}.fa-btn-like-dropdown .like-dropdown--text{margin:0 4px 0 0}.fa-btn-like-dropdown .like-dropdown--icon{color:rgba(0,0,0,.25)}.fa-approve-common-gutter{margin:0 0 12px}.fa-approve-comment .approve-comment--title{display:inline-block;color:#667580;border-radius:4px 4px 0 0;height:26px;padding:0 9px;position:relative;background:#f7f7f7;cursor:pointer}.fa-approve-comment .approve-comment--title:after{content:'';height:100%;position:absolute;right:-10px;top:0;bottom:0;border-right:5px solid transparent;border-left:5px solid #f7f7f7;border-bottom:13px solid #f7f7f7;border-top:13px solid transparent}.fa-approve-comment .approve-comment--title .fa-btn-like-dropdown{font-size:12px;padding:2px 0}.fa-approve-comment .fa-approve-comment--content .content-textarea{border-color:#dcdcdc;border-radius:0 0 2px 2px}.fa-approve-comment .fa-approve-comment--footer{font-size:13px;color:#667580;background:#f7f7f7;padding:5px 0}.fa-approve-comment .approve-comment--text-btns{display:flex;flex-direction:row}.fa-approve-comment .approve-comment--text-btns .text-btns-item{display:flex;flex-direction:row;align-items:center;font-size:12px;line-height:18px;color:#667580;padding:4px;margin-right:8px;cursor:pointer}.fa-approve-comment .approve-comment--text-btns .text-btns-item:hover{color:#388fff}.fa-approve-comment .approve-comment--text-btns .text-btns-item .f-icon{margin-right:6px}.fa-approveal-links::after{content:\".\";display:block;height:0;clear:both;visibility:hidden}.fa-approveal-links .approveal-links--link{font-size:14px;position:relative;padding:0 16px 0 0;display:flex;align-items:center;float:left}.fa-approveal-links .approveal-links--link .link-text{color:rgba(0,0,0,.65);margin:0 8px 0 0}.fa-approveal-links .approveal-links--link+.approveal-links--link{padding-left:16px}.fa-approveal-links .approveal-links--link+.approveal-links--link::before{content:'';position:absolute;width:1px;height:80%;left:0;top:10%;background:#dbdbdb}.fa-btn-group-lg .btn{padding-top:6px;padding-bottom:6px;min-width:100px;text-align:center}.fa-approve-record{padding:0 0 16px;position:relative}.fa-approve-record .fa-approve-record--timeline{position:absolute;width:34px;top:0;bottom:0;z-index:100}.fa-approve-record .fa-approve-record--timeline::after{content:'';position:absolute;width:1px;height:100%;overflow:hidden;left:50%;top:0;z-index:101;border-left:1px dashed #dcdcdc}.fa-approve-record .fa-approve-record--timeline .fa-approve-star{position:relative;z-index:103;margin:20px auto}.fa-approve-record.fa-state-running .fa-approve-record--timeline::after{top:20px}.fa-approve-record:last-child .fa-approve-record--timeline::after{height:20px}.fa-approve-record .fa-approve-record--content{margin:0 0 0 34px;padding:16px 14px;background:#f9f9f9;border-radius:2px}.fa-approve-record .fa-approve-record--content .approve-record--header{margin:0 0 12px;display:flex;align-items:center}.fa-approve-record .fa-approve-record--content .approve-record--header .header--title{margin-bottom:0;color:rgba(0,0,0,.85)}.fa-approve-record .fa-approve-record--content .approve-record--header>*{margin:0 19px 0 0}.fa-approve-record .approve-record--list-item{display:flex;flex-direction:row}.fa-approve-record .approve-record--list-item+.approve-record--list-item{padding-top:8px}.fa-approve-record .approve-record--list-item .list-item--auxiliary{width:30px;margin:0 10px 0 0}.fa-approve-record .approve-record--list-item .list-item--main{flex-grow:1;flex-shrink:1;flex-basis:auto;padding:6px 0 0;background:#f9f9f9}.fa-approve-record .approve-record--list-item .list-item--content{padding:20px 0 0}.fa-approve-record .approve-record--list-item .list-item--content .list-item--info{font-size:12px;margin-bottom:0}.fa-approve-record .approve-record--list-item .list-item--content .list-item--info .info-label{color:rgba(0,0,0,.65)}.fa-approve-record .approve-record--list-item .list-item--content .list-item--info .info-text{color:rgba(0,0,0,.85)}.fa-approve-record .approve-record--list-item .list-item--header{display:flex;align-items:center}.fa-approve-record .approve-record--list-item .list-item--header>*{margin:0 16px 0 0}.fa-approve-record .approve-record--list-item .list-item--header .list-item--info{margin-bottom:0;font-size:12px}.fa-approve-record .approve-record--list-item .list-item--header .list-item--info .info-label{color:rgba(0,0,0,.35)}.fa-approve-record .approve-record--list-item .list-item--header .list-item--info .info-text{color:rgba(0,0,0,.65)}.fa-approve-record .approve-record--list-item .list-item--name{color:#4297fa}.fa-approve-record .approve-record--avatar{width:30px;height:30px;border-radius:15px}.fa-approve-round-bg{margin:4px auto 0;width:30px;height:30px;background:#59a1ff;border-radius:18px;line-height:30px;text-align:center;white-space:nowrap;font-size:12px;overflow:hidden}.fa-approve-round-bg-text{color:#fff}.fa-approve-star{width:14px;height:14px;display:block;background:rgba(56,143,255,.4);border-radius:7px;position:relative}.fa-approve-star::after{content:'';width:8px;height:8px;position:absolute;top:50%;left:50%;margin:-4px 0 0 -4px;border-radius:4px;background:#388fff}.fa-approve-star.bg-warning{background:rgba(245,156,36,.4)!important}.fa-approve-star.bg-warning::after{background:#f59c24}.fa-approve-badge{padding-top:4px;padding-bottom:4px;border-radius:10px}.fa-approve-badge-light{font-size:13px;line-height:20px;padding:0 8px;color:#5f637a;border:1px solid #e6e6e6;background:#f6faff}.fa-approve-link-border{cursor:pointer;display:inline-block;border:1px solid #60a5ff;border-radius:13px;font-size:12px;line-height:16px;color:#388fff;padding:3px 10px;background:#ebf5ff}.fa-approve-link-border:hover{background:#2881ff;color:#fff}.fm-toolbar{flex-direction:row;display:flex}.wf-docFile{flex-shrink:1;flex-grow:1;flex-basis:0;display:flex;flex-direction:row;align-items:flex-start;border-top:1px solid #f8f9fa;border-left:1px solid #f8f9fa}.wf-docFileIcon{margin:0 0 0 10px;width:20px;height:20px;line-height:20px;text-align:center;overflow:hidden;white-space:nowrap;padding:2px}.wf-docFileInfo{flex-shrink:1;flex-grow:1;flex-basis:0;padding:2px 6px 0 9px;margin-left:0}.wf-docFileInfo:hover .attachment-delete{display:block}.wf-docFileSize{font-size:11px;color:#888}.wf-doc-delete{margin:auto;font-size:18px;color:#f8f9fa}li{list-style:none}.attachment-delete{float:right;cursor:pointer;display:none;text-align:right;padding-right:10px}.attachment-delete:hover{color:#4297fa}.attachment-list{float:left;font-size:12px;margin-left:8px;width:180px}"]}]}],"members":{"comment":[{"__symbolic":"property","decorators":[{"__symbolic":"call","expression":{"__symbolic":"reference","module":"@angular/core","name":"Input","line":40,"character":3}}]}],"placeholder":[{"__symbolic":"property","decorators":[{"__symbolic":"call","expression":{"__symbolic":"reference","module":"@angular/core","name":"Input","line":41,"character":3}}]}],"processInstanceId":[{"__symbolic":"property","decorators":[{"__symbolic":"call","expression":{"__symbolic":"reference","module":"@angular/core","name":"Input","line":42,"character":3}}]}],"actionCode":[{"__symbolic":"property","decorators":[{"__symbolic":"call","expression":{"__symbolic":"reference","module":"@angular/core","name":"Input","line":43,"character":3}}]}],"attachment":[{"__symbolic":"property","decorators":[{"__symbolic":"call","expression":{"__symbolic":"reference","module":"@angular/core","name":"Output","line":51,"character":3}}]}],"commentDialog":[{"__symbolic":"property","decorators":[{"__symbolic":"call","expression":{"__symbolic":"reference","module":"@angular/core","name":"ViewChild","line":52,"character":3},"arguments":[{"__symbolic":"reference","module":"@farris/ui-dialog","name":"DialogComponent","line":52,"character":13}]}]}],"commentGrid":[{"__symbolic":"property","decorators":[{"__symbolic":"call","expression":{"__symbolic":"reference","module":"@angular/core","name":"ViewChild","line":53,"character":3},"arguments":["commentGrid"]}]}],"dropDownEl":[{"__symbolic":"property","decorators":[{"__symbolic":"call","expression":{"__symbolic":"reference","module":"@angular/core","name":"ViewChild","line":54,"character":3},"arguments":["dropdownEl"]}]}],"grid":[{"__symbolic":"property","decorators":[{"__symbolic":"call","expression":{"__symbolic":"reference","module":"@angular/core","name":"ViewChild","line":55,"character":3},"arguments":["grid"]}]}],"TextAreaHeight":[{"__symbolic":"property","decorators":[{"__symbolic":"call","expression":{"__symbolic":"reference","module":"@angular/core","name":"Input","line":77,"character":3}}]}],"__ctor__":[{"__symbolic":"constructor","parameterDecorators":[null,null,null,null,[{"__symbolic":"call","expression":{"__symbolic":"reference","module":"@angular/core","name":"Optional","line":93,"character":5}}]],"parameters":[{"__symbolic":"reference","name":"TaskCommentService"},{"__symbolic":"reference","name":"TaskCommentViewModel"},{"__symbolic":"reference","name":"TaskCommentUIState"},{"__symbolic":"reference","module":"@angular/forms","name":"FormBuilder","line":92,"character":25},{"__symbolic":"reference","module":"@angular/core","name":"Injector","line":93,"character":34}]}],"ngOnInit":[{"__symbolic":"method"}],"onEditComment":[{"__symbolic":"method"}],"save":[{"__symbolic":"method"}],"loadComments":[{"__symbolic":"method"}],"cellClickHandler":[{"__symbolic":"method"}],"cellCloseHandler":[{"__symbolic":"method"}],"createFormGroup":[{"__symbolic":"method"}],"writeValue":[{"__symbolic":"method"}],"registerOnChange":[{"__symbolic":"method"}],"registerOnTouched":[{"__symbolic":"method"}],"buttonClick":[{"__symbolic":"method"}],"uploadAttachment":[{"__symbolic":"method"}],"attachmentDelete":[{"__symbolic":"method"}],"imageUrl":[{"__symbolic":"method"}],"createItem":[{"__symbolic":"method"}]}},"WFCommentModule":{"__symbolic":"class","decorators":[{"__symbolic":"call","expression":{"__symbolic":"reference","module":"@angular/core","name":"NgModule","line":19,"character":1},"arguments":[{"declarations":[{"__symbolic":"reference","name":"TaskCommentComponent"},{"__symbolic":"reference","name":"TranslatePipe"}],"imports":[{"__symbolic":"reference","module":"@angular/common","name":"CommonModule","line":25,"character":4},{"__symbolic":"reference","module":"@angular/forms","name":"FormsModule","line":26,"character":4},{"__symbolic":"reference","module":"@farris/ui-dialog","name":"FarrisDialogModule","line":27,"character":4},{"__symbolic":"call","expression":{"__symbolic":"select","expression":{"__symbolic":"reference","module":"@farris/ui-modal","name":"ModalModule","line":28,"character":4},"member":"forRoot"}},{"__symbolic":"reference","module":"@progress/kendo-angular-grid","name":"GridModule","line":29,"character":4},{"__symbolic":"reference","module":"@farris/ui-combo-list","name":"ComboListModule","line":30,"character":4},{"__symbolic":"reference","module":"@farris/ui-dropdown","name":"FDropdownDirectiveTypeModule","line":31,"character":4},{"__symbolic":"reference","module":"@gsp-svc/formdoc-upload","name":"UploadDialogMoudle","line":32,"character":4}],"exports":[{"__symbolic":"reference","name":"TaskCommentComponent"}],"providers":[{"__symbolic":"reference","module":"@ecp-caf/caf-common","name":"HttpService","line":38,"character":4},{"__symbolic":"reference","name":"TaskCommentService"},{"__symbolic":"reference","name":"TaskCommentUIState"},{"__symbolic":"reference","name":"TaskCommentViewModel"},{"__symbolic":"reference","name":"I18nService"},{"__symbolic":"reference","name":"TaskCommentRepository"}]}]}],"members":{}},"CommonComment":{"__symbolic":"class","members":{},"statics":{"newEntity":{"__symbolic":"function","parameters":[],"value":{"id":{"__symbolic":"call","expression":{"__symbolic":"select","expression":{"__symbolic":"reference","name":"TaskCommentService"},"member":"newId"}},"message":""}}}},"TaskCommentUIState":{"__symbolic":"class","decorators":[{"__symbolic":"call","expression":{"__symbolic":"reference","module":"@angular/core","name":"Injectable","line":3,"character":1}}],"members":{}},"TaskCommentViewModel":{"__symbolic":"class","decorators":[{"__symbolic":"call","expression":{"__symbolic":"reference","module":"@angular/core","name":"Injectable","line":6,"character":1}}],"members":{"__ctor__":[{"__symbolic":"constructor","parameters":[{"__symbolic":"reference","name":"TaskCommentUIState"},{"__symbolic":"reference","module":"@ecp-caf/caf-common","name":"HttpService","line":10,"character":25}]}],"add":[{"__symbolic":"method"}],"delete":[{"__symbolic":"method"}],"save":[{"__symbolic":"method"}]}},"I18nService":{"__symbolic":"class","decorators":[{"__symbolic":"call","expression":{"__symbolic":"reference","module":"@angular/core","name":"Injectable","line":4,"character":1}}],"members":{"__ctor__":[{"__symbolic":"constructor"}],"getValue":[{"__symbolic":"method"}]}},"TranslatePipe":{"__symbolic":"class","decorators":[{"__symbolic":"call","expression":{"__symbolic":"reference","module":"@angular/core","name":"Pipe","line":3,"character":1},"arguments":[{"name":"translate"}]}],"members":{"__ctor__":[{"__symbolic":"constructor","parameters":[{"__symbolic":"reference","name":"I18nService"}]}],"transform":[{"__symbolic":"method"}]}},"TaskCommentRepository":{"__symbolic":"class","decorators":[{"__symbolic":"call","expression":{"__symbolic":"reference","module":"@angular/core","name":"Injectable","line":3,"character":1}}],"members":{}}},"origins":{"TaskCommentService":"./lib/services/task-comment.service","TaskCommentComponent":"./lib/task-comment/task-comment.component","WFCommentModule":"./lib/wf-comment.module","CommonComment":"./lib/entities/comment","TaskCommentUIState":"./lib/task-comment/task-comment.uistate","TaskCommentViewModel":"./lib/task-comment/task-comment.viewmodel","I18nService":"./lib/services/i18n.service","TranslatePipe":"./lib/services/translate.pipe","TaskCommentRepository":"./lib/model/task-comment.repository"},"importAs":"@gsp-wf/ui-comment"}