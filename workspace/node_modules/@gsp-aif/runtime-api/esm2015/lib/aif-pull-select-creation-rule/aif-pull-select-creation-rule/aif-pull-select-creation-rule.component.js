/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { Component } from "@angular/core";
import { AifPullSelectCreationRuleInternalService } from "../service/aif-pull-select-creation-rule.internal.service";
import { Subject } from "rxjs";
export class AifPullSelectCreationRuleComponent {
    /**
     * @param {?} crService
     */
    constructor(crService) {
        this.crService = crService;
        this.voTypeCodes = [];
        this.voTypeObjs = {};
        this.getCreationRuleResultEntities = {};
        this.selectedVoTypeCode = null;
        this.selectedGetCreationRuleResultEntity = null;
        this.bsModalRef = null;
        this.subject = new Subject();
    }
    /**
     * @param {?} args
     * @return {?}
     */
    getCreationRule(args) {
        this.crService.getCreationRule(args).subscribe((/**
         * @param {?} data
         * @return {?}
         */
        (data) => {
            for (let item of data) {
                if (!this.voTypeCodes.includes(item.SourceVoType)) {
                    this.voTypeCodes.push(item.SourceVoType);
                    this.getCreationRuleResultEntities[item.SourceVoType] = [];
                    this.voTypeObjs[item.SourceVoType] = {
                        "VoType": item.SourceVoType,
                        "VoName": item.SourceVoName
                    };
                }
                this.getCreationRuleResultEntities[item.SourceVoType].push(item);
            }
            if (data.length > 0) {
                this.selectedVoTypeCode = this.voTypeCodes[0];
                this.selectedGetCreationRuleResultEntity = data[0];
            }
        }));
    }
    /**
     * @return {?}
     */
    ngOnInit() {
    }
    /**
     * @param {?} voTypeCode
     * @return {?}
     */
    changeVoTypeRadio(voTypeCode) {
        this.selectedVoTypeCode = voTypeCode;
        this.selectedGetCreationRuleResultEntity = !this.isNullOrUndefined(this.getCreationRuleResultEntities[this.selectedVoTypeCode]) && this.getCreationRuleResultEntities[this.selectedVoTypeCode].length > 0 ? this.getCreationRuleResultEntities[this.selectedVoTypeCode][0] : null;
    }
    /**
     * @return {?}
     */
    clickOk() {
        this.subject.next((/** @type {?} */ (this.selectedGetCreationRuleResultEntity)));
        this.subject.complete();
        this.bsModalRef.close();
    }
    /**
     * @return {?}
     */
    clickClose() {
        this.bsModalRef.close();
    }
    /**
     * @private
     * @param {?} arg
     * @return {?}
     */
    isNullOrUndefined(arg) {
        return arg == null;
    }
}
AifPullSelectCreationRuleComponent.decorators = [
    { type: Component, args: [{
                selector: 'app-aif-pull-select-creation-rule',
                template: "<div style=\"height:100%;\">\r\n    <kendo-splitter orientation=\"vertical\">\r\n        <kendo-splitter-pane [resizable]=\"false\" [scrollable]=\"false\" [collapsible]=\"false\" size=\"40%\"\r\n            class=\"aif-splitter-pane-padding\">\r\n            <div>\r\n                <div>\u9009\u62E9\u6765\u6E90\u5355\u636E\u7C7B\u578B</div>\r\n                <div style=\"height:8rem;overflow-y: auto;\">\r\n                    <label *ngFor=\"let voTypeCode of voTypeCodes;let i=index\" class=\"col-sm-12 col-md-5\"\r\n                        style=\"padding:0 0;\">\r\n                        <input type=\"radio\" name=\"voTypeCode\" class=\"\" [checked]=\"i==0\"\r\n                            [value]=\"voTypeObjs[voTypeCode].VoType\"\r\n                            (click)=\"changeVoTypeRadio(voTypeCode)\">{{voTypeObjs[voTypeCode].VoName}}\r\n                    </label>\r\n                </div>\r\n            </div>\r\n        </kendo-splitter-pane>\r\n\r\n        <kendo-splitter-pane [resizable]=\"false\" [scrollable]=\"false\" [collapsible]=\"false\" size=\"40%\"\r\n            class=\"aif-splitter-pane-padding\">\r\n            <div>\r\n                <div>\u9009\u62E9\u751F\u5355\u89C4\u5219</div>\r\n                <kendo-dropdownlist class=\"form-control\" [data]=\"getCreationRuleResultEntities[selectedVoTypeCode]\"\r\n                    textField=\"Name\" valueField=\"Id\" [(ngModel)]=\"selectedGetCreationRuleResultEntity\">\r\n                </kendo-dropdownlist>\r\n            </div>\r\n        </kendo-splitter-pane>\r\n\r\n        <kendo-splitter-pane [resizable]=\"false\" [scrollable]=\"false\" [collapsible]=\"false\" size=\"20%\"\r\n            class=\"aif-splitter-pane-padding\">\r\n            <div>\r\n                <div>\u63CF\u8FF0</div>\r\n                <textarea kendoTextArea readonly class=\"form-control\" name=\"description\" id=\"\" rows=\"3\"\r\n                    [ngModel]=\"selectedGetCreationRuleResultEntity&&selectedGetCreationRuleResultEntity.Description\"></textarea>\r\n            </div>\r\n        </kendo-splitter-pane>\r\n\r\n        <kendo-splitter-pane [resizable]=\"false\" [scrollable]=\"false\" [collapsible]=\"false\"\r\n            class=\"aif-splitter-pane-padding\">\r\n            <div style=\"float:right;\">\r\n                <button class=\"btn-primary btn btn-sm ml-2\" (click)=\"clickOk()\"\r\n                    [disabled]=\"!selectedGetCreationRuleResultEntity\">\u786E\u5B9A</button>\r\n                <button class=\"btn btn-sm ml-2 btn-default\" (click)=\"clickClose()\">\u53D6\u6D88</button>\r\n            </div>\r\n        </kendo-splitter-pane>\r\n\r\n    </kendo-splitter>\r\n</div>",
                styles: [".aif-splitter-pane-padding{padding:.5rem 1rem}"]
            }] }
];
/** @nocollapse */
AifPullSelectCreationRuleComponent.ctorParameters = () => [
    { type: AifPullSelectCreationRuleInternalService }
];
if (false) {
    /** @type {?} */
    AifPullSelectCreationRuleComponent.prototype.voTypeCodes;
    /** @type {?} */
    AifPullSelectCreationRuleComponent.prototype.voTypeObjs;
    /** @type {?} */
    AifPullSelectCreationRuleComponent.prototype.getCreationRuleResultEntities;
    /** @type {?} */
    AifPullSelectCreationRuleComponent.prototype.selectedVoTypeCode;
    /** @type {?} */
    AifPullSelectCreationRuleComponent.prototype.selectedGetCreationRuleResultEntity;
    /** @type {?} */
    AifPullSelectCreationRuleComponent.prototype.bsModalRef;
    /** @type {?} */
    AifPullSelectCreationRuleComponent.prototype.subject;
    /**
     * @type {?}
     * @private
     */
    AifPullSelectCreationRuleComponent.prototype.crService;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYWlmLXB1bGwtc2VsZWN0LWNyZWF0aW9uLXJ1bGUuY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6Im5nOi8vQGdzcC1haWYvcnVudGltZS1hcGkvIiwic291cmNlcyI6WyJsaWIvYWlmLXB1bGwtc2VsZWN0LWNyZWF0aW9uLXJ1bGUvYWlmLXB1bGwtc2VsZWN0LWNyZWF0aW9uLXJ1bGUvYWlmLXB1bGwtc2VsZWN0LWNyZWF0aW9uLXJ1bGUuY29tcG9uZW50LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7QUFBQSxPQUFPLEVBQUUsU0FBUyxFQUFVLE1BQU0sZUFBZSxDQUFDO0FBQ2xELE9BQU8sRUFBRSx3Q0FBd0MsRUFBRSxNQUFNLDJEQUEyRCxDQUFDO0FBQ3JILE9BQU8sRUFBRSxPQUFPLEVBQUUsTUFBTSxNQUFNLENBQUM7QUFXL0IsTUFBTSxPQUFPLGtDQUFrQzs7OztJQWUzQyxZQUFvQixTQUFtRDtRQUFuRCxjQUFTLEdBQVQsU0FBUyxDQUEwQztRQWR2RSxnQkFBVyxHQUFhLEVBQUUsQ0FBQztRQUUzQixlQUFVLEdBQWlFLEVBQUUsQ0FBQztRQUU5RSxrQ0FBNkIsR0FBdUQsRUFBRSxDQUFDO1FBRXZGLHVCQUFrQixHQUFXLElBQUksQ0FBQztRQUVsQyx3Q0FBbUMsR0FBK0IsSUFBSSxDQUFDO1FBRXZFLGVBQVUsR0FBZSxJQUFJLENBQUM7UUFFOUIsWUFBTyxHQUFtQyxJQUFJLE9BQU8sRUFBRSxDQUFDO0lBSXhELENBQUM7Ozs7O0lBRU0sZUFBZSxDQUFDLElBQXlCO1FBQzVDLElBQUksQ0FBQyxTQUFTLENBQUMsZUFBZSxDQUFDLElBQUksQ0FBQyxDQUFDLFNBQVM7Ozs7UUFDMUMsQ0FBQyxJQUFrQyxFQUFFLEVBQUU7WUFDbkMsS0FBSyxJQUFJLElBQUksSUFBSSxJQUFJLEVBQUU7Z0JBQ25CLElBQUksQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLEVBQUU7b0JBQy9DLElBQUksQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQztvQkFDekMsSUFBSSxDQUFDLDZCQUE2QixDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsR0FBRyxFQUFFLENBQUM7b0JBQzNELElBQUksQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxHQUFHO3dCQUNqQyxRQUFRLEVBQUUsSUFBSSxDQUFDLFlBQVk7d0JBQzNCLFFBQVEsRUFBRSxJQUFJLENBQUMsWUFBWTtxQkFDOUIsQ0FBQztpQkFDTDtnQkFDRCxJQUFJLENBQUMsNkJBQTZCLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQzthQUVwRTtZQUNELElBQUksSUFBSSxDQUFDLE1BQU0sR0FBRyxDQUFDLEVBQUU7Z0JBQ2pCLElBQUksQ0FBQyxrQkFBa0IsR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUMsQ0FBQyxDQUFDO2dCQUM5QyxJQUFJLENBQUMsbUNBQW1DLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO2FBQ3REO1FBQ0wsQ0FBQyxFQUNKLENBQUM7SUFDTixDQUFDOzs7O0lBRUQsUUFBUTtJQUVSLENBQUM7Ozs7O0lBRUQsaUJBQWlCLENBQUMsVUFBa0I7UUFDaEMsSUFBSSxDQUFDLGtCQUFrQixHQUFHLFVBQVUsQ0FBQztRQUNyQyxJQUFJLENBQUMsbUNBQW1DLEdBQUcsQ0FBQyxJQUFJLENBQUMsaUJBQWlCLENBQUMsSUFBSSxDQUFDLDZCQUE2QixDQUFDLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDLElBQUksSUFBSSxDQUFDLDZCQUE2QixDQUFDLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyw2QkFBNkIsQ0FBQyxJQUFJLENBQUMsa0JBQWtCLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDO0lBQ3RSLENBQUM7Ozs7SUFFRCxPQUFPO1FBQ0gsSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsbUJBQUEsSUFBSSxDQUFDLG1DQUFtQyxFQUF5QixDQUFDLENBQUM7UUFDckYsSUFBSSxDQUFDLE9BQU8sQ0FBQyxRQUFRLEVBQUUsQ0FBQztRQUN4QixJQUFJLENBQUMsVUFBVSxDQUFDLEtBQUssRUFBRSxDQUFDO0lBQzVCLENBQUM7Ozs7SUFFRCxVQUFVO1FBQ04sSUFBSSxDQUFDLFVBQVUsQ0FBQyxLQUFLLEVBQUUsQ0FBQztJQUM1QixDQUFDOzs7Ozs7SUFFTyxpQkFBaUIsQ0FBQyxHQUFRO1FBQzlCLE9BQU8sR0FBRyxJQUFJLElBQUksQ0FBQztJQUN2QixDQUFDOzs7WUFwRUosU0FBUyxTQUFDO2dCQUNQLFFBQVEsRUFBRSxtQ0FBbUM7Z0JBQzdDLDBvRkFBNkQ7O2FBRWhFOzs7O1lBWFEsd0NBQXdDOzs7O0lBYTdDLHlEQUEyQjs7SUFFM0Isd0RBQThFOztJQUU5RSwyRUFBdUY7O0lBRXZGLGdFQUFrQzs7SUFFbEMsaUZBQXVFOztJQUV2RSx3REFBOEI7O0lBRTlCLHFEQUF3RDs7Ozs7SUFFNUMsdURBQTJEIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29tcG9uZW50LCBPbkluaXQgfSBmcm9tIFwiQGFuZ3VsYXIvY29yZVwiO1xyXG5pbXBvcnQgeyBBaWZQdWxsU2VsZWN0Q3JlYXRpb25SdWxlSW50ZXJuYWxTZXJ2aWNlIH0gZnJvbSBcIi4uL3NlcnZpY2UvYWlmLXB1bGwtc2VsZWN0LWNyZWF0aW9uLXJ1bGUuaW50ZXJuYWwuc2VydmljZVwiO1xyXG5pbXBvcnQgeyBTdWJqZWN0IH0gZnJvbSBcInJ4anNcIjtcclxuaW1wb3J0IHsgQnNNb2RhbFJlZiB9IGZyb20gJ0BmYXJyaXMvdWktbW9kYWwnO1xyXG5pbXBvcnQgeyBBaWZDcmVhdGlvblJ1bGVFbnRpdHkgfSBmcm9tICdAZ3NwLWFpZi9jb21tb24tYXBpJztcclxuaW1wb3J0IHsgQ3JlYXRpb25SdWxlUmVzdWx0RW50aXR5RXggfSBmcm9tICcuLi8uLi9lbnRpdHkvY3JlYXRpb24tcnVsZS1lbnRpdHktZXgnO1xyXG5pbXBvcnQgeyBHZXRDcmVhdGlvblJ1bGVBcmdzIH0gZnJvbSAnLi4vLi4vZW50aXR5L2dldC1jcmVhdGlvbi1ydWxlLWFyZ3MnO1xyXG5cclxuQENvbXBvbmVudCh7XHJcbiAgICBzZWxlY3RvcjogJ2FwcC1haWYtcHVsbC1zZWxlY3QtY3JlYXRpb24tcnVsZScsXHJcbiAgICB0ZW1wbGF0ZVVybDogJy4vYWlmLXB1bGwtc2VsZWN0LWNyZWF0aW9uLXJ1bGUuY29tcG9uZW50Lmh0bWwnLFxyXG4gICAgc3R5bGVVcmxzOiBbJy4vYWlmLXB1bGwtc2VsZWN0LWNyZWF0aW9uLXJ1bGUuY29tcG9uZW50LmNzcyddXHJcbn0pXHJcbmV4cG9ydCBjbGFzcyBBaWZQdWxsU2VsZWN0Q3JlYXRpb25SdWxlQ29tcG9uZW50IGltcGxlbWVudHMgT25Jbml0IHtcclxuICAgIHZvVHlwZUNvZGVzOiBzdHJpbmdbXSA9IFtdO1xyXG5cclxuICAgIHZvVHlwZU9ianM6IHsgW3ZvVHlwZTogc3RyaW5nXTogeyBcIlZvVHlwZVwiOiBzdHJpbmcsIFwiVm9OYW1lXCI6IHN0cmluZyB9IH0gPSB7fTtcclxuXHJcbiAgICBnZXRDcmVhdGlvblJ1bGVSZXN1bHRFbnRpdGllczogeyBbdm9UeXBlOiBzdHJpbmddOiBDcmVhdGlvblJ1bGVSZXN1bHRFbnRpdHlFeFtdIH0gPSB7fTtcclxuXHJcbiAgICBzZWxlY3RlZFZvVHlwZUNvZGU6IHN0cmluZyA9IG51bGw7XHJcblxyXG4gICAgc2VsZWN0ZWRHZXRDcmVhdGlvblJ1bGVSZXN1bHRFbnRpdHk6IENyZWF0aW9uUnVsZVJlc3VsdEVudGl0eUV4ID0gbnVsbDtcclxuXHJcbiAgICBic01vZGFsUmVmOiBCc01vZGFsUmVmID0gbnVsbDtcclxuXHJcbiAgICBzdWJqZWN0OiBTdWJqZWN0PEFpZkNyZWF0aW9uUnVsZUVudGl0eT4gPSBuZXcgU3ViamVjdCgpO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgY3JTZXJ2aWNlOiBBaWZQdWxsU2VsZWN0Q3JlYXRpb25SdWxlSW50ZXJuYWxTZXJ2aWNlKSB7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRDcmVhdGlvblJ1bGUoYXJnczogR2V0Q3JlYXRpb25SdWxlQXJncykge1xyXG4gICAgICAgIHRoaXMuY3JTZXJ2aWNlLmdldENyZWF0aW9uUnVsZShhcmdzKS5zdWJzY3JpYmUoXHJcbiAgICAgICAgICAgIChkYXRhOiBDcmVhdGlvblJ1bGVSZXN1bHRFbnRpdHlFeFtdKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpdGVtIG9mIGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMudm9UeXBlQ29kZXMuaW5jbHVkZXMoaXRlbS5Tb3VyY2VWb1R5cGUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudm9UeXBlQ29kZXMucHVzaChpdGVtLlNvdXJjZVZvVHlwZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0Q3JlYXRpb25SdWxlUmVzdWx0RW50aXRpZXNbaXRlbS5Tb3VyY2VWb1R5cGVdID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudm9UeXBlT2Jqc1tpdGVtLlNvdXJjZVZvVHlwZV0gPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIlZvVHlwZVwiOiBpdGVtLlNvdXJjZVZvVHlwZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiVm9OYW1lXCI6IGl0ZW0uU291cmNlVm9OYW1lXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0Q3JlYXRpb25SdWxlUmVzdWx0RW50aXRpZXNbaXRlbS5Tb3VyY2VWb1R5cGVdLnB1c2goaXRlbSk7XHJcblxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGRhdGEubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRWb1R5cGVDb2RlID0gdGhpcy52b1R5cGVDb2Rlc1swXTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkR2V0Q3JlYXRpb25SdWxlUmVzdWx0RW50aXR5ID0gZGF0YVswXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgbmdPbkluaXQoKTogdm9pZCB7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGNoYW5nZVZvVHlwZVJhZGlvKHZvVHlwZUNvZGU6IHN0cmluZykge1xyXG4gICAgICAgIHRoaXMuc2VsZWN0ZWRWb1R5cGVDb2RlID0gdm9UeXBlQ29kZTtcclxuICAgICAgICB0aGlzLnNlbGVjdGVkR2V0Q3JlYXRpb25SdWxlUmVzdWx0RW50aXR5ID0gIXRoaXMuaXNOdWxsT3JVbmRlZmluZWQodGhpcy5nZXRDcmVhdGlvblJ1bGVSZXN1bHRFbnRpdGllc1t0aGlzLnNlbGVjdGVkVm9UeXBlQ29kZV0pICYmIHRoaXMuZ2V0Q3JlYXRpb25SdWxlUmVzdWx0RW50aXRpZXNbdGhpcy5zZWxlY3RlZFZvVHlwZUNvZGVdLmxlbmd0aCA+IDAgPyB0aGlzLmdldENyZWF0aW9uUnVsZVJlc3VsdEVudGl0aWVzW3RoaXMuc2VsZWN0ZWRWb1R5cGVDb2RlXVswXSA6IG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgY2xpY2tPaygpIHtcclxuICAgICAgICB0aGlzLnN1YmplY3QubmV4dCh0aGlzLnNlbGVjdGVkR2V0Q3JlYXRpb25SdWxlUmVzdWx0RW50aXR5IGFzIEFpZkNyZWF0aW9uUnVsZUVudGl0eSk7XHJcbiAgICAgICAgdGhpcy5zdWJqZWN0LmNvbXBsZXRlKCk7XHJcbiAgICAgICAgdGhpcy5ic01vZGFsUmVmLmNsb3NlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgY2xpY2tDbG9zZSgpIHtcclxuICAgICAgICB0aGlzLmJzTW9kYWxSZWYuY2xvc2UoKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGlzTnVsbE9yVW5kZWZpbmVkKGFyZzogYW55KTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIGFyZyA9PSBudWxsO1xyXG4gICAgfVxyXG5cclxufSJdfQ==