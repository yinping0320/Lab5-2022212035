/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { Component } from "@angular/core";
import { Subject } from "rxjs";
import { AifPushSelectCreationRuleInternalService } from '../service/aif-push-select-creation-rule.internal.service';
export class AifPushSelectCreationRuleComponent {
    /**
     * @param {?} crService
     */
    constructor(crService) {
        this.crService = crService;
        this.voTypeCodes = [];
        this.voTypeObjs = {};
        this.getCreationRuleResultEntities = {};
        this.selectedVoTypeCode = null;
        this.selectedGetCreationRuleResultEntity = null;
        this.bsModalRef = null;
        this.subject = new Subject();
    }
    /**
     * @return {?}
     */
    ngOnInit() {
    }
    /**
     * @param {?} args
     * @return {?}
     */
    getCreationRule(args) {
        this.crService.getCreationRule(args).subscribe((/**
         * @param {?} data
         * @return {?}
         */
        (data) => {
            console.log(data);
            for (let item of data) {
                if (!this.voTypeCodes.includes(item.TargetVoType)) {
                    this.voTypeCodes.push(item.TargetVoType);
                    this.getCreationRuleResultEntities[item.TargetVoType] = [];
                    this.voTypeObjs[item.TargetVoType] = {
                        "VoType": item.TargetVoType,
                        "VoName": item.TargetVoProxyName
                    };
                }
                this.getCreationRuleResultEntities[item.TargetVoType].push(item);
            }
            if (data.length > 0) {
                this.selectedVoTypeCode = this.voTypeCodes[0];
                this.selectedGetCreationRuleResultEntity = data[0];
            }
        }));
    }
    /**
     * @param {?} beTypeCode
     * @return {?}
     */
    changeVoTypeRadio(beTypeCode) {
        this.selectedVoTypeCode = beTypeCode;
        this.selectedGetCreationRuleResultEntity = !this.isNullOrUndefined(this.getCreationRuleResultEntities[this.selectedVoTypeCode]) && this.getCreationRuleResultEntities[this.selectedVoTypeCode].length > 0 ? this.getCreationRuleResultEntities[this.selectedVoTypeCode][0] : null;
    }
    /**
     * @return {?}
     */
    clickOk() {
        this.subject.next((/** @type {?} */ (this.selectedGetCreationRuleResultEntity)));
        this.subject.complete();
        this.bsModalRef.close();
    }
    /**
     * @return {?}
     */
    clickClose() {
        this.bsModalRef.close();
    }
    /**
     * @private
     * @param {?} arg
     * @return {?}
     */
    isNullOrUndefined(arg) {
        return arg == null;
    }
}
AifPushSelectCreationRuleComponent.decorators = [
    { type: Component, args: [{
                selector: "app-aif-push-select-creation-rule",
                template: "<div style=\"height:100%;\">\r\n    <kendo-splitter orientation=\"vertical\">\r\n        <kendo-splitter-pane [resizable]=\"false\" [scrollable]=\"false\" [collapsible]=\"false\" size=\"40%\"\r\n            class=\"aif-splitter-pane-padding\">\r\n            <div>\r\n                <div>\u9009\u62E9\u76EE\u6807\u5355\u636E\u7C7B\u578B</div>\r\n                <div style=\"height:8rem;overflow-y: auto;\">\r\n                    <label *ngFor=\"let voTypeCode of voTypeCodes;let i=index\" class=\"col-sm-12 col-md-5\"\r\n                        style=\"padding:0 0;\">\r\n                        <input type=\"radio\" name=\"voTypeCode\" class=\"\" [checked]=\"i==0\"\r\n                            [value]=\"voTypeObjs[voTypeCode].VoType\"\r\n                            (click)=\"changeVoTypeRadio(voTypeCode)\">{{voTypeObjs[voTypeCode].VoName}}\r\n                    </label>\r\n                </div>\r\n            </div>\r\n        </kendo-splitter-pane>\r\n\r\n        <kendo-splitter-pane [resizable]=\"false\" [scrollable]=\"false\" [collapsible]=\"false\" size=\"40%\"\r\n            class=\"aif-splitter-pane-padding\">\r\n            <div>\r\n                <div>\u9009\u62E9\u751F\u5355\u89C4\u5219</div>\r\n                <kendo-dropdownlist class=\"form-control\" [data]=\"getCreationRuleResultEntities[selectedVoTypeCode]\"\r\n                    textField=\"Name\" valueField=\"Id\" [(ngModel)]=\"selectedGetCreationRuleResultEntity\">\r\n                </kendo-dropdownlist>\r\n            </div>\r\n        </kendo-splitter-pane>\r\n\r\n        <kendo-splitter-pane [resizable]=\"false\" [scrollable]=\"false\" [collapsible]=\"false\" size=\"20%\"\r\n            class=\"aif-splitter-pane-padding\">\r\n            <div>\r\n                <div>\u63CF\u8FF0</div>\r\n                <textarea kendoTextArea readonly class=\"form-control\" name=\"description\" id=\"\" rows=\"3\"\r\n                    [ngModel]=\"selectedGetCreationRuleResultEntity&&selectedGetCreationRuleResultEntity.Description\"></textarea>\r\n            </div>\r\n        </kendo-splitter-pane>\r\n\r\n        <kendo-splitter-pane [resizable]=\"false\" [scrollable]=\"false\" [collapsible]=\"false\"\r\n            class=\"aif-splitter-pane-padding\">\r\n            <div style=\"float:right;\">\r\n                <button class=\"btn-primary btn btn-sm ml-2\" (click)=\"clickOk()\"\r\n                    [disabled]=\"!selectedGetCreationRuleResultEntity\">\u786E\u5B9A</button>\r\n                <button class=\"btn btn-sm ml-2 btn-default\" (click)=\"clickClose()\">\u53D6\u6D88</button>\r\n            </div>\r\n        </kendo-splitter-pane>\r\n\r\n    </kendo-splitter>\r\n</div>",
                styles: [".aif-splitter-pane-padding{padding:.5rem 1rem}"]
            }] }
];
/** @nocollapse */
AifPushSelectCreationRuleComponent.ctorParameters = () => [
    { type: AifPushSelectCreationRuleInternalService }
];
if (false) {
    /** @type {?} */
    AifPushSelectCreationRuleComponent.prototype.voTypeCodes;
    /** @type {?} */
    AifPushSelectCreationRuleComponent.prototype.voTypeObjs;
    /** @type {?} */
    AifPushSelectCreationRuleComponent.prototype.getCreationRuleResultEntities;
    /** @type {?} */
    AifPushSelectCreationRuleComponent.prototype.selectedVoTypeCode;
    /** @type {?} */
    AifPushSelectCreationRuleComponent.prototype.selectedGetCreationRuleResultEntity;
    /** @type {?} */
    AifPushSelectCreationRuleComponent.prototype.bsModalRef;
    /** @type {?} */
    AifPushSelectCreationRuleComponent.prototype.subject;
    /**
     * @type {?}
     * @private
     */
    AifPushSelectCreationRuleComponent.prototype.crService;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYWlmLXB1c2gtc2VsZWN0LWNyZWF0aW9uLXJ1bGUuY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6Im5nOi8vQGdzcC1haWYvcnVudGltZS1hcGkvIiwic291cmNlcyI6WyJsaWIvYWlmLXB1c2gtc2VsZWN0LWNyZWF0aW9uLXJ1bGUvYWlmLXB1c2gtc2VsZWN0LWNyZWF0aW9uLXJ1bGUvYWlmLXB1c2gtc2VsZWN0LWNyZWF0aW9uLXJ1bGUuY29tcG9uZW50LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7QUFBQSxPQUFPLEVBQUUsU0FBUyxFQUFVLE1BQU0sZUFBZSxDQUFDO0FBQ2xELE9BQU8sRUFBRSxPQUFPLEVBQU0sTUFBTSxNQUFNLENBQUM7QUFFbkMsT0FBTyxFQUFFLHdDQUF3QyxFQUFFLE1BQU0sMkRBQTJELENBQUM7QUFVckgsTUFBTSxPQUFPLGtDQUFrQzs7OztJQWUzQyxZQUFvQixTQUFtRDtRQUFuRCxjQUFTLEdBQVQsU0FBUyxDQUEwQztRQWR2RSxnQkFBVyxHQUFhLEVBQUUsQ0FBQztRQUUzQixlQUFVLEdBQWlFLEVBQUUsQ0FBQztRQUU5RSxrQ0FBNkIsR0FBdUQsRUFBRSxDQUFDO1FBRXZGLHVCQUFrQixHQUFXLElBQUksQ0FBQztRQUVsQyx3Q0FBbUMsR0FBK0IsSUFBSSxDQUFDO1FBRXZFLGVBQVUsR0FBZSxJQUFJLENBQUM7UUFFOUIsWUFBTyxHQUFtQyxJQUFJLE9BQU8sRUFBRSxDQUFDO0lBSXhELENBQUM7Ozs7SUFFRCxRQUFRO0lBRVIsQ0FBQzs7Ozs7SUFFTSxlQUFlLENBQUMsSUFBeUI7UUFDNUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxlQUFlLENBQUMsSUFBSSxDQUFDLENBQUMsU0FBUzs7OztRQUMxQyxDQUFDLElBQWtDLEVBQUUsRUFBRTtZQUNuQyxPQUFPLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDO1lBQ2xCLEtBQUssSUFBSSxJQUFJLElBQUksSUFBSSxFQUFFO2dCQUNuQixJQUFJLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxFQUFFO29CQUMvQyxJQUFJLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLENBQUM7b0JBQ3pDLElBQUksQ0FBQyw2QkFBNkIsQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLEdBQUcsRUFBRSxDQUFDO29CQUMzRCxJQUFJLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsR0FBRzt3QkFDakMsUUFBUSxFQUFFLElBQUksQ0FBQyxZQUFZO3dCQUMzQixRQUFRLEVBQUUsSUFBSSxDQUFDLGlCQUFpQjtxQkFDbkMsQ0FBQztpQkFDTDtnQkFDRCxJQUFJLENBQUMsNkJBQTZCLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQzthQUVwRTtZQUNELElBQUksSUFBSSxDQUFDLE1BQU0sR0FBRyxDQUFDLEVBQUU7Z0JBQ2pCLElBQUksQ0FBQyxrQkFBa0IsR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUMsQ0FBQyxDQUFDO2dCQUM5QyxJQUFJLENBQUMsbUNBQW1DLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO2FBQ3REO1FBQ0wsQ0FBQyxFQUNKLENBQUM7SUFDTixDQUFDOzs7OztJQUVELGlCQUFpQixDQUFDLFVBQWtCO1FBQ2hDLElBQUksQ0FBQyxrQkFBa0IsR0FBRyxVQUFVLENBQUM7UUFDckMsSUFBSSxDQUFDLG1DQUFtQyxHQUFHLENBQUMsSUFBSSxDQUFDLGlCQUFpQixDQUFDLElBQUksQ0FBQyw2QkFBNkIsQ0FBQyxJQUFJLENBQUMsa0JBQWtCLENBQUMsQ0FBQyxJQUFJLElBQUksQ0FBQyw2QkFBNkIsQ0FBQyxJQUFJLENBQUMsa0JBQWtCLENBQUMsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsNkJBQTZCLENBQUMsSUFBSSxDQUFDLGtCQUFrQixDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQztJQUN0UixDQUFDOzs7O0lBRUQsT0FBTztRQUNILElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLG1CQUFBLElBQUksQ0FBQyxtQ0FBbUMsRUFBeUIsQ0FBQyxDQUFDO1FBQ3JGLElBQUksQ0FBQyxPQUFPLENBQUMsUUFBUSxFQUFFLENBQUM7UUFDeEIsSUFBSSxDQUFDLFVBQVUsQ0FBQyxLQUFLLEVBQUUsQ0FBQztJQUM1QixDQUFDOzs7O0lBRUQsVUFBVTtRQUNOLElBQUksQ0FBQyxVQUFVLENBQUMsS0FBSyxFQUFFLENBQUM7SUFDNUIsQ0FBQzs7Ozs7O0lBRU8saUJBQWlCLENBQUMsR0FBUTtRQUM5QixPQUFPLEdBQUcsSUFBSSxJQUFJLENBQUM7SUFDdkIsQ0FBQzs7O1lBckVKLFNBQVMsU0FBQztnQkFDUCxRQUFRLEVBQUUsbUNBQW1DO2dCQUM3Qywwb0ZBQTZEOzthQUVoRTs7OztZQVRRLHdDQUF3Qzs7OztJQVc3Qyx5REFBMkI7O0lBRTNCLHdEQUE4RTs7SUFFOUUsMkVBQXVGOztJQUV2RixnRUFBa0M7O0lBRWxDLGlGQUF1RTs7SUFFdkUsd0RBQThCOztJQUU5QixxREFBd0Q7Ozs7O0lBRTVDLHVEQUEyRCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbXBvbmVudCwgT25Jbml0IH0gZnJvbSBcIkBhbmd1bGFyL2NvcmVcIjtcclxuaW1wb3J0IHsgU3ViamVjdCwgb2YgfSBmcm9tIFwicnhqc1wiO1xyXG5pbXBvcnQgeyBCc01vZGFsUmVmIH0gZnJvbSAnQGZhcnJpcy91aS1tb2RhbCc7XHJcbmltcG9ydCB7IEFpZlB1c2hTZWxlY3RDcmVhdGlvblJ1bGVJbnRlcm5hbFNlcnZpY2UgfSBmcm9tICcuLi9zZXJ2aWNlL2FpZi1wdXNoLXNlbGVjdC1jcmVhdGlvbi1ydWxlLmludGVybmFsLnNlcnZpY2UnO1xyXG5pbXBvcnQgeyBBaWZDcmVhdGlvblJ1bGVFbnRpdHkgfSBmcm9tICdAZ3NwLWFpZi9jb21tb24tYXBpJztcclxuaW1wb3J0IHsgQ3JlYXRpb25SdWxlUmVzdWx0RW50aXR5RXggfSBmcm9tICcuLi8uLi9lbnRpdHkvY3JlYXRpb24tcnVsZS1lbnRpdHktZXgnO1xyXG5pbXBvcnQgeyBHZXRDcmVhdGlvblJ1bGVBcmdzIH0gZnJvbSAnLi4vLi4vZW50aXR5L2dldC1jcmVhdGlvbi1ydWxlLWFyZ3MnO1xyXG5cclxuQENvbXBvbmVudCh7XHJcbiAgICBzZWxlY3RvcjogXCJhcHAtYWlmLXB1c2gtc2VsZWN0LWNyZWF0aW9uLXJ1bGVcIixcclxuICAgIHRlbXBsYXRlVXJsOiAnLi9haWYtcHVzaC1zZWxlY3QtY3JlYXRpb24tcnVsZS5jb21wb25lbnQuaHRtbCcsXHJcbiAgICBzdHlsZVVybHM6IFsnLi9haWYtcHVzaC1zZWxlY3QtY3JlYXRpb24tcnVsZS5jb21wb25lbnQuY3NzJ11cclxufSlcclxuZXhwb3J0IGNsYXNzIEFpZlB1c2hTZWxlY3RDcmVhdGlvblJ1bGVDb21wb25lbnQgaW1wbGVtZW50cyBPbkluaXQge1xyXG4gICAgdm9UeXBlQ29kZXM6IHN0cmluZ1tdID0gW107XHJcblxyXG4gICAgdm9UeXBlT2JqczogeyBbdm9UeXBlOiBzdHJpbmddOiB7IFwiVm9UeXBlXCI6IHN0cmluZywgXCJWb05hbWVcIjogc3RyaW5nIH0gfSA9IHt9O1xyXG5cclxuICAgIGdldENyZWF0aW9uUnVsZVJlc3VsdEVudGl0aWVzOiB7IFt2b1R5cGU6IHN0cmluZ106IENyZWF0aW9uUnVsZVJlc3VsdEVudGl0eUV4W10gfSA9IHt9O1xyXG5cclxuICAgIHNlbGVjdGVkVm9UeXBlQ29kZTogc3RyaW5nID0gbnVsbDtcclxuXHJcbiAgICBzZWxlY3RlZEdldENyZWF0aW9uUnVsZVJlc3VsdEVudGl0eTogQ3JlYXRpb25SdWxlUmVzdWx0RW50aXR5RXggPSBudWxsO1xyXG5cclxuICAgIGJzTW9kYWxSZWY6IEJzTW9kYWxSZWYgPSBudWxsO1xyXG5cclxuICAgIHN1YmplY3Q6IFN1YmplY3Q8QWlmQ3JlYXRpb25SdWxlRW50aXR5PiA9IG5ldyBTdWJqZWN0KCk7XHJcblxyXG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSBjclNlcnZpY2U6IEFpZlB1c2hTZWxlY3RDcmVhdGlvblJ1bGVJbnRlcm5hbFNlcnZpY2UpIHtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgbmdPbkluaXQoKTogdm9pZCB7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRDcmVhdGlvblJ1bGUoYXJnczogR2V0Q3JlYXRpb25SdWxlQXJncykge1xyXG4gICAgICAgIHRoaXMuY3JTZXJ2aWNlLmdldENyZWF0aW9uUnVsZShhcmdzKS5zdWJzY3JpYmUoXHJcbiAgICAgICAgICAgIChkYXRhOiBDcmVhdGlvblJ1bGVSZXN1bHRFbnRpdHlFeFtdKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhkYXRhKTtcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGl0ZW0gb2YgZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy52b1R5cGVDb2Rlcy5pbmNsdWRlcyhpdGVtLlRhcmdldFZvVHlwZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy52b1R5cGVDb2Rlcy5wdXNoKGl0ZW0uVGFyZ2V0Vm9UeXBlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXRDcmVhdGlvblJ1bGVSZXN1bHRFbnRpdGllc1tpdGVtLlRhcmdldFZvVHlwZV0gPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy52b1R5cGVPYmpzW2l0ZW0uVGFyZ2V0Vm9UeXBlXSA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiVm9UeXBlXCI6IGl0ZW0uVGFyZ2V0Vm9UeXBlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJWb05hbWVcIjogaXRlbS5UYXJnZXRWb1Byb3h5TmFtZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmdldENyZWF0aW9uUnVsZVJlc3VsdEVudGl0aWVzW2l0ZW0uVGFyZ2V0Vm9UeXBlXS5wdXNoKGl0ZW0pO1xyXG5cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChkYXRhLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkVm9UeXBlQ29kZSA9IHRoaXMudm9UeXBlQ29kZXNbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZEdldENyZWF0aW9uUnVsZVJlc3VsdEVudGl0eSA9IGRhdGFbMF07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIGNoYW5nZVZvVHlwZVJhZGlvKGJlVHlwZUNvZGU6IHN0cmluZykge1xyXG4gICAgICAgIHRoaXMuc2VsZWN0ZWRWb1R5cGVDb2RlID0gYmVUeXBlQ29kZTtcclxuICAgICAgICB0aGlzLnNlbGVjdGVkR2V0Q3JlYXRpb25SdWxlUmVzdWx0RW50aXR5ID0gIXRoaXMuaXNOdWxsT3JVbmRlZmluZWQodGhpcy5nZXRDcmVhdGlvblJ1bGVSZXN1bHRFbnRpdGllc1t0aGlzLnNlbGVjdGVkVm9UeXBlQ29kZV0pICYmIHRoaXMuZ2V0Q3JlYXRpb25SdWxlUmVzdWx0RW50aXRpZXNbdGhpcy5zZWxlY3RlZFZvVHlwZUNvZGVdLmxlbmd0aCA+IDAgPyB0aGlzLmdldENyZWF0aW9uUnVsZVJlc3VsdEVudGl0aWVzW3RoaXMuc2VsZWN0ZWRWb1R5cGVDb2RlXVswXSA6IG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgY2xpY2tPaygpIHtcclxuICAgICAgICB0aGlzLnN1YmplY3QubmV4dCh0aGlzLnNlbGVjdGVkR2V0Q3JlYXRpb25SdWxlUmVzdWx0RW50aXR5IGFzIEFpZkNyZWF0aW9uUnVsZUVudGl0eSk7XHJcbiAgICAgICAgdGhpcy5zdWJqZWN0LmNvbXBsZXRlKCk7XHJcbiAgICAgICAgdGhpcy5ic01vZGFsUmVmLmNsb3NlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgY2xpY2tDbG9zZSgpIHtcclxuICAgICAgICB0aGlzLmJzTW9kYWxSZWYuY2xvc2UoKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGlzTnVsbE9yVW5kZWZpbmVkKGFyZzogYW55KTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIGFyZyA9PSBudWxsO1xyXG4gICAgfVxyXG59Il19