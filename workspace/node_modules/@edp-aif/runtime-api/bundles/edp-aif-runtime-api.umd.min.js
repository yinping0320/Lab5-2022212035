!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/common"),require("@angular/forms"),require("@angular/common/http"),require("@farris/ui-dialog"),require("@edp-aif/common-api"),require("@farris/ui-treetable"),require("@farris/ui-notify"),require("@farris/ui-messager"),require("@farris/command-services"),require("@angular/core"),require("@farris/ui-modal"),require("@farris/devkit"),require("rxjs"),require("rxjs/operators")):"function"==typeof define&&define.amd?define("@edp-aif/runtime-api",["exports","@angular/common","@angular/forms","@angular/common/http","@farris/ui-dialog","@edp-aif/common-api","@farris/ui-treetable","@farris/ui-notify","@farris/ui-messager","@farris/command-services","@angular/core","@farris/ui-modal","@farris/devkit","rxjs","rxjs/operators"],e):e((t["edp-aif"]=t["edp-aif"]||{},t["edp-aif"]["runtime-api"]={}),t.ng.common,t.ng.forms,t.ng.common.http,t.uiDialog,t.commonApi,t.uiTreetable,t.uiNotify,t.uiMessager,t.commandServices,t.ng.core,t.uiModal,t.devkit,t.rxjs,t.rxjs.operators)}(this,function(t,e,o,r,n,i,s,a,l,u,c,p,d,h,m){"use strict";var b=function(t,e){return(b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)};function y(t,e){function o(){this.constructor=t}b(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}var f,I=(y(g,f=i.JsonConvertableImpl),g.prototype.ResetBeforeLoadFrom=function(){f.prototype.ResetBeforeLoadFrom.call(this),this.relationName=null,this.srcRootTableName=null,this.srcRootDataId=null,this.srcParentTableName=null,this.srcParentDataId=null,this.srcTableName=null,this.srcDataId=null,this.tarRootTableName=null,this.tarRootDataId=null,this.tarParentTableName=null,this.tarParentDataId=null,this.tarTableName=null,this.tarDataId=null,this.srcTableNamePath=null,this.srcDataIdPath=null,this.tarTableNamePath=null,this.tarDataIdPath=null,this.mappingUnitId=null,this.associationType=null},g.prototype.ConvertToJsonObject=function(){var t=f.prototype.ConvertToJsonObject.call(this);return i.BpmnModelJsonHelper.SetAttributeValue(t,"relationName",this.relationName),i.BpmnModelJsonHelper.SetAttributeValue(t,"srcRootTableName",this.srcRootTableName),i.BpmnModelJsonHelper.SetAttributeValue(t,"srcRootDataId",this.srcRootDataId),i.BpmnModelJsonHelper.SetAttributeValue(t,"srcParentTableName",this.srcParentTableName),i.BpmnModelJsonHelper.SetAttributeValue(t,"srcParentDataId",this.srcParentDataId),i.BpmnModelJsonHelper.SetAttributeValue(t,"srcTableName",this.srcTableName),i.BpmnModelJsonHelper.SetAttributeValue(t,"srcDataId",this.srcDataId),i.BpmnModelJsonHelper.SetAttributeValue(t,"tarRootTableName",this.tarRootTableName),i.BpmnModelJsonHelper.SetAttributeValue(t,"tarRootDataId",this.tarRootDataId),i.BpmnModelJsonHelper.SetAttributeValue(t,"tarParentTableName",this.tarParentTableName),i.BpmnModelJsonHelper.SetAttributeValue(t,"tarParentDataId",this.tarParentDataId),i.BpmnModelJsonHelper.SetAttributeValue(t,"tarTableName",this.tarTableName),i.BpmnModelJsonHelper.SetAttributeValue(t,"tarDataId",this.tarDataId),i.BpmnModelJsonHelper.SetAttributeValue(t,"srcTableNamePath",this.srcTableNamePath),i.BpmnModelJsonHelper.SetAttributeValue(t,"srcDataIdPath",this.srcDataIdPath),i.BpmnModelJsonHelper.SetAttributeValue(t,"tarTableNamePath",this.tarTableNamePath),i.BpmnModelJsonHelper.SetAttributeValue(t,"tarDataIdPath",this.tarDataIdPath),i.BpmnModelJsonHelper.SetAttributeValue(t,"mappingUnitId",this.mappingUnitId),i.BpmnModelJsonHelper.SetAttributeValue(t,"associationType",this.associationType),t},g.prototype.LoadFromJsonObject=function(t){f.prototype.LoadFromJsonObject.call(this,t),this.relationName=i.BpmnModelJsonHelper.GetAttributeValueAsString(t,"relationName"),this.srcRootTableName=i.BpmnModelJsonHelper.GetAttributeValueAsString(t,"srcRootTableName"),this.srcRootDataId=i.BpmnModelJsonHelper.GetAttributeValueAsString(t,"srcRootDataId"),this.srcParentTableName=i.BpmnModelJsonHelper.GetAttributeValueAsString(t,"srcParentTableName"),this.srcParentDataId=i.BpmnModelJsonHelper.GetAttributeValueAsString(t,"srcParentDataId"),this.srcTableName=i.BpmnModelJsonHelper.GetAttributeValueAsString(t,"srcTableName"),this.srcDataId=i.BpmnModelJsonHelper.GetAttributeValueAsString(t,"srcDataId"),this.tarRootTableName=i.BpmnModelJsonHelper.GetAttributeValueAsString(t,"tarRootTableName"),this.tarRootDataId=i.BpmnModelJsonHelper.GetAttributeValueAsString(t,"tarRootDataId"),this.tarParentTableName=i.BpmnModelJsonHelper.GetAttributeValueAsString(t,"tarParentTableName"),this.tarParentDataId=i.BpmnModelJsonHelper.GetAttributeValueAsString(t,"tarParentDataId"),this.tarTableName=i.BpmnModelJsonHelper.GetAttributeValueAsString(t,"tarTableName"),this.tarDataId=i.BpmnModelJsonHelper.GetAttributeValueAsString(t,"tarDataId"),this.srcTableNamePath=i.BpmnModelJsonHelper.GetAttributeValueAsString(t,"srcTableNamePath"),this.srcDataIdPath=i.BpmnModelJsonHelper.GetAttributeValueAsString(t,"srcDataIdPath"),this.tarTableNamePath=i.BpmnModelJsonHelper.GetAttributeValueAsString(t,"tarTableNamePath"),this.tarDataIdPath=i.BpmnModelJsonHelper.GetAttributeValueAsString(t,"tarDataIdPath"),this.mappingUnitId=i.BpmnModelJsonHelper.GetAttributeValueAsString(t,"mappingUnitId"),this.associationType=i.BpmnModelJsonHelper.GetAttributeValueAsString(t,"associationType")},g);function g(){return null!==f&&f.apply(this,arguments)||this}var A,V=(y(R,A=i.JsonConvertableImpl),R.prototype.ResetBeforeLoadFrom=function(){A.prototype.ResetBeforeLoadFrom.call(this),this.creationRuleId=null,this.creationRuleInstanceId=null,this.bizFlowchartId=null,this.creationProcessId=null,this.creationProcessInstanceId=null,this.isAllAssociation=!1,this.associations=new Array},R.prototype.ConvertToJsonObject=function(){var t=A.prototype.ConvertToJsonObject.call(this);return i.BpmnModelJsonHelper.SetAttributeValue(t,"creationRuleId",this.creationRuleId),i.BpmnModelJsonHelper.SetAttributeValue(t,"creationRuleInstanceId",this.creationRuleInstanceId),i.BpmnModelJsonHelper.SetAttributeValue(t,"bizFlowchartId",this.bizFlowchartId),i.BpmnModelJsonHelper.SetAttributeValue(t,"creationProcessId",this.creationProcessId),i.BpmnModelJsonHelper.SetAttributeValue(t,"creationProcessInstanceId",this.creationProcessInstanceId),i.BpmnModelJsonHelper.SetAttributeValue(t,"isAllAssociation",this.isAllAssociation),i.BpmnModelJsonHelper.SetAttributeValue(t,"associations",this.associations),t},R.prototype.LoadFromJsonObject=function(t){A.prototype.LoadFromJsonObject.call(this,t),this.creationRuleId=i.BpmnModelJsonHelper.GetAttributeValueAsString(t,"creationRuleId"),this.creationRuleInstanceId=i.BpmnModelJsonHelper.GetAttributeValueAsString(t,"creationRuleInstanceId"),this.bizFlowchartId=i.BpmnModelJsonHelper.GetAttributeValueAsString(t,"bizFlowchartId"),this.creationProcessId=i.BpmnModelJsonHelper.GetAttributeValueAsString(t,"creationProcessId"),this.creationProcessInstanceId=i.BpmnModelJsonHelper.GetAttributeValueAsString(t,"creationProcessInstanceId"),this.isAllAssociation=i.BpmnModelJsonHelper.GetAttributeValueAsBoolean(t,"isAllAssociation"),this.associations=i.BpmnModelJsonHelper.GetAttributeValueAsList(t,"associations",I)},R);function R(){var t=null!==A&&A.apply(this,arguments)||this;return t.isAllAssociation=!1,t.associations=new Array,t}var S,v=(y(J,S=i.JsonConvertableImpl),J.prototype.ResetBeforeLoadFrom=function(){S.prototype.ResetBeforeLoadFrom.call(this),this.upperBeFuncSessionId=null,this.associations=new Array},J.prototype.ConvertToJsonObject=function(){var t=S.prototype.ConvertToJsonObject.call(this);return i.BpmnModelJsonHelper.SetAttributeValue(t,"upperBeFuncSessionId",this.upperBeFuncSessionId),i.BpmnModelJsonHelper.SetAttributeValue(t,"associations",this.associations),t},J.prototype.LoadFromJsonObject=function(t){S.prototype.LoadFromJsonObject.call(this,t),this.upperBeFuncSessionId=i.BpmnModelJsonHelper.GetAttributeValueAsString(t,"upperBeFuncSessionId"),this.associations=i.BpmnModelJsonHelper.GetAttributeValueAsList(t,"associations",V)},J);function J(){var t=null!==S&&S.apply(this,arguments)||this;return t.associations=new Array,t}var B,M=(y(C,B=i.JsonConvertableImpl),C.prototype.ResetBeforeLoadFrom=function(){B.prototype.ResetBeforeLoadFrom.call(this),this.voId=null,this.changeDetail=null},C.prototype.ConvertToJsonObject=function(){var t=B.prototype.ConvertToJsonObject.call(this);return i.BpmnModelJsonHelper.SetAttributeValue(t,"voId",this.voId),i.BpmnModelJsonHelper.SetAttributeValue(t,"changeDetail",this.changeDetail),t},C.prototype.LoadFromJsonObject=function(t){B.prototype.LoadFromJsonObject.call(this,t),this.voId=i.BpmnModelJsonHelper.GetAttributeValueAsString(t,"voId"),this.changeDetail=JSON.parse(i.BpmnModelJsonHelper.GetAttributeValueAsString(t,"changeDetail"))},C);function C(){return null!==B&&B.apply(this,arguments)||this}var F,H=(y(L,F=M),L.prototype.ResetBeforeLoadFrom=function(){F.prototype.ResetBeforeLoadFrom.call(this),this.associations=new Array,this.entityData=null},L.prototype.ConvertToJsonObject=function(){var t=F.prototype.ConvertToJsonObject.call(this);return i.BpmnModelJsonHelper.SetAttributeValue(t,"associations",this.associations),i.BpmnModelJsonHelper.SetAttributeValue(t,"entityData",this.entityData),t},L.prototype.LoadFromJsonObject=function(t){F.prototype.LoadFromJsonObject.call(this,t),this.associations=i.BpmnModelJsonHelper.GetAttributeValueAsList(t,"associations",I),this.entityData=i.BpmnModelJsonHelper.GetAttributeValue(t,"entityData")},L);function L(){var t=null!==F&&F.apply(this,arguments)||this;return t.associations=new Array,t.entityData=null,t}var w,T=(y(E,w=i.JsonConvertableImpl),E.prototype.ResetBeforeLoadFrom=function(){w.prototype.ResetBeforeLoadFrom.call(this),this.sourceVoEntities=new Array,this.creationRuleId=null,this.bizFlowchartId=null,this.sourceVoId=null,this.targetVoProxyId=null,this.targetVoProxyEntities=new Array},E.prototype.ConvertToJsonObject=function(){var t=w.prototype.ConvertToJsonObject.call(this);return i.BpmnModelJsonHelper.SetAttributeValue(t,"creationRuleId",this.creationRuleId),i.BpmnModelJsonHelper.SetAttributeValue(t,"sourceVoId",this.sourceVoId),i.BpmnModelJsonHelper.SetAttributeValue(t,"bizFlowchartId",this.bizFlowchartId),i.BpmnModelJsonHelper.SetAttributeValue(t,"sourceVoEntities",this.sourceVoEntities),i.BpmnModelJsonHelper.SetAttributeValue(t,"targetVoProxyId",this.targetVoProxyId),i.BpmnModelJsonHelper.SetAttributeValue(t,"targetVoProxyEntities",this.targetVoProxyEntities),t},E.prototype.LoadFromJsonObject=function(t){w.prototype.LoadFromJsonObject.call(this,t),this.creationRuleId=i.BpmnModelJsonHelper.GetAttributeValueAsString(t,"creationRuleId"),this.sourceVoId=i.BpmnModelJsonHelper.GetAttributeValueAsString(t,"sourceVoId"),this.bizFlowchartId=i.BpmnModelJsonHelper.GetAttributeValueAsString(t,"bizFlowchartId"),this.sourceVoEntities=i.BpmnModelJsonHelper.GetAttributeValue(t,"sourceVoEntities"),this.targetVoProxyId=i.BpmnModelJsonHelper.GetAttributeValueAsString(t,"targetVoProxyId"),this.targetVoProxyEntities=i.BpmnModelJsonHelper.GetAttributeValue(t,"targetVoProxyEntities")},E);function E(){var t=null!==w&&w.apply(this,arguments)||this;return t.sourceVoEntities=new Array,t.targetVoProxyEntities=new Array,t}var j,D=(y(x,j=i.JsonConvertableImpl),x.prototype.ResetBeforeLoadFrom=function(){j.prototype.ResetBeforeLoadFrom.call(this),this.creationRuleId=null,this.creationRuleInstanceId=null,this.bizFlowchartId=null,this.isAllAssociation=!1,this.mappingResults=new Array},x.prototype.ConvertToJsonObject=function(){var t=j.prototype.ConvertToJsonObject.call(this);return i.BpmnModelJsonHelper.SetAttributeValue(t,"creationRuleId",this.creationRuleId),i.BpmnModelJsonHelper.SetAttributeValue(t,"creationRuleInstanceId",this.creationRuleInstanceId),i.BpmnModelJsonHelper.SetAttributeValue(t,"bizFlowchartId",this.bizFlowchartId),i.BpmnModelJsonHelper.SetAttributeValue(t,"isAllAssociation",this.isAllAssociation),i.BpmnModelJsonHelper.SetAttributeValue(t,"mappingResults",this.mappingResults),t},x.prototype.LoadFromJsonObject=function(t){j.prototype.LoadFromJsonObject.call(this,t),this.creationRuleId=i.BpmnModelJsonHelper.GetAttributeValueAsString(t,"creationRuleId"),this.creationRuleInstanceId=i.BpmnModelJsonHelper.GetAttributeValueAsString(t,"creationRuleInstanceId"),this.bizFlowchartId=i.BpmnModelJsonHelper.GetAttributeValueAsString(t,"bizFlowchartId"),this.isAllAssociation=i.BpmnModelJsonHelper.GetAttributeValueAsBoolean(t,"isAllAssociation"),this.mappingResults=i.BpmnModelJsonHelper.GetAttributeValueAsList(t,"mappingResults",H)},x);function x(){var t=null!==j&&j.apply(this,arguments)||this;return t.isAllAssociation=!1,t.mappingResults=new Array,t}var O,P=(y(G,O=i.JsonConvertableImpl),G.prototype.ResetBeforeLoadFrom=function(){O.prototype.ResetBeforeLoadFrom.call(this),this.conditionExecutionResult=!1,this.message=null},G.prototype.ConvertToJsonObject=function(){var t=O.prototype.ConvertToJsonObject.call(this);return i.BpmnModelJsonHelper.SetAttributeValue(t,"conditionExecutionResult",this.conditionExecutionResult),i.BpmnModelJsonHelper.SetAttributeValue(t,"message",this.message),t},G.prototype.LoadFromJsonObject=function(t){O.prototype.LoadFromJsonObject.call(this,t),this.conditionExecutionResult=i.BpmnModelJsonHelper.GetAttributeValueAsBoolean(t,"conditionExecutionResult"),this.message=i.BpmnModelJsonHelper.GetAttributeValueAsString(t,"message")},G);function G(){return null!==O&&O.apply(this,arguments)||this}var N,z=(y(k,N=i.JsonConvertableImpl),k.prototype.ResetBeforeLoadFrom=function(){N.prototype.ResetBeforeLoadFrom.call(this),this.voId=null,this.changeDetail=null},k.prototype.ConvertToJsonObject=function(){var t=N.prototype.ConvertToJsonObject.call(this);return i.BpmnModelJsonHelper.SetAttributeValue(t,"voId",this.voId),i.BpmnModelJsonHelper.SetAttributeValue(t,"changeDetail",this.changeDetail),t},k.prototype.LoadFromJsonObject=function(t){N.prototype.LoadFromJsonObject.call(this,t),this.voId=i.BpmnModelJsonHelper.GetAttributeValueAsString(t,"voId"),this.changeDetail=i.BpmnModelJsonHelper.GetAttributeValueAsString(t,"changeDetail")},k);function k(){return null!==N&&N.apply(this,arguments)||this}var U,_=(y(q,U=z),q);function q(){return null!==U&&U.apply(this,arguments)||this}var K,W=(y(Y,K=_),Y.prototype.ResetBeforeLoadFrom=function(){K.prototype.ResetBeforeLoadFrom.call(this),this.associations=new Array},Y.prototype.ConvertToJsonObject=function(){var t=K.prototype.ConvertToJsonObject.call(this);return i.BpmnModelJsonHelper.SetAttributeValue(t,"associations",this.associations),t},Y.prototype.LoadFromJsonObject=function(t){K.prototype.LoadFromJsonObject.call(this,t),this.associations=i.BpmnModelJsonHelper.GetAttributeValueAsList(t,"associations",I)},Y);function Y(){var t=null!==K&&K.apply(this,arguments)||this;return t.associations=new Array,t}var Q,X=(y(Z,Q=i.JsonConvertableImpl),Z.prototype.ResetBeforeLoadFrom=function(){Q.prototype.ResetBeforeLoadFrom.call(this),this.creationRuleId=null,this.creationRuleInstanceId=null,this.bizFlowchartId=null,this.mappingResults=new Array},Z.prototype.ConvertToJsonObject=function(){var t=Q.prototype.ConvertToJsonObject.call(this);return i.BpmnModelJsonHelper.SetAttributeValue(t,"creationRuleId",this.creationRuleId),i.BpmnModelJsonHelper.SetAttributeValue(t,"creationRuleInstanceId",this.creationRuleInstanceId),i.BpmnModelJsonHelper.SetAttributeValue(t,"bizFlowchartId",this.bizFlowchartId),i.BpmnModelJsonHelper.SetAttributeValue(t,"mappingResults",this.mappingResults),t},Z.prototype.LoadFromJsonObject=function(t){Q.prototype.LoadFromJsonObject.call(this,t),this.creationRuleId=i.BpmnModelJsonHelper.GetAttributeValueAsString(t,"creationRuleId"),this.creationRuleInstanceId=i.BpmnModelJsonHelper.GetAttributeValueAsString(t,"creationRuleInstanceId"),this.bizFlowchartId=i.BpmnModelJsonHelper.GetAttributeValueAsString(t,"bizFlowchartId"),this.mappingResults=i.BpmnModelJsonHelper.GetAttributeValueAsList(t,"mappingResults",W)},Z);function Z(){var t=null!==Q&&Q.apply(this,arguments)||this;return t.mappingResults=new Array,t}var $,tt=(y(et,$=i.JsonConvertableImpl),et.prototype.ResetBeforeLoadFrom=function(){$.prototype.ResetBeforeLoadFrom.call(this),this.conditionResult=null,this.creationRuleExecutorResult=null,this.pushCreationMode=i.PushCreationMode.CREATION,this.downBillSuCode=null},et.prototype.ConvertToJsonObject=function(){var t=$.prototype.ConvertToJsonObject.call(this);return i.BpmnModelJsonHelper.SetAttributeValue(t,"conditionResult",this.conditionResult),i.BpmnModelJsonHelper.SetAttributeValue(t,"creationRuleExecutorResult",this.creationRuleExecutorResult),i.BpmnModelJsonHelper.SetAttributeValue(t,"pushCreationMode",this.pushCreationMode),i.BpmnModelJsonHelper.SetAttributeValue(t,"downBillSuCode",this.downBillSuCode),t},et.prototype.LoadFromJsonObject=function(t){$.prototype.LoadFromJsonObject.call(this,t),this.conditionResult=i.BpmnModelJsonHelper.GetAttributeValueAsJsonSerializable(t,"conditionResult",P),this.creationRuleExecutorResult=i.BpmnModelJsonHelper.GetAttributeValueAsJsonSerializable(t,"creationRuleExecutorResult",X);var e=i.BpmnModelJsonHelper.GetAttributeValueAsString(t,"pushCreationMode");null!=e&&(this.pushCreationMode=i.PushCreationMode[e]),this.downBillSuCode=i.BpmnModelJsonHelper.GetAttributeValueAsString(t,"downBillSuCode")},et);function et(){var t=null!==$&&$.apply(this,arguments)||this;return t.pushCreationMode=i.PushCreationMode.CREATION,t}var ot,rt=(y(nt,ot=i.JsonConvertableImpl),nt.prototype.ResetBeforeLoadFrom=function(){ot.prototype.ResetBeforeLoadFrom.call(this),this.sourceVoEntities=new Array,this.creationRuleId=null,this.bizFlowchartId=null,this.sourceVoId=null,this.targetVoProxyId=null,this.targetVoProxyEntities=new Array},nt.prototype.ConvertToJsonObject=function(){var t=ot.prototype.ConvertToJsonObject.call(this);return i.BpmnModelJsonHelper.SetAttributeValue(t,"creationRuleId",this.creationRuleId),i.BpmnModelJsonHelper.SetAttributeValue(t,"sourceVoId",this.sourceVoId),i.BpmnModelJsonHelper.SetAttributeValue(t,"bizFlowchartId",this.bizFlowchartId),i.BpmnModelJsonHelper.SetAttributeValue(t,"sourceVoEntities",i.BpmnModelJsonHelper.StringListToJson(this.sourceVoEntities)),i.BpmnModelJsonHelper.SetAttributeValue(t,"targetVoProxyId",this.targetVoProxyId),i.BpmnModelJsonHelper.SetAttributeValue(t,"targetVoProxyEntities",i.BpmnModelJsonHelper.StringListToJson(this.targetVoProxyEntities)),t},nt.prototype.LoadFromJsonObject=function(t){ot.prototype.LoadFromJsonObject.call(this,t),this.creationRuleId=i.BpmnModelJsonHelper.GetAttributeValueAsString(t,"creationRuleId"),this.sourceVoId=i.BpmnModelJsonHelper.GetAttributeValueAsString(t,"sourceVoId"),this.bizFlowchartId=i.BpmnModelJsonHelper.GetAttributeValueAsString(t,"bizFlowchartId"),this.sourceVoEntities=i.BpmnModelJsonHelper.StringListFromJson(i.BpmnModelJsonHelper.GetAttributeValueAsString(t,"sourceVoEntities")),this.targetVoProxyId=i.BpmnModelJsonHelper.GetAttributeValueAsString(t,"targetVoProxyId"),this.targetVoProxyEntities=i.BpmnModelJsonHelper.StringListFromJson(i.BpmnModelJsonHelper.GetAttributeValueAsString(t,"targetVoProxyEntities"))},nt);function nt(){var t=null!==ot&&ot.apply(this,arguments)||this;return t.sourceVoEntities=new Array,t.targetVoProxyEntities=new Array,t}var it,st=(y(at,it=i.JsonConvertableImpl),at.prototype.ResetBeforeLoadFrom=function(){it.prototype.ResetBeforeLoadFrom.call(this),this.voId=null,this.voChangeDetails=null,this.voEntityDatas=null,this.voEntityDataIds=new Array,this.bizEventId=null,this.voFuncSessionId=null,this.bizFlowchartId=null,this.upperBeFuncSessionId=null,this.associations=new Array},at.prototype.ConvertToJsonObject=function(){var t=it.prototype.ConvertToJsonObject.call(this);return i.BpmnModelJsonHelper.SetAttributeValue(t,"voId",this.voId),i.BpmnModelJsonHelper.SetAttributeValue(t,"voChangeDetails",this.voChangeDetails),i.BpmnModelJsonHelper.SetAttributeValue(t,"voEntityDatas",this.voEntityDatas),i.BpmnModelJsonHelper.SetAttributeValue(t,"voEntityDataIds",i.BpmnModelJsonHelper.StringListToJsonArray(this.voEntityDataIds)),i.BpmnModelJsonHelper.SetAttributeValue(t,"bizEventId",this.bizEventId),i.BpmnModelJsonHelper.SetAttributeValue(t,"voFuncSessionId",this.voFuncSessionId),i.BpmnModelJsonHelper.SetAttributeValue(t,"bizFlowchartId",this.bizFlowchartId),i.BpmnModelJsonHelper.SetAttributeValue(t,"upperBeFuncSessionId",this.upperBeFuncSessionId),i.BpmnModelJsonHelper.SetAttributeValue(t,"associations",this.associations),t},at.prototype.LoadFromJsonObject=function(t){it.prototype.LoadFromJsonObject.call(this,t),this.voId=i.BpmnModelJsonHelper.GetAttributeValueAsString(t,"voId"),this.voChangeDetails=i.BpmnModelJsonHelper.GetAttributeValueAsString(t,"voChangeDetails"),this.voEntityDatas=i.BpmnModelJsonHelper.GetAttributeValueAsString(t,"voEntityDatas"),this.voEntityDataIds=i.BpmnModelJsonHelper.StringListFromJsonArray(i.BpmnModelJsonHelper.GetAttributeValue(t,"voEntityDataIds")),this.bizEventId=i.BpmnModelJsonHelper.GetAttributeValueAsString(t,"bizEventId"),this.voFuncSessionId=i.BpmnModelJsonHelper.GetAttributeValueAsString(t,"voFuncSessionId"),this.bizFlowchartId=i.BpmnModelJsonHelper.GetAttributeValueAsString(t,"bizFlowchartId"),this.upperBeFuncSessionId=i.BpmnModelJsonHelper.GetAttributeValueAsString(t,"upperBeFuncSessionId"),this.associations=i.BpmnModelJsonHelper.GetAttributeValueAsList(t,"associations",V)},at);function at(){var t=null!==it&&it.apply(this,arguments)||this;return t.voChangeDetails=null,t.voEntityDatas=null,t.voEntityDataIds=new Array,t.associations=new Array,t}var lt,ut=(y(ct,lt=_),ct);function ct(){return null!==lt&&lt.apply(this,arguments)||this}var pt,dt=(y(ht,pt=i.JsonConvertableImpl),ht.prototype.ResetBeforeLoadFrom=function(){pt.prototype.ResetBeforeLoadFrom.call(this),this.writebackRuleId=null,this.sourceVoId=null,this.targetVoFuncSessionId=null,this.sourceVoEntities=new Array,this.associations=new Array},ht.prototype.ConvertToJsonObject=function(){var t=pt.prototype.ConvertToJsonObject.call(this);return i.BpmnModelJsonHelper.SetAttributeValue(t,"writebackRuleId",this.writebackRuleId),i.BpmnModelJsonHelper.SetAttributeValue(t,"sourceVoId",this.sourceVoId),i.BpmnModelJsonHelper.SetAttributeValue(t,"targetVoFuncSessionId",this.targetVoFuncSessionId),i.BpmnModelJsonHelper.SetAttributeValue(t,"sourceVoEntities",i.BpmnModelJsonHelper.StringListToJson(this.sourceVoEntities)),i.BpmnModelJsonHelper.SetAttributeValue(t,"associations",this.associations),t},ht.prototype.LoadFromJsonObject=function(t){pt.prototype.LoadFromJsonObject.call(this,t),this.writebackRuleId=i.BpmnModelJsonHelper.GetAttributeValueAsString(t,"writebackRuleId"),this.sourceVoId=i.BpmnModelJsonHelper.GetAttributeValueAsString(t,"sourceVoId"),this.targetVoFuncSessionId=i.BpmnModelJsonHelper.GetAttributeValueAsString(t,"targetVoFuncSessionId"),this.sourceVoEntities=i.BpmnModelJsonHelper.StringListFromJson(i.BpmnModelJsonHelper.GetAttributeValueAsString(t,"sourceVoEntities")),this.associations=i.BpmnModelJsonHelper.GetAttributeValueAsList(t,"associations",I)},ht);function ht(){var t=null!==pt&&pt.apply(this,arguments)||this;return t.sourceVoEntities=new Array,t.associations=new Array,t}var mt,bt=(y(yt,mt=i.JsonConvertableImpl),yt.prototype.ResetBeforeLoadFrom=function(){mt.prototype.ResetBeforeLoadFrom.call(this),this.mappingResults=new Array},yt.prototype.ConvertToJsonObject=function(){var t=mt.prototype.ConvertToJsonObject.call(this);return i.BpmnModelJsonHelper.SetAttributeValue(t,"mappingResults",this.mappingResults),t},yt.prototype.LoadFromJsonObject=function(t){mt.prototype.LoadFromJsonObject.call(this,t),this.mappingResults=i.BpmnModelJsonHelper.GetAttributeValueAsList(t,"mappingResults",ut)},yt);function yt(){var t=null!==mt&&mt.apply(this,arguments)||this;return t.mappingResults=new Array,t}function ft(){}var It,gt=new c.InjectionToken("SELECTOR_ARGS_INJECTOR"),At=(y(Vt,It=i.JsonConvertableImpl),Vt.prototype.ResetBeforeLoadFrom=function(){It.prototype.ResetBeforeLoadFrom.call(this),this.rpcCreationRuleExecutorResult=null},Vt.prototype.ConvertToJsonObject=function(){var t=It.prototype.ConvertToJsonObject.call(this);return i.BpmnModelJsonHelper.SetAttributeValue(t,"rpcCreationRuleExecutorResult",this.rpcCreationRuleExecutorResult),t},Vt.prototype.LoadFromJsonObject=function(t){It.prototype.LoadFromJsonObject.call(this,t),this.rpcCreationRuleExecutorResult=i.BpmnModelJsonHelper.GetAttributeValueAsString(t,"rpcCreationRuleExecutorResult")},Vt);function Vt(){return null!==It&&It.apply(this,arguments)||this}var Rt,St=(y(vt,Rt=At),vt.prototype.ResetBeforeLoadFrom=function(){Rt.prototype.ResetBeforeLoadFrom.call(this),this.formVoId=null},vt.prototype.ConvertToJsonObject=function(){var t=Rt.prototype.ConvertToJsonObject.call(this);return i.BpmnModelJsonHelper.SetAttributeValue(t,"formVoId",this.formVoId),t},vt.prototype.LoadFromJsonObject=function(t){Rt.prototype.LoadFromJsonObject.call(this,t),this.formVoId=i.BpmnModelJsonHelper.GetAttributeValueAsString(t,"formVoId")},vt);function vt(){return null!==Rt&&Rt.apply(this,arguments)||this}var Jt,Bt=(y(Mt,Jt=i.JsonConvertableImpl),Mt);function Mt(){return null!==Jt&&Jt.apply(this,arguments)||this}var Ct,Ft=(y(Ht,Ct=Bt),Ht.prototype.ResetBeforeLoadFrom=function(){Ct.prototype.ResetBeforeLoadFrom.call(this),this.entityDataList=new Array},Ht.prototype.ConvertToJsonObject=function(){var t=Ct.prototype.ConvertToJsonObject.call(this);return i.BpmnModelJsonHelper.SetAttributeValue(t,"entityDataList",i.BpmnModelJsonHelper.StringListToJsonArray(this.entityDataList)),t},Ht.prototype.LoadFromJsonObject=function(t){Ct.prototype.LoadFromJsonObject.call(this,t),this.entityDataList=i.BpmnModelJsonHelper.StringListFromJsonArray(i.BpmnModelJsonHelper.GetAttributeValue(t,"entityDataList"))},Ht);function Ht(){var t=null!==Ct&&Ct.apply(this,arguments)||this;return t.entityDataList=new Array,t}var Lt,wt=(y(Tt,Lt=i.JsonConvertableImpl),Tt.prototype.ResetBeforeLoadFrom=function(){Lt.prototype.ResetBeforeLoadFrom.call(this),this.sourceVoEntityDatas=new Array,this.creationRuleId=null,this.bizFlowchartId=null,this.targetVoDataIds=new Array},Tt.prototype.ConvertToJsonObject=function(){var t=Lt.prototype.ConvertToJsonObject.call(this);return i.BpmnModelJsonHelper.SetAttributeValue(t,"creationRuleId",this.creationRuleId),i.BpmnModelJsonHelper.SetAttributeValue(t,"bizFlowchartId",this.bizFlowchartId),i.BpmnModelJsonHelper.SetAttributeValue(t,"sourceVoEntityDatas",i.BpmnModelJsonHelper.StringListToJsonArray(this.sourceVoEntityDatas)),i.BpmnModelJsonHelper.SetAttributeValue(t,"targetVoDataIds",i.BpmnModelJsonHelper.StringListToJsonArray(this.targetVoDataIds)),t},Tt.prototype.LoadFromJsonObject=function(t){Lt.prototype.LoadFromJsonObject.call(this,t),this.creationRuleId=i.BpmnModelJsonHelper.GetAttributeValueAsString(t,"creationRuleId"),this.bizFlowchartId=i.BpmnModelJsonHelper.GetAttributeValueAsString(t,"bizFlowchartId"),this.sourceVoEntityDatas=i.BpmnModelJsonHelper.StringListFromJsonArray(i.BpmnModelJsonHelper.GetAttributeValue(t,"sourceVoEntityDatas")),this.targetVoDataIds=i.BpmnModelJsonHelper.StringListFromJsonArray(i.BpmnModelJsonHelper.GetAttributeValue(t,"targetVoDataIds"))},Tt);function Tt(){var t=null!==Lt&&Lt.apply(this,arguments)||this;return t.sourceVoEntityDatas=new Array,t.targetVoDataIds=new Array,t}var Et,jt=(y(Dt,Et=i.JsonConvertableImpl),Dt.prototype.ResetBeforeLoadFrom=function(){if(Et.prototype.ResetBeforeLoadFrom.call(this),(this.dataId=null)!=this.children)for(var t in this.children)delete this.children[t]},Dt.prototype.ConvertToJsonObject=function(){var t=Et.prototype.ConvertToJsonObject.call(this);if(i.BpmnModelJsonHelper.SetAttributeValue(t,"dataId",this.dataId),null!=this.children){var e={};for(var o in this.children)i.BpmnModelJsonHelper.SetAttributeValue(e,o,this.children[o]);i.BpmnModelJsonHelper.SetAttributeValue(t,"children",e)}return t},Dt.prototype.LoadFromJsonObject=function(t){Et.prototype.LoadFromJsonObject.call(this,t),this.dataId=i.BpmnModelJsonHelper.GetAttributeValueAsString(t,"dataId");var e=i.BpmnModelJsonHelper.GetAttributeValue(t,"children");if(null!=e)for(var o in e){var r=i.BpmnModelJsonHelper.GetAttributeValueAsList(e,o,Dt);this.children[o]=r}},Dt);function Dt(){var t=null!==Et&&Et.apply(this,arguments)||this;return t.children={},t}var xt,Ot=(y(Pt,xt=At),Pt);function Pt(){return null!==xt&&xt.apply(this,arguments)||this}var Gt,Nt=(y(zt,Gt=Bt),zt);function zt(){return null!==Gt&&Gt.apply(this,arguments)||this}var kt,Ut=(y(_t,kt=i.JsonConvertableImpl),_t.prototype.ResetBeforeLoadFrom=function(){kt.prototype.ResetBeforeLoadFrom.call(this),this.bizFlowchartId=null,this.sourceVoId=null,this.targetVoId=null},_t.prototype.ConvertToJsonObject=function(){var t=kt.prototype.ConvertToJsonObject.call(this);return i.BpmnModelJsonHelper.SetAttributeValue(t,"bizFlowchartId",this.bizFlowchartId),i.BpmnModelJsonHelper.SetAttributeValue(t,"sourceVoId",this.sourceVoId),i.BpmnModelJsonHelper.SetAttributeValue(t,"targetVoId",this.targetVoId),t},_t.prototype.LoadFromJsonObject=function(t){kt.prototype.LoadFromJsonObject.call(this,t),this.bizFlowchartId=i.BpmnModelJsonHelper.GetAttributeValueAsString(t,"bizFlowchartId"),this.sourceVoId=i.BpmnModelJsonHelper.GetAttributeValueAsString(t,"sourceVoId"),this.targetVoId=i.BpmnModelJsonHelper.GetAttributeValueAsString(t,"targetVoId")},_t);function _t(){return null!==kt&&kt.apply(this,arguments)||this}var qt,Kt=(y(Wt,qt=i.JsonConvertableImpl),Wt.prototype.ResetBeforeLoadFrom=function(){qt.prototype.ResetBeforeLoadFrom.call(this),this.ruleEntityExes=new Array},Wt.prototype.ConvertToJsonObject=function(){var t=qt.prototype.ConvertToJsonObject.call(this);return i.BpmnModelJsonHelper.SetAttributeValue(t,"ruleEntityExes",this.ruleEntityExes),t},Wt.prototype.LoadFromJsonObject=function(t){qt.prototype.LoadFromJsonObject.call(this,t),this.ruleEntityExes=i.BpmnModelJsonHelper.GetAttributeValueAsList(t,"ruleEntityExes",i.SlimCreationRuleEntityEx)},Wt);function Wt(){var t=null!==qt&&qt.apply(this,arguments)||this;return t.ruleEntityExes=new Array,t}var Yt=(Qt.prototype.getSlimCreationRulesBySourceVoId=function(t){var e=new Ut;return e.sourceVoId=t,this.getCreationRuleList(e).pipe(m.map(function(t){return t.ruleEntityExes}))},Qt.prototype.getSlimCreationRulesByTargetVoId=function(t){var e=new Ut;return e.targetVoId=t,this.getCreationRuleList(e).pipe(m.map(function(t){return t.ruleEntityExes}))},Qt.prototype.getSlimCreationRulesBySourceVoIdAndTargetVoId=function(t,e){var o=new Ut;return o.sourceVoId=t,o.targetVoId=e,this.getCreationRuleList(o).pipe(m.map(function(t){return t.ruleEntityExes}))},Qt.prototype.getSlimCreationRulesBySourceVoIdAndFlowchartId=function(t,e){var o=new Ut;return o.sourceVoId=t,o.bizFlowchartId=e,this.getCreationRuleList(o).pipe(m.map(function(t){return t.ruleEntityExes}))},Qt.prototype.getSlimCreationRulesByTargetVoIdAndFlowchartId=function(t,e){var o=new Ut;return o.targetVoId=t,o.bizFlowchartId=e,this.getCreationRuleList(o).pipe(m.map(function(t){return t.ruleEntityExes}))},Qt.prototype.getSlimCreationRulesBySourceVoIdAndTargetVoIdAndFlowchartId=function(t,e,o){var r=new Ut;return r.sourceVoId=t,r.targetVoId=e,r.bizFlowchartId=o,this.getCreationRuleList(r).pipe(m.map(function(t){return t.ruleEntityExes}))},Qt.prototype.getSlimCreationRuleEntityExById=function(t){return this.repository.proxy.request(this.getCreationRuleEntityByIdUrl+"/"+t,this.getCreationRuleEntityByIdMethod,null)},Qt.prototype.getFormSettingsById=function(t){if(null==t||""==t.trim())throw"生单规则为空";return this.repository.proxy.request(this.generalTextUrl+"/"+t,this.generalTextMethod,null,{responseType:"text"}).pipe(m.map(function(t){var e=new i.GeneralTextEntity;e.LoadFromJson(t);var o=new i.FormSettings;return o.LoadFromJson(e.text),o}))},Qt.prototype.executeCreationRule=function(t){var e=t.ConvertToJson();return this.repository.proxy.request(this.executeCreationRuleUrl,this.executeCreationRuleMethod,null,{body:e,responseType:"text"}).pipe(m.map(function(t){var e=new X;return e.LoadFromJson(t),e}))},Qt.prototype.createEntityDatas=function(t){var n=this,e={body:t.ConvertToJson(),responseType:"text"};return this.repository.proxy.request(this.formCreateUrl,this.formCreateMethod,null,e).pipe(m.switchMap(function(t){var e=new Ft;e.LoadFromJson(t);var o=e.entityDataList.map(function(t){var e=n.repository.buildEntity(JSON.parse(t));return n.appendInitialData(e,e),e}),r=n.repository.entityCollection.getAllEntities();return null==r||0==r.length?n.repository.entityCollection.loadEntities(o):n.repository.entityCollection.addEntities(o),h.of(e)}))},Qt.prototype.updateEntityDatas=function(t){var e={body:t.ConvertToJson(),responseType:"text"};return this.repository.proxy.request(this.formUpdateUrl,this.formUpdateMethod,null,e).pipe(m.map(function(t){var e=new Nt;return e.LoadFromJson(t),e}))},Qt.prototype.getCreationRuleList=function(t){if(null==t)throw"args不可为空";if("string"==typeof t){if(""==t)throw"args不可为空";var e=new Ut;e.LoadFromJson(t),t=e}return this.repository.proxy.request(this.getCreationRuleUrl,this.getCreationRuleMethod,null,{body:t.ConvertToJson(),responseType:"text"}).pipe(m.map(function(t){var e=new Kt;return e.LoadFromJson(t),e}))},Qt.prototype.appendInitialData=function(t,e){var o=Object.assign({},e);delete o.id,delete o.parentID,t.initialData=o},Qt.decorators=[{type:c.Injectable}],Qt.ctorParameters=function(){return[{type:d.Repository}]},Qt);function Qt(t){this.getCreationRuleEntityByIdUrl="/api/runtime/aif/v1.0/form/getcreationruleentityex",this.getCreationRuleEntityByIdMethod="GET",this.getCreationRuleUrl="/api/runtime/aif/v1.0/form/getcreationruleentityexes",this.getCreationRuleMethod="POST",this.executeCreationRuleUrl="/api/runtime/aif/v1.0/form/executecreationrule",this.executeCreationRuleMethod="POST",this.formCreateUrl="/api/runtime/aif/v1.0/form/create",this.formCreateMethod="POST",this.formUpdateUrl="/api/runtime/aif/v1.0/form/update",this.formUpdateMethod="POST",this.generalTextUrl="/api/runtime/aif/v1.0/generaltext",this.generalTextMethod="GET",this.repository=t}var Xt=(Object.defineProperty(Zt.prototype,"selectedSourceVoId",{get:function(){return this._selectedSourceVoId},set:function(t){null!=(this._selectedSourceVoId=t)&&(this.selectedCreationRule=this.creationRuleDict[this._selectedSourceVoId][0])},enumerable:!0,configurable:!0}),Zt.prototype.ngOnInit=function(){this.loadItems()},Zt.prototype.loadItems=function(){var e=this;(null==this.args.sourceVoId?null==this.args.bizFlowchartId?this.dataService.getSlimCreationRulesByTargetVoId(this.args.targetVoId):this.dataService.getSlimCreationRulesByTargetVoIdAndFlowchartId(this.args.targetVoId,this.args.bizFlowchartId):null==this.args.bizFlowchartId?this.dataService.getSlimCreationRulesBySourceVoIdAndTargetVoId(this.args.sourceVoId,this.args.targetVoId):this.dataService.getSlimCreationRulesBySourceVoIdAndTargetVoIdAndFlowchartId(this.args.sourceVoId,this.args.targetVoId,this.args.bizFlowchartId)).subscribe(function(t){t.forEach(function(t){!1===e.sourceVoIdList.includes(t.sourceVoId)&&(e.sourceVoIdList.push(t.sourceVoId),e.creationRuleDict[t.sourceVoId]=new Array),e.sourceVoNameDict[t.sourceVoId]=t.sourceVoName,e.creationRuleDict[t.sourceVoId].push(t)}),e.selectedSourceVoId=0<e.sourceVoIdList.length?e.sourceVoIdList[0]:null})},Zt.decorators=[{type:c.Component,args:[{selector:"lib-refer-selector",template:'<div class="g-main p-2">\r\n  \x3c!--  --\x3e\r\n  <div class="form-group" style="height: 150px;overflow-y: auto;">\r\n    <div [hidden]="sourceVoIdList.length != 0"><span style="color: red;">{{ \'emptyResult\' | aifLocale }}</span></div>\r\n    <div>{{ \'selectSourceBillType\' | aifLocale }}</div>\r\n    <div *ngFor="let sourceVoId of sourceVoIdList;let i=index" class="col-sm-12 col-md-5 form-check form-check-inline">\r\n      <input class="form-check-input" type="radio" [name]="\'sourceVoId\'+i" id="sourceVoId" [value]="sourceVoId"\r\n        [(ngModel)]="selectedSourceVoId" />\r\n      <label class="form-check-label" [for]="\'sourceVoId\'+i">{{sourceVoNameDict[sourceVoId]}}</label>\r\n    </div>\r\n  </div>\r\n\r\n  \x3c!--  --\x3e\r\n  <div class="form-group" style="">\r\n    <div>{{ \'selectCreationRule\' | aifLocale }}</div>\r\n    <select class="form-control" name="selectedCreationRule" [(ngModel)]="selectedCreationRule">\r\n      <option *ngFor="let cr of creationRuleDict[selectedSourceVoId];" [ngValue]="cr">\r\n        {{cr.name}}</option>\r\n    </select>\r\n  </div>\r\n\r\n  \x3c!--  --\x3e\r\n  <div class="form-group" style="">\r\n    <div>{{ \'creationRuleDesciption\' | aifLocale }}</div>\r\n    <textarea readonly class="form-control" name="description" rows="3"\r\n      [ngModel]="selectedCreationRule&&selectedCreationRule.description"></textarea>\r\n  </div>\r\n</div>',styles:[""]}]}],Zt.ctorParameters=function(){return[{type:undefined,decorators:[{type:c.Inject,args:[gt]}]},{type:Yt},{type:String,decorators:[{type:c.Inject,args:[c.LOCALE_ID]}]}]},Zt);function Zt(t,e,o){var r=this;this.dataService=e,this.sourceVoIdList=[],this.sourceVoNameDict={},this.creationRuleDict={},this.bsModalRef4AifSelector=null,this.subject4CreationRule=new h.Subject,this.clickOk4AifSelector=function(){r.subject4CreationRule.next(r.selectedCreationRule),r.subject4CreationRule.complete(),r.bsModalRef4AifSelector.close()},this.clickClose4AifSelector=function(){r.bsModalRef4AifSelector.close()},this.args=new Ut,this.args.LoadFromJsonObject(t)}var $t=(Object.defineProperty(te.prototype,"selectedTargetVoId",{get:function(){return this._selectedTargetVoId},set:function(t){null!=(this._selectedTargetVoId=t)&&(this.selectedCreationRule=this.creationRuleDict[this._selectedTargetVoId][0])},enumerable:!0,configurable:!0}),te.prototype.ngOnInit=function(){this.loadItems()},te.prototype.loadItems=function(){var e=this;(null==this.args.targetVoId?null==this.args.bizFlowchartId?this.dataService.getSlimCreationRulesBySourceVoId(this.args.sourceVoId):this.dataService.getSlimCreationRulesBySourceVoIdAndFlowchartId(this.args.sourceVoId,this.args.bizFlowchartId):null==this.args.bizFlowchartId?this.dataService.getSlimCreationRulesBySourceVoIdAndTargetVoId(this.args.sourceVoId,this.args.targetVoId):this.dataService.getSlimCreationRulesBySourceVoIdAndTargetVoIdAndFlowchartId(this.args.sourceVoId,this.args.targetVoId,this.args.bizFlowchartId)).subscribe(function(t){t.forEach(function(t){!1===e.targetVoIdList.includes(t.targetVoId)&&(e.targetVoIdList.push(t.targetVoId),e.creationRuleDict[t.targetVoId]=new Array),e.targetVoNameDict[t.targetVoId]=t.targetVoName,e.creationRuleDict[t.targetVoId].push(t)}),e.selectedTargetVoId=0<e.targetVoIdList.length?e.targetVoIdList[0]:null})},te.decorators=[{type:c.Component,args:[{selector:"lib-push-selector",template:'<div class="g-main p-2">\r\n  \x3c!--  --\x3e\r\n  <div class="form-group" style="height: 150px;overflow-y: auto;">\r\n    <div [hidden]="targetVoIdList.length != 0"><span style="color: red;">{{ \'emptyResult\' | aifLocale }}</span></div>\r\n    <div>{{ \'selectTargetBillType\' | aifLocale }}</div>\r\n    <div *ngFor="let targetVoId of targetVoIdList;let i=index" class="col-sm-12 col-md-5 form-check form-check-inline">\r\n      <input class="form-check-input" type="radio" [name]="\'targetVoId\'+i" id="targetVoId" [value]="targetVoId"\r\n        [(ngModel)]="selectedTargetVoId" />\r\n      <label class="form-check-label" [for]="\'targetVoId\'+i">{{targetVoNameDict[targetVoId]}}</label>\r\n    </div>\r\n  </div>\r\n\r\n  \x3c!--  --\x3e\r\n  <div class="form-group" style="">\r\n    <div>{{ \'selectCreationRule\' | aifLocale }}</div>\r\n    <select class="form-control" name="selectedCreationRule" [(ngModel)]="selectedCreationRule">\r\n      <option *ngFor="let cr of creationRuleDict[selectedTargetVoId];" [ngValue]="cr">\r\n        {{cr.name}}</option>\r\n    </select>\r\n  </div>\r\n\r\n  \x3c!--  --\x3e\r\n  <div class="form-group" style="">\r\n    <div>{{ \'creationRuleDesciption\' | aifLocale }}</div>\r\n    <textarea readonly class="form-control" name="description" rows="3"\r\n      [ngModel]="selectedCreationRule&&selectedCreationRule.description"></textarea>\r\n  </div>\r\n</div>',styles:[""]}]}],te.ctorParameters=function(){return[{type:undefined,decorators:[{type:c.Inject,args:[gt]}]},{type:Yt},{type:String,decorators:[{type:c.Inject,args:[c.LOCALE_ID]}]}]},te);function te(t,e,o){var r=this;this.dataService=e,this.targetVoIdList=[],this.targetVoNameDict={},this.creationRuleDict={},this.bsModalRef4AifSelector=null,this.subject4CreationRule=new h.Subject,this.clickOk4AifSelector=function(){r.subject4CreationRule.next(r.selectedCreationRule),r.subject4CreationRule.complete(),r.bsModalRef4AifSelector.close()},this.clickClose4AifSelector=function(){r.bsModalRef4AifSelector.close()},this.args=new Ut,this.args.LoadFromJsonObject(t)}var ee=(oe.prototype.ngOnInit=function(){},oe.decorators=[{type:c.Component,args:[{selector:"lib-source-data-selector",template:'<div class="g-main p-2">\r\n  <farris-treetable #treetable [columns]="cols" [showBorder]="false" [showHeader]="false" [data]="treedata"\r\n    [idField]="\'id\'" [fit]="true" [singleSelect]="true" [showCheckbox]="false" [showIcon]="true" [disabled]="false">\r\n  </farris-treetable>\r\n\r\n  <ng-template #cell let-ctx>\r\n\r\n  </ng-template>\r\n\r\n  <p>\r\n    Hello world\r\n  </p>\r\n\r\n  \x3c!-- <div class="form-group" style="float: right;">\r\n    <button class="btn-primary btn btn-sm ml-2" (click)="clickOk4Aif()">确定</button>\r\n    <button class="btn btn-sm ml-2 btn-default" (click)="clickClose4Aif()">取消</button>\r\n  </div> --\x3e\r\n</div>',styles:[""]}]}],oe.ctorParameters=function(){return[{type:String,decorators:[{type:c.Inject,args:[c.LOCALE_ID]}]}]},oe.propDecorators={treetable:[{type:c.ViewChild,args:["treetable"]}]},oe);function oe(t){var e=this;this.subject4EntityDatas=new h.Subject,this.cols=[],this.treedata=[],this.clickOk4AifSelector=function(){e.subject4EntityDatas.next([]),e.subject4EntityDatas.complete(),e.bsModalRef4AifSelector.close()},this.clickClose4AifSelector=function(){e.bsModalRef4AifSelector.close()}}var re={"zh-CHS":{confirm:"确定",cancel:"取消",emptyResult:"查询结果为空",selectSourceBillType:"选择来源单据类型",selectTargetBillType:"选择目标单据类型",selectCreationRule:"选择生单规则",creationRuleDesciption:"生单规则描述",creationRuleSelector:"生单规则选择器",sourceDataSelector:"来源单据选择器"},en:{confirm:"confirm",cancel:"cancel",emptyResult:"The result is empty",selectSourceBillType:"Select source bill type",selectTargetBillType:"Select target bill type",selectCreationRule:"Select creation rule",creationRuleDesciption:"Desciption",creationRuleSelector:"CreationRule Selector",sourceDataSelector:"SourceBill Selector"}},ne=(ie.prototype.transform=function(t){return this.lang[t]||t},ie.decorators=[{type:c.Pipe,args:[{name:"aifLocale"}]}],ie.ctorParameters=function(){return[{type:String,decorators:[{type:c.Inject,args:[c.LOCALE_ID]}]}]},ie);function ie(t){this.langCode=t||"zh-CHS",this.lang=re[this.langCode]}var se=localStorage.getItem("languageCode")||"zh-CHS",ae={},le=(ue.forRoot=function(t){return{ngModule:ue,providers:[{provide:ft,useValue:t||{}}]}},ue.decorators=[{type:c.NgModule,args:[{imports:[e.CommonModule,o.FormsModule,o.ReactiveFormsModule,r.HttpClientModule,p.ModalModule.forRoot(),a.NotifyModule.forRoot(),l.MessagerModule.forRoot(),n.FarrisDialogModule.forRoot(),s.TreeTableModule],providers:[{provide:c.LOCALE_ID,useValue:se},{provide:ft,useValue:ae},{provide:c.NgModuleFactoryLoader,useClass:c.SystemJsNgModuleLoader}],declarations:[Xt,$t,ee,ne],exports:[Xt,$t,ee],entryComponents:[Xt,$t,ee]}]}],ue);function ue(){}var ce="5eb32009-1d86-43df-96c8-8d685aea4e66",pe=(de.prototype.openCreationRuleSelector=function(t,e,o,r){var n=this;if("string"==typeof o){if(""==o)throw"modalOptions不可为空";o=JSON.parse(o)}(o=null==o?this.defaultModalOptions:o).title=null==o.title?this.aifLocalePipe.transform("creationRuleSelector"):o.title;var i=null;if(null!=r&&""!=r.trim())return h.from(this.loader.load(r)).pipe(m.switchMap(function(t){var e=t.create(n.frameContext.root.injector);return i=e.instance.createCreationRuleSelector(n.frameContext.root.injector),n.configModalButtons(o,i),i.instance.bsModalRef4AifSelector=n.modalService.show(i,o),i.instance.subject4CreationRule.asObservable()}));var s=this.cfr.resolveComponentFactory(e),a=c.ReflectiveInjector.resolveAndCreate([{provide:gt,useValue:t.ConvertToJsonObject()}],this.injector);return i=s.create(a),this.configModalButtons(o,i),i.instance.bsModalRef4AifSelector=this.modalService.show(i,o),i.instance.subject4CreationRule.asObservable()},de.prototype.configModalButtons=function(t,e){t.buttons=[{text:this.aifLocalePipe.transform("confirm"),cls:"btn btn-primary",handle:e.instance.clickOk4AifSelector},{text:this.aifLocalePipe.transform("cancel"),cls:"btn btn-secondary",handle:e.instance.clickClose4AifSelector}],t.showButtons=!0},de.ctorParameters=function(){return[{type:d.FrameContext},{type:p.BsModalService},{type:c.Injector},{type:c.ComponentFactoryResolver},{type:c.NgModuleFactoryLoader},{type:String,decorators:[{type:c.Inject,args:[c.LOCALE_ID]}]}]},de);function de(t,e,o,r,n,i){this.frameContext=t,this.modalService=e,this.injector=o,this.cfr=r,this.loader=n,this.localeId=i,this.defaultModalOptions={title:null,width:650,height:415,buttons:null,showButtons:null},this.aifLocalePipe=new ne(i)}var he,me=(y(be,he=pe),be.prototype.openCreationRuleSelector4Push=function(t,e,o,r){var n=new Ut;return n.sourceVoId=t,n.bizFlowchartId=e,this.openCreationRuleSelector(n,$t,o,r)},be.prototype.openCreationRuleSelector4SpecificPush=function(t,e,o,r,n){var i=new Ut;return i.sourceVoId=t,i.targetVoId=e,i.bizFlowchartId=o,this.openCreationRuleSelector(i,$t,r,n)},be.prototype.openTargetForm=function(t,e,o){var r,n;if(null==t)throw"参数formSettings不可为空";if(null==e)throw"参数rpcCreationRuleExecutorResult不可为空";if("string"==typeof e){if(""==e)throw"参数rpcCreationRuleExecutorResult不可为空";var i=new X;i.LoadFromJson(e),e=i}if(e instanceof X==0){var s=new X;s.LoadFromJsonObject(e),e=s}if(null!=e.mappingResults&&0!=e.mappingResults.length)if(1==e.mappingResults.length)this.navigationService.openApp(e.mappingResults[0].associations[0].tarDataId,t.targetCardAppId,t.targetCardAppEntrance,this.buildRouteParams(e,null==o?{}:o),!1);else{if(null!=t.targetListAppId)throw"暂不支持打开批量编辑界面";try{for(var a=function p(t){var e="function"==typeof Symbol&&t[Symbol.iterator],o=0;return e?e.call(t):{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}}}(e.mappingResults),l=a.next();!l.done;l=a.next()){var u=l.value,c=new X;c.bizFlowchartId=e.bizFlowchartId,c.creationRuleId=e.creationRuleId,c.creationRuleInstanceId=e.creationRuleInstanceId,c.mappingResults=[u],this.navigationService.openApp(u.associations[0].tarDataId,t.targetCardAppId,t.targetCardAppEntrance,this.buildRouteParams(c,null==o?{}:o),!1)}}catch(d){r={error:d}}finally{try{l&&!l.done&&(n=a["return"])&&n.call(a)}finally{if(r)throw r.error}}}},be.prototype.buildRouteParams=function(t,e){var o=e;return o[this.aifUIStateCreationRuleResultKey]=t,o},be.decorators=[{type:c.Injectable}],be.ctorParameters=function(){return[{type:Yt},{type:u.NavigationService},{type:d.FrameContext},{type:p.BsModalService},{type:c.Injector},{type:c.ComponentFactoryResolver},{type:c.NgModuleFactoryLoader},{type:String,decorators:[{type:c.Inject,args:[c.LOCALE_ID]}]}]},be);function be(t,e,o,r,n,i,s,a){var l=he.call(this,o,r,n,i,s,a)||this;return l.aifDataService=t,l.navigationService=e,l.frameContext=o,l.modalService=r,l.injector=n,l.cfr=i,l.loader=s,l.localeId=a,l.aifUIStateCreationRuleResultKey=ce,l}var ye,fe=(y(Ie,ye=pe),Ie.prototype.openCreationRuleSelector4Refer=function(t,e,o,r){var n=new Ut;return n.targetVoId=t,n.bizFlowchartId=e,this.openCreationRuleSelector(n,Xt,o,r)},Ie.prototype.openCreationRuleSelector4SpecificRefer=function(t,e,o,r,n){var i=new Ut;return i.sourceVoId=t,i.targetVoId=e,i.bizFlowchartId=o,this.openCreationRuleSelector(i,Xt,r,n)},Ie.prototype.openSourceDataSelector4Refer=function(t,o){var r=this;(o=null==o?this.defaultModalOptions:o).title=null==o.title?this.aifLocalePipe.transform("sourceDataSelector"):o.title;var n=null;if(null!=t&&null!=t.sourceDataSelectorModuleUrl)return h.from(this.loader.load(t.sourceDataSelectorModuleUrl)).pipe(m.switchMap(function(t){var e=t.create(r.frameContext.root.injector);return n=e.instance.createSourceDataSelector(r.frameContext.root.injector),r.configModalButtons(o,n),n.instance.bsModalRef4AifSelector=r.modalService.show(n,o),n.instance.subject4EntityDatas.asObservable()}));throw"暂无默认实现，请使用自定义来源单据选择器"},Ie.prototype.getRpcCreationRuleExecutorResult=function(){var t=this.frameContext.root.uiState[this.aifUIStateCreationRuleResultKey],e=new X;if("string"==typeof t)e.LoadFromJson(t);else{if("object"!=typeof t)throw"不合法的类型";e.LoadFromJsonObject(t)}return e},Ie.decorators=[{type:c.Injectable}],Ie.ctorParameters=function(){return[{type:Yt},{type:d.FrameContext},{type:p.BsModalService},{type:c.Injector},{type:c.ComponentFactoryResolver},{type:c.NgModuleFactoryLoader},{type:String,decorators:[{type:c.Inject,args:[c.LOCALE_ID]}]}]},Ie);function Ie(t,e,o,r,n,i,s){var a=ye.call(this,e,o,r,n,i,s)||this;return a.aifDataService=t,a.frameContext=e,a.modalService=o,a.injector=r,a.cfr=n,a.loader=i,a.localeId=s,a.aifUIStateCreationRuleResultKey=ce,a}t.AifManualCreationType={Push:"Push",Refer:"Refer"},t.AifRuntimeModuleConfig=ft,t.AifRuntimeModule=le,t.AifDataService=Yt,t.AifSourceUiService=me,t.AifTargetUiService=fe,t.SourceDataSelectorComponent=ee,t.PushSelectorComponent=$t,t.ReferSelectorComponent=Xt,t.BefContentVariable=v,t.CreationMappingResult=H,t.CreationRuleExecutorArgs=T,t.CreationRuleExecutorAssociations=V,t.CreationRuleExecutorResult=D,t.MappingAssociation=I,t.MappingResult=M,t.ConditionResult=P,t.FormBillCreationProcessExecutorResult=tt,t.RpcCreationMappingResult=W,t.RpcCreationRuleExecutorArgs=rt,t.RpcCreationRuleExecutorResult=X,t.RpcFireBizEventArgs=st,t.RpcMappingResult=_,t.RpcVoChangeDetail=z,t.RpcWritebackMappingResult=ut,t.RpcWritebackRuleExecutorArgs=dt,t.RpcWritebackRuleExecutorResult=bt,t.FormCreateArgs=St,t.FormCreateResult=Ft,t.FormCreationRuleExecutorArgs=wt,t.FormEntityData=jt,t.FormRestArgs=At,t.FormRestResult=Bt,t.FormUpdateArgs=Ot,t.FormUpdateResult=Nt,t.FormGetCreationRuleEntityExArgs=Ut,t.FormGetCreationRuleEntityExResult=Kt,t.AIF_UISTATE_KEY_OPEN_TYPE="abdbaec8-0bbe-4894-acee-b8d493bc4e1c",t.AIF_UISTATE_KEY_CREATION_RULE_RESULT=ce,t.ɵa=gt,t.ɵb=ne,t.ɵc=pe,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=edp-aif-runtime-api.umd.min.js.map