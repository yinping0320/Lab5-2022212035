/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
export class BpmnModelJsonHelper {
    /**
     * @param {?} obj
     * @param {?} attributeName
     * @return {?}
     */
    static GetAttributeValue(obj, attributeName) {
        if (obj == null) {
            return null;
        }
        if (obj.hasOwnProperty(attributeName)) {
            return obj[attributeName];
        }
        else {
            return null;
        }
    }
    /**
     * @template T
     * @param {?} obj
     * @param {?} attributeName
     * @param {?} value
     * @return {?}
     */
    static SetAttributeValue(obj, attributeName, value) {
        if (obj == null || value == null)
            return;
        /** @type {?} */
        let jsonArray = [];
        if (value instanceof Array) {
            //判断是否为IJsonSerializable实现类的数组，是则全部调用ConvertToJsonObject序列化，否则直接赋值
            for (let item of value) {
                if (item["ConvertToJsonObject"] != null && item["LoadFromJsonObject"] != null) {
                    jsonArray.push(item.ConvertToJsonObject());
                }
                else {
                    break;
                }
            }
            if (jsonArray.length == value.length) {
                obj[attributeName] = jsonArray;
            }
            else {
                obj[attributeName] = value;
            }
        }
        else if (value["ConvertToJsonObject"] != null && value["LoadFromJsonObject"] != null) {
            //判断是否为IJsonSerializable实现类的对象，是则调用ConvertToJsonObject序列化
            obj[attributeName] = ((/** @type {?} */ (value))).ConvertToJsonObject();
        }
        else if (value instanceof Date) {
            //判断是否为日期类型，是日期类型则转为字符串UTC的yyyyMMDDhhmmssSSS格式字符串
            /** @type {?} */
            const str = BpmnModelJsonHelper.DateTimeToString(value);
            BpmnModelJsonHelper.SetAttributeValue(obj, attributeName, str);
        }
        else {
            obj[attributeName] = value;
        }
    }
    /**
     * @param {?} obj
     * @param {?} attributeName
     * @return {?}
     */
    static GetAttributeValueAsString(obj, attributeName) {
        if (obj == null) {
            return null;
        }
        if (obj.hasOwnProperty(attributeName) == true && typeof (obj[attributeName]) == "string") {
            return obj[attributeName];
        }
        return null;
    }
    /**
     * @param {?} obj
     * @param {?} attributeName
     * @return {?}
     */
    static GetAttributeValueAsBoolean(obj, attributeName) {
        if (obj == null) {
            return null;
        }
        if (obj.hasOwnProperty(attributeName) == true && typeof (obj[attributeName]) == "boolean") {
            return obj[attributeName];
        }
        return null;
    }
    /**
     * @param {?} obj
     * @param {?} attributeName
     * @return {?}
     */
    static GetAttributeValueAsNumber(obj, attributeName) {
        if (obj == null) {
            return null;
        }
        if (obj.hasOwnProperty(attributeName) == true && typeof (obj[attributeName]) == "number") {
            return obj[attributeName];
        }
        return null;
    }
    /**
     * @template ReturnT, ClassOfT
     * @param {?} obj
     * @param {?} attributeName
     * @param {?} classOfT
     * @return {?}
     */
    static GetAttributeValueAsList(obj, attributeName, classOfT) {
        /** @type {?} */
        let jsonArray = BpmnModelJsonHelper.GetAttributeValue(obj, attributeName);
        if (jsonArray == null) {
            return null;
        }
        /** @type {?} */
        let list = [];
        for (let item of jsonArray) {
            /** @type {?} */
            let instance = null;
            try {
                instance = (/** @type {?} */ (new classOfT()));
            }
            catch (e) {
                throw e;
            }
            instance.LoadFromJsonObject(item);
            list.push(instance);
        }
        return list;
    }
    /**
     * @param {?} obj
     * @param {?} attributeName
     * @return {?}
     */
    static GetAttributeValueAsDateTime(obj, attributeName) {
        return BpmnModelJsonHelper.DateTimeFromString(BpmnModelJsonHelper.GetAttributeValueAsString(obj, attributeName));
    }
    /**
     * @template ReturnT, ClassOfT
     * @param {?} obj
     * @param {?} attributeName
     * @param {?} classOfT
     * @return {?}
     */
    static GetAttributeValueAsJsonSerializable(obj, attributeName, classOfT) {
        /** @type {?} */
        let jsonObject = BpmnModelJsonHelper.GetAttributeValue(obj, attributeName);
        if (jsonObject == null) {
            return null;
        }
        /** @type {?} */
        let instance = null;
        try {
            instance = (/** @type {?} */ (new classOfT()));
        }
        catch (e) {
            throw e;
        }
        instance.LoadFromJsonObject(jsonObject);
        return instance;
    }
    /**
     * @param {?} dt
     * @return {?}
     */
    static DateTimeToString(dt) {
        if (dt == null)
            return null;
        /** @type {?} */
        const time = dt.getTime();
        if (time < BpmnModelJsonHelper.MIN_OFFSETDATETIME.getTime() || time > BpmnModelJsonHelper.MAX_OFFSETDATETIME.getTime()) {
            throw `给定的日期时间值 ${dt.toISOString()} 超出支持范围(0001-01-01T12:00:00.000Z - 9999-12-31T23:59:59.000Z):`;
        }
        return BpmnModelJsonHelper.dateFormat(dt, "yyyyMMddHHmmssSSS");
    }
    /**
     *
     * @param {?} str 格式为：yyyyMMddHHmmssSSS
     * @return {?}
     */
    static DateTimeFromString(str) {
        if (str == null)
            return null;
        // const s = `${str.substring(0, 4)}/${str.substring(4, 6)}/${str.substring(6, 8)} ${str.substring(8, 10)}:${str.substring(10, 12)}:${str.substring(12, 14)}.${str.substring(14)}`;
        /** @type {?} */
        const date = new Date();
        date.setUTCFullYear(parseInt(str.substring(0, 4)));
        date.setUTCMonth(parseInt(str.substring(4, 6)) - 1);
        date.setUTCDate(parseInt(str.substring(6, 8)));
        date.setUTCHours(parseInt(str.substring(8, 10)));
        date.setUTCMinutes(parseInt(str.substring(10, 12)));
        date.setUTCSeconds(parseInt(str.substring(12, 14)));
        date.setUTCMilliseconds(parseInt(str.substring(14)));
        return date;
    }
    /**
     * @template T
     * @param {?} value
     * @return {?}
     */
    static ToJson(value) {
        if (value === undefined || value === null) {
            return null;
        }
        /** @type {?} */
        let list = [];
        for (let item of value) {
            list.push(item.ConvertToJsonObject());
        }
        return JSON.stringify(list);
    }
    /**
     * @template ReturnT, ClassOfT
     * @param {?} json
     * @param {?} classOfT
     * @return {?}
     */
    static FromJson(json, classOfT) {
        if (BpmnModelJsonHelper.IsNullOrWhiteSpace(json)) {
            return null;
        }
        /** @type {?} */
        let list = new Array();
        /** @type {?} */
        let jsonArr = JSON.parse(json);
        if (jsonArr == null || Array.isArray(jsonArr) === false) {
            return list;
        }
        jsonArr.forEach((/**
         * @param {?} elt
         * @return {?}
         */
        elt => {
            /** @type {?} */
            let newInstance = (/** @type {?} */ (new classOfT()));
            newInstance.LoadFromJsonObject(elt);
            list.push(newInstance);
        }));
        return list;
    }
    /**
     * @param {?} value
     * @return {?}
     */
    static StringListToJsonArray(value) {
        if (value == null)
            return null;
        /** @type {?} */
        let jsonArray = new Array();
        for (let item of value) {
            jsonArray.push(item);
        }
        return jsonArray;
    }
    /**
     * @param {?} jsonArray
     * @return {?}
     */
    static StringListFromJsonArray(jsonArray) {
        if (jsonArray == null) {
            return null;
        }
        /** @type {?} */
        let list = new Array();
        for (let item of jsonArray) {
            if (typeof item == "object") {
                list.push(JSON.stringify(item));
            }
            else {
                list.push(String(item));
            }
        }
        return list;
    }
    /**
     * @param {?} value
     * @return {?}
     */
    static StringListToJson(value) {
        /** @type {?} */
        let jsonArray = BpmnModelJsonHelper.StringListToJsonArray(value);
        if (jsonArray == null)
            return null;
        return JSON.stringify(jsonArray);
    }
    /**
     * @param {?} json
     * @return {?}
     */
    static StringListFromJson(json) {
        if (BpmnModelJsonHelper.IsNullOrWhiteSpace(json)) {
            return null;
        }
        /** @type {?} */
        let jsonArray = (/** @type {?} */ (JSON.parse(json)));
        if (jsonArray == null) {
            return null;
        }
        return BpmnModelJsonHelper.StringListFromJsonArray(jsonArray);
    }
    /**
     * @param {?} string
     * @return {?}
     */
    static IsNullOrWhiteSpace(string) {
        if (string == null) {
            return true;
        }
        else {
            return string.replace(/(^s*)|(s*$)/g, "").length == 0;
        }
    }
    /**
     * @private
     * @param {?} value
     * @return {?}
     */
    static GetDateFromISO(value) {
        /** @type {?} */
        let a = /^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2}(?:\.\d*)?)Z$/.exec(value);
        if (a) {
            return new Date(Date.UTC(+a[1], +a[2] - 1, +a[3], +a[4], +a[5], +a[6]));
        }
        else {
            return null;
        }
    }
    /**
     * @private
     * @param {?} date
     * @param {?} fmt
     * @return {?}
     */
    static dateFormat(date, fmt) {
        /** @type {?} */
        let ret;
        /** @type {?} */
        const opt = {
            "y+": date.getUTCFullYear().toString(),
            // 年
            "M+": (date.getUTCMonth() + 1).toString(),
            // 月
            "d+": date.getUTCDate().toString(),
            // 日
            "H+": date.getUTCHours().toString(),
            // 时
            "m+": date.getUTCMinutes().toString(),
            // 分
            "s+": date.getUTCSeconds().toString(),
            // 秒
            "S+": date.getUTCMilliseconds().toString(),
        };
        for (let k in opt) {
            ret = new RegExp("(" + k + ")").exec(fmt);
            if (ret) {
                if (!String.prototype.padStart) {
                    fmt = fmt.replace(ret[1], (ret[1].length == 1) ? (opt[k]) : (BpmnModelJsonHelper.myPadStart(opt[k], ret[1].length, "0")));
                }
                else {
                    fmt = fmt.replace(ret[1], (ret[1].length == 1) ? (opt[k]) : (opt[k].padStart(ret[1].length, "0")));
                }
            }
        }
        return fmt;
    }
    /**
     * @private
     * @param {?} src
     * @param {?} targetLength
     * @param {?} padString
     * @return {?}
     */
    static myPadStart(src, targetLength, padString) {
        targetLength = targetLength >> 0; //floor if number or convert non-number to 0;
        padString = String(typeof padString !== 'undefined' ? padString : ' ');
        if (src.length > targetLength) {
            return String(src);
        }
        else {
            targetLength = targetLength - src.length;
            if (targetLength > padString.length) {
                padString += padString.repeat(targetLength / padString.length); //append to original to ensure we are longer than needed
            }
            return padString.slice(0, targetLength) + String(src);
        }
    }
}
BpmnModelJsonHelper.MIN_OFFSETDATETIME = BpmnModelJsonHelper.GetDateFromISO("0001-01-01T12:00:00.000Z");
BpmnModelJsonHelper.MAX_OFFSETDATETIME = BpmnModelJsonHelper.GetDateFromISO("9999-12-31T23:59:59.000Z");
if (false) {
    /** @type {?} */
    BpmnModelJsonHelper.MIN_OFFSETDATETIME;
    /** @type {?} */
    BpmnModelJsonHelper.MAX_OFFSETDATETIME;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQnBtbk1vZGVsSnNvbkhlbHBlci5qcyIsInNvdXJjZVJvb3QiOiJuZzovL0BlZHAtYWlmL2NvbW1vbi1hcGkvIiwic291cmNlcyI6WyJsaWIvQnBtbk1vZGVsSnNvbkhlbHBlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O0FBRUEsTUFBTSxPQUFPLG1CQUFtQjs7Ozs7O0lBSXJCLE1BQU0sQ0FBQyxpQkFBaUIsQ0FBQyxHQUFPLEVBQUUsYUFBcUI7UUFDMUQsSUFBSSxHQUFHLElBQUksSUFBSSxFQUFFO1lBQ2IsT0FBTyxJQUFJLENBQUM7U0FDZjtRQUNELElBQUksR0FBRyxDQUFDLGNBQWMsQ0FBQyxhQUFhLENBQUMsRUFBRTtZQUNuQyxPQUFPLEdBQUcsQ0FBQyxhQUFhLENBQUMsQ0FBQztTQUM3QjthQUFNO1lBQ0gsT0FBTyxJQUFJLENBQUM7U0FDZjtJQUNMLENBQUM7Ozs7Ozs7O0lBRU0sTUFBTSxDQUFDLGlCQUFpQixDQUE4QixHQUFPLEVBQUUsYUFBcUIsRUFBRSxLQUErRDtRQUN4SixJQUFJLEdBQUcsSUFBSSxJQUFJLElBQUksS0FBSyxJQUFJLElBQUk7WUFDNUIsT0FBTzs7WUFFUCxTQUFTLEdBQWEsRUFBRTtRQUM1QixJQUFJLEtBQUssWUFBWSxLQUFLLEVBQUU7WUFDeEIsa0VBQWtFO1lBQ2xFLEtBQUssSUFBSSxJQUFJLElBQUksS0FBSyxFQUFFO2dCQUNwQixJQUFJLElBQUksQ0FBQyxxQkFBcUIsQ0FBQyxJQUFJLElBQUksSUFBSSxJQUFJLENBQUMsb0JBQW9CLENBQUMsSUFBSSxJQUFJLEVBQUU7b0JBQzNFLFNBQVMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLG1CQUFtQixFQUFFLENBQUMsQ0FBQztpQkFDOUM7cUJBQU07b0JBQ0gsTUFBTTtpQkFDVDthQUNKO1lBQ0QsSUFBSSxTQUFTLENBQUMsTUFBTSxJQUFJLEtBQUssQ0FBQyxNQUFNLEVBQUU7Z0JBQ2xDLEdBQUcsQ0FBQyxhQUFhLENBQUMsR0FBRyxTQUFTLENBQUM7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LEdBQUcsQ0FBQztJQUNmLENBQUM7Ozs7Ozs7O0lBRU8sTUFBTSxDQUFDLFVBQVUsQ0FBQyxHQUFXLEVBQUUsWUFBb0IsRUFBRSxTQUFpQjtRQUMxRSxZQUFZLEdBQUcsWUFBWSxJQUFJLENBQUMsQ0FBQyxDQUFDLDZDQUE2QztRQUMvRSxTQUFTLEdBQUcsTUFBTSxDQUFDLE9BQU8sU0FBUyxLQUFLLFdBQVcsQ0FBQyxDQUFDLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUN2RSxJQUFJLEdBQUcsQ0FBQyxNQUFNLEdBQUcsWUFBWSxFQUFFO1lBQzNCLE9BQU8sTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1NBQ3RCO2FBQU07WUFDSCxZQUFZLEdBQUcsWUFBWSxHQUFHLEdBQUcsQ0FBQyxNQUFNLENBQUM7WUFDekMsSUFBSSxZQUFZLEdBQUcsU0FBUyxDQUFDLE1BQU0sRUFBRTtnQkFDakMsU0FBUyxJQUFJLFNBQVMsQ0FBQyxNQUFNLENBQUMsWUFBWSxHQUFHLFNBQVMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLHdEQUF3RDthQUMzSDtZQUNELE9BQU8sU0FBUyxDQUFDLEtBQUssQ0FBQyxDQUFDLEVBQUUsWUFBWSxDQUFDLEdBQUcsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1NBQ3pEO0lBQ0wsQ0FBQzs7QUExU3NCLHNDQUFrQixHQUFTLG1CQUFtQixDQUFDLGNBQWMsQ0FBQywwQkFBMEIsQ0FBQyxDQUFDO0FBQzFGLHNDQUFrQixHQUFTLG1CQUFtQixDQUFDLGNBQWMsQ0FBQywwQkFBMEIsQ0FBQyxDQUFDOzs7SUFEakgsdUNBQWlIOztJQUNqSCx1Q0FBaUgiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJSnNvblNlcmlhbGl6YWJsZSB9IGZyb20gJy4vSUpzb25TZXJpYWxpemFibGUnO1xyXG5cclxuZXhwb3J0IGNsYXNzIEJwbW5Nb2RlbEpzb25IZWxwZXIge1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBNSU5fT0ZGU0VUREFURVRJTUU6IERhdGUgPSBCcG1uTW9kZWxKc29uSGVscGVyLkdldERhdGVGcm9tSVNPKFwiMDAwMS0wMS0wMVQxMjowMDowMC4wMDBaXCIpO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBNQVhfT0ZGU0VUREFURVRJTUU6IERhdGUgPSBCcG1uTW9kZWxKc29uSGVscGVyLkdldERhdGVGcm9tSVNPKFwiOTk5OS0xMi0zMVQyMzo1OTo1OS4wMDBaXCIpO1xyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgR2V0QXR0cmlidXRlVmFsdWUob2JqOiB7fSwgYXR0cmlidXRlTmFtZTogc3RyaW5nKTogYW55IHtcclxuICAgICAgICBpZiAob2JqID09IG51bGwpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChvYmouaGFzT3duUHJvcGVydHkoYXR0cmlidXRlTmFtZSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG9ialthdHRyaWJ1dGVOYW1lXTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBTZXRBdHRyaWJ1dGVWYWx1ZTxUIGV4dGVuZHMgSUpzb25TZXJpYWxpemFibGU+KG9iajoge30sIGF0dHJpYnV0ZU5hbWU6IHN0cmluZywgdmFsdWU6IHN0cmluZyB8IGJvb2xlYW4gfCBudW1iZXIgfCBEYXRlIHwgQXJyYXk8VD4gfCBUIHwgb2JqZWN0KTogdm9pZCB7XHJcbiAgICAgICAgaWYgKG9iaiA9PSBudWxsIHx8IHZhbHVlID09IG51bGwpXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuXHJcbiAgICAgICAgbGV0IGpzb25BcnJheTogT2JqZWN0W10gPSBbXTtcclxuICAgICAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBBcnJheSkge1xyXG4gICAgICAgICAgICAvL+WIpOaWreaYr+WQpuS4uklKc29uU2VyaWFsaXphYmxl5a6e546w57G755qE5pWw57uE77yM5piv5YiZ5YWo6YOo6LCD55SoQ29udmVydFRvSnNvbk9iamVjdOW6j+WIl+WMlu+8jOWQpuWImeebtOaOpei1i+WAvFxyXG4gICAgICAgICAgICBmb3IgKGxldCBpdGVtIG9mIHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoaXRlbVtcIkNvbnZlcnRUb0pzb25PYmplY3RcIl0gIT0gbnVsbCAmJiBpdGVtW1wiTG9hZEZyb21Kc29uT2JqZWN0XCJdICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICBqc29uQXJyYXkucHVzaChpdGVtLkNvbnZlcnRUb0pzb25PYmplY3QoKSk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChqc29uQXJyYXkubGVuZ3RoID09IHZhbHVlLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgb2JqW2F0dHJpYnV0ZU5hbWVdID0ganNvbkFycmF5O1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgb2JqW2F0dHJpYnV0ZU5hbWVdID0gdmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2UgaWYgKHZhbHVlW1wiQ29udmVydFRvSnNvbk9iamVjdFwiXSAhPSBudWxsICYmIHZhbHVlW1wiTG9hZEZyb21Kc29uT2JqZWN0XCJdICE9IG51bGwpIHtcclxuICAgICAgICAgICAgLy/liKTmlq3mmK/lkKbkuLpJSnNvblNlcmlhbGl6YWJsZeWunueOsOexu+eahOWvueixoe+8jOaYr+WImeiwg+eUqENvbnZlcnRUb0pzb25PYmplY3Tluo/liJfljJZcclxuICAgICAgICAgICAgb2JqW2F0dHJpYnV0ZU5hbWVdID0gKHZhbHVlIGFzIFQpLkNvbnZlcnRUb0pzb25PYmplY3QoKTtcclxuICAgICAgICB9IGVsc2UgaWYgKHZhbHVlIGluc3RhbmNlb2YgRGF0ZSkge1xyXG4gICAgICAgICAgICAvL+WIpOaWreaYr+WQpuS4uuaXpeacn+exu+Wei++8jOaYr+aXpeacn+exu+Wei+WImei9rOS4uuWtl+espuS4slVUQ+eahHl5eXlNTUREaGhtbXNzU1NT5qC85byP5a2X56ym5LiyXHJcbiAgICAgICAgICAgIGNvbnN0IHN0ciA9IEJwbW5Nb2RlbEpzb25IZWxwZXIuRGF0ZVRpbWVUb1N0cmluZyh2YWx1ZSk7XHJcbiAgICAgICAgICAgIEJwbW5Nb2RlbEpzb25IZWxwZXIuU2V0QXR0cmlidXRlVmFsdWUob2JqLCBhdHRyaWJ1dGVOYW1lLCBzdHIpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIG9ialthdHRyaWJ1dGVOYW1lXSA9IHZhbHVlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIEdldEF0dHJpYnV0ZVZhbHVlQXNTdHJpbmcob2JqOiB7fSwgYXR0cmlidXRlTmFtZTogc3RyaW5nKTogc3RyaW5nIHtcclxuICAgICAgICBpZiAob2JqID09IG51bGwpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAob2JqLmhhc093blByb3BlcnR5KGF0dHJpYnV0ZU5hbWUpID09IHRydWUgJiYgdHlwZW9mIChvYmpbYXR0cmlidXRlTmFtZV0pID09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG9ialthdHRyaWJ1dGVOYW1lXTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgR2V0QXR0cmlidXRlVmFsdWVBc0Jvb2xlYW4ob2JqOiB7fSwgYXR0cmlidXRlTmFtZTogc3RyaW5nKTogYm9vbGVhbiB7XHJcbiAgICAgICAgaWYgKG9iaiA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKG9iai5oYXNPd25Qcm9wZXJ0eShhdHRyaWJ1dGVOYW1lKSA9PSB0cnVlICYmIHR5cGVvZiAob2JqW2F0dHJpYnV0ZU5hbWVdKSA9PSBcImJvb2xlYW5cIikge1xyXG4gICAgICAgICAgICByZXR1cm4gb2JqW2F0dHJpYnV0ZU5hbWVdO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBHZXRBdHRyaWJ1dGVWYWx1ZUFzTnVtYmVyKG9iajoge30sIGF0dHJpYnV0ZU5hbWU6IHN0cmluZyk6IG51bWJlciB7XHJcbiAgICAgICAgaWYgKG9iaiA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKG9iai5oYXNPd25Qcm9wZXJ0eShhdHRyaWJ1dGVOYW1lKSA9PSB0cnVlICYmIHR5cGVvZiAob2JqW2F0dHJpYnV0ZU5hbWVdKSA9PSBcIm51bWJlclwiKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBvYmpbYXR0cmlidXRlTmFtZV07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIEdldEF0dHJpYnV0ZVZhbHVlQXNMaXN0PFJldHVyblQgZXh0ZW5kcyBJSnNvblNlcmlhbGl6YWJsZSwgQ2xhc3NPZlQgZXh0ZW5kcyBSZXR1cm5UPihvYmo6IE9iamVjdCwgYXR0cmlidXRlTmFtZTogc3RyaW5nLCBjbGFzc09mVDogbmV3ICgpID0+IENsYXNzT2ZUKTogQXJyYXk8UmV0dXJuVD4ge1xyXG4gICAgICAgIGxldCBqc29uQXJyYXk6IEFycmF5PGFueT4gPSBCcG1uTW9kZWxKc29uSGVscGVyLkdldEF0dHJpYnV0ZVZhbHVlKG9iaiwgYXR0cmlidXRlTmFtZSk7XHJcblxyXG4gICAgICAgIGlmIChqc29uQXJyYXkgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCBsaXN0OiBBcnJheTxSZXR1cm5UPiA9IFtdO1xyXG4gICAgICAgIGZvciAobGV0IGl0ZW0gb2YganNvbkFycmF5KSB7XHJcbiAgICAgICAgICAgIGxldCBpbnN0YW5jZTogUmV0dXJuVCA9IG51bGw7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICBpbnN0YW5jZSA9IG5ldyBjbGFzc09mVCgpIGFzIENsYXNzT2ZUO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpbnN0YW5jZS5Mb2FkRnJvbUpzb25PYmplY3QoaXRlbSk7XHJcbiAgICAgICAgICAgIGxpc3QucHVzaChpbnN0YW5jZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gbGlzdDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIEdldEF0dHJpYnV0ZVZhbHVlQXNEYXRlVGltZShvYmo6IE9iamVjdCwgYXR0cmlidXRlTmFtZTogc3RyaW5nKTogRGF0ZSB7XHJcbiAgICAgICAgcmV0dXJuIEJwbW5Nb2RlbEpzb25IZWxwZXIuRGF0ZVRpbWVGcm9tU3RyaW5nKEJwbW5Nb2RlbEpzb25IZWxwZXIuR2V0QXR0cmlidXRlVmFsdWVBc1N0cmluZyhvYmosIGF0dHJpYnV0ZU5hbWUpKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIEdldEF0dHJpYnV0ZVZhbHVlQXNKc29uU2VyaWFsaXphYmxlPFJldHVyblQgZXh0ZW5kcyBJSnNvblNlcmlhbGl6YWJsZSwgQ2xhc3NPZlQgZXh0ZW5kcyBSZXR1cm5UPihvYmo6IE9iamVjdCwgYXR0cmlidXRlTmFtZTogc3RyaW5nLCBjbGFzc09mVDogbmV3ICgpID0+IENsYXNzT2ZUKTogUmV0dXJuVCB7XHJcbiAgICAgICAgbGV0IGpzb25PYmplY3Q6IE9iamVjdCA9IEJwbW5Nb2RlbEpzb25IZWxwZXIuR2V0QXR0cmlidXRlVmFsdWUob2JqLCBhdHRyaWJ1dGVOYW1lKTtcclxuXHJcbiAgICAgICAgaWYgKGpzb25PYmplY3QgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCBpbnN0YW5jZTogUmV0dXJuVCA9IG51bGw7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgaW5zdGFuY2UgPSBuZXcgY2xhc3NPZlQoKSBhcyBSZXR1cm5UO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICB0aHJvdyBlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaW5zdGFuY2UuTG9hZEZyb21Kc29uT2JqZWN0KGpzb25PYmplY3QpO1xyXG5cclxuICAgICAgICByZXR1cm4gaW5zdGFuY2U7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBEYXRlVGltZVRvU3RyaW5nKGR0OiBEYXRlKTogc3RyaW5nIHtcclxuICAgICAgICBpZiAoZHQgPT0gbnVsbClcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcblxyXG4gICAgICAgIGNvbnN0IHRpbWUgPSBkdC5nZXRUaW1lKCk7XHJcbiAgICAgICAgaWYgKHRpbWUgPCBCcG1uTW9kZWxKc29uSGVscGVyLk1JTl9PRkZTRVREQVRFVElNRS5nZXRUaW1lKCkgfHwgdGltZSA+IEJwbW5Nb2RlbEpzb25IZWxwZXIuTUFYX09GRlNFVERBVEVUSU1FLmdldFRpbWUoKSkge1xyXG4gICAgICAgICAgICB0aHJvdyBg57uZ5a6a55qE5pel5pyf5pe26Ze05YC8ICR7ZHQudG9JU09TdHJpbmcoKX0g6LaF5Ye65pSv5oyB6IyD5Zu0KDAwMDEtMDEtMDFUMTI6MDA6MDAuMDAwWiAtIDk5OTktMTItMzFUMjM6NTk6NTkuMDAwWik6YDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBCcG1uTW9kZWxKc29uSGVscGVyLmRhdGVGb3JtYXQoZHQsIFwieXl5eU1NZGRISG1tc3NTU1NcIilcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFxyXG4gICAgICogQHBhcmFtIHN0ciDmoLzlvI/kuLrvvJp5eXl5TU1kZEhIbW1zc1NTU1xyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc3RhdGljIERhdGVUaW1lRnJvbVN0cmluZyhzdHI6IHN0cmluZyk6IERhdGUge1xyXG4gICAgICAgIGlmIChzdHIgPT0gbnVsbClcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcblxyXG4gICAgICAgIC8vIGNvbnN0IHMgPSBgJHtzdHIuc3Vic3RyaW5nKDAsIDQpfS8ke3N0ci5zdWJzdHJpbmcoNCwgNil9LyR7c3RyLnN1YnN0cmluZyg2LCA4KX0gJHtzdHIuc3Vic3RyaW5nKDgsIDEwKX06JHtzdHIuc3Vic3RyaW5nKDEwLCAxMil9OiR7c3RyLnN1YnN0cmluZygxMiwgMTQpfS4ke3N0ci5zdWJzdHJpbmcoMTQpfWA7XHJcbiAgICAgICAgY29uc3QgZGF0ZSA9IG5ldyBEYXRlKCk7XHJcbiAgICAgICAgZGF0ZS5zZXRVVENGdWxsWWVhcihwYXJzZUludChzdHIuc3Vic3RyaW5nKDAsIDQpKSk7XHJcbiAgICAgICAgZGF0ZS5zZXRVVENNb250aChwYXJzZUludChzdHIuc3Vic3RyaW5nKDQsIDYpKSAtIDEpO1xyXG4gICAgICAgIGRhdGUuc2V0VVRDRGF0ZShwYXJzZUludChzdHIuc3Vic3RyaW5nKDYsIDgpKSk7XHJcbiAgICAgICAgZGF0ZS5zZXRVVENIb3VycyhwYXJzZUludChzdHIuc3Vic3RyaW5nKDgsIDEwKSkpO1xyXG4gICAgICAgIGRhdGUuc2V0VVRDTWludXRlcyhwYXJzZUludChzdHIuc3Vic3RyaW5nKDEwLCAxMikpKTtcclxuICAgICAgICBkYXRlLnNldFVUQ1NlY29uZHMocGFyc2VJbnQoc3RyLnN1YnN0cmluZygxMiwgMTQpKSk7XHJcbiAgICAgICAgZGF0ZS5zZXRVVENNaWxsaXNlY29uZHMocGFyc2VJbnQoc3RyLnN1YnN0cmluZygxNCkpKTtcclxuICAgICAgICByZXR1cm4gZGF0ZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIFRvSnNvbjxUIGV4dGVuZHMgSUpzb25TZXJpYWxpemFibGU+KHZhbHVlOiBBcnJheTxUPik6IHN0cmluZyB7XHJcbiAgICAgICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQgfHwgdmFsdWUgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCBsaXN0OiBPYmplY3RbXSA9IFtdO1xyXG4gICAgICAgIGZvciAobGV0IGl0ZW0gb2YgdmFsdWUpIHtcclxuICAgICAgICAgICAgbGlzdC5wdXNoKGl0ZW0uQ29udmVydFRvSnNvbk9iamVjdCgpKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShsaXN0KTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIEZyb21Kc29uPFJldHVyblQgZXh0ZW5kcyBJSnNvblNlcmlhbGl6YWJsZSwgQ2xhc3NPZlQgZXh0ZW5kcyBSZXR1cm5UPihqc29uOiBzdHJpbmcsIGNsYXNzT2ZUOiBuZXcgKCkgPT4gQ2xhc3NPZlQpOiBBcnJheTxSZXR1cm5UPiB7XHJcbiAgICAgICAgaWYgKEJwbW5Nb2RlbEpzb25IZWxwZXIuSXNOdWxsT3JXaGl0ZVNwYWNlKGpzb24pKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGV0IGxpc3QgPSBuZXcgQXJyYXk8UmV0dXJuVD4oKTtcclxuICAgICAgICBsZXQganNvbkFycjogQXJyYXk8e30+ID0gSlNPTi5wYXJzZShqc29uKTtcclxuXHJcbiAgICAgICAgaWYgKGpzb25BcnIgPT0gbnVsbCB8fCBBcnJheS5pc0FycmF5KGpzb25BcnIpID09PSBmYWxzZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gbGlzdDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGpzb25BcnIuZm9yRWFjaChlbHQgPT4ge1xyXG4gICAgICAgICAgICBsZXQgbmV3SW5zdGFuY2UgPSBuZXcgY2xhc3NPZlQoKSBhcyBDbGFzc09mVDtcclxuICAgICAgICAgICAgbmV3SW5zdGFuY2UuTG9hZEZyb21Kc29uT2JqZWN0KGVsdCk7XHJcbiAgICAgICAgICAgIGxpc3QucHVzaChuZXdJbnN0YW5jZSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHJldHVybiBsaXN0O1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgU3RyaW5nTGlzdFRvSnNvbkFycmF5KHZhbHVlOiBBcnJheTxzdHJpbmc+KTogQXJyYXk8c3RyaW5nPiB7XHJcbiAgICAgICAgaWYgKHZhbHVlID09IG51bGwpXHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG5cclxuICAgICAgICBsZXQganNvbkFycmF5OiBBcnJheTxzdHJpbmc+ID0gbmV3IEFycmF5KCk7XHJcbiAgICAgICAgZm9yIChsZXQgaXRlbSBvZiB2YWx1ZSkge1xyXG4gICAgICAgICAgICBqc29uQXJyYXkucHVzaChpdGVtKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBqc29uQXJyYXk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBTdHJpbmdMaXN0RnJvbUpzb25BcnJheShqc29uQXJyYXk6IEFycmF5PE9iamVjdD4pOiBBcnJheTxzdHJpbmc+IHtcclxuICAgICAgICBpZiAoanNvbkFycmF5ID09IG51bGwpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQgbGlzdDogQXJyYXk8c3RyaW5nPiA9IG5ldyBBcnJheSgpO1xyXG4gICAgICAgIGZvciAobGV0IGl0ZW0gb2YganNvbkFycmF5KSB7XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgaXRlbSA9PSBcIm9iamVjdFwiKSB7XHJcbiAgICAgICAgICAgICAgICBsaXN0LnB1c2goSlNPTi5zdHJpbmdpZnkoaXRlbSkpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgbGlzdC5wdXNoKFN0cmluZyhpdGVtKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBsaXN0O1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgU3RyaW5nTGlzdFRvSnNvbih2YWx1ZTogQXJyYXk8c3RyaW5nPik6IHN0cmluZyB7XHJcbiAgICAgICAgbGV0IGpzb25BcnJheSA9IEJwbW5Nb2RlbEpzb25IZWxwZXIuU3RyaW5nTGlzdFRvSnNvbkFycmF5KHZhbHVlKTtcclxuICAgICAgICBpZiAoanNvbkFycmF5ID09IG51bGwpXHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG5cclxuICAgICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoanNvbkFycmF5KTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIFN0cmluZ0xpc3RGcm9tSnNvbihqc29uOiBzdHJpbmcpOiBBcnJheTxzdHJpbmc+IHtcclxuICAgICAgICBpZiAoQnBtbk1vZGVsSnNvbkhlbHBlci5Jc051bGxPcldoaXRlU3BhY2UoanNvbikpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQganNvbkFycmF5ID0gSlNPTi5wYXJzZShqc29uKSBhcyBBcnJheTxPYmplY3Q+O1xyXG4gICAgICAgIGlmIChqc29uQXJyYXkgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBCcG1uTW9kZWxKc29uSGVscGVyLlN0cmluZ0xpc3RGcm9tSnNvbkFycmF5KGpzb25BcnJheSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBJc051bGxPcldoaXRlU3BhY2Uoc3RyaW5nOiBzdHJpbmcpOiBib29sZWFuIHtcclxuICAgICAgICBpZiAoc3RyaW5nID09IG51bGwpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIHN0cmluZy5yZXBsYWNlKC8oXnMqKXwocyokKS9nLCBcIlwiKS5sZW5ndGggPT0gMDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBzdGF0aWMgR2V0RGF0ZUZyb21JU08odmFsdWU6IHN0cmluZykge1xyXG4gICAgICAgIGxldCBhID0gL14oXFxkezR9KS0oXFxkezJ9KS0oXFxkezJ9KVQoXFxkezJ9KTooXFxkezJ9KTooXFxkezJ9KD86XFwuXFxkKik/KVokLy5leGVjKHZhbHVlKTtcclxuICAgICAgICBpZiAoYSkge1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IERhdGUoRGF0ZS5VVEMoK2FbMV0sICthWzJdIC0gMSwgK2FbM10sICthWzRdLCArYVs1XSwgK2FbNl0pKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBzdGF0aWMgZGF0ZUZvcm1hdChkYXRlOiBEYXRlLCBmbXQ6IHN0cmluZyk6IHN0cmluZyB7XHJcbiAgICAgICAgbGV0IHJldDtcclxuICAgICAgICBjb25zdCBvcHQgPSB7XHJcbiAgICAgICAgICAgIFwieStcIjogZGF0ZS5nZXRVVENGdWxsWWVhcigpLnRvU3RyaW5nKCksICAgICAgICAvLyDlubRcclxuICAgICAgICAgICAgXCJNK1wiOiAoZGF0ZS5nZXRVVENNb250aCgpICsgMSkudG9TdHJpbmcoKSwgICAgIC8vIOaciFxyXG4gICAgICAgICAgICBcImQrXCI6IGRhdGUuZ2V0VVRDRGF0ZSgpLnRvU3RyaW5nKCksICAgICAgICAgICAgLy8g5pelXHJcbiAgICAgICAgICAgIFwiSCtcIjogZGF0ZS5nZXRVVENIb3VycygpLnRvU3RyaW5nKCksICAgICAgICAgICAvLyDml7ZcclxuICAgICAgICAgICAgXCJtK1wiOiBkYXRlLmdldFVUQ01pbnV0ZXMoKS50b1N0cmluZygpLCAgICAgICAgIC8vIOWIhlxyXG4gICAgICAgICAgICBcInMrXCI6IGRhdGUuZ2V0VVRDU2Vjb25kcygpLnRvU3RyaW5nKCksICAgICAgICAgLy8g56eSXHJcbiAgICAgICAgICAgIFwiUytcIjogZGF0ZS5nZXRVVENNaWxsaXNlY29uZHMoKS50b1N0cmluZygpLCAgICAvLyDnp5JcclxuICAgICAgICAgICAgLy8g5pyJ5YW25LuW5qC85byP5YyW5a2X56ym6ZyA5rGC5Y+v5Lul57un57ut5re75Yqg77yM5b+F6aG76L2s5YyW5oiQ5a2X56ym5LiyXHJcbiAgICAgICAgfTtcclxuICAgICAgICBmb3IgKGxldCBrIGluIG9wdCkge1xyXG4gICAgICAgICAgICByZXQgPSBuZXcgUmVnRXhwKFwiKFwiICsgayArIFwiKVwiKS5leGVjKGZtdCk7XHJcbiAgICAgICAgICAgIGlmIChyZXQpIHtcclxuICAgICAgICAgICAgICAgIGlmICghU3RyaW5nLnByb3RvdHlwZS5wYWRTdGFydCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZtdCA9IGZtdC5yZXBsYWNlKHJldFsxXSwgKHJldFsxXS5sZW5ndGggPT0gMSkgPyAob3B0W2tdKSA6IChCcG1uTW9kZWxKc29uSGVscGVyLm15UGFkU3RhcnQob3B0W2tdLCByZXRbMV0ubGVuZ3RoLCBcIjBcIikpKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm10ID0gZm10LnJlcGxhY2UocmV0WzFdLCAocmV0WzFdLmxlbmd0aCA9PSAxKSA/IChvcHRba10pIDogKG9wdFtrXS5wYWRTdGFydChyZXRbMV0ubGVuZ3RoLCBcIjBcIikpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZm10O1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgc3RhdGljIG15UGFkU3RhcnQoc3JjOiBzdHJpbmcsIHRhcmdldExlbmd0aDogbnVtYmVyLCBwYWRTdHJpbmc6IHN0cmluZykge1xyXG4gICAgICAgIHRhcmdldExlbmd0aCA9IHRhcmdldExlbmd0aCA+PiAwOyAvL2Zsb29yIGlmIG51bWJlciBvciBjb252ZXJ0IG5vbi1udW1iZXIgdG8gMDtcclxuICAgICAgICBwYWRTdHJpbmcgPSBTdHJpbmcodHlwZW9mIHBhZFN0cmluZyAhPT0gJ3VuZGVmaW5lZCcgPyBwYWRTdHJpbmcgOiAnICcpO1xyXG4gICAgICAgIGlmIChzcmMubGVuZ3RoID4gdGFyZ2V0TGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBTdHJpbmcoc3JjKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0YXJnZXRMZW5ndGggPSB0YXJnZXRMZW5ndGggLSBzcmMubGVuZ3RoO1xyXG4gICAgICAgICAgICBpZiAodGFyZ2V0TGVuZ3RoID4gcGFkU3RyaW5nLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgcGFkU3RyaW5nICs9IHBhZFN0cmluZy5yZXBlYXQodGFyZ2V0TGVuZ3RoIC8gcGFkU3RyaW5nLmxlbmd0aCk7IC8vYXBwZW5kIHRvIG9yaWdpbmFsIHRvIGVuc3VyZSB3ZSBhcmUgbG9uZ2VyIHRoYW4gbmVlZGVkXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHBhZFN0cmluZy5zbGljZSgwLCB0YXJnZXRMZW5ndGgpICsgU3RyaW5nKHNyYyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59Il19