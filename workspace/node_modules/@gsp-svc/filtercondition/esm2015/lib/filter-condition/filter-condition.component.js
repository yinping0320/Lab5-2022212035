/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { Component, ViewChild, Input, EventEmitter, Output, Inject, LOCALE_ID } from '@angular/core';
import { TreeTableComponent } from '@farris/ui-treetable';
import { FilterExpression, ExpressionItem } from '../filter-expression-entity';
import { ExpressionService } from '@gsp-svc/expression';
import { ExpressTypeEnum, RelationTypeEnum, CompareTypeEnum } from '../typeinfo';
import { PropertyDataType } from '../property-entity';
import { FilterInjectedEntity } from '../injected-entity';
import { ViewEncapsulation } from '@angular/core';
import { NotifyService } from '@farris/ui-notify';
import { FilterConditionLocalePipe } from '../filter-condition-locale.pipe';
/**
 * 过滤条件弹出框逻辑类
 */
export class FilterConditionComponent {
    /**
     * @param {?} expr
     * @param {?} notifyservice
     * @param {?} localeId
     */
    constructor(expr, notifyservice, localeId) {
        this.expr = expr;
        this.notifyservice = notifyservice;
        //关闭窗口事件
        this.closed = new EventEmitter();
        this.result = new EventEmitter();
        //预置计算表达式上下文实体
        this.contextEntity = [];
        //预置计算默认表达式显示
        this.expressionText = "";
        //预置计算表达式中的schema
        this.expressionSchema = [];
        //预置计算表达式中的注入实体
        this.expressionInjectedEntities = [];
        //预置计算表达式cdt集
        this.expressionCDT = [];
        //预置属性列表
        this.propertyList = [];
        //预置过滤表达式串
        this.filterExpressionString = null;
        //预置过滤表达式schema
        this.schemaMap = new Map();
        //==============新加入的newSchemaMap=======================
        //预置过滤表达式newSchema
        this.newSchemaMap = new Map();
        //========================================================
        //预置过滤表达式注入实体
        this.injectedEntity = new FilterInjectedEntity();
        //预置计算表达式弹出框宽度
        this.exprWinWidth = 850;
        this.popupSettings = {
            popupClass: "lpopup"
        };
        this.operatorView = [];
        //操作比较符集
        this.operators = [];
        this.stringOperators = [];
        this.NumberOperators = [];
        //关系集
        this.relations = [];
        //表达式类型集
        this.expressTypes = [];
        //判断是否保存编辑后的过滤表达式
        this.isEdited = false;
        this.displayPopup = false;
        this.groupIcon = '<span class="f-icon f-icon-windows"></span>';
        this.treeData = [];
        //消息提示
        this.notifies = {};
        localeId = localStorage.getItem('languageCode');
        this.localePipe = new FilterConditionLocalePipe(localeId);
    }
    //初始化，复制treeData值,treeDataTemp用于转换为FilterExpression实体
    /**
     * @return {?}
     */
    ngOnInit() {
        //并且树形表绑定的显示的列 
        this.cols = [
            { field: 'item', title: this.localePipe.transform("Item"), width: 271 },
            { field: 'operator', title: this.localePipe.transform("Operator"), width: 191 },
            { field: 'expressType', title: this.localePipe.transform("ExpressType"), width: 180 },
            { field: 'value', title: this.localePipe.transform("Value"), width: 214 },
            { field: 'operation', title: this.localePipe.transform("Operation"), width: 130 }
        ];
        if (!(this.filterExpressionString) || this.filterExpressionString == "") {
            this.treeData = [
                {
                    data: {
                        "id": 1,
                        //树形结构中每个节点的id
                        "item": this.localePipe.transform("And"),
                        //属性项
                        "propertyDataType": null,
                        //属性数据类型
                        "operator": null,
                        //操作比较符
                        "expressType": null,
                        //表达式类型
                        "value": null,
                        //值
                        "displaySelect": false,
                        //选择项显示
                        "displayOperator": false,
                        //操作符项显示
                        "displayExpressType": false,
                        //表达式类型显示
                        "displayValue": false,
                        //值显示
                        "parentItem": null //父子项 
                    },
                    children: [],
                    //子节点集合
                    expanded: true //是否展开
                }
            ];
        }
        else {
            this.filterExpressionPre = JSON.parse(this.filterExpressionString);
            this.treeData.push(this.unConvert(this.filterExpressionPre));
            this.treeData[0].data.id = 1;
        }
        this.treeDataTemp = this.treeData;
        this.defaultSelectItem = this.localePipe.transform("SelectItem");
        this.defaultExpressTypeText = this.localePipe.transform("Value");
        this.defaultSelectGroup = this.localePipe.transform("And");
        this.defaultOperatorText = this.localePipe.transform("GreaterThan");
        this.notifies = {
            1: { type: 'success', msg: this.localePipe.transform("Success") },
            2: { type: 'warning', msg: this.localePipe.transform("Warning_SelectRelation") },
            3: { type: 'warning', msg: this.localePipe.transform("Warning_ContainsFilters") },
            4: { type: 'warning', msg: this.localePipe.transform("Warning_ConditionsComplete") },
            5: { type: 'warning', msg: this.localePipe.transform("Warning_NumericMatch") }
        };
        this.expressTypes = [
            { id: this.localePipe.transform("Value") },
            { id: this.localePipe.transform("Expression") }
        ];
        this.relations = [
            { id: this.localePipe.transform("And") },
            { id: this.localePipe.transform("Or") },
        ];
        this.operators = [
            { id: this.localePipe.transform("GreaterThan") },
            { id: this.localePipe.transform("GreaterThanOrEqual") },
            { id: this.localePipe.transform("LessThan") },
            { id: this.localePipe.transform("LessThanOrEqual") },
            { id: this.localePipe.transform("Equal") },
            { id: this.localePipe.transform("NotEqual") },
            { id: this.localePipe.transform("Contains") },
            { id: this.localePipe.transform("NotContains") },
            { id: this.localePipe.transform("StartsWith") },
            { id: this.localePipe.transform("EndsWith") },
            { id: this.localePipe.transform("NotStartsWith") },
            { id: this.localePipe.transform("NotEndsWith") },
            { id: this.localePipe.transform("IsNull") },
            { id: this.localePipe.transform("IsNotNull") },
            { id: this.localePipe.transform("In") },
            { id: this.localePipe.transform("NotIn") },
        ];
        this.NumberOperators = [
            { id: this.localePipe.transform("GreaterThan") },
            { id: this.localePipe.transform("GreaterThanOrEqual") },
            { id: this.localePipe.transform("LessThan") },
            { id: this.localePipe.transform("LessThanOrEqual") },
            { id: this.localePipe.transform("Equal") },
            { id: this.localePipe.transform("NotEqual") },
            { id: this.localePipe.transform("IsNull") },
            { id: this.localePipe.transform("IsNotNull") },
        ];
        this.stringOperators = [
            { id: this.localePipe.transform("Equal") },
            { id: this.localePipe.transform("NotEqual") },
            { id: this.localePipe.transform("Contains") },
            { id: this.localePipe.transform("NotContains") },
            { id: this.localePipe.transform("StartsWith") },
            { id: this.localePipe.transform("EndsWith") },
            { id: this.localePipe.transform("NotStartsWith") },
            { id: this.localePipe.transform("NotEndsWith") },
            { id: this.localePipe.transform("IsNull") },
            { id: this.localePipe.transform("IsNotNull") },
        ];
    }
    /**
     * 树形表中节点选择触发函数
     * @param {?} $event 所选节点信息
     * @return {?}
     */
    nodeSelected($event) {
        //隐藏掉所有的节点选择编辑框，包括子节点的
        this.hideNodeEditor(this.treeData);
        //将所选节点比较项、表达式类型项、值编辑框显示，并将所选对应数据赋给默认项进行显示 
        this.defaultOperatorText = $event.node.data.operator;
        this.defaultExpressTypeText = $event.node.data.expressType;
        if ($event.node.data.item == this.localePipe.transform("And") || $event.node.data.item == this.localePipe.transform("Or")) {
            this.defaultSelectGroup = $event.node.data.item;
        }
        else if ($event.node.data.item !== this.localePipe.transform("SelectProperty")) {
            /** @type {?} */
            let properties = this.propertyList.filter((/**
             * @param {?} x
             * @return {?}
             */
            x => x.text == $event.node.data.item));
            this.defaultSelectItem = properties[0].value;
            if (properties[0].propertyDataType == PropertyDataType.String) {
                this.operatorView = this.stringOperators;
            }
            else if (properties[0].propertyDataType == PropertyDataType.Int16 ||
                properties[0].propertyDataType == PropertyDataType.Int32 ||
                properties[0].propertyDataType == PropertyDataType.Int64 ||
                properties[0].propertyDataType == PropertyDataType.Decimal ||
                properties[0].propertyDataType == PropertyDataType.Double) {
                this.operatorView = this.NumberOperators;
            }
            else
                this.operatorView = this.operators;
        }
        $event.node.data.displayOperator = true;
        $event.node.data.displayExpressType = true;
        $event.node.data.displayValue = true;
        $event.node.data.displaySelect = true;
    }
    ;
    /**
     * 隐藏掉所有的节点选择编辑框，包括子节点的
     * @param {?} treeNodes 树形表绑定结构
     * @return {?}
     */
    hideNodeEditor(treeNodes) {
        treeNodes.forEach((/**
         * @param {?} element
         * @return {?}
         */
        element => {
            element.data.displayOperator = false;
            element.data.displayExpressType = false;
            element.data.displayValue = false;
            element.data.displaySelect = false;
            //若有子节点，则将其子节点的编辑选择框隐藏
            if ((element.children) && element.children.length != 0) {
                this.hideNodeEditor(element.children);
            }
        }));
    }
    ;
    /**
     *
     * 选择逻辑集时
     * @param {?} $event
     * @return {?}
     */
    selectGroup($event) {
        this.propertyNodeOperate($event, this.treeData, 0 /* Group */);
    }
    /**
     *
     * 选择项时
     * @param {?} $event
     * @return {?}
     */
    selectItem($event) {
        this.propertyNodeOperate($event, this.treeData, 1 /* Item */);
    }
    /**
     * 选择比较操作符时
     * @param {?} $event 比较操作项信息
     * @return {?}
     */
    selectOperator($event) {
        this.propertyNodeOperate($event, this.treeData, 2 /* Operation */);
    }
    ;
    /**
     * 选择值类型时
     * @param {?} $event 值类型项信息
     * @return {?}
     */
    selectExpressType($event) {
        this.propertyNodeOperate($event, this.treeData, 3 /* Valuetype */);
    }
    ;
    /**
     * 选择结束后隐藏该字段选择框
     * @param {?} treeNodes 树形表绑定结构
     * @param {?} fieldType 所选字段
     * @return {?}
     */
    hideFieldEditor(treeNodes, fieldType) {
        //找到所操作的节点，根据所选择的字段将对应选择编辑框隐藏
        treeNodes.forEach((/**
         * @param {?} treeNode
         * @return {?}
         */
        treeNode => {
            if (this.tt.isSelected(treeNode)) {
                switch (fieldType) {
                    case 1 /* Item */:
                        treeNode.data.displaySelect = false;
                        break;
                    case 2 /* Operation */:
                        treeNode.data.displayOperator = false;
                        break;
                    case 3 /* Valuetype */:
                        treeNode.data.displayExpressType = false;
                        break;
                }
                return;
            }
            //若未找到所选节点，则找其子节点
            else if ((treeNode.children) && treeNode.children.length != 0) {
                this.hideFieldEditor(treeNode.children, fieldType);
            }
        }));
    }
    /**
     * 打开计算表达式编辑器
     * @return {?}
     */
    openExpressEditor() {
        /** @type {?} */
        let that = this;
        //预置计算表达式弹出框宽度
        //this.expr.addWindowWidth(this.exprWinWidth);
        //添加预置上下文变量
        if (this.contextEntity && this.contextEntity.length != 0) {
            this.contextEntity.forEach((/**
             * @param {?} element
             * @return {?}
             */
            element => {
                this.expr.addContext(element);
            }));
        }
        //添加预置表达式文本
        /** @type {?} */
        let selectNode = this.isSelected(this.treeData);
        if ((selectNode) && (selectNode.data.value != "") && (selectNode.data.value != null)) {
            this.expr.addExpressionText(selectNode.data.value);
        }
        else
            this.expr.addExpressionText(this.expressionText);
        //添加注入实体
        this.expressionInjectedEntities.forEach((/**
         * @param {?} element
         * @return {?}
         */
        element => {
            this.expr.addInjectedEntity(element.name, element.schemaName, element.injectedName, element.injectedType);
        }));
        //添加schema
        this.expressionSchema.forEach((/**
         * @param {?} element
         * @return {?}
         */
        element => {
            this.expr.addSchema(element.name, element.schema);
        }));
        //添加cdt
        this.expr.addCDT(this.expressionCDT);
        //打开表达式编辑器并返回编辑结果
        this.expr.buildExpression().then((/**
         * @param {?} info
         * @return {?}
         */
        info => {
            /** @type {?} */
            let expressInfo = info;
            this.displayExpressResult(that.treeData, expressInfo);
        }));
    }
    /**
     * 选中节点选择
     * @param {?} treeNodes 关系组
     * @return {?}
     */
    isSelected(treeNodes) {
        /** @type {?} */
        let treeNode;
        for (var i = 0; i < treeNodes.length; i++) {
            if (this.tt.isSelected(treeNodes[i])) {
                treeNode = treeNodes[i];
                break;
            }
            //若在该层节点中未找到所选节点，则找其子节点
            else if ((treeNodes[i].children) && treeNodes[i].children.length != 0) {
                treeNode = this.isSelected(treeNodes[i].children);
                if ((treeNode))
                    break;
            }
        }
        return treeNode;
    }
    /**
     * 将计算表达式结果展示到对应节点
     * @param {?} treeNodes 树表绑定结构
     * @param {?} expressInfo 计算表达式得到结果
     * @return {?}
     */
    displayExpressResult(treeNodes, expressInfo) {
        //找到所选节点实体，并将计算表达式所得结果赋给对应属性进行显示
        treeNodes.forEach((/**
         * @param {?} treeNode
         * @return {?}
         */
        treeNode => {
            if (this.tt.isSelected(treeNode)) {
                treeNode.data.value = expressInfo;
                return;
            }
            //若在该层节点中未找到所选节点，则找其子节点
            else if ((treeNode.children) && treeNode.children.length != 0) {
                this.displayExpressResult(treeNode.children, expressInfo);
            }
            //若仍未找到，则不进行任何操作
        }));
    }
    /**
     * 关系选择按钮选择事件
     * @param {?} $event 选择按钮所选信息
     * @return {?}
     */
    itemClick($event) {
        //若选择添加关系
        if ($event.value == RelationTypeEnum.AddRelation) {
            this.addNode(this.treeData, this.localePipe.transform("And"), null, null);
        }
        //若选择添加属性
        else if ($event.value == RelationTypeEnum.AddProperty) {
            this.addNode(this.treeData, this.localePipe.transform("SelectProperty"), this.localePipe.transform("Equal"), this.localePipe.transform("Value"));
        }
        else
            this.propertyNodeOperate($event, this.treeData, 1 /* Item */);
    }
    /**
     * 选择属性节点操作
     * 对新添加的属性节点进行逻辑处理
     * @param {?} event
     * @param {?} treeNodes 树形表绑定结构
     * @param {?} fieldType 节点类型
     * @return {?}
     */
    propertyNodeOperate(event, treeNodes, fieldType) {
        treeNodes.forEach((/**
         * @param {?} treenode
         * @return {?}
         */
        treenode => {
            if (this.tt.isSelected(treenode)) {
                //对所选节点进行赋值操作
                switch (fieldType) {
                    case 0 /* Group */:
                        {
                            treenode.data.item = event.data.id;
                            this.defaultSelectGroup = event.data.id;
                        }
                        break;
                    case 1 /* Item */:
                        {
                            treenode.data.item = event.data.text;
                            this.defaultSelectItem = event.data.value;
                            treenode.data.parentItem = event.data.parentItem;
                            treenode.data.propertyDataType = event.data.propertyDataType;
                            if (treenode.data.propertyDataType == PropertyDataType.String) {
                                this.operatorView = this.stringOperators;
                            }
                            else if (treenode.data.propertyDataType == PropertyDataType.Int16 ||
                                treenode.data.propertyDataType == PropertyDataType.Int32 ||
                                treenode.data.propertyDataType == PropertyDataType.Int64 ||
                                treenode.data.propertyDataType == PropertyDataType.Decimal ||
                                treenode.data.propertyDataType == PropertyDataType.Double) {
                                this.operatorView = this.NumberOperators;
                            }
                            else
                                this.operatorView = this.operators;
                        }
                        break;
                    case 2 /* Operation */:
                        {
                            treenode.data.operator = event.data.id;
                            this.defaultOperatorText = event.data.id;
                        }
                        break;
                    case 3 /* Valuetype */:
                        {
                            treenode.data.expressType = event.data.id;
                            this.defaultExpressTypeText = event.data.id;
                        }
                        break;
                }
                return;
            }
            //否则对其子节点进行赋值操作
            else if ((treenode.children) && treenode.children.length != 0) {
                this.propertyNodeOperate(event, treenode.children, fieldType);
            }
        }));
    }
    /**
     * 根据所选为关系或者属性对新节点进行初始化
     * @param {?} treeNodes 树形表绑定结构
     * @param {?} defaultString 新节点显示默认值
     * @param {?} defaultOperator
     * @param {?} defalutExpressType
     * @return {?}
     */
    addNode(treeNodes, defaultString, defaultOperator, defalutExpressType) {
        treeNodes.forEach((/**
         * @param {?} treeNode
         * @return {?}
         */
        treeNode => {
            if (this.tt.isSelected(treeNode)) {
                //若关系值为空
                if (!(treeNode.data.item)) {
                    this.notifyservice[this.notifies['2'].type]({
                        msg: this.notifies['2'].msg
                    });
                    return;
                }
                //若为所选的关系节点，则在其子项里添加新子节点
                /** @type {?} */
                let newNode = {
                    data: {
                        "item": defaultString,
                        "propertyDataType": null,
                        //属性数据类型
                        "operator": defaultOperator,
                        "expressType": defalutExpressType,
                        "value": null,
                        "id": Math.random(),
                        "parentItem": null
                    },
                    parent: treeNode,
                    children: [],
                    expanded: true
                };
                //向该所选节点的子项添加新节点
                treeNode.children.push(newNode);
                return;
            }
            //若未找到所选节点，且该节点子项不为空，则在其子项中查找所选节点
            else if ((treeNode.children) && treeNode.children.length != 0) {
                this.addNode(treeNode.children, defaultString, defaultOperator, defalutExpressType);
            }
        }));
        this.tt.updateSerializedValue();
    }
    /**
     * 删除节点
     * @param {?} $event
     * @return {?}
     */
    deleteNode($event) {
        this.onDelete(this.treeData, $event);
    }
    /**
     * 删除节点具体实现类
     * @param {?} treeNodes 树形表绑定结构
     * @param {?} id
     * @return {?}
     */
    onDelete(treeNodes, id) {
        treeNodes.forEach((/**
         * @param {?} treeNode
         * @return {?}
         */
        treeNode => {
            if (treeNode.data.id == id) {
                if (treeNode.data.id == 1) {
                    this.treeData = [
                        {
                            data: {
                                "id": 1,
                                //树形结构中每个节点的id
                                "propertyDataType": null,
                                //属性数据类型
                                "item": this.localePipe.transform("And"),
                                //属性项
                                "operator": null,
                                //操作比较符
                                "expressType": null,
                                //表达式类型
                                "value": null,
                                //值
                                "displaySelect": false,
                                //选择项显示
                                "displayOperator": false,
                                //操作符项显示
                                "displayExpressType": false,
                                //表达式类型显示
                                "displayValue": false,
                                //值显示
                                "parentItem": null //父项
                            },
                            children: [],
                            //子节点集合
                            expanded: true //是否展开
                        }
                    ];
                    return;
                }
                //所选节点所在数
                /** @type {?} */
                let index = treeNodes.indexOf(treeNode);
                //将所选节点剔除
                treeNodes.splice(index, 1);
            }
            else if ((treeNode.children) && treeNode.children.length != 0) {
                treeNode.children = this.onDelete(treeNode.children, id);
            }
        }));
        this.tt.updateSerializedValue();
        return treeNodes;
    }
    /**
     * 确定
     * 生成过滤表达式
     * @return {?}
     */
    onConfirm() {
        this.treeDataTemp = this.treeData;
        /** @type {?} */
        let isNull = true;
        /** @type {?} */
        let isMatch = true;
        if (this.checkNull(this.treeDataTemp[0].children, isNull) && this.checkMatch(this.treeDataTemp[0].children, isMatch)) {
            this.filterExpression = new FilterExpression();
            //根据树形数据结构转化为过滤表达式实体
            this.convert(this.filterExpression, this.treeDataTemp[0]);
            this.isEdited = true;
            this.notifyservice[this.notifies['1'].type]({
                msg: this.notifies['1'].msg
            });
            this.close();
            this.closed.emit("close");
        }
    }
    //递归检查整个过滤表达式是否有漏填的项
    /**
     * @param {?} treeNodes
     * @param {?} isNull
     * @return {?}
     */
    checkNull(treeNodes, isNull) {
        for (var i = 0; i < treeNodes.length; i++) {
            if (treeNodes[i].data.item == this.localePipe.transform("And") || treeNodes[i].data.item == this.localePipe.transform("Or")) {
                if (!(treeNodes[i].children) || treeNodes[i].children.length == 0) {
                    this.notifyservice[this.notifies['3'].type]({
                        msg: this.notifies['3'].msg
                    });
                    isNull = false;
                    break;
                }
                else if (!this.checkNull(treeNodes[i].children, isNull)) {
                    isNull = false;
                    break;
                }
            }
            else {
                if (!(treeNodes[i].data.item) || treeNodes[i].data.item == this.localePipe.transform("SelectProperty")
                    || !(treeNodes[i].data.operator) || !(treeNodes[i].data.expressType)
                    || treeNodes[i].data.value == null || treeNodes[i].data.value == undefined) {
                    this.notifyservice[this.notifies['4'].type]({
                        msg: this.notifies['4'].msg
                    });
                    isNull = false;
                    break;
                }
            }
        }
        return isNull;
    }
    /**
     * 重置
     * 重置为初始状态
     * @return {?}
     */
    onCancel() {
        this.isEdited = false;
        if (this.filterExpressionString == null || this.filterExpressionString == "") {
            this.treeData = [
                {
                    data: {
                        "id": 1,
                        //树形结构中每个节点的id
                        "item": null,
                        //属性项
                        "propertyDataType": null,
                        //属性数据类型
                        "operator": null,
                        //操作比较符
                        "expressType": null,
                        //表达式类型
                        "value": null,
                        //值
                        "displaySelect": false,
                        //选择项显示
                        "displayOperator": false,
                        //操作符项显示
                        "displayExpressType": false,
                        //表达式类型显示
                        "displayValue": false,
                        //值显示
                        "parentItem": null //父项
                    },
                    children: [],
                    //子节点集合
                    expanded: true //是否展开
                }
            ];
        }
        else {
            this.filterExpressionPre = JSON.parse(this.filterExpressionString);
            this.treeData = [];
            this.treeData.push(this.unConvert(this.filterExpressionPre));
            this.treeData[0].data.id = 1;
        }
    }
    /**
     * 取消
     * @return {?}
     */
    cancle() {
        this.closed.emit("close");
    }
    /**
     * 关闭窗口
     * @return {?}
     */
    close() {
        if (this.isEdited == true) {
            //若只包含关系项则返回空
            if (this.filterExpression.expressItems.length == 0)
                this.result.next(null);
            //若最后一次点了确定，则将过滤表达式JSON序列化输出
            else
                this.result.next(JSON.stringify(this.filterExpression));
        }
        //若未点确定，默认无任何编辑文本，则输出空串
        else
            this.result.next(this.filterExpressionString);
    }
    /**
     * 将treeData转化为filetrExpression实体
     * @param {?} filterExpression 过滤表达式实体
     * @param {?} treeNode 最外层的treeNode
     * @return {?}
     */
    convert(filterExpression, treeNode) {
        //得到最外层的关系符
        filterExpression.relationOperator = this.typeMatch(treeNode.data.item);
        //若其子项不为空
        if (treeNode.children.length != 0) {
            //对其每一个子项进行转化操作
            treeNode.children.forEach((/**
             * @param {?} treeNodeItem
             * @return {?}
             */
            treeNodeItem => {
                //若子项为并且、或者，则新建复杂过滤表达式
                if (this.typeMatch(treeNodeItem.data.item) == RelationTypeEnum.And ||
                    this.typeMatch(treeNodeItem.data.item) == RelationTypeEnum.Or) {
                    /** @type {?} */
                    let filterExpressionItem = new FilterExpression();
                    filterExpression.expressItems.push(this.convert(filterExpressionItem, treeNodeItem));
                }
                //若子项为属性表达式
                else {
                    /** @type {?} */
                    let filterItem = new ExpressionItem();
                    //根据属性名展示值找到其在预置列表中的语义化值，将语义化值赋给实体保存
                    /** @type {?} */
                    let properties = this.propertyList.filter((/**
                     * @param {?} x
                     * @return {?}
                     */
                    x => x.text == treeNodeItem.data.item));
                    filterItem.propertyName = properties[0].value;
                    filterItem.propertyDataType = treeNodeItem.data.propertyDataType;
                    filterItem.operator = this.typeMatch(treeNodeItem.data.operator);
                    filterItem.expressType = this.typeMatch(treeNodeItem.data.expressType);
                    filterItem.value = treeNodeItem.data.value;
                    filterItem.parentItem = treeNodeItem.data.parentItem;
                    //若为数值型比较，则将value值强制转换为数字
                    if (filterItem.expressType == ExpressTypeEnum.Value &&
                        (filterItem.operator == CompareTypeEnum.GreaterThan
                            || filterItem.operator == CompareTypeEnum.GreaterThanOrEqual
                            || filterItem.operator == CompareTypeEnum.LessThan
                            || filterItem.operator == CompareTypeEnum.LessThanOrEqual)) {
                        filterItem.value = Number(treeNodeItem.data.value);
                    }
                    if (filterItem.expressType == ExpressTypeEnum.Value &&
                        (filterItem.operator == CompareTypeEnum.Equal
                            || filterItem.operator == CompareTypeEnum.NotEqual)) {
                        if (filterItem.propertyDataType == PropertyDataType.Decimal
                            || filterItem.propertyDataType == PropertyDataType.Double
                            || filterItem.propertyDataType == PropertyDataType.Int16
                            || filterItem.propertyDataType == PropertyDataType.Int32
                            || filterItem.propertyDataType == PropertyDataType.Int64) {
                            filterItem.value = Number(treeNodeItem.data.value);
                        }
                    }
                    //将子项放入父项的字段中
                    filterExpression.expressItems.push(filterItem);
                }
            }));
        }
        return filterExpression;
    }
    /**
     * filetrExpression反转化为TreeNode
     * @param {?} filterExpress 待转化的filetrExpression实体
     * @return {?}
     */
    unConvert(filterExpress) {
        /** @type {?} */
        let treeData = {
            data: {
                "id": Math.random(),
                //树形结构中每个节点的id
                "item": this.relationTypeReverseMatch(filterExpress.relationOperator),
                //属性项
                "propertyDataType": null,
                //属性数据类型
                "operator": null,
                //操作比较符
                "expressType": null,
                //表达式类型
                "value": null,
                //值
                "displaySelect": false,
                //选择项显示
                "displayOperator": false,
                //操作符项显示
                "displayExpressType": false,
                //表达式类型显示
                "displayValue": false,
                //值显示
                "parentItem": null //父项
            },
            children: [],
            //子节点集合
            expanded: true //是否展开
        };
        //对于每一个子项
        filterExpress.expressItems.forEach((/**
         * @param {?} expressItem
         * @return {?}
         */
        expressItem => {
            /** @type {?} */
            let filterExpressItem = (/** @type {?} */ (expressItem));
            //若子项为FilterExpression类型，赋值
            if ((filterExpressItem.relationOperator == RelationTypeEnum.And || filterExpressItem.relationOperator == RelationTypeEnum.Or)) {
                /** @type {?} */
                let treeDataChild = this.unConvert(filterExpressItem);
                treeDataChild.data.parent = treeData; //添加父节点
                treeData.children.push(treeDataChild);
            }
            else //若子项为ExpressionItem类型，赋值
             {
                /** @type {?} */
                let expressionItem = (/** @type {?} */ (expressItem));
                /** @type {?} */
                let properties = this.propertyList.filter((/**
                 * @param {?} x
                 * @return {?}
                 */
                x => x.value == expressionItem.propertyName));
                /** @type {?} */
                let treeDataChild = {
                    data: {
                        "id": Math.random(),
                        //树形结构中每个节点的id
                        "item": properties[0].text,
                        //属性项
                        "propertyDataType": expressionItem.propertyDataType,
                        //属性数据类型
                        "operator": this.operatorReverseMatch(expressionItem.operator),
                        //操作比较符
                        "expressType": this.expressTypeReverseMatch(expressionItem.expressType),
                        //表达式类型
                        "value": expressionItem.value,
                        //值
                        "parentItem": expressionItem.parentItem //父项
                    },
                    parent: treeData,
                    //添加父节点
                    children: [],
                    //子节点集合
                    expanded: true //是否展开
                };
                treeData.children.push(treeDataChild);
            }
        }));
        return treeData;
    }
    /**
     *
     * 添加条件项
     * @return {?}
     */
    addItem() {
        this.defaultSelectItem = this.localePipe.transform("SelectItem");
        this.hideNodeEditor(this.treeData);
        this.addNode(this.treeData, this.localePipe.transform("SelectProperty"), this.localePipe.transform("Equal"), this.localePipe.transform("Value"));
    }
    /**
     *
     * 添加条件组
     * @return {?}
     */
    addGroup() {
        this.addNode(this.treeData, this.localePipe.transform("And"), null, null);
    }
    /**
     * 类型信息匹配
     * @param {?} type 类型
     * @return {?}
     */
    typeMatch(type) {
        switch (type) {
            case this.localePipe.transform("And"): return RelationTypeEnum.And;
            case this.localePipe.transform("Or"): return RelationTypeEnum.Or;
            case this.localePipe.transform("GreaterThan"): return CompareTypeEnum.GreaterThan;
            case this.localePipe.transform("GreaterThanOrEqual"): return CompareTypeEnum.GreaterThanOrEqual;
            case this.localePipe.transform("LessThan"): return CompareTypeEnum.LessThan;
            case this.localePipe.transform("LessThanOrEqual"): return CompareTypeEnum.LessThanOrEqual;
            case this.localePipe.transform("Equal"): return CompareTypeEnum.Equal;
            case this.localePipe.transform("NotEqual"): return CompareTypeEnum.NotEqual;
            case this.localePipe.transform("Contains"): return CompareTypeEnum.Contains;
            case this.localePipe.transform("NotContains"): return CompareTypeEnum.NotContains;
            case this.localePipe.transform("StartsWith"): return CompareTypeEnum.StartsWith;
            case this.localePipe.transform("EndsWith"): return CompareTypeEnum.EndsWith;
            case this.localePipe.transform("NotStartsWith"): return CompareTypeEnum.NotStartsWith;
            case this.localePipe.transform("NotEndsWith"): return CompareTypeEnum.NotEndsWith;
            case this.localePipe.transform("IsNull"): return CompareTypeEnum.IsNull;
            case this.localePipe.transform("IsNotNull"): return CompareTypeEnum.IsNotNull;
            case this.localePipe.transform("In"): return CompareTypeEnum.In;
            case this.localePipe.transform("NotIn"): return CompareTypeEnum.NotIn;
            case this.localePipe.transform("Value"): return ExpressTypeEnum.Value;
            case this.localePipe.transform("Expression"): return ExpressTypeEnum.Expression;
        }
    }
    /**
     * @param {?} type
     * @return {?}
     */
    relationTypeReverseMatch(type) {
        switch (type) {
            case RelationTypeEnum.And: return this.localePipe.transform("And");
            case RelationTypeEnum.Or: return this.localePipe.transform("Or");
        }
    }
    /**
     * @param {?} type
     * @return {?}
     */
    operatorReverseMatch(type) {
        switch (type) {
            case CompareTypeEnum.GreaterThan: return this.localePipe.transform("GreaterThan");
            case CompareTypeEnum.GreaterThanOrEqual: return this.localePipe.transform("GreaterThanOrEqual");
            case CompareTypeEnum.LessThan: return this.localePipe.transform("LessThan");
            case CompareTypeEnum.LessThanOrEqual: return this.localePipe.transform("LessThanOrEqual");
            case CompareTypeEnum.Equal: return this.localePipe.transform("Equal");
            case CompareTypeEnum.NotEqual: return this.localePipe.transform("NotEqual");
            case CompareTypeEnum.Contains: return this.localePipe.transform("Contains");
            case CompareTypeEnum.NotContains: return this.localePipe.transform("NotContains");
            case CompareTypeEnum.StartsWith: return this.localePipe.transform("StartsWith");
            case CompareTypeEnum.EndsWith: return this.localePipe.transform("EndsWith");
            case CompareTypeEnum.NotStartsWith: return this.localePipe.transform("NotStartsWith");
            case CompareTypeEnum.NotEndsWith: return this.localePipe.transform("NotEndsWith");
            case CompareTypeEnum.IsNull: return this.localePipe.transform("IsNull");
            case CompareTypeEnum.IsNotNull: return this.localePipe.transform("IsNotNull");
            case CompareTypeEnum.In: return this.localePipe.transform("In");
            case CompareTypeEnum.NotIn: return this.localePipe.transform("NotIn");
        }
    }
    /**
     * @param {?} type
     * @return {?}
     */
    expressTypeReverseMatch(type) {
        switch (type) {
            case ExpressTypeEnum.Value: return this.localePipe.transform("Value");
            case ExpressTypeEnum.Expression: return this.localePipe.transform("Expression");
        }
    }
    /**
     * @return {?}
     */
    onfocus() {
        this.displayPopup = true;
    }
    /**
     * @return {?}
     */
    onblur() {
        this.displayPopup = false;
    }
    /**
     * @param {?} treeNodes
     * @param {?} isMatch
     * @return {?}
     */
    checkMatch(treeNodes, isMatch) {
        for (var i = 0; i < treeNodes.length; i++) {
            if (treeNodes[i].data.item != this.localePipe.transform("And") && treeNodes[i].data.item != this.localePipe.transform("Or")) {
                if (treeNodes[i].data.expressType == this.localePipe.transform("Value")) {
                    if ((treeNodes[i].data.propertyDataType == PropertyDataType.Int16 || treeNodes[i].data.propertyDataType == PropertyDataType.Int32 || treeNodes[i].data.propertyDataType == PropertyDataType.Int64) && isNaN(treeNodes[i].data.value)) {
                        this.notifyservice[this.notifies['5'].type]({
                            msg: this.notifies['5'].msg
                        });
                        isMatch = false;
                        break;
                    }
                }
            }
            else
                isMatch = this.checkMatch(treeNodes[i].children, isMatch);
        }
        return isMatch;
    }
}
FilterConditionComponent.decorators = [
    { type: Component, args: [{
                selector: 'app-filter-condition',
                template: "<div class=\"filter \">   \r\n    <farris-treetable #tt\r\n    class=\"farristreetable\"\r\n    [data]=\"treeData\" \r\n    [columns]=\"cols\" \r\n    [idField]=\"'id'\" \r\n    [showIcon]=\"false\" \r\n    [resizableColumns]=\"true\"\r\n    (nodeSelected)=\"nodeSelected($event)\" \r\n    [fitColumns]=\"true\" \r\n    [showFilterBar]=\"false\"\r\n    [showHeader]=\"true\"\r\n    [enableFindText]=\"true\"\r\n    [fit]=\"true\"\r\n    [fixedHeader]=\"true\"\r\n    [showBorder]=\"false\"\r\n    >\r\n      <ng-template farrisTemplate=\"body\" let-rowNode let-rowData=\"rowData\" let-columns=\"columns\">\r\n        <tr [selectRow]=\"rowNode\" [dblclick]=\"true\">\r\n          <td *ngFor=\"let col of columns; let i = index\"\r\n          [ngStyle]=\"{'text-align':col.title=='' ?'center':'left'}\">\r\n            <farris-treeTableToggler [rowNode]=\"rowNode\" *ngIf=\"i == 0\"></farris-treeTableToggler>\r\n            <ng-container *ngIf=\"i==0\">\r\n                <span style=\"display: inline-block;\" id=\"groupAnd\" *ngIf=\"rowData['item']==this.localePipe.transform('And') || rowData['item']==null\"><img src='/platform/common/web/assets/filter-icon/and.svg'></span>\r\n                <span style=\"display: inline-block;\" id=\"groupOr\" *ngIf=\"rowData['item']==this.localePipe.transform('Or')\"><img src='/platform/common/web/assets/filter-icon/or.svg'></span>\r\n\r\n                <farris-combo-list *ngIf=\"(rowData['item']==this.localePipe.transform('Or') || rowData['item']==this.localePipe.transform('And') || rowData['item']==null)&& rowData['displaySelect']\"\r\n                style=\"display: inline-block;\"\r\n                [(ngModel)]=\"defaultSelectGroup\"\r\n                [idField]=\"'id'\"\r\n                [textField]=\"'id'\"\r\n                [data]=\"relations\" \r\n                (selectChange)=\"selectGroup($event)\">\r\n                </farris-combo-list>\r\n                <farris-combo-list *ngIf=\"rowData['item']!=this.localePipe.transform('Or') && rowData['item']!=this.localePipe.transform('And') && rowData['item']!=null && rowData['displaySelect']\"\r\n                style=\"display: inline-block;\"\r\n                [(ngModel)]=\"defaultSelectItem\"\r\n                [idField]=\"'value'\"\r\n                [textField]=\"'text'\"\r\n                [data]=\"propertyList\" \r\n                (selectChange)=\"selectItem($event)\">\r\n                </farris-combo-list>\r\n                <ng-container *ngIf=\"!rowData['displaySelect']\">\r\n                     {{rowData[col.field]}}\r\n                </ng-container>\r\n            </ng-container>\r\n          \r\n            <ng-container *ngIf=\"i==1\">\r\n              <farris-combo-list *ngIf=\"rowData['item']!=this.localePipe.transform('Or') && rowData['item']!=this.localePipe.transform('And') && rowData['item']!=null && rowData['displayExpressType']\"\r\n                [(ngModel)]=\"defaultOperatorText\"\r\n                [idField]=\"'id'\"\r\n                [textField]=\"'id'\"\r\n                [data]=\"operatorView\"\r\n                [panelHeight]=200\r\n                (selectChange)=\"selectOperator($event)\">\r\n              </farris-combo-list>\r\n              <ng-container *ngIf=\"!rowData['displayOperator']\">\r\n                {{rowData[col.field]}}\r\n              </ng-container>\r\n            </ng-container>\r\n            <ng-container *ngIf=\"i==2\">\r\n              <farris-combo-list *ngIf=\"rowData['item']!=this.localePipe.transform('Or') && rowData['item']!=this.localePipe.transform('And') && rowData['item']!=null && rowData['displayExpressType']\"\r\n                [(ngModel)]=\"defaultExpressTypeText\"\r\n                [idField]=\"'id'\"\r\n                [textField]=\"'id'\"\r\n                [data]=\"expressTypes\"\r\n                (selectChange)=\"selectExpressType($event)\">\r\n              </farris-combo-list>\r\n              <ng-container *ngIf=\"!rowData['displayExpressType']\">\r\n                {{rowData[col.field]}}\r\n              </ng-container>\r\n            </ng-container>\r\n            <ng-container *ngIf=\"i==3\">\r\n              <ng-container *ngIf=\"rowData['item']!=this.localePipe.transform('Or') && rowData['item']!=this.localePipe.transform('And') && rowData['item']!=null && rowData['displayValue']\">\r\n              <div class=\"input-group\">\r\n                <input type=\"text\" class=\"form-control\" placeholder=\"{{ 'PlaceHolder' | locale }}\" aria-describedby=\"button-addon\" [(ngModel)]=\"rowData['value']\"/>\r\n                <button *ngIf=\"rowData['expressType']==this.localePipe.transform('Expression')\" class=\"btn btn-outline-secondary\" style=\"border: none;width: 25px;padding-left: 4px\" type=\"button\" id=\"button-addon\" (click)=\"openExpressEditor()\"><span class=\"f-icon f-icon-windows\"></span></button>\r\n              </div>\r\n              </ng-container>\r\n              <ng-container *ngIf=\"!rowData['displayValue']\">\r\n                <span style=\"display: inline-block;overflow: hidden;width: 100%\">{{rowData[col.field]}}</span>\r\n              </ng-container>\r\n            </ng-container>\r\n            <ng-container *ngIf=\"i==4\">\r\n                <div class=\"btn-group mr-3\" fDropdown>\r\n                  <button class=\"btn btn-link\" fDropdownToggle type=\"button\">\r\n                    {{ 'Add' | locale }}\r\n                  </button>\r\n                  <div class=\"dropdown-menu\" fDropdownMenu>\r\n                    <li class=\"dropdown-item\" (click)=\"addGroup()\"><span> {{ 'AddGroup' | locale }}</span></li>\r\n                    <li class=\"dropdown-item\" (click)=\"addItem()\"><span> {{ 'AddItem' | locale }}</span></li>\r\n                  </div>\r\n                </div>\r\n                <button style=\"padding-left: 16px;\" type=\"button\" class=\"btn btn-link\" (click)=\"deleteNode(rowData['id'])\">{{ 'Delete' | locale }}</button> \r\n            </ng-container>\r\n          </td>\r\n        </tr>\r\n      </ng-template>\r\n    </farris-treetable>\r\n</div>\r\n<div class=\"modal-footer footer\">\r\n  <button type=\"button\" class=\"btn f-btn-mr btn-primary\" (click)=\"onConfirm()\">{{ 'Confirm' | locale }}</button>\r\n  <button type=\"button\" class=\"k-button k-button-icon k-flat\" (click)=\"onCancel()\">{{ 'Reset' | locale }}</button>\r\n  <button type=\"button\" class=\"k-button k-button-icon k-flat\" (click)=\"cancle()\">{{ 'Cancle' | locale }}</button>\r\n</div>\r\n",
                providers: [ExpressionService],
                encapsulation: ViewEncapsulation.None,
                styles: [".lpopup kendo-button-list{height:250px;overflow-y:auto}.footer{position:fixed;bottom:0;left:0;right:0}.farristreetable .farris-treetable .farris-treetable-tbody tr td{overflow:inherit}.filter{padding-left:20px;padding-right:20px}"]
            }] }
];
/** @nocollapse */
FilterConditionComponent.ctorParameters = () => [
    { type: ExpressionService },
    { type: NotifyService },
    { type: String, decorators: [{ type: Inject, args: [LOCALE_ID,] }] }
];
FilterConditionComponent.propDecorators = {
    tt: [{ type: ViewChild, args: ['tt',] }],
    closed: [{ type: Output }],
    result: [{ type: Output }],
    contextEntity: [{ type: Input }],
    expressionText: [{ type: Input }],
    expressionSchema: [{ type: Input }],
    expressionInjectedEntities: [{ type: Input }],
    expressionCDT: [{ type: Input }],
    propertyList: [{ type: Input }],
    filterExpressionString: [{ type: Input }],
    schemaMap: [{ type: Input }],
    newSchemaMap: [{ type: Input }],
    injectedEntity: [{ type: Input }],
    exprWinWidth: [{ type: Input }]
};
if (false) {
    /** @type {?} */
    FilterConditionComponent.prototype.localePipe;
    /** @type {?} */
    FilterConditionComponent.prototype.treeDataTemp;
    /** @type {?} */
    FilterConditionComponent.prototype.tt;
    /** @type {?} */
    FilterConditionComponent.prototype.closed;
    /** @type {?} */
    FilterConditionComponent.prototype.result;
    /** @type {?} */
    FilterConditionComponent.prototype.contextEntity;
    /** @type {?} */
    FilterConditionComponent.prototype.expressionText;
    /** @type {?} */
    FilterConditionComponent.prototype.expressionSchema;
    /** @type {?} */
    FilterConditionComponent.prototype.expressionInjectedEntities;
    /** @type {?} */
    FilterConditionComponent.prototype.expressionCDT;
    /** @type {?} */
    FilterConditionComponent.prototype.propertyList;
    /** @type {?} */
    FilterConditionComponent.prototype.filterExpressionString;
    /** @type {?} */
    FilterConditionComponent.prototype.schemaMap;
    /** @type {?} */
    FilterConditionComponent.prototype.newSchemaMap;
    /** @type {?} */
    FilterConditionComponent.prototype.injectedEntity;
    /** @type {?} */
    FilterConditionComponent.prototype.exprWinWidth;
    /** @type {?} */
    FilterConditionComponent.prototype.popupSettings;
    /** @type {?} */
    FilterConditionComponent.prototype.operatorView;
    /** @type {?} */
    FilterConditionComponent.prototype.operators;
    /** @type {?} */
    FilterConditionComponent.prototype.stringOperators;
    /** @type {?} */
    FilterConditionComponent.prototype.NumberOperators;
    /** @type {?} */
    FilterConditionComponent.prototype.relations;
    /** @type {?} */
    FilterConditionComponent.prototype.expressTypes;
    /** @type {?} */
    FilterConditionComponent.prototype.filterExpression;
    /** @type {?} */
    FilterConditionComponent.prototype.nodeTemp;
    /** @type {?} */
    FilterConditionComponent.prototype.defaultSelectGroup;
    /** @type {?} */
    FilterConditionComponent.prototype.defaultSelectItem;
    /** @type {?} */
    FilterConditionComponent.prototype.defaultOperatorText;
    /** @type {?} */
    FilterConditionComponent.prototype.defaultExpressTypeText;
    /** @type {?} */
    FilterConditionComponent.prototype.isEdited;
    /** @type {?} */
    FilterConditionComponent.prototype.filterExpressionPre;
    /** @type {?} */
    FilterConditionComponent.prototype.displayPopup;
    /** @type {?} */
    FilterConditionComponent.prototype.cols;
    /** @type {?} */
    FilterConditionComponent.prototype.groupIcon;
    /** @type {?} */
    FilterConditionComponent.prototype.treeData;
    /**
     * @type {?}
     * @private
     */
    FilterConditionComponent.prototype.notifies;
    /**
     * @type {?}
     * @private
     */
    FilterConditionComponent.prototype.itemValue;
    /**
     * @type {?}
     * @private
     */
    FilterConditionComponent.prototype.expr;
    /**
     * @type {?}
     * @private
     */
    FilterConditionComponent.prototype.notifyservice;
    /* Skipping unhandled member: ;*/
    /* Skipping unhandled member: ;*/
    /* Skipping unhandled member: ;*/
    /* Skipping unhandled member: ;*/
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZmlsdGVyLWNvbmRpdGlvbi5jb21wb25lbnQuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9AZ3NwLXN2Yy9maWx0ZXJjb25kaXRpb24vIiwic291cmNlcyI6WyJsaWIvZmlsdGVyLWNvbmRpdGlvbi9maWx0ZXItY29uZGl0aW9uLmNvbXBvbmVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O0FBQUEsT0FBTyxFQUFFLFNBQVMsRUFBRSxTQUFTLEVBQUUsS0FBSyxFQUFFLFlBQVksRUFBRSxNQUFNLEVBQVUsTUFBTSxFQUFFLFNBQVMsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUM3RyxPQUFPLEVBQUUsa0JBQWtCLEVBQVksTUFBTSxzQkFBc0IsQ0FBQztBQUNwRSxPQUFPLEVBQUUsZ0JBQWdCLEVBQUUsY0FBYyxFQUFFLE1BQU0sNkJBQTZCLENBQUM7QUFDL0UsT0FBTyxFQUFFLGlCQUFpQixFQUFFLE1BQU0scUJBQXFCLENBQUM7QUFLeEQsT0FBTyxFQUFFLGVBQWUsRUFBNkMsZ0JBQWdCLEVBQUUsZUFBZSxFQUFDLE1BQU0sYUFBYSxDQUFDO0FBQzNILE9BQU8sRUFBRSxnQkFBZ0IsRUFBRSxNQUFNLG9CQUFvQixDQUFDO0FBR3RELE9BQU8sRUFBRSxvQkFBb0IsRUFBRSxNQUFNLG9CQUFvQixDQUFDO0FBQzFELE9BQU8sRUFBQyxpQkFBaUIsRUFBQyxNQUFNLGVBQWUsQ0FBQztBQUNoRCxPQUFPLEVBQUUsYUFBYSxFQUFFLE1BQU0sbUJBQW1CLENBQUM7QUFDbEQsT0FBTyxFQUFFLHlCQUF5QixFQUFFLE1BQU0saUNBQWlDLENBQUM7QUFTNUU7O0dBRUc7QUFDSCxNQUFNLE9BQU8sd0JBQXdCOzs7Ozs7SUFFbkMsWUFBb0IsSUFBdUIsRUFDakMsYUFBMkIsRUFDaEIsUUFBZTtRQUZoQixTQUFJLEdBQUosSUFBSSxDQUFtQjtRQUNqQyxrQkFBYSxHQUFiLGFBQWEsQ0FBYzs7UUFXM0IsV0FBTSxHQUFHLElBQUksWUFBWSxFQUFVLENBQUM7UUFDcEMsV0FB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LEVBQUM7WUFDNUMsRUFBRSxFQUFFLEVBQUUsSUFBSSxDQUFDLFVBQVUsQ0FBQyxTQUFTLENBQUMsaUJBQWlCLENBQUMsRUFBQztZQUNuRCxFQUFFLEVBQUUsRUFBRSxJQUFJLENBQUMsVUFBVSxDQUFDLFNBQVMsQ0FBQyxPQUFPLENBQUMsRUFBQztZQUN6QyxFQUFFLEVBQUUsRUFBRSxJQUFJLENBQUMsVUFBVSxDQUFDLFNBQVMsQ0FBQyxVQUFVLENBQUMsRUFBQztZQUM1QyxFQUFFLEVBQUUsRUFBRSxJQUFJLENBQUMsVUFBVSxDQUFDLFNBQVMsQ0FBQyxVQUFVLENBQUMsRUFBQztZQUM1QyxFQUFFLEVBQUUsRUFBRSxJQUFJLENBQUMsVUFBVSxDQUFDLFNBQVMsQ0FBQyxhQUFhLENBQUMsRUFBQztZQUMvQyxFQUFFLEVBQUUsRUFBRSxJQUFJLENBQUMsVUFBVSxDQUFDLFNBQVMsQ0FBQyxZQUFZLENBQUMsRUFBQztZQUM5QyxFQUFFLEVBQUUsRUFBRSxJQUFJLENBQUMsVUFBVSxDQUFDLFNBQVMsQ0FBQyxVQUFVLENBQUMsRUFBQztZQUM1QyxFQUFFLEVBQUUsRUFBRSxJQUFJLENBQUMsVUFBVSxDQUFDLFNBQVMsQ0FBQyxlQUFlLENBQUMsRUFBQztZQUNqRCxFQUFFLEVBQUUsRUFBRSxJQUFJLENBQUMsVUFBVSxDQUFDLFNBQVMsQ0FBQyxhQUFhLENBQUMsRUFBQztZQUMvQyxFQUFFLEVBQUUsRUFBRSxJQUFJLENBQUMsVUFBVSxDQUFDLFNBQVMsQ0FBQyxRQUFRLENBQUMsRUFBQztZQUMxQyxFQUFFLEVBQUUsRUFBRSxJQUFJLENBQUMsVUFBVSxDQUFDLFNBQVMsQ0FBQyxXQUFXLENBQUMsRUFBQztZQUM3QyxFQUFFLEVBQUUsRUFBRSxJQUFJLENBQUMsVUFBVSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsRUFBQztZQUN0QyxFQUFFLEVBQUUsRUFBRSxJQUFJLENBQUMsVUFBVSxDQUFDLFNBQVMsQ0FBQyxPQUFPLENBQUMsRUFBQztTQUMxQyxDQUFDO1FBQ0YsSUFBSSxDQUFDLGVBQWUsR0FBRztZQUNyQixFQUFFLEVBQUUsRUFBRSxJQUFJLENBQUMsVUFBVSxDQUFDLFNBQVMsQ0FBQyxhQUFhLENBQUMsRUFBQztZQUMvQyxFQUFFLEVBQUUsRUFBRSxJQUFJLENBQUMsVUFBVSxDQUFDLFNBQVMsQ0FBQyxvQkFBb0IsQ0FBQyxFQUFDO1lBQ3RELEVBQUUsRUFBRSxFQUFFLElBQUksQ0FBQyxVQUFVLENBQUMsU0FBUyxDQUFDLFVBQVUsQ0FBQyxFQUFDO1lBQzVDLEVBQUUsRUFBRSxFQUFFLElBQUksQ0FBQyxVQUFVLENBQUMsU0FBUyxDQUFDLGlCQUFpQixDQUFDLEVBQUM7WUFDbkQsRUFBRSxFQUFFLEVBQUUsSUFBSSxDQUFDLFVBQVUsQ0FBQyxTQUFTLENBQUMsT0FBTyxDQUFDLEVBQUM7WUFDekMsRUFBRSxFQUFFLEVBQUUsSUFBSSxDQUFDLFVBQVUsQ0FBQyxTQUFTLENBQUMsVUFBVSxDQUFDLEVBQUM7WUFDNUMsRUFBRSxFQUFFLEVBQUUsSUFBSSxDQUFDLFVBQVUsQ0FBQyxTQUFTLENBQUMsUUFBUSxDQUFDLEVBQUM7WUFDMUMsRUFBRSxFQUFFLEVBQUUsSUFBSSxDQUFDLFVBQVUsQ0FBQyxTQUFTLENBQUMsV0FBVyxDQUFDLEVBQUM7U0FDOUMsQ0FBQztRQUNGLElBQUksQ0FBQyxlQUFlLEdBQUc7WUFDckIsRUFBRSxFQUFFLEVBQUUsSUFBSSxDQUFDLFVBQVUsQ0FBQyxTQUFTLENBQUMsT0FBTyxDQUFDLEVBQUM7WUFDekMsRUFBRSxFQUFFLEVBQUUsSUFBSSxDQUFDLFVBQVUsQ0FBQyxTQUFTLENBQUMsVUFBVSxDQUFDLEVBQUM7WUFDNUMsRUFBRSxFQUFFLEVBQUUsSUFBSSxDQUFDLFVBQVUsQ0FBQyxTQUFTLENBQUMsVUFBVSxDQUFDLEVBQUM7WUFDNUMsRUFBRSxFQUFFLEVBQUUsSUFBSSxDQUFDLFVBQVUsQ0FBQyxTQUFTLENBQUMsYUFBYSxDQUFDLEVBQUM7WUFDL0MsRUFBRSxFQUFFLEVBQUUsSUFBSSxDQUFDLFVBQVUsQ0FBQyxTQUFTLENBQUMsWUFBWSxDQUFDLEVBQUM7WUFDOUMsRUFBRSxFQUFFLEVBQUUsSUFBSSxDQUFDLFVBQVUsQ0FBQyxTQUFTLENBQUMsVUFBVSxDQUFDLEVBQUM7WUFDNUMsRUFBRSxFQUFFLEVBQUUsSUFBSSxDQUFDLFVBQVUsQ0FBQyxTQUFTLENBQUMsZUFBZSxDQUFDLEVBQUM7WUFDakQsRUFBRSxFQUFFLEVBQUUsSUFBSSxDQUFDLFVBQVUsQ0FBQyxTQUFTLENBQUMsYUFBYSxDQUFDLEVBQUM7WUFDL0MsRUFBRSxFQUFFLEVBQUUsSUFBSSxDQUFDLFVBQVUsQ0FBQyxTQUFTLENBQUMsUUFBUSxDQUFDLEVBQUM7WUFDMUMsRUFBRSxFQUFFLEVBQUUsSUFBSSxDQUFDLFVBQVUsQ0FBQyxTQUFTLENBQUMsV0FBVyxDQUFDLEVBQUM7U0FDOUMsQ0FBQztJQUNKLENBQUM7Ozs7OztJQU9ELFlBQVksQ0FBQyxNQUFNO1FBRWpCLHNCQUFzQjtRQUN0QixJQUFJLENBQUMsY0FBYyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUVuQywyQ0FBMkM7UUFDM0MsSUFBSSxDQUFDLG1CQUFtQixHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQztRQUNyRCxJQUFJLENBQUMsc0JBQXNCLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDO1FBQzNELElBQUcsTUFBTSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxJQUFFLElBQUksQ0FBQyxVQUFVLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQyxJQUFJLE1BQU0sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksSUFBRSxJQUFJLENBQUMsVUFBVSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsRUFDcEg7WUFDRSxJQUFJLENBQUMsa0JBQWtCLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDO1NBQ2pEO2FBQ0ksSUFBRyxNQUFNLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLEtBQUcsSUFBSSxDQUFDLFVBQVUsQ0FBQyxTQUFTLENBQUMsZ0JBQWdCLENBQUMsRUFDM0U7O2dCQUNNLFVBQVUsR0FBRyxJQUFJLENBQUMsWUFBWSxDQUFDLE1BQU07Ozs7WUFBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxJQUFJLElBQUksTUFBTSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFDO1lBQy9FLElBQUksQ0FBQyxpQkFBaUIsR0FBRyxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDO1lBRTdDLElBQUcsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDLGdCQUFnQixJQUFFLGdCQUFnQixDQUFDLE1BQU0sRUFBQztnQkFDekQsSUFBSSxDQUFDLFlBQVksR0FBRyxJQUFJLENBQUMsZUFBZSxDQUFDO2FBQzFDO2lCQUNJLElBQUcsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDLGdCQUFnQixJQUFFLGdCQUFnQixDQUFDLEtBQUs7Z0JBQzlELFVBQVUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxnQkFBZ0IsSUFBRSxnQkFBZ0IsQ0FBQyxLQUFLO2dCQUN0RCxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUMsZ0JBQWdCLElBQUUsZ0JBQWdCLENBQUMsS0FBSztnQkFDdEQsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDLGdCQUFnQixJQUFFLGdCQUFnQixDQUFDLE9BQU87Z0JBQ3hELFVBQVUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxnQkFBZ0IsSUFBRSxnQkFBZ0IsQ0FBQyxNQUFNLEVBQUM7Z0JBQ3RELElBQUksQ0FBQyxZQUFZLEdBQUcsSUFBSSxDQUFDLGVBQWUsQ0FBQzthQUMxQzs7Z0JBQ0ksSUFBSSxDQUFDLFlBQVksR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDO1NBQ3pDO1FBRUQsTUFBTSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsZUFBZSxHQUFHLElBQUksQ0FBQztRQUN4QyxNQUFNLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxrQkFBa0IsR0FBRyxJQUFJLENBQUM7UUFDM0MsTUFBTSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsWUFBWSxHQUFHLElBQUksQ0FBQztRQUNyQyxNQUFNLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxhQUFhLEdBQUcsSUFBSSxDQUFDO0lBQ3hDLENBQUM7SUFBQSxDQUFDOzs7Ozs7SUFLRixjQUFjLENBQUMsU0FBcUI7UUFDbEMsU0FBUyxDQUFDLE9BQU87Ozs7UUFBQyxPQUFPLENBQUMsRUFBRTtZQUMxQixPQUFPLENBQUMsSUFBSSxDQUFDLGVBQWUsR0FBRyxLQUFLLENBQUM7WUFDckMsT0FBTyxDQUFDLElBQUksQ0FBQyxrQkFBa0IsR0FBRyxLQUFLLENBQUM7WUFDeEMsT0FBTyxDQUFDLElBQUksQ0FBQyxZQUFZLEdBQUcsS0FBSyxDQUFDO1lBQ2xDLE9BQU8sQ0FBQyxJQUFJLENBQUMsYUFBYSxHQUFHLEtBQUssQ0FBQztZQUNuQyxzQkFBc0I7WUFDdEIsSUFBSSxDQUFDLE9BQU8sQ0FBQyxRQUFRLENBQUMsSUFBSSxPQUFPLENBQUMsUUFBUSxDQUFDLE1BQU0sSUFBSSxDQUFDLEVBQUU7Z0JBQ3RELElBQUksQ0FBQyxjQUFjLENBQUMsT0FBTyxDQUFDLFFBQVEsQ0FBQyxDQUFDO2FBQ3ZDO1FBQ0gsQ0FBQyxFQUFDLENBQUM7SUFDTCxDQUFDO0lBQUEsQ0FBQzs7Ozs7OztJQUlGLFdBQVcsQ0FBQyxNQUFNO1FBRWhCLElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxNQUFNLEVBQUUsSUFBSSxDQUFDLFFBQVEsZ0JBQWtCLENBQUM7SUFDbkUsQ0FBQzs7Ozs7OztJQUlELFVBQVUsQ0FBQyxNQUFNO1FBRWYsSUFBSSxDQUFDLG1CQUFtQixDQUFDLE1BQU0sRUFBRSxJQUFJLENBQUMsUUFBUSxlQUFpQixDQUFDO0lBQ2xFLENBQUM7Ozs7OztJQUtELGNBQWMsQ0FBQyxNQUFNO1FBQ25CLElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxNQUFNLEVBQUUsSUFBSSxDQUFDLFFBQVEsb0JBQXNCLENBQUM7SUFDdkUsQ0FBQztJQUFBLENBQUM7Ozs7OztJQUtGLGlCQUFpQixDQUFDLE1BQU07UUFDdEIsSUFBSSxDQUFDLG1CQUFtQixDQUFDLE1BQU0sRUFBRSxJQUFJLENBQUMsUUFBUSxvQkFBc0IsQ0FBQTtJQUN0RSxDQUFDO0lBQUEsQ0FBQzs7Ozs7OztJQU1GLGVBQWUsQ0FBQyxTQUFxQixFQUFFLFNBQW9CO1FBQ3pELDZCQUE2QjtRQUM3QixTQUFTLENBQUMsT0FBTzs7OztRQUFDLFFBQVEsQ0FBQyxFQUFFO1lBQzNCLElBQUksSUFBSSxDQUFDLEVBQUUsQ0FBQyxVQUFVLENBQUMsUUFBUSxDQUFDLEVBQUU7Z0JBQ2hDLFFBQVEsU0FBUyxFQUFFO29CQUNqQjt3QkFBb0IsUUFBUSxDQUFDLElBQUksQ0FBQyxhQUFhLEdBQUcsS0FBSyxDQUFDO3dCQUFBLE1BQU07b0JBQzlEO3dCQUEwQixRQUFRLENBQUMsSUFBSSxDQUFDLGVBQWUsR0FBRyxLQUFLLENBQUM7d0JBQUMsTUFBTTtvQkFDdkU7d0JBQTBCLFFBQVEsQ0FBQyxJQUFJLENBQUMsa0JBQWtCLEdBQUcsS0FBSyxDQUFDO3dCQUFDLE1BQU07aUJBQzNFO2dCQUNELE9BQU87YUFDUjtZQUNELGlCQUFpQjtpQkFDWixJQUFJLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQyxJQUFJLFFBQVEsQ0FBQyxRQUFRLENBQUMsTUFBTSxJQUFJLENBQUMsRUFBRTtnQkFDN0QsSUFBSSxDQUFDLGVBQWUsQ0FBQyxRQUFRLENBQUMsUUFBUSxFQUFFLFNBQVMsQ0FBQyxDQUFDO2FBQ3BEO1FBQ0gsQ0FBQyxFQUFDLENBQUM7SUFDTCxDQUFDOzs7OztJQUlELGlCQUFpQjs7WUFDWCxJQUFJLEdBQUcsSUFBSTtRQUNmLGNBQWM7UUFDZCw4Q0FBOEM7UUFDOUMsV0FBVztRQUNYLElBQUcsSUFBSSxDQUFDLGFBQWEsSUFBSSxJQUFJLENBQUMsYUFBYSxDQUFDLE1BQU0sSUFBRSxDQUFDLEVBQ3JEO1lBQ0UsSUFBSSxDQUFDLGFBQWEsQ0FBQyxPQUFPOzs7O1lBQUMsT0FBTyxDQUFDLEVBQUU7Z0JBQ25DLElBQUksQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLE9BQU8sQ0FBQyxDQUFDO1lBQ2hDLENBQUMsRUFBQyxDQUFDO1NBQ0o7OztZQUdHLFVBQVUsR0FBRyxJQUFJLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUM7UUFDL0MsSUFBRyxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxLQUFLLElBQUUsRUFBRSxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLEtBQUssSUFBRSxJQUFJLENBQUMsRUFDL0U7WUFDRSxJQUFJLENBQUMsSUFBSSxDQUFDLGlCQUFpQixDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7U0FDcEQ7O1lBQ0ksSUFBSSxDQUFDLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxJQUFJLENBQUMsY0FBYyxDQUFDLENBQUM7UUFDdEQsUUFBUTtRQUNSLElBQUksQ0FBQywwQkFBMEIsQ0FBQyxPQUFPOzs7O1FBQUMsT0FBTyxDQUFDLEVBQUU7WUFDaEQsSUFBSSxDQUFDLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxPQUFPLENBQUMsSUFBSSxFQUFFLE9BQU8sQ0FBQyxVQUFVLEVBQUUsT0FBTyxDQUFDLFlBQVksRUFBRSxPQUFPLENBQUMsWUFBWSxDQUFDLENBQUM7UUFDNUcsQ0FBQyxFQUFDLENBQUM7UUFDSCxVQUFVO1FBQ1YsSUFBSSxDQUFDLGdCQUFnQixDQUFDLE9BQU87Ozs7UUFBQyxPQUFPLENBQUMsRUFBRTtZQUN0QyxJQUFJLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxPQUFPLENBQUMsSUFBSSxFQUFFLE9BQU8sQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUNwRCxDQUFDLEVBQUMsQ0FBQztRQUNILE9BQU87UUFDUCxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDLENBQUM7UUFDckMsaUJBQWlCO1FBQ2pCLElBQUksQ0FBQyxJQUFJLENBQUMsZUFBZSxFQUFFLENBQUMsSUFBSTs7OztRQUFDLElBQUksQ0FBQyxFQUFFOztnQkFDbEMsV0FBVyxHQUFRLElBQUk7WUFDM0IsSUFBSSxDQUFDLG9CQUFvQixDQUFDLElBQUksQ0FBQyxRQUFRLEVBQUUsV0FBVyxDQUFDLENBQUM7UUFDeEQsQ0FBQyxFQUFDLENBQUM7SUFDTCxDQUFDOzs7Ozs7SUFLRCxVQUFVLENBQUMsU0FBb0I7O1lBRXpCLFFBQWlCO1FBQ3JCLEtBQUksSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxTQUFTLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRyxFQUN6QztZQUNFLElBQUksSUFBSSxDQUFDLEVBQUUsQ0FBQyxVQUFVLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUU7Z0JBQ3BDLFFBQVEsR0FBRyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUM7Z0JBQ3hCLE1BQU07YUFDUDtZQUNELHVCQUF1QjtpQkFDbEIsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxRQUFRLENBQUMsSUFBSSxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUMsUUFBUSxDQUFDLE1BQU0sSUFBSSxDQUFDLEVBQUU7Z0JBQ3JFLFFBQVEsR0FBRyxJQUFJLENBQUMsVUFBVSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxRQUFRLENBQUMsQ0FBQztnQkFDbEQsSUFBRyxDQUFDLFFBQVEsQ0FBQztvQkFBRSxNQUFNO2FBQ3RCO1NBQ0Y7UUFDRCxPQUFPLFFBQVEsQ0FBQztJQUNsQixDQUFDOzs7Ozs7O0lBTUQsb0JBQW9CLENBQUMsU0FBcUIsRUFBRSxXQUFtQjtRQUM3RCxnQ0FBZ0M7UUFDaEMsU0FBUyxDQUFDLE9BQU87Ozs7UUFBQyxRQUFRLENBQUMsRUFBRTtZQUMzQixJQUFJLElBQUksQ0FBQyxFQUFFLENBQUMsVUFBVSxDQUFDLFFBQVEsQ0FBQyxFQUFFO2dCQUNoQyxRQUFRLENBQUMsSUFBSSxDQUFDLEtBQUssR0FBRyxXQUFXLENBQUM7Z0JBQ2xDLE9BQU87YUFDUjtZQUNELHVCQUF1QjtpQkFDbEIsSUFBSSxDQUFDLFFBQVEsQ0FBQyxRQUFRLENBQUMsSUFBSSxRQUFRLENBQUMsUUFBUSxDQUFDLE1BQU0sSUFBSSxDQUFDLEVBQUU7Z0JBQzdELElBQUksQ0FBQyxvQkFBb0IsQ0FBQyxRQUFRLENBQUMsUUFBUSxFQUFFLFdBQVcsQ0FBQyxDQUFDO2FBQzNEO1lBQ0QsZ0JBQWdCO1FBQ2xCLENBQUMsRUFBQyxDQUFDO0lBQ0wsQ0FBQzs7Ozs7O0lBS0QsU0FBUyxDQUFDLE1BQU07UUFDZCxTQUFTO1FBQ1QsSUFBSSxNQUFNLENBQUMsS0FBSyxJQUFJLGdCQUFnQixDQUFDLFdBQVcsRUFBRTtZQUNoRCxJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxRQUFRLEVBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLEVBQUMsSUFBSSxFQUFDLElBQUksQ0FBQyxDQUFDO1NBQ3hFO1FBQ0QsU0FBUzthQUNKLElBQUksTUFBTSxDQUFDLEtBQUssSUFBSSxnQkFBZ0IsQ0FBQyxXQUFXLEVBQUU7WUFDckQsSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsUUFBUSxFQUFFLElBQUksQ0FBQyxVQUFVLENBQUMsU0FBUyxDQUFDLGdCQUFnQixDQUFDLEVBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxTQUFTLENBQUMsT0FBTyxDQUFDLEVBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxTQUFTLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQztTQUNoSjs7WUFDSSxJQUFJLENBQUMsbUJBQW1CLENBQUMsTUFBTSxFQUFFLElBQUksQ0FBQyxRQUFRLGVBQWlCLENBQUM7SUFDdkUsQ0FBQzs7Ozs7Ozs7O0lBU0QsbUJBQW1CLENBQUMsS0FBVSxFQUFFLFNBQXFCLEVBQUUsU0FBb0I7UUFDekUsU0FBUyxDQUFDLE9BQU87Ozs7UUFBQyxRQUFRLENBQUMsRUFBRTtZQUMzQixJQUFJLElBQUksQ0FBQyxFQUFFLENBQUMsVUFBVSxDQUFDLFFBQVEsQ0FBQyxFQUFFO2dCQUNoQyxhQUFhO2dCQUNiLFFBQVEsU0FBUyxFQUFFO29CQUNqQjt3QkFDQTs0QkFDRSxRQUFRLENBQUMsSUFBSSxDQUFDLElBQUksR0FBRyxLQUFLLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQzs0QkFDbkMsSUFBSSxDQUFDLGtCQUFrQixHQUFHLEtBQUssQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDO3lCQUN6Qzt3QkFBQSxNQUFNO29CQUNQO3dCQUNBOzRCQUNFLFFBQVEsQ0FBQyxJQUFJLENBQUMsSUFBSSxHQUFFLEtBQUssQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDOzRCQUNwQyxJQUFJLENBQUMsaUJBQWlCLEdBQUcsS0FBSyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUM7NEJBQzFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsVUFBVSxHQUFHLEtBQUssQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDOzRCQUNqRCxRQUFRLENBQUMsSUFBSSxDQUFDLGdCQUFnQixHQUFHLEtBQUssQ0FBQyxJQUFJLENBQUMsZ0JBQWdCLENBQUM7NEJBRTdELElBQUcsUUFBUSxDQUFDLElBQUksQ0FBQyxnQkFBZ0IsSUFBRSxnQkFBZ0IsQ0FBQyxNQUFNLEVBQUM7Z0NBQ3pELElBQUksQ0FBQyxZQUFZLEdBQUcsSUFBSSxDQUFDLGVBQWUsQ0FBQzs2QkFDMUM7aUNBQ0ksSUFBRyxRQUFRLENBQUMsSUFBSSxDQUFDLGdCQUFnQixJQUFFLGdCQUFnQixDQUFDLEtBQUs7Z0NBQzlELFFBQVEsQ0FBQyxJQUFJLENBQUMsZ0JBQWdCLElBQUUsZ0JBQWdCLENBQUMsS0FBSztnQ0FDdEQsUUFBUSxDQUFDLElBQUksQ0FBQyxnQkFBZ0IsSUFBRSxnQkFBZ0IsQ0FBQyxLQUFLO2dDQUN0RCxRQUFRLENBQUMsSUFBSSxDQUFDLGdCQUFnQixJQUFFLGdCQUFnQixDQUFDLE9BQU87Z0NBQ3hELFFBQVEsQ0FBQyxJQUFJLENBQUMsZ0JBQWdCLElBQUUsZ0JBQWdCLENBQUMsTUFBTSxFQUFDO2dDQUN0RCxJQUFJLENBQUMsWUFBWSxHQUFHLElBQUksQ0FBQyxlQUFlLENBQUM7NkJBQzFDOztnQ0FDSSxJQUFJLENBQUMsWUFBWSxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUM7eUJBR3pDO3dCQUFDLE1BQU07b0JBQ1I7d0JBQ0E7NEJBQ0UsUUFBUSxDQUFDLElBQUksQ0FBQyxRQUFRLEdBQUcsS0FBSyxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUM7NEJBQ3ZDLElBQUksQ0FBQyxtQkFBbUIsR0FBRyxLQUFLLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQzt5QkFDMUM7d0JBQUMsTUFBTTtvQkFDUjt3QkFDQTs0QkFDRSxRQUFRLENBQUMsSUFBSSxDQUFDLFdBQVcsR0FBRyxLQUFLLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQzs0QkFDMUMsSUFBSSxDQUFDLHNCQUFzQixHQUFHLEtBQUssQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDO3lCQUM3Qzt3QkFBQyxNQUFNO2lCQUNUO2dCQUNELE9BQU87YUFDUjtZQUNELGVBQWU7aUJBQ1YsSUFBSSxDQUFDLFFBQVEsQ0FBQyxRQUFRLENBQUMsSUFBSSxRQUFRLENBQUMsUUFBUSxDQUFDLE1BQU0sSUFBSSxDQUFDLEVBQUU7Z0JBQzdELElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxLQUFLLEVBQUUsUUFBUSxDQUFDLFFBQVEsRUFBRSxTQUFTLENBQUMsQ0FBQzthQUMvRDtRQUNILENBQUMsRUFBQyxDQUFDO0lBQ0wsQ0FBQzs7Ozs7Ozs7O0lBTUQsT0FBTyxDQUFDLFNBQXFCLEVBQUUsYUFBa0IsRUFBQyxlQUFzQixFQUFDLGtCQUF5QjtRQUVoRyxTQUFTLENBQUMsT0FBTzs7OztRQUFDLFFBQVEsQ0FBQyxFQUFFO1lBQzNCLElBQUksSUFBSSxDQUFDLEVBQUUsQ0FBQyxVQUFVLENBQUMsUUFBUSxDQUFDLEVBQUU7Z0JBQ2hDLFFBQVE7Z0JBQ1IsSUFBRyxDQUFDLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsRUFDeEI7b0JBQ0UsSUFBSSxDQUFDLGFBQWEsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDO3dCQUMxQyxHQUFHLEVBQUUsSUFBSSxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHO3FCQUM1QixDQUFDLENBQUM7b0JBQ0gsT0FBTztpQkFDUjs7O29CQUVHLE9BQU8sR0FDWDtvQkFDRSxJQUFJLEVBQ0o7d0JBQ0UsTUFBTSxFQUFFLGFBQWE7d0JBQ3JCLGtCQUFrQixFQUFDLElBQUk7O3dCQUN2QixVQUFVLEVBQUUsZUFBZTt3QkFDM0IsYUFBYSxFQUFFLGtCQUFrQjt3QkFDakMsT0FBTyxFQUFFLElBQUk7d0JBQ2IsSUFBSSxFQUFFLElBQUksQ0FBQyxNQUFNLEVBQUU7d0JBQ25CLFlBQVksRUFBQyxJQUFJO3FCQUNsQjtvQkFDRCxNQUFNLEVBQUUsUUFBUTtvQkFDaEIsUUFBUSxFQUFFLEVBQUU7b0JBQ1osUUFBUSxFQUFFLElBQUk7aUJBQ2Y7Z0JBQ0QsZ0JBQWdCO2dCQUNoQixRQUFRLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQztnQkFDaEMsT0FBTzthQUNSO1lBQ0QsaUNBQWlDO2lCQUM1QixJQUFJLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQyxJQUFJLFFBQVEsQ0FBQyxRQUFRLENBQUMsTUFBTSxJQUFJLENBQUMsRUFBRTtnQkFDN0QsSUFBSSxDQUFDLE9BQU8sQ0FBQyxRQUFRLENBQUMsUUFBUSxFQUFFLGFBQWEsRUFBQyxlQUFlLEVBQUMsa0JBQWtCLENBQUMsQ0FBQzthQUNuRjtRQUNILENBQUMsRUFBQyxDQUFDO1FBQ0gsSUFBSSxDQUFDLEVBQUUsQ0FBQyxxQkFBcUIsRUFBRSxDQUFDO0lBQ2xDLENBQUM7Ozs7OztJQUtELFVBQVUsQ0FBQyxNQUFNO1FBQ2YsSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsUUFBUSxFQUFDLE1BQU0sQ0FBQyxDQUFDO0lBQ3RDLENBQUM7Ozs7Ozs7SUFLRCxRQUFRLENBQUMsU0FBcUIsRUFBQyxFQUFTO1FBQ3RDLFNBQVMsQ0FBQyxPQUFPOzs7O1FBQUMsUUFBUSxDQUFDLEVBQUU7WUFDM0IsSUFBSSxRQUFRLENBQUMsSUFBSSxDQUFDLEVBQUUsSUFBRSxFQUFFLEVBQUU7Z0JBQ3hCLElBQUcsUUFBUSxDQUFDLElBQUksQ0FBQyxFQUFFLElBQUUsQ0FBQyxFQUN0QjtvQkFDRSxJQUFJLENBQUMsUUFBUSxHQUFHO3dCQUNkOzRCQUNFLElBQUksRUFDSjtnQ0FDRSxJQUFJLEVBQUUsQ0FBQzs7Z0NBQ1Asa0JBQWtCLEVBQUMsSUFBSTs7Z0NBQ3ZCLE1BQU0sRUFBRSxJQUFJLENBQUMsVUFBVSxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUM7O2dDQUN4QyxVQUFVLEVBQUUsSUFBSTs7Z0NBQ2hCLGFBQWEsRUFBRSxJQUFJOztnQ0FDbkIsT0FBTyxFQUFFLElBQUk7O2dDQUNiLGVBQWUsRUFBQyxLQUFLOztnQ0FDckIsaUJBQWlCLEVBQUUsS0FBSzs7Z0NBQ3hCLG9CQUFvQixFQUFFLEtBQUs7O2dDQUMzQixjQUFjLEVBQUUsS0FBSzs7Z0NBQ3JCLFlBQVksRUFBQyxJQUFJLENBQVcsSUFBSTs2QkFDakM7NEJBQ0QsUUFBUSxFQUFFLEVBQUU7OzRCQUNaLFFBQVEsRUFBRSxJQUFJLENBQWdCLE1BQU07eUJBQ3JDO3FCQUNGLENBQUM7b0JBQ0YsT0FBTztpQkFDUjs7O29CQUVHLEtBQUssR0FBRyxTQUFTLENBQUMsT0FBTyxDQUFDLFFBQVEsQ0FBQztnQkFDdkMsU0FBUztnQkFDVCxTQUFTLENBQUMsTUFBTSxDQUFDLEtBQUssRUFBRSxDQUFDLENBQUMsQ0FBQzthQUM1QjtpQkFDSSxJQUFJLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQyxJQUFJLFFBQVEsQ0FBQyxRQUFRLENBQUMsTUFBTSxJQUFJLENBQUMsRUFBRTtnQkFDN0QsUUFBUSxDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQyxRQUFRLEVBQUMsRUFBRSxDQUFDLENBQUM7YUFDekQ7UUFDSCxDQUFDLEVBQUMsQ0FBQztRQUNILElBQUksQ0FBQyxFQUFFLENBQUMscUJBQXFCLEVBQUUsQ0FBQztRQUNoQyxPQUFPLFNBQVMsQ0FBQztJQUNuQixDQUFDOzs7Ozs7SUFLRCxTQUFTO1FBQ1AsSUFBSSxDQUFDLFlBQVksR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDOztZQUM5QixNQUFNLEdBQUcsSUFBSTs7WUFDYixPQUFPLEdBQUcsSUFBSTtRQUNsQixJQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUMsQ0FBQyxRQUFRLEVBQUMsTUFBTSxDQUFDLElBQUksSUFBSSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQyxDQUFDLFFBQVEsRUFBRSxPQUFPLENBQUMsRUFDbEg7WUFDRSxJQUFJLENBQUMsZ0JBQWdCLEdBQUcsSUFBSSxnQkFBZ0IsRUFBRSxDQUFDO1lBQy9DLG9CQUFvQjtZQUNwQixJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxnQkFBZ0IsRUFBRSxJQUFJLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDMUQsSUFBSSxDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUM7WUFDckIsSUFBSSxDQUFDLGFBQWEsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDO2dCQUMxQyxHQUFHLEVBQUUsSUFBSSxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHO2FBQzVCLENBQUMsQ0FBQztZQUNILElBQUksQ0FBQyxLQUFLLEVBQUUsQ0FBQztZQUNiLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDO1NBQzNCO0lBRUgsQ0FBQzs7Ozs7OztJQUVELFNBQVMsQ0FBQyxTQUFvQixFQUFDLE1BQWM7UUFFM0MsS0FBSSxJQUFJLENBQUMsR0FBQyxDQUFDLEVBQUMsQ0FBQyxHQUFDLFNBQVMsQ0FBQyxNQUFNLEVBQUMsQ0FBQyxFQUFFLEVBQ2xDO1lBQ0UsSUFBRyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksSUFBSSxJQUFJLENBQUMsVUFBVSxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsSUFBSSxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksSUFBSSxJQUFJLENBQUMsVUFBVSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsRUFDMUg7Z0JBQ0UsSUFBRyxDQUFDLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxJQUFJLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxRQUFRLENBQUMsTUFBTSxJQUFFLENBQUMsRUFDOUQ7b0JBQ0UsSUFBSSxDQUFDLGFBQWEsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDO3dCQUMxQyxHQUFHLEVBQUUsSUFBSSxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHO3FCQUM1QixDQUFDLENBQUM7b0JBQ0gsTUFBTSxHQUFHLEtBQUssQ0FBQztvQkFDZixNQUFNO2lCQUNQO3FCQUNJLElBQUcsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxRQUFRLEVBQUMsTUFBTSxDQUFDLEVBQ3JEO29CQUNFLE1BQU0sR0FBRyxLQUFLLENBQUM7b0JBQ2YsTUFBTTtpQkFDUDthQUNGO2lCQUVEO2dCQUNFLElBQUcsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLElBQUksSUFBSSxDQUFDLFVBQVUsQ0FBQyxTQUFTLENBQUMsZ0JBQWdCLENBQUM7dUJBQ2xHLENBQUMsQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQzt1QkFDakUsU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxLQUFLLElBQUUsSUFBSSxJQUFJLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsS0FBSyxJQUFFLFNBQVMsRUFDdkU7b0JBQ0MsSUFBSSxDQUFDLGFBQWEsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDO3dCQUMxQyxHQUFHLEVBQUUsSUFBSSxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHO3FCQUM1QixDQUFDLENBQUM7b0JBQ0YsTUFBTSxHQUFHLEtBQUssQ0FBQztvQkFDZixNQUFNO2lCQUNQO2FBQ0Q7U0FDRjtRQUNELE9BQU8sTUFBTSxDQUFDO0lBQ2hCLENBQUM7Ozs7OztJQU1ELFFBQVE7UUFDTixJQUFJLENBQUMsUUFBUSxHQUFHLEtBQUssQ0FBQztRQUN0QixJQUFHLElBQUksQ0FBQyxzQkFBc0IsSUFBSSxJQUFJLElBQUksSUFBSSxDQUFDLHNCQUFzQixJQUFHLEVBQUUsRUFDMUU7WUFDRSxJQUFJLENBQUMsUUFBUSxHQUFHO2dCQUNkO29CQUNFLElBQUksRUFDSjt3QkFDRSxJQUFJLEVBQUUsQ0FBQzs7d0JBQ1AsTUFBTSxFQUFFLElBQUk7O3dCQUNaLGtCQUFrQixFQUFDLElBQUk7O3dCQUN2QixVQUFVLEVBQUUsSUFBSTs7d0JBQ2hCLGFBQWEsRUFBRSxJQUFJOzt3QkFDbkIsT0FBTyxFQUFFLElBQUk7O3dCQUNiLGVBQWUsRUFBQyxLQUFLOzt3QkFDckIsaUJBQWlCLEVBQUUsS0FBSzs7d0JBQ3hCLG9CQUFvQixFQUFFLEtBQUs7O3dCQUMzQixjQUFjLEVBQUUsS0FBSzs7d0JBQ3JCLFlBQVksRUFBQyxJQUFJLENBQVcsSUFBSTtxQkFDakM7b0JBQ0QsUUFBUSxFQUFFLEVBQUU7O29CQUNaLFFBQVEsRUFBRSxJQUFJLENBQWdCLE1BQU07aUJBQ3JDO2FBQ0YsQ0FBQztTQUNIO2FBRUQ7WUFDRSxJQUFJLENBQUMsbUJBQW1CLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsc0JBQXNCLENBQUMsQ0FBQztZQUNuRSxJQUFJLENBQUMsUUFBUSxHQUFHLEVBQUUsQ0FBQztZQUNuQixJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxDQUFDLENBQUM7WUFDN0QsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsRUFBRSxHQUFHLENBQUMsQ0FBQztTQUM5QjtJQUNILENBQUM7Ozs7O0lBRUEsTUFBTTtRQUVKLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDO0lBQzVCLENBQUM7Ozs7O0lBSUYsS0FBSztRQUNILElBQUksSUFBSSxDQUFDLFFBQVEsSUFBSSxJQUFJLEVBQUU7WUFDekIsYUFBYTtZQUNiLElBQUcsSUFBSSxDQUFDLGdCQUFnQixDQUFDLFlBQVksQ0FBQyxNQUFNLElBQUUsQ0FBQztnQkFBRSxJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztZQUN4RSw0QkFBNEI7O2dCQUN2QixJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDLENBQUM7U0FDOUQ7UUFDRCx1QkFBdUI7O1lBQ2xCLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxzQkFBc0IsQ0FBQyxDQUFDO0lBQ3JELENBQUM7Ozs7Ozs7SUFNRCxPQUFPLENBQUMsZ0JBQWtDLEVBQUUsUUFBa0I7UUFDNUQsV0FBVztRQUNYLGdCQUFnQixDQUFDLGdCQUFnQixHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUN2RSxTQUFTO1FBQ1QsSUFBSSxRQUFRLENBQUMsUUFBUSxDQUFDLE1BQU0sSUFBSSxDQUFDLEVBQUU7WUFDakMsZUFBZTtZQUNmLFFBQVEsQ0FBQyxRQUFRLENBQUMsT0FBTzs7OztZQUFDLFlBQVksQ0FBQyxFQUFFO2dCQUN2QyxzQkFBc0I7Z0JBQ3RCLElBQUksSUFBSSxDQUFDLFNBQVMsQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLGdCQUFnQixDQUFDLEdBQUc7b0JBQ2hFLElBQUksQ0FBQyxTQUFTLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxnQkFBZ0IsQ0FBQyxFQUFFLEVBQUU7O3dCQUMzRCxvQkFBb0IsR0FBRyxJQUFJLGdCQUFnQixFQUFFO29CQUNqRCxnQkFBZ0IsQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsb0JBQW9CLEVBQUUsWUFBWSxDQUFDLENBQUMsQ0FBQztpQkFDdEY7Z0JBQ0QsV0FBVztxQkFDTjs7d0JBQ0MsVUFBVSxHQUFHLElBQUksY0FBYyxFQUFFOzs7d0JBRWpDLFVBQVUsR0FBRyxJQUFJLENBQUMsWUFBWSxDQUFDLE1BQU07Ozs7b0JBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsSUFBSSxJQUFJLFlBQVksQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFDO29CQUNoRixVQUFVLENBQUMsWUFBWSxHQUFHLFVBQVUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUM7b0JBQzlDLFVBQVUsQ0FBQyxnQkFBZ0IsR0FBRyxZQUFZLENBQUMsSUFBSSxDQUFDLGdCQUFnQixDQUFDO29CQUNqRSxVQUFVLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQztvQkFDakUsVUFBVSxDQUFDLFdBQVcsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUM7b0JBQ3ZFLFVBQVUsQ0FBQyxLQUFLLEdBQUcsWUFBWSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUM7b0JBQzNDLFVBQVUsQ0FBQyxVQUFVLEdBQUcsWUFBWSxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUM7b0JBQ3JELHlCQUF5QjtvQkFDekIsSUFBSSxVQUFVLENBQUMsV0FBVyxJQUFJLGVBQWUsQ0FBQyxLQUFLO3dCQUNqRCxDQUFDLFVBQVUsQ0FBQyxRQUFRLElBQUksZUFBZSxDQUFDLFdBQVc7K0JBQzlDLFVBQVUsQ0FBQyxRQUFRLElBQUksZUFBZSxDQUFDLGtCQUFrQjsrQkFDekQsVUFBVSxDQUFDLFFBQVEsSUFBSSxlQUFlLENBQUMsUUFBUTsrQkFDL0MsVUFBVSxDQUFDLFFBQVEsSUFBSSxlQUFlLENBQUMsZUFBZSxDQUMxRCxFQUFFO3dCQUNILFVBQVUsQ0FBQyxLQUFLLEdBQUcsTUFBTSxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7cUJBQ3BEO29CQUNELElBQUksVUFBVSxDQUFDLFdBQVcsSUFBSSxlQUFlLENBQUMsS0FBSzt3QkFDakQsQ0FBQyxVQUFVLENBQUMsUUFBUSxJQUFJLGVBQWUsQ0FBQyxLQUFLOytCQUN4QyxVQUFVLENBQUMsUUFBUSxJQUFJLGVBQWUsQ0FBQyxRQUFRLENBQUMsRUFBRTt3QkFDdkQsSUFBRyxVQUFVLENBQUMsZ0JBQWdCLElBQUksZ0JBQWdCLENBQUMsT0FBTzsrQkFDckQsVUFBVSxDQUFDLGdCQUFnQixJQUFJLGdCQUFnQixDQUFDLE1BQU07K0JBQ3RELFVBQVUsQ0FBQyxnQkFBZ0IsSUFBSSxnQkFBZ0IsQ0FBQyxLQUFLOytCQUNyRCxVQUFVLENBQUMsZ0JBQWdCLElBQUksZ0JBQWdCLENBQUMsS0FBSzsrQkFDckQsVUFBVSxDQUFDLGdCQUFnQixJQUFJLGdCQUFnQixDQUFDLEtBQUssRUFDMUQ7NEJBQ0UsVUFBVSxDQUFDLEtBQUssR0FBRyxNQUFNLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQzt5QkFDcEQ7cUJBQ0Y7b0JBQ0QsYUFBYTtvQkFDYixnQkFBZ0IsQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDO2lCQUNoRDtZQUNILENBQUMsRUFBQyxDQUFDO1NBQ0o7UUFDRCxPQUFPLGdCQUFnQixDQUFDO0lBQzFCLENBQUM7Ozs7OztJQUtELFNBQVMsQ0FBQyxhQUErQjs7WUFDbkMsUUFBUSxHQUNaO1lBQ0UsSUFBSSxFQUNKO2dCQUNFLElBQUksRUFBRSxJQUFJLENBQUMsTUFBTSxFQUFFOztnQkFDbkIsTUFBTSxFQUFFLElBQUksQ0FBQyx3QkFBd0IsQ0FBQyxhQUFhLENBQUMsZ0JBQWdCLENBQUM7O2dCQUNyRSxrQkFBa0IsRUFBQyxJQUFJOztnQkFDdkIsVUFBVSxFQUFFLElBQUk7O2dCQUNoQixhQUFhLEVBQUUsSUFBSTs7Z0JBQ25CLE9BQU8sRUFBRSxJQUFJOztnQkFDYixlQUFlLEVBQUMsS0FBSzs7Z0JBQ3JCLGlCQUFpQixFQUFFLEtBQUs7O2dCQUN4QixvQkFBb0IsRUFBRSxLQUFLOztnQkFDM0IsY0FBYyxFQUFFLEtBQUs7O2dCQUNyQixZQUFZLEVBQUMsSUFBSSxDQUFXLElBQUk7YUFDakM7WUFDRCxRQUFRLEVBQUUsRUFBRTs7WUFDWixRQUFRLEVBQUUsSUFBSSxDQUFnQixNQUFNO1NBQ3JDO1FBQ0QsU0FBUztRQUNULGFBQWEsQ0FBQyxZQUFZLENBQUMsT0FBTzs7OztRQUFDLFdBQVcsQ0FBQyxFQUFFOztnQkFDM0MsaUJBQWlCLEdBQUcsbUJBQUEsV0FBVyxFQUFvQjtZQUN2RCwyQkFBMkI7WUFDM0IsSUFBSSxDQUFDLGlCQUFpQixDQUFDLGdCQUFnQixJQUFJLGdCQUFnQixDQUFDLEdBQUcsSUFBSSxpQkFBaUIsQ0FBQyxnQkFBZ0IsSUFBSSxnQkFBZ0IsQ0FBQyxFQUFFLENBQUMsRUFDN0g7O29CQUNNLGFBQWEsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLGlCQUFpQixDQUFDO2dCQUNyRCxhQUFhLENBQUMsSUFBSSxDQUFDLE1BQU0sR0FBRyxRQUFRLENBQUMsQ0FBQSxPQUFPO2dCQUM1QyxRQUFRLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsQ0FBQzthQUN2QztpQkFDSSx5QkFBeUI7YUFDOUI7O29CQUNNLGNBQWMsR0FBRyxtQkFBQSxXQUFXLEVBQWtCOztvQkFDOUMsVUFBVSxHQUFHLElBQUksQ0FBQyxZQUFZLENBQUMsTUFBTTs7OztnQkFBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxLQUFLLElBQUksY0FBYyxDQUFDLFlBQVksRUFBQzs7b0JBQ2xGLGFBQWEsR0FDakI7b0JBQ0UsSUFBSSxFQUNKO3dCQUNFLElBQUksRUFBRSxJQUFJLENBQUMsTUFBTSxFQUFFOzt3QkFDbkIsTUFBTSxFQUFFLFVBQVUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJOzt3QkFDMUIsa0JBQWtCLEVBQUMsY0FBYyxDQUFDLGdCQUFnQjs7d0JBQ2xELFVBQVUsRUFBRSxJQUFJLENBQUMsb0JBQW9CLENBQUMsY0FBYyxDQUFDLFFBQVEsQ0FBQzs7d0JBQzlELGFBQWEsRUFBRSxJQUFJLENBQUMsdUJBQXVCLENBQUMsY0FBYyxDQUFDLFdBQVcsQ0FBQzs7d0JBQ3ZFLE9BQU8sRUFBRSxjQUFjLENBQUMsS0FBSzs7d0JBQzdCLFlBQVksRUFBQyxjQUFjLENBQUMsVUFBVSxDQUFJLElBQUk7cUJBQy9DO29CQUNELE1BQU0sRUFBRSxRQUFROztvQkFDaEIsUUFBUSxFQUFFLEVBQUU7O29CQUNaLFFBQVEsRUFBRSxJQUFJLENBQWdCLE1BQU07aUJBQ3JDO2dCQUNELFFBQVEsQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxDQUFDO2FBQ3ZDO1FBQ0gsQ0FBQyxFQUFDLENBQUM7UUFDSCxPQUFPLFFBQVEsQ0FBQztJQUNsQixDQUFDOzs7Ozs7SUFJRCxPQUFPO1FBRUwsSUFBSSxDQUFDLGlCQUFpQixHQUFHLElBQUksQ0FBQyxVQUFVLENBQUMsU0FBUyxDQUFDLFlBQVksQ0FBQyxDQUFDO1FBQ2pFLElBQUksQ0FBQyxjQUFjLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBQ25DLElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLFFBQVEsRUFBRSxJQUFJLENBQUMsVUFBVSxDQUFDLFNBQVMsQ0FBQyxnQkFBZ0IsQ0FBQyxFQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsU0FBUyxDQUFDLE9BQU8sQ0FBQyxFQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsU0FBUyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUM7SUFDakosQ0FBQzs7Ozs7O0lBSUQsUUFBUTtRQUVOLElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLFFBQVEsRUFBQyxJQUFJLENBQUMsVUFBVSxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsRUFBQyxJQUFJLEVBQUMsSUFBSSxDQUFDLENBQUM7SUFDekUsQ0FBQzs7Ozs7O0lBS0QsU0FBUyxDQUFDLElBQVM7UUFDakIsUUFBUSxJQUFJLEVBQUU7WUFDWixLQUFLLElBQUksQ0FBQyxVQUFVLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsT0FBTyxnQkFBZ0IsQ0FBQyxHQUFHLENBQUM7WUFDbkUsS0FBSyxJQUFJLENBQUMsVUFBVSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLE9BQU8sZ0JBQWdCLENBQUMsRUFBRSxDQUFDO1lBQ2pFLEtBQUssSUFBSSxDQUFDLFVBQVUsQ0FBQyxTQUFTLENBQUMsYUFBYSxDQUFDLENBQUMsQ0FBQyxPQUFPLGVBQWUsQ0FBQyxXQUFXLENBQUM7WUFDbEYsS0FBSyxJQUFJLENBQUMsVUFBVSxDQUFDLFNBQVMsQ0FBQyxvQkFBb0IsQ0FBQyxDQUFDLENBQUMsT0FBTyxlQUFlLENBQUMsa0JBQWtCLENBQUM7WUFDaEcsS0FBSyxJQUFJLENBQUMsVUFBVSxDQUFDLFNBQVMsQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLE9BQU8sZUFBZSxDQUFDLFFBQVEsQ0FBQztZQUM1RSxLQUFLLElBQUksQ0FBQyxVQUFVLENBQUMsU0FBUyxDQUFDLGlCQUFpQixDQUFDLENBQUMsQ0FBQyxPQUFPLGVBQWUsQ0FBQyxlQUFlLENBQUM7WUFDMUYsS0FBSyxJQUFJLENBQUMsVUFBVSxDQUFDLFNBQVMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLE9BQU8sZUFBZSxDQUFDLEtBQUssQ0FBQztZQUN0RSxLQUFLLElBQUksQ0FBQyxVQUFVLENBQUMsU0FBUyxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsT0FBTyxlQUFlLENBQUMsUUFBUSxDQUFDO1lBQzVFLEtBQUssSUFBSSxDQUFDLFVBQVUsQ0FBQyxTQUFTLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxPQUFPLGVBQWUsQ0FBQyxRQUFRLENBQUM7WUFDNUUsS0FBSyxJQUFJLENBQUMsVUFBVSxDQUFDLFNBQVMsQ0FBQyxhQUFhLENBQUMsQ0FBQyxDQUFDLE9BQU8sZUFBZSxDQUFDLFdBQVcsQ0FBQztZQUNsRixLQUFLLElBQUksQ0FBQyxVQUFVLENBQUMsU0FBUyxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUMsT0FBTyxlQUFlLENBQUMsVUFBVSxDQUFDO1lBQ2hGLEtBQUssSUFBSSxDQUFDLFVBQVUsQ0FBQyxTQUFTLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxPQUFPLGVBQWUsQ0FBQyxRQUFRLENBQUM7WUFDNUUsS0FBSyxJQUFJLENBQUMsVUFBVSxDQUFDLFNBQVMsQ0FBQyxlQUFlLENBQUMsQ0FBQyxDQUFDLE9BQU8sZUFBZSxDQUFDLGFBQWEsQ0FBQztZQUN0RixLQUFLLElBQUksQ0FBQyxVQUFVLENBQUMsU0FBUyxDQUFDLGFBQWEsQ0FBQyxDQUFDLENBQUMsT0FBTyxlQUFlLENBQUMsV0FBVyxDQUFDO1lBQ2xGLEtBQUssSUFBSSxDQUFDLFVBQVUsQ0FBQyxTQUFTLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxPQUFPLGVBQWUsQ0FBQyxNQUFNLENBQUM7WUFDeEUsS0FBSyxJQUFJLENBQUMsVUFBVSxDQUFDLFNBQVMsQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDLE9BQU8sZUFBZSxDQUFDLFNBQVMsQ0FBQztZQUM5RSxLQUFLLElBQUksQ0FBQyxVQUFVLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsT0FBTyxlQUFlLENBQUMsRUFBRSxDQUFDO1lB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Q0FFTCxLQUFLOzRCQUVMLEtBQUs7MkJBRUwsS0FBSztxQ0FFTCxLQUFLO3dCQUVMLEtBQUs7MkJBR0osS0FBSzs2QkFHTixLQUFLOzJCQUVMLEtBQUs7Ozs7SUF0Q04sOENBQXNDOztJQVN0QyxnREFBd0I7O0lBRXhCLHNDQUF3Qzs7SUFFeEMsMENBQThDOztJQUM5QywwQ0FBOEM7O0lBRTlDLGlEQUF1Qzs7SUFFdkMsa0RBQXFDOztJQUVyQyxvREFBd0U7O0lBRXhFLDhEQUEyRDs7SUFFM0QsaURBQWlEOztJQUVqRCxnREFBc0g7O0lBRXRILDBEQUErQzs7SUFFL0MsNkNBQTBEOztJQUd6RCxnREFBb0Q7O0lBR3JELGtEQUFxRDs7SUFFckQsZ0RBQWtDOztJQUNsQyxpREFHQzs7SUFFRCxnREFBeUI7O0lBRXpCLDZDQUFxQjs7SUFFckIsbURBQTRCOztJQUU1QixtREFBNEI7O0lBRTVCLDZDQUFzQjs7SUFFdEIsZ0RBQTBCOztJQUMxQixvREFBMEM7O0lBRTFDLDRDQUE0Qjs7SUFFNUIsc0RBQTBCOztJQUMxQixxREFBeUI7O0lBRXpCLHVEQUFrQzs7SUFFbEMsMERBQXFDOztJQUVyQyw0Q0FBaUM7O0lBRWpDLHVEQUE2Qzs7SUFDN0MsZ0RBQW9DOztJQUNwQyx3Q0FBVzs7SUFDWCw2Q0FBMEQ7O0lBQzFELDRDQUEwQjs7Ozs7SUFFMUIsNENBQXNCOzs7OztJQUN0Qiw2Q0FBeUI7Ozs7O0lBMUViLHdDQUErQjs7Ozs7SUFDekMsaURBQW1DIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29tcG9uZW50LCBWaWV3Q2hpbGQsIElucHV0LCBFdmVudEVtaXR0ZXIsIE91dHB1dCwgT25Jbml0LCBJbmplY3QsIExPQ0FMRV9JRCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xyXG5pbXBvcnQgeyBUcmVlVGFibGVDb21wb25lbnQsIFRyZWVOb2RlIH0gZnJvbSAnQGZhcnJpcy91aS10cmVldGFibGUnO1xyXG5pbXBvcnQgeyBGaWx0ZXJFeHByZXNzaW9uLCBFeHByZXNzaW9uSXRlbSB9IGZyb20gJy4uL2ZpbHRlci1leHByZXNzaW9uLWVudGl0eSc7XHJcbmltcG9ydCB7IEV4cHJlc3Npb25TZXJ2aWNlIH0gZnJvbSAnQGdzcC1zdmMvZXhwcmVzc2lvbic7XHJcbmltcG9ydCB7IFZhckVudGl0eSB9IGZyb20gJ0Bnc3Atc3ZjL2V4cHJlc3Npb24nO1xyXG5pbXBvcnQgeyBTY2hlbWEgfSBmcm9tICdAZ3NwLXN2Yy9leHByZXNzaW9uJztcclxuaW1wb3J0IHsgR3NwQ29tbW9uRGF0YVR5cGUgfSBmcm9tICdAZ3NwLWJlZi9nc3AtY20tbWV0YWRhdGEnO1xyXG5pbXBvcnQgeyBJbmplY3RlZEVudGl0eSB9IGZyb20gJ0Bnc3Atc3ZjL2V4cHJlc3Npb24nO1xyXG5pbXBvcnQgeyBFeHByZXNzVHlwZUVudW0sIENvbXBhcmVUeXBlcywgUmVsYXRpb25UeXBlcywgRXhwcmVzc1R5cGVzLCBSZWxhdGlvblR5cGVFbnVtLCBDb21wYXJlVHlwZUVudW19IGZyb20gJy4uL3R5cGVpbmZvJztcclxuaW1wb3J0IHsgUHJvcGVydHlEYXRhVHlwZSB9IGZyb20gJy4uL3Byb3BlcnR5LWVudGl0eSc7XHJcbmltcG9ydCB7RmllbGRUeXBlfSBmcm9tICcuLi9maWVsZC10eXBlJztcclxuaW1wb3J0IHsgRmlsdGVyRW50aXR5U2NoZW1hIH0gZnJvbSAnLi4vc2NoZW1hJztcclxuaW1wb3J0IHsgRmlsdGVySW5qZWN0ZWRFbnRpdHkgfSBmcm9tICcuLi9pbmplY3RlZC1lbnRpdHknO1xyXG5pbXBvcnQge1ZpZXdFbmNhcHN1bGF0aW9ufSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuaW1wb3J0IHsgTm90aWZ5U2VydmljZSB9IGZyb20gJ0BmYXJyaXMvdWktbm90aWZ5JztcclxuaW1wb3J0IHsgRmlsdGVyQ29uZGl0aW9uTG9jYWxlUGlwZSB9IGZyb20gJy4uL2ZpbHRlci1jb25kaXRpb24tbG9jYWxlLnBpcGUnO1xyXG5pbXBvcnQgeyBOZXdTY2hlbWEgfSBmcm9tICcuLi9OZXdTY2hlbWEnO1xyXG5AQ29tcG9uZW50KHtcclxuICBzZWxlY3RvcjogJ2FwcC1maWx0ZXItY29uZGl0aW9uJyxcclxuICB0ZW1wbGF0ZVVybDogJy4vZmlsdGVyLWNvbmRpdGlvbi5jb21wb25lbnQuaHRtbCcsXHJcbiAgc3R5bGVVcmxzOiBbJy4vZmlsdGVyLWNvbmRpdGlvbi5jb21wb25lbnQuY3NzJ10sXHJcbiAgcHJvdmlkZXJzOiBbRXhwcmVzc2lvblNlcnZpY2VdLFxyXG4gIGVuY2Fwc3VsYXRpb246Vmlld0VuY2Fwc3VsYXRpb24uTm9uZVxyXG59KVxyXG4vKipcclxuICog6L+H5ruk5p2h5Lu25by55Ye65qGG6YC76L6R57G7XHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgRmlsdGVyQ29uZGl0aW9uQ29tcG9uZW50IGltcGxlbWVudHMgT25Jbml0IHtcclxuICBsb2NhbGVQaXBlOiBGaWx0ZXJDb25kaXRpb25Mb2NhbGVQaXBlO1xyXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgZXhwcjogRXhwcmVzc2lvblNlcnZpY2UsXHJcbiAgICBwcml2YXRlIG5vdGlmeXNlcnZpY2U6Tm90aWZ5U2VydmljZSxcclxuICAgIEBJbmplY3QoTE9DQUxFX0lEKSBsb2NhbGVJZDpzdHJpbmcsXHJcbiAgICApIHtcclxuICAgICAgbG9jYWxlSWQgPSAgbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2xhbmd1YWdlQ29kZScpO1xyXG4gICAgICB0aGlzLmxvY2FsZVBpcGUgPSBuZXcgRmlsdGVyQ29uZGl0aW9uTG9jYWxlUGlwZShsb2NhbGVJZCk7XHJcbiAgICAgfVxyXG4gIFxyXG4gIHRyZWVEYXRhVGVtcDogVHJlZU5vZGVbXVxyXG4gIC8v6I635b6X5qCR5YiX6KGo57uE5Lu25p+EXHJcbiAgQFZpZXdDaGlsZCgndHQnKSB0dDogVHJlZVRhYmxlQ29tcG9uZW50O1xyXG4gIC8v5YWz6Zet56qX5Y+j5LqL5Lu2XHJcbiAgQE91dHB1dCgpIGNsb3NlZCA9IG5ldyBFdmVudEVtaXR0ZXI8c3RyaW5nPigpO1xyXG4gIEBPdXRwdXQoKSByZXN1bHQgPSBuZXcgRXZlbnRFbWl0dGVyPHN0cmluZz4oKTtcclxuICAvL+mihOe9ruiuoeeul+ihqOi+vuW8j+S4iuS4i+aWh+WunuS9k1xyXG4gIEBJbnB1dCgpIGNvbnRleHRFbnRpdHk6VmFyRW50aXR5W10gPVtdO1xyXG4gIC8v6aKE572u6K6h566X6buY6K6k6KGo6L6+5byP5pi+56S6XHJcbiAgQElucHV0KCkgZXhwcmVzc2lvblRleHQ6IHN0cmluZyA9IFwiXCI7XHJcbiAgLy/pooTnva7orqHnrpfooajovr7lvI/kuK3nmoRzY2hlbWFcclxuICBASW5wdXQoKSBleHByZXNzaW9uU2NoZW1hOiBBcnJheTx7IG5hbWU6IHN0cmluZywgc2NoZW1hOiBTY2hlbWEgfT4gPSBbXTtcclxuICAvL+mihOe9ruiuoeeul+ihqOi+vuW8j+S4reeahOazqOWFpeWunuS9k1xyXG4gIEBJbnB1dCgpIGV4cHJlc3Npb25JbmplY3RlZEVudGl0aWVzOiBJbmplY3RlZEVudGl0eVtdID0gW107XHJcbiAgLy/pooTnva7orqHnrpfooajovr7lvI9jZHTpm4ZcclxuICBASW5wdXQoKSBleHByZXNzaW9uQ0RUOiBHc3BDb21tb25EYXRhVHlwZVtdID0gW107XHJcbiAgLy/pooTnva7lsZ7mgKfliJfooahcclxuICBASW5wdXQoKSBwcm9wZXJ0eUxpc3Q6IEFycmF5PHsgdGV4dDogc3RyaW5nLHByb3BlcnR5RGF0YVR5cGU6UHJvcGVydHlEYXRhVHlwZSwgdmFsdWU6IHN0cmluZyxwYXJlbnRJdGVtOnN0cmluZ30+ID0gW107XHJcbiAgLy/pooTnva7ov4fmu6Tooajovr7lvI/kuLJcclxuICBASW5wdXQoKSBmaWx0ZXJFeHByZXNzaW9uU3RyaW5nOiBzdHJpbmcgPSBudWxsO1xyXG4gIC8v6aKE572u6L+H5ruk6KGo6L6+5byPc2NoZW1hXHJcbiAgQElucHV0KCkgc2NoZW1hTWFwID0gbmV3IE1hcDxzdHJpbmcsRmlsdGVyRW50aXR5U2NoZW1hPigpO1xyXG4gIC8vPT09PT09PT09PT09PT3mlrDliqDlhaXnmoRuZXdTY2hlbWFNYXA9PT09PT09PT09PT09PT09PT09PT09PVxyXG4gIC8v6aKE572u6L+H5ruk6KGo6L6+5byPbmV3U2NoZW1hXHJcbiAgIEBJbnB1dCgpIG5ld1NjaGVtYU1hcCA9IG5ldyBNYXA8c3RyaW5nLE5ld1NjaGVtYT4oKTtcclxuICAvLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAgLy/pooTnva7ov4fmu6Tooajovr7lvI/ms6jlhaXlrp7kvZNcclxuICBASW5wdXQoKSBpbmplY3RlZEVudGl0eSA9IG5ldyBGaWx0ZXJJbmplY3RlZEVudGl0eSgpO1xyXG4gIC8v6aKE572u6K6h566X6KGo6L6+5byP5by55Ye65qGG5a695bqmXHJcbiAgQElucHV0KCkgZXhwcldpbldpZHRoOm51bWJlciA9ODUwO1xyXG4gIHBvcHVwU2V0dGluZ3M9XHJcbiAge1xyXG4gICAgcG9wdXBDbGFzczpcImxwb3B1cFwiXHJcbiAgfVxyXG5cclxuICBwdWJsaWMgb3BlcmF0b3JWaWV3ID0gW107XHJcbiAgLy/mk43kvZzmr5TovoPnrKbpm4ZcclxuICBwdWJsaWMgb3BlcmF0b3JzPSBbXTtcclxuICBcclxuICBwdWJsaWMgc3RyaW5nT3BlcmF0b3JzID0gW107XHJcblxyXG4gIHB1YmxpYyBOdW1iZXJPcGVyYXRvcnMgPSBbXTtcclxuICAvL+WFs+ezu+mbhlxyXG4gIHB1YmxpYyByZWxhdGlvbnMgPSBbXTtcclxuICAvL+ihqOi+vuW8j+exu+Wei+mbhlxyXG4gIHB1YmxpYyBleHByZXNzVHlwZXMgPSAgW107XHJcbiAgcHVibGljIGZpbHRlckV4cHJlc3Npb246IEZpbHRlckV4cHJlc3Npb247XHJcbiAgLy/moJHlvaLnu5PmnoToioLngrnlrp7kvZPpm4ZcclxuICBwdWJsaWMgbm9kZVRlbXA6IFRyZWVOb2RlW107XHJcbiAgLy/mk43kvZzpgLvovpHpm4bpu5jorqTmmL7npLrlgLxcclxuICBkZWZhdWx0U2VsZWN0R3JvdXA6c3RyaW5nO1xyXG4gIGRlZmF1bHRTZWxlY3RJdGVtOnN0cmluZztcclxuICAvL+aTjeS9nOavlOi+g+espum7mOiupOaYvuekuuWAvFxyXG4gIHB1YmxpYyBkZWZhdWx0T3BlcmF0b3JUZXh0OnN0cmluZztcclxuICAvL+ihqOi+vuW8j+exu+Wei+m7mOiupOaYvuekuuWAvFxyXG4gIHB1YmxpYyBkZWZhdWx0RXhwcmVzc1R5cGVUZXh0OnN0cmluZztcclxuICAvL+WIpOaWreaYr+WQpuS/neWtmOe8lui+keWQjueahOi/h+a7pOihqOi+vuW8j1xyXG4gIHB1YmxpYyBpc0VkaXRlZDogYm9vbGVhbiA9IGZhbHNlO1xyXG4gIC8v6aKE572u6L+H5ruk6KGo6L6+5byP5LiyXHJcbiAgcHVibGljIGZpbHRlckV4cHJlc3Npb25QcmU6IEZpbHRlckV4cHJlc3Npb247XHJcbiAgcHVibGljIGRpc3BsYXlQb3B1cDpib29sZWFuID0gZmFsc2U7XHJcbiAgY29sczphbnlbXTtcclxuICBncm91cEljb24gPSAnPHNwYW4gY2xhc3M9XCJmLWljb24gZi1pY29uLXdpbmRvd3NcIj48L3NwYW4+JztcclxuICB0cmVlRGF0YTogVHJlZU5vZGVbXSA9IFtdO1xyXG4gICAvL+a2iOaBr+aPkOekulxyXG4gIHByaXZhdGUgbm90aWZpZXMgPSB7fTsgIFxyXG4gIHByaXZhdGUgaXRlbVZhbHVlOnN0cmluZztcclxuICAvL+WIneWni+WMlu+8jOWkjeWItnRyZWVEYXRh5YC8LHRyZWVEYXRhVGVtcOeUqOS6jui9rOaNouS4ukZpbHRlckV4cHJlc3Npb27lrp7kvZNcclxuICBuZ09uSW5pdCgpOiB2b2lkIHtcclxuICAgIC8v5bm25LiU5qCR5b2i6KGo57uR5a6a55qE5pi+56S655qE5YiXIFxyXG4gICAgdGhpcy5jb2xzID0gW1xyXG4gICAgICB7IGZpZWxkOiAnaXRlbScsIHRpdGxlOiB0aGlzLmxvY2FsZVBpcGUudHJhbnNmb3JtKFwiSXRlbVwiKSwgd2lkdGg6IDI3MSB9LFxyXG4gICAgICB7IGZpZWxkOiAnb3BlcmF0b3InLCB0aXRsZTogdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcIk9wZXJhdG9yXCIpLCB3aWR0aDogMTkxIH0sXHJcbiAgICAgIHsgZmllbGQ6ICdleHByZXNzVHlwZScsIHRpdGxlOiB0aGlzLmxvY2FsZVBpcGUudHJhbnNmb3JtKFwiRXhwcmVzc1R5cGVcIiksIHdpZHRoOiAxODAgfSxcclxuICAgICAgeyBmaWVsZDogJ3ZhbHVlJywgdGl0bGU6IHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oXCJWYWx1ZVwiKSwgd2lkdGg6IDIxNCB9LFxyXG4gICAgICB7IGZpZWxkOiAnb3BlcmF0aW9uJywgdGl0bGU6IHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oXCJPcGVyYXRpb25cIiksIHdpZHRoOiAxMzB9XTtcclxuICAgIGlmICghKHRoaXMuZmlsdGVyRXhwcmVzc2lvblN0cmluZykgfHwgdGhpcy5maWx0ZXJFeHByZXNzaW9uU3RyaW5nID09IFwiXCIpIHtcclxuICAgICAgdGhpcy50cmVlRGF0YSA9IFtcclxuICAgICAgICB7XHJcbiAgICAgICAgICBkYXRhOlxyXG4gICAgICAgICAge1xyXG4gICAgICAgICAgICBcImlkXCI6IDEsICAgICAgICAgICAgICAgICAgICAvL+agkeW9oue7k+aehOS4reavj+S4quiKgueCueeahGlkXHJcbiAgICAgICAgICAgIFwiaXRlbVwiOiB0aGlzLmxvY2FsZVBpcGUudHJhbnNmb3JtKFwiQW5kXCIpLCAgICAgICAgICAgICAvL+WxnuaAp+mhuVxyXG4gICAgICAgICAgICBcInByb3BlcnR5RGF0YVR5cGVcIjpudWxsLCAgICAvL+WxnuaAp+aVsOaNruexu+Wei1xyXG4gICAgICAgICAgICBcIm9wZXJhdG9yXCI6IG51bGwsICAgICAgICAgICAvL+aTjeS9nOavlOi+g+esplxyXG4gICAgICAgICAgICBcImV4cHJlc3NUeXBlXCI6IG51bGwsICAgICAgICAvL+ihqOi+vuW8j+exu+Wei1xyXG4gICAgICAgICAgICBcInZhbHVlXCI6IG51bGwsICAgICAgICAgICAgICAvL+WAvFxyXG4gICAgICAgICAgICBcImRpc3BsYXlTZWxlY3RcIjpmYWxzZSwgICAgICAvL+mAieaLqemhueaYvuekulxyXG4gICAgICAgICAgICBcImRpc3BsYXlPcGVyYXRvclwiOiBmYWxzZSwgICAvL+aTjeS9nOespumhueaYvuekulxyXG4gICAgICAgICAgICBcImRpc3BsYXlFeHByZXNzVHlwZVwiOiBmYWxzZSwvL+ihqOi+vuW8j+exu+Wei+aYvuekulxyXG4gICAgICAgICAgICBcImRpc3BsYXlWYWx1ZVwiOiBmYWxzZSwgICAgICAvL+WAvOaYvuekulxyXG4gICAgICAgICAgICBcInBhcmVudEl0ZW1cIjpudWxsICAgICAgICAgICAvL+eItuWtkOmhuSBcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICBjaGlsZHJlbjogW10sICAgICAgICAgICAgICAgICAvL+WtkOiKgueCuembhuWQiFxyXG4gICAgICAgICAgZXhwYW5kZWQ6IHRydWUgICAgICAgICAgICAgICAgLy/mmK/lkKblsZXlvIBcclxuICAgICAgICB9XHJcbiAgICAgIF07XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgdGhpcy5maWx0ZXJFeHByZXNzaW9uUHJlID0gSlNPTi5wYXJzZSh0aGlzLmZpbHRlckV4cHJlc3Npb25TdHJpbmcpO1xyXG4gICAgICB0aGlzLnRyZWVEYXRhLnB1c2godGhpcy51bkNvbnZlcnQodGhpcy5maWx0ZXJFeHByZXNzaW9uUHJlKSk7XHJcbiAgICAgIHRoaXMudHJlZURhdGFbMF0uZGF0YS5pZCA9IDE7XHJcbiAgICB9XHJcbiAgICB0aGlzLnRyZWVEYXRhVGVtcCA9IHRoaXMudHJlZURhdGE7XHJcbiAgICB0aGlzLmRlZmF1bHRTZWxlY3RJdGVtID0gIHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oXCJTZWxlY3RJdGVtXCIpO1xyXG4gICAgdGhpcy5kZWZhdWx0RXhwcmVzc1R5cGVUZXh0ID0gdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcIlZhbHVlXCIpO1xyXG4gICAgdGhpcy5kZWZhdWx0U2VsZWN0R3JvdXA9dGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcIkFuZFwiKTtcclxuICAgIHRoaXMuZGVmYXVsdE9wZXJhdG9yVGV4dCA9IHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oXCJHcmVhdGVyVGhhblwiKTtcclxuICAgIHRoaXMubm90aWZpZXMgPSB7XHJcbiAgICAgIDE6IHsgdHlwZTogJ3N1Y2Nlc3MnLCBtc2c6IHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oXCJTdWNjZXNzXCIpfSxcclxuICAgICAgMjogeyB0eXBlOiAnd2FybmluZycsIG1zZzogdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcIldhcm5pbmdfU2VsZWN0UmVsYXRpb25cIikgfSxcclxuICAgICAgMzogeyB0eXBlOiAnd2FybmluZycsbXNnOiB0aGlzLmxvY2FsZVBpcGUudHJhbnNmb3JtKFwiV2FybmluZ19Db250YWluc0ZpbHRlcnNcIikgfSxcclxuICAgICAgNDogeyB0eXBlOiAnd2FybmluZycsbXNnOiB0aGlzLmxvY2FsZVBpcGUudHJhbnNmb3JtKFwiV2FybmluZ19Db25kaXRpb25zQ29tcGxldGVcIil9LFxyXG4gICAgICA1OiB7IHR5cGU6ICd3YXJuaW5nJyxtc2c6dGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcIldhcm5pbmdfTnVtZXJpY01hdGNoXCIpfVxyXG4gICAgfTsgIFxyXG4gICAgdGhpcy5leHByZXNzVHlwZXMgPSAgW1xyXG4gICAgICB7aWQ6IHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oXCJWYWx1ZVwiKX0sXHJcbiAgICAgIHtpZDogdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcIkV4cHJlc3Npb25cIil9XHJcbiAgICBdO1xyXG4gICAgdGhpcy5yZWxhdGlvbnMgPSAgW1xyXG4gICAgICB7IGlkOiB0aGlzLmxvY2FsZVBpcGUudHJhbnNmb3JtKFwiQW5kXCIpfSxcclxuICAgICAgeyBpZDogdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcIk9yXCIpfSxcclxuICAgIF07XHJcbiAgICB0aGlzLm9wZXJhdG9ycyA9IFtcclxuICAgICAgeyBpZDogdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcIkdyZWF0ZXJUaGFuXCIpfSxcclxuICAgICAgeyBpZDogdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcIkdyZWF0ZXJUaGFuT3JFcXVhbFwiKX0sXHJcbiAgICAgIHsgaWQ6IHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oXCJMZXNzVGhhblwiKX0sXHJcbiAgICAgIHsgaWQ6IHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oXCJMZXNzVGhhbk9yRXF1YWxcIil9LFxyXG4gICAgICB7IGlkOiB0aGlzLmxvY2FsZVBpcGUudHJhbnNmb3JtKFwiRXF1YWxcIil9LFxyXG4gICAgICB7IGlkOiB0aGlzLmxvY2FsZVBpcGUudHJhbnNmb3JtKFwiTm90RXF1YWxcIil9LFxyXG4gICAgICB7IGlkOiB0aGlzLmxvY2FsZVBpcGUudHJhbnNmb3JtKFwiQ29udGFpbnNcIil9LFxyXG4gICAgICB7IGlkOiB0aGlzLmxvY2FsZVBpcGUudHJhbnNmb3JtKFwiTm90Q29udGFpbnNcIil9LFxyXG4gICAgICB7IGlkOiB0aGlzLmxvY2FsZVBpcGUudHJhbnNmb3JtKFwiU3RhcnRzV2l0aFwiKX0sXHJcbiAgICAgIHsgaWQ6IHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oXCJFbmRzV2l0aFwiKX0sXHJcbiAgICAgIHsgaWQ6IHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oXCJOb3RTdGFydHNXaXRoXCIpfSxcclxuICAgICAgeyBpZDogdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcIk5vdEVuZHNXaXRoXCIpfSxcclxuICAgICAgeyBpZDogdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcIklzTnVsbFwiKX0sXHJcbiAgICAgIHsgaWQ6IHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oXCJJc05vdE51bGxcIil9LFxyXG4gICAgICB7IGlkOiB0aGlzLmxvY2FsZVBpcGUudHJhbnNmb3JtKFwiSW5cIil9LFxyXG4gICAgICB7IGlkOiB0aGlzLmxvY2FsZVBpcGUudHJhbnNmb3JtKFwiTm90SW5cIil9LFxyXG4gICAgXTtcclxuICAgIHRoaXMuTnVtYmVyT3BlcmF0b3JzID0gW1xyXG4gICAgICB7IGlkOiB0aGlzLmxvY2FsZVBpcGUudHJhbnNmb3JtKFwiR3JlYXRlclRoYW5cIil9LFxyXG4gICAgICB7IGlkOiB0aGlzLmxvY2FsZVBpcGUudHJhbnNmb3JtKFwiR3JlYXRlclRoYW5PckVxdWFsXCIpfSxcclxuICAgICAgeyBpZDogdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcIkxlc3NUaGFuXCIpfSxcclxuICAgICAgeyBpZDogdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcIkxlc3NUaGFuT3JFcXVhbFwiKX0sXHJcbiAgICAgIHsgaWQ6IHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oXCJFcXVhbFwiKX0sXHJcbiAgICAgIHsgaWQ6IHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oXCJOb3RFcXVhbFwiKX0sXHJcbiAgICAgIHsgaWQ6IHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oXCJJc051bGxcIil9LFxyXG4gICAgICB7IGlkOiB0aGlzLmxvY2FsZVBpcGUudHJhbnNmb3JtKFwiSXNOb3ROdWxsXCIpfSxcclxuICAgIF07XHJcbiAgICB0aGlzLnN0cmluZ09wZXJhdG9ycyA9IFtcclxuICAgICAgeyBpZDogdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcIkVxdWFsXCIpfSxcclxuICAgICAgeyBpZDogdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcIk5vdEVxdWFsXCIpfSxcclxuICAgICAgeyBpZDogdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcIkNvbnRhaW5zXCIpfSxcclxuICAgICAgeyBpZDogdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcIk5vdENvbnRhaW5zXCIpfSxcclxuICAgICAgeyBpZDogdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcIlN0YXJ0c1dpdGhcIil9LFxyXG4gICAgICB7IGlkOiB0aGlzLmxvY2FsZVBpcGUudHJhbnNmb3JtKFwiRW5kc1dpdGhcIil9LFxyXG4gICAgICB7IGlkOiB0aGlzLmxvY2FsZVBpcGUudHJhbnNmb3JtKFwiTm90U3RhcnRzV2l0aFwiKX0sXHJcbiAgICAgIHsgaWQ6IHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oXCJOb3RFbmRzV2l0aFwiKX0sXHJcbiAgICAgIHsgaWQ6IHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oXCJJc051bGxcIil9LFxyXG4gICAgICB7IGlkOiB0aGlzLmxvY2FsZVBpcGUudHJhbnNmb3JtKFwiSXNOb3ROdWxsXCIpfSxcclxuICAgIF07XHJcbiAgfVxyXG4gXHJcblxyXG4gIC8qKlxyXG4gICAqIOagkeW9ouihqOS4reiKgueCuemAieaLqeinpuWPkeWHveaVsFxyXG4gICAqIEBwYXJhbSAkZXZlbnQg5omA6YCJ6IqC54K55L+h5oGvXHJcbiAgICovXHJcbiAgbm9kZVNlbGVjdGVkKCRldmVudCkge1xyXG4gICBcclxuICAgIC8v6ZqQ6JeP5o6J5omA5pyJ55qE6IqC54K56YCJ5oup57yW6L6R5qGG77yM5YyF5ous5a2Q6IqC54K555qEXHJcbiAgICB0aGlzLmhpZGVOb2RlRWRpdG9yKHRoaXMudHJlZURhdGEpO1xyXG5cclxuICAgIC8v5bCG5omA6YCJ6IqC54K55q+U6L6D6aG544CB6KGo6L6+5byP57G75Z6L6aG544CB5YC857yW6L6R5qGG5pi+56S677yM5bm25bCG5omA6YCJ5a+55bqU5pWw5o2u6LWL57uZ6buY6K6k6aG56L+b6KGM5pi+56S6IFxyXG4gICAgdGhpcy5kZWZhdWx0T3BlcmF0b3JUZXh0ID0gJGV2ZW50Lm5vZGUuZGF0YS5vcGVyYXRvcjtcclxuICAgIHRoaXMuZGVmYXVsdEV4cHJlc3NUeXBlVGV4dCA9ICRldmVudC5ub2RlLmRhdGEuZXhwcmVzc1R5cGU7XHJcbiAgICBpZigkZXZlbnQubm9kZS5kYXRhLml0ZW09PXRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oXCJBbmRcIikgfHwgJGV2ZW50Lm5vZGUuZGF0YS5pdGVtPT10aGlzLmxvY2FsZVBpcGUudHJhbnNmb3JtKFwiT3JcIikpXHJcbiAgICB7XHJcbiAgICAgIHRoaXMuZGVmYXVsdFNlbGVjdEdyb3VwID0gJGV2ZW50Lm5vZGUuZGF0YS5pdGVtO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZigkZXZlbnQubm9kZS5kYXRhLml0ZW0hPT10aGlzLmxvY2FsZVBpcGUudHJhbnNmb3JtKFwiU2VsZWN0UHJvcGVydHlcIikpXHJcbiAgICB7XHJcbiAgICAgIGxldCBwcm9wZXJ0aWVzID0gdGhpcy5wcm9wZXJ0eUxpc3QuZmlsdGVyKHggPT4geC50ZXh0ID09ICRldmVudC5ub2RlLmRhdGEuaXRlbSk7XHJcbiAgICAgIHRoaXMuZGVmYXVsdFNlbGVjdEl0ZW0gPSBwcm9wZXJ0aWVzWzBdLnZhbHVlO1xyXG5cclxuICAgICAgaWYocHJvcGVydGllc1swXS5wcm9wZXJ0eURhdGFUeXBlPT1Qcm9wZXJ0eURhdGFUeXBlLlN0cmluZyl7XHJcbiAgICAgICAgdGhpcy5vcGVyYXRvclZpZXcgPSB0aGlzLnN0cmluZ09wZXJhdG9ycztcclxuICAgICAgfVxyXG4gICAgICBlbHNlIGlmKHByb3BlcnRpZXNbMF0ucHJvcGVydHlEYXRhVHlwZT09UHJvcGVydHlEYXRhVHlwZS5JbnQxNnx8XHJcbiAgICAgIHByb3BlcnRpZXNbMF0ucHJvcGVydHlEYXRhVHlwZT09UHJvcGVydHlEYXRhVHlwZS5JbnQzMiB8fFxyXG4gICAgICBwcm9wZXJ0aWVzWzBdLnByb3BlcnR5RGF0YVR5cGU9PVByb3BlcnR5RGF0YVR5cGUuSW50NjQgfHxcclxuICAgICAgcHJvcGVydGllc1swXS5wcm9wZXJ0eURhdGFUeXBlPT1Qcm9wZXJ0eURhdGFUeXBlLkRlY2ltYWwgfHxcclxuICAgICAgcHJvcGVydGllc1swXS5wcm9wZXJ0eURhdGFUeXBlPT1Qcm9wZXJ0eURhdGFUeXBlLkRvdWJsZSl7XHJcbiAgICAgICAgdGhpcy5vcGVyYXRvclZpZXcgPSB0aGlzLk51bWJlck9wZXJhdG9ycztcclxuICAgICAgfVxyXG4gICAgICBlbHNlIHRoaXMub3BlcmF0b3JWaWV3ID0gdGhpcy5vcGVyYXRvcnM7XHJcbiAgICB9XHJcbiAgIFxyXG4gICAgJGV2ZW50Lm5vZGUuZGF0YS5kaXNwbGF5T3BlcmF0b3IgPSB0cnVlO1xyXG4gICAgJGV2ZW50Lm5vZGUuZGF0YS5kaXNwbGF5RXhwcmVzc1R5cGUgPSB0cnVlO1xyXG4gICAgJGV2ZW50Lm5vZGUuZGF0YS5kaXNwbGF5VmFsdWUgPSB0cnVlO1xyXG4gICAgJGV2ZW50Lm5vZGUuZGF0YS5kaXNwbGF5U2VsZWN0ID0gdHJ1ZTtcclxuICB9O1xyXG4gIC8qKlxyXG4gICAqIOmakOiXj+aOieaJgOacieeahOiKgueCuemAieaLqee8lui+keahhu+8jOWMheaLrOWtkOiKgueCueeahFxyXG4gICAqIEBwYXJhbSB0cmVlTm9kZXMg5qCR5b2i6KGo57uR5a6a57uT5p6EXHJcbiAgICovXHJcbiAgaGlkZU5vZGVFZGl0b3IodHJlZU5vZGVzOiBUcmVlTm9kZVtdKSB7XHJcbiAgICB0cmVlTm9kZXMuZm9yRWFjaChlbGVtZW50ID0+IHtcclxuICAgICAgZWxlbWVudC5kYXRhLmRpc3BsYXlPcGVyYXRvciA9IGZhbHNlO1xyXG4gICAgICBlbGVtZW50LmRhdGEuZGlzcGxheUV4cHJlc3NUeXBlID0gZmFsc2U7XHJcbiAgICAgIGVsZW1lbnQuZGF0YS5kaXNwbGF5VmFsdWUgPSBmYWxzZTtcclxuICAgICAgZWxlbWVudC5kYXRhLmRpc3BsYXlTZWxlY3QgPSBmYWxzZTtcclxuICAgICAgLy/oi6XmnInlrZDoioLngrnvvIzliJnlsIblhbblrZDoioLngrnnmoTnvJbovpHpgInmi6nmoYbpmpDol49cclxuICAgICAgaWYgKChlbGVtZW50LmNoaWxkcmVuKSAmJiBlbGVtZW50LmNoaWxkcmVuLmxlbmd0aCAhPSAwKSB7XHJcbiAgICAgICAgdGhpcy5oaWRlTm9kZUVkaXRvcihlbGVtZW50LmNoaWxkcmVuKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfTtcclxuICAvKioqXHJcbiAgICog6YCJ5oup6YC76L6R6ZuG5pe2XHJcbiAgICovXHJcbiAgc2VsZWN0R3JvdXAoJGV2ZW50KVxyXG4gIHtcclxuICAgIHRoaXMucHJvcGVydHlOb2RlT3BlcmF0ZSgkZXZlbnQsIHRoaXMudHJlZURhdGEsIEZpZWxkVHlwZS5Hcm91cCk7XHJcbiAgfVxyXG4gIC8qKipcclxuICAgKiDpgInmi6npobnml7ZcclxuICAgKi9cclxuICBzZWxlY3RJdGVtKCRldmVudClcclxuICB7XHJcbiAgICB0aGlzLnByb3BlcnR5Tm9kZU9wZXJhdGUoJGV2ZW50LCB0aGlzLnRyZWVEYXRhLCBGaWVsZFR5cGUuSXRlbSk7XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIOmAieaLqeavlOi+g+aTjeS9nOespuaXtlxyXG4gICAqIEBwYXJhbSAkZXZlbnQg5q+U6L6D5pON5L2c6aG55L+h5oGvXHJcbiAgICovXHJcbiAgc2VsZWN0T3BlcmF0b3IoJGV2ZW50KSB7XHJcbiAgICB0aGlzLnByb3BlcnR5Tm9kZU9wZXJhdGUoJGV2ZW50LCB0aGlzLnRyZWVEYXRhLCBGaWVsZFR5cGUuT3BlcmF0aW9uKTtcclxuICB9O1xyXG4gIC8qKlxyXG4gICAqIOmAieaLqeWAvOexu+Wei+aXtlxyXG4gICAqIEBwYXJhbSAkZXZlbnQg5YC857G75Z6L6aG55L+h5oGvXHJcbiAgICovXHJcbiAgc2VsZWN0RXhwcmVzc1R5cGUoJGV2ZW50KSB7XHJcbiAgICB0aGlzLnByb3BlcnR5Tm9kZU9wZXJhdGUoJGV2ZW50LCB0aGlzLnRyZWVEYXRhLCBGaWVsZFR5cGUuVmFsdWV0eXBlKVxyXG4gIH07XHJcbiAgLyoqXHJcbiAgICog6YCJ5oup57uT5p2f5ZCO6ZqQ6JeP6K+l5a2X5q616YCJ5oup5qGGXHJcbiAgICogQHBhcmFtIHRyZWVOb2RlcyDmoJHlvaLooajnu5Hlrprnu5PmnoRcclxuICAgKiBAcGFyYW0gZmllbGRUeXBlIOaJgOmAieWtl+autVxyXG4gICAqL1xyXG4gIGhpZGVGaWVsZEVkaXRvcih0cmVlTm9kZXM6IFRyZWVOb2RlW10sIGZpZWxkVHlwZTogRmllbGRUeXBlKSB7XHJcbiAgICAvL+aJvuWIsOaJgOaTjeS9nOeahOiKgueCue+8jOagueaNruaJgOmAieaLqeeahOWtl+auteWwhuWvueW6lOmAieaLqee8lui+keahhumakOiXj1xyXG4gICAgdHJlZU5vZGVzLmZvckVhY2godHJlZU5vZGUgPT4ge1xyXG4gICAgICBpZiAodGhpcy50dC5pc1NlbGVjdGVkKHRyZWVOb2RlKSkge1xyXG4gICAgICAgIHN3aXRjaCAoZmllbGRUeXBlKSB7XHJcbiAgICAgICAgICBjYXNlIEZpZWxkVHlwZS5JdGVtOnRyZWVOb2RlLmRhdGEuZGlzcGxheVNlbGVjdCA9IGZhbHNlO2JyZWFrO1xyXG4gICAgICAgICAgY2FzZSBGaWVsZFR5cGUuT3BlcmF0aW9uOiB0cmVlTm9kZS5kYXRhLmRpc3BsYXlPcGVyYXRvciA9IGZhbHNlOyBicmVhaztcclxuICAgICAgICAgIGNhc2UgRmllbGRUeXBlLlZhbHVldHlwZTogdHJlZU5vZGUuZGF0YS5kaXNwbGF5RXhwcmVzc1R5cGUgPSBmYWxzZTsgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG4gICAgICAvL+iLpeacquaJvuWIsOaJgOmAieiKgueCue+8jOWImeaJvuWFtuWtkOiKgueCuVxyXG4gICAgICBlbHNlIGlmICgodHJlZU5vZGUuY2hpbGRyZW4pICYmIHRyZWVOb2RlLmNoaWxkcmVuLmxlbmd0aCAhPSAwKSB7XHJcbiAgICAgICAgdGhpcy5oaWRlRmllbGRFZGl0b3IodHJlZU5vZGUuY2hpbGRyZW4sIGZpZWxkVHlwZSk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxuICAvKipcclxuICAgKiDmiZPlvIDorqHnrpfooajovr7lvI/nvJbovpHlmahcclxuICAgKi9cclxuICBvcGVuRXhwcmVzc0VkaXRvcigpIHtcclxuICAgIGxldCB0aGF0ID0gdGhpcztcclxuICAgIC8v6aKE572u6K6h566X6KGo6L6+5byP5by55Ye65qGG5a695bqmXHJcbiAgICAvL3RoaXMuZXhwci5hZGRXaW5kb3dXaWR0aCh0aGlzLmV4cHJXaW5XaWR0aCk7XHJcbiAgICAvL+a3u+WKoOmihOe9ruS4iuS4i+aWh+WPmOmHj1xyXG4gICAgaWYodGhpcy5jb250ZXh0RW50aXR5ICYmIHRoaXMuY29udGV4dEVudGl0eS5sZW5ndGghPTApXHJcbiAgICB7XHJcbiAgICAgIHRoaXMuY29udGV4dEVudGl0eS5mb3JFYWNoKGVsZW1lbnQgPT4ge1xyXG4gICAgICAgIHRoaXMuZXhwci5hZGRDb250ZXh0KGVsZW1lbnQpO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgLy/mt7vliqDpooTnva7ooajovr7lvI/mlofmnKxcclxuICAgIGxldCBzZWxlY3ROb2RlID0gdGhpcy5pc1NlbGVjdGVkKHRoaXMudHJlZURhdGEpO1xyXG4gICAgaWYoKHNlbGVjdE5vZGUpICYmIChzZWxlY3ROb2RlLmRhdGEudmFsdWUhPVwiXCIpICYmIChzZWxlY3ROb2RlLmRhdGEudmFsdWUhPW51bGwpKVxyXG4gICAge1xyXG4gICAgICB0aGlzLmV4cHIuYWRkRXhwcmVzc2lvblRleHQoc2VsZWN0Tm9kZS5kYXRhLnZhbHVlKTtcclxuICAgIH1cclxuICAgIGVsc2UgdGhpcy5leHByLmFkZEV4cHJlc3Npb25UZXh0KHRoaXMuZXhwcmVzc2lvblRleHQpO1xyXG4gICAgLy/mt7vliqDms6jlhaXlrp7kvZNcclxuICAgIHRoaXMuZXhwcmVzc2lvbkluamVjdGVkRW50aXRpZXMuZm9yRWFjaChlbGVtZW50ID0+IHtcclxuICAgICAgdGhpcy5leHByLmFkZEluamVjdGVkRW50aXR5KGVsZW1lbnQubmFtZSwgZWxlbWVudC5zY2hlbWFOYW1lLCBlbGVtZW50LmluamVjdGVkTmFtZSwgZWxlbWVudC5pbmplY3RlZFR5cGUpO1xyXG4gICAgfSk7XHJcbiAgICAvL+a3u+WKoHNjaGVtYVxyXG4gICAgdGhpcy5leHByZXNzaW9uU2NoZW1hLmZvckVhY2goZWxlbWVudCA9PiB7XHJcbiAgICAgIHRoaXMuZXhwci5hZGRTY2hlbWEoZWxlbWVudC5uYW1lLCBlbGVtZW50LnNjaGVtYSk7XHJcbiAgICB9KTtcclxuICAgIC8v5re75YqgY2R0XHJcbiAgICB0aGlzLmV4cHIuYWRkQ0RUKHRoaXMuZXhwcmVzc2lvbkNEVCk7XHJcbiAgICAvL+aJk+W8gOihqOi+vuW8j+e8lui+keWZqOW5tui/lOWbnue8lui+kee7k+aenFxyXG4gICAgdGhpcy5leHByLmJ1aWxkRXhwcmVzc2lvbigpLnRoZW4oaW5mbyA9PiB7XHJcbiAgICAgIGxldCBleHByZXNzSW5mbzogYW55ID0gaW5mbztcclxuICAgICAgdGhpcy5kaXNwbGF5RXhwcmVzc1Jlc3VsdCh0aGF0LnRyZWVEYXRhLCBleHByZXNzSW5mbyk7XHJcbiAgICB9KTtcclxuICB9XHJcbiAgIC8qKlxyXG4gICAqIOmAieS4reiKgueCuemAieaLqVxyXG4gICAqIEBwYXJhbSB0cmVlTm9kZXMg5YWz57O757uEXHJcbiAgICovXHJcbiAgaXNTZWxlY3RlZCh0cmVlTm9kZXM6VHJlZU5vZGVbXSk6YW55XHJcbiAge1xyXG4gICAgbGV0IHRyZWVOb2RlOlRyZWVOb2RlO1xyXG4gICAgZm9yKHZhciBpID0gMDsgaSA8IHRyZWVOb2Rlcy5sZW5ndGg7IGkgKyspXHJcbiAgICB7XHJcbiAgICAgIGlmICh0aGlzLnR0LmlzU2VsZWN0ZWQodHJlZU5vZGVzW2ldKSkge1xyXG4gICAgICAgIHRyZWVOb2RlID0gdHJlZU5vZGVzW2ldO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICB9XHJcbiAgICAgIC8v6Iul5Zyo6K+l5bGC6IqC54K55Lit5pyq5om+5Yiw5omA6YCJ6IqC54K577yM5YiZ5om+5YW25a2Q6IqC54K5XHJcbiAgICAgIGVsc2UgaWYgKCh0cmVlTm9kZXNbaV0uY2hpbGRyZW4pICYmIHRyZWVOb2Rlc1tpXS5jaGlsZHJlbi5sZW5ndGggIT0gMCkge1xyXG4gICAgICAgIHRyZWVOb2RlID0gdGhpcy5pc1NlbGVjdGVkKHRyZWVOb2Rlc1tpXS5jaGlsZHJlbik7XHJcbiAgICAgICAgaWYoKHRyZWVOb2RlKSkgYnJlYWs7IFxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdHJlZU5vZGU7XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIOWwhuiuoeeul+ihqOi+vuW8j+e7k+aenOWxleekuuWIsOWvueW6lOiKgueCuVxyXG4gICAqIEBwYXJhbSB0cmVlTm9kZXMg5qCR6KGo57uR5a6a57uT5p6EXHJcbiAgICogQHBhcmFtIGV4cHJlc3NJbmZvIOiuoeeul+ihqOi+vuW8j+W+l+WIsOe7k+aenFxyXG4gICAqL1xyXG4gIGRpc3BsYXlFeHByZXNzUmVzdWx0KHRyZWVOb2RlczogVHJlZU5vZGVbXSwgZXhwcmVzc0luZm86IHN0cmluZykge1xyXG4gICAgLy/mib7liLDmiYDpgInoioLngrnlrp7kvZPvvIzlubblsIborqHnrpfooajovr7lvI/miYDlvpfnu5PmnpzotYvnu5nlr7nlupTlsZ7mgKfov5vooYzmmL7npLpcclxuICAgIHRyZWVOb2Rlcy5mb3JFYWNoKHRyZWVOb2RlID0+IHtcclxuICAgICAgaWYgKHRoaXMudHQuaXNTZWxlY3RlZCh0cmVlTm9kZSkpIHtcclxuICAgICAgICB0cmVlTm9kZS5kYXRhLnZhbHVlID0gZXhwcmVzc0luZm87XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcbiAgICAgIC8v6Iul5Zyo6K+l5bGC6IqC54K55Lit5pyq5om+5Yiw5omA6YCJ6IqC54K577yM5YiZ5om+5YW25a2Q6IqC54K5XHJcbiAgICAgIGVsc2UgaWYgKCh0cmVlTm9kZS5jaGlsZHJlbikgJiYgdHJlZU5vZGUuY2hpbGRyZW4ubGVuZ3RoICE9IDApIHtcclxuICAgICAgICB0aGlzLmRpc3BsYXlFeHByZXNzUmVzdWx0KHRyZWVOb2RlLmNoaWxkcmVuLCBleHByZXNzSW5mbyk7XHJcbiAgICAgIH1cclxuICAgICAgLy/oi6Xku43mnKrmib7liLDvvIzliJnkuI3ov5vooYzku7vkvZXmk43kvZxcclxuICAgIH0pO1xyXG4gIH1cclxuICAvKipcclxuICAgKiDlhbPns7vpgInmi6nmjInpkq7pgInmi6nkuovku7ZcclxuICAgKiBAcGFyYW0gJGV2ZW50IOmAieaLqeaMiemSruaJgOmAieS/oeaBr1xyXG4gICAqL1xyXG4gIGl0ZW1DbGljaygkZXZlbnQpIHtcclxuICAgIC8v6Iul6YCJ5oup5re75Yqg5YWz57O7XHJcbiAgICBpZiAoJGV2ZW50LnZhbHVlID09IFJlbGF0aW9uVHlwZUVudW0uQWRkUmVsYXRpb24pIHtcclxuICAgICAgdGhpcy5hZGROb2RlKHRoaXMudHJlZURhdGEsdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcIkFuZFwiKSxudWxsLG51bGwpO1xyXG4gICAgfVxyXG4gICAgLy/oi6XpgInmi6nmt7vliqDlsZ7mgKdcclxuICAgIGVsc2UgaWYgKCRldmVudC52YWx1ZSA9PSBSZWxhdGlvblR5cGVFbnVtLkFkZFByb3BlcnR5KSB7XHJcbiAgICAgIHRoaXMuYWRkTm9kZSh0aGlzLnRyZWVEYXRhLCB0aGlzLmxvY2FsZVBpcGUudHJhbnNmb3JtKFwiU2VsZWN0UHJvcGVydHlcIiksdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcIkVxdWFsXCIpLHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oXCJWYWx1ZVwiKSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHRoaXMucHJvcGVydHlOb2RlT3BlcmF0ZSgkZXZlbnQsIHRoaXMudHJlZURhdGEsIEZpZWxkVHlwZS5JdGVtKTtcclxuICB9XHJcbiBcclxuICAvKipcclxuICAgKiDpgInmi6nlsZ7mgKfoioLngrnmk43kvZxcclxuICAgKiDlr7nmlrDmt7vliqDnmoTlsZ7mgKfoioLngrnov5vooYzpgLvovpHlpITnkIZcclxuICAgKiBAcGFyYW0gdmFsdWUgXHJcbiAgICogQHBhcmFtIHRyZWVOb2RlcyDmoJHlvaLooajnu5Hlrprnu5PmnoRcclxuICAgKiBAcGFyYW0gZmllbGRUeXBlIOiKgueCueexu+Wei1xyXG4gICAqL1xyXG4gIHByb3BlcnR5Tm9kZU9wZXJhdGUoZXZlbnQ6IGFueSwgdHJlZU5vZGVzOiBUcmVlTm9kZVtdLCBmaWVsZFR5cGU6IEZpZWxkVHlwZSkge1xyXG4gICAgdHJlZU5vZGVzLmZvckVhY2godHJlZW5vZGUgPT4ge1xyXG4gICAgICBpZiAodGhpcy50dC5pc1NlbGVjdGVkKHRyZWVub2RlKSkge1xyXG4gICAgICAgIC8v5a+55omA6YCJ6IqC54K56L+b6KGM6LWL5YC85pON5L2cXHJcbiAgICAgICAgc3dpdGNoIChmaWVsZFR5cGUpIHtcclxuICAgICAgICAgIGNhc2UgRmllbGRUeXBlLkdyb3VwOlxyXG4gICAgICAgICAge1xyXG4gICAgICAgICAgICB0cmVlbm9kZS5kYXRhLml0ZW0gPSBldmVudC5kYXRhLmlkO1xyXG4gICAgICAgICAgICB0aGlzLmRlZmF1bHRTZWxlY3RHcm91cCA9IGV2ZW50LmRhdGEuaWQ7XHJcbiAgICAgICAgICB9YnJlYWs7XHJcbiAgICAgICAgICBjYXNlIEZpZWxkVHlwZS5JdGVtOiBcclxuICAgICAgICAgIHtcclxuICAgICAgICAgICAgdHJlZW5vZGUuZGF0YS5pdGVtID1ldmVudC5kYXRhLnRleHQ7XHJcbiAgICAgICAgICAgIHRoaXMuZGVmYXVsdFNlbGVjdEl0ZW0gPSBldmVudC5kYXRhLnZhbHVlO1xyXG4gICAgICAgICAgICB0cmVlbm9kZS5kYXRhLnBhcmVudEl0ZW0gPSBldmVudC5kYXRhLnBhcmVudEl0ZW07XHJcbiAgICAgICAgICAgIHRyZWVub2RlLmRhdGEucHJvcGVydHlEYXRhVHlwZSA9IGV2ZW50LmRhdGEucHJvcGVydHlEYXRhVHlwZTtcclxuXHJcbiAgICAgICAgICAgIGlmKHRyZWVub2RlLmRhdGEucHJvcGVydHlEYXRhVHlwZT09UHJvcGVydHlEYXRhVHlwZS5TdHJpbmcpe1xyXG4gICAgICAgICAgICAgIHRoaXMub3BlcmF0b3JWaWV3ID0gdGhpcy5zdHJpbmdPcGVyYXRvcnM7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZih0cmVlbm9kZS5kYXRhLnByb3BlcnR5RGF0YVR5cGU9PVByb3BlcnR5RGF0YVR5cGUuSW50MTYgfHxcclxuICAgICAgICAgICAgdHJlZW5vZGUuZGF0YS5wcm9wZXJ0eURhdGFUeXBlPT1Qcm9wZXJ0eURhdGFUeXBlLkludDMyIHx8XHJcbiAgICAgICAgICAgIHRyZWVub2RlLmRhdGEucHJvcGVydHlEYXRhVHlwZT09UHJvcGVydHlEYXRhVHlwZS5JbnQ2NCB8fFxyXG4gICAgICAgICAgICB0cmVlbm9kZS5kYXRhLnByb3BlcnR5RGF0YVR5cGU9PVByb3BlcnR5RGF0YVR5cGUuRGVjaW1hbCB8fFxyXG4gICAgICAgICAgICB0cmVlbm9kZS5kYXRhLnByb3BlcnR5RGF0YVR5cGU9PVByb3BlcnR5RGF0YVR5cGUuRG91YmxlKXtcclxuICAgICAgICAgICAgICB0aGlzLm9wZXJhdG9yVmlldyA9IHRoaXMuTnVtYmVyT3BlcmF0b3JzO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgdGhpcy5vcGVyYXRvclZpZXcgPSB0aGlzLm9wZXJhdG9ycztcclxuXHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgfSBicmVhaztcclxuICAgICAgICAgIGNhc2UgRmllbGRUeXBlLk9wZXJhdGlvbjogXHJcbiAgICAgICAgICB7XHJcbiAgICAgICAgICAgIHRyZWVub2RlLmRhdGEub3BlcmF0b3IgPSBldmVudC5kYXRhLmlkO1xyXG4gICAgICAgICAgICB0aGlzLmRlZmF1bHRPcGVyYXRvclRleHQgPSBldmVudC5kYXRhLmlkOyAgICAgICAgXHJcbiAgICAgICAgICB9IGJyZWFrO1xyXG4gICAgICAgICAgY2FzZSBGaWVsZFR5cGUuVmFsdWV0eXBlOiBcclxuICAgICAgICAgIHtcclxuICAgICAgICAgICAgdHJlZW5vZGUuZGF0YS5leHByZXNzVHlwZSA9IGV2ZW50LmRhdGEuaWQ7IFxyXG4gICAgICAgICAgICB0aGlzLmRlZmF1bHRFeHByZXNzVHlwZVRleHQgPSBldmVudC5kYXRhLmlkOyAgICAgICAgICBcclxuICAgICAgICAgIH0gYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG4gICAgICAvL+WQpuWImeWvueWFtuWtkOiKgueCuei/m+ihjOi1i+WAvOaTjeS9nFxyXG4gICAgICBlbHNlIGlmICgodHJlZW5vZGUuY2hpbGRyZW4pICYmIHRyZWVub2RlLmNoaWxkcmVuLmxlbmd0aCAhPSAwKSB7XHJcbiAgICAgICAgdGhpcy5wcm9wZXJ0eU5vZGVPcGVyYXRlKGV2ZW50LCB0cmVlbm9kZS5jaGlsZHJlbiwgZmllbGRUeXBlKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIOagueaNruaJgOmAieS4uuWFs+ezu+aIluiAheWxnuaAp+WvueaWsOiKgueCuei/m+ihjOWIneWni+WMllxyXG4gICAqIEBwYXJhbSB0cmVlTm9kZXMg5qCR5b2i6KGo57uR5a6a57uT5p6EXHJcbiAgICogQHBhcmFtIGRlZmF1bHRTdHJpbmcg5paw6IqC54K55pi+56S66buY6K6k5YC8XHJcbiAgICovXHJcbiAgYWRkTm9kZSh0cmVlTm9kZXM6IFRyZWVOb2RlW10sIGRlZmF1bHRTdHJpbmc6IGFueSxkZWZhdWx0T3BlcmF0b3I6c3RyaW5nLGRlZmFsdXRFeHByZXNzVHlwZTpzdHJpbmcpXHJcbiAgIHtcclxuICAgIHRyZWVOb2Rlcy5mb3JFYWNoKHRyZWVOb2RlID0+IHtcclxuICAgICAgaWYgKHRoaXMudHQuaXNTZWxlY3RlZCh0cmVlTm9kZSkpIHtcclxuICAgICAgICAvL+iLpeWFs+ezu+WAvOS4uuepulxyXG4gICAgICAgIGlmKCEodHJlZU5vZGUuZGF0YS5pdGVtKSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICB0aGlzLm5vdGlmeXNlcnZpY2VbdGhpcy5ub3RpZmllc1snMiddLnR5cGVdKHtcclxuICAgICAgICAgICAgbXNnOiB0aGlzLm5vdGlmaWVzWycyJ10ubXNnXHJcbiAgICAgICAgICB9KTsgIFxyXG4gICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvL+iLpeS4uuaJgOmAieeahOWFs+ezu+iKgueCue+8jOWImeWcqOWFtuWtkOmhuemHjOa3u+WKoOaWsOWtkOiKgueCuVxyXG4gICAgICAgIGxldCBuZXdOb2RlOiBUcmVlTm9kZSA9XHJcbiAgICAgICAge1xyXG4gICAgICAgICAgZGF0YTpcclxuICAgICAgICAgIHtcclxuICAgICAgICAgICAgXCJpdGVtXCI6IGRlZmF1bHRTdHJpbmcsXHJcbiAgICAgICAgICAgIFwicHJvcGVydHlEYXRhVHlwZVwiOm51bGwsICAgIC8v5bGe5oCn5pWw5o2u57G75Z6LXHJcbiAgICAgICAgICAgIFwib3BlcmF0b3JcIjogZGVmYXVsdE9wZXJhdG9yLFxyXG4gICAgICAgICAgICBcImV4cHJlc3NUeXBlXCI6IGRlZmFsdXRFeHByZXNzVHlwZSxcclxuICAgICAgICAgICAgXCJ2YWx1ZVwiOiBudWxsLFxyXG4gICAgICAgICAgICBcImlkXCI6IE1hdGgucmFuZG9tKCksXHJcbiAgICAgICAgICAgIFwicGFyZW50SXRlbVwiOm51bGwgICAgICBcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICBwYXJlbnQ6IHRyZWVOb2RlLFxyXG4gICAgICAgICAgY2hpbGRyZW46IFtdLFxyXG4gICAgICAgICAgZXhwYW5kZWQ6IHRydWVcclxuICAgICAgICB9O1xyXG4gICAgICAgIC8v5ZCR6K+l5omA6YCJ6IqC54K555qE5a2Q6aG55re75Yqg5paw6IqC54K5XHJcbiAgICAgICAgdHJlZU5vZGUuY2hpbGRyZW4ucHVzaChuZXdOb2RlKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuICAgICAgLy/oi6XmnKrmib7liLDmiYDpgInoioLngrnvvIzkuJTor6XoioLngrnlrZDpobnkuI3kuLrnqbrvvIzliJnlnKjlhbblrZDpobnkuK3mn6Xmib7miYDpgInoioLngrlcclxuICAgICAgZWxzZSBpZiAoKHRyZWVOb2RlLmNoaWxkcmVuKSAmJiB0cmVlTm9kZS5jaGlsZHJlbi5sZW5ndGggIT0gMCkge1xyXG4gICAgICAgIHRoaXMuYWRkTm9kZSh0cmVlTm9kZS5jaGlsZHJlbiwgZGVmYXVsdFN0cmluZyxkZWZhdWx0T3BlcmF0b3IsZGVmYWx1dEV4cHJlc3NUeXBlKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICB0aGlzLnR0LnVwZGF0ZVNlcmlhbGl6ZWRWYWx1ZSgpO1xyXG4gIH1cclxuICAvKipcclxuICAgKiDliKDpmaToioLngrlcclxuICAgKiBAcGFyYW0gdHJlZU5vZGUg6KaB5Yig6Zmk55qE6IqC54K5XHJcbiAgICovXHJcbiAgZGVsZXRlTm9kZSgkZXZlbnQpIHtcclxuICAgIHRoaXMub25EZWxldGUodGhpcy50cmVlRGF0YSwkZXZlbnQpO1xyXG4gIH1cclxuICAvKipcclxuICAgKiDliKDpmaToioLngrnlhbfkvZPlrp7njrDnsbtcclxuICAgKiBAcGFyYW0gdHJlZU5vZGVzIOagkeW9ouihqOe7keWumue7k+aehFxyXG4gICAqL1xyXG4gIG9uRGVsZXRlKHRyZWVOb2RlczogVHJlZU5vZGVbXSxpZDpudW1iZXIpIHtcclxuICAgIHRyZWVOb2Rlcy5mb3JFYWNoKHRyZWVOb2RlID0+IHtcclxuICAgICAgaWYgKHRyZWVOb2RlLmRhdGEuaWQ9PWlkKSB7XHJcbiAgICAgICAgaWYodHJlZU5vZGUuZGF0YS5pZD09MSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICB0aGlzLnRyZWVEYXRhID0gW1xyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgZGF0YTpcclxuICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBcImlkXCI6IDEsICAgICAgICAgICAgICAgICAgICAvL+agkeW9oue7k+aehOS4reavj+S4quiKgueCueeahGlkXHJcbiAgICAgICAgICAgICAgICBcInByb3BlcnR5RGF0YVR5cGVcIjpudWxsLCAgICAvL+WxnuaAp+aVsOaNruexu+Wei1xyXG4gICAgICAgICAgICAgICAgXCJpdGVtXCI6IHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oXCJBbmRcIiksICAgICAgICAgICAgICAvL+WxnuaAp+mhuVxyXG4gICAgICAgICAgICAgICAgXCJvcGVyYXRvclwiOiBudWxsLCAgICAgICAgICAgLy/mk43kvZzmr5TovoPnrKZcclxuICAgICAgICAgICAgICAgIFwiZXhwcmVzc1R5cGVcIjogbnVsbCwgICAgICAgIC8v6KGo6L6+5byP57G75Z6LXHJcbiAgICAgICAgICAgICAgICBcInZhbHVlXCI6IG51bGwsICAgICAgICAgICAgICAvL+WAvFxyXG4gICAgICAgICAgICAgICAgXCJkaXNwbGF5U2VsZWN0XCI6ZmFsc2UsICAgICAgLy/pgInmi6npobnmmL7npLpcclxuICAgICAgICAgICAgICAgIFwiZGlzcGxheU9wZXJhdG9yXCI6IGZhbHNlLCAgIC8v5pON5L2c56ym6aG55pi+56S6XHJcbiAgICAgICAgICAgICAgICBcImRpc3BsYXlFeHByZXNzVHlwZVwiOiBmYWxzZSwvL+ihqOi+vuW8j+exu+Wei+aYvuekulxyXG4gICAgICAgICAgICAgICAgXCJkaXNwbGF5VmFsdWVcIjogZmFsc2UsICAgICAgLy/lgLzmmL7npLpcclxuICAgICAgICAgICAgICAgIFwicGFyZW50SXRlbVwiOm51bGwgICAgICAgICAgIC8v54i26aG5XHJcbiAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICBjaGlsZHJlbjogW10sICAgICAgICAgICAgICAgICAvL+WtkOiKgueCuembhuWQiFxyXG4gICAgICAgICAgICAgIGV4cGFuZGVkOiB0cnVlICAgICAgICAgICAgICAgIC8v5piv5ZCm5bGV5byAXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIF07XHJcbiAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8v5omA6YCJ6IqC54K55omA5Zyo5pWwXHJcbiAgICAgICAgbGV0IGluZGV4ID0gdHJlZU5vZGVzLmluZGV4T2YodHJlZU5vZGUpO1xyXG4gICAgICAgIC8v5bCG5omA6YCJ6IqC54K55YmU6ZmkXHJcbiAgICAgICAgdHJlZU5vZGVzLnNwbGljZShpbmRleCwgMSk7XHJcbiAgICAgIH1cclxuICAgICAgZWxzZSBpZiAoKHRyZWVOb2RlLmNoaWxkcmVuKSAmJiB0cmVlTm9kZS5jaGlsZHJlbi5sZW5ndGggIT0gMCkge1xyXG4gICAgICAgIHRyZWVOb2RlLmNoaWxkcmVuID0gdGhpcy5vbkRlbGV0ZSh0cmVlTm9kZS5jaGlsZHJlbixpZCk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgdGhpcy50dC51cGRhdGVTZXJpYWxpemVkVmFsdWUoKTtcclxuICAgIHJldHVybiB0cmVlTm9kZXM7XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIOehruWumlxyXG4gICAqIOeUn+aIkOi/h+a7pOihqOi+vuW8j1xyXG4gICAqL1xyXG4gIG9uQ29uZmlybSgpIHtcclxuICAgIHRoaXMudHJlZURhdGFUZW1wID0gdGhpcy50cmVlRGF0YTtcclxuICAgIGxldCBpc051bGwgPSB0cnVlO1xyXG4gICAgbGV0IGlzTWF0Y2ggPSB0cnVlO1xyXG4gICAgaWYodGhpcy5jaGVja051bGwodGhpcy50cmVlRGF0YVRlbXBbMF0uY2hpbGRyZW4saXNOdWxsKSAmJiB0aGlzLmNoZWNrTWF0Y2godGhpcy50cmVlRGF0YVRlbXBbMF0uY2hpbGRyZW4sIGlzTWF0Y2gpKVxyXG4gICAge1xyXG4gICAgICB0aGlzLmZpbHRlckV4cHJlc3Npb24gPSBuZXcgRmlsdGVyRXhwcmVzc2lvbigpO1xyXG4gICAgICAvL+agueaNruagkeW9ouaVsOaNrue7k+aehOi9rOWMluS4uui/h+a7pOihqOi+vuW8j+WunuS9k1xyXG4gICAgICB0aGlzLmNvbnZlcnQodGhpcy5maWx0ZXJFeHByZXNzaW9uLCB0aGlzLnRyZWVEYXRhVGVtcFswXSk7XHJcbiAgICAgIHRoaXMuaXNFZGl0ZWQgPSB0cnVlO1xyXG4gICAgICB0aGlzLm5vdGlmeXNlcnZpY2VbdGhpcy5ub3RpZmllc1snMSddLnR5cGVdKHtcclxuICAgICAgICBtc2c6IHRoaXMubm90aWZpZXNbJzEnXS5tc2dcclxuICAgICAgfSk7ICBcclxuICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgICB0aGlzLmNsb3NlZC5lbWl0KFwiY2xvc2VcIik7XHJcbiAgICB9XHJcbiAgIFxyXG4gIH1cclxuICAvL+mAkuW9kuajgOafpeaVtOS4qui/h+a7pOihqOi+vuW8j+aYr+WQpuaciea8j+Whq+eahOmhuVxyXG4gIGNoZWNrTnVsbCh0cmVlTm9kZXM6VHJlZU5vZGVbXSxpc051bGw6Ym9vbGVhbik6Ym9vbGVhblxyXG4gIHtcclxuICAgIGZvcih2YXIgaT0wO2k8dHJlZU5vZGVzLmxlbmd0aDtpKyspXHJcbiAgICB7XHJcbiAgICAgIGlmKHRyZWVOb2Rlc1tpXS5kYXRhLml0ZW0gPT0gdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcIkFuZFwiKSB8fCB0cmVlTm9kZXNbaV0uZGF0YS5pdGVtID09IHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oXCJPclwiKSlcclxuICAgICAge1xyXG4gICAgICAgIGlmKCEodHJlZU5vZGVzW2ldLmNoaWxkcmVuKSB8fCB0cmVlTm9kZXNbaV0uY2hpbGRyZW4ubGVuZ3RoPT0wKSBcclxuICAgICAgICB7XHJcbiAgICAgICAgICB0aGlzLm5vdGlmeXNlcnZpY2VbdGhpcy5ub3RpZmllc1snMyddLnR5cGVdKHtcclxuICAgICAgICAgICAgbXNnOiB0aGlzLm5vdGlmaWVzWyczJ10ubXNnXHJcbiAgICAgICAgICB9KTsgIFxyXG4gICAgICAgICAgaXNOdWxsID0gZmFsc2U7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZighdGhpcy5jaGVja051bGwodHJlZU5vZGVzW2ldLmNoaWxkcmVuLGlzTnVsbCkpIFxyXG4gICAgICAgIHtcclxuICAgICAgICAgIGlzTnVsbCA9IGZhbHNlO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIGVsc2VcclxuICAgICAge1xyXG4gICAgICAgIGlmKCEodHJlZU5vZGVzW2ldLmRhdGEuaXRlbSkgfHwgdHJlZU5vZGVzW2ldLmRhdGEuaXRlbSA9PSB0aGlzLmxvY2FsZVBpcGUudHJhbnNmb3JtKFwiU2VsZWN0UHJvcGVydHlcIilcclxuICAgICAgICB8fCAhKHRyZWVOb2Rlc1tpXS5kYXRhLm9wZXJhdG9yKSB8fCAhKHRyZWVOb2Rlc1tpXS5kYXRhLmV4cHJlc3NUeXBlKSBcclxuICAgICAgICB8fCB0cmVlTm9kZXNbaV0uZGF0YS52YWx1ZT09bnVsbCB8fCB0cmVlTm9kZXNbaV0uZGF0YS52YWx1ZT09dW5kZWZpbmVkKVxyXG4gICAgICAge1xyXG4gICAgICAgIHRoaXMubm90aWZ5c2VydmljZVt0aGlzLm5vdGlmaWVzWyc0J10udHlwZV0oe1xyXG4gICAgICAgICAgbXNnOiB0aGlzLm5vdGlmaWVzWyc0J10ubXNnXHJcbiAgICAgICAgfSk7ICBcclxuICAgICAgICAgaXNOdWxsID0gZmFsc2U7XHJcbiAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gaXNOdWxsO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICog6YeN572uXHJcbiAgICog6YeN572u5Li65Yid5aeL54q25oCBXHJcbiAgICovXHJcbiAgb25DYW5jZWwoKSB7XHJcbiAgICB0aGlzLmlzRWRpdGVkID0gZmFsc2U7XHJcbiAgICBpZih0aGlzLmZpbHRlckV4cHJlc3Npb25TdHJpbmcgPT0gbnVsbCB8fCB0aGlzLmZpbHRlckV4cHJlc3Npb25TdHJpbmcgPT1cIlwiKVxyXG4gICAge1xyXG4gICAgICB0aGlzLnRyZWVEYXRhID0gW1xyXG4gICAgICAgIHtcclxuICAgICAgICAgIGRhdGE6XHJcbiAgICAgICAgICB7XHJcbiAgICAgICAgICAgIFwiaWRcIjogMSwgICAgICAgICAgICAgICAgICAgIC8v5qCR5b2i57uT5p6E5Lit5q+P5Liq6IqC54K555qEaWRcclxuICAgICAgICAgICAgXCJpdGVtXCI6IG51bGwsICAgICAgICAgICAgICAgLy/lsZ7mgKfpoblcclxuICAgICAgICAgICAgXCJwcm9wZXJ0eURhdGFUeXBlXCI6bnVsbCwgICAgLy/lsZ7mgKfmlbDmja7nsbvlnotcclxuICAgICAgICAgICAgXCJvcGVyYXRvclwiOiBudWxsLCAgICAgICAgICAgLy/mk43kvZzmr5TovoPnrKZcclxuICAgICAgICAgICAgXCJleHByZXNzVHlwZVwiOiBudWxsLCAgICAgICAgLy/ooajovr7lvI/nsbvlnotcclxuICAgICAgICAgICAgXCJ2YWx1ZVwiOiBudWxsLCAgICAgICAgICAgICAgLy/lgLxcclxuICAgICAgICAgICAgXCJkaXNwbGF5U2VsZWN0XCI6ZmFsc2UsICAgICAgLy/pgInmi6npobnmmL7npLpcclxuICAgICAgICAgICAgXCJkaXNwbGF5T3BlcmF0b3JcIjogZmFsc2UsICAgLy/mk43kvZznrKbpobnmmL7npLpcclxuICAgICAgICAgICAgXCJkaXNwbGF5RXhwcmVzc1R5cGVcIjogZmFsc2UsLy/ooajovr7lvI/nsbvlnovmmL7npLpcclxuICAgICAgICAgICAgXCJkaXNwbGF5VmFsdWVcIjogZmFsc2UsICAgICAgLy/lgLzmmL7npLpcclxuICAgICAgICAgICAgXCJwYXJlbnRJdGVtXCI6bnVsbCAgICAgICAgICAgLy/niLbpoblcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICBjaGlsZHJlbjogW10sICAgICAgICAgICAgICAgICAvL+WtkOiKgueCuembhuWQiFxyXG4gICAgICAgICAgZXhwYW5kZWQ6IHRydWUgICAgICAgICAgICAgICAgLy/mmK/lkKblsZXlvIBcclxuICAgICAgICB9XHJcbiAgICAgIF07XHJcbiAgICB9XHJcbiAgICBlbHNlIFxyXG4gICAge1xyXG4gICAgICB0aGlzLmZpbHRlckV4cHJlc3Npb25QcmUgPSBKU09OLnBhcnNlKHRoaXMuZmlsdGVyRXhwcmVzc2lvblN0cmluZyk7XHJcbiAgICAgIHRoaXMudHJlZURhdGEgPSBbXTtcclxuICAgICAgdGhpcy50cmVlRGF0YS5wdXNoKHRoaXMudW5Db252ZXJ0KHRoaXMuZmlsdGVyRXhwcmVzc2lvblByZSkpO1xyXG4gICAgICB0aGlzLnRyZWVEYXRhWzBdLmRhdGEuaWQgPSAxO1xyXG4gICAgfVxyXG4gIH1cclxuICAgLyoq5Y+W5raIICovXHJcbiAgIGNhbmNsZSgpXHJcbiAgIHtcclxuICAgICB0aGlzLmNsb3NlZC5lbWl0KFwiY2xvc2VcIik7XHJcbiAgIH1cclxuICAvKipcclxuICAgKiDlhbPpl63nqpflj6NcclxuICAgKi9cclxuICBjbG9zZSgpIHtcclxuICAgIGlmICh0aGlzLmlzRWRpdGVkID09IHRydWUpIHtcclxuICAgICAgLy/oi6Xlj6rljIXlkKvlhbPns7vpobnliJnov5Tlm57nqbpcclxuICAgICAgaWYodGhpcy5maWx0ZXJFeHByZXNzaW9uLmV4cHJlc3NJdGVtcy5sZW5ndGg9PTApIHRoaXMucmVzdWx0Lm5leHQobnVsbCk7XHJcbiAgICAgIC8v6Iul5pyA5ZCO5LiA5qyh54K55LqG56Gu5a6a77yM5YiZ5bCG6L+H5ruk6KGo6L6+5byPSlNPTuW6j+WIl+WMlui+k+WHulxyXG4gICAgICBlbHNlIHRoaXMucmVzdWx0Lm5leHQoSlNPTi5zdHJpbmdpZnkodGhpcy5maWx0ZXJFeHByZXNzaW9uKSk7XHJcbiAgICB9XHJcbiAgICAvL+iLpeacqueCueehruWumu+8jOm7mOiupOaXoOS7u+S9lee8lui+keaWh+acrO+8jOWImei+k+WHuuepuuS4slxyXG4gICAgZWxzZSB0aGlzLnJlc3VsdC5uZXh0KHRoaXMuZmlsdGVyRXhwcmVzc2lvblN0cmluZyk7XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIOWwhnRyZWVEYXRh6L2s5YyW5Li6ZmlsZXRyRXhwcmVzc2lvbuWunuS9k1xyXG4gICAqIEBwYXJhbSBmaWx0ZXJFeHByZXNzaW9uIOi/h+a7pOihqOi+vuW8j+WunuS9k1xyXG4gICAqIEBwYXJhbSB0cmVlTm9kZSDmnIDlpJblsYLnmoR0cmVlTm9kZVxyXG4gICAqL1xyXG4gIGNvbnZlcnQoZmlsdGVyRXhwcmVzc2lvbjogRmlsdGVyRXhwcmVzc2lvbiwgdHJlZU5vZGU6IFRyZWVOb2RlKTogRmlsdGVyRXhwcmVzc2lvbiB7XHJcbiAgICAvL+W+l+WIsOacgOWkluWxgueahOWFs+ezu+esplxyXG4gICAgZmlsdGVyRXhwcmVzc2lvbi5yZWxhdGlvbk9wZXJhdG9yID0gdGhpcy50eXBlTWF0Y2godHJlZU5vZGUuZGF0YS5pdGVtKTtcclxuICAgIC8v6Iul5YW25a2Q6aG55LiN5Li656m6XHJcbiAgICBpZiAodHJlZU5vZGUuY2hpbGRyZW4ubGVuZ3RoICE9IDApIHtcclxuICAgICAgLy/lr7nlhbbmr4/kuIDkuKrlrZDpobnov5vooYzovazljJbmk43kvZxcclxuICAgICAgdHJlZU5vZGUuY2hpbGRyZW4uZm9yRWFjaCh0cmVlTm9kZUl0ZW0gPT4ge1xyXG4gICAgICAgIC8v6Iul5a2Q6aG55Li65bm25LiU44CB5oiW6ICF77yM5YiZ5paw5bu65aSN5p2C6L+H5ruk6KGo6L6+5byPXHJcbiAgICAgICAgaWYgKHRoaXMudHlwZU1hdGNoKHRyZWVOb2RlSXRlbS5kYXRhLml0ZW0pID09IFJlbGF0aW9uVHlwZUVudW0uQW5kIHx8XHJcbiAgICAgICAgICB0aGlzLnR5cGVNYXRjaCh0cmVlTm9kZUl0ZW0uZGF0YS5pdGVtKSA9PSBSZWxhdGlvblR5cGVFbnVtLk9yKSB7XHJcbiAgICAgICAgICBsZXQgZmlsdGVyRXhwcmVzc2lvbkl0ZW0gPSBuZXcgRmlsdGVyRXhwcmVzc2lvbigpO1xyXG4gICAgICAgICAgZmlsdGVyRXhwcmVzc2lvbi5leHByZXNzSXRlbXMucHVzaCh0aGlzLmNvbnZlcnQoZmlsdGVyRXhwcmVzc2lvbkl0ZW0sIHRyZWVOb2RlSXRlbSkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvL+iLpeWtkOmhueS4uuWxnuaAp+ihqOi+vuW8j1xyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgbGV0IGZpbHRlckl0ZW0gPSBuZXcgRXhwcmVzc2lvbkl0ZW0oKTtcclxuICAgICAgICAgIC8v5qC55o2u5bGe5oCn5ZCN5bGV56S65YC85om+5Yiw5YW25Zyo6aKE572u5YiX6KGo5Lit55qE6K+t5LmJ5YyW5YC877yM5bCG6K+t5LmJ5YyW5YC86LWL57uZ5a6e5L2T5L+d5a2YXHJcbiAgICAgICAgICBsZXQgcHJvcGVydGllcyA9IHRoaXMucHJvcGVydHlMaXN0LmZpbHRlcih4ID0+IHgudGV4dCA9PSB0cmVlTm9kZUl0ZW0uZGF0YS5pdGVtKTtcclxuICAgICAgICAgIGZpbHRlckl0ZW0ucHJvcGVydHlOYW1lID0gcHJvcGVydGllc1swXS52YWx1ZTtcclxuICAgICAgICAgIGZpbHRlckl0ZW0ucHJvcGVydHlEYXRhVHlwZSA9IHRyZWVOb2RlSXRlbS5kYXRhLnByb3BlcnR5RGF0YVR5cGU7XHJcbiAgICAgICAgICBmaWx0ZXJJdGVtLm9wZXJhdG9yID0gdGhpcy50eXBlTWF0Y2godHJlZU5vZGVJdGVtLmRhdGEub3BlcmF0b3IpO1xyXG4gICAgICAgICAgZmlsdGVySXRlbS5leHByZXNzVHlwZSA9IHRoaXMudHlwZU1hdGNoKHRyZWVOb2RlSXRlbS5kYXRhLmV4cHJlc3NUeXBlKTtcclxuICAgICAgICAgIGZpbHRlckl0ZW0udmFsdWUgPSB0cmVlTm9kZUl0ZW0uZGF0YS52YWx1ZTtcclxuICAgICAgICAgIGZpbHRlckl0ZW0ucGFyZW50SXRlbSA9IHRyZWVOb2RlSXRlbS5kYXRhLnBhcmVudEl0ZW07XHJcbiAgICAgICAgICAvL+iLpeS4uuaVsOWAvOWei+avlOi+g++8jOWImeWwhnZhbHVl5YC85by65Yi26L2s5o2i5Li65pWw5a2XXHJcbiAgICAgICAgICBpZiAoZmlsdGVySXRlbS5leHByZXNzVHlwZSA9PSBFeHByZXNzVHlwZUVudW0uVmFsdWUgJiZcclxuICAgICAgICAgICAgKGZpbHRlckl0ZW0ub3BlcmF0b3IgPT0gQ29tcGFyZVR5cGVFbnVtLkdyZWF0ZXJUaGFuXHJcbiAgICAgICAgICAgICAgfHwgZmlsdGVySXRlbS5vcGVyYXRvciA9PSBDb21wYXJlVHlwZUVudW0uR3JlYXRlclRoYW5PckVxdWFsXHJcbiAgICAgICAgICAgICAgfHwgZmlsdGVySXRlbS5vcGVyYXRvciA9PSBDb21wYXJlVHlwZUVudW0uTGVzc1RoYW5cclxuICAgICAgICAgICAgICB8fCBmaWx0ZXJJdGVtLm9wZXJhdG9yID09IENvbXBhcmVUeXBlRW51bS5MZXNzVGhhbk9yRXF1YWxcclxuICAgICAgICAgICAgKSkge1xyXG4gICAgICAgICAgICBmaWx0ZXJJdGVtLnZhbHVlID0gTnVtYmVyKHRyZWVOb2RlSXRlbS5kYXRhLnZhbHVlKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGlmIChmaWx0ZXJJdGVtLmV4cHJlc3NUeXBlID09IEV4cHJlc3NUeXBlRW51bS5WYWx1ZSAmJlxyXG4gICAgICAgICAgICAoZmlsdGVySXRlbS5vcGVyYXRvciA9PSBDb21wYXJlVHlwZUVudW0uRXF1YWxcclxuICAgICAgICAgICAgICB8fCBmaWx0ZXJJdGVtLm9wZXJhdG9yID09IENvbXBhcmVUeXBlRW51bS5Ob3RFcXVhbCkpIHtcclxuICAgICAgICAgICAgaWYoZmlsdGVySXRlbS5wcm9wZXJ0eURhdGFUeXBlID09IFByb3BlcnR5RGF0YVR5cGUuRGVjaW1hbCBcclxuICAgICAgICAgICAgICB8fCBmaWx0ZXJJdGVtLnByb3BlcnR5RGF0YVR5cGUgPT0gUHJvcGVydHlEYXRhVHlwZS5Eb3VibGVcclxuICAgICAgICAgICAgICB8fCBmaWx0ZXJJdGVtLnByb3BlcnR5RGF0YVR5cGUgPT0gUHJvcGVydHlEYXRhVHlwZS5JbnQxNlxyXG4gICAgICAgICAgICAgIHx8IGZpbHRlckl0ZW0ucHJvcGVydHlEYXRhVHlwZSA9PSBQcm9wZXJ0eURhdGFUeXBlLkludDMyXHJcbiAgICAgICAgICAgICAgfHwgZmlsdGVySXRlbS5wcm9wZXJ0eURhdGFUeXBlID09IFByb3BlcnR5RGF0YVR5cGUuSW50NjQgKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgZmlsdGVySXRlbS52YWx1ZSA9IE51bWJlcih0cmVlTm9kZUl0ZW0uZGF0YS52YWx1ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICAgIC8v5bCG5a2Q6aG55pS+5YWl54i26aG555qE5a2X5q615LitXHJcbiAgICAgICAgICBmaWx0ZXJFeHByZXNzaW9uLmV4cHJlc3NJdGVtcy5wdXNoKGZpbHRlckl0ZW0pO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZmlsdGVyRXhwcmVzc2lvbjtcclxuICB9XHJcbiAgLyoqXHJcbiAgICogZmlsZXRyRXhwcmVzc2lvbuWPjei9rOWMluS4ulRyZWVOb2RlXHJcbiAgICogQHBhcmFtIGZpbHRlckV4cHJlc3Mg5b6F6L2s5YyW55qEZmlsZXRyRXhwcmVzc2lvbuWunuS9k1xyXG4gICAqL1xyXG4gIHVuQ29udmVydChmaWx0ZXJFeHByZXNzOiBGaWx0ZXJFeHByZXNzaW9uKTogVHJlZU5vZGUge1xyXG4gICAgbGV0IHRyZWVEYXRhOiBUcmVlTm9kZSA9XHJcbiAgICB7XHJcbiAgICAgIGRhdGE6XHJcbiAgICAgIHtcclxuICAgICAgICBcImlkXCI6IE1hdGgucmFuZG9tKCksICAgICAgICAvL+agkeW9oue7k+aehOS4reavj+S4quiKgueCueeahGlkXHJcbiAgICAgICAgXCJpdGVtXCI6IHRoaXMucmVsYXRpb25UeXBlUmV2ZXJzZU1hdGNoKGZpbHRlckV4cHJlc3MucmVsYXRpb25PcGVyYXRvciksIC8v5bGe5oCn6aG5XHJcbiAgICAgICAgXCJwcm9wZXJ0eURhdGFUeXBlXCI6bnVsbCwgICAgLy/lsZ7mgKfmlbDmja7nsbvlnotcclxuICAgICAgICBcIm9wZXJhdG9yXCI6IG51bGwsICAgICAgICAgICAvL+aTjeS9nOavlOi+g+esplxyXG4gICAgICAgIFwiZXhwcmVzc1R5cGVcIjogbnVsbCwgICAgICAgIC8v6KGo6L6+5byP57G75Z6LXHJcbiAgICAgICAgXCJ2YWx1ZVwiOiBudWxsLCAgICAgICAgICAgICAgLy/lgLxcclxuICAgICAgICBcImRpc3BsYXlTZWxlY3RcIjpmYWxzZSwgICAgICAvL+mAieaLqemhueaYvuekulxyXG4gICAgICAgIFwiZGlzcGxheU9wZXJhdG9yXCI6IGZhbHNlLCAgIC8v5pON5L2c56ym6aG55pi+56S6XHJcbiAgICAgICAgXCJkaXNwbGF5RXhwcmVzc1R5cGVcIjogZmFsc2UsLy/ooajovr7lvI/nsbvlnovmmL7npLpcclxuICAgICAgICBcImRpc3BsYXlWYWx1ZVwiOiBmYWxzZSwgICAgICAvL+WAvOaYvuekulxyXG4gICAgICAgIFwicGFyZW50SXRlbVwiOm51bGwgICAgICAgICAgIC8v54i26aG5XHJcbiAgICAgIH0sXHJcbiAgICAgIGNoaWxkcmVuOiBbXSwgICAgICAgICAgICAgICAgIC8v5a2Q6IqC54K56ZuG5ZCIXHJcbiAgICAgIGV4cGFuZGVkOiB0cnVlICAgICAgICAgICAgICAgIC8v5piv5ZCm5bGV5byAXHJcbiAgICB9O1xyXG4gICAgLy/lr7nkuo7mr4/kuIDkuKrlrZDpoblcclxuICAgIGZpbHRlckV4cHJlc3MuZXhwcmVzc0l0ZW1zLmZvckVhY2goZXhwcmVzc0l0ZW0gPT4ge1xyXG4gICAgICBsZXQgZmlsdGVyRXhwcmVzc0l0ZW0gPSBleHByZXNzSXRlbSBhcyBGaWx0ZXJFeHByZXNzaW9uO1xyXG4gICAgICAvL+iLpeWtkOmhueS4ukZpbHRlckV4cHJlc3Npb27nsbvlnovvvIzotYvlgLxcclxuICAgICAgaWYgKChmaWx0ZXJFeHByZXNzSXRlbS5yZWxhdGlvbk9wZXJhdG9yID09IFJlbGF0aW9uVHlwZUVudW0uQW5kIHx8IGZpbHRlckV4cHJlc3NJdGVtLnJlbGF0aW9uT3BlcmF0b3IgPT0gUmVsYXRpb25UeXBlRW51bS5PcikpIFxyXG4gICAgICB7XHJcbiAgICAgICAgbGV0IHRyZWVEYXRhQ2hpbGQgPSB0aGlzLnVuQ29udmVydChmaWx0ZXJFeHByZXNzSXRlbSk7XHJcbiAgICAgICAgdHJlZURhdGFDaGlsZC5kYXRhLnBhcmVudCA9IHRyZWVEYXRhOy8v5re75Yqg54i26IqC54K5XHJcbiAgICAgICAgdHJlZURhdGEuY2hpbGRyZW4ucHVzaCh0cmVlRGF0YUNoaWxkKTtcclxuICAgICAgfVxyXG4gICAgICBlbHNlIC8v6Iul5a2Q6aG55Li6RXhwcmVzc2lvbkl0ZW3nsbvlnovvvIzotYvlgLxcclxuICAgICAge1xyXG4gICAgICAgIGxldCBleHByZXNzaW9uSXRlbSA9IGV4cHJlc3NJdGVtIGFzIEV4cHJlc3Npb25JdGVtO1xyXG4gICAgICAgIGxldCBwcm9wZXJ0aWVzID0gdGhpcy5wcm9wZXJ0eUxpc3QuZmlsdGVyKHggPT4geC52YWx1ZSA9PSBleHByZXNzaW9uSXRlbS5wcm9wZXJ0eU5hbWUpO1xyXG4gICAgICAgIGxldCB0cmVlRGF0YUNoaWxkOlRyZWVOb2RlID1cclxuICAgICAgICB7XHJcbiAgICAgICAgICBkYXRhOlxyXG4gICAgICAgICAge1xyXG4gICAgICAgICAgICBcImlkXCI6IE1hdGgucmFuZG9tKCksICAgICAgICAgICAgICAgICAgICAgIC8v5qCR5b2i57uT5p6E5Lit5q+P5Liq6IqC54K555qEaWRcclxuICAgICAgICAgICAgXCJpdGVtXCI6IHByb3BlcnRpZXNbMF0udGV4dCwgICAgICAgICAgICAgICAvL+WxnuaAp+mhuVxyXG4gICAgICAgICAgICBcInByb3BlcnR5RGF0YVR5cGVcIjpleHByZXNzaW9uSXRlbS5wcm9wZXJ0eURhdGFUeXBlLCAgICAgICAgICAgICAgICAgIC8v5bGe5oCn5pWw5o2u57G75Z6LXHJcbiAgICAgICAgICAgIFwib3BlcmF0b3JcIjogdGhpcy5vcGVyYXRvclJldmVyc2VNYXRjaChleHByZXNzaW9uSXRlbS5vcGVyYXRvciksICAgICAgLy/mk43kvZzmr5TovoPnrKZcclxuICAgICAgICAgICAgXCJleHByZXNzVHlwZVwiOiB0aGlzLmV4cHJlc3NUeXBlUmV2ZXJzZU1hdGNoKGV4cHJlc3Npb25JdGVtLmV4cHJlc3NUeXBlKSwvL+ihqOi+vuW8j+exu+Wei1xyXG4gICAgICAgICAgICBcInZhbHVlXCI6IGV4cHJlc3Npb25JdGVtLnZhbHVlLCAgICAgICAgICAgIC8v5YC8XHJcbiAgICAgICAgICAgIFwicGFyZW50SXRlbVwiOmV4cHJlc3Npb25JdGVtLnBhcmVudEl0ZW0gICAgLy/niLbpoblcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICBwYXJlbnQ6IHRyZWVEYXRhLCAgICAgICAgICAgICAvL+a3u+WKoOeItuiKgueCuVxyXG4gICAgICAgICAgY2hpbGRyZW46IFtdLCAgICAgICAgICAgICAgICAgLy/lrZDoioLngrnpm4blkIhcclxuICAgICAgICAgIGV4cGFuZGVkOiB0cnVlICAgICAgICAgICAgICAgIC8v5piv5ZCm5bGV5byAXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRyZWVEYXRhLmNoaWxkcmVuLnB1c2godHJlZURhdGFDaGlsZCk7IFxyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICAgIHJldHVybiB0cmVlRGF0YTtcclxuICB9XHJcbiAgLyoqKlxyXG4gICAqIOa3u+WKoOadoeS7tumhuVxyXG4gICAqL1xyXG4gIGFkZEl0ZW0oKVxyXG4gIHtcclxuICAgIHRoaXMuZGVmYXVsdFNlbGVjdEl0ZW0gPSB0aGlzLmxvY2FsZVBpcGUudHJhbnNmb3JtKFwiU2VsZWN0SXRlbVwiKTtcclxuICAgIHRoaXMuaGlkZU5vZGVFZGl0b3IodGhpcy50cmVlRGF0YSk7XHJcbiAgICB0aGlzLmFkZE5vZGUodGhpcy50cmVlRGF0YSwgdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcIlNlbGVjdFByb3BlcnR5XCIpLHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oXCJFcXVhbFwiKSx0aGlzLmxvY2FsZVBpcGUudHJhbnNmb3JtKFwiVmFsdWVcIikpO1xyXG4gIH1cclxuICAvKioqXHJcbiAgICog5re75Yqg5p2h5Lu257uEXHJcbiAgICovXHJcbiAgYWRkR3JvdXAoKVxyXG4gIHtcclxuICAgIHRoaXMuYWRkTm9kZSh0aGlzLnRyZWVEYXRhLHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oXCJBbmRcIiksbnVsbCxudWxsKTtcclxuICB9XHJcbiAgLyoqXHJcbiAgICog57G75Z6L5L+h5oGv5Yy56YWNXHJcbiAgICogQHBhcmFtIHR5cGUg57G75Z6LXHJcbiAgICovXHJcbiAgdHlwZU1hdGNoKHR5cGU6IGFueSk6IGFueSB7XHJcbiAgICBzd2l0Y2ggKHR5cGUpIHtcclxuICAgICAgY2FzZSB0aGlzLmxvY2FsZVBpcGUudHJhbnNmb3JtKFwiQW5kXCIpOiByZXR1cm4gUmVsYXRpb25UeXBlRW51bS5BbmQ7XHJcbiAgICAgIGNhc2UgdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcIk9yXCIpOiByZXR1cm4gUmVsYXRpb25UeXBlRW51bS5PcjtcclxuICAgICAgY2FzZSB0aGlzLmxvY2FsZVBpcGUudHJhbnNmb3JtKFwiR3JlYXRlclRoYW5cIik6IHJldHVybiBDb21wYXJlVHlwZUVudW0uR3JlYXRlclRoYW47XHJcbiAgICAgIGNhc2UgdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcIkdyZWF0ZXJUaGFuT3JFcXVhbFwiKTogcmV0dXJuIENvbXBhcmVUeXBlRW51bS5HcmVhdGVyVGhhbk9yRXF1YWw7XHJcbiAgICAgIGNhc2UgdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcIkxlc3NUaGFuXCIpOiByZXR1cm4gQ29tcGFyZVR5cGVFbnVtLkxlc3NUaGFuO1xyXG4gICAgICBjYXNlIHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oXCJMZXNzVGhhbk9yRXF1YWxcIik6IHJldHVybiBDb21wYXJlVHlwZUVudW0uTGVzc1RoYW5PckVxdWFsO1xyXG4gICAgICBjYXNlIHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oXCJFcXVhbFwiKTogcmV0dXJuIENvbXBhcmVUeXBlRW51bS5FcXVhbDtcclxuICAgICAgY2FzZSB0aGlzLmxvY2FsZVBpcGUudHJhbnNmb3JtKFwiTm90RXF1YWxcIik6IHJldHVybiBDb21wYXJlVHlwZUVudW0uTm90RXF1YWw7XHJcbiAgICAgIGNhc2UgdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcIkNvbnRhaW5zXCIpOiByZXR1cm4gQ29tcGFyZVR5cGVFbnVtLkNvbnRhaW5zO1xyXG4gICAgICBjYXNlIHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oXCJOb3RDb250YWluc1wiKTogcmV0dXJuIENvbXBhcmVUeXBlRW51bS5Ob3RDb250YWlucztcclxuICAgICAgY2FzZSB0aGlzLmxvY2FsZVBpcGUudHJhbnNmb3JtKFwiU3RhcnRzV2l0aFwiKTogcmV0dXJuIENvbXBhcmVUeXBlRW51bS5TdGFydHNXaXRoO1xyXG4gICAgICBjYXNlIHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oXCJFbmRzV2l0aFwiKTogcmV0dXJuIENvbXBhcmVUeXBlRW51bS5FbmRzV2l0aDtcclxuICAgICAgY2FzZSB0aGlzLmxvY2FsZVBpcGUudHJhbnNmb3JtKFwiTm90U3RhcnRzV2l0aFwiKTogcmV0dXJuIENvbXBhcmVUeXBlRW51bS5Ob3RTdGFydHNXaXRoO1xyXG4gICAgICBjYXNlIHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oXCJOb3RFbmRzV2l0aFwiKTogcmV0dXJuIENvbXBhcmVUeXBlRW51bS5Ob3RFbmRzV2l0aDtcclxuICAgICAgY2FzZSB0aGlzLmxvY2FsZVBpcGUudHJhbnNmb3JtKFwiSXNOdWxsXCIpOiByZXR1cm4gQ29tcGFyZVR5cGVFbnVtLklzTnVsbDtcclxuICAgICAgY2FzZSB0aGlzLmxvY2FsZVBpcGUudHJhbnNmb3JtKFwiSXNOb3ROdWxsXCIpOiByZXR1cm4gQ29tcGFyZVR5cGVFbnVtLklzTm90TnVsbDtcclxuICAgICAgY2FzZSB0aGlzLmxvY2FsZVBpcGUudHJhbnNmb3JtKFwiSW5cIik6IHJldHVybiBDb21wYXJlVHlwZUVudW0uSW47XHJcbiAgICAgIGNhc2UgdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcIk5vdEluXCIpOiByZXR1cm4gQ29tcGFyZVR5cGVFbnVtLk5vdEluO1xyXG4gICAgICBjYXNlIHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oXCJWYWx1ZVwiKTogcmV0dXJuIEV4cHJlc3NUeXBlRW51bS5WYWx1ZTtcclxuICAgICAgY2FzZSB0aGlzLmxvY2FsZVBpcGUudHJhbnNmb3JtKFwiRXhwcmVzc2lvblwiKTogcmV0dXJuIEV4cHJlc3NUeXBlRW51bS5FeHByZXNzaW9uO1xyXG4gICAgfVxyXG4gIH1cclxuICByZWxhdGlvblR5cGVSZXZlcnNlTWF0Y2godHlwZTogUmVsYXRpb25UeXBlRW51bSk6IHN0cmluZyB7XHJcbiAgICBzd2l0Y2ggKHR5cGUpIHtcclxuICAgICAgY2FzZSBSZWxhdGlvblR5cGVFbnVtLkFuZDogcmV0dXJuIHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oXCJBbmRcIikgO1xyXG4gICAgICBjYXNlIFJlbGF0aW9uVHlwZUVudW0uT3I6IHJldHVybiB0aGlzLmxvY2FsZVBpcGUudHJhbnNmb3JtKFwiT3JcIik7XHJcbiAgICB9XHJcbiAgfVxyXG4gIG9wZXJhdG9yUmV2ZXJzZU1hdGNoKHR5cGU6IENvbXBhcmVUeXBlRW51bSk6IHN0cmluZ1xyXG4gIHtcclxuICAgIHN3aXRjaCAodHlwZSkge1xyXG4gICAgICBjYXNlIENvbXBhcmVUeXBlRW51bS5HcmVhdGVyVGhhbjogcmV0dXJuIHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oXCJHcmVhdGVyVGhhblwiKTtcclxuICAgICAgY2FzZSBDb21wYXJlVHlwZUVudW0uR3JlYXRlclRoYW5PckVxdWFsOiByZXR1cm4gdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcIkdyZWF0ZXJUaGFuT3JFcXVhbFwiKTtcclxuICAgICAgY2FzZSBDb21wYXJlVHlwZUVudW0uTGVzc1RoYW46IHJldHVybiB0aGlzLmxvY2FsZVBpcGUudHJhbnNmb3JtKFwiTGVzc1RoYW5cIik7XHJcbiAgICAgIGNhc2UgQ29tcGFyZVR5cGVFbnVtLkxlc3NUaGFuT3JFcXVhbDogcmV0dXJuIHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oXCJMZXNzVGhhbk9yRXF1YWxcIik7XHJcbiAgICAgIGNhc2UgQ29tcGFyZVR5cGVFbnVtLkVxdWFsOiByZXR1cm4gdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcIkVxdWFsXCIpO1xyXG4gICAgICBjYXNlIENvbXBhcmVUeXBlRW51bS5Ob3RFcXVhbDogcmV0dXJuIHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oXCJOb3RFcXVhbFwiKTtcclxuICAgICAgY2FzZSBDb21wYXJlVHlwZUVudW0uQ29udGFpbnM6IHJldHVybiB0aGlzLmxvY2FsZVBpcGUudHJhbnNmb3JtKFwiQ29udGFpbnNcIik7XHJcbiAgICAgIGNhc2UgQ29tcGFyZVR5cGVFbnVtLk5vdENvbnRhaW5zOiByZXR1cm4gdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcIk5vdENvbnRhaW5zXCIpO1xyXG4gICAgICBjYXNlIENvbXBhcmVUeXBlRW51bS5TdGFydHNXaXRoOiByZXR1cm4gdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcIlN0YXJ0c1dpdGhcIik7XHJcbiAgICAgIGNhc2UgQ29tcGFyZVR5cGVFbnVtLkVuZHNXaXRoOiByZXR1cm4gdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcIkVuZHNXaXRoXCIpO1xyXG4gICAgICBjYXNlIENvbXBhcmVUeXBlRW51bS5Ob3RTdGFydHNXaXRoOiByZXR1cm4gdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcIk5vdFN0YXJ0c1dpdGhcIik7XHJcbiAgICAgIGNhc2UgQ29tcGFyZVR5cGVFbnVtLk5vdEVuZHNXaXRoOiByZXR1cm4gdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcIk5vdEVuZHNXaXRoXCIpO1xyXG4gICAgICBjYXNlIENvbXBhcmVUeXBlRW51bS5Jc051bGw6IHJldHVybiB0aGlzLmxvY2FsZVBpcGUudHJhbnNmb3JtKFwiSXNOdWxsXCIpO1xyXG4gICAgICBjYXNlIENvbXBhcmVUeXBlRW51bS5Jc05vdE51bGw6IHJldHVybiB0aGlzLmxvY2FsZVBpcGUudHJhbnNmb3JtKFwiSXNOb3ROdWxsXCIpO1xyXG4gICAgICBjYXNlIENvbXBhcmVUeXBlRW51bS5JbjogcmV0dXJuIHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oXCJJblwiKTtcclxuICAgICAgY2FzZSBDb21wYXJlVHlwZUVudW0uTm90SW46IHJldHVybiB0aGlzLmxvY2FsZVBpcGUudHJhbnNmb3JtKFwiTm90SW5cIik7XHJcbiAgICB9XHJcbiAgfVxyXG4gIGV4cHJlc3NUeXBlUmV2ZXJzZU1hdGNoKHR5cGU6IEV4cHJlc3NUeXBlRW51bSk6IHN0cmluZ1xyXG4gIHtcclxuICAgIHN3aXRjaCAodHlwZSkge1xyXG4gICAgICBjYXNlIEV4cHJlc3NUeXBlRW51bS5WYWx1ZTogcmV0dXJuIHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oXCJWYWx1ZVwiKTtcclxuICAgICAgY2FzZSBFeHByZXNzVHlwZUVudW0uRXhwcmVzc2lvbjogcmV0dXJuIHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oXCJFeHByZXNzaW9uXCIpO1xyXG4gICAgfVxyXG4gIH1cclxuICBvbmZvY3VzKClcclxue1xyXG4gIHRoaXMuZGlzcGxheVBvcHVwID0gdHJ1ZTtcclxufVxyXG5vbmJsdXIoKVxyXG57XHJcbiAgdGhpcy5kaXNwbGF5UG9wdXAgPSBmYWxzZTtcclxufVxyXG5cclxuY2hlY2tNYXRjaCh0cmVlTm9kZXM6IFRyZWVOb2RlW10saXNNYXRjaDogYm9vbGVhbilcclxue1xyXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgdHJlZU5vZGVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICBpZiAodHJlZU5vZGVzW2ldLmRhdGEuaXRlbSAhPSB0aGlzLmxvY2FsZVBpcGUudHJhbnNmb3JtKFwiQW5kXCIpICYmIHRyZWVOb2Rlc1tpXS5kYXRhLml0ZW0gIT0gdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcIk9yXCIpKSB7XHJcbiAgICAgIGlmICh0cmVlTm9kZXNbaV0uZGF0YS5leHByZXNzVHlwZT09dGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcIlZhbHVlXCIpKXtcclxuICAgICAgICBpZigodHJlZU5vZGVzW2ldLmRhdGEucHJvcGVydHlEYXRhVHlwZT09UHJvcGVydHlEYXRhVHlwZS5JbnQxNiB8fCB0cmVlTm9kZXNbaV0uZGF0YS5wcm9wZXJ0eURhdGFUeXBlPT1Qcm9wZXJ0eURhdGFUeXBlLkludDMyIHx8IHRyZWVOb2Rlc1tpXS5kYXRhLnByb3BlcnR5RGF0YVR5cGU9PVByb3BlcnR5RGF0YVR5cGUuSW50NjQpICYmIGlzTmFOKHRyZWVOb2Rlc1tpXS5kYXRhLnZhbHVlKSl7XHJcbiAgICAgICAgICB0aGlzLm5vdGlmeXNlcnZpY2VbdGhpcy5ub3RpZmllc1snNSddLnR5cGVdKHtcclxuICAgICAgICAgICAgbXNnOiB0aGlzLm5vdGlmaWVzWyc1J10ubXNnXHJcbiAgICAgICAgICB9KTsgIFxyXG4gICAgICAgICAgaXNNYXRjaCA9IGZhbHNlO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuICBlbHNlIGlzTWF0Y2ggPSB0aGlzLmNoZWNrTWF0Y2godHJlZU5vZGVzW2ldLmNoaWxkcmVuLGlzTWF0Y2gpO1xyXG59XHJcbnJldHVybiBpc01hdGNoO1xyXG59XHJcbn1cclxuIl19