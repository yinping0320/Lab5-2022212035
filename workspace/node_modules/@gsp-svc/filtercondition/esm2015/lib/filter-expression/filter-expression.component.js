/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { Component, ViewChild, Input, ViewEncapsulation, LOCALE_ID, Inject, Injector } from '@angular/core';
import { TreeTableComponent } from '@farris/ui-treetable';
import { FilterExpression, ExpressionItem } from '../filter-expression-entity';
import { ExpressTypeEnum, RelationTypeEnum, CompareTypeEnum } from '../typeinfo';
import { ExpressionService } from '@gsp-svc/expression';
import { PropertyDataType } from '../property-entity';
import { FilterInjectedEntity } from '../injected-entity';
import { PropertyAdapter } from '../property-adapter';
import { FilterEntitySchema } from '../schema';
import { GSPCommonObject } from '@gsp-bef/gsp-cm-metadata';
import { Adapter } from '../adapter';
import { NotifyService } from '@farris/ui-notify';
import { FilterConditionLocalePipe } from '../filter-condition-locale.pipe';
import { NewSchema } from '../NewSchema';
/**
 * 过滤条件面板逻辑类
 */
export class FilterExpressionComponent {
    /**
     * @param {?} expr
     * @param {?} propertyAdapter
     * @param {?} notifyservice
     * @param {?} injector
     * @param {?} localeId
     */
    constructor(expr, propertyAdapter, notifyservice, injector, localeId) {
        this.expr = expr;
        this.propertyAdapter = propertyAdapter;
        this.notifyservice = notifyservice;
        this.injector = injector;
        //预置计算表达式上下文实体
        this.contextEntity = [];
        //预置计算默认表达式显示
        this.expressionText = "";
        //预置计算表达式中的schema
        this.expressionSchema = [];
        //预置计算表达式中的注入实体
        this.expressionInjectedEntities = [];
        //预置计算表达式cdt集
        this.expressionCDT = [];
        //预置属性列表
        this.propertyList = [];
        //预置过滤表达式串
        this.filterExpressionString = null;
        //schema存储结构
        this.filterNewSchemaMap = new Map();
        this.disabled = false;
        //内部属性列表使用
        this.propertyListInner = [];
        //操作比较符集
        this.operators = [];
        this.stringOperators = [];
        this.NumberOperators = [];
        //关系集
        this.relations = [];
        //表达式类型集
        this.expressTypes = [];
        this.displayPopup = false;
        //检查过滤条件实体是否完整正确
        this.checkFilterStruc = true;
        //schema存储结构
        this.filterSchemaMap = new Map();
        this.adapter = new Adapter();
        this.treeData = [];
        this.columnWidth = ["30%", "20%", "20%", "20%", "10%"];
        //消息提示
        this.notifies = {};
        this.localePipe = new FilterConditionLocalePipe(localeId);
    }
    //初始化，复制treeData值,treeDataTemp用于转换为FilterExpression实体
    /**
     * @return {?}
     */
    ngOnChanges() {
        //并且树形表绑定的显示的列 
        this.cols = [
            { field: 'item', title: this.localePipe.transform("Item"), width: 271 },
            { field: 'operator', title: this.localePipe.transform("Operator"), width: 191 },
            { field: 'expressType', title: this.localePipe.transform("ExpressType"), width: 180 },
            { field: 'value', title: this.localePipe.transform("Value"), width: 214 },
            { field: 'operation', title: this.localePipe.transform("Operation"), width: 130 }
        ];
        this.propertyListInner = [];
        this.treeDataTemp = this.treeData;
        //=================================分割线之NewSchema====================================
        //注入NewSchema
        if (this.schemaName && this.newSchema) {
            this.addNewSchema(this.schemaName, this.newSchema);
            //注入co
            if (this.gspCommonObject) {
                /** @type {?} */
                let newSchema;
                //若schemaMap中存在CO的schema
                if ((this.filterNewSchemaMap.get("CommonObject"))) {
                    newSchema = this.filterNewSchemaMap.get("CommonObject");
                }
                else {
                    newSchema = new NewSchema();
                }
                //将每一个CO转化为schema内部结构中的entityType
                /** @type {?} */
                let entityTypes = this.adapter.convertCOOfNewSchema(this.gspCommonObject);
                if ((entityTypes) && entityTypes.length != 0) {
                    entityTypes.forEach((/**
                     * @param {?} entityType
                     * @return {?}
                     */
                    entityType => {
                        if (newSchema.entityTypes.find((/**
                         * @param {?} x
                         * @return {?}
                         */
                        x => x.code == entityType.code)) == null) {
                            newSchema.entityTypes.push(entityType);
                        }
                    }));
                }
                //将合并后的schema放入内部上下文实体中
                this.addNewSchema("CommonObject", newSchema);
            }
            //添加属性列表
            this.propertyList.forEach((/**
             * @param {?} property
             * @return {?}
             */
            property => {
                /** @type {?} */
                let propertyInner = {
                    value: property.value,
                    text: property.text,
                    propertyDataType: property.propertyFieldType,
                    parentItem: null
                };
                this.propertyListInner.push(propertyInner);
            }));
            if ((this.injectedEntity)) {
                this.propertyAdapter.adapterOfNewSchema(this.injectedEntity, this.filterNewSchemaMap).forEach((/**
                 * @param {?} element
                 * @return {?}
                 */
                element => {
                    this.propertyListInner.push(element);
                }));
            }
        }
        else {
            //===========================================旧Schema==========================================
            if (this.schemaName != null && (this.schema)) {
                this.addSchema(this.schemaName, this.schema);
            }
            if ((this.gspCommonObject)) {
                /** @type {?} */
                let schema;
                //若schemaMap中存在CO的schema
                if ((this.filterSchemaMap.get("CommonObject"))) {
                    schema = this.filterSchemaMap.get("CommonObject");
                }
                else
                    schema = new FilterEntitySchema();
                //将每一个CO转化为schema内部结构中的entityType
                /** @type {?} */
                let entityTypes = this.adapter.convertCO(this.gspCommonObject);
                if ((entityTypes) && entityTypes.length != 0) {
                    entityTypes.forEach((/**
                     * @param {?} entityType
                     * @return {?}
                     */
                    entityType => {
                        if (schema.entityTypes.find((/**
                         * @param {?} x
                         * @return {?}
                         */
                        x => x.name == entityType.name)) == null) {
                            schema.entityTypes.push(entityType);
                        }
                    }));
                }
                //将合并后的schema放入内部上下文实体中
                this.addSchema("CommonObject", schema);
            }
            this.propertyList.forEach((/**
             * @param {?} property
             * @return {?}
             */
            property => {
                /** @type {?} */
                let propertyInner = {
                    text: property.text,
                    propertyDataType: property.propertyFieldType,
                    value: property.value,
                    parentItem: null
                };
                this.propertyListInner.push(propertyInner);
            }));
            if ((this.injectedEntity)) {
                this.propertyAdapter.adapter(this.injectedEntity, this.filterSchemaMap).forEach((/**
                 * @param {?} element
                 * @return {?}
                 */
                element => {
                    this.propertyListInner.push(element);
                }));
            }
        }
        this.defaultExpressTypeText = this.localePipe.transform("Value");
        this.defaultSelectGroup = this.localePipe.transform('And');
        this.defaultSelectItem = this.localePipe.transform("SelectItem");
        this.defaultOperatorText = this.localePipe.transform("GreaterThan");
        this.notifies = {
            1: { type: 'success', msg: this.localePipe.transform("Success") },
            2: { type: 'warning', msg: this.localePipe.transform("Warning_SelectRelation") },
            3: { type: 'warning', msg: this.localePipe.transform("Warning_ContainsFilters") },
            4: { type: 'warning', msg: this.localePipe.transform("Warning_ConditionsComplete") },
            5: { type: 'warning', msg: this.localePipe.transform("Warning_NumericMatch") }
        };
        this.expressTypes = [
            { id: this.localePipe.transform("Value") },
            { id: this.localePipe.transform("Expression") }
        ];
        this.relations = [
            { id: this.localePipe.transform("And") },
            { id: this.localePipe.transform("Or") },
        ];
        this.NumberOperators = [
            { id: this.localePipe.transform("GreaterThan") },
            { id: this.localePipe.transform("GreaterThanOrEqual") },
            { id: this.localePipe.transform("LessThan") },
            { id: this.localePipe.transform("LessThanOrEqual") },
            { id: this.localePipe.transform("Equal") },
            { id: this.localePipe.transform("NotEqual") },
            { id: this.localePipe.transform("IsNull") },
            { id: this.localePipe.transform("IsNotNull") },
        ];
        this.stringOperators = [
            { id: this.localePipe.transform("Equal") },
            { id: this.localePipe.transform("NotEqual") },
            { id: this.localePipe.transform("Contains") },
            { id: this.localePipe.transform("NotContains") },
            { id: this.localePipe.transform("StartsWith") },
            { id: this.localePipe.transform("EndsWith") },
            { id: this.localePipe.transform("NotStartsWith") },
            { id: this.localePipe.transform("NotEndsWith") },
            { id: this.localePipe.transform("IsNull") },
            { id: this.localePipe.transform("IsNotNull") },
        ];
        this.operators = [
            { id: this.localePipe.transform("GreaterThan") },
            { id: this.localePipe.transform("GreaterThanOrEqual") },
            { id: this.localePipe.transform("LessThan") },
            { id: this.localePipe.transform("LessThanOrEqual") },
            { id: this.localePipe.transform("Equal") },
            { id: this.localePipe.transform("NotEqual") },
            { id: this.localePipe.transform("Contains") },
            { id: this.localePipe.transform("NotContains") },
            { id: this.localePipe.transform("StartsWith") },
            { id: this.localePipe.transform("EndsWith") },
            { id: this.localePipe.transform("NotStartsWith") },
            { id: this.localePipe.transform("NotEndsWith") },
            { id: this.localePipe.transform("IsNull") },
            { id: this.localePipe.transform("IsNotNull") },
            { id: this.localePipe.transform("In") },
            { id: this.localePipe.transform("NotIn") },
        ];
        this.onCancel();
    }
    //=================添加NewSchema=====================
    /**
     * \@description 添加NewSchema到Map中
     * @param {?} name schema名称
     * @param {?} filterNewSchema 注入的统一结构NewSchema
     * @return {?}
     */
    addNewSchema(name, filterNewSchema) {
        this.filterNewSchemaMap.set(name, filterNewSchema);
    }
    //==================================================
    /**
     * 添加schema入Map
     * @param {?} name schema名
     * @param {?} filterSchema
     * @return {?}
     */
    addSchema(name, filterSchema) {
        this.filterSchemaMap.set(name, filterSchema);
    }
    /**
     * 树形表中节点选择触发函数
     * @param {?} $event 所选节点信息
     * @return {?}
     */
    nodeSelected($event) {
        //隐藏掉所有的节点选择编辑框，包括子节点的
        this.hideNodeEditor(this.treeData);
        //将所选节点比较项、表达式类型项、值编辑框显示，并将所选对应数据赋给默认项进行显示
        this.defaultOperatorText = $event.node.data.operator;
        this.defaultExpressTypeText = $event.node.data.expressType;
        if ($event.node.data.item == this.localePipe.transform('And') || $event.node.data.item == this.localePipe.transform('Or')) {
            this.defaultSelectGroup = $event.node.data.item;
        }
        else if ($event.node.data.item !== this.localePipe.transform("SelectProperty")) {
            /** @type {?} */
            let properties = this.propertyListInner.filter((/**
             * @param {?} x
             * @return {?}
             */
            x => x.text == $event.node.data.item));
            this.defaultSelectItem = properties[0].value;
        }
        else if ($event.node.data.item == this.localePipe.transform("SelectProperty")) {
            this.defaultSelectItem = $event.node.data.item;
        }
        this.treeData = [...this.treeData];
        $event.node.data.displayOperator = true;
        $event.node.data.displayExpressType = true;
        $event.node.data.displayValue = true;
        $event.node.data.displaySelect = true;
    }
    ;
    /**
     * 隐藏掉所有的节点选择编辑框，包括子节点的
     * @param {?} treeNodes 树形表绑定结构
     * @return {?}
     */
    hideNodeEditor(treeNodes) {
        treeNodes.forEach((/**
         * @param {?} element
         * @return {?}
         */
        element => {
            element.data.displayOperator = false;
            element.data.displayExpressType = false;
            element.data.displayValue = false;
            element.data.displaySelect = false;
            //若有子节点，则将其子节点的编辑选择框隐藏
            if ((element.children) && element.children.length != 0) {
                this.hideNodeEditor(element.children);
            }
        }));
    }
    ;
    //节点未选择函数
    /**
     * @return {?}
     */
    nodeUnSelect() {
        console.log("nodeUnselect");
    }
    ;
    /**
     *
     * 选择逻辑集时
     * @param {?} $event
     * @return {?}
     */
    selectGroup($event) {
        this.propertyNodeOperate($event, this.treeData, 0 /* Group */);
    }
    /**
     *
     * 选择项时
     * @param {?} $event
     * @return {?}
     */
    selectItem($event) {
        this.propertyNodeOperate($event, this.treeData, 1 /* Item */);
    }
    /**
     * 选择比较操作符时
     * @param {?} $event 比较操作项信息
     * @return {?}
     */
    selectOperator($event) {
        this.propertyNodeOperate($event, this.treeData, 2 /* Operation */);
    }
    ;
    /**
     * 选择值类型时
     * @param {?} $event 值类型项信息
     * @return {?}
     */
    selectExpressType($event) {
        this.propertyNodeOperate($event, this.treeData, 3 /* Valuetype */);
    }
    ;
    /**
     * 选择结束后隐藏该字段选择框
     * @param {?} treeNodes 树形表绑定结构
     * @param {?} fieldType 所选字段
     * @return {?}
     */
    hideFieldEditor(treeNodes, fieldType) {
        //找到所操作的节点，根据所选择的字段将对应选择编辑框隐藏
        treeNodes.forEach((/**
         * @param {?} treeNode
         * @return {?}
         */
        treeNode => {
            if (this.tt.isSelected(treeNode)) {
                switch (fieldType) {
                    case 1 /* Item */:
                        treeNode.data.displaySelect = false;
                        break;
                    case 2 /* Operation */:
                        treeNode.data.displayOperator = false;
                        break;
                    case 3 /* Valuetype */:
                        treeNode.data.displayExpressType = false;
                        break;
                }
                return;
            }
            //若未找到所选节点，则找其子节点
            else if ((treeNode.children) && treeNode.children.length != 0) {
                this.hideFieldEditor(treeNode.children, fieldType);
            }
        }));
    }
    /**
     * 打开计算表达式编辑器
     * @return {?}
     */
    openExpressEditor() {
        /** @type {?} */
        let that = this;
        //添加预置上下文变量
        if (this.contextEntity && this.contextEntity.length != 0) {
            this.contextEntity.forEach((/**
             * @param {?} element
             * @return {?}
             */
            element => {
                this.expr.addContext(element);
            }));
        }
        //添加预置表达式文本
        /** @type {?} */
        let selectNode = this.isSelected(this.treeData);
        if ((selectNode) && (selectNode.data.value != "") && (selectNode.data.value != null)) {
            this.expr.addExpressionText(selectNode.data.value);
        }
        else
            this.expr.addExpressionText(this.expressionText);
        //添加注入实体
        this.expressionInjectedEntities.forEach((/**
         * @param {?} element
         * @return {?}
         */
        element => {
            this.expr.addInjectedEntity(element.name, element.schemaName, element.injectedName, element.injectedType);
        }));
        //添加CDT
        this.expr.addCDT(this.expressionCDT);
        //添加schema
        this.expressionSchema.forEach((/**
         * @param {?} element
         * @return {?}
         */
        element => {
            this.expr.addSchema(element.name, element.schema);
        }));
        //打开表达式编辑器并返回编辑结果
        this.expr.buildExpression().then((/**
         * @param {?} info
         * @return {?}
         */
        info => {
            /** @type {?} */
            let expressInfo = info;
            this.displayExpressResult(that.treeData, expressInfo);
        }));
    }
    /**
     * 选中节点选择
     * @param {?} treeNodes 关系组
     * @return {?}
     */
    isSelected(treeNodes) {
        /** @type {?} */
        let treeNode;
        for (var i = 0; i < treeNodes.length; i++) {
            if (this.tt.isSelected(treeNodes[i])) {
                treeNode = treeNodes[i];
                break;
            }
            //若在该层节点中未找到所选节点，则找其子节点
            else if ((treeNodes[i].children) && treeNodes[i].children.length != 0) {
                treeNode = this.isSelected(treeNodes[i].children);
                if ((treeNode))
                    break;
            }
        }
        return treeNode;
    }
    /**
     * 将计算表达式结果展示到对应节点
     * @param {?} treeNodes 树表绑定结构
     * @param {?} expressInfo 计算表达式得到结果
     * @return {?}
     */
    displayExpressResult(treeNodes, expressInfo) {
        //找到所选节点实体，并将计算表达式所得结果赋给对应属性进行显示
        treeNodes.forEach((/**
         * @param {?} treeNode
         * @return {?}
         */
        treeNode => {
            if (this.tt.isSelected(treeNode)) {
                treeNode.data.value = expressInfo;
                return;
            }
            //若在该层节点中未找到所选节点，则找其子节点
            else if ((treeNode.children) && treeNode.children.length != 0) {
                this.displayExpressResult(treeNode.children, expressInfo);
            }
            //若仍未找到，则不进行任何操作
        }));
    }
    /**
     * 关系选择按钮选择事件
     * @param {?} $event 选择按钮所选信息
     * @return {?}
     */
    itemClick($event) {
        //若选择添加关系
        if ($event.value == RelationTypeEnum.AddRelation) {
            this.addNode(this.treeData, this.localePipe.transform('And'), null, null);
        }
        //若选择添加属性
        else if ($event.value == RelationTypeEnum.AddProperty) {
            this.addNode(this.treeData, this.localePipe.transform("SelectProperty"), this.localePipe.transform("Equal"), this.localePipe.transform("Value"));
        }
        else
            this.propertyNodeOperate($event, this.treeData, 1 /* Item */);
    }
    /**
     * 选择属性节点操作
     * 对新添加的属性节点进行逻辑处理
     * @param {?} event 点击事件
     * @param {?} treeNodes 树形表绑定结构
     * @param {?} fieldType 节点类型
     * @return {?}
     */
    propertyNodeOperate(event, treeNodes, fieldType) {
        treeNodes.forEach((/**
         * @param {?} treenode
         * @return {?}
         */
        treenode => {
            if (this.tt.isSelected(treenode)) {
                //对所选节点进行赋值操作
                switch (fieldType) {
                    case 0 /* Group */:
                        {
                            treenode.data.item = event.data.id;
                            this.defaultSelectGroup = event.data.id;
                        }
                        break;
                    case 1 /* Item */:
                        {
                            treenode.data.item = event.data.text;
                            this.defaultSelectItem = event.data.value;
                            treenode.data.parentItem = event.data.parentItem;
                            treenode.data.propertyDataType = event.data.propertyDataType;
                        }
                        break;
                    case 2 /* Operation */:
                        {
                            treenode.data.operator = event.data.id;
                            this.defaultOperatorText = event.data.id;
                        }
                        break;
                    case 3 /* Valuetype */:
                        {
                            treenode.data.expressType = event.data.id;
                            this.defaultExpressTypeText = event.data.id;
                        }
                        break;
                }
                return;
            }
            //否则对其子节点进行赋值操作
            else if ((treenode.children) && treenode.children.length != 0) {
                this.propertyNodeOperate(event, treenode.children, fieldType);
            }
        }));
    }
    /**
     * 根据所选为关系或者属性对新节点进行初始化
     * @param {?} treeNodes 树形表绑定结构
     * @param {?} defaultString 新节点显示默认值
     * @param {?} defaultOperator
     * @param {?} defalutExpressType
     * @return {?}
     */
    addNode(treeNodes, defaultString, defaultOperator, defalutExpressType) {
        treeNodes.forEach((/**
         * @param {?} treeNode
         * @return {?}
         */
        treeNode => {
            if (this.tt.isSelected(treeNode)) {
                //若关系值为空
                if (!(treeNode.data.item)) {
                    this.notifyservice[this.notifies['2'].type]({
                        msg: this.notifies['2'].msg
                    });
                    return;
                }
                //若为所选的关系节点，则在其子项里添加新子节点
                /** @type {?} */
                let newNode = {
                    data: {
                        "item": defaultString,
                        "propertyDataType": null,
                        //属性数据类型
                        "operator": defaultOperator,
                        "expressType": defalutExpressType,
                        "value": null,
                        "id": Math.random(),
                        "parentItem": null
                    },
                    parent: treeNode,
                    children: [],
                    expanded: true
                };
                //向该所选节点的子项添加新节点
                treeNode.children.push(newNode);
                return;
            }
            //若未找到所选节点，且该节点子项不为空，则在其子项中查找所选节点
            else if ((treeNode.children) && treeNode.children.length != 0) {
                this.addNode(treeNode.children, defaultString, defaultOperator, defalutExpressType);
            }
        }));
        this.tt.updateSerializedValue();
    }
    /**
     * 删除节点
     * @param {?} $event
     * @return {?}
     */
    deleteNode($event) {
        this.onDelete(this.treeData, $event);
    }
    /**
     * 重置(外部调用)
     * 重置为初始状态
     * @return {?}
     */
    onCancel() {
        if (this.filterExpressionString == null || this.filterExpressionString == "") {
            this.treeData = [
                {
                    data: {
                        "id": 1,
                        //树形结构中每个节点的id
                        "item": this.localePipe.transform('And'),
                        //属性项
                        "propertyDataType": null,
                        //属性数据类型
                        "operator": null,
                        //操作比较符
                        "expressType": null,
                        //表达式类型
                        "value": null,
                        //值
                        "displaySelect": false,
                        //选择项显示
                        "displayOperator": false,
                        //操作符项显示
                        "displayExpressType": false,
                        //表达式类型显示
                        "displayValue": false,
                        //值显示
                        "parentItem": null //父项
                    },
                    children: [],
                    //子节点集合
                    expanded: true //是否展开
                }
            ];
        }
        else {
            this.filterExpressionPre = JSON.parse(this.filterExpressionString);
            this.treeData = [];
            this.treeData.push(this.unConvert(this.filterExpressionPre));
            this.treeData[0].data.id = 1;
        }
    }
    /**
     * 删除节点具体实现类
     * @param {?} treeNodes 树形表绑定结构
     * @param {?} id
     * @return {?}
     */
    onDelete(treeNodes, id) {
        treeNodes.forEach((/**
         * @param {?} treeNode
         * @return {?}
         */
        treeNode => {
            if (treeNode.data.id == id) {
                if (treeNode.data.id == 1) {
                    this.treeData = [
                        {
                            data: {
                                "id": 1,
                                //树形结构中每个节点的id
                                "item": this.localePipe.transform('And'),
                                //属性项
                                "propertyDataType": null,
                                //属性数据类型
                                "operator": null,
                                //操作比较符
                                "expressType": null,
                                //表达式类型
                                "value": null,
                                //值
                                "displaySelect": false,
                                //选择项显示
                                "displayOperator": false,
                                //操作符项显示
                                "displayExpressType": false,
                                //表达式类型显示
                                "displayValue": false,
                                //值显示
                                "parentItem": null //父项
                            },
                            children: [],
                            //子节点集合
                            expanded: true //是否展开
                        }
                    ];
                    return;
                }
                //所选节点所在数
                /** @type {?} */
                let index = treeNodes.indexOf(treeNode);
                //将所选节点剔除
                treeNodes.splice(index, 1);
            }
            else if ((treeNode.children) && treeNode.children.length != 0) {
                treeNode.children = this.onDelete(treeNode.children, id);
            }
        }));
        this.tt.updateSerializedValue();
        return treeNodes;
    }
    /**
     *
     * 添加条件项
     * @return {?}
     */
    addItem() {
        this.defaultSelectItem = this.localePipe.transform("SelectItem");
        this.hideNodeEditor(this.treeData);
        this.addNode(this.treeData, this.localePipe.transform("SelectProperty"), this.localePipe.transform("Equal"), this.localePipe.transform("Value"));
    }
    /**
     *
     * 添加条件组
     * @return {?}
     */
    addGroup() {
        this.addNode(this.treeData, this.localePipe.transform('And'), null, null);
    }
    /**
     * 将treeData转化为filetrExpression实体
     * @param {?} filterExpression 过滤表达式实体
     * @param {?} treeNode 最外层的treeNode
     * @return {?}
     */
    convert(filterExpression, treeNode) {
        //得到最外层的关系符
        filterExpression.relationOperator = this.typeMatch(treeNode.data.item);
        //若其子项不为空
        if (treeNode.children.length != 0) {
            //对其每一个子项进行转化操作
            treeNode.children.forEach((/**
             * @param {?} treeNodeItem
             * @return {?}
             */
            treeNodeItem => {
                //若子项为并且、或者，则新建复杂过滤表达式
                if (this.typeMatch(treeNodeItem.data.item) == RelationTypeEnum.And ||
                    this.typeMatch(treeNodeItem.data.item) == RelationTypeEnum.Or) {
                    /** @type {?} */
                    let filterExpressionItem = new FilterExpression();
                    filterExpression.expressItems.push(this.convert(filterExpressionItem, treeNodeItem));
                }
                //若子项为属性表达式
                else {
                    /** @type {?} */
                    let filterItem = new ExpressionItem();
                    /** @type {?} */
                    let properties = this.propertyListInner.filter((/**
                     * @param {?} x
                     * @return {?}
                     */
                    x => x.text == treeNodeItem.data.item));
                    filterItem.propertyName = properties[0].value;
                    filterItem.propertyDataType = treeNodeItem.data.propertyDataType;
                    filterItem.operator = this.typeMatch(treeNodeItem.data.operator);
                    filterItem.expressType = this.typeMatch(treeNodeItem.data.expressType);
                    filterItem.value = treeNodeItem.data.value;
                    filterItem.parentItem = treeNodeItem.data.parentItem;
                    //若为数值型比较，则将value值强制转换为数字
                    if (filterItem.expressType == ExpressTypeEnum.Value &&
                        (filterItem.operator == CompareTypeEnum.GreaterThan
                            || filterItem.operator == CompareTypeEnum.GreaterThanOrEqual
                            || filterItem.operator == CompareTypeEnum.LessThan
                            || filterItem.operator == CompareTypeEnum.LessThanOrEqual)) {
                        filterItem.value = Number(treeNodeItem.data.value);
                    }
                    if (filterItem.expressType == ExpressTypeEnum.Value &&
                        (filterItem.operator == CompareTypeEnum.Equal
                            || filterItem.operator == CompareTypeEnum.NotEqual)) {
                        if (filterItem.propertyDataType == PropertyDataType.Decimal
                            || filterItem.propertyDataType == PropertyDataType.Double
                            || filterItem.propertyDataType == PropertyDataType.Int16
                            || filterItem.propertyDataType == PropertyDataType.Int32
                            || filterItem.propertyDataType == PropertyDataType.Int64) {
                            filterItem.value = Number(treeNodeItem.data.value);
                        }
                    }
                    //将子项放入父项的字段中
                    filterExpression.expressItems.push(filterItem);
                }
            }));
        }
        return filterExpression;
    }
    /**
     * filetrExpression反转化为TreeNode
     * @param {?} filterExpress 待转化的filetrExpression实体
     * @return {?}
     */
    unConvert(filterExpress) {
        /** @type {?} */
        let treeData = {
            data: {
                "id": Math.random(),
                //树形结构中每个节点的id
                "item": this.relationTypeReverseMatch(filterExpress.relationOperator),
                //属性项
                "propertyDataType": null,
                //属性数据类型
                "operator": null,
                //操作比较符
                "expressType": null,
                //表达式类型
                "value": null,
                //值
                "displaySelect": false,
                //选择项显示
                "displayOperator": false,
                //操作符项显示
                "displayExpressType": false,
                //表达式类型显示
                "displayValue": false,
                //值显示
                "parentItem": null //父项
            },
            children: [],
            //子节点集合
            expanded: true //是否展开
        };
        //对于每一个子项
        filterExpress.expressItems.forEach((/**
         * @param {?} expressItem
         * @return {?}
         */
        expressItem => {
            /** @type {?} */
            let filterExpressItem = (/** @type {?} */ (expressItem));
            //若子项为FilterExpression类型，赋值
            if ((filterExpressItem.relationOperator == RelationTypeEnum.And || filterExpressItem.relationOperator == RelationTypeEnum.Or)) {
                /** @type {?} */
                let treeDataChild = this.unConvert(filterExpressItem);
                treeDataChild.data.parent = treeData; //添加父节点
                treeData.children.push(treeDataChild);
            }
            else //若子项为ExpressionItem类型，赋值
             {
                /** @type {?} */
                let expressionItem = (/** @type {?} */ (expressItem));
                /** @type {?} */
                let properties = this.propertyListInner.filter((/**
                 * @param {?} x
                 * @return {?}
                 */
                x => x.value == expressionItem.propertyName));
                /** @type {?} */
                let treeDataChild = {
                    data: {
                        "id": Math.random(),
                        //树形结构中每个节点的id
                        "item": properties[0].text,
                        //属性项
                        "propertyDataType": expressionItem.propertyDataType,
                        "operator": this.operatorReverseMatch(expressionItem.operator),
                        //操作比较符
                        "expressType": this.expressTypeReverseMatch(expressionItem.expressType),
                        //表达式类型
                        "value": expressionItem.value,
                        //值
                        "parentItem": expressionItem.parentItem //父项
                    },
                    parent: treeData,
                    //添加父节点
                    children: [],
                    //子节点集合
                    expanded: true //是否展开
                };
                treeData.children.push(treeDataChild);
            }
        }));
        return treeData;
    }
    /**
     * 类型信息匹配
     * @param {?} type 类型
     * @return {?}
     */
    typeMatch(type) {
        switch (type) {
            case this.localePipe.transform("And"): return RelationTypeEnum.And;
            case this.localePipe.transform("Or"): return RelationTypeEnum.Or;
            case this.localePipe.transform("GreaterThan"): return CompareTypeEnum.GreaterThan;
            case this.localePipe.transform("GreaterThanOrEqual"): return CompareTypeEnum.GreaterThanOrEqual;
            case this.localePipe.transform("LessThan"): return CompareTypeEnum.LessThan;
            case this.localePipe.transform("LessThanOrEqual"): return CompareTypeEnum.LessThanOrEqual;
            case this.localePipe.transform("Equal"): return CompareTypeEnum.Equal;
            case this.localePipe.transform("NotEqual"): return CompareTypeEnum.NotEqual;
            case this.localePipe.transform("Contains"): return CompareTypeEnum.Contains;
            case this.localePipe.transform("NotContains"): return CompareTypeEnum.NotContains;
            case this.localePipe.transform("StartsWith"): return CompareTypeEnum.StartsWith;
            case this.localePipe.transform("EndsWith"): return CompareTypeEnum.EndsWith;
            case this.localePipe.transform("NotStartsWith"): return CompareTypeEnum.NotStartsWith;
            case this.localePipe.transform("NotEndsWith"): return CompareTypeEnum.NotEndsWith;
            case this.localePipe.transform("IsNull"): return CompareTypeEnum.IsNull;
            case this.localePipe.transform("IsNotNull"): return CompareTypeEnum.IsNotNull;
            case this.localePipe.transform("In"): return CompareTypeEnum.In;
            case this.localePipe.transform("NotIn"): return CompareTypeEnum.NotIn;
            case this.localePipe.transform("Value"): return ExpressTypeEnum.Value;
            case this.localePipe.transform("Expression"): return ExpressTypeEnum.Expression;
        }
    }
    /**
     * @param {?} type
     * @return {?}
     */
    relationTypeReverseMatch(type) {
        switch (type) {
            case RelationTypeEnum.And: return this.localePipe.transform('And');
            case RelationTypeEnum.Or: return this.localePipe.transform('Or');
        }
    }
    /**
     * @param {?} type
     * @return {?}
     */
    operatorReverseMatch(type) {
        switch (type) {
            case CompareTypeEnum.GreaterThan: return this.localePipe.transform("GreaterThan");
            case CompareTypeEnum.GreaterThanOrEqual: return this.localePipe.transform("GreaterThanOrEqual");
            case CompareTypeEnum.LessThan: return this.localePipe.transform("LessThan");
            case CompareTypeEnum.LessThanOrEqual: return this.localePipe.transform("LessThanOrEqual");
            case CompareTypeEnum.Equal: return this.localePipe.transform("Equal");
            case CompareTypeEnum.NotEqual: return this.localePipe.transform("NotEqual");
            case CompareTypeEnum.Contains: return this.localePipe.transform("Contains");
            case CompareTypeEnum.NotContains: return this.localePipe.transform("NotContains");
            case CompareTypeEnum.StartsWith: return this.localePipe.transform("StartsWith");
            case CompareTypeEnum.EndsWith: return this.localePipe.transform("EndsWith");
            case CompareTypeEnum.NotStartsWith: return this.localePipe.transform("NotStartsWith");
            case CompareTypeEnum.NotEndsWith: return this.localePipe.transform("NotEndsWith");
            case CompareTypeEnum.IsNull: return this.localePipe.transform("IsNull");
            case CompareTypeEnum.IsNotNull: return this.localePipe.transform("IsNotNull");
            case CompareTypeEnum.In: return this.localePipe.transform("In");
            case CompareTypeEnum.NotIn: return this.localePipe.transform("NotIn");
        }
    }
    /**
     * @param {?} type
     * @return {?}
     */
    expressTypeReverseMatch(type) {
        switch (type) {
            case ExpressTypeEnum.Value: return this.localePipe.transform("Value");
            case ExpressTypeEnum.Expression: return this.localePipe.transform('Expression');
        }
    }
    /**
     * 过滤表达式获取(外部调用)
     * @return {?}
     */
    getFilterExpression() {
        this.treeDataTemp = this.treeData;
        /** @type {?} */
        let isNull = true;
        /** @type {?} */
        let isMatch = true;
        if (this.checkNull(this.treeDataTemp[0].children, isNull) && this.checkMatch(this.treeDataTemp[0].children, isMatch)) {
            this.filterExpression = new FilterExpression();
            //根据树形数据结构转化为过滤表达式实体
            this.convert(this.filterExpression, this.treeDataTemp[0]);
            //若只包含关系项则返回空
            if (this.filterExpression.expressItems.length == 0)
                return null;
            else {
                if (this.filterExpression.relationOperator == null) {
                    this.filterExpression.relationOperator = RelationTypeEnum.Or;
                }
                return JSON.stringify(this.filterExpression);
            }
        }
    }
    //递归检查整个过滤表达式是否有漏填的项
    /**
     * @param {?} treeNodes
     * @param {?} isNull
     * @return {?}
     */
    checkNull(treeNodes, isNull) {
        for (var i = 0; i < treeNodes.length; i++) {
            if (treeNodes[i].data.item == this.localePipe.transform('And') || treeNodes[i].data.item == this.localePipe.transform('Or')) {
                if (!(treeNodes[i].children) || treeNodes[i].children.length == 0) {
                    this.checkFilterStruc = false;
                    this.notifyservice[this.notifies['3'].type]({
                        msg: this.notifies['3'].msg
                    });
                    isNull = false;
                    break;
                }
                else if (!this.checkNull(treeNodes[i].children, isNull)) {
                    isNull = false;
                    break;
                }
            }
            else {
                if (!(treeNodes[i].data.item) || treeNodes[i].data.item == this.localePipe.transform("SelectProperty")
                    || !(treeNodes[i].data.operator) || !(treeNodes[i].data.expressType)
                    || !(treeNodes[i].data.value)) {
                    this.notifyservice[this.notifies['4'].type]({
                        msg: this.notifies['4'].msg
                    });
                    this.checkFilterStruc = false;
                    isNull = false;
                    break;
                }
            }
        }
        return isNull;
    }
    /**
     * @return {?}
     */
    onfocus() {
        this.displayPopup = true;
    }
    /**
     * @return {?}
     */
    onblur() {
        this.displayPopup = false;
    }
    /**
     * @param {?} treeNodes
     * @param {?} isMatch
     * @return {?}
     */
    checkMatch(treeNodes, isMatch) {
        for (var i = 0; i < treeNodes.length; i++) {
            if (treeNodes[i].data.item != this.localePipe.transform('And') && treeNodes[i].data.item != this.localePipe.transform('Or')) {
                if (treeNodes[i].data.expressType == this.localePipe.transform("Value")) {
                    if ((treeNodes[i].data.propertyDataType == PropertyDataType.Int16 || treeNodes[i].data.propertyDataType == PropertyDataType.Int32 || treeNodes[i].data.propertyDataType == PropertyDataType.Int64) && isNaN(treeNodes[i].data.value)) {
                        this.notifyservice[this.notifies['5'].type]({
                            msg: this.notifies['5'].msg
                        });
                        isMatch = false;
                        break;
                    }
                }
            }
            else
                isMatch = this.checkMatch(treeNodes[i].children, isMatch);
        }
        return isMatch;
    }
}
FilterExpressionComponent.decorators = [
    { type: Component, args: [{
                selector: 'app-filter-expression',
                template: "<div class=\"filter \">   \r\n    <farris-treetable #tt\r\n    class=\"farristreetable\"\r\n    [data]=\"treeData\" \r\n    [columns]=\"cols\" \r\n    [idField]=\"'id'\" \r\n    [showIcon]=\"false\" \r\n    [resizableColumns]=\"true\"\r\n    (nodeSelected)=\"nodeSelected($event)\" \r\n    [fitColumns]=\"true\" \r\n    [showFilterBar]=\"false\"\r\n    [showHeader]=\"true\"\r\n    [enableFindText]=\"true\"\r\n    [fit]=\"true\"\r\n    [disabled]=\"disabled\"\r\n    [fixedHeader]=\"true\"\r\n    [showBorder]=\"false\"\r\n    >\r\n      <ng-template farrisTemplate=\"body\" let-rowNode let-rowData=\"rowData\" let-columns=\"columns\">\r\n        <tr [selectRow]=\"rowNode\" [dblclick]=\"true\">\r\n          <td *ngFor=\"let col of columns; let i = index\"\r\n          [ngStyle]=\"{'text-align':col.title=='' ?'center':'left'}\">\r\n          <div class=\"treetable-cell-content p-0 d-flex\">\r\n            <farris-treeTableToggler [rowNode]=\"rowNode\" *ngIf=\"i == 0\"></farris-treeTableToggler>\r\n            <ng-container *ngIf=\"i==0\">\r\n              <div class=\"flex-grow-1 text d-flex\">\r\n                <span id=\"groupAnd\" *ngIf=\"rowData['item']==this.localePipe.transform('And') || rowData['item']==null\"><img src='/platform/common/web/assets/filter-icon/and.svg'></span>\r\n                <span id=\"groupOr\" *ngIf=\"rowData['item']==this.localePipe.transform('Or')\"><img src='/platform/common/web/assets/filter-icon/or.svg'></span>\r\n                <div class=\"flex-grow-1 text\">\r\n                <farris-combo-list *ngIf=\"(rowData['item']==this.localePipe.transform('Or') || rowData['item']==this.localePipe.transform('And') || rowData['item']==null)&& rowData['displaySelect']\"\r\n     \r\n                [(ngModel)]=\"defaultSelectGroup\"\r\n                [idField]=\"'id'\"\r\n                [textField]=\"'id'\"\r\n                [data]=\"relations\" \r\n                (selectChange)=\"selectGroup($event)\">\r\n                </farris-combo-list>\r\n                \r\n                <farris-combo-list *ngIf=\"rowData['item']!=this.localePipe.transform('Or') && rowData['item']!=this.localePipe.transform('And') && rowData['item']!=null && rowData['displaySelect']\"\r\n              \r\n                [(ngModel)]=\"defaultSelectItem\"\r\n                [idField]=\"'value'\"\r\n                [textField]=\"'text'\"\r\n                [data]=\"propertyListInner\" \r\n                (selectChange)=\"selectItem($event)\">\r\n                </farris-combo-list>\r\n              \r\n                <ng-container *ngIf=\"!rowData['displaySelect']\">\r\n                  <span>{{rowData[col.field]}}</span>\r\n                </ng-container>\r\n              </div>\r\n            </div>\r\n            </ng-container>\r\n            <ng-container *ngIf=\"i==1\">\r\n              <farris-combo-list *ngIf=\"rowData['item']!=this.localePipe.transform('Or') && rowData['item']!=this.localePipe.transform('And') && rowData['item']!=null && rowData['displayExpressType']\"\r\n                [(ngModel)]=\"defaultOperatorText\"\r\n                [idField]=\"'id'\"\r\n                [textField]=\"'id'\"\r\n                [data]=\"operators\"\r\n                [panelHeight]=200\r\n                (selectChange)=\"selectOperator($event)\">\r\n              </farris-combo-list>\r\n              <ng-container *ngIf=\"!rowData['displayOperator']\">\r\n                {{rowData[col.field]}}\r\n              </ng-container>\r\n            </ng-container>\r\n            <ng-container *ngIf=\"i==2\">\r\n              <farris-combo-list *ngIf=\"rowData['item']!=this.localePipe.transform('Or') && rowData['item']!=this.localePipe.transform('And') && rowData['item']!=null && rowData['displayExpressType']\"\r\n                [(ngModel)]=\"defaultExpressTypeText\"\r\n                [idField]=\"'id'\"\r\n                [textField]=\"'id'\"\r\n                [data]=\"expressTypes\"\r\n                (selectChange)=\"selectExpressType($event)\">\r\n              </farris-combo-list>\r\n              <ng-container *ngIf=\"!rowData['displayExpressType']\">\r\n                {{rowData[col.field]}}\r\n              </ng-container>\r\n            </ng-container>\r\n            <ng-container *ngIf=\"i==3\">\r\n              <ng-container *ngIf=\"rowData['item']!=this.localePipe.transform('Or') && rowData['item']!=this.localePipe.transform('And') && rowData['item']!=null && rowData['displayValue']\">\r\n              <div class=\"input-group\">\r\n                <input type=\"text\" class=\"form-control\" placeholder=\"{{ 'PlaceHolder' | locale }}\" aria-describedby=\"button-addon\" [(ngModel)]=\"rowData['value']\"/>\r\n                <button *ngIf=\"rowData['expressType']==this.localePipe.transform('Expression')\" class=\"btn btn-outline-secondary\" style=\"border: none;width: 25px;padding-left: 4px\" type=\"button\" id=\"button-addon\" (click)=\"openExpressEditor()\"><span class=\"f-icon f-icon-windows\"></span></button>\r\n              </div>\r\n              </ng-container>\r\n              <ng-container *ngIf=\"!rowData['displayValue']\">\r\n                <span style=\"display: inline-block;overflow: hidden;width: 100%\">{{rowData[col.field]}}</span>\r\n              </ng-container>\r\n            </ng-container>\r\n            <ng-container *ngIf=\"i==4\">\r\n                <div class=\"btn-group mr-3\" fDropdown>\r\n                  <button class=\"btn btn-link\" fDropdownToggle type=\"button\">\r\n                    {{ 'Add' | locale }}\r\n                  </button>\r\n                  <div class=\"dropdown-menu\" fDropdownMenu>\r\n                    <li class=\"dropdown-item\" (click)=\"addGroup()\"><span>{{ 'AddGroup' | locale }}</span></li>\r\n                    <li class=\"dropdown-item\" (click)=\"addItem()\"><span>{{ 'AddItem' | locale }}</span></li>\r\n                  </div>\r\n                </div>\r\n                <button style=\"padding-left: 16px;\" type=\"button\" class=\"btn btn-link\" (click)=\"deleteNode(rowData['id'])\">{{ 'Delete' | locale }}</button> \r\n            </ng-container>\r\n          </div>\r\n          </td>\r\n        </tr>\r\n      </ng-template>\r\n    </farris-treetable>\r\n</div>\r\n",
                providers: [ExpressionService, PropertyAdapter],
                encapsulation: ViewEncapsulation.None,
                styles: [".lpopup kendo-button-list{height:250px;overflow-y:auto}.footer{position:fixed;bottom:0;left:0;right:0}.farristreetable .farris-treetable .farris-treetable-tbody tr td{overflow:inherit}.filter{height:100%}"]
            }] }
];
/** @nocollapse */
FilterExpressionComponent.ctorParameters = () => [
    { type: ExpressionService },
    { type: PropertyAdapter },
    { type: NotifyService },
    { type: Injector },
    { type: String, decorators: [{ type: Inject, args: [LOCALE_ID,] }] }
];
FilterExpressionComponent.propDecorators = {
    tt: [{ type: ViewChild, args: ['tt',] }],
    contextEntity: [{ type: Input }],
    expressionText: [{ type: Input }],
    expressionSchema: [{ type: Input }],
    expressionInjectedEntities: [{ type: Input }],
    expressionCDT: [{ type: Input }],
    propertyList: [{ type: Input }],
    filterExpressionString: [{ type: Input }],
    schemaName: [{ type: Input }],
    schema: [{ type: Input }],
    newSchema: [{ type: Input }],
    injectedEntity: [{ type: Input }],
    gspCommonObject: [{ type: Input }],
    disabled: [{ type: Input }]
};
if (false) {
    /** @type {?} */
    FilterExpressionComponent.prototype.localePipe;
    /** @type {?} */
    FilterExpressionComponent.prototype.treeDataTemp;
    /** @type {?} */
    FilterExpressionComponent.prototype.tt;
    /** @type {?} */
    FilterExpressionComponent.prototype.contextEntity;
    /** @type {?} */
    FilterExpressionComponent.prototype.expressionText;
    /** @type {?} */
    FilterExpressionComponent.prototype.expressionSchema;
    /** @type {?} */
    FilterExpressionComponent.prototype.expressionInjectedEntities;
    /** @type {?} */
    FilterExpressionComponent.prototype.expressionCDT;
    /** @type {?} */
    FilterExpressionComponent.prototype.propertyList;
    /** @type {?} */
    FilterExpressionComponent.prototype.filterExpressionString;
    /** @type {?} */
    FilterExpressionComponent.prototype.schemaName;
    /** @type {?} */
    FilterExpressionComponent.prototype.schema;
    /** @type {?} */
    FilterExpressionComponent.prototype.newSchema;
    /** @type {?} */
    FilterExpressionComponent.prototype.filterNewSchemaMap;
    /** @type {?} */
    FilterExpressionComponent.prototype.injectedEntity;
    /** @type {?} */
    FilterExpressionComponent.prototype.gspCommonObject;
    /** @type {?} */
    FilterExpressionComponent.prototype.disabled;
    /** @type {?} */
    FilterExpressionComponent.prototype.propertyListInner;
    /** @type {?} */
    FilterExpressionComponent.prototype.operators;
    /** @type {?} */
    FilterExpressionComponent.prototype.stringOperators;
    /** @type {?} */
    FilterExpressionComponent.prototype.NumberOperators;
    /** @type {?} */
    FilterExpressionComponent.prototype.relations;
    /** @type {?} */
    FilterExpressionComponent.prototype.expressTypes;
    /** @type {?} */
    FilterExpressionComponent.prototype.filterExpression;
    /** @type {?} */
    FilterExpressionComponent.prototype.nodeTemp;
    /** @type {?} */
    FilterExpressionComponent.prototype.defaultSelectGroup;
    /** @type {?} */
    FilterExpressionComponent.prototype.defaultSelectItem;
    /** @type {?} */
    FilterExpressionComponent.prototype.defaultOperatorText;
    /** @type {?} */
    FilterExpressionComponent.prototype.defaultExpressTypeText;
    /** @type {?} */
    FilterExpressionComponent.prototype.displayPopup;
    /** @type {?} */
    FilterExpressionComponent.prototype.filterExpressionPre;
    /** @type {?} */
    FilterExpressionComponent.prototype.checkFilterStruc;
    /** @type {?} */
    FilterExpressionComponent.prototype.filterSchemaMap;
    /** @type {?} */
    FilterExpressionComponent.prototype.adapter;
    /** @type {?} */
    FilterExpressionComponent.prototype.treeData;
    /** @type {?} */
    FilterExpressionComponent.prototype.columnWidth;
    /**
     * @type {?}
     * @private
     */
    FilterExpressionComponent.prototype.notifies;
    /** @type {?} */
    FilterExpressionComponent.prototype.cols;
    /**
     * @type {?}
     * @private
     */
    FilterExpressionComponent.prototype.expr;
    /**
     * @type {?}
     * @private
     */
    FilterExpressionComponent.prototype.propertyAdapter;
    /**
     * @type {?}
     * @private
     */
    FilterExpressionComponent.prototype.notifyservice;
    /**
     * @type {?}
     * @private
     */
    FilterExpressionComponent.prototype.injector;
    /* Skipping unhandled member: ;*/
    /* Skipping unhandled member: ;*/
    /* Skipping unhandled member: ;*/
    /* Skipping unhandled member: ;*/
    /* Skipping unhandled member: ;*/
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZmlsdGVyLWV4cHJlc3Npb24uY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6Im5nOi8vQGdzcC1zdmMvZmlsdGVyY29uZGl0aW9uLyIsInNvdXJjZXMiOlsibGliL2ZpbHRlci1leHByZXNzaW9uL2ZpbHRlci1leHByZXNzaW9uLmNvbXBvbmVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O0FBQUEsT0FBTyxFQUFFLFNBQVMsRUFBRSxTQUFTLEVBQUUsS0FBSyxFQUEyQyxpQkFBaUIsRUFBRSxTQUFTLEVBQUUsTUFBTSxFQUFFLFFBQVEsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUNySixPQUFPLEVBQUUsa0JBQWtCLEVBQVksTUFBTSxzQkFBc0IsQ0FBQztBQUNwRSxPQUFPLEVBQUUsZ0JBQWdCLEVBQUUsY0FBYyxFQUFFLE1BQU0sNkJBQTZCLENBQUM7QUFLL0UsT0FBTyxFQUFFLGVBQWUsRUFBRSxnQkFBZ0IsRUFBRSxlQUFlLEVBQUUsTUFBTSxhQUFhLENBQUM7QUFDakYsT0FBTyxFQUFFLGlCQUFpQixFQUFFLE1BQU0scUJBQXFCLENBQUM7QUFDeEQsT0FBTyxFQUFFLGdCQUFnQixFQUFFLE1BQU0sb0JBQW9CLENBQUM7QUFFdEQsT0FBTyxFQUFFLG9CQUFvQixFQUFFLE1BQU0sb0JBQW9CLENBQUM7QUFDMUQsT0FBTyxFQUFFLGVBQWUsRUFBRSxNQUFNLHFCQUFxQixDQUFDO0FBQ3RELE9BQU8sRUFBRSxrQkFBa0IsRUFBb0IsTUFBTSxXQUFXLENBQUM7QUFDakUsT0FBTyxFQUFFLGVBQWUsRUFBRSxNQUFNLDBCQUEwQixDQUFDO0FBQzNELE9BQU8sRUFBRSxPQUFPLEVBQUUsTUFBTSxZQUFZLENBQUM7QUFDckMsT0FBTyxFQUFFLGFBQWEsRUFBRSxNQUFNLG1CQUFtQixDQUFDO0FBQ2xELE9BQU8sRUFBRSx5QkFBeUIsRUFBRSxNQUFNLGlDQUFpQyxDQUFDO0FBQzVFLE9BQU8sRUFBRSxTQUFTLEVBQUUsTUFBTSxjQUFjLENBQUM7QUFRekM7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VSxDQUFDLFNBQVMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLE9BQU8sZUFBZSxDQUFDLEtBQUssQ0FBQztZQUN0RSxLQUFLLElBQUksQ0FBQyxVQUFVLENBQUMsU0FBUyxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsT0FBTyxlQUFlLENBQUMsUUFBUSxDQUFDO1lBQzVFLEtBQUssSUFBSSxDQUFDLFVBQVUsQ0FBQyxTQUFTLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxPQUFPLGVBQWUsQ0FBQyxRQUFRLENBQUM7WUFDNUUsS0FBSyxJQUFJLENBQUMsVUFBVSxDQUFDLFNBQVMsQ0FBQyxhQUFhLENBQUMsQ0FBQyxDQUFDLE9BQU8sZUFBZSxDQUFDLFdBQVcsQ0FBQztZQUNsRixLQUFLLElBQUksQ0FBQyxVQUFVLENBQUMsU0FBUyxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUMsT0FBTyxlQUFlLENBQUMsVUFBVSxDQUFDO1lBQ2hGLEtBQUssSUFBSSxDQUFDLFVBQVUsQ0FBQyxTQUFTLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxPQUFPLGVBQWUsQ0FBQyxRQUFRLENBQUM7WUFDNUUsS0FBSyxJQUFJLENBQUMsVUFBVSxDQUFDLFNBQVMsQ0FBQyxlQUFlLENBQUMsQ0FBQyxDQUFDLE9BQU8sZUFBZSxDQUFDLGFBQWEsQ0FBQztZQUN0RixLQUFLLElBQUksQ0FBQyxVQUFVLENBQUMsU0FBUyxDQUFDLGFBQWEsQ0FBQyxDQUFDLENBQUMsT0FBTyxlQUFlLENBQUMsV0FBVyxDQUFDO1lBQ2xGLEtBQUssSUFBSSxDQUFDLFVBQVUsQ0FBQyxTQUFTLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxPQUFPLGVBQWUsQ0FBQyxNQUFNLENBQUM7WUFDeEUsS0FBSyxJQUFJLENBQUMsVUFBVSxDQUFDLFNBQVMsQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDLE9BQU8sZUFBZSxDQUFDLFNBQVMsQ0FBQztZQUM5RSxLQUFLLElBQUksQ0FBQyxVQUFVLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsT0FB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O0lBRTlCLGlEQUFxQzs7SUFLckMsd0RBQTZDOztJQUU3QyxxREFBd0M7O0lBRXhDLG9EQUF3RDs7SUFDeEQsNENBQWlDOztJQUNqQyw2Q0FBMEI7O0lBQzFCLGdEQUFrRDs7Ozs7SUFFbEQsNkNBQXNCOztJQUN0Qix5Q0FBWTs7Ozs7SUE1RUEseUNBQStCOzs7OztJQUN6QyxvREFBd0M7Ozs7O0lBQ3hDLGtEQUFvQzs7Ozs7SUFDcEMsNkNBQTBCIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29tcG9uZW50LCBWaWV3Q2hpbGQsIElucHV0LCBFdmVudEVtaXR0ZXIsIE91dHB1dCwgT25Jbml0LCBPbkNoYW5nZXMsIFZpZXdFbmNhcHN1bGF0aW9uLCBMT0NBTEVfSUQsIEluamVjdCwgSW5qZWN0b3IgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuaW1wb3J0IHsgVHJlZVRhYmxlQ29tcG9uZW50LCBUcmVlTm9kZSB9IGZyb20gJ0BmYXJyaXMvdWktdHJlZXRhYmxlJztcclxuaW1wb3J0IHsgRmlsdGVyRXhwcmVzc2lvbiwgRXhwcmVzc2lvbkl0ZW0gfSBmcm9tICcuLi9maWx0ZXItZXhwcmVzc2lvbi1lbnRpdHknO1xyXG5pbXBvcnQgeyBWYXJFbnRpdHkgfSBmcm9tICdAZ3NwLXN2Yy9leHByZXNzaW9uJztcclxuaW1wb3J0IHsgU2NoZW1hIH0gZnJvbSAnQGdzcC1zdmMvZXhwcmVzc2lvbic7XHJcbmltcG9ydCB7IEdzcENvbW1vbkRhdGFUeXBlIH0gZnJvbSAnQGdzcC1iZWYvZ3NwLWNtLW1ldGFkYXRhJztcclxuaW1wb3J0IHsgSW5qZWN0ZWRFbnRpdHkgfSBmcm9tICdAZ3NwLXN2Yy9leHByZXNzaW9uJztcclxuaW1wb3J0IHsgRXhwcmVzc1R5cGVFbnVtLCBSZWxhdGlvblR5cGVFbnVtLCBDb21wYXJlVHlwZUVudW0gfSBmcm9tICcuLi90eXBlaW5mbyc7XHJcbmltcG9ydCB7IEV4cHJlc3Npb25TZXJ2aWNlIH0gZnJvbSAnQGdzcC1zdmMvZXhwcmVzc2lvbic7XHJcbmltcG9ydCB7IFByb3BlcnR5RGF0YVR5cGUgfSBmcm9tICcuLi9wcm9wZXJ0eS1lbnRpdHknO1xyXG5pbXBvcnQgeyBGaWVsZFR5cGUgfSBmcm9tICcuLi9maWVsZC10eXBlJztcclxuaW1wb3J0IHsgRmlsdGVySW5qZWN0ZWRFbnRpdHkgfSBmcm9tICcuLi9pbmplY3RlZC1lbnRpdHknO1xyXG5pbXBvcnQgeyBQcm9wZXJ0eUFkYXB0ZXIgfSBmcm9tICcuLi9wcm9wZXJ0eS1hZGFwdGVyJztcclxuaW1wb3J0IHsgRmlsdGVyRW50aXR5U2NoZW1hLCBGaWx0ZXJFbnRpdHlUeXBlIH0gZnJvbSAnLi4vc2NoZW1hJztcclxuaW1wb3J0IHsgR1NQQ29tbW9uT2JqZWN0IH0gZnJvbSAnQGdzcC1iZWYvZ3NwLWNtLW1ldGFkYXRhJztcclxuaW1wb3J0IHsgQWRhcHRlciB9IGZyb20gJy4uL2FkYXB0ZXInO1xyXG5pbXBvcnQgeyBOb3RpZnlTZXJ2aWNlIH0gZnJvbSAnQGZhcnJpcy91aS1ub3RpZnknO1xyXG5pbXBvcnQgeyBGaWx0ZXJDb25kaXRpb25Mb2NhbGVQaXBlIH0gZnJvbSAnLi4vZmlsdGVyLWNvbmRpdGlvbi1sb2NhbGUucGlwZSc7XHJcbmltcG9ydCB7IE5ld1NjaGVtYSB9IGZyb20gJy4uL05ld1NjaGVtYSc7XHJcbkBDb21wb25lbnQoe1xyXG4gIHNlbGVjdG9yOiAnYXBwLWZpbHRlci1leHByZXNzaW9uJyxcclxuICB0ZW1wbGF0ZVVybDogJy4vZmlsdGVyLWV4cHJlc3Npb24uY29tcG9uZW50Lmh0bWwnLFxyXG4gIHN0eWxlVXJsczogWycuL2ZpbHRlci1leHByZXNzaW9uLmNvbXBvbmVudC5jc3MnXSxcclxuICBwcm92aWRlcnM6IFtFeHByZXNzaW9uU2VydmljZSwgUHJvcGVydHlBZGFwdGVyXSxcclxuICBlbmNhcHN1bGF0aW9uOiBWaWV3RW5jYXBzdWxhdGlvbi5Ob25lXHJcbn0pXHJcbi8qKlxyXG4gKiDov4fmu6TmnaHku7bpnaLmnb/pgLvovpHnsbtcclxuICovXHJcbmV4cG9ydCBjbGFzcyBGaWx0ZXJFeHByZXNzaW9uQ29tcG9uZW50IGltcGxlbWVudHMgT25DaGFuZ2VzIHtcclxuICBsb2NhbGVQaXBlOiBGaWx0ZXJDb25kaXRpb25Mb2NhbGVQaXBlO1xyXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgZXhwcjogRXhwcmVzc2lvblNlcnZpY2UsXHJcbiAgICBwcml2YXRlIHByb3BlcnR5QWRhcHRlcjogUHJvcGVydHlBZGFwdGVyLFxyXG4gICAgcHJpdmF0ZSBub3RpZnlzZXJ2aWNlOiBOb3RpZnlTZXJ2aWNlLFxyXG4gICAgcHJpdmF0ZSBpbmplY3RvcjogSW5qZWN0b3IsXHJcbiAgICBASW5qZWN0KExPQ0FMRV9JRCkgbG9jYWxlSWQ6IHN0cmluZykge1xyXG4gICAgdGhpcy5sb2NhbGVQaXBlID0gbmV3IEZpbHRlckNvbmRpdGlvbkxvY2FsZVBpcGUobG9jYWxlSWQpO1xyXG4gIH1cclxuICB0cmVlRGF0YVRlbXA6IFRyZWVOb2RlW11cclxuICAvL+iOt+W+l+agkeWIl+ihqOe7hOS7tuafhFxyXG4gIEBWaWV3Q2hpbGQoJ3R0JykgdHQ6IFRyZWVUYWJsZUNvbXBvbmVudDtcclxuICAvL+mihOe9ruiuoeeul+ihqOi+vuW8j+S4iuS4i+aWh+WunuS9k1xyXG4gIEBJbnB1dCgpIGNvbnRleHRFbnRpdHk6IFZhckVudGl0eVtdID0gW107XHJcbiAgLy/pooTnva7orqHnrpfpu5jorqTooajovr7lvI/mmL7npLpcclxuICBASW5wdXQoKSBleHByZXNzaW9uVGV4dDogc3RyaW5nID0gXCJcIjtcclxuICAvL+mihOe9ruiuoeeul+ihqOi+vuW8j+S4reeahHNjaGVtYVxyXG4gIEBJbnB1dCgpIGV4cHJlc3Npb25TY2hlbWE6IEFycmF5PHsgbmFtZTogc3RyaW5nLCBzY2hlbWE6IFNjaGVtYSB9PiA9IFtdO1xyXG4gIC8v6aKE572u6K6h566X6KGo6L6+5byP5Lit55qE5rOo5YWl5a6e5L2TXHJcbiAgQElucHV0KCkgZXhwcmVzc2lvbkluamVjdGVkRW50aXRpZXM6IEluamVjdGVkRW50aXR5W10gPSBbXTtcclxuICAvL+mihOe9ruiuoeeul+ihqOi+vuW8j2NkdOmbhlxyXG4gIEBJbnB1dCgpIGV4cHJlc3Npb25DRFQ6IEdzcENvbW1vbkRhdGFUeXBlW10gPSBbXTtcclxuICAvL+mihOe9ruWxnuaAp+WIl+ihqFxyXG4gIEBJbnB1dCgpIHByb3BlcnR5TGlzdDogQXJyYXk8eyB0ZXh0OiBzdHJpbmcsIHZhbHVlOiBzdHJpbmcsIHByb3BlcnR5RmllbGRUeXBlOiBQcm9wZXJ0eURhdGFUeXBlIH0+ID0gW107XHJcbiAgLy/pooTnva7ov4fmu6Tooajovr7lvI/kuLJcclxuICBASW5wdXQoKSBmaWx0ZXJFeHByZXNzaW9uU3RyaW5nOiBzdHJpbmcgPSBudWxsO1xyXG4gIC8v6aKE572uc2NoZW1h5ZCNXHJcbiAgQElucHV0KCkgc2NoZW1hTmFtZTogc3RyaW5nO1xyXG4gIC8v6aKE572u6L+H5ruk6KGo6L6+5byPc2NoZW1hXHJcbiAgQElucHV0KCkgc2NoZW1hOiBGaWx0ZXJFbnRpdHlTY2hlbWE7XHJcbiAgLy89PT09PT09PT09PT09PT09PT09PT09PT09PT3liIblibLnur/kuYtOZXdTY2hlbWE9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAgQElucHV0KCkgbmV3U2NoZW1hOiBOZXdTY2hlbWE7XHJcbiAgLy9zY2hlbWHlrZjlgqjnu5PmnoRcclxuICBmaWx0ZXJOZXdTY2hlbWFNYXAgPSBuZXcgTWFwPHN0cmluZywgTmV3U2NoZW1hPigpO1xyXG4gIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICAvL+i/h+a7pOihqOi+vuW8j+azqOWFpeWunuS9k1xyXG4gIEBJbnB1dCgpIGluamVjdGVkRW50aXR5OiBGaWx0ZXJJbmplY3RlZEVudGl0eTtcclxuICAvL+azqOWFpUNPXHJcbiAgQElucHV0KCkgZ3NwQ29tbW9uT2JqZWN0OiBHU1BDb21tb25PYmplY3Q7XHJcblxyXG4gIEBJbnB1dCgpIGRpc2FibGVkOiBib29sZWFuID0gZmFsc2U7XHJcbiAgLy/lhoXpg6jlsZ7mgKfliJfooajkvb/nlKhcclxuICBwcm9wZXJ0eUxpc3RJbm5lcjogQXJyYXk8eyB0ZXh0OiBzdHJpbmcsIHByb3BlcnR5RGF0YVR5cGU6IFByb3BlcnR5RGF0YVR5cGUsIHZhbHVlOiBzdHJpbmcsIHBhcmVudEl0ZW06IHN0cmluZyB9PiA9IFtdO1xyXG4gIC8v5pON5L2c5q+U6L6D56ym6ZuGXHJcbiAgcHVibGljIG9wZXJhdG9ycyA9IFtdO1xyXG5cclxuICBwdWJsaWMgc3RyaW5nT3BlcmF0b3JzID0gW107XHJcblxyXG4gIHB1YmxpYyBOdW1iZXJPcGVyYXRvcnMgPSBbXTtcclxuICAvL+WFs+ezu+mbhlxyXG4gIHB1YmxpYyByZWxhdGlvbnMgPSBbXTtcclxuICAvL+ihqOi+vuW8j+exu+Wei+mbhlxyXG4gIHB1YmxpYyBleHByZXNzVHlwZXMgPSBbXTtcclxuICBwdWJsaWMgZmlsdGVyRXhwcmVzc2lvbjogRmlsdGVyRXhwcmVzc2lvbjtcclxuICAvL+agkeW9oue7k+aehOiKgueCueWunuS9k+mbhlxyXG4gIHB1YmxpYyBub2RlVGVtcDogVHJlZU5vZGVbXTtcclxuICBkZWZhdWx0U2VsZWN0R3JvdXA6IHN0cmluZztcclxuICBkZWZhdWx0U2VsZWN0SXRlbTogc3RyaW5nO1xyXG4gIC8v5pON5L2c5q+U6L6D56ym6buY6K6k5pi+56S65YC8XHJcbiAgcHVibGljIGRlZmF1bHRPcGVyYXRvclRleHQ6IHN0cmluZztcclxuICAvL+ihqOi+vuW8j+exu+Wei+m7mOiupOaYvuekuuWAvFxyXG4gIHB1YmxpYyBkZWZhdWx0RXhwcmVzc1R5cGVUZXh0O1xyXG5cclxuICBwdWJsaWMgZGlzcGxheVBvcHVwOiBib29sZWFuID0gZmFsc2U7XHJcbiAgLy8gcHVibGljIGRlZmF1bHRPcGVyYXRvcjogeyB0ZXh0OiBzdHJpbmcsIHZhbHVlOiBzdHJpbmcgfSA9IHsgdGV4dDogbnVsbCwgdmFsdWU6IG51bGwgfTtcclxuICAvL+ihqOi+vuW8j+exu+Wei+m7mOiupOaYvuekuuWAvCBcclxuICAvLyBwdWJsaWMgZGVmYXVsdEV4cHJlc3NUeXBlOiB7IHRleHQ6IHN0cmluZywgdmFsdWU6IHN0cmluZyB9ID0geyB0ZXh0OiBudWxsLCB2YWx1ZTogbnVsbCB9O1xyXG4gIC8v6aKE572u6L+H5ruk6KGo6L6+5byP5a6e5L2TXHJcbiAgcHVibGljIGZpbHRlckV4cHJlc3Npb25QcmU6IEZpbHRlckV4cHJlc3Npb247XHJcbiAgLy/mo4Dmn6Xov4fmu6TmnaHku7blrp7kvZPmmK/lkKblrozmlbTmraPnoa5cclxuICBwdWJsaWMgY2hlY2tGaWx0ZXJTdHJ1YzogYm9vbGVhbiA9IHRydWU7XHJcbiAgLy9zY2hlbWHlrZjlgqjnu5PmnoRcclxuICBmaWx0ZXJTY2hlbWFNYXAgPSBuZXcgTWFwPHN0cmluZywgRmlsdGVyRW50aXR5U2NoZW1hPigpO1xyXG4gIGFkYXB0ZXI6IEFkYXB0ZXIgPSBuZXcgQWRhcHRlcigpO1xyXG4gIHRyZWVEYXRhOiBUcmVlTm9kZVtdID0gW107XHJcbiAgY29sdW1uV2lkdGggPSBbXCIzMCVcIiwgXCIyMCVcIiwgXCIyMCVcIiwgXCIyMCVcIiwgXCIxMCVcIl07XHJcbiAgLy/mtojmga/mj5DnpLpcclxuICBwcml2YXRlIG5vdGlmaWVzID0ge307XHJcbiAgY29sczogYW55W107XHJcbiAgLy/liJ3lp4vljJbvvIzlpI3liLZ0cmVlRGF0YeWAvCx0cmVlRGF0YVRlbXDnlKjkuo7ovazmjaLkuLpGaWx0ZXJFeHByZXNzaW9u5a6e5L2TXHJcbiAgbmdPbkNoYW5nZXMoKTogdm9pZCB7XHJcbiAgICAvL+W5tuS4lOagkeW9ouihqOe7keWumueahOaYvuekuueahOWIlyBcclxuICAgIHRoaXMuY29scyA9IFtcclxuICAgICAgeyBmaWVsZDogJ2l0ZW0nLCB0aXRsZTogdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcIkl0ZW1cIiksIHdpZHRoOiAyNzEgfSxcclxuICAgICAgeyBmaWVsZDogJ29wZXJhdG9yJywgdGl0bGU6IHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oXCJPcGVyYXRvclwiKSwgd2lkdGg6IDE5MSB9LFxyXG4gICAgICB7IGZpZWxkOiAnZXhwcmVzc1R5cGUnLCB0aXRsZTogdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcIkV4cHJlc3NUeXBlXCIpLCB3aWR0aDogMTgwIH0sXHJcbiAgICAgIHsgZmllbGQ6ICd2YWx1ZScsIHRpdGxlOiB0aGlzLmxvY2FsZVBpcGUudHJhbnNmb3JtKFwiVmFsdWVcIiksIHdpZHRoOiAyMTQgfSxcclxuICAgICAgeyBmaWVsZDogJ29wZXJhdGlvbicsIHRpdGxlOiB0aGlzLmxvY2FsZVBpcGUudHJhbnNmb3JtKFwiT3BlcmF0aW9uXCIpLCB3aWR0aDogMTMwIH1dO1xyXG5cclxuICAgIHRoaXMucHJvcGVydHlMaXN0SW5uZXIgPSBbXTtcclxuICAgIHRoaXMudHJlZURhdGFUZW1wID0gdGhpcy50cmVlRGF0YTtcclxuICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT095YiG5Ymy57q/5LmLTmV3U2NoZW1hPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAgICAvL+azqOWFpU5ld1NjaGVtYVxyXG4gICAgaWYgKHRoaXMuc2NoZW1hTmFtZSAmJiB0aGlzLm5ld1NjaGVtYSkge1xyXG4gICAgICB0aGlzLmFkZE5ld1NjaGVtYSh0aGlzLnNjaGVtYU5hbWUsIHRoaXMubmV3U2NoZW1hKTtcclxuICAgICAgLy/ms6jlhaVjb1xyXG4gICAgICBpZiAodGhpcy5nc3BDb21tb25PYmplY3QpIHtcclxuICAgICAgICBsZXQgbmV3U2NoZW1hOiBOZXdTY2hlbWE7XHJcbiAgICAgICAgLy/oi6VzY2hlbWFNYXDkuK3lrZjlnKhDT+eahHNjaGVtYVxyXG4gICAgICAgIGlmICgodGhpcy5maWx0ZXJOZXdTY2hlbWFNYXAuZ2V0KFwiQ29tbW9uT2JqZWN0XCIpKSkge1xyXG4gICAgICAgICAgbmV3U2NoZW1hID0gdGhpcy5maWx0ZXJOZXdTY2hlbWFNYXAuZ2V0KFwiQ29tbW9uT2JqZWN0XCIpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBuZXdTY2hlbWEgPSBuZXcgTmV3U2NoZW1hKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8v5bCG5q+P5LiA5LiqQ0/ovazljJbkuLpzY2hlbWHlhoXpg6jnu5PmnoTkuK3nmoRlbnRpdHlUeXBlXHJcbiAgICAgICAgbGV0IGVudGl0eVR5cGVzID0gdGhpcy5hZGFwdGVyLmNvbnZlcnRDT09mTmV3U2NoZW1hKHRoaXMuZ3NwQ29tbW9uT2JqZWN0KTtcclxuICAgICAgICBpZiAoKGVudGl0eVR5cGVzKSAmJiBlbnRpdHlUeXBlcy5sZW5ndGggIT0gMCkge1xyXG4gICAgICAgICAgZW50aXR5VHlwZXMuZm9yRWFjaChlbnRpdHlUeXBlID0+IHtcclxuICAgICAgICAgICAgaWYgKG5ld1NjaGVtYS5lbnRpdHlUeXBlcy5maW5kKHggPT4geC5jb2RlID09IGVudGl0eVR5cGUuY29kZSkgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgIG5ld1NjaGVtYS5lbnRpdHlUeXBlcy5wdXNoKGVudGl0eVR5cGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy/lsIblkIjlubblkI7nmoRzY2hlbWHmlL7lhaXlhoXpg6jkuIrkuIvmloflrp7kvZPkuK1cclxuICAgICAgICB0aGlzLmFkZE5ld1NjaGVtYShcIkNvbW1vbk9iamVjdFwiLCBuZXdTY2hlbWEpO1xyXG4gICAgICB9XHJcbiAgICAgIC8v5re75Yqg5bGe5oCn5YiX6KGoXHJcbiAgICAgIHRoaXMucHJvcGVydHlMaXN0LmZvckVhY2gocHJvcGVydHkgPT4ge1xyXG4gICAgICAgIGxldCBwcm9wZXJ0eUlubmVyID1cclxuICAgICAgICB7XHJcbiAgICAgICAgICB2YWx1ZTogcHJvcGVydHkudmFsdWUsXHJcbiAgICAgICAgICB0ZXh0OiBwcm9wZXJ0eS50ZXh0LFxyXG4gICAgICAgICAgcHJvcGVydHlEYXRhVHlwZTogcHJvcGVydHkucHJvcGVydHlGaWVsZFR5cGUsXHJcbiAgICAgICAgICBwYXJlbnRJdGVtOiBudWxsXHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLnByb3BlcnR5TGlzdElubmVyLnB1c2gocHJvcGVydHlJbm5lcik7XHJcbiAgICAgIH0pO1xyXG4gICAgICBpZiAoKHRoaXMuaW5qZWN0ZWRFbnRpdHkpKSB7XHJcbiAgICAgICAgdGhpcy5wcm9wZXJ0eUFkYXB0ZXIuYWRhcHRlck9mTmV3U2NoZW1hKHRoaXMuaW5qZWN0ZWRFbnRpdHksIHRoaXMuZmlsdGVyTmV3U2NoZW1hTWFwKS5mb3JFYWNoKGVsZW1lbnQgPT4ge1xyXG4gICAgICAgICAgdGhpcy5wcm9wZXJ0eUxpc3RJbm5lci5wdXNoKGVsZW1lbnQpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAvLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT3ml6dTY2hlbWE9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICAgICAgaWYgKHRoaXMuc2NoZW1hTmFtZSAhPSBudWxsICYmICh0aGlzLnNjaGVtYSkpIHtcclxuICAgICAgICB0aGlzLmFkZFNjaGVtYSh0aGlzLnNjaGVtYU5hbWUsIHRoaXMuc2NoZW1hKTtcclxuICAgICAgfVxyXG4gICAgICBpZiAoKHRoaXMuZ3NwQ29tbW9uT2JqZWN0KSkge1xyXG4gICAgICAgIGxldCBzY2hlbWE6IEZpbHRlckVudGl0eVNjaGVtYTtcclxuICAgICAgICAvL+iLpXNjaGVtYU1hcOS4reWtmOWcqENP55qEc2NoZW1hXHJcbiAgICAgICAgaWYgKCh0aGlzLmZpbHRlclNjaGVtYU1hcC5nZXQoXCJDb21tb25PYmplY3RcIikpKSB7XHJcbiAgICAgICAgICBzY2hlbWEgPSB0aGlzLmZpbHRlclNjaGVtYU1hcC5nZXQoXCJDb21tb25PYmplY3RcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2VcclxuICAgICAgICAgIHNjaGVtYSA9IG5ldyBGaWx0ZXJFbnRpdHlTY2hlbWEoKTtcclxuICAgICAgICAvL+Wwhuavj+S4gOS4qkNP6L2s5YyW5Li6c2NoZW1h5YaF6YOo57uT5p6E5Lit55qEZW50aXR5VHlwZVxyXG4gICAgICAgIGxldCBlbnRpdHlUeXBlcyA9IHRoaXMuYWRhcHRlci5jb252ZXJ0Q08odGhpcy5nc3BDb21tb25PYmplY3QpO1xyXG4gICAgICAgIGlmICgoZW50aXR5VHlwZXMpICYmIGVudGl0eVR5cGVzLmxlbmd0aCAhPSAwKSB7XHJcbiAgICAgICAgICBlbnRpdHlUeXBlcy5mb3JFYWNoKGVudGl0eVR5cGUgPT4ge1xyXG4gICAgICAgICAgICBpZiAoc2NoZW1hLmVudGl0eVR5cGVzLmZpbmQoeCA9PiB4Lm5hbWUgPT0gZW50aXR5VHlwZS5uYW1lKSA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgc2NoZW1hLmVudGl0eVR5cGVzLnB1c2goZW50aXR5VHlwZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvL+WwhuWQiOW5tuWQjueahHNjaGVtYeaUvuWFpeWGhemDqOS4iuS4i+aWh+WunuS9k+S4rVxyXG4gICAgICAgIHRoaXMuYWRkU2NoZW1hKFwiQ29tbW9uT2JqZWN0XCIsIHNjaGVtYSk7XHJcbiAgICAgIH1cclxuICAgICAgdGhpcy5wcm9wZXJ0eUxpc3QuZm9yRWFjaChwcm9wZXJ0eSA9PiB7XHJcbiAgICAgICAgbGV0IHByb3BlcnR5SW5uZXIgPVxyXG4gICAgICAgIHtcclxuICAgICAgICAgIHRleHQ6IHByb3BlcnR5LnRleHQsXHJcbiAgICAgICAgICBwcm9wZXJ0eURhdGFUeXBlOiBwcm9wZXJ0eS5wcm9wZXJ0eUZpZWxkVHlwZSxcclxuICAgICAgICAgIHZhbHVlOiBwcm9wZXJ0eS52YWx1ZSxcclxuICAgICAgICAgIHBhcmVudEl0ZW06IG51bGxcclxuICAgICAgICB9O1xyXG4gICAgICAgIHRoaXMucHJvcGVydHlMaXN0SW5uZXIucHVzaChwcm9wZXJ0eUlubmVyKTtcclxuICAgICAgfSk7XHJcbiAgICAgIGlmICgodGhpcy5pbmplY3RlZEVudGl0eSkpIHtcclxuICAgICAgICB0aGlzLnByb3BlcnR5QWRhcHRlci5hZGFwdGVyKHRoaXMuaW5qZWN0ZWRFbnRpdHksIHRoaXMuZmlsdGVyU2NoZW1hTWFwKS5mb3JFYWNoKGVsZW1lbnQgPT4ge1xyXG4gICAgICAgICAgdGhpcy5wcm9wZXJ0eUxpc3RJbm5lci5wdXNoKGVsZW1lbnQpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5kZWZhdWx0RXhwcmVzc1R5cGVUZXh0ID0gdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcIlZhbHVlXCIpO1xyXG4gICAgdGhpcy5kZWZhdWx0U2VsZWN0R3JvdXAgPSB0aGlzLmxvY2FsZVBpcGUudHJhbnNmb3JtKCdBbmQnKTtcclxuICAgIHRoaXMuZGVmYXVsdFNlbGVjdEl0ZW0gPSB0aGlzLmxvY2FsZVBpcGUudHJhbnNmb3JtKFwiU2VsZWN0SXRlbVwiKTtcclxuICAgIHRoaXMuZGVmYXVsdE9wZXJhdG9yVGV4dCA9IHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oXCJHcmVhdGVyVGhhblwiKTtcclxuICAgIHRoaXMubm90aWZpZXMgPSB7XHJcbiAgICAgIDE6IHsgdHlwZTogJ3N1Y2Nlc3MnLCBtc2c6IHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oXCJTdWNjZXNzXCIpIH0sXHJcbiAgICAgIDI6IHsgdHlwZTogJ3dhcm5pbmcnLCBtc2c6IHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oXCJXYXJuaW5nX1NlbGVjdFJlbGF0aW9uXCIpIH0sXHJcbiAgICAgIDM6IHsgdHlwZTogJ3dhcm5pbmcnLCBtc2c6IHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oXCJXYXJuaW5nX0NvbnRhaW5zRmlsdGVyc1wiKSB9LFxyXG4gICAgICA0OiB7IHR5cGU6ICd3YXJuaW5nJywgbXNnOiB0aGlzLmxvY2FsZVBpcGUudHJhbnNmb3JtKFwiV2FybmluZ19Db25kaXRpb25zQ29tcGxldGVcIikgfSxcclxuICAgICAgNTogeyB0eXBlOiAnd2FybmluZycsIG1zZzogdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcIldhcm5pbmdfTnVtZXJpY01hdGNoXCIpIH1cclxuICAgIH07XHJcbiAgICB0aGlzLmV4cHJlc3NUeXBlcyA9IFtcclxuICAgICAgeyBpZDogdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcIlZhbHVlXCIpIH0sXHJcbiAgICAgIHsgaWQ6IHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oXCJFeHByZXNzaW9uXCIpIH1cclxuICAgIF07XHJcbiAgICB0aGlzLnJlbGF0aW9ucyA9IFtcclxuICAgICAgeyBpZDogdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcIkFuZFwiKSB9LFxyXG4gICAgICB7IGlkOiB0aGlzLmxvY2FsZVBpcGUudHJhbnNmb3JtKFwiT3JcIikgfSxcclxuICAgIF07XHJcbiAgICB0aGlzLk51bWJlck9wZXJhdG9ycyA9IFtcclxuICAgICAgeyBpZDogdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcIkdyZWF0ZXJUaGFuXCIpIH0sXHJcbiAgICAgIHsgaWQ6IHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oXCJHcmVhdGVyVGhhbk9yRXF1YWxcIikgfSxcclxuICAgICAgeyBpZDogdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcIkxlc3NUaGFuXCIpIH0sXHJcbiAgICAgIHsgaWQ6IHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oXCJMZXNzVGhhbk9yRXF1YWxcIikgfSxcclxuICAgICAgeyBpZDogdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcIkVxdWFsXCIpIH0sXHJcbiAgICAgIHsgaWQ6IHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oXCJOb3RFcXVhbFwiKSB9LFxyXG4gICAgICB7IGlkOiB0aGlzLmxvY2FsZVBpcGUudHJhbnNmb3JtKFwiSXNOdWxsXCIpIH0sXHJcbiAgICAgIHsgaWQ6IHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oXCJJc05vdE51bGxcIikgfSxcclxuICAgIF07XHJcbiAgICB0aGlzLnN0cmluZ09wZXJhdG9ycyA9IFtcclxuICAgICAgeyBpZDogdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcIkVxdWFsXCIpIH0sXHJcbiAgICAgIHsgaWQ6IHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oXCJOb3RFcXVhbFwiKSB9LFxyXG4gICAgICB7IGlkOiB0aGlzLmxvY2FsZVBpcGUudHJhbnNmb3JtKFwiQ29udGFpbnNcIikgfSxcclxuICAgICAgeyBpZDogdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcIk5vdENvbnRhaW5zXCIpIH0sXHJcbiAgICAgIHsgaWQ6IHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oXCJTdGFydHNXaXRoXCIpIH0sXHJcbiAgICAgIHsgaWQ6IHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oXCJFbmRzV2l0aFwiKSB9LFxyXG4gICAgICB7IGlkOiB0aGlzLmxvY2FsZVBpcGUudHJhbnNmb3JtKFwiTm90U3RhcnRzV2l0aFwiKSB9LFxyXG4gICAgICB7IGlkOiB0aGlzLmxvY2FsZVBpcGUudHJhbnNmb3JtKFwiTm90RW5kc1dpdGhcIikgfSxcclxuICAgICAgeyBpZDogdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcIklzTnVsbFwiKSB9LFxyXG4gICAgICB7IGlkOiB0aGlzLmxvY2FsZVBpcGUudHJhbnNmb3JtKFwiSXNOb3ROdWxsXCIpIH0sXHJcbiAgICBdO1xyXG4gICAgdGhpcy5vcGVyYXRvcnMgPSBbXHJcbiAgICAgIHsgaWQ6IHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oXCJHcmVhdGVyVGhhblwiKSB9LFxyXG4gICAgICB7IGlkOiB0aGlzLmxvY2FsZVBpcGUudHJhbnNmb3JtKFwiR3JlYXRlclRoYW5PckVxdWFsXCIpIH0sXHJcbiAgICAgIHsgaWQ6IHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oXCJMZXNzVGhhblwiKSB9LFxyXG4gICAgICB7IGlkOiB0aGlzLmxvY2FsZVBpcGUudHJhbnNmb3JtKFwiTGVzc1RoYW5PckVxdWFsXCIpIH0sXHJcbiAgICAgIHsgaWQ6IHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oXCJFcXVhbFwiKSB9LFxyXG4gICAgICB7IGlkOiB0aGlzLmxvY2FsZVBpcGUudHJhbnNmb3JtKFwiTm90RXF1YWxcIikgfSxcclxuICAgICAgeyBpZDogdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcIkNvbnRhaW5zXCIpIH0sXHJcbiAgICAgIHsgaWQ6IHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oXCJOb3RDb250YWluc1wiKSB9LFxyXG4gICAgICB7IGlkOiB0aGlzLmxvY2FsZVBpcGUudHJhbnNmb3JtKFwiU3RhcnRzV2l0aFwiKSB9LFxyXG4gICAgICB7IGlkOiB0aGlzLmxvY2FsZVBpcGUudHJhbnNmb3JtKFwiRW5kc1dpdGhcIikgfSxcclxuICAgICAgeyBpZDogdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcIk5vdFN0YXJ0c1dpdGhcIikgfSxcclxuICAgICAgeyBpZDogdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcIk5vdEVuZHNXaXRoXCIpIH0sXHJcbiAgICAgIHsgaWQ6IHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oXCJJc051bGxcIikgfSxcclxuICAgICAgeyBpZDogdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcIklzTm90TnVsbFwiKSB9LFxyXG4gICAgICB7IGlkOiB0aGlzLmxvY2FsZVBpcGUudHJhbnNmb3JtKFwiSW5cIikgfSxcclxuICAgICAgeyBpZDogdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcIk5vdEluXCIpIH0sXHJcbiAgICBdO1xyXG4gICAgdGhpcy5vbkNhbmNlbCgpO1xyXG4gIH1cclxuXHJcbiAgLy89PT09PT09PT09PT09PT09Pea3u+WKoE5ld1NjaGVtYT09PT09PT09PT09PT09PT09PT09PVxyXG4gIC8qKlxyXG4gICAqIEBkZXNjcmlwdGlvbiDmt7vliqBOZXdTY2hlbWHliLBNYXDkuK1cclxuICAgKiBAcGFyYW0gbmFtZSBzY2hlbWHlkI3np7BcclxuICAgKiBAcGFyYW0gZmlsdGVyTmV3U2NoZW1hIOazqOWFpeeahOe7n+S4gOe7k+aehE5ld1NjaGVtYVxyXG4gICAqL1xyXG4gIGFkZE5ld1NjaGVtYShuYW1lOiBzdHJpbmcsIGZpbHRlck5ld1NjaGVtYTogTmV3U2NoZW1hKSB7XHJcbiAgICB0aGlzLmZpbHRlck5ld1NjaGVtYU1hcC5zZXQobmFtZSwgZmlsdGVyTmV3U2NoZW1hKTtcclxuICB9XHJcbiAgLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuICAvKipcclxuICAgKiDmt7vliqBzY2hlbWHlhaVNYXBcclxuICAgKiBAcGFyYW0gbmFtZSBzY2hlbWHlkI1cclxuICAgKiBAcGFyYW0gZmlsdGVyU2NoZW1hIFxyXG4gICAqL1xyXG4gIGFkZFNjaGVtYShuYW1lOiBzdHJpbmcsIGZpbHRlclNjaGVtYTogRmlsdGVyRW50aXR5U2NoZW1hKSB7XHJcbiAgICB0aGlzLmZpbHRlclNjaGVtYU1hcC5zZXQobmFtZSwgZmlsdGVyU2NoZW1hKTtcclxuICB9XHJcbiAgLyoqXHJcbiAgICog5qCR5b2i6KGo5Lit6IqC54K56YCJ5oup6Kem5Y+R5Ye95pWwXHJcbiAgICogQHBhcmFtICRldmVudCDmiYDpgInoioLngrnkv6Hmga9cclxuICAgKi9cclxuICBub2RlU2VsZWN0ZWQoJGV2ZW50KSB7XHJcbiAgICAvL+makOiXj+aOieaJgOacieeahOiKgueCuemAieaLqee8lui+keahhu+8jOWMheaLrOWtkOiKgueCueeahFxyXG4gICAgdGhpcy5oaWRlTm9kZUVkaXRvcih0aGlzLnRyZWVEYXRhKTtcclxuICAgIC8v5bCG5omA6YCJ6IqC54K55q+U6L6D6aG544CB6KGo6L6+5byP57G75Z6L6aG544CB5YC857yW6L6R5qGG5pi+56S677yM5bm25bCG5omA6YCJ5a+55bqU5pWw5o2u6LWL57uZ6buY6K6k6aG56L+b6KGM5pi+56S6XHJcbiAgICB0aGlzLmRlZmF1bHRPcGVyYXRvclRleHQgPSAkZXZlbnQubm9kZS5kYXRhLm9wZXJhdG9yO1xyXG4gICAgdGhpcy5kZWZhdWx0RXhwcmVzc1R5cGVUZXh0ID0gJGV2ZW50Lm5vZGUuZGF0YS5leHByZXNzVHlwZTtcclxuICAgIGlmICgkZXZlbnQubm9kZS5kYXRhLml0ZW0gPT0gdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybSgnQW5kJykgfHwgJGV2ZW50Lm5vZGUuZGF0YS5pdGVtID09IHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oJ09yJykpIHtcclxuICAgICAgdGhpcy5kZWZhdWx0U2VsZWN0R3JvdXAgPSAkZXZlbnQubm9kZS5kYXRhLml0ZW07XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmICgkZXZlbnQubm9kZS5kYXRhLml0ZW0gIT09IHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oXCJTZWxlY3RQcm9wZXJ0eVwiKSkge1xyXG4gICAgICBsZXQgcHJvcGVydGllcyA9IHRoaXMucHJvcGVydHlMaXN0SW5uZXIuZmlsdGVyKHggPT4geC50ZXh0ID09ICRldmVudC5ub2RlLmRhdGEuaXRlbSk7XHJcbiAgICAgIHRoaXMuZGVmYXVsdFNlbGVjdEl0ZW0gPSBwcm9wZXJ0aWVzWzBdLnZhbHVlO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoJGV2ZW50Lm5vZGUuZGF0YS5pdGVtID09IHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oXCJTZWxlY3RQcm9wZXJ0eVwiKSkge1xyXG4gICAgICB0aGlzLmRlZmF1bHRTZWxlY3RJdGVtID0gJGV2ZW50Lm5vZGUuZGF0YS5pdGVtO1xyXG4gICAgfVxyXG4gICAgdGhpcy50cmVlRGF0YSA9IFsuLi50aGlzLnRyZWVEYXRhXTtcclxuICAgICRldmVudC5ub2RlLmRhdGEuZGlzcGxheU9wZXJhdG9yID0gdHJ1ZTtcclxuICAgICRldmVudC5ub2RlLmRhdGEuZGlzcGxheUV4cHJlc3NUeXBlID0gdHJ1ZTtcclxuICAgICRldmVudC5ub2RlLmRhdGEuZGlzcGxheVZhbHVlID0gdHJ1ZTtcclxuICAgICRldmVudC5ub2RlLmRhdGEuZGlzcGxheVNlbGVjdCA9IHRydWU7XHJcbiAgfTtcclxuICAvKipcclxuICAgKiDpmpDol4/mjonmiYDmnInnmoToioLngrnpgInmi6nnvJbovpHmoYbvvIzljIXmi6zlrZDoioLngrnnmoRcclxuICAgKiBAcGFyYW0gdHJlZU5vZGVzIOagkeW9ouihqOe7keWumue7k+aehFxyXG4gICAqL1xyXG4gIGhpZGVOb2RlRWRpdG9yKHRyZWVOb2RlczogVHJlZU5vZGVbXSkge1xyXG4gICAgdHJlZU5vZGVzLmZvckVhY2goZWxlbWVudCA9PiB7XHJcbiAgICAgIGVsZW1lbnQuZGF0YS5kaXNwbGF5T3BlcmF0b3IgPSBmYWxzZTtcclxuICAgICAgZWxlbWVudC5kYXRhLmRpc3BsYXlFeHByZXNzVHlwZSA9IGZhbHNlO1xyXG4gICAgICBlbGVtZW50LmRhdGEuZGlzcGxheVZhbHVlID0gZmFsc2U7XHJcbiAgICAgIGVsZW1lbnQuZGF0YS5kaXNwbGF5U2VsZWN0ID0gZmFsc2U7XHJcbiAgICAgIC8v6Iul5pyJ5a2Q6IqC54K577yM5YiZ5bCG5YW25a2Q6IqC54K555qE57yW6L6R6YCJ5oup5qGG6ZqQ6JePXHJcbiAgICAgIGlmICgoZWxlbWVudC5jaGlsZHJlbikgJiYgZWxlbWVudC5jaGlsZHJlbi5sZW5ndGggIT0gMCkge1xyXG4gICAgICAgIHRoaXMuaGlkZU5vZGVFZGl0b3IoZWxlbWVudC5jaGlsZHJlbik7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH07XHJcbiAgLy/oioLngrnmnKrpgInmi6nlh73mlbBcclxuICBub2RlVW5TZWxlY3QoKSB7XHJcbiAgICBjb25zb2xlLmxvZyhcIm5vZGVVbnNlbGVjdFwiKTtcclxuICB9O1xyXG4gIC8qKipcclxuICAqIOmAieaLqemAu+i+kembhuaXtlxyXG4gICovXHJcbiAgc2VsZWN0R3JvdXAoJGV2ZW50KSB7XHJcbiAgICB0aGlzLnByb3BlcnR5Tm9kZU9wZXJhdGUoJGV2ZW50LCB0aGlzLnRyZWVEYXRhLCBGaWVsZFR5cGUuR3JvdXApO1xyXG4gIH1cclxuICAvKioqXHJcbiAgICog6YCJ5oup6aG55pe2XHJcbiAgICovXHJcbiAgc2VsZWN0SXRlbSgkZXZlbnQpIHtcclxuICAgIHRoaXMucHJvcGVydHlOb2RlT3BlcmF0ZSgkZXZlbnQsIHRoaXMudHJlZURhdGEsIEZpZWxkVHlwZS5JdGVtKTtcclxuICB9XHJcbiAgLyoqXHJcbiAgICog6YCJ5oup5q+U6L6D5pON5L2c56ym5pe2XHJcbiAgICogQHBhcmFtICRldmVudCDmr5TovoPmk43kvZzpobnkv6Hmga9cclxuICAgKi9cclxuICBzZWxlY3RPcGVyYXRvcigkZXZlbnQpIHtcclxuICAgIHRoaXMucHJvcGVydHlOb2RlT3BlcmF0ZSgkZXZlbnQsIHRoaXMudHJlZURhdGEsIEZpZWxkVHlwZS5PcGVyYXRpb24pO1xyXG4gIH07XHJcbiAgLyoqXHJcbiAgICog6YCJ5oup5YC857G75Z6L5pe2XHJcbiAgICogQHBhcmFtICRldmVudCDlgLznsbvlnovpobnkv6Hmga9cclxuICAgKi9cclxuICBzZWxlY3RFeHByZXNzVHlwZSgkZXZlbnQpIHtcclxuICAgIHRoaXMucHJvcGVydHlOb2RlT3BlcmF0ZSgkZXZlbnQsIHRoaXMudHJlZURhdGEsIEZpZWxkVHlwZS5WYWx1ZXR5cGUpO1xyXG4gIH07XHJcbiAgLyoqXHJcbiAgICog6YCJ5oup57uT5p2f5ZCO6ZqQ6JeP6K+l5a2X5q616YCJ5oup5qGGXHJcbiAgICogQHBhcmFtIHRyZWVOb2RlcyDmoJHlvaLooajnu5Hlrprnu5PmnoRcclxuICAgKiBAcGFyYW0gZmllbGRUeXBlIOaJgOmAieWtl+autVxyXG4gICAqL1xyXG4gIGhpZGVGaWVsZEVkaXRvcih0cmVlTm9kZXM6IFRyZWVOb2RlW10sIGZpZWxkVHlwZTogRmllbGRUeXBlKSB7XHJcbiAgICAvL+aJvuWIsOaJgOaTjeS9nOeahOiKgueCue+8jOagueaNruaJgOmAieaLqeeahOWtl+auteWwhuWvueW6lOmAieaLqee8lui+keahhumakOiXj1xyXG4gICAgdHJlZU5vZGVzLmZvckVhY2godHJlZU5vZGUgPT4ge1xyXG4gICAgICBpZiAodGhpcy50dC5pc1NlbGVjdGVkKHRyZWVOb2RlKSkge1xyXG4gICAgICAgIHN3aXRjaCAoZmllbGRUeXBlKSB7XHJcbiAgICAgICAgICBjYXNlIEZpZWxkVHlwZS5JdGVtOiB0cmVlTm9kZS5kYXRhLmRpc3BsYXlTZWxlY3QgPSBmYWxzZTsgYnJlYWs7XHJcbiAgICAgICAgICBjYXNlIEZpZWxkVHlwZS5PcGVyYXRpb246IHRyZWVOb2RlLmRhdGEuZGlzcGxheU9wZXJhdG9yID0gZmFsc2U7IGJyZWFrO1xyXG4gICAgICAgICAgY2FzZSBGaWVsZFR5cGUuVmFsdWV0eXBlOiB0cmVlTm9kZS5kYXRhLmRpc3BsYXlFeHByZXNzVHlwZSA9IGZhbHNlOyBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcbiAgICAgIC8v6Iul5pyq5om+5Yiw5omA6YCJ6IqC54K577yM5YiZ5om+5YW25a2Q6IqC54K5XHJcbiAgICAgIGVsc2UgaWYgKCh0cmVlTm9kZS5jaGlsZHJlbikgJiYgdHJlZU5vZGUuY2hpbGRyZW4ubGVuZ3RoICE9IDApIHtcclxuICAgICAgICB0aGlzLmhpZGVGaWVsZEVkaXRvcih0cmVlTm9kZS5jaGlsZHJlbiwgZmllbGRUeXBlKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIOaJk+W8gOiuoeeul+ihqOi+vuW8j+e8lui+keWZqFxyXG4gICAqL1xyXG4gIG9wZW5FeHByZXNzRWRpdG9yKCkge1xyXG4gICAgbGV0IHRoYXQgPSB0aGlzO1xyXG4gICAgLy/mt7vliqDpooTnva7kuIrkuIvmloflj5jph49cclxuICAgIGlmICh0aGlzLmNvbnRleHRFbnRpdHkgJiYgdGhpcy5jb250ZXh0RW50aXR5Lmxlbmd0aCAhPSAwKSB7XHJcbiAgICAgIHRoaXMuY29udGV4dEVudGl0eS5mb3JFYWNoKGVsZW1lbnQgPT4ge1xyXG4gICAgICAgIHRoaXMuZXhwci5hZGRDb250ZXh0KGVsZW1lbnQpO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuICAgIC8v5re75Yqg6aKE572u6KGo6L6+5byP5paH5pysXHJcbiAgICBsZXQgc2VsZWN0Tm9kZSA9IHRoaXMuaXNTZWxlY3RlZCh0aGlzLnRyZWVEYXRhKTtcclxuICAgIGlmICgoc2VsZWN0Tm9kZSkgJiYgKHNlbGVjdE5vZGUuZGF0YS52YWx1ZSAhPSBcIlwiKSAmJiAoc2VsZWN0Tm9kZS5kYXRhLnZhbHVlICE9IG51bGwpKSB7XHJcbiAgICAgIHRoaXMuZXhwci5hZGRFeHByZXNzaW9uVGV4dChzZWxlY3ROb2RlLmRhdGEudmFsdWUpO1xyXG4gICAgfVxyXG4gICAgZWxzZSB0aGlzLmV4cHIuYWRkRXhwcmVzc2lvblRleHQodGhpcy5leHByZXNzaW9uVGV4dCk7XHJcbiAgICAvL+a3u+WKoOazqOWFpeWunuS9k1xyXG4gICAgdGhpcy5leHByZXNzaW9uSW5qZWN0ZWRFbnRpdGllcy5mb3JFYWNoKGVsZW1lbnQgPT4ge1xyXG4gICAgICB0aGlzLmV4cHIuYWRkSW5qZWN0ZWRFbnRpdHkoZWxlbWVudC5uYW1lLCBlbGVtZW50LnNjaGVtYU5hbWUsIGVsZW1lbnQuaW5qZWN0ZWROYW1lLCBlbGVtZW50LmluamVjdGVkVHlwZSk7XHJcbiAgICB9KTtcclxuICAgIC8v5re75YqgQ0RUXHJcbiAgICB0aGlzLmV4cHIuYWRkQ0RUKHRoaXMuZXhwcmVzc2lvbkNEVCk7XHJcbiAgICAvL+a3u+WKoHNjaGVtYVxyXG4gICAgdGhpcy5leHByZXNzaW9uU2NoZW1hLmZvckVhY2goZWxlbWVudCA9PiB7XHJcbiAgICAgIHRoaXMuZXhwci5hZGRTY2hlbWEoZWxlbWVudC5uYW1lLCBlbGVtZW50LnNjaGVtYSk7XHJcbiAgICB9KTtcclxuICAgIC8v5omT5byA6KGo6L6+5byP57yW6L6R5Zmo5bm26L+U5Zue57yW6L6R57uT5p6cXHJcbiAgICB0aGlzLmV4cHIuYnVpbGRFeHByZXNzaW9uKCkudGhlbihpbmZvID0+IHtcclxuICAgICAgbGV0IGV4cHJlc3NJbmZvOiBhbnkgPSBpbmZvO1xyXG4gICAgICB0aGlzLmRpc3BsYXlFeHByZXNzUmVzdWx0KHRoYXQudHJlZURhdGEsIGV4cHJlc3NJbmZvKTtcclxuICAgIH0pO1xyXG4gIH1cclxuICAvKipcclxuICAgKiDpgInkuK3oioLngrnpgInmi6lcclxuICAgKiBAcGFyYW0gdHJlZU5vZGVzIOWFs+ezu+e7hFxyXG4gICAqL1xyXG4gIGlzU2VsZWN0ZWQodHJlZU5vZGVzOiBUcmVlTm9kZVtdKTogYW55IHtcclxuICAgIGxldCB0cmVlTm9kZTogVHJlZU5vZGU7XHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRyZWVOb2Rlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICBpZiAodGhpcy50dC5pc1NlbGVjdGVkKHRyZWVOb2Rlc1tpXSkpIHtcclxuICAgICAgICB0cmVlTm9kZSA9IHRyZWVOb2Rlc1tpXTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgfVxyXG4gICAgICAvL+iLpeWcqOivpeWxguiKgueCueS4reacquaJvuWIsOaJgOmAieiKgueCue+8jOWImeaJvuWFtuWtkOiKgueCuVxyXG4gICAgICBlbHNlIGlmICgodHJlZU5vZGVzW2ldLmNoaWxkcmVuKSAmJiB0cmVlTm9kZXNbaV0uY2hpbGRyZW4ubGVuZ3RoICE9IDApIHtcclxuICAgICAgICB0cmVlTm9kZSA9IHRoaXMuaXNTZWxlY3RlZCh0cmVlTm9kZXNbaV0uY2hpbGRyZW4pO1xyXG4gICAgICAgIGlmICgodHJlZU5vZGUpKSBicmVhaztcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHRyZWVOb2RlO1xyXG4gIH1cclxuICAvKipcclxuICAgKiDlsIborqHnrpfooajovr7lvI/nu5PmnpzlsZXnpLrliLDlr7nlupToioLngrlcclxuICAgKiBAcGFyYW0gdHJlZU5vZGVzIOagkeihqOe7keWumue7k+aehFxyXG4gICAqIEBwYXJhbSBleHByZXNzSW5mbyDorqHnrpfooajovr7lvI/lvpfliLDnu5PmnpxcclxuICAgKi9cclxuICBkaXNwbGF5RXhwcmVzc1Jlc3VsdCh0cmVlTm9kZXM6IFRyZWVOb2RlW10sIGV4cHJlc3NJbmZvOiBzdHJpbmcpIHtcclxuICAgIC8v5om+5Yiw5omA6YCJ6IqC54K55a6e5L2T77yM5bm25bCG6K6h566X6KGo6L6+5byP5omA5b6X57uT5p6c6LWL57uZ5a+55bqU5bGe5oCn6L+b6KGM5pi+56S6XHJcbiAgICB0cmVlTm9kZXMuZm9yRWFjaCh0cmVlTm9kZSA9PiB7XHJcbiAgICAgIGlmICh0aGlzLnR0LmlzU2VsZWN0ZWQodHJlZU5vZGUpKSB7XHJcbiAgICAgICAgdHJlZU5vZGUuZGF0YS52YWx1ZSA9IGV4cHJlc3NJbmZvO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG4gICAgICAvL+iLpeWcqOivpeWxguiKgueCueS4reacquaJvuWIsOaJgOmAieiKgueCue+8jOWImeaJvuWFtuWtkOiKgueCuVxyXG4gICAgICBlbHNlIGlmICgodHJlZU5vZGUuY2hpbGRyZW4pICYmIHRyZWVOb2RlLmNoaWxkcmVuLmxlbmd0aCAhPSAwKSB7XHJcbiAgICAgICAgdGhpcy5kaXNwbGF5RXhwcmVzc1Jlc3VsdCh0cmVlTm9kZS5jaGlsZHJlbiwgZXhwcmVzc0luZm8pO1xyXG4gICAgICB9XHJcbiAgICAgIC8v6Iul5LuN5pyq5om+5Yiw77yM5YiZ5LiN6L+b6KGM5Lu75L2V5pON5L2cXHJcbiAgICB9KTtcclxuICB9XHJcbiAgLyoqXHJcbiAgICog5YWz57O76YCJ5oup5oyJ6ZKu6YCJ5oup5LqL5Lu2XHJcbiAgICogQHBhcmFtICRldmVudCDpgInmi6nmjInpkq7miYDpgInkv6Hmga9cclxuICAgKi9cclxuICBpdGVtQ2xpY2soJGV2ZW50KSB7XHJcbiAgICAvL+iLpemAieaLqea3u+WKoOWFs+ezu1xyXG4gICAgaWYgKCRldmVudC52YWx1ZSA9PSBSZWxhdGlvblR5cGVFbnVtLkFkZFJlbGF0aW9uKSB7XHJcbiAgICAgIHRoaXMuYWRkTm9kZSh0aGlzLnRyZWVEYXRhLCB0aGlzLmxvY2FsZVBpcGUudHJhbnNmb3JtKCdBbmQnKSwgbnVsbCwgbnVsbCk7XHJcbiAgICB9XHJcbiAgICAvL+iLpemAieaLqea3u+WKoOWxnuaAp1xyXG4gICAgZWxzZSBpZiAoJGV2ZW50LnZhbHVlID09IFJlbGF0aW9uVHlwZUVudW0uQWRkUHJvcGVydHkpIHtcclxuICAgICAgdGhpcy5hZGROb2RlKHRoaXMudHJlZURhdGEsIHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oXCJTZWxlY3RQcm9wZXJ0eVwiKSwgdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcIkVxdWFsXCIpLCB0aGlzLmxvY2FsZVBpcGUudHJhbnNmb3JtKFwiVmFsdWVcIikpO1xyXG4gICAgfVxyXG4gICAgZWxzZSB0aGlzLnByb3BlcnR5Tm9kZU9wZXJhdGUoJGV2ZW50LCB0aGlzLnRyZWVEYXRhLCBGaWVsZFR5cGUuSXRlbSk7XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIOmAieaLqeWxnuaAp+iKgueCueaTjeS9nFxyXG4gICAqIOWvueaWsOa3u+WKoOeahOWxnuaAp+iKgueCuei/m+ihjOmAu+i+keWkhOeQhlxyXG4gICAqIEBwYXJhbSBldmVudCDngrnlh7vkuovku7ZcclxuICAgKiBAcGFyYW0gdHJlZU5vZGVzIOagkeW9ouihqOe7keWumue7k+aehFxyXG4gICAqIEBwYXJhbSBmaWVsZFR5cGUg6IqC54K557G75Z6LXHJcbiAgICovXHJcbiAgcHJvcGVydHlOb2RlT3BlcmF0ZShldmVudDogYW55LCB0cmVlTm9kZXM6IFRyZWVOb2RlW10sIGZpZWxkVHlwZTogRmllbGRUeXBlKSB7XHJcbiAgICB0cmVlTm9kZXMuZm9yRWFjaCh0cmVlbm9kZSA9PiB7XHJcbiAgICAgIGlmICh0aGlzLnR0LmlzU2VsZWN0ZWQodHJlZW5vZGUpKSB7XHJcbiAgICAgICAgLy/lr7nmiYDpgInoioLngrnov5vooYzotYvlgLzmk43kvZxcclxuICAgICAgICBzd2l0Y2ggKGZpZWxkVHlwZSkge1xyXG4gICAgICAgICAgY2FzZSBGaWVsZFR5cGUuR3JvdXA6XHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICB0cmVlbm9kZS5kYXRhLml0ZW0gPSBldmVudC5kYXRhLmlkO1xyXG4gICAgICAgICAgICAgIHRoaXMuZGVmYXVsdFNlbGVjdEdyb3VwID0gZXZlbnQuZGF0YS5pZDtcclxuICAgICAgICAgICAgfSBicmVhaztcclxuICAgICAgICAgIGNhc2UgRmllbGRUeXBlLkl0ZW06XHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICB0cmVlbm9kZS5kYXRhLml0ZW0gPSBldmVudC5kYXRhLnRleHQ7XHJcbiAgICAgICAgICAgICAgdGhpcy5kZWZhdWx0U2VsZWN0SXRlbSA9IGV2ZW50LmRhdGEudmFsdWU7XHJcbiAgICAgICAgICAgICAgdHJlZW5vZGUuZGF0YS5wYXJlbnRJdGVtID0gZXZlbnQuZGF0YS5wYXJlbnRJdGVtO1xyXG4gICAgICAgICAgICAgIHRyZWVub2RlLmRhdGEucHJvcGVydHlEYXRhVHlwZSA9IGV2ZW50LmRhdGEucHJvcGVydHlEYXRhVHlwZTtcclxuICAgICAgICAgICAgfSBicmVhaztcclxuICAgICAgICAgIGNhc2UgRmllbGRUeXBlLk9wZXJhdGlvbjpcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgIHRyZWVub2RlLmRhdGEub3BlcmF0b3IgPSBldmVudC5kYXRhLmlkO1xyXG4gICAgICAgICAgICAgIHRoaXMuZGVmYXVsdE9wZXJhdG9yVGV4dCA9IGV2ZW50LmRhdGEuaWQ7XHJcbiAgICAgICAgICAgIH0gYnJlYWs7XHJcbiAgICAgICAgICBjYXNlIEZpZWxkVHlwZS5WYWx1ZXR5cGU6XHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICB0cmVlbm9kZS5kYXRhLmV4cHJlc3NUeXBlID0gZXZlbnQuZGF0YS5pZDtcclxuICAgICAgICAgICAgICB0aGlzLmRlZmF1bHRFeHByZXNzVHlwZVRleHQgPSBldmVudC5kYXRhLmlkO1xyXG4gICAgICAgICAgICB9IGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuICAgICAgLy/lkKbliJnlr7nlhbblrZDoioLngrnov5vooYzotYvlgLzmk43kvZxcclxuICAgICAgZWxzZSBpZiAoKHRyZWVub2RlLmNoaWxkcmVuKSAmJiB0cmVlbm9kZS5jaGlsZHJlbi5sZW5ndGggIT0gMCkge1xyXG4gICAgICAgIHRoaXMucHJvcGVydHlOb2RlT3BlcmF0ZShldmVudCwgdHJlZW5vZGUuY2hpbGRyZW4sIGZpZWxkVHlwZSk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxuICAvKipcclxuICAgKiDmoLnmja7miYDpgInkuLrlhbPns7vmiJbogIXlsZ7mgKflr7nmlrDoioLngrnov5vooYzliJ3lp4vljJZcclxuICAgKiBAcGFyYW0gdHJlZU5vZGVzIOagkeW9ouihqOe7keWumue7k+aehFxyXG4gICAqIEBwYXJhbSBkZWZhdWx0U3RyaW5nIOaWsOiKgueCueaYvuekuum7mOiupOWAvFxyXG4gICAqL1xyXG4gIGFkZE5vZGUodHJlZU5vZGVzOiBUcmVlTm9kZVtdLCBkZWZhdWx0U3RyaW5nOiBhbnksIGRlZmF1bHRPcGVyYXRvcjogc3RyaW5nLCBkZWZhbHV0RXhwcmVzc1R5cGU6IHN0cmluZykge1xyXG4gICAgdHJlZU5vZGVzLmZvckVhY2godHJlZU5vZGUgPT4ge1xyXG4gICAgICBpZiAodGhpcy50dC5pc1NlbGVjdGVkKHRyZWVOb2RlKSkge1xyXG4gICAgICAgIC8v6Iul5YWz57O75YC85Li656m6XHJcbiAgICAgICAgaWYgKCEodHJlZU5vZGUuZGF0YS5pdGVtKSkge1xyXG4gICAgICAgICAgdGhpcy5ub3RpZnlzZXJ2aWNlW3RoaXMubm90aWZpZXNbJzInXS50eXBlXSh7XHJcbiAgICAgICAgICAgIG1zZzogdGhpcy5ub3RpZmllc1snMiddLm1zZ1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8v6Iul5Li65omA6YCJ55qE5YWz57O76IqC54K577yM5YiZ5Zyo5YW25a2Q6aG56YeM5re75Yqg5paw5a2Q6IqC54K5XHJcbiAgICAgICAgbGV0IG5ld05vZGU6IFRyZWVOb2RlID1cclxuICAgICAgICB7XHJcbiAgICAgICAgICBkYXRhOlxyXG4gICAgICAgICAge1xyXG4gICAgICAgICAgICBcIml0ZW1cIjogZGVmYXVsdFN0cmluZyxcclxuICAgICAgICAgICAgXCJwcm9wZXJ0eURhdGFUeXBlXCI6IG51bGwsICAgIC8v5bGe5oCn5pWw5o2u57G75Z6LXHJcbiAgICAgICAgICAgIFwib3BlcmF0b3JcIjogZGVmYXVsdE9wZXJhdG9yLFxyXG4gICAgICAgICAgICBcImV4cHJlc3NUeXBlXCI6IGRlZmFsdXRFeHByZXNzVHlwZSxcclxuICAgICAgICAgICAgXCJ2YWx1ZVwiOiBudWxsLFxyXG4gICAgICAgICAgICBcImlkXCI6IE1hdGgucmFuZG9tKCksXHJcbiAgICAgICAgICAgIFwicGFyZW50SXRlbVwiOiBudWxsXHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgcGFyZW50OiB0cmVlTm9kZSxcclxuICAgICAgICAgIGNoaWxkcmVuOiBbXSxcclxuICAgICAgICAgIGV4cGFuZGVkOiB0cnVlXHJcbiAgICAgICAgfTtcclxuICAgICAgICAvL+WQkeivpeaJgOmAieiKgueCueeahOWtkOmhuea3u+WKoOaWsOiKgueCuVxyXG4gICAgICAgIHRyZWVOb2RlLmNoaWxkcmVuLnB1c2gobmV3Tm9kZSk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcbiAgICAgIC8v6Iul5pyq5om+5Yiw5omA6YCJ6IqC54K577yM5LiU6K+l6IqC54K55a2Q6aG55LiN5Li656m677yM5YiZ5Zyo5YW25a2Q6aG55Lit5p+l5om+5omA6YCJ6IqC54K5XHJcbiAgICAgIGVsc2UgaWYgKCh0cmVlTm9kZS5jaGlsZHJlbikgJiYgdHJlZU5vZGUuY2hpbGRyZW4ubGVuZ3RoICE9IDApIHtcclxuICAgICAgICB0aGlzLmFkZE5vZGUodHJlZU5vZGUuY2hpbGRyZW4sIGRlZmF1bHRTdHJpbmcsIGRlZmF1bHRPcGVyYXRvciwgZGVmYWx1dEV4cHJlc3NUeXBlKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICB0aGlzLnR0LnVwZGF0ZVNlcmlhbGl6ZWRWYWx1ZSgpO1xyXG4gIH1cclxuICAvKipcclxuICAgKiDliKDpmaToioLngrlcclxuICAgKiBAcGFyYW0gdHJlZU5vZGUg6KaB5Yig6Zmk55qE6IqC54K5XHJcbiAgICovXHJcbiAgZGVsZXRlTm9kZSgkZXZlbnQpIHtcclxuICAgIHRoaXMub25EZWxldGUodGhpcy50cmVlRGF0YSwgJGV2ZW50KTtcclxuICB9XHJcbiAgLyoqXHJcbiAgKiDph43nva4o5aSW6YOo6LCD55SoKVxyXG4gICog6YeN572u5Li65Yid5aeL54q25oCBXHJcbiAgKi9cclxuICBvbkNhbmNlbCgpIHtcclxuICAgIGlmICh0aGlzLmZpbHRlckV4cHJlc3Npb25TdHJpbmcgPT0gbnVsbCB8fCB0aGlzLmZpbHRlckV4cHJlc3Npb25TdHJpbmcgPT0gXCJcIikge1xyXG4gICAgICB0aGlzLnRyZWVEYXRhID0gW1xyXG4gICAgICAgIHtcclxuICAgICAgICAgIGRhdGE6XHJcbiAgICAgICAgICB7XHJcbiAgICAgICAgICAgIFwiaWRcIjogMSwgICAgICAgICAgICAgICAgICAgIC8v5qCR5b2i57uT5p6E5Lit5q+P5Liq6IqC54K555qEaWRcclxuICAgICAgICAgICAgXCJpdGVtXCI6IHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oJ0FuZCcpLCAgICAgICAgICAgICAgIC8v5bGe5oCn6aG5XHJcbiAgICAgICAgICAgIFwicHJvcGVydHlEYXRhVHlwZVwiOiBudWxsLCAgICAvL+WxnuaAp+aVsOaNruexu+Wei1xyXG4gICAgICAgICAgICBcIm9wZXJhdG9yXCI6IG51bGwsICAgICAgICAgICAvL+aTjeS9nOavlOi+g+esplxyXG4gICAgICAgICAgICBcImV4cHJlc3NUeXBlXCI6IG51bGwsICAgICAgICAvL+ihqOi+vuW8j+exu+Wei1xyXG4gICAgICAgICAgICBcInZhbHVlXCI6IG51bGwsICAgICAgICAgICAgICAvL+WAvFxyXG4gICAgICAgICAgICBcImRpc3BsYXlTZWxlY3RcIjogZmFsc2UsICAgICAgLy/pgInmi6npobnmmL7npLpcclxuICAgICAgICAgICAgXCJkaXNwbGF5T3BlcmF0b3JcIjogZmFsc2UsICAgLy/mk43kvZznrKbpobnmmL7npLpcclxuICAgICAgICAgICAgXCJkaXNwbGF5RXhwcmVzc1R5cGVcIjogZmFsc2UsLy/ooajovr7lvI/nsbvlnovmmL7npLpcclxuICAgICAgICAgICAgXCJkaXNwbGF5VmFsdWVcIjogZmFsc2UsICAgICAgLy/lgLzmmL7npLpcclxuICAgICAgICAgICAgXCJwYXJlbnRJdGVtXCI6IG51bGwgICAgICAgICAgIC8v54i26aG5XHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgY2hpbGRyZW46IFtdLCAgICAgICAgICAgICAgICAgLy/lrZDoioLngrnpm4blkIhcclxuICAgICAgICAgIGV4cGFuZGVkOiB0cnVlICAgICAgICAgICAgICAgIC8v5piv5ZCm5bGV5byAXHJcbiAgICAgICAgfVxyXG4gICAgICBdO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgIHRoaXMuZmlsdGVyRXhwcmVzc2lvblByZSA9IEpTT04ucGFyc2UodGhpcy5maWx0ZXJFeHByZXNzaW9uU3RyaW5nKTtcclxuICAgICAgdGhpcy50cmVlRGF0YSA9IFtdO1xyXG4gICAgICB0aGlzLnRyZWVEYXRhLnB1c2godGhpcy51bkNvbnZlcnQodGhpcy5maWx0ZXJFeHByZXNzaW9uUHJlKSk7XHJcbiAgICAgIHRoaXMudHJlZURhdGFbMF0uZGF0YS5pZCA9IDE7XHJcbiAgICB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIOWIoOmZpOiKgueCueWFt+S9k+WunueOsOexu1xyXG4gICAqIEBwYXJhbSB0cmVlTm9kZXMg5qCR5b2i6KGo57uR5a6a57uT5p6EXHJcbiAgICovXHJcbiAgb25EZWxldGUodHJlZU5vZGVzOiBUcmVlTm9kZVtdLCBpZDogbnVtYmVyKSB7XHJcbiAgICB0cmVlTm9kZXMuZm9yRWFjaCh0cmVlTm9kZSA9PiB7XHJcbiAgICAgIGlmICh0cmVlTm9kZS5kYXRhLmlkID09IGlkKSB7XHJcbiAgICAgICAgaWYgKHRyZWVOb2RlLmRhdGEuaWQgPT0gMSkge1xyXG4gICAgICAgICAgdGhpcy50cmVlRGF0YSA9IFtcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgIGRhdGE6XHJcbiAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgXCJpZFwiOiAxLCAgICAgICAgICAgICAgICAgICAgLy/moJHlvaLnu5PmnoTkuK3mr4/kuKroioLngrnnmoRpZFxyXG4gICAgICAgICAgICAgICAgXCJpdGVtXCI6IHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oJ0FuZCcpLCAgICAgICAgICAgICAgLy/lsZ7mgKfpoblcclxuICAgICAgICAgICAgICAgIFwicHJvcGVydHlEYXRhVHlwZVwiOiBudWxsLCAgIC8v5bGe5oCn5pWw5o2u57G75Z6LXHJcbiAgICAgICAgICAgICAgICBcIm9wZXJhdG9yXCI6IG51bGwsICAgICAgICAgICAvL+aTjeS9nOavlOi+g+esplxyXG4gICAgICAgICAgICAgICAgXCJleHByZXNzVHlwZVwiOiBudWxsLCAgICAgICAgLy/ooajovr7lvI/nsbvlnotcclxuICAgICAgICAgICAgICAgIFwidmFsdWVcIjogbnVsbCwgICAgICAgICAgICAgIC8v5YC8XHJcbiAgICAgICAgICAgICAgICBcImRpc3BsYXlTZWxlY3RcIjogZmFsc2UsICAgICAgLy/pgInmi6npobnmmL7npLpcclxuICAgICAgICAgICAgICAgIFwiZGlzcGxheU9wZXJhdG9yXCI6IGZhbHNlLCAgIC8v5pON5L2c56ym6aG55pi+56S6XHJcbiAgICAgICAgICAgICAgICBcImRpc3BsYXlFeHByZXNzVHlwZVwiOiBmYWxzZSwvL+ihqOi+vuW8j+exu+Wei+aYvuekulxyXG4gICAgICAgICAgICAgICAgXCJkaXNwbGF5VmFsdWVcIjogZmFsc2UsICAgICAgLy/lgLzmmL7npLpcclxuICAgICAgICAgICAgICAgIFwicGFyZW50SXRlbVwiOiBudWxsICAgICAgICAgICAvL+eItumhuVxyXG4gICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgY2hpbGRyZW46IFtdLCAgICAgICAgICAgICAgICAgLy/lrZDoioLngrnpm4blkIhcclxuICAgICAgICAgICAgICBleHBhbmRlZDogdHJ1ZSAgICAgICAgICAgICAgICAvL+aYr+WQpuWxleW8gFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICBdO1xyXG4gICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvL+aJgOmAieiKgueCueaJgOWcqOaVsFxyXG4gICAgICAgIGxldCBpbmRleCA9IHRyZWVOb2Rlcy5pbmRleE9mKHRyZWVOb2RlKTtcclxuICAgICAgICAvL+WwhuaJgOmAieiKgueCueWJlOmZpFxyXG4gICAgICAgIHRyZWVOb2Rlcy5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgICB9XHJcbiAgICAgIGVsc2UgaWYgKCh0cmVlTm9kZS5jaGlsZHJlbikgJiYgdHJlZU5vZGUuY2hpbGRyZW4ubGVuZ3RoICE9IDApIHtcclxuICAgICAgICB0cmVlTm9kZS5jaGlsZHJlbiA9IHRoaXMub25EZWxldGUodHJlZU5vZGUuY2hpbGRyZW4sIGlkKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICB0aGlzLnR0LnVwZGF0ZVNlcmlhbGl6ZWRWYWx1ZSgpO1xyXG4gICAgcmV0dXJuIHRyZWVOb2RlcztcclxuICB9XHJcbiAgLyoqKlxyXG4gICog5re75Yqg5p2h5Lu26aG5XHJcbiAgKi9cclxuICBhZGRJdGVtKCkge1xyXG4gICAgdGhpcy5kZWZhdWx0U2VsZWN0SXRlbSA9IHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oXCJTZWxlY3RJdGVtXCIpO1xyXG4gICAgdGhpcy5oaWRlTm9kZUVkaXRvcih0aGlzLnRyZWVEYXRhKTtcclxuICAgIHRoaXMuYWRkTm9kZSh0aGlzLnRyZWVEYXRhLCB0aGlzLmxvY2FsZVBpcGUudHJhbnNmb3JtKFwiU2VsZWN0UHJvcGVydHlcIiksIHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oXCJFcXVhbFwiKSwgdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcIlZhbHVlXCIpKTtcclxuICB9XHJcbiAgLyoqKlxyXG4gICAqIOa3u+WKoOadoeS7tue7hFxyXG4gICAqL1xyXG4gIGFkZEdyb3VwKCkge1xyXG4gICAgdGhpcy5hZGROb2RlKHRoaXMudHJlZURhdGEsIHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oJ0FuZCcpLCBudWxsLCBudWxsKTtcclxuICB9XHJcbiAgLyoqXHJcbiAgICog5bCGdHJlZURhdGHovazljJbkuLpmaWxldHJFeHByZXNzaW9u5a6e5L2TXHJcbiAgICogQHBhcmFtIGZpbHRlckV4cHJlc3Npb24g6L+H5ruk6KGo6L6+5byP5a6e5L2TXHJcbiAgICogQHBhcmFtIHRyZWVOb2RlIOacgOWkluWxgueahHRyZWVOb2RlXHJcbiAgICovXHJcbiAgY29udmVydChmaWx0ZXJFeHByZXNzaW9uOiBGaWx0ZXJFeHByZXNzaW9uLCB0cmVlTm9kZTogVHJlZU5vZGUpOiBGaWx0ZXJFeHByZXNzaW9uIHtcclxuICAgIC8v5b6X5Yiw5pyA5aSW5bGC55qE5YWz57O756ymXHJcbiAgICBmaWx0ZXJFeHByZXNzaW9uLnJlbGF0aW9uT3BlcmF0b3IgPSB0aGlzLnR5cGVNYXRjaCh0cmVlTm9kZS5kYXRhLml0ZW0pO1xyXG4gICAgLy/oi6XlhbblrZDpobnkuI3kuLrnqbpcclxuICAgIGlmICh0cmVlTm9kZS5jaGlsZHJlbi5sZW5ndGggIT0gMCkge1xyXG4gICAgICAvL+WvueWFtuavj+S4gOS4quWtkOmhuei/m+ihjOi9rOWMluaTjeS9nFxyXG4gICAgICB0cmVlTm9kZS5jaGlsZHJlbi5mb3JFYWNoKHRyZWVOb2RlSXRlbSA9PiB7XHJcbiAgICAgICAgLy/oi6XlrZDpobnkuLrlubbkuJTjgIHmiJbogIXvvIzliJnmlrDlu7rlpI3mnYLov4fmu6Tooajovr7lvI9cclxuICAgICAgICBpZiAodGhpcy50eXBlTWF0Y2godHJlZU5vZGVJdGVtLmRhdGEuaXRlbSkgPT0gUmVsYXRpb25UeXBlRW51bS5BbmQgfHxcclxuICAgICAgICAgIHRoaXMudHlwZU1hdGNoKHRyZWVOb2RlSXRlbS5kYXRhLml0ZW0pID09IFJlbGF0aW9uVHlwZUVudW0uT3IpIHtcclxuICAgICAgICAgIGxldCBmaWx0ZXJFeHByZXNzaW9uSXRlbSA9IG5ldyBGaWx0ZXJFeHByZXNzaW9uKCk7XHJcbiAgICAgICAgICBmaWx0ZXJFeHByZXNzaW9uLmV4cHJlc3NJdGVtcy5wdXNoKHRoaXMuY29udmVydChmaWx0ZXJFeHByZXNzaW9uSXRlbSwgdHJlZU5vZGVJdGVtKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8v6Iul5a2Q6aG55Li65bGe5oCn6KGo6L6+5byPXHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICBsZXQgZmlsdGVySXRlbSA9IG5ldyBFeHByZXNzaW9uSXRlbSgpO1xyXG4gICAgICAgICAgbGV0IHByb3BlcnRpZXMgPSB0aGlzLnByb3BlcnR5TGlzdElubmVyLmZpbHRlcih4ID0+IHgudGV4dCA9PSB0cmVlTm9kZUl0ZW0uZGF0YS5pdGVtKTtcclxuICAgICAgICAgIGZpbHRlckl0ZW0ucHJvcGVydHlOYW1lID0gcHJvcGVydGllc1swXS52YWx1ZTtcclxuICAgICAgICAgIGZpbHRlckl0ZW0ucHJvcGVydHlEYXRhVHlwZSA9IHRyZWVOb2RlSXRlbS5kYXRhLnByb3BlcnR5RGF0YVR5cGU7XHJcbiAgICAgICAgICBmaWx0ZXJJdGVtLm9wZXJhdG9yID0gdGhpcy50eXBlTWF0Y2godHJlZU5vZGVJdGVtLmRhdGEub3BlcmF0b3IpO1xyXG4gICAgICAgICAgZmlsdGVySXRlbS5leHByZXNzVHlwZSA9IHRoaXMudHlwZU1hdGNoKHRyZWVOb2RlSXRlbS5kYXRhLmV4cHJlc3NUeXBlKTtcclxuICAgICAgICAgIGZpbHRlckl0ZW0udmFsdWUgPSB0cmVlTm9kZUl0ZW0uZGF0YS52YWx1ZTtcclxuICAgICAgICAgIGZpbHRlckl0ZW0ucGFyZW50SXRlbSA9IHRyZWVOb2RlSXRlbS5kYXRhLnBhcmVudEl0ZW07XHJcbiAgICAgICAgICAvL+iLpeS4uuaVsOWAvOWei+avlOi+g++8jOWImeWwhnZhbHVl5YC85by65Yi26L2s5o2i5Li65pWw5a2XXHJcbiAgICAgICAgICBpZiAoZmlsdGVySXRlbS5leHByZXNzVHlwZSA9PSBFeHByZXNzVHlwZUVudW0uVmFsdWUgJiZcclxuICAgICAgICAgICAgKGZpbHRlckl0ZW0ub3BlcmF0b3IgPT0gQ29tcGFyZVR5cGVFbnVtLkdyZWF0ZXJUaGFuXHJcbiAgICAgICAgICAgICAgfHwgZmlsdGVySXRlbS5vcGVyYXRvciA9PSBDb21wYXJlVHlwZUVudW0uR3JlYXRlclRoYW5PckVxdWFsXHJcbiAgICAgICAgICAgICAgfHwgZmlsdGVySXRlbS5vcGVyYXRvciA9PSBDb21wYXJlVHlwZUVudW0uTGVzc1RoYW5cclxuICAgICAgICAgICAgICB8fCBmaWx0ZXJJdGVtLm9wZXJhdG9yID09IENvbXBhcmVUeXBlRW51bS5MZXNzVGhhbk9yRXF1YWxcclxuICAgICAgICAgICAgKSkge1xyXG4gICAgICAgICAgICBmaWx0ZXJJdGVtLnZhbHVlID0gTnVtYmVyKHRyZWVOb2RlSXRlbS5kYXRhLnZhbHVlKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGlmIChmaWx0ZXJJdGVtLmV4cHJlc3NUeXBlID09IEV4cHJlc3NUeXBlRW51bS5WYWx1ZSAmJlxyXG4gICAgICAgICAgICAoZmlsdGVySXRlbS5vcGVyYXRvciA9PSBDb21wYXJlVHlwZUVudW0uRXF1YWxcclxuICAgICAgICAgICAgICB8fCBmaWx0ZXJJdGVtLm9wZXJhdG9yID09IENvbXBhcmVUeXBlRW51bS5Ob3RFcXVhbCkpIHtcclxuICAgICAgICAgICAgaWYgKGZpbHRlckl0ZW0ucHJvcGVydHlEYXRhVHlwZSA9PSBQcm9wZXJ0eURhdGFUeXBlLkRlY2ltYWxcclxuICAgICAgICAgICAgICB8fCBmaWx0ZXJJdGVtLnByb3BlcnR5RGF0YVR5cGUgPT0gUHJvcGVydHlEYXRhVHlwZS5Eb3VibGVcclxuICAgICAgICAgICAgICB8fCBmaWx0ZXJJdGVtLnByb3BlcnR5RGF0YVR5cGUgPT0gUHJvcGVydHlEYXRhVHlwZS5JbnQxNlxyXG4gICAgICAgICAgICAgIHx8IGZpbHRlckl0ZW0ucHJvcGVydHlEYXRhVHlwZSA9PSBQcm9wZXJ0eURhdGFUeXBlLkludDMyXHJcbiAgICAgICAgICAgICAgfHwgZmlsdGVySXRlbS5wcm9wZXJ0eURhdGFUeXBlID09IFByb3BlcnR5RGF0YVR5cGUuSW50NjQpIHtcclxuICAgICAgICAgICAgICBmaWx0ZXJJdGVtLnZhbHVlID0gTnVtYmVyKHRyZWVOb2RlSXRlbS5kYXRhLnZhbHVlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIC8v5bCG5a2Q6aG55pS+5YWl54i26aG555qE5a2X5q615LitXHJcbiAgICAgICAgICBmaWx0ZXJFeHByZXNzaW9uLmV4cHJlc3NJdGVtcy5wdXNoKGZpbHRlckl0ZW0pO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZmlsdGVyRXhwcmVzc2lvbjtcclxuICB9XHJcbiAgLyoqXHJcbiAgKiBmaWxldHJFeHByZXNzaW9u5Y+N6L2s5YyW5Li6VHJlZU5vZGVcclxuICAqIEBwYXJhbSBmaWx0ZXJFeHByZXNzIOW+hei9rOWMlueahGZpbGV0ckV4cHJlc3Npb27lrp7kvZNcclxuICAqL1xyXG4gIHVuQ29udmVydChmaWx0ZXJFeHByZXNzOiBGaWx0ZXJFeHByZXNzaW9uKTogVHJlZU5vZGUge1xyXG4gICAgbGV0IHRyZWVEYXRhOiBUcmVlTm9kZSA9XHJcbiAgICB7XHJcbiAgICAgIGRhdGE6XHJcbiAgICAgIHtcclxuICAgICAgICBcImlkXCI6IE1hdGgucmFuZG9tKCksICAgICAgICAvL+agkeW9oue7k+aehOS4reavj+S4quiKgueCueeahGlkXHJcbiAgICAgICAgXCJpdGVtXCI6IHRoaXMucmVsYXRpb25UeXBlUmV2ZXJzZU1hdGNoKGZpbHRlckV4cHJlc3MucmVsYXRpb25PcGVyYXRvciksIC8v5bGe5oCn6aG5XHJcbiAgICAgICAgXCJwcm9wZXJ0eURhdGFUeXBlXCI6IG51bGwsICAgIC8v5bGe5oCn5pWw5o2u57G75Z6LXHJcbiAgICAgICAgXCJvcGVyYXRvclwiOiBudWxsLCAgICAgICAgICAgLy/mk43kvZzmr5TovoPnrKZcclxuICAgICAgICBcImV4cHJlc3NUeXBlXCI6IG51bGwsICAgICAgICAvL+ihqOi+vuW8j+exu+Wei1xyXG4gICAgICAgIFwidmFsdWVcIjogbnVsbCwgICAgICAgICAgICAgIC8v5YC8XHJcbiAgICAgICAgXCJkaXNwbGF5U2VsZWN0XCI6IGZhbHNlLCAgICAgIC8v6YCJ5oup6aG55pi+56S6XHJcbiAgICAgICAgXCJkaXNwbGF5T3BlcmF0b3JcIjogZmFsc2UsICAgLy/mk43kvZznrKbpobnmmL7npLpcclxuICAgICAgICBcImRpc3BsYXlFeHByZXNzVHlwZVwiOiBmYWxzZSwvL+ihqOi+vuW8j+exu+Wei+aYvuekulxyXG4gICAgICAgIFwiZGlzcGxheVZhbHVlXCI6IGZhbHNlLCAgICAgIC8v5YC85pi+56S6XHJcbiAgICAgICAgXCJwYXJlbnRJdGVtXCI6IG51bGwgICAgICAgICAgIC8v54i26aG5XHJcbiAgICAgIH0sXHJcbiAgICAgIGNoaWxkcmVuOiBbXSwgICAgICAgICAgICAgICAgIC8v5a2Q6IqC54K56ZuG5ZCIXHJcbiAgICAgIGV4cGFuZGVkOiB0cnVlICAgICAgICAgICAgICAgIC8v5piv5ZCm5bGV5byAXHJcbiAgICB9O1xyXG4gICAgLy/lr7nkuo7mr4/kuIDkuKrlrZDpoblcclxuICAgIGZpbHRlckV4cHJlc3MuZXhwcmVzc0l0ZW1zLmZvckVhY2goZXhwcmVzc0l0ZW0gPT4ge1xyXG4gICAgICBsZXQgZmlsdGVyRXhwcmVzc0l0ZW0gPSBleHByZXNzSXRlbSBhcyBGaWx0ZXJFeHByZXNzaW9uO1xyXG4gICAgICAvL+iLpeWtkOmhueS4ukZpbHRlckV4cHJlc3Npb27nsbvlnovvvIzotYvlgLxcclxuICAgICAgaWYgKChmaWx0ZXJFeHByZXNzSXRlbS5yZWxhdGlvbk9wZXJhdG9yID09IFJlbGF0aW9uVHlwZUVudW0uQW5kIHx8IGZpbHRlckV4cHJlc3NJdGVtLnJlbGF0aW9uT3BlcmF0b3IgPT0gUmVsYXRpb25UeXBlRW51bS5PcikpIHtcclxuICAgICAgICBsZXQgdHJlZURhdGFDaGlsZCA9IHRoaXMudW5Db252ZXJ0KGZpbHRlckV4cHJlc3NJdGVtKTtcclxuICAgICAgICB0cmVlRGF0YUNoaWxkLmRhdGEucGFyZW50ID0gdHJlZURhdGE7Ly/mt7vliqDniLboioLngrlcclxuICAgICAgICB0cmVlRGF0YS5jaGlsZHJlbi5wdXNoKHRyZWVEYXRhQ2hpbGQpO1xyXG4gICAgICB9XHJcbiAgICAgIGVsc2UgLy/oi6XlrZDpobnkuLpFeHByZXNzaW9uSXRlbeexu+Wei++8jOi1i+WAvFxyXG4gICAgICB7XHJcbiAgICAgICAgbGV0IGV4cHJlc3Npb25JdGVtID0gZXhwcmVzc0l0ZW0gYXMgRXhwcmVzc2lvbkl0ZW07XHJcbiAgICAgICAgbGV0IHByb3BlcnRpZXMgPSB0aGlzLnByb3BlcnR5TGlzdElubmVyLmZpbHRlcih4ID0+IHgudmFsdWUgPT0gZXhwcmVzc2lvbkl0ZW0ucHJvcGVydHlOYW1lKTtcclxuICAgICAgICBsZXQgdHJlZURhdGFDaGlsZDogVHJlZU5vZGUgPVxyXG4gICAgICAgIHtcclxuICAgICAgICAgIGRhdGE6XHJcbiAgICAgICAgICB7XHJcbiAgICAgICAgICAgIFwiaWRcIjogTWF0aC5yYW5kb20oKSwgICAgICAgICAgICAgICAgICAgICAgLy/moJHlvaLnu5PmnoTkuK3mr4/kuKroioLngrnnmoRpZFxyXG4gICAgICAgICAgICBcIml0ZW1cIjogcHJvcGVydGllc1swXS50ZXh0LCAgICAgICAgICAgICAgIC8v5bGe5oCn6aG5XHJcbiAgICAgICAgICAgIFwicHJvcGVydHlEYXRhVHlwZVwiOiBleHByZXNzaW9uSXRlbS5wcm9wZXJ0eURhdGFUeXBlLFxyXG4gICAgICAgICAgICBcIm9wZXJhdG9yXCI6IHRoaXMub3BlcmF0b3JSZXZlcnNlTWF0Y2goZXhwcmVzc2lvbkl0ZW0ub3BlcmF0b3IpLCAgICAgIC8v5pON5L2c5q+U6L6D56ymXHJcbiAgICAgICAgICAgIFwiZXhwcmVzc1R5cGVcIjogdGhpcy5leHByZXNzVHlwZVJldmVyc2VNYXRjaChleHByZXNzaW9uSXRlbS5leHByZXNzVHlwZSksLy/ooajovr7lvI/nsbvlnotcclxuICAgICAgICAgICAgXCJ2YWx1ZVwiOiBleHByZXNzaW9uSXRlbS52YWx1ZSwgICAgICAgICAgICAvL+WAvFxyXG4gICAgICAgICAgICBcInBhcmVudEl0ZW1cIjogZXhwcmVzc2lvbkl0ZW0ucGFyZW50SXRlbSAgICAvL+eItumhuVxyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIHBhcmVudDogdHJlZURhdGEsICAgICAgICAgICAgIC8v5re75Yqg54i26IqC54K5XHJcbiAgICAgICAgICBjaGlsZHJlbjogW10sICAgICAgICAgICAgICAgICAvL+WtkOiKgueCuembhuWQiFxyXG4gICAgICAgICAgZXhwYW5kZWQ6IHRydWUgICAgICAgICAgICAgICAgLy/mmK/lkKblsZXlvIBcclxuICAgICAgICB9XHJcbiAgICAgICAgdHJlZURhdGEuY2hpbGRyZW4ucHVzaCh0cmVlRGF0YUNoaWxkKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gdHJlZURhdGE7XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIOexu+Wei+S/oeaBr+WMuemFjVxyXG4gICAqIEBwYXJhbSB0eXBlIOexu+Wei1xyXG4gICAqL1xyXG4gIHR5cGVNYXRjaCh0eXBlOiBhbnkpOiBhbnkge1xyXG4gICAgc3dpdGNoICh0eXBlKSB7XHJcbiAgICAgIGNhc2UgdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcIkFuZFwiKTogcmV0dXJuIFJlbGF0aW9uVHlwZUVudW0uQW5kO1xyXG4gICAgICBjYXNlIHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oXCJPclwiKTogcmV0dXJuIFJlbGF0aW9uVHlwZUVudW0uT3I7XHJcbiAgICAgIGNhc2UgdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcIkdyZWF0ZXJUaGFuXCIpOiByZXR1cm4gQ29tcGFyZVR5cGVFbnVtLkdyZWF0ZXJUaGFuO1xyXG4gICAgICBjYXNlIHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oXCJHcmVhdGVyVGhhbk9yRXF1YWxcIik6IHJldHVybiBDb21wYXJlVHlwZUVudW0uR3JlYXRlclRoYW5PckVxdWFsO1xyXG4gICAgICBjYXNlIHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oXCJMZXNzVGhhblwiKTogcmV0dXJuIENvbXBhcmVUeXBlRW51bS5MZXNzVGhhbjtcclxuICAgICAgY2FzZSB0aGlzLmxvY2FsZVBpcGUudHJhbnNmb3JtKFwiTGVzc1RoYW5PckVxdWFsXCIpOiByZXR1cm4gQ29tcGFyZVR5cGVFbnVtLkxlc3NUaGFuT3JFcXVhbDtcclxuICAgICAgY2FzZSB0aGlzLmxvY2FsZVBpcGUudHJhbnNmb3JtKFwiRXF1YWxcIik6IHJldHVybiBDb21wYXJlVHlwZUVudW0uRXF1YWw7XHJcbiAgICAgIGNhc2UgdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcIk5vdEVxdWFsXCIpOiByZXR1cm4gQ29tcGFyZVR5cGVFbnVtLk5vdEVxdWFsO1xyXG4gICAgICBjYXNlIHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oXCJDb250YWluc1wiKTogcmV0dXJuIENvbXBhcmVUeXBlRW51bS5Db250YWlucztcclxuICAgICAgY2FzZSB0aGlzLmxvY2FsZVBpcGUudHJhbnNmb3JtKFwiTm90Q29udGFpbnNcIik6IHJldHVybiBDb21wYXJlVHlwZUVudW0uTm90Q29udGFpbnM7XHJcbiAgICAgIGNhc2UgdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcIlN0YXJ0c1dpdGhcIik6IHJldHVybiBDb21wYXJlVHlwZUVudW0uU3RhcnRzV2l0aDtcclxuICAgICAgY2FzZSB0aGlzLmxvY2FsZVBpcGUudHJhbnNmb3JtKFwiRW5kc1dpdGhcIik6IHJldHVybiBDb21wYXJlVHlwZUVudW0uRW5kc1dpdGg7XHJcbiAgICAgIGNhc2UgdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcIk5vdFN0YXJ0c1dpdGhcIik6IHJldHVybiBDb21wYXJlVHlwZUVudW0uTm90U3RhcnRzV2l0aDtcclxuICAgICAgY2FzZSB0aGlzLmxvY2FsZVBpcGUudHJhbnNmb3JtKFwiTm90RW5kc1dpdGhcIik6IHJldHVybiBDb21wYXJlVHlwZUVudW0uTm90RW5kc1dpdGg7XHJcbiAgICAgIGNhc2UgdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcIklzTnVsbFwiKTogcmV0dXJuIENvbXBhcmVUeXBlRW51bS5Jc051bGw7XHJcbiAgICAgIGNhc2UgdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcIklzTm90TnVsbFwiKTogcmV0dXJuIENvbXBhcmVUeXBlRW51bS5Jc05vdE51bGw7XHJcbiAgICAgIGNhc2UgdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcIkluXCIpOiByZXR1cm4gQ29tcGFyZVR5cGVFbnVtLkluO1xyXG4gICAgICBjYXNlIHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oXCJOb3RJblwiKTogcmV0dXJuIENvbXBhcmVUeXBlRW51bS5Ob3RJbjtcclxuICAgICAgY2FzZSB0aGlzLmxvY2FsZVBpcGUudHJhbnNmb3JtKFwiVmFsdWVcIik6IHJldHVybiBFeHByZXNzVHlwZUVudW0uVmFsdWU7XHJcbiAgICAgIGNhc2UgdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcIkV4cHJlc3Npb25cIik6IHJldHVybiBFeHByZXNzVHlwZUVudW0uRXhwcmVzc2lvbjtcclxuICAgIH1cclxuICB9XHJcbiAgcmVsYXRpb25UeXBlUmV2ZXJzZU1hdGNoKHR5cGU6IFJlbGF0aW9uVHlwZUVudW0pOiBzdHJpbmcge1xyXG4gICAgc3dpdGNoICh0eXBlKSB7XHJcbiAgICAgIGNhc2UgUmVsYXRpb25UeXBlRW51bS5BbmQ6IHJldHVybiB0aGlzLmxvY2FsZVBpcGUudHJhbnNmb3JtKCdBbmQnKTtcclxuICAgICAgY2FzZSBSZWxhdGlvblR5cGVFbnVtLk9yOiByZXR1cm4gdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybSgnT3InKTtcclxuICAgIH1cclxuICB9XHJcbiAgb3BlcmF0b3JSZXZlcnNlTWF0Y2godHlwZTogQ29tcGFyZVR5cGVFbnVtKTogc3RyaW5nIHtcclxuICAgIHN3aXRjaCAodHlwZSkge1xyXG4gICAgICBjYXNlIENvbXBhcmVUeXBlRW51bS5HcmVhdGVyVGhhbjogcmV0dXJuIHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oXCJHcmVhdGVyVGhhblwiKTtcclxuICAgICAgY2FzZSBDb21wYXJlVHlwZUVudW0uR3JlYXRlclRoYW5PckVxdWFsOiByZXR1cm4gdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcIkdyZWF0ZXJUaGFuT3JFcXVhbFwiKTtcclxuICAgICAgY2FzZSBDb21wYXJlVHlwZUVudW0uTGVzc1RoYW46IHJldHVybiB0aGlzLmxvY2FsZVBpcGUudHJhbnNmb3JtKFwiTGVzc1RoYW5cIik7XHJcbiAgICAgIGNhc2UgQ29tcGFyZVR5cGVFbnVtLkxlc3NUaGFuT3JFcXVhbDogcmV0dXJuIHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oXCJMZXNzVGhhbk9yRXF1YWxcIik7XHJcbiAgICAgIGNhc2UgQ29tcGFyZVR5cGVFbnVtLkVxdWFsOiByZXR1cm4gdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcIkVxdWFsXCIpO1xyXG4gICAgICBjYXNlIENvbXBhcmVUeXBlRW51bS5Ob3RFcXVhbDogcmV0dXJuIHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oXCJOb3RFcXVhbFwiKTtcclxuICAgICAgY2FzZSBDb21wYXJlVHlwZUVudW0uQ29udGFpbnM6IHJldHVybiB0aGlzLmxvY2FsZVBpcGUudHJhbnNmb3JtKFwiQ29udGFpbnNcIik7XHJcbiAgICAgIGNhc2UgQ29tcGFyZVR5cGVFbnVtLk5vdENvbnRhaW5zOiByZXR1cm4gdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcIk5vdENvbnRhaW5zXCIpO1xyXG4gICAgICBjYXNlIENvbXBhcmVUeXBlRW51bS5TdGFydHNXaXRoOiByZXR1cm4gdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcIlN0YXJ0c1dpdGhcIik7XHJcbiAgICAgIGNhc2UgQ29tcGFyZVR5cGVFbnVtLkVuZHNXaXRoOiByZXR1cm4gdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcIkVuZHNXaXRoXCIpO1xyXG4gICAgICBjYXNlIENvbXBhcmVUeXBlRW51bS5Ob3RTdGFydHNXaXRoOiByZXR1cm4gdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcIk5vdFN0YXJ0c1dpdGhcIik7XHJcbiAgICAgIGNhc2UgQ29tcGFyZVR5cGVFbnVtLk5vdEVuZHNXaXRoOiByZXR1cm4gdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcIk5vdEVuZHNXaXRoXCIpO1xyXG4gICAgICBjYXNlIENvbXBhcmVUeXBlRW51bS5Jc051bGw6IHJldHVybiB0aGlzLmxvY2FsZVBpcGUudHJhbnNmb3JtKFwiSXNOdWxsXCIpO1xyXG4gICAgICBjYXNlIENvbXBhcmVUeXBlRW51bS5Jc05vdE51bGw6IHJldHVybiB0aGlzLmxvY2FsZVBpcGUudHJhbnNmb3JtKFwiSXNOb3ROdWxsXCIpO1xyXG4gICAgICBjYXNlIENvbXBhcmVUeXBlRW51bS5JbjogcmV0dXJuIHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oXCJJblwiKTtcclxuICAgICAgY2FzZSBDb21wYXJlVHlwZUVudW0uTm90SW46IHJldHVybiB0aGlzLmxvY2FsZVBpcGUudHJhbnNmb3JtKFwiTm90SW5cIik7XHJcbiAgICB9XHJcbiAgfVxyXG4gIGV4cHJlc3NUeXBlUmV2ZXJzZU1hdGNoKHR5cGU6IEV4cHJlc3NUeXBlRW51bSk6IHN0cmluZyB7XHJcbiAgICBzd2l0Y2ggKHR5cGUpIHtcclxuICAgICAgY2FzZSBFeHByZXNzVHlwZUVudW0uVmFsdWU6IHJldHVybiB0aGlzLmxvY2FsZVBpcGUudHJhbnNmb3JtKFwiVmFsdWVcIik7XHJcbiAgICAgIGNhc2UgRXhwcmVzc1R5cGVFbnVtLkV4cHJlc3Npb246IHJldHVybiB0aGlzLmxvY2FsZVBpcGUudHJhbnNmb3JtKCdFeHByZXNzaW9uJyk7XHJcbiAgICB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIOi/h+a7pOihqOi+vuW8j+iOt+WPlijlpJbpg6josIPnlKgpXHJcbiAgICovXHJcbiAgZ2V0RmlsdGVyRXhwcmVzc2lvbigpOiBzdHJpbmcge1xyXG4gICAgdGhpcy50cmVlRGF0YVRlbXAgPSB0aGlzLnRyZWVEYXRhO1xyXG4gICAgbGV0IGlzTnVsbCA9IHRydWU7XHJcbiAgICBsZXQgaXNNYXRjaCA9IHRydWU7XHJcbiAgICBpZiAodGhpcy5jaGVja051bGwodGhpcy50cmVlRGF0YVRlbXBbMF0uY2hpbGRyZW4sIGlzTnVsbCkgJiYgdGhpcy5jaGVja01hdGNoKHRoaXMudHJlZURhdGFUZW1wWzBdLmNoaWxkcmVuLCBpc01hdGNoKSkge1xyXG4gICAgICB0aGlzLmZpbHRlckV4cHJlc3Npb24gPSBuZXcgRmlsdGVyRXhwcmVzc2lvbigpO1xyXG4gICAgICAvL+agueaNruagkeW9ouaVsOaNrue7k+aehOi9rOWMluS4uui/h+a7pOihqOi+vuW8j+WunuS9k1xyXG4gICAgICB0aGlzLmNvbnZlcnQodGhpcy5maWx0ZXJFeHByZXNzaW9uLCB0aGlzLnRyZWVEYXRhVGVtcFswXSk7XHJcbiAgICAgIC8v6Iul5Y+q5YyF5ZCr5YWz57O76aG55YiZ6L+U5Zue56m6XHJcbiAgICAgIGlmICh0aGlzLmZpbHRlckV4cHJlc3Npb24uZXhwcmVzc0l0ZW1zLmxlbmd0aCA9PSAwKSByZXR1cm4gbnVsbDtcclxuICAgICAgZWxzZSB7XHJcbiAgICAgICAgaWYgKHRoaXMuZmlsdGVyRXhwcmVzc2lvbi5yZWxhdGlvbk9wZXJhdG9yID09IG51bGwpIHtcclxuICAgICAgICAgIHRoaXMuZmlsdGVyRXhwcmVzc2lvbi5yZWxhdGlvbk9wZXJhdG9yID0gUmVsYXRpb25UeXBlRW51bS5PcjtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHRoaXMuZmlsdGVyRXhwcmVzc2lvbik7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcbiAgLy/pgJLlvZLmo4Dmn6XmlbTkuKrov4fmu6Tooajovr7lvI/mmK/lkKbmnInmvI/loavnmoTpoblcclxuICBwdWJsaWMgY2hlY2tOdWxsKHRyZWVOb2RlczogVHJlZU5vZGVbXSwgaXNOdWxsOiBib29sZWFuKTogYm9vbGVhbiB7XHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRyZWVOb2Rlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICBpZiAodHJlZU5vZGVzW2ldLmRhdGEuaXRlbSA9PSB0aGlzLmxvY2FsZVBpcGUudHJhbnNmb3JtKCdBbmQnKSB8fCB0cmVlTm9kZXNbaV0uZGF0YS5pdGVtID09IHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oJ09yJykpIHtcclxuICAgICAgICBpZiAoISh0cmVlTm9kZXNbaV0uY2hpbGRyZW4pIHx8IHRyZWVOb2Rlc1tpXS5jaGlsZHJlbi5sZW5ndGggPT0gMCkge1xyXG4gICAgICAgICAgdGhpcy5jaGVja0ZpbHRlclN0cnVjID0gZmFsc2U7XHJcbiAgICAgICAgICB0aGlzLm5vdGlmeXNlcnZpY2VbdGhpcy5ub3RpZmllc1snMyddLnR5cGVdKHtcclxuICAgICAgICAgICAgbXNnOiB0aGlzLm5vdGlmaWVzWyczJ10ubXNnXHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICAgIGlzTnVsbCA9IGZhbHNlO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKCF0aGlzLmNoZWNrTnVsbCh0cmVlTm9kZXNbaV0uY2hpbGRyZW4sIGlzTnVsbCkpIHtcclxuICAgICAgICAgIGlzTnVsbCA9IGZhbHNlO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIGVsc2Uge1xyXG4gICAgICAgIGlmICghKHRyZWVOb2Rlc1tpXS5kYXRhLml0ZW0pIHx8IHRyZWVOb2Rlc1tpXS5kYXRhLml0ZW0gPT0gdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcIlNlbGVjdFByb3BlcnR5XCIpXHJcbiAgICAgICAgICB8fCAhKHRyZWVOb2Rlc1tpXS5kYXRhLm9wZXJhdG9yKSB8fCAhKHRyZWVOb2Rlc1tpXS5kYXRhLmV4cHJlc3NUeXBlKVxyXG4gICAgICAgICAgfHwgISh0cmVlTm9kZXNbaV0uZGF0YS52YWx1ZSkpIHtcclxuICAgICAgICAgIHRoaXMubm90aWZ5c2VydmljZVt0aGlzLm5vdGlmaWVzWyc0J10udHlwZV0oe1xyXG4gICAgICAgICAgICBtc2c6IHRoaXMubm90aWZpZXNbJzQnXS5tc2dcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgdGhpcy5jaGVja0ZpbHRlclN0cnVjID0gZmFsc2U7XHJcbiAgICAgICAgICBpc051bGwgPSBmYWxzZTtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGlzTnVsbDtcclxuICB9XHJcbiAgb25mb2N1cygpIHtcclxuICAgIHRoaXMuZGlzcGxheVBvcHVwID0gdHJ1ZTtcclxuICB9XHJcbiAgb25ibHVyKCkge1xyXG4gICAgdGhpcy5kaXNwbGF5UG9wdXAgPSBmYWxzZTtcclxuICB9XHJcbiAgY2hlY2tNYXRjaCh0cmVlTm9kZXM6IFRyZWVOb2RlW10sIGlzTWF0Y2g6IGJvb2xlYW4pIHtcclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdHJlZU5vZGVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIGlmICh0cmVlTm9kZXNbaV0uZGF0YS5pdGVtICE9IHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oJ0FuZCcpICYmIHRyZWVOb2Rlc1tpXS5kYXRhLml0ZW0gIT0gdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybSgnT3InKSkge1xyXG4gICAgICAgIGlmICh0cmVlTm9kZXNbaV0uZGF0YS5leHByZXNzVHlwZSA9PSB0aGlzLmxvY2FsZVBpcGUudHJhbnNmb3JtKFwiVmFsdWVcIikpIHtcclxuICAgICAgICAgIGlmICgodHJlZU5vZGVzW2ldLmRhdGEucHJvcGVydHlEYXRhVHlwZSA9PSBQcm9wZXJ0eURhdGFUeXBlLkludDE2IHx8IHRyZWVOb2Rlc1tpXS5kYXRhLnByb3BlcnR5RGF0YVR5cGUgPT0gUHJvcGVydHlEYXRhVHlwZS5JbnQzMiB8fCB0cmVlTm9kZXNbaV0uZGF0YS5wcm9wZXJ0eURhdGFUeXBlID09IFByb3BlcnR5RGF0YVR5cGUuSW50NjQpICYmIGlzTmFOKHRyZWVOb2Rlc1tpXS5kYXRhLnZhbHVlKSkge1xyXG4gICAgICAgICAgICB0aGlzLm5vdGlmeXNlcnZpY2VbdGhpcy5ub3RpZmllc1snNSddLnR5cGVdKHtcclxuICAgICAgICAgICAgICBtc2c6IHRoaXMubm90aWZpZXNbJzUnXS5tc2dcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGlzTWF0Y2ggPSBmYWxzZTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIGVsc2UgaXNNYXRjaCA9IHRoaXMuY2hlY2tNYXRjaCh0cmVlTm9kZXNbaV0uY2hpbGRyZW4sIGlzTWF0Y2gpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGlzTWF0Y2g7XHJcbiAgfVxyXG59XHJcblxyXG4iXX0=